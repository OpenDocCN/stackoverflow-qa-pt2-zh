# StackOverflow 问答 15377000-15377999

# makefile - 如何保持额外的空间不破坏这个 Makefile？

> ID：15377001
> 
> 赞同：3
> 
> 时间：2013-03-13T04:18:33.490
> 
> 标签：makefile, gnu-make

我习惯于 GNU make 忽略变量中的额外空格，所以我对以下内容感到惊讶。

```
## Makefile ##
PKGS = FOO BAR

FOO_DIR = foo
BAR_DIR = bar 
#            ^-------- Extra space at end of line

include $(foreach pkg, $(PKGS), $($(pkg)_DIR)/comp.mk)

default:
    @echo "Hello world!" 
```

如果 之后有空格`BAR_DIR = bar`，则 make 失败并出现以下错误：

```
'make: *** bar: Is a directory.  Stop.' 
```

我想我明白这里发生了什么 - 包含文件路径中有一个空格，所以 make 认为我想包含一个目录，因此出现错误。如果空间被删除，并且文件`foo/comp.mk`存在`bar/comp.mk`，make 将运行而不会出错。

我的问题是，是否有某种方法可以防止导致此故障的额外空间？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T06:28:34.127

您可以使用`strip`来防止这种情况：

```
include $(foreach pkg, $(PKGS), $(strip $($(pkg)_DIR))/comp.mk) 
```

出于类似的原因，在将参数传递给函数（包括`foreach`.

# regex - 等价于 chomp 的正则表达式

> ID：15377003
> 
> 赞同：5
> 
> 时间：2013-03-13T04:18:43.353
> 
> 标签：regex, perl

我在某个地方看到，我们可以使用一些正则表达式来完成相同的任务，而不是在 perl 中使用 chomp。谁能告诉正则表达式会在 perl 中遇到 chomp

提前致谢

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-13T04:30:48.110

什么是从其参数字符串的末尾`chomp`删除值（或者如果没有参数）。所以等效的正则表达式将是：`$/``$_`

```
s#\Q$/\E\z##; 
```

请注意使用其他分隔符 for`s///`以避免`$/`变量出现问题。

但是，使用这样的正则表达式没有任何好处，相反。在我看来，这是一个纯粹的学术问题。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-13T05:37:22.837

您想要的 1000 次中至少有 995 次（除了制表符分隔数据的显着例外）

```
s/\s+\z//; 
```

代替

```
chomp; 
```

它处理尾随空格（不应该很重要）、Windows 行尾和 unix 行尾。

# c# - 如何在 C# 中对 if-else 语句进行单元测试？

> ID：15377009
> 
> 赞同：2
> 
> 时间：2013-03-13T04:19:31.727
> 
> 标签：c#, unit-testing, visual-studio-2012

我想测试 if-else 语句是否被执行，“if”块从字典/缓存中返回项目并返回输出，而“else”块在缓存中添加输入并返回输出

带有方法 Apply 的 IModifyBehavior 接口

我有这个课程：

```
namespace Decorator
{
    using System;

    /// <summary>
    /// Reverse Behavior
    /// </summary>
    public class ReverseBehavior : IModifyBehavior
    {
        /// <summary>
        /// Applies the specified value.
        /// </summary>
        /// <param name="value">The value.</param>
        /// <returns>result</returns>
        public string Apply(string value)
        {
            var result = string.Empty;
            if (value != null)
            {
                char[] letters = value.ToCharArray();
                Array.Reverse(letters);
                result = new string(letters); 
            }

            return result; 
        }
    }
}

using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Text;
    using System.Threading.Tasks;

    /// <summary>
    /// Caching Decorator
    /// </summary>
    public class CachingDecorator : IModifyBehavior
    {

        /// <summary>
        /// The behavior
        /// </summary>
        private IModifyBehavior behavior;

        public CachingDecorator(IModifyBehavior behavior)
        {
            if (behavior == null)
            {
                throw new ArgumentNullException("behavior");
            }

            this.behavior = behavior;
        }

        private static Dictionary<string, string> cache = new Dictionary<string, string>();

        /// <summary>
        /// Applies the specified value.
        /// </summary>
        /// <param name="value">The value.</param>
        /// <returns>
        /// value
        /// </returns>
        public string Apply(string value)
        {
            ////Key = original value, Value = Reversed
            var result = string.Empty;

            //cache.Add("randel", "lednar");
            if(cache.ContainsKey(value))
            {
                result = cache[value];
            }
            else
            {
                result = this.behavior.Apply(value);// = "reversed";
                ////Note:Add(key,value)
                cache.Add(value, result); 
            }
            return result;
        }
    }
} 
```

这是我当前的测试代码，这些代码能够通过测试，但我不确定我的实现是否正确：

```
[TestClass]
    public class CachingDecoratorTest
    {
        private IModifyBehavior behavior;

        [TestInitialize]
        public void Setup()
        {
            this.behavior = new CachingDecorator(new ReverseBehavior());
        }

        [TestCleanup]
        public void Teardown()
        {
            this.behavior = null;
        }

        [TestMethod]
        public void Apply_Cached_ReturnsReversedCachedValue()
        {
            string actual = "randel";           
            ////store it inside the cache
            string cached = this.behavior.Apply(actual);

            ////call the function again, to test the else block statement
            ////Implement DRY principle next time
            string expected = this.behavior.Apply(actual);
            Assert.IsTrue(cached.Equals(expected));

        }

        [TestMethod]
        public void Apply_NotCached_ReturnsReversed()
        {
            string actual = "randel";
            string expected = "lednar";
            Assert.AreEqual(expected, this.behavior.Apply(actual));
        }

    } 
```

先生/女士，您的回答会很有帮助。谢谢++

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T04:29:54.960

最好的方法是使用模拟框架（例如 Moq）来创建一个假`IModifyBehaviour`对象。

然后`Apply_NotCached_ReturnsReversed`测试将验证`Apply`模拟对象的方法是否被调用以生成结果。测试将`Apply_Cached_ReturnsReversedCachedValue`检查结果是否在不调用`Apply`模拟对象的方法的情况下返回。

实际上，您对缓存案例的测试实际上并不能证明结果来自缓存。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T04:55:25.060

首先，我实际上会单独测试这两个类别，作为适当的单位。下面我写了我将如何测试这些。为此，我使用 NUnit 和[Moq](https://code.google.com/p/moq/)（在 Nuget 中可用）作为模拟框架。但是您可以更改测试属性并改用 MSTest。

对于反向行为，我同时涵盖了常规应用和应用于空文本：

```
using System;
using System.Linq;
using Decorator;
using NUnit.Framework;

namespace StackOverflow.Tests.HowToTest
{
    [TestFixture]
    public class ReverseBehaviorTest
    {
        [Test]
        public void Apply()
        {
            const string someText = "someText";
            var target = new ReverseBehavior();
            var result = target.Apply(someText);
            Assert.AreEqual(someText.Reverse(), result);
        }
        [Test]
        public void Apply_WhenNull()
        {
            var target = new ReverseBehavior();
            var result = target.Apply(null);
            Assert.AreEqual(String.Empty, result);
        }
    }
} 
```

对于 CachingDecorator，构造函数的异常抛出，应用缓存和不应用：

```
using System;
using Decorator;
using Moq;
using NUnit.Framework;

namespace StackOverflow.Tests.HowToTest
{
    [TestFixture]
    public class CachingDecoratorTest
    {
        [Test]
        public void Constructor()
        {
            Assert.Throws(typeof(ArgumentNullException), () => new CachingDecorator(null));
        }

        [Test]
        public void Apply_NotCached()
        {
            var internalBehaviorMock = new Mock<IModifyBehavior>();
            internalBehaviorMock.Setup(x => x.Apply(It.IsAny<string>())).Returns<string>(y => y);
            const string someText = "someText";
            var target = new CachingDecorator(internalBehaviorMock.Object);
            target.Apply(someText);
            internalBehaviorMock.Verify(x => x.Apply(It.IsAny<string>()), Times.Once());
        }

        [Test]
        public void Apply_Cached()
        {
            var internalBehaviorMock = new Mock<IModifyBehavior>();
            internalBehaviorMock.Setup(x => x.Apply(It.IsAny<string>())).Returns<string>(y => y);
            const string someOtherText = "someOtherText";
            var target = new CachingDecorator(internalBehaviorMock.Object);
            target.Apply(someOtherText);
            target.Apply(someOtherText);
            internalBehaviorMock.Verify(x => x.Apply(It.IsAny<string>()), Times.Once());
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T06:11:01.893

只需尝试在测试用例中设置缓存字典值并在调用 Apply(string value) 方法后检查计数。

```
` 
       public void Apply_Cached_ReturnsReversedCachedValue()
        {
            Dictionary<string, string> cacheDict = new Dictionary<string, string>() { { "sometext", "txetemos" } };

            string str = "sometext";

            int dictionaryCountBeforeApply = cacheDict.Count();

            //set value to static cache field using reflection, here dictionary count is 1
            Type type = typeof(CachingDecorator);
            FieldInfo cacheFieldInfo = type.GetField("cache", BindingFlags.NonPublic | BindingFlags.Static);
            cacheFieldInfo.SetValue(decorator, cacheDict);

            string result = decorator.Apply(str);

            int dictionaryCountAfterApply = cacheDict.Count();

            Assert.AreEqual(dictionaryCountAfterApply, dictionaryCountBeforeApply);
        }

        public void Apply_NotCached_ReturnsReversed()
        {
            Dictionary<string, string> cacheDict = new Dictionary<string, string>() { };
            string str = "sometext";

            int dictionaryCountBeforeApply = cacheDict.Count();

            //set value to static cache field using reflection, here dictionary count is 0
            Type type = typeof(CachingDecorator);
            FieldInfo cacheFieldInfo = type.GetField("cache", BindingFlags.NonPublic | BindingFlags.Static);
            cacheFieldInfo.SetValue(decorator, cacheDict);

            string result = decorator.Apply(str);

            int dictionaryCountAfterApply = cacheDict.Count();

            Assert.AreNotEqual(dictionaryCountAfterApply, dictionaryCountBeforeApply);
        }` 
```

# java - 布局显得非常小而暗淡

> ID：15377011
> 
> 赞同：0
> 
> 时间：2013-03-13T04:19:40.733
> 
> 标签：java, android, xml, android-layout

我使用教程制作了一个 GridLayout 计算器，效果很好，但是由于某种原因，当我在模拟器中运行它时，它看起来褪色了，并且停留在中心而不是填满屏幕。会影响这一点的 XML 如下：

```
<GridLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_gravity="center"
android:background="#000000"
android:columnCount="4" >
</GridLayout> 
```

这是模拟器中的布局（4.2 上的 Galaxy Nexus 模拟器）：

![布局问题](../Images/4340cb92a47deffa14ca609add712bee.png)

黑框顶部有一个带有“3 2 1”的文本框，以说明它看起来有多褪色。按钮在设计器中是亮灰色的。

# ios - 在目标c中一次多个异步请求

> ID：15377013
> 
> 赞同：2
> 
> 时间：2013-03-13T04:19:57.510
> 
> 标签：ios, objective-c, image, asynchronous, dispatch-async

我同时从网络服务器下载多个图像，我的问题是它们相互混淆。

```
dispatch_async(dispatch_get_global_queue(0,0), ^{
    NSData * data = [[NSData alloc] initWithContentsOfURL:[NSURL URLWithString:@"website.com"]];
    if (data == nil)
        return;
    dispatch_async(dispatch_get_main_queue(), ^{
        cell.imageView.image = [UIImage imageWithData:data];
    });
}); 
```

我的代码来自：[Getting Image from URL Objective](https://stackoverflow.com/questions/933099/getting-image-from-url-objective-c) C。

我该如何解决？？还有什么办法可以加快下载速度？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-13T04:27:37.533

您可以使用“AsyncImageView”类文件，它将同步加载图像并在图像加载时显示活动指示器

AsyncImageView 是一个类文件，它将在其中为每次调用创建连接，当图像数据下载完成时，它将返回 imageview 的图像。如果图像已经在缓存中，则只返回图像而不创建连接。

您可以从以下链接下载“AsyncImageView”类文件：- [https://www.dropbox.com/s/peazwjvky9fsjd7/Archive.zip](https://www.dropbox.com/s/peazwjvky9fsjd7/Archive.zip)

在 .m 文件中导入 AsyncImageView 类

```
 #import "AsyncImageView.h" 
```

在 indexpath 方法的 tableview 单元格中

```
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
     static NSString *CellIdentifier = @"SimpleTableCell";
     UITableViewCell *cell = [[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];

     UIImageView *imageView = [[UIImageView alloc]initWithFrame:CGRectMake(X, y, width, height)];

     NSString *imageURL = [NSString stringWithFormat: @"www.xyz.image.png"];
     AsyncImageView *async = [[AsyncImageView alloc]initWithFrame:CGRectMake(0, 0, width, height)];
    [async loadImageFromURL:[NSURL URLWithString:imageURL]];
    [imageView addSubview:async];
    [cell addSubview:imageView];
    return cell;
} 
```

试试这个你的问题会解决的。

# c++ - UDP 数据包传输和 C++

> ID：15377014
> 
> 赞同：1
> 
> 时间：2013-03-13T04:19:59.047
> 
> 标签：c++, udp

您好 Stackoverflow 社区，

在尝试使用 C++ 实现 UDP 传输时，我有以下问题：

1）我正在尝试构建一个函数，该函数将接收带有“/location 7 5”之类的字符串的简单UDP数据包，并解析出浮点值7和5并将其存储到数组中。有没有关于如何做到这一点的例子？

2) 在尝试使用来自[https://code.google.com/p/oscpack/](https://code.google.com/p/oscpack/)的 OSCPacket 数小时后，但我无法克服此处显示的任何编译器错误：http: [//i.tylian.net/untitloxo.png](http://i.tylian.net/untitloxo.png)

正如错误消息所示，错误来自 OSCPack 而不是我的代码。有没有人熟悉这个或者有更好的方法来实现 UDP 数据包传输？

3) 我只使用 ws32.dll 库，但除此之外我还应该使用其他库吗？

随意回答部分或全部多部分问题，如果需要更多详细信息，请告诉我！另外，我的目标平台是 Windows 7 64 位。

非常感谢您的宝贵时间！

以下是我使用 OSCPacket 完成的一些代码：

包括：

```
#include <iostream>
#include <cstring>

#if defined(__BORLANDC__) // workaround for BCB4 release build intrinsics bug
 namespace std {using ::__strcmp__; }  // avoid error: E2316 '__strcmp__' is not a member of 'std'.
#endif

#include "osc/OscReceivedElements.h"
#include "osc/OscPacketListener.h"
#include "ip/UdpSocket.h"

#define PORT 7000 
```

数据包监听器

```
float* coordinateFromOSC = (float*) malloc (2);
class PacketListener : public osc::OscPacketListener {
protected:

    virtual void ProcessMessage( const osc::ReceivedMessage& m, 
                const IpEndpointName& remoteEndpoint )
    {
        (void) remoteEndpoint; // suppress unused parameter warning

        try{
            //the return value, array of 2, [0] for xValue, [1] for yValue
    //will be stored at global variable coordinateFromOSC

    // Trying to parse the packet. osc::OsckPacketListener
            if( strcmp( m.AddressPattern(), "/location" ) == 0 ){
                // Streaming input as argument
                osc::ReceivedMessageArgumentStream args = m.ArgumentStream();
                float xValue, yValue;
                args >> xValue >> yValue >> osc::EndMessage;

            coordinateFromOSC[0] = xValue;
            coordinateFromOSC[1] = yValue;
            }

        }catch( osc::Exception& e ){
            // any parsing errors such as unexpected argument types, or 
            // missing arguments get thrown as exceptions.
            std::cout << "Invalid format: "
                << m.AddressPattern() << ": " << e.what() << "\n";
        }
    }
}; 
```

最后在我需要存储值的函数中

```
PacketListener listener;
UdpListeningReceiveSocket s(IpEndpointName( IpEndpointName::ANY_ADDRESS, PORT ), &listener ); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T04:45:09.460

如果您当前的库仍然存在问题，您可能需要查看 Boost 和 ASIO 库。

此页面[UDP Echo Server Example](http://www.boost.org/doc/libs/1_53_0/doc/html/boost_asio/example/echo/async_udp_echo_server.cpp)可能会帮助您入门。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T04:45:18.243

要在 C++ 中解析字符串，请尝试使用流运算符（旁白：您的输入是否真的需要是字符串？）：

```
std::string str("/location 7 5");
std::stringstream ss(str);
std::string cmd;
float x, y;
ss >> cmd >> x >> y; 
```

对于 OSCPacket，您可能没有正确设置项目设置。为什么不直接使用 Winsock？

有关使用 Winsock 的示例，请参阅[http://www.adp-gmbh.ch/win/misc/sockets.html](http://www.adp-gmbh.ch/win/misc/sockets.html)

# java - 多个准备好的语句或批处理

> ID：15377019
> 
> 赞同：3
> 
> 时间：2013-03-13T04:20:29.180
> 
> 标签：java, mysql, sql, jdbc

我的问题很简单，在标题中。谷歌和堆栈溢出什么也没给我，所以我想是时候问一个问题了。

我目前正在为用户注册到我的网站时进行 sql 查询。我总是只使用准备好的语句 b/c 可调用语句中的额外编码，并且常规语句的性能影响都是关闭的。然而，这个查询让我想到了可能替代我之前的一种适合所有（准备好的语句）方式的方法。

此查询总共有 4 次到数据库的往返行程。步骤是

1.  将用户插入数据库，在结果集中取回生成的密钥（他们的用户 ID）。
2.  获取用户 ID 并在相册表中插入一行。取回生成的密钥（专辑 ID）
3.  获取专辑 ID 并在图像表中插入一行。取回生成的密钥（图像 id）
4.  获取图像 id 并使用图像 id 更新用户表的当前默认列

**旁白：**对于任何对我在插入后取回密钥的方式感兴趣的人`Statement.RETURN_GENERATED_KEYS`，您可以在此处阅读一篇很棒的文章 - [IBM 文章](https://www.ibm.com/developerworks/java/library/j-jdbcnew/)

所以无论如何我想知道使用4个往返（但可缓存）准备好的语句是否可以，或者我是否应该使用批处理（但不可缓存）语句？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T04:33:25.823

JDBC 批处理语句允许您在插入或更新的行之间不存在数据依赖关系的情况下减少往返次数。您的方案不符合此条件，因为更改依赖于彼此的数据：语句 2 到 4 必须从之前的语句 1 到 3 中选择一个 ID。

另一方面，四次往返肯定不是最理想的。这就是为什么像您这样的场景需要存储过程：您可以将所有这些逻辑放入 a`create_user_proc`中，并将用户 ID 返回给调用者。从 1 到 4 的所有插入都将发生在您的 SQL 代码中，让您可以管理 SQL 中的 ID 依赖关系。您将能够在一次往返中调用此存储过程，这肯定会更快，尤其是在您每分钟处理多个用户注册的情况下。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T04:50:43.640

我建议编写一个存储过程来执行所有这四个操作，并一次将所有必需的参数从应用程序（到存储过程）传递到存储过程中，您可以获得结果集的生成键

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T05:15:28.723

为了提高性能并减少数据库往返，我同意 dasblinkenlight 和 ajduke - 存储过程将实现这一点。

但是，这真的是您应用程序的性能瓶颈吗？

*   用户多久在您的网站上注册一次？
*   *将此与从这些表中读取*信息的频率进行比较（每页访问一次？）

如果这些表中的信息被读取的次数比通过新注册写入的次数多数千倍，那么使用存储过程方法可能不值得。

为什么您可能不想使用存储过程并坚持使用准备好的语句：

*   不像使用准备好的语句那样可移植（每个数据库都有不同的语法/语言，一些更简单的数据库甚至不支持它们）
*   不适用于 JPA* 等 ORM 解决方案 - 您提到直接使用 PreparedStatements，因此这可能不适用于您，至少现在不适用，但如果您以后想在将来使用 ORM，它可能会限制您

*JPA 2.1 可能实际上[支持存储过程](https://blogs.oracle.com/arungupta/entry/jpa_2_1_early_draft)，但在撰写本文时它还没有发布。

# java - 用于测试目的的 Java JRE 内置映像

> ID：15377020
> 
> 赞同：3
> 
> 时间：2013-03-13T04:20:30.297
> 
> 标签：java, image

JRE 中是否有可用于测试目的的图像？我正在寻找 Image、BufferImage 或 Icon 对象。我确实在我当前正在使用的 JRE 路径中找到了一个 PNG 文件，但我想看看其他人已经找到或正在使用什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T13:16:20.847

试试下面的。此代码将生成任何分辨率的测试图像。它不使用内置图像，但我认为这对您最有效。根据需要进行调整以满足您的需求。

```
static private Image createTestImage(final int resolution) {
    final Image image = new BufferedImage(resolution, resolution, BufferedImage.TYPE_INT_ARGB);
    final Graphics g = image.getGraphics();
    final int points = (resolution * 72) / 96;
    g.setColor(new Color(.42f, .42f, 1.0f, .5242f));
    g.setFont(new Font("Dialog", Font.BOLD, points));
    g.drawString("!X!", 2, points);
    g.setColor(Color.BLACK);
    g.drawOval(0, 0, image.getWidth(null) - 1, image.getHeight(null) - 1);
    g.drawOval(11, 11, image.getWidth(null) - 23, image.getHeight(null) - 23);
    g.drawOval(22, 22, image.getWidth(null) - 45, image.getHeight(null) - 45);
    return image;
} 
```

使用

```
Image image = createTestImage(1024); 
```

生成高分辨率图像，如：

![在此处输入图像描述](../Images/71eb841a372b4962ddfc14efd0e02f9d.png)

使用

```
Image image = createTestImage(64); 
```

生成 lo res 图像，如：

![在此处输入图像描述](../Images/6a7edffb253a45d07fab0b6a24bab3e1.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T02:56:33.957

根据操作系统的不同，JRE 捆绑了许多图像文件...

`C:\Program Files\Java\jre7\lib\images\cursors`在 Windows 上有图像，在 Linux 上我发现：

```
denis@laptop:~/Programs/jdk1.7.0_11/jre$ find | grep png
./lib/deploy/mixcode_s.png
./lib/images/icons/sun-java.png
./lib/images/icons/sun-java_HighContrast.png
./lib/images/icons/sun-java_HighContrastInverse.png
./lib/images/icons/sun-java_LowContrast.png
... (many others) ... 
```

# java - 服务器兼容配置文件路径参考

> ID：15377021
> 
> 赞同：1
> 
> 时间：2013-03-13T04:20:43.877
> 
> 标签：java, jakarta-ee

我有一个包含 DB URL 等 DB 详细信息的配置文件（让我们将其保留为 ABC.xml）。我将它放在 server.xml（Tomcat）中并使用 JNDI 查找来访问它。因为我必须在server.xml，我想让它与 windows 和 linux server 兼容。由于该文件被放置在应用程序之外，我必须在 server.xml 中将其引用为 D:/ABC.xml(for windows) 或 ..\ ..\..\config\（适用于Linux）。有没有办法引用这个ABC.xml路径，这样我就不必在不同的服务器上使用不同的格式。

请注意，这个 ABC.xml 是在 Tomcat 的 server.xml 中引用的，所以我猜它不能放在应用程序中，可以称为相对路径。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T11:44:49.023

像映射在 server.xml 中的 tomcat-user.xml

```
<Resource name="UserDatabase" auth="Container"
              type="org.apache.catalina.UserDatabase"
              description="User database that can be updated and saved"
              factory="org.apache.catalina.users.MemoryUserDatabaseFactory"
              pathname="conf/tomcat-users.xml" /> 
```

并修改

修改 context.xml 文件 在 /conf/context.xml 之间，为 JNDI 资源列表中的每个条目添加以下内容： " name="jdbc/" type="oracle.jdbc.pool.OracleDataSource"/> 示例

```
<WatchedResource>WEB-INF/web.xml</WatchedResource>
 <WatchedResource>META-INF/ABC.xml</WatchedResource> 
```

# java - 如何使用从 ArrayList 的字符串在 ArrayList 中生成 ArrayLists 的函数从 ArrayList 生成 ArrayLists 的 ArrayList

> ID：15377026
> 
> 赞同：-4
> 
> 时间：2013-03-13T04:21:22.363
> 
> 标签：java, methods, multidimensional-array, arraylist, anagram

我有一个java程序

*   读取文本文件，
*   把所有的话都放在一个`ArrayList`
*   将所有单词放入一个`ArrayList`, 小写字母并删除标点符号

我现在想再做两件事。

*   一个创建 String ArrayList 字符串的所有字谜的函数，
*   一个 ArrayList 的 ArrayList，它将每个字谜和原始字符串存储到 ArrayList 中的每个 ArrayList 中。

所以我想开发一个函数，它将一个字符串从一个 ArrayList 插入到一个新的 ArrayList 中，并将其全部变成字谜并将它们放入一个 ArrayList 中，然后将该 ArrayList 放入正在读取旧 ArrayList 的 ArrayList 中。

看起来像这样的东西：

```
List<String> arLists = new ArrayList<String>(); //makes new array list
    for(String arList : words) //takes values from old array list
        ArrayList<String> anaLists = new ArrayList<String>(); //makes a new array list
        arLists.add(anag(anaLists,arList,"")); //uses a function that makes an 
```

我想做一个有点像这样的函数，但是我在这里所做的......并没有真正起作用。

```
public void anag(ArrayList<String> anaLists, String s1, String s2){
    if(s1.length() == 0){
        return anaLists;
    }
    for(int i = 0 ; i < s1.length() ; i++){ //only runs for string length
        String anaList = anag(s1.substring(0, i) + s1.substring(i+1, s1.length()), s1.charAt(i) + s2);
        anaLists.add(anaList);
        }
    } 
```

这方面的一些指导会很棒。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T04:40:23.310

经过一番挣扎，我试图理解你的问题，这是我的答案。如果我错了，请纠正我。首先，您可以使用一个数组列表进行所有预处理，例如更改大小写、删除语法。现在到实际功能：

```
public void getAnag(String baseStr, ArrayList<String> finalAnagList)
{
    ArrayList<String> anagList = new ArrayList<String>();
    anagList = getAnagrams(baseStr); // getAnagrams is a support function to get the anagrams
    anagList.add(baseStr); // I suppose you want to add the base string also to the anagrams list
    finalAnagList.add(anagList);
} 
```

您在程序中的调用函数将是：

```
public void testAnagrams()
{
    ArrayList<String> words = getWordsFromFile("/home/list.txt"); // gets the words from the file
    ArrayList<String> anagramsList = new ArrayList<String>();
    foreach(String word : words)
    {
         getAnag(word, anagramsList);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T04:45:15.727

要从字符串生成所有字谜，请按照以下步骤操作：

第 1 步：使用字符串`replace`删除空格，并确保已删除所有标点符号和大写字母。

第 2 步：编写此函数`f(string s, string anagram, ArrayList<String> array)`并使用以下命令调用它`s = yourstring, anagram = "", array = new ArrayList<String>()`：

```
If s is empty, add anagram to array and return
For each letter l in s:
    newanagram = anagram + l
    news = s with l taken out of it (e.g. make a substring of everything before l in s and everything after l in s, and concatenate them together)
    call f(news, anagram, array) 
```

这将探索递归自调用的“树”，并且在“树”的每个“叶子”处，所有字母的每个可能排列都将添加到数组中。当它完成时，n*n-1*n-2*n-3... aka n 阶乘条目将在数组中，这就是你知道你在正确的轨道上的方式:)

如果您需要数组列表中每个字符串的字谜，只需在 for 循环中调用它即可。

# windows - windows下如何判断两个地址是否在同一个页面？

> ID：15377035
> 
> 赞同：1
> 
> 时间：2013-03-13T04:22:04.687
> 
> 标签：windows

具体来说，如果我在不同的时间读取ESP寄存器指向的地址（包含栈顶地址），如何判断这两个地址是否在同一页？我相信这些地址是物理地址而不是虚拟地址，对吧？这两个读数可能来自不同的进程。Windows是如何进行页面分配的？

补充：也许我明白了。那么如果我们使用一个 4KB 的页面，这是否意味着从 0x....XXXX0000 到 0x....XXXX1000 的地址在同一个页面中？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-13T04:58:52.467

你几乎是对的。这个想法是合理的，但范围是`0x????0000`to `0x????0FFF`。如果您要使用`DWORD_PTR`，或者`ULONG_PTR`您也可以屏蔽低 12 位`(ptr & 0xFFF)`并比较您得到的两个指针值。`ULONG_PTR`并且`DWORD_PTR`应该在 x64 和 x86 上都可以工作。

请记住，您的系统可能正在使用大页面。所以请确保分别使用[`GetNativeSystemInfo`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms724340.aspx)和/或`GetSystemInfo`。您正在寻找结构中的`dwAllocationGranularity`值`SYSTEM_INFO`。

*所有这一切仅*在同一进程内存空间内是正确的。

关于物理地址的问题：**不**，我重复**不**，用户模式进程可以看到实际的物理地址，除非某些驱动程序或内核本身搞砸了。

假设您谈论的是 DLL 中的地址，您无法对从 Vista 及其 ASLR 功能开始的共享页面做出正确的假设。

# java - Java中的EDT，它是如何工作的，它的行为是否像普通线程（单线程或多线程）？

> ID：15377041
> 
> 赞同：2
> 
> 时间：2013-03-13T04:23:21.613
> 
> 标签：java, multithreading, swing, listener, event-dispatch-thread

这是一个初学者问题：我正在开发一个使用 TCP 传递消息的小型聊天程序，我有一个简单的 GUI 来显示它，我已经完成了程序，但是 EDT 让我很困惑......

1.  EDT 的行为是否像“扩展线程”一样？我想这是一个单线程，因为我需要工作线程来处理繁重的逻辑，但显然我不能做 Thread.sleep/yield （我有一个**while 循环**不断从输出流中读取消息并附加到 jTextArea，运行在**main Thread**中，我试图通过设置一个 false 标志来终止**while 循环**，然后屈服于**main Thread**，但没有奏效。）

2.  我不太确定监听器是如何工作的，如果我必须编写它......我可能会为每个监听器启动一个线程，一旦我听到一些东西我就会处理它......但这绝对是错误的，因为它会使 EDT 成为**多线程**（很多耳朵），但在此过程中是单线程（只有 1 个大脑**）**

这一定是我缺乏知识！！因为在我的脑海中，我就是不知道如何**触发一个事件**……你按下了一个按钮，java突然知道了？我一定错过了什么。

我第一次发问题，希望清楚

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T04:29:32.527

事件调度线程与 Java 中的`Thread`任何其他线程一样。`Thread`

它负责调度所有事件和重绘请求（以及其他一些事情，比如运行同步`Runnable`）。您采取的任何阻止 EDT 的操作都会阻止它处理这些事件，使其看起来像您的应用程序已挂起......因为基本上它已经挂起。

与任何 UI 组件的所有交互都必须在 EDT 的上下文中执行。这意味着您永远不应该尝试从`Thread`除 EDT 之外的任何其他地方创建或更新任何 UI 组件。

如果您需要执行任何阻塞或耗时的操作，您应该使用另一个线程。 `SwingWorker`是一个很好的起点。

向组件添加侦听器不会创建更多线程。EDT 会将事件通知发回给听众（这是一个非常简短的解释，但这个概念是合理的），这是你永远不应该阻止 EDT 的原因之一。

如何引发事件取决于组件。例如，鼠标和键盘事件将由依赖于操作系统/实现的代码的本机部分发布到事件队列（据我了解，来自`ToolKit`，但我可能是错的）。

`actionPerformed`引发的事件`JButtons`可以直接针对侦听器执行（不通过事件队列调度），而是在 EDT 内执行。这由任意数量的事件引发，但通常由鼠标单击和特殊键事件引起。收到这些`JButton`通知是因为它在事件队列中注册了自己。

虽然了解工作原理是一个很好的目标，但您需要问自己，这重要吗（在短期内）？你知道电是如何从电灯开关到电灯的吗？还是您只关心它的作用？

了解使用它所需的规则（不要将尖锐的物体插入电源点），并在您变得更加自信时让理解来。

# php - 如何使用 curl 发布数据并根据发布的数据获取响应

> ID：15377042
> 
> 赞同：5
> 
> 时间：2013-03-13T04:23:32.613
> 
> 标签：php, curl

这是我的`POST`数据代码：

```
<?php
$data = array("account" => "1234", "dob" => "30051987", "site" => "mytestsite.com");
$data_string = json_encode($data);

$url = 'http://mydomain.com/curl.php';

$ch = curl_init($url);
curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "POST");
curl_setopt($ch, CURLOPT_POSTFIELDS, $data_string);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_HTTPHEADER, array(
    'Content-Type: application/json',
    'Content-Length: ' . strlen($data_string))
);
$result = curl_exec($ch);
curl_close($ch);
$json_result = json_decode($result, true);
?>

<p>Your confirmation number is: <strong><?php echo $json_result['ConfirmationCode']; ?></strong></p> 
```

而在域/服务器**curl.php**文件代码如下：

```
<?php
// header 
header("content-type: application/json");

if($_POST):
    echo json_encode(array('ConfirmationCode' => 'somecode'));
else:
    echo json_encode(array('ConfirmationCode' => 'none'));
endif;
?> 
```

但它总是返回`'none'`。我错过了什么吗？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-03-13T04:30:45.117

真正的问题在于抓住它..

```
<?php
 $data = array("account" => "1234", "dob" => "30051987", "site" => "mytestsite.com");
 $data_string = json_encode($data);

 $url = 'http://mydomain.com/curl.php';

 $ch = curl_init($url);
  curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "POST");
  curl_setopt($ch, CURLOPT_POSTFIELDS, $data_string);
  curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
  curl_setopt($ch, CURLOPT_HTTPHEADER, array(
                     'Content-Type: application/json',
                 'Content-Length: ' . strlen($data_string))
   );
  $result = curl_exec($ch);
  curl_close($ch);

  echo $result;

  //$json_result = json_decode($result, true);
 ?> 
```

你的 curl.php 代码

```
<?php
 $fp = fopen('php://input', 'r');
 $rawData = stream_get_contents($fp);

 echo "<pre>";
 print_r($rawData);
 echo "</pre>";

 /*if($rawData):
 echo json_encode(array('ConfirmationCode' => 'somecode'));;
 else:
 echo json_encode(array('ConfirmationCode' => 'none'));
 endif;*/

 ?> 
```

由于您在正文中将数据作为原始 JSON 发送，因此它不会填充 $_POST 变量

希望对你有帮助

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-13T07:53:48.283

[此链接](http://bavotasan.com/2011/post-url-using-curl-php/)上的功能将起作用。

```
 <?php

function post_to_url($url, $data) {
    $fields = '';
    foreach ($data as $key => $value) {
        $fields .= $key . '=' . $value . '&';
    }
    rtrim($fields, '&');

    $post = curl_init();

    curl_setopt($post, CURLOPT_URL, $url);
    curl_setopt($post, CURLOPT_POST, count($data));
    curl_setopt($post, CURLOPT_POSTFIELDS, $fields);
    curl_setopt($post, CURLOPT_RETURNTRANSFER, 1);

    $result = curl_exec($post);

    curl_close($post);
    return $result;
}

$data = array(
    "name" => "new Name",
    "website" => "http://bavotasan.com",
    "twitterID" => "bavotasan"
);

$surl = 'http://mydomain.com/curl.php';
echo post_to_url($surl, $data);
?> 
```

鉴于，在**`curl.php`**

```
<?php
file_put_contents('abc.text', "here is my data " . implode('->', $_POST));
if ($_POST['name']):
    print_r($_POST['name']);
endif;
?> 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-13T05:02:13.353

`Content-Type`POST 请求的“正确”标头应该是`application/x-www-form-urlencoded`，但是您用它覆盖了它`application/json`（仅在服务器端需要）。

将您的代码更改为以下内容：

```
<?php
$data = array("account" => "1234", "dob" => "30051987", "site" => "mytestsite.com");
$data_string = json_encode($data);

$url = 'http://mydomain.com/curl.php';

$ch = curl_init($url);
curl_setopt($ch, CURLOPT_POST, true); // no need to use custom request method

// ----- METHOD #1: no need to "stringify"
curl_setopt($ch, CURLOPT_POSTFIELDS, $data_array);
// ----- METHOD #2: or if you really like to JOSN-ify
curl_setopt($ch, CURLOPT_POSTFIELDS, array("json"=>$data_string));

curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
/* ------ this will be handled by PHP/cURL
curl_setopt($ch, CURLOPT_HTTPHEADER, array(
    'Content-Type: application/json',
    'Content-Length: ' . strlen($data_string))
);
*/
$result = curl_exec($ch);
curl_close($ch);
$json_result = json_decode($result, true);
?> 
```

# hash - 如何计算相似字符串的相等哈希？

> ID：15377043
> 
> 赞同：1
> 
> 时间：2013-03-13T04:23:44.100
> 
> 标签：hash, levenshtein-distance

我创建了 Antiplagiat。我使用瓦片法。例如，我有以下带状疱疹：

1.  我去电影院
2.  我去电影院1
3.  我去电影院

有没有一种方法可以计算这些行的相等哈希？

我知道 Levenshtein 距离的存在。但是，我不知道我应该取什么源词。也许有比考虑 Levenshtein 距离更好的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T06:39:32.527

散列的问题在于，从逻辑上讲，您将遇到 2 个字符串，它们的不同之处在于散列为不同值的单个字符。

**小证明：**

考虑所有可能的字符串。
假设所有这些散列到至少 2 个不同的值。
取任意 2 个字符串 A 和 B 散列到不同的值。
您显然可以通过一次更改一个字符来从 A 转到 B。
因此，在某些时候哈希会改变。
因此，此时散列对于单个字符更改将是不同的。

**我能想到的一些选择：**

*   散列字符串的多个部分并检查每个散列。可能不会很好地工作，因为单个字符遗漏会导致散列值的显着差异。

*   检查一系列哈希值。哈希是一维的，但字符串相似性不是，因此这可能也不起作用。

总而言之，散列可能不是要走的路。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-25T17:58:54.790

这个问题有点老了，但你可能对AT&T 的两位研究人员的[这篇论文感兴趣。](http://isis.poly.edu/~baris/papers/conference/smsSpam-ICC12.pdf)他们采用一种让人联想到 Nilsimsa 哈希的技术来检测类似的短信何时在一个时间窗口中出现“异常”次数。

听起来[局部敏感散列](http://en.wikipedia.org/wiki/Locality-sensitive_hashing)也与您的问题有关。

# android - android.database.sqlite.SQLiteException：不存在这样的表

> ID：15377045
> 
> 赞同：0
> 
> 时间：2013-03-13T04:23:56.170
> 
> 标签：android, sqlite

我有一个示例 Android 应用程序，我在其中创建了一个数据库，创建了一个表，然后将数据插入到表中。第二天，在打开 Eclipse IDE 并通过模拟器运行我的应用程序时，应用程序突然关闭，并出现 SQLLiteException 提示`No such table`。

我的 MainActivity 代码如下：

```
SQLiteDatabase DB = Context.openOrCreateDatabase(
        "WaterElectricityReadingDataBase.db",
        MODE_WORLD_READABLE, null);

final String CREATE_TABLE = "create table if not exists "
        + TABLE_NAME + "(" + COLUMN_NAME_READING_ID
        + " integer primary key autoincrement,"
        + COLUMN_NAME_READING_MODE + " text not null,"
        + COLUMN_NAME_PASTDATETIME + " date not null, "
        + "EndDateTime date not null, "
        + COLUMN_NAME_READINGVALUE + " integer not null" + ");";

DB.execSQL(CREATE_TABLE); 
```

表或数据是否不持久？我错过了设置中的任何内容吗？

请纠正我，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:22:37.337

更改您的代码，如：

```
final String CREATE_TABLE = "create table if not exists "
            + TABLE_NAME + "(" + COLUMN_NAME_READING_ID
            + " integer primary key autoincrement,"
            + COLUMN_NAME_READING_MODE + " text not null,"
            + COLUMN_NAME_PASTDATETIME + " date not null, "
            + "EndDateTime date not null, "
            + COLUMN_NAME_READINGVALUE + " integer not null);"; 
```

告诉我工作与否？

祝你好运。

# c++ - 如何将cstring更改为unicode

> ID：15377046
> 
> 赞同：2
> 
> 时间：2013-03-13T04:24:03.273
> 
> 标签：c++, char

我现在在 VC++ 6 中工作。我有一个 cstring 内容。如何将内容更改为 unicode ？例如，我有一个定义

```
CString strName; 
```

`strName`里面有一些内容（可能有一些汉字）。

并且还定义了：

```
Unicode* chinese_character; 
```

如何将内容转移`strName`到`chinese_character`?

请注意，我正在使用 VC++ 6。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T04:37:12.147

After googling I find a useful function as mbstowcs() which is used to convert multibyte string to wide-character string.

Below the example for this.

```
{
    wchar_t buf[255];
    mbstowcs(buf,(const char*)name,name.GetLength()+1);

    BYTE bytes[255];
    size_t length = wcslen(buf);
    for (size_t i = 0; i < length; i++)
    {
      bytes[i*2] = buf[i] >> 8;
      bytes[i*2+1] = buf[i] & 0xFF;
    }
  } 
```

# python - 按值传递列表以发挥作用

> ID：15377050
> 
> 赞同：9
> 
> 时间：2013-03-13T04:24:21.827
> 
> 标签：python, pass-by-value

我想按值将列表传递给函数。默认情况下，列表和其他复杂对象通过引用传递给函数。这是一个愿望：

```
def add_at_rank(ad, rank):
    result_ = copy.copy(ad)
    .. do something with result_
    return result_ 
```

这可以写得更短吗？换句话说，我不想改变**ad**。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-03-13T04:25:40.503

您可以使用`[:]`，但对于包含列表（或其他可变对象）的列表，您应该使用`copy.deepcopy()`：

`lis[:]`等效于`list(lis)`or `copy.copy(lis)`，并返回列表的浅表副本。

```
In [33]: def func(lis):
    print id(lis)
   ....:     

In [34]: lis = [1,2,3]

In [35]: id(lis)
Out[35]: 158354604

In [36]: func(lis[:])
158065836 
```

何时使用`deepcopy()`：

```
In [41]: lis = [range(3), list('abc')]

In [42]: id(lis)
Out[42]: 158066124

In [44]: lis1=lis[:]

In [45]: id(lis1)
Out[45]: 158499244  # different than lis, but the inner lists are still same

In [46]: [id(x) for x in lis1] = =[id(y) for y in lis]
Out[46]: True

In [47]: lis2 = copy.deepcopy(lis)  

In [48]: [id(x) for x in lis2] == [id(y) for y in lis]  
Out[48]: False 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-13T22:47:50.813

这可能是装饰器功能的一个有趣用例。像这样的东西：

```
def pass_by_value(f):
    def _f(*args, **kwargs):
        args_copied = copy.deepcopy(args)
        kwargs_copied = copy.deepcopy(kwargs)
        return f(*args_copied, **kwargs_copied)
    return _f 
```

`pass_by_value`将函数`f`作为输入并创建一个新函数`_f`，该函数深度复制其所有参数，然后将它们传递给原始函数`f`。

用法：

```
@pass_by_value
def add_at_rank(ad, rank):
    ad.append(4)
    rank[3] = "bar"
    print "inside function", ad, rank

a, r = [1,2,3], {1: "foo"}
add_at_rank(a, r)
print "outside function", a, r 
```

输出：

```
"inside function [1, 2, 3, 4] {1: 'foo', 3: 'bar'}"
"outside function [1, 2, 3] {1: 'foo'}" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T22:14:25.017

浅拷贝通常足够好，并且可能比深拷贝更快。

`result_`如果您所做的修改没有改变它*包含*的项目/属性，您可以利用这一点。

举个简单的例子，如果你有一个棋盘

```
board = [[' ']*8 for x in range(8)] 
```

你可以做一个浅拷贝

```
board2 = copy.copy(board) 
```

从 中追加/插入/弹出/删除/替换项目是安全的`board2`，但不是它包含的列表。如果要修改其中一个包含的列表，则必须创建一个新列表和`replace`现有列表

```
row = list(board2[2])
row[3] = 'K'
board2[2] = row 
```

工作量多一点，但时间和存储效率要高得多

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-04-14T17:47:28.887

如果*广告*是*列表*，您可以简单地将您的函数称为`add_at_rank(ad + [], rank)`.

这将在您每次调用函数时创建新的*list*实例，该值相当于*ad*。

```
>>>ad == ad + []
True

>>>ad is ad +[]
False 
```

纯pythonic :)

# asp.net - 将 div 更改为文本框？

> ID：15377053
> 
> 赞同：1
> 
> 时间：2013-03-13T04:24:36.963
> 
> 标签：asp.net

我的 .aspx 程序中有一个如下所示的 div 区域。

```
 <div id="valueIntroduction" type="text" class="labelarea" runat="server">  
   </div>
   <div  class="line"></div>

  <asp:Button ID="editButton" runat="server" Text="Edit" /> 
```

目前 div`valueIntroduction`正在从数据库中获取数据。我的程序中有一个`Edit button`。当我按下编辑按钮时，我试图将 div 更改为文本框。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:30:59.923

试试这个..

1.添加文本框并制作`visible="false"`

2.单击编辑按钮时，将 div 的内容复制到文本框，并使用 . 使 div 不可见`visibility:"hidden"`。

3.将文本框可见性设置为true。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T04:28:16.870

尝试在您的 div 下方放置一个不可见的文本框，然后当您单击编辑按钮时，将 div 的内容传输到文本框，使文本框可见而 div 不可见。

# xml - 来自服务器的 Xml 工作但在本地 Xml 文件中它不工作？

> ID：15377060
> 
> 赞同：0
> 
> 时间：2013-03-13T04:25:48.627
> 
> 标签：xml, ajax

我从服务器得到一个 xml 文件，

xml文件为，

```
<feed xmlns="http://www.w3.org/2005/Atom" 
      xmlns:georss="http://www.georss.org/georss">
    <title>Country Congressional Districts
        DC - CD    
    </title>
    <subtitle>Country Congressional Districts</subtitle>
    <id>12345-1222-12345-12345 

    </id>
    <level>district</level>
    <item>
        <title geoid='1198'>District of Columbia</title>
        <description cong_dist='Delegate District (at Large) 98'>DC - Delegate District (at Large) 98 &lt;br/&gt; No of Incidents: 1436</description>
        <latitude>38.8933115</latitude>
        <longitude>-77.0146475</longitude>
        <georss:polygon>38.934311 -77.1199 38.939834989364 -77.112868886998 38.94641 -77.1045 38.94891 -77.1007 38.95651 -77.0915 38.960871062931 -77.085827416011 38.967245703105 -77.077535703105 38.971616050926 -77.07185104194 38.98511 -77.054299 38.986557824794 -77.052373393024 38.99511 -77.040999 38.99171 -77.036299 38.98423067065 -77.026499658425 38.977828623846 -77.018111761535 38.97591 -77.015598 38.97441 -77.013798 38.97011 -77.008298 38.96541 -77.002498 38.961159688178 -76.99699924729 38.95742281319 -76.992164742828 38.951906165093 -76.985027693844 38.946183221387 -76.977623754198 38.93511031877 -76.963298416241 38.930758817183 -76.957668751373 38.918592133391 -76.941928356721 38.913311 -76.935096 38.910455906543 -76.931516373827 38.904209815545 -76.923685221832 38.904084963804 -76.923528686655 38.895811472659 -76.913155644266 38.892812 -76.909395 38.891712 -76.910795 38.889812 -76.913241969697 38.88563612178 -76.918619994677 38.885112 -76.919295 38.884412 -76.920195 38.881242218815 -76.92424312618 38.872907653617 -76.934887195786 38.863761708777 -76.946567477982 38.861312 -76.949696 38.858512 -76.953696 38.8521000076 -76.961688068401 38.8509022261 -76.963181013352 38.849315084168 -76.965159266926 38.848223201534 -76.966520216871 38.843212171615 -76.972766090443 38.837812 -76.979497 38.834059579904 -76.984657115143 38.829116489263 -76.991454572844 38.828213 -76.992697 38.821913 -76.999997 38.821513 -77.001397 38.815196806563 -77.009229290402 38.791513 -77.038598 38.815196806563 -77.009229290402 38.821513 -77.001397 38.821913 -76.999997 38.828213 -76.992697 38.829116489263 -76.991454572844 38.834059579904 -76.984657115143 38.837812 -76.979497 38.843212171615 -76.972766090443 38.848223201534 -76.966520216871 38.849315084168 -76.965159266926 38.8509022261 -76.963181013352 38.8521000076 -76.961688068401 38.858512 -76.953696 38.861312 -76.949696 38.863761708777 -76.946567477982 38.872907653617 -76.934887195786 38.881242218815 -76.92424312618 38.884412 -76.920195 38.885112 -76.919295 38.88563612178 -76.918619994677 38.889812 -76.913241969697 38.891712 -76.910795 38.892812 -76.909395 38.895811472659 -76.913155644266 38.904084963804 -76.923528686655 38.904209815545 -76.923685221832 38.910455906543 -76.931516373827 38.913311 -76.935096 38.918592133391 -76.941928356721 38.930758817183 -76.957668751373 38.93511031877 -76.963298416241 38.946183221387 -76.977623754198 38.951906165093 -76.985027693844 38.95742281319 -76.992164742828 38.961159688178 -76.99699924729 38.96541 -77.002498 38.97011 -77.008298 38.97441 -77.013798 38.97591 -77.015598 38.977828623846 -77.018111761535 38.98423067065 -77.026499658425 38.99171 -77.036299 38.99511 -77.040999 38.986557824794 -77.052373393024 38.98511 -77.054299 38.971616050926 -77.07185104194 38.967245703105 -77.077535703105 38.960871062931 -77.085827416011 38.95651 -77.0915 38.94891 -77.1007 38.94641 -77.1045 38.939834989364 -77.112868886998 38.934311 -77.1199</georss:polygon>
    </item>
    <item>
        <title geoid='1198'>District of Columbia</title>
        <description cong_dist='Delegate District (at Large) 98'>DC - Delegate District (at Large) 98 &lt;br/&gt; No of Incidents: 1436</description>
        <latitude>38.8933115</latitude>
        <longitude>-77.01464758888888</longitude>
        <georss:polygon>38.881242218815 -76.92424312618 38.872907653617 -76.934887195786 38.863761708777 -76.946567477982 38.861312 -76.949696 38.858512 -76.953696 38.8521000076 -76.961688068401 38.8509022261 -76.963181013352 38.849315084168 -76.965159266926 38.848223201534 -76.966520216871 38.843212171615 -76.972766090443 38.837812 -76.979497 38.834059579904 -76.984657115143 38.829116489263 -76.991454572844 38.828213 -76.992697 38.821913 -76.999997 38.821513 -77.001397 38.815196806563 -77.009229290402 38.791513 -77.038598 38.800813 -77.038898 38.814913 -77.035798 38.815613 -77.038098 38.819504901512 -77.038769017502 38.821413 -77.039098 38.828612 -77.038098 38.832212 -77.039199 38.833712 -77.041199 38.833812 -77.042599 38.833212 -77.043499 38.834712 -77.044899 38.838512 -77.044999 38.840212 -77.044199 38.840212 -77.041699 38.841712 -77.032798 38.850512 -77.031698 38.864312 -77.039299 38.865812 -77.038899 38.868112 -77.039099 38.871212 -77.040599 38.874012 -77.043299 38.875212 -77.045399 38.874912 -77.046599 38.873012 -77.045599 38.871312 -77.046299 38.870712 -77.049099 38.873212 -77.051299 38.875212 -77.051099 38.879112 -77.054099 38.880012 -77.055199 38.880069 -77.058254 38.888611 -77.063499 38.891090343863 -77.064387821385 38.899211 -77.067299 38.899811 -77.068199 38.900711 -77.070099 38.901463734213 -77.077689697258 38.901911 -77.0822 38.904211 -77.0902 38.905911 -77.0937 38.911111 -77.1012 38.912911 -77.1034 38.916393146652 -77.105028746015 38.919111 -77.1063 38.925211 -77.1134 38.928911 -77.1166 38.932411 -77.1179 38.934311 -77.1199 38.939834989364 -77.112868886998 38.94641 -77.1045 38.94891 -77.1007 38.95651 -77.0915 38.960871062931 -77.085827416011 38.967245703105 -77.077535703105 38.971616050926 -77.07185104194 38.98511 -77.054299 38.986557824794 -77.052373393024 38.99511 -77.040999 38.99171 -77.036299 38.98423067065 -77.026499658425 38.977828623846 -77.018111761535 38.97591 -77.015598 38.97441 -77.013798 38.97011 -77.008298 38.96541 -77.002498 38.961159688178 -76.99699924729 38.95742281319 -76.992164742828 38.951906165093 -76.985027693844 38.946183221387 -76.977623754198 38.93511031877 -76.963298416241 38.930758817183 -76.957668751373 38.918592133391 -76.941928356721 38.913311 -76.935096 38.910455906543 -76.931516373827 38.904209815545 -76.923685221832 38.904084963804 -76.923528686655 38.895811472659 -76.913155644266 38.892812 -76.909395 38.891712 -76.910795 38.889812 -76.913241969697 38.88563612178 -76.918619994677 38.885112 -76.919295 38.884412 -76.920195 38.881242218815 -76.92424312618</georss:polygon>
    </item>
</feed> 
```

当我复制 xml 并将其放在 XML 文件中时。

通过使用 ajax 调用，我得到了响应，

但 Xml 飞行无法产生结果。

它出错了。

我必须为此做些什么..,

我的问题是 [主题]

来自服务器的 xml 正在工作，我将该 xml 复制到一个文件中，然后通过使用 ajax 我得到了该 xml 值，它不能正常工作。

我该怎么办？？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-17T00:27:39.087

在我所有的验证器中工作得很好......我会尝试 collapsar 所说的并添加一个序言：`<?xml version="1.0" encoding="UTF-8"?>`. 如果这不起作用，也许尝试发布您的 AJAX，我们可以查看错误是否存在！

# mysql - 无法在 Mysql 数据库中创建表

> ID：15377061
> 
> 赞同：0
> 
> 时间：2013-03-13T04:25:50.123
> 
> 标签：mysql, sql, database

我正在尝试使用以下 sql 在 Mysql 数据库中创建表

```
 CREATE  TABLE IF NOT EXISTS `dev_dict`.`TAMILWORD_SECONDARY` (
    `ID` INT NOT NULL ,
    `TAMILWORD_ID` INT NOT NULL ,
    `WORDS` VARCHAR(50) NOT NULL ,
    `CREATED_DTTM` TIMESTAMP NOT NULL ,
    `MODIFIED_DTTM` TIMESTAMP NOT NULL ,
     PRIMARY KEY (`ID`) ,
       UNIQUE INDEX `WORDS_UNIQUE` (`WORDS` ASC, `TAMILWORD_ID` ASC) ,
       INDEX `FK_TAMILWORD_ID_idx` (`TAMILWORD_ID` ASC) ,
     CONSTRAINT `FK_TAMILWORD_ID`
       FOREIGN KEY (`TAMILWORD_ID` )
       REFERENCES `dev_dict`.`TAMILWORD` (`ID` )
       ON DELETE NO ACTION
     ON UPDATE NO ACTION)
    ENGINE = InnoDB 
```

但得到错误代码：1022。无法写入；表“tamilword_secondary”中的重复键。

谢谢你帮助我..我已经有泰米尔语表了，并且得到了同样的错误

```
 CREATE  TABLE IF NOT EXISTS `dev_dict`.`TAMILWORD` (
     `ID` INT NOT NULL ,
     `WORD` VARCHAR(50) CHARACTER SET 'utf8' COLLATE 'utf8_general_ci' NOT NULL ,
     `SENTENCE` VARCHAR(100) NULL ,
     `CREATED_DTTM` TIMESTAMP NOT NULL ,
    `MODIFIED_DTTM` TIMESTAMP NOT NULL ,
     PRIMARY KEY (`ID`) ,
        INDEX `SECONDARY` (`WORD` ASC, `SENTENCE` ASC) )
     ENGINE = InnoDB 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:17:11.253

先建`dev_dict.TAMILWORD`表。除此之外，您的陈述有效。

**请参阅[SQL Fiddle 示例](http://sqlfiddle.com/#!2/20a7f)**

# jquery - 网络 API。何时使用 jQuery，何时使用模型？

> ID：15377063
> 
> 赞同：0
> 
> 时间：2013-03-13T04:25:52.457
> 
> 标签：jquery, asp.net-mvc-4, asp.net-web-api

我有一个需要显示数据表的视图。就说人吧。

因此，在我的 web api 应用程序中，我创建了可以使用 razor 来显示这些人的视图：

```
@foreach(Person person in Model.People)
{
  <tr>
     <td>@person.FirstName</td>
     <td>@person.LastName</td>
  </tr>
} 
```

我什至还没有使用 ApiController 类。

那么假设用户在搜索中输入了一些条件，并且 Model.People 列表需要更新。然后我会使用我的控制器（我认为）来更新我的 Model.People 列表。这是我需要的功能。

但我也可以使用 jQuery 来访问我宁静的 ApiController 类，并像这样动态更新我的人员表（尽管我认为我的语法不正确）：

```
$.getJSON('api/people/updatepeople', function(data) {
    var fileTable = $("#personTable");
    $.each(data, function() {
       var row = $('$(this).Name$(this).FirstName', '$(this).Name$(this).LastName');
       $("#personTable").append( row );
    });
}); 
```

除了语法，我应该怎么做？剃刀还是 jQuery？在没有 ApiController 的情况下，将剃须刀与模型和控制器一起使用会更好或更有效吗？或者将 jQuery 与 ApiController 一起使用？看起来这些技术是齐头并进的，razor 和控制器，jQuery 和 ApiController。我觉得我不应该将它们混合在一起，比如将 jQuery 与剃须刀和模型一起使用......？

希望了解什么是更正确的方法（如果有的话）以及为什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T04:42:02.330

这完全取决于你的场景和你想要完成的事情。如果您想要部分页面更新而没有回发，那么请继续使用异步 XmlHttpRequests 来更新您的页面。否则，您可以在页面回发之间的页面上显示加载的模型。

混合技术很好，这就是我为当前项目采取的方法。例如，我加载初始页面并根据需要显示模型，然后对于页面上的小更新，我执行 Javascript GET/POST。

顺便说一句，您可以使用 razor 生成异步表单/操作链接，所以这不是 Razor 或 JQuery 的问题，它是异步更新版本同步回发的比较。

# objective-c - 使用 iOS 6.1 模拟器测试时发生 kCLAuthorizationStatusNotDetermined

> ID：15377069
> 
> 赞同：1
> 
> 时间：2013-03-13T04:26:21.787
> 
> 标签：objective-c, xcode, mapkit

全部。

最近我被这个错误困住了。这是我的代码

```
if([CLLocationManager locationServicesEnabled]){

    NSLog(@"Location Services Enabled");

    // Switch through the possible location
    // authorization states
    switch([CLLocationManager authorizationStatus]){
        case kCLAuthorizationStatusAuthorized:
            NSLog(@"We have access to location services");
            [self loadAnnotations];
            MKCoordinateSpan span = MKCoordinateSpanMake(0.04, 0.04);
            MKCoordinateRegion region = MKCoordinateRegionMake(locationManager.location.coordinate, span);
            [_mapView setRegion:region animated:YES];
            break;
        case kCLAuthorizationStatusDenied:
            NSLog(@"Location services denied by user");
            [self loadAnnotations];
            [_mapView setRegion:adjustedRegion animated:YES];
            break;
        case kCLAuthorizationStatusRestricted:
            NSLog(@"Parental controls restrict location services");
            [self loadAnnotations];
            [_mapView setRegion:adjustedRegion animated:YES];
            break;
        case kCLAuthorizationStatusNotDetermined:
            NSLog(@"Unable to determine, possibly not available");
            [_mapView setRegion:adjustedRegion animated:YES];
            [self repeatCheckLocation];
    }
}
else{
    // locationServicesEnabled was set to NO
    NSLog(@"Location Services Are Disabled");
    [self loadAnnotations];
    [_mapView setRegion:adjustedRegion animated:YES];
} 
```

这是一个定位应用程序，它调用用户周围的一些地方。它适用于除 6.1 之外的其他版本。每当我在 iOS 6.1 模拟器上运行我的代码时，我都会看到它在 kCLAuthorizationStatusNotDetermined 处停止。奇怪的是..它在我的测试设备上运行时工作，该设备是安装了 iOS 6.1 的 iphone4。我不知道什么时候出错了..任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-19T10:13:15.180

这可能是一个老问题，但其他人可能会觉得它很有用：

> 模拟器无法获取当前位置，因为您的计算机没有内置 GPS（即使您有，Xcode 也不会使用它）。但是，模拟器允许您伪造它。
> 
> ……
> 
> 默认情况下，模拟器不知道自己的位置。在菜单栏中，选择“调试”->“位置”。默认位置设置为“无”。现在将位置设置更改为“Apple”（或“Apple Stores”）。

[在这里](http://www.appcoda.com/how-to-get-current-location-iphone-user/)检查。

# actionscript-3 - AS3 - 基本游戏课程有问题

> ID：15377071
> 
> 赞同：1
> 
> 时间：2013-03-13T04:26:39.140
> 
> 标签：actionscript-3, class, function, game-engine, flash-cs6

所以我正在创建一个太空射击游戏。我的文档类是 Engine，它看起来像这样：

```
package Classes
{

import flash.display.MovieClip;
import flash.display.Stage;
import flash.events.Event;
import flash.events.MouseEvent;

public class Engine extends MovieClip
{

    private var startMenu:StartMenu;
    private var numberOfStars:int = 80;
    public static var enemyList:Array = new Array();
    private var spaceShip:Ship;
    private var hud:HUD;

    public function Engine()
    {
        startMenu = new StartMenu();
        stage.addChild(startMenu);
        startMenu.x = (stage.stageWidth / 2);
        startMenu.y = (stage.stageHeight / 2);
    }

    private function startGame()
    {
        stage.removeChild(startMenu)
        spaceShip = new Ship(stage);
        stage.addChild(spaceShip);
        spaceShip.x = (stage.stageWidth / 2);
        spaceShip.y = (stage.stageHeight / 2);

        spaceShip.addEventListener("hit", shipHit);

        hud = new HUD(stage); //create the HUD
        stage.addChild(hud); //and display it.

        for (var i:int = 0; i < numberOfStars; i++)
        {
            stage.addChildAt(new Star(stage), 1);
        }

        addEventListener(Event.ENTER_FRAME, createFighter);
    }
} 
```

如您所见，我正在调用另一个名为 StartMenu 的类。这是我遇到麻烦的地方：这是代码（或缺少代码）

```
package  Classes
{
import flash.display.MovieClip;
import flash.display.Stage;
import flash.events.Event;
import flash.events.MouseEvent;
import flash.events.*;

public class StartMenu extends MovieClip
{

    public function StartMenu()
    {
        button1.addEventListener(MouseEvent.CLICK, buttonClicked);
    }

    private function buttonClicked(e:MouseEvent)
    {

    }

}

} 
```

（忽略缩进错误，在真实代码中是正确的）好吧，想象一下屏幕上显示了一个按钮。此按钮是 StartMenu 类的一部分，正在侦听 MouseEvent.CLICK。

单击按钮后，我需要以某种方式返回 Engine 类并调用函数 startGame() ，但我不能只执行 Engine.startGame() ，我尝试将函数设置为公共函数，并且我有尝试将函数设置为公共静态函数。没运气。请帮忙？？任何方法都可以，我只需要一种方法让这个类在单击按钮后转到 startGame 函数！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T05:06:26.943

最快的方法可能是在 StartMenu 类中添加一个 Engine 变量，并通过开始菜单的构造函数传递引擎。这是一个简短的代码示例：

开始菜单

```
public class StartMenu extends MovieClip
{

   private var _engine:Engine // add a new variable to the start menu class
   public function StartMenu(engine:Engine) // add a new parameter to the constructor
   {
      _engine = engine; // set the variable to the value passed through the constructor
      button1.addEventListener(MouseEvent.CLICK, buttonClicked);
   }

   private function buttonClicked(e:MouseEvent)
   {
      _engine.startGame()
   }
} 
```

引擎

```
public function Engine()
{
    startMenu = new StartMenu(this); 
    // pass through the current instance of engine using the this keyword
    ...
}

public function startGame() // change private to public
{
    ...
} 
```

我希望这会有所帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:46:08.920

这种情况有两种解决方法。一种是使用父引用或特定引用来调用某个函数，如 Ethan Worley 所说，另一种是使用可自定义的公共点击器设置器，如下所示：

```
public class StartMenu extends MovieClip
{

    private var button1:MovieClip; // or whatever type your button is
    private var startGameFunction:Function;
    public function StartMenu()
    {
        // some initialization code if needed, including allocating button1
        startGameFunction=null;
        button1.addEventListener(MouseEvent.CLICK, buttonClicked);
    }

    public function set startGameClicked(value:Function):void {
        if (value==startGameFunction) return; // nothing to set
        startGameFunction=value;
    }
    private function buttonClicked(e:MouseEvent)
    {
        if (startGameFunction) startGameFunction(); // if there's a function assigned, call it
    }
} 
```

发动机类：

```
public function Engine()
{
    startMenu = new StartMenu(); 
    startMenu.startGameFunction=this.startGame; 
    // no "()" here, as we are giving a function reference
    ...
}

public function startGame() // change private to public
{
    ...
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T05:35:36.740

在您的 Engine.as 类中，您可以放置​​：

```
public static var instance:Engine;

public static function getInstance():Engine
{
  return instance as Engine;
} 
```

并在引擎类的构造函数中放置：

```
instance = this; 
```

现在您可以通过以下方式在项目中的任何位置使用 Engine 类的实例以及所有公共函数和变量：

```
Engine.getInstance().startGame(); 
```

它可以帮助你。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-14T10:39:22.153

我有点惊讶没有人提到基于事件的方法。这就是我对这种要求所使用的，因为我真的不觉得为函数调用传递整个类实例的想法有那么吸引人（这意味着我可能对这种方法有点偏见，所以请随时指出它的缺点（如果有的话）。

在您的 Engine 类中：

```
public function Engine()
{
    startMenu = new StartMenu();

    startMenu.addEventListner('StartGame', startGame);
    stage.addChild(startMenu);

    ..

}

private function startGame(e:Event)
{

   startMenu.removeEventListner('StartGame', startGame);

   ..

} 
```

在您的 StartMenu 类中：

```
private function buttonClicked(e:MouseEvent)
{

   this.dispatchEvent(new Event('StartGame'));

   ..

} 
```

# c++ - 类静态函数外联

> ID：15377074
> 
> 赞同：0
> 
> 时间：2013-03-13T04:26:54.623
> 
> 标签：c++

当编译器认为代码是本地链接或内联时，如何实现类静态函数的外部链接？

考虑三个文件：

特征.h：

```
template <typename T>
struct Traits
{
    static int InlineFunction(T);
    static int Function(T);
}; 
```

traitsimp.cpp：

```
#include "traits.h"
template <>
struct Traits<int>
{
    static int InlineFunction(int) { return 42; }
    static int Function(int);
};

int Traits<int>::Function(int i) { return i; } 
```

主.cpp：

```
#include "traits.h"
int main()
{
    int result = Traits<int>::Function(5);
    result = Traits<int>::InlineFunction(result);
    return 0;
} 
```

编译时收到：

```
$ g++ traitsimp.cpp main.cpp -o traitstest
/tmp/cc6taAop.o: In function `main':
main.cpp:(.text+0x1b): undefined reference to `Traits<int>::InlineFunction(int)'
collect2: ld returned 1 exit status 
```

如何说服编译器提供 InlineFunction 外部链接，同时仍在类定义中编写函数？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T04:38:30.913

I think you need to decide whether to have external linkage and define out of line or keep it inline and effectively just have internal linkage. Is there a reason not to define your `Traits<int>` in a header? Note that the full specialization is no longer a template, so there is really no difference to how it is handled versus a non-templated function.

Edited: Tried this in VS2010, and it may still not suit, but you could put code in `traitsimp.cpp` that takes the address of the method:

```
auto getAddress = &Traits<int>::InlineFunction; 
```

This forces the method to get an address. I'm a bit rusty on whether this behaviour would be standard or not.

# asp.net - 调用 Web 服务“底层连接已关闭：无法为 SSL/TLS 安全通道建立信任关系”

> ID：15377075
> 
> 赞同：1
> 
> 时间：2013-03-13T04:26:57.907
> 
> 标签：asp.net, vb.net, ssl, webservice-client

这个问题在stackoverflow上有很多版本。我已经尝试了很多那里建议的解决方案 - 但这些都不适合我。

我有一个在 Windows Server 2008 上的 IIS 上运行的 VB ASP.NET 应用程序。它调用一个 web 服务。运行 Web 服务的服务器具有自签名证书。我已将证书导入 IIS 机器的信任库。我可以在 IE->Options->Content->Certificates->Trusted Root Certification Authorities 中看到证书。

调用webservice时，抛出异常

> 基础连接已关闭：无法为 SSL/TLS 安全通道建立信任关系。

相同的 IIS VB ASP.NET 应用程序在另一台具有类似设置的机器上运行良好。

这些是我检查过的不同的基本内容

*   用于调用 Web 服务的 URL 与导入受信任根 CA 的证书上的 CN 相同。
*   调用机器和 Web 服务主机之间的时间同步
*   证书未过期。
*   IIS 机器在 IIS 中具有代理设置，但 Web 服务主机已添加到不应使用代理的例外列表中。

我在 VB.NET 中编写了一个小型命令行测试程序，调用了运行良好的相同 Web 服务。

将证书导入受信任的 CA 存储后，我进行了 iisreset。

唯一我还没有尝试过的是重新启动 IIS 机器——这是生产机器，我至少有几天不能重新启动它。

我还能尝试什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-13T04:37:27.623

Internet Explorer 证书设置仅适用于当前用户。您在操作 IE 时登录的用户与用于托管 IIS 应用程序的用户*不太*可能相同。您可以将证书添加到相应服务帐户的受信任证书中，但更简单的方法是将其添加到“本地计算机”受信任证书中。

运行 Microsoft 管理控制台（在运行对话框中键入“mmc”）文件 > 添加/删除管理单元 > 证书，为要管理的证书选择“计算机帐户”。这样，服务器上的*任何*用户或服务帐户都会将证书视为受信任的。

或者，根据您访问 Web 服务的方式，您可以在应用程序本身中添加异常。我会推荐检查证书指纹/哈希的代码，而不是允许它连接到*任何不受*信任的证书。

# python - 是否可以通过wine从Windows应用程序获取输出？

> ID：15377078
> 
> 赞同：4
> 
> 时间：2013-03-13T04:27:03.043
> 
> 标签：python, winapi, wine

我正在为 Windows 中的下载器编写 python GUI。目前，我可以通过某种方式使用该应用程序从网站下载内容。我想编写一个调用下载器的 GUI，以便我自己更容易使用它。

所以对我的 GUI 来说重要的一件事是显示进度。当下载器使用wine运行时，如果我将光标移动到图标上，它将以百分比显示进度。这就是我想要的代码的数字。那么有什么方法可以通过某种葡萄酒 API 获取这些信息？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T19:36:45.533

因此，您正在控制在 Wine 中运行的 Windows 下载器。这个下载器是图形的吗？这个图标是在窗口中还是什么？

假设两者都是：

*   如果您的 Python 应用程序在 *nix（不是 Wine）中本地运行，唯一可靠的方法是在光标周围截屏并使用光学字符识别来识别图像中的数字 :-)。这是因为在 Wine 下，并不是每个 Windows 窗口都是 X11 窗口。
*   如果您在安装在 Wine 中的 Windows 版本的 Python 上运行您的应用程序，那么您很幸运。工具提示只是窗口 - 您应该能够遍历下载器中的所有窗口，并获取包含的文本。

# sql - 使用带有条件的内部联接的教条查询构建器

> ID：15377079
> 
> 赞同：46
> 
> 时间：2013-03-13T04:27:11.487
> 
> 标签：sql, symfony, doctrine-orm

我想使用 Doctrine 的查询构建器构建以下 SQL：

```
select c.*
from customer c
join phone p
on p.customer_id = c.id
and p.phone = :phone
where c.username = :username 
```

首先我试过

```
$qb->select('c')
    ->innerJoin('c.phones', 'p', Join::ON, $qb->expr()->andx(
        $qb->expr()->eq('p.customerId', 'c.id'),
        $qb->expr()->eq('p.phone', ':phone')
    ))
    ->where('c.username = :username'); 
```

但我收到以下错误

```
Error: expected end of string, got 'ON' 
```

然后我尝试了

```
$qb->select('c')
    ->innerJoin('c.phones', 'p')
    ->where('c.username = :username')
    ->andWhere('p.phone = :phone'); 
```

这似乎工作。但是，有人知道第一次尝试有什么问题吗？我想让第一个工作，因为它更类似于 SQL 的结构。提前致谢！

注意：我知道我们也可以使用 Doctrine 编写本机 mysql 或 dql，但我更喜欢查询生成器。

**编辑：**下面是整个代码

```
namespace Cyan\CustomerBundle\Repository;

use Cyan\CustomerBundle\Entity\Customer;
use Doctrine\ORM\EntityRepository;
use Doctrine\ORM\Query\Expr\Join;

class CustomerRepository extends EntityRepository
{
    public function findCustomerByPhone($username, $phone)
    {
        $qb = $this->createQueryBuilder('c');

        $qb->select('c')
            ->innerJoin('c.phones', 'p', Join::ON, $qb->expr()->andx(
                $qb->expr()->eq('p.customerId', 'c.id'),
                $qb->expr()->eq('p.phone', ':phone')
            ))
            ->where('c.username = :username');

//        $qb->select('c')
//            ->innerJoin('c.phones', 'p')
//            ->where('c.username = :username')
//            ->andWhere('p.phone = :phone');

        $qb->setParameters(array(
            'username' => $username,
            'phone' => $phone->getPhone(),
        ));

        $query = $qb->getQuery();
        return $query->getResult();
    }
} 
```

* * *

## 回答 #1

> 赞同：94
> 
> 时间：2013-03-13T10:27:36.277

我要回答我自己的问题。

1.  innerJoin 应该使用关键字“WITH”而不是“ON”（Doctrine 的文档 [13.2.6\. Helper methods] 不准确；[13.2.5\. Expr 类] 是正确的）
2.  无需在连接条件下链接外键，因为它们已在实体映射中指定。

因此，以下对我有用

```
$qb->select('c')
    ->innerJoin('c.phones', 'p', 'WITH', 'p.phone = :phone')
    ->where('c.username = :username'); 
```

或者

```
$qb->select('c')
    ->innerJoin('c.phones', 'p', Join::WITH, $qb->expr()->eq('p.phone', ':phone'))
    ->where('c.username = :username'); 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-03-13T08:26:36.140

您可以像这样明确地加入：

```
$qb->innerJoin('c.phones', 'p', Join::ON, 'c.id = p.customerId'); 
```

但是您需要使用来自学说的 Join 类的命名空间：

```
use Doctrine\ORM\Query\Expr\Join; 
```

或者，如果您喜欢这样：

```
$qb->innerJoin('c.phones', 'p', Doctrine\ORM\Query\Expr\Join::ON, 'c.id = p.customerId'); 
```

否则，将无法检测到[加入类，并且您的脚本将崩溃...](https://github.com/doctrine/doctrine2/blob/master/lib/Doctrine/ORM/Query/Expr/Join.php)

这里innerJoin方法的构造函数：

```
public function innerJoin($join, $alias, $conditionType = null, $condition = null); 
```

您可以在此处找到其他可能性（不仅加入“ON”，还可以加入“WITH”等）：http: [//docs.doctrine-project.org/en/2.0.x/reference/query-builder。 html#the-expr-class](http://docs.doctrine-project.org/en/2.0.x/reference/query-builder.html#the-expr-class)

**编辑**

认为应该是：

```
$qb->select('c')
    ->innerJoin('c.phones', 'p', Join::ON, 'c.id = p.customerId')
    ->where('c.username = :username')
    ->andWhere('p.phone = :phone');

    $qb->setParameters(array(
        'username' => $username,
        'phone' => $phone->getPhone(),
    )); 
```

否则，我认为您正在执行 ON 和 WITH 的混合，这可能是问题所在。

# syntax - Fsharp - 范围评估

> ID：15377083
> 
> 赞同：5
> 
> 时间：2013-03-13T04:27:38.080
> 
> 标签：syntax, f#

有没有一种方法可以按降序获得范围？

前任

```
[1..4] 
```

评估为

```
> val it : int list = [1; 2; 3; 4] 
```

但

```
[4..1] 
```

评估为

```
> val it : int list = [] 
```

是否有不同的语法来实现这一点而无需执行`List.Reverse`？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-13T04:38:25.250

你所要做的：

```
[4..-1..1] 
```

-1 是步骤

# ember.js - 向 Ember.js ArrayControllers 添加自定义函数

> ID：15377086
> 
> 赞同：1
> 
> 时间：2013-03-13T04:27:56.413
> 
> 标签：ember.js

我正在尝试找出 Ember.js 并继续解决似乎没有以我理解的方式记录的基本问题。

我想要一个对象来管理一个东西列表。ArrayController 似乎很有意义。我认为让该控制器从第 3 方服务器 (youtube) 加载数据是最有意义的。所以我的计划是在控制器中编写一些自定义函数来加载数据。

```
App.videoController = Ember.ArrayController.extend({
    loadSomeVideos() {
        console.log("I have run");
    }
}); 
```

在我运行上面的代码后 App.testController.someFunction() 不存在。为什么不？我觉得我缺少一些基本概念。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T06:14:26.390

当您调用 Ember.ArrayController.extend 时，您实际上只是在扩展类而不是创建具体实例，因此您不能调用 loadSomeVideos。

Ember 中有一些约定，如果您不知道它们，可能会让您感到困惑。正如“未指定”所评论的那样，您应该使用以下约定来扩展类。

请注意大写 VideoController 以及我定义 loadSomeVideos 方法的方式：

```
App.VideoController = Ember.ArrayController.extend({
    loadSomeVideos: function() {
        console.log("I have run");
    }
}); 
```

现在，如果你想运行它，你需要创建一个 App.VideoController 类的实例。再次注意大写：

```
App.videoController = App.VideoController.create(); 
```

因此，我使用小写的 v 作为实例，使用大写的 V 作为类。我刚刚创建了类 (App.VideoController) 的实例 (App.videoController)。

要调用您的方法，您需要从实例中调用它，如下所示：

```
App.videController.loadSomeVideos(); 
```

查看文档中的以下两页。

第一页为您提供了一些关于扩展类然后实例化它们的信息，以便您可以调用它们的方法：

[http://emberjs.com/guides/object-model/classes-and-instances/](http://emberjs.com/guides/object-model/classes-and-instances/)

第二页深入介绍了更高级的方法reopen 和reopenClass。

[http://emberjs.com/guides/object-model/reopening-classes-and-instances/](http://emberjs.com/guides/object-model/reopening-classes-and-instances/)

# python - 打印特定图案之间的线条

> ID：15377087
> 
> 赞同：0
> 
> 时间：2013-03-13T04:28:02.607
> 
> 标签：python, python-2.6

我想打印特定字符串之间的行，我的字符串如下：

```
my_string = '''
##start/file1
file/images/graphs/main
file/images/graphs
file/graphs

##start/new
new/pattern/symbol
new/pattern/

##start/info/version
version/info/main
version/info/minor

##start
values/key
values
...
... ''' 
```

在这个字符串中，我想搜索“main”并将其打印为：

```
##start/file1/file/images/graphs/main
##start/info/version/version/info/main 
```

我怎样才能做到这一点？我试图找到两个##start 之间的行并搜索main。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T04:39:02.733

Try something like:

```
def get_mains(my_string):
    section = ''

    for line in my_string.split('\n'):
        if line[0:7] == "##start":
            section = line
            continue
        if 'main' in line:
            yield '/'.join([section, line])

for main in get_mains(my_string):
    print main 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T06:06:45.527

有一种方法可以使用 Python 的正则表达式解析器来执行此操作，简称为 regex。

基本上，正则表达式是用于在字符串中搜索某些模式的整个语言。如果我有字符串`'Hello, World'`，它将匹配正则表达式模式`'llo, Wor'`，因为它包含一个 ell 后跟一个 ell 后跟一个 o 后跟一个逗号和一个空格以及一个大写的 double-you 等等。从表面上看，它只是一个子字符串测试。正则表达式的真正强大之处在于特殊字符。如果我`'Hello, World'`再次拥有该字符串，它也与 pattern 匹配`'Hello, \w\w\w\w\w'`，因为`\w`它是一个特殊字符，代表字母表中的任何字母（加上一些额外的）。所以`'Hello, Bobby'`,,`'Hello, World'`都`'Hello, kitty'`匹配模式`'Hello, \w\w\w\w\w'`,因为`\w`可以代替任何字母。这些“特殊字符”还有很多，它们都非常有用。要真正回答你的问题，

我构建了一个匹配的模式

```
##start\textICareAbout
file_I_don't_care
file_I_don't_care
file_I_care_about\main 
```

这是

```
r'(##start{line}){line}*?(.*main)'.format(line=r'(?:.*\n)') 
```

前导 r 使字符串成为原始字符串（因此我们不必使用双反斜杠换行符，请参阅链接的网页）。然后，括号中的所有内容都变成了一个组。组是我们希望以后能够回忆的文本片段。有两组。第一个是`(##start{line})`，第二个是`(.*main)`。第一组匹配以整行开头`##start`并连续的任何内容，因此类似于 `##start/file1`or`##start/new` 的行 第二组匹配以 main 结尾的行，因为`.*`匹配除换行符以外的每个字符。在两组之间有`{line}*`，这意味着“匹配任何完整的行，并匹配任意数量的东西”。因此，将它们结合在一起，我们有：匹配任何以`##start`, 然后我们匹配任意数量的行，然后我们匹配任何以 main 结尾的行。

```
import re

# define my_string here

pattern = re.compile(r'(##start{line}){line}*?(.*main)'.format(line=r'(?:.*\n)'))

for match in pattern.findall(my_string):
    string = match[0][:-1]  # don't want the trailing \n
    string += '/'
    string += match[1]
    print string 
```

对于您的示例，它输出

```
##start/file1/file/images/graphs/main
##start/new/version/info/main 
```

所以正则表达式很酷，其他语言也有。[这是一个非常强大的工具，您应该在这里](http://docs.python.org/2/library/re.html#re.DOTALL)学习如何使用它。也只是一个旁注，我使用 .format 函数，因为我认为它看起来更干净，更容易阅读，所以 `'hello{line}world'.format(line=r'(?:.*\n)')`只是被评估为`'hello(?:.*\n)world'`，它会匹配

```
hello
Any Text Here. Anything at all. (just for one line)
world 
```

# icu - icu4c opentype harfbuzz 的区别

> ID：15377088
> 
> 赞同：1
> 
> 时间：2013-03-13T04:28:03.337
> 
> 标签：icu, opentype, harfbuzz

这三个开源库在android中使用非常频繁。我只知道这些库是用来处理字体的。我在想这些图书馆有什么区别，它们是否相互关联？或者他们可以互相替代。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-10T20:40:10.440

[OpenType](http://en.wikipedia.org/wiki/OpenType)不是一个库，它是“智能”字体的标准，是最广泛使用的高级排版格式和对复杂书写系统的支持。

[ICU](http://en.wikipedia.org/wiki/International_Components_for_Unicode)是一个支持 Unicode 的库，它提供了许多功能，如 Unicode 字符属性、Unicode 双向算法实现、编码转换等。ICU 还提供了一个 OpenType 实现，ICU LayoutEngine，但它不被 Android AFAIK 使用，它也是无人维护的，将在某个时候被 HarfBuzz 取代。

[HarfBuzz](http://en.wikipedia.org/wiki/HarfBuzz)是一个文本整形库，简而言之，它需要一个字体、一个文本字符串和一些属性（脚本、语言、可选的 OpenType 功能）并返回一系列字体字形 ID，渲染引擎会将它们绘制在屏幕上。它主要是一个 OpenType 实现，但可以支持其他字体技术。它是一个低级库，需要对字体和文本渲染有所了解才能正确使用。

# java - 使用oop java计算两点之间的线长

> ID：15377090
> 
> 赞同：0
> 
> 时间：2013-03-13T04:28:16.990
> 
> 标签：java, oop

嗨朋友我需要使用java oop方法计算两点之间的线长并从3点得到3线然后证明它是三角形，如果它是三角形计算三角形面积谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T04:34:14.083

对于计算线长，[http](http://en.wikipedia.org/wiki/Euclidean_distance) ://en.wikipedia.org/wiki/Euclidean_distance对于二维的情况

要从点中获取线，请从点中创建线，点的数量和`i % n`范围在`(i + 1) % n`哪里，例如标准 for 循环。`n``i``0``n-1`

证明三条线是一个三角形——如果你从三个点组成它们，它们显然是。如果它们之间仅共享三个点，那么它们也是一个三角形（例如，您可以将它们添加到 a`Set`并查看是否仅存在三个唯一点）。

编辑：Daniel Robertus 指出它们也不必共线，即使你知道它们的观点是共同的。证明三条线不共线的一种方法是计算`tan2(y,x)`使用`y2-y1`and `x2-x1`，它给出了该线的角度 - 如果它们是共线的，那么其中两条线将具有相同的角度。如果它们不是共线的，则没有一条线将共享一个共同的角度。（这个证明是微不足道的。）

要计算三角形的面积，请从[http://en.wikipedia.org/wiki/Triangle#Computing_the_area_of_a_triangle中选择您最喜欢的公式](http://en.wikipedia.org/wiki/Triangle#Computing_the_area_of_a_triangle)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T04:46:18.117

```
Point2D p1 = new Point2D.Double (10.0, 15.0);
Point2D p2 = new Point2D.Double (16.0, 7.0);
Point2D p3 = new Point2D.Double (12.0, 11.0);

System.out.println ("Distance from p1 to p2: " + p1.distance (p2));
System.out.println (
    "Area of {p1, p2, p3} triangle: " + 
    0.5 * p1.distance (p2) * new Line2D.Double (p1, p2).ptLineDist (p3)); 
```

# wpf - 在 WPF 中隐藏组合框箭头

> ID：15377093
> 
> 赞同：1
> 
> 时间：2013-03-13T04:28:45.237
> 
> 标签：wpf, xaml, combobox, hide

我正在创建一个 WPF 应用程序，因为我需要隐藏*符号*`ComboBox's Arrow`。请帮助我任何身体。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T08:28:05.160

If you want to do that, you need to Restyle the `ComboBox`, as DHN says. This is the one I used:

```
<!-- ComboBox style -->
<Style x:Key="{x:Type ComboBox}" TargetType="ComboBox">
    <Setter Property="SnapsToDevicePixels" Value="true"/>
    <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Auto"/>
    <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto"/>
    <Setter Property="ScrollViewer.CanContentScroll" Value="true"/>
    <Setter Property="MinWidth" Value="120"/>
    <Setter Property="Height" Value="25"/>
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="ComboBox">
                <Grid>
                    <ToggleButton 
                    Name="ToggleButton" 
                    Template="{DynamicResource ComboBoxToggleButton}" 
                    Grid.Column="2" 
                    Focusable="false"
                    IsChecked="{Binding Path=IsDropDownOpen,Mode=TwoWay,RelativeSource={RelativeSource TemplatedParent}}"
                    ClickMode="Press">
                    </ToggleButton>
                    <ContentPresenter
                        Name="ContentSite"
                        IsHitTestVisible="False" 
                        Content="{TemplateBinding SelectionBoxItem}"
                        ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                        ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                        Margin="3,3,23,3"
                        VerticalAlignment="Center"
                        HorizontalAlignment="Left" />
                    <TextBox x:Name="PART_EditableTextBox"
                        Style="{x:Null}" 
                        Template="{Binding Text}" 
                        HorizontalAlignment="Left" 
                        VerticalAlignment="Center"
                        Margin="3,3,23,3"
                        Focusable="True" 
                        Background="Transparent"
                        Visibility="Hidden"
                        Foreground="DarkBlue"
                        IsReadOnly="{TemplateBinding IsReadOnly}"/>
                    <Popup 
                        Name="Popup"
                        Placement="Bottom"
                        IsOpen="{TemplateBinding IsDropDownOpen}"
                        AllowsTransparency="True" 
                        Focusable="False"
                        PopupAnimation="Slide">
                        <Grid 
                          Name="DropDown"
                          SnapsToDevicePixels="True"                
                          MinWidth="{TemplateBinding ActualWidth}"
                          MaxHeight="{TemplateBinding MaxDropDownHeight}">
                            <Border 
                                x:Name="DropDownBorder"
                                Background="{DynamicResource TextBoxBrush}"
                                BorderThickness="1"
                                BorderBrush="{DynamicResource SolidBorderBrush}"/>
                            <ScrollViewer Margin="4,6,4,6" SnapsToDevicePixels="True">
                                <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Contained" />
                            </ScrollViewer>
                        </Grid>
                    </Popup>
                </Grid>
                <ControlTemplate.Triggers>
                    <Trigger Property="HasItems" Value="false">
                        <Setter TargetName="DropDownBorder" Property="MinHeight" Value="95"/>
                    </Trigger>
                    <Trigger Property="IsEnabled" Value="false">
                        <Setter Property="Foreground" Value="#373737"/>
                    </Trigger>
                    <Trigger Property="IsGrouping" Value="true">
                        <Setter Property="ScrollViewer.CanContentScroll" Value="false"/>
                    </Trigger>
                    <Trigger SourceName="Popup" Property="Popup.AllowsTransparency" Value="true">
                        <Setter TargetName="DropDownBorder" Property="CornerRadius" Value="0,0,4,4"/>
                        <Setter TargetName="DropDownBorder" Property="Margin" Value="0"/>
                    </Trigger>
                    <Trigger Property="IsEditable"
           Value="true">
                        <Setter Property="IsTabStop" Value="false"/>
                        <Setter TargetName="PART_EditableTextBox" Property="Visibility" Value="Visible"/>
                        <Setter TargetName="ContentSite" Property="Visibility" Value="Hidden"/>
                    </Trigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
    <Style.Triggers>
    </Style.Triggers>
</Style> 
```

If you see in this code, you have a **ToggleButton**. This one is the one that defines your arrow. Here you have the `ToggleButton` style:

```
<ControlTemplate x:Key="ComboBoxToggleButton" TargetType="ToggleButton">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition />
            <ColumnDefinition Width="20" />
        </Grid.ColumnDefinitions>
        <Border
          x:Name="Border" 
          Grid.ColumnSpan="2"
          CornerRadius="5"
          Background="{DynamicResource DarkGradient}"
          BorderBrush="{DynamicResource SolidBorderBrush}"
          BorderThickness="1" />
        <Border 
          Grid.Column="0"
          CornerRadius="5,0,0,5"  
          Margin="1" 
          Background="{DynamicResource TextBoxBrush}" 
          BorderBrush="{DynamicResource SolidBorderBrush}"
          BorderThickness="0,0,1,0" />
        <Path 
          x:Name="Arrow"
          Grid.Column="1"     
          Fill="{DynamicResource TextBoxBrush}"
          HorizontalAlignment="Center"
          VerticalAlignment="Center"
          Data="M 0 0 L 4 4 L 8 0 Z"/>
    </Grid>
    <ControlTemplate.Triggers>
        <Trigger Property="IsEnabled" Value="False">
            <Setter TargetName="Border" Property="BorderBrush" Value="Gray" />
            <Setter Property="Foreground" Value="DarkBlue"/>
            <Setter TargetName="Arrow" Property="Fill" Value="DarkGray" />
        </Trigger>
    </ControlTemplate.Triggers>
</ControlTemplate> 
```

If you erase this line:

```
<Path 
      x:Name="Arrow"
      Grid.Column="1"     
      Fill="{DynamicResource TextBoxBrush}"
      HorizontalAlignment="Center"
      VerticalAlignment="Center"
      Data="M 0 0 L 4 4 L 8 0 Z"/> 
```

And also comment:

```
<Setter TargetName="Arrow" Property="Fill" Value="DarkGray" /> 
```

on the `ToggleButton` you erase your arrow :)

NOTE: If you want to use this code exactly, you need to create your own Fill colors.

# caching - 如何找到陈旧的 Infinispan / Jboss Cache 对象？

> ID：15377096
> 
> 赞同：1
> 
> 时间：2013-03-13T04:28:59.907
> 
> 标签：caching, jboss, jboss5.x, infinispan

主题是问题。

场景：即使有注销链接，某些用户也没有正确注销。他们立即使用新标签并再次登录。这次创建了一个新的 Cache 对象，而旧的对象并没有被破坏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-04T02:03:58.033

首先，您可以[设置默认值](http://docs.jboss.org/infinispan/5.2/apidocs/org/infinispan/api/BasicCache.html#put%28K,%20V,%20long,%20java.util.concurrent.TimeUnit,%20long,%20java.util.concurrent.TimeUnit%29) `lifespan`或`maxIdle`使所有实体超时，这样它们就不会长时间保持陈旧状态。

但是，要回答您的问题...您可以使用该`infinispan-query`模块：

```
 <dependency>
        <groupId>org.infinispan</groupId>
        <artifactId>infinispan-query</artifactId>
        <version>5.2.1.Final</version>
     </dependency> 
```

这使用休眠搜索和 apache lucene 来查询您的 infinispan 缓存。

要使用它，您需要使用 注释要搜索的字段`@org.hibernate.search.annotations.Field`和使用 的类`@org.hibernate.search.annotations.Indexed`。

您的 infinispan 缓存也需要被索引`<indexing enabled="true" indexLocalOnly="false" />`（本地或分布式 - 请参阅`indexLocalOnly`属性）。

然后您可以使用以下内容查询您的缓存：

```
import org.apache.lucene.search.Query;
import org.hibernate.search.query.dsl.QueryBuilder;
import org.infinispan.Cache;
import org.infinispan.query.CacheQuery;
import org.infinispan.query.Search;
import org.infinispan.query.SearchManager;

[...]

public List<YourEntity> searchEntities( String fieldValue ) {
  SearchManager searchManager = Search.getSearchManager( cache );
  QueryBuilder queryBuilder = searchManager.buildQueryBuilderForClass( YourEntity.class ).get();
  // this chain will change depending on what you are querying
  Query luceneQuery = queryBuilder.keyword().onField( "fieldName" ).matching( fieldValue ).createQuery();
  // use either searchManager.getClusteredQuery with local index, or a searchManager.getQuery with clustered index
  CacheQuery cacheQuery = searchManager.getQuery( luceneQuery, YourEntity.class );
  //noinspection unchecked
  return (List)cacheQuery.list();
} 
```

# testing - 播放框架2.0。在测试中使用替代 application.conf

> ID：15377097
> 
> 赞同：9
> 
> 时间：2013-03-13T04:28:59.983
> 
> 标签：testing, configuration, playframework-2.0

我的 Play 在生产中使用 mysql。但我正在尝试使用内存进行测试。

我创建了2个conf文件，1个是application.conf，另一个是application.test.conf（在同一目录中）。

我试着做

```
play -Dconfig.file=conf/application.test.conf test-only 
```

但它仍然使用默认的 conf 文件。我只是想知道是否有人知道如何在测试期间使用不同的 conf 文件。（或者至少在测试期间使用不同的数据库设置）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T07:51:28.880

如果您的意思是单元测试，那么只需添加

```
running(FakeApplication(additionalConfiguration = inMemoryDatabase())) { Test code... } 
```

到您的测试，它们将在内存中完成。无需更改 conf 文件。

# xcode - iphone：在按钮单击事件上访问默认日历和提醒

> ID：15377100
> 
> 赞同：1
> 
> 时间：2013-03-13T04:29:01.707
> 
> 标签：xcode

如何在 ios 中以编程方式检索默认日历和提醒，我有一个简单的项目，它有一个按钮，我想点击按钮访问默认提醒和日历

我已经为此做了简单的代码，但它不能正常工作以下是我的示例代码

```
 #import "ViewController.h"
 #import <EventKit/EventKit.h>

@interface ViewController ()
@end

@implementation ViewController   
- (IBAction)btn:(id)sender {
    EKEventStore *eventStore=[[EKEventStore alloc]init];
    EKEvent *event =[EKEvent eventWithEventStore:eventStore];
    NSDate *startDate=[[NSDate alloc]init];
    NSDate *endDate =[[NSDate alloc]init];

    event.title=@"Title for new event";
    event.startDate=startDate;
    event.endDate=endDate;
    event.allDay=YES;
    [event setCalendar:[eventStore defaultCalendarForNewEvents]];
    NSError *err;
    [eventStore saveEvent:event span:EKSpanThisEvent  error:&err];   

   //   if (err == noErr){
  //        UIAlertView * alert = [[UIAlertView alloc]initWithTitle:@"Event create" message:@"how about that?" delegate:nil cancelButtonTitle:@"okey" otherButtonTitles:nil];

//       

//       [alert show];
} 
```

当我当时在 iphone 4s reale 设备上运行它时，它向我显示以下错误：

> ```
> 2013-03-13 09:52:22.638 remind[774:907] defaultCalendarForNewEvents
> failed: Error Domain=EKCADErrorDomain Code=1013 "The operation
> couldn’t be completed. (EKCADErrorDomain error 1013.)" 
> ```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:22:41.037

```
 this is my .h header file where u have to declare this below code:
 uikit framework

#import <UIKit/UIKit.h>

#import <EventKitUI/EventKitUI.h>

#define ALERT_Reminder 0

@interface GaSchedulesDeWorming : UIViewController<UITableViewDataSource, UITableViewDelegate, EKEventEditViewDelegate>

{

 EKEventStore *eventStore;

}

this ins my implementation file .m:

          **#import <EventKitUI/EventKitUI.h>**
add these package 
```

以下代码用于打开默认日历以在 ipone 中设置提醒

```
 EKEventStore *eventStore=[[EKEventStore alloc]init];
     EKEvent *event =[EKEvent eventWithEventStore:eventStore];
     NSDate *startDate=[[NSDate alloc]init];
     NSDate *endDate =[[NSDate alloc]init];

     event.title=@"Title for new event";
     event.startDate=startDate;
     event.endDate=endDate;
     event.allDay=YES;
     [event setCalendar:[eventStore defaultCalendarForNewEvents]];
     NSError *err;
     [eventStore saveEvent:event span:EKSpanThisEvent  error:&err];   

     eventStore=[[EKEventStore alloc]init];

      __block BOOL accessGranted = NO;

     if([eventStore   respondsToSelector:@selector(requestAccessToEntityType:completion:)]) {

       dispatch_semaphore_t sema = dispatch_semaphore_create(0);

       [eventStore requestAccessToEntityType:EKEntityTypeEvent completion:^(BOOL granted, NSError *error) {

       accessGranted = granted;

       dispatch_semaphore_signal(sema);

       }];

       dispatch_semaphore_wait(sema, DISPATCH_TIME_FOREVER);

        } else {

       accessGranted = YES;

        }

        if (accessGranted) {

        }

        EKEventEditViewController *controller = [[EKEventEditViewController  alloc]init];

    } 
```

# .htaccess - 本机移动应用程序安全桥接托管内容

> ID：15377103
> 
> 赞同：1
> 
> 时间：2013-03-13T04:29:31.280
> 
> 标签：.htaccess, cordova, jquery-mobile, native, .htpasswd

对于以下问题，我将不胜感激。

我正在尝试使用 HTML/CSS/JQM 构建一个应用程序，我计划将其与 PhoneGap 一起打包，以打包为用于在 Android 和 iOS 平台上部署的本机应用程序。

该应用程序基本上是一个供用户输入信息的表单，提交后将使用我们的 Web 服务器上的 PHP 将其发布到电子邮件中。在用户设备和我们的网络服务器之间对信息进行加密至关重要。

我计划通过将单个条款和条件页面与本机应用程序打包在一起，并使用“接受”按钮在 Web 服务器上加载“表单”页面来做到这一点。

我想让它无法通过网络浏览器访问托管的“表单”页面（即访问该页面的唯一方法是通过本机应用程序）。

我想做的是让原生应用程序自动登录到网络服务器，这样用户就不必经历注册过程。

我曾考虑使用 Wordpress、Drupal 或 Joomla 作为解决方案，但因为服务器上只会有一个 html 页面、jquery、jqm 和 php 表单提交脚本——这似乎过于复杂。

由于提交的用户信息具有敏感性质（例如财务信息），因此托管文件不能被黑客入侵是非常重要的。此外，本机应用程序和主机服务器之间的连接必须是 SSL。

.htaccess / .htpasswd 限制是解决此问题的最佳方法吗？

任何建议将不胜感激，谢谢。

# jquery - ajaxComplete，XMLHttpRequest 未定义

> ID：15377108
> 
> 赞同：7
> 
> 时间：2013-03-13T04:29:49.907
> 
> 标签：jquery, ajax, jquery-1.9

我有一个全局`ajaxComplete`处理程序：

```
 $('body').ajaxComplete(function (event, request, settings) {           
        if (request.getResponseHeader('REQUIRES_AUTH') === '1') {
            alert("unauthorized");                
        };
    }); 
```

始终未定义的问题`request`仅填充`event`.
你能解释一下为什么吗？

ajax 请求示例：

```
$.ajax({
        cache: false,
        data: "GET",
        url: url,
        success: function (content) {           
            $('#modal').html(content);
            $('#modal').modal();           
        }
    }); 
```

**更新：** 来自 API 文档（感谢 Austin Mullins）：
**然而，从 jQuery 1.8 开始，.ajaxComplete() 方法只能附加到文档中。**

我已将我的代码更改为：

```
$(document).ajaxComplete(function (event, request, settings) {            
        if (request.getResponseHeader('REQUIRES_AUTH') === '1') {
            alert("unauthorized");               
        };
    }); 
```

但现在我得到了错误：

```
TypeError: document.createDocumentFragment is not a function    
safeFrag = document.createDocumentFragment(); (jquery-1.9.0.js (line 5800)) 
```

浏览器是 Firefox 19.0.2

**解决方案：** 问题出在 Jquery 1.9.0 版中。我已经更新到 1.9.1 并且错误消失了。感谢波阿斯。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T06:05:12.177

在您进行编辑之后，您似乎正在使用`jQuery 1.9.0`. 有几个[与 AJAX 相关的错误修正`jQuery 1.9.1`](http://blog.jquery.com/2013/02/04/jquery-1-9-1-released/)。尝试使用最新的 jQuery 版本。

# linux - 在 Linux 中，可执行文件的位置会影响 setuid 位的解释方式吗？

> ID：15377110
> 
> 赞同：3
> 
> 时间：2013-03-13T04:30:27.073
> 
> 标签：linux, security, exploit, setuid

在Linux系统中，setuid程序所在目录的权限是否会影响内核启动进程的方式？我问的原因是，当我在两个不同的目录中编译相同的 setuid 程序时，它实际上只假定了一个目录中的用户权限。我在其中编译了它`/tmp`，我试图访问的用户帐户在`/home/flag03`哪里。`flag03`从`/tmp`它执行时并没有按预期提升权限，但它在`/home`.

* * *

关于这个问题的一些背景：

我正在开发[exploit-exercises.com/nebula](http://exploit-exercises.com/nebula)的第03 级。该练习要求您获得对`flag03`用户帐户的访问权限。设置该练习，以便`flag03`用户定期运行 cronjob，这将允许您在特定目录中执行脚本。我的计划是编写一个简单的 bash 脚本，该脚本将编译一个 setuid 程序，该程序本身会启动一个 bash shell，然后将 setuid 位设置为`chmod +s`. 这个想法是，当 setuid 程序被编译时，它是由用户`flag03`通过 cronjob 编译的。一旦执行了这个新编译的程序，它将以 user 身份启动一个 shell `flag03`，这就是目标。

这是简单的 setuid 程序（l3.c，基于级别 1 + 2）：

```
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <sys/types.h>

int main(int argc, char **argv, char **envp)
{
  uid_t uid;
  gid_t gid;

  uid = geteuid();
  gid = getegid();

  setresuid(uid,uid,uid);
  setresgid(gid,gid,gid);
  printf("uid: %d\n", getuid());
  printf("gid: %d\n", getgid());
  system("/bin/bash");

  return 0;
} 
```

为了使其工作，bash 脚本以用户身份编译程序`flag03`，然后对 setuid 位进行 chmods。

```
#!/bin/bash

#gcc -o /tmp/l3 /tmp/l3.c
#chmod +s,a+rwx /tmp/l3
gcc -o /home/flag03/l3 /tmp/l3.c
chmod +s,a+rwx /home/flag03/l3 
```

生成的可执行文件`/tmp`没有按预期提升权限，但生成的可执行文件按`/home/flag03`预期工作。

**注意**`/tmp`我刚刚创建了一个新的 bash 脚本来移动编译到的 setuid 程序的版本，`/home/flag03`然后重置 setuid 位。从那里执行时，该版本也可以正常工作。因此，在我看来，setuid 程序所在目录的权限会对进程的启动方式产生某种影响。也许这与`/tmp`成为一个有点“特殊”的目录有关？

感谢您对这个冗长的问题感兴趣！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-07-16T21:15:16.417

如果使用该`nosuid`选项挂载文件系统，则在执行位于该处的文件时将忽略 suid 位。据我了解，`/tmp`通常是一个单独的文件系统（通常`tmpfs`）与该`nosuid`选项一起安装。`/tmp`此配置的动机是防止受感染的帐户除了（例如）之外没有可写存储空间`nobody`，无法生成 suid 二进制文件，这些二进制文件可用于某些精心设计的多步攻击以提升权限。

# jsp - 如何提交下拉列表的选定选项？

> ID：15377112
> 
> 赞同：0
> 
> 时间：2013-03-13T04:30:37.037
> 
> 标签：jsp, jakarta-ee, struts2

I have the following code to show a list to users to select an option, it correctly shows the list options but when an option is selected and the form is submitted, it runs into following error.

错误

```
 Caused by: tag 'select', field 'list', name 'developerID': The requested list key 
 'listOfdevelopers' could not be resolved as a collection/array/map/enumeration/iterator type. 
 Example: people or people.{name} - [unknown location] 
```

JSP

```
 <s:form ...>
  <s:select name="developerID"
                      label="developerID"
                      list="listOfdevelopers"
                      value="%{development.developerID}"
                      />
 </s:form> 
```

我的代码

```
....
private Map listOfdevelopers;
private Development development = new Development();

public Map getListOfdevelopers() {
    return listOfdevelopers;
}

public void setListOfdevelopers(Map listOfdevelopers) {
    this.listOfdevelopers = listOfdevelopers;
}

public Development getDevelopment() {
    return development;
}

public void setDevelopment(Development development) {
    this.development = development;
}

@Override
public Development getModel() {
    return this.development;
}
... 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T11:39:26.000

```
<s:select list="listOfdevelopers"
                        id="developerID"
                         name="developerID"
                             label="developerID"
                             headerKey=""
                              headerValue="Please choose one."
                            value="%{development.developerID}"
                      /> 
```

例子

```
<s:select list="genderList"
          id="gender"
          name="gender"
          cssClass="listmenu validate-selection"
          listKey="name"
          listValue="details"
          headerKey=""
          value="userInfo.userPersonalInfo.gender"
          headerValue="Please choose one."
          ></s:select> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-13T06:02:17.283

实际上问题出在您**的 s:select**上，这里的值标签导致了问题。

试试这个

```
 <s:select list="listOfdevelopers" 
              name="developerID"
              headerKey="-1" 
              headerValue="Select Any Developer"
              listKey="developerID"               // your collection_element
              listValue="developer_name"          // your collection_element
    /> 
```

# python-2.7 - GAE ndb 设计、性能和重复属性的使用

> ID：15377119
> 
> 赞同：12
> 
> 时间：2013-03-13T04:30:52.040
> 
> 标签：python-2.7, google-app-engine, google-cloud-datastore, app-engine-ndb

假设我有一个图片库，一张图片可能有 100k+ 粉丝。哪个ndb设计效率更高？

```
class picture(ndb.model):
    fanIds = ndb.StringProperty(repeated=True)
    ... [other picture properties] 
```

或者

```
class picture(ndb.model):
    ... [other picture properties]

class fan(ndb.model):
    pictureId = StringProperty()
    fanId = StringProperty() 
```

您可以添加到 ndb 重复属性的项目数量是否有任何限制，并且在重复属性中存储大量项目是否会影响性能？如果使用重复属性的效率较低，那么它们的预期用途是什么？

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2013-03-14T19:26:03.933

如果您有超过 100-1000 个值，请不要使用重复的属性。（1000 可能已经在推动它了。）它们不是为这种用途而设计的。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-13T15:35:06.217

通常 v1 会便宜得多。

在读/写成本方面，您为每个实体的获取/写入付费，因此您希望减少实体的数量。版本 1 会更便宜。如果每次取图片都取走所有粉丝，价格会便宜很多。

但是，每个实体限制为 1MB。如果您有 10 万以上的粉丝，您可以根据 fanId 的大小达到该限制。这还不包括您的其他图片数据，因此您可能会突破 1MB 的限制。您必须添加一些更复杂的代码来处理溢出情况。

大实体比小实体需要更长的时间来获取。如果您要始终同时吸引所有粉丝，v1 会更好。如果您只想在任何时候获取 5 个粉丝，v2 可能会更快（仅可能）。另一方面，如果您尝试拉出 10 万个粉丝实体……那将永远持续下去。

# iphone - UIImagePickerController 横向录制视频

> ID：15377120
> 
> 赞同：13
> 
> 时间：2013-03-13T04:31:02.667
> 
> 标签：iphone, ios, objective-c, video, uiimagepickercontroller

我们如何强制 UIImagePickerController 控制器仅在横向模式下录制视频？

我知道这个类应该用于肖像录制，但我需要将它放在风景中。

发现了几个类似的问题，但没有任何适合我的解决方案（iOS 6.1）。

例如，观察设备方向对我不起作用（这个答案- [https://stackoverflow.com/a/2147584/775779](https://stackoverflow.com/a/2147584/775779)）

如果我实现 UIImagePickerController 类别如下：

```
#import "UIImagePickerController+NonRotating.h"

@implementation UIImagePickerController (NonRotating)

- (BOOL)shouldAutorotate
{

    return YES;
}

-(NSUInteger)supportedInterfaceOrientations

{
    return UIInterfaceOrientationMaskLandscape;

}

- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation
{
    return UIInterfaceOrientationLandscapeRight;
}

@end 
```

它几乎可以工作，但我在录制过程中看到一些控件的一些奇怪行为和错误的视频方向（结果视频没问题）。

1) 开始。取消和录制按钮在正确的位置，但其他控件在错误的位置。视频是旋转的。 ![在此处输入图像描述](../Images/d4f6a3f6c1d59ba3b204ce4455559602.png)

2) 录音。定时器和视频错误。 ![在此处输入图像描述](../Images/1dd2c73f4bba509583853b930646f9d8.png)

3) 录制完成。都好！结果视频是正确的。

![在此处输入图像描述](../Images/c52cfe4a19182f7d328c8c9bfb81722f.png)

你有什么想法？

**更新** 我需要在录制过程中将屏幕锁定为横向。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-23T07:57:54.000

您需要实现一个自定义`UIImagePickerController`. 为此，您需要将 imagepicker 的属性设置`showsCameraControls`为 FALSE。

```
self.mImagePickerController.showsCameraControls = NO;
self.mImagePickerController.wantsFullScreenLayout = YES; 
```

执行此操作后，您将看不到任何默认控件。您需要为开始/停止录制和翻转相机等设置自定义按钮。

现在，您可以使用 start/stop 方法来录制视频：

当点击开始录制时，

```
[self.mImagePickerController startVideoCapture]; 
```

停止，

```
[self.mImagePickerController stopVideoCapture]; 
```

要跟踪相机之间的切换，可以使用标志

```
if (self.mImagePickerController.cameraDevice == UIImagePickerControllerCameraDeviceRear)
    {
        self.mImagePickerController.cameraDevice = UIImagePickerControllerCameraDeviceFront;
        isFrontCamera = YES;
    }
    else
    {
        self.mImagePickerController.cameraDevice = UIImagePickerControllerCameraDeviceRear;
        isFrontCamera = NO;
    } 
```

您可以根据需要在方向更改上设置控件。AppDelegate.m

```
-(NSUInteger)application:(UIApplication *)application supportedInterfaceOrientationsForWindow:(UIWindow *)window 
```

这是在方向更改时被调用的委托。您可以使用特定类的对象调用其 shouldAutorotate 方法并根据方向设置相机控制位置。

```
-(NSUInteger)application:(UIApplication *)application supportedInterfaceOrientationsForWindow:(UIWindow *)window
{
    [self.objController shouldAutorotate];
    return UIInterfaceOrientationMaskAll;
} 
```

现在在 cameraviewcontroller.m

```
-(BOOL)shouldAutorotate
{
    UIInterfaceOrientation interfaceOrientation = [[UIDevice currentDevice]orientation];

    if(interfaceOrientation == UIInterfaceOrientationPortrait)
    {
        // your controls setup
    }
    else
    {
        // view accordingly for landscape 
    }
} 
```

我试图涵盖所有要点。如果您有任何困惑，请告诉我。希望能帮助到你 ：）

1）您需要检查翻转相机按钮的点击事件的条件。

2) AppDelegate.h：声明一个类的对象，您可以在其中录制视频并创建一个属性。这里我用`CameraViewController`一个例子。

```
CameraViewController *objController; 
```

现在在 AppDelegate.m 中：

```
self.objController = [[CameraViewController alloc]initWithNibName:@"CameraViewController" bundle:nil]; 
```

现在使用这个实例来调用`shouldAutorotate`我上面显示的方法。并返回横向：

```
-(NSUInteger)application:(UIApplication *)application supportedInterfaceOrientationsForWindow:(UIWindow *)window
{
    if(isOptionScreenActive == YES)
    {
        [self.shareController shouldAutorotate];
        return UIInterfaceOrientationMaskLandscape;
    }
    else
    {
        [self.anotherController shouldAutorotate];
        return UIInterfaceOrientationMaskPortrait;
    }
} 
```

这`isOptionScreenActive`是在录制类`flag`中设置的。`viewWillAppear`将其设置`false`在`viewDidUnload`. 或者可能`viewWillAppear`属于另一类。

3) 我以cameraviewcontroller.m 为例。它反映了您的录音等级。同样在您的视频录制类的`shouldAutorotate`方法中，如果检测到的方向是纵向，则返回 NO。这样 UI 不会改变，您只能将 UI 保持为横向。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-21T04:52:38.443

试试这个可能会帮助你

```
- (BOOL)shouldAutorotate
{
return NO;
}

-(NSUInteger)supportedInterfaceOrientations
{
 return UIInterfaceOrientationLandscapeRight | UIInterfaceOrientationLandscapeLeft;
}

- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation
{
return UIInterfaceOrientationLandscapeRight;
}

- (BOOL)shouldAutorotateToInterfaceOrientation:    (UIInterfaceOrientation)interfaceOrientation
{
  return (interfaceOrientation == UIInterfaceOrientationLandscapeRight ||       interfaceOrientation == UIInterfaceOrientationLandscapeLeft);
} 
```

它会工作的...... :)

# github - 有什么方法可以查看对公共 GitHub 存储库具有提交访问权限的用户？

> ID：15377122
> 
> 赞同：2
> 
> 时间：2013-03-13T04:31:05.213
> 
> 标签：github

在 GitHub 上，我可以看到提交了拉取请求的贡献者。但是，有没有办法查看具有提交访问权限的协作者的完整列表？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:05:59.837

您可以使用[GitHub API](http://developer.github.com/v3/repos/collaborators/)并获取给定存储库的协作者列表

```
GET /repos/:owner/:repo/collaborators 
```

请注意，当您执行此查询时，这取决于您的凭据：

> *   当作为组织拥有的存储库的组织所有者进行身份验证时，所有组织所有者都包含在协作者列表中。
> *   否则，只有有权访问存储库的用户才会返回到协作者列表中。

# javascript - 更改当前字符串值

> ID：15377123
> 
> 赞同：1
> 
> 时间：2013-03-13T04:31:06.677
> 
> 标签：javascript

如何更改数字、字符串或数组的当前值？

```
String.prototype.change_me = function() { this = '123'; }
Number.prototype.change_me = function() { this = 123; }
Array.prototype.change_me = function() { this = [1,2,3]; }
x = '234';
x.change_me(); // error
x = 234;
x.change_me(); // error
x = [2,3,4];
x.change_me(); // error 
```

错误是：ReferenceError: Invalid left-hand side in assignment

我想我以前做过这个，但我忘了怎么做..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T04:45:22.583

我看到你想使用[apply()](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/apply)函数做一些事情，但看到对象不是这些其他类型，不确定是否可以在字符串、数字和数组上使用相同的概念。

# authentication - 从 UIAlertview 获取用户名、密码以在 willSendRequestForAuthenticationChallenge xcode 中使用

> ID：15377125
> 
> 赞同：2
> 
> 时间：2013-03-13T04:31:11.043
> 
> 标签：authentication, uialertview

我正在尝试从 uialertview 获取用户名和密码并传递给 willSendRequestForAuthenticationChallenge。这些是我的代码。

```
- (void)connection:(NSURLConnection *)connection willSendRequestForAuthenticationChallenge:(NSURLAuthenticationChallenge *)challenge
{
UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:@"Login"
                                                    message:nil
                                                   delegate:self
                                          cancelButtonTitle:@"Cancel"
                                          otherButtonTitles:@"OK",@"Auto", nil];

alertView.transform=CGAffineTransformMakeScale(1.0, 0.75);
alertView.alertViewStyle = UIAlertViewStyleLoginAndPasswordInput;
[alertView show];

if ([challenge previousFailureCount] == 0)
    {
        NSLog(@"Inside challenge previousFailureCount==0");
        NSURLCredential *credentail = [NSURLCredential
                                       credentialWithUser:Username
                                       password:Password
                                       persistence:NSURLCredentialPersistenceNone];

        [[challenge sender] useCredential:credentail forAuthenticationChallenge:challenge];
    }
}
- (void)alertView:(UIAlertView *)alertView didDismissWithButtonIndex:(NSInteger)buttonIndex 
{
//Index1 = OK
//Index2 = Auto
//Index0 = Cancel

NSLog(@"Alert View dismissed with button at index %d",buttonIndex);

if(buttonIndex==1)
{
    NSURLAuthenticationChallenge *challenge;
    Username= [alertView textFieldAtIndex:0].text;

    Password= [alertView textFieldAtIndex:1].text;

}
} 
```

问题是我不能从 UIalertview 调用用户名和密码来传递。如果我写上面的代码，在用户写用户名和密码之前，它会做挑战。我们必须等到用户按下 OK。此外，如果我在 didDismissWithButtonIndex 中进行挑战，我也会出错。我想知道怎么做。请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T06:44:25.330

哦....我想我找到了一种方法。我记得 willSendRequestForAuthenticationChallenge。所以，首先，UIalertview 会显示。我们将保存用户名和密码。然后，我们调用 willSendRequestForAuthenticationChallenge 并传递用户名和密码。

```
- (void)alertView:(UIAlertView *)alertView didDismissWithButtonIndex:(NSInteger)buttonIndex 
{
    //Index1 = OK
    //Index2 = Auto
    //Index0 = Cancel
    checkUserPw=TRUE;
    checkTochangeUIalert=FALSE;
    NSLog(@"Alert View dismissed with button at index %d",buttonIndex);

    if(buttonIndex==1)
    {
        checkManualAuthentication=TRUE; 
        NSLog(@"User clicks OK");
        self.UserName = [alertView textFieldAtIndex:0].text;

        self.Password = [alertView textFieldAtIndex:1].text;

        connection_for_auto = [[NSURLConnection alloc] initWithRequest: [NSURLRequest requestWithURL:toRedirectURL] delegate:self];

        [connection_for_auto start];

    }
}

- (void)connection:(NSURLConnection *)connection willSendRequestForAuthenticationChallenge:(NSURLAuthenticationChallenge *)challenge
{

if(!checkUserPw){
    //so that alert will display only once.
    UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:@"Login"
                                                    message:nil
                                                   delegate:self
                                          cancelButtonTitle:@"Cancel"
                                          otherButtonTitles:@"OK",@"Auto", nil];

    alertView.alertViewStyle = UIAlertViewStyleLoginAndPasswordInput;
    [alertView show];
    }
    else
    {
       NSURLCredential *credentail =nil;
       credentail = [NSURLCredential
                                       credentialWithUser:self.UserName
                                       password:self.Password
                                       persistence:NSURLCredentialPersistenceNone];
  [[challenge sender] useCredential:credentail forAuthenticationChallenge:challenge];
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T04:42:02.680

单击 alertView 按钮时，它会关闭 alertView 。最好采用更多 alertView 并在那里传递您的值。

如果这不是我建议的情景，请详细说明您到底想要什么。

# android - 创建具有黑色残留区域问题的新位图

> ID：15377126
> 
> 赞同：0
> 
> 时间：2013-03-13T04:31:26.700
> 
> 标签：android, canvas, bitmap

在用户对其进行缩放、旋转、拖动等操作后，我必须从原始图像创建新的位图。我有一个框架边框，只有部分原始图像位于框架上。问题是框​​架的剩余区域是黑色的，我希望它可以是透明的或白色的。怎么做？提前致谢。

![在此处输入图像描述](../Images/9956bc5a294a4b46b970b07260c04c9f.png) ![在此处输入图像描述](../Images/8ff96dd8d3ba6b6059edca7806bf647e.png)

```
public Bitmap createBitmap(final Matrix pMatrix, final Bitmap pSourceBitmap){

  Bitmap bmp = Bitmap.createBitmap(width, height, pSourceBitmap.getConfig());

Canvas canvas = new Canvas(bmp);
  canvas.drawBitmap(pSourceBitmap, pMatrix, new Paint());

  return bmp;
 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T19:44:30.260

使剩余部分透明

使用以下代码

```
public Bitmap createBitmap(final Matrix pMatrix, final Bitmap pSourceBitmap)
{
     Bitmap.Config conf = Bitmap.Config.ARGB_8888; 
     Bitmap bmp= Bitmap.createBitmap(width, height, conf); 
     Canvas canvas = new Canvas(bmp);
     canvas.drawBitmap(pSourceBitmap, pMatrix, new Paint());

     return bmp;
} 
```

# asp.net - 为 ASP.NET MVC4 中的无效 DateTime 自定义错误消息 MVC

> ID：15377131
> 
> 赞同：19
> 
> 时间：2013-03-13T04:31:56.300
> 
> 标签：asp.net, asp.net-mvc, validation, asp.net-mvc-4

我在使用模型中的数据注释来指定验证 DateTime 输入值的错误消息时遇到问题。我真的很想使用正确的 DateTime 验证器（而不是 Regex 等）。

```
[DataType(DataType.DateTime, ErrorMessage = "A valid Date or Date and Time must be entered eg. January 1, 2014 12:00AM")]
public DateTime Date { get; set; } 
```

我仍然收到“字段日期必须是日期”的默认日期验证消息。

我错过了什么吗？

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2013-07-27T19:21:14.550

将以下键添加到 Global.asax 中的 Application_Start()

```
ClientDataTypeModelValidatorProvider.ResourceClassKey = "YourResourceName";
DefaultModelBinder.ResourceClassKey = "YourResourceName"; 
```

在**App_GlobalResources**文件夹中创建**YourResourceName.resx**并添加以下键

 ***   **FieldMustBeDate**字段 {0} 必须是日期。
*   **FieldMustBeNumeric**字段 {0} 必须是数字。
*   **PropertyValueInvalid**值“{0}”对 {1} 无效。
*   **PropertyValueRequired**值是必需的。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2014-10-02T23:07:04.823

我找到了一个简单的解决方法。

您可以保持模型不变。

```
[DataType(DataType.Date)]
public DateTime Date { get; set; } 
```

然后覆盖视图中的 'data-val-date' 属性。

```
@Html.TextBoxFor(model => model.Date, new
{
    @class = "form-control",
    data_val_date = "Custom error message."
}) 
```

或者，如果您想参数化您的消息，您可以使用静态函数`String.Format`：

```
@Html.TextBoxFor(model => model.Date, new
{
    @class = "form-control",
    data_val_date = String.Format("The field '{0}' must be a valid date.",  
                                    Html.DisplayNameFor(model => model.Date))
}) 
```

与资源类似：

```
@Html.TextBoxFor(model => model.Date, new
{
    @class = "form-control",
    data_val_date = String.Format(Resources.ErrorMessages.Date,  
                                   Html.DisplayNameFor(model => model.Date))
}) 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2013-03-13T04:43:58.107

我有一个肮脏的解决方案。

创建自定义模型绑定器：

```
public class CustomModelBinder<T> : DefaultModelBinder
{
    public override object BindModel(ControllerContext controllerContext, ModelBindingContext bindingContext)
    {
        var value = bindingContext.ValueProvider.GetValue(bindingContext.ModelName);
        if(value != null && !String.IsNullOrEmpty(value.AttemptedValue))
        {
            T temp = default(T);
            try
            {
                temp = ( T )TypeDescriptor.GetConverter(typeof(T)).ConvertFromString(value.AttemptedValue);
            }
            catch
            {
                bindingContext.ModelState.AddModelError(bindingContext.ModelName, "A valid Date or Date and Time must be entered eg. January 1, 2014 12:00AM");
                bindingContext.ModelState.SetModelValue(bindingContext.ModelName, value);
            }

            return temp;
        }
        return base.BindModel(controllerContext, bindingContext);
    }
} 
```

然后在 Global.asax.cs 中：

```
protected void Application_Start()
{
    //...
    ModelBinders.Binders.Add(typeof(DateTime), new CustomModelBinder<DateTime>()); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-05-28T16:37:11.740

我通过在我的操作方法开始时修改 ModelState 集合中的错误来解决这个问题。像这样的东西：

```
 [HttpPost]
    [ValidateAntiForgeryToken]
    public ActionResult MyAction(MyModel model)
    {
        ModelState myFieldState = ModelState["MyField"];
        DateTime value;
        if (!DateTime.TryParse(myFieldState.Value.AttemptedValue, out value))
        {
            myFieldState.Errors.Clear();
            myFieldState.Errors.Add("My custom error message");
        }

        if (ModelState.IsValid)
        {
            // Do stuff
        }
        else
        {
            return View(model);
        }
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-13T04:39:56.053

尝试使用正则表达式注释，例如

```
[Required]
[RegularExpression("\d{4}-\d{2}-\d{2}(?:\s\d{1,2}:\d{2}:\d{2})?")]
public string Date { get; set; } 
```

或[检查这个](https://stackoverflow.com/questions/5390403/datetime-date-and-hour-validation-with-data-annotation)**

# php - WordPress 类型插件获取帖子的标题而不是图像的标题

> ID：15377137
> 
> 赞同：0
> 
> 时间：2013-03-13T04:32:32.127
> 
> 标签：php, wordpress, image, custom-post-type

我正在使用一个名为[Types](http://wordpress.org/extend/plugins/types/)的 wordpress 插件。

我正在使用他们的自定义字段功能将图像上传到我的自定义侧边栏中的画廊。我还使用灯箱来显示这些图像。

所以我试图让每张图片的标题出现

```
<?php $resortimages = get_post_meta(get_the_ID(), 'wpcf-r-images'); 
foreach ($resortimages as $resortimage) {
echo '<li><a href="'. $resortimage. '" rel="lightbox" title="" ><img src="'. $resortimage. '"/></a></li>';
} 
```

我试过获取帖子标题，但它只是获取帖子本身的标题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-26T17:39:44.140

Jesper，看起来类型图像字段仅存储图像 URL，而不是其内容。如果您想检索一些其他信息（例如标题、标题和描述），您可能必须尝试通过其 URL 获取图像 ID。在你的functions.php中：

```
/**
 * Retrieve the attachment ID from its URL
 * 
 * @param string $image_url
 * @return int $attachment[0] The attachment ID
 *
 * @link http://pippinsplugins.com/retrieve-attachment-id-from-image-url/
 */
function mytheme_get_attachment_id( $image_url ) {
    global $wpdb;

    $prefix = $wpdb->prefix;
    $attachment = $wpdb->get_col( $wpdb->prepare( "SELECT ID FROM " . $prefix . "posts" . " WHERE guid='%s';", $image_url ) ); 
        return $attachment[0]; 

} 
```

之后，您可以使用您`foreach`并检查您的 ID：

```
<?php
$resortimages = get_post_meta(get_the_ID(), 'wpcf-r-images'); 

foreach ($resortimages as $resortimage) {

    // Get attachment ID by its URL
    if ( $resortid = mytheme_get_attachment_id( $resortimage ) )
        $resortname = get_the_title($resortid);

    echo '<li><a href="'. $resortimage. '" rel="lightbox" title="' . $resorttitle . ' ><img src="'. $resortimage. '"/></a></li>';
}
?> 
```

但请注意您将执行的查询数量。希望能帮助到你！

# java - 是否有简单的方法将 String.toLowerCase() 用于 9 种语言？

> ID：15377138
> 
> 赞同：10
> 
> 时间：2013-03-13T04:32:41.313
> 
> 标签：java

我需要在下面的列表中处理 9 种语言。

*   荷兰语
*   英语
*   法语
*   德语
*   意大利语
*   葡萄牙语
*   俄语
*   西班牙语
*   乌克兰

对于这些语言中的单词，我需要使用`tolowercase()`. 我知道我需要`Locale(country, language)`用作函数的参数。那么，我是否必须为每种语言使用特定的语言环境，还是有更简单的方法来做到这一点？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-13T04:51:12.843

您可以`Locale`从 ISO 639 语言代码构造一个：

```
Locale russian = new Locale("RU"); 
```

有很好的默认语言环境供您使用，例如：

```
Locale english = Locale.ENGLISH;
Locale french = Locale.FRENCH;
Locale german = Locale.GERMAN;
Locale italian = Locale.ITALIAN; 
```

然后只需`String#toLowerCase()`与语言环境一起使用：

```
String lower = str.toLowerCase(someLocale); 
```

# sql - 在插入多行时，语句“select 1 from dual”的作用是什么？

> ID：15377140
> 
> 赞同：16
> 
> 时间：2013-03-13T04:32:46.910
> 
> 标签：sql, oracle, oracle11g, multiple-insert

使用以下样式将多行插入表中时：

```
insert all

into ghazal_current (GhazalName,Rating) values('Ajab Apna Haal Hota Jo Visaal-e-Yaar Hota',5)
into ghazal_current (GhazalName,Rating) values('Apne Hothon Par Sajana Chahta Hun',4)
into ghazal_current (GhazalName,Rating) values('Shaam Se Aankh Mein Nami Si Hai',4)
into ghazal_current (GhazalName,Rating) values('Tumhe Yaad Ho Ke Na Yaad Ho',3)

select 1 from dual; 
```

声明`select 1 from dual`是什么意思？这是为了什么？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-13T04:40:06.773

DUAL is a built-in table, useful because it is guaranteed to [return only one row](https://docs.oracle.com/cd/E11882_01/server.112/e41084/queries009.htm#SQLRF20036). This means `DUAL` may be used to get pseudo-columns such as `user` or `sysdate`, the results of calculations and the like. The owner of DUAL is `SYS` but it can be accessed by every user. DUAL is well-covered in the documentation. [Find out more](https://docs.oracle.com/cd/E11882_01/server.112/e40540/datadict.htm#CNCPT1219).

In your case, `SELECT 1 FROM DUAL;` will simply returns `1`. You need it because the INSERT ALL syntax demands a SELECT clause but you are not querying the input values from a table.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-13T13:18:03.793

## 简要重新介绍一排表

一些 SQL 数据库要求所有值都来自一个表或类似表的对象，而其他 SQL 数据库则允许查询从*nihilo**构造*值：

```
-- MySQL, sqlite, PostgreSQL, HSQLdb, and many others permit
-- a "naked" select:
SELECT 1;

-- Others *require* a FROM target, like Oracle.
SELECT 1 FROM DUAL;

-- ...and Firebird/Interbase:
SELECT 1 FROM RDB$DATABASE;

-- ...and DB2:
SELECT 1 FROM SYSIBM.SYSDUMMY1; 
```

这里 DUAL 的基数很重要。如果它有不止一行，那么您的结果集将有不止一行。例如，当你`SELECT 1 FROM A_Table_With_Ten_Rows`?

## 为什么在这里使用 DUAL

SQL 构造*`VALUES (<row-value-expression>)`*是一个行值构造函数。 `VALUES (1, 2, 3)`就像“创建”一行值一样`SELECT 1, 2, 3`。

当然，Oracle 要求这些值来自*某个*地方。

作为演示，不要在 INSERT ALL 的末尾从 DUAL 中选择，而是尝试一个有*N*行的表，您会看到每一`VALUES()`行都插入了*N*次。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-13T05:06:48.623

有一些关于在查询中使用对偶的示例：

```
 select sysdate from dual  /--it returns date of system
    SELECT chr(223) FROM dual /--it returns character of Asciهi code
    select  my_sequence.nextval from dual; /-- It returns the next value of a sequence
    select to_char(sysdate,'yyyy/mm/dd','nls_calendar=persian')from dual 
    /--returns persian date of system 
```

# image - matlab中图像的色度相似度

> ID：15377141
> 
> 赞同：1
> 
> 时间：2013-03-13T04:32:57.747
> 
> 标签：image, matlab, image-processing

我目前正在做一个图像质量评估项目并实施以下论文

**一种新的彩色图像质量评估方法 - Niveditta Thakur 和 Swapna Devi，国际计算机应用杂志，2011 年 2 月**

我已经实现了大部分代码，但很难理解如何计算颜色相似度。我将 RGB 图像转换为 HSI ，现在我想在一个平面中从中提取色度信息并进行相似度测量。

这是我所做的：

```
hsi=rgb2hsi(I);
H = hsi(:,:,1); % seperate Saturation & Intensity to give hue of image
S = hsi(:,:,2); % Seperate Hue & Intensity to give Saturation of image
I = hsi(:,:,3); % Seperate Hue & saturation to give Intensity/grayscale image
h_n=cat(3,H,S,x_z);
g_n=rgb2gray(h_n);
k=1;
for x=1:factor:s1-2
    for y=1:factor:s2-2
        for  i=0:factor-1
            for j=0:factor-1
                n1((i+1),(j+1),k)=g_n((x+i),(y+j),1);
            end
        end
        k=k+1;
    end
end

for p=1:3072
    mh1(p)=mean2(n1(:,:,p));
end 
```

我在失真图像和测试图像上都运行了这个。相似性度量计算如下：

```
hue=[((2*(mh1*mh2)))]/[(((mh1)^2+(mh2)^2))]; 
```

但我仍然没有我想要的结果。

任何人都可以帮忙吗？

# ruby-on-rails - Rails - 在客户端使用来自服务器的代码（css、js、html）

> ID：15377148
> 
> 赞同：0
> 
> 时间：2013-03-13T04:33:31.040
> 
> 标签：ruby-on-rails, design-patterns

我有一个使用引导程序和简单形式构建的应用程序轨道。在这里，我必须向 UI 模式展示它们的实际外观。这意味着我必须在我的应用程序中显示菜单栏、手风琴模式示例等模式。为此，我将模式代码 html、css、js 存储在数据库中。

在这里，我的要求是我必须从存储的记录（css，js，html）中显示实际的代码模式视图，而没有任何 css/js 冲突。

如何在部分或页面中动态地输入 html、css、js 代码以在 rails 的花式框中显示它。

我在这里先向您的帮助表示感谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-13T06:07:06.797

只需使用`html_safe`或`raw`将您的内容呈现为视图上的普通字符串。例如：

在您的控制器中：

```
@x = YOUR_CODE_FROM_DB 
```

在你看来：

```
<%= @x.html_safe %>
# <%= raw @x %> is also ok in this case 
```

注意：您可以`html_safe`在模型上使用，但`raw`在助手上声明，因此您可以在控制器和视图上使用它。

- 编辑 -

更多示例：

在控制器上：

```
@hello = 'alert("hi");'
@body = 'body{ background: red; }' 
```

正在查看：

```
<script type="text/javascript" charset="utf-8">
  <%= raw @hello %>
</script>

<style type="text/css" media="all">
  <%= @body.html_safe %>
</style> 
```

# xslt - WiX - 将基于环境编译的 web.config 复制到网站根目录

> ID：15377149
> 
> 赞同：2
> 
> 时间：2013-03-13T04:33:47.203
> 
> 标签：xslt, wix, guid

作为我的 WiX 安装的一部分，我将所有转换/编译的 web.config 文件复制到安装目录。编译后的 web.config 的名称格式为 web.{ENV}.config。在我的安装 UI 中，我创建了一个自定义对话框，我在其中解析 ENV 并填充一个组合框，以便用户可以选择我们部署到的环境。此组合框设置一个属性 ENV。

我需要了解如何使用此属性将安装的配置文件复制到网站根目录。

更新：@Rob_Mensching - 您的解决方案有效，但是，在编译时，WiX 迫使我为每个此类组件创建一个 GUID。有什么办法可以避免吗？问题是我将通过在我的 wxs 文件上运行 XSLT 来生成这段代码，该文件是使用热量生成的；并且我无法使用 XSLT 生成 GUID（或者我可以吗？）

这就是我的代码现在的样子：

```
<ComponentGroup Id='web.config' Directory='CONFIGLOCATION'>
  <Component Id='CopyWebConfigForDev1' Guid='{F207C26A-5D9C-4F19-96A3-D818BB226EFC}' >
    <Condition>ENV="Dev1"</Condition>
    <CopyFile Id='CopyDev1Config' FileId='fil9C4CFE42035F1A63180142352CF441BC' DestinationDirectory='CONFIGLOCATION' DestinationName='web.config'/>
  </Component>
  <Component Id='CopyWebConfigForQA1' Guid='{F207C26A-5D9C-4F19-96A3-D818BB226EFC}' >
    <Condition>ENV="QA1"</Condition>
    <CopyFile Id='CopyQA1Config' FileId='fil12F8B50F03F1BD91A579F6B6CE7195DF' DestinationDirectory='CONFIGLOCATION' DestinationName='web.config'/>
  </Component>
</ComponentGroup> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T05:30:22.353

我会使用“组件条件”b 来做到这一点。像下面这样的东西应该很好用：

```
<Fragment>
  <ComponentGroup Id='web.config' Directory='ConfigFolder'>
    <Component>
      <Condition>ENV~="Production"</Condition>
      <File Source='web.Production.config'>
         <CopyFile DestinationDirectory='INSTALLFOLDER' DestinationName='web.config' />
      </File>
    </Component>

    <Component>
      <Condition>ENV~="Test"</Condition>
      <File Source='web.Test.config'>
         <CopyFile DestinationDirectory='INSTALLFOLDER' DestinationName='web.config' />
      </File>
    </Component>
  </ComponentGroup>
</Fragment> 
```

条件语法记录在这里：http: [//msdn.microsoft.com/en-us/library/windows/desktop/aa368012 (v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/aa368012(v=vs.85).aspx)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-15T03:52:19.123

在 Rob 提供的代码的帮助下，经过更多研究，我发现如果您的安装文件夹不是标准文件夹，如何避免为每个组件提供 Guid。只需为您尝试将组件安装到的自定义目录指定 ComponentGuidGenerationSeed。指定此属性的目录不必是要安装组件的位置的直接父目录。这就是我的目录结构现在的样子：

```
<Directory Id="TARGETDIR" Name="SourceDir">
      <Directory Id="INETPUBFOLDER" Name="inetpub">
        <Directory Id="WWWROOTFOLDER" Name="wwwroot" ComponentGuidGenerationSeed="PUT-YOUR-GUID">
          <Directory Id="CONFIGLOCATION" Name="$(var.PublishLocation)" />
          <Directory Id="INSTALLLOCATION" Name="$(var.PublishLocation)" >
            <Directory Id="APPFOLDER" Name="bin" />
            <Directory Id="MyProject.Web.Content" />
            <Directory Id="CONFIGSFOLDER" Name="Configs">
              <Directory Id="WEBFOLDER" Name="Web">
                <Directory Id="WEBCONFIGFILES" />
              </Directory>
              <Directory Id="NLOGFOLDER" Name="NLog">
                <Directory Id="NLOGCONFIGFILES" />
              </Directory>
            </Directory>
          </Directory>
        </Directory>
      </Directory>
    </Directory> 
```

这就是我现在收获和 xml 转换的 wxs 文件的外观：

```
<?xml version="1.0" encoding="utf-8"?>
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi" xmlns:wix="http://schemas.microsoft.com/wix/2006/wi">
    <Fragment>
        <DirectoryRef Id="WEBCONFIGFILES">
            <Component Id="cmp9CAF0D4A0C62775945002986D1D99926" Guid="PUT-YOUR-GUID">
                <File Id="fil9C4CFE42035F1A63180142352CF441BC" KeyPath="yes" Source="$(var.WebConfigFilesDir)\Web.Dev1.config" />
            </Component>
            <Component Id="cmpB5117E2029EA9A7CC3AFC247EA4483AD" Guid="PUT-YOUR-GUID">
                <File Id="fil0F80FEAFAD0333C3B74BB742C4FE118C" KeyPath="yes" Source="$(var.WebConfigFilesDir)\Web.Prod.config" />
            </Component>
            <Component Id="cmp340743041F12BBE6C7C40D4351407D08" Guid="PUT-YOUR-GUID">
                <File Id="fil12F8B50F03F1BD91A579F6B6CE7195DF" KeyPath="yes" Source="$(var.WebConfigFilesDir)\Web.QA1.config" />
            </Component>
        </DirectoryRef>
    </Fragment>
    <Fragment>
        <ComponentGroup Id="WebConfigFiles">
            <ComponentRef Id="cmp9CAF0D4A0C62775945002986D1D99926" />
            <ComponentRef Id="cmpB5117E2029EA9A7CC3AFC247EA4483AD" />
            <ComponentRef Id="cmp340743041F12BBE6C7C40D4351407D08" />
        </ComponentGroup>
    </Fragment>
    <Fragment>
        <UI Id="EnvironmentComboBox">
            <ComboBox Property="ENV">
                <ListItem Value="Dev1" Text="Dev1" />
                <ListItem Value="Prod" Text="Prod" />
                <ListItem Value="QA1" Text="QA1" />
            </ComboBox>
        </UI>
    </Fragment>
    <Fragment>
        <ComponentGroup Id="web.config" Directory="CONFIGLOCATION">
            <Component Id="cmpWebConfigForDev1">
                <Condition>ENV="Dev1"</Condition>
                <File Id="CopyDev1Config" Source="$(var.WebConfigFilesDir)\Web.Dev1.config" Name="web.config" />
            </Component>
            <Component Id="cmpWebConfigForProd">
                <Condition>ENV="Prod"</Condition>
                <File Id="CopyProdConfig" Source="$(var.WebConfigFilesDir)\Web.Prod.config" Name="web.config" />
            </Component>
            <Component Id="cmpWebConfigForQA1">
                <Condition>ENV="QA1"</Condition>
                <File Id="CopyQA1Config" Source="$(var.WebConfigFilesDir)\Web.QA1.config" Name="web.config" />
            </Component>
        </ComponentGroup>
    </Fragment>
</Wix> 
```

在上述文件中，收获工具仅生成前两个片段。接下来的两个片段包含 UI/ComboBox 定义和 WebconfigFiles 的 ComponentGroup，是使用 XML 转换通过从第一个片段中的 File 元素中读取信息来创建的。

# python - 如何在不获取输出的情况下调用发送函数？

> ID：15377150
> 
> 赞同：16
> 
> 时间：2013-03-13T04:33:52.147
> 
> 标签：python, scapy

有谁知道如何使用 scapy 发送数据包而不接收任何输出？

这是命令：

```
send(packet, iface="eth0") 
```

这是输出

```
Sent 1 packets. 
```

我试图让它根本不打印数据包计数行。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-03-13T04:44:44.077

试试这个`verbose`参数。[Scapy 文档](http://www.secdev.org/projects/scapy/files/scapydoc.pdf)说`verbose`应该“使函数在 0 时完全静音”。两者似乎都有效`False`。`0`例如：

```
>>> send(IP(dst="1.2.3.4")/ICMP())
.
Sent 1 packets.
>>> send(IP(dst="1.2.3.4")/ICMP(), verbose=0)
>>> send(IP(dst="1.2.3.4")/ICMP(), verbose=False)
>>> 
```

您可以使用以下方法获取更多信息`help()`：

```
>>> help(send)
Help on function send in module scapy.sendrecv:

send(x, inter=0, loop=0, count=None, verbose=None, realtime=None, *args, **kargs)
    Send packets at layer 3
    send(packets, [inter=0], [loop=0], [verbose=conf.verb]) -> None
(END) 
```

# iphone - 我的应用只在美国商店有售，为什么？

> ID：15377156
> 
> 赞同：0
> 
> 时间：2013-03-13T04:34:32.723
> 
> 标签：iphone, ios, xcode, ipad, release

今天我的应用程序终于在 iTunes 上发布，它是一个免费的应用程序，但它只在美国商店有售。如何将其更改为在全球范围内可用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T04:48:10.083

要更改您的应用程序出现的商店，请转到`iTunesConnect -> "Manage Your Applications"`选择您的应用程序并单击`"Rights and Pricing"`按钮。您可以在此处查看商店。

如果这里一切正常，Apple 可能需要一些时间进行更新。

谢谢

# sql-server - 如何在 SQL Server 的 SELECT 中显示 CLOB 类型？

> ID：15377158
> 
> 赞同：16
> 
> 时间：2013-03-13T04:34:41.207
> 
> 标签：sql-server, database, tsql, clob

我有一个包含一列 CLOB 类型数据的表，它们都很短，不超过 20 个字节，但是我看不到 CLOB 数据中的实际字符串。

例如，如果我使用`SELECT *`，在 CLOB 类型下，每个数据都是这样的：

```
CLOB, 8 Bytes
CLOB, 15 Bytes
CLOB, 9 Bytes 
```

但我只想看看 CLOB 数据的内容。

我试过：

```
SELECT DBMS_LOB.SUBSTR(ClobColumnName, 20 ,1) 
```

它不起作用，错误是：

> *错误代码：4121，SQL 状态：S1000
> 找不到列“DBMS_LOB”或用户定义的函数或聚合“DBMS_LOB.SUBSTR”，或者名称不明确。*

那么我能问一下在查询中直接显示 CLOB 数据的语法是什么吗？

我将 SQL Server 与`dbVisualizer`.

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-03-13T05:12:05.307

我想出了一个解决方案。应该有更好的方法，请在评论中显示更多可能的解决方案。

```
SELECT CAST(ClobColumnName AS VARCHAR(50)) AS ClobColumnName ; 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-06-20T04:30:41.913

我有一列的表具有 CLOB 数据类型（1000K），在将消息/数据存储到 CLOB 列后，发现一种解决方案可以查看 CLOB 列中的实际数据。

```
 SELECT CAST(T.CLOB_COLUMNNAME AS VARCHAR(1000)) AS SAMPLEDATA 
  FROM TABLE_NAME AS T 
```

上述查询将 CLOB(Character Large Objects) 转换为普通字符串。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-12-02T14:10:42.233

要在 DbVis 中查看它，您只需在选项中进行更改。有一个用于显示 CLOB 列的条目。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-08-30T14:29:16.937

我假设您正在使用 jDTS 驱动程序连接到 SQL Server。在连接的驱动程序属性中，您可以将“USELOBS”设置为 False 以自动将它们转换为字符串。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-11-25T16:44:42.507

我遇到了同样的问题，并通过使用 DBeaver ( [http://dbeaver.jkiss.org/](http://dbeaver.jkiss.org/) ) 而不是 dbVisualizer 解决了它。

当我使用 DBeaver 并从我的 SQLServer 中选择 * 时，我只需双击结果集中的 CLOB，它就会在包含内容的新窗口中打开。非常光滑。

# typescript - 字符串不是字符串

> ID：15377159
> 
> 赞同：2
> 
> 时间：2013-03-13T04:34:41.307
> 
> 标签：typescript

将字符串视为字符串有效。然而，将 String 视为字符串的想法被打破了：

```
var str1:String = "asdf"; 
var str2:String = new String("asdf");
var str3:string = "asdf";
var str4:string = new String("asdf"); // Error 
```

[试试看](http://www.typescriptlang.org/Playground/#src=var%20str1%3aString%20=%20%22asdf%22;%20%0Avar%20str2%3aString%20=%20new%20String%28%22asdf%22%29;%0Avar%20str3%3astring%20=%20%22asdf%22;%0Avar%20str4%3astring%20=%20new%20String%28%22asdf%22%29;%20//%20Error%20)

还：

```
var interfaceBased:String = "123";
var keywordBased:string ="123";
interfaceBased=keywordBased;
keywordBased=interfaceBased; // Error 
```

[试试看](http://www.typescriptlang.org/Playground/#src=var%20interfaceBased%3aString%20=%20%22123%22;%0Avar%20keywordBased%3astring%20=%22123%22;%0AinterfaceBased=keywordBased;%0AkeywordBased=interfaceBased;%20//%20Error%20%20%0A)

这是一个已知的编译器错误吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-13T04:58:27.363

`String`是 Javascript 类型，`string`而是 Typescript 类型。我不认为这是一个错误，而是一个怪癖。主要是因为绝对没有理由`String()`在字符串文字上使用构造函数。

见这里：[打字稿：字符串和字符串之间的区别](https://stackoverflow.com/questions/14727044/typescript-difference-between-string-and-string)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-13T05:05:27.913

这源于 JavaScript 的一个怪癖：有原始字符串和对象字符串。原始字符串是您日常使用的字符串：

```
typeof "Hi! I'm a string!"  // => "string" 
```

但是，任何时候使用`new`，都会创建一个对象而不是原始对象：

```
typeof new String("Hi! I'm a string!")  // => "object" 
```

每当您访问属性时，JavaScript 也会隐式地从原始字符串中创建一个对象字符串，因为只有对象才能具有属性：

```
var s = "Hi! I'm a string!";
s.property = 6;  // s implicitly coerced to object string, property added
console.log(s.property);  // => undefined
// property was added to the object string, but then the object string was
// discarded as s still contained the primitive string. then s was coerced again
// and the property was missing as it was only added to an object whose reference
// was immediately dropped. 
```

你几乎从不想要一个对象字符串，因为它的怪癖（例如，一个空的对象字符串是真实的），所以`new String`你几乎总是想要`String`而不是使用。`String`without`new`甚至可以将对象字符串转换回原始字符串：

```
typeof String(new String("Hi! I'm a string!"))  // => "string" 
```

我不知道这个问题是否出现在 TypeScript 中，但是原始/对象的区别，尤其是真实性问题在`Boolean`. 例如：

```
var condition = new Boolean(false);
if(condition) {  // always true; objects are always truthy
    alert("The world is ending!");
} 
```

**简而言之，这是因为对象/原始的区别。您几乎总是需要可以选择的原语。**

# javascript - 根据Javascript中的字符串输入生成唯一编号

> ID：15377161
> 
> 赞同：5
> 
> 时间：2013-03-13T04:34:52.753
> 
> 标签：javascript, string, numbers, unique

在过去，我制作了一个从字符串生成唯一 id（数字）的函数。今天我发现它并不像应该的那样独特。以前从未见过它的问题。今天，两个不同的输入生成相同的 id（数字）。

我在 Delphi、C++、PHP 和 Javascript 中使用相同的技术来生成相同的 id，因此当项目涉及不同的语言时没有区别。例如，对于 HTML id、临时文件等，这可以方便地进行通信。

一般来说，我所做的是计算一个字符串的 CRC16，加上总和并返回它。

例如，这两个字符串生成相同的 id（数字）：

```
o.uniqueId( 'M:/Mijn Muziek/Various Artists/Revs & ElBee - Tell It To My Heart.mp3' );
o.uniqueId( 'M:/Mijn Muziek/Various Artists/Dwight Yoakam - The Back Of Your Hand.Mp3'); 
```

它们都生成 224904 的 id。

以下示例是一个 javascript 示例。我的问题是，我怎样才能避免（稍作改动）它产生重复？（如果您想知道 'o.' 是什么意思，它是这些函数所属的对象）：

```
o.getCrc16 = function(s, bSumPos) {
  if(typeof s !== 'string' || s.length === 0) {
    return 0;
  }
  var crc = 0xFFFF,
    L = s.length,
    sum = 0,
    x = 0,
    j = 0;
  for(var i = 0; i < L; i++) {
    j = s.charCodeAt(i);
    sum += ((i + 1) * j);
    x = ((crc >> 8) ^ j) & 0xFF;
    x ^= x >> 4;
    crc = ((crc << 8) ^ (x << 12) ^ (x << 5) ^ x) & 0xFFFF;
  }
  return crc + ((bSumPos ? 1 : 0) * sum);
}
o.uniqueId = function(s, bres) {
  if(s == undefined || typeof s != 'string') {
    if(!o.___uqidc) {
      o.___uqidc = 0;
    } else {
      ++o.___uqidc;
    }
    var od = new Date(),
      i = s = od.getTime() + '' + o.___uqidc;
  } else {
    var i = o.getCrc16(s, true);
  }
  return((bres) ? 'res:' : '') + (i + (i ? s.length : 0));
}; 
```

如何通过对代码稍作改动来避免重复？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-17T21:25:46.800

好吧，做了分配测试并来到这里。由以下内容生成的相对较短的唯一 ID：

```
o.lz = function(i,c)
{
  if( typeof c != 'number' || c <= 0 || (typeof i != 'number' && typeof i != 'string') )
   { return i; }
  i+='';

  while( i.length < c )
   { i='0'+i; }
  return i;  
}

o.getHashCode = function(s)
{
 var hash=0,c=(typeof s == 'string')?s.length:0,i=0;
 while(i<c) 
 {
   hash = ((hash<<5)-hash)+s.charCodeAt(i++);
   //hash = hash & hash; // Convert to 32bit integer
 }

 return ( hash < 0 )?((hash*-1)+0xFFFFFFFF):hash; // convert to unsigned
}; 

o.uniqueId = function( s, bres )
{ 
  if( s == undefined || typeof s != 'string' )
  { 
     if( !o.___uqidc )
      { o.___uqidc=0; }
     else { ++o.___uqidc; } 
     var od = new Date(),
         i = s = od.getTime()+''+o.___uqidc; 
  }
  else { var i = o.getHashCode( s ); }
  return ((bres)?'res:':'')+i.toString(32)+'-'+o.lz((s.length*4).toString(16),3);  
}; 
```

例子：

```
o.uniqueId( 'M:/Mijn Muziek/Various Artists/Revs & ElBee - Tell It To My Heart.mp3' );
o.uniqueId( 'M:/Mijn Muziek/Various Artists/Dwight Yoakam - The Back Of Your Hand.Mp3'); 
```

将产生以下 id：

```
dh8qi9t-114
je38ugg-120 
```

就我的目的而言，它似乎足够独特，额外的长度也增加了一些独特性。在包含大约 40.000 个 mp3 文件的文件系统上对其进行测试，没有发现任何冲突。

如果您认为这不是要走的路，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T04:41:48.230

您应该增加散列函数创建的位数。假设您的散列函数在空间上大致一致，您可以从数学上推导出观察到碰撞的概率。

这与[生日悖论](http://en.wikipedia.org/wiki/Birthday_paradox)密切相关。在 CRC16 的情况下，哈希值为 17 位（尽管您的实现可能有错误；我不明白您是如何获得`224094`的，因为它大于`2^17`），当您存储更多时，您的冲突概率将超过 50%超过大约 2^8 项。此外，CRC 并不是一个很好的散列函数，因为它用于错误检测，而不是统一散列。

[该表显示了基于散列长度的碰撞数学概率](http://en.wikipedia.org/wiki/Birthday_paradox#Probability_table)。例如，如果您有一个 128 位的哈希键，您可以`10^31`在碰撞概率增加到超过`10^-15`. 作为比较，这个概率低于你的硬盘驱动器发生故障，或者你的计算机被闪电击中的概率，所以这是一个安全的数字。

只需根据您计划识别的字符串数量增加您的哈希长度，并选择您可以接受的冲突概率。

# c# - XAML 表格数据视图

> ID：15377169
> 
> 赞同：0
> 
> 时间：2013-03-13T04:35:46.090
> 
> 标签：c#, xaml, view

我正在使用 C# 和 XAML 开发 Windows Store 应用程序。我`greetingOutput`在以下代码中调用的文本块中显示数据。

```
try
{
    var response = navigationParameter.ToString();

    var serializer = new DataContractJsonSerializer(typeof(QualityRecordsRootObject));
    var stream = new MemoryStream(Encoding.UTF8.GetBytes(response));
    QualityRecordsRootObject qualityRecordsRootObject = (QualityRecordsRootObject)serializer.ReadObject(stream);

    greetingOutput.Text = String.Format("{0,60}{1,60}{2,60}{3,60}",
                          "Brand",
                          "Printer",
                          "Printer Location",
                          "Date Received");

    greetingOutput.Text += "\n\n";

    for (int i = 0; i < qualityRecordsRootObject.auditDTOList.Count(); i++)
    {
        greetingOutput.Text += String.Format("{0,60}{1,60}{2,60}{3,60}",
                         qualityRecordsRootObject.auditDTOList[i].brandName,
                         qualityRecordsRootObject.auditDTOList[i].printerName,
                         qualityRecordsRootObject.auditDTOList[i].printerLocationName,
                         qualityRecordsRootObject.auditDTOList[i].receivedDate);

        greetingOutput.Text += "\n";
    }
}
catch (Exception ex)
{
    Debug.WriteLine("exception: " + ex.Message);
    greetingOutput.Text += "    No Records Found!";

} 
```

但它看起来并不好；我想要看起来不错的表格数据视图。XAML 中是否有任何解决方法？另外我想为每一行添加功能，这样如果我点击一行，它就会转到一个特定的链接。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T17:10:44.697

我会使用 DataGrid。这是 DataGrid 的 msdn：http: [//msdn.microsoft.com/en-ca/library/system.windows.forms.datagrid.aspx](http://msdn.microsoft.com/en-ca/library/system.windows.forms.datagrid.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T08:44:44.247

我按如下方式使用 Listbox 来提供所需的视图。

```
<ListBox Name="ResultListBox" 
         Height="500" Width="1000" Margin="0,20,0,0" HorizontalAlignment="Left" VerticalAlignment="Top"
         Visibility="Visible" SelectionChanged="ResultListBoxSelectionChanged" 
          >

                    <ListBox.ItemTemplate>

                        <DataTemplate>

                                <StackPanel Orientation="Horizontal">

                                <TextBlock Width="250" Text="{Binding brandName}"   />
                                <TextBlock Width="250" Text="{Binding printerName}"   />
                                <TextBlock Width="250" Text="{Binding printerLocationName}"  />
                                <TextBlock Width="250" Text="{Binding receivedDate}"  />

                </StackPanel>
        </DataTemplate>
    </ListBox.ItemTemplate>
</ListBox> 
```

对于 C# 后面的代码，如下所示。

```
ResultListBox.ItemsSource = qualityRecordsRootObject.auditDTOList; 
```

我希望这会对某人有所帮助。

# java - 静态嵌套类访问抛出 NoClassDefFoundError

> ID：15377172
> 
> 赞同：3
> 
> 时间：2013-03-13T04:36:41.067
> 
> 标签：java, nested, noclassdeffounderror, nested-class, unhandled-exception

我正在尝试使用由静态嵌套类组成的实用程序类来实现通用功能。这些静态嵌套类正在实现一个命令样式接口：

```
public interface BooleanFunction{
    public boolean execute();
} 
```

持有这些实现此接口的公共类的类是：

```
public class ExBooleans {

    public static class isComponentOpen implements BooleanFunction {

        private int widgetId;
        private int componentId;

        public isComponentOpen(int widgetId, int componentId) {
            this.widgetId = widgetId;
            this.componentId = componentId;
        }

        @Override
        public boolean execute() {
            return Widgets.getComponent(this.widgetId, this.componentId) != null;
        }
    } 
```

这意味着这样调用：

```
ExUtilities.makeCondition(new ExBooleans.isComponentOpen(RANGE_WIDGET_ID, RANGE_COOK_COMPONENT_ID), 1000) 
```

哪里`makeCondition`接受 a `BooleanFunction`：

```
public static boolean makeCondition (final BooleanFunction booleanFunction, int timeout){
    return Utilities.waitFor(new Condition() {
        @Override
        public boolean validate() {
            return booleanFunction.execute();
        }
    }, timeout);
} 
```

这一切都是为了为`Utilities.waitFor(Condition c, int timeout)`函数提供一个包装器，以使代码更清晰、更易读。

但是，当我调用`makeCondition`传入时，`ExBooleans.isComponentOpen`我收到一个运行时错误：

```
Unhandled exception in thread ~threadnumber~: java.lang.NoClassDefFoundError: api/ExBooleans$isComponentOpen 
```

在包含来自上面的调用的行：

```
ExUtilities.makeCondition(new ExBooleans.isComponentOpen(RANGE_WIDGET_ID, RANGE_COOK_COMPONENT_ID), 1000) 
```

任何解决此问题的帮助将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:29:48.193

我能够通过将`interface`and`makeCondition`方法拉到一个单独的类中来解决问题，该类同时包含这些和实用程序实现`isComponentOpen`等。由于这些都嵌套在一个类中，我不再收到错误，并且代码可能更有意义分组一起。

我仍然不确定错误来自哪里。

# gwt - 使用 Google Web Toolkit 和 Google Charts 了解数据隐私

> ID：15377173
> 
> 赞同：3
> 
> 时间：2013-03-13T04:36:43.750
> 
> 标签：gwt, google-visualization

我一直在玩 GWT 和 GWT Visualization Wrapper API。我最近学到的一件事是 GWT Visualization API 在没有互联网连接的情况下无法工作（前几天我在离线工作，我花了半个小时才弄清楚为什么我的图表没有加载）

在网上阅读了大量有关隐私、数据和 GWT 的内容后，似乎包括我在内的很多人在尝试显示图表时都担心向 Google 发送数据。我已经搜索了许多来源，包括 stackoverflow，我想 100% 确认我的假设是正确的。

人们担心向 Google 发送数据的原因是当您尝试获取上述图表的图像时。这需要将数据发送给谷歌，他们对其进行处理，然后他们返回一张图片以嵌入您的网站。根据我的研究，该功能已从 Google 图表中弃用（并且有充分的理由）。据我了解，它现在的工作方式是，每次你想显示图表时，你都会在客户端下载最新的库并在客户端执行所有计算。这样一来，Google 就不会真正获得您将在图表上显示的任何信息。

因此，我可以继续使用可视化 API，只要我继续使用交互式图表并继续在 Google 图表文档页面上查看它对这个特定图表（即折线图）的说明：

> [https://developers.google.com/chart/interactive/docs/gallery/linechart](https://developers.google.com/chart/interactive/docs/gallery/linechart)

（见页面底部）“所有代码和数据都在浏览器中处理和呈现。没有数据发送到任何服务器”我不必担心任何人获取我的数据，因为所有信息都是在客户端处理的。

请纠正我可能有的任何不正确的假设。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T20:28:13.250

此页面上的图表[https://developers.google.com/chart/interactive/docs/gallery](https://developers.google.com/chart/interactive/docs/gallery)都包含“数据政策”部分，详细说明图表是否在客户端上呈现以及哪些数据将离开客户端。目前，只有 GeoChart 与 Google 通信（为了进行地理编码）；显然，这在未来可能会改变。

另一个页面[https://developers.google.com/chart/interactive/docs/more_charts](https://developers.google.com/chart/interactive/docs/more_charts)上的图表包括一些由 Google 编写的图表，以及一些由第三方编写的图表。其中还包括数据政策部分。对于由 Google 撰写的内容，您可以信赖本政策。对于由第三方撰写的内容，Google 尚未验证这些声明，也无法对其作出保证。

# c++ - 将二叉搜索树转换为列表

> ID：15377174
> 
> 赞同：0
> 
> 时间：2013-03-13T04:36:48.770
> 
> 标签：c++, binary-search-tree

我试图调试这个问题：将二叉搜索树转换为每个级别的所有节点的链表。但是我遇到了运行时错误。在代码中，我基本上运行二叉搜索树的 BFS 并跟踪每个级别，如果新级别命中，我创建一个新的链表来存储新级别的节点。我使用 STL 的链表来存储节点。在此之前，我使用函数 min_height 创建了一个二叉搜索树。我用输入向量 = {1, 2, 3, 4, 5, 6} 测试这些方法。这棵树如下图所示。它在某些节点上运行良好，但在节点 2 处停止。我不知道原因，有人可以帮助我吗？谢谢 ！![在此处输入图像描述](../Images/70395e7f199486078a795bb1ffcb9f08.png)

```
#include <iostream>
#include<string>
#include<vector>
#include<queue>
#include<list>
using namespace std;

template<typename Key, typename Value>
struct BSTNode{
 Key key;
 Value value;
 BSTNode * left;
 BSTNode * right;
 BSTNode(Key k, Value v, BSTNode *l=NULL, BSTNode *r=NULL): key(k), value(v), left(l), right(r) {}
 };

template<typename Key, typename Value>
vector< list<BSTNode<Key, Value>*> > creat_lists(BSTNode<Key, Value>* root){
 vector< list<BSTNode<Key, Value>*> > v;
 if(root==NULL) return v; 
 queue<BSTNode<Key, Value>*> q;   queue<int> level;  int prev;
 q.push(root);   level.push(0);   prev=-1;
 while(!q.empty()){
  BSTNode<Key, Value>* cur=q.front();    int cur_level=level.front();
  cout<<"cur->key: "<<cur->key<<" cur_level: "<<cur_level<<endl;

  if(prev!=cur_level){
    list<BSTNode<Key, Value>*> l;
    l.push_back(cur);
    v.push_back(l);
  }
  else  {cout<<"got in"<<endl;  v.back().push_back(cur);}

  if(cur->left )cout<<"cur->left: "<<cur->left->key<<endl;
  if(cur->right )cout<<"cur->right: "<<cur->right->key<<endl;

  prev=cur_level;
  if(cur->left) {q.push(cur->left);  level.push(cur_level+1); }
  if(cur->right) {q.push(cur->right);  level.push(cur_level+1);}

  q.pop();    level.pop();

 }
return v;
}

template<typename Key, typename Value>
BSTNode<Key, Value>* min_height(vector<int> &v, int left, int right ){// here is different from my paper code
  if(left<=right){
    int mid=left+ (right-left)/2;
    BSTNode<Key, Value>* node=new BSTNode<Key, Value>(v[mid], v[mid]);
    node->left=min_height<Key, Value>(v, left, mid-1 );
    node->right=min_height<Key, Value>(v, mid+1, right );
    return node;
    }
}

int main(){
  vector<int> v;
  v.push_back(1);
  v.push_back(2);
  v.push_back(3);
  v.push_back(4);
  v.push_back(5);
  v.push_back(6);  
  BSTNode<int, int>* root=min_height<int, int>(v, 0, 5);
 vector<list<BSTNode<int, int>*> > newv=creat_lists(root);
 //for(int i=0; i<newv.size(); i++)  cout<<(v[i].front())->key<<endl;
}

complier result:
Run Status: Runtime Error

cur->key: 3 cur_level: 0
cur->left: 1
cur->right: 5
cur->key: 1 cur_level: 1
cur->right: 2
cur->key: 5 cur_level: 1
got in
cur->left: 4
cur->right: 6
cur->key: 2 cur_level: 2 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T13:59:32.060

这是在黑暗中刺伤。

**悬空指针**是指向内存中某个位置的指针，该位置不是*预期*类型的​​合法对象的地址。它可能是不再受内存管理器保护的已失效对象的地址，或者是某个不相关对象中间的位置，或者是未分配内存中的一个点，甚至是实际内存边界之外的位置。在实践中，它可以包含任何旧的随机垃圾，并且试图取消引用它（即像使用它是合法对象一样使用它）会导致**未定义的行为**（即任何事情都可能发生，并且它可能以特殊的方式失败）。

函数应返回其签名所指示的类型的值。你的函数`BSTNode<Key, Value>* min_height(...)`应该返回一个指向 a 的指针`BSTNode`。但正如所写的那样，它只这样做`if(left<=right)`，否则它只会终止；我不确定在这种情况下到底会发生什么，但我认为至少在某些编译器下它可能会返回一个未定义的指针——随机的，而且不是很好的方式。一个好的编译器会警告你这一点。（在我看来，一个好的指针应该拒绝编译它，但这是另一个咆哮。）

所以修复函数；`min_height(...)`如果条件不满足，则返回正确的特定值。如果这不能修复错误，请告诉我们，我们将尝试其他方法。（**剧透：** ןןnu sıǝnןɐʌ ɔıɟıɔǝds ʇɔǝɹɹoɔ ǝɥʇ。）

# php - 我怎样才能得到这种格式的二维数组？

> ID：15377177
> 
> 赞同：1
> 
> 时间：2013-03-13T04:36:59.193
> 
> 标签：php, javascript, jquery, multidimensional-array

我得到了这种格式的数组。

```
 Date            Employee               Notes
   2013-03-08        ABC                 Notes of ABC on 08-03-2013
   2013-03-08        PQR                 Notes of PQR on 08-03-2013
   2013-03-08        XYZ                 Notes of XYZ on 08-03-2013
   2013-03-09        ABC                 Notes of ABC on 09-03-2013
   2013-03-09        PQR                 Notes of PQR on 09-03-2013
   2013-03-09        XYZ                 Notes of XYZ on 09-03-2013 
```

我想要这种格式的结果数组

```
 Date            Employee               Notes
 2013-03-08        ABC                 Notes of ABC on 08-03-2013
                   PQR                 Notes of PQR on 08-03-2013
                   XYZ                 Notes of XYZ on 08-03-2013
 2013-03-09        ABC                 Notes of ABC on 09-03-2013
                   PQR                 Notes of PQR on 09-03-2013
                   XYZ                 Notes of XYZ on 09-03-2013 
```

那么我怎样才能编写我的 php 代码来获得这样的结果呢？这是一个二维数组，我使用 foreach 循环来显示这样的。

有人可以帮我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T04:46:44.563

您只需要迭代初始数组，并将当前日期存储在 var 中。在下一个日期不变的情况下，您将子数据存储在同一个子条目中。

假设你有

```
$initial = array(
    array('2013-03-08','ABC','Notes of ABC on 08-03-2013'),
    array('2013-03-08','PQR','Notes of PQR on 08-03-2013'),
    array('2013-03-08','XYZ','Notes of XYZ on 08-03-2013'),
    array('2013-03-09','ABC','Notes of ABC on 09-03-2013'),
    array('2013-03-09','PQR','Notes of PQR on 09-03-2013'),
    array('2013-03-09','XYZ','Notes of XYZ on 09-03-2013')
) 
```

你可以让你的新数组像

```
$final = array();
$currentDate = false;
foreach($initial as $index => $subArray)
{
    if ($currentDate === false || $currentDate != $subArray[0])
    {
        $currentDate = $subArray[0];
        $final[$currentDate] = array();
    }

    $final[$currentDate][] = array($subArray[1], $subArray[2]);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T04:43:56.847

这将起作用：

```
$entries = array(
    array("Date" => "2013-03-08", "Employee" => "ABC", "Notes" => "Notes of ABC on 08-03-2013"),
    array("Date" => "2013-03-08", "Employee" => "PQR", "Notes" => "Notes of PQR on 08-03-2013"),
    array("Date" => "2013-03-08", "Employee" => "XYZ", "Notes" => "Notes of XYZ on 08-03-2013"),
    array("Date" => "2013-03-09", "Employee" => "ABC", "Notes" => "Notes of ABC on 09-03-2013"),
    array("Date" => "2013-03-09", "Employee" => "PQR", "Notes" => "Notes of PQR on 09-03-2013"),
    array("Date" => "2013-03-09", "Employee" => "XYZ", "Notes" => "Notes of XYZ on 09-03-2013")
);

$y = array();
foreach ($entries as $entry) {
    $date = $entry["Date"];
    if (!isset($y[$date])) $y[$date] = array();
    unset($entry["Date"]);
    $y[$date][] = $entry;
}

print_r($y); 
```

# c++ - C ++试图重载ifstream以将文件读入类的数组

> ID：15377179
> 
> 赞同：0
> 
> 时间：2013-03-13T04:37:03.657
> 
> 标签：c++, visual-c++

我试图重载 ifstream 运算符 >> 以便从文本文件中读取数据并将数据放在属于 State 的类中。

我正在阅读的文件格式是州名 > 州首府 > 人口。我只想将状态名称读入数组。

我一直遇到运算符重载的问题。我有点理解它并且能够使 ostream 工作，但事实证明读入更加困难。

不知道这是否有所作为，但这是为了学校作业，我仍在努力。只是不知道从这里去哪里。

### 主文件

这是我的主要 CPP 文件。

```
#include <iostream>
#include <string>
#include <fstream>
#include "State.h"

using namespace std;

int main(){

    State s, h;

    string null;

    ifstream fin("states.txt");

    while(fin.good())
    {   
        fin >> h;       //This doesn't read anything in. 
        fin >> null;    //Dumping the Capital City to a null string
        fin >> null;    //Dumping the Population to a null string   
    }

    cout << s;          //Testing my overloaded << operator

    system("pause");

    return 0;

} 
```

### 状态.cpp

这是一个辅助 CPP 文件。

```
#include "State.h"
#include <fstream>
#include <string>
#include <iostream>

    using namespace std;

int i = 0;
string name, x, y;

State::State()
{
    arrayStates[50];
}

//Trying to overload the input from fstream
ifstream& operator >> (ifstream& in, State h)
{
    for(i = 0; i < 21; i++)
    {
        in >> h.arrayStates[i];
    }
    return in;
}

ostream& operator << (ostream& out, State s)
{
    for(int i = 0; i < 21; i++)
    {
        out << s.arrayStates[i] << endl;
    }
    return out;
} 
```

### 状态.h

这是包含我的类的头文件。

```
#include <iostream>
#include <string>

using namespace std;

class State{
private:
    string arrayStates[50];
public:
    State();
    friend ostream& operator << (ostream& out, State s);
    friend ifstream& operator >> (ifstream& in, State h);
}; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:54:08.307

正如您所建议的，错误出在此函数中。

```
ifstream& operator >> (ifstream& in, State h)
{
    for(i = 0; i < 21; i++)
    {
        in >> h.arrayStates[i];
    }
    return in;
} 
```

该函数制作your的**临时副本**`State`，调用 copy`h`并初始化该副本。

而是`State`通过*引用*传递原件。所以它*指*的是同一个对象。

```
ifstream& operator >> (ifstream& in, const State &h) 
```

# java - 使用子类 SpinnerListModel 在 JSpinner 中键入数字

> ID：15377180
> 
> 赞同：3
> 
> 时间：2013-03-13T04:37:03.863
> 
> 标签：java, swing, jspinner

我想要一个 JSpinner 来显示一个非模式化的数字序列（比如，一个素数序列）。这种模式对于 SpinnerNumberModel 来说太复杂了，所以我决定继承 SpinnerListModel。构造函数看起来像这样：

```
public CustomSpinnerListModel() {
    Vector<Integer> values = new Vector<Integer>();
    values.add(1);
    values.add(3);
    values.add(5);
    values.add(7);

    this.setList(values);
} 
```

这可以很好地生成模型，我可以使用 JSpinner 上的按钮来移动这些值。但是，输入值不起作用。例如，如果微调器设置为 3，而我输入 7，它仍为 3（可能是因为它认为 7 不是有效值）。这适用于 SpinnerNumberModel，所以我不确定发生了什么。

编辑：我发现如果我将数字保存为字符串值，输入就可以了。但是，SpinnerNumberModel 将所有内容保存为整数，这也有效。所以我不确定为什么我的整数不起作用，但 SpinnerNumberModel 可以。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-08-02T10:24:57.493

我认为以下解决方案比实施 Formatter 的建议更好，因为它不是格式问题，而是限制可能值的问题，这应该是模型的责任。我遇到了类似的问题，偶然发现了这个线程解决方案，导致实现非常丑陋。所以希望我想出的东西能让你远离麻烦。

> 这可以很好地生成模型，我可以使用 JSpinner 上的按钮来移动这些值。但是，输入值不起作用。例如，如果微调器设置为 3，而我输入 7，它仍为 3（可能是因为它认为 7 不是有效值）。这适用于 SpinnerNumberModel，所以我不确定发生了什么。

这里的问题是使用 setModel 设置新模型具有未记录的副作用，即根据模型的类型更改 JTextFieldEditor 属性：http: [//fuseyism.com/classpath/doc/javax/swing/JSpinner-source.html](http://fuseyism.com/classpath/doc/javax/swing/JSpinner-source.html)

默认情况下，JSpinner 使用 SpinnerNumberModel 类的模型和 DefaultNumberEditor 类的编辑器。当您将模型设置为 SpinnerListModel 时，它将改为使用 ListEditor。在您的情况下，这是一个糟糕的选择，因为它要求您将每个素数输入到列表中，以将其提供给 SpinnerListModel 进行输入验证。否则，正如您所指出的，您的输入将被忽略。

所以这里的简单解决方案是继承 SpinnerNumberModel，它允许任何数字，而不是特定的值列表：

```
class PrimeNumberModel extends SpinnerNumberModel {
    Object currentValue;

    @Override
    public Object getNextValue() {
        return findNextPrimeFrom(currentValue);
    } 

    @Override
    public Object getPreviousValue() {
        return findPreviousPrimeFrom(currentValue);
    }

    @Override
    public void setValue(Object o) {
        throwOnNonePrime(o); //Verify Input
        super.setValue(o);
    }

    private void throwOnNonePrime(Object o) {
        try {
            int num = Integer.valueOf(o.toString());
            if(!isPrime(num))
                throw new IllegalArgumentException(o.toString());
        } catch (NumberFormatException nfe) {
            throw new IllegalArgumentException(o.toString());
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-04T19:59:08.893

我认为您可以使用字符串来完成，然后使用一种方法来获取数字。像这样：

```
Spinner1(){
          String[] values={"1","3","5","7"};
          SpinnerModel model=new SpinnerListModel(values);
          JSpinner spinner=new JSpinner(model);
}
int getValue(Object obj){
    int out=0;
    return out=Integer.parseInt((String)obj);
} 
```

# android - how to delete a row in first position the sqlite in android

> ID：15377185
> 
> 赞同：5
> 
> 时间：2013-03-13T04:37:39.290
> 
> 标签：android, sqlite

How to delete a row in first position the sqlite in android Now i am using this code for delete the row

```
public void delete(String id)
{
    SQLiteDatabase db = this.getReadableDatabase();
    db.delete(TABLE_CONTACTS, KEY_ID + "=?", new String[]{id});
   // db.execSQL(TABLE_CONTACTS , " ORDER BY " + KEY_ID + " ASC;");
    db.close();
} 
```

But i want to delete the row in first position. Because KEY_ID will not be the same all the time when deletion occur

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-13T05:09:47.227

使用此方法删除第一行

```
 public void deleteFirstRow()
{
    db.open();
    Cursor cursor = db.query(TABLE_CONTACTS, null, null, null, null, null, null); 

        if(cursor.moveToFirst()) {
            String rowId = cursor.getString(cursor.getColumnIndex(KEY_ID)); 

            db.delete(TABLE_CONTACTS, KEY_ID + "=?",  new String[]{rowId});
           }
db.close();
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T04:51:05.613

编写一个函数，它将返回第一行的 id。在您的删除功能中使用此 ID。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T05:05:32.283

将您的方法更改为如下所示：

```
public void deleteFirstRow(String id) {
    int result;
    SQLiteDatabase db = dbHelper.getWritableDatabase();

    // Find all records stored in the table in which you want to delete
    // first row
    Cursor mCursor = database.query(TABLE_CONTACTS, null, null, null, null,
            null, null);

    if (mCursor.moveToFirst()) {
        result = db.delete(TABLE_CONTACTS, KEY_ID + "=?",
                mCursor.getString(mCursor
                    .getColumnIndex(KEY_ID)));

    }

    Log.i("deleteFirstRow", "Deleted " + result + " rows.");

} 
```

注意`dbHelper`是`SQLiteOpenHelper`定义为成员变量的对象。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T04:44:27.460

我会建议你得到第一个位置的数据。将光标中的数据移动到第一个位置提取 id，然后调用您的方法从表中删除该 id。通过这种方式，您始终拥有位于第一位的数据。你的查询似乎写信给我。

# android - Decode File From SdCard android to avoid out of memory error due to large bitmap or setImageURI

> ID：15377186
> 
> 赞同：2
> 
> 时间：2013-03-13T04:37:52.950
> 
> 标签：android, image, resources, sd-card

Avoid outof memory error for selecting large image file from sdcard or from resource. how can i tackle with this problem?

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-13T04:37:52.950

To avoid error while selecting file from sd card in bitmap or using setImageURI to sdcard use following method:

```
public static Bitmap decodeScaledBitmapFromSdCard(String filePath,
        int reqWidth, int reqHeight) {

    // First decode with inJustDecodeBounds=true to check dimensions
    final BitmapFactory.Options options = new BitmapFactory.Options();
    options.inJustDecodeBounds = true;
    BitmapFactory.decodeFile(filePath, options);

    // Calculate inSampleSize
    options.inSampleSize = calculateInSampleSize(options, reqWidth, reqHeight);

    // Decode bitmap with inSampleSize set
    options.inJustDecodeBounds = false;
    return BitmapFactory.decodeFile(filePath, options);
}

public static int calculateInSampleSize(
        BitmapFactory.Options options, int reqWidth, int reqHeight) {
    // Raw height and width of image
    final int height = options.outHeight;
    final int width = options.outWidth;
    int inSampleSize = 1;

    if (height > reqHeight || width > reqWidth) {

        // Calculate ratios of height and width to requested height and width
        final int heightRatio = Math.round((float) height / (float) reqHeight);
        final int widthRatio = Math.round((float) width / (float) reqWidth);

        // Choose the smallest ratio as inSampleSize value, this will guarantee
        // a final image with both dimensions larger than or equal to the
        // requested height and width.
        inSampleSize = heightRatio < widthRatio ? heightRatio : widthRatio;
    }

    return inSampleSize;
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-13T05:01:17.257

您可以使用 inSampleSize 来减少内存占用。

这是代码

```
public static Bitmap decodeAndResizeFile(File f) {
    try {
        // Decode image size
        BitmapFactory.Options o = new BitmapFactory.Options();
        o.inJustDecodeBounds = true;
        BitmapFactory.decodeStream(new FileInputStream(f), null, o);

        // The new size we want to scale to
        final int REQUIRED_SIZE = 70;

        // Find the correct scale value. It should be the power of 2.
        int width_tmp = o.outWidth, height_tmp = o.outHeight;
        int scale = 1;
        while (true) {
            if (width_tmp / 2 < REQUIRED_SIZE || height_tmp / 2 < REQUIRED_SIZE)
                break;
            width_tmp /= 2;
            height_tmp /= 2;
            scale *= 2;
        }

        // Decode with inSampleSize
        BitmapFactory.Options o2 = new BitmapFactory.Options();
        o2.inSampleSize = scale;
        return BitmapFactory.decodeStream(new FileInputStream(f), null, o2);
    } catch (FileNotFoundException e) {
    }
    return null;
} 
```

在这里，它将使用解码图像`inSampleSize`，此代码将为`inSampleSize`您找到最佳值。

它对我来说很好。

如果你不想使用上面的代码，你也可以使用`bitmap.recycle()`和`System.gc()`释放未使用的内存。但是，上面的代码对我来说很好。您可以使用两者中的任何一个。

```
objbitmap.recycle();
objbitmap = null;
System.gc(); 
```

希望，这可以解决问题！

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-13T04:50:38.313

这取决于您是否知道最终想要的尺寸。

**如果你知道尺寸：**

请参阅 Android_Craker 的答案。这是解决问题的可靠方法。

**如果您不知道尺寸：**

在这种情况下，您希望图像与内存一样大。解决方案是循环下采样，直到找到适合的大小： BitmapFactory.Options options = new BitmapFactory.Options();

```
boolean done = false;
int downsampleBy = 1;
Bitmap bitmap = null;
while (!done) {
    options.inSampleSize = downsampleBy++;
    try {
        bitmap = BitmapFactory.decodeFile(filePath, options);
        done = true;
    catch (OutOfMemoryError e) {
        // Ignore.  Try again.
    }
} 
```

# javascript - Filtering items in a section with dust.js based on the value of a json subelement

> ID：15377189
> 
> 赞同：0
> 
> 时间：2013-03-13T04:38:06.023
> 
> 标签：javascript, dust.js

Is there a way to select certain elements in a JSON view based on an sub-element's string value using Linked In's version of dust.js? For example, if I had this JSON view:

```
{
    people: [ 
        { name: "Fred", type: "a" },
        { name: "Harry", type: "a" },
        { name: "Linda", type: "a" },
        { name: "Mary", type: "b" },
        { name: "Bob", type: "b" },
        { name: "Joey", type: "b" }
    ]
} 
```

and I wanted this output:

Fred
Harry
Linda

how would the template differ from this simple one?

```
{#people}
    <br/>{name}
{/people} 
```

This would be executed in a browser.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T16:37:11.430

有一种方法可以做到这一点，但你需要包括[灰尘助手](https://github.com/linkedin/dustjs-helpers)：

```
{#people}
  {@eq key=type value="a"}
    {name}
  {/eq}
{/people} 
```

需要注意的几点：

1.  我们正在使用 @eq 助手。不要使用 @if 助手，即使它可用（它存在安全和性能问题）。
2.  在助手内部引用值时，您不需要将其包装在`{ }`. 在此示例中，我们使用`key=type`, 而不是`key={type}`or `key="{type}"`。

# html - Selenium IDE - 如何在表格中断言输入文本

> ID：15377196
> 
> 赞同：1
> 
> 时间：2013-03-13T04:38:42.403
> 
> 标签：html, unit-testing, selenium-ide

我一直在寻找大约一个小时，所以我想我会试一试。

我有一个与此类似的 html 页面：

```
<table>
<tbody>
<tr>
<td>
<input name="bla1" type="hidden" value="0" />
<input name="bla1" type="text" value="find me" />
</td>
<td>   
<input name="other" type="text" value="find me" />
</td>
</tr>
.
.
.
.
</tbody>
</table> 
```

这就是基本结构。现在我要做的是验证（在表格的最后一行）来自第一个**td**元素的第二个**输入元素的****value**属性设置为**“找到我”** 每个表格行都是这样的。但我只需要对最后一行执行此操作。 到目前为止，我有这个不起作用： assertText | xpath=//table[1]//tr[last()]/td[1]/input[@value='.....'] | ...... 其中......代表我要验证的内容。 网站上只有一张桌子。我正在尝试验证某个字符串是否存在。

 ******谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T12:26:59.037

那个xpath有效吗？您绝对不希望 [@value='.....'] 在它的末尾，无论值如何，您都希望找到输入。所以你可以断言这个值是......

使用 IDE 中目标输入末尾的 Find 按钮

尝试使用 assertValue 而不是 assertText，快速测试表明即使输入正确，assertText 也不起作用

希望这可以帮助

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T06:27:41.710

如果为输入字段设置 id，则可以使用 verifyValue

html

```
<input name="other" type="text" value="find me" id="find" /> 
```

硒IDE：

*   命令：验证值
*   目标：id=find
*   价值：找我

或者，如果您使用的名称值是唯一的，则可以使用它。

*   目标：名称=其他

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-17T00:34:16.953

所以我最终找到了答案。我的问题是我不懂 xpath。[我在 W3schools 网站http://www.w3schools.com/xpath/xpath_intro.asp](http://www.w3schools.com/xpath/xpath_intro.asp)上花了一点时间。很有帮助。
另外，感谢@chim 提到 assertValue。那是我问题的一部分。

这里的任何人都是针对我的案例的答案：
**assertValue | //table[1]//tr[last()]/td[1]/input[2]/@value | textToVerifyHere********

# javascript - Javascript for multiple elements

> ID：15377198
> 
> 赞同：2
> 
> 时间：2013-03-13T04:38:51.590
> 
> 标签：javascript, jquery

I want to pop over different forms on different button click. I'm using this code for that. but all button click shows first content form. How it solve? Code

```
<a href="#" class="button">Click 1</a>
<div id="modal">
    <div id="heading">Content form 1</div>  
</div>
<a href="#" class="button">Click 2</a>
<div id="modal">
    <div id="heading">Content form 2</div>  
</div>
<!--jQuery-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="js/jquery.reveal.js"></script>

<script type="text/javascript">
$(document).ready(function () {
  $('.button').click(function (e) {  // Button which will activate our modal
    $('#modal').reveal({             // The item which will be opened with reveal
      animation: 'fade',             // fade, fadeAndPop, none
      animationspeed: 600,           // how fast animtions are
      closeonbackgroundclick: true,  // if you click background will modal close?
      dismissmodalclass: 'close'     // the class of a button or element that will close an open modal
    });
    return false;
  });
});
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T04:45:44.487

您正在使用非唯一 ID。它只会给你第一个。

```
<a href="#" class="button" data-modal="1">Click 1</a>
<div id="modal">
    <div id="heading">Content form 1</div>  
</div>
<a href="#" class="button" data-modal="2">Click 2</a>
<div id="modal">
    <div id="heading">Content form 2</div>  
</div>
<!--jQuery-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="js/jquery.reveal.js"></script>

<script type="text/javascript">
$(document).ready(function () {
  $('.button').click(function (e) {  // Button which will activate our modal
    $('#modal' + $(this).data('id')).reveal({             // The item which will be opened with reveal
      animation: 'fade',             // fade, fadeAndPop, none
      animationspeed: 600,           // how fast animtions are
      closeonbackgroundclick: true,  // if you click background will modal close?
      dismissmodalclass: 'close'     // the class of a button or element that will close an open modal
    });
    return false;
  });
});
</script> 
```

观察方法：

1.  我在您的每个模态 ID 后面添加了一个数字。
2.  我如何为每个链接添加一个名为“data-id”的属性以及我们想要的相应数字。
3.  我如何使用 jQuery 的精彩 data() 方法来获取相应的数字。

这种方法的优点是可以将链接移动到它们需要的任何位置，而无需更改点击事件的内部结构。Aka 我们不需要通过 , 等进行`.next()`DOM`.parent()`搜索`.find()`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:04:20.150

如前所述，您的 div 中有一个非唯一 ID，因此`$('#modal')`只选择第一个。

但是，这将选择所有这些：

```
$("div[id=modal]") 
```

在这方面请参阅以下问题：[如何在 jQuery 中选择具有特定 ID 的所有元素？](https://stackoverflow.com/questions/902839/jquery-select-divs-with-same-id/6744674#6744674)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T05:41:36.430

标识一组元素时使用的正确属性是`class`, not `id`，它必须是元素唯一的。应用类名而不是 ID，您的标记将如下所示：

```
<div class="modal">
    ...
</div> 
```

由于您正在尝试操作单击按钮之前的模式，因此最好的方法是使用该`prev`方法来选择按钮之前的元素。

```
$('.button').click(function (e) {
    $(this).prev('.modal').reveal({
        ...
    });
    return false;
}); 
```

# java - 代号一：Zxing二维码扫描器

> ID：15377203
> 
> 赞同：0
> 
> 时间：2013-03-13T04:39:32.933
> 
> 标签：java, zxing, codenameone

我正在开发一个移动应用程序（android 和 ios），它使用户能够使用 Zxing 扫描 QR 码。

目前，我已经试用了[codenameone_docs_demos_20130307.zip](http://www.codenameone.com/download.html)中提供的 QR 扫描仪演示，它适用于 Ipad。

* * *

**问题：**

1.  是否可以将扫描区域配置得更小？（默认demo我扫描SMALL二维码困难，默认扫描区域太大）

2.  有没有办法配置扫描仪 UI？例如：一条线或一个点，以方便用户集中注意力。

* * *

如果有人能给我一个建议，我将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T13:19:48.783

只有通过自定义 ZXing 应用程序的原生代码才能实现。所以是的，但这将非常困难。

# struts - struts 1.2 jsp page isnt displayed on the browser instead the code is diaplayed on the title bar

> ID：15377204
> 
> 赞同：0
> 
> 时间：2013-03-13T04:39:38.083
> 
> 标签：struts, jsp-tags, struts1

I am trying to deploy a code in struts 1.2 for an meta search engine . The code mapping is all fine , but the index page isnt rendered on the browser instead the code is displayed on the title bar ... any idea what could be wrong ??? The jsp page is this

```
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@ taglib uri ="/WEB-INF/struts-html.tld" prefix="html" %>
<%@ taglib uri ="/WEB-INF/struts-bean.tld" prefix="bean" %>
<html:html>
<head>
<title>Meta Search Engine</tile>
    <html:base/>

    <head> Search Engine </head>
            <script language="javascript">
function validateCheckBoxes(){
        var yahooCheck = document.getElementsByName ('yahooCheck');
        var altavistaCheck = document.getElementsByName ('altavistaCheck');
        var microsoftCheck = document.getElementsByName ('microsoftCheck');
        var lycosCheck = document.getElementsByName ('lycosCheck');
        var askCheck = document.getElementsByName ('askCheck');

        var i = 0;
        if (yahooCheck[0].checked){
            i=i+1;
        }
        if (altavistaCheck[0].checked){
            i=i+1;
        }
        if (microsoftCheck[0].checked){
            i=i+1;
        }
        if (lycosCheck[0].checked){
            i=i+1;
        }
        if (askCheck[0].checked){
            i=i+1;
        }

        if(i>2){
            if (!yahooCheck[0].checked){
                yahooCheck[0].disabled = true;
            }
            if (!altavistaCheck[0].checked){
                altavistaCheck[0].disabled = true;
            }
            if (!microsoftCheck[0].checked){
                microsoftCheck[0].disabled = true;
            }
            if (!lycosCheck[0].checked){
                lycosCheck[0].disabled = true;
            }
            if (!askCheck[0].checked){
                askCheck[0].disabled = true;
            }   
        }

        if(i<3){
            if (yahooCheck[0].disabled){
                yahooCheck[0].disabled = false;
            }
            if (altavistaCheck[0].disabled){
                altavistaCheck[0].disabled = false;
            }
            if (microsoftCheck[0].disabled){
                microsoftCheck[0].disabled = false;
            }
            if (lycosCheck[0].disabled){
                lycosCheck[0].disabled = false;
            }
            if (askCheck[0].disabled){
                askCheck[0].disabled = false;
            }   
        }
        document.getElementById('checkValue').value = i;
        return true;
    }

    function checkEverything(){
        if (document.getElementById('checkValue').value < 3){
            alert('Please Select 3 Search Engines');
            return false;
        }
        if((!document.getElementsByName('aggregationType')[0].checked)&&(!document.getElementsByName('aggregationType')[1].checked)){
            alert('Please Select the type of Aggregation');
            return false;
        }
        if(document.getElementsByName('searchString')[0].value == ""){
            alert('Please Enter a query to search for');
            return false;
        }
        return true;
    }
    </script>
<body>
<html:img page="/images/search-engine-share.gif"/>
<BR>
<html:form action="/submitSearchForm">
<center>
<input id="checkValue" type="hidden" />
<html:checkbox property="yahooCheck" onclick="javascript: return validateCheckBoxes()">
    <bean:message key="button.yahooSearch"/>
</html:checkbox>
<html:checkbox property="altavistaCheck" onclick="javascript: return validateCheckBoxes()">
    <bean:message key="button.altavistaSearch"/>
</html:checkbox>
<html:checkbox property="microsoftCheck" onclick="javascript: return validateCheckBoxes()">
    <bean:message key="button.microsoftSearch"/>
</html:checkbox>
<html:checkbox property="lycosCheck" onclick="javascript: return validateCheckBoxes()">
    <bean:message key="button.lycosSearch"/>
</html:checkbox>
<html:checkbox property="askCheck" onclick="javascript: return validateCheckBoxes()">
    <bean:message key="button.askSearch"/>
</html:checkbox><br><br>

<html:radio property="aggregationType" value="Single Page Aggregation">
    <bean:message key="button.singlePage"/>
</html:radio>
<html:radio property="aggregationType" value="Three Page Aggregation">
    <bean:message key="button.threePage"/>
</html:radio><br><br>
<html:text property="searchString" size="42" maxlength="42"/>
<!--<html:submit property="searchEngineused">
    <bean:message key="button.lycosSearch"/>
</html:submit>
<html:submit property="searchEngineused">
    <bean:message key="button.askSearch"/>
</html:submit>
<html:submit property="searchEngineused">
    <bean:message key="button.yahooSearch"/>
</html:submit>&nbsp;&nbsp;
<html:submit property="searchEngineused">
    <bean:message key="button.altavistaSearch"/>
</html:submit>&nbsp;&nbsp;
<html:submit property="searchEngineused">
    <bean:message key="button.microsoftSearch"/>
</html:submit>&nbsp;&nbsp;-->
<html:submit property="searchEngineused" onclick="javascript: return checkEverything()">
    <bean:message key="button.search"/>
</html:submit>&nbsp;&nbsp;
</center>
</html:form>
<!--    <html:link page ="/CustomerDetails.jsp">Customer Form </html:link>-->
</body>
</html:html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T14:22:07.643

1.  你永远不会关闭你的`<title>`标签。
2.  你有两个`<head>`部分。
3.  正确缩进你的代码。
4.  考虑重构你的 JS。
5.  考虑使用 JS 库。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-26T17:13:14.277

您可以使用此代码。我认为它应该可以工作..而且你可以让它变得简单，而不是检查每个复选框的选中复选框计数，你可以在提交中检查它。

```
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@ taglib uri ="/WEB-INF/struts-html.tld" prefix="html" %>
<%@ taglib uri ="/WEB-INF/struts-bean.tld" prefix="bean" %>
<html:html>
  <head>
    <title>Meta Search Engine</tile>
    <html:base/>
        <script language="javascript">
        function validateCheckBoxes(){
           var yahooCheck = document.getElementsByName ('yahooCheck');
           var altavistaCheck = document.getElementsByName ('altavistaCheck');
           var microsoftCheck = document.getElementsByName ('microsoftCheck');
           var lycosCheck = document.getElementsByName ('lycosCheck');
           var askCheck = document.getElementsByName ('askCheck');

           var i = 0;
           if (yahooCheck[0].checked){
            i=i+1;
           }
           if (altavistaCheck[0].checked){
           i=i+1;
           }
           if (microsoftCheck[0].checked){
           i=i+1;
           }
           if (lycosCheck[0].checked){
           i=i+1;
           }
           if (askCheck[0].checked){
           i=i+1;
           }

    if(i>2){
        if (!yahooCheck[0].checked){
            yahooCheck[0].disabled = true;
        }
        if (!altavistaCheck[0].checked){
            altavistaCheck[0].disabled = true;
        }
        if (!microsoftCheck[0].checked){
            microsoftCheck[0].disabled = true;
        }
        if (!lycosCheck[0].checked){
            lycosCheck[0].disabled = true;
        }
        if (!askCheck[0].checked){
            askCheck[0].disabled = true;
        }   
    }

    if(i<3){
        if (yahooCheck[0].disabled){
            yahooCheck[0].disabled = false;
        }
        if (altavistaCheck[0].disabled){
            altavistaCheck[0].disabled = false;
        }
        if (microsoftCheck[0].disabled){
            microsoftCheck[0].disabled = false;
        }
        if (lycosCheck[0].disabled){
            lycosCheck[0].disabled = false;
        }
        if (askCheck[0].disabled){
            askCheck[0].disabled = false;
        }   
    }
    document.getElementById('checkValue').value = i;
    return true;
}

function checkEverything(){
    if (document.getElementById('checkValue').value < 3){
        alert('Please Select 3 Search Engines');
        return false;
    }
    if((!document.getElementsByName('aggregationType')[0].checked)&&    (!document.getElementsByName('aggregationType')[1].checked)){
        alert('Please Select the type of Aggregation');
        return false;
    }
    if(document.getElementsByName('searchString')[0].value == ""){
        alert('Please Enter a query to search for');
        return false;
    }
    return true;
}
</script>
<body>
<html:img page="/images/search-engine-share.gif"/>
<BR>
<html:form action="/submitSearchForm">
<center>
<input id="checkValue" type="hidden" />
<html:checkbox property="yahooCheck" onclick="javascript: return validateCheckBoxes()">
<bean:message key="button.yahooSearch"/>
</html:checkbox>
<html:checkbox property="altavistaCheck" onclick="javascript: return     validateCheckBoxes()">
<bean:message key="button.altavistaSearch"/>
</html:checkbox>
<html:checkbox property="microsoftCheck" onclick="javascript: return   validateCheckBoxes()">
<bean:message key="button.microsoftSearch"/>
</html:checkbox>
<html:checkbox property="lycosCheck" onclick="javascript: return validateCheckBoxes()">
<bean:message key="button.lycosSearch"/>
</html:checkbox>
<html:checkbox property="askCheck" onclick="javascript: return validateCheckBoxes()">
<bean:message key="button.askSearch"/>
</html:checkbox><br><br>

<html:radio property="aggregationType" value="Single Page Aggregation">
<bean:message key="button.singlePage"/>
</html:radio>
<html:radio property="aggregationType" value="Three Page Aggregation">
<bean:message key="button.threePage"/>
</html:radio><br><br>
<html:text property="searchString" size="42" maxlength="42"/>
<html:submit property="searchEngineused" onclick="javascript: return   checkEverything()">
<bean:message key="button.search"/>
</html:submit>&nbsp;&nbsp;
</center>
</html:form>
</body>
</html:html> 
```

# iphone - 从 Web 服务 URL 获取密码并通过该密码访问

> ID：15377212
> 
> 赞同：2
> 
> 时间：2013-03-13T04:40:21.763
> 
> 标签：iphone, ios, objective-c, cocoa

我有一个附加访问代码的 Web 服务 URL。我需要将访问代码发布到 Web 服务 URL 并获得 json 响应。我收到了带有正确访问码和不正确访问码的 json 响应。我没有得到问题出现的地方。当输入错误的密码时，我需要显示警报。

这是我的代码：

```
 NSString *post =[[NSString alloc] initWithFormat:@"txtsecurecode=%@",[txtsecurecode text]];
        NSLog(@"PostData: %@",post);
        NSData *postData = [post dataUsingEncoding:NSASCIIStringEncoding allowLossyConversion:YES];
        NSString *postLength = [NSString stringWithFormat:@"%d",[postData length]];
        NSMutableURLRequest *request = [[[NSMutableURLRequest alloc] init] autorelease];

      [request setURL:[NSURL URLWithString:[NSString stringWithFormat:@"http://my example.com/Accountservice/Security/ValidateAccess?accesscode=abcdtype=1"]]];

        NSURL *url;

  // I need to parse it into url here .  

        [request setHTTPMethod:@"POST"];
        [request setValue:postLength forHTTPHeaderField:@"Content-Length"];
        [request setValue:@"application/x-www-form-urlencoded" forHTTPHeaderField:@"Content-Type"];
        [request setHTTPBody:postData];
        NSURLConnection *conn= [[NSURLConnection alloc] initWithRequest:request delegate:self];
        if(conn)
        {
            NSLog(@"Connection Successful");
        }
        else
        {
            NSLog(@"Connection could not be made");
        }

    NSString *responseData = [[NSString alloc]initWithData:[NSData dataWithContentsOfURL:url] encoding:NSUTF8StringEncoding]; 
```

如果我输入错误的密码，我会登录失败，没关系。当我更正密码时，它不会显示该 URL 的内容。我们需要将请求解析为 URL。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-13T04:43:05.980

**在你的情况下**

```
 NSURL *url=[NSURL URLWithString:[NSString stringWithFormat:@"http://my example.com/Accountservice/Security/ValidateAccess?accesscode=abcd&type=1"]]; 
```

您不能使用诸如此类的方法传递**参数，**`URL in POST`
`....?accesscode=abcd&type=1"`

您可以使用以下代码片段，如[本文所述](http://panditpakhurde.wordpress.com/2009/04/16/posting-data-to-url-in-objective-c/)：

在这里，我简单描述一下如何使用 POST 方法。

> **1.**使用实际用户名和密码设置帖子字符串。
> 
> ```
> NSString *post = [NSString stringWithFormat:@"&Username=%@&Password=%@",@"username",@"password"]; 
> ```
> 
> **2.**`NSASCIIStringEncoding`使用以及您需要以 NSData 格式发送的帖子字符串对帖子字符串进行编码。
> 
> ```
> NSData *postData = [post dataUsingEncoding:NSASCIIStringEncoding allowLossyConversion:YES]; 
> ```
> 
> 您需要发送数据的实际长度。计算帖子字符串的长度。
> 
> ```
> NSString *postLength = [NSString stringWithFormat:@"%d",[postData length]]; 
> ```
> 
> **3.**创建一个包含所有属性的 Urlrequest，如`HTTP`方法、http 标头字段以及 post 字符串的长度。创建`URLRequest` 对象并初始化它。
> 
> ```
> NSMutableURLRequest *request = [[[NSMutableURLRequest alloc] init] autorelease]; 
> ```
> 
> 设置要向该请求发送数据的 URL。
> 
> ```
> [request setURL:[NSURL URLWithString:[NSString stringWithFormat:@"http://www.abcde.com/xyz/login.aspx"]]]; 
> ```
> 
> 现在，设置**HTTP**方法（*POST 或 GET*）。像在您的代码中一样编写此行。
> 
> ```
> [request setHTTPMethod:@"POST"]; 
> ```
> 
> `HTTP`使用发布数据的长度设置标题字段。
> 
> ```
> [request setValue:postLength forHTTPHeaderField:@"Content-Length"]; 
> ```
> 
> 还要设置 HTTP 标头字段的编码值。
> 
> ```
> [request setValue:@"application/x-www-form-urlencoded" forHTTPHeaderField:@"Current-Type"]; 
> ```
> 
> 使用 postData设置`HTTPBody`urlrequest 的。
> 
> ```
> [request setHTTPBody:postData]; 
> ```
> 
> **4.**现在，创建 URLConnection 对象。使用 URLRequest 对其进行初始化。
> 
> ```
> NSURLConnection *conn = [[NSURLConnection alloc]initWithRequest:request delegate:self]; 
> ```
> 
> 它返回初始化的 url 连接并开始为 url 请求加载数据。**您可以使用下面的if/else**语句检查您`URL`的连接是否正确完成。
> 
>  **```
> if(conn)
> {
> NSLog(@”Connection Successful”)
> }
> else
> {
> NSLog(@”Connection could not be made”);
> } 
> ```
> 
> **5.**要接收来自 HTTP 请求的数据，您可以使用 URLConnection 类参考提供的委托方法。委托方法如下。
> 
> ```
> - (void)connection:(NSURLConnection *)connection didReceiveData:(NSData*)data 
> ```
> 
> 上述方法用于接收我们使用 post 方法获取的数据。
> 
> ```
> - (void)connection:(NSURLConnection *)connection didFailWithError:(NSError *)error 
> ```
> 
> 此方法，您可以在未与服务器建立连接的情况下接收错误报告。
> 
> ```
> - (void)connectionDidFinishLoading:(NSURLConnection *)connection 
> ```
> 
> 上述方法用于连接成功后的数据处理。**

 ****另请参阅** [此](http://deusty.blogspot.in/2006/11/sending-http-get-and-post-from-cocoa.html) **和** [此](http://yuvarajmanickam.wordpress.com/2012/10/17/nsurlconnection-basics-for-ios-beginners/) **文档**以了解`POST`方法。

这是[HTTPPost 方法源代码的最佳示例。](http://kemal.co/index.php/2012/02/fetching-data-with-getpost-methods-by-using-nsurlconnection/)**

# c - Finding Max and Min floating numbers from a file in C

> ID：15377214
> 
> 赞同：2
> 
> 时间：2013-03-13T04:40:33.310
> 
> 标签：c

I am writing a program using C just to find the max and min numbers from my input file that contains about 500 floating numbers such as 54.54\. I can get the program to run but the output says my min is 0 and my max is 54.88 which is the very first number from the file. Here is what i have so far.

```
#include <stdio.h>

int main(int argc, const char * argv[])
{

    FILE * fp;

    fp=fopen("file.txt","r");
    if (fp==NULL)
    {
        printf("Failed to open");
    }

    float i;
    float min ;
    float max ;

    {
        fscanf( fp, "%f", &i);

        if (i < min)
            min = i;
        if (i > max)
            max = i;
        }
    printf("Data range is: %f  %f \n", min, max);
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:43:52.547

该计划将符合要求。

```
#include <stdio.h>

int main() 
{
    float num;
    float min = 999.99; /*Max value of number your file will not exceed*/
    float max = 0;
    int i = 0;

    FILE *fp;
    fp = fopen("file.txt", "r");

     while(fscanf(fp,"%f",&num) == 1)
     {
          if (num < min)
             min = num;
          if (num > max)
             max = num;
     }

    fclose(fp);

    printf("Data range is: %f  %f \n", min, max);

    return 0; 
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T05:37:18.200

最小值/最大值应初始化为适当的值。例如。

```
float inf = 1.0 / 0.0;  // also in math.h as INFINITY?
float max = -inf;
float min = inf;
float i; 
```

另一种选择是将 min 和 max 初始化为从文件中读取的第一个值。这是编写循环的一种方法：

```
while (fscanf(fp, "%f", &i)==1)   // 
{
   ...
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T06:05:57.270

保留大部分代码：

```
#include <stdio.h>

int main(int argc, const char * argv[])
{
    float i=0, min=0, max=0;
    FILE * fp fp=fopen("file.txt","r");
    if (fp==NULL)
    {
        perror("Failed to open file.");
        return EXIT_FAILURE;
    }

    if (fscanf(fp,"%f", &i) == 1)
    {
        min = max = i;
        while (fscanf( fp, "%f", &i) == 1)
        {
            if (i < min)
                min = i;
            else if (i > max)
                max = i;
        }
    }

    printf("Data range is: %f  %f \n", min, max);
    return 0;
} 
```

抱歉有任何错别字。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T05:30:47.363

这是你可以做到的一种方法，如果你知道你将在每行上恰好有一个双精度数。它可能不是最优雅的，但在我脑海中编译它似乎可以完成工作。

（我没有对此代码进行错误测试，而且我不确定这是否是最大和最小双精度值的正确宏）

```
char buf[10]; /* as big as the biggest number */
char c;
int i = 0;
double d, dmax = -INFINITY, dmin = INFINITY;

while ((c = getc(fp)) != EOF) {
    if (c != '\n')
        buf[i++] = c;
    else {
        buf[i] = '\0';
        d = atof(buf);
        if (d > dmax) dmax = d;
        if (d < dmin) dmin = d;
        i = 0;
   }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-13T04:59:34.593

您没有读取文件中所有数字的循环。你得到的只是第一个。

# ruby-on-rails - Netzke 控制器生成错误

> ID：15377220
> 
> 赞同：0
> 
> 时间：2013-03-13T04:41:07.347
> 
> 标签：ruby-on-rails, extjs4, netzke

我是 Ruby 和 Rails 的新手，在生成简单控制器时询问错误 [http://writelesscode.com/blog/2012/10/20/extjs-rails-crud-application-in-7-minutes/](http://writelesscode.com/blog/2012/10/20/extjs-rails-crud-application-in-7-minutes/)

```
$ rails g controller welcome index 
```

/Library/Ruby/Gems/1.8/gems/netzke-core-0.8.2/lib/netzke/core/railz.rb:2:in`require': /Library/Ruby/Gems/1.8/gems/netzke-core-0.8.2/lib/netzke/core/railz/routes.rb:18: syntax error, unexpected ':', expecting kEND (SyntaxError) ...refix}/:action(.:format)", to: controller.to_s, as: 'netzke' ^ /Library/Ruby/Gems/1.8/gems/netzke-core-0.8.2/lib/netzke/core/railz/routes.rb:18: syntax error, unexpected ':', expecting '=' ...at)", to: controller.to_s, as: 'netzke' ^ from /Library/Ruby/Gems/1.8/gems/netzke-core-0.8.2/lib/netzke/core/railz.rb:2 from /Library/Ruby/Gems/1.8/gems/netzke-core-0.8.2/lib/netzke-core.rb:10:in`来自/Library/Ruby/Gems/1.8/gems/netzke-core- 0.8.2/lib/netzke-core.rb:10 来自 /Library/Ruby/Gems/1.8/gems/bundler-1.2.3/lib/bundler/runtime.rb:68:in`require' from /Library/Ruby/Gems/1.8/gems/bundler-1.2.3/lib/bundler/runtime.rb:68:in`来自 /Library/Ruby/ Gems/1.8/gems/bundler-1.2.3/lib/bundler/runtime.rb:66:in`each' from /Library/Ruby/Gems/1.8/gems/bundler-1.2.3/lib/bundler/runtime.rb:66:in`需要来自 /Library/Ruby/Gems/1.8/gems/bundler-1.2.3/lib/bundler/runtime.rb来自/Library/Ruby/Gems/1.8/gems/bundler-1.2.3/lib/bundler.rb:128:in require'的：55:in `each' from /Library/Ruby/Gems/1.8/gems/bundler-1.2.3/lib/bundler/runtime.rb:55:in`require'`require' from /Users/sparta/Work/rails/erp/config/application.rb:7 from /Library/Ruby/Gems/1.8/gems/railties-3.2.12/lib/rails/commands.rb:24:in`来自/Library/Ruby/Gems/1.8/gems/railties-3.2 .12/lib/rails/commands.rb:24 来自 script/rails:6:in `require' 来自 script/rails:6

也许路线有问题？我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T13:27:04.860

好像您使用的是 Ruby 1.8.7。Netzke 需要 1.9.x。

# java - Syslog4j - 从消息中删除前缀

> ID：15377223
> 
> 赞同：0
> 
> 时间：2013-03-13T04:41:22.247
> 
> 标签：java, syslog

示例代码：

```
final SyslogIF syslog = Syslog.getInstance(props.getProperty("protocol"));
final SyslogConfigIF config = syslog.getConfig();
config.setHost(props.getProperty("host"));
config.setPort(Integer.parseInt(props.getProperty("port")));
syslog.error(“Some message to log”); 
```

上面的代码发送消息，但在消息前面加上日期/时间。想删除它。我怎么做？

我正在使用 syslog4j v 0.9.30。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-06T06:48:13.427

似乎不是将日期/时间附加到消息的客户端，而是在将该信息转储到文件之前附加该信息的系统日志服务器。

# javascript - 如何在 google map api v3 中使用 if 条件检查两个 LatLng 值？

> ID：15377227
> 
> 赞同：5
> 
> 时间：2013-03-13T04:41:45.117
> 
> 标签：javascript, google-maps, google-maps-api-3, if-statement

我已经使用 DirectionsRenderer 开发了一个带有路线的地图......如果起点和目的地在同一个地方，我需要反弹目标标记......但是当我使用 IF 检查两个 LatLng 值是否相同时，程序不执行IF 语句......目标标记没有被退回......我的编码是

```
 var myOptions = 
    {
        center: new google.maps.LatLng(default_latitude,default_longitude),
        zoom: 4,
        mapTypeId: google.maps.MapTypeId.ROADMAP
    };

    var map = new google.maps.Map(document.getElementById("map"),myOptions);
    var latlng1=new google.maps.LatLng(glat,glon);
    var latlng2=new google.maps.LatLng(hlat,hlon);

    var marker = new google.maps.Marker({   
            icon: "http://www.googlemapsmarkers.com/v1/B/67BF4B/000000/00902C/", 
            position: new google.maps.LatLng(glat,glon),
            map: map
        });

    var marker1 = new google.maps.Marker({
                icon: " http://www.googlemapsmarkers.com/v1/A/67BF4B/000000/00902C/", 
                position: new google.maps.LatLng(hlat,hlon),
                map: map

            });  

    //THIS IF STATEMENT IS NOT WORKING ... WHAT CAN I USE INSTEAD OF THIS 
        if(latlng1==latlng2)
            marker1.setAnimation(google.maps.Animation.BOUNCE); 

    directionsDisplay.setMap(map);
    directionsDisplay.setPanel(document.getElementById("panel"));
    var request = {
      origin: latlng1,
      destination:latlng2,
      travelMode: google.maps.DirectionsTravelMode.DRIVING
      };

    directionsService.route(request, function(response, status) {
      if (status == google.maps.DirectionsStatus.OK) {
        directionsDisplay.setDirections(response);
       }
    }); 
```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-13T05:10:47.227

[尝试在 LatLng 中使用 equals 方法来比较 2 个位置](https://developers.google.com/maps/documentation/javascript/reference#LatLng)

更改 `if(latlng1==latlng2)`为 `if(latlng1.equals(latlng2))`

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-13T05:31:15.717

要确定 2 个 google.maps.LatLng 对象是否在同一个位置，请选择一个距离（例如 0.1 米），计算它们之间的距离，如果小于阈值，则假设它们是同一个位置。只有当它们是相同的相同对象时，比较对象才会返回 true。比较两个浮点数是有问题的，比较两对浮点对象更是如此。

```
var SameThreshold = 0.1;
if (google.maps.geometry.spherical.computeDistanceBetween(latlng1,latlng2) < SameThreshold)
   marker1.setAnimation(google.maps.Animation.BOUNCE); 
```

一定要包括[几何库](https://developers.google.com/maps/documentation/javascript/libraries)

*   [开发者指南](https://developers.google.com/maps/documentation/javascript/geometry#Distance)
*   [参考](https://developers.google.com/maps/documentation/javascript/reference#spherical)

# c# - Ms Exchange Server Webservices 中的 From 属性中的 Null 值

> ID：15377229
> 
> 赞同：0
> 
> 时间：2013-03-13T04:41:53.930
> 
> 标签：c#, exchange-server, exchangewebservices

此代码有效，只是 From 属性返回为空白。再多的使用 PropertySets 似乎都无法解决它。有人知道我在做什么错吗？

```
Folder inbox = Folder.Bind(service, WellKnownFolderName.Inbox);
SearchFilter.SearchFilterCollection sfc = new SearchFilter.SearchFilterCollection(LogicalOperator.Or);
sfc.Add(new SearchFilter.IsEqualTo(EmailMessageSchema.IsRead, true));
ItemView view = new ItemView(1000);
view.PropertySet = new PropertySet(BasePropertySet.FirstClassProperties);
FindItemsResults<Item> findResults = service.FindItems(WellKnownFolderName.Inbox, sfc, view);

foreach (EmailMessage i in findResults)
{
  Console.WriteLine("Received: " + i.DateTimeReceived.ToString() + " From: " + i.From + " Subject: " + i.Subject);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T08:33:37.137

[引用](http://msdn.microsoft.com/en-us/library/exchange/aa566107%28v=exchg.150%29.aspx)：“FindItem 操作仅返回任何可流式传输属性的前 512 个字节。对于 Unicode，它使用以 null 结尾的 Unicode 字符串返回前 255 个字符。它不返回任何消息正文格式或收件人列表。 FindItem 将返回收件人摘要。您可以使用[GetItem](http://msdn.microsoft.com/en-us/library/exchange/aa565934%28v=exchg.150%29.aspx)操作来获取项目的详细信息
。FindItem 仅返回 Name (EmailAddressType) 元素，而不返回 Mailbox 元素中的 EmailAddress (NonEmptyStringType) 元素，用于以下字段
：消息
的发件人字段 消息的发件人字段
日历项目的组织者字段"

另请参阅[此 Stackexchange 问题](https://stackoverflow.com/questions/6669794/how-to-get-email-body-receipt-sender-and-cc-info-using-ews)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T04:20:59.530

为了清楚起见，我真正需要的是：

Console.WriteLine("发件人：" + i.From.Name);

# sql - 在 mySQL 中使用外键插入值时遇到问题

> ID：15377231
> 
> 赞同：0
> 
> 时间：2013-03-13T04:41:55.077
> 
> 标签：sql, foreign-keys, mysql-error-1452

我为客户和订单创建了如下表格：

```
mysql> create table customers (
-> customer_id int PRIMARY KEY,
-> lastname varchar(30),
-> firstname varchar(30),
-> address varchar(100),
-> phone_num char(12));

mysql> create table orders (
-> order_id int primary key,
-> date_placed date,
-> delivery_date date,
-> total_cost float,
-> paid boolean,
-> customer_id int,
-> foreign key (customer_id) references orders(customer_id)); 
```

我创建了一个名为 Joseph Smith 的客户，如下所示：

```
insert into customers values(1, 'Smith', 'Joseph', '1 Grey Street', '800-867-5309'); 
```

我想将 Joseph Smith 的订单插入到“订单”表中，如下所示：

```
insert into orders values(1, '01-24-1990', '01-26-1990', true, 1); 
```

但是，我收到以下错误消息：

```
ERROR 1452 (23000): Cannot add or update a child row: a foreign key constraint fails (`mr3bn/orders`, CONSTRAINT `orders_ibfk_1` FOREIGN KEY (`customer_id`) REFERENCES `orders` (`customer_id`)) 
```

希望澄清一下

1.  为什么这不起作用和
2.  如何真正让它发挥作用。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T06:12:41.510

您的约束不合适，基本上您的服务器不应该允许您这样做。我正在使用 SQL Server，我尝试了您的代码，但由于约束不当，它没有工作，它给了我以下错误

*“引用表‘ orders* ’中没有与外键‘FK_orders_custome__4A3B5A08’中的引用列列表匹配的主键或候选键”

正如@peterm 所说，改变你的约束。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T04:48:33.560

您的主要问题是您正在创建循环引用 from `orders`to`orders`而不是创建引用 from `orders`to `customers`。

改变

```
foreign key (customer_id) references orders(customer_id)); 
```

至

```
foreign key (customer_id) references customers(customer_id));
                                     ^ 
```

*实际上很奇怪mysql如何允许你这样做。我的失败并显示消息'无法创建表'test.orders'（errno：150）'*

除此之外在你的第二个插入

1.  `cost`正如@Mortalus 所说，为列添加一个值；
2.  将日期格式更改为“YYYY-MM-DD”。

**这是工作[SQLFiddle](http://sqlfiddle.com/#!2/b6bc0/1)**

# php - 为 RNCryptor 使用 PHP 解密器的 HMAC 不匹配错误

> ID：15377235
> 
> 赞同：2
> 
> 时间：2013-03-13T04:42:02.877
> 
> 标签：php, encryption, hmac, rncryptor

我有一个加密的 NSData 变量，它已经在 Objective-C 中进行了 Base64 编码，并且正在通过 POST 传递给 PHP 脚本。我正在尝试解密此字符串，但不断收到 HMAC 不匹配错误。这是我的PHP代码：

```
// back to binary
$bin_data = mb_convert_encoding($username_encrypted, "UTF-8", "BASE64");
// extract salt
$salt = substr($bin_data, 2, 8);
// extract HMAC salt
$hmac_salt = substr($bin_data, 10, 8);
// extract IV
$iv = substr($bin_data, 18, 16);
// extract data
$data = substr($bin_data, 34, strlen($bin_data) - 34 - 32);
// extract HMAC
$hmac = substr($bin_data, strlen($bin_data) - 32);

// make HMAC key
$hmac_key = pbkdf2('SHA1', $password, $hmac_salt, 10000, 32, true);
// make HMAC hash
$hmac_hash = hash_hmac('sha256', $data, $hmac_key, true);
// check if HMAC hash matches HMAC
if($hmac_hash != $hmac)
    exit("Error HMAC mismatch");

// make data key
$key = pbkdf2('SHA1', $password, $salt, 10000, 32, true);
// decrypt
$ret = mcrypt_decrypt(MCRYPT_RIJNDAEL_128, $key, $data, MCRYPT_MODE_CBC, $iv);
echo trim(preg_replace('/[\x00-\x08\x0B\x0C\x0E-\x1F\x80-\xFF]/u', '', $ret));

function pbkdf2($algorithm, $password, $salt, $count, $key_length, $raw_output = false)
{
    $algorithm = strtolower($algorithm);
    if(!in_array($algorithm, hash_algos(), true))
        die('PBKDF2 ERROR: Invalid hash algorithm.');
    if($count <= 0 || $key_length <= 0)
        die('PBKDF2 ERROR: Invalid parameters.');

    $hash_length = strlen(hash($algorithm, "", true));
    $block_count = ceil($key_length / $hash_length);

    $output = "";
    for($i = 1; $i <= $block_count; $i++) {
        // $i encoded as 4 bytes, big endian.
        $last = $salt . pack("N", $i);
        // first iteration
        $last = $xorsum = hash_hmac($algorithm, $last, $password, true);
        // perform the other $count - 1 iterations
        for ($j = 1; $j < $count; $j++) {
            $xorsum ^= ($last = hash_hmac($algorithm, $last, $password, true));
        }
        $output .= $xorsum;
    }

    if($raw_output)
        return substr($output, 0, $key_length);
    else
        return bin2hex(substr($output, 0, $key_length));
} 
```

这是我的 iOS 代码：

```
NSData *plain_data = [plain_string dataUsingEncoding:NSUTF8StringEncoding];
NSError *error_encryption = nil;
NSData *encrypted_data = [RNOpenSSLEncryptor encryptData:plain_data
                                            withSettings:kRNCryptorAES256Settings
                                                password:key
                                                   error:&error_encryption];

NSString *test_variable = [encrypted_data base64Encoding]; 
```

知道有什么问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:09:16.180

该问题已通过以下帖子解决：[NSMutableURLRequest POST 消息中的 Base64 问题？](https://stackoverflow.com/questions/14835546/base64-issue-in-nsmutableurlrequest-post-message?rq=1)

本质上，`+`PHP 将 's 转换为空格。另外，我使用了在他的示例中找到的 PHP`decrypt2()`函数，而不是我的。（我已包含以下代码以供参考。）

```
function decrypt2($b64_data,$password)
{
            // back to binary
            //$bin_data = mb_convert_encoding($b64_data, "UTF-8", "BASE64");
            $bin_data = base64_decode($b64_data);
            // extract salt
            $salt = substr($bin_data, 2, 8);
            // extract HMAC salt
            $hmac_salt = substr($bin_data, 10, 8);
            // extract IV
            $iv = substr($bin_data, 18, 16);
            // extract data
            $data = substr($bin_data, 34, strlen($bin_data) - 34 - 32);
            $dataWithoutHMAC = chr(2).chr(1).$salt.$hmac_salt.$iv.$data;
            // extract HMAC
            $hmac = substr($bin_data, strlen($bin_data) - 32);
            // make HMAC key
            $hmac_key = pbkdf2('SHA1', $password, $hmac_salt, 10000, 32, true);
            // make HMAC hash
            $hmac_hash = hash_hmac('sha256', $dataWithoutHMAC , $hmac_key, true);
            // check if HMAC hash matches HMAC
            if($hmac_hash != $hmac) {
                echo "HMAC mismatch".$nl.$nl.$nl;
               // return false;
            }
            // make data key
            $key = pbkdf2('SHA1', $password, $salt, 10000, 32, true);
            // decrypt
            $ret = mcrypt_decrypt(MCRYPT_RIJNDAEL_128, $key, $data, MCRYPT_MODE_CBC, $iv);      
            return $ret;
}
$passkey = "123456"; 
```

# c++ - Qt 通过 QConcurrent::run 终止线程生成

> ID：15377236
> 
> 赞同：2
> 
> 时间：2013-03-13T04:42:14.920
> 
> 标签：c++, qt, qthread, qtconcurrent

平台：Win7 x64、MinGW-rubenvb (4.7.2-x64)、Qt 4.8

假设我有几个使用 QConcurrent::run 生成的冗长任务（读取填充文件、写入填充文件和运行模拟），如下所示：

```
void MainWindow::runLengthyJob() {
    /* some setup */
    jobWatcher->setFuture(QConcurrent::run(theApp, &AppClass::lengthyJob));
    // lengthyJob - can be readPop(), writePop(), runSim()
} 
```

通常这些任务至少需要 15 秒才能完成（对于模拟，需要几个小时以上）。为了防止尚未完成的线程崩溃，我重新实现 MainWindow::closeEvent 如下：

```
void MainWindow::closeEvent(QCloseEvent *event) {
    /* wait for any dangling thread */
    if (QThreadPool::globalInstance()->activeThreadCount())
        QThreadPool::globalInstance()->waitForDone();
    event->accept();
} // end: MainWindow::closeEvent 
```

这可以正常工作，但是当我单击 MainWindow 的“x”按钮时，它似乎冻结并显示“无响应”（我猜文本是由操作系统给出的），尽管它最终终止了应用程序。

我想在触发 MainWindow 的 close() 插槽后立即退出应用程序。那么，如何缩短未完成线程的等待时间呢？或者我如何通知用户仍有一个冗长的作业正在运行（可能需要数小时才能完全关闭）？（我试图在 closeEvent 中包含 QDialog/QMessagebox，但新创建的小部件也冻结了）

注意：对于 AppClass:longyJobs [readPop() /writePop()]，这些是独立的函数，我不能分解成更小的步骤。对于 AppClass::runSim()，更小的步骤可能是可能的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:47:58.590

首先，由 QtConcurrent::run 返回的未来不支持取消。所以你不能只是取消它。您可以做的最好的事情是在 AppClass 中设置一些标志并在您的 longyJobs 中检查它（正如您所说，在 runSim 的情况下是可能的），然后等待完成。

无论哪种方式，如果您想通知用户正在运行的任务，您可以执行以下操作：创建一个 QDialog 的子类，例如带有一段时间的 QTimer 的 WaitDialog，在对话框构建时启动此计时器，将 timeout() 信号连接到此中的某个插槽对话框，如果没有正在运行的线程，则接受该对话框：

```
if (QThreadPool::globalInstance()->activeThreadCount() == 0)
    accept(); 
```

然后在 MainWindow::closeEvent:

```
void MainWindow::closeEvent(QCloseEvent *event) {
    WaitDialog dlg;
    dlg.exec();
    event->accept();
} 
```

# r - R根据多个列值将数据框子化为多个数据框

> ID：15377238
> 
> 赞同：23
> 
> 时间：2013-03-13T04:42:41.043
> 
> 标签：r, dataframe, subset, multiple-columns

我正在尝试对数据框进行子集化，在其中我根据多个列值获取多个数据框。这是我的例子

```
>df
  v1   v2   v3   v4   v5
   A    Z    1    10   12
   D    Y    10   12    8
   E    X    2    12   15
   A    Z    1    10   12
   E    X    2    14   16 
```

预期的输出是这样的，我根据列将此数据帧拆分为多个数据帧`v1`，`v2`

```
>df1
 v3   v4   v5
  1   10   12
  1   10   12
>df2
 v3   v4   v5
 10   12    8
>df3
 v3   v4   v5
 2    12   15
 2    14   16 
```

我已经编写了一个现在可以工作的代码，但不认为这是最好的方法。必须有更好的方法来做到这一点。假设`tab`是具有初始数据的data.frame。这是我的代码：

```
v1Factors<-levels(factor(tab$v1))
v2Factors<-levels(factor(tab$v2))

for(i in 1:length(v1Factors)){
  for(j in 1:length(v2Factors)){
    subsetTab<-subset(tab, v1==v1Factors[i] & v2==v2Factors[j], select=c("v3", "v4", "v5"))
    print(subsetTab)
  }
} 
```

有人可以提出更好的方法来完成上述工作吗？

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-03-13T04:46:09.853

你正在寻找`split`

```
split(df, with(df, interaction(v1,v2)), drop = TRUE)
$E.X
  v1 v2 v3 v4 v5
3  E  X  2 12 15
5  E  X  2 14 16

$D.Y
  v1 v2 v3 v4 v5
2  D  Y 10 12  8

$A.Z
  v1 v2 v3 v4 v5
1  A  Z  1 10 12 
```

如评论中所述

以下任何一项都可以

```
library(microbenchmark)
microbenchmark(
                split(df, list(df$v1,df$v2), drop = TRUE), 
               split(df, interaction(df$v1,df$v2), drop = TRUE),
               split(df, with(df, interaction(v1,v2)), drop = TRUE))

Unit: microseconds
                                                  expr      min        lq    median       uq      max neval
            split(df, list(df$v1, df$v2), drop = TRUE) 1119.845 1129.3750 1145.8815 1182.119 3910.249   100
     split(df, interaction(df$v1, df$v2), drop = TRUE)  893.749  900.5720  909.8035  936.414 3617.038   100
 split(df, with(df, interaction(v1, v2)), drop = TRUE)  895.150  902.5705  909.8505  927.128 1399.284   100 
```

它似乎`interaction`稍微快一些（可能是因为`f = list(...)`刚刚转换为函数内的交互）

* * *

编辑

如果您只想使用子集 data.frames 那么我建议使用 data.table 以便于编码

```
library(data.table)

dt <- data.table(df)
dt[, plot(v4, v5), by = list(v1, v2)] 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2016-10-24T11:49:59.560

现在也`nest()`从`tidyr`其中相当不错。

```
library(tidyr)
nestdf <- df %>% nest(v3:v5)
nestdf$data

> nestdf$data
[[1]]
# A tibble: 2 × 3
     v3    v4    v5
  <int> <int> <int>
1     1    10    12
2     1    10    12

[[2]]
# A tibble: 1 × 3
     v3    v4    v5
  <int> <int> <int>
1    10    12     8

[[3]]
# A tibble: 2 × 3
     v3    v4    v5
  <int> <int> <int>
1     2    12    15
2     2    14    16 
```

使用等访问单个小标题`nestdf$data[1]`。

# python - PyDev - 最后缺少 Eclipse 控制台行

> ID：15377243
> 
> 赞同：1
> 
> 时间：2013-03-13T04:43:08.300
> 
> 标签：python, eclipse, python-2.7, pydev

在很多情况下，我都遇到了 Eclipse 控制台没有显示我的 python 脚本的完整调试输出的问题。输出的最后几行有时会丢失，就好像控制台在脚本的完整输出被处理之前“关闭”一样。

我不确定 PyDev、调试器和 Eclipse 控制台窗口之间的交互，因此很难查明问题 - 特别是因为每次启动新的调试会话时它的行为都不同。

到目前为止，发生这种情况的脚本太大而无法完全张贴在这里，但我最近正在玩随机模块并看到它再次发生：

```
import random
rand = random.Random(9572)

for i in range(10):
    print i, rand.randrange(256) 
```

![PyDev 控制台缺少最后几行](../Images/d4e7471f7625d3e824177e2ed0c1c818.png)

当然，完整的输出（我*有时*也会得到）应该是

```
pydev debugger: starting
0 157
1 18
2 136
3 171
4 136
5 62
6 26
7 13
8 37
9 1 
```

我是唯一一个有这个问题的人吗？

如果没有，关于如何解决它的任何指示？

请注意，我在 Windows 7 下使用 Eclipse Juno SR1（内部版本号：M20120914-1800）和 PyDev 2.7.1.2012100913。

提前致谢！

* * *

由于 abarnert 在下面的评论，我刚刚尝试了 2.7.0.2012100419 PyDev 版本。同样的问题。

# android - 在 Android 上实现消息访问配置文件（接收端）？

> ID：15377247
> 
> 赞同：2
> 
> 时间：2013-03-13T04:43:20.450
> 
> 标签：android, dictionary, bluetooth, profile

我打算让 Android 支持消息访问配置文件（在接收器端），它可以通过蓝牙从 iPhone 获取传入消息，与[智能手表一样](http://www.razorianfly.com/2012/12/07/pebble-officially-announces-sms-and-imessage-support-for-iphone-video/)

但我不知道如何在 Android 上实现它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-01T12:15:47.210

MAP（[消息访问配置文件](http://developer.bluetooth.org/TechnologyOverview/Pages/MAP.aspx)）使用[OBEX](http://en.wikipedia.org/wiki/OBject_EXchange)（[对象交换](http://developer.bluetooth.org/TechnologyOverview/Pages/OBEX.aspx)）配置文件进行交谈。因此，从了解（[阅读规范](https://www.bluetooth.org/docman/handlers/downloaddoc.ashx?doc_id=230888)）开始并实施 OBEX。构建一个好东西是一个 OBEX 包解析器/构建器。还有更多以 OBEX 为基础的配置文件，例如 OPP（[对象推送配置文件](http://developer.bluetooth.org/TechnologyOverview/Pages/OPP.aspx)）和 PBAP（[电话簿访问配置文件](http://developer.bluetooth.org/TechnologyOverview/Pages/PBAP.aspx)）。

当您拥有解析器/构建器时，您可以在其上实现 MAP。MAP（[规范](https://www.bluetooth.org/DocMan/handlers/DownloadDoc.ashx?doc_id=215400)）有两部分 MAS（消息访问服务）和 MNS（消息通知服务）。根据您想要做什么，您可能需要同时推动两者。正如您在问题中所说，您想从手机接收有关新消息的通知并获取它，那么您需要这两个部分。如果您只想从手机中读取消息，那么您只需要实现 MAS 部分。

# jquery - 使用jquery在表onClick中显示列表框项目

> ID：15377248
> 
> 赞同：-1
> 
> 时间：2013-03-13T04:43:37.393
> 
> 标签：jquery, html-table, listbox

我对 jQuery 很陌生。我有一个列表框，其中包含来自其他列表框中的选定项目。我想在 Button Click 上显示一个在另一个下方的表格行中的所有选定项目。

直到现在我已经做了这样的事情..但是代码没有运行（***sel1***是 listbox1，**sel2**是 listbox2，**tab2**是表 id）。

在下面的代码中，我想在表格的第一列中显示 sel2 项目..

```
<script>

 $(document).ready(function()
 {
    $("#button").click(function()
    {
    for(i=1;i<$(#'sel2').length;i++)
        {
      $("#tab2 tbody").append("<tr><td></td>'(#sel2).val'<td><input type='text'></td></tr>")
        }});
 }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:34:04.240

你好请试试这个，我希望这能帮助你解决当前的问题：

```
<script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.js"></script>

<select id="sel2" multiple>
    <option value="first">first option</option>
    <option value="second">sec option</option>
    <option value="third">third option</option>
    <option value="fourth">fourth option</option>
    <option value="fifth">fifth option</option>
    <option value="sixth">six option</option>
</select>

<table id="tab2">
<tbody>

</tbody>
</table>

<button id="add" value="Add">Add</button>

<script>

 $(document).ready(function()
 {

    $("#add").click(function()
    {
        var selectval = $('#sel2').val();

        var len = selectval.length;

        for(var i=0; i < len; i++){
            $("#tab2 tbody").append("<tr><td>"+selectval[i]+"</td><td><input type='text'></td></tr>");
        }

    });
});
</script> 
```

# ruby-on-rails - Rails 3 选择标签

> ID：15377250
> 
> 赞同：1
> 
> 时间：2013-03-13T04:43:49.083
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.1

我有一个 Product 模型，我需要`options_from_collection_for_select`从我的 products 模型的一列中填充一个 my ，但是我需要它`options_for_select`是唯一的，而不是重复该列中的所有值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T04:52:10.143

获取产品型号上特定列的唯一列表：

```
Product.uniq.pluck(:size) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T06:43:23.473

[select_tag（名称，option_tags = nil，选项 = {}）](http://apidock.com/rails/ActionView/Helpers/FormTagHelper/select_tag)

```
@uniq_products = Product.group(:column_name)

select_tag "product", options_from_collection_for_select(@uniq_products, "id", "<column_name>") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T07:16:29.370

`find_by_sql`虽然 Rails 提供了通过唯一列值进行选择的方法，但使用模型方法直接获取唯一结果会更快。

```
# app/controllers/products_controller.rb
@unique_products = Product.find_by_sql("SELECT * FROM products GROUP BY unique_column")

# app/views/products/_form.html.erb
<%= select_tag 'product', options_from_collection_for_select(@unique_products, 'id', 'name') 
```

# c# - 如何在 c# 中使用 JavaScriptSerializer 来解析具有未知数量的键和值的 Json？

> ID：15377251
> 
> 赞同：1
> 
> 时间：2013-03-13T04:43:49.163
> 
> 标签：c#, asp.net, json, javascriptserializer

如果我有一个带有未知数量的键和值的 Json 字符串。如何在 c# 中将所有值获取到数组或对象中？

在下面的示例中，我知道有“id”和“index”字段。如果我不知道现场的钥匙怎么办？

在另一种情况下，如果键的数量很大以至于我无法声明变量怎么办？

```
[{"id":"449342","index":0},{"id":"449343","index":1}] 
```

我像这样反序列化上面的Json。上面提到的两种情况呢？

```
JavaScriptSerializer js = new JavaScriptSerializer();
        AllLiTags[] Tags = js.Deserialize<AllLiTags[]>(LiOrder);

public class AllLiTags
{
    public string Id { get; set; }
    public string Index { get; set; }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T04:58:41.793

要么反序列化成字典，要么获取更面向这种用法的 nuget 包[Json.NET](http://www.nuget.org/packages/NewtonSoft.Json)（[文档）。](http://james.newtonking.com/projects/json/help/)

反序列化成字典看起来像：

```
var tags = js.Deserialize<Dictionary<string, string>[]>(LiOrder);
string secondOrderIndex = tags[1]["index"]; 
```

你会丢失类型信息（数字转换为字符串等），我怀疑它会处理嵌套对象。

使用 Json.NET 看起来像：

```
var tags = JArray.Parse(LiOrder);
string secondOrderIndex = tags[1]["index"].GetValue<string>();
int idx = 0;
foreach (var order in tags) {
    foreach (var prop in order) {
        Console.WriteLine("Order {0}'s {1} property has value {2}",
                          idx,
                          prop.Name,
                          prop.Value.ToString());
    }
    idx++;
} 
```

# javascript - Javascript 表不会移动

> ID：15377256
> 
> 赞同：0
> 
> 时间：2013-03-13T04:43:58.327
> 
> 标签：javascript, html, html-table

我只想说我在页面上移动表格时遇到问题，就像使用图像一样。然而，这是有问题的。我已经知道如何使用坐标或使用方程式在圆圈中移动图像。我尝试对此应用坐标方式，但是，即使表格正确显示和隐藏，表格也不会移动。

```
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <style type="text/css">
        .auto-style1 {
            width: 100%;
        }
        .auto-style2 {
            width: 78px;
            height: 63px;
        }
        .auto-style3 {
            width: 55px;
            height: 54px;
        }
    </style>
</head>
<body style="width: 235px">
    <script>
function moveTable() {
        if (playing == false) {
            myTimer = window.setTimeout(move, 25);
            playing = true;
        }
    }

    leftCoor = new Array(10, 30, 50, 70, 90, 110, 130, 110, 90, 70, 50, 30);
    var myTimer;
    var playing = false;
    var index = 0; //was undefined

    function move() {
        //if (playing == false) {
        var tplayer = document.getElementById("tblFormat");
        tplayer.style.visibility = "visible";
        tplayer.style.left = leftCoor[index] + "px";
        index++;

        if (index > 11) index = 0;
        //myTimer = window.setTimeout(move, 100); //corrected
        //playing = false;
        //}

    }

    function CloseTable() {
        var tplayer = document.getElementById("tblFormat");
        tplayer.style.visibility = "hidden";
        tplayer.style.left = "10px";
        window.clearTimeout(myTimer);
        playing = false;

    }

    </script>
    <table class="auto-style1" style="background-color: #FF0000; border: thick inset #0000FF; visibility: hidden; left: 10px;" id="tblFormat">
        <tr>
            <td style="text-align: right">
                <img id="imgClose" alt="" class="auto-style2" src="images/emyller_close_button.png" onclick="CloseTable()" /></td>
        </tr>
        <tr>
            <td>Hello World,<br />
                Please hit the close button to close this table.</td>
        </tr>
    </table>
    <p>
        &nbsp;</p>
    <p>
        <img id="imgOpen" alt="" class="auto-style3" src="images/start-button.png" onmouseover="move()" /></p>

</body>
</html> 
```

感谢所有帮助！

**更新代码**

由于答案的想法而更新了代码。还是一样的问题，还是不动。

**更新的代码和编辑#2**

好的，所以它有点移动，但不是我想要的方式。我希望它是连续的，并且只在鼠标悬停时激活（如果有意义的话）。现在，我必须进行多次鼠标悬停才能使其移动。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:14:04.403

```
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>...</title>
</head>
 <body>
   <script>
        leftCoor = new Array(10, 30, 50, 70, 90, 110, 130, 110, 90, 70, 50, 30);
        var myTimer;
        //var playing = false;
        var index = 0;

        function move() {
            //if (playing == false) {
                var tplayer = document.getElementById("tblFormat");
                tplayer.style.visibility = "visible";
                tplayer.style.left = leftCoor[index] + "px";
                index++;

                if (index > 11) index = 0;
                myTimer = window.setTimeout(move, 100); //corrected
                playing = true;
            //}

        }

        function CloseTable() {
            var tplayer = document.getElementById("tblFormat");
            tplayer.style.visibility = "hidden";
            tplayer.style.left = "10px";
            window.clearTimeout(myTimer);
            //playing = false;

        }
   </script>
   <div id="divTable" style="left:10px">
   <table id="tblFormat" style="position:relative"> <!-- position:relative -->
      <tr>
         <td><img id="imgClose" onclick="CloseTable()" /></td>
      </tr>
   </table>
   </div>
   <img id="imgOpen" onMouseOver="move()" />
 </body>
</html> 
```

我撕掉了一些代码，以专注于形成我的答案的员工；）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T04:58:44.283

如果你想线性移动表格，你可以使用 CSS3 转换属性，而不一定是 javascript 来完成。

例如：

```
 #tblFormat:hover{transform:translateX(250px);} 
```

悬停时会将 X 轴上 id 为 tblFormat 的元素移动到 250px 的距离。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T05:04:51.297

我注意到的一件事是你有 if (playing == false) 语句。因此，在您第一次将鼠标悬停在开始按钮上后，playing 的值将更改为 true。那么 if (playing == false) 里面的代码永远不会有机会运行。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T05:19:04.560

你的表与类`auto-style1`需要有`position: relative`，`absolute`或`fixed`尊重`left`财产。这是根本原因；可能存在其他问题，这些问题会阻止桌子完全按照您的意愿移动。

# regex - 使用正则表达式搜索 HTML 标签

> ID：15377272
> 
> 赞同：2
> 
> 时间：2013-03-13T04:45:55.930
> 
> 标签：regex

根据[http://gskinner.com/RegExr/](http://gskinner.com/RegExr/)，它提供了一个正则表达式模式来搜索 HTML 标签：

**A)** `<[^<]+?>` - 匹配 HTML 标签的简化示例

它可以工作，但是我如下更改了正则表达式模式，它也可以工作。

**B)** `<[^<]+>`或**C)** `<[^<]+.>`

**我想问一下A)**、**B)**和**C)**有什么区别？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T04:58:13.923

`+?`就是所谓的懒惰。惰性匹配将匹配**尽可能少的字符。**例如，`<[^<]+?>`given`<blah>>`将匹配`<blah>`即使它可能已经匹配`<blah>>`，因为它匹配尽可能少的字符。

相反，`+`它被称为贪婪并匹配尽可能多的字符。它将匹配`<blah>>`，因为这是满足正则表达式的最多匹配。

`.`是一个字符，意思是“匹配任何东西”，它本身（后面没有 +、* 等）表示“匹配任何东西”。`.`in`+.`不修改，`+`它是一个新元素。

如您所见，我们使用`+?`HTML 标记是因为在第一次`>`遇到时关闭，并`+?`通过在关闭 HTML 标记时立即结束来反映这一点。

# facebook - Facebook 推送弹出对话框未关闭

> ID：15377274
> 
> 赞同：0
> 
> 时间：2013-03-13T04:46:15.060
> 
> 标签：facebook, facebook-javascript-sdk

使用 FB.ui 发布带有参数 display:popup 的提要。当用户选择“取消”或在“共享”之后，“redirect_uri”参数中指定的网站将显示在弹出窗口中。Facebook 文档指出，当按钮被取消时，弹出对话框应该被关闭。

这是我的代码。我究竟做错了什么？

```
<script src='http://connect.facebook.net/en_US/all.js'></script>

<script>
    window.fbAsyncInit = function () {
        FB.init({
            appId: my APP ID, status: true, cookie: true,
            xfbml: false, channelUrl: 'MY URL/fb-channel.html'
        });
    };

function fbShare(title, fbSiteUrl, fbThumbnailUrl, fbSiteDescription) {
    var publish = {
        method: 'feed',
        name: title,
        caption: 'MY CAPTION',
        description: fbSiteDescription,
        picture: fbThumbnailUrl,
        link: fbSiteUrl,
        redirect_uri: 'MY WEB SITE URL',
        actions: [
            { name: 'MY WEB SITE Name', link: 'MY WEB SITE URL' }
        ],
        display: 'popup'
    };

    function callback(response) {
    }

    FB.ui(publish, callback);
}
</script> 
```

# python - 如何使用 weasyprint 渲染链接？

> ID：15377275
> 
> 赞同：0
> 
> 时间：2013-03-13T04:46:15.803
> 
> 标签：python, python-2.7, pdf, pdf-generation, weasyprint

```
from weasyprint import HTML
HTML(string='<a href="http://google.com">link</a>').write_pdf('tmp.pdf') 
```

里面没有可点击的链接。

我正在将网站的一部分抓取为 HTML 并尝试呈现该部分。也许这就是问题所在。但我没有完整有效的 HTML。这是否意味着我无法使用 weasyprint 呈现正确的 PDF？

上面的示例将具有使用 xhtml2pdf 的可点击链接。有没有办法让它与 weasyprint 一起工作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T07:39:12.970

这是 WeasyPrint 0.17 中的一个错误，可能还有一些以前的版本。见[https://github.com/Kozea/WeasyPrint/issues/42](https://github.com/Kozea/WeasyPrint/issues/42)

# css - 导航栏中垂直链接的填充

> ID：15377277
> 
> 赞同：3
> 
> 时间：2013-03-13T04:46:17.007
> 
> 标签：css, menu, padding, space, nav

我已经为我的网站设计了一个新菜单，但我似乎无法在垂直链接之间安排空间（*我希望链接之间有更多空白*）有什么建议吗？

html

```
<ul class="menu">
<li><a href="#about">ABOUT</a></li>
<li><a href="#contact">CONTACT</a></li>
<li><a href="#services">SERVICES</a></li>
</ul> 
```

css

```
ul.menu
{
list-style-type:none;
list-style-position: inside;
margin:0;
padding:0;
padding-bottom: 1cm;
}

.menu li a, .menu li a:visited
{
padding:12px 0 0 0px;
font-family: 'Roboto Condensed', sans-serif;font-size:20px;font-weight:700;
color:#FFFFFF;
background-color:#09F;
text-align:center;
padding:3px;
text-decoration:none;

}

.menu li a:hover, menu li a:active {
background-color:#666;
} 
```

正如你所看到的，我已经尝试了一段 css 的差距：{padding:12px 0 0 0px;} 但没有运气......其他一切都*很好*- 见 fiddle @ [http://jsfiddle.net/DCxvy/](http://jsfiddle.net/DCxvy/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T10:24:24.607

锚点默认是内联元素。要添加某些填充值，您需要将它们呈现为内联块级元素。添加`display: block`到您的锚样式：

```
.menu li a { display: inline-block } 
```

此外，您应该注意，您的`.menu li a`样式有两个`padding`. 后一个（将填充设置为`3px`所有侧面）覆盖了您之前的定义。

这是一个[**jsFiddle 演示**](http://jsfiddle.net/DCxvy/2/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T15:01:34.237

如果我没记错的话，你想在链接之间垂直插入空格。为此，您所要做的就是：

```
.menu li {
  margin-bottom: 10px;
} 
```

[摆弄保证金解决方案。](http://jsfiddle.net/Kb7ev/)

另一方面，如果您希望菜单的背景保持蓝色阴影并在悬停时更改颜色，那么这就是小提琴。我还重构了您的 CSS 以更直观的方式排列规则。

[将菜单背景设置为纯色，没有白色换行符。](http://jsfiddle.net/eEXBw/)

# javascript - 如何递归地使用 jquery 附加此树数据？

> ID：15377283
> 
> 赞同：0
> 
> 时间：2013-03-13T04:46:52.533
> 
> 标签：javascript, jquery, arrays, json, recursion

```
[{"tag":35,"value":"W","children":[
    {"tag":55,"value":"GOOG","children":null},
    {"tag":262,"value":"ghost332002m0","children":null},
    {"tag":268,"value":"1","children":[
       {"tag":269,"value":"B","children":null},
       {"tag":271,"value":"0","children":null},
       {"tag":336,"value":"3","children":null}
     ]}
  ]},
   {"tag":35,"value":"W","children":[
       {"tag":55,"value":"GOOG","children":null},
       {"tag":262,"value":"ghost332002m0","children":null},
       {"tag":268,"value":"0","children":null}
   ]} 
] 
```

有 JSON，它是 FIX 市场数据，你有这些嵌套组，所以这是我在 JSON 中对这些 FIX 消息的表示。无论如何，我将它发送到我的网络客户端，并且需要将它展平在显示器中。

```
$.getJSON('/receive', function(data, returnValue) {
    $.each(data, function(index,value) {
        $('#output').append('<p>');
        appendStuff(value);
        $('#output').append('</p>');
    });
function appendStuff(children) {
    debug_var.push(children);
    $.each(children, function(child) {
        $('#output').append(child.tag+'='+child.value+' ');
        if (child.children != null) {
            appendStuff(child.children);
        }
    })
} 
```

我正在尝试使用递归来遍历这些数据并将所有内容打印出来。我得到的是：

```
undefined=undefined undefined=undefined undefined=undefined 
```

我究竟做错了什么？

哦，数据都在 debug_var...

![在此处输入图像描述](../Images/d2e3f3fe0c954e33b9dd944f8017416d.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T05:19:38.987

你可能想要更接近的东西

```
$.getJSON('/receive', function (data) {
    $.each(data, function(index,value) {
        $('#output').append('<p>');
        appendStuff(value.children || []);
        $('#output').append('</p>');
    });
    function appendStuff(children) {
        $.each(children, function(i, child) {
            $('#output').append(child.tag+'='+child.value+' ');
            if (child.children != null) {
                appendStuff(child.children);
            }
        });
    }
}); 
```

*请注意，上面没有打印父母的标签，您可能需要添加它。*

# android - 制作：没有规则来制作目标'external/intel-boot-tools/boot.mk'

> ID：15377289
> 
> 赞同：0
> 
> 时间：2013-03-13T04:48:10.940
> 
> 标签：android, makefile, target, rule

我正在尝试为我的 Razr I 手机（x86-atom）制作一个 Android ROM。一切正常，但是当我运行`make`它时显示此错误：

```
make: *** No rule to make target 'external/intel-boot-tools/boot.mk'. 
```

它出什么问题了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T15:00:44.593

而是在您的 boardconfig.mk 中链接到此并将其添加到您的清单中，以便它自动同步。[https://github.com/turl/razr-i-boot-tools](https://github.com/turl/razr-i-boot-tools)

看起来您的 boardconfig 引用了您从未同步过的目录。Razr-i-boot-tools 更特定于您的设备（显然），所以我会使用它。

# algorithm - 无监督自动标记算法？

> ID：15377290
> 
> 赞同：24
> 
> 时间：2013-03-13T04:48:20.513
> 
> 标签：algorithm, machine-learning, nlp, tagging

我想构建一个 Web 应用程序，让用户可以上传*文档*、*视频*、*图像*、*音乐*，然后让他们能够搜索它们。把它想象成*Dropbox* + 语义搜索。

当用户上传新文件时，例如**Document1.docx**，如何根据文件内容自动生成标签？换句话说，不需要用户输入来确定文件的内容。如果假设**Document1.docx**是一篇关于数据挖掘的研究论文，那么当用户搜索*数据挖掘*或*研究论文*或*document1*时，该文件应该在搜索结果中返回，因为*数据挖掘*和*研究论文*很可能是潜在的自动- 为给定文档生成的标签。

***1\. 对于这个问题，你会推荐哪些算法？***

***2\. 有没有可以为我做这件事的自然语言库？***

***3\. 我应该研究哪些机器学习技术来提高标记精度？***

***4\. 如何将其扩展到视频和图像自动标记？***

提前致谢！

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-13T04:59:41.090

此类任务最常见的无监督机器学习模型是[潜在狄利克雷分配](http://en.wikipedia.org/wiki/Latent_dirichlet_allocation)(LDA)。该模型根据文档中的单词自动推断文档语料库中的主题集合。在您的一组文档上运行 LDA 会在您搜索某些主题时为某些主题分配具有概率的词，然后您可以检索与该词相关的概率最高的文档。

图像和音乐也有一些扩展，请参阅[http://cseweb.ucsd.edu/~dhu/docs/research_exam09.pdf](http://cseweb.ucsd.edu/~dhu/docs/research_exam09.pdf)。

LDA 有多种语言的多种高效实现：

*   [来自原始研究人员的许多实现](http://www.cs.princeton.edu/~blei/topicmodeling.html)
*   [http://mallet.cs.umass.edu/](http://mallet.cs.umass.edu/)，用 Java 编写，在 SO 上被其他人推荐
*   [PLDA](http://code.google.com/p/plda/)：快速、并行的 C++ 实现

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2015-01-26T15:53:39.910

这些家伙提出了 LDA 的替代方案。

> 社交推荐系统的自动标签推荐算法 [http://research.microsoft.com/pubs/79896/tagging.pdf](http://research.microsoft.com/pubs/79896/tagging.pdf)

没有通读整篇论文，但他们有两种算法：

1.  监督学习版本。这还不错。您可以使用维基百科来训练算法
2.  “原型”版本。没有机会通过这个，但这是他们推荐的

更新：我对此进行了更多研究，并找到了另一种方法。基本上，这是一个两阶段的方法，非常易于理解和实施。虽然对于 100,000 个文档来说太慢了，但它（可能）对于 1000 个文档具有良好的性能（因此它非常适合标记单个用户的文档）。我将尝试这种方法，并将报告性能/可用性。

同时，方法如下：

1.  [根据http://qr.ae/36RAP](http://qr.ae/36RAP)使用 TextRank 为单个文档生成标签列表。这会为单个文档生成一个*独立于其他文档*的标签列表。
2.  使用“使用机器学习支持持续本体开发”（[https://www.researchgate.net/publication/221630712_Using_Machine_Learning_to_Support_Continuous_Ontology_Development](https://www.researchgate.net/publication/221630712_Using_Machine_Learning_to_Support_Continuous_Ontology_Development)）中的算法将标签列表（从步骤 1 开始）集成到现有标签列表中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-06-24T13:15:35.763

可以使用此关键短语提取算法/包来标记文本文档。 [http://www.nzdl.org/Kea/](http://www.nzdl.org/Kea/) 目前它支持有限类型的文件（我猜是农业和医疗），但您可以根据自己的要求对其进行培训。

我不确定图像/视频部分将如何工作，除非您正在进行非常准确的对象检测（这有它自己的缺点）。你打算怎么做？

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-01-15T15:45:07.290

您需要 Doc-Tags ( [https://www.Doc-Tags.com](https://www.Doc-Tags.com) )，它是一种商业产品，可自动且无监督 - 生成上下文准确的文档标签。内置的报告功能使该产品成为轻量级的文档管理系统。

对于想要定制自己的方法的开发人员 - 源代码可用（非常便宜），后端服务 xAIgent ( [https://xAIgent.com](https://xAIgent.com) ) 使用起来非常便宜。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-07-01T20:41:38.953

我今天发布了一篇博客文章来回答您的问题。

[http://scottge.net/2015/06/30/automatic-image-and-video-tagging/](http://scottge.net/2015/06/30/automatic-image-and-video-tagging/)

基本上有两种方法可以从图像和视频中自动提取关键字。

1.  多实例学习 (MIL)
2.  深度神经网络 (DNN)、循环神经网络 (RNN) 及其变体

在上面的博客文章中，我列出了最新的研究论文来说明解决方案。其中一些甚至包括演示站点和源代码。

谢谢，斯科特

# java - GPS 和地理位置如何适用于 Android 设备

> ID：15377292
> 
> 赞同：0
> 
> 时间：2013-03-13T04:48:24.807
> 
> 标签：java, android, geolocation, gps, wifi

我将开发一个应用程序，我需要将用户的当前位置检索到应用程序中，以便获取特定位置的数据。在开始之前，我想了解 GPS 系统如何在 Android 上工作以及与 WiFi 有什么关系。任何人都可以告诉我关于 GPS 和地理代码参考 Android 设备的完整解释，并建议我如何开始。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-13T05:20:56.033

Android 有三种获取用户当前位置的方法。

1.  通过 WI-FI
2.  通过您的网络提供商。
3.  通过 Android Device 中的 GPS 芯片。

其中最准确的方法是从 GPS 获取坐标。这将获得您在纬度的准确位置，但它也将使用大部分电池。这通常用于精度很重要的导航地图。

这两种方法的其余部分不太准确，但也使用较少的电池。如果当前位置的准确性不是那么重要，您可以使用后两种方法。所有这些方法都可以通过`LocationManager`android获得。

编辑：

```
 // To get Updates From GPS Use
    mlocManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0,
            currentlocation); 

       //To get Updates From network Use
    mlocManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 0, 0,
            currentlocation); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-13T05:47:52.650

**全球定位系统**

如今，大多数 Android 智能手机都安装了*AGPS*芯片。AGPS 是指**辅助 GPS**，它借助网络塔和 WI-FI 热点快速确定附近的位置，并帮助支持 Android GPS 的智能手机锁定 GPS 卫星。Android 智能手机使用 AGPS 芯片也可以锁定 GPS 卫星，无需数据计划或网络，但需要清晰的天空视野和一些时间锁定 GPS 卫星。

Google Maps 是一种导航系统，其地图在具有活动数据连接时加载，通常借助网络塔或 WI-FI 热点定位您的设备位置，其中位置不是那么准确。在 Android 中获得准确的位置“我的位置”中有两个设置，一个是启用使用具有位计算功能的无线网络，另一个是使用 GPS 卫星，这需要更多电池和清晰的天空视野。所以我们可以说启用或配备 AGPS 芯片的 Android 智能手机具有准确的位置位置和充分利用 GPS 卫星。

**地理编码**

地理编码是将街道地址或位置的其他描述转换为（纬度、经度）坐标的过程。

以下链接将帮助您学习

1) [https://developers.google.com/maps/documentation/directions/](https://developers.google.com/maps/documentation/directions/)
2) [http://blog.synyx.de/2010/06/routing-driving-directions-on-android-part-1-get- the-route/](http://blog.synyx.de/2010/06/routing-driving-directions-on-android-part-1-get-the-route/)
3) [http://eagle.phys.utk.edu/guidry/android/mappingDemo.html](http://eagle.phys.utk.edu/guidry/android/mappingDemo.html)
4) [Google Maps API 版本差异](https://stackoverflow.com/questions/11323500/google-maps-api-version-difference)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T05:47:01.217

看看这个，可能对你有帮助

```
LocationManager mlocManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);
LocationListener mlocListener = new MyLocationListener();

mlocManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0,
    mlocListener);

public class MyLocationListener implements LocationListener {

@Override
public void onLocationChanged(Location loc) {
loc.getLatitude();
loc.getLongitude();

Geocoder gcd = new Geocoder(getApplicationContext(),
        Locale.getDefault());
try {
    mAddresses = gcd.getFromLocation(loc.getLatitude(),
            loc.getLongitude(), 1);

} catch (IOException e) {

}

String cityName = (mAddresses != null) ? mAddresses.get(0)
        .getLocality() : TimeZone.getDefault().getID();
String countryName = (mAddresses != null) ? mAddresses.get(0)
        .getCountryName() : Locale.getDefault().getDisplayCountry()
        .toString();

       mCurrentSpeed.setText(loc.getSpeed());
   }

   @Override
   public void onProviderDisabled(String provider) {
    Toast.makeText(getApplicationContext(), "Gps Disabled",
          Toast.LENGTH_SHORT).show();
   }

   @Override
   public void onProviderEnabled(String provider) {
      Toast.makeText(getApplicationContext(), "Gps Enabled",
        Toast.LENGTH_SHORT).show();
   }

   @Override
   public void onStatusChanged(String provider, int status, Bundle extras) {
   }
 } 
```

# android - 如何在 View Pager 概念中从数据库中检索数据？

> ID：15377296
> 
> 赞同：0
> 
> 时间：2013-03-13T04:48:46.873
> 
> 标签：android, database, android-viewpager

我已经实现了视图寻呼机概念并检索了一个数据。现在，我想从数据库中检索其他数据到我滑动到的页面..

```
xyz= db.tablename(id);
for (int i = 0; i < xyz.size(); i++) 
{
data1 key= xyz.get(i).get("data1");
    data2 key=xyz.get(i).get("data2");
    data3 key=xyz.get(i).get("data3");
} 
```

现在我在一个屏幕上获得这些值，并在其他滑动视图中重复。

然而，我希望改变**滑动视图的其他布局的**值。

在为特定字段设置文本后，我已经声明了**View Pager**编码。

我的 View Pager 编码是这样的..

```
pageadapter adapter=new pageadapter();
vp.setAdapter(adapter);
vp.setCurrentItem(0); 
```

我应该怎么办？

**我尝试在 FOR 循环中实现 View Pager 编码（上述编码），但既看不到内容布局，也看不到滑动功能。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:10:44.537

如果您在 ViewPager 中使用片段，那么在片段类中使用 Where 语句创建光标，其中 id 是 ViewPager 的 id。并使用该光标填充您的列表视图。这样，您的所有数据库条目都将根据 ViewPager 的 id 进行排序。如果需要，请在名为 ViewpagerID 的数据库中创建一个额外的列或任何名称。

原始查询可以像

SELECT * FROM tbl_name WHERE ViewpagerID = ?

在哪里 ？可以是您的浏览器 ID。

# android - 如何循环通过gridview android

> ID：15377299
> 
> 赞同：1
> 
> 时间：2013-03-13T04:49:01.647
> 
> 标签：android, gridview, calendar

我正在使用gridview的android中创建一个日历，我还有一个包含所选日期的listview。我需要的是我必须比较来自gridview的listview中每个项目的每个数据。我该怎么做？

这是适配器：

```
public class CalendarAdapter extends BaseAdapter {
    private Context mContext;

    private java.util.Calendar month;
    public GregorianCalendar pmonth; // calendar instance for previous month
    /**
     * calendar instance for previous month for getting complete view
     */
    public GregorianCalendar pmonthmaxset;
    private GregorianCalendar selectedDate;
    int firstDay;
    int maxWeeknumber;
    int maxP;
    int calMaxP;
    int lastWeekDay;
    int leftDays;
    int mnthlength;
    String itemvalue, curentDateString;
    DateFormat df;

    private ArrayList<String> items;
    public static List<String> dayString;
    private View previousView;

    public CalendarAdapter(Context c, GregorianCalendar monthCalendar) {
        CalendarAdapter.dayString = new ArrayList<String>();
         Locale.setDefault( Locale.US );
        month = monthCalendar;
        selectedDate = (GregorianCalendar) monthCalendar.clone();
        mContext = c;
        month.set(GregorianCalendar.DAY_OF_MONTH, 1);
        this.items = new ArrayList<String>();
        df = new SimpleDateFormat("yyyy-MM-dd", Locale.US);
        curentDateString = df.format(selectedDate.getTime());
        refreshDays();
    }

    public void setItems(ArrayList<String> items) {
        for (int i = 0; i != items.size(); i++) {
            if (items.get(i).length() == 1) {
                items.set(i, "0" + items.get(i));
            }
        }
        this.items = items;
    }

    public int getCount() {
        return dayString.size();
    }

    public Object getItem(int position) {
        return dayString.get(position);
    }

    public long getItemId(int position) {
        return 0;
    }

    // create a new view for each item referenced by the Adapter
    public View getView(int position, View convertView, ViewGroup parent) {
        View v = convertView;
        TextView dayView;
        if (convertView == null) { // if it's not recycled, initialize some
                                    // attributes
            LayoutInflater vi = (LayoutInflater) mContext
                    .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            v = vi.inflate(R.layout.calendar_item, null);

        }
        dayView = (TextView) v.findViewById(R.id.date);
        // separates daystring into parts.
        String[] separatedTime = dayString.get(position).split("-");
        // taking last part of date. ie; 2 from 2012-12-02
        String gridvalue = separatedTime[2].replaceFirst("^0*", "");
        // checking whether the day is in current month or not.
        if ((Integer.parseInt(gridvalue) > 1) && (position < firstDay)) {
            // setting offdays to white color.
            dayView.setTextColor(Color.WHITE);
            dayView.setClickable(false);
            dayView.setFocusable(false);
        } else if ((Integer.parseInt(gridvalue) < 7) && (position > 28)) {
            dayView.setTextColor(Color.WHITE);
            dayView.setClickable(false);
            dayView.setFocusable(false);
        } else {
            // setting curent month's days in blue color.
            dayView.setTextColor(Color.BLUE);
        }

        if (dayString.get(position).equals(curentDateString)) {
            setSelected(v);
            previousView = v;
        } else {
            v.setBackgroundResource(R.drawable.list_item_background);
        }
        dayView.setText(gridvalue);

        // create date string for comparison
        String date = dayString.get(position);

        if (date.length() == 1) {
            date = "0" + date;
        }
        String monthStr = "" + (month.get(GregorianCalendar.MONTH) + 1);
        if (monthStr.length() == 1) {
            monthStr = "0" + monthStr;
        }

        // show icon if date is not empty and it exists in the items array
        ImageView iw = (ImageView) v.findViewById(R.id.date_icon);
        if (date.length() > 0 && items != null && items.contains(date)) {
            iw.setVisibility(View.VISIBLE);
        } else {
            iw.setVisibility(View.INVISIBLE);
        }
        return v;
    }

    public View setSelected(View view) {
        if (previousView != null) {
            previousView.setBackgroundResource(R.drawable.list_item_background);
        }
        previousView = view;
        view.setBackgroundResource(R.drawable.calendar_cel_selectl);
        return view;
    }

    public void refreshDays() {
        // clear items
        items.clear();
        dayString.clear();
        Locale.setDefault( Locale.US );
        pmonth = (GregorianCalendar) month.clone();
        // month start day. ie; sun, mon, etc
        firstDay = month.get(GregorianCalendar.DAY_OF_WEEK);
        // finding number of weeks in current month.
        maxWeeknumber = month.getActualMaximum(GregorianCalendar.WEEK_OF_MONTH);
        // allocating maximum row number for the gridview.
        mnthlength = maxWeeknumber * 7;
        maxP = getMaxP(); // previous month maximum day 31,30....
        calMaxP = maxP - (firstDay - 1);// calendar offday starting 24,25 ...
        /**
         * Calendar instance for getting a complete gridview including the three
         * month's (previous,current,next) dates.
         */
        pmonthmaxset = (GregorianCalendar) pmonth.clone();
        /**
         * setting the start date as previous month's required date.
         */
        pmonthmaxset.set(GregorianCalendar.DAY_OF_MONTH, calMaxP + 1);

        /**
         * filling calendar gridview.
         */
        for (int n = 0; n < mnthlength; n++) {

            itemvalue = df.format(pmonthmaxset.getTime());
            pmonthmaxset.add(GregorianCalendar.DATE, 1);
            dayString.add(itemvalue);

        }
    }

    private int getMaxP() {
        int maxP;
        if (month.get(GregorianCalendar.MONTH) == month
                .getActualMinimum(GregorianCalendar.MONTH)) {
            pmonth.set((month.get(GregorianCalendar.YEAR) - 1),
                    month.getActualMaximum(GregorianCalendar.MONTH), 1);
        } else {
            pmonth.set(GregorianCalendar.MONTH,
                    month.get(GregorianCalendar.MONTH) - 1);
        }
        maxP = pmonth.getActualMaximum(GregorianCalendar.DAY_OF_MONTH);

        return maxP;
    }
} 
```

这是我单击日期的主要活动：

```
gridview.setOnItemClickListener(new OnItemClickListener() {
            public void onItemClick(AdapterView<?> parent, View v,
                    int position, long id) {

                ((CalendarAdapter) parent.getAdapter()).setSelected(v);
                globalVariables.selectedGridDate = CalendarAdapter.dayString
                        .get(position);
                String[] separatedTime = globalVariables.selectedGridDate.split("-");
                String gridvalueString = separatedTime[2].replaceFirst("^0*",
                        "");// taking last part of date. ie; 2 from 2012-12-02.
                int gridvalue = Integer.parseInt(gridvalueString);
                // navigate to next or previous month on clicking offdays.
                if ((gridvalue > 10) && (position < 8)) {
                    setPreviousMonth();
                    refreshCalendar();
                } else if ((gridvalue < 7) && (position > 28)) {
                    setNextMonth();
                    refreshCalendar();
                }
                ((CalendarAdapter) parent.getAdapter()).setSelected(v);

                requestConsult(globalVariables.selectedGridDate);   
            }
        });
    } 
```

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T15:36:10.290

你有 getItem 和 getCount。迭代所有项目。像这样：

```
for(int i=0;i<adapter.getCount();i++){
       adapter.getItem(i)..... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-02-04T04:53:19.023

我有一个解决方案，只需参考我的以下代码

```
 if (Alldata.ExceptionDat.contains(dayString.get(position))) {
            dayView.setTextColor(Color.WHITE);
        dayView.setClickable(true);
        dayView.setEnabled(true);
        dayView.setFocusable(true);
    }` 
```

Alldata 是我的数组列表，其中包含我选择的日期列表，而 daystring 是我的包含所有日期的日期列表，请使用此 Alldata.ExceptionDat.contains(dayString.get(position) 行进行比较。

希望这会帮助你。

# datetime - Applescript：将日期转换为有用的东西，然后执行计算

> ID：15377301
> 
> 赞同：1
> 
> 时间：2013-03-13T04:49:14.247
> 
> 标签：datetime, applescript

我正在尝试创建一个 applescript 脚本，该脚本将采用以下形式的日期：

99 年 2 月 20 日

然后，从日期中减去 5 天，并返回如下日期：

99 年 2 月 15 日

这是我拥有的基本applescript，但显然，我错过了将日期转换为我可以操作的东西（并将其返回为人类可读的东西）的逻辑。

```
set itemPath to quoted form of POSIX path of theFile

set dateString to do shell script "awk 'NR == 10 {print $3}' " & itemPath & " -"
set myDueDate to dateString - (5 * days)

set theTask to "Pay AMEX bill"

tell application "OmniFocus"
    tell front document
        set theContext to first flattened context where its name = "OFFICE"
        set theProject to first flattened context where its name = "Bookkeeping - PMS"
        tell theProject to make new task with properties {name:theTask, context:theContext, due date:myDueDate}
    end tell
end tell 
```

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:56:22.680

我认为这些行应该足以满足您的需要：

```
set dateString to "02/20/99"

set thisDate to date dateString
set fiveDaysEarlier to thisDate - 5 * days
log date string of fiveDaysEarlier
log short date string of fiveDaysEarlier 
```

此页面有更多将字符串转换为日期类对象时支持的强制示例： [AppleScript 类参考：日期](https://developer.apple.com/library/mac/#documentation/applescript/conceptual/applescriptlangguide/reference/ASLR_classes.html#//apple_ref/doc/uid/TP40000983-CH1g-BBCGECID)

此外，这可能是不言而喻的，但字符串“02/20/99”不符合 Y2k 标准，因此必须在某处猜测该日期所在的世纪。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-11T02:47:07.317

如果您收到错误消息“FileMaker Pro 出现错误：找不到对象。” 号码-1728，添加我之前的日期。例如，

将 thisDate 设置为我的日期 dateString。

在tell 中工作时，我认为它需要访问tell 范围之外的方法。

# eclipse - 从 github 签出项目时，Eclipse 中的团队菜单中没有提交按钮

> ID：15377304
> 
> 赞同：1
> 
> 时间：2013-03-13T04:49:25.850
> 
> 标签：eclipse, git, svn, commit

我在 Eclipse 中创建了一个本地 Maven 项目。我在 github 远程存储库上共享该项目。并且 Team 菜单有一个按钮列表，如提交、恢复等。就像使用 svn 一样。

现在我从另一台机器上的同一个远程存储库中签出了同一个项目。该项目已成功签出，但“团队”菜单只有“共享”按钮。Eclipse 无法识别它是从 scm 签出的。

在签出 git 项目时，如何使 eclipse 在 Team 菜单中显示按钮列表？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T06:17:59.887

很有可能，您还没有在第二台机器上安装 egit 插件，因此 Eclipse 对 git 存储库一无所知。

# c# - 在我的网站的讨论模块中，这是防止坏词输入的最佳方法

> ID：15377307
> 
> 赞同：3
> 
> 时间：2013-03-13T04:49:54.140
> 
> 标签：c#, asp.net, sql-server, web

在我的网站上，一些黑客正在输入坏词。防止这种情况的最佳方法是什么？

我使用 ASP.NET、C# 和 SQL Server 作为资源。

1.  检查表单后端的坏词？
2.  检查javascript中的坏词？
3.  插入前检查存储过程中的坏词？

我认为第一种方法是最好的。

请告知此检查的优化代码

现在我正在使用这种方法

```
 var filterWords = ["fool", "dumb", "couch potato"];
    // "i" is to ignore case and "g" for global
    var rgx = new RegExp(filterWords.join(""), "gi");

    function wordFilter(str) {          
            return str.replace(rgx, "****");           
    }

    // call the function
    document.write("Original String - ");
    document.writeln("You fool. Why are you so dumb  <br/>");   
    document.write("Replaced String - ");
    document.writeln(wordFilter("You fool. Why are you so dumb")); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T05:04:18.120

*您应该在服务器端*签入 ASP.NET 代码。JavaScript 或任何其他客户端检查都可以轻松解决。您发布的代码工作正常，只是它不是特别健壮（各种简单的拼写错误都会绕过它）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T05:00:33.423

确保检查排列，例如

> 安全 --> $3(ur3

我会用类似的东西代替这个词

> [删除] 或 [审查]

像 s***t 这样的词仍然可以被视为对客户/其他人的冒犯。

编辑：在这里看到 HevyLight 对 javascript 使用的想法......你可以在你的 C# 层中尝试一个字符串过滤器（假设它已经在做繁重的工作和数据库调用）。在写入数据库之前通过过滤器传递所有字符串帖子（并供其他人查看）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T12:01:07.317

现实情况是，你无法 100% 阻止坏话。我会在服务器端进行两步验证（可以禁用 JS，SQL 并不适合处理此问题）

1.  创建一个最常用的坏词列表——这可能会捕获所有输入的 80%。

2.  为嫌疑人创建一个模式列表，这些模式将向您发出手动验证这些信号的信号。

    这可能是模式，例如

    *   a) 单词包含两个或多个 ** 字符
    *   b) Word 包含字母和下列字符之一 0,3,$, and others

随着时间的推移，您只需更新两个列表即可。同样，这不会解决 100% 的情况，但如果实施得当，它可能会捕获并修复 95% 的情况。

# encryption - 证明通过计数器模式解密是正确的

> ID：15377308
> 
> 赞同：0
> 
> 时间：2013-03-13T04:49:55.240
> 
> 标签：encryption, cryptography

作为一个复习题，我必须证明计数器模式的解密过程是正确的。你怎么证明？没有给出其他信息。

```
Encryption: Cj = E(K, Counter + j -1) ⊕ Pj 
Decryption: Pj = E(K, Counter + j -1) ⊕ Cj 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:37:43.103

```
Pj = E(K, Counter + j -1) ⊕ Cj 
```

替换 Cj = E(K, Counter + j -1) ⊕ Pj

```
Cj = E(K, Counter + j -1) ⊕ E(K, Counter + j -1) ⊕ Pj 
```

由于 x⊕x=0（加密计数器与自身异或）且 0⊕x=x

```
Pj = 0 ⊕ Pj 
Pj = Pj 
```

量子点

# java - 带有 x x x 输入的 JFrame setsize 不是正方形

> ID：15377311
> 
> 赞同：0
> 
> 时间：2013-03-13T04:50:12.260
> 
> 标签：java, swing, jframe

我正在玩 JFrame，当我这样做时：

```
public class UI extends JFrame {
    public UI() {
        pack();
        setSize(50, 50);
        setLocationRelativeTo(null);
        setVisible(true);     
    }
    public static void main(String[] args) {
        UI test =new UI();
    }
} 
```

框架不是方形的，但是当我将 (50,50) 更改为更大的 (500,500) 时，它是方形的。谁能告诉我这是为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T04:59:28.120

SetSize(50,50) 对于 Jframe 来说是非常小的尺寸，JFrame 是一个根组件，所以至少要为它使用合适的尺寸。它包含标题控制框，因此很难获得小尺寸的正方形。或者，您可以将 Jwindow 用于小正方形。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T08:46:33.777

大约 133x39 是 JFrame 的最小尺寸，“setBounds(100, 100, 133, 40);” 会帮助你。要减少更多，应该是 setUndecorated(true);

# java - 在带有属性的arraylist中创建新对象

> ID：15377312
> 
> 赞同：1
> 
> 时间：2013-03-13T04:50:15.120
> 
> 标签：java, arraylist

我是 Java 新手，我开始使用`ArrayLists`. 我想做的是`ArrayList`为学生创建一个。每个学生都有与他们相关的不同属性（`name, id`）。我试图弄清楚如何添加具有此属性的新学生对象。这是我所拥有的：

```
ArrayList < Student > studentArray;
public Student(String name, int id) {
  this.fname = name;
  this.stId = id;
}
public Stromg getName() {
  return fname;
}
public int getId() {
  return stId;
}
public boolean setName(String name) {
  this.fname = name;
  return true;
}
public boolean setIdNum(int id) {
  this.stId = id;
  return true;
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-13T05:08:10.547

您需要的是以下内容：

```
import java.util.*;

class TestStudent
{
    public static void main(String args[])
    {
        List<Student> StudentList= new ArrayList<Student>();
        Student tempStudent = new Student();
        tempStudent.setName("Rey");
        tempStudent.setIdNum(619);
        StudentList.add(tempStudent);
        System.out.println(StudentList.get(0).getName()+", "+StudentList.get(0).getId());
    }
}

class Student
{
    private String fname;
    private int stId;

    public String getName()
    {
        return this.fname;
    }

    public int getId()
    {
        return this.stId;
    }

    public boolean setName(String name)
    {
        this.fname = name;
        return true;
    }

    public boolean setIdNum(int id)
    {
        this.stId = id;
        return true;
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T04:57:26.730

`Student`通过将适当的值传递给构造函数来实例化一个对象。

```
Student s = new Student("Mr. Big", 31); 
```

您可以使用运算符将​​元素放入`ArrayList`(or ) 中。^*`List``.add()`

```
List<Student> studentList = new ArrayList<Student>();
studentList.add(s); 
```

您可以通过使用`Scanner`绑定来检索用户输入`System.in`。

```
Scanner scan = new Scanner(System.in);
System.out.println("What is the student's name?");
String name = scan.nextLine();
System.out.println("What is their ID?");
int id = scan.nextInt(); 
```

你用一个循环重复这个。该部分应留给读者作为练习。

^(*：还有其他选项，但`add()`只需将其添加到末尾，这通常是您想要的。)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T04:52:52.220

```
final List<Student> students = new ArrayList<Student>();
students.add(new Student("Somename", 1)); 
```

...等等添加更多学生

# javascript - 从输入元素中移除焦点，以便可以使用箭头键滚动页面？

> ID：15377314
> 
> 赞同：0
> 
> 时间：2013-03-13T04:50:27.150
> 
> 标签：javascript, jquery, html

我有一个带有几个文本框输入的页面。默认情况下，第一个文本框在页面加载后立即获得焦点（光标在文本框内等待用户开始输入）。

虽然方便，但这意味着上/下箭头键不能用于滚动页面。

我试过：

```
 // When DOWN key is pressed...
  $("body").focus(); // or...
  $("body").first().focus(); // or...
  $("a:visible").first().focus(); 
```

但它不起作用。我仍然必须在输入框之外单击才能开始使用向上/向下箭头再次滚动。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T04:54:06.920

使用它，它将解决您的问题。

```
$(function(){
    $("input").blur();
} 
```

# wordpress - 第一行的图像在 wordpress 帖子中消失，但从第二行开始不会消失

> ID：15377315
> 
> 赞同：0
> 
> 时间：2013-03-13T04:50:36.353
> 
> 标签：wordpress, wordpress-theming

我正在开发一个基于[Roots starter theme](http://www.rootstheme.com/)的 wordpress 主题。但是，我在这里面临一个问题。当我在第一行插入图像时，它不会出现，甚至在 html 标记中也不会出现（我检查了页面源以确保这一点）。但是，当我从第二行开始插入图像时，它会正确显示（也反映在从页面源检查的 html 标记中）。

我想知道这是否可能是我的主题或 wordpress 本身的问题。我在开发环境中使用的是 3.5.1 版本。

非常感谢对此的任何讨论。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T13:41:56.590

这个问题很可能与您的主题有关。尝试检查您的`functions.php`文件，看看是否有与`JavaScript`或相关的过滤器`the_content`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T07:58:37.357

那么你可以尝试从HTML代码的开头手动插入图像。找到你要插入的图像的路径并把它放在上面

```
 <img src="" /> 
```

# java - 有没有办法知道对象的类型？

> ID：15377323
> 
> 赞同：3
> 
> 时间：2013-03-13T04:51:18.110
> 
> 标签：java, android

场景是我将一个对象作为方法中的参数传递，并且我想根据方法中该对象的类型执行操作。

示例代码是：

```
method(Object object){

//if object== String type print string   
 } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-13T04:52:41.663

使用 instanceof 关键字。java编程语言中的关键字instanceOf是一个布尔运算符，用于测试对象是否属于指定类型并相应地返回值。

```
if(object instanceof String) {

} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-13T04:53:55.073

尝试

```
if (object.getClass().getName().equals("Class1Name"))
    //do something. 
```

`getClass`代替的优点`instanceof`是你不需要在编译时知道类的类型。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T04:57:34.903

您可以在 java中使用**instanceof运算符。**

请检查以下链接

[单击此处查看示例](http://www.devmanuals.com/tutorials/java/corejava/instanceofoperator.html)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-13T05:11:05.830

如果你想`method`根据参数做出不同的反应，你应该重载它

```
public void method(String s) {
}

public void method(Integer i) {

}

public void method(SomeClass o) {

} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-13T04:53:08.777

使用 instanceof 运算符检查类型并进行适当的转换

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-13T04:53:53.983

您可以使用 [`instanceof`](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html)关键字。不过要预先警告；这通常不是一个好的做法，除非你完全不确定`Object`你会通过哪种方式。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-13T05:00:08.050

好的做法是使用多态性..

如果您有一个父类，该类的属性表示这是哪个 childType，

```
class Parent { string type; public string getType() { return type; } }

class ChildA extends Parent { ChildA() { type = "ChildA"; }

class ChildB extends Parent { ChildB() { type = "ChildB"; }

public void function (Parent p)
{
    if (p.getType() == "ChildA")
    {
        // A
    }
    else if (p.getType == "ChildB")
    {
        // B
    }
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-03-13T05:01:04.613

如果您打算只打印一些东西，您可以使用 toString() 方法，该方法将在每种不同类型的对象上被覆盖；）

只需使用下面的代码，让每个类都有不同的 toString() 方法：

```
method(Object object){
    // ... object.toString();
} 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-03-13T05:13:33.723

我认为您可以改用 getclass() 方法。

# android - Android GridView 选中项边框/高亮

> ID：15377325
> 
> 赞同：1
> 
> 时间：2013-03-13T04:51:44.467
> 
> 标签：android, gridview, android-gallery

在 Android 上的原生图库应用程序中，当`Select item`通过选项菜单操作时，您可以选择多个项目，每个网格项目顶部都有一个彩色边框覆盖，在单击时表示已选中。

问题：

*   如何`getView()`在`ImageAdapter` 课堂上动态使用？（因为有`setBackgroundColor()`但没有 setBorder()

*   有没有更好的方法来实现这一点？（例如为gridview单元格中的图像创建某种填充，然后设置看起来像边框的背景颜色）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T09:08:42.093

*   我最终决定使用原帖中的第二种方法：在 gridview 单元格中为 ImageView 创建一个填充并设置背景颜色。

*   我用于`ImageView.ScaleType.CENTER_CROP`ImageView `setCropToPadding(true);`。

# android - 如何在 AsyncTask 中执行功能？

> ID：15377326
> 
> 赞同：1
> 
> 时间：2013-03-13T04:52:00.050
> 
> 标签：android

我必须在 AsyncTask 中使用方向（）函数来避免 UI 线程上的网络处理。我无法做这件事。我的代码是

```
 public class MainActivity extends MapActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        MapView mapView = (MapView) findViewById(R.id.mapview); //or you can declare it directly with the API key
        Route route = directions(new GeoPoint((int)(26.2*1E6),(int)(50.6*1E6)), new GeoPoint((int)(26.3*1E6),(int)(50.7*1E6)));
        RouteOverlay routeOverlay = new RouteOverlay(route, Color.BLUE);
        mapView.getOverlays().add(routeOverlay);
        mapView.invalidate();
    }

    private Route directions(final GeoPoint start, final GeoPoint dest) {
        Parser parser;
        //https://developers.google.com/maps/documentation/directions/#JSON <- get api
        String jsonURL = "http://maps.googleapis.com/maps/api/directions/json?";
        final StringBuffer sBuf = new StringBuffer(jsonURL);
        sBuf.append("origin=");
        sBuf.append(start.getLatitudeE6()/1E6);
        sBuf.append(',');
        sBuf.append(start.getLongitudeE6()/1E6);
        sBuf.append("&destination=");
        sBuf.append(dest.getLatitudeE6()/1E6);
        sBuf.append(',');
        sBuf.append(dest.getLongitudeE6()/1E6);
        sBuf.append("&sensor=true&mode=driving");
        parser = new GoogleParser(sBuf.toString());
        Route r =  parser.parse();
        return r;
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }

    @Override
    protected boolean isRouteDisplayed() {
        // TODO Auto-generated method stub
        return false;
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T04:58:19.150

也许像这样？

```
public class MainActivity extends MapActivity {

    private MapView mapView;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        mapView = (MapView) findViewById(R.id.mapview); //or you can declare it directly with the API key
        // You can execute it at onCreate or whenever you want, for example: in a click event
        new AsyncRoutes().execute();
    }

    private Route directions(final GeoPoint start, final GeoPoint dest) {
        Parser parser;
        //https://developers.google.com/maps/documentation/directions/#JSON <- get api
        String jsonURL = "http://maps.googleapis.com/maps/api/directions/json?";
        final StringBuffer sBuf = new StringBuffer(jsonURL);
        sBuf.append("origin=");
        sBuf.append(start.getLatitudeE6()/1E6);
        sBuf.append(',');
        sBuf.append(start.getLongitudeE6()/1E6);
        sBuf.append("&destination=");
        sBuf.append(dest.getLatitudeE6()/1E6);
        sBuf.append(',');
        sBuf.append(dest.getLongitudeE6()/1E6);
        sBuf.append("&sensor=true&mode=driving");
        parser = new GoogleParser(sBuf.toString());
        Route r =  parser.parse();
        return r;
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }

    @Override
    protected boolean isRouteDisplayed() {
        // TODO Auto-generated method stub
        return false;
    }

    private class AsyncRoutes extends AsyncTask<Void, Integer, Route> {

        private ProgressDialog pDialog;

        @Override
        protected void onPreExecute() {

            pDialog = new ProgressDialog(LoginActivity.this);
            pDialog.setProgressStyle(ProgressDialog.STYLE_SPINNER);
            pDialog.setMessage("Obtaining routes...");
            pDialog.setCancelable(false);
            pDialog.show();
        }

        @Override
        protected Route doInBackground(Void... params) {

            Route route = directions(new GeoPoint((int)(26.2*1E6),(int)(50.6*1E6)), new GeoPoint((int)(26.3*1E6),(int)(50.7*1E6)));
            return route;
        }

        @Override
        protected void onPostExecute(Route route) {         

            RouteOverlay routeOverlay = new RouteOverlay(route, Color.BLUE);
            mapView.getOverlays().add(routeOverlay);
            mapView.invalidate();

            pDialog.dismiss();
        }
    }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:31:11.217

当他们说您可以使用 AsyncTask 时，我认为他们的意思是：

```
public class MainActivity extends MapActivity {

private MapView mapView; 

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    mapView = (MapView) findViewById(R.id.mapview); //or you can declare it directly with the API key
    RouteTask routeTask = new RouteTask(new GeoPoint((int)(26.2*1E6),(int)(50.6*1E6)), new GeoPoint((int)(26.3*1E6),(int)(50.7*1E6));
    routeTask.execute("");
}

private Route directions(final GeoPoint start, final GeoPoint dest) {
    Parser parser;
    //https://developers.google.com/maps/documentation/directions/#JSON <- get api
    String jsonURL = "http://maps.googleapis.com/maps/api/directions/json?";
    final StringBuffer sBuf = new StringBuffer(jsonURL);
    sBuf.append("origin=");
    sBuf.append(start.getLatitudeE6()/1E6);
    sBuf.append(',');
    sBuf.append(start.getLongitudeE6()/1E6);
    sBuf.append("&destination=");
    sBuf.append(dest.getLatitudeE6()/1E6);
    sBuf.append(',');
    sBuf.append(dest.getLongitudeE6()/1E6);
    sBuf.append("&sensor=true&mode=driving");
    parser = new GoogleParser(sBuf.toString());
    Route r =  parser.parse();
    return r;
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
}

@Override
protected boolean isRouteDisplayed() {
    // TODO Auto-generated method stub
    return false;
}

class RouteTask extends AsyncTask<String, Void, String> {
    private GeoPoint start;
    private GeoPoint dest;
    private Route route;

    public RouteTask(GeoPoint start, GeoPoint dest) {
        this.start = start;
        this.dest = dest;
    }

    protected String doInBackground(String... strings) {
        //runs the directions method in a background thread.
        route = directions(start, dest);
        return "Started";
    }

    @Override
    protected void onPostExecute(String s) {
        //Updates the UI on the main/UI thread (post execute is called on the main/UI thread).
        RouteOverlay routeOverlay = new RouteOverlay(route, Color.BLUE);
        mapView.getOverlays().add(routeOverlay);
        mapView.invalidate();
    }
} 
```

}

这将在后台线程上运行方向方法并在主/UI 线程上更新地图。作为所有编程语言的一般做法，您应该在绘制到屏幕的线程（在本例中为主/UI 线程）上进行 UI 工作。

这应该做你需要的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T04:59:47.250

这是[AsyncTask的基本结构](http://developer.android.com/reference/android/os/AsyncTask.html)

```
public class TalkToServer extends AsyncTask<String, String, String> {
    @Override
    protected void onPreExecute() {
        super.onPreExecute();
    }

    @Override
    protected void onProgressUpdate(String... values) {
        super.onProgressUpdate(values);

    }

    @Override
    protected String doInBackground(String... params) {
    //do your work here
        return something;
    }

    @Override
    protected void onPostExecute(String result) {
        super.onPostExecute(result);
           // do something with data here-display it or send to mainactivity
} 
```

你可以做你的网络东西和/或你拥有的东西，`directions`并`doInBackground()`更新`UI`其他方法。您也可以将该`directions`方法作为您的私有方法`AsyncTask`

然后你会从你`MainActivity`喜欢的地方调用它

```
TalkToServer networkStuff = new TalkToServer(); //could pass params to a constructor here such as context
networkStuff.execute(); 
```

如果`AsyncTask`不是你的内部类，那么如果你想做一些事情`MainActivity`，你将需要一个构造函数来接收你的上下文`MainActivity``UI`

# sass - Scout：限制输入 SCSS 文件

> ID：15377330
> 
> 赞同：0
> 
> 时间：2013-03-13T04:52:25.133
> 
> 标签：sass

使用 Scout 时，有没有办法阻止它编译每个 SCSS 文件？我使用一个主 SCSS 文件来导入所有依赖 SCSS，因此只需要一个 CSS 文件输出，而不是每个 SCSS 一个 CSS。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T12:25:25.527

带有下划线前缀的文件不会被编译为 CSS 文件。这是一个标准的 Sass 功能。只有此处列出的第一个文件会生成相应的 CSS 文件：

```
i-am-compiled.scss
_i-am-not-compiled.scss
_i-am-also-not-compiled.scss 
```

# python-2.7 - 将 ctype 字节数组转换为字节

> ID：15377338
> 
> 赞同：14
> 
> 时间：2013-03-13T04:53:10.800
> 
> 标签：python-2.7, ctypes

我有一个这样定义的 ctypes 数组：

```
buff= (c_ubyte*buff_size)() 
```

用数据填充缓冲区后，我需要以字节格式保存这些数据。现在我这样做如下：

```
buff= [n for n in buff]
buff = ''.join(map(chr, buff)) 
```

这样做的问题是它在将其转换回单字节字符串之前将其转换为 4 字节（或任何字节数）int，这会浪费大量 CPU。

如何将 ctypes 缓冲区直接转换为字节？我不想为自己保存一份副本，因为无论如何我都必须做一份副本，因为我无法保留原始缓冲区。python 对这些东西有强制转换功能吗？

谢谢。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-03-13T10:12:31.707

如果您确实想要一份副本，您可以使用`bytearray`：

```
>>> buff = (c_ubyte * 4)(*[97,98,99,100])
>>> bs = bytearray(buff)
>>> bs
bytearray(b'abcd')
>>> str(bs)
'abcd' 
```

> **编辑**：
> 
> 对于缺少 2.6 之前的 Python 版本`bytearray`，您可以改用以下方法之一：
> 
> *   `cast(buff, c_char_p).value`
> *   `buffer(buff)[:]`

如果要共享同一个缓冲区，可以创建一个`c_char`数组：

```
>>> buff2 = (c_char * len(buff)).from_buffer(buff)
>>> buff2.value # string copy
'abcd'
>>> buff2[:] = 'efgh'
>>> buff[:]  # modified original
[101, 102, 103, 104] 
```

> **编辑**：
> 
> `from_buffer`类方法是在 2.6 中添加的。在以前的版本中，您可以使用`cast`：
> 
> *   `buff2 = cast(buff, POINTER(c_char * len(buff)))[0]`

您是否有理由不使用`c_char`数组开始？我了解您是否需要将它作为数字数组和字符串来使用。

附录：

第二种方法更像是“强制转换”，因为它不复制缓冲区。使用第一种方法，它会被复制两次，一次是制作 the `bytearray`，一次是制作`str`(`bytes`是`str`2.x 中的别名)。但是 a`bytearray`有字符串方法，可能就是你所需要的；它基本上是 3.x 的可变版本`bytes`。

`c_char`是C`char`型。乘以一个数组，它是一个可变的字节缓冲区，就像您当前的`c_ubyte`数组一样。但是，它可能比`c_ubyte`它具有返回 Python 字节字符串的`value`和描述符更方便。`raw`它还将索引和迭代作为单个字符字节字符串而不是整数。

如果函数将修改它，您不应该做的是`c_char_p`从 Python 字符串创建一个 - 指向字符数据的指针。Python 字符串对象是不可变的；如果你修改他们的缓冲区，你会得到奇怪的错误。我最近[回答了一个](https://stackoverflow.com/a/15381220/205580)关于该主题的问题。

# mysql - posts_per_page 设置为 1，返回 50 个帖子

> ID：15377345
> 
> 赞同：1
> 
> 时间：2013-03-13T04:54:20.547
> 
> 标签：mysql, sql, wordpress, limit, custom-post-type

我正在尝试以自定义帖子类型获取最新帖子：

```
$query = new WP_Query(array(
    'post_type'         => 'some_custom_post_type',
    'posts_per_page'    => 1,
    'orderby'           => 'date',
    'order'             => 'DESC'
)); 
```

出于某种奇怪的原因，这会返回 50 个帖子。我`echo`从 编辑了 SQL `$query->request`，我可以看到`LIMIT`设置为 50：

```
SELECT SQL_CALC_FOUND_ROWS wp_posts.ID
FROM wp_posts
WHERE 1=1
    AND wp_posts.post_type = 'some_custom_post_type'
    AND (
        wp_posts.post_status = 'publish'
        OR wp_posts.post_status = 'private'
    )
ORDER BY wp_posts.post_date DESC
LIMIT 0, 50 
```

切换`post_limits`而不是`posts_per_page`产生相同的奇怪结果。

* * *

**为什么会发生这种情况，我该如何解决？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:08:56.970

尝试

```
$query = new WP_Query(array(
    'post_type'         => 'some_custom_post_type',
    'posts_per_page'    => 1,
    'showposts'         => 1,
    'orderby'           => 'date',
    'order'             => 'DESC'
)); 
```

# oracle - 为什么我不能在 SYS 拥有的对象上创建触发器？

> ID：15377346
> 
> 赞同：10
> 
> 时间：2013-03-13T04:54:27.670
> 
> 标签：oracle, plsql, oracle11g, database-trigger

在尝试创建名为的触发器时`ghazal_current_bef_upd_row`：

```
create trigger ghazal_current_bef_upd_row
before update on ghazal_current
for each row 
when (new.Rating < old.Rating)
begin

insert into ghazal_current_audit
 (GhazalName,Old_Rating,New_Rating)
 values
 (:old.GhazalName,:old.Rating,:new.Rating);
end; 
```

我收到以下错误：

```
Error report:
ORA-04089: cannot create triggers on objects owned by SYS
04089\. 00000 -  "cannot create triggers on objects owned by SYS"
*Cause:    An attempt was made to create a trigger on an object owned by SYS.
*Action:   Do not create triggers on objects owned by SYS. 
```

命名`ghazals_current`和`ghazal_current_audit`创建的表均由`SYS`. 为什么我不能在由`SYS`.

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-13T05:02:11.347

您不应该在 SYS 模式中创建*任何对象。*该用户是 Oracle 数据库管理系统的一部分，更改其模式可能会破坏您的数据库。当然，它可能会使您的 Oracle 支持合同无效（如果您有的话）。从[文档中](http://docs.oracle.com/cd/E11882_01/server.112/e25789/tablecls.htm#CNCPT88803)：

> “创建数据库时会自动创建管理帐户 SYS。此帐户可以执行所有数据库管理功能。SYS 模式存储数据字典的基表和视图。这些基表和视图对于 Oracle 数据库的操作至关重要. SYS 模式中的表只能由数据库操作，任何用户都不能修改。”

哦，如果您想知道，这同样适用于 SYSTEM。

触发器特别容易被滥用，并且是扩展问题的主要来源。这就是 Oracle 禁止我们在 SYS 中构建触发器的原因，因为这样做可能会损坏或至少影响数据字典的性能。

当然，这不是这里发生的事情。您已经在 SYS 中构建了自己的表。好吧，放下它们。现在。使用 SYS 创建您自己的用户、GHAZAL 或任何适合的名称，并授予它所需的权限：CREATE SESSION、CREATE TABLE、CREATE TRIGGER 等等。然后以该新用户的身份连接以创建您的表和其他模式对象。

# servicestack - ServiceStack 字典 DTO 字典 数据类型反序列化

> ID：15377347
> 
> 赞同：2
> 
> 时间：2013-03-13T04:54:30.447
> 
> 标签：servicestack

通过 JSON 发送时，具有成员数据类型 Dictionary 之一的对象被检索为 null

我创建了一个具有以下架构的 DTO

```
public class myclass
{
  public string APIKey {get;set;}
  public string APISecret {get;set;}
  public string APIVersion {get;set;}
  public Dictionary<string,string> Fields {get;set;}
} 
```

我尝试使用下面的 JS 将 JSON 发送到我的 API

```
 $.ajax({

      type: "GET",

      dataType: "jsonp",

      url: $('#txtUrl').val(),

      data: {APIKey:"test",APISecret:"test", APIVersion:"1.0",Fields:[{"Key":"JobID","Value":"2290277"},{"Key":"CountryID","Value":"1"}]},

      success: function (data) {

                       // Now the two will work

                       $.each(data, function(key, value) {

                              if (key == 'Fields')

                              {                                                     

                                     $.each(value, function(key2, value2) {

                                            $('#result').append('<br />' + key2 + ' ' + value2);

                                     });

                              }

                              else

                                     $('#result').append('<br />' + key + ' ' + value);

                       });

        }

    }); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T13:51:27.670

你的 json 格式应该是这样的。不要使用 Value 和 Keys 属性名称。还要将您的属性名称放在引号中。

```
{"APIKey":"test","APISecret":"test","APIVersion":"1.0",
"Fields":{"JobID":"2290277","CountryID":"1"}} 
```

每当我遇到这些问题时，我都会运行一些简单的代码来查看 ServiceStack Serializer 如何期望 json 被格式化：

```
var m = new myclass();
m.APIKey = "test";
m.APISecret = "test";
m.APIVersion = "1.0";
m.Fields =new Dictionary<string, string>();
m.Fields.Add("JobID", "2290277");
m.Fields.Add("CountryID", "1");
string json = m.ToJson(); 
```

然后将其与您自己的 json 进行比较。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-14T01:48:34.830

需要修改我的 jScript

{"APIKey":"test","APISecret":"test","APIVersion":"1.0", "Fields": **"** {'JobID':'2290277','CountryID':'1'} **"** }

# ruby-on-rails - 如何在开发模式下处理我的 Rails 应用程序，但在生产模式下推送它？

> ID：15377355
> 
> 赞同：2
> 
> 时间：2013-03-13T04:55:30.437
> 
> 标签：ruby-on-rails, ruby-on-rails-3, git, github

一个简单的问题，我在家里的本地计算机上完成所有工作，然后`git push`到 github 上的 repo，然后在我的 Ubuntu Server`git pull`上获取内容，但这会导致不一致，因为它会进入我一直使用的开发模式必须进去改变。有没有办法让我可以在开发模式下工作但将它推到回购生产模式？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:04:58.517

Rails 应用程序默认为，`development`除非您将`RAILS_ENV`变量设置为`production`. Git并没有真正考虑到这一点。在您的生产机器上，您需要设置`RAILS_ENV`.

在哪里执行此操作取决于您的生产部署环境以及服务器的配置方式。乘客默认为生产模式，配置取决于您的服务器（Apache、nginx）。如果您从命令行手动启动服务器（通过`rails s thin`或类似的方式），那么您可以在 shell 的启动文件中配置它（`.profile`或类似的东西，取决于您的 shell）。thin 还可以选择使用环境参数，例如`-e production`.

如果您提供有关生产环境如何工作的更多详细信息，您可能会得到关于 where to set 的更具体的答案`RAILS_ENV`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:05:51.360

这不是 git 问题。Rails 环境（“生产”、“开发”、“测试”）会影响代码的运行方式，但不会更改代码。

当您`rails server`在开发机器上运行时，应用程序以`development`模式启动，因为这是该命令的默认设置。

您可能没有使用相同的命令在服务器上的 WEBrick 上托管您的网站，而是使用诸如 Phusion Passenger 之类的东西，它可以（应该）配置为在生产模式下启动您的应用程序。

如果环境设置正确，则`config/environments/#[RAILS_ENV}.rb`在加载应用程序时会正确选择文件，并从`config/database.yml`.

# c# - HTTP POST 到 iFrame

> ID：15377356
> 
> 赞同：1
> 
> 时间：2013-03-13T04:55:47.020
> 
> 标签：c#, asp.net, http, iframe

我正在尝试将我的网站与第三方白标网站集成，该网站可以托管在我网站的 iFrame 中。

为了让 iFrame 正确加载网站，我需要向源 url 发出带有凭据的 HTTP POST，并将凭据作为查询字符串传递。然后服务器将响应，之后我需要将 iFrame src 属性设置为我发布到的相同 URL，然后重新加载页面。

因此，回顾一下，我的 HTTP POST 应该是以下 URL，在发布之前从我的代码隐藏中动态设置 id 参数：

[https://cads.mobile.com/WhiteLabelSite/Default.aspx?id=1234-1234-1234-1214](https://cads.mobile.com/WhiteLabelSite/Default.aspx?id=1234-1234-1234-1214)

响应后，我的网站需要将 iframe 重定向到完全相同的 URL。所以我需要在重定向之前将 iFrame src 设置为动态 URL。

我不知道该怎么做……叹息

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:16:43.653

1.  创建一个名为`sitePostRedirect.aspx`
2.  这样做的目的是进行 HTTP POST 操作，然后重定向到所需的 URL。
3.  您可以使用表单和提交按钮单击仿真或任何其他方法发布帖子。
4.  指示您的 IFrame 使用`sitePostRedirect.aspx`wich 将处理从那时起的所有内容。

**sitePostRedirect.aspx：**

```
<form id="myForm" method="post" action="http://someurl.com" runat-"server"/>
   <asp:hiddenfield id="ValueHiddenField" value="" runat="server"/>
</form>

<script>
  $(document).ready(function(){
     $('#myForm').submit();
  });
</scrip> 
```

# c# - .Net MVC 3 中的路由控制器

> ID：15377357
> 
> 赞同：3
> 
> 时间：2013-03-13T04:55:56.343
> 
> 标签：c#, .net, asp.net-mvc-3

我在控制器文件夹中创建了一个文件夹 admin 并在其中编写了几个控制器。我想通过 abc.com/admin// 之类的 url 访问该文件夹中该控制器中的所有功能。

当它直接放在控制器文件夹中时，我可以让它直接工作。

**编辑**

你试过什么？

*   刚刚创建了一个文件夹并在其中编写了普通控制器。但我不知道如何路由它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:01:59.850

如果您想在 URL 中支持该路径，请在您的路由配置中为管理控制器添加一个路由。就像是：

```
routes.MapRoute(
    name: "Admin",
    url: "admin/{controller}/{action}/{id}",
    defaults: new { controller = "Home", action = "Index", id = UrlParameter.Optional }
); 
```

但是@DotNetDreamer 是正确的，Areas 是您网站管理功能的更好解决方案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T05:07:31.060

好吧，我建议，而不仅仅是创建一个文件夹并在其中创建控制器。您应该创建一个`Area`
当您`Area`在 asp.net mvc 中创建一个时，它会自动为您创建文件夹（控制器、模型等）。以及路由设置。
欲了解更多信息，请访问 [http://www.codeguru.com/csharp/.net/net_asp/mvc/article.php/c20227/Using-Areas-in-ASPNET-MVC-Application.htm](http://www.codeguru.com/csharp/.net/net_asp/mvc/article.php/c20227/Using-Areas-in-ASPNET-MVC-Application.htm)

# facebook - Facebook 多好友选择器

> ID：15377359
> 
> 赞同：0
> 
> 时间：2013-03-13T04:56:21.843
> 
> 标签：facebook, request

我正在尝试使用多朋友选择器实现“挑战朋友”请求，我添加了以下代码

```
FB.ui({method: 'apprequests',
    title: 'App title',
    message: "Message"
}, function() {
     console.log('callback');
}); 
```

这显示了选择我的朋友的弹出窗口，但似乎没有发送请求。

我在这里忘记了什么吗？

# php - 为什么我的文件没有被加载？

> ID：15377360
> 
> 赞同：5
> 
> 时间：2013-03-13T04:56:24.830
> 
> 标签：php, ajax, html, forms, upload

我只是想上传一个文件，但没有任何效果。

```
 <!DOCTYPE html>
 <html><body>

            <form id="exp" enctype = "multipart/form-data" action="../cgi-bin/uploadPic.php">
                <input type="file" id="profilePic2" name="newPic"></input> <br /><br /><br />
                <input type="submit" value="Upload Pic" style="color:black;"></input>
            </form>
  </body></html> 
```

我的 php 文件正在执行。请注意草率的代码，我正在尝试通过 echo 进行调试。

```
 <html>
 <body>
 <?php

$loadFile = true; // error code
$allowedExts = array("jpg","jpeg","gif","png");
$extension = end(explode(".", $_FILES["newPic"]["name"]));

$file = $_FILES["newPic"];
$picIncluded = false;

if((    ($_FILES["newPic"]["type"] == "image/gif")
||  ($_FILES["newPic"]["type"] == "image/jpeg")
||  ($_FILES["newPic"]["type"] == "image/png")
||  ($_FILES["newPic"]["type"] == "image/pjpeg"))
&&  ($_FILES["newPic"]["size"] < 5000000)
&&  in_array($extension, $allowedExts)){
    if($_FILES["newPic"]["error"] > 0){
        echo "pnl"; // error code returned to client
    }
    else if(file_exists("../profile-pics/" . $file["name"])){
        echo "pld"; // picture loaded duplicate
    } else {
        $picIncluded = true;
        echo "finally";
        if(move_uploaded_file($file["name"]["tmp_name"],"./" . $file["name"])){
            echo "Success again!";
        }
        $path = "../profile-pics/" . $file["name"];
    }
}
if(is_uploaded_file($_FILES["newPic"]["name"]["tmp_name"])){
    echo "Good news!";
}

 ?>

 </body>
 </html> 
```

无论如何，函数 move_uploaded_file() 正在返回 false，因为它找不到临时文件。is_uploaded_file() 也返回 false。我的扩展和一切都是正确的，但仍然无济于事，没有上传文件。我该如何调试呢？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-13T05:03:36.800

改变这个

```
if(move_uploaded_file($file["name"]["tmp_name"],"./" . $file["name"])){ 
```

至

```
if(move_uploaded_file($file["tmp_name"],"./" . $file["name"])){ 
```

因为你已经分配

```
$file = $_FILES["newPic"]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T05:10:59.003

同样为了安全检查，您必须在上传前检查 is_uploaded_file() ：

```
if(is_uploaded_file($_FILES["newPic"]["tmp_name"])){
 if(move_uploaded_file($_FILES["newPic"]["tmp_name"],"../profile-pics/" . $file["name"])){
  echo 'file uploaded...';
 }
}else{
  echo "Possible file upload attack: ";
} 
```

# javascript - 我可以在 javascript 中模拟类似 C 的指针数组吗？

> ID：15377361
> 
> 赞同：1
> 
> 时间：2013-03-13T04:56:50.207
> 
> 标签：javascript

我希望能够将一堆不同变量的地址存储在一个数组中。这使我可以按名称访问变量或在需要时遍历它们。这在JS中可能吗？

```
(function(ns){

    ns.obj = new function(){

        var foo = "foo";
        var bar = "bar";

        //i really want this:
        //var ary = [&foo, &bar];
        var ary = [foo, bar];

        this.print = function() {
            console.log( foo );
            console.log( bar );
        }

        this.setFoo = function( newFoo ) {
            //i really want this:
            //*(ary[0]) = newFoo;
            ary[0] = newFoo;
        }

        this.printAry = function() {
            for( var i=0; i < ary.length; ++i ) {
                console.log( ary[i] );
            }
        }
    };

}(window.ns = window.ns || {}) );

ns.obj.print();
ns.obj.setFoo("newfoo!");
ns.obj.printAry();
ns.obj.print(); 
```

我看着这个：

[JavaScript 指针数组，如 C++](https://stackoverflow.com/questions/6028319/javascript-array-of-pointers-like-in-c)

但我希望能够`ary`在作业的 LHS 上使用一个元素，我认为该示例在这种情况下不起作用。

我到底为什么要这样做？

到目前为止，很多评论（正确地）问我为什么要这样做。我正在处理一个涉及异步对象初始化机制的专有 API。基本上我创建一个对象的实例，然后将它传递给这个初始化程序以便能够实际使用它。初始化程序包括一个用于通知成功初始化的 onSuccess 处理程序的字段。我完全初始化的对象作为参数传递给这个成功处理程序，以便我可以获取对它的引用。

然后我可以自由地初始化我的下一个对象。它看起来有点像这样：

```
 var a = new api.ApiObject();
     var b = new api.ApiObject();
     var c = new api.ApiObject();
     var d = new api.ApiObject();

     //omg this is ugly
     api.initializeObject( {
         objToInit: a,
         onSuccess: function(args) {
             a = args.obj;
             api.initializeObject( {
                 objToInit: b,
                 onSuccess: function(args) {
                     b = args.obj;
                     api.initializeObject( {
                         objToInit: c,
                         onSuccess: function(args) {
                             c = args.obj;
                             api.initializeObject( {
                                 objToInit: d,
                                 onSuccess: function(args) {
                                     d = args.obj;
                                 }
                             } );
                         }
                     } );
                 }
             } );
        }
    } );

    a.doCoolStuff();
    //and so on 
```

随着我添加更多，这种深层嵌套的混乱只会变得更糟`api.ApiObjects()`。那么我该怎么做才能解决这个问题呢？我无法更改 API，但也许递归函数会有所帮助：

```
 //maybe a recursive function could make this more concise?
    function doInitialize( ary ) {
        api.initializeObject( {
            objToInit: ary[0];
            onSuccess: function(args) {
                //i'd like to assign this passed in reference to my local
                //reference outside this function (var a, b, etc).  
                //An array of pointers would be useful here.
                //how else can I get this assigned out, cuz this doesn't work...
                ary[0] = args.obj;
                if( ary.length > 1 ) {
                    ary.splice( 0, 1 );
                    doInitialize( ary );
                }
            }
        }
    }

    doInitialize( [a,b,c,d] );

    //this won't work because I don't have a reference to the fully initialized object
    a.doCoolStuff(); 
```

所以也许更好的问题是：是否有一个既定的模式来处理这样的异步成功链接？我想我已经看到其他公共 JS 框架（如 dojo）使用这种 onSuccess 链接......我怎样才能让它不丑？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T06:55:37.580

我可能会建议，如果您这样做的主要目的是为了方便异步回调的嵌套，那么您应该考虑使用延迟/承诺系统。

我手工编写了几个不同的 Promise 库。
jQuery 带有一个内置的（就像大多数“ajax 库”一样）。

在一个更好的世界中，这可能是这样的：

```
doThingOne()
    .then(doThingTwo)
    .then(doThingThree)
    .then(launch); 
```

假设`doThingOne`返回一个承诺。

对于使用 jQuery（或大多数其他使用承诺的大型库）的人来说，一个看起来更熟悉的界面可能如下所示：

```
var imageLoader = $.Deferred(),
    loading     = imageLoader.promise();

loading
    .done(gallery.render.bind(gallery))
    .done(gallery.show.bind(gallery));

var img = new Image(),
    url = "...";

img.onload  = function () { imageLoader.resolve(img); };
img.onerror = function () { imageLoader.reject("error message"); };
img.src = url; 
```

基本上，`Deferred`上面将包含两个私有数组（一个用于“成功”，一个用于“失败”），并将扩展一个接口，允许应用程序的异步部分“成功”或“失败”，并将传入任何被选为数据/回调/等的东西。

它还扩展了一个`promise`方法，该方法返回一个 promise 对象，其中包含两个私有数组的订阅函数。因此，您将 Promise 对象传递给感兴趣的各方，并且他们订阅回调以在异步操作的成功/失败时进行迭代（并传递任何传递给`.resolve`/`.reject`操作方法的内容）。

这似乎只是添加自定义事件/侦听器/等的反转或扩展......确实如此。

抽象的好处是接口更干净。

将这些东西隐藏在对象接口中，并且只传递异步承诺对象可以使您的代码看起来 100% 同步：

```
var images  = ImageLoader(),
    gallery = ImageGallery(),
    photo;

photo = images.load("//url.com/image.png"); // assuming `.load` returns a promise object
gallery.show(photo); // just a promise object, but internally,
                     //`.show` would subscribe a private method to the promise object 
```

并且执行诸如具有三个单独的异步操作之类的事情，它们可以以任何顺序到达，但在推进之前必须全部成功，然后您可以拥有这样的事情（同样是 jQuery，但也可以手动完成）。

```
$.when(promise_obj_1, promise_obj_2, promise_obj_3)
.done(nextPhase); 
```

nextPhase 当然是一个回调，如果所有三个 Promise 都成功完成，您预计会触发它。

我很乐意为准系统承诺系统提供实现细节，如果你和我一样，并且不喜欢使用不同的库而不首先了解每个部分是如何独立工作的，并且能够复制它的功能，没有复制代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T07:22:41.527

问题第一部分的答案是使用对象。您正在考虑 C 中没有可迭代的结构，因此 C 程序员可以使用数组。在 JS 中，对象是可迭代的。所以你应该把它写成：

ary = { foo : 'foo', bar : 'bar' }

或者，如果我们看一下您的第二个示例：

```
var apis = {
    a : new api.ApiObject(),
    b : new api.ApiObject(),
    c : new api.ApiObject(),
    d : new api.ApiObject()
} 
```

* * *

现在，至于你问题的第二部分。您的伪递归代码（伪，因为它在堆栈意义上不是真正的递归，因为它是异步的）现在可以与`apis`上面的对象一起使用。但是您传递的是键而不是对象：

```
doInitialize( ['a','b','c','d'] ); 
```

显然，上面的位可以通过遍历 apis 对象来动态完成。无论如何，在`onSuccess`您分配结果的代码部分中，如下所示：

```
apis[ary[0]] = args.obj; 
```

哦，显然`objToInit`现在应该是`apis[ary[0]]`。

现在这样做应该可以按您的预期工作：

```
apis.a.doCoolStuff(); 
```

# java - 基本 Java 程序：if 语句？

> ID：15377364
> 
> 赞同：-1
> 
> 时间：2013-03-13T04:57:08.393
> 
> 标签：java

我制作的程序旨在根据两个问题在文本中生成关于“穿/着装”的建议。目前外面的温度和天气情况如何。

将有 3 个范围：(<=32)(33 - 55) (56+) 华氏度和 4 个天气条件选择：晴天、多云、下雨、下雪

使用下面的代码，我只能在输入低于 32 F 的温度时生成适当的建议。如果我对其余两个温度范围执行相同的代码，我将如何生成建议，就像冻结温度变量输入一样？

```
 if (temperature <= 32){
          if (weatherCondition == 4){
              freezingSnowing();
          }
          else if (weatherCondition == 3){
              freezingCloudy();
          }
          else if (weatherCondition == 2){
              freezingRain();
          }
          else {
              freezingSunny();
      }

          if ((temperature >= 33) && (temperature <= 60)){
          if (weatherCondition == 4){
               warmSnowing();
          }
          else if (weatherCondition == 3){
              warmCloudy();
          }
          else if (weatherCondition == 2){
              warmRain();
          }
          else {
              warmSunny();
      }

      }
      }

//These are the recommendations that I would like to appear//

public static void freezingSnowing()       
   {
      JOptionPane.showMessageDialog(null, "It's is snowing! I recommend that you dress very warm" +
                            "and wear a large coat that is preferably water proof.");
   }

   // Temp <= 32 and weather condition = 3 //
   public static void freezingCloudy()
   {
      JOptionPane.showMessageDialog(null, "Yikes it's below freezing, but at least it's just cloudy." +
                            " I would suggest that today you dress very warm and bring rain or snow gear just in case.");
   }

   // Temp <= 32 and weather condition = 2 //
   public static void freezingRain()
   {
      JOptionPane.showMessageDialog(null, "Be careful freezing temperatures and rain is very dangerous!" +
                            " If however you will be venturing outside remeber to dress warm and be cautious of icy spots.");
   }

      // Temp <= 32 and weather condition = 1 //
   public static void freezingSunny()
   {
      JOptionPane.showMessageDialog(null, "Looks may be decieving today. Don't forget to dress warm" +
                            " it looks nice and sunny out but it is still freezing.");
   }

   public static void warmSnowing()
   {
      JOptionPane.showMessageDialog(null, "It's is snowing, but based on the temperature it could turn to rain any minute! I recommend that you dress very warm" +
                            "and wear a large coat that is preferably water proof.");
   }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T05:00:05.927

您没有正确关闭括号

```
if (temperature <= 32){
          if (weatherCondition == 4){
              freezingSnowing();
          }
          else if (weatherCondition == 3){
              freezingCloudy();
          }
          else if (weatherCondition == 2){
              freezingRain();
          }
          else {
              freezingSunny();
      } 
```

else 之后应该还有一个右大括号，只有这样你才能检查其他条件

```
if (temperature <= 32){
          if (weatherCondition == 4){
              freezingSnowing();
          }
          else if (weatherCondition == 3){
              freezingCloudy();
          }
          else if (weatherCondition == 2){
              freezingRain();
          }
          else {
              freezingSunny();
      }
}

 if ((temperature >= 33) && (temperature <= 60)){
          if (weatherCondition == 4){
               warmSnowing();
          }
          else if (weatherCondition == 3){
              warmCloudy();
          }
          else if (weatherCondition == 2){
              warmRain();
          }
          else {
              warmSunny();
          }    
 } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T05:02:08.993

适当地嵌套你的括号。输入此代码块的唯一方法是 if `temperature <= 32`。其他条件是不可能进入的，否则。

```
 if (temperature <= 32) {
        if (weatherCondition == 4) {
            freezingSnowing();
        } else if (weatherCondition == 3) {
            freezingCloudy();
        } else if (weatherCondition == 2) {
            freezingRain();
        } else {
            freezingSunny();
        }
  } else if ((temperature >= 33) && (temperature <= 60)) {
        if (weatherCondition == 4) {
            warmSnowing();
        } else if (weatherCondition == 3) {
            warmCloudy();
        } else if (weatherCondition == 2) {
            warmRain();
        } else {
            warmSunny();
        }

   } 
```

还值得一提的是，您的`weatherCondition`值是枚举或使用`switch`语句的良好候选者。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T05:02:42.797

当您消除一些复杂性时，您的代码不起作用的原因变得更加明显：

```
if (temperature <= 32)
{ //outer if begins
   if (true)
   {
      freezingSunny();
   }
   if ((temperature >= 33) && (temperature <= 60)) /* notice we are still inside the outer if */
   { //inner if begins
      if (true)
      {
          warmSunny();
      }
   } //inner if ends
} //outer if ends 
```

现在我们可以看到，只有在外部 if 为真时才到达内部 if - 如果外部 if 为真，则内部 if 无论如何都不会为真，**所以这段代码永远不会运行。**

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-13T05:04:47.827

您`if...else..`的条件错过了右括号。在`if (temperature <= 32) {`检查范围之前应该已经关闭，`(33 - 55)`并且由于`<32`范围已经被处理，我们可以使用`else if`类似的构造来测试它，`else if (temperature <= 55)`并且 last`else`可以处理`>55`条件。

而不是使用这么多的`if..else if`结构进行测试`weatherCondition`，我更喜欢`switch..case`声明。

我会写类似的东西

```
if (temperature <= 32) {
    switch (weatherCondition) {
    case 4:
        freezingSnowing();
        break;
    case 3:
        freezingSnowing();
        break;
    case 2:
        freezingSnowing();
        break;
    default:
        freezingSunny();
    }
} else if (temperature <= 55) {
    switch (weatherCondition) {
    case 4:
        warmSnowing();
        break;
    case 3:
        warmCloudy();
        break;
    case 2:
        warmRain();
        break;
    default:
        warmSunny();
    }
} else {
    // handle >=56
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-13T05:02:56.400

您可以使用 if-elseif-else 类来避免混淆 } 括号

```
if (temperature <= 32){
      if (weatherCondition == 4){
          freezingSnowing();
      }
      else if (weatherCondition == 3){
          freezingCloudy();
      }
      else if (weatherCondition == 2){
          freezingRain();
      }
      else {
          freezingSunny();
      }
 }
  else if ((temperature >= 33) && (temperature <= 60)){
      if (weatherCondition == 4){
           warmSnowing();
      }
      else if (weatherCondition == 3){
          warmCloudy();
      }
      else if (weatherCondition == 2){
          warmRain();
      }
      else {
          warmSunny();
      }
}
else
{
 // 3rd range
} 
```

# ruby-on-rails - 设计允许特殊字符的密码

> ID：15377366
> 
> 赞同：3
> 
> 时间：2013-03-13T04:57:24.627
> 
> 标签：ruby-on-rails

我正在为我的 rails3 项目使用设计 gem。我需要在我的密码中允许 (!@#$%^&*-+?<>,.;:"'\|) 这些特殊字符。有人可以帮我写验证吗？

提前致谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-13T05:09:17.563

你可以像这样验证

```
validates_format_of :password, :with => /^[A-Za-z0-9\. ! @ # $ % ^ & * ( ) _ - + = ]*\z/ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-01T13:43:39.920

我更喜欢把它放在我的设计配置文件中：

# 首先安装 gem / 添加到你的 gemfile

```
gem 'devise_security_extension' 
```

# 正则表达式：AZ、az 和 0-9 的 1 个字符

```
config.password_regex = /(?=.*\d)(?=.*[a-z])(?=.*[A-Z])/ 
```

# jquery - 使用 Sinatra 和 jQuery 而不在 POST 上重定向

> ID：15377367
> 
> 赞同：1
> 
> 时间：2013-03-13T04:57:25.667
> 
> 标签：jquery, ruby, sinatra

我正在尝试使用 jQuery 向我的 Sinatra 应用程序提交表单，但是当通过 AJAX 发布时，Sinatra 应用程序显示一个空白页面。我希望它保持在同一页面上，并更新我在 javascript 中指定的内容。这是我的代码，精简：

```
post '/register' do
  register( params )
end
get '/register' do
  haml :register
end 
```

这是我在haml文件中的javascript：

```
:javascript
        $(function() {
                $("button#submit").click(function(){
                        $.ajax({
                                type: "POST",
                                url: "/register",
                                data: $('form.register').serialize(),
                                success: function(){
                                        $("#message").html("Successfully registered")
                                },
                                error: function(){
                                        $("#message").html("Not Successful")
                                }
                        });
                });
        }); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-13T12:51:35.547

尝试这个，

```
$(function() {
  $("form#the_id").submit(function(e){
    e.preventDefault();

    $.ajax({
      type: "POST",
      url: "/register",
      data: $('form.register').serialize(),
      success: function(){
        $("#message").html("Successfully registered")
      },
      error: function(){
        $("#message").html("Not Successful")
      }
    });
  });
}); 
```

`$("form#the_id").submit(...`检测表单提交。`e.preventDefault();`阻止表单提交。其余的提交一个 Ajax 请求。

不要忘记更改`#the_id`为您的表单 ID。

# spring - 创建 beanfactory 对象的不同方法是什么？

> ID：15377371
> 
> 赞同：2
> 
> 时间：2013-03-13T04:57:39.040
> 
> 标签：spring, jakarta-ee

```
1\. BeanFactory fac=new ClassPathXmlApplicationContext("Spring-Config.xml"); 

2\. Resource res=new Classpathresource("Spring-Config.xml");
    BeanFactory fac=new XmlBeanFactory(res); 
```

（我发现只有第二种类型我可以指定一个父配置文件来使用

```
3\. ApplicationContext context = new ClassPathXmlApplicationContext("Spring-Config.xml"); 
```

我有 3 种加载 beanfactory 的方法，我想知道它们之间有什么区别。如果可能的话，如何在所有这些方法中定义父配置文件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T05:25:39.673

ApplicationContext 继承自 BeanFactory 接口，所以它拥有 BeanFactory 的所有功能，也有额外的功能，下图在 Spring 官网： **MessageSource，提供 i18n 风格的消息访问。访问资源，例如 URL 和文件。事件传播到实现 ApplicationListener 接口的 bean。加载多个（分层）上下文，允许每个上下文都集中在一个特定的层上，例如应用程序的 Web 层。**

正如你所说，有些代码使用 BeanFactory，有些使用 ApplicationContext，实际上并没有什么不同，但有一点，由于 ApplicationContext 的额外功能，它会更重，并且可以与**transaction 和 aop**一起使用，这将是非常好的用于容器环境，如Tomcat等。您可以在此处找到更多信息，**尤其是第 3.8.1 节。BeanFactory 还是 ApplicationContext？**：[http ://static.springsource.org/spring/docs/2.5.x/reference/beans.html#context-introduction-ctx-vs-beanfactory](http://static.springsource.org/spring/docs/2.5.x/reference/beans.html#context-introduction-ctx-vs-beanfactory)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T05:37:31.140

BeanFactory 层次结构显示在[此处](http://book.javanb.com/Professional-Java-Development-with-the-Spring-Framework/images/fig02_01_0.jpg)的图像中。

请注意，这些是接口，一个接口可以有很多 - 许多 - 实现，因此对应不同的获取 bean 的方式。

这是列出[BeanFactory Vs ApplicationContext的区别](http://static.springsource.org/spring/docs/3.2.x/spring-framework-reference/html/beans.html#context-introduction-ctx-vs-beanfactory)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-01-15T05:28:21.817

**BeanFactory**和**ApplicationContext**都是从 Spring **IOC**容器中获取 bean 的方法，但仍然存在一些差异。

**BeanFactory**是实例化、配置和管理许多 bean 的实际容器。这些 bean 通常相互协作，因此它们之间存在依赖关系。这些依赖关系反映在 BeanFactory 使用的配置数据中。

**BeanFactory**和**ApplicationContext**都是 Java 接口，ApplicationContext 扩展了 BeanFactory。它们都是使用 XML 配置文件进行的配置。简而言之，BeanFactory 提供基本的控制反转 ( **IoC** ) 和依赖注入 ( **DI** ) 功能，而 ApplicationContext 提供**高级**功能。

一个 BeanFactory 由接口“ **org.springframework.beans.factory** ”表示，其中 BeanFactory 有多个实现。

```
ClassPathResource resource= new ClassPathResource("appConfig.xml");
XmlBeanFactory factory = new XmlBeanFactory(resource);
```

**不同之处**

1.  **BeanFactory**在调用**getBean()**方法时实例化 bean，而 ApplicationContext 在容器启动时实例化 Singleton bean，它不会等待调用 getBean()。

2.  **BeanFactory**不提供对国际化的支持，但**ApplicationContext**提供了对它的支持。

3.  **BeanFactory**与**ApplicationContext**之间的另一个区别是能够将事件发布到注册为侦听器的 bean。

4.  **BeanFactory**接口的流行实现之一是**XMLBeanFactory**而**ApplicationContext**接口的流行实现之一是**ClassPathXmlApplicationContext**。

5.  如果您使用自动布线并使用**BeanFactory** ，则需要使用 API 注册**AutoWiredBeanPostProcessor**，如果您使用 **ApplicationContext** ，您可以在 XML 中进行配置。总之**BeanFactory**可以用于测试和非生产使用，但**ApplicationContext**是功能更丰富的容器实现，应该比**BeanFactory更受青睐**

6.  **BeanFactory**默认支持**延迟**加载，**ApplicationContext**默认支持**Aggressive**加载。

# android - 如何将视频文件放入 android 自定义内容提供程序

> ID：15377373
> 
> 赞同：1
> 
> 时间：2013-03-13T04:57:48.363
> 
> 标签：android, android-contentprovider, android-videoview

我有一个要存储在自定义内容提供程序中的视频文件。在那之后，我想阅读它并想通过 Uri 播放它。

下面是我的代码。

```
package com.videocon.nds;

public class FileProvider extends ContentProvider {
    public static final Uri CONTENT_URI=Uri.parse("content://com.videocon.nds/");
    private static final HashMap<String, String> MIME_TYPES=new HashMap<String, String>();
   static {
    MIME_TYPES.put(".mp4", "video/mp4");
   }

@Override
public boolean onCreate() {
File f=new File(getContext().getFilesDir(), "Holy.mp4");

if (!f.exists()) {
    AssetManager assets=getContext().getResources().getAssets();

    try {
    copy(assets.open("Holy.mp4"), f);
    }
    catch (IOException e) {
    Log.e("FileProvider", "Exception copying from assets", e);

    return(false);
    }
}

return(true);
}

@Override
public String getType(Uri uri) {
String path=uri.toString();

for (String extension : MIME_TYPES.keySet()) {
    if (path.endsWith(extension)) {
    return(MIME_TYPES.get(extension));
    }
}

return(null);
}

@Override
public ParcelFileDescriptor openFile(Uri uri, String mode)
    throws FileNotFoundException {
File f=new File(getContext().getFilesDir(), uri.getPath());

if (f.exists()) {
    return(ParcelFileDescriptor.open(f,
        ParcelFileDescriptor.MODE_READ_ONLY));
}

throw new FileNotFoundException(uri.getPath());  
}

@Override
public Cursor query(Uri url, String[] projection, String selection,
    String[] selectionArgs, String sort) {
throw new RuntimeException("Operation not supported");
}

@Override
public Uri insert(Uri uri, ContentValues initialValues) {

throw new RuntimeException("Operation not supported");
}

@Override
public int update(Uri uri, ContentValues values, String where, String[] whereArgs) {
throw new RuntimeException("Operation not supported");
}

@Override
public int delete(Uri uri, String where, String[] whereArgs) {
throw new RuntimeException("Operation not supported");
}

static private void copy(InputStream in, File dst) throws IOException {
FileOutputStream out=new FileOutputStream(dst);
byte[] buf=new byte[1024];
int len;

while((len=in.read(buf))>0) {
    out.write(buf, 0, len);
}

in.close();
out.close();
}
} 
```

# python - 使用 python3 和 c/c++ 嵌入套接字

> ID：15377375
> 
> 赞同：0
> 
> 时间：2013-03-13T04:58:06.273
> 
> 标签：python, c, sockets

我有一个在python3上运行的进程，它必须创建一个模块来调用c库，但在c lib中它必须调用从python3连接的套接字，结果是python3

[python3]--->[c]--->[c socket]--->[python socket]----->[c函数]----->[python3]

如何将 python 类型的套接字转换为 c 类型的套接字？

帮我举个例子，谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T05:00:10.240

AC socket 只是一个文件描述符，用数字表示。

Python 套接字是包装文件描述符的对象。您可以使用该方法从中获取文件描述符编号[`fileno`](http://docs.python.org/3/library/socket.html#socket.socket.fileno)。

例如：

```
def call_c_code_with_socket(my_socket):
    c_library.c_func(my_socket.fileno()) 
```

（我假设你在这里使用 POSIX；在 Windows 上，事情有点复杂，因为你通常使用[`WSASocket`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms742212%28v=vs.85%29.aspx)和朋友，它处理不透明`SOCKET`的句柄而不是简单的整数。）

走另一条路有点棘手。

如果你在 C 中创建了一个套接字，并想在 Python 中使用它，你需要家族、类型和原型值以及 fd 编号——但如果你有它们，[`fromfd`](http://docs.python.org/3/library/socket.html#socket.fromfd)那就是答案。

但是，如果你在 Python 中创建了一个套接字，将它的文件描述符发送给 C 并取回它，你就不想创建一个新的套接字对象；你想找到旧的。您可能会考虑为这种情况创建一个`dict`映射 fd 编号到`socket`对象的方法。

最后，请注意不要将您的一段代码与另一段代码做奇怪的事情来混淆。如果您已将下一条协议消息的一半读入 C 中的缓冲区，那么 Python 将需要该半条消息。如果您在 Python 中将套接字设置为非阻塞模式，那么它在 C 中仍然是非阻塞的。依此类推。

# video-streaming - 如何录制 PCM 流并写入 AVI 格式文件？

> ID：15377389
> 
> 赞同：1
> 
> 时间：2013-03-13T04:59:07.597
> 
> 标签：video-streaming, video-capture, avi

目前，我有一个 PCM 流，并且想将流的一部分录制到 avi 文件中，该文件可以使用支持 avi 的媒体播放器播放。

我想知道：

1.  将 PCM 流录制为 AVI 文件需要进行任何转换吗？
2.  如何正确将文件头写入avi文件，以便媒体播放器读取。
3.  是否有具有 avi 文件创建和写入功能的开源库或工具？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-05T05:40:32.313

你可以为这个porpose使用[ffmpeg](http://www.ffmpeg.org/)。

```
For example :
    ffmpeg -i in_file -f s16le -acodec pcm_s16le out.avi 
```

# c# - WCF 性能：连接到 WCF 服务需要很长时间

> ID：15377393
> 
> 赞同：1
> 
> 时间：2013-03-13T04:59:20.770
> 
> 标签：c#, .net, performance, wcf, entity-framework

我的服务器上有一个托管在 IIS 7.5 上的 WCF 服务。我在我的服务中使用了 Entity framework 5.0。

当我通过添加服务引用并在站点中创建客户端从本地系统调用该服务时，大约需要 40 秒才能获得响应。我尝试调用我本地的相同服务，这里只需要 3-4 秒。

将服务器上的服务的引用添加到本地系统上的站点后，在 web 配置中添加的绑定和端点如下所示：

```
<binding name="WSHttpBinding_IMyWCFService" closeTimeout="00:01:00"
          openTimeout="00:01:00" receiveTimeout="00:50:00" sendTimeout="00:01:00"
          bypassProxyOnLocal="false" transactionFlow="false" hostNameComparisonMode="StrongWildcard"
          maxBufferPoolSize="524288" maxReceivedMessageSize="2147483647"
          messageEncoding="Text" textEncoding="utf-8" useDefaultWebProxy="true"
          allowCookies="false">
          <readerQuotas maxDepth="32" maxStringContentLength="2147483647"
            maxArrayLength="16384" maxBytesPerRead="4096" maxNameTableCharCount="16384" />
          <reliableSession ordered="true" inactivityTimeout="00:10:00"
            enabled="false" />
          <security mode="Transport">
            <transport clientCredentialType="None" proxyCredentialType="None"
              realm="" />
            <message clientCredentialType="Windows" negotiateServiceCredential="true" />
          </security>
        </binding>

<endpoint address="https://<url>/MyWCFService.svc/soap"
        binding="wsHttpBinding" bindingConfiguration="WSHttpBinding_IMyWCFService"
        contract="MerchantService.IMyWCFService" name="WSHttpBinding_IMyWCFService" /> 
```

首先我认为这是实体框架的问题。但后来我使用实体框架分析器检查了该方法的执行时间。它几乎不需要1秒。

同样，当我调用该服务时，它需要添加一个我正在添加的标题。

所以，它需要 40 秒的时间。而且它的启动速度并不慢，也不是第一次花时间。总是需要这么多时间。

网络速度是否可能是导致此延迟的原因。如果有，达到什么程度？

该服务返回一个列表List。这可能是一个问题，我们不应该返回列表。有什么替代方案？

此外，实体框架是否会在每次请求到来时以及数据库连接是否需要时间时建立与数据库的连接。有可能吗？

请帮忙。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T04:52:04.237

首先，我使用的是代码优先方法。并且为了提高性能，我尝试预先生成视图，这样可以减少第一次生成视图的开销。但我认为这些观点是行不通的。因此，我尝试切换到 Database First 方法，然后生成视图并将该构建上传到远程服务器。现在时间从40秒减少到10秒。我还尝试在 WCF 服务启动时打开数据库连接。它再次将时间缩短到 5 秒。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:15:22.673

我建议逐步隔离问题

1）要找出网络带宽是否是问题，只需托管一个返回一些简单值（如整数或字符串）的简单服务并检查其响应时间。

2) 如果步骤 1 中的响应时间显着提高，则查看数据库或列表问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T05:22:54.843

我怀疑你的问题是凭证协商。有一种简单的方法可以验证这一点，只需在没有安全性的情况下在同一台服务器上运行服务（如果允许的话。）

一种可能的补救方法是通过将negotiateServiceCredential 属性设置为false 来消除SOAP 凭证协商。您需要确保首先为您的域启用 Kerberos。

# android - 如何将 imageView 图像保存到图库（Android 开发）

> ID：15377399
> 
> 赞同：6
> 
> 时间：2013-03-13T04:59:46.440
> 
> 标签：android, image, imageview, save, gallery

我正在尝试创建一个 onClick 事件，通过单击按钮将图像视图保存到手机图库中，下面是我的代码。它没有保存到图库中，谁能帮我弄清楚为什么？

```
 sharebtn.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View b) {
            // TODO Auto-generated method stub
            //attempt to save the image

            b = findViewById(R.id.imageView);
            b.setDrawingCacheEnabled(true);
                Bitmap bitmap = b.getDrawingCache();
                //File file = new File("/DCIM/Camera/image.jpg");
                File root = Environment.getExternalStorageDirectory();
                File cachePath = new File(root.getAbsolutePath() + "/DCIM/Camera/image.jpg");
                try 
                {
                    cachePath.createNewFile();
                    FileOutputStream ostream = new FileOutputStream(cachePath);
                    bitmap.compress(CompressFormat.JPEG, 100, ostream);
                    ostream.close();
                } 
                catch (Exception e) 
                {
                    e.printStackTrace();
                }

        }
    }); 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-06-28T09:16:04.470

我这样做是为了将图像保存在画廊中。

```
private void saveImageToGallery(){
    imageview.setDrawingCacheEnabled(true);
    Bitmap b = imageview.getDrawingCache();
    Images.Media.insertImage(getActivity().getContentResolver(), b,title, description);
} 
```

`insertImage()`将返回一个`String != null`如果图像已真正保存。另外：需要清单中的权限为“android.permission.WRITE_EXTERNAL_STORAGE”并请注意，这会将图像放在画廊中已经存在的图像列表的底部。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-04-20T07:42:07.377

假设`ImageView`已经保留了要保存的图像，首先，获取位图

```
imageView.buildDrawingCache();
Bitmap bm=imageView.getDrawingCache(); 
```

然后用下面的代码保存它： -

```
MediaStore.Images.Media.insertImage(getContentResolver(), yourBitmap, yourTitle , yourDescription); 
```

并且不要忘记在您的清单中设置此权限：-

```
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-08-25T07:42:07.367

```
public static void addImageToGallery(final String filePath, final Context context) {

    ContentValues values = new ContentValues();

    values.put(Images.Media.DATE_TAKEN, System.currentTimeMillis());
    values.put(Images.Media.MIME_TYPE, "image/jpeg");
    values.put(MediaStore.MediaColumns.DATA, filePath);

    context.getContentResolver().insert(Images.Media.EXTERNAL_CONTENT_URI, values);
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-13T05:05:50.173

您必须将图像保存到媒体提供商。这是一个简单的例子：

```
Uri saveMediaEntry(String imagePath,String title,String description,long dateTaken,int orientation,Location loc) {
ContentValues v = new ContentValues();
v.put(Images.Media.TITLE, title);
v.put(Images.Media.DISPLAY_NAME, displayName);
v.put(Images.Media.DESCRIPTION, description);
v.put(Images.Media.DATE_ADDED, dateTaken);
v.put(Images.Media.DATE_TAKEN, dateTaken);
v.put(Images.Media.DATE_MODIFIED, dateTaken) ;
v.put(Images.Media.MIME_TYPE, “image/jpeg”);
v.put(Images.Media.ORIENTATION, orientation);
File f = new File(imagePath) ;
File parent = f.getParentFile() ;
String path = parent.toString().toLowerCase() ;
String name = parent.getName().toLowerCase() ;
v.put(Images.ImageColumns.BUCKET_ID, path.hashCode());
v.put(Images.ImageColumns.BUCKET_DISPLAY_NAME, name);
v.put(Images.Media.SIZE,f.length()) ;
f = null ;
if( targ_loc != null ) {
v.put(Images.Media.LATITUDE, loc.getLatitude());
v.put(Images.Media.LONGITUDE, loc.getLongitude());
}
v.put(“_data”,imagePath) ;
ContentResolver c = getContentResolver() ;
return c.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, v);
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-07-25T20:13:10.207

```
private void galleryAddPic() {
    Intent mediaScanIntent = new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE);
    File f = new File(mCurrentPhotoPath);
    Uri contentUri = Uri.fromFile(f);
    mediaScanIntent.setData(contentUri);
    this.sendBroadcast(mediaScanIntent);
} 
```

看看这个：http: [//developer.android.com/training/camera/photobasics.html#TaskGallery](http://developer.android.com/training/camera/photobasics.html#TaskGallery)

# wordpress - htaccess wordpress 301重定向

> ID：15377401
> 
> 赞同：2
> 
> 时间：2013-03-13T05:00:01.607
> 
> 标签：wordpress, .htaccess, redirect, ssl

我最近将 SSL 添加到我的 wordpress 站点，现在如果有一些访问我的 http 站点，我想将它们重定向到我的 https 站点。我尝试了以下方法：

```
# BEGIN WordPress 
<IfModule mod_rewrite.c> 
RewriteEngine On 
RewriteBase / 
RewriteRule ^index\.php$ - [L] 
RewriteCond %{REQUEST_FILENAME} !-f 
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{HTTPS} !=on
RewriteRule ^/?(.*) https://%{SERVER_NAME}/$1 [R,L] 
RewriteRule . /index.php [L] 
</IfModule> 
# END WordPress 
```

但是得到了这个错误

```
Error 310 (net::ERR_TOO_MANY_REDIRECTS): There were too many redirects. 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T09:41:29.013

这是您应该用于强制执行 https 的代码：

```
# BEGIN WordPress 
<IfModule mod_rewrite.c> 
RewriteEngine On 
RewriteBase / 

RewriteCond %{HTTPS} !=on
RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L] 

RewriteRule ^index\.php$ - [L] 

RewriteCond %{REQUEST_FILENAME} !-f 
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L] 
</IfModule> 
# END WordPress 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:08:27.847

试试这个 ：

```
RewriteEngine on

RewriteCond %{SERVER_PORT} 80

RewriteRule ^(.*)$ https://{SERVER_NAME}/$1 [R=301,L]

RewriteCond %{HTTP_HOST} ^www\.(.*)

RewriteRule ^(.*)$ https://{SERVER_NAME}/$1 [R=301,L]

RewriteCond %{HTTP_HOST} ^http://\.(.*)

RewriteRule ^(.*)$ https://{SERVER_NAME}/$1 [R=301,L]

RewriteCond %{REQUEST_FILENAME} -s [OR]

RewriteCond %{REQUEST_FILENAME} -l [OR]

RewriteCond %{REQUEST_FILENAME} -d

RewriteRule ^.*$ - [NC,L]

RewriteRule ^.*$ /index.php [NC,L] 
```

# python - Python RegEx 搜索并替换为原始表达式的一部分

> ID：15377406
> 
> 赞同：0
> 
> 时间：2013-03-13T05:00:11.617
> 
> 标签：python, regex

我是 Python 新手，正在寻找一种方法来用字符串的 [AZ] 部分替换所有出现的“[AZ]0”，以摆脱某些用零填充的数字。我使用这个片段来摆脱我正在处理的字段中的整个事件：

```
import re
def strip_zeros(s):
    return re.sub("[A-Z]0", "", s)

test = strip_zeros(!S_fromManhole!) 
```

如何执行相同类型的过程但不删除“[AZ]0”表达式的前导字母？

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T05:06:42.433

使用反向引用。

[http://www.regular-expressions.info/refadv.html](http://www.regular-expressions.info/refadv.html) "\1 到 \9 替换为在第 1 到第 9 对捕获括号之间匹配的文本。"

[http://docs.python.org/2/library/re.html#re.sub](http://docs.python.org/2/library/re.html#re.sub) “反向引用，例如 \6，被替换为模式中第 6 组匹配的子字符串。”

未经测试，但它看起来像这样：

`return re.sub(r"([A-Z])0", r"\1", s)`

将第一个字母放在捕获组中并使用`\1`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:04:29.710

你可以尝试类似的东西

```
In [47]: s = "ab0"

In [48]: s.translate(None, '0')
Out[48]: 'ab'

In [49]: s = "ab0zy"

In [50]: s.translate(None, '0')
Out[50]: 'abzy' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T15:23:09.307

我喜欢 Patashu 对这种情况的回答，但为了完整起见，在更复杂的情况下，将函数传递给 re.sub 而不是替换字符串可能会更清晰。该函数应采用单个匹配对象并返回一个字符串。

```
>>> def strip_zeros(s):
...     def unpadded(m):
...             return m.group(1)
...     return re.sub("([A-Z])0", unpadded, s)
...
>>> strip_zeros("Q0")
'Q' 
```

# php - 复制单词并将其保存为变量

> ID：15377407
> 
> 赞同：1
> 
> 时间：2013-03-13T05:00:18.767
> 
> 标签：php, html, css, parsing, hyperlink

我正在建立一个在线西班牙语词典。我从另一个站点合法地获得了定义。对于用户可能搜索的特定单词，会出现一个建议列表。如果您单击任何建议的单词，则会弹出错误页面：http: //verbum.xtrweb.com/verbumpost.php?word=boedo&word0= [hola](http://verbum.xtrweb.com/verbumpost.php?word=boedo&word0=hola)。我怎样才能使这些列出的单词通过下面粘贴的代码运行：（1）检索定义（2）更改样式。我知道每个建议的单词（检查元素）都存在一个唯一的 URL。如果您将该代码与原始站点的 URL 参数粘贴在一起，您将得到我需要的内容。：

“ [http://lema.rae.es/drae/srv/search?id=AVNYdnea1DXX2EH9E2mb](http://lema.rae.es/drae/srv/search?id=AVNYdnea1DXX2EH9E2mb) ”

最多 "srv/" 属于站点

其余的来自特定的单词（在这种情况下，第一个建议是“bordar”

过程：

```
 <?php
    $words = array('word','word0','word1','word2','word3','word4','word5','word6','word7','word7','word9',     
    'word10','word11','word12',
    'word13','word14','word15');                        
    function url_decode($string){
    return urldecode(utf8_decode($string));
    }

    // we'll use this later on for loading the files.
    $baseUrl = 'http://lema.rae.es/drae/srv/search?val=';

    // string to replace in the head.
    $cssReplace = <<<EOT

    <style type="text/css">
          //blabla
    </style>
    </head>
    EOT;

   // string to remove in the document.
   $spanRemove = '<span class="f"><b>.</b></span>';
   $styleRemove = 

   // use for printing out the result ID.
   $resultIndex = 0;

   // loop through the words we defined above
   // load the respective file, and print it out.
   foreach($words as $word) {
// check if the request with
// the given word exists. If not,
// continue to the next word
if(!isset($_REQUEST[$word]))
    continue;

// load the contents of the base url and requested word.
$contents = file_get_contents($baseUrl . urldecode(utf8_decode($_REQUEST[$word])));
// replace the data defined above.
$contents = str_replace('</head>', $cssReplace, $contents);
$contents = str_replace($spanRemove,"", $contents);

$data = preg_replace('/(search?[\d\w]+)/','http://lema.rae.es/drae/srv/\1', $data);

// print out the result with the result index.
// ++$resultIndex simply returns the value of 
// $resultIndex after adding one to it.
echo "<div id='results' style='
      //bla bla
      }
        ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T18:24:50.023

I don't think I understand your question, but I do see that you are calling preg_replace on an uninitialized variable - $data.

Maybe you want this instead?

```
 $data = preg_replace('/(search?[\d\w]+)/','http://lema.rae.es/drae/srv/\1', $contents); 
```

Like I said, I don't fully understand your question, but I do see that as a potential problem.

EDIT:

From your comment, it looks like you want to append the href of the link being clicked to a base url and request that page's data. Can you use jQuery? Like this:

```
var baseUrl = "http://lema.rae.es/drae/srv/"; // base url

//click function that binds to all anchors within a list item within a ul. in order
//to get more precise, you may need to add some classes or ids
$('ul li a').click(function(){
     var src = $(this).prop('href'); //this grabs the href property of the anchor
     $(this).find('span').css('propery', 'change to this'); //change css property of span child of this anchor
     //or if you want to add a class with styles to the element
     $(this).find('span').addClass('class name');

     //ajax request to get page data
     $.ajax({
         type: 'POST',
         url: baseUrl+src  //appending the query to the base url
     }).done(function(data){
         //append the returned html to a div, or any element you desire
         $('#myelement').append(data);
     });
}); 
```

Hope this helps. If you need any help with jQuery just let me know.

# c++ - C++：制作多维向量列表

> ID：15377413
> 
> 赞同：-3
> 
> 时间：2013-03-13T05:00:48.610
> 
> 标签：c++

我该如何进行这项工作？我试过这个，但没有bueno。基本上，它说“for”需要一个声明，这意味着初始化部分发生了一些事情。我已经知道如何设置一个。我只需要通过这部分。但是，如果有人可以给我一个替代方法来制作多维数组的列表（或序列容器），那也很棒。

```
#include <list>
#include <vector>
using namespace std;

class MainTetris
{
    /*
        Creating a list of multidimensional vectors to represent each tetris piece.
        Don't plan on dynamically growing them in the game. It's only because
        STL list doesn't hold arrays.
    */

    list<vector< vector<int> > > pieces;

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:07:48.013

您需要分开尖括号。

```
list<vector<vector<int> > > pieces; 
```

您还试图推动 a`vector<int>`而不是 a`vector<vector<int> >`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:19:24.803

类主体中不能有 for 循环。它必须在一个函数中。您可能希望在构造函数中使用它。你是从哪里学会这样写课程的？任何介绍性书籍都会很早就涵盖了这一点。

[The Definitive C++ Book Guide and List](https://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list)

# asp.net - div 内容对齐

> ID：15377414
> 
> 赞同：0
> 
> 时间：2013-03-13T05:00:50.917
> 
> 标签：asp.net, html

我有一个动态生成的 div。我必须在其上添加一个动态生成的 HTML 表。

问题是当我添加表格时，它显示为左对齐。但是 div 对于文本内容是居中对齐的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-13T05:09:26.080

假设您将表格作为固定宽度元素，您可以将 margin-left/right 设置为 auto 以在其容器中居中块元素。（这里小提琴：http: [//jsfiddle.net/SWakJ/](http://jsfiddle.net/SWakJ/)）

HTML

```
<div id="div1">
    <table id="tab">
        <tr>
            <td>test</td>
        </tr>
    </table>
</div> 
```

CSS

```
#tab {
    border:solid 1px black;
    width: 200px;
    height: 100px;
    margin:2px auto;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:10:01.743

您可以尝试在外部 div 中添加一些 CSS。

我实际上在这里写了一个类似的答案： [将此 div 放在它的容器的中心？](https://stackoverflow.com/questions/15376530/position-this-div-in-the-center-of-its-container/15377064#15377064)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T05:10:10.417

提供您的代码或只是快速查看您的代码并检查它。在表格上方放置一个 div 并设置 text-align=center。或者，如果您的表格位于任何 td 中，则分配 text-align:center。

您也可以在其之间放置标签和放置表格。

如果您只想将表格列居中而不是提供 text-align:center

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T05:13:17.277

我不知道您的代码，但根据问题，这可以帮助您。

```
function makeTable() {

row=new Array();
cell=new Array();

row_num=12; //edit this value to suit
cell_num=12; //edit this value to suit
tab=document.createElement('table');
tab.setAttribute('id','newtable');
tbo=document.createElement('tbody');
for(c=0;c<row_num;c++){
row[c]=document.createElement('tr');
for(k=0;k<cell_num;k++) {
cell[k]=document.createElement('td');
cont=document.createTextNode((c+1)*(k+1))
cell[k].appendChild(cont);
row[c].appendChild(cell[k]);
}
tbo.appendChild(row[c]);
}
tab.appendChild(tbo);
document.getElementById('mytable').appendChild(tab);
} 
```

您可以通过 CSS 设置对齐方式，如下所示：

```
#newtable{
border:2px solid #999;
font-family:verdana,arial,helvetica,sans-serif;
font-size:18px;
margin:auto;
}
#newtable td{
width:50px;
line-height:50px;
border:1px solid #000;
text-align:center;
} 
```

或查看此链接“ [http://www.webmasterworld.com/javascript/3614377.htm](http://www.webmasterworld.com/javascript/3614377.htm) ”

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-13T05:14:27.573

你可以这样使用

```
<div id="div1">
 <table id="tab">
    <tr>
        <td>test</td>
    </tr>
 </table>
</div> 
```

## CSS

```
 #div1
{
  width:500px;
  text-align:center;
}
#tab {
  border:solid 1px black;
  width: 200px;
  height: 100px;
  margin:2px auto;
}
#tab td
{
  /*  width: 200px;
   text-align:center;*/ 
} 
```

运行演示[Jsfiddle](http://jsfiddle.net/SWakJ/1/)

# php - 在 symfony 2.1.8 中启用 ESI 时出现 Twig 语法错误

> ID：15377415
> 
> 赞同：1
> 
> 时间：2013-03-13T05:00:52.197
> 
> 标签：php, symfony, twig, symfony-2.1, esi

我尝试将带有 {'standalone': true} 的 ESI 渲染添加到我的一个树枝模板中，并且收到以下 TWIG 语法错误：

`Unexpected token "punctuation" of value "," ("end of statement block" expected) in AccommMiddleBundle:Home:layout.html.twig at line 155`

这是相关的树枝模板块：

```
150 <div class="container">
151     <h1>{{ blog_articles.0.title }}</h1>
152     <a href="{{blog_articles.0.guid}}">Moose</a>
153 </div>
154 
155 {% render url('accomm_middle_home_recent_articles', {fred: 1}), {'standalone': true} %}
156 
157 {% set charity_url = "http://www.accommodation.com/charity" %} 
```

删除 , {'standalone': true} 使模板渲染得很好。

我将 Symfony 2.1.8 与干净的供应商一起使用，似乎与标准版依赖项没有区别。关于如何调试的任何想法？

谢谢你的帮助

迈克B

ps 这里是我安装的包

```
AccomDotCom/AccomDotComRESTClientBundle 0.1               The RESTFul models for talking to the Accommodation.com privateapi (baghdadsquirrel) via symfony
behat/behat                             v2.4.5            Scenario-oriented BDD framework for PHP 5.3
behat/gherkin                           v2.2.9            Gherkin DSL parser for PHP 5.3
behat/mink                              v1.4.3            Web acceptance testing framework for PHP 5.3
behat/mink-browserkit-driver            v1.0.4            Symfony2 BrowserKit driver for Mink framework
behat/mink-extension                    v1.0.1            Mink extension for Behat
behat/mink-selenium2-driver             v1.0.5            Selenium2 (WebDriver) driver for Mink framework
behat/mink-zombie-driver                v1.0.3            Zombie.js driver for Mink framework
behat/symfony2-extension                v1.0.1            Symfony2 framework extension for Behat
doctrine/common                         2.3.0             Common Library for Doctrine projects
doctrine/dbal                           2.3.2             Database Abstraction Layer
doctrine/doctrine-bundle                v1.0.0            Symfony DoctrineBundle
doctrine/orm                            2.3.2             Object-Relational-Mapper for PHP
guzzle/guzzle                           v2.8.7            Guzzle is a PHP HTTP client library and framework for building RESTful web service clients
instaclick/php-webdriver                1.0.12            PHP WebDriver for Selenium 2
jms/aop-bundle                          1.0.0             Adds AOP capabilities to Symfony2
jms/cg                                  1.0.0             Toolset for generating PHP code
jms/di-extra-bundle                     1.1.1             Allows to configure dependency injection using annotations
jms/metadata                            1.1.1             Class/method/property metadata management in PHP
jms/security-extra-bundle               1.2.0             Enhances the Symfony2 Security Component by adding several new features
kriswallsmith/assetic                   v1.1.0-alpha4     Asset Management for PHP
monolog/monolog                         1.2.1             Logging for PHP 5.3
nelmio/esi-debug-bundle                 1.0.0             Shows you caching information around ESI requests for debugging purposes
sensio/distribution-bundle              v2.1.8            The base bundle for the Symfony Distributions
sensio/framework-extra-bundle           v2.1.8            This bundle provides a way to configure your controllers with annotations
sensio/generator-bundle                 v2.1.8            This bundle generates code for you
swiftmailer/swiftmailer                 v4.2.2            Swiftmailer, free feature-rich PHP mailer
symfony/assetic-bundle                  v2.1.2            Integrates Assetic into Symfony2
symfony/monolog-bundle                  v2.1.8            Symfony MonologBundle
symfony/swiftmailer-bundle              v2.1.8            Symfony SwiftmailerBundle
symfony/symfony                         v2.1.8            The Symfony PHP framework
twig/extensions                         dev-master v1.0.0 Common additional features for Twig that do not directly belong in core
twig/twig                               v1.12.2           Twig, the flexible, fast, and secure template language for PHP
vipsoft/jira-extension                  v1.0.9            Load features for Behat from Jira issues 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:49:03.820

在**Symfony2.1**中，为了使您的渲染块适应正确的符号，您需要

*   把你的论点放在单引号之间`'`：在这种情况下，你会有`'fred': 1`
*   *即使它是空*的，也要添加`with{}`语句：

 *这给了你：

```
{% render url('accomm_middle_home_recent_articles', {'fred': 1})  with {}, {'standalone': true} %} 
```

* * *

[注意：从这个安全版本](http://symfony.com/blog/security-release-symfony-2-0-20-and-2-1-5-released#cve-2012-6432-code-execution-vulnerability-via-the-internal-routes)看来`with{}`，在 Symfony2.1 中绝对需要该声明。然而，Symfony 最近可能已经改变了这一点，我认为 Symfony2.2 不再需要它了。

> {# with 参数是必需的，但被忽略了 #}

他们提供了一个例子：

```
{% render url("path_to_controller_router", { 'param': 1 }) with {}, { 'standalone': true } %} 
```*

# amazon - 亚马逊联盟计划：你能用你的标签登陆搜索结果页面吗？

> ID：15377417
> 
> 赞同：1
> 
> 时间：2013-03-13T05:00:54.080
> 
> 标签：amazon, affiliate, affiliates

例如，在我的网站上，我想将用户链接到 Amazon.com 上的整个搜索查询结果页面，而不是一次只考虑一个特定的产品。

有可能做这样的事情吗？

```
http://www.amazon.com/s/?ref=sr_st?keywords=skates&qid=1363145953&rh=n:3375251,k:skates&sort=-price&tag=stackexample-20 
```

[转到上面显示的链接](http://www.amazon.com/s/?ref=sr_st?keywords=skates&qid=1363145953&rh=n:3375251,k%3askates&sort=-price&tag=stackexample-20 "转到上面的链接")

如您所见，我正试图将用户引导至“skates”的搜索页面，价格最高的商品位于顶部，我的会员 ID 在本例中为“stackexample-20”

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2018-04-05T14:52:30.200

**2018：**您可以创建这样的链接（使用 jquery）：

```
 function createAmznLink (text) {        
         var amznLink = "<a href=http://www.amazon.de/s/field-keywords=" + text + "&tag=yourtag" + ">" + text + "</a>"              
         $('.linklist').append(amznLink);        
      }

      createAmznLink('product'); 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2014-01-28T00:32:18.030

一旦进入页面，您就可以使用您在上面执行的附属标签进行搜索，您将在接下来的 24 小时内获得佣金（我认为）。由于会员cookie设置在用户的浏览器上。

# java - 在可能的情况下声明方法是静态的吗？

> ID：15377418
> 
> 赞同：3
> 
> 时间：2013-03-13T05:00:57.850
> 
> 标签：java, oop, coding-style

这很不言自明。在 Java 中，（以及我想的所有 OO 语言）我应该在它是唯一选择时声明实例方法还是通常我们不关心它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T05:08:39.407

当您不需要它们了解类状态来处理某些内容时，方法是静态的。辅助方法就是这种场景的好例子。

```
DateUtils.getDateNowInGMT() 
```

上面的方法不需要任何状态给你答案。下面的那一个。

```
Withdrawer w = new Withdrawer.Builder().account(12545).build();
w.withdraw(100); 
```

您不能在不知道与提款人关联的状态的帐号的情况下提取（）钱。您当然可以争辩说，这可能是一个静态方法，将帐户信息传递给该方法可以解决问题，但这会带来不便，因为所有其他方法都需要相同的帐户信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T05:06:53.450

一般来说，如果您使用大量静态方法，对您的代码进行单元测试会更加困难（人们认为使用类似 Mockito 的东西来模拟对象比使用类似[Powermock的东西来模拟静态方法更](https://code.google.com/p/mockito/)[容易](https://code.google.com/p/powermock/)）。

但是，如果您不关心这一点，并且该方法不使用它所在类的实例数据，那么您也可以将其设为静态。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T05:04:01.487

是的。

这是正确的方法，至少我遵循了这一点。

例如，实用程序方法应该是静态的。

但是，大多数情况下还有很多未来的需求和变化，我们今天无法预见所有这些。所以 instance 应该优先于`static`. 直到除非您遵循某种设计模式。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T05:07:18.933

因此，您可以使用任何类型的实现。但不是可能性，标准应该是要求。如果你有一些操作要在类范围内执行，你应该选择静态方法。例如，如果您必须为每个实例生成一些 uniqueID，或者您必须初始化实例将使用的任何东西，例如显示或 db-driver。在其他情况下，如果操作是特定于实例的，则首选实例方法。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-13T05:24:49.267

只有在对它们来说是静态的有意义时，才应该将方法设为静态。静态方法属于类而不属于它的特定实例。静态方法只能使用类的其他静态特性。例如，静态方法不能调用实例方法或访问实例变量。如果这对您正在设计的方法有意义，那么使用静态是个好主意。

此外，静态元素，无论是变量还是方法，都会在类加载时加载到内存中，并一直保留到执行结束或类加载器卸载/重新加载它所属的类时。

当静态方法用于执行不适合我的应用程序的一般面向对象建模的计算时，我会使用它们。通常实用方法，例如验证输入数据或保存特定于整个应用程序执行的信息，或访问外部数据库的方法是很好的候选者。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-13T06:53:26.933

据我所知，如果您有这样的代码或逻辑使用或产生与特定对象状态相关的东西，或者简单地说，如果您的侧方法中的逻辑处理具有不同输入集的不同对象并产生一些不同的一组输出，您需要将此方法作为实例方法。另一方面，如果您的方法具有每个对象通用的逻辑并且输入和输出不依赖于对象的状态，您应该将其声明为静态而不是实例。

```
Explaination with examples:

    Suppose you are organizing a college party and you have to provide a common coupon to the students of all departments,you just need to appoint a person for distributing a common coupon to students(without knowing about his/her department and roll no.) as he/she(person) approaches to the coupon counter. 
    Now think if you want to give the coupons with different serial numbers according to the departments and roll number of students, the person appointed by you need to get the department name and roll number of student(as input from each and every student)
    and according to his/her department and roll number he will create a separate coupon with unique serial number.

First case is an example where we need static method, if we take it as instance method unnecessary it will increase the burden.

Second case is an example of instance method, where you need to treat each student(in sense of object) separately. 
```

这个例子可能看起来很傻，但我希望它能帮助你清楚地理解差异。

# javascript - 在级联下拉列表所依赖的数组中间添加一个值

> ID：15377422
> 
> 赞同：1
> 
> 时间：2013-03-13T05:01:38.397
> 
> 标签：javascript, arrays, push, cascadingdropdown

我最终可能会拥有“Title 1E”。这带来了一个问题，因为下面的相应数组将要求我创建`["Title 1E", '8']`（我不想这样做）或为所有潜在的标题 1 创建占位符（即更改`["Title 2A", '100']`并创建空白标题 1 的 4-99），从而制作一个很长的菜单，里面装满了空行。

我会在`subsubmenu`

如果`submenu[0].push(4,1," "Title 1E", '4' ")`可行，我该如何将以下内容更改为`["Title 2A", '5']`

希望它有一些意义。我脑子里还不是很清楚。

```
(function() {
var submenu= [
        [   ["Title 1A", '0'],
            ["Title 1B", '1'],
            ["Title 1C", '2'],
            ["Title 1D", '3']
        ],

        [       ["Title 2A", '4'],
            ["Title 2B", '5'],
            ["Title 2C", '6'], 
            ["Title 2D", '7']  
        ],

];

//the Array below populates a sub-submenu when a selection is made above

var subsubmenu= [           

[   ["Issue 1A1", 'resonse1a1'],
        ["Issue 1A2", 'response1a2'],
        ["Issue 1A3", 'response1a3'],
        ["Issue 1A4", 'response1a4']
    ],

    [   ["Issue 1B1", 'resonse1b1'],
        ["Issue 1B2", 'resonse1b2'], 
        ["Issue 1B3", 'resonse1b3']
    ],

    [   ["Issue 1C1", 'resonse1c1']
    ],
        // etc...               
        ]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:36:54.647

您需要手动循环剩余项目并手动增加计数器。像这样

```
var submenu= [
        [   ["Title 1A", '0'],
            ["Title 1B", '1'],
            ["Title 1C", '2'],
            ["Title 1D", '3']
        ],

        [       ["Title 2A", '4'],
            ["Title 2B", '5'],
            ["Title 2C", '6'], 
            ["Title 2D", '7']  
        ],
];

var insert_at=0;
submenu[insert_at].push(["Title 1E", '4']);

// Since the item will be pushed at the last position in the corresponding array
// We need to increase the counter i.e. item at position 1 for all the following 
//items in the other arrays
for(i=insert_at+1;i<submenu.length;i++){
    for(j=0;j<submenu[i].length;j++){
        submenu[i][j][1]++;
    }
}

// Now display that to confirm that it works ok
for(i=insert_at+1;i<submenu.length;i++){
    for(j=0;j<submenu[i].length;j++){
        document.write(submenu[i][j]);
    }
} 
```

[在http://jsfiddle.net/gunjankarun/zCjY5/](http://jsfiddle.net/gunjankarun/zCjY5/)上查看

# cocos2d-iphone - cocos2d App优化内存使用：如何在cocos2d中管理大包？

> ID：15377423
> 
> 赞同：1
> 
> 时间：2013-03-13T05:01:54.507
> 
> 标签：cocos2d-iphone

我在购买类别时遇到了在 cocos2d 中下载大包内容的问题。

它是 100 MB。我必须完成下载才能使用此类别。

它包括：Spritesheet、背景、声音对象。每个类别有 20 个对象。

有没有人建议我一个想法？我不希望客户占用他们太多时间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:35:06.987

对于 iPhone 或 Mac？

检查这个：[Cocos2d 内存优化](http://www.learn-cocos2d.com/2012/11/optimize-memory-usage-bundle-size-cocos2d-app/)

这是我在我们的一款 cocos2d iPhone 游戏中提出的一些建议。

*   使用 Jpeg2000 图像格式作为背景图像：增加了加载时间..但减小了应用程序大小。

*   使用比特率 128 Kbps 的音频

*   使用 Texture Packer 创建 spriteSheet 并确保设置 NPOT 选项..默认情况下它的 POT。有关更多信息，请参见图像。

![在此处输入图像描述](../Images/c771a8124d7f73ce062f8bec14266c83.png)

# c++ - 使用 TCP 套接字设置目标端口

> ID：15377428
> 
> 赞同：0
> 
> 时间：2013-03-13T05:02:12.537
> 
> 标签：c++, tcp, network-programming

在非阻塞 TCP 套接字的源端口和目标端口不一致的情况下（对于 p2p 应用程序），如何指定套接字将 Connect() 连接到的目标端口？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:15:08.853

在 P2P 的情况下，客户端首先连接到 torrent 以获取对等点（种子）列表和对等点打开的端口号。然后，想要下载的系统将使用跟踪器提供的地址和端口连接到对等点。

对等点没有限制（通常）并接受来自任何源地址或 ip 的连接

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T08:36:34.837

在传递给 connect() 调用的 sockadder-struct 中指定连接的目标端口。由于您没有指定您正在使用哪个操作系统，因此很难提供具体示例。但是，对于 Linux 和 Windows，您通常会使用 getaddrinfo() 加载 sockaddr-struct。[这里](http://beej.us/guide/bgnet/output/html/multipage/getaddrinfoman.html)提供了一个不错的 Linux 示例，而 MS在其官方文档中有一个[示例。](http://msdn.microsoft.com/en-us/library/windows/desktop/ms738520%28v=vs.85%29.aspx)

# wpf - 在 WPF 应用程序中从资源中设置图像源

> ID：15377431
> 
> 赞同：12
> 
> 时间：2013-03-13T05:02:37.553
> 
> 标签：wpf, image, wpf-controls

谁能告诉我如何在 XAML 中将源设置为来自 Resource 的图像。目前我有

```
 <Image x:Name="img" Panel.ZIndex="1" Source="D:\Img100.jpg"  Stretch="Uniform"/> 
```

我希望图像源来自资源。

谢谢。

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2013-03-13T06:11:29.700

首先，您必须使用[BuildAction将图像包含在您的项目中](http://msdn.microsoft.com/en-us/library/0c6xyb66%28v=vs.80%29.aspx) `Resource`

然后你可以直接在你的图片中使用它

```
 <Image Source="Img100.jpg"/> 
```

或者制作一个可重用的图片资源

App.xaml（或其他资源字典）

```
<Application.Resources>
    <BitmapImage x:Key="myImage" UriSource="Img100.jpg" />
</Application.Resources> 
```

元素：

```
<Image Source="{StaticResource myImage}" /> 
```

# java - Javac 1.7 版无法为目标 1.7 构建

> ID：15377436
> 
> 赞同：3
> 
> 时间：2013-03-13T05:03:20.587
> 
> 标签：java, version, javac, target

我正在尝试在 Linux Mint 系统上使用 Sun Java JDK 1.7.0_17 编译 Java 代码，但我遇到了这个问题。

```
$ javac  -version -target 1.7 
javac 1.7.0_17
javac: invalid target release: 1.7 
```

-target 1.6 也不起作用。目标 1.5 有效，但我遇到了这样的版本问题，

```
$ javac  -version -target 1.5 HelloWorld.java 
javac 1.7.0_17
HelloWorld.java:2: cannot access java.lang.Object
bad class file: /usr/lib/jvm/jdk1.7.0_17/jre/lib/rt.jar(java/lang/Object.class)
class file has wrong version 51.0, should be 49.0
Please remove or make sure it appears in the correct subdirectory of the classpath.
class HelloWorldApp {
^
1 error 
```

在 sun java 目录之外的某个地方是否有可用的 java 目标列表？

我没有指定 ClassPath 或 Javahome，设置它们也无济于事。jcontrol 没有帮助。我也尝试过 1.7.0_15，结果相似。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-19T20:03:51.020

我追查了一个类似的问题，涉及 Ubuntu、Netbeans 和两个 JDK：openJDK 和 oracleJDK。有问题的（旧的和不相关的）文件最终位于 /usr/java/packages 并被简单地删除。

我收到：

```
# javac -version hello.java
javac 1.7.0_21
hello.java:3: cannot access java.lang.Object
bad class file: /usr/lib/jvm/java-7-oracle/jre/lib/rt.jar(java/lang/Object.class)
class file has wrong version 51.0, should be 49.0
Please remove or make sure it appears in the correct subdirectory of the classpath.
public class hello {
       ^
1 error 
```

更重要的是，我找到了有问题的文件：

```
# javac -verbose -version hello.java 
```

-verbose 选项列出类文件的搜索路径。

我在调查期间探索的其他领域包括：

*   环境变量 JAVA_HOME 的值`#echo $JAVA_HOME`
*   环境变量 PATH 的值`#echo $JAVA_HOME`
*   环境变量 CLASSPATH 的值`#echo $JAVA_HOME`
*   更新替代方案`#update-alternatives --config javac`
*   更新替代方案`#galternatives`
*   Netbeans 使用的 JDK 使用`netbeans_jdkhome=`开关设置在 /usr/local/netbeans-7.3/etc/netbeans.conf 中。请注意，此开关会覆盖 update-alternatives

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:21:08.733

我能够很好地编译一个文件。我 CD 到文件的目录，然后运行

```
javac -version -target 1.7 App.java 
```

（App.java 是文件名）。

我能够运行 javac -version 并返回：

```
javac 1.7.0_17 
```

很清楚它知道我使用的是哪个版本的 Java。

如果我运行你所做的：

```
javac -version -target 1.7 
```

如果我只运行 javac -version，我会得到完全相同的消息：

```
javac 1.7.0_17 
```

所以似乎运行 -version 和 -target 1.7 意味着 -target 1.7 被忽略。

我确实指定了 JAVA_HOME。

为什么你需要指定 -target 1.7 呢？如果您使用的是 1.7，那应该是默认设置。

在您的第一篇源代码帖子中，您的意思是说“javac HelloWorld.java”吗？因为那应该是我认为您想要运行的命令。不是“javac -version -target 1.7”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T06:40:51.840

更新：我重新安装了 Mint，问题就消失了。我应该说，这不是我的首选。

我还没有比较系统之间的差异。

谁能想到 1.7 编译器不会构建 1.7 代码？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-05-28T22:10:41.453

诊断：

您可以通过运行“mvn --version”查看 Maven 使用的 java 版本

Debian的解决方案：

mvn 脚本通过查找 javac ( ) 在内部设置 JAVA_HOME 环境变量`which javac`。因此，如果您同时安装了多个 java 版本，例如 JDK 6 和 JDK 7，并使用 Debian Alternatives 系统在它们之间进行选择，即使您将“java”的替代品更改为 JDK 7，mvn 仍将使用 JDK 6。您也必须更改“javac”的替代方案。例如：

```
# update-alternatives --set javac /usr/lib/jvm/java-7-openjdk-amd64/bin/javac 
```

# matlab - 如何在matlab中保存压缩图像

> ID：15377437
> 
> 赞同：1
> 
> 时间：2013-03-13T05:03:25.780
> 
> 标签：matlab

我正在使用奇异值分解技术进行图像压缩。我在 Matlab 中为它编写了代码。我压缩了一个文件大小为 8.15KB 的图像（255*255*3）。当我保存压缩图像（以 jpg 格式）时，它的文件大小超过了原始图像文件的大小。

```
B=imread('lena.jpg');

figure,
imshow(B), title( sprintf('size=%d',numel(B)) )  // displaying the original image

A=im2double(B);

A1=A(:,:,1);

A2=A(:,:,2);

A3=A(:,:,3);

tic;

// applying svd for each layer

[U1,S1,V1]=svd(A1);

[U2,S2,V2]=svd(A2);

[U3,S3,V3]=svd(A3);

// reconstuctin compressed image

p=100;

U1p=U1(:,1:p);

V1p=V1(:,1:p);

S1p=diag(S1(1:p,1:p));

C1=U1p * diag(S1p) * V1p';

C1=255*C1;

C1=uint8(C1);

U2p=U2(:,1:p);

V2p=V2(:,1:p);

S2p=diag(S2(1:p,1:p));

C2=U2p * diag(S2p) * V2p';

C2=255*C2;

C2=uint8(C2);

U3p=U3(:,1:p);

V3p=V3(:,1:p);

S3p=diag(S3(1:p,1:p));

C3=U3p * diag(S3p) * V3p';

C3=255*C3;

C3=uint8(C3);

Q(:,:,1)=C1;

Q(:,:,2)=C2;

Q(:,:,3)=C3;

// finding size and error of the compressed image

sz = (3*(numel(U1p) + numel(V1p) + numel(S1p)));  

err = mean( abs(B(:)-Q(:)) );

toc;
t=toc;

// displying the compressed image

figure,
imshow(Q)

title( sprintf('p=%d, size=%d,err=%d', p, sz,err) ); 
```

请帮助我如何保存压缩文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T08:56:29.200

正如 Lorem Ipsum 所说，您不是在保存压缩图像，而是在保存重建图像本身（Q 是重建图像）。因此，您的文件将与 8 位 .bmp 文件一样大...

而且即使只保存相关的奇异值和对应的向量，它也不应该小于 .jpg 格式的文件。[Jpeg](http://en.wikipedia.org/wiki/JPEG)已经被高度压缩，具有比 SVD 更好的技术......

# java - 正则表达式匹配除模式之外的任何内容

> ID：15377441
> 
> 赞同：0
> 
> 时间：2013-03-13T05:03:49.013
> 
> 标签：java, regex, regex-negation

我在这里用Java编码。

我知道匹配任何数字或字符串的正则表达式是

```
"(0|[1-9][0-9]*)(\\.[0-9]+)?|[a-zA-Z]+" 
```

但我想匹配除字母或数字之外的任何东西，即像这样的符号`!, @, +, -`

我试过做`[^.. ]`，但它不起作用。

例如，假设我想做相反的事情，即返回包含数字或字母或@字符串的字符串的所有部分，我会这样做

```
public ArrayList<String> findMatch(String string){
    ArrayList <String> outputArr = new ArrayList<String>();
    Pattern p = Pattern.compile("(0|[1-9][0-9]*)(\\.[0-9]+)?|[a-zA-Z]+|\\@");
    // recognizes number, string, and @
    Matcher m = p.matcher(string)
    while (m.find()) {
        outputArr.add(m.group());
    }
    return outputArr;
} 
```

假设我想找到上面代码的反面，我该如何更改第 3 行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T05:08:21.897

您可能只想使用这个：

```
\W+ 
```

这将匹配不是“单词字符”的任何字符的字符串，定义为：

```
[a-zA-Z0-9_] 
```

或“所有字母、数字和下划线”。如果要包含下划线，请尝试以下操作：

```
[\W_]+ 
```

或者，如果您希望明确说明：

```
[^A-Za-z0-9]+ 
```

这意味着“除了字母和数字之外的所有内容”。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T05:51:36.420

您可以使用的最简单的正则表达式模式是： [^\w]+ 这将匹配所有既不是数字也不是字母的特殊字符。希望这可以帮助。这是一个带有示例的示例正则[表达式测试](http://www.regextester.com/)器。你可以在这里测试你的正则表达式的正确性。希望这会帮助你。

从您提供的示例中，我理解的是，您想要除字母、数字和“@”之外的所有字符。

在正则表达式中**，'\w'**匹配任何字母（包括下划线）和任何数字。所以你需要否定这一点，以获得其他符号字符，如'$，#'等。

下面的表达式将解决您的问题 = **[^\w@]+**

**'^'**表示否定符号。这里**的 '^\w'**意思是“匹配除字母或数字以外的任何东西”。我还在表达式中添加了**“@”**符号，因为您也需要忽略它。

希望这能回答你的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T06:17:25.257

如果您可以提供更多详细信息，您的要求是什么？你期望什么？它将帮助我找出解决方案。您在查询中输入的内容看起来只想匹配特殊字符。我对吗？如果是这样，您可以尝试：

```
[^A-Za-z0-9][your quantifier here]  
quantifier can be:
? for 0 or 1 frequency
+ for >=1 frequency
* for >=0 frequency 
```

假设你有一个像这样的字符串

```
String s="shyuit6785%^7kui!@*&123f#$annds";

//And you want to find out the characters except alphabets and numerals . (I hope its your requirement)
 Pattern p = Pattern.compile("[^A-Za-z0-9@]+");
 Matcher m = p.matcher(s);
 while (m.find())
  {
   System.out.println("Found a required character " + m.group() + " at index number " +m.start());

  } 
```

# vb.net - 在 Visual Studio (2012) VB.net 项目中添加对 WorkBook 的引用

> ID：15377442
> 
> 赞同：0
> 
> 时间：2013-03-13T05:03:51.293
> 
> 标签：vb.net, visual-studio, ms-access, visual-studio-2012, excel-2010

我在 VS 2012 中有一个名为 T1 的解决方案。在它之下我有几个项目，主要是 VB。其中一个项目是 Excel 模板 (xltx)。我已经在解决方案中添加了对各种其他项目的引用（小心地），但是 Excel 项目没有出现在：添加引用 ==> 解决方案 ==> 项目中

有没有办法做到这一点？解决方案是一个 Excel 插件供参考。

除了我的所有其他项目（主要用于数据转换）之外，我还希望：打开一个 Excel 模板，从 Access 数据库向该模板添加值和工作表（工作表最好来自其他模板），保存带有日期名称的文件，并将其通过电子邮件发送到电子邮件地址列表（可能在 OutLook 中）。

我在这里特别失败：

```
Dim objWorkbook As Excel.Workbook = objApp.Workbooks.Open() 
```

我可以让它与本地文件的路径一起使用，但我似乎无法弄清楚如何引用我在解决方案中包含的模板。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-19T05:49:41.743

我不确定如何引用工作簿。但是要读取 Excel 文件，对我来说读取/写入 excel 的最佳方法是使用[NetOffice](http://netoffice.codeplex.com/)。您可以查看[文档](http://netoffice.codeplex.com/documentation)和[教程/代码](http://netoffice.codeplex.com/wikipage?title=Tutorials_Overview)以获取更多信息。读取单元格的代码示例是

```
using Excel = NetOffice.ExcelApi;

    public String GetCellValueFromSheetIndexCellID(int sheetIndex = 1, String cellID = "A1")
    {
        Excel.Application exApp = new Excel.Application();
        Excel.Workbook book = exApp.Workbooks.Open(this.path);
        Excel.Worksheet sheet = book.Worksheets[sheetIndex] as Excel.Worksheet;

        string returnVal = String.Empty;
        returnVal = GetRangeValue(sheet.Range(cellID));
        exApp.Quit();
        exApp.Dispose();
        return returnVal;
    } 
```

使用此库，您还可以编辑 Excel 文件。希望这会有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-22T21:42:51.253

我相信你必须做到以下几点：

```
Dim objWorkBook = Globals.Thisworkbook 
```

微软选择不让人们知道这一点。

或者您将需要执行以下操作：

```
Dim objWorkBook = ExApp.Workbooks.Open("full path to workbook") 
```

# c# - 从 SharePoint 以编程方式运行 Powershell 脚本文件

> ID：15377457
> 
> 赞同：0
> 
> 时间：2013-03-13T05:05:04.610
> 
> 标签：c#, sharepoint, powershell

我正在从我的 SharePoint 代码中以编程方式运行一个 powershell 脚本文件 (.ps1)。这是源代码：

```
using (new Impersonator("username", "domain", "password"))
{
  using (RunspaceInvoke invoker = new RunspaceInvoke())
  {
    invoker.Invoke("Set-ExecutionPolicy Unrestricted");
  }

  string cmdArg = String.Format(@"C:\Office2Pdf\officetopdf.ps1 {0} {1}", 
    DOWNLOAD_FILE_PATH, UPLOAD_FILE_PATH);

  Runspace runspace = RunspaceFactory.CreateRunspace();
  runspace.ApartmentState = System.Threading.ApartmentState.STA;
  runspace.ThreadOptions = PSThreadOptions.UseCurrentThread;
  runspace.Open();

  Pipeline pipeline = runspace.CreatePipeline();
  pipeline.Commands.AddScript(cmdArg);

  pipeline.Commands[0].MergeMyResults(
    PipelineResultTypes.Error, PipelineResultTypes.Output);

  Collection<PSObject> results = pipeline.Invoke();
  var error = pipeline.Error.ReadToEnd();
  runspace.Close();

  if (error.Count >= 1)
  {
    string errors = "";

    foreach (var Error in error)
      errors = errors + " " + Error.ToString();
  }
} 
```

我正在做的是

1.  从 SharePoint 文档库下载“.docx”文件
2.  调用运行可执行文件以将“.docx”转换为“.pdf”文件的 powershell 脚本
3.  将“.pdf”上传回 SharePoint 文档库

示例代码用于第二部分。它在控制台应用程序中完美运行，但在 SharePoint 解决方案中不起作用。错误是“对象未设置为对象的实例”。但是没有办法知道它指的是哪个对象。

**最终使用 SharePoint Word 自动化服务。效果很好。多谢你们。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T15:08:32.460

听起来好像没有看到文件。你用什么方法来获取文件？

它是网络路径吗？ webdav 协议`\\yoursite@ssl\davwwwroot\site\library\filename` 可以工作，但必须建立连接。

根据我使用 powershell 的经验，我必须保持会话处于登录状态，这很有效。一旦该会话结束，它就会断开该连接。

# apache - 我发现了一个问题，当我将 apache benchmark(ab) 与 http 一起使用时

> ID：15377460
> 
> 赞同：3
> 
> 时间：2013-03-13T05:05:15.187
> 
> 标签：apache, ssl, https

我发现一个问题，当我将 apache benchmark(ab) 与 http 一起使用时，它工作正常，但是当我使用 HTTPS 运行 ab 时，我收到错误“基准测试：SSL 读取失败 - 关闭连接”。任何想法如何解决

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-07-19T22:24:29.343

试试[Siege](http://www.joedog.org/siege-home/)，它类似于 ab，但它可以处理带有不可信证书的 https。

使用 Siege，您可以使用要测试的 URL 创建一个文件（`-f`选项），`-c`告诉有多少用户（并发）和`-t`多少时间（例如：`1M`一分钟，`2H`两个我们的）

```
siege -c 10 -t 1m -f file.txt 
```

如果你使用的是 Debian，你可以做一个`apt-get install siege`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-01-02T07:01:08.437

如果您使用的中间证书颁发机构（StartSSL 免费层）不受客户端信任并且您的 SSL 证书配置错误，也会发生这种情况。

您需要将中间 CA 的证书添加到您的网络服务器的 SSL 证书中，使其看起来像这样：

```
-----BEGIN CERTIFICATE-----
..YOUR CERT......
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
..INTERMEDIATE CA CERT......
-----END CERTIFICATE----- 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-07-14T12:07:06.627

这似乎是某些服务器上发生的错误：

[https://issues.apache.org/bugzilla/show_bug.cgi?id=49382](https://issues.apache.org/bugzilla/show_bug.cgi?id=49382)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-10T12:02:34.613

尝试在执行请求的机器中安装证书。

# mercurial - 将未版本控制的代码连接到 Mercurial 中的现有分支

> ID：15377462
> 
> 赞同：0
> 
> 时间：2013-03-13T05:05:22.143
> 
> 标签：mercurial, tortoisehg

我确实有一份没有 .hg 且未与存储库连接的代码副本。(v1.1)。代码实际上只是从 repo 中提取的，但是在开发过程中，.hg 文件被删除了，并且与 repo 断开了连接。

hg status 显示错误消息（未找到.hg）。

在存储库中它有 v1.0 代码，因为 v1.1 在 zip 文件中并且不与 repo 连接，我不确定如何将 v1.1 代码推送到存储库。我正在使用 kiln mercurial 存储库。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T08:27:29.380

我只需执行以下操作：

1.  重新克隆存储库
2.  `.hg`删除文件夹中除文件外的所有文件
3.  将 v1.1 文件复制到
4.  测试它是否可以编译和工作
5.  提交更改（包括删除和添加的文件）
6.  推

`.hg`这将为您提供一个在 v1.0 和 v1.1 之间只有一次提交的存储库，但如果您删除了该文件夹，这是您可以获得的最佳效果。

# iphone - 从日期数组中找出剩余天数

> ID：15377466
> 
> 赞同：-3
> 
> 时间：2013-03-13T05:05:38.163
> 
> 标签：iphone, ios, date, calendar

我有一个数组，如下所示

```
_combinedBirthdates(
"03/12/2013",
"03/12/2013",
"08/13/1990",
"12/09/1989",
"02/06",
"09/08",
"03/02/1990",
"08/22/1989",
"03/02",
"05/13",
"10/16",
"07/08",
"08/31/1990",
"04/14/1992",
"12/15/1905",
"08/14/1989",
"10/07/1987",
"07/25",
"07/17/1989",
"03/24/1987",
"07/28/1988",
"01/21/1990",
"10/13" 
```

)

这都是 NSString

我正在尝试从中创建新数组，其中包含剩余天数，如下所示

（特定生日的剩余天数）（我们将当前日期与上述日期数组进行比较，我们将找出剩余天数）_newarray（“125”，“100”，“65”，直到这样结束......）

我为此使用下面的代码

```
unsigned int unitFlags =  NSDayCalendarUnit;
NSCalendar *currCalendar = [[NSCalendar alloc]
                            initWithCalendarIdentifier:NSGregorianCalendar];

NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];

[dateFormatter setDateStyle:NSDateFormatterShortStyle];
NSLog(@" currCalendar%@",currCalendar);

NSMutableArray * _newarray = [[NSMutableArray alloc] init];
for (NSString * str in _combinedBirthdates){

    NSDate * toDate = [dateFormatter dateFromString:str];
    NSDateComponents *daysInfo = [currCalendar components:unitFlags fromDate:[NSDate date]  toDate:toDate  options:0];
    int days = [daysInfo day];
    [_newarray addObject:[NSString stringWithFormat:@"%d",days]];
}
NSLog(@" _newarray%@",_newarray); 
```

这就是我打印 _newarray 时得到的输出，请帮助我，谢谢

```
_newlymadeArray(
"-1",
"-1",
"-8248",
"-8495",
"-4454",
"-4454",
"-8412",
"-8604",
"-4454",
"-4454",
"-4454",
"-4454",
"-8230",
"-7638",
"-39170",
"-8612",
"-9289",
"-4454",
"-8640",
"-9486",
"-8994",
"-8452",
"-4454",
"-2072",
"-888",
"-8315"
) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:45:52.557

请尝试使用这个。我认为这个可以帮助你。

```
NSDateFormatter *tempFormatter = [[NSDateFormatter alloc]init];
    [tempFormatter setDateFormat:@"dd/MM/yyyy"];

    NSString *str = [tempFormatter stringFromDate:@"yourStartDate"];
    NSDate *startdate = [tempFormatter dateFromString:str];

    str = [tempFormatter stringFromDate:@"yourEndDate"];
    NSDate *endDate = [tempFormatter dateFromString:str];

    int i = [startdate timeIntervalSince1970];
    int j = [toDate timeIntervalSince1970];

    double X = j-i;

    int days=(int)((double)X/(3600.0*24.00)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:47:00.087

使用下面的代码比较两个日期以相同的格式传递两个日期

```
NSDateFormatter *dateformat = [[NSDateFormatter alloc]init];
[dateformat setDateFormat:@"dd/MM/yyyy"];
NSString *StrDate1 = [dateformat stringFromDate:[NSDate date]];
NSString *StrDate2 = [dateformat stringFromDate:date2];
NSDate *firstDate = [dateformat dateFromString:StrDate1];
NSDate *secondDate = [dateformat dateFromString:StrDate2];
NSTimeInterval lastDiff = [firstDate timeIntervalSinceNow];
NSTimeInterval todaysDiff = [secondDate timeIntervalSinceNow];
NSTimeInterval dateDiff = todaysDiff - lastDiff;
int day = dateDiff/(3600*24);

 // days are remaining 
```

在 for 循环中使用它，您将控制剩余的天数

# regex - POSIX正则表达式：排除表达式中的单词？

> ID：15377469
> 
> 赞同：9
> 
> 时间：2013-03-13T05:05:53.043
> 
> 标签：regex, regex-negation, negative-lookahead, posix-ere

我正在尝试使用可在 C 程序代码中使用的 POSIX（扩展）正则表达式创建正则表达式。

具体来说，我想出了以下内容，但是，我想在匹配的表达式中排除“http”这个词。经过一番搜索，POSIX 看起来并不明显可以捕获特定的字符串。我在下面的示例中使用了一种称为“负面观察”的东西（即**(?!http:)**）。但是，我担心这可能仅适用于 POSIX 以外的方言中定义的正则表达式。是否允许负前瞻？POSIX 中是否允许使用逻辑 NOT 运算符（即**!**）？

工作正则表达式示例：

`href|HREF|src[[:space:]]*=[[:space:]]*\"(?!http:)[^\"]+\"[/]`

如果我不能像在其他方言中那样使用否定前瞻，我可以对上面的正则表达式做些什么来过滤掉特定的单词“http:”？理想情况下，有没有什么方法没有逆逻辑并最终在这个过程中创建一个可笑的长正则表达式？（我上面的那个已经很长了，如果可能的话，我希望它看起来不会更混乱）

[注意：我已经咨询过 Stack Overflow 中的其他相关主题，但最相关的主题似乎只是“一般”地问这个问题，这意味着给出的答案并不一定意味着它们是 POSIX 风格的 ==> 在另一个或两个线程中，我已经看到了上面的 `(?!insertWordToExcludeHere)` 负面预测，但我担心它只适用于 PHP。）

[注 2：我也会采用任何 POSIX 正则表达式短语，我们将不胜感激。有没有人对过滤掉“http:”的正则表达式的外观以及它如何适合我当前的正则表达式提出建议，替换**(?!http:)**？]

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-13T05:11:35.907

根据[http://www.regular-expressions.info/refflavors.html](http://www.regular-expressions.info/refflavors.html)前瞻和后视不在 POSIX 风格中。

如果您的问题太复杂而无法清晰地表示为正则表达式，您可以考虑考虑词法分析（标记化）和解析。

# c# - 数据输入有效后TextBox上仍保留红色边框

> ID：15377474
> 
> 赞同：6
> 
> 时间：2013-03-13T05:06:39.343
> 
> 标签：c#, wpf

我正在使用 WPF、WPF 应用程序框架和 MahApps.Metro 编写应用程序。我为这样的数据输入窗口启用了验证：

```
<controls:MetroWindow x:Class="FinancePlus.Presentations.Views.CustomerView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="526"
             xmlns:controls="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
             xmlns:presentation="clr-namespace:System.Waf.Presentation;assembly=WpfApplicationFramework"
             presentation:ValidationHelper.IsEnabled="true" presentation:ValidationHelper.IsValid="{Binding IsValid, Mode=OneWayToSource}"
             Title="Customer Editor">
    <Window.Resources>
        <ResourceDictionary>            
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Colours.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Fonts.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Controls.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Accents/Green.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Accents/BaseLight.xaml" />
            </ResourceDictionary.MergedDictionaries>

        </ResourceDictionary>

    </Window.Resources>
    <Grid DataContext="{Binding Customer}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
        <Grid.Resources>
            <Style TargetType="GroupBox">
                <Setter Property="Margin" Value="10,5"></Setter>
            </Style>
        </Grid.Resources>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <DockPanel Grid.Column="0">
            <GroupBox Header="Personal Information" DockPanel.Dock="Top">
                <Grid HorizontalAlignment="Stretch" VerticalAlignment="Top">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <Label Content="Title:" Grid.Column="0" Grid.Row="0"  Margin="3" VerticalAlignment="Center" />
                    <TextBox Grid.Column="1" Grid.Row="0" Height="23"  Margin="3" Name="titleTextBox" 
                             Text="{Binding Path=Title, Mode=TwoWay, ValidatesOnExceptions=true, NotifyOnValidationError=true, ValidatesOnDataErrors=True}" 
                             VerticalAlignment="Center" MinWidth="120" />
                    <Label Content="Full Name:" Grid.Column="0" Grid.Row="1"  Margin="3" VerticalAlignment="Center" />
                    <TextBox Grid.Column="1" Grid.Row="1" Height="23"  Margin="3" Name="fullNameTextBox" 
                             Text="{Binding Path=FullName, Mode=TwoWay, ValidatesOnExceptions=true, NotifyOnValidationError=true, ValidatesOnDataErrors=True}" 
                             VerticalAlignment="Center" MinWidth="120" />
                    <Label Content="Name With Initials:" Grid.Column="0" Grid.Row="2"  Margin="3" VerticalAlignment="Center" />
                    <TextBox Grid.Column="1" Grid.Row="2" Height="23"  Margin="4" Name="nameWithInitialsTextBox" 
                             Text="{Binding Path=NameWithInitials, Mode=TwoWay, ValidatesOnExceptions=true, NotifyOnValidationError=true, ValidatesOnDataErrors=True}" 
                             VerticalAlignment="Center" MinWidth="120" />
                    <Label Content="Civil Status:" Grid.Column="0" Grid.Row="3"  Margin="3" VerticalAlignment="Center" />
                    <ComboBox DisplayMemberPath="CivilStatus" Grid.Column="1" Grid.Row="3" Height="23"  
                      ItemsSource="{Binding}" Margin="3" Name="civilStatusComboBox" VerticalAlignment="Center" MinWidth="120" HorizontalAlignment="Stretch">
                        <ComboBox.ItemsPanel>
                            <ItemsPanelTemplate>
                                <VirtualizingStackPanel />
                            </ItemsPanelTemplate>
                        </ComboBox.ItemsPanel>
                    </ComboBox>
                    <Label Content="Date Of Birth:" Grid.Column="0" Grid.Row="4"  Margin="3" VerticalAlignment="Center" />
                    <DatePicker Grid.Column="1" Grid.Row="4" Height="25"  Margin="3" Name="dateOfBirthDatePicker" HorizontalAlignment="Right"
                        SelectedDate="{Binding Path=DateOfBirth, Mode=TwoWay, ValidatesOnExceptions=true, NotifyOnValidationError=true}" VerticalAlignment="Center" Width="115" />                    
                    <Label Content="Id Number:" Grid.Column="0" Grid.Row="5"  Margin="3" VerticalAlignment="Center" />
                    <TextBox Grid.Column="1" Grid.Row="5" Height="23"  Margin="3" Name="idNumberTextBox" 
                             Text="{Binding Path=IdNumber, Mode=TwoWay, ValidatesOnExceptions=true, NotifyOnValidationError=true, ValidatesOnDataErrors=True}" 
                             VerticalAlignment="Center" MinWidth="120" />                    
                    <Label Content="Profession:" Grid.Column="0" Grid.Row="6"  Margin="3" VerticalAlignment="Center" />
                    <TextBox Grid.Column="1" Grid.Row="6" Height="23"  Margin="3" Name="professionTextBox" 
                             Text="{Binding Path=Profession, Mode=TwoWay, ValidatesOnExceptions=true, NotifyOnValidationError=true, ValidatesOnDataErrors=True}" 
                             VerticalAlignment="Center" MinWidth="120" />                    
                </Grid>
            </GroupBox>

..... More code. 
```

结果如下所示：

![在此处输入图像描述](../Images/14f7f078f21c09221c86b27c7aef0c37.png)

看起来不错。`TextBox`问题是即使我为红色边框输入有效值仍然存在。就像您可以在此处看到的标题和全名`TextBox`es 一样。如何去除这个残留的红色边框？它来自哪里？

![在此处输入图像描述](../Images/0f1369125fd5c5cf2e354d4410344958.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:38:22.123

我以前遇到过这种情况，当它发生在我身上时，我不得不在`initialize`and期间执行数据更改`ContentRendered`。因为我有这些项目实际绑定。

我不久前在 Stack Overflow 上看到的另一件事是这里发生的一个问题，它也导致了类似的事情。

```
<Setter Property="Validation.ErrorTemplate">
    <Setter.Value>
        <ControlTemplate>
            <ControlTemplate.Resources>
                <BooleanToVisibilityConverter x:Key="converter" />
        </ControlTemplate.Resources>
            <DockPanel LastChildFill="True">
                <Border 
                    BorderThickness="1"
                    BorderBrush="Red"
                    Visibility="{Binding ElementName=placeholder, Mode=OneWay, Path=AdornedElement.IsVisible, Converter={StaticResource converter}}">
                    <AdornedElementPlaceholder x:Name="placeholder" />
                </Border>
             </DockPanel>
         </ControlTemplate>
    </Setter.Value>
</Setter> 
```

那是我的遭遇，如果这没有帮助，我将尝试重新创建问题并修复。看看我能不能更好地帮助你，然后描述我是如何修复它的。但希望这两个建议中的一个可以帮助你。

只是让我知道，希望它有帮助。

# javascript - Hogan 在预编译模式下不支持 lambda

> ID：15377481
> 
> 赞同：3
> 
> 时间：2013-03-13T05:07:01.120
> 
> 标签：javascript, lambda, mustache, precompiled, hogan.js

我有一个带有 lambda 的小胡子模板，如下所示：

```
{{#myfunc}}myvalue{{/myfunc}} 
```

它由 hogan.js 预编译，如下所示：

```
define(['hogan'], 
function (Hogan) {
    var template = new Hogan.Template(function (c, p, i) {
        var _ = this;
        _.b(i = i || "");
        if (_.s(_.f("myfunc", c, p, 1), c, p, 0, 11, 18, "{{ }}")) {
            _.rs(c, p, function (c, p, _) {
                _.b("myvalue");
            });
            c.pop();
        }
        return _.fl();;
    });
    return function (context, partial, indent) {
        return template.render(context, partial, indent);
    };
}); 
```

我使用 Marionette.ItemView 渲染模板，将 lambda 函数传递给 Backbone.Model，如下所示：

```
myfunc: function (key) { console.log("key", key); } 
```

奇怪的是：函数 myfunc 将被调用并记录到控制台，但模板没有传递密钥。我读到 Hogan 在预编译模式下不支持 Lambda（大约一年前 - 我想这是固定的） - 但如果是这样，它是如何发生的，那 myfunc 被调用了吗？

我在我的 vendor/hogan.js 库中进行了一些调试 - 看起来 hogan 无法看到 lambda-tags 之间的值（这里：myvalue）。

有人见过这个吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-07-02T09:03:14.320

**我的调查**：只有在使用 grunt 插件（如 grunt-hogan 或 grunt-templates-hogan）时才会出现问题。如果在脚本中渲染内联之前编译模板，`Hogan.compile()`则问题已解决。

我在 github 上创建了一个小项目，因为 jsfiddle 不允许使用 grunt 并将其链接到问题[https://github.com/twitter/hogan.js/issues/225](https://github.com/twitter/hogan.js/issues/225)。

项目：[https ://github.com/ssuvorov/hogan-issue](https://github.com/ssuvorov/hogan-issue)

我的解决方案是用必要的对象字段替换 lambda。我的意思是在渲染之前准备好包含所有必要信息的数据。

# jquery - Jquery 复选框目标 id 的唯一一个

> ID：15377482
> 
> 赞同：1
> 
> 时间：2013-03-13T05:07:11.110
> 
> 标签：jquery, checkbox, prop

```
$(document).ready(function (){
$(function(){
    $('input:checkbox').prop('checked', false)
    $('input:checkbox').click(function(){
        if($(this).is(':checked')){
            $('input:checkbox').not(this).prop('checked', false);        
        }
    });
})
showdiv();

}); 
```

* * *

上面的代码很棒！首先，它使所有复选框“未选中”，然后它使一次只能选中“一个”复选框！

但是......我也需要它只影响下面的三个复选框！不是页面上的所有复选框！！！猜猜我不知道如何让它只针对 id 的 co33、co34、co35 ..

```
<input name="option[13]" id="co33" value="33" checked="checked" onclick="showdiv()" type="radio"> 
<input name="option[14]" id="co34" value="34" checked="checked" onclick="showdiv()" type="radio">  
<input name="option[15]" id="co35" value="35" checked="checked" onclick="showdiv()" type="radio"> 
```

进而！！！...如果其中一个被选中，那么这第四个复选框也会被选中！！如果以上三个都没有检查，那么这个也没有检查！

```
<input id="a1" type="checkbox" onclick="showdiv()" name="add[1]"> 
```

伙计，我希望结果是正确的.. html 是自动创建的，所以我不能让它们都具有相同的 id 或添加一个类，所以我想看看我是否可以通过 id 名称来定位它们。坦率地说，即使只是能够制作最初发布的仅影响 3 个复选框的代码会很棒。如果选中了三个复选框中的一个，则检查第 4 个复选框是一个奖励！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:24:46.980

您正在将收音机与复选框混合在一起。您还将 DOM 就绪事件包装在 DOM 就绪事件中。干得好：

```
$(function(){
    $('input:checkbox').prop('checked', false);
    $('input:radio').prop('checked', false).filter(function(e){
        return (this.id == 'co33' ||
                this.id == 'co34' ||
                this.id == 'co35');
    }).on('click', function(){
        if($(this).is(':checked')){
            $('input:radio').not(this).prop('checked', false);
            $('#a1').prop('checked', true);
        }        
    });
    showdiv(); 
}); 
```

演示：http: [//jsfiddle.net/qUtQb/](http://jsfiddle.net/qUtQb/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:16:35.290

您可以使用属性选择器按名称定位它们，它不是非常有效，但它会工作并且可能工作得很好。只需将所有`$('input:checkbox')`s 更改为：

```
$('input[name="option[13]"], input[name="option[14]"], input[name="option[15]"]') 
```

在点击处理程序的末尾（在 if 之外），执行以下操作：

```
$('#a1').prop(
    "checked",
    $('input[name="option[13]"], input[name="option[14]"], input[name="option[15]"]')
       .is(':checked')
); 
```

编辑：实际上，我只是注意到感兴趣组上的 ID，点击它们会更快（并且打字更少）。使用选择器：

```
$('#co33, #co34, #co35') 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T05:19:22.830

你的问题就像

“但是......我也需要它只影响下面的三个复选框！不是页面上的所有复选框！！！我猜我不知道如何让它只针对 id 的 co33、co34、co35 ..”

```
<input name="option[13]" id="co33" value="33" checked="checked" onclick="showdiv()" type="radio"> 
<input name="option[14]" id="co34" value="34" checked="checked" onclick="showdiv()" type="radio">  
<input name="option[15]" id="co35" value="35" checked="checked" onclick="showdiv()" type="radio"> 
```

并且您现在有上面的 HTML 标记，如它们定义的那样，`HTML`它们是 radio not `checkbox`。

所以试试

```
$('input:radio').attr('checked', false)
$('input:radio').click(function(){
    if($(this).is(':checked')){
        $('input:radio').not(this).attr('checked', false);        
    }
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T05:31:38.970

尝试类似的东西

```
$(function(){
    var radios = $('input:radio[name^=option]').prop('checked', false)
    radios.click(function(){
        if($(this).is(':checked')){
            $('input:radio[name^=option]').not(this).prop('checked', false);        
        }

        $('#a1').prop('checked', radios.is(':checked'))
    });

    showdiv();
}); 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/HDVUb/1/)

# c# - 用 LAME 播放 MP3

> ID：15377486
> 
> 赞同：2
> 
> 时间：2013-03-13T05:07:54.907
> 
> 标签：c#, mp3, decode, lame

我正在考虑制作一个桌面音乐播放器，可能是 C#（还不确定），为了支持 MP3，我想使用 LAME 出于各种质量和其他原因。我习惯于用 Java 编码，因此只使用 Java 库和 Java，不太了解如何使用 LAME 在我的程序中播放 MP3。

我已经在命令行上使用 lame.exe 将 MP3 解码为 WAV（`lame.exe --decode "filename.mp3")` 但不知道如何使用 LAME 播放 MP3，也不知道如何在程序中播放（即不使用命令行）。

我必须使用 C 才能使用 LAME 库吗？

我还必须在播放前先解码 MP3 吗？

# date-format - 使用 Google Charts 和 Epoch 格式化日期

> ID：15377493
> 
> 赞同：1
> 
> 时间：2013-03-13T05:08:24.973
> 
> 标签：date-format, google-visualization, epoch, timezone-offset

我有一个纪元 1362873600，我只关心日期部分，而不是时间。

我的目标是：03/10/13

我正在执行以下操作：

```
var dateFormatter = new google.visualization.DateFormat({formatType: 'short'});
dateFormatter.formatValue(epochValue); 
```

我已经尝试将 epochValue 作为字符串和 int。

两者都产生：对象 1362873600 没有方法 'getTimezoneOffset'

是否有一个选项我可以用来忽略时区部分？formatValue 期望有什么 getTimezoneOffset 方法？[文档](https://developers.google.com/chart/interactive/docs/reference#formatters)只是说“价值” 。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:14:40.897

看起来像是`formatValue`在期待一个`Date`对象。如果您知道时代，则可以构建一个`new Date(epoch)`。创建该对象后，您应该能够将其传递给`formatValue`并获得您期望的值。

```
var dateFormatter = new google.visualization.DateFormat({formatType: 'short'});
var result = dateFormatter.formatValue(new Date(epochValue)); 
```

# node.js - 猫鼬 - 'save' 方法不存在

> ID：15377495
> 
> 赞同：3
> 
> 时间：2013-03-13T05:08:32.900
> 
> 标签：node.js, mongodb, mongoose

考虑在 MongooseJS 上运行的 mongodb 集合。

## 示例代码：

```
Person.where('uid').equals(19524121).select('name').exec(function(err, data){
     // Here I can get the data correctly in an array.
     console.log(JSON.stringify(data)); 
     data[0].name = "try to save me now"; // Select the first item in the array
     data[0].save(); // Object #<Promise> has no method 'save'.
} 
```

## 错误 - 似乎无法找到解决此问题的方法。

> 对象#<Promise> 没有“保存”方法；

我对为什么会发生这种情况感到有些困惑，并且我进行了很多研究，但似乎无法找到直接的答案。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-13T05:17:05.633

a 的结果`find`是一个记录数组。您可能打算像这样遍历这些记录：

```
Person.find({ uid: /19524121/ }).select('name').exec(function(err, data){
  for(var i = 0; i < data.length; i++) {
     var myData = new Person(data[i]);
     myData.name = "try to save me now";
     myData.save(); // It works now!
  }
} 
```

此外，从[猫鼬主页](http://mongoosejs.com/docs/index.html)看来，函数回调原型是`function(err, data)`，而不是相反，您在上面更正了。

从主页看这个：

```
var fluffy = new Kitten({ name: 'fluffy' }); 
```

如果`data[0]`当前有一个常规的 JSON 对象，我们需要这样的一行来转换为 BSON 模型对象。

```
var myData = new Person(data[0]); 
```

# html - 三栏布局难题，这次没有页眉和页脚

> ID：15377498
> 
> 赞同：0
> 
> 时间：2013-03-13T05:08:40.343
> 
> 标签：html, css, layout, semantics, strict

我知道这是 Web 1.0 新手问题之一，但是，唉，我可以自己问这个问题。我做的网站不需要这种布局，现在正在考虑为朋友做一个三列布局，固定宽度的中心列......没有页眉或页脚框元素的扭曲和stip所有三列都在高度方面拉伸以适应查看它们的任何屏幕的大小。

进一步加剧这个问题的是，`body`它将只有一种颜色或背景图像，而中心列将有自己的背景颜色或图像。

从视觉上看，页面布局是这样的：

```
+----------+---------------+----------+
|nothing   |only content   |nothing   |
|here      |will be here   |here      |
|just the  |w/a different  |just the  |
|body b/g  |background     |body b/g  |
|color or  |color or       |color or  |
|image     |image          |image     |
|          |               |          |
|          |all 3 columns  |          |
|          |always fill    |          |
|          |screen height  |          |
+----------+---------------+----------+ 
```

我已经阅读了一些反对绝对定位的有趣论据（Adobe 论坛），这些论据显然与人造列和其他绝对/相对定位相冲突。理想情况下，我想用花车来完成这一切，但我不确定实现这一目标的最有效方法。到目前为止，我还没有尝试过任何事情，因为这只是落在了我的腿上。再一次，我知道这是基本的，但是当我开始使用一种 B/G 颜色和居中元素的网站时，我会想，“为什么这么难？”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:45:14.190

不确定您是否打算让中间部分比侧栏更宽 - 如果您这样做，您会希望它比 33.3% 更宽。

对于身高，你想要：

```
 html, body {
      height: 100%;
    } 
```

然后确保您的中央 div 是

```
 position: relative;
  height: 100%;
  margin: 0 auto; 
```

在这里查看小提琴[http://jsfiddle.net/mWqwD/](http://jsfiddle.net/mWqwD/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:20:02.360

在中心列上设置一个宽度并给出它`margin: auto`。这会在块级元素的两侧应用相等的边距。

**CSS**

```
#center {
    width: 33.33%;
    margin: auto;
} 
```

# php - 我可以在创建 pdf 时减少加载时间吗？

> ID：15377500
> 
> 赞同：1
> 
> 时间：2013-03-13T05:09:08.793
> 
> 标签：php, tcpdf

我用 tcpdf 创建了一个 PDF 文件。

对于较少的数据，它可以正常工作并且不需要花费太多时间来加载，但是如果我写入更多数据，则需要一两分钟才能加载。

有什么解决办法吗？

我的文件仅包含文本、文本上的一些颜色和少量图像 - 仅此而已。仍然需要更多时间来加载。

* * *

我正在这样做：

```
$pdf->writeHTMLCell($w=0, $h=0, $x='', $y='', $html, $border=0, $ln=1, $fill=0, $reseth=true, $align='', $autopadding=true);
$pdf->Output();
exit(); 
```

我找到了[http://www.tcpdf.org/performances.php](http://www.tcpdf.org/performances.php) - 也许我必须实现 xcache？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-11T20:10:11.330

我也遇到了这个问题，它与我的代码没有任何关系。我运行的是 Ubuntu Linux，一个 32 位版本的操作系统。

我重新安装并切换到 64 位版本，生成时间从 1 到 2 分钟下降到 5 到 10 秒。巨大的差异。

# android-layout - Android v7 网格布局

> ID：15377503
> 
> 赞同：2
> 
> 时间：2013-03-13T05:09:20.993
> 
> 标签：android-layout, android-widget

当我将 v7 GridLayout 放入线性布局时，我不断收到此错误：

为标签 android.support.v7.widget.GridLayout 找到了意外的命名空间前缀“xmlns”

如果我在线性或相对布局中没有 GridLayout，那么它可以正常工作，但我必须在某种布局中使用 GridLayout，这样滚动才能工作，但我不断收到上述错误？

有人知道防止这种情况在布局中发生吗？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-17T17:49:51.267

我认为这是 Lint 的一个已知问题：[http](http://code.google.com/p/android/issues/detail?id=52831) ://code.google.com/p/android/issues/detail?id=52831 。

只需将 tools:ignore="MissingPrefix" 添加到 Gridlayout 项：

```
<android.support.v7.widget.GridLayout
...
tools:ignore="MissingPrefix"> 
```

为了能够使用此命名空间，请确保将其包含在根标记中：

```
xmlns:tools="http://schemas.android.com/tools" 
```

# javascript - javascript 的 src 属性中的 `//` 有什么作用？

> ID：15377505
> 
> 赞同：9
> 
> 时间：2013-03-13T05:09:32.757
> 
> 标签：javascript, html, facebook, unix, src

我正在使用 Facebook 的 javascript sdk，它有双斜杠。他们的意思是什么？

`<script src="//connect.facebook.net/en_US/all.js"></script>`

我知道一个单一的`/`手段根目录，但什么是`//`？那是告诉源使用`http://`然后是路径吗？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-13T05:12:55.080

这是一个“协议相关”的链接。它使用 http 或 https，具体取决于用于加载当前页面的内容。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T05:12:43.737

如果您的页面使用 https 提供服务，它会使其与协议无关：它使用 https 发出请求：

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T05:12:36.297

请在这些链接中找到详细信息，这解释了为什么我们需要双斜杠

[http://paulirish.com/2010/the-protocol-relative-url/](http://paulirish.com/2010/the-protocol-relative-url/)

[javascript开头的双斜杠包括](https://stackoverflow.com/questions/6350244/double-slash-at-beginning-of-javascript-include)

# jquery - CSS3/jQuery 翻转动画

> ID：15377506
> 
> 赞同：0
> 
> 时间：2013-03-13T05:09:40.777
> 
> 标签：jquery, css, html, animation

我在这个网站上看到了一个非常优雅整洁的动画：

[http://adam.co/](http://adam.co/)

注意“我喜欢让伟大的想法发生”是如何进入视野的。我试图弄清楚如何做到这一点。

有人可以指导我如何为我的网站产生类似的效果吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T21:16:41.133

没有库等它相当简单。它几乎可以用 css3 完成。

在页面加载时应用“加载”类或其他东西，并定义一个动画来为宽度（或 scaleX）和背景位置设置动画。

```
@-webkit-keyframes flip-in {
    0%{
         background-position: 5px -80px;
        -webkit-transform:scaleX(0);
    }
    50% {
         background-position: 5px -80px;
        -webkit-transform:scaleX(1);
    }
    100% {
         background-position: 5px 5px;
    }        
}
.loaded #text-block {
    -webkit-animation-name: flip-in;
    -webkit-animation-duration: 0.75s;
    -webkit-animation-timing-function: ease-in-out;
} 
```

看一下（我只放了 webkit 样式作为例子，所以使用 chrome 或 safari）：

[http://jsfiddle.net/adamco/gUju4/](http://jsfiddle.net/adamco/gUju4/)

交错效果也很简单。您可以重复使用相同的动画，并为每个动画增加一点持续时间。

[http://jsfiddle.net/adamco/NGL4u/](http://jsfiddle.net/adamco/NGL4u/)

# facebook - 如何在 Android 中获取 Facebook 好友年龄

> ID：15377511
> 
> 赞同：7
> 
> 时间：2013-03-13T05:09:50.587
> 
> 标签：facebook, facebook-graph-api, facebook-fql

我正在编写一个应用程序，我在其中**获取 facebook 好友列表以及他们的姓名、个人资料照片和生日**，以获取我正在使用以下查询：

```
String query = "SELECT name, birthday, uid, pic_square FROM user WHERE uid IN (SELECT uid2 FROM friend WHERE uid1=me()) ORDER BY birthday_date ASC"; 
```

我已经给了这些**权限**：

```
String[] facebook_permissions = { "user_photos", "user_birthday",
        "friends_birthday", "friends_photos", "read_stream",
        "offline_access" }; 
```

但现在我也**想显示**我的 facebook 朋友的年龄，我想我应该使用

```
 age_range 
```

我也试图通过使用以下查询来获取 facebook 朋友的年龄，但我**得到 null 代替年龄**：

```
 String query = "SELECT name, birthday, uid, pic_square, age_range FROM user WHERE uid IN (SELECT uid2 FROM friend WHERE uid1=me()) ORDER BY birthday_date ASC"; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T06:55:27.550

年龄范围不是一个人的年龄，而是，正如[facebook 文档](https://developers.facebook.com/docs/reference/api/user/)所说：

> 包含年龄范围的最小值和最大值；可能的年龄范围是 13-17、18-20 和 21+；如果年龄为 21 岁以上，则不设置 max

你为什么不计算老朋友使用生日和今天的日期？这可以使用本机日历以非常简单的方式完成。

我建议你也使用新的 facebook API。

# objective-c - Cocos2d 项目中的评分系统

> ID：15377519
> 
> 赞同：0
> 
> 时间：2013-03-13T05:10:27.343
> 
> 标签：objective-c, cocos2d-iphone

我有一个游戏，用户收集不同类型的对象和一开始值为 0 的标签。每次用户收集一个对象（通过触摸它）它应该使分数 = 当前分数 + 1；我已尝试使用以下代码，但是当我单击该对象时它会崩溃。

这是我的分数标签的代码，它在屏幕上显示 0：

```
score = 0;
scoreLabel1 = [CCLabelTTF labelWithString:@"0" fontName:@"Times New Roman" fontSize:33];
scoreLabel1.position = ccp(240, 160);
[self addChild:scoreLabel1 z:1]; 
```

这是我每次触摸对象时调用的 void 函数：

```
- (void) addScore
{
    score = score + 1;
    [scoreLabel1 setString:[NSString stringWithFormat:@"%@", score]];
} 
```

这是我放置用于触摸对象的代码的实际部分：

```
-(void) ccTouchesBegan:(NSSet *)touches withEvent:(UIEvent *)event
{
    [self ccTouchesMoved:touches withEvent:event];

UITouch *touch = [touches anyObject];
CGPoint location = [touch locationInView:[touch view]];
location = [[CCDirector sharedDirector] convertToGL:location];

for (Apple in self.appleArray)
{
    if (CGRectContainsPoint(Apple.boundingBox, location))
    {
        [self addScore]; 
        Apple.visible = NO;            
    }
} 
```

除了分数，其他一切都有效。还有一种方法可以让苹果消失，而不是让 apple.visible = false 让它不可见？因为这样苹果仍然存在但不可见，我想摆脱它。

希望有人可以提供帮助！

如果您有任何问题，请告诉我。

谢谢。

这是我画苹果的地方：

```
 -(id) init
    {
        // always call "super" init
        // Apple recommends to re-assign "self" with the "super's" return value

    if( (self=[super init]) ) {
    isTouchEnabled_ = YES;
    self.appleArray = [CCArray arrayWithCapacity:20];

        for (int i = 0; i < 5; i++) {

            Apple = [CCSprite spriteWithFile:@"Apple4.png"];
            [self addChild:Apple];
            [appleArray addObject:Apple];
        }
     [Apple removeFromParentAndCleanup:true];
     [self scheduleUpdate];

     }
     return self;
} 
```

这是屏幕更新的地方：

```
-(void) update: (ccTime) dt
{
for (int i = 0; i < 5; i++) {

    Apple = ((CCSprite *)[appleArray objectAtIndex:i]);
    if (Apple.position.y > -250) {
        Apple.position = ccp(Apple.position.x, Apple.position.y - (Apple.tag*dt));
    }
} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:16:01.370

这里有几件事。在 setScore 中，您的格式被破坏并会导致崩溃（%@ 需要 NSObject*）。尝试：

```
[scoreLabel1 setString:[NSString stringWithFormat:@"%i", score]]; 
```

此外，你的 for 循环的语法很奇怪。尝试

```
for (Apple *anyApple in self.appleArray)
{
    if (CGRectContainsPoint(anyApple.boundingBox, location))
    {
        if (anyApple.visible) {
            [self addScore]; 
            anyApple.visible = NO; 
        }           
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T07:16:13.010

```
score = score + 1;
[scoreLabel1 setString:[NSString stringWithFormat:@"%@", score]]; 
```

请阅读：[字符串格式说明符](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/Strings/Articles/formatSpecifiers.html)

**%@** - Objective-C 对象，如果可用，则打印为返回的字符串`descriptionWithLocale:`，否则打印为描述。也适用于`CFTypeRef`对象，返回`CFCopyDescription`函数的结果。

如果 your`score`是一个对象，则不能以这种方式“增加”它的值。如果它是 int 或 float，则说明您使用了错误的格式说明符。

# vim - 当使用插件 cvim 时，\if 会插入一个带有注释的函数。但格式不对

> ID：15377524
> 
> 赞同：0
> 
> 时间：2013-03-13T05:11:01.383
> 
> 标签：vim

好吧，正如标题所说。以下是我的 c++ 源代码中现在的样子：

```
 1 
  2 /*                                  
  3 * ===  FUNCTION  =============================================================
  4 *         Name:  sample_function    
  5 *  Description:
  6     * =============================================================================
  7     */
  8     void sample_function ( <+argument_list+> )                                                                                                                       
  9     {
 10         return <+return_value+>;
 11     }       /* -----  end of function sample_function  ----- */ 
```

当我查找 c-support/templates/cpp.idioms.template 或 c-support/templates/c.idioms.template 时，一切都是正确的。

似乎在插入模板代码时，vim会自行重新格式化。

有谁能够帮我？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T07:41:29.800

自动缩进会干扰模板的插入方式。您应该将此问题报告给插件的作者。

您可以通过关闭缩进来临时解决该问题；根据您的缩进设置之一：

```
:set nocindent noautoindent nosmartindent indentexpr= 
```

# node.js - 如何使用来自安全网络的 nodejs 连接到 gitHub api？

> ID：15377526
> 
> 赞同：3
> 
> 时间：2013-03-13T05:11:12.943
> 
> 标签：node.js

我正在使用以下代码从 gitHub 获取存储库。当我从家庭网络使用它时，我可以检索存储库列表，但是如果我尝试从其他网络获取存储库，它会给我这个错误：'connect ECONNREFUSED'。我是nodejs的新手，所以仍然想知道如何解决这个问题。

有任何想法吗？

```
var https = require("https");
var userName='xyz';
var options = {
host :"api.github.com",
path : '/users/'+userName+'/repos',
method : 'GET'
}

var request = https.request(options, function(response){
var body = '';
response.on('data',function(chunk){
    body+=chunk;
});
response.on('end',function(){
    var json = JSON.parse(body);
    var repos =[];
    json.forEach(function(repo){
        repos.push({
            name : repo.name,
            description : repo.description
        });
    });
    console.log('the repos are  '+ JSON.stringify(repos));
});

});
request.on('error', function(e) {
console.error('and the error is '+e);
});
request.end(); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-05-10T11:01:42.800

我想这样可以

```
var options = {

host:'api.github.com',

path: '/users/' + username+ '/repos',

method: 'GET',

headers: {'User-Agent':'Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0)'}

}; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-02-14T08:55:54.727

将您的选项更改为

```
var options = {

host:'api.github.com',

path: '/users/' + username+ '/repos',

method: 'GET',

headers: {'user-agent':'Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0)'}

}; 
```

# android - 无法将 Intent 添加到 ArrayAdapter 内的 Google 地图

> ID：15377529
> 
> 赞同：1
> 
> 时间：2013-03-13T05:11:22.660
> 
> 标签：android, android-intent, android-arrayadapter

我有一个代码列表，其中的项目是对某物的引用并有一个地址。我需要这样做，以便当单击该列表的任何项目时，应该启动与 rowitem 的地址相对应的 Google Maps Navigation。顺便说一句，地址在行中不可见，地址是从中获取行信息的对象。我已经尝试了代码：-

```
rowview.setOnClickListener(new View.OnClickListener() 
    {
        public void onClick(View v) 
        {
            //Intent intent = new Intent(context,);
            //Toast.makeText(context, "Yeah Boy", Toast.LENGTH_SHORT).show();
            LatLng tmp = objects.get(position).location;
            String uri = "http://maps.google.com/maps?saddr=" + location.getLatitude()+","+location.getLongitude()+"&daddr="+tmp.latitude+","+tmp.longitude;  
            Intent intent = new Intent(android.content.Intent.ACTION_VIEW, Uri.parse(uri));
            intent.setClassName("com.google.android.apps.maps", "com.google.android.maps.MapsActivity");
            context.startActivity(intent);
        }
    });
    return rowview; 
```

但这似乎不起作用。我有这个错误： -

```
android.util.AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want? 
```

谁能帮我这个。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:19:01.917

> 构造函数 Intent(int, Uri) 未定义

`setFlag`使用方法设置标志。

```
Intent intent = new Intent(android.content.Intent.ACTION_VIEW, Uri.parse(uri));
intent.setClassName("com.google.android.apps.maps", "com.google.android.maps.MapsActivity");
intent.setFlag(Intent.FLAG_ACTIVITY_NEW_TASK);
context.startActivity(intent); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T05:19:29.827

试试看：

```
Intent intent = new Intent();
intent.setAction(Intent.ACTION_VIEW);
String uri = "Your URI String ";
intent.setData(Uri.parse(uri));
intent.setClassName("com.google.android.apps.maps", 
                 "com.google.android.maps.MapsActivity");
intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
context.startActivity(intent); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T05:26:20.170

我不知道变量“上下文”中的上下文是什么。

如果您的代码包含在活动中，而不是“上下文”尝试

ActivityClass.this.startActivity(intent);

# mysql - “MUL”是可接受的“主键”吗？

> ID：15377533
> 
> 赞同：0
> 
> 时间：2013-03-13T05:11:40.367
> 
> 标签：mysql, ruby-on-rails, ruby, database, ruby-on-rails-3

我正在尝试使用`ActiveUUID`gem 使我的`Survey`表的主键成为 UUID。(MySQL)

即使我有`:primary_key => true`它仍然`MUL`出于某种原因将其设置为？这是预期的吗？

移民：

```
class CreateSurveys < ActiveRecord::Migration
  def change
    create_table :surveys, :id => false do |t|
      t.references :employee, :null => false

      t.uuid :id, :primary_key => true
      t.datetime :expired_at

      t.timestamps
    end
    add_index :surveys, :id
  end
end 
```

模型：survey.rb

```
class Survey < ActiveRecord::Base

  include ActiveUUID::UUID

  belongs_to :employee

  validates :employee, :presence => true  

end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:48:16.813

我找到了答案。我需要删除`add_index :surveys, :id`. 显然主键已经被索引。那解决了它

# java - 为什么java中没有使用指针概念？

> ID：15377534
> 
> 赞同：0
> 
> 时间：2013-03-13T05:11:42.473
> 
> 标签：java

正如我们所知，在c/c++中存在指针概念，指针概念是一个非常好的概念。那么，为什么java开发人员删除它，如果我们不能在java中使用它的优缺点是什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:15:12.910

默认情况下，托管语言中禁止使用指针以允许内存管理不透明 - 例如，如果没有指针，您可以使用压缩垃圾收集器将对象更靠近在一起以释放更大的可用空间块并提高缓存一致性。但是如果有指针，那么每个指针要么需要更新，要么每次垃圾回收都有效，这是不可行的。

（这当然只是一个原因 :) 但是一个例子说明允许指针如何彻底改变你的编程语言可以做的事情）

在某些托管语言（如 C#）中，您可以声明`unsafe {}`块，您可以在其中使用非托管内存和指针，但仅限于此。

# java - 将 Twitter API 添加到我的应用程序

> ID：15377535
> 
> 赞同：2
> 
> 时间：2013-03-13T05:11:43.487
> 
> 标签：java, android, twitter

我希望能够将 Twitter 时间线添加到我的应用程序中，并允许用户更新他/她的状态。问题是我不知道如何进入登录屏幕。我尝试在网上搜索，但他们的所有内容都已过时，我想开发 4.0+ 版本。

这是我到目前为止所拥有的：代码似乎根本不起作用，因为我将它用于 Android > 4.0 的 Android 应用程序，因此它无法使用 15 或更高版本的 SDK 进行编译。这一次我使用的是[Twitter4J](http://twitter4j.org/en/index.html)库，并且文件都已更新。

```
package com.shirwa.texthero.fragments;

import android.app.Activity;
import android.content.Intent;
import android.content.SharedPreferences;
import android.os.Bundle;
import android.preference.PreferenceManager;
import android.util.Log;
import android.view.Menu;
import android.view.MenuInflater;
import android.view.MenuItem;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.EditText;
import android.widget.Toast;

import com.shirwa.texthero.R;

public class TwitterTab extends Activity implements OnClickListener {

    static final String TAG = "MyTwitter";

    TwitterTab twitter;
    SharedPreferences prefs;

    Button buttonUpdate;
    Button buttonPrefs;
    EditText textStatus;

    @Override
    public void onClick(View src) {
        String status = textStatus.getText().toString();

        Log.d(TAG, "Clicked on " + status);

        // Toast
        Toast.makeText(this, textStatus.getText(), Toast.LENGTH_LONG).show();

        // set twitter status
        twitter.updateStatus(status);

        // reset status string
        textStatus.setText("");
    }

    /** Called when the activity is first created. */
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        // find views by id
        buttonUpdate = (Button) findViewById(R.id.buttonUpdate);
        textStatus = (EditText) findViewById(R.id.textStatus);

        // Add listener
        buttonUpdate.setOnClickListener(this);

        // Initialize twitter
        prefs = PreferenceManager.getDefaultSharedPreferences(this);
        String username = prefs.getString("username", "n/a");
        String password = prefs.getString("password", "n/a");
        if (username != null && password != null) {
            twitter = new Twitter(username, password);
        }
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        MenuInflater inflater = getMenuInflater();
        inflater.inflate(R.menu.menu, menu);
        return true;
    }

    // Called when menu item is selected //
    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        switch (item.getItemId()) {
        case R.id.menuPrefs:
            // Launch Prefs activity
            Intent i = new Intent(TwitterTab.this, Prefs.class);
            startActivity(i);
            Log.d(TAG, "MenuPrefs starting Prefs");
            Toast.makeText(TwitterTab.this, textStatus.getText(),
                    Toast.LENGTH_LONG).show();
            break;
        }
        return true;
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T05:56:45.130

*在开始之前，让我先说，我通常不发布链接，只发布答案。作为初学者，我可能已经这样做了，但几乎没有了。除非帖子是合法有效的，没有链接就无法完整回答。*

要开始通过您的应用程序登录 Twitter，这里有一个很棒的小教程，可以帮助您入门：

[Android Twitter oAuth Connect 教程](http://www.androidhive.info/2012/09/android-twitter-oauth-connect-tutorial/)以及登录后发布状态更新。

您还可以查看托管在 GitHub 上的示例[T4JTwitterLogin](https://github.com/ppierson/T4JTwitterLogin)。这是使用您的应用程序登录 Twitter 并发布状态更新的另一个示例。

至于奖金好东西（嗯，实际上只是一个）。一旦您对完整开发的 Android 有点熟悉，或者当您可以开始解读其他开发人员的代码时，这里有一个功能齐全[的用于 Twitter 的 Android 应用程序，](https://github.com/chrislacy/TweetLanes)它是开源的，可在[Google Play 商店](https://play.google.com/store/apps/details?id=com.tweetlanes.android)中获得，并且相当受欢迎.

这是 GitHub 上使用关键字 Android 和 twitter4J 的搜索结果的链接：[https ://github.com/search?q=android+twitter4j&type=Repositories&s=updated](https://github.com/search?q=android+twitter4j&type=Repositories&s=updated)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T07:05:31.333

我在我的应用程序中开发了**TWITTER**。它工作成功..这是[链接](http://www.androidhive.info/2012/09/android-twitter-oauth-connect-tutorial/)

您可以为您的应用程序开发。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T05:57:28.347

首先，您必须验证您的应用程序，这将需要 2 个密钥（这将在您的应用程序注册期间由 twitter 提供给您）。

其次，你需要使用Oauth进行身份验证，你可以谷歌它，（单独尝试）。

第三，处理回调并处理所需的响应。 [以此作为参考](http://blog.tarams.com/index.php/2012/twitter-integration-with-android-app-using-oauth/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T05:19:24.980

您在那里实际使用的 API 是什么？

没有为 android 构建的官方 twitter SDK，只有他们的 REST API。为此，我个人可以推荐库“Scribe”来处理与 twitter 的集成。它可以处理 REST API 中指定的身份验证、发布和任何其他功能。

[https://github.com/fernandezpablo85/scribe-java](https://github.com/fernandezpablo85/scribe-java) [https://dev.twitter.com/docs/api/1.1](https://dev.twitter.com/docs/api/1.1)

# android - Android EditText/TextView 高度调整问题

> ID：15377536
> 
> 赞同：2
> 
> 时间：2013-03-13T05:11:58.060
> 
> 标签：android, resize, textview, android-edittext

我在一些设备上遇到了我的 EditText 的问题。我有几个 EditText 在活动中。此外，我可以选择让用户调整字体大小。当用户选择一个大字体，然后又回到一个较小的字体时，EditText 的小部件的高度不会缩小以适应较小的字体（额外的填充）。我只在少数设备上观察到了这种行为；大多数工作都很好。有什么建议吗？我发现这一点，[Resizing TextView does not shrink its height on Android 3.1](https://stackoverflow.com/questions/6986384/resizing-textview-does-not-shrink-its-height-on-android-3-1)，我认为这可能是相关的，但添加建议的转义码似乎没有帮助。谢谢！

添加：

```
 <LinearLayout
        android:id="@+id/linearLayout_message"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:layout_gravity="center_horizontal"
        android:focusableInTouchMode="true"
        android:descendantFocusability="beforeDescendants"
        android:background="@drawable/yellow" >

        <EditText
            android:id="@+id/editText_title"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginBottom="0dp"
            android:layout_marginLeft="8dp"
            android:layout_marginRight="8dp"
            android:layout_marginTop="4dp"
            android:minWidth="@dimen/add_note_min_width"
            android:textSize="18dip"
            android:background="#fa0"
            android:ems="10"
            android:hint="@string/title"
            android:inputType="text"
            android:textStyle="bold" />

        <EditText
            android:id="@+id/editText_body"
            android:layout_width="wrap_content"
            android:layout_height="0dp"
            android:layout_weight="1"
            android:layout_marginBottom="16dp"
            android:layout_marginLeft="8dp"
            android:layout_marginRight="8dp"
            android:layout_marginTop="0dp"
            android:gravity="top"
            android:minWidth="@dimen/add_note_min_width"
            android:minHeight="@dimen/add_note_min_height"
            android:textSize="18dip"
            android:background="#af0"
            android:ems="10"
            android:hint="@string/body"
            android:inputType="textMultiLine" />
    </LinearLayout> 
```

这是相关代码的 xml。正如我上面所说，我已尝试按照提供的链接中的建议将 \u3000、\u2060 和 \u200b 转义字符添加到文本的末尾（独立地）。另外，我将底部的 EditText 设置为 1 的布局权重，以尝试占用标题 EditText 下方的额外填充。我曾考虑尝试手动测量并调整 EditText 的大小，但这似乎很棘手，尤其是因为这只影响少数设备。这似乎是 Android 的一个实际错误，但我无法确认或找到解决方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T04:04:43.907

我终于解决了这个问题。正如我链接的另一篇文章中所建议的，一种解决方法是将“\u3000”、“\u2060”或“\u200b”附加到视图的文本中。这适用于 TextViews，但我的 EditText 使用提示时，特殊字符也必须附加到提示中（我只是附加到文本中）。希望这对其他人有帮助。

# google-app-engine - 在 Capedwarf Beta 3 中部署 Vosao

> ID：15377540
> 
> 赞同：0
> 
> 时间：2013-03-13T05:12:30.960
> 
> 标签：google-app-engine, capedwarf

尝试在 Capedwarf Beta 3 中部署 Vosao 时遇到很多错误：

这是完整的日志：

[http://pastebin.com/2z35pEvE](http://pastebin.com/2z35pEvE)

*   java.lang.LinkageError：无法从本地模块加载器链接 org/apache/velocity/tools/view/jsp/VelocityViewTag（模块“org.apache.velocity.tools:main”

看起来 CD 找不到 Apache Velocity 依赖项？

无论如何，我仍然尝试访问上下文根：

```
http://127.0.0.1:9990/vosaocms-0.9.14 
```

和

```
http://127.0.0.1:9990/vosaocms-0.9.14/vosaocms 
```

我想部署中确实存在问题。

我该如何解决这个错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T09:04:58.233

你在你的应用程序中使用 Velocity 吗？

我会说是的，因为它看起来与 CapeDwarf 的 Velocity 用法重叠——我们用它来渲染管理控制台。

尝试删除 Velocity 库。

但我也会在 CapeDwarf 中解决这个问题，所以这两个库不会重叠。留给你自己的 Velocity 版本。

# django - 从 AbstractUser 继承的模型不散列密码字段

> ID：15377544
> 
> 赞同：13
> 
> 时间：2013-03-13T05:12:47.240
> 
> 标签：django, django-models, django-forms, django-admin, django-views

我有一个继承自 AbstractUser 的模型，如下所示：

```
class Driver(AbstractUser):
  dni = models.CharField(max_length=8,validators=[validate_dni],unique=True)
  license = models.CharField(max_length=9,unique=True)
  birthday = models.DateField()
  sex = models.CharField(max_length=1, choices=SEX_CHOICES)
  creation_date = models.DateField(auto_now = True) 
```

据此：[https ://docs.djangoproject.com/en/dev/topics/auth/customizing/](https://docs.djangoproject.com/en/dev/topics/auth/customizing/)

> 如果您对 Django 的 User 模型完全满意并且只想添加一些额外的配置文件信息，您可以简单地继承 django.contrib.auth.models.AbstractUser 并添加您的自定义配置文件字段。此类提供默认用户的完整实现作为抽象模型。

但是，在我的管理员视图中，密码字段是一个简单的文本输入，密码保存为原始文本。我可以尝试使用 AbstractBaseUser 但首先我需要澄清这个问题。我从 Django 开始，所以我是一个小新手。

谢谢。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2017-12-21T07:05:34.670

您不必实际定义自己的函数。您只需要使用`UserAdmin`从类中注册它`django.contrib.auth.admin`，它就可以开箱即用。

明确地，在您的 admin.py 文件中确保您具有以下内容：

```
from django.contrib.auth.admin import UserAdmin
admin.site.register(CustomUserModel, UserAdmin) 
```

如果您的模型上有其他自定义字段，上述注册方式将使它们不会显示在管理员中。在这种情况下，您可以通过使您的自定义 Admin 类从该类继承来使其工作，`UserAdmin`如下所示：

```
from django.contrib import admin
from django.contrib.auth.admin import UserAdmin

@admin.register(CustomUserModel)
class CustomUserModelAdmin(UserAdmin):
    ... 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-13T05:30:04.113

您需要定义一个函数来散列该密码。我认为您直接将其保存到数据库中。

```
class MyForm(forms.ModelForm):
    ............
    def save(self, commit=True):
        # Save the provided password in hashed format
        user = super(MyForm, self).save(commit=False)
        user.set_password(self.cleaned_data["password"])
        if commit:
            user.save()
        return user 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2021-02-26T07:55:21.910

程序 djnago >=3.0

模型.py

```
from django.db import models
from django.contrib.auth.models import AbstractUser

    YEAR_IN_SCHOOL_CHOICES = [('1', '1 class'),('2', '2 class'),('3', '3 class'),('4', '4 class'),('5', '5 class'),('6', '6 class'),('7', '7 class'),('8', '8 class'),('9', '9 class'),('10', '10th class'),]

    class User(AbstractUser):
        type = models.CharField(max_length=256, choices=(('1','Student'), ('2','Professor'), ('3','lower_staf')), default='1')  

    class Student(models.Model):
        user = models.OneToOneField(User, on_delete=models.CASCADE, primary_key=True )
        gender = models.BooleanField(choices=((1,'Male'), (2,'Female'), (3,'Trans')), 

        def __str__(self):
            return '{}'.format(self.user) 
```

管理员.py

```
from django.contrib import admin
from.models import User, Student
from django.contrib.auth.admin import UserAdmin

class CustomUserAdmin(UserAdmin):

    fieldsets = UserAdmin.fieldsets + ((None, {'fields': ('type',)}),)
    add_fieldsets = UserAdmin.add_fieldsets + ((None, {'fields': ('type',)}),)

class Student_admin(admin.ModelAdmin):
    pass

admin.site.register(User, CustomUserAdmin)
admin.site.register(Student, Student_admin) 
```

# eclipse - 日食警告

> ID：15377547
> 
> 赞同：0
> 
> 时间：2013-03-13T05:13:01.803
> 
> 标签：eclipse, file-io, warnings

我收到以下警告

```
Null passed for nonnull parameter of new java.util.Scanner(Readable) in     
  model.WordCount.getFile(File). 
```

为什么我会得到这个，我该如何摆脱这个警告？这是方法：

```
 /**
   * Receives and parses input file.
   * 
   * @param the_file The file to be processed.
   */
  public void getFile(final File the_file) {
    FileReader fr = null;
    try {
      fr = new FileReader(the_file);
    } catch (final FileNotFoundException e) {
      e.printStackTrace();
    }
    Scanner input = null;
    String word;
    input = new Scanner(fr);
    while (input.hasNext()) {
      word = input.next();
      word = word.toLowerCase().
          replaceAll("\\.|\\!|\\,|\\'|\\\"|\\?|\\-|\\(|\\)|\\*|\\$|\\#|\\&|\\~|\\;|\\:", "");
      my_first.add(word);
      setCounter(getCounter() + 1);
    }
    input.close();
  } 
```

我必须将其初始化`FileReader`为 null 以避免错误。这就是触发警告的原因。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T06:16:35.583

如果线

```
fr = new FileReader(the_file); 
```

抛出异常，然后`fr`保持 null 并且绝对不会在 Scanner 中工作。这就是警告的内容。

它基本上告诉您打印异常的堆栈跟踪不是正确的错误处理。相反，您应该考虑在出现早期异常的情况下退出该方法。或者，您可能希望将异常处理块放置在方法的所有代码周围，而不仅仅是围绕那一行。然后警告也会消失，因为异常会导致方法中不再执行任何代码。

# facebook - 用于登录的 Facebook JS SDK 与 PHP SDK

> ID：15377551
> 
> 赞同：4
> 
> 时间：2013-03-13T05:13:26.293
> 
> 标签：facebook, facebook-javascript-sdk, facebook-php-sdk

大多数网络应用程序是否使用 Facebook 的 PHP SDK 或 Javascript SDK 来处理登录？

我从他们的文档中不清楚为什么我会使用更复杂的 PHP SDK？它是否让我有更多的自由来自定义登录体验等？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-14T08:43:45.990

*   **安全**性：两者都是安全的。PHP-SDK 更安全。
*   **UX**：Js-SDK 登录最受赞赏，但当浏览器的弹出窗口阻止程序阻止登录弹出窗口时，会提供糟糕的 UX。
*   如果在客户端**禁用了 Javascript**，您将不得不处理它。
*   无论如何，一旦用户登录，您将在服务器端处理数据，除非您只是显示数据而不是存储它们。
*   PHP-SDK 登录比 Js-SDK 更容易实现，我说这是“事件处理和回调函数”的主要原因。**如果您正在实施 Js-SDK Login ，您应该对“事件处理和回调函数”有相当的了解**。
*   在 PHP-SDK 的情况下，您和 Facebook 完全可以控制登录流程。但是在 Js-SDK 的情况下，用户可以使用登录流程并且您无法阻止他们。

现在决定由你来做...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T10:00:26.590

> 我从他们的文档中不清楚为什么我会使用更复杂的 PHP SDK？它是否让我有更多的自由来自定义登录体验等？

所谓的*客户端*登录流程和*服务器端*登录流程存在一些基本差异。

例如，服务器端流程已经返回了一个有效期为 60 天的用户访问令牌，而作为客户端，它是短暂的（2 小时），如果要使用另一个服务器端调用，则必须对其进行扩展使用时间更长。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T05:16:08.973

登录由 facebook 处理。在 php SDK 中，您可以使用 AccessToken 做您想做的事情。我更喜欢 PHP SDK，因为您的代码在您身边，而客户端只能看到输出。另一方面，使用 javascript，“负载权重”在客户端。

# mysql - mysql或sql中有多少种join

> ID：15377552
> 
> 赞同：1
> 
> 时间：2013-03-13T05:13:32.163
> 
> 标签：mysql, sql, join, left-join, right-join

我听说有 3 种类型的连接

我不确定确切的名字。谷歌搜索出现了各种术语，例如：

> 交叉连接、左连接、右连接、内连接、外连接、自连接......

谁能告诉我 MySQL 中总共有多少个连接。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-13T05:19:32.227

连接是

```
1\. Inner Join or Equi join
2\. Self Join
2\. Outer Join
   outer join is again classified into
   a) Left Outer Join
   b) Right Outer Join
   c) Full Outer Join
3\. Cross join 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-13T05:17:14.510

请参阅 SQL 连接：

> JOIN 关键字在 SQL 语句中用于根据这些表中某些列之间的关系从两个或多个表中查询数据。
> 
> 数据库中的表通常通过键相互关联。
> 
> 主键是每行具有唯一值的列（或列组合）。每个主键值在表中必须是唯一的。目的是将数据绑定在一起，跨表，而不是重复每个表中的所有数据。
> 
> 不同的 SQL JOIN
> 
> 1.  JOIN：当两个表中至少有一个匹配时返回行
> 2.  LEFT JOIN：返回左表的所有行，即使右表没有匹配
> 3.  RIGHT JOIN：返回右表中的所有行，即使左表中没有匹配项
> 4.  FULL JOIN：当其中一个表中存在匹配时返回行

[http://w3schools.com/sql/sql_join.asp](http://w3schools.com/sql/sql_join.asp)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T05:24:27.927

**MySql [13.2.9.2。加入语法](http://dev.mysql.com/doc/refman/5.6/en/join.html)**

```
join_table:
    table_reference [INNER | CROSS] JOIN table_factor [join_condition]
  | table_reference STRAIGHT_JOIN table_factor
  | table_reference STRAIGHT_JOIN table_factor ON conditional_expr
  | table_reference {LEFT|RIGHT} [OUTER] JOIN table_reference join_condition
  | table_reference NATURAL [{LEFT|RIGHT} [OUTER]] JOIN table_factor 
```

**SQL Server [FROM (Transact-SQL)](http://msdn.microsoft.com/en-us/library/ms177634%28v=sql.105%29.aspx)**

```
<joined_table> ::= 
{
    <table_source> <join_type> <table_source> ON <search_condition> 
    | <table_source> CROSS JOIN <table_source> 
    | left_table_source { CROSS | OUTER } APPLY right_table_source 
    | [ ( ] <joined_table> [ ) ] 
}
<join_type> ::= 
    [ { INNER | { { LEFT | RIGHT | FULL } [ OUTER ] } } [ <join_hint> ] ]
    JOIN 
```

# android - edittext中的横向模式边框图像不起作用

> ID：15377556
> 
> 赞同：0
> 
> 时间：2013-03-13T05:14:13.597
> 
> 标签：android, layout

你可以参考[这段](http://wptrafficanalyzer.in/blog/changing-background-color-and-border-color-of-an-edittext-widget-using-state-list-in-android/)代码。

编辑文本的边框颜色设置为某种颜色。在肖像模式下工作正常。为什么我在横向模式下看不到相同的颜色/图像？？在横向模式下，软键打开然后编辑文本颜色变为红色（默认）..我在哪里可以找到红色边框可缩放图像？有什么想法吗？？

下面是我的布局文件

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <EditText
        android:id="@+id/edit1"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="@string/edit1_text"
        android:inputType="text"
        android:background="@drawable/edit_text"

        />

    <EditText
        android:id="@+id/edit2"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="@string/edit2_text"
        android:inputType="text"   
        android:background="@drawable/edit_text"

        />

</LinearLayout> 
```

这是@drawable/edit_text 文件代码

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item 
        android:state_window_focused="false"
        android:state_enabled="true"
        android:drawable="@drawable/textfield_default" />     
    <item 
        android:state_window_focused="false" 
        android:state_enabled="false"
        android:drawable="@drawable/textfield_disabled" />
    <item 
        android:state_pressed="true" 
        android:drawable="@drawable/textfield_pressed" />
    <item 
        android:state_enabled="true" 
        android:state_focused="true" 
        android:drawable="@drawable/textfield_selected" />     
    <item 
        android:state_enabled="true" 
        android:drawable="@drawable/textfield_default" />    
    <item 
        android:state_focused="true" 
        android:drawable="@drawable/textfield_disabled_selected" />    
    <item 
        android:drawable="@drawable/textfield_disabled" /> 
</selector> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T06:53:44.143

@Mr.Singh - 当我在我的设备中执行你的代码时，即使在横向模式下我也会编辑文本边框。请检查....

# macos - iphone 模拟器符号未找到：___CFObjCIsCollectable

> ID：15377557
> 
> 赞同：1
> 
> 时间：2013-03-13T05:14:17.900
> 
> 标签：macos, system

详细内容如下：

> 加载/System/Library/Extensions/AudioIPCDriver.kext/Contents/Resources/AudioIPCPlugIn.bundle/Contents/MacOS/AudioIPCPlugIn 时出错：dlopen（/System/Library/Extensions/AudioIPCDriver.kext/Contents/Resources/AudioIPCPlugIn.bundle/Contents/ MacOS/AudioIPCPlugIn，262）：找不到符号：___CFObjCIsCollectable 引用自：/System/Library/Frameworks/Security.framework/Versions/A/Security 预期在：/Applications/Xcode45-DP1.app/Contents/Developer/Platforms/iPhoneSimulator .platform/Developer/SDKs/iPhoneSimulator5.0.sdk/System/Library/Frameworks/CoreFoundation.framework/CoreFoundation 在/System/Library/Frameworks/Security.framework/Versions/A/Security

**我的条件**

我的 mac os 上有三个 xcode 版本。我有 xcode4.3.1、xcode4.5-DP1 和 xcode4.6。当我第一次运行我的应用程序时，一切正常，并且播放了音频文件。然后我更改了xcode版本并运行了我的应用程序，问题就出现了。

**我的解决方案**

我已经搜索了很多方法来试图找到问题的原因。比如这个[链接](http://www.gulumiao.com/blog/2012/08/%E8%A7%A3%E5%86%B3gamecentergamekithelper%E6%8E%88%E6%9D%83%E6%8A%A5%E9%94%99%E7%9A%84%E9%97%AE%E9%A2%98/)和lldb命令中显示的方式，但是没有用。

**我的结论**

也许是我更改xcode版本时在模拟器上加载跳板的错误，但我不知道如何恢复到其他xcode版本。或者它可能不是模拟器。如果有人知道解决方案，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T04:26:02.677

可能是我找到了解决办法。当我删除了xcode4.5DP和xcode 4.3.1，然后重新启动系统，我的应用程序又可以正常播放音频了。

# hibernate - 休眠审计跟踪反对用户操作？

> ID：15377560
> 
> 赞同：0
> 
> 时间：2013-03-13T05:14:32.007
> 
> 标签：hibernate, audit-trail

我们有 requiremnet 记录每个用户操作和由于此操作而修改的字段。审计日志是使用休眠拦截器实现的

为了在休眠拦截器中获得用户操作，最好的方法是什么

# shared-memory - 使用信号量进行矩阵乘法

> ID：15377562
> 
> 赞同：0
> 
> 时间：2013-03-13T05:14:39.463
> 
> 标签：shared-memory, semaphore, matrix-multiplication

当进程处理不同的行时，我是否需要信号量来使用多个进程同步矩阵乘法中的进程。它还会创造种族规则吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:16:18.880

如果不同的线程处理不同的行，那么两个线程访问同一个内存位置不应该有任何危险，所以不应该担心竞争条件。

# c# - 将实例方法传递给线程

> ID：15377567
> 
> 赞同：0
> 
> 时间：2013-03-13T05:15:12.873
> 
> 标签：c#, multithreading, methods, instance

我想同时从另一个类运行两个方法。显然，下面的代码将不起作用。我怎么能做这样的事情？

```
Node node = new Node();
EHNode ehnode = new EHNode();

Thread normalNode = new Thread(node.RunNode());
Thread ehNode = new Thread(ehnode.RunNode());

normalNode.Start();
ehNode.Start(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:38:21.313

这将有助于：

```
Node node = new Node();
EHNode ehnode = new EHNode();

Thread normalNode = new Thread(new ThreadStart(node.RunNode));
Thread ehNode = new Thread(new ThreadStart(ehnode.RunNode));

normalNode.Start();
ehNode.Start(); 
```

# android - 类型不匹配：无法从 Object 转换为 JSONObject

> ID：15377572
> 
> 赞同：0
> 
> 时间：2013-03-13T05:15:43.573
> 
> 标签：android, json

我对 Android 开发比较陌生，正在编写我的第一个基于 REST 的应用程序。我选择使用[Android Asynchronous HTTP Client](http://loopj.com/android-async-http/)让事情变得更简单一些。我目前正在浏览该链接上的主要“推荐用法”部分，基本上只是创建一个基本的静态 HTTP 客户端。我正在遵循给出的代码，但将其更改为引用不同的 API。这是有问题的代码：

```
 public void getFactualResults() throws JSONException {
    FactualRestClient.get("q=Coffee,Los Angeles", null, new JsonHttpResponseHandler() {
        @Override
        public void onSuccess(JSONArray venues) {
            // Pull out the first restaurant from the returned search results
            JSONObject firstVenue = venues.get(0);
            String venueName = firstVenue.getString("name");

            // Do something with the response
            System.out.println(venueName);

        }
    });
} 
```

该`String venueName = firstVenue.getString("name");`行当前在 Eclipse 中引发错误：“类型不匹配：无法从 Object 转换为 JSONObject”。为什么会出现这个错误？我搜索了其他线程，这些线程导致我尝试使用`getJSONObject(0)`而不是，`get(0)`但这导致了进一步的错误，并且 Eclipse 建议使用 try/catch。我没有更改教程中的任何代码，除了变量名和 URL。有什么想法/提示/建议吗？

非常感谢。

编辑：

这是 onSuccess 方法，经过修改以包含建议的 try/catch 块。Eclipse 现在在此处显示 firstVenue 的“局部变量可能尚未初始化”：`venueName = firstVenue.getString("name");`和此处的场地名称：`System.out.println(venueName);` 即使我在仍然收到相同的错误`String venueName;`后直接初始化。`JSONObject firstVenue;`解决这些问题的任何帮助将不胜感激！

```
public void onSuccess(JSONArray venues) {
            // Pull out the first restaurant from the returned search results
            JSONObject firstVenue;
            try {
                firstVenue = venues.getJSONObject(0);
            } catch (JSONException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            String venueName;
            try {
                venueName = firstVenue.getString("name");
            } catch (JSONException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            // Do something with the response
            System.out.println(venueName);

        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:32:16.787

您可以尝试将从查询中获得的对象转换为字符串，然后使用

最终 JSONObject jsonObject = new JSONObject(stringresult);

我之前遇到了同样的错误，它对我有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:22:24.350

是的，您应该使用`getJSONObject`来确保您获得的值是 JSON 对象。`JSONException`是的，如果数组中的索引不存在或不包含对象，您应该捕获可能引发的问题。

它看起来像这样：

```
JSONObject firstVenue;
try {
    firstVenue = venues.get(0);
} catch (JSONException e) {
    // error handling
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T06:40:15.867

将 obj 转换为 json 对象：

对象 obj = JSONValue.parse(inputParam); JSONObject jsonObject = (JSONObject) obj;

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-06-17T21:59:37.903

Shail Adi 提供的解决方案仅对我有用，方法是将 firstVenue 和 placeName 的初始值设置为 null。这是我的代码：

```
 JSONObject firstVenue = null;
        try {
            firstVenue = (JSONObject)venues.get(0);
        } catch (JSONException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        String venueName = null;
        try {
            venueName = firstVenue.getString("name");
        } catch (JSONException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        // Do something with the response
        System.out.println(venueName); 
```

# embedded - 手臂皮质m3显示器

> ID：15377573
> 
> 赞同：-1
> 
> 时间：2013-03-13T05:15:47.133
> 
> 标签：embedded, arm, embed, cortex-m3

嗨，我正在研究 arm 控制器 lm3s8962，我无法根据我的理解理解下面的代码，它正在检查字符是否来自数组，这是他使用 ascii 字符创建的{即在 while 循环中：while(* pcStr != 0) }，我无法在“构建并显示字符缓冲区”行之后的代码中得到他在做什么，请谁能解释一下

```
void
    RIT128x96x4StringDraw(const char *pcStr, unsigned long ulX,
                          unsigned long ulY, unsigned char ucLevel)
    {
        unsigned long ulIdx1, ulIdx2;
        unsigned char ucTemp;

        //
        // Check the arguments.
        //
        ASSERT(ulX < 128);
        ASSERT((ulX & 1) == 0);
        ASSERT(ulY < 96);
        ASSERT(ucLevel < 16);

        //
        // Setup a window starting at the specified column and row, ending
        // at the right edge of the display and 8 rows down (single character row).
        //
        g_pucBuffer[0] = 0x15;
        g_pucBuffer[1] = ulX / 2;
        g_pucBuffer[2] = 63;
        RITWriteCommand(g_pucBuffer, 3);
        g_pucBuffer[0] = 0x75;
        g_pucBuffer[1] = ulY;
        g_pucBuffer[2] = ulY + 7;
        RITWriteCommand(g_pucBuffer, 3);
        RITWriteCommand(g_pucRIT128x96x4VerticalInc,
                        sizeof(g_pucRIT128x96x4VerticalInc));

        //
        // Loop while there are more characters in the string.
        //
        while(*pcStr != 0)
        {
            //
            // Get a working copy of the current character and convert to an
            // index into the character bit-map array.
            //
            ucTemp = *pcStr++ & 0x7f;
            if(ucTemp < ' ')
            {
                ucTemp = 0;
            }
            else
            {
                ucTemp -= ' ';
            }

            //
            // Build and display the character buffer.
            //
            for(ulIdx1 = 0; ulIdx1 < 6; ulIdx1 += 2)
            {
                //
                // Convert two columns of 1-bit font data into a single data
                // byte column of 4-bit font data.
                //
                for(ulIdx2 = 0; ulIdx2 < 8; ulIdx2++)
                {
                    g_pucBuffer[ulIdx2] = 0;
                    if(g_pucFont[ucTemp][ulIdx1] & (1 << ulIdx2))
                    {
                        g_pucBuffer[ulIdx2] = (ucLevel << 4) & 0xf0;
                    }
                    if((ulIdx1 < 4) &&
                       (g_pucFont[ucTemp][ulIdx1 + 1] & (1 << ulIdx2)))
                    {
                        g_pucBuffer[ulIdx2] |= (ucLevel << 0) & 0x0f;
                    }
                }

                //
                // Send this byte column to the display.
                //
                RITWriteData(g_pucBuffer, 8);
                ulX += 2;

                //
                // Return if the right side of the display has been reached.
                //
                if(ulX == 128)
                {
                    return;
                }
            }
        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T17:27:11.493

他正在做一些位操作来建立字节。

`x |= y`与 相同`x = x | y`，它保留 x 中的所有 1，并且如果 y 在同一位置有 1，也将一些 0 更改为 1。

`1 << i`是一个在右边第 i 个位置有一个 1 位的字节。

`x = y & 0xf0`仅将 y 的左 4 位复制到 x 中。

所以他在一个数组中查找值，检查这些值的特定位，然后用这些位创建的数字填充另一个数组。您必须自己制定详细信息。

# java - 带有嵌入式码头配置问题的 jaxrs

> ID：15377574
> 
> 赞同：0
> 
> 时间：2013-03-13T05:15:47.150
> 
> 标签：java, rest, jetty, cxf, jax-rs

我正在尝试使用*jaxrs*和*jetty*建立网络服务：

这是我的**jaxrms.xml**文件：

```
 <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
       xmlns:cxf="http://cxf.apache.org/core"
        xmlns:jaxrs="http://cxf.apache.org/jaxrs"
        xsi:schemaLocation="
     http://cxf.apache.org/core http://cxf.apache.org/schemas/core.xsd
     http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
     http://cxf.apache.org/jaxrs http://cxf.apache.org/schemas/jaxrs.xsd">

    <import resource="classpath:META-INF/cxf/cxf.xml" />
    <!-- import resource="classpath:META-INF/cxf/cxf-extension-jaxrs-binding.xml" /-->
    <import resource="classpath:META-INF/cxf/cxf-servlet.xml" />

    <bean id="restService" class="com.as.rover.service.rest.RestService" >
    </bean>

    <jaxrs:server id="jaxrsRestService" address="/rest/">
        <jaxrs:serviceBeans>
            <ref bean="restService" />
        </jaxrs:serviceBeans>

    </jaxrs:server>

</beans> 
```

这是我的**jetty.xml**文件：

```
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

    <bean class="com.as.rover.service.JettyManager" factory-method="getInstance" id="jettyManager"> 
        <property name="server" >
            <bean id="jetty-server" class="org.eclipse.jetty.server.Server" init-method="start" destroy-method="stop">
                <property name="connectors">
                  <list>
                    <bean id="Connector" class="org.eclipse.jetty.server.nio.SelectChannelConnector">
                      <property name="port" value="8080"/>
                    </bean>
                  </list>
                </property>

                <property name="handler">
                  <bean id="handlers" class="org.eclipse.jetty.server.handler.HandlerList">
                    <property name="handlers">
                      <list>
                        <ref bean="servletContextHandler"></ref>
                        <!--bean class="org.eclipse.jetty.server.handler.ResourceHandler">
                          <property name="directoriesListed" value="true"/>
                          <property name="welcomeFiles">
                            <list>
                              <value>index.html</value>
                            </list>
                          </property>
                          <property name="resourceBase" value="."/>
                        </bean>       
                        <bean class="org.eclipse.jetty.server.handler.DefaultHandler"/-->
                        <!-- add more handlers here -->
                      </list>
                    </property>
                  </bean>
                </property>
              </bean>
        </property>
    </bean>
    <bean id="web-context" class="org.eclipse.jetty.webapp.WebAppContext">
                            <property name="resourceBase" value="./src/main/web"></property>
                            <property name="contextPath" value="/services/*"></property> 
```

```
 <bean id="servletContextHandler" class="org.eclipse.jetty.servlet.ServletContextHandler">
                            <property name="contextPath" value="/" />                                   
                        </bean>
    <bean id="javaVersion" class="org.springframework.beans.factory.config.MethodInvokingFactoryBean">
         <property name="targetObject" ref="servletContextHandler"/>
         <property name="targetMethod" value="addServlet"/>
         <property name="arguments">
           <list>
            <bean class="org.eclipse.jetty.servlet.ServletHolder">
                                                <property name="name" value="services" />
                                                <property name="servlet">
                                                    <bean class="org.apache.cxf.transport.servlet.CXFServlet"/>

                                                </property>
                                            </bean>
            <value>/</value>
           </list>
         </property>
        </bean>

        </beans> 
```

我的**休息服务类**如下所示：

```
@Path("/test") // bind to versionnr in path  
public class RestService{

  @GET
  public long get() {
      return 1L;
  }
} 
```

每当我向我提出请求时，`localhost:8080/services/test`都会收到以下错误消息：

> 无法提供服务。

我想用 jaxrs 配置我的嵌入式码头服务器，但它似乎不起作用。我是否配置错误的码头？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-10T11:38:34.843

如果您使用的是 Spring，并且所有依赖项都放置得很好，那么您唯一需要公开一个 RESTful 服务就是您的第一个文件。

cxf-rt-transports-http-jetty 将负责您的服务代码和码头服务器之间的链接。

http://www.springframework.org/schema/beans [http://www.springframework.org/schema/beans/spring-beans-3.2.xsd](http://www.springframework.org/schema/beans/spring-beans-3.2.xsd) [http://www.springframework.org/schema/context](http://www.springframework.org/schema/context) [http:// /www.springframework.org/schema/context/spring-context-3.2.xsd](http://www.springframework.org/schema/context/spring-context-3.2.xsd) [http://www.springframework.org/schema/util](http://www.springframework.org/schema/util) [http://www.springframework.org/schema/util/spring-util-3.2 .xsd](http://www.springframework.org/schema/util/spring-util-3.2.xsd) [http://cxf.apache.org/jaxrs](http://cxf.apache.org/jaxrs) [http://cxf.apache.org/schemas/jaxrs.xsd](http://cxf.apache.org/schemas/jaxrs.xsd) ">

```
<context:annotation-config />

    <bean id="serviceImpl" class="com.as.rover.service.rest.serviceImpl" ></bean>

<!-- CXF -->
<import resource="classpath:META-INF/cxf/cxf.xml" />

<jaxrs:server id="JaxrsService" address="http://localhost:6066/services">
    <jaxrs:serviceBeans>
        <ref bean="serviceImpl" />
    </jaxrs:serviceBeans>
</jaxrs:server> 
```

希望能帮助到你。

# curl - 通过curl阻塞return查询riak

> ID：15377580
> 
> 赞同：0
> 
> 时间：2013-03-13T05:16:22.600
> 
> 标签：curl, riak

我
对 riak 比较陌生，并且只是在探索事物的过程中，我似乎遇到了这个反复出现的问题，那就是再次开启..再次关闭..

**注意：这个问题是在我尝试设置多后端设置后开始的，但现在恢复到这个**

每次我启动一个 riak 节点（我清除 /var/lib/riak/ 中的所有数据）并尝试对其执行基本的 curl 插入..

```
curl -v -XPUT http://10.151.99.77:8087/riak/test/doc?returnbody=true   
-H "Content-Type: application/json"   -d '{"bar":"baz"}' 
```

（取自 riaks 教程）

该命令似乎停止或不返回..它有这个消息直到它停止点

```
* About to connect() to 10.151.99.77 port 8087 (#0)
*   Trying 10.151.93.77... connected
* Connected to 10.151.93.77 (10.151.93.77) port 8087 (#0)
> PUT /riak/test/doc?returnbody=true HTTP/1.1
> User-Agent: curl/7.21.6 (x86_64-pc-linux-gnu) libcurl/7.21.6 OpenSSL/1.0.0e zlib/1.2.3.4     libidn/1.22 librtmp/2.3
> Host: 10.151.93.77:8087
> Accept: */*
> Content-Type: application/json
> Content-Length: 13 
```

我的 app.config 非常基本，但有例外.. - 将端口更改为 8087 - 我认为这是默认设置，但存储后端是 {storage_backend, riak_kv_memory_backend}

并且 vm.args 具有自定义名称，其 ip 为 10.151.99.77 ...
我真正想知道的 ..-
我可以看到 curl 命令的一些日志吗？
- app.config 中是否缺少某些内容？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T09:33:36.373

端口 8087 是 Riak 中协议缓冲区接口的默认端口，不会为 HTTP 请求提供服务。而是尝试连接到默认的 HTTP 接口端口 8098。如果这不起作用，请检查 http 参数（在 app.config 文件的 riak_core 部分下可用）设置并使用它。

# android - 运行 NDK 时 mac 终端错误不是有效标识符

> ID：15377581
> 
> 赞同：1
> 
> 时间：2013-03-13T05:16:27.983
> 
> 标签：android, macos, shell, android-ndk, terminal

我正在尝试在我的 mac 终端中运行这些命令，但`bashrc is not a valid identifier`每次运行这些命令时都会出错。

```
NDK_HOME=/path/to/your/ndk_installation
export PATH=$NDK_HOME:$PATH to ~/.bashrc 
```

请帮我弄清楚为什么我无法运行这些命令。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:43:45.870

您遵循的说明似乎在告诉您编辑文件`~/.bashrc`（其中 ~ 是您的主目录，因此`/Users/<your login name>/.bashrc`在 OSX 上）并添加以下行：

```
NDK_HOME=/path/to/your/ndk_installation
export PATH="$NDK_HOME:$PATH" 
```

您应该替换`/path/to/your/ndk_installation`为解压 NDK 的目录。

这样做的目的是将 NDK 目录添加到搜索路径中，这样您就可以轻松地`ndkbuild`在命令行中运行命令。该`.bashrc`文件在您每次启动时由您的 shell (bash) 运行，因此在此处添加这些行可确保 NDK 始终位于您的路径中。

# java - 如何从 Access JDBC ODBC 数据库的表中获取 java 中的行数

> ID：15377582
> 
> 赞同：3
> 
> 时间：2013-03-13T05:16:29.630
> 
> 标签：java, netbeans, ms-access-2003

嗨，我正在用 java 开发一个系统，我正在尝试获取表中存在的所有记录的计数，我尝试了很多，但它给了我异常异常是：-java.sql.SQLException：驱动程序不支持此功能

下面是我的代码。

```
import java.sql.*;
import javax.swing.JOptionPane;
import net.proteanit.sql.DbUtils;
public class myfram2 extends javax.swing.JFrame {
Connection con;
PreparedStatement ps;//I have also tried Statement but it give me exception that:
                     //Column not found     
public myfram2() {
   try{
    Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
    con= con=DriverManager.getConnection("jdbc:odbc:student");

    JOptionPane.showMessageDialog(rootPane,"Connection succeed");
    }catch(Exception ex){

    ex.printStackTrace();

    }

private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         
ResultSet rsc;
    try{
   //Here i am using sql count method and also tried max but it doesn't work
    String sqcount="Select count(stdid)from record";

  ps=con.prepareStatement(sqcount);

  rsc=ps.executeQuery(sqcount);
  if(rsc.next()){

  String getc= rsc.getString("count(stdid)");
  searchtx.setText(getc);

  }

    }
  catch(Exception ex){

  ex.printStackTrace();

  }

  } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T05:26:49.907

您必须使用当前代码：

```
 String getc = rsc.getString(1); 
```

或更改：

```
 String sqcount = "Select count(stdid) countStdID from record"; 
```

接着：

```
String getc = rsc.getString("countStdID"); 
```

**编辑：1**

您必须加载第`Driver Class`一个，然后从该驱动程序类获取连接，然后在您的程序中获取该连接。

**编辑2：**

你必须使用

```
rsc = ps.executeQuery();    // instead of rsc = ps.executeQuery(sqcount); 
```

因为`PreparedStatement`是一组预编译的查询

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:25:48.360

您可以尝试以下方式，

```
Select count(stdid) c from record

String getc = rsc.getString("c"); 
```

# javascript - 从多个输入字段填充字段？

> ID：15377586
> 
> 赞同：2
> 
> 时间：2013-03-13T05:16:42.707
> 
> 标签：javascript, jquery, html

我正在尝试用街道地址、城市、州和邮编填充一个字段，但是现在当我在每个字段中输入数据时，它会替换最后一个。

```
$("#trainer_address").keyup( function () {
        $('#location').val($(this).val());
    });

    $("#trainer_city").keyup( function () {
        $('#location').val($(this).val());
    });

    $("#trainer_state").keyup( function () {
        $('#location').val($(this).val());
    });

    $("#trainer_zip").keyup( function () {
        $('#location').val($(this).val());
    }); 
```

我如何让它保持以前的值，然后添加下一个，这样我就可以得到类似的东西`402 StreetAddress City State, 12345`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:38:48.150

该脚本将执行此操作：

```
var $loc = $('#location'),
    address = [],

getAddress = function() {
    var str = address.slice(0, 3).join(' ') + ', ' + (address[3] || '');
    return str.replace(/\s+/g, ' ').replace(/,\s$/, '');
}

$("#trainer_address, #trainer_city, #trainer_state, #trainer_zip").on({
    focus: function() {
        $loc.val(getAddress());
    },
    keyup: function() {
        address[$(this).index()] = $(this).val();
        $(this).trigger('focus');
    }
}); 
```

[http://jsfiddle.net/J6G9f/1/](http://jsfiddle.net/J6G9f/1/)

脚本还可以正确处理删除部分地址并自动更新结果。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:19:02.580

那是因为你正在覆盖它。尝试连接：

```
$('#location').val($('#location').val() + $(this).val()); 
```

例如，改变这个：

```
$("#trainer_zip").keyup( function () {
    $('#location').val($(this).val());
}); 
```

对此：

```
$("#trainer_zip").keyup( function () {
    $('#location').val($('#location').val() + $(this).val());
}); 
```

为每个`keyup()`事件函数执行此操作

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T05:19:50.237

使用运算符将​​旧 val 与新 val 连接起来`+`......您可以使用多个选择器来避免多个 keyup 功能......

尝试这个

```
$("#trainer_address,#trainer_city,#trainer_state,#trainer_zip").keyup( function () {
  var location=$('#location').val();
  $('#location').val(location + $(this).val());
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T05:21:41.743

您可以`value`像这样使用本机：

```
$('#location')[0].value += this.value; 
```

# c++ - 将一种类型的 STL 对象存储到另一种类型的有效方法

> ID：15377595
> 
> 赞同：1
> 
> 时间：2013-03-13T05:17:23.620
> 
> 标签：c++

我有一个 STL 对象，例如

```
std::vector <long> vec1; 
```

我想把它转换成一个向量

```
std::vector <int> vec2; 
```

使用

```
std::map<long,int>map; 
```

是否有一种有效的方法可以动态删除映射到 vec2 的 vec1 元素以减小 vec1 的大小？这个算法应该消耗最少的内存并且应该很快。是否可以就地执行此操作？std::remove_if 会做好吗？与分块处理相比，性能如何，即 vec1 被分成块；然后将每个块映射并存储在 vec2 中；在此之后从内存中删除块。

vec1（和 vec2）也可以是向量（向量的向量）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:27:12.143

如果您已经有地图，可以试试这个 (C++11) 解决方案：

```
std::vector<long> vec1;  // Original vector
std::map<long, int> map; // How to map the `long` value to an `int`

std::vector<int> vec2;  // The destination vector

for (const auto l : vec1)
    vec2.push_back(map[l]); 
```

如果第一个向量是向量的向量，只需使用嵌套循环：

```
for (const auto& v : vec1)
{
    for (const auto l : v)
        vec2.push_back(map[l]);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T06:22:20.990

> 是否有一种有效的方法可以动态删除映射到 vec2 的 vec1 元素以减小 vec1 的大小？

从 a 的开头删除东西`vector`是低效的，因为它会导致剩余的元素向前移动以填充开头的空白空间。并且在向量末尾释放的内存无论如何都不会返回到堆中，因为它都是一个大内存块的一部分，一次全部释放。

这里更合适的是默认`std::queue`使用`std::deque`数据结构。这包括一系列小内存块。您可以在开始时使用`pop`.

```
#include <queue>

std::queue <long> vec1;
std::queue <int> vec2;

while ( ! vec1.empty() ) {
    vec2.push( value_map[ vec1.front() ] );
    vec1.pop();
} 
```

您也可以`std::deque`直接使用对象。然后你会使用`push_front`and `pop_back`。这是一堂很酷的课；它保持了对象“扁平”序列的错觉，即使它们不在一个单一的、扁平的阵列中`vector`使用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T05:34:15.753

您可以在将元素复制到目标向量时从源向量中删除它们。

```
while (!source.empty()) {
  destination.push_back(map[source.back()]);
  source.pop_back();
} 
```

这需要 O( *n* log *m* ) 时间和 O(1) 空间，其中*n*是`source.size()`，*m*是`map.size()`。

# c# - 是否可以在 winRT 中添加 google admob？

> ID：15377597
> 
> 赞同：1
> 
> 时间：2013-03-13T05:17:25.590
> 
> 标签：c#, windows-8, windows-runtime, admob, ads

sdk 是否可用于 Windows 8 的 google admob？或者有没有其他方法可以在 Windows 8 应用程序中包含 admob？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T05:28:30.590

不，它仅适用于 Windows Phone 7

检查 SDK 列表：[https ://developers.google.com/mobile-ads-sdk/download](https://developers.google.com/mobile-ads-sdk/download)

如果您正在寻找**好的选择**，有： http: [//www.adduplex.com/](http://www.adduplex.com/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-24T23:05:30.140

inMobi 发布了适用于 Windows phone 8 和 Windows 8 RT 的 sdk。下载地址：www.inmobi.com 或直接下载链接： [https ://www.inmobi.com/AdvancedAdCode/InMobi_windows_SDK.zip](https://www.inmobi.com/AdvancedAdCode/InMobi_windows_SDK.zip)

希望这可能会有所帮助。

# yii - 在 google adwords api 中使用广告系列添加更多字段

> ID：15377599
> 
> 赞同：0
> 
> 时间：2013-03-13T05:17:40.563
> 
> 标签：yii, google-ads-api

我是[Google adwords 的新手 - 我的客户中心](http://www.google.com/adwords/myclientcenter/)。我想用这个查看和添加广告系列。我搜索了 google adwords api 客户端库，发现了以下“ [http://code.google.com/p/google-api-adwords-php/downloads/list](http://code.google.com/p/google-api-adwords-php/downloads/list) ”。之后，下载 aw_api_php_lib_3.2.2.tar.gz 并将该代码放在“mysite/protected/”文件夹中。我已经修改了“mysite/protected/adwords/src/Google/Api/Ads/AdWords/auth.ini”文件中的配置。

我可以查看所有广告系列。现在我想用我的客户中心添加活动。我的代码是，

```
Yii::import('application.adwords.*');
                        require_once('examples/v201206/BasicOperations/AddCampaigns.php');
                        $user = new AdWordsUser();
                        $user->LogAll();
                        AddCampaignsExample($user, $campaign_name, $period, $budget, $delmethod, $status, $stdate, $enddate, $impressions, $timeunit, $level); 
```

我已经在 $campaign_name,$period,$budget..etc 中传递了适当的值。它运作良好。

但我想添加 Google adwords 添加广告系列中可用的所有字段，例如“类型、位置选项（高级）、语言、广告附加信息、高级设置等”。如何使用 Google adwords API - 客户端库添加这些字段。请指教。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T19:14:30.757

@lifeline，您使用的是示例代码，而不是客户端库。如果您想配置一个完整的活动，您需要使用 API 类，就像示例代码一样。

基本上，您需要按照以下步骤使用 AdWords API 创建对象：

*   定义服务（例如，`CampaignService`）；
*   定义对象（例如，`Campaign`）；
*   设置对象属性；
*   在操作数组中添加对象；
*   调用`mutate`服务对象上的方法，传递操作数组（此方法会将您的数据发送到 adwords）；
*   获取并处理结果；

[您可以在API 示例代码](https://code.google.com/p/google-api-adwords-php/source/browse/adx-examples/v201206/BasicOperations/AddCampaigns.php?spec=svn11423d3c5cdd2b83e88e9010cfa33241d325be48&r=11423d3c5cdd2b83e88e9010cfa33241d325be48)中清楚地看到这些步骤。要了解有关`CampaignService`、`Campaign`object 和其他内容的更多信息，请参阅 API 文档：

*   [使用对象](https://developers.google.com/adwords/api/docs/guides/working-with-objects)
*   [活动服务](https://developers.google.com/adwords/api/docs/reference/v201206/CampaignService)
*   [活动](https://developers.google.com/adwords/api/docs/reference/v201206/CampaignService.Campaign)
*   [地理位置定位指南](https://developers.google.com/adwords/api/docs/guides/location-targeting)

祝你的项目好运。

# asp.net-mvc - MVC如何使用firebug检查表单提交

> ID：15377604
> 
> 赞同：1
> 
> 时间：2013-03-13T05:18:36.830
> 
> 标签：asp.net-mvc, asp.net-mvc-3, firebug, google-chrome-devtools

我在 MVC 中提交表单。当我使用 firebug 或 chrome 调试器提交时，如何检查表单中的值是否已提交或更正？提交页面时，我在控制台中看不到任何内容。firebug 或 chrome 调试器中是否有我需要查看表单字段和提交的值的特定区域？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T05:20:56.207

单击`Net`Firebug 面板的`Network`选项卡或 Chrome 开发工具面板的选项卡。然后从列表中选择您的提交请求以查看其详细信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T05:31:22.277

您还可以使用诸如 Tamper Data 之类的工具，它是 Firefox 的附加组件，[https://addons.mozilla.org/en-us/firefox/addon/tamper-data/](https://addons.mozilla.org/en-us/firefox/addon/tamper-data/)它可以让您捕获 POST 和/或从请求中获取数据。（并不是说您需要“捕获” GET 数据才能查看它）

如果您想测试您的程序如何处理修改后的 POST 值，这也很有用。如果将脚本或 SQL 放入值等中，效果如何？

# php - 使用 php 从下拉列表中查看选定的文本值

> ID：15377605
> 
> 赞同：0
> 
> 时间：2013-03-13T05:18:39.013
> 
> 标签：php

晕。。

我还是 php 新手，对这个问题感到头疼；

如何从 php.ini 的下拉列表中获取选定的文本值。我给详细的样本

1.  文件名 test.php

代码：

```
 <select name="trancode" size="1" id="select">
    <option value="309 ">309 - Book</option>
    <option value="207">207 - Magazine</option>
    </select> 
```

1.  预览.php

代码：

运行 preview.php 时，输出是指选项值..如何显示文本？

例如：如果选择 207 - Magazine，结果应该是 '207 - Magazine' 而不是 '207' 只是参考选项值..

仅供参考，代码 207 是指价格，例如，207 美元 x 2 个单位。

请指导

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:27:22.940

如果您需要获取“仅文本”，您可以使用

```
<select name="trancode" size="1" id="select">
    <option>309 - Book</option>
    <option>207 - Magazine</option>
</select> 
```

并使用 $_POST['trancode'] 或 $_GET['trancode']; 显示文本

编辑：

如果您需要从文本中提取数字以进行进一步计算，您可以使用以下命令：

```
$text=$_POST['trancode'];
if(preg_match('/(\d)+(?=(.)*-)/',$text,$matches))
{
    $value=$matches[0];
}
else
{
    $value=null;
} 
```

因此，您可以看到文本为 309 - Book 并将值提取为 309 进行计算。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:35:32.740

另一种方法是将实际文本放入 value 属性中。

```
<select name="tranode" size="1" id="select">
<option value="309 - Book">309 - Book</option>
<option value="207 - Magazine">207 - Magazine</option>
</select> 
```

这可能不是最好的方法，但如果您绝对必须使用 Value 属性，这是一个修复

# php - 如何使用 PHP 在动态内存中保存值？

> ID：15377607
> 
> 赞同：1
> 
> 时间：2013-03-13T05:18:54.133
> 
> 标签：php, memory

我需要创建一个简单的表单，将其值保存在动态内存中。到目前为止，代码是这样的：

```
 <tr>
                    <td>Code:</td>
                    <td><input type="text" name="code" /></td>
                </tr>
                <tr>
                    <td>Name:</td>
                    <td><input type="text" name="name" /></td>
                </tr>
                <tr>
                    <td>Inventory number</td>
                    <td><input type="text" name="number" /></td>
                </tr>
                <tr>
                    <td>Value</td>
                    <td><input type="text" name="value" /></td>
                </tr>
                <tr>
                    <td>Buy value</td>
                    <td><input type="text" name="buy_value" /></td>
                </tr>
                <tr>
                    <td></td>
                    <td><input type="submit" name="add" value="Add" /></td>
                </tr> 
```

那么我怎样才能不将它添加到数据库中，而是将其添加到多维数组或类似的东西中，并且之后我必须能够删除选定的记录。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:24:57.437

您可以将其保存在会话数据中。但是，这将在会话结束时丢失（例如，如果用户关闭浏览器）。

```
session_start();
$_SESSION = array_merge($_SESSION, $_POST); 
```

我使用`array_merge`这样您之前可能拥有的数据不会丢失。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:26:22.157

您可以将表单数据提交到在表格、数组等中显示它们的文件中，但您可以使用 jquery(javascript) 函数删除选定的行或索引等，然后呢？表单数据要去哪里？没有可持续的存储？在页面更改时丢失数据？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T05:28:35.707

我不确定您到底要做什么，但是如果您发布的代码在表单内，并且表单操作是将数据发布到您的 php 脚本，那么

```
 extract($_POST); 
```

将每个输入字段的值存储到与输入字段名称同名的 php 标量中。从那里您可以轻松地将数据存储到某种类型的数组中。

# android-listview - Android ListView 多选

> ID：15377619
> 
> 赞同：1
> 
> 时间：2013-03-13T05:19:35.083
> 
> 标签：android-listview, multipleselection

我有一个 listView 这是多项选择这里是代码：

```
public void setItemList() {
    cartListView = (ListView)findViewById(R.id.cartListView);
    cartListView.setChoiceMode(ListView.CHOICE_MODE_MULTIPLE);
    adapter = new ArrayAdapter<String>(this, 
            android.R.layout.simple_list_item_multiple_choice,
            DataHandler.itemToCart);
    cartListView.setAdapter(adapter); 
} 
```

我想删除将要检查的项目，
但是当我检查所有项目时，它不会删除所有项目。一个仍然保留在这里的是代码：

```
public void onClickRemove(View v){
        SparseBooleanArray menBooleanArray = cartListView.getCheckedItemPositions();
        for(int i = 0; i < cartListView.getCount(); i++)
        {
            if(menBooleanArray.get(i) == true && menBooleanArray.size() > 1) 
            {

                DataHandler.itemToCart.remove(cartListView.getItemAtPosition(i));
                adapter.notifyDataSetChanged();
            } else if (menBooleanArray.get(i) == true && menBooleanArray.size() > 1){
                DataHandler.itemToCart.clear();
                adapter.notifyDataSetChanged();
            }
        } 
```

我缺少什么？

# concurrency - 并发插入中违反了唯一约束 (ORA-00001)

> ID：15377620
> 
> 赞同：2
> 
> 时间：2013-03-13T05:19:36.403
> 
> 标签：concurrency, oracle11g, primary-key, unique-constraint

我有一个从并发事务调用的过程：

```
//Some actions here

INSERT INTO table1
                (table1_id, table1_val1, table1_val2, table1_val3)
              VALUES
                (gettablenewid('TABLE1'), val1, val2, val3);

INSERT INTO table1
                (table1_id, table1_val1, table1_val2, table1_val3)
              VALUES
                (gettablenewid('TABLE1'), val1, val2, val3);
INSERT INTO table1
                (table1_id, table1_val1, table1_val2, table1_val3)
              VALUES
                (gettablenewid('TABLE1'), val1, val2, val3);
//some other actions 
```

函数gettablenewid代码（id_table存储每个表的PK）：

```
create or replace
    function        GetTableNewId(tablename in varchar2)
      return number is
      PRAGMA AUTONOMOUS_TRANSACTION;
      Result number;
    cursor c1 is SELECT ig.id_value+1 id_new
                              FROM id_table ig
                              WHERE ig.table_identifier = tablename
                              FOR UPDATE of  ig.id_value;
    begin
    for c1_rec in c1 loop  
      UPDATE id_table ig
         SET ig.id_value = c1_rec.id_new
       WHERE current of c1 ;
       Result:=c1_rec.id_new;
    end loop;
    commit;
      return(Result);
    end GetTableNewId; 
```

有时插入语句会因 table1_id 的 ORA-00001 而失败，我无法理解为什么会发生这种情况。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T06:03:13.503

因此，正如 Scott Lamb 所说，代码中没有错误。我发现另一个进程同时为 table_identifier = 'TABLE1' 修改了 id_table。感谢大家的帮助。

# php - 通过结帐时magento中的最后一个函数调用是什么

> ID：15377626
> 
> 赞同：1
> 
> 时间：2013-03-13T05:20:26.540
> 
> 标签：php, magento, checkout

我创建了一个会话，用于存储客户何时编辑订单的数据，当客户进行结帐时，此会话需要在某些时候取消设置，因为它的存在表明订单正在被编辑

现在，虽然我已经能够找到支付网关并将未设置的语法放在那里，但我遇到了一个问题，1 个客户组可以访问奖励积分，而另一个不能，他们都可以编辑他们的订单

自然，当客户处理他们一直在编辑的订单时，他们的积分会根据此订单与原始订单之间的差异而变化，我可以使用存储在此会话中的数据，但如果我无法访问会话它在支付网关处被删除，因为似乎支付网关在奖励积分之前被处理

那么magento在结帐过程中进行的最后一个函数调用是什么，它必须是任何通过结帐的人都可以访问的函数

# c++ - 为什么我不能接受 char * 作为 const char *&？

> ID：15377641
> 
> 赞同：0
> 
> 时间：2013-03-13T05:21:36.277
> 
> 标签：c++, pointers, reference

如果我可以在函数中接受`char`变量作为`const char`& ，为什么我不能接受 a`char*`作为`const char *&`？我想要做的是引用一个指针，我不会用它来更改它指向的数据，而是更改指针指向的位置。

# r - 从 R 中的 C5.0 输出打印规则/树

> ID：15377645
> 
> 赞同：2
> 
> 时间：2013-03-13T05:22:01.573
> 
> 标签：r

我目前正在做一个项目，我必须比较使用不同算法生成的分类模型。我想知道如何保存使用 R 中的 C5.0 包生成的规则/树的文本版本。

目前我可以按如下方式设置和训练模型：

```
c50model = C5.0(x=X, y=Y, rules=TRUE) 
```

然后我可以通过调用获得完整版本：

```
summary(c50model) 
```

此命令在命令窗口中生成模型的良好输出，但我不确定如何将其保存到格式化的文本文件中。

我也知道 C50 包会生成一个字符版本的规则文件`c50model$tree`和一个字符串版本的树文件`c50model$tree`。理想情况下，我想将这些文件的内容打印到文本文件中，以便以后可以轻松地将其合并到研究论文中。然而不幸的是，这些字段的输出总是采用一种奇怪的格式......例如：

```
 "id=\"See5/C5.0 2.07 GPL Edition 2013-03-13\"\nentries=\"1\"\nrules=\"6\" default=\"0\"\nconds=\"2\" cover=\"322\" ok=\"321\" lift=\"1.55321\" class=\"0\"\ntype=\"2\" att=\"UniformityOfCellSize\" cut=\"3\" result=\"<\"\ntype=\"2\" att=\"BareNuclei\" cut=\"2\" result=\"<\"\nconds=\"2\" cover=\"305\" ok=\"304\" lift=\"1.55268\" class=\"0\"\ntype=\"2\" att=\"UniformityOfCellShape\" cut=\"2\" result=\"<\"\ntype=\"2\" att=\"BareNuclei\" cut=\"3\" result=\"<\"\nconds=\"2\" cover=\"310\" ok=\"307\" lift=\"1.54282\" class=\"0\"\ntype=\"2\" att=\"UniformityOfCellShape\" cut=\"2\" result=\"<\"\ntype=\"2\" att=\"NormalNucleoli\" cut=\"2\" result=\"<\"\nconds=\"2\" cover=\"137\" ok=\"132\" lift=\"2.65679\" class=\"1\"\ntype=\"2\" att=\"BareNuclei\" cut=\"3\" result=\">\"\ntype=\"2\" att=\"NormalNucleoli\" cut=\"2\" result=\">\"\nconds=\"2\" cover=\"179\" ok=\"170\" lift=\"2.62324\" class=\"1\"\ntype=\"2\" att=\"UniformityOfCellShape\" cut=\"2\" result=\">\"\ntype=\"2\" att=\"BareNuclei\" cut=\"2\" result=\">\"\nconds=\"2\" cover=\"175\" ok=\"166\" lift=\"2.61978\" class=\"1\"\ntype=\"2\" att=\"UniformityOfCellSize\" cut=\"3\" result=\">\"\ntype=\"2\" att=\"UniformityOfCellShape\" cut=\"2\" result=\">\"\n" 
```

任何建议都会受到赞赏。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-13T06:10:19.963

```
string <- id=\"See5/C5.0 2.07 GPL Edition 2013-03-13\"\nentries=\"1\"\nrules=\"6\" default=\"0\"\nconds=\"2\" cover=\"322\" ok=\"321\" lift=\"1.55321\" class=\"0\"\ntype=\"2\" att=\"UniformityOfCellSize\" cut=\"3\" result=\"<\"\ntype=\"2\" att=\"BareNuclei\" cut=\"2\" result=\"<\"\nconds=\"2\" cover=\"305\" ok=\"304\" lift=\"1.55268\" class=\"0\"\ntype=\"2\" att=\"UniformityOfCellShape\" cut=\"2\" result=\"<\"\ntype=\"2\" att=\"BareNuclei\" cut=\"3\" result=\"<\"\nconds=\"2\" cover=\"310\" ok=\"307\" lift=\"1.54282\" class=\"0\"\ntype=\"2\" att=\"UniformityOfCellShape\" cut=\"2\" result=\"<\"\ntype=\"2\" att=\"NormalNucleoli\" cut=\"2\" result=\"<\"\nconds=\"2\" cover=\"137\" ok=\"132\" lift=\"2.65679\" class=\"1\"\ntype=\"2\" att=\"BareNuclei\" cut=\"3\" result=\">\"\ntype=\"2\" att=\"NormalNucleoli\" cut=\"2\" result=\">\"\nconds=\"2\" cover=\"179\" ok=\"170\" lift=\"2.62324\" class=\"1\"\ntype=\"2\" att=\"UniformityOfCellShape\" cut=\"2\" result=\">\"\ntype=\"2\" att=\"BareNuclei\" cut=\"2\" result=\">\"\nconds=\"2\" cover=\"175\" ok=\"166\" lift=\"2.61978\" class=\"1\"\ntype=\"2\" att=\"UniformityOfCellSize\" cut=\"3\" result=\">\"\ntype=\"2\" att=\"UniformityOfCellShape\" cut=\"2\" result=\">\"\n" 
```

如果你想要txt文件输出：

```
write(string, file="string.txt") 
```

您会注意到每次看到`\n`字符时都会换行，并且所有引号都通过`\`在它们之前进行转义。`print`不对他们做任何事情，但`cat`确实如此。如果您想事先查看文件中的内容，可以使用：

```
cat(string) 
```

或者，如果您只想要摘要的输出：

```
write(capture.output(summary(c50model)), "c50model.txt") 
```

# php - 如何在PHP中将字符串转换为条件表达式？

> ID：15377647
> 
> 赞同：5
> 
> 时间：2013-03-13T05:22:10.810
> 
> 标签：php, eval, conditional-statements

我有这样的字符串，

```
$condition = "if($test == '1')"; 
```

我想将其转换为条件表达式而不使用`eval()`.

可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:32:18.173

看看`[**`$functionName()`**](http://php.net/manual/en/functions.variable-functions.php)`或`[**`call_user_func($functionName)`**](http://php.net/manual/en/function.call-user-func.php)`

`[**`More clarification.`**](http://onlamp.com/pub/a/php/2001/05/17/php_foundations.html?page=2)`

# html - 与 d3 一起使用时，文本溢出属性不起作用

> ID：15377650
> 
> 赞同：0
> 
> 时间：2013-03-13T05:22:24.387
> 
> 标签：html, css, d3.js

我正在尝试使用 d3 从 JSON 对象生成数据列表。我正在尝试将 text-overflow 属性应用于 ellipsis 。由于某种原因，它不起作用。请让我知道我哪里出错了。这是代码。请参考 的 CSS 属性。**实体类型**

```
<!DOCTYPE html>
<html lang="en">
<head>
    <link href='http://fonts.googleapis.com/css?family=Questrial' rel='stylesheet' type='text/css'>
<meta charset="utf-8">
<title>Rich List : Result Level1 </title>
<script type="text/javascript" src="d3/d3.v3.js">

</script>
<style type="text/css">

@font-face {
    font-family:segoeui;
    src: url('img/segoeui.ttf');
}

.envelop_container{
    width:500px;
    height:300px;
    border-color:#BABABA;
    border-style:solid;
    border-width:1px;
    margin:auto;
    overflow-x:auto;
    overflow-y: auto;
    resize: both;
}

.input_bar{

    width:100%;
    height:15%;
    border-bottom-color:#BABABA;
    border-bottom-style:solid;
    border-bottom-width:1px;
    resize: both;
}

.data{
    position:relative;
    width:100%;
    height:80px;
    border-bottom-color:#BABABA;
    border-bottom-style:solid;
    border-bottom-width:1px;
}

.title{

    font-family:segoeui;

    position:absolute;
    top:0px;
    left:110px;
    width:300px;
    overflow:hidden; 
    text-overflow: ellipsis;
    white-space:nowrap; 

}

.entity_type{

    font-family:segoeui;
    color:#F3F3D5;
    background:#4E4C4C;
    font-size:10.5px;
    position:absolute;
    top:0px;
    left:0px;
    width:100px;
    height:20px;
    overflow:hidden;
    white-space:nowrap;
    text-overflow:ellipsis;

}

.filing_date{

    font-family:segoeui;
    position:absolute;
    top: 60px;

}

.eta{

    font-family:segoeui;
    font-size:30px; 
    color: #63B8FF;
    position:absolute;
    top:0px;
    right:0px;
}

p{
    margin:0px;
}

</style>
</head>
<body>
    <script>

        var dataset = [

    {
        'title':'Microsoft Corporation Enters into partnership with Parc',
        'entity_type':'Strategic Alliance',
        'filing_date':'23-03-12',
        'eta':'23h 25m' 
    },
    {
        'title':'Microsoft sets up lab for Open Source Tests',
        'entity_type':'Business Expansion',
        'filing_date':'12-12-13',
        'eta':'23h 25m' 
    },
    {

        'title':'Microsoft and unisys build on Interpay software',
        'entity_type':'Executive Board Change',
        'filing_date':'11-03-11',
        'eta':'23h 25m' 
    }   ,

    {

        'title':'Microsoft Corporation Enters into partnership with Parc',
        'entity_type':'Strategic Alliance',
        'filing_date':'12-12-12',
        'eta':'23h 25m' 
    },
    {

        'title':'Microsoft Corporation Enters into partnership with Parc',
        'entity_type':'Strategic Alliance',
        'filing_date':'12-12-12',
        'eta':'23h 25m' 
    }
    ];

    //  envelop_container
        var outer_divs = d3.selectAll("body")
        .append("div")
        .attr('class','envelop_container');

        outer_divs.append('div')
        .attr('class','input_bar');

    //envelop_container 

    // Data 
        var data_div = outer_divs.selectAll('div')
        .data(dataset)
        .enter()
        .append('div')
        .attr('class','data')

    //DATA  

    // TITLE
        var databox = data_div.append('div')
        .attr('class','title')

    //TITLE 

    //ENTITY_TYPE   
        var entity_type = data_div.append('div')
        .attr('class','entity_type')
        .attr('id','entity_type');
    //ENTITY_TYPE

    //FILING_DATE

        var filing_date = data_div.append('div')
        .attr('class','filing_date')

    //FILING_DATE
    //ETA   

        var  eta= data_div.append('div')
        .attr('class','eta')

    //ETA

    //TITLE TEXT ------------------------------

        databox.append('p')
        .text(function(d){return d.title;})

    //TITLE TEXT ------------------------------
    // ENTITY TEXT-----------------------------
        entity_type.append('p')
        .text(function(d){return d.entity_type;})
        .attr('class','entity_text')

        filing_date.append('p')
        .text(function(d){return "FDate:"+d.filing_date;});

        eta.append('p')
        .text(function(d){return d.eta;})

    // ENTITY TEXT----------------------------- 

    // STYLES

    databox
    //TITLE     
    </script>

<body>

</body>

</html> 
```

解决方案：我犯的错误是我将 text-overflow 属性应用于 div 而不是导致问题的实际 p 元素。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T08:31:28.977

您必须为包含文本的元素设置溢出样式属性。

你的 html 是

```
<div class="entity_type" id="entity_type">
  <p class="entity_text">Business Expansion</p>
</div> 
```

将此添加到您的CSS中，它将按预期工作

```
p.entity_text {
    white-space: nowrap;
    overflow: hidden;
    text-overflow:    ellipsis;
} 
```

# android - 通过替换Android中的所有特殊字符从电话簿中过滤号码？

> ID：15377651
> 
> 赞同：2
> 
> 时间：2013-03-13T05:22:26.563
> 
> 标签：android

我正在处理从我在 Android 中的默认电话簿中获取的联系人。当我从电话簿中获取联系人时，有时我会收到“-”、“(”等字符。

如果这些字符是已知的，那么我可以使用**relpace()**方法轻松删除它们，但我的客户抱怨说，有时他们在从电话簿获取的号码中也会看到 % like 符号。

请建议我，如何过滤从电话簿中获取的数字，以便我的文本字段中**只有数字，没有其他字符。**

目前我正在使用`string.replace("-","");`从联系电话中删除“-”。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-13T05:47:57.467

您可以使用[`PhoneNumberUtils.stripSeparators(String)`](http://developer.android.com/reference/android/telephony/PhoneNumberUtils.html#stripSeparators(java.lang.String))（在 API 1+ 中可用）。

* * *

*已编辑*

或者你可以使用[正则表达式‌</a>​：](http://www.vogella.com/articles/JavaRegularExpressions/article.html)

 [```
filterNum = filterNum.replaceAll("[^0-9]+", ""); 
```](http://www.vogella.com/articles/JavaRegularExpressions/article.html) 

[- 这将删除所有不在范围内的字符`0...9`。我认为这会更容易。这是](http://www.vogella.com/articles/JavaRegularExpressions/article.html)[文档](http://developer.android.com/reference/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String))。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T06:41:37.910

```
string.replaceAll("[^0-9\\+]", ""); 
```

这里我假设数字内不会有`'+'`（仅在前面）。如果有任何可能，则必须单独检查

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T06:25:48.340

我已经使用核心 Java 概念解决了这个问题。

```
/**
     * removeSpecialCharacters
     * @param number
     * @return
     */
    private String removeSpecialCharacters(String number) {
        String filterNum = number;
        if(filterNum.contains("-")){
            filterNum = filterNum.replace("-", "");
        }
        if(filterNum.contains("(")){
            filterNum = filterNum.replace("(", "");
        }
        if(filterNum.contains(")")){
            filterNum = filterNum.replace(")", "");
        }
        if(filterNum.contains(".")){
            filterNum = filterNum.replace(".", "");
        }
        if(filterNum.contains("/")){
            filterNum = filterNum.replace("/", "");
        }
        if(filterNum.contains(",")){
            filterNum = filterNum.replace(",", "");
        }
        if(filterNum.contains("#")){
            filterNum = filterNum.replace("#", "");
        }
        if(filterNum.contains("*")){
            filterNum = filterNum.replace("*", "");
        }
        if(filterNum.contains("+")){
            filterNum = filterNum.replace("+", "");
        }
        if(filterNum.contains("N")){
            filterNum = filterNum.replace("N", "");
        }
        if(filterNum.contains(";")){
            filterNum = filterNum.replace(";", "");
        }
        if(filterNum.contains("%")){
            filterNum = filterNum.replace("%", "");
        }
        if(filterNum.contains(" ")){
            filterNum = filterNum.replace(" ", "");
        }
        if(filterNum.contains("@")){
            filterNum = filterNum.replace("@", "");
        }
        if(filterNum.contains("$")){
            filterNum = filterNum.replace("$", "");
        }
        if(filterNum.contains("^")){
            filterNum = filterNum.replace("^", "");
        }
        if(filterNum.contains("&")){
            filterNum = filterNum.replace("&", "");
        }
        if(filterNum.contains("_")){
            filterNum = filterNum.replace("_", "");
        }
        if(filterNum.contains("=")){
            filterNum = filterNum.replace("=", "");
        }
        if(filterNum.contains("~")){
            filterNum = filterNum.replace("~", "");
        }
        if(filterNum.contains("`")){
            filterNum = filterNum.replace(";", "");
        }

        return filterNum;
    } 
```

# php - 使用 jQuery 验证输入

> ID：15377653
> 
> 赞同：-5
> 
> 时间：2013-03-13T05:22:36.567
> 
> 标签：php, javascript, validation

# 客观的：

验证来自表单的所有输入。如果一切正常，则提交，否则向用户返回错误。

# 问题：

我想验证我的表单中的一些输入，但我不知道如何干净地做到这一点。

如何在没有繁重的验证库的情况下安全地验证表单？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:26:09.750

试试这样：

```
 function validate() {
        if (validatefield(document.form.field1) && 
            validatefield(document.form.field2) && 
            validatefield(document.form.field3) && 
            validatefield(document.form.field4) && 
            validatefield(document.form.field5))
           return true;
        else
           return false;
    }

 function validatefield(field)
{
  //your condition of validation
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:29:43.510

像这样：[http ://www.w3schools.com/js/js_form_validation.asp](http://www.w3schools.com/js/js_form_validation.asp)

基本上，您的“onsubmit”调用一个函数，如果检查失败则返回 false 以便表单不提交。如果一切通过，它就会提交。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T05:30:08.923

jQuery 验证是非常简单易用的东西。问题是什么？您可以在此处下载并查看演示。[http://plugins.jquery.com/validate/](http://plugins.jquery.com/validate/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T05:30:43.730

*   第一点要记住，代码必须尽可能面向对象。
*   应该理解，必须在客户端和服务器端都进行验证。
*   你要知道，除了接收带有期望值的数据外，在对数据库的查询中使用仍然可能不安全

所以在这些点之后，继续给出一个清晰的例子。

## 索引.html

```
 <!DOCTYPE html>
    <html lang="en" dir="ltr">
    <head>
      <meta charser="utf-8" />
      <title>Form Validation</title>
      <script type="text/javascript" src="./js/jquery.js"></script>
    </head>

    <body>
      <div class="form-container">
        <form action="form_proccess.php" method="post" class="must-validate">
          <p>Nick<input type="text" name="nick" class="input-validate"/></p>
          <p>Password<input type="password" name="password" class="input-validate"/></p>
          <p>Email<input type="text" name="email" class="input-validate"/></p>
          <p>Name<input type="text" name="name" class="input-validate"/></p>
          <p>Country<input type="text" name="country" class="input-validate"/></p>
          <p>Birthday<input type="text" name="birthday" class="input-validate"/></p>
          <input type="submit" value="Send!" />
        </form>
      </div>
      <div id="form-errors">
        <ul></ul>
      </div>

    <script type="text/javascript">
      ;(function () {

        var Rules = {
          "nick"     : /^[0-9a-zA-Z_]{5,20}$/
        , "password" : /^.*(?=.{8,})(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]).*$/
        , "email"    : /^[_a-z0-9.-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,3})$/
        , "name"     : /^[a-zA-Z -]+$/
        , "birthday" : /^[0-9]{4}-[0-9]{1,2}-[0-9]{1,2}$/
        , "country"  : /^[a-zA-Z]+$/
      }

      , Messages = { 
          "nick"     : "The nick can contain numbers, letters and underscores, between 5 and 20 characters."
        , "password" : "The password should contain uppercase and numbers at least 8 characters."
        , "email"    : "The email must be valid."
        , "name"     : "The name can contains only letters and spaces"
        , "birthday" : "The date must be in the format YYYY/MM/DD."
        , "country"  : "The country must contain only letters."
      }

      ;

      $(document).ready( function () {

        $('.must-validate').submit( function ( pressed ) {

            var form   = $(this).get(0)
              , inputs = $(form).find('.input-validate')
              , passed = true
              , errors = [ ]
              , input
              , html   = ''
              ;

            $.each( inputs, function( key, value ) {
                input = inputs [ key ];
                if(!Rules [ input.name ].test( input.value ) ) {
                    passed = false;
                    errors.push( Messages[ input.name ] );
                }
            });

            if ( errors.length ) {
                $.each( errors, function ( errorKey, errorValue ) {
                    html+= '<li>';
                    html+= errorValue;
                    html+= '</li>';
                });
                $('#form-errors ul').append(html);
            }

            return passed;

        });
      });

    })();
  </script>
</body>
</html> 
```

*   基本的 HTML 文档，我们在其中使用 javascript 验证表单 [在这个示例中，我使用了 jQuery，但没有它也可以正常工作]。
*   当您提交有问题的表单时，浏览器会运行一个事件，我们会在该事件中继续进行验证。
*   变量包含正则表达式和来自它们的消息。可以添加任意数量。
*   我们比较输入的值，（必须有类`.validate input`）；确保您可以更改和修改它。
*   最后，如果一切顺利，会将表单数据发送到服务器。相反，如果有错误，则向用户显示详细信息，以便他进行更正。如果需要，您可以删除错误消息，但这对用户来说不是很容易访问，这应该尽可能具有预测性。

## 验证器.php

```
/**
 * All the regular expressions to be used
 */
private static $_rules = array(
        "nick"      => '/^[0-9a-zA-Z_]{5,20}$/'
      , "password"  => '/^.*(?=.{8,})(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]).*$/'
      , "birthday" => '/^[0-9]{4}-[0-9]{1,2}-[0-9]{1,2}$/'
      , "email"     => '/^[_a-z0-9.-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,3})$/'
      , "name"      => '/^[a-zA-Z -]+$/'
      , "country"   => '/^[a-zA-Z]+$/'
);

/**
 * The flag contains the names of all the input that must be validated; 
 * Note that the flags elements must match with some of the rules elements.
 */

private $_flags;

  /**
   * Set the flags
   */

public function __construct ( Array $flags ) {
    $this->_flags = $flags;
}

/**
 * Set the data to be validated
 */

public function validate ( Array $data ) {

    $passed = true;

    if ( count ( $data ) == 0 ) {
        $passed = false;
    }
    else {

        foreach ( $this->_flags as $key ) {

            if ( ! in_array ( $key, array_keys ( $data ) ) )
                $passed = false;

            if ( $data [ $key ] == null ) 
                $passed = false;

            if ( ! preg_match( self::$_rules [ $key ], $data [ $key ] ) ) 
                $passed = false;
        }
    }

    return (bool) $passed;
  }
} 
```

*   在这个类中，我们将所有正则表达式放在一个静态变量中。
*   有`constructor`一个参数可让您指定应考虑验证哪些项目，从而明确我们使用的正则表达式。
*   最后，该函数将我们要分析的所有值`validate()`作为参数an 。`array()`

## form_proccess.php

```
<?php
require_once 'Validator.php';

$validator = new Validation( array (
      "nick"
    , "password"
    , "email"
    , "name"
    , "country"
    , "birthday"
  )
);

$passed = $validator->validate( $_POST );

if ( $passed ) {
    /**
     * The data received was validated :)
     */
}
else {
    /**
     * Some error ocurred!
     */
} 
```

我希望这有帮助。-

# geometry - C++ 检查两个球体相交/碰撞

> ID：15377656
> 
> 赞同：2
> 
> 时间：2013-03-13T05:22:53.323
> 
> 标签：geometry, collision

我进入了 C++，我一直在研究如何让两个领域相互交互。我发现的大部分内容非常复杂，或者是实际的数学公式。有没有更简单的方法来创建一个函数来识别球体的任何一侧何时与另一侧接触？我不是要你做我的工作，但我真的很感激某种干净的视觉、伪代码或代码片段，这可以帮助我理解更多。或者也许我还没有找到一些链接？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-03-11T02:21:28.283

检查球体中心之间的距离是否小于它们的半径之和。

```
class Sphere {
public:
    double centerX, centerY, centerZ, radius;
    // .... 
};

double distanceBetween( const Sphere& a, const Sphere& b ) {
    return sqrt( pow( a.centerX - b.centerX, 2 ) + pow( a.centerY - b.centerY, 2 ) + pow( a.centerZ - b.centerZ, 2 ) );
}

bool areColliding( const Sphere& a, const Sphere& b ) {
    return distanceBetween( a, b ) < ( a.radius + b.radius );
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:40:01.733

这篇文章很好地解释了两个球体如何相互作用[球体碰撞检测->反应](https://stackoverflow.com/questions/3232318/sphere-sphere-collision-detection-reaction)。请注意，您可能必须处理复杂的数学才能解决此问题。希望通过阅读这些解释，您可以更好地理解数学应该做什么。我过去发现，在深入研究数学之前，最好先尝试可视化并理解如何解决问题。

# maven - mvn 未被识别为内部或外部命令

> ID：15377659
> 
> 赞同：0
> 
> 时间：2013-03-13T05:23:08.293
> 
> 标签：maven

我正在尝试从命令行启动 maven 项目，但是当我尝试使用 mvn --version 或任何其他 maven 命令时，它会出现以下错误消息

`mvn is not recognized as internal or external command`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-10-15T07:13:10.007

just change M2 AND M2_HOME from user variables into system variables in advanced settings. it worked well with me.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:28:50.777

Maven 未安装在您的操作系统中。请按照以下链接 [http://maven.apache.org/download.cgi#Installation中的说明进行操作](http://maven.apache.org/download.cgi#Installation)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T14:14:07.750

假设您将 Maven 安装到`D:\tools\apache-maven-3.0.3`...
那么您的系统环境 PATH 需要包含
`D:\tools\apache-maven-3.0.3\bin`
应该使用路径分隔符与其他路径条目分隔的字符串：`;`

而且，顺便说一句，您不需要设置`MAVEN_HOME`or `M2_HOME`。
在我的win7系统上，我只是将Maven的bin文件夹放在路径上，并设置一个`JAVA_HOME`指向JDK安装文件夹的环境变量（例如`D:\tools\jdk7u15`），仅此而已。

# android - 关闭设备后，Android SQLite 数据库是否仍然存在？

> ID：15377661
> 
> 赞同：6
> 
> 时间：2013-03-13T05:23:22.150
> 
> 标签：android, sqlite

我想开发一个安卓应用。我想从用户那里获取输入并将其存储在手机的数据库中。

即使手机关机，我的数据也应该保留在手机中。这可能使用 SQLite 数据库吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-13T05:25:56.160

Android 为您提供了几种保存持久应用程序数据的选项。您选择的解决方案取决于您的特定需求，例如数据是否应该对您的应用程序私有或可供其他应用程序（和用户）访问，以及您的数据需要多少空间

您的数据存储选项如下：

Shared Preferences 将私有原始数据存储在键值对中。

内部存储 将私人数据存储在设备内存中。

外部存储 将公共数据存储在共享的外部存储上。

SQLite 数据库将结构化数据存储在私有数据库中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T05:28:05.193

> 我想从用户那里获取输入并将其存储在电话数据库中（使用 sqlite）。我想知道，如果我更喜欢使用 sqlite 数据库构建我的应用程序。即使手机关机，我的数据也应该保留在手机中。是否可以使用 sqlite 数据库？

**是**的，您可以使用 sqlite 数据库。

但是，如果你有像一两个字符串这样的数据，那么你应该使用[SharedPreferences](http://developer.android.com/reference/android/content/SharedPreferences.html)

希望它会有所帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T05:24:58.173

这是很有可能的。但很可能也是矫枉过正。

您是否尝试过 SharedPreferences？即使您的应用程序关闭或手机关闭，它们也会保留。

一个例子：

对于保存首选项：

```
SharedPreferences preferences = context.getSharedPreferences("YourAppPreferences", 0);
SharedPreferences.Editor editor = preferences.edit();

editor.putInt("yourvalue", 14);
editor.putString("name", "John");
e.commit(); 
```

这就是您检索它们的方式：

```
SharedPreferences preferences = context.getSharedPreferences("YourAppPreferences", 0);
preferences .getInt("yourvalue", 0) 
```

in 中的第二个参数`getInt`是`default value`未设置的情况。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T05:30:59.760

**为了你的灵感！**

本地存储最强大的方法是使用 SQLite 数据库。每个应用程序都配备了自己的 SQLite 数据库，应用程序中的任何类都可以访问该数据库，但任何外部应用程序都不能访问该数据库。在继续讨论复杂的查询或代码片段之前，让我快速总结一下 SQLite 数据库是什么。SQL（结构化查询语言）是一种专门为管理关系数据库中的数据而设计的编程语言。关系数据库允许您提交插入、删除、更新和获取查询，同时还允许您创建和修改模式（更简单地认为是表）。SQLite 只是 MySQL、PostgreSQL 和其他流行数据库系统的缩小版本。它完全独立且无服务器，同时仍然是事务性的，并且仍然使用标准 SQL 语言来执行查询。由于它是独立的和可执行的，它非常高效、灵活，并且可以通过各种编程语言在各种平台（包括我们自己的 Android 平台）上访问。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-13T05:53:25.230

Sqlite 数据库通常用于在大多数 Android 应用程序中持久化数据。

Sqlite 文件在您的包文件夹中创建。

备份 Sqlite 文件

1.将 Sqlite 文件复制到您的 SD 卡（无需网络连接） 2.将您的 Sqlite 文件同步到谷歌驱动器（需要网络连接）

示例网址： [https ://developers.google.com/drive/examples/android](https://developers.google.com/drive/examples/android)

内容提供程序相对于 Sqlite 数据库的优势

1.加载器的优势（加载最新数据）

2.轻松同步数据

3.将数据共享给其他应用程序

Sqlite 数据在应用程序关闭甚至手机关机后仍然存在。

# backbone.js - 在 Backbone 中的视图内调用路由

> ID：15377662
> 
> 赞同：6
> 
> 时间：2013-03-13T05:23:35.010
> 
> 标签：backbone.js, view, router

我知道有很多关于使用 Backbone.js 组织应用程序的教程/信息。我正在这些教程的帮助下逐渐创建一个。我似乎无法理解路由器的概念。好吧，我知道路由器是起点（并告诉应用程序的状态），最好避免在那里放置更多逻辑。

我有一个路由器。我的应用程序首先会加载页眉、页脚和页面的主要部分。在主要部分，首先，我应该登录用户。要加载登录页面，我会这样做：

```
 var AppRouter = Backbone.Router.extend({
            initialize : function() {
            var headerView = new HeaderView({el:$('#header')});
            headerView.render;

            var footerView = new FooterView({el:$('#footer')});
            footerView.render;

            var loginView = new LoginView({el:$('#login')});
            loginView.render;
        },
        routes : {
            "inbox" : "inbox",
            "sentbox : "sentbox"
        },
        inbox : function() {
            // ...
        },
        sentbox : function() {
            // ...
        }
    });
    app = new AppRouter();
    Backbone.history.start(); 
```

登录成功后，会加载邮件页面。MailView 有一些事件可以显示收件箱，例如发件箱。

```
 events: {
        "click .inbox": "showInbox",
        "click .sentbox": "showSentbox",
      },
       showInbox : function() {
            // app.route() or app.inbox() - ?
      } 
```

此时，我希望路由器分别显示`../#inbox`和`../#sentbox`。我想知道我是否应该在这里调用路由器的一种方法来在地址栏中显示它。为什么我感到困惑是因为据说使用一个路由器比使用更多更好。如果我这样做，我的`AppRouter`情况会更复杂。另一个问题是如果用户直接输入地址，我应该加载那个页面。我认为它需要将逻辑放在*AppRouter*中。

请在这里告诉我正确的方法。预先感谢！

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-13T09:22:57.213

查看 Router.navigate() ( [http://documentcloud.github.com/backbone/#Router-navigate](http://documentcloud.github.com/backbone/#Router-navigate) )

我通常将路由器的实例变量保存在我的 App 对象中，例如

```
var App = {
  Views: {},
  Routers: {},
  Models: {},
  data: {}

  initialize: function() {
    this.data.mainRouter = new App.Routers.MainRouter();
  }
}; 
```

其中 App.MainRouter 定义为：

```
App.Routers.MainRouter = Backbone.Router.extend({

   routes: {
     'route1' : 'route1handler',
     'route2/:param' : 'route2handler'
   },

   ... 
}); 
```

然后在我看来，如果我想导航到新路线，我会打电话：

```
App.data.mainRouter.navigate('route2/param1'); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-03-13T05:29:01.267

您只需通过以下方式将浏览器发送到适当的路由：

```
location.href = "#/the_route_you_want"; 
```

内部的侦听器`Backbone.history`将捕获`hashChange`事件并显示正确的视图。

这可以通过 HTML 以非常简单的方式完成：

```
<a href="#/the_route_you_want">The Route You Want</a> 
```

[供进一步阅读。](http://backbonejs.org/#Router)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-01-13T19:42:11.923

如果您还想调用路由函数，请将 trigger 选项设置为 true：

```
app.navigate("help/troubleshooting", {trigger: true}); 
```

# android - 如何在全景/照片球模式下直接打开相机？

> ID：15377663
> 
> 赞同：15
> 
> 时间：2013-03-13T05:23:36.593
> 
> 标签：android, android-camera, panoramas, android-4.2-jelly-bean

我在 Android 4.2 Jelly Bean 中遇到问题。

如何从我的应用程序中打开相机，默认为全景/360 全景照片模式？

我在[grepcode](http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android-apps/4.1.2_r1/com/android/camera/Camera.java)和[Camera.Parameters](http://developer.android.com/reference/android/hardware/Camera.Parameters.html)中进行了很多搜索，但似乎没有任何帮助。除了视频和图像之外，是否有人有任何线索可以在全景模式下打开相机？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-17T20:09:56.450

没有标准的方法来做到这一点。AFAIK Panorama、Photoshere 是 Gallery3d（由 Google 提供）包 com.google.android.gallery3d 的专有功能。这取决于设备的固件。

在 ApplicationManifest.xml 中

```
<activity clearTaskOnLaunch="true" screenOrientation="0" name="com.google.android.apps.lightcycle.ProtectedPanoramaCaptureActivity" theme="resource_id:0x1030007" configChanges="1184" label="resource_id:0x7f0a00b2" windowSoftInputMode="35" taskAffinity="com.google.android.camera">
<intent-filter>
<action name="android.intent.action.MAIN">
</action>
</intent-filter>
</activity> 
```

我试图从我的应用程序开始这个活动

```
 Intent res = new Intent();
    String mPackage = "com.google.android.gallery3d";
    String mClass = "com.google.android.apps.lightcycle.ProtectedPanoramaCaptureActivity";

    res.setComponent(new ComponentName(mPackage,mClass));
    startActivity(res); 
```

但它会在相机应用程序中引发 NullPointerException。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-25T10:46:29.550

我也希望在我的应用程序中打开 photosphere 相机，或者至少在普通相机中显示 photosphere 选项。我搜索了很多，但我没有找到任何解决方案。

我认为我们没有任何解决方案来打开 photosphere 相机。我们需要等待下一个 Android API 版本。

[如何打开光球相机？](https://stackoverflow.com/questions/16193002/how-to-open-photosphere-camera)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-08-17T13:10:24.187

您可以使用以下代码打开所有默认相机功能

```
 Intent intent = new Intent(MediaStore.INTENT_ACTION_STILL_IMAGE_CAMERA);
    startActivity(intent); 
```

# c# - 如何解决在c#中试图除以零的问题？

> ID：15377666
> 
> 赞同：3
> 
> 时间：2013-03-13T05:24:28.970
> 
> 标签：c#, textbox, decimal, division

我遇到了这个错误，我在下面写了这样的代码

代码：

```
decimal Amnt;
decimal.TryParse(txtAmnt.Text, out Amnt);
int tnure=1;
int.TryParse(txtTnre.Text, out tnure);
txtDdctAmnt.Text = (Amnt /tnure).ToString("0.00"); 
```

当在文本框值 0 中时，我收到此错误。如果可能的话给我答案。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-13T05:27:48.050

`if`在除以零之前简单地使用 an检查怎么样？

```
if(tnure != 0)
    txtDdctAmnt.Text = (Amnt / tnure).ToString("0.00");
else
    txtDdctAmnt.Text = "Invalid value"; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-13T05:27:38.687

检查是否`tnure`不是 0，你得到除以零异常，更多帮助在[http://msdn.microsoft.com/en-us/library/ms173160.aspx](http://msdn.microsoft.com/en-us/library/ms173160.aspx)

```
decimal Amnt;
        decimal.TryParse(txtAmnt.Text, out Amnt);
        int tnure=1;
        int.TryParse(txtTnre.Text, out tnure);
if(tnure!=0)
{
        txtDdctAmnt.Text = (Amnt /tnure).ToString("0.00");
}
else
{
/*handle condition*/
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T05:29:47.927

当tnre为0时，`Amnt /tnure`是被0除。除之前需要检查tnre是否为0，等于0就不要除以tnre。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T05:29:09.533

像这样将您的代码放在 try/Catch 语句中

```
 try
    {
    decimal Amnt;
    decimal.TryParse(txtAmnt.Text, out Amnt);
    int tnure=1;
    int.TryParse(txtTnre.Text, out tnure);
    txtDdctAmnt.Text = (Amnt /tnure).ToString("0.00");
    }
    catch(Exception ex)
    {
        // handle exception here
        Response.Write("Could not divide any number by 0");
    } 
```

# javascript - 如何使用 javascript 获取两个括号之间的子字符串？

> ID：15377675
> 
> 赞同：-1
> 
> 时间：2013-03-13T05:25:19.823
> 
> 标签：javascript, string, parsing, substring, lastindexof

我正在尝试使用 javascript 返回“AA”。

这行不通。

```
var myStr = "Item Code Alpha Tengo (AA)"; 
var newStr = myStr.substring("(",myStr.lastIndexOf(")")); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:51:21.830

你也可以这样做：

```
var myStr = 'Item Code Alpha Tengo (AA)';
myStr.replace(/^[^(]*\(|\)[^)]*$/g, ''); // AA 
```

或更简单的：

```
myStr.replace(/.*\(|\).*/g,'') 
```

# c++ - 我应该作为 C++ 初学者开始使用 boost 吗？

> ID：15377680
> 
> 赞同：0
> 
> 时间：2013-03-13T05:25:38.987
> 
> 标签：c++, boost

我一直在从 Thinking in C++-Bruce Eckel 学习 C++，通常我必须接受 SO 的帮助来消除我的一些疑虑。最近，我一直在处理智能指针、后缀和前缀重载以及重载其他运算符（如 -> 和 ->*）的内容，这对我来说似乎很难掌握。因此，在通过关于重载 ->* 运算符的动态的 SO 问题时，我开始了解很多关于智能指针的知识，因此了解了一个名为 boost 的新库。现在，当我刚刚掌握良好的 C++ 知识时，开始使用该库对我来说是否可行且具有建设性，因为它提供了许多不同的好东西，例如 shared_pointers 等 除了许多其他优化和功能之外，它直接在 C++ 标准库中可用，或者我应该坚持 Eckel 的基础知识，然后再去寻找提升。另外，我想了解更多关于 boost 库的信息（使用它的好处和坏处）。提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T05:43:52.793

正如其他人所指出的，我会看看 C++11 [http://en.wikipedia.org/wiki/C%2B%2B11](http://en.wikipedia.org/wiki/C%2B%2B11)中的新功能。

Boost 本身是一个巨大的库，因此它实际上取决于您计划使用的 boost 的哪个特定部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:59:58.827

作为初学者，请先尝试掌握好语言

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T10:24:00.227

有一些库（如 QuantLib）广泛使用 boost。我认为您可以比您认为可以/应该更快地开始学习它。

你可能想看看这个[对选定提升类的介绍](http://quantlib.org/slides/dima-boost-intro.pdf)

# eclipse - Eclipse：在默认编辑器中打开 perl 文件

> ID：15377684
> 
> 赞同：1
> 
> 时间：2013-03-13T05:25:48.847
> 
> 标签：eclipse, editor, eclipse-rcp, rcp

如何在文本编辑器中打开 perl 脚本文件？

好像现在我正在使用下面的代码在文本编辑器中打开文件

```
IWorkbenchPage page = Activator.getDefault().getWorkbench().getActiveWorkbenchWindow().getActivePage();
    IFileStore fileStore = EFS.getLocalFileSystem().getStore(new Path(path));
        try {
            IDE.openEditorOnFileStore(page, fileStore);
        } catch (PartInitException e1) {
            e1.printStackTrace();
        } 
```

文本文件被正确打开，但 perl 脚本文件被执行。我认为它使用默认文件关联来打开文件。如何更改它以便在文本编辑器中打开我的 perl 脚本？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T13:48:23.560

尝试这样的事情。它绕过了在*getEditorId()*中查找默认编辑器（由*openEditorOnFileStore()*调用）并根据您的选择直接打开一个编辑器。

```
String editorId = "some.editor.ID";
IFileStore fileStore = EFS.getLocalFileSystem().getStore(new Path(path));
page.openEditor(new FileStoreEditorInput(fileStore), editorId); 
```

（疯狂猜测代码，但希望可以工作）

# c# - 控制器注入服务类依赖关系或将其留给服务解决自己的依赖关系？什么是首选方式

> ID：15377685
> 
> 赞同：2
> 
> 时间：2013-03-13T05:25:54.567
> 
> 标签：c#, dependency-injection, repository-pattern, service-layer

我有以下类，后者服务类与特定容器耦合，但如果我使用前者，为什么控制器类应该注入服务类依赖项而不是仅仅使用服务类并将其留给服务类来解决依赖关系？

```
public class ProfileController {

    public ProfileController(IProfileService profileService, IProfileRepository  profileRepository, IUnitOfWork unitOfWork, IDatabaseFactory databaseFactory) {
    profileService.Get();
    }
}

public class ProfileService:IProfileService {

    public ProfileService(IProfileRepository  profileRepository, IUnitOfWork unitOfWork, IDatabaseFactory databaseFactory) {
    profileService.Get();
    }  
} 
```

或者

```
public class ProfileController {
    public ProfileController(IProfileService profileService) {
                            profileService.Get();
    }
}

public class ProfileService:IProfileService {

    public ProfileService() { 
        var dbfactory=container.Resolve<IDatabaseFactory>();
        var unitofwork=container.Resolve<IUnitofWork>();
        var rep=container.Resolve<IProfileRepository>();
        rep.Get();
    }  
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T14:28:33.790

服务类不应该解决它的依赖关系。所以你应该选择选项 1。实例应该与 DI 容器完全无关。

**为什么？**

关注点分离：依赖注入的主要思想是将对象的实例化视为一个不同的关注点，它在一个地方处理：容器。创建实例并在它们之间设置引用是容器的工作。当您让实例本身使用容器时，您会破坏这个概念。

模块类的可重用性：当你有一个“使用”DI容器的类时，你不能再在不同的架构中使用这个类，包括不同的DI框架，而不改变它。尽管您可能不想这样做，但您没有充分的理由限制自己。

语义清晰：您的构造函数参数应回答以下问题：创建该类的实例需要什么。在你的情况下，这是东西：`IDatabaseFactory`等，而不是什么（`()`）。

可测试性：你不希望你的类需要整个 DI 基础设施才能工作。也许出于测试原因，模型应该做的，在运行时由您的 DI 容器完成。这与“可重用性”有关。

快速失败：假设依赖项不可解析：在构建容器时抛出异常而不是在实例化类时抛出异常是很好的。

**摘要**：

```
container.Resolve(...) 
```

不应出现在您的模块中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T18:44:58.290

我觉得这两个例子都偏离了轨道。

建议的解决方案：

```
public class ProfileService:IProfileService {

  public ProfileService(IProfileRepository  profileRepository, IUnitOfWork unitOfWork, IDatabaseFactory databaseFactory) {

  }  
} 
```

通过以下方式在调用者中使用该服务。

```
public class ProfileController {
  [ConstructorInjection]
  public ProfileController(IProfileService profileService) {

  }
} 
```

或者

```
public class ProfileController {
  public ProfileController(IProfileService profileService) {

  }
} 
```

或者

```
public class ProfileController {

  public ProfileController() {
       this.service = resolveFromContainer.Get<IProfileService>();
  }
} 
```

或者

```
public class ProfileController {

  public ProfileController() {
       this.service = new ServiceFactory.get<IProfileService>()
  }
} 
```

(1)。在上述任何一种情况下，*我都不认为关注点分离是一个问题*。控制器没有执行存储库工作。它*仅提供要使用的存储库*。

就暴露模块而言。对于共享程序集**，我同意 100%**我们不应该强制调用者使用 di 容器。

但是，我们可以构建共享代码并让使用应用程序选择如何注入共享模块依赖项。

(2).Marc 在他的回答“语义清晰度：您的构造函数参数应该回答以下问题：我需要什么来创建该类的实例。在您的情况下，这是东西：IDatabaseFactory 等，而不是什么（（））。”

我同意 100%，但是如果你看到控制器构造函数。它不仅有服务，而且还有很多其他的东西。我需要其他所有东西才能让我的控制器工作吗？这是一个特定于应用程序的问题和答案，不能泛化。如果您只需要服务工作，则将其传入。**不要传递服务依赖项，因为它没有定义控制器。它定义了服务。**

传递存储库不同于将开发人员密钥传递给库。尽管您允许灵活地提供存储库，但您也指定了目标。这在某些情况下很有用。想想存储日志信息的库（我们正在指定存储位置）在代码被抽象出来的 RequestProcessor 模式中也很有用。

**问：如果您希望您的服务保存并返回，那么将存储库，dbFactory 传递给它是否正确？**

在上面的新解决方案中。配置文件服务代码不会更改。配置文件服务可能需要数据库、存储库但控制器是否需要所有存储库、工厂、服务才能工作？这是特定于应用程序的

* *Q：传入的参数是创建控制器所需要的，还是间接用来创建下面的其他依赖？**

(3) “container.Resolve(...) 不应出现在您的模块中。”

* *Q:你指的模块是什么？你是说我们应该使用 DI 容器，但不知何故从不选择在任何一段代码中使用 DI 属性/解析方法/依赖配置？**

（我可以看到 di container 的作者对这种想法感到畏缩）

**问：你能回答，在哪里可以使用resolve方法？**

**我 100% 同意共享代码不应使用解析方法**。然而，控制器可以作为应用程序特定的代码，并且确实需要容器来注入/组装其依赖项。

DI 容器是一个核心框架，它是应用程序设计的一等公民。如果我们还没有选择一个 DI 容器来构建，我们真的接受了 DI 吗？

如果 DI 容器是 .NET 库之类的一等公民，那么您永远不会“计划”在没有额外工作的情况下更改容器。寻找可以轻松切换 DI 容器的代码的工作量太大，最好留给微软/社区来解决。

**摘要：** 我同意 Marc 对答案的大部分想法***但是，任何一种解决方案提出的答案都不能正确回答他提出的所有问题。***

参考：

1.  [http://martinfowler.com/articles/injection.html](http://martinfowler.com/articles/injection.html)
2.  [http://msdn.microsoft.com/en-us/magazine/dd882510.aspx](http://msdn.microsoft.com/en-us/magazine/dd882510.aspx)

小抱怨：对上述任一解决方案关于使用工作单元/存储库的小评论

上面链接中的引用代码。public void RunCommands(Invoice invoice) { IUnitOfWork unitOfWork = _unitOfWorkFactory.StartNew();

UnitOfWorkfactory 应该管理数据库工厂并且不应该传递给服务。

恕我直言

我们正在做同样的依赖关系，这对我来说感觉不对。这同样适用于存储库工厂。

工厂应该设置上下文，如数据库上下文等**，责任不应该在服务中。**

这可能是更好的接口 public ProfileService(IProfileRepository profileRepository, IUnitOfWork unitOfWork)

# c# - C# 中泛型的默认类型。SO声称这是不可能的，但EventHandler似乎表现出这种行为？

> ID：15377687
> 
> 赞同：1
> 
> 时间：2013-03-13T05:26:00.623
> 
> 标签：c#, events, generics, delegates

该问题的答案[声称](https://stackoverflow.com/questions/707780/is-there-a-reasonable-approach-to-default-type-parameters-in-c-sharp-generics)，如果泛型类的使用者未指定类型，则无法指定将使用的默认类型参数。

但是，当使用预定义的通用 EventHandler 委托来处理引发事件时……如果您不需要在 EventArgs 参数中传递的任何数据，则实际上不必指定类型参数。换句话说，`public event EventHandler<TEventArgs> EventDelegate;`你可以使用而不是使用`public EventHandler EventDelegate;`

在我对泛型的极其有限的使用中，我发现在不指定类型参数的情况下使用泛型类是不可能的，并且针对链接问题给出的答案会同意这一点，那么预定义的泛型`EventHandler<TEventArgs>`委托是怎么回事违反这个规则？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-13T05:28:49.440

不，这不是“默认”值。 `EventHandler`并且`EventHandler<T>`是完全不同的类型。同样的事情也适用于`IEnumerable`和`IEnumerable<T>`所有其他表现出这种模式的类似名称的类型。

你可以很容易地推出你自己的版本。

```
class MyType
{
    void Foo(object obj) ...
}

class MyType<T> : MyType
{
    void Foo(T obj)
    {
        base.Foo(obj);
    }
} 
```

# c# - c#中的linq谓词

> ID：15377701
> 
> 赞同：0
> 
> 时间：2013-03-13T05:27:26.880
> 
> 标签：c#, asp.net, linq-to-sql, predicate

我有两个没有关系的表（例如：TableEmployee，TableSal），我必须使用这两个表编写谓词，

TableEmployees：此表包含 Name、DepartmentId 列

TableSal：此表包含 Name、DepartmentId、TotalSal

问题：我必须为“TableSal 中的 DepartmentId 是否与 TableEmployees 中的任何 DepartmentId 匹配”编写谓词

我已经尝试了这些方法，但遇到了错误，

方法1：

```
predicate = predicate.And(
      n => context.Tbl_Sal
        .Where(d => d.DepartmentId.HasValue)
        .Select(i => i.DepartmentId)
        .Equals(n.DepartmentId)
      ); 
```

方法2：

```
predicate = predicate.And(
   n => context.Tbl_Sal
      .Where(d => d.DepartmentId.HasValue)
      .ToList().Find(d => d.DepartmentId == n.DepartmentId) != null); 
```

我怎么能写谓词....对于这种情况....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T18:17:06.557

我想知道你为什么要处理原始表达式。使用 linq，您可以执行以下操作：

```
var query = context.TableSal
           .Where(d => context.TableEmployees.Where(e => e.DepartmentId.HasValue)
                      .Select(e => e.DepartmentId)
                      .Contains(d.DepartmentId)); 
```

它为您提供了s 中的所有`TableSal`记录。`DepartmentId``DepartmentId``TableEmployees`

# java - 字符串不正确拆分

> ID：15377711
> 
> 赞同：-1
> 
> 时间：2013-03-13T05:28:36.987
> 
> 标签：java, split

我正在尝试使用 split("#") 打印出字符串的元素，其中 # 是分隔元素的字符。我的代码如下（movies 是正在打印的字符串）：

```
String[] tokens = movies.split("#");
for (int i = 0; i < tokens.length; i++){
    System.out.println(tokens[i]); 
} 
```

以下是电影内容：

```
1 Skyfall#2 The Impossible# 
```

这是正在打印的内容：

```
1 Skyfall
2 The Impossible
2 
```

如果我修改上面的代码，使其循环 (tokens.length - 1) 次而不是 tokens.length，则会打印：

```
1 Skyfall
2 
```

这是使字符串存储在电影中的方法。这使用了一个 LinkedList。在这种情况下，lineNumbers 为真。numItems 是 LinkedList 中 Listnode<String>（又名电影）的数量。

```
String list = "";
int pos = 0;
ListNode node = head;
if (numItems == 0){
    return "Empty";
}
while (pos < numItems){
    if (lineNumbers){
        list += (pos + 1) + " ";
    }
    list += node.getData() + "#";  
    pos++;
    if (pos < numItems){
        node = node.getNext();
    }
}  
return list; 
```

我不知道为什么要打印那个额外的数字。任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:34:13.980

您还没有发布完整的代码，因此很难准确。但是你的分裂很好。

我敢打赌，问题是因为和之间的不`lineNumbers`匹配`pos`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T05:34:21.143

在这段代码中

```
 list += (pos + 1) + " "; 
```

正在执行两次。请检查您的 linenumbers 条件。当它应该为 false 时为 true。

并且在执行语句 pos++ 之后，第二个条件

```
if (pos < numItems){ 
```

不满意，它打破了。

所以最终你有

1 Skyfall#2 不可能#2#

# r - 更改某些计数器值的列值

> ID：15377712
> 
> 赞同：0
> 
> 时间：2013-03-13T05:28:44.520
> 
> 标签：r

我正在使用这样的循环读取数据：

```
for(i in 1:2)
{
n= paste(i,".txt", sep="")
a<- sprintf("table%d", i, i)
data <- read.table(toString(n), header = TRUE, sep = "\t")
...... 
```

然后，我对数据做了一堆东西（得到修剪手段等），然后输入一个包含每个文件平均值的主表。稍后我将在均值上进行方差分析。

无论如何，我需要反转某些文件（or 语句中的那些）的分数以使它们等效（a 到 b 和 b 到 a）。这就是我的做法，但它看起来很愚蠢，有没有更简洁的语法来做到这一点？

```
if (i ==(2|4|6|7|9|11|14|16|18|19|21|23|25|28|30|32|34|36))
{
data$Reqresponse[data$Reqresponse == "a"] <- "nw"
data$Reqresponse[data$Reqresponse == "b"] <- "w"
data$Reqresponse[data$Reqresponse == "nw"] <- "b"
data$Reqresponse[data$Reqresponse == "w"] <- "a"
} 
```

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T05:42:57.480

如果你想换掉东西，你需要暂时把它们放在某个地方。

如果你这样做 了`a <- b`，那么`b <- a` 它们最终都会得到相同的值。你需要改为 `TMP <- a` `a <- b` `b <- TMP`

至于`or`声明，您可能正在寻找`%in%`@sebastian-c 指出的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T05:53:10.210

你所做的正是我在发现之前的处理方式`plyr`。这是我现在处理类似情况的方法。可能有人可以向您展示更快的方法，但这是我将如何解决您的情况。

```
library(plyr)

#Assuming all your files are in the working directory
filenames <- list.files(".", ".txt") 
#Assuming your files are "1.txt" etc
file.index <- sub("([0-9]+).txt", "\\1", filenames) 
#reads in all the files
import <- mdply(filenames, read.table, header = TRUE, sep = "\t") 
#Assigns the index to each group of rows from each file
import$index <- file.index[import$X1] 

#Gives you one big table to work with.
#Fix your reversing issue
import$Reqresponse.alt[import$Reqresponse == "a" & import$index %in% c(2,4,6,7,9,11,14,16,18,19,21,23,25,28,30,32,34,36)] <- "b"
import$Reqresponse.alt[import$Reqresponse == "b" & import$index %in% c(2,4,6,7,9,11,14,16,18,19,21,23,25,28,30,32,34,36)] <- "a"

import$Reqresponse <- import$Reqresponse.alt
import$Reqresponse.alt <- NULL

#Now your table should be clean
#You can use plyr to to summarise your data

import.summary <- ddply(import, .(index), summarise,
                        demo.mean = mean(demo), #functions you want to summarise with go here
                        demo.sd = sd(demo),
                        #etc
                        ) 
```

显然，我没有您的实际数据可以用来检查我没有犯错，但这只是现在对我来说运行良好的工作流程。

# php - 在php中返回对象？

> ID：15377720
> 
> 赞同：1
> 
> 时间：2013-03-13T05:29:12.407
> 
> 标签：php, object

在 php 中返回一个对象会创建该对象的一个​​新实例吗？

我有一个为我存储对象的类，该类是一个返回任何给定对象的方法。例子;

```
class Simple {

     private $obj = array();

public function loadObj($name) {

    $this->obj[$name] = new $name();
}

public function getObj($key) {

    if(isset($this->obj[$key])) {
        return $this->obj[$key];
    }
}
} 
```

然后在我的代码中我可以做这样的事情，

```
$a = new Simple();
$a->addObj('cat');
$cat1 = $a->getObj('cat');
$cat2 = $a->getObj('cat'); 
```

这是否每次都实例化一只新猫？

假设 cat 有一个颜色变量和 and 方法`setColor`，`getColor`如果我用改变颜色`$cat1`并用它来获取它，`$cat2`它们会一样吗？

我会测试它，但我不在家。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:30:40.887

不，两次都只会返回相同的值，因为您只在一个对象上调用该函数 `$a->`两次。除非您`addObj`多次调用，否则它不会在其中生成更多对象。也`addObj`没有在您的班级中定义。这是`loadObj`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-02-16T19:40:21.827

我明白了你的要求，我想我在 PHP 手册中找到了正确的答案。

“PHP 引用是一个别名，它允许两个不同的变量写入同一个值。从 PHP 5 开始，对象变量不再包含对象本身作为值。它只包含一个对象标识符，允许对象访问器找到实际的对象。当一个对象通过参数发送，返回或分配给另一个变量时，不同的变量不是别名：它们持有标识符的副本，它指向同一个对象。

所以是的，如果你在 $cat1 上调用 set color ，它也会改变 $cat2 上的颜色，因为引用是指向同一个对象的别名。

[http://php.net/manual/en/language.oop5.references.php](http://php.net/manual/en/language.oop5.references.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-02-16T20:00:02.640

每个 PHP 对象都由一个句柄（一个数字）[标识。](http://php.net/manual/en/language.oop5.references.php)解释器使用句柄在内部表中查找对象。

一个存储 PHP 对象的变量实际上存储了这个句柄。当对象被分配给另一个变量时，句柄被复制到新变量，而不是实际对象的数据。

> 在 php 中返回一个对象会创建该对象的新实例吗？

在 PHP 中有两个创建新对象的操作符：[`new`](http://php.net/manual/en/language.oop5.basic.php#language.oop5.basic.new)和[`clone`](http://php.net/manual/en/language.oop5.cloning.php).

对象的所有其他操作（赋值、作为参数传递给函数的对象和函数返回的对象）复制对象句柄并且不复制实际对象。

# android - PhoneGap Android Native 导航栏

> ID：15377721
> 
> 赞同：1
> 
> 时间：2013-03-13T05:29:18.893
> 
> 标签：android, cordova, cross-platform

我正在开发一个跨平台应用程序，该应用程序最初将针对 Android 设备，然后是 iOS。我正在使用PhoneGap。到目前为止，我已经在 Index.html 中为应用程序设计了主屏幕，并且一直坚持添加 Android 的 NATIVE 导航栏。就像这个屏幕中的一个 -> [FourSquare 应用程序](http://wwwimages.adobe.com/www.adobe.com/content/dam/Adobe/en/devnet/phonegap/creating-apps-with-phonegap-lessons/fig01b.png)

经过一点个人的研发，我知道了 JQuery 和 WebView 对嵌入原生 UI 很有用，不是吗？但我还没有弄清楚，我到底应该用什么来实现这一点，为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T21:00:24.230

PhoneGap 使用 HTML 和 CSS 来创建 UI 元素。在 UI 方面，您可以使用 jQuery Mobile 让您的生活变得非常轻松。例如，如果您想要一个类似于链接中的标题栏，您可以在此页面上查看 jQuery Mobile 中的标题栏：http: [//view.jquerymobile.com/1.3.0/docs/widgets/headers/](http://view.jquerymobile.com/1.3.0/docs/widgets/headers/) .

您也可以使用自定义 HTML 和 CSS 制作该标题，并且有很多方法可以做到这一点，但是，如果您通过 PhoneGap 进行开发，我强烈推荐使用 jQuery Mobile。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:59:17.250

在菜单的情况下，我找到并遵循了[这个](http://simonmacdonald.blogspot.in/2012/11/building-native-menu-with-phonegap.html)

所以，我希望导航栏的方法可能不会有太大的不同。纠正我，如果是这样。

# linux - int 和 long 的范围是多少，只要它们都是 4 个字节

> ID：15377722
> 
> 赞同：-2
> 
> 时间：2013-03-13T05:29:21.123
> 
> 标签：linux, types, i386

4 个字节的 long 如何比 int 有更宽的范围？来源： http: [//lwn.net/images/pdf/LDD3/ch11.pdf](http://lwn.net/images/pdf/LDD3/ch11.pdf)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T05:38:18.640

该 PDF 部分的重点是涵盖基础类型不同的*情况*`int`。Linux 可以在各种机器上运行，比如手表和我的工作中价值数百万美元的大型主机。`long`

 *例如， on `alpha`, `ia64`and `x86_64`（来自第 289 页的表格）`int`是 4 个字节和`long`8 个字节：

```
 Size:
arch    char short int long ptr long-long u8 u16 u32 u64
======  ==== ===== === ==== === ========= == === === ===
i386       1     2   4    4   4         8  1   2   4   8
alpha      1     2   4    8   8         8  1   2   4   8
armv4l     1     2   4    4   4         8  1   2   4   8
ia64       1     2   4    8   8         8  1   2   4   8
m68k       1     2   4    4   4         8  1   2   4   8
mips       1     2   4    4   4         8  1   2   4   8
ppc        1     2   4    4   4         8  1   2   4   8
sparc      1     2   4    4   4         8  1   2   4   8
sparc64    1     2   4    4   4         8  1   2   4   8
x86_64     1     2   4    8   8         8  1   2   4   8 
```

因此，您的问题标题是一个谬误。四字节（或八字节）`long`几乎肯定会比两字节（或四字节）的范围更广`int`。

请参阅该 PDF 中的以下引用：

> 问题是当您需要“2 字节填充符”或“表示 4 字节字符串的东西”时，您不能使用标准类型，因为普通 C 数据类型在所有体系结构上的大小都不相同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-20T15:10:13.120

`int`并且`float`具有相同的位数，但使用不同的数字表示方式：

`float`使用[https://en.wikipedia.org/wiki/IEEE_floating_point](https://en.wikipedia.org/wiki/IEEE_floating_point)

`int`（通常）使用[http://en.wikipedia.org/wiki/Two%27s_complement](http://en.wikipedia.org/wiki/Two%27s_complement)*

# ruby-on-rails - Rails 活动记录没有返回我所期望的

> ID：15377732
> 
> 赞同：0
> 
> 时间：2013-03-13T05:30:06.283
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我有一个 Locations 表，里面有 4 个位置。架构如下：

```
create_table "locations", :force => true do |t|
    t.string   "name"
    t.string   "address"
    t.string   "city"
    t.string   "state"
    t.string   "zip"
    t.datetime "created_at", :null => false
    t.datetime "updated_at", :null => false
  end 
```

我在 ajax 调用中运行它，它`Location`在下面的 puts 行中不断返回。

```
@current_location = Location.where('lower(name) = ?', params[:id][1..-1].humanize.downcase)     
p "@current_location = #{@current_location}" 
```

`params[:id][1..-1].humanize.downcase`解释为`'brooklyn park'`

我实际上并没有在日志文件中找到这个查询，当我将活动记录复制并粘贴到 rails 控制台时，它似乎工作得很好。

为什么总是返回`'Location'`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:45:42.087

代替

```
@current_location = Location.where('lower(name) = ?', params[:id][1..-1].humanize.downcase) 
```

和

```
@current_location = Location.where('lower(name) = ?', params[:id][1..-1].humanize.downcase).first 
```

# java - 我如何从 jar 文件中制作 .exe 文件

> ID：15377734
> 
> 赞同：1
> 
> 时间：2013-03-13T05:30:10.697
> 
> 标签：java, dependency-injection, exe

我使用 jdk 6 开发了一个系统。然后我想将该系统部署到所有类型的用户（windows、linux）。我也想创建。exe文件安装在客户端机器内。这个过程应该检查客户端机器内部是否存在java（兼容版本）。如果机器内没有java，那么安装过程应该提供安装它的工具。并且用于执行此操作的软件应该是免费提供的。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:35:06.577

请尝试使用 NSIS ( [http://nsis.sourceforge.net/Main_Page](http://nsis.sourceforge.net/Main_Page) )。基本上你需要编写一个 NSIS 脚本来执行以下操作

1.  检查 JAVA 是否存在。[取决于 32 或 64 位机器，您需要检查不同的节点]
2.  获取java路径
3.  运行命令 java -jar XXXX

NSIS 站点上有许多示例脚本可用。如果您需要更多帮助，请告诉我。我将向您发送示例脚本。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T05:36:55.913

可用的工具很少。谷歌搜索“JarToExe”、“advanceInstaller”。

REF：[将 Jar 文件转换为 EXE 可执行文件](http://viralpatel.net/blogs/convert-jar-to-exe-executable-jar-file-to-exe-converting/)

# android - 在 Android 中为给定的 Gmail 用户 ID 和密码生成 OAuth 2.0 访问令牌

> ID：15377735
> 
> 赞同：1
> 
> 时间：2013-03-13T05:30:11.460
> 
> 标签：android, gmail

我是 OAuth2.0 概念的新手，我需要知道是否可以在 android 中为给定的 gmail id 和密码生成访问令牌？如果可以的话可以给我教程吗。

# asp.net-mvc - 部署后未触发 MVC 编辑器模板

> ID：15377739
> 
> 赞同：2
> 
> 时间：2013-03-13T05:30:29.107
> 
> 标签：asp.net-mvc, appharbor, mvc-editor-templates

**更新：**

感谢@ngm 评论，我已经从 bitbuket 下载了构建文件，发现文件确实不在正确的路径中。

我再次查看了 bitbucket 中的存储库，它就在那里……这怎么可能发生？

* * *

**原帖：**

我创建了以下编辑器模板：

```
@model CamelotFaultManagement.Models.OptionListViewModel
<div class="btn-group">

@foreach (var item in Model.ListItems)
{
    string RadioButtonID = ViewData.ModelMetadata.PropertyName+item.ItemID; 

    @Html.RadioButtonFor(m => m.SelectedItemID, item.ItemID, new { id = RadioButtonID })
    <label class="btn" for="@RadioButtonID">@item.ItemName</label>
}

</div> 
```

我将 OptionListViewModel.cshtml 放在 Views/Shared/EditorTemplates

并在以下视图中使用它：

```
<div class="editor-label">
    @Html.LabelFor(model => model.FaultTypeID)
</div>
<div class="editor-field">
    @Html.EditorFor(model => model.FaultTypeID)
    @Html.ValidationMessageFor(model => model.FaultTypeID)  
</div> 
```

model.FaultTypeID 是 OptionListViewModel 类型

当我在本地运行我的应用程序时，一切正常，但在部署到 appharbor 后它不起作用，就好像它根本找不到编辑器模板（见截图）。 ![当地的](../Images/d5c11a0395662089a615b95bf2e956ab.png)

![应用港](../Images/f74b019601c1667ca975fdadd68808f9.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-13T18:04:00.057

所以......非常感谢@ngm为我指出正确的方向......

由于`OptionListViewModel.cshtml`某种原因，它没有包含在 app-harbor 的发布版本中。在查看 git 中的 porject 文件更改后，我注意到该特定编辑器模板视图的构建操作由于某种原因被设置为“无”。我已将其更改为“内容”，现在 app-harbor 复制文件并且一切正常。

# jquery - 如何在jquery中检查一行内的元素？

> ID：15377740
> 
> 赞同：0
> 
> 时间：2013-03-13T05:30:32.340
> 
> 标签：jquery

我有一个有几行的表。其中一行包含一个表（没有任何 id 或类）。我可以遍历每一行。如何确定当前行是否包含表格？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:34:38.343

你可以尝试这样的事情：

```
$("#outerTable tr").each(function()
{
   if($(this).find("table").length > 0){
    //this row contains the table
   }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:38:59.963

您可以通过 has() 方法或使用 find() 方法进行检查。 [有（）](http://api.jquery.com/has/)

```
if($('#yourTable tr').has('table'))
{ 
  //do something 
} 
```

或者

```
if($('tr').find('table').length>0)
{ 
  //do something 
} 
```

# php - 当两个用户同时提交两个表单时更新数据库中的错误值

> ID：15377743
> 
> 赞同：0
> 
> 时间：2013-03-13T05:30:40.510
> 
> 标签：php

您好，感谢您查看我的代码！

好吧，当两个用户同时提交两个表单时，我遇到了问题。我将尝试详细说明。

我的表单必须更新三个用户值，

**我的PHP：**

```
<?php
set_time_limit(60);
if (isset($_POST['submit-buy'])) {
    $buy_id = $_POST['buy_id'];
    $buyer_id = $_POST['buyer_id']; 
    $buy_value = $_POST['buy_value'];
    $owner_id = $_POST['owner_id']; 

    // more function goes here and returns value below i am also using if else to check if any value change it gives error msg to slow down
    // $petvalue = 100000;
    // $pet_earn = 5500;
    // $check_petcash = 10000000;
    // $pet_newvalue = 110000;
    // $pet_updateoid = 1;
    // $pettobuy = 2;

    // first

    $check_petcash = $pet_user->cash;    //checking before updating
    $pet_newcash = round($check_petcash + $pet_earn);            // pet new cash        
    $upet_newvalue = mysql_query("UPDATE members SET value='$pet_newvalue', cash='$pet_newcash', ownerid='$pet_updateoid' WHERE id='$pettobuy'");       

    // second
    // $old_owner = 3;

    $ex_owner_cash = $oldowner->cash;    //checking before updating     
    $ex_owner_newcash = round($ex_owner_cash + $petvalue + $pet_earn);  // old owner cash               
    $update_newcash = mysql_query("UPDATE members SET cash='$ex_owner_newcash' WHERE id='$old_owner'"); 

    // and last
    // $pet_buyvalue = 120000;
    // $user_id = 1;

    $new_user_cash = $new_owner->cash;      //checking before updating 
    $new_ownercash = round($new_user_cash - ($pet_buyvalue - $pet_earn));  // user cash         
    $upadte_ownercash = mysql_query("UPDATE members SET cash='$new_ownercash' WHERE id='$user_id'");

    $msg = '<span id="other-info-font">You bought pet yay!</span><br/>';        
}
?> 
```

主要问题发生在两个用户同时提交表单并且一个具有快速网络而另一个没有时。有时它会削减**$new_ownercash**。有时只有第一个和第二个查询得到更新，第三个没有任何更改或（我的意思是第二个和第三个查询中的所有计算都出错）作为其他用户提交表单。我有很多用户，它是一个游戏买卖，我们正在进行 beta 测试，所以还有时间修复它。

当所有用户同时玩游戏并且搞砸所有事情时，就会发生这种情况。我很聪明，因为我是新手。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:39:13.263

你没有给变量`$old_owner`赋值！同上`$user_id`

BTW - 停止使用 mysql_ 库，因为它们已被弃用。还要研究 SQL 注入 - 这很危险，而且你的脚本充满了可能性。

**编辑**

您`WHERE`在第二次和第三次更新中使用了相同的子句。因此，“同时”运行脚本将取决于如何首先更新表格。

当然`$old_owner`并且`$user_id`应该同时在脚本的两次执行中有所不同？

# javascript - 如何通过将鼠标悬停在幻灯片上来暂停幻灯片

> ID：15377751
> 
> 赞同：0
> 
> 时间：2013-03-13T05:31:15.053
> 
> 标签：javascript, jquery, html

好的，我的幻灯片工作正常，但我不知道如何判断鼠标是否悬停在图像上。

Javascript：

```
<script type="text/javascript">     
    var hovering = false;
    $('#slideshow').hover(function () {   //not sure if #slideshow is the right thing to put here
        hovering = true;
    }, function () {
        hovering = false;
        slideShow();
    });

    $(document).ready(function(){
        slideShow();
    });
    function slideShow() {
        if(!hovering) {
            var showing = $('#slideshow .show');
            var next = showing.next().length ? showing.next() : showing.parent().children(':first');
            var timer;
            showing.fadeOut(500, function() { next.fadeIn(200).addClass('show'); }).removeClass('show');
            setTimeout(slideShow, 3000);
        }
    }
</script> 
```

HTML：

```
<div id="slideshow">
    <img class="show" src="../images/food/chicken_quesa.jpg">
    <img src="../images/food/beet_salad.jpg">
    <img src="../images/food/pasta_display.jpg">
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:41:33.920

试试这样：

```
$(document).ready(function() {

    var timer;

    $("#slideshow div").hide();

    $("#slideshow")
        // when mouse enters, clear the timer if it has been set
        .mouseenter(function() {
            if (timer) { clearInterval(timer) }
        })
        // when mouse goes out, start the slideshow
        .mouseleave(function() {
            timer = setInterval(function() {
                $("#slideshow > div:first")
                    .fadeOut(1000)
                    .next()
                    .fadeIn(1000)
                    .end()
                    .appendTo("#slideshow");
            }, 3000);
        })
        // trigger mouseleave for initial slideshow starting
        .mouseleave();

});​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:34:22.310

用于`mouseenter and mouseleave`它：

```
$('#slideshow').mouseenter(function () {
    hovering = true;
}).mouseleave(function () {
    hovering = false;
    slideShow();
}); 
```

阅读文档[鼠标进入](http://api.jquery.com/mouseenter/)和 [鼠标离开](http://api.jquery.com/mouseleave/)

# sql-server-2008 - T-SQL 选择每年的总和，并预测明年

> ID：15377753
> 
> 赞同：2
> 
> 时间：2013-03-13T05:31:16.287
> 
> 标签：sql-server-2008, tsql

我有一个非常简单的表格：

```
Date, kWh 
```

它有大约 4 年的数据。

如何生成如下结果集：

```
Year, Result
2010, 123211
2011, 123213
2012, 123211
2013, xxxxxx 
```

其中 xxxx 是对该年度的预测。

该预测将结合 2013 年迄今为止的日期总和，加上平均千瓦时乘以 2013 年剩余的天数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T06:57:02.243

This will calculate projected use correctly with leap years. As you can see, the leap year calculation takes more logic than the rest. Since the projection comes closer as the year progresses, then the whole year has passed, "Projected" shows actual use.

```
SELECT DATEPART(YEAR, [Date]) year, SUM(kWh) * 
  (365 + ISDATE(CAST(DATEPART(YEAR, [DATE]) AS char(4)) + '0229')) / 
  COUNT(kWh) Projected
FROM readings
GROUP BY DATEPART(YEAR, [Date]) 
```

[A simple SQLfiddle to test with](http://sqlfiddle.com/#!6/99066/5).

To make the average count over multiple years, the query needs to be modified a little;

```
WITH average AS (SELECT AVG(kWh) kWh FROM readings)
SELECT DATEPART(YEAR, a.[Date]) year, SUM(a.kWh) + AVG(b.kWh) *
  ((365 + ISDATE(CAST(DATEPART(YEAR, a.[DATE]) AS char(4)) + '0229')) -
  COUNT(a.kWh)) Projected
FROM readings a, average b
GROUP BY DATEPART(YEAR, a.[Date]) 
```

This uses a cte to calculate the average to use it later in the query.

[Another SQLfiddle](http://sqlfiddle.com/#!6/26eed/3).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T08:34:38.460

你应该做两个查询。第一个是按 YEAR 的简单分组，第二个是关于去年、剩余天数、平均 kWh 的一行信息查询。然后突出 LEFT JOIN 这些表，你会得到你想要的。

## [SQLFiddle 演示](http://sqlfiddle.com/#!3/c1277/4)

```
with t1 as
(
select 
       DATEPART(YEAR,[Date]) as Year,
       sum(kWh) SumKWH
from t
group by 
DATEPART(YEAR,[Date])
),
t2 as
(
select max(DATEPART(YEAR,[Date])) as MaxYear,
       AVG(kWH) as AverageKWH,
       DATEDIFF(DAY,max([Date]),
       CAST( CAST(max(DATEPART(YEAR,[Date])) as varchar(4))+'-12-31' as datetime)
                ) DaysLeft

from t
  )
select t1.YEAR, 
t1.SumKWH+ISNULL(AVERAGEKWH*DAYSLEFT,0)
from t1 
left join t2 on (t1.Year=t2.MaxYear)
order by t1.YEAR; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T06:28:16.167

假设每年有 365 天，当然不是真的……

```
select Datepart(YEAR,[Date]) as [Year],
           case when Datepart(YEAR,[Date]) = Datepart(YEAR, getdate()) 
        then  365*Avg(Kwh)
        else  SUM(Kwh) end as TotalKwh
    from table_1
    group by Datepart(YEAR,[Date]) 
```

# java - AWS VPC 中的 Couchbase 连接不良（超时）

> ID：15377754
> 
> 赞同：6
> 
> 时间：2013-03-13T05:31:17.457
> 
> 标签：java, timeout, couchbase, connectivity

我遇到了连接问题，这在 Amazon 环境 (AWS) 中的私有虚拟 vpc 中很奇怪。我的上下文是这样的，我在这个子网中有子网，我有 2 台机器，一台使用 Couchbase java SDK 的客户端机器和一台用于 Couchbase 服务器的机器。两者都是大型实例。当前的 java 版本 1.6 。我已经为安全组上的 Couchbase 打开了所有必需的端口 (8091,8092,11210)。我正在使用 curl 命令测试连接，以测试与存储桶的连接，这里没有问题。奇怪的行为是当我尝试使用 java 客户端访问视图时，因为尽管 java 客户端已成功通过身份验证，但我收到超时错误。

这是我的日志的样子：

```
(CacheManager.java:102) -B06C9F5CFF85- Cache client checked out [stdout]
INFO com.couchbase.client.CouchbaseConnection: Added {QA sa=/10.0.X.XXX:11210, #Rops=0, #Wops=0, #iq=0, topRop=null, topWop=null, toWrite=0, interested=0} to connect queue
INFO com.couchbase.client.CouchbaseConnection: Connection state changed for sun.nio.ch.SelectionKeyImpl@57a220c2
INFO net.spy.memcached.auth.AuthThread: Authenticated to 10.0.X.XXX/10.0.X.XXX:11210
Added 10.0.X.XXX to connect queue
INFO com.couchbase.client.CouchbaseClient: viewmode property isn't defined. Setting viewmode to production mode
INFO com.couchbase.client.http.AsyncConnectionManager: Opening new Couchbase HTTP connection
INFO com.couchbase.client.http.AsyncConnectionManager$ConnRequestCallback: /10.0.X.XXX:8092 - Session request successful
ERROR com.couchbase.client.ViewNode$EventLogger: Connection timed out: [10.0.X.XXX/10.0.X.XXX:8092]
and then after a while
INFO com.couchbase.client.ViewConnection: Node 10.0.X.XXX has no ops in the queue
INFO com.couchbase.client.ViewNode: I/O reactor terminated for 10.0.X.XXX
SHUTTING DOWN (informed client)) INFO com.couchbase.client.CouchbaseConnection: Shut down Couchbase client 
```

所以突然间连接无故超时，然后客户端自行关闭。

其他上下文数据：Couchbase 服务器企业 2.0 Java 1.6 Ubuntu 11.10 服务器 x64

在我的本地机器上，我有一个 Couchbase 在本地 lan 的本地 vm 中运行，我在使用它时没有问题。

任何人都可以帮助调试这个。我们想将 Couchbase 投入生产，但没有这个我们就无法前进。

预先感谢您提供任何帮助或信息。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-09-19T18:32:39.070

每个 couchbase 客户端文档 -

> Couchbase 集群中任何给定节点的默认超时为 2.5 秒。如果此时 Couchbase SDK 没有收到来自服务器的响应，它将断开与 Couchbase 服务器的连接并尝试连接到另一个节点。

如果您的连接不好或不可靠，您可能需要更改“OpTimeout”值。

```
CouchbaseConnectionFactoryBuilder b = new CouchbaseConnectionFactoryBuilder();
            b.setOpTimeout(5000);
            client = new CouchbaseClient(b.buildCouchbaseConnection(nodes, "bucket-name", "pass")); 
```

# java - 将汉字从一个文件写入另一个文件

> ID：15377756
> 
> 赞同：1
> 
> 时间：2013-03-13T05:31:20.047
> 
> 标签：java, filestream, fileoutputstream, stringwriter

我有一个包含汉字文本的文件，我想将这些文本复制到另一个文件中。但是文件输出与中文字符混淆。请注意，在我的代码中，我已经使用“UTF8”作为我的编码：

```
BufferedReader br = new BufferedReader(new FileReader(inputXml));
StringBuilder sb = new StringBuilder();
String line = br.readLine();
while (line != null) {
sb.append(line);
sb.append("\n");
line = br.readLine();
}
String everythingUpdate = sb.toString();

Writer out = new BufferedWriter(new OutputStreamWriter(
        new FileOutputStream(outputXml), "UTF8"));

out.write("");
out.write(everythingUpdate);
out.flush();
out.close(); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T07:31:57.507

@hyde 的回答是有效的，但我有两个额外的注释，我将在下面的代码中指出。

当然，您可以根据需要重新组织代码

```
// Try with resource is used here to guarantee that the IO resources are properly closed
// Your code does not do that properly, the input part is not closed at all
// the output an in case of an exception, will not be closed as well
try (BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(inputXML), "UTF-8"));
    PrintWriter out = new PrintWriter(new OutputStreamWriter(new FileOutputStream(outputXML), "UTF8"))) {
    String line = reader.readLine();

    while (line != null) {
    out.println("");
    out.println(line);

    // It is highly recommended to use the line separator and other such
    // properties according to your host, so using System.getProperty("line.separator")
    // will guarantee that you are using the proper line separator for your host
    out.println(System.getProperty("line.separator"));
    line = reader.readLine();
    }
} catch (IOException e) {
  e.printStackTrace();
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T07:02:21.430

在这种情况下，您不应该使用[FileReader](http://docs.oracle.com/javase/6/docs/api/java/io/FileReader.html)，因为它不允许您指定输入编码。在[FileInputStream](http://docs.oracle.com/javase/6/docs/api/java/io/FileInputStream.html)上构造[InputStreamReader](http://docs.oracle.com/javase/6/docs/api/java/io/InputStreamReader.html)。

像这样的东西：

```
BufferedReader br = 
        new BufferedReader(
            new InputStreamReader(
                new FileInputStream(inputXml), 
                "UTF8")); 
```

# binding - 通过 LDAP 连接到 Websphere MQ java.lang.UnsatisfiedLinkError: no mqjbnd in java.library.pat

> ID：15377761
> 
> 赞同：2
> 
> 时间：2013-03-13T05:31:41.490
> 
> 标签：binding, jndi, ibm-mq

我正在尝试连接到在 Sun 1.7 JDK 中运行的 Linux 64 位上的 Websphere MQ 6。

我试图通过 JNDI 连接到 MQServer，在 LDAP 中查找对象，因为我的应用程序服务器与 MQ 服务器是分开的，因此我不能使用文件系统 JNDI。

这一切在我的开发盒上都可以正常工作，但是我有 1) Windows 和 2) 已经安装了 MQ 服务器。

我可以通过 Websphere MQ Explorer 连接到 LDAP 并在 LDAP 中创建绑定对象。

Java 应用程序可以访问 JNDI 对象并尝试创建连接，但出现错误 java.lang.UnsatisfiedLinkError: no mqjbnd in java.library.path

我已经从[这里安装了 7.5 客户端](http://www-304.ibm.com/support/docview.wss?uid=swg24032744)

运行命令后 LD_LIBRARY_PATH 设置为默认值

```
. /opt/mqm/bin/setmqenv -s -l 
```

实际路径是

```
LD_LIBRARY_PATH = /usr/java/default/jre/lib/i386:/opt/mqm/lib64/compat:/opt/mqm/lib/compat 
```

我还在 JVM 上明确设置了 -Djava.library.path=$LD_LIBRARY_PATH。

但是当我查看路径 /opt/mqm/lib64/compat:/opt/mqm/lib/compat 时，我看不到 mqjbnd 或类似的东西。

许多帖子和技术讨论说客户端安装中没有mqjbnd只有服务器安装。我很困惑，因为我只想查找 QueueManager 并通过 JNDI 使用队列项——我应该只需要安装客户端而不是服务器吗？

LDAP 方法是否适合我使用？我尝试使用 com.ibm.mq.jms.context.WMQInitialContextFactory 但永远无法获得安全权限。

抱歉，这让我很头疼——我不禁将其与连接到 ActiveMQ 的便利性进行比较——我一定是在这里做错了。

例外是

```
[2013-03-13 14:32:41,389] ERROR - ServiceTaskManager Error acquiring a JMS connection to : cn=ConnectionFactoryLdap using JNDI properties : {java.naming.factory.initial=com.sun.jndi.ldap.LdapCtxFactory, java.naming.provider.url=ldap://LDAPSERVER:10389/dc=example,dc=com, transport.jms.ConnectionFactory=ibmMQQueueConnectionFactory, transport.jms.ConnectionFactoryType=queue, serviceType=proxy}
com.ibm.msg.client.jms.DetailedJMSException: JMSFMQ6312: An exception occurred in the Java(tm) MQI.
The Java(tm) MQI has thrown an exception describing the problem.
See the linked exception for further information.
        at sun.reflect.GeneratedConstructorAccessor30.newInstance(Unknown Source)
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
        at java.lang.reflect.Constructor.newInstance(Constructor.java:525)
        at com.ibm.msg.client.commonservices.j2se.NLSServices.createException(NLSServices.java:319)
        at com.ibm.msg.client.commonservices.nls.NLSServices.createException(NLSServices.java:233)
        at com.ibm.msg.client.wmq.factories.WMQConnectionFactory.createV7ProviderConnection(WMQConnectionFactory.java:6863)
        at com.ibm.msg.client.wmq.factories.WMQConnectionFactory.createProviderConnection(WMQConnectionFactory.java:6254)
        at com.ibm.msg.client.jms.admin.JmsConnectionFactoryImpl.createConnection(JmsConnectionFactoryImpl.java:285)
        at com.ibm.mq.jms.MQConnectionFactory.createCommonConnection(MQConnectionFactory.java:6189)
        at com.ibm.mq.jms.MQConnectionFactory.createConnection(MQConnectionFactory.java:6218)
        at org.apache.axis2.transport.jms.JMSUtils.createConnection(JMSUtils.java:555)
        at org.apache.axis2.transport.jms.ServiceTaskManager$MessageListenerTask.createConnection(ServiceTaskManager.java:824)
        at org.apache.axis2.transport.jms.ServiceTaskManager$MessageListenerTask.getConnection(ServiceTaskManager.java:706)
        at org.apache.axis2.transport.jms.ServiceTaskManager$MessageListenerTask.receiveMessage(ServiceTaskManager.java:496)
        at org.apache.axis2.transport.jms.ServiceTaskManager$MessageListenerTask.run(ServiceTaskManager.java:420)
        at org.apache.axis2.transport.base.threads.NativeWorkerPool$1.run(NativeWorkerPool.java:172)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:722)
Caused by: com.ibm.mq.jmqi.JmqiException: CC=2;RC=2495;AMQ8568: The native JNI library 'mqjbnd' was not found. For a client installation this is expected. [3=mqjbnd]
        at com.ibm.mq.jmqi.local.LocalMQ$1.run(LocalMQ.java:304)
        at java.security.AccessController.doPrivileged(Native Method)
        at com.ibm.mq.jmqi.local.LocalMQ.initialise_inner(LocalMQ.java:268)
        at com.ibm.mq.jmqi.local.LocalMQ.initialise(LocalMQ.java:231)
        at com.ibm.mq.jmqi.local.LocalMQ.<init>(LocalMQ.java:1194)
        at com.ibm.mq.jmqi.local.LocalServer.<init>(LocalServer.java:206)
        at sun.reflect.GeneratedConstructorAccessor29.newInstance(Unknown Source)
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
        at java.lang.reflect.Constructor.newInstance(Constructor.java:525)
        at com.ibm.mq.jmqi.JmqiEnvironment.getInstance(JmqiEnvironment.java:732)
        at com.ibm.mq.jmqi.JmqiEnvironment.getMQI(JmqiEnvironment.java:666)
        at com.ibm.msg.client.wmq.factories.WMQConnectionFactory.createV7ProviderConnection(WMQConnectionFactory.java:6855)
        ... 13 more
Caused by: java.lang.UnsatisfiedLinkError: no mqjbnd in java.library.path
        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1860)
        at java.lang.Runtime.loadLibrary0(Runtime.java:845)
        at java.lang.System.loadLibrary(System.java:1084)
        at com.ibm.mq.jmqi.local.LocalMQ.loadLib(LocalMQ.java:1138)
        at com.ibm.mq.jmqi.local.LocalMQ$1.run(LocalMQ.java:279)
        ... 24 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-22T18:56:48.030

打开 Tomcat 服务器 -> 打开 lauch 配置 -> 在 Argument 选项卡下 ->-Djava.library.path="C:\IBM\WebSphere MQ\java\lib64"

它会解决你的异常，它基本上是要求运行时库

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T21:48:43.490

好的，所以 LDAP ConnnectionFactory 传输设置为绑定模式。

我将其更改为客户端模式，如 [此处][1] 所述

现在我遇到了身份验证问题，但比配置错误或缺少本机库的问题要好得多:) - 确保连接列表指向正确的服务器名称（端口）。

现在我需要整理身份验证...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-06-29T11:24:52.610

问题在于系统属性上的路径变量。尝试通过在路径变量上的 MQInstallation Dir :\Lib 之前指定 MQInstallation Dir :\Lib64 路径来运行代码

# python - Python IRC 日志机器人

> ID：15377762
> 
> 赞同：0
> 
> 时间：2013-03-13T05:31:52.083
> 
> 标签：python, irc

我正在寻找开始一个新项目来让我的脚湿透 Python。我有一个 IRC 频道，希望有一个机器人来维护日志并在出现提示时吐出 x 行消息，但我不知道从哪里开始写这样的东西。

我看到[了本](http://travismccrea.com/2010/02/write-a-basic-python-irc-bot/)教程，我认为这将使我开始使用机器人本身，但我不确定下一步该去哪里获取日志记录功能。有人可以指出我正确的方向吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:46:25.690

假设您已经编写了一个调度函数，它为每种消息调用适当的处理程序，以及一个适当地格式化和发送消息的发送函数。

处理程序可能看起来像这样：

```
MAX_LINES = 100

channel_logs = defaultdict(list)

def handle_public_message(user, channel, msg):
    log = logs[channel]
    log.append((user, msg))
    if len(log) > MAX_LINES:
        log.pop(0)
    if msg.partition(' ')[0].lower() == 'dumplog':
        dumplog(log, channel)

def handle_private_message(user, channel, msg):
    if msg.partition(' ')[0].lower() == 'dumplog':
        dumplog(logs[channel], channel, user)

def dumplog(log, channel, user=None):
    for line in log:
        send_msg(line, channel, user) 
```

这里的所有都是它的。

如果你想变得花哨，你可以写一个类来包装“只保留最后 100 个追加的列表”的东西，使其成为存储到磁盘的直写缓存，添加一种仅请求 20 行而不是100等

您还可以放入更多特定于机器人的功能，例如以更标准化的方式处理命令。但实际上，您最好为此获得一个机器人框架。

事实上，我强烈建议您不要开始处理原始套接字和命令解析的第一个项目。您将花费更多的时间来调试繁琐和烦人的问题，而不是处理您的实际代码。其他选项包括：

*   带有 Python “AI” 插件的完整机器人，例如[`supybot`](http://sourceforge.net/projects/supybot/).
*   带有“在此处添加您自己的代码”注释的骨架机器人，您可以通过快速搜索找到大约 3000 条注释。
*   `twisted`框架的协议[`IRCClient`](http://twistedmatrix.com/documents/8.2.0/api/twisted.words.protocols.irc.IRCClient.html)。看看这样的教程[，](http://eflorenzano.com/blog/2008/11/16/writing-markov-chain-irc-bot-twisted-and-python/)看看一切是多么的高级和简单。
*   [`irclib`](https://pypi.python.org/pypi/irc).

# ios - 如何在 iOS App 中进入“首页”？

> ID：15377764
> 
> 赞同：0
> 
> 时间：2013-03-13T05:32:05.287
> 
> 标签：ios, objective-c, uinavigationcontroller

我有`UIViewController`和`UITabBarController`。 `UIViewController`包含 5 个按钮和`UITabBarController`5 个选项卡。

通过点击第一个按钮应用程序显示`TabBarController`第一个选定的选项卡，第二个 -`TabBarController`使用第二个选项卡，依此类推......

为了准备这个，我`Modal-segue`对每个按钮都使用了。

一切正常。

`TabBarController`现在我需要在's上创建“主页”按钮（可能以编程方式）`UINavigationBar`，它将执行“返回主页视图”操作。

**编辑了更多细节**

{见下面的截图}

1.  初始 UIViewController
2.  UITabBarController
3.  导航控制器
4.  UIViewControllers

**在1**和**2**之间有两个模态转场（两个按钮 - 两个转场）

在UIViewController 中的**prepareForSegue中：**

```
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender
{
    AppDelegate *d = (AppDelegate *)[[UIApplication sharedApplication] delegate];
    if ([segue.identifier isEqualToString:@"s1"]) {
        d.initialTab = 0;
    }
    else if ([segue.identifier isEqualToString:@"s2"]) {
        d.initialTab = 1;
    }
} 
```

在我的 UITabBarController 中的**viewDidLoad中：**

```
TabController *mainTabController = (TabController *)self;
    AppDelegate *d = (AppDelegate *)[[UIApplication sharedApplication] delegate];
    [mainTabController setSelectedIndex:d.initialTab]; 
```

这是作品！

但我需要回到主页。因此，如果 TabBarController 之后有一个 NavigationController，我想在 NavigationBar 中创建一个按钮。

![在此处输入图像描述](../Images/9a1b1f775a311c34b8caa8211acc78d7.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T08:54:11.573

我建议您将一个**导航控制器**作为父级。
然后，将您的启动视图添加为它的根视图。

![申请流程建议](../Images/a0086749b025739f508c00ed5a8cbb7b.png)

在您的主视图控制器页面上，

```
- (void)viewWillAppear:(BOOL)animated
{
   self.navigationController.navigationBarHidden = NO;
} 
```

因此，它将隐藏您的主导航。所以无需担心这个内部导航流程。
对于内部导航，您已经采用了不同的导航控制器。

通过使用代码：

```
[self.parentViewController.navigationController popToRootViewControllerAnimated:YES]; 
```

您将位于应用程序的根目录，它将弹出所有堆叠在应用程序中的视图控制器。

希望您能理解流程并在您感觉良好时申请。

享受编码。
谢谢。

# html - 如何运行过滤器：灰色；过滤器：所有浏览器中的灰度（100％）css

> ID：15377765
> 
> 赞同：1
> 
> 时间：2013-03-13T05:32:09.907
> 
> 标签：html

```
 -webkit-filter: grayscale(1);
    -webkit-filter: grayscale(100%); -moz-filter: grayscale(100%);
    -ms-filter: grayscale(100%); -o-filter: grayscale(100%);
    filter: url(desaturate.svg#greyscale);
    filter: gray; filter: grayscale(100%); 
```

如何运行过滤器：灰色；过滤器：所有浏览器中的灰度（100％）css

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:59:48.017

跨浏览器 css polyfill [https://github.com/Schepp/CSS-Filters-Polyfill](https://github.com/Schepp/CSS-Filters-Polyfill)堆栈过滤器的额外哑字符

# git - 需要撤销一个 GIT 提交

> ID：15377769
> 
> 赞同：0
> 
> 时间：2013-03-13T05:32:23.720
> 
> 标签：git

我已经尝试了几个小时才能回到之前的提交。谁能帮我？我将主分支推送到我的远程仓库（d34...commit），但这是我想要的 d6f（第二次向下）提交。

当我尝试更改为该提交时，我收到此错误：您确定要签出“d6fa4 ... [截断]”吗？

这样做将使您的工作副本成为“分离的 HEAD”

谁能帮我从我的开发和主分支中删除最后一次提交？谢谢！

更多注释，因为我没有清楚地解释这个问题：当我结帐时提交 d6fa4... 代码库正是我想要的。合并提交（我已经推送）将主分支和开发分支聚集在一起。如果我检查 d6fa4，我会得到一个分离的头，但同样，代码库现在是正确的。问题是，我无法弄清楚如何重置我的主人并将分支开发到那个提交。

我希望这能让它更清楚。再次感谢！！

![SourceTree 截图](../Images/10a8db2e089f91dd4096e19ceb8386b9.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:40:53.147

由于您似乎已经推送了提交，因此您可以执行以下操作：

```
git revert d349d18
git push origin master 
```

如果您不关心更改推送的历史记录（尤其是如果没有其他人正在处理 repo），请执行以下操作：

```
git reset --hard d6fa474 
```

（您可以为大师和开发者做到这一点）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T05:47:27.217

我建议不要删除或恢复推送的提交。创建一个新的提交来恢复你所做的并推送它。如果您正在与其他人一起工作，这可能会在存储库上造成很多不好的事情。

# c# - 如何将新数字写入文本文件的末尾

> ID：15377770
> 
> 赞同：0
> 
> 时间：2013-03-13T05:32:24.453
> 
> 标签：c#

我实际上是在尝试在文本文件的末尾添加一个数字而不覆盖该文件。目前我试图从一个文件中读取，将该数据存储到一个字符串中，然后添加到一个列表中，将一个新整数添加到列表中，然后写入文件。

```
M = @"C:\Mental.txt";      
StreamReader content = new StreamReader(M, Encoding.Default);
string m = content.ReadToEnd();
List<int> num = 
  new List<int>(m.Split((string[])null, StringSplitOptions.RemoveEmptyEntries)
  .Select(int.Parse));
num.Add(4);
content.Close();
content.Dispose();

var s = num.Select(i => i.ToString()).ToArray();
File.WriteAllLines(M,s); 
```

如果您对如何编写代码或为什么它不起作用有任何其他建议，我将不胜感激。我已经尝试了此代码的许多不同变体，但是在输出与我的文件具有相同数据的情况下，同样的问题不断发生，但随后在我只想添加一个的地方添加了许多 '4'。

IE 如果我的文件以前包含：

```
1
2
3 
```

它现在将包含

```
1
2
3
4
4
4
4
4
4
4
4
...etc 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:40:31.017

```
String filePath = @"C:\Mental.txt";

File.AppendAllText(filePath , "content"); 
```

试试这个方法

编辑：

> 您的代码在我的机器上运行良好，请检查您的函数是否没有被一遍又一遍或循环调用

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T05:44:33.810

在追加文件之前，您无需阅读整个文件。尝试这样的事情：

```
using (StreamWriter w = File.AppendText("filename"))
{
  w.WriteLine("something to append");
} 
```

# c# - 如何将 json 数据反序列化到 TwitterResponse？

> ID：15377771
> 
> 赞同：0
> 
> 时间：2013-03-13T05:32:27.120
> 
> 标签：c#, asp.net, twitter, json.net

我从 twitter API 返回了以下 json 数据

```
[
   {
      "annotations":{

      },
      "resultType":"Tweet",
      "score":1.0,
      "groupName":"TweetsWithConversation",
      "results":[
         {
            "kind":"Tweet",
            "score":1.0,
            "annotations":{
               "ConversationRole":"Ancestor"
            },
            "value":{
               "created_at":"Sun Mar 03 18:54:58 +0000 2013",
               "id":308289414705082368,
               "id_str":"308289414705082368",
               "text":"Loved this Oberoi property in Gurgaon. Easily one of the best places iv ever visited!  http:\/\/t.co\/8JaCLh6fRD",
               "source":"\u003ca href=\"http:\/\/www.handmark.com\" rel=\"nofollow\"\u003eTweetCaster for iOS\u003c\/a\u003e",
               "truncated":false,
               "in_reply_to_status_id":null,
               "in_reply_to_status_id_str":null,
               "in_reply_to_user_id":null,
               "in_reply_to_user_id_str":null,
               "in_reply_to_screen_name":null,
               "user":{
                  "id":53136861,
                  "id_str":"53136861",
                  "name":"Cacophonix ki Ma",
                  "screen_name":"TheSoothsayer_",
                  "location":"The city of waking dreams ",
                  "url":"http:\/\/t.co\/yquoLkXd9Y",
                  "description":"Bohemia's favourite child|Wandering minstrel at heart|Brand Manager by day |Ruffian by night| I foresee the forsaken| Tweets are personal|",
                  "protected":false,
                  "followers_count":2410,
                  "friends_count":318,
                  "listed_count":32,
                  "created_at":"Thu Jul 02 17:59:44 +0000 2009",
                  "favourites_count":89,
                  "utc_offset":19800,
                  "time_zone":"Mumbai",
                  "geo_enabled":false,
                  "verified":false,
                  "statuses_count":47897,
                  "lang":"en",
                  "contributors_enabled":false,
                  "is_translator":false,
                  "profile_background_color":"1A1B1F",
                  "profile_background_image_url":"http:\/\/a0.twimg.com\/profile_background_images\/375039895\/twit-back.jpg",
                  "profile_background_image_url_https":"https:\/\/si0.twimg.com\/profile_background_images\/375039895\/twit-back.jpg",
                  "profile_background_tile":true,
                  "profile_image_url":"http:\/\/a0.twimg.com\/profile_images\/3356452003\/bb5078e82bb150bb09c84c8d9909e8ec_normal.jpeg",
                  "profile_image_url_https":"https:\/\/si0.twimg.com\/profile_images\/3356452003\/bb5078e82bb150bb09c84c8d9909e8ec_normal.jpeg",
                  "profile_banner_url":"https:\/\/si0.twimg.com\/profile_banners\/53136861\/1360517513",
                  "profile_link_color":"2FC2EF",
                  "profile_sidebar_border_color":"FFFFFF",
                  "profile_sidebar_fill_color":"252429",
                  "profile_text_color":"666666",
                  "profile_use_background_image":true,
                  "default_profile":false,
                  "default_profile_image":false,
                  "following":null,
                  "follow_request_sent":null,
                  "notifications":null
               },
               "geo":null,
               "coordinates":null,
               "place":null,
               "contributors":null,
               "retweet_count":0,
               "favorited":false,
               "retweeted":false,
               "possibly_sensitive":false,
               "lang":"en"
            }
         },
         {
            "kind":"Tweet",
            "score":1.0,
            "annotations":{
               "ConversationRole":"Descendant"
            },
            "value":{
               "created_at":"Mon Mar 04 08:00:54 +0000 2013",
               "id":308487200348184576,
               "id_str":"308487200348184576",
               "text":"@OberoiGurgaon it was fantastic!! Thank you :)",
               "source":"\u003ca href=\"http:\/\/www.handmark.com\" rel=\"nofollow\"\u003eTweetCaster for iOS\u003c\/a\u003e",
               "truncated":false,
               "in_reply_to_status_id":308424178518867968,
               "in_reply_to_status_id_str":"308424178518867968",
               "in_reply_to_user_id":236387798,
               "in_reply_to_user_id_str":"236387798",
               "in_reply_to_screen_name":"OberoiGurgaon",
               "user":{
                  "id":53136861,
                  "id_str":"53136861",
                  "name":"Cacophonix ki Ma",
                  "screen_name":"TheSoothsayer_",
                  "location":"The city of waking dreams ",
                  "url":"http:\/\/t.co\/yquoLkXd9Y",
                  "description":"Bohemia's favourite child|Wandering minstrel at heart|Brand Manager by day |Ruffian by night| I foresee the forsaken| Tweets are personal|",
                  "protected":false,
                  "followers_count":2410,
                  "friends_count":318,
                  "listed_count":32,
                  "created_at":"Thu Jul 02 17:59:44 +0000 2009",
                  "favourites_count":89,
                  "utc_offset":19800,
                  "time_zone":"Mumbai",
                  "geo_enabled":false,
                  "verified":false,
                  "statuses_count":47897,
                  "lang":"en",
                  "contributors_enabled":false,
                  "is_translator":false,
                  "profile_background_color":"1A1B1F",
                  "profile_background_image_url":"http:\/\/a0.twimg.com\/profile_background_images\/375039895\/twit-back.jpg",
                  "profile_background_image_url_https":"https:\/\/si0.twimg.com\/profile_background_images\/375039895\/twit-back.jpg",
                  "profile_background_tile":true,
                  "profile_image_url":"http:\/\/a0.twimg.com\/profile_images\/3356452003\/bb5078e82bb150bb09c84c8d9909e8ec_normal.jpeg",
                  "profile_image_url_https":"https:\/\/si0.twimg.com\/profile_images\/3356452003\/bb5078e82bb150bb09c84c8d9909e8ec_normal.jpeg",
                  "profile_banner_url":"https:\/\/si0.twimg.com\/profile_banners\/53136861\/1360517513",
                  "profile_link_color":"2FC2EF",
                  "profile_sidebar_border_color":"FFFFFF",
                  "profile_sidebar_fill_color":"252429",
                  "profile_text_color":"666666",
                  "profile_use_background_image":true,
                  "default_profile":false,
                  "default_profile_image":false,
                  "following":null,
                  "follow_request_sent":null,
                  "notifications":null
               },
               "geo":null,
               "coordinates":null,
               "place":null,
               "contributors":null,
               "retweet_count":0,
               "favorited":false,
               "retweeted":false,
               "lang":"en"
            }
         },
         {
            "kind":"Tweet",
            "score":1.0,
            "annotations":{
               "ConversationRole":"Descendant"
            },
            "value":{
               "created_at":"Tue Mar 05 08:06:14 +0000 2013",
               "id":308850929619329024,
               "id_str":"308850929619329024",
               "text":"@OberoiGurgaon We offer excellent Annual Maintenance Contracts (AMC) to companies. In Delhi NCR Call @ 9818310092, http:\/\/t.co\/mjpC7bJ9gy",
               "source":"web",
               "truncated":false,
               "in_reply_to_status_id":308424178518867968,
               "in_reply_to_status_id_str":"308424178518867968",
               "in_reply_to_user_id":236387798,
               "in_reply_to_user_id_str":"236387798",
               "in_reply_to_screen_name":"OberoiGurgaon",
               "user":{
                  "id":201235669,
                  "id_str":"201235669",
                  "name":"dipu.true",
                  "screen_name":"diputrue",
                  "location":"India ",
                  "url":"http:\/\/t.co\/XImbmdRk",
                  "description":"Time And Tide Wait For None",
                  "protected":false,
                  "followers_count":129,
                  "friends_count":1327,
                  "listed_count":1,
                  "created_at":"Mon Oct 11 12:04:14 +0000 2010",
                  "favourites_count":0,
                  "utc_offset":19800,
                  "time_zone":"New Delhi",
                  "geo_enabled":true,
                  "verified":false,
                  "statuses_count":400,
                  "lang":"en",
                  "contributors_enabled":false,
                  "is_translator":false,
                  "profile_background_color":"C0DEED",
                  "profile_background_image_url":"http:\/\/a0.twimg.com\/images\/themes\/theme1\/bg.png",
                  "profile_background_image_url_https":"https:\/\/si0.twimg.com\/images\/themes\/theme1\/bg.png",
                  "profile_background_tile":false,
                  "profile_image_url":"http:\/\/a0.twimg.com\/profile_images\/1193522956\/A_Alphabet_normal.jpg",
                  "profile_image_url_https":"https:\/\/si0.twimg.com\/profile_images\/1193522956\/A_Alphabet_normal.jpg",
                  "profile_link_color":"0084B4",
                  "profile_sidebar_border_color":"C0DEED",
                  "profile_sidebar_fill_color":"DDEEF6",
                  "profile_text_color":"333333",
                  "profile_use_background_image":true,
                  "default_profile":true,
                  "default_profile_image":false,
                  "following":null,
                  "follow_request_sent":null,
                  "notifications":null
               },
               "geo":null,
               "coordinates":null,
               "place":null,
               "contributors":null,
               "retweet_count":0,
               "favorited":false,
               "retweeted":false,
               "possibly_sensitive":false,
               "lang":"en"
            }
         }
      ]
   }
] 
```

现在我想将它反序列化为一个类型的对象`TwitterResponse<TwitterRelatedTweetsCollection>`。我正在使用 Newtonsoft json 库对其进行反序列化，但出现错误`Cannot deserialize JSON array into type Twitterizer.TwitterResponse`。我也尝试过反序列化为 type `TwitterResponse<TwitterRelatedTweetsCollection>[]`。它没有给出任何错误，但返回的对象为空。

使用以下代码行反序列化：-

```
TwitterResponse<TwitterRelatedTweetsCollection> data = JsonConvert.DeserializeObject<TwitterResponse<TwitterRelatedTweetsCollection>>(json) 
```

将此 json 数据反序列化为 TwitterResponse 的正确方法是什么？

# php - 带有鼠标悬停问题的 Jquery 滑动框

> ID：15377773
> 
> 赞同：0
> 
> 时间：2013-03-13T05:32:41.840
> 
> 标签：php, jquery, html, css

当我尝试使用 jQuery 鼠标悬停效果为我的游戏缩略图实现滑动框和字幕时。每当我将鼠标悬停在缩略图上时，标题就会出现，而当我移开鼠标指针时，标题就会消失。我已经实现了它，但遇到了小问题。

jQuery 鼠标悬停的问题是当页面第一次加载时鼠标悬停在 div 上而没有将鼠标悬停在它上面，我不希望每当用户将鼠标指针悬停在 jquery 缩略图上时效果应该来了。请参阅我下面的代码片段。

参考： ( **[http://www.huzgames.com/](http://www.huzgames.com/)** ) 请参阅新游戏部分。

代码：

```
<!doctype html>
<html>
<head>
<style> 
*{ padding:0px; margin:0px; }

            a{ color:#00c415; }
            h5{
                            margin: 10px 10px 0 10px;
                            color:#FFF;
                            font:13pt Segoe Print;
                            letter-spacing:-1px;
                            font-weight: bold;  }

            .boxgrid{
                /*width: 325px;
                height: 260px; */
                width: 160px;
                height: 117px;
                margin-top:10px;
                                margin-left: 4px;
                float:left;
                background:#161613;

                overflow: hidden;
                position: relative;
            }
                .boxgrid img{
                    position: absolute;
                    top: 0;
                    left: 0;
                    border: 0;
                }
                .boxgrid p{
                    padding: 0 10px;
                    color:#afafaf;
                    font-weight:bold;
                    font:10pt "Lucida Grande", Arial, sans-serif;
                }

            .boxcaption{
                float: left;
                position: absolute;
                background: #000;
                height: 117px;
                width: 100%;
                opacity: .8;
                /* For IE 5-7 */
                filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=80);
                /* For IE 8 */
                -MS-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";
            }
                .captionfull .boxcaption {
                    top: 117;
                    left: 0;
                }
                .caption .boxcaption {
                    top: 100;
                    left: 0;
                }
</style>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.7.2.js"></script>
<script type="text/javascript">
    $(document).ready(function(){
    $('.boxgrid.captionfull').hover(function(){
    $(".cover", this).stop().animate({top:'1px'},{queue:false,duration:160});
    }, function() {
    $(".cover", this).stop().animate({top:'117px'},{queue:false,duration:160});
});
});
</script>
                </head>
                <body>
                <div class="boxgrid captionfull">
                <img src="path" height="117" width="160" alt="" />
                <div class="cover boxcaption">
                    <h5 align="center">xxxxxxxx</h5>
                    <p align="center"><a href="#" style="text-decoration:none;font-size:16px; font-family:Wanted M54"><b>Click To Play</b></a></p>
                </div>
            </div>
                </body>
                </html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T05:38:18.900

**在您的代码中，我编辑了一些东西-**

```
 <script type="text/javascript">
       $(document).ready(function(){
$('.cover').hide(this);
    $('.boxgrid.captionfull').hover(function(){

    $(".cover", this).show().stop().animate({top:'1px'},{queue:false,duration:160});
    }, function() {
    $(".cover", this).show().stop().animate({top:'117px'},{queue:false,duration:160});
});
});
    </script> 
```

这是一个现场小提琴-

[活生生的例子](http://jsfiddle.net/stackmanoz/ppmMk/1/)

# jquery - 如何在 scriptData 中传递文本框值，该值在 JQuery File 'uploadify' 插件中附加动态？

> ID：15377774
> 
> 赞同：0
> 
> 时间：2013-03-13T05:32:57.693
> 
> 标签：jquery, asp.net-mvc, file-upload, uploadify

我在“ **uploadify ”插件中添加了****文本框**，用于从用户获取文件描述，并将其传递给**scriptData**。

 ****```
function loadSwf(){    
    $("#fileuploader").fileUpload({
            'uploader':  "@Url.Content("~/Scripts/FileUpload/uploader.swf")",
            'cancelImg':  "@Url.Content("~/Content/Images/clearBtn.png")",
            'buttonText': 'Browse Files',
            //'buttonImg' : "@Url.Content("~/Content/Images/attachDoc.png")",
            'script': "@Url.Content("~/Documents/Upload/")",   
            'folder': "@Url.Content("~/Documents/")",
            //'fileDesc': 'Documents Files',
            'fileExt': '*.pdf;*.doc;*.ppt;*.xls',
            'multi': true,
            'auto': false,                 
            'scriptData': {'Description': $('[id="DescriptionTxt"]').val()}
        });
} 
```

通过控制器`MVC3`.. ![多文件上传](../Images/64c176c8d47abea9150b090fa4979ecd.png) 问题是我所有的文本框都具有相同的“ **ID 和名称**”，那么如何隔离或获取每个文本框字段的值？

```
var flashVer = -1;
var activityId = $('[id="ActivityID"]').val();
if (navigator.plugins != null && navigator.plugins.length > 0) {
    if (navigator.plugins["Shockwave Flash 2.0"] || navigator.plugins["Shockwave Flash"]) {
        var swVer2 = navigator.plugins["Shockwave Flash 2.0"] ? " 2.0" : "";
        var flashDescription = navigator.plugins["Shockwave Flash" + swVer2].description;
        var descArray = flashDescription.split(" ");
        var tempArrayMajor = descArray[2].split(".");
        var versionMajor = tempArrayMajor[0];
        var versionMinor = tempArrayMajor[1];
        var versionRevision = descArray[3];
        if (versionRevision == "") {
            versionRevision = descArray[4]
        }
        if (versionRevision[0] == "d") {
            versionRevision = versionRevision.substring(1)
        }
        else {
            if (versionRevision[0] == "r") {
                ersionRevision = versionRevision.substring(1);
                if (versionRevision.indexOf("d") > 0) {
                    versionRevision = versionRevision.substring(0, versionRevision.indexOf("d"))
                }
            }
        }
        var flashVer = versionMajor + "." + versionMinor + "." + versionRevision
    }
}
else {
    if ($.browser.msie) {
        var version;
        var axo;
        var e;
        try {
            axo = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");
            version = axo.GetVariable("$version")
        }
        catch (e) {
        }
        flashVer = version.replace("WIN ", "").replace(",", ".")
    }
}
flashVer = flashVer.split(".")[0];
if (jQuery) {
    (function (a) {
        a.extend(a.fn,
        {
            fileUpload: function (b) {
                if (flashVer >= 9) {
                    a(this).each(function () {
                        settings = a.extend({
                            uploader: "uploader.swf",
                            script: "uploader.php",
                            folder: "",
                            height: 30,
                            width: 110,
                            cancelImg: "cancel.png",
                            wmode: "opaque",
                            scriptAccess: "sameDomain",
                            fileDataName: "Filedata",
                            displayData: "percentage",
                            onInit: function () { },
                            onSelect: function () { },
                            onCheck: function () { },
                            onCancel: function () { },
                            onError: function () { },
                            onProgress: function () { },
                            onComplete: function () { }
                        }, b);
                        var d = location.pathname;
                        d = d.split("/");
                        d.pop();
                        d = d.join("/") + "/";
                        var f = "&pagepath=" + d;
                        if (settings.buttonImg) {
                            f += "&buttonImg=" + escape(settings.buttonImg)
                        }
                        if (settings.buttonText) {
                            f += "&buttonText=" + escape(settings.buttonText)
                        }
                        if (settings.rollover) {
                            f += "&rollover=true"
                        }
                        f += "&script=" + settings.script;
                        f += "&folder=" + escape(settings.folder);
                        if (settings.scriptData) {
                            var g = "";
                            for (var c in settings.scriptData) {
                                g += "&" + c + "=" + settings.scriptData[c]
                            }
                            f += "&scriptData=" + escape(g)
                        }
                        f += "&btnWidth=" + settings.width;
                        f += "&btnHeight=" + settings.height;
                        f += "&wmode=" + settings.wmode;
                        if (settings.hideButton) {
                            f += "&hideButton=true"
                        }
                        if (settings.fileDesc) {
                            f += "&fileDesc=" + settings.fileDesc + "&fileExt=" + settings.fileExt
                        }
                        if (settings.multi) {
                            f += "&multi=true"
                        }
                        if (settings.auto) {
                            f += "&auto=true"
                        }
                        if (settings.sizeLimit) {
                            f += "&sizeLimit=" + settings.sizeLimit
                        }
                        if (settings.simUploadLimit) {
                            f += "&simUploadLimit=" + settings.simUploadLimit
                        }
                        if (settings.checkScript) {
                            f += "&checkScript=" + settings.checkScript
                        }
                        if (settings.fileDataName) {
                            f += "&fileDataName=" + settings.fileDataName
                        }
                        if (a.browser.msie) {
                            flashElement = '<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="' + settings.width + '" height="' + settings.height + '" id="' + a(this).attr("id") + 'Uploader" class="fileUploaderBtn"><param name="movie" value="' + settings.uploader + "?fileUploadID=" + a(this).attr("id") + f + '" /><param name="quality" value="high" /><param name="wmode" value="' + settings.wmode + '" /><param name="allowScriptAccess" value="' + settings.scriptAccess + '"><param name="swfversion" value="9.0.0.0" /></object>'
                        }
                        else {
                            flashElement = '<embed src="' + settings.uploader + "?fileUploadID=" + a(this).attr("id") + f + '" quality="high" width="' + settings.width + '" height="' + settings.height + '" id="' + a(this).attr("id") + 'Uploader" class="fileUploaderBtn" name="' + a(this).attr("id") + 'Uploader" allowScriptAccess="' + settings.scriptAccess + '" wmode="' + settings.wmode + '" type="application/x-shockwave-flash" />'
                        }
                        if (settings.onInit() !== false) {
                            a(this).css("display", "none");
                            if (a.browser.msie) {
                                a(this).after('<div id="' + a(this).attr("id") + 'Uploader"></div>');
                                document.getElementById(a(this).attr("id") + "Uploader").outerHTML = flashElement
                            }
                            else {
                                a(this).after(flashElement)
                            } 
                            a("#" + a(this).attr("id") + "Uploader").after('<div id="' + a(this).attr("id") + 'Queue" class="fileUploadQueue"></div>')
                        }
                        a(this).bind("rfuSelect",
                        {
                            action: settings.onSelect
                        },
                        function (j, h, i) {
                            if (j.data.action(j, h, i) !== false) {
                                var k = Math.round(i.size / 1024 * 100) * 0.01;
                                var l = "KB";
                                if (k > 1000) {
                                    k = Math.round(k * 0.001 * 100) * 0.01;
                                    l = "MB"
                                }
                                var m = k.toString().split(".");
                                if (m.length > 1) {
                                    k = m[0] + "." + m[1].substr(0, 2)
                                }
                                else {
                                    k = m[0]
                                }
                                if (i.name.length > 20) {
                                    fileName = i.name.substr(0, 20) + "..."
                                }
                                else {
                                    fileName = i.name
                                }
                                a("#" + a(this).attr("id") + "Queue").append('<div id="' + a(this).attr("id") + h + '" class="fileUploadQueueItem"><div class="cancel"><a href="javascript:$(\'#' + a(this).attr("id") + "').fileUploadCancel('" + h + '\')"><img src="' + settings.cancelImg + '" border="0" /></a></div><span class="fileName">Document Name :' + fileName + "</br>Documents Size : (" + k + l + ')</span><span class="percentage">&nbsp;</span></br><div class="Description">Description : <input type="textbox" id="des" name="des" class="des"></div><div class="fileUploadProgress" style="width: 100%;"><div id="' + a(this).attr("id") + h + 'ProgressBar" class="fileUploadProgressBar" style="width: 1px; height: 3px;"></div></div></div>')
                            }
                        }); 
```

最后一行包含我添加了带有类**描述**的 div和**带有 id & name="des" 的文本框的代码******

# android - 从服务器获取数据后如何正确显示数据？

> ID：15377778
> 
> 赞同：1
> 
> 时间：2013-03-13T05:33:14.547
> 
> 标签：android

我正在制作一个应用程序，其中我从服务器检索一些数据，然后将其显示给用户。它涉及以下步骤：

1.  在 ListView 中向用户显示名称列表。

2.  用户单击任何 ListView 项目。

3.  获取单击项目的 NID，然后调用 AsyncTask 类，在该类中根据 NID 从服务器获取数据。

4.  在 AsyncTask 类的 onPreExecute 方法中，我向用户显示一个对话框，指示正在获取数据。

5.  现在我解析所有数据并将其放入一个 Bean 类对象中。

6.  在 onPostExecute 方法中，我启动另一个 Activity(nextactivity) 并使用 Parcelable Intent 将所有数据传递给此 Activity。

7.  关闭对话框。

8.  现在在这个 Activity(nextactivity) 的 onCreate 方法中，我显示了数据。

但是这里的问题是，由于数据很大，Activity(nextactivity) 需要更多时间来加载，并且 ListView 活动会向用户显示 2-3 秒，然后 nextActivty 会向用户显示。

在这里，我也给你我的代码：

这是我调用 AsyncTask 类来获取数据的方法：

```
@Override
public void onItemClick(AdapterView<?> parent, View view, int position,long id) {
    Toast toast = Toast.makeText(getApplicationContext(),
        "Item " + (position + 1) + ": " + rowItems.get(position).getNid(),
        Toast.LENGTH_SHORT);
    toast.setGravity(Gravity.BOTTOM|Gravity.CENTER_HORIZONTAL, 0, 0);
    toast.show();

    if(rowItems.get(position).getNid()!=null){

        String[] params=new String[1];
        params[0]=rowItems.get(position).getNid();
        new RepresentativeDataAsynTask(RespresentativeList.this).execute(params);

    } 
```

这是我获取所有数据的 AsyncTask 类：

```
@Override
    protected void onPreExecute() {
        proDialog = new ProgressDialog(mContext);
        proDialog.setTitle("Support Manager");
        proDialog.setMessage("Fetching Details ...");
        proDialog.setProgressStyle(ProgressDialog.STYLE_SPINNER);
        proDialog.setIcon(R.drawable.ic_launcher);
        proDialog.show();
        super.onPreExecute();
    }
    @Override
    protected RepresentativeData doInBackground(String... params) {
        JSONObject result = null;

        RepresentativeData representativeDetails = new RepresentativeData();
        try {
            result = client.reprentativeDetailNode(mContext.getString(R.string.Server),params[0]);
            //fetching all data by parsing result
        } catch (ClientProtocolException e) {

            error=true;
            e.printStackTrace();
        } catch (IOException e) {

            error=true;
            e.printStackTrace();
        }
        return representativeDetails;
    }

    @Override
    protected void onPostExecute(RepresentativeData result) {
        Intent yourRepresentative = new Intent(mContext,YourRepresentative.class);
        yourRepresentative.putExtra("representative detail", result);
        proDialog.dismiss();
        mContext.startActivity(yourRepresentative);
        }
        super.onPostExecute(result);
    } 
```

# boost - 如何使用 boost in_state_reaction

> ID：15377780
> 
> 赞同：1
> 
> 时间：2013-03-13T05:33:22.650
> 
> 标签：boost, boost-statechart

我正在尝试使用`in_state_reaction`. 奇怪的是，调用后似乎没有执行此反应功能`process_event ()`。我改成`in_state_reaction`了`custom_reaction`，看起来还不错。

只是想知道如何使它与`in_state_reaction`. 我一定做错了什么。

我会应用示例代码。州内没有很多样品。

谢谢。

```
struct Reset : sc::simple_state<Reset, Idle>
{
    Reset() {  }
    ~Reset() {  }

    typedef sc::in_state_reaction<Event1> reactions;

    sc::result react(const Event1 &)
    {
              printf ("In state reaction\n");
        return discard_event();
    } // react

}; // Reset 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T10:29:40.857

`in_state_reaction`不是自定义反应，所以`react`不会被调用！状态反应意味着你想调用一些函数并保持在相同的状态。

`in_state_reaction<Event1, Context, &Context::doSomething>`

当您无法在编译时知道目标状态是什么时，请使用自定义反应。

# ruby-on-rails - 如何在 Rails 中使用 PDKFit 和资产管道嵌入字体

> ID：15377785
> 
> 赞同：1
> 
> 时间：2013-03-13T05:33:40.833
> 
> 标签：ruby-on-rails, asset-pipeline, pdfkit

在我开始使用 PDFKit 在 Rails 中从 HTML 创建 PDF 之前，我成功地嵌入了 Google 字体，如下所示：

```
= stylesheet_link_tag 'http://fonts.googleapis.com/css?family=Rokkitt:400,700' 
```

但是，PDFKit 没有在我的 PDF 中嵌入字体。它使用我的打印样式表生成 PDF 并格式化，但使用常规字体，而不是我嵌入的字体。

因此，我将每种字体的 EOT、WOFF、TTF 和 SVG 版本放入`/app/assets/fonts`并在我的屏幕调用的新字体样式表中切换到这种格式并打印样式表：

```
@font-face {
    font-family: 'rokkittregular';
    src: font-url('rokkitt-regular-webfont.eot');
    src: local('rokkittregular')
         font-url('rokkitt-regular-webfont.eot?#iefix') format('embedded-opentype'),
         font-url('rokkitt-regular-webfont.woff') format('woff'),
         font-url('rokkitt-regular-webfont.ttf') format('truetype'),
         font-url('rokkitt-regular-webfont.svg#rokkittregular') format('svg');
    font-weight: normal;
    font-style: normal;} 
```

同样，这对于我的常规 HTML 页面来说效果很好。同样，PDFKit 没有在我的 PDF 中嵌入字体。

假设这可能与 PDFKit 无法找到字体有关，我创建了一个单独的打印字体样式表以嵌入到我的打印样式表中。在其中，我切换到了这个符号：

```
@font-face {
    font-family: "rokkittregular";
    src: url("/assets/rokkitt-regular-webfont.eot");
    src: url("/assets/rokkitt-regular-webfont.eot?#iefix") format("embedded-opentype"),
         url("/assets/rokkitt-regular-webfont.woff") format("woff"),
         url("/assets/rokkitt-regular-webfont.ttf") format("truetype"),
         url("/assets/rokkitt-regular-webfont.svg#rokkittregular") format("svg");
    font-weight: normal;
    font-style: normal;} 
```

后来到这个符号：

```
@font-face {
    font-family: "rokkittregular";
    src: url("#{Rails.root}/assets/rokkitt-regular-webfont.eot");
    src: url("#{Rails.root}/assets/rokkitt-regular-webfont.eot?#iefix") format("embedded-opentype"),
         url("#{Rails.root}/assets/rokkitt-regular-webfont.woff") format("woff"),
         url("#{Rails.root}/assets/rokkitt-regular-webfont.ttf") format("truetype"),
         url("#{Rails.root}/assets/rokkitt-regular-webfont.svg#rokkittregular") format("svg");
    font-weight: normal;
    font-style: normal;} 
```

仍然没有用。

奇怪的是，如果您将浏览器指向`http://localhost:5000/assets/rokkitt-regular-webfont.eot`，它会将您带到字体文件。

我怎样才能让这些字体在 PDFKit 中工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:38:47.127

解决方案是更改我在打印样式表中调用字体的方式：

```
h1 {font-family: "rokkittregular";} 
```

不是

```
h1 {font-family: "Rokkitt", serif;} 
```

# mysql - LOAD DATA LOCAL INFILE 查询

> ID：15377786
> 
> 赞同：0
> 
> 时间：2013-03-13T05:33:46.430
> 
> 标签：mysql, sql

我有，

```
<pre lang="SQL">LOAD DATA LOCAL INFILE 'C:\Users\mydesk\Desktop\dcc.csv' INTO TABLE DATAS.TABLE IN FIELDS TERMINATED BY ',' ENCLOSED BY '"' lines terminated by '\n'</pre> 
```

在我的程序中查询，将数据从 csv 文件上传到 mysql。但是在某些行中会出现**“主键的重复条目”错误。**如何在每一行中捕获这些异常并处理不同的查询？

例如，我在 csv 文件中有 10 行，其中一些行与`DATAS.TABLE`. 所以当这些记录插入到表中`DATAS.TABLE`时，我需要执行更新查询。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:54:25.153

我建议

1.  创建一个没有约束的临时表
2.  首先将数据加载到该表中
3.  清理、清理、验证（包括消除 PK 中的重复项）、转换您的数据
4.  将干净的数据插入到您的事实表中
5.  截断临时表

使用这种方法，您可以进行多步骤复杂验证，加入参考表和/或事实表以发现不一致或其他问题。

在这种情况下，查找重复项只是在临时表上进行简单 SELECT 的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T05:38:57.303

可以建议在第一遍将数据从 csv 加载到临时表中。

然后使用这个临时表分两步处理数据（1）更新临时表中的现有行和（2）在第二遍中从临时表中插入新行。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T05:43:07.487

来自[MySQL 文档](http://dev.mysql.com/doc/refman/5.1/en/load-data.html)：

> REPLACE 和 IGNORE 关键字控制对在唯一键值上重复现有行的输入行的处理：
> 
> 如果您指定 REPLACE，输入行将替换现有行。换句话说，主键或唯一索引的值与现有行相同的行。请参见第 13.2.7 节，“替换语法”。
> 
> 如果您指定 IGNORE，将跳过与唯一键值上的现有行重复的输入行。如果您不指定任一选项，则行为取决于是否指定了 LOCAL 关键字。如果没有 LOCAL，则在找到重复键值时会发生错误，并忽略文本文件的其余部分。对于 LOCAL，默认行为与指定 IGNORE 相同；这是因为服务器无法在操作过程中停止文件的传输。

因此，如果您需要更新重复值的行，请在查询中提及**REPLACE 。**

# matlab - 如何在 matlab 中计算 n+1？

> ID：15377788
> 
> 赞同：-1
> 
> 时间：2013-03-13T05:33:51.407
> 
> 标签：matlab, loops, matrix, conditional

假设我有矩阵`pa`，直到`pz`如下所示：

```
pa= [0;0;0;0;0]';
pb=[-0.2;-0.2;-0.2;-0.2;0.8]';
pc=[-1.2;0.4;1.9;2.3;9.0]';
pd=[  ];
pe=[  ]; 
```

直到 pz

```
Va=pa(1);
Vb=pa(2);
Vc=pa(3);
Vd=pa(4);
Ve=pa(5);
vdt=[1;0.309;-0.809;-0.809;0.309]' 
```

然后使用这个公式相乘

```
Vdtransformation=Vdt*[Va;Vb;Vc;Vd;Ve] 
```

我需要乘

```
Vdtransformation=Vdt*[Va;Vb;Vc;Vd;Ve] 
```

但是随着值的改变

```
Va=pb(1);Vb=pb(2);Vc=pb(3);Vd=pb(4);Ve=pb(5); 
```

并且再做一次

```
Va=pc(1);Vb=pc(2);Vc=pc(3);Vd=pc(4);Ve=pc(5); 
```

直到 pz。

有没有更简单的方法来做到这一点？我应该使用`bsxfun`吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T06:40:38.780

令 P=[pa,pb,...,pz] 是一个有 5 行和字母列中字母数的矩阵。

做 V=Vdt*P。你完成了。V 的每一列是相对于每个 pa, pb, ... 的 Vd 变换

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T06:52:12.263

首先，在写作中没有逻辑`Vdt*[Va;Vb;Vc;Vd;Ve]`可以代替写`Vdt*pa'`等效的，或者更好地查看@Daniel的答案。

其次，如果你想循环变量的名称，你可以使用`eval`. 例如，如果我的变量是：

```
pa=1;
pb=2;
pc=3;
A=3; 
```

我想计算`A*pa`，`A*pb`等，我可以创建所需字母的字符串

```
lett=char(97:99); % this creates the string 'abc' 
```

然后for循环“

```
for i=1:numel(lett)
    A*eval(['p' lett(i)])
end 
```

# java - JSP IE6 检测

> ID：15377796
> 
> 赞同：0
> 
> 时间：2013-03-13T05:34:48.677
> 
> 标签：java, html, internet-explorer, jsp

我知道您可以使用以下 JSP 代码检测您的浏览器是否为 IE：

```
request.getHeader( "User-Agent" ); 
```

但是无论如何我可以检测它是否是IE6？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T06:07:49.857

使用[这个列表](http://www.useragentstring.com/pages/Internet%20Explorer/)看起来你正在寻找的魔法字符串是

```
"MSIE 6." 
```

所以这应该适合你：

```
boolean is_IE6 = user_agent.indexOf("MSIE 6.") > -1; 
```

或者将所有内容放在 JSP 中：

```
<% boolean is_IE6 = request.getHeader("user-agent").indexOf("MSIE 6.") > -1;
   if(is_IE6) { %>
  Some IE 6 Thing
<% } else { %>
  Some non IE 6 Thing
<% } %> 
```

[使用名为WURFL](http://wurfl.sourceforge.net/)的库有一种“更正确的方法”（礼貌地称为服务器端设备检测）。WURFL 使用扩展的用户代理和设备功能数据库，并允许您根据发出请求的设备使用如下代码响应 HTTP 请求（取自他们[的 Java API 文档](http://wurfl.sourceforge.net/njava_index.php)）：

```
WURFLHolder wurfl = (WURFLHolder)getServletContext().getAttribute(WURFLHolder.class.getName());

WURFLManager manager = wurfl.getWURFLManager();

Device device = manager.getDeviceForRequest(request);

log.debug("Device: " + device.getId());
log.debug("Capability: " + device.getCapability("preferred_markup"));

MarkUp markUp = device.getMarkUp();

String jspView = null;

if (MarkUp.XHTML_ADVANCED.equals(markUp)) {
  jspView = XHTML_ADV;
} else if (MarkUp.XHTML_SIMPLE.equals(markUp)) {
  jspView = XHTML_SIMPLE;
} else if (MarkUp.CHTML.equals(markUp)) {
  jspView = CHTML;
} else if (MarkUp.WML.equals(markUp)) {
  jspView = WML;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T05:44:25.227

您可以使用[条件注释](http://msdn.microsoft.com/en-us/library/ms537512%28v=vs.85%29.aspx)。

例如：

```
<!--[if IE 6]>    
// IE 6 detected    
<![endif]--> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T05:43:54.347

试试这个javascript代码，

```
 if(/msie|MSIE 6/.test(navigator.userAgent)){
            alert("IE 6"); 
        } 
```

# php - 如果 cookie 没有错误，PHPUnit 3.4.15 退出

> ID：15377798
> 
> 赞同：1
> 
> 时间：2013-03-13T05:35:07.240
> 
> 标签：php, zend-framework, cookies, phpunit

如果我打电话

```
$guest_identity = Zend_Controller_Request_Http::getCookie('guest_identity', $key); 
```

或者

```
$COOKIE['guest_identity']; 
```

PHPUnit 3.4.15 退出函数没有错误。如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T06:29:33.887

如果我理解正确，上面的代码应该会引发错误或异常，但它不会。

如果是这种情况，请根据您期望发生的错误类型使用其中一种。如果您传递函数 null ，则错误处理程序将重置为默认值。

```
register_shutdown_function
set_error_handler
set_exception_handler 
```

# http - 为什么大多数浏览器的用户代理 HTTP 标头字段中都有“Mozilla”？

> ID：15377799
> 
> 赞同：2
> 
> 时间：2013-03-13T05:35:10.797
> 
> 标签：http, browser, user-agent

我注意到在几乎所有浏览器中，包括 Chrome、IE 和 Firefox，用户代理字符串都有单词“Mozilla”。那里是什么意思？这是否意味着所有这些都在 Mozilla 的 Firefox 基础核心上扩展？

铬合金：

```
 User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.22 (KHTML, like Gecko) Chrome/25.0.1364.152 Safari/537.22 
```

火狐：

```
Mozilla/5.0 (Windows NT 6.1; WOW64; rv:19.0) Gecko/20100101 Firefox/19.0 
```

# android - 如何为电视节目制作提醒？

> ID：15377804
> 
> 赞同：0
> 
> 时间：2013-03-13T05:35:44.707
> 
> 标签：android, notifications

目前我正在开发一个 Android 应用程序，它显示给定频道的电视节目时间。

我想让用户能够确定在程序开始时间之前提醒他们的时间。

`ListView`我用它的时间显示所有程序。当用户选择任何项目时，将显示一个对话屏幕并显示一些时间（10 分钟、20 分钟、30 分钟、1 小时）。

当他从对话中选择一个时间时，它将存储在一些数据存储中，如 SQLite 或其他东西。时间到了，它会在通知栏中发出通知。

现在我该怎么做？我必须使用哪些课程和技术？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:48:55.110

您可以将通知期限保存在数据库中。由于您是初学者，因此我只会为您指明方向，而不是正确的解决方案。对于生成通知，请使用[NotificationManager](http://www.vogella.com/articles/AndroidNotifications/article.html)并在特定时间执行某些命令，您可以使用[AlarmManager](http://developer.android.com/reference/android/app/AlarmManager.html)。让自己熟悉这些，你会很高兴的。

欢迎来到 StackOverflow，尝试将您的问题缩小到您的具体问题，因为社区非常严格。

# python - 在版本控制期间，plone 中更改的文件大小是多少？

> ID：15377808
> 
> 赞同：0
> 
> 时间：2013-03-13T05:35:56.443
> 
> 标签：python, plone

我有一个上传到 plone 的文件，说大小为 1 MB。结帐并下载后，我进行编辑，然后上传并签入。plone 站点中新上传的文件的大小是多少。是原始大小+添加大小还是新上传文件的大小？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T06:55:56.570

如果您指的是工作副本支持选项：文件被排除在被检出的可能性之外。可能正是因为你正在崛起的原因。对附加文件进行版本控制很容易破坏数据库，因为每个文件都将保存在数据库中，因此（回答您的问题）对象的大小将是所有文件的总和。

标准版本历史也不适用于文件。

# .htaccess - 在主机上重写 URLS .htaccess

> ID：15377813
> 
> 赞同：0
> 
> 时间：2013-03-13T05:37:10.087
> 
> 标签：.htaccess

我有3个文件`.htaccess`：：

```
RewriteEngine On

RewriteCond %{QUERY_STRING} ^$
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^(.*)$ cats.php?name=$1 
```

`index.php`：

```
<?php
echo 'index'; 
```

并且`cats.php`：

`<?php echo $_GET['name'] . ' < '.$_GET["name"];`

我面临的问题是，当我在 site.com 上时，它会将我重定向到`cats.php` **always**。但是在我的本地主机上，它**仅**在传递参数时才会重定向我，例如： `site.com/some-argument`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T09:29:41.297

这是可能导致问题的行：

```
RewriteCond %{REQUEST_FILENAME} !-f 
```

**这意味着仅当未找到**请求的文件名时才执行 RewriteRule 。

在它不工作的本地主机上，您可能在 httpd.conf（或 .htaccess）中有以下设置：

```
DirectoryIndex index.php 
```

由于上述设置，当您输入时`http://site.com`，默认情况下`index.php`会尝试显示，并且由于 Apache 找到了它，因此您的上述 RewriteCond 返回 false 并且您的 RewriteRule 不会触发。

用于测试 RewriteCond 上方的注释并查看是否会改变行为。

# c++ - 使用 C++ 在具有超时的多个互斥体上调用 WaitForMultipleObjects

> ID：15377815
> 
> 赞同：2
> 
> 时间：2013-03-13T05:37:12.690
> 
> 标签：c++, winapi, synchronization, mutex

如果我像这样在多个互斥体上调用[WaitForMultipleObjects ：](http://msdn.microsoft.com/en-us/library/windows/desktop/ms687025%28v=vs.85%29.aspx)

```
HANDLE hMutexes[5] = {...};   //All mutexes
DWORD dwRet = WaitForMultipleObjects(5, hMutexes, TRUE, 5 * 1000); 
```

并`dwRet`返回为，数组`WAIT_TIMEOUT`中的互斥锁将处于什么状态？`hMutexes`或者，换句话说，我应该拜访`ReleaseMutex`他们中的任何一个吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-13T05:48:33.003

该`WaitForMultipleObjects`函数的文档指出：

> 当 bWaitAll 为 TRUE 时，...该函数不会修改指定对象的状态，直到所有对象的状态都设置为已发出信号。例如，可以向互斥体发出信号，但在其他对象的状态也设置为已发出信号之前，线程不会获得所有权。

因此，您无需担心这种情况。如果`WaitForMultipleObjects`返回`WAIT_TIMEOUT`，您不拥有任何互斥锁。如果它返回`WAIT_OBJECT_0`您拥有所有这些。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:53:34.170

如果你得到 a`WAIT_TIMEOUT`这意味着没有互斥体被发出信号，所以你不应该调用`ReleaseMutex`它们中的任何一个。

# facebook - 如何获取用户最近的 100 状态

> ID：15377820
> 
> 赞同：0
> 
> 时间：2013-03-13T05:37:30.287
> 
> 标签：facebook, facebook-graph-api

我似乎无法找到允许我获取用户最新 X 状态的参数。

现在我的图形 API 路径如下所示：

```
/12345/status 
```

而且我看不到任何能够按最新和计数过滤的参数。有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T07:28:06.177

[FQL](http://developers.facebook.com/docs/reference/fql)可用于从用户的墙上获取最新状态。

以下查询将返回用户最近的 100 状态，不包括他们自己的状态。

```
SELECT post_id, actor_id, target_id, message 
FROM stream WHERE filter_key = 'nf' AND is_hidden = 0 AND actor_id != me() 
ORDER BY created_time DESC LIMIT 100 
```

这里 filter_key`'nf'`指的是新闻提要。[您可以从此处](http://developers.facebook.com/docs/reference/fql/stream)找到有关 FQL 中 STREAM 表字段的更多详细信息

**更新：**

您可以使用图形 API 调用任何 FQL 查询，请参阅FB[的这篇博文](http://developers.facebook.com/blog/post/579/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T13:01:42.160

这样的事情会做，但首先你需要 user_status 的权限。阅读此 [http://developers.facebook.com/docs/reference/login/extended-profile-properties/](http://developers.facebook.com/docs/reference/login/extended-profile-properties/)

```
your_fb_id?fields=id,name,posts.limit(100) 
```

[您可以在 fb graph api explorer 工具http://developers.facebook.com/tools/explorer](http://developers.facebook.com/tools/explorer)上尝试此代码

# jquery - 使用 JQuery Datepicker 选择的日期在提交时未反映在 MVC3 模型中

> ID：15377824
> 
> 赞同：7
> 
> 时间：2013-03-13T05:37:42.963
> 
> 标签：jquery, asp.net-mvc-3, datepicker

我很难解决这个问题（而且我确信我在某处犯了一些愚蠢的错误:)）有人可以帮忙。

提交时，我无法检索在模型中使用 JQuery datepicker 选择的日期。它给我的价值是“1/1/0001 12:00:00 AM”。我错过了什么吗？

为了隔离我的问题，我使用 Visual Studio 2010 中的模板创建了一个简单的 MVC3 应用程序。详细信息如下：

模型：

```
namespace DatePickerApp.Models
{
    public class DatePickerClass
    {
        public DateTime BirthDate { get; set; }
    }
} 
```

控制器：

```
namespace DatePickerApp.Controllers
{
    public class BirthDateController : Controller
    {

        //
        // GET: /BirthDate/Create

        public ActionResult Create()
        {
            return View();
        } 

        //
        // POST: /BirthDate/Create

        [HttpPost]
        public ActionResult Create(DatePickerApp.Models.DatePickerClass DatePickerClass)
        {
            try
            {
                // TODO: Add insert logic here

                return View();
            }
            catch
            {
                return View();
            }
        }

    }
} 
```

cshtml 视图：

```
@model DatePickerApp.Models.DatePickerClass

@{
    ViewBag.Title = "Create";
}

<h2>Create</h2>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.1/themes/base/jquery-ui.css" />  
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>  
<script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>  
<link rel="stylesheet" href="/resources/demos/style.css" />

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

<script type="text/javascript">
    $(document).ready(function () {
        $("#date").datepicker({ dateFormat: 'dd/mm/yy' });
    }); 
</script>

@using (Html.BeginForm()) {
    @Html.ValidationSummary(true)
    <fieldset>
        <legend>DatePickerClass</legend>

        <div class="editor-label">
            @Html.LabelFor(model => model.BirthDate)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.BirthDate, new { id = "date" })
            @Html.ValidationMessageFor(model => model.BirthDate)
        </div>

        <p>
            <input type="submit" value="Create" />
        </p>
    </fieldset>
}

<div>
    @Html.ActionLink("Back to List", "Index")
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T07:01:13.470

发生这种情况是因为您的 jquery 日期格式不是 C#/VB 中 DateTime 数据的预期格式日期。将 jq 日期格式更改为与“1/1/0001 12:00:00 AM”相同

正确的方法可能是：`$("#date").datepicker({ dateFormat: 'dd/mm/yy hh:MM:ss' });`

PS这个'1/1/0001 12:00:00 AM'是C#中的默认日期时间值

检查文档：[http ://api.jqueryui.com/1.8/datepicker/#option-dateFormat](http://api.jqueryui.com/1.8/datepicker/#option-dateFormat)

此链接也可以帮助您实现 am/pm 部分：[http ://derekallard.com/blog/post/adding-time-to-jquery-ui-datepicker/](http://derekallard.com/blog/post/adding-time-to-jquery-ui-datepicker/)

```
date_obj = new Date();
date_obj_hours = date_obj.getHours();
date_obj_mins = date_obj.getMinutes();

if (date_obj_mins < 10) { date_obj_mins = "0" + date_obj_mins; }

if (date_obj_hours > 11) {
    date_obj_hours = date_obj_hours - 12;
    date_obj_am_pm = " PM";
} else {
    date_obj_am_pm = " AM";
}

date_obj_time = "'"+date_obj_hours+":"+date_obj_mins+date_obj_am_pm+"'";

$("#entry_date").datepicker({dateFormat: $.datepicker.W3C + date_obj_time}); 
```

使用此控制器：

```
[HttpPost]
    public ActionResult Index(DateTime? date)
    {
        //do something with date
    } 
```

并且准备好文档中的这个javascript：

```
$("[name=date]").datepicker({ dateFormat: "m/dd/yy" }); 
```

现在将相应地填写日期。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T06:58:27.157

我不确定这是否有帮助。但我考虑这样做。

创建类似下面的东西

`<td>date</td><td><input type="text" id="date" name="date"></td></tr>`

和使用`request.getParameters("date");`

谢谢

# python - 从csv文件中提取数据并使用python制作字典

> ID：15377828
> 
> 赞同：0
> 
> 时间：2013-03-13T05:38:04.277
> 
> 标签：python, csv, dictionary

我有一个这样的 csv 文件：

```
001,citycode,countrycode,usacode,usacountrycode
00457,citycode,countrycode,ugandacode,kampalacode
00976,countrycode,dubaicode,uaecode,dubaiareacode 
```

如何制作这样的数据字典：

```
data_dict = {'001' : ['citycode', 'countrycode', 'usacode', 'usacountrycode'],
             '00457' : ['citycode', 'countrycode', 'ugandacode', 'kampalacode'],
             '00976' : ['countrycode', 'dubaicode', 'uaecode', 'dubaiareacode']} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:43:17.987

Python 有一个`csv`模块，文档在[这里](http://docs.python.org/2/library/csv.html)。

```
>>> import csv
>>> your_dict = {}
>>> with open('eggs.csv', 'rb') as csvfile:
...     spamreader = csv.reader(csvfile, delimiter=' ', quotechar='|')
...     for row in spamreader:
...         your_dict[row[0]] = row[1:] 
```

# python - pycountries：将国家名称（可能不完整！）转换为 CountryCodes

> ID：15377832
> 
> 赞同：2
> 
> 时间：2013-03-13T05:38:21.610
> 
> 标签：python, pandas

我正在尝试使用 pycountries 库将国家名称数据列表转换为 ISO3166 国家代码（alpha3）。我的基本功能是：

```
import pycountries as pc

def guess_country(data, output='alpha3', verbose=False):
    #Check Data isn't already in Alpha3
    try:
        country = pc.countries.get(alpha3=data)
        return country
    except: 
        pass  #KeyError Raised, data doesn't directly match
    #Check if Country is Actual CountryName
    try:
        country = pc.countries.get(name=data)
        return country
    except:
        pass #KeyError Raised, data doesn't directly match
     #Check RegExpr of 'data' in an attempt to match 
```

问题是 CountryName 数据相当脏......样本的简短列表是

危地马拉，中国 T，哥伦比亚，墨西哥，香港

有谁知道是否有一个包可以返回给定 cntry_name 的最佳“猜测”匹配？我会很高兴有些人因为困难而被拒绝（即中国 T -> 台湾）。如果 best_guess 返回关于“猜测”的确定性度量，那就太好了。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-13T06:54:34.390

您可以使用[difflib](http://docs.python.org/2/library/difflib.html#difflib.get_close_matches)（内置于 python）来选择关闭的国家/地区名称：

```
import difflib
country_names = [x.name.lower() for x in pycountry.countries]    
matching_countries = difflib.get_close_matches(data, country_names)
confidence = difflib.SequenceMatcher(None, matching_countries[0], data).ratio() 
```

matching_countries 将包含相似的国家名称列表。您可以使用选项 n 和截止参数指定返回的结果数和匹配的敏感性。

注意：get_close_matches 方法区分大小写，因此您可能希望在查找匹配项之前将所有内容转换为小写。

我通过 get_close_matches 运行了您获得的样本数据，它适用于除台湾以外的所有地区。

如果您有许多已知的棘手匹配项，则值得放入一个包含常见困难输入数据的字典，例如“China T”来手动处理这些异常。当然，如果输入数据比较一致，使用简单的字典查找可能是最好的选择。

# ruby - Twitter 搜索仅返回 100 条推文

> ID：15377840
> 
> 赞同：3
> 
> 时间：2013-03-13T05:38:50.573
> 
> 标签：ruby, twitter

我正在使用 twitter gem ( [https://github.com/sferik/twitter](https://github.com/sferik/twitter) )，我尝试搜索，但只得到 100 个结果。

如何获得更多推文？

```
Twitter.search("google",:since=>'2013-03-5',:include_entities=>false,:count=>1500) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T06:25:45.863

[根据API 文档](https://dev.twitter.com/docs/api/1.1/get/search/tweets)（请参阅**计数**说明），Twitter 的搜索 API 仅允许您在每个请求中获得最多 100 个搜索结果。

您可能能够发出多个搜索请求并传递`:max_id`选项以提供搜索结果偏移量，有关详细信息，请参阅相同的 API 文档页面或 Twitter gem[`search`](http://rdoc.info/gems/twitter/Twitter/API/Search#search-instance_method)方法文档。

# java - 如何在 JPanel 中刷新/重新加载图像

> ID：15377842
> 
> 赞同：0
> 
> 时间：2013-03-13T05:38:59.310
> 
> 标签：java, swing, jpanel, background-image, repaint

当数据提交到数据库时，我需要重新加载 JPanel 的背景图像。我创建了从数据库填充图像的 JPanel。当我更新图像并提交它时，背景会自动改变。我也尝试使用 repaint() 和 revalidate() 但它不起作用。它必须重新启动应用程序并再次运行，它才能工作。

这是我在 JPanel 中显示背景的代码。

```
public void getLogo(Company company, PanelCompany view) {
        JPanel panel = new BackgroundImage(company.getLogoBlob());
        panel.revalidate();
        panel.setVisible(true);
        panel.setBounds(10, 10, 120, 120);
        view.getPanelPhoto().add(panel);
} 
```

这是我的助手类：

```
public class BackgroundImage extends JPanel{
    private Image image;

    public BackgroundImage (InputStream input) {
        try {
            image = ImageIO.read(input);
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    @Override
    protected void paintComponent(Graphics grphcs) {
        super.paintComponent(grphcs);
        Graphics2D gd = (Graphics2D) grphcs.create();
        gd.drawImage(image, 0, 0, getWidth(), getHeight(), this);
        gd.dispose();
    }
} 
```

有什么解决办法吗？感谢您之前的关注:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T14:21:50.693

首先，你的助手类应该设置它自己的大小。

其次，您应该只`Graphics`使用`JPanel`.

```
public class BackgroundImage extends JPanel{
    private Image image;

    public BackgroundImage (InputStream input) {
        try {
            image = ImageIO.read(input);
            setPreferredSize(new Dimension(image.getWidth(), image.getHeight()));
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    @Override
    protected void paintComponent(Graphics grphcs) {
        super.paintComponent(grphcs);
        Graphics2D g2d = (Graphics2D) grphcs;
        g2d.drawImage(image, 0, 0, getWidth(), getHeight(), this);
    }
} 
```

现在你的电话看起来像这样。

```
public void getLogo(Company company, PanelCompany view) {
        JPanel panel = new BackgroundImage(company.getLogoBlob());
        view.getPanelPhoto().add(panel);
} 
```

您的`PanelCompany`班级**必须**使用布局管理器。这是[Oracle 的布局管理器视觉指南](http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html)。

选一个。

# c# - 有人可以帮我在c#中解决这个问题吗

> ID：15377846
> 
> 赞同：1
> 
> 时间：2013-03-13T05:39:25.370
> 
> 标签：c#, xsd.exe

我使用 xsd.exe /classes cwmp-1-1.xsd 来生成 c# 代码。

以下代码由该工具生成。

```
public partial class Array 
{
    [System.Xml.Serialization.XmlAnyElementAttribute()]
    public System.Xml.XmlElement[] Any;
    [System.Xml.Serialization.XmlAttributeAttribute(Form = System.Xml.Schema.XmlSchemaForm.Qualified)]
    public string arrayType;
    [System.Xml.Serialization.XmlAttributeAttribute(Form = System.Xml.Schema.XmlSchemaForm.Qualified)]
    public string offset;
    [System.Xml.Serialization.XmlIgnoreAttribute()]
    public bool offsetSpecified;
    [System.Xml.Serialization.XmlAttributeAttribute(DataType = "ID")]
    public string id;
    [System.Xml.Serialization.XmlAttributeAttribute(DataType = "anyURI")]
    public string href;
    [System.Xml.Serialization.XmlAnyAttributeAttribute()]
    public System.Xml.XmlAttribute[] AnyAttr;
}

public partial class EventList : Array
{
}

public partial class EventStruct
{
    [System.Xml.Serialization.XmlElementAttribute(Form = System.Xml.Schema.XmlSchemaForm.Unqualified)]
    public string EventCode;
    [System.Xml.Serialization.XmlElementAttribute(Form = System.Xml.Schema.XmlSchemaForm.Unqualified)]
    public string CommandKey;
}

public partial class Inform
{
    [System.Xml.Serialization.XmlElementAttribute(Form = System.Xml.Schema.XmlSchemaForm.Unqualified)]
    public DeviceIdStruct DeviceId;
    [System.Xml.Serialization.XmlElementAttribute(Form = System.Xml.Schema.XmlSchemaForm.Unqualified)]
    public EventList Event;
    [System.Xml.Serialization.XmlElementAttribute(Form = System.Xml.Schema.XmlSchemaForm.Unqualified)]
    public uint MaxEnvelopes;
    [System.Xml.Serialization.XmlElementAttribute(Form = System.Xml.Schema.XmlSchemaForm.Unqualified)]
    public System.DateTime CurrentTime;
    [System.Xml.Serialization.XmlElementAttribute(Form = System.Xml.Schema.XmlSchemaForm.Unqualified)]
    public uint RetryCount;
    [System.Xml.Serialization.XmlElementAttribute(Form = System.Xml.Schema.XmlSchemaForm.Unqualified)]
    public ParameterValueList ParameterList;
} 
```

和我的代码

```
Inform inform = new Inform();
inform.Event = new EventList();

EventStruct es = new EventStruct();
es.EventCode = "0 BOOTSTRAP";
es.CommandKey = ""; 
```

我的问题是如何添加`es`到`inform.Event`

以及如何序列化/反序列化类通知。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T13:57:26.960

你问题的第一部分。

```
inform.Event = es; 
```

您问题的第二部分，这是我的一些代码，适用于您的情况。

反序列化：

```
XmlSerializer serializer = new XmlSerializer(typeof(Inform));
Inform ifnorm = null;
using (StreamReader sr = new StreamReader((FileName))
{
    inform = (Inform)serializer.Deserialize(sr)
} 
```

[我想你可以从这个链接到文档](http://msdn.microsoft.com/en-us/library/4abbf6k0.aspx)中找出序列化。

# git - 将 Master 上的所有新代码移动到 Git 中的新分支

> ID：15377847
> 
> 赞同：4
> 
> 时间：2013-03-13T05:39:34.783
> 
> 标签：git, branch

我正在使用 Git。我不小心开始在 Master 上进行所有代码更改。如何创建一个分支“new_feature”并将我的所有更改移至“new_feature”分支并移出主分支？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T05:43:35.903

如果您已经提交了代码，则只需运行`git checkout -b new_feature`. 这将创建您的新分支并将您切换到该新分支。

如果您尚未提交更改，请运行`git checkout -b new_feature`然后提交更改。

如果在创建新分支并提交代码后，您需要恢复主分支：

```
git checkout master              # switch to the master branch
git reset --hard origin/master   # revert master to the current origin/master 
```

请注意，这`git reset --hard`将导致您丢失任何未提交的更改。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T05:43:16.013

如果你还没有提交到 master 分支。做一个`git diff`来创建一个补丁。创建新分支

`git checkout -b new_branch`

并使用`git apply`

您可以关注此[问题](https://stackoverflow.com/questions/5159185/create-a-git-patch-from-the-changes-in-the-current-working-directory)，以更好地了解如何从未提交/未暂存的更改创建补丁

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-10-11T05:16:05.233

如果您尚未提交更改，只需切换到新分支：

```
git checkout -b new_features 
```

这会将您的所有更改带到新分支而不影响主分支。在这里，您可以提交所有更改。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-13T05:43:27.800

试试这个：

```
% git commit ...               # save any untracked changes
% git branch <new-branch>      # created a branch, but you're still on master
% git log                      # find the first development commit
% git reset --hard "<commit>^" # set the master branch to before the commit
% git checkout <new-branch>    # recommence your development work
% git checkout master          # return to work prior to development 
```

小心`reset --hard`，因为您可能会丢失未跟踪的更改。此外，不要`reset --hard`超出已经推送到远程的提交。

# unicode - 我应该考虑在 Unicode 代码点和 UTF8/16/32 之间转换什么？

> ID：15377851
> 
> 赞同：0
> 
> 时间：2013-03-13T05:40:08.513
> 
> 标签：unicode, encoding

UTF 编码有非字符代码，我需要处理这些异常。我知道有很多图书馆可以做到这一点，但我认为我需要了解基本原则。

将 Unicode 代码点转码为 UTF 或 UCS 编码/从 UTF 或 UCS 编码转码时我应该注意什么？我认为每种编码都有不同的规则，但三个应该是一个简单的原则。我想知道。

**更新**

我发布了这个问题，因为我试图从`NSString`. `NSString`仅支持 UTF-16 方式的 API 进行字符处理，因此我需要执行额外的处理以获取实际的代码点（这实际上是有意义的）。我的程序应该

1.  正确提升代理对字符
2.  或禁止它们进行可靠的字符处理。

但问题是我不确定代理对是 UTF-16 上*唯一需要关心的东西。*我认为应该有更多的东西需要关心，我想知道这一点。如果可能的话，也可以使用其他编码。当然，前提是它足够简单处理。如果它非常复杂，我将只使用`libICU`.

我知道`libICU`会给我这些功能，但目前对我来说感觉有点过度设计。如果我知道基本规则（例如，“代理对是唯一需要关心的事情！”），至少禁止不受支持的字符应该非常容易和简单。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T16:18:17.367

NSString 上有一个方法

```
enumerateSubstringsInRange:options:usingBlock: 
```

您可以在其中指定 NSStringEnumerationByComposedCharacterSequences 作为选项：这将为您提供一系列指定组合 Unicode 代码点的 NSRange 值。因此，对于适合单个 unichar（即 16 位）的大多数代码点，NSRange 将覆盖 NSString 的单个索引，但例如，对于 Emoji 字符的 Unicode 代码点，NSRange 将覆盖多个 unichars。

# objective-c - 核心数据：fetchedResultsController 关系“神奇地”设置为 nil

> ID：15377856
> 
> 赞同：1
> 
> 时间：2013-03-13T05:40:30.830
> 
> 标签：objective-c, core-data

**的背景：**

*   我正在使用库存管理应用程序。
*   用户可以将库存添加到卡车
*   添加已经在卡车上的物品时，我只想更新其数量而不是再次添加。
*   这是一对一的关系。目前只有一辆“卡车” ![图片说明在这里](../Images/d1d506b861265335fc84cd72f42529f8.png)

**流程逻辑**：输入项目编号后，在*Items*下查找它。如果找到，则创建适当的*truckItem*托管对象并将其保存在字典中。一旦我准备好保存对所有存储的*truckInventory*对象的上下文检查。如果 item 已经存在，则获取*truckItem*托管对象，并添加数量，销毁新创建的*truckItem*。节省。

**问题**：当检查存储的 truckItems 时，它将加载所有信息，但 item 将设置为 nil。（注意，是 nil，不是 ）。因此，数量反映了正确的价值，但我们不再有合适的项目。

**简化代码：** 加载库存：

```
NSError *error;
NSFetchRequest *request = [[NSFetchRequest alloc] initWithEntityName:@"TruckItems"];
NSSortDescriptor *sort = [[NSSortDescriptor alloc]
                              initWithKey:@"item" ascending:YES];

[request setSortDescriptors:[NSArray arrayWithObject:sort]];

loadedInventoryResultsController = [[NSFetchedResultsController alloc] initWithFetchRequest:request managedObjectContext:self->context sectionNameKeyPath:nil cacheName:nil];

if(![loadedInventoryResultsController performFetch:&error]) {
      NSLog(@"Error! %@", [error localizedDescription]);
} 
```

检查保存的库存简化代码：

```
for(NSString *mpn in items) {

    TruckItems *item = [items objectForKey:mpn];

    //This shows the right number of managedObjects, but the ones that are repeated show item = nil;
    NSLog(@"Logged: %@", [loadedInventoryResultsController fetchedObjects]);

    //Check to see if items are already in inventory. If they are update their quantities rather than adding them again.
    for(TruckItems *loadedItem in [loadedInventoryResultsController fetchedObjects]) {

        Items *storedItem = [loadedItem item]; //I am doing this just for testing: This comes back as nil. This is the problem as it comes nil
        Items *scanned = [item item];  //Same here.

                if([stored.manufacturerProductNumber isEqualToString:scanned.manufacturerProductNumber]) {

                    item.quantity = [loadedItem.quantity decimalNumberByAdding:item.quantity];

                    [context deleteObject:loadedItem];
                }
            }
        }
//Save context 
```

**问题：**为什么它被设置为零？如何避免？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:32:36.817

> 如果找到，则创建适当的 truckItem 托管对象并将其保存在字典中

“适当的” truckItem 对象只能是`item`使用适当对象填充关系的`Items`对象。由于您具有一对一的关系，因此这将从您拥有`item`的任何其他`truckItem`对象中删除该值。

> 添加数量，销毁新创建的 TruckItem。

`truckItem`然后，这将删除与该项目具有有效关系的唯一对象。

您没有显示制作 的代码`truckItem`，但由于您正在搜索`Items`，只需使用该`onTruck`项目的属性 - 如果它不在卡车上，这将是 nil，或者如果它是 truckItem 对象. 此时，创建一个新项目或更新数量。

# c# - 建议设计：应用程序中几乎每个对象都有记录器

> ID：15377858
> 
> 赞同：1
> 
> 时间：2013-03-13T05:40:40.457
> 
> 标签：c#, design-patterns, logging, nlog

我正在写一个应用程序。我使用 NLog 进行日志记录。在这个应用程序中，几乎每个对象都可以写入日志。我为此定义了受保护的成员：

```
protected Logger logger;

protected virtual Logger Logger
{
     get { return logger ?? (logger = LogManager.GetLogger(this.GetType().ToString())); }
} 
```

在这种情况下，我需要为应用程序中的每个基类复制/粘贴此代码。或者我看到其他选项：定义应用程序特定的根对象，其中包含记录器并将其子类化。但从语义上讲，这听起来是错误的，因为对我来说这不是真正的“是”情况。

有没有更好的选择？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-13T08:42:56.450

有时我真的希望 C# 能够支持多重继承或混合......

你可以写一个扩展方法：

```
public static Logger Logger(this object obj) {
    return LogManager.GetLogger(obj.GetType());
} 
```

缺点是它会有点慢，因为创建的实例没有被缓存（除了在 NLog 内部，这是一个实现细节），但你可以自己做：

```
public static Logger Logger(this object obj) {
    Logger logger;
    Type type = obj.GetType();
    // s_loggers is static Dictionary<Type, Logger>
    if (!s_loggers.TryGetValue(type, out logger)) { // not in cache
        logger = LogManager.GetLogger(type);
        s_loggers[type] = logger;  // cache it
    }
    return logger;
} 
```

你可以这样称呼它：

```
this.Logger.Log(...) 
```

明显的缺点是任何对象都可以写入任何其他对象的记录器。

关于内存泄漏的评论（现已删除）：

第一个实现解决了这个问题。然而，它并不是比任何静态对象更多的泄漏。如果您无法访问这些对象，那将是泄漏。作为替代方案，您可以缓存`WeakReference`到记录器而不是记录器本身，但我认为没有意义，因为我相信 NLog 本身已经有一些缓存。否则，NLog 总是必须为每种类型创建一个新的记录器实例。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T17:54:24.093

我建议您使用静态记录器，以便获得每个类的记录器。这停止了​​为每个实例创建记录器的开销（记录器是线程安全的）：

```
class MyClass
{
    static readonly Logger logger = LogManager.GetCurrentClassLogger();
} 
```

GetCurrentClassLogger 将使您不必显式命名记录器，但缺点是额外的开销，因为它必须在运行时从堆栈跟踪中为您计算出记录器的名称。

在大多数情况下，这可能没什么大不了的，但除此之外，这样做会更快一些：

```
class MyClass
{
    static readonly Logger logger = LogManager.GetLogger("MyClass");
} 
```

我会坚持使用 GetCurrentClassLogger 直到 / 除非轻微的开销成为您的解决方案中的一个问题。

我得到的印象是您正在尝试减少打字，和/或您正在解决（良好的）自然厌恶复制和粘贴重复代码的问题。

但是，这种每个类都有一个带有静态初始化程序的记录器的模式被广泛接受，并且在大多数情况下效果最好。您可能最好坚持这一点，并且可能设置一个代码片段来节省您的打字时间。

如果您仍然对此不满意，依赖注入（通过构造函数或属性注入）甚至面向方面的日志管理可能是您需要调查的其他事情。

# java - 按其中字符串的频率对列表进行排序

> ID：15377859
> 
> 赞同：-1
> 
> 时间：2013-03-13T05:40:40.823
> 
> 标签：java

列表是

```
List<String> list = new ArrayList<String>();

list.add("apple");
list.add("ball");
list.add("apple");
list.add("cat");
list.add("ball"); 
```

现在我必须按照苹果、球、猫的频率对这个列表进行排序

我必须得到输出：

```
apple
ball
cat 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T05:56:00.250

首先统计字符串出现的次数，然后使用Map进行排序

```
List<String> list = new ArrayList<String>();
list.add("apple");
list.add("ball");
list.add("apple");
list.add("cat");
list.add("ball");
Map<String, Integer> map = new HashMap<String, Integer>();
for (String s : list) {
    if (map.containsKey(s)) {
        map.put(s, map.get(s) + 1);
    } else {
        map.put(s, 1);
    }
}
ValueComparator<String, Integer> comparator = new ValueComparator<String, Integer> (map);
Map<String, Integer> sortedMap = new TreeMap<String, Integer> (comparator);
sortedMap.putAll(map);

List<String> sortedList = new ArrayList<String> (sortedMap.keySet());

System.out.println(sortedMap);
System.out.println(sortedList);

}

static class ValueComparator<K, V extends Comparable<V>> implements Comparator<K> {

Map<K, V> map;

public ValueComparator(Map<K, V> base) {
    this.map = base;
}

@Override
public int compare(K o1, K o2) {
     return map.get(o2).compareTo(map.get(o1));
}
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:55:00.273

您可以创建一个自定义列表，其中包含一个映射，该映射记录列表中元素的频率。

```
pulic class FrequencySortList<E> extend ArrayList<E> {

  private Map<E,Integer> frequency = new HashMap<E,Integer>();

  .....

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T06:01:47.740

尝试这个，

```
List list = new ArrayList();
         list.add("apple");
         list.add("ball");
         list.add("apple");
         list.add("cat");
         list.add("ball");

         // sort the list
         Collections.sort(list); 
```

您的列表包含：

```
apple
apple
ball
ball
cat
         List list2 = new  ArrayList();

         for(int i=0;i<list.size();i++)
         {
             if(!list2.contains(list.get(i)))
             {
                 list2.add(list.get(i));
             }

         }
         for(int i=0;i<list2.size();i++)
         {

             System.out.println(list2.get(i));
         } 
```

list2 将打印：

```
apple
ball
cat 
```

或者您可以使用评论中提到的 jahroy 使用这一行来做同样的事情

```
List list2 = new ArrayList<String>(new TreeSet<String>(list)); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-13T06:05:16.690

首先，您需要将简单的类作为模型：

```
public class Thing {

        String name;
        int total;

        public Thing(String name){
            this.name=name;
            total=1;
        }

       //setter and getter
    } 
```

那么您需要计算该事物出现的频率：

```
List list = new ArrayList();
list.add("apple");
list.add("ball");
list.add("apple");
list.add("cat");
list.add("ball");
System.out.println(list.size());
List list2 = new ArrayList();
for(int i=0;i<list.size();i++){
    System.out.println(list.get(i));
    Thing thing= new Thing(list.get(i).toString());
    if(list2.size()<1){
        list2.add(thing);
    }else {
        boolean insert=true;
        int x=0;
        for(int j=0;j<list2.size();j++){
            Thing toCompare=(Thing)list2.get(j);
            if(toCompare.getName().equals(thing.getName())){
                insert=false;
                x=j;
                thing.setTotal(thing.getTotal()+1);
                break;
            }
        }
        if(insert==true){
            list2.add(thing);
        }else{
            list2.set(x, thing);
        }
    }
}

for(int i=0;i<list2.size();i++){
    Thing thing=(Thing)list2.get(i);
    System.out.println(thing.getName()+" : "+thing.getTotal());
} 
```

# c# - 如何在c#中自定义一个winform的控件框

> ID：15377860
> 
> 赞同：0
> 
> 时间：2013-03-13T05:40:42.093
> 
> 标签：c#, .net, winforms, controlbox

我想用不同的背景和不同的按钮图像自定义我的 winform 的控制框。我该怎么做？有没有办法用用户控件或类似的东西制作一个自定义控件框，然后将它添加到winform？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T08:46:31.843

`UserControl`您可以通过从类似的继承来创建自己的自定义控件

```
class MyControl : System.Windows.Forms.Button //this could also have been System.Windows.Forms.UserControl or any other existing control type as a template
{
    protected override void OnPaint(System.Windows.Forms.PaintEventArgs e)
    {
        //Paint whatever you wish on this buttons graphics using e.Graphics
    }
} 
```

编写自定义控件有很多内容。这里要回答的太多了。一个很好的参考是：http: [//msdn.microsoft.com/en-us/library/6hws6h2t.aspx](http://msdn.microsoft.com/en-us/library/6hws6h2t.aspx)

您可以创建自己的表单控件并隐藏父控件框。或者，也许您可​​以继承`System.Windows.Form`并创建一个自定义表单。但我自己从未尝试过。

对于使用 OnPaint，如果您关心性能和/或闪烁等，则必须牢记一些规则：[在 .Net 应用程序中使用 OnPaint 的正确方法是什么？](https://stackoverflow.com/questions/13652568/what-is-the-right-way-to-use-onpaint-in-net-applications/13652570#13652570)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T09:00:53.727

您对使用 .NET 框架的方式没有影响。您必须为表单的非客户区实现自定义绘图。以下内容可能会对您有所帮助：http: [//www.codeplex.com/wikipage ?ProjectName=CustomerBorderForm&title=Painting%20NonClient%20Area](http://www.codeplex.com/wikipage?ProjectName=CustomerBorderForm&title=Painting%20NonClient%20Area)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-13T17:04:13.677

不知道我理解对不对。您想创建自己的控件吗？如果是，试试这个：

*   创建自定义控件。
*   更改控件的类型。

改变：

```
public partial class MyCustomControl : Control { ... } 
```

为了：

```
public partial class MyCustomControl : Form { ... } 
```

*   将 Controlbox 属性的值更改为 false。
*   更改您想要自定义的任何属性。
*   创建一个新表格。
*   更改表单的类型。

改变：

```
 public partial class MyForm : Form { ... } 
```

为了：

```
public partial class MyForm : MyCustomControl { ... } 
```

现在您的 MyForm 就像您的 MyCustomControl 一样，您可以在所有项目中重复使用。

# javascript - 如何借助 jQuery 创建回调优先级队列？

> ID：15377865
> 
> 赞同：3
> 
> 时间：2013-03-13T05:40:57.713
> 
> 标签：javascript, jquery, callback, queue, priority-queue

执行时`$(element).on('customevent',function(){});`，绑定 的每个元素`customevent`也会触发。这大致作为 Pub/Sub 工作，似乎没有顺序或优先级。我想要做的是，实现我自己的回调队列，但是，具有可调整的优先级（就像 Wordpress 一样，您可以设置挂钩优先级）。因此，数字越大优先级越高，数字 0 将是公共的并最后执行。

给定示例`$(element).on_priority(10, 'customevent', function(){});`and `$(element).on_priority(0, 'customevent', function(){});`，`10`优先级将 `customevent`首先执行相同的操作，并且可能会或不会取消`0`优先级事件的执行。

我该如何实施？我在尝试可视化回调流程时遇到问题

到目前为止，我是这样想的：

*   保留一个设置了所有回调名称的“全局”（在我的闭包内）对象。
*   在回调的每个成员中，一个包含所有优先级的对象。

```
var callbacks = {
  'customevent': {},
  'customevent2': {
    0: [{element: $element, fn: function(), data:{}}, {element: $element, fn: function(), data:{}}],
   10: [{element: $element, fn: function(), data:{}}],
   20: [{element: $element, fn: function(), data:{}}]
  }
}; 
```

方向是否正确？就性能而言，它不应该受到太大影响，问题在于一遍又一遍地迭代对象。这样做的问题是我无法取消注册先前设置的事件或设置每个优先级内的回调数组的顺序（甚至重新排序）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-13T06:22:08.993

我只是建议一个回调对象数组，您可以将它们封装在它自己的对象中。该对象具有添加、删除和执行的方法。添加，按优先级顺序添加给定的回调。Remove 找到回调并将其删除。Execute 按优先级顺序调用每个回调，但如果有任何回调返回，则停止进一步执行回调`false`。

按优先级顺序遍历回调很简单（您只需从数组的开头到结尾），因为回调在数组中保持排序顺序。

```
function sortedCallbacks() {
    this.list = [];
}

sortedCallbacks.prototype = {
    // add callback to the list
    add: function(fn, priority, data) {
        var list = this.list;
        var callbackObj = {fn: fn, priority: priority, data: data};

        for (var i = 0; i < list.length; i++) {
            // if our new priority is greater, then insert it here
            if (priority > list[i].priority) {
                list.splice(i, 0, callbackObj);
                return;
            }
        }
        // if the list was either empty or no priorities in the list were less than
        // the new priority, then just add this onto the end of the list
        list.push(callbackObj);
    },
    // remove callback from the list
    remove: function(fn, priority) {
        var list = this.list;
        for (var i = 0; i < list.length; i++) {
            if (list[i].fn === fn && list[i].priority === priority) {
                list.splice(i, 1);
                return;
            }
        }
    },
    // change priority or data or both
    change: function(fn, oldPriority, newPriority, data) {
        this.remove(fn, oldPriority);
        this.add(fn, newPriority, data);
    }
    // execute callbacks in order
    execute: function(/* args for callback passed here */) {
        // execute in priority order
        var list = this.list, retVal, args;
        for (var i = 0; i < list.length; i++) {
            args = [].slice.call(arguments, 0);
            // add the data for this callback to any arguments that were passed to execute
            args.unshift(list[i].data);
            retVal = list[i].fn.apply(this, args);
            // if callback returns false, then stop further callback execution
            if (retVal === false) {
                return;
            }
        }        
    }
}; 
```

示例用法：

```
// create callbacks object and add some callbacks to it
var callbacks = new sortedCallbacks();
callbacks.add(fn1, 4, "whatever");
callbacks.add(fn2, 9, "hello");
callbacks.add(fn8, -1, "nothing");

// execute the callbacks and pass them each a value
callbacks.execute(elem.value) 
```

# javascript - Javascript如何在WebApp中隐藏Consumer Key和Sercret？

> ID：15377866
> 
> 赞同：1
> 
> 时间：2013-03-13T05:41:14.603
> 
> 标签：javascript, api, parsing, security, webapp2

我正在构建一个由 Parse 作为后端支持的 webapp。使用 Parse 时，我必须为每个请求添加消费者密钥和秘密。众所周知，如果我们在 iOS 或 Android App 中使用 Parse 是可以的，因为不会发布源代码。然而，在 web 应用程序中，有人可以阅读我的 web 的源代码，然后获取我的 Parse Consumer 密钥和 sercret，然后甚至破解我的 Parse 数据。

我想知道是否有一种方法可以在构建 Web 应用程序时隐藏我的消费者密钥和秘密。

感谢您的任何帮助！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-01T12:35:33.680

好吧，好吧，如果你只使用 JavaScript，那么隐藏这种信息会很困难。但是，如果您使用 PHP、Ruby、Node.js 等脚本语言，则可以轻松隐藏此信息。您可以捕获您从 JS 向 3rd 方应用程序发出的每个请求，并在服务器端添加密钥和秘密，因此它不会向公众公开。

让我知道这是否有用或者您还有其他问题。

# c# - 我没有得到存储过程的返回值。没有提供 var @id。？

> ID：15377869
> 
> 赞同：0
> 
> 时间：2013-03-13T05:41:29.727
> 
> 标签：c#, sql-server, stored-procedures

这是我插入数据的 SQL Server 存储过程：

```
Alter proc insert_stud1 
    @name varchar(20),
    @mobile int,
    @id int output
as
Begin 
    insert into stud1 values (@name, @mobile)

    set @id = @@identity;
End 
```

对应的C#

```
cmd.CommandType = CommandType.StoredProcedure;

cmd.Parameters.Add("@name",SqlDbType.VarChar,20);
cmd.Parameters.Add("@mobile",SqlDbType.Int);
var ret = cmd.Parameters.Add("@i", SqlDbType.Int);
cmd.Parameters["@name"].Value=textBox1.Text;
cmd.Parameters["@mobile"].Value=int.Parse(textBox2.Text);

cmd.CommandText="insert_stud1";

con.Open();
cmd.ExecuteNonQuery();
MessageBox.Show(ret.Value.ToString());
con.Close(); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T05:48:49.367

您需要提供正确的参数名称并将参数方向设置为输出

```
SqlParameter idParameter= new SqlParameter("@id", SqlDbType.Int);
idParameter.Direction = ParameterDirection.Output;
cmd.Parameters.Add(idParameter); 
```

行后：`cmd.ExecuteNonQuery();`结果ID可以得到如下

```
int id = int.Parse(cmd.Parameters["@id"].Value.ToString()); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T05:43:56.637

您发送“@i”而不是“@id”

# codeigniter - Codeignighter - 视图中未定义的变量

> ID：15377870
> 
> 赞同：-1
> 
> 时间：2013-03-13T05:41:30.830
> 
> 标签：codeigniter, view, controller

我一直在为这个挠头一段时间，

```
public function business()
    {
    $org = $this->session->userdata['logged_in']['org_id'];
    $query['org_details'] = $this->business_model->org_account($org);   
    $data = array('navigationContent' => $this->load->view('parts/p_navigation', array(), TRUE), 'mainContent' => $this->load->view('platform/business', array(), TRUE),);
    $this->load->view('templates/platform', $data, $query);
    } 
```

`Undefined variable: org_details`在视图中产生此错误。我不知道为什么这不起作用

按要求编辑视图

```
<?php foreach($org_details as $row): ?>
        <fieldset>
        <div class="control-group">
        <label class="control-label">Platform Company ID:</label>
        <div class="controls">
        <input type="text" value="<?= $row['org_id']?>" disabled>
        </div>
        </div>
        <div class="control-group">
        <label class="control-label">ABN:</label>
        <div class="controls">
        <input type="text" value="<?= $row['org_abn']?>" disabled>
        </div>
        </div>
        <div class="control-group">
        <label class="control-label">Business Name:</label>
        <div class="controls">
        <input type="text" value="<?= $row['org_name']?>" disabled>
        </div>
        </div>
        <div class="control-group">
        <label class="control-label">Address:</label>
        <div class="controls">
        <input type="text" value="<?= $row['org_address']?>" disabled>
        </div>
        </div>
        <div class="control-group">
        <label class="control-label">Suburb:</label>
        <div class="controls">
        <input type="text" value="<?= $row['org_suburb']?>" disabled>
        </div>
        </div>
        <div class="control-group">
        <label class="control-label">State:</label>
        <div class="controls">
        <input type="text" value="<?= $row['org_state']?>" disabled>
        </div>
        </div>
        <div class="control-group">
        <label class="control-label">Post Code:</label>
        <div class="controls">
        <input type="text" value="<?= $row['org_pcode']?>" disabled>
        </div>
        </div>
        </fieldset>
<?php endforeach ?> 
```

随着答案的出现，我已经更新了控制器，但结果仍然相同

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T06:01:13.337

传入`org_details`数据数组，因为`load->view`只接受两个参数..

> 数据通过视图加载函数的第二个参数中的数组或对象从控制器传递到视图。

```
public function business()
{
   $org = $this->session->userdata['logged_in']['org_id'];
   $data['org_details'] = $this->business_model->org_account($org);   
   $data ['navigationContent']=$this->load->view('parts/p_navigation', array(), TRUE);
   $data['mainContent'] = $this->load->view('platform/business', array(), TRUE);
   $this->load->view('templates/platform', $data);
} 
```

[文档在这里](http://ellislab.com/codeigniter/user-guide/general/views.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T06:17:36.680

你能显示你的型号代码吗

```
 $this->business_model->org_account($org); 
```

可能对它进行建模而不返回结果（）；

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-13T06:15:51.567

```
'mainContent' => $this->load->view('platform/business', $query, TRUE),); 
```

这纯粹是侥幸！

# chef-infra - 我怎样才能让厨师重新启动节点，并从它停止的地方拿起食谱？

> ID：15377873
> 
> 赞同：4
> 
> 时间：2013-03-13T05:41:38.083
> 
> 标签：chef-infra, vagrant, cookbook, berkshelf

我正在尝试使用 Berkshelf 和 Vagrant 与厨师一起设置星号服务器，我首先想通过运行来升级内核

> apt-get 升级

，并重新启动我的机器。

如何在配方中触发重新启动，并在机器重新启动后启动它？我使用 Fabric 对此没有任何问题，但是

> 执行“重启”

Vagrant 中的 Chef 供应商在机器重启时死亡

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:47:08.100

[幂等](http://en.wikipedia.org/wiki/Idempotence)性是 Chef 的原则之一。

这意味着你的食谱可以一遍又一遍地运行，它只会改变不符合预期的事情。

所以在你的情况下，它看起来像这样：

*   第一次 Chef 运行注意到安装了意外的内核。因此，它会安装内核并触发重新启动。
*   Chef 再次运行，确定内核已按预期安装，因此继续运行。现在你可以继续做其他事情了。

一个注释：我从未尝试过这个，但是`reboot`在 Chef 运行过程中发出 a 信号可能会造成一些损害。我建议在`reboot`信号后中止厨师运行（例如，通过引发异常，请参阅[如何中止/结束厨师运行？](https://stackoverflow.com/questions/14290397/how-do-you-abort-end-a-chef-run)）。

# android - 无法启动 Activity 组件信息

> ID：15377875
> 
> 赞同：1
> 
> 时间：2013-03-13T05:41:41.483
> 
> 标签：android, android-intent, methods

大家好，这是过去两天第二次遇到这个问题。所以我想代码中有一些地方会出现可怕的错误。无论如何，我在这里尝试做的只是调用另一个类中的一个方法，该方法将在我的活动类中显示一个特定的文本文件。

MainActivity 是：

```
package com.example.testflashfile;

public class MainActivity extends Activity{
    Button nextButton;
    Button playButton;
    Button backButton;
    ReadText readText=new ReadText(this);
    Context contextObject;
    GestureDetector gestureDetector;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_SENSOR);
        setContentView(R.layout.activity_main);

        TextView helloTxt = (TextView)findViewById(R.id.displaytext);

        helloTxt.setText(readText.readTxt());

        gestureDetector = new GestureDetector(this.getApplicationContext(),new MyGestureDetector());
        View mainview = (View) findViewById(R.id.mainView);

        // Set the touch listener for the main view to be our custom gesture listener
        mainview.setOnTouchListener(new View.OnTouchListener() {
            public boolean onTouch(View v, MotionEvent event) {
                if (gestureDetector.onTouchEvent(event)) {
                    return true;
                }
                return false;
            }
        });

        playButton=(Button)findViewById(R.id.play);
        playButton.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                Intent startAnimation=new Intent(MainActivity.this,PlayAnimationActivity.class);
                startAnimation.putExtra("SWF_NAME","a");
                startActivity(startAnimation);
            }
        });

        nextButton=(Button)findViewById(R.id.next);
        nextButton.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                Intent intent=new Intent(MainActivity.this,SecondActivity.class);
                startActivity(intent);

            }
        });

        backButton=(Button)findViewById(R.id.back);
        backButton.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                Intent intent=new Intent(MainActivity.this,FifthActivity.class);
                startActivity(intent);

            }
        });
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }

    public class MyGestureDetector extends SimpleOnGestureListener   {

        @Override
        public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) {
            if (Math.abs(e1.getY() - e2.getY()) > GlobalVariables.SWIPE_MAX_OFF_PATH) {
                return false;
            }

            // right to left swipe
            if(e1.getX() - e2.getX() > GlobalVariables.SWIPE_MIN_DISTANCE && Math.abs(velocityX) > GlobalVariables.SWIPE_THRESHOLD_VELOCITY) {

                Intent i= new Intent(MainActivity.this,SecondActivity.class);
                startActivity(i);

                //  left to right  swipe
            }  else if (e2.getX() - e1.getX() > GlobalVariables.SWIPE_MIN_DISTANCE && Math.abs(velocityX) > GlobalVariables.SWIPE_THRESHOLD_VELOCITY) {

                Intent i= new Intent(MainActivity.this,FifthActivity.class);
                startActivity(i);

            }

            return false;
        }

        @Override
        public boolean onDown(MotionEvent e) {
            return true;
        }
    }
} 
```

readTxt() 方法在下面的类中定义：

```
package com.example.testflashfile;

public class ReadText {
    Context context;
    public ReadText(Context c) {
        context = c;
        readTxt();
    }

    public String readTxt() {
        InputStream inputStream = context.getResources().openRawResource(R.raw.textone);

        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();

        int i;
        try {
            i = inputStream.read();
            while (i != -1)
            {
                byteArrayOutputStream.write(i);
                i = inputStream.read();
            }

            inputStream.close();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        return byteArrayOutputStream.toString();
    } 
} 
```

清单文件是：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.testflashfile"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="17" />

    <application
        android:allowBackup="true"
        android:hardwareAccelerated="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name="com.example.testflashfile.MainActivity"
            android:label="@string/app_name"
            android:screenOrientation="portrait" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity
            android:name="com.example.testflashfile.SecondActivity"
            android:screenOrientation="portrait" >
        </activity>
        <activity
            android:name="com.example.testflashfile.ThirdActivity"
            android:screenOrientation="portrait" >
        </activity>
        <activity
            android:name="com.example.testflashfile.FourthActivity"
            android:screenOrientation="portrait" >
        </activity>
        <activity
            android:name="com.example.testflashfile.FifthActivity"
            android:screenOrientation="portrait" >
        </activity>
        <activity
            android:name="com.example.testflashfile.ReadText"
            android:screenOrientation="portrait" >
        </activity>
        <activity
            android:name="com.example.testflashfile.PlayAnimationActivity"
            android:screenOrientation="portrait" >
        </activity>
    </application>

</manifest> 
```

日志猫：

```
03-13 11:01:47.792: D/AndroidRuntime(630): Shutting down VM
03-13 11:01:47.843: W/dalvikvm(630): threadid=1: thread exiting with uncaught exception (group=0x40015560)
03-13 11:01:47.972: E/AndroidRuntime(630): FATAL EXCEPTION: main
03-13 11:01:47.972: E/AndroidRuntime(630): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.testflashfile/com.example.testflashfile.MainActivity}: java.lang.NullPointerException
03-13 11:01:47.972: E/AndroidRuntime(630):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1569)
03-13 11:01:47.972: E/AndroidRuntime(630):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
03-13 11:01:47.972: E/AndroidRuntime(630):  at android.app.ActivityThread.access$1500(ActivityThread.java:117)
03-13 11:01:47.972: E/AndroidRuntime(630):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
03-13 11:01:47.972: E/AndroidRuntime(630):  at android.os.Handler.dispatchMessage(Handler.java:99)
03-13 11:01:47.972: E/AndroidRuntime(630):  at android.os.Looper.loop(Looper.java:123)
03-13 11:01:47.972: E/AndroidRuntime(630):  at android.app.ActivityThread.main(ActivityThread.java:3683)
03-13 11:01:47.972: E/AndroidRuntime(630):  at java.lang.reflect.Method.invokeNative(Native Method)
03-13 11:01:47.972: E/AndroidRuntime(630):  at java.lang.reflect.Method.invoke(Method.java:507)
03-13 11:01:47.972: E/AndroidRuntime(630):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
03-13 11:01:47.972: E/AndroidRuntime(630):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
03-13 11:01:47.972: E/AndroidRuntime(630):  at dalvik.system.NativeStart.main(Native Method)
03-13 11:01:47.972: E/AndroidRuntime(630): Caused by: java.lang.NullPointerException
03-13 11:01:47.972: E/AndroidRuntime(630):  at android.content.ContextWrapper.getResources(ContextWrapper.java:80)
03-13 11:01:47.972: E/AndroidRuntime(630):  at com.example.testflashfile.ReadText.readTxt(ReadText.java:24)
03-13 11:01:47.972: E/AndroidRuntime(630):  at com.example.testflashfile.ReadText.<init>(ReadText.java:14)
03-13 11:01:47.972: E/AndroidRuntime(630):  at com.example.testflashfile.MainActivity.<init>(MainActivity.java:26)
03-13 11:01:47.972: E/AndroidRuntime(630):  at java.lang.Class.newInstanceImpl(Native Method)
03-13 11:01:47.972: E/AndroidRuntime(630):  at java.lang.Class.newInstance(Class.java:1409)
03-13 11:01:47.972: E/AndroidRuntime(630):  at android.app.Instrumentation.newActivity(Instrumentation.java:1021)
03-13 11:01:47.972: E/AndroidRuntime(630):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1561)
03-13 11:01:47.972: E/AndroidRuntime(630):  ... 11 more
03-13 11:01:52.054: I/Process(630): Sending signal. PID: 630 SIG: 9 
```

我已经尝试过的事情：1.清单中提到了类ReadText。2.在相关问题中检查了关于堆栈溢出的类似线程。

请注意：问题出在第 41 行：

```
helloTxt.setText(readText.readTxt()); 
```

对此问题的任何帮助/建议/指针表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:58:15.697

答案：（感谢@ρяσѕρєя K）

`readText=new ReadText(this);`应该在活动的 onCreate 方法中。

这解决了我的问题。我仍然想知道为什么在 onCreate 中定义它是必不可少的。

谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:57:59.560

我认为你忘记在 public ReadText(Context c) 中传递参数意味着你应该在这里传递一些东西作为你的方法 public String readTxt() ，它不应该是空白的

```
public class ReadText {
Context context; 
```

**公共读取文本（上下文 c）**

```
{
    context = c;
    readTxt();
} 
```

**公共字符串 readTxt()**

```
{
    InputStream inputStream = context.getResources().openRawResource(R.raw.textone);

    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();

    int i;
    try {
        i = inputStream.read();
        while (i != -1)
        {
            byteArrayOutputStream.write(i);
            i = inputStream.read();
        }

        inputStream.close();
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

    return byteArrayOutputStream.toString();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T05:47:45.707

我认为 context.getResources() 正在返回 null。这是在活动的上下文中吗？如果不是，getResources 将返回 null。

换句话说，请确保 this 关键字是您认为的那样。

# javascript - Facebook 如何在帖子文本内容上实现其“查看更多”功能。

> ID：15377876
> 
> 赞同：0
> 
> 时间：2013-03-13T05:41:44.283
> 
> 标签：javascript, jquery, html, css

我想截断 6 行或一定数量的单词字符的帖子文本内容。幸运的是，在使用[了这个 JQuery 插件](http://rockycode.com/blog/jquery-plugin-readmore/)之后，我已经设法在一定数量的单词字符处截断了帖子文本内容。

剩下的就是在 6 行处截断后文内容。可惜[这个JQuery插件](http://rockycode.com/blog/jquery-plugin-readmore/)做不到。我需要任何人的帮助。下图说明了我想要实现的内容。

![Facebook](../Images/bddfc4beaa0b7a0707416c78fe985f33.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T06:37:44.767

1.  每个帖子 2 个 div
2.  默认隐藏第二个div
3.  检查内容是否有有限的数据，然后设置为 div1 只有一个
4.  如果内容的数据超过您的字符限制，请将有限数据设置到 div1，在 div2 中完成数据，并在 div 1 中添加操作链接（“查看更多”）
5.  单击 div1 中的链接显示 div2

这个 div2 不必在每个帖子中都添加，您也可以使用`display="none"`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T07:15:14.710

您可以设置 div 的`height: 6em`，然后将其恢复到`height: auto`单击“阅读更多”链接时。示例：http: [//jsfiddle.net/jv7Dj/1/](http://jsfiddle.net/jv7Dj/1/)。

# python - 将 Delphi BufferToHex 函数转换为 Python

> ID：15377877
> 
> 赞同：0
> 
> 时间：2013-03-13T05:41:52.770
> 
> 标签：python, delphi

我只是在学习 Python。提前道歉。

我有一个创建字符串哈希的 Delphi 函数。它首先将字符串转换为 ELF Hash(??)，然后将其更改为 HEX 数字。

我有第一部分在 Python 中工作

```
def ELFHash(key):
    hash = 0
    x    = 0
    for i in range(len(key)):
      hash = (hash << 4) + ord(key[i])
      x = hash & 0xF0000000
      if x != 0:
        hash ^= (x >> 24)
      hash &= ~x
    return hash 
```

在 Delphi 中，完成了一个额外的步骤，将其转换为 Hex 值

```
function BufferToHex(const Buf; BufSize : Cardinal) : string;
var
  I     : LongInt;
begin
  Result := '';
  for I := 0 to BufSize - 1 do
    Result := Result + IntToHex(TByteArray(Buf)[I], 2); 
end; 
```

buf 这里是我得到的精灵哈希，存储在 Delphi longint 中，然后 BufSize 是该 longint 的 Delphi sizeOf()，到目前为止似乎返回 4。

我将如何制作一个类似于 BufferToHex 的 Python 函数来返回等效输出？据我所知，python 类型不同并且不返回相同的字节大小（它似乎返回 16 而不是 4），当我弄乱 ctypes 的东西时，我仍然得到不同的数字。

任何建议表示赞赏。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T07:31:40.487

该函数所做的只是将二进制转换为十六进制字符串。由于您的输入哈希是 32 位宽，因此您需要的是：

```
'%08X' % hash 
```

其中 hash 是包含散列值的 int。

因为我猜你在一个小端机器上，这将使十六进制字节反转。像这样修复它：

```
hashstr = '%08X' % hash
hashstr = "".join(reversed([hashstr[i:i+2] for i in range(0, len(hashstr), 2)])) 
```

把它们放在一起，你就有了：

```
def ELFHash(key):
    hash, x = 0, 0
    for i in range(len(key)):
        hash = (hash << 4) + ord(key[i])
        x = hash & 0xF0000000
        if x != 0:
            hash ^= (x >> 24)
            hash &= ~x
    hashstr = '%08X' % hash
    return "".join(reversed([hashstr[i:i+2] for i in range(0, len(hashstr), 2)])) 
```

# android - 将 JSON 转换为光标

> ID：15377878
> 
> 赞同：3
> 
> 时间：2013-03-13T05:42:03.717
> 
> 标签：android, json, android-contentprovider, android-cursor

我有一些 JSON 格式的数据，我想将其转换为游标，以便内容提供者可以返回。解决这个问题的最佳方法是什么？

我考虑使用 a`MatrixCursor`但我的内容提供者需要返回 type `Cursor`，而不是`MatrixCursor`.

我们欢迎所有的建议！

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T06:11:26.330

[`MatrixCursor`](http://developer.android.com/reference/android/database/MatrixCursor.html)扩展[`AbstractCursor`](http://developer.android.com/reference/android/database/AbstractCursor.html)、`AbstractCursor`实现[`CrossProcessCursor`](http://developer.android.com/reference/android/database/CrossProcessCursor.html)和`CrossProcessCursor`实现[`Cursor`](http://developer.android.com/reference/android/database/Cursor.html)。所以你可以`MatrixCursor`在你的内容提供者中使用。

但请注意，即使您可以将`byte[]`数组放入`MatrixCursor`，但*在旧 API*[`Cursor.getBlob()`](http://developer.android.com/reference/android/database/Cursor.html#getBlob(int))中返回错误值。有一个问题（已修复）。我不记得或找不到该问题的链接，但您可以在模拟器上轻松测试它:-) 或者这里有一个相关问题：[Passing binary blob through a content provider](https://stackoverflow.com/questions/3034575/passing-binary-blob-through-a-content-provider)。

# mysql - mysql Join 上的奇怪索引活动

> ID：15377880
> 
> 赞同：4
> 
> 时间：2013-03-13T05:42:10.923
> 
> 标签：mysql, sql, phpmyadmin

我有一个`countries`这样的表，在 iso2 列上有一个索引：

* * *

![在此处输入图像描述](../Images/1746c68b55081c981682e7dbff9798bb.png)

* * *

进行普通选择查询时，iso2 索引工作正常：

* * *

![在此处输入图像描述](../Images/ab64193ce5763f6bf5558898822555c6.png)

* * *

但是当与 iso2 上的另一个表连接时，它的行为非常奇怪：

* * *

![在此处输入图像描述](../Images/3511797e05294c4ad7e7a478d1c6feba.png)

* * *

首先它说`NULL`possible_keys 但它仍然使用它？然后它还说 256 行这是整个表。它在大更新时运行非常慢，所以我可以看出它没有使用索引。这里有什么问题？

编辑：另外，如果我从 iso2 索引中取出`id`列（参见第一张图片），那么它会说在连接上没有使用索引。

* * *

更多信息：我一直在尝试规范化我的数据并使用 a`country_id`而不是`country`. `country_id`当我注意到它变得非常缓慢时，我正在更新表格。一些解释让我发现索引没有被使用。也许它与 iso2 是 char(2) 有关？

我正在像这样填充 country_id：

```
UPDATE leads
LEFT JOIN countries on leads.country=countries.iso2
SET leads.country_id=countries.id 
```

`leads`对于表上的大约 100k 行，此查询花费了将近 40 秒。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T14:03:29.177

这`EXPLAIN`意味着它正在执行全索引扫描，这并不理想，但不一定是坏事；在这种情况下，没关系。`iso2`索引是 a `covering index`，这意味着它包含该表中此查询所需的所有列。基本上，查询优化器决定与其从索引中找到所需的行，然后从表中读取该行以获取`id`，它只会转到索引的下一部分，因为这样更快。

我原以为优化器会在索引上使用引用，但显然它认为这不会是有益的。由于索引很小，我不会担心不使用索引上的引用。

其他几点：

*   您能否详细说明“在大更新时运行速度非常慢”？
*   表是使用 MyISAM 还是 InnoDB？
*   `countries.id`可能会更改为`SMALLINT UNSIGNED`; 这与 几乎相同`INT(5)`，但使用 2 个字节而不是 4 个字节。
*   `CHAR(2)`是最好的数据类型`iso2`

# jquery-validate - 在 jquery 验证中弹出一个组的错误

> ID：15377882
> 
> 赞同：0
> 
> 时间：2013-03-13T05:42:24.743
> 
> 标签：jquery-validate, alert

我正在使用 jQuery 验证插件进行表单验证。表单有一组条目，其中只有一个需要填写。为此，我使用了[上一个问题](https://stackoverflow.com/questions/15293332/jquery-validate-plugin-only-one-field-required-out-of-multiple)中的逻辑。我希望我的错误显示为弹出窗口，并且该组只显示一个弹出窗口。对于错误显示，我正在使用 errorPlacement 。这是我的 errorPlacement 代码：

```
errorPlacement : function(error,element) {
 if (element.attr("name") == "telephone" || element.attr("name") == "mobile")
    alert(error.html);
 } 
```

问题是这会弹出两条不同的消息，一条在验证手机时弹出，另一条在验证电话时弹出。我怎样才能修改我的代码只弹出一次。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T05:33:44.463

这是我所做的，因此弹出窗口只弹出一次：

```
$(document).ready(function () {

$.validator.addMethod("customrule", function (value, element) {
    return (!($("#mobile").val() === '') || !($("#telephone").val() === ''));
}, "please fill out at least one");
var count =0;
$('#myform').validate({ // initialize the plugin
    groups: {
        name: "telephone mobile"
    },
    rules: {
        telephone: {
            customrule: true
        },
        mobile: {
            customrule: true
        }
    },
   errorPlacement : function(error,element) {
       if (element.attr("name") == "telephone" || element.attr("name") == "mobile")
          if (count%2 ==0)
           alert(error.html());
          count++;
     }
 });

}); 
```

# python - 执行代码时出错

> ID：15377887
> 
> 赞同：-2
> 
> 时间：2013-03-13T05:43:05.477
> 
> 标签：python, python-2.6

在下面的代码中，我想打印“first”之间的行，并在那些搜索“new.txt”行的行上..当我运行时出现错误：

```
if "first" in lines[i+n]:
IndexError: list index out of range 
```

我的代码：

```
def find_path(self):
        f = open("/output",'w')
        for line in self.logs:
            f.write(line)
        f = open('/output','rb')
        lines = f.readlines()
        for i,line in enumerate(lines):    
            if "first" in line:
                pattern = line
                for n in range(1,len(lines)):
                    if "first" in lines[i+n]:
                        break
                    else: 
                        if "new.txt" in line:
                            print line
                        print lines[i+n]
        f.close() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:46:03.510

这是因为`i+n`可以并且将大于`lines`列表的长度。

```
for i,line in enumerate(lines): 
```

该枚举为`i`from `0`to创建值`len(lines) - 1`，因此 的最大值`i`为`len(lines) - 1`。

以下几行告诉我们 的 值`n`可以是从`1`到`len(lines) - 1`，所以 的最大值又`n`是`len(lines) - 1`：

```
for n in range(1,len(lines)):
    if "first" in lines[i+n]:
        break 
```

所以，价值`i + n`可以是从`1`到`2 * (len(lines) - 1)`——这就是你得到的原因`IndexError`。

# windows-phone-8 - 无法将类库 dll 添加到 Windows Phone 8

> ID：15377890
> 
> 赞同：1
> 
> 时间：2013-03-13T05:43:13.587
> 
> 标签：windows-phone-8

我看不到解锁按钮，这意味着它已经解锁使用，对！但我无法将类库引用添加到我的 Windows Phone 8 应用程序并出现错误“无法将对更高版本或不兼容程序集的引用添加到项目中”。请帮帮我！

# visual-studio-2010 - 在 VS 2010 中添加用户定义的使用子句添加新类

> ID：15377891
> 
> 赞同：0
> 
> 时间：2013-03-13T05:43:14.200
> 
> 标签：visual-studio-2010

我在 VS 2010 解决方案中添加了几个项目。在客户端项目中，每当我添加一个新类时，我都需要添加几个 using 子句，但是它显示了一些系统定义的 using 子句。

如何将 VS 2010 配置为使用添加新类的子句定义用户？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:55:43.430

试试这个步骤：

1.  打开这个目录：

    对于 64 位：`C:\Program Files (x86)\Microsoft Visual Studio 10.0\Common7\IDE\ItemTemplates\CSharp\Code\1033`

    对于 32 位：`C:\Program Files\Microsoft Visual Studio 10.0\Common7\IDE\ItemTemplates\CSharp\Code\1033`

2.  打开`Class.zip`，有`Class.cs`，根据需要修改该文件，然后保存。

3.  运行`devenv.exe /installvstemplates`以使用新模板启动视觉工作室。

# javascript - 使用 jQueryUI 只选择一个可选的

> ID：15377897
> 
> 赞同：0
> 
> 时间：2013-03-13T05:43:19.690
> 
> 标签：javascript, jquery, jquery-ui

我有一个序列化的可选择项，我想要一个函数让它一次只选择一个列表项。我相信我有正确的代码，但它不起作用。有谁知道为什么？

这是我的javascript：

```
$(function() {
    $( "#selectable" ).selectable({
        stop: function() {
            var result = $( "#select-result" ).empty();
            $( ".ui-selected", this ).each(function() {
                var index = $( "#selectable li" ).index( this );
                result.append( " #" + ( index + 1 ) );
            });
        }
    });
});

$("#selectable").selectable({
      selected: function(event, ui) {
            $(ui.selected).siblings().removeClass("ui-selected");
      }
}); 
```

我从 html 中选择的内容如下。也许由于`<li>`标签中嵌套的元素存在问题？

```
<ul id="selectable">
    <li><a><img src="images/CacheMenuGoogleCache2.png", alt="Google Cache" class="button" id="Google Cache" height ="34px" /></a></li>
    <li><a><img src="images/CacheMenuBingCache2.png", alt="Bing Cache" class="button" id="Bing Cache" height ="34px" /></a></li>
    <li><a><img src="images/CacheMenuYahooCache2.png", alt="Yahoo Cache" class="button" id="Yahoo Cache" height ="34px" /></a></li>
    <li><a><img src="images/CacheMenuWaybackMachine2.png", alt="WayBack Machine" class="button" id="WayBack Machine" height ="34px" /></a></li>
    <li><a><img src="images/CacheMenuCoralCDN2.png", alt="CoralCDN" class="button" id="CoralCDN" height ="34px" /></a></li>
    <li><a><img src="images/CacheMenuGigablast2.png", alt="Gigablast" class="button" id="Gigablast" height ="34px" /></a></li>
    <li><a><img src="images/CacheMenuWebCite2.png", alt="Webcite" class="button" id="Webcite" height ="34px" /></a></li>
</ul> 
```

感谢您的时间和帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T06:11:23.570

好的，我发现了问题。我需要将它包含在这样的函数中：

```
$(function() {
    $("#selectable").selectable({
        selecting: function(event, ui){
            if( $(".ui-selected, .ui-selecting").length > 1){
                  $(ui.selecting).removeClass("ui-selecting");
            }
        }
    });
}); 
```

此外，您可能会注意到该功能有些不同。那是因为其他功能使图像处于选中状态。

# html - 沿中间对齐两个不同大小的 div

> ID：15377898
> 
> 赞同：0
> 
> 时间：2013-03-13T05:43:20.720
> 
> 标签：html, css

[此处](https://stackoverflow.com/questions/12644479/aligning-two-different-sized-divs-vertically-such-that-the-smaller-one-is-center)提出了这个问题，并且该解决方案*似乎*有效，因为 div 的大小差别不大。

我的问题是我们如何有效地将两个任意大小的 div 沿着父容器的中间对齐？

的HTML

```
<div id="container">
    <div id="big">
    </div>
    <div id="small">
    </div>
</div> 
```

和 CSS

```
#container { }
#big {width:100px; height: 100px; display:inline-block;border:1px solid black; vertical-align:middle; }
#small {width:50px; height: 50px; display:inline-block; border:1px solid red;} 
```

参见[JsFiddle](http://jsfiddle.net/hzjEk/3/)

**编辑** 我真正想要的是这样的

![像这样对齐](../Images/d45991d107f63cf57df22efc8bf45c79.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T05:56:05.927

添加`vertical-align:middle`到`#small`

```
#small {
width:50px; 
height: 50px; 
display:inline-block;
 border:1px solid red; 
vertical-align:middle;
} 
```

**[演示](http://jsfiddle.net/hzjEk/6/)**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T05:48:38.363

足以做到这一点

```
#container { text-align: center; } 
```

[jsFiddle](http://jsfiddle.net/hzjEk/4/)

* * *

**编辑** 如你所愿，你需要

```
#small { vertical-align:middle; } 
```

[jsFiddle 2](http://jsfiddle.net/hzjEk/8/)

# javascript - 从变量中选择一个值

> ID：15377900
> 
> 赞同：1
> 
> 时间：2013-03-13T05:43:33.860
> 
> 标签：javascript, extjs, extjs4, extjs4.1, extjs-mvc

在 Extjs 中，我试图`accrued`从变量中选择一个值`Store`。

![在此处输入图像描述](../Images/c307929dcf0817a1be953dae644cb3ed.png)

我试过了：

```
var newStore = Store.data.items[0].data.accrued; 
```

上面的一个不起作用。我收到错误：

> 未捕获的类型错误：无法读取未定义的属性“数据”

每当我添加`items[0]`时，它都会使变量未定义。

当我检查时：

```
var newStore = Store.data.items.length; 
```

输出是：**0** //？

但我可以看到变量中有项目，`Store`如上图所示。无论如何，我只想`accrued`从变量中获取值`Store`。

我还检查了：

```
var newStore = Store.data.items; 
```

输出是：**[]**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-13T07:42:53.097

嘿 Mr_Green 您有时应该查看 API，因为这真的很简单；）**[存储加载事件](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.data.Store-event-load)**

```
Store.on('load', function(store,records){ 
    records[0].data.accrued; 
}, this, {single:true}) 
```

***更新 - 更深入一点***

**[on](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.data.Store-method-on)**这个小词将事件的侦听器应用于组件。它将可用于混入**[Ext.util.Observable](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.util.Observable)**的类，其中我应用的最后一个参数标识该侦听器在被调用一次后应该被删除。这对匿名侦听器很有用，因为否则您无法取消注册它们。

*加载（此，记录，成功，eOpts）*

**参数**

*   这：**Ext.data.Store**
*   records : **Ext.data.Model[]** *一个记录数组*
*   success : **Boolean** *如果操作成功，则为 True。*
*   eOpts : **Object** *传递给 Ext.util.Observable.addListener 的选项对象。*

因此，records 参数包含当前加载操作返回的所有记录。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-13T06:51:39.493

存储加载是异步的。记录时，尚未加载值。

控制台始终显示对象的最新版本。您需要监听商店加载事件。

# java - android.intent.action.PACKAGE_ADDED BroadcastReceiver 未接收主题在 JB 4.1 上添加的意图

> ID：15377901
> 
> 赞同：9
> 
> 时间：2013-03-13T05:43:34.663
> 
> 标签：java, android, android-4.2-jelly-bean

我在我的 android 应用程序中使用 BroadcastReceiver，我在 JB 4.1 上运行我的应用程序

在清单中我已注册为

```
<receiver android:name=".ThemeInstalledBroadcastReceiver" android:enabled="true">
    <intent-filter android:priority="100">
        <action android:name="android.intent.action.PACKAGE_ADDED" />
        <action android:name="android.intent.action.PACKAGE_REMOVED" />
        <data android:scheme="package" />
    </intent-filter>
</receiver> 
```

当我安装任何应用程序 ThemeInstalledBroadcastReceiver 类被触发但是当我安装一些主题时 ThemeInstalledBroadcastReceiver 不会被触发。但是当我在 JB 4.2 上运行此应用程序时，它运行良好

我的接收方代码是这样的

```
public class ThemeInstalledBroadcastReceiver extends BroadcastReceiver {

    @Override
    public void onReceive(final Context context, final Intent arg1) {
        System.out.println("Mass_TC inside InstalledBroadcastReceiver res " + arg1.getAction().equals(Intent.ACTION_PACKAGE_ADDED) );
        System.out.println("Mass_TC apkid " + arg1.getData().getEncodedSchemeSpecificPart() + " intent : " + arg1);

    }

} 
```

安装应用程序时的日志

```
I/System.out(19647): Mass_TC apkid com.example.ttest intent : Intent { act=android.intent.action.PACKAGE_ADDED dat=package:com.example.ttest flg=0x8000010 cmp=com.myrrom.themechooser/.InstalledBroadcastReceiver (has extras) }
I/System.out(19647): Mass_TC deleting apkid  : com.example.ttest x : 0
I/System.out(19647): Mass_TC inside InstalledBroadcastReceiver res true
I/System.out(19647): Mass_TC apkid com.example.test_fa intent : Intent { act=android.intent.action.PACKAGE_ADDED dat=package:com.example.test_fa flg=0x8000010 cmp=com.myrrom.themechooser/.InstalledBroadcastReceiver (has extras) }
I/System.out(19647): Mass_TC deleting apkid  : com.example.test_fa x : 0 
```

但是当我安装任何主题时，我没有得到任何日志

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T10:34:23.090

一些我如何找到解决方案的方法。

我在意图过滤器中添加了类别

```
<category android:name="com.tmobile.intent.category.THEME_PACKAGE_INSTALL_STATE_CHANGE" /> 
```

# asp.net - 删除每行gridview内的按钮

> ID：15377904
> 
> 赞同：0
> 
> 时间：2013-03-13T05:43:37.870
> 
> 标签：asp.net, vb.net, gridview, commandargument

我有一个 gridview，其中包含删除和编辑行的按钮。我有gridview的这个html代码：

```
<asp:GridView ID="gvList" runat="server">
<Columns>

<asp:TemplateField HeaderText="Actions" HeaderStyle-ForeColor="black" HeaderStyle-Font-Bold="true">
<ItemTemplate>
<asp:Button ID="btnedit" runat="server" Text="Edit" />
<asp:Button CommandArgument='<%# Eval("cUserName")%>' ID="btnDelete" OnClick="DeleteRow" runat="server" Text="Delete" />
</ItemTemplate>
</asp:TemplateField>
</Columns>
</asp:GridView> 
```

我需要使用命令参数激活删除和编辑按钮。我对 commandargument 没有完全了解，我想还有其他方法可以更好地做到这一点。无论如何，我在vb服务器端有这个代码：

```
Public Function DelRow() As DataTable

Dim Btn As ImageButton = CType(sender, ImageButton)

    Dim Query As String = "Delete FROM Intranet.dbo.Gn_ISCoordinators where cUserName=" & Btn.CommandArgument
    Dim dt As DataTable = New DataTable()
'
'I need to complete this
'...
'
End Using
End Function 
```

另外，我想知道是否`btnAdd.CommandArgument`正确。Ps：我在sender下的CType（sender，ImageButton）有错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:57:21.693

`asp:Button`应该使用以下行进行转换：

```
Dim Btn As ImageButton = CType(sender, Button) 
```

`Button`不如`ImageButton`。_

其次，您将从中获取用户名，`Btn.CommandArgument`但`CommandArgument`与 SQL 查询连接并不是一个好主意。如果不是存储过程或某些 ORM 框架，至少尝试使用带参数的查询。使用以下命令连接数据库并执行查询：

```
Using con As SqlConnection = New SqlConnection(<CONNECTION_STRING>)
    con.Open()
    Dim sql As String = "Delete FROM Intranet.dbo.Gn_ISCoordinators where" & _
                      " cUserName= @UserName"

    Dim cmd As SqlCommand = New SqlCommand(sql, con)
    cmd.Parameters.Add(New SqlParameter("@UserName", Btn.CommandArgument))

    cmd.ExecuteNonQuery() 
    con.Close()
End Using 
```

PS：- 我的 VB.Net 充其量是质朴的。另外请注意在对数据库执行代码时可能会出现异常。所以请使用异常处理等。

# objective-c - Http 获取请求问题

> ID：15377921
> 
> 赞同：0
> 
> 时间：2013-03-13T05:44:32.150
> 
> 标签：objective-c, cocoa-touch, nsurl

我需要从 service 获取数据`URL`。但我无法得到它。可能是空格之类的东西阻止了它。我不明白如何解决它。

```
NSString *urlString= [NSString
stringWithFormat:@"http://252.249.193.152/Services/User?q=John&p=Browny&r=City Hospital&s=03/13/2013&t=04:00PM&u=ue1f002d-8c8f-4acba75b-8960a6c33bbt&APIKEY=d80d1db7-10d5-4b45-9212-3c699332f2c9"];
    NSURL *jsonUrl =[NSURL URLWithString:urlString];
    parser = [[NSXMLParser alloc] initWithContentsOfURL:jsonUrl];
    [parser setDelegate:self];
    [parser setShouldProcessNamespaces:NO];
    [parser setShouldReportNamespacePrefixes:NO];
    [parser setShouldResolveExternalEntities:NO];
    [parser parse];
    [parser release];
    NSLog(@"%@",array); 
```

但是我在数组中得到 null 并且 jsonurl 正在返回`nil`。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-13T05:50:27.613

首先检查你的`URL`，我确定那里的错误，如果你`URL`是正确的，那么使用下面的代码。

```
NSString *urlString = [NSString stringWithFormat:@"URL_STRING"];
NSURL *jsonUrl = [NSURL URLWithString:[urlString stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding]];
.
.
.
.
. 
```

# jquery - 大写对话框弹出窗口

> ID：15377923
> 
> 赞同：-1
> 
> 时间：2013-03-13T05:44:48.370
> 
> 标签：jquery, css

我有一个打开对话框的页面，代码如下

```
function addcustomer() {
    $.ajax({
        url: "customers.php",
        async:true,
        success: function(data){
            $('#pop').html(data).dialog({
                width: 420,
                height: 630,
                modal:true,
                draggable:false,
                resizable:false,
                title:'Customer',
                buttons: {
                    Cancel: function(){
                        $(this).dialog("close");
                    },
                    Submit: function(){
                        $("#frmcustomer").submit();
                    }
                }
            });
        }
    });
} 
```

当我打开对话框时，我希望所有输入和选择都大写。我试过：

```
select, input { text-transform: capitalize } 
```

但它只有在我单击对话框中的任意位置后才有效。它第一次打开时没有大写任何控件，我也尝试过：

```
$(document).ready(function(){  
    $("select,input,textarea").uniform();
    $('select, input').capitalize();
}); 
```

知道如何解决吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T05:51:02.400

试试这个

**CSS**

```
.capitalize {
  text-transform: capitalize;
} 
```

**jQuery**

```
success: function(data){
        $('#pop').html(data).dialog({
         .......
         open: function( event, ui ) {
             $(data).find('select, input').addClass('capitalize'); 
             //or ui.find('select, input').addClass('capitalize');
         }
         ........ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:52:11.720

尝试添加：

```
$('select, input').css('text-transform', 'capitalize'); 
```

编辑：

见小提琴[http://jsfiddle.net/4NVnG/](http://jsfiddle.net/4NVnG/)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-13T05:50:58.713

最快/最安全的方法是使用 CSS，这最终是 jQuery 所做的：

```
select, input {
    text-transform: capitalize;
} 
```

问题是 jQuery 函数必须在选择和输入的 HTML 对 jQuery 选择可见后触发。这意味着要使用 jQuery 在对话框中利用您的选择和输入来运行，您只能在对话框打开后执行此操作。如果您使用纯 CSS，则文本何时出现无关紧要。

# firefox - 如何允许用户从我的网站安装 FireFox 扩展

> ID：15377928
> 
> 赞同：4
> 
> 时间：2013-03-13T05:45:18.320
> 
> 标签：firefox, firefox-addon

我刚刚在 Mozilla Add-On 目录中批准了一个 FireFox 扩展，但我终生无法弄清楚如何允许用户从我的网站安装扩展。

换句话说，我试图阻止将用户定向到我在 Mozilla 附加组件目录中列出的扩展程序，而是希望他们能够从我的网站安装扩展程序。

谷歌浏览器插件允许这个功能（他们称之为“内联安装”，可以在这里阅读：[https](https://developers.google.com/chrome/web-store/docs/inline_installation) ://developers.google.com/chrome/web-store/docs/inline_installation ）

Mozilla 附加组件目录中列出和批准的 FireFox 附加组件是否可以实现这种功能？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-13T21:17:37.557

[从网页安装扩展和主题](https://developer.mozilla.org/en-US/docs/Installing_Extensions_and_Themes_From_Web_Pages)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T07:31:15.830

您可以在您的网站上放置指向此扩展程序的链接，其中包含用户应该/必须安装它的信息。

```
<a href="http://www.somepage.com/addons/yourAddon.xpi">You need plugin</a> 
```

如果您的 web.config 中没有类似的内容：

```
<staticContent>
    <remove fileExtension=".xpi" />
    <mimeMap fileExtension=".xpi" mimeType="application/x-xpinstall" />
</staticContent> 
```

firefox 将下载插件而不是安装。

# asp.net - OpenXML 中的货币格式

> ID：15377938
> 
> 赞同：0
> 
> 时间：2013-03-13T05:46:08.077
> 
> 标签：asp.net

我在 .net 3.5 中使用 OpenXML 将数据表导出到 Excel，并希望将特定列显示为货币。例如要将 24.5 显示为 $24.5。请提供适当的解决方案。

提前致谢

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-13T05:52:04.343

你可以试试这种方式。

var data = (DataTable)Session["data"]; var stringTable = XlsxRW.CreateStringTables(data, out lookupTable);
使用 (var stream = new FileStream(Path.Combine(tempDir, @"xl\sharedStrings.xml"), FileMode.Create))
XlsxRW.WriteStringTable(stream, stringTable); 使用 (var stream = new FileStream(Path.Combine(tempDir, @"xl\worksheets\sheet1.xml"), FileMode.Create))
XlsxRW.WriteWorksheet(stream, data, lookupTable);

# php - 获取html中子节点的值

> ID：15377939
> 
> 赞同：0
> 
> 时间：2013-03-13T05:46:08.580
> 
> 标签：php, html, dom

我正在尝试从 html 获取子节点的值。

我尝试了什么： -

```
$data = $dom->getElementById($identifier);
$node = $data->childNodes;
 foreach($node as $node)
    {
           echo $node->nodeName;
           echo $node->nodeValue;

            }
     } 
```

我能够获取所有子节点值，即使子标签没有值我得到一个空字符串。

如果标签具有适当的值，有什么方法可以获取值？？？

更新：-

我的html数据：-

```
 <div id="myid"> //I give this id as input
 <h1> Some data 1</h1>
 <script type=".."> google adsense details </script>
 <p class="some class"> </p>
 <div class="some class1"></div>
 <h2>data2</h2>
 <p>SOme more data...blah blah..</p>
 </div> 
```

我想要什么输出：-

```
 Some data 1
  data2
  SOme more data...blah blah.. 
```

我得到了什么：-

```
 Some data 1
  googleadsense details//i am getting values inside script as well
  //blanc data which includes many spaces of tag p 
  //blanc data which includes many spaces of tag div
  data2
  SOme more data...blah blah.. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T06:23:24.867

经过一些测试，这应该适用于您要完成的工作：

→**第一次编辑：**这个解决方案考虑了多个子节点循环通过内部标识符。

→**第二次编辑：**此解决方案用于指定您不希望返回的标签/值。

→**第三次编辑：**删除了原始问题的详细信息，与更新的问题无关。

```
 $dom = new DOMDocument();
 $html = '<div id="myid"> //I give this id as input<h1> Some data 1</h1><script type=".."> google adsense details </script><p class="some class"></p><div class="some class1"></div><h2>data2</h2><p>SOme more data...blah blah..</p></div>';
 $dom->loadHTML( $html ); 

 $identifier = "myid";
 $id_nodes = $dom->getElementById( $identifier );

 foreach( $id_nodes->childNodes as $node ) 
 {
    // Blacklist for what you do not want in your output:
    if( $node->nodeName != "script" && $node->nodeName != "#text" && $node->nodeValue != '' ) {
        echo $node->nodeValue . "<br />";
    }
 } 
```

上述脚本的输出是：

```
Some data 1
data2
SOme more data...blah blah.. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:51:37.387

在回显之前检查值？

```
foreach($data as $node)
{
  if(strlen($node->nodeValue) > 0)
{
  echo $node->nodeName;
  echo $node->nodeValue;
}
} 
```

# c - 使用带有结构的指针打印时获取位置地址而不是值？

> ID：15377943
> 
> 赞同：0
> 
> 时间：2013-03-13T05:46:33.423
> 
> 标签：c

我有这个结构并使用指针，我试图打印不同结构变量的值，但是对于 int 变量，它打印位置地址而不是值，对于 char 变量，结果是正确的。

```
#include <stdio.h>
#include <stdlib.h>

struct calc{

    int row;
    int col;
    int menu_name[20];
    int sub_menu_name[20]; 

    };

int main()
{
int count = 0, i = 0;

struct calc *P_calc[2];

//p_calc = (struct calc *)malloc(sizeof(struct calc)*2);

for(count; count<1; count++)
{
      P_calc[count] = (struct calc *)malloc(sizeof(struct calc));

       printf("Please enter the row cordinates: \n");

       scanf("%d",P_calc[i]->row);
       printf("Please enter the col cordinates: \n");

       scanf("%d",P_calc[i]->col);
       printf("Please enter the menu_name: \n");

       scanf("%s",P_calc[i]->menu_name);
       printf("Please enter the sub_menu_name: \n");

       scanf("%s",P_calc[i]->sub_menu_name);

}

   for(i; i<1; i++)  
       {        
        printf("row : %d\n",P_calc[i]->row);

        printf("col :%d\n",P_calc[i]->col);

        printf("menu_name: %s\n",P_calc[i]->menu_name);

        printf("sub_menu_name :%s\n",P_calc[i]->sub_menu_name);
        }

system("PAUSE");
return 0;    
} 
```

请帮我。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T05:50:45.280

以下是您的问题：

1.  结构应该是

    ```
    struct calc{

    int row;
    int col;
    char menu_name[20];
    char sub_menu_name[20]; 

    }; 
    ```

2.  `scanf("%d",P_calc[i]->row);`应该`scanf("%d",&P_calc[i]->row);`

3.  `scanf("%d",P_calc[i]->col);`应该`scanf("%d",&P_calc[i]->col);`

检查来自 的返回值也是一个好主意`scanf`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T05:49:37.633

scanf 语句应该是

```
scanf("%d",&P_calc[i]->row); 
```

地址需要传递给scanf。同样在读取 col 变量时。

# actionscript-3 - Adobe ASC 2.0 和 ASDoc

> ID：15377944
> 
> 赞同：1
> 
> 时间：2013-03-13T05:46:39.803
> 
> 标签：actionscript-3, ant, compiler-construction, air, asdoc

升级到使用新 ASC 2.0 编译器的 AIR 3.6 SDK 后，我的 Ant 构建文件中的所有 ASDoc 任务都失败了。我收到错误：

```
BUILD FAILED
E:\Projects\Eclipse\project\build\build_swc.xml:51: The following error occurred while executing this line:
E:\Projects\Eclipse\projectbuild\build_swc.xml:209: Problem: failed to create task or type asdoc
Cause: The name is undefined.
Action: Check the spelling.
Action: Check that any custom tasks/types have been declared.
Action: Check that any <presetdef>/<macrodef> declarations have taken place. 
```

Adobe 是否删除了 ASDoc Ant 任务？我在其他地方找不到有关此的任何信息。在我安装 3.6 SDK 之前，ASDoc 生成工作完美无缺。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T12:36:07.580

新编译器的不兼容问题可能需要您下载不包含 ASC 2.0 的 AIR 3.6 SDK 版本。它也可以从下载站点获得，尽管它不会立即引起注意。

![在此处输入图像描述](../Images/1c48043972a02d513f88311eef84cd0b.png)

# graphics - Java ME 在 GameCanvas 上绘制多个动态精灵

> ID：15377945
> 
> 赞同：1
> 
> 时间：2013-03-13T05:46:50.000
> 
> 标签：graphics, java-me, midp, lcdui, gamecanvas

我想在 GameCanvas 上绘制多个动态 Sprite，例如枪声。

我有两个主要课程：`GameCanvas`和`GameController`

`GameController`持有我的枪击的矢量。

GameCanvas 可以访问`GameController`Sprite 的 Vector，它还有一个`render()`在屏幕上绘制 Sprite 的方法。

```
private void render() {
            Graphics g = getGraphics();

            layerManager.setViewWindow(0, 0, getWidth(), getHeight());
            layerManager.paint(g, 0, 0);

            flushGraphics();
} 
```

LayerManager 包含我要绘制的所有 Sprite。

如何`GameController`在屏幕上的 Vector 中绘制所有对象？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T08:29:47.487

我认为可以这样做：

```
Graphics g = getGraphics(); // No need to get this each time you render. Get it once outside the render function

private void render() {

  layerManager.setViewWindow(0, 0, getWidth(), getHeight());
  layerManager.paint(g, 0, 0);

  // Loop through the vector
  for (Enumeration en = gunshotVector.elements(); en.hasMoreElements();) {
    ((Sprite)en).paint(g);
  }

  flushGraphics();
} 
```

# magento - 如何在产品页面上显示小计价格 - magento

> ID：15377949
> 
> 赞同：1
> 
> 时间：2013-03-13T05:47:13.570
> 
> 标签：magento, magento-1.7, magento-1.6

我想在产品页面上显示小计价格。目前它显示在购物车页面上。有什么办法可以在产品页面上显示小计价格。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:50:46.123

希望这会做到。

```
Mage::getSingleton('checkout/cart')->getQuote()->getSubtotal() 
```

# java - 使用 Java 解析 JSON - 如何处理不同的值？

> ID：15377955
> 
> 赞同：0
> 
> 时间：2013-03-13T05:47:32.990
> 
> 标签：java, json

我有一个返回 JSON 的服务器调用，我尝试用 Java 解析它。如果服务器上出现错误，则返回带有错误的 JSON：error_name

但如果没有错误，服务器会返回 JSON 内的数据。

当我检查是否有错误时，我当前设置解析的方式崩溃了。这是我所拥有的：

```
try
{
    JSONArray obj = new JSONArray(result);
    if ( obj != null )
    {
        discussion.clear();
        if ( obj.length() == 0 )
        {
            DiscussionMessage message = new DiscussionMessage ( );                            
            discussion.add( message );
        }
        else
        {
            JSONObject ob = obj.getJSONObject(0);
            String error = ob.getString("error");
            if (error != null && 
                ( error.equals("no_problem_id") || 
                  error.equals("error_adding_suggested_solution_comment") || 
                  error.equals("no_recent_topic_id") ||
                  error.equals("no_comment") ||
                  error.equals("no_member_id") ||
                  error.equals("no_plan_id") ||
                  error.equals("error_duplicate_topic_comment") ) 
               )
            {
                {                
                    Toast.makeText(getApplicationContext(), "Could not get the current discussion.", Toast.LENGTH_LONG).show();                                 
                    sendEmail("Add business comment error response" , "Error response from server. Response: " + result);   
                }
            }
            else if ( error != null &&  error.equals("no_email_in_public_plan"))
            {
                Toast.makeText(getApplicationContext(),"Unexpected error. Please let us know about this" , Toast.LENGTH_LONG).show();    
                sendEmail("Error adding fundraising comment" , "Empty email adding fundraising plan comment");
            }
            else
            {
                try
                {
                    for ( int i = 0; i < obj.length(); i++ )
                    {
                        JSONObject o = obj.getJSONObject(i);
                        //String suggested_solution_id = o.getString("suggested_solution_id");
                        String comment = o.getString("comment");
                        String commenter_id = o.getString("commenter_id");
                        String comment_id = o.getString("comment_id");
                        String first_name = o.getString("first_name");
                        String is_private = o.getString("privacy");
                    }
                }
                catch ( Exception e )
                {
                }
            }
        }
    }
}
catch ( Exception e )
{
} 
```

我尝试发送和解析此 JSON 的方式是否存在根本错误？感觉是这样：）

请帮助我了解这样做的正确方法是什么谢谢。

这是一个崩溃错误：

```
Exception: No value for error , and result was: [{\"comment_id\":\"24\",\"plan_id\":\"20\",\"commenter_id\":\"1\",\"comment\":\"test\",\"solution_part\":\"1\",\"date\":\"2013-03-13\",\"first_name\":\"Alex\",\"privacy\":\"0\"},{\"comment_id\":\"25\",\"plan_id\":\"20\",\"commenter_id\":\"55018\",\"comment\":\"hi\",\"solution_part\":\"1\",\"date\":\"2013-03-13\",\"first_name\":\"Sddggh\",\"privacy\":\"0\"}] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:58:29.913

你能在这两种情况下粘贴你的json吗？

通常，您应该始终将响应 json 包含在一个 json 对象中，这样当您查看响应时，您总是知道要查找什么。所以例如

{"结果":"ok", 数据:[{"data1":"value1", "data2":"value2"}]}

或者

{“结果”：“错误”}

所以你的代码非常简化

```
JSONObject responseObj = new JSONObject(responseString);
String result = responseObject.get("result");
if(result.equalsIgnoreCase("ok") 
{ /* handle good case */ 
    JSONArray list = (JSONArray)responseObj.get("data");
    for(...) {}
}
else { /* handle error case*/ } 
```

-Premal

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T06:10:43.803

在您没有错误的情况下，调用将引发`ob.getString("error")`您遇到的异常，因为对象中没有`"error"`键。在尝试获取密钥之前使用该`JSONObject#has`方法测试密钥是否存在，或者遵循其他答案中列出的 Premal 方法。

# php - 使用 jquery ajax 处理 302 重定向时遇到问题

> ID：15377972
> 
> 赞同：1
> 
> 时间：2013-03-13T05:49:07.590
> 
> 标签：php, javascript, ajax, jquery

由于某些要求，我需要使用 jquery ajax 登录到站点.. 但是当我尝试这样做时.. 萤火虫控制台说这是 302 错误。我试图实现代码来处理它，但不幸的是没有成功

这是我到目前为止尝试过的代码：

```
<script type='text/javascript' src='http://code.jquery.com/jquery.js'>
  </script>
  <script type='text/javascript'>

  $(document).ready(function(){

  $.ajax({

  url        : "https://testDomain/login.asp",
  async      : false,
  type       : 'POST',
  data       : {Username:'test',Password:'testPass'},
  success    : function(respText){alert(respText);},

  error      : function (jqXHR, textStatus, errorThrown)
               {
                  console.log(jqXHR.getResponseHeader("Location")); // undefined;
               },

  statusCode: {
               302: function() {
                               alert("page not found");
                             }
              },                
  complete  : function(response) {  
              if(response.status == 302) {  
                  window.alert('page not found');    
              }
   }
       })

  });

  </script> 
```

当我看到响应标头时，它们显示为

```
Date            Wed, 13 Mar 2013 06:43:18 GMT
Location        https://testDomain/pageXXX.asp
Server          Microsoft-IIS/6.0
Set-Cookie      TravAuthV=e;path=/; domain=testDomain.com;
X-Powered-By    ASP.NET 
```

我错过了什么.. ?? 或者有没有其他选择来处理这个

感谢您的时间..任何帮助将不胜感激...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T05:56:35.853

你没有错过任何问题在下面一行。

```
url        : "https://testDomain/login.asp", 
```

您正在使用 ajax 发送 SSL 请求，我认为它不起作用，因为它违反了 Javascript 的政策，因为它看不到 SSL 请求来自与非 SSL url 相同的来源。

**你可以做什么？**

您可以`Access-Control-Allow-Origin`从服务器添加标头。

```
Access-Control-Allow-Origin: https://testDomain/login.asp 
```

`[**Read More**](http://en.wikipedia.org/wiki/Cross-Origin_Resource_Sharing)`

尝试使用设置`crossDomain : true`，`dataType:jsonp`如果没有`jsonp`响应，则将其删除。

```
$.ajax(
{
    url: 'https://testDomain/login.asp',
    async      : false,
    type       : 'POST',
    data       : {Username:'test',Password:'testPass'},
    success    : function(respText){alert(respText);},
    crossDomain: true,
    dataType: 'jsonp',
    error: function() { alert('Failed!'); },
    beforeSend: function(xhr)
    {
        xhr.setRequestHeader('Authorization',getToken());
    }
}); 
```

# asp-classic - 当用户单击浏览器中的后退按钮时重新加载页面

> ID：15377975
> 
> 赞同：1
> 
> 时间：2013-03-13T05:49:17.637
> 
> 标签：asp-classic, vbscript, back-button

我使用 Classic ASP 和 VBScript 开发了一个小型应用程序。它目前在我的公司运行。当用户单击注销时，会话到期。我已经在数据库中进行了进一步的控制。单击注销时，用户状态将更改为已在数据库中注销。这可以防止用户单击任何链接，即使他在注销后通过单击后退按钮转到上一页。

但是，我想要的是，注销后，如果用户单击浏览器中的“后退”按钮，则根本不应该显示上一页。而是我决定应该显示的默认错误消息。Classic ASP 中有什么方法可以做到这一点吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T09:14:28.863

我多年来一直在使用以防止缓存的内容如下（将其放在单独的文件中并包含在每个前端 asp 页面中）

```
<%
Response.Expires = 60
Response.Expiresabsolute = Now() - 1
Response.AddHeader "pragma","no-cache"
Response.AddHeader "cache-control","private"
Response.CacheControl = "no-cache"
%> 
```

除此之外，您应该在注销页面上使用 session.abandon，然后您可以使用 Session_OnStart 重定向到您的默认启动页面。
或者，如果您真的想要那个错误页面，一个 Session.clear 和函数，如果会话已被清除，则重定向到该错误页面。

# ajax - 添加或删除按钮以在ajax中创建相同表单的实例

> ID：15377977
> 
> 赞同：0
> 
> 时间：2013-03-13T05:49:20.943
> 
> 标签：ajax

我在网页中有 3 个表，它使用 ajax 向服务器发出异步请求。如何在顶部添加一个按钮'+'或'-'可以添加（创建相同的表）或删除那些表（所有3个表一起）并且可以完成多个相同的请求？？？

# jquery - 将 preg_replace 转换为 jquery 替换

> ID：15377981
> 
> 赞同：1
> 
> 时间：2013-03-13T05:49:54.860
> 
> 标签：jquery, regex, replace, preg-replace

嗨，我很难将 php 中的 preg 替换转换为 jquery 替换....我使用的代码在下面给出...正则表达式不是强项...

```
 dcis_ccnum="3433-4343-3434-3434";
    dcis_ccnum.replace(/(?!^.?)[0-9](?!(.){0,3}$)/, '*');
    alert(dcis_ccnum); 
```

警报给我的是 3433-4343-3434-3434 它应该给我的是 3* **-*****-* ***-3434。*

 *php代码运行良好

```
echo $dcis_ccnum1=preg_replace('/(?!^.?)[0-9](?!(.){0,3}$)/', '*', '3433-4343-3434-3434'); 
```

有人可以让我知道我做错了什么吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T06:08:20.293

只需添加`g`（全局）修饰符。

```
dcis_ccnum="3433-4343-3434-3434";
dcis_ccnum = dcis_ccnum.replace(/(?!^.?)[0-9](?!(.){0,3}$)/g, '*');
document.write(dcis_ccnum); 
```

输出：

```
3***-****-****-3434 
```

默认情况下`string.replace`，JavaScript 只会替换它找到的第一个匹配值。添加`/g`将意味着替换所有匹配的值。*

# c# - C#中的Excel插件

> ID：15377984
> 
> 赞同：2
> 
> 时间：2013-03-13T05:50:07.497
> 
> 标签：c#, excel, plugins, connection

我编写了一个 excel 插件，它创建了一个工作簿并向其中添加了连接对象。但是，只要我添加到工作簿的连接，它就会开始从源下载数据。我们如何避免数据下载，只需添加到工作簿的连接。下面是我的代码的快照： -

```
Application app = new Microsoft.Office.Interop.Excel.Application();
app.Visible = false;
WorkBook workbook = app.Workbooks.Add(1);
string connectionString = "DATAFEED;Data Source=" + odataURL + ";Namespaces to Include=*;Max   Received Message Size=4398046511104;Integrated Security=Basic;User ID=" + tokens[0] + ";Password=" + tokens[1] + ";Persist Security Info=false;Base Url=" + odataURL;
workbook.Connections.Add2("Feeds", "MyFeeds", connectionString,"ExecutedReport", Type.Missing,  true, Type.Missing); // this step downloads data from source. How to avoid it. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T17:28:11.930

尝试设置[`Workbook.UpdateRemoteReferences`](http://msdn.microsoft.com/en-us/library/microsoft.office.interop.excel._workbook.updateremotereferences%28v=office.14%29.aspx)为`False`.

有关更多详细信息，请访问此 Microsoft 的[Excel 开发站点](http://msdn.microsoft.com/en-us/library/office/ff193266%28v=office.14%29.aspx)。

# maven - 没有单独的描述符 xml 文件的 Maven 程序集插件

> ID：15377995
> 
> 赞同：6
> 
> 时间：2013-03-13T05:50:54.513
> 
> 标签：maven

我有一个带有插件的`pom`文件，它使用`assembly`

```
<descriptor>src/main/assembly/dist.xml</descriptor> 
```

有什么方法可以`dist.xml`直接在`pom`文件中添加信息并且只有一个 Maven 文件？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T06:25:20.820

这取决于`dist.xml`. 如果您的程序集可以使用[预定义的描述符构建并且](http://maven.apache.org/plugins/maven-assembly-plugin/descriptor-refs.html)[目标](http://maven.apache.org/plugins/maven-assembly-plugin/single-mojo.html)提供的配置足够，那么您不需要单独的`descriptor`文件。

maven 程序集插件的[使用](http://maven.apache.org/plugins/maven-assembly-plugin/usage.html)页面有几个例子展示了它是如何完成的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T08:35:41.677

首先，[描述符](http://maven.apache.org/plugins/maven-assembly-plugin/single-mojo.html#descriptor)被标记为已弃用，您应该改用[描述符](http://maven.apache.org/plugins/maven-assembly-plugin/single-mojo.html#descriptors)。不，不可能在 pom.xml 中定义描述符。