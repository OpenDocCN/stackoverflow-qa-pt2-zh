# StackOverflow 问答 13467000-13467999

# c++ - 如何指向实际元素而不仅仅是数组地址？

> ID：13467002
> 
> 赞同：0
> 
> 时间：2012-11-20T05:16:41.207
> 
> 标签：c++, pointers, vector

我有一些这样的：

```
struct Node{
 int value;
 Node *left, Node *right;
 Node(): value(0), left(0), right(0){}
}
std::vector<Node> nodeList = getNodes(); 
```

我希望上面做一个循环缓冲区。所以

```
nodeList[i].left = &nodeList[i - 1]; 
nodeList[i].right= &nodeList[i + 1]; 
```

注意 nodeList[0].left 指向 nodeList 的末尾， nodeList.back().right 指向 nodeList 的开头；

现在问题来了，nodeList[i].left 和 nodeList[i].right 只指向其前一个邻居的地址，而不一定指向实际的邻居对象。因此，如果我要对 nodeList 进行排序，左右指针将不再指向原始节点。相反，它们将指向新的左右邻居。希望问题很清楚，即使 nodeList[0] 移动到不同的位置，我如何才能让例如 nodeList[1].left 指向 nodeList[0] ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:25:41.880

你可以做一个

```
std::vector<int> originalData = getOriginalData(); 
```

然后在保留对原始顺序的访问权的同时对其进行排序，只需对

```
std::vector<int const*> itemPointers; 
```

您可以像这样初始化：

```
for( auto&& x : originalData )
{
    itemPointers.push_back( &x );
} 
```

现在只需排序：

```
std::sort(
    itemPointers.begin(), itemPointers.end(),
    []( int const* p1, int const* p2 ) { return (*p1 < *p2); }
    ); 
```

完整的代码还显示了访问原始数据前置项的详细信息：

```
#include <algorithm>        // std::sort
#include <iostream>
#include <utility>          // std::begin, std:.end
#include <vector>           // std::vector
//using namespace std;

std::vector< int > getOriginalData()
{
    static int const data[] = {3, 1, 4, 1, 5, 9, 2, 6, 5, 4};
    return std::vector<int>( std::begin( data ), std::end( data ) );
}

int main()
{
    std::vector<int> const originalData = getOriginalData();

    std::vector<int const*> itemPointers;

    for( auto const& x : originalData )
    {
        itemPointers.push_back( &x );
    }

    std::sort(
        itemPointers.begin(), itemPointers.end(),
        []( int const* p1, int const* p2 ) { return (*p1 < *p2); }
        );

    std::wcout << "Sorted: ";
    for( auto const p : itemPointers )
    {
        std::wcout << *p << " ";
    }
    std::wcout << std::endl;

    std::wcout << "Predecessors in original data: ";
    for( auto const p : itemPointers )
    {
        int const* const pPred = (p == &originalData[0]? nullptr : p - 1);
        if( pPred == nullptr )
        { std::wcout << "! "; }
        else
        { std::wcout << *pPred << " "; }
    }
    std::wcout << std::endl;
} 
```

# google-apps-script - 如何使添加到弹性表的最后一个项目直接返回上一个项目的下方？

> ID：13467009
> 
> 赞同：0
> 
> 时间：2012-11-20T05:18:10.257
> 
> 标签：google-apps-script

有人可以告诉我如何使添加到 flextable 的最后一个项目直接位于现有项目的下方吗？

```
function doGet() {
  var app = UiApp.createApplication();
  var listBox = app.createListBox();
  listBox.addItem("item 1").addItem("item 2").addItem("item 3").setName("myListBox");

  var handler = app.createServerHandler("buttonHandler");
  // pass the listbox into the handler function as a parameter
  handler.addCallbackElement(listBox);

  var table = app.createFlexTable().setId("myTable");

  var button = app.createButton("+", handler);
  app.add(listBox);
  app.add(button);
  app.add(table);
  return app;
}

function buttonHandler(e) {
  var app = UiApp.getActiveApplication();
  app.getElementById("myTable").insertRow(0).insertCell( 0, 0).setText( 0, 0, e.parameter.myListBox);
  return app;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T06:57:35.177

这个想法是将您写入的行的索引保存在内存中。可以使用多种方法来实现这一点，但最直接的可能是在表格或 listBox 标记中写入此行索引，如下所示（我没有测试代码，但希望我没有出错）：

* * *

**编辑：**标签解决方案似乎不起作用，所以我改为`hidden widget`解决方案。（经过测试）

```
function doGet() {
  var app = UiApp.createApplication();
  var listBox = app.createListBox();
  listBox.addItem("item 1").addItem("item 2").addItem("item 3").setName("myListBox");
  var hidden = app.createHidden().setName('hidden').setId('hidden')
  var handler = app.createServerHandler("buttonHandler");
  // pass the listbox into the handler function as a parameter and the hidden widget as well
  handler.addCallbackElement(listBox).addCallbackElement(hidden);

  var table = app.createFlexTable().setId("myTable");

  var button = app.createButton("+", handler);

  app.add(listBox).add(button).add(table).add(hidden);// add all widgets to the app
  return app;
}

function buttonHandler(e) {
  var app = UiApp.getActiveApplication();
  var pos = e.parameter.hidden;// get the position (is a string)
   if(pos==null){pos='0'};// initial condition, hidden widget is empty
   pos=Number(pos);// convert to number
  var table = app.getElementById("myTable")
  table.insertRow(pos).insertCell( pos, 0).setText(pos, 0, e.parameter.myListBox);// add the new item at the right place
  ++pos ;// increment position
  app.getElementById('hidden').setValue(pos);// save value
  return app;// update app
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T19:53:47.743

以下代码执行相同的操作，但使用了 ScriptProperties 方法。没有什么特别喜欢它，就像一个魅力：

```
function doGet() {
  var app = UiApp.createApplication();

  // create listBox and add items
  var listBox = app.createListBox().setName("myListBox")
    .addItem("item 1")
    .addItem("item 2")
    .addItem("item 3");

  // set position
  ScriptProperties.setProperty('position', '0'); 

  // create handle for button
  var handler = app.createServerHandler("buttonHandler").addCallbackElement(listBox);

  // create flexTable and button
  var table = app.createFlexTable().setId("myTable");
  var button = app.createButton("+", handler);

  // add all to application
  app.add(listBox)
    .add(button)
    .add(table);

  // return to application
  return app;
}

function buttonHandler(e) {
  var app = UiApp.getActiveApplication();

  // get position
  var position = parseInt(ScriptProperties.getProperty('position'),10);

  // get myTable and add 
  app.getElementById("myTable").insertRow(position).insertCell(position, 0).setText(position, 0, e.parameter.myListBox);

  // increment position
  var newPosition = position++;

  // set position  
  ScriptProperties.setProperty('position', newPosition.toString()); 

  // return to application
  return app;
} 
```

请调试代码，以便启动授权过程。

参考：[脚本和用户属性](https://developers.google.com/apps-script/script_user_properties)

# javascript - html (dropdown) select option and javascript

> ID：13467012
> 
> 赞同：0
> 
> 时间：2012-11-20T05:18:26.930
> 
> 标签：javascript, html

> **Possible Duplicate:**
> [append option to select menu?](https://stackoverflow.com/questions/5182772/append-option-to-select-menu)
> [how do I add an option to a html form dropdown list with javascript](https://stackoverflow.com/questions/10992261/how-do-i-add-an-option-to-a-html-form-dropdown-list-with-javascript)

I have a html select element like below

```
<form>
<select id="mySelect">
  <option>Apple</option>
  <option>Pear</option>
  <option>Banana</option>
  <option>Orange</option>
</select>
</form> 
```

I would like to add another option value like below using javascript(not jQuery)

```
<option>Berry</option> 
```

Can anyone say how could I do that ??

Thanks

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T05:21:23.703

首先抓住选择使用`document.getElementById`

```
var sel = document.getElementById('mySelect'); 
```

然后像这样将选项添加到选择的`options`集合中

```
sel.options.add(new Option('text', 'val')); 
```

[工作示例](http://jsfiddle.net/SX5b3/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T05:26:58.793

```
var x=document.getElementById("mySelect");
var option=document.createElement("option");
option.text="Kiwi";
try{
  // for IE earlier than version 8
  x.add(option,x.options[null]);
}
catch (e){
  x.add(option,null);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T05:27:14.323

```
 <script type="text/javascript">
function fnc()
{
document.getElementById("mySelect").options.add(new Option('berry'));
}
</script>

<form>
<select id="mySelect">
  <option>Apple</option>
  <option>Pear</option>
  <option>Banana</option>
  <option>Orange</option>
</select>
<input type="button" onclick="fnc()" />
</form> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-20T05:22:22.233

```
//Declare some variables
var ctn = "Berry",
    opt = document.createElement("option");

//Set the text
opt.innerText = ctn;

//Put it in
document.getElementById('mySelect').appendChild(opt); 
```

现场演示：http: [//jsfiddle.net/DerekL/BzZXn/](http://jsfiddle.net/DerekL/BzZXn/)

这也适用于所有 HTML 标记。

# image - 图片透明度

> ID：13467015
> 
> 赞同：0
> 
> 时间：2012-11-20T05:19:03.457
> 
> 标签：image, vb6, transparency

如何在VB6.0中使图片透明，这样当我添加图片和放置图片时，背景会显示在它的后面？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T13:21:44.190

来自 Rod Stephen 的优秀 VB Helper 站点（尤其擅长 VB6 中的图形）：

*   [操作方法：使用 PSet 用透明颜色将一张图像叠加在另一张图像上](http://www.vb-helper.com/howto_overlay_pset.html)

来自网站的描述：

> 这个程序简单地遍历图像中的像素。对于按从上到下顺序的每个图像，程序会查找定义为透明的颜色以外的颜色。当它找到这样的颜色时，它会停止查看图像并使用 PSet 设置输出像素的颜色。
> 请注意，在 V 6 和 VB .NET 中有更快的方法来访问颜色值，如果您有叠加蒙版，还有更快的方法来合并图像。另请注意，VB .NET 提供了为图像设置透明颜色的工具，因此这个问题在 VB .NET 中是微不足道的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T08:02:49.253

我认为您应该使用 ocx 和 dll 库来修复它

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-20T06:10:58.810

您可以使用第 3 方 .ocx 文件来获得该效果。

查看此链接[http://www.vbforums.com/showthread.php?636390-vb6-Transparent-PictureBox](http://www.vbforums.com/showthread.php?636390-vb6-Transparent-PictureBox)

# windows-phone-7 - 如何在 Windows Phone 中触发数据模板选择器？

> ID：13467018
> 
> 赞同：0
> 
> 时间：2012-11-20T05:19:39.730
> 
> 标签：windows-phone-7, windows-phone-7.1, datatemplateselector, dynamic-usercontrols

我有一个属性，根据它的状态（比如 A 和 B），我要么显示动画的用户控件，要么显示图像。

现在，如果属性发生变化，我想再次**触发****数据模板**选择器。在搜索时，我[发现](https://stackoverflow.com/questions/13136816/change-data-template-dynamically)在 WPF 中我可以使用 DataTemplate.Trigger 但它在 WP 中[不可用。](http://www.codeproject.com/Articles/113152/Applying-Data-Templates-Dynamically-by-Type-in-WP7)

所以，我的问题是

*   他们是触发数据模板选择器的一种方式，因此当属性从状态 A 更改为 B 时，会选择适当的用户控件。如果是，那么请举例说明如何实现它。

另外，由于只有两种状态，如果认为我可以使用**Converter**来折叠**visibility**。对于基本的 if else 情况，我需要编写两个转换器。（我可以仅使用一个转换器以某种方式做到这一点吗？）这是确切的情况。

> 如果状态 == A ：
> 
> 选择 userControl_A
> 
> 否则：选择 userControl_B

还，

*   动画用户控件在折叠状态时会影响性能吗？

**编辑**- 刚刚意识到，我可以使用参数对象来编写一个转换器。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T07:44:17.080

[您可以像这里](http://www.codeproject.com/Articles/92439/Silverlight-DataTemplateSelector)描述的那样实现 DataTemplateSelector 。
我使用它并且效果很好。

**编辑：**
如果您需要在属性更改时更新 DataTemplate，您应该在 TemplateSelector 中订阅数据对象的 PropertyChanged 事件并再次执行 SelectTemplate 方法。

这是代码示例：

```
public override DataTemplate SelectTemplate(object item, DependencyObject container)
{
    City itemAux = item as City;

    // Subscribe to the PropertyChanged event
    itemAux.PropertyChanged += new System.ComponentModel.PropertyChangedEventHandler(itemAux_PropertyChanged);

    return GetTemplate(itemAux, container);
}

private DataTemplate GetTemplate(City itemAux, DependencyObject container)
{
    if (itemAux != null)
    {
        if (itemAux.Country == "Brazil")
            return BrazilTemplate;
        if (itemAux.Country == "USA")
            return UsaTemplate;
        if (itemAux.Country == "England")
            return EnglandTemplate;
    }

    return base.SelectTemplate(itemAux, container);
}

void itemAux_PropertyChanged(object sender, System.ComponentModel.PropertyChangedEventArgs e)
{
    // A property has changed, we need to reevaluate the template
    this.ContentTemplate = GetTemplate(sender as City, this);
} 
```

# json - 使用 Ajax/Jquery 读取 Json 值

> ID：13467021
> 
> 赞同：0
> 
> 时间：2012-11-20T05:20:21.163
> 
> 标签：json, jquery

我想读取并为 DIV 分配值，因为它打印在此 Web 服务[http://abc.com/new2/app/android/get_product_size.php?productID=113](http://abc.com/new2/app/android/get_product_size.php?productID=113)

例如 get_product_size.php 页面可能返回文本或数字。

我也使用了以下代码，问题是当我发出警报时它返回 0 值。我的代码如下

```
<div class="home%%GLOBAL_ProductId%%"></div>   

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" type="text/javascript"></script>
<script language="javascript" type="text/javascript">

      $(document).ready(function() {
      var productsize = $('.siz').val();
      var id =%%GLOBAL_ProductId%%;
         var AllData="" ;
           var html="";
           //alert(id);
         $.ajax({

                 type: "POST",

                 url: "http://abc.com/new2/app/android/get_product_size.php?productID="+id,
                 data: "{Size:'" + productsize + "'}",
                //data: {},
                 contentType: "application/json; charset=utf-8",
                 dataType: "json",
                 async: false,
                 cache: true,
                 success: function(msg) {
                 AjaxSucceeded(msg);
                AllData = html.fromhtml(data.d);
               $("#home%%GLOBAL_ProductId%%").html(AllData);
                //42.toFixed(2);
                 },
                 error: AjaxFailed
             });

          function AjaxSucceeded(result) {

          alert(result);
          }
          function AjaxFailed(result) {
              alert(result.status + ' ' + result.statusText);
          }

               });
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T05:48:47.790

> > AllData = html.fromhtml(data.d);

您的成功功能中的“数据”是什么？成功函数的签名是

"success(data, textStatus, jqXHR)" ...尝试使用这个。

此外，您不必提供这样的字符串化地图

数据：“{尺寸：'”+产品尺寸+“'}”

你可以说 {"Size" : productSize}。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-08T10:15:49.133

此时在您的 ajax 块中：

```
 data: "{Size:'" + productsize + "'}", 
```

您应该删除周围的引号`productSize`，如下所示：

```
 data: "{Size:" + productsize + "}", 
```

您在该冒号另一侧放置的任何值都将是您调用时返回的值`data.Size`

# hibernate - 使用内部连接的休眠更新查询

> ID：13467024
> 
> 赞同：8
> 
> 时间：2012-11-20T05:20:26.340
> 
> 标签：hibernate, inner-join, hibernate-mapping, hibernate-criteria

我有以下带有内部连接的 MySQL 更新查询：

```
 UPDATE Country AS c
 INNER JOIN  State s ON c.CountryID = s.CountryID
 INNER JOIN  City cy On s.StateID = cy.StateID
 SET  c.Active='Y', s.Active='Y',cy.Active='Y'
 WHERE  c.CountryID='12' 
```

这是我的国家地图课

```
enter code here
@Entity
@Table(name = "Country")
public class Country {
public Country() {
}

@Id
@Column(name = "CountryID")
private String countryID;

@OneToMany(fetch = FetchType.LAZY, mappedBy = "country")
private Set<State> state = new HashSet<State>(0);

@Column(name = "CountryName")
private String countryName;
} 
```

状态的 Mpping 类

```
 @Entity
 @Table(name = "State")
 public class State {
public State() {
}

@ManyToOne(fetch = FetchType.LAZY)
@JoinColumn(name = "countryID", nullable = false)
private Country country;

public Country getCountry() {
    return country;
}

public void setCountry(Country country) {
    this.country = country;
}

@Id
@Column(name = "StateID")
private String stateID;

@Column(name = "CountryID")
private String countryID;

@Column(name = "StateName")
private String stateName; 
```

我如何用休眠语言编写相同的查询。任何人都可以帮助我。我已经尝试了很多，但我做不到。

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-20T08:00:46.977

你不能。HQL 更新查询不能有联接。请参阅[文档](http://docs.jboss.org/hibernate/orm/3.6/reference/en-US/html_single/#batch-direct)：

> 需要注意的几点：
> 
> *   [...]
> *   不能在批量 HQL 查询中指定任何隐式或显式连接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-12-31T08:41:51.223

相反，您可以尝试在此处运行本机查询。只需在查询中添加@Query 注释，然后在 JPQL 查询末尾添加 nativeQuery=true 即可触发查询的本机行为。

请记住，您需要将所有本机组件用于本机查询，因此如果实体类“雇员”映射到数据库中的“雇员”表，您的查询应该读取**从雇员中选择名称**而不是*从 Employee 中选择姓名*。

谢谢。

# jquery - 操作后jQuery不会更新textarea

> ID：13467028
> 
> 赞同：2
> 
> 时间：2012-11-20T05:20:49.550
> 
> 标签：jquery, html, ajax

嘿，所以我的 HTML 中有一个文本区域，每当我单击列表中的文件名时，它就会将文件的内容放在该文本区域中，在文件之间来回单击效果很好。一旦我在文本区域中编辑某些内容，然后尝试再次单击文件名，它就不再执行任何操作或更新该文本区域。

```
<!DOCTYPE html>
<html>
<head>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script>

var currentFile;

$(document).ready(function()
{
var request = new XMLHttpRequest();
request.open("GET", "getFiles.php", false);
request.send();
var result = request.responseText;
$("#fileNames").html(request.responseText);
});

$(document).ready(function()
{
$("li").click(function()
{
    currentFile = $(this).text();
    $("#currentFile").text(currentFile);

    var request = new XMLHttpRequest();
    request.open("GET", "getFileContents.php?fileName="+currentFile, false);
    request.send();
    var result = request.responseText;
    $("#fileContents").text(result);
});
 });

function saveFile()
{
var request = new XMLHttpRequest();
var contents = $("#fileContents").text();
request.open("GET", "saveFile.php?fileName="+currentFile+"&fileContents="+contents, false);
request.send();
}

</script>

<style type="text/css">

ul.fileList li
{
    background-color:blue;
}

#fileContents
{
    resize: none;
}

 </style>

</head>
<body>
<div id="currentFile">No File Selected</div

<br />

<ul id="fileNames" class="fileList">

</ul>

<br />

<textarea id="fileContents" cols="25" rows="5">No Contents</textarea>
<input type="button" onclick="saveFile();" value="Save" />

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-20T05:30:13.917

您应该使用`.val()`来获取和设置文本区域中的文本

```
$("#fileContents").val(result);

var contents = $("#fileContents").val(); 
```

# iphone - 如何在 xcode 中创建下拉菜单？

> ID：13467029
> 
> 赞同：9
> 
> 时间：2012-11-20T05:20:50.970
> 
> 标签：iphone, xcode

我是一个非常新的 IOS 开发人员，我需要帮助，如何在 xcode 中创建下拉框，任何人都可以为我提供在下拉列表中创建国家列表的示例？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-11-20T05:40:44.327

在这里，我找到了下拉列表的两个演示，一个是创建自定义可扩展，`UITableViewCell`例如：-

![在此处输入图像描述](../Images/2fb1ba8eaa1eda59db13226c3abdaf52.png)

至

![在此处输入图像描述](../Images/8580447bc47f2784ffb148f21bfa2390.png)

源代码：-[演示](https://github.com/vicpenap/VPPDropDown/downloads)

**另一个是自定义下拉列表，例如：**-****

 **![在此处输入图像描述](../Images/7a8704f87c51b767b89c5dd08e3810ca.png)

通过单击测试然后打开下拉列表，如下图所示

![下拉列表](../Images/83950fcf5dee8794d53d9196cbd7206b.png)

带有标签栏的源代码：- [DEMO](http://code.google.com/p/dropdowndemo/downloads/detail?name=dropdowndemo.zip&can=2&q=)

**更新了没有标签栏的源代码：-**

[http://www.sendspace.com/file/83qws5](http://www.sendspace.com/file/83qws5)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-20T05:26:25.637

我相信您不应该在 iOS 中使用下拉框，因为它是桌面操作系统 UI 控件元素。您应该使用现有的组件（如 PickerView）想出一些别的东西，这就是 UI 一致性的用语。

如果你仍然需要这个，你可以创建一个表格视图，将它放在你的标签和一个三角形按钮下方（这会导致它出现和消失）并用值填充它。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-20T05:30:57.473

由于 iOS 中没有原生`DropDown`元素，因此您可以使用`TextField`带有自定义背景的 a 和 a`UITableView`来完成此操作。以下是如何去做。

伪代码

*   创建一个`TextField`并将其设置为父控制器的委托
*   实现`UITextFieldDelegate`并实现`textFieldShouldBeginEditing`方法
*   创建一个新的`UIViewController`并`UITableView`以编程方式在其中实现。
*   创建一个自定义协议并创建它的对象（委托）它。
*   在`textFieldShouldBeginEditing`方法中，加载此控制器并以模态方式显示它，传递所需表的数据源并将委托设置为父级。
*   在 new`tableViewController`中，实现`UITableViewDelegate`并实现 didSelectRowAtIndex 路径方法。
*   选择行后，调用委托并传递适当的数据。
*   关闭模态呈现的控制器。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2016-01-10T10:32:42.767

只是为了谁在 2016 年在这里搜索小型简单的**swift 组合框**，我尝试了一些新旧（但 obj-c）库，最后选择了这个：

[https://github.com/sw0906/SWCombox](https://github.com/sw0906/SWCombox)

这是屏幕截图： [![在此处输入图像描述](../Images/fb76d887f50a749c35706de53b995c63.png)](https://i.stack.imgur.com/jCOY9.png)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-20T05:36:50.377

设计下拉列表的简单方法是将其表示为一个`UITableView`和一些动画。这使它看起来真的很像一个**下拉列表**。这是我用来创建一个的代码。为此首先导入 < QuartzCore/QuartzCore.h > 框架。

```
-(IBAction)DropDownTable:(id)sender
{
TableView.hidden = NO;
if(TableView.frame.origin.y ==203)
{
    [UIView beginAnimations:nil context:NULL]; 
    [UIView setAnimationDuration:0.5f];
    [TableView setFrame:CGRectMake(224, 204, 27, 160)];
    [UIView commitAnimations];
    [self.view TableView];
}

else if (TableView.frame.origin.y == 204)
{
    [TableView setFrame:CGRectMake(224, 203, 27, 0)];
    TableView.hidden = YES;
}

[self.view addSubview:TableActivityLevel];
} 
```

首先制作一个tableview，声明它的方法并制作数组。把这个功能放在一个点击上`UIButton`，你会看到它的工作！快乐编码:)**

# php - 在日期选择器中加载事件

> ID：13467032
> 
> 赞同：3
> 
> 时间：2012-11-20T05:21:24.383
> 
> 标签：php, javascript, jquery

我在同一页面上确实有一个完整的日历和日期选择器。我希望在从完整日历中选择日期、月份或日期后，也必须将相同的数据加载到日期选择器中。

```
<div id="calendar"></div>
<script type='text/javascript'>
        $(function() {
            var date = new Date();
            var d = date.getDate();
            var m = date.getMonth();
            var y = date.getFullYear();
            var opt={
                header: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'agendaDay,month'
                        },
                weekends:false,
                selectable: true,
                selectHelper: true,
                defaultView: 'agendaWeek',
                select: function(start, end, allDay) {
                    //calendar.fullCalendar('unselect');

                },
            };
    $('#calendar').fullCalendar(opt);

    $("#cworkweek").on("click",function() {
            opt.weekends=false;
            $('#calendar').fullCalendar('destroy');
            $('#calendar').fullCalendar(opt);
            $(".datepicker").datepicker("destroy");
            getdate(1,5);

    });
    $("#cweek").on("click",function() {
            opt.weekends=true;
            $('#calendar').fullCalendar('destroy');
            $('#calendar').fullCalendar(opt);
            $(".datepicker").datepicker("destroy");
            getdate(0,6);
    });
});
</script> 
```

上面的代码是完整的日历。以下是日期选择器。

```
<span id="startDate"></span>-<span id="endDate"></span>
    <div class="datepicker"></div>
    <script type="text/javascript">
    function getdate(sdate,edate)
    {
        var startDate;
        var endDate;
        var selectCurrentWeek = function() {
            window.setTimeout(function (){
                $('.datepicker').find('.ui-datepicker-current-day a').addClass('ui-state-active')
            }, 2);
        }
        $('.datepicker').datepicker({
            numberOfMonths:[2,1],
            dateFormat: 'M dd,yy',
            onSelect: function(dateText, inst) { 
                var date = $(this).datepicker('getDate');
                startDate = new Date(date.getFullYear(), date.getMonth(), date.getDate() - date.getDay()+ sdate);
                endDate = new Date(date.getFullYear(), date.getMonth(), date.getDate() - date.getDay() + edate);
                var dateFormat = inst.settings.dateFormat || $.datepicker._defaults.dateFormat;
                $('#startDate').text($.datepicker.formatDate( dateFormat, startDate, inst.settings));
                $('#endDate').text($.datepicker.formatDate( dateFormat, endDate, inst.settings ));
                var d = new Date(dateText);
                $('#calendar').fullCalendar('gotoDate', d);
                selectCurrentWeek();
            },
            beforeShowDay: function(date) {
                var cssClass = '';
                if(date >= startDate && date <= endDate)
                    cssClass = 'ui-datepicker-current-day';
                return [true, cssClass];
            },

        });
    }
    $(function() {
       getdate(5,1);
    });
    </script> 
```

所以请建议我。实际上我已经用上面的代码用日期选择器完成了这个。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T09:55:48.473

代码不是很清楚阅读，您可以使用[Jsfiddle](http://jsfiddle.net/)来展示它的工作示例。通常，您可以触发自定义事件。例如，在日历中选择日期后，您可以触发：

```
$('#calendar').trigger({
    type:"date-updated.calendar",
    new_date: 'the-date-of-the-calendar
}); 
```

在你设置的日期选择器中的某个地方

```
$('#calendar').on("date-updated.calendar",function(ev){
    var new_date = ev.new_date;
    //update your datepicker with new_date
}); 
```

# c# - 将一个列表中的元素添加到另一个 C#

> ID：13467034
> 
> 赞同：22
> 
> 时间：2012-11-20T05:21:34.180
> 
> 标签：c#

将一个列表的元素添加到另一个列表的最简单方法是什么？

例如，我有两个列表：

包含 x 个项目的列表 A 包含 y 个项目的列表 B。

我想将 B 的元素添加到 A 以便 A 现在包含 X+Y 项。我知道这可以使用循环来完成，但是有内置的方法吗？还是其他什么技术？

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-11-20T05:22:44.603

您的问题描述了[List.AddRange](http://msdn.microsoft.com/en-us/library/z883w3dc.aspx)方法，该方法将其参数的所有元素复制到调用它的列表对象中。

例如，片段

```
List<int> listA = Enumerable.Range(0, 10).ToList();
List<int> listB = Enumerable.Range(11, 10).ToList();
Console.WriteLine("Old listA: [{0}]", string.Join(", ", listA));
Console.WriteLine("Old listB: [{0}]", string.Join(", ", listB));
listA.AddRange(listB);
Console.WriteLine("New listA: [{0}]", string.Join(", ", listA)); 
```

印刷

```
Old listA: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
Old listB: [11, 12, 13, 14, 15, 16, 17, 18, 19, 20]
New listA: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20] 
```

表明在调用`listB`中添加了的所有元素。`listA``AddRange`

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-11-20T05:24:34.503

要加入两个列表，您可以执行

```
listA.AddRange(listB); // listA will contain x+y items 
```

或者

```
// listC contains x+y items, listA and listB are unchanged.
var listC = listA.Concat(listB); 
```

您可以使用后者来重新分配`listA`：

```
listA = listA.Concat(listB).ToList(); 
```

`AddRange`但是，如果您一开始就可以修改其中一个原始列表，那并没有任何特别的优势。

# javascript - 在 Ajax 中使用 Enter 按钮提交表单

> ID：13467035
> 
> 赞同：1
> 
> 时间：2012-11-20T05:21:36.510
> 
> 标签：javascript, jquery, ajax

我的问题是，当我单击按钮时，它会正常工作，但如果我使用回车按钮，它将尝试提交表单并将 ?var=x 附加到 URL。

我的两个输入：

```
 <input type="text" name="users" onkeydown="if (event.keyCode == 13) document.getElementById('submitbtn').click()">
    <input type="button" name="submitbtn" onclick="showUser(users.value)"> 
```

其余的你可以查看我的来源。如果你输入 1 或 2 并单击按钮，你会得到结果，但如果你按 Enter，它不会给你结果并改变 URL，就像我说的那样。

[http://crystalarcade.com/shoutbox](http://crystalarcade.com/shoutbox)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T05:25:55.513

你正在使用`document.getElementById`，所以给你的按钮一个 id

像这样

```
<input type="text" name="users" onkeydown="if (event.keyCode == 13) document.getElementById('submitbtn').click()">
<input type="button" id="submitbtn" name="submitbtn" onclick="showUser(users.value)"> 
```

这对你有用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T05:38:29.000

我假设您将拥有一个只有两个输入元素的表单。使用 jQuery，您可以执行以下操作：

像这样的事情应该让你开始，我需要记下这段代码是未经测试的，因为我不能使用 AJAX 进行跨站点请求。

```
<script type="text/javascript">
$(function(){
    $("#username").on("keypress", function(e){
       if(e.keyCode==13){ //keyCode value of 13 is for the enter key
        $.get("getusers.php" $("#userSearchForm").serialize(), function(data){
            if(data){
              $("shoutboxtxt").text(data);      
            }                
        }, "text");
    }
  }
});​
</script>

<form id="userSearchForm">
    <input type="text" name="users" id="username" />
    <input type="button" name="submitbtn" id="submitbtn" value="Search" />
</form>

<div id="shoutboxtxt"><b>Person info will be listed here.</b></div>​ 
```

在线：http: [//jsfiddle.net/HwcN3/1/](http://jsfiddle.net/HwcN3/1/)

# html - 调整字体粗细：粗体

> ID：13467041
> 
> 赞同：1
> 
> 时间：2012-11-20T05:22:22.030
> 
> 标签：html, css

我目前正在使用`{font-weight:bold}`Arial 字体，但它似乎太厚了。我可以让东西变薄一点吗？我找不到任何其他方法来做到这一点。我用过 {font-weight:400} - 以 100 为增量指定。但它是一回事。太厚。还有其他方法可以使字体比其他文本更粗吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T05:27:55.890

您可以使用许多看起来像 Arial 的字体，有些字体比其他字体更粗，

尝试[在 Google WebFonts](https://developers.google.com/webfonts/docs/getting_started)中查找字体，您可以将其附加到您的 css 中，以确保它适用于每个浏览器

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T08:23:15.723

Arial 字体没有粗细介于普通 (400) 和粗体 (700) 之间的字体。其他一些字体可以。因此，您可能会选择一种不同的字体，它要么具有介于两者之间的重量，要么具有适合您需要和眼睛的粗体字体。

例如，Google 字体[Source Sans Pro](http://www.google.com/webfonts/specimen/Source+Sans+Pro)和[Open Sans](http://www.google.com/webfonts/specimen/Open+Sans)或多或少类似于 Arial，它们都有半粗体 (600) 字体。

可以使用文本阴影创建不同程度的假粗体，颜色与 CSS 中的文本颜色相同，例如`text-shadow: 1px 0 black`. 但结果很差。真正的粗体与这种人为的笔画加粗有很大不同。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T06:24:26.283

对不起，伙计，但 Arial Bold 并没有你说的那么粗，它只是“Bold”。（那么 Arial Black 或 Alfa Slab 是什么？）。但是如果你觉得它对你来说太厚了，你可以尝试一个轻风格的 webFont，然后你可以使用普通的作为你的 Bold 风格。

# c# - 有没有办法使用 C# 更改 Excel 单元格的颜色？

> ID：13467054
> 
> 赞同：1
> 
> 时间：2012-11-20T05:23:23.837
> 
> 标签：c#, asp.net, excel, oledb, office-interop

我正在开发一个 ASP 项目，我需要根据一些验证检查更改单元格的颜色并将其返回给用户。

目前我已经使用 Excel 12.0 对象库成功实现了这个功能。但问题是我需要提高性能。InterOp 库比我预期的要慢得多。

**有什么方法可以在不使用 InterOp 库的情况下格式化 Excel 工作表上的单元格。（类似于使用 OleDb 连接和格式化进行连接）？？**

请分享您的知识

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T06:19:46.340

尝试使用 codeplex 中的 ExcelPlusPlus 库。它没有使用 OleDB

[**EPPlus 链接**](http://epplus.codeplex.com/)

**来自codeplex：**

```
Create advanced Excel 2007/2010 spreadsheets on the server

EPPlus is a .net library that reads and writes Excel 2007/2010 files using the Open Office Xml format (xlsx). 

EPPlus supports:

Cell Ranges 
Cell styling (Border, Color, Fill, Font, Number, Alignments)
Charts
Pictures
Shapes
Comments
Tables
Protection
Encryption
Pivot tables
Data validation
Conditional formatting
VBA
Many more... 
```

# c# - 设置特定于服务请求的代理服务器 HTTP 客户端+REST

> ID：13467063
> 
> 赞同：0
> 
> 时间：2012-11-20T05:23:57.997
> 
> 标签：c#, wcf, wcf-rest

```
using (var client = new System.Net.Http.HttpClient())
            {
                var response = client.GetAsync(fullUrl).Result;
} 
```

我正在创建如上所述的 HTTP 客户端以使用 RESTfull 服务。我应该能够为此服务请求设置代理。如何仅设置特定于此服务请求的代理服务器？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-04T05:21:26.523

System.Net.Http.HttpClient 没有 TransportSettings 属性并且关于 Microsoft.Http 程序集是未知的。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-23T16:09:44.897

**使用 Microsoft.Http 我可以**

```
 HttpClient client = new HttpClient();
                /*Set Credentials to authenticate proxy*/
                client.TransportSettings.Proxy = new WebProxy(proxyAddress);
                client.TransportSettings.Proxy.Credentials = CredentialCache.DefaultCredentials;
                client.TransportSettings.Credentials = CredentialCache.DefaultCredentials;

                client.BaseAddress = new Uri(this.baseUrl);
                var response = client.Get(fullUrl);

                var jsonResponce = response.Content.ReadAsJsonDataContract<mYResponseoBJECT>();

 public static T ReadAsJsonDataContract<T>(this  HttpContent content)
        {
            return (T)content.ReadAsJsonDataContract<T>(new DataContractJsonSerializer(typeof(T)));
        } 
```

# javascript - 使用多个 XSL 文件转换 XML

> ID：13467069
> 
> 赞同：16
> 
> 时间：2012-11-20T05:24:38.530
> 
> 标签：javascript, xml, xslt

我有一些 XML 想使用一些 XSL 文件转换成 HTML。这些 XSL 文件都通过 xsl:import 和 xsl:include 语句关联，并且都是完成转换所必需的。

我知道 XSL 可以工作，因为`<?xml-stylesheet type="text/xsl" href="transform.xsl"?>`在浏览器打开的预先创建的 XML 文件中使用该指令会显示我想要的输出。问题是我希望能够在动态生成的 XML 上复制此功能。

我可以看到有两种方法可以做到这一点，但两者似乎都有我无法解决的限制。

第一个解决方案是使用 Javascript 来转换 XML。据我所知，这将需要 XSLTProcessor 对象来加载多个 XSL 文件，但 Chrome（可能还有其他浏览器）不太支持 xsl:import - [http://code.google.com/p/chromium/问题/详细信息？id=8441](http://code.google.com/p/chromium/issues/detail?id=8441)

我还研究了将 XML 写入 iFrame 或新窗口，但`<?xml-stylesheet type="text/xsl" href="transform.xsl"?>`指令在结果窗口中被注释掉。实际上，写入新窗口的任何内容都是 HTML——我还没有找到将 XML 写入新窗口的方法。

那么如何让浏览器窗口显示用一组 XSL 文件转换的 XML 文件的结果呢？

**更新**

所以这是我对这个问题的研究结果。

**可能的解决方法**：使用 emscripten 将 xsltproc 之类的工具编译成 JavaScript。我实际上已经这样做了 - 请参阅[https://github.com/mcasperson/xsltproc.js](https://github.com/mcasperson/xsltproc.js)

**问题**：Firefox 速度慢得令人难以置信（Chrome 中需要 5 秒的时间在 Firefox 中需要 30+），而且您无法在 Chrome Web Worker 中运行代码 - [https://code.google.com/p/chromium/问题/详细信息？id=252492](https://code.google.com/p/chromium/issues/detail?id=252492)

**可能的解决方法**：根本不使用 XSL，而是使用 CSS 样式表显示 XML。

**问题**：在浏览器开始实现该`css attr(atrributename, url)`功能之前，无法将 XML 属性中的文件引用视为字符串以外的任何内容，这使得无法显示图像。

**可能的解决方法**：将所有 XSL 文件合并到一个样式表中

**问题**：这在某种程度上是可能的（请参阅[合并多个 xslt 样式表](https://stackoverflow.com/questions/70143/merge-multiple-xslt-stylesheets)），但是 xsl:import 和 xsl:include 具有特定的语义，当简单地将文件内容替换为 xsl:import 或 xsl:include 语句时，这些语义不会传递。对于分解为多个文件的大型 XSL 转换，此解决方案将需要大量手动工作。

**可能的解决方法**：将 XML 的内容写入 iframe 或新窗口。

**问题**：无法将 XML 写入新窗口或 iframe。写入这些元素的内容始终假定为 HTML，并插入到 HTML->BODY 元素中。

**可能的解决方法**：创建一个接受 XML 的服务器端服务，然后使用 XSL 样式表指令返回该 XML。然后可以将服务 URL 用作`src`iframe 或新窗口的属性。

**问题**：服务必须是 GET 端点，这意味着要返回的 XML 必须作为查询参数包含在内，这意味着您最终会遇到 URL 长度的问题。

**可能的解决方法**：使用像[Saxonica CE](http://www.saxonica.com/ce/doc/contents.html)这样的 javascript XSL 库。

**问题**：这实际上可能有效（我没有尝试过），但 Saxonica CE 不是开源的（这是我们项目的要求）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-10T10:41:37.000

如果您想要仅浏览器的解决方案，我会这样做：

### 静态xml

制作一个仅包含对 xsl 的调用的简单静态 xml。这是在浏览器中打开的 xml - 总是。此 xml 文件可以包含用于控制流程的属性设置，或者根本不包含此示例。

```
<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="cartoon2html.xsl"?>
<xml/> 
```

### 动态纯xml

使用定义的名称以您喜欢的方式生成动态 XML - 在我的例子中是 cartoons.xml。

```
<?xml version="1.0" encoding="utf-8"?>
<cartoons>
    <cartoon name="Donald Duck" publisher="Walt Disney" />
    <cartoon name="Mickey Mouse" publisher="Walt Disney" />
    <cartoon name="Batman" publisher="DC Comics" />
    <cartoon name="Superman" publisher="DC Comics" />
    <cartoon name="Iron Man" publisher="Marvel Comics" />
    <cartoon name="Spider-Man" publisher="Marvel Comics" />
</cartoons> 
```

### 带文档加载的 XSLT

使用 xslt 中的 document loan 来引用生成的动态 xml。通过在第一个应用模板中使用 select，所有其他模板都将按预期工作。

仔细查看顶部的变量引用和代码中的更下方。这是执行魔术的地方。

```
<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

    <xsl:variable name="cartoons" select="document('cartoons.xml')/cartoons" />

    <xsl:template match="/">
        <html>
            <head>
                <title>Cartoons</title>
                <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
            </head>
            <body>
                <xsl:apply-templates select="$cartoons" />
            </body>
        </html>
    </xsl:template>

    <xsl:template match="cartoons">
        <table>
            <xsl:apply-templates />
        </table>
    </xsl:template>

    <xsl:template match="cartoon">
        <tr>
            <td><xsl:value-of select="@name" /></td>
            <td><xsl:value-of select="@publisher" /></td>
        </tr>
    </xsl:template>

</xsl:stylesheet> 
```

您可以将这三个文件保存到选择的目录中，然后在 firefox 中打开静态 xml 文件。（Chrome 或许 Safari 必须通过网络服务器提供文件才能执行转换）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-30T00:06:00.717

我建议使用 jquery 来导入和设置 XML 样式。

这样的事情将允许您在调用函数时导入 XML（链接到按键或刷新按钮甚至计时器的函数。）

```
$.ajax({
    type: "GET",
    url: "FILENAME.xml",
    dataType: "xml",
    success: function(xml) {
        $(xml).find('site').each(function(){ //finds parent node
            var id = $(this).attr('id'); //id of parent node
            var title= $(this).find('title').text();  //finds title node within parent node
            var url = $(this).find('url').text(); //finds URL node within parent node
            var description = $(this).find('descr').text(); //etc...
            var img = $(this).find('img').text(); //etc...

            // Creates div with id of parent node (for individual styling)
            $('<div id="link_'+id+'">')
                .addClass('add a div class')
            //sets css of div
                .css({set css})
            // Sets the inner HTML of this XML allocated div to hyperlinked 'title' with 'description' and an 'img'
                .html('<a href="'+url+'">'+title+'</a>'+description+'<img src="'+img+'">')                  
            // Append the newly created element to body
                .appendTo('#holder');
    }
    }
}) 
```

XML 看起来像这样：

```
<site id="0">
 <url>http://blah.com</url>
 <img>imgs/image1.png</img>
 <description>this is a description</description>
 <title>Title</title>
</site>

<site id="1">
 <url>http://filler.com</url>
 <img>imgs/image2.jpg</img>
 <description>this is another description</description>
 <title>Title 2</title>
</site> 
```

当然，您可以将 XML 导入表格或任何其他类型的 HTML 元素，而不是导入 div。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-11T01:10:02.167

我刚才也有同样的问题。我的解决方案是将包含直接传播到 XML 中。此代码在 Chrome、Firefox 和 IE 10、9、8 和 7 下进行了测试。

```
function propegateIncludes(dname,xml, isExplorer) {
    var preTag = isExplorer ? "xsl:" : "";

    var TAG_STYLESHEET = preTag + "stylesheet", TAG_INCLUDE = preTag
        + "include", TAG_TEMPLATE = preTag + "template";

    var stylesheets = xml.getElementsByTagName(TAG_STYLESHEET);
    if (stylesheets.length == 0) {
        return;
    }

    var includes = xml.getElementsByTagName(TAG_INCLUDE);
    if (includes.length == 0) {
        return;
    }

    var stylesheet = stylesheets[0];
    var path = dname.substring(0, dname.lastIndexOf('/'));

    for ( var i = 0; i < includes.length; i++) {
        var args = includes[i].attributes;
        var includeXml = null;

        for ( var a = 0; a < args.length; a++) {
            if (args[a].nodeName == "href") {
                includeXml = loadXMLDoc(path + "/" + args[a].nodeValue);
                break;
            }
        }

        stylesheet.removeChild(includes[i]);

        if (includeXml != null) {
            var templates = includeXml.getElementsByTagName(TAG_TEMPLATE);

            for (var t = 0; t < templates.length; ++t) {
                stylesheet.appendChild(templates[t].cloneNode(true));
            }
        }
    }
} 
```

# c++ - C++ Boost：对 boost::system::generic_category() 的未定义引用

> ID：13467072
> 
> 赞同：101
> 
> 时间：2012-11-20T05:24:51.677
> 
> 标签：c++, linux, boost, codeblocks

我正在尝试`Boost`在我的项目中包含库，并且一直面临同样的问题。我在带有 Codeblocks IDE 的 Ubuntu 12.10 上，并尝试手动安装库，从站点读取说明，但在标头和使用前构建的库中出现错误。

然后我通过 terminalby 安装了这些库`sudo apt-get install libboost-all-dev`。在此之后，在我的代码块程序中，我可以包含头文件，`#include <boost/regex.hpp>`但是当我尝试包含文件系统库 ( `#include "boost/filesystem/operations.hpp"` ) 的头文件时，我收到以下错误：

```
/usr/include/boost/system/error_code.hpp|214|undefined reference to boost::system::generic_category()'| 
```

我不确定如何解决此错误（特别是在 Linux 上的 Codeblocks 中）。我真的可以在这里使用一些帮助。

编译器：Gcc
程序代码：仅尝试包含上述文件系统`operations.hpp`文件。

从代码块构建日志：

```
Build started on: 20-11-2012 at 18:02.53
Build ended on: 20-11-2012 at 18:02.54
-------------- Build: Debug in libopenFrameworks ---------------
Target is up to date.
-------------- Build: Debug in reader1 ---------------
make -s -f Makefile Debug
linking i686 bin/reader1_debug linux
obj/i686Debug/src/testApp.o: In function `__static_initialization_and_destruction_0':
/usr/include/boost/system/error_code.hpp:214: undefined reference to `boost::system::generic_category()'
/usr/include/boost/system/error_code.hpp:215: undefined reference to `boost::system::generic_category()'
/usr/include/boost/system/error_code.hpp:216: undefined reference to `boost::system::system_category()'
obj/i686Debug/src/main.o: In function `__static_initialization_and_destruction_0':
/usr/include/boost/system/error_code.hpp:214: undefined reference to `boost::system::generic_category()'
/usr/include/boost/system/error_code.hpp:215: undefined reference to `boost::system::generic_category()'
/usr/include/boost/system/error_code.hpp:216: undefined reference to `boost::system::system_category()'
collect2: ld returned 1 exit status
make: *** [bin/reader1_debug] Error 1
Process terminated with status 2 (0 minutes, 1 seconds)
6 errors, 0 warnings 
```

* * *

## 回答 #1

> 赞同：150
> 
> 时间：2012-11-20T07:17:37.840

您应该在`libboost_system`库中链接。我不确定代码块，但您平台上的 g++ 命令行选项将是

> -lboost_system

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2013-09-02T08:07:23.723

根据 boost 版本，libboost-system 带有 -mt 后缀，它应该指示库的多线程能力。

因此，如果`-lboost_system`链接器无法找到 try `-lboost_system-mt`。

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2015-06-02T22:30:13.593

这是一个链接器问题。将静态库路径包含到您的项目中。

对于 Qt Creator，打开项目文件`.pro`并添加以下行：

```
LIBS += -L<path for boost libraries in the system> -lboost_system 
```

就我而言，Ubuntu x86_64：

```
LIBS += -L/usr/lib/x86_64-linux-gnu -lboost_system 
```

对于代码块，打开`Settings->Compiler...->Linker`设置选项卡并添加：

```
boost_system 
```

到链接库文本小部件并按下`OK`按钮。

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2016-09-29T07:54:32.353

我也搜索了一个解决方案，但我遇到的答案都没有解决这个错误，直到我找到这个线程的“ViRuSTriNiTy”的答案：[未定义对'boost::system::generic_category()'的引用？](https://stackoverflow.com/questions/18200300/undefined-reference-to-boostsystemgeneric-category)

根据该答案，尝试将这些行添加到您的 cmake 文件中：

```
find_package(Boost 1.55.0 REQUIRED COMPONENTS system filesystem)
include_directories(... ${Boost_INCLUDE_DIRS})
link_directories(... ${Boost_LIBRARY_DIRS})
target_link_libraries(... ${Boost_LIBRARIES}) 
```

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2018-10-10T09:52:47.427

这个[答案](https://stackoverflow.com/a/50146757/2028846)在使用 Boost 和 cmake 时实际上有所帮助。

添加`add_definitions(-DBOOST_ERROR_CODE_HEADER_ONLY)`cmake 文件。

我的 CMakeLists.txt 看起来像这样：

```
cmake_minimum_required(VERSION 3.12)
project(proj)

set(CMAKE_CXX_STANDARD 17)

set(SHARED_DIR "${CMAKE_SOURCE_DIR}/../shared")

set(BOOST_LATEST_DIR            "${SHARED_DIR}/boost_1_68_0")
set(BOOST_LATEST_BIN_DIR        "${BOOST_LATEST_DIR}/stage/lib")
set(BOOST_LATEST_INCLUDE_DIR    "${BOOST_LATEST_DIR}/boost")
set(BOOST_SYSTEM                "${BOOST_LATEST_BIN_DIR}/libboost_system.so")
set(BOOST_FS                    "${BOOST_LATEST_BIN_DIR}/libboost_filesystem.so")
set(BOOST_THREAD                "${BOOST_LATEST_BIN_DIR}/libboost_thread.so")

set(HYRISE_SQL_PARSER_DIR           "${SHARED_DIR}/hyrise_sql_parser")
set(HYRISE_SQL_PARSER_BIN_DIR       "${HYRISE_SQL_PARSER_DIR}")
set(HYRISE_SQL_PARSER_INCLUDE_DIR   "${HYRISE_SQL_PARSER_DIR}/src")
set(HYRISE_SQLPARSER                "${HYRISE_SQL_PARSER_BIN_DIR}/libsqlparser.so")

include_directories(${CMAKE_SOURCE_DIR} ${BOOST_LATEST_INCLUDE_DIR} ${HYRISE_SQL_PARSER_INCLUDE_DIR})

set(BOOST_LIBRARYDIR "/usr/lib/x86_64-linux-gnu/")
set(Boost_USE_STATIC_LIBS OFF)
set(Boost_USE_MULTITHREADED ON)
set(Boost_USE_STATIC_RUNTIME OFF)

add_definitions(-DBOOST_ERROR_CODE_HEADER_ONLY)

find_package(Boost 1.68.0 REQUIRED COMPONENTS system thread filesystem)

add_executable(proj main.cpp row/row.cpp row/row.h table/table.cpp table/table.h page/page.cpp page/page.h
        processor/processor.cpp processor/processor.h engine_instance.cpp engine_instance.h utils.h
        meta_command.h terminal/terminal.cpp terminal/terminal.h)

if(Boost_FOUND)
    include_directories(${Boost_INCLUDE_DIRS})
    target_link_libraries(proj PUBLIC Boost::system Boost::filesystem Boost::thread ${HYRISE_SQLPARSER})
endif() 
```

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2018-08-16T15:10:56.240

在构建一个简单的 boost 示例时遇到同样的问题，在我将 g++ 编译器标志从**-std=c++14**更改为**-std=c++11**后解决。

我注意到这是一个 C++11 示例......

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2015-08-26T10:11:57.460

我有同样的问题，也使用 Linux Mint (as nuduoz) 。我添加`boost_system`到`GCC C++ Linker->Libraries`.

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2015-02-14T14:22:27.797

你可能会遇到另一个问题。在 Linux Mint 上安装 Boost 后，我​​遇到了同样的问题。链接`-lboost_system`或`-lboost_system-mt`没有工作，因为库有 name `libboost_system.so.1.54.0`。

所以解决方案是创建指向原始文件的符号链接。就我而言

```
sudo ln -s /usr/lib/x86_64-linux-gnu/libboost_system.so.1.54.0 /usr/lib/libboost_system.so 
```

有关更多信息，请参阅[此](https://stackoverflow.com/q/16710047/3195752)问题。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2018-10-08T20:13:08.843

如果未安装库，则应提供 boost 库文件夹：

例子：

> g++ -L/usr/lib/x86_64-linux-gnu -lboost_system -lboost_filesystem prog.cpp -o prog

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2015-08-02T22:38:22.467

尝试

```
g++ -c main.cpp && g++ main.o /usr/lib/x86_64-linux-gnu/libboost_system.so && ./a.out 
```

`/usr/lib/x86_64-linux-gnu/`是boost库的位置

用于`find /usr/ -name '*boost*.so'`查找 boost 库位置

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2018-10-08T19:57:19.853

> g++ -lboost_system -lboost_filesystem userentry.cpp -o userentry

在debian下完美运行。（使用 apt-get 安装的 boost c++ 库）。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2019-04-19T17:23:02.090

在测试了上述建议的解决方案后，我发现只有这几行可以工作。

我正在使用 Ubuntu 16.04。

cmake_minimum_required（版本 3.13）
项目（myProject）

设置（CMAKE_CXX_STANDARD 11）
add_executable（myProject main.cpp）

find_package(Boost 1.58.0 REQUIRED COMPONENTS system filesystem)
target_link_libraries(myProject ${Boost_LIBRARIES})

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2021-11-08T21:38:45.270

在我的项目中，我更喜欢使用仅标头库。所以上面没有任何帮助。真正有帮助的是：

```
add_definitions(-DBOOST_SYSTEM_NO_DEPRECATED) 
```

# java - 安卓自定义锁屏密码

> ID：13467075
> 
> 赞同：0
> 
> 时间：2012-11-20T05:25:13.897
> 
> 标签：java, android, variables, locking, screen

我正在为 android 创建一个锁屏应用程序，但是当输入正确的密码时，我无法让活动完成。该代码仅在密码为一个字符时才有效；否则，它不会解锁。我认为这与我如何修改全局变量有关。

这是我用来测试的代码。它应该通过按顺序触摸两个文本视图来解锁，但没有。

```
public class LockScreen extends Activity implements OnClickListener {

String password = "cd";
String guess;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.lock_layout);

    TextView c = (TextView) findViewById(R.id.c);
    TextView d = (TextView) findViewById(R.id.d);

    c.setOnClickListener(this);
    d.setOnClickListener(this);

}

public void onClick(View v) {

    switch(v.getId()) {
    case R.id.c:
        if (guess == null) {
            guess = "c";
        } else {
            guess += "c";
        }
        break;
    case R.id.d:
        if (guess == null) {
            guess = "d";
        } else {
            guess += "d";
        }
        break;
    }

    if (guess == password) {
        finish();
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T05:27:15.403

**-**使用`equals()`方法进行比较。

**-**在**Java** `Objects`中使用`equals()`方法进行比较，并且`String`是一个对象，因此它也应该遵循与对象相同的趋势。

**-** `==`用于查看 2 个或更多`Object Reference Variables`是否指向同一个对象或不在堆上。

**-**只是一条建议，它总是更好地使用`char[]`（即字符数组）来存储密码而不是`String`.

**例如：**

```
if (guess.equals(password)){

} 
```

# asp.net - 使用带有多个工作表的 ASP.NET 将 HTML 表导出到 Excel

> ID：13467076
> 
> 赞同：1
> 
> 时间：2012-11-20T05:25:21.223
> 
> 标签：asp.net, html, export-to-excel

我有两个不同的 html 表。

现在我想将这两个 html 表导出到具有两个不同工作表（即工作表）的单个 excel 工作表。例如，表 1 将是一张表，而表 2 将在另一张表中。但是这两张表都只会出现在一个 Excel 文件中。

我没有使用任何网格视图或数据视图。

我不想将 Excel 文件保存在服务器上。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T06:09:56.160

以下方法是将html中的所有内容导出到excel的简单解决方案：

```
Response.Clear();     
Response.Buffer = true;     
Response.AppendHeader("Content-Disposition","attachment;filename="+DateTime.
Now.ToString("yyyyMMdd")+".xls");           
Response.ContentEncoding = System.Text.Encoding.UTF8;   
Response.ContentType = ""application/ms-excel";;   
this.EnableViewState = false; 
```

您需要导出不同的 html 表，您可以先将 html 表保存在两个 excel 文件中，然后使用将所有数据合并到一个具有不同工作表的 excel 中。

您可以在此处查看详细信息： [将数据导出到 Excel for ASP.NET](http://www.codeproject.com/Articles/164582/8-Solutions-to-Export-Data-to-Excel-for-ASP-NET)

# ubuntu - 使用 ubuntu CLI，任何替代 SCREEN 命令

> ID：13467081
> 
> 赞同：1
> 
> 时间：2012-11-20T05:26:00.583
> 
> 标签：ubuntu, command-line-interface, putty

当我开始在腻子中使用命令时，无论何时或被击中`screen`，腻子窗口都会开始闪烁。`backspace``tab`

另外，我想像在 GUI 中那样使用多个终端，那么有什么可以在 ubuntu CLI 中使用的类似于 screen 命令的东西吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-06T12:11:23.410

我建议调查`tmux`，它与标准包非常相似，`screen`但提供了一些标准`screen`包中没有的额外功能（例如垂直分屏）。据报道，它比资源消耗少得多`screen`

可以在此处找到快速教程：http: [//blog.hawkhost.com/2010/06/28/tmux-the-terminal-multiplexer/](http://blog.hawkhost.com/2010/06/28/tmux-the-terminal-multiplexer/)

# c# - 使用时间跨度作为字典中的键？

> ID：13467088
> 
> 赞同：1
> 
> 时间：2012-11-20T05:26:35.317
> 
> 标签：c#, dictionary, key-value

我有以下代码。它没有向字典中添加新的键值....怎么了？

```
while(true)
{
TimeSpan t = // some timespan which is updating every second
int value =  // some value associated with timespan

Dictionary<TimeSpan,int> _dict = new Dictionary<TimeSpan,int>();
_dict.Add(t,value);
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T05:39:36.623

问题是每次循环执行时您都在实例化一个全新的字典

试试这个：

```
Dictionary<TimeSpan,int> _dict = new Dictionary<TimeSpan,int>();
while(true)
{
       TimeSpan t = // some timespan which is updating every second
       int value =  // some value associated with timespan
       _dict.Add(t,value);
} 
```

作为旁注，仅使用总经过的滴答声或毫秒作为键而不是时间跨度对象可能更有意义

# jquery - 脚本应该只在离开页面时运行

> ID：13467096
> 
> 赞同：0
> 
> 时间：2012-11-20T05:27:08.883
> 
> 标签：jquery

我有一个表单，我们可以在单击编辑按钮时对其进行编辑。在这样做时，我使用以下脚本在离开页面之前显示错误消息。它在计时或离开页面时显示错误消息。但问题是在保存它提交到其他页面的表单时，它也显示了警告消息。我想在提交表单时删除错误消息。脚本是

```
function updateNew(value) {
     $(window).bind('beforeunload', function(){
              return 'Are you sure you want to leave?';
        });
}

<a href="#" onclick="updateNew({$ad_details[customer].id});"> Edit</a> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T05:33:14.070

做一个像这样的全局变量

```
var Updated=false; 
```

然后在你的函数中检查那个变量值

```
function updateNew(value) {
     $(window).bind('beforeunload', function(){
           if(Updated==false)
           {   
             return 'Are you sure you want to leave?';
           } 
       });
} 
```

提交表单时首先将值设置`Updated`为。`true`这将为您解决问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T05:33:56.603

希望这可以帮助

```
 <a id="edit_but" href="#" onclick="updateNew({$ad_details[customer].id});"> Edit</a>

    $('#edit_but').click(function(){

    $(window).unbind('beforeunload');

    }); 
```

# android - 如何使用 android 视图的 IsDirty() 属性

> ID：13467100
> 
> 赞同：5
> 
> 时间：2012-11-20T05:27:23.433
> 
> 标签：android, view, android-canvas

我正在使用android3.0 开发应用程序。我需要更新之前绘制的画布。在搜索这个时，我在 Android API 文档中看到了 View 类的“isDirty()”。

但我没有得到太多关于这方面的明确信息。请建议我“如何设置画布的一部分是脏的并只更新那部分？”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-25T18:29:30.607

View 方法`invalidate(…)`将执行此操作。您可以通过不传递任何参数来使整个视图无效，或者将其传递给它`Rect`以使其中的一个区域无效。

# c# - 在哪里可以找到 C# 5 语言规范？

> ID：13467103
> 
> 赞同：38
> 
> 时间：2012-11-20T05:27:29.953
> 
> 标签：c#, c#-5.0, language-specifications

自 2012 年 8 月以来，C# 5.0 现已发布。我在哪里可以找到规范？他们已经停止了 ECMA 规范，但是 MSDN 呢？

* * *

## 回答 #1

> 赞同：66
> 
> 时间：2012-11-20T05:38:22.273

如果您安装了 Visual Studio 2012，您会在某处找到规范：

```
c:\Program Files (x86)\Microsoft Visual Studio 11.0\VC#\Specifications\1033\CSharp Language Specification.docx 
```

与 VS2013 类似：

```
c:\Program Files (x86)\Microsoft Visual Studio 12.0\VC#\Specifications\1033\CSharp Language Specification.docx 
```

VS2015：

```
c:\Program Files (x86)\Microsoft Visual Studio 14.0\VC#\Specifications\1033\CSharp Language Specification.docx 
```

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2013-06-11T13:05:42.777

它最初在网上不可用，但自 2013 年 6 月起[可从 Microsoft 下载](https://ecma-international.org/publications/standards/Ecma-334.htm)。

# vb.net - 在 vb.net 中播放 flash 文件

> ID：13467108
> 
> 赞同：1
> 
> 时间：2012-11-20T05:28:14.303
> 
> 标签：vb.net, winforms, flash

我做了一些研究并想出了这段代码。

```
 AxShockwaveFlash1.Stop()
    AxShockwaveFlash1.Movie = Application.StartupPath & "\RSAppt.swf"
    AxShockwaveFlash1.Play()
    playBtn.Enabled = False 
```

我不知道为什么视频没有播放。我的 RSAppt.swf 文件位于我的项目下的资源（文件夹名称）文件夹中。是路径吗？将它定向到我的 .swf 文件的特定路径的正确方法是什么。有任何想法吗？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:06:31.037

这应该工作得很好。

Dim path As String = Application.Startuppath & "\yourfolder\yourfile.swf"

```
 AxShockwaveFlash1.LoadMovie(0, path)
    AxShockwaveFlash1.Play()
    AxShockwaveFlash1.Loop = False 
```

编码快乐！！

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2014-03-19T10:40:37.717

你需要有：

```
AxShockwaveFlash1.Show() 
```

# email - 从表单提交中排除特定的电子邮件地址

> ID：13467111
> 
> 赞同：1
> 
> 时间：2012-11-20T05:29:08.397
> 
> 标签：email, block, spam-prevention

我对 PHP 完全陌生，我只是想在我的表单中阻止垃圾邮件。我已经想出了如何使用以下代码来做一个蜜罐（url 字段），它可以阻止 90% 的垃圾邮件——但是这个令人讨厌的电子邮件发送者通过了（我们称之为他们`redacted@example.com`）。我想在我的表单中写一行代码，它只是说如果电子邮件字段填写了 text `'redacted@example.com'`，那么不要通过表单。有没有人可以帮我做到这一点？

```
// if the url field is empty
// if(isset($_POST['url']) && $_POST['url'] == ''){

// then send the form to your email
// mail( 'myemail@me.com', 'Contact Form', print_r($_POST,true) );
// }

// otherwise, let the spammer think that they got their message through 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T05:52:17.623

使用此代码

```
if(isset($_POST['url']) && $_POST['url'] == '') {
    if ($_POST['email'] != 'dukang2004@yahoo.com') {
        // then send the form to your email
         mail( 'myemail@me.com', 'Contact Form', print_r($_POST,true) );
    }
} 
```

# java - 单击保存按钮时，AsyncTask 发生错误？

> ID：13467115
> 
> 赞同：0
> 
> 时间：2012-11-20T05:29:27.770
> 
> 标签：java, android, xml-parsing, android-manifest

现在我正在开发android摄影应用程序，我想使用AsyncTask保存图像。首先我想使用onPreExecute（）显示该iam的进度对话框，叠加图像将在doInBackground（）中执行，最后我想保存我将在 onPostExecute() 上编写调用 save() 的图像。但是当单击保存按钮时，它会强制关闭错误说...

```
 This is my logcat file
    11-17 12:33:56.689: E/AndroidRuntime(8753): FATAL EXCEPTION: AsyncTask #1
    11-17 12:33:56.689: E/AndroidRuntime(8753): java.lang.RuntimeException: An error occured while executing doInBackground()
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at android.os.AsyncTask$3.done(AsyncTask.java:200)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:274)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at java.util.concurrent.FutureTask.setException(FutureTask.java:125)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:308)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at java.util.concurrent.FutureTask.run(FutureTask.java:138)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at java.lang.Thread.run(Thread.java:1019)
    11-17 12:33:56.689: E/AndroidRuntime(8753): Caused by: android.view.ViewRoot$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at android.view.ViewRoot.checkThread(ViewRoot.java:3035)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at android.view.ViewRoot.requestLayout(ViewRoot.java:636)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at android.view.View.requestLayout(View.java:8267)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at android.view.View.requestLayout(View.java:8267)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at android.view.View.requestLayout(View.java:8267)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at android.view.View.requestLayout(View.java:8267)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at android.widget.RelativeLayout.requestLayout(RelativeLayout.java:257)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at android.view.View.requestLayout(View.java:8267)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at android.widget.ImageView.setImageDrawable(ImageView.java:322)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at android.widget.ImageView.setImageBitmap(ImageView.java:336)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at com.outthinking.instatext.share.apllyEffect(share.java:145)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at com.outthinking.instatext.share.access$0(share.java:122)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at com.outthinking.instatext.share$AsyncClass.doInBackground(share.java:106)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at com.outthinking.instatext.share$AsyncClass.doInBackground(share.java:1)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at android.os.AsyncTask$2.call(AsyncTask.java:185)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     ... 4 more
    11-17 12:33:56.689: E/AndroidRuntime(8753): [Blue Error Handler] Make Debugging Report file for AsyncTask #1
    11-17 12:33:56.689: E/AndroidRuntime(8753): java.lang.RuntimeException: An error occured while executing doInBackground()
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at android.os.AsyncTask$3.done(AsyncTask.java:200)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:274)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at java.util.concurrent.FutureTask.setException(FutureTask.java:125)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:308)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at java.util.concurrent.FutureTask.run(FutureTask.java:138)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at java.lang.Thread.run(Thread.java:1019)
    11-17 12:33:56.689: E/AndroidRuntime(8753): Caused by: android.view.ViewRoot$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at android.view.ViewRoot.checkThread(ViewRoot.java:3035)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at android.view.ViewRoot.requestLayout(ViewRoot.java:636)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at android.view.View.requestLayout(View.java:8267)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at android.view.View.requestLayout(View.java:8267)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at android.view.View.requestLayout(View.java:8267)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at android.view.View.requestLayout(View.java:8267)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at android.widget.RelativeLayout.requestLayout(RelativeLayout.java:257)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at android.view.View.requestLayout(View.java:8267)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at android.widget.ImageView.setImageDrawable(ImageView.java:322)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at android.widget.ImageView.setImageBitmap(ImageView.java:336)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at com.outthinking.instatext.share.apllyEffect(share.java:145)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at com.outthinking.instatext.share.access$0(share.java:122)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at com.outthinking.instatext.share$AsyncClass.doInBackground(share.java:106)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at com.outthinking.instatext.share$AsyncClass.doInBackground(share.java:1)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at android.os.AsyncTask$2.call(AsyncTask.java:185)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)
    11-17 12:33:56.689: E/AndroidRuntime(8753):     ... 4 more
    11-17 12:33:57.279: E/WindowManager(8753): [WindowManagerImpl.java:290:closeAll()] Activity com.outthinking.instatext.share has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView@40543970 that was originally added here
    11-17 12:33:57.279: E/WindowManager(8753): android.view.WindowLeaked: Activity com.outthinking.instatext.share has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView@40543970 that was originally added here
    11-17 12:33:57.279: E/WindowManager(8753):  at android.view.ViewRoot.<init>(ViewRoot.java:265)
    11-17 12:33:57.279: E/WindowManager(8753):  at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:148)
    11-17 12:33:57.279: E/WindowManager(8753):  at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:91)
    11-17 12:33:57.279: E/WindowManager(8753):  at android.view.Window$LocalWindowManager.addView(Window.java:424)
    11-17 12:33:57.279: E/WindowManager(8753):  at android.app.Dialog.show(Dialog.java:241)
    11-17 12:33:57.279: E/WindowManager(8753):  at com.outthinking.instatext.share$AsyncClass.onPreExecute(share.java:96)
    11-17 12:33:57.279: E/WindowManager(8753):  at android.os.AsyncTask.execute(AsyncTask.java:391)
    11-17 12:33:57.279: E/WindowManager(8753):  at com.outthinking.instatext.share.onClick(share.java:182)
    11-17 12:33:57.279: E/WindowManager(8753):  at android.view.View.performClick(View.java:2485)
    11-17 12:33:57.279: E/WindowManager(8753):  at android.view.View$PerformClick.run(View.java:9080)
    11-17 12:33:57.279: E/WindowManager(8753):  at android.os.Handler.handleCallback(Handler.java:587)
    11-17 12:33:57.279: E/WindowManager(8753):  at android.os.Handler.dispatchMessage(Handler.java:92)
    11-17 12:33:57.279: E/WindowManager(8753):  at android.os.Looper.loop(Looper.java:130)
    11-17 12:33:57.279: E/WindowManager(8753):  at android.app.ActivityThread.main(ActivityThread.java:3737)
    11-17 12:33:57.279: E/WindowManager(8753):  at java.lang.reflect.Method.invokeNative(Native Method)
    11-17 12:33:57.279: E/WindowManager(8753):  at java.lang.reflect.Method.invoke(Method.java:507)
    11-17 12:33:57.279: E/WindowManager(8753):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:894)
    11-17 12:33:57.279: E/WindowManager(8753):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:652)
    11-17 12:33:57.279: E/WindowManager(8753):  at dalvik.system.NativeStart.main(Native Method) 
```

这是我的代码：

```
 public class AsyncClass extends AsyncTask<Void, String, Bitmap> { 
                    private Context context; 
                    ProgressDialog dialog; 

                        public AsyncClass(Context cxt) { 
                            context = cxt; 
                            dialog = new ProgressDialog(context); 
                        } 

                        @Override 
                        protected void onPreExecute() { 
                            dialog.setTitle("Please wait save the image..."); 
                            dialog.show(); 
                        } 

                        @Override 

                        protected Bitmap doInBackground(Void... unused) { 

                            //Bitmap original = getResizedBitmap(ImageViewShow.bitmap_img, sharewidth,shareheight);
                            Bitmap bmp1 = apllyEffect();
                            //if()
                            return bmp1; 
                        } 

                        @Override 
                        protected void onPostExecute(Bitmap bmp) { 
                            String fieName = UUID.randomUUID().toString();   
                            SaveImage(fieName, 100,bmp);
                            dialog.dismiss(); 
                        } 
                    } 
    and save code is...
    private Bitmap apllyEffect() {
                    if(second.frame_bitmap==null)
                    {
                      second.theam_bitmap = BitmapFactory.decodeResource(getResources(), second.current_theam);

                     second.bmOverlay = Bitmap.createBitmap(second.canvas.getWidth(), second.canvas.getHeight(), second.theam_bitmap.getConfig());
                       second.canvas = new Canvas(second.bmOverlay);

                       second.canvas.setBitmap(second.bmOverlay);
                       second.canvas.drawBitmap(second.theam_bitmap, new Matrix(), null);
                       Typeface typeface=stylesapply(second.typefacevalue);
                       share_tv.setTypeface(typeface);
                       share_tv.setTextColor(second.current_color);
                       share_img.setImageBitmap(second.bmOverlay);  
                    }else{
                   second.theam_bitmap= BitmapFactory.decodeResource(getResources(), second.current_theam);
                   second.frame_bitmap = BitmapFactory.decodeResource(getResources(), second.current_frame);
                   second.bmOverlay = Bitmap.createBitmap(second.canvas.getWidth(), second.canvas.getHeight(), second.theam_bitmap.getConfig());
                   second.canvas = new Canvas(second.bmOverlay);
                   second.canvas.setBitmap(second.bmOverlay);
                   second.canvas.drawBitmap(second.theam_bitmap, new Matrix(), null);
                   second.canvas.drawBitmap(second.frame_bitmap, new Matrix(), null);
                   share_tv.setTextColor(second.current_color);
                   share_img.setImageBitmap(second.bmOverlay);
                    }
                    return second.bmOverlay;
                } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T05:34:19.070

您只能从主线程调用 UI 操作。`doInBackground()`使用它自己的线程。处理 AsyncTask 的进度覆盖`onProgressUpdate()`方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T05:33:41.193

看起来您正在尝试从 ASyncTask 执行 UI 操作。您应该只从 和 执行`onPreExecute`UI`onPostExecute`操作`onProgressUpdate`。在 doInBackground 中，您不应直接访问 UI 元素。

检查您在第 106 行的 share.java 中的代码，该代码正在调用第 145 行的内容...

当你这样做

```
share_img.setImageBitmap(...) 
```

这绝对是 UI 操作……你应该把它移到其他地方。还有所有的操作`share_tv`

任一种使用`onProgressUpdate`，如果只是在末尾`doInBackground`，你可以把它移到`onPostExecute`。否则，您也可以使用[runOnUiThread](http://developer.android.com/reference/android/app/Activity.html#runOnUiThread%28java.lang.Runnable%29)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T05:34:50.800

您不能在后台线程中执行 UI 操作。如果你这样做，你会得到一个`android.view.ViewRoot$CalledFromWrongThreadException`.

将您的 UI 操作移至您的`onPostExecute()`方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-20T05:33:29.747

**-** `doInBackground()`方法用于在**非 UI 线程上执行非 UI 工作**，`onPost()`方法用于**在专用 UI​​ 线程上执行 UI 工作**。

**-**我认为您正在尝试对该方法**执行 UI 工作**`doInBackground()`，这导致它失败。

# html - 如何使 div 在列文本上浮动

> ID：13467117
> 
> 赞同：3
> 
> 时间：2012-11-20T05:30:05.680
> 
> 标签：html, css, css-float, multiple-columns

一张图告诉你这件事：

![列化文本上的 div 不浮动](../Images/9296ed25b9c0235007e762fb6e697704.png)

我希望列化的 p 表现得像未列化的 p 并且它是围绕 div 形成的文本。

这里的html：

```
<div>hey, I should float !</div>
<p>Velit porttitor mattis nisi sit magnis nec et nunc pellentesque! Pulvinar est! Nunc massa, dapibus eu etiam ut? Enim eu vut porta scelerisque auctor auctor, integer. Natoque elit? Vel elit nunc nunc? Rhoncus platea tortor, et, velit integer dis, etiam elementum cursus? Ac cum scelerisque! Sit est turpis duis pid scelerisque eu nec lectus. Nascetur mattis.<p>
<hr>
<div>hey, I should float !</div>
<p>Velit porttitor mattis nisi sit magnis nec et nunc pellentesque! Pulvinar est! Nunc massa, dapibus eu etiam ut? Enim eu vut porta scelerisque auctor auctor, integer. Natoque elit? Vel elit nunc nunc? Rhoncus platea tortor, et, velit integer dis, etiam elementum cursus? Ac cum scelerisque! Sit est turpis duis pid scelerisque eu nec lectus. Nascetur mattis.<p> 
```

这是CSS：

```
p:first-of-type{-moz-column-count: 2; -moz-column-gap: 20px; -webkit-column-count: 2; -webkit-column-gap: 20px; column-count: 2; column-gap: 20px;}
p{text-align: justify;}
div{background: #c00;  height: 20px; width: 150px; float: right; margin: 10px; padding: 10px;}​ 
```

我的浮动 div 发生了什么 :'(

这是它的 jsFiddle：http: [//jsfiddle.net/mmYQQ/](http://jsfiddle.net/mmYQQ/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T05:33:04.633

消除

```
p:first-of-type{-moz-column-count: 2; -moz-column-gap: 20px; -webkit-column-count: 2; -webkit-column-gap: 20px; column-count: 2; column-gap: 20px;} 
```

来自 CSS

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-21T09:50:14.563

好的。我想做的实际上是不可能的。[http://www.w3.org/TR/css3-multicol/](http://www.w3.org/TR/css3-multicol/)

但是有可能（也是我真正想做的）是让 img 在列文本中浮动。

```
img{background: #c00;  height: 40px; width: 50px; float:right; margin: 10px;} 
```

参考小提琴：http: [//jsfiddle.net/mmYQQ/6/](http://jsfiddle.net/mmYQQ/6/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T05:52:09.747

看到这个[**Jsfiddle**](http://jsfiddle.net/mmYQQ/2/)

试试这个CSS：

```
p{text-align: justify;}
#media{float:left;width:100%;}
#media .img{float:right;width:30%;background:#f00;color:#fff;margin-left:20px;}
.clearfloat{clear: both;height: 0;font-size: 1px;line-height: 0px;}​ 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-20T05:45:36.267

删除**p:first-of-type{-moz-column-count: 2; -moz-column-gap：20px；-webkit 列数：2；-webkit-column-gap：20px；列数：2；column-gap: 20px;}**来自 css，它使它看起来像两列布局。

# google-chrome - Windows 7 上 Chrome 中径向渐变的像素化渲染

> ID：13467123
> 
> 赞同：4
> 
> 时间：2012-11-20T05:30:39.203
> 
> 标签：google-chrome, css, radial-gradients

作为参考，请参阅这个问题：**[Chrome 径向 css 渐变平滑度](https://stackoverflow.com/questions/10157495/chrome-radial-css-gradient-smoothness)。**

OP 在渐变的平滑度方面遇到了问题，但从讨论看来，这似乎只是在使用 alpha 透明度时。

* * *

这是我正在使用的渐变：

```
div {
    background: radial-gradient(
        #000 30%,
        transparent 30%, transparent 40%,
        #000 40%, #000 60%,
        transparent 60%
    );
} 
```

如您所见，它使用硬停止（所以没有颜色过渡）和没有`rgba`（所以也没有 alpha）。尽管如此，在 Chrome 中（在 Windows 7 上进行了 23 次测试），它仍呈现出极度像素化：

![在此处输入图像描述](../Images/77540f3cff099b93272959300a6f313b.png)

这只是 Chrome 处理这些事情的方式，还是我错过了什么？有什么办法可以使它平滑一点（显然，不使用图像）？

这是小提琴：http: [//jsfiddle.net/wARGc/](http://jsfiddle.net/wARGc/)

* * *

**更新：** [我为此提交了一个错误报告](http://code.google.com/p/chromium/issues/detail?id=162048)。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T13:49:05.523

这是 Chrome 的渲染问题，您可以通过稍微调整形状来自己创建平滑。查看我对您的小提琴的更新

[http://jsfiddle.net/jamestoone/XU7jB/](http://jsfiddle.net/jamestoone/XU7jB/)

```
div {
    width: 100px;
    height: 100px;
    background: radial-gradient(#000 30%, transparent 30%, transparent 40%, #000 40%, #000 60%, transparent 60%);
}

div.new {
    background: radial-gradient(#000000 30%, transparent 32%, transparent 38%, #000000 40%, #000000 60%, transparent 62%) repeat scroll 0 0 transparent;
    height: 100px;
    width: 100px;
} 
```

# jsp - JSP中通过超链接传递参数

> ID：13467126
> 
> 赞同：2
> 
> 时间：2012-11-20T05:30:59.770
> 
> 标签：jsp

我有一个名为的 jsp 页面`Allmeters.jsp`，在此页面中我有`meterid,consumerid`并且`consumername`我正在打开超链接，`meterid`并且我将这个`meterid`值传递给另一个名为的 jsp 页面`meteridinfo.jsp`。

`Allmeters.jsp`包含以下代码，我将meterid值传递给`meteridinfo.jsp`：

```
<tr>
<td align="center" bgcolor="#ededed"><%=SNo%></td><td align="center" bgcolor="#ededed">
<a href="meteridinfosuper.jsp?mid=<%=rs.getInt("meterid")%> & consumerid=<%=rs.getInt("Consumerid")%> & consumername=<%=rs.getString("Consumername")%>">
<%=rs.getInt("Meterid")%></a></td>
<td align="center" bgcolor="#ededed"><%=rs.getInt("Consumerid")%></td>
<td  bgcolor="#ededed"><%=rs.getString("Consumername")%></td>
<td  align="center" bgcolor="#ededed"><%=rs.getInt("LastReading")%></td>
<td align="center" bgcolor="#ededed"><%=checkdate%></td>
<td align="center" bgcolor="#ededed"><%=rs.getTime("Time")%></td>
<td align="center" bgcolor="#ededed"><%=rs.getString("Status")%></td>
<td align="center" bgcolor="#ededed"><%=rs.getString("Subzone")%></td>
<td align="center" bgcolor="#ededed"><%=rs.getString("zone")%></td></tr> 
```

meteridinfo.jsp 包含以下代码来显示我从 allmeter.jsp 获得的meterid 值：

`<tr><td> <input type=hidden name="mid" value="<%=request.getParameter("mid")%>"> <label name="name" value="<%=request.getParameter("mid")%>"><font size="4">Meter ID : <%=request.getParameter("mid")%></font></label></td> </tr>`

在这里，我能够在此页面中获取meterid 值，但问题是如何将 consumerid 和 consumername 传递给meteridinfo.jsp 页面，只有我有meterid 的超链接值。请帮助我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T05:35:46.463

您需要在两个参数示例之间添加一个 & ：

```
<a href="meteridinfosuper.jsp?mid=<%=rs.getInt("meterid")%>&cid=<%=rs.getInt("consumerid")%>&cname=<%=rs.getInt("consumername")%>">
    <%=rs.getInt("Meterid")%>
</a> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T05:37:38.467

```
<a href="meteridinfosuper.jsp?mid=<%=rs.getInt("meterid")%>
  &consumerid=<%=rs.getInt("consumerid")%>&consumername=<%=rs.getInt(
  "consumername")%>"> 
```

# sql - JDBC 中结果集的“Kludge”

> ID：13467130
> 
> 赞同：0
> 
> 时间：2012-11-20T05:31:23.500
> 
> 标签：sql, jdbc, db2, resultset

> **可能重复：**
> [rs.last() 为仅转发结果集提供无效操作：最后](https://stackoverflow.com/questions/9007051/rs-last-gives-invalid-operation-for-forward-only-resultset-last)

因此，我试图了解结果集光标，但显然光标所在的位置存在问题。

我有一个非常小的应用程序，它自动分配一个新的整数 id，这将是数据库的最后一个条目，因此是最高的整数。我正在尝试像这样进入最后一个条目（rs 是结果集），所以我可以使用它的值：

rs.last

然后将 the_new_id 分配给 rs.getInt(1)...

但是，我得到“仅转发结果集的无效操作：最后一个”sql 异常。

现在我有一个很大的“kludge”来完成这项工作：

```
 while(rs.next())
       your_new_id = rs.getInt(1); 
```

然后我就这样分配新的ID。:-\

如何使用 last 更优雅地实现相同的行为？

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T08:05:59.897

默认情况下，结果集是只向前的，这意味着您唯一可以更改光标位置的方法是`next()`（如果您按 ID 降序排序，这就是您所需要的）。

[javadoc](http://docs.oracle.com/javase/6/docs/api/java/sql/ResultSet.html)对此进行了解释：

> 默认的 ResultSet 对象是不可更新的，并且有一个只能向前移动的光标。因此，您只能遍历它一次，并且只能从第一行到最后一行。可以生成可滚动和/或可更新的 ResultSet 对象。下面的代码片段，其中 con 是一个有效的 Connection 对象，说明了如何创建一个可滚动的、对其他人的更新不敏感且可更新的结果集。有关其他选项，请参阅 ResultSet 字段。
> 
> ```
> Statement stmt = con.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE,
>                                      ResultSet.CONCUR_UPDATABLE);
> ResultSet rs = stmt.executeQuery("SELECT a, b FROM TABLE2");
> // rs will be scrollable, will not show changes made by others,
> // and will be updatable 
> ```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T09:22:03.083

显然，您正试图检索上一条`INSERT`语句生成的 ID。您不应该为此使用单独的`SELECT`语句（这不是事务安全的，并且会给数据库带来不必要的负载）。

要检索生成的 ID，请使用以下 JDBC 调用：

```
String insert = "insert into some_table (... ";
PreparedStatement pstmt = con.prepareStatement(insert, new String[] {"ID"});
int rowsInserted = pstmt.executeUpdate();
ResultSet idResult = pstmt.getGeneratedKeys();
int newId = -1;
if (rs.next()) {
  newId = rs.getINt(1);
} 
```

`ID`这将检索在 INSERT 期间为列生成的值。这将比`SELECT`获取最新 ID 更快，但更重要的是它是交易安全的。

# ubuntu - ubuntu 服务器上的 squid 在特定网站的特定时间段内停止工作

> ID：13467136
> 
> 赞同：0
> 
> 时间：2012-11-20T05:31:54.333
> 
> 标签：ubuntu, proxy, squid

我为大约 210 个用户新设置了一个代理服务器。它运行 ubuntu server 2012 和 squid3。问题是在凌晨 1:30 之后，如果用户尝试打开 google.com、youtube.com、facebook.com 或 wikipedia.org，连接会超时。但当时服务器可以很好地 ping 这些站点。甚至，如果我们 telnet 到该站点并发送 GET，它会将 HTML 代码转储到终端中。以前的 ubuntu 桌面版本在那里，并且在短时间内使用终止网络管理器来解决它。所以看起来网络管理员正在干扰其他进程。但是对于服务器版本，没有 GUI 网络管理器。所以我对这个问题一无所知。可能是什么原因？如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-25T08:43:17.813

好的，最后我想我已经解决了这个问题。我的 isp 的 ipv6 寻址设计似乎有问题，因为在指定的时区我无法 ping6 到 google 的 ipv6，但 ipv4 工作正常。因此我所做的在 squid.conf 中明确提到更喜欢 ipv4 而不是 ipv6。这似乎解决了这个问题。谢谢大家的时间。详情请查看以下网址 [squid3 无法访问 google.com 或 bing.com](https://stackoverflow.com/questions/12633884/squid3-cant-access-google-com-or-bing-com)

# facebook - 为什么 facebook FB.Event.subscribe 不起作用？

> ID：13467139
> 
> 赞同：1
> 
> 时间：2012-11-20T05:32:08.950
> 
> 标签：facebook, facebook-graph-api, facebook-like

我开发了一个网页如下，请你帮我解释为什么这段代码不起作用？

当我喜欢该页面时， FB.Event.subscribe('edge.create' 中的警报不显示！？

[http://www.mandanemedia.com/freelancer/](http://www.mandanemedia.com/freelancer/)

```
<div >
  <div id='subscribe' style='padding:10px; background:#fff;'>
    <center>
      <img src="fbbutton.jpg" style="width:290px; height:88px;"/>
    </center>
<fb:like-box href="http://www.facebook.com/pages/MandaneMediacom/275554465891715" width="292" show_faces="true" border_color="#fff" stream="false" header="false"></fb:like-box>
    </center>
  </div>
</div>
<div id="fb-root"></div>
</body>
<script type="text/javascript">
window.fbAsyncInit = function() {
    FB.init({
        appId:'275554465891715',
        status:true,
        cookie: true, 
        xfbml: true 
        });
    FB.Event.subscribe('edge.create', function(response) {
        alert('You liked the URL: ' + response);
    });
  };
(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));

</script> 
```

# javascript - js 样式属性返回样式 css 的空白

> ID：13467142
> 
> 赞同：0
> 
> 时间：2012-11-20T05:33:04.583
> 
> 标签：javascript, jquery, css

我想将 div 的 css 属性用于我的 js 条件语句。

我有这个 css 代码：

```
div.desc{
   position:relative;
   top:0px;
   left:0px;
} 
```

现在，我想在我的 js 中使用它，所以我尝试提醒顶部。

```
alert(document.getElementsByClassName('desc')[0].style.top) 
```

但我得到了空白回报。

我的代码做错了吗？或者我可以使用 js 获取 div 类 desc 的 css 属性？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T05:36:43.853

你可以用jquery来做。

```
alert($('.desc').eq(0).css('top')); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T05:37:46.583

具有该类的第一个项目是否`desc`设置了样式顶部？如果不是，它是继承或推断的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T05:38:48.950

你可以像这样得到它

```
var el = document.getElementsByClassName('desc')[0];
var comp = el.currentStyle || getComputedStyle(el, null);
alert( comp.top ); 
```

[演示](http://jsfiddle.net/42Uw8/)

​</p>

# html - 我想知道当用户登录而不是管理员时如何在 html 页面中隐藏特定对象

> ID：13467144
> 
> 赞同：0
> 
> 时间：2012-11-20T05:33:10.637
> 
> 标签：html, object, hide, admin

例子

```
<body>
    <a href="settings.htm">Admin Settings</a>
</body> 
```

如何向用户隐藏此链接？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T05:44:05.583

您如何区分站点中的普通用户和管理员。如果您使用 php 作为服务器端脚本。登录后将用户类型保存在数据库或会话中。

```
<body>
<?php if($usertype =="admin"){ ?>
<a href="settings.htm">Admin Settings</a>
<?php } ?>
</body> 
```

问候

iijb

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-20T05:42:19.810

如果它是管理员，则使用设置为 true 的标志，如果此链接为 false 或 true，则根据标志设置可见性

# python - 如何遍历嵌套循环并枚举

> ID：13467147
> 
> 赞同：2
> 
> 时间：2012-11-20T05:33:20.803
> 
> 标签：python, list, loops, if-statement, nested-loops

我的嵌套循环有问题。我得到了一个输出，但它为我的数据集中的字段数复制了每个输出。

```
for dat in data_body:
    x = float(dat[5])
    y = float(dat[6])
    point = ogr.Geometry(ogr.wkbPoint)
    point.AddPoint(x,y)
    feature.SetGeometry(point)
    for i, d in enumerate(dat):
        for j, field in enumerate(new_fields):
            if i == j:
                feature.SetField(field, d)
                layer.CreateFeature(feature) 
```

对于我的数据集，列表列表`data_body`有 13 行数据和 55 列（即 55 个位置）。对于我的列表`new_fields`，我有 55 个值，它们对应于`data_body`列表列表的列。因此，在我的 object 代码块中`feature.SetField(field, d)`。我应该让 data_body 的每个值对应于每个唯一字段，只要行相互匹配，即`i`和`j`. 但是，与其取回一个包含 13 行数据的对象，这些数据对应于`new_fields`. 我得到 13 * 55 个值，即 715 行，其中大约 50% 的数据缺少值。我的输出数据表有点像一个三角形的数据。

我不确定我的问题是否有意义，但如果确实如此，对我的嵌套循环策略的任何帮助都会有所帮助。我认为我的问题是我对循环实际在做什么以及我的`if`陈述可能在做什么的概念化。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T05:58:11.480

正如 avasal 所说，您想同时迭代 dat 和 new_fields，最简单的方法是使用`zip`：

```
for d, field in zip(dat, new_fields):
    feature.SetField(field, d)
    layer.CreateFeature(feature) 
```

# c# - 从 bytearray / blobColumn c# 中删除 NUL

> ID：13467153
> 
> 赞同：0
> 
> 时间：2012-11-20T05:33:49.273
> 
> 标签：c#, ssis, bytearray

我的目标是将一个长字符串输出到 SSIS 脚本组件中的 BlobColumn (Text) 中，这是执行此操作的代码。

```
byte[] blobdata = GetBytes(notes.Substring(0, (notes.Length < 16000 ? notes.Length : 16000)));
blobdata = blobdata.SkipWhile(x => x == 0).ToArray(); //Remove the nulls?
Row.SCNotes.AddBlobData(blobdata); 
```

当我在记事本++中打开已将此字段输出到的文件时，它看起来像这样

原始字符串：abc

输出：a[nul]b[nul]c[nul]

我对代码做错了吗？我怎样才能不输出空值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T00:26:08.240

知道了。C# 中的字符串存储为导致此问题的 utf16

```
byte[] blobdata = Encoding.UTF8.GetBytes(strNotes); 
```

通过转换为 utf8 来解决它，它删除了每个字符之间的空值。

# wpf - 检测 wpf 中的 * 按键

> ID：13467154
> 
> 赞同：0
> 
> 时间：2012-11-20T05:33:51.537
> 
> 标签：wpf, c#-4.0

我试过检查 OEM 8，如果按键是 shift，但这不起作用。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T07:44:47.863

Key.OemMultiply 用于数字小键盘

另一个是 Key.D8 并检查 e.Keyboard.Modifiers == ModifierKeys.Shift

专业提示：在您的密钥处理程序中放置一个断点，以亲自查看您要处理的密钥。

# android - Android 4.2 staledata 中的光标行为发生了变化

> ID：13467158
> 
> 赞同：1
> 
> 时间：2012-11-20T05:34:15.170
> 
> 标签：android, sqlite, cursor

我有一个应用程序在 2.1 之后的所有版本的 android 上都可以正常工作，但在 android 4.2 上已经停止工作。

应用程序持有对 Application 中游标的引用，并在 onTerminate 调用中关闭游标。游标只填充一次来自 SQLite 数据库的数据，该数据库在应用程序中也保持打开状态，直到 onTerminate。

光标中的数据永远不会改变，但它用于填充具有覆盖的值数组的 viewpager，以更改 viewpager 中数据的位置。

错误如下：

> 11-19 05:29:20.600: E/AndroidRuntime(993): 致命异常: main 11-19 05:29:20.600: E/AndroidRuntime(993): android.database.StaleDataException: Attempting to access a closed CursorWindow.Most可能的原因：在调用此方法之前，游标已停用。11-19 05:29:20.600: E/AndroidRuntime(993): 在 android.database.AbstractWindowedCursor.checkPosition(AbstractWindowedCursor.java:139) 11-19 05:29:20.600: E/AndroidRuntime(993): 在 android. database.AbstractWindowedCursor.getString(AbstractWindowedCursor.java:50) 11-19 05:29:20.600: E/AndroidRuntime(993): at com.ololifepty.wildlife.ReorderingCursorWrapper.getString(ReorderingCursorWrapper.java:71) 11-19 05: 29:20.600: E/AndroidRuntime(993): 在 com.ololifepty.wildlife.AnimalPageCursorAdapter.instantiateItem(AnimalPageCursorAdapter.java:128) 11-19 05:29:20.600:

光标似乎正在关闭，但我不知道为什么。如果有人能指出我正确的方向，我会非常感激，因为模拟器的调试速度非常慢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T06:11:16.897

检查[文档](http://developer.android.com/reference/android/app/Application.html#onTerminate%28%29)_`onTerminate`

它永远不会在真实设备中调用，它仅在模拟器上使用。

# ios - 无法从 iOS 发送 facebook apprequest，因为 FBSession.activeSession.isOpen 给出 false

> ID：13467159
> 
> 赞同：0
> 
> 时间：2012-11-20T05:34:16.360
> 
> 标签：ios, facebook, request

我的应用程序只能在用户登录 facebook 的第一次运行期间发送应用程序请求。重新启动应用程序后，应用程序请求将停止，因为 FBSession.activeSession.isOpen 给出错误。

虽然 FBSession.activeSession.isOpen 给出了 false ，但应用程序仍然可以执行其他操作，例如发帖、获取好友列表等。只是它不能发送应用程序请求。而且它仍然有一个有效的访问令牌。

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T10:39:59.640

你说“FBSession.activeSession.isOpen 给出错误”，但是，为了确定：你什么时候运行这个测试？当您对登录请求的调用返回时，或者在异步请求的回调中？

如果它在请求的回调之外完成，它可能会说会话尚未打开。然后，请求正确返回，这意味着对另一个 FB 请求的任何进一步调用都会成功。

这有帮助吗？

如果没有，也许可以对您的代码进行概述。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-03T14:02:23.770

好的，在您对上一个答案的评论旁边：

是的，这就是你已经说过的。但是在你的代码中，你在哪里检查 isOpen？要期望一个适当的值，它应该是这样的：

```
FBSession openActiveSessionWithReadPermissions:_readPerms allowLoginUI:YES completionHandler:^(FBSession *session, FBSessionState status, NSError *error) {

        // here is the proper place to check the isOpen boolean, and to go on with your program, including the app request
    }];

// not the proper place to check isOpen. 
```

这有帮助吗？

# android - Android 将多个图像保存到 SD 卡

> ID：13467161
> 
> 赞同：2
> 
> 时间：2012-11-20T05:34:32.580
> 
> 标签：android, bitmap, storage, android-sdcard, android-image

我是 Android 和 Java 的新手。我一直在处理我的任务，即图像下载器。我必须在哪里下载带有进度条的图像并在网格视图中显示它们。我创建了两个类 1\. URLImageAdapter 2\. CacheActivity。一切正常，但**现在我想将这些图像保存到 SD 卡。**我一直在寻找应该进行哪些方法和更改？有什么帮助吗？谢谢你。**我在 Android 清单文件中添加了权限。**

```
public class URLImageAdapter extends BaseAdapter {

private class Image {
    String url;
    Bitmap thumb;
}

private Image[] images;
private Context myContext;
public LoadThumbsTask thumbnailGen;
private Object previousList;

public URLImageAdapter(Context c) {
    myContext = c;
    thumbnailGen = new LoadThumbsTask();

    if (previousList != null) {
        images = (Image[]) previousList;
        thumbnailGen.execute(images);
        return;
    }

    images = new Image[imageURLs.length];

    for (int i = 0, j = imageURLs.length; i < j; i++) {
        images[i] = new Image();
        images[i].url = imageURLs[i];
    }

    thumbnailGen.execute(images);

}

public int getCount() {
    return images.length;
}

public Object getItem(int position) {
    return images[position].url;
}

public long getItemId(int position) {
    return position;
}

public Object getData() {
    if (thumbnailGen != null
            && thumbnailGen.getStatus() != AsyncTask.Status.FINISHED) {
        thumbnailGen.cancel(true);
    }

    return images;
}

public View getView(int position, View convertView, ViewGroup parent) {

    ImageView imgView;

    Image cached = images[position];

    if (convertView == null) {

        imgView = new ImageView(myContext);
        imgView.setLayoutParams(new GridView.LayoutParams(100, 100));

    } else {

        imgView = (ImageView) convertView;

    }

    if (cached.thumb == null) {

        imgView.setImageResource(R.drawable.ic_action_search);
        imgView.setScaleType(ScaleType.CENTER);

    } else {

        imgView.setScaleType(ScaleType.FIT_CENTER);
        imgView.setImageBitmap(cached.thumb);

    }

    return imgView;
}

private void cacheUpdated() {
    this.notifyDataSetChanged();
}

private Bitmap loadThumb(String url) {

    Bitmap thumb = null;

    BitmapFactory.Options opts = new BitmapFactory.Options();
    opts.inSampleSize = 4;

    try {

        URL u = new URL(url);
        URLConnection c = u.openConnection();
        c.connect();

        BufferedInputStream stream = new BufferedInputStream(
                c.getInputStream());

        thumb = BitmapFactory.decodeStream(stream, null, opts);

        stream.close();

    } catch (MalformedURLException e) {
        Log.e("ERROR", "malformed url: " + url);
    } catch (IOException e) {
        Log.e("ERROR", "An error has occurred downloading the image: "
                + url);
    }

    return thumb;
}

private class LoadThumbsTask extends AsyncTask<Image, Void, Void> {

    /*private ProgressDialog dialog;
      @Override
        protected void onPreExecute() {
        this.dialog = ProgressDialog.show(myContext, "Please wait",
            "Downloading.....", true);
                }

            @Override
            protected void onPostExecute(Void unused) {
    //Intent for next activity
     this.dialog.dismiss();
    }*/

    @Override
    protected Void doInBackground(Image... cache) {

        BitmapFactory.Options opts = new BitmapFactory.Options();
        opts.inSampleSize = 4;

        for (Image i : cache) {

            if (isCancelled())
                return null;

            if (i.thumb != null)
                continue;

            SystemClock.sleep(500);

            i.thumb = loadThumb(i.url);

            publishProgress();
        }

        return null;

    }

    @Override
    protected void onProgressUpdate(Void... param) {
        cacheUpdated();
    }
}

private String[] imageURLs = {
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_2851.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_2944.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_2989.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3005.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3012.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3034.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3047.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3092.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3110.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3113.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3128.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3160.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3226.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3228.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3251.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3268.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3275.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3346.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3365.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3374.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3385.jpg",
        "http://cdn.cs76.net/2011/spring/lectures/6/imgs/img_3392.jpg", };
 } 
```

> 缓存活动

```
public class CacheActivity extends Activity {

Button btnStartProgress;
ProgressDialog progressBar;
private int progressBarStatus = 0;
private Handler progressBarHandler = new Handler();
private GridView gridview;
private long fileSize = 0;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_cache);
     gridview = (GridView) findViewById(R.id.grid_view);
     addListenerOnButton();
}

public void addListenerOnButton() {

    btnStartProgress = (Button) findViewById(R.id.btnStartProgress);
    btnStartProgress.setOnClickListener(new OnClickListener() {

        public void onClick(View v) {

            progressBar = new ProgressDialog(v.getContext());
            progressBar.setCancelable(true);
            progressBar.setMessage("File downloading ...");
            progressBar.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);
            progressBar.setProgress(0);
            progressBar.setMax(100);
            progressBar.show();

            progressBarStatus = 0;

            fileSize = 0;

            new Thread(new Runnable() {
                public void run() {
                    while (progressBarStatus < 100) {

                        progressBarStatus = doInBackground();

                        try {
                            Thread.sleep(7500);
                        } catch (InterruptedException e) {
                            e.printStackTrace();
                        }

                        progressBarHandler.post(new Runnable() {
                            public void run() {
                                progressBar.setProgress(progressBarStatus);
                            }
                        });
                    }

                    if (progressBarStatus >= 100) {

                        try {
                            Thread.sleep(450);
                        } catch (InterruptedException e) {
                            e.printStackTrace();
                        }

                        progressBar.dismiss();

                    }
                }
            }).start();
            try {
                gridview.setAdapter(new URLImageAdapter(CacheActivity.this));
            } catch (Exception e) {
                e.printStackTrace();
            }
        }

    });

}

public int doInBackground() {

    while (fileSize <= 1000000) {

        fileSize++;

        if (fileSize == 100000) {
            return 10;
        } else if (fileSize == 200000) {
            return 20;
        } else if (fileSize == 300000) {
            return 30;
        }else if (fileSize == 400000) {
            return 40;
        }else if (fileSize == 500000) {
            return 50;
        }else if (fileSize == 600000) {
            return 60;
        }else if (fileSize == 700000) {
            return 70;
        }else if (fileSize == 800000) {
            return 80;
        }else if (fileSize == 900000) {
            return 90;
        }

    }

    return 100;

}

 } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T06:38:12.753

在 getView() 下面调用这个方法

```
 imgView.setScaleType(ScaleType.FIT_CENTER);
        imgView.setImageBitmap(cached.thumb);
        saveDataInSdCard(cached.thumb,position);

private void saveDataInSdCard(Bitmap bt,int i) {
    OutputStream fOut = null;
    Uri outputFileUri;
    try {
        File root = new File(Environment.getExternalStorageDirectory()
                + File.separator + "urFlodername" + File.separator);
        root.mkdirs();
        sdImageMainDirectory = new File(root,i+"myPicName.jpg");
        outputFileUri = Uri.fromFile(sdImageMainDirectory);
        fOut = new FileOutputStream(sdImageMainDirectory);
    } catch (Exception e) {

    }

    Bitmap bm =bt;
    try {
        bm.compress(Bitmap.CompressFormat.PNG, 100, fOut);
        fOut.flush();
        fOut.close();
    } catch (Exception e) {
    }       

}

 add permission    
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T06:08:50.987

基本上，您已将下载的图像加载到位图中。这样你的大部分工作就完成了。接下来你需要做的是

```
OutputStream fout = null;
                File file = new File(name);
                try {
                    fout = new FileOutputStream(file);
                } catch (FileNotFoundException e) {
                    e.printStackTrace();
                }
                thumb.compress(Bitmap.CompressFormat.JPEG, 100, fout);
                try {
                    fout.flush();
                } catch (IOException e) {
                    e.printStackTrace();
                } finally {
                    fout.close();
                } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T07:37:21.447

[http://negativeprobability.blogspot.in/2011/08/lazy-loading-of-images-in-listview.html](http://negativeprobability.blogspot.in/2011/08/lazy-loading-of-images-in-listview.html)

```
imagecursor = managedQuery(MediaStore.Images.Thumbnails.EXTERNAL_CONTENT_URI, img, null,null, MediaStore.Images.Thumbnails.IMAGE_ID + ""); 
```

上面的链接将帮助您对代码进行一些更好的更改。一个常见的场景是将图像添加到 Listview。例如，如果您正在制作鸡尾酒配方应用程序，您需要在鸡尾酒名称旁边添加一张图片。有时应该从互联网上检索图像，然后显示。不幸的是，这很难做到正确。如果您尝试过，您可能已经注意到性能下降或一些奇怪的故障。在本教程中，我将向您展示如何下载图像并显示它们。我们还将讨论一些陷阱，例如回收和并发。

# jquery - 如何将选定的组合框值传递给控制器 并将数据从控制器绑定到使用 jquery 在 mvc3 中查看

> ID：13467165
> 
> 赞同：2
> 
> 时间：2012-11-20T05:35:05.313
> 
> 标签：jquery, asp.net-mvc-3, kendo-ui

我正在使用带有MVC3的asp.net中的html5和kendo ui开发站点我遇到了一个问题，即当组合框选择的值应该传递给模型并且来自数据库的数据应该绑定到视图中的网格时如何发送值

这是视图中的代码

```
<h3>
    Employee Name
</h3>
<input id="comboBox1" />

<h3>
    Employee Details using remote
</h3>
<div id="empgrid"> 
```

```
var dataSource = new kendo.data.DataSource({
    transport: {
        read: "/Home/GetData",
        update: {
            url: "/Products/Update",
            type: "POST"
        },
        destroy: {
            url: "/Products/Destroy",
            type: "POST"
        },
        create: {
            url: "/Products/Create",
            type: "POST"
        }
    },

    schema: {
        model: {
            id: "eid",
            fields: {
                eid: {
                    //this field will not be editable (default value is true)
                    editable: false,
                    // a defaultValue will not be assigned (default value is false)
                    nullable: true
                },
                ename: {
                    validation: { //set validation rules
                        required: true
                    }
                },
                age: {
                    //data type of the field {Number|String|Boolean} default is String
                    type: "number",
                    validation: {
                        required: true,
                        min: 25
                    }
                },
                salary: {
                    type: "long",
                    validation: {
                        min: 5000
                    }
                }
            }
        }
    },
    // determines if changes will be send to the server individually or as batch
    batch: true
    //...
});

$(document).ready(function () {

    $("#comboBox1").kendoComboBox({
        index: 0,
        dataTextField: "ename",
        dataValueField: "eid",
        filter: "contains",
        dataSource: {
            type: "json",
            serverFiltering: true,
            serverPaging: true,
            pageSize: 5,
            transport: {
                read: "Home/GetData"
            }
        }
    });

    $("#empgrid").kendoGrid({
        pageable: true,
        toolbar: ["create", "save", "cancel"],
        editable: true,
        dataSource: dataSource,
        columns: [

                  { title: 'Employee Id', field: 'eid', width: '35%', sortable: true },
                  { title: 'Employee Name', field: 'ename', width: '45%', flex: 1, sortable: true },
                  { title: 'Age', field: 'age', width: '25%', flex: 1, sortable: true },
                  { title: 'Salary', field: 'salary', width: '45%', flex: 1, sortable: true }

                  ],
        sortable: true
    });

        $("#get").click(function () {
            var customDataListId = $("#comboBox1").data("kendoComboBox");
            $.getJSON('<%= Url.Action("PutData", "Grid")%>', { eid: ""+customDataListId.text()+"" }, function (result) {
                var customDataList = $('#empgrid');
                customDataList.empty();
                customDataList.append(result.PutData);
            });
            alert(customDataListId.text());
        }); 
```

});

在控制器中，以下代码

```
 public ActionResult Index()
    {
        var products = new Movie().GetData();

        ViewData["products"] = products;

        return View();

    }

    [AcceptVerbs(HttpVerbs.Get)]
    public JsonResult GetData()
    {
        var emp = new Movie().GetData();
        return Json(emp, JsonRequestBehavior.AllowGet);
    }

    [HttpPost]
    public ActionResult PutData(string ename)
    {
        var emp = new Movie().PutData(ename);
        return Json(emp, JsonRequestBehavior.AllowGet);
    } 
```

在模型中，以下代码

```
 DataTable Datatable = new DataTable();
    DataSet Dataset = new DataSet();

    public List<EmpPro> PutData(string ename)
    {
        string str = "Data Source=HARAVEER-PC\\SQLEXPRESS;Initial Catalog=Examples;Integrated Security=true";
        SqlConnection connection = new SqlConnection(str);
        SqlCommand command = connection.CreateCommand();
        command.CommandText = "select * from Emp where eid="+ename;
        SqlDataAdapter sda = new SqlDataAdapter();
        sda.SelectCommand = command;
        DataSet ds = new DataSet();
        try
        {
            connection.Open();
            sda.Fill(ds);

            List<EmpPro> objlist = new List<EmpPro>();

            for (int i = 0; i < ds.Tables[0].Rows.Count; i++)
            {
                EmpPro objemp = new EmpPro();
                objemp.eid = Convert.ToInt32(ds.Tables[0].Rows[i]["eid"]);
                objemp.ename = ds.Tables[0].Rows[i]["ename"].ToString();
                objemp.age = Convert.ToInt32(ds.Tables[0].Rows[i]["age"]);
                objemp.salary = Convert.ToInt64(ds.Tables[0].Rows[i]["salary"]);
                objlist.Add(objemp);
            }

            //return ds.Tables[0];
            return objlist;
        }
        catch
        {
            return null;
        }
        finally
        {
            if (connection.State != ConnectionState.Closed)
                connection.Close();
        }
    }

    public List<EmpPro> GetData()
    {
        //string str = "Data Source=(local);Initial Catalog=Student;Persist Security Info=True;Integrated Security=SSPI";
        string str = "Data Source=HARAVEER-PC\\SQLEXPRESS;Initial Catalog=Examples;Integrated Security=true";
        SqlConnection connection = new SqlConnection(str);
        SqlCommand command = connection.CreateCommand();
        command.CommandText = "select * from Emp";
        SqlDataAdapter sda = new SqlDataAdapter();
        sda.SelectCommand = command;
        DataSet ds = new DataSet();
        try
        {
            connection.Open();
            sda.Fill(ds);

            List<EmpPro> objlist = new List<EmpPro>();

            for (int i = 0; i < ds.Tables[0].Rows.Count; i++)
            {
                EmpPro objemp = new EmpPro();
                objemp.eid = Convert.ToInt32(ds.Tables[0].Rows[i]["eid"]);
                objemp.ename = ds.Tables[0].Rows[i]["ename"].ToString();
                objemp.age = Convert.ToInt32(ds.Tables[0].Rows[i]["age"]);
                objemp.salary = Convert.ToInt64(ds.Tables[0].Rows[i]["salary"]);
                objlist.Add(objemp);
            }

                //return ds.Tables[0];
            return objlist;
        }
        catch
        {
            return null;
        }
        finally
        {
            if (connection.State != ConnectionState.Closed)
                connection.Close();
        }
    }
}

public class EmpPro
{
    public int eid { get; set; }
    public string ename{get;set;}
    public int age{set;get;}
    public long salary { set; get; }
} 
```

请帮帮我

谢谢并恭祝安康

* * *

# vb.net - 将平均值（十进制）转换为年、月和日

> ID：13467167
> 
> 赞同：0
> 
> 时间：2012-11-20T05:35:27.990
> 
> 标签：vb.net, reporting-services, ssrs-2008, ssrs-expression

我一直在做一些计算并且能够找到我的解决方案，但我想回去将我`average(587.3)`转换成年、月和日。我正在使用 (ssrs 2008) 进行报告。我必须`avg(Fields!XXX.Value)`计算文本框中的平均值。对不起我的英语，因为这是我的第二语言

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T07:36:44.717

如果您真的有“天数”，那么您不需要考虑闰年等，因为这个（天数）并不是指“日期”。您可以选择 360d/y 和 30d/m，因为它通常在财务计算中完成。

# javascript - 如何将图像发布到用户的墙上？

> ID：13467168
> 
> 赞同：0
> 
> 时间：2012-11-20T05:35:29.957
> 
> 标签：javascript, facebook

```
function publish(){
  var wallPost = {
    message : "testing...",
    picture: "http://seho.woto.net/fb/cordova_bot.png"
  };
  FB.api('/me/feed', 'post', wallPost , function(response) {
    if (!response || response.error) {
      alert('Error occured');
    } else {
      alert('Post ID: ' + response);
    }
  });
} 
```

当我使用上述功能发布到墙上时，帖子显示如下：

![在此处输入图像描述](../Images/6cd50fc67f5534eab6f0f7bfb42a0119.png)

但我想要的是这样的：

![在此处输入图像描述](../Images/bce92311d6c8b344ae18974c29f2c3ca.png)

所以我想知道如何在消息中添加图像？其他应用程序如何做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T10:32:05.490

You do not want to make a post, but upload a photo to the user’s wall instead: [https://developers.facebook.com/docs/reference/api/user/#photos](https://developers.facebook.com/docs/reference/api/user/#photos)

If you don’t want to do an actual HTTP upload of the photo data (hard to do from JS), but just have Facebook pull the photo from an URL – then use parameter `url` instead of `source`.

# umbraco - 在 Umbraco 中实现琐碎论坛的最简单方法是什么？

> ID：13467169
> 
> 赞同：0
> 
> 时间：2012-11-20T05:35:37.820
> 
> 标签：umbraco

我正在建立一个 Umbraco 站点，并且需要一个*非常*简单的论坛（例如，一个级别的主题，一个用于新条目和回复的简单主题/正文表单，仅此而已）

实现这一点的最简单方法是什么？我认为 nForum 是一个矫枉过正。我应该使用 Umbraco API 进行成员管理和内容创建，还是应该使用我自己的前缀数据库表和自定义后端实现？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T07:45:12.963

对于小型和有限的要求，您当然可以查看 UFORUM，它经过时间考验并且相当不错。

它支持开箱即用的会员资格...

[http://our.umbraco.org/projects/collaboration/uforum-basics](http://our.umbraco.org/projects/collaboration/uforum-basics)

检查一下希望它有帮助。

# java - 将.sql文件导入sqlite数据库

> ID：13467171
> 
> 赞同：5
> 
> 时间：2012-11-20T05:35:40.877
> 
> 标签：java, android, sqlite

我有一个in`.sql`文件。我需要使用此文件将数据插入到我的 Android 应用程序中的数据库中。`insert statements``C:\sqldata\MyData.sql``sqlite``.sql`

我怎么能这样做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T10:18:50.607

首先下载 sqlite 浏览器或等效软件并执行您的 create-insert 语句。然后按照那个[教程](http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/)（这是一个很棒的教程）

# php - PHPExcel 1.7.8 PHPExcel_Writer_Excel5 生成损坏的 xls

> ID：13467178
> 
> 赞同：0
> 
> 时间：2012-11-20T05:36:35.587
> 
> 标签：php, phpexcel

我有一些代码将 Excel 文件作为模板读取并生成 Excel 输出供用户下载。它曾经在 PHP 5.4.7 + PHPExcel 1.7.7 下正常工作。但是，它在升级到 PHPExcel 1.7.8 后开始生成损坏的 *.xls 文件。到目前为止，似乎读者部分很好，但作者却不是。它发生在一些 xls 文件上，而其他文件仍然很好。

这是演示问题的片段：

```
<?php
require_once 'PHPExcel.php';

function testme()
{
    $sFile = 'test.output.xls';

    $objReader = new PHPExcel_Reader_Excel5();
    $obj = $objReader->load('test.tpl.xls');

    # corrupted
    $writer = new PHPExcel_Writer_Excel5($obj);
    $writer->save($sFile);

    # normal
    $writer2 = new PHPExcel_Writer_Excel2007($obj);
    $writer2->save($sFile . 'x');
}

testme(); 
```

有没有人遇到过类似的问题？

ps 我希望我可以在此处附上有问题的 Excel 模板文件。

# javascript - 在对象字面量中定义函数返回

> ID：13467181
> 
> 赞同：3
> 
> 时间：2012-11-20T05:36:44.133
> 
> 标签：javascript

我正在从 Crockford 的书 Javascript: The Good Parts 中学习 javascript。他在那里解释了如何使用闭包来封装信息。例如

```
var myObject = (function () {
    var value = 0;
    return {
        getValue: function () {
            return value;
        }
    };
}()); 
```

如果我正确理解了这一点，那么我们的想法是我们定义了一个返回对象字面量的函数。然后调用此函数来初始化 myObject。但是最外面的括号有什么意义呢？[(f...);]。pair () 还不足以调用我们定义的函数吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-20T05:37:43.460

你是对的; 最外面的括号什么也不做，尽管通常的做法是无论如何都要放它们——它有助于提高可读性。当人们看到像这样用括号括起来的函数时，他们希望它会立即被调用，而如果括号不在那里，一开始它可能并不那么明显。这里只不过是一个视觉提示。

但是，请注意，在某些情况下需要将函数括起来以使其成为*函数表达式*而不是*函数声明*。

例如，以下将**不起作用**：

```
function() {
    // Do something...
}();
// Throws a syntax error. 
```

在这种情况下，你会得到一个语法错误，因为解析器需要一个**函数声明**，而你没有给这个函数命名。此外，您不能立即调用函数声明。您需要括号将其转换为**函数表达式**：

```
(function() {
    // Do something...
})(); 
```

函数声明和函数表达式的区别在于函数声明可用于声明函数，其方式与`var`可用于声明变量的方式相同：

```
// Declare the variable foo.
var foo;

// Declare the function bar.
function bar() {
    // Do something...
} 
```

但是，函数表达式不声明变量。相反，它只是创建一个函数，您可以将其用于某些事情，例如将其分配给变量或仅用于调用。

为了创建一个函数表达式，你只需要以`function`. 如上所示，一种常见的技术是以括号开头。正如您提到的，您还可以从以下内容开始`var something = ...`：

```
var foo = function() {
    return 5;
}();
// foo is now 5 
```

你真的可以用任何可以产生有效表达式的东西来开始它：

```
!function() {
    console.log(1);
}();
// logs 1

~function() {
    console.log(2);
}();
// logs 2

+function() {
    console.log(3);
}();
// logs 3

[ function() {
    console.log(4);
}() ];
// logs 4

'Hello, World' == function() {
    console.log(5);
}();
// logs 5 
```

当然，如果您试图将函数的结果存储在变量中，您将无法使用任何这些模式，因为它们都会与返回值混淆。大多数人坚持将函数包装在括号中，无论它们是否必要，只是为了一致性和可读性。

# c# - 我有一个 Ax By Cz d=0 形式的平面方程。现在使用鼠标点我想在那个平面上绘制。

> ID：13467184
> 
> 赞同：1
> 
> 时间：2012-11-20T05:36:53.603
> 
> 标签：c#, opengl

我有一个 Ax+By+Cz d=0 形式的平面方程。我可以在那个平面上画一个四边形。现在使用鼠标点我想在那个平面上绘制。为此，我试图从鼠标点获得平面上的一个点。为此，我正在从相机向经过该鼠标点的平面发出光线。但是当我试图渲染它时，它并没有定位在正确的位置。

我正在通过这种方式绘制四边形：OpenGL.glPushMatrix();

```
 OpenGL.glMultMatrix(mTransform);

            OpenGL.glColor(Color.FromArgb(60, Color.BlanchedAlmond));

            OpenGL.glPushMatrix();
            Matrix4 transform = Matrix4.Identity;
            Quaternion planeRotation = Vector3.ZAxis.GetRotationTo(mMarkUpPlane.Normal);
            Vector3 planeOrigin = mMarkUpPlane.Normal * -mMarkUpPlane.D;

            transform.Matrix3 = planeRotation.GetRotationMatrix();
            transform.Translation = planeOrigin;
            OpenGL.glMultMatrix(transform);

            const double PlaneWidth = 1500;

            OpenGL.glBegin(OpenGL.GL_QUADS);

            OpenGL.glVertex3d(PlaneWidth, PlaneWidth, 0.0);
            OpenGL.glVertex3d(PlaneWidth, -PlaneWidth, 0.0);
            OpenGL.glVertex3d(-PlaneWidth, -PlaneWidth, 0.0);
            OpenGL.glVertex3d(-PlaneWidth, PlaneWidth, 0.0);

            OpenGL.glEnd();
            OpenGL.glPopMatrix();
            OpenGL.glPopMatrix(); 
```

# jquery - ajax 网络服务

> ID：13467185
> 
> 赞同：1
> 
> 时间：2012-11-20T05:37:00.467
> 
> 标签：jquery, ajax, web-services

我正在尝试使用 ajax 来调用我的网络服务。我已经在我的虚拟机中部署了我的网络服务。

网址：

[http://www.lumiin.ch:8080/lumiin-service/lumiin/control/vprospects](http://www.lumiin.ch:8080/lumiin-service/lumiin/control/vprospects)

**用 Rest 客户端 Jar 试试这个 URL**

```
Method = GET
Key = accept
value = Application/json

**My Code below** 

     $.ajax({
              type: "GET", //GET or POST or PUT or DELETE verb
              url: "http://www.lumiin.ch:8080/lumiin-service/lumiin/control/vprospects", // Location of the service
              data: "", //Data sent to server                           
              contentType: "application/json", // content type sent to server
              dataType: "json", //Expected data format from server
              processdata: true, //True or False
              success: function (data) {//On Successfull service call

              var result = json.name;
                alert("result===" + result);
               $("#dvAjax").html(result);
            },
            error: ServiceFailed// When Service call fails
            });

               return false;
        });

    }); 
```

但是我没有从上面的代码中得到任何响应。请帮我解决这个问题。

雷格的卡西克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T05:58:06.767

似乎它与所做的`JSONP`请求有关`jQuery`。也许它正在寻找`callback=?`

尝试添加这个

```
$.ajax({
   jsonp :false,
   -- other params here--
}); 
```

[http://api.jquery.com/jQuery.getJSON/](http://api.jquery.com/jQuery.getJSON/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T05:58:42.647

您是否尝试过更改此行：

```
var result = json.name; 
```

对此：

```
var result = data.name; 
```

和这个：

```
 error: ServiceFailed 
```

对此：

```
 error: function(){ alert('ServiceFailed');} 
```

试试看这是否能解决您的问题。

# ios - iOS 核心数据瞬态如何工作？

> ID：13467195
> 
> 赞同：2
> 
> 时间：2012-11-20T05:38:02.873
> 
> 标签：ios, core-data, nsmanagedobject, nsmanagedobjectcontext

我正在尝试了解 iOS Core 数据瞬态属性，但无法理解某些行为。

**设置**

我有两个上下文，一个主上下文和一个私有上下文。我称它们为 mainContext 和 threadedContext 。

线程上下文是父上下文，主上下文是子上下文。（我这样做是因为我的线程上下文比我的主线程和 UI 更频繁地更改模型。

我有瞬态属性，我需要通过上下文传递这些属性。

我发现有时我会失去价值，有时我并不依赖于我如何运行事物。

**样本**

此代码已被简化以显示问题。我有一个 Person 对象。Person 对象有一个名为“other”的临时实体，您将看到我为它分配了一个具有几个简单属性的 Other 对象，仅此而已。

```
- (void)case1
{

NSManagedObjectContext *mainThreadContext = [AppDelegate appDelegate].mainThreadContext;
NSManagedObjectContext *threadedContext = [AppDelegate appDelegate].threadedContext;

__block NSManagedObjectID *objectID = nil;

[mainThreadContext performBlockAndWait:^{
    //create
    Person *aPerson = [self createAPersonOnContext:mainThreadContext];

    //setup
    Other *other = [[Other alloc] init];

    aPerson.other = other;

    aPerson.other.favoriteColor = @"Blue";
    aPerson.other.city = @"Provo";

    //save
    NSError *error = nil;
    [mainThreadContext save:&error];

    objectID = aPerson.objectID;

    NSLog(@"%@",aPerson);

}];    
} 
```

当我像这样检索对象时， person.other 属性仍然设置（请注意，我在检索对象后保存：

```
[threadedContext performBlockAndWait:^{
    Person *aPerson = [self getPersonOnContext:threadedContext withID:objectID];

    NSError *threadedError = nil;
    [threadedContext save:&threadedError];

    NSLog(@"threaded %@", aPerson);
}]; 
```

当我像这样检索对象时，person.other 不再设置（请注意，我在检索对象之前保存）

```
[threadedContext performBlockAndWait:^{

    NSError *threadedError = nil;
    [threadedContext save:&threadedError];

    Person *aPerson = [self getPersonOnContext:threadedContext withID:objectID];

    NSLog(@"threaded %@", aPerson);
}]; 
```

我尝试了不同的方法，包括 refreshObject:mergChanges: 我试图观察对象何时出现故障，但这似乎没有帮助。即使当前没有实例化模型对象，瞬态值是否存储在给定的上下文中（假设我已经保存，或者可能没有给出我看到的问题）？

对于那些觉得他们需要更多的人... getPersonOnContext:WithID 方法如下所示：

```
- (Person *)getPersonOnContext:(NSManagedObjectContext *)context withID:(NSManagedObjectID *)ID
{
    __block Person *person = nil;
    [context performBlockAndWait:^{
        person = (Person *)[context objectWithID:ID];
    }];
    return person;
} 
```

createAPersonOnContext: 看起来像这样：

```
- (Person *)createAPersonOnContext:(NSManagedObjectContext *)context
{
    __block Person *person = nil;
    [context performBlockAndWait:^{
        person = (Person *)[NSEntityDescription insertNewObjectForEntityForName:@"Person"
                                                         inManagedObjectContext:context];
        person.firstName = @"matt";
        person.lastName = @"ZZZ";
    }];
    return person;
} 
```

我只是想隐藏这段代码以帮助引起人们对问题本身的关注。

如果您想对此进行试验，我在 github 上有它：[https ://github.com/mcmurrym/CoreDataBehaviors](https://github.com/mcmurrym/CoreDataBehaviors)

**更新：**

看来，当我在使用 ID 检索线程上下文中的对象之前保存时，它会使 Person 对象出错，从而破坏了瞬态值。如果我在保存之前在线程上下文中检索对象，则会保留瞬态值，因为该对象没有出现故障。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-20T14:50:06.887

最大功率，

瞬态非常简单。它们是后备存储中始终不存在的属性。因此，您看到它们的事实是因为您使用的是子 MOC 并且已经从外部分配了这些值。为确保瞬态始终有效，您需要考虑实现、`-awakeFromInsert`、`-awakeFromFetch`和`-prepareForDeletion`方法。`-didTurnIntoFault``-willTurnIntoFault`

安德鲁

# rspec - 命令运行后bat文件打开文件

> ID：13467200
> 
> 赞同：0
> 
> 时间：2012-11-20T05:39:15.690
> 
> 标签：rspec, batch-file, cmd

所以我有这个创建文件的命令，想在命令完成后自动打开文件......我试过这个：

```
start /b /wait rspec spec --drb --format html --out doc/rspec_out.html
echo DONE
start doc/rspec_out.html 
```

但是一旦第一个命令完成，第二个命令似乎就不会运行（我没有看到`DONE`）。

我究竟做错了什么？

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-22T09:52:10.510

如果`rspec`是批处理文件，以下任何一项都应该有帮助：

*   在脚本`EXIT`的末尾（退出点）添加命令。`rspec`*   像这样运行第一个命令：

```
start /b /wait **cmd.exe /c "**rspec spec --drb --format html --out doc/rspec_out.html**"** 
```

# ssl - Apache HttpClient TLS SSL 示例

> ID：13467201
> 
> 赞同：0
> 
> 时间：2012-11-20T05:39:16.920
> 
> 标签：ssl, apache-commons-httpclient

我想弄清楚如何使用 apache HttpClient 登录网页。该页面使用 ssl TLSv1 握手协议。我有访问凭据的用户名和密码。我一直在网上阅读一堆东西，但我错过了一些东西。有经验的人是否可以准确地分解我需要配置客户端执行的操作。我已经读到必须设置 SSL 套接字，并且我已经接近正确配置它，但我得到的是 SSLv2 握手协议。

我也不确定这次握手是否失败。我可能只是没有正确保留通话之间的会话信息。因此，对此的任何帮助也将不胜感激。

```
 <form name="loginuserform" method="post" action="https://www.site.com/login" id="login_form">
    <div id="loginFields">
        <div class="left_input" id="email_input">
            <input id="emailInput" type="text" name="email" tabindex="1" value="">
        </div>
        <div class="left_input" id="password_input">
            <span class="labelStyle">Password</span>
            <input type="password" name="password" tabindex="2">
        </div>
        <div class="left_input">
            <input type="submit" class="primaryActionButton" value="Sign In" tabindex="3">
        </div>
    </div>

</form> 
```

您能否详细解释一下我们如何回复此表格。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T05:44:14.880

它在 HttpClient 站点上。它很简单。您需要提供您的 SSL 套接字工厂并通过系统属性设置 SSL 工厂所需的配置，例如 - 密钥库路径和访问密码等。要使用套接字工厂，请检查以下内容。

```
Protocol myhttps = new Protocol("https", new MySSLSocketFactory(), 443);
HttpClient httpclient = new HttpClient();
httpclient.getHostConfiguration().setHost("www.whatever.com", 443, myhttps);
GetMethod httpget = new GetMethod("/");
try {
  httpclient.executeMethod(httpget);
  System.out.println(httpget.getStatusLine());
} finally {
  httpget.releaseConnection();
} 
```

# javascript - 带有曲线的 css

> ID：13467207
> 
> 赞同：0
> 
> 时间：2012-11-20T05:40:03.923
> 
> 标签：javascript, jquery, css

```
OldFunc = window.onload;
window.onload = OnLoad;

function OnLoad() {
    try {
        OnFixFontAndTable();
        OldFunc();
    } catch (e) {
        alert(e);
    }
}

function OnFixFontAndTable() {
    $('.something some').css({
        'behavior': 'url(/path/border-radius.htc)'
    });
} 
```

我`border-radius.htc`用来解决以前版本的 IE 的问题，但`alert(e)`总是被称为`"TypeError:Object expected"`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T05:48:57.077

尝试像这样`defer="defer"`在您的`script`标签中使用

```
<script type="text/javascript" defer="defer"></script> 
```

# javascript - 第一个 Javascript 程序。我究竟做错了什么？

> ID：13467208
> 
> 赞同：3
> 
> 时间：2012-11-20T05:40:11.083
> 
> 标签：javascript

我终于开始用 Javascript 创建我的第一个小练习程序。我知道这并不优雅。我已经让大部分代码工作了，但是当我运行它几次时，我仍然得到一个“未定义”的字符串。我不知道为什么。有人可以向我解释这个未定义的来源吗？

```
var work = new Array();
work[1] = "product design";
work[2] = "product system design";
work[3] = "product social media post x5";
work[4] = "product Agent Recruitment system design";
work[5] = "product profile system design";
work[6] = "product Agent testing design";
work[7] = "product customer support";
work[8] = "product promotion";
var course = new Array();
course[1] = "javascript";
course[2] = "mandarin";
course[3] = "javascript practical-Code Academy";
course[4] = "javascript practical-learn Street";
course[5] = "mandarin practical-memrise";
course[6] = "new stuff with audiobooks";
var activity = new Array();
activity[1] = "listen to podcasts";
activity[2] = "chat online";
activity[3] = "Exercise";
activity[4] = "take a walk";
activity[5] = "call a friend";
var picker1 = Math.floor(Math.random()*3+1);
var picker2 = Math.floor(Math.random()*work.length+1);
var picker3 = Math.floor(Math.random()*course.length+1);
var picker4 = Math.floor(Math.random()*activity.length+1);
var group_pick = function(){
  if(picker1 === 1){
    return "Time to work on ";
  } else if(picker1 === 2){
    return "Time to learn some ";
  } else if (picker1 === 3){
    return "Lets relax and ";
  } else {
    return "error in group_pick";
  }
};
var item_pick = function() {
  if (picker1 === 1) {
    return work[picker2] ;
  } else if (picker1 === 2) {
    return course [picker3] ;
  } else if (picker1 === 3) {
    return activity[picker4] ;
  } else {
    return "error in item_pick";
  }
};
var task = group_pick() + item_pick();
document.write(task); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-20T05:48:37.443

数组以零索引开始。当您为`1`索引分配值时，`0`会为您创建一个没有值 ( `undefined`) 的索引。

```
var arr = new Array();
arr[1] = 'hi!';
console.log(arr); // [undefined, "hi!"]
console.log(arr.length) // 2 
```

长度为2，检查一下。您认为您在该数组中有一项，但长度为 2。

通常不自己管理数组索引会更容易。出于多种原因，通常首选数组文字语法。

```
var arr = [];
arr.push('hi!');
console.log(arr); // ["hi!"]
console.log(arr.length) // 1 
```

或者直接创建包含项目的数组，非常方便。

```
var arr = [
  "hi",
  "there!"
];
console.log(arr); // ["hi", "there"]
console.log(arr.length) // 2 
```

* * *

一旦你正确地制作了数组，你可以简单地得到一个随机项目：

```
var arr = ['a','b','c'];
var index = Math.floor(Math.random() * arr.length);
console.log(arr[index]); // "a", "b" or possibly "c" 
```

这是有效的，因为`var index`将由介于之间`0.0`和最多但不包括`1.0`时间`3`（数组的长度）的随机值计算。哪个可以给你一个`0`，`1`或一个`2`。

所以`arr`这里有`3`项目，一个在`0`，一个在`1`，一个在`2`。

学习从零开始处理数组可能在心理上很棘手。你有点习惯了。最终。

* * *

在此处使用这些提示的工作示例：http: [//jsfiddle.net/du5Jb/](http://jsfiddle.net/du5Jb/)

我改变了数组的声明方式，并`+1`从`var pickerX`计算中删除了不需要的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-20T05:47:08.073

问题是数组的属性*从零开始*`.length`计算数组中元素的数量。例如有元素 1 到 5，所以根据 Javascript实际上是**6**。然后你的随机数计算将选择一个从 1 到 7 的数字，超过数组的末尾。这就是它的来源。*`activity``.length`**`undefined`***

 ***您可以通过从 0 而不是 1 开始索引编号来解决此问题，因此`activity`元素 0 到 4，a`.length`为 5。也`+1`从您的选择计算中删除。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-20T05:52:33.410

当您使用“选择器”时，您不希望拥有`+1``Math.floor 函数的内部。

考虑这个数组：

```
var array = [ "one", "two", "three" ];

array.length; // 3 
```

长度为 3 - 有道理，里面有 3 个项目。
但是数组是从零开始的。

```
array[0]; // "one"
array[1]; // "two"
array[2]; // "three"
array[3]; // undefined 
```

因此，当您添加它时`+ 1`，您将：
a) 无法选择数组中的第一个元素 b) 可以选择比数组中的最后一个元素正好高 1 的数字 ( `undefined`)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-20T05:54:32.040

我看到的问题是，当您生成随机变量时，您正在执行 PickerX + 1 ...

所以正确的做法是没有 +1 的 PickerX。另外，您不应该使用 if 命令的主题，请尝试使用 switch case ...

这是固定代码-

```
var work = new Array()
        work[0] = "product design";
        work[1] = "product system design";
        work[2] = "product social media post x5";
        work[3] = "product Agent Recruitment system design";
        work[4] = "product profile system design";
        work[5] = "product Agent testing design";
        work[6] = "product customer support";
        work[7] = "product promotion";

var course = new Array();
    course[0] = "javascript";
    course[1] = "mandarin";
    course[2] = "javascript practical-Code Academy";
    course[3] = "javascript practical-learn Street";
    course[4] = "mandarin practical-memrise";
    course[5] = "new stuff with audiobooks";

var activity = new Array();
    activity[0] = "listen to podcasts";
    activity[1] = "chat online";
    activity[2] = "Exercise";
    activity[3] = "take a walk";
    activity[4] = "call a friend";

    var picker1 = Math.floor(Math.random() * 3 +1 );
    var picker2 = Math.floor(Math.random() * work.length );
    var picker3 = Math.floor(Math.random() * course.length );
    var picker4 = Math.floor(Math.random() * activity.length );

var group_pick = function(){
    switch(picker1){
        case 1:
            return "Time to work on ";
        case 2:
            return "Time to learn some ";
        case 3:
            return "Lets relax and ";
        default:
            return "error in group_pick";        
    }
};

var item_pick = function() {
    switch(picker1){
        case 1:
            return work[picker2] ;
        case 2:
            return course [picker3] ;
        case 3:
            return activity[picker4] ;
        default:
            return "error in item_pick";    
    }
};

var task = group_pick() + item_pick();
document.write( task );​ 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-20T06:56:09.810

不要那么辛苦。零是你的朋友。我们去打高尔夫球...

```
var work = [
    "product design", "product system design",
    "product social media post x5",
    "product Agent Recruitment system design",
    "product profile system design",
    "product Agent testing design",
    "product customer support", "product promotion",
], course = [
    "javascript", "mandarin",
    "javascript practical-Code Academy",
    "javascript practical-learn Street",
    "mandarin practical-memrise", "new stuff with audiobooks",
], activity = [
    "listen to podcasts", "chat online", "Exercise",
    "take a walk", "call a friend",
];
function rint(cap) {
    return (Math.random() * cap) | 0;
}
function pick(item) {
    switch (item) {
    case 0: return "Time to work on " +
        work[ rint(work.length) ];
    case 1: return "Time to learn some " + 
        course[ rint(course.length) ];
    case 2: return "Lets relax and " + 
        activity[ rint(activity.length) ];
    default: return "error";
    }
}
document.write(pick(rint(3)) + '<br>'); 
```***

# objective-c - ld：找不到-lIOKit.A clang xcode 的库

> ID：13467209
> 
> 赞同：-1
> 
> 时间：2012-11-20T05:40:12.147
> 
> 标签：objective-c, xcode

我使用项目的 Target 部分将 libIOKit.A.dylib 库包含到我的 Xcode 项目中，如下图所示。该项目已构建并且运行良好，我在编译状态下遇到了一些连线错误说

> ld：找不到 -lIOKit 的库。Clang：错误：链接器命令失败，退出代码为 1（使用 -v 查看调用）

谁能帮我解决这个问题？

![在此处输入图像描述](../Images/900c215d8716bb644c8cacfc4e13fcf6.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-04T16:46:59.240

为模拟器构建的私有框架 IOKit 不存在，所以它不会在那里工作。这个库只适用于 iPad 或 iPhone。

# android - android应用程序中的空指针异常强制关闭

> ID：13467211
> 
> 赞同：-3
> 
> 时间：2012-11-20T05:40:17.167
> 
> 标签：android, imageview

现在它给了我这种 Logcat 错误：

```
11-20 11:19:04.729: E/AndroidRuntime(447): FATAL EXCEPTION: main
11-20 11:19:04.729: E/AndroidRuntime(447): java.lang.NullPointerException
11-20 11:19:04.729: E/AndroidRuntime(447):  at com.example.orderplacemnet.ImageAdapter.getView(OnlineShopping.java:157)
11-20 11:19:04.729: E/AndroidRuntime(447):  at android.widget.AbsSpinner.onMeasure(AbsSpinner.java:192)
11-20 11:19:04.729: E/AndroidRuntime(447):  at android.view.View.measure(View.java:8171)
11-20 11:19:04.729: E/AndroidRuntime(447):  at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3132)
11-20 11:19:04.729: E/AndroidRuntime(447):  at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1012)
11-20 11:19:04.729: E/AndroidRuntime(447):  at android.widget.LinearLayout.measureVertical(LinearLayout.java:381)
11-20 11:19:04.729: E/AndroidRuntime(447):  at android.widget.LinearLayout.onMeasure(LinearLayout.java:304)
11-20 11:19:04.729: E/AndroidRuntime(447):  at android.view.View.measure(View.java:8171)
11-20 11:19:04.729: E/AndroidRuntime(447):  at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3132)
11-20 11:19:04.729: E/AndroidRuntime(447):  at android.widget.FrameLayout.onMeasure(FrameLayout.java:245)
11-20 11:19:04.729: E/AndroidRuntime(447):  at android.view.View.measure(View.java:8171)
11-20 11:19:04.729: E/AndroidRuntime(447):  at android.widget.LinearLayout.measureVertical(LinearLayout.java:526)
11-20 11:19:04.729: E/AndroidRuntime(447):  at android.widget.LinearLayout.onMeasure(LinearLayout.java:304)
11-20 11:19:04.729: E/AndroidRuntime(447):  at android.view.View.measure(View.java:8171)
11-20 11:19:04.729: E/AndroidRuntime(447):  at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3132)
11-20 11:19:04.729: E/AndroidRuntime(447):  at android.widget.FrameLayout.onMeasure(FrameLayout.java:245)
11-20 11:19:04.729: E/AndroidRuntime(447):  at android.view.View.measure(View.java:8171)
11-20 11:19:04.729: E/AndroidRuntime(447):  at android.view.ViewRoot.performTraversals(ViewRoot.java:801)
11-20 11:19:04.729: E/AndroidRuntime(447):  at android.view.ViewRoot.handleMessage(ViewRoot.java:1727)
11-20 11:19:04.729: E/AndroidRuntime(447):  at android.os.Handler.dispatchMessage(Handler.java:99)
11-20 11:19:04.729: E/AndroidRuntime(447):  at android.os.Looper.loop(Looper.java:123)
11-20 11:19:04.729: E/AndroidRuntime(447):  at android.app.ActivityThread.main(ActivityThread.java:4627)
11-20 11:19:04.729: E/AndroidRuntime(447):  at java.lang.reflect.Method.invokeNative(Native Method)
11-20 11:19:04.729: E/AndroidRuntime(447):  at java.lang.reflect.Method.invoke(Method.java:521)
11-20 11:19:04.729: E/AndroidRuntime(447):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
11-20 11:19:04.729: E/AndroidRuntime(447):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
11-20 11:19:04.729: E/AndroidRuntime(447):  at dalvik.system.NativeStart.main(Native Method) 
```

此活动用于将图像适配器添加到图库，但它不起作用。我正在开发 android 2.0 版本。

**日志错误：**

```
11-20 10:46:36.118: E/AndroidRuntime(420): FATAL EXCEPTION: main
11-20 10:46:36.118: E/AndroidRuntime(420): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.orderplacemnet/com.example.orderplacemnet.OnlineShopping}: java.lang.NullPointerException
11-20 10:46:36.118: E/AndroidRuntime(420):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
11-20 10:46:36.118: E/AndroidRuntime(420):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
11-20 10:46:36.118: E/AndroidRuntime(420):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)
11-20 10:46:36.118: E/AndroidRuntime(420):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
11-20 10:46:36.118: E/AndroidRuntime(420):  at android.os.Handler.dispatchMessage(Handler.java:99)
11-20 10:46:36.118: E/AndroidRuntime(420):  at android.os.Looper.loop(Looper.java:123)
11-20 10:46:36.118: E/AndroidRuntime(420):  at android.app.ActivityThread.main(ActivityThread.java:4627)
11-20 10:46:36.118: E/AndroidRuntime(420):  at java.lang.reflect.Method.invokeNative(Native Method)
11-20 10:46:36.118: E/AndroidRuntime(420):  at java.lang.reflect.Method.invoke(Method.java:521)
11-20 10:46:36.118: E/AndroidRuntime(420):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
11-20 10:46:36.118: E/AndroidRuntime(420):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
11-20 10:46:36.118: E/AndroidRuntime(420):  at dalvik.system.NativeStart.main(Native Method)
11-20 10:46:36.118: E/AndroidRuntime(420): Caused by: java.lang.NullPointerException
11-20 10:46:36.118: E/AndroidRuntime(420):  at com.example.orderplacemnet.OnlineShopping.onCreate(OnlineShopping.java:51)
11-20 10:46:36.118: E/AndroidRuntime(420):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
11-20 10:46:36.118: E/AndroidRuntime(420):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
11-20 10:46:36.118: E/AndroidRuntime(420):  ... 11 more 
```

**代码 ：**

```
package com.example.orderplacemnet;

import java.util.ArrayList;
import java.util.List;

import android.os.Bundle;
import android.app.Activity;
import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.drawable.BitmapDrawable;
import android.graphics.drawable.Drawable;

import android.view.Menu;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.Gallery;
import android.widget.SpinnerAdapter;
import android.widget.Toast;

import android.widget.ImageView;

public class OnlineShopping extends Activity  {

    Gallery myRoseGallery;
     private List<Drawable> drawables=null;

//  ImageView img;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_online_shopping);
        myRoseGallery=(Gallery)findViewById(R.id.rosegallery);
        //img=(ImageView)findViewById(R.id.roseimg);

        Toast.makeText(this, "dfhgkhj", Toast.LENGTH_SHORT).show();

getDrawablesList();

      myRoseGallery.setAdapter(new ImageAdapter(this));

    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // TODO Auto-generated method stub
        return super.onCreateOptionsMenu(menu);
    }

     private void getDrawablesList() {

            drawables = new ArrayList<Drawable>();
            drawables.add(getResources().getDrawable(R.drawable.rose_five));
            drawables.add(getResources().getDrawable(R.drawable.rose));
            drawables.add(getResources().getDrawable(R.drawable.rose_two));
            drawables.add(getResources().getDrawable(R.drawable.rose_three));
            drawables.add(getResources().getDrawable(R.drawable.rose_four));

        }

//      private void setSelectedImage(int selectedImagePosition) {
//
//          BitmapDrawable bd = (BitmapDrawable) drawables.get(selectedImagePosition);
//          Bitmap b = Bitmap.createScaledBitmap(bd.getBitmap(), (int) (bd.getIntrinsicHeight() * 0.9), (int) (bd.getIntrinsicWidth() * 0.7), false);
//         
//
//      }

    }

 class ImageAdapter  extends BaseAdapter{

    private int[] myRoseImage = { R.drawable.rose, R.drawable.rose_two,
               R.drawable.rose_three, R.drawable.rose_four,R.drawable.rose_five };
    private Context myContext=null;

    private Activity context=null;

    private static ImageView iv=null;

    private List<Drawable> plotsImages=null;

    private static ViewHolder holder=null;

    public ImageAdapter(Activity context, List<Drawable> plotsImages) {

        this.context = context;
        this.plotsImages = plotsImages;

    }
    public ImageAdapter(Context c) {
        super();
        // give yr conext here
        this.myContext=c;

    }

    @Override
    public int getCount() {
        // how many image is there
        return this.myRoseImage.length;
    }

    @Override
    public Object getItem(int position) {
        //which item is selected
        return position;
    }

    @Override
    public long getItemId(int position) {
        // TODO Auto-generated method stub
        return position;
    }

    @Override
    public View getView(int position, View view, ViewGroup parent) {
        // display image in yr Image view as per yr view and position

        if (view == null) {

               holder = new ViewHolder();

               ImageView iv = new ImageView(this.myContext);

                iv.setPadding(3, 3, 3, 3);

                view = iv;

                holder.imageView = iv;

               view.setTag(holder);

            } else {

                    holder = (ViewHolder) view.getTag();
            }

            holder.imageView.setImageDrawable(plotsImages.get(position));

            holder.imageView.setScaleType(ImageView.ScaleType.FIT_XY);
            holder.imageView.setLayoutParams(new Gallery.LayoutParams(150, 90));

            return iv;

    }
     private static class ViewHolder {
            ImageView imageView;
        }

} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T05:41:58.070

`findViewById()`如果您没有使用过，则无法找到视图`setContentView()`...

```
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    // setContentView(R.layout.xxx); Add the layout that contains rosegallery
    myRoseGallery=(Gallery)findViewById(R.id.rosegallery); 
```

或者，如果画廊是您想要使用的唯一视图：

```
 myRoseGallery = new Gallery(this); 
```

（了解 Gallery 类已弃用，将来将不再受支持。）

* * *

**另外**你应该从in
返回一个有效的 id ：`myRoseImage``getItem()`

```
 @Override
    public int getItem(int position) {
        //which item is selected
        return myRoseImage[position];
    } 
```

并更新您设置图像的方式`getView()`：

```
holder.imageView.setImageResource(getItem(position)); 
```

您不能调用`plotImages.get(position)`，因为`plotImages`当您使用此构造函数时仍然为 null：

```
public ImageAdapter(Context c) {
    super();
    // give yr conext here
    this.myContext=c;
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-20T05:42:49.407

您缺少`setContentView();`OnlineShopping Activity 来设置 Conatin 布局。在 super.onCreate(savedInstanceState) 之后添加 setContentView；在找到任何 View 之前：

```
@Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.Your_layout_id);  //add  here
        myRoseGallery=(Gallery)findViewById(R.id.rosegallery);
        //img=(ImageView)findViewById(R.id.roseimg);

        Toast.makeText(this, "dfhgkhj", Toast.LENGTH_SHORT).show(); 
```

# facebook - Facebook Graph API fql 查询类似计数与直接对象查找

> ID：13467212
> 
> 赞同：0
> 
> 时间：2012-11-20T05:40:18.870
> 
> 标签：facebook, facebook-graph-api, facebook-like, facebook-fql

为什么这两个查询返回不同的类似计数？

1) fql?q... 查询返回 0 个赞

```
https://graph.facebook.com/fql?q=SELECT+url%2C+normalized_url%2C+share_count%2C+like_count%2C+comment_count%2C+total_count%2C+commentsbox_count%2C+comments_fbid%2C+click_count+FROM+link_stat+WHERE+url%3D%27http%3A%2F%2Fwww.facebook.com%2Fpages%2FLine-And-Circle%2F49561759728%27 
```

返回：

```
{
  "data": [
    {
       "url": "http://www.facebook.com/pages/Line-And-Circle/49561759728",
       "normalized_url": "http://www.facebook.com/pages/Line-And-Circle/49561759728",
       "share_count": 0,
       "like_count": 0,
       "comment_count": 0,
       "total_count": 0,
       "commentsbox_count": 0,
       "comments_fbid": null,
       "click_count": 0
    }
 ]
} 
```

2）直接对象查询返回436个赞

```
https://graph.facebook.com/49561759728 
```

返回：

```
{
    "name": "Line & Circle",
    "is_published": true,
    "website": "http://lineandcirclemusic.tumblr.com/",
    "description": "follow \u0040LineAndCircle",
    "about": "Echo Park, Los Angeles via the Midwest, USA. http://lineandcirclemusic.tumblr.com/",
    "genre": "Indie/Alternative",
    "hometown": "Los Angeles, California",
    "current_location": "Los Angeles, California",
    "record_label": "White Iris",
    "press_contact": "lineandcirclemusic\u0040gmail.com",
    "influences": "Richard Neutra, Erik Satie, Lord Byron, Richard Yates, Grace Kelly, Phil Hartman, Bobby Briggs, Denard Robinson, etc.",
    "band_interests": "Ice cream, ice fishing, etc.",
    "category": "Musician/band",
    "id": "49561759728",
    "link": "https://www.facebook.com/pages/Line-Circle/49561759728",
    "likes": 436,
    "cover": {
       "cover_id": "10151094140979729",
       "source": "http://sphotos-a.xx.fbcdn.net/hphotos-ash4/s720x720/391388_10151094140979729_1992918206_n.jpg",
       "offset_y": 31
    }
} 
```

在其他情况下，例如对于用户名“newfoundglory”，fql 查询返回接近点赞数的内容，但仍与直接查询不同。

为什么这两个查询返回不同的结果？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T20:07:13.210

正如预期的那样，第一个图形调用返回 0 个赞，因为该表用于跟踪外部 url 的赞和评论，而不是 facebook 上的内部页面。
要获取该数据，您应该使用页表并查询 fan_count -

```
select page_id, name, page_url, fan_count from page where name = 'Line & Circle' 
```

这将返回预期的结果 -

```
"data": [
{
  "page_id": 49561759728, 
  "name": "Line & Circle", 
  "page_url": "https://www.facebook.com/pages/Line-Circle/49561759728", 
  "fan_count": 436
}
] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-21T01:22:41.000

graph.facebook.com/49561759728?fields=likes

{“喜欢”：637，“id”：“49561759728”}

我使用此链接生成[https://developers.facebook.com/tools/explorer/?method=GET&path=agenciadac%3Ffields%3Dlikes](https://developers.facebook.com/tools/explorer/?method=GET&path=agenciadac%3Ffields%3Dlikes)

# extjs - 之前加载商店

> ID：13467213
> 
> 赞同：0
> 
> 时间：2012-11-20T05:40:24.697
> 
> 标签：extjs, extjs4, extjs4.1

我有一个窗户。在那个窗口中，我有一个带有商店的组合框。我想屏蔽窗口，直到商店完成加载数据。我可以通过在加载前在 store 中写入 this.setLoading(true) 并在加载时写入 this.setLoading(false) 来实现。

但是当我使用上述方法时，在点击组合触发器后会显示蒙版。这意味着商店在点击触发器后正在加载。而不是我想在初始化窗口时加载商店

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:43:49.533

最简单的方法是将**[queryMode](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.form.field.ComboBox-cfg-queryMode)**设置为*'local'*并将**[triggerAction 设置](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.form.field.ComboBox-cfg-triggerAction)**为*'query'*。这甚至不再清除商店过滤器。但请注意，即使查询中止， **[beforequery](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.form.field.ComboBox-event-beforequery)**事件仍将被触发。

这是一个配置示例：

```
Ext.create('Ext.form.ComboBox', {
    fieldLabel: 'Choose',
    store: myStore,
    queryMode: 'local',
    triggerAction: 'query',
    displayField: 'name',
    valueField: 'id'
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T06:45:30.663

这是正常的行为。当您单击触发器时 - 正在加载商店。**您可以通过处理beforeload**存储事件来取消加载。你可以做这样的事情：

```
var form = this.getForm();
var store = this.getStore();

store.load({ 
    callback: function(records, operation, success) {
        form.show();
    }
});

store.on('beforeload', function() {return false; }) 
```

# android - 移动设备上的时间计算

> ID：13467217
> 
> 赞同：2
> 
> 时间：2012-11-20T05:40:52.063
> 
> 标签：android, mobile, time

我想计算设备上的最后一个事件与当前事件之间的时间差。但是用户总是可以通过设置系统时间来手动更改时间，因此可能与实际时间不同。有没有办法计算正确的时差？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T05:50:37.290

您可以`System.nanoTime()`在两个句点之间使用，然后减去。与`System.currentTimeMillis()`用户更改设备时间时的更改不同，`System.nanoTime()`不会受到影响。

> 返回最精确的可用系统计时器的当前值，以纳秒为单位。
> 
> 此方法只能用于测量经过的时间，**与系统或挂钟时间的任何其他概念无关**。返回的值**表示自某个固定但任意时间以来的纳秒** （可能在将来，因此值可能为负数）。此方法提供纳秒精度，但不一定提供纳秒精度。不保证值的变化频率。由于数值溢出，超过大约 292 年（263 纳秒）的连续调用的差异将无法准确计算经过的时间。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T05:49:37.037

试试这个

```
String time1 = "22:55:00";
String time2 = "23:05:00";
SimpleDateFormat format = new SimpleDateFormat("HH:mm:ss");
Date date1 = format.parse(time1);
Date date2 = format.parse(time2);
long difference = date2.getTime() - date1.getTime(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T06:35:38.397

使用[SystemClock.uptimeMillis()](http://developer.android.com/reference/android/os/SystemClock.html#uptimeMillis%28%29)

我使用以下代码在我的游戏中实现近乎恒定的 FPS：

```
long now = SystemClock.uptimeMillis(), then = this.then, actualSleep;
        actualSleep = DT - ((now < then) ? (Long.MAX_VALUE - then) + now : now - then);
        Thread.sleep((actualSleep < 0) ? 0 : actualSleep); 
```

# objective-c - objc_msgSend 调用 NSScreen backingScaleFactor 返回 NSScreenAux？

> ID：13467219
> 
> 赞同：0
> 
> 时间：2012-11-20T05:41:18.393
> 
> 标签：objective-c

我有一个问题，objc_msgSend 调用 NSScreen backingScaleFactor 函数，但是 objc_msgSend 通过 NSLog 返回 NSScreenAux 类型，NSScreen backingScaleFactor 应该在文档中返回 CGFloat 类型，有人有问题吗？

```
NSScreen *screen = [NSScreen mainScreen];
NSLog(@"%@", objc_msgSend(screen, @selector(userSpaceScaleFactor)) 
```

NSLog 打印“NSScreenAux：0x1661210”

我有一个新问题。objc_msgSend 调用函数

```
- (NSRect)convertRectToBacking:(NSRect)aRect NS_AVAILABLE_MAC(10_7); 
```

代码如下：

```
NSScreen* screen = [NSScreen mainScreen]; 
NSRect rect = NSMakeRect(0, 0, 100, 100); 
NSLog(@" %@ ", objc_msgSend(screen, @selector(convertRectToBacking:), rect)); 
```

应用程序崩溃，我不知道该怎么办？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T06:39:23.713

你有几个问题。

1.  您还没有准备好使用`objc_msgSend`. 您在格式字符串中使用了错误的格式说明符这一事实是一个危险信号。

2.  你的问题文本说`backingScaleFactor`，但你的代码说`userSpaceScaleFactor`。你想要哪一个？

3.  两者`userSpaceScaleFactor`和`backingScaleFactor`都被记录为 return `CGFloat`。在 OS X 上，`CGFloat`是 a`typedef`用于`float`32 位`double`以下和 64 位以下，因此您必须使用`%f`来格式化 a `CGFloat`，而不是`%@`.

4.  如果要发送返回 、 或 的消息，`float`则`double`必须`long double`使用`objc_msgSend_fpret`if 编译为 32 位，但`objc_msgSend`if 编译为 64 位。

5.  您必须始终将`objc_msgSend`（或`objc_msgSend_fpret`）转换为您正在调用的方法的类型。

因此，要使其在 32 位上工作：

```
NSScreen *screen = [NSScreen mainScreen];
NSLog(@"%f", ((CGFloat (*)(id, SEL))objc_msgSend_fpret)(screen, @selector(backingScaleFactor))); 
```

要使其在 64 位上工作：

```
NSScreen *screen = [NSScreen mainScreen];
NSLog(@"%f", ((CGFloat (*)(id, SEL))objc_msgSend)(screen, @selector(backingScaleFactor))); 
```

# vhdl - 需要帮助构建 T 和 JK 触发器

> ID：13467221
> 
> 赞同：-1
> 
> 时间：2012-11-20T05:41:37.150
> 
> 标签：vhdl, cad

T 触发器 ![](../Images/fbafa1947a9af799e2b8d1ead224ef1a.png)
D 触发器 ![](../Images/b6a6c6df74d3dcfa191623370461d0af.png)
D 锁存器 ![](../Images/bbc1ed25371a18d8bf28b0891a1a24c8.png)

我需要构建一个 T 和 JK 触发器。我能够创建似乎都可以正常工作的 d 锁存器和 d 触发器。但是，在我尝试添加或门以创建 T 触发器后，它不会在矢量波形上产生任何结果。当我尝试从 D 触发器制作 JK FF 时，也会发生同样的事情。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T10:04:22.957

您没有指定如何尝试构建它们，因此很难猜测确切的问题。

在 VHDL 中使用 std_logic 实现的 T-FF 需要重置才能脱离存储元素中的初始“U”。这个“U”通过 XOR 反馈，并将 FF 保持在“U”中，无法移除它。

如果这是您的问题，请添加重置输入。

# string - 如何从字符串中获取整数的第 X 个位置？

> ID：13467223
> 
> 赞同：0
> 
> 时间：2012-11-20T05:41:39.467
> 
> 标签：string, numbers, position, element

我有一个字符串，上面写着“12345”。我想从字符串中取出第三个元素将其转换为整数（在这种情况下，第三个元素将是'3'）。我该怎么做？

我听说您可以使用 Integer.parseInt(s) 但这将返回字符串的整个整数。我只想要其中的一个元素，并且在第 x 个位置。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T05:55:49.770

我认为最简单的方法是简单地使用 String.SubString。就像是：

```
string number = "12345";
string element = number.SubString(2, 1); 
```

其中 2 是第三个字符的位置（记住它是 0 索引），1 是要返回的字符数。然后，您可以根据需要将其转换为整数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T05:56:08.613

你可以做一些这样的事情......

```
int number = Integer.parseInt(givenString.charAt(xPosition)); 
```

希望能帮助到你。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T05:58:05.223

[charAt() 方法] (http://www.w3schools.com/jsref/jsref_charat.asp) 应该可以满足您的需求

# java - Weka K-means 中的理想簇数

> ID：13467225
> 
> 赞同：1
> 
> 时间：2012-11-20T05:41:41.813
> 
> 标签：java, cluster-analysis, weka, k-means

我正在使用 Weka 的 SimpleKMeans 函数来聚类 96000 个术语（作为单词）。Weka 将所需的簇数作为参数。因此，它为 num 提供 2。集群的默认值。我拥有的数据集是 96000x641000 稀疏数据集。一开始我给了 10000 个集群编号，但我认为这对于推荐过程来说太多了。有没有一种方法可以根据算法计算 #of clusters 或找到理想的 #of clusters？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:13:01.963

对于 K-means 变体算法，“k”的初始预测有一个经验法则。通常取 k = (n / 2) ^ 0.5 是合适的，其中 n = 数据点的数量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T17:52:58.360

K-means 并不是真正为**稀疏**数据设计的。另外，它是为欧式距离设计的，你应该知道这对于高维数据不是一个好的选择。

也许最简单的论点如下：一个子集的*平均值*可能不再是稀疏的，因此它本身就是*异常*的，并且比实际数据实例更接近中心。然而，**这意味着不同集群的平均值可能比实际实例更接近于它们的平均值**，这使得结果非常可疑。

您至少应该尝试使用 k 中位数（但速度要慢得多），或其他措施来保持均值的稀疏性。当然：k-means*确实*对数据进行了聚类。问题是，结果的有效性如何。

也可以看看：

[在非常大的稀疏矩阵上的 R 中的 k 均值聚类？](https://stackoverflow.com/questions/3039646/k-means-clustering-in-r-on-very-large-sparse-matrix)

[python和scipy中稀疏矩阵的聚类](https://stackoverflow.com/questions/10608955/clustering-of-sparse-matrix-in-python-and-scipy)

[稀疏矩阵中元素聚类的距离度量](https://stackoverflow.com/questions/5250233/distance-metric-for-clustering-elements-in-a-sparse-matrix)

[在非常大的稀疏矩阵上聚类？](https://stackoverflow.com/questions/3177827/clustering-on-very-large-sparse-matrix?lq=1)

[K-means 聚类算法运行时间和复杂度](https://stackoverflow.com/questions/13356720/k-means-clustering-algorithm-run-time-and-complexity?lq=1)

[如何用标准化的 TF-IDF 做 K-means](https://stackoverflow.com/questions/11281545/how-to-do-k-means-with-normalized-tf-idf)

[Mahout 二进制数据聚类](https://stackoverflow.com/questions/11428156/mahout-binary-data-clustering)

对于在高维稀疏/二进制数据上运行 k-means 的许多失败案例（= 没有好的答案的问题）。

# c# - 如何将时间设置为当天的午夜？

> ID：13467230
> 
> 赞同：78
> 
> 时间：2012-11-20T05:42:15.897
> 
> 标签：c#, .net

每次我在我的 mvc3 应用程序中创建一个不可为空的日期时间时，它默认为 now()，其中 now 是当前日期和当前时间。我想将其默认为今天的日期，时间为上午 12 点。

我正在尝试在我的 mvc 中默认时间...但是...以下未设置为今天的日期@12am。相反，它使用当前日期和时间默认为现在。

```
private DateTime _Begin = new DateTime(DateTime.Now.Year, DateTime.Now.Month, DateTime.Now.Day, 12, 0, 0);
public DateTime Begin { get { return _Begin; } set { _Begin = value; } } 
```

对于不可为空的日期时间，如何将当前日期设置为凌晨 12 点？

* * *

## 回答 #1

> 赞同：140
> 
> 时间：2012-11-20T05:44:14.740

您可以使用`Date`DateTime 对象的属性 - 例如

```
DateTime midnight = DateTime.Now.Date; 
```

所以你的代码示例变成

```
private DateTime _Begin = DateTime.Now.Date;
public DateTime Begin { get { return _Begin; } set { _Begin = value; } } 
```

PS。回到您的原始代码将小时数设置为**12**会给您当天*中午*的时间，因此您可以使用**0** ...

```
var now = DateTime.Now;
new DateTime(now.Year, now.Month, now.Day, 0, 0, 0); 
```

* * *

## 回答 #2

> 赞同：40
> 
> 时间：2012-11-20T05:45:37.327

相信你正在寻找`DateTime.Today`。该文档指出：

> 设置为今天日期的对象，时间组件设置为 00:00:00。

[http://msdn.microsoft.com/en-us/library/system.datetime.today.aspx](http://msdn.microsoft.com/en-us/library/system.datetime.today.aspx)

你的代码是

```
DateTime _Begin = DateTime.Today; 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2016-10-10T16:12:30.323

使用上述一些建议，以下函数和代码可用于搜索日期范围：

**将时间组件设置为 00:00:00 的日期**

```
public static DateTime GetDateZeroTime(DateTime date)
{
    return new DateTime(date.Year, date.Month, date.Day, 0, 0, 0);
} 
```

**用法**

```
var modifieddatebegin = Tools.Utilities.GetDateZeroTime(form.modifieddatebegin);

var modifieddateend = Tools.Utilities.GetDateZeroTime(form.modifieddateend.AddDays(1)); 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2017-04-09T01:06:00.830

只需将其设置为

`DateTime.Now.Date`

```
Console.WriteLine(DateTime.Now.Date.ToString("yyyy-MM-dd HH:mm:ss"));
Console.Read(); 
```

表明

> “2017-04-08 00:00:00”

在我的机器上。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2019-09-22T02:46:55.030

相关，所以我想我会为其他人发帖。如果您想找到今天开始的 UTC（对于您的时区），以下代码适用于任何 UTC 偏移量（-23.5 到 +23.5）。这看起来像我们添加 X 小时然后减去 X 小时，但重要的是添加后的“.Date”。

```
double utcOffset= 10.0;  // Set to your UTC offset in hours (eg. Melbourne Australia)
var now = DateTime.UtcNow;

var startOfToday = now.AddHours(utcOffset - 24.0).Date;
startOfToday = startOfToday.AddHours(24.0 - utcOffset); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-01-05T03:02:12.417

大多数建议的解决方案可能会导致 1 天错误，具体取决于与每个日期关联的时间。如果您正在寻找日期之间的整数个日历日，无论与每个日期关联的时间如何，我发现这很有效：

```
return (dateOne.Value.Date - dateTwo.Value.Date).Days; 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2015-07-29T06:38:04.980

试试这个：

```
DateTime Date = DateTime.Now.AddHours(-DateTime.Now.Hour).AddMinutes(-DateTime.Now.Minute)
   .AddSeconds(-DateTime.Now.Second); 
```

输出将如下所示：

> 2015 年 7 月 29 日 00:00:00

# ios - 未显示新的 iOS 捆绑包 ID

> ID：13467238
> 
> 赞同：2
> 
> 时间：2012-11-20T05:42:58.253
> 
> 标签：ios, xcode, app-store-connect, app-id

我今天早些时候为我正在开发的应用程序创建了一个新的应用程序 ID。我已经完成了 30 多个应用程序，从来没有遇到过这个问题。但是，当我在 iTunes Connect 中设置应用程序时选择 Bundle ID 时，我创建的新 ID 不会显示。是我的问题，还是苹果的问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-04-26T16:41:50.343

我一直在寻找和寻找，但从未找到答案。最后我不得不等待，我不喜欢它，但我喜欢它。但它确实最终进入了 iTunes 连接。

我的等待时间是 6 小时。

所以任何和我情况相同的人。只要对你所做的有信心，然后等待。

下次注意。为此留出潜在的等待时间。我现在比计划晚了一天。

# time - 时序要求的正式验证

> ID：13467240
> 
> 赞同：3
> 
> 时间：2012-11-20T05:43:08.830
> 
> 标签：time, embedded, real-time, verification, formal-verification

我知道用于验证程序属性的不同形式验证工具（例如 SPIN 模型检查器）。是否有任何通用工具/方法可用于验证实时嵌入式系统中的时序要求？例如：“此算法必须始终在 50 毫秒内终止”。这种类型的验证通常是如何完成的？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T16:09:20.780

考虑到所有任务的激活延迟和截止日期，速率单调分析可用于确定系统是否可调度。有一些软件包可以为你计算数字，但我认为所涉及的数学并不超出电子表格。

除此之外，您提到的技术要求类型可能难以验证。即使您可以测量算法处于活动状态的时间量，通常也无法测试所有可能的场景以验证永远不会超过最后期限。

我在起搏器和航空电子设备等关键应用中看到的做法是设计算法，使其不会超过规定的期限。这可以通过限制它在一次激活中可以处理的数据量来完成，或者让函数本身计时并在超过截止日期时提前终止（并返回错误）。我希望这有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-03T06:41:09.070

有用于对定时系统进行模型检查的工具 UPPAAL、IF 工具集。它基于时间自动机理论。

# c++ - 结构初始化参数

> ID：13467241
> 
> 赞同：4
> 
> 时间：2012-11-20T05:43:11.030
> 
> 标签：c++, constructor, struct, initialization

我有一个结构，播放器，如下所示：

```
struct player {
string name;
int rating;
}; 
```

我想修改它，以便我用两个参数声明结构：

```
player(string, int) 
```

它用这些值分配结构的内容。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-20T05:47:06.760

您将使用构造函数，如下所示：

```
struct player {

  player(const string& pName, const int& pRating) :
    name(pName), rating(pRating) {} // << initialize your members
                                    //    in the initialization list

  string name;
  int rating;
}; 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-11-20T05:49:02.560

除了给你的类型一个构造函数，因为如图所示它是一个*聚合*类型，你可以简单地使用聚合初始化：

```
player p = { "name", 42 }; 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-11-20T05:47:21.097

虽然（正如已经指出的那样），您可以简单地添加一个构造函数：

```
struct player() {
    string name;
    int rating;
    player(string Name, int Rating) { 
        name = Name; rating = Rating; 
    }
}; 
```

你有什么理由不想让它成为一门课吗？

```
class player() {
public:
    string name;
    int rating;
    player(string Name, int Rating) { 
        name = Name; rating = Rating; 
    }
}; 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-11-20T05:47:35.560

你可以为你的`player`结构声明一个构造函数：

```
struct player {
    string name;
    int rating;

    player(string n, int r) :
        name(n),
        rating(r)
    {
    }
}; 
```

在 C++ 中，类和结构之间的少数[区别](https://stackoverflow.com/questions/1127396/structure-constructor-in-c)之一是类成员默认为私有，而结构成员默认为公共。

# linux - 加载我自己的内核模块时出现未知符号

> ID：13467244
> 
> 赞同：4
> 
> 时间：2012-11-20T05:43:23.153
> 
> 标签：linux, module, kernel, symbols

以下代码（最后粘贴）大部分取自[此处](http://www.gadgetweb.de/programming/39-how-to-building-your-own-kernel-space-keylogger.html)，是一个非常简单的内核模块，它充当键盘记录器。我可以让它编译并生成一个 .ko 就好了，但是当我尝试加载它时，我在 dmesg 中收到以下错误：

```
[  790.833828] keylogger: Unknown symbol unregister_keyboard_notifier (err 0)
[  790.833846] keylogger: Unknown symbol register_keyboard_notifier (err 0) 
```

我没有从源代码构建我的内核，而是使用 archlinux 提供的库存内核。但是，我确实安装了 kernel-headers 包来编译模块。

**所以我的问题是：在我安装的内核中真的找不到这两个符号吗？** 如果是，为什么他们不能正确链接（？）？

我可以找到符号存在的证据。首先，我可以看到 中的符号`/proc/kallsyms`。另外，当我这样做时，`nm /usr/src/vmlinux`我也可以看到这两个符号。他们不一样吗？

模块代码：

```
#include <linux/module.h>   /* Needed by all modules */
#include <linux/keyboard.h>

EXPORT_SYMBOL_NOVERS(unregister_keyboard_notifier);
EXPORT_SYMBOL_NOVERS(register_keyboard_notifier);

int hello_notify(struct notifier_block *nblock, unsigned long code, void *_param) {
    struct keyboard_notifier_param *param = _param;
    struct vc_data *vc = param->vc;

    int ret = NOTIFY_OK;

    if (code == KBD_KEYCODE) {
        printk(KERN_DEBUG "KEYLOGGER %i %s\n", param->value, (param->down ? "down" : "up"));
    }
}

static struct notifier_block nb = {
    .notifier_call = hello_notify
};

static int hello_init(void)
{
    register_keyboard_notifier(&nb);
    return 0;
}

static void hello_release(void)
{
    unregister_keyboard_notifier(&nb);
}

module_init(hello_init);
module_exit(hello_release); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T05:43:23.153

我需要将以下内容添加到我的模块源中：

```
MODULE_LICENSE("GPL"); 
```

# windows - 更改 Windows 7 的登录过程

> ID：13467247
> 
> 赞同：3
> 
> 时间：2012-11-20T05:43:50.513
> 
> 标签：windows, authentication

我正在考虑为我的学校项目更改 Windows 7 登录过程。不幸的是，我无法找到任何方法来做到这一点..

我想用二维码、图形密码和 kinect 运动密码替换标准用户名和密码。有没有办法做到这一点（甚至可能吗？）。

或者，我希望有一个应用程序可以在没有关闭、最小化按钮等的情况下打开全屏，并在 Windows 登录时打开它。

任何代码示例或参考都会非常有帮助。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T15:03:23.023

Windows 7 中使用凭据提供程序来实现自定义身份验证方案。以下是一些可能有用的链接：

[使用 Windows Vista 的凭据提供程序创建自定义登录体验](http://msdn.microsoft.com/en-us/magazine/cc163489.aspx)

[在 Windows 中创建自定义凭据提供程序的文档](https://stackoverflow.com/questions/6228499/documentation-for-creating-a-custom-credential-provider-in-windows)

[Windows 7 凭据提供程序示例](https://stackoverflow.com/questions/5296397/windows-7-credential-provider-sample)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T05:47:40.297

对 Windows 内部结构的良好阅读应该可以帮助您了解该项目需要什么。Mark Russinovich 几乎是 Windows 内部的专家，并撰写了许多关于该主题的书籍。

*   Windows Sysinternals：[Windows 内部知识书](http://technet.microsoft.com/en-us/sysinternals/bb963901.aspx)
*   亚马逊：[产品页面](https://rads.stackoverflow.com/amzn/click/com/0735648735)

免责声明：我绝不隶属于 Microsoft、Sysinternals 或 Amazon。

# java - 如何在不重置jsp形式的控件的情况下响应来自servlet的客户端请求

> ID：13467248
> 
> 赞同：0
> 
> 时间：2012-11-20T05:43:52.977
> 
> 标签：java, jsp, servlets

我是一个正在使用 java-beans、jsp 和 servlet 的构建项目。我需要在使用稍微修改的 html 发出请求的同一页面上将响应发送给客户端。但是当我（服务器）将请求发送到 jsp 页面时，表单中的控件正在重置为其原始值。但我不想在发出请求后覆盖用户的输入。实现此目的的一种方法是在发出请求时获取表单中每个控件的属性值，然后在响应时再次设置它们。实际上，我的表单中有大量控件，取每个控件的值似乎效率不高。

那么在响应客户端时，有没有其他方法可以保持jsp文件中的表单不变。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T05:46:52.817

你为什么不使用 iframe ？因此，当向同一页面发出请求时，您不必刷新整个页面。

与其将表单的操作设置到同一页面，不如调用一个在链接中设置参数的 javascript 函数，然后

```
var f = document.getElementById('iframe');
f.src = 'newlink';
f.contentWindow.location.reload(true); 
```

这用最新的内容填充了 iframe

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T06:14:05.983

您可以使用 ajax 来满足您的要求，或者您必须将数据保存在表单提交、会话或某个地方，并在响应时再次设置它们。除此之外，我认为即使在页面重新加载后也没有其他方法可以保留表单数据。

谢谢查克里

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T06:41:23.300

```
function openOffenderInfo(i)
{
  $.ajax({
          url:'../loginServlet',
      type: 'POST',
      success: function(data) 
     {
        alert("reset your div values in this block");
            .... for example .....
            documnet.getElementById('reloading Div').innerHTML=data;
     },
    error: function(data) 
    {
       alert("error");
    }
    });
} 
```

URL : c=你想调用这个 servlet 的 servlet 的名称计算数据并给出你想在你的 div 中重置的新数据

成功：如果您的ajax调用成功，这是将执行的函数，因此您可以在此函数中设置重新加载部分的值

我希望这可以达到你的目的

# php - 使用 codeigniter 在 twitter 引导模式中填充表单

> ID：13467251
> 
> 赞同：2
> 
> 时间：2012-11-20T05:44:08.703
> 
> 标签：php, javascript, codeigniter, twitter-bootstrap, modal-dialog

我正在使用 Codeigniter 框架和 twitter 引导程序来实现我的开发目的。在这里，我遇到了一个问题，我必须在模态框中编辑表单。如何将数据传递到 twitter 引导模式框中显示的表单？请帮助我找到可能的解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-03T17:46:16.993

```
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js">
</script>

<div id="myModal" class="modal hide fade" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
    <h3 id="myModalLabel">Header of Modal</h3>
  </div>
  <div class="modal-body">

    <form class="form-element">
        Title: <input type="text" class="form-title" value="initial title" /><br />
        Something Else: <input type="text" class="form-element2" value="initial value" /><br />
        <div class="some-box">
            The elements inside the box
        </div>
    </form>

  </div>
  <div class="modal-footer">
    <button class="btn btn-primary" data-dismiss="modal" aria-hidden="true">Close</button>
  </div>
</div>

<a href="#" class="changeTitle">Click here to change title</a>
<a href="#" class="changeElement">Click here to change Element2</a>
<a href="#" class="changeDiv">Click here to change div's contents</a>

<script>
$(".changeTitle").click(function(){
    $(".form-title").val("New title");
});
$(".changeElement").click(function(){
    $(".form-element2").val("New value of element");
});
$(".changeDiv").click(function(){
    $(".some-box").html("New Contents of the div element");
});
</script> 
```

# rotation - 通过 ImageMagick 旋转 PNG

> ID：13467252
> 
> 赞同：8
> 
> 时间：2012-11-20T05:44:09.670
> 
> 标签：rotation, imagemagick, transparent

我想通过 convert 命令旋转 PNG 文件。像这样。

```
convert -background 'rgba(0,0,0,0.5)' -rotate 45 1.png r1.png 
```

但是结果 PNG 文件是错误的，如下所示。 [https://docs.google.com/spreadsheet/ccc?key=0AqzGWe_mT6dwdEIwa04xRldwVGtOX1VGbVJhRnZwX0E](https://docs.google.com/spreadsheet/ccc?key=0AqzGWe_mT6dwdEIwa04xRldwVGtOX1VGbVJhRnZwX0E)

灰色空间是正确的。

我不知道为什么存在黑色空间。

我错了什么？

谢谢你。

* * *

convert -version 版本：ImageMagick 6.5.4-7 2012-05-07 Q16 OpenMP [http://www.imagemagick.org](http://www.imagemagick.org) 版权所有：版权所有 (C) 1999-2009 ImageMagick Studio LLC

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-22T18:02:18.043

要修改的图像在转换后直接出现。

尝试：

```
convert 1.png -background "rgba(0,0,0,0.5)" -rotate 45 r1.png 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-08-06T18:21:23.337

这对我有用

```
$ convert 1.png -distort SRT -ANGLE_IN_DEGREES -gravity center r1.png 
```

# java - 如何在 weblogic 10.3 服务器上延迟春季 JMS 消息

> ID：13467253
> 
> 赞同：1
> 
> 时间：2012-11-20T05:44:12.807
> 
> 标签：java, spring, jms, weblogic, spring-jms

我想将消息传递延迟特定时间，这对于每条消息都会有所不同。

我参考了推荐使用 的[weblogic 10.3 WLMessage 文档](http://docs.oracle.com/cd/E13222_01/wls/docs103/javadocs/weblogic/jms/extensions/WLMessage.html)`javax.jms.Message.getIntProperty("JMS_BEA_DeliveryTime")`。

但是我无法弄清楚如何设置`JMS_BEA_DeliveryTime`为`INTEGER`. 我期待它是`long`。

我无法找到有关此属性的任何文档`JMS_BEA_DeliveryTime`来取消设置和使用它。任何人都可以举例说明如何设置所需的交货时间或链接到使用此属性的文档。

我的代码看起来像是 Spring JMS 模板的典型用法：

```
 jmsTemplate.send(destination, new MessageCreator() {
                public Message createMessage(Session session) throws JMSException {
                  TextMessage message = session.createTextMessage(textMessage);
                  return message;
                }
            }); 
```

我想知道是否可以在返回消息之前设置传递时间的标题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T07:17:31.707

[包含不同 JMS 提供者延迟交付示例的好文章](http://java.dzone.com/articles/sending-delayed-jms-messages)，包括 WL。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T12:45:38.150

那么有[这个页面](http://docs.oracle.com/cd/E24329_01/apirefs.1211/e24401/pagehelp/JMSjmsmessagejmsmessagetabletitle.html)说明

```
JMS Delivery Time: The earliest absolute time at which 
                   a message can be delivered to a consumer. 
```

[使用Message.setIntProperty(...)](http://docs.oracle.com/javaee/6/api/javax/jms/Message.html#setIntProperty%28java.lang.String,%20int%29)进行设置应该是微不足道的，尽管我确实发现[这篇文章](http://www.javamonamour.org/2011/07/weblogic-jms-scheduling-jms-message-for.html)暗示了从现在开始的毫秒数，但实际上并没有太多提及时间的实际构成。

希望有帮助。

# java - 在 Java 中读取配置，JSON 是一个选项？

> ID：13467258
> 
> 赞同：1
> 
> 时间：2012-11-20T05:44:42.820
> 
> 标签：java, json, gson, text-parsing

我正在设置一个配置文件和系统来处理它。我拥有的当前文件都是 JSON，并使用 GSON 库读取。我想做的是更改配置文件的一部分，以便我可以链接规则以添加更高级的逻辑。

例如，配置部分看起来类似于（假设它是 JSON，但显然它不是正确的语法）：

```
Parts: {
    {
        {
            Type: Keyword,
            Keywords: "a,b,c",
            UniqueOnly: true,
            Threshold: 2,
        }

        AND

        {
            Type: RegEx,
            Pattern: "^(abc|123)$",
            UniqueOnly: true,
            Threshold: 2,
        }
    }
    OR
    {
        Type: Keyword,
        Keywords: "abc",
        Threshold: 1
    }
} 
```

内部部分将能够适当地转换回一个类，但在规则之间，我希望有一个选项用于“AND”以及“OR”和嵌套。这是可以通过任何 JSON/GSON 解析器轻松实现的，还是更像是需要从头开始编写一个完全自定义的阅读器？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T17:02:32.180

在这种情况下我会使用有效的 JSON，或者根本不会使用 JSON。我试图做你想做的事情并将其放在[gist](https://gist.github.com/4436071)上。序列化和反序列化的结果 JSON 如下所示：

```
{
  "combOperation": "OR",
  "elements": [
    {
      "combOperation": "AND",
      "elements": [
        {
          "regex": "^[a-zA-Z]*",
          "uniqueOnly": false,
          "threshold": 1
        },
        {
          "keyWord": "BarFoo",
          "uniqueOnly": false,
          "threshold": 5
        }
      ]
    },
    {
      "keyWord": "FooBar",
      "uniqueOnly": true,
      "threshold": 2
    }
  ]
} 
```

# dynamic - JavaFX 如何动态更改 ProgressBar 颜色？

> ID：13467259
> 
> 赞同：2
> 
> 时间：2012-11-20T05:44:44.970
> 
> 标签：dynamic, colors, progress-bar, javafx-2

[我试图用这个](https://stackoverflow.com/questions/13357077/javafx-progressbar-how-to-change-bar-color)线程中的彩色进度条来解决我的问题。解决方案是存在的，但后来我遇到了另一个问题：我无法从我的代码中动态更改颜色。我想直接从我的代码中完成，而不是使用预定义的 .css。通常我可以做到，但是当我尝试使用多个进度条进行时遇到了一些困难。

```
public class JavaFXApplication36 extends Application {

    @Override
    public void start(Stage primaryStage) {
        AnchorPane root = new AnchorPane();
        ProgressBar pbRed = new ProgressBar(0.4);
        ProgressBar pbGreen = new ProgressBar(0.6);
        pbRed.setLayoutY(10);
        pbGreen.setLayoutY(30);

        pbRed.setStyle("-fx-accent: red;");       // line (1)
        pbGreen.setStyle("-fx-accent: green;");   // line (2)

        root.getChildren().addAll(pbRed, pbGreen);
        Scene scene = new Scene(root, 150, 50);
        primaryStage.setTitle("Hello World!");
        primaryStage.setScene(scene);
        primaryStage.show();
    }
} 
```

我总是得到 2 个红色进度条！似乎第 (1) 行中的代码更改了 ProgressBar 类的样式，而不是实例。

另一个奇怪的时刻是删除第 (1) 行不会导致 2 个绿色进度条。所以我可以认为第 (2) 行完全没用！！为什么？！这肯定会变得很奇怪。

有没有办法为单独的进度条设置不同的颜色？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-21T01:18:51.157

另请参阅[StackOverflow JavaFX ProgressBar 社区 Wiki](https://stackoverflow.com/questions/19417246/how-can-i-style-the-progressbar-component-in-javafx)。

* * *

您可以使用一种解决方法，直到提交并修复了修复问题中示例代码的错误。

此答案中的代码对内容进行[节点查找](http://docs.oracle.com/javafx/2/api/javafx/scene/Node.html#lookup%28java.lang.String%29)`ProgressBar`，然后将进度条的条颜色动态修改为您喜欢的任何值。

```
import javafx.application.Application;
import javafx.beans.value.*;
import javafx.geometry.Pos;
import javafx.scene.*;
import javafx.scene.control.*;
import javafx.scene.layout.*;
import javafx.scene.paint.Color;
import javafx.stage.Stage;

public class ProgressBarDynamicColor extends Application {
  public static void main(String[] args) { launch(args); }
  @Override public void start(Stage stage) {
    PickedColorBar aquaBar = new PickedColorBar(0.4, Color.AQUA);
    PickedColorBar fireBar = new PickedColorBar(0.6, Color.FIREBRICK);

    HBox layout = new HBox(20);
    layout.getChildren().setAll(aquaBar, fireBar);
    layout.setStyle("-fx-background-color: -fx-box-border, cornsilk; -fx-padding: 15;");

    stage.setScene(new Scene(layout));
    stage.show();

    aquaBar.wasShown();
    fireBar.wasShown();
  }

  class PickedColorBar extends VBox {
    private final ProgressBar bar;
    private final ColorPicker picker;

    private boolean wasShownCalled = false;

    final ChangeListener<Color> COLOR_LISTENER = new ChangeListener<Color>() {
      @Override public void changed(ObservableValue<? extends Color> value, Color oldColor, Color newColor) {
        setBarColor(bar, newColor);
      }
    };

    public PickedColorBar(double progress, Color initColor) {
      bar    = new ProgressBar(progress);
      picker = new ColorPicker(initColor);

      setSpacing(10);
      setAlignment(Pos.CENTER);
      getChildren().setAll(bar, picker);
    }

    // invoke only after the progress bar has been shown on a stage.     
    public void wasShown() {
      if (!wasShownCalled) {
        wasShownCalled = true;
        setBarColor(bar, picker.getValue());
        picker.valueProperty().addListener(COLOR_LISTENER);
      }  
    }

    private void setBarColor(ProgressBar bar, Color newColor) {
      bar.lookup(".bar").setStyle("-fx-background-color: -fx-box-border, " + createGradientAttributeValue(newColor));
    }

    private String createGradientAttributeValue(Color newColor) {
      String hsbAttribute = createHsbAttributeValue(newColor);
      return "linear-gradient(to bottom, derive(" + hsbAttribute+ ",30%) 5%, derive(" + hsbAttribute + ",-17%))";
    }

    private String createHsbAttributeValue(Color newColor) {
      return 
        "hsb(" + 
          (int)  newColor.getHue()               + "," + 
          (int) (newColor.getSaturation() * 100) + "%," + 
          (int) (newColor.getBrightness() * 100) + "%)";
    }
  }
} 
```

该代码使用 css 属性的内联字符串处理来操作区域背景。未来的 JavaFX 版本（例如 JDK8+）将包括一个公共 Java API 来操作后台属性，从而使 Java 程序中的属性字符串处理变得过时。

示例程序输出：

![颜色选择器进度](../Images/7fc1b3a7dcc00c432bc4a7f9e108ad2c.png)

# mathematica-8 - Mathematica 文本关键字

> ID：13467261
> 
> 赞同：1
> 
> 时间：2012-11-20T05:45:01.853
> 
> 标签：mathematica-8

我有一个 file.txt 看起来像这样

```
 key.txt
  date: Nov_17_12
  begin
     k 6.822379e+001 1.298165e+002 0.000000e+000
     k 0.000000e+000 1.298165e+002 0.000000e+000
     k 6.822379e+001 7.357968e+001 0.000000e+000
  end

  begin
     k 6.822379e+001 7.357968e+001 0.000000e+000
     k 0.000000e+000 1.298165e+002 0.000000e+000
     k 0.000000e+000 0.000000e+000 0.000000e+000
  end

   begin
     k 6.822379e+001 7.357968e+001 0.000000e+000
     k 0.000000e+000 0.000000e+000 0.000000e+000
     k 1.456291e+002 7.357968e+001 0.000000e+000
  end

  begin
     k 1.456291e+002 7.357968e+001 0.000000e+000
     k 0.000000e+000 0.000000e+000 0.000000e+000
     k1.456291e+002 0.000000e+000 0.000000e+000
  end 
```

那么如何将其转换为 MatrixForm 为：

```
 A1 = {{6.822379e+001 1.298165e+002 0.000000e+000}
     {0.000000e+000 1.298165e+002 0.000000e+000}
     {6.822379e+001 7.357968e+001 0.000000e+000}} 
```

A2 = 布拉布拉

# ruby-on-rails - 宝石更新后 RoR (FullCalendar) 上的日历不起作用

> ID：13467263
> 
> 赞同：1
> 
> 时间：2012-11-20T05:45:14.850
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.2, fullcalendar

在我升级了一些 gem 后，FullCalendar 停止工作。我需要将“google-api-client”添加到 Gemfile，并且 Bundle Install 过程给了我以下消息：

```
itsjustme@rubberroom:~/Projects/FunnyFarm$ bundle
Fetching gem metadata from https://rubygems.org/........
Fetching gem metadata from https://rubygems.org/..
Bundler could not find compatible versions for gem "faraday":
  In snapshot (Gemfile.lock):
    faraday (0.8.0)

  In Gemfile:
    google-api-client (>= 0.5.0) ruby depends on
      faraday (~> 0.8.1) ruby

Running `bundle update` will rebuild your snapshot from scratch, using only
the gems in your Gemfile, which may resolve the conflict. 
```

按照说明，我发布了捆绑更新。结果是这样的：

```
itsjustme@rubberroom:~/Projects/FunnyFarm$ bundle update
Fetching gem metadata from https://rubygems.org/.....
Error Bundler::HTTPError during request to dependency API
Fetching full source index from https://rubygems.org/
Using rake (10.0.2) 
Using i18n (0.6.1) 
Using multi_json (1.3.7) 
Using activesupport (3.2.3) 
Using builder (3.0.4) 
Using activemodel (3.2.3) 
Using erubis (2.7.0) 
Using journey (1.0.4) 
Using rack (1.4.1) 
Using rack-cache (1.2) 
Using rack-test (0.6.2) 
Using hike (1.2.1) 
Using tilt (1.3.3) 
Using sprockets (2.1.3) 
Using actionpack (3.2.3) 
Using mime-types (1.19) 
Using polyglot (0.3.3) 
Using treetop (1.4.12) 
Using mail (2.4.4) 
Using actionmailer (3.2.3) 
Using arel (3.0.2) 
Using tzinfo (0.3.35) 
Using activerecord (3.2.3) 
Using activeresource (3.2.3) 
Installing addressable (2.3.2) 
Installing extlib (0.9.15) 
Installing autoparse (0.3.2) 
Using bcrypt-ruby (3.0.1) 
Using bundler (1.2.2) 
Using coffee-script-source (1.4.0) 
Using execjs (1.4.0) 
Using coffee-script (2.2.0) 
Using rack-ssl (1.3.2) 
Using json (1.7.5) 
Using rdoc (3.12) 
Using thor (0.14.6) 
Using railties (3.2.3) 
Using coffee-rails (3.2.2) 
Using multipart-post (1.1.5) 
Using faraday (0.8.4) 
Using jwt (0.1.5) 
Installing launchy (2.1.2) 
Installing signet (0.4.3) 
Installing uuidtools (2.1.3) 
Installing google-api-client (0.5.0) 
Using haml (3.1.7) 
Using httpauth (0.2.0) 
Using jquery-rails (2.1.3) 
Using libv8 (3.3.10.4) 
Using mobilepronto (0.3.2) 
Using mysql2 (0.3.11) 
Using oauth (0.4.7) 
Using oauth2 (0.6.1) 
Using rails (3.2.3) 
Using sass (3.2.3) 
Using sass-rails (3.2.5) 
Using sorcery (0.7.13) 
Using sqlite3 (1.3.6) 
Using therubyracer (0.10.2) 
Using uglifier (1.3.0) 
Your bundle is updated! Use `bundle show [gemname]` to see where a bundled gem
is installed. 
```

CSS 和 jQuery 文件都没有被修改，作为 RoR 的新手，我不知道从哪里开始寻找解决方案。

### 截图

这是更新前的截图：http: [//pic.twitter.com/85gUGSg3](http://pic.twitter.com/85gUGSg3)

这个，更新后：http: [//pic.twitter.com/rYvIhsbe](http://pic.twitter.com/rYvIhsbe)

### 文件

这种观点太简单了，无法有所作为。但是，无论如何（show.html.haml）：

```
%h4 Agenda dos Médicos
#calendar 
```

同样，控制器几乎是空的。它只是指向视图。

```
class WorkSchedsController < ApplicationController
  before_filter :require_login
  def show
  end
end 
```

这一切都归功于 fullcalendar.js，配置如下：

```
$(document).ready(function() {
  $('#calendar').fullCalendar({
    header: {
      left: 'prev,next today',
      center: 'title',
      right: 'month,agendaWeek,agendaDay'
    },
    eventSources: [
      // Dr. John Doe
      {
      url: 'https://www.google.com/calendar/feeds/userthis%40gmail.com/private-blah/basic',
      color: 'dodgerblue'
      },
      // Dr. Jane Doe
      {
      url: 'https://www.google.com/calendar/feeds/userthat%40gmail.com/private-blah/basic',
      color: 'brown'
      },
      // Code abbreviated
      {
      ...
      }
    ]
  });
}); 
```

为了完整起见，这是 Gemfile，在添加“fullcalendar-rails”之前（如 Durrant 先生所建议）：

```
source 'https://rubygems.org'

gem 'rails', '3.2.3'

# Bundle edge Rails instead:
# gem 'rails', :git => 'git://github.com/rails/rails.git'

gem 'sqlite3'
gem 'sorcery'
gem 'mobilepronto'
gem 'execjs'
gem 'therubyracer'
gem 'mysql2'
gem 'haml'
gem 'sass'

# Gems used only for assets and not required
# in production environments by default.
group :assets do
  gem 'sass-rails',   '~> 3.2.3'
  gem 'coffee-rails', '~> 3.2.1'
  gem 'uglifier', '>= 1.0.3'
end

gem 'jquery-rails' 
```

似乎设置日历的表已被压平。任何人都可以帮忙吗？给点指点什么的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T21:29:09.110

我在你的截图上看到的，让我想起了我在炎热的夏天做的噩梦。我在 .css.scss 文件中添加了一个类，但忘记关闭它（一个小“}”）。无论我尝试过，在不同的节奏中都是一种痛苦和悲伤。

在您的情况下，我将专注于搜索与标签“tbody”相关的不一致样式表。似乎所有其他 css 和 js 都可以。让我们保持最新状态，先生。

# java - 分发我的 java 应用程序，我如何管理目录

> ID：13467267
> 
> 赞同：0
> 
> 时间：2012-11-20T05:45:35.027
> 
> 标签：java, swing, deployment, distribution

我的 java 应用程序几乎完成了，现在我要给它画龙点睛了。尽管某些代码需要从计算机上的特定目录中读取数据。在我的机器上，我通过以下方式完成了它：

```
FileOutputStream fos=new FileOutputStream(C:/User/AnirudhVarma/Document/Appname/foldername/file,true); 
```

但是在用户机器上，我如何确保它在以下目录中创建它？

```
C:/enduser/appname/folder/file 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T05:50:38.003

代码中的硬编码文件夹结构是非常糟糕的主意。

处理此问题的一种方法是：

您需要有一个类似于用户需要输入所需文件夹路径的属性文件。在安装文档中将此作为要求提及。

在您的代码中，您需要在继续之前确保文件夹具有所需的内容。如果文件夹无效，则仅显示错误消息以及设置目录路径的正确信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T06:14:57.380

`System.getProperty("user.dir")`将返回`C:/User/AnirudhVarma`您的机器。从那里，我建议你需要考虑平台。在windows下，你应该将这类信息存储到`AppData`文件夹中。

所以你最终会得到类似的东西`System.getProperty("user.dir") + File.seperator + "AppData/Appname/foldername/file"`

在 MacOS 下，我相信惯例是`.AppName`改用，比如`System.getProperty("user.dir") + File.seperator + ".Appname/foldername/file"`

# java - Java新手请help.form n servlet

> ID：13467274
> 
> 赞同：1
> 
> 时间：2012-11-20T05:46:45.187
> 
> 标签：java, database, servlets

大家好，当我运行包含表单的 servlet 并单击提交时，我收到以下错误，我在代码中找不到错误，但显然有一个错误。否则，当我单击提交时，Eclipse 控制台中会出现以下内容：

```
ss
ss
zz@z.com
56464
asdcity
pen
null
22
Done1
Failed 
```

这里有两个问题。首先，为支付模式检索空值。其次，数据库中的插入失败。

**形式 ：**

```
<%@ page language="java" contentType="text/html; charset=ISO-8859-1" pageEncoding="ISO-8859-1"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Form</title>
</head>
<body>
<form action="SaveServlet">
    First Name: <input type="text" name="firstname"><br>
    Last Name:<input type="text" name="lastname"><br>
    Email ID:<input type="text" name="email_id"><br>
    Phone number:<input type="text" name="phone_number"><br>
    Address:<input type="text" name="address"><br>
    Purchasing Item:<input type="text" name="purchasing_item"><br>
    Payment Mode: <select name="paymentment_mode">
<option>Visa</option>
<option>Master</option>
<option>Mastro</option>
<option>Amex</option>
</select><br>
    Card number:<input type="text" name="card_number"><br>
<input type="submit" value="Save"></input>
</form>
</body>
</html> 
```

**小服务程序：**

```
package myPack;

import java.io.IOException;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
/**
* Servlet implementation class SaveServlet
*/
public class SaveServlet extends HttpServlet
{
    private static final long serialVersionUID = 1L;

    /**
     * Default constructor.
     */
    public SaveServlet() {
        // TODO Auto-generated constructor stub
    }
    /**
     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)
     */
    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws        ServletException, IOException {

        String s1=request.getParameter("firstname");
        System.out.println(s1);

        String s2=request.getParameter("lastname");
        System.out.println(s2);

        String s3=request.getParameter("email_id");
        System.out.println(s3);

        String s4=request.getParameter("phone_number");
        int s41=Integer.parseInt(s4);
        System.out.println(s41);

        String s5=request.getParameter("address");
        System.out.println(s5);

        String s6=request.getParameter("purchasing_item");
        System.out.println(s6);

        String s7=request.getParameter("payment_mode");
        System.out.println(s7);

        String s8=request.getParameter("card_number");
        int s81=Integer.parseInt(s8);
        System.out.println(s8);

        String c="jdbc:mysql://localhost:3306/test";
        System.out.println("Done1");

        Connection con=null;

        try{

            Class.forName("com.mysql.jdbc.Driver").newInstance();
            System.out.println("Done2");

            con = DriverManager.getConnection(c, "root", "MyNewPass");
            System.out.println("Done3");

            PreparedStatement ps=null;
            System.out.println("Done4");

            String qs = "insert into table1 values(?,?,?,?,?,?,?,?);";
            ps = con.prepareStatement(qs);
            ps.setString(1,s1);
            ps.setString(2,s2);
            ps.setString(3,s3);
            ps.setInt(4,s41);
            ps.setString(5,s5);
            ps.setString(6,s6);
            ps.setString(7,s7);
            ps.setInt(8,s81);
            System.out.println("Success");
            ps.execute();
            con.close();

        }
        catch (Exception e) {
        // TODO: handle exception
            System.out.println("Failed");}}
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws     ServletException, IOException {
        // TODO Auto-generated method stub
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T07:12:33.150

付款方式：`select name="paymentment_mode"`

```
String s7 = request.getParameter("payment_mode");
System.out.println(s7); 
```

`paymentment_mode`不一样`payment_mode`

在下拉列表中获取值也可以使用：

并将其更改`select name="paymentment_mode"`为`select id="paymentment_mode"`

```
var s7 = document.getElementById("payment_mode"); 
var strUser = s7.options[s7.selectedIndex].text; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T06:06:36.820

看起来它正在破`Class.forName("com.mysql.jdbc.Driver").newInstance();`线。确保您已将 MySQL JDBC jar 文件包含在您的`WEB-INF/lib`目录中。

这是一个链接，您可以下载正确的版本：

[http://dev.mysql.com/downloads/connector/j/](http://dev.mysql.com/downloads/connector/j/)

# java - 连续因子检验

> ID：13467279
> 
> 赞同：2
> 
> 时间：2012-11-20T05:46:56.070
> 
> 标签：java, algorithm, logic

正数 n 是`consecutive-factored`当且仅当它具有因子 i 和 j 其中`i > 1, j > 1 and j = i +1`。我需要一个函数，`returns 1`如果它的参数是连续因子，否则它`returns 0`。例如，`24=2*3*4`在这种情况下`3 = 2+1`它具有函数必须。`return 1`

我试过这个：

```
public class ConsecutiveFactor {

    public static void main(String[] args) {
        // TODO code application logic here

        Scanner myscan = new Scanner(System.in);
        System.out.print("Please enter a number: ");
        int num = myscan.nextInt();
        int res = isConsecutiveFactored(num);
        System.out.println("Result: " + res);

    }
    static int isConsecutiveFactored(int number) {
        ArrayList al = new ArrayList();
        for (int i = 2; i <= number; i++) {
            int j = 0;
            int temp;
            temp = number %i;

            if (temp != 0) {
                continue;
            } 

            else {

                al.add(i);
                number = number / i;
                j++;

            }
        }

        System.out.println("Factors are: " + al);
        int LengthOfList = al.size();
        if (LengthOfList >= 2) {
            int a =al(0);
            int b = al(1);
            if ((a + 1) == b) {
                return 1;
            } else {
                return 0;
            }
        } else {
            return 0;
        }

    }
} 
```

谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T06:12:44.050

先检查是否偶数，再试除法

```
if(n%2!=0) return 0;
for(i=2;i<sqrt(n);++i) {
  int div=i*(i+1);
  if( n % div ==0) { return 1; }
}
return 0; 
```

非常低效，但适用于少量。除此之外，请尝试来自[http://en.wikipedia.org/wiki/Prime_factorization](http://en.wikipedia.org/wiki/Prime_factorization)的分解算法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-20T09:18:13.083

我已经用上面的代码解决了我的问题。以下是代码。

```
public class ConsecutiveFactor {

    public static void main(String[] args) {
        // TODO code application logic here

        Scanner myscan = new Scanner(System.in);
        System.out.print("Please enter a number: ");
        int num = myscan.nextInt();
        int res = isConsecutiveFactored(num);
        System.out.println("Result: " + res);

    }
    static int isConsecutiveFactored(int number) {
        ArrayList al = new ArrayList();
        for (int i = 2; i <= number; i++) {
            int j = 0;
            int temp;
            temp = number % i;

            if (temp != 0) {
                continue;
            } 

            else {

                al.add(i);
                number = number / i;
                j++;

            }
        }

        Object ia[] = al.toArray();
        System.out.println("Factors are: " + al);
        int LengthOfList = al.size();
        if (LengthOfList >= 2) {
            int a = ((Integer) ia[0]).intValue();
            int b = ((Integer) ia[1]).intValue();

            if ((a + 1) == b) {
                return 1;
            } else {
                return 0;
            }
        } else {
            return 0;
        }

    }
} 
```

# php - 无法连接到 SQL SERVER 2000

> ID：13467286
> 
> 赞同：0
> 
> 时间：2012-11-20T05:47:36.230
> 
> 标签：php, sql, sql-server, sql-server-2008, sql-server-2000

我正在使用 php 5.3.1 连接到远程机器上的 SQL SERVER 2000。我使用 Windows XP。在使用这样的简单程序时：

```
$conn = mssql_connect("VBNET","sa","mypass") or die ( 'Can not connect to server' ); 
```

我收到以下错误：

> 警告：mssql_connect() [function.mssql-connect]：消息：用户“sa”登录失败。原因：未与受信任的 SQL Server 连接关联。（严重性 14）在第 8 行的 C:\wamp\www\Mssql\test.php
> 
> 警告：mssql_connect() [function.mssql-connect]：无法连接到服务器：第 8 行 C:\wamp\www\Mssql\test.php 中的 VBNET 无法连接到服务器

我在我的 SQL SERVER 中启用了 TCP/IP 和命名管道并重新启动它。其身份验证也设置为混合模式身份验证。

我可以通过 MS SQL Server Management Studio 查看我的服务器。那么我在这里缺少什么？

提前致谢。

PS 我在 SQL SERVER 2008 中有另一台服务器，我可以使用上述相同的连接字符串轻松连接到该服务器。

***编辑：***根据[这篇文章](http://www.sqlservercentral.com/Forums/FindPost1129106.aspx)，我在 cmd 中开火`sqlcmd -S np:\\VBNET\pipe\sql\query -U sa`并输入了密码，然后就成功了！！！那么现在可能是什么问题。我无能为力...请帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T07:16:04.260

如果您可以使用 SSMS 进行连接，请准确复制连接，即确保您指定了一个命名实例（例如“VBNET\SQLSERVER”）。打开 SSMS，在左侧的服务器节点上单击鼠标右键并选择“属性”。

如果您在同一台机器上运行 SQL 2008，则很可能 SQL 2008 使用默认实例，而 SQL 2000 使用命名实例。

也可以帮助，即使测试更简单的是创建一个空的UDL 文件（例如'TEST.UDL'）。一个空的文本文件应该可以。然后双击它，选择提供程序并使用设置。您始终可以使用“测试连接”按钮测试连接。当我必须第一次从客户 PC 连接时，我会使用这个技巧。

# php - CodeIgniter 中的登录问题

> ID：13467289
> 
> 赞同：0
> 
> 时间：2012-11-20T05:48:05.540
> 
> 标签：php, jquery, codeigniter

我在`COdeigniter`编程中使用 PHP 登录脚本。如果我在此表单中输入正确的凭据，它会显示一个`error`，而在输入正确的凭据后，如果我在新选项卡中打开相同的表单，它会自动打开。似乎，一些js问题。任何的想法 ？这里是`code`

```
 <form method="post" action="#" onsubmit="return validateLogin('loginForm')" name="loginForm"> 
          <table width="100%" cellpadding=0 cellspacing=0>
            <tr>
              <td>
                <b>
                  Username:
                </b> 
              </td>
              <td>
                <input type="text" name="usr" />
              </td>
            </tr>
            <tr>
              <td>
                <b>
                  Password:
                </b>
              </td>
              <td>
                <input type="password" name="pwd" />
              </td>
            </tr>
            <tr>
              <td></td>
              <td>
                <input type="submit" value="Login" class="submit" />
              </td>
            </tr>
          </table>  
        </form> 
```

功能是

```
function validateLogin(form) {
  user = document.forms[form].usr;
  pwd = document.forms[form].pwd;
  if(user.value.length==0)
  {
    notify('Please enter a valid username', 'error');
    user.focus();
    hilit('[name = user]');
    return false;
  }
  else if(pwd.value.length==0)
  {
    notify('Please enter a valid password', 'error');
    pwd.focus();
    hilit('[name = pwd]');
    return false;
  }
  else
  {
  notify('processing.... please wait', 'notice');
  dataString = 'user='+user.value+'&pwd='+pwd.value;
    jQuery.ajax({
      type: "POST",
      data: dataString,
      url: baseurl+'admin/checkLogin', 
      cache: false,
      error: function()
      {
        notify("An error occurd... please try later", 'error');
      },
      success: function(html)
      {
        if(html == 1)
        {
          window.location = baseurl+'admin/home';
        }
        else
        {
          notify('Your login details are incorrect!!!', 'error');
        }
      }
    });
    return false;
  }
  return false;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T05:55:50.717

您以错误的方式发送数据发送到服务器的数据必须是键/值对。`{key : value}`

像这样在ajax调用中修改您的数据

```
data : { user : user.value, pwd : pwd.value} 
```

**编辑**

用这个改变你的错误处理代码

```
error:function(xhr,err){
    alert("readyState: "+xhr.readyState+"\nstatus: "+xhr.status);
    alert("responseText: "+xhr.responseText);
} 
```

# c# - 如何为此 XDocument 编写 xpath？

> ID：13467291
> 
> 赞同：1
> 
> 时间：2012-11-20T05:48:11.707
> 
> 标签：c#, xpath, linq-to-xml

```
 <tags>
    <data mode="add" name="ttt" oldindex="-1" index="-1" oldnumber="1" number="1"               type="VAR_INT" value="72" /> 
     <data mode="delete" name="test3d" oldindex="-1" index="-1" oldnumber="1" number="1"            type="VAR_INT" value="72" /> 
      </tags> 
```

我想检查xml中是否存在“模式”

```
 xdDiffData.XPathSelectElement("//tags[@mode='add']") != null &&        xdDiffData.XPathSelectElement("//tags[@mode='delete']") != null 
```

这总是给出错误的......如何做到这一点......？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T06:01:12.563

如果您想确保`mode`每个元素中都存在该属性`data`，那么您应该更好地迭代所有数据元素以通过`mode`以下方式查找该属性：

```
XDocument doc = XDocument.Load("XmlFile.xml");
var nodes = doc.Descendants("data");

foreach (var node in nodes)
{
    var attrMode = node.Attribute("mode");
    if (attrMode == null)
    {
        // mode attribute is not available for this data element
    }
} 
```

使用 Linq：

```
if (nodes.Where(c => c.Attribute("mode") == null).Count() == 0)
{
    var result = nodes.All(e => 
                           e.Attribute("mode").Value.Equals("add") ||
                           e.Attribute("mode").Value.Equals("delete"));
} 
else
{
    // 'mode' attribute is missing for one or more 'data' element(s)
} 
```

如果`result`等于`true`，则意味着所有数据元素的`mode`属性都设置为 value`"add"`或`"delete"`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T05:53:54.653

您缺少“数据”元素。尝试

```
xdDiffData.XPathSelectElement("//tags/data[@mode='add']") != null &&        xdDiffData.XPathSelectElement("//tags/data[@mode='delete']") != null 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T05:55:23.543

```
 xdDiffData.XPathSelectElement("/tags/data[@mode='add']") != null 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-20T18:09:56.020

> 我想检查xml中是否存在“模式”

**使用**：

```
//@mode 
```

如果此 XPath 表达式选择一个节点，这意味着`mode`XML 文档中存在一个名为的属性。

**或者你可以使用**：

```
boolean(//@mode) 
```

这会产生一个布尔值——`true()`或者`false()`

# mysql - 在mysql存储过程中循环遍历数组

> ID：13467294
> 
> 赞同：2
> 
> 时间：2012-11-20T05:48:29.160
> 
> 标签：mysql, stored-procedures

我想在 mysql 存储过程中使用数组。

即数组看起来像

```
(0 =>array('name','value','value1'), 1=> array('name1','value2','value3)) 
```

我想遍历它们中的每一个并在不同的表上执行一些操作。我可以这样做吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T06:31:30.587

[存储过程](http://dev.mysql.com/doc/refman/5.0/en/create-procedure.html)不接受数组；但是，您可以发送任意数量的输入值，只要它与存储过程中声明的参数的数量和类型相匹配。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T07:06:48.503

*   如果要传递多于一项，请使用附加（临时）表而不是 IN 参数。
*   如果你需要一个一个地传递项目 - `('name','value','value1')`，那么使用一些 IN 参数 -`(IN name VARCHAR(255), IN value1 INT(11), IN value2 INT(11))`

# html - 使用我的自定义字体打印不起作用

> ID：13467295
> 
> 赞同：1
> 
> 时间：2012-11-20T05:48:29.887
> 
> 标签：html, css, printing

我用自定义字体创建了一个网页，我可以看到在浏览器中应用的字体，但在打印页面中没有应用。

我按照以下方式进行打印：

fonttest.css 文件包含以下内容：

```
@font-face {
font-family: "myriad";
src: url("../fonts/myriad.otf") format('truetype');
}
@font-face {
font-family: "serifa-bold";
src: url("../fonts/serifa_bold.ttf") format('truetype');
}
@font-face {
font-family: "serifa";
src: url("../fonts/serifa.ttf") format('truetype');
}
@font-face {
font-family: "AlexandriaFLF";
src: url("../fonts/AlexandriaFLF.ttf") format('truetype');
}
@font-face {
font-family: "AlexandriaFLF-Bold";
src: url("../fonts/AlexandriaFLF-Bold.ttf") format('truetype');
}
@font-face {
font-family: "AlexandriaFLF-BoldItalic";
src: url("../fonts/AlexandriaFLF-BoldItalic.ttf") format('truetype');
}
@font-face {
font-family: "AlexandriaFLF-Italic";
src: url("../fonts/AlexandriaFLF-Italic.ttf") format('truetype');
} 
```

在 HTML 文件中，CSS 文件链接如下：

```
<link rel='stylesheet' type='text/css' media='all'  href='resource/css/fonttest.css' /> 
```

我正在打印以下行：

```
<p style="font-family:myriad;color:#000000">myriad-abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789</p>
<p style="font-family:serifa-bold;color:#000000">serifa-bold-abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789</p>
<p style="font-family:serifa;color:#000000">serifa-abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789</p>
<p style="font-family:AlexandriaFLF;color:#000000">AlexandriaFLF-abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789</p>
<p style="font-family:AlexandriaFLF-Italic;color:#000000">AlexandriaFLF-Italic-abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789</p>
<p style="font-family:AlexandriaFLF-Bold;color:#000000">AlexandriaFLF-Bold-abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789</p>
<p style="font-family:AlexandriaFLF-BoldItalic;color:#000000">AlexandriaFLF-BoldItalic-abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789</p> 
```

请帮我 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:11:36.103

尝试将您的样式表媒体属性设置为 print ：

```
<link rel='stylesheet' type='text/css' media='print'  href='resource/css/fonttest.css' /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T11:31:22.937

如果您找不到执行此操作的方法，则可以使用另一种方法。

您可以使用[wkhtml2pdf](http://code.google.com/p/wkhtmltopdf/)并制作可打印的 PDF 文件。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-21T10:43:58.013

也许您可能需要在您的 css 中包含更多字体格式。像这样的东西：

```
@font-face {
font-family: 'XXXXX';
src: url('XXXXX.eot');
src: url('XXXXX.eot?#iefix') format('embedded-opentype'),
     url('XXXXX.woff') format('woff'),
     url('XXXXX.ttf') format('truetype'),
     url('XXXXX.svg#XXXXX') format('svg');
font-weight: normal;
font-style: normal;

} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-26T10:54:14.043

the url [https://bugzilla.mozilla.org/show_bug.cgi?id=468568](https://bugzilla.mozilla.org/show_bug.cgi?id=468568) which explains why print is not working for custom fonts, so I tested in `firefox-20.0a1.en-US.win32.installer.exe`. The fonts with ttf and otf are applied exactly as it should be.

# iphone - 是否可以使用 sharekit 或其他 ios-sdk 在 flickr 上上传视频？

> ID：13467297
> 
> 赞同：-3
> 
> 时间：2012-11-20T05:48:40.750
> 
> 标签：iphone, ios, ios4

我想在 Flickr 上分享视频。我已经对网络和小组讨论进行了大量搜索，但没有得到任何有用的数据或链接，所以请给我一些有用的链接和教程，以便在 Flickr 上上传视频，不要给我任何反对票。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T09:28:37.263

您是否尝试过查看\研究 flickr api？[（链接在这里）](http://www.flickr.com/services/api/)它告诉你所有可用的服务。它看起来不是最好的文档，我真的不知道 flickr，但我没有看到任何视频提及（甚至不知道它是否可能）。

希望这可以帮助。

# sql-server - 限制帐户访问 SQL Server 2008 R2 中的 SYMMETRIC KEY 和密钥轮换

> ID：13467304
> 
> 赞同：1
> 
> 时间：2012-11-20T05:49:17.990
> 
> 标签：sql-server, sql-server-2008

我有一个由三部分组成的问题，用于解决 SQL Server 2008 R2 中的 SYMMETRIC KEYs。

1.  如何仅限制一个帐户使用对称密钥访问加密/解密的能力？
2.  当数据被传递到 SQL Server 时，它是“in-the-clear”传递的，并且可以通过存储过程和即席查询传递。我可以使用触发器来更新需要加密的列，因为它是使用上面的帐户和 SYMMETRIC KEY 插入的？
3.  一年后，按照我公司的政策，钥匙将不得不轮换和更换。有没有办法轻松地轮换密钥，或者这需要一个（用旧密钥解密，用新密钥加密）脚本？

仅供参考，我们使用的是 SQL Server 2008 R2 Standard，没有 TDE 的优势。:(

感谢您的回复！:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:16:38.110

加密通常通过控制加密层次结构来控制，而不是（仅）通过访问控制。换句话说，用户可以通过知道解密/加密*密钥*（具体来说就是保护密钥的密码）对数据进行加密和解密。所有好的加密方案都使用[密钥层次结构](http://msdn.microsoft.com/en-us/library/ms189586.aspx)。一个典型的简单层次结构是

*   数据使用对称密钥加密
*   对称密钥使用证书加密
*   与证书关联的私钥使用密码加密
*   授权用户提供私钥解密密码以访问数据

您还可以在使用的证书上添加显式授予/拒绝/撤销权限，请参阅[GRANT Certificates Permissions](http://msdn.microsoft.com/en-us/library/ms186278.aspx)但这不能替代知道证书加密密码密码。现在回到你的问题：

> 如何仅限制一个帐户使用对称密钥访问加密/解密的能力

该能力应该应用于加密对称密钥的证书，而不是对称密钥本身。使用这种间接级别，您可以为每个有权访问数据的用户创建一个证书，并让每个用户只知道*自己的*访问密码。撤销访问权限就像删除该特定用户的证书一样简单，不会影响任何其他用户的访问权限。添加新用户意味着添加新证书并将新证书的加密添加到加密数据的对称密钥中，从而实际上授予对数据的访问权限。由于社会原因，用户共享访问密码的替代方案在实践中从未奏效。

> 我可以使用触发器来更新需要加密的列，因为它正在使用上面的帐户和 SYMMETRIC KEY 插入

理想情况下，应用层应该调用一个存储过程来操作数据，在插入之前显式加密数据。[您可以使用INSTEAD OF 触发器](http://msdn.microsoft.com/en-us/library/ms175521(v=sql.105).aspx)推出穷人的“透明”解决方案。计算列可以公开解密数据，它将向所有未正确打开解密证书的用户（会话）显示 NULL。

> 钥匙必须旋转和改变

您轮换加密对称密钥的证书，而不是对称密钥本身。对称密钥也应该定期更改，但不要轮换，只需添加一个新的对称密钥并开始将其用于新数据和旧数据的更新，以限制暴力破解的范围并降低生日攻击的概率。理由是重新加密静态数据通常非常昂贵。大多数加密方案在加密层次结构（即上面提到的证书）中旋转更高的密钥，而不是用于加密数据的实际对称密钥。

# java - 如何让 java getRuntime().exec() 运行带参数的命令行程序？

> ID：13467307
> 
> 赞同：15
> 
> 时间：2012-11-20T05:49:55.087
> 
> 标签：java, process, exec, runtime.exec

我一直在尝试编写一个 java 程序，该程序使用该`Runtime.getRuntime().exec()`方法使用命令行来运行程序“tesseract”的实例。

一些背景知识，Tesseract 是一个免费的开源程序，用于对图片执行 OCR（光学字符识别）。它接收一个图片文件并输出一个文本文件。它是一个命令行程序，使用此命令运行

（从命令提示符外壳中）

```
tesseract imageFilePath outFilePath [optional arguments] 
```

例子：

```
tesseract "C:\Program Files (x86)\Tesseract-OCR\doc\eurotext.tif" "C:\Users\Dreadnought\Documents\TestingFolder\out" 
```

第一个参数调用 tesseract 程序，第二个是图像文件的绝对路径，最后一个参数是输出文件的路径和名称。Tesseract 只需要输出文件的名称，不需要扩展名。

在命令提示符下工作，这很完美。但是，我想从 java 程序中运行它并且遇到了一些错误。

我发现此代码作为起点非常有用

```
public class Main
{
   public static void main(String args[])
   {
      try
      {
         Runtime rt = Runtime.getRuntime();
         String cmdString = "cmd /c dir";

         System.out.println(cmdString);
         Process pr = rt.exec(cmdString);

         BufferedReader input = new BufferedReader(new InputStreamReader(
                                                   pr.getInputStream()));

         String line = null;

         while ((line = input.readLine()) != null)
         {
            System.out.println(line);
         }

         int exitVal = pr.waitFor();
         System.out.println("Exited with error code " + exitVal);

      }
      catch (Exception e)
      {
         System.out.println(e.toString());
         e.printStackTrace();
      }
   }
} 
```

它打印出 dir 命令的结果。但是，当我像这样修改它时

```
public class Main
{
   public static void main(String args[])
   {
      try
      {
         Runtime rt = Runtime.getRuntime();
         String imageFilePath = "\"C:\\Program Files (x86)\\Tesseract-OCR\\doc\\eurotext.tif\"";
         String outputFilePath = "\"C:\\Users\\Dreadnought\\Documents\\TestingFolder\\eurotext-example\"";
         String[] commands = {"cmd", "/c", "tesseract", imageFilePath, outputFilePath };

         Process pr = rt.exec(commands);

         BufferedReader input = new BufferedReader(new InputStreamReader(
               pr.getInputStream()));

         String line = null;

         while ((line = input.readLine()) != null)
         {
            System.out.println(line);
         }

         int exitVal = pr.waitFor();
         System.out.println("Exited with error code " + exitVal);
      }
      catch (Exception e)
      {
         System.out.println(e.toString());
         e.printStackTrace();
      }
   }
} 
```

它唯一输出的是`Exited with error code 1`. 如果进程以错误结束，这是预期的输出。

我什至尝试过`"cmd /c tesseract \"C:\\Program Files (x86)\\Tesseract-OCR\\doc\\eurotext.tif\" \"C:\\Users\\Dreadnought\\Documents\\TestingFolder\\eurotext-example\""`，但我最终遇到了同样的错误。

根据[在 getRuntime().exec 中使用引号，](https://stackoverflow.com/questions/161859/using-quotes-within-getruntime-exec)我认为问题在于我试图转义引号，所以这就是我传入字符串数组的原因。但我仍然得到`Exited with error code 1`.

是否可以使用 java 命令执行命令行程序`Runtime.getRuntime().exec()`？

* * *

**编辑**：问题仍然存在

我尝试不使用 Evgeniy Dorofeev 和 Nandkumar Tekale 在下面建议的推理方式使用“cmd /c”。但是，我得到了另一种错误：

```
java.io.IOException: Cannot run program "tesseract": CreateProcess error=2, The system cannot find the file specified
java.io.IOException: Cannot run program "tesseract": CreateProcess error=2, The system  cannot find the file specified
    at java.lang.ProcessBuilder.start(Unknown Source)
    at java.lang.Runtime.exec(Unknown Source)
    at java.lang.Runtime.exec(Unknown Source)
    at Main.main(Main.java:15)
Caused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified
    at java.lang.ProcessImpl.create(Native Method)
    at java.lang.ProcessImpl.<init>(Unknown Source)
    at java.lang.ProcessImpl.start(Unknown Source)
... 4 more 
```

也许这提供了更多信息？我真的很好奇是什么导致了这个问题。无论我是否将转义引号添加到我的论点中，问题都是相同的。

* * *

**编辑 2**：一时兴起，我提供了 tesseract 可执行文件的绝对路径，而不是`cmd /c`像魅力一样使用工作。我猜问题是`Runtime.getRuntime().exec()`不能调用环境变量？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2016-10-07T21:53:18.037

您没有捕获 STDERR，因此当发生错误时，您不会从 STDOUT（您正在捕获的）接收它们。尝试：

```
BufferedReader input = new BufferedReader(new InputStreamReader(
               pr.getErrorStream())); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-20T05:53:21.940

好吧`tesseract`是外部命令，因此您不需要将其与`cmd`. 添加`tesseract`到环境变量。使用直接命令：

```
String[] commands = {"tesseract", imageFilePath, outputFilePath }; 
```

存在状态 1 表示功能不正确。查看[进程退出状态](http://pcsupport.about.com/od/fixtheproblem/tp/system_error_codes_1_99.htm)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-06-14T21:52:16.063

另一种解决方法是提供文件的完整安装路径，例如 /usr/local/Cellar/tesseract/3.02.02/bin/tesseract"

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-05-02T15:23:46.190

另一种无需重新编译和部署的解决方法是使用旧的 DOS 样式路径，例如`C:\Program Files`. `C:\Progra~1`当然，仅当您从配置文件或数据库和注册表等读取路径时，这才会有帮助。

# jquery - 如何给占位符颜色？

> ID：13467308
> 
> 赞同：0
> 
> 时间：2012-11-20T05:50:05.617
> 
> 标签：jquery, html, css

嗨，下面的文本是一个来自 js 的占位符，它的颜色是`#ccc`。我需要 textarea 颜色为黑色，现在它正在使用占位符颜色。

```
<textarea id="txt1" class="txt1 required" name="comment1"></textarea><br>

 var firstname = userModel.get('firstName');
  $('textarea#txt1').val('Hey ' +firstname+',\nTell us what is on your mind').css('color','#ccc');
    }); 
```

如何为 textarea 和 placehoder 赋予不同的颜色

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T05:57:17.110

可以使用如下`placeholder`属性设置占位符文本：

```
var name = "some name";

$('#txt1').attr('placeholder', 'Hey ' + name + ', Tell us what is on your mind'); 
```

[http://jsfiddle.net/rxhHS/1/](http://jsfiddle.net/rxhHS/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T05:57:15.757

使用 CSS

```
 .txt1{background-color:black;color:white;}
    #txt1::-webkit-input-placeholder {
      color: #ccc;
    } 
```

[演示](http://jsfiddle.net/ZSrHh/1/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T06:01:23.263

基本上，您正在为 textarea 定义颜色。所以它对所有文本都是相等的。

如果您使用的是 HTML 5，那么我们可以按如下方式编写 textarea。

```
<textarea id="txt1" 
    placeholder='Hey, Tell us what is on your mind' 
    class="txt1 required" name="comment1"></textarea> 
```

但是如果你不使用 HTML5，那么我们可以使用一个非常好的 jQuery 插件（我个人使用它）

[https://github.com/mathiasbynens/jquery-placeholder](https://github.com/mathiasbynens/jquery-placeholder)

**编辑**

想在中添加名称`placeholder`。

```
var firstname = userModel.get('firstName');
$('textarea#txt1').attr('placeholder','Hey '+firstname+', Tell us what is on your mind'); 
```

# apache-pig - 在 Pig Latin 中连接后，在连接字段上排序的表是否仍会排序

> ID：13467309
> 
> 赞同：0
> 
> 时间：2012-11-20T05:50:20.670
> 
> 标签：apache-pig

我正在使用 Apache Pig Latin 并试图确定我是否加入了之前在其连接字段上排序的两个表，结果表是否仍会被排序？底层的 mapreduce 过程会影响输出元组相对于最初排序的键的顺序吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T11:43:02.573

很可能不是。请阅读猪拉丁语参考手册中[ORDER BY](http://pig.apache.org/docs/r0.8.1/piglatin_ref2.html#ORDER+BY)的“使用”部分。

# apache-flex - Flex：有什么方法可以在 Spark TextArea 中使用 htmlText 之类的东西？

> ID：13467313
> 
> 赞同：0
> 
> 时间：2012-11-20T05:50:38.427
> 
> 标签：apache-flex, flex4, flash-builder, flex4.5, flexbuilder

我正在使用 php 服务将文本从 MySql 插入到 TextArea。好的，使用 mx textarea 正在工作，但是我如何使用 spark 管理它！？

这是我的 mx 示例：

```
<mx:TextArea htmlText="{links.comment}"/> 
```

这是火花的一个例子：

```
<s:TextArea>
    <s:textFlow>
        <s:TextFlow>
            <s:a href="http://www.google.com/" target="_blank"><s:span color="0xCECB02" textDecoration="none">Something and Something</s:span></s:a>
        </s:TextFlow>
    </s:textFlow>
</s:TextArea> 
```

那行得通，但是我怎样才能从 MySql 中获取相同的“{links.comment}”！？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:55:05.720

如果您将数据作为标签格式获取，您可以通过以下方式解决它： -

```
<s:TextArea color="0xCECB02" textDecoration="none" textFlow ="{TextFlowUtil.importFromString(links.comment, WhiteSpaceCollapse.PRESERVE)}"/> 
```

# pointers - Lua 如何在 C++ 中将 void* 指针传递给 lua && 将其传递回 C++

> ID：13467314
> 
> 赞同：2
> 
> 时间：2012-11-20T05:51:02.307
> 
> 标签：pointers, lua, luabind

现在我想传递一个`void*`指向 Lua 的指针，使用 userdata？这该怎么做？

顺便说一句，我使用了 luabind，但它不能将`void*`指针传递给 Lua 堆栈，这很烦人！你们能帮帮我吗？

```
struct Event
{
     A* a;
     B* b;
     ...
};

Event *e;
void* instance = (void*)e;

// param is a parameter that is passed from Lua script. param is a Event object. And I cast it into a void* type
string Answer(void* param)
{
    WorkEvent *pWorkEvent = static_cast<WorkEvent*>(param);
    ASSERT_RET(pWorkEvent, NULL);

    string call_id = pWorkEvent->GetCallId();
    CCmThreadManager::TType thrd_id =  pWorkEvent->GetHandleThrdID();
    Coroutine *pco    = pWorkEvent->m_pco; 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-20T06:58:56.963

在讨论为什么不应该这样做之前，让我们先回答您的实际问题。

LuaBind 是一个将 C++ 函数和对象绑定到 Lua 的工具。A`void*`既不是函数也不是对象。从字面上看，它是指向*nothing*的指针。因此，它对 LuaBind 没有真正的意义。所以你不能直接通过一个。

但是，您*可以*返回 a `luabind::object`，它可以表示任何 Lua 值。例如，一个 Lua 用户数据。这意味着您可以从您的 . 中创建一些轻量级用户数据`void*`，将其粘贴到 a 中`luabind::object`并从您在 LuaBind 注册的函数中返回它。

```
luabind::object RegisteredFunction(..., lua_State *L)
{
  void *return_value = ...;

  lua_pushlightuserdata(L, return_value);
  luabind::object ret(luabind::from_stack(L, -1));
  lua_pop(L, 1);
  return ret;
} 
```

要允许 Lua 将其传回以便您可以检索它，只需创建一个以 luabind::object 作为`void*`参数的函数：

```
void OtherRegisteredFunction(..., luabind::object obj, ...)
{
  assert(luabind::type(obj) == LUA_TLIGHTUSERDATA);
  obj.push();
  void *param = lua_touserdata(obj.interpreter(), -1);
  lua_pop(obj.interpreter(), 1);
} 
```

这就是您传递此类数据的方式。现在这就是你不应该这样做的原因。

首先，您的代码已*损坏*：

```
WorkEvent *pWorkEvent = static_cast<WorkEvent*>(param); 
```

假设您`param`来自这一行，`void* instance = (void*)e`C++ 不保证它可以工作。如果你将一个对象强制转换为 a `void*`，C++*仅*提供了一个保证，如果你将它强制转换为与以前*完全相同的对象*，则可以得到有用的东西。

您从 开始`Event*`，然后将其转换为`void*`。您可以做的唯一*合法*操作是将其转换回`Event*`. 即使`WorkEvent`是 的派生类`Event`，也不能*直接*将其强制转换为该类。你必须把它变成`Event*`第一个。此外，`dynamic_cast`一旦你有一个`Event*`.

其次，停止使用`void*`s 。如果您的所有事件都来自`Event*`，则只需传递 an`Event*`并`dynamic_cast`在适当的地方使用。如果不是，那么您应该[使用`boost::any`](http://www.boost.org/doc/libs/1_52_0/doc/html/any.html)（LuaBind 需要 Boost，所以显然您已经在使用它了）。您不仅可以将它绑定到 LuaBind（因为它是一个实际类型），而且使用起来更加自然。

它具有内置的保护功能，可以避免您的代码之前遇到的问题；如果您尝试将其强制转换为 a`WorkEvent`时仅给出 a `Event`，它将引发异常。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-20T07:15:02.323

我们不直接在 lua 中使用 void*。在这里，我们使用 c 函数调用 lua 函数，然后 lua 函数在第一个 c 中调用 c 函数，我们将 void* 传递给 lua 函数，然后 lua 将 void* 传递给第二个 c 函数。

但是我们发现我们在添加default_converter void*的时候不能给lua传递一个void*。

```
namespace luabind
{
    template <>
    struct default_converter<void*> : native_converter_base<void*>
    {
        static int compute_score(lua_State * L, int index)
        {
            // this function will return 0 or -1 (int)
            return lua_type(L, index) == LUA_TLIGHTUSERDATA ? 0 : -1;
        }
        void* from(lua_State * L, int index)
        {
            return lua_touserdata(L, index);
        }
        void to(lua_State * L, void* value)
        {
            lua_pushlightuserdata(L, value);
        }
    };

} // namespace luabind 
```

# java - 如何在 JPA2 标准查询中使用多个联接？

> ID：13467316
> 
> 赞同：2
> 
> 时间：2012-11-20T05:51:31.340
> 
> 标签：java, jpa-2.0, openjpa, criteria-api

这是一个真正问题的愚蠢版本

我有三张桌子`STUDENT` `ADDRESS` `CLASS`

`STUDENT ManyToOne ADDRESS` `STUDENT ManyToMany CLASS`

我需要把所有有相同地址的学生带到同一个班级。

Sql 只是（只是在运行中写这个并且没有测试它）

`Select * from STUDENT s join ADDRESS a on s.addressId = a.addressId join CLASS c on c.classId = s.classId`

现在我是 Criteria 的新手，虽然到目前为止可以合理地使用它，但我完全被困住了，因为我应该如何做这个 join 已经查看了 Oracle、Jboss 等的所有文档，但没有说明应该如何做以及所有我在黑暗中采取的刺伤没有成功。即使在 SO 上，也有许多类似语气的问题，但是当您阅读它们时，这是在问其他问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-25T16:36:20.433

你可以试试这个：

```
Root<STUDENT> from = criteriaQuery.from(STUDENT.class);
Join<STUDENT, ADDRESS> joinAddress = from.join(STUDENT_.address);
Join<STUDENT, CLASS> joinClass = from.join(STUDENT_.class); 
```

在此之前，您应该从您的实体生成元类。

```
javac -classpath "PATHTOLIBRARIES\openjpa-all-2.2.2.jar" -Aopenjpa.metamodel=true STUDENT.java ADDRESS.java CLASS.java 
```

PS：如果你不需要对'from.join'的结果做任何额外的事情，你可以忽略重新生成的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T17:44:35.443

假设您的 Student 类定义了一个由 JPA 管理的集合，您不需要在 JPQL 查询中定义任何连接。只需检索 Student 对象，OpenJPA 就会自动检索地址和类。

# grails - 如何在 Geb 模块中获取基本元素属性

> ID：13467323
> 
> 赞同：1
> 
> 时间：2012-11-20T05:52:17.543
> 
> 标签：grails, groovy, module, geb

给定 HTML：fooLink

和页面对象

```
class FooPage extend geb.Page {
    static content = {
        foo = { Module FooModule, $('.foo') }
    }
} 
```

将@href 元素从模块中取出的正确实现是什么？

```
class FooModule extends geb.module {
    static content = { 
        smartField = { doSomethingSmartWith(?.@href) }
    }
} 
```

我试过了，this、delegate、base、$ 和@，它们都不起作用。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-20T05:59:46.170

Derp，我在发布问题后立即找到了它。$()。

这是以防万一这有助于某人：

```
class FooModule extends geb.module {
    static content = { 
        smartField = { doSomethingSmartWith($().@href) }
    }
} 
```

# java - 在 java Swing GUI List 上显示特定的系统进程名称

> ID：13467328
> 
> 赞同：0
> 
> 时间：2012-11-20T05:52:52.287
> 
> 标签：java, swing, jnienv

我有一个通过以下方法给出的系统进程列表： public native int fetchProcessIDs(int[] pids); 公共原生字符串 getProcessName(int hProcess); 我必须在 java swing GUI 列表上显示这些进程。但我只想在该 GUI 列表上显示特定进程。例如，我只想在 gui 列表中显示名称为 chrome.exe 的系统进程。并且进程和内存状态也显示在 gui 上。如何在给定的本地方法列表中显示特定进程。请提出一些解决方案谢谢。

# ios - 如何在 JQM 中更改相对于滑块的文本标签？

> ID：13467335
> 
> 赞同：2
> 
> 时间：2012-11-20T05:53:38.430
> 
> 标签：ios, html, jquery-mobile, slider, jquery-ui-slider

我正在使用 Jquerymobile。我有一个滑块和一个与之对应的文本框。当我们根据我们定义的范围移动滑块时，默认功能会在文本字段中显示。但我想显示文本而不是数字。这更像是严重性问题。即：当滑块值达到 30 时，它应该在文本框中显示“更少服务器”，当它达到 50 时，文本应该变为“更多服务器”。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T21:45:26.127

@Jeemusu 的解决方案在所有情况下都不适用于我......因此我使用[以下信息](https://forum.jquery.com/topic/how-to-execute-javascript-code-when-finger-is-lifted-from-a-slider)对其进行了修改：

```
<script>
$(document).bind('pageinit', function () {
  //depending on the device we have a touch or a mouse event
  var supportTouch = jQuery.support.touch,
      touchStartEvent = supportTouch ? "touchstart" : "mousedown",
      touchStopEvent  = supportTouch ? "touchend"   : "mouseup",
      touchMoveEvent  = supportTouch ? "touchmove"  : "mousemove";

  //the event is bound to the .ui-slider inside of the input type range
  $('#slider-a').siblings('.ui-slider').bind(touchStopEvent,function(){
    var sliderVal = $("#slider-a").attr('value');

    if(sliderVal <= 30) {
      $('#slider-phrase').html('normal');
    } else if(sliderVal >= 30 && sliderVal < 50) {
      $('#slider-phrase').html('less severe');
    } else if(sliderVal >= 50) {
      $('#slider-phrase').html('more severe');
    }
  });
});
</script> 
```

在此处查看[工作示例](http://jsfiddle.net/suR7H/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T09:54:06.313

您所要做的就是寻找由 jQuery Mobile 创建的锚点（用于滑块），然后将点击事件绑定到它。在点击事件中，您可以使用条件语句检查值并将它们输出到页面，如下所示：

```
$(document).ready(function() {

var sliderAnchor = $("#slider-a").closest('div').children('div').children('a');

  sliderAnchor.bind('tap',function(e){

    var sliderVal = $("#slider-a").attr('value');

    if(sliderVal <= 30) {
       $('#slider-phrase').html('normal');
    } else if(sliderVal >= 30 && sliderVal < 50) {
       $('#slider-phrase').html('less severe');
    } else if(sliderVal >= 50) {
       $('#slider-phrase').html('more severe');
    }

  });

}); 
```

一个工作示例：http: [//jsbin.com/igugac/1/](http://jsbin.com/igugac/1/)

# c# - 刷新后防止插入：时间戳与检查现有记录

> ID：13467337
> 
> 赞同：1
> 
> 时间：2012-11-20T05:53:52.270
> 
> 标签：c#

哪种方法可以更好地防止刷新页面后将数据重新插入数据库？

我应该在每次插入一行时检查数据库还是使用 viewState 和会话更有效？

```
 protected void Page_Load(object sender, EventArgs e)
    {

        /* check refresh */
        if (IsPostBack == false)
        {
            Session["CheckRefresh"] = Server.UrlDecode(System.DateTime.Now.ToString());
        }
        //rest of the codes
     }

    protected void Page_PreRender(object sender, EventArgs e)
    {
        // set both session and viewstate value equal 
        ViewState["CheckRefresh"] = Session["CheckRefresh"];
    }

    protected void btnSaveTazkera_Click(object sender, EventArgs e)
    {
        if (Session["CheckRefresh"].ToString() == ViewState["CheckRefresh"].ToString())
        {
            //give a new value to session
            Session["CheckRefresh"] = Server.UrlDecode(System.DateTime.Now.ToString());
    //rest of the code
    } 
```

tnx。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T09:00:31.830

使用会话更有效，但也可能不是100％安全（如果我不刷新页面，而是重新打开浏览器并再次输入相同的信息怎么办？会话是新的，数据仍然会插入两次） .

如果要防止将记录重复插入数据库，最简单的方法是创建相应的主键或通过检查插入是否正常的存储过程进行插入。

您仍然可以在插入之前将会话用作附加检查，但最终检查应留给数据库/插入数据库的代码。

但这只是我的意见和我会怎么做。我不认为有什么像标准的事情要做:-)

# asp.net - WebApi JSON 输出

> ID：13467339
> 
> 赞同：2
> 
> 时间：2012-11-20T05:54:05.847
> 
> 标签：asp.net, json, asp.net-web-api

所以我在 MVC4 中创建了一个 WebApi 项目，但无法理解 JSON 输出。我不完全确定这是 JSON 的预期输出还是我做错了什么。

我有三个表（pb_Project、pb_Tasks 和 pb_Priority）。关系如下： 项目可能有很多任务，每个项目可以有一个优先级。

[实体 http://img705.imageshack.us/img705/9294/stackoverflowentities.png](http://img705.imageshack.us/img705/9294/stackoverflowentities.png)

现在，我收到的输出很奇怪，而且不是很直观。我不确定这是否是预期的 JSON（因为我是全新的）。当我运行网站以检索项目的 JSON 输出时，我得到以下结果。

```
[

    {
        "$id": "1",
        "pb_Priority": {
            "$id": "2",
            "pb_Projects": [
                {
                    "$ref": "1"
                },
                {
                    "$id": "3",
                    "pb_Priority": {
                        "$ref": "2"
                    },
                    "pb_Tasks": [
                        {
                            "$id": "4",
                            "pb_Projects": {
                                "$ref": "3"
                            },
                            "TASK_ID": 3,
                            "PROJECT_ID": 2,
                            "USER_ID": 2,
                            "DUE_DATE": "2012-11-19T00:00:00",
                            "PRIORITY_ID": 2,
                            "TASK_NAME": "project 2 task 1",
                            "DESCRIPTION": "asdf"
                        }
                    ],
                    "PROJECT_ID": 2,
                    "USER_ID": 2,
                    "NAME": "Project2",
                    "DESCRIPTION": "project 2 description",
                    "BUDGET": 1,
                    "LOCATION": "CANADA",
                    "START_DATE": "2012-11-18T00:00:00",
                    "PRIORITY_ID": 1,
                    "PROJ_SCALE": null,
                    "NOTES": null
                }
            ],
            "PRIORITY_ID": 1,
            "PRIORITY_LEVEL": 1
        },
        "pb_Tasks": [
            {
                "$id": "5",
                "pb_Projects": {
                    "$ref": "1"
                },
                "TASK_ID": 1,
                "PROJECT_ID": 1,
                "USER_ID": 1,
                "DUE_DATE": "2012-11-19T00:00:00",
                "PRIORITY_ID": 1,
                "TASK_NAME": "project 1 task 1",
                "DESCRIPTION": "adsf"
            },
            {
                "$id": "6",
                "pb_Projects": {
                    "$ref": "1"
                },
                "TASK_ID": 2,
                "PROJECT_ID": 1,
                "USER_ID": 2,
                "DUE_DATE": "2012-11-19T00:00:00",
                "PRIORITY_ID": 1,
                "TASK_NAME": "project 1 task 2 user 2",
                "DESCRIPTION": "asd"
            }
        ],
        "PROJECT_ID": 1,
        "USER_ID": 1,
        "NAME": "Project1",
        "DESCRIPTION": "project 1 description",
        "BUDGET": 1000,
        "LOCATION": "USA",
        "START_DATE": "2012-11-18T00:00:00",
        "PRIORITY_ID": 1,
        "PROJ_SCALE": null,
        "NOTES": null
    },
    {
        "$ref": "3"
    }

] 
```

控制器如下：

```
public IEnumerable<pb_Projects> Getpb_Projects()
{
    return db.pb_Projects.AsEnumerable();
} 
```

我希望从这个 json 结果中得到一个项目（对象）列表以及任何其他相关的 FK 等。而在这里我得到一个大对象，另一个参考作为第二个对象。我做错了什么吗，我会期待这样的事情（不要担心它只是测试数据，所以没有真正的密码：P）......

```
[

{
    "$id": "1",
    "UserId": 1,
    "CreateDate": "2012-11-18T21:46:56.78",
    "ConfirmationToken": null,
    "IsConfirmed": true,
    "LastPasswordFailureDate": null,
    "PasswordFailuresSinceLastSuccess": 0,
    "Password": "AIGvGbJIedgTyY+m08DCVhZbVnRTWzW6kvl1JMOqsFqOCSjnJTBlGUGmVveAYIONJw==",
    "PasswordChangedDate": "2012-11-18T21:46:56.78",
    "PasswordSalt": "",
    "PasswordVerificationToken": null,
    "PasswordVerificationTokenExpirationDate": null
},
{
    "$id": "2",
    "UserId": 2,
    "CreateDate": "2012-11-18T21:48:05.067",
    "ConfirmationToken": null,
    "IsConfirmed": true,
    "LastPasswordFailureDate": null,
    "PasswordFailuresSinceLastSuccess": 0,
    "Password": "ACeoUpOVNEvgumvmSkFziRkNQzTlZC8+KAy32egXQseKLmhmJGX/VDXRXylkBUph3Q==",
    "PasswordChangedDate": "2012-11-18T21:48:05.067",
    "PasswordSalt": "",
    "PasswordVerificationToken": null,
    "PasswordVerificationTokenExpirationDate": null
},
{
    "$id": "3",
    "UserId": 3,
    "CreateDate": "2012-11-19T00:35:49.163",
    "ConfirmationToken": null,
    "IsConfirmed": true,
    "LastPasswordFailureDate": null,
    "PasswordFailuresSinceLastSuccess": 0,
    "Password": "AF7W+1FNLcaA2qJ3nmrB7S9mkJmJGZCpAZYbyH5+iXryq1epr8i67ddgSbvFQF1bQw==",
    "PasswordChangedDate": "2012-11-19T00:35:49.163",
    "PasswordSalt": "",
    "PasswordVerificationToken": null,
    "PasswordVerificationTokenExpirationDate": null
},
{
    "$id": "4",
    "UserId": 4,
    "CreateDate": "2012-11-19T00:39:00.667",
    "ConfirmationToken": null,
    "IsConfirmed": true,
    "LastPasswordFailureDate": null,
    "PasswordFailuresSinceLastSuccess": 0,
    "Password": "ABPdfSj8jZAWqhHMDuTVQuL3AiEmiplSujA/GNjQoGoMQm0zhNwAAOaInbqrXFrM0g==",
    "PasswordChangedDate": "2012-11-19T00:39:00.667",
    "PasswordSalt": "",
    "PasswordVerificationToken": null,
    "PasswordVerificationTokenExpirationDate": null
} 
```

]

这是未格式化的原始 JSON

```
[{"$id":"1","pb_Priority":{"$id":"2","pb_Projects":[{"$ref":"1"},{"$id":"3","pb_Priority":{"$ref":"2"},"pb_Tasks":[],"PROJECT_ID":2,"USER_ID":2,"NAME":"test2","DESCRIPTION":"test2","BUDGET":1.0,"LOCATION":"test","START_DATE":"2012-11-18T00:00:00","PRIORITY_ID":1,"PROJ_SCALE":null,"NOTES":null}],"PRIORITY_ID":1,"PRIORITY_LEVEL":1},"pb_Tasks":[{"$id":"4","pb_Projects":{"$ref":"1"},"TASK_ID":1,"PROJECT_ID":1,"USER_ID":1,"DUE_DATE":"2012-11-19T00:00:00","PRIORITY_ID":1,"TASK_NAME":"asdf","DESCRIPTION":"adsf"},{"$id":"5","pb_Projects":{"$ref":"1"},"TASK_ID":2,"PROJECT_ID":1,"USER_ID":2,"DUE_DATE":"2012-11-19T00:00:00","PRIORITY_ID":1,"TASK_NAME":"sdf","DESCRIPTION":"asd"},{"$id":"6","pb_Projects":{"$ref":"1"},"TASK_ID":3,"PROJECT_ID":1,"USER_ID":2,"DUE_DATE":"2012-11-19T00:00:00","PRIORITY_ID":2,"TASK_NAME":"dsf","DESCRIPTION":"asdf"}],"PROJECT_ID":1,"USER_ID":1,"NAME":"test","DESCRIPTION":"test","BUDGET":null,"LOCATION":"test","START_DATE":"2012-11-18T00:00:00","PRIORITY_ID":1,"PROJ_SCALE":null,"NOTES":null},{"$ref":"3"}] 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T06:57:24.317

如果您使用的是 EF，默认情况下，它将延迟加载导航属性中的所有数据。当序列化器序列化模型时，它将访问模型上的每个属性，并且 EF 将加载所有嵌套数据。

作为最佳实践，您不应将 DB 模型公开为 Web api 模型。您最好创建另一个 DTO 模型，您可以准确控制将返回给客户端的内容以及您希望从客户端接收的内容。

或者，您可以通过修饰符隐藏这些导航属性（将它们标记为内部）或使用 [IgnoreDataMember] 属性来快速解决此问题。它告诉序列化程序在序列化和反序列化时不要访问它们。

# ipad - 部署 iPad 时应该考虑什么？

> ID：13467341
> 
> 赞同：2
> 
> 时间：2012-11-20T05:54:20.740
> 
> 标签：ipad, security

我为我工作的公司建立了一个基于网络的流程管理系统。它管理业务的所有方面：估计、客户、日程安排、会计、工作订单等。该业务有 3-5 个服务人员，他们收到一堆打印的工作订单（从该系统打印），然后他们出去完成在他们的一天中。在一天结束时，将工作订单堆栈返回办公室，以将完成的工作订单详细信息传输到系统中。

老板现在想放开工单的纸质打印输出，而是在每辆服务车上放一台 iPad。这个想法是服务人员将登录到我们基于网络的流程管理系统，并处理网站上的工作订单列表。这有很多好处，我认为我不需要列出。

我的问题是，我是否需要额外担心让 iPad 在现场登录到基于 Web 的系统以完成工作订单？我应该做些什么额外的事情？我不禁认为这与笔记本电脑登录系统没有什么不同（这已经发生了）——但不同之处在于 iPad 将使用蜂窝连接，而不是 wifi 连接。除了我已经采取的正常安全步骤之外，我是否应该采取任何额外的步骤来管理 iPad 连接？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-16T01:13:59.613

我能想到的唯一一件事是，如果人们让 iPad 处于登录状态并被盗，那么攻击者（或者更现实地说，是一个随机的小偷）将可以访问您的应用程序和数据。这很容易通过在 iPad 上设置密码并让 cookie 在一定数量的不活动后过期（您可能已经拥有的功能）来解决。

此外，可能值得在 iPad 上安装跟踪软件以防被盗。

# java - 想要使用 32 字节的 AES 256 CBC，但它显示 java.security.InvalidAlgorithmParameterException

> ID：13467343
> 
> 赞同：5
> 
> 时间：2012-11-20T05:54:28.927
> 
> 标签：java, security, aes

我正在使用 AES 256 CBC。我有 32 个字节的 IV。但是当我运行它时，它显示一个异常：

```
Exception in thread "main" java.lang.RuntimeException: java.security.InvalidAlgorithmParameterException: Wrong IV length: must be 16 bytes long
    at com.abc.aes265cbc.AESUtil.decrypt(AESUtil.java:50)
    at com.abc.aes265cbc.Security.main(Security.java:48)
Caused by: java.security.InvalidAlgorithmParameterException: Wrong IV length: must be 16 bytes long
    at com.sun.crypto.provider.CipherCore.init(CipherCore.java:430)
    at com.sun.crypto.provider.AESCipher.engineInit(AESCipher.java:217)
    at javax.crypto.Cipher.implInit(Cipher.java:790)
    at javax.crypto.Cipher.chooseProvider(Cipher.java:848)
    at javax.crypto.Cipher.init(Cipher.java:1347)
    at javax.crypto.Cipher.init(Cipher.java:1281)
    at com.abc.aes265cbc.AESUtil.decrypt(AESUtil.java:47)
    ... 1 more 
```

我不知道如何解决这个问题。我搜索了但我没有得到如何解决这个问题。我第一次尝试安全概念。我的 AES 256 CBC 代码是：

```
 public static void setENCRYPTION_IV(String ENCRYPTION_IV) {
        AESUtil.ENCRYPTION_IV  =   ENCRYPTION_IV;
    }

    public static void setENCRYPTION_KEY(String ENCRYPTION_KEY) {
        AESUtil.ENCRYPTION_KEY  =   ENCRYPTION_KEY;
    }

    public static String encrypt(String src) {
        try {
            Cipher cipher = Cipher.getInstance("AES/CBC/PKCS5Padding");
            cipher.init(Cipher.ENCRYPT_MODE, makeKey(), makeIv());
            return Base64.encodeBytes(cipher.doFinal(src.getBytes()));
        } catch (Exception e) {
            throw new RuntimeException(e);
        }
    }

    public static String decrypt(String src) {
        String decrypted = "";
        try {
            Cipher cipher = Cipher.getInstance("AES/CBC/PKCS5Padding");
            cipher.init(Cipher.DECRYPT_MODE, makeKey(), makeIv());
            decrypted = new String(cipher.doFinal(Base64.decode(src)));
        } catch (Exception e) {
            throw new RuntimeException(e);
        }
        return decrypted;
    }

    static AlgorithmParameterSpec makeIv() {
        try {
            return new IvParameterSpec(ENCRYPTION_IV.getBytes("UTF-8"));
        } catch (UnsupportedEncodingException e) {
            e.printStackTrace();
        }
        return null;
    }

    static Key makeKey() {
        try {
            MessageDigest md = MessageDigest.getInstance("SHA-256");
            byte[] key = md.digest(ENCRYPTION_KEY.getBytes("UTF-8"));
            return new SecretKeySpec(key, "AES");
        } catch (NoSuchAlgorithmException e) {
            e.printStackTrace();
        } catch (UnsupportedEncodingException e) {
            e.printStackTrace();
        }

        return null;
    } 
```

你能帮我改变这段代码中的内容，我将能够使用 32 字节的 IV。提前致谢

编辑：我调用此函数的主要函数：

```
 AESUtil.setENCRYPTION_KEY("96161d7958c29a943a6537901ff0e913efaad15bd5e7c566f047412179504ffb");

    AESUtil.setENCRYPTION_IV("d41361ed2399251f535e65f84a8f1c57");
    String decrypted = AESUtil.decrypt(new String(sw0SrUIKe0DmS7sRd9+XMgtYg+BUiAfiOsdMw/Lo2RA=));   // AES Decrypt 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-22T08:10:37.933

AES 算法的块大小为 128 位，无论您的密钥长度是 256、192 还是 128 位。

当对称密码模式需要 IV 时，IV 的长度必须等于密码的块大小。因此，您必须始终使用 128 位（16 字节）的 IV 和 AES。

无法将 32 字节 IV 与 AES 一起使用。

# jquery - How can I disable(don't scroll) on left and right trackpad's movements. (jQuery scrollbars)

> ID：13467346
> 
> 赞同：2
> 
> 时间：2012-11-20T05:54:36.513
> 
> 标签：jquery, scrollbar, touchpad, trackpad, slimscroll

I'm using [`slimScroll`](http://rocha.la/jQuery-slimScroll?page=5)

Here is an example -> [http://jsfiddle.net/rgmrw/11/](http://jsfiddle.net/rgmrw/11/)

How can I disable left and right touchpad's movements. For example, by dragging two fingers UP - it scrolls UP. It's ok, the same stuff if I drag to fingers left. Can I disable left and right movements? I just need up & down:) Maybe someone knows how to disable it or how to track it(touchpad's movements) down? I have tried other jQuery scrollbars & I get the same behaviour.

Any help will be really appreciate. Thanks

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-08T14:41:55.190

I just change to [jscrollpane](http://jscrollpane.kelvinluck.com/) & everything ok:) [example](http://www.xiper.net/examples/js-plugins/ui/jscrollpane/jquery-scroll.html)

# jquery - jQuery .validate() submitHandler 未调用

> ID：13467347
> 
> 赞同：0
> 
> 时间：2012-11-20T05:54:44.470
> 
> 标签：jquery, jquery-validate

我正在尝试使用 jQuery Validation 插件向表单添加一些自定义验证（必须至少选中一个复选框）。

不幸的是， .validate() 中的 submitHandler 根本没有被调用。我确定这是一个简单的问题，但我无法发现它。我已经减少了以下小提琴中的问题：

[http://jsfiddle.net/ericjohannsen/xcmtc/3/](http://jsfiddle.net/ericjohannsen/xcmtc/3/)

期望的结果是

```
alert('Form Validation OK.'); 
```

执行。

我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T06:44:19.897

在谷歌搜索并尝试了几个小时后，我偶然发现了正确的答案......

> Microsoft 的 jquery.validation.unobtrusive.js 削弱了 jQuery.validation，因此它的大部分配置选项不再起作用。既不使用 $.validate.setDefaults() 也不使用 $('#element').validate() 方法。

[http://www.tigraine.at/2011/08/26/jquery-validate-and-microsofts-unobtrusive-validation-dont-play-well-together/](http://www.tigraine.at/2011/08/26/jquery-validate-and-microsofts-unobtrusive-validation-dont-play-well-together/)

# blackberry - 从黑莓中的url获取数据

> ID：13467348
> 
> 赞同：2
> 
> 时间：2012-11-20T05:54:49.490
> 
> 标签：blackberry

我有一个文件**“http://www.example.com/123.aes”**的网址 （它包含超过 2MB 的 mp3 文件的数据）。现在我想从这个 url 获取数据。当我尝试使用 http 连接来获取数据时，它显示一个错误 -**请求的实体太大**。如何解决这个问题呢 ？。我的代码如下 -

```
 try {
    HttpConnection httpConn = (HttpConnection) Connector.open(httpURL, Connector.READ, true);
    final int iResponseCode = httpConn.getResponseCode();
    Dialog.alert(iResponseCode+"");
    InputStream is = httpConn.openInputStream();
    byte[] data = net.rim.device.api.io.IOUtilities.streamToBytes(is);
    String result = new String(data);
    Dialog.alert(result);

    FileConnection conn = (FileConnection)Connector.open("file:///store/home/user/pictures/"+System.currentTimeMillis()+".mp3", Connector.READ_WRITE);
    conn.create();
    OutputStream out = conn.openOutputStream();
    out.write(data);
    out.flush();
    out.close();
    conn.close(); 
   } catch (IOException e) {
    Dialog.alert(e+"");
    } 
```

我也想将它保存为手机内存中的 mp3 文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:46:41.890

希望这会帮助你。尝试以下功能：

```
public static String getPage(String url) {    
    String response = "";
    try {
        HttpConnection conn = 
            (HttpConnection)Connector.open(url,Connector.READ_WRITE);
        InputStream input =conn.openInputStream(); 
        byte[] data = new byte[256];
        int len = 0;
        StringBuffer raw = new StringBuffer();
        while( -1 != (len = input.read(data))) {
            raw.append(new String(data, 0, len));
        }
        response = raw.toString();
        input.close();
    } 
    catch(Exception e) {
        Dialog.alert(e.toString());
    }
    return response;
} 
```

对此函数的示例调用，

```
getPage("yourUrl;deviceside=true;interface=wifi"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T10:55:57.837

终于我得到了答案——

```
ConnectionFactory connFact = new ConnectionFactory();
ConnectionDescriptor connDesc;
connDesc = connFact.getConnection(httpURL);
HttpConnection httpConn = (HttpConnection) connDesc.getConnection();
   try {
    httpConn.setRequestMethod(HttpConnection.GET);
    InputConnection inputConn = (InputConnection) httpConn;
    InputStream is = inputConn.openInputStream();
    byte[] data =IOUtilities.streamToBytes(is);
    Dialog.alert(original.toString());
    FileConnection conn = (FileConnection)Connector.open("file:///store/home/user/pictures/"+System.currentTimeMillis()+".mp3", Connector.READ_WRITE);
    conn.create();
    OutputStream out = conn.openOutputStream();
    out.write(original);
    out.flush();
    out.close();
    conn.close();  
   } catch (IOException e) {
      Dialog.alert(e+"");
   } 
```

# c# - 使用 c# 在 asp.net 中使用 asyncfileupload 时出现错误“未知服务器错误”？

> ID：13467349
> 
> 赞同：1
> 
> 时间：2012-11-20T05:55:15.527
> 
> 标签：c#, asp.net, file-upload, asyncfileupload

我正在使用 asyncfileupload 控件上传 .csv 文件并读取它并将数据存储在数据库中，这就是我正在做的事情：

```
<asp:AsyncFileUpload ID="venfileupld" runat="server" OnUploadedComplete="ProcessUpload" /> 
```

这是代码：

```
protected void ProcessUpload(object sender, AjaxControlToolkit.AsyncFileUploadEventArgs e)
{

    string name = System.IO.Path.GetFileName(e.FileName);
    string dir = Server.MapPath("upload_excel/");
    string path = Path.Combine(dir, name);
    venfileupld.SaveAs(path);
    writetodb(path);
    fetch4();

} 
```

现在在我的本地主机中一切正常......但是当我在托管服务器中上传它时，当我上传文件时出现错误..错误是：

```
"Unknown Server Error" 
```

我该怎么办......我也在使用更新面板......但我不确定这会导致这个..

**更新：-**

所以当我得到第一个答案时，是的，它是一个代码隐藏问题......我现在在做什么：

```
<%@ Page Title="" Language="C#" MasterPageFile="~/MainMaster.master" AutoEventWireup="true"
CodeFile="Admin1.aspx.cs" Inherits="admin1" %> 
```

我应该尝试：

```
CodeBehind:"Admin.aspx.cs" 
```

那应该怎么办`Inherits`？？

任何帮助都会有帮助

**更多更新**

我的 .cs 代码是这样开始的：

```
 public partial class Admin1 : System.Web.UI.Page
{
     //all the codes
 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T06:01:54.540

由于找不到代码隐藏文件，您面临的这个问题。检查您是否缺少任何代码隐藏文件

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-30T09:17:37.320

问题是由于服务器文件未共享给 IIS 的事实。右键单击您尝试将文件保存到的文件夹，导航到安全设置并添加/允许 ILS/USERS 修改文件夹。这将解决您的问题。

# delphi - 按下 windows msdn 对话框按钮并在 Delphi 的“另存为”对话框中更改“编辑”

> ID：13467356
> 
> 赞同：1
> 
> 时间：2012-11-20T05:55:50.097
> 
> 标签：delphi, button

我从[这里](http://tech.groups.yahoo.com/group/delphi-webbrowser/message/5916)得到了以下代码并对其进行了一些更改，并且我也对原始问题进行了一些更改。

计时器间隔设置为 5000。
以下 3 个事件发生后，“Events OnTimer”程序将开始工作。

*   1.WebBrowser1.Navigate('任何网页');
*   2.等待加载
*   3.以编程方式按下下载文件按钮

现在的问题是我找不到属于“另存为”对话框（或者是其子级）的“编辑”（类名）句柄。在下面的代码中，“编辑”的句柄为“0”，但如果我使用鼠标指针和以下代码：

```
HND:= WindowFromPoint(PNT);
Label1.Caption:= IntToStr(HND); 
```

句柄给出一个结果。一旦我有了手柄，我就可以使用：

```
SetWindowText(EditHandle, 'test text'); 
```

更改“编辑”（类名）中的文本。

```
procedure TForm1.Timer1Timer(Sender: TObject);
Var
WHandle : HWND ;
ParentHandle : DWORD ;
P : Array[0..256] Of Char ;
ProcessIdActif : DWORD ;

begin
ProcessIdActif := 0 ;
GetWindowThreadProcessId (handle,@ProcessIdActif);
WHandle := FindWindow( Nil, Nil);
While (WHandle <> 0) Do
  begin 
    P[0] := #0;
    GetWindowText(WHandle, P, 255);
    if P[0] <> #0 then
      begin
        GetWindowThreadProcessId (WHandle,@ParentHandle);
        if ProcessIdActif = ParentHandle then
          begin
          if CompareText(p,'File Download') = 0 then
            begin
              ButtonHandle := FindWindowEx(WHandle, 0, 'Button', '&Save');
              if (ButtonHandle > 0) then
               PostMessage(ButtonHandle, BM_CLICK, 0, 0);       
            end
          else if CompareText(p,'Save As') = 0 then
            begin
              EditHandle := FindWindowEx(WHandle, 0, 'Edit',NIL);
              if (EditHandle > 0) then
                SetWindowText(EditHandle, 'test text');
            end;                
          end;
      end;
      WHandle := GetWindow(WHandle, GW_HWNDNEXT);
  end;
end; 
```

我一直试图理解[这里](http://msdn.microsoft.com/en-us/library/windows/desktop/ms644927%28v=vs.85%29.aspx#system_defined)的一切，但我错过了一些东西。

我可以通过移动鼠标并以编程方式按下鼠标来按下任何 Windows 对话框按钮，但我想弄清楚如何以更简洁的方式按下这些按钮。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T15:19:22.640

免责声明：以下代码不以**任何**方式使用，如果环境不同（此处为 W7），它将无法正常工作。

无论如何，将以下内容放入您的计时器处理程序中，并尝试使用问题中的代码来锻炼差异（如果它有希望的话..）：

```
var
  WHandle, ButtonHandle, EditHandle: HWND;
begin
  WHandle := FindWindow('#32770', 'File Download');
  if WHandle <> 0 then begin
    SetForegroundWindow(WHandle);
    ButtonHandle := GetDlgItem(WHandle, $114B);
    if ButtonHandle <> 0 then begin  // click the button
      // the dialog/button is kind of deaf.. 
      while IsWindowEnabled(WHandle) do begin
        SendMessage(ButtonHandle, BM_CLICK, 0, 0);
        Sleep(100);
      end;
      WHandle := 0;
      while WHandle = 0 do begin     // wait for the save as dialog
        WHandle := FindWindow('#32770', 'Save As');
        Sleep(100);
      end;
      while not IsWindowVisible(WHandle) do
        Sleep(100);
      // get through the edit handle
      WHandle := FindWindowEx(WHandle, 0, 'DUIViewWndClassName', nil);
      EditHandle := GetWindow(GetWindow(GetWindow(GetWindow
                    (WHandle, GW_CHILD), GW_CHILD), GW_CHILD), GW_CHILD);
      SetWindowText(EditHandle, 'test text');
    end;
  end; 
```

# php - Zend 调试器不会加载

> ID：13467358
> 
> 赞同：2
> 
> 时间：2012-11-20T05:56:01.190
> 
> 标签：php, apache, zend-debugger

我正在尝试使用[Zend Debugger](http://www.zend.com/en/solutions/php-debugging/)设置远程**PHP**调试（我尝试安装[Xdebug](http://www.xdebug.org)，但它与 ionCube Loader 冲突）。我已按照Linux的[说明进行操作。](http://forums.zend.com/viewtopic.php?f=59&t=962#p4190)特别是，我在末尾添加了以下几行：`/etc/php.ini`

```
zend_extension=ZendDebugger.so
zend_debugger.allow_hosts=127.0.0.1,173.181.57.148
zend_debugger.expose_remotely=always 
```

我没有绝对路径，`ZendDebugger.so`因为它在 extension_dir (/usr/lib64/php/modules) 中。

重新启动 Apache 后，在`phpinfo()`. 此外，我在 Apache 错误日志 (/var/log/httpd/error_log) 中找不到任何问题。

有什么我错过的吗？

谢谢，谢恩。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-02T14:29:18.077

出于存档目的：

> sudo apt-get install libssl0.9.8

然后重新启动。在 Ubuntu 12.04 中运行良好。

ZendDebugger 的所有学分[都无法在 Mint 12 中打开 libssl.so.0.9.8](https://stackoverflow.com/questions/8441729/zenddebugger-cannot-open-libssl-so-0-9-8-in-mint-12)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T10:01:24.967

我能够通过执行“php -m”来诊断问题，这向我显示了错误消息：

```
Failed loading /usr/lib64/php/modules/ZendDebugger.so:  libssl.so.0.9.8: cannot open shared object file: No such file or directory 
```

有了错误消息，我就可以开始进行故障排除了...

Zend Debugger 似乎正在寻找“libssl.so.0.9.8”共享对象（一个非常旧的版本），并且由于某种原因看不到当前版本“libssl3.so”。我能够在两者之间创建符号链接。

谢恩。

# iphone - iPhone UISliders 相互影响

> ID：13467360
> 
> 赞同：0
> 
> 时间：2012-11-20T05:56:13.557
> 
> 标签：iphone, implementation, uislider

例如，屏幕上有两个滑块，一个上一个，另一个下一个。我想实现以下效果。

用户将上滑块滑动到值 50，然后下滑块将同时滑动到值 50（没有用户滑动）。

我想知道如何实现它？谁能给我看一些源代码之类的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:01:45.710

在滑块 1 的动作事件上只需添加此代码..

```
[slider2 setValue:slider1.value]; 
```

# javascript - 我有一个像 Virtual Team Resources 这样的头衔，然后我需要它的短代码，比如 VTR

> ID：13467362
> 
> 赞同：1
> 
> 时间：2012-11-20T05:56:24.060
> 
> 标签：javascript, jquery

我有一个像 Virtual Team Resources 这样的标题，然后我需要它的短代码，比如 VTR 如果 Title Virtual Team 那么 ShortCOde 将是 VTE 我已经实现了这个，但仍然存在一些问题，比如如果用户输入标题 Virtual T 那么短代码会？

我的代码------

```
function EnterShortCode() {
           debugger
           var ProjectShortCode = "";
           var Arr = $("#txtProjectTitle").val().rtrim().split(" ");
           for (i = 0; i < Arr.length; i++) {
               if (Arr[i] != "" && Arr[i] != null) {
                   ProjectShortCode += Arr[i].substring(0, 1);
                   if (i == Arr.length - 1) {
                       if (ProjectShortCode.length == 1) {
                           if (Arr[i] < 3) {

                           }
                           else {
                               ProjectShortCode = ProjectShortCode + Arr[i].substring(1, 3);
                           }
                       }
                       else if (ProjectShortCode.length == 2) {
                           if (Arr[i] < 2) {

                           }
                           else {
                               ProjectShortCode = ProjectShortCode + Arr[i].substring(1, 2)
                           }

                       }

                   }
               }
           }

           ProjectShortCode = ProjectShortCode.toUpperCase();
           alert(ProjectShortCode);
       } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T06:43:13.303

我已经稍微修改了你的功能，这可能会对你有所帮助

```
 function EnterShortCode() {
     var ProjectShortCode = "";
           var Arr = rtrim($("#txtProjectTitle").val()).split(" ");
    if (Arr.length>2)
    {        
    for (i = 0; i < Arr.length; i++) {
               if (Arr[i] != "" && Arr[i] != null) {
                   ProjectShortCode += Arr[i].substring(0, 1);
                   if (i == Arr.length - 1) {
                       if (ProjectShortCode.length == 1) {
                           if (Arr[i] < 3) {

                           }
                           else {
                               ProjectShortCode = ProjectShortCode + Arr[i].substring(1, 3);
                           }
                       }
                       else if (ProjectShortCode.length == 2) {
                           if (Arr[i] < 2) {

                           }
                           else {
                               ProjectShortCode = ProjectShortCode + Arr[i].substring(1, 2)
                           }

                       }

                   }
               }
           }
         }
       else
       {
          for (i = 0; i < Arr.length; i++) {
               if (Arr[i] != "" && Arr[i] != null) {
                             if(i==0 && Arr.length==2)
              {              
                 ProjectShortCode += Arr[i].substring(0, 2);
              }
                           else if(i==0 && Arr.length==1)
                           {
                               ProjectShortCode += Arr[i].substring(0, 3);
                           }
              else
              {
                     ProjectShortCode += Arr[i].substring(0, 1);
              }   

                   if (i == Arr.length) {
                       if (ProjectShortCode.length == 1) {
                           if (Arr[i] < 3) {

                           }
                           else {
                               ProjectShortCode = ProjectShortCode + Arr[i].substring(1, 3);
                           }
                       }
                       else if (ProjectShortCode.length == 2) {
                           if (Arr[i] < 2) {

                           }
                           else {
                               ProjectShortCode = ProjectShortCode + Arr[i].substring(1, 2)
                           }

                       }

                   }
               }
           }                         
       }
           ProjectShortCode = ProjectShortCode.toUpperCase();
           alert(ProjectShortCode);
    } 
```

[现场演示](http://jsfiddle.net/spSjT/3/)

# c# - 在不知道其地址的情况下与计算机通信

> ID：13467377
> 
> 赞同：0
> 
> 时间：2012-11-20T05:58:27.377
> 
> 标签：c#, windows, networking

我正在寻找一种可以与远程 PC（可能与互联网连接）进行通信（基本上是发送一些命令）的技术，但我不知道它的 IP 地址。那我该怎么做。我愿意为 Windows XP/7 平台找到这个。如果有人有任何想法。请分享。

这里还要补充一点：接收方不应该有任何客户端应用程序用于此通信。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-20T06:12:31.880

从你的描述来看，这是不可能的。

使用一个比喻，你想打电话给某人，而不知道他们的电话号码，你不希望他们有电话。那是不可能的。

# opengl - 如何从搅拌机导出绑定和关键帧骨骼姿势以在 OpenGL 中使用

> ID：13467378
> 
> 赞同：4
> 
> 时间：2012-11-20T05:58:26.873
> 
> 标签：opengl, animation, blender

****编辑2：**

请避免指出效率/优化问题；这根本不是最终代码。这只是我在尝试基础知识:)。一旦我把所有东西都搞定了，我就会去清理和优化。

**编辑：**我决定用更简单的术语重新表述这个问题，看看是否有人可以帮我解决这个问题。

基本上，我将网格、骨架和动作从搅拌机导出到我正在研究的各种引擎中。但是我弄错了动画。我可以看出正在遵循基本的运动路径，但总有一个平移或旋转轴是错误的。我认为问题很可能不在于我的引擎代码（基于 OpenGL），而在于我对骨骼动画/蒙皮背后的某些部分理论的误解，或者我在导出器脚本中从搅拌机导出适当关节矩阵的方式.

我将解释理论、引擎动画系统和我的搅拌机导出脚本，希望有人能在其中一个或所有这些中发现错误。

**理论：（我使用的是列优先排序，因为这是我在引擎中使用的，因为它是基于 OpenGL 的）**

*   假设我有一个由单个顶点 v 组成的网格，以及一个将顶点 v 从网格的局部空间带到世界空间的变换矩阵 M。也就是说，如果我要在没有骨架的情况下渲染网格，最终位置将是 gl_Position = ProjectionMatrix * M * v。
*   现在假设我有一个骨架，其中一个关节 j 处于绑定/静止姿势。j 实际上是另一个矩阵。从 j 的本地空间到其父空间的转换，我将其表示为 Bj。如果 j 是骨架中关节层次结构的一部分，则 Bj 将从 j 空间到 j-1 空间（即到其父空间）。然而，在这个例子中 j 是唯一的关节，所以 Bj 从 j 空间到世界空间，就像 M 对 v 一样。
*   现在进一步假设我有一组帧，每个帧都有第二个变换 Cj，它与 Bj 的工作方式相同，只是对于连接 j 的不同的、任意空间配置。Cj 仍然将顶点从 j 空间带到世界空间，但 j 被旋转和/或平移和/或缩放。

鉴于上述情况，为了在关键帧 n 处对顶点 v 进行蒙皮。我需要：

1.  将 v 从世界空间带到联合 j 空间
2.  修改 j（而 v 在 j 空间中保持固定，因此在转换中被带走）
3.  将 v 从修改后的 j 空间带回世界空间

所以上面的数学实现是： **v' = Cj * Bj^-1 * v**。实际上，我在这里有一个疑问。我说过 v 所属的网格具有从模型空间到世界空间的变换 M。而且我还在几本教科书中读到它需要从**模型**空间转换为关节空间。但是我在 1 中也说过 v 需要从世界转换为联合空间。所以基本上我不确定我是否需要做**v' = Cj * Bj^-1 * v**或**v' = Cj * Bj^-1 * M * v**。现在我的实现将 v' 乘以 M 而不是 v。但我已经尝试改变它，它只是以不同的方式把事情搞砸了，因为还有其他问题。

*   最后，如果我们想将顶点蒙皮到关节 j1，而关节 j1 又是关节 j0 的子节点，Bj1 将是 Bj0 * Bj1，Cj1 将是 Cj0 * Cj1。但是由于蒙皮定义为**v' = Cj * Bj^-1 * v**，所以 Bj1^-1 将是构成原始产品的倒数的反向串联。也就是说，**v' = Cj0 * Cj1 * Bj1^-1 * Bj0^-1 * v**

**现在开始执行（Blender 端）：**

假设以下网格由 1 个立方体组成，其顶点绑定到单关节骨架中的单个关节：

![在此处输入图像描述](../Images/2111988dd3c1742c45dbff6c56b05cee.png)

假设还有一个 60 帧、3 个关键帧的动画，速度为 60 fps。动画本质上是：

*   关键帧 0：关节处于绑定/静止姿势（您在图像中看到的方式）。
*   关键帧 30：关节向上平移（搅拌器中的 +z）一些量，同时顺时针旋转 pi/4 rad。
*   关键帧 59：关节回到关键帧 0 中的相同配置。

我在搅拌机方面的第一个困惑来源是它的坐标系（与 OpenGL 的默认值相反）和可通过 python api 访问的不同矩阵。

现在，这就是我的导出脚本将**搅拌机的坐标系转换为 OpenGL 的标准系统的操作：**

```
 # World transform: Blender -> OpenGL
    worldTransform = Matrix().Identity(4)
    worldTransform *= Matrix.Scale(-1, 4, (0,0,1))
    worldTransform *= Matrix.Rotation(radians(90), 4, "X")

    # Mesh (local) transform matrix
    file.write('Mesh Transform:\n')
    localTransform = mesh.matrix_local.copy()
    localTransform = worldTransform * localTransform
    for col in localTransform.col:
        file.write('{:9f} {:9f} {:9f} {:9f}\n'.format(col[0], col[1], col[2], col[3]))
    file.write('\n') 
```

因此，如果您愿意，我的“世界”矩阵基本上是将搅拌机坐标系更改为默认 GL 坐标系的行为，其中 +y 向上、+x 向右和 -z 进入查看体积。然后我还对网格矩阵 M 进行预乘（在我们到达引擎时已经完成，而不是在矩阵乘法顺序方面的 post 或 pre 的意义上），这样我就不需要再乘一次了每个引擎中的绘图调用。

**关于从 Blender 关节（Blender 用语中的骨骼）中提取的可能矩阵，我正在执行以下操作：**

*   **对于关节绑定姿势：**

    ```
    def DFSJointTraversal(file, skeleton, jointList):

    for joint in jointList:
        bindPoseJoint = skeleton.data.bones[joint.name]
        bindPoseTransform = bindPoseJoint.matrix_local.inverted()

        file.write('Joint ' + joint.name + ' Transform {\n')
        translationV = bindPoseTransform.to_translation()
        rotationQ = bindPoseTransform.to_3x3().to_quaternion()
        scaleV = bindPoseTransform.to_scale()
        file.write('T {:9f} {:9f} {:9f}\n'.format(translationV[0], translationV[1], translationV[2]))
        file.write('Q {:9f} {:9f} {:9f} {:9f}\n'.format(rotationQ[1], rotationQ[2], rotationQ[3], rotationQ[0]))
        file.write('S {:9f} {:9f} {:9f}\n'.format(scaleV[0], scaleV[1], scaleV[2]))

        DFSJointTraversal(file, skeleton, joint.children)
        file.write('}\n') 
    ```

请注意，我实际上抓住了我认为的绑定姿势变换 Bj 的倒数。这样我就不需要在引擎中反转它了。另请注意，假设这是 Bj，我选择了 matrix_local。另一种选择是普通的“矩阵”，据我所知，它与非同质的相同。

*   **对于联合当前/关键帧姿势：**

    ```
    for kfIndex in keyframes:
        bpy.context.scene.frame_set(kfIndex)
        file.write('keyframe: {:d}\n'.format(int(kfIndex)))
        for i in range(0, len(skeleton.data.bones)):
            file.write('joint: {:d}\n'.format(i))

            currentPoseJoint = skeleton.pose.bones[i]
            currentPoseTransform = currentPoseJoint.matrix

            translationV = currentPoseTransform.to_translation()
            rotationQ = currentPoseTransform.to_3x3().to_quaternion()
            scaleV = currentPoseTransform.to_scale()
            file.write('T {:9f} {:9f} {:9f}\n'.format(translationV[0], translationV[1], translationV[2]))
            file.write('Q {:9f} {:9f} {:9f} {:9f}\n'.format(rotationQ[1], rotationQ[2], rotationQ[3], rotationQ[0]))
            file.write('S {:9f} {:9f} {:9f}\n'.format(scaleV[0], scaleV[1], scaleV[2]))

            file.write('\n') 
    ```

请注意，这里我选择的是skeleton.pose.bones 而不是data.bones，并且我可以选择3 个矩阵：matrix、matrix_basis 和matrix_channel。从 python API 文档中的描述来看，我不是很清楚应该选择哪一个，尽管我认为它是普通矩阵。另请注意，在这种情况下，我不会反转矩阵。

**实现（引擎/OpenGL端）：**

**我的动画子系统**在每次更新时执行以下操作（为了简单起见，我省略了更新循环中确定哪些对象需要更新并且时间在此处硬编码的部分）：

```
static double time = 0;
            time =  fmod((time + elapsedTime),1.);
            uint16_t LERPKeyframeNumber = 60 * time;
            uint16_t lkeyframeNumber = 0;
            uint16_t lkeyframeIndex = 0;
            uint16_t rkeyframeNumber = 0;
            uint16_t rkeyframeIndex = 0;

            for (int i = 0; i < aClip.keyframesCount; i++) {
                uint16_t keyframeNumber = aClip.keyframes[i].number;
                if (keyframeNumber <= LERPKeyframeNumber) {
                    lkeyframeIndex = i;
                    lkeyframeNumber = keyframeNumber;
                }
                else {
                    rkeyframeIndex = i;
                    rkeyframeNumber = keyframeNumber;
                    break;
                }
            }

            double lTime = lkeyframeNumber / 60.;
            double rTime = rkeyframeNumber / 60.;
            double blendFactor = (time - lTime) / (rTime - lTime);

            GLKMatrix4 bindPosePalette[aSkeleton.jointsCount];
            GLKMatrix4 currentPosePalette[aSkeleton.jointsCount];

            for (int i = 0; i < aSkeleton.jointsCount; i++) {
                F3DETQSType& lPose = aClip.keyframes[lkeyframeIndex].skeletonPose.joints[i];
                F3DETQSType& rPose = aClip.keyframes[rkeyframeIndex].skeletonPose.joints[i];

                GLKVector3 LERPTranslation = GLKVector3Lerp(lPose.t, rPose.t, blendFactor);
                GLKQuaternion SLERPRotation = GLKQuaternionSlerp(lPose.q, rPose.q, blendFactor);
                GLKVector3 LERPScaling = GLKVector3Lerp(lPose.s, rPose.s, blendFactor);

                GLKMatrix4 currentTransform = GLKMatrix4MakeWithQuaternion(SLERPRotation);
                currentTransform =  GLKMatrix4TranslateWithVector3(currentTransform, LERPTranslation);
                currentTransform =  GLKMatrix4ScaleWithVector3(currentTransform, LERPScaling);

                GLKMatrix4 inverseBindTransform = GLKMatrix4MakeWithQuaternion(aSkeleton.joints[i].inverseBindTransform.q);
                inverseBindTransform =  GLKMatrix4TranslateWithVector3(inverseBindTransform, aSkeleton.joints[i].inverseBindTransform.t);
                inverseBindTransform =  GLKMatrix4ScaleWithVector3(inverseBindTransform, aSkeleton.joints[i].inverseBindTransform.s);

                if (aSkeleton.joints[i].parentIndex == -1) {
                    bindPosePalette[i] = inverseBindTransform;
                    currentPosePalette[i] = currentTransform;
                }

                else {
                    bindPosePalette[i] = GLKMatrix4Multiply(inverseBindTransform, bindPosePalette[aSkeleton.joints[i].parentIndex]);
                    currentPosePalette[i] = GLKMatrix4Multiply(currentPosePalette[aSkeleton.joints[i].parentIndex], currentTransform);
                }

                aSkeleton.skinningPalette[i] = GLKMatrix4Multiply(currentPosePalette[i], bindPosePalette[i]);
            } 
```

**最后，这是我的顶点着色器：**

```
#version 100

uniform mat4 modelMatrix;
uniform mat3 normalMatrix;
uniform mat4 projectionMatrix;
uniform mat4 skinningPalette[6];
uniform lowp float skinningEnabled;

attribute vec4 position;
attribute vec3 normal;
attribute vec2 tCoordinates;
attribute vec4 jointsWeights;
attribute vec4 jointsIndices;

varying highp vec2 tCoordinatesVarying;
varying highp float lIntensity;

void main()
{
    tCoordinatesVarying = tCoordinates;

    vec4 skinnedVertexPosition = vec4(0.);
    for (int i = 0; i < 4; i++) {
        skinnedVertexPosition += jointsWeights[i] * skinningPalette[int(jointsIndices[i])] * position;
    }

    vec4 skinnedNormal = vec4(0.);
    for (int i = 0; i < 4; i++) {
        skinnedNormal += jointsWeights[i] * skinningPalette[int(jointsIndices[i])] * vec4(normal, 0.);
    }

    vec4 finalPosition = mix(position, skinnedVertexPosition, skinningEnabled);
    vec4 finalNormal = mix(vec4(normal, 0.), skinnedNormal, skinningEnabled);

    vec3 eyeNormal = normalize(normalMatrix * finalNormal.xyz);
    vec3 lightPosition = vec3(0., 0., 2.);
    lIntensity = max(0.0, dot(eyeNormal, normalize(lightPosition)));

    gl_Position = projectionMatrix * modelMatrix * finalPosition;
} 
```

结果是动画在方向上显示错误。也就是说，它不是上下摆动，而是上下摆动（根据我在导出剪辑中的变换，我认为是 Z 轴）。并且旋转角度是逆时针而不是顺时针。

如果我尝试使用多个关节，那么就好像第二个关节在它自己的不同坐标空间中旋转并且不遵循 100% 其父级的变换。我假设它应该来自我的动画子系统，我假设它遵循我为多个关节的情况解释的理论。

有什么想法吗？

# javascript - jquery在对话框中设置片段

> ID：13467380
> 
> 赞同：1
> 
> 时间：2012-11-20T05:58:38.780
> 
> 标签：javascript, jquery, jquery-ui

我想在 jquery 对话框上设置片段。这是我的代码，但它不起作用:(

```
$("#main_menu").dialog(
{
    dialogClass: 'transparent',
    autoOpen: true,
    show: "explode",
    hide: "explode",        
    pieces: 16,
    resizable: false,
    width: 522,
    hight: 522
});
$(".blue-pill").click(function()
{
    close_all();
    $("#main_menu").dialog("open");
    return false;
}); 
```

谁能告诉我这段代码有什么问题？任何帮助表示赞赏？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T06:16:18.317

使用如下代码。

```
hide: { effect: "explode", pieces: 16, duration: 10 }, 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T06:19:07.217

碎片应该是`hide`和的一部分`show`

```
hide: { effect: 'explode', pieces: 16 }
show: { effect: 'explode', pieces: 16 } 
```

`autoOpen``false`如果您从任何事件中打开它，应该是。

确保`$("#main_menu")`返回一个有效的 div 和`length > 0`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-18T09:15:45.793

```
 $("#div1").dialog({

        autoOpen: false,
        width: 500,
        show: "blind",
        hide: { effect: "explode", pieces: 16, duration: 2000 },

        modal: true,
        height: 'auto',
    });

});
function f1() {
    $("#div1").dialog("open")
} 
```

# web.xml - 为元素“web-app”的身份约束“web-app-filter-name-uniqueness”声明了重复的唯一值 [Acg Filter Chain Proxy]

> ID：13467384
> 
> 赞同：0
> 
> 时间：2012-11-20T05:58:44.283
> 
> 标签：web.xml

```
In my web.xml i have the following format. While deploying in jboss it is throwing me 
```

为元素“web-app”的身份约束“web-app-filter-name-uniqueness”声明了重复的唯一值 [Acg Filter Chain Proxy]。

```
 <filter>
    <filter-name>Acg Filter Chain Proxy</filter-name>
    <filter-class>
        org.acgsecurity.util.FilterToBeanProxy
    </filter-class>
    <init-param>
        <param-name>targetBean</param-name>
        <param-value>filterChainProxy</param-value>
    </init-param>
</filter>
<filter-mapping>
    <filter-name>Acg Filter Chain Proxy</filter-name>
    <url-pattern>/rmServices/*</url-pattern>
</filter-mapping>

<filter>
    <filter-name>Acg Filter Chain Proxy</filter-name>
    <filter-class>
        org.acgsecurity.util.FilterToBeanProxy
    </filter-class>
    <init-param>
        <param-name>targetBean</param-name>
        <param-value>filterChainProxy</param-value>
    </init-param>
</filter>
<filter-mapping>
    <filter-name>Acg Filter Chain Proxy</filter-name>
    <url-pattern>/remoting/*</url-pattern>
</filter-mapping> 
```

我怎样才能避免这个错误。任何人都可以请指导我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:01:35.823

你可以只有一个定义，`filter`也可以有多个`<filter-mappings>`

# spring-security - 使用 Spring Security 的会话管理：并发会话

> ID：13467389
> 
> 赞同：5
> 
> 时间：2012-11-20T05:59:08.450
> 
> 标签：spring-security, session-management

我已经使用 Spring Security 开发了一个 Web 应用程序。对于登录，它从 LDAP 获得访问权限。现在我想使用 spring security 本身来管理会话，我可以看到通过使用`authentication.getName()`I am getting the`username`并且我还可以获得`sessionID`.

现在我想确定如果同一个用户尝试使用其他浏览器从同一个系统登录，他应该收到一条消息，说他已经登录了他的帐户。

谁能给出一个想法如何实现这一目标？？？？

```
<security:session-management 
        invalid-session-url="/login.jsp?error=sessionExpired"
        session-authentication-error-url="/login.jsp?error=alreadyLogin">
    <security:concurrency-control 
               max-sessions="1" 
               expired-url="/login.jsp?error=sessionExpiredDuplicateLogin"
               error-if-maximum-exceeded="false" />
</security:session-management> 
```

当我使用它并尝试使用其他浏览器登录时，它给了我以下错误：

```
HTTP Status 500 - Request processing failed; nested exception is java.lang.IllegalStateException: Cannot call sendError() after the response has been committed
enter code here 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-28T17:24:15.813

我可能遗漏了一些东西，但我尝试了下一个配置，它按预期工作：

```
<!-- more configuration stuff -->

<sec:form-login login-page="/login.jsp"
    default-target-url="/defaultTarget.jsp"
    authentication-failure-url="/login.jsp?error=true"
    login-processing-url="/login" always-use-default-target="true" />

<sec:session-management>
    <sec:concurrency-control max-sessions="1" error-if-maximum-exceeded="true" />
</sec:session-management> 
```

当我尝试从另一个浏览器使用同一用户登录时，它会将我带到 /login.jsp 并显示错误消息：`Maximum sessions of 1 for this principal exceeded`

编辑：你还需要把它放在你的`web.xml`

```
<listener>
    <listener-class>org.springframework.security.web.session.HttpSessionEventPublisher</listener-class>
</listener> 
```

# string - cbind 使值在 r 中为空

> ID：13467393
> 
> 赞同：1
> 
> 时间：2012-11-20T05:59:29.523
> 
> 标签：string, r, matrix

我正在使用 cbind 将字符串和数字矩阵组合在一起，并将所有数字列（第一个除外）返回为 NULL。这是示例代码：

```
nums <- matrix(data=c(1,2,3,4),ncol=2)
strs <- list()
strs[1] <- 'row1'
strs[2] <- 'row2'
result <- cbind(strs,nums)

> result
     strs         
[1,] "row1" 1 NULL
[2,] "row2" 2 NULL 
```

我显然忽略了一些简单的事情。谢谢您的帮助，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T23:39:33.790

在这种情况下，我认为您以稍微错误的方式解决问题。`cbind`返回一个矩阵。矩阵的限制之一是所有元素必须属于同一类型。这意味着您的`c(1, 2, 3, 4)`意志在被强制转换为矩阵时，将成为存在的最高级别数据类型（在本例中为字符来自`strs`）并等效于`c("1", "2", "3", "4")`.

我将假设您有一个`strs`包含 2 个元素的列表，并且您真正想要的是一个 data.frame（它能够容纳不同的类型）。

无论哪种情况，让我们先转换`strs`成一个字符：

```
strs2 <- unlist(strs)
[1] "row1" "row2" 
```

请注意，这与您通过`c("row1", "row2")`. 接下来，我们将创建一个 data.frame：

```
result <- data.frame(strs2, nums)
  strs2 X1 X2
1 row1   1  3
2 row2   2  4 
```

这与@thelatemail 提供的解决方案基本相同。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T11:22:29.097

将列表与 结合起来`cbind()`可能会出现问题。我会按照 sebastian-c 在评论中所说的或`unlist()`首先使用`strs`：

```
cbind(unlist(strs), nums) 
```

或者只是使用`matrix()`：

```
matrix(c(strs, nums), ncol = 3) 
```

如果`nums`有可变数量的列：

```
matrix(c(strs, nums), ncol = ncol(nums) + 1) 
```

# eclipse - IBM worklight 错误：cvc-complex-type.2.4.a：发现无效内容以 > 元素“用法”开头

> ID：13467394
> 
> 赞同：0
> 
> 时间：2012-11-20T05:59:29.837
> 
> 标签：eclipse, ibm-mobilefirst

我已经导入了一个现有的 worklight 项目，但构建它会出现以下错误。请指教

**错误**

> cvc-complex-type.2.4.a：发现以元素“用法”开头的无效内容。'{"http://www.worklight.com/application-descriptor":shell, "http://www.worklight.com/application-descriptor":mobileDeviceSSO, "http://www.worklight.com /application-descriptor":loginPopupHeight, "http://www.worklight.com/application-descriptor":loginPopupWidth, "http://www.worklight.com/application-descriptor":iphone, "http://www .worklight.com/application-descriptor":android, "http://www.worklight.com/application-descriptor":blackberry, "http://www.worklight.com/application-descriptor":ipad, "http ://www.worklight.com/application-descriptor":windowsPhone, "http://www.worklight.com/application-descriptor":mobileWebApp, "http:

**XML 文件**

```
<?xml version="1.0" encoding="UTF-8" standalone="no"?> <application xmlns="http://www.worklight.com/application-descriptor" id="TApp" platformVersion="5.0">
        <displayName>TApp</displayName>
        <description>TApp</description>
        <author>
            <name>application's author</name>
            <email>application author's e-mail</email>
            <homepage>http://mycompany.com</homepage>
            <copyright>Copyright My Company</copyright>
        </author>
        <height>460</height>
        <width>320</width>
        <mainFile>index.html</mainFile>
        <thumbnailImage>common/images/thumbnail.png</thumbnailImage>
        <usage requireAuthentication="never"/>
        <iphone bundleId="com.ATTApp" version="1.0">
            <worklightSettings include="true"/>
            <security>
                <testAppAuthenticity enabled="false"/>
                <encryptWebResources enabled="false"/>
                <testWebResourcesChecksum enabled="false" ignoreFileExtensions="png, jpg, jpeg, gif, mp4, mp3"/>
            </security>
        </iphone>
        <android version="1.0">
            <worklightSettings include="true"/>
            <security>
                <testAppAuthenticity  enabled="false"/>
                <encryptWebResources enabled="false"/>
                <testWebResourcesChecksum enabled="false" ignoreFileExtensions="png, jpg, jpeg, gif, mp4, mp3"/>
                <publicSigningKey>Replace this text with the public key of the certificate with which you sign the APK. For details see the Worklight Developer's Reference Guide.</publicSigningKey>
            </security>
        </android>
        <mobileWebApp version="1.0"/>
        <worklightServerRootURL>http://${local.IPAddress}:8080</worklightServerRootURL> </application> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T08:35:45.940

看起来您已经升级了 Worklight 版本，但仍有旧的 application-descriptor.xml 文件。您需要修改您的文件以符合最新的架构。最基本的解决方案是删除这条线。您还可以在此处查看应用程序示例 - [https://www.ibm.com/developerworks/mobile/worklight/getting-started/](https://www.ibm.com/developerworks/mobile/worklight/getting-started/)

# postgresql - 计算表单中输入的字符数，Postgres 数据库

> ID：13467396
> 
> 赞同：0
> 
> 时间：2012-11-20T05:59:42.097
> 
> 标签：postgresql, text, count, nlp, character

问题如下：

有一个遗留的 Intranet 应用程序，基本上就是一堆 Web 表单。为它服务的数据库是 Postgres。该应用程序已记录（记录不佳，但已记录），因此我或多或少知道哪些行和列涉及哪些内容。

我想要的是能够计算在 Web 表单的文本字段中输入的所有人类可读字符（包括空格键）*（基本上，相当于 Openoffice Writer 的 / MS Word 的统计功能，但仅限于字符计数。不需要计算单词）*

文本字段的值分布在多个表中。

使用场景：

有一堆文本必须通过网络表单输入到该数据库，现在是手写的。一个人会来输入它。这个人将按字符付费。

所以想法是在一天开始时从数据库中进行“字符计数”，然后在工作日之后进行“字符计数”。从后者中减去前者，并支付打字员应得的费用。

在给定的时间不会有超过一个打字员工作，因此不需要确定谁负责给定的新字符。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T08:02:46.110

基本上，您需要这样的查询：

```
select sum(count) from (
  (select sum(length(C1)) as count from T1)
  union all
  (select sum(length(C2)) as count from T2)
  union all
  ...
  (select sum(length(CN)) as count from T3)
) as x 
```

其中 C1, ..., CN 和 T1, ..., TN 分别是列名和表名。

如果表 X 有多个文本列，您可以将多个`(select sum(length(CX)) from TX)`查询合并为一个：

```
select sum(length(C1)) + sum(length(C2)) + ... + sum(length(CN)) as count from TN 
```

# cocos2d-iphone - CCShaderCache 在 Cocos2d 1.1 中消失了。改用什么？

> ID：13467397
> 
> 赞同：1
> 
> 时间：2012-11-20T05:59:43.487
> 
> 标签：cocos2d-iphone

CCShaderCache 类从 Cocos2D v.1.1 中消失了。我也没有在 1.1 文档中看到它。知道改用什么吗？

看起来 CCShaderCache 类实际上包含在 v.2.0\. 中，而不是 v.1.1。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-22T19:47:28.083

CCShaderCache 管理着色器程序。它仅在 cocos2d 2.x 中可用，因为着色器程序仅在 cocos2d 2.x 使用的 OpenGL ES 2.0 中可用。

然而 Cocos2d v1.x 使用的是 OpenGL ES 1.1，所以没有着色器。没有什么可以代替的。

我确实想知道，如果您要更新现有项目，为什么现在“缺少” CCShaderCache 类？它从未出现在任何 v1.x（或 v0.x）分支中。

# webcam - 如何在 TideSDK 中访问笔记本电脑的网络摄像头？

> ID：13467399
> 
> 赞同：0
> 
> 时间：2012-11-20T05:59:46.293
> 
> 标签：webcam, tidesdk

我不想使用 Flash polyfill。我希望它纯粹是用 HTML5/JavaScript/TideSDK 制作的。有它的API吗？或者任何可能的方式来访问它而不诉诸闪存使用？

潮汐SDK v1.3.1

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T16:21:41.877

您能否在此处提交新功能请求：[https ://github.com/TideSDK/TideSDK/issues](https://github.com/TideSDK/TideSDK/issues)

这是 潮汐dk 中提议的功能和未解决的错误列表，我们正在将其整合到一个地方。

谢谢，

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T15:31:08.667

目前还无法通过 SDK 访问它。

# c# - 执行存储过程

> ID：13467401
> 
> 赞同：-3
> 
> 时间：2012-11-20T06:00:00.897
> 
> 标签：c#, asp.net, sql-server, stored-procedures

如何在 ASP.net 或 c# 中执行此存储过程？如何传递参数@batch date 以便可以根据 batch_date 操作输出？

```
 ALTER PROCEDURE [dbo].[inv_check] @batch_date datetime AS BEGIN
 CREATE TABLE #temp1
(batch_date datetime,part_no varchar(25),Tot_Tid_Count_Qty int,Number_of_tid int,Updated_DT int)

INSERT INTO #temp1
SELECT batch_date,part_no,0,count(tid),0
FROM dbo.tnx_tid_InvCheck_Details
where batch_date = @batch_date
Group by part_no,batch_date
order by part_no

UPDATE #temp1
SET Updated_DT = isnull(d.Updated_DT,0)
--select i.part_no,i.Number_of_tid, isnull(d.Updated_DT,0)
FROM #temp1 p
LEFT OUTER JOIN 
    (SELECT part_no,COUNT(LastUpdate_DT)as Updated_DT
    FROM dbo.tnx_tid_InvCheck_Details
    Where NOT LastUpdate_DT IS NULL and  batch_date = @batch_date
    Group by  part_no,batch_date) d on p.part_no=d.part_no  

DECLARE @sql int
DECLARE @sql1 int

SELECT @sql1 = count(part_no) 
FROM #temp1

SELECT @sql = count(part_no)
FROM #temp1
WHERE number_of_tid= Updated_DT

DELETE #temp1

CREATE TABLE #temp2
(batch_date datetime,part_no varchar(25),kb02_qty int,sum_count_qty int,variance int)

INSERT INTO #temp2
SELECT batch_date,part_no,kb02_qty,0,0
FROM dbo.tnx_tid_InvCheck_Master
where NOT kb02_qty IS NULL  AND batch_date = @batch_date
ORDER BY part_no

UPDATE #temp2
SET sum_count_qty = isnull (q.sum_count_qty,0)  
--select i.part_no,i.Number_of_tid, isnull(d.Updated_DT,0)
FROM #temp2 t
LEFT OUTER JOIN 
    (SELECT part_no,sum(count_qty) as sum_count_qty
    FROM dbo.tnx_tid_InvCheck_Details
    Where NOT LastUpdate_DT IS NULL AND batch_date = @batch_date
    Group by part_no) q on t.part_no= q.part_no

UPDATE #temp2   
SET variance=(kb02_qty - sum_count_qty) 

DECLARE @parts_having_variance int          
DECLARE @negative_variance_qty int
DECLARE @Negative_Variance_Parts int
DECLARE @Positive_Variance_Qty int
DECLARE @Positive_Variance_Parts int

SELECT @parts_having_variance = COUNT(part_no) 
FROM #temp2
WHERE NOT variance = 0

SELECT @negative_variance_qty = sum(variance) 
FROM #temp2
Where variance < 0  

SELECT @Negative_Variance_Parts = COUNT(variance) 
FROM #temp2
Where variance < 0  

SELECT @Positive_Variance_Qty = sum(variance) 
FROM #temp2
Where variance > 0  

SELECT @Positive_Variance_Parts = COUNT(variance) 
FROM #temp2
Where variance > 0  

INSERT INTO #temp1
SELECT batch_date,part_no,0,COUNT(tid)as Number_of_tid,0
FROM dbo.tnx_tid_InvCheck_Details
WHERE batch_date = @batch_date
Group by part_no,batch_date
order by part_no

UPDATE #temp1 
SET Updated_DT = isnull(d.Updated_DT,0)
FROM #temp1 p
LEFT OUTER JOIN 
    (SELECT part_no,COUNT(LastUpdate_DT)as Updated_DT
    FROM dbo.tnx_tid_InvCheck_Details
    Where NOT LastUpdate_DT IS NULL AND batch_date = @batch_date
    Group by part_no,batch_date) d on p.part_no=d.part_no

    DECLARE @tid_count int

    SELECT @tid_count=SUM(Number_of_tid) 
    FROM #temp1
    WHERE Number_of_tid = Updated_DT

UPDATE #temp1
SET Tot_Tid_Count_Qty = (e.Tot_Tid_Count_Qty)
FROM #temp1 p
LEFT OUTER JOIN
(SELECT part_no,SUM(count_qty)AS Tot_Tid_Count_Qty
    FROM dbo.tnx_tid_InvCheck_Details
    WHERE batch_date = @batch_date
    Group by part_no,batch_date) e on p.part_no=e.part_no

    DECLARE @tid_count_qty int

    SELECT @tid_count_qty = SUM(Tot_Tid_Count_Qty) 
    FROM #temp1
    WHERE Number_of_tid = Updated_DT

SELECT ' Parts Counted ' AS CRITERIA , LTRIM(RTRIM(CONVERT(CHAR,@sql))) + ' / ' + LTRIM(RTRIM(CONVERT(CHAR,@sql1))) AS QTY
UNION
SELECT ' Parts Having Variance ' AS CRITERIA ,LTRIM(RTRIM(CONVERT(CHAR,@parts_having_variance ))) AS QTY
UNION
SELECT ' Total tid Count ' AS CRITERIA ,LTRIM(RTRIM(CONVERT(CHAR,@tid_count ))) AS QTY
UNION
SELECT ' Total tid Count Qty ',LTRIM(RTRIM(CONVERT(CHAR,@tid_count_qty ))) AS QTY
UNION
SELECT ' Total Negative Variance Qty ' AS CRITERIA ,LTRIM(RTRIM(CONVERT(CHAR,@negative_variance_qty ))) AS QTY
UNION
SELECT ' Negative Variance Parts ' AS CRITERIA ,LTRIM(RTRIM(CONVERT(CHAR,@Negative_Variance_Parts ))) AS QTY
UNION
SELECT ' Total Positive Variance Qty ' AS CRITERIA ,LTRIM(RTRIM(CONVERT(CHAR,@Positive_Variance_Qty ))) AS QTY
UNION
SELECT ' Positive Variance Parts ' AS CRITERIA ,LTRIM(RTRIM(CONVERT(CHAR,@Positive_Variance_Parts)))    AS QTY

Drop table #temp1
Drop table #temp2

END 
```

我试过这个 ASP.net 代码......它不工作......你们能帮我修复这个代码..tq......

```
 using System;
      using System.Collections.Generic;
      using System.Linq;
      using System.Web;
      using System.Web.UI;
       using System.Web.UI.WebControls;
        using System.Data;
        using System.Data.SqlClient;

        namespace new1
      {
            public partial class _Default : System.Web.UI.Page
       {
    protected void Page_Load(object sender, EventArgs e)
    {
        string str = "Data Source = kmsiis010;Initial Catalog =db_IntelliMat;Integrated Security=True";
        SqlConnection conn = new SqlConnection(str);
        SqlCommand cmd = new SqlCommand("inv_check", conn);
        SqlDataAdapter da = new SqlDataAdapter();
        da.SelectCommand = cmd;
        DataSet ds = new DataSet();
        da.Fill(ds, "dbo.tnx_tid_InvCheck_Details");
        this.GridView1.DataSource = ds;
        this.GridView1.DataBlind();
         }
         }
        } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T06:10:23.443

这是执行存储过程的基本代码。

```
try
{
  using (SqlConnection connection = new SqlConnection(connectionString))
  {

    using(SqlCommand command = new SqlCommand("inv_check", connection))
    {
      command.CommandType = CommandType.StoredProcedure;
      command.Parameters.Add("@batch_date", SqlDbType.DateTime).Value = DateTime.Now; // or the variable which holds datetime
      connection.Open();
      return command.ExecuteNonQuery();
    }
  }
}
catch (SqlException ex)
{
   Response.Write("SQL Error" + ex.Message.ToString());
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T06:04:43.070

使用 Linq 到 Sql。看这篇文章[http://weblogs.asp.net/scottgu/archive/2007/08/16/linq-to-sql-part-6-retrieving-data-using-stored-procedures.aspx](http://weblogs.asp.net/scottgu/archive/2007/08/16/linq-to-sql-part-6-retrieving-data-using-stored-procedures.aspx)

# php - 如何将自己的样式和 html 添加到 zencart 产品

> ID：13467406
> 
> 赞同：0
> 
> 时间：2012-11-20T06:00:38.927
> 
> 标签：php, html, css, zen-cart

我想将我自己的样式和 html 添加到 zencart 中的产品中。我查看了模块文件夹前端中的 product_listing.php、new_products.php 和 features_products.php。但我不知道该怎么做。任何提示或示例？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T06:05:01.457

尝试在所有产品中给出 div

像**CSS**

```
.product
{
  //your properties
  font-size: 11pt;
  font-family: verdana;
  font-weight: bold;
} 
```

**循环**中

 **```
//Start loop
<div class="product">
    //Product
</div>
//End loop 
```**

# objective-c - 通过 AVFoundation 在后台仅播放音轨

> ID：13467407
> 
> 赞同：2
> 
> 时间：2012-11-20T06:00:40.893
> 
> 标签：objective-c, ios, avfoundation

我有一个 .mp4 文件，带有视频轨道和音频轨道。我只想在后台播放音轨，**AVFoundation**有什么办法吗？

还是其他框架？

任何想法将不胜感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-17T15:48:12.707

**修改后的解决方案**

我认为以下链接/示例将帮助您解决问题。答案在于在您选择播放资产之前禁用视频轨道的能力。

[如何使视频的音轨静音](http://iphonedevsdk.com/forum/iphone-sdk-development-advanced-discussion/66161-how-to-mute-video-s-audio-solved.html)是一个可以反转和推断如何禁用视频轨道的解决方案的示例。当人们认为视频只是资产的另一个 AVPlayerItemTrack 时，此功能似乎是可能的：

![AVFoundation AVPlayerItemTrack](../Images/008aca0aaac781df716a37d28569dea7.png)

我认为关键组件是禁用包含 myTracks 数组中的视频的 AVPlayerItemTrack，而不是禁用音轨。您需要隔离适当的标准，以区分视频轨道与音频 R 和音频 L 轨道。我相信这个框架会带来成功。让我知道事情进展如何。

```
- (void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object
                        change:(NSDictionary *)change context:(void *)context {

    if(context == &TracksStatusContext && [Utilities 
                   getSettings].videoMuted == YES)
    {
        NSArray * myTracks = self.myPlayerItem.tracks;
        for(int i = 0; i < [myTracks count]; i++)
        {
            if([[[myTracks objectAtIndex:i] assetTrack].mediaType 
                            isEqualToString:AVMediaTypeAudio] == YES)
            {
                ((AVPlayerItemTrack *)[myTracks 
                            objectAtIndex:i]).enabled = NO;
            }
        }
        return;
    }

    if (context == &ItemStatusContext) {
        [self.myPlayerView.player play];
        return;
    }
    return;
} 
```

[Apple AVFoundation 参考文档](https://developer.apple.com/library/ios/documentation/AudioVideo/Conceptual/AVFoundationPG/Articles/02_Playback.html#//apple_ref/doc/uid/TP40010188-CH3-SW1)

# android - 如何模仿风格化的 ListView

> ID：13467425
> 
> 赞同：0
> 
> 时间：2012-11-20T06:02:34.477
> 
> 标签：android, xml, android-listview

我正在尝试创建一个圆形和白色的 ListView：

![在此处输入图像描述](../Images/c3c9fea28a0b49008f11c7075865b930.png)

到目前为止，我已经尝试过使用</style>属性来设置listview的背景，但是无法得到这个效果。如果有人可以给我提示，那就太好了。

我知道我必须使用自定义列表视图，因此我相信我必须在 XML 中为自定义列表项重新创建它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:06:46.980

您可以通过添加以下代码来创建它：

在drawable文件夹中创建**rounded_corners.xml ，如下所示：**

**rounded_corners.xml**

```
<?xml version="1.0" encoding="UTF-8"?> 
<shape xmlns:android="http://schemas.android.com/apk/res/android" 
     android:shape="rectangle"> 
     <gradient android:startColor="color of your choice" android:endColor="color of your choice" 
            android:angle="270"/> 

    <corners android:bottomRightRadius="10dp" android:bottomLeftRadius="10dp" 
     android:topLeftRadius="10dp" android:topRightRadius="10dp"/> 
</shape> 
```

并将其添加到列表视图中，如下所示：

```
<ListView
        android:id="@+id/listview"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:clickable="true"
        android:background="@drawable/rounded_corners"
       >
    </ListView> 
```

# c# - 将 Excel 添加到 ExcelViewer 用户控件时，添加到 Excel 自定义的文档操作窗格的控件不起作用

> ID：13467426
> 
> 赞同：1
> 
> 时间：2012-11-20T06:02:39.780
> 
> 标签：c#, vsto

我正在使用 VSTO 创建的 excel 自定义。我的要求是使用 C# windows 窗体应用程序打开本地保存的 excel 自定义文件，并将这个 excel 自定义文件嵌入到 Viewer 控件中。此查看器控件应放置在 windows 窗体中。

我已按照以下步骤操作。

1.  [从http://excelviewer.codeplex.com](http://excelviewer.codeplex.com)下载 Excel 查看器控件。
2.  创建了一个 C# Windows 应用程序项目。
3.  将下载的 Excel Viewer 控件包含到上述项目中。
4.  构建项目。
5.  将 Excel 查看器控件拖放到窗体中。
6.  在表单构造函数中，我调用了`OpenFile(string filename)`驻留在 ExcelViewer 类中的方法。例如：*excelViewer1.OpenFile(@"C:\ABC.xlsx");*

完成上述步骤后，我可以在放置在表单中的查看器控件中嵌入并显示 excel 文件，**但我无法使用文档操作窗格中添加的任何控件。**在我的自定义中，我有几个按钮，如果我单击其中一个，则**不会执行**预期的操作。

当我在查看器控件中嵌入 excel 自定义时，谁能建议我需要进行哪些类型的更改才能完全使用文档操作窗格中的控件？

# ios - 如何将实体上的属性迁移到 Core Data 中的实体

> ID：13467427
> 
> 赞同：2
> 
> 时间：2012-11-20T06:02:57.270
> 
> 标签：ios, core-data, core-data-migration

我正在努力解决一个相当复杂的核心数据映射问题，我似乎无法理解。基本上，我有一个托管对象的版本，其属性是一个字符串。该字符串在许多对象中都是相同的。由于它是相同的，我认为将其更改为具有“名称”属性的单个实体是有意义的。

entity.attribute 应该变成 entity.newObject.name，其中属性和名称都是字符串。

使事情复杂化的是，我希望当前拆分为多个实体的属性成为实体的单个实例。此外，新实体应该与具有匹配 newObject.name 的属性的对象具有一对多的关系。

有什么方法可以通过 Core Data 中的映射模型来做到这一点？我知道自动迁移是不可能的。

我想从这个出发：

[当前型号示意图](http://i.imgur.com/to0Ku.png)

对此：

[通缉模型图](http://i.imgur.com/GhDbb.png)

我这样做是为了加快在特定会话中匹配特定拼图类型的时间的获取请求。想法是 -[NSSet intersectSet] 比将每个时间的拼图类型属性与字符串进行比较要快得多。我将如何通过映射模型或以编程方式执行此操作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-03T11:37:25.913

您可以使用自动迁移，只是不能自动推断映射。

高级任务将是：

1.  创建一个新的模型版本。
2.  根据需要配置新模型。
3.  将新模型版本设置为当前版本。
4.  创建从旧版本到新版本的映射模型，您将在其中设置 $source.attributes 映射到哪些新属性。
5.  配置持久存储协调器时，将 NSInferMappingModelAutomaticallyOption 选项设置为 NO。
6.  将 NSMigratePersistentStoresAutomaticallyOption 选项保留为 YES。仅当您想使用迁移管理器显示迁移进度时，才将其设置为 NO。

如果您需要对这些项目中的任何一个进行更深入的指导，请告诉我。

# jakarta-ee - 随之而来的问题是什么；当struts2 web app中没有注销时

> ID：13467431
> 
> 赞同：0
> 
> 时间：2012-11-20T06:03:37.597
> 
> 标签：jakarta-ee, struts2, logout, session-timeout

我开发了一个没有登录和注销的网络应用程序，但我有很多会话要处理，我没有登录和注销的原因是，有一个网络应用程序已经在运行，我被指示将这个 struts2 web 应用程序与之集成。所以我这样做了，一切都很好，但我担心我创建的那些会话没有被清除，因为我没有注销。所以我这种情况下如何处理会话。在互联网上，我找到了一些解决方案，例如使用 window.onunload 或在 web.xml 中使用 session-timeout。我不知道哪个最好用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T15:13:29.753

除了上面所说的之外，会话自动清理机制是一种最佳实践，除非您特别需要无限时间的会话，否则它们不需要长时间闲逛。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T20:11:36.000

我在 web.xml 中使用 session-timeout 并且效果很好。您只需要弄清楚什么是正确的延迟即可摆脱会话，以免会话太短而打扰用户，也不会因会话过多而减慢服务器速度。

我为少量用户开发应用程序，所以我把我想要的任何东西放在我的会话中，让它在几个小时后超时。不是少量的文本会使我们的服务器超载。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T09:26:06.553

如果您需要在 .NET 和 Java EE 之间共享（部分）会话，您可以使用本[社区 Wiki中描述的服务](https://stackoverflow.com/questions/834667/java-ee-integration-with-net-for-authentication)

.NET 管理身份验证，Java EE 调用 .NET 来检查用户是否经过身份验证。

当用户从 .NET 注销时，Java EE 的下一次调用将返回“logged out”。

希望有帮助

# objective-c - 空格键或返回键会在 argv 宪章指针数组中添加特殊字符吗？

> ID：13467433
> 
> 赞同：0
> 
> 时间：2012-11-20T06:03:51.933
> 
> 标签：objective-c, unix, terminal

总结：我最近一直在玩 unix 终端，并决定构建一个小型 Objective-C 应用程序，以测试将参数传递给“main”的实际执行方式。我已经构建了应用程序，牢记 std=c99。

测试：如果我将值硬编码为 argv 和 argc，一切正常，因此： argv[0] 和 argv[1] 来自 main 的前几行。

问题：如果我将 argv[0] 和 argv[1] 注释掉并从 unix 终端运行我的应用程序，该应用程序将永远无法运行，这就是为什么我想知道终端是否会附加任何我不知道的有趣字符--

这是代码片段： 1\. 请注意 Dictionary 只是一个结构 2\. 想法？

```
 int main(int argc, char * argv[])
{
    //argv[0] = "prog";
    //argv[1] = "four";

    NSLog(@"request from: %s, entered string: %s, # of arguments: %i", argv[0], argv[1], argc);

    //argc = 2;
    if (argc >= 2)
    {
        if (translate(argv, argc));
        else
            NSLog(@"%s", "Unable to find request in dictionary");
    }
    else
        NSLog(@"insufficient arguments");

    return 0;
}

    BOOL translate(char * search[], int size)
{
    const int buffer = 6;
    Dictionary dic[] =
    {{"one", "1"},
        {"two", "2"},
        {"three", "3"},
        {"four ", "4"},
        {"five", "5"},
        {"six", "6"}
    };

    char * temp = search[size - 1];
    NSLog(@"temp value: %s", temp);

    int i = 0;
    for (; i < buffer; ++i)
    {
        char * temp2 = dic[i].num;
        NSLog(@"steped into for loop - with currect struct value: %s", temp2);

        if (temp == temp2)
        {
            NSLog(@"steped into if stamtement");
            NSLog(@"%s", dic[i].translate);
            return YES;
        }
    }

    return NO;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:29:47.813

所以***最后一次...***

您**不能**使用 比较字符串`==`，因为 C 不是 JavaScript，并且`==`对其操作数执行数值比较。代替

```
if (temp == temp2) 
```

你应该写

```
if (strcmp(temp, temp2) == 0) 
```

（并重新阅读一个好的 C 教程 - 在一个体面的教程中，肯定包括像这样的“棘手”的东西。）

# android - 只关注对话框，不关注android中的背景布局

> ID：13467443
> 
> 赞同：0
> 
> 时间：2012-11-20T06:04:58.557
> 
> 标签：android, android-alertdialog

除非用户单击对话框中的按钮，否则如何在 android 中创建一个始终聚焦的对话框？

该对话框的行为就像一个弹出窗口，如果不关闭它，它将在单击背景布局时禁用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:22:34.023

如果您在对话框外部触摸时您的 AlertDialog 被取消，那么只需将此代码放入您的 AlertDialog 以阻止它通过外部触摸取消。

代码：

```
dialog.setCanceledOnTouchOutside(false); // Where dialog is the object of your AlertDialog 
```

您还可以通过 BackPress 键设置另一个属性以停止关闭对话框

代码：

```
dialog.setCancelable(false); 
```

希望它会帮助你。

如有任何疑问，请评论我。

享受编码。:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T06:11:32.640

**`Sample Code`**您可以在活动中尝试。

[你可以在这里](http://developer.android.com/reference/android/app/Dialog.html)找到文档

```
Dialog myDialog =   new AlertDialog.Builder(getActivity())
                    .setIcon(R.drawable.alert_dialog_icon)
                    .setTitle(title)
                    .setCancelable(false)
                    .setPositiveButton(R.string.alert_dialog_ok,
                        new DialogInterface.OnClickListener() {
                            public void onClick(DialogInterface dialog, int whichButton) {
                                //Do your stuff
                            }
                        }
                    )
                    .setNegativeButton(R.string.alert_dialog_cancel,
                        new DialogInterface.OnClickListener() {
                            public void onClick(DialogInterface dialog, int whichButton) {
                                //Do your stuff
                            }
                        }
                    )
                    .create(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T06:18:21.727

为什么不创建自己的对话框，

```
final Dialog dialog = new Dialog(DialogBoxActivity.this);
                    dialog.setContentView(R.layout.maindialog);
                    dialog.setTitle("This is dialog box");
                    dialog.setCancelable(true);

                    //set up text
                    TextView text = (TextView) dialog.findViewById(R.id.TextView01);
                    text.setText("Are you sure you want to exit");

                    //set up button
                    Button yes = (Button) dialog.findViewById(R.id.yes);
                    yes.setOnClickListener(new View.OnClickListener() 
                    {
                    @Override
                        public void onClick(View v) 
                        {
                            finish();
                        }
                    });
                    Button no = (Button)dialog.findViewById(R.id.no);
                    no.setOnClickListener(new View.OnClickListener()
                    {
                        @Override
                        public void onClick(View v) 
                        {
                            dialog.dismiss();
                        }
                    });
                    dialog.show(); 
```

并将其布局定义为 maindialog.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <ScrollView
        android:id="@+id/ScrollView01"
        android:layout_width="192dp"
        android:layout_height="48dp"
        android:layout_below="@+id/ImageView01" >

 <TextView android:text="@+id/TextView01" android:id="@+id/TextView01"
 android:layout_width="wrap_content" android:layout_height="wrap_content" />

 </ScrollView>

<RelativeLayout
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal" >

    <Button
        android:id="@+id/yes"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:layout_marginLeft="24dp"
        android:text="  Yes  " />

    <Button
        android:id="@+id/no"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_marginLeft="26dp"
        android:layout_toRightOf="@+id/yes"
        android:text="  No   " />

</RelativeLayout>

</LinearLayout> 
```

它将为对话框创建自定义布局，并且只能在单击按钮时关闭。

# javascript - 按钮单击时的 JavaScript 验证

> ID：13467447
> 
> 赞同：0
> 
> 时间：2012-11-20T06:05:04.983
> 
> 标签：javascript, asp.net-mvc, javascriptserializer

我遇到了 JavaScript 验证问题。

我有以下源代码：

```
<%@ Page Title="" Language="C#" MasterPageFile="~/Full_Width.master" AutoEventWireup="true" CodeFile="validate.aspx.cs" Inherits="validate" %>

<asp:Content ID="Content1" ContentPlaceHolderID="head" Runat="Server">
<script type="text/javascript">

function emptelephoneno() {
    var elem = document.getElementById('<%=txtfullname.ClientID%>');
    if (elem.value.length == 0) {
        elem.style.border = '1px solid red';
        document.getElementById('nameError').innerHTML = "Please Enter Your First Name";
        return false;
    }
    else {
        elem.style.border = '';
        document.getElementById('nameError').innerHTML = "";
    }
    return true;
}

function emptelephoneno1() {
    var elem1 = document.getElementById('<%=TextBox1.ClientID%>');
    if (elem1.value.length == 0) {
        elem1.style.border = '1px solid red';
        document.getElementById('Span1').innerHTML = "Please Enter Your First Name";
        return false;
    }
    else {
        elem1.style.border = '';
        document.getElementById('Span1').innerHTML = "";
    }

    return true;
}

</script>
</asp:Content>

<asp:Content ID="Content2" ContentPlaceHolderID="ContentPlaceHolder1" Runat="Server">
<div class="wrapper row3">
    <div id="container" class="clear">
        <div id="content" style="border:1px solid green; margin-left:10px; width:600px;">
            <div class="divRegistration">
                <div class="divleft">
                    <label> full name :<span class="spanstar">*</span></label>
                </div>
            <div class="divright">
                <asp:TextBox ID="txtfullname" runat="server" MaxLength="30"></asp:TextBox>
                <span id="nameError" class="spanerror"></span>
            </div>
        </div>

        <div class="divRegistration">
            <div class="divleft">
            <label> full name :<span class="spanstar">*</span></label>
        </div>
        <div class="divright">
            <asp:TextBox ID="TextBox1" runat="server" MaxLength="30"></asp:TextBox>
            <span id="Span1" class="spanerror"></span>
        </div>
    </div>

    <asp:Button ID="btn" runat="server" text="submit" OnClientClick="return emptelephoneno();return emptelephoneno1();" 
        onclick="btn_Click" />
</div>
</div>
</div>
</asp:Content> 
```

在 aspx.cs 页面中，我编写了以下代码：

```
this.txtfullname.Attributes.Add("onblur", "javascript:emptelephoneno();");
this.TextBox1.Attributes.Add("onblur", "javascript:emptelephoneno1();"); 
```

当我单击按钮时，第一个验证实际上有效，但第二个无效。

你能提供任何建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T06:10:36.620

*您永远不能在 return 语句之后添加任何语句，因为这些语句将无法访问。*

尝试改变：

```
OnClientClick="return emptelephoneno();return emptelephoneno1();" 
```

类似于：

```
OnClientClick="return validate();" 
```

& 在 JS 中：

```
function validate() { return emptelephoneno() & emptelephoneno1(); } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T06:11:39.200

尝试这个

```
function validateform() {
  if (emptelephoneno() == true) {
     if (emptelephoneno1() == true) {
       return true;
     }
  }
  return false;
}

<asp:Button ID="btn" runat="server" 
            Text="submit" 
            OnClientClick="return validateform();" /> 
```

# php - codeigniter 电子邮件功能

> ID：13467448
> 
> 赞同：0
> 
> 时间：2012-11-20T06:05:12.880
> 
> 标签：php, codeigniter, email, sendmail

我正在尝试在codeigniter框架的控制器类中发送包含以下代码的电子邮件...

```
 $config['protocol'] = 'sendmail'; 
    $config['mailpath'] = '/usr/sbin/sendmail'; 

    $this->load->library('email', $config); 

    $this->email->set_newline("\r\n"); 

    $this->email->from('tanvir@soft-bd.com', 'tanvir@soft-bd.com'); 
    $this->email->to('tanvir064@gmail.com');         
    $this->email->subject('This is an email test');         
    $this->email->message('It is working. Great!'); 

    if ($this->email->send()) { 
        echo "Sent!"; 
        $this->email->print_debugger(); 

    } else { 
        echo "FAILED"; 
        echo $this->email->print_debugger(); 
    } 
```

但显示以下错误

我的代码有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T06:16:51.653

将此代码粘贴到函数的开头

```
$this->load->library('email');
$config['protocol'] = 'sendmail';
$config['mailpath'] = '/usr/sbin/sendmail';
$config['charset'] = 'iso-8859-1';
$config['wordwrap'] = TRUE;
$this->email->initialize($config); 
```

这可能对你有帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T06:07:37.493

您可以尝试使用此代码。我正在从 Gmail smtp 服务器发送邮件......

```
function sendMail()
    {
        $config = Array(
      'protocol' => 'smtp',
      'smtp_host' => 'ssl://smtp.googlemail.com',
      'smtp_port' => 465,
      'smtp_user' => 'xxx@gmail.com', // change it to yours
      'smtp_pass' => 'xxx', // change it to yours
      'mailtype' => 'html',
      'charset' => 'iso-8859-1',
      'wordwrap' => TRUE
    );

            $message = $this->load->view('upload_success','',TRUE);
            $this->load->library('email', $config);
          $this->email->set_newline("\r\n");
          $this->email->from('xxx@gmail.com'); // change it to yours
          $this->email->to('yyy@gmail.com');// change it to yours
          $this->email->subject('Resume from JobsBuddy for your Job posting');
          $this->email->message($message);
          if($this->email->send())
         {
          echo 'Email sent.';
         }
         else
        {
         show_error($this->email->print_debugger());
        }

    } 
```

# documentation - wget源代码文档

> ID：13467450
> 
> 赞同：0
> 
> 时间：2012-11-20T06:05:26.390
> 
> 标签：documentation, wget

`wget`我从[http://ftp.gnu.org/gnu/wget/](http://ftp.gnu.org/gnu/wget/)下载了源代码（文件 wget-1.14.tar.gz）。有什么地方可以阅读以了解源代码的整个结构吗？我在下载的文件中找不到任何此类文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T06:16:08.063

一个很好的起点似乎是GNU wget wiki 中[的 Wget 程序源代码入门。](http://wget.addictivecode.org/NavigatingTheSource)

# oracle11g - Oracle 11g 压缩

> ID：13467455
> 
> 赞同：0
> 
> 时间：2012-11-20T06:06:32.690
> 
> 标签：oracle11g

我如何知道Oracle 11g Basic 压缩在正常的DML 操作中是否不压缩和解压缩。它仅对直接路径插入有效吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T06:31:17.653

我通过互联网飙升，发现一篇关于压缩的非常好的文章（该文档适用于 10g 压缩），它也适用于 11g 压缩。

参考

[http://www.oracle.com/technetwork/articles/oem/11g-compression-198295.html](http://www.oracle.com/technetwork/articles/oem/11g-compression-198295.html)

[10g压缩](http://www.oracle.com/technetwork/database/options/partitioning/twp-data-compression-10gr2-0505-128172.pdf)

我在这里得到的是Oracle 11g基本压缩，如果你选择直接路径即/ *+append* /，create as select等进行压缩。如果正常插入，删除它不会再次压缩数据。

# hadoop - hadoop eclipse 插件构建/配置

> ID：13467460
> 
> 赞同：0
> 
> 时间：2012-11-20T06:06:46.133
> 
> 标签：hadoop, bigdata, hadoop-plugins

我已经能够在 linux 环境中配置和启动 hdfs(apache hadoop)。我尝试了各种方法来使用 HADOOP ECLIPSE PLUGIN 为 hadoop 设置 eclipse 环境。只有 Eclipse 识别的插件 jar 存在 1280 jira 问题，其他方法甚至无法识别，例如从 hadoop src 构建 eclipse 插件等。来自 1280 链接的修补 jar 显示“无法连接到 127.0.0.1:3515 EOFException”。许多博客/论坛都说修补 hadoop 的不同方法，使用各种工具构建等等。等等。没有一个稳定的 hadoop 项目可以用 eclipse 配置，以便开发人员可以快速获取环境并处理各种示例？我不想使用 Cloudera VM，因为它让我无法以正常方式理解 hadoop，而且安装是一个包含大文件的过程。

谢谢查克里

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T10:06:31.273

关于 ConnectException，如果按照 Claudia 的指示完成了所有其他操作，如果您仍然在 DFS 位置收到此异常，则意味着您使用的插件与您使用的 hadoop 版本或 eclipse 版本不兼容（通常是后者）。在这种情况下，请参考[此处](http://linuxjunkiemonkey.wordpress.com/2012/04/22/eclipse-apache-hadoop-plugin-build-1-0-2/)以便为您正在使用的 eclipse 版本编译一个新插件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T14:40:50.813

Hadoop 安装成功了吗？在我的 0.20.2 Hadoop 设置中，以下步骤用于获得一个正常运行的 Eclipse 插件（在我通过命令行安装 Hadoop 本身之后）：

1.  设置Eclipse，复制插件并重启；[使用补丁插件](https://issues.apache.org/jira/browse/MAPREDUCE-1280)（将 hadoop-eclipse-plugin-0.20.3-SNAPSHOT.jar 添加到本地 Eclipse/plugins 文件夹）。
2.  切换到 Map/Reduce 透视图。如果没有出现 Map/Reduce Locations 选项卡，请转到 Window->Show View->Other 以激活它。确保知道 hdfs 的正确端口（可以在 Hadoop 设置的 core-site.xml 中找到）和 mapreduce 作业（可以在 mapred-site.xml 中找到）正在运行。
3.  Eclipse 插件中的“DfS 位置”需要手动刷新才能看到刚刚添加的新数据，因此如果您右键单击并将文件上传到 HDFS，请确保刷新
4.  要在 Eclipse 中创建一个新的 Hadoop 项目，请转到 New Project -> Map/Reduce Project

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-17T14:36:49.087

@Claudia 除了在创建新的 hadoop 位置时进行这么多设置之外，还有其他与更改高级参数相关的内容吗？在常规选项卡中，端口是正确的，但我仍然遇到异常 - 错误：调用 localhost/127.0.0.1:9000 连接异常失败：java.net.ConnectException：连接被拒绝主节点与安装 eclipse 的节点相同.

# entity-framework - 创建递归 Linq 到实体查询？（如递归 CTE）

> ID：13467461
> 
> 赞同：1
> 
> 时间：2012-11-20T06:06:45.743
> 
> 标签：entity-framework, recursion, linq-to-entities

我有一个 web 应用程序，它具有简单**的用户组树结构，**并正在寻找一种查询以下内容的方法：

*   顶级父母
*   任何级别的所有子组（孩子的孩子等）
*   所有家长组（我的家长、家长的家长等）

我正在使用 MS SQL，因此在 DB 中编写我需要的选择并将它们保存为存储过程并不是一个大问题。

**但是有没有办法只使用 EntityToSql 来创建这样的查询？**

这是我使用的 TSQL 查询的示例：

```
DECLARE @userGroupId uniqueidentifier 
DECLARE @searchTerm nvarchar(20)

SET @userGroupId = '00000000-0000-0000-0000-000000000000'
Set @searchTerm = 'test'

;WITH n(lvl,id,ParentUserGroupId,FullName) AS (
    SELECT 1,id,ParentUserGroupId,FullName FROM UserGroups where 
    id in (select UserGroupId 
    FROM Users WHERE login like '%'+@searchTerm+'%')
    UNION ALL 
    SELECT n.lvl+1, nplus1.id,nplus1.ParentUserGroupId, nplus1.FullName
    FROM UserGroups as nplus1,n WHERE n.ParentUserGroupId = nplus1.id
)
SELECT DIStinct id,FullName 
FROM n where ParentUserGroupId = @userGroupId OR
((@userGroupId IS NULL OR @userGroupId = '00000000-0000-0000-0000-000000000000')
AND ParentUserGroupId IS NULL) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T11:45:14.087

不，您不能在 ESQL 或 Linq-to-entities 中创建这样的递归查询。

您可以直接使用 EF 或 ADO.NET 调用您的存储过程，或者如果您有 .NET 4.5 并且如果您使用的是 EDMX，则可以将查询包装在表值函数中，将该函数导入您的 EDMX 并在 Linq-to 中使用它-实体查询。

# directx - 创建新的 Texture2D 时如何选择像素格式？

> ID：13467463
> 
> 赞同：5
> 
> 时间：2012-11-20T06:06:57.463
> 
> 标签：directx, sharpdx, pixelformat

我正在使用 SharpDX Toolkit，并且正在尝试以编程方式创建 Texture2D，因此我可以手动指定所有像素值。而且我不确定用什么像素格式来创建它。

SharpDX 甚至没有记录工具包的 PixelFormat 类型（他们有[另一个 PixelFormat 类](http://sharpdx.org/documentation/api/t-sharpdx-wic-pixelformat)的文档，但它是用于 WIC，而不是工具包）。我确实找到了它包装的 DirectX 枚举[DXGI_FORMAT](http://msdn.microsoft.com/en-us/library/windows/desktop/bb173059(v=vs.85).aspx)，但它的文档没有就我如何选择格式提供任何有用的指导。

我习惯于普通的 32 位位图格式，每个颜色通道 8 位加上 8 位 alpha，这对我来说已经足够好了。所以我猜最简单的选择是 R8G8B8A8 或 B8G8R8A8。我选择哪个重要吗？所有硬件都完全支持它们吗？

即使我选择了其中之一，我也需要进一步指定它是 SInt、SNorm、Typeless、UInt、UNorm 还是 UNormSRgb。我不需要 sRGB 颜色空间。我不明白无类型应该是什么。UInt 似乎是最简单的——只是一个普通的旧无符号字节——但事实证明它不起作用；我没有收到错误，但我的纹理不会在屏幕上绘制任何内容。UNorm 有效，但文档中没有任何内容可以解释 UInt 无效的原因。所以现在我很怀疑 UNorm 可能无法在其他显卡上工作。

这是我得到的代码，如果有人想看的话。下载 SharpDX 完整包，打开 SharpDXToolkitSamples 项目，转到 SpriteBatchAndFont.WinRTXaml 项目，打开 SpriteBatchAndFontGame 类，并在指示处添加代码：

```
// Add new field to the class:
private Texture2D _newTexture;

// Add at the end of the LoadContent method:
_newTexture = Texture2D.New(GraphicsDevice, 8, 8, PixelFormat.R8G8B8A8.UNorm);
var colorData = new Color[_newTexture.Width*_newTexture.Height];
_newTexture.GetData(colorData);
for (var i = 0; i < colorData.Length; ++i)
    colorData[i] = (i%3 == 0) ? Color.Red : Color.Transparent;
_newTexture.SetData(colorData);

// Add inside the Draw method, just before the call to spriteBatch.End():
spriteBatch.Draw(_newTexture, new Vector2(0, 0), Color.White); 
```

这会在屏幕左上角绘制一个带有对角线的小矩形。它适用于我正在测试它的笔记本电脑，但我不知道如何知道这是否意味着它可以在任何地方工作，我也不知道它是否会是最高性能的。

我应该使用什么像素格式来确保我的应用程序可以在所有硬件上运行并获得最佳性能？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-25T07:21:09.327

SharpDX Toolkit 中的格式映射到底层 DirectX/DXGI 格式，因此您可以像往常一样使用 Microsoft 产品，从 MSDN 获取您的信息：

[DXGI_FORMAT 枚举 (Windows)](http://msdn.microsoft.com/en-us/library/windows/desktop/bb173059%28v=vs.85%29.aspx)

32 位纹理是大多数纹理场景的常见选择，并且在旧硬件上具有良好的性能。正如评论中已经回答的那样，UNorm 的意思是“在 0.0 .. 1.0 的范围内”，这也是访问纹理中颜色数据的常用方法。

如果您查看[Direct3D 10Level9 格式 (Windows) 的硬件支持](http://msdn.microsoft.com/en-us/library/windows/desktop/ff471324%28v=vs.85%29.aspx)页面，您会看到 DirectX 9 硬件支持 DXGI_FORMAT_R8G8B8A8_UNORM 和 DXGI_FORMAT_B8G8R8A8_UNORM。您不会遇到与它们两者的兼容性问题。

性能取决于设备的初始化方式（RGBA/BGRA？）以及运行软件的硬件（=支持的 DX 功能级别）和操作系统。您必须运行自己的测试才能找到它（尽管在这些常见和相似格式的情况下，差异最多应该是个位数的百分比）。

# php - 如何通过给出键名来获取键的特定值？

> ID：13467464
> 
> 赞同：0
> 
> 时间：2012-11-20T06:07:08.117
> 
> 标签：php

```
Array
(
    [0] => stdClass Object
    (
        [domain] => alphaanalysis.org
        [status] => available
    )
} 
```

我有数组，它的元素是这样的。我只需要域键的值。怎么得到，我不知道。请帮我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T06:09:18.347

如果你的数组是 $x 你可以使用：

```
$x[0]->domain 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-20T06:09:59.483

```
<?php
     $array[0]->domain; 
 ?> 
```

如果你的数组是 $array 那么你可以试试这个。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T06:12:37.830

只需使用此语法即可

```
$arraynem[]->key; 
```

# reporting-services - SSRS Tablix 分组

> ID：13467468
> 
> 赞同：1
> 
> 时间：2012-11-20T06:07:36.110
> 
> 标签：reporting-services, reportingservices-2005

该公司已要求重新排列 tablix 中的列，但要保持它们的分组。

目前该报告如下所示：

![当前的](../Images/8513eed9297f8a19af39fe556556912a.png) 它按跨越两行的“出发”和“目的地”分组。

企业希望保持相同的分组和数据，但重新排列列

![未来](../Images/fff16549727637bf3745777a43162c73.png)

这可能吗？如果我将列移动到此顺序，则分组会阻止“订单部分”列中的第二行出现。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T16:14:34.917

您不能在 SSRS 2005 中移动现有列。假设您的 COL1 和 COL2 值位于组标题行中，您可以执行以下操作：

1.  右键单击 COL2 > 拆分单元格
2.  右键单击 COL1 > 拆分单元格
3.  右键单击 COL1 > 插入列 > 左
4.  将新插入列的标题/值设置为 COL3
5.  将 COL2 和 COL1 的明细行留空。
6.  最后，您需要删除旧的 COL3

# c# - 如何使用 C# 在源代码中查找图像标签？

> ID：13467469
> 
> 赞同：1
> 
> 时间：2012-11-20T06:07:34.980
> 
> 标签：c#, c#-4.0, c#-3.0

我正在使用 c# 现在将网页内容存储在单个变量中，如果我粘贴任何将显示链接的完整源代码的 URL，我有一个文本框。现在我想找到它开始的所有图像标签以及它在哪里完成了。我也喜欢合并图像标签。

谁能告诉我怎么做。。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T06:12:03.160

假设您要解析内容服务器端，您可以使用 Html Agility 包

看到[这个](https://stackoverflow.com/questions/2113924/how-can-i-use-html-agility-pack-to-retrieve-all-the-images-from-a-website)问题

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T06:16:06.693

尝试这个：

```
var images = doc.DocumentNode.SelectNodes("//img");
if (images != null)
{
    foreach (HtmlNode image in images)
    {
        var alt = image.GetAttributeValue("alt", "");
        var nodeForReplace = HtmlTextNode.CreateNode(alt);
        image.ParentNode.ReplaceChild(nodeForReplace, image);
    }
}

var sb = new StringBuilder();
using (var writer = new StringWriter(sb))
{
    doc.Save(writer);
} 
```

# mysql - 更正我的 MySQL 查询？

> ID：13467472
> 
> 赞同：0
> 
> 时间：2012-11-20T06:07:46.603
> 
> 标签：mysql, sql

我有桌子

```
CREATE TABLE `survey` (
  `id` int(11) NOT NULL auto_increment,
  `submitdate` datetime default NULL,
 `answer` varchar(5) collate utf8_unicode_ci default NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=499 ; 
```

现在得到像

```
 c                t         Clicks   
2012-10-29  2012-10-22       10
2012-11-04  2012-10-30       20
2012-11-11  2012-11-05       30
2012-11-19  2012-11-12       34 
```

我正在使用这个查询

```
SELECT uq.timespan, COALESCE(tsq.TotalClicks, 0) as Clicks FROM (
SELECT DATE( DATE_ADD( NOW( ) , INTERVAL -21
DAY ) ) c, DATE( DATE_ADD( NOW( ) , INTERVAL -28
DAY ) ) l
union SELECT DATE( DATE_ADD( NOW( ) , INTERVAL -15
DAY ) ) c, DATE( DATE_ADD( NOW( ) , INTERVAL -20
DAY ) ) l
union SELECT DATE( DATE_ADD( NOW( ) , INTERVAL -8
DAY ) ) c, DATE( DATE_ADD( NOW( ) , INTERVAL -14
DAY ) ) l
union SELECT curdate() c,DATE( DATE_ADD( NOW( ) , INTERVAL -7
DAY ) ) l
)uq LEFT JOIN (
SELECT CASE 
    WHEN submitdate >= NOW() - INTERVAL 4 WEEK
                AND submitdate < NOW() - INTERVAL 3 WEEK THEN  c 'to' l
DAY ) )
    WHEN submitdate >= NOW() - INTERVAL 3 WEEK
                AND submitdate < NOW() - INTERVAL 2 WEEK THEN c 'to' l
    WHEN submitdate >= NOW() - INTERVAL 2 WEEK
        AND submitdate < NOW() - INTERVAL 1 WEEK THEN c 'to' l
DAY ) )
    WHEN submitdate >= NOW() - INTERVAL 1 WEEK THEN c 'to' l
           END Weeksubmitdate, 
           count(id) TotalClicks
FROM survey
WHERE submitdate >= NOW() - INTERVAL 4 WEEK
GROUP BY Weeksubmitdate
)tsq ON uq.timespan = tsq.Weeksubmitdate"; 
```

问题在于第 16 行 c 到 l。

我收到以下错误：

> 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 16 行的 ''to' l DAY ) ) WHEN submitdate >= NOW() - INTERVAL 3 WEEK 附近使用正确的语法

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:50:18.627

CASE 应该计算为标量表达式。这意味着它的 THEN 子句也必须计算为标量表达式。现在，这`c 'to' l`东西代表什么？它是一个标量表达式吗？对我来说似乎不是一个，但是我可能不知道 MySQL 中的某些东西，因此 MySQL 本身是否将其识别为标量表达式更为重要。显然它没有。

还有一个问题。您试图在另一个派生表中引用派生表的列。更具体地说，您似乎试图在子选择中引用列和*of*`c`，`l`这是非法的。如果是一个普通的表，那很好，但是由于它是一个*虚拟*表，查询不知道它的存在，*即*在解析子查询的时候。`uq` *`tsq``uq`**`tsq`***

 ***无论如何，您似乎对查询所做的事情可能会更简单地重写，例如：

```
SELECT
  MIN(submitdate) AS startdate,
  MAX(submitdate) AS enddate,
  COUNT(*) AS clicks
FROM (
  SELECT
    CASE
      WHEN submitdate >= NOW() - INTERVAL 1 WEEK THEN 1
      WHEN submitdate >= NOW() - INTERVAL 2 WEEK THEN 2
      WHEN submitdate >= NOW() - INTERVAL 3 WEEK THEN 3
      WHEN submitdate >= NOW() - INTERVAL 4 WEEK THEN 4
    END AS weekid,
    *
  FROM survey
) s
GROUP BY
  weekid
ORDER BY
  startdate
; 
```

子查询将代理周 ID 分配给`survey`. 主查询按这些 ID 对结果进行分组，并为每个组生成计数以及开始和结束日期。***

# bash - 检索并添加两个文件数

> ID：13467474
> 
> 赞同：1
> 
> 时间：2012-11-20T06:07:53.170
> 
> 标签：bash, shell, scripting

在我的文件中，我具有以下结构：-

```
A | 12 | 10
B | 90 | 112
C | 54 | 34 
```

我要做的是我必须添加第 2 列和第 3 列并用第 1 列打印结果。

输出：-

```
A | 22
B | 202
C | 88 
```

我检索了两列，但不知道如何添加我所做的是：- `cut -d ' | ' -f3,5 myfile.txt` 如何添加这些列并显示。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T06:15:36.270

一个 Bash 解决方案：

```
#!/bin/bash

while IFS="|" read f1 f2 f3
do
   echo $f1 "|" $((f2+f3))
done < file 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-20T06:09:21.203

您可以使用 awk 轻松完成此操作。

`awk '{print $1," | ",($3+$5)'} myfile.txt` 也许会工作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T06:15:56.573

你可以这样做`awk`：

```
awk 'BEGIN{FS="|"; OFS="| "} {print $1 OFS $2+$3}' input_filename 
```

**输入：**

```
A | 12 | 10
B | 90 | 112
C | 54 | 34 
```

**输出：**

```
A | 22
B | 202
C | 88 
```

**解释：**

*   `awk`: 调用`awk`工具
*   `BEGIN{...}`: 在开始从文件中读取行之前做一些事情
*   `FS="|"`：`FS`代表字段分隔符。将其视为将文件的每一行分隔为字段的分隔符
*   `OFS="| "`：`OFS`代表输出字段分隔符。与上述相同的想法，但用于输出。FS =/= OFS 在这种情况下由于格式化
*   `{print $1 OFS $2+$3}`：对于`awk`读取的每一行，打印第一个字段（字母），后跟由 指定的分隔符`OFS`，然后是字段 2 和字段 3 的总和。
*   `input_filename`: awk 在这里接受输入文件名作为参数。

# c# - 使用 vspackage 将上下文菜单项添加到解决方案资源管理器中的所有文件和文件夹

> ID：13467477
> 
> 赞同：1
> 
> 时间：2012-11-20T06:08:20.807
> 
> 标签：c#, visual-studio-2010, vs-extensibility, vspackage

我想在解决方案资源管理器中的所有文件和文件夹的上下文菜单中添加一个菜单项。我能够使用 vsct 文件中的这个条目将我的菜单项添加到项目节点。

```
<Menu guid="guidERAPackageAlphaCmdSet" id="ERAInsightMenu" priority="0x0700" type="Context">
    <Parent guid="guidSHLMainMenu" id="IDG_VS_CTXT_PROJECT_ADD" />
    <Strings>
      <ButtonText>ERA Insight</ButtonText>
      <CommandName>ERA Insight</CommandName>
    </Strings>  
  </Menu> 
```

我想在解决方案资源管理器中所有文件和文件夹的上下文菜单中获取它。我应该使用的 id 是什么？有没有什么地方可以找到Visual Studio中所有菜单的ID？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-07-14T15:43:27.047

我知道这很旧，但希望这对某人有所帮助。

如果您查看 vsct 文件的顶部，您应该会看到：

```
 <!--This header contains the command ids for the menus provided by the shell. -->
  <Extern href="vsshlids.h"/> 
```

路径会因版本而异，但您应该能够在与以下类似的路径中找到它：

C:\Program Files (x86)\Microsoft Visual Studio 12.0\VSSDK\VisualStudioIntegration\Common\Inc

该文件包含所有常量的列表，其中一些有描述。

以下是可用于文件中原始问题的示例：

```
// Common Item Node context menu
#define IDM_VS_CTXT_ITEMNODE          0x0430

// Folder Node context menu
#define IDM_VS_CTXT_FOLDERNODE        0x0431 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-30T17:56:39.757

您可以使用本文中描述的技巧找到所有根菜单的 ID（这意味着它不显示上下文菜单的子菜单）：

[http://blogs.msdn.com/b/dr._ex/archive/2007/04/17/using-enablevsiplogging-to-identify-menus-and-commands-with-vs-2005-sp1.aspx](http://blogs.msdn.com/b/dr._ex/archive/2007/04/17/using-enablevsiplogging-to-identify-menus-and-commands-with-vs-2005-sp1.aspx)

总而言之，您需要在以下位置添加一个注册表项： `HKEY_CURRENT_USER/Software/Microsoft/VisualStudio/<your vs version>/General` 并且 ass 的密钥`DWORD`类型为 named `EnableVSIPLogging`（您必须将其设置为`1`）

然后在右键单击以显示上下文菜单之前，按住`CTRL`并且`SHIFT`您将看到一个包含您需要的所有 ID 的消息框

# javascript - 在 Phonegap 插件中捕获 NSNotification

> ID：13467478
> 
> 赞同：0
> 
> 时间：2012-11-20T06:08:45.290
> 
> 标签：javascript, xcode, cordova, ios6, phonegap-plugins

我正在创建一个 phonegap 插件。现在在我的 .m 文件中，我正在收听 NSNotification，如果触发它将转到指定的函数或方法。我的问题是，如果我的 .m 类中的某个事件被触发，我的 javascript 端有没有办法监听？有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-17T13:31:43.410

在您的 .m 文件中尝试此目标 c 代码：

```
[super writeJavascript:@"console.log('!!!!! logging stuff !!!!!');"]; 
```

# javascript - setInterval 同时更频繁地调用回调，直到浏览器停止响应

> ID：13467483
> 
> 赞同：-2
> 
> 时间：2012-11-20T06:09:20.690
> 
> 标签：javascript, setinterval

我有一个 jsp 页面，它为某些 HTML 元素设置了“时间戳”属性。我使用这些“时间戳”的值以格式显示经过的时间 - “10 秒前更新”（作为工具提示）

我创建了一个静态 HTML 页面来演示我的问题。这是我的代码：

```
<html>
    <head>
        <script type = "text/javascript">
            function setTime() {
                var currentDate = new Date();
                var elem = document.getElementsByClassName('supermaxvision_timestamp');
                if(elem) {
                    for (var i = 0; i < elem.length; i++) {
                        var timestamp = elem[i].getAttribute('timestamp');
                        if(timestamp) {
                            var startTimestamp = new Date();
                            startTimestamp.setTime(timestamp)
                            var difference = currentDate.getTime() -startTimestamp.getTime();
                            elem[i].innerHTML = difference + " milliseconds";
                        }
                    }
                }
                setInterval(setTime, 1000);
            }
        </script>
    </head>

    <body>
        <div class='supermaxvision_timestamp' timestamp='1353389123456' ></div>
        <div class='supermaxvision_timestamp' timestamp='1353389234567' ></div>
        <div class='supermaxvision_timestamp' timestamp='1353389345678' ></div>
        <div class='supermaxvision_timestamp' timestamp='1353389456789' ></div>
        <div class='supermaxvision_timestamp' timestamp='1353389567890' ></div>

        <button onclick="setTime()">start</button>
    </body>
</html> 
```

您只需将此代码复制粘贴到文本文件中并在浏览器中打开它（仅单击“开始”按钮一次）。

问题是最初我的 div 的值将每秒更新一次（作为代码 - `setInterval(setTime, 1000)`）。但慢慢地，更新间隔会减少，值会立即更新。在一分钟内浏览器停止响应。

我不是`setInterval`从循环内调用。这里可能有什么问题？

此外，此代码在 IE 中不起作用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T06:15:25.850

`setInterval(fn, ms)`说`fn`每`ms`毫秒运行一次，从现在开始直到我清除这个间隔。但是在每次调用时，您都会设置一个新的间隔，与上一个相同。

所以简单改成`setInterval`哪个`setTimeout`不重复，只调用提供的函数一次。可以通过调用递归设置新超时的函数`setTimeout`来模拟。`setInterval`如果你用间隔来做这件事，你会安排越来越多的间隔，而且永远不会停止。每次它调用自己时，预定间隔的数量都会翻倍。很快就失控了……

或者，您可以将函数`setInterval`移出`setTime`并只调用一次，这将保持每秒调用一次。比如说：

```
// button calls this.
function startTime() {
  setInterval(setTime);
}

function setTime() {
  // all that code, but minus the setInterval at the end
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T06:17:02.383

setInterval 开始一个重复函数 - 就像现在 setTime 一样，它是循环和逻辑，然后每秒调用 setTimeout，每个 setTimeout 调用然后每秒开始对自身进行另一个重复调用。如果您改用 setTimeout，它只会被调用一次，但我的建议是您只需在函数声明之外运行 setInterval，例如：

```
<html>
    <head>
        <script type = "text/javascript">
            function GEBCN(cn){
                if(document.getElementsByClassName) // Returns NodeList here
                    return document.getElementsByClassName(cn);

                cn = cn.replace(/ *$/, '');

                if(document.querySelectorAll) // Returns NodeList here
                    return document.querySelectorAll((' ' + cn).replace(/ +/g, '.'));

                cn = cn.replace(/^ */, '');

                var classes = cn.split(/ +/), clength = classes.length;
                var els = document.getElementsByTagName('*'), elength = els.length;
                var results = [];
                var i, j, match;

                for(i = 0; i < elength; i++){
                    match = true;
                    for(j = clength; j--;)
                        if(!RegExp(' ' + classes[j] + ' ').test(' ' + els[i].className + ' '))
                            match = false;
                    if(match)
                        results.push(els[i]);
                }

                // Returns Array here
                return results;
            }
            function setTime() {
                var currentDate = new Date();
                var elem = GEBCN('supermaxvision_timestamp');
                if(elem) {
                    for (var i = 0; i < elem.length; i++) {
                        var timestamp = elem[i].getAttribute('timestamp');
                        if(timestamp) {
                            var startTimestamp = new Date();
                            startTimestamp.setTime(timestamp)
                            var difference = currentDate.getTime() -startTimestamp.getTime();
                            elem[i].innerHTML = difference + " milliseconds";
                        }
                    }
                }
            }
        </script>
    </head>

    <body>
        <div class='supermaxvision_timestamp' timestamp='1353389123456' ></div>
        <div class='supermaxvision_timestamp' timestamp='1353389234567' ></div>
        <div class='supermaxvision_timestamp' timestamp='1353389345678' ></div>
        <div class='supermaxvision_timestamp' timestamp='1353389456789' ></div>
        <div class='supermaxvision_timestamp' timestamp='1353389567890' ></div>
        <button onclick="setInterval(setTime, 1000)">start</button>
    </body>
</html> 
```

此外，这在 IE 中不起作用的原因是它不正确支持文档的 getElementsByClassName 方法。我在这里发现：[IE 8: Object doesn't support property or method 'getElementsByClassName'](https://stackoverflow.com/questions/10484467/ie-8-object-doesnt-support-property-or-method-getelementsbyclassname)并且 Rob W 在那里也给出了很好的解释，但为了快速回答，我修改了上面的代码以在 IE 中工作，使用 querySelectorAll

*   Derp，这是一个 jQuery 方法 Chris，你为什么只假设人们使用 jQuery。[getElementsByClassName & IE8：对象不支持此属性或方法](https://stackoverflow.com/questions/9568969/getelementsbyclassname-ie8-object-doesnt-support-this-property-or-method)包括来自 ascii-lime 的答案，它实现了它自己的 getElementsByClassName 版本。将所有代码复制到这里对我没有任何好处，但是如果您不想使用 jQuery，请去看看。

好的，我只是说没有意义，但无论如何我已经在这里复制了所有代码，上面是一个工作的、经过测试的（在 ie 和 ff 上）你想要的例子

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T06:13:29.557

您正在`setInterval`递归调用。每次创建新间隔时，该间隔都会创建一个新间隔。最终浏览器无法处理它。

也许你更喜欢这样的东西？

```
<button onclick="setInterval(setTime, 1000)">start</button> 
```

# android - 没有标题栏的动作栏

> ID：13467494
> 
> 赞同：1
> 
> 时间：2012-11-20T06:10:08.377
> 
> 标签：android, android-layout, actionbarsherlock

如何拥有全屏应用程序（无标题栏）和所有设备的操作栏？当我使用

```
this.requestWindowFeature(Window.FEATURE_NO_TITLE);
    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,
             WindowManager.LayoutParams.FLAG_FULLSCREEN); 
```

操作栏已删除。如果我将其更改为

```
this.requestWindowFeature(Window.FEATURE_ACTION_BAR | Window.FEATURE_NO_TITLE);
    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,
             WindowManager.LayoutParams.FLAG_FULLSCREEN); 
```

我有一个带有操作栏的全屏应用程序，**但**输出看起来像

![http://i.stack.imgur.com/Ptlfw.png](../Images/bc175737e178bc04cbc754c96d4f588b.png)

和 myLayout.xml ：

```
<?xml version="1.0" encoding="utf-8"?>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical"
android:padding="20dip">
<TextView
    android:id="@+id/text"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content" />
</LinearLayout> 
```

顺便说一句，我将使用 Sherlock，并且想要 ActionItems（sherlock 示例中的第一项），但没有标题栏。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T07:42:29.617

您必须在[abs_themes.xml中更改您的父样式](https://github.com/JakeWharton/ActionBarSherlock/blob/master/library/res/values/abs__themes.xml)

去@

> 库>res>values>abs_themes.xml

打开该文件并将某种代码替换为@

```
<style name="Sherlock.__Theme" parent="android:Theme.NoTitleBar.Fullscreen"> 
```

反而

```
<style name="Sherlock.__Theme" parent="android:Theme.NoTitleBar"> 
```

**更新**

附加输出画面

![在此处输入图像描述](../Images/5c6b67b0716b9190a54b579338eba07d.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T08:34:43.960

所有设备是什么意思？`ActionBar`是从 Honeycomb 引入的，它取代了 `TitleBar`. 您不能`ActionBar`在预蜂窝设备中使用。如果您只是针对 Honeycomb 和更高版本的设备，`Window.FEATURE_NO_TITLE`实际上删除了`ActionBar`，所以请不要使用`Window.FEATURE_NO_TITLE`您`ActionBar`的可见性。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-01-03T10:51:25.043

也许`Window.FEATURE_NO_TITLE`通过设置替换窗口功能设置`Window.FEATURE_ACTION_MODE_OVERLAY`就可以了。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-07-23T14:06:54.610

把它放在 style.xml 上：

```
<style name="MyTheme" parent="Theme.Sherlock.Light.DarkActionbar">
    <item name="android:windowFullScreen">true</item>
    <item name="android:windowContentOverlay">@null</item>
</style> 
```

并像这样在清单中使用它：

```
<activity android:name="MainActivity" android:theme="@style/MyTheme"></activity> 
```

# gradle - 如何使用 Gradle 复制任务复制到多个目的地？

> ID：13467498
> 
> 赞同：60
> 
> 时间：2012-11-20T06:10:33.167
> 
> 标签：gradle

我正在尝试通过 Gradle 任务将一个文件复制到多个目的地。我在其他网站上找到了以下内容，但在运行此任务时出现错误。

```
def filesToCopy = copySpec{
    from 'somefile.jar'
    rename {String fileName -> 'anotherfile.jar'}
}

task copyFile(type:Copy) {
    with filesToCopy  {
      into 'dest1/'
    }
    with filesToCopy  {
      into 'dest2/'
    }
} 
```

> ## 错误
> 
> 没有方法签名：org.gradle.api.internal.file.copy.CopySpecImpl.call() 适用于参数类型

有没有办法在一个 Gradle 任务中复制到多个目的地？

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2012-11-21T13:41:27.630

如果您真的希望他们完成一项任务，请执行以下操作：

```
def filesToCopy = copySpec {
  from 'someFile.jar'
  rename { 'anotherfile.jar' }
}

task copyFiles << {
  ['dest1', 'dest2'].each { dest ->
    copy {
      with filesToCopy
      into dest
    }
  }
} 
```

* * *

## 回答 #2

> 赞同：44
> 
> 时间：2014-11-24T14:56:36.687

另一种方法

```
task myCustomTask << {

    copy {
        from 'sourcePath/folderA'
        into 'targetPath/folderA'
    }

    copy {
        from 'sourcePath/folderB'
        into 'targetPath/folderB'
    }

    copy {
        from 'sourcePath/fileA.java','sourcePath/fileB.java'
        into 'targetPath/folderC'
    }
} 
```

* * *

## 回答 #3

> 赞同：22
> 
> 时间：2017-09-08T12:04:45.960

这是 Gradle 4.1 的没有 copySpec 的一般片段。正如所指出的那样，诀窍是在闭包内部使用基础并使用相对进入（例如，从闭包中）。

```
task multiIntoCopy(type: Copy){
    into(projectDir) // copy into relative to this

    from("foo"){
        into("copied/foo") // will be projectDir/copied/foo
        // just standard copy stuff
        rename("a.txt", "x.txt")
    }

    from("bar"){
        into("copied/aswell/bar") //  projectDir/copied/copied/aswell/bar
    }

    from("baz") // baz folder content will get copied into projectDir

    //from("/bar"){ // this will mess things up, be very careful with the paths
    //    into("copied/aswell/bar")
    //}
} 
```

* * *

## 回答 #4

> 赞同：22
> 
> 时间：2017-02-09T09:49:57.880

### 具有共同的目标基本路径

如果您的目标路径共享一个公共路径前缀 ( `dest_base`)，那么您可以使用如下内容：

```
def filesToCopy = copySpec {
    from 'somefile.jar'
    rename { String fileName -> 'anotherfile.jar' }
}

task copyFile(type: Copy) {
    into 'dest_base'
    into('dest1') {
      with filesToCopy
    }
    into('dest2') {
      with filesToCopy
    }
} 
```

与使用该`copy`方法的其他答案相比，这种方法还保留了 Gradle 的 UP-TO-DATE 检查。

上面的代码片段会产生如下输出：

```
dest_base/
├── dest1
│   └── anotherfile.jar
└── dest2
    └── anotherfile.jar 
```

* * *

## 回答 #5

> 赞同：14
> 
> 时间：2012-11-21T10:23:16.053

不，没有办法做到这一点。我会为每个目标目录创建单独的 gradle 任务

```
def filesToCopy = copySpec{
    from 'somefile.jar'
    rename {String fileName -> 'anotherfile.jar'}
}

task copyFileDest1(type:Copy) {
    with filesToCopy
    into 'dest1/'
}

task filesToCopyDest2(type:Copy)  {
    with filesToCopy
    into 'dest2/'
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2022-02-14T21:33:45.800

我需要以特定顺序执行此操作，以便在一组文件上重写特定字符串。

```
task copyAtoB(dependsOn: [existingTask]) {
    doLast {
        copy {
            from("folder/a") {
                include "*.java"
            }
            // Have to use a new path for modified files
            into("folder/b")
            filter {
                String line ->
                    line.replaceAll("changeme", "to this")
            }
        }
    }
}

task overwriteFilesInAfromB(dependsOn: [copyAtoB]) {
    doLast {
        copy {
            from("folder/b") {
                include "*.java"
            }
            into("folder/a")
        }
    }
}

// Finally, delete the files in folder B
task deleteB(type: Delete, dependsOn: overwriteFilesInAfromB) {
    delete("folder/b")
}

nextTask.dependsOn(deleteB) 
```

# android - 移动应用程序的专用内存分配

> ID：13467501
> 
> 赞同：1
> 
> 时间：2012-11-20T06:10:50.043
> 
> 标签：android, android-layout, kernel-module, kernel

这个问题适用于 Android/任何智能手机操作系统。

我想专门分配一小部分内存给我的应用程序使用。这样做的目的是在我的手机上运行的另一个应用程序无论如何都不会影响我的应用程序。

有没有可能？如果是，那么如何？

任何链接或任何帮助都会帮助我...

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:16:22.337

如果您正在构建自定义内核/修改后的操作系统以在您自己的设备上运行，那么是的，您可以做到。为此，您必须深入了解操作系统架构、内存管理等

如果您打算在出售给客户的商业设备（Android、ios 等）上执行此操作，那么没有操作系统会为您提供执行此操作的 API。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T06:17:50.207

所有内存管理处理均由操作系统（适用于 Android 的 Linux）为应用程序完成。因此，每当启动应用程序时，Dalvik VM 都会与 Linux 内核交互并获取为其分配的内存。当您的应用程序在前台时，它具有所有可用的分配内存，但是它被推到后台时，这些内存可能会被拿走。

所以你**不能**永久地为自己分配一小部分内存。操作系统（内部存储的一部分）已经为您完成了这项工作。但是您不能占用 RAM 的一小部分，从而拒绝其他应用程序的空间。

# python - 如何通过python正则表达式排除某些字符来提取

> ID：13467502
> 
> 赞同：1
> 
> 时间：2012-11-20T06:10:52.930
> 
> 标签：python, regex

我一直在使用 python 正则表达式来提取地址模式。例如，我有一个添加列表，如下所示：

```
12buixuongtrach 
34btrannhatduat 
25bachmai 
78bhoangquocviet 
```

我想细化这样的地址：

```
12 buixuongtrach
34b trannhatduat 
23 bachmai 
78b hoangquocviet 
```

任何人请帮助一些提示代码？

非常感谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T06:29:36.783

您可以使用一个非常简单的正则表达式将数字与字母分开，但就像人们在评论中所说的那样，没有办法知道这些 b 何时应该是数字的一部分以及它们何时是文本的一部分。

```
import re
text = """12buixuongtrach 
34btrannhatduat 
25bachmai 
78bhoangquocviet"""

unmatched = text.split()
matched = [re.sub('(\d+)(.*)', '\\1 \\2', s) for s in unmatched] 
```

这使：

```
>>> matched
['12 buixuongtrach', '34 btrannhatduat', '25 bachmai', '78 bhoangquocviet'] 
```

正则表达式只是在字符串的开头抓取一个或多个数字并将它们放入 group`\1`中，然后将字符串的其余部分放入 group`\2`中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T08:06:04.577

谢谢大家的回复。我终于找到了解决方法。我使用了如下模式，它就像一个魅力:)

```
'[a-zA-Z]+|[\/0-9abcd]+(?!a|u|c|h|o|e)' 
```

# groovy - 未找到带有 Hibernate4 插件类的 Groovy Griffon 异常

> ID：13467507
> 
> 赞同：1
> 
> 时间：2012-11-20T06:11:14.567
> 
> 标签：groovy, griffon, hibernate-4.x

我一直在寻找一种快速简便的方法来编写一个非常跨平台的桌面应用程序。这让我想到 JVM 是我应该去的地方。由于我的工作场所使用了 Groovy (Grails)，我想我会尝试 Griffon，因为他们声称它本质上是桌面的 Grails。

我想要一个持久性管理层，而且在这个环境中 GORM 似乎还没有准备好，所以我使用 Griffon 的 Hibernate4 插件转向休眠。

并不是说我真的总体上使用过 Hibernate，但是根据指南，我相信我做的事情是正确的。我的聚会表明这不支持注释来连接类，所以我使用的是 hbm.xml 文件。

为插件提供的[示例](https://github.com/aalmiray/griffon_sample_apps/tree/master/persistence/hibernate4)并不复杂，但我不明白我在哪里偏离。

这是一个示例类文件：

```
package gwash

import groovy.beans.Bindable

class DeliveryMethodModel {
   // @Bindable String propName
} 
```

这是一些堆栈跟踪：

```
org.hibernate.InvalidMappingException: Could not parse mapping document from res
ource gwash\DeliveryMethod.hbm.xml
        at org.hibernate.cfg.Configuration$MetadataSourceQueue.processHbmXml(Con
figuration.java:3415)
        at org.hibernate.cfg.Configuration$MetadataSourceQueue.processHbmXmlQueu
e(Configuration.java:3404)
        at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(C
onfiguration.java:3392)
        at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:
1341)
        at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.jav
a:1737)
        at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.jav
a:1788)
        at org.hibernate.cfg.Configuration$buildSessionFactory.call(Unknown Sour
ce)
        at griffon.plugins.hibernate4.Hibernate4Connector.connect(Hibernate4Conn
ector.groovy:72)
        at griffon.plugins.hibernate4.Hibernate4Connector.connect(Hibernate4Conn
ector.groovy)
        at griffon.plugins.hibernate4.Hibernate4Connector$connect.call(Unknown S
ource)
        at Hibernate4GriffonAddon.addonInit(Hibernate4GriffonAddon.groovy:27)
        at griffon.core.GriffonAddon$addonInit.call(Unknown Source)
        at griffon.core.GriffonAddon$addonInit.call(Unknown Source)
        at org.codehaus.griffon.runtime.util.AddonHelper.handleAddon(AddonHelper
.groovy:155)
        at org.codehaus.griffon.runtime.util.AddonHelper.handleAddonsAtStartup(A
ddonHelper.groovy:105)
        at org.codehaus.griffon.runtime.core.DefaultAddonManager.doInitialize(De
faultAddonManager.java:33)
        at org.codehaus.griffon.runtime.core.AbstractAddonManager.initialize(Abs
tractAddonManager.java:101)
        at org.codehaus.griffon.runtime.util.GriffonApplicationHelper.initialize
AddonManager(GriffonApplicationHelper.java:320)
        at org.codehaus.griffon.runtime.util.GriffonApplicationHelper.prepare(Gr
iffonApplicationHelper.java:123)
        at org.codehaus.griffon.runtime.core.AbstractGriffonApplication.initiali
ze(AbstractGriffonApplication.java:221)
        at griffon.swing.AbstractSwingGriffonApplication.bootstrap(AbstractSwing
GriffonApplication.java:74)
        at griffon.swing.AbstractSwingGriffonApplication.run(AbstractSwingGriffo
nApplication.java:131)
        at griffon.swing.SwingApplication.main(SwingApplication.java:36)
Caused by: org.hibernate.PropertyNotFoundException: field [id] not found on gwas
h.DeliveryMethodModel
        at org.hibernate.property.DirectPropertyAccessor.getField(DirectProperty
Accessor.java:182)
        at org.hibernate.property.DirectPropertyAccessor.getField(DirectProperty
Accessor.java:189)
        at org.hibernate.property.DirectPropertyAccessor.getField(DirectProperty
Accessor.java:189)
        at org.hibernate.property.DirectPropertyAccessor.getField(DirectProperty
Accessor.java:189)
        at org.hibernate.property.DirectPropertyAccessor.getField(DirectProperty
Accessor.java:189)
        at org.hibernate.property.DirectPropertyAccessor.getField(DirectProperty
Accessor.java:174)
        at org.hibernate.property.DirectPropertyAccessor.getGetter(DirectPropert
yAccessor.java:197)
        at org.hibernate.internal.util.ReflectHelper.getter(ReflectHelper.java:2
53)
        at org.hibernate.internal.util.ReflectHelper.reflectedPropertyClass(Refl
ectHelper.java:229)
        at org.hibernate.mapping.SimpleValue.setTypeUsingReflection(SimpleValue.
java:326)
        at org.hibernate.cfg.HbmBinder.bindSimpleId(HbmBinder.java:449)
        at org.hibernate.cfg.HbmBinder.bindRootPersistentClassCommonValues(HbmBi
nder.java:382)
        at org.hibernate.cfg.HbmBinder.bindRootClass(HbmBinder.java:322)
        at org.hibernate.cfg.HbmBinder.bindRoot(HbmBinder.java:173)
        at org.hibernate.cfg.Configuration$MetadataSourceQueue.processHbmXml(Con 
```

我的 xml 映射文件：

```
<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping package="gwash">
    <class name="DeliveryMethodModel" table="[DELIVERY METHODS]">
        <id name="id" column="[DELIVERY METHOD ID]">
            <generator class="increment"/>
        </id>
        <property name="method" column="[DELIVERY METHOD]"/>
    </class>
</hibernate-mapping> 
```

编辑：我已经删除了所示的括号和空格。在数据库端将 DataSource.groovy 更改为“创建”。仍然遇到同样的问题。hibernate 与 griffon/hsqldb/groovy 集成的示例缺乏详细信息。我是否需要为模型文件创建所有给定属性才能正确解析？我从来没有使用过休眠。也不时髦。也不是狮鹫。如果我能解决这个问题，我肯定会为社区提供反馈，否则我会推出自己的 ORM，因为这是一个相当小的项目。而不是我自己。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T08:35:59.637

你真的用`[`and包裹了字符串`]`吗？

我怀疑对于定义为的类

```
package gwash
import groovy.beans.Bindable
class DeliveryMethodModel {
    Long id
    @Bindable String method
} 
```

映射文件将是

```
<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping package="gwash">
    <class name="DeliveryMethodModel" table="DELIVERY_METHODS">
        <id name="id" column="DELIVERY_METHOD_ID">
            <generator class="increment"/>
        </id>
        <property name="method" column="DELIVERY_METHOD"/>
    </class>
</hibernate-mapping> 
```

# c++ - c++ 检查子状态

> ID：13467514
> 
> 赞同：0
> 
> 时间：2012-11-20T06:11:42.917
> 
> 标签：c++, fork

我有这样的代码：

```
fork();
if child:
   execvp("sth");   //Just returns if errors
if parent:
   save child pid; 
```

在另一个函数中，我想检查孩子是否完成，我不想使用`waitpid`. 有没有其他方法可以做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:48:00.313

您可以设置一个信号处理程序来处理 SIGCHLD，它将在子进程结束时传递给父进程。从技术上讲，这是“另一个函数”，即使它是异步调用的。即使在收到信号后你仍然应该使用`waitpid`，如果你有多个孩子，这是我知道你能够区分他们的唯一方法。

# alfresco - Alfresco+DotCMIS：Folder.GetChildren 返回一些重复项

> ID：13467515
> 
> 赞同：0
> 
> 时间：2012-11-20T06:11:44.727
> 
> 标签：alfresco, cmis, dotcmis, opencmis

当我在 Alfresco 服务器上运行 DotCMIS'`Folder.GetChildren`时，有时会收到一些重复的项目，例如：

```
dir1 dir2 dir3 file1 dir4 dir5 file1 dir4 dir5 
```

您可以看到最后 3 个项目不应该存在。

这是我的代码，并调试显示重复项之一：

![在此处输入图像描述](../Images/94b04f2bc3923c20c034cfe8f4da24f4.png)

[这](http://pastebin.com/QLjfRPT3)是屏幕截图下部的详细信息，显示了代表同一文件夹的两个项目。您可以看到这两个项目具有相同的名称（“cmissync”）和相同的 ID（“workspace://SpacesStore/385da00c-8b3a-4736-b3e5-1ca1c2ff1cac”）。

我的代码有问题吗？[（上面屏幕截图中显示的行，此处](https://github.com/nicolas-raoul/CmisSync/blob/master/SparkleLib/Cmis/CmisUtils.cs#L116)为完整方法）
或者它是 DotCMIS 或 Alfresco 的已知问题？

我曾尝试分析 CMIS 网络流量，但不幸的是数据包内容不可读，并且当我在新安装的非 HTTPS Alfresco 上尝试时无法重现该问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T03:19:34.577

将 DotCMIS 从 0.4 升级到 0.5 解决了这个问题。

# asp.net - Umbraco 4.10.1 导航

> ID：13467525
> 
> 赞同：0
> 
> 时间：2012-11-20T06:13:05.567
> 
> 标签：asp.net, umbraco

我正在尝试在 Umbraco 4.10.1 中创建一个基于我主页子级的顶部导航。

最初我尝试了以下方法，但在导航中不断出现“加载 Razor 脚本时出错”：

```
<umbraco:Macro  runat="server" language="cshtml">
@inherits umbraco.MacroEngines.DynamicNodeContext
<ul>
    @foreach (var item in Model.AncestorOrSelf(1048).Children.Where("Visible"))
    {
        <li><a href="@item.Url">@item.Name</a></li>
    }
</ul>
</umbraco:Macro> 
```

当我通过 VS 2012 在调试模式下运行时，它会在 @foreach 行上中断。当我检查模型时，它不包括 AncestorOrSelf。我错过了使用吗？

一旦我无法让它工作，我就包含了预先编写的导航宏，但它也显示了“加载 Razor 脚本时出错”。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T19:58:21.787

啊，在这种情况下，请在 umbracosettings.config 中执行以下操作

```
<defaultRenderingEng‌​ine>Mvc</defaultRenderingEngine> 
```

然后做iisreset。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-03T15:04:07.860

问题似乎源于将 Razor 升级到 V2。通过全新安装和 NuGet 包中包含的原始版本的 Razor，上面发布的导航代码可以正常工作。

# javascript - 使用 ASP.NET 在 Localhost 上验证 ReCaptcha (Javascript API) 用户答案

> ID：13467526
> 
> 赞同：0
> 
> 时间：2012-11-20T06:13:05.903
> 
> 标签：javascript, asp.net, localhost, recaptcha

我在本地主机上的 aspx 页面上使用 ReCaptcha 和 javascript API。我在某处读到，只要我在本地主机上使用它就不需要密钥。所以，我使用我在某处找到的一些随机密钥。我可以成功呈现 recaptcha 挑战。以下是我的 javascript 代码。

```
Recaptcha.create("6Ld4iQsAAAAAAM3nfX_K0vXaUudl2Gk0lpTF3REf", 'captchadiv',
{
    tabindex: 1,
    theme: "clean",
    callback: Recaptcha.focus_response_field
});

//To Validate user response
function Recaptcha_IsCorrect()
{
    var xmlHttpRequest;
    var PageURL = document.URL;
    var xmlDoc;

    if (window.XMLHttpRequest)
    {
        xmlHttpRequest = new XMLHttpRequest();
    }
    else
    {
        xmlHttpRequest = new ActiveXObject("Microsoft.xmlHttpRequest");
    }

    var challenge = Recaptcha.get_challenge();
    var userResponse = Recaptcha.get_response();

    var url = "../Ajax/PIAsyncAjax.asmx/ValidateReCaptcha?clientIP=127.0.0.1&privateKey=6Ld4iQsAAAAAAM3nfX_K0vXaUudl2Gk0lpTF3REf&challenge=" + challenge + "&response=" + userResponse;

    xmlHttpRequest.open("GET", url);
    xmlHttpRequest.onreadystatechange = function ()
    {
        if (xmlHttpRequest.readyState == 4 && xmlHttpRequest.status == 200)
        {
            alert(xmlHttpRequest.responseText);
        }
    };

    xmlHttpRequest.send();
} 
```

以下是我的 web 服务代码，它公开了用于验证 ReCaptcha 用户输入的 web 方法。我收到错误“无效的站点私钥”。

```
namespace YADA.YADAYADA{

[WebService(Namespace = "http://tempuri.org/")]
[WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]
[System.ComponentModel.ToolboxItem(false)]   
public class PIAsyncAjax : System.Web.Services.WebService
{       
    [WebMethod]
    public string ValidateReCaptcha(string clientIP, string privateKey, string challenge, string response)
    {

        bool isValid = false;
        string validationResponse = "";

        reCaptchaValidation validator =
            new reCaptchaValidation(null,       
                                    clientIP,
                                    privateKey,
                                    challenge,
                                    response);

        isValid = validator.Validate();

        if (isValid)
        {
            validationResponse = "true";
        }
        else
        {
            if (!validator.IsErrored)
            {
                validationResponse = "false";
            }
            else
            {
                // oh dear, something not right

                if (validator.Exception != null)        // an exception occurred while 
                    // trying to validate
                    validationResponse = validator.Exception.ToString();
                else if (validator.ValidationResult != null)  // the validation web service 
                    // returned an error code 
                    // (other than an invalid captcha solution)
                    validationResponse = "web service error: " + validator.ValidationResult;
            }
        }

        return validationResponse;
    }
}

public class reCaptchaValidation
{
    private string challenge, response, privateKey, ip;
    private IWebProxy proxy;

    public reCaptchaValidation(string clientIP, string privateKey, 
    string challenge, string response) : this(null, clientIP, privateKey, 
    challenge, response) { }

    public reCaptchaValidation(IWebProxy proxy, string clientIP, 
        string privateKey, string challenge, string response)
    {
        this.proxy = proxy;
        this.ip = clientIP;
        this.privateKey = privateKey;
        this.challenge = challenge;
        this.response = response;
    }

    private bool _errored;
    public bool IsErrored
    {
        get
        {
            return _errored;
        }
    }

    private Exception _ex;
    public Exception Exception
    {
        get
        {
            return _ex;
        }
    }

    private string _vr;
    public string ValidationResult
    {
        get
        {
            return _vr;
        }
    }

    public bool Validate()
    {
        try
        {
            string post = "privatekey=" + HttpUtility.UrlEncode(privateKey) + 
        "&remoteip=" + HttpUtility.UrlEncode(ip) + "&challenge=" + 
        HttpUtility.UrlEncode(challenge) + "&response=" + 
        HttpUtility.UrlEncode(response);

            WebRequest wr = HttpWebRequest.Create
            ("http://www.google.com/recaptcha/api/verify");
            wr.Method = "POST";

            if (proxy != null)
                wr.Proxy = proxy;

            wr.ContentLength = post.Length;
            wr.ContentType = "application/x-www-form-urlencoded";
            using (StreamWriter sw = new StreamWriter(wr.GetRequestStream()))
            {
                sw.Write(post);
                sw.Close();
            }

            HttpWebResponse resp = (HttpWebResponse)wr.GetResponse();
            using (StreamReader sr = new StreamReader(resp.GetResponseStream()))
            {
                string valid = sr.ReadLine();
                if (valid != null)
                {
                    if (valid.ToLower().Trim() == "false")
                    {
                        string errorcode = sr.ReadLine();

                        if (errorcode != null)
                        {
                            if (errorcode.ToLower().Trim() != "incorrect-captcha-sol")
                            {
                                _vr = errorcode;
                                _errored = true;
                                return false;
                            }
                        }
                    }

                    return (valid.ToLower().Trim() == "true");
                }
                else _vr = "empty web service response";

                sr.Close();
                return false;
            }
        }
        catch (Exception caught)
        {
            _errored = true;
            _ex = caught;
        }
        return false;
    }
}} 
```

我究竟做错了什么？我应该得到一个私钥吗？任何帮助都会很棒。

在此先感谢，文卡特。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T09:08:12.307

它适用于我刚刚创建的公钥和私钥。该死的，我只是假设，“localhost”在注册时不会被接受为合法域名。

# android - HttpResponse.getEntity() NetworkOnMainThreadException

> ID：13467530
> 
> 赞同：4
> 
> 时间：2012-11-20T06:13:53.237
> 
> 标签：android, networkonmainthread

> **可能重复：**
> [NetworkOnMainThreadException](https://stackoverflow.com/questions/5150637/networkonmainthreadexception)

很长一段时间以来，我一直在使用在`AsyncTask`. `AsyncTask`返回一个`HttpResponse`对象。一切都很好，GUI线程从未冻结或任何事情。

现在，突然之间，这创建了一个`NetworkOnMainThreadException`：

```
serverResponse.getEntity().getContent(); 
```

有没有搞错？？为什么被`getEntity()`认为是网络？在我看来，该行仅将响应转换为输入流，不需要网络连接。谁做出了这个决定？为什么他们决定这应该是网络？

异步任务：

```
public class AsyncHttpTask extends AsyncTask<HttpRequestInfo, Integer, HttpRequestInfo> {

public AsyncHttpTask() {
    super();
}

protected HttpRequestInfo doInBackground(HttpRequestInfo... params) {
    HttpRequestInfo rinfo = params[0];
    try{
        HttpClient client = new DefaultHttpClient();
        HttpResponse resp = client.execute(rinfo.getRequest());
        rinfo.setResponse(resp);
    }
    catch (Exception e) {
        rinfo.setException(e);
    }
    return rinfo;
}

@Override
protected void onPostExecute(HttpRequestInfo rinfo) {
    super.onPostExecute(rinfo);
    rinfo.requestFinished();
} 
```

回调接口：

```
 public interface HttpCallback {

        public void onResponse(HttpResponse serverResponse);
        public void onError(Exception e);

    } 
```

请求信息：

```
public class HttpRequestInfo {

    private HttpUriRequest request_;
    private HttpCallback callback_;
    private Exception exception_;
    private HttpResponse response_;

    public HttpRequestInfo(HttpUriRequest request, HttpCallback callback) {
        super();
        request_ = request;
        callback_ = callback;
    }

    public HttpUriRequest getRequest() {
        return request_;
    }

    public void setRequest(HttpUriRequest request) {
        request_ = request;
    }

    public HttpCallback getCallback() {
        return callback_;
    }

    public void setCallback(HttpCallback callback) {
        callback_ = callback;
    }

    public Exception getException() {
        return exception_;
    }

    public void setException(Exception exception) {
        exception_ = exception;
    }

    public HttpResponse getResponse() {
        return response_;
    }

    public void setResponse(HttpResponse response) {
        response_ = response;
    }

    public void requestFinished(){
        if(exception_ != null){
            callback_.onError(exception_);
        }
        else {
            callback_.onResponse(response_);
        }
    }
} 
```

然后我使用 jackson 将 json 响应转换为对象。这就是发生异常的地方：

```
@Override
public <T> T handleResponse(HttpResponse serverResponse, Class<T> typeOfResponse) {
    ObjectMapper mapper = new ObjectMapper();
    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);
    T responseObject = null;
    try {
        responseObject = mapper.readValue(serverResponse.getEntity().getContent(),typeOfResponse); //THIS LINE IS EVIL
    } catch (JsonParseException e) {
        throw new ARException("Couldn't handle the response because the http response contained malformed json.",e);
    } catch (JsonMappingException e) {
        throw new ARException("Mapping the json response to the response object " + typeOfResponse + " failed.",e);
    } catch (IllegalStateException e) {
        throw new ARException("Couldn't convert the http response to an inputstream because of illegal state.",e);
    } catch (IOException e) {
        throw new ARException("Couldn't convert the http response to an inputstream.",e);
    }
    return responseObject;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T06:21:19.987

因为您必须在单独的线程而不是主线程中使用网络。您可以使用[AsyncTask](https://developer.android.com/reference/android/os/AsyncTask.html)或[Thread](https://developer.android.com/reference/java/lang/Thread.html) + [Handler](https://developer.android.com/reference/android/os/Handler.html)。如果您使用 AsyncTask 全部与网络一起工作，您必须在 doInBackground 部分执行。

# opencart - 如何访问 opencart 中的当前订单 ID？

> ID：13467531
> 
> 赞同：0
> 
> 时间：2012-11-20T06:13:52.127
> 
> 标签：opencart

如何访问 opencart 中的当前订单 ID 并将其放入变量中？我正在处理一个新文件，该文件没有随标准 opencart 安装一起提供。

我能得到的最接近的是以下代码，它不起作用：

```
<?php
session_start();
$order_id = $this->session->data['order_id'];
?> 
```

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T11:09:18.943

在客户到达结帐流程的最后一页之前，不会设置订单 ID，因此在此之前您将无法获得它。对于上面的代码，除非您在 opencart 类中，否则您不能使用`$this->session->data['order_id']`，因此您需要使用`$_SESSION['order_id']`

# dynamics-crm - 发生 sql 服务器错误。再次尝试此操作

> ID：13467541
> 
> 赞同：1
> 
> 时间：2012-11-20T06:15:04.633
> 
> 标签：dynamics-crm, dynamics-crm-2011

我有 CRM 2011 本地安装。当工作流（自定义和 crm 工作流）尝试在 Account 实体中创建注释时，发生错误。当我检查工作流程状态时，它显示“正在等待”并显示以下错误消息。

“发生 SQL Server 错误。再次尝试此操作。如果问题仍然存在，请查看 Microsoft Dynamics CRM 社区以获取解决方案或联系您组织的 Microsoft Dynamics CRM 管理员。最后，您可以联系 Microsoft 支持”</p>

工作流因错误而暂停：未处理的异常：System.ServiceModel.FaultException`1[[Microsoft.Xrm.Sdk.OrganizationServiceFault, Microsoft.Xrm.Sdk, Version=5.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35]]: Generic SQL错误。详细信息：

-2147204784

通用 SQL 错误。

2012-10-25T11:11:01.2064949Z

```
<ErrorCode>-2147204784</ErrorCode>

<ErrorDetails xmlns:d3p1="http://schemas.datacontract.org/2004/07/System.Collections.Generic" />

<Message>Generic SQL error.</Message>

<Timestamp>2012-10-25T11:11:01.2064949Z</Timestamp>

<InnerFault>

  <ErrorCode>-2147220970</ErrorCode>

  <ErrorDetails xmlns:d4p1="http://schemas.datacontract.org/2004/07/System.Collections.Generic" />

  <Message>System.Data.SqlClient.SqlException: Microsoft Dynamics CRM has experienced an error. Reference number for administrators or support: #6F1D18EA</Message>

  <Timestamp>2012-10-25T11:11:01.207495Z</Timestamp>

  <InnerFault i:nil="true" />

  <TraceText i:nil="true" />

</InnerFault>

<TraceText i:nil="true" /> 
```

在 Microsoft.Crm.Extensibility.OrganizationSdkServiceInternal.RetrieveMultiple（QueryBase 查询、CorrelationToken 相关令牌、CallerOriginToken callerOriginToken、WebServiceType 服务类型）

在 Microsoft.Crm.Extensibility.InprocessServiceProxy.RetrieveMultipleCore（QueryBase 查询）

在 Microsoft.Crm.Workflow.RegardingObjectUtility.CreateLookup（字符串 entityName，Guid entityId）

在 Microsoft.Crm.Workflow.WorkflowContextBase.SetStepRegardingRecord（字符串 entityName，Guid entityId）

在 Microsoft.Crm.Workflow.Services.UpdateActivityService.<>c_ *DisplayClass1.b* _0(IOrganizationService sdkService)

在 Microsoft.Crm.Workflow.Services.ActivityServiceBase.ExecuteInTransactedContext（ActivityDelegate activityDelegate）

在 Microsoft.Crm.Workflow.Services.UpdateActivityService.UpdateInternal（实体实体，字符串 stepId）

在 Microsoft.Crm.Workflow.Services.UpdateActivityService.ExecuteInternal（ActivityContext executionContext，UpdateEntity updateEntity）

在 Microsoft.Crm.Workflow.Services.UpdateActivityService.Execute（ActivityContext executionContext，UpdateEntity updateEntity）

在 System.Activities.CodeActivity.InternalExecute（ActivityInstance 实例，ActivityExecutor 执行器，BookmarkManager 书签管理器）

在 System.Activities.Runtime.ActivityExecutor.ExecuteActivityWorkItem.ExecuteBody（ActivityExecutor 执行器，BookmarkManager 书签管理器，位置结果位置）

我也检查了跟踪。

请建议，

谢谢

基兰

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T09:32:41.037

启用跟踪（[使用此工具最简单](http://mscrmtools.blogspot.co.uk/2011/04/new-tool-crmdiagtool-2011.html)）并查看生成的异步服务跟踪文件（不记得文件名，但它会在某处包含“异步”）。这应该会给你一些额外的细节。

您的系统上是否注册了任何插件（尤其是针对`Account`or `Annotation`(Note) 实体？

# java - Java ORA-01034: ORACLE 不可用

> ID：13467545
> 
> 赞同：2
> 
> 时间：2012-11-20T06:15:19.393
> 
> 标签：java, oracle, jdbc, eclipselink

我的问题出在我展示的异常块中，我可以使用 GUI（PL/SQL 开发人员）进行连接，但我的 Eclipsedlink 在使用 Web 应用程序获取连接时出现异常。请帮我。提前致谢。

我正在使用 ojdbc14.jar，我正在使用普通 java(core) 获得连接，但是仅使用 Eclipse 链接存在这个问题。

测试.java：

```
 String URL = "jdbc:oracle:thin:@IP:1521:devt2x";
        String USER = "username";
        String PASS = "password";
        Class.forName("oracle.jdbc.driver.OracleDriver");
        conn = DriverManager.getConnection(URL, USER, PASS);
        if(conn != null)
            System.out.println("connects");
        else
            System.out.println("not connects");

ouput : 
```

**`connects`**

tnsnames.ora

```
CHENNAIDB.WORLD =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = TCP)(HOST = IP)(PORT = 1521))
      (ADDRESS = (PROTOCOL = TCP)(HOST = IP)(PORT = 1526))
    )
    (CONNECT_DATA =
      (SID = devt2x)
    )
  ) 
```

持久性.xml

```
<property name="javax.persistence.jdbc.driver" value="oracle.jdbc.OracleDriver" />
<property name="javax.persistence.jdbc.url"
                value="jdbc:oracle:thin:@(DESCRIPTION =(ADDRESS_LIST =(ADDRESS=(PROTOCOL = TCP)(HOST = IP)(PORT = 1521)))(CONNECT_DATA = (SERVICE_NAME =  devt2x)(SERVER = DEDICATED)))" />
            <property name="javax.persistence.jdbc.user" value="username" />
            <property name="javax.persistence.jdbc.password" value="password" /> 
```

我得到的异常：映射没有问题

```
[EL Finer]: 2012-11-20 11:39:39.021--ServerSession(2693887)--Thread(Thread[main,5,main])--DriverManager connect failed, trying direct connect.
[EL Finer]: 2012-11-20 11:39:39.021--ServerSession(2693887)--Thread(Thread[main,5,main])--java.sql.SQLException: ORA-01034: ORACLE not available
ORA-27123: unable to attach to shared memory segment
Linux Error: 13: Permission denied 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T06:54:21.440

很可能这是一个权限问题，需要通过向用户说 oracle（或为安装 Oracle 数据库创建的任何 os 用户）提供 ORACLE_HOME 权限来解决。

更多细节可以在[这里找到](http://arjudba.blogspot.com/2008/05/ora-27123-unable-to-attach-to-shared.html)

# jquery - Jquery UI可拖动和可调整大小不起作用

> ID：13467550
> 
> 赞同：5
> 
> 时间：2012-11-20T06:15:33.527
> 
> 标签：jquery, jquery-ui

我正在尝试在以下小提琴中实现效果：

[http://jsfiddle.net/vrUgs/2/](http://jsfiddle.net/vrUgs/2/)

检查我的 jsfiddle：http: [//jsfiddle.net/H9kgP/](http://jsfiddle.net/H9kgP/)

我怎样才能有一个既可拖动又可调整大小的 div？contenteditable="true" 的 div 不起作用，无法编辑。这里有什么问题？

来自Chris Moutray的[Answer](https://stackoverflow.com/questions/13467550/jquery-ui-draggable-and-resizable-not-working/13467919#13467919)更新代码：

```
<!doctype html> 
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>jQuery UI</title>
    <link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.6/themes/cupertino/jquery-ui.css" />
    <script src="http://code.jquery.com/jquery-1.8.2.js"></script>
    <script src="http://code.jquery.com/ui/1.9.1/jquery-ui.js"></script>
    <style>
    body{ }
    #container{ width: 980px; margin: 0 auto; }
    #background { background: red; width: 600px; height: 400px; margin: 0 auto; background-size: 600px 400px;}
    .draggable { width: 250px; height: 150px; padding: 0.5em; opacity: 0.5; color: #000; background: #f0f0f0; }
    </style>
    <script>
        $(document).ready(function() {
            $(".resizeable").resizable({
                containment: "#background"
            });

            $(".draggable").draggable({
                cursor: "crosshair",
                containment: "#background",
            });
        });

    </script>
</head>
<body>
<div id="container">
    <div id="background">
        <div class="draggable resizeable" style="display:inline-block">
                <div contenteditable="true" id="message">
                    Enter message..
                </div>
        </div>
    </div>
</div>
</body>
</html> 
```

可拖动的工作正常，但水平调整大小不起作用。当我尝试增加水平尺寸时，它会自动变小，然后无法再次调整大小。可能是什么问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T06:45:38.727

首先你需要链接 jquery-ui 资源

```
<link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.6/themes/cupertino/jquery-ui.css" /> 
```

然后，您也许可以将*可拖动*和*可调整大小的元素合并为一个并按**类*引用。

**HTML**

```
<div id="background">
    <div class="draggable resizeable" style="display:inline-block">
        <div contenteditable="true" id="message">
            Enter message..
        </div>
    </div>
</div> 
```

**查询**

```
$(".resizeable").resizable({
    containment: "#background"
});

$(".draggable").draggable({
    cursor: "crosshair",
    containment: "#background",
}); 
```

[这是您的代码http://jsfiddle.net/chrismoutray/H9kgP/2/](http://jsfiddle.net/chrismoutray/H9kgP/2/)的工作示例

# shell - 我可以像在 C 中一样在 shell 中连接 2 个字符串吗？

> ID：13467552
> 
> 赞同：0
> 
> 时间：2012-11-20T06:15:40.267
> 
> 标签：shell

我正在编写一个应该提供`-h`帮助选项的脚本，当我尝试编写帮助消息时，我想让它看起来更体面，如下所示：

```
print_help()
{
    printf "Usage: 
            ./prog -v version
                   -h help
                   -x ...."
} 
```

当我运行脚本时，应该会在我编写它时打印帮助消息，如下所示：

```
Usage: 
./prog -v version
       -h help
       -x .... 
```

在 C 中，我可以将 2 个字符串连接成两行，如下所示：

```
printf("Usage:\n"
       "./prog -v version\n"
       "       -h help\n"
       "       -x ....\n"); 
```

这两行将连接在一起，然后打印出来。

我想在 shell 中做几乎相同的事情，我试过了`printf`，`echo`似乎做不到。

还有什么建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T06:35:46.340

我可以想到两种方法来做到这一点

**方法1：**将要分隔的字符串用单引号而不是双引号括在多行中：

```
echo 'Usage: 
./prog -v version
       -h help
       -x ....' 
```

*输出：*

```
Usage: 
./prog -v version
       -h help
       -x .... 
```

**解释：**

请注意，单引号内的所有内容：

*   不会被扩展`bash`（所以不能使用`$var`inside 等变量）
*   由字面解释`echo`（包括转义字符，除非您使用`echo -e`）

* * *

**方法 2 - 为方法内的缩进使用而更新：**如果您只有 1 个长字符串，您想在代码中分解成多行以获得更好的可读性，您可以使用带有`\`符号的双引号：

```
print_help() {
{
    echo \
    "Lorem ipsum dolor sit amet, consectetur adipisicing elit,"\
    "sed do eiusmod tempor incididunt ut labore et dolore magna"\
    "aliqua. Ut enim ad minim veniam, quis nostrud exercitation"\
    "ullamco laboris nisi ut aliquip ex ea commodo consequat."\
    "Duis aute irure dolor in reprehenderit in voluptate velit"
}

print_help 
```

*输出：*

```
Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit 
```

**解释：**

该`\`字符在 shell 脚本中用作行的最后一个字符时，表示[行继续](http://www.grymoire.com/Unix/Quote.html#uh-9)（即认为它是“嘿！这个当前命令还有更多内容，在你阅读完所有内容之前不要执行它！”）

* * *

就个人而言，我更喜欢第二条路线，因为您可以使用`echo -e`和转义字符 ( `\n`) 来更细粒度地控制输出的确切内容 =)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T06:35:16.240

cat 有一个丑陋的 hack（假设你的 shell 是 /bin/sh）：

```
cat <<EOS
./prog -v version
  -h help
  -x ....
EOS 
```

应该可以做得更好...

编辑：使用带有'...'的回声而不是猫，抱歉误导性的答案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-21T06:53:42.290

这是另外两种方法；

用于`echo -e`解释换行符并使用换行符`\n`连接它们`\`

```
echo -e "Usage:\n" \
"./prog -v version\n" \
"       -h help\n" \
"       -x ...." 
```

使用 sed 打印来自匿名[Here-Document的帮助](http://www.gnu.org/software/bash/manual/bashref.html#Here-Documents)

```
#!/bin/bash
:<<-PRINT_HELP_DOC
Usage: 
    ./prog -v version
        -h help
        -x ....
PRINT_HELP_DOC

print_help()
{
    # print lines 3 to 6
    sed -n '3,6p' "$0"
} 
```

# java - 在 mongodb 中存储日期的有效方法是什么？

> ID：13467556
> 
> 赞同：0
> 
> 时间：2012-11-20T06:15:52.140
> 
> 标签：java, mongodb

我有一个包含 40k 个文档的 JSON 文件，每个文档都包含一个日期字段。我需要在 Java 中查询日期以检索数据，因此我以 numberLong 格式存储日期。

```
Date dt = new Date();
SimpleDateFormat format = new SimpleDateFormat("MM/dd/yyyy");
dt = format.parse(nextLine[j]);
document.put(ColumnNameAsKey[j], dt.getTime()); 
```

上面的代码是在 API 中的 for 循环中完成的，用于将数据存储到 mongo。但是在输入所有这些数据之后，然后当我查询 numberlong 时自动更改同一日期，因此我无法检索所需日期的所有数据。我要检索的查询是

```
querygraph.put("Complaint Date (MM/DD/YYYY)", new 
    BasicDBObject("$gte",startdate.getTime()).append("$lte",EndDate.getTime())); 
```

例如：如果日期 08/01/2012 包含大量文档，则在 mongo 的日期字段中替换日期 08/01/2012 的正确编号。这将继续，但在一些文档数量之后，numberlong 不断变化.. 即如果 NumberLong 在 2012 年 8 月 1 日的日期为 134353300000，那么在 6 个或更多文档之后，numberlong 将与前一个不同.. 导致无法检索日期 08/01/2012 的准确数据。这里有什么不同？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T11:17:54.810

我*认为*看到你的问题，因为你存储了毫秒的时间精度，你实际上遇到了代表一天中部分时间的长整数的问题，使得无法查询过去，比如午夜。

这是因为 MongoDB 查询没有考虑这种上下文查询。

首先提示，不要存储为数字长，`$date`仅使用以下行存储为 BSON 类型：

```
Date dt = new Date();
SimpleDateFormat format = new SimpleDateFormat("MM/dd/yyyy"); 
```

您将通过使用指定的 BSON 日期类型获得更多功能，并且查询能力是相同的。

您对查询记录有正确的想法：

```
querygraph.put("Complaint Date (MM/DD/YYYY)", new 
    BasicDBObject("$gte",startdate.getTime()).append("$lte",EndDate.getTime())); 
```

但我感觉你做错了什么。当您创建开始日期和结束日期时，您实际上是在寻找`00:00:00`开始日期的`23:59:59`时间和结束日期的时间。这是由于您的`getTime()`功能，UNIX 时间戳不会返回部分时间，因此它只会返回有效的默认值`now()`。

一种可以使您的生活更轻松的方法是标准化此字段的时间，以便您指定`00:00:00`所有日期的时间，以便您正确选择范围。

# java - 使用java的cURL命令

> ID：13467560
> 
> 赞同：1
> 
> 时间：2012-11-20T06:16:07.527
> 
> 标签：java, httpclient

```
curl -F file=@/path/to/index.html -u lslkdfmkls@gmail.com -F 'data={"title":"API V1  App","package":"com.alunny.apiv1","version":"0.1.0","create_method":"file"}' https://build.phonegap.com/api/v1/apps 
```

我正在尝试使用使用 HttpClient 库的 java 程序来实现相同的目的。

```
DefaultHttpClient client = new DefaultHttpClient(); 
HttpHost targetHost = new HttpHost("build.phonegap.com", 443, "https"); 
client.getCredentialsProvider().setCredentials( 
new AuthScope(targetHost.getHostName(), targetHost.getPort(),AuthScope.ANY_REALM), 
new UsernamePasswordCredentials("abc@gmail.com", "abc123")); 

String authToken = "?auth_token=abcdefgh"; 

HttpPost httpPost = new HttpPost("https://build.phonegap.com/api/v1/apps" + authToken ); 

String jsonString = "{\"title\":\"API V1 App\",\"create_method\":\"file\"}"; 
MultipartEntity multipartEntity = new MultipartEntity(); 
multipartEntity.addPart(new FormBodyPart("data", new StringBody(jsonString))); 
multipartEntity.addPart("file", new FileBody(new File("C:/Users/Desktop/app.zip"))); 

/*StringEntity entity = new StringEntity(jsonString, "UTF-8"); */
httpPost.setEntity(multipartEntity);  

System.out.println("executing request " + httpPost.getRequestLine()); 
HttpResponse httpResponse = client.execute(httpPost); 
HttpEntity entity = httpResponse.getEntity(); 
System.out.println(httpResponse.getStatusLine()); 
if(entity != null ){ 
System.out.println(EntityUtils.toString(entity)); 
} 
```

在上面的代码中，我只能设置 StringEntity 或 FileEntity 但不能同时设置两者，我认为这是获得 curl 命令功能所必需的。

在尝试了 StringEntity 和 FileEntity 之后，我尝试了 MultipartEntity 但没有运气..您能否向我提供更多详细信息，如果可能的话，请提供一个示例..

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T15:58:24.033

必须按如下方式实例化 MultipartEntity：

```
MultipartEntity multipartEntity = new MultipartEntity(
                                         HttpMultipartMode.BROWSER_COMPATIBLE 
                                                       ) ; 
```

这对我有用。

默认情况下，使用 javadocs 中记录为 "RFC 822, RFC 2045, RFC 2046 compliant" 的模式[`MultipartEntity`](http://hc.apache.org/httpcomponents-client-ga/httpmime/apidocs/org/apache/http/entity/mime/MultipartEntity.html)实例化。[`HttpMultipartMode.STRICT`](http://hc.apache.org/httpcomponents-client-ga/httpmime/apidocs/org/apache/http/entity/mime/HttpMultipartMode.html#STRICT)

有人可以简要介绍一下这里提到的 RFC，以便清楚地理解..

多谢

# java - 在 java.util.Date 类型中插入特殊字符

> ID：13467571
> 
> 赞同：1
> 
> 时间：2012-11-20T06:16:54.757
> 
> 标签：java

这`invprbm.setFollowUpDate()`是`java.util.Date`类型。
如果给定值为空，我必须设置`followUpDate`为特殊字符`- -`，例如：

```
SimpleDateFormat formatter = new SimpleDateFormat("- -");
invprbm.setFollowUpDate(formatter.parse("- -")); 
```

在这种情况下，我得到一个值，`Thu Jan 01 00:00:00 IST 1970`而不是预期的`- -`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T06:44:26.573

你似乎在问你应该如何解析你用字符串“- -”表示的“空”日期。简单的答案是你不解析它！

而是做这样的事情：

```
SimpleDateFormat formatter = new SimpleDateFormat("dd-MMM-yy"); // or whatever
if (str.equals("- -")) {
    invprbm.setFollowupDate(null);
} else {
    invprbm.setFollowUpDate(formatter.parse(str));
} 
```

如果你真的想从一个日期到一个字符串，你可以这样做：

```
if (date == null) {
    invprbm.setFollowupDate("- -");
} else {
    invprbm.setFollowUpDate(formatter.format(date));
} 
```

* * *

您当前方法的问题在于`SimpleDateFormat`它不是为处理`null`日期而设计的。它无法解析字符串以生成`null`Date 对象，也无法格式化`null`Date 对象。

您当前的代码实际上在做的是指定一种格式，该格式不会告诉解析器如何从输入字符串中提取日期/时间的任何组成部分。该`parse`方法返回一个`getTime()`值为零的 Date 对象。这并非不合理，因为您尝试执行的操作超出了`SimpleDateFormat`该类的 javadoc 规范。

# iphone - 从 iPhone 将图像和个人资料详细信息发布到服务器

> ID：13467572
> 
> 赞同：3
> 
> 时间：2012-11-20T06:16:55.350
> 
> 标签：iphone, rest, post

根据要求，我需要发布用户个人资料详细信息，例如来自 iPhone 设备的用户名、名字、姓氏和个人资料图片。我们如何将这些包括“头像”在内的详细信息一起发送？我需要将这些详细信息作为 JSON 对象发送吗？所以我需要将图像转换为字节数组。正确的？

如果您可以提供任何 iPhone 代码片段，那就更好了。此外，如果可能，请提供 WCF Rest 服务部分的代码。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T06:29:41.667

**以 JSON 格式向服务器发送数据：**

添加：

1.  JSON.h（标题）

2.  JSON.m（实现）

使用 [https://github.com/stig/json-framework/download](https://github.com/stig/json-framework/downloads)

要转换您的个人资料详细信息，您可以参考以下示例

> ```
> NSMutableDictionary *jsonEncode = [NSMutableDictionary dictionary];
> [jsonEncode setValue:@"" forKey:@""];  
> NSString *jsonString = [jsonEncode JSONString]; 
> ```

**要将图像发送到服务器，您需要将图像转换为 Base64 格式。参考以下链接：**

[UIImage 到 base64 字符串编码](https://stackoverflow.com/questions/3889478/uiimage-to-base64-string-encoding)

# linux - 如何查看net-SNMP库设置的环境变量？

> ID：13467574
> 
> 赞同：2
> 
> 时间：2012-11-20T06:17:07.190
> 
> 标签：linux, environment-variables, net-snmp, mib

我正在使用该`net-SNMP`库为`MIBs`. 我想看看图书馆使用的环境变量。

我已经尝试了该`env`命令，但它没有显示任何变量，如下所示

MIBDIRS、MIBS 等

请给出一些想法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T08:18:02.527

MIBDIRS 和 MIBS 环境变量用于更改 net-SNMP 使用的默认值，用于分别包含 MIB 和要加载的 MIB 列表的目录

默认是（根据 snmpcmd 手册[页](http://net-snmp.sourceforge.net/docs/man/snmpcmd.html)）：

```
MIBS = SNMPv2-TC:SNMPv2-MIB:IF-MIB:IP-MIB:TCP-MIB:UDP-MIB:SNMP-VACM-MIB
MIBDIRS = /usr/local/share/snmp/mibs 
```

因此，除非您自己定义这些环境变量（并以这种方式覆盖默认值），否则您不会在`env`输出中看到它们

# android - ProgressDialog 崩溃

> ID：13467578
> 
> 赞同：0
> 
> 时间：2012-11-20T06:17:52.123
> 
> 标签：android, progressdialog

我有一段代码在活动中显示进度对话框。

```
m_oProgressDialog = ProgressDialog.show(MyActivity.this, "", ""); 
```

但我在这一行反击崩溃，其错误日志如下.. android.view.WindowManager$BadTokenException: Unable to add window -- token

```
android.os.BinderProxy@419743f8 is not valid; is your activity running?
    at android.view.ViewRootImpl.setView(ViewRootImpl.java:517)
    at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:301)
    at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:215)
    at android.view.WindowManagerImpl$CompatModeWrapper.addView(WindowManagerImpl.java:140)
    at android.view.Window$LocalWindowManager.addView(Window.java:537)
    at android.app.Dialog.show(Dialog.java:289) 
```

如果 MyActivity.this 和 getBaseContext() 任何人，我什至尝试了这个？

```
i have a function which shows a progress dialog... i first check whether its showing or not ...if not i will show..

 private void showProgressDialog()
    {
        if( (m_oProgressDialog!=null) && (!this.isFinishing()) )
        {
            if( m_oProgressDialog.isShowing() == false )
                m_oProgressDialog.show();
        }
        else
        {
            m_oProgressDialog = ProgressDialog.show(MyActivity.this, "", "");
        }
 } 
```

# c++ - 变量周围的 C++ 堆栈已损坏

> ID：13467583
> 
> 赞同：4
> 
> 时间：2012-11-20T06:18:57.807
> 
> 标签：c++, memory-management, stack, runtime

我从编写的代码中收到以下错误 - 运行时检查失败 #2 - 变量“pChar”周围的堆栈已损坏

从研究表明，问题与 pHexValueBuffer = new char[256] 和 memset 以及我如何使用名副其实的 - 存储值以返回十六进制数而不是十进制数有关。我的研究表明，不知何故，我已经超出了我设定的记忆的界限，只是不了解如何。

有关如何解决此问题的任何建议？

```
void DecToHex()
{
    string input;
    int total = 0;
    int index = 254;
    char pChar;
    char* pHexValueBuffer = new char[256];
    memset(pHexValueBuffer, 0, 256 );
    pHexValueBuffer[255] = '\0';

    cout << "Enter a Decimal Number\n\n" << flush;

    cin >> input;
    unsigned int iValue = atoi(input.c_str());

    do
    {
        --index;
        unsigned int iMod = iValue % 16;
        if( iMod > 9 )
        {
            switch (iMod)
            {
            case 10:
                pHexValueBuffer[index] = 'A';
                break;
            case 11:
                pHexValueBuffer[index] = 'B';
                break;
            case 12:
                pHexValueBuffer[index] = 'C';
                break;
            case 13:
                pHexValueBuffer[index] = 'D';
                break;
            case 14:
                pHexValueBuffer[index] = 'E';
                break;
            case 15:
                pHexValueBuffer[index] = 'F';
                break;
            default:
                break;
            }

        }
        else
        {
            itoa(iMod, &pChar, 10 );
            pHexValueBuffer[index] = pChar;
        }
        iValue = iValue/16;

    } while( iValue > 0 );

    cout << "Decimal Number = " << &pHexValueBuffer[index];
    delete []pHexValueBuffer;
    pHexValueBuffer = NULL;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T06:27:05.260

问题就在这里

```
char pChar;

itoa(iMod, &pChar, 10 ); 
```

itoa 使用一系列字符而不是单个字符。

`itoa` [您可以在此处](http://www.cplusplus.com/reference/clibrary/cstdlib/itoa/)找到如何使用的示例。

此外，如果您无论如何都要使用`itoa`，您可以避免整个`DecToHex()`功能并只需调用`itoa`

```
int val;
char pHexValueBuffer[256]
cout << "Enter a Decimal Number\n\n" << flush;
cin >> val;
itoa(val, pHexValueBuffer, 16);
cout << "Hexadecimal Number = " << pHexValueBuffer; 
```

你完成了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T06:34:15.187

问题在于对 itoa 的调用

```
itoa(iMod, &pChar, 10 ); 
```

itoa 将在末尾放置一个空字符 - 因此您需要传递一个包含 2 个字符的数组。尝试

```
char pChar[2];

...
itoa(iMod,pChar,10); 
```

使用您的代码 itoa 调用将最终写入索引变量。

# iphone - How to get the "No Charge D.U.N.S. Number" registering for developer program as a company

> ID：13467585
> 
> 赞同：9
> 
> 时间：2012-11-20T06:19:06.623
> 
> 标签：iphone, objective-c, ios

We have newly started the iPhone application development in our company so we need a developer account enrollment , while registering that we come to know that we must have D.U.N.S. number assigned by D&B , so for checking whether our organization has assigned that number or not we followed the look up of D.U.N.S. number from [https://developer.apple.com/ios/enroll/dunsLookupForm.action](https://developer.apple.com/ios/enroll/dunsLookupForm.action) , as we do not found our organization's name listed there, we applied for the D.U.N.S. number to D&B's head office of India located in city Mumbai. They asked us to pay for the 30,000 Rs.(Indian currency) for getting the D.U.N.S. number but, when i googled for that as per apples standards i got the information at link [https://developer.apple.com/support/ios/D-U-N-S.html](https://developer.apple.com/support/ios/D-U-N-S.html) which says that apple developers enrollment do not requires the paid D.U.N.S. number , we are trying to get **"No Charge D.U.N.S. Number"** from a long time to enroll for the developer program as a company . If any one have the specific way to get No Charge D.U.N.S. Number then please help us.

# jquery - 对fancybox 的默认调用确实有效；扩展的不...？

> ID：13467586
> 
> 赞同：1
> 
> 时间：2012-11-20T06:19:11.693
> 
> 标签：jquery, fancybox

Fancybox 执行他的技巧的默认脚本确实有效。查看脚本 >

```
<!-- Add fancyBox main JS and CSS files -->
<!-- Needs jQuery library (see above) -->
<script type="text/javascript" src="<txp:site_url />fancybox/jquery.fancybox.js"></script>
<link rel="stylesheet" type="text/css" href="<txp:site_url />fancybox/jquery.fancybox.css" media="screen" />
<script type="text/javascript">
    $(document).ready(function() {
        $(".fancybox").fancybox();
    });
</script> 
```

但是扩展脚本没有。看看[这个页面](http://www.claraelders.nl/txpnew/kunst/schilderijen)。脚本 >

```
<!-- Add fancyBox main JS and CSS files -->
<!-- Needs jQuery library (see above) -->
<script type="text/javascript" src="<txp:site_url />fancybox/jquery.fancybox.js"></script>
<link rel="stylesheet" type="text/css" href="<txp:site_url />fancybox/jquery.fancybox.css" media="screen" />
<script type="text/javascript">
    $(document).ready(function() {
        $(".fancybox").fancybox({
    helpers : {
        overlay : {
            css : {
                'background' : 'rgba(58, 42, 45, 0.95)'
            }
        }
    }
});
</script> 
```

我对编码一无所知，所以......有错字吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T07:30:23.983

所以我发现你只是缺少关闭标签，这就是`});` 你的代码应该是这样的：

```
$(document).ready(function() {
            $(".fancybox").fancybox({
        helpers : {
            overlay : {
                css : {
                    'background' : 'rgba(58, 42, 45, 0.95)'
                    }
                }
            }
          }); // this is what youre missing
    }); 
```

# python - 特定格式的python strptime

> ID：13467587
> 
> 赞同：1
> 
> 时间：2012-11-20T06:19:12.127
> 
> 标签：python, django, datetime

我有一个带有时间字段的 Django 模型：`time_from = models.TimeField()`. 我目前有一个以小时为单位发送时间的网络表单，例如：12、13、4、5 ...等...

我目前有这个代码：`time.strptime(str(int(request.POST['time_to']) / 60), "%H")`但它抛出一个错误：

```
'time.struct_time(tm_year=1900, tm_mon=1, tm_mday=1, tm_hour=3, tm_min=0, tm_sec=0, tm_wday=0, tm_yday=1, tm_isdst=-1)' value has an invalid format. It must be in HH:MM[:ss[.uuuuuu]] format. 
```

例如，如何在模型中保存 4（即凌晨 4 点）？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T06:24:39.713

如果您只需要几个小时，最简单的方法是根本不解析：

```
import datetime
myhour= '4'
mytime= datetime.time( hour= int(myhour) ) 
```

# admob - 如何更改 Admob 的网站 URL？

> ID：13467592
> 
> 赞同：2
> 
> 时间：2012-11-20T06:19:49.977
> 
> 标签：admob

我创建了一个 android 应用并向其中添加了 admob 广告。但是在创建 admob 站点时，我将 URL 指定为“http://...”，现在我想将其更改为“market://...”

我找不到如何编辑网站 URL。有人知道吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:41:54.320

单击`manage settings`按钮（在您想要的应用程序上）。然后在顶部，您应该`edit`会在标题旁边看到一个链接。单击它，您将看到一个可编辑的`Android Package URL`字段。

# version-control - 版本控制中的 robots.txt

> ID：13467593
> 
> 赞同：2
> 
> 时间：2012-11-20T06:19:58.430
> 
> 标签：version-control, robots.txt

我的 Web 开发团队有一个带有两个分支的版本控制系统设置。其中一个分支用于开发，另一个具有在我们的主域上显示的稳定代码。为了便于在开发过程中进行测试，我们有第二个域供开发分支服务。

我想在版本控制系统中维护我们的 robots.txt 文件，但我不希望我们的开发网站出现在搜索结果中。如果我将 robots.txt 文件放在不允许所有索引的开发分支中，则开发域将为该文件提供解决我的问题之一。但是，一旦我将该更改与稳定分支合并，同一文件将从主域获得，这不是我想要的。在这种情况下，您将如何解决这两个问题？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-20T06:29:44.873

另一种方法，如果您使用的是 Apache：

1.  创建两个 robots.txt 文件而不是一个：`robots-production.txt`和`robots-development.txt`
2.  添加两个 .htaccess 规则：

    ```
    RewriteCond %{HTTP_HOST} ^your_development_domain$
    RewriteRule ^robots.txt robots-development.txt

    RewriteCond %{HTTP_HOST} ^your_production_domain$
    RewriteRule ^robots.txt robots-production.txt 
    ```

这会为每个域提供不同的 robots.txt 文件。

# java - 如何在java中使用它的键获取Json值？

> ID：13467595
> 
> 赞同：0
> 
> 时间：2012-11-20T06:20:10.833
> 
> 标签：java, android

我有如下给出的 JSON 数组。如何根据其键获取值？

```
$> 

[{Work
> Group=[{"id":"wNUvBiv5tQDFphP3zITN5NDEqyXJM8W2","errRsn":["Response
> time from Sweden exceeded 1500 ms."],"ap":"100.0
> %","status":"Trouble","name":"xxxx","rsptime":"1549
> ms","downs":"0","tDwn":"5 Hrs 50 Mins
> ","conf":"no","mtype":"URL","monitorid":"2c2d1ba5b57d9c1be8fcae5522b5bb9f","lsDur":"-","lsDwn":""},{"id":"wNUvBiv5tQB1kKQSZBij\/b8FU++kkoRh","ap":"100.0
> %","status":"Up","name":"xxx","rsptime":"424
> ms","downs":"0","conf":"no","mtype":"HOMEPAGE","monitorid":"58e79381158d85e8eb944ec5506db09a","lsDur":"-"},{"id":"wNUvBiv5tQD\/DIkhHWufnTRJzbcIgZk4","rspvalue":"-","downReason":"Unknown
> Host","status":"Down","name":"xxxx","tDwn":"62 days 17 Hrs 7 Mins
> ","conf":"yes","mtype":"PORT","monitorid":"6cacfbf47ad21d824006be1168efc3c6","lsDwn":"2012-09-18"},{"id":"wNUvBiv5tQCBw1RAuk0Q2P1FZPxXxMr1","downReason":"Trouble" 
```

天 0 小时 0 分钟 ","lsDwn":"2012-06-21"}]}]

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T06:30:49.677

使用以下代码解析您的 json String ：

```
JSONArray jarray = new JSONArray("Your JSON String Here");

for (int i=0; i < jarray.length(); i++)
{
  JSONObject oneObject = jArray.getJSONObject(i);
  // Pulling items from the array
   String oneObjectsid = oneObject.getString("id");
   String oneObjectsap = oneObject.getString("ap");
   String oneObjectsstatus = oneObject.getString("status");
   String oneObjectsname = oneObject.getString("name");
   //your rest code here...
} 
```

# javascript - 加载资源而不是ajax时传递cookies？

> ID：13467597
> 
> 赞同：0
> 
> 时间：2012-11-20T06:20:17.603
> 
> 标签：javascript, jquery, ruby-on-rails, ruby, ajax

设置是我有一个 Rails 应用程序设置作为 JSON API 和另一个我想用来调用 API 的静态 html 页面。为了争论，rails API 位于 foo.com，静态 html 页面位于 bar.com。

在 foo.com 应用程序上，我有这样的东西：

```
 if !cookies[:foo]
      cookies[:foo] = "testing #{rand(500)}"
    else
      logger.info(cookies[:foo])

    render :json => { :cookie => cookies[:foo] } 
```

当我尝试使用来自 bar.com 的 jquery 执行 ajax GET 请求时，cookie 不会被发送回 JSON API。

```
 $.get('http://foo.com/', function(data){console.log(data)}) 
```

但是，如果我将页面加载为资源，我可以让 cookie 在 foo.com 和 bar.com 之间来回发送

```
 <script type="text/javascript" src="http://foo.com"></script> 
```

有谁知道为什么我能够在将脚本作为脚本资源加载时而不是在我执行简单的 ajax 请求时跨域来回传递 cookie？有什么办法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T06:24:03.457

`$.ajax`根据需要使用，因为您`JSONP`的 ajax 调用是跨站点的。

```
$.ajax({
  url: "xxxx",
  crossDomain : true,
  dataType    : 'json',//if response is in JSON Notation
  success     : function (result){
   alert(result);
  }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T20:38:00.487

正如技术人员所说，您需要使用 $.ajax 并发出 json(p) 请求才能启用跨域。

不过，这种实现方式的 Cookie 很棘手。即使您设法使用某种黑客来来回发送cookie，旧的（或更便宜的）浏览器也会阻止它们。

*咳嗽* IE *咳嗽*

解决此问题的一种简单方法是在 url 中传递 cookie，如下所示：

```
$.ajax({
  url: "//domain.com/path/to/stuff;cookie1=value1?someParameter2=value2",
  crossDomain : true,
  dataType    : 'json',//if response is in JSON Notation
  success     : function (result){
   alert(result);
  }
}); 
```

在这个例子中，我告诉我的服务器我的请求有一个值为“value1”的cookie名称“cookie1”和一个值为“value2”的GET参数

希望这可以帮助。

# ms-access - msaccess 的编码 UI 测试

> ID：13467598
> 
> 赞同：1
> 
> 时间：2012-11-20T06:20:26.993
> 
> 标签：ms-access, testing, coded-ui-tests

我对 msaccess 应用程序的手工编码 codedui 测试用例有点好奇，是否可以为 ms access vba 应用程序编写 codedUI 框架。

任何帮助将不胜感激

谢谢史蒂夫

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-20T08:40:31.777

它证明与 VSTO 不支持 Access 一样困难。因此，为 Access 编写扩展的 UI 编码测试变得非常棘手。

# java - 适用于 Android 的 PDF 解析库，可用于从 pdf 中提取嵌入式数字证书

> ID：13467599
> 
> 赞同：2
> 
> 时间：2012-11-20T06:20:35.907
> 
> 标签：java, android, pdf

我正在尝试从 PDF 文件中提取嵌入式证书（acrobatsecuritysettings）。这适用于 Android 应用程序。有谁知道任何特定于 Android 的 Java 库可用于读取 PDF 文件的附加证书内容？非常感谢您的帮助。谢谢。

# structure - 如何设置 wiki 以进行紧急响应？

> ID：13467601
> 
> 赞同：0
> 
> 时间：2012-11-20T06:20:59.440
> 
> 标签：structure, wiki, mission-critical

我工作的公司目前正准备扩大并承担紧急支持（下班后支持）。

我们目前有一个包含大量信息的 wiki 设置。但是，由于零碎分散在整个 wiki 中（取决于哪个部门等）。

那个晚上/周末得到支持的人需要能够快速帮助客户解决他们的问题。例如。如果我们的服务器速度非常慢，则需要某种故障排除指南，以便人们可以直接深入了解它。

我用谷歌搜索了很多，但我找不到任何有用的东西。所以这里有一个问题：

*您将如何构建您的 wiki（按主题、按症状、按解决方案？）以尽量减少人们查找信息的时间？* 就个人而言，我认为使用某种语法，例如

```
Symptom: large CPU utilization 

Keywords: slow server, large cpu usage 
```

这样，当您通过 wiki 搜索时，它很可能会出现在搜索中。但是，如果问题更多与软件相关 - 例如配置错误怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-27T09:11:34.140

这是 wiki API 网址 [http://en.wikipedia.org/w/api.php](http://en.wikipedia.org/w/api.php)

此外，您需要有一个 Web 服务，它将接受将执行搜索的参数以及 UI 页面。

Web Service 将拥有所有需要的逻辑。

[有维基百科 API 吗？](https://stackoverflow.com/questions/627594/is-there-a-wikipedia-api)

# sql - SQL Select 语句中的 IFF 语句

> ID：13467608
> 
> 赞同：1
> 
> 时间：2012-11-20T06:21:34.060
> 
> 标签：sql

我正在尝试编写一个 IF 语句，它将执行以下操作......

这是表中结果的示例....

```
Name        Exd Name                 RESULT
 HMAA  USA       USA                  HMAA USA
 HMIT  ITL       ITL                  HMIT ITL
 HMTT   LOG       HYT                HMTT LOG (HYT)
 LTYS   LTT      FYM                  LTYS LTT (FYM)
 TTTT   FFF      PPP                 TTTT FFF (PPP)
 FDSE   FGR      FGR                 FDSE FGR 
```

结果应显示如下

HMTT LOG (HYT) -----由于两个名称不同，我想在括号中显示 Exd 名称），但是当 HMAA USA 和 Exd 名称也是 USA - 我只想显示“名称”，不是 Exd 名称。

这在 IF 语句中是否可能......这是我的脚本，如您所见，它具有名称 + Exd 名称，但是在上面我想在此处合并一个 IIF 语句以仅按照上述逻辑显示。

```
SELECT  distinct  RNL.EmplID,
RNL.ServiceType, rnl.[name] + ' ' + '(' + rnl.[Exd Name] + ')' as 'Vessel'
FROM
resultsIB RNL (nolock) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T06:33:37.547

如果是 SQL Server，您可以尝试：

```
select distinct RNL.EmplID, RNL.ServiceType, 
    rnl.[name] + 
    case 
        when rnl.[name] like '%' + rnl.[Exd Name]
        then ''
        else ' (' + rnl.[Exd Name] + ')'
    end as 'Vessel'
FROM resultsIB RNL (nolock) 
```

或使用[`iif`（仅限 SQL Server 2012 AFAIK）](http://msdn.microsoft.com/en-us/library/hh213574.aspx)（*`IIF`是编写 a 的简写方式`CASE`*）：

```
select distinct RNL.EmplID, RNL.ServiceType, 
    rnl.[name] + 
    iif(rnl.[name] like '%' + rnl.[Exd Name], '', ' (' + rnl.[Exd Name] + ')') as 'Vessel'
FROM resultsIB RNL (nolock) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T10:13:03.143

```
SELECT distinct  RNL.EmplID, RNL.ServiceType,
       CASE WHEN CHARINDEX(ExdName, Name) = 0
            THEN Name + ' (' + ExdName + ')'
            ELSE Name END AS 'Vessel'
FROM resultsIB RNL (nolock) 
```

# php - php中的调用时传递引用问题

> ID：13467610
> 
> 赞同：0
> 
> 时间：2012-11-20T06:21:35.430
> 
> 标签：php

> **可能重复：**
> [调用时传递引用已被弃用；](https://stackoverflow.com/questions/4665782/call-time-pass-by-reference-has-been-deprecated)

```
function getLib($pfComponentType,$pfComponentCode,$componentCode)
    {
        if($temp=require_once($this->getConfig($pfComponentType,$pfComponentCode,'librariesPath').$componentCode.'.php'))
        {
            $obj_lib = __NAMESPACE__.'\\'.$componentCode;
            return new $obj_lib(&$this);
        }
        else return NULL;
    } 
```

我收到一个错误，说调用时传递引用已在上述函数的第 6 行中删除，即 return new $obj_lib(&$this);

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:27:53.513

`$obj_lib`没有按引用传递参数，因此您不能将其传递给引用。删除`&`from `&$this`，或添加到定义`&`的参数中`$obj_lib`

# hadoop - 将文件从 AWS EMR 集群中的映射器上传到 S3

> ID：13467611
> 
> 赞同：1
> 
> 时间：2012-11-20T06:21:47.017
> 
> 标签：hadoop, amazon-s3, amazon-emr

我有一个在 AWS EMR 上运行的现有 map reduce 作业，它处理数十亿行日志并进行一些计算以从 mapper 形成（键，值）对。这些计算非常耗时，我需要在其他一些 map reduce 作业中使用这些计算的一些中间步骤的输出。所以，我想挖掘计算的输出并上传到s3，而不影响现有的工作（即不改变当前的映射器或reducer）。在上传之前，我会先将这些行收集到一个本地临时文件中，一旦文件变得足够大，我会将这个文件上传到 s3。

问题是 - 与 reducer 不同，Mapper 不能根据键对数据进行排序。如何为 s3 设计唯一的文件名，以便从不同的映射器上传数据，这样就不会有任何文件名冲突？

我正在使用 Java。如果有办法获取映射器集群 ID 或生成随机编号，也可以解决问题。所有映射器独有（我不知道该怎么做？）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T23:51:14.213

您可以获取当前正在运行的 Hadoop 任务的任务尝试 ID，该 ID 在所有映射器中都是唯一的，因此可以用作文件名。以下方法将为您提供尝试 ID：

```
public static String getAttemptId(Configuration conf) throws IllegalArgumentException
   {
       if (conf == null) {
           throw new NullPointerException("conf is null");
       }

       String taskId = conf.get("mapred.task.id");
       if (taskId == null) {
           throw new IllegalArgumentException("Configutaion does not contain the property mapred.task.id");
       }

       String[] parts = taskId.split("_");
       if (parts.length != 6 ||
               !parts[0].equals("attempt") ||
               (!"m".equals(parts[3]) && !"r".equals(parts[3]))) {
           throw new IllegalArgumentException("TaskAttemptId string : " + taskId + " is not properly formed");
       }

       return parts[4] + "-" + parts[5];
   } 
```

# magento - 致命错误：在第 146 行的 ...\..\Abstract.php 中找不到类“Mage_Enterprise_Giftwrapping_Block_Adminhtml_Product_Helper_Form_Config”

> ID：13467612
> 
> 赞同：2
> 
> 时间：2012-11-20T06:21:57.783
> 
> 标签：magento

我正在将 magento 企业版迁移到社区版。我马上就好。但是后端几乎没有问题。如果我去管理产品并单击任何产品，我就会收到此错误。

**致命错误：在第 146 行的 ...\lib\Varien\Data\Form\Abstract.php 中找不到类 'Mage_Enterprise_Giftwrapping_Block_Adminhtml_Product_Helper_Form_Config'**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T06:41:54.757

我找到了解决这个问题的方法。**在您的catalog_eav_attribute**表**“enterprise_giftwrapping/adminhtml_product_helper_form_config”**中搜索此关键字并更改字段**`is_visible`= '0'**。

这解决了我的问题。

# android - Android开发——蓝牙嵌入式系统PIN

> ID：13467614
> 
> 赞同：0
> 
> 时间：2012-11-20T06:22:19.067
> 
> 标签：android, authentication, bluetooth, connection, embedded

我需要一些帮助。我需要通过蓝牙连接到与蓝牙通信的硬件设备。我无法控制设备（超过 5 年）。我已经有一些工作代码，但问题是系统要求输入 PIN，我不知道设备的 PIN 是什么。建立系统的人也不知道。目前他们正在使用旧的 HP iPaq 进行连接（也是 5 岁）。

任何人都知道如何解决这个问题？如何找到 PIN 或设置新的？

谢谢，翁贝托

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T06:41:24.323

根据检查几个 BT 设备...

尝试 0000。通常是默认值。其他默认为 1234

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T11:18:34.773

仅供参考，我得到了解决方案。对于旧的嵌入式设备，您需要创建一个“不安全”的连接

device.createInsecureRfcommSocket(DEV_UUID);

这不需要 PIN。connectino 完美运行。

——翁贝托

# objective-c - AFNetworking 下载多个文件内存占用

> ID：13467616
> 
> 赞同：3
> 
> 时间：2012-11-20T06:22:29.360
> 
> 标签：objective-c, ios, afnetworking

我正在使用 ARC，并且在使用 AFNetworking 时在我的应用程序中下载多个文件 (10000+) 时遇到问题。我正在创建每个 AFHTTPRequest，然后将它们排队执行。当我使用仪器运行它时，我可以看到内存使用量越来越大，直到所有文件都下载完毕，然后才释放所有内存。这在模拟器上仍然存在，但在 iOS 设备上运行时会崩溃。

下面是我正在做的示例代码

```
for (int i = 0; i < NUM_OF_FILES_TO_DOWNLOAD; i++) {
    _imageCounter++;
    [self downloadFile:i];
}

- (void)downloadFile:(NSUInteger)num
{    
    NSString *fileURL = @"file/%d/", num];
    NSURLRequest *url = [self.httpClient requestWithMethod:@"GET" path:fileURL parameters:nil];

    AFHTTPRequestOperation *requestOperation = [_httpClient HTTPRequestOperationWithRequest:url success:^(AFHTTPRequestOperation *operation, id responseObject) {
     ...
    } failure:^(AFHTTPRequestOperation *operation, NSError *error) {
     ...
    }];

    [_httpClient enqueueHTTPRequestOperation:requestOperation];    
} 
```

执行操作成功块后似乎没有释放 files( `responseObject`)，这就是不断增加内存占用的原因？这个对吗？我是否按预期使用了 AFNetworking 和 operationQueue？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T00:23:24.040

您可能希望在 for 循环中放置一个 @autoreleasepool。

# jquery-mobile - 如何在 Android Emulator 上运行 JQuery 移动应用程序？

> ID：13467622
> 
> 赞同：1
> 
> 时间：2012-11-20T06:22:59.890
> 
> 标签：jquery-mobile, android-emulator

我是 JQuery mobile 的新手。我使用 Netbeans 在 JQuery Mobile 中开发了一个简单的应用程序，并在桌面浏览器上成功运行。但我想检查它是否适合暴民屏幕。所以我想在 Android Emulator 上运行该应用程序。我只是运行Android 模拟器，但我不知道如何从哪里以及如何调用我的项目？请帮助我...提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:27:10.347

您需要在模拟器下启动 Web 浏览器，然后连接到您的服务器。如果您在本地开发机器上运行 jquery 移动网站，您可以通过 IP 地址和端口连接到它

例子：

```
http://192.168.33.10:65637 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-24T21:39:03.147

Krishna 要能够将 jQuery mobile 作为 android/iPhone 应用程序执行，您需要一个包装框架，如 phonegap/cordoba（cordoba 是它的新名称。

[这](http://mobile.tutsplus.com/tutorials/phonegap/creating-an-android-hello-world-application-with-phonegap/)是windows平台的优秀教程。对于 iMac，您可以在 phonegap 开发者页面上找到更多帮助（教程）。

基本上 phonegap 充当 HTML/JS 和其他移动平台之间的包装器。因此，您必须为 android 创建单独的版本，为 iPhone 创建单独的版本。它还可以让您访问手机硬件，如相机、指南针等。

如果您需要更多帮助，请给我评论，我会尽我所能帮助您。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-09T09:19:24.447

首先将您创建的网站托管到 IIS 或 IIS7 中，然后将您的网站文件夹复制粘贴到 C 盘 inetpub 文件夹中的 wwwroot 文件夹中。安装 iis 或 iis7 后，此文件夹将可用，然后转到您的桌面浏览器（即，opera、google chrome 等）。然后输入这个，“localhost/yourWebsitefolderName/”然后按回车，如果你的网站是在本地浏览器中打开的，那么你可以尝试下面的东西在你的模拟器中打开它。

启动你的安卓模拟器，在模拟器中打开手机浏览器，然后输入“10.0.2.2/yourWebsitefolderName/”

# ruby-on-rails - windows平台下jruby项目部署到tomcat

> ID：13467624
> 
> 赞同：4
> 
> 时间：2012-11-20T06:23:08.563
> 
> 标签：ruby-on-rails, tomcat, jruby, warbler

我是 ruby​​ 世界的新手，在做了一些研究之后，我可以生成一个演示 rails 应用程序并在 webrick 服务器上进行测试

但是我开始用tomcat部署时遇到了问题我使用warbler生成war文件部署成功没有错误复制Tomcat 7.0上webapps文件夹下的war启动服务器并尝试在浏览器上运行我发现资产文件不可访问，控制器方法无法重定向到正确的视图，但显示“我们很抱歉，但出了点问题。” 信息

我尝试过的部署配置

```
JRuby 1.7.0
宝石    
    jruby 机架 1.1.10、1.0.10
    轨道 3.2.9、3.2.0
    莺 1.3.6, 1.3.2
雄猫 7.0.32

```

这是tomcat的访问日志

```
127.0.0.1 - - [2012 年 11 月 20 日：13:56:38 +0800] “GET /demo/HTTP/1.1”200 5906
127.0.0.1 - - [2012 年 11 月 20 日：13:56:49 +0800] “GET /demo/assets/rails.png HTTP/1.1”404 728
127.0.0.1 - - [2012 年 11 月 20 日：14:01:21 +0800] “GET /demo/order/add HTTP/1.1”500 643

```

这是tomcat的日志形式

```
    2012/11/20 13:56:18 org.apache.catalina.core.ApplicationContext 日志

    信息：Java HotSpot(TM) 客户端 VM 1.6.0_34-b04 [Windows XP-x86] 上的 jruby 1.7.0 (1.9.3p203) 2012-10-22 ff1ebbe

    2012/11/20 13:56:18 org.apache.catalina.core.ApplicationContext 日志

    信息：使用：运行时池，获取超时为 10.0 秒

    2012/11/20 13:56:19 org.apache.catalina.core.ApplicationContext 日志

    上下文监听器：上下文初始化（）

    2012/11/20 13:56:19 org.apache.catalina.core.ApplicationContext 日志

    会话监听器：contextInitialized()

    2012/11/20 13:56:19 org.apache.catalina.core.ApplicationContext 日志

    ContextListener：attributeAdded('org.apache.jasper.compiler.TldLocationsCache', 'org.apache.jasper.compiler.TldLocationsCache@1858aa0')

    2012/11/20 01:56:38 org.apache.catalina.core.ApplicationContext 日志

    信息：池为空 - 正在获取新的应用程序实例

    2012/11/20 01:56:47 org.apache.catalina.core.ApplicationContext 日志

    2012-11-20 13:56:47 +0800 开始为 127.0.0.1 获取“/demo/assets/rails.png”

    2012/11/20 01:56:47 org.apache.catalina.core.ApplicationContext 日志

    连接到 database.yml 指定的数据库

    2012/11/20 01:56:49 org.apache.catalina.core.ApplicationContext 日志

    ActionController::RoutingError (没有路线匹配 [GET] "/assets/rails.png"):
    gems/gems/actionpack-3.2.9/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
    gems/gems/actionpack-3.2.9/lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
    gems/gems/railties-3.2.9/lib/rails/rack/logger.rb:32:in `call_app'
    gems/gems/railties-3.2.9/lib/rails/rack/logger.rb:16:in `call'
    gems/gems/activesupport-3.2.9/lib/active_support/tagged_logging.rb:22:in `tagged'
    gems/gems/railties-3.2.9/lib/rails/rack/logger.rb:16:in `call'
    gems/gems/actionpack-3.2.9/lib/action_dispatch/middleware/request_id.rb:22:in `call'
    gems/gems/rack-1.4.1/lib/rack/methodoverride.rb:21:in `call'
    gems/gems/rack-1.4.1/lib/rack/runtime.rb:17:in `call'
    gems/gems/activesupport-3.2.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
    gems/gems/rack-1.4.1/lib/rack/lock.rb:15:in `call'
    gems/gems/rack-cache-1.2/lib/rack/cache/context.rb:136:in `forward'
    gems/gems/rack-cache-1.2/lib/rack/cache/context.rb:245:in `fetch'
    gems/gems/rack-cache-1.2/lib/rack/cache/context.rb:185:in `lookup'
    gems/gems/rack-cache-1.2/lib/rack/cache/context.rb:66:in `call!'
    gems/gems/rack-cache-1.2/lib/rack/cache/context.rb:51:in `call'
    gems/gems/railties-3.2.9/lib/rails/engine.rb:479:in `call'
    gems/gems/railties-3.2.9/lib/rails/application.rb:223:in `call'
    文件：/lib/jruby-rack-1.1.10.jar!/rack/handler/servlet.rb:22:in `call'

    2012/11/20 14:01:21 org.apache.catalina.core.ApplicationContext 日志

    2012-11-20 14:01:21 +0800 开始为 127.0.0.1 获取“/demo/order/add”

    2012/11/20 14:01:21 org.apache.catalina.core.ApplicationContext 日志

    由 OrderController#add 作为 HTML 处理

    2012/11/20 14:01:21 org.apache.catalina.core.ApplicationContext 日志

    在布局/应用程序中渲染 order/add.html.erb (16.0ms)

    2012/11/20 14:01:21 org.apache.catalina.core.ApplicationContext 日志

    在 78 毫秒内完成 500 内部服务器错误

```

似乎出现了路由问题，是不是我在ROOT位置以外部署rails应用程序时出现的问题？

我研究了类似的主题，我尝试了一些解决方案，例如在production.rb中添加以下命令，但没有帮助。

```
config.action_controller.relative_url_root = "/demo" 
```

感谢您的解决方案

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T23:48:58.797

你在warbling之前预编译了你的资产吗？

运行前需要运行`rake assets:precompile`生成静态内容`warble`

# ruby - 成功登录 ruby on rails 后用户特定的重定向

> ID：13467627
> 
> 赞同：1
> 
> 时间：2012-11-20T06:23:36.643
> 
> 标签：ruby, ruby-on-rails-3

目前我正在开发一个短信应用程序。我用于**`devise gem`**身份验证和**`carrier wave`**上传。我的问题是成功登录后，用户必须重定向到他自己的页面，并且不同的用户将重定向到不同的页面。

**用户模型**

```
class User < ActiveRecord::Base
  # Include default devise modules. Others available are:
  # :token_authenticatable, :encryptable, :confirmable, :lockable, :timeoutable and    :omniauthable
   devise :database_authenticatable, :registerable,:recoverable, :rememberable, :trackable, :validatable
   # Setup accessible (or protected) attributes for your model
   attr_accessible :email, :password, :password_confirmation, :remember_me
   # attr_accessible :title, :body
   has_many :sms
 end 
```

**型号**

```
class Sm < ActiveRecord::Base
  attr_accessible :Messages, :Mobile_no, :Nickname, :Templates
  validates_presence_of :Mobile_no
  validates_length_of :Mobile_no, :minimum => 10, :maximum => 10, :allow_blank => true
  validates :Mobile_no, :numericality => {:only_integer => true}
  attr_accessible :sm_id, :name, :image
  belongs_to :sm
  mount_uploader :image, ImageUploader
  validate :image_size_validation, :if => "image?"  

  def image_size_validation
    errors[:image] << "should be less than 1MB" if image.size > 1.megabytes
  end

  validates :image, allow_blank: true, format: {
    with: %r{\.(xls|xlsx|csv|txt)\z}i,
    message: 'must be a TXT, CSV, XLS, or XLSX'
  }, if: :filename_has_extension?

  def filename_has_extension?
    !(image.to_s =~ /\.[a-z]{1,4}\z/).nil?
  end
  belongs_to :user
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T07:51:15.563

您应该在 ApplicationController 中定义 after_sign_in_path_for 方法

```
 def after_sign_in_path_for(resource)
    # resource is commonly a User class object
    if resource.admin?
      # redirect somewhere
    else
      # redirect somewhere else
    end
  end 
```

# android - Android Webview 响应读取

> ID：13467629
> 
> 赞同：4
> 
> 时间：2012-11-20T06:23:41.807
> 
> 标签：android, android-layout, android-intent, android-emulator, android-ndk

我在从加载注册获取 url 的 webview 读取响应时遇到问题。要求如下。

我必须与可以响应 html 和 xml 内容的用户注册 servlet 进行通信。对于初始获取请求，servlet 以 html 内容响应，我可以使用加载 URL 方法在 WebView 中显示它。在 web 视图中，用户输入注册详细信息并单击提交，servlet 以 xml 状态代码和注册详细信息进行响应。我必须从 servlet 中读取这个 xml 响应，该响应可以从 web 视图中获取，并针对 xml 响应执行操作（例如：关闭 web 视图并提醒用户）。

**请给我一个解决方案。我尝试覆盖 Webview 客户端 onPageFinsihed() 并通过打开 HTTP 连接再次从 URL 读取数据。我认为这个实现与服务器通信两次，对吗？**

问候@nish

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:34:16.030

您需要从 WebView 中实际提取 HTML，这可以通过不同的方式完成，[这](http://lexandera.com/2009/01/extracting-html-from-a-webview/)是一种方法。

# solr - 在 SOLR 中，空白给出了不同的结果

> ID：13467632
> 
> 赞同：3
> 
> 时间：2012-11-20T06:23:57.203
> 
> 标签：solr, lucene, removing-whitespace

我尝试了很多方法并在不同的网站上进行了搜索，但没有得到任何答案。

我需要*书桌书*和*书桌*书相同的结果，我写成书桌书，*书桌书*=>*书桌*书。
但是我在一页上得到了*书桌**书*结果，在另一页上得到了书本结果。这是由于**Lucene**解析器。我从[这个](http://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters#solr.SynonymFilterFactory)链接得到了这个信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T07:42:42.277

如果您有多词同义词，请检查您是否遵循以下内容：-

> 请记住，虽然 SynonymFilter 很乐意处理包含多个单词的同义词（即：“sea biscuit, sea biscit, seabiscuit”），但处理此类同义词的推荐方法是在索引时扩展同义词。

因此，您仅在索引时间分析期间拥有它。

例如

在索引和查询时间分析中使用相同的过滤器链，因此搜索词与索引词匹配。

例如

```
<fieldType name="text_synonym" class="solr.TextField">
    <analyzer type="index">
        <tokenizer class="solr.WhitespaceTokenizerFactory"/>
        <filter class="solr.LowerCaseFilterFactory"/>       
        <filter class="solr.SynonymFilterFactory" synonyms="syms.txt" ignoreCase="true" expand="true"/>
    </analyzer>
    <analyzer type="query">
       <tokenizer class="solr.WhitespaceTokenizerFactory"/>
       <filter class="solr.LowerCaseFilterFactory"/>
    </analyzer>
</fieldType> 
```

# css - Codeigniter：css 不工作，正在吃我的代码

> ID：13467636
> 
> 赞同：1
> 
> 时间：2012-11-20T06:24:11.777
> 
> 标签：css, codeigniter

我刚刚设置了新的 CI，但 css 不工作，它正在吃我的代码。

这是我唯一的观点，我查看了源代码，发现`<head>`当我放置 css 链接标签后代码消失了。

```
<! DOCTYPE html !>
<html>
 <head>
   <link href="<?php echo base_url(); ?>styles/style.css" rel="stylesheet" type="text/css"/>
 </head>

 <body>

    <div id="container">
       <h1>Workforce</h1>  

       <?php 
       foreach($results as $r){
          echo $r->name.'<br>'; 
       }    
       ?>

    </div>

 </body>
</html> 
```

# vb.net - vb.net中windows应用程序的全球化

> ID：13467638
> 
> 赞同：4
> 
> 时间：2012-11-20T06:24:34.097
> 
> 标签：vb.net, vba

我的表单中有一个**丰富**的文本框和**组合框**。富文本框包含一些数据，组合框有以下项目，如

```
english
hindi
gujrati
marathi
urdu 
```

所以我希望每当用户选择这些语言中的任何一种时，Richtextbox 的整个数据都会转换为用户选择的语言。我在google api中尝试过，但我想在没有互联网连接的情况下这样做。

因为由于某些原因，所有用户都没有互联网连接。请帮帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-19T16:54:21.127

可以通过将标签文本等更改为用户所需的语言来支持您的应用程序中的多种语言，这也很容易。因为您知道必须翻译哪些单词。但不要认为您可以轻松地将任何随机用户输入翻译成任何语言都靠自己，而且太离线。像谷歌翻译这样的程序使用复杂的算法（而不是简单的文本替换），并依靠用其他语言编写的网站来选择最佳匹配。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-22T07:21:29.003

如果 Richtextbox 中的文本是动态的并且由用户插入或由用户修改，那么您可以尝试[FreeTranslator](http://www.softpedia.com/get/Others/Home-Education/FreeTranslator-Full-Version.shtml)或[Lingoes](http://www.lingoes.net/en/index.html)，尽管我认为它们都没有可以与您的应用程序集成的 API，而且我不肯定如果他们支持您正在寻找的语言。

如果文本是静态的，那么有很多资源可用于说明如何做到这一点，[Hanselman](http://www.hanselman.com/blog/GlobalizationInternationalizationAndLocalizationInASPNETMVC3JavaScriptAndJQueryPart1.aspx)有一个很好的初始帖子，页面上可能有很多链接可以引导您获得更多信息。

# android - 如何在 main.xml 中插入 list.xml 文件

> ID：13467645
> 
> 赞同：3
> 
> 时间：2012-11-20T06:25:08.290
> 
> 标签：android, xml, android-listview

有人帮我做下面的事情！我想在 main.xml 文件的底部插入一些列表 list.xml 文件。如何实施？

```
 ----------------------------
    |    main.java              |
    |    main.xml               |
    |                           |
    |                           |
    |                           |
    |                           |
    |      ______               |
    |     |button|              |
    |                           |
    |                           |
    |                           |
    | _________________________ | 
    | |      list.java        | |
    | |      list.xml         | |
    | |                       | |
    | |                       | |
    | |                       | |
    | |                       | |
    | |                       | |
    |_|_______________________|_| 

I called list.java by using intent on the main.java .I also include list.xml to main.xml. When I press button list.xml should pop up like above figure. But list.xml comes up new window. How to solve this problem? 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T06:37:11.227

Yoy可以这样尝试...

我的示例代码...

```
<RelativeLayout
    android:id="@+id/xK1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:orientation="vertical"
    >

    <include
        android:id="@+id/your id"// your id
        layout="@layout/list" >// add the list.xml here
    </include>
</RelativeLayout> 
```

添加到您的 Main.xml 中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-20T06:38:27.340

尝试以下代码并根据您的要求进行一些更改。这只是指导代码。为此使用布局充气机服务。假设您有 2 个主要文件，然后列出

```
public class Test extends Activity {
@Override
public void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    LinearLayout layoutMain = new LinearLayout(this);
    layoutMain.setOrientation(LinearLayout.HORIZONTAL);
    setContentView(layoutMain);
    LayoutInflater inflate = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    RelativeLayout layoutLeft = (RelativeLayout) inflate.inflate(R.layout.main, null);
    RelativeLayout layoutRight = (RelativeLayout) inflate.inflate(R.layout.list, null);

    RelativeLayout.LayoutParams relParam = new RelativeLayout.LayoutParams(
    RelativeLayout.LayoutParams.WRAP_CONTENT,
    RelativeLayout.LayoutParams.WRAP_CONTENT);
    layoutMain.addView(layoutLeft, 100, 100);
    layoutMain.addView(layoutRight, relParam);
}
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T06:43:17.013

由于您想重用布局，即将现有布局包含在另一个布局中，我建议您阅读这篇文章：[Re-using Layouts with`<include/>`](http://developer.android.com/training/improving-layouts/reusing-layouts.html) .

现在，当您想在 main.xml 中包含 list.xml 时，请在 main.xml 中编写`<include/>`如下：

```
 <include layout="@layout/list"/> 
```

# floating-point - MIPS 浮点错误

> ID：13467646
> 
> 赞同：3
> 
> 时间：2012-11-20T06:25:12.337
> 
> 标签：floating-point, mips

我试图弄清楚我下面的代码到底出了什么问题。

快速背景：这个程序的想法是根据球员的单打、双打、三打、本垒打和出局的数量来计算平均击球率和击球率。我针对代码运行的一个测试用例的值是天文数字，每当我尝试对它们进行任何形式的加法时，代码都会失败。我意识到我需要使用双点浮点数（特别是在添加 Outs 和 Hits 时，它应该以数字 31,500,032 结尾，但存储 26,207,920），但我完全不确定如何使用我的代码来这样做。有什么建议么？

```
# test with three batters, both average and slugging percentage
# First batter has no hits, but does have outs
# Second batter has hits and outs, with realistic values
# Third hitter has large values for some of the hits and for the
# outs. This means the hits and outs *have* to be converted from int's
# to float's in order to get the right answer.

.data

mainNumBatters:
   .word 3

mainBatter1:
   .word 0, 0, 0, 15, 0   # player with no atBats
mainBatter2:
   .word 101  # singles
   .word  22  # doubles
   .word   4  # triples
   .word 423  # outs
   .word  10  # home runs
mainBatter3:
   .word 8000000  # singles
   .word  22  # doubles
   .word 500000    # triples
   .word 23000000  # outs
   .word  10  # home runs

mainNewline:
         .asciiz  "\n"
mainBatterNumber:
         .asciiz  "Batter number: "
mainBattingAverage:
         .asciiz  "Batting average: "
mainSluggingPercentage:
         .asciiz  "Slugging percentage: "

.text

main:
         # Function prologue -- even main has one
         subu  $sp, $sp, 24      # allocate stack space -- default of 24 here
         sw    $fp, 0($sp)       # save frame pointer of caller
         sw    $ra, 4($sp)       # save return address
         addiu $fp, $sp, 20      # setup frame pointer of main

         # for (i = 0; i < mainNumBatters; i++)
         #    compute batting average
         #    compute slugging average

         la    $s0, mainNumBatters
         lw    $s7, 0($s0)       # $s7 = number of batters
         addi  $s6, $zero, 0     # $s6 = i = 0
         la    $s0, mainBatter1  # $s0 = addr of current batter's stats

mainLoopBegin:         
         slt   $t0, $s6, $s7     # $t0 = i < number of batters
         beq   $t0, $zero, mainDone

         la    $a0, mainBatterNumber
         addi  $v0, $zero, 4
         syscall
         addi  $a0, $s6, 1
         addi  $v0, $zero, 1
         syscall
         la    $a0, mainNewline
         addi  $v0, $zero, 4
         syscall

         lw    $a1,  0($s0)      # $a1 = singles
         lw    $a2,  4($s0)      # $a2 = doubles
         lw    $a3,  8($s0)      # $a3 = triples
         lw    $s5, 16($s0)      # $s5 = home runs
         lw    $s4, 12($s0)      # $s4 = outs

         sw    $s4, -4($sp)      # put outs at top of average's stack
         sw    $s5, -8($sp)      # put homeruns 2nd fm top of average's stack
         addi  $a0, $zero, 1     # $a0 = 1 = compute batting average
         jal   average

         # Print the average
         mtc1  $v0, $f12         # get result fm $v0 before we print string
         la    $a0, mainBattingAverage
         addi  $v0, $zero, 4
         syscall
         addi  $v0, $zero, 2     # print the average
         syscall
         la    $a0, mainNewline
         addi  $v0, $zero, 4
         syscall
         syscall

         # do it again for the slugging percentage
         lw    $a1,  0($s0)      # $a1 = singles
         lw    $a2,  4($s0)      # $a2 = doubles
         lw    $a3,  8($s0)      # $a3 = triples
         lw    $s5, 16($s0)      # $s5 = home runs
         lw    $s4, 12($s0)      # $s4 = outs

         sw    $s4, -4($sp)      # put outs at top of average's stack
         sw    $s5, -8($sp)      # put homeruns 2nd fm top of average's stack
         addi  $a0, $zero, 2     # $a0 = 1 = compute batting average
         jal   average

         # Print the slugging percentage
         mtc1  $v0, $f12         # get result fm $v0 before we print string
         la    $a0, mainSluggingPercentage
         addi  $v0, $zero, 4
         syscall
         addi  $v0, $zero, 2     # print the average
         syscall
         la    $a0, mainNewline
         addi  $v0, $zero, 4
         syscall
         syscall

         addi  $s6, $s6, 1       # i++
         addi  $s0, $s0, 20      # $s0 = addr of next batter's stats
         j     mainLoopBegin

mainDone:
         # Epilogue for main -- restore stack & frame pointers and return
         lw    $ra, 4($sp)       # get return address from stack
         lw    $fp, 0($sp)       # restore frame pointer for caller
         addiu $sp, $sp, 24      # restore frame pointer for caller
         jr    $ra               # return to caller

.data
printHitsOuts:
         .asciiz "Outs:     "
printHitsSingles:
         .asciiz "Singles:  "
printHitsDoubles:
         .asciiz "Doubles:  "
printHitsTriples:
         .asciiz "Triples:  "
printHitsHomeruns:
         .asciiz "Homeruns: "
printHitsNewline:
         .asciiz "\n"

.text
printHits:
         # Function prologue
         addiu $sp, $sp, -28     # allocate stack space
         sw    $fp, 0($sp)       # save frame pointer of caller
         sw    $ra, 4($sp)       # save return address
         sw    $a0, 8($sp)       # save $a0 thru $a3
         sw    $a1, 12($sp)
         sw    $a2, 16($sp)
         sw    $a3, 20($sp)
         addiu $fp, $sp, 24      # setup frame pointer of average

         # print the outs
         la    $a0, printHitsOuts
         addi  $v0, $zero, 4
         syscall
         lw    $a0, 24($sp)      # the outs are at the top of our stack
         addi  $v0, $zero, 1
         syscall
         la    $a0, printHitsNewline
         addi  $v0, $zero, 4
         syscall

         # print the singles
         la    $a0, printHitsSingles
         addi  $v0, $zero, 4
         syscall
         lw    $a0, 8($sp)
         addi  $v0, $zero, 1
         syscall
         la    $a0, printHitsNewline
         addi  $v0, $zero, 4
         syscall

         # print the doubles
         la    $a0, printHitsDoubles
         addi  $v0, $zero, 4
         syscall
         addi  $a0, $a1, 0
         addi  $v0, $zero, 1
         syscall
         la    $a0, printHitsNewline
         addi  $v0, $zero, 4
         syscall

         # print the triples
         la    $a0, printHitsTriples
         addi  $v0, $zero, 4
         syscall
         addi  $a0, $a2, 0
         addi  $v0, $zero, 1
         syscall
         la    $a0, printHitsNewline
         addi  $v0, $zero, 4
         syscall

         # print the homeruns
         la    $a0, printHitsHomeruns
         addi  $v0, $zero, 4
         syscall
         addi  $a0, $a3, 0
         addi  $v0, $zero, 1
         syscall
         la    $a0, printHitsNewline
         addi  $v0, $zero, 4
         syscall

printHitsDone:
         # Epilogue for average -- restore stack & frame pointers and return
         lw    $ra, 4($sp)       # get return address from stack
         lw    $fp, 0($sp)       # restore frame pointer for caller
         addiu $sp, $sp, 28      # restore frame pointer for caller
         jr    $ra               # return to caller

# Your code goes below this line

# $s1 = Homeruns = $f6
# Outs = $f8
# atBats = $f10
# $a1 = Singles = $f12
# $a2 = Doubles = $f14
# $a3 = Triples = $f16
# $f20 = Slugging Percentage (Not Divided)
# $f18 = Hits
# $f2 = Batting Average

average:
         # Function prologue
         addiu $sp, $sp, -56     # allocate stack space
         sw    $fp, 0($sp)       # save frame pointer of caller
         sw    $ra, 4($sp)       # save return address
         sw    $a0, 8($sp)       # 1 or 2 ; 1, batting average ; 2, slugging percentage
         sw    $a1, 12($sp)      # Number of Singles
         sw    $a2, 16($sp)      # Number of Doubles
         sw    $a3, 20($sp)      # Number of Triples
         addiu $fp, $sp, 24      # setup frame pointer of average
         sw    $s0, 28($sp)
         sw    $s1, 32($sp)
         sw    $s2, 36($sp)
         sw    $s3, 40($sp)
         sw    $s4, 44($sp)

         # Grab Outs and Homeruns from Top of Main stack
         lw    $s0, 52($sp)      # Number of Outs
         lw    $s1, 48($sp)      # Number of Homeruns

         # Convert Everything to Floating
         mtc1  $s1, $f6       # $f6 = Homeruns
         mtc1  $s0, $f8       # $f8 = Outs
         mtc1  $a1, $f12      # $f12 = Singles
         mtc1  $a2, $f14      # $f14 = Doubles
         mtc1  $a3, $f16      # $f16 = Triples

         # Calculate Hits ($f18)
         add.s $f18, $f12, $f14  # Add Singles and Doubles
         add.s $f18, $f18, $f16  # Add Triples
         add.s $f18, $f18, $f6   # Add Homeruns

         #Calculate atBats ($f10)
         add.s $f10, $f8, $f18   # Add Outs and Hits

         #Check if Batting or Slugging is to be computed
         add $s4, $zero, $zero
         addi $s4, $s4, 2
         beq $s4, $a0, averageSlugging

averageBatting:
         #Skip when atBats = 0
         mfc1 $s3, $f10
         beqz $s3, averageFinish

         #Calculate Batting Average ($f4)
         div.s $f4, $f18, $f10  # Divide Hits by atBats
         j averageFinish

averageSlugging:
         #Skip when atBats = 0
         mfc1 $s3, $f10
         beqz $s3, averageFinish

         #Calculate Slugging Average ($f0)
         add.s $f20, $f12, $f14       # $f20 = Singles + Doubles
         add.s $f20, $f20, $f14       # $f20 = Singles + Doubles*2
         add.s $f20, $f20, $f16       # $f20 = Singles + Doubles*2 + Triples
         add.s $f20, $f20, $f16       # $f20 = Singles + Doubles*2 + Triples*2
         add.s $f20, $f20, $f16       # $f20 = Singles + Doubles*2 + Triples*3
         add.s $f20, $f20, $f6       # $f20 = Singles + Doubles*2 + Triples*3 + Homeruns
         add.s $f20, $f20, $f6       # $f20 = Singles + Doubles*2 + Triples*3 + Homeruns*2
         add.s $f20, $f20, $f6       # $f20 = Singles + Doubles*2 + Triples*3 + Homeruns*3
         add.s $f20, $f20, $f6       # $f20 = Singles + Doubles*2 + Triples*3 + Homeruns*4

         div.s $f4, $f20, $f10    # Divide Hits by atBats

averageFinish:
         #Call printHits
         add $a0, $a1, $zero     # $a0 = Singles
         add $a1, $a2, $zero     # $a1 = Doubles
         add $a2, $a3, $zero     # $a2 = Triples
         add $a3, $s1, $zero     # $a3 = Homeruns
         sw  $s0, -4($sp)        # Outs at the top of printHits Stack

         jal printHits

         #Prepare for Return
         mfc1 $v0, $f4
         mtc1  $zero, $f4       # $f4 = 0

         # Epilogue for average -- restore stack & frame pointers and return
         lw    $ra, 4($sp)       # get return address from stack
         lw    $fp, 0($sp)       # restore frame pointer for caller
         lw    $a0, 8($sp)       # 1 or 2 ; 1, batting average ; 2, slugging percentage
         lw    $a1, 12($sp)      # Number of Singles
         lw    $a2, 16($sp)      # Number of Doubles
         lw    $a3, 20($sp)      # Number of Triples
         lw    $s0, 28($sp)
         lw    $s1, 32($sp)
         lw    $s2, 36($sp)
         lw    $s3, 40($sp)
         lw    $s4, 44($sp)
         addiu $sp, $sp, 56      # restore frame pointer for caller
         jr    $ra               # return to caller 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T15:19:34.097

您的问题是您正在混合整数和浮点算术。您的输入数字表示为整数。然后将它们放入浮点寄存器并对其进行操作。但是，您没有将它们转换为浮点表示。

对于小数，加法和除法工作正常（您只加或除尾数）。但是，当任何算术运算中涉及的数字的指数不同时，该运算将产生错误的结果。

您应该做的是在执行浮点运算之前将数字的整数表示形式转换为浮点表示形式。在 MIPS 中，这是通过`cvt.s.w`指令完成的。

因此，基本上，您必须在每次`mtc1`发布后添加以下转换之一：

```
 # Convert Everything to Floating
     mtc1  $s1, $f6       # $f6 = Homeruns
     cvt.s.w $f6, $f6     # (convert to floating point)
     mtc1  $s0, $f8       # $f8 = Outs
     cvt.s.w $f8, $f8
     mtc1  $a1, $f12      # $f12 = Singles
     cvt.s.w $f12, $f12
     mtc1  $a2, $f14      # $f14 = Doubles
     cvt.s.w $f14, $f14
     mtc1  $a3, $f16      # $f16 = Triples
     cvt.s.w $f16, $f16 
```

# android - 如何获取在 AutoCompleteTextView 中选择的文本的索引

> ID：13467647
> 
> 赞同：19
> 
> 时间：2012-11-20T06:25:14.283
> 
> 标签：android, autocompletetextview

```
AutoCompleteTextView mActv = (AutoCompleteTextView) findViewbyId(R.id.m_actv);
ArrayAdapter<String> AutoCompleteAdapter = new ArrayAdapter<String>(this,
                    R.layout.dropdown_text, Names);
mActv.setAdapter(AutoCompleteAdapter); 
```

**名称**是一个字符串数组。

是否可以获得从下拉列表中选择的文本的**索引？**

谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-20T06:31:22.683

只需将`OnItemClickListener`（对于单击的项目）或`OnItemSelectedListener`（对于使用轨迹球，向上/向下键选择的项目）添加到`AutoCompleteTextView`

```
mActv.setOnItemClickListener(new OnItemClickListener() {

        @Override
        public void onItemClick(AdapterView<?> parent, View arg1, int pos,
                long id) {
              String item = arg1.getItemAtPosition(pos);
               //your stuff
           }
    }); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-11-18T08:55:42.823

为 AutoCompleteTextView 实现 onItemClickListener，然后在列表中使用 indexOf 来查找所选项目的索引。

```
actvCity.setOnItemClickListener(new OnItemClickListener() {

     @Override
     public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,
          long arg3) {
          int index = cityNames.indexOf(actvCity.getText().toString());
          // Do Whatever you want to do ;)
     }
}); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-20T06:29:34.850

试试[`AutoCompleteTextView#getListSelection()`](http://developer.android.com/reference/android/widget/AutoCompleteTextView.html#getListSelection%28%29)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-07-07T07:00:37.080

```
Item.setOnItemClickListener(new AdapterView.OnItemClickListener() {
                @Override
                public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
                    //// id contains item if from database
                    ItemNoSelected = id;
                }
            }); 
```

id 来自数据库，我们可以使用它

# php - 为 SSL 配置 cURL

> ID：13467648
> 
> 赞同：6
> 
> 时间：2012-11-20T06:25:23.783
> 
> 标签：php, ssl, curl

我们的网站最近从 http 转移到 https。它有我们的客户调用的 REST API 调用，现在无法正常工作：

SSL 之前的 cURL（工作）：

```
$ch = curl_init();

curl_setopt($ch,CURLOPT_URL,$api_call_url);
curl_setopt($ch,CURLOPT_POST,1);
curl_setopt($ch,CURLOPT_POSTFIELDS,$post_fields);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); 

$result = curl_exec($ch);

curl_close($ch); 
```

SSL后的cURL（不工作）：

```
$ch = curl_init();

curl_setopt($ch,CURLOPT_URL,$api_call_url);
curl_setopt($ch,CURLOPT_POST,1);
curl_setopt($ch,CURLOPT_POSTFIELDS,$post_fields);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 1);
curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 2);
curl_setopt($ch, CURLOPT_CAINFO, "/customers_path_on_their_server/to/our_cacert_they_exported_via_firefox.crt");   //X.509 Certificate

$result = curl_exec($ch);

curl_close($ch); 
```

除了要求客户端在他们的 REST 集成代码上添加 CURLOPT_SSL_VERIFYPEER、CURLOPT_SSL_VERIFYHOST、CURLOPT_CAINFO 之外，我是否需要在我们的服务器上设置任何内容？

我真的是 https 的新手，我不知道我需要搜索的确切术语是什么，已经搜索了几个小时的 cURL SSL...

顺便说一句，如果该信息很重要，我们的网站正在使用亚马逊 ec2 托管...

这是返回的 cURL 错误：

```
 error:SSL certificate problem, verify that the CA cert is OK. Details: error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed 
```

* * *

卷曲版本：7.21.6

SSL 版本：OpenSSL/1.0.0e

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-09-18T15:09:57.603

**不要像其他人经常建议的那样关闭对等和主机验证。** 对于真正的问题，这是一个不安全的解决方法。这些功能的存在是有充分理由的：因此您可以通过第 3 方相信您正在连接的系统是您所期望的。

首先查找您的操作系统是否包含证书目录。通常会包括证书颁发机构。例如，在 Ubuntu 上，它通常位于目录`/etc/ssl/certs`中，而基于 Red Hat 的发行版会将其包含在`/etc/pki/tls/certs`. 如果此目录存在，请设置 CA 路径参数：

```
curl_setopt($ch, CURLOPT_CAPATH, '/etc/ssl/certs'); 
```

或者，您可以引用单个 CA 证书文件。在您的项目中包含一个 cacert.pem 文件或将其安装在您的服务器上。从受信任的来源下载，例如 cacert.org。对于单个文件，不要设置 CAPATH，而只设置 CAINFO：

```
curl_setopt($ch, CURLOPT_CAINFO, '/path/to/cacert.pem'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-05-15T19:40:22.747

为了扩展马特的答案，这两个 cURL 设置`CURLOPT_CAPATH`并`CURLOPT_CAINFO`执行不同的功能和行为完全不同。

**`CURLOPT_CAINFO`**指单个文件，可以是证书捆绑包，也可以是不太常见的单个证书。该值可以（并且应该）在`php.ini`使用[`curl.cainfo`指令](https://www.php.net/manual/en/curl.configuration.php#ini.curl.cainfo)时永久设置。

证书捆绑只是一堆连接在一起的证书，表明哪个 CA 的发行是受信任的。如果您没有，您的操作系统可能会提供一个可以安装的软件包。在 RHEL 上，可以`yum install ca-certificates`使用`apt install ca-certificates`. 如果您的操作系统不提供包，cURL 的制造商会提供[一个下载链接](https://curl.haxx.se/docs/caextract.html)，指向由 Mozilla 创建的包。

**`CURLOPT_CAPATH`**指持有个人证书的目录。如果您的请求的主机名与证书的公用名匹配，则 cURL 可以使用此目录中的证书。但是，**重要的是要注意[这不会自动发生](https://stackoverflow.com/a/39177957/1255289)**。如果设置 CA 路径，则必须确保要在该目录中使用的任何证书都具有适当命名的符号链接（见下文。）

* * *

因此，将它们放在一起，我们得到以下典型设置。

将 cURL 永久指向系统捆绑包，使用如下内容`php.ini`：

```
[curl]
; for RHEL
curl.cainfo=/etc/pki/tls/certs/ca-bundle.crt
; for Debian/Ubuntu
curl.cainfo=/etc/ssl/certs/ca-certificates.crt 
```

这就是使用受信任的 CA 颁发的证书（即互联网上的几乎所有内容）连接到公共服务器所需要做的所有事情。如果这就是你所需要的，那么你就完成了。

对于其余情况，例如连接到使用公司 CA 颁发的证书的设备，请确保您已将相关证书复制到目录并正确设置符号链接名称：

```
#!/bin/bash
cd /path/to/my/certs/
for c in *.crt; do ln -s "$c" "$(openssl x509 -hash -noout -in "$c").0"; done 
```

然后使用此 cURL 选项在您的代码中设置 CA 路径：

```
<?php
$ch = curl_init("https://some.device.internal");
curl_setopt($ch, CURLOPT_CAPATH, "/path/to/my/certs/");
$result = curl_init($ch); 
```

# mysql - 如何合并两个 MySQL 表

> ID：13467651
> 
> 赞同：3
> 
> 时间：2012-11-20T06:25:36.813
> 
> 标签：mysql, sql, merge

**区域**表

```
view    state         region
EB1     TamilNadu     Chennai-North
EB2     AndhraPradesh     Guntur 
```

**国家**表

```
view    code    country   state
EB1     +91     India     TamilNadu
EB2     +91     India     AndhraPradesh
EB3     +91     India     Delhi
EB4     +91     India     Delhi 
```

我想根据表中不存在的视图合并这些`region`表。

**结果**表必须如下所示：

```
view    code    country   state
EB3     +91     India     Delhi
EB4     +91     India     Delhi 
```

（其中`EB1`，`EB2`存在于`region`表中）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:32:06.980

你需要使用`LEFT JOIN`它。您需要 table 上不存在的值`region`。所以你需要使用`WHERE r.view IS NULL`. 你的整个查询应该是：

```
 SELECT c.*
     FROM country c
LEFT JOIN region r
       ON c.view = r.view
    WHERE r.view IS NULL 
```

### [看到这个 SQLFiddle](http://sqlfiddle.com/#!2/3e9ca/2)

**更新**

如果要创建一个名为的新表`result`并希望在该表中添加这些值，可以使用以下查询：

用于创建新表：

```
CREATE TABLE result
    (`view` varchar(3), `code` varchar(4)
     , `country` varchar(5), `state` varchar(13))
; 
```

在该表上插入值：

```
INSERT INTO result (`view`, `code`, `country`, `state`)
      SELECT c.view, c.code, c.country, c.state
        FROM country c
   LEFT JOIN region r
          ON c.view = r.view
       WHERE r.view IS NULL 
```

### [看到这个 SQLFiddle](http://sqlfiddle.com/#!2/25e47/1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T06:46:43.233

如果要创建一个新表：

```
CREATE TABLE new_table (
  SELECT * FROM country
  WHERE view NOT IN (
    SELECT view FROM region
  )
) 
```

或者，如果您只想创建一个视图，请使用相同的查询，替换`CREATE TABLE`by `CREATE VIEW AS`。

# c# - 如何使用谷歌日历 api 创建谷歌日历并为多个用户共享

> ID：13467653
> 
> 赞同：12
> 
> 时间：2012-11-20T06:25:46.627
> 
> 标签：c#, google-calendar-api

我想使用 Google Calendar API 创建一个 Google 日历并与**多个用户**共享（在 C# 中）。

[Google Calendar API v2 开发者指南：.NET](https://developers.google.com/google-apps/calendar/v2/developers_guide_dotnet)

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-20T06:30:31.527

您应该注意参考文档的[这一部分](https://developers.google.com/google-apps/calendar/v2/developers_guide_dotnet#AddAcl)。

**编辑：** 原始链接不再有效，请参阅[共享和与会者](https://developers.google.com/google-apps/calendar/concepts/sharing)文档。

# twilio - 如何最好地向出队呼叫者发出呼叫现在与 Twilio 桥接的信号？

> ID：13467654
> 
> 赞同：5
> 
> 时间：2012-11-20T06:25:58.007
> 
> 标签：twilio, twilio-twiml

我有一个呼叫队列，我正在为移动代理（手机或下班后在家）提供服务，当呼叫在队列中时会被寻呼。他们拨打将他们连接到队列的号码并向等待的用户传递 url 选项示例：

```
<?xml version="1.0" encoding="UTF-8"?>
<Response>
<Dial>
<Queue url="about_to_connect.xml">support</Queue>
</Dial>
</Response> 
```

所以我的问题是如何最好地提示代理呼叫已桥接。目前，他们正在听到静默，如果他们呼叫并且其他人已经抓住队列中唯一的呼叫者并且他们正在等待超时值，这也是将会发生的事情。我希望我可以发出音调或某种类型的信号，以便他们知道何时通过说“你好”来回答，这是这样的，一旦呼叫被桥接到等待的呼叫者。

当然，我可以训练代理了解他们连接之前需要多长时间。我还可以更改播放给排队呼叫者的消息以宣布他们自己，但是当这不是电话会议而是 2 方桥接电话时，这似乎很奇怪。

帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-06-24T22:04:23.383

Twilio 开发人员布道者在这里，

看起来您遇到的问题可以通过添加更多[Twiml 动词](https://www.twilio.com/docs/api/twiml?utm_source=stackoverflow&utm_medium=june2015&utm_campaign=stackathon)来提醒调用者来解决。您可以使用[Say](https://www.twilio.com/docs/api/twiml/say&utm_medium=june2015&utm_campaign=stackathon)命令执行此操作，方法是让机器人通过电话线语音朗读文本，或使用[Play](https://www.twilio.com/docs/api/twiml/play&utm_medium=june2015&utm_campaign=stackathon)命令播放预先录制的声音。

使用一些原始 Twiml 的示例可能如下所示：

```
<Response>
    <Say>You are now being bridged to a caller</Say>
    <Dial>
        <Queue url="about_to_connect.xml">support</Queue>
    </Dial>
</Response> 
```

如果您需要有关 Queue 动词的更多帮助，可以查看我们的[Call Queue How-To](https://www.twilio.com/docs/howto/callqueue&utm_medium=june2015&utm_campaign=stackathon)，其中包括示例代码和 Twiml。

# c++ - 在 C# 中调用类的方法

> ID：13467655
> 
> 赞同：2
> 
> 时间：2012-11-20T06:26:04.733
> 
> 标签：c++, qt

抱歉，如果这真的很愚蠢，但我就是不知道该怎么做。

我已经用 C# 编程多年了。今天我想我会第一次尝试一些 C++ 并安装 Qt for windows。

我正在尝试编写一个控制台应用程序，它输出来自 Project Euler 问题的结果。

设法通过将字符串值输出到控制台后，`cout`我想让我们创建一个类并将问题作为静态方法，就像我在 C# 中所做的那样......但我不知道如何调用我创建的类。到目前为止，我在网上搜索了一个多小时并没有给我任何有用的信息。

我有：

```
#include <iostream>
using namespace std;

void main()
{
    problems p = new problems ();

    std::cout << "Hello" << "\n";
} 
```

这绝对行不通。我想是因为我需要一些`using`或`include`声明来访问课程......

类头：

```
#ifndef PROBLEMS_H
#define PROBLEMS_H

class problems
{
public:
    static long problem1();
};

#endif // PROBLEMS_H 
```

和类cpp：

```
long problems::problem1()
{
        long output = 0;

        for (int i = 1; i < 1000; i++)
            if (i % 3 == 0 || i % 5 == 0)
                output += i;

        return output;
} 
```

我在类声明中没有收到任何错误，所以我想这一定是正确的（但我当然不确定......）。最终，我想在 如何使这项工作中打印输出`problem1()`而不是“Hello” ？`main()`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T06:28:39.347

**编辑**这回答了原始问题，其中`problems::problem1`方法是静态的。

您不需要实例来调用静态方法：

```
#include <iostream>
#include "header_with_problems_declaration.h"    

void main()
{

    std::cout << problems::problem1() << "\n";
} 
```

对于非静态方法，您可以执行类似的操作

```
#include <iostream>
#include "header_with_problems_declaration.h"    

void main()
{
    problems p
    std::cout << p.problem1() << "\n";
} 
```

请注意，没有动态分配`new`. 在这种情况下，似乎没有理由这样做。

您还需要包含相关的头文件，编译实现，并将其链接到主文件中。如何做到这一点取决于您的构建系统。

在 C++ 中，除非静态方法确实与类相关，否则您将在命名空间中放置一个非成员函数：

```
namespace problems
{
  long problem1() { ..... }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T06:31:45.290

为了包含 .h 文件并访问您需要的类`#include`：

```
#include "problems.h" 
```

New 创建一个指针，因此您需要通过指针访问该方法：

```
problems *p = new problems ();
long x = p->problem1(); 
```

您也可以像这样访问它：

```
problems p = problems();
long x = p.problem1(); 
```

# perl - 为什么这个错误？系统在应用程序的消息文件中找不到消息号 0x2331 的消息文本

> ID：13467657
> 
> 赞同：1
> 
> 时间：2012-11-20T06:26:25.337
> 
> 标签：perl, cmd

系统在应用程序的消息文件中找不到消息号 0x2331 的消息文本。我尝试使用'system（“ren ref.txt ref1.txt”）从perl程序中重命名文件；' 虽然我之前已经关闭了 ref.txt 的文件处理程序

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-21T07:12:47.547

参考：[http ://www.febooti.com/products/automation-workshop/online-help/events/run-dos-cmd-command/exit-codes/](http://www.febooti.com/products/automation-workshop/online-help/events/run-dos-cmd-command/exit-codes/)

`0x2331`方法`Program is not recognized as an internal or external command, operable program or batch file.`

`ren`是命令行功能，不是独立程序。尝试

```
system("cmd /k ren ref.txt ref1.txt"); 
```

代替

```
system("ren ref.txt ref1.txt"); 
```

# android - 禁用 mapView 的硬件加速会导致不断重绘

> ID：13467664
> 
> 赞同：6
> 
> 时间：2012-11-20T06:27:21.193
> 
> 标签：android, colors, background, hardware, acceleration

**短版：** 在 xml 中使用 android:hardwareAccelerated="false" 禁用硬件加速会将我的 Theme.Sherlock.Light.DarkActionBar 主题的背景颜色更改为更白的“白色”。 *编辑：这曾经是主要问题。我更改了标题以强调第二个问题。*

仅对 mapView 禁用硬件加速会导致不断重绘。

**长版：**

默认情况下，AFAIK 硬件加速在 API 级别 14 及更高级别上启用。[（参考）](https://stackoverflow.com/questions/11460958/canvas-not-displaying-all-drawn-parts-in-custom-view)

由于我正在构建和测试 API 级别 16，因此我的硬件加速通常是开启的，所以这就是我习惯看到的。主题是浅色但不是纯白色，它是浅灰色（默认）。

我在地图上绘制了一些圆形叠加层，当我放大关闭时，地图视图变得非常滞后，并且在 logcat 中出现“太大而无法渲染为纹理”的形状错误。我发现关闭硬件加速可以解决问题。

当我在 android 清单中为应用程序（或单个活动）关闭硬件加速时，我的布局的背景颜色会发生变化。它从浅灰色变为非常浅的灰色，几乎是纯白色。这是正常行为吗？

我尝试为地图视图关闭硬件加速：

```
if(android.os.Build.VERSION.SDK_INT>=11) {
mapView.setLayerType(View.LAYER_TYPE_SOFTWARE, null); } 
```

这对于消除纹理过大的错误非常有效，因为地图视图没有硬件加速，并且它还使我的应用程序的其余部分硬件加速。**这将是理想的解决方案。**然而，这会导致另一个问题。它使我使用此代码的叠加层的 onDraw 方法不断被调用。即，onDraw 本身被一遍又一遍地调用，而不在 mapview 上调用 invalidate()。知道为什么会这样吗？

**更新：**

下面是一些简单的代码，当仅为mapView（我想要的）禁用硬件加速时，将重新创建常量重绘问题：

**地图活动：**

```
public class SettingsActivity extends MapActivity {

private MapView mapView;
private static List<Overlay> overlayList;
private static AccuracyCircleOverlay accuracyCircleOverlay;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_manage_maps);

    mapView = (MapView) findViewById(R.id.map);

    overlayList = mapView.getOverlays();
    accuracyCircleOverlay = new AccuracyCircleOverlay(this);
    overlayList.add(accuracyCircleOverlay);
}

@Override
protected boolean isRouteDisplayed() {
    return false;
}
} 
```

**覆盖：**

```
public class AccuracyCircleOverlay extends Overlay {

private Context context;

public AccuracyCircleOverlay(Context context) {
    this.context = context;
}

@TargetApi(11)
@Override
public void draw(Canvas canvas, MapView mapView, boolean shadow) {
    super.draw(canvas, mapView, shadow);

    if (android.os.Build.VERSION.SDK_INT >= 11) {
        mapView.setLayerType(View.LAYER_TYPE_SOFTWARE, null);
    }                 
            Log.d("accuracy OVERLAY", "being redrawn");
}
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T21:17:17.527

我终于意识到问题所在了。**将 mapView 的图层类型设置为软件不应该从覆盖的绘制方法内部完成！**这样做似乎会触发另一次平局，从而导致循环。我将以下代码放在包含 mapView 的 Activity 的 onCreate 中，并且它可以正常工作。它告诉 mapView 在软件模式下渲染而不会导致不断的重绘！

活动中：

```
if (android.os.Build.VERSION.SDK_INT >= 11) {
    mapView.setLayerType(View.LAYER_TYPE_SOFTWARE, null);
} 
```

或者在 XML 中：

```
<com.google.android.maps.MapView
        ...
        android:layerType="software" /> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-10T22:15:57.780

我很欣赏这个答案并没有解决您问题的重点（我理解这是在质疑为什么`MapView`关闭硬件加速时相关的覆盖层会不断重绘 - 我承认，我真的不知道为什么）。但是，正如 ndw 建议的那样，我认为您应该打开加速，而是专注于限制您在叠加层中实际绘制的内容的大小。

这正是我现在正在处理的应用程序中必须做的事情。我在我`Path`的顶部画了一个`MapView`来说明来自 GPS 数据日志的路线。如果我放大得太远，`Path`突然消失，我在 LOGCAT 中收到警告说“形状路径太大而无法渲染成纹理”，就像你一样。我修复它的解决方案是`Path`在地图的每个缩放中重新生成 （考虑到这一点，无论如何都需要完成，因为在每个缩放级别上，您获得的实际像素位置`Projection`明显不同）。当`Path`由您所基于的任何数据（例如`GeoPoint`s 集）生成时，请使用`Projection`类来确定是否有任何路径段等远离地图并且应该离开（这就是我对 GPS 路线所做的事情）。如果您有单个矢量对象本身可能会变得太大（例如圆圈），那么我建议您设计代码，以便如果圆圈的任何区域落在地图内，它将包括圆圈，但还包括一些逻辑如果在高缩放级别，只需在可见区域中绘制该圆表面的一小部分（例如通过绘制正方形）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-10T19:16:01.093

我不认为更改是颜色特定于您的代码，我经历过同样的事情。

在没有 GPU 仿真和 holo_light 主题的情况下运行模拟器，您将获得白色背景，使用 GPU 仿真运行，您将获得浅灰色背景。

也就是说，我不认为禁用硬件加速是解决 mapview 问题的正确方法。我会尝试找出您尝试渲染的形状太大的原因，以及是否可以采取任何措施使其变小。

# android - 如何检测上一个屏幕或 Activity 是 WebView 还是 BrowserActivity ？（安卓）

> ID：13467665
> 
> 赞同：0
> 
> 时间：2012-11-20T06:27:20.793
> 
> 标签：android, android-activity, android-webview

我有一个非常简单的问题 -**有什么方法可以检测上一个屏幕或 Activity 是 WebView 还是 BrowserActivity**（例如 LinkedIn 身份验证页面等）？

假设我有**Activity A**和**Activity B**。我从 Activity A 启动 Activity B。现在从 Activity B，我启动一个**WebView 或 BrowserActivity**（在我的例子中是 LinkedIn 身份验证页面）。所以用户可以从这个 WebView 返回到 Activity B。因此，我们可以从 2 个不同的屏幕进入 Activity B——无论是从 Activity A 还是从 WebView。**我只想知道我是从 Activity A 还是从那个 WebView 进入 Activity B 的。**

我已经搜索了很多关于它但找不到任何东西。恐怕它甚至不可能。请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T08:24:28.690

如果您将一些额外的数据放入`Intent`从. 然后在 B 中，您将能够检查这些数据是否存在，如果存在，您可以假设 B 是从 A 开始的。`Activity B``Activity A``onCreate`

`startActivityForResult`您也可以使用.从 B 开始一个活动 C。然后你会知道当你的 B`onActivityResult`被调用时你从 C 回到了 B（你必须检查请求 id）

# iphone - 无法将图像发布到 Instagram 应用

> ID：13467666
> 
> 赞同：1
> 
> 时间：2012-11-20T06:27:33.960
> 
> 标签：iphone, objective-c

我正在开发一个需要将图像发布到 Instagram 的应用程序。我跟着这些[链接](http://instagram.com/developer/iphone-hooks/)1和 [链接2](http://instagram.com/developer/api-console/)

但是，这对我不起作用。之后，我找到了这个链接： [如何在 iOS 中的 Instagram 上分享图片？](https://stackoverflow.com/questions/11393071/how-to-share-an-image-on-instagram-in-ios)

我根据这个进行了更改，但它没有发布图像。这是我的代码：

```
CGRect rect = CGRectMake(0 ,0 , 100, 100);

UIGraphicsBeginImageContextWithOptions(self.view.bounds.size, self.view.opaque, 0.0);

[self.view.layer renderInContext:UIGraphicsGetCurrentContext()];

UIGraphicsEndImageContext();

NSString *staticPath = [[NSBundle mainBundle] pathForResource:@"JB" ofType:@"igo"];
NSString *path_font = [staticPath stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];
NSString *fileAppend = [[NSString alloc] initWithFormat:@"file://"];
path_font = [[NSString alloc] initWithFormat:@"%@%@", fileAppend, path_font];

NSLog(@"path_font----%@",path_font);
NSLog(@"filepath_static image----%@",filepath_static);

NSURL *igImageHookFile = [[NSURL alloc] initWithString:path_font];

NSLog(@"igImageHookFile url is---%@",igImageHookFile);

self.dic.UTI = @"com.instagram.photo";

self.dic = [self setupControllerWithURL:igImageHookFile usingDelegate:self];

self.dic=[UIDocumentInteractionController interactionControllerWithURL:igImageHookFile];

[self.dic presentOpenInMenuFromRect: rect    inView: self.view animated: YES ]; 
```

任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-12T21:38:03.683

[https://github.com/coryalder/DMActivityInstagram](https://github.com/coryalder/DMActivityInstagram)实际上确实提供了一个通过 UIActivity 控件将图像发布到 instagram 的非常好的示例，但您当然只能使用发布部分。

希望有帮助。

# .htaccess - .htaccess 重写规则 - 无法获取第二个参数

> ID：13467667
> 
> 赞同：2
> 
> 时间：2012-11-20T06:27:47.033
> 
> 标签：.htaccess, mod-rewrite

我刚刚开始使用 .htaccess 以使我的 URL 看起来不错。

下面的第一个重写器工作正常：**example.com/user/100**调用**example.com/index.php?p=profile&user=100**就像它应该的那样。

然而，第二个并没有按照我想要的方式工作。由于某种原因，我无法获取 $2 参数。我希望**example.com/discussion/1873/iehf8383**重定向到**example.com/index.php?p=discussion&id=1873&token=iehf8383**

这是.htaccess：

```
Options +FollowSymLinks
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{SCRIPT_FILENAME} !-d
RewriteCond %{SCRIPT_FILENAME} !-f
RewriteRule ^user/(\d+)*$ ./index.php?p=profile&user=$1
RewriteRule ^discussion/(\d+)/(\d+)*$ ./index.php?p=discussion&id=$1&token=$2 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:30:48.230

由于`\d`匹配一个数字，您的示例将不匹配第二条规则。试试这个：

```
RewriteRule ^quiz/(\d+)/([\w\d]+) ./index.php?p=discussion&id=$1&token=$2 
```

这将允许您的令牌包含任何字母数字字符，而不是仅限于数字。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T06:30:21.087

改变 ：

```
RewriteRule ^quiz/(\d+)/(\d+)*$ ./index.php?p=discussion&id=$1&token=$2 
```

至：

```
RewriteRule ^quiz/(\d+)/([^/]+)$ index.php?p=discussion&id=$1&token=$2 
```

# javascript - facebook 使用哪种技术显示图像？

> ID：13467668
> 
> 赞同：6
> 
> 时间：2012-11-20T06:27:49.660
> 
> 标签：javascript, jquery, facebook

正如我们所见，当我们点击 Facebook 中的图片缩略图时，它会在叠加层中加载完整图片。我只是想知道这个工具到底是什么。

据我了解，这显然不是使用任何“jQuery modal”来显示图像，因为您可以看到覆盖占用屏幕并且滚动条根据覆盖的大小而不是页面本身进行调整，这不在jQuery 模态的案例。我还查找了一些模态，例如[Eric martin 的简单模态](http://www.ericmmartin.com/projects/simplemodal/)，但没有运气。

有没有人知道有什么插件可以实现这种类似 Facebook 的效果？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T10:29:49.817

I expect Facebook have written their own client-side libraries for doing things, rather than using out-of-the-box plugins like jQuery modals.

Just by observing the behaviour I would expect their script

(a) checks the size of the widow (as popups will scale down to fill the viewport), then (b) checks the size of the image itself

... and, after leaving room for comments and ads / etc, figures out exactly what size to set the containing div for the overlay. The image itself is then scaled to fit within the available space.

Regarding having scrollbars inside the overlay itself, this can be achieved on any element with a fixed size (i.e. set height / width) using the css `overflow: auto;`. Any block element with that style will display scrollbars if the content is larger than the dimensions of the element.

# php - “mbstring.script_encoding”配置的使用

> ID：13467672
> 
> 赞同：1
> 
> 时间：2012-11-20T06:28:25.737
> 
> 标签：php, mbstring

“mbstring.script_encoding”配置的用途是什么？它与 mbstring.internal_encoding 不同吗？

[http://php.net/manual/en/mbstring.configuration.php](http://php.net/manual/en/mbstring.configuration.php)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T10:39:32.373

现在是`zend.script_encoding`。让我给你看一个例子。

我有一个用 CP1251 编写的脚本。

```
// script encoded as ANSI. var_dump() says false
var_dump(mb_check_encoding('Кириллица', 'UTF-8'));

$input = $_GET['internalInput'];
var_dump(mb_check_encoding($input, 'UTF-8')); 
```

在我的 INIes 中，我已经有了配置：

```
mbstring.encoding_translation = On
mbstring.internal_encoding = UTF-8 
```

## 脚本测试

```
bool(false) 
bool(true) 
```

`$input`西里尔字符串在哪里`%D0%F3%F1%F1%EA%E8%E9`。

* * *

现在让我们更改脚本编码的配置。在`php.ini`（或另一个 INIes。这取决于您的系统配置）中，您可以找到类似的行

```
; If enabled, scripts may be written in encodings that are incompatible with
; the scanner.  CP936, Big5, CP949 and Shift_JIS are the examples of such
; encodings.  To use this feature, mbstring extension must be enabled.
; Default: Off
zend.multibyte = On

; Allows to set the default encoding for the scripts.  This value will be used
; unless "declare(encoding=...)" directive appears at the top of the script.
; Only affects if zend.multibyte is set.
; Default: ""
zend.script_encoding = CP1251 
```

默认情况下，所有这些行都被注释掉。在这里，我将`multibyte`脚本`On`编码设置为`CP1251`. 再做一次测试。

## 脚本测试

```
bool(true) 
bool(true) 
```

* * *

所以......我们只是轻松地迁移到 UTF-8 :)

# javascript - 如何在包含json响应的javascript中迭代并获取数组的值

> ID：13467673
> 
> 赞同：2
> 
> 时间：2012-11-20T06:28:27.110
> 
> 标签：javascript, jquery, for-loop

> **可能重复：**
> [我有一个嵌套数据结构/JSON，如何访问特定值？](https://stackoverflow.com/questions/11922383/i-have-a-nested-data-structure-json-how-can-access-a-specific-value)

这是我的 ajax 调用的 js 代码

```
var UserArr = new Array();
    $.ajax({
                type: 'POST',
                data: postJSONData,
                url: 'PrivateSpace.asmx/GetUserDetails',
                dataType: 'json',
                async: false,
                contentType: 'application/json; charset=utf-8',
                success: function success(response) {
                debugger;
                UserArr = response.d;

                },
                error: function failure(response) {
                    alert('failed');
                }
            }); 
```

例如：UserArr 将是这样的：

```
[0] will have userid: 101, username: jack
[1] will have userid: 102, username: jones 
```

我试过这样，但它似乎不起作用

```
for (var i = 0; i < UserArr.length; i++) {     

            User_ID = // i couldn get like UserArr.userid
            Name = // i couldn get like UserArr.username
     } 
```

请帮帮我..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:30:18.423

鉴于您提供的有关对象外观的信息是正确的，您不能通过 访问它`UserArr.userid`，而是通过访问它。`UserArr[i].userid`

另一种迭代数组的方法是使用`Array.forEach`

```
UserArr.forEach(function(user) {
    alert(user.userid);
}); 
```

不过，您需要为旧版浏览器使用 shim；[请参阅此 SO 答案](https://stackoverflow.com/a/2790686/133802)中的 MDC 后备，以很好地解决某些浏览器的缺点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T06:30:22.383

您的数据看起来是`array of objects`.. 的形式。试试这种方式..

```
User_ID = UserArr[i].userid
Name = UserArr[i].username 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T06:30:34.113

`UserArr`没有`userid`财产。数组的每个*索引*都有一个`userid`属性。

```
for (var i = 0; i < UserArr.length; i++) {     
    User_ID = UserArr[i].userid;
    Name = UserArr[i].username;
} 
```

# recursion - 确定递归函数的复杂度（大 O 表示法）

> ID：13467674
> 
> 赞同：363
> 
> 时间：2012-11-20T06:28:37.130
> 
> 标签：recursion, big-o, complexity-theory

我明天有一个计算机科学期中考试，我需要帮助确定这些递归函数的复杂性。我知道如何解决简单的情况，但我仍在努力学习如何解决这些更难的情况。这些只是我无法弄清楚的几个示例问题。任何帮助将不胜感激，并将极大地帮助我的学习，谢谢！

```
int recursiveFun1(int n)
{
    if (n <= 0)
        return 1;
    else
        return 1 + recursiveFun1(n-1);
}

int recursiveFun2(int n)
{
    if (n <= 0)
        return 1;
    else
        return 1 + recursiveFun2(n-5);
}

int recursiveFun3(int n)
{
    if (n <= 0)
        return 1;
    else
        return 1 + recursiveFun3(n/5);
}

void recursiveFun4(int n, int m, int o)
{
    if (n <= 0)
    {
        printf("%d, %d\n",m, o);
    }
    else
    {
        recursiveFun4(n-1, m+1, o);
        recursiveFun4(n-1, m, o+1);
    }
}

int recursiveFun5(int n)
{
    for (i = 0; i < n; i += 2) {
        // do something
    }

    if (n <= 0)
        return 1;
    else
        return 1 + recursiveFun5(n-5);
} 
```

* * *

## 回答 #1

> 赞同：499
> 
> 时间：2012-11-20T06:37:40.307

每个函数的时间复杂度，用大 O 表示法：

* * *

```
int recursiveFun1(int n)
{
    if (n <= 0)
        return 1;
    else
        return 1 + recursiveFun1(n-1);
} 
```

在达到基本情况之前，此函数被递归调用 n 次，因此`O(n)`通常称为**线性函数**。

* * *

```
int recursiveFun2(int n)
{
    if (n <= 0)
        return 1;
    else
        return 1 + recursiveFun2(n-5);
} 
```

这个函数每次调用n-5，所以我们在调用函数之前从n中减去5，但是n-5也是`O(n)`。（实际上称为 n/5 次。并且，O(n/5) = O(n) ）。

* * *

```
int recursiveFun3(int n)
{
    if (n <= 0)
        return 1;
    else
        return 1 + recursiveFun3(n/5);
} 
```

这个函数是以 5 为底的 log(n)，每次我们在调用函数之前除以 5，所以它的`O(log(n))`(以 5 为底)，通常称为**对数**，最常见的大 O 表示法和复杂性分析使用以 2 为底。

* * *

```
void recursiveFun4(int n, int m, int o)
{
    if (n <= 0)
    {
        printf("%d, %d\n",m, o);
    }
    else
    {
        recursiveFun4(n-1, m+1, o);
        recursiveFun4(n-1, m, o+1);
    }
} 
```

在这里，它是`O(2^n)`或**指数**，因为每个函数调用都会调用自己两次，除非它已经被递归了**n**次。

* * *

```
 int recursiveFun5(int n)
{
    for (i = 0; i < n; i += 2) {
        // do something
    }

    if (n <= 0)
        return 1;
    else
        return 1 + recursiveFun5(n-5);
} 
```

这里 for 循环采用 n/2，因为我们增加了 2，递归采用 n/5，并且由于 for 循环是递归调用的，因此，时间复杂度在

(n/5) * (n/2) = n^2/10,

由于渐近行为和最坏情况的考虑或大 O 正在努力争取的上限，我们只对最大项 so 感兴趣`O(n^2)`。

* * *

祝你期中考试好运；）

* * *

## 回答 #2

> 赞同：144
> 
> 时间：2012-11-20T07:55:00.517

对于 的情况`n <= 0`，`T(n) = O(1)`。因此，时间复杂度将取决于何时`n >= 0`。

我们将`n >= 0`在下面的部分中考虑这种情况。

1.

```
T(n) = a + T(n - 1) 
```

其中 a 是某个常数。

通过归纳：

```
T(n) = n * a + T(0) = n * a + b = O(n) 
```

其中 a, b 是一些常数。

2.

```
T(n) = a + T(n - 5) 
```

其中 a 是一些常数

通过归纳：

```
T(n) = ceil(n / 5) * a + T(k) = ceil(n / 5) * a + b = O(n) 
```

其中 a, b 是一些常数，k <= 0

3.

```
T(n) = a + T(n / 5) 
```

其中 a 是一些常数

通过归纳：

```
T(n) = a * log5(n) + T(0) = a * log5(n) + b = O(log n) 
```

其中 a, b 是一些常数

4.

```
T(n) = a + 2 * T(n - 1) 
```

其中 a 是一些常数

通过归纳：

```
T(n) = a + 2a + 4a + ... + 2^(n-1) * a + T(0) * 2^n 
     = a * 2^n - a + b * 2^n
     = (a + b) * 2^n - a
     = O(2 ^ n) 
```

其中 a, b 是一些常数。

5.

```
T(n) = n / 2 + T(n - 5) 
```

其中 n 是某个常数

重写`n = 5q + r`其中 q 和 r 是整数并且 r = 0, 1, 2, 3, 4

```
T(5q + r) = (5q + r) / 2 + T(5 * (q - 1) + r) 
```

我们有`q = (n - r) / 5`，并且由于 r < 5，我们可以认为它是一个常数，所以`q = O(n)`

通过归纳：

```
T(n) = T(5q + r)
     = (5q + r) / 2 + (5 * (q - 1) + r) / 2 + ... + r / 2 +  T(r)
     = 5 / 2 * (q + (q - 1) + ... + 1) +  1 / 2 * (q + 1) * r + T(r)
     = 5 / 4 * (q + 1) * q + 1 / 2 * (q + 1) * r + T(r)
     = 5 / 4 * q^2 + 5 / 4 * q + 1 / 2 * q * r + 1 / 2 * r + T(r) 
```

由于 r < 4，我们可以找到一些常数 b 使得`b >= T(r)`

```
T(n) = T(5q + r)
     = 5 / 2 * q^2 + (5 / 4 + 1 / 2 * r) * q + 1 / 2 * r + b
     = 5 / 2 * O(n ^ 2) + (5 / 4 + 1 / 2 * r) * O(n) + 1 / 2 * r + b
     = O(n ^ 2) 
```

* * *

## 回答 #3

> 赞同：42
> 
> 时间：2017-05-16T01:29:31.107

我发现近似递归算法复杂性的最佳方法之一是绘制递归树。一旦你有了递归树：

```
Complexity = length of tree from root node to leaf node * number of leaf nodes 
```

1.  第一个函数将具有`n`叶节点的长度和数量，`1`因此复杂度为`n*1 = n`
2.  第二个函数将`n/5`再次具有叶节点的长度和数量，`1`因此复杂性将是`n/5 * 1 = n/5`。它应该近似为`n`

3.  对于第三个函数，由于`n`在每次递归调用时被除以 5，递归树的长度将为`log(n)(base 5)`，叶节点的数量再次为 1，因此复杂度将为`log(n)(base 5) * 1 = log(n)(base 5)`

4.  对于第四个函数，因为每个节点都有两个子节点，所以叶节点的数量将等于`(2^n)`递归树的长度，`n`因此复杂度将是`(2^n) * n`。但既然`n`在面前是微不足道的`(2^n)`，那就可以忽略不计，复杂性只能说是`(2^n)`。

5.  对于第五个功能，有两个元素引入了复杂性。函数的递归性质引入的复杂性和`for`每个函数中循环引入的复杂性。进行上述计算，函数的递归性质引入的复杂度将是`~ n`和 for 循环引起的复杂度`n`。总复杂度将是`n*n`.

注意：这是一种计算复杂度的快速而肮脏的方法（不是官方的！）。很想听听对此的反馈。谢谢。

* * *

## 回答 #4

> 赞同：20
> 
> 时间：2020-02-22T16:41:18.880

我们可以在数学上证明这一点，这是我在上述答案中所缺少的。

它可以**极大地**帮助您了解如何计算任何方法。我建议从上到下阅读它以完全理解如何做到这一点：

1.  `T(n) = T(n-1) + 1`这意味着该方法完成所花费的时间等于相同的方法，但 n-1 是`T(n-1)`，我们现在添加`+ 1`，因为它是完成一般操作所花费的时间（除了`T(n-1)`）。现在，我们将找到`T(n-1)`如下：`T(n-1) = T(n-1-1) + 1`。看起来我们现在可以形成一个可以给我们某种重复的函数，这样我们就可以完全理解了。我们将把右边的in`T(n-1) = ...`而不是`T(n-1)`放在`T(n) = ...`将给我们的方法中：`T(n) = T(n-1-1) + 1 + 1`或者`T(n) = T(n-2) + 2`换句话说，我们需要找到我们缺少的`k`: `T(n) = T(n-k) + k`。下一步是采取`n-k`并声称，`n-k = 1`因为在递归结束时，当`n<=0`. 从这个简单的方程我们现在知道了`k = n - 1`。让我们放置`k`在我们的最终方法中：`T(n) = T(n-k) + k`which 将给我们：`T(n) = 1 + n - 1`which is exact `n`or `O(n)`。
2.  与 1 相同。您可以自己测试一下，看看是否得到`O(n)`。
3.  `T(n) = T(n/5) + 1`和以前一样，此方法完成的时间等于相同方法的时间，但这`n/5`就是它被限制为 的原因`T(n/5)`。让我们在 1 中找到`T(n/5)`类似的内容：`T(n/5) = T(n/5/5) + 1`即`T(n/5) = T(n/5^2) + 1`. 让我们在`T(n/5)`里面`T(n)`进行最终计算：`T(n) = T(n/5^k) + k`. 和以前一样，`n/5^k = 1`这`n = 5^k`就像问什么是 5 的幂，会给我们 n，答案是`log5n = k`（以 5 为底的对数）。让我们将我们的发现`T(n) = T(n/5^k) + k`如下`T(n) = 1 + logn`：`O(logn)`
4.  `T(n) = 2T(n-1) + 1`我们这里的内容与以前基本相同，但这次我们递归调用该方法 2 次，因此我们将它乘以 2。让我们找出`T(n-1) = 2T(n-1-1) + 1`哪个是`T(n-1) = 2T(n-2) + 1`. 我们的下一个地方和以前一样，让我们​​放置我们的发现：`T(n) = 2(2T(n-2)) + 1 + 1`这`T(n) = 2^2T(n-2) + 2`给了我们`T(n) = 2^kT(n-k) + k`. 让我们`k`通过声称是`n-k = 1`来查找`k = n - 1`。让我们`k`如下放置：`T(n) = 2^(n-1) + n - 1`大致是`O(2^n)`
5.  `T(n) = T(n-5) + n + 1`它几乎与 4 相同，但现在我们添加`n`，因为我们有一个`for`循环。让我们找出`T(n-5) = T(n-5-5) + n + 1`哪个是`T(n-5) = T(n - 2*5) + n + 1`. 让我们把它：`T(n) = T(n-2*5) + n + n + 1 + 1)`这是`T(n) = T(n-2*5) + 2n + 2)`和对于k：`T(n) = T(n-k*5) + kn + k)`再次：`n-5k = 1`这`n = 5k + 1`是大致的`n = k`。这将给我们：`T(n) = T(0) + n^2 + n`大致是`O(n^2)`.

我现在建议阅读其余的答案，这些答案会给你一个更好的视角。祝你好运赢得那些大 O :)

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2020-04-18T22:18:38.350

这里的关键是可视化调用树。一旦这样做，复杂性是：

```
nodes of the call tree * complexity of other code in the function 
```

后一项的计算方式与我们对正常迭代函数的计算方式相同。

相反，完整树的总节点计算为

```
 C^L - 1
                  -------  , when C>1
               /   C - 1
              /
 # of nodes =
              \    
               \ 
                  L        , when C=1 (this is special case of a single branch tree) 
```

其中 C 是每个节点的子节点数，L 是树的级别数（包括根）。

可视化树很容易。从第一次调用（根节点）开始，然后绘制与函数中递归调用数相同的子节点数。将传递给子调用的参数写为“节点的值”也很有用。

因此，这里是上述示例的结果：

* * *

```
int recursiveFun1(int n)
{
    if (n <= 0)
        return 1;
    else
        return 1 + recursiveFun1(n-1);
} 
```

首先考虑调用树：

> ```
> n     level 1
> n-1   level 2
> n-2   level 3
> n-3   level 4
> ... ~ n levels -> L = n 
> ```

这里每个节点的子节点数为 C = 1，层数 L = n+1。其余函数的复杂度为 O(1)。因此总复杂度为 L * O(1) = (n+1) * O(1) = **O(n)**

* * *

```
int recursiveFun2(int n)
{
    if (n <= 0)
        return 1;
    else
        return 1 + recursiveFun2(n-5);
} 
```

这里的调用树是：

> ```
> n
> n-5
> n-10
> n-15
> ... ~ n/5 levels -> L = n/5 
> ```

同样 C = 1，但 L = n/5。其余函数的复杂度为 O(1)。因此总复杂度为 L * O(1) = (n/5) * O(1) = **O(n)**

* * *

```
int recursiveFun3(int n)
{
    if (n <= 0)
        return 1;
    else
        return 1 + recursiveFun3(n/5);
} 
```

调用树是：

> ```
> n
> n/5
> n/5^2
> n/5^3
> ... ~ log5(n) levels -> L = log5(n) 
> ```

因此 C = 1，L = log(n)。其余函数的复杂度为 O(1)。因此总复杂度为 L * O(1) = log5(n) * O(1) = **O(log(n))**

* * *

```
void recursiveFun4(int n, int m, int o)
{
    if (n <= 0)
    {
        printf("%d, %d\n",m, o);
    }
    else
    {
        recursiveFun4(n-1, m+1, o);
        recursiveFun4(n-1, m, o+1);
    }
} 
```

在这里，调用树更复杂：

> ```
>  n                   level 1
>       n-1             n-1          level 2
>   n-2     n-2     n-2     n-2      ...
> n-3 n-3 n-3 n-3 n-3 n-3 n-3 n-3    ...     
>               ...                ~ n levels -> L = n 
> ```

这里每个节点的子节点数是 C = 2，而 L = n。其余函数的复杂度为 O(1)。这次我们使用调用树中节点数的完整公式，因为 C > 1。因此总复杂度为 (C^L-1)/(C-1) * O(1) = (2^n - 1 ) * O(1) = **O(2^n)**。

* * *

```
int recursiveFun5(int n)
{
    for (i = 0; i < n; i += 2) {
        // do something
    }

    if (n <= 0)
        return 1;
    else
        return 1 + recursiveFun5(n-5);
} 
```

同样，调用树是：

> ```
> n
> n-5
> n-10
> n-15
> ... ~ n/5 levels -> L = n/5 
> ```

这里 C = 1，L = n/5。其余函数的复杂度为 O(n)。因此总复杂度为 L * O(1) = (n/5) * O(n) = **O(n^2)**

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2020-12-30T04:35:08.517

我看到对于接受的答案（recursivefn5），有些人对解释有疑问。所以我会尽我所能澄清。

1.  for 循环运行 n/2 次，因为在每次迭代中，我们将 i（计数器）增加 2 倍。所以说 n = 10，for 循环将运行 10/2 = 5 次，即当 i 为 0 ,2,4,6 和 8。

2.  同样，递归调用每被调用一次就会减少 5 倍，即运行 n/5 次。再次假设 n = 10，递归调用运行 10/5 = 2 次，即当 n 为 10 和 5 时，它遇到基本情况并终止。

3.  计算总运行时间，每次调用递归函数时，for 循环都会运行 n/2 次。由于递归 fxn 运行 n/5 次（在上面的 2 中），for 循环运行 (n/2) * (n/5) = (n^2)/10 次，这转换为整体 Big O 运行时间O(n^2) - 忽略常数 (1/10)...

# jquery - 使用 jQuery 在淘汰赛中插入可观察数组的好方法

> ID：13467676
> 
> 赞同：2
> 
> 时间：2012-11-20T06:28:39.603
> 
> 标签：jquery, knockout.js

我正在尝试加载我的 JSON 文件，然后为每个项目插入一个。

所以我有这个代码

```
function ProductType(id, name) {
var self = this;

self.id = id;
self.name = name;
}

function ProductsViewModel() {
    var self = this;
    var jqxhr = $.getJSON("data/product.json").success(function(data, status, xhr) { 
          self.products = ko.observableArray([    
      $.each(data.data.productTypeList, function(i,item){
          new ProductType(i, item.longName);
    })
]);               
      })
     .error(function() { alert("error"); })
     .complete(function() {
        console.log("fetch complete + " + this);
     });

} 
```

我想知道如何从每个函数插入可观察数组的最佳实践

目前我收到此错误

错误：500 错误获取 /knockoutJQMProducts/#products 无法解析绑定。消息：ReferenceError：产品未定义；绑定值：foreach：产品

但如果我在每个语句中使用 console.log(i)，它会返回结果。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-21T17:54:12.260

ryadavilli 的答案很好，但可以通过缓存数组然后一次性设置 observableArray 来改进。

```
function ProductsViewModel() {
    var self = this;
    self.products = ko.observableArray();
    var jqxhr = $.getJSON("data/product.json").success(function(data, status, xhr) {
        var products = [];
        $.each(data.data.productTypeList, function(i, item) {
            products.push(new ProductType(i, item.longName));
        });
        self.products(products);
    })
        .error(function() {
            alert("error");
        })
        .complete(function() {
            console.log("fetch complete + " + this);
        });
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-20T06:43:58.963

我已经修改了您的 VM 和成功方法，以便在成功时填充可观察数组。但它一直存在。

```
function ProductsViewModel() {
    var self = this;
    self.products = ko.observableArray();    
    var jqxhr = $.getJSON("data/product.json").success(function(data, status, xhr) { 
      // use this remove all only if you want to clear and load with new data.
       self.products.removeAll();
       $.each(data.data.productTypeList, function(i,item){
          self.products.push(new ProductType(i, item.longName));
     })
  })
 .error(function() { alert("error"); })
 .complete(function() {
    console.log("fetch complete + " + this);
 });
} 
```

# android - 黑莓错误

> ID：13467677
> 
> 赞同：3
> 
> 时间：2012-11-20T06:28:45.523
> 
> 标签：android, blackberry-playbook, blackberry-qnx, blackberry-android

我正在尝试为黑莓 Playbook 开发一个 android 应用程序。为此，我已经在 android.For 上安装了用于黑莓开发的所有必要工具。一个月前，我在 BB playbook 上运行了一些 android 应用程序。为此，需要一个月后过期的调试令牌。然后今天我开发了一个新的调试令牌并在 BB Playbook 上运行我的新 android 应用程序，但它没有运行，并且在项目文件夹上给出了很多错误和一个红十字，我不知道它为什么会发生。

![在此处输入图像描述](../Images/c6257b564478a72684d21304260a73a5.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-22T17:42:19.683

此问题的发布时间与 Android SDK 的 r21 版本相吻合，该版本目前不受用于 ADT 的 BlackBerry 插件 1.3 beta 版本的支持。暂时可以降级到r20或者等月底插件（v1.4）的下一次beta更新。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-27T11:02:56.747

您可以按照此处的说明将工具降级到 r20：http: [//supportforums.blackberry.com/t5/Android-Runtime-Development/Google-ADT-21-Not-Currently-Supported/td-p/1988013](http://supportforums.blackberry.com/t5/Android-Runtime-Development/Google-ADT-21-Not-Currently-Supported/td-p/1988013)

# java - 数据库池问题

> ID：13467679
> 
> 赞同：2
> 
> 时间：2012-11-20T06:29:11.390
> 
> 标签：java, database-connection, connection-pooling

我在我的应用程序中使用数据库池（[数据库池](http://www.snaq.net/java/DBPool/)）。我的 DAO 代码如下：

```
static {
        try {
            PropertyUtil propertyUtil = new PropertyUtil();
            propertyUtil.getBundle(Constants.DB_PROPERTIES);
            String dburl = propertyUtil.getProperty("dburl");
            String dbuserName = propertyUtil.getProperty("dbuserName");
            String dbpassword = propertyUtil.getProperty("dbpassword");
            String dbclass = propertyUtil.getProperty("dbclass");
            String dbpoolName = propertyUtil.getProperty("dbpoolName");
            int dbminPool = Integer.parseInt(propertyUtil
                    .getProperty("dbminPool"));
            int dbmaxPool = Integer.parseInt(propertyUtil
                    .getProperty("dbmaxPool"));
            int dbmaxSize = Integer.parseInt(propertyUtil
                    .getProperty("dbmaxSize"));
            Class.forName(dbclass).newInstance();
            moPool = new ConnectionPool(dbpoolName, dbminPool, dbmaxPool,
                    dbmaxSize, dburl, dbuserName, dbpassword);
            moLogWrapper.info("Connection pool size: -"+Integer.valueOf(moPool.getSize()));
        } catch (ApplicationException aoAppEx) {
            moLogWrapper
                    .error(aoAppEx.getMessage(), aoAppEx.fillInStackTrace());
            new ApplicationException(aoAppEx.getMessage(),
                    aoAppEx.fillInStackTrace());
        } catch (IllegalAccessException aoIllEx) {
            moLogWrapper
                    .error(aoIllEx.getMessage(), aoIllEx.fillInStackTrace());
            new ApplicationException(aoIllEx.getMessage(),
                    aoIllEx.fillInStackTrace());
        } catch (ClassNotFoundException aoCnfEx) {
            moLogWrapper
                    .error(aoCnfEx.getMessage(), aoCnfEx.fillInStackTrace());
            new ApplicationException(aoCnfEx.getMessage(),
                    aoCnfEx.fillInStackTrace());
        } catch (InstantiationException aoIEx) {
            moLogWrapper.error(aoIEx.getMessage(), aoIEx.fillInStackTrace());
            new ApplicationException(aoIEx.getMessage(),
                    aoIEx.fillInStackTrace());
        }

    } 
```

我的 openConnection() 方法是：

```
public void openConnection() throws ApplicationException {
        moLogWrapper.info("inside openConnection method");
        try {
            loCon = moPool.getConnection();
            // moLogWrapper.info(moPool.getSize());
        } catch (SQLException aoSqlEx) {
            moLogWrapper
                    .error(aoSqlEx.getMessage(), aoSqlEx.fillInStackTrace());
            if (null != loCon) {
                loCon = null;
            }
                throw new ApplicationException(1002, aoSqlEx);
        } catch (Exception aoEx) {
            moLogWrapper.error(aoEx.fillInStackTrace());
            throw new ApplicationException(aoEx.getMessage(),
                    aoEx.fillInStackTrace());
        }
        moLogWrapper.info("exiting openConnection method");
    } 
```

问题是我在连接池类的 .openConnection 方法中得到了 null 。我的日志中还打印了一个 DEBUG 日志，它打印以下行：

```
[snaq.db.ConnectionPool.sp] sp: Checkout - 10/10 (HitRate=40.186916%) - null returned 
```

我无法理解为什么返回 null 以及如何调试实际问题。

**编辑：**

我的应用程序运行良好，但 throws 有时会突然开始抛出此错误。

我使用 postgres 作为我的数据库。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T07:28:07.817

你为什么不用`javax.sql.DataSource`来获得连接。

```
import javax.sql.DataSource;

public class JdbcConnection {

private static DataSource dataSource;

static{
   //make DB connection here with datasource
}

public static Connection getConnection() throws SQLException {
return dataSource.getConnection();
}

} 
```

# python - QProcess 无法写入 cmd.exe

> ID：13467680
> 
> 赞同：4
> 
> 时间：2012-11-20T06:29:16.020
> 
> 标签：python, qt, cmd, pyside, qprocess

我似乎无法`QProcess`将命令传递给`cmd.exe`via `stdin`。我也尝试过其他命令行应用程序。

这是我用来尝试和调试的一些简单代码：

```
prog = "c:/windows/system32/cmd.exe"
arg = [""]
p = QtCore.QProcess()
retval = p.start(prog, arg)
print retval
print p.environment()
print p.error()
p.waitForStarted()
print("Started")
p.write("dir \n")
time.sleep(2)
print(p.readAllStandardOutput())
print(p.readAllStandardError())
p.waitForFinished()
print("Finished")
print p.ExitStatus() 
```

输出：

```
None
[]
PySide.QtCore.QProcess.ProcessError.UnknownError
Started 
```

{时间流逝}

```
Finished
PySide.QtCore.QProcess.ExitStatus.NormalExit
QProcess: Destroyed while process is still running. 
```

那么“ `dir \n`”命令是否从未发出？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T18:20:10.240

您的代码有几个问题。

1.  将空字符串作为参数传递（显然）不是一个好主意
2.  该`start(...)`方法不返回值，但`waitForStarted()`确实
3.  在调用`readAllStandardOutput()`call之前`waitForReadyRead()`。
4.  `waitForFinished()`除非您使进程（cmd.exe）实际退出，否则不会返回（或只是超时）

对于您的示例，这应该是一个最小的工作版本：

```
from PySide import QtCore

prog = "cmd.exe"
arg = []
p = QtCore.QProcess()
p.start(prog, arg)
print(p.waitForStarted())

p.write("dir \n")
p.waitForReadyRead()
print(p.readAllStandardOutput())

p.write("exit\n")
p.waitForFinished()
print("Finished: " + str(p.ExitStatus())) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-23T02:45:27.317

看起来您需要在读取输出之前[关闭写入通道。](http://qt-project.org/doc/qt-4.8/qprocess.html#closeWriteChannel)

这适用于我在 WinXP 上：

```
from PySide import QtCore

process = QtCore.QProcess()
process.start('cmd.exe')

if process.waitForStarted(1000):

    # clear version message
    process.waitForFinished(100)
    process.readAllStandardOutput()

    # send command
    process.write('dir \n')
    process.closeWriteChannel()
    process.waitForFinished(100)

    # read and print output
    print process.readAllStandardOutput()

else:
    print 'Could not start process' 
```

# objective-c - ios画简单线

> ID：13467681
> 
> 赞同：1
> 
> 时间：2012-11-20T06:29:21.770
> 
> 标签：objective-c, ios

这是我的`UIPanGestureRecognizer`

```
- (void)SwipeHandle:(UIPanGestureRecognizer*)gestureRecognizer
{
UIView *theSuperview = self.numberview;
CGPoint touchPointInSuperview = [gestureRecognizer locationInView:theSuperview];

float gapX = image1.frame.size.width / 8;
float gapY = image1.frame.size.height / 8.48;

if(gestureRecognizer.state == UIGestureRecognizerStateBegan)
{
    if(!ispause && [time.text intValue] > 0){
        if(!isbegan && !isended){
            for(int i = 1; i <= 16; i++)
            {
                UIView *imageview = [self.numberview viewWithTag:i];
                if (CGRectContainsPoint(imageview.frame, touchPointInSuperview))
                {
                    isbegan = YES;
                    isreverse = NO;
                    if([[ischose objectAtIndex:i-1] boolValue] == 0)
                    {
                        currentposition = imageview.tag;
                        positionvalue += pow(i, 3);
                        currentanswer += [self converter:[NSString stringWithFormat:@"%@", [allimagenumbers substringWithRange:NSMakeRange(i-1, 1)]]];
                        [ischose replaceObjectAtIndex:i-1 withObject:[NSNumber numberWithBool:YES]];
                        [self changeimage:@"selected"];
                    }

                    previouspoint = imageview.frame.origin;
                    break;
                }
            }
        }
    }
}
else if(gestureRecognizer.state == UIGestureRecognizerStateChanged)
{
    if(isbegan && !isended)
    {
        if(touchPointInSuperview.x >= 0 && touchPointInSuperview.x <= self.numberview.frame.size.width && touchPointInSuperview.y >= 0 && touchPointInSuperview.y <= self.numberview.frame.size.height)
        {
            for(int i = 1; i <= 16; i++)
            {
                UIImageView *imageview = (UIImageView*)[self.numberview viewWithTag:i];
                if (CGRectContainsPoint(imageview.frame, touchPointInSuperview))
                {
                    if((touchPointInSuperview.x >= imageview.frame.origin.x + gapX && touchPointInSuperview.x < imageview.frame.origin.x + imageview.frame.size.width  - gapX) && (touchPointInSuperview.y >= imageview.frame.origin.y  + gapY && touchPointInSuperview.y < imageview.frame.origin.y + imageview.frame.size.height - gapY ))
                    {
                        if([[ischose objectAtIndex:i-1] boolValue] == 0 && !isreverse)
                        {
                            currentposition = imageview.tag;
                            positionvalue += pow(i, 3);
                            currentanswer += [self converter:[NSString stringWithFormat:@"%@", [allimagenumbers substringWithRange:NSMakeRange(i-1, 1)]]];
                            [ischose replaceObjectAtIndex:i-1 withObject:[NSNumber numberWithBool:YES]];
                            [self changeimage:@"selected"];

                            currentpoint = imageview.frame.origin;

                            [self.numberview drawRect:CGRectMake(self.numberview.frame.origin.x, self.numberview.frame.origin.y, self.numberview.frame.size.width, self.numberview.frame.size.height)];
                            UIGraphicsBeginImageContext(imageview.frame.size);
                            CGFloat red[4] = {1.0f, 0.0f, 0.0f, 1.0f};
                            CGContextSetStrokeColor(UIGraphicsGetCurrentContext(), red);
                            CGContextBeginPath(UIGraphicsGetCurrentContext());
                            CGContextMoveToPoint(UIGraphicsGetCurrentContext(), previouspoint.x, previouspoint.y);
                            CGContextSetLineWidth(UIGraphicsGetCurrentContext(), 5.0f);
                            CGContextAddLineToPoint(UIGraphicsGetCurrentContext(), currentpoint.x,currentpoint.y);
                            CGContextClosePath(UIGraphicsGetCurrentContext());

                            previouspoint = currentpoint;

                        }
                        else
                        {
                            if(currentposition != imageview.tag)
                            {
                                isreverse = YES;
                            }
                            else
                            {
                                isreverse = NO;
                            }
                        }
                        break;
                    }
                }
            }
        }
        else
        {
            isended = YES;
            isoutofbound = YES;
            if(isbegan && isoutofbound)
                [self countinganswer];
        }
    }
}
else if(gestureRecognizer.state == UIGestureRecognizerStateEnded)
{
    if(!isoutofbound)
    {
        isended = YES;
        [self countinganswer];
    }
    else
        isoutofbound = NO;
}
} 
```

我试图画一条线，但无法画线。

问题是什么？可以给我一个示例项目吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T06:44:37.150

问题是你正在绘制一个上下文，然后什么都不做，只是泄漏。在您进行绘图的中间，您需要通过`UIGraphicsGetImageFromCurrentContext()`. 然后您需要将该图像分配给图像视图。

或者（更实际地）您可以存储绘制的点，并将它们绘制在视图的`drawRect:`函数中。

不，我没有适合您的示例项目。许多其他人（包括我自己）已经实现了这个目标，我相信你也会。如果你仍然遇到问题，你应该问一个更具体的问题，而不是把你所有的代码都放在这里，然后问“为什么这不起作用？”

一个不相关的提示：如果你不想让你的同事对你发火，不要像你正在做的那样使用一百万个嵌套的 if 语句。又丑又难读……

# mysql - 从列具有特定文本的表中选择列的总和

> ID：13467683
> 
> 赞同：1
> 
> 时间：2012-11-20T06:29:30.967
> 
> 标签：mysql, select, sum, concat

我有这张表，我们在其中添加了公司车辆的所有服务。

我想从这两家特定公司服务的车辆的列价格中选择总和。

第一家公司称为**AG Trucks LTD**和另一家**LC Trucks SERVICE STATION LTD**。这些列是`servicedby`。

目前我使用这个没有结果：

```
case 'getstats':

            $q=mysql_real_escape_string($_GET['q']);
            $query="SELECT sum(price) FROM `Service` Where `servicedby` = 'Trucks' ";

            $result = mysql_query($query);

            $temp=0;
            $json = array();
                while ($row = mysql_fetch_array($result)) {
                    $json[$temp]['servicedby'] = $row['servicedby'];
                    $json[$temp]['price'] = $row['price'];
            $temp++;
                }

            print json_encode($json);

            mysql_close();

        break; 
```

那么我该如何选择：

*sum(price) FROM Service where 'servicedby' **CONTAINS 'trucks'***

price 和 servicedby 列都是 Varchar。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:35:54.553

有很多不同的方法可以解决您的问题。

您可以使用 IN 子句：

```
SELECT sum(price) FROM `Service` Where `servicedby` IN ('A.G Trucks LTD','LC Trucks SERVICE STATION LTD') 
```

您可以使用 LIKE 子句：

```
SELECT sum(price) FROM `Service` Where `servicedby` LIKE '%Trucks%' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T06:36:13.340

询问：

```
SELECT sum(price) FROM `Service` Where `servicedby` like '%Trucks%' 
```

# javascript - style.behavior 为 null 或未定义

> ID：13467686
> 
> 赞同：-2
> 
> 时间：2012-11-20T06:29:35.427
> 
> 标签：javascript, jquery, css

```
<ol class="myclass cls">
<li class="mylicls">
</li>
</ol> 
```

在我的 CSS 中已经定义了 myclass、cls、mylicls

我想将上面的 div 输出到

```
<ol class="myclass cls" style="behavior:url(/path/something.htc)">
<li class="mylicls">
</li>
</ol> 
```

这是我的 javascript

```
document.getElementsByTagName(ol).style.behavior="url(/path/something.htc)"; 
```

在 Firefox 中：
在 IE 中未定义 style.behavior：对象为空或未定义

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T06:32:14.437

`document.getElementsByTagName(ol)`正在返回 null。

你可能的意思是`document.getElementsByTagName("ol")`。

但即便如此，您也有一个节点列表，而不是单个节点，您必须将样式应用于每个节点。

```
var ols = document.getElementsByTagName("ol");
for (var i = 0; i < ols.length; i++) {
  var el = ols[i];
  el.style.behavior = "url(/path/something.htc)";
}; 
```

据我所知，*即使是* `behaviour`在非标准的情况下，也只能在 IE 中使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T06:31:19.573

`getElementsByTagName`不返回单个元素，而是返回一个元素列表——但前提是它找到了一些东西。因此，您需要添加`[0]` **并**确保您确实找到了至少一个元素。由于您希望`<ol>`标签将字符串传递`'ol'`给函数（您忘记了引号）。

除此之外，`behavior`只存在于IE中。因此，无论如何在任何其他浏览器中使用它都会失败。显然，这意味着您根本不应该使用它，除非您需要填充一些 IE 缺乏但其他浏览器已经具备的功能。

# tfs - 如何在 TFS 构建工作流中动态添加工作区？

> ID：13467691
> 
> 赞同：1
> 
> 时间：2012-11-20T06:29:44.663
> 
> 标签：tfs, tfsbuild

谁能帮我添加一个工作区（包含共享项目），这些共享项目用于不同的项目或工作区作为项目参考，我们可以选择在 BD（构建定义）的工作文件夹选项卡中添加工作区，但是当我添加了这个工作区，有很多 BD 使用它，当我们尝试签入共享工作区时，它会列出我们拥有共享工作区的所有 BD，因此我想在工作流中动态添加工作区。

![在此处输入图像描述](../Images/d1ece254b03d8301256a0c8b5697c8eb.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T15:00:35.967

在您的构建工作流程中，已经有一个可以使用的工作区对象。它是 WorkSpace 类型，[请参阅 MSDN Docs](http://msdn.microsoft.com/en-us/library/bb171783%28v=vs.80%29.aspx)。要将其用于您的目的，首先您将通过向其传递服务器路径和本地路径来实例化 WorkingFolder 对象（确保本地路径不会与工作区中已有的其他映射发生冲突）。然后，您将对已经存在的工作区对象调用 CreateMapping，将您创建的 WorkingFolder 对象传递给它。之后，要获取代码，只需在工作区对象上调用 Get。

我假设您正在尝试绕过 Gated Checkin 的限制，尽管它也适用于限制 CI 构建，这是一种有趣的方法，请让我们知道它是如何工作的。很酷的想法。

**新信息：我知道你接受了我的回答，但我只是在工具箱中找到了一个标准活动，所以你不需要自己编写。在 Team Foundation Build Activities 的标题下是[DownloadFiles](http://msdn.microsoft.com/en-us/library/gg265783.aspx)。它记录在该网页上。将服务器路径、本地路径和递归深度传递给它，你就完成了**

# sql - 查询未执行（想在表达式右侧获取 sysdate）

> ID：13467695
> 
> 赞同：0
> 
> 时间：2012-11-20T06:29:55.013
> 
> 标签：sql, oracle11g

我有一个日期列，其类型`DATE`和值的形式`23-AUG-12, 09-FEB-12.`现在我正在尝试运行查询，但出现错误

```
ORA-01843: not a valid month
01843\. 00000 -  "not a valid month"
*Cause:    
*Action: 
```

这是查询。实际上我想在右侧获取当前日期`first_appr_dt = current date`

```
select LOSA_APP.app_ref_no AS "App.Ref.No." from losa_app LOSA_APP where 
LOSA_APP.app_status='A' and first_appr_dt = 
(SELECT TO_CHAR(SYSDATE, 'MM-DD-YYYY') from dual); 
```

我做错了什么？请帮忙 。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T06:40:07.463

```
select LOSA_APP.app_ref_no AS "App.Ref.No." from losa_app LOSA_APP where 
LOSA_APP.app_status='A' and first_appr_dt = 
(SELECT TO_CHAR(SYSDATE, 'DD-MON-YY') from dual); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T07:03:45.250

如果该列`first_appr_dt`确实是一`DATE`列，则无需将日期作为字符串进行比较。事实上，这可能是问题的根源。

此外，对于这个简单的表达式，不需要从 DUAL 中选择。

你宁愿：

```
select LOSA_APP.app_ref_no AS "App.Ref.No." from losa_app LOSA_APP
where LOSA_APP.app_status = 'A' and first_appr_dt = trunc(sysdate); 
```

请注意，查询用于`TRUNC`从日期中删除时间，因为您的表可能包含时间设置为 00:00:00 的日期。如果没有，那么您应该尝试以下条件：

```
trunc(first_appr_dt) = trunc(sysdate) 
```

If you really want to compare the dates as strings, then you would need to use `TO_CHAR` for both sides of the comparison:

```
to_char(first_appr_dt, 'DD-MON-YYYY') = to_char(sysdate, 'DD-MON-YYYY') 
```

# blackberry - 黑莓谷歌加

> ID：13467697
> 
> 赞同：2
> 
> 时间：2012-11-20T06:30:01.543
> 
> 标签：blackberry, google-plus

我想将 Google+ 集成到我的黑莓应用程序中我已经通过调用浏览器会话实现了 Google+，一旦用户从我的应用程序登录 G+ 帐户，我想获取他们的电子邮件、用户 ID、如何做到这一点，任何人都可以给我的解决方案，我陷入了困境。
谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T18:21:20.290

在他们在 Google 授权服务器上进行身份验证并同意您的应用访问这些信息后，您可以使用[OAuth 2.0 登录来检索他们的用户 ID 和电子邮件。](https://developers.google.com/accounts/docs/OAuth2Login)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-29T05:23:01.553

留意黑莓谷歌 + 集成[https://developers.google.com/accounts/docs/OAuth2Login](https://developers.google.com/accounts/docs/OAuth2Login)，通过使用应用 ID 注册您的应用，您可以连接。另请参阅此链接 [https://code.google.com/p/google-api-java-client/wiki/OAuth2Draft10](https://code.google.com/p/google-api-java-client/wiki/OAuth2Draft10)

# php - MySQL 将所有内容保存到上个月的最后一天

> ID：13467699
> 
> 赞同：0
> 
> 时间：2012-11-20T06:30:03.620
> 
> 标签：php, mysql, database, date

我需要从我的数据库中取出日期戳在上个月最后一天之前的记录。

我目前正在使用这个：

```
AND jobs.creationDate <= date_format(NOW() - INTERVAL 1 MONTH, '%Y-%m-'+last_day(NOW() - INTERVAL 1 MONTH)) 
```

我不确定它是否有效。

他们是实现我想要的更简单的方法并且是我正确使用的方法（在我的情况下很难测试）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T06:38:53.877

```
jobs.creationDate < LAST_DAY(NOW() - INTERVAL 1 MONTH); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T06:33:49.120

您可以通过以下方式找到上个月的最后一天：

```
SELECT LAST_DAY(DATE_SUB(NOW(), INTERVAL 1 MONTH)); 
```

# wso2 - 如何让 ESB 负载均衡器的端点知道每次访问的客户端 IP

> ID：13467700
> 
> 赞同：2
> 
> 时间：2012-11-20T06:30:04.250
> 
> 标签：wso2, wso2esb

我现在在我的 Web API 系统上使用 WSO2 ESB 负载均衡器。

像这样：`clients (browser) -> esb server -> application server1,2,3 ...`

现在我有一个问题，应用程序服务器上运行的应用程序只知道 ESB 服务器的 IP。

如何让应用程序知道每次访问的客户端 IP？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-27T05:35:13.343

Within ESB you can get like this; (Check [this post](http://vvratha.blogspot.com/2011/11/retriving-clientiphost-within-sequence.html))

```
<property name="clienthost" expression="get-property('REMOTE_HOST')" scope="axis2"/> 
```

From the application server side, you can access the axis2message context and retrive the remote address

# c# - Windows Phone 8：媒体文件访问

> ID：13467701
> 
> 赞同：13
> 
> 时间：2012-11-20T06:30:12.273
> 
> 标签：c#, c++, file-io, windows-runtime, windows-phone-8

是否可以从 Windows Phone 8 中的默认音频/视频文件夹中访问音频和视频文件？我已经检查了这个文档，但是所有方法（例如 KnownFolders.MusicLibrary）都没有在 WP8 上实现：http: [//msdn.microsoft.com/en-us/library/windows/apps/hh967755.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/hh967755.aspx)

我需要访问原始文件数据。如果不能从 C# 访问数据，也可以从 Windows Phone 运行时或纯 C++ 访问数据。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-11-20T12:36:19.380

KnownFolders 不适用于 WP8 的 3rd 方应用程序。

就 WP8 的访问而言，以下是可用的：

*   **联系人**：从 WP7.5 开始提供读取权限，通过 WP8 ContactStore 提供写入权限。
*   **约会**：自 WP7.5 起提供读取访问权限。在 WP8 中，您可以在用户通过 SaveAppointmentTask 确认后添加个人约会。
*   **照片**：对自 WP7 以来可用的所有文件夹的读取权限。自 WP7.5 起可对相机胶卷和保存的图片进行写访问。
*   **音频**：开发人员可以遍历音乐库，甚至可以通过 WP7 以来的原生播放器播放。启动 WP8 开发人员可以使用 MediaLibraryExtensions.SaveSong() 将歌曲添加到音乐库。
*   **视频**：读写不可用。传输这么大的文件存在安全和存储问题。
*   **uSD 卡**：启动 WP8 应用程序可以注册特定的文件扩展名并从 micro-SD 卡中读取这些扩展名。
*   **文件**：没有读写权限。但是启动 WP8 的开发人员可以使用 Launcher.LaunchFileAsync 打开 docx/xlsx/etc 文件，它会在 Office 中打开一个只读副本。然后，用户可以选择将该副本保存在 Office Hub 中。

我已将此帖子设为 wiki，因此如果有任何其他区域，请随时编辑并添加这些要点。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-04-25T13:57:32.680

随着 Windows Phone 8.1 的引入，您现在可以访问 KnownFolders。这是我保存到视频文件夹的屏幕截图（Xbox 视频应用程序） ![已知文件夹访问](../Images/511f92fa53bd3547bf79c92ec797f134.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-09T09:06:21.063

考虑将您的项目升级到可以访问的 Windows Phone 8.1

图片库、音乐库、视频库

看一下这个

[http://msdn.microsoft.com/en-us/library/windows/apps/xaml/dn639127.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/dn639127.aspx)

# android - Android 版本说明

> ID：13467710
> 
> 赞同：1
> 
> 时间：2012-11-20T06:30:45.503
> 
> 标签：android, android-version

我要为 Galaxy Tab 开发一个应用程序。所以我想知道，如果我在 Android 2.3.3 下开发它，它是否适用于所有更高版本（最高 4.2）。

我的客户希望该应用程序在 Galaxy Tab 和 Huawei Media Pad 上运行。

什么是合适的参数：

1.  最低要求 SDK =
2.  目标 SDK =
3.  遵守 =
4.  主题 =

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:43:43.593

在 4.2 上开发，将所需的最低 SDK 设置为 2.3，注意不要使用无法使用的旧 API。Android Lint 应该会有所帮助。

而且，为了使其适用于所有版本，您将不得不在这里和那里修补某种兼容性代码。这应该没有任何问题。

主题：有一个很好的教程如何处理这个。 [http://android-developers.blogspot.in/2012_11_01_archive.html](http://android-developers.blogspot.in/2012_11_01_archive.html)

基本上，您需要创建自己的主题，并根据 SDK 版本从相应的主题进行扩展（例如，2.3 及更低版本的主题，3.0 及更高版本的 Theme.Holo），然后您可以自定义主题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T06:39:40.737

您可以将 target sdk 设置为您计划定位的最高版本，它会在旧版本上运行良好。

将您的最小 SDK 设置为 10 (android 2.3.3) 并将目标 sdk 设置为 17 (android 4.2)。

现在您的应用程序将在 2.3.3 及更高版本的任何版本上运行。

Target sdk 只让 android 系统知道应用程序在该版本上进行了测试，并防止系统必须做一些额外的工作来使应用程序兼容。应用程序也将在目标 sdk 之后的所有版本上运行。

Min sdk 将告诉您应用程序可以运行的最低版本。应用程序将在此之后的所有版本上运行，但不会在此版本之前运行。

如果您想了解更多详细信息，请参阅此线程：

[Android Min SDK 版本与目标 SDK 版本](https://stackoverflow.com/questions/4568267/android-min-sdk-version-vs-target-sdk-version)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T06:42:00.670

是的，如果您的开发版本是 2.3.3，它将支持所有更高版本

这是[支持多屏](http://developer.android.com/guide/practices/screens_support.html)和 [三星 Galaxy Tab](http://en.wikipedia.org/wiki/Samsung_Galaxy_Tab)版本历史的参考

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-20T07:04:03.160

最低要求 SDK = 10 目标 SDK = 17 编译方式 = JDK 1.6 主题 = Theme.Holo [或忽略此]

如果可能，将最小 SDK 设置为 6 或 7，如果您遇到错误，只需增加它。

如果您希望与较低版本的 Android 完全兼容，我强烈建议您查看[Action Bar Sherlock之类的东西。](http://actionbarsherlock.com)Honeycomb 和 Ice Cream Sandwich 对 Theme 之类的东西有一些不同的看法。Action Bar Sherlock 将使它在所有版本上看起来都相似。

# android - 如果我点击android中的listview，如何将fragmentActivity作为屏幕的一部分

> ID：13467719
> 
> 赞同：1
> 
> 时间：2012-11-20T06:31:18.373
> 
> 标签：android, listview, android-listfragment

我正在使用片段代替选项卡，在上面我正在显示一个列表视图，如果我单击特定列表列，则由于启动了新活动而启动了一个新的 fragmentActivity 选项卡（片段）消失了，但我想要选项卡（片段）也应该保留在新屏幕中，我该怎么办..

活动代码如下。

公共类 FriendsFragment 扩展 ListFragment{

```
public static String[] friendsaddoptions=new String[]{
    "Fox User","FaceBook","Email","Twiter","SMS"
};

ListView listview;
Friends_Names_List_Adapter friendsnameslistadapter;
JSONArray dataJsonObject;
Button add;
Button back;

@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {

    View view=inflater.inflate(R.layout.friends_list, container,false);
    listview=(ListView)view.findViewById(android.R.id.list);
    add=(Button) view.findViewById(R.id.button_add);

    back=(Button)view. findViewById(R.id.button_back);
    back.setVisibility(View.INVISIBLE);
    FriendsFragmentData dataobserver=new FriendsFragmentData();
    ServerManager.getInstance().addObserver(dataobserver);
    ServerManager.getInstance().readLoopForFriends_Names_List(AppConstances.Friends_Names_List);

    if(friendsnameslistadapter==null)
        friendsnameslistadapter=new Friends_Names_List_Adapter(getActivity(), new JSONArray());
    listview.setAdapter(friendsnameslistadapter);

    add.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {       /*Intent in=new Intent(getActivity().getBaseContext(), FriendsNamesAddActivity.class);
            startActivity(in);*/
            ArrayAdapter< String> adapter=new ArrayAdapter<String>(getActivity().getBaseContext(), R.layout.friends_add_listitem,R.id.friends_add_option,friendsaddoptions);
            listview.setAdapter(adapter);
            if(adapter!=null)
                back.setVisibility(View.VISIBLE);

            listview.setOnItemClickListener(new OnItemClickListener() {

                @Override
                public void onItemClick(AdapterView<?> arg0, View view, int position,
                        long id) {
                    Intent intent=new Intent(getActivity().getBaseContext(),FoxUserActivity.class);    
                    startActivity(intent);

                }
            });

            if(adapter!=null)
            {
                add.setVisibility(View.INVISIBLE);

            }

        }

    }); 
```

如何将 FragmentActivity 作为屏幕的一部分启动，以便每个活动都可以看到选项卡（片段）。

# visual-studio-2010 - 如何为 number 类型的参数设置多个值

> ID：13467726
> 
> 赞同：0
> 
> 时间：2012-11-20T06:31:31.217
> 
> 标签：visual-studio-2010, crystal-reports

我已经能够使用以下代码将多个值传递给字符串类型的参数： `JOIN({?particulars},ChrW(13) )`在公式字段中。

但是，如果我尝试对 number 类型的参数执行相同操作：

```
JOIN({?amount},ChrW(13) ) 
```

我得到错误：

> *这里需要一个字符串数组。*

如何使用公式将多个值传递给数字类型的参数？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T11:03:39.423

与其搞乱拆分和加入，为什么不“正确”传递值？[请参阅我对如何将值列表传递到水晶报告中的](https://stackoverflow.com/questions/13401421/how-to-pass-a-list-of-values-into-a-crystal-report/13414757#13414757)回答

foreach (string_array 中的字符串) { param.Value = string; report.ParameterFields[参数].CurrentValues.Add(param); }

# javascript - 使用 javascript 或 jquery [twitter 卡] 动态添加元标记

> ID：13467730
> 
> 赞同：4
> 
> 时间：2012-11-20T06:32:02.347
> 
> 标签：javascript, jquery, twitter, meta-tags

我想在我的网站上添加 twitter 卡元标记。我无法添加静态标签，因为元标签中的内容属性必须动态更改。如果有人有解决方案，请帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-20T06:57:28.713

你不能，至少 Twitter 不会以任何方式识别。

当 Twitter 获取页面时，它总是会获取 HTML 中的元元素，而不是使用客户端 JavaScript 添加的元元素。

如果您要动态更改内容，则使用[历史 API](https://developer.mozilla.org/en-US/docs/DOM/Manipulating_the_browser_history#Adding_and_modifying_history_entries)更新 URI，并确保在使用 URI 作为入口点时服务器将为每个 URI 生成所有内容（您仍然可以使用 JavaScript 生成从网站上的另一个页面移动时的内容）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T17:36:16.920

只要您以后不打算更改它们，就可以动态生成页面（服务器端）。以与为 SEO 目的构建登录页面相同的方式考虑该过程。Twitterbot 在很多方面与 Googlebot 和类似的索引器非常相似。

有关执行此操作的一些示例，请参阅[https://dev.twitter.com/blog/twitter-cards-tips-tricks 。](https://dev.twitter.com/blog/twitter-cards-tips-tricks)

# android - 我们可以使用用户指定的图像文件（通常是 SD 卡）作为 ICON 创建应用程序快捷方式吗

> ID：13467732
> 
> 赞同：2
> 
> 时间：2012-11-20T06:32:11.793
> 
> 标签：android

我可以使用以下方法创建应用程序快捷方式。

```
 public static void CreateShortCut(Context context, String ShortCutName){
            Intent shortcutintent = new Intent("com.android.launcher.action.INSTALL_SHORTCUT");
            shortcutintent.putExtra("duplicate", false);
            shortcutintent.putExtra(Intent.EXTRA_SHORTCUT_NAME, ShortCutName);

        /*    Parcelable icon = Intent.ShortcutIconResource.fromContext(context.getApplicationContext(), R.drawable.iconfromresource);  */ //  This work great 
            Parcelable icon =  BitmapFactory.decodeFile("/sdcard/myownappicon.png");   /* This doesnt work, Doesnt show any error either.... it just gives Android Default icon instead of  my own myownappicon.png */
            shortcutintent.putExtra(Intent.EXTRA_SHORTCUT_ICON_RESOURCE, icon); 
            shortcutintent.putExtra(Intent.EXTRA_SHORTCUT_INTENT, new Intent(context.getApplicationContext() , DynamicSplashScreen.class));
            context.sendBroadcast(shortcutintent);
      } 
```

现在我的问题是，我们可以使用 SD 卡中用户指定的图标文件创建应用程序快捷方式吗？可行吗？

我已经尝试使用带有 decodefile 的 Bitmapfactory，不幸的是它没有用。如果这是可行的，请告诉我哪里出错了。

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-15T05:25:21.273

能够为我自己的问题找到解决方案...BitmapFactory.decodeFile 会成功的。

```
 public static void CreateShortCut(Context context, String ShortCutName, String ImageFileName){

            Intent shortcutintent = new Intent("com.android.launcher.action.INSTALL_SHORTCUT");
            shortcutintent.putExtra("duplicate", false);
            shortcutintent.putExtra(Intent.EXTRA_SHORTCUT_NAME, ShortCutName);
            Bitmap bmp = BitmapFactory.decodeFile(ImageFileName);   
            Bitmap scaledBitmap = Bitmap.createScaledBitmap(bmp, 72, 72, true);
            shortcutintent.putExtra(Intent.EXTRA_SHORTCUT_ICON, scaledBitmap);
            shortcutintent.putExtra(Intent.EXTRA_SHORTCUT_INTENT, new Intent(context.getApplicationContext() , SplashScreen.class));
            context.sendBroadcast(shortcutintent);

      } 
```

谢谢。

# ruby-on-rails - RailsAdmin 仅按某些字段过滤

> ID：13467739
> 
> 赞同：3
> 
> 时间：2012-11-20T06:32:23.050
> 
> 标签：ruby-on-rails, rails-admin

是否可以将 rails admin 配置为仅按某些字段进行过滤，因为现在它可以按所有列搜索并且速度很慢。

![在此处输入图像描述](../Images/244898a84a8d52e1c026948ea80cbe09.png)

显然，在我自定义索引页面后，我的添加过滤器按钮也没有显示字段。这是我的模型文件下的设置：

![在此处输入图像描述](../Images/a5e8c5a32743f6997c883c56707859e1.png)

```
rails_admin do |config|
  list do
    field :application_id 
    field :release_date
    field :title
    field :detail

    sort_by :release_date
    sort_reverse true
  end
end 
```

如何自定义仅按特定字段搜索并自定义添加过滤器选项。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T18:27:19.460

[文档](https://github.com/sferik/rails_admin/wiki/List "文件")说我们可以关闭对某些字段的搜索

```
field :created_at do
  searchable false
end 
```

您可以配置过滤器的选项，但它似乎只接受一组字段：

```
filters [:name, :manager] 
```

# email - 我可以使用 Mailchimp RSS 合并标签指定 RSS 项目 GUID 或项目偏移量吗？

> ID：13467740
> 
> 赞同：2
> 
> 时间：2012-11-20T06:32:26.800
> 
> 标签：email, drupal, web-applications, rss, mailchimp

我正在使用 mailchimp 提供的 rss 合并标签从我的 drupal 6 站点的单个 rss 提要中获取内容到我的 mailchimp campgain 中，并且它们在`*|FEEDBLOCK:URL* *|FEEDITEMS:[$count=3]|*....`语法上工作得很好。

我正在寻找的是指定和偏移或发布 GUID 的能力，以便我可以做一些更多涉及的布局，但仍然可以通过 RSS 提取所有内容。我需要能够从最近的帖子开始显示来自提要 x 的 2 个帖子，然后有一个自定义图像或文本块，然后从最近的第三个帖子开始显示来自提要 x 的 2 个帖子（偏移量为两个）。我希望能够交错多个提要并显示来自提要 x 的两个项目、来自提要 y 的两个项目、来自提要 z 的 3 个项目等，并且稍后能够显示来自提要 x/y/z 的下一个最新项目而无需重复任何项目。

是否有一个变量可以与 feedblock 合并标签一起使用，比如 $count 变量，或者有没有一种方法可以实现我在文档中遗漏的这一点？任何建议将不胜感激。

# c - atof 未在单链表中转换

> ID：13467742
> 
> 赞同：0
> 
> 时间：2012-11-20T06:32:45.060
> 
> 标签：c, stack, atof

输入文件应以后缀顺序指定单个代数表达式，支持正负浮点值和以下运算：加法 (+)、减法 (-)、乘法 (*)、除法 (/)。所有浮点值和操作都应该用空格分隔。我必须在以下行中扫描：

4 5 + 20 3 - * -4.0 +

尝试使用 atof 函数将用于扫描参数的字符串转换为浮点数并将其放入链表元素时出现错误。我也在使用堆栈结构。这是我的代码：ListElmt.h

```
#include "bool.h"

#ifndef LISTELMT_H
#define LISTELMT_H

typedef struct ListElmt_ {
   float num;
   struct ListElmt_ *next;
} ListElmt;

#endif 
```

主程序

```
#include "bool.h"
#include "listelmt.h"
#include "list.h"
#include <stdlib.h>
#include <stdio.h>
#include <string.h>

#define BUFSIZE 1000

int stack_push(List *list, int data){

    return list_ins_next(list, NULL, data);
}

int stack_pop(List *list, ListElmt *data){
    if(list->top->num == data->num){
        return list_rem_next(list, data);
    }
}

int main ( int argc, char *argv[] )
{
   FILE *ifp;
    char fileInput[BUFSIZE];
   char *newStr;
   List *argument_list;
   ListElmt *stack_elmt;
   int i = 0;
  float a=0; float b = 0; int c = 0;

 if ( argc != 2 ) /* argc should be 2 for correct execution */
{
    /* We print argv[0] assuming it is the program name */
    printf( "usage: %s filename", argv[0] );
}
else 
{
    // We assume argv[1] is a filename to open
    ifp = fopen( argv[1], "r" );

    if (ifp == 0 ){

        printf("Could not open file\n");
    }

    else{
            argument_list = (List *)malloc(sizeof(List));

           list_init(argument_list);
           stack_elmt = (ListElmt*)malloc(sizeof(ListElmt));

        while (fscanf(ifp, "%s", &newStr) != EOF){

             if(newStr != "+" || newStr != "-"|| newStr != "*"|| newStr!= "/" ){

                 stack_elmt->num = atof(newStr);

                 stack_elmt->next = NULL;

                 stack_push(argument_list, stack_elmt->num);
             }

             else{
                 if(newStr == "+"){
                     a = argument_list->top->num;
                     stack_pop(argument_list, argument_list->top);
                     b = argument_list->top->num;
                     stack_pop(argument_list, argument_list->top);
                     stack_elmt->num = a+b;
                     stack_elmt->next=NULL;

                     stack_push(argument_list, stack_elmt->num);
                 }
                 else if(newStr == "-"){
                     a = argument_list->top->num;
                     stack_pop(argument_list, argument_list->top);
                     b = argument_list->top->num;
                     stack_pop(argument_list, argument_list->top);
                     stack_elmt->num = a-b;
                     stack_elmt->next=NULL;

                     stack_push(argument_list, stack_elmt->num);
                 }
                 else if(newStr == "*"){
                     a = argument_list->top->num;
                     stack_pop(argument_list, argument_list->top);
                     b = argument_list->top->num;
                     stack_pop(argument_list, argument_list->top);
                     stack_elmt->num = a*b;
                     stack_elmt->next=NULL;

                     stack_push(argument_list, stack_elmt->num);
                 }
                 else if(newStr == "/"){
                     a = argument_list->top->num;
                     stack_pop(argument_list, argument_list->top);
                     b = argument_list->top->num;
                     stack_pop(argument_list, argument_list->top);
                     stack_elmt->num = a/b;
                     stack_elmt->next=NULL;

                     stack_push(argument_list, stack_elmt->num);
                 }
             }

             printf("%lf", argument_list->top->num);

        }
    }
 }//list_destroy(argument_list);
   getchar();
   //return 0;
     } 
```

我正在使用 Visual Studio，所以它不会告诉我有错误或任何东西，而是会中断并使用 atof 转到一些奇怪的文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T06:36:09.857

*   对于字符串比较，使用`strcmp()`or `strncmp()`。

    `if(newStr != "+" || newStr != "-"|| newStr != "*"|| newStr!= "/")`不会按预期比较字符串。

*   只声明了指针。

    字符 *newStr;

    所以内存应该动态分配或静态分配。即`char newStr[MAX_STR_LEN];`或`malloc(MAX_STR_LEN);`MAX_STR_LEN 是预期的最大字符串长度。

# java - 在Activity2的代码中改变Activity1中某个按钮的值

> ID：13467745
> 
> 赞同：0
> 
> 时间：2012-11-20T06:32:49.350
> 
> 标签：java, android, button, android-intent, android-edittext

我有一个包含两个活动的应用程序-> 活动 1 和活动 2。我希望用户能够在activity2中的EditText中输入文本，然后单击activity2中的按钮将activity1中按钮的值设置为该文本，然后返回到activity1。

这样做的最佳方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T06:36:38.633

启动 Activity2 以获得结果。从 Activity2 设置结果。然后在 Activity 的 onCreate 中检查值，并设置它。

[http://developer.android.com/reference/android/app/Activity.html#startActivityForResult(android.content.Intent](http://developer.android.com/reference/android/app/Activity.html#startActivityForResult(android.content.Intent) , int)

这里有教程。

[http://developer.android.com/reference/android/app/Activity.html](http://developer.android.com/reference/android/app/Activity.html)

搜索“开始活动并获得结果”

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T06:47:28.007

您可以在活动中有意发送一些文本

```
Intent intent=new Intent(context,Activity1.class)
intent.putExtra("buttonText",editText.getText().toString());
statActivity(intent); 
```

在你的 Activity1

在 onCreate

```
Bundle bundle=getIntent().getExtras();

if(bundle!=null)
{
  String buttonText=bundle.getString("buttonText");
  button.setText(buttonText);
} 
```

# android - 选择器的大小与“正常”图像不同

> ID：13467746
> 
> 赞同：1
> 
> 时间：2012-11-20T06:33:09.897
> 
> 标签：android, image, selector, drawable

我有一个奇怪的问题。当我这样做时：

```
btnSleeping.setImageDrawable(getResources().getDrawable(
                        R.drawable.selector_sleeping_on)); 
```

图像比我这样做时要小：`btnSleeping.setImageDrawable(getResources().getDrawable( R.drawable.sleeping_on));`

sleep_on 是一个图像， selector_sleeping_on 是一个选择器。这是我的选择器：

```
<selector xmlns:android="http://schemas.android.com/apk/res/android">

<item android:drawable="@drawable/btn_sleeping_on" android:state_pressed="false"/>
<item android:drawable="@drawable/btn_sleeping" android:state_pressed="true"/> <!-- default --> 
```

我只有在“drawable-xhdpi”中有 sleep_on 和 sleep_off 图像。为什么选择器的大小与普通 imageView 的大小不同，如何使它们的大小相同？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:40:29.307

在您正在谈论的这种情况下，一件事可能是它自身具有不同大小的图像，

您还可以做的另一件事是您也可以**修复**选择器的大小。

以下是固定大小的片段。

**注意**：您可以根据需要更改宽度和高度值。

```
<item>
 <shape android:shape="rectangle">
  <size android:width="30" android:height="40"/>
  <solid android:color="#000000" />
 </shape>
</item> 
```

# c# - 单击gridview中的单选按钮时使复选框可见

> ID：13467747
> 
> 赞同：1
> 
> 时间：2012-11-20T06:33:25.127
> 
> 标签：c#, jquery, .net

我有一个在页面加载时隐藏的复选框。

当我单击使用 jquery 的 Gridview 中的单选按钮时，我想显示此复选框。

该复选框位于网格视图之外。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T06:36:53.540

```
$('input[type="radio"]').on('click', function(){

     $('#chkOnHold').show(); 
}); 
```

问题似乎是因为`visible="false"`..这完全从DOM中删除了控件..而不是`style="display:none"`用来隐藏它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T06:43:07.563

在这种情况下使用简单的“onChange”

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T07:34:57.707

`<asp:Checkbox ID="chkOnHold" runat="server" visible="False" Text="On Hold"/>`

好吧，当`visible="False"`使用时，控件在渲染时被忽略，因此不会发布到浏览器窗口中显示的页面。`F12`（您始终可以通过在浏览器窗口中按下来检查控件是否存在。然后使用`Ctrl+Mouse Click`复选框的任何相邻元素。您不会在那里找到与复选框相对应的代码。）

由于 jquery 适用于 DOM 或简单的 HTML，因此您无法访问该复选框，因为它不存在。:)

您最好`AutoPostBack="true"`在 RadioButton 上使用，然后使复选框在`onChange`radioButton 事件上可见。话虽如此，如果您仍然坚持使用 jQuery 来完成任务，可以使用 AJAX & jQuery 来完成。

（嗯，我不太清楚如何达到同样的效果。）

希望，我很有帮助。

# entity-framework - 使用 EF Code First 的 SQL Server 视图与 LINQ 到实体查询

> ID：13467749
> 
> 赞同：4
> 
> 时间：2012-11-20T06:33:32.313
> 
> 标签：entity-framework, linq-to-entities, ef-code-first, sql-view

问题仅与 Entity Framework 5 代码优先有关。什么是更好的选择（性能和可扩展性）：

1.  创建 SQL Server 视图，将它们视为`DbSets`您的`DbContext`.

2.  创建表示视图模型的自定义类，在执行查询之前使用 Linq to Entities 将实体模型投影到视图模型。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T07:52:25.327

好吧，这取决于您的查询有多大，如果它很大并且需要大量的处理，我建议您以这种方式创建一个视图，所有繁重的工作都将在 SQL Server 上进行，并且您的应用程序在处理时会更快。

我还建议使用虚拟类而不是创建一个新类，因为您将拥有所有可用的实体框架功能。检查这个链接

[virtual 关键字在 Entity Framework 4.1 POCO Code First 中可以产生什么影响？](https://stackoverflow.com/questions/5597760/what-effects-can-the-virtual-keyword-have-in-entity-framework-4-1-poco-code-fi)

希望这有帮助

# xcode - Xcode：从 UIButton 名称中获取名称

> ID：13467752
> 
> 赞同：0
> 
> 时间：2012-11-20T06:33:45.100
> 
> 标签：xcode, casting, integer, sender

我想从 UIButton 的名称中获取整数。

UIButton 的名称是“Button11”，因此我希望我的整数为 11。

谁能告诉我该怎么做？

我“已经”有以下代码：

```
-(IBAction)processButtonUpInside:(id)sender
{
     UIButton *nButton (UIButton*)sender;
     integer_t nInt = ... //I am not perfectly sure if I should use "integer_t" 
} 
```

非常感谢你！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T07:02:56.130

根据您的需要，最好使用标签而不是名称。

```
[aButton setTag:11];

-(IBAction)processButtonUpInside:(id)sender
{
     UIButton *nButton = (UIButton*)sender;
     int nInt =  nButton.tag;
} 
```

但是，如果您仍然需要名称中的整数，则将按钮名称设置为：@"13button"

现在你可以得到这样的整数。

```
[nButton.titleLabel intValue];//13 
```

**编辑：**

按钮名称是@"Button13"。

```
 NSCharacterSet *numbers = [NSCharacterSet characterSetWithCharactersInString:@"0123456789"];
NSString *newString = [[nButton.titleLabel.text componentsSeparatedByCharactersInSet:[numbers invertedSet]] componentsJoinedByString:@""];
//newString = 13 
```

# concurrency - 在方案中实现并行执行

> ID：13467753
> 
> 赞同：7
> 
> 时间：2012-11-20T06:33:47.713
> 
> 标签：concurrency, scheme, sicp

在关于 Currency 的 SICP 3.4 节（方案中的序列化器）中，有一个称为并行执行的过程，该过程在 MIT 方案中进行了描述但未实现。我想知道是否有人真正实施过它；如果不是，如何开始实施这一程序？

[http://mitpress.mit.edu/sicp/full-text/book/book-ZH-23.html#%_sec_3.4.1](http://mitpress.mit.edu/sicp/full-text/book/book-Z-H-23.html#%_sec_3.4.1)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-20T13:47:06.263

这就是我`parallel-execute`使用 Racket 解决 SICP 3.4 节中练习的方法：

```
(define (parallel-execute . procs)
  (map thread-wait
       (map (lambda (proc) (thread proc))
            procs))) 
```

我不能保证它`parallel-execute`与书中定义的过程具有相同的语义，但它允许我解决练习。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-11-06T07:38:47.717

本书的官方网站提供了一个工具[parallel.scm](https://mitpress.mit.edu/sicp/psets/ps7/readme.html)。像这样打开 MIT 方案：

```
mit-scheme -load PATH/parallel.scm 
```

或者把这个

```
(load "PATH/parallel.scm") 
```

在您的方案源文件的头部。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-05-29T17:21:49.513

实际上，您可以使用以下软件包在球拍中加载所有必要的实现。只需在定义或交互窗口中键入它，必要的包就会被安装，当你需要它时，在定义窗口中包含相同的注释：

（需要（行星dyoo/sicp-concurrency:1:2/sicp-concurrency））

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-20T19:54:36.900

在 GNU Guile 中，该过程被实现为`[parallel](http://www.gnu.org/software/guile/manual/html_node/Parallel-Forms.html#index-parallel-2958)`. 它在那里被定义为一种特殊形式，可从`(use-modules (ice-9 threads))`. 如果你想自己实现它，你可以看看这个模块的源代码。

# git - 撤消 git merge（并推送到 heroku）

> ID：13467755
> 
> 赞同：0
> 
> 时间：2012-11-20T06:33:49.977
> 
> 标签：git, heroku, merge, push, undo

这个问题已经问了太多次了，但我没有找到解决我的情况的方法，所以会再问一次。我有 2 个分支机构 - 主人和居民。我已经在居民身上工作了大约 2 个月，基本上是对表单的完全重新设计（大量的复选框、单选按钮等以避免打字）。大约 35 次提交。几次左右，我对主人做了一些小的改动，并将主人合并到居民中。然后当我对居民感到满意时，我切换到master，将居民合并到其中并推送到heroku。

该应用程序（实际上是包含一些 JS 的表单）在 heroku 上不起作用（它在我的本地上起作用）。我回滚了heroku，现在我需要将应用程序恢复到合并和推送之前的状态。我有居民分支，所以我只需要从主服务器中丢弃整个合并。

我认为这应该是一个简单的撤消，但我不知道如何。

感谢帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T06:47:59.003

我认为您可以重置合并然后再次推送。

`git reset --merge`：重置索引并更新工作树中与 HEAD 不同的文件，但保留索引和工作树之间不同的文件（即有更改但尚未添加的文件）。如果与索引不同的文件具有未暂存的更改，则中止重置。

[http://git-scm.com/docs/git-reset](http://git-scm.com/docs/git-reset)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T09:30:29.473

假设 master 中的最新提交是您的常驻分支的合并，并且您没有与其他人共享您的应用程序，您可以执行以下操作：

```
git reset --hard HEAD~1 
```

该命令说回滚到前一个父级。然后你需要做：

```
git push --force 
```

您也可以使用它`git revert`来执行此操作，但这也带来了一些额外的复杂性。您将不得不恢复合并提交，稍后，当您想要恢复分支时，您将恢复您的恢复，然后合并分支。否则，所有的修订都不会过来。在这种情况下，我赞成修改历史记录，这就是我在上面向您展示的内容，因为当您可以使用它时，它会更简单、更干净。

# javascript - 如何使用正则表达式从消息中提取链接？

> ID：13467759
> 
> 赞同：-2
> 
> 时间：2012-11-20T06:33:55.710
> 
> 标签：javascript, regex

> **可能重复：**
> [如何从 Javascript 中的链接中提取文本？](https://stackoverflow.com/questions/6345151/how-to-extract-text-from-link-in-javascript)

我想在消息中提取超链接。我认为应该通过正则表达式来完成，然后用 a-tag 包围。但是如何做一个从消息中提取链接的正则表达式呢？

这是我不完整的尝试：

```
var str = ' Disappointing Usability http://t.co/wkTFYhQq';
 var pattern = /http:///w{1,100}/i
 var str2 =  pattern.exec(str);
 alert(str2); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T06:37:40.677

与此正则表达式一起使用`match`，应该会为您提供一个包含字符串中所有链接的数组：

```
/(?:https?|ftp|www)[^\s]+/g 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T06:38:14.423

您的模式应捕获组中的 URL：

```
var pattern = /(...)/;
var output = input.replace(pattern, '<a href="$1">$1</a>'); 
```

有大量可用的 URL 模式，具体取决于您想要的包容性。

# ios - UITableView 中的 indexPath 和 indexPath.section

> ID：13467764
> 
> 赞同：-1
> 
> 时间：2012-11-20T06:34:27.757
> 
> 标签：ios, objective-c, uitableview, cocoa-touch

很多 iPhone 应用程序都需要 UITableView，我也读了很多，我知道 indexPath.row 是当前行但我不知道 indexPath 和 indexPath.section 是什么。你能详细解释一下吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T06:48:09.433

简单来说，section是wrt table，row是wrt section..

从下面的图片中，您可以更好地了解它，有关更多信息，您可以查看其他答案中的苹果文档。

![在此处输入图像描述](../Images/541df290beb6ffbfa94b2c868e4668da.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T06:42:15.987

就像 the`indexPath.row`是当前行一样， the`indexPath.Section`代表当前的部分`UITableView`

请阅读这个简单的插图文档：
[https ://developer.apple.com/documentation/uikit/views_and_controls/table_views](https://developer.apple.com/documentation/uikit/views_and_controls/table_views)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T06:44:01.023

一些数据的索引和标题标题，以及一个表中具有不同部分的不同数据，然后这里需要表中的部分。这里 indexPath 将这两个值存储在行和部分中，它们定义了记录的索引与部分和排。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-20T06:41:17.507

这里的每个人都可以为您详细解释。但如果你只自学，你就会得到它。我们只能为您提供参考。

[UITableView 类参考](https://developer.apple.com/documentation/uikit/uitableview)

学习并观察这一点，并使用其中给出的一些示例。你自己会经历很多。

# azure - 无法重置 Windows Azure 的计算模拟器

> ID：13467765
> 
> 赞同：2
> 
> 时间：2012-11-20T06:34:27.823
> 
> 标签：azure

我的计算模拟器似乎出了点问题，我无法正常使用它，所以我按照这里的说明尝试重置我的模拟器：

> write-host "========= 正在重置 Azure Comoute Emulator & Dev Storage... =========
> 
> $CSRunFile = "C:\Program Files\Microsoft SDKs\Windows Azure\Emulator\csrun.exe"
> 
> $DSInitFile = "C:\Program Files\Microsoft SDKs\Windows Azure\Emulator\devstore\DSInit.exe"
> 
> & $CSRunFile @("/devstore:shutdown")
> 
> & $CSRunFile @("/devfabric:shutdown")
> 
> 开始处理 $DSInitFile @("/ForceCreate", "/silent") -Wait
> 
> & $CSRunFile @("/devfabric:shutdown")
> 
> & $CSRunFile @("/devfabric:clean")
> 
> & $CSRunFile @("/devfabric:start")
> 
> & $CSRunFile @("/devstore:start")
> 
> & $CSRunFile @("/removeAll")
> 
> write-host “重置 Azure Comoute 模拟器和开发存储完成！”

但是当我试图关闭`/devfabric`

> C:\Program Files\Microsoft SDKs\Windows Azure\Emulator>csrun.exe /devfabric:shutdown
> 
> 适用于 Microsoft(R) .NET Framework 4.0 的 Windows(R) Azure(TM) 桌面执行工具版本 1.8.0.0
> 
> 版权所有 (c) 微软公司。版权所有。
> 
> 关闭计算模拟器...
> 
> 使用会话 ID 1
> 
> ^C
> 
> C:\Program Files\Microsoft SDKs\Windows Azure\Emulator>

我很长一段时间都得不到回应。

任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T17:38:17.303

关于您的问题可能有一个或多个具体原因，主要针对您的机器配置，因此查看日志是进一步推进的最佳方式。您可以尝试以下几种方法来解决问题：

首先检查您的 dftemp 根目录是什么。如果您没有进行任何更改，则默认 DfTemp 根设置如下（除非您已更改）：

*   C:\Users_your_windows_login_name\AppData\Local

计算机模拟器日志位于：

*   C:\Users_your_windows_login_name\AppData\Local\dftemp
*   C:\Users_your_windows_login_name\AppData\Local\DevelopmentStorage

在上面的“dftemp”文件夹中，您将在以下位置找到 df 特定日志：

*   C:\Users_your_windows_login_name\AppData\Local\dftmp\DFAgentLogs
*   C:\Users_your_windows_login_name\AppData\Local\dftmp\DevFCLogs

现在，如果您检查“DFAgentLogs”，您将看到最新的日志，其中将显示 CSRUN 卡在的位置。请记住，如果您有自定义 dftemp 设置，那么日志将显示在那里。获得日志后，您将查看是否有任何异常或值得注意的事情。

为了进一步解决这个问题，您还可以在您的机器上运行“[进程监视器](http://technet.microsoft.com/en-us/sysinternals/bb896645.aspx)”并收集与 csrun 进程相关的日志，看看可能是什么问题。 ![在此处输入图像描述](../Images/e9824b2ea85f38b471ab1646bf203058.png)

获得上述信息后，您可以自行解决问题，也可以通过[Windows Azure 支持团队](https://www.windowsazure.com/en-us/support/contact/)打开免费支持事件以获得一些帮助。

# android - 来自 HTC EVO 3D 的深度图

> ID：13467766
> 
> 赞同：2
> 
> 时间：2012-11-20T06:34:33.777
> 
> 标签：android

我有个问题。

evo 3d 有深度图吗？（现实世界物体到相机的距离）

如果是这样，开发人员可以使用库来获取深度图吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T07:48:52.993

默认情况下它不会得到它。你必须自己计算它。为此，您可以使用 OpenCV 4 Android 并使用立体匹配功能。检查以下链接：

*   对于这个想法：[http ://blog.martinperis.com/2011/08/opencv-stereo-matching.html](http://blog.martinperis.com/2011/08/opencv-stereo-matching.html)

*   来自 OpenCV 文档：[http ://docs.opencv.org/java/index.html?org/opencv/calib3d/StereoBM.html](http://docs.opencv.org/java/index.html?org/opencv/calib3d/StereoBM.html)

# java - 是否可以同时执行 onDestroy 和 fullSensor

> ID：13467767
> 
> 赞同：0
> 
> 时间：2012-11-20T06:34:56.137
> 
> 标签：java, android, xml, android-manifest

是否可以在同一个应用程序中使用这两种方法？

```
Use for :rotation with backhome(onDestroy)

  public void onDestroy(){
            super.onDestroy();
           webview.destroy();
            finish();
           System.gc();
           //webview = null;
      } 
```

和

```
 setRequestedOrientation (ActivityInfo.SCREEN_ORIENTATION_FULL_SENSOR); //in java file
or
    android:screenOrientation="fullSensor"//manifest 
```

单击手机撤消按钮时，我想旋转兼容并退出应用程序。我的应用程序也使用javascript。

# elasticsearch - 检索多值数组字段时出现空指针异常

> ID：13467770
> 
> 赞同：0
> 
> 时间：2012-11-20T06:35:08.287
> 
> 标签：elasticsearch

我无法访问我的 Elasticsearch 索引中的一些多值数组 我使用查询 [从 elasticsearch 检索多值数组](https://stackoverflow.com/questions/13228768/retrieving-the-multivalued-array-from-elasticsearch) 但是我在索引中的某些文档出现空指针异常，其中存在为搜索提供的数组。当我使用queryString 查询而不是 match_all

```
{
took: 3
timed_out: false
_shards: {
    total: 2
    successful: 1
    failed: 1
    failures: [
        {
            status: 500
            reason: NullPointerException[null]
        }
    ]
} 
```

我的查询是

```
{
 "query":{
  "query_string":{
  "query":"report","default_field":"Content"
 }
},
"script_fields": {
"entity_facets": {
"script": "result=[];foreach(facet : _source.Categories.Types.Events)      

{if(facet.event==event) result.add(facet);} result",
 "params": {
 "event":"AnalystEvent"
  }
  }
 } 
```

}

**编辑：** 我有一个索引 [https://gist.github.com/4129488](https://gist.github.com/4129488) 我通过运行查询得到

```
 {
  "from": "0",
  "size": "100",
  "query": {
   "bool": {
   "must": [
   {
    "bool": {
    "must": [
    {
     "query_string": {
     "query": "confronted",
     "default_field":"Content"
    }
   },
   {
    "range": {
    "actualTimeStamp": {
    "from": "23-07-2012 10:04:52",
    "to": "23-09-2012 10:04:52"
   }
 }
 }
  ]
 }
 },
 {
  "bool": {
  "should": [
  {
    "fuzzy": {
    "SourceName": {
     "value": "Economic_Times"
   }
   }
   },
   {
     "fuzzy": {
     "SourceName": {
     "value": "reuters"
    }
   }
  }
 ]
 }
}
]
}
}
} 
```

但是在上面的查询中使用脚本字段时我没有得到这个索引！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T14:52:46.160

您可能有一条记录，它不存储 _source，或者它的 _source 没有类别，或者类别没有任何类型或类型没有任何事件。只需添加 if 语句来检查这些条件。

# javascript - 我们如何在链接按钮单击上实现 CssClass 活动

> ID：13467775
> 
> 赞同：0
> 
> 时间：2012-11-20T06:35:34.617
> 
> 标签：javascript, asp.net, css, vb.net

在每个链接按钮单击时，都会处理事件我们如何在链接按钮单击时更改 cssClass？请注意，每次单击按钮时页面都会刷新。

目前，当我单击任何 LinkBut​​ton 时，默认情况下它将 cssClass 设置为 Plus LinkBut​​ton

---index.aspx-----------

```
<ul class="mainMenu">
<li>
    <asp:LinkButton ID="lnkHome" runat="server"><span>Home</span></asp:LinkButton>
</li>
<li>
    <asp:LinkButton ID="lnkIndia" runat="server"><span>India</span></asp:LinkButton></li>
<li>
    <asp:LinkButton ID="lnkWorld" runat="server"><span>World</span></asp:LinkButton></li>
<li>
    <asp:LinkButton ID="lnkStates" runat="server"><span>States</span></asp:LinkButton></li>
<li>
    <asp:LinkButton ID="lnkCity" runat="server"><span>City</span></asp:LinkButton></li>
<li>
    <asp:LinkButton ID="lnkBusiness" runat="server"><span>Business</span></asp:LinkButton></li>
<li>
    <asp:LinkButton ID="lnkSport" runat="server"><span>Sport</span></asp:LinkButton></li>
<li>
    <asp:LinkButton ID="lnkMagazine" runat="server"><span>Magazine</span></asp:LinkButton></li>
<li>
    <asp:LinkButton ID="lnkBlogs" runat="server"><span>Patrika Blogs</span></asp:LinkButton></li>
<li>
    <asp:LinkButton ID="lnkPlus" CssClass="active" runat="server"><span>Plus</span></asp:LinkButton></li> 
```

* * *

## CSS 类

```
ul.mainMenu{float:right; background:url(../images/menubg.gif) 0 0 repeat-x; width:100%}
ul.mainMenu li{float:left; color:#a7b5be; font-weight:bold; background:url(../images/seprator.gif) right 0 no-repeat; position:relative; z-index:999}
ul.mainMenu li a{color:#586066;line-height:24px;display:inline-block;}
ul.mainMenu li a span{color:#576067; padding:0 11px; line-height:24px; display:inline-block; }
ul.mainMenu li a:hover{background:url(../images/hover.gif) 0 0 repeat-x}
ul.mainMenu li a:hover span{color:#fff}
ul.mainMenu li a.active{background:url(../images/hover.gif) 0 -24px repeat-x;}
ul.mainMenu li a.active span{background:url(../images/redArrow.gif) center bottom no-repeat; padding-bottom:7px; color:#fff} 
```

* * *

## VB代码

```
 Protected Sub lnkHome_Click(sender As Object, e As EventArgs) Handles lnkHome.Click
    If (ConfigurationManager.AppSettings("SeoFriendlyUrl") = "true") Then
        Response.RedirectToRoute("HomePage")
    Else
        Response.Redirect("index.aspx")
    End If
End Sub

Protected Sub lnkAboutUs_Click(sender As Object, e As EventArgs) Handles lnkAboutUs.Click
    If (ConfigurationManager.AppSettings("SeoFriendlyUrl") = "true") Then
        Response.RedirectToRoute("AboutUsRoute")
    Else
        Response.Redirect("AboutUs.aspx")
    End If
End Sub

Protected Sub lnkContactUs_Click(sender As Object, e As EventArgs) Handles lnkContactUs.Click
    If (ConfigurationManager.AppSettings("SeoFriendlyUrl") = "true") Then
        Response.RedirectToRoute("ContactUsRoute")
    Else
        Response.Redirect("ContactUs.aspx")
    End If
End Sub

Protected Sub lnkFeedback_Click(sender As Object, e As EventArgs) Handles lnkFeedback.Click
    If (ConfigurationManager.AppSettings("SeoFriendlyUrl") = "true") Then
        Response.RedirectToRoute("FeedbackRoute")
    Else
        Response.Redirect("Feedback.aspx")
    End If
End Sub

Protected Sub lnkSiteMap_Click(sender As Object, e As EventArgs) Handles lnkSiteMap.Click
    If (ConfigurationManager.AppSettings("SeoFriendlyUrl") = "true") Then
        Response.RedirectToRoute("SiteMapRoute")
    Else
        Response.Redirect("Sitemap.aspx")
    End If
End Sub

Protected Sub lnkAdvWithUs_Click(ByVal sender As Object, ByVal e As EventArgs) Handles lnkAdvWithUs.Click
    If (ConfigurationManager.AppSettings("SeoFriendlyUrl") = "true") Then
        Response.RedirectToRoute("AdvertiseWithUsRoute")
    Else
        Response.Redirect("AdvertiseWithUs.aspx")
    End If
End Sub

Protected Sub lnkPrivacyFooter_Click(sender As Object, e As EventArgs) Handles lnkPrivacyFooter.Click
    If (ConfigurationManager.AppSettings("SeoFriendlyUrl") = "true") Then
        Response.RedirectToRoute("PrivacyRoute")
    Else
        Response.Redirect("PrivacyPolicy.aspx")
    End If
End Sub

Protected Sub lnkDisclaimerFooter_Click(sender As Object, e As EventArgs) Handles lnkDisclaimerFooter.Click
    If (ConfigurationManager.AppSettings("SeoFriendlyUrl") = "true") Then
        Response.RedirectToRoute("DisclaimerRoute")
    Else
        Response.Redirect("Disclaimer.aspx")
    End If
End Sub

Protected Sub lnkNewsLetterFooter_Click(sender As Object, e As EventArgs) Handles lnkNewsLetterFooter.Click
    If (ConfigurationManager.AppSettings("SeoFriendlyUrl") = "true") Then
        Response.RedirectToRoute("NewsLetterRoute")
    Else
        Response.Redirect("NewsLetters.aspx")
    End If
End Sub

Protected Sub lnkWorkWithUs_Click(sender As Object, e As EventArgs) Handles lnkWorkWithUs.Click
    If (ConfigurationManager.AppSettings("SeoFriendlyUrl") = "true") Then
        Response.RedirectToRoute("WorkWithUsRoute")
    Else
        Response.Redirect("WorkWithUs.aspx")
    End If
End Sub

Protected Sub lnkIndia_Click(sender As Object, e As EventArgs) Handles lnkIndia.Click
    If (ConfigurationManager.AppSettings("SeoFriendlyUrl") = "true") Then
        Response.RedirectToRoute("CategoryRoute", New With {
                                                            .CatName = "India"
                                                            })
    Else
        Response.Redirect("Category.aspx?CatName=India")
    End If
End Sub

Protected Sub lnkWorld_Click(sender As Object, e As EventArgs) Handles lnkWorld.Click
    If (ConfigurationManager.AppSettings("SeoFriendlyUrl") = "true") Then
        Response.RedirectToRoute("CategoryRoute", New With {
                                                            .CatName = "World"
                                                            })
    Else
        Response.Redirect("Category.aspx?CatName=World")
    End If
End Sub

Protected Sub lnkStates_Click(sender As Object, e As EventArgs) Handles lnkStates.Click

End Sub

Protected Sub lnkBusiness_Click(sender As Object, e As EventArgs) Handles lnkBusiness.Click
    If (ConfigurationManager.AppSettings("SeoFriendlyUrl") = "true") Then
        Response.RedirectToRoute("CategoryRoute", New With {
                                                            .CatName = "Business"
                                                            })
    Else
        Response.Redirect("Category.aspx?CatName=Business")
    End If
End Sub

Protected Sub lnkSport_Click(sender As Object, e As EventArgs) Handles lnkSport.Click
    If (ConfigurationManager.AppSettings("SeoFriendlyUrl") = "true") Then
        Response.RedirectToRoute("CategoryRoute", New With {
                                                            .CatName = "Sports"
                                                            })
    Else
        Response.Redirect("Category.aspx?CatName=Sports")
    End If
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:54:03.760

最好的方法是结合使用链接按钮的 ID 和分配给页面正文标记的 ID。

让我们以印度链接为例。您的 HTML 标记看起来像这样：

```
<body id="india-page">
<ul class="mainMenu">
<li>
    <asp:LinkButton ID="lnkHome" runat="server"><span>Home</span></asp:LinkButton>
</li>
<li>
    <asp:LinkButton ID="lnkIndia" runat="server"><span>India</span></asp:LinkButton></li>
<li>
</ul> 
```

然后，您的 CSS 样式表将如下所示。

```
#home-page ul.mainMenu li a#lnkHome {background:url(../images/hover.gif) 0 -24px repeat-x;}
#india-page ul.mainMenu li a#lnkIndia {background:url(../images/hover.gif) 0 -24px repeat-x;} 
```

因此，body id 为“india-page”的每个页面都会突出显示 India 链接

每个正文 id 为“主页”的页面都会突出显示主页链接等

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T22:42:49.633

由于您使用的是 AspNet。为什么不为来自服务器的每次行程修改您的 LinkBut​​ton 属性。或者将其作为您可以在页面重新加载后应用的状态的一部分。

最好的

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-20T06:46:02.423

点击链接按钮调用jquery函数如下：

```
 <script type="text/javascript">
     $(document).ready(function () {
        $(".lnkIndia").click(function () {

            $(".lnkIndia").addClass("Name of css class");
         }

     });
    </script> 
```

在您的页面上添加上述脚本，但这是针对特定链接按钮，即“lnkIndia”，其他您需要添加相同的脚本并更改按钮

对于常用功能，您可以使用以下代码：

```
 <script type="text/javascript">
   function AddClass(IdOfLinkButton)
   { 
        document.getElementById(IdOfLinkButton).style.backcolor='red';
        document.getElementById(IdOfLinkButton).style.baorder='1px solid red';
   }
  </script> 
```

并在单击链接按钮时调用此 javascript 函数，如下所示也不要忘记将链接按钮的 id 传递给您正在调用函数的函数。

```
<asp:LinkButton ID="lnkIndia" runat="server" OnClientClick="javscript:AddClass('lnkIndia');"> 
```

# jquery - 一起使用主干和 jQuery 并通过 jQuery 访问数据值

> ID：13467781
> 
> 赞同：2
> 
> 时间：2012-11-20T06:35:56.460
> 
> 标签：jquery, backbone.js

我知道这不是您应该这样做的方式，但我们有一个遗留的 jQuery 应用程序，并且已经讨论过将其移至主干。一个吸引人的成语是这样的：

```
<script type="text/html" id="mi_form_template">
  the data-item-id is the value we are interested in!!!
 <button id="item" data-item-id='23'>here is item</button>
  </script> 
```

我知道您不应该将这样的信息存储在带有主干的 DOM 中。但希望能够预料到有关此的讨论。

我可以像这样访问 item-id 吗？

```
ItemsRouter = Backbone.Router.extend({
    routes: {
      "new": "newProduct",
      "": "index"
    },
    newProduct: function() {
      alert('here is newProduct');
      var item_id=$(this).data('item-id'); // <- can we do this???
      new ItemFormView( {model: new Item()});
    },
    ind ... 
```

从初步测试来看，这不起作用 - 看起来对 this 的引用不起作用。这是可能的吗？

提前谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:52:52.577

通常你会通过视图（不是路由器）访问数据属性，如下所示：

```
events: {
    'click #item': 'newProduct'
},
newProduct: function(ev) {
    var item_id = $(ev.target).data('item-id');
    // And now do whatever makes sense, possibly even trigger
    // a route that contains `item_id`.
} 
```

路由处理程序不知道是什么触发了它，它只知道它应该处理特定的 URL 模式。如果您想将路由器用于此类事情，那么您需要一个链接：

```
<a href="/new/23">...</a> 
```

然后在路由器中：

```
routes: {
    'new/:item_id': 'newProduct'
},
newProduct: function(item_id) {
    // Do things with item_id
} 
```

因此，您仍然可以使用数据属性（Backbone BTW 可以），但您可能会在视图的事件处理程序而不是路由器中访问它们。

# kernel - 系统调用背后的编码是什么？

> ID：13467782
> 
> 赞同：1
> 
> 时间：2012-11-19T21:01:32.563
> 
> 标签：kernel, system, processor

我目前正在从事一个设计项目，其基本形式涉及更改不同处理器的频率以优化性能。它本质上是观察州长的表现，然后量化结果。很直接。

该项目的一位顾问希望我和我的合作伙伴对**系统调用**提供更详细的**解释**。

 **我的理解是，由于系统调用正在内核中进行更改，因此它主要是通过硬件完成的。

我的顾问认为系统调用实际上是目录。如果是这种情况，我可以在哪里访问这些目录来检查代码？

例如，有人可以准确地向我解释为此调用了什么：系统`/sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq`

感谢您提供的任何信息。**

# xml - 使用 XML 包 R 解析 RSS 提要

> ID：13467783
> 
> 赞同：5
> 
> 时间：2012-11-20T06:36:07.737
> 
> 标签：xml, r, xml-parsing

我正在尝试抓取并解析以下 RSS 提要[http://www.huffingtonpost.com/rss/liveblog/liveblog-1213.xml](http://www.huffingtonpost.com/rss/liveblog/liveblog-1213.xml)我查看了有关 R 和 XML 的其他查询，但未能取得任何进展关于我的问题。每个条目的 xml 代码

```
 <item>
     <title><![CDATA[Five Rockets Intercepted By Iron Drone Systems Over Be'er Sheva]]></title>
     <link>http://www.huffingtonpost.co.uk/2012/11/15/tel-aviv-gaza-rocket_n_2138159.html#2_five-rockets-intercepted-by-iron-drone-systems-over-beer-sheva</link>
     <description><![CDATA[<a href="http://www.haaretz.com/news/diplomacy-defense/live-blog-rockets-strike-tel-aviv-area-three-israelis-killed-in-attack-on-south-1.477960" target="_hplink">Haaretz reports</a> that five more rockets intercepted by Iron Dome systems over Be'er Sheva. In total, there have been 274 rockets fired and 105 intercepted. The IDF has attacked 250 targets in Gaza.]]></description>
     <guid>http://www.huffingtonpost.co.uk/2012/11/15/tel-aviv-gaza-rocket_n_2138159.html#2_five-rockets-intercepted-by-iron-drone-systems-over-beer-sheva</guid>
     <pubDate>2012-11-15T12:56:09-05:00</pubDate>
     <source url="http://huffingtonpost.com/rss/liveblog/liveblog-1213.xml">Huffingtonpost.com</source>
  </item> 
```

对于每个条目/帖子，我想记录“日期”（pubDate）、“标题”（标题）、“描述”（全文清理）。我曾尝试在 R 中使用 xml 包，但承认我有点新手（几乎没有使用 XML 的经验，但有一些 R 经验）。我正在处理的代码是：

```
 library(XML)

 xml.url <- "http://www.huffingtonpost.com/rss/liveblog/liveblog-1213.xml"

 # Use the xmlTreePares-function to parse xml file directly from the web

 xmlfile <- xmlTreeParse(xml.url)

# Use the xmlRoot-function to access the top node

xmltop = xmlRoot(xmlfile)

xmlName(xmltop)

names( xmltop[[ 1 ]] )

  title          link   description      language     copyright 
  "title"        "link" "description"    "language"   "copyright" 
 category     generator          docs          item          item 
  "category"   "generator"        "docs"        "item"        "item" 
```

然而，每当我试图操纵和试图操纵“标题”或“描述”信息时，我都会不断地出错。任何帮助解决此代码，将不胜感激。

谢谢，托马斯

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-20T12:55:14.720

我正在使用优秀的 Rcurl 库和 xpathSApply

这是脚本为您提供 3 个列表（标题、发布日期和描述）

```
library(RCurl)
library(XML)
xml.url <- "http://www.huffingtonpost.com/rss/liveblog/liveblog-1213.xml"
script  <- getURL(xml.url)
doc     <- xmlParse(script)
titles    <- xpathSApply(doc,'//item/title',xmlValue)
descriptions    <- xpathSApply(doc,'//item/description',xmlValue)
pubdates <- xpathSApply(doc,'//item/pubDate',xmlValue) 
```

# iphone - 如果我调用这个方法，那么我会得到一个错误，即“数据库被锁定”。我该如何解决这个问题？请帮我

> ID：13467794
> 
> 赞同：1
> 
> 时间：2012-11-20T06:36:33.510
> 
> 标签：iphone, objective-c, ios, sqlite

如果我调用`-(void)insertDataIntoAssemblyAssessment`方法，where`finalAssembIdArr`是一个数组，其中必须有多个值，那么我会收到一个错误，即“**数据库已锁定**”。但是，如果 in`finalAssembIdArr`只有一个值，则值成功存储在数据库中。

我该如何解决这个问题？请帮我。

```
-(void)insertDataIntoAssemblyAssessment
{
    sqlite3_stmt *fstatement;
    const char *dbpath = [databasePath UTF8String];
    for(int cnt=0; cnt < [finalAssembIdArr count]; cnt++)
    {
        finalAsmbId2=[finalAssembIdArr objectAtIndex:cnt];

        NSLog(@"finalAsmbId2...%@",finalAsmbId2);
        NSLog(@"finalAssessmentIdSt2...%@",finalAssessmentIdSt2);
        NSLog(@"finalFacIdSt2...%@",finalFacIdSt2);
        NSLog(@"finalSpaceIdSt2...%@",finalSpaceIdSt2);

        if (sqlite3_open(dbpath, &ipadSites) == SQLITE_OK)
        {
            NSLog(@"db opened for AssemblyAssessment..");

            NSString *insertfSQL = [NSString stringWithFormat:@"INSERT INTO AssemblyAssessment (assessmentid,spaceid,assemblyid,FacilityID) VALUES (\"%@\",\"%@\",\"%@\",\"%@\")",self.finalAssessmentIdSt2,self.finalSpaceIdSt2,self.finalAsmbId2,self.finalFacIdSt2];

            NSLog(@"insertfSQL...%@",insertfSQL);

            const char *insert_fstmt = [insertfSQL UTF8String];
                sqlite3_prepare_v2(ipadSites,insert_fstmt,-1,&fstatement,NULL);
                NSLog(@"inserting AssemblyAssessment..");

            if (sqlite3_step(fstatement) == SQLITE_DONE)
            {
                NSLog(@"Add value in AssemblyAssessment...");

            }
            else
            {
                NSLog(@"Insert failed: %s", sqlite3_errmsg(ipadSites));
                NSLog(@"Failed to add value in AssemblyAssessment...");
            } 
        }

        sqlite3_finalize(fstatement);
        sqlite3_close(ipadSites);

    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T09:41:02.103

请... ！不要像这样在循环中打开/关闭 SQLite 连接！从“FOR 循环”打开数据库句柄。请看这里[如何在 iphone 中将数据插入数据库](https://stackoverflow.com/questions/11717400/how-to-insert-data-into-data-base-in-iphone)和这里[如何在 iPhone 的 Sqlite3 中插入​​ NSMutableArray 元素](https://stackoverflow.com/questions/13087014/how-to-insert-nsmutablearray-elements-in-sqlite3-in-iphone?rq=1)

而且，对于基本的 CRUD（创建、读取、更新、删除），我建议您 .. 看看[FMDB](https://github.com/ccgus/fmdb)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T07:35:16.937

您是否在 SQLite 或任何其他浏览器中打开了数据库？如果从外部打开数据库，则会出现相同的错误。核实。我有同样的问题。

# php - MySQL Column 为 1 时显示文本

> ID：13467796
> 
> 赞同：0
> 
> 时间：2012-11-20T06:36:42.320
> 
> 标签：php, mysql, displaytag, private-messaging

所以这就是我所拥有的......问题是它给了我错误，我无法让它为我的生活工作！

```
<?php 
$link = mysql_connect($hostname, $username, $password);
mysql_select_db($database); 
if (!$link) {
die('Could not connect: ' . mysql_error());
}
$result = mysql_query("SELECT * FROM messages WHERE reciever=$user");
while($row = mysql_fetch_assoc($result))
{
if($row['recieved'] == '1')
{
echo '<a class="new-message" title="New Message">New</a>';
}
else
{
echo '&nbsp;';
}
}
?> 
```

$user 是会话用户名（来自不同的代码页）

我想要的是它只在尚未读取（=0）时显示新消息，如果已读取消息（=1）则显示一个空格（或什么都不显示）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:41:10.407

试试这个代码

```
<?php 
$link = mysql_connect($hostname, $username, $password);
mysql_select_db($database); 
if (!$link) {
die('Could not connect: ' . mysql_error());
}
$result = mysql_query("SELECT * FROM messages WHERE reciever=$user");
$row = mysql_fetch_row($result);
echo '<a class="new-message" title="New Message">New</a>';
?> 
```

您的代码是不正确的方式，因为任何时候您只想要一个用户数据而不是为什么使用 while 循环？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T06:56:12.963

```
 $result = mysql_query("SELECT * FROM messages WHERE reciever=$user");
  while($row = mysql_fetch_assoc($result))
    {
   if($row['recieved'] == 1)
    {
          echo '<a class="new-message" title="New Message">New</a>';
    }
    else
    {
         echo '&nbsp;';
    }
    } 
```

尝试使用它，看看它是否有帮助

# python - ubuntu VM 上的 python、psutil 和窃取时间

> ID：13467797
> 
> 赞同：2
> 
> 时间：2012-11-20T06:36:48.980
> 
> 标签：python, ubuntu, virtual-machine

我想跟踪我的虚拟机在石墨中的窃取时间。我使用 psutils 将数据发送到石墨。如何从 python 中获取窃取时间？有没有办法使用psutils？我正在运行 ubuntu 12.04。

# javascript - 如何使用javascript在多选中设置选定的选项

> ID：13467799
> 
> 赞同：5
> 
> 时间：2012-11-20T06:36:52.163
> 
> 标签：javascript

好吧，所以这个问题之前肯定有人问过，我实际上能够在 jquery 中找到我的问题的答案，当我尝试实现答案时，我无法让它工作。我宁愿在java脚本中这样做......

我正在从数据库中读取一串用逗号分隔的文本，我想将它们翻译成多选框中的选定选项。

到目前为止，我所做的只是试图让浏览器在我单击按钮时选择一个与硬编码字符串匹配的选项，但我什至无法让它工作。但我想，既然我在问这个问题，我不妨写出整个脚本，这样你就可以看到这一切，也许还能发现我可能遇到的任何其他问题......最后，我怎样才能让它运行在页面的负载上？抱歉，如果这是多余的和基本的，但我对 JS 很陌生，并且找到问题的现有答案几乎没有帮助。提前致谢。

**编辑**

所以，我发现如果我按照 Asad 的回答使用 'select.options[i].value=true' （布尔值而不是字符串），我可以让分配工作。但是，我正在使用 Harvest 的选择多选控件：[http ://harvesthq.github.com/chosen/](http://harvesthq.github.com/chosen/)

当我将所选类分配给控件时，该脚本将不起作用。我知道控件正在调用 JQuery，这是原因吗？有可能让它工作吗？再次感谢。

```
function selectitems() {
  var select = document.getElementById("multiselectid");
  var array = stringFromDB.split(",");

  for(count=0, count<array.length, count++) {
    for(i=0; i<select.options.length; i++) {
      if(select.options[i].value == array[count]) {
        select.options[i].selected="selected";
      }
    }
  }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T06:47:27.227

您的第一个`for`循环有两个语法错误。尝试在浏览器中检查控制台

```
for(count=0, count<array.length, count++) { 
```

应该：

```
for(count=0; count<array.length; count++) { 
```

注意“，”到“;”的变化 在`count=0`和`count<array.length`部分之后。

此外，您可能希望使用`for(var count=0`and`for(var i=0`以便不全局声明`count`and`i`变量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T07:12:29.053

好的，所以我将尝试在我的回答中解决您问题的所有部分。

`for`正如 Ian 所提到的，您的语句中有语法错误。

再三考虑我会给出代码然后做解释。为了清楚起见，我包含了整个 HTML 文档：

```
<!DOCTYPE html>
<html lang=en-CA>
    <meta charset=utf-8>
    <title>JavaScript in multi-select</title>

    <script>

    function selectItems(stringFromDB) {
        'use strict';

        var select = document.getElementById("multiselectid"),
            stringArray = stringFromDB.split(","),
            count = 0,
            i;

        for(count = 0; count < stringArray.length; count += 1) {
            for(i = 0; i < select.options.length; i += 1) {
                if(select.options[i].value === stringArray[count]) {
                    select.options[i].selected = true;
                }
            }
        }
    }

    window.addEventListener('load', function() {
        'use strict';

        // The "string from DB" would be the parameter here
        selectItems( 'hockey,volleyball,football');
    }, false);

    </script>

    <body>
        <div>
            <select id='multiselectid' multiple>
                <option value="hockey">Hockey</option>
                <option value="golf">Golf</option>
                <option value="volleyball">Volleyball</option>
                <option value="football">Football</option>
            </select>
        </div> 
```

现在解释一下。

1.  我没有使用 body 元素上的传统`onload`事件属性在页面加载时运行脚本（如您所愿），而是将带有事件的事件处理程序附加`load`到`window`DOM 元素。事件处理程序更有用，因为它们有助于将 JavaScript 与 HTML 分开（以及许多其他原因）。您可以在此处阅读有关事件处理程序的更多信息：[https ://developer.mozilla.org/en-US/docs/DOM/element.addEventListener](https://developer.mozilla.org/en-US/docs/DOM/element.addEventListener)

2.  在函数`selectItems()`中，我将所有变量放在一个声明中以保持代码干净。

    ~~3\. 为了避免数组的潜在问题，我`stringArray`改为调用变量。`array`是 JavaScript 中的保留字，可能会导致某些浏览器出现问题，尽管我不完全确定哪些浏览器（如果有）。~~

3.  总是，总是，总是使用，`===`而不是`==`。这样你就可以确定比较是严格和正确的（即被比较的两个东西都是相同的类型，在这种情况下：字符串）。

4.  最好通过使用强制在严格模式下处理 JavaScript 函数`'use strict;'`。这样，如果浏览器检测到不允许的内容，它将停止（并抛出异常），从而允许您编写更好的 JavaScript 代码。

希望这对您有所帮助，如果您仍然感到困惑，请随时提出更多问题！

# node.js - Redis - 一台机器上的 Node.js？

> ID：13467803
> 
> 赞同：1
> 
> 时间：2012-11-20T06:37:11.103
> 
> 标签：node.js, session, websocket, redis, ec2-ami

我对 Redis 和 Node.js 很陌生，但我想使用 Redis 来提高我的 Web 应用程序性能，并使用 Node.js 添加实时通知功能。

现在，我添加了 1 个 EC2 实例来为这两个进程提供服务，将其与弹性 IP 地址及其关联的子域绑定。但是，我在 Redis 网站上读到，运行 Redis 的机器不应该暴露在不受信任的环境中。

来自[http://redis.io/topics/security](http://redis.io/topics/security)

> Redis 旨在由受信任环境中的受信任客户端访问。这意味着通常将 Redis 实例直接暴露给 Internet 或者通常暴露给不受信任的客户端可以直接访问 Redis TCP 端口或 UNIX 套接字的环境不是一个好主意。

另一方面，监听 websocket 协议的 Node.js 必须暴露在互联网上，这样我的 web 应用程序才能与它进行实时交互。

所以我的第一个问题是，我真的需要 2 个 EC2 实例，每个实例用于 Redis 和 Node.js？

我的第二个问题是：保持现有 PHP 会话并让 Node.js 识别使用 PHP 会话的刚刚登录用户的最佳方法是什么？

我几乎修改了我的 PHP 会话，将其从表内会话更改为 Redis 会话，直到我阅读了上面 Redis 网站的指南。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T16:10:14.613

在主配置文件`/etc/redis/redis.conf`中，应该有一个`bind 127.0.0.1`（如果没有注释，添加它），然后保存并重新启动redis。该指令告诉服务仅侦听来自 localhost 的连接。并且它应该足以让redis安装免受外界影响。如果我没记错的话，默认情况下，EC2 默认拒绝外部世界。

至于您的第二个问题，您需要确保在两种语言之间一致地读取会话 ID。[session_id()](http://www.php.net/manual/en/function.session-id.php)将为您提供 php 中会话的 id。您只需要设置节点即可读取`PHPSESSID`cookie。您只需要确保 cookie 将以它在浏览器中侦听的任何主机名发送到 node.js 服务。在 php 中，您可以在 php.ini 中或使用[session_set_cookie_params](http://www.php.net/manual/en/function.session-set-cookie-params.php)在`session_start()`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T16:06:36.210

你会想要按照评论者所说的那样做，并在 127.0.0.1 上收听，然后你可以增加安全性，只是不向外界开放端口。由于安全组功能，这应该在 AWS 中默认完成。为了向外界打开一个端口，您必须明确地将其添加到安全组中。

这是有关安全组的更多信息。 [http://docs.amazonwebservices.com/AWSEC2/latest/UserGuide/using-network-security.html](http://docs.amazonwebservices.com/AWSEC2/latest/UserGuide/using-network-security.html)

# javascript - jquery验证应该允许字母

> ID：13467805
> 
> 赞同：1
> 
> 时间：2012-11-20T06:37:18.453
> 
> 标签：javascript, jquery, jquery-ui, jquery-validate

谁能告诉我jquery验证，应该只验证字母，即）

```
abcde - valid
12344  - not valid
ancd12 - not valid
asng$e  - not valid etc 
```

此代码不适用于上述情况。

```
alphabet: function(value, element, param) {
    return this.optional(element) || value.match(/[a-z]/gi);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:42:06.580

```
alphabet: function(value, element, param) {
    return /^[A-z]+$/.test(value);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T13:13:04.430

使用专门为此目的编写的验证插件方法，在[验证插件additional-methods.js中找到](https://github.com/jzaefferer/jquery-validation/blob/master/additional-methods.js)

```
jQuery.validator.addMethod("lettersonly", function(value, element) {
    return this.optional(element) || /^[a-z]+$/i.test(value);
}, "Letters only please"); 
```

# javascript - 如何将数据附加到启动方法的元素？

> ID：13467813
> 
> 赞同：2
> 
> 时间：2012-11-20T06:37:56.097
> 
> 标签：javascript, jquery, coffeescript

我有一个简单的类来在调用`content.html`时附加文件。`MyClass.display()`

```
class MyClass
    @display: (display) ->
      $.get 'content.html', (data) ->
        $('body').append data 
```

上面的代码总是将数据附加到`body`.

HTML代码就是这样

```
<html>
  <head></head>
  <body>
    <p>text before</p>
    <script src="file.js" type="text/javascript"></script>
    <script type="text/javascript">
      MyClass.display();
    </script>
    <p>text after</p>
  </body>
</html> 
```

我想知道如何在`</script>`触发函数的封闭标记之后附加数据。那将在 the`</script>`和以下`<p>`标签之间。

一项要求是我不应该修改 HTML 标记。我无法按照以下答案之一的建议将 ID 直接添加到标记中。

我知道这是可能的，因为我可以在 Google AdSense 代码中看到它。但由于他们的 javascript 代码似乎是加密的，我无法解码它是如何完成的。

知道如何实现这一目标吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T00:40:34.183

当 javascript 代码运行时，其包含的 script 标签是 DOM 对象中可用的最后一个元素

您可以像这样获取它的参考，

```
var ele = $('script:last'); 
```

从那里，根据您的内容，`content.html`您可以做必要的工作将内容*放在*脚本标签之后（不要*附加*在脚本标签内，这不是您要寻找的内容）

例如，如果`content.html`有自己的顶级元素，`p`

```
<p>
  <strong>hello</strong> world!
</p> 
```

那么你可以简单地

```
var MyClass = {
  display: function() {
    var ele = $('script:last');
    $.get('content.html', function(data) {
      ele.after(data);
    });
  }
} 
```

**注意 1：**您必须在回调`ele`之外获得参考。`$.get`回调异步运行 - 到那时 DOM 可能会加载更多元素并且`script:last`可能不再是您的脚本标记。

**注意2：**如果`content.html`不包含包装整个事物的顶级元素，那么您必须自己将其包装在回调中，例如`ele.after("<div class='my-own-wrapper'>" + data + "</div>");`

供参考：[https ://gist.github.com/4122339](https://gist.github.com/4122339)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-20T07:09:04.083

我明白你在做什么。您想在某些标记区域内插入 HTML。

我建议你这样做：

```
class MyClass
    @display: (display) ->
      $.get 'content.html', (data) ->
        document.write data 
```

和

```
<html>
  <head></head>
  <body>
    <p>text before</p>
    <script src="file.js" type="text/javascript"></script>
    <script type="text/javascript">
      MyClass.display();
    </script>
    <p>text after</p>

  </body>
</html> 
```

将脚本放在页面底部很重要，这样标记就有机会加载。否则，您的脚本可能会在页面完成加载之前运行。

# android - Android 4：从传感器事件侦听器启动子活动：同步失败

> ID：13467814
> 
> 赞同：1
> 
> 时间：2012-11-20T06:38:07.390
> 
> 标签：android, synchronized, android-sensors, critical-section

如果智能手机倒置，我正在尝试从传感器事件侦听器启动子活动。我写的初始代码是这样的：

```
public class MySensorListener implements SensorEventListener{

    boolean mIsStarted = false;

    public void start(Context context) {
        mIsStarted = false;
        SensorManager manager = (SensorManager) context.getSystemService(Context.SENSOR_SERVICE);
        manager.registerListener(this, manager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER), SensorManager.SENSOR_DELAY_NORMAL);
    }

    public void stop(Context context) {
        mIsStarted = false;
        SensorManager manager = (SensorManager) context.getSystemService(Context.SENSOR_SERVICE);
        manager.unregisterListener(this);
    }

    public void onAccuracyChanged(Sensor sensor, int accuracy) {}

    public void onSensorChanged(SensorEvent event) {
        if (event.sensor.getType() == Sensor.TYPE_ACCELEROMETER) {
            float z = event.values[2];

            if (z < -8f) {
                if (!mIsStarted) {
                    mIsStarted = true;
                    // start child activity
                }

            } else if (z > -7f) {
                if (mIsStarted) {
                    mIsStarted = false;
                    // stop child activity
                }
            }
        }
    }

} 
```

现在我遇到了问题，Android 4 设备启动活动大约是三次而不是一次。我认为这是因为 onSensorChanged 方法在很短的时间内被频繁调用。所以我尝试同步它：

```
public class MySensorListener implements SensorEventListener{

    // ...

    public synchronized void onSensorChanged(SensorEvent event) {
        // ...
    }

} 
```

那没有用，所以我尝试了更多方法：

-同步“this”对象

```
public class MySensorListener implements SensorEventListener{

    // ...

    public void onSensorChanged(SensorEvent event) {
        synchronized(this){
            // ...
        }
    }

} 
```

- 同步 isStarted 变量：

```
public class MySensorListener implements SensorEventListener{

    Boolean mIsStarted = false;

    // ...

    public void onSensorChanged(SensorEvent event) {
        synchronized(mIsStarted){
            // ...
        }
    }

} 
```

- 使用 AtomicBoolean：

```
public class MySensorListener implements SensorEventListener{

    public AtomicBoolean mIsStarted = new AtomicBoolean(false);

    // ...

    public void onSensorChanged(SensorEvent event) {
        if (event.sensor.getType() == Sensor.TYPE_ACCELEROMETER) {
            float z = event.values[2];

            if (z < -8f) {
                if (mIsStarted.compareAndSet(false, true)) {
                    // start child activity
                }

            } else if (z > -7f) {
                if (mIsStarted.compareAndSet(true, false)) {
                    // stop child activity
                }
            }
        }
    }

} 
```

这些方法都不起作用，所以我想知道为什么会发生这种情况以及我如何改变它并使其工作？

先感谢您！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T06:55:42.120

在你的 android 清单文件中设置属性到活动`android:launchMode="singleTask"`

```
<activity
            android:name=".CategoryActivity"
            android:launchMode="singleTask"
            android:screenOrientation="portrait" >
        </activity> 
```

我不太确定这会解决您的问题，但实际上，当传感器再次启动您的活动时，因为它在 signleTask 中，它不会重新启动并且活动当前状态保持不变。

# php - str_replace 不适用于某些字符

> ID：13467817
> 
> 赞同：3
> 
> 时间：2012-11-20T06:38:18.260
> 
> 标签：php, str-replace, arabic, numeric

我写了下面的代码，但它工作错误：

```
$t = "۰۱۲۳۴۵۶۷۸۹٤٥٦";
$correct = array("0","1","2","3","4","5","6","7","8","9","4","5","6");
$wrong = array("٠","١","٢","٣","٤","٥","٦","٧","٨","٩","۴","۵","۶");
echo $t = str_replace($wrong,$correct, $t); 
```

结果不对

```
۰۱۲۳456۷۸۹۰۱۲۳456۷۸۹456 
```

我在堆栈和相同的问题中搜索，它的答案对我没有帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T07:00:57.363

> 使用此代码：-

```
$t = "۰۱۲۳٤٥٦";
$text = preg_replace(
            array("٠","١","٢","٣","٤","٥","٦",),
            array("0","1","2","3","4","5","6",),
            $t ); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T06:43:27.107

试试 'mb_str_replace()' 函数。

[http://php.net/manual/en/ref.mbstring.php](http://php.net/manual/en/ref.mbstring.php)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T07:58:49.267

> 我对这个问题一无所知，但你可以试试这个函数来实现这个想法：

```
//converts the numbers into the persian's number
function persianNum($srting)
{
    $num0="&#1776;";
    $num1="&#1777;";
    $num2="&#1778;";
    $num3="&#1779;";
    $num4="&#1780;";
    $num5="&#1781;";
    $num6="&#1782;";
    $num7="&#1783;";
    $num8="&#1784;";
    $num9="&#1785;";

    $stringtemp="";
    $len=strlen($srting);
    for($sub=0;$sub<$len;$sub++)
    {
         if(substr($srting,$sub,1)=="0")$stringtemp.=$num0;
         elseif(substr($srting,$sub,1)=="1")$stringtemp.=$num1;
         elseif(substr($srting,$sub,1)=="2")$stringtemp.=$num2;
         elseif(substr($srting,$sub,1)=="3")$stringtemp.=$num3;
         elseif(substr($srting,$sub,1)=="4")$stringtemp.=$num4;
         elseif(substr($srting,$sub,1)=="5")$stringtemp.=$num5;
         elseif(substr($srting,$sub,1)=="6")$stringtemp.=$num6;
         elseif(substr($srting,$sub,1)=="7")$stringtemp.=$num7;
         elseif(substr($srting,$sub,1)=="8")$stringtemp.=$num8;
         elseif(substr($srting,$sub,1)=="9")$stringtemp.=$num9;
         else $stringtemp.=substr($srting,$sub,1);
    }
return   $stringtemp;

}
//end convert function 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-08-16T13:21:25.313

PHP 中没有 mb_str_repalce 函数。此代码将字符串中的字符从东方阿拉伯数字转换为印度阿拉伯数字：

```
<?php
function arabic_convert($str = ''){
    $str_list = preg_split('//u', $str, null, PREG_SPLIT_NO_EMPTY);

    if( !empty($str_list) ){
        $transform_symbols = array(
            '٠' => '0',
            '١' => '1',
            '٢' => '2',
            '٣' => '3',
            '٤' => '4',
            '٥' => '5',
            '٦' => '6',
            '٧' => '7',
            '٨' => '8',
            '٩' => '9',
        );

        $str_transform = array();

        foreach ($str_list as $str_item){
            if( isset($transform_symbols[$str_item]) ){
                $str_transform[] = $transform_symbols[$str_item];
            }else{
                $str_transform[] = $str_item;
            }
        }

        $str = implode('', $str_transform);
    }

    return $str;
} 
```

# vb.net - 实现属性必须具有匹配的“ReadOnly”或“WriteOnly”说明符

> ID：13467819
> 
> 赞同：4
> 
> 时间：2012-11-20T06:38:27.900
> 
> 标签：vb.net, com, vb6, vb6-migration, idl

我在 idl 文件中定义了一个接口，并尝试将 vb6 项目转换为 vb.net。

转换从此 idl 的 tlb 创建了互操作，并且在 vs2010 中它抱怨该属性未实现（如下所示）。有谁知道为什么？我什至删除了实现并让 vs2010 重新生成存根，但仍然出错。

idl中的示例界面..

```
[   uuid(...),
    version(2.0),
    dual,
    nonextensible,
    oleautomation
]
interface IExampleInterface : IDispatch
{
 ...
    [id(3), propget]
    HRESULT CloseDate ([out, retval] DATE* RetVal);
    [id(3), propput]
    HRESULT CloseDate ([in] DATE* InVal);
} 
```

VB.Net 类...

```
<System.Runtime.InteropServices.ProgId("Project1_NET.ClassExample")>
Public Class ClassExample
    Implements LibName.IExampleInterface

    Public Property CloseDate As Date Implements LibName.IExampleInterface.CloseDate
        Get
            Return mDate
        End Get
        Set(value As Date)
            mDate = value
        End Set
    End Property 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T10:13:18.850

DATE 参数类型是问题所在。它**不是**DateTime 或 Date，它是**Double**。声明在 WTypes.h SDK 头文件中给出，第 1025 行（对于 v7.1）：

```
 typedef double DATE; 
```

因此，通过将其声明为 Double 并根据需要来回转换来修复您的属性：

```
Public Property CloseDate As Double Implements LibName.IExampleInterface.CloseDate
    Get
        Return mDate.ToOADate
    End Get
    Set(value As Date)
        mDate = DateTime.FromOADate(value)
    End Set
End Property 
```

# amazon-s3 - FileNotFoundException Amazon S3

> ID：13467820
> 
> 赞同：2
> 
> 时间：2012-11-20T06:38:29.850
> 
> 标签：amazon-s3, audio-streaming, android-mediaplayer

我正在尝试在来自 Amazon S3 的 android 流媒体歌曲中制作媒体播放器。我将存储桶中的歌曲公开，当我使用 Bowser 播放它们时效果很好。但是当涉及到android时，它会抛出一个这样的异常。

```
11-20 01:28:37.720: W/System.err(736): java.io.FileNotFoundException: /https:/s3.amazonaws.com/soul-media/mp3s/1234.mp3: open failed: ENOENT (No such file or directory) 
```

这是我的播放器代码

```
 MediaPlayer mid= new MediaPlayer();
    try {
        FileInputStream fid= new FileInputStream("https://s3.amazonaws.com/soul-media/mp3s/1234.mp3");
        mid.setDataSource(fid.getFD());
        mid.prepare();
        mid.start();
    } catch (IllegalArgumentException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (IllegalStateException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } 
```

它适用于 android 4.1 但不适用于 2.2，这可能是问题吗？我还尝试了 Amazon S3 以外的一些 url，它可以工作。那么这与亚马逊有关吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T22:23:13.610

有什么理由你不能跳过创建`FileInputStream`并`mid.setDataSource("https://s3.amazonaws.com/...")`通过[这个重载](http://developer.android.com/reference/android/media/MediaPlayer.html#setDataSource%28java.lang.String%29)调用？那样有用吗？

`prepare`编辑：显然，您应该调用应该立即返回的而不是调用流，`prepareAsync`如下所示：

```
MediaPlayer mid = new MediaPlayer();
try {
    mid.setDataSource("http://soul-media.s3.amazonaws.com/mp3s/1234.mp3");
    mid.setOnPreparedListener(new OnPreparedListener() {
        @Override
        public void onPrepared(MediaPlayer mp) {
            mp.start();
        }
    });
    mid.setOnErrorListener(new OnErrorListener() {
        @Override
        public boolean onError(MediaPlayer mp, int what, int extra) {
            return false;
        }
    });
    mid.prepareAsync();
} catch (IllegalArgumentException e) {
    e.printStackTrace();
} catch (IllegalStateException e) {
    e.printStackTrace();
} catch (IOException e) {
    e.printStackTrace();
} 
```

这有帮助吗？

# java - 如何使用java从.csv文件中获取最后两条记录？

> ID：13467822
> 
> 赞同：2
> 
> 时间：2012-11-20T06:38:30.707
> 
> 标签：java, csv, export-to-csv

我正在尝试从文件位置 D:\Teja\Docs\data.csv 获取 .csv 文件（仅最后两条记录）中的数据，数据格式为

第一个记录

PRO;SEN_PRO;99;302;2;TOUR-78995;TOU-POIN-7895;2012-11-05 08:00:00+0500;1;2;42.0;51.966375;8.255308

第二条记录

PRO;SEN_PRO;100;402;2;TOUR-78995;TOU-POIN-7895;2012-11-05 08:00:00+0500;1;2;12.4;51.966375;8.255308

等等..

有许多记录我只想要它们的最后两条记录。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T06:52:05.450

也许这会有所帮助

```
public class ReadLastTwoLine{

 public static void main(String[] args) throws Exception {

  FileInputStream in = new FileInputStream("file.txt");
  BufferedReader br = new BufferedReader(new InputStreamReader(in));

  String strLastLine = "";
  String tmp;
  String strlastLineMinusOne="";;

  while ((tmp = br.readLine()) != null)
  {
     strlastLineMinusOne = strLastLine;
     strLastLine = tmp;
  }

  System.out.println("Last Line Minus one is : "+strlastLineMinusOne");
  System.out.println("Last Line is : "+strLastLine");

  in.close();
 }
} 
```

# javascript - 提取 jQuery UI 菜单元素并跳转到每个图像

> ID：13467824
> 
> 赞同：1
> 
> 时间：2012-11-20T06:38:31.850
> 
> 标签：javascript, jquery, jquery-ui, coffeescript

![在此处输入图像描述](../Images/901bcae7273a2a4e5a0b7d8a038f9256.png)

（我的代码也在这里：http: [//jsbin.com/urupig/4/edit](http://jsbin.com/urupig/4/edit)

**“下一个”**和**“上一个”**按钮有效，但**“跳转”**按钮无效。）

你好，我是 JavaScript 和 CoffeeScript 的新手。

我想提取**“跳转”**元素并想从 jQuery UI 菜单**跳转到每个图像。**

下面的代码使用 Flickr API 获取图像。首先，完成了 Ajax 通信并加载了图像的 URL。

我想跳转每个图像，但是当单击“跳转”元素的子元素时，“索引超出数字”被写入控制台。

HTML：

```
<body>
<ul id="menu">
    <li><a href="#" id="next">Next</a></li>
    <li><a href="#" id="previous">Previous</a></li>
    <li>
        <a href="#" id="jump">Jump</a>
        <ul id="jump_ul">
        </ul>
    </li>
</ul>
<br />
<div id="images"></div>
</body> 
```

咖啡脚本：

```
class PhotoTable2
  json: null
  number: null

  constructor:(number) ->
    @number = number

  getData:(successCallback) =>
    $.getJSON(
      'http://www.flickr.com/services/rest/?jsoncallback=?'
        format : 'json'
        method : 'flickr.photos.search'
        api_key : '7965a8bc5a2a88908e8321f3f56c80ea'
        user_id : '29242822@N00'
        per_page : @number
      (data) =>
        @json = data.photos.photo;
        successCallback?())

  url:(index) ->
    item = @json[index]
    itemFarm = item.farm
    itemServer = item.server
    itemID = item.id
    itemSecret = item.secret
    itemPathList =
      'http://farm' + itemFarm + '.static.flickr.com/' + itemServer +
      '/' + itemID + '_' + itemSecret + '_m.jpg'

  putPhoto:(index) ->
    if (0 <= index and index <= (@number - 1))
      $('#images').empty()
      $('#images').append(
        $('<h3></h3>')
          .text(@json[index].title)
        $('<a></a>')
          .append(
            $('<img />')
              .attr('src', @url(index))))
    else
      console.log('index is out of number')

    console.log('index: ', index)

$ ->
  index = 0

  photo_table2 = new PhotoTable2(5)
  photo_table2.getData(successCallback = ->
    console.log('Data loaded',photo_table2.json)

    photo_table2.putPhoto(index)

    $('#next')
      .click ->
        index++
        photo_table2.putPhoto(index)

    $('#previous')
      .click ->
        index--
        photo_table2.putPhoto(index)

    for i in [0..(photo_table2.number - 1)]
      $('#jump_ul').append(
        $('<li></li>').append(
          $('<a></a>')
            .text(photo_table2.json[i].title)
            .click ->
              photo_table2.putPhoto(i)
            console.log(i)
        )
      )

    $("#menu").menu()
  ) 
```

谢谢你的好意。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T07:20:58.253

您遇到了标准的“闭环问题”。你会注意到`console.log('index: ', index)`总是说`5`; 那是因为点击处理程序最终共享一个对相同的引用，`i`并且该值`i`将是循环`i`中的最终值。`for i in [0..(photo_table2.number - 1)]`

标准解决方案是将循环体包装在一个自动执行的函数中，`i`以便在您想要它时强制对其进行评估。CoffeeScript[`do`](http://coffeescript.org/#loops)专门为此目的提供（参见该部分的底部）：

```
for i in [0..(photo_table2.number - 1)]
  do (i) ->
    # Continue as before 
```

演示：http: [//jsbin.com/urupig/5/edit](http://jsbin.com/urupig/5/edit)

# mysql - MySQL 选择日期

> ID：13467826
> 
> 赞同：0
> 
> 时间：2012-11-20T06:38:41.210
> 
> 标签：mysql, sql

我正在从 MySQL 表中查询一些数据，其中一列的数据类型为 DATETIME。现在，当我进行查询时，它包括一个烦人的`00:00:00`时间。进行选择时如何排除此时间部分？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T06:39:33.703

利用`DATE`

```
SELECT DATE(columnName)
FROM.... 
```

或者`DATE_FORMAT`

```
SELECT DATE_FORMAT(NOW(),'%Y-%m-%d'); 
```

# javascript - 如何更改struts2选择下拉列表的默认行为

> ID：13467827
> 
> 赞同：0
> 
> 时间：2012-11-20T06:38:44.167
> 
> 标签：javascript, jquery, html, struts2

我有一个带有数字的 struts2 选择下拉列表。我需要使用默认的键盘数字在其中选择一个特定数字，它可以工作，但在此我需要更具体地禁用行为，例如，如果我需要 25，我可以输入 2 和 5，但如果我输入2 并延迟输入 5，然后它不起作用，因此只选择了 20 而不是 25。

另一个是我需要禁用这样的行为，即当按下 2 并再次按下延迟 2 时，它开始将数字增加 1，如 20、21、22……等等，直到 29。

虽然我需要的行为是 struts2 下拉列表应该只选择我准确键入的内容。

```
<s:select list="#{'0':'00','1':'01','2':'02','3':'03','4':'04','5':'05','6':'06','7':'07','8':'08',                 '9':'09','10':'10','11':'11','12':'12','13':'13','14':'14','15':'15','16':'16','17':'17','18':'18','19':'19','20':'20','21':'21','22':'22','23':'23','24':'24'}"  
name="workedHours" cssClass=" disable inputboxsmall" id="workedHours" onchange="calcTotTime()"/> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T09:50:32.580

那是特定于浏览器的，根本不涉及Struts2；

例如，Firefox 的行为就像您在非常旧的版本中描述的那样，而在 IE6（！）中，如果您按 2 和 5，他会查找“以 2 开头”然后“以 5 开头”（它永远不会通过键盘找到 25） .

页面准备好后，您可以使用 jQuery 将自定义行为添加到您的选择中。

例如，在`onkeyup`事件中添加一个 javascript 函数调用，它会记住以前的数字字符，将新字符附加到它们并将属性重新分配给`selected`新的相应元素。

然后你必须处理异常（没有元素匹配，什么都不做或什么？），并决定如何让用户从头开始重新开始。使用计时器，就像浏览器一样，您没有这个问题，但是如果您覆盖计时器，您应该找到另一种方式（热键或其他方式）。

就个人而言，我不认为覆盖浏览器行为是一件好事，特别是因为它们已经针对大多数用例进行了优化......

# html - CSS3多背景，一个在ul中重复

> ID：13467830
> 
> 赞同：2
> 
> 时间：2012-11-20T06:39:05.920
> 
> 标签：html, css, wordpress, html-lists, background-image

我正在开发一个 Wordpress 模板。我正在尝试实现 3 个背景图像，用于`<li>`动态生成的导航菜单中的每个。看看这两个例子。

[http://preahkumpii.com/misc/test01/hi.html](http://preahkumpii.com/misc/test01/hi.html)
[http://preahkumpii.com/misc/test02/hi.html](http://preahkumpii.com/misc/test02/hi.html)

第一个示例 CSS：

```
.menu-item li {
  background-image: url(images/menu-left.png), url(images/menu-right.png), url(images/menu-center.png);
  background-position: left, right, center;
  background-repeat: no-repeat, no-repeat, no-repeat;
} 
```

第二个示例 CSS：

```
.menu-item li {
  background-image: url(images/menu-left.png), url(images/menu-right.png), url(images/menu-center.png);
  background-position: left, right, center;
  background-repeat: no-repeat, no-repeat, repeat-x;
} 
```

HTML：

```
<ul class="menu-item">
  <li>ItemNumber1</li>
  <li>ItemNumber2</li>
  <li>ItemNumber3</li>
</ul> 
```

我希望两个外部背景图像保持在没有重复的位置。但是，我希望中间的 bg 图像沿 x 轴重复，*但只延伸到其他 bg 图像*。正如您在第二个示例中看到的那样，当给出中间图像时，`repeat-x`它会延伸到整个`<li>`. 据我所知，我不能用它`<div>`来实现这一点，因为菜单的文本是动态生成的。所以，我想我必须*只有*a`<ul>`没有一堆`<div>`s 闲逛。有什么帮助吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T06:53:48.277

嘿，您可以使用`after-before` **伪类**来获得所需的结果。

看看我是如何做到的**CSS** :-

**CSS**

```
.menu-item li:after {
    background: url("images/menu-center.png") repeat-x scroll 0 0 transparent;
    bottom: 0;
    content: " ";
    left: 20px;
    position: absolute;
    right: 20px;
    top: 0;
    z-index: -1;
}
.menu-item li {
    background-image: url("images/menu-left.png"), url("images/menu-right.png");
    background-position: left center, right center;
    background-repeat: no-repeat, no-repeat;
    display: inline-block;
    height: 56px;
    line-height: 56px;
    min-width: 60px;
    padding: 0 20px;
    position: relative;
    text-align: center;
    z-index: 1;
} 
```

**查看输出我是如何做到的**![在此处输入图像描述](../Images/140f44d8367ef57abb7a0932b08cd139.png)

# mysql - “加入”还是“不在（）中”？

> ID：13467831
> 
> 赞同：1
> 
> 时间：2012-11-20T06:39:11.567
> 
> 标签：mysql, join, where-in

> **可能重复：**
> [加入与子查询](https://stackoverflow.com/questions/2577174/join-vs-subquery)

我需要处理大量数据，但有时需要根据条件排除记录。

由于要检查的数据量以及将返回的数据量一次是数万个，并且会经常运行，我想知道是否有人可以阐明哪种方法最好在速度和负载方面，尽可能保持平稳运行

```
SELECT a.* 
FROM table_a as a
LEFT JOIN table_b 
  ON table_b.a_id = a.id
WHERE table_b.status <> 'new' 
```

或者

```
SELECT * 
FROM table_a
WHERE id NOT IN (
  SELECT a_id 
  FROM table_b
  WHERE status <> 'new'
) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T06:45:16.670

> 在大多数情况下，JOIN 比子查询快，而且子查询更快的情况很少见。
> 
> 在 JOIN 中，RDBMS 可以创建一个更适合您的查询的执行计划，并且可以预测应该加载哪些数据以进行处理并节省时间，这与子查询不同，子查询将运行所有查询并加载所有数据以进行处理.
> 
> 子查询的好处是它们比 JOIN 更具可读性：这就是大多数新 SQL 人更喜欢它们的原因；这是简单的方法；但是在性能方面，JOINS 在大多数情况下都更好，即使它们也不难阅读。

从[这里](https://stackoverflow.com/questions/2577174/join-vs-subquery)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T07:02:12.747

```
SELECT * 
FROM table_a
WHERE NOT EXISTS (
  SELECT * 
  FROM table_b b 
  WHERE b.a_id = a.id AND b.status <> 'new'
) 
```

此查询或 JOIN 将是更好的查询，而不是在查询中使用 IN。将 IN 关键字用于静态数据而不是子查询。NOT EXISTS 在查询中比 IN 好得多。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T06:41:05.570

查询：

```
SELECT a.* 
FROM table_a as a
LEFT JOIN table_b 
  ON table_b.a_id = a.id
WHERE b.status <> 'new' 
```

会比另一个更好，因为它使用连接而不是子查询。

您还需要检查列`table_b.a_id and table_a.id`是否也被索引。

# liferay-6 - Liferay 中的用户组和组织

> ID：13467833
> 
> 赞同：0
> 
> 时间：2012-11-20T06:39:27.790
> 
> 标签：liferay-6

我有一篇期刊文章和一份文件。我想向组织和用户组添加对期刊文章和文档的查看权限。我希望使用 LIFERAY API 以编程方式。

任何人都可以提供解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-24T14:10:09.493

你应该看看[liferay services](http://www.liferay.com/documentation/liferay-portal/6.1/user-guide/-/ai/accessing-liferay-services)他们允许你修改任何东西。它们甚至可以通过一些编码[从 gui 触发](http://www.liferay.com/documentation/liferay-portal/6.1/user-guide/-/ai/running-scripts-from-the-control-panel)（请注意，因为没有撤消）。请注意，您可能需要身份验证/授权才能运行服务，或者可以在挂钩/portlet 代码中以 root 身份使用 xxxxxserviceutil（例如 JournalArticleServiceUtil））

祝你好运！

# c# - HTML5 websocket 连接到 c# tcp 套接字

> ID：13467836
> 
> 赞同：1
> 
> 时间：2012-11-20T06:39:34.093
> 
> 标签：c#, html, tcp, websocket

我正在尝试使用[http://www.tutorialspoint.com/html5/html5_websocket.htm中示例中的 HTML5 连接到 C# TCP 服务器](http://www.tutorialspoint.com/html5/html5_websocket.htm)

```
<!DOCTYPE HTML>
<html>
<head>
<script type="text/javascript">
function WebSocketTest()
{
    if ("WebSocket" in window)
    {
     alert("WebSocket is supported by your Browser!");
     // Let us open a web socket
     var ws = new WebSocket("ws://localhost:9998/echo");
     ws.onopen = function()
     {
        // Web Socket is connected, send data using send()
        ws.send("Message to send");
        alert("Message is sent...");
     };
     ws.onmessage = function (evt) 
     { 
        var received_msg = evt.data;
        alert("Message is received...");
     };
     ws.onclose = function()
     { 
        // websocket is closed.
        alert("Connection is closed..."); 
     };
    }
    else
    {
     // The browser doesn't support WebSocket
     alert("WebSocket NOT supported by your Browser!");
    }
}
</script>
</head>
<body>
<div id="sse">
<a href="javascript:WebSocketTest()">Run WebSocket</a>
</div>
</body>
</html> 
```

TCP服务器运行在本地机器的4530端口上。所以我改变了

```
var ws = new WebSocket("ws://localhost:9998/echo"); 
```

至

```
var ws = new WebSocket("ws://localhost:4530"); 
```

当我运行该页面时，我收到消息***WebSocket is supported by your Browser！***它挂在那里。有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T12:48:04.423

Mika，看看[http://xsockets.net](http://xsockets.net)，它是一个易于上手的 dotnet (c#) 实时框架，可以在 Nuget 上找到。只需在 PM 控制台中点击 Install-Package XSockets。

该框架处理 6455 规范以及它确实执行“旧”Hybi00 协议（草案）。

它有一个类似于 jQuery 的客户端 JavaScript 库，服务器端 API 让人想起 MVC。

# node.js - 使用 Flatiron 上传文件

> ID：13467841
> 
> 赞同：0
> 
> 时间：2012-11-20T06:40:10.413
> 
> 标签：node.js, flatiron.js, formidable

我正在尝试在 Flatiron 中上传文件。在不使用 Flatiron（仅 Node）的情况下，我可以像这样使用 Formidable 进行文件上传 -

```
form = formidable.IncomingForm()
form.parse request, (error, fields, files) ->
   # upload done 
```

但是，相同的代码在 Flatiron 中不起作用。它在第一行之后挂在那里 -

```
form = formidable.IncomingForm()
app.log.info 'Form object made' # This is getting printed
form.parse @.req, (error, fields, files) ->
    app.log.info 'Upload done' # This is not getting printed 
```

我在这里想念什么？也没有错误。

注意 - 代码示例在 CoffeeScript 中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-17T12:15:17.973

使用熨斗上传文件似乎有点神秘。我也没有找到太多信息。所以这是我的解决方案（从互联网上粘贴在一起）。

你必须在 union/flatiron.plugins.http 中打开缓冲区。

```
app.use(flatiron.plugins.http, {buffer: false}); 
```

而且您必须在您的发布路线中打开流。

```
app.router.post('/form', { stream: true }, function (){}); 
```

这是一个带有工作代码的要点：[https ://gist.github.com/ichbinadrian/4971260](https://gist.github.com/ichbinadrian/4971260)

# ruby-on-rails - rake 资产：预编译错误

> ID：13467842
> 
> 赞同：0
> 
> 时间：2012-11-20T06:40:23.560
> 
> 标签：ruby-on-rails, twitter-bootstrap, rake, twitter-bootstrap-rails

`rake assets:precompile`在生产服务器上运行时出现错误。据我所知，在这件事发生之前我没有做任何不同的事情。在我的开发机器上运行`rake assets:precompile`不会产生任何错误。我不确定如何调试它。建议？我尝试使用该`--trace`选项运行，但它并没有真正为我提供更多有用的信息来指出代码中的错误。

```
deploy@example.com:~/www/example.com/app/assets/stylesheets$ rake assets:precompile
(in /home/deploy/www/example.com)
/home/deploy/.rvm/rubies/ruby-1.9.3-p194/bin/ruby /home/deploy/.rvm/gems/ruby-1.9.3-p194@global/bin/rake assets:precompile:all RAILS_ENV=production RAILS_GROUPS=assets
rake aborted!
Invalid CSS after "...4882640c.png"")": expected "{", was ";background-pos..."
  (in /home/deploy/www/example.com/app/assets/stylesheets/application.css)

Tasks: TOP => assets:precompile:primary
(See full trace by running task with --trace)
rake aborted!
Command failed with status (1): [/home/deploy/.rvm/rubies/ruby-1.9.3-p194/b...]

Tasks: TOP => assets:precompile
(See full trace by running task with --trace) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T08:25:43.297

您在 application.css 文件中有错误

它说

```
Invalid CSS after "...4882640c.png"")": expected "{", was ";background-pos..." 
```

所以它看起来是你设置背景图像的地方。

如果您需要帮助来查找错误。发布css文件

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T16:30:15.173

Andreas Lyngstad 所说的大部分是正确的，除非您在资产上运行预编译，所有内容都被添加到 application.css 文件中，因此错误不一定在该文件中，只是您在任何地方都有错误包含在 application.css 文件中的 css 文件。因此，您需要检查所有包含的 css 文件中的错误，您可以在所有 css 文件中进行文本搜索，并尝试根据您使用的任何编辑器找到该行。

无论如何，希望这会有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-03T18:01:37.990

我最终解决了这个问题。事实证明，这是我使用的 Twitter bootstrap rails gem 的问题。我正在使用[https://github.com/seyhunak/twitter-bootstrap-rails](https://github.com/seyhunak/twitter-bootstrap-rails)。事实证明，这是在 bootstrap_and_overrides.less 文件中导入的一张工作表中的错误。对我来说，解决方案是将我的 Gemfile 中的 gem 冻结到 2.1.7 版，并处理之后出现的任何依赖问题。

# iphone - nstimer 调光按钮

> ID：13467843
> 
> 赞同：0
> 
> 时间：2012-11-20T06:40:26.650
> 
> 标签：iphone, ios, xcode, uibutton, nstimer

我正在尝试循环四个亮度稍高的图像，我试图让它看起来像是在发光，但是我认为代码并没有像我想象的那样工作

```
 -(void)loadRefreshButton{
    UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];
    refreshButton = button;
    [button addTarget:self
               action:@selector(refreshButtonPressedResult)
     forControlEvents:UIControlEventTouchDown];    [refreshButton setTitle:@"" forState:UIControlStateNormal];
    refreshButton.frame = CGRectMake(80.0, 370.0, 76, 76);
    [self.view addSubview:refreshButton];
    NSTimer* timer = [NSTimer scheduledTimerWithTimeInterval: 1.0
                                                      target: self
                                                    selector: @selector(toggleButtonImage:)
                                                    userInfo: nil
                                                     repeats: YES];
}

    - (void)toggleButtonImage:(NSTimer*)timer
{

     if(toggle)
        {
        [refreshButton setImage:[UIImage imageNamed:@"button_zero.png"] forState: UIControlStateNormal];
        [refreshButton setImage:[UIImage imageNamed:@"button_one.png"] forState: UIControlStateNormal];
        [refreshButton setImage:[UIImage imageNamed:@"button_two.png"] forState: UIControlStateNormal];
        [refreshButton setImage:[UIImage imageNamed:@"button_three.png"] forState: UIControlStateNormal];
        }
    else
        {
        [refreshButton setImage:[UIImage imageNamed:@"button_three.png"] forState: UIControlStateNormal];
        [refreshButton setImage:[UIImage imageNamed:@"button_two.png"] forState: UIControlStateNormal];
        [refreshButton setImage:[UIImage imageNamed:@"button_one.png"] forState: UIControlStateNormal];
        [refreshButton setImage:[UIImage imageNamed:@"button_zero.png"] forState: UIControlStateNormal];
        }
    toggle = !toggle;
} 
```

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T07:25:53.017

也许`UIView`类方法`animateWithDuration`会达到预期的效果。很简单：

```
[UIView animateWithDuration:0.5
                      delay:0.0
                    options:UIViewAnimationOptionAutoreverse | UIViewAnimationOptionRepeat | UIViewAnimationOptionCurveEaseInOut | UIViewAnimationOptionAllowUserInteraction
                 animations:^{
                     refreshButton.alpha = 0.75;
                 }
                 completion:nil]; 
```

显然，`duration`进行`alpha`相应的调整以达到预期的效果。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T06:57:27.113

您不需要有四个图像。您可以拥有更高亮度的单个图像，并且可以使用以下代码进行闪烁动画。

```
 CABasicAnimation *animation = [CABasicAnimation animationWithKeyPath:@"opacity"];
    [animation setFromValue:[NSNumber numberWithFloat:1.0]];
    [animation setToValue:[NSNumber numberWithFloat:0.3]];
    [animation setDuration:0.8f];
    [animation setTimingFunction:[CAMediaTimingFunction
                                  functionWithName:kCAMediaTimingFunctionLinear]];
    [animation setAutoreverses:YES];
    [animation setRepeatCount:INFINITY];
    [[aButton layer] addAnimation:animation forKey:@"opacity"]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T07:13:36.153

只需添加此代码

```
- (void)toggleButtonImage:(NSTimer*)timer
{
        ///write your code above which define above after at last just add this code..
        CATransition *animation = [CATransition animation];
        [animation setDelegate:self];   
        [animation setType:kCATransitionFade];
        [animation setDuration:0.5];
        [animation setTimingFunction:[CAMediaTimingFunction functionWithName:
                                      kCAMediaTimingFunctionEaseInEaseOut]];
        [[refreshButton layer] addAnimation:animation forKey:@"transitionViewAnimation"];
} 
```

# php - 如何从 twitter 引导模式将值传递给 PHP 变量？

> ID：13467844
> 
> 赞同：0
> 
> 时间：2012-11-20T06:40:27.023
> 
> 标签：php, codeigniter, twitter-bootstrap

我正在将值传递给这样的 bootstarp 模态形式 -

`echo '<a data-toggle="modal" data-id="ISBN45464" data-toggle="modal" title="Add this item" class="AddBookDialog" href="#addBookDialog">`';

javascript:

```
<script>
 $(document).on("click", ".AddBookDialog", function () {
 var myBookId = $(this).data('id');
 $(".modal-body #bookId").val( myBookId );
 $('#addBookDialog').modal('show');
});
</script> 
```

并在这样的文本区域中接收它 -

```
echo '<textarea name="bookId" id="bookId"></textarea>'; 
```

现在我的问题是如何将这个值放入一个 php 变量中，比如 $receivedValue？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T18:16:47.793

请看一下这篇文章，它逐步解释了使用 AJAX 发送表单。

[http://www.ryancoughlin.com/2008/11/04/use-jquery-to-submit-form/](http://www.ryancoughlin.com/2008/11/04/use-jquery-to-submit-form/)

# xmpp - 在 xmpp 和 ejabberd 中使用头像图像

> ID：13467846
> 
> 赞同：4
> 
> 时间：2012-11-20T06:40:47.833
> 
> 标签：xmpp, chat, ejabberd, avatar

我正在创建一个文本聊天应用程序并使用 Ejabberd 服务器和 strophe.js。

我使用 mssql 作为 ejabberd 的外部数据库。我转移了 ejabberd 的用户表中的所有应用程序用户和 rosterusers 表中的朋友。

我想将应用程序的个人资料图像 url 指定为 ejabberd 用户的头像图像。

在 ejabberd 数据库中的哪里插入头像 URL？我检查了 vcard 表，但没有头像图像 url 的列？

我们可以使用 ejabberd 数据库来处理它还是 ejabberd 在内部管理头像？

如果我们无法在 ejabberd 中管理头像，我们如何将它与 strophe.js 一起使用，即 sepcify 头像图像并接收其他名册项目头像图像？

请帮忙

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-13T14:01:37.717

我相信您可以使用`ejabberctl`命令行中的命令将头像 URL 加载到用户的电子名片中。

```
ejabberdctl set_vcard foo chat.myjabber.com PHOTO http://link_to_image.jpg
ejabberdctl set_vcard2 foo chat.myjabber.com PHOTO EXTVAL http://link_to_image.jpg 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T09:16:44.003

**从 URL 设置 VCard 图像：**

我知道用户的个人资料图像，并且在使用 strophe 连接到 ejabberd 服务器后，我正在使用 strophe 节在 vcard 中设置个人资料图像。

以下是在 vcard 中设置图像 url 的示例：

```
iq = $iq({ type: 'set', to: currentUserObj.jabberid+ "@" + CDomain }).c('vCard', { xmlns:'vcard-temp' }).c('PHOTO').c('EXTVAL', currentUserObj.profileImg);

connection.sendIQ(iq); 
```

希望它会帮助某人:)

# java - 双倍乘以 100 然后转换为 long 给出了错误的值

> ID：13467849
> 
> 赞同：51
> 
> 时间：2012-11-20T06:41:04.623
> 
> 标签：java, floating-point, numbers

我有以下代码：

```
Double i=17.31;
long j=(long) (i*100);
System.out.println(j); 
```

开/关：`1730 //Expected:1731`

```
Double i=17.33;
long j=(long) (i*100);
System.out.println(j); 
```

开/关：`1732 //Expected:1733`

```
Double i=17.32;
long j=(long) (i*100);
System.out.println(j); 
```

开/关：`1732 //Expected:1732{As expected}`

```
Double i=15.33;
long j=(long) (i*100);
System.out.println(j); 
```

开/关：`1533 //Expected:1533{as Expected}`

我已经尝试谷歌但无法找到原因。如果问题微不足道，我很抱歉。

* * *

## 回答 #1

> 赞同：78
> 
> 时间：2012-11-20T10:28:15.030

似乎没有一个答案涉及**为什么** `17.32`表现不同。

### 1\. 为什么会发生

`17.32`您在和之间看到的行为差异`17.33 & 17.31`是由于 IEEE-754**舍入**规则造成的。

应用的舍入规则：来自[Java™ 虚拟机规范](http://docs.oracle.com/javase/specs/jvms/se7/jvms7.pdf) *§2.8.1*

> Java 虚拟机的舍入操作始终使用 IEEE 754 舍入到最接近模式。不精确的结果被四舍五入到最接近的可表示值，并与具有零最低有效位的值相匹配。这是 IEEE 754 默认模式。Java 虚拟机没有给出任何改变浮点舍入模式的方法

* * *

### 2\. 你的情况：

*双精度为*：（1 个符号位 + 11 个指数位 + 52 个小数位 = 64 位）。*以下四舍五入后的内部表示*：

```
 1 [63]      11 [62-52]           52 [51-00]
              Sign        Exponent             Fraction

17.31 -->    0 (+)       10000000011 (+4)     1.0001010011110101110000101000111101011100001010001111
17.32 -->    0 (+)       10000000011 (+4)     1.0001010100011110101110000101000111101011100001010010 //rounded up
17.33 -->    0 (+)       10000000011 (+4)     1.0001010101000111101011100001010001111010111000010100 
```

* * *

### 3\. 内部表示（证明）：

17.31：（尾数比较）

```
Actual:   1.00010100111101011100001010001111010111000010100011110...
Internal: 1.0001010011110101110000101000111101011100001010001111 
```

17.32：（尾数比较）

```
Actual:   1.00010101000111101011100001010001111010111000010100011... 
Internal: 1.0001010100011110101110000101000111101011100001010010    //round-up! 
```

17.33：（尾数比较）

```
Actual:   1.00010101010001111010111000010100011110101110000101000...
Internal: 1.0001010101000111101011100001010001111010111000010100 
```

* * *

### 4\. 转换回十进制：

```
17.31 ->  17.309999999999998721023075631819665431976318359375...
17.32 ->  17.32000000000000028421709430404007434844970703125... //(was rounded up)
17.33 ->  17.3299999999999982946974341757595539093017578125... 
```

（**[IEEE-754 分析工具](http://babbage.cs.qc.cuny.edu/IEEE-754/)**）

### 5.投长

**编辑：**正如@Jeppe Stig Nielsen 所说，在您的乘法步骤中还有一个因素在起作用。**FP**乘法 ( **[Reference](http://www.eecs.berkeley.edu/~wkahan/ieee754status/IEEE754.PDF)** ) 步骤的结果会自行向最近舍入。这会改变结果是否符合预期，但原因仍然与上述完全相同。

最后，由于 cast `(long)`，会发生截断，并留下您看到的结果。`(1730, 1732, 1732)`

缩小原始转换：[Java™ 语言规范](http://docs.oracle.com/javase/specs/jls/se7/jls7.pdf) *§5.1.3*

> 如果浮点数不是无穷大，则浮点值四舍五入为整数值 V，使用 IEEE 754 向零舍入模式向零舍入

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2012-11-20T06:44:56.157

该`double`值不是表示为 17.31，而是表示为 17.309999999999999。这就是为什么当你将它乘以 100 时，你会得到 1730.99999999999999999。转换为`Long`您的`double`值后，将被截断为零。所以你得到1730。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-11-20T10:56:24.940

如前所述，这是由于浮点精度非常小。

这可以通过使用 Math.round() 命令来解决，如下所示：

```
long j=Math.round(i*100); 
```

这将允许程序通过不使用地板运算来补偿使用浮点计算继承的非常小的错误，就像默认（长）那样。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-11-20T20:54:22.837

Cthulhu 和 svz 的答案是正确的。如果要将双精度数乘以 100 并避免浮点舍入错误，则可以使用在每次乘法后将`Math.round()`结果舍入到最接近的值：`long`

```
Double i=17.31;
long j=Math.round(i*100);
System.out.println(j); 
```

在处理非常大（或负）的双精度时，这仍然会有浮点错误。double 的绝对值越大，它与 Java 可以表示的下一个 double 之间的差异就越大。在某个点之后，连续的双精度数相距超过一个整数，并且传统的四舍五入将无法消除差异。但是，对于您发布的示例，这应该可以工作。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2012-11-20T06:45:15.373

它与内部表示有关。如果你看一下第一种情况下的 i*100，你会看到它是 1730.9999999999998。演员只会删除点之后的部分（截断）。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2021-01-07T14:04:24.443

对于类似的值， **字符串值 = 1074.6**

使用下面的代码

`double amount = Double.parseDouble(value);`

`String roundedValue = String.valueOf(Math.round(amount * 100))`

你可以得到结果**107460**

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-11-20T06:47:26.617

当你进行这种长时间的转换时，它就是底线。您的 17.31 实际上可能是 17.30999999999，这就是它导致 1730 而不是 1731 的原因。

使用 i = i * 100，然后 i.longValue() 将解决问题。

# wpf - 如何以编程方式设置 ContentControl 的 ContentTemplate

> ID：13467853
> 
> 赞同：2
> 
> 时间：2012-11-20T06:41:09.597
> 
> 标签：wpf, data-binding, binding

有人可以将其翻译成 C# 代码：

```
 <ContentControl Name="test" ContentTemplate="{StaticResource myA}"/> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T07:27:11.247

```
test.ContentTemplate = (DataTemplate) FindResource("myA"); 
```

# php - 用空格替换无效字符

> ID：13467854
> 
> 赞同：0
> 
> 时间：2012-11-20T06:41:11.297
> 
> 标签：php, zend-framework, replace

我目前正在尝试仅过滤字母数字字符。因此，我尝试了以下 Zend 函数，

```
$filter = new Zend_Filter_Alnum(array('allowwhitespace' => true));
$return = $filter->filter('This is (my) content: 123'); 
```

这实际上很神奇，但问题就在这里，我需要用空格替换字符。例如，如果我输入“Hel#o wor*d”，它必须是“Hel o wor d”。Aslo 我已经尝试过 php str_replace 函数，它实际上很好，但我必须在那里定义大量无效字符。任何人都可以告诉我如何轻松做到这一点吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T06:50:15.847

你可以通过使用`preg_replace()` 函数来做到这一点

```
<?php 
  $someone = "Hel#o wor*d";
  echo  preg_replace('/[\s\W]+/',' ',$someone); 
 ?> 
```

输出 -

```
Hel o wor d 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T08:14:04.627

[您可以为编写自定义过滤器](http://framework.zend.com/manual/1.12/en/zend.filter.writing_filters.html)创建一个自 定义过滤器

** 根据您的要求，复制 Zend 字母数字过滤器 (Zend_Filter_Alnum) 并将`preg_replace($pattern, '', (string) $value);`（第 144 行）替换为
`preg_replace($pattern, ' ', (string) $value);`

# vb.net - VBNET - 如何重置矩阵的表/内容？

> ID：13467862
> 
> 赞同：0
> 
> 时间：2012-11-20T06:41:42.543
> 
> 标签：vb.net, visual-studio, matrix, visual-studio-2012

我认为我的问题很简单，但我不知道如何做到这一点......

我的应用程序绘制了一些复选框并将每个复选框的值保存到矩阵中：

```
Public Class Form1
    Dim mcheck(0) As CheckBox 
```

然后使用控制按钮，我将在我的表单中加载一个东西，它要求矩阵再次为空（0），没有任何表/值/实例，就像我的第一个声明一样，从 scracth (0) (1) (2) 等中添加更多值...

我需要做什么来重置该矩阵的表/内容/值？

PS：真的对不起我的英语。

谢谢你的阅读

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T08:12:35.177

在这种情况下，您的“矩阵”是*Array*。VB 知道`ReDim`改变数组尺寸的命令。如果您使用`ReDim Preserve`数组的内容将被保留，否则它们会被删除/清除。如果您增加数组的大小并使用`Preserve`旧元素，则不会删除旧元素，并且将使用数组类型的默认值（0 表示整数，依此类推）初始化附加元素。减少时，您将失去所有超出新维度的元素。如果您 Redim 一个与它已经拥有的大小相同的数组（并且不要使用`Preserve`），那么您只是清除了所有元素。

但是......我怀疑“阵列”是解决您问题的正确方法。由于您正在做一些“动态”的事情，您可能最好使用 List(Of T) 或类似的东西。

# asp.net - 如何在 Outlook 中将我的电子邮件用作 Web 表单

> ID：13467863
> 
> 赞同：0
> 
> 时间：2012-11-20T06:41:50.483
> 
> 标签：asp.net, outlook-addin, exchangewebservices

我们的 Intranet Web 应用程序中有一个电子邮件通知系统。我们要求将请求发送给员工。我们需要在邮件中提供一个选项来接受或拒绝请求。我们能否在我们的 Web 应用程序的数据库中反映他们的接受程度。

问候

阿南德

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-22T10:35:47.877

我不得不做同样的事情，我发现最好从内部网发送电子邮件，其中包含一些可能来自资源文件的文本，但在电子邮件中将请求的唯一 ID（或 Guid）添加到末尾Intranet 上的一个页面 (~/AcceptReject.aspx?id=123456)，该页面会显示接受或拒绝按钮，然后将其记录到数据库中。

这意味着您可以通过谁登录到 Intranet 以及他们是接受或拒绝请求的人来判断 - 而不是他们不在办公室将其转发到团队邮箱以及其他人单击投票按钮等。

# jquery - 如何使用 html5 画布和 JQuery 工具制作滚动条？

> ID：13467864
> 
> 赞同：2
> 
> 时间：2012-11-20T06:41:51.903
> 
> 标签：jquery, html, html5-canvas

我正在尝试制作这样的网络温度计（这是我的想法图）![我的想法的图画](../Images/77b9492f88299e81c164cfd1d92c2100.png)

我能够用 Html5 画布绘制温度计的主体，但它都是静态的 - 我无法与之交互。我需要两个可编辑的文本框，更重要的是我需要在中心有一个类似滚动条的控件，这样当用户拖动它时，文本框中的数字会改变。

最简单的方法是什么？

我知道 JQuery Tools 提供了[现成的范围输入](http://jquerytools.org/demos/rangeinput/vertical.html)，这与我需要的非常相似，因为这些范围输入带有文本框。但这是正确的方法吗？我尝试使用 Jquery Tools 范围输入，但未能将其与我的画布合并。此外，我不知道是否可以在范围输入中添加一个额外的文本框。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T07:03:36.270

您可以更改您提到的插件的 css 并使其在上图中完全可见..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T07:28:49.973

一点点 sudo 代码

onmouseclick(target = thermomoterGrippie) { this.grippie = active }

onmousemove（事件）{

}

一旦你可以改变红色的大小。然后你可以做一个小算法，根据红色大小计算温度

# ios4 - iOS 应用开发：接收新短信通知

> ID：13467871
> 
> 赞同：2
> 
> 时间：2012-11-20T06:42:04.713
> 
> 标签：ios4, notifications, ios6, background-process, core-bluetooth

我想编写一个应用程序，每当我的 iPhone 4S 上有一条新短信时，它会 ping 蓝牙。非常感谢任何有关如何开始使用 Xcode 为这个应用程序编写代码的帮助！

# java - 中的重复文本 总结和细节

> ID：13467881
> 
> 赞同：7
> 
> 时间：2012-11-20T06:42:35.490
> 
> 标签：java, jsf, primefaces, messages, growlnotify

当电子邮件地址无效时，显示的消息是“无效的电子邮件。无效的电子邮件。”。我知道消息有两部分：摘要和详细信息。我需要这两个，但我希望每个都有不同的信息。如何更改消息以显示“无效的电子邮件：请输入有效的电子邮件地址”？

```
<p:messages showDetail="true" autoUpdate="true" closable="true" />
<h:panelGrid columns="2">
    <h:outputText value="#{label.email}: *" />
    <p:inputText required="true" value="#{userWizard.emailAddress}"
        validatorMessage="#{label.invalidEmail}" label="#{label.email}">
        <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$">
        </f:validateRegex>
    </p:inputText>
</h:panelGrid> 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-20T11:55:16.550

这是不可能的`validatorMessage`（既不是`converterMessage`也不是`requiredMessage`）。该值将用作摘要和详细信息*。*

您需要自己开发一个自定义验证器，而不是在其中您可以*自己*`FacesMessage`构建这两个部分。假设您旁边还有代表消息详细信息的 a，那么它应该如下所示：*`label.email``label.email_detail`*

 *```
@FacesValidator("emailValidator")
public class EmailValidator implements Validator {

    private static final Pattern PATTERN = Pattern.compile("([^.@]+)(\\.[^.@]+)*@([^.@]+\\.)+([^.@]+)");

    @Override
    public void validate(FacesContext context, UIComponent component, Object value) throws ValidatorException {
        if (value == null || ((String) value).isEmpty()) {
            return; // Let required="true" handle.
        }

        if (!PATTERN.matcher((String) value).matches()) {
            String summary = context.getApplication().evaluateExpressionGet(context, "#{label.email}", String.class);
            String detail = context.getApplication().evaluateExpressionGet(context, "#{label.email_detail}", String.class);
            throw new ValidatorException(new FacesMessage(FacesMessage.SEVERITY_ERROR, summary, detail));
        }
    }

} 
```

*[（请注意，我调整了电子邮件正则表达式，以便更好地为统治世界做好准备；自2010 年新的 IANA 决定](http://en.wikipedia.org/wiki/Internationalized_domain_name)以来，即允许在域名和电子邮件地址中使用中文、希伯来语、西里尔文等非拉丁字符）*

然后将其用作

```
<p:inputText ... validator="emailValidator" /> 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-20T06:50:19.247

根据这里的文档：http: [//www.primefaces.org/docs/vdl/3.4/primefaces-p/messages.html](http://www.primefaces.org/docs/vdl/3.4/primefaces-p/messages.html)

你可以做这样的事情：

```
<p:messages showSummary="true" showDetails="true" /> 
```

您也可以将它们分开...用于样式：

```
<p:messages showSummary="false" showDetails="true" />
<p:messages showSummary="true" showDetails="false" /> 
```

但是您不能使用 validatorMessage 定义两条错误消息：

[http://www.primefaces.org/docs/vdl/3.4/primefaces-p/inputText.html](http://www.primefaces.org/docs/vdl/3.4/primefaces-p/inputText.html)*

# javascript - Mobify.js 构建编码

> ID：13467890
> 
> 赞同：1
> 
> 时间：2012-11-20T06:43:27.093
> 
> 标签：javascript, encoding, character-encoding, cp1251, mobify-js

如何使用结果编码进行“移动构建” `WINDOWS-1251`？默认情况下，字符集`mobify.js`是`UTF-8`，但客户端站点中的字符集是`WINDOWS-1251`。

如果我使用 iconv、enconv 等，那么它可以帮助我设置编码`WINDOWS-1251`，`mobify.js`但它会分解俄语字符。谢谢！

对不起，我的英语不好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-25T20:24:50.210

Mobify 客户端仅支持构建编码为 UTF8 的文件。

确保您的所有文件（mobify.konf、任何模板等）都以 UTF8 编码保存，您应该一切顺利！

# java - 如何限制用户在 swt 文本框中输入某些字符

> ID：13467895
> 
> 赞同：2
> 
> 时间：2012-11-20T06:43:55.030
> 
> 标签：java, swt

我有一个 swt 文本框，我用它分配了一个关键侦听器。我希望文本框中的第一个字符不应该是我使用以下代码的空格 -

```
 textCSVFileName.addKeyListener(new KeyAdapter(){
        public void keyPressed(KeyEvent e){
            if(textCSVFileName.getCharCount() == 0){

                if(e.keyCode == 32){

                }
            }
        } 
```

现在我知道用户输入的第一个字符是空格。但如果上述条件为真，那么我该如何限制它进入文本框？有什么帮助吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T07:32:11.440

你也可以看看`Text#addVerifyListener`。可能是用户已经输入了一些值，然后将光标移动到文本的开头并输入了一个空格。如果您想要在所有情况下都不允许文本开头的空格字符，您可能需要使用它。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-20T07:47:48.363

虽然这个问题是用一个肮脏的解决方法*来回答的，但我建议看一下这个`SWT.Verify`事件，听一下，并防止在第一个位置出现空格：

```
final Text textField = new Text(shell, SWT.BORDER);

textField.addListener(SWT.Verify, new Listener() {

    @Override
    public void handleEvent(Event e) {
        // get old text and create new text by using the Event.text
        final String oldS = textField.getText();
        String newS = oldS.substring(0, e.start) + e.text + oldS.substring(e.end);

        if(newS.length() > 0 && newS.charAt(0) == ' ')
            e.doit = false;
    }
}); 
```

无论如何，这将防止开头出现空格。

* * *

*“解决方法”甚至不起作用。想想当你在第一个位置输入一个空格时会发生什么，当文本已经包含一些文本时。这种方法不会阻止这种情况。

# html - 输入文本和背景图像[type='submit']

> ID：13467899
> 
> 赞同：3
> 
> 时间：2012-11-20T06:44:01.463
> 
> 标签：html, forms, css

`<input name="submit" type="submit" value="Search" class="button search">`

是否可以使用`background-image:`并仍然显示`value`属性中包含的文本来应用 CSS 渐变？

当我添加背景图像时，它会隐藏文本。

非常感谢任何帮助

**编辑**

这是与标记匹配的计算样式

```
 -webkit-appearance: none;
    -webkit-background-clip: border-box;
    -webkit-background-origin: padding-box;
    -webkit-background-size: auto;
    -webkit-border-image: none;
    -webkit-box-align: center;
    -webkit-box-shadow: rgba(255, 255, 255, 0.701961) 0px 0px 6px 0px inset, rgba(0, 0, 0, 0.0980392) 0px 2px 3px 0px;
    -webkit-font-smoothing: antialiased;
    -webkit-rtl-ordering: logical;
    -webkit-transition-delay: 0s;
    -webkit-transition-duration: 0.30000001192092896s;
    -webkit-transition-property: all;
    -webkit-transition-timing-function: linear;
    -webkit-user-select: text;
    background-attachment: scroll;
    background-clip: border-box;
    background-color: transparent;
    background-image: -webkit-linear-gradient(top, #FF8F25 0%, #FF6D00 100%);
    background-origin: padding-box;
    background-position: 0% 0%;
    background-size: auto;
    border-bottom-color: #BE4B00;
    border-bottom-left-radius: 4px;
    border-bottom-right-radius: 4px;
    border-bottom-style: solid;
    border-bottom-width: 1px;
    border-left-color: #BE4B00;
    border-left-style: solid;
    border-left-width: 1px;
    border-right-color: #BE4B00;
    border-right-style: solid;
    border-right-width: 1px;
    border-top-color: #BE4B00;
    border-top-left-radius: 4px;
    border-top-right-radius: 4px;
    border-top-style: solid;
    border-top-width: 1px;
    bottom: 10px;
    box-shadow: rgba(255, 255, 255, 0.701961) 0px 0px 6px 0px inset, rgba(0, 0, 0, 0.0980392) 0px 2px 3px 0px;
    box-sizing: border-box;
    color: white;
    cursor: pointer;
    display: block;
    float: right;
    font-family: 'Lucida Grande';
    font-size: 12px;
    font-style: normal;
    font-variant: normal;
    font-weight: 800;
    height: 26px;
    letter-spacing: normal;
    line-height: 26px;
    margin-bottom: 0px;
    margin-left: 0px;
    margin-right: 0px;
    margin-top: 0px;
    max-height: 24px;
    outline-color: white;
    outline-style: none;
    outline-width: 0px;
    overflow-x: hidden;
    overflow-y: hidden;
    padding-bottom: 0px;
    padding-left: 0px;
    padding-right: 0px;
    padding-top: 24px;
    position: absolute;
    right: 8px;
    text-align: center;
    text-indent: 0px;
    text-shadow: none;
    text-transform: uppercase;
    vertical-align: baseline;
    white-space: pre;
    width: 85px;
    word-spacing: 0px 
```

**解决了**

是一个填充问题将文本向下推。似乎在 Mac 上的 Chrome 中可以应用填充而不影响高度，以便将文本推下视图。

谢谢你们的帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T06:47:42.353

CSS

```
input {
background-color: #D28888;
background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(#690707), to(#D28888));
background: -moz-linear-gradient(top, #690707 0%, #D28888 100%);
    border:none; padding:6px 12px; color:#fff; cursor:pointer
} 
```

**[演示](http://jsfiddle.net/ZSrHh/2/)** ​</p>

* * *

通过使用`background-image`

```
input {
background-image: url(http://alanbooth.net/alap/images/gradient.bmp);
border:none;
padding:6px 12px;
color:#fff;
cursor:pointer
}
​ 
```

**[演示 - 2](http://jsfiddle.net/ZSrHh/3/)**

# html - HTML和CSS制作带有悬停效果的图像链接？

> ID：13467900
> 
> 赞同：0
> 
> 时间：2012-11-20T06:44:04.907
> 
> 标签：html, css, image, hyperlink

我剪掉了一堆代码来解决我需要帮助的问题，我有一个图像，当我将鼠标悬停在它上面时它会更改图像，但是当我单击该图像时我如何添加它会让你说mywebsite.com ?? [http://pastebin.com/h83yi3e3](http://pastebin.com/h83yi3e3)

**代码：**

```
<html>
  <head>
    <style>
       #buttonOne {width:140px;height:60px;background-image:url(buttonOne.png);}
       #buttonOne:hover {width:140px;height:60px;background-image:url(buttonOneH.png);}
       #buttonTwo {width:140px;height:60px;background-image:url(buttonTwo.png);}
       #buttonTwo:hover {width:140px;height:60px;background-image:url(buttonTwoH.png);}
       #buttonThree {width:140px;height:60px;background-image:url(buttonThree.png);}
       #buttonThree:hover {width:140px;height:60px;background-image:url(buttonThreeH.png);}
    </style>
  </head>
  <body>    
      <div id="buttonOne">
      </div>

      <div id="buttonTwo">
      </div>

      <div id="buttonThree">
      </div>    
  </body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T06:53:08.617

将这些`div`s 改为`a`标签。这就是他们的目的。如果您想要一个可以单击以转到另一个 url 的元素，那么您需要一个`<a>`标签。

```
<a id="buttonOne" href="http://letssaymywebsite.com/"></a>
<a id="buttonTwo" href="http://letssaymywebsite.com/"></a>
<a id="buttonThree" href="http://letssaymywebsite.com/"></a> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-20T06:55:07.240

使用锚标签你可以这样做 -

```
<a id="buttonOne" href="mywebsite.com"></a>
... 
```

然后你可以用它`a:hover`来改变图像

在 css-

```
#buttonOne a:hover
{
background-image:url(buttonOneH.png);
}
... 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T16:40:14.453

好吧，我不确定你们在谈论什么，删除了 div，对我没有用，我所做的是在我添加到不可见的链接图像中的那些空 div 中。

```
<div id="buttonOne">
<a href="mywebsite.com" target="_blank"><img src="inbut.png">
</a>
</div> 
```

# mysql - mysql - 计算字母

> ID：13467901
> 
> 赞同：5
> 
> 时间：2012-11-20T06:44:08.293
> 
> 标签：mysql

谁能告诉我如何在 MySQL 中计算字符串中的字母？

例如：

```
SELECT numberOfLetters('abc123 def') 
```

将返回 6

通过字母，我的意思是 AZ 和 az。

numberOfLetters 当然不是有效的 SQL，但它说明了我正在尝试做的事情。

我使用的 MySQL 版本是 5.5.27

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T07:46:06.407

您将需要一个功能：

```
DROP FUNCTION IF EXISTS numberOfLetters;

DELIMITER //

CREATE FUNCTION numberOfLetters(s VARCHAR(255)) RETURNS INT DETERMINISTIC NO SQL
BEGIN
    DECLARE c INT;
    DECLARE r INT DEFAULT 0;
    DECLARE n INT DEFAULT LENGTH(s);
    DECLARE i INT DEFAULT 1;

    WHILE i <= n DO
        SET c = ASCII(SUBSTRING(s, i, 1));
        IF (c >= 65 AND c <= 90) OR (c >= 97 AND c <= 122) THEN
            SET r = r + 1;
        END IF;
        SET i = i + 1;
    END WHILE;

    RETURN r;
END//

DELIMITER ; 
```

然后调用：

```
SELECT numberOfLetters('abc123 def'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T07:47:12.920

相当离我的头，但我相信这会做你需要的。

注意：假设 ASCII 并且您只计算 az、AZ。

```
DROP FUNCTION IF EXISTS numberOfLetters;
DELIMITER //
CREATE FUNCTION numberOfLetters (inStr CHAR(255))
RETURNS INT
BEGIN
    DECLARE strLen INT;
    DECLARE letterCt INT;
    DECLARE pos INT;
    DECLARE curLetter CHAR(1);

    SET pos      := 0;
    SET letterCt := 0;

    SELECT LENGTH(inStr) INTO strLen;

    ctLoop: LOOP
        IF (strLen = 0) THEN
            LEAVE ctLoop;
        END IF;

        SELECT SUBSTR(inStr, strLen, 1) INTO curLetter;
        IF (ASCII(curLetter) >= 65 AND ASCII(curLetter) <= 90) OR (ASCII(curLetter) >= 97 AND ASCII(curLetter) <= 122) THEN
            SET letterCt := letterCt + 1;
        END IF;

        SET strLen := strLen - 1;
    END LOOP ctLoop;

    RETURN letterCt;
END //
DELIMITER ;

select numberOfLetters('abc123 def'); 
```

输出：

```
+-------------------------------+
| numberOfLetters('abc123 def') |
+-------------------------------+
|                             6 |
+-------------------------------+ 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-03-12T13:03:15.087

您可以像这样简单地使用**length()**函数：

* * *

> 选择长度（'abc123 def'）；

它返回： **10**

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-20T06:57:33.893

我不能说这对 MySQL 有好处，但请尝试一下 -

```
SELECT CHAR_LENGTH(
  REPLACE(
    REPLACE(
      REPLACE(
        REPLACE('abc123 def', ' ', ''), '1', ''), '2', ''), '3', '')
); 
```

...您应该为需要从计数中删除的每个字符添加 REPLACE 函数。

# java - 找不到主课

> ID：13467906
> 
> 赞同：0
> 
> 时间：2012-11-20T06:44:35.143
> 
> 标签：java, netbeans, jar, manifest, executable-jar

我有 3 个 GUI 表单

*   main1.java
*   main2.java
*   main3.java

与主要方法。`package1`另外两个中有一个在`package2`。

我`package1.main1`在项目配置中设置了主类。干净构建后，当我将`.jar`文件发送给我的朋友时，它显示错误- `couldn't find main class`. 我检查了清单文件，似乎一切正确，`package2`罐子里也没有。

请帮我解决这个问题。

仅供参考，我正在使用 netbeans7.2

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T07:43:35.200

我认为你的罐子里仍然有些不一致。我建议如下：

运行以下命令以跟踪 jar 的内容：

```
jar tf YOUR_JAR_FILE_COMES_HERE 
```

在确保所有包都正确放置并且 Main 类确实存在之后，请仔细检查您的 MANIFEST.MF 文件。一旦在这里正确定义了主类，您的朋友应该能够运行`java -jar YOUR_JAR_FILE_COMES_HERE_AGAIN`

我要检查的另一场音乐会，在 windows 文件名不区分大小写，而在 linux/unix 上不是大小写，您必须检查所有大写/小写是否设置正确。

希望这可以帮助

# javascript - window.open 无法打开两个以上的链接

> ID：13467915
> 
> 赞同：4
> 
> 时间：2012-11-20T06:45:19.070
> 
> 标签：javascript, jquery, html, google-chrome, google-chrome-extension

根据我的要求，我需要创建一个 Google Chrome 扩展程序，在单个 chrome 窗口的不同选项卡中单击即可打开多个链接 (25+)。该代码在 Chrome 18 之前运行良好。现在，我使用的是 chrome 24，该代码停止工作。我只是将所有链接存储在一个数组中并使用 for 循环打开它们，如下所示：

```
 for(var i = 0; i<links.length; i++)
  {
    var tablink = links[i];
    if(links[i] != "")
    {
            tablink = *"somedomain"* + tablink;
        setTimeout(window.open(tablink), 500);  
    }
  } 
```

结果，只有两个链接在选项卡中打开，其余链接将在不同的 chrome 窗口中打开。我应该怎么做才能克服这个？

编辑#1

在我的清单文件中

```
"content_scripts": [
    {
      "matches": ["http://*/*", "https://*/*"],
      "js": ["script.js", "jquery.js", "dialog.js"]
    }
  ],

"permissions": [
    "tabs", "http://*/*", "https://*/*"
  ], 
```

首先给出的代码在 dialog.js 中

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-21T07:28:25.573

这似乎是 JavaScript 中的常见错误。 `setTimeout(window.open(tablink), 500);`表示调用 window.open 500 毫秒后*返回的内容。*window.open 的返回值通常是一个 Window 对象，这会使 setTimeout 失败并且您的代码停止执行。这就是导致问题的原因。请`setTimeout(function(){window.open(tablink)}, 500);`改用。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-20T07:19:28.133

我试图同时打开多个网站，

发现“该页面上的弹出窗口被阻止”

你可以在地址栏中看到。

:)

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-11-20T11:09:46.263

找到解决方案，打 n 块试石 :)

我刚刚删除了 setTimeout 函数，它可以工作。我仍然不明白为什么它会导致问题。

```
for(var i = 0; i<links.length; i++)
  {
    var tablink = links[i];
    if(links[i] != "")
    {
            tablink = *"somedomain"* + tablink;
        window.open(tablink);  
    }
  } 
```

# java - 为什么 tagged 或 Marker 接口会被 JVM 特殊处理

> ID：13467918
> 
> 赞同：1
> 
> 时间：2012-11-20T06:45:31.563
> 
> 标签：java, interface

我有一个问题，我搜索了很多答案。我不确定哪个是真的。请问谁能解释一下。为什么 JVM 专门处理标记接口？示例：让我们采用其中没有任何方法的可序列化接口，但 JVM 不会抛出任何编译时异常。JVM如何对待这种接口，当我们实现标记接口时会发生什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T06:52:35.160

对于 jvm，它们没有什么特别之处。接口不需要定义任何方法。将实现空接口的类视为将类标记为特定类型的一种方式，您可以在运行时使用 instanceof 轻松检查该类型。

除了这种类型的信息，它还可以用于强调类的高级方面，或快速识别具有特定属性的类（通过人工和自动化工具或 IDE）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T09:22:46.720

在大多数情况下，“标记”接口是开发人员和他们编写的库的区别，而不是 JVM。

> 为什么 JVM 专门处理标记接口？

它没有。没有方法的接口没有特殊行为。这些接口由库设计者专门用于特定目的。

> 示例：让我们采用其中没有任何方法的可序列化接口，但 JVM 不会抛出任何编译时异常。

后者暗示 JVM 不知道 Serializable 接口的特殊行为。相反，它是 ObjectInputStream/ObjectOutputSTream*库*检查的东西，仅此而已。其他序列化库可能会也可能不会对这个接口做些什么。例如 XStream 会忽略它。

> JVM如何对待这种接口，当我们实现标记接口时会发生什么。

JVM 知道的关于 Serializable 的唯一特别之处是内置数组类型是可序列化的，例如

```
System.out.println(new byte[0] instanceof Serializable); // is true 
```

这只是因为 JVM 知道这种类型应该是可序列化的，因为它没有在任何类中定义。这是一种特殊情况，不适用于其他标记接口。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T06:59:15.577

如果接口没有方法，我看不出 jvm 抛出异常的任何原因。标记接口允许特定类型的实现 - 您可以进行（实例）检查并执行标记接口类型特定的自定义。JVM 必须做类似的事情。

然而，注释（Java 5 后）是标记接口的更好替代方案。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-20T10:03:28.693

> 为什么 tagged 或 Marker 接口会被 JVM 特殊处理

他们不是。我不知道您所说的“标记”是什么意思，但这没有任何区别。

> 为什么 JVM 专门处理标记接口？

它不是。

> 示例：让我们采用其中没有任何方法的可序列化接口，但 JVM 不会抛出任何编译时异常。

没有编译时异常之类的东西，除非你有一个错误的编译器。自 1997 年以来我从未见过。如果您指的是*编译错误，*它们是由*Java 编译器*而不是 JVM*打印*而不是*抛出的。*如果你问为什么不包含任何方法的接口没有编译错误，原因是它是合法的 Java 代码：检查 Java 语言规范。

 *> JVM 如何处理此类接口

与任何其他界面相同。

> 当我们实现标记接口时会发生什么。

与任何其他界面相同，尽管我不知道您所说的“标记”是什么意思。

如果在所有这些混乱中您真正要问的是“`Serializable`界面如何工作”？答案是该类通过运算符`ObjectOutputStream`检查传递给`ObjectOutputStream.writeObject()`的任何对象是否属于实现 的类。而已。编译器或 JVM 没有处理，只是与您自己编写的代码完全相同。`Serializable``instanceof`*

# c++ - 奇怪的 GLSL 片段着色器颜色不起作用

> ID：13467921
> 
> 赞同：1
> 
> 时间：2012-11-20T06:46:02.093
> 
> 标签：c++, opengl, glsl

不知何故，修改 gl_FragColor 不会改变我的 3D 对象的最终颜色。这怎么可能？这只是突然发生的......因为之前完全相同的代码正在工作......

片段着色器：

```
#version 120

uniform vec4 ambient;
uniform vec4 diffuse;
uniform vec4 specular;
uniform vec4 objColor;
uniform float shininess;
uniform bool shade;
uniform sampler2D texMap;

varying vec2 st;
varying vec3 N;
varying vec3 L;
varying vec3 E;

void main(void) {

    vec3 NN = normalize(N);
    vec3 EE = normalize(E);
    vec3 LL = normalize(L);
    vec3 H = normalize(LL+EE);  //Half vector
    float Kd = dot(LL, NN);
    float Ks = pow(max(dot(NN, H), 0.0), shininess);
    vec4 amb, diff, spec;
    amb = ambient;
    diff = Kd*diffuse;
    if(Kd <= 0.0) spec = vec4(0.0, 0.0, 0.0, 1.0);
    else spec = specular * Ks;

    if(shade) gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0); <----------------- THIS LINE
    else gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0); <---------------------- THIS LINE

} 
```

顶点着色器：

```
#version 120

uniform mat4 projection_matrix;
uniform mat4 modelview_matrix;
uniform mat4 transform_matrix;
uniform vec4 light_position;

attribute vec2 a_Textcoord;
attribute vec4 a_Vertex;
attribute vec4 a_Normal;

varying vec2 st;
varying vec3 N;
varying vec3 L;
varying vec3 E;

void main(void) {

        vec4 clip_position = transform_matrix * a_Vertex;
        gl_Position = projection_matrix * modelview_matrix * clip_position;

        vec4 nn = transform_matrix * a_Normal;
        N = normalize(nn.xyz);
        L = light_position.xyz - clip_position.xyz;
        if(light_position.w == 0.0) L = light_position.xyz;
        E = clip_position.xyz;
        st = a_Textcoord;

} 
```

如片段着色器中所示，“<----- 这条线”，任何我着色器的对象，都是黑色而不是红色。我检查了所有发送到着色器的变量值，它们与预期相符，并且 ModelView Matrix 和 Projection Matrix 工作正常。有人知道为什么会这样吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-22T01:28:44.247

神奇的是，它又起作用了……我什么也没做，只是重新启动计算机（关机并等待 15 秒，再开机）。它与OpenGL设置有关吗？

# ios - 我是 iOS 开发的新手，我想学习在 tableview 中延迟加载图像？

> ID：13467924
> 
> 赞同：0
> 
> 时间：2012-11-20T06:46:24.293
> 
> 标签：ios, lazy-loading

> **可能重复：**
> [UITableView 中的延迟加载图像](https://stackoverflow.com/questions/1130089/lazy-load-images-in-uitableview)

我有 40 行的 tableview，我想从 URL 向每个单元格添加图像。但问题是，当我启动我的应用程序时，它会冻结一段时间，直到从各种 URL 加载所有图像？我希望图像在加载时一张一张显示，并且我的应用程序不能冻结。所以请回答我...？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T06:55:04.243

```
@interface ImageLoading : UIView {

NSURLConnection* connection;
NSMutableData* data;
NSArray *userArr1;
UIActivityIndicatorView *progress;
}

 @property (nonatomic, retain) NSArray *userArr1;

  - (void)loadImageFromURL:(NSURL*)url;

  @end 
```

然后在实现文件中

```
 @implementation ImageLoading

   - (id)initWithFrame:(CGRect)frame
  {
self = [super initWithFrame:frame];
if (self) {
    // Initialization code
    }
 return self;
   }

   - (void)loadImageFromURL:(NSURL*)url {    

   progress= [[UIActivityIndicatorView alloc] initWithFrame:CGRectMake(5, 5, 25, 25)];
progress.activityIndicatorViewStyle = UIActivityIndicatorViewStyleGray;
[self addSubview:progress];
[progress startAnimating];

NSURLRequest* request =[NSURLRequest requestWithURL:url];

connection = [[NSURLConnection alloc]
              initWithRequest:request delegate:self];
   }

       - (void)connection:(NSURLConnection *)theConnection didReceiveData:(NSData *)incrementalData {

if (data==nil) {
    data =
    [[NSMutableData alloc] initWithCapacity:2048];
}

[data appendData:incrementalData];
 }

  - (void)connectionDidFinishLoading:(NSURLConnection*)theConnection {

       connection=nil;

       if ([[self subviews] count]>0) {
    [[[self subviews] objectAtIndex:0] removeFromSuperview];
       }

      UIImageView* imageView = [[UIImageView alloc] initWithImage:[UIImage  imageWithData:data]];
     imageView.frame = self.bounds;
imageView.contentMode = UIViewContentModeScaleAspectFit;
imageView.autoresizingMask = ( UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight );    

// Begin a new image that will be the new image with the rounded corners 
// (here with the size of an UIImageView)
UIGraphicsBeginImageContextWithOptions(imageView.bounds.size, NO, 1.0);

// Add a clip before drawing anything, in the shape of an rounded rect
[[UIBezierPath bezierPathWithRoundedRect:imageView.bounds 
                            cornerRadius:5.0] addClip];
// Draw your image
[[UIImage imageWithData:data] drawInRect:imageView.bounds];

// Get the image, here setting the UIImageView image
imageView.image = UIGraphicsGetImageFromCurrentImageContext();

// Lets forget about that we were drawing
UIGraphicsEndImageContext();

[self addSubview:imageView];
[progress stopAnimating];

[imageView setNeedsLayout];
[self setNeedsLayout];
data=nil;
  }

  - (UIImage*) image {

 UIImageView* iv = [[self subviews] objectAtIndex:0];
 return [iv image];
   }

 @end 
```

在您的表格视图单元格中

```
 ImageLoading* asyncImage = [[ImageLoading alloc]
                               initWithFrame:frame];
    asyncImage.tag = 999;
    [asyncImage loadImageFromURL:url];
  [cell.contentView addSubview:asyncImage]; 
```

你可以用[这个](https://github.com/rs/SDWebImage)

同样[的问题](https://stackoverflow.com/questions/2828312/lazy-loading-images-in-uitableview-iphone-sdk)

# sql - SQLAlchemy：为列的每个不同值选择一行

> ID：13467928
> 
> 赞同：5
> 
> 时间：2012-11-20T06:46:50.050
> 
> 标签：sql, sqlalchemy

**我想为column 的每个不同值分别**选择一行。在这里我想执行它`col1`：

```
| ID | COL1 | COL2 |
--------------------
|  1 |    0 |    0 |
|  2 |    0 |    1 |
|  3 |    1 |   11 |
|  4 |    1 |   12 |
|  5 |    1 |   16 | 
```

结果是：

```
| ID | COL1 | COL2 |
--------------------
|  1 |    0 |    0 |
|  3 |    1 |   11 | 
```

和`0`的`1`不同值`col1`。只要返回不同的列值，我对返回哪一行并不严格（例如，不需要 id 的最小值）。

请假设模型已被调用`TestModel`并且所有内容都已完全映射。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-20T07:08:59.590

您需要为此使用子查询。而且您还必须选择`MIN`或`MAX`发挥作用：

```
SELECT * FROM TestModel
WHERE ID IN(SELECT MIN(id) 
            FROM TestModel 
            GROUP BY col1) 
```

输出：

```
| ID | COL1 | COL2 |
--------------------
|  1 |    0 |    0 |
|  3 |    1 |   11 | 
```

### [看到这个 SQLFiddle](http://sqlfiddle.com/#!2/3622c/2)

* * *

SA版解决方案：

```
subq = (session.query(func.min(TestModel.id).label("min_id")).
        group_by(TestModel.col1)).subquery()

qry = (session.query(TestModel).
       join(subq, and_(TestModel.id == subq.c.min_id))) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-21T11:00:38.553

`TestModel`这将为每个不同的列值返回对象`TestModel.col1`，就像`GROUP BY`SQL 中的查询一样。

```
session.query( TestModel).group_by( TestModel.col1).all() 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-08-25T08:28:50.737

从 SQLAlchemy 1.0 开始，您可以`distinct` [使用条件](http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html#sqlalchemy.orm.query.Query.distinct)调用，它允许您编写

```
session.query(TestModel).distinct(TestModel.col1).all() 
```

在 Postgresql 中，这将转换为`DISTINCT ON`查询。

这不仅适用于 ORM，而且适用于 SQLAlchemy Core [select](http://docs.sqlalchemy.org/en/latest/core/selectable.html#sqlalchemy.sql.expression.select)。

# ajax - node.js-如何确保所需的字段值转到ajax？

> ID：13467931
> 
> 赞同：0
> 
> 时间：2012-11-20T06:47:02.650
> 
> 标签：ajax, node.js, hidden-field

我正在尝试将一些值传递给 AJAX 字段，如下所示

```
res.write(<input type="hidden" class="story" name="'+i+'" value="'+namet[i]+'"/>);
res.write('<div class="editInPlace">'+comment[i]+'</div>'); 
```

这里的问题与任何`<div>`我点击无关，只传递了第一个隐藏字段值。那么我应该如何确保`<div>`标签的隐藏字段的相应值在这里传递呢？提前谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T07:23:49.837

似乎在提交表单时不会考虑动态添加的字段值。为什么不能添加具有所需字段值的单独表单？

# mysql - 如何在 Django 中转储我的部分数据库

> ID：13467939
> 
> 赞同：3
> 
> 时间：2012-11-20T06:47:38.690
> 
> 标签：mysql, django, testing

我想在我的数据库中使用现有数据在 Django 中进行单元测试。数据库太大，无法进行测试，所以我想转储部分数据。

有什么办法可以倾倒其中的一部分？（我的数据库是 MySQL）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T07:57:39.170

您可以更改此部分`models.MyModel.objects.all()`以获取夹具中的选择性数据。

```
from django.core import serializers
from myproject.myapp import models
data = serializers.serialize("json", models.MyModel.objects.all())
out = open("mymodel.json", "w")
out.write(data)
out.close() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T07:58:38.203

需要使用[转储数据](https://docs.djangoproject.com/en/dev/ref/django-admin/#dumpdata-appname-appname-appname-model)，例如

```
python manage.py dumpdata --format=json --indent=2 --exclude=admin --exclude=sessions > test_db.json 
```

在这里，我将数据库中除 admin 和 sessions 表（我猜你可能不需要这些）之外的所有内容转储到名为 .json 的 json 文件`test_db.json`中。我还使用缩进 2 个空格来使文件更易于肉眼检查。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-20T08:12:19.710

您可以尝试使用**mysqldump**：

您将需要查找要转储的表的所有名称。要获取完整列表，您可以使用：

`mysqlshow db_name`

然后运行：

`mysqldump db_name table_1 table_2 table_3 table_4`

此命令会将结果输出到标准输出，如果要将其写入文件，请使用`--result-file=/path/to/file`

另请参阅 mysqldump 的完整文档：http: [//dev.mysql.com/doc/refman/5.0/en/mysqldump.html](http://dev.mysql.com/doc/refman/5.0/en/mysqldump.html)

# jquery - 必须根据类名获取主 div 下每个 div 的 id

> ID：13467946
> 
> 赞同：1
> 
> 时间：2012-11-20T06:48:27.503
> 
> 标签：jquery

嗨，在我的页面中，我有一个主 div，它有许多子 div。我想根据类名查找每个 div id，即，

```
<div id="main"> 
 <div id="child1" class="child"> 

</div>
 <div id="child2" class="child"> 

</div>
 <div id="child3" class="child"> 

</div>
</div> 
```

我正在尝试使用以下脚本获取每个 div 的 id。但它只查看第一个 div id

```
$("#main").each(function() {
    var val = $(this).find(".child").attr("id");
     alert(val);//displays only child1
 }); 
```

任何人都可以建议我如何获得每个 div id

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-20T06:50:45.260

你正在循环通过主 div 而不是它的子 div 这就是为什么它只获得第一个子 div id

你可以这样做

```
$.each($("#main .child"),function()
{
   alert($(this).attr('id'));
}); 
```

[演示](http://jsfiddle.net/ZPzcq/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T06:54:42.387

这是做同样事情的另一种方法。注意使用`this.id`代替`$(this).attr('id')`。更简单/更清洁的阅读。

```
$('#main .child').each( function(){
    alert(this.id);
}); 
```

链接到[jsbin](http://jsbin.com/utewoz/1/edit)

注意：最好使用`.prop()`而不是`.attr()`在最新版本的 jQuery

# database - 在 phppgadmin 中创建数据库时出错

> ID：13467949
> 
> 赞同：8
> 
> 时间：2012-11-20T06:48:37.763
> 
> 标签：database, postgresql-9.2, phppgadmin

我有 PostgreSQL 9.2.0。单击创建数据库时，它显示以下错误：

```
SQL error:
ERROR:  column "spclocation" does not exist
LINE 1: ...pg_catalog.pg_get_userbyid(spcowner) AS spcowner, spclocatio...
                                                         ^
In statement:

SELECT spcname, pg_catalog.pg_get_userbyid(spcowner) AS spcowner, spclocation,
       (SELECT description FROM pg_catalog.pg_shdescription pd WHERE pg_tablespace.oid=pd.objoid) AS spccomment
        FROM pg_catalog.pg_tablespace WHERE spcname NOT LIKE $$pg\_%$$ ORDER BY spcname 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-13T06:06:30.567

快速修复：（与我的版本 (5.0.3) / pg 9.2.3 一起使用）

1.  改成`/classes/database`
2.  复制`Postgres84.php`到`Postgres92.php`
3.  打开`Connection.php`
4.  `case '9.2': return 'Postgres92'; break;`在`// Detect version and choose appropriate database driver`开关处添加一条线 。
5.  打开`Postgres.php`和复制功能`getTablespaces`+`getTablespace`
6.  打开`Postgres92.php`并将函数粘贴到类中
7.  `, spclocation,`将两个函数中的“ ”替换为“” `, pg_tablespace_location(oid) as spclocation,`。

8.  在 Postgres92.php 中将类名更改为 Postgres92

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-14T11:44:42.080

2012 年 12 月 12 日晚上，我在运行 PostgreSQL 9.2.1 的 Mac Mini 服务器上更新了 Mountain Lion。当我发现这个问题时，我遇到了同样的问题。当我对这个问题进行搜索时，我发现了以下关于这个问题的错误跟踪器。

[http://sourceforge.net/tracker/?func=detail&aid=3570272&group_id=37132&atid=418980](http://sourceforge.net/tracker/?func=detail&aid=3570272&group_id=37132&atid=418980)

其中一条评论建议从 github 下载开发人员分支以从[https://github.com/phppgadmin/phppgadmin/zipball/master](https://github.com/phppgadmin/phppgadmin/zipball/master)解决此问题。我这样做并将其复制到 /Library/Server/Web/Data/Sites/Default 并重命名了文件夹。我在 /conf/config.inc.php 中将 $conf['servers'][0]['host'] 修改为 127.0.0.1。我想我必须复制 config.inc.php-dist。我已经成功地创建了数据库。截至 12 月 12 日，他们还没有发布 9.2 的稳定版本。希望他们很快就会。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-20T06:56:11.903

简而言之： table`pg_tablespace` [在 9.2 中没有该列](http://www.postgresql.org/docs/9.2/static/catalog-pg-tablespace.html)。

似乎现在应该从其他方式获取信息，如[邮件列表中所述](http://archives.postgresql.org/pgsql-bugs/2012-06/msg00201.php)。

还要注意[官方 phpPgAdmin 页面](http://phppgadmin.sourceforge.net/doku.php)中，PostgreSQL 支持的最新版本是 9.0。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-14T17:34:50.220

对于“快速修复”，在 (2) 之后再添加一个步骤：

将 Postgres92.php 中的类名从 Postgres84 更改为 Postgres92。

# c# - 从 excel 文件中读取数据：代码未进入 Catch() 块

> ID：13467950
> 
> 赞同：0
> 
> 时间：2012-11-20T06:48:42.987
> 
> 标签：c#, excel

我正在编写代码以从 excel 文件中读取数据。早些时候，如果我已经打开了 Excel 文件，我的代码会进入“Catch()”块，并为其抛出异常。现在，它不会抛出异常，但需要很长时间才能读取。我想知道为什么它不在“Catch()”块中。

代码：

```
DataTable VendorCodesTable = new DataTable("VendorCodesData");
DataTable ForSheetName = new DataTable("ForSheetName");
string SheetName = "Sheet1$";
try
{
    ExcelConnectionString = string.Format("Provider=Microsoft.Jet.OLEDB.4.0; data source={0}; Extended Properties=Excel 8.0;", fileName);
    OleDbConnection conn = new OleDbConnection();
    conn.ConnectionString = ExcelConnectionString;
    conn.Open();
    ForSheetName = conn.GetOleDbSchemaTable(OleDbSchemaGuid.Tables, null);
    if (ForSheetName != null)
    {
        SheetName = ForSheetName.Rows[0]["TABLE_NAME"].ToString();
    }
    conn.Close();
    OleDbDataAdapter adapter = new OleDbDataAdapter("SELECT * FROM ["+SheetName+"]", ExcelConnectionString);
    adapter.Fill(VendorCodesTable);
}
catch (Exception ex)
{
    MessageBox.Show(ex.ToString(), "Exception");
}
return VendorCodesTable; 
```

我添加了这段代码，它停止抛出错误，并且花了很长时间来加载文件：

```
OleDbConnection conn = new OleDbConnection();
conn.ConnectionString = ExcelConnectionString;
conn.Open();
ForSheetName = conn.GetOleDbSchemaTable(OleDbSchemaGuid.Tables, null);
if (ForSheetName != null)
{
    SheetName = ForSheetName.Rows[0]["TABLE_NAME"].ToString();
}
conn.Close(); 
```

现在，即使我评论上面的行，它也不会进入“Catch()”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T07:24:21.443

如果文件打开，我不确定查询是否失败。也许它只是等待......您可以像这样测试这种情况：VB.NEt 代码：

```
Private Function FileIsReadable(Path As String) As Boolean
Dim RV As Boolean = True

'tests if the file is open. Returns true if the file is not opened by excel.

Dim stream As IO.FileStream = Nothing
Try
    stream = IO.File.Open(Path, IO.FileMode.Open, IO.FileAccess.ReadWrite, IO.FileShare.None)
Catch ex As Exception

    If TypeOf ex Is IO.IOException AndAlso IsFileLocked(ex) Then
        RV = False
    End If
Finally
    If IsNothing(stream) = False Then
        stream.Dispose()
    End If

End Try

Return RV 
```

结束功能

# android - 使用 Jelly Bean 时出现问题，包括 Android 应用程序的可执行文件

> ID：13467951
> 
> 赞同：1
> 
> 时间：2012-11-20T06:48:53.610
> 
> 标签：android, permissions, cross-compiling, android-4.2-jelly-bean

我已将一些有用的免费/开源工具移植到 Android。一个是 Octave，另一个是 gnuplot。他们齐心协力，免费（如语音）和免费（如啤酒）提供类似 Matlab 的功能。我以一种有趣的方式将它们打包在应用程序中。具体来说，

1) 我在 libs/armeabi 目录中包含可执行文件和共享库。由于 android 命名约定，必须给他们取一个有趣的名字。

2）我创建目录`bin`/ 和`mylib/`. 我给他们完全的权限。

3）我`bin/`在解压`lib/`目录中创建指向可执行文件的链接。我给他们正确的名字和完整的权限。

4）我`mylib/`在解压`lib/`目录中创建指向共享库的链接。我给他们正确的名字和完整的权限。

5）然后我使用`ld-linux.so.3`哪个是现在目录中的库之一，以及指向`mylib/`目录的选项以从 Android 终端模拟器启动可执行文件。`--library-path``mylib/`

Octave 在所有版本的 Android 中都能完美运行，但当我尝试在仅运行 Jelly Bean 时启动它时，gnuplot 会出现此错误：

```
error while loading shared libraries: gnuplot: failed to map segment 
from shared object: Operation not permitted. 
```

那么，为什么这两个可执行文件之一以相同的方式出现此错误？为什么只在果冻豆中？此外，在 JB 上，如果我让自己成为超级用户，一切都会再次起作用。

关于如何调试的任何想法？我已经确认所有文件都在那里，并且拥有我希望他们拥有的权限。

请帮忙。如果你这样做，你将帮助一个免费、开源、教育和有用的应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-21T18:45:31.923

问题在于如何编译可执行文件。它们需要使用正确支持较新的 arm 设备的交叉编译器进行编译。我使用的编译器生成的可执行文件只能在 arm 设备的子集上运行。问题不在于不同版本的android。

# java - Java中的字符串到日期

> ID：13467952
> 
> 赞同：2
> 
> 时间：2012-11-20T06:48:59.380
> 
> 标签：java, parsing, date

我有一个像这样的日期字符串“ **2010-12-10T20:03:53-06:00** ”我想将其转换为**Java**中的等效日期对象。任何想法如何做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T06:50:56.030

您正在寻找的是 SimpleDateFormat.parse()。它会将字符串转换为 Date 对象。

[http://docs.oracle.com/javase/1.4.2/docs/api/java/text/SimpleDateFormat.html](http://docs.oracle.com/javase/1.4.2/docs/api/java/text/SimpleDateFormat.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-20T06:52:50.260

您应该为此使用 DateFormat 类：

首先，您需要在时区部分摆脱它`:` ，并使您的日期字符串像这样

```
2010-12-10T20:03:53-0600 
```

并使用下面的代码片段：

```
SimpleDateFormat formatter = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ssZ");    
Date d = formatter.parse("2010-12-10T20:03:53-0600"); 
```

注意：我在 Java 6 上检查了这一点，Skeet 先生提到了处理 Java 7 的更好答案，因为我对 Java 7 不太了解

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-20T07:00:29.533

如果您使用的是 Java 7，您应该可以不用任何字符串按摩，使用`X`UTC 偏移量的新说明符：

```
SimpleDateFormat format = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ssX", Locale.US);
Date date = format.parse(text); 
```

（测试以确保 - 当我自己安装 JDK 7 时:)

不过，总的来说，我*强烈*建议使用[Joda Time](http://joda-time.sf.net)进行日期处理。它的`Z`说明符可以处理带有冒号的偏移量：

```
DateTimeFormatter formatter = DateTimeFormat.forPattern("yyyy-MM-dd'T'HH:mm:ssZ")
                                            .withLocale(Locale.US);
DateTime dateTime = formatter.parseDateTime(text); 
```

事实上，有一个`ISODateTimeFormat`类可以让这变得更简单：

```
DateTimeFormatter formatter = ISODateTimeFormat.dateTimeNoMillis(); 
```

Joda Time 是一种*比*内置 API 更好的日期/时间 API。（它远非完美，但比`Date`和`Calendar`...要好得多）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-20T06:49:54.333

使用[乔达时间](http://joda-time.sourceforge.net/)。它功能强大且易于使用。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-20T06:57:06.747

在 Java 7 之前，您无法使用标准 JDK Date 在时区中解析带有冒号的日期。在 Java 7 之前，时区必须是带有名称的完整时区或格式为`-0600`.

您有 3 个选项：

*   如果您使用 Java 7+，请使用此模式：`"yyyy-MM-dd'T'HH:mm:ssX"`使用 SimpleDateFormat
*   手动删除冒号并解析
*   使用 Joda Time，例如：[https ://stackoverflow.com/a/2375539/829571](https://stackoverflow.com/a/2375539/829571)

这是第二个选项的示例：

```
public static void main(String[] args) throws ParseException {
    String input = "2010-12-10T20:03:53-06:00";
    int colon = input.lastIndexOf(":");
    input = input.substring(0, colon) + input.substring(colon + 1, input.length());
    System.out.println(input);
    DateFormat fmt = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ssZ");
    Date date = fmt.parse(input);
    System.out.println("date = " + date);
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-07-09T17:50:04.390

# *java.time*

`java.util`日期时间 API 及其格式化 API已`SimpleDateFormat`过时且容易出错。建议完全停止使用它们并切换到[现代 Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) ^*。

另外，下面引用的是来自[**Joda-Time**](https://www.joda.org/joda-time/)[主页](https://www.joda.org/joda-time/)**的通知：**

 **> 请注意，从 Java SE 8 开始，用户被要求迁移到 java.time (JSR-310) - JDK 的核心部分，它取代了这个项目。

**使用`java.time`现代日期时间 API 的解决方案：**

现代日期时间 API 基于[ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)`DateTimeFormatter` ，只要日期时间字符串符合 ISO 8601 标准，就不需要明确使用对象。

**演示：**

```
import java.time.OffsetDateTime;

public class Main {
    public static void main(String[] args) {
        OffsetDateTime odt = OffsetDateTime.parse("2010-12-10T20:03:53-06:00");
        System.out.println(odt);
    }
} 
```

**输出：**

```
2010-12-10T20:03:53-06:00 
```

[`ONLINE DEMO`](https://ideone.com/gWRuV5)

出于任何原因，如果您需要将此对象转换`OffsetDateTime`为 的对象`java.util.Date`，您可以执行以下操作：

```
Date date = Date.from(odt.toInstant()); 
```

**[从Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**了解有关现代日期时间 API 的更多信息。

* * *

^(* 出于任何原因，如果您必须坚持使用 Java 6 或 Java 7，则可以使用[***ThreeTen-Backport，***](http://www.threeten.org/threetenbp/)它将大部分*java.time*功能向后移植到 Java 6 和 7。如果您正在为 Android 项目和 Android API 工作level 仍然不符合 Java-8，请检查[Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table)和[How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project)。)**

# ios - 翻转圆形 UIView

> ID：13467954
> 
> 赞同：3
> 
> 时间：2012-11-20T06:49:02.107
> 
> 标签：ios, uikit

我正在开发一个具有翻转圆形视图的项目。

到目前为止，我已经尝试了 SOflow 上提供的几个解决方案：

*   简单地将视图图层的角四舍五入。
*   创建一个自定义 CircleView 设置`backgroundColor`并`[UIColor clearColor]`手动在`drawRect`.

在每种情况下，当视图翻转到新视图时，翻转的是屏幕的矩形部分，而不仅仅是圆形。我希望翻转只是圆圈，但我不确定下一步该去哪里。

这是我当前用来翻转视图的方法：

```
-(void)changeSpotToView:(SpotView *)toView {
    [UIView transitionFromView:self.activeView
                        toView:toView
                      duration:1.0
                       options:UIViewAnimationOptionTransitionFlipFromTop
                    completion:^(BOOL finished) {
                        self.activeView = toView;
                    }];

} 
```

s 所在的容器`SpotView`也是 a `SpotView`，所以它也应该只是一个圆圈。

任何指导将不胜感激！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T07:42:05.413

# php - 根据特定的字段名称对 PHP 数组进行排序

> ID：13467955
> 
> 赞同：0
> 
> 时间：2012-11-20T06:49:03.733
> 
> 标签：php, multidimensional-array, sorting

```
Array
(
[0] =Array
    (
        [id] =3
        [title] =Tst topic 111 main
        [created] =2012-11-06 13:04:57
        [sticked] = 
        [forums_id] =1
        [status] =open
    )

[1] =Array
    (
        [id] =6
        [title] =Topic 222 Main
        [created] =2012-11-04 15:31:15
        [sticked] = 
        [forums_id] =1
        [status] =open
    )

[2] =Array
    (
        [id] =7
        [title] =dfgdfgdfg
        [created] =2012-11-19 13:27:10
        [sticked] =
        [forums_id] =1
        [status] =open
    )

[3] =Array
    (
        [id] =9
        [title] =sdf ertert ertwer
        [created] =2012-11-20 11:30:55
        [sticked] =2012-11-20 11:30:00
        [forums_id] =1
        [status] =&close
    )

[4] =Array
    (
        [id] =10
        [title] =345245
        [created] =2012-11-20 11:34:17
        [sticked] =2012-11-20 11:34:00
        [forums_id] =&1
        [status] =open
    )

) 
```

这是我的结果多维数组。其中一些主题具有`sticked`带有日期时间戳的字段。我想先用`sticked`字段（DESC 顺序）对这个数组进行排序，然后所有粘贴的主题都将位于数组的顶部。然后我想用它们的字段对所有具有 DESC 顺序的空粘贴字段的数组进行排序`created`。
可能吗 ？
我期待的顺序是`[4] - [3] - [2] - [0] - [1]`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T06:54:54.597

请参阅此页面：

PHP数组排序函数

[http://php.net/manual/en/array.sorting.php](http://php.net/manual/en/array.sorting.php)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-20T06:59:39.927

仅将此行添加到您的代码中

```
$final=arsort($yourarray);
print_r($final); 
```

[或者您可以在Link](http://php.net/manual/en/function.arsort.php)上查看帮助

愿它有帮助！！

# c++ - 在 fread 处“转换”从 int[] 到 std::array？

> ID：13467956
> 
> 赞同：3
> 
> 时间：2012-11-20T06:49:24.210
> 
> 标签：c++, c++11, std

我想知道并且没有找到任何建议，关于如何将 C 风格的整数数组从 C++11 转换为新的 std::array

我喜欢 std::array 并且经常使用它，无论如何，如果我从二进制文件中读取数据，我会努力复制这些值。使用 fread 时没有更简单的方法吗？

```
FILE* fp; // initalize not important here
int arr[12];
std::array<int,12> stdarr;
fread(arr, sizeof(int), 12, fp);
for(int i=0; i < 12; i++)
stdarr[i] = arr[i]; 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-20T06:52:18.633

读入~~第一个元素~~数组的底层数据块的地址应该可以工作：

```
fread(stdarr.data(), sizeof(int), stdarr.size(), fp); 
```

# symfony - Symfony2 中的用户友好错误页面

> ID：13467957
> 
> 赞同：1
> 
> 时间：2012-11-20T06:49:24.943
> 
> 标签：symfony, exception-handling

每当我遇到类似的错误时`Fatal error: Call to a member function getName() on a non-object in /var/www/...Controller.php on line 143`，我的 symfony2-app 都会在 prod-environment 中显示一个空白页面。以上消息在开发环境中可用。我想在 prod-environment 中针对此类错误显示自定义页面。如何在 Symfony2 中实现它？

更新：可以`kernel.event_listener`帮助我吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-20T07:01:22.557

你不能在 symfony 中真正实现它。致命错误不是由 symfony 处理，而是由 PHP 扩展本身处理。Symfony 代码永远没有机会完成执行，因为致命错误让 php 由自己的设备处理错误。PHP 错误处理由[error_reporting()](http://php.net/manual/en/function.error-reporting.php)设置，error_handler 由[set_error_handler()](http://www.php.net/manual/en/function.set-error-handler.php)设置。dev环境下，[php报错](http://php.net/manual/en/function.error-reporting.php)设置为 E_ALL 以显示所有错误。在生产环境中，错误和调试消息设置为 0，出于美观和安全原因不显示（某些错误消息可能显示密码等）。最好的建议是在部署到生产之前修复所有致命错误。要捕获和显示致命错误的自定义页面，必须使用 php 设置错误处理 - [http://php.net/manual/en/function.set-error-handler.php](http://php.net/manual/en/function.set-error-handler.php)。

对于非致命错误，您可以创建一个可以显示的自定义错误页面视图 - [http://symfony.com/doc/2.0/cookbook/controller/error_pages.html](http://symfony.com/doc/2.0/cookbook/controller/error_pages.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-11-07T20:50:54.493

我这样做：

```
类错误异常处理程序 {

    函数 __construct() {
        register_shutdown_function(array($this, 'fatalErrorHandler'));
    }

    函数致命错误处理程序（）{
        $error = error_get_last();
        if ($error['type'] === E_ERROR) {
            header('位置：/error-page-url');
        }
    }

}

错误异常处理程序（）；// 添加到 app.php

```

当然请记住命名空间等。

# javascript - string.replace 在 node.js express 服务器中不起作用

> ID：13467981
> 
> 赞同：6
> 
> 时间：2012-11-20T06:51:20.413
> 
> 标签：javascript, string, file, node.js, express

我需要读取一个文件并用动态内容替换该文件中的一些文本。当我尝试 string.replace 时，它​​不适用于我从文件中读取的数据。但是对于它正在工作的字符串。我正在使用节点。 js和快递。

```
fs.readFile('test.html', function read(err, data) {
    if (err) {
                console.log(err);
    }
    else {
        var msg = data.toString();
        msg.replace("%name%", "myname");
        msg.replace(/%email%/gi, 'example@gmail.com');

        temp = "Hello %NAME%, would you like some %DRINK%?";
        temp = temp.replace(/%NAME%/gi,"Myname");
        temp = temp.replace("%DRINK%","tea");
        console.log("temp: "+temp);
        console.log("msg: "+msg);
    }
}); 
```

输出：

```
temp: Hello Myname, would you like some tea?
msg: Hello %NAME%, would you like some %DRINK%? 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-11-20T06:54:59.453

```
msg = msg.replace(/%name%/gi, "myname"); 
```

您将字符串而不是正则表达式传递给第一个替换，它不匹配，因为大小写不同。即使它确实匹配，您也不会将此修改后的值重新分配给`msg`. 这很奇怪，因为您为`tmp`.

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-20T06:55:43.557

您需要分配`.replace()`返回字符串的变量。在你的情况下，你需要这样做，`msg = msg.replace("%name%", "myname");`

代码：

```
fs.readFile('test.html', function read(err, data) {
    if (err) {
                console.log(err);
    }
    else {
        var msg = data.toString();
        msg = msg.replace("%name%", "myname"); 
        msg = msg.replace(/%email%/gi, 'example@gmail.com');

        temp = "Hello %NAME%, would you like some %DRINK%?";
        temp = temp.replace(/%NAME%/gi,"Myname");
        temp = temp.replace("%DRINK%","tea");
        console.log("temp: "+temp);
        console.log("msg: "+msg);
    }
}); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-20T06:53:47.560

`replace()`返回带有替换子字符串的新字符串，因此您必须将其分配给变量才能访问它。它不会改变原始字符串。

您可能希望将转换后的字符串写回您的文件。

# java - FutureTask 如何管理线程..？

> ID：13467983
> 
> 赞同：0
> 
> 时间：2012-11-20T06:51:54.370
> 
> 标签：java, multithreading, spring, jsp, servlets

我正在尝试将reqeuest发送到服务器...直到请求没有响应我想执行一个循环打印整数..问题是我的循环一直在继续，如果我执行它直到100它会打印100个值，如果直到1000它打印 1000。我想要的是循环应该取决于响应。一旦发生响应，就应该停止循环线程......

```
 public class ServiceInteraction {
  FutureTask<JSONArray> task;
  public JSONArray addUser(List<BasicNameValuePair> postPairs_interaction){
    JSONArray jArray;
    task = new FutureTask<JSONArray>(new Service_C(postPairs_interaction));
    ExecutorService pool = Executors.newFixedThreadPool(2);
    pool.submit(task);
    for(int i = 0 ; i < 1000; i++){
        System.out.println("value is "+i);
    }//End of for loop
    try{
        return (jArray = task.get());
    }catch(InterruptedException e){
        return null;
    }catch(ExecutionException e){
        return null;
    }
  }//End Of addUser 
```

这是我的 service_c 类代码...

```
public Service_C(List<BasicNameValuePair> postPairs) {
    this.postPairs = postPairs;
}

@Override
public JSONArray call() throws Exception {
    HttpClient httpclient = new DefaultHttpClient();
    HttpPost post = new      HttpPost("http://10.0.0.62:8080/IDocWS/"+postPairs.get(0).getValue());
    post.setEntity(new UrlEncodedFormEntity(postPairs));
    ResponseHandler respHandler = new BasicResponseHandler();
    String responseData = (String) httpclient.execute(post,respHandler);

    try {
        JSONArray jArray;
        jArray = new JSONArray(responseData);
        return jArray;

    } catch (JSONException ex) {
        Logger.getLogger(Service.class.getName()).log(Level.SEVERE, null, ex);
        System.out.println("Error in getting response from the user");
        return null;
    }
}//End of call method 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T07:08:25.240

你可以试试这个：

```
 for (int i = 0;;i++){
        if (task.isDone()) {
              break;
        }
        System.out.println("value is "+i);
 } 
```

# php - 在 CakePHP 中访问 PHP 扩展

> ID：13467995
> 
> 赞同：2
> 
> 时间：2012-11-20T06:53:20.103
> 
> 标签：php, cakephp

我们的系统使用名为 PDFlib TET 的程序从 PDF 文件中提取数据。该软件作为 PHP 扩展安装。

我的软件在 CakePHP 之外运行良好，我可以通过调用创建一个新的 TET 对象：

```
$tet = new TET(); 
```

从任何文件 - 我包含的扩展名 (php_tet.so) 似乎都可以正常工作。

但是，当我在 CakePHP 中调用它时，会出现以下错误：

```
Class 'TET' not found. 
```

我在这里缺少一些基本的东西吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-20T11:36:48.837

`php.ini`您必须在执行脚本的文件中包含扩展名。请注意，PHP (CLI) 的命令行版本`php.ini`默认使用与网络服务器不同的版本。例如，在最近的 Ubuntu Linux 机器上，你必须确保你的

```
extension=php_tet.so 
```

行包含在`/etc/php5/cli/php.ini`和中`/etc/php5/apache2/php.ini`。

# java - 禁用 JFrame 的拖动

> ID：13467997
> 
> 赞同：2
> 
> 时间：2012-11-20T06:53:34.590
> 
> 标签：java, swing, jframe, drag

请问如何让应用程序运行时框架不能拖动？

然后如何禁用最大化，最小化按钮（标题栏）？

我正在使用`JFrame`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-20T06:58:18.697

只需添加以下行，它会删除关闭最大化和最小化（标题栏）等窗口装饰。这本身仅通过鼠标事件禁用拖动。

```
frame.setUndecorated(true); 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-11-20T06:58:45.997

您可以使用 a`JWindow`而不是 a `JFrame`。没有标题栏，因此用户将无法移动它。

```
setResizable(false);
setUndecorated(true);
getRootPane().setWindowDecorationStyle(JRootPane.PLAIN_DIALOG); 
```

# android - 如何从 Twitter 检测成功的身份验证并在此之后运行一些代码

> ID：13467998
> 
> 赞同：-2
> 
> 时间：2012-11-20T06:53:43.440
> 
> 标签：android, twitter, twitter4j

我正在开发一个 android 项目，其中我有 Twitter 集成（使用 Twitter4j）。这是我的代码..,。

```
class BitmapDownloaderTask extends AsyncTask<String, Void, String> {

    @Override
    protected String doInBackground(String... params) {

        ConfigurationBuilder builder = new ConfigurationBuilder();
        builder.setOAuthConsumerKey(TWITTER_CONSUMER_KEY);
        builder.setOAuthConsumerSecret(TWITTER_CONSUMER_SECRET);
        Configuration configuration = builder.build();

        TwitterFactory factory = new TwitterFactory(configuration);
        twitter = factory.getInstance();

        try {
            requestToken = twitter.getOAuthRequestToken(TWITTER_CALLBACK_URL);
            MainActivity.this.startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(requestToken.getAuthenticationURL())));
        }catch(TwitterException e){e.printStackTrace();}

        System.out.println("Fun");

        return "Run";
    }

    @Override
    protected void onPostExecute(String txt) {
        if (isCancelled()) {
            txt = null;
        }

        if(txt!=null){
            System.out.println(txt);
                    Uri uri = getIntent().getData();
                    System.out.println(uri);
        }
    }
} 
```

我的问题是推特页面在单独的线程中打开，并且当我仍在 Twitter 页面中以及当我在 Twitter 身份验证 postexecute 已经执行后返回时打印“Fun”和“Run”，因此我在 uri 中得到了 null ..,。

有人可以帮我吗，如何在 Twitter 身份验证后运行一些代码。

或者

是否有任何方法在成功验证后或在 Facebook onComplete 和 cancel 等错误后运行..,。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T08:52:38.833

这将启动默认浏览器，这是一个单独的应用程序。您在回调 URL 中使用自定义方案并将您的应用程序注册为处理程序，因此当授权成功时，您可以将控制权交还给您的应用程序。如果你想要更好的控制，你需要在 WebView 中加载页面并拦截事件以获得通知。整个 OAuth 事物的集成并不是微不足道的，但这里有一篇带有示例项目的文章，描述得非常好：

[http://blog.doityourselfandroid.com/2011/08/08/improved-twitter-oauth-android/](http://blog.doityourselfandroid.com/2011/08/08/improved-twitter-oauth-android/)

还可以查看该博客上的其他相关文章。