# StackOverflow 问答 12948000-12948999

# iphone - 关注我们的 twitter iphone 示例代码

> ID：12948003
> 
> 赞同：1
> 
> 时间：2012-10-18T05:55:52.257
> 
> 标签：iphone, sharekit

我正在研究 Twitter 集成部分，follow us
In Sharekit Follow 方法不起作用对我有什么帮助，你能帮我在 twitter 上关注我们的示例代码吗

```
- (void)followMe
{
// remove it so in case of other failures this doesn't get hit again
[item setCustomValue:nil forKey:@"followMe"];

OAMutableURLRequest *oRequest = [[OAMutableURLRequest alloc] initWithURL:[NSURL URLWithString:[NSString stringWithFormat:@"http://api.twitter.com/1/friendships/create/%@.json", SHKTwitterUsername]]
                                                                consumer:consumer
                                                                   token:accessToken
                                                                   realm:nil
                                                       signatureProvider:nil];

NSLog(@"%@",SHKTwitterUsername);

[oRequest setHTTPMethod:@"POST"];

OAAsynchronousDataFetcher *fetcher = [OAAsynchronousDataFetcher asynchronousFetcherWithRequest:oRequest
                                                                                      delegate:nil // Currently not doing any error handling here.  If it fails, it's probably best not to bug the user to follow you again.
                                                                             didFinishSelector:nil
                                                                               didFailSelector:nil];    

[fetcher start];
[oRequest release];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T07:11:04.097

使用起来非常简单：

```
[self.view addSubview:[[FollowMeButton alloc] initWithTwitterAccount:
@"chrismaddern" atOrigin:CGPointMake(205, 248) isSmallButton:YES]]; 
```

您可以在 Interface Builder 中更改 UIButton 的类，然后将其合成为属性。

或从...下载代码

[https://github.com/chrismaddern/Follow-Me-On-Twitter-iOS-Button](https://github.com/chrismaddern/Follow-Me-On-Twitter-iOS-Button)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T09:02:09.330

juz 在你的 .h 中试试这个`@interface FollowMeButton : UIButton`

```
@property (nonatomic) NSString* twitterAccount;
@property (nonatomic) BOOL isSmall;

-(id)initWithTwitterAccount:(NSString*)account atOrigin:(CGPoint)origin isSmallButton:(BOOL)isSmallButton; .M interface FollowMeButton()

@property (nonatomic) UIImageView *imageView;

-(void)buttonTapped;
@end

@implementation FollowMeButton

@synthesize imageView, twitterAccount, isSmall;

-(id)initWithTwitterAccount:(NSString*)account atOrigin:(CGPoint)origin isSmallButton:(BOOL)isSmallButton
{

CGSize buttonSize;

self.isSmall = isSmallButton;

if(isSmallButton)

buttonSize = CGSizeMake(61, 20);

else

buttonSize = CGSizeMake(122, 40);

self.twitterAccount = account;

CGRect buttonFrame = CGRectMake(origin.x, origin.y, buttonSize.width, buttonSize.height);

self = [super initWithFrame:buttonFrame];

if (self)

{

if(self.isSmall)

[self setBackgroundImage:[UIImage imageNamed:@"follow-me-small"] forState:UIControlStateNormal];

else

[self setBackgroundImage:[UIImage imageNamed:@"follow-me"] forState:UIControlStateNormal];

[self addTarget:self action:@selector(buttonTapped) forControlEvents:UIControlEventTouchUpInside];

}

return self;
}

-(void)buttonTapped
{

NSArray *urls = [NSArray arrayWithObjects:

@"twitter://user?screen_name={handle}", // Twitter

@"tweetbot:///user_profile/{handle}", // TweetBot

@"echofon:///user_timeline?{handle}", // Echofon

@"twit:///user?screen_name={handle}", // Twittelator Pro

@"x-seesmic://twitter_profile?twitter_screen_name={handle}", // Seesmic

@"x-birdfeed://user?screen_name={handle}", // Birdfeed

@"tweetings:///user?screen_name={handle}", // Tweetings

@"simplytweet:?link=http://twitter.com/{handle}", // SimplyTweet

@"icebird://user?screen_name={handle}", // IceBird

@"fluttr://user/{handle}", // Fluttr

@"http://twitter.com/{handle}",

nil];

UIApplication *application = [UIApplication sharedApplication];

for (NSString *candidate in urls) {

NSURL *url = [NSURL URLWithString:[candidate stringByReplacingOccurrencesOfString:@"{handle}" withString:twitterAccount]];

if ([application canOpenURL:url])

{

[application openURL:url];

return;

}

}

}

-(void)setIsSmall:(BOOL)shouldBeSmall
{

isSmall = shouldBeSmall;

CGSize buttonSize;

if(isSmall)

{

buttonSize = CGSizeMake(61, 20);

[self setBackgroundImage:[UIImage imageNamed:@"follow-me-small"] forState:UIControlStateNormal];

}

else

{

buttonSize = CGSizeMake(122, 40);

[self setBackgroundImage:[UIImage imageNamed:@"follow-me"] forState:UIControlStateNormal];

}

CGRect buttonFrame = CGRectMake(self.frame.origin.x, self.frame.origin.y, buttonSize.width, buttonSize.height);

[self setFrame:buttonFrame];
}

-(void)awakeFromNib
{

[super awakeFromNib];

if(self)

{

[self setFrame:CGRectMake(self.frame.origin.x, self.frame.origin.y, 122, 40)];

[self setBackgroundImage:[UIImage imageNamed:@"follow-me"] forState:UIControlStateNormal];

[self addTarget:self action:@selector(buttonTapped) forControlEvents:UIControlEventTouchUpInside];

}
} 
```

# android - 如何在android中的活动中弹出显示时模糊或淡化屏幕

> ID：12948004
> 
> 赞同：0
> 
> 时间：2012-10-18T05:55:54.400
> 
> 标签：android, android-intent

> **可能重复：**
> [Android PopupWindow 活动时背景模糊或变暗](https://stackoverflow.com/questions/3221488/blur-or-dim-background-when-android-popupwindow-active)

当我的自定义弹出窗口显示在我的活动中时，我想模糊或淡化屏幕。我使用弹出窗口类制作了自定义弹出窗口。但是当弹出显示时，我的活动布局不会模糊或变暗或褪色，所以请帮助我实现这一点。提前致谢

```
LayoutInflater inflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
View layoutInflate = inflater.inflate(R.layout.custom_dialog_layout, relativeLayout);     
PopupWindow tagPopupWindow tagPopupWindow = new PopupWindow(layoutInflate, width, LayoutParams.WRAP_CONTENT); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T06:04:01.953

当 Android PopupWindow active 时，似乎与[Blur or dim background](https://stackoverflow.com/questions/3221488/blur-or-dim-background-when-android-popupwindow-active)重复。

我还建议您改用 Dialog。

# jquery-mobile - 如何在jQuery中改变背景颜色

> ID：12948008
> 
> 赞同：0
> 
> 时间：2012-10-18T05:56:29.933
> 
> 标签：jquery-mobile

这是我下面的 jquery 示例代码，它使用默认视图。如何更改背景颜色？还有按钮颜色？如何使用自定义 css 文件请告诉我 jQuery Mobile 简介

```
 <div data-role="page">

        <div data-role="header">
           <h1>Facebook Friends</h1>
        </div><!-- /header -->

        <div data-role="content">
           <p>

           <ul data-role="listview" data-inset="true">

              <li>
              <a href="index.html">Get Friends</a>
              </li>

              <li>
              <a href="index.html">Post to Wall</a>
              </li>

              <li><a href="index.html">Send Message</a></li>
           </ul>

           </p>

        </div><!-- /content -->

        <div data-role="footer">
        </div><!-- /footer -->
    </div><!-- /page -->

</body>
         </html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T07:09:33.287

尝试使用主题滚轮。可在此处访问： [themeroller](http://jquerymobile.com/themeroller/)

设置您的自定义主题并尝试将此行添加到 index.html 的标题中：

```
<link rel="stylesheet" href="css/themes/my-custom-theme.css" /> 
```

它应该工作。如果您想以不同的方式更改背景，请尝试将这一行添加到您的页面 div 中：

```
<style>body {background-color:#b0c4de;}</style> 
```

# mysql - 使用单个查询（递归查询）在 mysql 表中查找所有父级

> ID：12948009
> 
> 赞同：31
> 
> 时间：2012-10-18T05:56:35.780
> 
> 标签：mysql, tree

我有这个架构

**样本数据**

```
| ID |             TITLE | CONTROLLER |            METHOD | PARENT_ID |
|----|-------------------|------------|-------------------|-----------|
|  1 |         Dashboard |      admin |         dashboard |         0 |
|  2 |           Content |      admin |           content |         0 |
|  3 |           Modules |      admin |           modules |         0 |
|  4 |             Users |      admin |             users |         0 |
|  5 |          Settings |      admin |          settings |         0 |
|  6 |           Reports |      admin |           reports |         0 |
|  7 |              Help |      admin |              help |         0 |
|  8 |             Pages |    content |             pages |         2 |
|  9 |             Media |    content |             media |         2 |
| 10 |          Articles |    content |          articles |         2 |
| 11 |            Menues |    content |            menues |         2 |
| 12 |         Templates |    content |         templates |         2 |
| 13 |            Themes |    content |            themes |         2 |
| 14 |              Blog |    content |              blog |         2 |
| 15 |             Forum |    content |             forum |         2 |
| 16 |      Core Modules |    modules |       core_module |         3 |
| 17 |      User Modules |    modules |       user_module |         3 |
| 18 |         All Users |      users |         all_users |         4 |
| 19 |            Groups |      users |            groups |         4 |
| 20 |       Permissions |      users |       permissions |         4 |
| 21 | Import and Export |      users |     import_export |         4 |
| 22 |        Send Email |      users |         send_mail |         4 |
| 23 |     Login Records |      users |     login_records |         4 |
| 24 |  General Settings |   settings |  general_settings |         5 |
| 25 |    Email Settings |   settings |    email_settings |         5 |
| 26 |   Popular Content |    reports |   popular_content |         6 |
| 27 | Most Active Users |    reports | most_active_users |         6 |
| 28 |     Documentation |       help |     documentation |         7 |
| 29 |             About |       help |             about |         7 |
| 30 |          Products |   products |           product |        17 |
| 31 |        Categories | categories |          category |        17 | 
```

[SQL Fiddle 演示。](http://sqlfiddle.com/#!2/2eeb3/1)我插入了一些示例数据。

**挑战**

我需要找到标题所在记录的所有父母`Categories`。我怎样才能只用一个查询就得到所有的父母？
我的意思是我需要这个结果：

**期望的输出**

```
id | title        |  controller  | method      | url     | parent_id 
----------------------------------------------------------------  
3  | Modules      |   admin      | modules     | (NULL)  | 0           
17 | User Modules |   modules    | user_module | (NULL)  | 3           
31 | Categories   |   categories | category    | (NULL)  | 17 
```

假设我想获取一个包含其所有父项的条目，并且我想使用 where 条件`id = 31`，它应该获取上面的记录。

* * *

## 回答 #1

> 赞同：75
> 
> 时间：2012-10-18T06:19:43.570

```
SELECT T2.id, T2.title,T2.controller,T2.method,T2.url
FROM (
    SELECT
        @r AS _id,
        (SELECT @r := parent_id FROM menu WHERE id = _id) AS parent_id,
        @l := @l + 1 AS lvl
    FROM
        (SELECT @r := 31, @l := 0) vars,
        menu m
    WHERE @r <> 0) T1
JOIN menu T2
ON T1._id = T2.id
ORDER BY T1.lvl DESC; 
```

[演示](http://sqlfiddle.com/#!2/2eeb3/9)

# c++ - 在 LPCSTR 中附加 BSTR

> ID：12948010
> 
> 赞同：3
> 
> 时间：2012-10-18T05:56:37.213
> 
> 标签：c++, string-concatenation, bstr, lpcstr

我有一个接收 BSTR 的类函数。在我的课堂上，我有一个成员变量是 LPCSTR。现在我需要在 LPCSTR 中附加 BSTR。我怎么能做到这一点。这是我的功能。

```
void MyClass::MyFunction(BSTR text)
{
    LPCSTR name = "Name: ";
    m_classMember = name + text; // m_classMember is LPCSTR.
} 
```

在我的 m_classMember 中，我希望在这个函数值之后应该是“名称：text_received_in_function”。我怎么能做到这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T07:52:07.560

使用 Microsoft 特定的[`_bstr_t`](http://msdn.microsoft.com/en-us/library/zthfhkd6%28v=vs.71%29.aspx)类，它本机处理 ANSI/Unicode。就像是

```
#include <comutils.h>
// ...

void MyClass::MyFunction(BSTR text)
{
    _bstr_t name = "Name: " + _bstr_t(text, true);
    m_classMember = (LPCSTR)name;
} 
```

几乎是你想要的。但是，正如评论所指出的，您必须管理`m_classMember`连接字符串的生命周期。在上面的示例中，代码很可能会崩溃。

如果您拥有该`MyClass`对象，您可以简单地添加另一个成员变量：

```
class MyClass {
private:
  _bstr_t m_concatened;
//...
}; 
```

然后`m_classMember`用作指向字符串内容的指针`m_concatened`。

```
void MyClass::MyFunction(BSTR text)
{
    m_concatened = "Name: " + _bstr_t(text, true);
    m_classMember = (LPCSTR)m_concatened;
} 
```

否则，在分配 之前`m_classMember`，您应该以分配它的相同方式释放它（`free`、`delete []`等），并创建一个新`char*`数组，在其中复制连接字符串的内容。就像是

```
void MyClass::MyFunction(BSTR text)
{
    _bstr_t name = "Name: " + _bstr_t(text, true);

    // in case it was previously allocated with 'new'
    // should be initialized to 0 in the constructor
    delete [] m_classMember; 
    m_classMember = new char[name.length() + 1];

    strcpy_s(m_classMember, name.length(), (LPCSTR)name);
    m_classMember[name.length()] = 0;
} 
```

应该做的工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T08:41:26.870

首先，我建议您*不要*使用原始`char/wchar_t*`指针作为字符串的数据成员；**一般来说，使用健壮的 C++字符串类**会更好（更容易、更易于维护、异常安全等）。

由于您正在编写 Windows 代码，您可能希望使用它，它很好地集成在 Win32 编程的上下文中（例如：它提供了一些便利，例如从资源中加载字符串，它与模型`ATL::CString`一起开箱即用， `TCHAR`ETC。）。

如果您想使用该`TCHAR`模型（并使您的代码在 ANSI/MBCS 和 Unicode 版本中可编译），您可能需要使用[ATL 字符串转换帮助程序类](http://msdn.microsoft.com/en-us/library/87zae4a3%28v=vs.80%29.aspx) `CW2T`从`BSTR`（即 Unicode `wchar_t*`）转换`char*`为 ANSI/MBCS 版本，并将其保留`wchar_t*`在 Unicode 版本中。

```
#include <atlstr.h>    // for CString
#include <atlconv.h>   // for CW2T

void MyClass::MyFunction(BSTR text)
{
    // Assume:
    // CString m_classMember;

    m_classMember = _T("Name: ");

    // Concatenate the content of the BSTR.
    // CW2T keeps the BSTR as Unicode in Unicode builds,
    // and converts to char* in ANSI/MBCS builds.
    m_classMember += CW2T(text);
} 
```

相反，如果您只想用 Unicode 编译代码（这在当今世界很有意义），您可以去掉`_T("...")`装饰和`CW2T`，而只需使用：

```
void MyClass::MyFunction(BSTR text)
{
    // Assume:
    // CString m_classMember;

    m_classMember = L"Name: ";

    // Concatenate the content of the BSTR.
    m_classMember += text;
} 
```

`std::wstring`（或者按照其他人的建议使用 STL 。）

# java - 如何在 Java 和 Java EE 中读取具有多个实例的单个文件

> ID：12948016
> 
> 赞同：0
> 
> 时间：2012-10-18T05:57:25.283
> 
> 标签：java, multithreading, jakarta-ee

我有一个文件`sub.srt`，并且正在同时使用多个实例读取该文件。它工作正常。这可以在带有 Servlet 和 JSP 的 Web 应用程序中工作吗？

这是主文件

```
public class SingleTest 
{
public static void main(String args[]) throws Exception
{
    String s[]= new String[10];

    for(int i = 1;i<=10;i++)

        {
         SingleFileThread sft1 = new SingleFileThread(i); 
         sft1.start();
        }
}

} 
```

这是创建多个实例以读取单个文件的线程

```
public class SingleFileThread extends Thread 
 {
public int t =0;
public SingleFileThread(int i)
{
    t = i;
}
  public void run()
   {
   try{
      File f = new File("E:\\Leo-Softwares\\workspace\\SingleFileThread     \\src\\test\\sub.srt");
      System.out.println("f.setReadOnly() :"+f.setReadOnly());
      FileInputStream fstream = new FileInputStream(f);
      DataInputStream in = new DataInputStream(fstream);
      BufferedReader br = new BufferedReader(new InputStreamReader(in));
      String strLine;
      while ((strLine = br.readLine()) != null)   {
          System.out.println ("Thread :"+t+"_____"+strLine);
      Thread.sleep(2000);
      }

      in.close();
        }catch (Exception e){
      System.err.println("Error: " + e.getMessage());
      }
  }
  } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:22:02.293

我没接你？？你需要在**jsp中实现****线程**..你到底想要做什么..因为tomcat容器本身维护你关心jsp的线程..你想要的可能是关于**会话跟踪**我猜..对不起，但没有，无法正确回答您的问题...？？？

# wpf - WPF绑定，当对象的引用发生变化时

> ID：12948020
> 
> 赞同：1
> 
> 时间：2012-10-18T05:58:12.873
> 
> 标签：wpf, binding, reference

代码片段：

xml

```
<TextBlock Grid.Row="0"  Text="{Binding Path=NodeType}"></TextBlock>
<Button Name="bt" Grid.Row="1" Click="bt_Click">click</Button> 
```

C＃

```
public FamilyMemberInfo MemberInfo;
public MainWindow()
{
    InitializeComponent();

    MemberInfo = new FamilyMemberInfo();
    MemberInfo.NodeType = "aa";
    this.DataContext = MemberInfo;
}
private void bt_Click(object sender, RoutedEventArgs e)
{
    //MemberInfo.NodeType = "bb";
    FamilyMemberInfo mi2 = new FamilyMemberInfo();
    mi2.NodeType = "bb";
    MemberInfo = mi2; 
} 
```

如果我将 NodeType 更改为“bb”，则文本块也会更改，但如果我创建一个平淡无奇的新对象并将属性 NodeType 设置为“bb”，然后将其分配给 MemberInfo，则不会更新文本块。谁能为我解释一下？提前致谢。

并说“FamilyMemberInfo”类有 20 个属性，所有属性都与 UI 上的元素（文本块、组合框等）绑定，我从其他地方获得了 FamilyMemberInfo 的实例，我想简单地将其分配给 MemberInfo上面的代码使 UI 相应地更新，如何使它工作？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T06:06:10.477

您必须设置`DataContext`为您创建的新实例。

```
private void bt_Click(object sender, RoutedEventArgs e) 
{ 
    //MemberInfo.NodeType = "bb"; 
    FamilyMemberInfo mi2 = new FamilyMemberInfo(); 
    mi2.NodeType = "bb"; 
    MemberInfo = mi2; 
    this.DataContext = MemberInfo; // you have to add this line to the code
} 
```

原因是当你`this.DataContext = MemberInfo;`在构造函数中设置时，它指向你在构造函数中创建的对象，我们将其命名为 object `A`。

现在您设置`MemberInfo = mi2`,`mi2`是一个差异对象，并且您设置`MemberInfo`为指向您创建的`mi`对象`A`（在构造函数内部）仍然存在并且`this.DataContext`仍然指向该对象。

因此，您必须设置`DataContext`为指向新对象，如上面的代码所示。

# regex - 如何在nginx中匹配扩展较少文件的位置？

> ID：12948023
> 
> 赞同：4
> 
> 时间：2012-10-18T05:58:24.527
> 
> 标签：regex, file, nginx, location, match

要匹配具有特定扩展名的文件，我们可以使用：

位置 ~ .*.(php|jsp|cgi|pl|py)?$ { }

一切都按预期工作......

但是如果我们有没有任何扩展名的文件，我怎么能在“位置”块中匹配它们？！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-18T06:05:46.233

正则表达式`.*.(php|jsp|cgi|pl|py)?$`匹配任意数量的字符 ( `.*`)，后跟另一个字符 ( `.`)，以及列出的扩展名出现的零次或一次`(...)?`。这个正则表达式应该已经匹配没有扩展名的文件`?`，因为你可以[在这里](http://www.regexplanet.com/advanced/java/index.html)验证。

**评论澄清后更新**

您可以使用正则表达式`[^.]+(?!(php|jsp|cgi|pl|py))$`，这意味着匹配多个字符，这些字符不能是句点并且后面没有列出的扩展名。

**第二次更新**

根据[location](http://wiki.nginx.org/HttpCoreModule#location)的文档：

> 没有不匹配正则表达式的语法。相反，匹配目标正则表达式并分配一个空块

因此，您希望匹配每个具有扩展名的文件并分配空块。它类似于您的原始正则表达式，但没有`?`并且您最好在扩展之前转义点，否则它意味着任何字符。

```
location ~ .*\..+$ {} 
```

# java - QPDF的PDF转换问题

> ID：12948025
> 
> 赞同：0
> 
> 时间：2012-10-18T05:58:50.527
> 
> 标签：java, linux, jsp, pdf

我正在使用 QPDF 转换 PDF 文件，此 pdf 文件由 jsp 页面上传，
这是我的命令（在 Ubuntu 中）
'qpdf --qdf ~/apache-tomcat-7.0.22/bin/733000.pdf /tmp/测试P.pdf'

当我运行它时，它说：
~/apache-tomcat-7.0.22/bin/733000.pdf：不是 PDF 文件
，但是当我对同一个 PDF 文件运行此命令而不上传它时，则没有错误

我正在使用 QPDF 版本 2.2.2 可能是什么原因？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T08:42:54.293

从评论中，让我为您提出一个答案。

临时位置中的文件不是您上传的确切文件。您是否`fileItem.write(fileOb)`在处理上传的 servlet 中进行操作？也许你可以看看这个链接，看看他们是如何处理这种情况的。 [http://www.tutorialspoint.com/servlets/servlets-file-uploading.htm](http://www.tutorialspoint.com/servlets/servlets-file-uploading.htm) 如果没有正确完成，源文件已损坏，因为我们从 PDF 处理程序的角度来看。编辑：

也可以尝试使用[Apache Commons File Upload](http://commons.apache.org/fileupload/streaming.html)

谢谢

# javascript - QML：如何更改图像上的颜色？

> ID：12948026
> 
> 赞同：0
> 
> 时间：2012-10-18T05:58:53.927
> 
> 标签：javascript, qt, qml

我们有一个透明图像，我们想要根据所选主题的图像颜色。

Qt 或 QML 有可能吗？

# sigma-grid-control - 如何使用 Sigma 网格内置功能来计算 Sortable 属性设置为 TRUE 的聚合

> ID：12948027
> 
> 赞同：0
> 
> 时间：2012-10-18T05:58:54.800
> 
> 标签：sigma-grid-control

如何使用 Sigma 网格内置功能来计算 Sortable 属性设置为 TRUE 的聚合，这样我们也可以对列进行排序，但它不能影响聚合行（或总计行，该行不应该排序，因为它提供了总计在所有列中，如果已排序，总计行将出现并可能导致网格混乱）。必须在单击该列标题时对所有行进行排序，但不能对包含所有行的最后一行进行排序。请看下面的例子，点击下面的链接：

[http://www.sigmawidgets.com/products/sigma_grid/demos/example_aggregate.html](http://www.sigmawidgets.com/products/sigma_grid/demos/example_aggregate.html)

但是这里的 Sortable 属性已设置为 false。我需要在 JSP 中实现它 感谢和问候 Gurpreet Singh

# java - 如何在 JFrame 中设置滚动条？

> ID：12948031
> 
> 赞同：-1
> 
> 时间：2012-10-18T05:59:19.097
> 
> 标签：java, swing, jframe, jscrollpane, jscrollbar

我必须为更大的屏幕尺寸创建桌面应用程序。但现在我想将相同的应用程序放在更小的屏幕系统中。

如何设置滚动条`JFrame`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T06:09:20.380

[`JScrollPane`](http://docs.oracle.com/javase/7/docs/api/javax/swing/JScrollPane.html)在将滚动窗格添加到内容窗格之前，将GUI 添加到 a 。有关更多详细信息和工作示例，请参阅[如何使用滚动窗格](http://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html)。

# loops - 我可以在 MSBuild 文件中执行循环吗？

> ID：12948037
> 
> 赞同：3
> 
> 时间：2012-10-18T06:00:06.883
> 
> 标签：loops, msbuild, refactoring, iteration

目前，我让他在`MSBuild`proj 文件中跟踪代码。这真的很简单。定义 4 个*变量*并为每个变量调用一次我的 MSBuild 任务：

### 求代码~~

```
<ItemGroup><JS_File1 Include="file1.js"/></ItemGroup>
<ItemGroup><JS_File1 Include="file2.js"/></ItemGroup>
<ItemGroup><JS_File1 Include="file3.js"/></ItemGroup>
<ItemGroup><JS_File1 Include="file4.js"/></ItemGroup>

<JavaScriptCompressorTask SourceFiles="@(JS_File1)" OutputFile="@(JS_File1).min"/>
<JavaScriptCompressorTask SourceFiles="@(JS_File2)" OutputFile="@(JS_File2).min"/>
<JavaScriptCompressorTask SourceFiles="@(JS_File3)" OutputFile="@(JS_File3).min"/>
<JavaScriptCompressorTask SourceFiles="@(JS_File4)" OutputFile="@(JS_File4).min"/> 
```

根本没有什么令人兴奋的。

我想知道这是否可以重构为这样的东西。

### 失败伪代码~~

```
<ItemGroup>
    <JS_File1 Include="file1.js"/>
    <JS_File1 Include="file2.js"/>
    <JS_File1 Include="file3.js"/>
    <JS_File1 Include="file4.js"/>
</ItemGroup>

<!-- now this is the shiz i have no idea about -->
foreach(@(JS_Files))
    <JavaScriptCompressorTask SourceFiles="@(theFile)" OutputFile="@(theFile).min"/> 
```

在 MSBuild 中可以做到这一点吗？

**因此，该任务被称为“每个文件一次”.. 还是更重要的是，“项目组中的每个项目一次”？**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T19:55:47.640

您可以使用项目元数据来批处理任务（请参阅[http://msdn.microsoft.com/en-us/library/ms171474.aspx](http://msdn.microsoft.com/en-us/library/ms171474.aspx)）。

所有项目都有称为“身份”的元数据，其中包含**包含**属性的值。如果您使用元数据引用语法`%(Identity)`，这将指示 MSBuild 为每个唯一的 Include 值执行您的任务。

```
<ItemGroup>
    <JS_File1 Include="file1.js"/>
    <JS_File1 Include="file2.js"/>
    <JS_File1 Include="file3.js"/>
    <JS_File1 Include="file4.js"/>
</ItemGroup>

<JavaScriptCompressorTask SourceFiles="@(JS_File1)" OutputFile="%(Identity).min"/> 
```

请注意，MSBuild 知道您正在引用**JS_File1**项组的 Identity 元数据，因为您在任务中引用了它。否则，您将需要使用语法`%(JS_File1.Identity)`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T15:41:08.977

像这样，除了使用你的任务而不是我的副本......

```
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" DefaultTargets="Minifier" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <Target Name="Minifier">
    <ItemGroup>
      <JS_File1 Include="file1.js"/>
      <JS_File1 Include="file2.js"/>
      <JS_File1 Include="file3.js"/>
      <JS_File1 Include="file4.js"/>
    </ItemGroup>

    <Copy SourceFiles="@(JS_File1)" DestinationFiles="@(JS_File1->'%(Filename).min')"/>

  </Target>
</Project> 
```

希望那有帮助。

# django - django cloudinary 通过 url 上传远程图像 - 文件名无效

> ID：12948040
> 
> 赞同：0
> 
> 时间：2012-10-18T06:00:46.840
> 
> 标签：django, python-2.7, cloudinary

我正在尝试上传托管在第三方服务器上的图像。这是我正在使用的代码：

def saveEdit（请求）：

```
image = request.REQUEST.get('image','')
title = request.REQUEST.get('title','')
type = request.REQUEST.get('type','')
state = request.REQUEST.get('state','')

cimage = cloudinary.uploader.upload(image, public_id = 'img_'+request.user.__str__()+"_"+title, format='jpg')

return HttpResponse('Got '+image + " type: "+type + " state: "+state + " title:"+request.user.__str__() + "_"+title + " uploaded "+cimage.image.url) 
```

我收到以下错误：

```
无效的图像文件

请求方法：GET
请求网址：http://127.0.0.1:8000/saveEdit?image=http://app2.pixlr.com/_temp/507f95e1ec8d8337e5000002.jpg&type=jpg&state=copy&title=13838
Django 版本：1.4.1
异常类型：异常
异常值：    
无效的图像文件
异常位置：call_api 中的 /Library/Python/2.7/site-packages/cloudinary/uploader.py，第 155 行

```

我不确定我做错了什么 - 你能帮忙吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T08:59:09.220

这里的问题是从请求中接收到的图像参数实际上是 unicode 类型而不是 str。Cloudinary 的 python 库的当前版本不能正确处理这个问题。该库的下一版本将包含此问题的修复程序。同时，您可以执行以下操作：

```
cimage = cloudinary.uploader.upload(image.encode('utf-8'), public_id = 'img_'+request.user.__str__()+"_"+title, format='jpg') 
```

感谢您报告此事。

# javascript - 从批处理脚本调用 javascript 文件

> ID：12948041
> 
> 赞同：0
> 
> 时间：2012-10-18T06:00:53.933
> 
> 标签：javascript, batch-file

好的，所以我有一个批处理脚本，我想在不打开命令窗口的情况下在启动时运行它，所以我编写了一个 JavaScript 文件来执行此操作，但是我要运行它的计算机在启动时不运行 JavaScript 文件-up，但它确实运行批处理文件！所以我的问题是：

- 是否可以从批处理脚本中调用 JavaScript 文件，以及如何调用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:06:41.430

您可以使用 Mozillas Rhino：[https ://developer.mozilla.org/en-US/docs/Rhino](https://developer.mozilla.org/en-US/docs/Rhino)

您可以像使用 python 一样使用批处理中的 js 脚本

```
$ rhino file.js 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T06:02:45.617

听起来你想安装[node.js](http://Nodejs.org)

# c# - 插入到 Excel 工作表时出现语法错误

> ID：12948042
> 
> 赞同：1
> 
> 时间：2012-10-18T06:01:03.503
> 
> 标签：c#, .net, excel, excel-interop

我试图将数据插入到 Excel 文件的第二张工作表中，但它给出了语法错误。我尝试在 sheet1 中使用相同的语法插入，它工作正常。工作表名称正确，列名称正确。我的代码是

```
try
{
    System.Data.OleDb.OleDbConnection MyConnection;
    System.Data.OleDb.OleDbCommand myCommand = new System.Data.OleDb.OleDbCommand();
    string sql = null;
    MyConnection = new System.Data.OleDb.OleDbConnection("provider=Microsoft.Jet.OLEDB.4.0;Data Source='d:\\contacts_moorthy.xls';Extended Properties=Excel 8.0;");
    MyConnection.Open();
    myCommand.Connection = MyConnection;
    sql = "insert into [Sheet2$] (To,Message,SentOn) values ('" + phonetxtbox.Text + "','" + messagetxtbox.Text + "','"+DateTime.Now+"')";
    myCommand.CommandText = sql;
    myCommand.ExecuteNonQuery();
    MyConnection.Close();
}
catch (Exception ex)
{
     MessageBox.Show("Error :",ex);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T20:54:41.350

我认为它在您的 Jet Provider 连接字符串中。

[http://www.connectionstrings.com/excel](http://www.connectionstrings.com/excel)

连接字符串具有称为 HDR 的 n 个属性。如果添加“HDR=Yes;” 到您的连接字符串应该表明第一行包含列名，这应该可以解决您的问题。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2017-08-31T21:49:33.793

根据我的个人经验，我注意到当列名未在括号“[]”中指示时，它不允许在 Excel 中保存，也就是说它将是...（`[To]`、、、`[Message]`）`[SentOn]`。

# java - JAVA，Netbeans：如何在 jtextfield 中分配选项卡索引？

> ID：12948043
> 
> 赞同：3
> 
> 时间：2012-10-18T06:01:03.360
> 
> 标签：java, netbeans, jtextfield

我搜索它并没有找到正确的答案。有人说检查器选项卡中组件的排列使自动选项卡索引。但它没有用。那么netbeans中真的有tab属性吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-02T11:39:46.550

只需使用这段代码就可以了，使用***setNextFocusableComponent*** ()

```
buttonA.setNextFocusableComponent(buttonB);
buttonB.setNextFocusableComponent(buttonC); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-05-17T09:52:39.467

我打算对 Yogendra Singh 的回答发表评论，但我才刚刚注册并且不能。Yogendra 的答案几乎是完美的，但没有考虑到如果有人通过单击另一个组件来改变焦点会发生什么。focusNumber 仍将设置为旧组件，并且按 Tab 会将您带到错误的组件。

修改答案稍微修复了这个问题：

```
List<Component> elementList = new ArrayList<Component>();
elementList.Add(element1);
elementList.Add(element2);
...
elementList.Add(elementx);
setFocusTraversalPolicy(new CustomFocusTraversalPolicy());

private class CustomFocusTraversalPolicy extends FocusTraversalPolicy {   

    public Component getComponentAfter(Container focusCycleRoot,Component aComponent)    {   
        int currentPosition = elementList.indexOf(aComponent);
        currentPosition = (currentPosition + 1) % elementList.size();   
        return (Component)elementList.get(currentPosition);   
    }   
    public Component getComponentBefore(Container focusCycleRoot,Component aComponent)    { 
        int currentPosition = elementList.indexOf(aComponent);
        currentPosition = (elementList.size() + currentPosition - 1) % elementList.size();   
        return (Component)elementList.get(currentPosition);   
    }
    public Component getFirstComponent(Container cntnr) {
        return (Component)elementList.get(0);
    }
    public Component getLastComponent(Container cntnr) {
        return (Component)elementList.get(focusList.size() - 1);
    }
    public Component getDefaultComponent(Container cntnr) {
        return (Component)elementList.get(0);
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-18T06:17:43.870

定义以保存您的元素，使用例如以所需的顺序`Component[] elementsList`扩展`FocusTraversalPolicy`和设置元素 `elementsList`

```
 Component[] elementsList = new Component[]{elem1,elem2,elem3};
 setFocusTraversalPolicy(new MyFocusTraversalPolicy());

 public class CustomFocusTraversalPolicy extends  FocusTraversalPolicy    {   

  public Component getComponentAfter(Container focusCycleRoot,Component aComponent)    {   
   focusNumber = (focusNumber+1) % focusList.length;   
   return (JTextField)focusList[focusNumber];   
  }   
  public Component getComponentBefore(Container focusCycleRoot,Component aComponent)    { 
   focusNumber = (focusList.length+focusNumber-1) % focusList.length;   
   return (JTextField)focusList[focusNumber];   
 }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-18T13:29:47.133

GUI 编辑器在 initComponents 中生成代码：

```
jTabbedPane1.addTab("tab1", jTextField1); 
```

这似乎不是可定制的，使用`insertTab`带有索引。（它会显示在布局组的属性中。）

所以最好是完全在代码中生成选项卡组件，使用，`insertTab`或者：

```
jTabbedPane1.add(jTextField1, index); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-02-13T18:23:02.083

我猜 Mike Plazer NZ 的答案有一个小错误。

```
public Component getLastComponent(Container cntnr) {
    return (Component)elementList.get(focusList.size() - 1);
} 
```

应该

```
public Component getLastComponent(Container cntnr) {
    return (Component)elementList.get(elementList.size() - 1);
} 
```

“focusList.size()”改为“elementList.size()”

否则eclipse会显示错误。但是一个很好的答案！

# php - 圆形数百，数千，缺少到 H，T，L

> ID：12948049
> 
> 赞同：1
> 
> 时间：2012-10-18T06:01:27.987
> 
> 标签：php

是否有任何 PHP 函数可以转换

100 = 1H 1000 = 10H 10000 = 10T 100000 = 1L

等等

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:15:36.810

从来没听说过。这是一个常见的符号吗？对我来说，这看起来很特殊。我可以想象有一个用于千、兆、兆等前缀的标准函数，但我认为也没有一个可以做到这一点。

# java - 如何在矩阵中生成 1 和 0 的可能组合？使用java

> ID：12948050
> 
> 赞同：-5
> 
> 时间：2012-10-18T06:01:34.817
> 
> 标签：java, matrix

我必须生成重新排序的矩阵，表示矩阵中 1' 和 0 的所有排列，我该怎么做？任何想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T06:14:25.977

暂时忽略*重新排序的约束：*

对于给定的列数 n，将 i 从 0 计数到 (2^(n)-1)。对于每个 i，在矩阵中添加一行，其中每个单元格是 i 的二进制表示的一位数。然后，您将拥有给定数量的二进制文件的所有可能组合。

n=3 的结果：

```
0 0 0
0 0 1
0 1 0
0 1 1
1 0 0
1 0 1
1 1 0
1 1 1 
```

# prolog - Prolog 中的河内塔

> ID：12948052
> 
> 赞同：1
> 
> 时间：2012-10-18T06:02:12.013
> 
> 标签：prolog, towers-of-hanoi

我正在尝试为 CS 家庭作业找出这个问题（我将其标记为家庭作业，我只需要朝着正确的方向迈出一步）。编辑：显然“家庭作业”标签已过时，不再使用。无论如何，我必须在 Prolog 中编写一个规则定义，确定给定的移动列表可以解决塔。我知道说明不好，我的教授很不清楚，但我所拥有的就是必须满足以下条件：

```
?- hanoi(1,l,c,r,[[l,r]]).
true.

?- hanoi(1,l,c,r,[[c,r]]).
false.

?- hanoi(2,l,c,r,[[l,c],[l,r],[c,r]]).
true.

?- hanoi(3,l,c,r,M).
M = [[l,r], [l,c], [r,c], [l,r], [c,l], [c,r], [l,r]]. 
```

我一点也不知道上述任何内容应该暗示我做什么，所以任何指导都将不胜感激！它不会让我这样标记它，但是，就像我说的，这是一个家庭作业问题（尽管考虑到缺乏解释，这似乎是一个非常困难的问题），所以我不一定想要一个我想要的答案准确了解正在发生的事情。

非常感谢大家！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T10:10:17.917

假设您知道问题所在，那么该表示的含义如下：

```
hanoi(1,l,c,r,[[l,r]]). 
```

这显然意味着在初始状态左塔上有一个元素。l、c 和 r 是塔的名称。最后一个论点是解决方案。解决方案是移动列表。每一步都是一对[你从哪里得到元素，你把它放在哪里]。所以在前面的原子中，编码的解决方案是：将左塔上的元素移动到右塔上。

```
hanoi(1,l,c,r,[[c,r]]). 
```

这失败了，因为解决方案是错误的。初始状态只有左塔上的元素，因此如果中央塔不存在，则无法将其从中央塔中移出。

```
hanoi(2,l,c,r,[[l,c],[l,r],[c,r]]). 
```

这是通过三个动作解决的：从左到中心，从左到右，从中心到右。最后一个查询也是一样。

# asp.net - 将 PDF 保存到光盘

> ID：12948053
> 
> 赞同：2
> 
> 时间：2012-10-18T06:02:19.770
> 
> 标签：asp.net, vb.net, itextsharp

以下代码将 PDF 文件流式传输到浏览器，但我想将其**保存**到磁盘 (c:\myfile.pdf)...

```
Dim FilePath As String = Server.MapPath("/docs/templates/page_1_cover.pdf")
Dim reader As New PdfReader(FilePath)

Dim output As MemoryStream = New MemoryStream()
Dim stamper As PdfStamper = New PdfStamper(reader, output)

stamper.AcroFields.SetField("APPLICANT NAME", "KnowlegeZone")

reader.Close()
stamper.Close()

Response.AddHeader("Content-Disposition", "attachment; filename=YourPDF_I9.pdf")
Response.ContentType = "application/pdf"

Response.BinaryWrite(output.ToArray())
Response.End() 
```

我正在使用 iTextSharp。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-18T06:18:10.860

这应该像调用 File 一样简单。[写入所有字节](http://msdn.microsoft.com/en-us/library/system.io.file.writeallbytes.aspx#Y0)

```
Response.AddHeader("Content-Disposition", "attachment; filename=YourPDF_I9.pdf")
Response.ContentType = "application/pdf"

Dim data = output.ToArray();

File.WriteAllBytes("c:\\myfile.pdf",data)

Response.BinaryWrite(data)
Response.End() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T06:18:29.080

在这个解决方案中，我可以使用“PdfStamper”来保存文件，而不是使用任何其他方法。

```
Dim FilePath As String = Server.MapPath("/docs/templates/page_1_cover.pdf")
Dim reader As New PdfReader(FilePath)

Dim newfile As FileStream
newfile = New FileStream(Server.MapPath("/docs/output/go.pdf"), FileMode.Create, FileAccess.Write)

Dim stamper As PdfStamper = New PdfStamper(reader, newfile)

stamper.AcroFields.SetField("APPLICANT NAME", "han")

reader.Close()
stamper.Close() 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-18T06:40:39.233

```
<%@ WebHandler Language="C#" Class="mergeByteForms" %>
using System;
using System.IO;
using System.Web;
using iTextSharp.text;
using iTextSharp.text.pdf;

public class mergeByteForms : IHttpHandler {
  HttpServerUtility Server;
  public void ProcessRequest (HttpContext context) {
    Server = context.Server;
    HttpResponse Response = context.Response;
    Response.ContentType = "application/pdf";
    using (Document document = new Document()) {
      using (PdfSmartCopy copy = new PdfSmartCopy(
        document, Response.OutputStream) ) 
      {
        document.Open();
        for (int i = 0; i < 2; ++i) {
          PdfReader reader = new PdfReader(_getPdfBtyeStream(i.ToString()));
          copy.AddPage(copy.GetImportedPage(reader, 1));
        }
      }
    }
  }
  public bool IsReusable { get { return false; } }

// simulate your method to use __one__ byte stream for __one__ PDF  
  private byte[] _getPdfBtyeStream(string data) {
// replace with __your__ PDF template
    string pdfTemplatePath = Server.MapPath(
      "~/app_data/template.pdf"
    );
    PdfReader reader = new PdfReader(pdfTemplatePath);
    using (MemoryStream ms = new MemoryStream()) {
      using (PdfStamper stamper = new PdfStamper(reader, ms)) {
        AcroFields form = stamper.AcroFields;
// replace this with your form field data
        form.SetField("title", data);
        // ...
// this is __VERY__ important; since you're using the same fillable
// PDF, if you don't set this property to true the second page will
// lose the filled fields.          
        stamper.FormFlattening = true;
      }
      return ms.ToArray();
    }
  }
} 
```

# android - 如何在android中全屏播放视频？

> ID：12948054
> 
> 赞同：2
> 
> 时间：2012-10-18T06:02:22.210
> 
> 标签：android

> **可能重复：**
> [全屏播放视频](https://stackoverflow.com/questions/1574654/playback-video-full-screen)

我是 Android 应用程序开发的新手。我开发了一个应用程序，在其中播放视频文件。它工作正常，但未按要求启用视频全屏播放。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-18T06:15:50.017

只需将以下 xml 用于您的视频视图，它应该以全屏模式播放

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >
    <VideoView android:id="@+id/myvideoview"
        android:layout_width="fill_parent"
        android:layout_alignParentRight="true"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:layout_alignParentBottom="true"
        android:layout_height="fill_parent">
    </VideoView>
</RelativeLayout> 
```

有关更多信息，请参见此线程： [全屏播放视频](https://stackoverflow.com/questions/1574654/playback-video-full-screen?rq=1)

# sql-server - xp_cmdshell 错误“文件名、目录名或卷标语法不正确。”

> ID：12948059
> 
> 赞同：1
> 
> 时间：2012-10-18T06:02:41.200
> 
> 标签：sql-server, xp-cmdshell

我正在将一些代码部署到生产中，这是将系统从 SQL 2000 升级到 SQL 2008。

我的一个存储过程中有一个神秘的问题，它从数据库中获取一些数据，然后通过 bcp（成功）创建一些文件，然后它尝试执行几个移动命令，即使文件夹它们都失败了肯定存在并且服务以系统管理员身份运行。

这是它试图执行的代码：

```
set @cmd_string = 'move '+ @OutPath_AllCards + '*.* '+ @ArchivePath_AllCards
delete from @tbl_xp_cmdshell_output
Insert @tbl_xp_cmdshell_output exec @error_temp = master.dbo.xp_cmdshell @cmd_string 
```

这是我回来的错误信息

```
xp_cmdshell Error Executing "move H:\Transfer\CHAD\Outbound\AllCards\*.* H:\Transfer\CHAD\Outbound\AllCards\Archive\" 
```

返回的命令行错误是

```
"The filename, directory name, or volume label syntax is incorrect." 
```

这在相同设置的 UAT 版本的数据库中工作正常

有什么建议么？

**更新：**

如果源目录中没有文件，我可以重现该错误。我认为源目录中可能应该有文件，但我想知道在 bcp 创建它们之前是否存在延迟，并且当它执行移动时它们还不存在？有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T03:03:20.293

请注意，如果您从数据库服务器（在您的情况下为 SQL Server）调用外部操作系统命令，则本地计算机是该数据库服务器，不一定是您的本地计算机。

正如您在特定示例中提到的 H: drive ，我假设这是一个网络映射驱动器（可能是带有用户主文件夹的驱动器）。但是，您可能会遇到这种映射存在于 UAT 数据库服务器上而不是 PROD 上的情况。当 DEV 或 UAT 服务器位于某人的本地计算机上时，这种情况并不少见，当软件进入下一个部署阶段时，事情开始出现奇怪的错误。

在您的情况下，使用 UNC 路径（带有前导双反斜杠）而不是类似 DOS 的路径会更安全。这将使您独立于任何地方的驱动器映射。

但是，我个人不喜欢将操作系统调用嵌入到数据库引擎中——它会产生混乱。我更喜欢使用 shell 脚本 (UNIX) 或命令脚本 (Windows)，在其中调用存储过程（通过 isql 或 osql 或 sqlplus），然后运行其他可执行文件。使用 BCP，我看不到从存储过程运行它的任何好处 - 您仍然不能使用本地临时表，因为 BCP 打开自己的连接。

另外，我经常看到人们不关心检查操作是否成功的源代码。使用 BCP 来验证它是否成功需要相当大的努力（它总是返回 0 - 成功，与 isql、osql、sqlplus 等的情况相同）。您必须检查错误文件并确保它为空才能确定它没问题。所有这些东西都不适合存储过程。当然，您可以启动另一个可执行文件进行检查，但在我看来，这不是正确的方法。数据库服务器应该用于数据库操作，而不是完全运行应用程序。

如果您仍然不想放弃 xp_cmdshell，我的建议是创建您自己的存储过程作为通用包装器。如果您决定更改数据库提供程序，那么迁移的痛苦会小得多。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T18:43:57.640

好的，这里有点愚蠢的程序员（我和其他人）综合症。

发生错误是因为当您执行语句 move c:\Source*.* c:\dest 并且源中没有文件时，我遇到的错误将返回（“文件名、目录名或卷标语法不正确。 ”）。

该代码假定先前运行的文件存在，因此在 bcping 新文件之前将它们移开。bcp 并没有像我之前想象的那样首先发生。

在作业的第一次运行中，前一次运行的文件不存在，所以我们得到了错误。

所以，我想解决方案是复制然后在文件夹中删除，而不是尝试将其作为移动。

# python - IronPython 中使用 NumPy 和 SciPy 的权威方法

> ID：12948061
> 
> 赞同：6
> 
> 时间：2012-10-18T06:02:53.047
> 
> 标签：python, .net, numpy, ironpython, python.net

有一种在 IronPython 中使用 NumPy/SciPy 的方法，使用[IronClad](http://code.google.com/p/ironclad/)与相同的 CPython 二进制文件执行/通信。一个较新的项目，[用于 VS 的 Python 工具](http://pytools.codeplex.com/wikipage?title=NumPy%20and%20SciPy%20for%20.Net)允许更快地与 .NET IronPython 程序集成，因为大多数 NumPy/SciPy 库功能已手动移植到 IronPython 中。同一页面上的评论指向此[博](http://blog.enthought.com/python/scipy-for-net/)文，该博文链接到相同的 github 项目。

截至今天（2012 年 10 月），从 IronPython NET python 程序中集成/使用这两个库的最终方法是什么？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-15T03:36:49.417

.NET 的 Scipy 对我来说就像梦想成真。MSVS roundhouse 将所有其他 python IDE 踢在脸上，与所有其他 .NET 语言的无缝互操作会很棒（特别是看着你，F# ......你真的可以成为功能性网关药物......但我不能把我的科学 Python 工具栈抛在脑后！）

很遗憾地看到该项目似乎没有得到非常积极的支持，委婉地说。如果我中了彩票，我的待办事项清单上的第一件事......支持这个项目对于微软来说将是一个惊人的奖励/努力项目，以提高其在科学计算领域的地位；从几乎完全是雷达，到堆栈的最顶端。以防万一在微软有预算的人看到这个：认真。无论如何，您已经为这个糟糕的学者免费提供了 MSVS，但如果您意识到它的全部潜力，我会强迫我未来的老板在枪口下购买我的 MSVS。（*并不是说我惊人的生产力无论如何都不能说服他......）

所以不，对你的问题没有太多直接的回答，但也许这种咆哮会在未来的某个时候得到回报。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-18T15:33:05.683

您引用的[Enthought 博客文章](http://blog.enthought.com/python/scipy-for-net/)仍然是设置它的最佳方式。

# java - 试图将 JCheckBox 放入 GUI

> ID：12948062
> 
> 赞同：2
> 
> 时间：2012-10-18T06:02:58.793
> 
> 标签：java, swing, user-interface, jlist, jcheckbox

所以我现在已经为此工作了 45 分钟，我似乎无法弄清楚为什么这么简单的事情不起作用。我有一个非常复杂的 GUI，并且已经按照我想要的方式在布局中得到了几乎所有的东西，但是当我尝试制作它`JList`时`JCheckBoxes`完全没有用。所以我在这里将我的问题简化为这个测试类，也许我正在做一些非常愚蠢的事情，但这是我的代码：

```
import java.awt.BorderLayout;
import javax.swing.JCheckBox;
import javax.swing.JFrame;
import javax.swing.JList;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
public class TestGUI extends JFrame{
    public TestGUI(){
        setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
        setVisible(true);
        setTitle("TEST");
        JPanel outside = new JPanel();
        add(outside);
        outside.setLayout(new BorderLayout());
        JList<JCheckBox> checks = new JList<JCheckBox>();
        JCheckBox c = new JCheckBox("Check");
        checks.add(c);
        JScrollPane t = new JScrollPane(checks);
        add(t, BorderLayout.CENTER);
        pack();
    }
    public static void main(String[] args) {
        new TestGUI();
    }
} 
```

当我运行 GUI 时，什么都没有出现...只是空白，没有复选框...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T06:59:22.270

1.  不要`JFrame`不必要地扩展课程。
2.  `JFrame#setVisible(true)`在添加所有组件之前不要调用。
3.  对 UI 组件使用 Event-Dispatch-Thread/Intial Thread
4.  你在`JPanel`外面添加，然后`JScrollPane`在上面添加我不认为那是你想要做的？

我能够为您整理一个简短的示例，该示例使用自定义`ListCellRenderer`呈现`JCheckBox`在`JList`. 它还用于`MouseAdapter`允许检查和取消检查`JCheckBox`：

![在此处输入图像描述](../Images/ddd2058c4346bf1be19abdef8a0dd225.png)

```
import java.awt.BorderLayout;
import java.awt.Component;
import java.awt.Rectangle;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;
import javax.swing.JCheckBox;
import javax.swing.JFrame;
import javax.swing.JList;
import javax.swing.JScrollPane;
import javax.swing.ListCellRenderer;
import javax.swing.ListSelectionModel;
import javax.swing.SwingUtilities;
import javax.swing.UIManager;

public class JListTest {

    public JListTest() {
        JFrame frame = new JFrame();
        frame.setTitle("JList Test");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        initComponents(frame);

        frame.pack();
        frame.setVisible(true);
    }

    private void initComponents(JFrame frame) {
        String[] strs = {"swing", "home", "basic", "metal"};

        final JList checkBoxesJList = new JList(createData(strs));
        checkBoxesJList.setCellRenderer(new CheckListRenderer());
        checkBoxesJList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);

        checkBoxesJList.addMouseListener(new MouseAdapter() {
            public void mouseClicked(MouseEvent e) {
                int index = checkBoxesJList.locationToIndex(e.getPoint());
                CheckableItem item = (CheckableItem) checkBoxesJList.getModel().getElementAt(index);
                item.setSelected(!item.isSelected());
                Rectangle rect = checkBoxesJList.getCellBounds(index, index);
                checkBoxesJList.repaint(rect);
            }
        });

        JScrollPane scrollPane = new JScrollPane(checkBoxesJList);
        frame.add(scrollPane, BorderLayout.CENTER);
    }

    private CheckableItem[] createData(String[] strs) {
        int n = strs.length;
        CheckableItem[] items = new CheckableItem[n];
        for (int i = 0; i < n; i++) {
            items[i] = new CheckableItem(strs[i]);
        }
        return items;
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                new JListTest();
            }
        });
    }
}

class CheckListRenderer extends JCheckBox implements ListCellRenderer {

    public CheckListRenderer() {
        setBackground(UIManager.getColor("List.textBackground"));
        setForeground(UIManager.getColor("List.textForeground"));
    }

    @Override
    public Component getListCellRendererComponent(JList list, Object value,
            int index, boolean isSelected, boolean hasFocus) {
        setEnabled(list.isEnabled());
        setSelected(((CheckableItem) value).isSelected());
        setFont(list.getFont());
        setText(value.toString());
        return this;
    }
}

class CheckableItem {

    private String str;
    private boolean isSelected;

    public CheckableItem(String str) {
        this.str = str;
        isSelected = false;
    }

    public void setSelected(boolean b) {
        isSelected = b;
    }

    public boolean isSelected() {
        return isSelected;
    }

    @Override
    public String toString() {
        return str;
    }
} 
```

**参考：**

*   [http://www.kidslovepc.com/javatable/java-jlist-checkbox-simple.shtml](http://www.kidslovepc.com/javatable/java-jlist-checkbox-simple.shtml)

# linux - 从日志文件中查找唯一时间，linux grep

> ID：12948063
> 
> 赞同：1
> 
> 时间：2012-10-18T06:03:09.487
> 
> 标签：linux, shell, grep

我有类似的条目

```
[NGS|00219|17-10-2012 19:05:43:977|INFO] 
```

在我的日志文件中，如何使用`grep`或其他 linux shell 工具在此日志文件中找到唯一的时间值（不包括毫秒）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T06:37:00.183

这是打印独特时间的一种方法：

```
awk '!a[substr($2,0,8)]++ { print substr($2,0,8) }' file.txt 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-18T06:18:27.060

当然有很多方法——使用`cut`,`sed`和`uniq`:

```
 cut -d' ' -f2 logfile | sed -e 's/:[^:]*$//' | uniq 
```

（只取空格后面的内容，删除从最后一个冒号到末尾的所有内容，然后消除重复项。）

或者，仅使用`sed`and `uniq`：

```
 sed -e 's/.*\ \(.*\):[^:]*$/\1/' logfile | uniq 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-18T06:19:24.790

此脚本为您提供所有唯一时间戳（仅时间；不包括日期。所有重复的时间戳都被忽略）：

```
#!/bin/bash

awk -F'[: ]' '{print $2 ":" $3 ":" $4}' | sort | uniq -u 
```

排序的使用是可选的（因为我假设日志是按时间顺序排列的）

如果您想要找到这些时间戳的整行，请告诉我。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-18T06:20:13.697

这在 awk 中非常简单

```
awk -F'|' '{  
              split($3, a, / /);
              sub(/:[[:digit:]]+$/, "", a[2]); 
              arr[a[2]] = 1; 
           } END { 
              for (i in arr) 
                 print i 
           }' file.log 
```

您可以使用该`sub()`函数删除毫秒，然后将该值作为键添加到数组中。由于数组键是唯一的，这将删除所有重复项。处理后，END 块遍历键并打印它们。

答案已更新以排除日期。这是通过在时间戳上使用 split() 来删除日期部分来完成的。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-18T06:19:03.363

也许不是最优雅的：

```
awk '{print $2}' log.txt | cut -c 1-8 | uniq 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-10-18T08:09:53.590

类似于 egrep 命令，你可以使用 grep 如下：

grep -o -E '[[:digit:]]+[:][[:digit:]]+[:][[:digit:]]+' NGS.log|uniq

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-18T06:38:56.847

我自己找到了一个很好的答案

```
egrep -o '[[:digit:]]+[:][[:digit:]]+[:][[:digit:]]+' NGS.log | uniq 
```

# objective-c - XIB 的所有者是否必须/应该是 UIViewController

> ID：12948064
> 
> 赞同：0
> 
> 时间：2012-10-18T06:03:17.087
> 
> 标签：objective-c, uiview, xib, subclassing

当我想用 xib 子类化 UIView 时，我已经成功地将 UIView 作为所有者。

但是，这有点尴尬，并且涉及将所有 superView 从 self.view 移动到 initWith:something 类中的 self 。

这是我覆盖的唯一功能，到目前为止它看起来还不错。

那么，所有者是为 UIViewController 设计的吗？

它也可以是 UIView 的子类吗？

还有哪些合适的课程？

我只是好奇，如果有一些关于如何更正确地继承 UIView 和使用 XIB 的教程？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T07:03:54.800

对哪个类可以充当文件所有者占位符没有任何限制。[UINib 的](http://developer.apple.com/library/ios/#documentation/uikit/reference/UINib_Ref/Reference/Reference.html)存在专门为您提供一种使用您需要的任何拥有对象加载 nib 文件的方法。

有关详细信息，请参阅[对象加载过程](http://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/LoadingResources/CocoaNibs/CocoaNibs.html#//apple_ref/doc/uid/10000051i-CH4-SW19)。

# android - 开发人员证书未在 Eclipse For Android Runtime 中为 BB 10 创建

> ID：12948068
> 
> 赞同：0
> 
> 时间：2012-10-18T06:03:21.257
> 
> 标签：android, eclipse-plugin, keytool, blackberry-10

我正在尝试签署 Android 应用程序并运行到我的 BlackBerry 10 设备。我在 Eclipse 3.7 中安装了 BlackBerry Plug-in for Android Development Tools 和 BlackBerry Tools SDK。现在，我在单击 Bar Signer 窗口中的注册按钮后尝试使用 RDK 和 PBDT 键进行注册（在 Eclipse 中，Preferences -> BlackBerry-> BlackBerry Tools SDK-> Bar Signer）。在给出密钥和密码的路径后，它正在注册密钥，我收到一封邮件说密钥已成功注册。

现在，当我尝试创建开发人员证书时，在提供密钥库密码和作者姓名后，它给出了错误

![错误快照](../Images/8da6574655ff2a693a51ac753b923749.png)

在 Eclipse 的目标中（Preferences -> BlackBerry-> BlackBerry Tools SDK--> Targets），我的 BB 10 设备正在显示。这意味着我的设备被日食识别。

现在我真的很困惑，尽管我的设备的开发模式是开启的，但如何生成调试令牌和/或开发人员证书。如果有人告诉我解决方案，那将是很大的帮助..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T14:24:42.517

如果 Eclipse 表现不佳，您可以随时向 RIM 签名机构注册并从命令行创建开发人员证书。您需要先将 BlackBerry 工具 SDK 添加到您的路径中。由于您已经安装了 Eclipse 插件，因此可以在此处找到它们（此处[提供独立工具](http://developer.blackberry.com/android/tools)）：

```
 $ECLIPSE_INSTALL_DIR/plugins/net.rim.ajde_1.3.0.201209131728/blackberry.tools.SDK/bin 
```

现在你可以运行：

```
blackberry-signer -register -csjpin PIN -storepass <chooseapassword> RDKCSJFile PBDTCSJFile 
```

其中 PIN 是您在请求代码签名密钥时指定的。

[有关命令行工具的更多信息在这里](http://developer.blackberry.com/native/documentation/com.qnx.doc.native_sdk.devguide/com.qnx.doc.native_sdk.devguide/topic/configure_app_signing_from_cmd_line.html)

# sql - SSIS 包中的 DT_NTEXT 列和截断警告

> ID：12948070
> 
> 赞同：6
> 
> 时间：2012-10-18T06:03:33.200
> 
> 标签：sql, sql-server-2008, ssis

我有 2 个问题：

1) 我有一个 DT_NTEXT 列，我从数据库中提取其值并尝试将其输入 Excel 中的 Test 列。我在两者之间使用数据转换步骤将其转换为 DT_TEXT（unicode 文本版本）。

不过，最后，Excel 连接管理器正在写入零行（它显示截断警告，但执行时没有错误）。我什至通过以下步骤在数据流中添加了一个数据查看器：

"**在将 Source 任务连接到 Data Conversion 和 Data Conversion 到 Destination 任务的箭头中，双击，您将打开 Data Flow Path Editor。单击 Data Viewer，然后单击 Add 并单击 OK。这将允许您查看正在通过管道。** ”

不过，当我运行我的包时，我没有看到任何区别。

2) 我是否可以将 DT_NTEXT 列转换为 DT_WTSR 列。在一个完美的场景中，我应该将此列放入我的 Excel 中的标准 nvarchar 列中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T21:31:38.567

尝试使用 DataType LongText。将 Excel 目标放置在数据流表面上后，将源连接到目标。单击新建作为 Excel 工作表的名称。让系统决定数据类型，看看是否能解决您的问题。

这就是我所做的帮助我得出这个结论的原因：

1.  创建表

    ```
    CREATE TABLE [dbo].[ntext]
    (
        [ID] [int] NULL,
        [NTEXT] [ntext] NULL
    ) ON [PRIMARY] 
    ```

2.  插入一些记录

    ```
    1   asdsadsad
    2   qweqerrq
    3   But now, looping through the 351 flat-files to load the voter history records for the State's cities and towns, the package may process a few files, or up to 20 at a pop, before failing. I've been executing the packages interactively.  This is the text from the Output window from the last run:
    4    jus/juice, kilogramme/kilogram, lampe/lamp, mére/mother, nuit/night, océan/ocean, pantalon/pants, quintuplé/
    5   مباشر‎ - استمع مباشرة إلى راديو بي بي ...‎ - أخبار الشرق الاوسط‎ -
    6        Do not know what it says... just copied from some arabic web page from BBC site 
    ```

3.  使用 DFT 创建测试包。

    OleDB Source = 您创建的表

    Excel Dest = 创建新的 OLEDB 连接管理器

    数据访问模式 = 表或视图

    Excel 工作表的名称... 选择新建...

# php - 单选按钮数组使用 jquery 获取 id

> ID：12948072
> 
> 赞同：-4
> 
> 时间：2012-10-18T06:03:39.083
> 
> 标签：php, jquery

我对单选按钮数组有疑问。当计时器为 0 并选择 1 个单选按钮时，我有 1 个计时器，然后该值进入 jquery。

```
<li>
<span class="option">Option1  :  Value1 </span>  
<input type="radio" name="cmbans[][1]" id="cmbans[][1]" value="Value1" />
</li>
<li>
<span class="option">Option2  :  Value2 </span>  
<input type="radio" name="cmbans[][2]" id="cmbans[][2]" value="Value2" />
</li>
<li>
<span class="option">Option1  :  Value1 </span>  
<input type="radio" name="cmbans[][3]" id="cmbans[][3]" value="Value3" />
</li> 
```

这个单选按钮名称或 id 进入 jquery 但问题是这是数组所以我怎么能得到这个。请帮助我。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T06:36:59.060

我没有正确解决 ypur 问题。我不确定这个是否对你有帮助..

像这样更改您的html..

```
<li>
<span class="option">Option1  :  Value1 </span>  
<input type="radio" name="cmbans[]" id="cmbans1" value="Value1" />
</li>
<li>
<span class="option">Option2  :  Value2 </span>  
<input type="radio" name="cmbans[]" id="cmbans2" value="Value2" />
</li>
<li>
<span class="option">Option1  :  Value1 </span>  
<input type="radio" name="cmbans[]" id="cmbans3" value="Value3" />
</li> 
```

现在创建 jquery 来获取这样的值..

```
if(timer == 0){
var value = $('#id of radio').val();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T13:05:34.063

阅读您的问题，我对您到底想要什么并没有太多了解，但请尝试一下。PHP 看起来像：

```
$str = ''
for(i = 0:i < 4;i++){
str.= '<li>';
str.= '<span class="option">Option1  :  Value1 </span>';  
str.= '<input type="radio" name="cmbans" value="'.cmbans[][i].'" />';
str.= '</li>';
}
echo str; 
```

HTML 看起来像：

```
 <li>
    <span class="option">Option1  :  Value1 </span>  
    <input type="radio" name="cmbans"  value="Value1" />
    </li>
    <li>
    <span class="option">Option1  :  Value1 </span>  
    <input type="radio" name="cmbans" value="Value2" />
    </li>
    <li>
    <span class="option">Option1  :  Value1 </span>  
    <input type="radio" name="cmbans" value="Value3" />
    </li>
     <li>
    <span class="option">Option1  :  Value1 </span>  
    <input type="radio" name="cmbans" value="Value4" />
    </li> 
```

和 Jquery 看起来像：

```
if(timer == 0){
   var _value = $('input:radio:checked').val();
   //do something with _Value.
} 
```

我希望这是你想要的...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-18T09:29:47.717

每个 HTML 元素的 ID 在 HTML 文档中必须是唯一的。

您可以通过以下方式定义元素的 HTML 数组

例如

对于使用 jquery 访问 html 数组元素，将相同的类分配给该 html 数组中的所有元素，然后我们将根据类遍历 HTML 数组的元素

例如 $('.xyz').each(function() { alert($(this)); });

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-18T06:11:52.317

我不确定您的问题是什么，但您无法使用输入名称属性定义关联数组。
尝试

```
<input type="radio" name="cmbans[]" id="cmbans_1" value="Value2" />
<input type="radio" name="cmbans[]" id="cmbans_2" value="Value2" /> 
```

您可以使用 jquery 选择所有 id 以 cmbans 开头的元素来获取单选按钮数组。提交表单后，您的网络服务器会将输入名称解析为数组。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-18T06:14:52.323

要选择 id 具有特殊字符的元素，您必须转义这些特殊字符。在您的情况下`[`，`]`您对 id 命名的选择也很奇怪

```
$("#cmbans\\[\\]\\[1\\]").val() 
```

# wpf - WPF datagrid控件抛出异常

> ID：12948074
> 
> 赞同：0
> 
> 时间：2012-10-18T06:03:52.450
> 
> 标签：wpf, wpfdatagrid

我已经安装了 2010 年 2 月的 wpf 工具包，并在我的项目中引用了 wpfttoolkit.dll。我有以下 xmlns

```
<Window x:Class="NodeXL_Graph_Drawer.Window1"
xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:toolkit="http://schemas.microsoft.com/wpf/2008/toolkit"
xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
  Title="NodeXL Graph" Height="300" Width="300" xmlns:my="clr-         namespace:Smrf.NodeXL.Visualization.Wpf;assembly=Smrf.NodeXL.Control.Wpf" Loaded="Window_Loaded">
<Grid>

    <toolkit:DataGrid AutoGenerateColumns="True" Name="dataGrid1" ></toolkit:DataGrid>

</Grid> 
```

但是当窗口加载时，它会引发以下异常，该位置没有可用的源代码以及以下堆栈信息

```
 ---         C:\dd\WPF_1\src\wpf\src\ControlsPack\WPFToolkit\DataGrid\Microsoft\Windows\Controls\Primitives\DataGridColumnHeadersPresenter.cs 
  00000000  push        ebp  
  00000001  mov         ebp,esp 
  00000003  sub         esp,0Ch 
  00000006  mov         dword ptr [ebp-0Ch],ecx 
  00000009  cmp         dword ptr ds:[03E75CA0h],0 
  00000010  je          00000017 
  00000012  call        76B9D779 
  00000017  xor         edx,edx 
  00000019  mov         dword ptr [ebp-4],edx 
  0000001c  mov         ecx,dword ptr [ebp-0Ch] 
  0000001f  call        526C6518 
  00000024  mov         dword ptr [ebp-8],eax 
  00000027  mov         eax,dword ptr [ebp-8] 
  0000002a  mov         dword ptr [ebp-4],eax 
  0000002d  mov         eax,dword ptr [ebp-0Ch] 
  00000030  cmp         dword ptr [eax+0000011Ch],0 
  00000037  je          0000003C 
  00000039  inc         dword ptr [ebp-4] 
  0000003c  mov         eax,dword ptr [ebp-0Ch] 
  0000003f  cmp         dword ptr [eax+00000118h],0 
  00000046  je          0000004B 
  00000048  inc         dword ptr [ebp-4] 
  0000004b  mov         eax,dword ptr [ebp-4] 
  0000004e  mov         esp,ebp 
  00000050  pop         ebp  
  00000051  ret 
```

# mysql - SQL CE 中的条件查询，其中列具有 NULL 值

> ID：12948077
> 
> 赞同：0
> 
> 时间：2012-10-18T06:04:16.950
> 
> 标签：mysql, sql, sql-server-ce

我正在尝试在 SQL CE 数据库的帮助下创建一个工作流。

```
**Usr Table**
UID    FName    LName
 1      Tim      Lake
 2      June     Stone

**WFlow Table**
fID    Topic    InitBy    ApprovBy    PostedBy
1      Topic 1   2         NULL        NULL
2      Topic 2   1         NULL        NULL 
```

UID 和 fID 是主键，InitBy、ApprovBy、PostedBy 是链接到 UID 的外键。

现在一旦创建了第一个主题，fID=1, Topic=Topic 1, InitiBy=2, ApprovBy=NULL, PostedBy=NULL。

我的 SQL CE 查询看起来像这样。

```
Select WF.fID, WF.Topic, 
U1.FName + U1.LName as InitiBy,
U2.FName + U2.LName as InitiBy,
U3.FName + U3.LName as InitiBy,
from WFlow WF, Usr U1, Usr U2, Usr U3
where W.InitiBy = U1.UID
and W.ApprovBy = U2.UID
and W.PostedBy = U3.UID 
```

此查询不返回任何结果。我无法处理 ApprovBY 和 PostedBy 列中的 NULL。

感谢你的帮助。

谢谢，

我还想知道查询在 mySQL 中会有多大的不同。在 SQL-CE 中，有人能够帮助处理 LEFT JOIN 子句。但它似乎在 mySQL 中不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T06:09:55.623

您需要为此`LEFT JOIN`使用

```
Select  WF.fID, WF.Topic, 
        U1.FName + ' ' + U1.LName as InitiBy,
        U2.FName + ' ' + U2.LName as ApprovedBy,
        U3.FName + ' ' + U3.LName as PostedBy
from    WFlow WF 
        LEFT JOIN Usr U1
            ON WF.InitBy = U1.UID
        LEFT JOIN Usr U2
            ON WF.ApprovBy = U2.UID
        LEFT JOIN Usr U3
            ON WF.PostedBy = U3.UID 
```

# [SQLFiddle 演示](http://sqlfiddle.com/#!3/5ecd4/4)

# c++ - 返回值的转发。需要 std::forward 吗？

> ID：12948078
> 
> 赞同：35
> 
> 时间：2012-10-18T06:04:24.063
> 
> 标签：c++, c++11, return, rvalue-reference, perfect-forwarding

我正在编写包含其他库中的许多函数和方法的库。为了避免处理返回值，我这样应用`std::forward`：

```
template<class T>
T&& wrapper(T&& t) { 
   f(t);  // t passed as lvalue  
   return std::forward<T>(t);
} 
```

`f`返回`void`和接受`T&&`（或重载价值）。包装器始终返回包装器的参数，并且返回值应保留参数的价值。我真的需要使用`std::forward`in`return`吗？RVO 是否让它变得多余？它是参考（R 或 L）这一事实是否使它变得多余？如果 return 不是最后一个函数语句（在某些 if 中），是否需要它？

是否`wrapper()`应该返回`void`or是有争议的`T&&`，因为调用者可以通过 arg 访问评估值（即引用，R 或 L）。但在我的情况下，我需要返回值，以便`wrapper()`可以在表达式中使用。

这可能与问题无关，但众所周知，函数`f`不会从 中窃取`t`，因此第一次使用`std::forward`in`f(std::forward<T>(t))`是多余的，它被我删除了。

我写过小测试：[https ://gist.github.com/3910503](https://gist.github.com/3910503)

测试表明，返回未转发的`T`- 确实会在 gcc48 和 clang32 中使用 -O3 创建额外的副本（RVO 不会启动）。

此外，我无法从 UB 获得不良行为：

```
auto&& tmp = wrapper(42); 
```

它不能证明任何原因，因为它是*未定义*的行为（如果它是 UB）。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-18T07:19:23.020

如果您确实知道`t`在调用 to 后不会处于从状态移出`f`，则您的两个比较明智的选择是：

*   return `std::forward<T>(t)`with type `T&&`，这避免了任何构造，但允许编写 eg `auto&& ref = wrapper(42);`，这会留下`ref`一个悬空引用

*   返回`std::forward<T>(t)`类型`T`，当参数是右值时，最坏的情况是请求移动构造——这避免了纯右值的上述问题，但可能会从 xvalues 中窃取

在所有情况下，您都需要`std::forward`. 不考虑复制省略，因为`t`它始终是参考。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-18T06:34:57.140

根据此函数传递的内容，它会导致未定义的行为！更准确地说，如果您将非左值（*即*右值）传递给此函数，则返回的引用所引用的值将是陈旧的。

也不`T&&`是“通用参考”，尽管效果有点像通用参考，`T`可以推断为`T&` or `T const&`。有问题的情况是当它被推断为`T`：参数作为临时传入并在函数返回之后但在任何东西都可以获取对它的引用之前死亡。

的使用`std::forward<T>(x)`仅限于在调用另一个函数时转发对象：作为临时出现的东西看起来像函数中的左值。使用`std::forward<T>(x)`let`x`看起来像一个临时的，如果它作为一个出现 - 因此，`x`在创建被调用函数的参数时允许移动。

当您从函数返回对象时，您可能需要处理一些场景，但它们都不涉及`std::forward()`：

*   如果该类型实际上是一个引用，无论是`const`或非`const`- ，您都不想对对象做任何事情而只是返回引用。
*   如果所有`return`语句都使用相同的变量或所有语句都使用临时变量，则可以使用复制/移动省略并将在体面的编译器上使用。由于复制/移动省略是一种优化，因此不一定会发生。
*   如果总是返回相同的局部变量或临时变量，则如果存在移动构造函数，则可以从中移动，否则将复制对象。
*   当返回不同的变量或返回涉及表达式时，仍可能返回引用，但复制/移动省略将不起作用，如果不是临时的，也不能直接从结果中移动。在这些情况下，您需要使用`std::move()`允许从本地对象移动。

在大多数情况下，生成的类型是`T`并且您应该返回`T`而不是`T&&`. 但是，如果`T`是左值类型，则结果可能不是左值类型，并且可能需要从返回类型中删除引用限定。在您特别询问类型`T`作品的场景中。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-18T06:34:53.150

不，您`std::forward`根本不需要使用更好的不返回 r 值引用，因为它可以防止 NRVO 优化。您可以在本文中阅读有关移动语义的更多信息：[文章](http://pizer.wordpress.com/2009/04/13/c0x-do-people-understand-rvalue-references/)

# ios - 在 MPMovieplayerController 中播放 youtube 视频是否违反了 youtube TOS？

> ID：12948080
> 
> 赞同：0
> 
> 时间：2012-10-18T06:04:34.557
> 
> 标签：ios, youtube

我通过分析视频 URL 的 JSON 并获取流 URL，从 youtube 移动站点提取视频的流 URL，然后在 IOS 中使用 MPMoviePlayerController 直接播放。

它没有使用 UIWebView。我不将视频保存到磁盘，只是播放。是否违反了 Youtube TOS？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-15T06:58:23.747

是的。它违反了 Youtube 的服务条款。

[在此处](https://developers.google.com/youtube/terms)参考 Youtube 的服务条款。

根据 II(10)，它说

> 除了使用 YouTube 播放器或 YouTube 明确授权的其他视频播放器外，您的 API 客户端不会也不会鼓励或创建功能让您的用户或其他第三方访问任何 YouTube 视听内容的任何部分。

# android - 如何在 Intellij Idea 中为 Android 库项目构建 jar 而没有不必要的内容

> ID：12948082
> 
> 赞同：4
> 
> 时间：2012-10-18T06:04:37.300
> 
> 标签：android, ant, jar, library-project

当我在 Intellij Idea 中为 Android 库项目构建 jar 时，它会放入我在项目和*classes.jar中使用的所有依赖 jar*

![在此处输入图像描述](../Images/986a2d49981a7a68d4b28e108cef8b1a.png)

但是因为我认为所有这些都是不必要的，并且 jar 只能包含已编译的类，例如

![在此处输入图像描述](../Images/fe350971b01b006d3ccc28672c901e0e.png)

可以在 Idea 中编译*干净*的 jar 吗？还是我应该使用*蚂蚁*或其他东西？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-18T06:10:41.430

您使用 intelliJ 对项目进行云编译，然后找到类文件，转到它们的根文件夹，然后是其父文件夹并`jar cvf foo.jar -R <root>/`在 shell 中使用。

# c# - C#抽象类和协变

> ID：12948083
> 
> 赞同：-5
> 
> 时间：2012-10-18T06:04:40.477
> 
> 标签：c#, refactoring, ooad

我有一些这样的代码：

```
class DataFilter
{
    List<Animal> animals=null;
    public function1(string TypeOfData)
    {
        if(TypeOfData=="cat"){//get cats from database and do something}
        else if(TypeOfData=="dog")
        {//get dogs & do something}
    }
}
class Animal
{}
class Cat:Animal
{}
class Dog:Animal
{} 
```

如果我重用 DataFilter 类：

```
 class CatFilter:DataFilter
 {
 } 
```

如何重用列表动物属性？？？

如何重构它以将 function1 拆分为不同的类

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T06:09:04.803

```
 List<Animal> animals = new List<Animal>() { new Dog(), new Cat() };
 foreach (var animal in animals)
      animal.DoSomething(); 
```

--

```
class Animal
{ public virtual void DoSomething() { } }

class Cat : Animal
{ public override void DoSomething() { Console.WriteLine("CAT"); } }

class Dog : Animal
{ public override void DoSomething() { Console.WriteLine("DOG"); } } 
```

**- 编辑 -**

我仍然无法理解你真正想要的是什么。但是看到关键字`filter`让我想到

```
var groupedAnimals = animals.GroupBy(a => a.GetType())
                         .Select(g => new { Type = g.Key, Animals = g.ToList() })
                         .ToList(); 
```

或者

```
var cats = animals.OfType<Cat>().ToList(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T06:08:42.427

您可以在设计中使用概念*多态性*，例如：

```
class DataFilter
{
    List<Animal> animals = new List<Animal>() { new Dog(), new Cat() };

    public function1()
    {
        foreach (var animal in animals)
            animal.Do();
    }
}

abstract class Animal
{
    public abstract void Do();
}

class Cat: Animal
{
    public override void Do() {}  
}

class Dog: Animal
{
    public override void Do() {}
} 
```

# php - exec() 不改变当前文件夹外文件的属性

> ID：12948090
> 
> 赞同：0
> 
> 时间：2012-10-18T06:05:07.413
> 
> 标签：php, windows, cmd

`exec()`只要给定的路径在开发文件夹内，该功能就可以更改 Windows 机器中的文件属性。像

D:\程序\开发\www\

只要文件在该路径内，它的属性就可以改变。

```
$path = D:\Programs\Development\www\test.jpg
exec("attrib +s +h $path"); 
```

那行得通，但是一旦我将路径更改到其他地方，此功能似乎不起作用

```
$path = 'D:\Desktop\New Folder (2)\Test Folders\test.jpg'
exec("attrib +s +h $path"); 
```

现在相同的命令将不起作用。关于如何解决这个问题的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T06:22:07.527

您需要将路径放在引号中。

与大多数操作系统一样，文件名中的空格是您必须正面处理的问题。这通常使用反斜杠完成，但是，由于 Windows 对其文件夹系统使用反斜杠，因此您需要使用引号。

```
$path = 'D:\Desktop\New Folder (2)\Test Folders\test.jpg'
exec("attrib +s +h \"{$path}\""); 
```

这应该适合你。

# windows-phone-7 - phone7 中的 XML 解析

> ID：12948097
> 
> 赞同：0
> 
> 时间：2012-10-18T06:06:06.930
> 
> 标签：windows-phone-7, xml-parsing, windows-phone-7.1

如何解析以下 XML 中仅 Main_Screen 节点的元素。

```
<?xml version="1.0" encoding="utf-8" ?>

<plist version="1.0">
<Main_Screen>
        <row>
            <btn_name>Buyer Programs</btn_name>

        </row>
        <row>
            <btn_name>Seller�s Programs</btn_name>

        </row>
<Main_Screen>
<Buyer>
       <row>
           <btn_name>buy_bac</btn_name>

       </row>
       <row>
           <btn_name>buy_hme</btn_name>

     </row>
<Buyer>
<Seller>
   <row>
       <btn_name>buy_bac</btn_name>

   </row>
   <row>
       <btn_name>buy_hme</btn_name>

 </row>
<seller>
<Lender>
   <row>
       <btn_name>buy_bac</btn_name>

   </row>
   <row>
       <btn_name>buy_hme</btn_name>

 </row>
<lender>
<abcd>
   <row>
       <btn_name>buy_bac</btn_name>

   </row>
   <row>
       <btn_name>buy_hme</btn_name>

 </row>
<abcd>

</plist> 
```

我尝试了下面的代码，但所有元素都被解析了我只想解析 main_screen 节点下面的元素，

```
 XDocument loadedData = XDocument.Load("HelpScreenData.xml");

        var data = (from query in loadedData.Descendants("row")

                    select new tutstat
                    {
                        btn_name = (string)query.Element("btn_name"),
                        strng = (string)query.Element("strng"),
                    }).ToList(); 
```

请指导我，谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:13:15.533

听起来就像`Root.Element("Main_Screen")`在调用之前使用一样简单`Descendants`：

```
XDocument loadedData = XDocument.Load("HelpScreenData.xml");

var data = loadedData.Root
                     .Element("Main_Screen")
                     .Descendants("row") // Or .Elements("row")
                     .Select(x => new tutstat 
                             {
                                btn_name = (string) x.Element("btn_name"),
                                strng = (string) x.Element("strng"),
                             })
                     .ToList(); 
```

我已将其从查询表达式更改为简单的方法调用堆栈，因为查询表达式只会增加噪音。

您还应该修改所有名称以符合 .NET 约定并更具解释性。

# .net - 如何处理父级中的fancybox iframe关闭事件？

> ID：12948102
> 
> 赞同：-2
> 
> 时间：2012-10-18T06:06:29.843
> 
> 标签：.net, iframe, fancybox, fancybox-2

这是我的 fancybox iframe 代码

```
 <script type="text/javascript">
        $(document).ready(function () {
            $('.fancybox').fancybox();
            $("#popup").fancybox({
                fitToView: false,
                autoSize: false,
                autoDimensions: false,
                title: "Item Details",
                width: 965,
                height: 525,
                padding: 0,
                helpers: {
                    title: {
                        type: 'float'
                    },
                    overlay: {
                        css: {
                            'background': 'rgba(238,238,238,0.85)'
                        }
                    }
                },
                'transitionIn': 'elastic',
                'transitionOut': 'elastic',
                onClosed: function () {
                   alert('Hi');
                }
            });
        });
    </script> 
```

我想处理 iframe 关闭事件，但上面的代码不起作用。请让我知道我哪里错了请。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T07:04:08.380

我假设您使用的是 fancybox v2.x，因为您的代码中的 API 选项......如果是这样，`onClosed`则不是此版本的有效选项，而是 v1.3.x。

您必须`afterClose`改用：

```
afterClose : function () {
 alert('yep, you just closed fancybox v2.x');
} 
```

顺便说一句，既不是`transitionIn`也不`transitionOut`是有效的 v2.x API 选项，请查看[文档](http://fancyapps.com/fancybox/#docs)以获取 v2.x 的有效选项

# java - TransactionRolledbackLocalException 客户端的事务在访问 @Singleton 时中止

> ID：12948103
> 
> 赞同：5
> 
> 时间：2012-10-18T06:06:31.077
> 
> 标签：java, jpa, transactions, ejb-3.1

*注意：在花费了比我想承认的更多的时间来寻找原因之后，以简短的形式添加这个问题并给出答案。希望我能减轻别人的痛苦。*

将方法调用委托给带有`EJB`注释的方法时`@Singleton`，容器会抛出异常，如下所示：

```
TransactionRolledbackLocalException Client's transaction aborted 
```

Singleton bean 没有发生数据访问。

**ServiceBeanImpl.java**

```
@Stateless
@Local
public class ServiceBean extends BaseBean{ 
  @EJB private CacheService cacheService;

  public FooObj getFooFromCache(int id) {
    FooObj fooObj = (FooObj) cacheService.get(id);
    if (fooObj == null) {
      fooObj = getEntityById(FooObj.class, id);
      cacheService.put(id, fooObj);  //This throws exception
    }
    return cacheService.get(id);
  }
} 
```

**CacheServiceImpl.java**

```
@Singleton
@Startup
public class CacheServiceImpl implements CacheService {
    private Cache cache;

    @PostConstruct
    public void init() {
        CacheManager instance = CacheManager.getInstance();
        cache = instance.getCache("cache");
    }

    @PreDestroy
    public void destroy() {
        CacheManager.getInstance().shutdown();
    }

    public Object get(Object id) {
      return cache.get(id);
    }

    public void put(Object id, Object obj) {
      return cache.put(id, obj);
    }
} 
```

**问题** 为什么调用没有数据访问的 Singleton bean 会引发 Transaction 异常？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-18T06:06:31.077

**简短的回答：** 检查之前执行的代码堆栈（假设 StackTrace 中没有线索）是否存在被捕获且未传播的异常（因此 StackTrace 中没有线索）。

在这种特殊情况下，需要`try/catch`创建一个命名查询。如果该命名查询失败，则在 catch 块中执行辅助查询。查询不需要事务，因此回退查询正确执行并返回了预期的实体。

然而...

这也（我认为）将事务标记为需要回滚。`@Singleton`豆子有点像红鲱鱼。关于将控制权转移到该 bean 的某些事情使容器检查了事务，这反过来又在此时抛出了异常，但由于事务不再有效，因此该异常是适当的。

故事的道德启示：

*   回到最后的数据库交互，因为那可能是你的问题所在。
*   仅仅因为最后一次数据库交互返回数据并不意味着它没有问题（这对我来说是杀手）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-01-17T07:33:40.197

我遇到了类似的问题，发现了一个有趣的事情：

从@Startup @Singleton 我有以下电话

```
@PostConstruct
public void initHardcodedUsers() {
for (User u : getHardcodedUsers()) {
  if (!userRepository.userExists(u.getName())) {
    userRepository.add(u);
  }
 }
} 
```

UserRepository 是一个带有 EntityManager 的 @Stateless EJB。在`userExists()`方法中，我基本上使用`getSingleResult()`. 如果没有可用的结果，`NoResultException`则 JPA 会抛出 a。我在里面抓住那个`userExists()`并返回错误（“用户不存在”）。

正如我刚刚了解到的，由于 NoResultException 是 RuntimeException ，所以这里强制回滚！

最简单的方法是避免调用`getSingleResult()`. 而不是我使用`getResultList()`and `setMaxResults(1)`。如果没有结果，这将简单地返回一个空列表，因此没有异常，因此没有回滚 tx。

祝你好运 ：）

克里斯

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-08-06T22:59:28.697

GlassFish / Payara Server 中的类似问题`TransactionRolledbackLocalException`发生在我身上。但它是由 GlassFish / Payara 中的错误引起的，在我的应用程序中没有回滚事务。重新启动域修复它，如下所述：[javax.ejb.TransactionRolledbackLocalException (Glassfish 3 + JPA + EclipseLink)](https://stackoverflow.com/questions/14201106/javax-ejb-transactionrolledbacklocalexception-glassfish-3-jpa-eclipselink)

# joomla - 在 joomla 中返回上一页

> ID：12948109
> 
> 赞同：3
> 
> 时间：2012-10-18T06:06:59.083
> 
> 标签：joomla, content-management-system, joomla2.5

我创建了自己的扩展。可以从网站的不同组件和部分访问此扩展程序。

我遇到的问题是可能有许多不同的 URL 链接到这个扩展。我有一个“取消”按钮，但我不知道如何让这个按钮链接到以前的 URL。

想知道 joomla 中是否有像 getPreviousURL 这样的内置功能？找不到任何东西。

编辑：我应该说我仍然希望能够运行我的 cancel() 方法。例如 index.php?option=com_mycomp&task=mycomp.cancel。然后，cancel() 方法将重定向到上一页。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-18T06:15:21.933

如果我理解你的问题是正确的，这肯定会帮助你。Joomla 不支持类似的东西，但 Javascript 支持。

JS

```
<script>
function goBack()
  {
  window.history.back()
  }
</script> 
```

HTML

```
<input type="button" value="Cancel" onclick="goBack()" /> 
```

> back() 方法加载历史列表中的前一个 URL。这与单击后退按钮或 history.go(-1) 相同。

***根据需要更新了答案。***

PHP

如果 JavaScript 不可行，您可以使用 HTTP_REFERER，对其进行清理，然后通过 PHP 将其回显。

```
<?php
  $url = htmlspecialchars($_SERVER['HTTP_REFERER']);
  $this->setRedirect($url);
?> 
```

> 这将不起作用，如果
> 
> *   在浏览器地址栏中输入站点 URL。
> *   通过浏览器维护的书签访问该站点。
> *   作为窗口/选项卡中的第一页访问该站点。
> *   安装了安全软件（防病毒/防火墙/等），从所有请求中剥离引荐来源。
> *   以编程方式（例如 curl）访问该站点，而无需设置引荐来源标头（搜索机器人！）。

如果您遇到任何问题，请告诉我。

更新答案 - Joomla 方法

```
$url = JFactory::getURI();
$request_url = $url->toString(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-04-27T17:08:17.793

我已经这样做了：

1.  安装 Joomla 扩展“jumi”@ url [http://extensions.joomla.org/extensions/extension/core-enhancements/coding-a-scripts-integration/jumi](http://extensions.joomla.org/extensions/extension/core-enhancements/coding-a-scripts-integration/jumi)

2.  创建一个 html 文件（例如：back.html）并编写以下代码：

```
<script>
function goBack()
  {
  window.history.back()
  }
</script>
```

```
<input type="button" value="Back" onclick="goBack()" />
```

3.  将其保存到 Joomla 根目录中。

4.  在 Joomla 中创建一个自定义模块并编写语法：

{jumi [back.html]}

5.  发布此模块

我希望它会奏效。谢谢

# audio-streaming - 如何将来自 getUserMedia() API 的实时音频输入转换为 OSC(Open Sound Control) 数据包？

> ID：12948111
> 
> 赞同：1
> 
> 时间：2012-10-18T06:07:19.190
> 
> 标签：audio-streaming, html5-audio, osc

我正在寻找量化实时音频流并使用 WebSockets 将其发送到另一个客户端。

```
navigator.getUserMedia({audio: true}, function(localMediaStream) {
var audio = document.querySelector('audio');
audio.src = window.URL.createObjectURL(localMediaStream);
// Get OSC every 25ms from localMediaStram?
// Note: onloadedmetadata doesn't fire in Chrome when using it with getUserMedia.
// See crbug.com/110938.
audio.onloadedmetadata = function(e) {
  // Ready to go. Do some stuff.
}; 
```

}, onError);

# javascript - Javascript：删除字符串中的随机字符串

> ID：12948116
> 
> 赞同：0
> 
> 时间：2012-10-18T06:08:00.313
> 
> 标签：javascript, string

我想删除数字和大括号，但拼接会导致从字符串中获取的索引之间的字符串。我只想将其删除，留下：“1234 ..... ABCDEFG”

```
 var mystring = "1234 ..... { 400 } ABCDEFG";

 var s1 = mystring.indexOf("{");
 var s2 = mystring.indexOf("}");        
 mystring = mystring.splice(s1,s2); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T06:11:42.147

您可以使用正则表达式替换来删除大括号和它们之间的字符：

```
var mystring = "1234 ..... { 400 } ABCDEFG";
mystring = mystring.replace(/\{.*?\}/, ""); 
```

工作演示：http: [//jsfiddle.net/jfriend00/sDHc9/](http://jsfiddle.net/jfriend00/sDHc9/)

* * *

如果你不想使用正则表达式，你可以这样做：

```
var mystring = "1234 ..... { 400 } ABCDEFG";
var s1 = mystring.indexOf("{");
var s2 = mystring.indexOf("}");   
mystring = mystring.substr(0, s1) + mystring.substr(s2 + 1);
alert(mystring);​ 
```

工作示例：http: [//jsfiddle.net/jfriend00/RHhe4/](http://jsfiddle.net/jfriend00/RHhe4/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T06:12:05.387

`splice`不是一种`String`方法，所以你的代码应该抛出一个`TypeError`

采用

```
var mystring = "1234 ..... { 400 } ABCDEFG";
mystring = mystring.replace(/{.+?}/,''); 
```

或者，如果你真的想使用`splice`

```
var mystring = "1234 ..... { 400 } ABCDEFG";
var s1 = mystring.indexOf("{");
var s2 = mystring.indexOf("}");
mystring = [].splice.call(mystring,0,s1)
           .concat([].splice.call(mystring,s2+1))
           .join(''); 
```

# jquery - JQuery 从下拉列表选择中打开 div 标签

> ID：12948117
> 
> 赞同：1
> 
> 时间：2012-10-18T06:08:00.420
> 
> 标签：jquery, asp.net, function, html, combobox

我已经在这个站点和其他站点之间搜索了高低（7 多个小时）以寻找解决方案，但没有任何效果，所以就这样吧。

我有一个组合框，根据用户的选择，我需要一个特定的 div 来显示

```
<div class="ui-widget">
        <label>Select Employer: </label>
            <select id="combobox" name="combobox">
                <option value="">Select one...</option>
                <option id="WallyS" value="WallyS"> Walmart 144 Martion Way Marion, TN 55555</option>
                <option id="AppliS" value="AppliS">Appliance Mart Wax Goofy Drive Marion, TN 55555</option>
                <option id="BBBS" value="BBBS">Bed Bath and Beyond Presedential Parkway Marion, TN 55555</option>
            </select>
    </div>

<div class="WalLDP" style="display:none">content</div>
<div class="AppliDP" style="display:none">content</div>
<div class="BBBDP" style="display:none">content</div> 
```

WallDP Div需要显示何时选择选项Wallys。AppliDP 需要在选择 AppliS 时显示。BBBBDP 需要在选择 BBBS 时显示。提前感谢任何人

*编辑我感谢迄今为止的所有帮助，但每次我输入一个对组合框执行任何操作的函数时，隐藏我为它提供的函数就会停止工作。这是组合框的显示/隐藏代码。我知道它可以缩短，但是当我尝试时它似乎搞砸了。显示的组合框也需要获得焦点，再次感谢您的帮助。

*编辑似乎每次我输入 .change 函数或除从组合框中检索值的函数之外的任何内容时，它都会使组合框在选择 EPDB 单选按钮时不会出现。

```
$(function () {
        $("[id=EPDB]").each(function (i) {
            $(this).change(function () {
                $(".ui-widget").show("fast");
            });
        });
    });

    $(function () {
        $("[id=PFB]").each(function (i) {
            $(this).change(function () {
                $(".ui-widget").hide("fast");
            });
        });
    });

    $(function () {
        $("[id=VFB]").each(function (i) {
            $(this).change(function () {
                $("ui-widget").hide("fast");
            });
        });
    }); 
```

由于选择器是一个实际的自动完成组合框，我还将添加代码，因为在更多地使用它之后，我很确定我的问题的根源可能来自于此。

```
(function ($) {
        $.widget("ui.combobox", {
            _create: function () {
                var input,
                that = this,
                select = this.element.hide(),
                selected = select.children(":selected"),
                value = selected.val() ? selected.text() : "",
                wrapper = this.wrapper = $("<span>")
                    .addClass("ui-combobox")
                    .insertAfter(select);

                function removeIfInvalid(element) {
                    var value = $(element).val(),
                    matcher = new RegExp("^" + $.ui.autocomplete.escapeRegex(value) + "$", "i"),
                    valid = false;
                    select.children("option").each(function () {
                        if ($(this).text().match(matcher)) {
                            this.selected = valid = true;
                            return false;
                        }
                    });
                    if (!valid) {
                        // remove invalid value, as it didn't match anything
                        $(element)
                        .val("")
                        .attr("title", value + " didn't match any item")
                        .tooltip("open");
                        select.val("");
                        setTimeout(function () {
                            input.tooltip("close").attr("title", "");
                        }, 2500);
                        input.data("autocomplete").term = "";
                        return false;
                    }
                }

                input = $("<input>")
                .appendTo(wrapper)
                .val(value)
                .attr("title", "")
                .addClass("ui-state-default ui-combobox-input")
                .autocomplete({
                    delay: 0,
                    minLength: 0,
                    source: function (request, response) {
                        var matcher = new RegExp($.ui.autocomplete.escapeRegex(request.term), "i");
                        response(select.children("option").map(function () {
                            var text = $(this).text();
                            if (this.value && (!request.term || matcher.test(text)))
                                return {
                                    label: text.replace(
                                        new RegExp(
                                            "(?![^&;]+;)(?!<[^<>]*)(" +
                                            $.ui.autocomplete.escapeRegex(request.term) +
                                            ")(?![^<>]*>)(?![^&;]+;)", "gi"
                                        ), "<strong>$1</strong>"),
                                    value: text,
                                    option: this
                                };
                        }));
                    },
                    select: function (event, ui) {
                        ui.item.option.selected = true;
                        that._trigger("selected", event, {
                            item: ui.item.option
                        });
                    },
                    change: function (event, ui) {
                        if (!ui.item)
                            return removeIfInvalid(this);
                    }
                })
                .addClass("ui-widget ui-widget-content ui-corner-left");

                input.data("autocomplete")._renderItem = function (ul, item) {
                    return $("<li>")
                    .data("item.autocomplete", item)
                    .append("<a>" + item.label + "</a>")
                    .appendTo(ul);
                };

                $("<a>")
                .attr("tabIndex", -1)
                .attr("title", "Show All Items")
                .tooltip()
                .appendTo(wrapper)
                .button({
                    icons: {
                        primary: "ui-icon-triangle-1-s"
                    },
                    text: false
                })
                .removeClass("ui-corner-all")
                .addClass("ui-corner-right ui-combobox-toggle")
                .click(function () {
                    // close if already visible
                    if (input.autocomplete("widget").is(":visible")) {
                        input.autocomplete("close");
                        removeIfInvalid(input);
                        return;
                    }

                    // work around a bug (likely same cause as #5265)
                    $(this).blur();

                    // pass empty string as value to search for, displaying all results
                    input.autocomplete("search", "");
                    input.focus();
                });

                input
                    .tooltip({
                        position: {
                            of: this.button
                        },
                        tooltipClass: "ui-state-highlight"
                    });
            },

            destroy: function () {
                this.wrapper.remove();
                this.element.show();
                $.Widget.prototype.destroy.call(this);
            }
        });
    })(jQuery);

    $(function () {
        $("#combobox").combobox();
        $("#toggle").click(function () {
            $("#combobox").toggle();
            });
    }); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T06:29:20.000

根据您需要代码的灵活性，我创建了这个版本，它向内容区域添加了一个类，并更改了选择选项的值。还发现了一个我纠正的不匹配类（walLDP 到 wallyDP）。

HTML：

```
<div class="ui-widget">
        <label>Select Employer: </label>
        <select id="combobox" name="combobox">
                <option value="">Select one...</option>
                <option id="WallyS" value="Wally"> Walmart 144 Martion Way Marion, TN 55555</option>
                <option id="AppliS" value="Appli">Appliance Mart Wax Goofy Drive Marion, TN 55555</option>
                <option id="BBBS" value="BBB">Bed Bath and Beyond Presedential Parkway Marion, TN 55555</option>
        </select>
</div> 
```

jQuery：

```
$('#combobox').change(function(){
    var dropDownId = $(this).val();
    var contentBox = $('.' + dropDownId + 'DP');

    if($('.comboboxDisplay').is(':visible')){
        $('.comboboxDisplay').hide();
    };

    contentBox.show();
});​ 
```

演示：http: [//jsfiddle.net/yMNdD/1/](http://jsfiddle.net/yMNdD/1/)

根据您想要的功能，您可以将方法更改为fadeOut()、fadeIn()、slideUp()、slideDown() 等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T06:17:05.400

这是工作示例：

[http://jsfiddle.net/wYsdN/2/](http://jsfiddle.net/wYsdN/2/)

我为每个 div 添加了一个类，如果不是问题，则称为`hideable`. 基本上，当在组合框上触发更改事件时，我会隐藏所有 div（我不知道最近显示了哪一个，尽管它是可行的），然后根据您的逻辑显示一个

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-18T06:23:55.200

您可以`onChange`在组合框上使用事件

```
$('#combobox').change(function() {
    if ($(this).val() == 'WallyS') {
        $('.WalLDP').attr('style', 'display:visible');
        $('.AppliDP').attr('style', 'display:none');
        $('.BBBDP').attr('style', 'display:none');
    } else if ($(this).val() == 'AppliS') {
        $('.WalLDP').attr('style', 'display:none');
        $('.AppliDP').attr('style', 'display:visible');
        $('.BBBDP').attr('style', 'display:none');
    } else if ($(this).val() == 'BBBS') {
        $('.WalLDP').attr('style', 'display:none');
        $('.AppliDP').attr('style', 'display:none');
        $('.BBBDP').attr('style', 'display:visible');
    }else{
        $('.WalLDP').attr('style', 'display:none');
        $('.AppliDP').attr('style', 'display:none');
        $('.BBBDP').attr('style', 'display:none');
    }
});​ 
```

[**工作演示**](http://jsfiddle.net/vdZWe/)

# umbraco - umbraco 中的多语言支持

> ID：12948119
> 
> 赞同：0
> 
> 时间：2012-10-18T06:08:09.570
> 
> 标签：umbraco, umbraco5, umbraco-blog

我确实在 Umbraco 创建了一个网站。该网站是**英文**的。

我的英文网站仅包含 HTML 编码和 .net 用户控件。

现在我确实添加了另一种语言**poland**并管理了相应的主机名。

如何在不创建**重复模板和数据类型的情况下使用相同的 HTML 页面和 .net 用户控件进行****润色**

 *** * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-06T14:49:41.147

我还要补充一点，因为在大多数情况下，您要共享所有语言变体的模板和宏，您需要根据适当的文化设置来翻译和格式化其中的文本（例如，如果您有一个新闻列表显示最新的 5 个新闻项目、它们的日期和作者，您会希望“作者”一词以正确的语言显示）。

这就是字典项目的来源。如果您订阅了 Umbraco TV，[此视频](http://umbraco.com/help-and-support/video-tutorials/umbraco-fundamentals/running-multiple-sites/templates,-dictionary-items-and-recursive-values)应提供更多信息。如果没有，[这里](http://our.umbraco.org/wiki/umbraco-help/settings/editdictionaryitem)是一个纯文本的解释，让你开始。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T14:05:32.407

我们之前有同样的英文网站，然后我们创建了新的以下结构。通过做一点点改变。

```
Root
--- Website
----- Home
----- Products
----- Details.. 
```

然后我们做了一点点改变它的节点结构。

```
Root
--- English
------ Home
------ Products
------ Details..

--- Polish
------ Home
------ Products
------ Details.. 
```

因此，`XSLT`如果`Razor`您有更多问题，请务必让我知道。**

# vba - 如何以连续形式获取记录号？

> ID：12948120
> 
> 赞同：0
> 
> 时间：2012-10-18T06:08:09.697
> 
> 标签：vba, ms-access, dao, ms-access-2010, records

我正在 MS Access 中创建一个表单。它的“细节”部分设置为“连续形式”。我正在根据某些条件过滤结果，因此当表单运行时，它只显示过滤后的结果。

我还在同一表单的详细信息部分中包含了一个命令按钮。

当我单击该命令按钮时，该按钮显示在表单中过滤结果的每条记录前面，我想显示一个消息框。消息框应显示该特定记录的 ID（自动编号）。

我正在尝试这样的事情：

```
Private Sub cmdSelect_Click()

    Dim MyDB As DAO.Database
    Dim MyRec As DAO.Recordset

    Set MyDB = CurrentDb
    Set MyRec = MyDB.Recordsets

    MsgBox MyRec![Artifact ID]

    'MsgBox CurrentRecord![Artifact ID]

    Set MyDB = Nothing
    Set MyRec = Nothing

End Sub 
```

但是，它给出了一个错误。

请帮我。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T11:36:11.830

连续表单已**绑定**，因此无需引用任何其他记录集，因为它已经存在，只要**Artifact ID**是表单记录源的一部分，您就应该能够将其用于单击事件：

```
MsgBox [Artifact ID] 
```

或者如果需要：

```
Msgbox Me.[Artifact ID] 
```

# objective-c - 使用斜体字符串作为 NSMenuItem 的标题

> ID：12948121
> 
> 赞同：0
> 
> 时间：2012-10-18T06:08:17.497
> 
> 标签：objective-c, cocoa

有什么办法可以用*斜体*显示**NSMenuItem的****标题**

 **** * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-18T06:27:20.317

创建一个`NSAttributedString`with`NSItalicFontMask`作为字体特征应用。将此属性字符串设置[**`attributedTitle`**](http://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Classes/NSMenuItem_Class/Reference/Reference.html#//apple_ref/occ/instm/NSMenuItem/attributedTitle)为`NSMenuItem`.***

# java - Servlet 在加载/初始化时获取数据库记录

> ID：12948125
> 
> 赞同：0
> 
> 时间：2012-10-18T06:08:46.323
> 
> 标签：java, jsp, servlets, jstl

好吧，目前我正在使用带有休眠集成的 jsp、servlet、jstl 做一个简单的应用程序，我的 servlet 方法存在问题，因为 doPost 和 doGet 需要操作（单击链接/提交按钮）才能发生。我的问题是如何在不对我的 servlet 执行任何操作的情况下获取数据库记录 onload。我想要做的是，一旦管理员（用户）单击 userlist.jsp 页面，组合框将由来自数据库的记录填充，onload。

到目前为止，这就是我所拥有的：我的 Register.jsp 页面

我已经实现并调用了 jstl，因此我可以轻松地遍历数据库中的 wole 列表（记录）。

```
<select name="role" >
<c:forEach var="load" items="${load}">
    <option><c:out value="${load}"></c:out></option>
</c:forEach>
</select> 
```

和我的小服务程序：

```
protected void doPost(HttpServletRequest request, HttpServletResponse response)throws ServletException, IOException{
loadRole(request, response);
} 
```

这是我的方法 loadRole 我只是调用该方法只是为了将逻辑与请求和响应对象分开。

```
private void loadRole(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException{
    HttpSession roleSession = request.getSession();
    Session session = factory.openSession();
    session.beginTransaction();

        Query query = session.createQuery("SELECT cd FROM Role");
        List load = query.list();
        roleSession.setAttribute("load", load);

        request.getRequestDispatcher("Forms/Register.jsp").forward(request, response);

    session.getTransaction().commit();
    session.close();

} 
```

这段代码正在工作，但是它需要在获取数据库记录之前首先执行 doPost/doGet 方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:13:19.003

您可以使用`init()`方法进行初始化。参考[这里](http://docs.oracle.com/javaee/5/tutorial/doc/bnafu.html)。

**下一个**

*如何使用 init 方法将结果传递给会话？*

使用`service()`方法。您可以检索`HttpRequest`和`HttpResponse`。

您必须参考 Servlet 生命周期。[这里](http://www.roseindia.net/servlets/LifeCycleOfServlet.shtml)

# python - 从具有给定结构的文件中读取二进制数据

> ID：12948133
> 
> 赞同：1
> 
> 时间：2012-10-18T06:09:25.027
> 
> 标签：python, file, python-3.x, binary

我被困在从一个文件（* .ADB）读取二进制数据的问题上，该文件是地震台的输出。这里的主要想法是从 *.ADB 读取数据并将其保存为解压缩的结构化 ASCII 文件，该文件将由 DSP 链中的下一个脚本读取，或使用任何表格处理器或 CAD 软件进行查看。

我已经向它的创建者请求了一个文件结构，它如下所示：

1.  首先有一个包含不同技术和元信息的标题：

    ```
    PARAMETER NAME       | OFFSET (WORDS) | PARAMETER SIZE

    station name                0                 36

    station #                   18                 2

    profile #                   19                 2

    observation point #         20                 2

    shotpoint #                 21                 2

    ...etc

    sample format               35                 2

    ...etc 
    ```

2.  那么据说如果样本格式为“0”，那么数据结构如下所示：

    ```
    15 14 13 12 11 10 9 8 7 6 5 4 3 2 1 0

    15 – sign, 0=1 (positive number), 1=-1 (negative number)
    14-13 – channel number
    12-10 – order
    9-0 – fixed point part 
    ```

3.  样本存储在一个特殊的结构中：

    ```
    CHANNEL NUMBER | PARAMETER | PARAMETER SIZE (WORDS)
           1        maxAmp/Chn1        4
                    first sample       2
                    ...etc
                    last sample        2
           N        ...etc 
    ```

我知道活动地震台站通道的数量是 3（对于地震信号的 Z、X 和 Y 分量），但我不知道实际的样本格式，因为我还没有阅读标题。

所以要做的第一件事就是阅读那个标题，我应该使用什么，'struct'还是'bitstring'？我正在运行“小端”Windows 机器。

好的，让我透露一些实际代码（我可以阅读标题）：

```
# importing all the needed modules
import struct
# open binary file in a read mode
file = open('C:/01.adb', 'rb')
# creating array of header data block sizes
readsize = (36,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,4,2,2,2,2,2,10,2,4,4,4,4,4,2,2,2,2,2,2,2,2,2,126)
print('Readsize array length: '+str(len(readsize)))
# guessing the header structure with python data types, creating structure
formatstring = '<36s H H H H H H H H H H H H H H H I H H H H H 10s H f f f 4s f H H H H H H H H H 126s'
adbstruct = struct.Struct(formatstring)
# calculating guessed little-endian fmt (formatstring) size
print('Calculated structure size: '+str(struct.calcsize(formatstring)))
# calculating header block size based on 'readsize' array (usually 256 bytes for *.ADB)
packed_size = 0
for i in range(len(readsize)): packed_size = packed_size+readsize[i]
print('Calculated header size: '+str(packed_size)+'\n')
# reading packed data of 'packed_size' length
packed_data = file.read(packed_size)
file.close()
# printing header represented in data types defined by formatstring
print(struct.unpack(formatstring,packed_data)) 
```

上面的代码可以完成它的工作（我猜，因为我得到的几个参数都有预期值），这是脚本输出：

```
Readsize array length: 39
Calculated structure size: 256
Calculated header size: 256

(b'LogiS (C)2000, DELTA Software, V2.6 ', 143, 1, 1, 1, 12, 5, 29, 8, 0, 2, 800, 35, 1, 1, 3, 513024, 2, 1, 1, 33604, 65519, b'\x12U\x0e\x00\x86\x0b\x12\x00\xd7\xed', 1, 1.0, 0.0, 0.0, b'\x00\x00\x00\x00', 0.0, 0, 0, 0, 0, 0, 0, 0, 0, 0, b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00') 
```

我接下来要做的是读取数据块，我想我是用总样本数除以通道数 513024/3=171008。这意味着我将不得不为每个通道读取 171008 个大小为 2 的块和 1 个大小为 4 的块。

示例格式字节说它是“2”，这并不是我所期望的，但没关系。读取 2 字节样本后，如何进行逐位处理？

据说样本格式'2'代表32位单词，带有用于存储负数的互补代码，我想可能有一些不错的方法可以在python中读取这些包？

# powerbuilder - PowerBuilder 中的网格数据窗口问题

> ID：12948135
> 
> 赞同：1
> 
> 时间：2012-10-18T06:09:28.237
> 
> 标签：powerbuilder, datawindow

1.  我有一个数据窗口来显示来自 DB 的数据，以及在 DW`clicked`事件中的以下代码来显示来自 DB 的最新数据。

    ```
    if row > 0 then
        ReselectRow(row)
    end if 
    ```

    我将数据窗口样式更改为网格样式。现在，如果我单击 DW 中的一行，它会显示错误`ora-00936 missing expression`错误。

    任何人都可以早些时候遇到这个问题，请帮助我如何解决这个问题？

2.  在使用“黑色”颜色对其选择的整列进行排序后，在网格数据窗口中对数据进行排序。

    我想将这种黑色更改为任何其他体面的颜色。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-24T16:13:26.867

That error "ora-00936 missing expression" is from oracle, check your sql code.

And, no, there is not way to change that. But you can do this:

uncheck mouse selection (this property makes the selected column go black), then in the event click search for the field of the clicked header, finally use "Modify" function to change the color of that field (you can select any color you want!).

Remember to reset all the fields to their original colors.

# perl - Perl中数字的数字出现

> ID：12948136
> 
> 赞同：1
> 
> 时间：2012-10-18T06:09:30.960
> 
> 标签：perl

问题是：Perl 脚本计算每个数字在给定输入中出现的次数。打印每个数字的总数和所有总数的总和。

脚本是：

```
#!/usr/bin/perl

my $str = '654768687698579870333';

if ($str =~ /(.*)[^a]+/) {

    my $substr = $1;
    my %counts;

    $counts{$_}++ for $substr =~ /./g;

    print "The count each digit appears is: \n";
    print "'$_' - $counts{$_}\n" foreach sort keys %counts;
    my $sum = 0;
    $sum += $counts{$_} foreach keys %counts;
    print "The sum of all the totals is $sum\n";    
} 
```

我得到的输出是：

```
The count each digit appears is:
'0' - 1
'3' - 2
'4' - 1
'5' - 2
'6' - 4
'7' - 4
'8' - 4
'9' - 2
The sum of all the totals is 20 
```

但我应该得到的输出是：

```
The count each digit appears is:
'0' - 1
'3' - 3
'4' - 1
'5' - 2
'6' - 4
'7' - 4
'8' - 4
'9' - 2
The sum of all the totals is 21 
```

我哪里错了？请帮忙。提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T06:20:47.910

您无需检查整个字符串 ( `$str`)，而是检查除最后​​一个字符以外的所有字符 ( `$substr`)。

```
if ($str =~ /(.*)[^a]+/) {
    my $substr = $1;

    my %counts;
    $counts{$_}++ for $substr =~ /./g; 
```

应该

```
my %counts;
++$counts{$_} for $str =~ /[0-9]/g; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-18T07:52:29.993

```
#! /usr/bin/env perl
use strict;
use warnings;
use Data::Dumper;

my $numbers = "654768687698579870333";
$numbers =~ s{(\d)}{$1,}xmsg;

my %counts;
map {$counts{$_}++} split (/,/, $numbers);

print Dumper(\%counts); 
```

**输出**

```
$VAR1 = {
      '6' => 4,
      '3' => 3,
      '7' => 4,
      '9' => 2,
      '8' => 4,
      '4' => 1,
      '0' => 1,
      '5' => 2
    }; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-18T06:41:11.327

**解决方案**

```
#!/usr/bin/perl                                             

use strict;

my $str = '654768687698579870333';
my (%counts, $sum);

while ($str =~ m/(\d)/g) {

    $counts{$1}++;
    $sum++;
}

print "The count each digit appears is: \n";
print "'$_' - $counts{$_}\n" for sort keys %counts;
print "The sum of all the totals is $sum\n"; 
```

**输出**

```
The count each digit appears is: 
'0' - 1
'3' - 3
'4' - 1
'5' - 2
'6' - 4
'7' - 4
'8' - 4
'9' - 2
The sum of all the totals is 21 
```

# lines - 使用 Directx9 绘制线条列表时的强度波动

> ID：12948138
> 
> 赞同：1
> 
> 时间：2012-10-18T06:09:42.813
> 
> 标签：lines, directx-9

我在玩 DX9，只是为了好玩，我遇到了一些问题。我正在绘制一大堆垂直线，`0xffffffff`根据分配和运行时的调试器，所有这些都是白色（）。但是，在绘制时，线条会在实际绘制时从亮白色循环到中等灰色。我通过拖动窗口并查看循环模式是否发生变化来检查我的屏幕是否有问题，但事实并非如此。

为什么会这样？我该如何解决？

# c++ - 从复合键创建 C++ 映射

> ID：12948140
> 
> 赞同：11
> 
> 时间：2012-10-18T06:09:45.857
> 
> 标签：c++, map

我想创建一个包含复合键的地图。例如，我有学生的姓名和他/她正在学习的学期。现在我想创建一个地图，让卷号和学期一起作为地图的关键。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-18T06:20:29.517

由于您只关心卷号和学期，因此我不必为键定义自己的类并且必须定义自己的比较运算符，而是使用 std::pair。

```
#include <utility>
#include <map>

// This maps an std::pair of (roll number, semester) to a StudentRecord.
std::map<std::pair<int, int>, StudentRecord> studentMap;

studentMap.insert(std::pair<std::pair<int, int>, StudentRecord>(std::make_pair(100, 100), StudentRecord()); 
```

如果您使用 int 以外的其他东西作为卷号和学期，您可以轻松地使用这对中的那些。请记住，如果您为这些对象使用自定义结构，它们将需要实现相等和比较运算符，在这种情况下，您将失去使用一对而不是直接使用其他结构的好处。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-10-18T06:13:41.207

**编辑：** 片刻的疑问让我想知道 a 是否`operator==()`也必须由键类型提供，因为显然在 a 中查找值时`map`，必须在引擎盖下使用相等性测试。但是 2003 C++ 标准中的 23.1.2/3 表示没有必要：两个关键对象之间的相等性`a`，并且`b`需要通过检查两者`a < b`和是否`b < a`为假来确定。:)

```
#include <map>

struct key {
    int rollNo;
    int semester;
    string whateverElse;

    // Provide a "<" operator that orders keys.
    // The way it orders them doesn't matter, all that matters is that
    // it orders them consistently.
    bool operator<(key const& other) const {
        if (rollNo < other.rollNo) return true; else
        if (rollNo == other.rollNo) {
            if (semester < other.semester) return true; else
            if (semester == other.semester) {
                if (whateverElse < other.whateverElse) return true;
            }
        }

        return false;
    }
};

std::map<key, whateverValueTypeYouWant> dictionary; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-18T06:17:59.300

std::map 键需要实现 operator< 用于键搜索和插入。例子：

```
#include <map>
struct Student
{
  Student(int roll_no, int semestre)
  : roll_no(roll_no), semestre(semestre)
  {}
  int roll_no;
  int semestre;
  bool operator< (Student const &s) const
  {
    return semestre* 100000+ roll_no< s.semestre* 100000+ s.roll_no;
  }
};

#include <iostream>
#include <ostream>

int main()
{
  std::map<Student, int> m;
  m[Student(1, 1)]= 42;
  m[Student(1, 2)]= 43;
  std::cout<< m[Student(1, 1)];
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-18T06:19:55.837

您可以定义一个包含 roll_no 和学期成员的结构类型。

```
 struct stu_key
        {   
            int roll_no;
            int semester;

            bool operator <(const stu_key &sk) const
            {   
               //compare roll_no and semester 
            }   
        };

        std::map<stu_key , value_type> stu_map; 
```

# javascript - javascript self 和参数用法

> ID：12948146
> 
> 赞同：0
> 
> 时间：2012-10-18T06:10:19.957
> 
> 标签：javascript, node.js

我是 JavaScript 新手。我在这里有一个简单的问题。

我看到下面的代码片段：

```
var self = this;
.....
self.push = function () {
    var args = [].concat.apply([], arguments);
    args.forEach(self.write);
    return self;
};

self.write is another function. 
```

q1：为什么设置self = this。

q2：为什么我们不能像 arguments.forEach(self.write) 那样简单地编写 push 函数；

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T06:14:56.993

> q1：为什么设置self = this。

`this`当内部函数想要在闭包中保留对外部函数的引用时使用它。的值`this`由函数的调用方式设置，因此内部函数有自己`this`的“阴影”，可以“遮蔽”外部函数的`this`.

> q2：为什么我们不能像 arguments.forEach(self.write) 那样简单地编写 push 函数；

因为[*arguments*对象](http://ecma-international.org/ecma-262/5.1/#sec-10.6)不是数组，所以没有`forEach`方法。该行：

```
var args = [].concat.apply([], arguments); 
```

*使用arguments*对象中的成员创建一个数组。它还可以这样做：

```
[].forEach.call(arguments, ...) 
```

或（许多人喜欢）：

```
Array.prototype.forEach.call(arguments, ...); 
```

### 编辑

`this`Jack 提出的一个观点是，在函数中似乎`self`无论如何都是。但是`this`是由调用设置的，而不是由函数的分配或创建方式（忽略[ES5 bind](http://ecma-international.org/ecma-262/5.1/#sec-15.3.4.5)）设置，因此在看到调用之前你无法知道函数`this`将是什么。你还没有发布，所以我们不知道。例如

```
self.push = function () {
    ...
} 
```

在这里，如果函数被调用，`self.push()`那么它`this`被设置为`self`反正。但是，如果将其`this`设置为其他内容，例如

```
var pushAlias = self.push;
...
pushAlias(); 
```

这里`self.push`是在没有`this`设置的情况下调用的，因此它将默认为全局/窗口对象（或在严格模式下未定义）。在函数内使用`self`意味着这无关紧要，函数`this`在分配给`push`方法时仍然具有对外部的引用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T06:15:09.423

Q1 在 Javascript 中，“this”在不同的时间可以是不同的东西，通过将 self 设为“this”，这意味着该分配时的“this”将始终是使用的 this。

Q2 参数看起来有点像一个数组，但它不是，所以首先它创建一个数组，以便可以在其上调用数组函数。

# c++ - 使用 Qt 框架为指定标签解析 XML 文件的最快方法

> ID：12948152
> 
> 赞同：0
> 
> 时间：2012-10-18T06:10:50.333
> 
> 标签：c++, performance, qt, xml-parsing

据我所知，有 4 种使用 C++ 和 Qt 解析 XML 文件的方法。

```
QDom
QSax
QXMLStreamReader
QXMLQuery 
```

我在我的文件中搜索具有特定属性的节点，如果找到它，我将中止解析，将文件名保存到列表并解析下一个文件。我使用 QDom 实现了这一点，但是因为我搜索了多达 10k 个文件，每个文件大约 400 行。解析它们需要一些时间。

我的问题是你们中是否有人知道这种不同方法的性能？或者，如果您有任何提示可以提高此类程序的性能？

我很感激任何信息！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T08:33:08.630

我认为，如果您没有从 xml 文件中获取树结构，请使用 QXMLStremReader。

> QXmlStreamReader 是在 Qt 中读取 XML 的最快和最简单的方法。因为解析器以增量方式工作，所以它对于查找 XML 文档中所有出现的给定标记、读取可能无法放入内存的非常大的文件以及填充自定义数据结构以反映 XML 文档的内容特别有用。

# php - 上传图片时如何在ckeditor中修复图片宽度？

> ID：12948154
> 
> 赞同：4
> 
> 时间：2012-10-18T06:11:08.320
> 
> 标签：php, ckeditor

我在我的网站上使用 ckeditor。在将图像从本地系统上传到服务器时，我想修复上传图像的宽度和高度。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-12T08:52:39.710

至少有两种方法可以解决它：

**1.**创建自定义上传脚本，它将“上传”您的图像并修复 w&h 参数。[带有示例的文档。](https://stackoverflow.com/questions/6339664/ckeditor-property-to-resize-a-image)例如一些代码：

在 HTML 中：

```
<pre>
    CKEDITOR.replace( 'editor1',
        {
             filebrowserImageUploadUrl: '/uploader/upload.php'
        });
</pre> 
```

在 /uploader/upload.php ：

```
<pre>
function resizeImage($file, $filename, $newwidth = 800, $newheight = 600)
{       
    $type = substr($file,strrpos($file,".")+1);

    switch($type) 
    {
        case 'jpg':
            $src = imagecreatefromjpeg($file);
            break;
        case 'jpeg':
            $src = imagecreatefromjpeg($file);
            break;
        case 'gif':
            $src = imagecreatefromgif($file);
            break;
        case 'png':
            $src = imagecreatefrompng($file);
            break;
        default:
            $src = imagecreatefromjpeg($file);
            break;
    }

    list($width,$height)=getimagesize($file);
    $tmp=imagecreatetruecolor($newwidth,$newheight);
    imagecopyresampled($tmp,$src,0,0,0,0,$newwidth,$newheight,$width,$height);

    switch($type) {
        case 'jpg':
            imagejpeg($tmp,$filename,100);
            break;
        case 'jpeg':
            imagejpeg($tmp,$filename,100);
            break;
        case 'gif':
            imagegif($tmp,$filename,100);
            break;
        case 'png':
            imagepng($tmp,$filename,9);
            break;
        case 'wbm':
            imagewbmp($tmp,$filename,100);
            break;
        default:
            imagejpeg($tmp,$filename,100);
            break;
    }
    imagedestroy($src);
    imagedestroy($tmp);
    return true;
}

$img = resizeImage($_FILES['file']['tmp_name'], $_FILES['file']['name'], $newwidth = 800, $newheight = 600);
</pre> 
```

ps有用于搜索查询“php image resize”等的脚本音调。

**2.**使用一些CKeditor模式。这是解决方案：[另一个 stackoverflow question](https://stackoverflow.com/questions/6339664/ckeditor-property-to-resize-a-image)。

# asp.net - ASP.NET MVC 如何禁用自动缓存选项？

> ID：12948156
> 
> 赞同：75
> 
> 时间：2012-10-18T06:11:10.633
> 
> 标签：asp.net, c#-4.0, caching, asp.net-mvc-4

如何从 asp.Net mvc 应用程序禁用自动浏览器缓存？

因为我在缓存所有链接时遇到了问题。但有时它会自动重定向到默认索引页面，该页面将其存储在缓存中，然后在我一直点击该链接时，它会将我重定向到默认索引页面。

那么有人知道如何从 ASP.NET MVC 4 手动禁用缓存选项吗？

* * *

## 回答 #1

> 赞同：141
> 
> 时间：2012-10-18T06:22:41.433

您可以使用`OutputCacheAttribute`来控制服务器和/或浏览器对特定操作或控制器中所有操作的缓存。

禁用控制器中的所有操作

```
[OutputCacheAttribute(VaryByParam = "*", Duration = 0, NoStore = true)] // will be applied to all actions in MyController, unless those actions override with their own decoration
public class MyController : Controller
{
  // ... 
} 
```

禁用特定操作：

```
public class MyController : Controller
{
    [OutputCacheAttribute(VaryByParam = "*", Duration = 0, NoStore = true)] // will disable caching for Index only
    public ActionResult Index()
    {
       return View();
    }
} 
```

如果您想将默认缓存策略应用于所有控制器中的所有操作，您可以通过编辑并查找方法来添加[全局操作过滤器](http://msdn.microsoft.com/en-us/vs2010trainingcourse_aspnetmvcglobalanddynamicactionfilters.aspx)。此方法添加在默认的 MVC 应用程序项目模板中。`global.asax.cs``RegisterGlobalFilters`

```
public static void RegisterGlobalFilters(GlobalFilterCollection filters)
{
    filters.Add(new OutputCacheAttribute
                    {
                        VaryByParam = "*",
                        Duration = 0,
                        NoStore = true,
                    });
    // the rest of your global filters here
} 
```

这将导致它将上述`OutputCacheAttribute`指定应用于每个操作，这将禁用服务器和浏览器缓存。您仍然应该能够通过添加`OutputCacheAttribute`特定操作和控制器来覆盖此无缓存。

* * *

## 回答 #2

> 赞同：28
> 
> 时间：2012-10-18T21:35:46.473

HackedByChinese 没有抓住重点。他把服务器缓存误认为是客户端缓存。OutputCacheAttribute 控制服务器缓存（IIS http.sys 缓存），而不是浏览器（客户端）缓存。

我给你我代码库的一小部分。明智地使用它。

```
[AttributeUsage(AttributeTargets.Method | AttributeTargets.Class)]
public sealed class NoCacheAttribute : FilterAttribute, IResultFilter
{
    public void OnResultExecuting(ResultExecutingContext filterContext)
    {
    }

    public void OnResultExecuted(ResultExecutedContext filterContext)
    {
        var cache = filterContext.HttpContext.Response.Cache;
        cache.SetCacheability(HttpCacheability.NoCache);
        cache.SetRevalidation(HttpCacheRevalidation.ProxyCaches);
        cache.SetExpires(DateTime.Now.AddYears(-5));
        cache.AppendCacheExtension("private");
        cache.AppendCacheExtension("no-cache=Set-Cookie");
        cache.SetProxyMaxAge(TimeSpan.Zero);
    }
} 
```

用法：

```
/// will be applied to all actions in MyController
[NoCache]
public class MyController : Controller
{
    // ... 
} 
```

明智地使用它，因为它确实禁用了所有客户端缓存。唯一未禁用的缓存是“后退按钮”浏览器缓存。但似乎真的没有办法绕过它。也许只能通过使用 javascript 来检测它并强制页面或页面区域刷新。

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2014-09-02T11:20:34.347

我们可以在 Web.config 文件中设置缓存配置文件，而不是在页面中单独设置缓存值，以避免冗余代码。我们可以使用 OutputCache 属性的 CacheProfile 属性来引用配置文件。此缓存配置文件将应用于所有页面，除非页面/方法覆盖这些设置。

```
<system.web>
  <caching>
    <outputCacheSettings>
      <outputCacheProfiles>
        <add name="CacheProfile" duration="60" varyByParam="*" />
      </outputCacheProfiles>
    </outputCacheSettings>
  </caching>
</system.web> 
```

如果您想禁用特定操作或控制器的缓存，您可以通过装饰特定操作方法来覆盖配置缓存设置，如下所示：

```
[OutputCache(NoStore = true, Duration = 0, VaryByParam = "*")]
public ActionResult NoCachingRequired()
{
    return PartialView("abcd");
} 
```

希望这很清楚并且对您有用。

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2014-09-01T21:09:38.187

如果要防止浏览器缓存，可以使用[ShareFunction 中的此代码](http://www.sharefunction.com/Code/MVC/234)

```
public override void OnResultExecuting(ResultExecutingContext filterContext)
{
        filterContext.HttpContext.Response.Cache.SetExpires(DateTime.UtcNow.AddDays(-1));
        filterContext.HttpContext.Response.Cache.SetValidUntilExpires(false);
        filterContext.HttpContext.Response.Cache.SetRevalidation(HttpCacheRevalidation.AllCaches);
        filterContext.HttpContext.Response.Cache.SetCacheability(HttpCacheability.NoCache);
        filterContext.HttpContext.Response.Cache.SetNoStore();

        base.OnResultExecuting(filterContext);
} 
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2015-12-07T10:47:17.100

对于页面解决方案，请在布局页面中设置：

```
<meta http-equiv="Cache-Control" content="no-cache">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0"> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-04-26T08:57:58.440

为了让所有人都能看到我的答案，我将我的评论移至回答这个问题。

```
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0"> 
```

这适用于所有浏览器（IE、Firefox 和 Chrome）。很高兴听到我的回答对你有用@Joseph Katzman

# vxworks - 如何在 VxWorks Tornado Shell 上运行脚本？

> ID：12948158
> 
> 赞同：1
> 
> 时间：2012-10-18T06:11:18.173
> 
> 标签：vxworks

我正在尝试在 VxWorks Shell 上运行一个脚本，它将加载一个模块。

我使用 Perl 脚本远程登录系统，登录并访问 shell。

我能够运行基本命令，如`'i'`、等。`'time'``'ls'` `'pwd'``'h'`

但我想运行一个脚本，比如'test.o'。

如果我这样做：`<C:\Path\subfolder\test.o` 脚本文件将从 TORNADO Shell 运行。

但是我已经使用 Perl 连接到使用 Telnet。

所以我这样连接：

```
use Net::Telnet;
my $username = "username"; 
my $password = "password";

my $t = new Net::Telnet(Timeout=>10, Errmode=>'die');
$t->open('10.42.177.123');
$t->login($username,$password);                    # Logins as expected.
my @lines = $t->cmd('i');                          # To test
print @lines                                       # This works
@lines = $t->cmd('<C:\\Path\\Subfolder\\test.o');  # This is not working for me. HELP!
print @lines;                                      # Prints the Error below 
```

我收到一条错误消息：

```
Unknown directory: /C:\Path\Subfolder
can't open input 'C:\Path\Subfolder\test.o
  errno = 0x1f5
- 
```

如果脚本文件位于主机 PC 的特定文件夹中，我该如何运行它？

我可以从提示看起来像的 TORNADO SHELL 窗口手动运行脚本 `->`。因此它是一个工作脚本。正如我所说，我能够运行和打印基本的 VxWorks Shell 命令（“内置函数”）。

有什么帮助吗？[我的操作系统是Win7]

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T21:20:13.803

这个问题现在已经解决了。有两个问题，一个是因为 TORNADO，另一个 VxWorks 客户端也同时登录到系统中，而我正在尝试运行我的 perl 脚本，该脚本使用 Telnet 发送命令和执行指令，并且有两个客户端（Tornado 和我的脚本 Telnet 会话）同时运行（尽管在运行 TelnetDeamon 的嵌入式系统上运行的 VxWorks 操作系统）它不喜欢它。

至于上面的Error，为什么它不起作用并给出错误是语法错误。我应该用

```
$t->cmd('<\\Path\\subfolder\\test.o'); 
```

没必要给`C:`

# algorithm - 添加 +/- 以使数字字符串在 0 中评估

> ID：12948159
> 
> 赞同：1
> 
> 时间：2012-10-18T06:11:20.900
> 
> 标签：algorithm

给定一个由数字组成的字符串，添加 + 或 - 号使表达式值为 0。返回表达式。

例如，

123 => 1 + 2 -3 = 0

173956 => 17 + 39 - 56 = 0

除了蛮力方法之外，我没有解决这个问题的线索。

有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T06:22:27.673

这是一个搜索问题。必须在解空间中执行搜索。假设我们从 '123' 字符串开始，此时我们可以在 '1' 之后添加 + 或 - 号，结果我们得到 '1 + 23' 或 '1 - 23'。每个变体都可以通过在下一个字符后添加一个符号来进一步拆分。结果，所有可能的符号添加将形成树状结构 - 解决方案空间。您的算法必须在此结构中搜索解决方案。我认为 A* 可以用来做到这一点。

[Anders K](https://stackoverflow.com/users/45685/anders-k)绘制了解决方案空间的漂亮 ASCII 图，您只需要搜索它即可找到解决方案。简单的广度优先搜索或深度优先搜索可以完成这项工作，但我认为如果解决方案空间很大，它会很慢。

此外，我认为可以找到更优化、更具体的解决方案，利用解决方案空间的特性，例如 - 它是树状结构。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T06:21:51.460

您可以通过多种方式解决它，例如使用递归方法，如果您将其构建为树，这将变得很明显

例如 123

因为一个数字后可以有两个不同的符号`(+|-)` ：

```
 1
       / \
      +   -
     /     \
    2       2   
   / \     / \
  +   -   +   -
  |   |   |   |
  3   3   3   3 
```

# php - 在 PHP 中从 craigslist 中检索帖子

> ID：12948161
> 
> 赞同：1
> 
> 时间：2012-10-18T06:11:30.503
> 
> 标签：php, dom, file-get-contents

我想用来`file_get_contents`只抓取 p 标签之间的信息。

我尝试使用 DOM 元素，但是当我使用`getElementByTagName`并循环遍历数组时，它会删除`<p>`标记中的所有 HTML。

```
<?php
function search(){
    $city = $_POST['city'];
    $scity = trim($city);
    $dom = new DOMDocument;
    libxml_use_internal_errors(true);

    $dom->loadHTMLFile('http://'.$scity.'.craigslist.org/search/cto?query=Toyota');
    libxml_use_internal_errors(false);
    $xpath = new DOMXPath($dom);
    $contents = $xpath->query('//p[@class="row"]');

    foreach($contents as $val){
        echo '<a href="' . $val->getElementsByTagName('a')->getAttribute('href') . '">' .  utf8_decode(trim($val->nodeValue, " -,")) . "</a><br />\n";;
    }
}
?> 
```

我希望它像在 craigslist 上一样显示。带有 craigslist 和价格、img 等链接的标题...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:19:17.113

使用`preg_match_all()`：

```
$text = file_get_contents("....");

preg_match_all('|<p>(.*?)</p>|',$texst, $matches); //Use regex to match all inside `p`

var_dump($matches); //View the matches 
```

# android - Android FFmpeg 报告“找不到文件协议”

> ID：12948165
> 
> 赞同：2
> 
> 时间：2012-10-18T06:11:40.937
> 
> 标签：android, command-line, ffmpeg

我正在尝试在 android 中使用 ffmpeg 命令将序列图像转换为视频。我已经为 android 构建了 ffmpeg，并将 ffmpeg 二进制文件放在 /data/local 文件夹中。我正在使用`Runtime.getruntime.execute("mycommand")`Android 运行 ffmpeg 命令。

mycommand 的结构是这样的

```
"/data/local/ffmpeg -r 40 qscale 2 -i /mnt/sdcard/images/img%d.jpg /mnt/sdcard/images/finalvideo.mp4" 
```

`mycommand`包含我放置所有序列图像的文件夹的路径。运行此命令会给我错误“找不到协议”。

我还读到文件协议是 ffmpeg 文档中的默认协议。

我怎样才能运行这样的命令？

运行 ffmpeg -i /mnt/sdcard/vid.mp4 等简单命令后出现的错误

```
ffmpeg version 0.11.1.git Copyright (c) 2000-2012 the FFmpeg developers
built on Sep 26 2012 11:58:35 with gcc 4.4.3 (GCC)
configuration: --target-os=linux --prefix=/home/esteves/android-ffmpeg --enable-cross-compile --enable-runtime-cpudetect --disable-asm --arch=arm --cc=/home/esteves/android-ndk/toolchains/arm-linux-androideabi-4.4.3/prebuilt/linux-x86/bin/arm-linux-androideabi-gcc --cross-prefix=/home/esteves/android-ndk/toolchains/arm-linux-androideabi-4.4.3/prebuilt/linux-x86/bin/arm-linux-androideabi- --disable-stripping --nm=/home/esteves/android-ndk/toolchains/arm-linux-androideabi-4.4.3/prebuilt/linux-x86/bin/arm-linux-androideabi-nm --sysroot=/home/esteves/android-ndk/platforms/android-8/arch-arm --enable-nonfree --enable-version3 --disable-everything --enable-gpl --disable-doc --enable-avresample --enable-demuxer=amr --enable-demuxer=aac --enable-demuxer=rawvideo --enable-demuxer=rtsp --enable-muxer=rtsp --enable-muxer=flv --enable-muxer=mpegts --enable-muxer=mp4 --enable-demuxer=rtp --enable-demuxer=rtp --disable-ffplay --disable-ffserver --enable-ffmpeg --disable-ffprobe --enable-libx264 --enable-encoder=libx264   libavutil      51\. 72.100 / 51\. 72.100
libavcodec     54\. 55.100 / 54\. 55.100
libavformat    54\. 25.105 / 54\. 25.105
libswscale      2\.  1.101 /  2\.  1.101
error of main   libswresample   0\. 15.100 /  0\. 15.100
error of main   libpostproc    52\.  0.100 / 52\.  0.100
/mnt/sdcard/vid.mp4: Protocol not found 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2017-04-27T19:22:43.047

# 避免编译`--disable-everything`

它将禁用所有组件，包括协议支持。

# 如果你必须使用`--disable-everything`

您将不得不手动启用所需的组件，例如`--enable-protocols`或以零碎的方式启用，例如`--enable-protocol=file,pipe`. 然而，这很难正确地做到，因为用户经常忘记启用他们需要的东西。`./configure --help`有关更多信息，请参阅的输出。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-04-27T12:04:37.920

这是 ffmpeg 编译问题。您应该在配置中启用协议相关。这是我的配置，您可以参考：

```
export TMPDIR=/Users/yourpath/SourceCode/FFmpeg/tmpdir
NDK=/Users/yourpath/Android/android-ndk-r10d
SYSROOT=$NDK/platforms/android-16/arch-arm/
TOOLCHAIN=/Users/yourpath/Android/android-ndk-r10d/toolchains/arm-linux-androideabi-4.9/prebuilt/darwin-x86_64

CPU=arm
PREFIX=/Users/liuchao/SourceCode/FFmpeg/ffmpeg_install/
#ADDI_CFLAGS="-marm"
ADDI_CFLAGS="-mfpu=neon -mfloat-abi=softfp"

function build_one
{
./configure \
--prefix=$PREFIX \
--target-os=linux \
--cross-prefix=$TOOLCHAIN/bin/arm-linux-androideabi- \
--arch=arm \
--sysroot=$SYSROOT \
--extra-cflags="-Os -fpic $ADDI_CFLAGS" \
--cc=$TOOLCHAIN/bin/arm-linux-androideabi-gcc \
--nm=$TOOLCHAIN/bin/arm-linux-androideabi-nm \
--disable-shared \
--enable-static \
--disable-asm \
--disable-yasm \
--enable-gpl \
--enable-stripping \
--enable-runtime-cpudetect \
--enable-cross-compile \
--enable-version3 \
--enable-nonfree
--enable-libx265 \
--enable-w32threads \
--enable-hwaccels \
--enable-neon \
--enable-decoders \
--enable-devices \
--enable-encoders \
--enable-muxers \
--enable-encoder=rawvideo \
--enable-protocols \
--enable-protocol=file \
--enable-avfilter \
--enable-network \
--enable-avdevice \
--enable-ffmpeg \
--disable-ffplay \
--disable-ffprobe \
--disable-ffserver \
--disable-doc \
--extra-ldflags="$ADDI_LDFLAGS" \
$ADDITIONAL_CONFIGURE_FLAG 
```

# visual-studio-2010 - 如何在 Visual Studio 2010 中创建 Crystal Report 模板？

> ID：12948166
> 
> 赞同：0
> 
> 时间：2012-10-18T06:11:48.153
> 
> 标签：visual-studio-2010, crystal-reports

我有许多标题部分相同的报告。我想在 Visual Studio 2010 中创建一个通用的 Crystal Report 模板，我可以在其中放置我的通用标题并在所有其他报表中使用此模板。

**我知道我可以使用模板字段对象创建报表模板，但我在Crystal Reports -> 插入**菜单中看不到此类项目。

所以我的问题是：如何在 Visual Studio 2010 中创建 Crystal Report 模板？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:36:30.153

使用 Crystal Report，您可以根据需要创建报表模板（不需要数据连接，只需添加对象，如徽标、页眉、页脚等）。完成另存为 .rpt 后。每当您需要以这种格式创建新报告时，您可以使用**Template Expert**导入此报告。

请查看本[教程](http://www.sdn.sap.com/irj/scn/index?rid=/library/uuid/e0bd989a-c049-2e10-ae8d-81a786b083a3&overridelayout=true)以获取更多详细信息。

编辑：
如果您想在 Visual Studio 中执行此操作，我可以建议您在
打开新报告时创建格式报告并另存为 .rpt***从现有报告***中选择并浏览您已经制作的格式报告。因此，您创建的新报告将看起来像您的格式报告。

# iphone - 在我们拖动时如何将 UISlider THUMB 直接移动/跳转到下一个值

> ID：12948170
> 
> 赞同：2
> 
> 时间：2012-10-18T06:12:10.857
> 
> 标签：iphone, objective-c, ipad, uislider

> **可能重复：**
> [在 1 到 100 的范围内将 UISlider 增加 1 在](https://stackoverflow.com/questions/12834140/increment-uislider-by-1-in-range-1-to-100)
> [0 到 2.0 的范围内将 UISlider 增加 0.2](https://stackoverflow.com/questions/12927591/increment-uislider-by-0-2-in-range-0-to-2-0)

在我的**iPad 应用程序**中，我使用**了 uislider 作为一部分。**

因为我有**3 分 1 2 3。**

根据 ui 设计，我的**滑块宽度太长（应该是那么宽）**，

所以我的要求是跳过**Slider THUMB**

**`When user want to change the value from 1 to 2 , 2 to 3the Slider THUMB position directly jumps to the point2, and point 3 respectualy with out lagging. and viceversa.`**

我们该怎么做

提前感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T06:39:36.973

试试这个代码..

```
float roundedValue = roundf(yourSlider.value / 1.0f) * 1.0f;    
[yourSlider setValue:roundedValue]; 
```

我希望这可以帮助你...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T06:43:47.440

你可以这样做。

```
[mySlider setMaximumValue:3.0];
[mySlider setContinuous:YES];
[slider addTarget:self action:@selector(sliderChangedAction:) forControlEvents:UIControlEventValueChanged];

- (IBAction)sliderChangedAction:(id)sender {
    UISlider * mySlider = (UISlider*)sender;    
    [mySlider setValue:ceilf(mySlider.value)];

} 
```

# c# - 未能在动态生成的组框上设置环绕面板功能

> ID：12948172
> 
> 赞同：0
> 
> 时间：2012-10-18T06:12:14.987
> 
> 标签：c#, .net, wpf, mvvm, groupbox

嗨，伙计们:) 我正在开发一个处理组框和包装面板的 wpf 应用程序。看着标题，它似乎很简单，但是在动态生成一组组框之后，我发现它很难。这是场景：

我的项目中有 2 个 xaml 文件。一个是`CodecView.xaml`和`CodecWidgetView.xaml`。我在启动时动态生成了 4 个分组框，如下所示：

**CodecView.xaml：**

```
<UserControl.Resources>
    <DataTemplate x:Key="CWDataTemplate">
        <WrapPanel>
            <TextBlock Text="{Binding Description}" Margin="0,0,0,0"/>
            <local:CodecWidgetView Margin="5,10,5,5"/>
        </WrapPanel>
    </DataTemplate>
</UserControl.Resources>

<Grid Grid.Row="0" >          
        <Grid Name="NumberofCodecs" >
            <ItemsControl ItemTemplate="{StaticResource CWDataTemplate}" ItemsSource="{Binding CodecWidgets}"/>
        </Grid>            
    </Grid> 
```

**CodecWidgetView.xaml：**

```
<Grid>
    <GroupBox Height="Auto" HorizontalAlignment="Stretch" Margin="5,5,5,5" Name="groupBox1" VerticalAlignment="Stretch" Width="Auto">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition />
                <RowDefinition />
                <RowDefinition />
            </Grid.RowDefinitions>

            <Grid Grid.Row="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <ToggleButton Name="FrequencyBox" Content="Master" Grid.Column="1" Height="25" Width="50" VerticalAlignment="Center" HorizontalAlignment="Center" Margin="0" />
                <ComboBox Grid.Column="2" ItemsSource="{Binding ModesList}" SelectedItem="{Binding SelectedModesList, Mode=OneWayToSource}" SelectedIndex="2" Height="23" HorizontalAlignment="Center" Margin="0,0,0,0" Name="comboBox2" VerticalAlignment="Center" Width="80" />
                <ComboBox Grid.Column="0" ItemsSource="{Binding FrequencyList}" SelectedItem="{Binding SelectedFrequencyList, Mode=OneWayToSource}" SelectedIndex="0" Height="23" HorizontalAlignment="Center" Margin="0,0,0,0" Name="comboBox1" VerticalAlignment="Center" Width="80" />
            </Grid>

            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition />
                    <ColumnDefinition />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <RadioButton Style="{StaticResource {x:Type ToggleButton}}" Command="{Binding OneSixBitCommand}" Margin="0" Content="16 Bit" Name="OneSixBit" Height="25" Width="45" Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Center" />
                <RadioButton Style="{StaticResource {x:Type ToggleButton}}" Command="{Binding TwoZeroBitCommand}" Margin="0" Content="20 Bit" Name="TwoZeroBit" Height="25" Width="45" Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center" />
                <RadioButton Style="{StaticResource {x:Type ToggleButton}}" Command="{Binding TwoFourBitCommand}" Margin="0" Content="24 Bit" Name="TwoFourBit" Height="25" Width="45" Grid.Column="2" HorizontalAlignment="Center" VerticalAlignment="Center" />
                <RadioButton Style="{StaticResource {x:Type ToggleButton}}" Command="{Binding ThreeTwoBitCommand}" Margin="0" Content="32 Bit" Name="ThreetwoBit" Height="25" Width="45" Grid.Column="3" HorizontalAlignment="Center" VerticalAlignment="Center" />
            </Grid>

            <Grid Grid.Row="2">
                <Label Name="BitDelay" Content="Bit Delay" VerticalAlignment="Center" HorizontalAlignment="Center" Margin="0,0,205,0" Height="25" Width="55" />
                <Slider Height="23" HorizontalAlignment="Center" Minimum="0.0" Maximum="255.0" TickFrequency="1.0" Margin="95,0,0,0" Name="bitdelayslider" VerticalAlignment="Center" Width="160" />
                <TextBox Name="BitDelayValue" IsReadOnly="True" Text="{Binding ElementName=bitdelayslider,Path=Value, StringFormat=0.0}" Width="40" Height="20" Margin="0,0,110,0" HorizontalAlignment="Center" VerticalAlignment="Center" />
            </Grid>

            <Grid Grid.Row="3">
                <Label Name="DBGain" Content="DB Gain" VerticalAlignment="Center" HorizontalAlignment="Center" Margin="0,0,205,0" Height="25" Width="55" />
                <TextBox Name="DBGainValue" IsReadOnly="True" Text="{Binding ElementName=dbgainslider,Path=Value, StringFormat=0.0}" Width="40" Height="20" Margin="0,0,110,0" HorizontalAlignment="Center" VerticalAlignment="Center" />
                <Slider Height="23" HorizontalAlignment="Center" Minimum="0.0" Maximum="59.5" TickFrequency="0.5" Margin="95,0,0,0" Name="dbgainslider" VerticalAlignment="Center" Width="160" />
            </Grid>
        </Grid>
    </GroupBox>
</Grid> 
```

**CodecViewModel.cs：**是CodecView.xaml的viewmodel类

```
public ObservableCollection<CodecWidgetViewModel> CodecWidgets { get; set; }

    public CodecViewModel()
    {
        CodecWidgets = new ObservableCollection<CodecWidgetViewModel>();
        CodecWidgets.Add(new CodecWidgetViewModel { Description = "Location 8  - Dig Mic A" });
        CodecWidgets.Add(new CodecWidgetViewModel { Description = "Location 9  - Dig Mic B" });
        CodecWidgets.Add(new CodecWidgetViewModel { Description = "Location 10  - PCM A 3P3V" });
        CodecWidgets.Add(new CodecWidgetViewModel { Description = "Location 11  - PCM B 3P3V" });
    } 
```

**CodecWidgetViewModel.cs：**是CodecWidgetView.xaml的viewmodel类

```
private string _description;
    public string Description
    {
        get
        { 
            return _description; 
        }

        set
        {
            _description = value;
            OnPropertyChanged("Description");
        }
    } 
```

这在启动时会动态生成 4 个组框，一个在另一个之下。因为我的窗口大小是 minheight = 300 和 minwidth = 300，所以我设置了 scrollviewer。由于我使用了 Wrappanel，所以当我拉伸它时，它的行为应该符合预期。那是当宽度被拉伸时，第二个分组框应该到第一行的右侧，下面也会发生同样的情况。

**启动时：** ![启动时](../Images/a17f32a3e080699f5332609128262bb0.png)

**当宽度被拉伸时：**![在此处输入图像描述](../Images/46cbefaf6901566a3136e2e3951fb051.png)

**预期行为：**![在此处输入图像描述](../Images/ab76c84776256db195c0c250023d6819.png)

因此，看看预期的行为，我想实现 wrappanel 的行为:) 即使我使用了 wrappanel 但它并没有按预期工作。请帮忙 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T07:03:48.450

您已将 WrapPanel 用作 ItemsSource 中每个单独项目的面板，但这并没有做您想要的。

相反，您必须明确告诉 ItemsControl 使用 WrapPanel 作为其所有子项的面板。

```
<ItemsControl ItemTemplate="{StaticResource CWDataTemplate}" ItemsSource="{Binding CodecWidgets}">
    <ItemsControl.ItemsPanel>
        <ItemsPanelTemplate>
            <WrapPanel />
        </ItemsPanelTemplate>
    </ItemsControl.ItemsPanel>
</ItemsControl> 
```

# java - 使用 java Asm lib 删除类的字段

> ID：12948175
> 
> 赞同：0
> 
> 时间：2012-10-18T06:12:39.427
> 
> 标签：java, json

我遇到一个问题。org.Json lib 的 JSONObject 没有 equals 方法。但它有一个 toString 方法。我想“abc”.equals(JsonObject.toStirng())。这就是问题所在。

toStirng() 字符串未排序。例如`{"aa":"11","bb":"22"}`，也许 toStirng 是这样的：

`{"bb":"22","aa":"11"}`, String 不等于，但 json 对象实际上等于。我反编译

org.json.JSON 对象：

```
private Map map; 

public JSONObject()
   {
      map = new HashMap();
   } 
```

我没有源代码，我想用 asm.lib 来修改类。

所以，我想改变一个地方，一个是：

```
 public JSONObject()
    {
       map = new HashMap(); -->map = new LinkedHashMap();
    } 
```

所以，从 toString() 生成的字符串将被排序，这就是我想要的。

我知道如何添加字段，但我不知道如何**修改和删除**字段或字段

方法。

兄弟姐妹是你的时间，谢谢:-)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:16:45.617

json.org Java 源代码可在此处获得：[https](https://github.com/douglascrockford/JSON-java) ://github.com/douglascrockford/JSON-java 。它是开源的，但没有指定许可证。

然后您可以修改源代码。

# java - Json 解析下面的给定响应

> ID：12948176
> 
> 赞同：-4
> 
> 时间：2012-10-18T06:12:42.333
> 
> 标签：java, android, json, parsing

嗨，我想解析下面的 json 响应

```
{
    "appstore_information": {
        "time_fence": {
            "auto_expire_app_restriction": {
                "enable_auto_expiry": true,
                "expiry_date": "10\/15\/2012 12:00:00 AM",
                "time_bound_access_restriction": {
                    "duration_in_hrs": 18,
                    "start_time": "10\/17\/2012 12:00:00 AM",
                    "time_zone": "(UTC+02:00) Cairo"
                }
            },
            "local_data_time_fence": {
                "enable_local_data_time_fence": true,
                "expire_time_limit": {
                    "days": 2,
                    "hours": 17,
                    "minutes": 16
                }
            }
        },
        "use_offline_access": true
    },
    "display_message": "Profile is available in information.",
    "message_status": "Success."
} 
```

任何帮助都感激不尽

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T06:45:34.997

从[http://json.org/](http://json.org/)，这里是解析器库的列表：

```
ASP:
    JSON for ASP.
    JSON ASP utility class.
ActionScript:
    ActionScript3.
    JSONConnector.
Ada:
    GNATCOLL.JSON.
Bash:
    Jshon.
    JSON.sh.
BlitzMax:
    bmx-rjson.
C:
    JSON_checker.
    YAJL.
    js0n.
    LibU.
    json-c.
    json-parser.
    jsonsl.
    WJElement.
    M's JSON parser.
    cJSON.
    Jansson.
    jsmn.
    cson.
C++:
    JSONKit.
    jsonme--.
    ThorsSerializer.
    JsonBox.
    jsoncpp.
    zoolib.
    JOST.
    CAJUN.
    libjson.
    nosjob.
    rapidjson.
C#:
    fastJSON.
    JSON_checker.
    Jayrock.
    Json.NET - LINQ to JSON.
    LitJSON.
    JSON for .NET.
    JsonFx.
    JSON@CodeTitans
    How do I write my own parser?
    JSONSharp.
    JsonExSerializer.
    fluent-json
    Manatee Json
Clojure:
    clojure-json.
    API for json.
Cobol:
    XML Thunder.
ColdFusion:
    ColdFusion 8.
    toJSON.
D:
    Cashew.
    Libdjson.
Dart:
    json library.
Delphi:
    Delphi Web Utils.
    JSON Delphi Library.
    JSON Toolkit.
    tiny-json.

E:
    JSON in TermL.
Erlang:
    ejson.
    mochijson2.
Fantom:
    Json.
Go:
    package json.
Haskell:
    RJson package.
    json package.
Haxe:
    hxJSON.
Java:
    org.json.
    org.json.me.
    Jackson JSON Processor.
    Json-lib.
    JSON Tools.
    Stringtree.
    SOJO.
    Jettison.
    json-taglib.
    XStream.
    Flexjson.
    JON tools.
    Argo.
    jsonij.
    fastjson.
    mjson.
    jjson.
    json-simple.
    json-io.
    JsonMarshaller.
    google-gson.
    Json-smart.
    FOSS Nova JSON.
JavaScript:
    JSON.
    json2.js.
    json_sans_eval.
    clarinet.
Lisp:
    Common Lisp JSON.
    Yason.
    Emacs Lisp.
LotusScript:
    JSON LS.
Lua:
    Json4Lua.
    LuaJSON.
    LuaJSON C Library.
    Lua CJSON.
    dkjson.
Matlab:
    JSONlab.
    JSON Parser.
    (another) JSON Parser.
Objective C:
    json-framework.
    MTJSON.
    JSONKit.
    yajl-objc.
    TouchJSON.
OCaml:
    Yojson.
    jsonm.
OpenLaszlo:
    JSON.

Perl:
    CPAN.
    perl-JSON-SL.
PHP:
    PHP 5.2.
    json.
    Services_JSON.
    Zend_JSON.
    Solar_Json.
    Comparison of php json libraries.
Pike:
    Public.Parser.JSON.
    Public.Parser.JSON2.
PL/SQL:
    pljson:
    Librairie-JSON.
PowerShell:
    PowerShell.
Prolog:
    SWI-Prolog HTTP support
    Ciao JSON encoder and decoder
Puredata:
    PuRestJson
Python:
    The Python Standard Library.
    simplejson.
    pyson.
    Yajl-Py.
    ultrajson.
Qt:
    QJson.
R:
    rjson.
Racket:
    json-parsing.
Rebol:
    json.r.
RPG:
    JSON Utilities.
Ruby:
    json.
    yajl-ruby.
    json-stream.
Scala:
    package json.
Scheme:
    MZScheme.
    PLT Scheme.
Squeak:
    Squeak.
Symbian:
    s60-json-library.
Tcl:
    JSON.
Visual Basic:
    VB-JSON.
    PW.JSON.
Visual FoxPro:
    fwJSON.
    JSON.
    vfpjson. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T06:27:02.013

您可以在 Android 上使用[GSON](http://code.google.com/p/google-gson/)，您可以创建[POJO](http://en.wikipedia.org/wiki/Plain_Old_Java_Object)镜像您的 json 数据结构，然后调用：

```
AppStoreInformation asi = new Gson().fromJson(jsonString, AppStoreInformation.class); 
```

这里有一篇文章可能会有所帮助：[Android 系列：使用 GSON 解析 JSON 数据](http://www.softwarepassion.com/android-series-parsing-json-data-with-gson/)

# c# - 如何在文件夹路径中使用今天的日期

> ID：12948180
> 
> 赞同：1
> 
> 时间：2012-10-18T06:12:47.257
> 
> 标签：c#

所以我创建了很多文件夹，作为 fum 工作的一部分，命名策略的一部分是使用今天的日期作为路径的一部分
当我使用 DateTime.Now.ToShortDateString() 时，我不断得到一个正斜杠
无论如何要停止该或任何其他使用临时文件夹中的日期的策略

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T06:13:32.740

采用

```
DateTime.Now.ToString("dd-MM-yyyy"); 
```

这将替换默认分隔符`/`to `-`。`-`文件夹名称中的有效字符在哪里。

您还可以使用 DateTime.Today 作为当前日期。

```
string temp = DateTime.Today.ToString("dd-MM-yyyy"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-18T06:36:19.033

作为旁白...

如果您想让文件名可排序，您可能还想颠倒日期的顺序或部分。

例如，

```
var filename = DateTime.Now.ToString("yyyy-MM-dd") + "-Photo-Capture.png"; 
```

将允许您在文件创建日期对文件进行排序。使用标准格式的日期仍然允许您进行排序，但您会看到在任何一个月、任何一年的第一天创建的所有文件，然后是在第二天创建的所有文件，等等。

# bash - 如何使用 awk 将 stdout 中的值解析为数组的元素？

> ID：12948181
> 
> 赞同：2
> 
> 时间：2012-10-18T06:12:58.150
> 
> 标签：bash, awk

该命令`elb-describe-instance-health`返回以下内容

```
INSTANCE_ID  i-111
INSTANCE_ID  i-222
INSTANCE_ID  i-333 
```

`$(elb-describe-instance-health | awk '/INSTANCE_ID/{print $2}')`

返回`i-111 i-222 i-3333`

如何更改上述语法以将这些值中的每一个存储在一个数组中（例如`foo[0]`equals `i-111`、`foo[1]`equals `i-222`、`foo[2]`equals `i-333`？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-18T06:21:34.150

这是一种方法：

```
array=($(elb-describe-instance-health | awk '/INSTANCE_ID/ { print $2 }')) 
```

然后只是`echo`你想要的元素。以`echo`第一个元素为例，尝试：

```
echo "${array[0]}" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-18T06:20:53.257

采用

```
$(elb-describe-instance-health |awk '/INSTANCE_ID/ { foo[i++] = $2 }') 
```

但我猜你想用 foo 做点什么。

# jquery - 将 Dropdownlist 设置为来自 jQuery 的值

> ID：12948189
> 
> 赞同：-1
> 
> 时间：2012-10-18T06:13:43.860
> 
> 标签：jquery, asp.net-mvc

我的下拉列表具有以下值：

```
US USA
IN India 
```

和其他国家。

在我的 jQuery 中，我想通过传递“印度”将下拉列表中的选定项目设置为“印度”。我想知道是否有办法实现这一目标。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T06:22:36.300

有很多方法。一种方法是使用两个数组，一个用于国家缩写，第二个用于国家名称。使用第二个数组查找所选值的索引。然后，使用第一个数组的索引。然后将结果（IN）与选定的值“印度”连接起来。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T06:24:36.087

就像是？

HTML

```
​&lt;select id="select1">
<option val="US USA">USA</option>
<option val="IN India">India</option>
</select>​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​ 
```

JS

```
$(document).ready(function(){
$('#select1').find('option').each(function(){
    if($(this).val().indexOf('India')!=-1) {
        $(this).attr('selected','selected');
    }
});
}); 
```

工作演示[http://jsfiddle.net/FKdpn/](http://jsfiddle.net/FKdpn/)

显然，这与 document.ready 函数相关，但您可以根据需要更改它。如果您需要更多帮助，请告诉我。

# c# - C#如何使用克隆从数据表中复制几列模式

> ID：12948190
> 
> 赞同：0
> 
> 时间：2012-10-18T06:13:46.733
> 
> 标签：c#, datatable

有没有办法使用克隆方法从数据表中仅复制几列模式？如果不是，将带有架构的几列从一个数据表复制到另一个数据表的最佳解决方案是什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:32:35.077

你应该使用，

```
DataTable newTable = dataTable.DefaultView.ToTable(false, columnsnamearray); 
```

# jquery - 如何通过循环在ajax jquery中创建json数组并将其传递给rails控制器

> ID：12948191
> 
> 赞同：3
> 
> 时间：2012-10-18T06:13:50.033
> 
> 标签：jquery

我有以下字符串

```
{
    "role_name": "bhavin",
    "user_id": "50667afb9de0f2600b000001",
    "Par_user": "user",
    "Child_user_index": "user_index",
    "Child_user_profile": "user_profile",
    "Par_App": "App",
    "Child_App_new": "App_new",
    "Child_App_index": "App_index",
    "Par_App1": "App1",
    "Child_App1_index": "App1_index",
    "Par_App2": "App2",
    "Child_App2_index": "App2_index",
    "Child_App2_new": "App2_new",
    "controller": "users",
    "action": "save_permissions"
}​ 
```

我想通过以下

```
{
    "role_name": "bhavin",
    "user_id": "50667afb9de0f2600b000001",
    "user": ["user_index", "user_profile"],
    "App": ["App_new", "App_index"],
    "App1": ["App1_index"],
    "App2": ["App2_index", "App2_new"],
    "controller": "users",
    "action": "save_permissions"
}​ 
```

代码：

```
$("#perm_save_button").click(function() { //alert("hiii");
    if ($("#role_name").val() == "") {
        alert("role name can't be blank");
        return false;
    }

    if ($('input:checkbox').is(":checked")) {

    } else {
        alert("Please Select any Privilages");
        return false;
    }
    var role_name = $('#role_name').val();
    var user_id = $("#app_rateid").val();
    if (($("#AllPrev").is(":checked"))) {

        var selected_value = new Object();

        $('input[checked=checked]').each(function() {
            $('span[class=checked]')
            var select = ($(this).attr('id'));
            var select_value = ($(this).attr('name'));
            selected_value[select] = select_value;
        });
        selected_value["role_name"] = role_name;
        selected_value["user_id"] = app_rateid;

        $.ajax({
            url: '<%= url_for :action => "save_permissions" %>',
            data: selected_value,
            dataType: 'json',
            success: function(data) {
                alert("101 Data Successfully Updated");
                $("#rma_options").dialog('close');
            }
        }); //ajax function end
    }
    else {
        var selected_value = new Object();
        selected_value["role_name"] = role_name;
        selected_value["user_id"] = user_id;
        $('input[checked=checked]').each(function() {
            var select = ($(this).attr('id'));
            var select_value = ($(this).attr('name'));
            select_value = select_value.split(/_(.+)?/)[1]
            alert(select_value);
            selected_value[select] = select_value;
        });

        $.ajax({
            url: '<%= url_for :action => "save_permissions" %>',
            data: selected_value,
            dataType: 'json',
            success: function(data) {

                alert("101 Data Successfully Updated");
                $("#rma_options").dialog('close');
            }
        }); //ajax function end
    }

});​ 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:18:26.263

使用 JavaScript 函数`JSON.parse()`

```
var jsonString = '{ "role_name": "bhavin", "user_id": "50667afb9de0f2600b000001" }';
var jsonObject = JSON.parse(jsonString);
console.log(jsonObject); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T07:19:32.680

我在想一些事情

```
var start = {
    "role_name": "bhavin",
    "user_id": "50667afb9de0f2600b000001",
    "Par_user": "user",
    "Child_user_index": "user_index",
    "Child_user_profile": "user_profile",
    "Par_App": "App",
    "Child_App_new": "App_new",
    "Child_App_index": "App_index",
    "Par_App1": "App1",
    "Child_App1_index": "App1_index",
    "Par_App2": "App2",
    "Child_App2_index": "App2_index",
    "Child_App2_new": "App2_new",
    "controller": "users",
    "action": "save_permissions"
};

var end = {};
$.each(start, function(key, value) {
    if (/Par_App/.test(key)) {
        if (!end['App']) end['App'] = [];
        end['App'].push(key);
    }
    else if (/Child_user/.test(key)) {
        if (!end['user']) end['user'] = [];
        end['user'].push(key);
    }
});

console.log(JSON.stringify(end)); 
```

顺便说一句，它还没有完成。:) 工作[小提琴](http://jsfiddle.net/6nyZV/1/)

# ruby-on-rails - 我应该在这种情况下使用多态关联吗？

> ID：12948195
> 
> 赞同：1
> 
> 时间：2012-10-18T06:14:22.557
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我有 3 个模型。`Jobs`, `Businesses`, & `Categories`.

`Jobs`有很多`categories`。

`Businesses`有很多`categories`。

`Categories`有很多`jobs`。

`Categories`有很多`businesses`。

多态关联是否最适合这种情况？

* * *

*类别.rb*

```
class Category < ActiveRecord::Base
  attr_accessible :name
  belongs_to :categorised, polymorphic: true
end 
```

*业务.rb*

```
class Business < ActiveRecord::Base
  has_many :categories, as: :categorised
end 
```

*工作.rb*

```
class Job < ActiveRecord::Base
  has_many :categories, as: :categorised
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T08:05:13.347

`Job`我认为这将取决于和`Business`对象之间有多少共性。如果它们大多具有相同的属性，那么是的，将它们存储在同一个表中可能是有意义的。

但无论哪种情况，你都有一个多对多的关系：`Jobs`拥有 many`Categories`和`Categories`have many `Jobs`。这将需要`:has_and_belongs_to_many`与连接两者的连接表建立关系。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T09:35:20.230

我会建议你 habtm 关系

类别.rb

```
class Category < ActiveRecord::Base
   attr_accessible :name
   has_and_belongs_to_many :business
   has_and_belongs_to_many :jobs
end 
```

业务.rb

```
class Business < ActiveRecord::Base
   has_and_belongs_to_many :categories
end 
```

工作.rb

```
class Job < ActiveRecord::Base
    has_and_belongs_to_many :categories
end 
```

# iphone - 如何异步渲染 UIImage？

> ID：12948198
> 
> 赞同：0
> 
> 时间：2012-10-18T06:14:30.193
> 
> 标签：iphone, ios, uiimage

我需要异步绘制图像，但 [UIImageView setImage:someImage] 不是线程安全的。所以我必须自己实现一个线程安全的绘图功能。

在iOS中可以吗？如何？我知道如何使用 Quartz 进行自定义绘图。

特别感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T06:19:18.497

通常你只需要在后台加载图像。然后将它们绘制在前景线程上。看看这里 [使用块从后台线程加载图像](https://stackoverflow.com/questions/7502073/loading-images-from-a-background-thread-using-blocks/7502281#7502281)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T06:59:14.047

您可以使用并实现自己的 imageView/imageLayer的`drawsAsynchronously`属性。`CALayer`这可能有助于提高 GUI 的响应能力。

# android - 为什么在android中重新启动应用程序多次后uss会越来越大？

> ID：12948205
> 
> 赞同：0
> 
> 时间：2012-10-18T06:15:05.263
> 
> 标签：android, uss

我感到困惑：当我从主屏幕启动应用程序 A 时，使用此命令“adb shell procrank | grep 'A'”检查 uss，然后按“返回”菜单键返回主屏幕；然后重新启动A并返回Home几次，uss变得越来越大。uss 号如 19296、19312、19324、19340 ......有人对此有任何想法吗？非常感谢您的关注。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:43:18.373

USS 表示特定进程正在使用的内存。如果进程终止，将释放的内存。如果你看到这个数字像失控的火车一样增加，你可能有内存泄漏。按下后退/主页按钮并不能保证您的应用程序进程将被终止，并且通过任何方式重新启动只会将该进程带到前台（如果它仍然存在）。

编辑：[阅读此处以获得有关其工作原理的良好解释。](https://stackoverflow.com/questions/2298208/how-to-discover-memory-usage-of-my-application-in-android).

# vb.net - 我的图形用户界面 (GUI) 无法通过我的协调员 VIA Zigbee（无线连接）生成我的结果

> ID：12948207
> 
> 赞同：1
> 
> 时间：2012-10-18T06:15:09.003
> 
> 标签：vb.net, wireless, zigbee

基本上，我被赋予了从前一个学生继续的任务。我有几个传感器可以检测实验室的温度、湿度和亮度。这些来自传感器的数据需要传输到协调器。我能够调试程序，但无法达到 GUI 中显示的结果。读数值无法传输。以下是前一个学生给出的代码，他们能够实现它。

可能是什么问题呢？？我怀疑它可能是串行端口问题。

```
Imports System
Imports System.Data
Imports System.Data.OleDb
Imports System.Data.SqlClient
Imports System.Windows.Forms.DataGridView

Public Class frmGUI

Dim FromSerialPort
Dim dSet As New DataSet
Dim COORDINATOR0 = 0
Dim strData(0 To 1)
Dim data As String
Dim count As Integer = 0
Dim number As Integer
Dim data2 As String
Dim x As Integer = 0

Dim txt1 As Integer = 0
Dim txt2 As Integer = 0
Dim txt3 As Integer = 0
Dim txt4 As Integer = 0

Dim hour As String = 0
Dim min As String = 0
Dim sec As String = 0
Dim hour2 As String = 0
Dim min2 As String = 0
Dim sec2 As String = 0

Dim LumVal1 As Integer

Delegate Sub SetTextCallback(ByVal [text] As String)

Private Sub Form1_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load

    If SerialPort1.IsOpen Then
        SerialPort1.Close()
    End If

    System.Diagnostics.Process.Start(My.Application.Info.DirectoryPath & "\Welcome.vbs")

    strData(0) = "ZED02"

    TSSL1.Text = Format(Now, "Short Date")
    TSSL2.Text = "Welcome"
    TSSL3.Text = Format(Now, "Long Time")

    PictureBox1.Image = System.Drawing.Bitmap.FromFile( _
  My.Application.Info.DirectoryPath & "\Capture.PNG")

    txtCOM.Focus()

End Sub

Private Sub ExitToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles ExitToolStripMenuItem.Click

    Dim intResponse As Integer
    intResponse = MsgBox(" Are u sure u want to QUIT ??!!", vbYesNo + vbExclamation, "Quit")
    If intResponse = vbYes Then
        End

    End If

End Sub

Private Sub Timer1_Tick(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles myTimer.Tick

    TSSL3.Text = Format(Now, "Long Time")

End Sub

Private Sub Timer2_Tick(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles myTimer.Tick

    If count = 1 Then
        sec = sec + 1
        If sec = 10 Then
            sec = 0
            sec2 = sec2 + 1
            If sec2 = 6 Then
                sec2 = 0
                min = min + 1
                If min = 10 Then
                    min = 0
                    min2 = min2 + 1
                    If min2 = 6 Then
                        min2 = 0
                        hour = hour + 1
                        If hour = 10 Then
                            hour = 0
                            hour2 = 1
                            If hour = 4 And hour2 = 2 Then
                                hour = 0
                                hour2 = 0
                            End If
                        End If
                    End If
                End If
            End If
        End If
        TSSL2.Text = ("Connected : " + hour2 + hour + ":" + min2 + min + ":" + sec2 + sec)
    End If

End Sub

Private Sub btnConnect_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles btnConnect.Click

    If txtCOM.Text = "" Then
        'MsgBox("Please enter a COM port value", vbOKOnly & vbExclamation, "Error")
        txtCOM.Text = "34"
    Else
        count = count + 1

    End If
    If (count = 1) Then

        System.Diagnostics.Process.Start(My.Application.Info.DirectoryPath & "\Connected.vbs")

        txtCOM.Enabled = False

        If SerialPort1.IsOpen Then
            SerialPort1.Close()
        End If

        SerialPort1.PortName = "COM" & txtCOM.Text ' for the coordinator
        SerialPort1.BaudRate = 38400
        SerialPort1.Parity = System.IO.Ports.Parity.None
        SerialPort1.DataBits = 8
        SerialPort1.StopBits = System.IO.Ports.StopBits.One
        SerialPort1.RtsEnable = True
        SerialPort1.Open()

        hour = 0
        min = 0
        sec = 0

        hour2 = 0
        min2 = 0
        sec2 = 0

        lbl1.Text = " Reading Data . . ."
        TextBox5.Text &= "Connected at: " + Format(Now, "Short Time") + vbNewLine + vbNewLine
        btnConnect.Text = "Disconnect"
    End If

    If count = 2 Then

        System.Diagnostics.Process.Start(My.Application.Info.DirectoryPath & "\Disconnected.vbs")

        txtCOM.Enabled = True

        count = 0

        btnConnect.Text = " Connect "
        SerialPort1.Close()             'Close our Serial Port

        lbl1.Text = " Not Connected "
        TSSL2.Text = "Disconnected"

        TextBox5.Text &= "Disconnected at: " + Format(Now, "Short Time") + vbNewLine + vbNewLine

    End If

End Sub

Private Sub ReceivedText(ByVal [text] As String)

    If Me.TextBox5.InvokeRequired Then
        Dim x As New SetTextCallback(AddressOf ReceivedText)
        Me.Invoke(x, New Object() {(text)})
    Else

        data &= [text]

        If InStr(data, "Data not received") Then
            data = ""
            TextBox5.Text = "Data lost" + vbNewLine
        End If

        If InStr(data, "Lab Location: S.429") Then
            If InStr(data, "TemperatureValue:") Then
                If InStr(data, "Humidityvalue:") Then
                    If InStr(data, "LuminosityValue:") Then
                        txt1 = 1

                        txt2 = 0
                        txt3 = 0
                        txt4 = 0

                        data2 = data
                    End If
                End If
            End If
        End If

        If InStr(data, "Lab Location: S.434") Then
            If InStr(data, "Temperaturevalue:") Then
                If InStr(data, "HumidityValue:") Then
                    If InStr(data, "LuminosityValue:") Then
                        txt2 = 1

                        txt1 = 0
                        txt3 = 0
                        txt4 = 0

                        data2 = data
                    End If
                End If
            End If
        End If

        If InStr(data, "Lab Location: S.439") Then
            If InStr(data, "TemperatureValue:") Then
                If InStr(data, "HumidityValue:") Then
                    If InStr(data, "LuminosityValue:") Then
                        txt3 = 1

                        txt1 = 0
                        txt2 = 0
                        txt4 = 0

                        data2 = data
                    End If
                End If
            End If
        End If

        If InStr(data, "Lab Location: S.449") Then
            If InStr(data, "TemperatureValue:") Then
                If InStr(data, "HumidityValue:") Then
                    If InStr(data, "LuminosityValue:") Then
                        txt4 = 1

                        txt1 = 0
                        txt2 = 0
                        txt3 = 0

                        data2 = data
                    End If
                End If
            End If
        End If

        If txt1 = 1 Then
            TextBox1.Text &= data2
            TextBox5.Text &= "Data received from S.429 at: " + Format(Now, "Short Time") + vbNewLine + vbNewLine
            System.Diagnostics.Process.Start(My.Application.Info.DirectoryPath & "\data429.vbs")
            txt1 = txt1 + 1

            If txt1 = 2 Then
                txt1 = 0
                data = ""
            End If
        End If

        If txt2 = 1 Then
            TextBox2.Text &= data2
            TextBox5.Text &= "Data received from S.434 at: " + Format(Now, "Short Time") + vbNewLine + vbNewLine
            System.Diagnostics.Process.Start(My.Application.Info.DirectoryPath & "\data434.vbs")
            txt2 = txt2 + 1

            If txt2 = 2 Then
                txt2 = 0
                data = ""
            End If
        End If

        If txt3 = 1 Then
            TextBox3.Text &= data2
            TextBox5.Text &= "Data received from S.439 at: " + Format(Now, "Short Time") + vbNewLine + vbNewLine
            System.Diagnostics.Process.Start(My.Application.Info.DirectoryPath & "\data439.vbs")
            txt3 = txt3 + 1

            If txt3 = 2 Then
                txt3 = 0
                data = ""
            End If
        End If

        If txt4 = 1 Then
            TextBox4.Text &= data2
            TextBox5.Text &= "Data received from S.449 at: " + Format(Now, "Short Time") + vbNewLine + vbNewLine
            System.Diagnostics.Process.Start(My.Application.Info.DirectoryPath & "\data449.vbs")
            txt4 = txt4 + 1

            If txt4 = 2 Then
                txt4 = 0
                data = ""
            End If
        End If

    End If

End Sub

Private Sub TextBox1ToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs)
    TextBox1.Clear()
End Sub

Private Sub TextBox2ToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs)
    TextBox2.Clear()
End Sub

Private Sub TextBox3ToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs)
    TextBox3.Clear()
End Sub

Private Sub TextBox4ToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs)
    TextBox4.Clear()
End Sub

Private Sub TextBox5ToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs)
    TextBox5.Clear()
End Sub

Private Sub AllToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs)
    TextBox1.Clear()
    TextBox2.Clear()
    TextBox3.Clear()
    TextBox4.Clear()
    TextBox5.Clear()
End Sub

Private Sub TextBox1_TextChanged(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles TextBox1.TextChanged
    TextBox1.Select(TextBox1.Text.Length, 0)
    TextBox1.ScrollToCaret()
End Sub

Private Sub TextBox2_TextChanged(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles TextBox2.TextChanged
    TextBox2.Select(TextBox2.Text.Length, 0)
    TextBox2.ScrollToCaret()
End Sub

Private Sub TextBox3_TextChanged(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles TextBox3.TextChanged
    TextBox3.Select(TextBox3.Text.Length, 0)
    TextBox3.ScrollToCaret()
End Sub

Private Sub TextBox4_TextChanged(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles TextBox4.TextChanged
    TextBox4.Select(TextBox4.Text.Length, 0)
    TextBox4.ScrollToCaret()
End Sub

Private Sub TextBox5_TextChanged(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles TextBox5.TextChanged
    TextBox5.Select(TextBox5.Text.Length, 0)
    TextBox5.ScrollToCaret()
End Sub

Private Sub S429ToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles S429ToolStripMenuItem.Click
    TextBox1.Clear()
End Sub

Private Sub SToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles SToolStripMenuItem.Click
    TextBox2.Clear()
End Sub

Private Sub S439ToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles S439ToolStripMenuItem.Click
    TextBox3.Clear()
End Sub

Private Sub S449ToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles S449ToolStripMenuItem.Click
    TextBox4.Clear()
End Sub

Private Sub BackLogToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles BackLogToolStripMenuItem.Click
    TextBox5.Clear()
End Sub

Private Sub AllToolStripMenuItem1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles AllToolStripMenuItem1.Click
    TextBox1.Clear()
    TextBox2.Clear()
    TextBox3.Clear()
    TextBox4.Clear()
    TextBox5.Clear()
End Sub

Private Sub AboutToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles AboutToolStripMenuItem.Click
    MsgBox(" NYP SMART LAB " + vbNewLine + " By: Daniel and Mikaris ", vbQuestion, " About ")
End Sub

Private Sub HowToReadValuesToolStripMenuItem_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles HowToReadValuesToolStripMenuItem.Click
    MsgBox("Temperature value < 26*C = Aircon is on" + vbNewLine + "Luminosity value > 1 = Lights are on" + vbNewLine, vbQuestion, "How to read values")
End Sub
End Class 
```

# java - 请求flex文档的textfields参数

> ID：12948209
> 
> 赞同：1
> 
> 时间：2012-10-18T06:15:09.777
> 
> 标签：java, apache-flex, servlets, flex4

我是 flex 的业余爱好者，我想在 servlet 中验证 flex 用户登录。如何请求flex文档的文本字段的参数？

# java-me - 遍历所有 RecordStore java me

> ID：12948211
> 
> 赞同：1
> 
> 时间：2012-10-18T06:15:17.630
> 
> 标签：java-me, midp, rms

如何遍历 j2me 应用程序的所有记录库？

记录存储是由用户在输入一些数据时创建的。所以记录库的数量不在我的控制范围内。

**那么该应用程序是否跟踪与 j2me 应用程序关联的所有记录存储？** 或者**我应该创建一个包含所有其他记录存储名称的记录存储吗？**

我可以使用从记录库中获取所有行

```
for(int i=1;i<=getnumrecords(RecordStoreName);i++)
RecordStoreName.getrecord(i); 
```

**但我正在寻找这样的功能来获取与我的应用程序关联的所有记录库名称。**

我在一个记录存储中创建一个新记录存储而不是一个新行的原因是因为 java me 中记录存储的大小受电话限制。

所以我决定为我从表单中获得的每一个数据创建一个新的记录存储。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T12:14:05.103

如果您的用户可以从循环中删除条目，那么`RecordStore`您的循环可能会因为[`InvalidRecordIDException`](http://docs.oracle.com/javame/config/cldc/ref-impl/midp2.0/jsr118/javax/microedition/rms/InvalidRecordIDException.html)调用[`getRecord`](http://docs.oracle.com/javame/config/cldc/ref-impl/midp2.0/jsr118/javax/microedition/rms/RecordStore.html#getRecord%28int%29).
一种更安全的迭代记录的方法是使用[`RecordEnumeration`](http://docs.oracle.com/javame/config/cldc/ref-impl/midp2.0/jsr118/javax/microedition/rms/RecordEnumeration.html)：

```
RecordEnumeration re = RecordStoreName.enumerateRecords(null, null, false);

while (re.hasNextElement()) {
    RecordStoreName.getrecord(re.nextRecordId());
} 
```

**评论后更新**

你可以使用`static`方法[`listRecordStores`](http://docs.oracle.com/javame/config/cldc/ref-impl/midp2.0/jsr118/javax/microedition/rms/RecordStore.html#listRecordStores%28%29)。根据 API：

> 返回 MIDlet 套件拥有的记录存储名称的数组。请注意，如果 MIDlet 套件没有任何记录存储，则此函数将返回 null。返回的 RecordStore 名称的顺序取决于实现。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T13:59:11.747

此功能是通过[RecordStore.listRecordStores](http://docs.oracle.com/javame/config/cldc/ref-impl/midp2.0/jsr118/javax/microedition/rms/RecordStore.html#listRecordStores%28%29 "API 文档") API 为应用程序开发人员提供的：

> 返回 MIDlet 套件拥有的记录存储名称的数组。请注意，如果 MIDlet 套件没有任何记录存储，则此函数将返回 null。返回的 RecordStore 名称的顺序取决于实现...

# ruby-on-rails - 在请求的 TimeZone 中返回 Ruby / Rails DateTime 或 ActiveSupport::TimeWithZone 对象

> ID：12948212
> 
> 赞同：1
> 
> 时间：2012-10-18T06:15:18.470
> 
> 标签：ruby-on-rails, ruby, datetime, timezone

用户输入一个日期范围，比如说从昨天开始的任何时区。

```
from_datetime = "10/01/2012 00:00 +0545" 
```

我为这本书购买了时间，如下所示：

```
purchased_at = Book.where("created_at > #{from_date}").purchased_at
=> Fri, 08 Jun 2012 09:44:26 UTC +00:00 
```

问题是这给了我 UTC 时间，但我想在请求的 time_zone 中显示 purchase_at 时间，该时间可能会有所不同。

我不能使用 in_time_zone 作为输入 from_date 只有时间偏移，可以吗？

```
purchased_at.in_time_zone("Kathmandu")
=> Fri, 08 Jun 2012 15:29:26 NPT +05:45 
```

有什么办法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T06:57:44.080

给出一个偏移量，您可以从以下位置获取时区名称[`ActiveSupport::TimeZone`](http://api.rubyonrails.org/classes/ActiveSupport/TimeZone.html#method-c-5B-5D)：

```
> ActiveSupport::TimeZone[5.hours + 45.minutes]
=> (GMT+05:45) Kathmandu 
```

然后你可以把它交给`in_time_zone`：

```
> Time.now.in_time_zone(ActiveSupport::TimeZone[5.hours + 45.minutes])
=> Thu, 18 Oct 2012 12:33:12 NPT +05:45 
```

`from_datetime`如果您知道传入的格式，则可以通过一些简单的争论将偏移量从 中提取出来。

这种方法存在问题：

1.  从偏移量到名称的映射不是唯一的。
2.  `ActiveSupport::TimeZone[]`如果给你的名字错误，DST 可能是个问题。

根据您的需要，您可以手动应用偏移量并在格式化时间戳时忽略时区：

```
> (Time.now.utc + 5.hours + 45.minutes).strftime('%Y-%m-%d %H:%M:%S +0545')
=> "2012-10-18 12:40:12 +0545" 
```

# maven - maven 是否维护任何设置缓存？

> ID：12948216
> 
> 赞同：0
> 
> 时间：2012-10-18T06:15:33.677
> 
> 标签：maven

我在我的 pom.xml 中注释掉了我的本地存储库部分，但是当我运行时`mvn eclipse: eclipse`，它仍然尝试从本地存储库下载插件。我还检查了它所依赖的 pom.xml 并确保将它们注释掉，但这个问题仍然存在。

我想我可能会忽略一些设置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:19:05.193

您可能`settings.xml`在默认的 Maven 存储库位置中有一个`.m2`。如果您在 Eclipse 中运行 maven，请在 Eclipse 首选项中检查您的 maven 配置，在那里您应该可以找到`settings.xml`文件的位置。

# sql-server - 在 SSMS 中组合案例语句

> ID：12948222
> 
> 赞同：1
> 
> 时间：2012-10-18T06:16:10.580
> 
> 标签：sql-server, visual-studio-2010, tsql, ssrs-2008, ssms-2012

我需要创建一个报告，用户可以在区域 > 区 > 委员会 > 事件中切换数据。我使用无法更改的集合数据视图。我需要定义一个区和一个区域，因为它们在数据库中没有正确定义，然后将它们相互关联。我已经接近了，因为我能够分配 17 个不同的“地区代码”——是的，他们有代码，但没有正确的描述——使用 CASE 语句来组成区域：

```
CASE WHEN DistrictCode LIKE 'DST10%' THEN 4
WHEN DistrictCode LIKE 'DST13%' THEN 2
WHEN DistrictCode LIKE 'DST1%' THEN 2
WHEN DistrictCode LIKE 'DST2%' THEN 2
WHEN DistrictCode LIKE 'DST3%' THEN 3
WHEN DistrictCode LIKE 'DST5%' THEN 3
WHEN DistrictCode LIKE 'DST7%' THEN 2
WHEN DistrictCode LIKE 'DST8%' THEN 1
WHEN DistrictCode LIKE 'DSTC4%' THEN 3
WHEN DistrictCode LIKE 'DSTC6%' THEN 2
WHEN DistrictCode LIKE 'DSTC9%' THEN 1
WHEN DistrictCode LIKE 'DT11%' THEN 4
WHEN DistrictCode LIKE 'DT12%' THEN 4
WHEN DistrictCode LIKE 'DT15%' THEN 4
WHEN DistrictCode LIKE 'DT16%' THEN 4
WHEN DistrictCode LIKE 'DT17%' THEN 4
WHEN DistrictCode LIKE 'UP17%' THEN 4
WHEN DistrictCode LIKE 'UPL11%' THEN 4
ELSE 5
END AS Region 
```

使用“地区描述”数据，我可以创建地区：

```
CASE WHEN DistrictDesc IN ('1' , '1A' , '1B') THEN 'District 1' 
    WHEN DistrictDesc IN ('2' , '2A' , '2B' , '2C') THEN 'District 2'
    WHEN DistrictDesc IN ('3' , '3A' , '3B') THEN 'District 3'
    WHEN DistrictDesc IN ('4' , '4A' , '4B' , '4C' , '4D' , '4E' , '4F') THEN 'District 4'
    WHEN DistrictDesc IN ('5' , '5A' , '5B' , '5C') THEN 'District 5'
    WHEN DistrictDesc IN ('6' , '6A') THEN 'District 6'
    WHEN DistrictDesc IN ('7' , '7A' , '7B') THEN 'District 7'
    WHEN DistrictDesc IN ('8' , '8A' , '8B' , '8C') THEN 'District 8'
    WHEN DistrictDesc IN ('9' , '9A') THEN 'District 9'
    WHEN DistrictDesc IN ('10' , '10A' , '10B' , '10C') THEN 'District 10'
    WHEN DistrictDesc IN ('11' , '11A' , '11B' , '11C') THEN 'District 11'
    WHEN DistrictDesc IN ('12' , '12A' , '12B' , '12C') THEN 'District 12'
    WHEN DistrictDesc IN ('13' , '13A') THEN 'District 13'
    WHEN DistrictDesc IN ('14' , '14A' , '14B' , '14C' , '14D') THEN 'District 14'
    WHEN DistrictDesc IN ('15' , '15A' , '15B' , '15C' , '15D') THEN 'District 15'
    WHEN DistrictDesc IN ('16' , '16A' , '16B' , '16C') THEN 'District 16'
    WHEN DistrictDesc IN ('17' , '17A' , '17B') THEN 'District 17'
    ELSE ISNULL (DistrictDesc,'No District')
    END AS District 
```

这适用于 SSMS 以返回查询，但是当我在 VS Report Builder 中预览报告时，我需要将 Region 设置为报告的参数。无论是设置区域值还是让它从查询中检索值，我都会在区域预览中的下拉列表中获得 1、2、3、4 和 5（我的区域）的倍数。

我怎样才能让它只为 1、2、3、4 或 5 返回一次？有没有办法可以结合这些。如果我使用 Distinct 那么我会丢失一些数据，不是吗？我尝试使用 IN 并列出每个地区代码，但返回了相同的问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T08:14:41.100

您上面的代码不可维护。

您应该创建一个映射您的代码和描述的地区表，并加入该表，并将其用作参数的来源。这将具有解决您的问题和改进您的查询的双重好处

# select - Struts2 中的 Onchange 事件

> ID：12948226
> 
> 赞同：2
> 
> 时间：2012-10-18T06:16:36.567
> 
> 标签：select, struts2, onchange

如何在 struts2 中使用 select 选项调用 onchange 事件的操作。

这是我的代码以及如何与 On change 事件集成。

```
<s:select name="menuItem" list="menuItems" listKey="menuItemID"

listValue="menuItemName" headerValue="--MenuItems--"

cssClass="selectbox_bg2" id="select" /> 
```

任何人都可以请提供一个例子..

谢谢，

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-18T06:23:18.737

`onchange`与常规 HTML 标记相比，您如何应用或任何其他 javascript 事件处理程序到 struts 标记没有区别。[Struts2 选择标签引用](http://struts.apache.org/2.0.12/docs/select.html)

```
<s:select name="menuItem" list="menuItems" listKey="menuItemID"

listValue="menuItemName" headerValue="--MenuItems--"

cssClass="selectbox_bg2" id="select" onchange="handleChange(this.value)"/> 
```

JavaScript

```
function handleChange(value){
  window.location="callMyAction?ValueToSubmit="+value; //or you can submit a form from here or make an ajax call
} 
```

或者，如果您使用的是*jquery*，那么

```
$("#select").change(function(e){
    var value = $(this).val();
    //submit a form or make ajax call or use window.location
}); 
```

# .net - 从任务栏和开始菜单固定/取消固定

> ID：12948228
> 
> 赞同：1
> 
> 时间：2012-10-18T06:16:42.660
> 
> 标签：.net, vb.net, .net-3.5

我需要在我的应用程序（在 .Net framework 3.5 中开发）中提供“固定到任务栏”、“固定到开始菜单”、“从任务栏取消固定”和“从开始菜单取消固定”功能。目前我已经使用下面的代码片段实现了该功能：

```
Dim verbs As FolderItemVerbs = link.Verbs()
For i As Integer = 0 To verbs.Count - 1
  Dim verb As FolderItemVerb = verbs.Item(i)
  Dim verbName As String = verb.Name.Replace("&", String.Empty)
  If (verbName.Equals("pin to taskbar")) Or (verbName.Equals("unpin from taskbar")) Then
  ‘If (verbName.Equals("Pin to Start Menu")) Or (verbName.Equals("Unpin from Start Menu")) Then
    verb.DoIt()
  End If
Next 
```

代码运行良好，但就我而言，我的应用程序广泛分布在世界各地，因此使用不同的语言环境设置（不同的语言）运行应用程序非常常见。上面的代码有这个限制，它不适用于所有不同的语言（例如法语、德语等）。你能帮助我如何实现与语言无关的固定和取消固定功能。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-03T14:34:30.557

正如评论中提到的，你不应该这样做。

我无法访问操作系统来确认这一点，但您应该在注册表中找到这些字符串，或者，为了避免让它变得那么容易，它们可能只在资源中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-11-19T12:17:51.893

它有效，试试这个：

```
 [DllImport("kernel32.dll")]
    private static extern IntPtr LoadLibrary(string dllName);
    [DllImport("user32.dll", CharSet = CharSet.Auto)]
    static extern int LoadString(IntPtr hInstance, uint uID, StringBuilder lpBuffer, int nBufferMax);

    int MAX_PATH = 255;
    var actionIndex = pin ? 5386 : 5387; // 5386 is the DLL index for"Pin to Tas&kbar", ref. http://www.win7dll.info/shell32_dll.html
    StringBuilder szPinToStartLocalized = new StringBuilder(MAX_PATH);
    IntPtr hShell32 = LoadLibrary("Shell32.dll");
    LoadString(hShell32, (uint)actionIndex, szPinToStartLocalized, MAX_PATH);
    string localizedVerb = szPinToStartLocalized.ToString();

If (verbName.Equals(localizedVerb )) Or (verbName.Equals(localizedVerb )) Then 
```

# php - DataTables：#example 工作，但 #datatable 在进行 AJAX 调用时不工作

> ID：12948231
> 
> 赞同：3
> 
> 时间：2012-10-18T06:17:04.230
> 
> 标签：php, jquery, jquery-plugins, datatables

我想知道#example 和#datatable 之间的区别。我在那里看到了一个例子，他们使用一个带有 div id 的表作为数据表，*使用*了一些硬编码的值。另一个以 div id 为*示例*的表。我可以为第二个示例进行 Ajax 调用。但我不能为第一个做。

```
<script type="text/javascript">
    $(document).ready(function() {
        var oTable = $('#example').dataTable( {
            "bProcessing": true,
            "sAjaxSource": "Json/CustomerListJson.php",
            "sScrollX": "70%",
            "sScrollXInner": "110%",
            "bScrollCollapse": true
        } );
    } );                
</script> 
```

上面的代码运行良好。但是，如果我将表 id 更改为数据表，例如

```
<script type="text/javascript">
    $(document).ready(function() {
        var oTable = $('#datatable').dataTable( {
            "bProcessing": true,
            "sAjaxSource": "Json/CustomerListJson.php",
            "sScrollX": "70%",
            "sScrollXInner": "110%",
            "bScrollCollapse": true
        } );
    } );                
</script>
<div id="dynamic">
<table cellpadding="0" cellspacing="0" border="0" class="display dataTable" id="datatable">
    <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Contact</th>
            <th>Email</th>
            <th>Address</th>
            <th>City</th>
            <th>State</th>
            <th>Country</th>
            <th>Phone</th>
        </tr>
    </thead>
    <tbody>

    </tbody>
</table>     
</div> 
```

我收到一个警告弹出警报，上面写着

DataTables 警告（表 id = 'datatable'）：无法重新初始化 DataTable。

要检索此表的 DataTables 对象，请不传递任何参数或查看 bRetrieve 和 bDestroy 的文档。

这是我第一个使用 Bootstrap CSS 的项目。请给我最好的方法。

我想要这种外观和感觉。

![在此处输入图像描述](../Images/b9658933bd718eb3fe0b54b33e84599f.png) 但我得到了这种类型的桌子。 ![在此处输入图像描述](../Images/8fafa01fe39b9b78ce188a261cb510c5.png)

最后我收到了这个错误信息，如果我使用#datatable

```
DataTables warning (table id = 'datatable'): Cannot reinitialise DataTable.

To retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-22T06:27:03.997

当您两次初始化同一个数据表时，您将收到警告。检查[这个](http://jsfiddle.net/tNXnB/1/)例子。[使用数据表文档](http://datatables.net/blog/Twitter_Bootstrap)中给出的示例，我能够应用 Bootstrap css。检查相同的小提琴链接。

如果由于某种原因您无法删除第二个数据表调用，请将 bDestroy 设置为 true 链接此[示例](http://live.datatables.net/#javascript,html)或检查[此](https://stackoverflow.com/questions/6759303/jquery-datatable-redraw-issue)链接`$("#tableId").dataTable().fnDestroy();`。

```
 $('#example').dataTable({
        "sScrollY": "200px",
        "bPaginate": false
    });

    // Some time later....
    $('#example').dataTable({
        "bFilter": false,
        "bDestroy": true //<-- set bDestroy to true which will destroy the previous initializarion
    }); 
```

改变这个

```
var oTable = $('#datatable').dataTable( {
        "bProcessing": true,
        "sAjaxSource": "Json/CustomerListJson.php",
        "sScrollX": "70%",
        "sScrollXInner": "110%",
        "bScrollCollapse": true
    } ); 
```

至

```
var oTable = $('#datatable').dataTable( {
        "bProcessing": true,
        "sAjaxSource": "Json/CustomerListJson.php",
        "sScrollX": "70%",
        "sScrollXInner": "110%",
        "bScrollCollapse": true,
        "bDestroy": true,
        "bJQueryUI": true
    } ); 
```

# java - Java日历日期添加和计算

> ID：12948233
> 
> 赞同：0
> 
> 时间：2012-10-18T06:17:06.467
> 
> 标签：java, sql, date, servlets, calendar

```
while (rs.next()) {
    String rn = rs.getString(3);
    String sqldate = rs.getString(2); // database reservation date
    if (rn.equals(rnumber)) {
        Calendar cal = Calendar.getInstance();
        String rdate = (Integer.toString(cal.get(Calendar.YEAR)) + "-" + Integer.toString(cal.get(Calendar.MONTH)) + "-" + Integer.toString(cal.get(Calendar.DATE)));
    } else {
        response.sendRedirect("status.jsp?Status=Reservation number not exist");
    }
} 
```

我需要在 SQL 日期（ 2012-10-05 +7 ）上增加 7 天，并且需要检查这些天是否在 SQL 日期和当前日期之间。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T06:36:02.753

您需要解析`date`字符串以创建`java.sql.Date`对象：-

```
String sqldate = rs.getString(2);
DateFormat DOB = new SimpleDateFormat("yyyy-MM-dd");
java.sql.Date convertedDate = new java.sql.Date(DOB.parse(sqldate).getTime()); 
```

然后使用`Calendar.setTime()`方法设置`Date`为日历实例： -

```
Calendar cal = Calendar.getInstance();
cal.setTime(convertedDate);
cal.add(Calendar.DATE, 7); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T06:20:22.060

使用[Joda 时间库](http://joda-time.sourceforge.net)。它很容易处理日期。

```
DateTime dt = new DateTime(); 
```

您可以加上天、月、年并查找[文档](http://joda-time.sourceforge.net/api-release/org/joda/time/DateTime.html)。这将在 java 8 中添加

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-18T06:46:30.477

尝试使用“int days = Days.daysBetween(sqlDate, todaysDate).getDays();” 并检查它是否大于 7

# android - Android ArrayList 迭代

> ID：12948234
> 
> 赞同：5
> 
> 时间：2012-10-18T06:17:17.583
> 
> 标签：android, arraylist

我有一个存储区域名称的 ArrayList。我想检查此列表以查找任意人是否来自不同地区。如果他们来自不同的地区，我会做出决定。我通过以下代码实现了这一点。注意 area_IdList 和 area_IdListduplicate 本质上是同一个 ArrayList。这段代码是否有效或者任何人都可以建议更有效的代码？提前致谢。

```
public List<String> area_IdList = new ArrayList<String>();
public List<String> area_IdListduplicate = new ArrayList<String>();

for (int i = 0; i < area_IdList.size(); i++) 
{  
    for (int k = 1; k< area_IdListduplicate.size(); k++)
    {
        String sa= area_IdListduplicate.get(k);
        String sb= area_IdList.get(i);
        if (!sa.equalsIgnoreCase(sb))
        { 
            some decision
        }
    }             
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-18T06:32:18.737

```
for (String area : area_IdList) 
{  
    for (String duplicatedArea : area_IdListduplicate)
    {
        if (!area.equalsIgnoreCase(duplicatedArea))
        { 
            // some decision
        }
    }             
} 
```

这更有效，速度更快，而不是按索引迭代。因此，这将逐步检查每个元素`area_IdList`和所有元素，`area_idListduplicate`并且每次它们不匹配时，都会做出这个决定。（如果那是你想要实现的）

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-18T06:41:16.417

这是一个 O(2N) 解决方案，成本为 2N 内存，而不是 N^2 时间和 N 内存成本。取决于您拥有的项目数量，但此解决方案的成本将大大低于 N^2 解决方案。

```
 Set<String> list=new Set<String>();
  for (String area : area_IdList) 
  {  
    list.add(area.toLowerCase());
  }

  for (String duplicatedArea : area_IdListduplicate)
  {
    if(list.contains(duplicatedArea.toLowerCase())){
      //Do something
    }
  } 
```

至于不使用索引，请参阅[使用增强的 For 循环语法](http://developer.android.com/guide/practices/performance.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-18T06:26:54.680

你可以这样尝试

```
 for(String areaId : area_IdList){
    if(!area_IdListduplicate.contains(areaId){
    //some decision
    }
    } 
```

# magento - Magento EE FPC打孔法师_产品目录_Block_产品_价格

> ID：12948235
> 
> 赞同：5
> 
> 时间：2012-10-18T06:17:18.717
> 
> 标签：magento

我花了很多时间弄清楚代码/参数以在 magento 中为 Mage_Catalog_Block_Product_Price 块打孔。我可以在第一次加载页面时显示价格，但是当缓存 id 是唯一的时，它不会正确呈现价格（它确实会在应该缓存时正确缓存它）。我知道我需要向它发送参数，例如 product_id 等，但不清楚需要从 getCacheKeyInfo 将什么（例如'xx'）发送到缓存容器中以在 $this->_placeholder->getAttribute('xx' 中使用）。以及需要准备什么并将其从 _renderView() 发送到价格布局/视图。

到目前为止，我已成功完成以下操作（它们各自输出测试数据）

*   在我的模块 /etc 文件夹中创建了 cache.xml
*   创建缓存容器模型并验证作品（只需要设置）
*   将 Mage_Catalog_Block_Product_Price 重写/扩展为我自己的模型以添加 getCacheKeyInfo()

所以问题是我已经尝试了容器模型的 _getCacheId() 和 _renderBlock() 与 getCacheKeyInfo() 的许多变体，如上所述。但我遇到了一个绊脚石。如果有人能引导我朝着正确的方向前进，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T13:21:06.367

我也一直在为整页缓存而苦苦挣扎。
这些是我的发现，对我很有帮助。

请看：`app/code/core/Enterprise/PageCache/Model/Processor/Default.php`47号线

```
 /**
 * Check if request can be cached
 *
 * @param Zend_Controller_Request_Http $request
 * @return bool
 */
public function allowCache(Zend_Controller_Request_Http $request)
{
    foreach ($this->_noCacheGetParams as $param) {
        if (!is_null($request->getParam($param, null))) {
            return false;
        }
    }
    if (Mage::getSingleton('core/session')->getNoCacheFlag()) {
        return false;
    }
    return true;
} 
```

查看此功能似乎有两种方法可以避免（禁用）整页缓存：

**GET 参数：**
可以使用三个下划线前缀的参数 'store' 或 'from_store' 来避免缓存。例子：

```
http://magentourl.com/catelog/category/view/id/123?___store

Mage::getUrl('catalog/category/view', array('id' => 123, 'query' => array('___store' => ''))) 
```

**会话变量：**
您还可以通过设置（临时）会话变量来避免整页缓存：

```
Mage::getSingleton('core/session')->setNoCacheFlag(true) 
```

# python - Python十进制到二进制数组

> ID：12948236
> 
> 赞同：1
> 
> 时间：2012-10-18T06:17:20.487
> 
> 标签：python, binary, multidimensional-array

我的问题与这个stackoverflow帖子有关：[在此处输入链接描述](https://stackoverflow.com/questions/3528146/convert-decimal-to-binary-in-python)，inspectorG4dget提供了代码

```
def decToBin(n):
    if n==0: return ''
    else:
        return decToBin(n/2) + str(n%2) 
```

Alex Martelli 观察到的递归是不必要的，因为可以使用明显的 bin(x)[2:]。如果用户需要二进制表示作为字符串，这很好。但是，我需要二进制表示形式为列表或 numpy ndarray。如我所见，我的选择是 a) 改编此代码或 b) 类似的东西`string.split(','.join(bin(10)[2:]),',')`。我知道字符串操作往往很昂贵，但递归也可能很昂贵。

鉴于我需要将整数转换为位数组，哪个选项（a 或 b）可能更有效？还有另一种更简单更好的方法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-18T06:35:40.963

您可以简单地将字符串转换为 list by `list()`。

```
list(bin(10)[2:]) 
```

# r - 重塑奇数列表

> ID：12948243
> 
> 赞同：1
> 
> 时间：2012-10-18T06:17:57.287
> 
> 标签：r

这是一项非常具体的任务，但我相信从中学习可能足够普遍，可以使用。我有一个设计奇特的时间戳数据集，我需要对其进行重塑，并且需要使用基本安装附带的包进行操作。我认为看比解释容易。

带有时间戳的命名向量列表：

```
x <- structure(list(A = c("2.40", ":", "3.00", "5.01", "6.62", ":", 
    "7.00", "9.00"), B = c("2.40", "5.01", "6.62", ":", "7.00", "9.00"
    ), C = c("2.40", ":", "3.00", "5.01", "6.62", ":", "7.00", "9.00"
    )), .Names = c("A", "B", "C")) 
```

列表的样子：

```
> x
[[1]]
[1] "2.40" ":"    "3.00" "5.01" "6.62" ":"    "7.00" "9.00"

[[2]]
[1] "2.40" "5.01" "6.62" ":"    "7.00" "9.00"

[[3]]
[1] "2.40" ":"    "3.00" "5.01" "6.62" ":"    "7.00" "9.00" 
```

我想要什么：

```
$A
     start      end  
1   "2.40"   "3.00"   
2   "5.01"   "5.01"    
3   "6.62"   "7.00"   
4   "9.00"   "9.00"  

$B
     start      end 
1   "2.40"   "2.40"   
2   "5.01"   "5.01"  
3   "6.62"   "7:00"   
4   "9.00"   "9.00"   

$C
     start      end 
1   "2.40"   "3.00"
2   "5.01"   "5.01" 
3   "6.62"   "7.00"
4   "9.00"   "9.00" 
```

如果有冒号 (:)，左边的元素是开始值，右边的元素是结束值。如果一个元素没有接触冒号，则它需要重复，并且既是开始值又是结束值。

*注意：如果它是数据框与矩阵，则结果不会有引号*

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-18T07:35:37.143

这是你想要的吗？

```
> lapply(x, function(v)
+   data.frame(start = v[-c(f <- which(v==":"), f + 1)], 
+              end = v[-c(f, f-1)]))
$A
  start  end
1  2.40 3.00
2  5.01 5.01
3  6.62 7.00
4  9.00 9.00

$B
  start  end
1  2.40 2.40
2  5.01 5.01
3  6.62 7.00
4  9.00 9.00

$C
  start  end
1  2.40 3.00
2  5.01 5.01
3  6.62 7.00
4  9.00 9.00 
```

# java - 收到错误 java.lang.RuntimeException

> ID：12948246
> 
> 赞同：-2
> 
> 时间：2012-10-18T06:18:07.730
> 
> 标签：java, android, view

我是安卓新手。我收到错误`java.lang.NullPointerException`并且`java.lang.RuntimeException`应用程序强制关闭。

```
10-18 06:04:12.676: E/AndroidRuntime(340): FATAL EXCEPTION: main
10-18 06:04:12.676: E/AndroidRuntime(340): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.md.ExpertRemote/com.md.ExpertRemote.first.ExpertRemote}: java.lang.NullPointerException
10-18 06:04:12.676: E/AndroidRuntime(340):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
10-18 06:04:12.676: E/AndroidRuntime(340):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
10-18 06:04:12.676: E/AndroidRuntime(340):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)
10-18 06:04:12.676: E/AndroidRuntime(340):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
10-18 06:04:12.676: E/AndroidRuntime(340):  at android.os.Handler.dispatchMessage(Handler.java:99)
10-18 06:04:12.676: E/AndroidRuntime(340):  at android.os.Looper.loop(Looper.java:123)
10-18 06:04:12.676: E/AndroidRuntime(340):  at android.app.ActivityThread.main(ActivityThread.java:4627)
10-18 06:04:12.676: E/AndroidRuntime(340):  at java.lang.reflect.Method.invokeNative(Native Method)
10-18 06:04:12.676: E/AndroidRuntime(340):  at java.lang.reflect.Method.invoke(Method.java:521)
10-18 06:04:12.676: E/AndroidRuntime(340):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
10-18 06:04:12.676: E/AndroidRuntime(340):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
10-18 06:04:12.676: E/AndroidRuntime(340):  at dalvik.system.NativeStart.main(Native Method)
10-18 06:04:12.676: E/AndroidRuntime(340): Caused by: java.lang.NullPointerException
10-18 06:04:12.676: E/AndroidRuntime(340):  at android.view.ViewGroup.addViewInner(ViewGroup.java:1969)
10-18 06:04:12.676: E/AndroidRuntime(340):  at android.view.ViewGroup.addView(ViewGroup.java:1865)
10-18 06:04:12.676: E/AndroidRuntime(340):  at android.view.ViewGroup.addView(ViewGroup.java:1845)
10-18 06:04:12.676: E/AndroidRuntime(340):  at com.md.ExpertRemote.first.ExpertRemote.onCreate(ExpertRemote.java:286)
10-18 06:04:12.676: E/AndroidRuntime(340):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
10-18 06:04:12.676: E/AndroidRuntime(340):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
10-18 06:04:12.676: E/AndroidRuntime(340):  ... 11 more 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-18T06:20:52.240

给定堆栈跟踪，它看起来像这样一行：

```
at com.md.ExpertRemote.first.ExpertRemote.onCreate(ExpertRemote.java:286) 
```

... 可能正在调用`ViewGroup.addView()`并传递一个`null`值作为参数之一。该参数仅在几个级别下得到验证，因此堆栈跟踪的额外行。

查看 ExpertRemote.java 中的第 286 行，找出其中一个值可能为空的原因。（根据我对此类问题的经验，这通常是因为您使用了错误的 ID 来查找对象。）不幸的是，如果没有看到代码，我们无法提供比这更具体的帮助。

在三个方面将其用作学习经验很重要：

*   了解如何阅读堆栈跟踪。一个非常简单的第一步是找到提到*您的*代码的第一个位置。
*   了解如何使用调试器。虽然我自己没有做过任何 Android 开发，但我希望*在*调试器中运行时，异常会触发执行在有问题的地方暂停。即使没有，使用调试器也可以帮助您验证对问题的任何诊断（例如检查参数值是否真的为空）
*   了解如何[发布更好的问题](https://web.archive.org/web/20140709094611/http://msmvps.com/blogs/jon_skeet/archive/2010/08/29/writing-the-perfect-question.aspx)：想想如果*你*试图解决问题，你需要知道什么。当然，这样做也应该首先帮助您解决自己的问题......

# silverlight - Silverlight 图表工具包 5：条形系列数据绑定

> ID：12948247
> 
> 赞同：2
> 
> 时间：2012-10-18T06:18:09.250
> 
> 标签：silverlight

我们正在开发silverlight 应用程序。我们必须使用 RIA 域数据源控件开发绑定条形图系列。

代码片段如下。

```
<chartingToolKit:Chart Title="My bar chart">
  <chartingToolKit:BarSeries Title="Actual" 
                             ItemsSource="{Binding
                             ElementName=actualVsTargetEnergySPDataDomainDataSource,Path=Data}"
                             IndependentValueBinding="{Binding ActualEnergyConsumption}"
                             DependentValueBinding="{Binding XaxisData}">
    <chartingToolKit:BarSeries.IndependentAxis>
      <chartingToolKit:CategoryAxis Orientation="Y"
                                    ShowGridLines="True"
                                    Title="Actual"/>
    </chartingToolKit:BarSeries.IndependentAxis>
    <chartingToolKit:BarSeries.DependentRangeAxis>
      <chartingToolKit:LinearAxis Orientation="X"
                                  ShowGridLines="True"
                                  Title="Target"/> 
    </chartingToolKit:BarSeries.DependentRangeAxis>
  </chartingToolKit:BarSeries>
</chartingToolKit:Chart> 
```

但是，它没有显示任何数据。如果我们提供静态数据而不是域数据源绑定，那么它会显示值。

您能否告诉我，如何将值绑定到条形系列？

# templates - Joomla 分配模板

> ID：12948249
> 
> 赞同：0
> 
> 时间：2012-10-18T06:18:15.987
> 
> 标签：templates, joomla, menu, default

我正在使用 Joomla 2.5.7 并尝试将一些菜单项分配给不同的模板。

例如，当我打开 Joomla 附带的 Atomic 模板并将其分配给特定菜单项时，它不会显示在网站上。它继续显示我的默认模板。

有没有人遇到过这个问题，如果有，知道如何解决吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:55:48.467

您可以尝试下面给出的链接将不同的模板分配给特定的菜单项。但是您不能将默认模板分配给各个页面。

[如何将模板分配给特定页面？](http://docs.joomla.org/How_do_you_assign_a_template_to_a_specific_page%3f)

# java - ViewPager 中的图像网格

> ID：12948250
> 
> 赞同：1
> 
> 时间：2012-10-18T06:18:17.750
> 
> 标签：java, android, onclick, android-viewpager, android-gridview

我正在尝试在我的一个 ViewPager 选项卡中实现自定义图像网格。到目前为止，我解决这个问题的方法是在 xml 中放入一个 GridView，并通过我的布局对其进行膨胀。但是，我的 onClick 侦听器不起作用。

看起来这可能不是最好的方法，因为[我已经提出了一个问题](https://stackoverflow.com/questions/12812704/viewpager-gridview-onitemclick)并且解决 onClick 问题在这一点上似乎并不实际。

有没有更好的方法将自定义图像网格（以及图像项上的一些文本等）放入 ViewPager 并保持其可点击性？

我正在努力改进我的方法。

# javascript - 带有 .parent() 和动态选择器的 jQuery .on()

> ID：12948251
> 
> 赞同：0
> 
> 时间：2012-10-18T06:18:23.217
> 
> 标签：javascript, jquery

```
$(".hovertip").parent().on('hover', function() {
  alert('yay');
}); 
```

我想让上面的东西像 .live() 一样工作，以便它捕捉到 DOM 的动态变化。

我尝试过这样的事情......

```
$(".hovertip").on('hover', $(this).parent(), function() {
  alert('yay');
}); 
```

但这似乎不起作用...

注意 – 这是[jQuery Live 遍历 parent() 选择器](https://stackoverflow.com/questions/12925265/jquery-live-traversal-parent-selector/12925429#comment17548963_12925429)的延续，它使用 .parent() 解决了 .on() 但动态 DOM 更改问题未解决。

* * *

更新：

感谢您的建议...

在对函数执行操作时，我仍然无法让这段代码实时工作，并且在 DOM 更改时让它们像 .live 一样工作。例如......（这在 DOM 更改时不起作用）......

```
$(".hovertip").parent().on('mouseenter', function() {
    var hovertipParentHeight = $(this).outerHeight();
    $(this).find(".hovertip").css("top", (hovertipParentHeight-hovertipHeight)/2 + "px"); 
```

我认为问题是如果我要实施建议的解决方案，我仍然需要在主选择器之前使用 $(this).parent() 作为回调，并且似乎 .parent() 不支持回调：[http： //api.jquery.com/parent/](http://api.jquery.com/parent/)

例如：

```
$('.hovertip').on('hover', function(){
  $(this).parent(function() {
  var hovertipParentHeight = $(this).outerHeight();
  $(this).find(".hovertip").css("top", (hovertipParentHeight-hovertipHeight)/2 + "px");
 ... 
```

});

不工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T06:22:04.697

[.on()](http://api.jquery.com/on/)（和较旧的 .live()）通过侦听源自其子级的冒泡事件来工作。您可以愉快地添加/删除子元素，知道父元素仍会在听。

考虑到这一点，将 .on() 绑定到不会更改的父元素。您可以将其绑定到`document`.

```
$(".highest-level-container").on('hover', '.hovertip', function() {
    console.log($(this).parent());
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T06:23:33.883

您的错误是`this`选择器（第二个）参数中没有引用.hovertip。

如果你想在 .hovertip 元素的每个父元素中捕获事件，你可以这样做：

```
$('.hovertip').parent().on('hover', '.hovertip', function(){
  alert('yay');
}); 
```

如果父母都有相同的班级，您应该使用@Matt Stone 的解决方案。

**更新：**我刚刚在另一篇文章中看到了您的回答：

> $(".hovertip").parent().on('hover', function() { alert('yay'); }); 正在工作，不幸的是，一旦页面通过 AJAX 刷新，它就会停止工作。

那是因为当附加了事件处理程序的元素（在您的情况下是 .hovertip 元素的父级）被替换时，它会停止工作。

我建议你为所有应该获得悬停事件处理程序的元素（.hovertip 的所有父元素）提供一个类。然后很容易

示例：$('body').on('hover', '.hovertip', function(){});

# c# - 通过 Outlook 邮件发送 xml 后 C# 应用程序崩溃

> ID：12948252
> 
> 赞同：-1
> 
> 时间：2012-10-18T06:18:23.707
> 
> 标签：c#

通过 Outlook 邮件发送 xml 后，C# 应用程序崩溃。它还需要在发送邮件时关闭 Outlook。使用 OUTLOOK 2010。它适用于较低版本。

```
using System;
using System.Reflection;

namespace Amdocs.Infra.Controls
{
   public class OutlookWrapper
   {
     public OutlookWrapper ()
     {
       outlookType = Type.GetTypeFromProgID ("Outlook.Application", true);
       outlookObject = Activator.CreateInstance (outlookType);
       namespaceMAPI = outlookType.InvokeMember ("GetNamespace", BindingFlags.InvokeMethod, null, outlookObject, new object [] {"MAPI"});
       namespaceMAPIType = namespaceMAPI.GetType ();
       namespaceMAPIType.InvokeMember ("Logon", BindingFlags.InvokeMethod, null, namespaceMAPI, new object [] {null, null, true, false});
     }
#endregion

#region ~OutlookWrapper ()
~OutlookWrapper ()
{
  namespaceMAPIType.InvokeMember ("Logoff", BindingFlags.InvokeMethod, null, namespaceMAPI, new object [] {});
}
#endregion

#region SendMail

#region public void SendMail (bool modal, string toValue)
public void SendMail (bool modal, string toValue)
{
  SendMail (modal, toValue, String.Empty);
}
#endregion
#region public void SendMail (bool modal, string toValue, string subjectValue)
public void SendMail (bool modal, string toValue, string subjectValue)
{
  SendMail (modal, toValue, subjectValue, String.Empty);
}
#endregion
#region public void SendMail (bool modal, string toValue, string subjectValue, string bodyValue)
public void SendMail (bool modal, string toValue, string subjectValue, string bodyValue)
{
  SendMail (modal, toValue, subjectValue, bodyValue, null);
}
#endregion
#region public void SendMail (bool modal, string toValue, string subjectValue, string bodyValue, string[] attachments)
public void SendMail (bool modal, string toValue, string subjectValue, string bodyValue, string[] attachments)
{
  CreateNewMailItem (toValue, subjectValue, bodyValue, attachments);
  outlookMailItemType.InvokeMember ("Send", BindingFlags.InvokeMethod, null, outlookMailItem, new object [] {modal});
}
#endregion

#endregion

#region NewMail

#region public void NewMail ()
public void NewMail ()
{
  NewMail (true);
}
#endregion
#region public void NewMail (bool modal)
public void NewMail (bool modal)
{
  NewMail (modal, String.Empty);
}
#endregion
#region public void NewMail (bool modal, string toValue)
public void NewMail (bool modal, string toValue)
{
  NewMail (modal, toValue, String.Empty);
}
#endregion
#region public void NewMail (bool modal, string toValue, string subjectValue)
public void NewMail (bool modal, string toValue, string subjectValue)
{
  NewMail (modal, toValue, subjectValue, String.Empty);
}
#endregion
#region public void NewMail (bool modal, string toValue, string subjectValue, string bodyValue)
public void NewMail (bool modal, string toValue, string subjectValue, string bodyValue)
{
  NewMail (modal, toValue, subjectValue, bodyValue, null);
}
#endregion
#region public void NewMail (bool modal, string toValue, string subjectValue, string bodyValue, string[] attachments)
public void NewMail (bool modal, string toValue, string subjectValue, string bodyValue, string[] attachments)
{
  CreateNewMailItem (toValue, subjectValue, bodyValue, attachments);
  outlookMailItemType.InvokeMember ("Display", BindingFlags.InvokeMethod, null, outlookMailItem, new object [] {modal});
}
#endregion

#endregion

#region private void CreateNewMailItem (string toValue, string subjectValue, string bodyValue, string[] attachments)
private void CreateNewMailItem (string toValue, string subjectValue, string bodyValue, string[] attachments)
{
  outlookMailItem = outlookType.InvokeMember ("CreateItem", BindingFlags.InvokeMethod, null, outlookObject, new object [] {null});
  if (outlookMailItem == null) throw new ApplicationException (StringsManager.GetString("Cannot create outlook mail item."));

  outlookMailItemType = outlookMailItem.GetType ();
  if (outlookMailItemType == null) throw new ApplicationException (StringsManager.GetString("Cannot get outlook mail item type."));

  outlookMailItemType.InvokeMember ("To",      BindingFlags.SetProperty, null, outlookMailItem, new object [] {toValue});
  outlookMailItemType.InvokeMember ("Subject", BindingFlags.SetProperty, null, outlookMailItem, new object [] {subjectValue});
  outlookMailItemType.InvokeMember ("Body",    BindingFlags.SetProperty, null, outlookMailItem, new object [] {bodyValue});

  if (attachments != null)
  {
    object attachmentsObject = outlookMailItemType.InvokeMember ("Attachments", BindingFlags.GetProperty, null, outlookMailItem, new object [] {});
    if (attachmentsObject == null) throw new ApplicationException (StringsManager.GetString("Cannot get outlook attachments property."));

    System.Type attachmentsType = attachmentsObject.GetType ();
    if (attachmentsType == null) throw new ApplicationException (StringsManager.GetString("Cannot get outlook attachments property type."));

    int bodyLength = bodyValue.Length;

    /*
     * We do not need this since we have the original text message
     * 
    object bodyObject = outlookMailItemType.InvokeMember ("Body", BindingFlags.GetProperty, null, outlookMailItem, new object [] {});
    if (bodyObject == null) throw new ApplicationException (StringsManager.GetString("Cannot get outlook body property."));

    System.Type bodyType = bodyObject.GetType ();
    if (bodyType == null) throw new ApplicationException (StringsManager.GetString("Cannot get outlook body property type."));
    */

    foreach (string s in attachments)
      attachmentsType.InvokeMember ("Add", BindingFlags.InvokeMethod, null, attachmentsObject, new object [] {s, olByValue, ++bodyLength, s});
  }
}
#endregion

#region private members

private System.Type outlookType         = null;
private object      outlookObject       = null;
private object      namespaceMAPI       = null;
private System.Type namespaceMAPIType   = null;
object              outlookMailItem     = null;
System.Type         outlookMailItemType = null;

private const int olFolderDeleted   = 3;
private const int olFolderOutbox    = 4;
private const int olFolderSentItems = 5; 
private const int olFolderInbox     = 6; 
private const int olFolderCalendar  = 9; 
private const int olFolderContacts  = 10; 
private const int olFolderJournal   = 11; 
private const int olFolderNotes     = 12; 
private const int olFolderTasks     = 13; 
private const int olFolderDrafts    = 16; 

private const int olByValue      = 1;
private const int olByReference  = 4;
private const int olEmbeddeditem = 5;

#endregion
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-22T03:48:45.043

我发现了问题...转到属性（Outlook 的）...兼容性...选择任何旧版本 我的应用程序与 XP Service Pack 3 兼容。感谢上帝...我花了很多时间来查找错误详细信息...但最后..这个简单的事情困扰了我 4-5 天..如果您有类似的问题，可以使用这个作为您的主要调查来节省时间...祝你好运

# extjs4 - ExtJS 组件的可重用性

> ID：12948253
> 
> 赞同：0
> 
> 时间：2012-10-18T06:18:24.977
> 
> 标签：extjs4, reusability

谁能告诉我如何在 ExtJS 4 中实现可重用性概念？我有一个页面，其中有 4 个条形图，为此我必须编写相同的代码 4 次。如何使其通用，以便我们可以调用一个函数，该函数将采用不同的参数，并且该函数将根据我提供给该函数的输入创建一个图表。

有什么例子吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:23:23.610

有一大堆关于写作课程的信息。查看任何 MVC 示例。

自定义类：

```
Ext.define('MyClass', {
    extend: 'Ext.Component',

    initComponent: function(){
        this.html += 'Foo';
        this.callParent();
    }
});

Ext.onReady(function(){
    new MyClass({
        renderTo: document.body,
        html: 'X'
    });
}); 
```

# javascript - Playframework Comet套接字在客户端捕获断开连接

> ID：12948254
> 
> 赞同：3
> 
> 时间：2012-10-18T06:18:25.507
> 
> 标签：javascript, jquery, playframework, playframework-2.0

所以我正在实现一个需要将消息实时发送到浏览器的应用程序。目前这工作正常。当我收到一条消息时，我是一个类似于时钟示例的无类型 Actor。

我的问题是我希望能够在彗星套接字断开连接时重新连接网页。目前在带有彗星插座的镀铬中，加载图标不断旋转。有没有办法可以捕获 iframe/comet 套接字的断开连接消息？或者有什么我可以在 javascript/jquery 中轮询的东西吗？那么我可以重新加载页面吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-24T17:47:11.633

如果您想重新连接“网页”（换句话说，让您的浏览器使用`window.location.reload()`或其他方法向服务器发送另一个请求），标准[play.libs.Comet.onDisconnected](http://www.playframework.org/documentation/api/2.0/java/play/libs/Comet.html#onDisconnected%28play.libs.F.Callback0%29)处理程序对您没有用 - 它的域是服务器端，而不是客户端。

为了让您的客户端自行管理可能的停电，您可能需要实施“心跳”方案。当自上一条消息以来经过太多时间时，客户端应用程序将 ping 您的服务器。一种可能的方法：

```
var CometProcessor = {
  processMessage:         function(message) {
    console.log(message);
  },
  handleHeartbeatTimeout: function() {
    alert('Heartbeat process timeout');
  },
  handleHeartbeatError: function() {
    alert('Heartbeat process error');
  },

  timeoutPeriod:  10000,      // in milliseconds
  timeoutId:      0,          // will contain an ID of the current 'checking' timeout
  checkHandler:   null,       // will contain a link to XHR object

  checkBeat: function() {
    // storing the reference to created XHR object:
    this.checkHandler = $.ajax({
      url:     your_server_url,
      // set it to the URL of ping script, that will respond instantly

      timeout:     1000,
      // this is configurable, but obviously it makes little sense setting this param
      // higher than `timeoutPeriod`

      success:     $.proxy(function() {
        // so this particular heartbeat request check went through ok,
        // but the next may not be so lucky: we need to schedule another check
        this.timeoutId = window.setTimeout(
          $.proxy(this.checkBeat, this), this.timeoutPeriod);
      }, this),

      error:       $.proxy(function(x, t) {
        if (t === 'timeout') {
          this.handleHeartbeatTimeout();
        }
        else {
          this.handleHeartbeatError();
        }
      }, this)
    });
  },

  message: function(message) {
    // when we receive a message, link is obviously functioning,
    // so we need to stop all the checking procedures
    if (this.checkHandler) {
      this.checkHandler.abort();
      window.clearTimeout(this.timeoutId);
      this.checkHandler = null;
    }
    processMessage(message); // this is where the actual processing takes place

    // when we done with processing, we need to setup the heartbeat again:
    this.timeoutId = window.setTimeout(
      $.proxy(this.checkBeat, this), this.timeoutPeriod);
  }
}; 
```

在服务器端利用这个对象非常简单：您只需替换与[本示例](https://github.com/playframework/Play20/wiki/ScalaComet)中类似的行...

```
Ok.stream(events &> Comet(callback = "parent.cometMessage")) 
```

... 有了这个：

```
Ok.stream(events &> Comet(callback = "parent.CometProcessor.message")) 
```

# javascript - 如何将 javascript 用于 cookie

> ID：12948259
> 
> 赞同：-2
> 
> 时间：2012-10-18T06:18:36.420
> 
> 标签：javascript, cookies

> **可能重复：**
> [使用 JavaScript 获取和设置单个 cookie 值的“最佳”方式是什么](https://stackoverflow.com/questions/260749/what-is-the-best-way-to-get-and-set-a-single-cookie-value-using-javascript)

我试图弄清楚如何在 JavaScript 中使用 cookie。我正在尝试存储电子邮件地址、地址和电话号码。任何人都可以帮忙吗？我试过在谷歌机器上寻找帮助，但我没有找到任何有用的东西。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-10-18T06:20:47.310

听说过谷歌吗？:)
[http://www.w3schools.com/js/js_cookies.asp](http://www.w3schools.com/js/js_cookies.asp)

但是，如果您使用的是 HTML5，那就更容易了。

[http://www.w3schools.com/html/html5_webstorage.asp](http://www.w3schools.com/html/html5_webstorage.asp)

# c# - 为什么我不能返回泛型类型约束中指定的类型，但可以在没有约束的情况下返回相同的类型？

> ID：12948261
> 
> 赞同：1
> 
> 时间：2012-10-18T06:18:42.117
> 
> 标签：c#, type-inference, return-type, generic-constraints

我有这个：

```
public IClub GetTeam()
{
    return new Arsenal();
}
//compiles since Arsenal is an IClub

public T GetTeam<T>() where T : IClub, new()
{
    return new Arsenal();
}
//wouldn't compile saying "cannot convert Arsenal to T" 
```

但这些东西有效：

```
public T GetTeam<T>() where T : IClub, new()
{
    T t = new T();
    t.Sponsor = "Nike"; //since it knows T is IClub,
    return new T();     //but why the injustice to return type alone?
} 
```

1.  为什么即使返回类型仍然存在，第二个代码块也不会编译`IClub`？这不是不公平吗？

2.  我知道我没有充分利用上述代码中类型约束的潜力，但是让代码运行的替代方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T06:21:11.230

T 在编译时是一个未知类型，编译器无法知道它们是否可以从一种类型转换为另一种类型，因此您需要明确地调用该类型的转换。

```
return (T)(object)(new Arsenal()); 
```

这样，编译器就确定可以将阿森纳转换为对象，并且可以将该对象转换为 T。如果转换无效，您将获得运行时断言，但如果转换正确，它将编译并正常工作。

如果将 T 限制为 IClub，为什么 T 是未知的？因为任何类型都可以实现这个接口。您尝试返回阿森纳，但另一个类，假设“汽车：IClub”也实现了 IClub。在这种情况下，T 可以是 Car，但编译器无法证明阿森纳可以转换为 Car... 或任何其他类，因为它只知道它实现了哪个接口，而不是它的真实身份。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T06:21:20.543

这是因为在编译时编译器不知道是否`Arsenal`可以转换为`T`. 毕竟`T`可能是另一种实现方式。`IClub`像在`GetTeam<WhateverTeam>()`. `WhateverTeam`implements `IClub`，但你不能转换`Arsenal`成那个。

如果您希望代码编译（如 Marc-André 的回答），则必须转换结果，但您应该重新考虑您的设计（也调用`GetTeam<WhateverTeam>()`会导致异常）。如果您已经知道将返回哪种类型，那么将该方法设为通用是没有意义的。

# php - 使用 CSS 的下拉菜单

> ID：12948267
> 
> 赞同：2
> 
> 时间：2012-10-18T06:19:23.120
> 
> 标签：php, html, css, wordpress

我正在我的一个菜单项上制作一个下拉菜单。

IE：`| Home | About | Store | Contact |`

我想为说关于页面创建一个下拉菜单...但是每当我尝试添加

```
 <div id="snaznav"> <a href="#" id="home">Home</a>      
<ul>
<li><a href="#" id="about">About</a>
<ul>
     <li><a href="#">Submenu1</li>
     <li><a href="#">Submenu2</li>
     <li><a href="#">Submenu3</li>
</ul>
</li>
</ul></div> 
```

每个下一个菜单项都会受到以下干扰：

主页 | 关于店铺 | 联系方式 |

我不知道..问题出在哪里？

我的 CSS 代码是：

```
#snaznav {

float:left;
height:42px;
top:151px;
width:670px;
}

#snaznav a {
float:left;
height:41px;
display:block;
}

#home {
background:url(http://www.abc.com/home.gif) no-repeat transparent;
background-position:0 -2px!important;
width:77px;
}

#about {
background:url(http://www.abc.com/about.gif) no-repeat transparent;
background-position:-78px -2px!important;
width:104px;
}

#store {
background:url(http://www.abc.com/storegif) no-repeat transparent;
background-position:-307px -2px!important;
width:82px;
}

#contactus {
background:url(http://www.abc.com/contact.gif) no-repeat transparent;
background-position:-388px -2px!important;
width:131px;
} 
```

如果你需要知道什么，尽管说我！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T06:27:36.647

你能用这种方式重写你的 HTML 代码吗：

### HTML：

```
<div id="snaznav">
    <ul>
        <li><a href="#" id="home">Home</a></li>
        <li>
            <a href="#" id="about">About</a>
            <ul>
                <li><a href="#">Submenu1</a></li>
                <li><a href="#">Submenu2</a></li>
                <li><a href="#">Submenu3</a></li>
            </ul>
        </li>
    </ul>
</div>​ 
```

这样您就可以通过这种方式应用 CSS：

### CSS：

```
#snaznav ul {border-bottom: 1px solid #999;}
#snaznav ul li a {display: block; text-decoration: none; color: #333; padding: 5px; border: 1px solid #fff;}
#snaznav ul > li:hover {border: 1px solid #666; border-bottom: 1px solid #fff;}
#snaznav ul li a:hover {background: #ccc; border: 1px solid #999;}
#snaznav ul > li {display: inline-block; position: relative; border: 1px solid #fff;}
#snaznav ul > li ul {display: none; position: absolute; left: -1px; width: 150px; border: 1px solid #666; border-top-color: #fff; margin-top: 1px;}
#snaznav ul > li:hover ul {display: block;}
#snaznav ul > li ul li {display: block;} /* Vertical Menu */
#snaznav ul > li ul li {display: inline-block;} /* Horizontal Menu */​ 
```

### 小提琴： http:
[//jsfiddle.net/VmHXb/1/](http://jsfiddle.net/VmHXb/1/)（垂直）
[http://jsfiddle.net/VmHXb/3/](http://jsfiddle.net/VmHXb/3/)（水平）

# facebook - Karma Wordpress 模板：评论的 Facebook 图标与默认图标重叠

> ID：12948272
> 
> 赞同：2
> 
> 时间：2012-10-18T06:19:48.673
> 
> 标签：facebook, wordpress, comments

如果您查看此屏幕截图：[http](http://cl.ly/image/1J3m2e2x1G1z) ://cl.ly/image/1J3m2e2x1G1z ，您会注意到 facebook iframe 元素覆盖了 Karma 评论气泡。任何人都可以帮助我一起删除气泡或删除 facebook 元素吗？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T03:26:33.597

这可能很容易用 css 修复。如果您有指向该站点的链接，我可以查看它并告诉您需要添加到样式表中的内容。此外，t.thielemans 是对的，最好设置一个子主题（[不像听起来那么复杂](http://www.webdesignerdepot.com/2011/12/creating-your-first-wordpress-child-theme/)），如果您更新主题，这将防止更改消失。

# android - 如何提取特定的 来自获取响应的标签？

> ID：12948284
> 
> 赞同：2
> 
> 时间：2012-10-18T06:20:43.463
> 
> 标签：android, dom, httprequest

我提出了一个 get 请求并将响应存储在 String 中`response`：

```
HttpClient client = new DefaultHttpClient(); 
String getURL = "some_url_with_param_values";
HttpGet get = new HttpGet(getURL);
HttpResponse responseGet = client.execute(get);  
HttpEntity resEntityGet = responseGet.getEntity();   
String response = EntityUtils.toString(resEntityGet); 
```

但我只对`<div>`具有类名的 s感兴趣`<div class="product-data">`。所以，我这样做了：

```
DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
DocumentBuilder builder;
InputSource is;
builder = factory.newDocumentBuilder();
is = new InputSource(new StringReader(xml));
Document doc = builder.parse(is);
NodeList list = doc.getElementsByTagName("product-data"); //I even tried: (div class="product-data)
String test = list.item(0).getNodeValue(); //Just to test it 
```

不幸的是，它没有用。任何帮助将不胜感激。

* * *

我的响应字符串基本上是一个 html 页面。

```
<!DOCTYPE html .....
<html>
<head>
    //some script tags
</head>
<body>
    //some tags
    <div class="product-data">
        //some other tags
    </div>
    //some tags
    <div class="product-data">
        //some other tags
    </div>
    ....
</body>  
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T06:58:16.190

我认为你应该尝试使用`getElementsByClassName('product-data')`

如果这不起作用，您可以随时检查[Jsoup](http://jsoup.org/ "汤")，它提供了一个库，提供了一种从网页中提取 Html 元素的简单方法

```
DefaultHttpClient client = new DefaultHttpClient();
HttpGet get = new HttpGet(url.toURI());
HttpResponse resp = client.execute(get);

String content = EntityUtils.toString(resp.getEntity());
Document doc = Jsoup.parse(content);
Elements ele = doc.select("div.classname"); 
```

这个例子执行一个 Http GET，然后提取所有具有类“classname”的 Div 元素，然后你可以做你喜欢的事情

# c# - 如何在 WPF 的图像控件中设置图像？

> ID：12948292
> 
> 赞同：0
> 
> 时间：2012-10-18T06:20:57.683
> 
> 标签：c#, wpf, image

我在运行时从第 3 方 dll 获取格式为 System.Drawing.Image 的图像。此图像将设置为 UI 上的 WPF Image 控件。如何实现这一点。

请注意，图像在内存中，而不是存储在磁盘上。

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:26:37.033

假设库的名称是`TestLibrary`，图像的路径是`/Images/Image1.png`. 您可以设置 Image 的 Source 属性，如下所示。

```
<Image Source="/TestLibrary;Component/Images/Image1.png"/> 
```

您可以访问[WPF 中的 Pack URIs 以](http://msdn.microsoft.com/en-us/library/aa970069.aspx)获取更多参考。

# ios - iOS 随机数的高斯分布

> ID：12948293
> 
> 赞同：6
> 
> 时间：2012-10-18T06:21:01.450
> 
> 标签：ios, random, distribution, gaussian

> **可能的重复：**
> [在 Objective-C/C 中生成随机高斯双精度](https://stackoverflow.com/questions/8779843/generating-a-random-gaussian-double-in-objective-c-c)

有没有办法从iOS中的高斯（正态，贝尔曲线）分布中获取随机数？我发现的所有随机数生成器基本上都是统一的，我想让数字聚集在某个点周围。谢谢！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-18T06:37:10.160

只需使用均匀分布生成器并应用[Box-Muller 变换](http://mathworld.wolfram.com/Box-MullerTransformation.html)：

```
double u1 = (double)arc4random() / UINT32_MAX; // uniform distribution
double u2 = (double)arc4random() / UINT32_MAX; // uniform distribution
double f1 = sqrt(-2 * log(u1));
double f2 = 2 * M_PI * u2;
double g1 = f1 * cos(f2); // gaussian distribution
double g2 = f1 * sin(f2); // gaussian distribution 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T06:39:19.013

一个简单的选择是将来自均匀分布的多个数字相加。许多基于骰子的游戏使用这种方法来生成大致正态分布的结果。

![滚动3个6面骰子的分布](../Images/c0aa0d0ca238d2efbc1ec91cd69cbc64.png)

通过[维基百科](http://en.wikipedia.org/w/index.php?title=File:Roll_of_3d6.svg)

如果您可以更具体地了解您想要的分布，可能会有更精确的解决方案，但组合多个卷是一种简单且相当灵活的解决方案。

# list - 在scala中，如何将默认值传递给List.find？

> ID：12948303
> 
> 赞同：3
> 
> 时间：2012-10-18T06:21:33.933
> 
> 标签：list, scala

我想在列表中找到与谓词匹配的元素，如果没有元素与谓词匹配，则获取**默认值。**我想以惯用方式执行此操作，而不定义其他变量（一个衬里）。有类似`getOrElse`的东西`HashMap`吗？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-10-18T06:25:03.300

这是另一个为什么`Option`很棒的例子！

该`find`方法返回一个`Option`, 并且`Option`有一个方法`getOrElse`可以完全满足您的要求。

```
scala> List(1,2,3).find(_ > 4).getOrElse(0)
res0: Int = 0 
```

当什么都没有找到时，`find`返回`None`，这意味着“else”值将被返回。

# c# - MSChart 插入、移动、删除点

> ID：12948304
> 
> 赞同：2
> 
> 时间：2012-10-18T06:21:38.890
> 
> 标签：c#, windows-ce, mschart

第一次在这里发帖但是来过这里1000次，真的很喜欢其他成员的贡献。我知道你们中的许多人会翻白眼，但我没有太多开始。我对 c#、MS C 的基础知识以及对 Microchip C 和 ASM 的了解更多。尝试为 WinCE6 制作一个应用程序作为家庭自动化主控制器，让我的大部分模块工作，没有时间将这些部分放在一起，拥有一个 50 列和 1440 行的 SQLCE 数据库，即 50 个设备和 1440 分钟1 天，所有控件将每天重复其功能。数据库当前填充了用于测试的随机数据，现在我想创建一个可视控件来创建数据，找不到 MSChart 控件的 CE 版本，所以我决定制作一个 x86 应用程序来创建我的数据。我的困难主要来自于经验不足，

在此示例中，您可以看到我想要实现的目标；1 没有数据点，所有 1440 条记录都将具有相同的值。2 加点到 200,400,600,800,1000,1100。3 将 Y 上 400 的点从 270 移动到 350。 4 删除了 200,400,600,800 的点。

接受所有建议。无法上传图片，请点击链接。谢谢

```
imgur.com/zsBla.jpg
imgur.com/y4wsn.jpg
imgur.com/Yo4XH.jpg
imgur.com/7FgHn.jpg

private void chart1_MouseClick(object sender, MouseEventArgs e)
    {
        var pos = e.Location;
        clickPosition = pos;
        var results = chart1.HitTest(pos.X, pos.Y, false, ChartElementType.PlottingArea);
        foreach (var result in results)
        {
            if (result.ChartElementType == ChartElementType.PlottingArea)
            {
                var xVal = result.ChartArea.AxisX.PixelPositionToValue(pos.X);
                var yVal = result.ChartArea.AxisY.PixelPositionToValue(pos.Y);
                //tooltip.Show("x=" + xVal + ", y=" + yVal, this.chart1, e.Location.X, e.Location.Y - 15);
                tk++;
                chart1.Series[0].Points.InsertXY (0,tk,yVal);
                //chart1.Series[0].Sort(PointSortOrder.Ascending);//.Points.InsertXY(0,xVal, yVal);
                Tick.Text = tk.ToString();
            }

        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T19:07:07.377

Elcast，查看您的问题，看起来您真正的问题是您希望您的数据是“一对一”的，并且您几乎可以通过排序的数据获得它，但实际问题可能是您如何对数据进行排序.

我整理了一个快速演示，希望能帮助您解决问题：

```
 Private Sub Form1_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load
        Chart1.Series(0).ChartType = System.Windows.Forms.DataVisualization.Charting.SeriesChartType.Line
        Chart1.Series(0).Points.AddXY(0, 10)
        Chart1.Series(0).Points.AddXY(1440, 100)
        Chart1.Series(0).Points.AddXY(600, 80)

        Chart2.Series(0).ChartType = System.Windows.Forms.DataVisualization.Charting.SeriesChartType.Line
        Chart2.Series(0).Points.AddXY(0, 10)
        Chart2.Series(0).Points.AddXY(1440, 100)
        Chart2.Series(0).Points.AddXY(600, 80)

        Chart1.DataManipulator.Sort(System.Windows.Forms.DataVisualization.Charting.PointSortOrder.Descending, Chart1.Series(0))

    End Sub 
```

这给出了这个（左：排序，右：未排序） ![在此处输入图像描述](../Images/cf404448ccfdc7a72a4d0217fc61881e.png)

# c# - 如何将对象数组转换为列表

> ID：12948306
> 
> 赞同：2
> 
> 时间：2012-10-18T06:21:44.633
> 
> 标签：c#

> **可能重复：**
> [System.Array 到 List 的转换](https://stackoverflow.com/questions/1603170/conversion-of-system-array-to-list)

我想将 aPersonDataArr 转换为列表`IList<aPersonDataArr> aPerList = ???`，反之亦然 - 从列表到数组。怎么能这样，我**不愿意用 LINQ**。还有其他方法吗？

```
class PersonData
{
    public string PersonName;
    public int Age;
}
class Program
{
    static void Main(string[] args)
    {
        PersonData[] aPersonDataArr = new PersonData[2];

        for (int i = 0; i < aPersonDataArr.Length; i++)
        {
            aPersonDataArr[i].PersonName = "abcd";
            aPersonDataArr[i].Age = 10;
        }    
    }
} 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-18T06:24:08.777

只需在 List 构造函数中传递数组。

```
IList<PersonData> aPerList = new List<PersonData>(aPersonDataArr); 
```

要转换回来：

```
PersonData[] array = aPerList.ToArray(); 
```

如果您不想使用 LINQ `ToArray`，请使用[List.CopyTo](http://msdn.microsoft.com/en-us/library/t69dktcd%28v=vs.80%29.aspx)：

```
PersonData[] newArray = new PersonData[aPerList.Count];
aPerList.CopyTo(arrArray,0); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T06:24:29.987

使用 Linq：

```
PersonData[] aPersonDataArr = new PersonData[2];
List<PersonData> list = aPersonDataArr.ToList(); 
```

不使用 Linq：

```
List<PersonData> list = new List<PersonData>(aPersonDataArr ); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-18T07:00:27.793

```
 //array into list
    List<PersonData> list1 = new List<PersonData>(aPersonDataArr);

    //list into array
    Array array1 = list1.ToArray(); 
```

# javascript - 将对象转换为对象数组

> ID：12948307
> 
> 赞同：0
> 
> 时间：2012-10-18T06:21:47.237
> 
> 标签：javascript, jquery

我有一个格式为 JavaScript 的对象

```
{
    "header": {
        "dataFields": ["number", "name", "quantity", "id", "from"]
    },
    "data": [
        "20|sam|12|2|2012-06-29T00:00Z|",
        "18|peter|231|12|",
    ]
} 
```

我正在尝试将其转换为这种格式：

```
[{"number" : "20", "name":"sam", "quantity" : "12", "id":"2"},
 {"number" : "18", "name":"peter", "quantity": "231", "id" 12"}] 
```

我不希望输出数组中的“字段”.. 实现它的最佳方法是什么？

```
var l={};

for ( var key in responseData.positions[i]){
    l.name=key;
        for(var k=0; k<responseData.positions.length;k++){
            for ( var key in responseData.positions[k]) {
                l.value= responseData.positions[k][key] ;
            }
        }
mainArray.push(l); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T06:49:18.973

您可以使用数组映射方法来遍历数据数组并对其进行转换。

代码和现场演示：http: [//jsfiddle.net/N9QyQ/](http://jsfiddle.net/N9QyQ/)

```
var object={
"header": {
    "dataFields": ["number", "name", "quantity", "id", "rom"]
},
"data": [
    "20|sam|12|2|2012-06-29T00:00Z",
    "18|peter|231|12|"
 ]
} ;
var result=object.data.map(function(string){
    var split=string.split("|"), item={};
    for (var i=0;i<4;i++) {
        item[object.header.dataFields[i]]=split[i];
    }
    return item;
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T06:42:07.803

```
mainArray = [];
for (i = 0; i < responseData.positions.data.length; i++) {
    var dataArray = responseData.positions.data[i].split("|");
    var newObject = {};
    for (j = 0; j < responseData.positions.header.length; j++) {
        if (responseData.positions.header[j] != "from") {
            newObject[responseData.positions.header[j]] = dataArray[j];
        }
    }
    mainArray.push(newObject);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-18T06:54:07.583

```
var obj = {
    "header": {
        "dataFields": ["number", "name", "quantity", "id", "from"]
    },
    "data": [
        "20|sam|12|2|2012-06-29T00:00Z|",
        "18|peter|231|12|"
    ]
};
var result = [];
for(var i = 0, headers = obj.header.dataFields, len = obj.data.length, hLen = headers.length; i < len; i++) {
    var split = obj.data[i].split("|");
    var entry = {};
    // assuming you want first four elements
    /*
    for(var j = 0; j < 4; j++) {
        entry[headers[j]] = split[j];
    }
    */
    // assuming you want to exclude from field
    for(var j = 0; j < hLen; j++) {
        if(headers[j] == "from")
            continue;
        entry[headers[j]] = split[j];
    }       
    result.push(entry);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-18T07:12:45.940

如果您想使用 jQuery，您可以执行以下操作

```
jsonData = {
    "header": {
        "dataFields": ["number", "name", "quantity", "id", "from"]
    },
    "data": [
        "20|sam|12|2|2012-06-29T00:00Z|",
        "18|peter|231|12|",
    ]
};

tmpData = {}
newData = []

$.each(jsonData['data'], function () {
    data = this;
    $.each(jsonData['header']['dataFields'], function (index, header) {
        if (header !== "from") {
            tmpData[header] = data.split('|')[index]
        }
    });
    newData.push(tmpData);
    tmpData = {};
}); 
```

`newData`将包含

```
[
    {id: "2", name: "sam",number: "20",quantity: "12"},
    { id: "12", name: "peter", number: "18", quantity: "231" }
] 
```

[你可以在这里](http://jsfiddle.net/gfGXF/)检查小提琴

# jquery - 选择的 JQuery：单击 OPTGROUP 必须选择其中的所有选项

> ID：12948310
> 
> 赞同：1
> 
> 时间：2012-10-18T06:21:50.717
> 
> 标签：jquery, optgroup, jquery-chosen

在 jquery 选择的插件中，当我们单击它们的父 optgroup 时，是否有任何方法可以选择（选择）所有选项。

```
<select id = "country-select">
    <optgroup label="Country1">
        <option value = "city1">City1 </option>
        <option value = "city2">City2 </option>
        <option value = "city3">City3 </option>
    </optgroup>
    <optgroup label="Country2">
        <option value = "city3">City3 </option>
        <option value = "city4">City4 </option>
        <option value = "city5">City5 </option>
    </optgroup>
</select> 
```

而且，在我的 jquery 中， $("#country-select").chosen();

现在，这是使用 jquery 选择的插件呈现的。我需要，如果我单击标记为“Country1”的 optgroup，则必须选择（选择）它下面的所有城市（即 city1、city2、city3）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-02-23T15:51:27.803

那些发现这个问题的人可以在这里[http://robido.com/jquery/add-selectdeselect-optgroup-click-events-harvests-chosen-jquery-plugin/](http://robido.com/jquery/add-selectdeselect-optgroup-click-events-harvests-chosen-jquery-plugin/)寻找解决方案。该链接包含一些将可点击功能添加到*所选*`optgroup`jQuery 插件的代码。

# vb6 - VB6：更改 RichTextBox 的焦点颜色（不是 SelColor）

> ID：12948311
> 
> 赞同：0
> 
> 时间：2012-10-18T06:21:51.903
> 
> 标签：vb6, colors, focus, richtextbox

有人知道 VB6 中是否有办法更改 RichTextBox 中的焦点颜色？我指的是用光标标记文本时包围的颜色。我不是在谈论 SelColor 属性。

默认情况下焦点颜色为黑色（与常规 TextBox 不同），现在我尝试在 RichTextBox 中实现黑色反转文本，默认的黑色焦点颜色无助于真正显示用户选择的内容。

有人对这个问题有所了解吗？提前致谢！

阿替米多

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T09:24:28.353

> 焦点颜色默认为黑色...

不，不是。

这不是“焦点颜色”，因为焦点意味着与选择完全不同的东西。

RichEdit 控件（如 RichTextBox 中的控件）通过*补充*选择中每个字符的背景色和前景色来显示选择。

白色背景上的黑色文本会反转以产生您所指的效果。但是黑色背景上的蓝色文本完全是另外一回事。

为了使事情复杂化，整个文档都有自己的背景色。

如果您想使用黑底白字，选择它只会反转为白底黑字。您对此无能为力，而且很难想象您希望得到什么 - 选定的文本会通过 3D 阴影跳出？？？

试图截取选择并重新着色那里的文本可能是不切实际的。我相信你可以做到，但需要付出很多努力，而且结果可能很生涩。

SelColor 属性仅有助于设置文本的前景色。要设置背景色（即突出显示，不要与选择混淆）需要子类化。虽然子类化很容易，但不需要像大多数人认为的子类化所涉及的那样挂钩消息处理。

# c# - 为什么存储过程比查询快

> ID：12948312
> 
> 赞同：47
> 
> 时间：2012-10-18T06:21:58.050
> 
> 标签：c#, sql, sql-server, stored-procedures

我想编写一个简单的单行查询来从数据库中只选择一个值。

因此，如果我为这个查询编写存储过程而不是在 c# 代码中编写简单的选择查询，那么我确信这个简单选择查询的存储过程会更快，但为什么呢？

我对存储过程与在我的代码中编写简单查询感到困惑？我很困惑，为什么存储过程比直接用代码编写的简单查询要快？

* * *

## 回答 #1

> 赞同：93
> 
> 时间：2012-10-18T06:34:40.507

> 存储过程比 SQL 代码快

这是一个*神话*，性能总是相同的，来自书中： [为企业构建 Microsoft® .NE​​T 解决方案：](https://rads.stackoverflow.com/amzn/click/com/073562609X)

> SQL 是一种语言，您可以通过它声明对数据库执行的操作（查询、更新或管理操作）的意图。数据库引擎得到的只是文本。与编译器处理的 C# 源文件非常相似，SQL 源代码必须以某种方式编译以生成一系列较低级别的数据库操作 - 此输出位于执行计划的名称下。从概念上讲，执行计划的生成可以看作是编译程序的数据库副本。
> 
> 存储过程相对于普通 SQL 代码所保证的所谓性能增益在于执行计划的重用。换句话说，第一次执行 SP 时，DBMS 会生成执行计划，然后执行代码。下次它只会重用之前生成的计划，从而更快地执行命令。所有 SQL 命令都需要一个执行计划。
> 
> （错误的）神话是 DBMS 仅将执行计划重用于存储过程。就 SQL Server 和 Oracle DBMS 而言，重用执行计划的好处适用于任何 SQL 语句。引用 SQL Server 2005 在线文档：
> 
> *在 SQL Server 2005 中执行任何 SQL 语句时，关系引擎首先查看过程缓存以验证是否存在相同 SQL 语句的现有执行计划。SQL Server 2005 重用它找到的任何现有计划，从而节省了重新编译 SQL 语句的开销。如果不存在现有的执行计划，SQL Server 2005 会为查询生成一个新的执行计划。*
> 
> 围绕 SP 性能优于普通 SQL 代码的争论毫无意义。在性能方面，任何命中数据库的 SQL 代码都以相同的方式处理。编译后性能相当。时期。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-05-21T11:39:43.803

```
"Stored procedures are precompiled and cached so the performance is much better." 
```

[这让](https://www.codeproject.com/Articles/414272/Stored-Procedures-DO-NOT-increase-performance) 我心碎

**来自Microsoft Corp.**的Christa Carpentiere为 .NET 开发人员撰写了[An Evaluation of Stored Procedures](https://docs.microsoft.com/en-us/previous-versions/dotnet/articles/ms973918(v=msdn.10))

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-18T06:27:54.390

这取决于查询，对于简单查询，最好将其作为查询本身编写和执行。但是，当您在数据库端有更多的处理工作（您想在游标中处理数据等）时，存储过程会更好，因为它们在数据库服务器上执行并避免不必要的开销，例如解析和额外的通信.

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-10-18T06:29:40.887

存储过程是存储在数据库中的查询。它们是预编译的。当您请求数据库执行存储过程（SQL Server）时，SQL Server 已经有了该存储过程的执行计划。而简单的查询需要在运行时创建它们的执行计划。你需要在[这里学习更多](http://msdn.microsoft.com/en-us/library/aa174792%28v=sql.80%29.aspx)

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2012-10-18T06:25:04.353

存储过程经过预编译和优化，这意味着查询引擎可以更快地执行它们。相比之下，代码中的查询必须在运行时进行解析、编译和优化。这一切都需要时间。

# iphone - iphone 故事板的 TabBar 应用程序中的方向支持

> ID：12948328
> 
> 赞同：0
> 
> 时间：2012-10-18T06:23:10.093
> 
> 标签：iphone, ios5, xcode4

我正在创建具有 4 个选项卡的 Tabbar 应用程序，我的 FirstTabView 应该支持所有方向，并且所有 3 个 tabView 应该只支持纵向，当我将选项卡更改为 SecondTabView 时，它应该强制将方向更改为纵向，这在我使用的故事板中是否可能在下面FirstTabView.m 的代码

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
return(interfaceOrientation == UIInterfaceOrientationPortrait || interfaceOrientation == UIInterfaceOrientationLandscapeLeft);
} 
```

在 SecondTabView.m 中

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
    {
return(interfaceOrientation == UIInterfaceOrientationPortrait);
} 
```

提前感谢它不允许任何选项卡视图支持横向。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T06:36:35.827

在 iOS 5 或更早版本上，每个相应选项卡的 viewController 必须从 shouldAutorotateToInterfaceOrientation 返回 YES 以使 tabBarController 自动旋转，而不仅仅是当前可见的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T20:51:33.903

如果你在 iOS6 上遇到这个问题 在 iOS6 中，Apple 改变了管理设备方向的方式。Apple 在其文档中引入了许多新方法。在其文档中所做的更改之一是

```
 - (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation 
```

苹果已经在 iOS6 版本中弃用了这个方法。所以这个方法将来可以从苹果文档中删除。如果你想管理设备方向。那么你应该实现 iOS6 中引入的新方法。你应该看看 iOS6 版本中所做的更改。 [关联](https://developer.apple.com/library/ios/#releasenotes/General/RN-iOSSDK-6_0/_index.html#//apple_ref/doc/uid/TP40012166)

我发布了一些代码，你可以试试那个。这很容易实现。

[请通过此链接](https://stackoverflow.com/questions/12577879/shouldautorotatetointerfaceorientation-is-not-working-in-ios-6/12581799#12581799)

我想它可能会帮助你。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-18T06:39:00.793

是的。故事板是可能的。为此，您需要检查选择了哪个选项卡。您可以使用

```
- (void)tabBarController:(UITabBarController *)tabBarController didSelectViewController:(UIViewController *)viewController; 
```

在此应用条件为您想要定向的第一个视图控制器。在那里设置您的方向或将其应用到单独的视图控制器中。

享受编程。

# sql - 选择最少的多列

> ID：12948329
> 
> 赞同：2
> 
> 时间：2012-10-18T06:23:13.283
> 
> 标签：sql, sql-server, sql-server-2008, tsql

我有三个名为 list1、list2、list3 的十进制列。我想在单个查询中找到最少三个。
我已经厌倦了这个：

```
SELECT Least(list1, list2, list3) 
FROM   table1 
```

它抛出一个`least`无法识别的函数的错误。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-18T06:24:50.550

尝试使用`UNION`

```
SELECT MIN(x.a)
FROM
    (
        SELECT list1 a FROM table1
        UNION
        SELECT list2 a FROM table1
        UNION
        SELECT list3 a FROM table1
    ) x 
```

**更新 1**

```
SELECT ID,MIN(x.a)
FROM
    (
        SELECT ID,list1 a FROM table1
        UNION
        SELECT ID,list2 a FROM table1
        UNION
        SELECT ID,list3 a FROM table1
    ) x
GROUP BY ID 
```

# [SQLFiddle 演示](http://sqlfiddle.com/#!3/1a567/1)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-18T06:42:46.477

其他解决方案，

```
case when col1 < col2 
     then case when col1 < col3 
               then col1
               else col3 end
     else case when col2 < col3
               then col2
               else col3 end; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-18T08:18:03.340

如果表中有超过 1 行，这将起作用

```
select c.mlist from table1 a
cross apply
(
select min(list1) mlist from
  (
    select list1
    union all
    select list2
    union all
    select list3
  ) b
) c 
```

# mysql - 无法添加外键

> ID：12948330
> 
> 赞同：0
> 
> 时间：2012-10-18T06:23:17.787
> 
> 标签：mysql, foreign-keys

我正在尝试将外键添加到表`table2`中`table1`。但是我遇到了这样的错误...问题是什么...帮助

```
Error

SQL query:

ALTER TABLE `table2` ADD FOREIGN KEY ( `bus_id` ) REFERENCES `db1`.`table1` (
`bus_id`
) ON DELETE CASCADE ON UPDATE CASCADE ;

MySQL said: Documentation
#1452 - Cannot add or update a child row: a foreign key constraint fails (`db1`.`#sql-664_e2`, CONSTRAINT `#sql-664_e2_ibfk_1` FOREIGN KEY (`bus_id`) REFERENCES `table1` (`bus_id`) ON DELETE CASCADE ON UPDATE CASCADE) 
```

**表1的结构**

![在此处输入图像描述](../Images/f7958c64ebae08be70622d885c8e0aab.png)

**表2的结构**

![在此处输入图像描述](../Images/b7a1506da37246f5e9ded96d79318b59.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T06:27:44.177

要获取更多信息，请运行以下命令：

```
SHOW ENGINE INNODB STATUS; 
```

我希望存在数据不匹配，例如。table2 包含在 table1 中找不到的列 bus_id 中的值。

试试这个：

```
SELECT DISTINCT bus_id FROM table2 WHERE 
    bus_id NOT IN (SELECT bus_id FROM table1) 
```

还要确保两个表都使用 InnoDB 作为存储引擎。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T06:29:16.000

你的表有一些数据。检查存储在`table2`. `bus_id`是正确的; 所有这些值都必须在`table1`. `bus_id`.

运行此查询以查看错误`bus_id`值`table2`：

```
SELECT t2.bus_id AS inconsistent_bus_id FROM table2 t2
LEFT JOIN table1 t1
  ON t1.bus_id = t2.bus_id
WHERE t1.bus_id IS NULL 
```

从 中删除此记录`table2`，或将其添加`bus_id`到`table1`。然后尝试再次创建外键。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-18T06:30:49.840

我看不出你的`ALTER`陈述有任何错误。主要原因是可能已经有记录存在，`table2`但`bus_id`不存在`table1`。因此，您可以做的最佳解决方案是清空第一个 table2 并再次运行 alter 语句。

# php - 如何在不使用 PHP 的情况下将一个查询的值传递给另一个查询 MySQL

> ID：12948333
> 
> 赞同：1
> 
> 时间：2012-10-18T06:23:25.583
> 
> 标签：php, mysql, sql

刚收到一个简单的问题，这是通过 PHP 做的一件简单的事情，但我很确定必须有一种方法可以通过 MySQL 来做。

我有一个表格，其中包含 id、element_id、video_link、views 等列。

我想做的事情是从前 5 个观看次数最多的视频中随机选择一个。

例如

```
SELECT *
  FROM table_name
 WHERE "In human terms order by views descending and then select 1 of the top 5 at random" 
```

通过 PHP 实现非常简单，如果无法通过 MySQL 实现，我将使用它，但很高兴知道！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T06:33:40.327

```
SELECT *
FROM (
    SELECT *
    FROM `tablename`
    ORDER BY id DESC
    LIMIT 5
) AS inner_table
ORDER BY RAND( ) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T06:39:32.833

```
SELECT * FROM 
  (  SELECT * FROM table_name 
      WHERE name  = 'aas' 
     ORDER BY views DESC LIMIT 5 
  )
ORDER BY RAND() LIMIT 1 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-18T06:29:17.017

试试这样：

```
SELECT 
   * 
FROM 
   (SELECT * FROM table WHERE <order by something> LIMIT 0,5) 
ORDER BY 
   RAND() 
LIMIT 0,1 
```

# excel - Excel中的公式计算字符串中子字符串的出现次数

> ID：12948338
> 
> 赞同：25
> 
> 时间：2012-10-18T06:23:46.127
> 
> 标签：excel, excel-formula

我正在尝试计算子字符串出现在 Excel 中的字符串数据列中的次数。请看下面的例子。

字符串数据（推文）列如下所示：

```
 A
1  An example string with @username in it
2  RT @AwesomeUser says @username is awesome 
```

带有“子字符串”（Twitter 屏幕名称）的列如下所示：

```
 B
1  username
2  AwesomeUser 
```

我想使用一个公式来计算 B1、B2 等中的子字符串出现在 A 列中的字符串中的次数。例如：搜索 B1 的公式将返回“2”，搜索 B2 将返回“1”。

我不能这样做：

```
=COUNTIF(A:A, "username") 
```

因为 COUNTIF 只查找字符串，而不是子字符串。此公式将始终返回“0”。

这是一个我认为可以做到的[公式：](http://www.excelforum.com/excel-formulas-and-functions/341605-solved-counting-the-number-of-times-a-word-appears-in-a-worksheet.html)

```
=SUMPRODUCT((LEN(A:A)-(LEN(SUBSTITUTE(A:A,"username",""))))/LEN("username")) 
```

不幸的是，我在 B 列中有 16,000 个条目，在 A 列中有数万个条目，因此即使在高功率 PC 上也无法计算字符（此外，该函数返回的结果值得怀疑）。

我考虑过使用：

```
=COUNTIF(A:A, "*username*") 
```

但是 COUNTIF 需要一个带有星号运算符的字符串；由于数据量大，我需要使用单元格引用。

我的问题：有谁知道我如何使用这个公式？如果使用 COUNTIF，如何在语句的条件部分中获取单元格引用（或使用函数替换 COUNTIF 语句的条件部分中引用的单元格中的字符串）？

我知道我*可以*解析数据，但我想知道如何在 Excel 中进行解析。

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2012-10-18T06:30:09.843

你快到了，使用

```
=COUNTIF(A:A, "*"&B1&"*") 
```

警告：
这会计算一次*或*`A:A`多次包含字符串的单元格的数量。它不计算字符串的实例*总数*。

 *** * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-07-27T12:28:13.913

**一个非常简单的 Excel 解决方案，用于将 x 字符串（“ABC”）变为 y 字符串（“ABC 123 ABC 23dfABC”）：**

1.  识别 y 字符串的长度。Ly = len(y)
2.  用 x1-string 替换 x-string（仅将 1 个字符的任何支持的字符附加到 x-string。例如 "ABC"=> "ABC_" ）并计算新字符串 y1-string 的长度。Ly1 = len（替代（y，x，x1））。
3.  y 字符串中出现 x 字符串的次数 = Ly1-Ly

出现次数：len(substitute(y,x,x1)) - len(y)

**理解命名法：** x-string: "ABC" x1-string: "ABC_" y-string: "ABC 123 ABC 23dfABC" y1-string: ""ABC_ 123 ABC_ 23dfABC_"

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-03-10T09:54:19.670

**`TEXTJOIN`通过函数查找实际发生的事件**

使用`TEXTJOIN`（自版本 2019 或 MS 365 起可用）允许获取一个或多个列（列或例如偶数列）中任何发生的*实际数量。*`A:A``A:B`

因此它**避免**了功能的*警告*`COUNTIF`

> *“只计算一次或多次包含字符串的单元格数（在 A:A 中）。它不计算字符串实例的总数。”*

**三个有条不紊的步骤**

下面显示的公式（假设一个命名的搜索词`MySearch`）只执行三个逻辑步骤来获得实际的结果数量：

*   `1`通过 连接给定列中的所有填充单元格`TEXTJOIN`，
*   `2`将字符串中的搜索词替换为`1`减少负 1 的词条长度和
*   `3`从 string 的长度中减去 string`2`的长度`1`。

```
=LEN(TEXTJOIN("|",TRUE,A:B))-LEN(SUBSTITUTE(TEXTJOIN("|",TRUE,A:B),MySearch,LEFT(MySearch,LEN(MySearch)-1))) 
```

MS 帮助[TEXTJOIN 函数](https://support.microsoft.com/en-us/office/textjoin-function-357b449a-ec91-49d0-80c3-0e8fc845691c)**

# android - 如何从 onClick 方法获取自定义 AlertDialog 上的指针？

> ID：12948339
> 
> 赞同：0
> 
> 时间：2012-10-18T06:23:47.090
> 
> 标签：android, android-alertdialog

我`AlertDialog`使用 layoutInflater 从布局创建自定义。在这个布局中，我找到了我的按钮并设置了`OnClickListener`这个按钮。问题是，方法`onClick`不存在`DialogInterface`，我做不到`dialog.dissmiss`。我怎样才能在我的 AlertDialog 上获得指针，或者在 上`DialogInterface`？

```
 AlertDialog.Builder builder;
    LayoutInflater inflater = (LayoutInflater) myApp.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    View layout = inflater.inflate(R.layout.my_dialog, null);
    ((Button) layout.findViewById(R.id.downloadButton)).setOnClickListener(new OnClickListener()
    {
        @Override
        public void onClick(View v)
        {
            //in this, i want to dissmiss dialog
            //some code
        }
    }); 
```

我不希望将指针保存在 Class 属性上的 Dialog 上 - 也许存在其他方式？谢谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T10:55:06.410

您可以使用 Dialog 类按照以下方式进行操作。

```
final Dialog dialog = new Dialog(MAinActivity.this);
dialog.setContentView(R.layout.login_popup);
Button dialogButtonOk = (Button) dialog.findViewById(R.id.dialogButtonOK);

dialogButtonOk.setOnClickListener(new OnClickListener()
        {
            @Override
            public void onClick(View v)
            {
                       dialog.dismiss();
}
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-10-29T11:58:19.010

我只是在做这个......我希望我没有删除任何与你正在做的事情无关的重要内容。

```
public class updateDialog extends AlertDialog implements AlertDialog.OnClickListener {
    updateDialog(Context context, Object sent)
    {
        super(context,R.style.MyAlertDialogStyle);
        // Inflate your view
        View myView = getLayoutInflater().inflate(R.layout.update_sql,null);
        // Set it to be the view
        setView(myView);
        // Set up buttons
        setButton(BUTTON_NEGATIVE, context.getString(Cancel), this);
        setButton(BUTTON_NEUTRAL,context.getString(R.string.Propose), this);
        setButton(BUTTON_POSITIVE, context.getString(R.string.Restore),  this);
    }

    // Handle buttons
    @Override
    public void onClick(DialogInterface dialogInterface, int i) {
        switch (i)
        {
            case BUTTON_NEGATIVE:
                // Dismiss the dialog.
                dialogInterface.dismiss();
                break;
            case BUTTON_NEUTRAL:
                break;
            case BUTTON_POSITIVE:
                break;
        }
    } 
```

大多数情况下，关键不是使用构建器，而是自己构建它。

# php - 使用 Digest Auth 并通过 curl 发送 POST 数据

> ID：12948340
> 
> 赞同：2
> 
> 时间：2012-10-18T06:23:50.937
> 
> 标签：php, post, curl, digest, digest-authentication

我有一个关于使用 curl 的 HTTP Digest Auth 以及同时发送帖子数据的问题。

我有一个 REST API，其中的每个资源都需要身份验证。我使用 php curl 从我的网站访问我的资源。每个资源都需要使用摘要进行身份验证。

我为此使用了 CURLAUTH_DIGEST，它通常就像一个魅力。

问题是当我尝试使用 CURLOPT_POSTFIELDS 在 POST 中发送其他数据时，该数据不会与摘要身份验证信息一起发送。**为什么是这样？我怎样才能解决这个问题？**

我正在使用 PHP 5.4.3 和 php curl 7.25.0

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T07:31:27.283

`POST`将摘要身份验证与请求结合起来绝对没有问题。

确保仔细检查您是否应该这样做：

1.  一个*基本* `POST`的（相当于`-X POST -d 'body-content-here'`使用`curl`CLI），
2.  或一个`multipart POST`（例如`-F image_file=@"foo.jpg"`上传给定的文件）。

另外，我强烈建议您通过`curl`命令行工具与您的 API 进行交互并使用`--libcurl request.c`: 它会将用于执行请求的所有选项的方便回顾写入此输出 C 文件，然后您只需复制/在你身边适应它们。

最后，请随意参考这个说明如何执行此类调用的[PHP 代码示例。](https://github.com/Moodstocks/moodstocks-api/blob/master/moodstocks-api/msapi.php)

# typo3 - Typo3 后端用户个人资料图片

> ID：12948341
> 
> 赞同：0
> 
> 时间：2012-10-18T06:23:51.630
> 
> 标签：typo3, templavoila

我正在用 templavoila 建立一个typo3 网站。

我想为后端用户配置文件添加配置文件图片选项。目前没有在用户设置中添加个人资料图像的选项。是否可以将此选项添加到typo3 网站？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T06:48:14.587

是的，这是可能的。您必须进行扩展以扩展`be_users`表。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T05:18:51.657

为此，我做了一个扩展。这是：[http ://typo3.org/extensions/repository/view/be_user_profilepic](http://typo3.org/extensions/repository/view/be_user_profilepic)

Git 存储库：[be_user_profilepic](https://github.com/harishanchu/Typo3-BE-User-Profile-Pic)

# qt - Qt Quick Components for Desktop 与 Qt Creator 一起使用的安装问题

> ID：12948343
> 
> 赞同：1
> 
> 时间：2012-10-18T06:23:57.190
> 
> 标签：qt, qt-creator, qml

我在使用 Qt Quick Components for Desktop 时遇到了一些安装问题。

感谢您为解决该问题提供的任何帮助。

以下是我遵循的步骤

1.  [从http://qt.gitorious.org/qt-components/desktop/trees/master](http://qt.gitorious.org/qt-components/desktop/trees/master)下载了 tar.gz 解压了组件

2.  将路径变量值添加到环境变量（操作系统：Windows 7）C:\QtSDK\mingw\bin;C:\QtSDK\Desktop\Qt\4.8.1\mingw\bin

3.  运行以下命令： qmake && mingw-make install 该命令已自动将编译的组件文件复制到 C:\QtSDK\Desktop\Qt\4.8.1\mingw\imports\QtDesktop

现在我什么时候去找创造者。在设计选项卡中，我可以看到桌面组件。但它给出以下错误 ![在此处输入图像描述](../Images/8a9cf76db0716afff17ed3311d7af386.png)

我还参考了各种链接来安装它们，但仍然面临同样的问题

# android - Facebook 与描述分享——Android

> ID：12948344
> 
> 赞同：0
> 
> 时间：2012-10-18T06:23:59.167
> 
> 标签：android, facebook

感谢之前的回复，

我是 Facebook 分享的新手。我正在尝试将我的图像、描述和标题从我的应用程序分享到 Facebook。我正在使用`facebookConnector.postMessageOnWall`，但我想与描述分享我的内容。谁能帮我？如何在一篇文章中分享所有内容？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T07:21:34.733

在 l`private final void postFacebook(){

```
 String imageurl = "www.xyz.com/123.jpg";
    String caption="your caption", description="Your description", name ="your name",  linkurl=" your link";
      Bundle b = new Bundle();
      b.putString("picture", imageurl);
      b.putString("caption",caption);
      b.putString("description",description );
      b.putString("name",name);
      b.putString("link",linkurl);
      try {

          facebookConnector.getFacebook().request("/me/feed", b, "POST");
          //strRet = fb.request("/me/feed",b,"POST");
      }catch(Exception e){

          Log.v(TAG,"Error in posting");
      }

}` 
```

# javascript - 在 Chrome 中获取 scrollTop

> ID：12948345
> 
> 赞同：1
> 
> 时间：2012-10-18T06:24:04.443
> 
> 标签：javascript, html, css

由于某些原因，我有这种 CSS 样式：

```
body {
    bottom: 0;
    height: 100%;
    overflow: auto;
    position: absolute;
    top: 0;
    width: 100%;
}

html {
    overflow: hidden;   
} 
```

在 Firefox 中： $('body').scrollTop() = 743; 但在 Chrome 中： $('body').scrollTop() = 0;

用于测试的 jsFiddle 在这里：http: [//jsfiddle.net/uFCCU/](http://jsfiddle.net/uFCCU/)

如何在 webkit 浏览器中获取“body”的滚动顶部？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T16:57:02.203

我无法弄清楚为什么它不适用于您拥有的 CSS，但是如果您将 CSS 更改为

```
body, html {
    height: 100%;
    width: 100%;
} 
```

然后`$(document).scrollTop()`在 FF 和 chrome [http://jsfiddle.net/uFCCU/1/中为您提供正确的值](http://jsfiddle.net/uFCCU/1/)

它与您尝试做的事情（我认为）具有相同的效果，并且不会做任何奇怪的事情，例如使身体处于绝对位置。在 15 年的 Web 开发中，我从未见过这种情况。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T17:02:14.093

我不确定您要做什么，但是 for`html`实际上除了**弄乱 webkit之外****什么**也没做。

 **```
html {
    overflow: hidden;   
} 
```

只需将其删除。**

# javascript - ASP.net MVC window.open URL 不起作用

> ID：12948354
> 
> 赞同：0
> 
> 时间：2012-10-18T06:24:48.767
> 
> 标签：javascript, asp.net, href

我现有的代码在这里：

```
function opendocpdf_click() {
        var docloc = '/App_Data/Test_Project_Documents.pdf'
        window.open(docloc);
    } 
```

上面的代码不起作用，似乎 404.8 not found 错误。但是下面的代码工作正常，我可以为上面的代码做什么。

```
 function opendocpdf_click() {                       
     var docloc = 'E:/palanisamy/Projects/Sample/App_Data/Test_Project_Documents.pdf'
        window.open(docloc);
    } 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:30:47.717

ASP.NET 不会提供存储在`App_Data`;中的文件。这是一个[特殊的文件夹](http://msdn.microsoft.com/en-us/library/ex526337.aspx)。如果您希望这些文件公开可用，您需要执行以下操作之一：

1.  将文件存储在不同的常规文件夹中。
2.  在 ASP.NET 中创建一个处理程序或页面，它将获取文件的名称并在 App_Data 中查找它，然后将响应二进制文件写回客户端。

# javascript - 用于 div 标签的 chrome 边框半径的工作

> ID：12948355
> 
> 赞同：1
> 
> 时间：2012-10-18T06:24:48.993
> 
> 标签：javascript, html

我有两个圆形同心 div 一个在另一个上。我必须在点击这两个圆圈时显示警报。

我的 HTML 代码如下所示：

```
<div id="circle2" style="position: absolute.display:none;left:14px;top:35px;width:266px;height:266px;background-Color:#EFA927;border-radius:50% 50%;" onclick="alert('2');"></div>

<div id="circle1" style="position: absolute;display:none;left:31.5px;top:52.5px;width:231px;height:231px;background-Color:#0080C0;border-radius:50% 50%;" onclick="alert('1');"></div> 
```

一切对 Mozilla 来说都很好，但是对于 circle1 的左上角、右上角、上下角、左下角的 chrome，chrome 让我对 circle1 发出警报（预期为圆 2）。

有什么办法可以纠正这个问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T06:53:02.720

我不完全理解您的问题，但是使用此代码没有问题：

```
<div id="circle2" style="left:14px;top:35px;width:266px;height:266px;background-Color:#EFA927;border-radius:50% 50%;" onclick="alert('2');"></div>

<div id="circle1" style="left:31.5px;top:52.5px;width:231px;height:231px;background-Color:#0080C0;border-radius:50% 50%;" onclick="alert('1');"></div> 
```

当你点击 时`circle1`，它会提示“1”，点击`circle2`它会提示“2”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T07:17:29.647

您可以尝试使用图像映射：

[http://www.w3.org/TR/2010/WD-html5-20101019/the-map-element.html#image-maps](http://www.w3.org/TR/2010/WD-html5-20101019/the-map-element.html#image-maps)

[https://developer.mozilla.org/en-US/docs/HTML/Element/map](https://developer.mozilla.org/en-US/docs/HTML/Element/map)

[https://developer.mozilla.org/en-US/docs/HTML/Element/Img](https://developer.mozilla.org/en-US/docs/HTML/Element/Img)

工作样本[**在这里**](http://www.sanbarcomputing.com/flat/forumPosts/src/imageMap/imageMap.html)

HTML：

```
<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>
    <img src="concentricCircles_304x304_284x284.png" usemap="#annularMap" alt="Circle within circle">
    <map name="annularMap">
        <area id="inner" shape=circle coords="152,152,142" alt="Red circle" onclick="alert(2);">
        <area id="outer" shape=circle coords="152,152,152" alt="Yellow border" onclick="alert(1);">
    </map>
</p></body>
</html> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-18T06:36:49.973

我认为这里没有问题。

看一下这个。[http://jsfiddle.net/XRdFC/](http://jsfiddle.net/XRdFC/)

哦，好吧，我确实将“点击”更改为“点击”。可能有所作为。

# asp.net-mvc-3 - 如何在 mvc 3 中使用不显眼的 ajax 时立即生效

> ID：12948365
> 
> 赞同：0
> 
> 时间：2012-10-18T06:25:21.953
> 
> 标签：asp.net-mvc-3, unobtrusive-ajax

我试图在我的简单博客站点中引入一些不显眼的 ajax，有一个 viewpost 页面，我希望评论启用 ajax。我可以使用 ajax 发布评论，但该评论不会立即显示，需要刷新页面才能看到评论。另外，我有两个动作作为下一个和上一个，它们将浏览帖子，但是在按下下一个或上一个按钮时不会显示相关评论。

这是视图：

```
@model  Presentation.Models.PostComment
@{
ViewBag.Title = "ViewPost";
Layout = "~/Views/Shared/_Layout.cshtml";

}
<html>
<head>
<title>View Post</title>
</head>
<body>
<div id="viewStory" style="height: auto; width: 850px; background-color: Silver">
    <h3>@Html.DisplayFor(x => x.Posts.PostTitle)</h3>
    <br />
    <br />
    @Html.Raw(System.Web.HttpUtility.HtmlDecode(Model.Posts.PostStory))
    <br />
    @{
        var PID = Model.Posts.PostID;
    }
    @Html.TextBoxFor(x => x.Posts.PostID, new { @class = "PIDPost" })
</div>
<div id="Button" style="height: auto; width: 850px">
    <span id="Next" style="float: left; margin-top: 10px; margin-left:  10px;">@Html.ActionLink("Previous", "PreviousPost", "Home", new { @model = PID }, null)</span>
    <span id="Previous" style="float: right; margin-top: 10px; margin-right: 10px;">@Html.ActionLink("Next", "NextPost", "Home", new { @model = PID }, null)</span>
    <br />
</div>
<br />
<div id="CommetPartial" style="height: auto; width: 850px; background-color: Silver;">
    @Html.Label("Comment:")
    @*@Html.Partial("Comment", @ViewData)*@
</div>
<div id="NewComment" style="height: auto; width: 850px; background-color: Silver;
    margin-top: 10px;">
    @{
        AjaxOptions ajaxopts = new AjaxOptions { HttpMethod = "Post" };
    }
    @using (Ajax.BeginForm("NewComment", ajaxopts))
    {
        @Html.ValidationSummary()
        <span style="margin-left: 10px">
            @Html.TextAreaFor(x => x.Comments.Comments, new { @class = "Comment" })
        </span>
        @Html.TextBoxFor(x => x.Posts.PostID, new { @class = "PID" })

        <br />
        <span style="margin-left: 10px">
            <input type="submit" value="Post" style="height: 50px; width: 100px; text-align: center;
                font-size: larger" /></span>

    }
    @{
        if (Model.CommentList != null)
        {
            foreach (var y in Model.CommentList)
            {
        <div id="DisplayComment" style="height: auto; width: 500px; background-color: #559988;
            margin-top: 10px; margin-left: 10px;">
            @y.UserName says:
            <br />
            @y.Comments
            <br />
        </div>
            }
        }
        else
        {
        <div id="DisplayNoComment" style="height: auto; width: 500px; background-color: Yellow;
            margin-top: 10px; margin-left: 10px;">
            @Html.Label("Be First to make a comment")
        </div>
        }
    }
</div> 
```

以下是与视图关联的操作方法：

```
[HttpGet]
   public ActionResult ViewPost()
   {
       var business = new Business();

       var PostEntity=business.GetAllPost();

       var ViewModel = new PostComment();

       //**For getting Post
       if (PostEntity != null)
       {
           ViewModel.Posts.PostTitle = PostEntity.First().PostTitle;
           ViewModel.Posts.PostStory = PostEntity.First().PostStory;
           ViewModel.Posts.PostID = PostEntity.First().PostID;
       }

       else
       {
       }

       //**For getting comments
       if (business.GetAllComment(PostEntity.First().PostID) == null)
       {

       }
       else
       {
           ViewModel.CommentList = business.GetAllComment(PostEntity.First().PostID);
       }
       //For getting comments**

       return View("ViewPost", ViewModel);
   }

    [HttpPost]
    public ActionResult NewComment(PostComment model)
    {
        var business = new Business();
        var entity = new Comment();

        //**For inserting comments
        entity.Comments = model.Comments.Comments;
        entity.PostID = model.Posts.PostID; 
        entity.UserID = business.GetUserID(User.Identity.Name);
        entity.UserName = User.Identity.Name;

        business.PostComment(entity);
        //For inserting comments**

        //**for getting comments
        var viewmodel = new PostComment();
        if (business.GetAllComment(model.Posts.PostID) == null)
        {
        }
        else
        {
            viewmodel.CommentList = business.GetAllComment(model.Posts.PostID);
        }
        //for getting comments**

        return View("ViewPost", viewmodel);
    }

    [HttpGet]
    public ActionResult NextPost(int model)
    {
        var business = new Business();

        var temp=business.GetNextPost(model);

        var viewmodel = new PostComment();
        if (temp != null)
        {
            viewmodel.Posts.PostID = temp.First().PostID;
            viewmodel.Posts.PostTitle = temp.First().PostTitle;
            viewmodel.Posts.PostStory = temp.First().PostStory;
        }
        else
        {
        }

        if (business.GetAllComment(model) == null)
        {

        }
        else
        {
            viewmodel.CommentList = business.GetAllComment(model);
        }
        return View("ViewPost", viewmodel);

    }

    [HttpGet]
    public ActionResult PreviousPost(int model)
    {
        var business = new Business();
        var temp=business.GetPreviousPost(model);

        var viewmodel = new PostComment();
        if (temp != null)
        {
            viewmodel.Posts.PostID = temp.First().PostID;
            viewmodel.Posts.PostTitle = temp.First().PostTitle;
            viewmodel.Posts.PostStory = temp.First().PostStory;
        }
        else
        {
        }

        if (business.GetAllComment(model) == null)
        {

        }
        else
        {
            viewmodel.CommentList = business.GetAllComment(model);
        }

        return View("ViewPost", viewmodel);
    } 
```

代码有什么问题？谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-18T08:00:47.763

你应该看看那些 ajaxOptions。我相信您需要指定 updatetargetid 来告诉表单它应该使用返回的数据更新哪个 id。如果要返回 JSON，则可以使用 onSuccess ajaxoption 触发 javascript 函数。

Onsuccess： [如何使用 Ajax.BeginForm OnSuccess 和 OnFailure 方法？](https://stackoverflow.com/questions/5517813/how-to-use-ajax-beginform-onsuccess-and-onfailure-methods/)

updatetargetid： [在 ASP.NET MVC 3 Razor 中使用 Ajax.BeginForm](https://stackoverflow.com/questions/5410055/using-ajax-beginform-with-asp-net-mvc-3-razor/)

# unity3d - 如何在 RUNTIME GameObject UNITY 下制作 RUNTIME BUTTON

> ID：12948369
> 
> 赞同：1
> 
> 时间：2012-10-18T06:25:31.397
> 
> 标签：unity3d

有没有办法我们可以在运行时游戏对象下制作运行时按钮？我能够使用 UIToolkit 中的所有组件/材料继承运行时游戏对象。

这是我的代码：

```
 public class loadImage : MonoBehaviour
{

    public UIToolkit duplicate_kit;
    public Material material;
    public UIButton b1, b2;
    public MeshFilter meshFilter;
    public MeshRenderer meshRenderer;
    public Mesh _mesh;

    void initKit()
    {

        Material duplicateMaterial = new Material (material.shader);
        duplicateMaterial.CopyPropertiesFromMaterial(material);
        material = duplicateMaterial;

        GameObject loadImageToolkit = new GameObject("duplicate_toolkit");
        loadImageToolkit.transform.parent = GameObject.Find("UI").transform;
        loadImageToolkit.layer = LayerMask.NameToLayer("UILayer");

        duplicate_kit = loadImageToolkit.AddComponent<UIToolkit>() ;
        duplicate_kit.texturePackerConfigName = "friendsImageSheet";
        duplicate_kit.material = duplicateMaterial;

        meshRenderer = loadImageToolkit.AddComponent<MeshRenderer>();
        meshRenderer.renderer.material = duplicateMaterial;

        meshFilter = loadImageToolkit.AddComponent<MeshFilter>();
        _mesh = meshFilter.mesh;

    }

    void Start()
    {
         initKit();

//       b1 = UIButton.create( duplicate_kit, "FriendsAvatar.png","FriendsAvatar.png",0,0); 
//       b1.pixelsFromTopLeft ( 60, 0 );
//       StartCoroutine(getImage(b1));

         b2 = UIButton.create( duplicate_kit, "FriendsAvatar.png", "FriendsAvatar.png" , 0,0 );
         b2.pixelsFromTopLeft( 120, 0 );
         StartCoroutine(getImage(b2));

         b1 = UIButton.create( (UIToolkit)GameObject.Find("duplicate_toolkit").GetComponent(typeof(UIToolkit)), "FriendsAvatar.png","FriendsAvatar.png",0,0);   
         b1.pixelsFromTopLeft ( 120, 0 );
         StartCoroutine(getImage(b1));

    }

    IEnumerator getImage(UIButton uib)
    {      
        WWW imageRequest = new WWW("https://graph.facebook.com/xxxxxxxxx/picture?type=small"); 
        yield return imageRequest;
        Texture tex = imageRequest.texture;

        uib.manager.renderer.material.mainTextureScale = new Vector2(18.0f,20.05f);
        uib.manager.renderer.material.mainTexture = tex;
    }

} 
```

主要目标是 b2 按钮应该出现在 duplicate_toolkit(Game Object) 下

就像是 ：

重复工具包

> 用户界面按钮

![在此处输入图像描述](../Images/7d0bb8fa3561a984ec010d6f359d0157.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T07:45:49.230

我没有使用 UITokit，但通常你在 Unity 中通过连接[Transform](http://docs.unity3d.com/Documentation/ScriptReference/Transform.html)组件来做到这一点：

```
b2.transform.parent = duplicate_toolkit.transform; 
```

# python - Python __iter__ 和 next() 函数

> ID：12948376
> 
> 赞同：1
> 
> 时间：2012-10-18T06:25:48.080
> 
> 标签：python

在 Python...

我在一个类中定义了一个嵌套列表：

```
self.env = [[ None for i in range(columnCount)] for j in range(rowCount) ] 
```

出于这个问题的目的，让我们假设这个嵌套列表包含以下值：

```
[None, None, None, None]
[None, None, None, None]
[None, None, 0, None]
[None, None, None, None] 
```

我需要能够利用**iter**和 next() 方法以列主要顺序（row0、col0、row1、col0、row2、col0 ...）来遍历此列表。

目的是让它将位于该网格位置的值发送到另一个函数以进行处理。

到目前为止，我将**iter**函数定义为：

```
def __iter__(self):
    return iter(self.env) 
```

然后我将下一个函数定义为：

```
def next(self):
    self.currentRow += 1
    self.currentColumn += 1

    if ( (self.currentRow < self.getRowCount()) and (self.currentColumn < self.getColumnCount()) ):
        return self.env[self.currentRow][self.currentColumn]
    else:
        raise StopIteration 
```

我遇到的问题是，似乎**iter**函数将每一行作为列表返回，但它没有调用下一个方法来进一步处理该列表。

我的目标是逐个打印每个网格位置的值......如：

无 无 ... 无 0 无 ... 无

有人可以详细说明为了实现这一目标我缺少什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T07:01:56.170

你可能正在以一种过于复杂的方式接近。

我会以这种方式解决这个问题：

*   再举一个例子——你的对调是对称的，所以你看不到做错的效果。让我们来

    ```
    x = [[1, 2, 3, 4], [5, 6, 7, 8]] 
    ```

目前。

*   使用`zip()`or （对于大列表）可能更好地`itertools.izip()`转置它，并删除一个级别：

    ```
    y = [j for i in itertools.izip(*x) for j in i] 
    ```

    在这里，`izip()`迭代所有给定的列表并组合它们的第一个、第二个、...元素以生成元组`(1, 5), (2, 6)`等等。`i`遍历这些元组，遍历`j`它们的项目。`y`也是如此`[1, 5, 2, 6, 3, 7, 4, 8]`。

*   现在，如果您希望您的类实例以这种方式可迭代，您可以采用以下几种方法：

    *   您可以`__iter__()`是生成器函数或返回迭代器，例如

        ```
        def __iter__(self): return (j for i in itertools.izip(*self.env) for j in i)
        def __iter__(self):
            for i in itertools.izip(*self.env):
                for j in i: yield i
        def __iter__(self): return iter([j for i in itertools.izip(*self.env) for j in i]) 
        ```

        等等。这样，您的对象是可迭代的，但不是迭代器。

    *   您可以如您所愿，让您的对象成为它自己的迭代器，并让`__iter__()`返回`self`并实现一个`next()`. 然而，我反对这一点，因为

        *   您需要自己跟踪索引
        *   一旦用尽，您可以（并且不应该）重新启动此迭代器，您可以[在此处](http://docs.python.org/library/stdtypes.html#iterator-types)阅读：

            > [...] 一旦迭代器的 next() 方法引发 StopIteration，它将在后续调用中继续这样做。不遵守此属性的实现被视为已损坏。（此约束是在 Python 2.3 中添加的；在 Python 2.2 中，根据此规则破坏了各种迭代器。）

            因此，每次迭代都需要一个新对象。

    *   你甚至可以用 来做一些有趣的事情`__getitem__()`，因为[这](http://docs.python.org/reference/datamodel.html#object.__getitem__)是 Python 的“最后手段”，如果它本身不提供迭代器，它可以使对象可迭代，正如[PEP234](http://www.python.org/dev/peps/pep-0234/)所提议的那样：

        ```
        def __getitem__(self, index):
            if index >= len(self): raise IndexError
            # do a complicated calculation to map from this single index to your `self.env`
        def __len__(self): # not needed, but handy
            return sum(len(i) for i in self.env) 
        ```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T06:56:48.570

您的`__iter__`函数正在返回`iter(self.env)`，它返回 self.env 的迭代器。如果你想调用你的下一个方法`__iter__`，你应该返回`self`。但是您的实现中还有其他问题，例如，您的迭代器不会多次工作。

有更简单的方法可以实现这一点。您可以编写生成器表达式/列表理解来实现此目的（请参阅@Eric 的答案）。您还可以编写[生成器方法](http://docs.python.org/tutorial/classes.html#generators)。例如：

```
def iter_column_row():
    for i in range(self.getColumnCount()):
        for j in range(self.getRowCount()):
            yield self.env[j][i] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-18T06:41:43.103

```
def __iter__(self):
    return (self.env[j][i] for i in range(columnCount)
                           for j in range(rowCount)) 
```

可能需要交换 I 和 j

# jquery - each() 方法将如何扫描页面？

> ID：12948377
> 
> 赞同：0
> 
> 时间：2012-10-18T06:26:00.423
> 
> 标签：jquery, each

嘿，我想我的问题相对简单。

我想知道 jQuerys each() 方法是否按元素顺序扫描页面，我似乎找不到答案。

我的意思是说我有：

```
 <div>
<span class="example">1</span>
<span class="example>2</span>
</div>
<div>
<span class="example">3</span>
</div> 
```

我写了以下内容：

```
 $('.example').each(function(index) {
    alert(index + ': ' + $(this).text());
}); 
```

我会一直得到“123”吗？我的意思是，如果元素分散得更多……

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:30:55.377

页面从上到下扫描。[***检查演示***](http://jsfiddle.net/XzaGD/1/)

整个页面按 DOM 元素存在的顺序读取。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T06:31:50.967

是的，在像这样的普通选择器查询中，对象按 jQuery 对象中的 DOM 顺序排序，而 jQuery 数组顺序是它们在`.each()`迭代中呈现的顺序。在构建 jQuery 对象（在 jQuery 代码中）有一个明确的步骤，其中所有 DOM 元素都按页面顺序从上到下排序。

有一些 jQuery 方法，例如`.prev()`or `.prevAll()`，它们明确地不按文档顺序返回元素，而是按先前的顺序（从起点向上）。

# python - 简单的 hello world 程序在 webpy 中出现问题

> ID：12948381
> 
> 赞同：1
> 
> 时间：2012-10-18T06:26:26.590
> 
> 标签：python, web.py

我正在尝试使用 webpy 服务器，如果我尝试使用它给我这个问题的模板，它适用于 hello world。

```
import web
render = web.template.render('templates/')

urls = (
    '/', 'index'
)

class index:
    def GET(self):
        name ='example'
        return render.index(name)

if __name__ == "__main__":
    app = web.application(urls, globals())
    app.run() 
```

**`templates/index.html`：**

```
<em>Hello</em>, world!
$def with (name)

$if name:
    I just wanted to say <em>hello</em> to $name.
$else:
    <em>Hello</em>, world! 
```

**错误**

```
<type 'exceptions.SyntaxError'> at /
invalid syntax Template traceback: File 'templates/index.html', line 8 None (index.html, line 8)

Python  /usr/local/lib/python2.7/dist-packages/web.py-0.37-py2.7.egg/web/template.py in compile_template, line 911
Web GET http://0.0.0.0:8080/ 
```

为什么我会遇到这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T07:30:02.993

您必须重新排序您的模板文件。`$def`声明必须先出现：

```
$def with (name)
<em>Hello</em>, world! 
```

# c# - annotationView 上的按钮如何在 iphone 中执行操作？

> ID：12948382
> 
> 赞同：1
> 
> 时间：2012-10-18T06:26:29.063
> 
> 标签：c#, xamarin.ios, annotations, mkmapview

我想在 iPhone 中添加按钮以`annotationView`执行`mapkit`单击该按钮的操作。如何在单击该按钮时执行操作？以及如何创建该按钮？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T06:35:14.837

我之前遇到过类似的问题，[本](http://www.altinkonline.nl/tutorials/xcode/corelocation/add-a-button-to-an-annotation/)教程解决了这个问题。如果您不确定，请查看网站上提供的源项目。

# java - 用下划线作为分隔符在Java中拆分字符串

> ID：12948388
> 
> 赞同：6
> 
> 时间：2012-10-18T06:27:00.903
> 
> 标签：java, string, split

我有以下字符串（字符串的这种格式是通用的）

```
abc_2012-10-18-05-37-23_prasad_hv_Complete 
```

我只想提取`prasad_hv`. 我该怎么做？

这不是我想要执行此操作的唯一字符串，因此任何特定于该字符串的内容（例如，检查“prasad_hv”）都无济于事。

我尝试使用 split with`_`作为分隔符，但它分开`prasad`并`hv`分开。请帮忙！

PS概括地说，字符串将遵循格式

```
string_<digit>-<digit>-<digit>-<digit>-<digit>-<digit>_<String with underscores>_<String> 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-18T06:30:48.597

你说

> 字符串的这种格式是通用的。

然后在拆分后连接索引为 2 和 3 的元素：

```
String str = "abc_2012-10-18-05-37-23_prasad_hv_Complete";
String[] parts = str.split("_");
String extractedResult = "";
if(parts.length > 3)
   extractedResult = parts[2] + "_" + parts[3]; // prasad_hv is captured here. 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-18T06:32:08.777

即使您想要的字符串中有很多下划线字符，这也会起作用。

```
str.substring(str.indexOf("_", str.indexOf("_") + 1) + 1, str.lastIndexOf("_")); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-18T06:40:29.500

你可以这样做

```
String token[] = myString().split("_");
String resultString = "";

for(int a=0; a<token.length-1 ;a++){

   if(a == token.length-2)
   resultString = resultString+token[a]
   else
   resultString = resultString+token[a]+"_";

} 
```

在`resultString`任何情况下都是您想要的字符串

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-18T06:35:56.300

您可以使用正则表达式来提取数据：

```
String input = "abc_2012-10-18-05-37-23_prasad_hv_Complete";
String output = input.replaceAll("(?i)^[a-z]+_[^_]+_(\\w+)_[a-z]+$", "$1"); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-18T06:31:46.000

如果您确切知道它们的位置并且确定位置是恒定的，那么您可以尝试再次附加字符串。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-18T06:32:24.710

我对您的问题的理解是，您希望字符串的第 3 个元素到第 (n-1) 个元素按“_”拆分（其中 n 是拆分后形成的数组的长度）。因此，代码将是这样的：

```
import java.util.Arrays;

public class StringSplit {
    public static final String test = "abc_2012-10-18-05-37-23_prasad_hv_Complete";
    public static void main(String args[]){
        String[] data = test.split("_");
        System.out.println(Arrays.toString(data));
        String aim = data[2];
        for(int i=3;i<data.length-1;i++){
            aim+="_"+data[i];
        }
        System.out.println(aim);
    }
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-18T06:42:08.883

您也可以使用正则表达式。这将导致类似的结果：

```
Pattern pattern = Pattern.compile(".*[0-9]_(.*)_Complete");
Matcher matcher = pattern.matcher("abc_2012-10-18-05-37-23_prasad_hv_Complete");
matcher.find();
String group = matcher.toMatchResult().group(1); 
```

# c# - 有没有办法在 Excel 中查找范围内的范围？

> ID：12948392
> 
> 赞同：3
> 
> 时间：2012-10-18T06:27:18.110
> 
> 标签：c#, excel, range

我有一个看起来像这样的 xls 文件：

[http://i.stack.imgur.com/d2fux.png](http://i.stack.imgur.com/d2fux.png)

嗯，这就像取决于标题的同一条信息，在这种情况下，标题是第 22164 行，下一个标题是 22178，依此类推。

在 GUI 中，我有一些东西可以让用户从参数中进行选择，并且可以根据他们的选择从 xls 文件中加载信息，例如，他们可以选择：

> 写 | 随机 | 4 | 6 | 15

在这种情况下寻找存储在 A22165:O22177 中的信息

我已经有了包含工作簿中所有信息的工作表，我们称该对象 [,] 'valueArray'：

```
Workbook workBook = _excelApp.Workbooks.Open(censFilePath);
        Worksheet sheet = (Worksheet)workBook.Sheets[1];
        Range sheetRange = sheet.UsedRange;
        object[,] valueArray = 
            (object[,])sheetRange.get_Value(XlRangeValueDataType.xlRangeValueDefault); 
```

我创建了另一个对象，它以与 xls 相同的顺序和格式存储用户的选择。让我们称那个 object[,] 为 'look4it'

我正在尝试找到一种我可以告诉的方法：我想在“valueArray”中找到“look4it”，该方法的答案将是 A22164:E22164，因此我可以计算从“valueArray”复制的范围并使用正确的信息。

我尝试过 Range.Find，但它似乎是在 Range.Find 中寻找一条独特的信息，并返回地址，但我没有找到任何东西可以让我在另一个范围内查找 Range 的内容。

任何帮助表示赞赏！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T16:27:10.423

我认为在这种情况下我会首先构建一个包含每个标题及其位置的查找列表。对于列表中的键，我会将标题单元格连接在一起以生成单个查找值。因此，在您的代码之后立即执行以下操作：

```
Dictionary<string, int> lookUpList = new Dictionary<string, int>();

// Loop through the rows

for (int i = 0; i < valueArray.GetLength(0); i++)
{
    // Identify the header rows

    if (valueArray[i, 0].ToString() == "WR")
    {
        // Concatenate the header strings into a single string

        string header = "";

        for (int j = 0; j < valueArray.GetLength(1); j++)
        {
            header += valueArray[i, j].ToString();
        }

        // Store the header location

        lookUpList.Add(header, i + 1);
    }
} 
```

请记住，这是临时的，我还没有测试过。我不确定该`Range.get_Value`方法究竟是如何将数据放入数组中的，因此维度可能是错误的。此外，我正在假设如何根据您提供的数据图像识别电子表格中的标题行。

无论如何，一旦构建，您可以执行简单的查找以提取标题的行号：

```
string userSelectedHeader = "concatenation of whatever the user selected";
int rowNumber = lookUpList[userSelectedHeader]; 
```

这是否有助于回答您的问题？

# c# - 如何从 Silverlight 应用程序访问 C# 类库事件？

> ID：12948408
> 
> 赞同：0
> 
> 时间：2012-10-18T06:28:22.743
> 
> 标签：c#, wcf, silverlight-4.0

我正在创建一个应用程序，它是一个 pub/sub 模型，其中 silverligh 作为 UI 层和 C# 类库，它将从设备读取 rfid 信号并且必须重定向到 UI，我已经使用 WCF 服务层完成了此操作。现在我的要求必须去掉服务层，直接连接到UI层。所以我尝试将类库更改为silverlight类库，但设备驱动程序的支持DLL不是建立在silverlight运行时上的。访问这些方法的任何想法/建议。

谢谢

# c# - 无法通过实例引用访问

> ID：12948410
> 
> 赞同：1
> 
> 时间：2012-10-18T06:28:29.890
> 
> 标签：c#

> **可能重复：**
> [为什么在使用 teststring.Join 而不是 teststring.Split 时出现“无法通过实例引用访问”？（C＃）](https://stackoverflow.com/questions/4368295/why-do-i-get-cannot-be-accessed-with-an-instance-reference-when-using-teststri)

我不确定代码有什么问题。我尝试谷歌搜索，但没有得到相关信息。

这是我的 for 循环。

```
 for (int i = 0; i < 5; i++)
            {
                for (int j = 0; j < 5; j++)
                {
                    slide.Move(s, i, j); // this is the problem. 
                }
            } 
```

这是我的移动功能。根据我的说法，我认为我正在按照假设的方式调用该函数，但我无法弄清楚出了什么问题。我是相当新的语言。

```
 protected static void Move(string s, int x, int y)
    {
        Console.WriteLine("I am in Move function");
        try
        {
            Console.SetCursorPosition(origCol + x, origRow + y);
            Console.Write(s);
        }
        catch (ArgumentOutOfRangeException e)
        {
            Console.Clear();
            Console.WriteLine(e.Message);
        }

        for (int i = 0; i < DEFAULT_SIZE; ++i)
        {
            for (int j = 0; j < DEFAULT_SIZE; ++j)
            {
                    Console.Write("#");
                    Console.Write("\r{0}%   ", i,j);
                    //Console.WriteLine(slider[i, j]);
            }
            Console.WriteLine();
            Console.ReadKey();
        }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T06:32:29.870

`Move`是一种静态方法，因此您可以使用`ClassName.Move`.

所以，你有两个选择。

1.  更改`slide.Move(s, i, j);`为使用类名，而不是实例变量。例如，如果类名`Slide`那么你应该使用`Slide.Move(s, i, j);`.

2.  更改`Move`为实例方法。

我认为选项2是要走的路。正如乔恩斯基特指出的那样。`Move`应该是实例方法更有意义。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T06:34:05.717

> 受保护的静态无效移动（字符串 s，int x，int y）

静态成员属于类而不是类的实例。要访问它们，请在它们前面加上类的名称

```
[ClassName].Move(s, x, y);  //Slide.Move(x, y, z); assuming your class name is Slide 
```

要像这样使用它，您需要删除静态修饰符

```
protected void Move(string s, int x, int y) 
```

# c++-cli - C++/CLI 中的调用约定

> ID：12948412
> 
> 赞同：2
> 
> 时间：2012-10-18T06:28:36.630
> 
> 标签：c++-cli, calling-convention

我为 C++/CLI 库定义了一个函数：

```
extern "C"
{
    INT_PTR __cdecl brl_graphics_Graphics(int Width, int Height, int Depth, int Hertz, int Flags);
} 
```

这是调用它的函数，它只是一个包装器：

```
IntPtr BlitzMax::BlitzMax::Graphics(int Width, int Height, int Depth, int Hertz, int Flags)
{
    return IntPtr(brl_graphics_Graphics(Width, Height, Depth, Hertz, Flags));
} 
```

当我从 C# 应用程序调用它时，我得到一个 AccessViolationException，由于某种原因在反汇编中它不使用 cdecl 调用约定：

```
push        dword ptr [ebp+10h] 
push        dword ptr [ebp+0Ch] 
push        dword ptr [ebp+8] 
mov         ecx,dword ptr [ebp-4] 
mov         edx,dword ptr [ebp-8] 
call        FFD595B8 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T13:29:11.543

我不完全确定你想要做什么，但这个网站可能会帮助[http://tom-shelton.net/index.php/2008/12/11/creating-a-managed-wrapper- for-a-lib-file/](http://tom-shelton.net/index.php/2008/12/11/creating-a-managed-wrapper-for-a-lib-file/)。

它提供了创建本机 C++ 类（可以只是函数）的分步指南，将它们包装在 C++/CLI 包装器中，然后在 C# 程序中使用包装器。

# objective-c - 如何将pdf文件保存在文档目录中

> ID：12948416
> 
> 赞同：1
> 
> 时间：2012-10-18T06:28:50.140
> 
> 标签：objective-c

我是 iPhone 的初学者。我不知道如何将 pdf 文件保存在文档目录中。我已经在文档目录中创建了文件夹。我首先在 Webview 中打开了 pdf。但是如何将 pdf 存储在文档目录中。

这是我的代码是...

```
- (void)viewDidLoad
{
    [super viewDidLoad];
 NSArray *path = [[NSBundle mainBundle] pathsForResourcesOfType:@"pdf" inDirectory:nil];
  UIBarButtonItem *tempButton = [[UIBarButtonItem alloc] initWithImage:[UIImage imageNamed:@"starbtnwhite.png"] style:UIBarButtonItemStylePlain target:self action:@selector(favbtnClicked:)];

    self.navigationItem.rightBarButtonItem = tempButton;

 NSFileManager *fileManager = [NSFileManager defaultManager];
    NSString *documentFolderPath = [NSHomeDirectory() stringByAppendingPathComponent:@"Documents"];
    NSString *imagesFolderPath = [documentFolderPath stringByAppendingPathComponent:@"Favourite"]; 

    //Check if the videos folder already exists, if not, create it!!!
    BOOL isDir;

    if (([fileManager fileExistsAtPath:imagesFolderPath isDirectory:&isDir] && isDir) == FALSE) 
    {
        [[NSFileManager defaultManager] createDirectoryAtPath:imagesFolderPath withIntermediateDirectories:YES attributes:nil error:nil];
    }

if(sel_id==0)
    {
            NSURL *targetURL = [NSURL fileURLWithPath:[path objectAtIndex:0]];
            NSLog(@"targeUrl--%@",targetURL);

            NSURLRequest *request = [NSURLRequest requestWithURL:targetURL];
            NSLog(@"request--%@",request);

            [webView loadRequest:request];
            [self.view addSubview:webView];
//            [webView release];

    }
    else if(sel_id == 1)
    {
        NSURL *targetURL = [NSURL fileURLWithPath:[path objectAtIndex:1]];
        NSLog(@"targeUrl--%@",targetURL);

        NSURLRequest *request = [NSURLRequest requestWithURL:targetURL];
        NSLog(@"request--%@",request);

        [webView loadRequest:request];
        [self.view addSubview:webView];
//        [webView release];

    }
    else if(sel_id == 2)
    {
        NSURL *targetURL = [NSURL fileURLWithPath:[path objectAtIndex:2]];
        NSLog(@"targeUrl--%@",targetURL);

        NSURLRequest *request = [NSURLRequest requestWithURL:targetURL];
        NSLog(@"request--%@",request);

        [webView loadRequest:request];
        [self.view addSubview:webView];
//        [webView release];

    }

}

-(IBAction)favbtnClicked:(id)sender
{
  NSArray *paths=NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSData *datapdf=[[NSData alloc]init];
    NSString *documentDirectory=[paths objectAtIndex:0];

    NSString *finalPath=[documentDirectory stringByAppendingPathComponent:[NSString stringWithFormat: @"Favourite/%@",webView]];
    NSLog(@"finalpath--%@",finalPath);
    [datapdf writeToFile:finalPath atomically:YES];
    NSLog(@"data--%@",datapdf);

} 
```

sel_id 是返回 tableview 中选择的原始单元格，我在文档目录中创建了收藏夹文件夹，我想在收藏夹文件夹中添加 pdf 文件。为此，我创建了 favbtnClicked 方法：我已将 pdf 文件保存在文档目录中。

但是像这样的甲型保存...

收藏夹 >

但我只想保存像abc.pdf这样的pdf文件而不是这个格式>

所以给出适用于我的应用程序的任何建议和源代码......

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-18T06:57:32.320

问题是**datapdf 没有什么可写**的。所以你的 favbtnClicked 方法是这样的：

```
 -(IBAction)favbtnClicked:(id)sender
{
    NSArray *paths=NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentDirectory=[paths objectAtIndex:0];

    NSString *finalPath=[documentDirectory stringByAppendingPathComponent:[NSString stringWithFormat: @"Favourite/myFile.pdf"]]; //check your path correctly and provide your name dynamically
    NSLog(@"finalpath--%@",finalPath);
    NSData *datapdf = [NSData dataWithContentsOfURL:[NSURL urlWithString:yourURLString]]; //add url string here
    NSLog(@"data--%@",datapdf);
    if(datapdf)
       [datapdf writeToFile:finalPath atomically:YES];

} 
```

# facebook - Facebook：如何在新闻提要中获取用户信息

> ID：12948417
> 
> 赞同：0
> 
> 时间：2012-10-18T06:28:51.993
> 
> 标签：facebook, facebook-graph-api

我可以使用获取新闻提要

```
http://graph.facebook.com/me/home 
```

除了获取发布状态或照片的用户的 ID，例如

`from = { id = 100004146969087; name = "Tim"; };`, 我想得到那个人的 fullName 和 profile_img_url。我必须发送请求`/me?fields=picture, username, name`以获取信息。如何通过一个请求在我的新闻提要中获取用户的 fullName 和 profile_img_url？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T07:38:49.740

我认为这就是你要找的：

```
http://graph.facebook.com/me/home?fields=from.fields(name,username,picture.type(large)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T13:08:38.107

可能你可以使用乘法查询。JSON 格式查询，您可以在 facebook 开发者文档中找到文档。

# mysql - 拆分一个mysql转储文件并将拆分文件保存在另一台服务器上？

> ID：12948420
> 
> 赞同：0
> 
> 时间：2012-10-18T06:29:05.300
> 
> 标签：mysql, database, split, mysqldump

我有一个 mysql 文件，它有 13 GB 的空间。我想把它分成 4 个部分，以便我可以压缩它。但是服务器上没有足够的空间来保存拆分文件（总共 13 GB）。

是否可以拆分文件并将其保存在另一台服务器上？

像 `split -b 40k myfile | username@domain_name 'cat > /tmp/sppli_file_'`

请建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T06:41:13.167

当然; 其他服务器是否已`sshd`安装并启用？

您可以通过 SSH 将文件通过管道传输到另一台机器并在那里拆分：

```
cat myfile | ssh user@othermachine split -b 40k 
```

如果您的版本`split`有`--filter`选项，您甚至可以即时压缩拆分：

```
cat myfile | ssh user@othermachine split -b 40k --filter='gzip > $FILE.gz' 
```

# jquery - Symfony2 AJAX 验证

> ID：12948424
> 
> 赞同：8
> 
> 时间：2012-10-18T06:29:18.437
> 
> 标签：jquery, ajax, validation, symfony, jquery-validate

我正在使用 Symfony2 组件和 Doctrine。验证在服务器端效果很好（实体等的约束）我想要的是通过 AJAX 验证表单（我自己的自定义构建而不使用 Symfony 表单组件）。

有没有办法使用验证组件来验证使用 AJAX 的字段？

或者我应该使用 jQuery 验证插件？从那时起，这似乎不合逻辑，将使用 2 种不同的验证。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-18T07:05:43.770

如果包含验证错误，您可以通过 AJAX 发送序列化表单并从服务器端返回呈现的表单。

```
$.post($form.attr('action'), $form.serialize(), function (response) {
    if (response.success) {
        // do something on success
    } else {
        $form.replaceWith(response.form);
    }
}); 
```

在服务器端，您检查它是否是 AJAX 请求并`response`以 JSON 格式返回。

# javascript - 在javascript中选择文本事件

> ID：12948427
> 
> 赞同：1
> 
> 时间：2012-10-18T06:29:33.763
> 
> 标签：javascript, android, html, touch

在安卓浏览器上，当我们触摸并按住文本时，文本被选中并显示复制、剪切、粘贴等选项。但是当我们使用 javascript 触发选择文本事件时，文本被选中，但没有显示复制、剪切、粘贴选项。为什么？

文本选择的代码：

```
<body onload = "selecText();">
     <script type="text/javascript">
         function selecText()
         {
        document.getElementById("textareaid").value ="selected text area";
              document.getElementById("textareaid").focus();
              document.getElementById("textareaid").select();
          }
      </script>
      <textarea value="abdc"   id="textareaid"   ></textarea>
 </body> 
```

# php - 如何从 HTML 标签中获取某个单词之后的链接文本？

> ID：12948428
> 
> 赞同：1
> 
> 时间：2012-10-18T06:29:38.407
> 
> 标签：php, html, html-parsing

> **可能重复：**
> [如何使用 PHP 解析和处理 HTML？](https://stackoverflow.com/questions/3577641/how-to-parse-and-process-html-with-php)

我试图从文本“Dir：”之后的链接中获取文本，例如使用 php 或正则表达式的“a”标签（导演的名字，这里是 Sam Raimi）的开始和结束之间的文本。

例如

```
<span class="credit">
    Dir: <a href="/name/nm0000600/">Sam Raimi</a>
    With: <a href="/name/nm0001497/">Tobey Maguire</a>, <a href="/name/nm0000379/">Kirsten Dunst</a>, <a href="/name/nm0000353/">Willem Dafoe</a>
</span> 
```

任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T07:05:56.733

要获得演职员表中的 Director，您可以使用[XPath](http://schlitt.info/opensource/blog/0704_xpath.html)：

```
//span[@class="credit"]/text()[contains(., "Dir:")]/following-sibling::a[1]' 
```

这将为您提供包含字符串“Dir：”的文本节点之后的第一个元素，该元素是具有类属性值为“credit”的 span 元素的子元素

有关如何使用 DOM 的一般用法示例，请参阅[获取 A 元素的 href 属性](https://stackoverflow.com/questions/3820666/grabbing-the-href-attribute-of-an-a-element)

# c# - 将 Web 数据库同步到本地数据库

> ID：12948434
> 
> 赞同：0
> 
> 时间：2012-10-18T06:29:59.580
> 
> 标签：c#, synchronization

我正在建立一个电子商务网站，我有一个本地库存（数据库）和一个在线数据库，我想在 C# 中定期同步我的库存。有人能告诉我我在看什么吗？比如我应该看什么样的资源才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T06:57:33.897

您正在使用 C# 进行同步，对吧？

我建议您首先跟踪本地数据库上的更改（将跟踪每个插入/更新/删除。）您可以使用自定义跟踪机制或使用[SQL 服务器更改数据捕获](http://msdn.microsoft.com/en-us/library/bb522489%28v=sql.105%29.aspx)

第二步是根据时间间隔在本地数据库上获取这些更改，然后更新您的在线数据库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T07:03:53.083

使用 araxis 合并工具并比较两个数据库。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-18T06:34:25.253

创建一个 Windows 调度程序以更新您的远程库存详细信息

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-18T06:34:30.243

您可以为此目的使用 SQL 数据比较。[这里].(http://www.red-gate.com/products/sql-development/sql-data-compare/) 网上也有破解版。它为您生成脚本。

# c# - window.onload 在 Response.AppendHeader 之后不起作用

> ID：12948440
> 
> 赞同：0
> 
> 时间：2012-10-18T06:30:34.103
> 
> 标签：c#, javascript, asp.net

我有一个工作正常的加载图像，但是当我向表单添加下载按钮并添加代码时

```
 Response.ClearContent();
        Response.ContentType = "application/vnd.ms-excel";
        Response.AppendHeader("Content-Disposition", "attachment; filename=ssss.xls");
        Response.WriteFile(uploadingFilePath & fileName)
        HttpContext.Current.ApplicationInstance.CompleteRequest(); 
```

我明白当跑步时

```
Response.AppendHeader("Content-Disposition", "attachment; filename=ssss.xls"); 
```

线，然后`window.onload`功能不起作用，任何人都可以帮助我提前谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:41:05.630

这`window.onload`是一个javascript函数。你现在写的回复是一个excel文件。

当你设置`ContentType`http 头时，你告诉浏览器你正在向它发送一个应用程序文件，浏览器会提示用户将文件保存到磁盘。

当提示用户或下载文件时，您的页面和您的 javascript 不会收到事件。

如果您的响应是文件，则无法删除事件的加载图像。您可以通过设置 javascript 来删除它`setTimeOut`。

参考：[setTimeOut](https://developer.mozilla.org/en-US/docs/DOM/window.setTimeout)

`hideImage`这将在 5 秒后调用该函数。将其添加到显示图像的函数中。

```
function hideImage() {
    //hide your image
}
window.setTimeout(hideImage, 5000); 
```

# android - XMPP 存在订阅

> ID：12948442
> 
> 赞同：4
> 
> 时间：2012-10-18T06:30:44.830
> 
> 标签：android, xmpp, subscription, user-presence

在我的应用程序中，当我使用此代码向任何朋友发送请求时..

```
try {               
                roster.createEntry(idExtension, nickname, null);
                roster.setSubscriptionMode(Roster.SubscriptionMode.manual);
                Presence subscribe = new Presence(Presence.Type.subscribe);
                subscribe.setTo(idExtension);               
                connection.sendPacket(subscribe);

                return true;
            } catch (XMPPException e) {
                System.err.println("Error in adding friend");
                return false;
            } 
```

然后订阅在两个朋友名册中都显示“NONE”。

但它应该是“TO”和“FROM”。

但是，如果对于相同的过程，我使用此代码-

```
try {               
                roster.createEntry(idExtension, nickname, null);
                roster.setSubscriptionMode(Roster.SubscriptionMode.manual);
                Presence subscribed = new Presence(Presence.Type.subscribed);
                subscribed.setTo(idExtension);              
                connection.sendPacket(subscribed);

                return true;
            } catch (XMPPException e) {
                System.err.println("Error in adding friend");
                return false;
            } 
```

然后它给了我在前一种情况下应该得到的正确结果。

请告诉我为什么我在订阅模式下没有得到相同的结果。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T14:11:18.270

我猜你没有在 Presence 中理解 type 的含义。

> subscribe -- 发件人希望订阅收件人的出席信息。
> 
> subscribed -- 发件人已允许收件人收到他们的出席信息。

因此，当您发送第一个请求时，您请求用户让您订阅他的出席事件，直到他不允许您这样做，订阅类型为无。

在第二种情况下，您允许用户订阅您的状态，即您允许他收听您的状态，因此您获得订阅类型。

# python - matplotlib 不会绘制 python3

> ID：12948446
> 
> 赞同：24
> 
> 时间：2012-10-18T06:30:50.120
> 
> 标签：python, python-3.x, matplotlib, installation, backend

我在 virtualenv 中成功安装了 matplotlib。现在我正试图让它画出来。我知道如何更改后端，但是在弄清楚将其更改为什么时遇到了很多麻烦。

有没有人设法让它完全与 python3 一起工作？如果是，如何？

我已经尝试了很多东西。我已经循环浏览了所有后端以查看所有投诉是什么，而不是我试图让其中一个工作。

另外可能值得注意的是，我的目标是将它集成到 Pyramid 应用程序中。

以下是迄今为止所有不同后端发生的情况：

*   Agg：这是默认后端。它不画
*   GTK：需要 pygtk 显然尚未移植到 python3
*   GTKAgg：同上
*   GTKCairo：说“必需的包 gtk”假设类似于上述内容
*   FltkAgg：看起来没有 python3 版本。尽管它在 python3 UI FAQ 中被提及。我想那只是一个刺激。天哪
*   MacOSX：我正在运行 ubuntu。假定不适当
*   QtAgg：需要 pyqt。见 Qt4Agg
*   Qt4Agg：请参阅[在 virtualenv 中安装 PyQt4](https://stackoverflow.com/questions/12933997/installing-pyqt4-in-a-virtualenv)
*   TkAgg：ImportError：无法导入名称 _tkagg。我可以在解释器中运行 import tkinter，所以我还不确定是什么坏了
*   WX: ImportError: Matplotlib backend_wx and backend_wxagg require wxversion，没找到
*   WXAgg：同上
*   CocoaAgg：ImportError：CococaAgg 后端需要安装 PyObjC！
*   GTK3Cairo : ImportError: GTK3 后端需要安装 pygobject。我尝试安装它，但是当我尝试使用正确的 python 配置它时，它抱怨缺少标头
*   GTK3Agg：没有名为 cairo 的模块。但我认为我会遇到与上述相同的问题
*   cairo：Cairo 后端要求安装 pycairo
*   emf：必须先从[http://pyemf.sf.net](http://pyemf.sf.net)安装 pyemf 。看起来它应该做 windowsey 的东西所以这可能不是一个好的选择
*   gdk：没有名为 gobject 的模块
*   pdf：运行但不绘制
*   pgf：同上
*   ps：同上
*   svg: 同上
*   模板：同上。

我用来测试后端的脚本是：

```
import matplotlib.pyplot as plt
plt.plot([1,2,3,4])
plt.show() 
```

到目前为止，我已经花了太多时间试图让 python3.2 和 qt4 玩得很好，而且我似乎每次转身都遇到了问题。因此，我不想继续我的反复试验方法，而是想问：

1.  Python3.2 和 Pyramid 的最佳选择是什么？
2.  我该如何实现？

与此同时，我将继续试错，并随时更新我的​​问题。

**关于我正在尝试的东西的注释**

对于 TkAgg：

由于 tkinter 正确导入，我假设它已正确安装（如果我错了，我想有办法测试它吗？）。这家伙[http://ask.sagemath.org/question/626/sage-python-import-matplotlib-no-module-named](http://ask.sagemath.org/question/626/sage-python-import-matplotlib-no-module-named)有类似的问题，但我确定他的设置与我的不同。解决方案是在 python3.2 站点包目录的内部找到 tkagg.py 并编辑有问题的导入语句。我发现很难相信 matplotlib 的交付失败了（而且我无法运行建议的修改后的代码......）

对于 WX 的东西：

[wxPython for Python 3](https://stackoverflow.com/questions/720806/wxpython-for-python-3)表示尚不支持 python3。wxPython 在他们的网站上也没有提到 python3，所以我想这是不行的。用完了选项：/

可可：

同上：[在 Python 3 中编写 Cocoa 应用程序](https://stackoverflow.com/questions/1514638/writing-cocoa-applications-in-python-3)

电磁场：

同上： http: [//pyemf.sourceforge.net/README.html](http://pyemf.sourceforge.net/README.html)

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-04-10T08:20:36.270

我遇到了完全相同的问题，但经过大量努力，我设法使 TkAgg 正常工作（这导致了 _tkagg 的导入错误）。有点晚了，但有人可能会发现它很有用。

FWIW我解决了如下问题（使用TkAgg）：

*   **`tk-dev`**从包管理器安装
*   *`python3-tk`从包管理器*重新安装**
**   *`matplotlib`从源代码*重建和重新安装****   （当然在 matplotrc 中设置 TkAgg）**

 **如果你认为你已经正确安装，你需要重建`tk-dev`并***重新安装 matplotlib***，以便它在你的目录中生成。`python3-tk`*`_tkagg.py``backends`*

 *我在 LM14 上使用 Python3.3 (numpy 1.7)。但我认为它应该适用于 Ubuntu/Python3.2

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-07-29T03:42:20.677

我一直在做 python 3.3.2 和 matplotlib 的源代码构建。如上所述，TkAgg 有效。如果您从源代码构建所有内容：

1.  sudo apt-get install tk-dev
2.  重建 python3 (make clean; ./configure; make)
3.  清理 matplotlib（从 virtualenv 中删除 egg，从 ~/.config/matplotlib 中删除缓存对象）
4.  从源代码重建 matplotlib (rm -r build/; python setup.py build; python setup.py install)

终于看到那个愚蠢的盒子弹出了我的 x=y 行。

*小时*....

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-24T08:57:10.387

[Matplotlib 的1.2.x 版本](http://matplotlib.org/1.2.0/index.html)似乎朝着 Python 3 迈出了一大步。[matplotlib 1.2.0rc2](https://github.com/matplotlib/matplotlib/downloads) (+ numpy 1.7.0b2) 正在为我工​​作

*   Python 3.2.2（Linux Mint 12 上的虚拟环境）
*   Python 3.3.0（从源代码本地安装）

在这两种情况下，matplotlib 都将“TkAgg”报告为使用的后端。

不幸的是，我不知道这是否/如何与 Pyramid 一起工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-06-11T04:20:30.747

我写了一个答案，以确保`matplotlib`在 Ubuntu 16.04 的 Python 3 virtualenv 中使用[https://askubuntu.com/a/785506/15003](https://askubuntu.com/a/785506/15003)`TkAgg`的后端，这在这里很有用。结果是安装，激活virtualenv并在virtualenv中重新安装：`tk-dev``matplotlib`

```
sudo apt install tk-dev
source venv/bin/activate
pip --no-cache-dir install -U --force-reinstall matplotlib 
```

`python -c 'import matplotlib as mpl; print(mpl.get_backend())'`现在应该说`TkAgg`。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-01-29T15:06:13.140

对我来说，以下工作：

*   停用，
*   `sudo apt-get install python3-matplotlib libfreetype6-dev`
*   (激活 virtualenv) 源 /home/...,
*   `pip install numpy matplotlib`（如果您已经拥有它，可以卸载然后安装，或者此时尝试创建一个新的 venv）
*   `pip install --upgrade pip`venv 内部也可能会有所帮助（出于某种我不知道的原因），就像我安装 scipy 时一样。

它现在使用 virtualenv 进行绘图。

```
$ lsb_release -a (gives..) 
```

Ubuntu 14.04.5 LTS***

# numpy - 从 numpy 屏蔽数组中选择任意未屏蔽元素

> ID：12948448
> 
> 赞同：0
> 
> 时间：2012-10-18T06:30:59.033
> 
> 标签：numpy, python-2.7

我有 dtype=uint8 的 3-D 掩码数组，我想做类似的事情`arr.max(axis=-1)`，但不是总是选择最大值，我想（1）找到第一个（或最后一个）未组合的元素，（2）选择随机任意未屏蔽元素或 (3) 沿轴选择中值或众数，例如`numpy.ma.median`或 `scipy.stats.mstats.mode`

方法（3）是我在理想世界中想要的，但它非常慢。然后我尝试找到运行速度很快的 max。但我不想总是使用最大值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-05T18:58:50.007

我不确定我是否正确理解了您的问题，但如果计算速度是一个问题`ma.median`，您可以考虑仅在数组的未屏蔽部分使用相应的“正常”numpy 函数：

```
arr = ma.array(some_array)
med = ma.median(arr)                # masked array solution
med = np.median(arr.compressed())   # 'normal' function on unmasked part of arr 
```

除了压缩部分，这不应该比正常慢。

*更新*我刚刚检查了这两种方法的速度：使用压缩数组的“正常”函数是屏蔽数组解决方案的 5-15 倍，具体取决于屏蔽元素的比例...... :-)

# ruby-on-rails - 如何分配每个用户在不同条件下访问项目？

> ID：12948455
> 
> 赞同：1
> 
> 时间：2012-10-18T06:31:32.490
> 
> 标签：ruby-on-rails, ruby-on-rails-3, roles, user-roles

我已经设计了身份验证，我必须让特定用户只拥有该特定项目的查看权限，并为不同项目的同一用户创建和读取权限，类似地，其余用户应该具有项目权限。并且此权限应该是可编辑的，以便具有角色 admin 的用户必须编辑用户的权限。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:37:08.313

Ryan Bates 的[CanCan gem](https://github.com/ryanb/cancan)可以满足您的大部分要求。查看 CanCan 上的 RailsCast 剧集以获得快速介绍：[http ://railscasts.com/episodes/192-authorization-with-cancan](http://railscasts.com/episodes/192-authorization-with-cancan)

不确定它是否——现成的——提供以图形方式编辑权限，但我认为它可以通过 CanCan 中的可用功能来实现。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T06:38:17.617

我对 Rails 没有任何经验，但我想，您正在寻找一个对象级别权限，该权限可用于控制每个用户对单个对象的 CRUD 操作。

```
add_permission --> List of User
view_permission --> List of User
delete_permission --> List of User
update_permission --> List of User
add_excluded_user_permission --> List of User
view_excluded_user_permission --> List of User
delete_excluded_user_permission --> List of User
update_excluded_user_permission --> List of User 
```

您可以将以下属性继承给您的类，这些属性主要是为特定操作定义的用户列表，然后，您可以考虑创建一个 API，该 API 可用于根据这些权限检查用户。

# linux - bash 或 sh 中的 '=' 和 '==' 运算符之间有什么区别吗

> ID：12948456
> 
> 赞同：5
> 
> 时间：2012-10-18T06:31:44.180
> 
> 标签：linux, bash, shell, operators

我意识到 '=' 和 '==' 运算符都适用于 if 语句。例如：

```
var="some string"
if [ "$var" == "some string" ];then
    #doing something
fi

if [ "$var" = "some string" ];then
    #doing something
fi 
```

上面的 if 语句在 bash 和 sh 中都运行良好。我只是想知道他们之间有什么区别吗？谢谢...

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-18T06:42:11.207

在用于条件测试的单括号内（即 [ ... ]），所有 shell 都支持单个 =，而一些旧 shell 不支持 as ==。

在条件测试的双括号内（即 [[ ... ]]），新旧外壳没有区别。

编辑：我还应该注意：如果可能，请始终使用双括号 [[ ... ]]，因为它比单括号更安全。我将通过以下示例说明原因：

```
if [ $var == "hello" ]; then 
```

如果 $var 恰好为 null / 空，​​那么这就是脚本所看到的：

```
if [ == "hello" ]; then 
```

这会破坏你的脚本。解决方案是使用双括号，或者始终记住在变量周围加上引号（“$var”）。双括号是更好的防御性编码实践。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T07:35:58.227

它们在算术评估方面不同

在双括号内，`=`不能用于比较而`==`工作正常，例如

`(( $var == 3 ))`工作正常

`(( $var = 3 ))`给出错误（比较）。

`(( var = 3 ))`有效（分配），但这总是评估为 TRUE

# javascript - 计算含增值税百分比的总金额

> ID：12948458
> 
> 赞同：1
> 
> 时间：2012-10-18T06:31:46.817
> 
> 标签：javascript, jquery, percentage, jsfiddle, calculated-columns

我已经建立了一个[*可编辑的表格*](http://jsfiddle.net/Manna/CBk5a/5/)。有两行，一行可使用*Textarea*编辑，另一行可使用*Input number*编辑。如果单击列号，您可以更改金额并自动获得总和。

还可以克隆可编辑的新行。

我现在正在研究如何计算在最后一行中自动给出 TOTAl 的百分比（增值税 21%）。我一直在寻找一些例子，但我没有找到任何例子。

正如您在我的[示例](http://jsfiddle.net/Manna/CBk5a/5/)中看到的那样，有一个函数可以计算行中的总和`ID="sum"`。

我的问题是我需要使用哪个函数来计算 21% 的增值税，然后自动在最后一行给我新的 TOTAL，包括这个百分比？

希望解释清楚。[这](http://esempi.gabrieleromanato.com/jquery/jquery-totale-percentuale-sconto/)只是我发现的一个合适的例子，但我不能适用于我的情况。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T06:39:15.300

代码现已更新。现在检查。

> [http://jsfiddle.net/CBk5a/6/](http://jsfiddle.net/CBk5a/6/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T06:44:31.417

只需对列求和并乘以 1.21。

# php - 如何停止重绘网页

> ID：12948461
> 
> 赞同：0
> 
> 时间：2012-10-18T06:31:51.653
> 
> 标签：php, mysql, submit, redraw

我已经使用 php 和 mysql 创建了一个网页，代码工作正常，但问题是我包含了这么多提交按钮，因此我的网页被重绘了很多次。我失去了一些价值，即 $emirate 价值和 $areas 价值。我使用变量 $choice 来存储这些值，但由于页面正在重绘，我没有得到这些值。请帮帮我。

```
$data = mysql_query("SELECT * FROM emirate") 
    or die(mysql_error()); 

    $choice="";

    Print "<table border cellpadding=3>"; 
    print"<tr><th><form method=get action=''><select id=EMIRATE size=1 name='EMIRATE' class='comboBoo'>";
    while($info = mysql_fetch_array( $data )) 
    { 
        Print "<option value=". $info['em_name'] .">".$info['em_name']."</option>"; 
    }
    print"</select><input type=submit value=OK></form></th>";
    if(isset($_GET['EMIRATE'])){
        $emirate=$_GET['EMIRATE'];
        $choice.=$emirate;
        $data = mysql_query("SELECT a_name FROM areas where em_id=(select em_id from emirate where em_name=\"".$emirate."\")") 
        or die(mysql_error());
        Print "<th><form method=get action=''><select id='AREAS' name=AREAS size=1 class='comboBoo'><OPTION value=ALL>ALL</option><OPTION value=ALL>ALL</option>";
        while($info = mysql_fetch_array( $data ))
        {
            Print "<option >".$info['a_name']."</option>";
        }
        print"</select><input type=submit value=OK></form></th>";
    }

    $choice.="->";

    if(isset($_GET['AREAS'])){
        $areas=$_GET['AREAS'];
        $choice.=$areas;
        $data = mysql_query("SELECT h_name FROM hypermarket_em where a_id=(select a_id from areas where a_name=\"".$areas."\")")
        or die(mysql_error());
        Print "<th><form method=get action=''><select name=HYPERMARKETS size=1 class='comboBoo'>";
        while($info = mysql_fetch_array( $data ))
        {
            Print "<option>".$info['h_name']."</option>";
        }
        print"</select><input type=submit value=OK></form></th>";
    }   
    Print "</tr></table>";
    Print "<table border cellpadding=3><tr><th>".$choice."</th></tr></table>"; 
```

我怎样才能保留它们？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:34:55.967

[您应该使用 javascript 使用ajax](http://nl.wikipedia.org/wiki/Asynchronous_JavaScript_and_XML)仅提交页面的一部分（表单的一个或表单的一部分）

jQuery 是一个非常流行且易于学习的 JavaScript 库，它使此类 ajax 调用变得非常容易。这是一个[教程](http://net.tutsplus.com/tutorials/javascript-ajax/submit-a-form-without-page-refresh-using-jquery/)。

另一个解决方案：

如果您不想重新加载页面并且不想使用 JavaScript，请将目标设置为不同的页面/框架，例如（隐藏的）iframe。因此，包含所有表单的页面将保留，提交表单的输出可以传递到不同的页面（新窗口、框架或 iframe）。

如果您不关心任何回报，您可以隐藏它。这是一个非常基本的例子：

```
<form target="hiddenframe">
     <input type="submit"/>
</form>
<iframe name="hiddenframe" style="display:none"></iframe> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T06:46:34.217

```
$choice="";

    Print "<table border cellpadding=3>"; 
    print"<tr><th><form method=get action=''><select id=EMIRATE size=1 name='EMIRATE' class='comboBoo'>";

 print"</select><input type=hidden name='areas_hidden' value=<?php echo $_GET['AREAS'] ?>/>"
 print"</select><input type=hidden name='emerates_hidden' value=<?php echo $_GET['EMIRATE'] ?>/>"
</th>"; 
```

使用您的表单提交操作提交这些值。然后您将在您的 url 上同时拥有这两个值。

# qt - QWebkit 无法检测到 NPAPI 插件

> ID：12948468
> 
> 赞同：0
> 
> 时间：2012-10-18T06:32:19.013
> 
> 标签：qt, qwebview, qwebkit

我开发了一个基于 NPAPI 的插件并保存在 /usr/bin/mozilla/plugins 目录下。我创建了一个示例 html 页面，它仅嵌入了这个 npapi 插件。它正在由 mozilaa 加载，但是当我尝试通过 QWebView 加载时，它没有检测到同一页面。

请帮助我将我的 NPAPI 插件保存在哪里以通过 Qt 检测它。

我正在研究 Debian Linux。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T09:35:11.407

答案在于方法名称下的此链接`defaultPluginDirectories`：
[https ://github.com/qt/qt/blob/4.8/src/3rdparty/webkit/Source/WebCore/plugins/PluginDatabase.cpp](https://github.com/qt/qt/blob/4.8/src/3rdparty/webkit/Source/WebCore/plugins/PluginDatabase.cpp)

# facebook - Facebook Feed 对话框未显示图片

> ID：12948475
> 
> 赞同：1
> 
> 时间：2012-10-18T06:32:34.660
> 
> 标签：facebook, facebook-graph-api, amazon-s3, amazon-web-services, facebook-javascript-sdk

我正在使用提要对话框，但我尝试使用的图片未显示。该对话框提供了正确的描述和标题，但没有图片。

这是我的javascript：

```
FB.ui(
  {
    method: 'feed',
    name: message,
    description: "...",
    caption: "...",
    link: "http://our_domain.com", 
    picture: "https://picture_stored_on_aws"
  },
  (response) ->
    window.close()
) 
```

但是，当我使用存储在其他地方的图片时，它会起作用，例如 Facebook 开发网站上的这个示例：“http://fbrell.com/f8.jpg”。

我尝试删除https，但仍然没有图片。还有其他人遇到这个问题吗？它与在aws上引用图片有什么关系吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T07:12:21.400

它可能是使用**https**，使用数组中的**http图像 URL 进行测试**

```
FB.ui(
  {
    method: 'feed',
    name: message,
    description: "...",
    caption: "...",
    link: "http://our_domain.com", 
    picture: "http://picture_stored_on_aws"
  },
  (response) ->
    window.close()
) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T08:50:40.080

正如您所发现的，您在 S3 中收到的链接已过期，因为该文件不对公众开放，仅对您自己的帐户开放。您必须公开您的图片才能在 Facebook 供稿对话框中使用它。

登录AWS控制台，进入S3，找到并点击你要使用的文件，点击右上角的“属性”按钮。您将在页面底部看到一个窗口。单击“权限”选项卡，确保“所有人”具有“打开/下载”权限。然后，当您切换回“详细信息”选项卡时，您将看到一个公开的链接。使用此图片链接，图片也应显示在您的 Facebook Feed 对话框中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-30T09:13:07.787

我在使用带有 S3Boto 后端的 Django-storages 时遇到了完全相同的问题。如果对我来说是删除所有 GET 参数，那么如果您最初生成的 S3 链接是：

`https://[your account].s3.amazonaws.com/yourpic.jpg?Signature=[...]&Expires=[...]&AWSAccessKeyId=[...]`

您需要将其解析为：

`https://[your account].s3.amazonaws.com/yourpic.jpg`

这对我有用，我希望它可以帮助别人。

# scala - 使用隐式输入的 Scala 会导致输入错误

> ID：12948477
> 
> 赞同：2
> 
> 时间：2012-10-18T06:32:41.933
> 
> 标签：scala

我正在尝试实现这一点：

```
def buildQuery() {
  val restrictions: ConjunctionRestriction[String, Int] =
    ("name" is "Some One") and ("age" is 20)
}

implicit def stringToEqualsRestrictionBuilder[T](fieldName: String)
                                                : EqualsRestrictionBuilder[T] =
  new EqualsRestrictionBuilder[T](fieldName)

implicit def restrictionToConjunctionBuilder[L,R](restriction: Restriction[L])
                                                 : ConjunctionBuilder[L,R] =
  new ConjunctionBuilder[L,R](restriction)

case class Restrictions(restrictions: Restriction[_]*)

trait Restriction[T] {
  def toString: String
}

class EqualsRestriction[T](val fieldName: String, val value: T)
    extends Restriction[T] {
  override def toString = fieldName + "=" + value
}

class ConjunctionRestriction[A,B](val lhs: Restriction[A],
                                  val rhs: Restriction[B]) 
    extends Restriction[(A,B)] {
  override def toString = "(" + lhs + ") AND (" + rhs + ")"
}

class EqualsRestrictionBuilder[T](val fieldName: String,
                                  val restriction: Option[Restriction[T]] = None) {

  def is(value: Int) =
    new EqualsRestriction[Int](fieldName, value)

  def is(value: String) =
    new EqualsRestriction[String](fieldName, "\"" + value + "\"")
}

class ConjunctionBuilder[L,R](val lhs: Restriction[L]) {
  def and(rhs: Restriction[R]) = new ConjunctionRestriction[L,R](lhs, rhs)
} 
```

编译器给我错误：

```
error: type mismatch;
found   : MyOuterClass.this.EqualsRestriction[Int]
required: MyOuterClass.this.Restriction[R]
val restrictions: ConjunctionRestriction[String, Int] =
  ("name" is "Some One") and ("age" is 20) 
```

我还没有弄清楚 scala 类型系统。这有什么问题？

谢谢

**编辑**

通过将 ConjunctionBuilder 更改为只有一种参数类型 L 来修复：

```
class ConjunctionBuilder[L](val lhs: Restriction[L]) {
  def and[R](rhs: Restriction[R]) = new ConjunctionRestriction[L,R](lhs, rhs)
}

implicit def restrictionToConjunctionBuilder[L](restriction: Restriction[L])
                                               : ConjunctionBuilder[L] =
  new ConjunctionBuilder[L](restriction) 
```

但是有人可以解释为什么使用 R 参数类型编译失败吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T08:38:33.247

`ConjunctionBuilder`当有类型参数时它会失败，`R`因为在应用隐式转换`restrictionToConjunctionBuilder`时，编译器只能推断`L`（从参数`restriction`）。类型参数`R`不会出现在参数列表的任何位置，因此无法推断。当无法推断类型参数时，您*必须*显式传递它们（当然，在隐式转换的情况下，这违背了目的）。例如：以下编译正确：

```
val restrictions: ConjunctionRestriction[String, Int] =
  (("name" is "Some One"): ConjunctionBuilder[String, Int]) and ("age" is 20) 
```

由于没有明确指定类型参数，编译器无法 bind `R`，因此无法证明方法的参数`and`是正确的类型。实际上，该方法需要 a `Restriction[R]`，我们给它 a `Restriction[Int]`。这只能匹配 if `R`== `Int`，编译器无法证明它`R`是未绑定的。

您的修复是完全正确的：将类型参数移动`R`到`and`. 这样在应用隐式转换`restrictionToConjunctionBuilder`时，编译器可以从 parameter 中完全推断出所有类型参数（即 uniqye 类型参数`L`）`restriction`。然后，在应用时可以从其参数`and`推断`R``rhs`

# jquery - jQuery 使用来自其他两个的值自动填充表单字段

> ID：12948478
> 
> 赞同：0
> 
> 时间：2012-10-18T06:32:42.370
> 
> 标签：jquery, autocomplete

假设我有这样的表格

用户名 昵称 名字 姓氏

我希望 First + Last Name 字段自动填充 Username 和 Nickname 字段。

结果：用户名 = 名字 + 姓氏 -- 昵称 = 名字 + 姓氏

这是我到目前为止所拥有的

```
<script>

  jQuery(document).ready(function(){    
    $("#field_5, #field_6").on("blur",function(){
      getname();
    }); 
  });

  function getname(){
    $('#Field_2, #field_1').val($('#field_5').val()+" "+$('#field_6').val());
  }
</script> 
```

WHERE 字段 5 = 名字，字段 6 = 姓氏，Field_2 = 用户名，Field_1 = 昵称

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T06:44:48.737

编辑：之前的答案是错误的。

这是带有keyup的更新版本。

[http://jsfiddle.net/79Wb9/3/](http://jsfiddle.net/79Wb9/3/)

只需单击运行并享受。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T06:39:32.153

试试这个**[演示](http://jsfiddle.net/pintu31/FFLYE/1/)**

**html**

```
<input type='text' id='fname' value='' />
<input type='text' id='lname' value='' />
<input type='text' id='nickname' value='' />
<input type='text' id='uname' value='' /> 
```

**jQuery/javascript**

```
$(document).ready(function(){
    $("#field_5, #field_6").on("blur", getname);
});

function getname(){
$('#nickname, #uname').val($('#fname').val()+" "+$('#lname').val());
} 
```

# c# - 双面多选

> ID：12948480
> 
> 赞同：-1
> 
> 时间：2012-10-18T06:32:55.390
> 
> 标签：c#, select

我在这里有一个使用[Loudev 多选](http://loudev.com/)的代码 我在 C# 中使用一个内容页面，它对我来说不能正常工作。

我的代码有什么问题吗？

```
<%@ Page Title="Home Page" Language="C#" MasterPageFile="~/Site.master" AutoEventWireup="true"
CodeFile="Default.aspx.cs" Inherits="_Default" %>

<asp:Content ID="HeaderContent" runat="server" ContentPlaceHolderID="HeadContent">
<script src="Scripts/jquery.multi-select.js" type="text/javascript"></script>
<link href="Styles/multi-select.css" rel="stylesheet" type="text/css" />

<script type="text/javascript">
    $('#countries').multiSelect()
</script>

</asp:Content>

<asp:Content ID="BodyContent" runat="server" ContentPlaceHolderID="MainContent">
<select multiple="multiple" id="countries" name="countries[]">

<option value="fr">France</option>
<option value="uk">United Kingdom</option>
  <option value="us">United States</option>
<option value="ch">China</option>
</select>

 </asp:Content> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T06:51:54.147

首先检查，您是否在母版页中引用了 jquery 库文件`jquery.js`？如果没有，则将其包含在母版页或之前的默认页中`jquery.multi-select.js`。

如果您正确引用而不是将代码更改为

```
<script type="text/javascript">
    $(function(){
        $('#countries').multiSelect()
    });
</script> 
```

当 dom 准备好时调用多选。

您只是在加载 dom 之前选择一个元素。

希望它能解决你的问题。

# serialization - 特定服务器上的 Web API 序列化失败

> ID：12948483
> 
> 赞同：0
> 
> 时间：2012-10-18T06:33:04.073
> 
> 标签：serialization, .net-4.0, iis-7.5, asp.net-web-api

这是一个经典的“适用于开发但不适用于 prod”的场景，但我需要确定它*为什么*不能在 prod 上运行以修复它。我有一个相对简单的 Web API 调用，它返回一个对象图

```
public class ValuesController : ApiController
{
    public TimeSeriesData GetValues(string id) { /* get from database */ }
} 
```

我的课程

```
public class TimeSeriesData
{
    public string Name { get; set; }
    public List<Foo> KPIs { get; set; }
}

public class Foo
{
    public string Name { get; set; }
    public List<Bar> Values { get; set; }
}

public class Bar
{
    public double Actual { get; set; }
    public double Target { get; set; }
} 
```

这些类都酌情用 装饰（为了节省空间`DataContract`，`DataMember`我把它删掉了）。该服务在本地工作，并在其他环境中工作，包括另一个应该与问题服务器相同的 prod 环境。

我得到以下堆栈跟踪：

```
{"Message":"An error has occurred.",
"ExceptionMessage":"The 'ObjectContent`1' type failed to serialize the response body for content type 'application/json; charset=utf-8'.",
"ExceptionType":"System.InvalidOperationException",
"StackTrace":null,
"InnerException":
    {"Message":"An error has occurred.",
    "ExceptionMessage":"Error while copying content to a stream.",
    "ExceptionType":"System.Net.Http.HttpRequestException",
    "StackTrace":null,
    "InnerException":
        {"Message":"An error has occurred.",
        "ExceptionMessage":"Could not load file or assembly 'System.Runtime.Serialization, Version=2.0.5.0, 
            Culture=neutral, PublicKeyToken=7cec85d7bea7798e, Retargetable=Yes' or one of its dependencies. 
            The given assembly name or codebase was invalid. (Exception from HRESULT: 0x80131047)",
        "ExceptionType":"System.IO.FileLoadException",
        "StackTrace":"   at System.ModuleHandle.ResolveType(RuntimeModule module, Int32 typeToken, IntPtr* typeInstArgs, Int32 typeInstCount, IntPtr* methodInstArgs, Int32 methodInstCount, ObjectHandleOnStack type)
            at System.ModuleHandle.ResolveTypeHandleInternal(RuntimeModule module, Int32 typeToken, RuntimeTypeHandle[] typeInstantiationContext, RuntimeTypeHandle[] methodInstantiationContext)
            at System.ModuleHandle.ResolveTypeHandle(Int32 typeToken, RuntimeTypeHandle[] typeInstantiationContext, RuntimeTypeHandle[] methodInstantiationContext)
            at System.Reflection.RuntimeModule.ResolveType(Int32 metadataToken, Type[] genericTypeArguments, Type[] genericMethodArguments)
            at System.Reflection.CustomAttribute.FilterCustomAttributeRecord(CustomAttributeRecord caRecord, MetadataImport scope, Assembly& lastAptcaOkAssembly, RuntimeModule decoratedModule, MetadataToken decoratedToken, RuntimeType attributeFilterType, Boolean mustBeInheritable, Object[] attributes, IList derivedAttributes, RuntimeType& attributeType, IRuntimeMethodInfo& ctor, Boolean& ctorHasParameters, Boolean& isVarArg)
            at System.Reflection.CustomAttribute.GetCustomAttributes(RuntimeModule decoratedModule, Int32 decoratedMetadataToken, Int32 pcaCount, RuntimeType attributeFilterType, Boolean mustBeInheritable, IList derivedAttributes, Boolean isDecoratedTargetSecurityTransparent)
            at System.Reflection.CustomAttribute.GetCustomAttributes(RuntimeType type, RuntimeType caType, Boolean inherit)
            at Newtonsoft.Json.Serialization.JsonTypeReflector.GetAssociateMetadataTypeFromAttribute(Type type)
            at Newtonsoft.Json.Utilities.ThreadSafeStore`2.AddValue(TKey key)
            at Newtonsoft.Json.Utilities.ThreadSafeStore`2.Get(TKey key)
            at Newtonsoft.Json.Serialization.JsonTypeReflector.GetAttribute[T](Type type)
            at Newtonsoft.Json.Utilities.ThreadSafeStore`2.AddValue(TKey key)
            at Newtonsoft.Json.Utilities.ThreadSafeStore`2.Get(TKey key)
            at Newtonsoft.Json.Serialization.DefaultContractResolver.CreateContract(Type objectType)
            at Newtonsoft.Json.Serialization.DefaultContractResolver.ResolveContract(Type type)
            at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.WriteStartArray(JsonWriter writer, IWrappedCollection values, JsonArrayContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
            at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IWrappedCollection values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
            at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
            at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value)
            at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value)
            at System.Net.Http.Formatting.JsonMediaTypeFormatter.<>c__DisplayClassd.<WriteToStreamAsync>b__c()
            at System.Threading.Tasks.TaskHelpers.RunSynchronously(Action action, CancellationToken token)"}}} 
```

奇怪的是，其他一些 Web API 调用可以在这个服务器上工作——但是它们要简单得多，例如可以检索字符串列表。

有人遇到过这个或有什么建议吗？

# python - 无法使用 Python/SQLite 加载 Wikipedia SQL 转储

> ID：12948488
> 
> 赞同：1
> 
> 时间：2012-10-18T06:33:23.463
> 
> 标签：python, sql, sqlite, python-2.7

我正在使用 python 的 sqlite3 库来处理 Wikipedia .sql 数据转储，我得到以下“语法错误”报告：

```
sqlite3.OperationalError: no such table: categorylinks 
```

以下是将 .sql 导入数据库所采取的步骤

```
import sqlite3
con = sqlite3.connect('wikicategories.db')
infile = open('enwiki-latest-categorylinks.sql')
str = infile.read()
cur = con.cursor()
cur.execute(str) 
```

.sql 文件的开头如下所示：

```
CREATE TABLE `categorylinks` (
  `cl_from` int(8) unsigned NOT NULL DEFAULT '0',
  `cl_to` varbinary(255) NOT NULL DEFAULT '',
  `cl_sortkey` varbinary(230) NOT NULL DEFAULT '',
  `cl_timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `cl_sortkey_prefix` varbinary(255) NOT NULL DEFAULT '',
  `cl_collation` varbinary(32) NOT NULL DEFAULT '',
  `cl_type` enum('page','subcat','file') NOT NULL DEFAULT 'page',
  UNIQUE KEY `cl_from` (`cl_from`,`cl_to`),
  KEY `cl_timestamp` (`cl_to`,`cl_timestamp`),
  KEY `cl_collation` (`cl_collation`),
  KEY `cl_sortkey` (`cl_to`,`cl_type`,`cl_sortkey`,`cl_from`)
) ENGINE=InnoDB DEFAULT CHARSET=binary; 
```

我真的没有看到这个`int(8) unsigned NOT NULL DEFAULT`部分有任何问题。该文件由维基百科发布，因此应该可以使用。我知道 Python`sqlite3`与 MySQL 的实现略有不同。它与此有关吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-18T06:41:49.007

这不是[SQLite 所理解的 SQL](https://www.sqlite.org/lang.html)。加载它`sqlite3`会产生错误。

```
% sqlite3 < enwiki-latest-categorylinks.sql
Error: near line 1: near "unsigned": syntax error 
```

这与 Python 无关。

你有两个选择：

1.  使用 MySQL 导入 SQL 文件。
2.  将其转换为 SQLite 可以理解的 SQL。

# java - OpenJDK下不稳定的SSL证书路径验证

> ID：12948492
> 
> 赞同：1
> 
> 时间：2012-10-18T06:33:53.113
> 
> 标签：java, ssl, ssl-certificate, openjdk

我最近在下检测到不稳定的 SSL 证书路径验证

Ubuntu 12.04 LTS (GNU/Linux 3.2.0-26-generic x86_64)
OpenJDK Runtime Environment (IcedTea6 1.11.4) (6b24-1.11.4-1ubuntu0.12.04.1)
OpenJDK 64-Bit Server VM (build 20.0-b12,混合模式）

和

Ubuntu 10.04.1 LTS
OpenJDK 运行时环境 (IcedTea6 1.11.4) (6b24-1.11.4-1ubuntu0.10.04.1)
OpenJDK Server VM（内部版本 20.0-b12，混合模式）

对于与在线银行主机的 SSL 连接，它以以下错误开头：

```
sun.security.validator.ValidatorException: PKIX path validation failed:
java.security.cert.CertPathValidatorException:  
Path does not chain with any of the trust anchors 
```

我检查了根证书是否始终包含在密钥库中……它是（巴尔的摩 Cyber​​Trust Root）。我已经用浏览器认证信息对话框显示的数据仔细检查了发送数据的 MD5 和 SHA1 指纹......同样！之后，我找到了 SSLPoke，这是一个用于 SSL 通信的小实用程序，并将其用于后续请求：

```
java -Djavax.net.debug=ssl SSLPoke hbci-pintan.gad.de 443 
```

这显示了不稳定性：10 个请求中有 8 个因上述错误而失败，10 个请求中有 2 个成功。对于每个失败的请求，我在 Mac OS X 10.7.5 java 版本“1.6.0_35”下使用 Java(TM) SE 运行时环境（构建 1.6.0_35-b10-428-11M3811），Java HotSpot 立即发送了相同的请求(TM) 64 位服务器 VM（内部版本 20.10-b01-428，混合模式）。所有这些请求都成功了。因此，这样的 SSL 证书路径的验证在 OpenJDK 下似乎是不稳定的。

有没有人有类似的经历？

亲切的问候
多米尼克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T06:48:33.320

我认为这个异常有两个原因。

1.  Java 密钥库中不信任根证书。
2.  所需的中间证书不存在或错误。路径中的所有证书都应该从 Web 服务器发送到客户端。

[路径不与任何信任锚链接](http://blog.helge.net/2010/09/path-does-not-chain-with-any-of-trust.html)

[也](https://stackoverflow.com/questions/10316127/how-to-add-fingerprint-to-keystore)参考这个链接。

# wxpython - 保存应用程序的当前状态并将其加载回 WXpython 中的应用程序

> ID：12948495
> 
> 赞同：0
> 
> 时间：2012-10-18T06:34:02.270
> 
> 标签：wxpython, wxwidgets

我在 wxpython 中开发了一个应用程序，现在我想保存应用程序的状态，以便在重新打开它时可以以相同的状态加载应用程序。我想我需要为此编写代码。谁能帮我试试这个？我在应用程序中有 flatnote book、splitter windows 和许多这样的小部件。我尝试使用 pickle 保存对象，但收到错误消息“无法存储 Pyswig 对象”。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T13:09:54.863

PersistenceManager 可以处理大部分工作。有关详细信息，请参阅[http://xoomer.virgilio.it/infinity77/Phoenix/lib.agw.persist.persistencemanager.PersistenceManager.html](http://xoomer.virgilio.it/infinity77/Phoenix/lib.agw.persist.persistencemanager.PersistenceManager.html)。

# ember.js - emberjs 路由器状态可以处理孩子无法处理的事件吗？

> ID：12948501
> 
> 赞同：0
> 
> 时间：2012-10-18T06:34:15.290
> 
> 标签：ember.js, ember-old-router

像典型的分层状态机一样，我想获取子状态无法处理但父状态可以处理的事件，以便在父状态中处理。我收到错误“无法响应状态 Y 中的事件 xyz”

```
 App.Router = Ember.Router.extend 
      location: "hash"
      enableLogging: true
      x: Ember.Route.extend
        xyz : (router, event) ->
          # Some handling code
        y : Ember.Route.extend() 
```

在上面的代码中，在 y 状态下是否有某种 xyz 发生的方式，它可以由 x 处理？我认为 HSM 会这样做。但它不工作

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T11:16:47.910

答案是肯定的，路由器是一个分层状态机，事件将传递当前状态，然后传递给它的父级，直到它被处理。如果当前路径中的任何状态都未处理事件，则会引发错误。

如果这对您不起作用，则说明您的代码中某处存在错误。

# javascript - 在 mongoosejs 中取列的总和/平均值

> ID：12948511
> 
> 赞同：2
> 
> 时间：2012-10-18T06:34:59.997
> 
> 标签：javascript, node.js, mongodb, mongoose

我有一个 MongoDB 集合“标记”，其中包含字段 student_id、主题、标记。我想要特定学生得分的平均值。我的项目在 NodeJs 中，我正在使用 MongooseJS 进行对象建模。如何使用 MMongooseJS 查询这个？

**例子**

```
 Student_id   Subject  Mark
     111          AAA      9
     111          BBB      5
     111          CCC      7
     222          AAA      10
     222          CCC      6
     222          BBB      8 
```

我想要学生（id）111的平均分数，即（（9+5+7）/3）=7）

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-18T12:51:50.130

如果您使用的是 MongoDB 2.2，则可以为此使用聚合框架：

```
var Mark = mongoose.model('mark', new Schema({
    Student_id: Number,
    Subject: String,
    Mark: Number
}));

Mark.aggregate([
        { $group: {
            _id: '$Student_id',
            markAvg: { $avg: '$Mark'}
        }}
    ], function (err, results) {
        if (err) {
            console.error(err);
        } else {
            console.log(results);
        }
    }
); 
```

输出：

```
[ { _id: 222, markAvg: 8 }, { _id: 111, markAvg: 7 } ] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-18T07:14:16.220

这听起来像是 MongoDB 中 Map/Reduce 操作的典型示例。

您要做的是首先运行一个 map 步骤，在其中发出属于学生 id 111 的所有成绩。然后运行 ​​reduce 步骤，对这些进行平均。

monogdb 代码应类似于以下内容：

```
var map = function() {
  emit(this.Student_id, this.Mark);
}
var reduce = function(key, values) {
  var result = { studentid: key, mark_sum: 0, count: 0, avg_mark: 0 };
  values.forEach(function(v) {
    r.mark_sum += v;
    r.count += 1;
  });
  return r;
}

var finalize = function(key, value) {
  if (value.count > 0) {
    value.avg_mark = value.mark_sum / value.count;
  }
  return value;
} 
```

以及在 Mongo 语法中执行 mapReduce：

```
var command = db.runCommand( { mapreduce:"<your collection>",
                  map: map,
                  reduce: reduce,
                  query: { Student_id: 111 },
                  out: { reduce: "session_stat" },
                  finalize: finalize
                }); 
```

map_reduce 的结果被写入`session_stat`. 在哪里可以查询。

要了解如何在 Mongoose 中使用 MapReduce，请查看以下问题：[mongoose mapreduce()](https://stackoverflow.com/questions/8843264/mongoose-mapreduce)

# jquery - jQuery Ajax 函数说“失败”但仍然发送消息

> ID：12948513
> 
> 赞同：0
> 
> 时间：2012-10-18T06:35:03.743
> 
> 标签：jquery, coldfusion

我在这里遇到了一个问题，我觉得我错过了一些东西，但我无法解决它。

我有以下内容：

```
function success(){
    alert("success");   
}
function failure(){
    alert("failure");   
}

function sendData(){
    var userName = $("#contact-name-data").val();
    var userPhone = $("#contact-phone-data").val();
    var userEmail = $("#contact-email-data").val();
    var userQuery = $("#contact-enquiry-data option:selected").text();

    var request = $.ajax({
      url: "http://my.domain-blahblah.com.au/scripts/touchscreen_email.cfm?name="+encodeURIComponent(userName)+"&phone="+encodeURIComponent(userPhone)+"&email="+encodeURIComponent(userEmail)+"&query="+encodeURIComponent(userQuery), success: success, error: failure});

} 
```

它会触发一个非常简单的 CFMAIL 命令，在调用时从 URL 中的各个参数中提取值...

问题是它告诉我每次调用该函数时它都会因“失败”弹出窗口而失败......但仍然会正确触发电子邮件。ColdFusion 完美无瑕。所以我在想我的 Ajax 一定是在某个地方搞砸了......

知道我可能会错过什么吗？

服务器端代码：

```
 <cftry>
<cfmail from="touchscreen@my.domain-blahblah.com.au" to="eliseo.dannunzio@my.domain-blahblah.com.au" subject="Touchscreen Data" type="html" spoolenable="yes">
    <head>
        <style type="text/css">
            body {
                font-family: 'Calibri';
                font-size: 12pt;
            }

            h3 {
                margin: 0px 0px 8px 0px;
                padding: 0px 0px 0px 0px;   
            }

            span {
                font-weight: bold;  
            }
        </style>
    </head>

    <body>
        <h3>Touchscreen Data</h3>
        <p>
            <span>Name: </span>#url.name#<br />
            <span>Phone: </span>#url.phone#<br />
            <span>E-Mail: </span>#url.email#<br />
            <span>Request: </span>#url.query#<br />
            <span>Timestamp: </span>#DateFormat(Now(), "dd mmm yyyy")# #TimeFormat(Now(), "hh:mm tt")#<br />
        </p>
    </body>
</cfmail>
<cfcatch type="any">
    #cfcatch.Message# - #cfcatch.Detail#
</cfcatch>
</cftry>
Done 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T06:42:54.203

像这样做ajax请求不是更好吗？

```
var request = $.ajax({
  url: "http://my.domain-blahblah.com.au/scripts/touchscreen_email.cfm",
  type: "get",
  date: { name : encodeURIComponent(userName), phone : encodeURIComponent(userPhone), email : encodeURIComponent(userEmail), query : encodeURIComponent(userQuery)},
  success: success,
  error: failure
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T06:45:45.187

你试过这样做吗....我认为这是调用 ajax 的正确方法

```
$.ajax({
  url: "http://my.domain-blahblah.com.au/scripts/touchscreen_email.cfm",
  data:{name:encodeURIComponent(userName),phone:encodeURIComponent(userPhone),email:encodeURIComponent(userEmail),query:encodeURIComponent(userQuery)}, 
  type:'GET',
  success: function(msg){ //do something here }, 
  error: failure
 }); 
```

# regex - 验证 QT 中用点 (.) 分隔的字符串

> ID：12948523
> 
> 赞同：4
> 
> 时间：2012-10-18T06:36:03.520
> 
> 标签：regex, qt, qt4

任何人都可以建议我如何在 QT 中验证由点 (.) 分隔的字符串，基本上就像 java 中的包名一样，

我的代码是这样的

```
QRegExp rx("^[\\w]+[^\\.{0,1}\\w+$]*$");
rx.setCaseSensitivity(Qt::CaseInsensitive);
return rx.exactMatch(package); 
```

但我得到错误的结果

前任：

```
 com.me.test // valid
 com.me.he. // invalid
 .com.me.he // invalid
 com..me.me // invalid 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-18T07:37:35.143

那是因为您错误地使用了字符类。方括号之间的字符是一个字符类，所以

```
 [^\\.{0,1}\\w+$]* 
```

是一个否定字符类，因为它以`^`. 此类将匹配任何不是这些字符之一的字符：“.{},01+$”或不在`\w`.

你想要的听起来更像

```
^\\w+(\\.\\w+)*$ 
```

[在 Regexr 上](http://regexr.com?32gk0)查看

顺便说一句，您不需要该`CaseInsensitive`选项，因为您的正则表达式中没有明确写下的字母。

# json - 使用 JMeter Bean shell 或 BSF 后处理器将解析的 JSON 值存储在 CSV 中

> ID：12948524
> 
> 赞同：0
> 
> 时间：2012-10-18T06:36:11.367
> 
> 标签：json, jmeter, beanshell

我有一个返回 json 响应的 API。我需要解析 JSON 数组以从中获取这些数据并将其存储在 CSV 文件中。这些事情都需要作为 JMeter 的一部分来完成。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T07:43:01.537

也许以下教程适用于您[http://code.google.com/p/jmeter-plugins/wiki/FFWTutorials](http://code.google.com/p/jmeter-plugins/wiki/FFWTutorials)

# iphone - 如何在单击时查看先前的数组值

> ID：12948532
> 
> 赞同：0
> 
> 时间：2012-10-18T06:36:45.463
> 
> 标签：iphone, ios, uibutton, nsmutablearray

在这里，我使用此代码查看数组中的下一个值，

```
-(IBAction)changenext
{
static int j = 0;
if (j >arcount)
{
   j = 0;
}
 lb1.text=[NSString stringWithFormat:[artext objectAtIndex:j]];
 imager.image=[arimage objectAtIndex:j];
 aplayer=[[AVAudioPlayer alloc]initWithData:[arsound objectAtIndex:j] error:nil];

j++;
} 
```

如何通过其他按钮单击查看先前的数组值？请帮我解决..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T06:45:16.930

```
-(IBAction)change_next_or_prev:(id)sender
{
static int j = 0;
if(sender == btnNext)
    j++;
else if(sender == btnPrev)
    j--;
if (j >= arcount)
{
   j = 0;
}
else if(j < 0)
{
   j = arcount - 1;
}
 lb1.text=[NSString stringWithFormat:[artext objectAtIndex:j]];
 imager.image=[arimage objectAtIndex:j];
 aplayer=[[AVAudioPlayer alloc]initWithData:[arsound objectAtIndex:j] error:nil];
} 
```

将两个按钮链接到相同的操作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T06:39:45.637

```
-(IBAction)changeprev
{
static int j = arcount;
if (j < 0)
{
   j = arcount;
}
 lb1.text=[NSString stringWithFormat:[artext objectAtIndex:j]];
 imager.image=[arimage objectAtIndex:j];
 aplayer=[[AVAudioPlayer alloc]initWithData:[arsound objectAtIndex:j] error:nil];

j--;
} 
```

# xcode - Cocoa - 以编程方式进入前台/后台

> ID：12948539
> 
> 赞同：8
> 
> 时间：2012-10-18T06:37:16.027
> 
> 标签：xcode, macos, cocoa

我有一个 LSUIElement 设置为 1 的应用程序。它有一个内置的编辑器，所以我希望应用程序在编辑器打开时出现在 Cmd+Tab 循环中。

```
 -(void)stepIntoForeground
    {
        if (NSAppKitVersionNumber < NSAppKitVersionNumber10_7) return;
        if (counter == 0) {
            ProcessSerialNumber psn = {0, kCurrentProcess};
            OSStatus osstatus = TransformProcessType(&psn, kProcessTransformToForegroundApplication);
            if (osstatus == 0) {
                ++counter;
            } else {
                //...
            }
        }
    }
    -(void)stepIntoBackground
    {
        if (NSAppKitVersionNumber < NSAppKitVersionNumber10_7) return;
        if (counter == 0) return;

        if (counter == 1) {
            ProcessSerialNumber psn = {0, kCurrentProcess};
            OSStatus osstatus = TransformProcessType(&psn, kProcessTransformToUIElementApplication);
            if (osstatus == 0) {
                --counter;
            } else {
                //..
            }
        }
    } 
```

问题是：

*   还有一个 Dock 图标（没什么大不了的）；
*   还有菜单，这也没什么大不了的，但它们并不总是出现。

有没有办法完全禁用菜单或让它总是出现在前台？提前致谢。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-10-19T19:23:34.820

这是我们的做法。（作品 10.7+）

1.  不要在应用程序列表中使用 LSBackgroundOnly 或 LSUIElement
2.  添加并初始化你的菜单和 NSStatusBar 菜单
3.  在应用程序初始化但尚未显示任何窗口后，您可能希望在其中显示第一个窗口（如果有）。我们使用 applicationDidFinishLaunching。

    *   如果您不想在应用程序初始化使用后显示任何窗口

        `[NSApp setActivationPolicy:NSApplicationActivationPolicyProhibited];`

        在 10.9 上，您终于可以使用其他非常正确的

        `[NSApp setActivationPolicy:NSApplicationActivationPolicyAccessory];`

    *   如果您应该在应用程序初始化完成后打开任何窗口，而不是简单地显示主窗口

4.  维护您的窗口列表

5.  如果最后一个窗口关闭，请致电

    `[NSApp setActivationPolicy:NSApplicationActivationPolicyProhibited];`

    在 10.9 上，您终于可以使用其他非常正确的

    `[NSApp setActivationPolicy:NSApplicationActivationPolicyAccessory];`

6.  下次显示您的第一个窗口时，请致电

    `[NSApp setActivationPolicy:NSApplicationActivationPolicyRegular];`
    `[NSApp activateIgnoringOtherApps:YES];`
    `[[self window] makeKeyAndOrderFront:nil];`

这应该可以解决问题，如果至少一个应用程序窗口可见，您将拥有菜单、带有状态信号的停靠图标以及 cmd+tab 元素与您的应用程序，如果最后一个应用程序窗口关闭，则只有您的 NSStatusBar 元素保留。

## 已知的问题：

*   第一步很重要，因为如果没有它，如果系统模式对话框暂停您的启动（您的应用程序是从网上下载并被隔离，则在首次启动时可能会出现一个确认对话框，具体取决于您的安全设置）您的菜单栏可能不属于您的显示第一个应用程序窗口后的应用程序。

    **解决方法**：作为普通应用程序启动（步骤 1.）可以解决此问题，但会导致另一个小问题，即使您想在不显示任何窗口的情况下启动，您的应用程序图标也可能会在启动时出现在 Dock 中片刻。（但我们可以解决这个问题，不拥有菜单栏对我们来说是一个更大的问题，所以我们选择了这个）

*   在 NSApplicationActivationPolicyRegular 和 NSApplicationActivationPolicyAccessory （或 NSApplicationActivationPolicyProhibited 在 10.9 以下的操作系统上）之间进行更改将杀死您的状态栏菜单元素的工具提示，该工具提示将最初显示，但不会在第二次调用 NSApplicationActivationPolicyAccessory -> NSApplicationActivationPolicyProhibited 之后显示

    **解决方法**：我们找不到解决此问题的解决方法，并将其作为错误报告给 Apple。

*   从 NSApplicationActivationPolicyRegular 更改为 NSApplicationActivationPolicyAccessory 在某些操作系统版本上还有其他问题，例如有时可见的应用程序窗口中可能不再有鼠标事件

    **解决方法**：首先切换到 NSApplicationActivationPolicyProhibited（注意这会导致不需要的应用程序消息，例如 NSApplicationWillResignActiveNotification、NSWindowDidResignMainNotification 等！）

*   从 NSApplicationActivationPolicyAccessory 更改为 NSApplicationActivationPolicyRegular 与某些操作系统版本一样是虚假的

    *   应用程序主菜单被冻结，直到第一个应用程序前端状态更改
    *   在此政策之后激活的应用程序并不总是排在应用程序顺序的前面

        * * *

    **解决方法**：首先切换到 NSApplicationActivationPolicyProhibited，注意最终切换到所需的 NSApplicationActivationPolicyRegular 应该延迟，使用 fe dispatch_async 或类似的

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-12-06T22:00:05.260

使用 swift 4，在 applicationDidfinishLaunching(_:Notification)

```
NSApplication.shared.setActivationPolicy(.regular) 
```

为我做了诀窍，但我只是想让键盘焦点到我以编程方式创建的窗口。谢谢。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-18T07:12:31.930

您可以在您的 plist 文件中将 App“Application is agent (UIElement)”设置为 YES。

**编辑：**

我认为有一些技巧可以做到这一点。但这真的不是它的本意。Cmd+tab 用于将应用程序置于前台，但如果您没有菜单栏，则对用户来说它看起来不像前台。

我宁愿制作一个菜单栏来访问该应用程序。

# clojure - 计算集合中元素频率的复杂性是多少？

> ID：12948541
> 
> 赞同：2
> 
> 时间：2012-10-18T06:37:23.010
> 
> 标签：clojure, functional-programming, reduce

这是`frequencies`in的实现`clojure`：

```
(defn frequencies
  "Returns a map from distinct items in coll to the number of times
  they appear."
  [coll]
  (persistent!
   (reduce (fn [counts x]
         (assoc! counts x (inc (get counts x 0))))
           (transient {}) coll))) 
```

是否被`assoc!`认为是突变？

`assoc!`里面的复杂度是`frequencies`多少？

此外，似乎`counts`每次迭代都会访问两次：它会导致性能损失吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-18T07:13:42.190

`assoc!`是瞬态的突变，我相信它是 O(log n) 摊销的。因此，整个执行`frequencies`是 O(n log n)。

`counts`是一个本地绑定的变量，所以访问它两次是没有问题的。

这是一个不使用任何多重状态的功能版本：

```
(defn frequencies-2 [coll]
  (reduce (fn [m v] (assoc m v (inc (get m v 0)))) {} coll)) 
```

这个函数版本也是 O(n log n)，尽管由于创建和丢弃更多的临时对象，它会有更多的开销（更高的常数因子）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-18T06:45:29.420

您可以使用树来存储从元素到具有 log(n) 复杂度的频率的映射（它可以是二叉搜索树、AVL、红黑树等）。选择这棵树的功能实现，即你不能改变它，而是`assoc counts x freq`返回一个新的数据结构，在内存中与`counts`. 这是一种“写时复制”。那么计算所有频率的性能将是 O(n log(n))。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-23T03:52:45.047

`assoc!`对瞬态数据进行变异，它的性能比`assoc`. 这并没有真正违反不可变 Clojure 的模型（请参阅[http://clojure.org/transients](http://clojure.org/transients)）。

1.  `persistent!`并且`transient`是 O(1)
2.  `assoc!`是 O(log32 n)，它实际上是 O(1)，因为`hash-map`具有 ~2^32 项大小的上限，因此最大树深度为 6

因此， 的复杂度与`frequencies`的大小成线性关系`coll`。

备注：正如@mikera 所注意到的，复杂度也`frequencies`将是线性的，`assoc`但具有更高的常数因子。

# matlab - 如何并行运行 Matlab 计算

> ID：12948544
> 
> 赞同：2
> 
> 时间：2012-10-18T06:37:35.413
> 
> 标签：matlab, parallel-processing, backgroundworker, background-process

我有使用 Matlab 的神经网络工具箱设置和训练神经网络（“nn”）的 Matlab .m 脚本。该脚本会启动一些显示训练进度等的 GUI。nn 的训练通常需要很长时间。

我正在使用 64 个处理器内核的计算机上进行这些实验。我想同时训练多个网络，而不必运行多个 Matlab 会话。所以我想：

1.  开始训练神经网络
2.  修改创建网络的脚本以创建不同的网络
3.  开始训练修改后的网络
4.  修改脚本以创建另一个网络...
5.  多次重复步骤 1-4

问题是，当我运行脚本时，它会阻塞 Matlab 终端，所以在脚本执行最后一个命令之前我不能做任何其他事情——这需要很长时间。如何并行运行所有这些计算？我确实有 Matlab 并行工具箱。

* * *

## 编辑：Matlab 错误？？

**更新：**这个问题似乎只发生在 R2012a 上，看起来在 R2012b 上已修复。

[当我尝试Edric 的回答中推荐的命令序列时，出现](https://stackoverflow.com/a/12948978/311865)**了非常**奇怪的错误。这是我的代码：

```
 >> job = batch(c, @nn, 1, {A(:, 1:end -1), A(:, end)});
 >> wait(job);
 >> r = fetchOutputs(job)
 Error using parallel.Job/fetchOutputs (line 677)
 An error occurred during execution of Task with ID 1.

 Caused by:
    Error using nntraintool (line 35)
    Java is not available. 
```

以下是`nntraintool`错误起源的（Matlab 的神经网络工具包的一部分）的第 27-37 行：

```
if ~usejava('swing')
  if (nargin == 1) && strcmp(command,'check')
    result = false;
    result2 = false;
    return
  else

    disp('java used');
    error(message('nnet:Java:NotAvailable'));
  end
end 
```

所以看起来问题是使用`batch`命令执行作业时无法使用 GUI（因为 Swing 不可用）。奇怪的是，该`nn`功能不会以当前形式启动任何 GUI。该错误是由默认启动 GUI的[火车](http://www.mathworks.com/help/nnet/ref/train.html)`nn`引起的，但我已将其关闭：

```
net.trainParam.showWindow = false;
net = train(net, X, y); 
```

更有趣的`nn`是，如果正常启动相同的函数（`>> nn(A(:, 1:end -1), A(:, end));`），它永远不会进入第 27 行的外部*if-then*语句`nntraintool`（我已经使用调试器检查过）。因此，使用相同的函数，相同的参数表达式在命令正常启动时`~usejava('swing')`计算为 1，但在使用启动时计算为 1 。`0``batch`

你怎么看待这件事？**它看起来像丑陋的 Matlab 或神经网络工具箱错误**:(((

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-18T07:10:22.383

使用 Parallel Computing Toolbox，您最多可以运行 12 个“本地工作人员”来执行您的脚本（要运行更多，您需要购买额外的[MATLAB 分布式计算服务器](http://www.mathworks.com/products/distriben/)许可证）。鉴于您的工作流程，最好的办法可能是使用[BATCH](http://www.mathworks.com/help/distcomp/batch.html)命令提交一系列非交互式作业。请注意，您将无法从工作人员那里看到任何 GUI。你可能会做这样的事情（使用 R2012a+ 语法）：

```
c = parcluster('local'); % get the 'local' cluster object
job = batch(c, 'myNNscript'); % submit script for execution
% now edit 'myNNscript'
job2 = batch(c, 'myNNscript'); % submit script for execution
...
wait(job); load(job) % get the results 
```

请注意，BATCH 命令会自动将要运行的脚本的副本附加到作业中，以便您在提交后可以自由地对其进行更改。

# java - 无法从 java windows 应用程序将数据插入远程服务器数据库

> ID：12948545
> 
> 赞同：-1
> 
> 时间：2012-10-18T06:37:43.697
> 
> 标签：java, sql, jdbc

我正在研究 java windows 应用程序。我将我的应用程序连接到远程数据库服务器并插入数据。但是当我执行我的应用程序时，它显示消息**Duplicate entry 0 for key PRIMARY**。我试图解决这个问题，但它仍然显示相同。我也使用 10 到 15 个表来插入数据。在输出中，错误消息（键 PRIMARY 的重复条目 0）即将出现，但未提及表名。

有人可以在这方面帮助我吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:41:26.083

这通常发生在将空值作为主键插入（或尝试插入）到表中时。如果您可以通过 mysql manager 或其他方式访问显示，请查看是否插入了带有空值的行。

# java - 从运行在另一台服务器上的不同 Web 应用程序访问在一台服务器上运行的 Web 应用程序

> ID：12948550
> 
> 赞同：-1
> 
> 时间：2012-10-18T06:37:58.723
> 
> 标签：java, web-applications, web

我开发了一个在服务器（比如 server1 ）上运行的 Web 应用程序（比如 webapp1）。我有另一个 Web 应用程序（比如 webapp2）在不同的服务器（比如 server2）上运行。

只有 webapp1 上的注册用户必须能够使用 webapp1 会话中的用户名和密码登录到 webapp2。webapp1 使用活动目录对用户进行身份验证。webapp1 的一些用户可以通过内部通过活动目录访问 webapp2。

我想从 webapp2 访问 webapp1。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:45:29.450

您需要创建一个 API 来执行此操作。

看到一个类似的问题（对于 PHP，但基本概念仍然适用）：[create api using php](https://stackoverflow.com/questions/1906255/create-api-using-php)

使用 Java 技术构建 RESTful Web 服务：http: [//www.ibm.com/developerworks/training/kp/j-kp-rest/index.html](http://www.ibm.com/developerworks/training/kp/j-kp-rest/index.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T06:43:33.367

我认为你的问题是这样的。您有两个 Web 应用程序，当您的第一个 webapp1 收到请求时，会进行一些处理，而其他部分则由第二个 webapp 完成。

这可以通过将请求重定向/转发到第二个 webapp 来完成，让第二个 webapp 完成剩余的工作并将其返回给用户或再次返回给第一个 webapp。

# image - 如何处理 OutOfMemory Windows 手机

> ID：12948551
> 
> 赞同：2
> 
> 时间：2012-10-18T06:38:06.613
> 
> 标签：image, windows-phone-7, memory, listbox, windows-phone-7.1

我有一个`listbox`我`load images dynamically from the web as user scrolls`。将其视为无限卷轴。我当前的`display size is 72X72`. 但是，如果我`increase the display size to 288x288 (4 times)`在滚动应用程序几分钟后退出给出`outofmemory system error`. 它已经开始经常出现在我`512MB device`的大图像上。这让我很担心，因为它会在设备上发生得更快`256 MB`。如何处理 try catch 不处理这些系统错误的情况？`most optimum`处理如此庞大的图像列表的方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T12:48:31.553

我也经历过 WP7 或 WP7.5 的这个问题。

**Windows phone 7 中的图像存在一个巨大的问题。** 当从独立存储作为流读取并设置为位图类对象的源时，大小为 900kb 的图像比你会看到内存使用量发生巨大变化/上升（在我的案例 5-6MB）。

**只要浏览这个网站，你就会明白其余的。**
[Silverlight-s-big-image-problem-and-what-you-can-do-about-it](http://www.wintellect.com/CS/blogs/jprosise/archive/2009/12/17/silverlight-s-big-image-problem-and-what-you-can-do-about-it.aspx)

**对于长图像列表问题** 1\. 缩小从服务器获取的图像。
2\. 使用[LongListSelector 工具](http://windowsphonegeek.com/articles/LongListSelector-walkthrough)使用数据虚拟化技术列出图像

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T07:50:59.387

您可以使用 Jeff Wilcox [MemoryDiagnosticHelper](http://blogs.msdn.com/b/ptorr/archive/2010/10/30/that-memory-thing-i-promised-you.aspx?Redirected=true)来控制内存使用情况。如果大约 90 mb，您可以运行图像清理过程。`Image.Source = null`只需为用户目前看不到的图像卸载 BitMaps ( )。

压缩图像也是一种很好的做法（例如使用服务器端压缩）。

# android - 在无头模式下运行 android 应用程序

> ID：12948553
> 
> 赞同：0
> 
> 时间：2012-10-18T06:38:15.503
> 
> 标签：android, android-emulator, headless

我可以在无头模拟器中运行 android 应用程序吗？我尝试使用 am 命令，但它显示 NullPointer 异常。我认为因为它是一个 gui 应用程序，所以我不能。有什么办法吗？模拟器太慢了。有时需要5-7分钟。顺便说一句，我正在吃姜饼。

环境：我从 qemu 源代码运行。来自安卓镜像和内核镜像。qemu 模拟器的参数是这样的：

```
-sysdir ../../android-image -kernel ../../android-kernel/zImage -no-window -qemu -monitor stdio 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-08-24T08:48:59.640

从`${android-sdk}/tools`运行此命令：

```
emulator -avd NAME_OF_EMULATOR -no-skin -no-audio -no-window 
```

在这个博客中很好地解释了：http: [//paulemtz.blogspot.cz/2013/05/android-testing-in-headless-emulator.html](http://paulemtz.blogspot.cz/2013/05/android-testing-in-headless-emulator.html)

# mysql - MySQL 使用 WHERE 子句直接 INSERT INTO

> ID：12948554
> 
> 赞同：14
> 
> 时间：2012-10-18T06:38:16.693
> 
> 标签：mysql, insert, where-clause

我尝试用谷歌搜索这个问题，但只找到如何使用两个表来完成，如下所示，

```
INSERT INTO tbl_member
SELECT Field1,Field2,Field3,... 
FROM temp_table
WHERE NOT EXISTS(SELECT * 
         FROM tbl_member 
         WHERE (temp_table.Field1=tbl_member.Field1 and
               temp_table.Field2=tbl_member.Field2...etc.)
        ) 
```

这适用于一种情况，但现在我的兴趣是直接从程序本身上传数据而不使用两个表。我想要的是上传不在表格中的数据。我脑子里的sql是这样的，

```
INSERT INTO tbl_member (SensorIdValue, DataTimeValue, DataInValue, IncompleteValue, SpiValue, InfoValue)
VALUES ('Sensor.org', '20121017150103', 'eth0','','','')
WHERE (SensorIdValue != 'Sensor.org'AND DataTimeValue != '20121017150103'AND DataInValue != 'eth0'AND IncompleteValue != ''AND SpiValue != ''AND InfoValue != ''); 
```

但这是错误的..请我知道正确的做法，非常感谢:)

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-10-18T06:40:54.430

`INSERT`语法不能有`WHERE`子句。唯一会发现`INSERT`has`WHERE`子句是在使用`INSERT INTO...SELECT`语句时。

第一种语法已经正确。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2018-10-29T05:52:59.787

您可以使用 UPDATE 命令。

```
UPDATE table_name SET name=@name, email=@email, phone=@phone WHERE client_id=@client_id 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2020-12-14T03:32:46.603

`INSERT`语法不能有`WHERE`，但你可以使用`UPDATE`.

语法如下：

```
UPDATE table_name

SET column1 = value1, column2 = value2, ...

WHERE condition; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-10-30T08:31:03.583

如何使用 WHERE 子句执行 INSERT INTO SELECT 的示例。

```
INSERT INTO #test2 (id) SELECT id FROM #test1 WHERE id > 2 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-07-25T21:15:10.877

如果我理解目标是向表中插入一条新记录，但如果数据已经在表中：跳过它！这是我的答案：

```
INSERT INTO tbl_member 
(Field1,Field2,Field3,...) 
SELECT a.Field1,a.Field2,a.Field3,... 
FROM (SELECT Field1 = [NewValueField1], Field2 = [NewValueField2], Field3 = [NewValueField3], ...) AS a 
LEFT JOIN tbl_member AS b 
ON a.Field1 = b.Field1 
WHERE b.Field1 IS NULL 
```

要插入的记录位于新值字段中。

* * *

## 回答 #6

> 赞同：-3
> 
> 时间：2012-10-18T06:48:52.400

> INSERT INTO 语句
> INSERT INTO 语句用于在表中插入新行。
> SQL INSERT INTO 语法

可以用两种形式编写 INSERT INTO 语句。

第一种形式没有指定将插入数据的列名，只指定它们的值：

```
INSERT INTO table_name
VALUES (value1, value2, value3,...) 
```

第二种形式指定要插入的列名和值：

```
INSERT INTO table_name (column1, column2, column3,...)
VALUES (value1, value2, value3,...) 
```

# android - 可展开列表视图中的 LayoutInflater 异常

> ID：12948562
> 
> 赞同：1
> 
> 时间：2012-10-18T06:39:00.203
> 
> 标签：android, expandablelistview, layout-inflater, expandablelistadapter, expandable

我正在尝试制作一个可扩展的列表，但出现错误。

我只是遵循以下可扩展列表教程中的所有内容

访问：- [http://android-adda.blogspot.in/2011/06/custom-expandable-listview.html#comment-form](http://android-adda.blogspot.in/2011/06/custom-expandable-listview.html#comment-form)

但我有一个这样的例外

```
 java.lang.RuntimeException: Unable to start activity 
 ComponentInfo{com.delightflavors/com.delightflavors.CategoryActivity}:
 android.view.InflateException: Binary XML file line #13: Error inflating class textview 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:52:00.153

您发布的链接中的博客文章在 XML 文件中使用错误大小写存在严重问题。它是`TextView`并且`LinearLayout`它是区分大小写的。

# salesforce - Salesforce 中的跨对象公式

> ID：12948567
> 
> 赞同：0
> 
> 时间：2012-10-18T06:39:27.890
> 
> 标签：salesforce

我是销售人员的新手。我需要你的帮助。如何为自定义对象创建查找公式。如何插入与我的对象相关的字段类型？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T07:22:11.103

不是很明白你需要什么。如果您想为您的对象创建一个新的查找字段 - 转到对象，单击自定义字段中的“新建”，选择“查找关系”并单击“下一步”，选择您的相关对象，就是这样。如果您想创建一个新的公式字段，请选择“公式”作为“数据类型”。

# web-crawler - 爬上亚马逊应用商店

> ID：12948574
> 
> 赞同：3
> 
> 时间：2012-10-18T06:39:43.447
> 
> 标签：web-crawler

我想建立一个爬虫来从亚马逊应用商店收集（免费）安卓应用。但我在其网站上找不到任何下载链接。只是想知道是否有一种方法可以使用 PC（或服务器）抓取亚马逊应用商店。是否有相关项目或 API？

# php - 在 CakePHP 中检测页面名称？

> ID：12948576
> 
> 赞同：2
> 
> 时间：2012-10-18T06:39:59.860
> 
> 标签：php, cakephp, cakephp-2.0

我希望这不是一个完全愚蠢的问题，但我无法在任何地方找到答案！

CakePHP 是否有一些功能可以让您检测用户在哪个页面上？（例如 - 检测他们正在进行的操作）。

我想这样做，如果它们在正确的页面上，我可以在我的导航栏上显示一个活动类。

请让我知道是否有比检测他们所在的页面/操作更好的方法！

谢谢，

亚当。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-18T06:43:51.947

当然。查看`$this->params`视图中的数组以查看可用的内容:)

# objective-c - 如何获取 Google Drive API IOS 的文件列表？

> ID：12948577
> 
> 赞同：3
> 
> 时间：2012-10-18T06:40:10.427
> 
> 标签：objective-c, ios, mime-types, google-drive-api

我正在尝试为 IOS 集成 Google Drive Api。我在[这里测试他们的示例程序](https://developers.google.com/drive/examples/objectivec)

DrEdit 在上传或下载文件时使用 mimetype，例如上传文件时

```
[GTLUploadParameters uploadParametersWithData:fileContent MIMEType:@"text/plain"]; 
```

当 api 下载它使用的相同文件时

```
GTLQueryDrive *query = [GTLQueryDrive queryForFilesList]; query.q = @"mimeType = 'text/plain'"; 
```

我可以上传和下载制作的文件，`Dr.Edit`但如果我使用 Web 界面或使用本地驱动器客户端为`mac os`. 这些文件未显示在我的应用程序中。[我从这里](https://developers.google.com/drive/search-parameters)尝试了不同的 mimeTypes 和不同的搜索参数。但它仅适用于在`Dr.Edit`. 问题是什么？

是否有任何其他参数可以帮助我在`Google Drive`.

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-27T14:04:01.967

改变了方法`authButtonClicked`的范围`DrEditFilesListViewController.m`

将此范围替换 `kGTLAuthScopeDriveFile`为`kGTLAuthScopeDrive`如下

```
GTMOAuth2ViewControllerTouch *authViewController = 
  [[GTMOAuth2ViewControllerTouch alloc] initWithScope:**kGTLAuthScopeDriveFile**
                                             clientID:kClientId
                                         clientSecret:kClientSecret
                                     keychainItemName:kKeychainItemName
                                             delegate:self
                                     finishedSelector:finishedSelector]; 
```

到

```
GTMOAuth2ViewControllerTouch *authViewController = 
  [[GTMOAuth2ViewControllerTouch alloc] initWithScope:**kGTLAuthScopeDrive**
                                             clientID:kClientId
                                         clientSecret:kClientSecret
                                     keychainItemName:kKeychainItemName
                                             delegate:self
                                     finishedSelector:finishedSelector]; 
```

# node.js - 如何在 Node.js 中创建数据驱动测试

> ID：12948581
> 
> 赞同：3
> 
> 时间：2012-10-18T06:40:28.093
> 
> 标签：node.js, qunit, vows, nodeunit, expresso

在`Node.js`单元测试中，创建数据驱动的方法是`unit tests`什么？

例如，我有一个 common `function / method`，我想在具有不同数据集的多个单元测试中重用它。我试着调查`nodeunit, vows, whiskey, qunit, expresso`；但我无法找到实现此功能的方法。

我并没有考虑在多个测试中逐字调用该函数，而是`method`在循环中使用 common 来获取每次迭代中的数据并执行它，作为`unittest`

这样做的原因是，我至少有 1000 行参数化数据，我想为此编写`unittest`. 显然我不能继续写 1000`unittests`物理。

任何人都可以请您指出实现上述目标的方法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-17T03:51:47.980

有允许运行参数化 quint 测试的 qunit 插件
[https://github.com/AStepaniuk/qunit-parameterize](https://github.com/AStepaniuk/qunit-parameterize)

因此，您可以分离*测试数据*和*测试方法*，并针对不同的数据集运行*相同的测试方法。*

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-11-04T20:06:04.523

这是一篇相当老的帖子，但我自己也遇到了这个问题，如果不使用其他评论（qunit-parameterize）引用的插件，就无法为 QUnit 找到一个干净的解决方案。老实说，我不知道如何将插件与我公司的项目集成，大约一个小时后就放弃了。

这就是我最终解决它的方式：

只需使用您的输入（以及预期的输出，如果需要）定义一个数组，遍历您的数组，并在回调中定义 QUnit 测试！超级简单，真的，但效果很好。

```
const testCases = [
    { input: "01/01/2015", expected: "2015-01-01" },
    { input: "09/25/2015", expected: "2015-09-01" },
    { input: "12/31/2015", expected: "2015-12-01" }
];

testCases.forEach(testCase => {
    QUnit.test("gets first of month",
    () => {
        const actual = new classUnderTest().getFirstOfMonth(testCase.input);
        strictEqual(actual, testCase.expected);
    });
}); 
```

我不确定如果 QUnit 是这样嵌套的，它会发现测试，但它确实很好。

享受！

# function - 如何使用 CMake 检查accept4

> ID：12948584
> 
> 赞同：4
> 
> 时间：2012-10-18T06:40:37.477
> 
> 标签：function, macros, cmake

我正在像这样在 Linux 上检查 accept4：

```
check_symbol_exists(accept4 sys/socket.h HAVE_ACCEPT4) 
```

但是，仅当预先定义了 _GNU_SOURCE 时才定义 accept4。如何强制检查器在检查之前定义 _GNU_SOURCE？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T08:18:17.103

当然，`list(APPEND CMAKE_REQUIRED_DEFINITIONS -D_GNU_SOURCE)`在调用之前使用`check_symbol_exists()`并`list(REMOVE_ITEM CMAKE_REQUIRED_DEFINITIONS -D_GNU_SOURCE)`在检查之后进行清理。

# php - 如何获取每个用户之间最后一行对话的结果？

> ID：12948596
> 
> 赞同：2
> 
> 时间：2012-10-18T06:41:27.003
> 
> 标签：php, mysql

```
mes_id  subject      mem_id       frm_id
55      Hi           329          401
72      Re: HI yhi   689          401
83      Re: HEY HI   401          329
68      HI yhi       401          689
59      Hi           401          1734 
```

嗨，请从下面的查询中找到我的表响应，我从中得到上述 1 对 1 聊天消息的响应。

```
SELECT mes_id,SUBJECT,mem_id,frm_id
FROM messages_system_new
WHERE frm_id = '401' AND mem_id !='401'
    AND trashed_user NOT LIKE '%401%'
    AND TYPE = 'message'
    AND FOLDER != 'saved' GROUP BY mem_id
    UNION ALL 
    SELECT mes_id,SUBJECT,mem_id,frm_id
FROM messages_system_new
WHERE mem_id = '401' AND frm_id !='401'
    AND trashed_user NOT LIKE '%401%'
    AND TYPE = 'message'
    AND FOLDER != 'saved' GROUP BY frm_id 
```

我只想要包含 59,72,83 的 mes_id 的响应，这是两个用户之间的最后一次对话。

请帮忙谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T06:47:24.483

试试这个，

```
SELECT *
FROM   Table1
WHERE (LEAST(mem_id, frm_id), GREATEST(mem_id, frm_id), mes_id) IN
  (
      SELECT  LEAST(mem_id, frm_id) as x, 
              GREATEST(mem_id, frm_id) as y, 
              MAX(mes_id) as msg_time
      FROM Table1
      GROUP BY x, y
  )
ORDER BY Mes_ID 
```

# [SQLFiddle 演示](http://sqlfiddle.com/#!2/77fa0/6)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T12:29:51.133

[SQL小提琴](http://sqlfiddle.com/#!2/77fa0/13)

```
select t.*
from
    table1 t
    inner join (
        select  max(mes_id) as mes_id
        from table1
        group by least(mem_id, frm_id), greatest(mem_id, frm_id)
  ) s on t.mes_id = s.mes_id
where mem_id = 401 or frm_id = 401
order by mes_id 
```

# magento - 修改 Magento 小计计算：层级价格

> ID：12948597
> 
> 赞同：3
> 
> 时间：2012-10-18T06:41:32.073
> 
> 标签：magento

我正在使用分级价格，并且对介于 1 和 4 之间的数量设置了价格，对于超过 4 的数量设置了每件商品的价格。

我想修改我的购物车，为数量 >= 1 && 数量 <=4 的商品设置价格

我怎么做？

这是我测试的项目：[http ://stjamestutorials.com/ppptransportation/index.php/mayfield-falls-tours-negril-jamaica-tours.html](http://stjamestutorials.com/ppptransportation/index.php/mayfield-falls-tours-negril-jamaica-tours.html)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T11:30:34.747

尝试为此事件创建一个观察者：

```
catalog_product_get_final_price 
```

在类中找到：

```
app\code\core\Mage\Catalog\Model\Product\Type\Price.php 
```

该事件附带产品和数量，因此您可以编写逻辑，然后在`final_price`产品属性中设置自定义价格。

# c++ - 是否有一些轻量级的替代 boost::basic_managed_shared_memory ？

> ID：12948601
> 
> 赞同：1
> 
> 时间：2012-10-18T06:41:50.577
> 
> 标签：c++, memory, boost, shared, managed

我正在寻找 boost::interprocess::managed_memory_segments 的轻量级替代品。

我只需要能够以一种不错且相对可移植（Unix&Linux）的方式从 C++ 为 IPO 分配和打开几个命名内存段。Boost有点工作，[http://www.boost.org/doc/libs/1_51_0/doc/html/interprocess/managed_memory_segments.html](http://www.boost.org/doc/libs/1_51_0/doc/html/interprocess/managed_memory_segments.html)但它带来了巨大的依赖关系（甚至是旧的boost版本中的错误）所以我不想要它不再。我不需要任何同步。

有任何想法吗？除了直接从C做吗？

# javascript - jQuery : $(document).ready() 建议

> ID：12948602
> 
> 赞同：-3
> 
> 时间：2012-10-18T06:41:50.330
> 
> 标签：javascript, jquery

> **可能重复：**
> [你能有多个 $(document).ready(function(){ ... }); 部分？](https://stackoverflow.com/questions/1327756/can-you-have-multiple-document-readyfunction-sections)

可能这个问题有点搞笑。

我只是想知道我们可以`$(document).ready()`在一个页面上使用超过一次

如果是，那么这样做的利弊是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:43:12.493

是的，您可以根据需要多次调用它，但这不是一个好习惯。我认为没有这样的缺点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T06:47:06.043

> 您可以多次使用它。事实上，如果你根本不关心保持你的代码小，你可以用它们乱扔你的 javascript 文件。

```
$(document).ready(function() {
      // some code here
    });
    $(document).ready(function() {
      // other code here
    }); 
```

> 能够在一个文件中甚至跨多个文件对您的函数进行分组是非常棒的，`and jQuery's flexible $(document).ready() function allows you to do that, pain free.`

***[阅读更多](http://www.learningjquery.com/2006/09/multiple-document-ready)***

试试这个：

```
$(document).ready(function() {
    alert('1!');
});

$(document).ready(function() {
    alert('2!');
});

$(document).ready(function() {
    alert('3!');
}); 
```

上面的代码和下面的一样

```
$(document).ready(function() {
    alert('1!');
    alert('2!');
    alert('3!');
}); 
```

# android - 配置android以编程方式运行ffmpeg命令

> ID：12948609
> 
> 赞同：0
> 
> 时间：2012-10-18T06:42:16.253
> 
> 标签：android, android-ndk, ffmpeg

我不知道 ffmpeg，想在 android 终端上运行 ffmpeg 命令。配置android使其可以通过android应用程序运行ffmpeg命令的基本步骤是什么？

感谢您！...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T09:23:37.453

Android 支持**Runtime.exec() ，这是以***编程*方式运行可执行文件（例如 ffmpeg）的最佳方式。

**这与在终端上运行相同，但与在adb shell**上运行略有不同，因为后者使用系统帐户。在有根设备上，您可以从 Java、终端或 adb shell 以超级用户身份运行。

请注意，您必须在内部存储的某处部署二进制文件 ( **ffmpeg )。**Android 不允许从 /sdcard/ 执行。

您可以找到许多**ffmpeg for Android**的下载，并使用来自 Android NDK 的工具链构建二进制文件（必须下载并安装它）。在 Windows 上，需要**cygwin**。我推荐 libav 库的静态链接。

请注意，也可以将 ffmpeg 构建为库，并在进程内调用其**main()**，使用与传统命令行相同的参数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-07T09:42:52.080

从以下链接获取 FFmpeg 可执行二进制文件和 .so 文件。他们给出了如何从图像中捕获视频的示例代码。我希望它会帮助你。通过链接。

1.  他们将所需的库文件移动到应用程序包中。
2.  然后他们更改访问包的权限。
3.  接下来他们传递参数来运行 FFmpeg。

[从图像中捕获视频](https://github.com/vanevery/Android-MJPEG-Video-Capture-FFMPEG/)

# bash - cat `bash` 命令的意外输出

> ID：12948611
> 
> 赞同：2
> 
> 时间：2012-10-18T06:42:21.633
> 
> 标签：bash, shell, unix, operating-system, cat

有人可以解释一下吗？我运行了如下所示的命令

```
$ cat `bash`

$ ls

$ ctrl+D 
```

它在终端上给了我一些意想不到的输出。

注意：`bash`在反引号中。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-18T06:59:49.653

好问题！“意外输出”是 cat 打印 ls 在 cwd 中找到的所有文件。详细解释如下：

在你的第一行：

```
$ cat `bash` 
```

该`bash`部分实际上从原始 shell 生成了一个新 shell，因为 bash 被反引号括起来（反引号意味着在这种情况下运行封闭的程序）

那么当你这样做时：

```
$ ls 
```

这实际上是在新生成的 bash shell 中完成的。它列出了新生成的 bash shell 所在的目录（应该与原始目录相同）。反过来，这实质上将第一步中的 cat 命令更改为

```
$ cat file_1 file_2 ... file_x 
```

（基本上该目录中的所有文件都由 ls 返回。但是，您不会看到这些结果，因为输出正在等待打印到原始 shell 的标准输出： cat is waiting to evaluate the stdout of your new bash贝壳。）

最后，当你这样做时：

```
$ ctrl+D 
```

它退出您从原始 shell 生成的新 bash shell，然后 cat 将新 shell 中打印到标准输出的所有内容（来自 ls 的搜索结果）输出到旧 shell。

您可以通过以下方式验证我刚才所说的：

```
$ cd ~/
$ mkdir temp_test_dir
$ cd temp_test_dir
$ echo "some text for file1" > file1
$ echo "other text for file2" > file2 
```

现在运行您在问题中的内容：

```
$ cat `bash`
$ ls
$ ctrl+D 
```

这是你应该看到的：

```
some text for file1
other text for file2 
```

以某种顺序，这只是 cat 输出 ls 找到的所有文件。

# algorithm - 如何在 O(n log n) 时间内找到从数组中每个位置开始的最长递增序列，

> ID：12948612
> 
> 赞同：0
> 
> 时间：2012-10-18T06:42:24.927
> 
> 标签：algorithm, optimization, data-structures, sequence, dynamic-programming

我们如何在 O(n log n) 时间内找到从数组的每个位置开始的最长递增子序列，我已经看到了找到在数组的每个位置结束的最长递增序列的技术，但我无法找到其他方式圆形的。

例如，对于序列“3 2 4 4 3 2 3”，输出必须是“2 2 1 1 1 2 1”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T07:38:50.570

我做了一个快速而肮脏的 JavaScript 实现（注意：它是 O(n^2)）：

```
function lis(a) {
    var tmpArr = Array(),
        result = Array(),
        i = a.length;

    while (i--) {
        var theValue = a[i],
            longestFound = tmpArr[theValue] || 1;

        for (var j=theValue+1; j<tmpArr.length; j++) {
            if (tmpArr[j] >= longestFound) {
                longestFound = tmpArr[j]+1;
            }
        }
        result[i] = tmpArr[theValue] = longestFound;
    }
    return result;
} 
```

**jsFiddle：http:** [//jsfiddle.net/Bwj9s/1/](http://jsfiddle.net/Bwj9s/1/)

我们从右到左遍历数组，将先前的计算保存在单独的临时数组中以供后续查找。

`tmpArray`包含先前找到的以任何给定值开头的子序列，因此将`tmpArray[n]`表示找到的最长子序列（在当前位置的右侧）以 value 开头`n`。

循环是这样的：对于每个索引，我们在我们的索引中查找值（以及所有更高的值），`tmpArray`看看我们是否已经找到了可以将值添加到的子序列。如果我们找到一个，我们只需将该长度加 1，更新该`tmpArray`值，然后移动到下一个索引。如果我们没有找到工作（更高）的子序列，我们将`tmpArray`值设置为 1 并继续。

* * *

为了使它成为 O(n log n)，我们观察到`tmpArray`将始终是一个递减数组——它可以而且应该使用二进制搜索而不是部分循环。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T08:27:18.100

编辑：我没有完全阅读这篇文章，对不起。我认为您需要所有序列的最长递增子序列。重新编辑代码以使其工作。

我认为实际上可以在线性时间内完成。考虑这段代码：

```
int a[10] = {4, 2, 6, 10, 5, 3, 7, 5, 4, 10};
int maxLength[10] = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0}; // array of zeros
int n = 10; // size of the array;

int b = 0;

while (b != n) {
  int e = b;     
  while (++e < n && a[b] < a[e]) {} //while the sequence is increasing, ++e
  while (b != e) { maxLength[b++] = e-b-1; }
} 
```

# javascript - event.preventDefault() 无法正常工作的问题

> ID：12948615
> 
> 赞同：0
> 
> 时间：2012-10-18T06:42:37.143
> 
> 标签：javascript, jquery

寻找有关正确使用 preventDefault() 的一些建议 - 代码如下。简而言之，我不希望 a.dropdownTrigger 点击事件跳转到锚点。我认为插入 event.preventDefault() 作为该函数的第一行就可以了，但显然不是。

认为它可能与绑定 hashchange 事件有关，我用它来监视对 url 的更改（单击 a.dropdownTrigger 元素会更新哈希位置，它会在 hashchange 上调用侦听器 - 这样做可以让我捕获到下拉触发器的入站链接，并维护 url 历史记录）。

有什么想法我哪里出错了吗？

```
 // check inbound anchor links against dropdown ids
    if (hash != "" && dropdowns.length != 0 && $.inArray(hash, dropdowns)) {
        OpenDropdownForHash(hash);
    }

    // listen for hashchange once page loads (handles on-page links to dropdown content)
    $(window).bind('hashchange', function () {
        hash = window.location.hash;
        if (dropdowns.length != 0 && $.inArray(hash, dropdowns)) {
            OpenDropdownForHash(hash);
        }
    });

    // open the targeted dropdown - var incoming is a bool, differentiate between inbound links and on-page clicks
    function OpenDropdownForHash(x) {

        $(x).next('.dropdown').toggleClass('open').slideToggle(200);

        if ($(x).next('.dropdown').hasClass('open')) { //can this live in the callback above? 
            $(x).parent().css("-webkit-transition", "all 0.8s ease")
                .css("backgroundColor", "white")
                .css("-moz-transition", "all 0.8s ease")
                .css("-o-transition", "all 0.8s ease")
                .css("-ms-transition", "all 0.8s ease")

                .css("backgroundColor", '#eeeeee').delay(600).queue(function () {
                    $(this).css("backgroundColor", "white");
                    $(this).dequeue(); //Prevents holding color with no fadeOut on second click.
                });
        }
    }

    // finally, the basic click handler for dropdowns - update the hash (to allow history), which triggers previously bound hashchange event
    $('a.dropdownTrigger').bind('click',function (e) {
        e.preventDefault();
        if ("#" + $(this).attr('id') == location.hash) { // clicking an open dropdown link doesn't trigger the hashchange event, so we check manually
            OpenDropdownForHash("#" + $(this).attr('id'));
        }
        else { // clicking a closed dropdown does call hashchange, so the OpenDropdownForHash function is called by the listener
            location.hash = $(this).attr('id');
        }
    }); 
```

更新：用更多的努力解决了这个问题，重新设计了点击处理程序并简化了 hashchange 监听器：

```
 if (dropdowns.length != 0) {
        // the basic click handler for dropdowns - update the hash (to allow history), which triggers previously bound hashchange event
        $('#mainContentContainer a').bind('click', function (e) {
            var target = $(this).attr('href') != null ? $(this).attr('href') : "#" + $(this).attr('id');
            var offset = window.pageYOffset;
            if ($.inArray(target, dropdowns) && location.hash != target) {                    
                location.hash = target;
                window.scrollTo(0, offset);
            }
            else if ($.inArray(target, dropdowns) && location.hash == target) {
                OpenDropdownForHash(location.hash, $(this).hasClass('dropdownTrigger'));
                window.scrollTo(0, offset);
            }
        });
    }

    $(window).bind('hashchange', function(e) {
        OpenDropdownForHash(location.hash, $(this).hasClass('dropdownTrigger'));  
    }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:50:10.220

如果单击链接更新哈希，则该链接`e.preventDefault();`不起作用。检查链接是否真的绑定了。

好像他们不是。尝试替换`e.preventDefault();`并`alert('I am bound!!!');`查看单击链接后会发生什么。

您准备好将代码包装在文档中了吗？

编辑：如果我理解正确，您的锚点击处理程序是多余的，因为点击链接会更新哈希本身。

# node.js - 如何在这里摆脱异步代码

> ID：12948616
> 
> 赞同：2
> 
> 时间：2012-10-18T06:42:42.807
> 
> 标签：node.js, mongodb, asynchronous

我一直在尝试使用 node.js 的 MongoJS 驱动程序检索数据。我正在使用的代码如下

```
 req.on('end', function(){
             var decodedBody = querystring.parse(fullBody);
             story=decodedBody.name;
             var z=new Array();
             console.log(story);
         res.writeHead(200,{'Content-Type': 'text/html'});
         res.write('<html><body>');
             db.frames.find({str_id:story}).toArray(function(err,doc){
             console.log(doc);
             for(var t=0;t<doc.length;t++)
                 {
                     var picid=doc[t].pic_id;
                     console.log(picid);               
                     db.pictures.find({_id:picid}).toArray(function(err,pic){
                      res.write('<img src="'+pic[0].name+'"/>');
             });
           } 
        }) 
        res.end('</body></html>'); 
   }); 
```

这里的问题是，由于代码的异步性质，响应首先结束，然后数据库块内的代码被执行，因此浏览器上没有显示任何内容，即在这种情况下是图像。提前谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T07:05:09.947

不要对抗 node.js 的异步特性，拥抱它！

因此，您应该触发所有请求，并在响应到达时将每个请求标记为已完成。完成所有请求后，呈现您的图像和 body/html 结束标记。

我通常不使用 node.js，所以我可能会犯一些错误，但它可能看起来像这样：

```
res.write('<html><body>');
db.frames.find({str_id:story}).toArray(function(err,doc){
  console.log(doc);

  var completed = {};

  for(var t = 0; t < doc.length; t++) {
    var picid = doc[t].pic_id;
    completed.picid = false;
    console.log(picid);               
    db.pictures.find({_id: picid}).toArray(function(err, pic) {
      // mark request as completed
      completed.picid = pic;

      // check if all requests completed
      var all_finished = true;
      for(var k in completed) {
        if(completed[k] === false) {
          all_finished = false;
          break;
        }
      }

      // render final markup
      if(all_finished) {
        for(var k in completed) {
          var pic = completed[k];
          res.write('<img src="'+pic[0].name+'"/>');
        }
        res.end('</body></html>);
      }
    });

  } 
}) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T07:01:53.303

只是把`res.end('</body></html>');`你的`db.frames.find`功能里面。检查何时到达`doc.length - 1`，然后发送`end`命令。

# java - 如何将图像从某个位置添加到现有的 pdf 文件并保存回同一位置？

> ID：12948625
> 
> 赞同：2
> 
> 时间：2012-10-18T06:43:14.897
> 
> 标签：java, image, pdf, image-processing, jpeg

如何从某个位置将图像添加到现有的 pdf 文件，并应保存回相同的位置，我使用了以下代码，但它会使用现有的 jpeg 生成一个新的 pdf。但是如何处理现有的pdf文件并保存生成的pdf图像？

```
 import java.io.*;
 import com.lowagie.text.*;
 import com.lowagie.text.pdf.*;

 public class imagesPDF
 {
 public static void main(String arg[])throws Exception
 {
   Document document=new Document();
   PdfWriter.getInstance(document,new FileOutputStream("imagesPDF.pdf"));
   document.open();
   Image image = Image.getInstance ("devi.jpg");
   document.add(new Paragraph("textdata"));
   document.add(image);
   document.close();
 }
 } 
```

# perl - Perl 中可以打开的文件句柄的最大数量

> ID：12948631
> 
> 赞同：0
> 
> 时间：2012-10-18T06:43:48.437
> 
> 标签：perl, hp-ux, solaris-10

我正在编写一个 Perl 脚本，该脚本打开一个巨大的文件，其中包含以下格式的记录。脚本可能在 Solaris 10 或 HP UX 11.0 中运行

```
Filename1 , col1, col2
Filename1 , col1, col2
Filename2 , col1, col2
Filename3 , col1, col2 
```

当我读取输入文件的第一个字段文件名时，如果它不存在，我需要创建一个新文件并将其余字段打印到文件中。输入文件中可能有 13000 个唯一文件名。我可以在 Solaris 10 或 hpux 11 中打开的最大文件句柄数是多少？我可以打开 13000 个文件句柄吗？我打算使用哈希来存储文件句柄，以便将其写入文件并关闭它。另外，如何轻松地从整个文件的第一个字段中获取唯一的文件名？有没有一种简单的方法来做到这一点，而不是读取文件的每一行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T06:49:34.350

文件句柄的最大数量取决于操作系统（并且是可配置的）

见`ulimit`（[手册页在这里](http://docs.oracle.com/cd/E19082-01/819-2239/ulimit-1/index.html)）

但是打开那么多文件句柄是不合理的。重新考虑你的算法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T06:52:55.633

不，如果不读取整个文件，就无法获得所有唯一的文件名。但是您可以在处理文件时生成此列表。当您读取一行时，将文件名添加为哈希的键。最后，打印散列的键。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-18T07:48:10.130

我不知道您的系统允许什么，但是您可以使用该[`FileCache`](http://search.cpan.org/~dom/perl-5.14.3/ext/FileCache/lib/FileCache.pm)模块打开比系统允许的更多的文件句柄。这是一个核心 Perl 模块，因此您甚至不需要安装它。

如果不读取整个文件，就无法从文本文件中取出第一列，因为文本文件实际上没有列甚至行的内部结构；它们只是一长串数据。找到每个“行”的唯一方法是浏览整个文件并查找换行符。

然而，即使是巨大的文件，Perl 通常也能很快处理。这不太可能成为问题。这是获取唯一文件名的简单代码（假设您的文件以 FILE 形式打开）：

```
my %files;
while (<FILE>) { /^(\S+)/ and $files{$1}++; } 
```

最后计算每个文件出现的次数。它假定您的文件名不包含任何空格。我用> 30,000行对此进行了快速测试，并且是瞬时的。

# android - 如何通过点击通知启动活动？

> ID：12948634
> 
> 赞同：2
> 
> 时间：2012-10-18T06:43:54.447
> 
> 标签：android, notifications, onclick, launcher

当用户点击通知时如何启动活动？我经常崩溃。我无法点击通知工作。下面显示了一个 onclick 方法。当按下一个名为 ButtonOne 的按钮时，它将在屏幕的顶部菜单栏中启动一个通知。我希望用户能够按下通知并让它启动名为 MainActivity 的活动。它崩溃并且不会启动页面。我放在 MainActivity 类中的通知代码可能有问题。怎么了？

```
 ButtonOne.setOnClickListener(new View.OnClickListener() {

      private int mId;

    // anonymous inner class override for on click
    public void onClick(View v) {

        Intent myIntent = new Intent(MainActivity.this, CoverFlowExample.class);
         MainActivity.this.startActivity(myIntent);

         NotificationCompat.Builder mBuilder =
                    new NotificationCompat.Builder(MainActivity.this)
                    .setSmallIcon(R.drawable.ic_launcher)
                    .setContentTitle("My notification")
                    .setContentText("Hello World!");
            // Creates an explicit intent for an Activity in your app
            Intent resultIntent = new Intent(MainActivity.this, MainActivity.class);

            // The stack builder object will contain an artificial back stack for the
            // started Activity.
            // This ensures that navigating backward from the Activity leads out of
            // your application to the Home screen.
            TaskStackBuilder stackBuilder = TaskStackBuilder.create(MainActivity.this);
            // Adds the back stack for the Intent (but not the Intent itself)
            stackBuilder.addParentStack(MainActivity.class);
            // Adds the Intent that starts the Activity to the top of the stack
            stackBuilder.addNextIntent(resultIntent);
            PendingIntent resultPendingIntent =
                    stackBuilder.getPendingIntent(
                        0,
                        PendingIntent.FLAG_UPDATE_CURRENT
                    );
            mBuilder.setContentIntent(resultPendingIntent);
            NotificationManager mNotificationManager =
                (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);
            // mId allows you to update the notification later on.
            mNotificationManager.notify(mId, mBuilder.build());

    }
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T07:09:55.710

发现问题出在 AVD android 模拟器而不是代码。由于某种原因，它没有更新早期版本的代码。再次测试它，现在它运行没有错误。

# heroku - 在 Heroku 上跟踪累积的测功机使用情况

> ID：12948636
> 
> 赞同：4
> 
> 时间：2012-10-18T06:43:59.780
> 
> 标签：heroku, usage-statistics

我无法追踪我在一个月内使用了多少测功小时和附加组件。缩放仪表板中的仪表仅显示每月估计值。

有什么来源可以检查我的每月使用余额吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-18T07:25:50.213

不完全是一个编程问题，所以如果它被关闭，请不要惊慌。

登录 heroku.com 并转到我的帐户。向下滚动到计费部分，应该有一个带有“详细信息”按钮的“当前使用情况”块 - 这将向您显示迄今为止的发票。

直接链接：[https ://dashboard.heroku.com/account/billing](https://dashboard.heroku.com/account/billing)

# html - 浮动后背景颜色不起作用

> ID：12948637
> 
> 赞同：1
> 
> 时间：2012-10-18T06:44:23.013
> 
> 标签：html, css

我对 CSS 很陌生，所以我决定尝试自己重新创建[这个](http://www.w3schools.com/css/default.asp)页面。

但是我遇到了以下问题：

**HTML**

```
 <!-- Header -->
        <header>
            <h1>w3schools.com</h1>
            <img src="Images/w3schoolslogo.gif">

            <form method="post" action="w3_schools.html">
                <input type="text" name="search" placeholder="Search w3schools.com"/>
                <input type="submit" value="Search">
            </form>
        </header>
        <!---->

        <!-- Top navigation -->
        <nav class="top_navigation">
            <ul>
                <li><a href="">Home</a></li>
                <li><a href="">HTML</a></li>
                <li><a href="">CSS</a></li>
                <li><a href="">Javascript</a></li>
                <li><a href="">JQuery</a></li>
                <li><a href="">XML</a></li>
                <li><a href="">ASP.NET</a></li>
                <li><a href="">PHP</a></li>
                <li><a href="">SQL</a></li>
                <li><a href="">More...</a></li>                   
            </ul>

            <aside>
                <ul>
                    <li><a href="">References</a></li>
                    <li><a href="">Examples</a></li>
                    <li><a href="">Forum</a></li>
                    <li><a href="">About</a></li>
                </ul>
            </aside>
        </nav>
        <!----> 
```

**CSS**

```
ul {
  list-style-type: none;
  margin: 0px;
  padding: 0px;

}

/* Header */
header {
    position: relative;
}

header h1 {
    display: none;
}

header form {
    position: absolute;
    bottom: 0px;
    right: 0px;
}

header form input[type="text"]  {
    border: 1px solid #D3D3D3;
}

/* Top navigation */
.top_navigation {
    clear: both;
    text-transform: uppercase;
    margin-top: 10px;
    font-size: 80%;
    background-color: green;
}

.top_navigation a:link, .top_navigation a:visited{
    color: #555555;
    text-decoration: none;
}

.top_navigation a:hover {
    color: red;
}

.top_navigation li {
    float: left; 
    margin-left: 10px;
}

.top_navigation aside {
    float:right; 
} 
```

问题是导航元素的背景不是绿色的。我想它与浮动有关，但我不知道如何修复。我试过`clear:both`几乎到处都放，但那里没有绿色。:(

你能帮我么？提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T06:51:12.280

为此，您不需要额外的 DIV。添加`overflow: hidden;`到`.top_navigation`

```
.top_navigation {   
    text-transform: uppercase;
    margin-top: 10px;
    font-size: 70%;
    background-color: green; overflow: hidden;
} 
```

[**工作演示**](http://jsfiddle.net/X4R8K/2/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T06:49:56.300

你的 LI 元素是浮动的，所以 UL bg 的高度是 0。所以你有几个选择

CSS 'Clear Fix' 是解决这个问题的一种方法：

CSS：

```
.cf:before, .cf:after {
  content: " "; /* 1 */
  display: table; /* 2 */
}
.cf:after {
  clear: both;
}
.cf {
  *zoom: 1;
} 
```

HTML：

```
 <ul class="cf">
         <li><a href="">References</a></li>
         <li><a href="">Examples</a></li>
         <li><a href="">Forum</a></li>
         <li><a href="">About</a></li 
   </ul> 
```

示例：http: [//jsfiddle.net/8UDVw/1/](http://jsfiddle.net/8UDVw/1/)

或者，如果您知道 LI 的高度不会改变，您可以手动设置 UL 的高度：

```
.top_navigation ul{height:30px;} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-18T06:52:19.420

您需要`clear:both`在 的末尾添加一个元素`<nav>`，以使其调整为浮动元素的大小：

```
<nav class="top_navigation">
    <ul>
       ...
    </ul>
    <aside>
       ...
    </aside>
    <div style="clear:both;"></div>
</nav> 
```

（这只是一个例子，当然，不要使用内联样式）

示例：http: [//jsfiddle.net/7gWEu/](http://jsfiddle.net/7gWEu/)

# xml - Mule 为 xml 增加价值

> ID：12948638
> 
> 赞同：0
> 
> 时间：2012-10-18T06:44:24.177
> 
> 标签：xml, xpath, mule

我正在使用 Mule 使用 html 文件获取输入并使用输入将值添加到 xml 我能够提取值我只需要进一步将其添加到 xml 中，我应该如何进一步进行，任何帮助将是感谢这是我的配置

```
<flow name="webappFlow1" doc:name="webappFlow1">
    <http:inbound-endpoint exchange-pattern="request-response" host="localhost" port="8081" path="submitData" doc:name="HTTP"/>
    <http:body-to-parameter-map-transformer doc:name="Body to Parameter Map"/>
    <logger message="#[payload['VendorId']]" level="INFO" doc:name="Logger"/>
    <message-properties-transformer doc:name="Message Properties">
        <add-message-property key="vendorId" value="#[payload['VendorId']]"/>
    </message-properties-transformer>
    <file:inbound-endpoint path="src/test/resources" responseTimeout="10000" mimeType="text/xml" doc:name="File"/>

</flow> 
```

下一步是将供应商 ID 添加到 xml 文件中，如果 xml 看起来像

```
<import>
  <field></field>
</import> 
```

我想在字段中添加价值谢谢，Rahul

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T10:47:53.783

当你第一次接触 mule 时，首先要了解的是消息源（即入站端点）只能放在流的开头。在它们之后，任何元素都应该是消息处理器。您可以[在此处找到更多详细信息](http://www.mulesoft.org/documentation/display/MULE3USER/Message+Sources+and+Message+Processors)

也就是说，您可以使用自定义组件或使用[fileutil 模块轻松实现您的用例](http://javaduke.github.com/mule-module-file-utils/mule/fileutils.html)

您的流程如下所示：

```
<flow name="webappFlow1" doc:name="webappFlow1">
<http:inbound-endpoint exchange-pattern="request-response" host="localhost" port="8081" path="submitData" doc:name="HTTP"/>
<http:body-to-parameter-map-transformer doc:name="Body to Parameter Map"/>
<logger message="#[payload['VendorId']]" level="INFO" doc:name="Logger"/>
<message-properties-transformer doc:name="Message Properties">
    <add-message-property key="vendorId" value="#[payload['VendorId']]"/>
</message-properties-transformer>
<set-variable variableName="VendorId" value="#[payload['VendorId']]"/>
<file-utils:read-file fileName="import.xml" filePath="/my/path" />
<!-- The following trasformer should be a either some custom java code or a scripting transformer 
 that process the payload (the xmlFile) and by processing it i adds the flowVar['vendorId'] to it. -->
<trasformer ref="xmlTrasformer" />
</flow> 
```

[您可以在此处](http://www.mulesoft.org/documentation/display/MULE3USER/Using+Transformers)和[此处](http://www.mulesoft.org/documentation/display/MULE3STUDIO/Script+Transformer+Reference)找到有关如何编写变压器的信息

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T16:27:51.297

如果在提交中摔跤工作室是一个问题，您始终可以使用表达式组件来读取文件。

我注意到您打算从以下位置读取`src/test/resources`：Studio 不会将此路径放在类路径中，因此假设您可以从其中读取文件`src/main/app`，以下组件将读取`src/main/app/text.xml`：

```
<expression-component doc:name="Read Classpath Resource">
  payload = Thread.currentThread().contextClassLoader.getResourceAsStream('test.xml')
</expression-component> 
```

# jquery - 垂直滚轮菜单

> ID：12948643
> 
> 赞同：0
> 
> 时间：2012-10-18T06:44:53.040
> 
> 标签：jquery, css

嗨，伙计们，你们中的任何人都知道如何/在哪里可以找到类似这样的垂直滚轮菜单

![更多类别的菜单](../Images/a58aa1e6aa80a9231bf6a1ca059ba15e.png)

![在此处输入图像描述](../Images/7753a8ddf870d116add0b84053a2acbd.png)

如果有人可以向我展示可能基于 jquery 的滚轮菜单，那就太好了。我认为它限制了要显示的类别数量。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:53:28.423

您可以在以下链接中找到它。

[www.freedownloadmanager.org/.../jquery-vertical-roller-menu](http://www.freedownloadmanager.org/.../jquery-vertical-roller-menu)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T07:11:46.627

我环顾四周，我能找到的最接近的是： [http://plugins.righthere.com/downloadable-content/sws-sliding-tabs-extra/](http://plugins.righthere.com/downloadable-content/sws-sliding-tabs-extra/) 向下滚动一下，你会看到它。这是一个免费的 Wordpress 插件，但您可以随时对其进行 DL 分析。

如果你想用一些不同的东西，你可以定制这样的东西：http: [//www.htmldrive.net/items/demo/188/jQuery-Super-Cool-Vertical-Scroll-Menu](http://www.htmldrive.net/items/demo/188/jQuery-Super-Cool-Vertical-Scroll-Menu) 虽然 imo 有一个在有限数量的情况下，这实际上是非常有用的。

祝你好运！

# iphone - iPhone故事板以编程方式呈现模型视图

> ID：12948649
> 
> 赞同：2
> 
> 时间：2012-10-18T06:45:32.620
> 
> 标签：iphone, ios, uistoryboard, uistoryboardsegue

我正在使用这个故事板概念开发一个 iphone 应用程序。

在这里，我使用这个故事板完成了初始视图演示。

在这里，我以编程方式在 rootviewcontroller 中创建了一个按钮，用户单击此按钮我应该呈现另一个视图控制器，比如说 root2ViewController。我正在使用下面的代码呈现视图，但它没有呈现任何内容，并且它说类似于**identifier not found**。任何解决方案和想法将不胜感激。

> ```
> UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@"MainStoryboard"
>                                                      bundle:[NSBundle mainBundle]];
> UIViewController *root2ViewController = [storyboard instantiateViewControllerWithIdentifier:@"MyIdentifier"];
> [root2ViewController setModalPresentationStyle:UIModalPresentationFullScreen];
> [self presentViewController:root2ViewController animated:animation completion:nil]; 
> ```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T07:19:50.180

在情节提要的检查器窗口中，您需要设置视图控制器的情节提要标识符

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T07:24:16.610

我发现调用以下方法的解决方案确实很神奇。

> ```
> [self performSegueWithIdentifier: @"FindMyClinic" sender: self]; 
> ```

# asp.net-mvc - 在 MVC 3 中处理错误/错误的路由

> ID：12948650
> 
> 赞同：0
> 
> 时间：2012-10-18T06:45:33.643
> 
> 标签：asp.net-mvc, asp.net-mvc-3, redirect, routing

在我的 MVC 应用程序中，控制器是使用 spring IOC 作为控制器工厂创建的。如果用户通过在浏览器中编辑 url 来请求错误的控制器，我将在浏览器中显示“资源不存在”消息。相反，我想将他引导到应用程序的登录页面。

```
 public class ControllerFactory : IControllerFactory
{
    private static readonly ILog log =
      LogManager.GetLogger(typeof(ControllerFactory));
    public IController CreateController(RequestContext requestContext, string controllerName)
    {
        log.Debug("ControllerFactory.CreateController :controllerName =" + controllerName);
        controllerName = controllerName.ToLower();
        IApplicationContext ctx = ContextRegistry.GetContext();
        Controller ControllerObj = null;

        if(ctx.ContainsLocalObject(controllerName))
        {
            ControllerObj = (Controller)ctx[controllerName];
            log.Debug("Controller Object is created :" + controllerName);
        }
        else
        {
               //Showing error message
            requestContext.HttpContext.Response.Write(String.Format("<br/><b><valign=\"center\"><Font Size=\"6\" Font Color=\"Red\"> The Resource {0} is not available</b>", controllerName));
         // **Insteadd of showing the above message I want to direct user to the login page.**
         // **"Account/Login"**
            log.Error("there is no controller defintion with " + controllerName);
            requestContext.HttpContext.Response.End();
        }
        return ControllerObj;
    }

    public SessionStateBehavior GetControllerSessionBehavior(RequestContext requestContext, string controllerName)
    {
        return SessionStateBehavior.Default;
    }

    public void ReleaseController(IController controller)
    {
        IDisposable disposable = controller as IDisposable;
        if (disposable != null)
        {
            disposable.Dispose();
        }
    }
} 
```

如何将用户重定向到登录页面（“/Account/Login”）而不是显示错误消息？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T08:15:36.703

你试过了`requestContext.HttpContext.Response.Redirect(url)`吗？

我想 UrlHelper 也会有硬编码的控制器和动作名称，例如

```
UrlHelper url = new UrlHelper(Request.RequestContext);
var result = url.Action("Login", "Account"); 
```

但是使用 T4MVC(http://t4mvc.codeplex.com/) 你可以这样做：

```
var result = url.Action(MVC.Account.Login()); 
```

# java - 完成 ActionForm(struts1.2.9) 中的逻辑后如何调用 servlet？

> ID：12948654
> 
> 赞同：0
> 
> 时间：2012-10-18T06:45:45.413
> 
> 标签：java, servlets, frameworks, struts, struts-1

目前正在使用 Struts 1.2.9。在我的 actionForm 页面中，我有一些 switch 语句。结束此 switch 语句后，我如何从 ActionForm 页面调用 servlet。我的代码是，

```
public void populateExcelReportValues(HttpServletRequest request) throws Exception
{
    String METHOD_NAME = "populateExcelReportValues";
    log.entering(CLASS_NAME, METHOD_NAME);
    //Rating Element Id 
    String ratingElementIdForExcel = request.getParameter("ratingElementIdFromJSP");
    //Instance Type Name
    String instanceTypeForExcel = request.getParameter("instanceTypeFromJSP");

    int ratingElementIdForExcelInt = 0;

    String instanceTypeValueForExcel = "";
    if(ratingElementIdForExcel != null && ratingElementIdForExcel.trim().length()>0)
    {
        ratingElementIdForExcelInt = Integer.parseInt(ratingElementIdForExcel);
    }
    if(instanceTypeForExcel != null && instanceTypeForExcel.trim().length()>0)
    {
        instanceTypeValueForExcel = instanceTypeForExcel.trim();
    }
    switch (ratingElementIdForExcelInt) 
    {
        case 1: //ASN Accuracy - Rating Element ID - 1 
                weeklyDeliveryInstancesRatingElementQO = getASNAccuracyRatingElement(instanceTypeValueForExcel);
                //return weeklyDeliveryInstancesRatingElementQO;
                break;
        case 2: //Manual ASN - Rating Element ID - 2
                weeklyDeliveryInstancesRatingElementQO = getManualASNRatingElement(instanceTypeValueForExcel);
                break;
        case 3: //Packaging - Rating Element ID - 3 
                weeklyDeliveryInstancesRatingElementQO = getPackagingRatingElement(instanceTypeValueForExcel);
                break;
        case 4: //Behind Schedule - Rating Element ID - 4
                weeklyDeliveryInstancesRatingElementQO = getBehindScheduleRatingElement(instanceTypeValueForExcel);
                //return weeklyDeliveryInstancesRatingElementQO;
                break;
        case 5: //Cum Imbalance - Rating Element ID - 5
                weeklyDeliveryInstancesRatingElementQO = getCumImbalanceRatingElement(instanceTypeValueForExcel);
                break;
        case 6: //OverShipment - Rating Element ID - 6
                weeklyDeliveryInstancesRatingElementQO = getOverShipmentRatingElement(instanceTypeValueForExcel);
                break;
        case 7: //ASNTimeliness - Rating Element ID - 7
                weeklyDeliveryInstancesRatingElementQO = getASNTimelinessRatingElement(instanceTypeValueForExcel);
                //return weeklyDeliveryInstancesRatingElementQO;
                break;
        case 8: //UnAnsweredDDL Shortages - Rating Element ID -  8
                weeklyDeliveryInstancesRatingElementQO = getUnAnsweredDDLShortagesRatingElement(instanceTypeValueForExcel);
                break;
        case 9: //Supplier Delivery Contact Updates - Rating Element ID - 9
                weeklyDeliveryInstancesRatingElementQO = getSupplierDeliveryContactUpdatesRatingElement(instanceTypeValueForExcel);
                break;
        case 10: //Shipping Discrepancies - Rating Element ID - 10
                weeklyDeliveryInstancesRatingElementQO = getShippingDiscrepanciesRatingElement(instanceTypeValueForExcel);
                //return weeklyDeliveryInstancesRatingElementQO;
                break;
        case 13: //SDS Promise Accuracy - Rating Element ID - 13
                weeklyDeliveryInstancesRatingElementQO = getSDSPromiseAccuracyRatingElement(instanceTypeValueForExcel);
                break;
        case 15: //Behind Schedule Emergency Orders - Rating Element ID - 15
                weeklyDeliveryInstancesRatingElementQO = getBehindScheduleEmergencyOrdersRatingElement(instanceTypeValueForExcel);
                break;
        default:
                weeklyDeliveryInstancesRatingElementQO = new ArrayList<WeeklyDeliveryInstancesRatingElementQO>();
                break;
    }

    log.exiting(CLASS_NAME, METHOD_NAME);

    (Link)/MultiTableExportServlet?multitablesId=WeeklyDeliveryInstances-Count&amp;name=WeeklyDeliveryInstances-Count&amp;type=excel 
```

}

在我的 switch 语句执行后，我突出显示了我想要调用的代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T08:38:59.083

```
request.getRequestDispatcher("other servlet").forward(request, response); 
```

# string - 从字符串转换为日期时间时，字符串未被识别为有效的日期时间

> ID：12948658
> 
> 赞同：0
> 
> 时间：2012-10-18T06:45:57.097
> 
> 标签：string, datetime

尝试将字符串转换为日期时间时出现此错误“字符串未被识别为有效的日期时间”

我的字符串值：“09/25/2012 11:00:36:156”

代码 ：

```
capture = Convert.ToDateTime(newRecord.CaptureTime), 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T07:10:22.587

我建议您使用正则表达式。您将拥有验证输入字符串和强大的 DateTime 转换机制：

```
void Main()
{
    string datestring = "09/25/2012 11:00:36:156";

    string regexpr = @"(?x)(?i)
                    (\d{1,4}) [./-]
                    (\d{1,2}) [./-]
                    (\d{1,4}) [\sT]  (\d+):(\d+):(\d+) \s? (A\.?M\.?|P\.?M\.?)?";

    DateTime capture = new DateTime(); // set to default value in case datestring isn't valid

    if (Regex.IsMatch(datestring, regexpr)
        && DateTime.TryParse(Regex.Match(datestring, regexpr).Groups[0].Value, out capture))
    {    
        // convert is succeded
    }
    else
    {
        // Handle invalid dateString
    }

    Console.WriteLine(capture);
} 
```

或[DateTime.TryParseExact()](http://msdn.microsoft.com/en-us/library/system.datetime.tryparseexact.aspx)。[在这里](http://geekswithblogs.net/BlackRabbitCoder/archive/2012/01/05/c.net-little-wonders-the-datetime-tryparse-and-parseexact-methods.aspx)阅读更多。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T06:56:34.087

问题在于最后一个冒号 (':') 替换为 . 2012 年 9 月 25 日 11:00:36:156

```
 var dateString = "09/25/2012 11:00:36:156";
        var modifiedString = dateString.Substring(0, dateString.Length - 4) + "." + dateString.Substring(20);
        //var modifiedString = dateString.Substring(0, dateString.Length - 4);
        var dateValue = Convert.ToDateTime(modifiedString); 
```

# java - 如何取消注释格式化代码？

> ID：12948659
> 
> 赞同：5
> 
> 时间：2012-10-18T06:46:10.347
> 
> 标签：java, eclipse, comments

我的代码看起来像这样

```
/*
* if (isLoggingDebug()) { logDebug("Total Records : " +
* totalRecords); }
*/ 
```

T 有几个像上面这样的注释代码块，我需要删除注释。每次我发现在使用++后很难删除`*`每一行中的。`ctrl``shift``\`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T06:52:40.370

对于适量的代码，eclipse 或任何其他合理的编辑器的查找和替换功能可能会派上用场：搜索`'* '`并将其替换为 `''`.

许多更强大的编辑器还允许选择一个矩形范围并进行操作（在这种情况下删除它。这将允许您在示例中选择从 0,0 到 3,0 的矩形块并删除它。您可以查看vi、emacs、ultraedit、[notepad++](http://notepad-plus-plus.org)等等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T06:52:19.017

对于单行注释，您可以使用 Ctrl + /；对于多行注释，您可以在 Java 编辑器中选择要注释的行后使用 Ctrl + Shift + /。

# android - 如何在 Android 中使用 Onitemclicklistner 和 GestureDetector？

> ID：12948666
> 
> 赞同：0
> 
> 时间：2012-10-18T06:46:50.310
> 
> 标签：android, events

我需要带有值位置的双击事件，我正在使用 GestureDetector 来检测双击，我怎样才能获得值位置？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T11:01:06.917

你不需要任何关于项目的点击监听器。您可以通过实现 onDoubleTap 监听器和 onGestureListener 来检测。

请关注[http://android-adda.blogspot.in/2011/04/double-tap-event-using-gesture.html](http://android-adda.blogspot.in/2011/04/double-tap-event-using-gesture.html)

# java - 我的场景使用哪种设计模式？

> ID：12948667
> 
> 赞同：1
> 
> 时间：2012-10-18T06:46:54.317
> 
> 标签：java, oop, design-patterns

在运行时，可能会创建 TableA 或 TableB 或 TableC。

```
public class TableA  {
    public void methodA()  {
        doSomethingA();
    }

    public void methodB() {
        doSomethingB();
    }
}

public class TableB extends TableA  {
    @Override
    public void methodA()  {            
    }

    protected void methodC()  {
    }
}

public class TableC  extends TableA {
    @Override
    public void methodB()  {            
    }

    public void methodD()  {
    }
} 
```

我有另一个名为 TableX 的表。

```
public class TableX  extends TableA {

    public void methodX()  {       
    }

    public void methodY()  {
    }
} 
```

现在我想要 TableX 功能-methodX(), methodY() 适用于 TableB, TableC

我不能取出 methodX()、methodY() 并放入 TableA，因为这些是 TableX 特定的模块功能。

所以现在在运行时可能会创建 TableA、TableB、TableC、TableX(TableA)、TableX(TableB)、TableX(TableC)。我可以应用任何设计模式，这样无论创建什么Table，只要它是从TableA扩展而来的，TableX也可以支持它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T07:56:27.743

我认为您正在谈论在顶级`TableA`对象上添加功能。[装饰](http://en.wikipedia.org/wiki/Decorator_pattern)图案也许是您正在寻找的。

```
class TableX extends TableA {
    private TableA innerObject;
    public TableX(TableA inner) { innerObject = inner; }

    public methodA() {
        innerObject.methodA(); 
        ....
    }

    ...
}

TableB bObject = new TableB();
TableX decoratedBObject = new TableX(bObject);
decoratedBObject.methodA(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T06:52:53.133

我很难弄清楚你的意思，但我认为你想要的是[Adapter 模式](http://en.wikipedia.org/wiki/Adapter_pattern)，也称为 Wrapper。

# java - 如何在运行时创建变量名？

> ID：12948669
> 
> 赞同：0
> 
> 时间：2012-10-18T06:47:02.430
> 
> 标签：java, object

我无法在运行时创建对象的名称。我的声明是：

```
Map<String,String>  objectName+""+lineNumber = new HashMap<String,String>(); 
```

它给了我编译时错误。我想`HashMap`根据行号在运行时创建对象。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T07:00:52.427

Java 不是一种解释型语言，而是一种编译型语言。所以编译器不知道如何处理这个。这样的事情在脚本语言中可能是有意义的。

如果您需要一个“变量”的自定义名称，那么类似以下的构造可能是有意义的：

```
Map<String,Map<String,String>> varMap = new HashMap<String,Map<String,String>>();
varMap.put(objectName+" "+lineNumber, new HashMap<String, String>()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T06:57:49.137

您不能直接在 Java 中执行此操作（没有主要技巧）

您可以（并且可能应该）做什么：

将您的地图放在另一个以“变量”名称为键的地图中。

如果你真的想这样做，你必须进行代码生成。为此，您有多种选择：

*   生成Java源代码并编译

*   即时生成 Java 字节码。你可能想看看这个列表：http: [//java-source.net/open-source/bytecode-libraries](http://java-source.net/open-source/bytecode-libraries)可用的库。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-18T06:52:43.477

拥有动态对象名称是没有用的。

起初，不可能给引用一个动态名称。更大的问题是**你为什么要这样做？**

如果只是为了学习和做实验，我建议你应该遵循适当的练习。

但是，如果您正在尝试实现某些项目要求，请。说明要求。将有一些其他的方法来实现这一点。

# c++ - 在 Dll 资源中加载语言

> ID：12948670
> 
> 赞同：1
> 
> 时间：2012-10-18T06:47:04.333
> 
> 标签：c++, windows, resources, libraries, wtl

美好的一天，我在应用程序中更改语言时遇到问题。现在我有一个包含一些语言的库，一个使用 WTL::CAppModule 来处理资源我编写下一个加载 dll 的代码：

```
void Application::LoadResources()
{
    m_resModule = ::LoadLibraryEx(_T("Res.dll"), 0, 0);
    ATLASSERT(m_resModule);
    if (!m_resModule)
    {
        ATLTRACE(_T("Resources loading failed!\n"));
        return;
    }
    m_theModule.SetResourceInstance(*m_resModule);
} 
```

更改应用程序语言的功能包含下一个代码：

```
if(prim_lang)
    {
        if(Tools::SystemTools::IsVistaOrLater())
            SetThreadUILanguage(MAKELANGID(prim_lang, sub_lang));
        else
            SetThreadLocale(MAKELCID(MAKELANGID(prim_lang, sub_lang), SORT_DEFAULT));
    } 
```

一切正常，但在 windows xp 语言上通常不会改变。也许我错误地使用了函数 SetThreadLocale(MAKELCID(MAKELANGID(prim_lang, sub_lang), SORT_DEFAULT));？我必须如何构建多语言应用程序，可能需要将语言单独存储到不同的库中，而不是将所有语言保存在一个中，然后根据用户选择加载它？

# c++ - 尝试使用结构的双指针向客户端发送数据包时引发访问冲突。c++ 视觉工作室

> ID：12948675
> 
> 赞同：0
> 
> 时间：2012-10-18T06:47:58.407
> 
> 标签：c++, client-server, access-violation

客户端进程在尝试访问从服务器发送的数据包中的数据时收到“访问冲突读取位置 0x00000004”错误。

数据包被很好地接受并相应地处理。但是当我尝试访问数据包内的双指针时出现错误。

这是说的指针：

```
CGameObject **playerListImage; 
```

这是引发错误的地方：

```
void CObjectManager::SetPlayerList(CGameObject **updatedList)
{
  for(int i=0; i < m_nPlayerCount; i++)
      m_pPlayerList[i] = updatedList[i];
} 
```

我知道没有太多内容可以解决，但这里是基本的总结。

服务器向我发送了一个数据包。我相应地处理数据包。数据包中的所有数据都很好，除了双指针。

但是，我确实有一个客户端线程在与服务器线程相同的进程上运行，并且该客户端从不会对双指针有任何问题。

我假设问题与处于不同的进程有关。但我不知所措。

先感谢您。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T06:51:34.313

听起来问题在于您正在尝试“通过网络”发送指针。你不能这样做，一个进程中的指针在另一个进程中无效。

因为看起来您正在发送玩家列表。我认为您别无选择，只能分别发送每个玩家，而不是尝试向所有玩家发送指针。

# java-me - j2me 中的 Unicode 空白问题

> ID：12948676
> 
> 赞同：0
> 
> 时间：2012-10-18T06:48:09.433
> 
> 标签：java-me, jsr75

我在 j2me 中制作了一个应用程序，它使用 unicode 字符来显示我的语言。即乌尔都语。一切正常，期待它在字符串开头添加一些额外空格的问题，我的语言是从右到左，它在诺基亚手机上运行良好，因为我认为他们通过操作系统调整了此类问题，但在三星手机中少了一点它提出了这个问题的分辨率和功能。我试图删除空格，但徒劳无功。我已经在这篇文章中添加了图片来给你一个想法。字符串应该在中心而不是在中心。谢谢！它有点模糊，但这就是我得到的。

![红色圆圈表示空格](../Images/558ed3a6403c0ce2418c7880778986c3.png)

# sql - 使用 SMO 从 SQL 中编写单个对象的脚本

> ID：12948678
> 
> 赞同：1
> 
> 时间：2012-10-18T06:48:22.320
> 
> 标签：sql, sql-server, powershell, smo

对于我的工作，我经常需要从 Microsoft SQL 2008 服务器编写包含所有键、约束和触发器的表（基本上是重新创建表的完整脚本）。我还必须为过程和触发器执行此操作。我现在要做的是打开 SSMS 右键单击​​对象并选择脚本并选择将其脚本写入文件。因此，如果我有 3 个程序要做、10 个表和 1 个触发器，我最终会这样做 14 次。我想要的是一个powershell脚本，我可以将一个对象列表提供给它，然后它会使用SMO将每个脚本写入一个单独的文件。

谢谢您的帮助

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-18T08:55:35.957

这是我在必须编写数据库脚本时使用的 PowerShell 函数。它应该很容易修改，只为您需要的对象编写脚本。

```
function SQL-Script-Database
{
    <#
    .SYNOPSIS
    Script all database objects for the given database.

    .DESCRIPTION
    This  function scripts all database objects  (i.e.: tables,  views, stored
    procedures,  and user defined functions) for the specified database on the
    the given server\instance. It creates a subdirectory per object type under 
    the path specified.

    .PARAMETER savePath
    The root path where to save object definitions.

    .PARAMETER database
    The database to script (default = $global:DatabaseName)

    .PARAMETER DatabaseServer 
    The database server to be used (default: $global:DatabaseServer).

    .PARAMETER InstanceName 
    The instance name to be used (default: $global:InstanceName).

    .EXAMPLE
    SQL-Script-Database c:\temp AOIDB
    #>

    param (
        [parameter(Mandatory = $true)][string] $savePath,
        [parameter(Mandatory = $false)][string] $database = $global:DatabaseName,
        [parameter(Mandatory = $false)][string] $DatabaseServer = $global:DatabaseServer,
        [parameter(Mandatory = $false)][string] $InstanceName = $global:InstanceName
    )

    try
    {
        if (!$DatabaseServer -or !$InstanceName)
            { throw "`$DatabaseServer or `$InstanceName variable is not properly initialized" }

        $ServerInstance = SQL-Get-Server-Instance $DatabaseServer $InstanceName

        [System.Reflection.Assembly]::LoadWithPartialName("Microsoft.SqlServer.SMO") | Out-Null

        $s = New-Object Microsoft.SqlServer.Management.Smo.Server($ServerInstance)
        $db = $s.databases[$database]

        $objects = $db.Tables
        $objects += $db.Views
        $objects += $db.StoredProcedures
        $objects += $db.UserDefinedFunctions

        $scripter = New-Object ('Microsoft.SqlServer.Management.Smo.Scripter') ($s)

        $scripter.Options.AnsiFile = $true
        $scripter.Options.IncludeHeaders = $false
        $scripter.Options.ScriptOwner = $false
        $scripter.Options.AppendToFile = $false
        $scripter.Options.AllowSystemobjects = $false
        $scripter.Options.ScriptDrops = $false
        $scripter.Options.WithDependencies = $false
        $scripter.Options.SchemaQualify = $false
        $scripter.Options.SchemaQualifyForeignKeysReferences = $false
        $scripter.Options.ScriptBatchTerminator = $false

        $scripter.Options.Indexes = $true
        $scripter.Options.ClusteredIndexes = $true
        $scripter.Options.NonClusteredIndexes = $true
        $scripter.Options.NoCollation = $true

        $scripter.Options.DriAll = $true
        $scripter.Options.DriIncludeSystemNames = $false

        $scripter.Options.ToFileOnly = $true
        $scripter.Options.Permissions = $true

        foreach ($o in $objects | where {!($_.IsSystemObject)}) 
        {
            $typeFolder=$o.GetType().Name 

            if (!(Test-Path -Path "$savepath\$typeFolder")) 
                { New-Item -Type Directory -name "$typeFolder"-path "$savePath" | Out-Null }

            $file = $o -replace "\[|\]"
            $file = $file.Replace("dbo.", "")

            $scripter.Options.FileName = "$savePath\$typeFolder\$file.sql"
            $scripter.Script($o)
        }
    }

    catch
    {
        Util-Log-Error "`t`t$($MyInvocation.InvocationName): $_"
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-18T12:09:55.180

这是一个备份单个对象的脚本。只需将对象名称传递给函数：

[http://sev17.com/2012/04/backup-database-object/](http://sev17.com/2012/04/backup-database-object/)

# javascript - 谷歌地图 V3 JS 没有从 UIWebView iOS6（iPhone）发生“center_changed”

> ID：12948682
> 
> 赞同：6
> 
> 时间：2012-10-18T06:48:35.467
> 
> 标签：javascript, iphone, ios, google-maps-api-3, ios6-maps

我正在尝试显示`GoogleMap(Google maps V3 JS)`在`UIWebView(ios6)`.
但是，
当我在 webview 中移动地图时，没有发生火灾`center_changed`。
移动地图已完成，事件触发。
为什么？
...
有人告诉我页面：
[http](http://gmaps-samples-v3.googlecode.com/svn/trunk/map_events/map_events.html)
: //gmaps-samples-v3.googlecode.com/svn/trunk/map_events/map_events.html Mac' Safri 访问 -`center_changed`地图移动时开火。
iOS6 Safri 访问-移动地图完成，火`center_changed`。

...
我想在移动时知道地图的中心坐标。
请告诉我一个好方法。

```
`<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
<title>Google Maps JavaScript API v3 Example: iPhone Geolocation</title>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script type="text/javascript">
var map;
var moveCenterLat;
var moveCenterLng;

function initialize() {
    var myOptions = {
    zoom:reqZoomLevel,
    disableDefaultUI:true,
    draggable:true,
    keyboardShortcuts:false,
    scrollwheel:false,
    mapTypeId: google.maps.MapTypeId.ROADMAP
};
map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);

google.maps.event.addListener(map, 'center_changed', function(){
    var mce = map.getCenter();
    moveCenterLat = mce.lat();
    moveCenterLng = mce.lng();
});

}
</script>
</head>
<body style="margin:0px; padding:0px;" onload="initialize()">
<div id="map_canvas" style="width:100%; height:100%"></div>
</body>
</html>` 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-22T06:10:52.973

这是在 IOS 设备上的谷歌地图上不起作用的东西。拖动地图时会触发 center_changed，但在拖动完成之前中心不会更新。所以答案是，'不'，你不能这样做。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-15T03:47:41.997

听起来你想要这个`drag`事件，而不是`center_changed`. 来自[Google Maps Javascript API V3 参考](https://developers.google.com/maps/documentation/javascript/reference)：

> **drag**：当用户拖动地图时，此事件会重复触发。

像这样的东西：

```
google.maps.event.addListener(map, 'drag', function(){
    var mce = map.getCenter();
    moveCenterLat = mce.lat();
    moveCenterLng = mce.lng();
}); 
```

**编辑：**似乎地图边界在拖动时不再更新，因此虽然在拖动地图时拖动事件确实会触发，但两者`getCenter()`都会在拖动开始时返回地图的坐标。感谢@Zubair 指出这一点。

# r - 为什么 expand.grid 比 data.table 的 CJ 快？

> ID：12948686
> 
> 赞同：30
> 
> 时间：2012-10-18T06:48:52.917
> 
> 标签：r, data.table

```
> system.time(expand.grid(1:1000,1:10000))
   user  system elapsed 
   1.65    0.34    2.03 
> system.time(CJ(1:1000,1:10000))
   user  system elapsed 
   3.48    0.32    3.79 
```

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-08-30T21:19:31.587

感谢您报告此事。这已在 data.table 1.8.9 中修复。这是最新提交 (913) 的时序测试：

```
system.time(expand.grid(1:1000,1:10000))
# user system elapsed
# 1.420 0.552 1.987

system.time(CJ(1:1000,1:10000))
# user system elapsed
# 0.080 0.092 0.171 
```

来自[新闻](https://r-forge.r-project.org/scm/viewvc.php/pkg/NEWS?view=markup&root=datatable)：

> CJ() 在 1e6 行（例如）上快 90%，#4849。现在，输入在合并之前先排序，而不是在合并之后排序，并使用 rep.int 而不是 rep（感谢 Sean Garborg 的想法、代码和基准测试），并且仅在 is.unsorted() 时才排序，#2321。

还可以查看 NEWS 以了解其他值得注意的功能和错误修复；例如，也`CJ()`获得了一个新的`sorted`论点。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-18T07:04:04.880

Mnel 的猜测是正确的。CJ 返回一个 data.table，其中每一列都是一个键。

```
> DT <- CJ(1:100,1:100)
> key(DT)
[1] "V1" "V2" 
```

更公平的比较：

```
> system.time(CJ(1:1000,1:10000))
   user  system elapsed 
   3.40    0.25    3.73 
> system.time(data.table(expand.grid(1:1000,1:10000),key=c("Var1","Var2")))
   user  system elapsed 
   4.14    0.68    4.90 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-07-27T15:08:56.450

它慢的真正原因是它没有关注 CJ 的默认使用：当参数向量满足`anyDuplicated(vector) == F`.

也许其他人使用 CJ 的方式不同，但是对于独特的向量，还有改进的余地：

## 速度比较

```
Unit: milliseconds
                  expr        min         lq     median         uq        max neval
    dt1 <- CJ(a, b, c) 2394.38929 2434.75660 2439.14362 2444.66607 2686.41990   100
dt2 <- fastCJ(a, b, c)   18.83701   25.33339   25.51254   25.70966   27.60622   100
Output identical: TRUE 
```

## 代码

```
library(microbenchmark)
library(data.table)

repTE <- function(x, times, each) {
  rep.int(rep.int(x, times=rep.int(each, times=length(x))), times=times)
}
fastCJ <- function(...) {
  l <- lapply(list(...), sort.int, method="quick")
  seq_ct <- length(l)
  if (seq_ct > 1) {
    seq_lens <- vapply(l, length, numeric(1))
    tot_len <- prod(seq_lens)

    l <-lapply(
      seq_len(seq_ct),
      function(i) {
        if (i==1) {
          len <- seq_lens[1]
          rep.int(l[[1]], times=rep.int(tot_len/len, len))
        } else if (i < seq_ct) {
          pre_len <- prod(seq_lens[1:(i - 1)])
          repTE(l[[i]], times=pre_len, each=tot_len/pre_len/seq_lens[i])
        } else {
          rep.int(l[[seq_ct]], times=tot_len/seq_lens[seq_ct])
        }
      }
    )    
  } else {
    tot_len <- length(l[[1]])
  }

  setattr(l, "row.names", .set_row_names(tot_len))
  setattr(l, "class", c("data.table", "data.frame"))
  if (is.null(names <- names(seq_list))) {
    names <- vector("character", seq_ct)
  }
  if (any(tt <- names == "")) {
    names[tt] <- paste0("V", which(tt))
  }
  setattr(l, "names", names)
  data.table:::settruelength(l, 0L)
  l <- alloc.col(l)
  setattr(l, "sorted", names(l))

  return(l)
}

a <- factor(sample(1:1000, 1000))
b <- sample(letters, 26)
c <- runif(100)
print(microbenchmark( dt1 <- CJ(a, b, c), dt2 <- fastCJ(a, b, c)))
cat("Output identical:", identical(dt1, dt2)) 
```

# java - 如何用星号开头和结尾替换

> ID：12948688
> 
> 赞同：-1
> 
> 时间：2012-10-18T06:49:03.677
> 
> 标签：java, string, replace, case-insensitive

如何获得所需的输出？

输入字符串：

```
 " software Company(1920 of 2012)(sb.2)(sb.3) IBM on established (2009)" 
```

要搜索的词 -

```
"software company(1920 of 2012)" 
```

输出

```
*software Company(1920 of 2012)*(sb.2)(sb.3) IBM on established (2009) 
```

简而言之，我必须找到一个短语并将相同的短语替换为以星号 (*) 开头和结尾，忽略大小写和 MATCH EXACT WORLD i

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:57:07.220

您可以使用以下方法轻松完成此操作[`String#replaceAll()`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29)：

```
String original =  " software Company(1920 of 2012)(sb.2)(sb.3) IBM on established (2009)";
String subString = "software company(1920 of 2012)";
System.out.println("New String is: " + original.replaceAll("(?i)" + Pattern.quote(subString), "*$0*")); 
```

`(?i)`添加 以使其不区分大小写，并[`Pattern#quote()`](http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#quote%28java.lang.String%29)用于转义子字符串中的特殊正则表达式字符。

这打印：

```
New String is:  *software Company(1920 of 2012)*(sb.2)(sb.3) IBM on established (2009) 
```

# javascript - 如何使用javascript从字符串中提取两个字符串？

> ID：12948690
> 
> 赞同：0
> 
> 时间：2012-10-18T06:49:22.413
> 
> 标签：javascript

我有一个包含以下内容的字符串：

```
<form class="form" 
data-action="Create" 
data-entity="Topic" 
data-href="/Admin/Contents/JsonCreate" 
data-rowkey="007H" 
data-partitionkey="0006000" id="form"> 
```

如何从此字符串中获取 data-rowkey 和 data-partitionkey 的值并放入 javascript 变量中？

请注意我的数据不是页面的一部分。这仍然是字符串中的数据。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T06:59:38.323

让`formstring`是包含您的表单声明的字符串：

```
formstring.match(/data-rowkey=.+?"/i)[0].split('=')[1].replace(/"/g,''); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T06:52:53.360

如果您使用的是 jquery，您可以随时使用

```
var data = $('.form').attr('data-rowkey); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-18T06:52:57.940

```
$("#form").attr("data-rowkey") 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-18T07:14:28.723

```
var str = '<form class="form" data-action="Create" 
data-entity="Topic" data-href="/Admin/Contents/JsonCreate" 
data-rowkey="007H" data-partitionkey="0006000" id="form">';

var rowkey = str.match(/data-rowkey=(.+) data-partitionkey=(.+)/)[1];
var partition =str.match(/data-rowkey=(.+) data-partitionkey=(.+) id="form"/)[2]; 
```

**[小提琴演示](http://jsfiddle.net/BL9uq/1/)**

# aem - 如何在 CQ5 中添加自定义 Web 控制台选项卡

> ID：12948693
> 
> 赞同：0
> 
> 时间：2012-10-18T06:49:46.677
> 
> 标签：aem

我是 CQ5 的新手，我想就如何在我的 CQ 实例中添加新的自定义控制台寻求帮助。如果你们能给我一个演练或我可以使用的参考。我试图寻找答案，但我没有得到答案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T14:31:32.323

您可以通过将 /libs/cq/core/content、/libs/cq/core/components、/libs/wcm 等中的相关代码复制到对应的 /apps 节点来自定义登录和欢迎屏幕，只需与自定义普通内容处理组件的方式相同。CQ5 文档中的一些参考资料：

*   [http://dev.day.com/docs/en/cq/current/deploying/configuring_cq.html#Removing%20CQ%20Sign%20Out%20Links](http://dev.day.com/docs/en/cq/current/deploying/configuring_cq.html#Removing%20CQ%20Sign%20Out%20Links)
*   [http://dev.day.com/docs/en/cq/current/developing/customize_siteadmin.html](http://dev.day.com/docs/en/cq/current/developing/customize_siteadmin.html)

# c - 警告：从 C 中不兼容的指针类型返回

> ID：12948699
> 
> 赞同：3
> 
> 时间：2012-10-18T06:50:10.983
> 
> 标签：c, pointers, return

以下代码生成不兼容的指针类型错误和警告：控制到达文件名函数中非空函数的结尾：

```
#include <stdio.h>
#include <stdlib.h>    

int quit;
char *filename(int *);

int main ()
{   
    filename(&quit);   
    return 0;
}

char *filename(int *i1)
{
    char input[16];
    char *dum=(char*)malloc(16*sizeof(char));    
    if (dum==NULL){
        printf("Memory could not be allocated \n");
    }
    else {
        printf("Memory was allocated – remember to free\n \n");    
        *i1=1;    
        fputs("Input filename = ", stdout);
        fflush(stdout);
        fgets(input,sizeof(input),stdin);    
        printf("Filename = \"%s\"\n",input);   
        return i1;

    }
} 
```

我是新手，有人可以帮我解决这个错误吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T06:53:04.417

嗯，是？该函数被声明为 return `char *`，但您返回`i1`的是输入参数并具有 type `int *`。

您可能打算返回新分配的字符串`dum`，也可能用读取`fgets()`到单独字符数组的数据填充它`input`。在这种情况下，您需要将数据复制过来，然后返回`dum`.

直接读入会更简洁，更简单，通常更好`dum`：

```
fgets(dum, 16, stdin);

return dum; 
```

请注意，这会复制`malloc()`调用中缓冲区的大小，这是一种“代码气味”。这可以通过使其成为函数中的局部常量来改进：

```
char * filename(void)
{
  const size_t max_fn = 16;
  char *dum;

  if((dum = malloc(max_fn)) != NULL)
  {
    if(fgets(dum, max_fn, stdin) != dum)
    {
      free(dum);  /* Input failed, free the buffer and drop the pointer. */
      dum = NULL;
    }
  }
  return dum;
} 
```

我后面的代码还具有检查可能失败的函数的返回值的好处。内存分配 ( `malloc()`) 和 I/O ( `fgets()`) 都可能失败，因此您必须检查它们的返回值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T06:55:40.637

除了 unwind 所说的你应该在行后返回一些东西`printf("Memory could not be allocated \n");`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-18T06:57:50.637

好吧，首先，您的缩进令人震惊。重新缩进这可以更清楚地了解发生了什么：

```
char *filename(int *i1)
{
    char input[16];
    char *dum=(char*)malloc(16*sizeof(char));

    if (dum==NULL){
        printf("Memory could not be allocated \n");
    }
    else {
        printf("Memory was allocated – remember to free\n \n");

        *i1=1;

        fputs("Input filename = ", stdout);
        fflush(stdout);
        fgets(input,sizeof(input),stdin);

        printf("Filename = \"%s\"\n",input);

        return i1;

    }
} 
```

因此，在 if 的一条路径中，您返回 'i1'，它是一个 int 指针，它绝对不是 char 指针。

在另一半中，您只是直接跳到函数的末尾，它什么也不返回。

你很幸运，你的编译器会警告你这一点。很多，默认情况下，只是忽略它。

顺便说一句，您有内存泄漏。你为 dum 分配内存，但从不释放它。

# r - 如何在pdf上绘制汉字？

> ID：12948701
> 
> 赞同：1
> 
> 时间：2012-10-18T06:50:20.417
> 
> 标签：r, pdf, unicode, plot

我的问题与我之前的问题有关。

[如何在输入文件中绘制带有中文名称的条形图？](https://stackoverflow.com/questions/12892335/how-to-plot-bar-plot-with-chinese-names-in-input-file)

我现在需要在pdf上绘制汉字。

```
mydata = matrix( c( 2:6, c( 2,4,2,6,3 ) ), nrow= 2 )
mylabs = c( "木材", "表", "笔", "垃圾桶", "杯" )
barplot( mydata, beside=T, horiz= "T", names.arg= mylabs, las= 1, col= c( "red", "blue" ) )

pdf( "plotname.pdf" )
barplot( mydata, beside=T, horiz= "T", names.arg= mylabs, las= 1, col= c( "red", "blue" ) )
dev.off() 
```

但仅在 pdf 上....打印而不是中文名称。

问候

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T07:15:27.947

试试这个：

```
cairo_pdf( "plotname.pdf" )
barplot( mydata, beside=T, horiz= "T", names.arg= mylabs, las= 1, col= c( "red", "blue" ) )
dev.off() 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-18T07:47:01.427

我遇到了和你一样的问题（我在使用 R 2.14.2 和法语区域设置的 Mac 上）。
我设法通过在`pdf`调用中指定字体系列“GB1”（简体中文）来解决问题：

```
pdf( "plotname.pdf" , family="GB1")
barplot( mydata, beside=T, horiz= "T", names.arg= mylabs, las= 1, col= c( "red", "blue" ) )
dev.off() 
```

# android - 使用 Achartengine 动态更新图表

> ID：12948708
> 
> 赞同：4
> 
> 时间：2012-10-18T06:51:07.983
> 
> 标签：android, dynamic, achartengine

我希望在我的应用程序中有一个图表，用户可以在编辑文本中插入数据时对其进行更新。也就是说，我希望当用户在编辑文本中插入数据并使用发送按钮发送它们时，图表会更新并显示新数据。

我尝试将新数据插入到保存数据的数组列表中并调用重绘函数，但它不起作用，我不知道为什么。这是我的代码。有人能帮助我吗？

```
 public class ChartActivity extends Activity {
        private GraphicalView mChartView;

        XYMultipleSeriesRenderer renderer;
        List<double[]> x= new ArrayList<double[]>();
        List<double[]> values = new ArrayList<double[]>();
        String[] titles = new String[] { "spens1" };
        @Override
        protected void onCreate(Bundle savedInstanceState) {
            // TODO Auto-generated method stub
            super.onCreate(savedInstanceState);
            setContentView(R.layout.llayout);
            LinearLayout layout = (LinearLayout) findViewById(R.id.linearLayout2);

            x.add(new double[] { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 });
            // }

            values.add(new double[] { 9, 10, 11, 15, 19, 23, 26, 25, 22, 18, 13,
                            10 });
            int[] colors = new int[] { Color.BLUE };
            PointStyle[] styles = new PointStyle[] { PointStyle.CIRCLE };

            renderer = buildRenderer(colors, styles);
            int length = renderer.getSeriesRendererCount();
            for (int i = 0; i < length; i++) {
                ((XYSeriesRenderer) renderer.getSeriesRendererAt(i))
                        .setFillPoints(true);
            }
            setChartSettings(renderer, "Ranges", "time",
                    "distance", 0.5, 12.5, -10, 40, Color.LTGRAY, Color.LTGRAY);
            renderer.setXLabels(12);
            renderer.setYLabels(10);
            renderer.setShowGrid(true);
            renderer.setXLabelsAlign(Align.RIGHT);
            renderer.setYLabelsAlign(Align.RIGHT);
            renderer.setZoomButtonsVisible(true);
            renderer.setPanLimits(new double[] { -10, 20, -10, 40 });
            renderer.setZoomLimits(new double[] { -10, 20, -10, 40 });

            if (mChartView == null) {
                Log.d("Oncreate ", "if (mChartView == null)");
                mChartView = ChartFactory.getLineChartView(this, mDataset(titles,
                        x, values), renderer);
                layout.addView(mChartView, new LayoutParams(
                        LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT));

            } else {
                mChartView.repaint();
                Log.d("Oncreate ", "if (mChartView != null)");
            }
        }

        private final Handler mHandler = new Handler();
        public void sendMessageChart(View view) {

            mHandler.post(mUpdateUITimerTask);
        }

        private final Runnable mUpdateUITimerTask = new Runnable() {
             public void run() {

                EditText editText = (EditText) findViewById(R.id.edit_message_chart);
                 String message = editText.getText().toString();
                 double new_y = Double.parseDouble(message);
                 double[] x_val = new double[]{x.size()+1};
                 x.add(x.size()+1,x_val);
                double[] y_val = new double[]{new_y};
                 values.add(values.size()+1,y_val);
                mChartView = .repaint();

             }

        };

        private void setChartSettings(XYMultipleSeriesRenderer renderer3,
                String title, String xTitle, String yTitle, double xMin,
                double xMax, double yMin, double yMax, int axesColor,
                int labelsColor) {
            // TODO Auto-generated method stub

            renderer3.setChartTitle(title);
            renderer3.setXTitle(xTitle);
            renderer3.setYTitle(yTitle);
            renderer3.setXAxisMin(xMin);
            renderer3.setXAxisMax(xMax);
            renderer3.setYAxisMin(yMin);
            renderer3.setYAxisMax(yMax);
            renderer3.setAxesColor(axesColor);
            renderer3.setLabelsColor(labelsColor);

        }

        private XYMultipleSeriesRenderer buildRenderer(int[] colors,
                PointStyle[] styles) {
            // TODO Auto-generated method stub
            XYMultipleSeriesRenderer renderer = new XYMultipleSeriesRenderer();
            setRenderer(renderer, colors, styles);
            return renderer;
        }

        private void setRenderer(XYMultipleSeriesRenderer renderer2, int[] colors,
                PointStyle[] styles) {
            // TODO Auto-generated method stub
            renderer2.setAxisTitleTextSize(16);
            renderer2.setChartTitleTextSize(20);
            renderer2.setLabelsTextSize(15);
            renderer2.setLegendTextSize(15);
            renderer2.setPointSize(5f);
            renderer2.setMargins(new int[] { 20, 30, 15, 20 });
            int length = colors.length;
            for (int i = 0; i < length; i++) {
                XYSeriesRenderer r = new XYSeriesRenderer();
                r.setColor(colors[i]);
                r.setPointStyle(styles[i]);
                renderer2.addSeriesRenderer(r);
            }
        }

        private XYMultipleSeriesDataset mDataset(String[] titles,
                List<double[]> xValues, List<double[]> yValues) {
            // TODO Auto-generated method stub
            XYMultipleSeriesDataset dataset1 = new XYMultipleSeriesDataset();
            addXYSeries(dataset1, titles, xValues, yValues, 0);
            return dataset1;
        }

        private void addXYSeries(XYMultipleSeriesDataset dataset, String[] titles,
                List<double[]> xValues, List<double[]> yValues, int scale) {
            // TODO Auto-generated method stub

            int length = titles.length;
            for (int i = 0; i < length; i++) {
                XYSeries series = new XYSeries(titles[i], scale);
                double[] xV = xValues.get(i);
                double[] yV = yValues.get(i);
                int seriesLength = xV.length;
                for (int k = 0; k < seriesLength; k++) {
                    series.add(xV[k], yV[k]);
                }
                dataset.addSeries(series);
            }

        }

    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T10:08:46.803

新数据需要添加到 中`XYSeries`，而不是随机添加`ArrayList`。请参阅[此](http://code.google.com/p/achartengine/source/browse/trunk/achartengine/demo/org/achartengine/chartdemo/demo/chart/XYChartBuilder.java)代码，它完全符合您的需要。

# iphone - 带有 JSON 响应的 TextField 自动完成

> ID：12948710
> 
> 赞同：1
> 
> 时间：2012-10-18T06:51:23.650
> 
> 标签：iphone, ios, xcode, json, autocomplete

**我想要的是 ：**

我想在我的应用程序中使用文本字段的自动完成。由于我的数据来自 Web 服务，我想使用 JSON 响应执行“自动完成”。

**我知道的 ：**

我知道首先我必须从 Web 服务中获取数据。然后我需要解析它并用解析后的数据填充数组，然后我可以使用该数组来执行自动完成。

**问题 ：**

我不知道如何发送请求以获取用户在文本字段中键入的每个“前缀”的 JSON 数据（意味着我在键入期间需要 JSON 数据）。我知道如何独立执行“JSON 解析”和“文本字段的自动完成”，但不知道“带有 JSON 响应的文本字段自动完成”。我尝试了很多来找到关于这个的答案，但我失败了。所以请帮助我...

我正在使用[doautocompletetextfield](https://www.cocoacontrols.com/controls/doautocompletetextfield)来执行**“文本字段自动完成”**。

对此问题的更好建议将不胜感激。

**任何解决方案？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T07:41:44.377

您可以像在 api 示例中那样使用线性搜索，也可以使用 NSPredicate 在您的 autoCompleteArray 中进行快速搜索。

根据您的问题，您将首先获取 json 数据，然后您需要将 json 中的相关数据保存到某个数组中，然后您可以使用此 api 自动完成文本字段中的文本。

但是我对您的这种说法感到困惑：“我不知道如何发送请求以获取用户在文本字段中键入的每个“前缀”的 JSON 数据。1）你想在打字时从网络服务获取json数据吗？2) 或者您想在输入时从 json 字典中获取数据？

如果您想使用选项（1），我认为这将是解决问题的坏方法。如果您想使用选项 (2)，那么您需要解析 json 并提取您感兴趣的数据并将其保存在一个数组中。然后根据该数组的内容进行自动完成。

# java - 如何使用正则表达式解析属性

> ID：12948712
> 
> 赞同：2
> 
> 时间：2012-10-18T06:51:26.123
> 
> 标签：java, regex, properties-file

我有一个属性文件（myfile.prop），其属性如下：

```
name=sara
address=${this.address}
this.address=Bangalore
url=${abc}/${cde}
abc=lolkata
cde=florida
nested=${${this.work}.file}
this.work=engg
engg.file=mywork 
```

我需要解析这些属性，以便每次获得解析值。

它的代码是：

```
static String resolve(String str, Properties props, boolean isResolved)
   {
      if (props == null || str == null)
      {
         return str;
      }

      String expandedString = str;
      String macroPattern   = "(\\$\\{)([a-z.\\-A-Z0-9_]*)(\\})";   
      Pattern pattern       = Pattern.compile(macroPattern);
      Matcher m             = null;
      boolean pendingItems  = true;

      do
      {
         m = pattern.matcher(expandedString);
         pendingItems = false;
         String formerStr = expandedString;

         while (m.find())
         {
            pendingItems   = true;
            String propVal = (String)props.get(m.group(2));
            if (propVal == null)
            {
               propVal = m.group(0);
            }
            expandedString = expandedString.replace(m.group(0), propVal);

            if (!fullyResolve)
            {
               return expandedString;
            }
         }
         m.reset();

         /* if the string did not change at all, it is a sign that this
          * string cannot be resolved, just return */
         if (expandedString.equals(formerStr))
         {
            return expandedString;
         }
      }
      while (pendingItems);

      return expandedString.trim();
   } 
```

但它所做的只是返回值....有人可以告诉我它有什么问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T07:06:39.687

看看来自 Apache Commons Lang的[StrSubstitutor 。](http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/text/StrSubstitutor.html)

顺便说一句，我猜，使用正则表达式并不是最有效的。

# ruby-on-rails - 在 Ubuntu/Monit 中将 Mailman 脚本作为服务运行

> ID：12948719
> 
> 赞同：1
> 
> 时间：2012-10-18T06:51:55.520
> 
> 标签：ruby-on-rails, ruby, ubuntu, monit

我在我的 Rails 应用程序中设置了一个邮递员脚本来下载和处理电子邮件。这工作正常。

该脚本位于 rails 应用程序的脚本目录中。

我需要这个脚本在部署时运行，通过monit（我用于其他服务）。

我不确定如何配置 monit 来运行这个特定的脚本（因为它没有启动/停止功能等）。

在服务器上使用 Ubuntu 12.04。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-11-16T20:10:25.667

相当过时的问题，但如果有人正在寻找相同的问题 - 您可以使用 gem [Daemons](https://github.com/thuehlinger/daemons)并创建一个包装脚本，例如：

```
#!/usr/bin/env ruby
require 'daemons'

Daemons.run('script/mailman_server') 
```

然后你得到`start`和`stop`命令并且可以做：

```
bundle exec script/mailman_daemon start 
```

和

```
bundle exec script/mailman_daemon stop 
```

# javascript - 执行 if 和 else 块的 JavaScript 代码

> ID：12948722
> 
> 赞同：0
> 
> 时间：2012-10-18T06:52:00.907
> 
> 标签：javascript, toggle, jquery

我正在尝试实现一种向下钻取列表的功能。

代码运行良好`.toggle()`，但我的向下钻取列表项来自 AJAX 请求，因此我尝试在`.live('click')`事件上编写一个基本的自定义切换。

现在的问题是代码同时在`if`和`else`块中执行。

我的javascript代码如下：

```
$(document).ready(function(){
    var $drillDownListItem = $("li.listItem");
    var flag = 0;

    var options = {
        $this: ""
    };

    $drillDownListItem.live('click', function() {
        options.$this = $(this);
        if(!$(this).children("ul").is(":visible"))
        {
            showChildren(options);
        }
        else
        { 
            hideChildren(options);
        }
    });

    $drillDownListItem.each(function() {
        if ($(this).children("ul").length > 0) {
            $(this).css({
                "padding-bottom": "0px"
            });
            $(this).children("ul").hide();
            $(this).children("span:first-child").css({
                "padding-bottom": "11px"
            });
        }
    });
});

var showChildren = function(options) {
    if (options.$this.children("ul").length > 0) {
        options.$this.css("background-image", "url(./images/dropDownDown.png)");
        options.$this.children("ul").slideDown(500);
        //options.$this.children("span:first-child").css({"padding-bottom": "6px", "float": "left"});
    }
}
var hideChildren = function(options) {
    if (options.$this.children("ul").length > 0) {
        options.$this.css("background-image", "url(./images/sideArrow.png)");
        options.$this.children("ul").slideUp(500);
        //options.$this.children("span:first-child").css({"padding-bottom": "6px", "float": "left"});
    }
} 
```

不知道为什么会发生这种情况，但是在调试时，

一旦`if`块 ( `showChildren()`) 执行完毕，控件就会跳转到`else`块 ( `hideChildren()`) 中，并且 的值`$(this)`会更改为父级。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T07:14:07.340

根据您的描述，听起来您的点击事件正在冒泡。返回 false 以防止这种情况发生：

```
$drillDownListItem.live('click', function() {
    options.$this = $(this);
    if(!$(this).children("ul").is(":visible"))
    {
        showChildren(options);
    }
    else
    { 
        hideChildren(options);
    }
    return false;
}); 
```

# java - maven构建目标需要指定

> ID：12948723
> 
> 赞同：26
> 
> 时间：2012-10-18T06:52:03.990
> 
> 标签：java, eclipse, maven

我提取了一个示例 Struts 2 项目，它具有 maven pom.xml 文件。我已经为 Eclipse 安装了 m2e 插件。但是当我右键单击 pom.xml 文件并选择 Maven Build 时，它给了我以下错误。

> 没有为此构建指定目标。您必须以 : 或 :[:]: 格式指定有效的生命周期阶段或目标。可用的生命周期阶段有：验证、初始化、生成源、流程源、生成资源、流程资源、编译、流程类、生成测试源、流程测试源、生成测试资源、流程-test-resources、test-compile、process-test-classes、test、prepare-package、package、pre-integration-test、integration-test、post-integration-test、verify、install、deploy、pre-site、site ，站点后，站点部署，预清理，清理，清理后。-> [帮助 1]

当我单击 Maven 构建时，我需要在 m2e 窗口中指定什么目标？

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2012-10-18T06:55:24.707

您可以使用 m2e 构建一个 maven 项目，方法是右键单击您的项目或您的`.pom`，选择`Run as`然后`Maven build...`写入`package`目标字段并单击`Run`。

相应的键盘快捷键是`Alt+Ctrl+X`, then `m`- 它将带您进入同一个对话框。

结果可能是项目子文件夹中的一个`.war`文件`target`。

* * *

## 回答 #2

> 赞同：27
> 
> 时间：2012-10-18T08:31:42.047

在您的 Eclipse 中，运行--> 运行配置--> 左侧您将看到“Maven Build”。右侧请在目标选项卡中提及您的目标。例如：**-Dmaven.tomcat.port=8080 tomcat:run**

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2015-08-16T13:42:28.207

在对话框（选项卡）上的`goal`字段中，您可以输入以下任何内容：`Run Configurations``Main``Maven's phases`

* * *

1.  **验证**- 验证项目是否正确以及所有必要的信息都可用
2.  **compile——**编译项目的源代码
3.  **测试**——使用合适的单元测试框架测试编译的源代码。这些测试不应该要求将代码打包或部署包 - 获取已编译的代码并将其打包成可分发的格式，例如 JAR。
4.  **集成测试**- 如有必要，将包处理并部署到可以运行集成测试的环境中
5.  **验证**- 运行任何检查以验证包是否有效并符合质量标准
6.  **install** – 将包安装到本地存储库中，用作本地其他项目的依赖项
7.  **部署**——在集成或发布环境中完成，将最终包复制到远程存储库以与其他开发人员和项目共享。

* * *

来自：[Maven Build 中的未知生命周期阶段错误](http://www.javabeat.net/maven-lifecycle-phase-error/)。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-09-22T23:51:20.050

在测试了上述解决方案后，我找到了正确的解决方案。

(1) 确保环境变量设置正确（M2_HOME=C:\Program Files\Apache Software Foundation\apache-maven-3.3.3

M2=%M2_HOME%\bin)( [https://www.tutorialspoint.com/maven/maven_environment_setup.htm](https://www.tutorialspoint.com/maven/maven_environment_setup.htm) )

(2) 以管理员身份打开命令提示符

(3) 将目录更改为您的工作区（cd/workspace/project 文件夹

(4) 最后（自定义）

mvn archetype:generate -DgroupId=fr.myGroupId -DartifactId=MyApplication -Dpackagename=fr.myGroupId -DarchetypeArtifactId=maven-archetype-quickstart 。

# jquery - 当 .map() 中的 id 时删除 tr

> ID：12948729
> 
> 赞同：0
> 
> 时间：2012-10-18T06:52:27.727
> 
> 标签：jquery, html

我有以下 HTML

```
<table>
<tr class="1">
<td>value</td>
</tr>
<tr class="2">
<td>value</td>
</tr>
<tr class="3">
<td>value</td>
</tr>
<tr class="4">
<td>value</td>
</tr>
<tr class="5">
<td>value</td>
</tr>
<tr class="6">
<td>value</td>
</tr>
</table> 
```

每个`<tr>`都有一个复选框，当我在`tr.2`、`tr.4`、`tr.5`和`tr.6`end 中选中 4 个复选框并单击删除按钮时，我将得到 checkbox:checked in`.map()`值 2、4、5、6。然后我将删除`tr.2`, `tr.4`, `tr.5`, 和`tr.6`. 当我使用`.each()`时，它不起作用。

请帮帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T06:55:39.297

```
$(function() {
    $('.delete-button').on('click', function(){
        $('tr checkbox').filter(':checked').parents('tr').remove();
    });
}); 
```

# cross-domain - Facebook 喜欢实现登录到各种网站

> ID：12948734
> 
> 赞同：0
> 
> 时间：2012-10-18T06:52:46.090
> 
> 标签：cross-domain, facebook-javascript-sdk

我们有大量的网站需要实现跨域登录，即。如果有人使用凭据登录到站点 X，则当用户导航到站点 A 或 B 时，他应该自动登录到站点 A 或 B。

此外，我们希望提供一个通用的 UI/Javascript，所有站点都可以将其放在其 HTML 文件中，并且它将在内部调用一个通用 API，并以某种方式将用户登录到站点 A 或 B。

它类似于 Facebook 所拥有的。如果一个人登录 facebook 并访问一个站点，如果他已授予该站点的权限，他将自动登录。

此外，每个具有 facebook 社交插件的站点上都存在相同的 facebook UI，并且包括 facebook 插件的站点不必从其自己的服务器对 facebook 进行任何调用（我猜该调用是从浏览器进行的）。

我看到对 facebook 的调用包含该应用程序使用的 API 密钥，但由于 API 密钥是可见的，它不再是秘密。FB如何防止通过相同的API密钥对其服务器进行随机DOS攻击，如果用户随机更改他的IP地址？

假设我们尝试实现与 X 相关联的所有网站 A、B 的相似之处，因为 API 密钥已暴露（就像在 FB 的情况下一样），我怎样才能阻止不同的流氓网站，比如 ABC.com 使用相同的 API 密钥，并且就像它是网络的一部分一样。

我猜因为调用来自浏览器，并且来自 javascript，所以 API 密钥总是公开的。调用是否必须始终来自服务器，以便 API 密钥保密？

就我而言，各种网络网站（如 A、B 等）的用户界面如何将某些内容传递给 X 的服务器，以便服务器 X 可以识别呼叫确实来自可靠来源并且没有被冒充？

谢谢

图科

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T09:28:03.343

> 我看到对 facebook 的调用包含该应用程序使用的 API 密钥，但由于 API 密钥是可见的，它不再是秘密。

从来没有人说它是。

> FB如何防止通过相同的API密钥对其服务器进行随机DOS攻击，如果用户随机更改他的IP地址？

对于某些操作（例如登录），应用程序与应用程序设置中设置的某些域相关联。如果我的应用程序允许用户从 example.com 通过 Facebook 登录，则登录将不起作用。*net*获取我的应用程序 ID 并尝试让用户从他们的域连接到它。

> 我猜因为调用来自浏览器，并且来自 javascript，所以 API 密钥总是公开的。调用是否必须始终来自服务器，以便 API 密钥保密？

*使用应用程序密钥*的调用应始终仅在服务器端进行。

> 就我而言，各种网络网站（如 A、B 等）的用户界面如何将某些内容传递给 X 的服务器，以便服务器 X 可以识别呼叫确实来自可靠来源并且没有被冒充？

Facebook JS SDK 例如检查它当前在哪个域上运行。

由于那是客户端并且可以被操纵，因此还有其他安全措施。Fe，Facebook 只会将客户端*重定向*到特定域下的地址，并在服务器端通信中为您提供签名请求，可以使用您的应用程序密码进行验证。

# javascript - A-tag 中的触发 Click 事件

> ID：12948736
> 
> 赞同：2
> 
> 时间：2012-10-18T06:52:52.470
> 
> 标签：javascript, jquery, events, click, anchor

> **可能重复：**
> [如果我还没有使用 bind 或 click 将事件处理程序绑定到它，我可以调用 jquery click() 来跟踪 <a> 链接吗？](https://stackoverflow.com/questions/1694595/can-i-call-jquery-click-to-follow-an-a-link-if-i-havent-bound-an-event-hand)

我写了以下代码。

```
<div style="background-color:orange">Click me to open the link
    <br>
    <a target="_blank" href="http://example.com">Link</a>
</div>

<script>
    jQuery('div').click(function(){
        jQuery('a').click();
    });

    jQuery('a').click(function(e){
       alert('It came here!');           
       e.stopPropagation();
       return true;   
    });
</script> 
```

但是链接打不开。

更新：将目标属性添加到 A 标记。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T07:37:24.910

```
<div style="background-color:orange">Click me to open the link
    <br>
    <a id="b" href="http://example.com">Link</a>
</div>

jQuery('div').click(function(){
    document.getElementById('b').click();
}); 
```

小提琴：http: [//jsfiddle.net/zZqQs/4/](http://jsfiddle.net/zZqQs/4/)

或者：

```
jQuery('a')[0].click(); 
```

似乎 jquery click 和 raw JS click 彼此不同。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T06:57:18.337

首先，您使用的选择器将匹配页面上的**所有** `<a>`标签。也许你想给你`<a>`一个 id 属性，这样你就可以定位一个特定的元素......

```
<a href="foobar.html" id="foo">foo</a> 
```

您也可以尝试使用该`trigger`功能来模拟对元素的点击 -

```
$('#foo').trigger('click'); 
```

最后要提到的一件事是您实际上并没有调用该方法来打开链接。您可以尝试使用此代码 -

```
jQuery('a').click(function(e){
   alert('It came here!');
   window.open($(this).attr('href'));    
   return false;   
}); 
```

* * *

参考 -

*   [`trigger()`](http://api.jquery.com/trigger/)

> **描述：**执行所有附加到给定事件类型的匹配元素的处理程序和行为。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-18T07:05:35.500

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js" type="text/javascript"></script>    
<div style="background-color:orange">Click me to open the link
    <br>
    <a href="http://example.com" target="_blank">Link</a>
</div>

<script>
    $('div').click(function () {
        $('a').click();
    });

    $('a').click(function (e) {

        alert('It came here!');
        e.stopPropagation();
        window.location = $("a").attr("href");
        return true;
    });
</script> 
```

# jquery - 使用 Ajax 填充表格的列

> ID：12948747
> 
> 赞同：0
> 
> 时间：2012-10-18T06:54:12.243
> 
> 标签：jquery, html, ajax

我有一个带有特定标签和样式的 html 表格布局。我需要使用每行/元素的特定元素“id”更新我的表，并使用**ajax**填充数据。需要解决方案/建议。

```
 <table border="0" style="margin-left:2%; margin-top:2%; ">
            <tr>
            <td align="left">Serial Number</td><td id="serialno"></td>
            </tr>
            <tr>
            <td>MaterialDesign</td><td></td>
            </tr>
            <tr>
            <td>TypeCode</td><td></td>
            </tr>
   </table> 
```

我如何使用 ajax 获取数据并放入“serialno”。正如我尝试过的 ajax 一样，它可以动态地创建表，但如果它是预先设计的，则无法获得放置数据的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T07:00:01.913

你可以用这个`$("table #id").text("Your text");`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T07:06:23.973

好吧，我会给你两个答案，但我个人喜欢第一个。

**第一个解决方案：**

许多插件可用于执行此类任务。我个人最喜欢的是：**[jTable](http://www.jtable.org/)**

**“jTable 是一个 jQuery 插件，用于创建基于 AJAX 的 CRUD 表，无需编码 HTML 或 Javascript。”**

**第二种解决方案：**

假设我们有一个这样的表结构：

```
<table cellspacing="1" class="tablesorter">             
    <thead>> 
        <tr> 
            <th>first name</th> 
            <th>last name</th> 
            <th>age</th> 
            <th>total</th> 
            <th>discount</th> 
            <th>date</th> 
        </tr> 
    </thead> 
    <tbody> 
        <tr> 
            <td>peter</td> 
            <td>parker</td> 
            <td>28</td> 
            <td>$9.99</td> 
            <td>20%</td> 
            <td>jul 6, 2006 8:14 am</td> 
        </tr> 
        <tr> 
            <td>john</td> 
            <td>hood</td> 
            <td>33</td> 
            <td>$19.99</td> 
            <td>25%</td> 
            <td>dec 10, 2002 5:14 am</td> 
        </tr> 
        <tr> 
            <td>clark</td> 
            <td>kent</td> 
            <td>18</td> 
            <td>$15.89</td> 
            <td>44%</td> 
            <td>jan 12, 2003 11:14 am</td> 
        </tr> 
        <tr> 
            <td>bruce</td> 
            <td>almighty</td> 
            <td>45</td> 
            <td>$153.19</td> 
            <td>44%</td> 
            <td>jan 18, 2001 9:12 am</td> 
        </tr> 
        <tr> 
            <td>bruce</td> 
            <td>evans</td> 
            <td>22</td> 
            <td>$13.19</td> 
            <td>11%</td> 
            <td>jan 18, 2007 9:12 am</td> 
        </tr> 
    </tbody> 
</table><a href="#" id="ajax-append">append new table data</a><br><br> 
```

现在我们可以这样做来获取我们想要的数据：

```
 $(document).ready(function() { 
    $("table").tablesorter(); 
    $("#ajax-append").click(function() { 
         $.get("assets/ajax-content.html", function(html) { 
             // append the "ajax'd" data to the table body 
             $("table tbody").append(html); 
            // let the plugin know that we made a update 
            $("table").trigger("update"); 
            // set sorting column and direction, this will sort on the first and third column 
            var sorting = [[2,1],[0,0]]; 
            // sort on the first column 
            $("table").trigger("sorton",[sorting]); 
        }); 
        return false; 
    }); 
}); 
```

这是一个表格排序器应用程序，我已经应用了几次，但 jTable 插件仍然是完成这项工作的最佳解决方案。

# validation - 我们如何在 joomla 2.5 的表单验证中显示错误消息，就像使用警报之类的工具提示进行电子邮件验证一样？

> ID：12948748
> 
> 赞同：0
> 
> 时间：2012-10-18T06:54:14.617
> 
> 标签：validation, joomla

我们如何以与电子邮件验证等相同的方式在 joomla 2.5 上显示表单验证错误消息？用工具提示？

我已经包括

```
JHtml::_('behavior.formvalidation');
JHtml::_('behavior.tooltip'); 
```

我有一个脚本

```
$(document).ready(function () {
      var msg = new Array();
                document.formvalidator.setHandler('phone', function (value) {  return (value != '123'); }     );
        }); 
```

我的输入文件就像

```
<input name="jform[contact_phone]" type="text" id="jform_contact_phone"  class='validate-phone'/> 
```

我正在获取用于电子邮件字段验证和所需字段验证的工具提示，但我不能包含数字验证，并且我无法为我的自定义电话号码字段实现工具提示消息。

我正在使用 joomla 2.5

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T10:25:00.400

请在此处查看自定义验证

[http://docs.joomla.org/Client-side_form_validation](http://docs.joomla.org/Client-side_form_validation)

您必须添加如下：

```
 window.addEvent('domready', function(){
   document.formvalidator.setHandler('birth', function(value) {
      regex=/^\d{4}-\d{2}-\d{2}$/;
      return regex.test(value);
   });
}); 
```

如果它仅用于数字单击下面的 URL 并尝试此操作：

[在 joomla 2.5 中验证电话号码](https://stackoverflow.com/questions/12947785/validate-phone-number-in-joomla-2-5)

# css - 无法将外部 css 链接到 XHTML stict 文档

> ID：12948751
> 
> 赞同：0
> 
> 时间：2012-10-18T06:54:37.737
> 
> 标签：css, xhtml, aptana3, xhtml-1.0-strict

我刚开始使用 Aptana Studio 3。我在学校用过 Aptana 2，效果很好。但是在 Studio 3 中，我无法让我的外部 css 链接到我的 XHTML 文档。我试过使用绝对路径，代码的注释部分。使用 HTML 传统文档类型的 css 链接到文档就好了。这是我的代码：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

        <title>We Rent Checkers</title>
        <link rel="stylesheet" type="text/css" href="C:\Documents and Settings\Owner\My Documents\Aptana Studio 3 

Workspace\We Rent Checkers\rent_checkers.css" media="screen" charset="UTF-8" /> 
            <!--<style type="text/css" media="screen">
                @import url(rent_rheckers.css);         
            </style> -->
        </head> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T08:37:17.817

如果它们位于同一个文件夹中，请尝试指向您的 CSS，它相对于您的 XHTML 所在的位置：

```
<link rel="stylesheet" type="text/css" href="rent_checkers.css" media="screen" charset="UTF-8" /> 
```

永远不要使用像 c:\ 这样的文件位置

如果它位于 XHTML 旁边的文件夹（如“css”）中：

```
<link rel="stylesheet" type="text/css" href="css/rent_checkers.css" media="screen" charset="UTF-8" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-26T10:20:31.043

在此之前，请转到您的 html 文件所在的文件夹，然后在同一文件夹中创建名为“css”的文件夹。这就是人们相互链接外部文件的方式。您不需要提供文件的确切路径/完整路径。相关路径效果更好，因为当您将其上传到在线服务器上时，它可以工作，回复更多问题和澄清。

# javascript - 如何在母版页和站点页面之间进行通信？

> ID：12948753
> 
> 赞同：3
> 
> 时间：2012-10-18T06:54:42.730
> 
> 标签：javascript, sharepoint-2010

我有一个 SharePoint 母版页，在母版页中，我尝试从列表中检索一些数据，并将它们显示在使用我之前提到的母版页的网站页面中。

但问题是，当我尝试将在母版页中检索到的数据存储到隐藏字段时，我无法获取最新更新的数据。我没有使用隐藏字段，而是尝试使用 cookie（一种 jquery 插件）来存储数据并在站点页面中获取它们。但我也无法获得最新数据。

最后，我发现了一个问题：站点页面的`document.ready()`方法是在母版页的方法之前调用的`document.ready()`，所以即使页面回发，我总是得到旧数据。

我可以有更好的方式在母版页和站点页面之间进行通信吗？

或者是否有任何方法可以确保在站点页面的 document.ready() 之前调用母版页的 document.ready() 方法？

我找到了一种解决这个问题的丑陋方法：我使用`setTimeout("getTabTips()",1000);`使网站页面`document.ready()`在母版页之后调用。但实际上，它并没有那么完美！我真的很想为这个问题找到一个漂亮的答案，请帮帮我？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T14:45:56.610

我遇到了类似的问题，经过一番研究，我得出了同样的结论：使用 cookie。我将它包装在一个名为`LocalConnection`：[https ://github.com/jeremyharris/local_connection 的小类中](https://github.com/jeremyharris/local_connection)

LocalConnection 使用回调，所以它的语法应该很熟悉。由于它使用回调，您甚至可以设置一个回调来告诉主页面其他页面已准备好。

**掌握**

```
var c = new LocalConnection({
  name: 'mycookiename'
});
// start listening
c.listen();
c.addCallback('ready', function(pageId) {
  // sub page ready
}); 
```

**子页面**

```
var c = new LocalConnection({
  name: 'mycookiename'
});
// start listening
c.listen();
$(document).ready(function() {
  c.send('ready', 'somePageId');
}); 
```

使用 LocalConnection 这不是完全必要的。当接收者读取 cookie 时，事件会排队并触发，因此 Master 可以“触发事件”，并且接收者页面会在它们打开时触发它们。

# ios - 调整 mkmapview 区域

> ID：12948754
> 
> 赞同：0
> 
> 时间：2012-10-18T06:54:53.933
> 
> 标签：ios, mkmapview

我正在做的事情看起来如此简单，以至于我无法相信它不起作用，而且我无法弄清楚我做错了什么。

基本上，我正在加载一个 MKMapView，它工作得很好；我想要的所有功能，除了一个。我想让它默认为比它更大的区域。为此，我做了以下工作：

```
MKCoordinateRegion biggerMap = MKCoordinateRegionMake(self.MyMap.centerCoordinate, MKCoordinateSpanMake(80.0, 80.0));
[self.MyMap setRegion:biggerMap animated:YES]; 
```

我真的不希望每个方向都有 80 度，但我想变大，以确保内置默认值的变化足以引起注意。不幸的是，没有任何改变。我把这段代码和所有设置 MKMapView 其他参数的代码放在一起，它们做的事情是正确的，所以我知道这个块正在执行......

以防万一我的区域没有很好地对齐，我尝试了第二行的第二个版本：

```
[self.MyMap setRegion:[self.MyMap regionThatFits:biggerMap] animated:YES]; 
```

但这并没有解决问题。

该文档使更改区域似乎没有那么多，所以我很难过。有人对我可能做错了什么有任何想法吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T08:40:11.920

这就是我更改区域的方法：

```
MKCoordinateRegion myRegion;

myRegion.center.latitude = -31.952745;
myRegion.center.longitude = 115.857697;

// this sets the zoom level, a smaller value like 0.02
// zooms in, a larger value like 80.0 zooms out
myRegion.span.latitudeDelta = 0.02;
myRegion.span.longitudeDelta = 0.02;

[myMap setRegion:myRegion animated:YES]; 
```

对你起作用吗？

# ruby - 对这个红宝石片段的行为感到困惑

> ID：12948755
> 
> 赞同：0
> 
> 时间：2012-10-18T06:54:57.130
> 
> 标签：ruby

很抱歉问这个问题，但我真的需要完成这件事。我希望能够传入一个字符串并去掉 stop_words。我有以下内容：

```
class Query
  def self.normalize term
    stop_words=["a","big","array"]
    term.downcase!
    legit=[]
    if !stop_words.include?(term)
      legit << term
    end
    return legit
  end

  def self.check_parts term
    term_parts=term.split(' ')
    tmp_part=[]
    term_parts.each do |part|
      t=self.normalize part
      tmp_part << t
    end  
    return tmp_part  
  end
end 
```

我认为这只会返回不在 stop_words 列表中的术语，但我会返回一个空数组或传入的术语数组。像这样：

```
ruby-1.9.2-p290 :146 > Query.check_parts "here Is my Char"
 => [[], [], [], ["char"]] 
ruby-1.9.2-p290 :147 > 
```

我究竟做错了什么？

提前谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T07:01:45.300

为什么要将结果作为数组我不知道但

```
term_parts=term.split(' ')
term_parts.reject { |part| stop_words.include?(part) } 
```

你可以写你所期望的。
顺便说一句，你有一个数组数组，因为

```
def self.check_parts term
    term_parts=term.split(' ')
    tmp_part=[]                 # creates an array
    term_parts.each do |part|
      t=self.normalize part     # normalize returns an empty array
                                # or one of only one element (a term).
      tmp_part << t             # you add an array into the array
    end  
    return tmp_part  
  end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T07:50:23.017

如果您只是想过滤掉术语并获得一系列降级单词，那很简单。

```
module Query
  StopWords = %w[a big array]
  def self.check_parts string; string.downcase.split(/\s+/) - StopWords end
end

Query.check_parts("here Is my Char") # => ["here", "is", "my", "char"] 
```

# php - 使用 PHP 从 HTML 中删除特定标签并转储到数组中

> ID：12948759
> 
> 赞同：0
> 
> 时间：2012-10-18T06:55:21.047
> 
> 标签：php, html, arrays, string, dom

**问题：**

我使用简单的 HTML DOM，我想从我设法从网页中提取的 HTML 代码中去除某些信息。其余代码应放入一个数组中。

**PHP代码：**

```
<?php
    include('simple_html_dom.php');

    // Create DOM from URL or file
    $html = file_get_html('http://www.dn.se');

    $results = $html->find('ul[class=list]', 1);

    echo $results;
?> 
```

**HTML 代码：**

```
<ul class="list">
    <li>Mest delat och rekommenderat på DN.se</li>

    <li><a href="/nyheter/varlden/polis-misstog-blind-for-samuraj"><span class="number">1.</span> Polis misstog blind för samuraj<br>
    <span class="metadata">I går</span></a> <span class="sharetooltip  init-done" data-url="" style="display:inline-block;"><a class="sharecount" href="javascript:void(0);">868</a> <span class="tooltip"><span class="counter twit"><span class="twitcount">35</span> tweets</span> <span class="counter fb"><span class="fbcount">833</span> rekommendationer</span></span></span></li>

    <li><a href="/debatt/s-vill-ha-tioarig-skolplikt-och-farre-elever-i-klassen"><span class="number">2.</span> ”S vill ha tioårig skolplikt och färre elever i klassen”&lt;br>
    <span class="metadata">I går</span></a> <span class="sharetooltip  init-done" data-url="" style="display:inline-block;"><a class="sharecount" href="javascript:void(0);">671</a> <span class="tooltip"><span class="counter twit"><span class="twitcount">77</span> tweets</span> <span class="counter fb"><span class="fbcount">594</span> rekommendationer</span></span></span></li>

    <li><a href="/sthlm/edholm-backar-om-skolornas-smorforbud"><span class="number">3.</span> Edholm backar om skolornas smörförbud<br>
    <span class="metadata">16 okt</span></a> <span class="sharetooltip  init-done" data-url="" style="display:inline-block;"><a class="sharecount" href="javascript:void(0);">604</a> <span class="tooltip"><span class="counter twit"><span class="twitcount">33</span> tweets</span> <span class="counter fb"><span class="fbcount">571</span> rekommendationer</span></span></span></li>
</ul> 
```

**所需的数组结构：**

迭代父/子，以 <ul> 作为父级开始。

**期望的输出：**

```
Array 
{
    [0] => <li>Mest delat och rekommenderat på DN.se</li>
    [1] => <li><a href="/nyheter/varlden/polis-misstog-blind-for-samuraj">1\. Polis misstog blind för samuraj</a></li>
        [0] => <a class="sharecount" href="javascript:void(0);">868</a>
        [1] => <span class="counter twit"><span class="twitcount">35</span> tweets</span>
        [2] => <span class="counter fb"><span class="fbcount">833</span> rekommendationer</span></span>
    [2] => <li><a href="/debatt/s-vill-ha-tioarig-skolplikt-och-farre-elever-i-klassen">2\. ”S vill ha tioårig skolplikt och färre elever i klassen”&lt;/a></li>
        [0] => <a class="sharecount" href="javascript:void(0);">671</a>
        [1] => <span class="counter twit"><span class="twitcount">77</span> tweets</span>
        [2] => <span class="counter fb"><span class="fbcount">594</span> rekommendationer</span></span>
    [3] => <li><a href="/sthlm/edholm-backar-om-skolornas-smorforbud">3\. Edholm backar om skolornas smörförbud</a></li>
        [0] => <a class="sharecount" href="javascript:void(0);">604</a>
        [1] => <span class="counter twit"><span class="twitcount">33</span> tweets</span>
        [2] => <span class="counter fb"><span class="fbcount">571</span> rekommendationer</span></span>
} 
```

# mysql - 无法连接到MYSQL服务器

> ID：12948764
> 
> 赞同：0
> 
> 时间：2012-10-18T06:55:39.973
> 
> 标签：mysql

嗨，我遇到了一个奇怪的情况，当我尝试通过执行以下命令连接到 mysqlserver 时

```
mysql -uroot -p msp;
Enter password: ******* 
```

我收到一条错误消息，例如

> 错误 1049 (42000): 未知数据库 'msp;'

虽然我确实有一个名为**msp**的数据库，但奇怪的是，当我尝试通过执行以下命令来转储数据库**msp时**

```
C:\>mysql -uroot -p msp -e "show tables">D:\localtables.txt
Enter password: ******* 
```

工作正常。这种奇怪行为的真正原因是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-18T07:00:21.307

您的数据库名为`msp`，而不是`msp;`

删除命令行末尾的分号。

# google-analytics - Google Analytics 中是否有任何页面级别限制？

> ID：12948769
> 
> 赞同：1
> 
> 时间：2012-10-18T06:56:00.013
> 
> 标签：google-analytics

我正在使用虚拟浏览量标记页面，并且我有大约 5 个级别。例如： **/Page level1/ Page level2/ Page level3/ Page level4/Page level5**。当我向下钻取时，GA 总是连接**Page level4/Page level5** 所以实际看起来像一页。我正在使用标准报告。默认页面路径级别是否有限制？如果没有，我是否需要更改任何设置

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T17:09:08.723

如您所见，它仅将页面分组为 4 个级别。任何比这更深的东西都将保持在第 4 级。

没有办法删除它

# c# - 如何用一条线连接 DrawRectangle 中的两个点？

> ID：12948770
> 
> 赞同：0
> 
> 时间：2012-10-18T06:56:02.357
> 
> 标签：c#, list, line, drawrectangle

如何实现一条将两个矩形连接在一起的线？目前，我有这个：

```
if (listBox1.Items.Count >= 2)
{
    e.Graphics.DrawLine(Pens.AliceBlue, new Point(/*??*/), new Point(n._x, n._y));                    
} 
```

第二个新点是我放置新矩形的位置，但我不确定如何事先获得矩形的点。

我的矩形 X 和 Y 存储在一个列表中，如下所示：

```
public BindingList<Node> nodeList = new BindingList<Node>(); 
```

我的主要目标是在绘制每个矩形时也为它们添加一条线。

例如：将一个矩形向下放置，没有任何反应，将另一个向下放置，添加一条连接两者的线，添加第三个，添加一条将第二个和第三个连接在一起的线。但是，如果我能做到这一点，我可以尝试找出如何连续添加这些行。

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T07:23:21.000

如果你有一个矩形列表，你可以用连接它们的线来绘制它们，如下所示：

```
void drawRectangles(Graphics g, List<Rectangle> list) {
    if (list.Count == 0) {
        return;
    }

    Rectangle lastRect = list[0];
    g.DrawRectangle(Pens.Black, lastRect);

    // Indexing from the second rectangle -- the first one is already drawn!
    for (int i = 1; i < list.Count; i++) {
        Rectangle newRect = list[i];
        g.DrawLine(Pens.AliceBlue, new Point(lastRect.Right, lastRect.Bottom), new Point(newRect.Left, newRect.Top));
        g.DrawRectangle(Pens.Black, newRect);
        lastRect = newRect;
    }
} 
```

您可以插入一些智能代码来决定连接哪些角，但这取决于您。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T10:43:42.667

仅适用于可能需要此代码示例的其他任何人。for 循环应该从 0 开始。所以；

```
for (int i = 1; i < list.Count; i++)
   {
       //Code here
   } 
```

应该：

```
for (int i = **0**; i < list.Count; i++)
   {
       //Code here
   } 
```

# typescript - 在 TypeScript 文件中导入 mongodb.ts

> ID：12948771
> 
> 赞同：2
> 
> 时间：2012-10-18T06:56:14.300
> 
> 标签：typescript

我正在尝试在我的 TypeScript 应用程序中导入此文件中的代码：

[http://typescript.codeplex.com/SourceControl/changeset/view/fe3bc0bfce1f#samples%2fimageboard%2fmongodb.ts](http://typescript.codeplex.com/SourceControl/changeset/view/fe3bc0bfce1f#samples%2fimageboard%2fmongodb.ts)

但是，当我尝试编译此文件时，没有生成输出 js 文件，也没有收到任何警告。

想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T07:16:44.973

您正在编译一个仅包含 Typescript 使用的类型的声明文件。`Mongodb.ts`用作`javascript`将负责连接到 mongodb 的代码的代表。这里的意图显然是`mongodb.ts`用作存根，以便编译器能够对使用 mongodb 的代码进行类型检查。在您的代码中，您必须`mongodb.ts`作为外部模块加载，然后对其进行编程。在运行时，例如在 中`nodejs`，将加载包含“生产性”javascript 代码的不同模块。例如，您可以在应用程序中使用以下代码：

**我的应用程序.ts**

```
import mongodb = module("mongodb");
var server = new mongodb.Server('localhost', 27017, {auto_reconnect: true}, {})
var db = new mongodb.Db('mydb', server); 
```

这取自 codeplex 的示例之一。再一次，为了运行它，您需要有一个提供 mongodb 实现的运行时环境。

# java - Java 接收作为数据报包的 Java 对象

> ID：12948774
> 
> 赞同：0
> 
> 时间：2012-10-18T06:56:29.527
> 
> 标签：java, network-programming, udp, threadpool

我想将对象作为 UDP 数据包发送，然后在服务器上接收该对象。我已经弄清楚客户端，但我无法让服务器正确读取数据报。

客户代码：

```
public void sendMessage() {
        ByteArrayOutputStream bStream = new ByteArrayOutputStream();

        try {
            ObjectOutput oo = new ObjectOutputStream(bStream);
            oo.writeObject(asset);
            // Send it

            byte[] serializedMessage = bStream.toByteArray();

            DatagramPacket sendPacket = new DatagramPacket(serializedMessage,
                    serializedMessage.length, ipAddress, sPort);
            clientSocket.send(sendPacket);
            oo.close();

        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

    } 
```

服务器尝试失败。

```
public void startServer() {
    try {
         serverSocket = new DatagramSocket(this.serverPort);
         serverSocket.receive(new DatagramPacket()); /*Code fails here, I realise
         * the constructor does not have input, but I can not figure out how to init
         *a buffer whose size I do not know beforehand.
         */
       this.threadPool.execute(new QueryTask(packet));
    } catch (IOException e) {
       // TODO Auto-generated catch block
       e.printStackTrace();
        }
} 
```

我使用以下问题[Sending Objects Across Network using UDP in Java](https://stackoverflow.com/questions/4252294/sending-objects-across-network-using-udp-in-java)来发送对象，但它没有显示他如何接收所述对象。

问题 2：一旦我收到并解析出数据包，是创建一个新线程更好，还是应该在 Datagrampacket 上使用 DatagramSocket 创建一个新线程？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T07:27:33.643

创建一个比您期望接收的最大数据包大一个的缓冲区。然后，如果你得到一个这么大的数据包，那就是溢出了。请注意，您应该在每次接收之前重新初始化 DatagramPacket 的长度，否则它会一直缩小到迄今为止接收到的最小数据报。

如果您可以足够快地处理数据包，那么您根本不需要使用 UDP 的线程，就没有要处理的连接。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T07:24:49.887

正如您已经看到的，数据报数据包需要缓冲区来写入内容。我会创建一个足够大的缓冲区来存储意图数据（UDP 为 IPV4 指定 65K，为 IPV6 指定 4G）。如果我是你，我不会使用 java.io 序列化，因为它会在每次类更改（甚至有时编译器更改）时中断。使用更健壮的序列化方式，如 JSON（使用 jackson / gson）或 XML 或 protobuf

# c++ - 为什么我的数据流在 20 或 30 行之后开始重复？

> ID：12948777
> 
> 赞同：0
> 
> 时间：2012-10-18T06:56:36.673
> 
> 标签：c++, arrays, string, file-io

> **可能重复：**
> [.eof() 循环不起作用](https://stackoverflow.com/questions/8734116/eof-loop-not-working)

所以我有一个相当简单的 C++ 程序，我试图读取带有几列数据的文本文件，然后重新格式化这些行并将它们输出到不同的文本文件中。（重新格式化基本上只涉及取某些行，省略其他行，并在每行的末尾附加一些额外的数据）。它似乎工作得很好，但是在几个不同的数据文件上，它似乎特别挂在一行上并开始无限期地输出那一行 - 我必须手动停止该过程。我认为这可能与“fileSize”变量的存储方式有关（如果您查看输出，您会看到重复的 fileSize 对于该行不正确，并且它与该行对应在它开始重复之前）。除此之外，我不知道要寻找或修复什么，而且我 几天来一直在努力解决这个问题。我将包括代码和运行它的输出。任何想法或建议将不胜感激。

代码：

```
#include <iostream>
#include <fstream>
#include <assert.h>
#include <iomanip>
#include <string>

using namespace std;

int main(int argc, char* argv[]) { 
  //cout << "argc = " << argc << endl; 
  //for(int i = 0; i < argc; i++) 
  //  cout << "argv[" << i << "] = " << argv[i] << endl; 

  ifstream inFile;
  ofstream outFile;

  int numReq, fileSize;
  string lang, dash, langBefore, langAfter;
  string beforeDash, afterDash, beforeNumReq, afterNumReq;
  string beforeFileSize, afterFileSize;

  char fileName[60];
  char outfileName[60];
  char confirm[10];
  char confirm2[10];
  int character;
  char year[5];
  char month[3]; 
  char day[3];
  char hour[3];

  for (int a = 0;a < 60; a++){
    fileName[a] = argv[1][a];
  }

  //fileName = argv[1];

  year[0] = fileName[14];
  year[1] = fileName[15];
  year[2] = fileName[16];
  year[3] = fileName[17];
  year[4] = '\0';

  month[0] = fileName[18];
  month[1] = fileName[19];
  month[2] = '\0';

  day[0] = fileName[20];
  day[1] = fileName[21];
  day[2] = '\0';

  hour[0] = fileName[23];
  hour[1] = fileName[24];
  hour[2] = '\0';

  //cout << "fileName = "<<fileName<<"?"<<endl;
  //cin >>confirm;

  //cout << "So, we have: year = "<<year<<", month = "<<month<<", day = "<<day
  //     <<", and hour = "<<hour<<"?"<<endl;

  inFile.open(fileName);
  assert (!inFile.fail());

  for (int i=0;i<30;i++){  
    outfileName[i] = fileName[i];
  }
  outfileName[29] = '_';
  outfileName[30] = 'O';
  outfileName[31] = 'U';
  outfileName[32] = 'T';
  outfileName[33] = 'P';
  outfileName[34] = 'U';
  outfileName[35] = 'T';
  outfileName[36] = 'p';
  outfileName[37] = 'r';
  outfileName[38] = '.';
  outfileName[39] = 't';
  outfileName[40] = 'x';
  outfileName[41] = 't';
  outfileName[42] = '\0';

  outFile.open(outfileName);
  //Now, add the commands to manipulate the data:

  outFile << fixed << showpoint; 
  outFile << setprecision(2);    

  cout << "Processing data from " << fileName <<" to "<<outfileName<<"."<<endl;

  inFile >> lang;

  cout << "about to begin the 'while' statement." << endl;

  while (!inFile.eof() ){
    string dot (".");
    size_t found;
    found = lang.find(dot); 

    beforeDash = dash;
    beforeNumReq = numReq;
    beforeFileSize = fileSize;

    if (found == string::npos){ //should this be != or == ?

      outFile << lang << " ";

      //*see footnote*

      inFile >> dash >> numReq >> fileSize;
      outFile << numReq << " " << fileSize << " " << year << " " << month
          << " " << day << " " << hour << endl;
      cout <<"Read: "<<lang<<" "<<dash<<" "<<numReq<<" "<<fileSize<<"."<<endl;
      afterDash = dash;
      afterNumReq = numReq;
      afterFileSize = fileSize;      
    }
    else{
      inFile >> dash >> numReq >> fileSize;

      cout <<"Read: "<<lang<<" "<<dash<<" "<<numReq<<" "<<fileSize<<"."<<endl;

      afterDash = dash;
      afterNumReq = numReq;
      afterFileSize = fileSize;

      //      if (beforeFileSize == afterFileSize){ 
      //    cout <<"Why oh why is the afterFileSize = >>" << "<<?" << endl;
      //    cin >> confirm;
      //       }  
    }

    langBefore = lang;
    inFile >> lang;
    langAfter = lang;

    //if (langBefore == langAfter)
    //  cin >>confirm;

  }

  //cout << "after the 'while' statement" << endl;

  inFile.close();
  //assert(!inFile.fail());
  outFile.close();      

  return 0;
} 
```

...以及运行“./fileIO ./fileIO projectcounts-20091201-100000”的输出：

```
./fileIO projectcounts-20091201-100000
Processing data from projectcounts-20091201-100000 to projectcounts-20091201-100000_OUTPUTpr.txt.
about to begin the 'while' statement.
Read: aa - 21 138053.
Read: aa.b - 19 250491.
Read: aa.d - 1 4440.
Read: ab - 56 1324271.
Read: ab.d - 2 21830.
Read: ace - 158 2166792.
Read: af - 5505 55172658.
Read: af.b - 34 528378.
Read: af.d - 429 3378595.
Read: af.n - 1 7290.
Read: af.q - 62 570762.
Read: af.s - 2 14480.
Read: af.v - 2 14340.
Read: ak - 206 3819300.
Read: ak.b - 5 41948.
Read: ak.d - 2 13046.
Read: als - 1294 21339647.
Read: als.b - 23 262665.
Read: als.d - 26 161574.
Read: als.n - 1 7170.
Read: als.q - 14 72963.
Read: am - 431 7073857.
Read: am.d - 19 201112.
Read: am.q - 8 41454.
Read: an - 3084 21488152.
Read: an.d - 127 888272.
Read: ang - 466 7408138.
Read: ang.b - 41 282335.
Read: ang.d - 104 742003.
Read: ang.q - 14 91779.
Read: ang.s - 3 13748.
Read: ar - 62379 1279758510.
Read: ar.b - 384 8037892.
Read: ar.d - 824 8155089.
Read: ar.n - 265 3874251.
Read: ar.q - 194 1812685.
Read: ar.s - 1262 29202150.
Read: ar.v - 1 7170.
Read: arc - 169 2917934.
Read: arc.d - 2 14340.
Read: arz - 1059 18451346.
Read: arz.d - 1 7170.
Read: as - 94 1878525.
Read: as.b - 21 345858.
Read: as.n - 1 7170.
Read: ast - 932 13396685.
Read: ast.b - 21 118692.
Read: ast.d - 131 1049840.
Read: ast.n - 1 7170.
Read: ast.q - 16 95484.
Read: ast.s - 1 7170.
Read: av - 72 1164965.
Read: ay - 151 2382396.
Read: ay.b - 20 252200.
Read: ay.d - 11 76045.
Read: ay.q - 1 7180.
Read: az - 4060 56547487.
Read: az.b - 55 760781.
Read: az.d - 90 777134.
Read: az.q - 40 258399.
Read: az.s - 49 407367.
Read: az.v - 2 14350.
Read: ba - 190 4256164.
Read: ba.b - 5 26948.
Read: ba.d - 2 6709.
Read: bar - 728 13597602.
Read: bar.d - 1 7290.
Read: bat-smg - 967 9405911.
Read: bat-smg.d - 2 14576.
Read: bcl - 262 4076171.
Read: be - 4162 54603077.
Read: be-x-old - 3322 60275040.
Read: be-x-old.d - 2 14350.
Read: be.b - 35 636805.
Read: be.d - 36 317993.
Read: be.n - 2 14462.
Read: be.q - 19 149051.
Read: beta.v - 600 4360526.
Read: bg - 34459 574849813.
Read: bg.b - 197 3226803.
Read: bg.d - 5570 60366778.
Read: bg.n - 40 413897.
Read: bg.q - 560 4307046.
Read: bg.s - 64 863653.
Read: bh - 111 2191650.
Read: bh.d - 3 18855.
Read: bi - 100 2133903.
Read: bi.b - 4 34733.
Read: bi.d - 1 4575.
Read: bm - 90 1441605.
Read: bm.b - 9 25871.
Read: bm.d - 6 43046.
Read: bm.q - 5 26033.
Read: bn - 5509 77859066.
Read: bn.b - 10 150663.
Read: bn.d - 21 216131.
Read: bn.s - 113 1110252.
Read: bo - 226 4894572.
Read: bo.b - 14 222210.
Read: bo.d - 5 33491.
Read: bo.q - 1 7170.
Read: bpy - 2434 42007534.
Read: bpy.b - 1 7180.
Read: br - 4559 33243202.
Read: br.b - 1 7170.
Read: br.d - 297 2117972.
Read: br.q - 13 90504.
Read: bs - 10316 106662123.
Read: bs.b - 48 752610.
Read: bs.d - 136 1136090.
Read: bs.n - 121 987922.
Read: bs.q - 696 5332854.
Read: bs.s - 63 781599.
Read: bug - 84 1047713.
Read: bxr - 37 557388.
Read: ca - 28059 363534831.
Read: ca.b - 332 5455385.
Read: ca.d - 938 7722199.
Read: ca.n - 226 2408335.
Read: ca.q - 272 1806660.
Read: ca.s - 289 2114361.
Read: ca.v - 3 21510.
Read: cbk-zam - 307 7825246.
Read: cdo - 97 1299726.
Read: ce - 253 8919027.
Read: ceb - 2186 21116711.
Read: ceb.d - 3 21750.
Read: ch - 215 2847349.
Read: ch.b - 6 26667.
Read: ch.d - 3 23261.
Read: cho - 15 76754.
Read: cho.d - 1 1972.
Read: chr - 86 1428755.
Read: chr.d - 14 103309.
Read: chy - 19 183064.
Read: chy.d - 1 7170.
Read: ckb - 202 3931545.
Read: closed-zh-tw - 2 14301.
Read: co - 528 7662925.
Read: co.b - 38 2934634.
Read: co.d - 59 498919.
Read: co.q - 11 58046.
Read: commons - 354 270316.
Read: commons.m - 304277 270316.
Read: commons.m - 304277 270316.
Read: commons.m - 304277 270316.
Read: commons.m - 304277 270316.
Read: common^C 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-18T07:07:20.150

问题是：

1.  您使用`inFile.eof()`的是错误的条件！`eof()`如果从文件读取失败是由于到达 EOF 而导致的，它的主要用途是**不**报告错误。
2.  **阅读后**您不检查文件是否成功读取，并且似乎在某些时候失败了。当从流中读取失败时，`std::ios_base::failbit`获取设置并阻止任何进一步的读取成功，直到该位被清除。

从文件中读取的正确方法如下所示：

```
while (inFile >> v0 >> v1 >> v2) {
    process(v0, v1, v2);
} 
```

或者，如果您不能在一个语句中完成所有输入，您可以拆分它们并在循环条件下**和**处理读取值之前检查文件的状态：

```
while (inFile) {
    inFile >> v0 >> v1 >> v2;
    if (inFile) {
        process(v0, v1, v2);
    }
} 
```

显然，您可以使用其他输入功能，例如，`std::getline()`但您仍然需要在阅读**后**检查阅读是否成功。

# mysql - 使用 mysql 变量的 Mysql 查询在 Zend Framework 1 中不起作用

> ID：12948782
> 
> 赞同：1
> 
> 时间：2012-10-18T06:56:52.027
> 
> 标签：mysql, zend-framework

Zend 配置是：resources.db.adapter = "pdo_mysql"

获取 **消息的查询：SQLSTATE [HY000]：一般错误**

```
$db = Zend_Db_Table::getDefaultAdapter();
        $db->setFetchMode(Zend_Db::FETCH_ASSOC);       

        $qry =  $db->fetchAll(" SET @rank = 0 ;
                                SELECT
                                   @rank := @rank +1 AS rank,
                                    SUM(user_scoring_data.user_points)  AS user_points,
                                    league_team.user_id

                                FROM league_team 
                                RIGHT JOIN user_scoring_data ON league_team.league_team_id = user_scoring_data.league_team_id

                                WHERE league_id = '$league_id' GROUP BY user_scoring_data.league_team_id 
                                ORDER BY user_points DESC"
                            ); 
```

如果我删除 mysql 变量，它可以工作：

```
$db->fetchAll("
                                SELECT
                                    SUM(user_scoring_data.user_points)  AS user_points,
                                    league_team.user_id

                                FROM league_team 
                                RIGHT JOIN user_scoring_data ON league_team.league_team_id = user_scoring_data.league_team_id

                                WHERE league_id = '$league_id' GROUP BY user_scoring_data.league_team_id 
                                ORDER BY user_points DESC"
                            ); 
```

*注：查询直接在phpmyadmin中测试，没有错误。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-18T12:20:36.100

似乎在 MySql 中设置一个变量被认为是一个单独的查询。（ fetch*() 不能处理多个调用）

所以对于那些有这种问题的人：

```
$db->query("SET @rank = 0 ;");

$db->fetchAll("SELECT
                                   @rank := @rank +1 AS rank,
                                    SUM(user_scoring_data.user_points)  AS user_points,
                                    league_team.user_id

                                FROM league_team 
                                RIGHT JOIN user_scoring_data ON league_team.league_team_id = user_scoring_data.league_team_id

                                WHERE league_id = '$league_id' GROUP BY user_scoring_data.league_team_id 
                                ORDER BY user_points DESC"
                            ); 
```

# ios - RubyMotion - 链接时重复符号？

> ID：12948784
> 
> 赞同：1
> 
> 时间：2012-10-18T06:56:58.390
> 
> 标签：ios, tesseract, rubymotion

我已将第 3 方库 (Tesseract) 添加到项目中。该库在 XCode 项目中使用时构建和运行时不会出现错误。我的 RubyMotion 项目构建，但链接时失败：

```
duplicate symbol _main in:
vendor/Tesseract/build-iPhoneSimulator/libTesseract.a(svpaint.o)
./build/iPhoneSimulator-5.0-Development/objs/main.o
duplicate symbol _selCopy in:
vendor/Tesseract/build-iPhoneSimulator/libTesseract.a(sel1.o)
/Library/RubyMotion/data/5.0/iPhoneSimulator/libmacruby-static.a(id.o)
duplicate symbol _selWrite in:
vendor/Tesseract/build-iPhoneSimulator/libTesseract.a(sel1.o)
/Library/RubyMotion/data/5.0/iPhoneSimulator/libmacruby-static.a(id.o)
ld: 3 duplicate symbols for architecture i386 
```

我尝试以两种不同的方式添加 Tesseract，作为`:static`库和作为`:xcode`项目。两种方式都相同的错误。

鉴于我能够构建和运行使用这个库的普通 Xcode 项目，我很确定我在 RubyMotion 上做错了什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T21:54:39.953

[如他们的常见问题解答](http://code.google.com/p/tesseract-ocr/wiki/FAQ)`--disable-graphics`中所述，我通过使用配置选项构建 Tesseract 解决了这个问题。

# javascript - Javascript - 搜索字符串中使用的特定字符

> ID：12948786
> 
> 赞同：0
> 
> 时间：2012-10-18T06:57:02.807
> 
> 标签：javascript, regex

我正在尝试创建一个程序，该程序允许我为数据库中的特定命令输入简写名称，如下所示：

```
ID I(20) AI NN PK, name VC(255), story T 
```

然后我有一张地图，这些地图来自：

```
 var keys = {
        'PK' : 'PRIMARY KEY',
        'FK' : 'FOREIGN KEY'
    };

    var options = {
        'AI' : 'AUTO_INCREMENT',
        'NN' : 'NOT NULL',
        'D' : 'DEFAULT',
        'CT' : 'CURRENT_TIMESTAMP'
    }; 
```

我遇到的问题是搜索字符串中存在的速记名称，然后用地图中的值替换它。

我能想到的唯一解决方案是使用正则表达式来查找字符串。

我目前有这个正则表达式：

```
(\bI\b|\bAI\b|\bPK\b|\bVC\b|\bT\b|\bNN\b) 
```

这是唯一的出路吗？上面的正则表达式还能改进吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T07:07:48.993

您可以将单词边界移出您的交替

```
\b(I|AI|PK|VC|T|NN)\b 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T07:07:47.203

是的。您可以`replace`在javascript中使用String的方法；

伪代码

```
newString = oldString.replace(regex, function(match, index){
    // find `replacement` for `match`  
    return replacement;
}) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-18T07:11:40.490

我宁愿使用拆分功能。如果您必须向正则表达式添加一些内容，那么您描述的方式似乎很麻烦。

我会做类似的事情

```
var shorthand = {
    "XX":"XXXXXX"
     ...
},
my_string = "ID I(20) AI NN PK, name VC(255), story T",
/* note that you can split using regexp like /\b/ if needed*/
splitted_str = my_string.split(" "),
result_str = "";
for (var i =0; i< splitted_str.length; i++) {
    /*You might want to use a regexp here to grab only the letters and still keep the parameters like the commas, parenthesis, number*/
    result_str += shorthand[splitted_str[i]] +" ";
}
/*And there you go, your request is in result_str.*/ 
```

**编辑：**带有正则表达式的循环以保留逗号等。请注意，如果您只想将大写字母与类似`splitted_str[i].match(/^([A-Z]+)(.*)$/);`

```
var reResult;
for (var i =0; i< splitted_str.length; i++) {
    reResult = splitted_str[i].match(/^(\w+)(.*)$/);
    result_str += shorthand[reResult[1]] + reResult[2] +" ";
} 
```

# sqlite - 关于 Blackberry Sqlite db 或 Persistent Store 的困惑

> ID：12948792
> 
> 赞同：0
> 
> 时间：2012-10-18T06:57:23.367
> 
> 标签：sqlite, blackberry, persistent-storage

我对使用 db 或持久存储感到非常困惑，如果我使用 db，那么我必须将其存储在 mmc 上，因为我已经阅读了一些所有 BB 设备都不允许将 db 存储在手机内存中的地方，如果我在 mmc 上创建 db然后用户可以删除它，第二种方法是持久存储，但是当我们有大量数据时，它并不容易操作，如何管理大量的键来检索和存储持久存储中的数据，我如何执行删除,对持久存储的数据进行编辑操作。不知道要干什么，很迷茫。哪种方法最好，机制是什么。请建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T07:24:59.870

[BB 文档](http://docs.blackberry.com/en/developers/deliverables/8682/SQLite_file_locations_719036_11.jsp)说：

> 如果只指定数据库名称作为参数值 to `DatabaseFactory.create()`，则在设备的 SD 卡上创建数据库文件。数据库文件的默认位置是`/SDCard/databases/<application_name>/`. 创建数据库的应用程序的名称包含在路径中以避免名称冲突。
> 
> 您可以通过指定相应的文件系统路径，在支持它的设备上，在 eMMC 内存中创建数据库文件。

因此，为了与所有设备保持兼容，您必须将数据库放在卡上。

除了拔掉存储卡外，用户还可以随时删除并重新安装您的应用程序，因此您必须做好数据消失的准备。没有办法强制违背用户的意愿保留您的数据。

您能做的最好的事情就是抱怨您的数据丢失，和/或重新初始化您的数据库。

Persistent Store 确实不适合管理大量数据；除了简单的键/数据查找之外，您还必须将数据加载到内存中并在那里进行查询。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T07:59:33.010

使用 peristance 的主要区别在于它支持 Sqlite 5.0 到 7.1 以下的设备，它支持 5.0 及以上的操作系统，您可以查找您的目标操作系统。在持久性 Db 中保存时，您可以将其保存并检索为 Vector，我不知道 Sqlite 数据库。

# extjs - 如何使用 xtype 文件字段（extjs 4.1.0）限制文件类型？

> ID：12948793
> 
> 赞同：4
> 
> 时间：2012-10-18T06:57:25.470
> 
> 标签：extjs, extjs4.1

我正在尝试使用 extjs 4.1.0 实现文件上传功能。而我想限制用户只选择图像文件（jpg、png、gif）。是否有任何过滤器可以应用，以便用户只能看到然后选择上述文件的类型？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-02-21T15:30:13.947

你也可以这样：

```
 {
        xtype: 'filefield',
        buttonText: '....',
        listeners:{
            afterrender:function(cmp){
              cmp.fileInputEl.set({
                accept:'image/*' // or w/e type
              });
            }
        }
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T00:01:06.403

有关自定义类型的示例，请参阅[http://docs.sencha.com/ext-js/4-1/#!/api/Ext.form.field.VTypes验证类型。](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.form.field.VTypes)您也可以使用正则表达式来指定 alphaMask。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-04-06T23:25:50.097

```
{
        xtype: 'fileuploadfield',
        name: 'file',
        fieldLabel: 'Photo',
        labelWidth: 50,
        allowBlank: false,
        buttonText: 'SelectPhoto',
        anchor: '100%',
        reset: function () {
            var me = this,
                clear = me.clearOnSubmit;
            if (me.rendered) {
                me.button.reset(clear);
                me.fileInputEl = me.button.fileInputEl;
                me.fileInputEl.set({
                    accept: 'image/*'
                });
                if (clear) {
                    me.inputEl.dom.value = '';
                }
                me.callParent();
            }},
        listeners:{
            change: 'fileInputChange',
            afterrender:function(cmp){
                cmp.fileInputEl.set({
                    accept:'image/*'
                });
            }
        },
        regex: /(.)+((\.png)|(\.jpg)|(\.jpeg)(\w)?)$/i,
        regexText: 'Only PNG and JPEG image formats are accepted'
    } 
```

正则表达式添加了客户端验证，可以将表单绑定放在您计划执行的任何表单或操作上。

# android - 为什么这个布局没有膨胀到全宽？

> ID：12948795
> 
> 赞同：1
> 
> 时间：2012-10-18T06:57:33.037
> 
> 标签：android, layout

我有一个非常简单的布局：

```
<?xml version="1.0" encoding="utf-8"?>
<!--  -->
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/dialog_progress"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_centerHorizontal="true"
    android:layout_centerVertical="true"
    android:background="@drawable/b"
    android:scaleType="fitXY" >

    <ProgressBar
        android:id="@+id/progressD"
        style="@android:style/Widget.ProgressBar.Horizontal"
        android:layout_width="match_parent"
        android:layout_height="50dp"
        android:layout_centerHorizontal="true"
        android:layout_marginBottom="10dp"
        android:layout_marginLeft="20dp"
        android:layout_marginRight="20dp"
        android:layout_marginTop="10dp"
        android:progress="0" />

    <TextView
        android:id="@+id/numberO"
        style="@android:style/TextAppearance.Large"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/progressD"
        android:layout_centerHorizontal="true"
        android:layout_marginTop="10dp"
        android:textColor="#FFFFFF"
        android:textStyle="bold" />

</RelativeLayout> 
```

我像这样膨胀它：

```
public class MyFragment extends
    SherlockDialogFragment {

    static MyFragment newInstance() {
         MyFragment theDialog = new MyFragment();
         return theDialog;
        }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {
        View v = inflater.inflate(
        R.layout.dialog_show_progress_during_connection_test,
        container, false); 
```

这就是我展示它的方式：

```
 public void showIt(final Device device) {
    //first create the DialogFragment to show the progress
    theDialog = theDialog
        .newInstance();

    theDialog.show(getSupportFragmentManager(),
        "dialog");

    getSupportFragmentManager().executePendingTransactions();
    } 
```

片段相当窄 - 大约是屏幕宽度的 1/3，即使我明确有“match_parent”

奇怪的是，在运行 Android 2.1 的旧 Android 手机上，它几乎膨胀到屏幕的宽度——而在所有其他运行 Android 4+ 的手机上，它是窄的。

我检查了容器的值，在所有情况下它都是空的。（不应该是父母吗？）

夏洛克会不会有问题？

我什至将宽度明确设置为 1000dp，但新片段仍然很窄。更改为 LinearLayout 也无济于事。

任何想法可能是什么原因？

我让它变得更宽的唯一方法是在所有地方设置特定的宽度，如“500dp”！在这个 xml 文件中。非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T07:08:29.057

我经历过一些属性可以覆盖layout_width-attribute。尝试从您的 RelativeLayout 中删除 layout_centerHorizo​​ntal、layout_centerVertical 和 scaleType。据我所知，它们都没有任何意义。

# ruby-on-rails - 如何在javascript中更改rails默认的“销毁”操作？

> ID：12948797
> 
> 赞同：0
> 
> 时间：2012-10-18T06:57:36.737
> 
> 标签：ruby-on-rails

我想通过添加 ajax 和动画来删除项目来更改 Rails 用于销毁操作的默认功能。我知道如何实现 javascript，但我不确定“接入”或覆盖这段 javascript 的最佳方式是什么，尤其是现在 jquery_ujs 文件由于资产管道而被出售。这样做的最佳做法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T08:06:53.203

您仍然可以添加 ajax 和动画，而无需担心 rails 默认行为或 ujs 行为。

在销毁操作中，您只需要响应一个 javascript 请求并创建必要的 js 文件，该文件使用 jquery 执行动画魔术。

```
def destroy
  # perform destructive action (optional)
  respond_to do |format|
    format.js
  end
end 
```

确保文件夹`destroy.js.erb`中有一个文件被调用`views/<controller_name>/`。

# jsf-2 - 当在 p:column 上使用渲染属性时，不显示 p:column 标题方面

> ID：12948799
> 
> 赞同：2
> 
> 时间：2012-10-18T06:57:45.327
> 
> 标签：jsf-2, primefaces

我有一个`<p:dataTable>`. 我想`<p:column>`有条件地渲染如下：

```
<p:dataTable value="#{abcList}" var="abc">
  <p:column rendered="#{headerShow}">
    <f:facet name="header">
      <h:outputText value="header" />
    </f:facet>
    <h:outputText value="#{abc.hijk}" />
  </p:column>
</p:dataTable> 
```

当`#{headerShow}`为时`false`，该列被隐藏。当`#{headerShow}`是时`true`，则显示该列，但没有标题。当我硬编码`rendered="true"`时，该列显示为标题。

这是如何引起的，我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T13:21:26.963

`<f:facet name="header">`列名已过时。Primefaces 3.0 引入的 headerText 属性完全相同。

所以试试这个：

```
<p:column rendered="#{headerShow}" headerText="header">
  <h:outputText value="#{abc.hijk}" />
</p:column> 
```

# image - 从代理请求图像

> ID：12948803
> 
> 赞同：1
> 
> 时间：2012-10-18T06:57:52.697
> 
> 标签：image, windows-phone-7, windows-phone

因为有些图片太大，所以我有一个代理服务器来压缩图片。例如：原始 URL 是`http://www.vikilife.com/wp-content/uploads/2012/10/201210178.jpg`.

代理网址是`http://proxy.xgres.com/proxyImg.php?w=286&u=http%3a%2f%2fwww.vikilife.com%2fwp-content%2fuploads%2f2012%2f10%2f201210178.jpg`. `w`被压缩，`u`是编码的原始url。

我要求这样的图像：

```
String url = "http://proxy.xgres.com/proxyImg.php?w=286&u=http%3a%2f%2fwww.vikilife.com%2fwp-content%2fuploads%2f2012%2f10%2f201210178.jpg";
imgTest.Source = new BitmapImage(new Uri(url, UriKind.Absolute)); 
```

但这会返回错误的图像（不是我想要的图像）。但是，当我使用网络浏览器请求 url 时，我得到了正确的图像。怎么了？

# php - 我应该如何访问我在 theme_preprocess 中设置的变量？

> ID：12948808
> 
> 赞同：2
> 
> 时间：2012-10-18T06:58:58.220
> 
> 标签：php, drupal, drupal-7, drupal-theming

我是drupal 7的初学者。我创建了一个新主题并在template.php中编写了一个预处理函数：

```
function mytheme_preprocess_page(&$vars){
  $vars[my_var]=array('var_0', 'var_1', 'var2');
} 
```

我应该如何在 page.tpl.php 访问 $vars[my_var]？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T07:08:07.917

在页面模板内，例如`page.tpl.php`只需键入：

```
print $my_var['var_0']; 
```

希望这行得通……穆罕默德。

# facebook - 试图获取应用访问令牌

> ID：12948809
> 
> 赞同：42
> 
> 时间：2012-10-18T06:58:59.903
> 
> 标签：facebook, access-token

我尝试使用以下代码为我的 facebook 应用程序获取应用程序访问令牌：

```
APP_ACCESS_TOKEN = FB.api(
    "oauth/access_token",
    {client_id: APP_ID, client_secret: APP_SECRET_CODE, redirect_uri: uri},
    function(response){
    console.log(response);
}); 
```

应该是这样的：

```
GET https://graph.facebook.com/oauth/access_token?
        client_id=YOUR_APP_ID
       &client_secret=YOUR_APP_SECRET
       &redirect_uri=uri 
```

但我得到一个错误：

```
code: 1
message: "Missing authorization code"
type: "OAuthException" 
```

什么是授权码，我怎样才能得到它？

* * *

## 回答 #1

> 赞同：70
> 
> 时间：2013-05-07T06:28:48.983

**获取应用访问令牌**

要获取应用访问令牌，请调用以下 HTTP GET 请求：

```
GET https://graph.facebook.com/oauth/access_token?
            client_id=YOUR_APP_ID
           &client_secret=YOUR_APP_SECRET
           &grant_type=client_credentials 
```

API 将使用以下形式的查询字符串格式的字符串进行响应：

```
access_token=YOUR_APP_ID|YOUR_APP_ACCESS_TOKEN 
```

参考：http: [//developers.facebook.com/docs/opengraph/howtos/publishing-with-app-token/](http://developers.facebook.com/docs/opengraph/howtos/publishing-with-app-token/)

* * *

## 回答 #2

> 赞同：45
> 
> 时间：2012-10-18T09:21:45.217

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-03-27T05:59:49.827

检查 node.js 或 JAVASCRIPT 的用户。

```
getLongLiveToken: function(data){
    FB.api('oauth/access_token', {
        client_id: data.client_id, // FB_APP_ID
        client_secret: data.secret, // FB_APP_SECRET
        grant_type: 'fb_exchange_token',
        fb_exchange_token: data.access_token // USER_TOKEN
    }, function (res) {
        if (!res || res.error) {
            console.log(!res ? 'error occurred' : res.error);
        } else {
            var accessToken = res.access_token;
            if(typeof accessToken != 'undefined'){}
        }
    });
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-10-28T22:17:43.977

您也可以在不生成令牌的情况下使用此 POST 端点，只需确保它是从服务器调用的，而不是从 app_secret 公开的客户端调用：

```
https://graph.facebook.com/?id={url}&scrape=true&access_token={app_id}|{app_secret} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-06-17T16:15:41.653

我不确定在代码中公开 APP 客户端密码是个好主意，您可以从 Facebook 工具“访问令牌工具”获取 APP 令牌，只需将令牌复制到您的代码中以供任何使用 [https://developers.facebook .com/tools-and-support/](https://developers.facebook.com/tools-and-support/)

# javascript - MVC 捆绑包与 Javascript 模块

> ID：12948811
> 
> 赞同：6
> 
> 时间：2012-10-18T06:59:17.953
> 
> 标签：javascript, module, asp.net-mvc-4, requirejs, amd

作为 ASP.NET MVC 开发人员，我正试图围绕 JavaScript AMD 模块和 RequireJS 之类的库。

ASP.NET MVC ScriptBundles 和 RequireJS 有什么关系？

在一个包含大量 JavaScript 的大型网站中，我应该同时使用这两者吗？还是其中之一？

我应该使用 IBundleTransform 将 RequireJS 与 Bundle 集成吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-18T07:12:26.030

我不会看到同时使用这两个。使用 Bundles，您可以在布局控制器上加载所有 JavaScript，理想情况下只加载到一两个包中。在生产中，它会被优化（组合成一个文件，最小化，缓存和压缩等）。

RequireJS 我看到的一些方式是，如果您对加载的 JS 内容更加细化，那么您可以使用它的简洁语法来确保在调用某些文件的 JavaScript 之前加载某个文件。

我建议您使用 Bundles，因为您正在使用 asp.net-mvc。它们很好用并且工作得很好。我使用了一个类似的 pre mvc4 框架，称为[Combres](http://combres.codeplex.com/)，它很相似，并且这种方法对我认为的应用程序非常有效。只读网站可能会有所不同。

# php - HTML 标记未在 Gmail 中呈现 - 使用 PHP 语言

> ID：12948813
> 
> 赞同：0
> 
> 时间：2012-10-18T06:59:23.897
> 
> 标签：php, email, gmail

我使用 PHP 语言发送电子邮件，有时 HTML 标记不会在 gmail 帐户中呈现。我使用的内容类型为 -`charset="iso-8859-1"`我已附加图像。

并且我还收到了不应包含在邮件中的消息 ID。

![在此处输入图像描述](../Images/a1426d9dd9e2ed3062f80c027d67a969.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T08:50:07.710

我不推荐/使用 php 内置的 mail() 函数来发送和接收电子邮件。使用 PHPMailer 和 SwiftMailer 等 php 开源库。在单独使用 mail() 时遇到许多问题后，我一直在使用 PHPMailer。非常容易实现并且有很多功能。您不必花费宝贵的时间进行电子邮件发送相关的开发。

[http://phpmailer.worxware.com/](http://phpmailer.worxware.com/)

[http://swiftmailer.org/](http://swiftmailer.org/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T07:13:53.753

如果 HTML 没有呈现，这通常意味着标题设置不正确。

尝试这个：

```
<?php 
//change this to your email. 
$to = "m@m.com"; 
$from = "m@m.com"; 
$subject = "This is HTML email";  
$message = "
    <b>htmlemail....</b> <br>
    <a href='http://www.google.com'>Google</a>"; 

// To send the HTML mail we need to set the Content-type header. 
$headers = "MIME-Version: 1.0rn"; 
$headers .= "Content-type: text/html; charset=iso-8859-1rn"; 
$headers  .= "From: $from\r\n"; 

mail($to, $subject, $message, $headers); 
echo "Message sent.."; 
?> 
```

来自[http://www.webhostingtalk.com/showthread.php?t=416467](http://www.webhostingtalk.com/showthread.php?t=416467)

# jquery - jQueryMP 未定义

> ID：12948816
> 
> 赞同：0
> 
> 时间：2012-10-18T06:59:37.687
> 
> 标签：jquery, asp.net, mvc-mini-profiler

尝试使用 IIS 和 Google Chrome 使用 mini-profiler 运行我的项目时，我遇到了同样的问题，如[Running MiniProfiler with runAllManagedModulesForAllRequests 设置为 false](https://stackoverflow.com/questions/10304611/running-miniprofiler-with-runallmanagedmodulesforallrequests-set-to-false)中所述。我没有更改`runAllManagedModulesForAllRequests`设置，只是添加了

```
<handlers>
    <add name="MiniProfiler" path="mini-profiler-resources/*" verb="*" type="System.Web.Routing.UrlRoutingModule" resourceType="Unspecified" preCondition="integratedMode" />
</handlers> 
```

到`web.config`. 现在，在尝试运行站点后，我收到了`jQueryMP is undefined`. 我能做些什么来解决这个问题？

Google Chrome 开发人员工具栏显示 include.js 中发生错误

我有 MiniProfiler v 2.0.2

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T09:12:38.613

我找到了解决方案。我将我的应用程序中使用的 jQuery 版本更改为 1.7.1，然后调用`MiniProfiler.RenderIncludes()`，因为`MiniProfiler.RenderIncludes(null, null, null, null, null, true, false)`探查器将使用我的 jquery 公开它。

# .net - .Net - 托管可执行文件是否在启动时获取 GAC 的快照？

> ID：12948819
> 
> 赞同：0
> 
> 时间：2012-10-18T06:59:52.210
> 
> 标签：.net, reflection, gac, .net-assembly

当我在开发一个按需将程序集安装到 GAC 的应用程序（单击按钮时）并尝试在单击下一个按钮或尝试从那个新的 GAC-ed 程序集，但失败了。问题和重现步骤如下。

***问题和重现步骤：*** 创建一个类似于以下的新类库，命名为 FooGreet.dll 并将其命名为强名称。稍后我们将它拖到程序集文件夹中。

```
namespace FooGreet
{
    public class Greeting
    {
        public string SayHello()
        {
            return "Hello";
        }
    }
} 
```

创建一个控制台应用程序来加载上面的类库，类似于下面的代码。

```
namespace FooGreetCaller
{
    class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine("Press Enter to load assembly..");
            while (true)
            {
                string input = Console.ReadLine();
                if (input == "q" || input == "Q")
                    break;
                try
                {
                    System.Reflection.Assembly.Load("FooGreet, Version=1.0.0.0, Culture=Neutral, PublicKeyToken=3f330bcf59df56c9");
                    Console.WriteLine("Assembly load success.");
                }
                catch (Exception eX)
                {
                    Console.WriteLine(eX.Message + Environment.NewLine + eX.StackTrace);
                }
            }
        }
    }
} 
```

1.  *运行控制台应用程序：*  运行控制台应用程序的一个实例。尝试加载 FooGreet.dll，无论加载多少次，都会出现“无法加载文件或程序集……”的异常。不要关闭控制台窗口。
2.  *将 FooGreet.dll 安装到 GAC：*  将 FooGreet.dll 拖到 GAC，在控制台应用程序的同一个实例上，尝试再次加载 FooGreet.dll，仍然出现相同的异常；我称之为异常，因为 FooGreet.dll 在 GAC 中，并且控制台应用程序应该已经识别它。不应该吗？
3.  *运行控制台应用程序的第二个实例：*  运行控制台应用程序的第二个实例。尝试加载 FooGreet.dll，现在程序集加载正常。
4.  *从 GAC 卸载 FooGreet.dll：*  转到 GAC，卸载 FooGreet.dll。尝试在控制台应用程序的第二个实例中再次加载 FooGreet.dll。程序集已成功加载。理想情况下，它不应该抛出“无法加载文件或程序集......”之类的异常吗？

***问题：*** 问题在第 2 步和第 4 步。从第 2 步和第 4 步的情况来看，看起来当应用程序加载时，它会拍摄 GAC 的快照（至少使用默认的 AppDomain，我没有尝试创建并加载一个新的 AppDomain）。这是真的？

（在我的应用程序中，作为一种解决方法，我在将特定程序集注册到 GAC 后重新启动应用程序

```
System.EnterpriseServices.Internal.Publish().GacInstall(targetAssemblyName); 
```

我在一个 WinForms 应用程序上，我正在 Form_Load 中重新启动，这会导致主窗体闪烁几分之一秒......我不喜欢）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T07:14:35.620

Assembly Binder 实际上使用缓存。任何在代码中请求的程序集，Assembly Binder 都会按照其流程加载程序集。程序集绑定的结果由程序集绑定器缓存。当再次请求相同的程序集时，程序集绑定器会在缓存中查找，如果程序集正确加载，则返回对已加载程序集的引用，如果程序集绑定失败，则返回异常。

还有一点要注意，Binding Context 也用在缓存中。`Assembly.Load`,`Assembly.LoadFrom`和`Assembly.Load(byte[])`, 这 3 种方法使用 3 种不同的绑定上下文，并且缓存为每个加载类型进程单独存储。然而，推荐的方法是`Assembly.Load`.

要验证所有这些，您可以在您的机器上启用融合并在[Assembly Binding Log Viewer](http://msdn.microsoft.com/en-us/library/e74a18c4%28v=vs.71%29.aspx)中查看绑定结果。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T09:15:15.313

“快照”这个词并不准确，尽管看起来是这样。程序集加载器只记住所有的 Assembly.Load/From() 请求。包括失败者。并确保它始终如一地返回相同的结果。包括失败者。它是一种强大的反DLL Hell 反措施。

使用场景非常奇怪，很难想出解决方法。没有办法强制重置“我已经看到它之前加载过”状态。但是 .NET 1.x 没有这样做，因此有一个 app.exe.config 设置可用于恢复 1.x 行为。使用[`<disableCachingBindingFailures>`元素](http://msdn.microsoft.com/en-us/library/vstudio/ms404312%28v=vs.90%29.aspx)。但请注意，这会产生全球影响。

要将其本地化为仅此一个程序集，您可以创建一个 AppDomain，尝试将程序集加载到其中并再次卸载它。然后，您将知道加载到您的主域中是否会失败。

# shell - 格式化cmd.exe路径输出

> ID：12948824
> 
> 赞同：1
> 
> 时间：2012-10-18T07:00:06.610
> 
> 标签：shell, cmd

我将如何漂亮地打印`cmd.exe`shell 命令的输出，`path`以便每个元素都打印在新行上？我想我将不得不通过一些文本 munger 将它添加`newline`到它找到`;`字符的任何位置，但作为一个菜鸟，我不知道如何做到这一点。

另外，我认为我必须以`%HOME%`不同的方式处理宏。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-18T07:05:12.163

我发现这是一个值得注意的选项：

```
 echo %path:;=&echo.% 
```

# c# - 与 BackgroundWorker 相比，异步更新状态的替代方法

> ID：12948829
> 
> 赞同：3
> 
> 时间：2012-10-18T07:00:30.603
> 
> 标签：c#, web-services, asynchronous, backgroundworker, updating

我正在开发一些在服务器端进行计算的软件。我曾尝试使用 BackgroundWorker，它工作得非常好，直到我尝试从胖客户端切换到 Web 服务。发生错误（由于我的同事告诉我，我已经预料到了）“BackgroundWorker 未标记为可序列化”。我的应用程序的目标是使用计算进度以及当前正在计算的记录的名称来更新客户端。如果需要，我可以发布一些代码，但在这种情况下，我怀疑它是否真的与问题相关。我试图实现的方案可以如下所示：

*   客户点击“准备”按钮
*   服务器接到电话
*   服务器发送数据
*   客户收到记录清单以确认
*   客户确认他们的选择（然后我设置后台工作人员并将其发送到服务器）
*   服务器获得调用（接收后台工作人员的引用，以及一次计算所需的所有记录）
*   通过循环遍历记录（每次计算大约需要 1-3 秒），像这样更新 BackgroundWorker 的状态：

    > ```
    > worker.ReportProgress(i * 100 / ids.Length, "Currently counting: " + id + "...");
    > Calculate(ids[i]);
    > worker.ReportProgress((i+1) * 100 / ids.Length, "Currently counting: " + id + "..."); 
    > ```

**有什么方法可以实现我也在网络服务上尝试的工作吗？** 我认为这需要将 BackgroundWorker 欺骗到 Serializable 中，或者可能有其他方法可以将状态从服务器更新到客户端？

PS我没有从服务器发送很多数据（实际上我什至可以尝试只发送更少的数据，比如id），所以我认为这不会是过载的问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-18T07:05:21.833

基本上，当您为 Web 编写代码时，您正在处理一个完全不同的模型，它基于请求/响应而不是持续交互。

您可能应该让您的初始请求返回一种“任务 ID”（可以是任何唯一 ID），然后快速返回。同时，您在后台启动任务。然后，客户端可以轮询该特定任务的状态。您可以使用“长轮询”，其中每个请求都会挂起，直到状态发生变化，或者只是让客户端定期调用服务器。无论哪种方式，响应都只是进度（处理的记录数和当前记录的名称）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T07:07:45.737

恐怕您正在尝试序列化具有后台工作成员变量的类的实例。这是不可能的，因为后台工作人员不是可序列化的对象。

你可以在这里做的是 -

*   创建一个具有异步运行方法的类。
*   在该类中创建一个成员变量，用于存储后台工作人员的进度
*   在类中创建一个返回进度值的 Web 方法。

现在在您的页面上，您需要

*   调用必须异步运行的方法。
*   放置一个定期执行的客户端javascript。它应该查询 Web 服务并询问进度。
    *   更新页面并显示进度。

我希望我已经正确解释了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-18T07:10:14.567

如果您希望不时（在完成某个里程碑时）通过服务获取流程更新，我建议您使用异步服务。使用 WCF 并创建一个异步服务（您可以查看以下主题：http: [//blogs.msdn.com/b/rjacobs/archive/2011/06/30/how-to-implement-a-wcf-异步服务操作与任务 lt-t-gt.aspx](http://blogs.msdn.com/b/rjacobs/archive/2011/06/30/how-to-implement-a-wcf-asynchronous-service-operation-with-task-lt-t-gt.aspx)）。

创建一些方法，例如

```
public int onBlockComplete(IAsyncResult result)
{
    //...
} 
```

并在您的客户中处理此问题。还实现了一个方法来在整个过程完成时进行回调。

通过这种方式，您可以处理块完成事件并在客户端显示进度。

当然，如果您在 ASP.NET 中实现客户端，则必须刷新页面才能看到更新。

# c - 循环内的 OpenMP 同步

> ID：12948835
> 
> 赞同：5
> 
> 时间：2012-10-18T07:01:04.163
> 
> 标签：c, openmp

我有一个生成数据的大循环。例如，每次迭代需要 1 秒并产生一大块数据。我需要以正确的顺序将所有块写入文件。

如果我只是想并行化循环，我可以写这样的东西（高度简化）：

```
 FILE* f = fopen("output.txt", "w");
    omp_lock_t lock;
    omp_init_lock(&lock);
    int nIterations = 1000000;
#pragma omp parallel for
    for(int thread=0; thread<4; thread++)
    {
        int a=0, b=0, c=0;
        for(int n=thread; n<nIterations; n+=4)
        {
            int value = do_computations(&a, &b, &c);
            omp_set_lock(&lock);
            fprintf(f, "%d\n", value);
            omp_unset_lock(&lock);
        }
    }
#pragma omp barrier
    fclose(f);
    omp_destroy_lock(&lock); 
```

这会将我的输出放入文件中，但不能保证条目的顺序。

我想同步执行，以便所有线程执行它们的任务，然后主线程写入文件，然后线程恢复。换句话说，我想要这样的东西：

```
 #pragma omp parallel for
        for(int thread=0; thread<4; thread++)
        {
            int a=0, b=0, c=0;
            int values[4];
            for(int n=thread; n<nIterations; n+=4)
            {
                values[n] = do_computations(&a, &b, &c);
#pragma omp barrier
                if(thread == 0)
                {
                      for(int i=0; i<4; i++)
                        fprintf(f, "%d\n", values[i]);
                }
#pragma omp barrier
            }
        }
#pragma omp barrier 
```

除非出于某种莫名其妙的原因，OpenMP 规范禁止这样做。

或者我可以试试

```
 #pragma omp parallel for
        for(int thread=0; thread<4; thread++)
        {
            int a=0, b=0, c=0;
            for(int n=thread; n<nIterations; n+=4)
            {
                int value = do_computations(&a, &b, &c);
#pragma omp ordered
                {
                    fprintf(f, "%d\n", value);
                }
            }
        }
    #pragma omp barrier
        fclose(f); 
```

但这也行不通，因为“带有 for 构造的循环迭代......不能执行多个有序指令。”

我不想将代码重写为单个循环，也不想交换循环。

没有其他线程/同步工具，有没有一种干净的方法可以用 OpenMP 做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T13:40:03.313

您正在尝试做两件事 - 计算和 IO。计算可以并行化，但 IO 必须是串行的。但是通过将 IO 放在与计算相同的循环中，您也在强制对计算进行序列化，这是没有意义的。

你最好先做所有的计算，*然后*做 IO。即使在串行中，这几乎肯定会更快，特别是如果您可以将数据以二进制形式写入一大块而不是通过 fprintfs 循环。

```
 FILE* f = fopen("output.txt", "w");
    const int nIterations = 1000000;
    int values[nIterations];

#pragma omp parallel for 
    for(int n=0; n<niterations; n++)
    {
        int a=0, b=0, c=0;
        values[n] = do_computations(&a, &b, &c);
    }

    for (int n=0; n<niterations; n++)
         fprintf(f,"%d\n", values[n]);

    fclose(f); 
```

当然，这需要更多内存，但是速度与内存是一个常见的权衡。如果这种权衡的极端不起作用，您总是可以在可调整大小的块中进行计算：

```
 const int nIterations = 1000000;
    const int chunkSize   = 10000;
    int values[chunkSize];
    int chunkNum = 0;
    int chunkLeft = chunkSize;

    for (int start = 0; start < nIterations; start+= chunkSize) {

        if (start+chunkSize > nIterations) chunkLeft = nIterations - start;

    #pragma omp parallel for 
        for(int n=start; n<start+chunkLeft; n++)
        {
            int a=0, b=0, c=0;
            values[n-start] = do_computations(&a, &b, &c);
        }

        for (int n=0; n<chunkLeft; n++)
             fprintf(f,"%d\n", values[n]);

    }
    fclose(f); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T21:02:05.987

我将尝试提出以前的答案中尚未出现的解决方案：

```
#include <stdio.h>
#include <assert.h>
#include <unistd.h>

#define NITER 100

int main() {

  FILE * f = fopen("output.bin", "w+");

#pragma omp parallel
  {
#pragma omp for schedule(runtime)
    for (int ii = 0; ii < NITER; ++ii) {    
      sleep(1); // Simulate computation
      printf("%d\n",ii); // Just to be convinced that the loop is not evaluated in serial order
#pragma omp critical (FILEWRITE)
      {
    fseek (f  ,sizeof(ii)*ii,SEEK_SET);
    fwrite(&ii,sizeof(ii),1,f);
      }      
    }
  }

  // Check serially that the file is written in the right order
  fseek(f,0,SEEK_SET);
  int value = -1;
  for (int ii = 0; ii < NITER; ++ii) {        
    fread (&value,sizeof(ii),1,f);    
    assert( value == ii );
  }  

  fclose(f);
  return 0;
} 
```

这种情况仅适用于每个块具有非常明确的大小，这样，知道您正在计算哪个迭代，您可以从文件的开头得出它的偏移量。

也就是说，在您提供的代码片段中存在许多错误，表明您必须查看 OpenMP 的基础知识。例如：

```
#pragma omp parallel for
    for(int thread=0; thread<4; thread++)
    { // No need to unroll the loop as OpenMP runtime 
      // map iterations on threads based on the scheduling policy
        int a=0, b=0, c=0;
        for(int n=thread; n<nIterations; n+=4)
        {
            int value = do_computations(&a, &b, &c);
            // No need to use lock, when a critical construct suffices
            omp_set_lock(&lock); 
            fprintf(f, "%d\n", value);
            omp_unset_lock(&lock);
        }
    } // Implicit barrier at the end of the parallel for
#pragma omp barrier 
// Why a barrier when there is only one thread? 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-12-16T16:04:00.360

聚会迟到了，但是如果有人在这里偶然发现答案，您需要的是`#pragma omp single`，但也可以查看与@jonathan-dursi 的讨论。

# php - 如何在php中调用父类方法

> ID：12948837
> 
> 赞同：7
> 
> 时间：2012-10-18T07:01:13.507
> 
> 标签：php, oop, inheritance, scope-resolution

这是工作代码，但我想知道不使用另一个对象（注释`$foo`）我如何使用使用对象`printItem()`的方法。oop 编程概念的新手，所以问起来可能很弱，但真的找不到:(`class Foo``$bar`

我使用范围解析运算符来使用`printItem()`of `Foo class`，现在我的查询是什么时候可以使用此功能，那么创建对象有什么用？何时在适当的编码环境中使用范围解析运算符。

```
<?php

class Foo
{
    public function printItem($string)
    {
        echo "This is in class Foo ". $string ."<br />";
    }

    public function printPHP()
    {
        echo "PHP is great "."<br />";
    }
}

class Bar extends Foo
{
    public function printItem($string)
    {
        echo "This is in class Bar ". $string ."<br />";
    }
}       

//$foo = new Foo;
$bar = new Bar;

$bar->printPHP();
$bar->printItem("Bar class object");
//Foo::printItem("Mental Case"); 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-10-18T07:08:16.627

定义`printItem`为静态方法，您可以`Foo::printItem("Mental Case");` 在子方法中使用或调用它：

```
public function printItem($string)
{
    parent::printItem($string);
    echo "This is in class Bar ". $string ."<br />";
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-18T07:11:04.410

```
<?php
class test {

    public function __construct() {}

    public function name() {
       // $this->xname('John');
          $this->showName('John');
    }

    private function showName($name) {
        echo 'my name in test is '.$name;
    }
}

class extendTest extends test {

    public function __construct() {
        parent::__construct();
    }

    private function showName($name) {
        echo 'my name in extendTest is '.$name;
    }
}

$test = new extendTest();
$test->name();
?> 
```

结果：我在测试中的名字是约翰

如果我们将 showName 方法的可见性更改为 public 或 protected 那么上面的结果将是：my name in extendTest is John

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-18T07:12:55.980

通过添加“static”关键字使 printItem 成为静态方法。printItem($string) 将可以在不创建此类对象的情况下使用。

```
<?php

class Foo
{
    static public function printItem($string)
    {
        echo "This is in class Foo ". $string ."<br />";
    }

    public function printPHP()
    {
        echo "PHP is great "."<br />";
    }
}

class Bar extends Foo
{
    public function printItem($string)
    {
        echo "This is in class Bar ". $string ."<br />";
    }
}       

//$foo = new Foo;
$bar = new Bar;

$bar->printPHP();
$bar->printItem("Bar class object");
//Foo::printItem("Mental Case"); 
```

# php - PHP多维数组自定义排序

> ID：12948839
> 
> 赞同：0
> 
> 时间：2012-10-18T07:01:26.907
> 
> 标签：php

PHP 多维数组自定义排序。

排序应基于字段中的值`[position]` 一个人可以有多个职位（请参阅下面列出的特殊情况）。

```
Array
(
    [0] => Array
    (
        [position] => Array
            (
                [0] => Secretary
            )
    )
) 
```

我希望数组按位置值排序为

1.  秘书长
2.  总统
3.  司库
4.  秘书
5.  委员会成员

**下面数组的特殊情况** ，它应该是第一个数组。因为这个人是“总书记”

```
[2] => Array
(
    [person_id] => 51136
    [position] => Array
        (
            [0] => General Secretary
            [1] => Committee Member
        )

    [person_name] => Person 1
) 
```

**示例输入数据**

```
Array
(
    [0] => Array
    (
        [person_id] => 22180
        [position] => Array
            (
                [0] => Secretary
            )
        [person_name] => Person 1
    )

    [1] => Array
    (
        [person_id] => 51135
        [position] => Array
            (
                [0] => President
            )
        [person_name] => Person 2
    )

    [2] => Array
    (
        [person_id] => 51136
        [position] => Array
            (
                [0] => General Secretary
                [1] => Committee Member
            )

        [person_name] => Person 3
    )

    [3] => Array
    (
        [person_id] => 44141
        [position] => Array
            (
                [0] => Treasurer 
            )

        [person_name] => Person 4
    )

    [4] => Array
    (
        [person_id] => 51137
        [position] => Array
            (
                [0] => Committee Member
            )
        [person_name] => Person 5
    )
) 
```

**需要输出**

```
Array
(
    [0] => Array
    (
        [person_id] => 51136
        [position] => Array
            (
                [0] => General Secretary
                [1] => Committee Member
            )

        [person_name] => Person 3
    )
    [1] => Array
    (
        [person_id] => 51135
        [position] => Array
            (
                [0] => President
            )
        [person_name] => Person 2
    )
    [2] => Array
    (
        [person_id] => 44141
        [position] => Array
            (
                [0] => Treasurer 
            )

        [person_name] => Person 4
    )
    [3] => Array
    (
        [person_id] => 22180
        [position] => Array
            (
                [0] => Secretary
            )
        [person_name] => Person 1
    )
    [4] => Array
    (
        [person_id] => 51137
        [position] => Array
            (
                [0] => Committee Member
            )
        [person_name] => Person 5
    )
) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T08:55:44.667

好吧，我把这个弄出来。

您仍然可以使用`usort()`而不是重新发明轮子。只是比较两个人的位置就好了`array_search($position,$pos_array)`。

```
function sortByPosition($ps)
{
    $pos=array(0=>"General Secretary",1=>"President",2=>"Treasurer",3=>"Secretary",4=>"Committee Member");
    usort($ps,function($p1,$p2) use ($pos){
        $lvl1=count($pos);
        $lvl2=count($pos);
        foreach($p1["position"] as $position)
        {
            $lvl1=min(array_search($position,$pos),$lvl1);
        }
        foreach($p2["position"] as $position)
        {
            $lvl2=min(array_search($position,$pos),$lvl2);
        }
        return $lvl1-$lvl2;
    });
    return $ps;
} 
```

测试：

```
$arr=Array(Array("person_id" => 22180,"position" => Array("Secretary"),"person_name" => "Person 1"), Array("person_id" => 51135,"position" => Array("President"),"person_name" => "Person 2"), Array("person_id" => 51136,"position" => Array("General Secretary","Committee Member"),"person_name" => "Person 3"), Array("person_id" => 44141,"position" => Array("Treasurer"),"person_name" => "Person 4"), Array("person_id" => 51137,"position" => Array("Committee Member"),"person_name" => "Person 5"));
print_r(sortByPosition($arr)); 
```

输出：

```
Array
(
    [0] => Array
        (
            [person_id] => 51136
            [position] => Array
                (
                    [0] => General Secretary
                    [1] => Committee Member
                )

            [person_name] => Person 3
        )

    [1] => Array
        (
            [person_id] => 51135
            [position] => Array
                (
                    [0] => President
                )

            [person_name] => Person 2
        )

    [2] => Array
        (
            [person_id] => 44141
            [position] => Array
                (
                    [0] => Treasurer
                )

            [person_name] => Person 4
        )

    [3] => Array
        (
            [person_id] => 22180
            [position] => Array
                (
                    [0] => Secretary
                )

            [person_name] => Person 1
        )

    [4] => Array
        (
            [person_id] => 51137
            [position] => Array
                (
                    [0] => Committee Member
                )

            [person_name] => Person 5
        )

) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T07:10:57.247

您可以实现快速排序或任何其他排序算法，并确保比较发生在正确的变量上。

[http://en.wikipedia.org/wiki/Quicksort](http://en.wikipedia.org/wiki/Quicksort)

从 Wiipedias 伪代码中，您可以通过更改第 7 行来检查数组的位置参数。

```
function quicksort('array')
      if length('array') ≤ 1
          return 'array'  // an array of zero or one elements is already sorted
      select and remove a pivot value 'pivot' from 'array'
      create empty lists 'less' and 'greater'
      for each 'x' in 'array'
          if 'x' ≤ 'pivot' then append 'x' to 'less' // change to x['position'] and pivot['position']
          else append 'x' to 'greater'
      return concatenate(quicksort('less'), 'pivot', quicksort('greater')) // two recursive calls 
```

# javascript - OpenLayers 地图事件无法调用方法

> ID：12948841
> 
> 赞同：1
> 
> 时间：2012-10-18T07:01:28.217
> 
> 标签：javascript, openlayers

我想对 Openlayers 地图事件做出反应，但是当事件发出时调用类方法时遇到问题。相关代码片段如下所示：

```
function OpenLayersMap(divname) {
  var osmLayer = new OpenLayers.Layer.OSM("Open Street Maps");
  var gmLayer = new OpenLayers.Layer.Google("Google Maps");

  this.proj = new OpenLayers.Projection("EPSG:4326");
  this.map = new OpenLayers.Map(
  {
    div: divname,
    allOverlays: false,
    theme: null,
    controls: 
    [
      new OpenLayers.Control.Attribution(),
      new OpenLayers.Control.Navigation(),
      new OpenLayers.Control.LayerSwitcher(),
      new OpenLayers.Control.PanZoomBar(),
      new OpenLayers.Control.ScaleLine(),
      new OpenLayers.Control.MousePosition(
        {
          displayProjection: this.proj
        }
      ),
      new OpenLayers.Control.KeyboardDefaults()
    ],
    eventListeners: 
    {
      'moveend' : this.moved,
      'zoomend' : this.zoomed
    }
  }
  );
  this.map.addLayers([osmLayer, gmLayer]);
  this.map.setCenter(new OpenLayers.LonLat(8.56, 50).transform(
    this.proj, 
    this.map.getProjectionObject()), 
    10
  );
  this.updateMapData();
}

OpenLayersMap.prototype = {
  constructor : OpenLayersMap,

  updateMapData : function() {
    console.log("updateMapData!!!!!!!!");
    // Some more stuff
  },

  moved : function(event) {
    console.log("Map has been moved!");
    this.updateMapData(); // Line 94
  },

  zoomed : function(event) {
    console.log("Zoom has been used!");
    this.updateMapData();
  }
} 
```

加载页面后的萤火虫输出：

```
Map has been moved!
Uncaught Type error: Object #<Object> has no method 'updateMapData'
Map has been moved!
Uncaught Type error: Object #<Object> has no method 'updateMapData'
   OpenLayersMap.moved (ol.js:94)
   OpenLayers.Events.OpenLayers.Class.triggerEvent (OpenLayers-2.11-min.js:400)
   OpenLayers.Map.OpenLayers.Class.moveTo (OpenLayers-2.11-min.js:499)
   OpenLayers.Map.OpenLayers.Class.setCenter (OpenLayers-2.11-min.js:473)
   OpenLayers.Map.OpenLayers.Class.updateSize (OpenLayers-2.11-min.js:464)
   (anonymous function) (OpenLayers-2.11-min.js:158) 
```

因此调用了*移动*的方法，而不是 updateMapData 方法。如果我删除*eventListeners*部分，则构造函数端的 updateMapData 调用成功！

谁能告诉我为什么不能调用该方法？

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T07:54:10.163

我找到了解决问题的方法，但我并不完全理解问题所在。因此，请随时评论我的解决方案，或者用更好的解决方案来回答。

```
var self = this;
//...
eventListeners: 
{
  'moveend' : function(event) { self.moved(event); },
  'zoomend' : function(event) { self.zoomed(event); }
}
//... 
```

我怀疑创建对象时，OpenLayersMap 的原型方法（例如移动）是未知的。

# java - 如何在不制作新图表的情况下将 jzy3d 图表添加到 JFrame？

> ID：12948842
> 
> 赞同：1
> 
> 时间：2012-10-18T07:01:30.287
> 
> 标签：java, swing, jframe, layout-manager

JFrame中制作jzy3d图表的代码如下：

```
public class SurfaceViewerFrame extends IconFrame {

    public SurfaceViewerFrame() {
        setResizable(false);
        //System.loadLibrary("lib/jogl2-rc10/gluegen-rt.jar");
        Settings.getInstance().setHardwareAccelerated(true);
        FormLayout layout=new FormLayout("10px, 300px, 10px", "30px, 10px, 20px, 300px, 10px");
        CellConstraints сс=new CellConstraints();

        JLabel title=new JLabel("Выходная поверхность");

        Mapper mapper = new Mapper() {
            public double f(double x, double y) {
                return x * Math.sin(x * y);
            }
        };
        // Define range and precision for the function to plot
        Range range = new Range(-300, 300);
        int steps = 80;

        // Create the object to represent the function over the given range.
        final Shape surface = Builder.buildOrthonormal(new OrthonormalGrid(range, steps, range, steps), mapper);
        surface.setColorMapper(new ColorMapper(new ColorMapRainbow(), surface.getBounds().getZmin(), surface.getBounds().getZmax(), new Color(1, 1, 1, .5f)));
        surface.setFaceDisplayed(true);
        surface.setWireframeDisplayed(false);

        // Create a chart
        Chart chart = new Chart(Quality.Advanced, "awt");
        chart.getScene().getGraph().add(surface);
        chart.addController(new CameraKeyController());

//      ChartLauncher.openChart(chart, new Rectangle(0, 0, 100, 100), "122");

        JPanel panel=new JPanel();
        panel.add(title, сс.xy(1, 1));
        panel.add((Component)chart.getCanvas(), CC.xy(1, 3));
        add(panel);
        setSize(320, 370);
        setVisible(true);
    }
} 
```

但是如果我不推荐 openChart() 方法，我什么也看不到。如果我这样做，我的 JFrame 中会有 Chart 和一个新的空 JFrame；我不想用它。请告诉我，我该如何解决？我需要在我的 JFrame 中显示图形而不制作新的。

更新：抱歉，jzy3d 是用于制作 3d 表面的库。并且此代码有效，我不需要其他 LayoutManager，请再次阅读我的问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T07:06:04.503

A[`CardLayout`](http://docs.oracle.com/javase/7/docs/api/java/awt/CardLayout.html)非常适合这种用途。有关详细信息和工作示例，请参阅[如何使用 CardLayout](http://docs.oracle.com/javase/tutorial/uiswing/layout/card.html)。

其他组合数据的策略可以在*“The Use of Multiple JFrames, Good/Bad Practice?”*[这个答案](https://stackoverflow.com/questions/9554636/the-use-of-multiple-jframes-good-bad-practice/9554657#9554657)中看到/链接。.

 *### 更新

充实这个想法。

*   不要扩展框架，只需保留对面板的引用。
*   使面板成为`GridLayout`或`BorderLayout`（任何添加到其中的单个组件都没有约束，将被拉伸到可用的宽度和高度）。
*   就像您在上面的代码片段中所做的那样填写该面板。
*   `CardLayout`将该面板添加到主（也是唯一）框架中的a 卡片中。
*   （如有必要）翻到那张牌。*

# c# - 获取内部联接 LINQ 查询的列

> ID：12948843
> 
> 赞同：0
> 
> 时间：2012-10-18T07:01:37.577
> 
> 标签：c#, linq, datatable

我正在尝试使用 Linq 在 2 个 DataColumns 上内部加入 2 个 DataTables，我可以使用 Linq 获取行但是我无法获取列。我已经注释掉了我试图获取列的方法，如下所示。

**这样做的原因。**

我计划制作 3 种方法，LEFT JOIN、FULL JOIN 和 INNER JOIN，它们将返回一个 DataTable，我试图使其尽可能通用，我没有说明以下是否是一个好方法，我需要这样做尽可能优化。

```
 public static DataTable InnerJoin
     (DataTable dt1, DataTable dt2,DataColumn Parent,DataColumn Child)
     {
          DataTable result = new DataTable();

          var query =
              from d in dt1.AsEnumerable()
              join c in dt2.AsEnumerable() on d[Parent] equals c[Child]
              select new { d, c };
         /*
         var columns  = from d in dt1.Columns.Cast<DataColumn>()
                        from c in dt2.Columns.Cast<DataColumn>()
                          select new{c,d}
          foreach (var column in columns)
          {
              result.Columns.Add(column);
          }
          **/

          foreach (var row in query)
          {
              result.Rows.Add(row);
          }

         return result;
     } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T07:11:07.013

您的代码可以编译，因为有一个[**需要**](http://msdn.microsoft.com/en-us/library/07wwak56.aspx)`params object[]`. 但是你需要添加两列 type `DataRow`。

```
public static DataTable InnerJoin(DataTable dt1, DataTable dt2, DataColumn Parent, DataColumn Child)
{
    DataTable result = new DataTable();
    result.Columns.Add("Row1", typeof(DataRow));
    result.Columns.Add("Row2", typeof(DataRow));

    var query =
        from row1 in dt1.AsEnumerable()
        join row2 in dt2.AsEnumerable() on row1[Parent] equals row2[Child]
        select new { row1, row2 };

    foreach (var x in query)
    {
        result.Rows.Add(x.row1, x.row2);
    }

    return result;
} 
```

如果那是您需要的，它应该可以工作。

编辑：这是一个（工作）测试

```
DataTable table1 = new DataTable("table1");
table1.Columns.Add("ID", typeof(int));
table1.Columns.Add("Name", typeof(String));

object[] a1 = { 1, "T1Row1Name" };
object[] a2 = { 2, "T1Row2Name" };
object[] a3 = { 3, "T1Row3Name" };
object[] a4 = { 4, "T1Row4Name" };
table1.Rows.Add(a1);
table1.Rows.Add(a2);
table1.Rows.Add(a3);
table1.Rows.Add(a4);

DataTable table2 = new DataTable("table2");
table2.Columns.Add("ID", typeof(int));
table2.Columns.Add("Name", typeof(String));
table2.Columns.Add("Table1ID", typeof(int));

object[] b1 = { 1, "T2Row1Name", 1 };
object[] b2 = { 2, "T2Row2Name", 2 };
object[] b3 = { 3, "T2Row3Name", 2 };
object[] b4 = { 4, "T2Row4Name", 2 };
object[] b5 = { 5, "T2Row5Name", 3 };
table2.Rows.Add(b1);
table2.Rows.Add(b2);
table2.Rows.Add(b3);
table2.Rows.Add(b4);
table2.Rows.Add(b5);

var joinedTable = InnerJoin(table1, table2, table1.Columns["ID"], table2.Columns["Table1ID"]);

foreach (DataRow r in joinedTable.Rows)
{
    DataRow r1 = r.Field<DataRow>("Row1");
    DataRow r2 = r.Field<DataRow>("Row2");
    String r1Name = r1.Field<String>("Name");
    String r2Name = r2.Field<String>("Name");
} 
```

# ruby-on-rails - Rails Friendly_id 重复键值错误

> ID：12948844
> 
> 赞同：2
> 
> 时间：2012-10-18T07:01:40.043
> 
> 标签：ruby-on-rails, friendly-id

我在 Rails 站点上工作，我遇到了一个脚本问题，该脚本应该占用大量当地时间并将它们转换为 GMT（不要问......）并将这些值保存到新列中。问题是我不断收到错误：

```
duplicate key value violates unique constraint "index_slugs_on_n_s_s_and_s" (ActiveRecord::StatementInvalid)
: UPDATE "slugs" SET "sequence" = 3, "scope" = 'utah-museum-of-contemporary-art' WHERE "id" = 9 
```

此错误是由发生`scope`且`sequence`相同（不应该发生）引起的。我认为问题是具有 and 序列的结果`2`，`3`但不是`1`（slug ( `id=9`) 与数据库中存在的不一样）。有没有办法纠正这个问题并`friendly_id`正确地做到这一点？

# java - 当我请求操作时，是什么导致了此 NPE？

> ID：12948849
> 
> 赞同：6
> 
> 时间：2012-10-18T07:01:58.357
> 
> 标签：java, struts2, nullpointerexception, xml-configuration

当我第一次运行我的程序时，这个错误不存在，然后我尝试了一些实验来获得 MVC 架构的流程，但现在它向我展示了这个异常。

我想问题是当我通过订阅按钮请求时，它会去`struts.xml`寻找行动的地方。问题出在包标签中应该有什么

```
java.lang.NullPointerException
    org.apache.struts2.impl.StrutsActionProxy.getErrorMessage(StrutsActionProxy.java:69)
    com.opensymphony.xwork2.DefaultActionProxy.prepare(DefaultActionProxy.java:185)
    org.apache.struts2.impl.StrutsActionProxy.prepare(StrutsActionProxy.java:63)
    org.apache.struts2.impl.StrutsActionProxyFactory.createActionProxy(StrutsActionProxyFactory.java:39)
    com.opensymphony.xwork2.DefaultActionProxyFactory.createActionProxy(DefaultActionProxyFactory.java:58)
    org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:501)
    org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:432)
    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:390)
    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)
    org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)
    org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)
    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
    org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)
    org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:845)
    org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)
    org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)
    java.lang.Thread.run(Thread.java:619) 
```

**`struts.xml`：**

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration                             2.0//EN" "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
    <constant name="struts.devMode" value="true" />
    /*This package*/ 
    <package name="Struts2Ex2" extends="struts.default">
        <action name="test"
            class="MyPack.Verify"
            method="execute">
            <result name="success">/Test2/WelcomeHome.jsp</result>
        </action>
    </package>
 </struts> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T09:00:06.350

`/* */`错误是： 1\. XML 使用中没有这样的注释`<!-- -->`。2.没有这样的包`struts.default`使用`struts-default`代替。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-06-17T03:05:43.090

**我在包标签中得到了解决方案，它应该是**'extends="struts-default"' 而不是 **'extends="struts.default"'**

# jquery - 如何强制 jQuery 追加不自动关闭标签？

> ID：12948853
> 
> 赞同：37
> 
> 时间：2012-10-18T07:02:20.150
> 
> 标签：jquery, html-table

我有一个包含大约 1000 个属性的 JavaScript 对象，并且想要创建其中一个`<table>`条目，在一行中有八个属性，`<tr>`.

我正在使用 jQuery `append()`；但是，它会自动附加一个结束`</tr>`标签。我想手动定义关闭的位置`</tr>`。我该如何做到这一点？

物体：

```
var g2u = {};

g2u.a1 = "&#xe000;";
g2u.a2 = "&#xe001;";
g2u.a3 = "&#xe002;";
g2u.a4 = "&#xe003;";
g2u.a5 = "&#xe004;";
g2u.a5a = "&#xe005;";
g2u.a6 = "&#xe006;";
g2u.a6a = "&#xe007;";
g2u.a6b = "&#xe008;";
... etc... 
```

`<table>`: _

```
<table id="list" border="1">
</table>

<script>
var ctr = 0;
$("#list").append('<tr>');

for (var g in g2u) {
  $("#list").append('<td><span class="rom">'+g+'</span>\n');
  $("#list").append('<span class="eh">'+g2u[g]+'</span>\n');
  $("#list").append('<span class="rom">&nbsp;&nbsp;</span></td>\n');
  ctr++;
  if (ctr % 8 == 0) {
    $("#list").append('</tr><tr>\n');
  }
} 
```

*损坏*的输出：

```
<tbody><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr></tbody>
<td><span class="rom">a1</span></td><span class="eh"></span><span class="rom">&nbsp;&nbsp;</span><td><span class="rom">a2</span></td><span class="eh">&lt;/span><span class="rom">&nbsp;&nbsp;</span><td><span class="rom">a3</span></td><span class="eh">&lt;/span><span class="rom">&nbsp;&nbsp;</span><td><span class="rom">a4</span></td><span class="eh">&lt;/span><span class="rom">&nbsp;&nbsp;</span><td><span class="rom">a5</span></td><span class="eh">&lt;/span><span class="rom">&nbsp;&nbsp;</span><td><span class="rom">a5a</span></td><span class="eh">&lt;/span><span class="rom">&nbsp;&nbsp;</span><td><span class="rom">a6</span></td><span class="eh">&lt;/span><span class="rom">&nbsp;&nbsp;</span><td><span class="rom">a6a</span></td><span class="eh">&lt;/span><span class="rom">&nbsp;&nbsp;</span><td><span class="rom">a6b</span></td><span class="eh">&lt;/span><span class="rom">&nbsp;&nbsp;</span><td><span class="rom">a7</span></td><span class="eh">&lt;/span><span class="rom">&nbsp;&nbsp;</span><td><span class="rom">a8</span></td><span class="eh">&lt;/span><span class="rom">&nbsp;&nbsp;</span><td><span class="rom">a9</span></td><span class="eh">&lt;/span><span class="rom">&nbsp;&nbsp;</span><td><span class="rom">a10</span></td><span class="eh">&lt;/span><span class="rom">&nbsp;&nbsp;</span><td><span class="rom">a11</span></td><span class="eh">&lt;/span><span class="rom">&nbsp;&nbsp;</span><td><span class="rom">a12</span></td><span class="eh">&lt;/span><span class="rom">&nbsp;&nbsp;</span><td><span class="rom">a13</span></td><span class="eh">&lt;/span><span class="rom">&nbsp;&nbsp;</span><td><span class="rom">a14</span></td><span class="eh">&lt;/span><span class="rom">&nbsp;&nbsp;</span><td><span class="rom">a14a</span></td><span class="eh">&lt;/span><span class="rom">&nbsp;&nbsp;</span><td><spa 
```

* * *

## 回答 #1

> 赞同：60
> 
> 时间：2012-10-18T07:13:45.223

如果您附加它显然会尝试关闭标签。尝试将您的 html 放在一个字符串中，而不是将该字符串附加到 dom 中。

```
 <script>
    var ctr = 0;
    var html='<tr>';

    for (var g in g2u) {
      html+='<td><span class="rom">'+g+'</span>\n';
      html+='<span class="eh">'+g2u[g]+'</span>\n';
      html+='<span class="rom">&nbsp;&nbsp;</span></td>\n';
      ctr++;
      if (ctr % 8 == 0) {
        html+='</tr><tr>\n';
      }
    }

     $("#list").append(html); 
```

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2012-10-18T07:13:01.303

您正在考虑 html 标记，使用 append 您应该考虑 html [DOM](https://developer.mozilla.org/en-US/docs/DOM)，您没有打开标签和关闭标签只是元素。

您可以使用字符串来构建您的 html，然后将其附加到表中

```
var ctr = 0;
var innerTable = '<tr>';

for (var g in g2u) {
  innerTable += '<td><span class="rom">'+g+'</span>\n';
  innerTable += '<span class="eh">'+g2u[g]+'</span>\n';
  innerTable += '<span class="rom">&nbsp;&nbsp;</span></td>\n';
  ctr++;
  if (ctr % 8 == 0) {
    innerTable += '</tr><tr>\n';
  }
}
$("#list").append(innerTable); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2020-09-25T17:23:20.487

七年，但我坚信我可以帮助遇到类似问题的任何人。例如，如果您想使用 JQuery 的 $.each() 和 .append() 来制作用户列表，例如：

```
<ul>
  <li>User 1</li>
  <li>User 2</li>
</ul> 
```

这是你不想做的事情：

```
element.append(`<ul>`);
$.each(users, function(key, value) {
  element.append(`<li>${value.name}</li>`);
});
element.append(`</ul>`); 
```

输出将类似于：

```
<ul></ul>
<li>User 1</li>
<li>User 2</li> 
```

相反，这是您想要做的：

```
element.append(`<ul id="ul-users"></ul>`);
$.each(users, function(key, value) {
  $("#ul-users").append(`<li>${value.name}</li>`);
}); 
```

所以输出将如下：

```
<ul id="ul-users">
  <li>User 1</li>
  <li>User 2</li>
</ul> 
```

# c# - C#序列化，将属性的值作为元素名称

> ID：12948854
> 
> 赞同：1
> 
> 时间：2012-10-18T07:02:21.803
> 
> 标签：c#, attributes, xml-serialization

我正在将一个 C# 类序列化为 XML。类如下图所示：

```
public class EventProperty
{
    private string propertyNameField;
    private string propertyValueField;

    public string PropertyName
    {
        get  { return this.propertyNameField; }
        set  { this.propertyNameField = value; }
    }

    [System.Xml.Serialization.XmlTextAttribute()]        
    public string PropertyValue
    {
        get { return this.propertyValueField;  }
        set { this.propertyValueField = value; }
    }
}//end class 
```

测试代码是：

```
propertySet = new List<EventProperty>();
propertySet.Add(new EventProperty() { PropertyName = "ChenYi", PropertyValue = "21" });
propertySet.Add(new EventProperty() { PropertyName = "ChenJida", PropertyValue = "232" });
propertySet.Add(new EventProperty() { PropertyName = "XieChao", PropertyValue = "999" }); 
```

结果是这样的：

```
<property>
    <PropertyName>ChenYi</PropertyName>21</property>
<property>
    <PropertyName>ChenJida</PropertyName>232</property>
<property>
    <PropertyName>XieChao</PropertyName>999</property> 
```

但我期待如下所示：

```
<property>
    <ChenYi>21</ChenYi></property>
<property>
    <ChenJida>232</ChenJida></property>
<property>
    <XieChao>999</XieChao></property> 
```

有人知道应该在这里使用哪个 xmlattribute 吗？还是有其他方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T07:58:06.143

如果默认的 Xml 序列化行为不能满足您的方案，您应该使用[自定义序列化行为。](http://msdn.microsoft.com/en-us/library/system.xml.serialization.ixmlserializable.aspx)

# mysql - 如何在 SQL 中获取用户的当前事务详细信息？

> ID：12948858
> 
> 赞同：1
> 
> 时间：2012-10-18T07:02:34.083
> 
> 标签：mysql, sql, oracle

资产转移表

```
 TRANSFER_ID  TRANSFER_DATE  ASSET_ID   STOCK_TAG  TRANSFER_FROM_ID  TRANSFER_TO_ID  
    111         dd/mm/yyyy      2122      222-222        Roy                Jina 
```

参考上表，如果用户在他/她的账户中拥有多于一项资产，则必须显示这两项交易的详细信息。其次，仅显示当前交易，即。以前的交易，同一用户曾经持有资产，但已转移给其他用户，**应省略过去的交易细节**。

```
The result should display Transfer Id,Transfer Date,Asset ,Transfer to Id. 
```

如果有人可以提供帮助，我将非常感激。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T07:05:55.740

您需要创建单独的查询来获取`TRANSFER_DATE`每个`AssetID`. 试试这样的，

```
SELECT  a.*
FROM    tableName a
        INNER JOIN
        (
            SELECT AssetID, MAX(TRANSFER_DATE) maxDATE
            FROM tableName
            GROUP BY AssetID
        ) b ON a.AssetID = b.AssetID AND
                a.Transfer_Date = b.maxDATE 
```

*追问：你想要独一无二的记录的依据是什么？`ASSET_ID`或`TRANSFER_FROM_ID and TRANSFER_TO_ID`？_*

# java - 有什么方法可以使用 Eclipse 在 Java 字符串文字中编写（复制粘贴）格式良好的 SQL 查询？

> ID：12948860
> 
> 赞同：24
> 
> 时间：2012-10-18T07:02:43.830
> 
> 标签：java, sql, eclipse, formatting

当我希望在 Java 中使用 SQL 查询时，我通常将它们保存在 final String 变量中。现在，当字符串太大时，它会超出页面宽度，我们要么必须手动打破它（在 eclipse 中，转到字符串中的特定位置，然后输入，然后为每个生成的较小的部分），或者我们可以将 Eclipse 中的格式化程序设置为每行仅允许（例如）100 个字符。但是字符串没有以逻辑方式断开。

我可以在 SQL Developer 中很好地格式化查询（比如说），但是如果我将它粘贴到 Java 中，我将不得不手动设置所有结束引号和`+`符号以使其成为正确的 Java 字符串。我只想知道一种将格式正确的 SQL 查询直接复制粘贴到 Java 文件中的方法。我正在使用 Eclipse。

也许当查询格式如下：

```
SELECT
  *
 FROM
  something
 WHERE
  id=4; 
```

然后当它粘贴在一个java字符串中时，我们可以像这样：

```
"SELECT" +
  " *" +
 " FROM" +
  " something" + 
 " WHERE";
  id=4; 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-10-12T12:46:30.947

如果您不介意生成的 SQL 输出中的额外空格，这是一个创造性的解决方案：

### 第 1 步：粘贴

![在此处输入图像描述](../Images/016721fab5c3887bc7718b0bbd717c8a.png)

将格式化的 SQL 语句逐字粘贴到 Java 文件中

### 第 2 步：写开场白

![在此处输入图像描述](../Images/de27260e79826ee3bc5245eb1ad7c860.png)

注意突出显示的按钮，左数第六个。这就是很棒的“块选择模式”（Windows 上的 Alt-Shift-A）。它使您可以在同一位置的每条选定行上写开引号

### 第 3 步：编写结束引号和连接

![在此处输入图像描述](../Images/e5ba1f4e798ae3db00572d6a170b2794.png)

对右引号和连接符号 ( `+`)应用相同的技术

### 第 4 步：修复分号

![在此处输入图像描述](../Images/24902514989509ea2c1b90ecb73b631b.png)

这里不需要评论。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-10-18T07:43:27.980

在 Eclipse 中，在 Java > Editor > Typing 下的 Window > Preferences 中，选中“Escape text when paste into a string literal”复选框。

它将格式化纯文本：

```
line1
line2
line3 
```

到：

```
private final String TEXT = "line1\r\n" + 
            "line2\r\n" + 
            "line3"; 
```

这是 Eclipse Helios 上的输出。一个类似的问题：[用引号括起来](https://stackoverflow.com/questions/121199/surround-with-quotation-marks)

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-10-18T07:09:10.013

当您在 中时`SQLDeveloper`，选择查询并使用`Ctrl + F7`它来设置格式。再次选择它并使用它`Ctrl + Shift + F7`进行高级格式化，选择`Clipboard`输出目的地，输出类型为所需类型，然后单击`Apply`。现在，将它粘贴到 Eclipse 编辑器中，看看有什么不同。

我正在使用 SQLDeveloper 版本 3.1.07。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-10-18T08:00:24.090

实际上是一个非常好的问题，我也经常对此感到疑惑。我可以给您的一个提示是使用以下内容：

```
//@formatter:off
    private static final String QUERY = 
    "SELECT t.* " +
      "FROM table t " +
     "WHERE t.age > 18";
//@formatter:on 
```

它不会将 SQL 查询转换为 Java 字符串文字，但它可以防止 Eclipse 重新格式化您的字符串，使其难以阅读。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2014-04-28T16:59:12.387

我知道我参加这个聚会迟到了，但是对于任何使用大型查询的人来说，Eclipse 中的块模式可能很难使用，因为如果您的查询超过 100 行左右（取决于在您的机器上）。

我找到了这个网站，它非常简单而且非常快。将代码发布到窗口中，添加前缀 (") 并添加后缀 (" +)，然后单击另存为。它将很快为每一行添加前缀和后缀。

这是在线工具：

[http://textmechanic.co/Add-Prefix-Suffix-to-Text.html](http://textmechanic.co/Add-Prefix-Suffix-to-Text.html)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-10-18T07:47:09.917

对于`DbVisualizer`，您可以使用`Ctrl + Alt + K`将您的 sql 格式化为所需的模式。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-10-18T09:09:16.050

这非常接近：如何粘贴带有前导空格缩进的 SQL： [https ://stackoverflow.com/a/121513/1665128](https://stackoverflow.com/a/121513/1665128)

```
String sql =
    "SELECT\n" + 
    "  *\n" + 
    " FROM\n" + 
    "  something\n" + 
    " WHERE\n" + 
    "  id=4;"; 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2021-11-04T16:29:12.357

如果您使用的是 Java 15+，请使用[文本块](https://docs.oracle.com/en/java/javase/15/text-blocks/index.html)：

```
private final String someSql = """
      Select 
        colA,
        colB 
      From 
        myTable
      Where
        something = 'abc'
"""; 
```

# java - 在指定日期之前在 Android 中通知

> ID：12948868
> 
> 赞同：1
> 
> 时间：2012-10-18T07:03:43.487
> 
> 标签：java, android, android-intent, notifications, alarmmanager

我创建了一个假设“我的考试”的通知。

我想在设定日期前 3 天显示提醒通知

我将日期存储在数据库中想要将其与当前日期进行比较并显示通知

任何帮助将不胜感激

谢谢你...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T09:38:11.640

要生成比特定日期早 3 天的日期，请尝试以下操作：

```
Calendar c = Calendar.getInstance();
c.set(year, month, day); // Set the calendar NOTE: this will not change the hour, minute, second
c.add(Calendar.DAY_OF_YEAR, -3); // Roll the calendar back 3 days 
```

# wordpress - 从 wordpress 中的雅虎管道中删除图片库缩略图

> ID：12948871
> 
> 赞同：1
> 
> 时间：2012-10-18T07:03:49.107
> 
> 标签：wordpress, gallery, yahoo-pipes

你好，我用 yahoo 管道构建了一个 wordpress 网站，而 wp-o-matic 插件我用大量图片处理博客，图片之后每个帖子都有一个画廊，删除画廊的方法是什么（小缩略图） ，因为在提要中它已经消失了，但是如果我通过谷歌阅读器阅读它或将其发布到我的博客上，画廊就会继续展示。谢谢。

# javascript - #id 以数字结尾的通用 CSS

> ID：12948874
> 
> 赞同：1
> 
> 时间：2012-10-18T07:03:56.197
> 
> 标签：javascript, html, css

我将从一个例子开始

我有这样的东西。相同的 id 名称具有不同的结尾编号。

```
#samplelist_1 { color: #fff; }
#samplelist_2 { color: #fff; }
#samplelist_3 { color: #fff; }
#samplelist_4 { color: #fff; } 
```

这些css是自动生成的。所以我想为#samplelist_..声明和定义一个css，这通常会影响所有的#id。所以任何生成的#ids 说：_15、_86 或任何类似的东西都可以设置样式。

那可能吗。

如果解释有意义，请告诉我

提前致谢。拉胡尔 TS

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T07:05:28.217

您可以使用属性 starts-with 选择器：

```
[id^="samplelist_"] {
    color: white;
} 
```

更好的是，给他们上课。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-18T07:06:09.213

不要生成这种多余的样式，而是使用类一次将相同的样式应用于多个元素。因此，无需首先寻找这种*愚蠢的解决方案*。

如果不使用跨浏览器兼容的 CSS，那么您可以执行类似的操作

```
[id^="samplelist_"] {
    color: #FFF;
} 
```

让我详细解释一下这个选择器

*   `[id]`: 表示它将匹配`id`元素的属性
*   `^=`: 表示该值是否以`....`

结合它说“如果`id`以`samplelist_`”开头，然后应用这种风格。

# iphone - 在后台调用 UIGetScreenImage() 时出错

> ID：12948876
> 
> 赞同：0
> 
> 时间：2012-10-18T07:03:56.390
> 
> 标签：iphone

当我的应用进入后台时，出现如下错误信息：</p>

```
012-10-18 14:38:05.964 SoundRecorder[693:14603] *** Terminating app due to uncaught
exception 'NSGenericException', reason: 'Cannot call UICreateScreenImage() while app
is in the background.' 
```

这是我的代码：

```
- (void) getImage
{
    CGImageRef screen = UIGetScreenImage();
    UIImage* image = [UIImage imageWithCGImage:screen];
    CGImageRelease(screen);
    UIImageWriteToSavedPhotosAlbum(image, self, nil, nil);
    NSLog(@"1");
    [NSThread sleepForTimeInterval:0.5];
}

- (void) applicationDidEnterBackground: (UIApplication*) application
{
    UIApplication *app = [UIApplication sharedApplication];
    bgTask = [app beginBackgroundTaskWithExpirationHandler:^{  
        [app endBackgroundTask:bgTask];  
        bgTask = UIBackgroundTaskInvalid;  
    }];  
    dispatch_async(
        dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{  
        while(1){
            [self getImage];
            if(breakpoints != 1)
                break;
        }
        NSLog(@"run at backgroud!");
        [app endBackgroundTask:bgTask];  
        bgTask = UIBackgroundTaskInvalid;  
     }); 
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T08:25:14.640

`UIGetScreenImage()`好吧，根据错误消息，当您的应用程序在后台时，无法调用和相关功能。这是有道理的，这将是一个巨大的安全漏洞。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-20T15:41:54.813

你不应该使用 dispatch_async，你必须在后台线程中调用这个函数。

在 main/UI 线程中调用 dispatch_async 可能会导致函数被多次调用（因为 async 立即返回），甚至在最后一个完成之前就会使队列不堪重负。

如果您在 UI 以外的不同线程中调用它，我可以确认它可以工作。

# android - 谷歌通知中的一些代码中的“mId”（未知的外星变量）是什么，这是一个谜

> ID：12948878
> 
> 赞同：2
> 
> 时间：2012-10-18T07:04:03.237
> 
> 标签：android, android-notifications

有谁知道如何在谷歌提供的代码中使用“mId”变量？

[http://developer.android.com/guide/topics/ui/notifiers/notifications.html](http://developer.android.com/guide/topics/ui/notifiers/notifications.html)

文档中没有解释。但出现在代码的最后一行。使用此代码时，它是未定义的，因此我必须将其定义为“private int mId;”

完全失去了这个。我得到这个的代码如下所示。

mNotificationManager.notify(mId, mBuilder.build());

```
 ButtonOne.setOnClickListener(new View.OnClickListener() {

  private int mId;

// anonymous inner class override for on click
public void onClick(View v) {

    Intent myIntent = new Intent(MainActivity.this, CoverFlowExample.class);
     MainActivity.this.startActivity(myIntent);

     NotificationCompat.Builder mBuilder =
                new NotificationCompat.Builder(MainActivity.this)
                .setSmallIcon(R.drawable.ic_launcher)
                .setContentTitle("My notification")
                .setContentText("Hello World!");
        // Creates an explicit intent for an Activity in your app
        Intent resultIntent = new Intent(MainActivity.this, MainActivity.class);

        // The stack builder object will contain an artificial back stack for the
        // started Activity.
        // This ensures that navigating backward from the Activity leads out of
        // your application to the Home screen.
        TaskStackBuilder stackBuilder = TaskStackBuilder.create(MainActivity.this);
        // Adds the back stack for the Intent (but not the Intent itself)
        stackBuilder.addParentStack(MainActivity.class);
        // Adds the Intent that starts the Activity to the top of the stack
        stackBuilder.addNextIntent(resultIntent);
        PendingIntent resultPendingIntent =
                stackBuilder.getPendingIntent(
                    0,
                    PendingIntent.FLAG_UPDATE_CURRENT
                );
        mBuilder.setContentIntent(resultPendingIntent);
        NotificationManager mNotificationManager =
            (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);
        // mId allows you to update the notification later on.
        mNotificationManager.notify(mId, mBuilder.build());

} 
```

});

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-18T07:10:47.670

它是用于识别通知以供以后操作的唯一 ID。默认情况下，它具有 value `0`。

如果您不想稍后检索它进行更改，那么您甚至不需要做`private int mId`，只需在通知时设置任何值，例如：

```
mNotificationManager.notify(123, mBuilder.build()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T07:08:17.013

它是您将要显示的通知的唯一 ID，因此您可以稍后删除或更新通知。

id 在应用程序的上下文中是唯一的，因此如果您制作两个应用程序并使用相同的 id，android 仍然知道区别。

请参阅：http: [//developer.android.com/reference/android/app/NotificationManager.html#notify(int, android.app.Notification)](http://developer.android.com/reference/android/app/NotificationManager.html#notify%28int,%20android.app.Notification%29)

**从开发者网站：**

**id：**此通知在您的应用程序中唯一的标识符。

罗尔夫

# php - 添加jQuery下拉效果

> ID：12948886
> 
> 赞同：-2
> 
> 时间：2012-10-18T07:04:24.810
> 
> 标签：php, javascript, jquery, css

我想在此处显示的菜单中添加 jQuery 下拉效果：

[http://jsfiddle.net/5KRjN/](http://jsfiddle.net/5KRjN/)

任何幻灯片或切换效果！

请帮忙

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T07:21:55.767

您可以通过为内部`li`标签添加样式属性来做到这一点。

Html 代码应该是这样的，

```
<div id="snaznav">
    <ul>
        <li><a href="#" id="home">Home</a></li>
        <li>
            <a href="#" id="about">About</a>
            <ul>
               <li style="display:block; float:none;"> <a href="#">Submenu1</a></li>
               <li style="display:block; float:none;"> <a href="#">Submenu2</a></li>
               <li style="display:block; float:none;"> <a href="#">Submenu3</a></li>
            </ul>
        </li>
    </ul>
</div> 
```

# python - 如何使用 QtWebKit 设置浏览器的大小

> ID：12948889
> 
> 赞同：4
> 
> 时间：2012-10-18T07:04:51.930
> 
> 标签：python, pyqt4, qtwebkit

最近用PyQt4爬取了一些网页。我想设置由`QWebView().show()`. 我尝试使用以下代码片段来设置大小：

```
self.qsize = QWebPage().viewportSize()
self.qsize.setHeight(3000)
self.qsize.setWidth(1000)
print self.qsize.height()
print self.qsize.width() 
```

但是显示的浏览器总是相同的大小。

请给我一些关于如何设置**QWebView**显示的浏览器大小的提示。提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-18T08:10:13.397

我对此进行了测试，在发出 loadFinished 后窗口会自行调整大小：

```
import sys 
from PySide.QtCore import QUrl, QSize
from PySide.QtGui import QApplication, QMainWindow, QWidget
from PySide.QtWebKit import QWebView

class Browser(QMainWindow):

    def __init__(self):
        QMainWindow.__init__(self)
        self.resize(300, 300)
        self.web_view = QWebView()
        self.setCentralWidget(self.web_view)

        self.web_view.loadFinished.connect(self._load_finished)

    def _load_finished(self):
        frame = self.web_view.page().mainFrame()
        self.web_view.page().setViewportSize(frame.contentsSize())
        self.resize(frame.contentsSize())
        html_data = frame.toHtml()

if __name__ == '__main__': 
    app = QApplication(sys.argv) 
    browser = Browser() 
    r = QUrl("http://www.yahoo.com")
    browser.web_view.load(r)
    browser.show()
    app.exec_() 
```

# cocos2d-iphone - 不使用 UIScrollView 缩放图像视图

> ID：12948891
> 
> 赞同：0
> 
> 时间：2012-10-18T07:05:04.727
> 
> 标签：cocos2d-iphone, zooming

我正在使用触摸移动方法来移动图像视图，并使用捏合手势来缩放图像视图。但我想一键缩放图像视图。我正在使用触摸开始方法来检测触摸点。

那时我想缩放图像。我不想使用滚动视图，因为如果我使用滚动视图来缩放图像视图，则无法执行触摸事件。

请在触摸开始方法上缩放图像视图的任何想法。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T06:27:48.413

当检测到触摸时，您可以对图像使用`CCScaleTo`或`CCScaleBy`操作。

# c++ - 在模板参数推导中 sqrt 如何 （复杂的 ) 匹配 sqrt ( ) 函数调用？

> ID：12948897
> 
> 赞同：2
> 
> 时间：2012-10-18T07:05:12.863
> 
> 标签：c++, templates, arguments, template-argument-deduction

```
template<class T> T sqrt (T);
template<class T> complex<T> sqrt(complex<T>);
double sqrt(double);
void f(complex<double> z)
{
    sqrt(z);
} 
```

在这段代码中，如何`sqrt<double>(complex<double>)`最终成为模板参数推导的候选者？作者说任何匹配的呼叫`sqrt<T>(complex<T>)`也匹配`sqrt<T>(<T>)`。如何？

代码来自Bjarne Stroustrup*的 The C++ Programming Language*。第 13.3.2 节

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-18T07:13:59.117

嗯，`z`是类型`complex<double>`。因为`T`它`double`明显匹配

```
template <typename T> complex<T> sqrt(complex<T>); 
```

此外，与`T`它`complex<double>`匹配

```
template <typename T> T sqrt(T); 
```

这个问题出在哪里？

作为匹配这两个函数的结果，用于决定使用哪个函数的重载集由两个实例化组成

```
complex<double> sqrt<double>(complex<double>)
complex<double> sqrt<complex<double>>(complex<double>) 
```

两者都匹配，但第一个更专业，因此由重载决议选择。

# iphone - 在 iPhone 应用程序中制作动画

> ID：12948903
> 
> 赞同：0
> 
> 时间：2012-10-18T07:05:33.350
> 
> 标签：iphone, ios

我有一个问题，我们如何在 iphone 应用程序中制作动画，如笔记应用程序删除动画。

如果可能的话，请提供我的代码。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T07:48:14.260

笔记应用程序使用 UITableView。因此，如果您也使用 UITableView，则可以使用以下方法：

```
NSArray *indexPaths = [NSArray arrayWithObject:indexPathToDelete];
[myTableView deleteRowsAtIndexPaths:indexPaths withRowAnimation:UITableViewRowAnimationLeft]; 
```

希望它会有所帮助。

PS：有关苹果文档的更多信息：[UITableView 文档](http://developer.apple.com/library/ios/documentation/uikit/reference/UITableView_Class/Reference/Reference.html#//apple_ref/occ/instm/UITableView/deleteRowsAtIndexPaths%3awithRowAnimation%3a)

# eclipse - 使用 WebDriver 不生成带有 TestNG 的 ReportNG 报告

> ID：12948907
> 
> 赞同：3
> 
> 时间：2012-10-18T07:05:52.137
> 
> 标签：eclipse, webdriver, automated-tests, testng, reportng

我在 Eclipse 中使用 Selenium WebDriver + TestNG 和 java。我想使用 ReportNG 而不是普通的 TestNG 报告生成更好的报告。我已经使用reportng-1.1.2.jar 和velocity-dep-1.4.jar 配置了构建路径。我还从 Project > Properties > TestNG > "Disable Default Listeners" 禁用了默认的 TestNG 报告 目前我已经创建了一个 testNg.xml 文件，它将我的测试作为完整的测试套件运行。xml文件内容如下：

```
<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd">
<suite thread-count="5" skipfailedinvocationCounts="false" verbose="1" preserve-order="true" name="testingXML" junit="false" parallel="false" annotations="JDK">
<test verbose="2" name="com.src.com.pcrm.pageobjects.*" junit="false" annotations="JDK">
<testng classpathref="test-path"
            outputdir="${test-results.dir}"
            haltonfailure="true"
            useDefaultListeners="false"
           listeners="org.uncommons.reportng.HTMLReporter,org.uncommons.reportng.JUnitXMLReporter">
      <xmlfileset dir="." includes="testng.xml"/>
      <sysproperty key="org.uncommons.reportng.title" value="My Test Report"/>
    </testng>
<classes>
<class name="com.pcrm.pageobjects.HomeTest"/>
    <methods>   
        <include name="testManadatoryFieldsOnHomePage"/>
        <include name="testIsLogoDisplayed"/>
        <include name="testUrlCheck"/>
    </methods> 
```

但是当我执行这个 xml 文件时，它没有生成任何 ReportNG 报告。怎么了？帮助表示赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T16:08:37.037

我最好的猜测是这是一个类路径问题。确保 ReportNG 和 Velocity JAR 位于类路径中。请参阅有关使用带有 Selenium 的 ReportNG 的类似问题的[相关问题。](https://stackoverflow.com/questions/6367643/reportng-does-not-provide-any-report)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-31T13:46:59.617

你可以试试这个[TestNG-XSLT](http://code.google.com/p/testng-xslt/)报告，它看起来更大更容易阅读。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-07-23T04:39:50.553

第 1 步：下载所需的 Jar 文件

从这里：[https](https://github.com/google/guice) ://github.com/google/guice你可以下载下面的 jar 文件

guice-3.0.jar

从这里：[http](http://reportng.uncommons.org/) ://reportng.uncommons.org/你可以下载下面的 jar 文件

```
reportng-1.1.4.jar
velocity-dep-1.4.jar 
```

第 2 步：在项目的构建路径中添加 Jar 文件

第 3 步：禁用 testng 的默认侦听器

您需要禁用 testng 的默认侦听器。禁用默认侦听器 在 Eclipse 中右键单击项目文件夹。转到属性。- 它将打开属性对话框。转到TestNG并检查禁用默认侦听器--->应用--->确定

第 4 步：在 TestNG.xml 中添加这些监听器

```
<listeners>
        <listener class-name="org.uncommons.reportng.HTMLReporter"/>
        <listener class-name="org.uncommons.reportng.JUnitXMLReporter"/>
</listeners> 
```

第 5 步：执行测试并查看 ReportNG 报告（在 html 文件夹内 html-->index.html（不在 index.html 外））

刷新您的项目文件夹。它将创建/更新测试输出文件夹。探索该文件夹，然后探索 html 文件夹。您将在其中找到 index.html 文件。打开 index.html 文件。

# c++ - 线性代数变换矩阵 - 通过乘以矩阵从一个点到另一个点？

> ID：12948908
> 
> 赞同：0
> 
> 时间：2012-10-18T07:05:52.390
> 
> 标签：c++, opengl, matrix, transformation, linear-algebra

我只熟悉线性代数，但我正在尝试在我正在开发的图形应用程序上做一个十字准线。

```
I have a point: (x,y,z) 
```

我正试图说明这一点：

```
(2/(x+y),(5y+z)/(2x+2y),3) 
```

我一直在阅读，可以通过将我的观点乘以“变换矩阵”来获得我想要的观点。但我不知道该怎么做。

有谁知道如何一步一步地让它到达那个坐标？如果我能看到最终结果，我可以尝试扭转它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T07:14:38.297

你必须添加一个齐次坐标*w*；然后你的方程是形式

[x,y,z,w=1] * [4x4] 矩阵 = [WX,WY,WZ,W]，其中除以 W（应该是 (x+y)）你也许可以达到预期的结果.. .

因此，您必须找到一个矩阵 M，它表示以下方程：

```
WX = 2, 
WY = 2.5y+0.5z, 
WZ = 3x+3y, 
W  = x+y 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T08:38:51.990

您不能直接这样做，因为只有线性变换（http://en.wikipedia.org/wiki/Linear_map）可以用矩阵表示，而您的变换不是线性的。你可以做的是重写你的转换如下：

```
(x,y,z,w)->( 2w , 5y/2+z/2 , 3x+3y ) 
```

现在是线性的，其各自的变换由下式给出：

```
T(x,y,z,w)=[0  0  0  2; 0  5/2  1/2  0; 3  3  0  0]*(x,y,z,w) 
```

其中矩阵由 [] 之间的数字给出，每行由“;”分隔。如您所见，您现在有一个线性变换，它没有给出您需要的点，但是如果您在 w=1 中评估您的变换，并将结果向量中的每个条目除以 (x+y)，那么您有你想要达到的结果。我是说，

```
(2/(x+y),(5y+z)/(2x+2y),3) = 
[1/(x+y)]*[0  0  0  2; 0  5/2  1/2  0; 3  3  0  0]*(x,y,z,w=1) 
```

我希望这对你有用。

# php - Cron-job 没有发送正确的日期

> ID：12948913
> 
> 赞同：1
> 
> 时间：2012-10-18T07:06:04.563
> 
> 标签：php, cron, mime-mail

当（管理）用户设置日期时，我有一个更新的 cronjob。cronjob 设置正确，因为它在 cronjob 列表中显示如下（在 cPanel 上）：

```
lynx -source http://www.example.com/dynam_code/autoscripts/expenseClaims.php?do=notify&date=1350252000&final=1350338400 
```

这是 cronjob 创建脚本：

```
$output = shell_exec('crontab -l');
$jobs = explode(PHP_EOL,$output);
$minute = '00';
$hour = '09';
$day = date('j',strtotime($_GET['reminder']));
$month = date('n',strtotime($_GET['reminder']));

for($i = 0; $i < count($jobs); $i++) {
    if(strpos($jobs[$i],'http://intra.vceza.com/dynam_code/autoscripts/expenseClaims.php?do=notify') !== false)
        $jobs[$i] = $minute.' '.$hour.' '.$day.' '.$month.' * lynx -source http://intra.vceza.com/dynam_code/autoscripts/expenseClaims.php?do=notify&date='.strtotime($_GET['done']).'&final='.strtotime($_GET['approved']);
    }
    foreach($jobs as $key => $value) { 
        if($value == "") { 
            unset($jobs[$key]); 
        } 
    } 
    $jobs = array_values($jobs); 

    $jobs[] = "";
    $output = implode(PHP_EOL,$jobs);
    file_put_contents('/tmp/crontab.txt', $output);
    exec('crontab /tmp/crontab.txt',$output,$return); 
```

此 cronjob 会触发一个邮件脚本，该脚本会根据这些日期向整个公司发送邮件。当脚本自动运行时，它会将所有日期显示为 1970 年 1 月 1 日。但是，当我从 cron 作业复制该 PHP 文件的路径并运行它时，它会发出正确的日期。

这是获取日期并发送邮件的脚本：

```
if($_GET['do'] == 'notify') {
    $time = $_GET['date'];
    $day = date('l',$time);
    $date = date('j F Y',$time);
    $final = date('j F Y',$_GET['final']);
    $to = 'people@example.com';
    $str = "Expense Claims";

    $html_data = '<html><head><title>'.$str.'</title></head><body style="font-family:Calibri, Arial; font-size:15px">Good day all,<br/><br/>Please take note that all Expense Claim should be completed on the intraweb by ' . $day . ' morning <b>' . $date . ' before 9am.</b><br/><br/>All supervisors should approve claims by Friday morning <b>' . $final . ' before 9am.</b> <br/><br/>All slips and supporting documents should be handed in by Friday morning <b>' . $final . ' before 9am</b>. Bear in mind that it is the sole responsibility of the claimee to hand in his/her slips or supporting documents.<br/><br/><span style="color:red">Please take note that Expense Claims will only reach the Finance Department if <b>submitted and approved on time.</b> Claims not submitted or approved on time will only be processed in the following month.</span><br /><br/>Kind regards,<br/>JD</body></html>';

    $mime = new MIME_mail("John Doe <jd@example.com>", $to, $str);
    $mime->fattach($path,"",OCTET,BASE64,ATTACH);
    $mime->attach($html_data,$str, HTML, BASE64);
    $mime->send_mail();
} 
```

我不知道问题是什么，我已经尝试过查看代码。就像我说的，如果我手动运行它，它就可以工作。如果 cronjob 运行它，它不会。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T07:31:51.290

您的 crontab 条目在 do=notify 之后包含一个“&”。如果您在 cron 作业（或 *nix shell）的命令中使用“&”，这意味着 & 之前的部分将在后台执行。因此，仅执行“lynx -source [http://www.example.com/dynam_code/autoscripts/expenseClaims.php?do=notify](http://www.example.com/dynam_code/autoscripts/expenseClaims.php?do=notify) ”部分。您需要引用 url，因此命令将如下所示：

```
lynx -source 'http://www.example.com/dynam_code/autoscripts/expenseClaims.php?do=notify&date=1350252000&final=1350338400' 
```

# c# - 该语言不支持 Scripting.Dictionary.this[ref object]'

> ID：12948917
> 
> 赞同：0
> 
> 时间：2012-10-18T07:06:23.280
> 
> 标签：c#

我正在将 VB6 项目转换为 C# .Net，但在使用 .Net 时遇到问题`Scripting.Dictionary`。错误消息是**“Scripting.Dictionary.this[ref object]' is not supported by the language”**。我想获取特定键的项目。

```
key=astr[n];
Scripting.Dictionary m_dicValueOf;
strXPath = m_dicValueOf[astr[n]]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T07:16:08.647

您不能在 C# 的索引器中使用`ref`or`out`参数，因此不能使用具有`ref`or`out`参数的索引器。

（语言限制背后的原因当然是改变你发送给索引器的键是没有意义的。）

请改用`Dictionary<K,V>`框架中的类。例子：

```
Dictionary<string, string> m_dicValueOf;

strXPath = m_dicValueOf[key]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T07:21:18.887

尽管`dictionary[ref key]`表面上看起来像 C# 索引器，但它并不兼容。

相反，要在字典中设置一个值，您需要使用底层的 set 方法：

```
dictionary.set_Item(ref key, value); 
```

请注意，类型`key`必须是`Object`.

要获取键的值，您需要使用底层的 get 方法：

```
var value = dictionary.get_Item(ref key); 
```

再次，`key`必须`Object`。

# liferay-6 - 如何在 Liferay 6.1 中显示用户

> ID：12948919
> 
> 赞同：1
> 
> 时间：2012-10-18T07:06:24.287
> 
> 标签：liferay-6

如何获取liferay门户6.1的所有用户列表

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T09:11:57.513

在 Java 中：

```
List<User> users = UserLocalServiceUtil.getUsers(-1, -1); 
```

在速度：

```
<ul>
#set($userService = $serviceLocator.findService("com.liferay.portal.service.UserLocalService"))
#foreach($user in $userService.getUsers(-1, -1))
    <li>$user.fullName</li>
#end
</ul> 
```

`serviceLocator`要使 Velocity 工作，您必须通过将以下属性添加到来消除限制`portal-ext.properties`：

```
journal.template.velocity.restricted.variables= 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T04:51:09.573

您可以使用下面的代码来获取所有用户的列表。

`List<User> userList=userLocalServiceUtil.getUser(0,userLocalServiceUtil.getUserCount());`

# vb.net - 如何复制数据网格中的最后一行

> ID：12948920
> 
> 赞同：0
> 
> 时间：2012-10-18T07:06:25.193
> 
> 标签：vb.net

使用 VB.Net

我想将最后一行值复制到新行

代码

```
 Dim rcount As Int32
    For i As Integer = 0 To gridview1.RowCount - 1
    gridview1.Rows.Add()
    rcount = gridview1.RowCount() - 1
    For j As Integer = 0 To gridview1.Rows(i).Cells.Count - 1
    gridview1.Rows(rcount).Cells(j).Value = gridview1.Rows(i).Cells(j).Value
    Next
    gridview1.Rows(rcount).Cells(1).Value = rcount + 1
    rcount = 0
    Next 
```

上面的代码正在工作，但是它将所有前一行复制到新行，我想将最后一行复制到新行

如何解决这个问题呢。

需要 VB.Net 代码帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T07:34:15.983

如果您只想将最后一行复制到新行，请执行此操作。

```
 Dim LastRow As Integer = DataGridView1.Rows.Count - 1
    Dim Newrow As Integer = DataGridView1.Rows.Add()
    For i As Integer = 0 To DataGridView1.Columns.Count - 1
        DataGridView1.Rows(Newrow).Cells(i).Value = DataGridView1.Rows(LastRow).Cells(i).Value
    Next 
```

如果您始终存在空白的可编辑行，这将不起作用。然后你需要从“Dim LastRow”行中减去 2。

# .net - 用于频繁更改数据的分布式缓存

> ID：12948921
> 
> 赞同：0
> 
> 时间：2012-10-18T07:06:33.160
> 
> 标签：.net, wcf, caching

我想在我的服务的多个实例中汇集我的连接对象（不是 SQL 连接对象）（具体来说，我的服务将部署在网络场上，所有实例都将管理一个公共池）。这些对象会经常更新。我还想保留我的连接对象，以便在实例出现故障时可以恢复它们。

任何解决方案（开箱即用或其他）或建议可以帮助我实现这一目标？

到目前为止，我遇到了带有数据访问块的 EntLib 缓存块来持久化数据。但是，对于频繁更改的数据，不建议使用缓存块。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-21T03:09:28.567

Enterprise Cache 是一个非常简单的键值存储。它不具备同步远程实例的功能，您将自己做很多工作。尽管据我所知，频繁更改的数据没有问题（最后不是我很久以前做的预订项目）。如果您正在制作一个更强大的系统，我建议您使用更高级的缓存，允许您拥有一个具有多个远程引用的中央缓存实例，每个缓存实例都包含整个数据集。这是描述这种解决方案的页面： [http ://wiki.gigaspaces.com/wiki/display/XAP9NET/Local+Cache](http://wiki.gigaspaces.com/wiki/display/XAP9NET/Local+Cache)

如果您想使用 DB 并避免缓存，另一种选择是尝试将 NHibernate 与二级缓存一起使用。这意味着您需要在每个实例中对其进行配置并对其进行大量刷新。与完整的缓存相比，可能选择较少。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T07:09:30.667

我不是这类问题的专家，特别是对于快速变化的数据（缓存它通常没有什么好处！），但是......

我相信企业库缓存块已被弃用，因为它被带入 .NET[链接](http://msdn.microsoft.com/en-us/library/ff664753%28v=pandp.50%29.aspx)

你可以看看[Microsoft Server AppFabric](http://msdn.microsoft.com/en-us/windowsserver/ee695849.aspx)

# database - db2 上的错误代码 -193

> ID：12948923
> 
> 赞同：1
> 
> 时间：2012-10-18T07:06:37.547
> 
> 标签：database, db2

我想更改我的数据库上的一些表，这是一条 sql 和错误消息。我在 db2 文档和谷歌上搜索过，但没有找到。

![在此处输入图像描述](../Images/e565ec1300d4c065dd975828fdc42834.png)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-18T11:36:42.983

当您看到 SQLCODE 错误消息（例如 -193）时，它与错误消息 SQL0193 相同。获得帮助的最简单方法是使用 db2 命令窗口并键入

```
db2 ? SQL193 
```

该消息表明您不能在没有默认值的情况下添加非空列。添加列时包含默认值，然后如果您不想要默认值，则使用第二个 alter table 语句删除默认值。

```
SQL0193N
In an ALTER TABLE statement, the column column-name has been specified as NOT NULL and    either the DEFAULT clause was not specified or was specified as DEFAULT NULL.

Explanation
When new columns are added to a table that already exists, a value must be assigned to that new column for all existing rows. By default, the null value is assigned. However, since the column has been defined as NOT NULL, a default value other than null must be defined.

User response
Either remove the NOT NULL restriction on the column or provide a default value other than null for the column.

sqlcode: -193

sqlstate: 42601

Parent topic: SQL Messages 
```

留言主题

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-11-26T09:15:44.643

标记为答案的消息是正确的！

这是寻找特定陈述的人的示例（就像我一样）：

```
alter table table_example add SAMPLE_ID int not null default 0;
alter table table_example alter column SAMPLE_ID drop default; 
```

# iphone - 由于从 iOS6 中删除了 autoresize，如何为 iOS6 自动调整子视图的大小？

> ID：12948927
> 
> 赞同：3
> 
> 时间：2012-10-18T07:06:56.967
> 
> 标签：iphone, ios6, autorelease, autoresizingmask

由于从 iOS6 中删除了 autoresize，如何自动为 iOS6 调整视图内的所有子视图的大小？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T07:16:05.920

从技术上讲，答案是使用自动布局，替代以前 iOS 版本中可用的原始自动调整大小功能。

然而，新系统需要一些时间来适应和设置所有视图和控件，所以如果您想使用旧的自动调整大小控件，您可以！它没有被删除，只是新的应用程序和情节提要自动配置为默认使用自动布局。

如果您在情节提要文件（实用工具面板的第一个选项卡）中取消选择“使用自动布局”，则自动布局将被禁用，并且自动调整大小控件将再次可用。

# vim - vim - 逐行显示文件的一部分

> ID：12948931
> 
> 赞同：4
> 
> 时间：2012-10-18T07:07:13.403
> 
> 标签：vim

在 vim 中是否可以在缓冲区中将文件的一部分从给定行显示到另一行（比如文件 a.txt 从第 10 行到第 25 行）？是否也可以通过删除内容（第 10 到 25 行）来编辑它并将其写回文件，然后从起始行（第 10 行）开始放置当前缓冲区？

我希望从我指定的行范围编辑部分文件而不打开整个文件。我需要这个是出于可用性目的，而不是出于性能问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-18T07:51:23.043

NrrwRgn[插件](http://www.vim.org/scripts/script.php?script_id=3075)就是这样做的；编辑器功能源自 Emacs。您可以使用`:NarrowRegion`在临时缓冲区中编辑一系列行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T07:22:29.410

我不确定如何单独在 vim 中执行此操作，但如果我遇到这样的问题，我会拆分文件：

```
head -n 10 file > file1
tail -n +11 | head 15 > file2
tail -n +16 > file3 
```

然后编辑中间文件

```
 vim file2 
```

并再次连接文件：

```
cat file1 file2 file3 > file 
```

当然，使用一个小函数助手，您可以使用一个命令来完成。

如果问题是您不喜欢查看整个文件（而不是因为文件非常大），那么定义折叠以隐藏文件的其余部分：

```
1Gv9jzf16jvGzf 
```

（说明：`1Gv9j`- 到顶部，开始一个可视块，向下走 9 行；`zf`创建一个折叠，`16j`向下到第 26 行，`vG`从第 26 行到末尾创建一个可视块，`zf`折叠文件的其余部分）

# grails - 将url添加到grails中的所有静态资源？

> ID：12948933
> 
> 赞同：1
> 
> 时间：2012-10-18T07:07:23.910
> 
> 标签：grails, url-mapping

我在 grails 中创建了一个名为 的应用程序`xyz`，并将创建的战争 ( `xyz.war`) 更改为 ROOT.war。grails 应用程序上下文现在也是“/”。我可以从根（即`http://localhost:8080/`或`http://www.mywebsitedomain.com/`）访问该应用程序。我所有的`img src`标签也是绝对的，例如。
`<img src='/images/abc.png'>`
和 ajax 对动作的调用是这样的

```
$.ajax({
  url:"/myController/myAction/myId"
}) 
```

一切运行良好。

现在我需要将已部署的战争从 ROOT.war 更改为 xyz.war。但是所有资源都是绝对的（它们以'/'开头）。我看不到任何图像，也看不到任何对控制器的调用，因为他们期望`/xyz`在它们之前。**我可以更改配置来执行此操作吗？**我不想`/xyz`在我的 gsp 和 js 文件中添加所有 url。将 grails 应用程序上下文更改为`/xyz`没有帮助，在代码中附加`/xyz`到 urlMappings.groovy也没有帮助。`/$controller/$action`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T12:31:04.847

我会告诉你我做了什么，你可以决定它是否是你想做的。第一步是将 grails contextPath 更改为应有的状态。

在我`main.gsp`用于所有页面的页面中，我在脑海中设置了这个：

```
<script type="text/javascript">
    var contextPath = "${contextPath}";
</script> 
```

然后我在所有使用硬编码路径的 javascript 文件中使用该变量。您不应该在 GSP 中使用任何硬编码路径。您有标签可以根据控制器和操作为您获取这些标签。如果您需要进一步的解释，请告诉我。

# python - 如何找到同一脚本的多个PID

> ID：12948935
> 
> 赞同：0
> 
> 时间：2012-10-18T07:07:31.477
> 
> 标签：python, cross-platform

```
$ ps aux | grep file1.py
xyz    6103  0.0  0.1  33476  6480 pts/1    S+   12:00   0:00 python file1.py
xyz    6188  0.0  0.1  33476  6472 pts/2    S+   12:05   0:00 python file1.py
xyz    7294  0.0  0.0   8956   872 pts/4    S+   12:49   0:00 grep --color=auto file1.py 
```

进程 6103 已在 12:00 开始，5 分钟后进程 6188 开始。我需要找出两个进程 6103,6188

# pid_finder.py

```
import psutil

PROCNAME = "file1.py"

process = []
for proc in psutil.process_iter():
    if proc.name == PROCNAME:
        print proc 
```

但是上面的脚本什么也没打印出来。“psutil”模块可以有其他选项来查找脚本进程的pid。

psutil.test() 给出了以下 o/p ...

```
xyz      6103  0.0  0.2   33476    6480 /dev/pts/1    13:23   30:00  python
xyz      6188  0.0  0.2   33476    6480 /dev/pts/2    13:23   30:00  python
xyz      8831  0.0  1.0  430612   39796 ?             13:31   30:03  gedit
xyz      8833  0.0    ?   14540     808 ?             13:31   30:00  gnome-pty-helper
xyz      8835  0.0  0.1   23636    5008 /dev/pts/5    13:31   30:00  bash
xyz      9367  0.0  0.2   51580    7740 /dev/pts/4    13:42   30:00  python 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T08:29:20.453

如果您不担心**os.popen()**

```
#!/usr/bin/python
import os
PROCNAME = "file1.py"
pids = []
for proc_data in os.popen('/bin/ps -eo pid,comm,args'):
    bits = proc_data.strip().split()
    (pid, comm ) = bits[0:2]
    args = " ".join( bits[3:] )
    if args == PROCNAME:
        pids.append( pid )

print pids 
```

这应该让您根据流程的参数找到东西。

如果需要，您可以更改它，以便 comm 和 args 在其中一个字符串。

```
 pid = bits[0]
    comm_and_args = " ".join( bits[1:] ) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T07:13:55.963

请继续阅读`pidof`：

```
man pidof 
```

# javascript - 可以访问数组的元素，但不能迭代

> ID：12948936
> 
> 赞同：2
> 
> 时间：2012-10-18T07:07:36.313
> 
> 标签：javascript, jquery, ajax, arrays

我有一组 URL，以及一组要从外部提取的数据。URL 和数据完美地一一对应。我尝试这样做：

```
for (var i = 0; i < children.length; i++) {
    urls.push(children[i].data.url); 
}

for (var i = 0; i < children.length; i++) { 
    $.ajax({
         url: DATA_SOURCE,
         dataType: "jsonp",
         success: function (data2) {                           
             console.log(urls[0]);
             console.log(urls[i]);
         }
    });                        
} 
```

第一个日志总是打印`urls`数组的第一个元素。我可以将数字更改为任何其他有效索引并且它可以工作。然而，*第二个*日志总是打印`undefined`。我最初是从第二个循环中获取 url，但我把它拿出来以防万一它被证明是一个异步错误或什么的。`urls`被初始化为一个`Array`，而不是一个`Object`。将第二个日志从成功函数中取出（并进入 for 循环的主要范围）使其按预期执行。我很乐意将它归结为 ajax 请求以某种方式搞砸了它，但是为什么第一个日志会按预期执行呢？

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T07:12:56.360

$.ajax 是异步的，这意味着当回调（成功）运行时，循环已经完成运行，现在设置为 children.length

访问 urls[i]，等于 urls[children.length，因此是未定义的。

一个简单的解决方法是为每次迭代创建范围

```
for (var i = 0; i < children.length; i++) { 
  (function( index ) {
    $.ajax({
       url: DATA_SOURCE,
       dataType: "jsonp",
       success: function (data2) {                           
         console.log(urls[ index ]);
        }
    }); 
  })( i );                       
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T07:24:47.140

对 Pantelis 的回答 +1，虽然只是有点迂腐的评论：实际上不需要将*整个*ajax 调用包装在 IIFE 中，只有成功回调需要引用 的*“当前”*值`i`，所以这样就可以了：

```
for (var i = 0; i < children.length; i++)
{
    $.ajax({
       url: DATA_SOURCE,
       dataType: "jsonp",
       success: ((function( index ) 
       {
           return function (data2)
           {
               console.log(urls[ index ]);
           };
       })(i)
    });
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-18T07:12:58.400

这是因为最终调用成功函数时 i 未定义。您需要将 i 的当前值传递给您正在生成的成功函数。

```
for (var i = 0; i < children.length; i++) { 
    $.ajax({
         url: DATA_SOURCE,
         dataType: "jsonp",
         success: (function (count) {
             return(function(data2){console.log(urls[0]); console.log(urls[count]);});        
         })(i)
    });                        
} 
```

在这里，为每次迭代生成的成功函数略有不同，因为它记录了不同的值。

# wpf - Wpftoolkit 2008 参考错误

> ID：12948942
> 
> 赞同：0
> 
> 时间：2012-10-18T07:07:46.717
> 
> 标签：wpf

我的代码如下

```
<toolkit:DataGrid x:Name="QueuedTradesGrid"
                      Sorting="QueuedTradesGridc_Sorting"
                       TargetUpdated="QueuedTradesGridc_TargetUpdated"
                       Loaded="QueuedTradesGridc_Loaded"
                      ItemsSource="{Binding QueuedTradesCollection, NotifyOnTargetUpdated=True}" 
                      AutoGenerateColumns="False"  
                      DockPanel.Dock="Top">
        <toolkit:DataGrid.Columns>
            <toolkit:DataGridCheckBoxColumn Header="Select" ElementStyle="{StaticResource CheckBoxStyle}" Width="40"/>
            <toolkit:DataGridTextColumn  SortMemberPath="Date"   Header="Date" Width="80" ElementStyle="{StaticResource RightAlignStyle}"  DataFieldBinding="{Binding Date}"/>
            <toolkit:DataGridTextColumn SortMemberPath="TradeID" Header="TradeID" Width="120" SortDirection="Ascending" ElementStyle="{StaticResource RightAlignStyle}" DataFieldBinding="{Binding TradeID}" /> 
```

我从 wpf toolkit 2008 收到以下错误

XML 命名空间“http://schemas.microsoft.com/wpf/2008/toolkit”中不存在属性“DataFieldBinding”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T09:54:39.120

他们确实将`DataFieldBinding`-Property重命名为`Binding`：

[http://blogs.msdn.com/b/vinsibal/archive/2008/10/22/wpf-datagrid-and-the-wpftoolkit-have-released.aspx](http://blogs.msdn.com/b/vinsibal/archive/2008/10/22/wpf-datagrid-and-the-wpftoolkit-have-released.aspx)（查看**重大更改以及如何将 CTP 代码更新到 v1**）。

# javascript - 使用 jquery 选择 ul li 的每个元素

> ID：12948956
> 
> 赞同：1
> 
> 时间：2012-10-18T07:08:34.953
> 
> 标签：javascript, jquery

我有一个 ul li 形式的菜单，我想为 li 的每个孩子添加不同的 css 类。

这是javascript代码：

```
$("#menu").ready(function () {
  $("#menu ul li").addClass("menu_background1");
}); 
```

CSS：

```
.menu_background1 {
    background:#FF0;
}

.menu_background2 {
    background:#66C;
} 
```

我应该如何使用 jQuery 选择每个孩子？每个孩子都应该有不同的css课。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-18T07:11:41.490

您可以使用`addClass`' 功能：

```
$(document).ready(function () {
    $("#menu ul li").addClass(function(i){
       return 'menu_background' + (i+1)
    });
}); 
```

[http://jsfiddle.net/5Buh9/](http://jsfiddle.net/5Buh9/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T07:10:41.757

用于`each`那个

```
$("#menu ul li").each(function(i){
   $(this).addClass("menu_background"+(i+1));
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-18T07:12:31.457

尝试使用[:eq()](http://api.jquery.com/eq-selector/)选择器 -

```
$("#menu ul li:eq(0)").addClass("menu_background1");
$("#menu ul li:eq(1)").addClass("menu_background2"); 
```

# image - Titanium：避免保存的图像显示在画廊中

> ID：12948959
> 
> 赞同：0
> 
> 时间：2012-10-18T07:08:54.753
> 
> 标签：image, file, filesystems, save, titanium

我正在使用钛来捕获图像（来自 iPhone 和 android 的相机和图库），并且我使用 file.write() 将它们保存为 jpg 的 sd 卡中；

但出于安全目的，我不希望它们出现在画廊/图片库中。

有什么办法可以做到吗...

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T09:01:00.860

做到这一点的唯一方法不是将它们存储在那里，而是将它们保存在应用程序中。但即便如此，如果有人真的想要它，他也可以把照片从那里拿出来。

注意：在 iPhone 上你当然没有 SD 卡。当您明确表示将其存储到 iPhone 上的画廊时，它将显示在照片画廊应用程序中。否则，它不会。

# wordpress - 侧边栏出现在 wordpress 的内容下

> ID：12948961
> 
> 赞同：0
> 
> 时间：2012-10-18T07:09:03.723
> 
> 标签：wordpress, wordpress-theming

每次我通过 wordpress 添加新页面时，或者由于安装 woocommerce 插件而拥有的新 woocommerce 页面都会将侧边栏推到内容下方的页面底部。

我不知道为什么会这样。请检查所附照片

![在此处输入图像描述](../Images/c4e0762874934112f9bc205118e7c8e7.png)

这就是我在 CSS 中的主题侧边栏中的代码

```
/* Sidebar
---------------------------------------- */
#sidebar {
    float: Left;
}

    .widget {
        background: url(images/box-tail.gif) repeat-x 50% 0%;
        position: relative;
        margin: 0 0 30px 0;
        border: 1px solid #f0f0f0;
        border-top: none;
        border-radius: 4px;
        -moz-border-radius: 4px;
        -webkit-border-radius: 4px;
    }

        ul.children {
            margin: 0 0 0 20px;
        }

    .widget-indent {
        padding: 0 20px 19px 20px;
    }

.primary_content_wrap .widget {
    padding: 0 19px 19px 19px;
}

.primary_content_wrap h3 {
    padding: 0 0 21px 0;
}

.primary_content_wrap .widget #searchform {
    width: 100%;
}

    .primary_content_wrap .widget #searchform input[type="text"] {
        width: 123px;
    } 
```

这是我的 sidebar.php

```
<aside id="sidebar" class="grid_6 omega">
    <?php if ( ! dynamic_sidebar( 'Sidebar' )) : ?>

        <div id="sidebar-search" class="widget">
            <h3>Search</h3>
            <?php get_search_form(); ?> <!-- outputs the default Wordpress search form-->
        </div>

        <div id="sidebar-nav" class="widget menu">
            <h3>Navigation</h3>
            <?php wp_nav_menu( array('menu' => 'Sidebar Menu' )); ?> <!-- editable within the Wordpress backend -->
        </div>

        <div id="sidebar-archives" class="widget">
            <h3>Archives</h3>
            <ul>
                <?php wp_get_archives( 'type=monthly' ); ?>
            </ul>
        </div>

        <div id="sidebar-meta" class="widget">
            <h3>Meta</h3>
            <ul>
                <?php wp_register(); ?>
                <li><?php wp_loginout(); ?></li>
                <?php wp_meta(); ?>
            </ul>
        </div>

    <?php endif; ?>
</aside><!--sidebar--> 
```

然后这就是我在每个页面中调用侧边栏的方式

```
<?php get_sidebar(); ?> 
```

任何帮助将不胜感激。

更新外观>小部件

![在此处输入图像描述](../Images/3e4f6dbb763d09efe9409e0385229668.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T10:46:32.383

您是否检查过页面当前使用的模板？

在“**所有页面**”列表中，

单击快速编辑，然后从模板下拉菜单中为您的页面选择不同的模板？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T10:04:06.840

确保添加到侧边栏宽度的主要内容宽度小于页面正文的宽度。这可以解释为什么即使使用“float:left”属性，您的侧边栏也会位于页面底部。

另外，为什么不在您的 php 条件中包含整个侧边栏代码：

```
<?php if ( ! dynamic_sidebar( 'Sidebar' )) : ?>
<aside id="sidebar" class="grid_6 omega">
        <div id="sidebar-search" class="widget">
            <h3>Search</h3>
            <?php get_search_form(); ?> <!-- outputs the default Wordpress search form-->
        </div>

        <div id="sidebar-nav" class="widget menu">
            <h3>Navigation</h3>
            <?php wp_nav_menu( array('menu' => 'Sidebar Menu' )); ?> <!-- editable within the Wordpress backend -->
        </div>

        <div id="sidebar-archives" class="widget">
            <h3>Archives</h3>
            <ul>
                <?php wp_get_archives( 'type=monthly' ); ?>
            </ul>
        </div>

        <div id="sidebar-meta" class="widget">
            <h3>Meta</h3>
            <ul>
                <?php wp_register(); ?>
                <li><?php wp_loginout(); ?></li>
                <?php wp_meta(); ?>
            </ul>
        </div>
</aside><!--sidebar-->
<?php endif; ?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-21T20:08:58.820

你能提供一个安装链接吗？问题可能存在于您提供的代码之外，并且通过查看实时站点可能更容易解决。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-24T14:23:33.913

您是否尝试过在侧边栏和左侧内容中定义宽度值？使您的左侧内容也浮动（如果没有）。例如

```
#sidebar{
    float:right; //much better to use float right if the sidebar will be placed at the right side of the page
    width:100px; //define a smaller temporary value of the width for testing purposes
}

#left_content{
    float:left;
    width:300px;      
} 
```

您可以尝试在浏览器中使用 firebug 调整 css 并检查 html 元素。检查这个[http://getfirebug.com/](http://getfirebug.com/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-24T16:35:29.393

我认为这很可能是非常简单的事情。您使用的网格可以很容易地制作列。您的页面模板将如下所示：

```
<?php get_header(); ?>

 <div class="container_12">

 <div class="grid_6">
 <--- main content here --->
 </div>

 <?php get_sidebar(); ?>

 </div>

<?php get_footer(); ?> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-07-07T13:10:19.910

当主要内容和侧边栏分配给它们的尺寸不适合彼此相邻或过多的边距或填充时，侧边栏将自动移动到屏幕底部。这可能会导致问题

# python - 将字符串变量转换为其他类型

> ID：12948964
> 
> 赞同：0
> 
> 时间：2012-10-18T07:09:13.627
> 
> 标签：python, types, casting, python-2.7

我有一个将一些变量作为字符串保存的类。例如

```
x = "1"
y = "2.0"
z = "timedelta(seconds=10)" 
```

正如您在上面看到的，变量实际上是 int/float/timedelta 类型。我需要用它们的真实类型返回这些变量。（x 应该作为 int 返回，y 应该作为 float 返回，z 应该作为 datetime.timedelta 返回）

我正在考虑更改**getattr**并尝试在返回值之前找出类型，但是我做的小测试似乎不起作用：

```
from datetime import datetime, timedelta

def test():
    string = "timedelta(seconds=10)"
    x = eval(string)
    print x
    print type(x)
    if type(x) == 'datetime.timedelta':
        print "YES"
    else:
        print "NO" 
```

输出是：

```
0:00:10
<type 'datetime.timedelta'>
NO 
```

为什么 if-case 返回 false？有没有更好的方法用真实类型返回这些变量？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-18T07:14:26.403

因为`type(x)`返回`type`不是字符串。而是使用：

```
type(x) == datetime.timedelta

# or, the better Python practice

isinstance(x, datetime.timedelta) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T07:13:05.627

您正在比较一个类型和一个字符串。试试这个：

```
>>> type(x) == timedelta
True 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-18T07:16:55.417

您正在将 string 与 type 进行比较，因此它返回 false。

最好使用：

```
 isinstance(x, datetime.timedelta) 
```

看这段代码，它清楚地告诉你如何检查类型：

```
 >>> foo = {}

    >>> type(foo)
    <type 'dict'>

    >>> class MyDict(dict):
    ...     pass

    >>> bar = MyDict()

    >>> type(bar)
    <class '__main__.MyDict'>

    >>> type(bar) == dict
    False                     # Unexpected result

    >>> isinstance(bar, dict)
    True                      # Expected result 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-18T07:14:17.197

的类型`'datetime.timedelta'`是 str。我认为您的意思是 do `if type(x) == timedelta:`，它将进行正确的类型检查。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-18T07:41:02.803

简短的回答（我认为这就是你想要的这个问题）：

1.你导入**timedelta**，它的名字**timedelta._ *name* _**是一个字符串**'timedelta'**。

2\. **x = eval(string)**，这里x的**类型**是你在上面导入的**timedelta**。

所以，这很简单，只需将**type(x)._ *name* _**与**timedelta._ *name* _**进行比较，如果您只想将它​​们与字符串进行比较 :)

# jquery - 如何在 D3.js 中进行选择

> ID：12948971
> 
> 赞同：0
> 
> 时间：2012-10-18T07:09:59.703
> 
> 标签：jquery, d3.js

如何像在 Highcharts 中一样使用渲染器在 D3.js 中进行选择？是否有任何其他选项可以在 D3.js 中进行选择？？？

# jsf - web.xml 配置以在 jsf 中的会话超时后重定向到登录页面

> ID：12948973
> 
> 赞同：4
> 
> 时间：2012-10-18T07:10:04.507
> 
> 标签：jsf, jakarta-ee, jsf-2

web.xml 中是否有任何配置在**JSF**中的会话过期后将应用程序重定向到登录页面。我用谷歌搜索但没有找到任何好的和简单的答案。
我找到了这个，但它没有用。

```
 <error-page>
    <exception-type>javax.faces.application.ViewExpiredException</exception-type>
    <location>/faces/index.xhtml</location>
</error-page> 
```

如果没有为此配置，那么我如何在 JSF 中执行此操作？
谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T07:18:38.640

可能的答案：[根据当前视图处理 ViewExpiredException](https://stackoverflow.com/questions/7573135/handling-viewexpiredexception-depending-on-the-current-view)。

我使用的是 PrimeFaces - Extensions 特定的解决方案，称为[AjaxErrorHandler](http://fractalsoft.net/primeext-showcase-mojarra/views/ajaxErrorHandler.jsf)。看看他们展示的实施技巧。

据我所知，上述配置不适用于 AJAX 请求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T07:52:47.383

另一个可能的答案：[如果在 jsf 应用程序中发生会话超时，如何重定向到索引页面](https://stackoverflow.com/questions/2543094/how-to-redirect-to-index-page-if-session-time-out-happend-in-jsf-application)

另一个可能的答案：使用`JSF PhaseListener`.

* * *

另外，我建议使用 a`Filter`检查您的会话是否已经存在，如果没有，则重定向到您的自定义错误页面（我不记得我在哪里学到了这个方法，可能是通过 BalusC）：

```
public class AuthenticationFilter implements Filter {
    private FilterConfig config;

    public void init(FilterConfig filterConfig) throws ServletException {
        this.config = filterConfig;
    }

    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {
        if(((HttpServletRequest) request).getSession().getAttribute("some_attribute_you_store_in_Session") == null){
            ((HttpServletResponse)response).sendRedirect("yourCustomJSF.jsf");
        }else{
            chain.doFilter(request, response);
        }
    }

    public void destroy() {
        this.config = null;
    }

    // You also have to implement init() and destroy() methods.
} 
```

然后，您必须在 web.xml 中声明此过滤器（以及将触发过滤器的 url 模式）：

```
<filter>
    <filter-name>AuthenticationFilter</filter-name>
    <filter-class>yourPackage.AuthenticationFilter</filter-class>
</filter>
<filter-mapping>
    <filter-name>AuthenticationFilter</filter-name>
    <url-pattern>private.jsf</url-pattern>
</filter-mapping> 
```

我将自己的 bean 存储在我的 JSF 会话中，这样我就可以保留我的用户信息。当过滤器在访问类时收到`null`返回时，我知道会话已经失效（可能是因为它已经过期，或者只是用户已经注销）并且我将请求重定向到我的错误页面。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-18T11:17:38.800

> *我找到了这个，但它没有用。*

It should work. Most likely you were exclusively using ajax requests. This way the standard `web.xml` error page mechanism won't be used at all. You should instead be using the JSF `ExceptionHandler` facility.

The JSF utility library [OmniFaces](http://omnifaces.org) has a [`FullAjaxExceptionHandler`](http://showcase.omnifaces.org/exceptionhandlers/FullAjaxExceptionHandler) which is designed for exactly this purpose. It reuses standard `web.xml` error page mechanisms for exceptions/errors during ajax requests. You can find a showcase demo [here](http://showcase.omnifaces.org/exceptionhandlers/FullAjaxExceptionHandler). It also handles the `ViewExpiredException`.

### See also:

*   [Why use a JSF ExceptionHandlerFactory instead of <error-page> redirection?](https://stackoverflow.com/questions/10534187/why-use-a-jsf-exceptionhandlerfactory-instead-of-error-page-redirection)

# android - 在 android 中查找当前位置（基于图像的搜索应用程序）

> ID：12948981
> 
> 赞同：3
> 
> 时间：2012-10-18T07:10:33.287
> 
> 标签：android

如果我点击“查找当前位置”按钮，它会显示“抱歉！强制关闭”。我想显示纬度和经度。GPS已在我的手机中打开。它仍然显示错误消息。我的代码有什么问题？

```
public class CurrentLocation extends Activity {

private static final long MINIMUM_DISTANCE_CHANGE_FOR_UPDATES = 1; // in Meters
private static final long MINIMUM_TIME_BETWEEN_UPDATES = 1000; // in Milliseconds

protected LocationManager locationManager;

protected Button retrieveLocationButton;
DBAdapter dbA = new DBAdapter (CurrentLocation.this);

@Override
public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    setContentView(R.layout.curloc);
    Button bacButton = (Button)findViewById(R.id.bk);

    bacButton.setOnClickListener(new OnClickListener() {
        public void onClick(View v) {
            Intent explicitIntent = new Intent(CurrentLocation.this,ImageSearchActivity.class);
            startActivity(explicitIntent);
        }
    });

    retrieveLocationButton = (Button) findViewById(R.id.retrieve_location_button);
    locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);
    locationManager.requestLocationUpdates(
            LocationManager.GPS_PROVIDER, 
            MINIMUM_TIME_BETWEEN_UPDATES, 
            MINIMUM_DISTANCE_CHANGE_FOR_UPDATES,
            new MyLocationListener()
    );

    retrieveLocationButton.setOnClickListener(new OnClickListener() {
        public void onClick(View v) {
            showCurrentLocation();
        }
    });        

}    

protected void showCurrentLocation() {

    Location location = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);

    if (location != null) {
        String message = String.format("Current Location \n Longitude: %1$s \n Latitude: %2$s",
            location.getLongitude(), location.getLatitude());
        double longit = location.getLongitude();
        double latid = location.getLatitude();

        try {
            dbA.open();
            dbA.Insert(longit,latid);
            dbA.close();
        } catch (Exception e) {
            Toast.makeText(CurrentLocation.this,e.getMessage(), Toast.LENGTH_LONG).show();
        }
        Toast.makeText(CurrentLocation.this, message,Toast.LENGTH_LONG).show();
    }
}   

private class MyLocationListener implements LocationListener {

    public void onLocationChanged(Location location) {
        String message = String.format("New Location \n Longitude: %1$s \n Latitude: %2$s",
            location.getLongitude(), location.getLatitude());
        Toast.makeText(CurrentLocation.this, message, Toast.LENGTH_LONG).show();
        Toast.makeText(CurrentLocation.this, "Location Stored Successfully", Toast.LENGTH_LONG).show();
    }

    public void onStatusChanged(String s, int i, Bundle b) {

        Toast.makeText(CurrentLocation.this, "Provider status changed",
        Toast.LENGTH_LONG).show();
    }

    public void onProviderDisabled(String s) {
        Toast.makeText(CurrentLocation.this,"Provider disabled by the user. GPS turned off",
            Toast.LENGTH_LONG).show();
    }

    public void onProviderEnabled(String s) {
        Toast.makeText(CurrentLocation.this, "Provider enabled by the user. GPS turned on",
            Toast.LENGTH_LONG).show();
    }
}

} // end of class 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T07:21:11.530

在函数中调用它说`GetCurrentLocation`

```
try {
    gps_enabled=lmGps.isProviderEnabled(LocationManager.GPS_PROVIDER);
} catch(Exception ex) {
}

try {
    lmGps.requestLocationUpdates(LocationManager.GPS_PROVIDER,0,0,gpsLocationListener);
} catch(Exception ex){
} 
```

像这样调用`gpsLocationListener`this 将返回您当前的位置并使用它做任何您想做的事情。

```
LocationListener gpsLocationListener=new LocationListener(){

    public void onLocationChanged(Location location){
        dGpsLat=location.getLatitude();
        dGpsLng=location.getLongitude();

        dLat=dGpsLat;
        dLng=dGpsLng;

        if(dLat>0 && dLng>0){ (...) }

        try {
            //SaveLocation();
        } catch (Exception e) {
            sResponse=e.toString();
            return;
        }
    }

    public void onStatusChanged(String provider,int status,Bundle extras){}
    public void onProviderEnabled(String provider){}
    public void onProviderDisabled(String provider){}

}; 
```

# java - 如何删除tomcat中加载的Jar文件？

> ID：12948982
> 
> 赞同：0
> 
> 时间：2012-10-18T07:10:33.847
> 
> 标签：java, jakarta-ee, tomcat

我希望在 tomcat 中取消部署和删除正在运行的应用程序，而无需从同一个 tomcat 中的其他应用程序重新启动 tomcat 服务器。但是加载的 jar 文件不会在我的 webapps/lib 文件夹中删除。可能是他们在 Tomcat JVM 中使用。

对于联合国部署，我使用代码，然后我尝试删除“http://Server-IP:port/manager/html/undeploy?path=/applicationName”

也尝试停止“http://Server-IP:port/manager/html/stop?path=/applicationName”

请帮我 ：）

感谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T07:30:42.210

我的第一个想法是在 Tomcat/conf/context.xml 中设置 antiJARLocking="true" antiResourceLocking="true"。

```
<Context antiJARLocking="true" antiResourceLocking="true"> 
```

[http://tomcat.apache.org/tomcat-6.0-doc/config/context.html](http://tomcat.apache.org/tomcat-6.0-doc/config/context.html)

# c# - WPF UserControl 在重新加载后不捕获事件

> ID：12948983
> 
> 赞同：0
> 
> 时间：2012-10-18T07:10:36.030
> 
> 标签：c#, .net, wpf

我有一个应用程序，其中在 TabControl 中有一个自定义 UserControl。每隔一段时间，整个应用程序都需要刷新它的数据。为了处理它，我在代码隐藏中执行以下操作。

```
 public void OnDataReloaded(object a)
    {
        WindowManager.GraphControl = new GraphControl();
        GraphTab.Content = WindowManager.GraphControl;
        graphloaded = true;
    } 
```

GraphTab 是我的 TabControl 中的 TabItem 的一个实例。WindowManager 是一个静态类，它处理对当前活动用户控件的引用。在我的 UserControl 上，我添加了一个事件处理程序： KeyDown="MyGraphControl_KeyDown_1" 作为 UserControl 的属性。

在我执行上面的代码后，一切都按预期工作。我的 TabControl 加载新的 UserControl，但是不再捕获 keydown 事件。知道为什么会这样吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T07:20:24.130

在 OnDataReloaded 方法中订阅 KeyDown 事件。您在那里创建控件的新实例，而 XAML 中的 KeyDown 仅适用于创建的第一个实例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T07:20:33.253

在没有看到更多代码的情况下，很难给出任何明确的答案，但一种可能性是您的旧按键处理程序仍在执行。根据该处理程序的作用，它可能会阻止 WPF 将进一步的按键事件发送到其他代码。

如果您在替换旧用户控件时没有取消分配旧用户控件上的事件处理程序，它将继续执行。

当然，这都是纯粹的猜测，可能完全是另外一回事！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-18T07:20:38.753

我不是 100% 肯定，但我最好的猜测是，因为它是 GraphControl 的新实例 - 事件将被销毁或仍与内存中控件的旧实例相关联。

在给它一个新实例之前，请确保您取消订阅事件并尝试将事件处理程序重新指向您的方法。

希望有帮助！

圣。

# c# - 选择选项值的 MVC4 验证

> ID：12948984
> 
> 赞同：0
> 
> 时间：2012-10-18T07:10:37.683
> 
> 标签：c#, asp.net-mvc-4, asp.net-mvc-validation

我是 MVC 技术的新手，我有一个 MVC 4 应用程序，正在尝试显示对选择输入（月份和年份）的验证。我对 input type="text" 进行了验证，它对我来说工作正常。我需要帮助来选择一个选项。请帮忙解决这个问题？

风景：

```
 <li>
            <div class="requiredField">@Html.LabelFor(m => m.AccountNumber)<span>* </span>
            </div>
            @Html.TextBoxFor(m => m.AccountNumber, new {@class ="requiredTextBox" })
            <div class="swipeLink">
                @Html.ActionLink("Swipe", "Swipe", "Transaction", new { @class = "swipePopupLink" })
            </div>
        </li>
        <li>
            <div class="requiredField">@Html.Label("Expiration Date")<span>* </span></div>  
            <div class="ExpirationMonthYear">
                @Html.DropDownList("ExpirationMonth", new SelectList(Model.ExpirationMonth, "Value", "Text", 0), new { @class = "requiredTextBox" })
                @Html.DropDownList("ExpirationYear", new SelectList(Model.ExpirationYear, "Value", "Text", 0), new { @class = "requiredTextBox" })
            </div>
        </li>
@Html.ValidationSummary()

           <script src='@Url.Content("~/Scripts/jquery-1.6.2.js")' type="text/javascript">
           </script>
           <script src='@Url.Content("~/Scripts/jquery.validate.min.js")' 
           type="text/javascript"></script>
           <script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" 
           type="text/javascript"></script>
           <script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.min.js")"  
           type="text/javascript"></script> 
```

模型视图：

```
 [Required]
    [Display(Name = "Account Number")]
    public string AccountNumber { get; set; }

    [Required]        
    [Display(Name = "Expiration Date")]
    public IEnumerable<SelectListItem> ExpirationMonth { get; set; }

    [Required]
    public IEnumerable<SelectListItem> ExpirationYear { get; set; } 
```

感谢您的支持

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T07:32:53.180

对于 Drop Down，您需要再绑定一个属性来检查您的验证

```
The ModelView 

 [Required]
        [Display(Name = "Account Number")]
        public string AccountNumber { get; set; }

        [Display(Name = "Expiration Date")]
        public IEnumerable<SelectListItem> ExpirationMonth { get; set; }

        public IEnumerable<SelectListItem> ExpirationYear { get; set; }

        //New property 
        [RegularExpression(@"^[^0]*$", ErrorMessage = "Select Month.")]
        public int ExpMonth{get;set;}

        [RegularExpression(@"^[^0]*$", ErrorMessage = "Select Year.")]
        public int ExpYear {get;set;} 
```

风景

```
<li>
        <div class="requiredField">@Html.LabelFor(m => m.AccountNumber)<span>* </span>
        </div>
        @Html.TextBoxFor(m => m.AccountNumber, new {@class ="requiredTextBox" })
        <div class="swipeLink">
            @Html.ActionLink("Swipe", "Swipe", "Transaction", new { @class = "swipePopupLink" })
        </div>
    </li>
    <li>
        <div class="requiredField">@Html.Label("Expiration Date")<span>* </span></div>  
        <div class="ExpirationMonthYear">
            @Html.DropDownListFor(model=>model.ExpMonth, new SelectList(Model.ExpirationMonth, "Value", "Text", 0), new { @class = "requiredTextBox" })
            @Html.DropDownListFor(model=>model.ExpYear, new SelectList(Model.ExpirationYear, "Value", "Text", 0), new { @class = "requiredTextBox" })
        </div>
    </li> 
```

注意：在上面的示例中，我采用了**int**数据类型，如果它不正确，请根据您的情况采用不同的数据类型，然后应用验证。