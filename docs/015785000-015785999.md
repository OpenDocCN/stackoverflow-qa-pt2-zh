# StackOverflow 问答 15785000-15785999

# java - javah.exe - 未找到入口点

> ID：15785001
> 
> 赞同：0
> 
> 时间：2013-04-03T10:33:14.117
> 
> 标签：java, android-ndk

我尝试了链接中给出的 NDK 示例项目：http: [//stevethai.wordpress.com/2010/08/04/android-helloworld-with-native-code-tutorial/](http://stevethai.wordpress.com/2010/08/04/android-helloworld-with-native-code-tutorial/)

但是在运行命令“javah com.hello.LibC”时，它显示以下错误：

无法在动态链接库 jli.dll 中找到过程入口点 JLI_ExactVersionId

我不知道是什么问题。谁能帮我？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-12T17:11:30.810

我有同样的问题。当该错误消息弹出时，我试图分析显示它的进程。我使用了 TaskInfo 工具，但您也许也可以使用 SysInternals Process Exporer。或者微软的 SpyXX 工具。

当我被搜索时，我发现它启动了错误的 JAR.EXE 版本 - 很久以前复制到 C:\utils 目录的旧版本。所以，我删除（重命名）错误的 JAR.EXE 并再次启动 Cordova 工具，这次一切正常，所以 - 没有更多错误。

因此，我认为发生错误是因为使用了错误/旧版本的某些 Java 特定工具，这些工具可能在 %PATH% 中可用。检查您的 %PATH% 并尝试修复它。

# iphone - 如何更改布局视图控制器？

> ID：15785008
> 
> 赞同：0
> 
> 时间：2013-04-03T10:33:48.040
> 
> 标签：iphone, ios, layout, uiviewcontroller

我为 iphone 制作了一个应用程序，并使用 UIStoryboard。

当应用程序启动时，我有一个看起来像这样的视图

![在此处输入图像描述](https://i.stack.imgur.com/75SRW.png)

当我按下`Button1`标签`Code 2:`并且`textfield`必须消失时，我尝试了该`setHidden`方法

这就是发生的事情

![在此处输入图像描述](https://i.stack.imgur.com/Jb0IV.png)

但我想要发生的是

![在此处输入图像描述](https://i.stack.imgur.com/TCLxr.png)

我该怎么做？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-03T10:58:33.970

隐藏标签和文本字段和标签后，您需要通过以下方式设置保存和显示保存的数据按钮的框架，

```
btnSave.frame=CGRectMake(btnSave.frame.origin.x,btnSave.frame.origin.y - your textfield height, btnSave.frame.size.width, btnSave.frame.size.height); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:40:27.400

您需要使用 IBoutlet 并设置**保存**按钮的框架并动态**显示保存数据**按钮

# jsf - 单击a4j：commandButton后如何显示丰富：通知通知？

> ID：15785014
> 
> 赞同：0
> 
> 时间：2013-04-03T10:34:01.460
> 
> 标签：jsf

单击 a4j:commandButton 后，我想显示一个 Rich:notify 包含来自我的模型的消息？

单击我的 commandButton 后如何触发此通知？

这是我使用的代码：

**********数据表******* *** ***********

 *****```
<rich:dataTable id="currencyDataTable"  value="#{s2MCurrencyModel.getAllS2MCurrency()}"
                var="currency" border="1">

                <rich:column>
                    <f:facet name="header">Task ID</f:facet>
                    <h:outputText value="#{currency.taskId}" />
                </rich:column>
........
                <rich:column>
                    <h:form>

                        <a4j:commandButton value="Delete"
                            render="currencyDeleteInfo"
                            oncomplete="#{rich:component('currencyDelete')}.show()"
                            disabled="#{!currency.status.equals('I')}">
                            <f:setPropertyActionListener
                                target="#{s2MCurrencyModel.selectedCurrency}"
                                value="#{currency}" />
                        </a4j:commandButton>
                    </h:form>
                </rich:column>
            </rich:dataTable>

<!-- =============   DELETE BOX  =============== -->
    <rich:popupPanel id="currencyDelete">
        <f:facet name="header">currency delete confirmation</f:facet>
        <f:facet name="controls">
            <h:outputLink value="#"
                onclick="#{rich:component('currencyDelete')}.hide(); return false;">
                X
             </h:outputLink>
        </f:facet>
        <h:form>
            <h:panelGrid id="currencyDeleteInfo">
                Do you want really to delete currency identified by: 
                <h:outputText
                    value="#{s2MCurrencyModel.selectedCurrency.currencyCode}" />

                <h:panelGroup>
                <a4j:commandButton value="Delete"
                    oncomplete="#{rich:component('currencyDelete')}.hide();return false"
                    action="#{s2mCurrencyCtrl.deleteCurrency()}"
                    render="currencyDataTable"
                    />
                    **<rich:notify detail="#{s2MCurrencyModel.message}" stayTime="5000" summary="Notification" showShadow="true" />**
                <h:button value="Cancel" onclick="#{rich:component('currencyDelete')}.hide(); return false;"/>
                </h:panelGroup>
            </h:panelGrid>
        </h:form>
    </rich:popupPanel>

                    render="currencyDataTable"
                    />
                    <rich:notify detail="#{myModel.message}" stayTime="5000" /> 
```

我在 deleteCurrency() 方法中设置了 myModel.message。

问候，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T12:40:50.240

只需在命令按钮的操作中添加一个`FacesMessage`，如下所示：`FacesContext`

```
public void deleteCurrency(){
//your other operations
FacesContext ctx = this.getCurrentInstance();
FacesMessage msg = new FacesMessage(FacesMessage.SEVERITY_INFO,"Detail","Summary"); //FacesMessage has other info levels
ctx.addMessage(null,msg);
} 
```*****

# java - “对象……”的意义

> ID：15785015
> 
> 赞同：-1
> 
> 时间：2013-04-03T10:34:07.460
> 
> 标签：java

最近在浏览各种程序时，我看到了以下代码：

```
protected Object doInBackground(Object... arg0)
{
    ....
    ....
    ....
} 
```

我不明白的意义`Object...`

我从未见过`...`任何数据类型。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-03T10:35:42.477

它被称为[**可变参数**](http://docs.oracle.com/javase/1.5.0/docs/guide/language/varargs.html)或简单的 var-args，在 java 5 中引入。如果您的方法接受 var-args 作为参数，则可以将任意数量的参数传递给该方法。例如，下面的方法调用对于您的方法声明都将成功：

```
 doInBackground(new Object());
 doInBackground(new Object(), new Object());
 doInBackground(new Object(), new Object(), new Object());
 doInBackground(new Object(), new Object(), new Object(), new Object()); 
```

上一篇文章应该为您提供更多信息 [我可以将数组作为参数传递给 Java 中具有可变参数的方法吗？](https://stackoverflow.com/questions/2925153/can-i-pass-an-array-as-arguments-to-a-method-with-variable-arguments-in-java)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-03T10:35:58.757

[请参阅http://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html](http://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html)中的“Arbitrary Number of Arguments”

*这是手动创建数组的捷径（之前的方法可能使用可变参数而不是数组）。*

您可以将任意数量的对象参数输入到`doInBackground`. 然后可以通过`arg0`您方法中的数组访问它们。`arg0[0]`, `arg0[1]`, 等等。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T10:35:54.233

您可以将 Object 视为 java 中用户定义类的所有运行时实例的父级。“...”指的是 java 中的可变参数。这是可变参数的[示例](http://viralpatel.net/blogs/varargs-in-java-variable-argument-method-in-java-5/) 。它本质上将被解释为数组。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T10:36:03.270

Object 是 Java 中所有类的基本类型，除了原语。

这三个点表示可以传递任意数量的参数，也就是可变参数。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-03T10:36:59.277

`...` 允许您提供多个称为[varargs](http://docs.oracle.com/javase/1.5.0/docs/guide/language/varargs.html)的参数。

```
doInBackground(1, "hello", "world"); 
```

这就是该`MessageFormat.format`方法的工作原理，它允许您指定格式，然后指定对象来填充该格式。

```
public static String format(String pattern,
                            Object... arguments);

//Usage
MessageFormat.format("hello {0}, I'm from {1}", "John", "Earth"); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-03T10:38:05.133

它是我们告诉可以发送任意数量的特定数据类型的参数的方式，而不是在函数 def 中写入“n”次。 [检查这个。](http://docs.oracle.com/javase/1.5.0/docs/guide/language/varargs.html)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-04-03T10:39:28.980

这实际上是方法中的可变长度或参数。当您调用此方法时，您可以将 n 个 Object 类的对象传递给此方法，而 arg0 将是您的数组 ob 对象。它非常古老而且非常简单。没有其他的..

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-04-03T10:39:31.190

省略号或 (...) 称为 var-args。在这种情况下，它使该方法非常通用。它可以采用任何数量和任何类型的参数。

# character-encoding - 更改 PHP 文件的字符集

> ID：15785017
> 
> 赞同：0
> 
> 时间：2013-04-03T10:34:12.370
> 
> 标签：character-encoding

出于某种原因，我的 Notepad++ 不允许我将文件的字符集从 ANSI 更改为 UTF8-without-BOM：当我这样做时（编码 > 在没有 BOM 的 UTF8 中编码）顶部选项卡中的文件名不会变成红色好像我没有应用任何修改，当我保存文件并再次打开它时，字符集仍然是 ANSI。

如果有人可以在这里告诉我 Notepad++ 有什么问题，那会有所帮助。否则，哪个自由文本编辑器可以很容易地更改此字符集？

# tomcat7 - 集群环境的 JDBC 连接字符串

> ID：15785023
> 
> 赞同：1
> 
> 时间：2013-04-03T10:34:55.590
> 
> 标签：tomcat7, sql-server-2012, high-availability

我有 2 个节点 sql server 2012 安装和集群并配置了带同步选项的 Always On 功能。

集群名称：集群 1 节点 1 名称：db1 节点 2 名称：db2 SQL 可用性组名称：AVG1 有 2 个 IP 地址（10.X.30.7 和 10.X.31.7）

N0w 我需要从应用程序连接到数据库（使用 tomcat 7）。你能告诉我jdbc语法如何连接到数据库吗？

我必须在我的应用程序中提及的 SQL 服务器名称是什么？您能否与上述数据共享 JDBC 连接示例字符串？

让我知道更多详情

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T18:36:40.363

因此，如果您创建了可用性组侦听器，那么这就是您必须引用的服务器名称，因为这是 Windows 集群作为资源保持在线的名称，因此无论可用性组是什么副本，服务器名称都不会改变继续运行。

连接字符串还取决于您设置监听器的端口，但我假设您使用的是默认实例，您的监听器称为 AG-Listener，它在端口 1433 上运行：

```
jdbc:sqlserver://AG-Listener:1433;databaseName=YourDB;user=MyUserName;password=*****; 
```

您可以在此处找到更多 JDBC 连接字符串示例：

[构建连接 URL](http://msdn.microsoft.com/en-us/library/ms378428%28v=sql.110%29.aspx)

# android - API12 的开关小部件

> ID：15785025
> 
> 赞同：0
> 
> 时间：2013-04-03T10:35:08.123
> 
> 标签：android

知道 switch 小部件不适用于 API < API14，我可以用来替代 Switch 小部件的最佳组件是什么。我可以使用 API>=14 的开关和其他 API 的开关来保持兼容性吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:44:26.623

I found a compatibility [solution](https://github.com/BoD/android-switch-backport) that you could try.

# methods - 尝试在 DBus 中调用远程方法时出错

> ID：15785030
> 
> 赞同：0
> 
> 时间：2013-04-03T10:35:22.240
> 
> 标签：methods, glib, dbus

我正在尝试使用调用远程方法

```
dbus_g_proxy_call(proxy,"myFunc",&error,G_TYPE_INVALID,G_TYPE_INVALID); 
```

但是当我尝试这个时，我收到一条错误消息，说“方法“myFunc”，接口“com.myinterface.dbus”上的签名“”不存在”。我在这做错了什么？myFunc 是 void 类型，没有输入参数。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T17:54:08.103

此错误意味着服务器在您`proxy`设置使用的路径中没有具有此名称/签名组合的方法。

这可能由于多种原因而发生，它可能已经崩溃或由于其他原因而没有运行，或者它可能没有正确注册该功能。

或者，您在创建时可能没有使用正确的路径`proxy`，或者您的服务器可能在错误的路径中注册了该方法。

没有看到更多的代码，很难说你的问题是什么。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-06-22T10:40:33.153

[使用D-Feet 之](https://wiki.gnome.org/Apps/DFeet)类的工具对服务实际导出的对象、接口和方法进行内省可能会有所帮助。

# sql - 如何从 SQL Server 中的字符串中删除最后一个符号。如果它是一个循环

> ID：15785034
> 
> 赞同：3
> 
> 时间：2013-04-03T10:35:28.927
> 
> 标签：sql, sql-server, tsql, loops

我有一个查询

```
WHILE @@fetch_status = 0 
BEGIN   
   SET @message =' ,' + CASE WHEN @year < 10 THEN 'socyr0' ELSE 'socyr' END + CAST(@year AS varchar) + ' as '+ CAST(@sql AS varchar) + ','  
   PRINT @message   
   FETCH NEXT FROM SocioCursor INTO @year
   SET @sql = @sql + 1 
END 
```

结果是几个字符串

```
socyr08 as 2006,  
socyr09 as 2007,  
socyr10 as 2008,  
socyr11 as 2009,  
socyr12 as 2010, 
```

我应该改变什么才能得到

```
socyr08 as 2006,  
socyr09 as 2007,  
socyr10 as 2008,  
socyr11 as 2009,  
socyr12 as 2010 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-03T10:53:43.893

我不确定您是否期望它们出现在一行文本中。我认为你可以在没有光标的情况下像下面那样做。

如果您需要没有换行符的单行，请根据需要调整`variable length` *和* `right function`删除。`char(13)`

[Sql-Fiddle 演示](http://sqlfiddle.com/#!3/0ebeb/7)

```
declare @sql int = 2006, @message varchar(500)

select @message = isnull(@message + ',' + char(13), '') + 
                  'socyr' + right(100 + year, 2) + ' as ' + 
                  convert(varchar(4), @sql), 
                  @sql = @sql +1
from T

select @message

| COLUMN_0     |
----------------
socyr01 as 2006,
socyr02 as 2007,
socyr09 as 2008,
socyr10 as 2009,
socyr11 as 2010 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T10:49:58.743

您需要在循环**外**`@message`创建和打印变量。

 **在循环中，您只需向其中添加一个片段，如下所示：`@message = @message + ...`

然后，**在**打印之前，您需要修剪最后一个逗号字符：

```
@message = SUBSTRING ( @message, 1, LEN (@message) - 1 ) 
```**

# android - 在android中录制语音通话

> ID：15785037
> 
> 赞同：0
> 
> 时间：2013-04-03T10:35:38.643
> 
> 标签：android, audio-recording, android-mediarecorder, phone-call, voice-recording

我想制作一个记录来电和去电的应用程序。我正在使用媒体记录器这样做，并且我正在使用服务/广播接收器来检测电话状态变化。我已将音频源设置为 Audiosource.VOICE_CALLS。我可以在我的一端录制声音，但不能从另一端录制。当音频源设置为 Audiosource.MIC 时也会发生同样的情况。

请提出解决方案。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-03T10:52:48.977

您无法使用公共 SDK 访问 Android 中的 incall 音频流。通话音频不会暴露给应用程序，您只能在源级别修改 Android，然后从自定义源构建新映像并将其安装到您的设备上。

# jquery - 我希望我的 jquery 动画等到鼠标进入 2 秒

> ID：15785040
> 
> 赞同：1
> 
> 时间：2013-04-03T10:35:44.420
> 
> 标签：jquery, timeout, jquery-animate, wait, mouseenter

1.  我希望我的 jquery 动画等到我的鼠标悬停/进入它大约 2 秒。否则，当我将图像放大时，事情会变得非常混乱。2.这是我的代码，它使用jquery在执行mouseenter时使图像更大：

    ```
     $('img').mouseenter(function(){

         $(this).animate({
                height: '+=40px',
            width: '+=40px'
            });

    });
    $('img').mouseleave(function() {    

        $(this).animate({
                height: '-=40px',
            width: '-=40px'
            }); 

    }); 
    ```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:39:28.677

采用`delay();`

```
 $('img').mouseenter(function(){
     var _width = $(this).width();
    var _height = $(this).width();
     $(this).stop().delay(2000).animate({
            height: '+=40px',
        width: '+=40px'
     });
    $(this).mouseleave(function() {    

    $(this).stop().animate({
            height: _height+'px',
        width: _width+'px'
        }); 

});

}); 
```

**更新**：http : [//jsfiddle.net/fwUMx/1165/](http://jsfiddle.net/fwUMx/1165/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:40:30.633

干得好：

```
$('img').load(function() {
$(this).data('height', this.height);
}).bind('mouseenter mouseleave', function(e) {
$(this).stop().animate({
    height: $(this).data('height') * (e.type === 'mouseenter' ? 1.5 : 1)
});
}); 
```

现场演示[http://jsfiddle.net/simevidas/fwUMx/5/](http://jsfiddle.net/simevidas/fwUMx/5/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T10:40:38.563

您可以`.delay()`在此处使用功能：

```
 $('img').mouseenter(function(){
    $(this).stop().delay(2000).animate({
        height: '+=40px',
        width: '+=40px'
     });
 });
 $('img').mouseleave(function() {    
     $(this).stop().delay(2000).animate({
        height: '-=40px',
        width: '-=40px'
     }); 
 }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T10:43:19.087

您可以使用 .delay 或 setTimeout。

下面的例子使用 .delay

```
<p><button>Run</button></p>
<div class="first"></div>
<div class="second"></div>

$("button").click(function() {
      $("div.first").slideUp(300).delay(800).fadeIn(400);
      $("div.second").slideUp(300).fadeIn(400);
    });

div { position: absolute; width: 60px; height: 60px; float: left; }
.first { background-color: #3f3; left: 0;}
.second { background-color: #33f; left: 80px;} 
```

[http://jsfiddle.net/X5r8r/1118/](http://jsfiddle.net/X5r8r/1118/)

# asp.net - 无法加载文件或程序集 App_Web_XXXXXXXX - ASP.Net - IIS

> ID：15785042
> 
> 赞同：0
> 
> 时间：2013-04-03T10:35:46.670
> 
> 标签：asp.net, iis, web, web-config

我正在尝试将我的 asp 网站上传到服务器，它在本地工作正常但我不断收到此错误

```
Line 1 :  <%@ page language="C#" autoeventwireup="true" inherits="Devis, App_Web_1sfq1hre" %>
Line 2 : 
```

这是我的 web.config

```
<?xml version="1.0"?>
<configuration>
  <appSettings/>
  <system.web>

    <compilation debug="false" >
      <assemblies>
        <add assembly="System.Core, Version=3.5.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/>
        <add assembly="System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
        <add assembly="System.Data.DataSetExtensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/>
        <add assembly="System.Xml.Linq, Version=3.5.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/>
      </assemblies>
    </compilation>

    <customErrors mode="Off"/>
  </system.web>
  <system.codedom>
    <compilers>
      <compiler language="c#;cs;csharp" extension=".cs" warningLevel="4" type="Microsoft.CSharp.CSharpCodeProvider, System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
        <providerOption name="CompilerVersion" value="v2.0"/>
        <providerOption name="WarnAsError" value="false"/>
      </compiler>

    </compilers>
  </system.codedom>
</configuration> 
```

# html - imagezilla api 失败

> ID：15785046
> 
> 赞同：0
> 
> 时间：2013-04-03T10:35:50.363
> 
> 标签：html, api

我正在尝试创建一个页面，该页面使用他们的 api 将图像上传到 imagezilla，但没有运气。下面是我正在使用的代码，但出于明显的原因，没有 apikey、用户名和密码

```
<html>
<body>
<form action="http://imagezilla.net/api.php" method="post">
    <input type="file" name="file" accept="image/x-png, image/gif, image/jpeg" />
    <input type="hidden" name="apikey" value="..." />
    <input type="hidden" name="username" value="..." />
    <input type="hidden" name="passwordmd5" value="..." />
    <input type="hidden" name="testmode" value="1" />
    <input type="submit" />
</form>
</body>
</html> 
```

我得到的只是没有上传文件，即使我把测试模式拿出来它仍然可以。
该网站不是很有帮助[http://imagezilla.net/api-docs.php](http://imagezilla.net/api-docs.php)
任何帮助都会很棒。杰米

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:29:51.607

虽然我没有使用 Imagezilla 的经验，但我怀疑您需要正确设置`enctype`表单：

```
<form action="http://imagezilla.net/api.php" method="post" enctype="multipart/form-data">
    <input type="file" name="file" accept="image/x-png, image/gif, image/jpeg" />
    <input type="hidden" name="apikey" value="..." />
    <input type="hidden" name="username" value="..." />
    <input type="hidden" name="passwordmd5" value="..." />
    <input type="hidden" name="testmode" value="1" />
    <input type="submit" />
</form> 
```

# c# - 将静态类添加到 Application.Resources 错误

> ID：15785052
> 
> 赞同：2
> 
> 时间：2013-04-03T10:36:12.717
> 
> 标签：c#, xaml, static, windows-phone-8

我正在尝试将静态类添加为资源`Application.Resources`

```
namespace MultiResImageChooser
{
public static class MultiResObjectInstance
{
    private static MultiResPropertyChanged multiResObject = new MultiResPropertyChanged();

    public static MultiResPropertyChanged current
    {
        get
        {
            return multiResObject;
        }
    }

   }
} 
```

然后在 App.xaml 我有

```
 xmlns:static="clr-namespace:MultiResImageChooser"
 ....
<Application.Resources>
    <static:MultiResObjectInstance x:Key="MultiResObjectInstance"/>
</Application.Resources>` 
```

但在设计视图中，VS2012 抱怨说`The type MultiResObjectInstance is an abstract and must include an explicit value`

如何在 App.xaml 中正确包含静态类作为资源？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T15:15:05.890

请注意确保为其提供密钥，因为它是静态的。

您无法获取静态类的实例。

我认为问题已经是静态的了。XAML 试图获取该类型的一个实例，但不能这样做，所以认为它是一个抽象......

# android - 如何在android中以编程方式执行任何类型的文件？

> ID：15785056
> 
> 赞同：0
> 
> 时间：2013-04-03T10:36:22.540
> 
> 标签：android

如何在android中以编程方式执行任何类型的文件？

我正在使用以下代码

```
Intent intent = new Intent();
File file = new File(parent.getItemAtPosition().toString());
intent.setAction(Intent.ACTION_VIEW);
startActivity(intent); 
```

有任何想法吗 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:59:35.903

如果您的意思是运行 .apk 文件，请参阅此（[如何在模拟器中从命令行运行 apk，](https://stackoverflow.com/questions/8605821/how-to-run-apk-from-commandline-in-emulator).And)从您的代码中运行这些命令。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T12:17:52.100

> 如何在android中以编程方式执行任何类型的文件？

根据定义，这是不可能的。

首先，您的代码不会“执行文件”。*程序*被执行。文件被*查看*。

其次，并非所有文件都可以查看，因为它们可能不存在任何类型的查看器。

如果您使用文件的正确 MIME 类型调用`setType()`，`Intent`您将增加 Android 能够找到查看器活动的几率。有[一个`MimeTypeMap`实用程序类](http://developer.android.com/reference/android/webkit/MimeTypeMap.html)可以帮助您为文件的文件扩展名找到可能的 MIME 类型，尽管它肯定不涵盖所有 MIME 类型。

# c# - C# Windows 窗体 ListView 超链接

> ID：15785061
> 
> 赞同：0
> 
> 时间：2013-04-03T10:36:31.997
> 
> 标签：c#, listview

我有一个包含几列的列表视图，需要使特定列的值可链接（文件共享例如：\192.168.1.1\example\example.pdf）。我怎样才能完成这个？

谢谢

# wcf - 如何部署自动更新的 WCF Windows 服务？

> ID：15785063
> 
> 赞同：-1
> 
> 时间：2013-04-03T10:36:40.170
> 
> 标签：wcf, windows-services

我有一个仅在本地使用的 WCF Windows 服务。我需要将它部署在多个站点中，并且我需要自动更新它的选项 - 发布更新时，服务必须能够获取新版本并自行更新。
该服务将在 Windows 7 中使用，因此需要以某种方式考虑权限问题。
我对服务及其部署没有经验，请随时彻底解释。

**编辑**
我一直在考虑 ClickOnce，因为我正在编写的另一个应用程序是使用它部署的。问题是，ClickOnce 仅在启动时检查更新，并且 Windows 服务应该已启动并运行。

1.  是否可以在我的其他应用程序中使用 ClickOnce 检测然后更新服务？（许可方面）
2.  ClickOnce 可以启动和停止服务吗？
3.  更新可以静音吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:01:30.673

您必须考虑服务的预期可用性和应用程序的更新策略。

除此之外，您可能想看看：

[有没有办法检查 ClickOnce 应用程序是否正在运行最新版本](https://stackoverflow.com/questions/1507209/is-there-a-way-to-check-if-a-clickonce-application-is-running-the-latest-version)

[http://madprops.org/blog/Updating-ClickOnce-Application-Programatically/](http://madprops.org/blog/Updating-ClickOnce-Application-Programatically/)

[http://msdn.microsoft.com/en-us/library/xc3tc5xx.aspx](http://msdn.microsoft.com/en-us/library/xc3tc5xx.aspx)

干杯，

# c++ - 终端中的鼠标位置/控制，OSX

> ID：15785064
> 
> 赞同：1
> 
> 时间：2013-04-03T10:36:42.797
> 
> 标签：c++, c, macos, mouse

在 Windows 上，您可以使用和分别从在终端（或命令提示符）中运行的应用程序获取鼠标位置`GetCursorPos()`，甚至可以分别模拟鼠标单击和移动。这些函数可以在 中找到。`mouse_event()``SetCursorPos()``windows.h`

我在 Terminal.app 的 Mac OS X 下寻找相同的功能。这是否可能，如果可以，是否可以在没有库的情况下完成？如果没有，是否有可能在另一个终端或根本没有？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:42:19.427

是的，您可以使用`ncurses`图书馆。请参阅此[手册页](http://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man3/mousemask.3x.html)。

# bash - Bash：判断一个文件是否包含在另一个文件中

> ID：15785067
> 
> 赞同：2
> 
> 时间：2013-04-03T10:36:47.477
> 
> 标签：bash, diff, file-comparison

我正在尝试比较两个文件的内容，并判断一个文件的内容是否完全包含在另一个文件中（这意味着如果一个文件有三行，A、B 和 C，我可以按顺序找到这三行吗？第二个文件）。我已经查看`diff`但`grep`无法找到相关选项（如果有）。

例子：

```
file1.txt   file2.txt  <= should return true (file2 is included in file1)
---------   ---------
abc         def
def         ghi
ghi
jkl    

file1.txt   file2.txt  <= should return false (file2 is not included in file1)
---------   ---------
abc         abc
def         ghi
ghi
jkl 
```

任何的想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:43:11.007

假设您`file2.txt`不包含对正则表达式具有特殊含义的字符，您可以使用：

```
grep "$(<file2.txt)" file1.txt 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T10:50:19.243

即使您的 file2.txt 包含特殊字符，这也应该有效：

```
cp file1.txt file_read.txt

while read -r a_line ; do
   first_line_found=$( fgrep -nx "${a_line}" file_read.txt 2>/dev/null | head -1 )
   if [ -z "$first_line_found" ]; 
   then 
        exit 1 # we couldn't find a_line in the file_read.txt
   else
        { echo "1,${first_line_found}d" ; echo "w" ; } | ed file_read.txt  #we delete up to line_found
   fi   
done < file2.txt
exit 0 
```

（“exit 0”是为了“可读性”而存在的，所以只有当 fgrep 在 file1.txt 中找不到一行时，人们才能很容易地看到它以 1 退出。不需要）

（fgrep 是文字 grep，搜索字符串（不是正则表达式））

（我没有测试过以上，这是一个普遍的想法。我希望它确实有效^^）

“-x”强制它完全匹配行，即没有附加字符（即：“to”不能再匹配“toto”。添加-x时只有“toto”会匹配“toto”）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-03T12:04:56.840

使用[这里的答案](https://stackoverflow.com/a/3313605/297323)

使用以下 python 函数：

```
def sublistExists(list1, list2):
    return ''.join(map(str, list2)) in ''.join(map(str, list1)) 
```

在行动：

```
In [35]: a=[i.strip() for i in open("f1")]
In [36]: b=[i.strip() for i in open("f2")]
In [37]: c=[i.strip() for i in open("f3")]

In [38]: a
Out[38]: ['abc', 'def', 'ghi', 'jkl']

In [39]: b
Out[39]: ['def', 'ghi']

In [40]: c
Out[40]: ['abc', 'ghi']

In [41]: sublistExists(a, b)
Out[41]: True

In [42]: sublistExists(a, c)
Out[42]: False 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T12:52:02.773

请尝试此 awk“单线”^_^ 是否适用于您的真实文件。对于您问题中的示例文件，它有效：

```
awk 'FNR==NR{a=a $0;next}{b=b $0}
END{while(match(b,a,m)){
    if(m[0]==a) {print "included";exit}
    b=substr(b,RSTART+RLENGTH)
   }
    print "not included"
}' file2 file1 
```

# performance - Oracle：使用动态值的基于函数的索引

> ID：15785068
> 
> 赞同：3
> 
> 时间：2013-04-03T10:36:48.587
> 
> 标签：performance, oracle, function, indexing, dynamic-data

我有一个复杂的 SQL 查询。查询的简单部分之一如下所示：

```
Query 1:
SELECT *
  FROM table1 t1, table2 t2
 WHERE t1.number       = t2.number
   AND UPPER(t1.name)  = UPPER(t2.name)
   AND t1.prefix       = p_in_prefix;

Query 2:
SELECT *
  FROM table1 t1, table2 t2
 WHERE t1.number       = t2.number
   AND UPPER(t1.name)  = UPPER(p_in_prefix || t2.name)
   AND t1.prefix       = p_in_prefix; 
```

我在 table1 上有基于函数的索引作为 (number, UPPER(name))。我的 table2 上有基于函数的索引为 (number, UPPER(NAME))。p_in_prefix 是一个输入参数（基本上是一个数字）。

由于这些索引，我的 Query 1 运行效率很高。但是查询 2 有一个性能问题，就像在查询 2 中一样，'t2.name' 以 p_in_prefix 为前缀。

我无法为查询 2 创建基于函数的索引，因为 p_in_prefix 是一个输入参数，我不知道在创建索引时它可能包含什么值。在这种情况下如何解决性能问题？任何提示/想法将不胜感激。如果您需要更多信息，请告诉我。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T18:11:57.543

使用`AND UPPER(t1.name) = UPPER(p_in_prefix) || UPPER(t2.name)`.

由于您有一个基于函数的索引`UPPER(NAME)`，`table2`因此您应该在查询中有一个具有相同表达式的操作数，以便使用基于函数的索引。

Using`UPPER(p_in_prefix || t2.name)`不会使用基于函数的索引，因为它与函数表达式不匹配`UPPER(NAME)`。请注意，使用`UPPER(t2.name)`不会导致任何问题，因为`t2`它只是列别名。

除此之外，您还可以在查询中传递优化器提示，以指示优化器使用索引。

有关更多信息，请阅读 Jason Price 的“Oracle 数据库 11g SQL”。

[另请阅读此处](http://docs.oracle.com/cd/E11882_01/appdev.112/e25518/adfns_indexes.htm)和[此处](http://docs.oracle.com/cd/B28359_01/server.111/b28310/indexes003.htm)的Oracle 文档以及[此处](http://docs.oracle.com/cd/B19306_01/server.102/b14211/hintsref.htm)的优化器提示。

# c# - 具有自定义类的 List 的“选择”或“任何”方法

> ID：15785070
> 
> 赞同：0
> 
> 时间：2013-04-03T10:36:51.893
> 
> 标签：c#, .net, linq

我对`List<T>`其中 T 是自定义类的 linq 方法有疑问。

这是我的课：

```
public class RoomWorkingPlan
{
        public Int64 m_IdRoom;
        public Dictionary<DateTime, List<WorkInterval>> workingPlan = new Dictionary<DateTime, List<WorkInterval>>();
} 
```

我正在尝试使用任何方法或在这样的列表中选择：

```
List<RoomWorkingPlan> roomsworking = (List<RoomWorkingPlan>)m_RoomAvailable.Values.Cast<RoomWorkingPlan>().ToList();
DateTime startingDate = DateTime.now;

if (!roomsworking.Any<RoomWorkingPlan>(r => r.workingPlan.ContainsKey(startingDate)))
{
    return false;
} 
```

但我收到一条错误消息，说“表达式不能包含 Lambda 表达式”。有任何想法吗？在[http://msdn.microsoft.com](http://msdn.microsoft.com)上，所有示例都包含 Lamda 表达式。

编辑：m_RoomAvailable 是一个哈希表，包含一个 int64 作为键和 RoomWorkingPlan 作为值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T15:00:18.637

You try to run lambda from the ***Quick Watch*** window (*Controllo immediato*, from your snapshot in your comment) in Visual Studio. Lambda expressions cannot be evaluated in this window : this is a limitation of Visual Studio. Lambda can only be evaluated in code at runtime.

It is also true for the ***Watch***, ***Locals*** and ***Immediate*** windows.

If you want to debug lambdas, you have to use breakpoints in your code. Note you'll only have access to your *functors* (predicates, selectors...) and the result.

For more informations : [Visual Studio debugging "quick watch" tool and lambda expressions](https://stackoverflow.com/questions/725499/vs-debugging-quick-watch-tool-and-lambda-expressions)

# android - 多个警报中的错误

> ID：15785075
> 
> 赞同：0
> 
> 时间：2013-04-03T10:37:01.947
> 
> 标签：android, alarmmanager

我已经创建了一个 SMS Scheduler 应用程序，现在我正在尝试向它添加多个调度功能。我所做的是，一旦用户单击一个按钮（名为`scheduleSMSButton`），代码就会收集数据，即电话号码、文本和发送短信的时间。在此之后，代码创建一个内部类的对象，将上述数据添加到调用构造函数，然后启动该`schedule`方法。

这是 scheduleSMSButton 的代码：

```
scheduleSMSButton.setOnClickListener(new OnClickListener(){

            @Override
            public void onClick(View v) {

     //getting the time.
                long difference = targetCal.getTimeInMillis();
     //getting the text.
                String smsData = smsText.getText().toString();
    //getting the phone number.
                String smsAddressee = addressee.getText().toString(); 
    //new object of inner class and start schedule method on that object.       
                new SchedulingInProgress(difference, smsData, smsAddressee).schedule();

}}); 
```

这是我创建的内部类：

```
private class SchedulingInProgress{

        long timeToTrigger;
        String data;
        String addressee;

        public SchedulingInProgress(long difference, String smsData,
                String smsAddressee) {
            timeToTrigger = difference;
            data = smsData;
            addressee = smsAddressee;
            // TODO Auto-generated constructor stub
        }

        private void schedule(){
            Intent fireSendSMSClass = new Intent(getApplicationContext(), 
                        SendSMS.class);
                fireSendSMSClass.putExtra("smsData", data);
                fireSendSMSClass.putExtra("smsAddressee", addressee);

            PendingIntent pdi = PendingIntent.getActivity(getApplicationContext(),
                           0, fireSendSMSClass, PendingIntent.FLAG_ONE_SHOT);

            AlarmManager newManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);
            newManager.set(AlarmManager.RTC_WAKEUP, timeToTrigger, pdi);
        }

    } 
```

SendSMSClass 什么都不做，只是发送消息。

我面临的问题是，如果我在时间安排短信，例如在**19:00 时**使用文本**abc**，在时间**19:02 时**使用文本**xyz**另一个警报；然后在 19:00 时，发送带有文本 xyz 的短信。而其他短信根本不发送。

我应该怎么做才能修复这个错误？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T12:44:30.377

好的，我发现了错误。问题是我`PendingIntent`一次又一次地使用相同的，即我使用相同的`requestCode`（定义值为0）。诀窍是每次`PendingIntent`实例化时使用不同的值。我每次都使用此代码获取一个新值：

```
int requestCode = (int)System.currentTimeMillis(); 
```

然后像这样调用`schedule`方法（我改变了内部类的构造函数）：

```
new SchedulingInProgress(difference, smsData, smsAddressee, requestCode).schedule(); 
```

最后，这个`SchedulingInProgress`类看起来像这样：

```
private class SchedulingInProgress{

        long timeToTrigger;
        String data;
        String addressee;
        int code;

        public SchedulingInProgress(long difference, String smsData,
                String smsAddressee, int requestCode) {
            timeToTrigger = difference;
            data = smsData;
            addressee = smsAddressee;
            code = requestCode;
            // TODO Auto-generated constructor stub
        }

        private void schedule(){
            Intent fireSendSMSClass = new Intent(getApplicationContext(), SendSMS.class);
            fireSendSMSClass.putExtra("smsData", data);
            fireSendSMSClass.putExtra("smsAddressee", addressee);

            PendingIntent pdi = PendingIntent.getActivity(getApplicationContext(), code, fireSendSMSClass, 
                    PendingIntent.FLAG_ONE_SHOT);

            newManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);
            newManager.set(AlarmManager.RTC_WAKEUP, timeToTrigger, pdi);
        }

    } 
```

# python - 在opencv中调整图片大小？

> ID：15785078
> 
> 赞同：5
> 
> 时间：2013-04-03T10:37:11.510
> 
> 标签：python, opencv

我正在用opencv写一个人脸检测程序。这是下面的错误代码：

```
result = img[rects[0]:rects[1], rects[2]:rects[3]] 
result = cv2.resize(result, (100,100)) 
```

img 是我们的原始图片，第一步是将我们感兴趣的区域裁剪为结果。第二步是调整大小为 100*100 像素。

错误是：

```
result = cv2.resize(result, (100,100))
error: ..\..\..\src\opencv\modules\imgproc\src\imgwarp.cpp:1725: error: (-215) ssize.area() > 0 
```

希望可以有人帮帮我。非常感谢。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2014-06-12T05:05:47.140

在 python 中有同样的错误，发现图像是空的，所以通过使用 imshow 或检查它是否为 NULL 检查 imread 是否工作，然后使用 cv2.resize 。

# c# - WPF 等效于 Flex 状态

> ID：15785080
> 
> 赞同：1
> 
> 时间：2013-04-03T10:37:14.293
> 
> 标签：c#, apache-flex, states, equivalence, cross-language

Flex 有一个非常优雅的状态概念，可让您根据父组件“状态”定义应该显示哪些组件以及它们应该是什么样子。
例如，您可以将某些登录窗口状态定义为“正常”、“更改密码”、“发送”或“失败”，并相应地调整布局。

**WPF中的等价概念是什么？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:44:36.560

WPF has visual states concept. See [VisualState](http://msdn.microsoft.com/en-us/library/system.windows.visualstate.aspx) and [VisualStateManager](http://msdn.microsoft.com/en-us/library/system.windows.visualstatemanager.aspx) classes.

# android - 访问 AsyncTask 表单适配器类（非活动类）

> ID：15785082
> 
> 赞同：0
> 
> 时间：2013-04-03T10:37:22.463
> 
> 标签：android, android-asynctask

我在我的 Activity 类中创建了 AsyncTask 它工作正常。我的问题是我必须从适配器类访问相同的 AsyncTask 我该怎么做。请提供任何解决方案。提前致谢.....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:46:16.487

为您的 AsyncTask 创建一个单独的类，如下所示

文件：DownloadFilesTask.java

```
public class DownloadFilesTask extends AsyncTask<URL, Integer, Long> {
     protected Long doInBackground(URL... urls) {
          ---
          ---
     }
} 
```

在您的活动中，初始化 AsyncTask 的对象并在需要时执行它。你可以在你的适配器类中做同样的事情。

请注意，根据线程规则，必须在 UI 线程上加载 AsyncTask 类，并且必须在 UI 线程上创建任务实例。要解决此问题，只需在活动的 onCreate 方法上初始化 AsyncTask 对象（无论您是否计划在活动中使用它，但如果您想在活动之外使用它，则必须创建 AsyncTask 对象）

# magento - 将数量输入字段添加到相关产品块

> ID：15785085
> 
> 赞同：0
> 
> 时间：2013-04-03T10:37:27.520
> 
> 标签：magento

再会。

我想在magento前端的相关产品块中添加数量输入字段。（例如产品查看页面。）

也许有人知道我该怎么做？

谢谢 。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:08:22.123

在此文件路径中添加以下代码

'app/code/core/Mage/Adminhtml/Block/Catalog/Product/Edit/Tab/Related.php'。

```
$this->addColumn('qty', array(
        'header'    => Mage::helper('catalog')->__('Qty'),
        'index'     => 'qty'
    )); 
```

里面

```
protected function _prepareColumns()
{

} 
```

这个功能。

我希望它对你有帮助。

# c# - MVC4 - 尝试使用列表时抛出 NullReferenceException

> ID：15785086
> 
> 赞同：0
> 
> 时间：2013-04-03T10:37:29.383
> 
> 标签：c#, asp.net-mvc, razor, asp.net-mvc-4, nullreferenceexception

在我的主页（索引）页面上，我有两个部分，一个呈现搜索表单，另一个呈现搜索结果：

```
<div class="row-fluid well">
    <div class="span6">
        @Html.Partial("~/Views/Search/_BasicPropertySearchPartial.cshtml")
    </div>
    <div class="span6" id="basic-property-search-results">
        @Html.Partial("~/Views/Search/_BasicPropertySearchResultsPartial.cshtml")
    </div>
</div> 
```

在我`SearchController`的 GET 操作中返回搜索表单：

```
[HttpGet]
public ActionResult BasicPropertySearch()
{
    return PartialView("_BasicPropertySearchPartial");
} 
```

POST 操作从表单中获取用户输入并根据查询返回结果：

```
[HttpPost]
public ActionResult BasicPropertySearch(BasicPropertySearchViewModel viewModel)
{
    var predicate = PredicateBuilder.True<ResidentialProperty>();
    if (ModelState.IsValid)
    {
        using(var db = new LetLordContext())
        {
            predicate = predicate.And(x => x.HasBackGarden);
            //...
            var results = db.ResidentialProperty.AsExpandable().Where(predicate).ToList();

            GenericSearchResultsViewModel<ResidentialProperty> gsvm = 
                    new GenericSearchResultsViewModel<ResidentialProperty> { SearchResults = results };

            return PartialView("_BasicPropertySearchResultsPartial", gsvm);
        }            
    }
    ModelState.AddModelError("", "Something went wrong...");
    return View("_BasicPropertySearchPartial");
} 
```

我创建了一个通用视图模型，因为搜索结果可能是不同类型的列表：

```
public class GenericSearchResultsViewModel<T>
{
    public List<T> SearchResults { get; set; }

    public GenericSearchResultsViewModel()
    {
        this.SearchResults = new List<T>();
    }
} 
```

POST 操作返回以下视图：

```
@model LetLord.ViewModels.GenericSearchResultsViewModel<LetLord.Models.ResidentialProperty>

@if (Model.SearchResults == null) // NullReferenceException here!
{
    <p>No results in list...</p>
}
else
{
    foreach (var result in Model.SearchResults)
    {
    <div>
        @result.Address.Line1
    </div>
    }
} 
```

我已经在 GET 和 POST 操作上设置了断点，并且在其中一个或命中之前抛出了异常。

这个问题是因为`index.cshtml`在它有机会`SearchController`在

如果是这样，这是否意味着这是一个路由问题？

最后，我认为构造函数中的`new`ing`SearchResults`会克服`NullReferenceExceptions`？

反馈表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T19:06:49.800

似乎整体`Model`是空的。您需要为`Html.Partial`调用提供部分视图模型，或者使用`Html.Action`操作和控制器名称来调用两个控制器（子）操作。

有关详细信息，请参阅[MSDN](http://msdn.microsoft.com/en-us/library/system.web.mvc.html.childactionextensions.action%28v=vs.108%29.aspx)。

# serial-port - 通过 Arduino IDE 在虚拟串口上上传 Arduino 代码

> ID：15785087
> 
> 赞同：1
> 
> 时间：2013-04-03T10:37:36.257
> 
> 标签：serial-port, arduino, virtual, bootloader

我下载了几个提供虚拟 COM 端口的软件。这些 COM 端口确实出现在[设备管理器](http://en.wikipedia.org/wiki/Device_Manager)中，并且可以从 Arduino IDE 菜单工具 -> 串行端口 -> COM3 中选择上传。它开始上传并达到 90%，然后它要么超时，要么什么都不做。

我想上传到虚拟 COM 端口，这样我就可以在另一个程序中读取编译输出文件。我根本不想使用我的 Arduino，也不想在上传时手动获取详细的输出文件。当我在真正的 Arduino 上上传时，不会发生这个问题。

该应用程序应该可以在所有平台上运行。这项任务在 Linux 上似乎很容易，而我在 Windows 上面临着上述问题，任何有关 Mac 的帮助也会很有用。

该应用程序将成为硬件模拟和可视化的教育工具，旨在为用户提供比其他模拟器更多的动手体验。因此，这可能会让您了解我为什么要这样做。

我该如何开始？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T16:30:27.827

我想你可能会假设将代码上传到 Arduino 是一种单向通信：这就像将草莓放入搅拌机中，然后出来一个[Daquiri](http://en.wikipedia.org/wiki/Daiquiri)。如果这是真的，您可以将 IDE 转储到串行端口的任何内容保存到文件中，然后您就有了一个 Arduino 二进制文件。（如果对细节不感兴趣，请跳至**TL；DR**。结果：这个假设不正确）。

单向通信假设并不完全正确：Arduino 上有一个程序（称为“[引导加载程序](http://arduino.cc/en/Guide/Environment?from=Tutorial.Bootloader)”）负责与程序员进行通信（“程序员”：对 Arduino 进行编程的程序，假设它是 Arduino IDE 现在）。在最“自然”的状态下，Arduino CPU 无法跨串行线路进行编程。而是通过[系统内编程](http://www.atmel.com/images/doc0943.pdf)(ISP) 或[JTAG](http://en.wikipedia.org/wiki/Jtag)协议对这些芯片[进行编程。](http://www.awce.com/avrjtag.htm)引导加载程序是在 Arduino CPU 上运行并通过串行端口加载草图/程序的程序。该程序在启动时运行，并通过串行端口查找编程命令。

如果它发现程序员正在尝试传递编程信息，它将读取来自串行链路的已编译的 Arduino 二进制文件，将其存储在闪存中，通过串行链路将其发送回进行验证，如果一切顺利，则退出并启动存储的草图。如果串口上没有出现编程信息，也就是说，没有程序员试图编写新的草图，那么引导加载程序会简单地退出并启动已经存储在闪存中的程序。

**TL;DR**：为了在您的串行端口上实现一个伪 Arduino，您必须编写一个程序，一些代码在您的虚拟串行端口的另一端模拟一个 Arduino（引导加载程序）。因此，当程序员/IDE 对 Arduino 说“你在吗？”时 你的程序会回答“是的！”，就像 Arduino 一样。

默认的 Arduino 引导加载程序与[STK-500 兼容](http://arduino.cc/en/Hacking/Bootloader?from=Main.Bootloader)：这意味着它实现了 STK-500 命令 - 可以在[此处](http://www.atmel.com/Images/doc2591.pdf)找到参考。如果您决定这样做，那么最简单的方法可能是从现有的引导加载程序开始，例如[Arduino](https://github.com/arduino/Arduino/tree/master/hardware/arduino/bootloaders)或[AdaFruit](http://ladyada.net/library/arduino/Adaboot328.zip)（还有其他的），然后对其进行修改。这样的引导加载程序将已经实现了所有命令，并且由于它是用 C 编写的（我不会选择程序集引导加载程序来修改 :)，所以它应该很容易修改。

或者，您可能认为 STK-500 太难以实施。如果是这种情况，您可以使用[Avrdude](http://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&cad=rja&ved=0CDUQFjAA&url=http://www.nongnu.org/avrdude/&ei=nFhcUeK3Adeo4APAyIC4Dw&usg=AFQjCNFlTO27gompzN_nepga6TMkvgiRcA&sig2=h0sIkWM7v_R9mZtCmHtQgQ)支持的任何编程器协议：Avrdude 是用于编程 AVR 芯片的程序，而 Arduino IDE 内部使用 Avrdude 将草图发送到 Arduino。如果您这样做，那么您必须更改您正在使用的程序员的 Arduino IDE 中的设置。

就个人而言，我认为 STK-500 兼容是最好的选择，但是[YMMV](http://en.wiktionary.org/wiki/YMMV)。

# css - 以不同图像/视频大小为中心的播放按钮

> ID：15785090
> 
> 赞同：0
> 
> 时间：2013-04-03T10:37:54.187
> 
> 标签：css, video

即使图像/视频大小发生变化，如何保持播放按钮居中？

```
.image{
    position:relative;
    width:500px; //changed
    height:300px;
} 
```

[这](http://jsfiddle.net/nGKcn/)是我的例子...

注意：我的图片/视频没有具体尺寸，所以可以根据自己的尺寸改变......这只是一个例子！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T11:51:01.377

我设置了三个示例来展示如何解决这个问题。

请看小提琴：http: [//jsfiddle.net/audetwebdesign/mxSkQ/](http://jsfiddle.net/audetwebdesign/mxSkQ/)

HTML本质上是你的：

```
<div class ="image ex1">
    <a href="#">
        <img src="http://placehold.it/200x150" alt="video">
        <span class="play">
            <span></span>
        </span>
    </a>
</div> 
```

我正在使用具有可配置尺寸的演示图像，例如 200x150，可以轻松更改以进行测试。

**示例 1 - 图像大小决定父容器的大小**

```
.ex1.image {
    position: relative;
    display: inline-block;
    margin-left: 50px;
}

.image a {
    display: inline-block; 
    position: relative;
}

/* Gets rid of the extra white space that follows an inline element*/
.image img {
    vertical-align: bottom;
} 
```

如果您希望`.image`div 缩小以适合图像，请使用`inline-block`to display。这`margin-left`是可选的，将取决于布局的其余部分。

**重要提示：**要将播放按钮主题居中，只需将`a`标签设置为显示为`inline-block`，您的箭头主题跨度就会很好地定位自己。

因为`img`是一个内联元素，浏览器会在它之后插入一个小空格，如果你有边框或背景，它就会显示出来。用来`vertical-align: bottom`清理它。

**示例 2 - 父容器具有指定的宽度**

您可以为父容器指定宽度，`.image`然后用于`text-align`定位图像元素。

```
.ex2.image {
    position: relative;
    display: inline-block;
    width: 400px;
    height: auto;
    text-align: center;
} 
```

**示例 3 - 父容器具有完整宽度和指定高度**

在这个例子中，我让父容器填满了窗口的宽度，并将高度设置为 200px。为了获得垂直居中，我设置`margin-top`了一个硬编码值，该值取决于图像的高度。如果您让图像采用固定高度，则此示例很有用。

```
.ex3.image {
    position: relative;
    display: block;
    width: auto;
    height: 200px;
    text-align: center;
}

.ex3.image a {
    margin-top: 25px;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-03T10:50:42.243

你需要

```
top: 50%;
left: 50%;
margin: -25px 0 0 -25px; // top and left equal to half of the size * (-1) 
```

[http://jsfiddle.net/nGKcn/13/](http://jsfiddle.net/nGKcn/13/)

尝试使用图像大小/不同的图像。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T10:43:26.840

给图像CSS：

```
display: block;
margin: 0 auto; 
```

这只是你把东西放在中间的一般方式。

除非我错过了什么？

# c# - 是否有任何实现键删除并同时获取值？

> ID：15785091
> 
> 赞同：12
> 
> 时间：2013-04-03T10:38:03.023
> 
> 标签：c#, .net, dictionary, asymptotic-complexity, trygetvalue

我正在做一个性能关键的程序（很少的学术内容），并且我希望尽可能地进行优化（不像它证明“这是”瓶颈）。

我有一个自定义字典结构（围绕 .NET 的包装器`Dictionary<,>`），我会不断地在一个阶段删除项目（按`Key`值）。我需要`Value`删除的项目。现在我必须这样做：

```
T t;
if !TryGet(key, out t)
   return false;

Remove(key); 
```

这是两个查找。我会喜欢这个：

```
public bool Remove(S key, out T value)
{
    // implementation
} 
```

我知道框架中什么都没有，但是某处有实现吗？如果是这样，我会用那个来改变我的支持字典。

**编辑：**嗯，我都知道`TryGetValue`并且`Remove`是 O(1)。只知道是否有任何集合结构可以在一次查找中产生相同的效果。正如我所说，我正在尝试尽可能优化。只是知道。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-03T10:40:47.053

[`Dictionary<TKey, TValue>.TryGetValue`](http://msdn.microsoft.com/en-us/library/bb347013.aspx)和[`Dictionary<TKey, TValue>.Remove`](http://msdn.microsoft.com/en-us/library/kabs04ac.aspx)方法都是*O(1)*操作，所以我认为你不应该在这里关心性能。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-03T11:56:25.900

哥本哈根大学的[通用收藏图书馆](http://www.itu.dk/research/c5/)有一种`Dictionary.Remove()`方法似乎可以满足您的要求：

> bool Remove(K k, out V v)
> 
> 如果字典包含键等于 k ​​的条目，则返回 true，如果是，则删除该条目并将关联的值分配给 v；否则返回 false 并将 T 的默认值分配给 v。

我自己没有使用过这个库，但我已经在 Stack Overflow 上看到过多次推荐它。它可以在商业上免费使用，但须遵守[这种 MIT 风格的许可证](http://www.itu.dk/research/c5/LICENSE.txt)。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2015-09-04T20:17:44.943

**[ConcurrentDictionary](https://msdn.microsoft.com/en-us/library/dd287129(v=vs.110).aspx)**有一个`TryRemove`方法可以做到这一点。它的工作原理就像`TryGet`但它也删除了元素。

# php - PHP-无法执行`ssh-add -l`

> ID：15785092
> 
> 赞同：-1
> 
> 时间：2013-04-03T10:38:04.683
> 
> 标签：php

我无法通过 php 执行 ssh-add

```
$res=`ssh-add -l`;
echo $res; 
```

但是 $res 是一个空字符串。有没有人遇到过同样的问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:46:58.283

您应该使用 ssh-add 的完整路径（如`/usr/bin/ssh-add`）。

此外，请确保`www-data`（或任何其他调用 PHP 进程的用户）有权启动该进程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T12:07:17.820

好吧，我找到了解决这个特殊问题的方法。

我最初在做

```
$res1=`eval \`ssh-agent\``;
$res2=`ssh-add -l`; 
```

但是由于某种原因，PHP 似乎无法单独执行此操作，因此我将它们组合成一个命令

```
$res=`eval \`ssh-agent\`; ssh-add -l`; 
```

瞧！它就像一个魅力。我想这两个需要绑定在一起。

# asp.net - 带有锚文本的图像？

> ID：15785095
> 
> 赞同：0
> 
> 时间：2013-04-03T10:38:05.647
> 
> 标签：asp.net, css, listview

我是listview并显示数据。所以想到在前面显示图标

所以我确实尝试使用下面的部分。

```
.listview a
{
    font-weight: normal;
    background:transparent url(../images/arrow.png) scroll  no-repeat left center;
    padding:2px 0px 2px 20px;
} 
```

它工作正常，但如果文本进入下一行，那么第二行最左边对齐，这看起来很奇怪。（在stackoverflow中，您可以看到右侧的示例“类似问题”:-)）。如果它继续第一行，则下一行与第一行对齐。

知道如何为此处理文本。

我的列表视图布局如下

```
<ItemTemplate>
      <tr>
          <td>
              <a href="">
                    <%#Eval("Description")%></a>
           </td>
       </tr>
 </ItemTemplate> 
```

我应该使用`<ul></ul>`而不是`<a></a>`吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:40:50.883

`a`默认情况下，标签是内联标签，这意味着顶部和底部填充不起作用。要解决此问题，您应该添加`display:block;`到标签并围绕填充和/或背景位置进行播放；正确设置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:43:43.603

您可以为此使用两个`divs`并设置`float`那个。它会起作用的。

```
<ItemTemplate>
  <tr>
      <td>
          <a href="">
             <div class="imagBack"></div>
              <div class="noBackImage">
                 <%#Eval("Description")%></a>
              </div>
       </td>
   </tr>
</ItemTemplate> 
```

创建样式表如下

```
.listview a
{
    display:block
}
.listview a div.imagBack
{
    width:50px;
    float:left;
    font-weight: normal;
    background:transparent url(../images/arrow.png) scroll  no-repeat left center;
    padding:2px 0px 2px 20px;
 }
 .listview a div
 {
    width:100px;
    float:right;
    font-weight: normal;
 } 
```

# php - Opencart：插入批量产品，product_id 不唯一

> ID：15785097
> 
> 赞同：1
> 
> 时间：2013-04-03T10:38:10.917
> 
> 标签：php, mysql, e-commerce, opencart

我刚刚看到 opencart 的一些扩展，它们**从产品列表页面更新产品**，我尝试了我的 opencart 项目，很有趣......现在我开始为我的 opencart 项目开发一个新的扩展，即：将**批量产品**插入管理员......这个一次最多可以添加 10 个产品，填写产品表格后只需点击保存按钮，这 10 个产品可以存储到数据库中......每个产品表格只有以下 5 个表单字段，

*   价格
*   数量
*   模型
*   姓名
*   地位

我可以使用 opencart 默认产品编辑页面稍后添加额外的详细信息/选项/描述，当插入此批量产品时，只有 3 个下表与我的查询连接，

*   产品
*   产品描述
*   product_to_store

我试过一些代码，我的问题是当我点击保存按钮表`product`和`product_description`数据插入功能成功时，但这`product_id`两个表不是唯一的，例如如果`product`表`product_id = 125`然后`product_description`表`product_id = 5`，我需要这 3 个表**product_id**必须像我们默认的 opencart 一样唯一插入工作...任何想法..??

我在这里尝试了什么...... **表格**

```
<input type="text" name="product_description[<?php echo $language['language_id']; ?>][name]" value="<?php echo isset($product_description[$language['language_id']]) ? $product_description[$language['language_id']]['name'] : ''; ?>" />
<input type="text" name="model" value=""  />
<input type="text" name="quantity" value=""  />
<input type="text" name="price" value=""  />
<select name="stock_status_id">
<?php foreach ($stock_statuses as $stock_status) { ?>
<?php if ($stock_status['stock_status_id'] == $stock_status_id) { ?>
<option value="<?php echo $stock_status['stock_status_id']; ?>" selected="selected"><?php echo $stock_status['name']; ?></option>
<?php } else { ?>
<option value="<?php echo $stock_status['stock_status_id']; ?>"><?php echo $stock_status['name']; ?></option>
<?php } ?>
<?php } ?>
</select> 
```

**控制器**

```
public function simple_pu() {
    $this->load->language('catalog/product');

    $this->document->setTitle($this->language->get('heading_title'));

    $this->load->model('catalog/product');

    if (isset($this->request->post['selected']) && $this->validateSimplePu()) {
        $url = '';

        foreach ($this->request->post['selected'] as $product_id) {

        $price_str = $product_id.'_price';
        $quantity_str = $product_id.'_quantity';
        $model_str = $product_id.'_model';
        $name_str = $product_id.'_name';
        $status_str = $product_id.'_status';

        $price = $this->request->post[$price_str];
        $quantity = $this->request->post[$quantity_str];
        $model = $this->request->post[$model_str];
        $name = $this->request->post[$name_str];
        $status = $this->request->post[$status_str];

        $su_data = array('price' => $price, 'quantity' => $quantity, 'model' => $model, 'name' => $name, 'status' => $status);
        $this->model_catalog_product->editPrices($product_id, $su_data);
        }

        $this->redirect($this->url->link('catalog/product', 'token=' . $this->session->data['token'] . $url, 'SSL'));
    }
    $this->getListbulk();
} 
```

**模型**

```
public function addBulkproduct($product_id, $su_data) {     
    if (isset($su_data['product'])) {
        $this->db->query("INSERT INTO " . DB_PREFIX . "product SET price = '" . $this->db->escape($su_data['price']) . "', model = '" . $this->db->escape($su_data['model']) . "', quantity = '" . $this->db->escape($su_data['quantity']) . "', student_id = '" . (int)$student_id . "', date_added = NOW()");
    }

    if (isset($su_data['product_description'])) {
        $this->db->query("UPDATE " . DB_PREFIX . "product_description SET name = '" . $this->db->escape($su_data['name']) . "' WHERE product_id = '" . (int)$product_id . "'");
    }
} 
```

就是这样......*上面的代码只是一个结构* 如果你知道任何与我的问题相关的扩展，你可以建议我......

谢谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:30:17.220

您必须更新您的模型。检查`/admin/model/catalog/product.php`和 方法`addProduct()`- 插入产品后，您必须检索`$product_id`，所以在您的模型中应该是这样的：

```
public function addBulkproduct($su_data) {     
    if (isset($su_data['product'])) {
        $this->db->query("INSERT INTO " . DB_PREFIX . "product SET price = '" . $this->db->escape($su_data['price']) . "', model = '" . $this->db->escape($su_data['model']) . "', quantity = '" . $this->db->escape($su_data['quantity']) . "', student_id = '" . (int)$student_id . "', date_added = NOW()");

        $product_id = $this->db->getLastId();

        // INSERT INTO PRODUCT TO STORE
        $this->db->query("INSERT INTO " . DB_PREFIX . "product_store (store_id, product_id) SELECT store_id, " . (int)$product_id . " FROM " . DB_PREFIX . "store");

        if (isset($su_data['product_description'])) {
            $this->db->query("INSERT INTO " . DB_PREFIX . "product_description SET name = '" . $this->db->escape($su_data['name']) . "', product_id = '" . (int)$product_id . "'");
        }
    }
} 
```

请注意，您`$product_id`不再将 _ 作为方法参数传递 - 产品被插入，新 ID 被生成，并且该 ID 的描述被存储。此外，产品描述也没有更新，而是作为新插入！仅在插入产品时才存储产品描述 - 即使没有产品数据，存储产品描述也是没有意义的......

你也应该`language_id`为产品描述行设置。

# android - 文件未在 Android 上写入

> ID：15785098
> 
> 赞同：0
> 
> 时间：2013-04-03T10:38:12.033
> 
> 标签：android, file, filenotfoundexception

我正在尝试在我的 android 应用程序中将文件写入内部存储器，但是，尽管调用了此代码，但稍后当我尝试读取文件时，应用程序因 fileNotFound 异常而崩溃。我正在尝试编写一个数组，每个引用都在一个新行上。

```
try{
            File myOutputFile = new File ("data/data/com.example.referencetool/files", filename );
            FileWriter fw = new FileWriter(myOutputFile, true);
            BufferedWriter bw = new BufferedWriter(fw);

            if(isFirstTime){
                myOutputFile.createNewFile();
            }

            int i = 0;

            while(i<=toSave.length){
                if(toSave[i].equals(null)){
                    bw.write("null");
                }
                else{
                    bw.write(toSave[i]);
                }
                bw.newLine();
                i++;
            }

        bw.flush(); 
        bw.close();

        }
        catch(Exception e){
            e.printStackTrace();
        } 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:44:10.977

您可以通过以下方式`Read/ Write`输入文件`data/data/package_name/files Folder`，

```
 BufferedReader bufferedReader = new BufferedReader(new FileReader(new 
                           File(getFilesDir()+File.separator+"MyFile.txt")));
 String read;
 StringBuilder builder = new StringBuilder("");

 while((read = bufferedReader.readLine()) != null){
        builder.append(read);
      }
 Log.d("Output", builder.toString());
 bufferedReader.close(); 
```

检查此[链接](https://stackoverflow.com/a/8493776/1168654)和[链接](https://stackoverflow.com/a/9306962/1168654)

# jquery - Angular.js 内联编辑

> ID：15785100
> 
> 赞同：9
> 
> 时间：2013-04-03T10:38:12.963
> 
> 标签：jquery, datagrid, angularjs, angularjs-directive, inline-editing

我正在尝试找到使用 angularjs 进行内联编辑的最佳方法。就我而言，它是一种带有“编辑”按钮的数据网格。所以它在 ng-repeat 里面。

我看到人们所做的是将实际数据和编辑输入放在同一行中，编辑输入被隐藏并在单击编辑按钮时显示。

但这似乎不对。在我看来，这是很多无用的 DOM。

所以我想我会更好地做这样的事情。您单击编辑按钮，该按钮将有一个指令，它将 1）隐藏`<td>`with 数据 2）找到按钮的父级，应该是`<tr>`，并在其中注入一个模板 3）在保存时删除那些编辑`<td>`s 和再次显示数据`<td>`s。

所以我开始制定指令，在里面我有`element.click()`函数，

```
// found the parent
var parent = element.closest('tr');
// found all the data tds
var tds = parent.find('td');
// hidden them  
tds.hide(); 
```

现在问题来了，接下来我想做这样的事情

```
// append input with editing tds into parent
parent.append('<td><input type="text" ng-model="entry.name" /> {{entry.name}} </td>'); 
```

但是它不会绑定甚至解析 {{}} 吗？我必须使用什么方法而不是 jquery 的追加？

指令文件说这个

> 模板元素 - 声明指令的元素。仅对元素和子元素进行模板转换是安全的。

所以我不能在 element.parent() 上使用模板转换

如果我在 上制定指令会有所帮助吗？`<tr>`即使我这样做了，我也会转换我的整个`<tr>`，这意味着我丢失了原始模板，我必须有另一个指令或将其转换回原始状态..不是吗？

### 编辑

因为这个问题似乎很受欢迎..首先我最初担心每次 ng-repeat 迭代渲染额外元素是没有根据的，因为 1）你可以使用 ng-if，这意味着在条件为真之前它不会被渲染 2）您可以按照我的意图附加一个模板，然后只需使用`$compile`它就可以正常工作，它绝对不会“昂贵”，因为您只是为一个元素做这件事。有很多方法可以解决这个问题，但 ng-if 是最简单的，如果 supermasher 的方式不适合你，那就是。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-03T11:15:11.183

注入一个新的模板是一种相当昂贵的做事方式，尤其是当你有很多内联编辑器的实例时。

有很多方法可以做到这一点，但最简洁（也是最简单）的是使用相同的元素来编辑和显示您的数据，并使用指令简单地切换它的 CSS 以更改它在两种状态下的显示方式，如下所示：

```
myApp.directive('inlineEdit', function () {

return function (scope, element, attrs) {
    element.bind('click', function () {

        if (element.hasClass('inactive')) {
            element.removeClass('inactive');
        } else {
            element.addClass('inactive');
            $(element).blur()
        }
    });
}; 
```

});

查看这个小提琴以获得完整的工作示例：http: [//jsfiddle.net/3EaY8/](http://jsfiddle.net/3EaY8/)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-02-24T10:27:58.357

嗨，我知道已经有一个公认的答案，但我偶然发现了这个

[http://vitalets.github.io/angular-xeditable/](http://vitalets.github.io/angular-xeditable/)

最近，我相信这是一个非常体面的项目，可以处理一般的可编辑控件。

希望它对某人有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-18T10:05:32.370

只是把它扔在那里，如果你使用新`ng-if`指令来“隐藏”那些编辑输入和东西，“很多无用的 DOM”不再是一个问题，因为 ng-if 不会在全部。

# php - 如何在 PHP 中编写动态 SQL 查询？

> ID：15785102
> 
> 赞同：1
> 
> 时间：2013-04-03T10:38:28.203
> 
> 标签：php, sql

你好 StackOverflowers 同胞，

由于大量增长和来自公众的建议需要对我的网站进行修改，我需要修改我的数据库，我已经完成了调整以适应访问者的建议。是的，非常令人困惑，所以我将直奔主题：

当前查询：

```
$arow=mysql_fetch_assoc(mysql_query("SELECT * FROM animelist WHERE id = '".$_REQUEST['id']."'"));
$placeholders = array(' ', ',', ':');
$replacements = array('-', '', '');
$title=str_replace($placeholders, $replacements,$arow['name']);
$title=preg_replace("/[^a-zA-Z0-9\s-]/", "", $title);
$link=$title."-".$arow['id'];

$link="Stream-".$title."-Episode-".$row1['episodes_id']."-".$row1['language']."-".$row1['id']; 
```

最初，-Episode- 部分只需要命名/写为“-Episode-”，但是根据用户的建议，我完全同意，它也需要是动态的。可以说（使用条款仅供参考）最初该网站只有剧集而不是电影，但现在也有电影。所以我们希望这部分也是动态的。为此，我们使用数据库信息，我在表“项目”中创建了一个列“类型”INT(1)，我建议将 0 设为 -Episode-，如果类型下的值为 1，那么我建议将其设为 -Movie-。

现在的问题是如何在查询中正确实现它？我知道需要进行更多查询，类似于来自 $title 或 $row1 的查询。这是我到目前为止所拥有的，但它还不完整，因为我不知道如何：

```
$link="Stream-".$title."-.$type.-".$row1['episodes_id']."-".$row1['language']."-".$row1['id'];

$type=$arow['type'] 
```

现在应该有一个代码，我不确定如何正确编写，它的条件是 if type = 0 然后 echo Episode，elseif type = 1 然后 echo Movie。

我非常感谢您花时间阅读本文，并希望您能帮助我。

编辑：假设 $row1，是从名为“videos”的表中获取的，而不是从“animelist”中获取的，但是“videos”表中的每个视频都有一个“id”，但也有一个名为“anime_id”的列，这个anime_id 等于'animelist'中的'id'，短视频中的id是帖子，anime_id是类别。

现在需要写更多的查询来平衡游戏，请帮帮我，我卡住了。

提前致谢， Inder

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:46:59.333

$type = ($arow['type']==0) ？“剧集”：“电影”；或 $type = $arow['type'] ？“剧集”：“电影”；

# ios - iOS：让应用程序始终处于领先地位的可能性

> ID：15785105
> 
> 赞同：-2
> 
> 时间：2013-04-03T10:38:40.957
> 
> 标签：ios

是否有可能在 iOS 设备中实现这样的功能，让应用程序始终处于领先地位？使用私有 API/workarouds 不是问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:49:22.927

在 iOS 6 中，有一个名为**Guided Access的功能**

![引导访问](https://i.stack.imgur.com/fpJpY.jpg)

详情请查看：

1.  [苹果支持](http://support.apple.com/kb/HT5509)
2.  [引导访问](http://osxdaily.com/2012/09/25/enable-guided-access-ios/)
3.  [信息亭模式](http://www.macgasm.net/2012/09/20/tip-how-to-turn-on-guided-access-in-ios-6-put-ipad-into-guest-user-mode/)

# java - 将某些字符/键的输入重新映射到 JTextComponent 的最佳方法？

> ID：15785107
> 
> 赞同：1
> 
> 时间：2013-04-03T10:38:50.720
> 
> 标签：java, swing, input, keylistener, jtextcomponent

我正在研究一个`JTextPane`（几乎）与stackoverflow上的标签输入字段完全一样的工作。为此，只要用户点击输入、制表符或空格，我就会将文本转换为组件。自然地，我不希望将这些字符中的任何一个实际输入到文本窗格中。我找到了这个解决方案，SSCCE：

```
import java.awt.Color;
import java.awt.event.ActionEvent;

import javax.swing.AbstractAction;
import javax.swing.BorderFactory;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JTextPane;
import javax.swing.KeyStroke;
import javax.swing.text.BadLocationException;
import javax.swing.text.Element;
import javax.swing.text.StyledDocument;

@SuppressWarnings("serial")
public class TagTextPane extends JTextPane {

    public TagTextPane() {
        this.getInputMap().put(KeyStroke.getKeyStroke("SPACE"), "finalizeTag");
        this.getInputMap().put(KeyStroke.getKeyStroke("ENTER"), "finalizeTag");
        this.getInputMap().put(KeyStroke.getKeyStroke("TAB"), "focusNext");
        this.getActionMap().put("focusNext", new AbstractAction() {

            @Override
            public void actionPerformed(ActionEvent arg0) {
                finalizeTag();
                transferFocus();
            }
        });
        this.getActionMap().put("finalizeTag", new AbstractAction() {

            @Override
            public void actionPerformed(ActionEvent e) {
                finalizeTag();
            }
        });
    }

    private void finalizeTag() {
        StyledDocument doc = (StyledDocument) getDocument();
        Element element = doc.getCharacterElement(getCaretPosition() - 1);
        int start = element.getStartOffset();
        int len = element.getEndOffset() - start;
        String tag = "";
        try {
            tag = this.getDocument().getText(start, len);
        } catch (BadLocationException e) {
        }
        this.setSelectionStart(start);
        this.setSelectionEnd(start + len);
        JLabel label = new JLabel(tag);
        label.setBorder(BorderFactory.createLineBorder(Color.BLACK));
        this.insertComponent(label);        
    }

    public static void main(String[] args) {
        JFrame frame = new JFrame("TagTextPaneTest");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        TagTextPane tPane = new TagTextPane();
        frame.setSize(400, 100);
        frame.getContentPane().add(tPane);
        frame.setVisible(true);
    }
} 
```

点击“tab”通常会导致插入一个制表符，点击“enter”通常会导致输入换行符，点击“space”会导致输入空格。奇怪的是，我的代码停止输入换行符和制表符，但仍然允许正常输入空格，同时执行预期的操作。

1.  为什么这种方法对这些键的行为不同？

2.  如何阻止空间被输入？（也许我想稍后将此行为扩展到逗号等。）

3.  如何以最佳方式控制 a 中某些字符和击键的行为`JTextComponent`？我看过[这个](https://stackoverflow.com/a/4863998/1654255)，建议使用 a `KeyListener`，但我也看过[这个](https://stackoverflow.com/questions/15703644/how-to-filter-certain-characters-in-jtextfield)，Rob Camick 指出，为什么`KeyListener`不应该使用 a 。那么我应该使用 a `DocumentFilter`，还是在轮子上打破蝴蝶？

4.  这甚至是构建这种标签输入字段的最佳方式吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T16:06:18.343

```
this.getInputMap().put(KeyStroke.getKeyStroke("SPACE"), "finalizeTag"); 
```

这是处理空格字符的 keyPressed 事件。

您要处理空格字符的 keyTyped 事件：

```
this.getInputMap().put(KeyStroke.getKeyStroke(' '), "finalizeTag"); 
```

# c# - Windows 窗体触地事件

> ID：15785118
> 
> 赞同：5
> 
> 时间：2013-04-03T10:39:33.333
> 
> 标签：c#, winforms, touch

我正在创建一个 Windows 窗体应用程序，该应用程序具有几个可点击的面板，这些面板需要相当于鼠标向下和向上事件的触摸屏。

当我使用键盘和鼠标进行测试时，事件会正确触发，并且应用程序会按预期做出反应。但是，在触摸屏上进行测试时，情况并非如此。唯一可以正常工作的事件是单击事件，但我的应用程序需要鼠标按下事件来不断更新值。

有没有人遇到过这样的问题并找到了解决方案？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:49:49.533

只是做了一点阅读，我认为您需要覆盖 WndProc 并查找 WM_TOUCH 事件。

查看[Windows 7 Multitouch .NET 互操作示例库](http://archive.msdn.microsoft.com/WindowsTouch/Release/ProjectReleases.aspx?ReleaseId=2127)，其中包含有关在 winforms 中处理触摸和手势的示例。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2020-06-09T09:53:16.767

您必须覆盖 WndProc，捕获消息并手动启动 MouseDown 和 MouseUp 事件

```
public const int WM_POINTERDOWN = 0x246;
public const int WM_POINTERUP = 0x247;

[PermissionSet(SecurityAction.Demand, Name = "FullTrust")]
protected override void WndProc(ref Message m)
{
    base.WndProc(m);
    switch (m.Msg)
    {
        case WM_POINTERDOWN:
            {
                MouseEventArgs args = new MouseEventArgs(MouseButtons.Left, 1, this.MousePosition.X, this.MousePosition.Y, 0);
                MouseDown(this, args);                    
                break;
            }

        case WM_POINTERUP:
            {
                MouseEventArgs args = new MouseEventArgs(MouseButtons.Left, 1, this.MousePosition.X, this.MousePosition.Y, 0);
                MouseUp(this, args);
                break;
            }
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-03T10:44:44.827

I'm not completely sure about this but, have you tried using a tap event to capture the touch, rather than the click event?

# mysql - 如何使用 MYSQL 循环使用逗号分隔符的列数据

> ID：15785124
> 
> 赞同：0
> 
> 时间：2013-04-03T10:39:54.883
> 
> 标签：mysql

```
id | value

1  | 0, 1

2  | 0,1,2 
```

**`table_1`**

1.  我有一个名为**table_1**的表，它有**id**和**value**列。

2.  我想遍历以逗号分隔的每个数据 的**值列。**

3.  然后，我想将每个数据插入到一个新表中。

如下：

```
id | value

1  | 0

1  | 1

2  | 0

2  | 1

2  | 2 
```

**`table_2`**

1.  这意味着在table_2中，当user_id=1时会有两行。

2.  示例：user_id = 1，value = 0 user_id =1，value = 1

如何做到这一点？非常感谢您的回复。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T12:05:27.573

实际上，您想要与 GROUP_CONCAT() 功能相反的功能。

我发现了这个，这可能对你有用：[http ://thenoyes.com/littlenoise/?p=92](http://thenoyes.com/littlenoise/?p=92)

希望有帮助。

# jquery - 单击同一单元格中的链接时获取隐藏字段值

> ID：15785134
> 
> 赞同：1
> 
> 时间：2013-04-03T10:40:39.757
> 
> 标签：jquery

我正在使用 asp.net 数据列表，当单击该单元格的锚点时，我必须找到隐藏字段值。

我试图使用`parent()`,`closest()`

```
<script type="text/javascript">
        $('.document').ready(function () {
            $('.addtocompare').bind('click', function () {

                 var hdnProductId = $(this).parent().find('.hdnProductId  input[type=hidden]').val();
                                alert(hdnProductId);

                return false;
            });
        });
    </script> 
```

[JSFIDDLE 可以在这里找到](http://jsfiddle.net/xGzdG/1/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:46:00.337

采用`.parents()`

```
 var hdnProductId = $(this).parents().find('.hdnProductId  input[type=hidden]').val(); 
```

[JSFIDDLE](http://jsfiddle.net/xGzdG/3/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:47:16.843

像这样？

```
$(this).children('input[type=hidden]').val(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T10:47:32.383

parent() 为您提供一级父级...因为您的隐藏输入输出在内部`<td>`使用 parents(".tdClass") 并且您在 find 中的代码不正确

试试这个

```
var hdnProductId = $(this).parents(".tdClass").find('.hdnProductId  input[type=hidden]').val(); 
```

[工作小提琴](http://jsfiddle.net/bipen/xGzdG/5/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T10:50:29.383

嗨，我更新了你的 jsfiddle 请检查

注意变化

```
var hdnProductId = $(this).parents().find(".hdnProductId  input[type=hidden]").val(); 
```

[http://jsfiddle.net/xGzdG/7/](http://jsfiddle.net/xGzdG/7/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-03T10:55:40.177

你可以这样做：

```
var hdnProductId = $(this).parents('.CollectionLeftbottom').siblings(".CollectionLeftTop").find('.hdnProductId  input[type=hidden]').val(); 
```

演示：http: [//jsfiddle.net/xGzdG/8/](http://jsfiddle.net/xGzdG/8/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-03T10:55:49.303

你可以这样做：

```
var hdnProductId = $(this).closest('td')
                          .find('.hdnProductId  input[type=hidden]').val(); 
```

只需到达被点击项目的td`.closest()`和in that 。`.find()``input[type=hidden]``<td>`

请注意：

这是无效的：

```
$('.document') 
```

改为：

```
$(document) 
```

### [在 FIDDLE 中查找](http://jsfiddle.net/xGzdG/10/)

# java - 上传 File Struts 中的 java.lang.NullPointerException

> ID：15785138
> 
> 赞同：1
> 
> 时间：2013-04-03T10:40:48.047
> 
> 标签：java, nullpointerexception, struts, struts-1

我有一个问题，我需要帮助。我在 Eclipse 中使用 Struts 1.3.10，我正在开发一个 Web 应用程序，我正在使用 JSP，好吧，我正在实现一个上传文件的 JSP，但给我带来了问题。我有下一个代码和配置。

```
<body>
    <html:form action="upload" method="post" enctype="multipart/form-data"> 
        <input type="file" name="fichier" /> 
      <tr>
          <td><html:submit property="submit" value="Submit"/></td>
          <td align="left"><html:reset/></td>
      </tr>
    </html:form>
</body> 
```

在Form bean中我有

```
public class uploadForm extends ActionForm  {
protected FormFile fichier;
public FormFile getFichier() 
   {   
      return fichier;
   }

   public void setFile(FormFile fichier) 
   {
      this.fichier = fichier;}} 
```

在我的行动中

```
public class uploadAction extends Action  {
public ActionForward execute(ActionMapping mapping, ActionForm form, 
        HttpServletRequest req, 
        HttpServletResponse res) throws Exception {

        String resultat = null;
        FormFile fichier = ((uploadForm) form).getFichier();
        String fileName = fichier.getFileName();
        System.out.println(fileName);
        return mapping.findForward(resultat);
    }
} 
```

在我的 struts-config 中

```
<form-beans type="org.apache.struts.action.ActionFormBean">
  <form-bean name="uploadForm" type="struts.ActionForm.uploadForm" />
</form-beans><action-mappings type="org.apache.struts.action.ActionMapping">

    <action path="/fiche" input="/FormulaireFiche.jsp" scope="request"
    name="FicheRenseignementForm" type="struts.action.FicheRenseignementAction">
      <forward name="succes" path="/personnel_succes.jsp" redirect="false" />
      <forward name="echec" path="/FormulaireFiche.jsp" redirect="false" />
    </action></action-mappings> 
```

当我运行应用程序并选择文件时，服务器向我发送异常

```
javax.servlet.ServletException: java.lang.NullPointerException
org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:286)
org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
javax.servlet.http.HttpServlet.service(HttpServlet.java:637)
javax.servlet.http.HttpServlet.service(HttpServlet.java:717) 
```

起因

```
java.lang.NullPointerException
struts.action.uploadAction.execute(uploadAction.java:21)
org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
javax.servlet.http.HttpServlet.service(HttpServlet.java:637)
javax.servlet.http.HttpServlet.service(HttpServlet.java:717) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:20:10.873

tag中 action 属性的值`html:form`应该和你在`action-mapping`tag in 中使用的值相同`struts-config.xml`。在操作属性中使用`/upload`或。`/fiche`

你可以只使用`<html:submit value="Submit"/>`. 由于 UploadForm 没有“提交”属性，如果您在`html:submit`标签中包含属性属性，则会出现错误。

`FormFile fichier;`更改to的访问修饰符，`public`以便 Action 类获取表单对象的引用。并将方法更改`setFile`为`setFichier`

的值为`resultat`空。分配一个转发名称，例如`succes`.

动作标签的名称和输入属性值也应该从更改`FicheRenseignementForm`为`UploadForm`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:13:15.270

你在这里有几个问题：

1）您需要将一个html表单绑定到您的FormFile对象（属性）就像这样：

`<html:file property="fichier"/>`

2) 您的 setter 名称不正确 - 它无法在您的表单对象中设置值。肯定是`setFichier(FormFile fichier)`

3)`property="submit"`不需要`<html:submit />`

开始用这些东西解决错误。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T11:24:42.950

将方法重命名`setFile`为 setter `setFichier`。Struts 在提交时无法设置该字段是由 NPE 造成的。

# c++ - 没有初始化的类中的数组

> ID：15785139
> 
> 赞同：2
> 
> 时间：2013-04-03T10:40:48.627
> 
> 标签：c++, arrays, class, initialization

我长期以来一直在努力解决这个问题。在 C++ 中，在类 A 中创建的类 B 的数组必须由默认构造函数初始化，这似乎是非常无效的。有没有办法避免这种行为？我实施了人员登记。如果我使用计数引用创建它，我会得到很多默认的构造函数调用，而且它似乎不太有效。我还必须创建不必要的默认构造函数。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:51:57.330

当您创建对象数组时，无论是静态数组 ( `Person people[1000]`) 还是动态分配的 ( `Person* people = new Person[1000]`)，所有 1000 个对象都将使用默认构造函数创建和初始化。

如果你想为对象创建空间，但还没有创建它们，你可以使用像[std::vector](http://www.cplusplus.com/reference/vector/vector/)这样的容器（它实现了一个动态大小的数组），或者使用一个指针数组，比如`Person* people[1000]`或者`Person** people = new Person*[1000]`- 在这种情况下，您可以初始化所有项目`NULL`以指示空记录，然后逐个分配对象：`people[i] = new Person(/* constructor arguments here */)`，但您还必须`delete`单独记住每个对象。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T12:11:16.597

我想我有你想要的解决方案。我在 GCC 4.6 上对此进行了测试，它可能需要修改 MSVC++ 的对齐位，但这里是示例输出和源代码：

源代码（使用 GCC 4.6 测试）：

```
#include <cstdio>
#include <cstring>
#include <new>

// std::alignment_of

template <typename T, std::size_t capacity>
class StaticVector
{
public:
    StaticVector() : _size(0)
    {
        // at this point we've avoided actually initializing
        // the unused capacity of the "static vector"
    }
    ~StaticVector()
    {
        // deconstruct in reverse order of their addition
        while (!empty())
            pop_back();
    }
    void push_back(const T &src)
    {
        // at this point we initialize the unused array entry by copy
        // constructing it off the passed value
        new (data() + _size) T(src);
        _size++;
    }
    void pop_back()
    {
        _size--;
        // we manually call the deconstructor of the entry we are marking as unused
        data()[_size].~T();
    }
    bool empty() const {return _size == 0;}
    std::size_t size() const {return _size;}

    // NOTE: you'd better index only into constructed data! just like an std::vector
    T & operator[](int i) {return *data()[i];}
    const T & operator[](int i) const {return *data()[i];}
    T * data() {return reinterpret_cast<T*>(_data);}
    const T * data() const {return reinterpret_cast<const T*>(_data);}
protected:
// NOTE: I only tested this on GCC 4.6, it will require some
// conditional compilation to work with MSVC and C++11
#if 1 // for GCC without c++11
    char _data[sizeof(T[capacity])] __attribute__((aligned(__alignof__(T))));
#else // UNTESTED: The C++11 way of doing it?
    alignas(T) char _data[sizeof(T[capacity])]; // create a suitable sized/aligned spot for the array
#endif
    std::size_t _size;
};

// NOTE: lacks a default constructor, only
// constuctor that takes parameters
class B
{
public:
    B(int param1, const char param2[])
    {
        printf("Constructing   B at   %08X with parameters (%i, %s)\n", (int)this, param1, param2);
        x = param1;
        strcpy(buffer, param2);
    }
    ~B()
    {
        printf("Deconstructing B at   %08X\n", (int)this);
    }
    // NOTE: only provided to do the printf's, the default
    // copy constructor works just fine
    B(const B &src)
    {
        printf("Copying        B from %08X to %08X\n", (int)(&src), (int)this);
        x = src.x;
        memcpy(buffer, src.buffer, sizeof(buffer));
    }
protected:
    int x;
    char buffer[128];
};

class A
{
public:
    StaticVector<B, 8> staticVectorOfB;
};

int main()
{
    printf("PROGRAM START\n");
    A a;
    a.staticVectorOfB.push_back(B(0, "Uno"));
    a.staticVectorOfB.push_back(B(1, "Dos"));
    a.staticVectorOfB.push_back(B(2, "Tres"));
    printf("PROGRAM END\n");
    return 0;
} 
```

样本输出：

```
PROGRAM START
Constructing   B at   0022FDC4 with parameters (0, Uno)
Copying        B from 0022FDC4 to 0022F9A0
Deconstructing B at   0022FDC4
Constructing   B at   0022FE48 with parameters (1, Dos)
Copying        B from 0022FE48 to 0022FA24
Deconstructing B at   0022FE48
Constructing   B at   0022FECC with parameters (2, Tres)
Copying        B from 0022FECC to 0022FAA8
Deconstructing B at   0022FECC
PROGRAM END
Deconstructing B at   0022FAA8
Deconstructing B at   0022FA24
Deconstructing B at   0022F9A0 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T10:58:01.063

数组怎么样，B类在A里面吗？是不是像 B arr[size];？而是使用向量，以便您可以在初始化中初始化大小，然后推送对象。或带有新的动态数组，如下所示。initfunc 可以创建你的注册。由于 initfunc 在构造函数的初始化中被调用，它会很有效。

B类{};

```
class A
{
    B *barray;
    B* initfunc()
    {
        B* tmp = new B[5];

        //init elements of B

        return tmp;
    }
public:
    A():barray(initfunc())
    {

    }

    ~A()
    {
        delete[] barray;
    }
};
//the code is not exception safe, vector recommended. 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T10:53:17.063

首先，您不需要创建默认构造函数，否则编译器将生成其代码。我认为没有一种干净的方法可以避免在对象上调用默认构造函数（也许优化器会为数组删除它），但肯定有一个肮脏的方法：

```
class B
{
};

class A
{
private:
    char _array[sizeof(B)*5];
    B* getB() {return (B*)_array;}
}; 
```

然后你仍然可以像使用固定大小的数组一样使用指针。`sizeof`并且增量/减量将不起作用。

我想你不应该被默认构造函数的“低效率”所困扰。他们在那里是有原因的。否则，如果默认构造函数真的没有工作要做，它应该被内联，然后它不会产生执行开销。

# objective-c - ReactiveCocoa takeUntil 和 takeWhile 不发送最后一个“下一个”

> ID：15785142
> 
> 赞同：3
> 
> 时间：2013-04-03T10:40:51.497
> 
> 标签：objective-c, reactive-programming, reactive-cocoa

考虑以下代码段：

```
- (RACSignal *)startRouting {
...
}

- (RACSignal *)updateRoutingWithSession:(NSString *)session {
...
}

- (RACSignal *)fetchFlights {
    return [[self startRouting] flattenMap:^RACStream *(NSString *session) {
        return [[[[self updateRoutingWithSession:session]
                        delay:2.0f]
                        repeat]
                        takeUntilBlock:^BOOL(RACTuple *operationAndResponse) {
                            AFHTTPRequestOperation *operation = [operationAndResponse first];
                            NSDictionary *response = [operationAndResponse second];
                            return [operation isCancelled] || 100 == [response[kPercentComplete] intValue];
                        }];
    }];
} 
```

这里发生的是`startRouting`返回`RACSignal`发送会话 ID 的 a 。 `updateRoutingWithSession:`返回 a `RACSignal`，它发送包含属性的`NSDictionary`外观。`PercentComplete`民意调查之间有两秒钟的延迟。

`fetchFlights`将运行直到`updateRoutingWithSession:`有`PercentComplete`100 个。

我的问题是最后一个`sendNext:`，即`takeUntilBlock`返回的地方`true`，没有到达`RACSubscriber`.

我错过了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-17T09:31:13.527

我在 RX 的世界里发现了这个。这通常通过合并两个信号来解决。一种在谓词为真之前采用重复来源的方法。另一个在谓词为真时跳过。

这看起来像这样

```
 BOOL (^finished)(id _) = ^BOOL(id _) {
    return predicate; // BOOLean here
}

// You want a multicast signal, because multiple signals will subscribe to the source.
// Multicasting it means that you won't get repeated api-requests, in this case.
RACMulticastConnection *source = [[theSignal repeat] publish];

RACSignal *whileNotDone = [source.signal takeUntilBlock:finished];
RACSignal *whenDone = [[source.signal skipUntilBlock:finished] take:1];
RACSignal *merged = [RACSignal merge:@[whileNotDone, whenDone]];

[source connect]; // Needed for a multicast signal to initiate. 
```

该`merged`信号将包括最后一个`sendNext`。然后。`next``source``sendCompleted`

来自 RX 世界的一些参考资料：

*   [“如何根据事件中的条件完成 Rx Observable”](https://stackoverflow.com/questions/8126495/how-to-complete-a-rx-observable-depending-on-a-condition-in-a-event)
*   [“RX Observable.TakeWhile 在每个元素之前检查条件，但我需要在之后执行检查”](https://stackoverflow.com/questions/14697658/rx-observable-takewhile-checks-condition-before-each-element-but-i-need-to-perfo)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T14:15:50.777

澄清一下：你的问题是`next`触发完成的那个没有被发送出去？`takeUntilBlock`将传播下一个，直到谓词为 NO。（[文档](https://github.com/ReactiveCocoa/ReactiveCocoa/blob/master/ReactiveCocoaFramework/ReactiveCocoa/RACStream.h#L265)）因此，`next`不会发送最后一个。但是您可以订阅`completion`在这种情况下应该发生的情况。

# python - Python Popen 在标准输入上发送到进程，在标准输出上接收

> ID：15785148
> 
> 赞同：11
> 
> 时间：2013-04-03T10:41:17.497
> 
> 标签：python, popen, argv

我将命令行上的可执行文件传递给我的 python 脚本。我做了一些计算，然后我想将这些计算的结果在 STDIN 上发送到可执行文件。完成后，我想从 STDOUT 中获取可执行文件的结果。

```
ciphertext = str(hex(C1))
exe = popen([sys.argv[1]], stdout=PIPE, stdin=PIPE)
result = exe.communicate(input=ciphertext)[0]
print(result) 
```

当我打印时`result`，我什么也没得到，没有空行。我确信可执行文件可以处理数据，因为我在命令行上使用“>”重复了相同的操作，结果与先前计算的结果相同。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-04-03T11:02:46.087

一个工作示例

```
#!/usr/bin/env python
import subprocess
text = 'hello'
proc = subprocess.Popen(
    'md5sum',stdout=subprocess.PIPE,
    stdin=subprocess.PIPE)
proc.stdin.write(text)
proc.stdin.close()
result = proc.stdout.read()
print result
proc.wait() 
```

要获得与“<code>exeuable <params.file > output.file”相同的内容，请执行以下操作：

```
#!/usr/bin/env python
import subprocess
infile,outfile = 'params.file','output.file'
with open(outfile,'w') as ouf:
    with open(infile,'r') as inf:
        proc = subprocess.Popen(
            'md5sum',stdout=ouf,stdin=inf)
        proc.wait() 
```

# android - Android - sendTextMessage 消息未显示在 SMS 应用程序中

> ID：15785149
> 
> 赞同：3
> 
> 时间：2013-04-03T10:41:18.730
> 
> 标签：android, sms

我正在编写一个应用程序，它会在某些情况下自动向给定号码发送短信，短信代码正在工作并且短信也已发送..但是发送的短信没有显示在任何***其他***安装的短信客户端/应用程序中。 .

```
String phoneNumber = "1234512345";
String message = "Test Message";
SmsManager smsManager = SmsManager.getDefault();
smsManager.sendTextMessage(phoneNumber, null, message, null, null); 
```

我错过了什么？我希望发送的短信（*由我的应用程序发送*）显示在已安装的其他短信应用程序中。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-03T10:46:44.630

是的，您已经以编程方式发送了 SMS，但您**尚未通知 SMS 内容提供商**，因此除非您通知它，否则它不会收到您的消息。

```
 ContentValues values = new ContentValues(); 
 values.put("address", "1234512345"); 
 values.put("body", "Test Message"); 
 getContentResolver().insert(Uri.parse("content://sms/sent"), values); 
```

确保在 AndroidManifest.xml 文件中包含以下权限：

```
<uses-permission android:name="android.permission.WRITE_SMS" />
<uses-permission android:name="android.permission.READ_SMS" /> 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-04-03T11:24:01.037

在接收端应用程序中使用广播接收器

```
 @Override
public void onReceive(Context context, Intent intent) {
    // TODO Auto-generated method stub

     Bundle bundle = intent.getExtras();
     String str="";
     String from="";

        if (bundle != null) {
            Object[] pdus = (Object[])bundle.get("pdus");
            final SmsMessage[] messages = new SmsMessage[pdus.length];
            for (int i = 0; i < pdus.length; i++) {
                messages[i] = SmsMessage.createFromPdu((byte[])pdus[i]);                    
               str += messages[i].getMessageBody().toString();
               from = messages[i].getOriginatingAddress().toString();
            }

           if(from.equals("123456789")){ 

           str= str.trim();

           abortBroadcast();
           Intent intt = new Intent(context,MainActivity.class);
                   intt.putExtras("message",str); 
           intt.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
           context.startActivity(intt);
           }
       } 
```

在您的 mainActivity 中编写一些代码来显示获得的消息。消息将在意图中。所以从中获取字符串。

这里广播接收器仅接收来自号码“123456789”的消息。来自这个号码的消息不会进入您手机的收件箱。如果您想在收件箱中查看，请删除方法 abortBroadcast()。

# php - 使用 PHP (<5.3 ) 或 JAVASCRIPT 在 Mobile Safari (IOS) 上检测区域格式

> ID：15785150
> 
> 赞同：2
> 
> 时间：2013-04-03T10:41:34.440
> 
> 标签：php, javascript, user-agent, regional-settings

我要疯了，试图从 IOS/移动 Safari 浏览器获取**用户区域格式（而不是语言）；**

例如，如果他有以下设置，我想将用户重定向到美国页面：
语言：EN
区域：美国

但**我总是在移动 safari 上得到 en-us**，或者如果系统设置都是语言 = en，区域 = en

我尝试了服务器端和客户端方法

我尝试使用 PHP（系统设置：lang=en / region=en）

```
$lang_string = $_SERVER['HTTP_ACCEPT_LANGUAGE'];
echo $lang_string;
//en-US,en; on Chrome Desktop
//en-US; on Safari Desktop with UserAgent iPad
//en-US; on Mobile Safari 
```

使用 javascript 方法，（系统设置：lang=en / region=en）

```
alert(window.navigator.language) 
```

总是**我们**！

有没有办法获取用户区域？

（我知道使用[Locale 类（PHP 5 >= 5.3.0，PECL intl >= 1.0.0）](http://php.net/manual/en/class.locale.php)应该是可能的，但我没有测试，我无法升级服务器版本）

谢谢你的帮助！

# version-control - 我可以在推送到主存储库期间编辑代码吗？

> ID：15785158
> 
> 赞同：0
> 
> 时间：2013-04-03T10:41:58.203
> 
> 标签：version-control, mercurial, push

我正在使用 tortoisHg 在 Windows 中为我的项目使用 mercurial 控制版本。我想知道在推送到服务器期间编辑代码时会发生什么？它可以在我的存储库上产生任何不需要的问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:48:39.847

正如我在评论中所写，您可以在推送运行时继续编辑。推送从 .hg 文件夹（元数据）收集您的变更集，并且不受您编辑文件的影响。

注意 - 为了安全起见，**不要**在推送运行时提交。

# css - 你是什 么意思#classname in css

> ID：15785159
> 
> 赞同：0
> 
> 时间：2013-04-03T10:42:01.250
> 
> 标签：css

我的项目包含以下代码，但没有得到 #M、#D 等。我是 CSS 新手

```
 <div id="DivM" class="M" style="display: none;">
        </div>
        <div id="DivB" class="B" style="display: none;">
        </div>
        <div id="DivD" class="D" style="display: none;">
        </div>
        <div id="DivL" class="L" style="display: none;">
        </div>
        <div id="DivO" class="O" style="display: none;">
        </div> 
```

和 CSS

```
#M {background: url(/images/M.png) no-repeat;width: 148px;height:90px;top: 18px;left:3px;outline:none;list-style:none;}
#B {background: url(/images/B.png) no-repeat;width: 292px;height:90px;top: 0;left: 0;outline:none;list-style:none;}
#D {background: url(/images/D.png) no-repeat;width: 158px;height:90px;top:18px;left:78px;outline:none;}
#L {background: url(/images/L.png) no-repeat;width: 158px;height: 50px;top:82px;left:22px;outline:none;list-style:none;}
#O {background: url(/images/O.png) no-repeat;width: 158px;height:90px;top:37px;left:36px;outline:none;list-style:none;} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:43:56.133

这些样式不起作用，`#M`使用of定位元素，使用`id`of定位元素。这会起作用：`M``.M``class``M`

```
.M { ... }
.B { ... }
.D { ... }
.L { ... }
.O { ... } 
```

或这个：

```
#DivM { ... }
#DivB { ... }
#DivD { ... }
#DivL { ... }
#DivO { ... } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T10:43:10.393

`#`用于按属性进行选择`id`，而不是按`class`属性（即`.`）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-03T10:48:01.463

您应该阅读课程和 ID [http://www.w3schools.com/css/css_id_class.asp](http://www.w3schools.com/css/css_id_class.asp)

将 # 放在前面意味着您尝试为**ID**而不是类添加样式。因此，如果您想使用 Div 的类，您应该将 CSS 更改为：

```
.M {background: url(/images/M.png) no-repeat;width: 148px;height:90px;top: 18px;left:3px;outline:none;list-style:none;}
.B {background: url(/images/B.png) no-repeat;width: 292px;height:90px;top: 0;left: 0;outline:none;list-style:none;}
.D {background: url(/images/D.png) no-repeat;width: 158px;height:90px;top:18px;left:78px;outline:none;}
.L {background: url(/images/L.png) no-repeat;width: 158px;height: 50px;top:82px;left:22px;outline:none;list-style:none;}
.O {background: url(/images/O.png) no-repeat;width: 158px;height:90px;top:37px;left:36px;outline:none;list-style:none;} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T10:43:36.927

CSS 不会有任何影响。在 CSS`#`中是一个 ID 选择器，而在 CSS 中`.`是一个类名选择器。例如：

`<div id="mydiv"></div>`应该参考 `#mydiv { }`

`<div class="mydiv"></div>`应该在哪里引用`.mydiv`.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-03T10:43:45.913

`#`用于 id，您应该用于`.`类：

```
.M {background: url(/images/M.png) no-repeat;width: 148px;height:90px;top: 18px;left:3px;outline:none;list-style:none;}
.B {background: url(/images/B.png) no-repeat;width: 292px;height:90px;top: 0;left: 0;outline:none;list-style:none;}
.D {background: url(/images/D.png) no-repeat;width: 158px;height:90px;top:18px;left:78px;outline:none;}
.L {background: url(/images/L.png) no-repeat;width: 158px;height: 50px;top:82px;left:22px;outline:none;list-style:none;}
.O {background: url(/images/O.png) no-repeat;width: 158px;height:90px;top:37px;left:36px;outline:none;list-style:none;} 
```

# plugins - Loading Require.js plugins

> ID：15785168
> 
> 赞同：2
> 
> 时间：2013-04-03T10:42:26.930
> 
> 标签：plugins, requirejs

How do you load a require.js plugin?!

I've read all the docs - [http://requirejs.org/docs/plugins.html](http://requirejs.org/docs/plugins.html) - but unless I've missed it, nowhere does it tell you *how* to load a plugin. I'm trying to load the "text" one. If I require something like: `template: 'text!template.html'` Chrome just gives `/text!template.html.js 404 (Object Not Found)`, so presumably the text plugin isn't loading.

I've put it in the same dir as require.js, and tried adding it in my `require` header, but it doesn't seem to find it.

What have I missed?! I'm using the combined jquery-require.js file, if that is relevant. i.e. [http://requirejs.org/docs/download.html#samplejquery](http://requirejs.org/docs/download.html#samplejquery)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:21:09.700

我解决了这个问题。与网络服务器权限无关`require.js`，男生错误意味着没有提供文件。供参考，在`require.config`刚才放的`text :"PATH_TO_FILE"`，你参考的时候会找到的`"text!:..."`。

# magento - Product Images & Extensions not showing after Magento upgrade/migration

> ID：15785169
> 
> 赞同：0
> 
> 时间：2013-04-03T10:42:27.353
> 
> 标签：magento, migration, magento-1.7, magento-1.5

I upgraded my Magento from 1.5.1 to 1.7 using a fresh install as described here: [http://www.customerparadigm.com/magento-development/upgrade/how-to-upgrade-magento/](http://www.customerparadigm.com/magento-development/upgrade/how-to-upgrade-magento/)

For some reason my product images and extensions are not showing. I refreshed/flushed all caches, and reindexed.

Any idea why this might be?

I did run Magento/login to admin before copying the extension and media files over, but I am not sure if that should impact it.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T14:11:39.737

1) 检查 /media 和 app/etc 和 /var 文件夹权限 2) 检查管理 - 系统 - 配置 - 高级的扩展列表 3) 检查您是否可以通过直接 url 访问某些媒体图像

让我知道你的结果，我会根据结果尽力帮助你

# wpf - 在 WPF 中固定和取消固定窗格

> ID：15785170
> 
> 赞同：1
> 
> 时间：2013-04-03T10:42:30.990
> 
> 标签：wpf, wpf-controls

如何创建 WPF 应用程序，例如 Pin 和 Unpin 窗格。示例：- Visual Studio 2010 等中的属性资源管理器、解决方案资源管理器、服务器资源管理器等

请指导我需要使用哪个布局面板。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:46:07.677

我创建了一篇关于如何做到这一点的文章[http://www.codeproject.com/Articles/439873/Simple-Visual-Studio-like-Pane-Resizing-Docking-an](http://www.codeproject.com/Articles/439873/Simple-Visual-Studio-like-Pane-Resizing-Docking-an)。如果您想做一些更简单的事情，请参考 wpf unleashed 4 中的示例。

# java - 语言 Java 的语法描述

> ID：15785174
> 
> 赞同：3
> 
> 时间：2013-04-03T10:42:36.620
> 
> 标签：java, syntax, grammar

我正在写一篇关于“Java 应用程序中的源代码分析”的学士论文。我有几点必须包括书面部分。其中之一是“简要介绍 Java 的语法和写作”。由于这是一篇学士论文，必须核实信息来源——书籍、Java 的官方网站等。不幸的是，我在 Java 网站上找不到这些信息（也许我只是随便找的）。如果可能的话，我使用在线资源比使用书籍更容易。

谁能告诉我我在哪里找到了这些信息已验证？当然，我们在学校的某些科目中教授 Java 的语法或语义，但它似乎并不那么“官方来源”。

谢谢你们。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-03T10:45:27.957

使用 Oracle 的官方 Java 规范。

[http://docs.oracle.com/javase/specs/jls/se7/html/jls-2.html](http://docs.oracle.com/javase/specs/jls/se7/html/jls-2.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:46:28.113

我认为[Java 编程语言的代码约定](http://www.oracle.com/technetwork/java/codeconv-138413.html)是一个很好的起点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T10:47:58.817

对于 Java 中的静态代码分析，您可以找到一些自动化工具。

[静态代码分析工具](http://en.wikipedia.org/wiki/List_of_tools_for_static_code_analysis#Java)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T11:28:24.780

你试过google scolar吗？Scolar 只给出适当的科学结果。

例如你可能喜欢[这篇文章](http://books.google.nl/books?hl=nl&lr=&id=_Ed9tKi7blIC&oi=fnd&pg=PR3&dq=java%20syntax&ots=zF2eXhMVDk&sig=uGNoYqp6Bge32H9ho03SMqT68hE#v=onepage&q=java%20syntax&f=false)

# java - java.io.IOException：断管

> ID：15785175
> 
> 赞同：52
> 
> 时间：2013-04-03T10:42:39.000
> 
> 标签：java, spring-mvc, jetty

我们目前正在将旧应用程序迁移到 Jetty。而且我有一个关于破管道的例外情况。

*   爪哇 6
*   码头 8.1.8
*   春天 3.2.0

我正在尝试将 Glassfish Web 应用程序迁移到 Jetty。在我们的测试环境中，我们使用的是负载均衡器，一切正常。我们的客户工作没有任何问题。

```
WARN  [2013-04-03 13:34:28,963] com.myapp.bbb.config.MvcDefaultConfig$1: Handler execution resulted in exception
! org.eclipse.jetty.io.EofException: null
! at org.eclipse.jetty.http.HttpGenerator.flushBuffer(HttpGenerator.java:914)
! at org.eclipse.jetty.http.HttpGenerator.complete(HttpGenerator.java:798)
! at org.eclipse.jetty.server.AbstractHttpConnection.completeResponse(AbstractHttpConnection.java:642)
! at org.eclipse.jetty.server.Response.complete(Response.java:1234)
! at org.eclipse.jetty.server.Response.sendError(Response.java:404)
! at org.eclipse.jetty.server.Response.sendError(Response.java:416)
! at org.springframework.web.servlet.DispatcherServlet.noHandlerFound(DispatcherServlet.java:1111)
! at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:898)
! at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)
! at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:915)
! at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:811)
! at javax.servlet.http.HttpServlet.service(HttpServlet.java:735)
! at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:796)
! at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
! at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:669)
! at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1336)
! at com.magnetdigital.maggy.dropwizard.head2get.Head2GetFilter.doFilter(Head2GetFilter.java:22)
! at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1307)
! at com.yammer.dropwizard.servlets.ThreadNameFilter.doFilter(ThreadNameFilter.java:29)
! at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1307)
! at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:453)
! at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:229)
! at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1072)
! at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:382)
! at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)
! at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1006)
! at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)
! at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)
! at com.yammer.metrics.jetty.InstrumentedHandler.handle(InstrumentedHandler.java:200)
! at org.eclipse.jetty.server.handler.GzipHandler.handle(GzipHandler.java:275)
! at com.yammer.dropwizard.jetty.BiDiGzipHandler.handle(BiDiGzipHandler.java:123)
! at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)
! at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)
! at org.eclipse.jetty.server.Server.handle(Server.java:365)
! at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:485)
! at org.eclipse.jetty.server.BlockingHttpConnection.handleRequest(BlockingHttpConnection.java:53)
! at org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:926)
! at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:988)
! at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:635)
! at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
! at org.eclipse.jetty.server.BlockingHttpConnection.handle(BlockingHttpConnection.java:72)
! at org.eclipse.jetty.server.nio.BlockingChannelConnector$BlockingChannelEndPoint.run(BlockingChannelConnector.java:298)
! at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)
! at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)
! at java.lang.Thread.run(Thread.java:662)
Caused by: ! java.io.IOException: Broken pipe
! at sun.nio.ch.FileDispatcher.write0(Native Method)
! at sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:29)
! at sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:69)
! at sun.nio.ch.IOUtil.write(IOUtil.java:26)
! at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:334)
! at org.eclipse.jetty.io.nio.ChannelEndPoint.flush(ChannelEndPoint.java:293)
! at org.eclipse.jetty.server.nio.BlockingChannelConnector$BlockingChannelEndPoint.flush(BlockingChannelConnector.java:253)
! at org.eclipse.jetty.http.HttpGenerator.flushBuffer(HttpGenerator.java:850)
!... 44 common frames omitted 
```

当我检查堆栈跟踪时，我看到这个异常总是由 404 请求触发。

> org.springframework.web.servlet.DispatcherServlet.noHandlerFound(DispatcherServlet.java:1111)

*   为什么我有这个异常？
*   如何在本地机器上重现此异常？

* * *

## 回答 #1

> 赞同：74
> 
> 时间：2013-04-03T10:55:54.640

我对“管道损坏”的最常见原因是一台机器（通过套接字通信的一对机器）在通信完成之前关闭了它的套接字端。其中大约一半是因为在该套接字上通信的程序已终止。

如果发送字节的程序将它们发送出去并立即关闭套接字或自行终止，则套接字可能会在字节传输和读取之前停止运行。

尝试在关闭套接字的任何地方以及在允许程序终止之前暂停以查看是否有帮助。

仅供参考：“管道”和“套接字”是有时可以互换使用的术语。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2017-03-17T08:42:51.373

我同意@arcy，问题出在客户端，在我的情况下是因为 nginx，让我详细说明一下我使用 nginx 作为前端（所以我可以分配负载、ssl 等......）并使用`proxy_pass http://127.0.0.1:8080`转发对tomcat的适当请求。

nginx 变量`proxy_read_timeout`的默认值 60s 应该足够了，但是在某些高峰时刻，我的设置会出现*java.io.IOException 错误：Broken pipe*更改值将有所帮助，直到根本原因（60s 应该足够了）可以修复。

*注意：我做了一个新的答案，所以我可以用我的案例进行更多的扩展（这是我在看了很多之后在互联网上发现的关于这个错误的唯一提及）*

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2018-08-12T14:18:44.510

基本上，正在发生的事情是您的用户在通信完成之前正在关闭浏览器选项卡，或者正在导航到不同的页面。您的网络服务器 (Jetty) 会生成此异常，因为它无法发送剩余的字节。

```
org.eclipse.jetty.io.EofException: null
! at org.eclipse.jetty.http.HttpGenerator.flushBuffer(HttpGenerator.java:914)
! at org.eclipse.jetty.http.HttpGenerator.complete(HttpGenerator.java:798)
! at org.eclipse.jetty.server.AbstractHttpConnection.completeResponse(AbstractHttpConnection.java:642)
! 
```

这不是您的应用程序逻辑方面的错误。这仅仅是由于用户行为。您的代码本身没有任何问题。

您可以做两件事：

1.  忽略此特定异常，以免记录它。
2.  使您的代码更高效/更紧凑，以便传输更少的数据。（并不总是一种选择！）

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2020-04-07T18:55:58.890

错误消息表明客户端已关闭连接，而服务器仍在尝试写出响应。

有关更多详细信息，请参阅此链接：

[https://markhneedham.com/blog/2014/01/27/neo4j-org-eclipse-jetty-io-eofexception-caused-by-java-io-ioexception-broken-pipe/](https://markhneedham.com/blog/2014/01/27/neo4j-org-eclipse-jetty-io-eofexception-caused-by-java-io-ioexception-broken-pipe/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-09-02T05:59:05.947

增加 response.getBufferSize() 获取缓冲区大小并与您要传输的字节进行比较！

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-02-10T15:26:31.870

您可能没有设置输出文件。

# flash - jPlayer flash does not play in IE

> ID：15785176
> 
> 赞同：0
> 
> 时间：2013-04-03T10:42:42.737
> 
> 标签：flash, internet-explorer, jplayer

I cannot find out why my jPlayer installation does not work in IE when I use the flash plugin. I am using IE10 on Windows 8, but it doesn't work in any modus, except when I set the solution to HTML5\. In that case, it works only in IE10 and 9\.

Can someone see what I'm doing wrong here?

The javascript I use to start the player:

```
var stream = { mp3:"http://stream125.kerkomroep.nl:8005/K11015" };
var player = $("#jquery_jplayer_1");
player.jPlayer({
    errorAlerts:true,
    swfPath:"/jplayer/",
    supplied:"mp3",
    preload:"none",
    solution:'flash',
    wmode:"window"
});
player.jPlayer("setMedia", stream);
player.jPlayer( "play" ); 
```

The demo can be found on: [http://tmp.hjts.nl/jplayer/index.html](http://tmp.hjts.nl/jplayer/index.html). (Click on the button "Play" to start playing)

# android - 打破轮廓路径

> ID：15785177
> 
> 赞同：3
> 
> 时间：2013-04-03T10:42:44.470
> 
> 标签：android, path

我正在尝试将 Android 中的复杂路径分解为其子轮廓。目前我想出了这个代码：

```
public static ArrayList<Path> splitToContours(Path path) {
ArrayList<Path> list = new ArrayList<Path>();
PathMeasure pm = new PathMeasure(path, true);
float segment = 0;
Path tempPath;
do {
    tempPath = new Path();
    tempPath.rewind();
    pm.getSegment(segment, segment + pm.getLength(), tempPath, true);
    segment += pm.getLength();
    tempPath.close();
    list.add(tempPath);
} while (pm.nextContour());
return list;
} 
```

然而，在我看来，轮廓中的最后一点也开始下一个轮廓。谁能帮我吗？也许有一种更简单、更优雅的方式来做到这一点？在过去的两周里，我一直在用头撞墙，我有点迷失在这里。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T03:35:57.437

不知道你的确切问题是什么，但我用这样的东西来创建一个绘图风格的动画。您似乎走在正确的轨道上，也许不要关闭路径？

```
 List<Path> segmentPath(Path path, float segmentLength, float scale,
            float dx, float dy) {
        PathMeasure pm = new PathMeasure(path, false);
        float length = pm.getLength();

        float start = 0;
        float delta = segmentLength;

        List<Path> segments = new ArrayList<Path>();
        while (start <= length) {
            float end = start + delta;
            if (end > length) {
                end = length;
            }

            Path segment = new Path();
            pm.getSegment(start, end, segment, true);

            segments.add(segment);
            start += delta;
        }

        return segments;
    } 
```

# ruby - Ruby 扫描标签，除非被未转义的 \ 转义

> ID：15785184
> 
> 赞同：3
> 
> 时间：2013-04-03T10:43:10.090
> 
> 标签：ruby, regex, escaping

考虑字符串：

```
Hello <name>! I hear you like \<div> tags! Isn't that <adjective>? 
```

我希望能够扫描字符串以查找`<(.*?)>`, 变量插值；但我不想被逃脱的事件（`\<div>`如上）。

到目前为止，很容易：使用消极的后视我可以做到：

```
str.scan(/(?<!\\)<.*?>/)
# => ["<name>", "<adjective>"] 
```

但我也想允许转义`\`字符：

```
# str is: 
# Hello <name>! Do you like escaping \\<thing>? I like \\\<lots> of escapes.
str.scan(re)
# Should give ["<name>", "<thing>"] 
```

我不知道该怎么做。我曾想过使用负后视来防止奇数个`\`，但 Ruby 不支持任意长度的后视。`\`我还想过尝试在后向检查单个 之前消耗偶数`\`，如下所示：

```
/(?:\\\\)*(?<!\\)<.*?>/ 
```

但看起来后面的人仍然可以“看到”前一组消耗的字符。

我如何匹配某些东西，除非它前面有奇数个转义字符？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:48:41.313

正则表达式`(?<!\\)(?:\\\\)*`保证偶数个反斜杠。

细分：`(?:\\\\)`正好匹配 2 个反斜杠。`*`使其匹配 0、2、4 等。`(?<!\\)`确保我们匹配的偶数个反斜杠前面没有另一个反斜杠（这会使数字变为奇数）。

# java - 将 JPanel 动态添加到 JScrollPane

> ID：15785188
> 
> 赞同：3
> 
> 时间：2013-04-03T10:43:24.353
> 
> 标签：java, swing, jpanel, jscrollpane, layout-manager

我有一个如下所示的 GUI： ![图形用户界面](https://i.stack.imgur.com/K9fy4.png) 当我按下按钮 addComponent 时，将新的 JPanel 添加到 scrollPane(1)，添加了 JPanel 但滚动窗格不滚动，发生的情况是它添加了新的 JPanel 和jPanel 的大小正在减小。

因此我的问题是面板被插入到 JScrollPane 中并且这些面板的大小正在减小但没有滚动条。

这是我播种的代码：

```
 public class ContractForm extends JFrame {

    private JPanel contentPane;
    private JTextField txtContractID;
    private JScrollPane scrollPane; 
    private JButton btnAddComponent;
    private JButton btnOk;
    private JComboBox<Customer> comboBoxCustomer;
    private JButton btnCancel;
    private ArrayList<JPanel> rows;
    private JPanel panel;
    private Dimension size;

    /**
     * Create the frame.
     */
    public ContractForm() {
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setBounds(250, 250, 654, 476);
        contentPane = new JPanel();
        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));
        setContentPane(contentPane);
        contentPane.setLayout(null);

                rows = new ArrayList<JPanel>();

        JLabel lblContractid = new JLabel("ContractID");
        lblContractid.setBounds(50, 11, 78, 14);
        contentPane.add(lblContractid);

        txtContractID = new JTextField();
        txtContractID.setBounds(138, 8, 86, 20);
        contentPane.add(txtContractID);
        txtContractID.setColumns(10);

        JLabel lblNewLabel = new JLabel("Customer");
        lblNewLabel.setBounds(276, 11, 69, 14);
        contentPane.add(lblNewLabel);

        comboBoxCustomer = new JComboBox<Customer>();
        comboBoxCustomer.setBounds(355, 8, 235, 20);
        contentPane.add(comboBoxCustomer);

        JLabel lblYear = new JLabel("Year:");
        lblYear.setBounds(50, 37, 46, 14);
        contentPane.add(lblYear);

        JSpinner spinner = new JSpinner();
        spinner.setBounds(138, 31, 86, 20);
        contentPane.add(spinner);

        scrollPane = new JScrollPane(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED, JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);
        scrollPane.setBounds(0, 59, 628, 312);
        contentPane.add(scrollPane);

        panel = new JPanel();
        panel.setLayout(new BoxLayout(panel, BoxLayout.Y_AXIS));
        size = panel.getSize();
        scrollPane.setViewportView(panel);

        btnAddComponent = new JButton("addComponent");
        btnAddComponent.addActionListener(new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent arg0) {
                ArrayList<JobDescription> jobs = Database.getInstance().getJobDescription();
                JobDescriptionContractRow row = new JobDescriptionContractRow(jobs);
                rows.add(row);
                panel.add(row);
                scrollPane.repaint();
                scrollPane.revalidate();

            }
        });
        btnAddComponent.setBounds(355, 30, 114, 23);
        contentPane.add(btnAddComponent);

        btnOk = new JButton("Ok");
        btnOk.setBounds(185, 382, 89, 23);
        contentPane.add(btnOk);

        btnCancel = new JButton("Cancel");
        btnCancel.setBounds(298, 382, 89, 23);
        contentPane.add(btnCancel);

    }
}

public class JobDescriptionContractRow extends JPanel {
    private JTextField textField;
    private JButton btnRemove;

    /**
     * Create the panel.
     */
    public JobDescriptionContractRow(ArrayList<JobDescription> jobs) {
        setLayout(null);

        JLabel lblJobdescription = new JLabel("Job description");
        lblJobdescription.setBounds(10, 14, 94, 14);
        add(lblJobdescription);

        JComboBox<JobDescription> comboBox = new JComboBox<JobDescription>();
        comboBox.setBounds(102, 11, 149, 20);
        for(JobDescription job : jobs){
            comboBox.addItem(job);
        }
        comboBox.setSelectedItem(null);
        add(comboBox);

        textField = new JTextField();
        textField.setBounds(365, 11, 86, 20);
        add(textField);
        textField.setColumns(10);

        JLabel lblNewLabel = new JLabel("Contract price");
        lblNewLabel.setBounds(277, 14, 78, 14);
        add(lblNewLabel);

        JButton btnRemove = new JButton("remove");
        btnRemove.setBounds(469, 10, 89, 23);
        add(btnRemove);

    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T10:57:37.623

`JPanel`（您的`JScrollPane`视图组件）`FlowLayout`默认使用尊重组件的首选大小。您可以覆盖您添加的[getPreferredSize](http://docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.html#getPreferredSize%28%29)`JPanels`以正确调整它们的大小。如果不这样做，则`JScrollPane`计算所有尺寸以适合`ViewPortView`.

*旁注：*避免使用绝对定位（`null`布局）并使用[布局管理器](http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:52:10.303

您可以强制 JScrollPane 调整大小。

```
JViewport v = new JViewport();
v.setSetViewSize(new Dimention(width,height));
scroll.setViewport(v); 
```

# xcode - Xcode Renaming Class's and XIB ERRORS?

> ID：15785200
> 
> 赞同：0
> 
> 时间：2013-04-03T10:43:52.653
> 
> 标签：xcode, xib, semantics, naming

Ive been cleaning up my code abit and started renaming some .h and .m files which link to xib files. I did this to my main view controller and have no got about 20 Semantic Issues all linking to the xib i assume i have no clue what the correct procedure is to fix this issue. Thanks in advance for your help!!

Here is the screen shot : ![enter image description here](https://i.stack.imgur.com/yY0xW.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:54:59.050

编辑：

通过在屏幕截图中看到错误，执行这个**漫长而艰巨的任务**，在您当前的课程中添加以下内容。

```
#import "BTViewController.h" 
```

* * *

而不是手动进行，您应该重构为：

选择班级名称。 ![在此处输入图像描述](https://i.stack.imgur.com/Xb7b8.png)

从菜单中选择重构，然后按照步骤操作。

![在此处输入图像描述](https://i.stack.imgur.com/PicYv.png)

# kendo-ui - 是否有任何解决方案可以匹配剑道日期选择器值和网格日期列值

> ID：15785203
> 
> 赞同：2
> 
> 时间：2013-04-03T10:44:00.163
> 
> 标签：kendo-ui

我有一个需要选择日期和日期的要求，以便日期应该在网格中匹配并显示结果。但是带有日期的网格列包含日期+时间。所以我的问题是可以忽略时间并只读日期在往返日期选择器中并匹配网格中的值。

```
$("#datepicker").kendoDatePicker({
      dateFormat: "dd-mm-yy", 
format    : "dd-MM-yy "});

$("#datepicker1").kendoDatePicker({
  dateFormat: "dd-mm-yy", 
format    : "dd-MM-yy "});

 var result=$("#grid").kendoGrid({
    filterable: true,

  columns: [
    { field: "FirstName", title: "First Name" },
    { field: "LastName", title: "Last Name" },
       { field: "dob", title: "DOB" ,  format: "{0:dd-MM-yy HH:mm:ss}"}
  ],
  dataSource: {
    data: [
        { FirstName: "Joe", LastName: "Smith" ,dob:"2013-02-18 19:54:13"},
        { FirstName: "Jane", LastName: "Smith" ,dob:"2013-02-18 20:55:14" },
        { FirstName: "Jane", LastName: "Smith" ,dob:"2013-05-30 21:56:15" },
        { FirstName: "Jane", LastName: "Smith" ,dob:"2013-05-18 22:57:16" },
        { FirstName: "Jane", LastName: "Smith" ,dob:"2013-02-19 20:55:20" },
        { FirstName: "Jane", LastName: "Smith" ,dob:"2013-02-24 20:56:14" },
        { FirstName: "Jane", LastName: "Smith" ,dob:"2013-03-26 20:57:14" },
        { FirstName: "Jane", LastName: "Smith" ,dob:"2013-02-28 20:42:14" },
        { FirstName: "Jane", LastName: "Smith" ,dob:"2013-03-22 11:55:14" },
        { FirstName: "Jane", LastName: "Smith" ,dob:"2013-03-27 20:55:14" },
        { FirstName: "Jane", LastName: "Smith" ,dob:"2013-04-18 20:55:14" },
        { FirstName: "Jane", LastName: "Smith" ,dob:"2013-04-23 20:55:14" },
        { FirstName: "Jane", LastName: "Smith" ,dob:"2013-04-24 20:55:14" }
    ],
     schema: {

     data: function (data) {
            $.each(data, function (i, val) {
                val.dob = kendo.parseDate(val.dob, "yyyy-MM-dd HH:mm:ss");
            });
            return data;
        }
        }   

  }
}).data("kendoGrid");

$("#datepicker, #datepicker1").on("change", function (){
    var mindate = $('#datepicker').data("kendoDatePicker").value();
    var maxdate = $('#datepicker1').data("kendoDatePicker").value();
    var condition = {
        logic  : "and",
        filters: [
        ]
    };
  if (mindate !== null) {
    condition.filters.push({ field: "dob", operator: "ge", value: mindate });
  }
  if (maxdate !== null) {
    condition.filters.push({ field: "dob", operator: "le", value: maxdate });
  }
    result.dataSource.filter(condition);
}); 
```

[这是我用往返日期更新剑道网格过滤器](http://jsfiddle.net/5bchz/40/)的小提琴

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T12:15:39.127

定义一个包含日期但没有时间的附加列，并使用此列进行过滤。

这可以在您的`data`函数中完成：

```
data: function (data) {
    $.each(data, function (i, val) {
        val.dob2 = kendo.parseDate(val.dob, "yyyy-MM-dd");
        val.dob = kendo.parseDate(val.dob, "yyyy-MM-dd HH:mm:ss");
    });
    return data;
} 
```

和过滤部分：

```
$("#datepicker, #datepicker1").on("change", function (){
    var mindate = $('#datepicker').data("kendoDatePicker").value();
    var maxdate = $('#datepicker1').data("kendoDatePicker").value();
    var condition = {
        logic  : "and",
        filters: [
        ]
    };
    if (mindate !== null) {
        condition.filters.push({ field: "dob2", operator: "ge", value: mindate });
    }
    if (maxdate !== null) {
        condition.filters.push({ field: "dob2", operator: "le", value: maxdate });
    }
    result.dataSource.filter(condition);
}); 
```

第二个选项是将过滤条件定义为：

```
if (mindate !== null) {
    condition.filters.push({ field: "dob", operator: "ge", value: new Date(mindate) });
}
if (maxdate !== null) {
    condition.filters.push({ field: "dob", operator: "le", value: new Date(maxdate) });
} 
```

我们在其中添加一个`new Date(...)`用于*将*时间添加到日期的位置。

**注意：**这在您进行客户端过滤时是有效的。如果您正在执行服务器端过滤，则应轻松更改服务器中的查询以处理此问题。

# amazon-web-services - Install LAMP on EC2 instance

> ID：15785206
> 
> 赞同：0
> 
> 时间：2013-04-03T10:44:11.120
> 
> 标签：amazon-web-services, amazon-ec2, user-data

I am using java api for EC2 instance creation.

While creating EC2 instance i want to install MYSQL server on that instance.

So how can i install MySQL server on EC2 instance by passing user data ?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:19:16.387

编写用户数据脚本就像编写 bash 脚本一样简单。 [遵循示例和插图](http://craigcottingham.github.com/2011/03/21/ec2-and-cloudinit.html)

对新手来说还是不错的。（免责声明：我与网站/博客或文章作者绝对无关）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T20:09:05.720

您可能不想通过用户数据将 MySQL 作为启动脚本的一部分安装。事实上，如果您需要在实例重新启动之间实际将数据持久保存在 MySQL 中，您可能只想使用 EBS 支持的实例。在这种情况下，您必须将 MySQL 作为 AMI 的一部分，因此无需在启动时安装它。

# objective-c - 在资源中保存 URL

> ID：15785207
> 
> 赞同：0
> 
> 时间：2013-04-03T10:44:12.600
> 
> 标签：objective-c, xcode, cocoa

我在 NSTextField 中提供 URL，并通过点击操作按钮将其加载到 Web 视图中。

```
-(IBAction)showPage:(id)sender{
    [[webview mainFrame] loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:urlString.stringValue]]];
} 
```

每次在运行应用程序时，我都需要提供 URL。

有没有办法将此 URL 保存在某处，例如包内容（资源），每当我运行我的应用程序时，它应该自动获取先前给出的 url，并且文本字段应该作为空白提供新的。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T10:47:27.120

这听起来像是一个使用[NSUserDefaults](http://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSUserDefaults_Class/Reference/Reference.html)并在其中存储一些东西的好地方。

例如： `[[NSUserDefaults standardUserDefaults] setURL: yourURL forKey: @"someURLIWantToPresent"];`

`setURL: forKey`如果要保存原始 NSURL，可以使用“ ” API，如果要`setObject: forKey:`保存构成 URL 的实际字符串，可以使用“”。

要将其加载到您的文本字段中，就像在视图控制器的 " `viewDidLoad:`" 方法中执行此操作一样简单：

```
urlString.stringValue = [[NSUserDefaults standardUserDefaults] objectForKey: @"someURLIWantToPresent"]; 
```

在点击操作按钮后，通过以下方式保存 URL：

```
[[NSUserDefaults standardUserDefaults] setObject: urlString.stringValue forKey: @"someURLIWantToPresent"]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:48:49.390

当您当时浏览页面时，将数据保存在`NSUserDefaults`.

```
NSUserDefaults *defaults=[NSUserDefaults standardUserDefaults];
    [defaults setObject:textfield.text forKey:@"textfield value"];
    [defaults synchronize];
and re assign the textfield value in viewWillAppear method.

NSUserDefaults *defaults=[NSUserDefaults standardUserDefaults];
   textfield.text= [defaults  valueForKey:@"textfield value"]; 
```

或者

否则取一个全局字符串并将字符串值分配给`textFiled`反之亦然。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T10:49:23.677

尝试`NSUserDefaults`

将 URL 保存为默认值：

```
 [[NSUserDefaults standardUserDefaults] setURL:[NSURL URLWithString:@"YourURLHere"] forKey:@"MyURL"]; 
```

按下按钮时，您可以检索 URL（或者您可能希望将文本字段设置为 on `viewWillAppear:animated`）

```
 [[NSUserDefaults standardUserDefaults] objectForKey:@"MyURL"]; 
```

[NSUserDefaults 参考](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSUserDefaults_Class/Reference/Reference.html)

# php - 使用mysql的int长度大于11时插入错误的值

> ID：15785209
> 
> 赞同：0
> 
> 时间：2013-04-03T10:44:14.737
> 
> 标签：php, mysql

从[这个](https://stackoverflow.com/questions/8892341/what-does-int5-in-mysql-mean)问题继续，

我在 Mysql 中有一个名为 customer_report id[int(11)],customer_id[int(5)] 的表，同时将 customer_id 输入错误为 2147483647 的值插入到表中。

我的查询如下：

```
insert into customer_report (id,customer_id) 
values('','99999999999') 
```

这有什么问题？

请任何人帮助。

预先感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:45:10.563

请将 customer_id 结构更改为`bigint`或执行`int(11)`

# wordpress-theming - Pagination in WordPress Theme Development

> ID：15785210
> 
> 赞同：0
> 
> 时间：2013-04-03T10:44:19.153
> 
> 标签：wordpress-theming

I am building a WordPress theme and I can't add pagination on my 2 pages that I want. I want to display 4-5 in each page. Everybody says to just remove the already functions ( next & previous links ) that WP has and replace them with a simple code. I think that because my theme is from scratch, something is missing. Do I have to create WP_query for the pagination only or something? Here is the link for the website: [http://henrileworm.com.34spreview.com/](http://henrileworm.com.34spreview.com/) Any feedback would be great. Thanks.

# java - Developing a JTable that communicates with EJB

> ID：15785211
> 
> 赞同：0
> 
> 时间：2013-04-03T10:44:19.300
> 
> 标签：java, swing, jpa, jtable, ejb-3.0

every one.

I am developing a generic table component for a Swing based client application. This table component is supposed to act as user interface at client side and call remote EJB interface to perform CRUD actions.

The data model of the table is basically a List of jpa entitities. I have no problem in implementing query functions, but when there comes persist actions I am a little confused about the 'commit' strategy .

I am think of following approaches:

1.  Try to manage a edited/inserted/deleted row List in this table and send the List to remote EJB when user clicks "save" button. EJB will perform CUD actions in CMT. Managing the list seems challenging since user could do sequence-matters actions that causes CUD fails at server side. For example, at client side, a user can first insert a record with exactly same data of a already existed record and then delete the existed record. If the database table has unique constraints, save action will fail since INSERT will happen first. So I have to prevent cases like this before sending the List.

2.  Make the table component autocommit style. Every insert\update\delete action that end user does will call a remote method so that the data is persisted. I think this approach will be slow if the client is deployed at places with large network lantency. Also My Table component has to provide extra features, such as fix at row until the input data is valid , in case the table component is operating a database schema with constrains like not null/unique.

3.  Get UserTransaction and manage transaction at client side. I read something about this but I have not really figure out how to implement.

Which one is the right approach? Thank you for any advice.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:12:47.300

对于不定期更新，我倾向于使用 a 的选项 2 `CellEditorListener`，参见[此处](https://stackoverflow.com/a/11113648/230513)。[使用此处](https://stackoverflow.com/a/4637725/230513)`SwingWorker`显示的 处理任何预期的延迟。

# java - Part of Pop Up menu in Java Swing appears outside bounds of main Window

> ID：15785213
> 
> 赞同：1
> 
> 时间：2013-04-03T10:44:25.087
> 
> 标签：java, swing, jpopupmenu

I have successfully added a right click pop up menu to my swing application. However, when I click near the bounds of the Window it will overlap onto underlying applications. How do I get it so the pop up menu stays with the bounds of the Window

# python - Python: How do I print a string that contains multiple words on different lines?

> ID：15785215
> 
> 赞同：2
> 
> 时间：2013-04-03T10:44:29.133
> 
> 标签：python, string

So say I have

```
x = "this string" 
```

I'm trying to print the two words on different lines. I'm thinking that I need to use `string.split()` in some way but I'm not sure how.

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-03T10:45:12.250

你可以使用这个：

```
print '\n'.join(x.split()) 
```

在哪里

```
x = 'this string'
x.split() # ['this', 'string'] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-03T10:46:47.803

您不必*使用*`split()`. 这应该这样做。

```
print x.replace(' ', '\n') 
```

[键盘](http://codepad.org/ntP20Fe8)。

它用换行符替换空格字符。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-03T10:49:16.827

```
x="this string"
for a in x.split():
    print a 
```

# iphone - 测试 IBOutlets 自动连接或在未连接的出口上构建失败

> ID：15785217
> 
> 赞同：2
> 
> 时间：2013-04-03T10:44:31.683
> 
> 标签：iphone, ios, unit-testing, tdd, iboutlet

`IBOutlets`有没有人想出一种方法来自动对定义为`UIViewController`子类的所有属性进行单元测试，在加载视图后（通过调用`loadView`）连接？

我的理解是，这`IBOutlet`是预先处理的，所以你失去了`IBOutlets`在运行时计算出哪些属性的能力。

`IBOutlets`或者，如果您定义了哪些未连接，是否还有另一种方法可以强制构建失败？可能是 LLVM 编译器警告选项？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T11:45:40.487

你可以使用一个断言，它可以让你快速失败（引起你的注意）。

```
- (void)viewDidLoad
{
  [super viewDidLoad];

  NSAssert(self.myLabel, @"IBOutlet not set for self.myLabel");
} 
```

您可能可以将其包装在一个宏中以节省一些输入 - 可能是这样的

```
#define PASOutletAssert(outlet) NSAssert(outlet, @"IBOutlet not set for " @#outlet)

- (void)viewDidLoad
{
  [super viewDidLoad];

  PASOutletAssert(self.myLabel);
  PASOutletAssert(self.myOtherLabel);
} 
```

节省一些打字的另一种变体可能如下所示 -

```
#define PASOutletsAssert(self, ...) _PASOutletsAssert(self, @"" # __VA_ARGS__)

void _PASOutletsAssert(id self, NSString *commaSeperatedKeyPaths)
{
  NSArray *keyPaths = [commaSeperatedKeyPaths componentsSeparatedByString:@", "];

  for (NSString *keyPath in keyPaths) {
    NSCAssert1([self valueForKeyPath:keyPath], @"IBOutlet not set for keypath - \"%@\"", keyPath);
  }
}

- (void)viewDidLoad
{
  [super viewDidLoad];

  PASOutletsAssert(self, myLabel, otherLabel, yellowSquare);
} 
```

# android - 类似 Galaxy Tab2 的圆形 ViewPager 指示器

> ID：15785232
> 
> 赞同：1
> 
> 时间：2013-04-03T10:45:07.890
> 
> 标签：android, android-fragments, android-viewpager

嗨，我想制作一个 `ViewPager`非常相似的圆形指示器`Samsung Galaxy Tab2`，我有 5 个`Frgments`，`Viewpager` 您可以像这样 **1->2->3->4->5->1 以此类推。**有没有人知道如何实现这一目标。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T16:57:18.360

是的，我通过使用基于浏览器页面动态设置指示器图像而不使用任何外部库来解决我的问题..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-07-28T09:15:20.383

您可以使用新的 TabLayout 轻松实现它。有关完整描述，请查看[此示例示例](https://medium.com/dailyrounds-engineering/simple-on-boarding-screen-in-andorid-d31f8a472f1e#.bwhzcbt6u)

# php - Fancybox 中长时间运行的 PHP

> ID：15785233
> 
> 赞同：0
> 
> 时间：2013-04-03T10:45:10.407
> 
> 标签：php, iframe, fancybox

我有一个在 iframe Fancybox 窗口（Fancybox 2）中运行的 php 脚本 PHP 脚本在运行时使用刷新来输出数据以指示正在发生的事情。脚本运行了大约 1.5 分钟。

在独立窗口中运行时效果很好。但是在 Iframe Fancybox 中，在脚本完全加载之前没有输出，仅显示加载旋转轮 1.5 分钟。然后所有的信息都出来了。

我能以某种方式让花式框窗口显示“实时”信息吗？

肿瘤坏死因子

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T17:23:15.900

在花式框选项中：

```
iframe: {preload: false} 
```

# ruby-on-rails - capybara可以和工厂女孩和authologic一起使用吗

> ID：15785237
> 
> 赞同：0
> 
> 时间：2013-04-03T10:45:18.437
> 
> 标签：ruby-on-rails, capybara, factory-bot, authlogic

我在我的rails应用程序中使用authologic，当我通过工厂女孩创建用户并尝试通过日志表单登录时，我无法登录（问题登录无效）。

有人有什么建议吗？

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T15:48:34.310

> capybara可以和工厂女孩和authologic一起使用吗

是的。工厂女孩或真实逻辑与水豚没有任何冲突

> 我在我的rails应用程序中使用authologic，当我通过工厂女孩创建用户并尝试通过日志表单登录时，我无法登录（问题登录无效）。有人有什么建议吗？

以这种方式测试登录是一个非常典型的用例。很难确定问题是什么（有很多问题可能会出错），但由于您是水豚的新手，而且您使用的是工厂女孩，我猜这是一个环境问题。

*   如果您使用的是 selenium/webkit/poltergeist，那么您的测试代码将在与应用程序本身不同的进程中运行。因此，如果您在之前的步骤中通过 factory-girl 创建用户，则在您尝试登录该用户时（从应用程序的角度来看）它不会存在。这是因为事务是隔离的。解决方案是禁用事务并使用数据库清理器重置测试环境。

*   除了我的最佳建议之外，我还可以在`debugger`失败的行上方添加。然后您可以通过控制台查看数据库中的内容，看看发生了什么。

# asp.net-mvc - 使用 Ext.Panel 加载器加载 ASP-MVC 视图

> ID：15785240
> 
> 赞同：1
> 
> 时间：2013-04-03T10:45:26.577
> 
> 标签：asp.net-mvc, asynchronous, ext.net

我有以下布局，与我在[这个问题中描述的有关](https://stackoverflow.com/questions/15769010/can-extwindow-be-constrained-in-framelike-master-markup)

```
<ext:Viewport runat="server">
  <Items>
    <ext:Panel Region="North" runat="server" ID="TopBar" />
    <ext:Panel Region="West" runat="server" ID="Nav" >
       <Items>
          <ext:Button runat="server" ID="loaderComponentFooBar">
             <DirectEvents>
                <Click OnEvent="loadFooBar" />
             </DirectEvents>
          </ext:Button>
          //Some more Buttons each with his own loader Function in Code-Behind
       </Items>
    </ext:Panel>
    <ext:Panel runat="server" Region="center" ID="MainPanel" />
  </Items>
</ext:Viewport> 
```

在 Button-Click 上，我现在想将我的 View @"/Foo/Bar/" 加载到`MainPanel`

我如何在 CodeBehind 中实现这一点？

我已经尝试过：

```
public void loadFooBar(object sender, DirectEventArgs e)
{
   MainPanel.Loader.Url = "/Foo/Bar/"; //Throws null reference Exception

   MainPanel.Loader.Url = "~/Foo/Bar/"; // same as above

   MainPanel.Loader.GetUrlByRoute("Foo/Bar/"); //again the same

   MainPanel.Loader.LoadContent("/Foo/Bar/");

   //and after each of these attempts except the last went:
   MainPanel.Loader.Mode = LoadMode.Frame;
   MainPanel.Loader.LoadMask.ShowMask = false;
   MainPanel.Loader.LoadContent();
} 
```

顺便说一句，我正在使用 aspx-web-application 视图

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T06:04:15.550

我认为您不应该为 DirectEvents 的处理程序使用页面代码。它正在脱离 MVC 概念。您应该参考控制器的操作。

这是一个例子。

**示例视图**

```
<%@ Page Language="C#" Inherits="System.Web.Mvc.ViewPage" %>

<%@ Register Assembly="Ext.Net" Namespace="Ext.Net" TagPrefix="ext" %>

<!DOCTYPE html>

<html>
<head runat="server">
    <title>Ext.Net.MVC v2 Example</title>
</head>
<body>
    <ext:ResourceManager runat="server" />

    <ext:Viewport runat="server" Layout="BorderLayout">
        <Items>
            <ext:Panel runat="server" Region="West" Width="100">
                <Items>
                    <ext:Button 
                        runat="server" 
                        Text="Load View 1" 
                        DirectClickUrl=<%# Url.Action("LoadView1") %>
                        AutoDataBind="true" />

                    <ext:Button 
                        runat="server" 
                        Text="Load View 2" 
                        DirectClickUrl=<%#Url.Action("LoadView2") %>
                        AutoDataBind="true" />
                </Items>
            </ext:Panel>

            <ext:Panel ID="MainPanel" runat="server" Region="Center">
                <Loader runat="server" Mode="Frame" AutoLoad="false">
                    <LoadMask ShowMask="true" />
                </Loader>
            </ext:Panel>
        </Items>
    </ext:Viewport>
</body>
</html> 
```

**示例控制器**

```
using System.Web.Mvc;
using Ext.Net;
using Ext.Net.MVC;

namespace Work2MVC.Controllers
{
    public class AspxController : Controller
    {
        public ActionResult Index()
        {
            return View();
        }

        public ActionResult View1()
        {
            return View();
        }

        public ActionResult View2()
        {
            return View();
        }

        public ActionResult LoadView1()
        {
            Panel p = X.GetCmp<Panel>("MainPanel");
            p.LoadContent(Url.Action("View1"));

            return this.Direct();
        }

        public ActionResult LoadView2()
        {
            Panel p = X.GetCmp<Panel>("MainPanel");
            p.LoadContent(Url.Action("View2"));

            return this.Direct();
        }
    }
} 
```

您也可以通过 JavaScript 在客户端发起加载请求。然后，您避免了额外的请求。

# uiview - 不在 View Hierarchy 中的 UIView 的渲染层

> ID：15785242
> 
> 赞同：1
> 
> 时间：2013-04-03T10:45:32.530
> 
> 标签：uiview, core-graphics, calayer

我想要实现的是拍摄`UIView`尚未添加为子视图的图像，呈现并处理图像，然后将视图添加到视图层次结构中。

我已经搜索并尝试了一段时间，并相信这根本不可能。

* * *

显然问题是，`drawRect:`如果没有将视图添加为子视图，则该视图还没有被绘制（称为我猜）。其实我以为`renderInContext:`会`drawRect/layer`自己打电话。

在将其绘制到 imageContext 之前将其添加为子视图甚至是不够的，因为它不会立即呈现。

我使用`renderInContext:`视图层截取屏幕截图，请在此处查看我的代码：

```
[self.view addSubView:view];
UIGraphicsBeginImageContextWithOptions(view.frame.size, YES, 0);
CGContextRef context = UIGraphicsGetCurrentContext();

CGContextTranslateCTM(context, -frame.origin.x, -frame.origin.y);

[view.layer renderInContext:context];

UIImage *renderedImage = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext(); 
```

所以我的问题是，有没有人设法渲染一个**不可见** `UIView`的，如果如何？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T08:20:23.723

嗯，这是尴尬。
在与一位非常友善的苹果开发支持人员进行邮件交谈后，我们查看了我的代码，我们注意到我只是将`hidden`属性设置为`YES`. - 不要那样做。

因此，直接对不在视图层次结构中的视图进行屏幕截图。
为什么它不起作用完全是我的错。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:11:58.263

尝试将 UIView 添加到层次结构但保持隐藏。

```
- (void)takeScreenSnapshot {

     UIView *capturedView = self.view;    
     UIView *hiddenView = self.hiddeniew;  //  hidden view which is 
                                           //  a part of capturedView   
     hiddenView.hidden = NO;

     BOOL retina = [self isRetinaDisplay];
     UIImage *image = [capturedView captureImageWithScale:(retina) ? 2.f : 1.f];

     hiddenView.hidden = YES;
} 
```

# c# - 在客户端显示服务器日期和服务器时间

> ID：15785243
> 
> 赞同：1
> 
> 时间：2013-04-03T10:45:34.017
> 
> 标签：c#, javascript, asp.net-mvc, date, timezone

我有一个 C# 时间应用程序，用户可以在其中创建一个计时器并启动它，它会在服务器上执行类似的操作：

（日期存储在 CEST 中（问题是夏季和冬季时间））

```
// insert into db
var entry = new TimeEntry();
entry.Start = DateTime.Now; (04/03/2013 12:00)

_timeEntries.Add(entry);    // => now it's in the db 
```

如果他停止它，那么它会执行以下操作：

```
// update the entry
var entry = _timeEntries.Get(1)    // 1 is the id from the created entry before
entry.End = DateTime.Now; (04/03/2013 12:37)

_timeEntrires.Update(entry);    // => now it updates it in the db 
```

将在浏览器中为用户显示类似的内容：

定时器 ID：1

开始时间：2013 年 4 月 3 日 12:00

停止：04/03/2013 12:25

总计（分钟）：25

现在我认为当用户更改他的时区时会出现一些问题。解决这个问题的最佳方法是什么？将日期存储为 UTC，然后使用 JavaScript 进行转换？

感谢您的帮助:-)。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:10:16.323

From :[确定用户的时区](https://stackoverflow.com/questions/13/determining-a-web-users-time-zone)

您必须将偏移量从客户端传递到服务器，如下所示：

```
new Date().getTimezoneOffset()/60; 
```

> getTimezoneOffset() 将从 GMT 中减去您的时间并返回分钟数。因此，如果您居住在 GMT-8 中，它将返回 480。将其转换为小时，除以 60。另外，请注意符号与您需要的相反——它计算的是 GMT 与您的时区的偏移量，而不是您的时区时区与 GMT 的偏移量。要解决此问题，只需乘以 -1。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T00:31:23.247

由于这些是事件时间，因此您应该严格使用 UTC，并从服务器获取该值。

*当客户端应用程序使用您用于启动*和*停止*输入命令的任何内容调用您时，请使用它`DateTime.UtcNow()`来获取时间并将其保存在数据库中。

您真的根本不想使用本地时间来记录这些时间。否则，如果开始或结束位于不明确的时期内（例如 DST/SummerTime “回退”转换），您将无法知道事件是在转换之前还是之后发生的。

上下文对于 DateTime 问题总是很重要，并且在“事件时间”的上下文中 - 您唯一可靠的选项是 UTC DateTime 或[DateTimeOffset](https://stackoverflow.com/a/14268167/634824)。本地日历时间（客户端或服务器）不适用于特定事件时间。不过，它们在其他情况下也很有用。

当您实际向用户显示数据时，如果您只是显示开始和结束之间的持续时间，那么您可以简单地根据您记录的 UTC 时间计算它。如果您想将特定时间显示给用户，那么您可以将 UTC 时间转换为用户想要显示的任何时区。如果您选择 DateTimeOffset，优点是您不必转换在这个阶段。

# android - android中表格布局中ROWSPAN的等价标签是什么

> ID：15785244
> 
> 赞同：1
> 
> 时间：2013-04-03T10:45:35.357
> 
> 标签：android, html, tablelayout

android中表格布局中ROWSPAN的等效标签是什么

对于 COLSPAN = layout_span 工作正常

* * *

## 回答 #1

> 赞同：-5
> 
> 时间：2013-06-15T14:50:52.750

转到布局 xml 并添加到适当的元素属性 adnroid:layout_span="number_of_columns_to_span"

# wpf - 带有实体框架的 WPF MVVM 主从集合

> ID：15785246
> 
> 赞同：0
> 
> 时间：2013-04-03T10:45:50.627
> 
> 标签：wpf, mvvm, entity-framework-4, master-detail

我在 WPF 中有 2 个组合框，它们都绑定到 ViewModel 下的 ObservableCollections：

```
<ComboBox ItemsSource="{Binding Companies}" SelectedItem="{Binding Path=SelectedCompany,Mode=TwoWay}" />
<ComboBox ItemsSource="{Binding Employees}" SelectedItem="{Binding Path=SelectedEmployee,Mode=TwoWay}" /> 
```

在 ViewModel 我有：

```
Public Property Companies As ObservableCollection(Of Company)
Public Property Employees As ObservableCollection(Of Employee)
Public Property SelectedCompany As Company
Public Property SelectedEmployee As Employee 
```

在初始化 ViewModel 时，我询问存储库中的所有公司（它本身使用 Linq-to-Entities 查询），它将公司返回为 IEnumerable (Of Company)：

```
Public Sub New()    
    Companies = New ObservableCollection(Of Company)(_CompanyRepo.GetAll())
End Sub 
```

到目前为止，一切正常。但现在我需要将数据获取到Employees 集合（有一个存储库，它也返回IEnumerable），并且随时只需要所选公司的Employees 数据。

如何在 ViewModel 中执行此操作？员工 Combobox 应在 Company Combobox 中更改 SelectedItem 时自行更新。

Company 和 Employee 在实体框架中具有一对多的关系。我能以某种方式利用这个事实吗？我可以通过缓存数据来避免以某种方式重复 Linq-to-Entity 查询吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T17:33:57.433

您可以绑定到实体框架的导航属性。为公司组合框使用可观察的集合，并将员工组合框绑定到导航属性。

所以在 ViewModel 中你只需要：

```
Public Property Companies As ObservableCollection(Of Company)
Public Property SelectedCompany As Company
Public Property SelectedEmployee As Employee 
```

假设您的实体框架在名为 company_employee 的公司实体上有一个导航属性。您可以直接绑定到您的视图中，例如：

```
<ComboBox ItemsSource="{Binding SelectedCompany.company_employee}" SelectedItem="{Binding Path=SelectedEmployee,Mode=TwoWay}" /> 
```

WPF 和实体框架将为您获取所需的数据。并且只有拥有匹配公司的员工。

我所做的是使用一个用户控件作为我的视图，并有一个网格/用户控件/内容控件，它将绑定（设置其数据上下文）到我的视图中的 SelectedCompany。

IE

```
<ContentControl Name="DetailControl" DataContext="{Binding Path=SelectedCompany, Mode=TwoWay}" > 
```

然后在该内容控件中，如果您仍希望拥有 selectedemployee 绑定，则组合框或数据网格或列表视图的绑定如下：

```
<ComboBox ItemsSource="{Binding company_employee}" SelectedValue="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type UserControl}},Path=DataContext.SelectedEmployee}" /> 
```

但是，如果您不需要 selectedEMployee，您可以绑定到 company 表中的 EMployeeID，如下所示：

```
<ComboBox ItemsSource="{Binding company_employee}" SelectedValue="{Binding EmplyeeID, Mode=TwoWay" /> 
```

您只需直接绑定到导航属性并使用员工外键。

我刚刚输入了这些，因此您可能需要仔细检查所有名称等。希望这些选项有所帮助

**编辑1：**

包括示例（在 vb.net 中）

```
 Dim MyQuery As IQueryable(Of Company) = CType((From MyResults In Context.Company.Include("Employee") Select MyResults), IQueryable(Of Company)) 
```

请参阅：[包含方法 MSDN 文档](http://msdn.microsoft.com/en-us/library/gg696450%28v=vs.103%29.aspx)

# android - 如何在 Android 中为不同的布局加载不同的可绘制资源？

> ID：15785250
> 
> 赞同：1
> 
> 时间：2013-04-03T10:46:06.613
> 
> 标签：android, android-layout

在我的应用程序中，我有两个替代布局文件和两个替代可绘制资源图像。我的 res 目录结构如下：

```
res/drawable-hdpi/image.png  
res/drawable-mdpi/image.png

res/layout-large/main.xml
res/layout/main.xml 
```

在清单文件中

```
<supports-screens 
        android:resizeable="true"
        android:smallScreens="true" 
        android:largeScreens="true"
        android:anyDensity="false"/> 
```

我的应用程序加载了两个布局文件`res/layout-large/main.xml` ，`res/layout/main.xml`但是，两个布局都从加载图像`res/drawable-mdpi/image.png`并且不加载`res/drawable-hdpi/image.png`。请在这方面帮助我，我会非常感谢你的善举。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:54:59.550

我认为您正在寻找的是使用[配置限定符。](http://developer.android.com/guide/practices/screens_support.html#qualifiers)

看来您真的误解了这些文件夹的作用。您的 android 将根据您运行它的设备的**屏幕尺寸**或**像素密度来选择文件夹**

如果您的设备具有中等像素密度和大屏幕。因此，它从具有给定限定符的 res 文件夹中选择其资源。

res/layout-large/my_layout.xml

和图片来自

```
res/drawable-mdpi/my_icon.png 
```

您不能告诉您的设备从 hdpi 文件夹中获取图像，因为它没有高像素密度。

因此，您可以创建一个名为

```
res/drawable-large-mdpi/ 
```

专门为您的设备。

或者只是确保正确的图像位于正确的文件夹中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:48:45.377

您可以创建 drawable-large-mdpi 文件夹以使用位于 layout-large 文件夹下的布局的可绘制对象。

# sql - Sql 列到行连接表

> ID：15785252
> 
> 赞同：-1
> 
> 时间：2013-04-03T10:46:08.920
> 
> 标签：sql, unpivot

我有两张这样的桌子。

```
---------------------------------------------------
| AltID        | Alan 1| Alan 2 | Alan 3 | UserId |
---------------------------------------------------
| 1            | Opel  | null   | Engine | 5121   |
| 2            | Home  | Garden | null   | 5653   |
| 3            | null  | null   | null   | 2133   |
---------------------------------------------------

-------------------------------------
| UserId        | Kolon  | NewValue |
-------------------------------------
| 2133          | Alan 1 | null     | 
| 2133          | Alan 2 | null     |
| 2133          | Alan 3 | null     |
| 5121          | Alan 1 | Brand    | 
| 5121          | Alan 2 | Model    |
| 5121          | Alan 3 | Part     |
| 5653          | Alan 1 | Place    | 
| 5653          | Alan 2 | Point    |
| 5653          | Alan 3 | Take     |
------------------------------------- 
```

我试图得到这样的结果

```
-----------------------------------------------------
| UserId        | Kolon  | NewValue | AltID | Deger |
-----------------------------------------------------
| 2133          | Alan 1 | null     |   3   | null  |
| 2133          | Alan 2 | null     |   3   | null  |
| 2133          | Alan 3 | null     |   3   | null  |
| 5121          | Alan 1 | Brand    |   1   | Opel  |
| 5121          | Alan 2 | Model    |   1   | null  |
| 5121          | Alan 3 | Part     |   1   | Engine|
| 5653          | Alan 1 | Place    |   2   | Home  |
| 5653          | Alan 2 | Point    |   2   | Garden|
| 5653          | Alan 3 | Take     |   2   | null  |
----------------------------------------------------- 
```

我只是尝试做 unpivot 但无法将其他表加入到下一个表中。请帮助我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:57:06.340

```
select a.UserId, a.Kolon, a.NewValue, b.AltID,
       case a.Kolon when 'Alan 1' then [Alan 1]
                    when 'Alan 2' then [Alan 2]
                    when 'Alan 3' then [Alan 3] end Deger
  from Tbl2 a
  join Tbl1 b on a.UserId = b.UserId; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T11:01:33.747

如果您使用的是 SQL Server 2008+，那么您可以*使用* `Table1`with`CROSS APPLY`子句取消透视，`VALUES`然后加入`Table2`：

```
select t1.userid,
  t2.Kolon,
  t2.newvalue,
  t1.altid,
  t1.Deger
from
(
  select AltId, col, Deger, UserId
  from table1 t1
  cross apply
  (
    values ('Alan 1', [Alan 1]),
           ('Alan 2', [Alan 2]),
           ('Alan 3', [Alan 3])
  ) c (col, Deger)
) t1
inner join table2 t2
  on t1.userid = t2.userid
  and t1.col = t2.Kolon
order by t1.userid; 
```

请参阅[带有演示的 SQL Fiddle](http://www.sqlfiddle.com/#!3/c1372/13)

# git - 覆盖 Git 中的本地更改

> ID：15785263
> 
> 赞同：1
> 
> 时间：2013-04-03T10:46:41.927
> 
> 标签：git

我是 Git 的新手，这似乎有点挑战性。我已经在我的存储库的本地目录中进行了更改。这些更改是一个文件的删除和几个文件的修改。在此更改发生之前，我怎样才能回到初始状态？（这是克隆存储库时的状态）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:49:54.663

您可以简单地使用...

```
git checkout . 
```

...这将丢弃所有*肮脏*的变化。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-03T15:08:25.373

您可以通过执行此操作清除所有本地更改。

```
git reset --hard 
```

[https://www.kernel.org/pub/software/scm/git/docs/git-reset.html](https://www.kernel.org/pub/software/scm/git/docs/git-reset.html)

请注意，它区分大小写。

# php - 如何将一个值插入不同的行

> ID：15785264
> 
> 赞同：0
> 
> 时间：2013-04-03T10:46:42.023
> 
> 标签：php, mysql, insert

我希望代码将相同的值插入到列表中检查的不同行（从数据库中查询列表。）但它说
“注意：第 5 行 \enrol.php 中的数组到字符串转换”，

这是我的section.php

```
 <table border=1px>
    <th>SELECT</th>
    <th>ID NUMBER</th>
    <th>NAME</th>
    <th>COURSE</th>
    <th>YEAR</th>

    <?php session_start();
    include('connect.php');
    $group=$_REQUEST['idEdit'];
    echo $group;

    $sql="SELECT * FROM login WHERE section IS NULL or section = 0";
    $result=mysql_query($sql) or die(mysql_error() );

        while($arr=mysql_fetch_array($result))
        {
            echo '<tr><td><form action="enrol.php" method="post"><input type="checkbox" name="idnumber[]" value="'.$arr['idnumber'].'"></td>'.
                 '<td>'.$arr['idnumber'].",&nbsp</td>".
                 '<td>'.$arr['lastname'].",".$arr['firstname']."&nbsp</td>".
                 '<td>'.$arr['course']."&nbsp</td>".
                 '<td>'.$arr['year']."&nbsp</td></tr>";}

         $idnumber=$arr['idnumber'];
         ?> 

        <input type="hidden" value="<?php $group ?>" name="group">
        <input type="submit" value="Enrol Student" name="submit">
        </form>
    </table> 
```

这是我的 enrol.php

```
 <?php 
    if(isset($_REQUEST['submit'])){

    $ids = join (', ', $_POST['idnumber']);
    $sql="INSERT INTO login (section) values ('$_POST[group]') WHERE idnumber='$ids'";
    mysql_query($sql);

    $count=mysql_affected_rows();

    if($count==1){
                  echo '<script type="text/javascript">alert("Added Sucessfully")</script>';

    }else{
                echo '<script type="text/javascript">alert("Error!")</script>';

                }
     }
    ?> 
```

我怎么解决这个问题？我一直在尝试寻找解决方案，但似乎找不到任何解决方案。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:55:02.190

我认为，您将隐藏字段组的值设为空。首先，您在隐藏字段中回显组值。

```
<input type="hidden" value="<?php echo $group; ?>" name="group"> 
```

我希望你的问题会得到解决。你明白我的意思了吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:49:59.897

使用 implode 代替 join

```
$ids = implode(', ', $_POST['idnumber']); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T10:52:01.560

使用[内爆](http://php.net/manual/en/function.implode.php)

```
 <?php 
        if(isset($_REQUEST['submit'])){

        $ids = implode(', ', $_POST['idnumber']);
        $sql="INSERT INTO login (section) values ('$_POST[group]') WHERE idnumber='$ids'";
        mysql_query($sql);

        $count=mysql_affected_rows();

        if($count==1){
                      echo '<script type="text/javascript">alert("Added Sucessfully")</script>';

        }else{
                    echo '<script type="text/javascript">alert("Error!")</script>';

                    }
         }
        ?> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T10:52:06.750

获取帖子值时存在一些报价问题。尝试一下。

```
$sql="INSERT INTO login (section) values ('".$_POST["group"]."') WHERE idnumber='".$ids."'"; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-03T11:34:55.620

感谢@thumber nirmal 和所有回答这个问题的人，我得到了答案。这是 enrol.php 的工作代码

```
 <?php include('connect.php');
    if(isset($_REQUEST['submit'])){

    $ids = implode(', ', $_POST['idnumber']);
    $sql="update login set section='".$_POST['group']."' WHERE idnumber IN ($ids)"; 
    echo $sql; 
    $query = mysql_query($sql) or die(mysql_error());
    mysql_query($sql);

    $count=mysql_affected_rows();

    if($count==1){
                  echo '<script type="text/javascript">alert("Added Sucessfully")</script>';

    }else{
                echo '<script type="text/javascript">alert("Error!")</script>';

                }
     }
    ?> 
```

# xaml - DataTemplate 不显示绑定子项的结果

> ID：15785272
> 
> 赞同：0
> 
> 时间：2013-04-03T10:47:15.683
> 
> 标签：xaml, binding

在我的 MainWindow.xaml 页面上，我有以下有效的代码（其中 MyWord 是一个字符串）

```
<ContentControl Content="{Binding MyWord}" /> 
```

我正在玩 DataTemplates 并尝试理解它们。所以，我想`DataTemplate`从我的`ContentControl`. `DataTemplate`应该包含`TextBlock`绑定到我的字符串的a 。我更新了我的代码

```
<ContentControl ContentTemplate="{StaticResource ViewsTemplate}" /> 
```

在我的 ResourceDictionary 我添加

```
<DataTemplate x:Key="ViewsTemplate">  
    <TextBlock Text="{Binding MyWord}" />  
</DataTemplate> 
```

这根本不会在屏幕上产生任何文本。我什至试过

```
<ContentControl Content="{Binding MyWord}" ContentTemplate="{StaticResource ViewsTemplate}" /> 
```

屏幕上仍然没有结果。

我不明白为什么有人可以给一些建议。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:53:39.857

`ContentControl`仍然需要绑定一些内容。

```
<ContentControl ContentTemplate="{StaticResource ViewsTemplate}" Content="{Binding MyWord}" /> 
```

可以，但是您需要更改数据模板，因为它希望能够找到`MyWord`它当然无法找到的模板，因此您只想使用它`{Binding}`。

或者，将`ContentControl`'s绑定`Content`到`{Binding}`-`DataContext`其父级的当前 - 并保持模板不变。

# click - Qt 总是双击平板电脑

> ID：15785275
> 
> 赞同：1
> 
> 时间：2013-04-03T10:47:16.993
> 
> 标签：click, touch, tablet, qt5

我的平板电脑（Dell windows 8）运行 Qt GUI 时遇到问题。在我的电脑上，程序运行良好，一切都按我的预期工作。但是当我在平板电脑上运行应用程序时，Qt 似乎将正常的触摸“klick”解释为双击。按钮只需单击两次，几乎没有延迟。此外，我收到很多“对象无法访问的接口......”消息，但事实证明这是 Qt 中的一个错误，但尚未解决。在触摸设备上使用 Qt 时有没有类似的问题？

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-01T07:51:49.513

我想我可能已经找到了解决方案。它与平板电脑恕我直言无关。

当我用动态分配的成员替换所有静态 QT 成员（eG 按钮和其他可点击小部件）时，问题自行解决了。

我有：

```
QPushButton m_oMainButton; 
```

现在：

```
QPushButton * m_poMainButton 
```

这解决了问题。我认为这与给予 Layouts 和其他 QT 经理对我的按钮的所有权有关。我从来没有真正发现为什么会发生这种情况，但它解决了它。

# java - 使用 Lombok 的 @Cleanup 时如何捕获异常？

> ID：15785282
> 
> 赞同：2
> 
> 时间：2013-04-03T10:47:36.960
> 
> 标签：java, resources, lombok

我正在使用[Lombok 的 @Cleanup](http://projectlombok.org/features/Cleanup.html)，即使我发现它非常有用，我也无法弄清楚如何捕获使用要清理的资源的主要代码块引发的异常。

我的代码如下：

```
ScriptRunner runner = null;
try {
    runner = scriptRunner();

    for (Resource sqlFile : sqlScripts) {
        runScript(sqlFile.getFile(), runner);
    }
} catch (Exception ex) {
    log.error("Error found when attempting to run script", ex);
} finally {
    if (runner != null) {
        runner.closeConnection();
    }
} 
```

使用 Lombok，我可以这样简化上面的代码：

```
@Cleanup("closeConnection") ScriptRunner runner = scriptRunner();

for (Resource sqlFile : sqlScripts) {
    runScript(sqlFile.getFile(), runner);
} 
```

但是我会错过捕获 for 循环执行时可能出现的任何异常的可能性。有没有办法用 Lombok 优雅地做到这一点？（即除了以编程方式使用“try /catch？”

首先十分感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T13:28:12.680

不，如果你想处理异常，你需要捕获它，为此你需要一个 try-catch 块。

完全披露：我是[Lombok 项目](http://projectlombok.org)的开发人员之一。

# c# - 使用 C# 动态更改多个复选框 ID

> ID：15785287
> 
> 赞同：0
> 
> 时间：2013-04-03T10:47:52.980
> 
> 标签：c#, asp.net, webforms, dynamic-controls

什么是我更改复选框 ID 的最佳方法，就像使用循环一样，我遇到的问题是当前控件 ID **CheckBox1.ID**，我似乎无法将**1**更改为用作多变的

```
CheckBox1.ID = "chckbx_1";
CheckBox2.ID = "chckbx_2";
CheckBox3.ID = "chckbx_3";
CheckBox4.ID = "chckbx_4";
CheckBox5.ID = "chckbx_5";
CheckBox6.ID = "chckbx_6"; 
```

有什么方法可以实现这个逻辑吗？请注意，我使用的是网络表单

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:54:41.127

尝试这样的事情：

```
for (int i = 1; i < some_number; i++) 
{    
    Control myControl = FindControl("CheckBox" + i.ToString());

    if(myControl != null && myControl.GetType() == typeof(CheckBox)) 
    {
        ((CheckBox)myControl).ID = "chckbx_" + i.ToString();
        ((CheckBox)myControl).CssClass = "newClass";
    }
} 
```

# python - 创建 Protovis Sunburst 图表：以 json 格式创建数据集的 Python 脚本（或）父 - 子 json

> ID：15785290
> 
> 赞同：1
> 
> 时间：2013-04-03T10:48:00.577
> 
> 标签：python, json, protovis, sunburst-diagram

帮助！！！作为一名生物学家，我只对可视化和显示我的数据感兴趣，而且我对编程非常陌生。在这里，我在一个 excel 文件中有一组数据，看起来像这样 -

我想在 Protovis 中使用[Sunburst](http://mbostock.github.com/protovis/ex/sunburst.html)图表显示我的数据集非常完美。

但我一直坚持准备数据，这些数据必须是 json 格式。如果您注意到数据的结构是分层的（父 - 子层次结构）。在编程方面不太好（只知道一点 Python）很难继续前进。

**我需要一个可以读取我的excel文件并生成上面指定的json的python脚本。**

我的 excel 数据文件有名为 L1、L2、L3、L4、L5、GENE_NAMES 的列，其中包含数据并且存在父子关系。L1 是 L2 的父级，L2 是 L3 的父级，依此类推...

*   L1（父母）- L2（儿童）
*   L2（父母）- L3（儿童）
*   L3（家长）- L4（儿童）
*   L4（家长）- L5（儿童）
*   L5 (PARENT) - GENE_NAME (CHILD)

希望我能以上述格式可视化我的数据集。但我的数据集应该是[这里指定的 json 格式](http://mbostock.github.com/protovis/ex/sunburst.html)

任何形式的帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T13:42:57.953

使用[networkx](http://networkx.lanl.gov/index.html)来表示这样的图（存在父子关系）...... 通过使用它；您的代码保留在 python 中...
例子：

[http://networkx.github.com/documentation/latest/examples/drawing/lanl_routes.html](http://networkx.github.com/documentation/latest/examples/drawing/lanl_routes.html)

# android - android关闭和打开屏幕

> ID：15785294
> 
> 赞同：1
> 
> 时间：2013-04-03T10:48:04.950
> 
> 标签：android, screen, wakelock, powermanager

我做了一个简单的应用程序，一旦按下按钮就可以打开和关闭屏幕，代码不会出现任何错误，但它什么也没做。这是代码：

```
 protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    Button button = (Button) findViewById(R.id.button1);

    button.setOnClickListener(new View.OnClickListener() {

        @SuppressLint("Wakelock")
        @Override
        public void onClick(View arg0) {

            Log.d(TAG,  String.valueOf(screenWakeLock));

        if (screenWakeLock != null) {

                   if(screenWakeLock.isHeld())
                        Log.d(TAG, "wavelock held");
                      screenWakeLock.release();
                   screenWakeLock = null;

        }else{

            PowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);
            screenWakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,   "screenWakeLock");
            screenWakeLock.acquire();
            Log.d(TAG,  String.valueOf(screenWakeLock));

                }

        }

    });

} 
```

以及清单文件中的权限：

```
<uses-permission android:name="android.permission.WAKE_LOCK"></uses-permission>
<uses-permission android:name="android.permission.DEVICE_POWER"></uses-permission> 
```

没有错误，但屏幕上没有任何反应。有谁知道为什么？

先感谢您！

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-15T14:56:34.320

在另一个问题中：

[以编程方式关闭 Android 手机](https://stackoverflow.com/questions/3745523/programmatically-switching-off-android-phone)

我找到了一种可行的方法。手机root后：

```
try {
      Process proc = Runtime.getRuntime()
                .exec(new String[]{ "su", "-c", "reboot -p" });
      proc.waitFor();
} catch (Exception ex) {
      ex.printStackTrace();
} 
```

# android - 在文件资源管理器中过滤 .xml 文件

> ID：15785297
> 
> 赞同：0
> 
> 时间：2013-04-03T10:48:12.583
> 
> 标签：android, xml, file, filtering

我只想向用户显示 sd 卡中当前存在的 .xml 文件。我尝试以下操作，但它显示了我的 sd 卡中的所有文件，包括目录

```
Intent intent = new Intent(Intent.ACTION_GET_CONTENT);
    intent.setType("text/xml");
    intent.addCategory(Intent.CATEGORY_OPENABLE);
    startActivityForResult(Intent.createChooser(intent, "Select XML File"), SelectXMLFILE); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:59:16.490

我有 android 4.1.2 的三星 Galaxy s3。我的内部手机内存命名为 sdcard0 和我的外部卡 extSdCard。

```
 Environment.getExternalStorageDirectory() 
```

所以上面返回sdcard0的路径，它是手机内部存储器

在这种情况下，要获得实际路径，您可以使用以下

```
String externalpath = new String();
String internalpath = new String();

public  void getExternalMounts() {
Runtime runtime = Runtime.getRuntime();
try  
{
Process proc = runtime.exec("mount");
InputStream is = proc.getInputStream();
InputStreamReader isr = new InputStreamReader(is);
String line;
BufferedReader br = new BufferedReader(isr);
while ((line = br.readLine()) != null) {
if (line.contains("secure")) continue;
if (line.contains("asec")) continue;

if (line.contains("fat")) {//external card
String columns[] = line.split(" ");
if (columns != null && columns.length > 1) {
    externalpath = externalpath.concat("*" + columns[1] + "\n");
}
} 
else if (line.contains("fuse")) {//internal storage
String columns[] = line.split(" ");
if (columns != null && columns.length > 1) {
    internalpath = internalpath.concat(columns[1] + "\n");
}
}
}
}
catch(Exception e)
{
 e.printStackTrace();
}
 System.out.println("Path  of sd card external............"+externalpath);
 System.out.println("Path  of internal memory............"+internalpath); 
} 
```

一旦你得到了路径。

```
File dir= new File(android.os.Environment.getExternalStorageDirectory());
//Instead of android.os.Environment.getExternalStorageDirectory() you can use internalpath or externalpath 
```

然后打电话

```
walkdir(dir);

ArrayList<String> filepath= new ArrayList<String>();//contains list of all files ending with .xml

public void walkdir(File dir) {
String xmlPattern = ".xml";

File listFile[] = dir.listFiles();

if (listFile != null) {
for (int i = 0; i < listFile.length; i++) {

    if (listFile[i].isDirectory()) {
        walkdir(listFile[i]);
    } else {
      if (listFile[i].getName().endsWith(xmlPattern)){
          //Do what ever u want
          filepath.add( listFile[i].getAbsolutePath());
       }
     }
    }
   }    
  } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:55:42.750

使用以下代码并根据您的需要进行操作

```
File sdcardPath = new File(Environment.getExternalStorageDirectory().getPath() +"/SomeFolder");

List<String> list;
list = new ArrayList<String>();
list=sdcardPath.listFiles(); 
```

现在遍历列表并检查每个文件名并应用 endWith("xml"); 项目上的功能以获取所有 xml 文件。希望它有效。

像这样循环

```
List<String> XMLFiles= new ArrayList<String>();
for(int i=0; i<=list.size(); i++)
{
   XMLFiles.add(list.get(i).endsWith("xml"));

} 
```

# asp.net-mvc - 在 VS 2012 上启用 Reporting Services 2005

> ID：15785301
> 
> 赞同：0
> 
> 时间：2013-04-03T10:48:37.390
> 
> 标签：asp.net-mvc, reporting-services, visual-studio-2012

我有这个 SSRS Reports SQL 2005，我需要使用 VS 2012 将它附加到我的 MVC 应用程序上。

VS 2012 Report Viewer 版本 11 不支持 RS 2005，之后仅支持 RS 2008，这就是为什么我将 Report Viewer 版本 9.0 添加到我的工具箱中的原因。

我创建了 Webform 页面，其中将附加报表查看器，但当它不呈现给 from 并说。

```
Error Creating Control - ReportViewer1 Failed to created designer ...... 
```

有没有人可以提供处理这个问题的细节。

谢谢并恭祝安康

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T02:12:14.057

`Error Creating Control`对于遇到并 `'RSClientController' is undefined`在将 ReportViewer 9.0 版附加到 VS 2012 时遇到的所有其他人 ，我得到了解决方案。

我所做的是在下面设置我的 web 配置文件和 asp.net 源

报告.aspx

```
<%@ Register assembly="Microsoft.ReportViewer.WebForms, Version=9.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" namespace="Microsoft.Reporting.WebForms" tagprefix="rsweb" %> 
```

网络配置

```
<httpHandlers>
  <add verb="*"  path="Reserved.ReportViewerWebControl.axd" type = "Microsoft.Reporting.WebForms.HttpHandler, Microsoft.ReportViewer.WebForms, Version=9.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" />
</httpHandlers>

<compilation debug="true" targetFramework="4.0">
  <assemblies>
    <add assembly="Microsoft.ReportViewer.WebForms, Version=9.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A"/>
    <add assembly="Microsoft.ReportViewer.Common, Version=9.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A"/>
  </assemblies>
</compilation>

 <system.webServer>
    <validation validateIntegratedModeConfiguration="false"/>
    <modules runAllManagedModulesForAllRequests="true"/>
    <handlers>
       <add name="Reserved-ReportViewerWebControl-axd" path="Reserved.ReportViewerWebControl.axd" verb="*" type="Microsoft.Reporting.WebForms.HttpHandler" resourceType="Unspecified" preCondition="integratedMode"/>
    </handlers>
  </system.webServer> 
```

即使在设计器视图上，报表查看器仍然显示创建控件时出错，但是当您运行应用程序时，报表将正常呈现。

希望这会帮助你。

最好的祝福

# node-postgres - 如何使用 node-postgres 进行同步查询（阻塞调用）？

> ID：15785305
> 
> 赞同：11
> 
> 时间：2013-04-03T10:48:42.553
> 
> 标签：node-postgres

在启动我的 Node.js 应用程序时，我想在继续控制流之前对 PostgreSQL 数据库进行几次同步调用以检查一些事情。如何使用 node-postgres 包实现这一点？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2017-10-26T08:27:10.127

您可以使用[pg-native](https://www.npmjs.com/package/pg-native)或[pg-sync](https://www.npmjs.com/package/pg-sync)包。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-23T17:57:30.020

同步调用的唯一方法是将它们嵌套在回调中：

```
function init() {
  pg.connect('tcp://user@host/db', function(err, client, done) {
    client.query("SELECT column FROM table", function(err, result) {
      // check some things...
      client.query("SELECT column FROM other_table", function(err, result) {
        // check some other things...
        main(); // proceed with flow...
      }
    });
  }
}

function main() {
  // main logic
} 
```

这可能是一种痛苦，并且在其他一些语言中是微不足道的，但这是野兽的本性。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-01-16T15:41:55.203

鉴于调用本质上是异步的，您需要通过回调（事实上的 Node 样式）、异步或通过 Promise（Q、when.js、Bluebird 等）来管理它。请注意，接受的 wrt回答，回调*不是*这样做的唯一方法。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-11-30T12:20:10.117

您可以通过将[pg-pool](https://github.com/brianc/node-pg-pool)与[asyncawait](https://github.com/yortus/asyncawait#installation)结合使用来做到这一点：

```
var suspendable = async (function defn(a, b) {
 var name1 = await(pool.query('select $1::text as name', ['foo']));
 console.log(name1.rows[0].name, 'says hello');
 var name2 = await(pool.query('select $1::text as name', ['bar']));
 console.log(name2.rows[0].name, 'says hello');
});

suspendable(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-10-10T15:24:21.377

我认为这将是适用的。

*   [节点光纤](https://github.com/laverdet/node-fibers)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-06-29T17:21:32.083

brianc（node-postgres 的作者）[在这里评论说](https://github.com/brianc/node-postgres/issues/856)，

> “进行同步查询的唯一方法是使用[pg-native](https://github.com/brianc/node-pg-native)并使用方法的`sync`变体。由于节点的工作方式，使用纯 JavaScript 客户端是**不可能**进行同步查询的。”

希望这可以帮助...

# matlab - 创建许多凸包 MATLAB

> ID：15785307
> 
> 赞同：0
> 
> 时间：2013-04-03T10:48:48.127
> 
> 标签：matlab, convex-hull

我是新来的，这是我的第一篇文章。我想知道是否有办法从 100 个随机点计算所有可能的凸包。我创建了一个正确的代码，但它给了我一个convhull 的错误以及该部分下方的所有内容都无法计算..换句话说，我想知道是否有一种方法可以在 for 循环中使用函数 convhull 而不会出现错误..

这是代码

```
hold on
N=100;
Points = zeros(N,2);
for i=1:N
    Points(i,1)= rand(1,1)*100;
    Points(i,2)= rand(1,1)*100;
end

SortedX = sortrows(Points,1);
NewVertices = SortedX;

X = reshape(SortedX(:,1),2,[]);
X = X(:);
Y = reshape(SortedX(:,2),2,[]);
Y = Y(:);
plot(X,Y,'*');

while length(NewVertices)>=3
    NewVertices = NewVertices(NewVertices~=0);
    rowsNV = length(NewVertices(:,1));
    NewVertices = reshape(NewVertices,rowsNV/2,2);
    XNV = reshape(NewVertices(:,1),rowsNV/2,[]);
    XNV = XNV(:);
    YNV = reshape(NewVertices(:,2),rowsNV/2,[]);
    YNV = YNV(:);
    K = convhull(XNV,YNV);
    plot(XNV(K),YNV(K),'r-');
    for i=1:length(K)-1
        NewVertices(K(i),1)=0;
        NewVertices(K(i),2)=0;
    end

end 
```

这是错误

```
Error using convhull
Error computing the convex hull. Not
enough unique points specified.

Error in test2 (line 28)
    K = convhull(XNV,YNV); 
```

提前致谢

co2ark5

**这是在 DAN 的帮助下正确工作的最终代码**

```
hold on
N=100;
Points = rand(N,2);

SortedX = sortrows(Points,1);
NewVertices = SortedX;

plot(SortedX(:,1),SortedX(:,2),'*');

while length(NewVertices)>=3
    X=NewVertices(:,1);
    Y=NewVertices(:,2);
    K = convhull(X,Y);
    plot(X(K),Y(K),'r-');
    for i=1:length(K)-1
        NewVertices(K(i),1)=0;
        NewVertices(K(i),2)=0;
    end
    NewVertices = NewVertices(any(NewVertices,2),:);
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:39:58.767

该错误相当具有表现力，您没有指定足够的点（即至少 3 个非共线点）。请解释您要使用此代码实现的目标。

你什么时候收到这个错误？我假设不在循环的第一次运行？在检查是否有超过 3 个点后，您可能会立即删除更多点，然后调用 convhull 所以很有可能少于 3 个点（这仍然忽略了共线性的机会）。错误之后，是什么`size(NewVertices)`？

一些旁注：请在您绘制之前解释整个重塑业务（也许添加一些评论）。也`Points`可以更快更简单地初始化：

```
Points = rand(N, 2); 
```

**编辑：**

通过阅读您在下面的评论，我很清楚您的循环逻辑是错误的。我无法准确计算出您是如何尝试删除点以创建新的子集来找到船体的，没有评论，我不明白您在做什么，`reshape`但我很确定您需要的一切解决这个问题的方法是将循环的第一行移到末尾，如下所示：

```
while length(NewVertices)>=3

    rowsNV = length(NewVertices(:,1));
    NewVertices = reshape(NewVertices,rowsNV/2,2);
    XNV = reshape(NewVertices(:,1),rowsNV/2,[]);
    XNV = XNV(:);
    YNV = reshape(NewVertices(:,2),rowsNV/2,[]);
    YNV = YNV(:);
    K = convhull(XNV,YNV);
    plot(XNV(K),YNV(K),'r-');
    for i=1:length(K)-1
        NewVertices(K(i),1)=0;
        NewVertices(K(i),2)=0;
    end

    NewVertices = NewVertices(NewVertices~=0);

end 
```

这样，您在检查点数后立即找到您的船体，而不是检查，然后删除点，这就是您的循环在 1 - 2 个点上运行的原因。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T12:21:21.220

非常感谢丹，

首先，我尝试仅更改您说的那一行，但由于我正在使用的重塑功能，它不再起作用了。然后我决定更改它们，并使它变得更简单，并且确实起作用了！

这是在 DAN 的帮助下正确工作的最终代码

```
hold on
N=100;
Points = rand(N,2);

SortedX = sortrows(Points,1);
NewVertices = SortedX;

plot(SortedX(:,1),SortedX(:,2),'*');

while length(NewVertices)>=3
    X=NewVertices(:,1);
    Y=NewVertices(:,2);
    K = convhull(X,Y);
    plot(X(K),Y(K),'r-');
    for i=1:length(K)-1
        NewVertices(K(i),1)=0;
        NewVertices(K(i),2)=0;
    end
    NewVertices = NewVertices(any(NewVertices,2),:);
end 
```

# list - Grails 多对多将多个值从 gsp 传递到控制器以保存

> ID：15785309
> 
> 赞同：0
> 
> 时间：2013-04-03T10:48:50.043
> 
> 标签：list, grails, save, gsp

我在表单和事件之间有多对多的关系，在使用连接表的列表中，当我在编辑模式下显示数据时，我在表中的自己的下拉列表中显示每个项目，而不是一个多选下拉列表。如果我想添加更多项目，我还有一个小 jQuery 可以在其中添加额外的下拉列表，我的问题是，我如何按顺序保存这组“事件”？代码如下： -

初始 _form.gsp 加载表单的所有链接事件：-

```
 <table id="eventList">
        <g:each in="${formInstance?.events}" status = "i" var="item">
            <tr class="${(i % 2) == 0 ? 'even' : 'odd'}">
                <td>
                    <label></label>
                    <g:select name="event_${i}" from="${framework.Event.list()}" required="required" optionKey="id" value="${item.id}" />
                </td>
            </tr>
        </g:each>
    </table> 
```

使用此 gsp 添加其他对象

```
<tr class="${((newRow+1) % 2) == 0 ? 'even' : 'odd'}">
    <td>
        <label></label>
            <g:select name="event_${newRow-1}" from="${framework.Event.list()}" required="required" optionKey="id" />
    </td>
</tr> 
```

目前的保存按钮是这样的： -

```
<g:actionSubmit class="save" action="update" value="${message(code: 'default.button.update.label', default: 'Update')}" /> 
```

并且更新操作与域设置自动生成的操作相同。如何保存以识别添加的新字段？即使我更改了顺序，当前点击保存对“事件”也是如此……

域类就是这样

```
import java.util.List;

class Form {
    static constraints = {
        formDesc(blank:false,maxSize:100,unique: true)
    }

    static mapping = {
        table "form"
        version false
        columns{
            id column:"form_id"
            formDesc column:"description"
            testscenarios joinTable:[name:"lnk_scenario_form",key:'form_id']
            events joinTable:[name:"lnk_form_event",key:'form_id']
        }
    }

    String formDesc
    List events

    static hasMany = [testscenarios:TestScenario, events:Event]
    static belongsTo = fartframework.TestScenario

    String toString (){
        "${formDesc}"
    }
} 
```

和

```
class Event {
       static constraints = {
           eventTypeID()
           eventOrder()
           objectID()
           testDataID()
        }

    static mapping = {
        table "event_form"
        version false
        columns{
            id column:"event_form_id"
            eventTypeID column:"event_id"
            eventOrder column:"event_order"
            testDataID column:"test_data_id"
            objectID column:"object_id"

            forms joinTable:[name:"lnk_form_event", key:'event_id']
        }
    }

    EventType eventTypeID
    Integer eventOrder
    TestData testDataID
    Object objectID

    static hasMany = [forms:Form]
    static belongsTo = fartframework.Form

    String toString (){
        "${eventTypeID}"
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T16:05:37.180

原来这是因为我的链接表在 form_id 和 event_id 组合列上都设置了一个主键，我不在乎，因为我希望能够在其中有重复项（因为它的顺序更重要），删除表上的这些主键值解决了问题！

我仍然有一个问题，如果我现在添加/删除很多次，我会遇到相同名称和代表问题的问题，但我可以通过一些 jquery hacking 来解决这个问题（我希望）......

# sas - 根据SAS中另一个变量的值查找变量的平均值

> ID：15785311
> 
> 赞同：-1
> 
> 时间：2013-04-03T10:48:54.297
> 
> 标签：sas

我有一个数据集，其中有两个变量`A`和`B`. 两者都有 100 个观察值。数据按`A`升序排列。我需要找到平均值`B`窗口由 决定的平均值`A`。根据 的第一次和最后一次观察`A`，必须运行循环。

例如，范围`A`是 300-340。让`A(1)`表示 的第一个值`A`。我需要运行一个循环，该循环将在值为 302 的那一刻中断`A`。`A(1)+2`关键是每个不同的值可能有超过 1 个观察值`A`。例如，对于 300 和 301 的值`A`，如果有 10 个观察值，我需要`B`相应 10 个观察值的平均值。

同样，我需要从后面运行一个循环，即 340（降序循环）。对于 A-5 (335) 的值，底部可能有 30 个观测值。对于相应的 30 次观察，`B`我需要平均值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T17:07:18.963

使用proc sql实现

```
PROC SQL;

SELECT A, AVG(B)
FROM SAS-DATASETS
GROUP BY A
ORDER BY A DESC;
RUN; 
```

# antlr - ANTLR3 语法适用于空格，但当我省略空格时会给出 NoViableAltException

> ID：15785327
> 
> 赞同：0
> 
> 时间：2013-04-03T10:49:32.580
> 
> 标签：antlr, antlr3

我需要解析定义系统查询的用户输入。此类查询的核心是三元组，它们也可以组合成复杂的查询（想法是将结果集限制为仅显示满足这些查询的条目）。以下是 3 个示例输入：

```
field1 = simpleValueNoQuotes
field2 ~ "valueWithQuotes"
(field1 = simpleValueNoQuotes OR field2 ~ "valueWithQuotes") AND field3 = foobar 
```

如果它们的值包含任何保留字符（如双引号或括号以及空格），则用户必须使用带引号的值。

到目前为止，我的语法已经很好地处理了这个问题，但是现在出现了一个新的要求。应该允许用户省略空格，输入类似`field1=simpleValueNoQuotes`. 我的语法无法处理这个问题，我似乎无法弄清楚为什么（这是我第一个使用 antlr 的项目）。

这是我稍微简化的语法：

```
grammar simple;

querytree   :   query EOF;

query   :   subquery (operator subquery)* ;

subquery    :   leaf | composite;

operator    :   'and' | 'or';

leaf    :   fieldname comparison value;

value   :   DOUBLEQUOTE_DELIMITED_VALUE | SIMPLE_VALUE;

composite   :   leftParenthesis query rightParenthesis; 

fieldname   :   'field1' | 'field2'; //this has many keywords in reality

comparison  :   '=' | '~';

leftParenthesis     :   '(';
rightParenthesis    :   ')';

fragment
ESCAPE  :   '\\' ( '"' | '\\') ;

DOUBLEQUOTE_DELIMITED_VALUE 
:   '"' ( ~( '"' | '\\' ) | ESCAPE )* '"'
;   

SIMPLE_VALUE
:   ('\u0021'|'\u0023'..'\u0027'|'\u002A'..'\u007E'|'\u00A1'..'\uFFFF')*;   /*all unicode characters except control characters, doublequotes, parentheses and whitespace defined below*/

WHITESPACE
:   ('\u0009'|'\u000A'|'\u000C'|'\u000D'|'\u0020'|'\u00A0')+    {$channel = HIDDEN;}   /*\t, \n, \f, \r, space, nonbreaking space*/
; 
```

关于为什么这能够解析`field1 = simpleValueNoQuotes`但无法解析的任何想法`field1=simpleValueNoQuotes`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T13:11:57.217

您忘记排除`=`from `SIMPLE_VALUE`，这意味着`field1=simpleValueNoQuotes`是单个`SIMPLE_VALUE`标记。

# android - 打开数据库sqlite android时出错

> ID：15785328
> 
> 赞同：0
> 
> 时间：2013-04-03T10:49:34.937
> 
> 标签：android, database, sqlite, sqliteopenhelper

我在 android 中打开数据库 sqlite 时遇到问题。我`"Caused by: java.lang.NullPointerException"`在打开数据库的代码上收到此错误。请帮我纠正这个...

我更新了代码。现在我将代码分开。DBHelper 类

```
public class DBHelper extends SQLiteOpenHelper {
public static final String DBName = "db_reminder.db";
public static final String TableName = "task_table";
public static final String ID = "id";
public static final String LATITUDE = "latitude";
public static final String LONGITUDE = "longitude";
public static final String RADIUS = "radius";
public static final String ALAMAT = "alamat";
public static final String KONTEKS_TUGAS = "konteks_tugas";
public static final String makeTable = "create table "
    + TableName + "("
    + ID + " integer primary key autoincrement,"
    + LATITUDE + " integer not null,"
    + LONGITUDE + " integer not null,"
    + RADIUS + " integer not null,"
    + ALAMAT + " varchar(50) not null,"
    + KONTEKS_TUGAS + " varchar(50) not null"
    + ");";

public DBHelper(Context context) {
    super(context, DBName, null, 1);
    // TODO Auto-generated constructor stub
}

@Override
public void onCreate(SQLiteDatabase db) {
    // TODO Auto-generated method stub
    Log.d("db", "create table");
    db.execSQL(makeTable);
}

@Override
public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
    // TODO Auto-generated method stub
    Log.d("db", "upgrade table");
    db.execSQL("drop table if exists " + TableName);
}
} 
```

DBReminder 类

```
public class DBReminder {
private SQLiteDatabase db;
private DBHelper helper;
private Context konteks;

public DBReminder(Context c) {
    this.konteks = c;
    helper = new DBHelper(c);
}

public void openWrite() throws SQLException {
    db = helper.getWritableDatabase();
}

public void openRead() throws SQLException {
    db = helper.getReadableDatabase();
}

public void closeConn() {
    helper.close();
}

public void insertTask(Task tugas) {
    openWrite();
    ContentValues val = new ContentValues();
    val.put(helper.LATITUDE, tugas.getLatitude());
    val.put(helper.LONGITUDE, tugas.getLongitude());
    val.put(helper.RADIUS, tugas.getRadius());
    val.put(helper.ALAMAT, tugas.getAlamat());
    val.put(helper.KONTEKS_TUGAS, tugas.getKonteks());
    db.insert(helper.TableName, null, val);
    closeConn();
}} 
```

活动中的代码

```
public void cekPosisi(String txtAlamat) {
    if (txtAlamat.toString().length() > 0) {
        dbHandler.openRead();
        String sql = "select * from task_table where alamat = '"+txtAlamat+"';";
        Cursor rs = db.rawQuery(sql, null);
        if(rs != null) {
            rs.moveToFirst();
            String addr = rs.getString(rs.getColumnIndex("alamat"));
            Toast.makeText(this, "Anda ada tugas di " + addr, Toast.LENGTH_LONG).show();
        } else {
            Toast.makeText(this, "Anda tidak ada tugas di lokasi sekarang", Toast.LENGTH_LONG).show();
        }
        rs.close();
        dbHandler.closeConn();
    } else {
        Toast.makeText(this, "Tidak ada alamat", Toast.LENGTH_LONG).show();
    }
} 
```

我用在

```
txtAddr = teksAlamat.getText().toString();
    this.cariTugas.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            Log.d("alamat textView", txtAddr);
            cekPosisi(txtAddr);
        }
    }); 
```

我更新了代码，但仍然出现同样的错误 nullException。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:09:45.693

## 更新：

我真的建议您将`openRead()`方法签名更改为：

```
public DBReminder openRead(Context c) throws SQLException {
   helper = new DBHelper(c);
   db = helper.getReadableDatabase();
   return this;
} 
```

接着

```
db = dbHandler.openRead(YourActivity.this);
String sql = "select * from task_table where alamat = '"+txtAlamat+"';";
Cursor rs = db.rawQuery(sql, null); 
```

因为您的问题很可能与您`Context`被分配到**`NULL`**.

# c# - 从 javascript 文件（.js 文件）调用 ac# 函数（.cs 文件）

> ID：15785330
> 
> 赞同：1
> 
> 时间：2013-04-03T10:49:44.923
> 
> 标签：c#, javascript

我有一个 javascript 文件，并且在我喜欢调用 ac# 函数的那个​​方法中有一个方法“Test”。

c# 函数与 javascript 文件不在同一个文件中。

它在一个 .cs 文件中。那么如何管理 javascript 函数能够调用 c# 函数呢？

我已经在互联网上搜索过，但大多数解决方案都是基于 aspx 和 apx.cs 文件...

我试过这样的事情：

查看器.js

```
function Test() {
alert("Hello world-2");
window.external.MethodToCallFromScript();
} 
```

脚本管理器.cs

```
[ComVisible(true)]
    public class ScriptManager
    {
        public void MethodToCallFromScript()
        {
            Debug.WriteLine("test");
        }
    } 
```

但它没有工作......

有人可以帮助我吗？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:52:37.020

为了使这个工作，您必须设置 -control 的`ObjectForScripting`-property `WebBrwoser`。

这是一个例子

```
using System;
using System.Windows.Forms;
using System.Security.Permissions;

[PermissionSet(SecurityAction.Demand, Name="FullTrust")]
[System.Runtime.InteropServices.ComVisibleAttribute(true)]
public class Form1 : Form
{
    private WebBrowser webBrowser1 = new WebBrowser();
    private Button button1 = new Button();

    [STAThread]
    public static void Main()
    {
        Application.EnableVisualStyles();
        Application.Run(new Form1());
    }

    public Form1()
    {
        button1.Text = "call script code from client code";
        button1.Dock = DockStyle.Top;
        button1.Click += new EventHandler(button1_Click);
        webBrowser1.Dock = DockStyle.Fill;
        Controls.Add(webBrowser1);
        Controls.Add(button1);
        Load += new EventHandler(Form1_Load);
    }

    private void Form1_Load(object sender, EventArgs e)
    {
        webBrowser1.AllowWebBrowserDrop = false;
        webBrowser1.IsWebBrowserContextMenuEnabled = false;
        webBrowser1.WebBrowserShortcutsEnabled = false;
        webBrowser1.ObjectForScripting = this;
        // Uncomment the following line when you are finished debugging. 
        //webBrowser1.ScriptErrorsSuppressed = true;

        webBrowser1.DocumentText =
            "<html><head><script>" +
            "function test(message) { alert(message); }" +
            "</script></head><body><button " +
            "onclick=\"window.external.Test('called from script code')\">" +
            "call client code from script code</button>" +
            "</body></html>";
    }

    public void Test(String message)
    {
        MessageBox.Show(message, "client code");
    }

    private void button1_Click(object sender, EventArgs e)
    {
        webBrowser1.Document.InvokeScript("test",
            new String[] { "called from client code" });
    }

} 
```

这是链接[。](http://msdn.microsoft.com/en-us/library/system.windows.forms.webbrowser.objectforscripting.aspx)

# .net - .NET WebAPI DataModel - “一个元素或另一个”所需的数据注释

> ID：15785332
> 
> 赞同：1
> 
> 时间：2013-04-03T10:49:47.283
> 
> 标签：.net, asp.net-web-api, model-validation

我的 Web 服务需要接受包含许多元素的模型。域是广播媒体。

模型的要求之一是它包含一个`<digital></digital>`元素或一个`<physical></physical>`元素。

所以这是可以接受的：

```
<media>
  <digital>video/x-mxf</digital>
</media> 
```

或者：

```
<media>
  <physical>Betacam</physical>
</media> 
```

我的班级是这样的：

```
[DataContract]
public class Media
{
   [DataMember]
   public string physical { get; set; }
   [DataMember]
   public string digital { get; set; }
} 
```

在 WebAPI 中，我显然可以将RequiredAttribute 应用于属性，但这不是我在这种情况下想要的，因为我想要一个元素或另一个元素。

在这种情况下，是否有使用属性进行模型验证的方法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-17T15:27:14.700

抱歉，我可能在评论中混淆了想法...您应该按照以下方式做一些事情：

首先将 CustomValidation 属性添加到您的类中：

```
[DataContract]
[CustomValidation(typeof(MediaValidation), "Validate")] 
public class Media
{
    [DataMember]
    public string physical { get; set; }
    [DataMember]
    public string digital { get; set; }
} 
```

然后创建一个`MediaValidation`类（与您在属性中指定的类名相同），并调用一个`public`and`static`方法`Validate`（再次在属性中指定），该方法返回一个`ValidationResult`... 此方法的第一个参数正是您正在验证的对象。您可以执行以下操作：

```
public class MediaValidation
{
    public static ValidationResult Validate(Media model, ValidationContext context)
    {
        if (String.IsNullOrWhiteSpace(model.physical) && String.IsNullOrWhiteSpace(model.digital))
            return new ValidationResult("Either physical or digital must be specified");
        else
            return ValidationResult.Success;
    }
} 
```

让我知道这是否适合你。

**更新：替代解决方案**

另一种方法是`ValidationAttribute`像您所做的那样扩展，并在类级别（而不是单个属性）应用您的扩展属性。您将需要覆盖该`IsValid()`方法：

```
public class ExclusivelySetAttribute : ValidationAttribute
{
    public override bool IsValid(object value)
    {
        var model = value as Media;
        if (model == null)
            return false; // or your logic, throw an exception...

        if (String.IsNullOrWhiteSpace(model.physical) && String.IsNullOrWhiteSpace(model.digital))
            return false;

        return true;
    }
} 
```

当您返回 false 时，显示的错误消息将是属性中指定的错误消息：

```
[ExclusivelySet(ErrorMessage = "Either physical or digital must be specified")]
public class Media
{
    //... your code
} 
```

让我知道这种方法如何为您工作。

# asp.net - 文本对齐在 FF 和 chrome 中不起作用

> ID：15785334
> 
> 赞同：1
> 
> 时间：2013-04-03T10:49:49.747
> 
> 标签：asp.net, html, css, database-design, alignment

我有一个 asp 页面，我试图在其中对齐。以下是具体线路，

```
<td style="height: 50px; background-color: #ffffe0; text-align: center; "> 
```

此代码在 IE 中运行良好，但在 FF 和 chrome 中，文本左对齐。如果我更改相同的代码

```
<td style="height: 50px; background-color: #ffffe0; text-align: -moz-center; "> 
```

然后对齐仅在FF中有效。IE 和 chrome 失败:(。谁能告诉我如何解决这个问题？

**更新：**

整个表结构是这样的，

```
<table style="width: 900px; height: 500px; background-color: gray;">

   <tbody>
       <tr>

      <td style="height: 70px; vertical-align: middle; background-color: #fffff0; text-align: center !important; width: 160px;">

        <div id="abc" style="height:40px;width:80px;text-align: center !important ;left: 0px; position: relative; top: 0px" onscroll="JavaScript:document.getElementById(somejavascrpt)'">

                <input id="button" type="image" style="height:40px;width:60px;border-width:0px;z-index: 104; left: 4px; text-align: center !important position: absolute; top: 2px" src="../images/help.png" name="help">
        </div>
      </td> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-03T10:53:10.217

同时使用`text-align: center;`和`text-align: -moz-center;`

```
<td style="height: 50px; background-color: #ffffe0; 
    text-align: -moz-center;text-align: center; "> 
```

## 编辑 1

你也可以试试

```
 <td style="height: 50px; background-color: #ffffe0;text-align: center!important;"> 
```

## 编辑 2

`td`
您可以使用 fire bug 并查看在您的Some 链接如何使用 firebug
[http://www.studiopress.com/tips/using-firebug.htm](http://www.studiopress.com/tips/using-firebug.htm) [http://net.tutsplus.com/tutorials/other/](http://net.tutsplus.com/tutorials/other/10-reasons-why-you-should-be-using-firebug/)上应用了什么规则
[你应该使用firebug的10个理由/](http://net.tutsplus.com/tutorials/other/10-reasons-why-you-should-be-using-firebug/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T10:58:11.873

如果它对您不起作用，那么您在其他地方还有一些其他规则覆盖了您的风格。`Text-align`对所有浏览器都非常友好。

我建议两件事：

*   停止使用内联样式。样式在您的 html 中没有位置，它应该在单独的文件中定义。

*   在您的浏览器中使用 webdeveloper 工具找出哪些规则适用于您的 TD，并确保您只定义了一个规则

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T10:53:42.013

可能有不同的方法可以做到这一点。其中一种方法是使用左边距。除非您的位置是相对的，否则您可以使用它。例如-

```
style="margin:0 0 0 100px" 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T10:57:51.833

尝试使用 html 属性。

```
<td align="center" style="height: 50px; background-color: #ffffe0;"> 
```

# google-maps-api-3 - Google Maps API 从 KML 获取折线

> ID：15785338
> 
> 赞同：1
> 
> 时间：2013-04-03T10:50:01.470
> 
> 标签：google-maps-api-3, geoxml3

我已使用 V3 和 geoxml3 将 KML 文件加载到 Google 地图中。该文件包含一行，从地图步行路线保存。我想在这条线上添加英里标记，但我找不到任何关于如何从 KmlLayer（或从 geoXML3 对象）获取折线的文档。

V3：

```
var layer = new google.maps.KmlLayer('http://blah.kml');
layer.setMap(map); 
```

地理XML3：

```
var kml_parser = new geoXML3.parser({
  map: map,
  processStyles: true,
  createMarker: add_marker
});
kml_parser.parse('blah.kml'); 
```

有人知道吗

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T12:18:25.830

在 geoxml3 中可以通过以下方式访问第一条折线：

```
kml_parser.docs[0].gpolylines[0] 
```

或作为地标的属性

```
kml_parser.docs[0].placemarks[0].polyline 
```

（折线在 KmlLayer 中不可访问，它们在图块上呈现）

搜索 [google-maps-api-3] geoxml3 polyline 的示例[）](http://www.geocodezip.com/geoxml3_test/v3_geoxml3_kmltest_elevation_linkto.html?filename=FlightAware_JBU670_KLAX_KJFK_20120229_kml.xml)

另一个例子： [http ://www.geocodezip.com/geoxml3_test/v3_geoxml3_kmltest_linktoB.html?type=k&filename=http://www.geocodezip.com/geoxml3_test/SO_IT_info_kmlC.xml](http://www.geocodezip.com/geoxml3_test/v3_geoxml3_kmltest_linktoB.html?type=k&filename=http://www.geocodezip.com/geoxml3_test/SO_IT_info_kmlC.xml)

# php - 考虑 DST 的 Unix Timestamp 计算日期

> ID：15785339
> 
> 赞同：1
> 
> 时间：2013-04-03T10:50:03.907
> 
> 标签：php, timestamp, dst

如何计算昨天我们记住 dst 的 unix 时间戳？

通常我会这样做`$timestamp - 86400`，但是当昨天没有 DST 而今天没有 DST 时，这不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:04:28.403

您应该使用[`DateTime`](http://www.php.net/manual/en/class.datetime.php)该类，并且您必须在时间字符串中指定英格兰时区 (BST)。像这样：

```
$dt = new DateTime('Yesterday BST');
$timestamp = $dt->getTimestamp(); // first second of 'yesterday' 
```

上面的示例将遵守夏令时。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:58:02.907

怎么样：

```
$startTime = mktime(0, 0, 0, date('m'), date('d')-1, date('Y'));     
$endTime = mktime(23, 59, 59, date('m'), date('d')-1, date('Y')); 
```

这是来自：

[http://en.kioskea.net/faq/1861-mktime-timestamp-yesterday-last-month-etc](http://en.kioskea.net/faq/1861-mktime-timestamp-yesterday-last-month-etc)

# .net - 如何创建多个 Windows 服务实例？

> ID：15785341
> 
> 赞同：4
> 
> 时间：2013-04-03T10:50:12.433
> 
> 标签：.net, windows-services

我想运行安装在服务器上的 Windows 服务的多个实例，而无需再次安装。

这怎么可能？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-03T10:55:03.423

服务“安装”实际上只是在名称、可执行文件和其他一些元数据之间添加映射。服务一旦安装，要么运行（一次），要么不运行。要将多个实例*作为服务*运行，它们必须以不同的名称注册，这基本上意味着多次安装它。但是，这并不*意味着*您需要可执行文件的多个不同副本。

我这样做的方法是子类化`Installer`，以便它创建一个`ServiceInstaller`and ，并为实例`ServiceProcessInstaller`提供一个`ServiceName`（在运行时，通过自定义安装程序） ，然后在运行时使用 - 基本上使一个独立的 exe 能够作为服务安装和卸载自身（任意多次），使用命令行参数指定名称。`ServiceInstaller``ManagedInstallerClass`

# ios - 为什么核心数据实体的布尔属性不是__NSCFNumber而不是__NSCFBoolean？

> ID：15785347
> 
> 赞同：1
> 
> 时间：2013-04-03T10:50:30.303
> 
> 标签：ios, core-data, nsnumber

在核心数据实体中，我们必须将原始数字（char、int、float、double 和 BOOL）包装到类簇 NSNumber。

虽然核心数据用户界面让我们指定一个类型，我特别提到它为 BOOLEAN，默认类型为 YES 或 NO。

现在，当我从 API 调用中获得 JSON-converted-NSDictionary 时，我尝试将布尔值 true 或 false 存储到此属性中。

但是我注意到，在为调试器控制台中的键打印核心数据实体的类和 json-dictionary 的相应值时，

Core Data 实体的 NSNumber 包装属性类是 __NSCFNumber，而字典的键值是 __NSCFBoolean。

我知道类集群模式，并且我知道我们在 NSNumber 下有子类，它们的实际对象是在调用 numberWithInt 或 numberWithBool 时创建的，并表示为一个总称 NSNumber。

但我不明白的是，为什么调试器没有将 Core Data 实体 bool 属性显示为 __NSCFBoolean ？

# jquery - 使用日期范围过滤数据表

> ID：15785348
> 
> 赞同：0
> 
> 时间：2013-04-03T10:50:33.963
> 
> 标签：jquery

好的，

我有一个日期选择器范围和两个单选按钮，我需要过滤我的数据表。基本上，我所追求的如下：

用户从范围选择器中选择日期用户然后选择值日期或消息日期单选按钮用户单击过滤器按钮，并根据他们的选择选择数据过滤器。

我的数据表由两个日期列组成，它们由单选按钮表示。例如，用户输入可以是。

从 03/04/2012 到 03/04/2011 在起息日列。

任何指针？

代码原样：

```
 <article class="module width_full">
        <header><h3>Message Detail</h3></header>
        <div id="radio">

            <label for="from">From</label>
            <input type="text" id="from" name="from" />
            <label for="to">to</label>
            <input type="text" id="to" name="to" />

                   <label for="mdValueDate">Value Date</label>
                   <input type="radio" id="mdValueDate" name="radio" />
                   <label for="mdMessageDate">Message Date</label>
                   <input type="radio" id="mdMessageDate" name="radio" />

                    <button id="btnFilterMd">Filter</button>
                    <button id="btnClearFilter">Clear Filter</button>
                   </div>

              <table      id="tblMessageDetail"            class="display">
               <thead>
                    <tr>
                        <th>Date 1</th>
                        <th>Date 2</th>

                    </tr>
              </thead>
              <tbody>
                    <tr>
                        <td colspan="5">Loading....</td>
                    </tr>
              </tbody>
              <tfoot></tfoot>
              </table>   
            <div id="pager" class="tab_container">

      </div>
    </article> 
```

和jQuery代码：

```
 function renderMsgDetail(result) {
            var dtMsgDetailData = [];
            $.each(result, function () {
                dtMsgDetailData.push([
                    this.Date1,
                    this.Date2

                ]);
            });

            var oTable = $('#tblMessageDetail').dataTable({
                "aaData": dtMsgDetailData,
                "aLengthMenu": [[10, 25, 50, 100, -1], [10, 25, 50, 100, "ALL"]],
                'asStripClasses': null,
                "iDisplayLength": 10
            });

            $("#btnFilterMd").click(function (event) {
                event.preventDefault();
                alert($('#from').val());
                alert($('#to').val());
            }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T11:15:11.263

如果您使用数据表插件 (www.datatables.net)。

您有一个可以在这里调整的解决方案：

[http://www.datatables.net/release-datatables/examples/api/multi_filter.html](http://www.datatables.net/release-datatables/examples/api/multi_filter.html)

我认为您需要一个显示值日期或消息日期值的列，以便您可以应用过滤器，如果没有，javascript 将不知道如何过滤。

看线：

```
 oTable.fnFilter( this.value, $("tfoot input").index(this) ); 
```

第二个值将是您拥有要过滤的值的列的索引。

另一种解决方案：ajax 调用来过滤数据并填充表格。

# image-processing - 检测窗口上的非最大抑制

> ID：15785350
> 
> 赞同：4
> 
> 时间：2013-04-03T10:50:41.563
> 
> 标签：image-processing, object-detection, sliding-window

在对象检测文献中，通常使用分类器和滑动窗口方法来检测图像中对象的存在，该方法返回一组检测窗口，并使用非极大值抑制解决检测重叠。

有人可以解释在这些检测窗口上执行非最大抑制的算法吗？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-03T10:58:34.127

引自[http://www.di.ens.fr/willow/events/cvml2012/materials/practical-detection/](http://www.di.ens.fr/willow/events/cvml2012/materials/practical-detection/)

> 图像块的扫描窗口式分类通常会导致目标对象周围的多个响应。处理此问题的标准做法是使用局部最大置信度分数（非最大值抑制或 NMS）移除检测附近的任何检测器响应。NMS 通常应用于图像中置信度高于某个阈值的所有检测。在不同的阈值和不同的图像中尝试 NMS 人脸检测：

也在这里[http://www.ens-lyon.fr/LIP/Arenaire/ERVision/detection_exercise_solution.m](http://www.ens-lyon.fr/LIP/Arenaire/ERVision/detection_exercise_solution.m)你可以找到一个 matlab 程序，它可以做所有事情 - 检测窗口上的检测和 NMS

对检测窗口进行非最大抑制的代码是

```
%%%%%%%%%%%%%%% **************************************************************
%%%%%%%%%%%%%%% **************************************************************
%%%%%%%%%%%%%%% *                                                            *
%%%%%%%%%%%%%%% *                       EXERCISE 3:                          *
%%%%%%%%%%%%%%% *                                                            *
%%%%%%%%%%%%%%% *        Non-maxima suppression of multiple responses        *
%%%%%%%%%%%%%%% *                                                            *
%%%%%%%%%%%%%%% **************************************************************
%%%%%%%%%%%%%%% **************************************************************
%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%% Scanning-window style classification of image patches typically
%%%%%%%%%%%%%%% results in many multiple responses around the target object.
%%%%%%%%%%%%%%% A standard practice to deal with this is to remove any detector
%%%%%%%%%%%%%%% responses in the neighborhood of detections with locally maximal
%%%%%%%%%%%%%%% confidence scores (non-maxima suppression or NMS). NMS is
%%%%%%%%%%%%%%% usually applied to all detections in the image with confidence
%%%%%%%%%%%%%%% above certain threshold.
%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%% TODO:
%%%%%%%%%%%%%%% 3.1 Try out different threshold values to pre-selected windows
%%%%%%%%%%%%%%%     passed to the NMS stage, see parameter 'confthresh' below.
%%%%%%%%%%%%%%% 3.2 Try out different threshold values for NMS detections,
%%%%%%%%%%%%%%%     see parameter 'confthreshnms'
%%%%%%%%%%%%%%% 3.3 Try detection and with different thresholds for different
%%%%%%%%%%%%%%%     included images: 'img1.jpg', 'img2.jpg', 'img3.jpg', 'img4.jpg'
%%%%%%%%%%%%%%% 
confthresh=0;
indsel=find(conf>confthresh);
[nmsbbox,nmsconf]=prunebboxes(bbox(indsel,:),conf(indsel),0.2);

%%%%%%%%%%%%%%% display detections above threshold after non-max suppression
%%%%%%%%%%%%%%% 
confthreshnms=1;
clf, showimage(img)
indsel=find(nmsconf>confthreshnms);
showbbox(nmsbbox(indsel,:),[1 1 0],regexp(num2str(nmsconf(indsel)'),'\d+\.\d+','match'));
title(sprintf('%d NMS detections above threshold %1.3f',size(nmsbbox,1),confthreshnms),'FontSize',14)
fprintf('press a key...'), pause, fprintf('\n') 
```

您可以在第一个链接中找到所有相关功能。

# java - Gwt编译错误：找不到类型

> ID：15785353
> 
> 赞同：1
> 
> 时间：2013-04-03T10:50:44.930
> 
> 标签：java, gwt, maven

我在编译我的应用程序时出错：

```
[INFO] Compiling module com.messagedna.web.Main
[INFO]    Finding entry point classes
[INFO]       [ERROR] Unable to find type 'com.messagedna.web.client.controller.Main'
[INFO]          [ERROR] Hint: Previous compiler errors may have made this type unavailable
[INFO]          [ERROR] Hint: Check the inheritance chain from your module; it may not be inheriting a required module or a module may not be adding its source path entries properly 
```

我试图在谷歌中找到解决方案，但没有找到任何解决方案。这是我的 gwt.xml 文件：

```
 <!DOCTYPE module PUBLIC "-//Google Inc.//DTD Google Web Toolkit 1.6//EN"
        "http://google-web-toolkit.googlecode.com/svn/releases/1.6/distro-source/core/src/gwt-module.dtd">
<module>

    <inherits name='com.extjs.gxt.ui.GXT'/>

    <inherits name="com.extjs.gxt.charts.Chart"/>

    <entry-point class='com.messagedna.web.client.controller.Main'/>

    <source path="com.messagedna"></source>

</module> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T11:03:36.943

模块 XML 文件中的源路径看起来不正确。该路径应指向相对于 GWT 模块根目录的包（目录名）。由于您的 GWT 模块根目录是`com.messagedna.web`并且默认源路径是`client`，因此您可以从配置中删除源标记。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:01:44.347

在模块标签中添加这一行`<inherits name="com.google.gwt.user.User" />`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T11:02:13.160

你有入口点类，但它没有被编译，因为你有一个编译器或“链接器”错误，这就是为什么要唠叨最后一种情况，因为它不是入口点。

> [INFO] [ERROR] 提示：以前的编译器错误可能导致此类型不可用 [INFO] [ERROR] 提示：检查模块的继承链；它可能没有继承所需的模块，或者模块可能没有正确添加其源路径条目

因此，请检查其他编译器错误或包含的类路径 jar

# visual-c++ - 未解析的外部符号 mingw_getsp

> ID：15785354
> 
> 赞同：1
> 
> 时间：2013-04-03T10:50:46.763
> 
> 标签：visual-c++, visual-studio-2005, png, mingw, mingw-w64

我已经编译了`libpng`使用 64 位 x86_64-w64-mingw32-gcc 编译器，并`libpng`使用在 64 位 windows 7 平台上编译的 Visual c++ 编写了一个包装器，并使用以下附加库来构建包装器（即 libpng、libzlib、 libgcc)。当我尝试运行可视化 c++ 包装器时，出现以下错误。请任何人帮我解决这个问题。

```
unresolved external symbol mingw_getsp referenced in function read_png.
unresolved external symbol __strtod refernced in function png_handle_sCAL 
```

我的包含文件是这样的

```
#ifdef __cplusplus
extern "C" {
#endif /*  __cplusplus */

#define PNG_BYTES_TO_CHECK 4

#define OK 0
#define UNSUP_IMG_FMT -1
#define ERROR_FILE_READ -2
#define ERROR_CREATE_PNG_STRUCT -3
#define ERROR_CREATE_INFO_STRUCT -4
#define ERROR_SET_JMP -5
#define UNSUP_DEPTH -6
#define UNSUP_COLOR -7
#define UNSUP_INTRLC -8
#define UNSUP_HEIGHT_WIDTH -9

struct fakefile
{
    unsigned char *ptr;
    size_t lim;
};
int check_if_png(char*);
int check_if_pngbuffer(unsigned char *);
int read_png(char*,int*,int*,unsigned char**);
int read_pngbuffer(unsigned char*,int ,int*,int*,unsigned char **);
int write_png(char*,int,int,unsigned char*,int);
int write_pngbuffer(unsigned char**,int*,int,int,unsigned char*,int);

#ifdef __cplusplus
}
#endif /*  __cplusplus */ 
```

我对 32 位 windows xp 做了同样的另一件事，它可以正常工作

首先我编译了 zlib 并创建了 libzlib.lib

```
x86_64-w64-mingw32-gcc -c *.c
x86_64-w64-mingw32-ar rcs libzlib.lib *.o
del *.o 
```

然后我以这种方式创建了libpng

```
x86_64-w64-mingw32-gcc -I ../zlib -c *.c
x86_64-w64-mingw32-ar rcs libpng.lib *.o
del *.o 
```

然后我创建了 pngreadwrite.c 和 pngreadwrite.h 包装器 libpngrw.lib

```
x86_64-w64-mingw32-gcc -I ../zlib -c pngreadwrite.c
x86_64-w64-mingw32-ar rcs libpngrw.lib *.o
del *.o 
```

通过使用以下库，我将尝试创建一个名为 LSpng.lib 的可视化 C++ 静态库。并成功创建了静态库 LSpng。在 64 位 Windows 机器上运行 LSpng.lib 时出现以下错误。

```
“error LNK2019: unresolved external symbol mingw_getsp referenced in function read_png”
“error LNK2001: unresolved external symbol mingw_getsp”
“error LNK2001: unresolved external symbol mingw_getsp”
“error LNK2019: unresolved external symbol  __strtod referenced in function png_handle_sCAL”

LSpng.lib(pngreadwrite.o) : error LNK2001: unresolved external symbol mingw_getsp referenced in function read_png
LSpng.lib(pngread.o) : error LNK2001: unresolved external symbol mingw_getsp
LSpng.lib(pngread.o) : error LNK2001: unresolved external symbol mingw_getsp
LSpng.lib(pngrutil.o) : error LNK2019: unresolved external symbol  __strtod referenced in function png_handle_sCAL 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:25:09.520

您使用 MinGW-64 编译的目标文件假定它们将由（链接到）MinGW 运行时库支持。虽然链接使用一个编译器构建的 C 目标文件可能会在与另一个编译器的运行时链接时偶然发生（这似乎发生在 32 位构建中），但这在一般情况下并不适用。

它在 MinGW 的大部分时间都可以工作，因为它依赖于 Windows 系统 DLL MSVCRT.DLL 来提供大部分运行时支持——但不是 100%。

对于您的 64 位版本，您有：

*   `libpng`函数`png_handle_sCAL()`（来自`pngrutil.c`）想要链接到`__strtod`。但是，VC 库中该函数的符号是​​未修饰的`strtod`. 作为旁注 - 查看源代码，我看不到在哪里`png_handle_sCAL()`打电话`strtod()`。也许你有我下载的不同版本的库。
*   该`read_png`函数（我假设在 中`pngreadwrite.c`）想要链接到`mingw_getsp`- MinGW 库用来帮助实现`setjmp`（可能还有其他东西）的函数。32 位 MinGW 运行时不使用这样的帮助程序 - 它依赖于 MSVCRT 运行时提供`setjmp`支持。显然，VC 运行时中没有`mingw_getsp`函数。

对于符号，我已安装的 64 位 MinGW 的标头中`__strtod()`有此提示：`stdlib.h`

```
/* libmingwex.a provides a c99-compliant strtod() exported as __strtod() */ 
```

因此，您可以`__strtod`通过在您的一组库中加入链接来解决未解决的外部问题。`libmingwex.a`看起来它也有助于`mingw_getsp`解决问题。但也有可能它有自己的一组外部函数，需要一些其他库。

# vb.net - 从 xl 表导入数据后如何将新列添加到数据库

> ID：15785355
> 
> 赞同：1
> 
> 时间：2013-04-03T10:50:55.713
> 
> 标签：vb.net, ms-access-2007

我需要将 xl 表的数据导入数据库，当它保存在 db 中时，我需要向其中添加另一列并保存它。我正在使用以下代码：--------

```
Private Sub cmdImport_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles cmdImport.Click
    Dim _filename As String = txtFile.Text
    'Create connection object for xl sheet
    Dim _conn As String
    _conn = "Provider=Microsoft.ACE.OLEDB.12.0;" & "Data Source=" & _filename & ";" & "Extended Properties=Excel 8.0;"
    Dim _connection As OleDb.OleDbConnection = New OleDb.OleDbConnection(_conn)

    'List columns you need from the Excel file   
    Dim _command As New System.Data.OleDb.OleDbCommand("Select * FROM [Sheet1$]", _connection)

    'open connection for xl sheet
    _connection.Open()

    ' Create DbDataReader to read Data from xl sheet 
    Dim dr As System.Data.OleDb.OleDbDataReader = _command.ExecuteReader()

    'open connection for database to write into it
    cnnOLEDB.Open()
    Dim chal_no As String
    Try
        'reading data from xl sheet utill the last rows
        If dr.HasRows() Then
            While dr.Read()
                'writing the read data from xl sheet into access database
                chalan_no = cmbChal_noImport.Text

                'getting the parameter values from xl sheet to write into access db
                Dim P1 As New OleDb.OleDbParameter
                P1.DbType = DbType.String
                P1.ParameterName = "sr_no"
                P1.Value = dr.GetValue(0)

                'adding the parameters in to the db
                Dim strSql As String = "INSERT INTO Vendor_Machine(sr_no,chalan_no) VALUES (@srno,@chalan_no)"
                Dim cmd As OleDb.OleDbCommand = New OleDb.OleDbCommand(strSql, cnnOLEDB)

                cmd.Parameters.AddRange(New OleDb.OleDbParameter() {P1})
                cmd.Parameters.AddWithValue("@srno", DbType.String)
                cmd.Parameters.AddWithValue("@chalan_no", chalan_no)

                cmd.ExecuteScalar()

            End While

        End If
        MsgBox("Xl sheet Import Complete", MsgBoxStyle.OkOnly)

    Catch ex As Exception

        MsgBox(ex.Message)
        Exit Sub

    Finally

        'closing the access and xl sheet connection
        cnnOLEDB.Close()
        _connection.Close()

    End Try
    'End Using

End Sub 
```

**问题是，它没有显示任何错误，但是在将数据保存到 db 之后，在 chalan_no 列中它显示一个常量“16”。请解决我的问题..谢谢。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:05:00.547

我不确定这段代码是否能解决您的问题。但这比你的要简单一些。

```
Private Sub cmdImport_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles cmdImport.Click
Dim _filename As String = txtFile.Text
'Create connection object for xl sheet
Dim _conn As String
_conn = "Provider=Microsoft.ACE.OLEDB.12.0;" & "Data Source=" & _filename & ";" & "Extended Properties=Excel 8.0;"
Dim _connection As OleDb.OleDbConnection = New OleDb.OleDbConnection(_conn)

'List columns you need from the Excel file   
Dim _command As New System.Data.OleDb.OleDbCommand("Select * FROM [Sheet1$]", _connection)

'open connection for xl sheet
_connection.Open()

' Create DbDataReader to read Data from xl sheet 
Dim dr As System.Data.OleDb.OleDbDataReader = _command.ExecuteReader()

'open connection for database to write into it
cnnOLEDB.Open()
Dim chal_no As String
Try
    'reading data from xl sheet utill the last rows
    If dr.HasRows() Then
        While dr.Read()
            'writing the read data from xl sheet into access database
            chalan_no = cmbChal_noImport.Text

            'getting the parameter values from xl sheet to write into access db
            Dim P1 As New OleDb.OleDbParameter
            'P1.DbType = DbType.String
            'P1.ParameterName = "sr_no"
            'P1.Value = dr.GetValue(0)

            'adding the parameters in to the db
            Dim strSql As String = "INSERT INTO Vendor_Machine(sr_no,chalan_no) VALUES (?,?)"
            Dim cmd As OleDb.OleDbCommand = New OleDb.OleDbCommand(strSql, cnnOLEDB)
            cmd.CommandType = CommandType.Text

             With cmd.Parameters
               .Add("@p1", OleDbType.VarChar).Value =  dr.GetValue(0)
               .Add("@p2", OleDbType.VarChar).Value = cmbChal_noImport.Text
             End With
            ' cmd.Parameters.AddRange(New OleDb.OleDbParameter() {P1})
            'cmd.Parameters.AddWithValue("@srno", DbType.String)
            'cmd.Parameters.AddWithValue("@chalan_no", chalan_no)
            cmd.ExecuteNonQuery()
            'cmd.ExecuteScalar()

        End While

    End If
    MsgBox("Xl sheet Import Complete", MsgBoxStyle.OkOnly)

Catch ex As Exception

    MsgBox(ex.Message)
    Exit Sub

Finally

    'closing the access and xl sheet connection
    cnnOLEDB.Close()
    _connection.Close()

End Try
 'End Using

End Sub 
```

# node.js - 使用 node.js 请求从网络抓取的数据与浏览器中显示的数据不同

> ID：15785360
> 
> 赞同：0
> 
> 时间：2013-04-03T10:51:20.130
> 
> 标签：node.js, request, web-scraping

现在，我正在做一些简单的网络抓取，例如获取一个火车站的当前火车到达/离开信息。这是示例链接[http://www.thetrainline.com/Live/arrivals/chester](http://www.thetrainline.com/Live/arrivals/chester)，您可以通过此链接访问切斯特站当前到达的列车。

我正在使用 node.js 请求模块来做一些简单的网络抓取，

```
app.get('/railway/arrival', function (req, res, next) {
    console.log("/railway/arrival/  "+req.query["city"]);
    var city = req.query["city"];
    if(typeof city == undefined || city == undefined) { console.log("if it undefined"); city ="liverpool-james-street";}
    getRailwayArrival(city,
       function(err,data){
           res.send(data);
        }
       );
});

function getRailwayArrival(station,callback){
   request({
    uri: "http://www.thetrainline.com/Live/arrivals/"+station,
   }, function(error, response, body) {
      var $ = cheerio.load(body);

      var a = new Array();
      $(".results-contents li a").each(function() {
        var link = $(this);
        //var href = link.attr("href");
        var due = $(this).find('.due').text().replace(/(\r\n|\n|\r|\t)/gm,"");    
        var destination = $(this).find('.destination').text().replace(/(\r\n|\n|\r|\t)/gm,"");
        var on_time = $(this).find('.on-time-yes .on-time').text().replace(/(\r\n|\n|\r|\t)/gm,"");
        if(on_time == undefined)  var on_time_no = $(this).find('.on-time-no').text().replace(/(\r\n|\n|\r|\t)/gm,"");
        var platform = $(this).find('.platform').text().replace(/(\r\n|\n|\r|\t)/gm,"");

        var obj = new Object();
        obj.due = due;obj.destination = destination; obj.on_time = on_time; obj.platform = platform;
        a.push(obj);
console.log("arrival  ".green+due+"  "+destination+"  "+on_time+"  "+platform+"  "+on_time_no);       
    });
    console.log("get station data  "+a.length +"   "+ $(".updated-time").text());
    callback(null,a);

  });
} 
```

代码通过给我一个数据列表来工作，但是这些数据与浏览器中看到的数据不同，尽管数据来自同一个 url。我不知道为什么会这样。是不是因为他们的服务器可以区分服务器和浏览器发送的请求，如果请求来自服务器，所以他们给我发送了错误的数据。我怎样才能克服这个问题？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:58:48.313

他们必须存储每个点击事件的会话。意味着如果您第一次访问该页面，它将存储会话并验证该会话以供您执行下一个操作。说，你从下拉列表中选择一些值。对于再次单击，将生成会话的新值，该值将为您选择的组合框值加载数据。然后您单击显示列表，然后验证先前的会话值并获得准确的数据。

现在看，如果您没有以编程方式捕获该会话值并且没有将该请求作为参数传递，您将获得默认加载的数据或没有得到任何东西。因此，聊天数据对您来说具有挑战性。使用萤火虫寻求帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T14:43:59.670

这里的另一个问题可能是生成的内容是通过在您的机器上运行的 JavaScript 发生的。jsdom 是一个提供此类内容但不是轻量级的模块。

Cheerio 不执行这些脚本，因此内容可能不可见（正如您所遇到的那样）。这是我前段时间读到的一篇文章，也让我有同样的发现，直接打开文章搜索“jsdom 更强大”即可快速获得答案：

[http://encosia.com/cheerio-faster-windows-friendly-alternative-jsdom/](http://encosia.com/cheerio-faster-windows-friendly-alternative-jsdom/)

# python - 有人可以解释音译的工作原理吗？

> ID：15785365
> 
> 赞同：-1
> 
> 时间：2013-04-03T10:51:40.440
> 
> 标签：python, django, translate, transliteration

我是编程新手，我正在尝试理解音译——比如允许用户从一种语言输入到另一种语言的谷歌输入工具。

音译是如何工作的？具体来说，如果我要从英语翻译成印地语或从英语翻译成俄语，我是否需要合并一本英语、印地语和俄语单词词典？

有谁知道任何教程显示如何编写音译代码？我试过搜索，但没有运气。

此外，代码是否必须在 JavaScript/JQuery（客户端代码）中？我的项目是 Python/django。我可以在 python/dgango 中编写音译代码吗？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T12:26:13.200

由于语法差异和惯用句的存在，直接字典到字典的自动翻译产生较差的结果。根据我的经验，python 的起点应该是**NLTK**（自然语言工具包）[库](http://nltk.org/)和[教程](http://nltk.org/book/)。

然后，尝试为您提供一个工作示例，您可以从这里开始：

*   [在 NLTK 中使用 babelize_shell() 进行机器翻译](https://stackoverflow.com/questions/12267544/machine-translation-using-babelize-shell-in-nltk)
*   [用 Python 翻译人类语言](https://stackoverflow.com/questions/1316386/translating-human-languages-in-python)
*   [谷歌是你的朋友](https://www.google.com/search?q=machine%20translation%20python)
*   [必应是你的朋友](http://bing.com/search?q=machine%20translation%20python)

javascript/jquery 的使用取决于您计划的 UI，也许您想在按下几个键后触发自动翻译，`onblur`或者`onchange`在`input`标签中但与翻译本身无关。

翻译的过程也非常消耗资源，所以我不鼓励你在 django 视图中进行。我的建议是不要重新发明轮子，而是使用一些已经存在的 API，比如 google 或 bing。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T23:20:06.010

我发现更好的搜索词是**输入法编辑器**而不是音译。

github 上有一个项目：[https](https://github.com/wikimedia/jquery.ime) ://github.com/wikimedia/jquery.ime 在这里处理 IME 和音译。

我希望这对某人有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-02-18T05:53:47.883

实现音译的典型方式是使用映射字典。[在CyrTranslit](https://github.com/opendatakosovo/cyrillic-transliteration) Python 包的[mapping.py](https://github.com/opendatakosovo/cyrillic-transliteration/blob/master/cyrtranslit/mapping.py)文件中可以看到一个示例。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-01-08T16:41:56.923

单词翻译使用数据库将英语单词转换为印地语单词。一些应用程序基于此概念，例如：

[英语到印地语词典](https://play.google.com/store/apps/details?id=com.hindi.dictionary)

# sql - 将维度 ID 连接到事实表

> ID：15785374
> 
> 赞同：0
> 
> 时间：2013-04-03T10:52:17.997
> 
> 标签：sql, sql-server, database, case

我目前正在填充事实表。我已经填充了维度表。`time`我已经填充了事实表 ( , )中的两列，`abandoned`但我正在努力填充第三维键，这是`call type`键。这样做的原因是要计算出许多属性来计算密钥。

维度表用于调用工作类型。它有三列，它们是：

```
 CallWorkTypeID - CallWorkTypeCode - CallWorkTypeName. 
```

示例值为

```
 1 - OutAttemp - Outbound Attempt 
```

我遇到的问题是计算呼叫类型名称，这是一个计算名称的示例代码，例如，它选择出站尝试呼叫。

```
SELECT * from outgoing_measure om 
WHERE om.CTICallType_ID = 3
AND om.CTIAgentCallType_ID = 1
AND om.Abandoned  = 1
AND om.AnsTime IS NULL
AND om.CallState IS NULL 
```

有 19 种不同的场景，它们具有相同的列，但每种调用类型的值都在变化。

有人有什么想法吗？我认为可能是 CASE 语句，但不确定代码如何在连接上工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T12:58:32.213

如果您还没有映射表或规则表来帮助您，那么 CASE 语句非常适用。如果您的维度成员已放入维度表中，则无需进行任何联接。你可以把它们放在箱子里。

```
UPDATE f
set thirddimensionforeignkey = CASE
WHEN (cticalltype = 3 and all that other stuff is true) THEN 1
WHEN (some other stuff is true) THEN 2
WHEN (rest of the stuff is true) THEN 19
--ELSE unknownmember
END
FROM yourfacttable as f 
```

# android - 如何从资产文件读取的 xml 数据动态创建可点击的文本视图？

> ID：15785379
> 
> 赞同：0
> 
> 时间：2013-04-03T10:52:41.353
> 
> 标签：android, xml, eclipse, textview, clickable

我现在已经完成了我的家庭作业。

我有一个应用程序读取包含条目的资产 xml 文件，其中第一个字段以大写字母开头。

我阅读了 xml，我想动态创建 CLICKABLE 文本视图，以便我可以显示按首字母分组的其余数据。

我在这里包含了我的应用程序中的所有相关文件。

该应用程序现在所做的只是使用 Log.v 显示我确实读取了我需要的所有数据。

我故意让 layout.xml 几乎是空的。我确实想动态创建文本视图。

任何人都可以为我编写其余的代码！

我希望您为我做的或向我展示的是如何——我想当我阅读 XML 文件时——为我在字段中找到的每个新字母动态创建一个可点击的 textView 并将其显示在布局中...

清单文件：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.barebonesxmlread"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="17" />

    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name="com.example.barebonesxmlread.MainActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest> 
```

布局（activity_main.xml）：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:paddingBottom="@dimen/activity_vertical_margin"
    android:paddingLeft="@dimen/activity_horizontal_margin"
    android:paddingRight="@dimen/activity_horizontal_margin"
    android:paddingTop="@dimen/activity_vertical_margin"
    tools:context=".MainActivity" >

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/hello_world" />

            <LinearLayout
                android:id="@+id/linearLayout1"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical" />

</RelativeLayout> 
```

资产 order.xml（我为您省去了 558 条原始记录的完整长度！）：

```
<germany_licence_plates>
<licence_plate><abbrev>A</abbrev><full_name>Augsburg</full_name><land_name>Bayern</land_name></licence_plate>
<licence_plate><abbrev>AA</abbrev><full_name>Aalen Ostalbkreis</full_name><land_name>Baden-Wuerttemberg</land_name></licence_plate>
<licence_plate><abbrev>AB</abbrev><full_name>Aschaffenburg</full_name><land_name>Bayern</land_name></licence_plate>
<licence_plate><abbrev>B</abbrev><full_name>Berlin</full_name><land_name>Berlin</land_name></licence_plate>
<licence_plate><abbrev>BA</abbrev><full_name>Bamberg</full_name><land_name>Bayern</land_name></licence_plate>
<licence_plate><abbrev>BAD</abbrev><full_name>Baden-Baden</full_name><land_name>Baden-Wuerttemberg</land_name></licence_plate>
<licence_plate><abbrev>BAR</abbrev><full_name>Barnim</full_name><land_name>Brandenburg</land_name></licence_plate>
<licence_plate><abbrev>BB</abbrev><full_name>Boeblingen</full_name><land_name>Baden-Wuerttemberg</land_name></licence_plate>
<licence_plate><abbrev>C</abbrev><full_name>Chemnitz</full_name><land_name>Sachsen</land_name></licence_plate>
<licence_plate><abbrev>CA</abbrev><full_name>Calau</full_name><land_name>Brandenburg</land_name></licence_plate>
<licence_plate><abbrev>CB</abbrev><full_name>Cottbus</full_name><land_name>Brandenburg</land_name></licence_plate>
<licence_plate><abbrev>CE</abbrev><full_name>Celle</full_name><land_name>Niedersachsen</land_name></licence_plate>
<licence_plate><abbrev>DU</abbrev><full_name>Duisburg</full_name><land_name>Nordrhein-Westfalen</land_name></licence_plate>
<licence_plate><abbrev>DUW</abbrev><full_name>Bad Duerkheim / Neustadt/Weinstrasse</full_name><land_name>Rheinland-Pfalz</land_name></licence_plate>
<licence_plate><abbrev>DW</abbrev><full_name>Dippoldiswalde-Weisseritzkreis</full_name><land_name>Sachsen</land_name></licence_plate>
<licence_plate><abbrev>DZ</abbrev><full_name>Delitzsch</full_name><land_name>Sachsen</land_name></licence_plate>
<licence_plate><abbrev>ES</abbrev><full_name>Esslingen/Neckar</full_name><land_name>Baden-Wuerttemberg</land_name></licence_plate>
<licence_plate><abbrev>ESA</abbrev><full_name>Eisenach</full_name><land_name>Thueringen</land_name></licence_plate>
<licence_plate><abbrev>ESW</abbrev><full_name>Werra-Meissner-Kreis / Eschwege</full_name><land_name>Hess</land_name></licence_plate>
<licence_plate><abbrev>EU</abbrev><full_name>Euskirchen</full_name><land_name>Nordrhein-Westfalen</land_name></licence_plate>
<licence_plate><abbrev>EW</abbrev><full_name>Eberswalde</full_name><land_name>Brandenburg</land_name></licence_plate>
<licence_plate><abbrev>F</abbrev><full_name>Frankfurt/Main</full_name><land_name>Hess</land_name></licence_plate>
<licence_plate><abbrev>FB</abbrev><full_name>Wetteraukreis / Friedberg</full_name><land_name>Hess</land_name></licence_plate>
<licence_plate><abbrev>FD</abbrev><full_name>Fulda</full_name><land_name>Hess</land_name></licence_plate>
<licence_plate><abbrev>GU</abbrev><full_name>Guestrow</full_name><land_name>Mecklenburg-Vorpommern</land_name></licence_plate>
<licence_plate><abbrev>GUB</abbrev><full_name>Guben</full_name><land_name>Brandenburg</land_name></licence_plate>
<licence_plate><abbrev>GVM</abbrev><full_name>Grevesmuehlen</full_name><land_name>Mecklenburg-Vorpommern</land_name></licence_plate>
<licence_plate><abbrev>GW</abbrev><full_name>Greifswald/Landkreis</full_name><land_name>Mecklenburg-Vorpommern</land_name></licence_plate>
<licence_plate><abbrev>GZ</abbrev><full_name>Guenzburg</full_name><land_name>Bayern</land_name></licence_plate>
<licence_plate><abbrev>WT</abbrev><full_name>Waldshut-Tiengen</full_name><land_name>Baden-Wuerttemberg</land_name></licence_plate>
<licence_plate><abbrev>WTM</abbrev><full_name>Wittmund</full_name><land_name>Niedersachsen</land_name></licence_plate>
<licence_plate><abbrev>WU</abbrev><full_name>Wuerzburg</full_name><land_name>Bayern</land_name></licence_plate>
<licence_plate><abbrev>WUG</abbrev><full_name>Weissenburg-Gunzenhausen</full_name><land_name>Bayern</land_name></licence_plate>
<licence_plate><abbrev>WUN</abbrev><full_name>Wunsiedel</full_name><land_name>Bayern</land_name></licence_plate>
<licence_plate><abbrev>WUR</abbrev><full_name>Wurzen</full_name><land_name>Sachsen</land_name></licence_plate>
<licence_plate><abbrev>WW</abbrev><full_name>Westerwald / Montabaur</full_name><land_name>Rheinland-Pfalz</land_name></licence_plate>
<licence_plate><abbrev>WZL</abbrev><full_name>Wanzleben</full_name><land_name>Sachsen-Anhalt</land_name></licence_plate>
<licence_plate><abbrev>X</abbrev><full_name>Bundeswehr fuer NATO-Hauptquartiere</full_name><land_name>Special</land_name></licence_plate>
<licence_plate><abbrev>Y</abbrev><full_name>Bundeswehr</full_name><land_name>Special</land_name></licence_plate>
<licence_plate><abbrev>Z</abbrev><full_name>Zwickauer Land</full_name><land_name>Sachsen</land_name></licence_plate>
<licence_plate><abbrev>ZE</abbrev><full_name>Zerbst</full_name><land_name>Sachsen-Anhalt</land_name></licence_plate>
<licence_plate><abbrev>ZI</abbrev><full_name>Saechsischer Oberlausitzkreis Zittau</full_name><land_name>Sachsen</land_name></licence_plate>
<licence_plate><abbrev>ZP</abbrev><full_name>Zschopau</full_name><land_name>Sachsen</land_name></licence_plate>
<licence_plate><abbrev>ZR</abbrev><full_name>Zeulenroda</full_name><land_name>Thueringen</land_name></licence_plate>
<licence_plate><abbrev>ZS</abbrev><full_name>Zossen</full_name><land_name>Brandenburg</land_name></licence_plate>
<licence_plate><abbrev>ZW</abbrev><full_name>Zweibruecken</full_name><land_name>Rheinland-Pfalz</land_name></licence_plate>
<licence_plate><abbrev>ZZ</abbrev><full_name>Zeitz</full_name><land_name>Sachsen-Anhalt</land_name></licence_plate>
</germany_licence_plates> 
```

mainActivity.java：

```
package com.example.barebonesxmlread;

import java.io.InputStream;
import java.util.ArrayList;

import javax.xml.parsers.SAXParser;
import javax.xml.parsers.SAXParserFactory;

import org.xml.sax.InputSource;
import org.xml.sax.XMLReader;

import com.example.barebonesxmlread.GermanyPlatesInfo;
import com.example.barebonesxmlread.OrderXMLHandler;
import com.example.barebonesxmlread.R;

import android.os.Bundle;
import android.app.Activity;
import android.content.res.AssetManager;
import android.util.Log;
import android.view.Menu;
import android.widget.LinearLayout;
import android.widget.TextView;

public class MainActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        parseXML();
        setContentView(R.layout.activity_main);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.main, menu);
        return true;
    }

    private void parseXML()
    {
        AssetManager assetManager = getBaseContext().getAssets();
        try {
              InputStream is = assetManager.open("order.xml");
              SAXParserFactory spf = SAXParserFactory.newInstance();
               SAXParser sp = spf.newSAXParser();
               XMLReader xr = sp.getXMLReader();

               OrderXMLHandler myXMLHandler = new OrderXMLHandler();
               xr.setContentHandler(myXMLHandler);
               InputSource inStream = new InputSource(is);
               xr.parse(inStream);

               ArrayList<GermanyPlatesInfo> plateList = myXMLHandler.getCartList();
               int i = 0;
               for(GermanyPlatesInfo germanyPlatesInfo: plateList)
               {
                   Log.v("Data", ++i + ": " + germanyPlatesInfo.seqNo + ": "  + germanyPlatesInfo.getItemNumber() + " - " + germanyPlatesInfo.getLandName());
               } // end of do all plates
                is.close();     
            } // end of try
            catch (Exception e)
            {
                Log.v("JPB catch in parseXML", e.getMessage(), e);
            } // end of catch
    } // end of parseXML function
} 
```

orderHandler.java：

```
package com.example.barebonesxmlread;

import java.util.ArrayList;

import org.xml.sax.Attributes;
import org.xml.sax.SAXException;
import org.xml.sax.helpers.DefaultHandler;

public class OrderXMLHandler extends DefaultHandler {

 boolean currentElement = false;
 String currentValue = "";

 GermanyPlatesInfo germanyPlatesInfo;
 ArrayList<GermanyPlatesInfo> plateList;

 public ArrayList<GermanyPlatesInfo> getCartList() {
  return plateList;
 }

 public void startElement(String uri, String localName, String qName,
   Attributes attributes) throws SAXException {

  currentElement = true;

  if (qName.equals("germany_licence_plates")){
   plateList = new ArrayList<GermanyPlatesInfo>();
  } 
  else if (qName.equals("licence_plate")) {
   germanyPlatesInfo = new GermanyPlatesInfo();
  }

 }

 public void endElement(String uri, String localName, String qName)
 throws SAXException {

  currentElement = false;

  if (qName.equalsIgnoreCase("abbrev"))
   germanyPlatesInfo.setSeqNo(currentValue.trim());
  else if (qName.equalsIgnoreCase("full_name"))
   germanyPlatesInfo.setItemNumber(currentValue.trim());
  else if (qName.equalsIgnoreCase("land_name"))
   germanyPlatesInfo.setLandName(currentValue.trim());
  else if (qName.equalsIgnoreCase("Price"))
   germanyPlatesInfo.setPrice(currentValue.trim());
  else if (qName.equalsIgnoreCase("licence_plate"))
   plateList.add(germanyPlatesInfo);

  currentValue = "";
 }

 public void characters(char[] ch, int start, int length)
 throws SAXException {

  if (currentElement) {
   currentValue = currentValue + new String(ch, start, length);
  }

 }

} 
```

德国PlatesInfo.java：

```
package com.example.barebonesxmlread;

public class GermanyPlatesInfo {

 String seqNo = null;
 String itemNumber = "";
 String land_name = "";
 String price = "";

 public String getSeqNo() {
  return seqNo;
 }
 public void setSeqNo(String seqNo) {
  this.seqNo = seqNo;
 }
 public String getItemNumber() {
  return itemNumber;
 }
 public void setItemNumber(String itemNumber) {
  this.itemNumber = itemNumber;
 }
 public String getLandName() {
  return land_name;
 }
 public void setLandName(String land_name) {
  this.land_name = land_name;
 }
 public String getPrice() {
  return price;
 }
 public void setPrice(String price) {
  this.price = price;
 }

} 
```

字符串.xml：

```
<?xml version="1.0" encoding="utf-8"?>
<resources>

    <string name="app_name">bareBonesXMLRead</string>
    <string name="action_settings">Settings</string>
    <string name="hello_world">Barebones XML Read!</string>

</resources> 
```

我是不是忘了什么！问！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T11:02:11.007

您需要根据包含已解析数据的数组列表的大小创建循环。在这里创建动态文本视图是代码：

```
for (int i = 0; i < Tel.size(); i++) {

                final TextView phone = new TextView(context);
                phone.setTextAppearance(context,
                        android.R.style.TextAppearance_Medium);
                phone.setText(Tel.get(i));
                phone.setTypeface(Typeface.DEFAULT);
                phone.setTextColor(Color.BLUE);
                phone.setPaintFlags(phone.getPaintFlags()
                        | Paint.UNDERLINE_TEXT_FLAG);

                phone.setOnClickListener(new OnClickListener() {

                    @Override
                    public void onClick(View v) {

                        Call(phone.getText().toString());

                    }
                });

                InfoContainer.addView(phone);

            } 
```

Tel 是包含所有电话号码的数组列表。InfoContainer 是我的父线性布局，我在其中添加这些动态创建的文本视图。

# javascript - 循环遍历多值数组

> ID：15785380
> 
> 赞同：1
> 
> 时间：2013-04-03T10:52:44.393
> 
> 标签：javascript, jquery, arrays, string, object

首先抱歉，如果我的术语有误，如果是的话，请您纠正我吗？

我正在尝试遍历以下 javascript 数组。

```
 var pieData2 = [
            {
                label: 'wow',
                value: 30,
                color:"#F38630"
            },
            {
                label: 'wow2',
                value : 10,
                color : "#E0E4CC"
            },
            {
                label: 'wow3',
                value : 100,
                color : "#69D2E7"
            }

        ]; 
```

我正在尝试将标签和颜色写入单独的 div。我尝试了以下概念，但没有找到。

```
 $.each( pieData2[0], function( key, value ) {
       alert( key + ": " + value );
         }); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-03T11:00:29.310

该`jQuery.each()`函数旨在迭代集合，例如数组中的元素或对象的属性。在您的情况下，它正在迭代一个对象数组。在您的代码中，`pieData2`是您的数组，因此您希望将其作为第一个参数传递给`$.each()`. 第二个参数是一个处理每次迭代的函数，它有两个参数：`index`and `value`（尽管你可以随意命名它们）。

```
$.each(pieData2, function(index, value) {
    // index will be 0, 1, 2
    // value will be equivalent to pieData2[0], pieData2[1], pieData2[2]
    console.log(value.label); // outputs wow, wow2, wow3
}); 
```

正如在另一个答案中使用的那样，您还可以使用`this`关键字来引用该迭代正在查看的元素，因此`this`和`value`上面的代码是相同的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-03T10:57:44.607

[http://jsfiddle.net/X5r8r/1119/](http://jsfiddle.net/X5r8r/1119/)

```
var pieData2 = [
            {
                label: 'wow',
                value: 30,
                color:"#F38630"
            },
            {
                label: 'wow2',
                value : 10,
                color : "#E0E4CC"
            },
            {
                label: 'wow3',
                value : 100,
                color : "#69D2E7"
            }

        ];

$.each( pieData2, function( key, value ) {
    alert( key + ": " + value['label'] +"  value: " + value['value']);
         }); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-03T10:55:30.813

每个都很好，但是您需要遍历 pieData2 而不是 pieData2 的第一个元素...

```
 $.each( pieData2, function() {
          alert( this.label + ": " + this.value );
     }); 
```

[http://jsfiddle.net/3anAJ/](http://jsfiddle.net/3anAJ/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-03T10:57:04.470

试试这个

```
$.each( pieData2, function(index) {
    alert("label = " +pieData2[index].label+ " color = " +pieData2[index].color);
}); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-03T10:57:26.230

为此，您不需要 jQuery。在确实不需要 jQuery 的情况下，我真的不建议这样做。在那个时候，它只是有点没有意义。尽可能使用常规 JS，在需要时使用 jQuery。

```
for (var i = 0; i < pieData2.length; i++) {
    alert(pieData2[i].label + ' : ' + pieData2[i].value);
} 
```

如果你真的想使用 jQuery，因为`$.each`可以迭代数组和对象，你可以使用它来迭代数组并提醒每个。

这将遍历数组中的每个对象并提醒每个键、值对...

```
$.each(pieData2, function (key, obj) {
    alert(obj.label + ' : ' + obj.value);
}); 
```

如果您需要遍历数组和每个对象（如果您不知道长度），那么您可以这样做：

```
for (var i = 0; i < pieData2.length; i++) {
    for (var prop in pieData2[i]) {
        if (pieData2[i].hasOwnProperty(prop)) {
            alert(prop + ' : ' + pieData2[i][prop]);
        }
    }
} 
```

或者

```
$.each(pieData2, function(obj) {
    $.each(pieData2[obj], function(key, value) {
        alert(key + ' : ' + value);
    });
}); 
```

# android - 创建没有背景活动的android窗口

> ID：15785382
> 
> 赞同：0
> 
> 时间：2013-04-03T10:52:50.510
> 
> 标签：android, dialog, popup

我正在寻找一种创建包含按钮的 android 窗口的方法，该窗口应该很小，但我希望它不包含父活动。
所以，如果启动器打开并启动应用程序，背面将是启动器，并且仍然可以使用..（所以透明活动不好）..
我看到对话框和弹出窗口是选项，可以用任何一个来完成他们？还有其他 API 吗？
谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T12:03:17.530

[StandOut](https://github.com/pingpongboss/StandOut)是一个第三方库，可让您创建浮动窗口并且创建它们相当容易。GitHub 页面上的示例很少，因此您应该查看它们

# jquery - Jquery 手风琴在 IE7,8 版本中不起作用

> ID：15785385
> 
> 赞同：0
> 
> 时间：2013-04-03T10:52:59.890
> 
> 标签：jquery, jquery-ui

我正在使用最新的 jQuery UI - v1.10.2；手风琴功能在 IE 7、8 版本中无法正常工作，而是在所有其他浏览器甚至 IE 9 中都能正常工作。
使用我的 div id 调用手风琴`"accordion1"`如下：

```
$( "#accordion1" ).accordion(); 
```

这给了我 IE 7,8 中的错误`(SCRIPT87: Invalid argument)`。
谁能帮我解决这个问题..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T12:14:44.347

```
Hmm....finally i got the answer..!
I've upgraded the jquery file to 1.8.3 version..that made to work perfectly in the IE 7 & 8 also 
```

# java - Apache POI setPrintArea 为 A4 页面大小

> ID：15785386
> 
> 赞同：6
> 
> 时间：2013-04-03T10:53:09.730
> 
> 标签：java, excel, apache-poi, xls

我正在使用 Apache POI API 来生成 .xls 文件，并且我想设置文件的 printArea。

我知道有一个被调用`setPrintArea()`的函数，但是这个函数作为参数接收我的打印区域的开始和结束行和列。

我想知道，是否有办法为每张 A4 纸（210mmx290mm）大小的纸张设置打印区域

谢谢。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-03T16:32:14.187

对于`Sheet`工作簿中的每个，获取它的`PrintSetup`对象并调用[`setPaperSize`](http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/PrintSetup.html#setPaperSize(short))它，传递适当的`PrintSetup`常量：`A4_PAPERSIZE`。

```
mySheet.getPrintSetup().setPaperSize(PrintSetup.A4_PAPERSIZE); 
```

# html - 另一个文件夹中的 CSS 图像

> ID：15785390
> 
> 赞同：8
> 
> 时间：2013-04-03T10:53:20.063
> 
> 标签：html, css

我将图像添加到名为“images”的文件夹中，并将 CSS 添加到名为“css”的文件夹中，现在我想使用“images”文件夹中的图像。我该怎么做呢？当我使用它时，它们没有出现：

```
background: url('/images/bg.jpg'); 
```

我也试过这些：

```
background: url('../images/bg.jpg');
background: url('../../images/bg.jpg'); 
```

我应该使用什么路径来访问我的图像？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-04-03T11:00:58.713

如果您的文件夹结构如下：

```
/public_html/
    /css/
    /images/
    /index.html 
```

然后你的 CSS 应该可以工作了。

> *   以“/”开头返回根目录并从那里开始
> *   以“../”开头的目录向后移动一个目录并从那里开始
> *   以“../../”开始向后移动两个目录并从那里开始（等等......）向前移动，只需从第一个
>     子目录开始并继续向前移动

在这里阅读更多：http: [//css-tricks.com/quick-reminder-about-file-paths/](http://css-tricks.com/quick-reminder-about-file-paths/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-03T10:58:31.123

这是回答的相同问题[https://stackoverflow.com/questions/940451/using-relative-url-in-css-file-what-l‌​ocation-is-it-relative-to](https://stackoverflow.com/questions/940451/using-relative-url-in-css-file-what-l%E2%80%8C%E2%80%8Bocation-is-it-relative-to)。

[这是来自答案http://www.w3.org/TR/REC-CSS1/#url](http://www.w3.org/TR/REC-CSS1/#url)的 W3C 规范

换句话说，它依赖于文件夹结构，正如**Sport Billy**在您的帖子下评论的那样。

我希望它有帮助

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-03T10:56:08.623

当您使用背景图像时，请确保您也为包含图像的容器提供宽度和高度。

# sql - 大于某个数sql

> ID：15785393
> 
> 赞同：1
> 
> 时间：2013-04-03T10:53:25.627
> 
> 标签：sql, sql-server-2005, date, select, count

我需要进行一个将显示以下内容的 sql 查询：

'截至当前日期超过 90 天的活跃帐户总数'

日期来自一个 sql 查询，它是这样的：

```
select date from currentdatetable 
```

现在我的查询是计算来自 accounttable 的所有活动帐户，所以我的查询如下所示：

```
select count(*) from accountstable 
```

我的问题是如何声明 accounttable 中的日期比 currentdatetable 的日期早 90 天？

我当前的代码：

```
select count(*) from accountstable at where at.date > (select date from currentdatetable) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:57:01.340

```
select count(*) from accountstable at where at.date > (select dateadd(day, -90,date) from currentdatetable) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:07:19.810

使用 MS SQL-Server，您可以使用[`DATEADD`](http://msdn.microsoft.com/en-us/library/ms186819.aspx)+ [`DATEDIFF`](http://msdn.microsoft.com/en-us/library/ms189794.aspx)：

```
SELECT Count = Count(*),
       Date = (SELECT TOP 1 [date] 
               FROM   currentdatetable)
FROM   accountstable a 
WHERE  Datediff(dd, a.[date], (SELECT TOP 1 [date] 
                               FROM   currentdatetable)) > 90 
```

[**演示**](http://www.sqlfiddle.com/#!3/2b408/10/0)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-03T10:57:10.440

您可以只选择更大的日期来优化上层答案：

select count(*) from accounttable at where at.date > (select TOP 1 dateadd(day, -90,date) from currentdatetable ORDER BY date DESC)

# jquery - Jquery Ajax 响应在 safari 中不起作用..但其他浏览器工作正常..这里有什么错误？

> ID：15785404
> 
> 赞同：-4
> 
> 时间：2013-04-03T10:54:24.110
> 
> 标签：jquery, ajax

```
$.ajax({
        url:'ajax.php?action=wordFind&word='+arrString,
        cache: true,
        type: "GET",
        success:function(res){
              if(res=="find") { }
        }
    }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:01:34.377

```
$.ajax({
        url:'ajax.php?action=wordFind&word='+arrString,
        cache: true,
        async:false,
        dataType:html,//If the response is json replace it with "json"
        type: "GET",
        success:function(res){
           console.log(res);//To check you are getting any reponse
           if(res=="find")
               {
                //Do the stuff you want.
               }
            }
    }); 
```

# sql-server-2008 - 删除表中的所有约束

> ID：15785405
> 
> 赞同：24
> 
> 时间：2013-04-03T10:54:27.567
> 
> 标签：sql-server-2008, constraints

我正在尝试编写删除约束的脚本。

我有以下功能来选择我的数据库中的约束

```
SELECT  name
    FROM sys.foreign_keys 
```

我已经使用上述脚本编写了更改脚本

```
SELECT 
    'ALTER TABLE ' + OBJECT_NAME(parent_object_id) + 
    ' DROP CONSTRAINT ' + name
FROM sys.foreign_keys 
```

使用上述查询如何执行这些约束？

我可以使用`DROP DATABASE DBName`. 但我只是想通过删除约束来删除表格。

不去SP有可能吗？或者我可以继续的任何简单方法？

* * *

## 回答 #1

> 赞同：47
> 
> 时间：2013-04-03T11:37:36.697

好吧，您总是可以从底部窗格复制输出，将其粘贴到顶部窗格中，然后按 F5。或者你可以构建一个字符串直接执行：

```
DECLARE @sql NVARCHAR(MAX) = N'';

SELECT @sql += N'
ALTER TABLE ' + QUOTENAME(OBJECT_SCHEMA_NAME(parent_object_id))
    + '.' + QUOTENAME(OBJECT_NAME(parent_object_id)) + 
    ' DROP CONSTRAINT ' + QUOTENAME(name) + ';'
FROM sys.foreign_keys;

PRINT @sql;
-- EXEC sp_executesql @sql; 
```

（当您对输出感到满意时，将`PRINT`其注释掉并取消注释`EXEC`。请注意，在 Management Studio 中打印输出将被截断为 8K，但该变量确实包含整个命令。）

另外，我不知道这与您是否使用存储过程有什么关系，或者为什么要尝试“不使用 SP”... 这个查询可以作为存储过程运行，或者不是，这完全取决于您调用它的频率、程序所在的位置等。

* * *

## 回答 #2

> 赞同：28
> 
> 时间：2014-04-07T13:58:13.790

这在 SQL Server 2008 中对我有用：

```
DECLARE @SQL NVARCHAR(MAX) = N'';

SELECT @SQL += N'
ALTER TABLE ' + OBJECT_NAME(PARENT_OBJECT_ID) + ' DROP CONSTRAINT ' + OBJECT_NAME(OBJECT_ID) + ';' 
FROM SYS.OBJECTS
WHERE TYPE_DESC LIKE '%CONSTRAINT' AND OBJECT_NAME(PARENT_OBJECT_ID) = 'YOUR_TABLE';

PRINT @SQL
--EXECUTE(@SQL) 
```

当然，取消注释`EXECUTE(@SQL)`when ready to run

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2018-02-12T19:23:02.040

正确标记的问题对我不起作用。但这在 SQL Server 2017 中对我有用：

```
DECLARE @sql NVARCHAR(MAX) = N'';

SELECT @sql += N'
ALTER TABLE ' + QUOTENAME(OBJECT_SCHEMA_NAME(parent_object_id))
    + '.' + QUOTENAME(OBJECT_NAME(parent_object_id)) +
    ' DROP CONSTRAINT ' + QUOTENAME(name) + ';'
FROM sys.objects
WHERE type_desc LIKE '%CONSTRAINT'
    AND OBJECT_NAME(PARENT_OBJECT_ID) LIKE 'your_table_name';

EXEC sp_executesql @sql; 
```

# php - JS中的动态选择选项

> ID：15785409
> 
> 赞同：2
> 
> 时间：2013-04-03T10:54:36.780
> 
> 标签：php, javascript, html

我有一个由 JS 创建的日期 SELECT/OPTION。

代码工作正常，但是当这个文件发布到不同的页面时。当我从浏览器单击后退按钮或将其发回时，SELECT 没有保留该值。日期和年份变为空白。复制代码并在浏览器中尝试，您就会明白我的意思。

有什么建议吗？

```
<script>
function populate(s1, s2){
    var s1=document.getElementById(s1);
    var s2=document.getElementById(s2);
    s2.innerHTML="";

    if(s1.value==""){
        var optionArray=['|Day'];
    }
    else if(s1.value=="01" || s1.value=="03" || s1.value=="05" || s1.value=="07" || s1.value=="08" || s1.value=="10" || s1.value=="12"){
        var optionArray=['|Day'<?PHP for($d=1; $d<32; $d++){echo ", '$d|$d'";}?>];
    }
    else if(s1.value=="04" || s1.value=="06" || s1.value=="09" || s1.value=="11"){
        var optionArray=['|Day'<?PHP for($d=1; $d<31; $d++){echo ", '$d|$d'";};?>];
    }
    else if(s1.value=="02"){
        var optionArray=['|Day'<?PHP for($d=1; $d<30; $d++){echo ", '$d|$d'";};?>];
    }

    for(var option in optionArray){
        var pair=optionArray[option].split("|");
        var newOption=document.createElement("option");
        newOption.value=pair[0];
        newOption.innerHTML=pair[1];
        s2.options.add(newOption);
    }
}

function populate_year(s2, s3){
    var s2=document.getElementById(s2);
    var s3=document.getElementById(s3);
    s3.innerHTML="";

    if(s2.value==""){
        var optionArray=['|Year'];
    }
    else if(s2.value=="29"){
        var optionArray=['|Year'<?PHP for($y=1936; $y<2013; $y=$y+4){echo ", '$y|$y'";};?>];
    }
    else if(s2.value!=="29"){
        var optionArray=['|Year'<?PHP for($y=1933; $y<2013; $y++){echo ", '$y|$y'";};?>];
    }

    for(var option in optionArray){
        var pair=optionArray[option].split("|");
        var newOption=document.createElement("option");
        newOption.value=pair[0];
        newOption.innerHTML=pair[1];
        s3.options.add(newOption);
    }
}
</script>

<select id="s1" onchange="populate(this.id, 's2')" name="month" style="width:80px; font-family:arial;">
    <option value="">Month</option>
    <option value="01">Jan</option>
    <option value="02">Feb</option>
    <option value="03">Mar</option>
    <option value="04">Apr</option>
    <option value="05">May</option>
    <option value="06">Jun</option>
    <option value="07">Jul</option>
    <option value="08">Aug</option>
    <option value="09">Sep</option>
    <option value="10">Oct</option>
    <option value="11">Nov</option>
    <option value="12">Dec</option>
</select>

    <select id="s2" onchange="populate_year(this.id, 's3')" name="day" style="width:65px; font-family:arial;">
        <option value="">Day</option>
    </select>

    <select id="s3" name="Year" style="width:80px; font-family:arial;">
        <option value="">Year</option>
    </select> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T14:29:26.017

问题是日期和年份的html是动态生成的，因此最后选择的索引的值无法注入选择框（因为尚未制作选择框）。

我有两个建议：

1）我不会动态填充每个选择选项。对于三种不同类型的日期选择（30 天、31 天和二月）中的每一种，DOM 中可能有 3 个选择框。选择月份时执行的 JavaScript 不会*填充*选择框，但会显示相应天数的选择框并隐藏其他两个选择框。默认情况下，它们都将被隐藏。然后，您将为年份选择框重复类似的操作。

2）如果您*必须*动态生成您的内容，我会尝试将选定的索引存储在本地存储中（或其他任何您喜欢的方式）。例如，如果有人选择 2012 年 1 月 23 日.. 将其存储在本地存储中。这可能看起来像这样：

```
localStorage['dateSelect'] = '01|23|2012'; 
```

这只是你可以做的一个例子。然后，您可以在页面加载时从中读取。

```
var selectedMonth;
var selectedDay;
var selectedYear;
if (localStorage['dateSelect']) {
    var storage = localStorage['dateSelect'].split('|');
    selectedMonth = storage[0];
    selectedDay = storage[1];
    selectedYear = storage[2];
} 
```

如果您需要更多帮助，请告诉我 :)

祝你好运！-格雷厄姆

# jquery - 如何在 ASP.NET MVC 中为有效字段设置绿色边框

> ID：15785411
> 
> 赞同：2
> 
> 时间：2013-04-03T10:54:42.190
> 
> 标签：jquery, asp.net-mvc, validation, asp.net-mvc-4, data-annotations

我找不到任何简单的方法来为在 ASP.NET MVC 中有效的字段设置绿色边框。我正在使用 DataAnnotations 和 Unobtrusive jquery 验证。我拥有所有默认验证样式，并且可以轻松更改无效控件的边框颜色和消息的颜色。但是，没有样式被添加到有效字段中。我该怎么做。我需要用jquery劫持它吗？

我的另一个问题是如何在不编写大量自定义代码的情况下触发对模糊字段的验证？默认情况下，它仅在表单提交时验证。我必须为此使用远程验证吗？我希望在某个地方有一个简单的设置来启用它。

**编辑**

```
 <% using (Ajax.BeginForm("SaveSupplier",
                             "Suppiers",
                             new AjaxOptions
                             {
                                 UpdateTargetId = "supplier-details-wrapper",
                                 InsertionMode = InsertionMode.Replace
                             },
                             new { id = "supplier-details-form", enctype = "multipart/form-data" }))
    { %>

        <div id="supplier-details">
            <p>
                <%: Model.PageDescription %>
            </p>

            <%: Html.AntiForgeryToken() %>

            -- MY FIELDS HERE --

        </div>

    <% } %>

    <div class="form-buttons">
        <button id="save-button" type="button" class="submit-button">Save</button>
        <button id="cancel-button" type="button" class="submit-button">Cancel</button>
    </div> 
```

和 javascript

```
<script type="text/javascript">
    $(function () {

        $("#save-button").click(function () {
            $("#supplier-details-form").submit();
        });

        $('input[data-val=true]').on('blur', function () {
            $(this).valid();
        });
    });
</script> 
```

我也有

```
<script src="<%: Url.Content("~/Scripts/jquery.validate.min.js") %>"></script>
<script src="<%: Url.Content("~/Scripts/jquery.unobtrusive-ajax.min.js") %>"></script>
<script src="<%: Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js") %>">  </script> 
```

在 web.config 中

```
<add key="ClientValidationEnabled" value="true" />
<add key="UnobtrusiveJavaScriptEnabled" value="true" /> 
```

我的问题是，无论我做什么，它都只在服务器端进行验证。如何在javascript中手动触发它。我尝试了各种方法，它总是回发到服务器。$("#my-element-id").valid() 有点工作，它返回 1 或 0，但它不突出显示文本框并且不显示错误。验证似乎没有做任何事情。我怀疑这与我的按钮不在 Ajax 表单或由于 AntiFormgeryToken 有关。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T12:24:29.830

至于客户端的验证，请将此代码添加到您的`web.config`

```
<appSettings>
    <add key="ClientValidationEnabled" value="true" />
    <add key="UnobtrusiveJavaScriptEnabled" value="true" />
</appSettings> 
```

对于边框颜色，请尝试将其放入您的 CSS 中：

```
input:valid { border-color:green; } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T12:05:32.937

**样式化有效元素**

我的方法是将元素的默认样式设置为有效（绿色边框）。然后使用验证样式类（例如 input-validation-error）在输入项无效时覆盖默认样式。

**验证模糊**

为此，您需要更改验证设置。这可以像这样完成。

```
var validator = form.data("validator");
    if (validator){
        validator.settings.onkeyup = false; // Disable keyup validation
        validator.settings.onfocusout = function (element){                    
            $(element).valid();                   
        };
    } 
```

[我在这里](https://stackoverflow.com/a/14316783/1593273)回答了同样的问题

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T22:56:20.343

我发现了我的问题。我在局部视图中加载局部视图。所以内容是动态加载的。添加此修复模糊验证：

```
$(function () {
        $.validator.unobtrusive.parse(document);
        $("input[data-val=true]").on("blur", function () {
            $(this).valid();
        });
}); 
```

还

```
input.valid 
{
    border: 1px solid rgb(19, 147, 7);
} 
```

工作，但 input:valid 没有，因为它将所有字段的边框设置为绿色，甚至是无效的字段。

# iphone - iOS ssl 证书验证 - 无法验证服务器身份

> ID：15785415
> 
> 赞同：1
> 
> 时间：2013-04-03T10:54:51.793
> 
> 标签：iphone, ssl-certificate

如果我在 iOS 设备上使用 safari 访问服务器具有无效证书的特定 URL (https)，​​则 safari 会提示我“无法验证服务器身份”。意味着 Safari 已实施证书验证。

但是在我的 iPhone 应用程序上，当我使用具有相同 URL（https）的 NSURLCOnnection 时，如何验证证书是否已过期、自签名或不受信任？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-18T18:19:25.527

看看 NSURLConnectionDelegate 的`connection:willSendRequestForAuthenticationChallenge`

# spring - Spring 3 Controller 中的自定义数据绑定器

> ID：15785416
> 
> 赞同：1
> 
> 时间：2013-04-03T10:54:58.690
> 
> 标签：spring, spring-mvc, controller, spring-3

在控制器中注册自定义数据绑定器的 spring 2 方法是覆盖扩展 spring 控制器的 createBinder 方法。spring 3 这样做的方式是什么？我们使用@Controller 注释，因此没有我可以覆盖的钩子。我本来期望像“@CreateBinder”这样的东西。

搜索网络不是很有帮助。我只找到[了这个](http://forum.springsource.org/showthread.php?81209-Custom-DataBinder-in-Spring-3-0)相关的线程。

为了明确这一点：这与设置属性编辑器无关。我可以用@InitBinding 做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:25:55.360

使用 @InitBinder 注释。

```
@InitBinder
public void initBinderAll(WebDataBinder binder) {
    binder.registerCustomEditor(Country.class,  new CountryEditor());
} 
```

西蒙

# opencv - 在多边形中混合颜色

> ID：15785424
> 
> 赞同：0
> 
> 时间：2013-04-03T10:55:22.850
> 
> 标签：opencv, graphics, geometry, computational-geometry, blending

我有一个由不同颜色的段组成的多边形（示例图像上的红色和绿色）。

对于多边形（灰色区域）中的每个像素，我需要计算系数以获得像素的颜色： pix_color= red * Ca + green * Cb

边界条件是边界颜色系数必须=1（例如红色边界的Ca=1 Cb=0）。

所以我想在多边形的内部区域实现从红色到绿色的“平滑”过渡。

我该怎么做？

![在此处输入图像描述](https://i.stack.imgur.com/AZYdK.png)

**更新 2：** 我尝试了 3 种颜色边框和非凸多边形的算法。 ![http://dl.dropbox.com/u/8841028/blending/polygon_full.png](https://i.stack.imgur.com/fOYpw.png)

这是我的opencv代码

```
 //a=red border,b=green,c= blue, da,db,dc min dist to borders.
    Vec3b pix_ab; 
    pix_ab[2]= r_a*db/(da+db)+r_b*da/(da+db);
    pix_ab[1]= g_a*db/(da+db)+g_b*da/(da+db);
    pix_ab[0]= b_a*db/(da+db)+b_b*da/(da+db);
    Vec3b pix_ac; 
    pix_ac[2]= r_a*dc/(da+dc)+r_c*da/(da+dc);
    pix_ac[1]= g_a*dc/(da+dc)+g_c*da/(da+dc);
    pix_ac[0]= b_a*dc/(da+dc)+b_c*da/(da+dc);
    Vec3b pix_bc;
    pix_bc[2]= r_b*dc/(db+dc)+r_c*db/(db+dc);
    pix_bc[1]= g_b*dc/(db+dc)+g_c*db/(db+dc);
    pix_bc[0]= b_b*dc/(db+dc)+b_c*db/(db+dc);

    img(y,x)[0]= (pix_ab[0]+pix_ac[0]+pix_bc[0])/3;
    img(y,x)[1]= (pix_ab[1]+pix_ac[1]+pix_bc[1])/3;
    img(y,x)[2]= (pix_ab[2]+pix_ac[2]+pix_bc[2])/3; 
```

但问题是，例如通过条件蓝色边框影响的不是所有多边形区域，而是某些子区域，如果我使用我的公式，我会在区域的边界上得到明显的差异，所以我认为我需要以某种方式强制蓝色为 = 0在分区的边界上。

![在此处输入图像描述](https://i.stack.imgur.com/AxQMt.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T11:01:52.873

给每个内部像素 4 个值，表示上、下、左、右到最近边缘的距离。使用最低的绿色和最低的红色值来计算 Ca 和 Cb。

即对于我的图表上粗略标记的像素，我建议它是红色 40，绿色 20，或者绿色是红色的两倍，或者 Ca = 0.333 和 Cb = 0.666

![在此处输入图像描述](https://i.stack.imgur.com/1d7ce.png)

# numpy - 如何拟合 3D 数据

> ID：15785428
> 
> 赞同：5
> 
> 时间：2013-04-03T10:55:38.443
> 
> 标签：numpy, scipy

我有一个 3D 点列表，我想将其拟合到一个球体：

```
R^2 = (x-x0)^2 + (y-y0)^2 + (z-z0)^2 
```

所以我想，我会表达 z，并用 4 个参数（x0、y0、z0 和 R）拟合 2D 数据：

```
z = sqrt(R^2 - (x-x0)^2 - (y-y0)^2) + z0 
```

这是一个代码（它是更大项目的一部分）：

```
#!/usr/bin/python

from scipy import *
from scipy.optimize import leastsq

Coordinates = load("data.npy")

xyCoords = Coordinates[:, [0, 1]]
zCoords  = Coordinates[:, 2]

p0 = [149.33499, 148.95999, -218.84893225608857, 285.72893713890107]

fitfunc = lambda p, x: sqrt(p[3]**2 - (x[0] - p[0])**2 - (x[1] - p[1])**2) + x[2]
errfunc = lambda p, x, z: fitfunc(p, x) - z
p1, flag = leastsq(errfunc, p0, args=(xyCoords, zCoords))

print p1 
```

我得到错误：

```
ValueError: operands could not be broadcast together with shapes (2) (1404) 
```

这是[data.npy](http://wikisend.com/download/159798/data.npy)的链接。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-03T11:38:01.110

您需要正确定义您的`fitfunc`：

```
fitfunc = lambda p, x: sqrt(p[3]**2 - (x[:, 0] - p[0])**2 - (x[:, 1] - p[1])**2) + p[2] 
```

我不认为您的方法非常稳健，因为当您采用时，`sqrt`有两种解决方案，一种是正面的，一种是负面的，您只考虑正面的。因此，除非您的所有点都在球体的上半部分，否则您的方法将行不通。让`r`你的 fitfunc 可能更好：

```
import numpy as np
from scipy.optimize import leastsq

# test data: sphere centered at 'center' of radius 'R'
center = (np.random.rand(3) - 0.5) * 200
R = np.random.rand(1) * 100
coords = np.random.rand(100, 3) - 0.5
coords /= np.sqrt(np.sum(coords**2, axis=1))[:, None]
coords *= R
coords += center

p0 = [0, 0, 0, 1]

def fitfunc(p, coords):
    x0, y0, z0, R = p
    x, y, z = coords.T
    return np.sqrt((x-x0)**2 + (y-y0)**2 + (z-z0)**2)

errfunc = lambda p, x: fitfunc(p, x) - p[3]

p1, flag = leastsq(errfunc, p0, args=(coords,))

>>> center
array([-39.77447344, -69.89096249,  44.46437355])
>>> R
array([ 69.87797469])
>>> p1
array([-39.77447344, -69.89096249,  44.46437355,  69.87797469]) 
```

# velocity - 获取 confluence 中的当前空间类别

> ID：15785430
> 
> 赞同：0
> 
> 时间：2013-04-03T10:55:40.697
> 
> 标签：velocity, confluence

我们将 Confluence 用于我们的技术文档，并使用精炼的[wiki Original Theme Plugin](http://www.refinedwiki.com/en/display/products/original-theme-confluence.aspx)来定制设计。文档有两种语言版本（德语、英语）。空间组织如下：

类别：“德语”

*   空格：“产品 1 - DE”
*   空格：“产品 2 - DE”

类别：“英语”

*   空格：“产品 1 - EN”
*   空格：“产品 2 - EN”

在站点标题中，我想以当前语言放置指向产品 1 主页、产品 2 主页……的链接。（我尝试使用 OriginalTheme > [Manage custom design](http://demo.refinedwiki.com/display/rwot3x/Design+your+wiki)提供的文本框修改站点标题。）

这意味着：

如果当前页面位于具有“德语”类别的空间中：

*   链接：“产品 1”=> 空间“产品 1 - DE” - 主页

别的

*   链接：“产品 1”=> 空间“产品 1 - EN” - 主页

我知道我可以使用 Velocity 函数，如果我可以获得有关当前空间的信息，那么一个简单的 if 应该可以完成这项工作。

如何访问当前空间的类别？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T15:56:14.840

您可以为英语空间和德语空间使用两种不同的自定义布局。这样，两个自定义布局可以为每种语言提供正确的链接。

要自定义布局，请转到编辑 -> 管理 -> 编辑布局

此页面可能会帮助您朝着正确的方向前进： [https ://confluence.atlassian.com/display/DOC/Customising+Site+and+Space+Layouts](https://confluence.atlassian.com/display/DOC/Customising+Site+and+Space+Layouts)

# primefaces - 如何在 primefaces 中使用 jQuery 月份选择器？

> ID：15785434
> 
> 赞同：0
> 
> 时间：2013-04-03T10:55:47.157
> 
> 标签：primefaces

我想将月份选择器作为输入字段。

我开始了解 jQuery 月份选择器。

我如何在primefaces中使用它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:58:25.610

我没有遇到过 Prime 面孔，但你为什么不使用 Jquery UI，它有一个内置的日历。您可以轻松地调整代码以仅输出月份。

[http://jqueryui.com/datepicker/](http://jqueryui.com/datepicker/)

```
var date = $('#datepicker').datepicker({ dateFormat: 'mm' }).val(); 
```

谢谢

# java - 在 SAP BusinessObjects BI 4.0 中集成自定义 Java Web 应用程序

> ID：15785443
> 
> 赞同：0
> 
> 时间：2013-04-03T10:56:11.697
> 
> 标签：java, sap, business-objects

**任何人都可以代表SAP** BusinessObjects BI 4.0（使用 BI Tomcat6）中自定义 Java Web 应用程序集成的分步指南。我在互联网上找不到任何解决方案，可惜。例如，在我的自定义应用程序中，我想获取 sap 用户并将其显示在整个 .jsp 文件中。有什么建议吗？

提前，谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T16:25:31.513

创建自定义应用程序以与 SAP BOE 对话和交互总体上非常简单。<BO 安装目录>\SAP BusinessObjects Enterprise XI 4.0\java\lib 中提供了您需要的所有库。不，您不需要所有 323 个罐子，但根据我个人的使用情况，至少需要 70 个罐子，您可能不需要与我一样的集合，具体取决于您使用的功能。因此，现在您拥有了可以与 BOE 一起使用的整个 SDK，并且是 SAP 的基础 WAR 所使用的全部。

您的代码基础知识将包括：

```
// Get logged in
ISessionMgr sessionManager = CrystalEnterprise.getSessionMgr();
IEnterpriseSession enterpriseSession = sessionManager.logon(user, pass, cms, authType);

// Get the IInfoStore to look at the CMS database
IInfoStore infoStore = (IInfoStore) enterpriseSession.getService("InfoStore");
IInfoObjects infoObjects = infoStore.query("select * from CI_INFOOBJECTS where SI_NAME='FRED'");
// do things with the results here

// Log off the session
enterpriseSession.logoff(); 
```

有关更多信息，最好阅读 SAP 的 SDK 文档。这将为您提供有关与 IInfoStore 交互的更好信息。对 SAP BOE 的调用可以通过标准 Java 应用程序或 Java EE 应用程序完成，只要您不尝试将更改直接集成到 BI LaunchPad 或 CMC 中，它应该非常简单。

对于 SAP 提供的 Tomcat 下的部署，我建议阅读以下 StackOverflow：[How can I deploy war in Tomcat 6](https://stackoverflow.com/questions/2119678/how-can-i-deploy-war-in-tomcat-6)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-06T23:10:10.360

在您的评论中，您声明*(...) 如果用户存在于我的系统 (LDAP) 中，则自动进入 BOE，并相应地在 BOE 端创建用户*。

如果您想要将 LDAP 系统与您的 BusinessObjects 环境集成，那么您可以在不使用 SDK 的情况下执行此操作。查看 BI4 的管理员指南（可从[help.sap.com](http://help.sap.com)获得）。LDAP 是可用的第三方安全插件之一，可让您从现有的 LDAP 服务器检索用户。

LDAP 集成的唯一限制是不支持 SSO（单点登录），除非您有 SiteMinder 等供您使用。如果您需要 SSO，您可以将 LDAP 与受信任的身份验证结合使用。同样，请查看管理员指南，了解有关外部身份验证提供程序集成的可用选项。

# php - 为程序风格使用准备好的语句

> ID：15785444
> 
> 赞同：1
> 
> 时间：2013-04-03T10:56:14.930
> 
> 标签：php, mysql, mysqli

我目前正在习惯 mysqli 并正在尝试转换我用 mysql 编写的代码。我正在使用程序样式来转换代码，但是我意识到在 mysqli 中您可以使用准备好的语句，而不是使用 mysqli_real_escape_string。我试图理解这些准备好的陈述，但是我无法理解它们。如何将以下代码转换为准备好的语句？

```
function user_exists($email){ 
$query = mysqli_query($GLOBALS["___mysqli_ston"], "SELECT `mem_id` FROM `members` WHERE `mem_email`='$email'"); 
$query_result = mysqli_num_rows($query); 
return $query_result; 
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T11:27:04.287

```
function user_exists($email){ 
    $stmt = mysqli_prepare($GLOBALS["___mysqli_ston"], "SELECT `mem_id` FROM `members` WHERE `mem_email`=?"); 
    mysqli_stmt_bind_param($stmt,"s",$email);
    mysqli_stmt_execute($stmt);
    mysqli_stmt_store_result($stmt);
    $query_result=mysqli_stmt_num_rows($stmt);
    mysqli_stmt_free_result($stmt);
    return $query_result; 
} 
```

说真的，使用 OOP 风格会更好......

```
function user_exists($email){ 
    global $___mysqli_ston;//just follow your style
    $stmt = $___mysqli_ston->prepare("SELECT `mem_id` FROM `members` WHERE `mem_email`=?");
    $stmt->bind_param("s",$email);
    $stmt->execute();
    $stmt->store_result();
    $query_result=$stmt->num_rows;
    $stmt->free_result();
    return $query_result; 
} 
```

# ios - 如果单元格被舍入，如何从 UITableView 侧隐藏背景图像

> ID：15785445
> 
> 赞同：0
> 
> 时间：2013-04-03T10:56:36.200
> 
> 标签：ios, objective-c, uitableview

我正在为我的表格视图使用自定义单元格。我使用带有圆形边框的渐变层作为单元格的背景，因为表格视图的背景图像在单元格的角落是可见的（如图所示）。

![数字](https://i.stack.imgur.com/XPtdv.png)

我能做些什么来隐藏这些角落？我的代码如下：

在 viewDidLoad 中，表已设置为：

```
Table.backgroundView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"mac-gray.png"]];
    Table.separatorColor = [UIColor clearColor];
    Table.rowHeight = 83;
    Table.showsVerticalScrollIndicator = NO; 
```

```
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
@try {
  static NSString *cellIdentifier;
//[self adjustHeightOfTableview:tableView];

if(UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPhone)
{
    cellIdentifier = @"Cell";

    MarketWatch_iPhoneCell *cell = (MarketWatch_iPhoneCell *)[tableView dequeueReusableCellWithIdentifier:nil];
        if (cell == nil)
        {                
            NSString *nibName = @"iPhoneCell";

            NSArray *nib = [[NSBundle mainBundle] loadNibNamed:nibName owner:self options:nil];
            cell = (MarketWatch_iPhoneCell *)[nib objectAtIndex:0];

        }
    cell.layer.cornerRadius = 15.0;
    cell.clipsToBounds = YES;
    [cell addGradient];

    cell.selectionStyle = UITableViewCellSelectionStyleNone;

.......
return cell;
}

-(void) addGradient
{
    //adding gradient to cell
    gradLayer = [CAGradientLayer layer];
    gradLayer.colors = [NSArray arrayWithObjects:
                        (id)[UIColor darkGrayColor].CGColor,
                        (id)[UIColor colorWithRed:45/255 green:45/255 blue:45/255 alpha:1.0].CGColor,
                        (id)[UIColor colorWithRed:22/255 green:22/255 blue:22/255 alpha:1.0].CGColor,
                        (id)[UIColor blackColor].CGColor,
                        nil];
    CGRect frame = self.frame;
    frame.size.height -= cellMargin;
    gradLayer.frame = frame;

    gradLayer.cornerRadius = self.layer.cornerRadius;
    gradLayer.borderWidth = 1.0;
    gradLayer.borderColor = defaultColor;

    [self.layer insertSublayer:gradLayer below:self.contentView.layer];

} 
```

**编辑**

我为表格设置了背景图像，以便在用户尝试滚动**最大内容偏移量**时获得图像。

如果我尝试按照@Viral 的建议使用重复我的图像模式，则当我尝试滚动关闭**最大内容偏移量**`colorwithpatternimage`时，该模式将可见。

 **所以这是我的两个问题：

1) 如果我为表格设置了背景图像并且单元格带有圆角，我可以隐藏角落吗？

2）如果使用图像更简单，那么图像应该是什么大小，以及应该如何设计，以便如果用户滚动超出偏移量，则不会遵循该模式。

请有人指导我。谢谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T12:02:10.597

不要使用以下代码..

```
Table.backgroundView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"mac-gray.png"]];//Don't use this code.. 
```

您可以使用以下代码。如果您想要背景图像，则可以将其设置为`self.view`.

```
Table.backgroundView.backgroundColor = [UIColor clearColor];
Table.backgroundColor = [UIColor clearColor]; 
```

你可以试试。我想对你会有帮助。。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:00:20.020

`UITableView`在您创建的位置添加两条线。

```
self.tableView.backgroundColor = [UIColor clearColor];
self.tableView.opaque = NO; 
```

也放入`cell.backgroundColor = [UIColor clearColor];`方法`cellForRowAtIndexPath`。

**编辑：**

```
cell.backgroundView.backgroundColor = [UIColor clearColor]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T12:18:39.497

将 UITableView 的 backgroundView 设置为 nil。然后设置你想要的任何颜色。

```
_myTableView.backgroundView = nil;
_myTableView.backgroundColor = [UIColor clearColor]; 
```**

# macos - 在 MacOS 上编译 Irrlicht 项目时出现“未找到架构 x86_64 的符号”错误

> ID：15785446
> 
> 赞同：0
> 
> 时间：2013-04-03T10:56:39.767
> 
> 标签：macos, compiler-errors, codeblocks, irrlicht

我已经在 MacOSX 10.8 上编译并安装了 Irrlicht 1.8。然后我创建了使用 Irrlicht 的 CodeBlocks 项目。现在，当我尝试编译它时，出现以下错误：

```
 "_objc_msgSend_stret", referenced from:
      irr::CIrrDeviceMacOSX::setResize(int, int)in libIrrlicht.a(CIrrDeviceMacOSX.o)
      irr::CIrrDeviceMacOSX::createWindow()      in libIrrlicht.a(CIrrDeviceMacOSX.o)
      irr::CIrrDeviceMacOSX::CIrrDeviceMacOSX(irr::SIrrlichtCreationParameters const&)in libIrrlicht.a(CIrrDeviceMacOSX.o)
      irr::CIrrDeviceMacOSX::CIrrDeviceMacOSX(irr::SIrrlichtCreationParameters const&)in libIrrlicht.a(CIrrDeviceMacOSX.o)
      -[AppDelegate windowDidResize:] in libIrrlicht.a(AppDelegate.o)
      -[AppDelegate windowWillResize:toSize:] in libIrrlicht.a(AppDelegate.o)
ld: symbol(s) not found for architecture x86_64
collect2: ld returned 1 exit status 
```

我猜问题出在我编译 Irrlicht 的方式上。我是这样做的：

1.  使用[本教程](http://dbrgames.wordpress.com/2011/12/31/compiling-irrlicht-1-7-2-with-mac-os-10-7-and-xcode-4-1/)编译 Irrlicht。编译时，我收到了 4 个关于使用不推荐使用的函数的警告，但我认为它不会导致我的问题。
2.  这[要](http://www.irrlicht3d.org/wiki/?n=Main.InstallingIrrlicht#BuildMacOSX)安装。

任何人都可以帮我吗？谢谢。

upd：我发现这个错误只发生在我尝试调用任何 Irrlicht 函数时。库只是静态链接到项目，它工作正常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T14:51:11.380

大约两年前，我在 Mac OS X (10.6) 上使用*Irrlicht*时遇到过此类错误，但我真的不记得我是如何解决这个问题的。我记得它与链接器（就像你一样）有关，所以我必须在**Xcode**的*目标*部分指定 libIrrlicht.a 文件并放置一个

```
#pragma comment(lib, "libIrrlicht.a") 
```

在包含之后的代码中（我认为我已将*.a*文件放在项目目录中进行测试）。

* * *

PS：你有没有指定*Code::Blocks*在哪里寻找库？我记得在**Xcode** (3.2.x) 中也有不同的路径部分:)

PPS：你确定你已经正确编译了 Irrlicht 吗？也许你已经为 i386 而不是 x86_64 编译它：P

# c++ - “类似 COM”的框架解决了哪些问题？

> ID：15785447
> 
> 赞同：4
> 
> 时间：2013-04-03T10:56:40.563
> 
> 标签：c++, c, com, gobject

我经常看到[GObject](https://en.wikipedia.org/wiki/GObject)库与类似 COM-Windows 的解决方案相比，一般来说，我并没有真正理解这个框架应该解决什么样的问题，以及采用它们带来的好处是什么。

我找到了一些小答案，比如“它是一个可以轻松地将 C 库移植到其他语言的包装器”，但是 GObject 还提供了其他功能，比如信号/插槽机制，还有其他一些事情，但我并没有真正了解大局对这个。

你能用简单的古英语解释一下吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-03T11:00:15.093

COM 和类似的库提供了创建和使用二进制面向对象**组件**的能力。

“二进制”意味着它完全独立于语言，可以在例如 C、C++、Pascal 等中访问。

COM 之上称为“自动化”的层为专门支持“自动化”的组件提供脚本语言的访问。

* * *

作为一个具体的例子，Windows API 提供了一个自动化 COM 组件，它代表（并且可以创建或修改）一个 Windows 快捷方式。Windows 快捷方式是“.lnk”文件，有点像符号链接，只是它们必须由应用程序显式取消引用。在我正在写这篇文章的计算机上，MingW g++ 安装包含一个 JavaScript 程序，以使基于 COM 的功能可以作为简单的命令行命令使用。

该程序中的 COM 对象创建：

```
var Shortcut = WinShell.CreateShortcut( prefix + assigned[lnkname] ); 
```

另一个 Windows API COM 对象在哪里，`WinShell`它是通过脚本宿主环境提供的函数创建的。

完整的程序：

> **MinGW\libexec\mingw-get\shlink.js**

```
/*
 * shlink.js
 *
 * $Id: shlink.js,v 1.1 2012/04/06 22:49:36 keithmarshall Exp $
 *
 * Invoke the Windows Scripting Host to create or modify a windows shortcut,
 * with specified parameters.
 *
 * Usage:
 *   cscript -nologo shlink.js [--option[=value] ...] target name
 *
 * Options:
 *   --verbose  report shortcut parameter assignments on stdout
 *
 *   --all-users
 *          create the shortcut in the start menu, or on the
 *          desktop available to all users; (has no effect,
 *          unless --start-menu or --desktop is specified)
 *
 *   --desktop  create the shortcut on the desktop of the current
 *          user, (or for all users, with --all-users)
 *
 *   --start-menu
 *          create the shortcut in the user's start menu, (or
 *          all users' start menu, with --all-users)
 *
 *   --arguments="argument list ..."
 *      specify arguments to be passed to the command
 *      invoked by the shortcut
 *
 *   --description="text ..."
 *      specify the "tool tip" for the shortcut
 *
 *   --hotkey="[SHIFT+][CTRL+][ALT+]key"
 *          specify a hot-key combination which may be used
 *          to invoke the shortcut command
 *
 *   --icon="d:\path\to\icon\file[,index]"
 *          specify an icon to associate with the shortcut;
 *          if unspecified, the first icon in the target file,
 *          or failing that, a system default is used
 *
 *   --show=normal|maximised|minimised
 *          specify the style of window in which the program
 *          invoked by the shortcut will start running
 *
 *   --workingdir="d:\path\to\working\directory"
 *          specify the absolute path name for the directory
 *          which will become the current working directory when
 *          the program invoked by the shortcut is started
 *
 * Parameters:
 *   target the path name to the program to invoke, or the file
 *      to be opened, when the shortcut is activated.
 *
 *   name   the path name for the shortcut file itself; if this
 *      does not end with either a ".lnk" or ".url" extension,
 *      then ".lnk" will be appended, so creating a regular
 *      file system link type shortcut.
 *
 *
 * This file is a component of mingw-get.
 *
 * Written by Keith Marshall <keithmarshall@users.sourceforge.net>
 * Copyright (C) 2012, MinGW Project
 *
 *
 * Permission is hereby granted, free of charge, to any person obtaining a
 * copy of this software and associated documentation files (the "Software"),
 * to deal in the Software without restriction, including without limitation
 * the rights to use, copy, modify, merge, publish, distribute, sublicense,
 * and/or sell copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
 * DEALINGS IN THE SOFTWARE.
 *
 */
var cmdName = WScript.ScriptName;
var WinShell = WScript.CreateObject("WScript.Shell");

/* Properties for the shortcut may be specified as arguments
 * to command line options, each of which is represented in the
 * GNU long option form, by keywords with property associations
 * as specified by:
 */
var options = Array(
      "name",       /*  File name/path of .lnk file */
      "all-users",
      "start-menu",
      "desktop",
      "verbose",
  /* 
   *  Option            Property
   *  -------------     -------------------------
   */ 
      "arguments",  /*  Shortcut.Arguments      */
      "description",    /*  Shortcut.Description    */
      "hotkey",     /*  Shortcut.HotKey     */
      "icon",       /*  Shortcut.IconLocation   */
      "show",       /*  Shortcut.WindowStyle    */
      "target",     /*  Shortcut.TargetPath     */
      "workingdir"  /*  Shortcut.WorkingDirectory   */
    );

/* The "complain" function provides a mechanism for writing
 * diagnostic messages to stderr, and optionally aborting the
 * calling script.
 */
function complain( condition, message )
{
  WScript.StdErr.WriteLine( cmdName + ": " + message );
  if( condition < 0 )
    WScript.Quit( -condition );
  return condition;
}

/* Strip ".js" suffix from command name.
 */
var i = cmdName.lastIndexOf( ".js" );
if( (i > 0) &&  (cmdName.substr( i ) == ".js") )
  cmdName = cmdName.substr( 0, i );

/* Initialise all options to "unassigned" state.
 */
var target = -1;
var lnkname = -1;
var desktop = -1;
var allusers = -1;
var startmenu = -1;
var verbosity = -1;
var unassigned = "+++unassigned+++";
var assigned = Array( options.length );
for( var k = 0; k < assigned.length; k++ )
{
  switch( options[k] )
  {
    case "name":
      lnkname = k;
      break;

    case "desktop":
      desktop = k;
      break;

    case "start-menu":
      startmenu = k;
      break;

    case "all-users":
      allusers = k;
      break;

    case "target":
      target = k;
      break;

    case "verbose":
      verbosity = k;
  }
  assigned[k] = unassigned;
}

/* Define the prefix, which will qualify the location
 * of the shortcut; initialise it to nothing, so that by
 * default shortcuts will be located by absolute path name,
 * as specified, or relative to current working directory.
 */
var prefix = "";

var j;
function assign_option( name, value )
{
  switch( name )
  {
    case "desktop":
    case "start-menu":
    case "all-users":
    case "verbose":
      j = i;
      return "set";
  }
  return value;
}

/* Parse the command line.
 */
var argv = WScript.Arguments;
for( i = 0; i < argv.length; i++ )
{
  if( argv( i ).indexOf( "--" ) == 0 )
  {
    /* Handle arguments specifying options...
     */
    if( (optind = argv( j = i ).indexOf( "=" ) + 1) > 3 )
    {
      optnam = argv( j ).substr( 2, optind - 3 );
      optarg = argv( j ).substr( optind );
    }
    else
    {
      optnam = argv( j ).substr( 2 );
      if( ++j < argv.length )
    optarg = argv( j );
      else
    optarg = unassigned;
    }

    var matched = 0;
    for( var k = 0; k < options.length; k++ )
    {
      if( optnam == options[k] )
      {
    matched = 1;
    assigned[k] = assign_option( options[k], optarg );
    k = options.length;
      }
      else if( options[k].indexOf(optnam) == 0 )
      {
    if( ++matched > 1 )
      complain( -2, cmdName + "option '" + argv( i ) + "' is ambiguous" );
    assigned[k] = assign_option( options[k], optarg );
      }
    }
    if( matched == 1 )
    {
      i = j;
    }
    else
      complain( -2, "option '" + argv( i ) + "' is not supported" );
  }

  /* Handle non-option arguments...
   */
  else if( (target >= 0) && (assigned[target] == unassigned) )
    /*
     * ...the first of which is the target to which the
     * (shortcut) link is to refer...
     */
    assigned[target] = argv( i );

  else if( (lnkname >= 0) && (assigned[lnkname] == unassigned) )
    /*
     * ...the second is the file system path name at which
     * the link file itself is to be saved...
     */
    assigned[lnkname] = argv( i );

  else
    /* ...and any more than two is an error.
     */
    complain( -2, "too many arguments" );
}

/* Verify that mandatory arguments have been specified...
 */
if( assigned[target] == unassigned )
  /*
   * First of these, the TargetPath specification, is required;
   * diagnose and abort, if missing.
   */
  complain( -2, "missing argument: no target path specified" );

if( assigned[lnkname] == unassigned )
  /*
   * Second, the path name for the link file itself is essential;
   * again, diagnose and abort if missing.
   */
  complain( -2, "missing argument: no shortcut name specified" );

/* We have both the mandatory arguments; check that the link name
 * is properly terminated by a ".lnk" or ".url" suffix...
 */
var suffix = "";
if( (i = assigned[lnkname].length - 4) > 0 )
  suffix = assigned[lnkname].substr( i );

/* ...and append ".lnk" as default, if not already present.
 */
if( (suffix != ".lnk") && (suffix != ".url") )
  assigned[lnkname] += ".lnk";

/* Add the appropriate prefix for '--desktop' or '--start-menu' shortcuts.
 */
if( assigned[desktop] != unassigned )
{
  if( assigned[startmenu] != unassigned )
    complain( -2, "options '--desktop' and '--start-menu' are incompatible" );
  else prefix = WinShell.SpecialFolders( (assigned[allusers] == unassigned)
      ? "Desktop" : "AllUsersDesktop" ) + "\\";
}
else if( assigned[startmenu] != unassigned )
  prefix = WinShell.SpecialFolders( (assigned[allusers] == unassigned)
      ? "StartMenu" : "AllUsersStartMenu" ) + "\\";

else if( assigned[allusers] != unassigned )
  complain( -2,
      "option '--all-users' also requires '--desktop' or '--start-menu'"
    );

/* Handle verbosity...
 */
function verbose_assignment( property, value )
{
  if( assigned[verbosity] == "set" )
    WScript.Echo( cmdName + ": set " + property + " = " + value );
}

/* Initialise the shortcut entity reference.
 */
if( assigned[verbosity] == "set" )
  WScript.Echo( cmdName + ": create shortcut: " + prefix + assigned[lnkname] );

var Shortcut = WinShell.CreateShortcut( prefix + assigned[lnkname] );

for( var k = 0; k < options.length; k++ )
{
  if( assigned[k] != unassigned )
    switch( options[k] )
    {
      case "arguments":
    verbose_assignment( "Shortcut.Arguments", assigned[k] );
    Shortcut.Arguments = assigned[k];
    break;

      case "description":
    verbose_assignment( "Shortcut.Description", assigned[k] );
    Shortcut.Description = assigned[k];
    break;

      case "hotkey":
    verbose_assignment( "Shortcut.HotKey", assigned[k] );
    Shortcut.HotKey = assigned[k];
    break;

      case "icon":
    verbose_assignment( "Shortcut.IconLocation", assigned[k] );
    Shortcut.IconLocation = assigned[k];
    break;

      case "show":
    verbose_assignment( "Shortcut.WindowStyle", assigned[k] );
        var style = Array(
        "normal",     1,
        "maximised",  3,
        "maximized",  3,
        "minimised",  7,
        "minimized",  7
      );
    for( j = 0; j < style.length; j++ )
      if( style[j++].indexOf( assigned[k] ) == 0 )
      {
        Shortcut.WindowStyle = style[j];
        j = 100;
      }
    if( j < 100 )
      complain( 1, "unrecognised mode '--show=" + assigned[k] + "' ignored" );
    break;

      case "target":
    verbose_assignment( "Shortcut.TargetPath", assigned[k] );
    Shortcut.TargetPath = assigned[k];
    break;

      case "workingdir":
    verbose_assignment( "Shortcut.WorkingDirectory", assigned[k] );
    Shortcut.WorkingDirectory = assigned[k];
    }
  else if( assigned[verbosity] == "set" )
    WScript.Echo( cmdName + ": option '--" + options[k] + "' is unassigned" );
}

/* Commit the shortcut entity to disk.
 */
Shortcut.Save();

/* $RCSfile: shlink.js,v $: end of file */ 
```

# c# - C sprintf(result, "%5.5s", stringValue) 是否有 C# 等效项

> ID：15785448
> 
> 赞同：2
> 
> 时间：2013-04-03T10:56:46.463
> 
> 标签：c#, formatting

在 C++ 中编码时，我可以执行以下操作：

```
sprintf(result, "%5.5s", stringValue); 
```

这将确保打印的值始终为 5 个字符长，根据需要填充或截断。

我发现自己在 C# 中使用 String.Format 需要相同的功能：-

```
String.Format("{0,5}", stringValue); 
```

虽然这对于较短的值很好，但它不会截断较长的值。

什么是最好的解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:11:15.040

试试这个，

我认为**stringValue**是你的字符串变量，如果是这样，那么代码将是

```
stringValue = (stringValue.Length < 5) ? stringValue  : stringValue.Substring(0,4); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:04:24.300

没有什么直接等价的，而不是[#](http://msdn.microsoft.com/en-us/library/txafckwd.aspx)。

`Substring`您可以使用and来接近`Math.Min`：

```
String.Format("{0,5}", stringValue.Substring(0, Math.Min(stringValue.Length, 5))); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T11:05:43.960

没有内置格式来满足您的需要。尝试定义自定义扩展方法并使用它

```
public static class StringExtensions
{
    public static string TruncateTo(this string str, int maxCharsCount)
    {
        if (str.Length > maxCharsCount)
            return str.Substring(0, maxCharsCount);
        return str;
    }
} 
```

现在你可以

```
Console.WriteLine("{0,3}", "long long long value".TruncateTo(3));
Console.WriteLine("{0,7}", "short".TruncateTo(7)); 
```

将打印：

```
lon
  short 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T11:17:28.580

这是一个应该做你想做的扩展方法。您可以将最大长度和填充字符更改为您喜欢的值，但默认值分别为`5`和`-`。

```
public static string ToCustomSprintF(this string initial, int max_length = 5, char padChar = '-')
{
     int len = initial.Length;

     if (len == max_length)
         return initial;
     else if (len < max_length)
         return initial.PadRight(len + (max_length - len), padChar); 

     return initial.Substring(0, max_length);  

} 
```

然后就可以正常使用了

```
string str = "1234".ToCustomSprintF();
//output would be 1234- 
```

# c# - 如何为 web 方法传递可选参数？

> ID：15785449
> 
> 赞同：7
> 
> 时间：2013-04-03T10:56:53.120
> 
> 标签：c#, asp.net, wcf

我有一个带有多个参数的网络方法。web方法只依赖2个字段，其余都是可选的。

```
 [OperationContract]
    public string WarehouseContactInformation(int WAID (Required), string CN (Required), string CT (Optional), string CC (Optional), string CFN (Optional), string CD (Optional), string CE (Optional),string CW (Optional)) 
```

如何将这些参数声明为可选参数，这样当我调用 Web 方法时，我只需传递我拥有值的字段，例如：

```
WarehouseContactInformation(1,'Bill','00012311')
WarehouseContactInformation(1,'Bill','00012311','12415415','123525') 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-03T10:59:07.940

你不能。Web 方法不支持可选参数。当您为 Web 方法生成代理时，您会获得特定的签名，您的客户端和服务器将根据该签名交换消息。但它不能传递可选参数。您可以在服务器端使用默认参数，但没有可选参数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T11:08:13.413

我所做的是：发送与 XML 绑定的参数，并且不绑定可选参数的值，将其留空。

```
 XmlDocument xmlDoc = new XmlDocument();
        xmlDoc.LoadXml(
            "<registration>" +
            "<field1>" + value + "</field1>" +
            "<field2>" + value(or leave blank) + "</field2>" +
            "<field3>" + value + "</field3>" +
            "<field4>" + value + "</field4>" +
            "</registration>");

        int status = objectOfService.methodName(xmlDoc); 
```

在网络服务中你可以这样做

```
 public int UpdateUser(XmlNode node)
    {
       String filed1Value=node["field1"].InnerText;
    } 
```

希望能帮助到你。

# matlab - 使用数组进行图像检索

> ID：15785454
> 
> 赞同：0
> 
> 时间：2013-04-03T10:57:02.683
> 
> 标签：matlab

我正在使用 sift 进行一个名为图像检索的项目，我想从文件系统中检索图像。我使用的逻辑是：

1.  将图像文件名传递给函数。
2.  检查要满足的条件。
3.  如果满意，将文件名存储在数组中

当我显示数组时，我得到文件名，例如。F:\SIFT_Yantao\demo-data\batting.jpg 和数组的长度为 36 现在我的问题是我应该如何从该数组中提取文件名并显示它？如果我使用 for 循环作为..

```
 for j=1:numel(array) 
```

我的数组中有 36 个元素，而它只是 1 个图像的名称......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T11:03:34.370

字符串是 type 的数组`char`，因此您（本质上）正在尝试遍历字符串中的字符。如果要创建字符串数组，每个字符串的长度可能不同，则需要使用[字符串元胞数组](http://www.mathworks.co.uk/help/matlab/matlab_prog/cell-arrays-of-strings.html)。一个例子如下：

```
myArray = {'C:\some\path\to\a\file.ext', 'C:\some\path\to\another\file.ext'};
for jj = 1:numel(myArray)
    disp(myArray{jj}); % Display each element
end 
```

要附加到现有的元胞数组，您可以：

```
myArray = {}; % Initialise empty cell array
for myLoopCounter = something
    myArray = [myArray {theNewString}];
end 
```

如果您知道数组在循环之前将有多少项，那么您可以使用

```
myArray = cell(numberOfElements, 1);
for myLoopCounter = something
    myArray{myLoopCounter} = theNewString;
end 
```

# memory - 如何使用命令提示符获取 .exe 使用的内存

> ID：15785457
> 
> 赞同：0
> 
> 时间：2013-04-03T10:57:05.273
> 
> 标签：memory, command-line, command-prompt

使用命令提示符，我如何获取执行 .exe 时使用的内存。例如，要查找所用时间，我可以使用 .bat 文件，如下所示：

```
@echo off
time < nul
Function.exe
time < nul 
```

我怎样才能为使用的内存做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T13:30:20.640

尝试这个：

```
@echo off
mem | find "available to MS-DOS"
function.exe
mem | find "available to MS-DOS" 
```

命令的输出`mem`（示例）：

```
655360 bytes total conventional memory
655360 bytes available to MS-DOS
599312 largest executable program size

1048576 bytes total contiguous extended memory
     0 bytes available contiguous extended memory
941056 bytes available XMS memory
       MS-DOS resident in High Memory Area 
```

顺便提一句。而不是`time <nul`你可以使用`time /t`.

# prolog - 试图解决一个简单的序言分配

> ID：15785459
> 
> 赞同：-1
> 
> 时间：2013-04-03T10:57:07.490
> 
> 标签：prolog

这是我的作业线索：

四名司机：Norma、Andy、Edward 和 Olivia 被控四项交通违法行为：闯停车标志、超速、非法左转和闯红灯。使用线索找出每个嫌疑人违反了哪条法律。

线索

1.  诺玛没有闯红灯或停车标志。
2.  安迪从未因超速而被拦下。
3.  爱德华非法左转。
4.  奥利维亚总是小心翼翼地在停车标志前停下来。

我需要使用prolog来解决它。

到目前为止，我已经尝试了以下代码：

```
violatated(Violation):-
member(Violation,[speeding,leftturn,stop,red]).

solve(S):-
S=[[Name1,Violation1],
   [Name2,Violation2],
   [Name3,Violation3],
   [Name4,Violation4]],

    %five drivers: Norma, Andy, Edward, Olivia
Name1 = norma,
Name2 = andy,
Name3 = edward,
Name4 = olivia,

violated(Violation1), violated(Violation2), violated(Violation3), violated(Violation4),
Violation1 \== Violation2, Violation1 \== Violation3, Violation1 \== Violation4,
Violation2 \== Violation1, Violation2 \== Violation3, Violation2 \== Violation4,
Violation3 \== Violation1, Violation3 \== Violation2, Violation3 \== Violation4,
Violation4 \== Violation1, Violation4 \== Violation2, Violation4 \== Violation3,

%Edward made an illegal left turn
Violation3 == leftturn,

%Norma did not run either a red light or a stop sign
Violation1 \== red,
Violation1 \== stop,

%Andy was never stopped for speeding.
Violation2 \== speeding,

%Olivia was always careful to stop at a stop sign
Violation4 \== stop. 
```

对不起，我是prolog的新手！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T16:28:00.347

我已经简化了你的代码：

```
solve(S):-
    S=[[norma,Violation1],
       [andy,Violation2],
       [edward,Violation3],
       [olivia,Violation4]],

    permutation([speeding,leftturn,stop,red], [Violation1,Violation2,Violation3,Violation4]),

    %Edward made an illegal left turn
    Violation3 = leftturn,

    %Norma did not run either a red light or a stop sign
    Violation1 \= red,
    Violation1 \= stop,

    %Andy was never stopped for speeding.
    Violation2 \= speeding,

    %Olivia was always careful to stop at a stop sign
    Violation4 \= stop. 
```

接着就，随即：

```
?- solve(S).
S = [[norma, speeding], [andy, stop], [edward, leftturn], [olivia, red]] ;
false. 
```

但是您的代码似乎还可以，只是要更正一个错字：

```
violated(Violation):-
    member(Violation,[speeding,leftturn,stop,red]). 
```

代替`violatated(Violation):-`

# c# - C# 使用 Outlook dll 发送电子邮件

> ID：15785461
> 
> 赞同：0
> 
> 时间：2013-04-03T10:57:09.393
> 
> 标签：c#, email, outlook-2010

在我的应用程序中，我需要发送电子邮件。我无法使用 smtp，并且没有以正常方式安装 MS Outlook 的选项。我试过;

```
private Microsoft.Office.Interop.Outlook.Application oApp;
private Microsoft.Office.Interop.Outlook._NameSpace oNameSpace;
private Microsoft.Office.Interop.Outlook.MAPIFolder oOutboxFolder;

oApp = new Outlook.Application();
oNameSpace = oApp.GetNamespace("MAPI");
oNameSpace.Logon(null, null, true, true);

Outlook._MailItem oMailItem = (Outlook._MailItem)oApp.
    CreateItem(Outlook.OlItemType.olMailItem);

    oMailItem.To = toValue;
    oMailItem.Subject = subjectValue;
    oMailItem.Body = bodyValue;
    oMailItem.Send(); 
```

如果 Office 2010 已安装并在计算机上运行，​​则此代码运行良好。但我需要找出引用了哪些 dll。是否可以从 Outlook 中仅获取所需的 dll 并使用它们发送电子邮件？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:14:05.823

根据评论，如何使用 Exchange Web 服务通过交换服务器发送电子邮件的示例。大部分信息可从以下[链接](http://msdn.microsoft.com/en-us/library/exchange/dd633696%28v=exchg.80%29.aspx)中获得，复制到答案中以供保存。

创建电子邮件并发送的示例（在用户的已发送项目文件夹中包含副本）

```
// Create an email message and identify the Exchange service.
EmailMessage message = new EmailMessage(service);

// Add properties to the email message.
message.Subject = "Interesting";
message.Body = "The merger is finalized.";
message.ToRecipients.Add("user1@contoso.com");

// Send the email message and save a copy.
message.SendAndSaveCopy(); 
```

更多关于创建的代码在[这里](http://msdn.microsoft.com/en-us/library/exchange/dd633628%28v=exchg.80%29.aspx)

稍微复杂一点的是上面代码中使用的服务变量的实例化。可[在此处获得](http://msdn.microsoft.com/en-us/library/exchange/ff597939%28v=exchg.80%29.aspx)

```
ExchangeService service = new ExchangeService();
service.Credentials = new WebCredentials("user1@contoso.com", "password");
service.AutodiscoverUrl("user1@contoso.com"); 
```

它将尝试从电子邮件地址自动发现交换服务的 url。值得注意的是，除非您附加回调方法来验证 Exchange 默认使用的自签名证书，否则对该服务的调用将失败。更多信息[在这里](http://msdn.microsoft.com/en-us/library/exchange/dd633677%28v=exchg.80%29.aspx)

有大量关于如何连接到交换服务、发送电子邮件、创建会议和日历请求的信息。我还没有亲自测试以上所有内容，但可能会给你一个不错的开始。

# .htaccess - 强制使用小写 URL，但排除某些目录

> ID：15785462
> 
> 赞同：0
> 
> 时间：2013-04-03T10:57:10.003
> 
> 标签：.htaccess

我在我的虚拟主机中使用 RewriteMap 来强制所有 URL 为小写。

但是，我想排除某些目录和内容被强制小写。这可能吗？这是我当前的 htaccess，所以我想知道是否有人可以告诉我我需要添加什么规则/条件来排除 /static/ 和 /media/ 目录被强制小写。

```
<IfModule mod_rewrite.c>

    RewriteEngine On

    # Don't redirect these
    #RewriteRule \.(gif|jpe?g|png|css|js)$ - [NC,L]

    # Always remove any trailing slashes
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_URI} ^(.+)/$
    RewriteRule ^(.+)/$  /$1 [R=301,L]

    # Removes index.php
    RewriteCond $1 !\.(gif|jpe?g|png)$ [NC]
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ /index.php/$1 [L]

</IfModule> 
```

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:07:03.807

这是很有可能的。您上面的 .htaccess 代码没有显示任何将 URI 转换为小写的代码。如果有这些规则，`httpd.conf`那么最好将这些东西移动到您的 .htaccess 中，以便您可以从一个地方控制/管理所有重写规则。一旦这些规则在 .htaccess 中，您就可以使用这样的规则来避免将某些 URI 小写：

```
# if URI doesn't contains INDEX. then convert to lowercase
RewriteCond %{REQUEST_URI} !/INDEX\.
RewriteRule ^(.*?[A-Z]+.*)$ ${lc:$1} [R,L] 
```

# dtrace - 如何使用 dtrace 确定进程的最大内存使用量

> ID：15785464
> 
> 赞同：2
> 
> 时间：2013-04-03T10:57:18.543
> 
> 标签：dtrace

以下 dtrace 脚本将给出进程已执行的所有分配的总和：

```
pid$target::malloc:entry { @ = sum(arg0); } 
```

现在，我对进程生命周期内的最大总分配内存使用量（大约 50 毫秒）很感兴趣。如何生成随时间推移的总分配内存使用量图表（所有 malloc 的总和减去所有空闲的总和），或者只是它的最大值。我尝试手动跟踪所有分配的内存块，但超出了 dtrace 关联数组大小限制。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-21T23:09:10.390

首先，您的 dtrace 脚本将为您提供最大内存利用率的上限，因为您不会`free`像 s 那样跟踪`malloc`s。你可能不在乎这个。如果您确实关心，因为`free`不接受或返回释放范围的大小，您最好跟踪`brk()`系统调用返回值，这也说明了`malloc`存储在堆上的所有元数据的大小。对此的替代方法（如果您想要准确的答案）是弄清楚数据结构如何为您的操作系统工作`malloc`并`free`为您的操作系统工作，并深入研究 DTrace 中的一些指针算法以获取该信息。

其次，请注意 - 如果您使用它来实现非常快速的分配器，请记住您需要*整个*堆的大小（不仅仅是`malloc`返回的内存），因为存储在内存中的值的对齐很重要并且 malloc 返回的范围不包括这个“死区”。

现在，关于你的问题。

1.  您可以通过跟踪传入的数据来获取随时间变化的图片。只需`printa(@)`在每次调用后打印聚合的当前值即可`@ = sum(...)`。

2.  或者，如果您想要在图片中生成更准确的时间轴，您可以记录`malloc`大小为的时间戳，例如`@[walltimestamp] = sum(...)`. 在这种情况下，聚合中的每个条目将只包含一个分配大小，而不是到目前为止所有聚合的总和。

3.  如果您更喜欢第一个解决方案，但也想要一个准确的时间轴，就`trace(walltimestamp)`在您调用`printa(@)`第一个示例之前。

如果您不打算使用 DTrace，您始终可以使用`/usr/bin/time -lp`（在 Mac OS X 上 - 对于其他平台存在相同的东西，但参数不同）来获取有关进程资源利用率的一些静态信息。

```
% /usr/bin/time -lp 'date'
Tue Jun 25 14:14:35 PDT 2013
real         0.00
user         0.00
sys          0.00
    561152  maximum resident set size
         0  average shared memory size
         0  average unshared data size
         0  average unshared stack size
       158  page reclaims
         0  page faults
         0  swaps
         0  block input operations
         0  block output operations
         0  messages sent
         0  messages received
         0  signals received
         0  voluntary context switches
     3  involuntary context switches 
```

# asp.net-mvc-3 - 带有 IoC 的 MVC3：基本控制器中的参数过多。有什么选择吗？

> ID：15785465
> 
> 赞同：0
> 
> 时间：2013-04-03T10:57:24.607
> 
> 标签：asp.net-mvc-3, c#-4.0, controller, inversion-of-control, controller-factory

我正在使用 MVC 3。假设我有一个基本控制器和几个派生控制器。我正在使用 IoC，我的基本控制器构造函数如下所示：

```
private readonly ICacheProvider _cacheProvider;
private readonly ILoggerProvider _loggerProvider
private readonly IAuditProvider _auditProvider
public abstract class MyControllerBase : Controller
{
  protected MyControllerBase(ICacheProvider cacheProvider, ILoggerProvider loggerProvider, IAuditProvider auditProvider, ...)
  {
    _cacheProvider = cacheProvider;
    _loggerProvider = loggerProvider;
    _auditProvider = auditProvider;
    ...
  }
} 
```

到现在为止还挺好？也许。但是，我的每个派生控制器都需要定义一个与基类构造函数签名匹配的构造函数，例如：

```
public class MyDerivedController1 : MyControllerBase
{
        public MyDerivedController1(ICacheProvider cacheProvider, ILoggerProvider loggerProvider, IAuditProvider auditProvider, ...)
        : base(cacheProvider, loggerProvider, auditProvider, ...)
    { }
} 
```

这就是我的问题，因为我必须在所有派生控制器中维护“详细”构造函数。如果我需要添加一个新的提供者，我必须重构我所有的派生控制器。

我想我会创建一个 ServiceProvider（或 Service **Locator**？）类（和 IServiceProvider 接口），它将有一个构造函数和所有提供者作为参数（IoC 将在其中完成它的工作）并将它们作为属性公开。然后我的基本构造函数和派生构造函数将只有 IServiceProvider 作为参数。

但是我担心这种方法会产生一些负面影响，例如： 1- 隐藏实现：除非我检查实现，否则我不知道我使用或需要哪个提供程序。2-难以测试：当构造函数包含参数时，我可以轻松测试它并且我知道会发生什么（自动记录）。

有没有人有任何建议或意见？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T16:25:25.617

经过一番研究，我无法找到一个好的解决方案。正如 Daniel Hilgarth 所提到的，控制器有太多的依赖项，这违反了 SRP。我同意。鉴于这是一个现有的应用程序，我无法重构和重新设计整个事情。例如，我想将 ICacheProvider、ILoggerProvider 和 IAudiProvider 等依赖项移动到另一层，该层将负责从存储库中检索数据。

我不想在这里开始新的讨论，但我不喜欢在我的 MVC Web 项目中引用实体框架的想法。我更愿意创建一个数据访问层并完全删除对 EF 的引用。所以，回到我的问题，我有一个带有 X 依赖项的基本控制器，所有派生的控制器都需要一个包含所有这些引用的构造函数（如我上面的问题中所述）。

我考虑了几个选项：

1) 使用服务定位器。在阅读了很多帖子后，我决定忽略此选项。

[使用服务定位而不是构造函数注入来避免编写工厂类的负载是否不好](https://stackoverflow.com/questions/1599811/is-it-bad-to-use-servicelocation-instead-of-constructor-injection-to-avoid-writi)

[IoC.Resolve 与构造函数注入](https://stackoverflow.com/questions/2176833/ioc-resolve-vs-constructor-injection)

[http://blog.ploeh.dk/2010/02/03/ServiceLocatorisanAnti-Pattern/](http://blog.ploeh.dk/2010/02/03/ServiceLocatorisanAnti-Pattern/)

2) 使用聚合服务。这是个好主意，但我无法对依赖项进行分组，因此我决定也忽略这个。

[如何避免依赖注入构造函数的疯狂？](https://stackoverflow.com/questions/2420193/how-to-avoid-dependency-injection-constructor-madness)

[http://blog.ploeh.dk/2010/02/02/RefactoringtoAggregateServices/](http://blog.ploeh.dk/2010/02/02/RefactoringtoAggregateServices/)

3) 创建一个新的提供者，它将所有其他依赖项作为属性公开。我对这个选项并不完全满意，因为它以某种方式隐藏了实现细节。但经过所有考虑，我决定实施它。在下面找到创建的新接口和类：

```
 public interface IMyControllerProvider
    {
    ICacheProvider CacheProvider { get; }

    ILoggerProvider LoggerProvider { get; }

    IAuditProvider AuditProvider { get; }

     ...
    }

    public class MyControllerProvider : IMyControllerProvider
    {
    private readonly ICacheProvider _cacheProvider;
    private readonly ILoggerProvider _loggerProvider;
    private readonly IAuditProvider _auditProvider;
    .....

    public MyControllerProvider(ICacheProvider cacheProvider, ILoggerProvider loggerProvider, IAuditProvider auditProvider, ...)
    {
       _cacheProvider = cacheProvider;
       _loggerProvider = loggerProvider;
       _auditProvider = auditProvider;
       ...
    }

    public ICacheProvider CacheProvider { get { return _context; } }
    public ILoggerProvider LoggerProvider { get { return _context; } }
    public IAuditProvider AuditProvider { get { return _context; } }
} 
```

之后，我重构了我的基本控制器和所有派生控制器以使用 IMyControllerProvider 代替。它工作正常，因为：

1- 派生控制器现在有一个具有单个依赖项的构造函数。

2-虽然新的依赖**IMyControllerProvider** “隐藏”了真正的依赖，但在测试控制器时，仍然很容易理解还有其他依赖（构造函数记录）。

```
 private readonly ICacheProvider _cacheProvider;
private readonly ILoggerProvider _loggerProvider
private readonly IAuditProvider _auditProvider
public abstract class MyControllerBase : Controller
{
    protected MyControllerBase(IMyControllerProvider myControllerProvider)
    {
        _cacheProvider = myControllerProvider.CacheProvider;
        _loggerProvider = myControllerProvider.LoggerProvider;
        _auditProvider = myControllerProvider.AuditProvider;
    }
}

public class MyDerivedController1 : MyControllerBase
{
        public MyDerivedController1(IMyControllerProvider myControllerProvider)
          : base(myControllerProvider)
    { }
} 
```

不是最好的解决方案，但考虑到重构整个应用程序的限制，我能想出的唯一解决方案。

# c# - rdlc 报告移动对齐的文本框

> ID：15785467
> 
> 赞同：4
> 
> 时间：2013-04-03T10:57:35.530
> 
> 标签：c#, reporting, reportviewer, rdlc

当我创建报表查看器时，所有项目都对齐了。*（标签 - 彼此之间没有数据绑定的文本框）*，然后*是文本框（彼此下方的数据绑定）*，但是当我运行报告时，它混乱且未对齐。

一些文本框出现得更靠左，而另一些则靠右。我如何将其设置为不动？

运行报告时，矩形似乎变大了（矩形中有 3 个数据绑定文本框和 3 个非数据绑定文本框，颜色为灰色）。当矩形变大时，颜色的顶部和底部有白色间隙。

编辑

![这就是它在设计中的样子（仅部分图像），但有很多地方确实存在问题](https://i.stack.imgur.com/3Bjt1.png)

第二张图片是 rdlc 的这一部分在运行时的显示方式。边框的右侧必须不对齐才能在运行时完全对齐。至于付款方式，它们完全显示在矩形下方。

![在运行时](https://i.stack.imgur.com/h9kF8.png)

我不再有文本框不合适的问题了。我将它们添加到一个矩形中，并取出显示它们不合适的填充。

在整个 rdlc 文件中有更多这样的实例，但这基本上是所有实例的问题。

# php - .htaccess 重写动态软链接隐藏目录

> ID：15785473
> 
> 赞同：1
> 
> 时间：2013-04-03T10:58:04.020
> 
> 标签：php, .htaccess, mod-rewrite, symlink, hardlink

我不知道如何表达这个问题，但希望我的描述对我希望达到的目标更有意义。

我目前正在构建一个支持多个应用程序的框架。目录结构是这样的：

```
/applications/

--/admin/
----/www/
------/css/
--------/bootstrap.css
------/img/
--------/logo.png

--/gallery/
----/www/

/system/
/www/ <- web root
--/.htaccess
--/index.php 
```

我正在使用 php 中的 PATH_INFO 数据对“漂亮的 url”进行 url 重写。

`site.com/index.php/path/info/data/`

将与

`site.com/path/info/data/`

所以一切都会通过那个 index.php

该框架的基本前提是，url的第一段将与应用程序名称相关：

```
site.com/admin/ <- will load the admin application
site.com/gallery/ <- will load the gallery application
site.com/ <- will load what ever the default application is (specified in a framework config) 
```

现在这就是我想要这个重写规则做的事情（如果可能的话），我会使用一些示例 url 来帮助说明我的观点。

site.com/admin/login/

1.  规则获取第一段**管理员**

2.  规则检查应用程序目录中是否存在**admin**文件夹

3.  如果存在，请使其可以通过**site.com/admin/www/访问****admin/www**内容

***   禁用目录查看，只允许链接到文件，所以**site.com/admin/www/img/**不可访问，但**site.com/admin/www/img/logo.png**可访问

    *   只有文件优先于 index.php 重写，因此**site.com/admin/www/img/**将被传递给 index.php，即使该文件夹存在，但**site.com/admin/www/img/logo.png**总是引用文件，除非它不存在，在这种情况下它被传递给 index.php** 

 **所以为了澄清，这里有一些链接以及我希望他们做什么（使用上面的示例目录列表）：

```
site.com/ < index.php
site.com/admin/ < index.php
site.com/admin/www/ < index.php
site.com/admin/www/nonexistantfile.php < index.php
site.com/gallery/ < index.php
site.com/admin/www/css/ < index.php

site.com/admin/www/css/bootstrap.css < bootstrap.css
site.com/admin/www/img/logo.png < logo.png 
```

虽然我可以使用框架本身做我想做的事，但是在每个资产负载上运行 uri 解析引擎和任何其他框架部分都太耗费资源了，这就是为什么我想使用 .htaccess 来处理这个问题

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T12:26:35.297

尝试在您的`.htaccess`文件中使用它：

```
Options +FollowSymlinks
RewriteEngine on

RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^(.*) /index.php

RewriteRule %{REQUEST_URI} ([a-z0-9-_]+)\.(php|png|css)$
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^(.*) /index.php 
```

你说你想重写它们，但如果你不想因为它对搜索引擎不友好，只需在代码上添加一个`[R]`标志，`/index.php`但不要忘记标志前的一个空格，以使它们重定向。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:44:14.917

会不会是这样的？：

```
# File: www/.htaccess

RewriteEngine on

RewriteBase /
# If a file exists, serve it directly
RewriteCond %{REQUEST_FILENAME} !-f

# otherwise forward the request to the index.php
RewriteRule . index.php 
```

确保您已启用`mod_rewrite`并放置适当`AllowOverride`的指令以`.htaccess`使其生效。**

# php - Windows cygwin gearman ./configure 显示“配置：错误：无法找到 libevent”错误

> ID：15785475
> 
> 赞同：2
> 
> 时间：2013-04-03T10:58:08.120
> 
> 标签：php, windows, cygwin, gearman, libevent

我正在尝试安装 gearman [http://www.phpvs.net/2010/11/30/installing-gearman-and-gearmand-on-windows-with-cygwin/](http://www.phpvs.net/2010/11/30/installing-gearman-and-gearmand-on-windows-with-cygwin/)

我下载了“libevent-2.0.21-stable.tar.gz”并解压到 cygwin 的 home/libs 目录（我自己创建了一个 libs 目录），其中还有“gearmand-1.1.5”。然后，在 libevent 目录中，我做了：

```
./configure
make
make install 
```

安装 libevent 后，我​​切换到 gearman 目录并做了：

```
./configure 
```

这导致“配置：错误：无法找到 libevent”。有任何想法吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-14T07:27:13.923

刚才，我解决了这个问题。这是因为当我们完成编译“libevent”时，它会在./usr/local/lib 中生成lib 文件。该路径不包含在环境变量——PATH 中。所以，我们必须将它复制到“usr/local/bin”，然后，它运行良好......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-02-22T17:10:14.420

为了我：

1.  我安装了 Cygwin`C:\cygwin64\`
2.  下载`libevent-2.0.22-stable`到`C:\cygwin64\home\user1`

    ```
    cd libevent-2.0.22-stable
    ./configure
    make
    make install 
    ```

    - 这将创建`.libs`文件夹并用创建的输出填充它

3.  我将所有内容复制`C:\cygwin64\home\user1\libevent-2.0.22-stable\.libs`
    到`C:\cygwin64\lib`但将`.dll`文件移动到`C:\cygwin64\bin`

4.  我`C:\cygwin64\home\user1\gearmand-1.1.12`再次下载了同样的技巧：

    ```
    cd gearmand-1.1.12
    ./configure
    make
    make install 
    ```

希望这可以帮助。您可能还想检查一下：
[我如何在 Windows 操作系统上安装 gearman php 扩展？](https://stackoverflow.com/q/11373363/1168156)

更新：请注意，您可能需要选择较低版本，因为较高版本可能会出现一些编译问题，请参阅[https://gist.github.com/mnapoli/5270256](https://gist.github.com/mnapoli/5270256)

更新 2：让 PECL 扩展在 Windows 上工作非常困难，我以这个巧妙的技巧结束：让 PEAR 工作，然后`pear install Net_Gearman-0.2.3`在使用 class 的代码中获取和`GearmanClient`：

```
require_once("Net/Gearman/Client.php");
use Net_Gearman_Client as GearmanClient;

... new GearmanClient([$serverId]); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-03-23T15:57:59.997

```
yum install libevent-devel 
```

然后配置并制作

在这里回答：[https ://unix.stackexchange.com/questions/33368/trying-to-install-gearman-on-centos-and-configure-cannot-find-event-h-even-th](https://unix.stackexchange.com/questions/33368/trying-to-install-gearman-on-centos-and-configure-cannot-find-event-h-even-th)

# weblogic - 带有 weblogic 错误 [Content_Types].xml 异常的 docx4j

> ID：15785476
> 
> 赞同：0
> 
> 时间：2013-04-03T10:58:08.280
> 
> 标签：weblogic, docx4j

当我使用 docx4j 和 weblogic 打开 docx 文件时如何解决这个异常。以下是我的代码：

```
WordprocessingMLPackage templatePackage = WordprocessingMLPackage
                .load(getDocxInputTream()); 
```

例外是：

```
2013-04-03 18:10:29 ERROR ContentTypeManager:698 - java.lang.NullPointerException
    org.docx4j.openpackaging.exceptions.InvalidFormatException: Bad [Content_Types].xml
            at org.docx4j.openpackaging.contenttype.ContentTypeManager.parseContentTypesFile(ContentTypeManager.java:699)
            at org.docx4j.openpackaging.io.LoadFromZipNG.process(LoadFromZipNG.java:206)
            at org.docx4j.openpackaging.io.LoadFromZipNG.get(LoadFromZipNG.java:193)

            at org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:301)
            at org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:245)
            at org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:213)
            at org.docx4j.openpackaging.packages.WordprocessingMLPackage.load(Wordpr ocessingMLPackage.java:184) 
```

提前谢谢！

# c# - 如何使用 .NET 获取活动目录中的用户列表？

> ID：15785479
> 
> 赞同：-1
> 
> 时间：2013-04-03T10:58:22.633
> 
> 标签：c#, asp.net, active-directory

我想获取活动目录中的用户列表。我将如何在 asp.net 中实现这一点？

涉及哪些对象和功能。有没有人有任何示例代码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T12:08:36.400

我现在没有任何示例代码，但我认为使用外部文本文件就可以了。

您可以将数据存储在普通的 .txt 文件或 XML 文件中。我通常使用 XML 文件在项目目录中存储数据。

用于读取和写入 XML 文件的教程遍布互联网，适用于 C#。只需在谷歌上搜索！

祝你好运！

# php - jQuery 按钮无法正确显示

> ID：15785482
> 
> 赞同：-1
> 
> 时间：2013-04-03T10:58:26.277
> 
> 标签：php, jquery, html, jquery-ui

我在我的应用程序中使用 jQuery 按钮，但由于某种原因，它显示为没有 jQuery 属性的普通按钮。html 标记位于一个名为 的单独文件`ajax.php`中，而 jQuery 位于主文件中。

这是jQuery的编码：

```
$(".back_to_list").button().live("click", function(){
}); 
```

这是按钮的 html 标记：

```
 $html = '';
    $html .= '<table>
                <tr>
                    <td><button class="back_to_list" >Back</button></td>
                </tr>
            </table>';

echo $html; 
```

有谁知道为什么该按钮不显示为 jQuery ui 按钮？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:01:14.853

您必须确保在加载文档时调用 .button() 代码（如在第一个示例中）：

```
$(function () { // jQuery "wrapper" for 'run when document is loaded
    $(".back_to_list").button().live("click", function(){
    });
}); 
```

**编辑：**还要注意[.live()](http://api.jquery.com/live/)自 jQuery 1.7 起已弃用，**并从 jQuery 1.9**起删除使用[.on()](http://api.jquery.com/on/)。如果您运行的是较新版本的 jQuery，这也可能是您的问题。

# facebook - facebook分享链接上没有图标

> ID：15785487
> 
> 赞同：0
> 
> 时间：2013-04-03T10:58:36.687
> 
> 标签：facebook, facebook-like, facebook-sharer

我正在尝试使用 facebook 创建一个共享按钮，它可以工作，只是我没有 facebook 图标。我必须自己做吗

```
<a href="http://www.facebook.com/sharer.php?s=100&p[title]=titlehere&p[url]=http://www.yoururlhere.com&p[summary]=yoursummaryhere&p[images][0]=http://myimage.com">link</a> 
```

编辑：我要的是

是否可以从 facebook 获取图标或者我必须提供自己的图标？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:19:22.237

您需要确保图像的参数指向图像的有效 URL，例如

```
&p[images][0]=https://www.google.co.za/images/srpr/logo4w.png 
```

所以完整的 URL 将是：

```
https://www.facebook.com/sharer/sharer.php?s=100&p%5Btitle%5D=titlehere&p%5Burl%5D=http%3A%2F%2Fwww.yoururlhere.com&p%5Bsummary%5D=yoursummaryhere&p%5Bimages%5D%5B0%5D=http%3A%2F%2Fwww.google.co.za/images/srpr/logo4w.png 
```

# html - Prettyprint荧光笔不起作用

> ID：15785490
> 
> 赞同：0
> 
> 时间：2013-04-03T10:58:45.173
> 
> 标签：html, syntax-highlighting, pretty-print, codehighlighter

我想在我的网页上使用 prettyprint，但它不起作用......

我有一个 html 片段，但浏览器将其解释为真正的 html 代码。

在html头中，我已经实现了

```
 <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
<link rel="stylesheet" href="${cs.qualify("/css/prettify.css")}" type="text/css" media="screen" /> 
```

和我的 html 代码我插入到这样的 pre 标签中

```
<pre class="prettyprint"><div id="test"><h2>Hello</h2></div></pre> 
```

我不知道，什么问题...

有人可以帮帮我吗？！

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:07:05.470

您需要确保将尖括号转换为**pre**标记中的 HTML 字符实体。例如：

```
// This is <div>
&lt;div&gt;

// This is </div>
&lt;/div&gt; 
```

# c# - 使用数据集的动态选项卡

> ID：15785494
> 
> 赞同：0
> 
> 时间：2013-04-03T10:58:48.767
> 
> 标签：c#, asp.net, sql, telerik

如何为一个或多个数据集加载动态选项卡？我需要一些帮助来获取/映射选项卡上的数据集表名称。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:01:12.847

使用 AjaxTabContainer 并以编程方式从后面的代码中分配选项卡内的名称和数据。AjaxTabContainer 类中提供了几个函数。

# c++ - C++ 模板尖括号陷阱 - 什么是 C++11 修复？

> ID：15785496
> 
> 赞同：17
> 
> 时间：2013-04-03T10:58:50.283
> 
> 标签：c++, parsing, templates, tokenize

在 C++11 中，这是现在有效的语法：

```
vector<vector<float>> MyMatrix; 
```

而以前，它必须这样写（注意空格）：

```
vector<vector<float> > MyMatrix; 
```

我的问题是标准用来允许第一个版本的修复是什么？

是否可以像制作`>`令牌而不是一样简单`>>`？如果不是这样，那么这种方法有什么不适用的？

我认为这样的形式`myTemplate< x>>3 >`没有问题，因为你可以通过做来消除它们的歧义`myTemplate<(x>>3)>`。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-04-03T11:03:42.323

通过在解析模板参数时向解析规则添加一个特殊情况来修复它。

> C++11 14.2/3：解析*模板参数列表*时，第一个非嵌套`>`的被视为结束分隔符，而不是大于运算符。类似地，第一个非嵌套`>>`的被视为两个连续但不同的`>`标记，其中第一个被视为*模板参数列表*的末尾并完成了*模板 ID*。

# php - Yii - 多个 url 映射到单个控制器/动作

> ID：15785500
> 
> 赞同：1
> 
> 时间：2013-04-03T10:59:08.070
> 
> 标签：php, yii, content-management-system, url-routing

Yii 擅长的一件事是动态创建内容管理系统和类似系统。此类系统通常重量轻且可扩展，因为它们利用了 Yii 框架并且仅使用所需的功能，而使用现成的开源 CMS 解决方案（例如 Drupal）则无法实现。

我过去曾使用它来这样做，但复杂程度最低。例如，用户可以编辑内容，但是我硬编码了控制器/操作/视图文件并将内容发送到每个页面。

我将如何将我的内容管理系统创建提升一个档次并允许以编程方式创建页面？我想这样做，以便用户可以创建一个新页面并指定一个 URL。

我考虑重新使用相同的控制器并将其映射到不同的视图文件，具体取决于用户的选择，但我对解决此问题的其他方法持开放态度，我认为其他人必须解决这些问题。

另外，允许用户指定一个 URL 是一个重要的特性，如何传递呢？

为基于长文本的问题道歉。我想不出如何以任何其他格式适当地捕获我的用例。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T17:33:50.427

例如，创建名为`users_articles_uris`.

该表将包含主键和 URI 本身（例如`my-cool-title-for-something`）。以后会变成：`yoursite.com/my-cool-title-for-something` 或`yousite.com/controller/action/<users_special_uri>`。

通过`.htaccess`或使用 Yii 路由，您将：

1.  获取URI；
2.  在数据库中找到它；
3.  获取文章的id；
4.  找到文章；
5.  打印您需要的数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:19:41.967

常用的选项是将 URI 存储在数据库中。与用户内容在同一行中，或者创建一个表来存储对用户内容的 URI 和 id 引用。

发出请求时，只需从 DB 中提取请求的 uri 数据（因为 uri 不是动态的。甚至如此..）并显示内容（我认为 WP 会做类似的事情，但企业系统也会这样做），

当然，缓存好:)

# iis - 模拟 Visual Studio 开发服务器

> ID：15785504
> 
> 赞同：0
> 
> 时间：2013-04-03T10:59:27.997
> 
> 标签：iis, impersonation, visual-studio-debugging

我正在尝试用 asp.net 模拟模拟。如果我将我的应用程序与 IIS 一起使用，我没有任何问题并且可以正确模拟模拟，但如果我使用 VS 开发服务器，我会收到以下消息：

冒充……失败！[1326] 登录失败：未知用户名或密码错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:25:42.033

尝试对 VS 开发服务器使用模拟时，您是否使用当前 Windows 用户的凭据？

据我所知，只有这个用户可以使用，因为该应用程序作为可执行文件运行。

这是另一个面临您问题的用户的解决方案：

“实际上，在将项目设置为使用 IIS 并创建虚拟目录后，我现在也可以使用内置的 Web 服务器对其进行调试。”

也许这有帮助。

# android - Android文件再次选择对话框

> ID：15785506
> 
> 赞同：2
> 
> 时间：2013-04-03T10:59:35.647
> 
> 标签：android, filechooser

我和这篇文章有完全相同的问题 [选择文件对话框](https://stackoverflow.com/questions/3592717/choose-file-dialog#)

我在那里没有看到任何真正有用的答案。

理想情况下，我想要一个像 MFC CFileDialog 类一样工作的简单对话框的简单 Java 代码示例，即您只需新建它，执行 .show 即可

到目前为止，我所看到的一切看起来都过于复杂，因为这应该是一项非常简单的工作。任何人都可以提供更多最新信息吗？

谢谢

更新，

在那篇文章中 [选择文件对话框](https://stackoverflow.com/questions/3592717/choose-file-dialog?rq=1#) 中，Kirill Mikhailov 的答案似乎在几分钟测试后工作正常

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T09:33:33.067

我在该示例中添加了一个取消按钮，似乎工作正常

```
import java.io.File;
import java.io.FilenameFilter;
import java.util.ArrayList;
import java.util.List;

import com.design2112.tabtrax.ListenerList.FireHandler;

import android.app.Activity;
import android.app.AlertDialog;
import android.app.Dialog;
import android.content.DialogInterface;
import android.os.Environment;

public class FileDialog {
    private static final String PARENT_DIR = "..";
    private final String TAG = getClass().getName();
    private String[] fileList;
    private File currentPath;

    public interface FileSelectedListener {
        void fileSelected(File file);
    }

    public interface DirectorySelectedListener {
        void directorySelected(File directory);
    }

    private ListenerList<FileSelectedListener> fileListenerList = new ListenerList<FileDialog.FileSelectedListener>();
    private ListenerList<DirectorySelectedListener> dirListenerList = new ListenerList<FileDialog.DirectorySelectedListener>();
    private final Activity activity;
    private boolean selectDirectoryOption;
    private String fileEndsWith;

    /**
     * @param activity
     * @param initialPath
     */
    public FileDialog(Activity activity, String path) {
        this.activity = activity; 
        loadFileList(new File(path));
    }

    /**
     * @return file dialog
     */
    public Dialog createFileDialog() {
        Dialog dialog = null;
        AlertDialog.Builder builder = new AlertDialog.Builder(activity);

        builder.setTitle(currentPath.getPath());
        /*
         * if (selectDirectoryOption) {
         * builder.setPositiveButton("Select directory", new OnClickListener() {
         * public void onClick(DialogInterface dialog, int which) { Log.d(TAG,
         * currentPath.getPath()); fireDirectorySelectedEvent(currentPath); }
         * }); }
         */

        builder.setItems(fileList, new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dialog, int which) {
                String fileChosen = fileList[which];
                File chosenFile = getChosenFile(fileChosen);
                if (chosenFile.isDirectory()) {
                    loadFileList(chosenFile);
                    dialog.cancel();
                    dialog.dismiss();
                    showDialog();
                } else
                    fireFileSelectedEvent(chosenFile);
            }
        });
        builder.setNegativeButton("Cancel", new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dialog, int which) { 
                dialog.dismiss();
            }
        });
        dialog = builder.show();
        return dialog;
    }

    public void addFileListener(FileSelectedListener listener) {
        fileListenerList.add(listener);
    }

    public void removeFileListener(FileSelectedListener listener) {
        fileListenerList.remove(listener);
    }

    public void setSelectDirectoryOption(boolean selectDirectoryOption) {
        this.selectDirectoryOption = selectDirectoryOption;
    }

    public void addDirectoryListener(DirectorySelectedListener listener) {
        dirListenerList.add(listener);
    }

    public void removeDirectoryListener(DirectorySelectedListener listener) {
        dirListenerList.remove(listener);
    }

    /**
     * Show file dialog
     */
    public void showDialog() {
        createFileDialog().show();
    }

    private void fireFileSelectedEvent(final File file) {
        fileListenerList.fireEvent(new FireHandler<FileDialog.FileSelectedListener>() {
            public void fireEvent(FileSelectedListener listener) {
                listener.fileSelected(file);
            }
        });
    }

    private void fireDirectorySelectedEvent(final File directory) {
        dirListenerList.fireEvent(new FireHandler<FileDialog.DirectorySelectedListener>() {
            public void fireEvent(DirectorySelectedListener listener) {
                listener.directorySelected(directory);
            }
        });
    }

    private void loadFileList(File path) {
        this.currentPath = path;
        List<String> r = new ArrayList<String>();
        if (path.exists()) {
            if (path.getParentFile() != null)
                r.add(PARENT_DIR);
            FilenameFilter filter = new FilenameFilter() {
                public boolean accept(File dir, String filename) {
                    File sel = new File(dir, filename);
                    if (!sel.canRead())
                        return false;
                    if (selectDirectoryOption)
                        return sel.isDirectory();
                    else {
                        boolean endsWith = fileEndsWith != null ? filename
                                .toLowerCase().endsWith(fileEndsWith) : true;
                        return endsWith || sel.isDirectory();
                    }
                }
            };
            String[] fileList1 = path.list(filter);
            for (String file : fileList1) {
                r.add(file);
            }
        }
        fileList = (String[]) r.toArray(new String[] {});
    }

    private File getChosenFile(String fileChosen) {
        if (fileChosen.equals(PARENT_DIR))
            return currentPath.getParentFile();
        else
            return new File(currentPath, fileChosen);
    }

    public void setFileEndsWith(String fileEndsWith) {
        this.fileEndsWith = fileEndsWith != null ? fileEndsWith.toLowerCase()
                : fileEndsWith;
    }
}

class ListenerList<L> {
    private List<L> listenerList = new ArrayList<L>();

    public interface FireHandler<L> {
        void fireEvent(L listener);
    }

    public void add(L listener) {
        listenerList.add(listener);
    }

    public void fireEvent(FireHandler<L> fireHandler) {
        List<L> copy = new ArrayList<L>(listenerList);
        for (L l : copy) {
            fireHandler.fireEvent(l);
        }
    }

    public void remove(L listener) {
        listenerList.remove(listener);
    }

    public List<L> getListenerList() {
        return listenerList;
    }
} 
```

# javascript - 拉丁字符检查

> ID：15785508
> 
> 赞同：7
> 
> 时间：2013-04-03T10:59:39.047
> 
> 标签：javascript, regex, unicode, character-properties

那里有一些类似的问题，但没有一个完全相同或有适合我的答案。

我需要一个javascript函数来验证一个文本字段是否包含所有有效的拉丁字符，所以没有cryllic或中文，只有拉丁文；具体来说：

> Basic Latin（不包括 C0 控制字符）、Latin-1（不包括 C1 控制字符）、Latin Extended A、Latin Extended B 和 Latin Extended Additional。此集合对应于 Unicode 码位 U+0020 到 U+007E、U+00A0 到 U+024F 和 U+IE00 到 U+IEFF

那里的一些答案似乎检查了文本字段中的第一个字符，但错过了其他答案，所以这些都不好。

这是我迄今为止尝试过的（这不起作用！）：

```
var value = 'abcdef' // from text field
var re = '\u0000-\u007F|\u0100-\u017F|\u0180-\u024F|\u1E00-\u1EFF|\u0080-\u00FF'; // latin regexp string
// var re = '\\w+/'; // alternative
if (new RegExp(re).test(value)) {
    result = false;
} 
```

以下类型的作品但仅适用于第一个字符：

```
//var re = '\u0000-\u007F|\u0100-\u017F|\u0180-\u024F|\u1E00-\u1EFF|\u0080-\u00FF'; // latin regexp string
// couldn't get the above to work so using the following:
var re = '\\w+';
if (!value.match(re)) {
    message = 'Please enter valid latin characters only';
    $focusField = $this;
} 
```

这样做的正确方法是什么？

我真的需要代码，而不是解释，但两者都会更好。

谢谢

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-04-03T11:54:46.367

**编辑**：请注意，接受的答案中给出的解决方案不正确。它充满了假阳性和假阴性。所需的确切数字代码点编号在这篇文章的底部给出。

***问题给出的示例错误地尝试使用 Block 而不是 Script 属性！***

您不想在这里使用 Unicode 块字符属性；您想使用 Unicode 脚本字符属性。换句话说，你真的想要`Script=Latin`而***不是*** 尝试使用`Block=Basic_Latin`plus `Block=Latin_1`plus `Block=Latin_1_Supplement`plus `Block=Latin_Extended_A`plus `Block=Latin_Extended_Additional`。

另请注意，该问题忽略了其他拉丁语块：`Block=Latin_Extended_C` 和`Block=Latin_Extended_D`。

即使您使用了正确的块，您也会在这些块中得到 145 个误报，但它们不是拉丁脚本字符：

```
$ unichars '\P{Script=Latin}' '[\p{Block=Basic_Latin}\p{Block=Latin_1}\p{Block=Latin_1_Supplement}\p{Block=Latin_Extended_A}\p{Block=Latin_Extended_B}
\p{Block=Latin_Extended_Additional}\p{Block=Latin_Extended_C}\p{Block=Latin_Extended_D}]' | wc -l
145 
```

此外，您会错过 403 个确实是拉丁脚本字符但不在这些块中的误报：

```
$ unichars '\p{Script=Latin}' '[^\p{Block=Basic_Latin}\p{Block=Latin_1}\p{Block=Latin_1_Supplement}\p{Block=Latin_Extended_A}\p{Block=Latin_Extended_B
}\p{Block=Latin_Extended_Additional}\p{Block=Latin_Extended_C}\p{Block=Latin_Extended_D}]' | wc -l
403 
```

你几乎***从***不想使用 Blocks；你想使用脚本。这就是为什么 UTS#18 的 1 级一致性要求在[Requirement 1.2中支持 Script character 属性，但在](http://www.unicode.org/reports/tr18/#RL1.2)[Requirement 2.7: Full Properties](http://www.unicode.org/reports/tr18/#RL2.7)之前没有提到 Block属性。

请参阅[UTS#18 附录 A，字符块](http://www.unicode.org/reports/tr18/#Character_Blocks)，了解更多使用块而不是脚本的陷阱。

由于 Javascript 错误导致无法按范围指定这些代码点，因此删除了位于基本多语言平面之外的代码点，我们只剩下这组***疯狂不可维护的乱码，***需要找出所有 Unicode v6.2 代码点拉丁文、通用或继承的脚本字符属性：

```
[\u0000-\u0040][\u0041-\u005A][\u005B-\u0060][\u0061-\u007A][\u007B-\u00A9]\u00AA[\u00AB-\u00B9]\u00BA[\u00BB-\u00BF][\u00C0-\u00D6]\u00D7[\u00D8-\u00
F6]\u00F7[\u00F8-\u02B8][\u02B9-\u02DF][\u02E0-\u02E4][\u02E5-\u02E9][\u02EC-\u02FF][\u0300-\u036F]\u0374\u037E\u0385\u0387[\u0485-\u0486]\u0589\u060C
\u061B\u061F\u0640[\u064B-\u0655][\u0660-\u0669]\u0670\u06DD[\u0951-\u0952][\u0964-\u0965]\u0E3F[\u0FD5-\u0FD8]\u10FB[\u16EB-\u16ED][\u1735-\u1736][\u
1802-\u1803]\u1805[\u1CD0-\u1CD2]\u1CD3[\u1CD4-\u1CE0]\u1CE1[\u1CE2-\u1CE8][\u1CE9-\u1CEC]\u1CED[\u1CEE-\u1CF3]\u1CF4[\u1CF5-\u1CF6][\u1D00-\u1D25][\u
1D2C-\u1D5C][\u1D62-\u1D65][\u1D6B-\u1D77][\u1D79-\u1DBE][\u1DC0-\u1DE6][\u1DFC-\u1DFF][\u1E00-\u1EFF][\u2000-\u200B][\u200C-\u200D][\u200E-\u2064][\u
206A-\u2070]\u2071[\u2074-\u207E]\u207F[\u2080-\u208E][\u2090-\u209C][\u20A0-\u20BA][\u20D0-\u20F0][\u2100-\u2125][\u2127-\u2129][\u212A-\u212B][\u212
C-\u2131]\u2132[\u2133-\u214D]\u214E[\u214F-\u215F][\u2160-\u2188]\u2189[\u2190-\u23F3][\u2400-\u2426][\u2440-\u244A][\u2460-\u26FF][\u2701-\u27FF][\u
2900-\u2B4C][\u2B50-\u2B59][\u2C60-\u2C7F][\u2E00-\u2E3B][\u2FF0-\u2FFB][\u3000-\u3004]\u3006[\u3008-\u3020][\u302A-\u302D][\u3030-\u3037][\u303C-\u30
3F][\u3099-\u309A][\u309B-\u309C]\u30A0[\u30FB-\u30FC][\u3190-\u319F][\u31C0-\u31E3][\u3220-\u325F][\u327F-\u32CF][\u3358-\u33FF][\u4DC0-\u4DFF][\uA70
0-\uA721][\uA722-\uA787][\uA788-\uA78A][\uA78B-\uA78E][\uA790-\uA793][\uA7A0-\uA7AA][\uA7F8-\uA7FF][\uA830-\uA839][\uFB00-\uFB06][\uFD3E-\uFD3F]\uFDFD
[\uFE00-\uFE0F][\uFE10-\uFE19][\uFE20-\uFE26][\uFE30-\uFE52][\uFE54-\uFE66][\uFE68-\uFE6B]\uFEFF[\uFF01-\uFF20][\uFF21-\uFF3A][\uFF3B-\uFF40][\uFF41-\
uFF5A][\uFF5B-\uFF65]\uFF70[\uFF9E-\uFF9F][\uFFE0-\uFFE6][\uFFE8-\uFFEE][\uFFF9-\uFFFD] 
```

就个人而言，我会解雇任何试图使用这种废话的人。

此外，由于处理完整 Unicode 的 Javascript 错误，您错过的 3,225 个代码点如下：

```
10100-10102 10107-10133 10137-1013F 10190-1019B 101D0-101FC 101FD
1D000-1D0F5 1D100-1D126 1D129-1D166 1D167-1D169 1D16A-1D17A 1D17B-1D182
1D183-1D184 1D185-1D18B 1D18C-1D1A9 1D1AA-1D1AD 1D1AE-1D1DD 1D300-1D356
1D360-1D371 1D400-1D454 1D456-1D49C 1D49E-1D49F 1D4A2 1D4A5-1D4A6
1D4A9-1D4AC 1D4AE-1D4B9 1D4BB 1D4BD-1D4C3 1D4C5-1D505 1D507-1D50A
1D50D-1D514 1D516-1D51C 1D51E-1D539 1D53B-1D53E 1D540-1D544 1D546
1D54A-1D550 1D552-1D6A5 1D6A8-1D7CB 1D7CE-1D7FF 1F000-1F02B 1F030-1F093
1F0A0-1F0AE 1F0B1-1F0BE 1F0C1-1F0CF 1F0D1-1F0DF 1F100-1F10A 1F110-1F12E
1F130-1F16B 1F170-1F19A 1F1E6-1F1FF 1F201-1F202 1F210-1F23A 1F240-1F248
1F250-1F251 1F300-1F320 1F330-1F335 1F337-1F37C 1F380-1F393 1F3A0-1F3C4
1F3C6-1F3CA 1F3E0-1F3F0 1F400-1F43E 1F440 1F442-1F4F7 1F4F9-1F4FC
1F500-1F53D 1F540-1F543 1F550-1F567 1F5FB-1F640 1F645-1F64F 1F680-1F6C5
1F700-1F773 E0001 E0020-E007F E0100-E01EF 
```

## 下面列出了执行所有这些操作的正确方法。

如果您打算使用 Unicode 字符属性，那么硬编码这样的代码点数字就等于没有希望了。你真正想要的是能够说这样的话：

```
[^\p{Script=Latin}\p{Script=Common}\p{Script=Inherited}] 
```

然而，在这方面，Javascript 正则表达式仍然完全是千禧一代，并且远未符合[Unicode 技术标准 #18：Unicode 正则表达式](http://www.unicode.org/reports/tr18/)，即使在[其最基本的合规级别一级](http://www.unicode.org/reports/tr18/#Basic_Unicode_Support)：

> **级别 1：基本 Unicode 支持。**在此级别，正则表达式引擎支持将 Unicode 字符作为基本逻辑单元。（这与 Unicode 的实际序列化为 UTF-8、UTF-16BE、UTF-16LE、UTF-32BE 或 UTF-32LE 无关。）这是有用的 Unicode 支持的最低级别。它没有考虑最终用户对字符支持的期望，但确实满足了大多数低级程序员的要求。此级别的正则表达式匹配结果与国家或语言无关。在这个级别，正则表达式引擎的用户需要编写更复杂的正则表达式来进行完整的 Unicode 处理。

因为 **即使是 Unicode 正则表达式最基本的合规级别仍然*远远*低于 Javascript 的能力，**所以我强烈建议您在服务器上以某种实际支持它们的语言运行您需要的任何 Unicode 感知正则表达式。

但是，如果这不切实际，一个节省理智的解决方法是[Javascript XRegExp 插件](http://xregexp.com/plugins/)，它提供了一个更健全的正则表达式库，还允许访问某些基本字符属性，例如您尝试使用的。

从 v2.0 开始，“XRegExp All”插件支持所有这些：

*   XRegExp 2.0.0
*   Unicode 基础 1.0.0
*   Unicode 类别 1.2.0
*   Unicode 脚本 1.2.0
*   Unicode 块 1.2.0
*   Unicode 属性 1.0.0
*   XRegExp.matchRecursive 0.2.0
*   XRegExp.build 0.1.0
*   原型 1.0.0

这意味着一旦你加载了它，你就可以通过这种方式获得你需要的属性：

```
XRegExp("[^\\p{Latin}\\p{Common}\\p{Inherited}]"); 
```

请注意，从 Unicode v6.2 开始，以下所有代码点和代码点范围都被视为具有`Script=Latin`字符属性：

```
0041-005A 
0061-007A 
00AA 
00BA 
00C0-00D6 
00D8-00F6 
00F8-02B8 
02E0-02E4 
1D00-1D25 
1D2C-1D5C 
1D62-1D65 
1D6B-1D77 
1D79-1DBE 
1E00-1EFF 
2071 
207F 
2090-209C 
212A-212B 
2132 
214E 
2160-2188 
2C60-2C7F 
A722-A787 
A78B-A78E 
A790-A793 
A7A0-A7AA 
A7F8-A7FF 
FB00-FB06 
FF21-FF3A 
FF41-FF5A 
```

而这些是具有`Script=Common`字符属性的代码点：

```
0000-0040  
005B-0060  
007B-00A9  
00AB-00B9  
00BB-00BF  
00D7
00F7
02B9-02DF  
02E5-02E9  
02EC-02FF  
0374
037E
0385 
0387
0589
060C
061B
061F
0640
0660-0669  
06DD
0964-0965  
0E3F 
0FD5-0FD8  
10FB
16EB-16ED
1735-1736
1802-1803
1805
1CD3
1CE1
1CE9-1CEC
1CEE-1CF3
1CF5-1CF6
2000-200B
200E-2064
206A-2070  
2074-207E  
2080-208E  
20A0-20BA  
2100-2125
2127-2129
212C-2131  
2133-214D  
214F-215F  
2189
2190-23F3
2400-2426
2440-244A
2460-26FF
2701-27FF
2900-2B4C
2B50-2B59
2E00-2E3B
2FF0-2FFB  
3000-3004
3006
3008-3020
3030-3037  
303C-303F
309B-309C
30A0
30FB-30FC
3190-319F
31C0-31E3
3220-325F
327F-32CF
3358-33FF
4DC0-4DFF
A700-A721
A788-A78A
A830-A839
FD3E-FD3F  
FDFD
FE10-FE19  
FE30-FE52
FE54-FE66
FE68-FE6B  
FEFF
FF01-FF20  
FF3B-FF40
FF5B-FF65
FF70
FF9E-FF9F
FFE0-FFE6
FFE8-FFEE
FFF9-FFFD
10100-10102
10107-10133
10137-1013F
10190-1019B
101D0-101FC
1D000-1D0F5
1D100-1D126
1D129-1D166
1D16A-1D17A
1D183-1D184
1D18C-1D1A9
1D1AE-1D1DD
1D300-1D356
1D360-1D371
1D400-1D454
1D456-1D49C
1D49E-1D49F
1D4A2
1D4A5-1D4A6
1D4A9-1D4AC
1D4AE-1D4B9
1D4BB
1D4BD-1D4C3
1D4C5-1D505
1D507-1D50A
1D50D-1D514
1D516-1D51C
1D51E-1D539
1D53B-1D53E
1D540-1D544
1D546
1D54A-1D550
1D552-1D6A5
1D6A8-1D7CB
1D7CE-1D7FF
1F000-1F02B
1F030-1F093
1F0A0-1F0AE
1F0B1-1F0BE
1F0C1-1F0CF
1F0D1-1F0DF
1F100-1F10A
1F110-1F12E
1F130-1F16B
1F170-1F19A
1F1E6-1F1FF
1F201-1F202
1F210-1F23A
1F240-1F248
1F250-1F251
1F300-1F320
1F330-1F335
1F337-1F37C
1F380-1F393
1F3A0-1F3C4
1F3C6-1F3CA
1F3E0-1F3F0
1F400-1F43E
1F440
1F442-1F4F7
1F4F9-1F4FC
1F500-1F53D
1F540-1F543
1F550-1F567
1F5FB-1F640
1F645-1F64F
1F680-1F6C5
1F700-1F773
E0001
E0020-E007F 
```

这些是具有`Script=Inherited`字符属性的代码点：

```
0300-036F
0485-0486
064B-0655
0670
0951-0952
1CD0-1CD2
1CD4-1CE0
1CE2-1CE8
1CED
1CF4
1DC0-1DE6
1DFC-1DFF
200C-200D
20D0-20F0
302A-302D
3099-309A
FE00-FE0F
FE20-FE26
101FD
1D167-1D169
1D17B-1D182
1D185-1D18B
1D1AA-1D1AD
E0100-E01EF 
```

我希望使用像这样的文字代码点数字带来的可怕的维护、保养、易读性和可写性问题清楚地表明您希望至少使用`XRegExp`附加组件。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-05-16T00:52:17.087

我正在使用：

```
/^[A-z\u00C0-\u00ff\s'\.,-\/#!$%\^&\*;:{}=\-_`~()]+$/ 
```

作为正则表达式。我没有使用所有选项对其进行测试，但我已经使用了多年，并且从未遇到任何问题。

```
var regexp = /[A-z\u00C0-\u00ff]+/g,
  ascii = ' hello !@#$%^&*())_+=',
  latin = 'ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏàáâãäåæçèéêëìíîïÐÑÒÓÔÕÖØÙÚÛÜÝÞßðñòóôõöøùúûüýþÿ',
  chinese = ' 你 好 ';

console.log(regexp.test(ascii)); // true
console.log(regexp.test(latin)); // true
console.log(regexp.test(chinese)); // false 
```

[清单： https](https://gist.github.com/germanattanasio/84cd25395688b7935182) ://gist.github.com/germanattanasio/84cd25395688b7935182

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T11:04:42.103

一种可能的方法：

```
if (/[^\u0020-\u007F\u00A0-\u024F\u1E00-\u1EFF]/.test(value)) {
    // non latin characters found
} 
```

正则表达式测试不在、和组`^`中的`[]`字符。`\u0020-\u007F``\u00A0-\u024F``\u1E00-\u1EFF`

# .net - NHibernate 从多个表中选择

> ID：15785509
> 
> 赞同：0
> 
> 时间：2013-04-03T10:59:41.147
> 
> 标签：.net, sql, nhibernate, fluent-nhibernate

如何使用 NHibernate 对象编写此选择？

```
Select a.Id, a.Name, b.Data 
From Table1 a, Table2 b
Where a.Id between :1 and :2
And :3 = b.Period(+)
And 1 = b.Type(+)
And a.Id = b.Table1Id(+)
Order by 1 
```

即，它为每一行提供所有 Table1 行和 Table2.Data，即使它没有 Table2 数据（然后将给出 0 或 null）

Table1 和 Table2 的类和映射已经创建并且可以工作。还添加了 b.Table1Id 的参考。

所以问题主要出在 (+) 运算符上。

映射：Table1 非常简单，没有引用任何表。表2：

```
Table("Table2");
CompositeId()
 .KeyProperty(x => x.Type)
 .KeyProperty(x => x.Table1Id)
 .KeyProperty(x => x.Period);
Map(x => x.Type);
Map(x => x.Table1Id);
Map(x => x.Period);
Map(x => x.Data);
ReferencesAny(x => x.TableG)
 .IdentityType<string>()
 .EntityTypeColumn("Type")
 .EntityIdentifierColumn("Table1Id")
 .AddMetaValue<Table1>("1")
 .AddMetaValue<Table33>("33"); 
```

Table1 和 Table33 来自一个父类 TableG。Sql 查询现在相应更新。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T12:17:11.503

你可以做这样的事情来获取记录。并使用投影来选择您想要的字段。[这里](https://stackoverflow.com/questions/6034725/queryover-with-select-and-orderby-in-nhibernate)有一个类似的示例可以帮助您入门。

```
var queryResult = Session.QueryOver<Table2>()
                    .Left.JoinAlias(table2 => x.Period, () => period)
                    .Where(table2 => table2.Id >= value1)
                    .Where(table2 => table2.Id <= value2)
                    .Where(table2 => table2.Type == 1)
                    .OrderBy(table2 => table2.Type).List<Table2>(); 
```

# c# - Nhibernate 增量保存二进制数据

> ID：15785510
> 
> 赞同：2
> 
> 时间：2013-04-03T10:59:42.820
> 
> 标签：c#, nhibernate, binary-data, large-object-heap

[从阅读二进制文件时避免 LOH](https://stackoverflow.com/questions/15781521/avoiding-the-loh-when-reading-a-binary)跟进

在 Nhibernate 中是否可以将一个`Stream`块保存到数据库中？

使用以下代码，打开 FileStream 并以 2kb 的块读取其内容：

```
using (var fs = new FileStream(path, FileMode.Open))
{
    byte[] buffer = new byte[2048];
    int bytesRead;
    while ((bytesRead = fs.Read(buffer, 0, buffer.Length)) > 0)
    {
        //// somehow push the contents of the buffer to the database        
    }
} 
```

通常对象在一个操作中被持久化，可以增量完成吗？

# java - 启动 GUI 作为线程

> ID：15785515
> 
> 赞同：2
> 
> 时间：2013-04-03T10:59:53.037
> 
> 标签：java, multithreading, swing, jbutton, event-dispatch-thread

我有一个工作正常的 GUI 类，但是我在那个 GUI 类中有一个按钮，应该从另一个类打开一个新的 GUI。

```
private void jButton1ActionPerformed(java.awt.event.ActionEvent evt){

     GUI2 newGui = new GUI2();
     newGui.setVisible(true);
} 
```

但是，当调用新的 GUI 类 (newGui) 时，它只是显示为一个透视窗口。这是因为两个 GUI 不能同时运行吗？

我现在正尝试将新的 GUI 作为线程打开，但我不知道该怎么做！

```
 Thread thread = new Thread();
 thread.sleep(5000);
 thread.newGui.setVisible(); 
```

公共无效运行（）；

这是我的尝试，但不出所料，这没有奏效。

有什么帮助吗？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T11:06:21.773

```
 SwingUtilities.invokeLater(new Runnable()
        {
            public void run()
            {
               GUI2 newGui = new GUI2();
               newGui.setVisible(true);
            }
        }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:04:44.157

```
private void jButton1ActionPerformed(java.awt.event.ActionEvent evt){
    Thread thread = new Thread(){
        public void run(){
            GUI2 newGui = new GUI2();
            newGui.setVisible(true);
        }
    };  
    thread.start();
} 
```

# bash - 在 bash 中捕获 SIGINT，处理并忽略

> ID：15785522
> 
> 赞同：39
> 
> 时间：2013-04-03T11:00:16.493
> 
> 标签：bash

在 bash 中是否可以拦截 SIGINT，做某事，然后忽略它（保持 bash 运行）。

我知道我可以忽略 SIGINT

```
trap '' SIGINT 
```

我也可以在信号上做一些事情

```
trap handler SIGINT 
```

但这仍然会在`handler`执行后停止脚本。例如

```
#!/bin/bash

handler()
{
    kill -s SIGINT $PID
}

program &
PID=$!

trap handler SIGINT

wait $PID

#do some other cleanup with results from program 
```

当我按 ctrl+c 时，将发送要编程的 SIGINT，但 bash 将跳过`wait`在程序正确关闭并在其信号处理程序中创建其输出之前。

使用@suspectus 答案我可以将其更改`wait $PID`为：

```
while kill -0 $PID > /dev/null 2>&1
do
    wait $PID
done 
```

这实际上对我有用，我只是不能 100% 确定这是“干净”还是“肮脏的解决方法”。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-04-03T11:51:58.740

陷阱将从处理程序返回，但*在*调用处理程序时调用的命令之后。

所以解决方案有点笨拙，但我认为它可以满足要求。`trap handler INT`也将工作。

```
trap 'echo "Be patient"' INT

for ((n=20; n; n--))
do
    sleep 1
done 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-05-12T06:41:03.740

简短的回答：bash 中的 SIGINT 可以被捕获、处理然后忽略，假设这里的“忽略”意味着 bash 继续运行脚本。处理程序的所需操作甚至可以推迟以构建一种“事务”，以便在一组语句完成工作后触发（或“忽略”） SIGINT。

但是由于上面的示例涉及 bash 的许多方面（前台与后台行为、陷阱和等待）并且从那时起已经过去了 8 年，因此这里讨论的解决方案可能无法在没有进一步微调的情况下立即适用于所有系统。

此处讨论的解决方案已在具有“GNU bash，版本 4.4.20(1)-release”的“Linux mint-mate 5.4.0-73-generic x86_64”系统上成功测试：

1.  `wait`shell 内置命令被设计为可中断的。但是可以检查 的退出状态`wait`，即 128 + 信号数 = 130（在 SIGINT 的情况下）。因此，如果您想欺骗并等待后台进程真正完成，也可以执行以下操作：

```
wait ${programPID}
while [ $? -ge 128 ]; do
   # 1st opportunity to place your **handler actions** is here
   wait ${programPID}
done 
```

但它也说我们在测试所有这些时遇到了一个错误/功能。问题是`wait`即使在后台进程不再存在之后仍然返回 130。文档说，`wait`如果进程 ID 错误，它将返回 127，但这在我们的测试中没有发生。`wait`如果您也遇到此问题，请记住在 while 循环中运行命令之前检查后台进程的存在。

2.  假设下面的脚本是你的`program`，它只是从 5 倒数到 0 并且 tee 的输出到名为 program.out 的文件中。这里的while循环被认为是一个“事务”，它不会被SIGINT干扰。最后一条评论：此代码在执行延迟操作后不会忽略 SIGINT，而是恢复旧的 SIGINT 处理程序并引发 SIGINT：

```
#!/bin/bash
rm -f program.out

# Will be set to 1 by the SIGINT ignoring/postponing handler
declare -ig SIGINT_RECEIVED=0
# On <CTRL>+C or "kill -s SIGINT $$" set flag for [later|postponed] examination
function _set_SIGINT_RECEIVED {
    SIGINT_RECEIVED=1
}

# Remember current SIGINT handler
old_SIGINT_handler=$(trap -p SIGINT)
# Prepare for later restoration via ${old_SIGINT_handler}
old_SIGINT_handler=${old_SIGINT_handler:-trap - SIGINT}

# Start your "transaction", which should NOT be disturbed by SIGINT
trap -- '_set_SIGINT_RECEIVED' SIGINT

count=5
echo $count | tee -a program.out
while (( count-- )); do
    sleep 1
    echo $count | tee -a program.out
done

# End of your "transaction"
# Look whether SIGINT was received
if [ ${SIGINT_RECEIVED} -eq 1 ]; then
    # Your **handler actions** are here
    echo "SIGINT was received during transaction..." | tee -a program.out
    echo "... doing postponed work now..." | tee -a program.out
    echo "... restoring old SIGINT handler and sending SIGINT" | tee -a program.out
    echo "program finished after SIGINT postponed." | tee -a program.out
    ${old_SIGINT_handler}
    kill -s SIGINT $$
fi
echo "program finished without having received SIGINT." | tee -a program.out 
```

但是这里也说一下，我们`program`在后台发送后遇到了问题。问题是`program`继承了 a`trap '' SIGINT`这意味着 SIGINT 通常被忽略并且`program`无法通过`trap -- '_set_SIGINT_RECEIVED' SIGINT`.

3.  我们通过放入`program`一个子shell 并在后台发送这个子shell 解决了这个问题，正如您现在将`MAIN`在前台运行的脚本示例中看到的那样。最后还有一条评论：在此脚本中，您可以通过变量决定`ignore_SIGINT_after_handling`是否最终忽略 SIGINT 并继续运行脚本，或者在您的**处理程序操作**完成其工作后执行默认的 SIGINT 行为：

```
#!/bin/bash

# Will be set to 1 by the SIGINT ignoring/postponing handler
declare -ig SIGINT_RECEIVED=0
# On <CTRL>+C or "kill -s SIGINT $$" set flag for later examination
function _set_SIGINT_RECEIVED {
    SIGINT_RECEIVED=1
}

# Set to 1 if you want to keep bash running after handling SIGINT in a particular way
#  or to 0 (or any other value) to run original SIGINT action after postponing SIGINT
ignore_SIGINT_after_handling=1

# Remember current SIGINT handler
old_SIGINT_handler=$(trap -p SIGINT)
# Prepare for later restoration via ${old_SIGINT_handler}
old_SIGINT_handler=${old_SIGINT_handler:-trap - SIGINT}

# Start your "transaction", which should NOT be disturbed by SIGINT
trap -- '_set_SIGINT_RECEIVED' SIGINT

    # Do your work, for eample 
    (./program) &
    programPID=$!
    wait ${programPID}
    while [ $? -ge 128 ]; do
       # 1st opportunity to place a part of your **handler actions** is here
       # i.e. send SIGINT to ${programPID} and make sure that it is only sent once
       # even if MAIN receives more SIGINT's during this loop
       wait ${programPID}
    done

# End of your "transaction"
# Look whether SIGINT was received
if [ ${SIGINT_RECEIVED} -eq 1 ]; then
    # Your postponed **handler actions** are here
    echo -e "\nMAIN is doing postponed work now..."
    if [ ${ignore_SIGINT_after_handling} -eq 1 ]; then
        echo "... and continuing with normal program execution..."
    else
        echo "... and restoring old SIGINT handler and sending SIGINT via 'kill -s SIGINT \$\$'"
        ${old_SIGINT_handler}
        kill -s SIGINT $$
    fi
fi

# Restore "old" SIGINT behaviour
${old_SIGINT_handler}
# Prepare for next "transaction"
SIGINT_RECEIVED=0
echo ""
echo "This message has to be shown in the case of normal program execution"
echo "as well as after a caught and handled and then ignored SIGINT"
echo "End of MAIN script received" 
```

希望这个对你有帮助。愿大家都过得愉快。

# c++ - 如何使用“%”操作数附加 Qstring

> ID：15785525
> 
> 赞同：3
> 
> 时间：2013-04-03T11:00:27.247
> 
> 标签：c++, append, qstring

我正在尝试使用操作数为`.append`我的 QString 提供两个`double`值`%`。我在 QString 类参考文档中看到了使用`arg`double 的以下示例，但该示例不包括附加 str：

```
double d = 12.34;
QString str = QString("delta: %1").arg(d); 
```

这是我的代码。它不包含任何运行时错误，但它不会将我的双打放在`%`操作数所在的位置，而是将我的 %1 和 %2 也包含为普通字符串：

```
double d1 = 0.5,d2 = 30.0
QString str  = "abc";
str.append("%1 def %2").arg(d1).arg(d2); 
```

谢谢你

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-03T11:06:52.697

试试这个：

```
double d1 = 0.5,d2 = 30.0
QString str  = "abc";
str.append(QString("%1").arg(d1));
str.append(" def ");
str.append(QString("%1").arg(d2)); 
```

[已编辑] 关键是，“arg”是 QString 类的方法，必须与它的实例一起使用。在你不工作的例子中，你不这样做。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-03T11:08:58.053

用这个

```
str.append(QString("%1:%2").arg(d1, d2)); 
```

或者

```
str.append(QString("%1:%2").arg(d1).arg(d2)); 
```

# c++ - wxTextValidator 的 ctor 中的 valPtr 有什么用？

> ID：15785529
> 
> 赞同：0
> 
> 时间：2013-04-03T11:00:41.820
> 
> 标签：c++, validation, user-interface, wxwidgets

我正在使用一个简单的数字文本验证器**wxTextValidator**和一个**wxTextControl**。我想知道第二个参数有什么用：

```
wxTextValidator(long style = wxFILTER_NONE, wxString* valPtr = NULL) 
```

我只是将引用传递给一个成员变量：

```
myTextControl_->SetValidator( wxTextValidator(wxFILTER_NUMERIC, &myValue_) ); 
```

我正在使用**wxWidgets 2.8.12**，从文档中我认为**myValue_**变量将接收文本控件的经过验证的内容，但这在我的应用程序中不会发生。

我做错了什么还是 valPtr 参数**没有**接收到文本控件的内容？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:11:15.737

如果您调用 wxValidator::Validate 或 wxValidator::TransferFromWindow，myvalue_ 变量应该接收输入的值。如果您使用默认的 OnOK() 处理程序关闭对话框，则会自动发生这种情况。否则你必须自己做。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T13:56:26.237

Ravenspoint 已经回答了最初的问题，但我想补充一点，它`wxValidator`可以用于验证或数据传输——或同时用于两者。事实上，一些验证器，例如[wxGenericValidator](http://docs.wxwidgets.org/trunk/classwx_generic_validator.html)仅用于数据传输（验证复选框或单选按钮没有多大意义！）。所以这个类的名字有点误导，因为它最多描述了它的一半，而且可能少于它的用途。

# oracle - 从表中生成随机词以插入另一个表（PLSQL）

> ID：15785530
> 
> 赞同：0
> 
> 时间：2013-04-03T11:00:43.090
> 
> 标签：oracle, plsql

我要生成的带有单词的表

```
create table words
( word varchar(100));

insert into words values ('Main street');
insert into words values ('Patrick Street');
insert into words values ('Red Street');
insert into words values ('Green street');
insert into words values ('Blue street');
insert into words values ('Yellow street');
insert into words values ('Silver street');
insert into words values ('Gold street');
insert into words values ('Brown street'); 
```

插入的PLSQL代码

```
 declare  
randTemp number(10); 
tempCounty VARCHAR(20); 
streetaddress VARCHAR(100);
Begin 
For i in 1..9 
Loop 
randTemp := dbms_random.value(1,5);
SELECT c.countyname INTO tempCounty FROM county C WHERE c.countyid = randTemp;
SELECT w.word INTO streetaddress FROM words w ORDER BY dbms_random.random limit 1; 
Insert into BRANCH values(i,streetaddress,tempCounty,randTemp); 
End loop; 
Commit; 
End; 
/ 
```

除此 select 语句外，一切正常

```
SELECT w.word INTO streetaddress FROM words w ORDER BY dbms_random.random limit 1; 
```

我收到这个错误

ORA-06550：第 10 行，第 75 列：PL/SQL：ORA-00933：SQL 命令未正确结束

我认为限制可能是问题......？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:23:59.727

你是对的，`limit`这是问题所在，因为这不是 Oracle 支持的。

你可以这样做：

```
SELECT word INTO streetaddress
FROM (
    SELECT word
    FROM words
    ORDER BY dbms_random.random
)
WHERE rownum = 1; 
```

内部查询随机排序潜在的单词，而 out 查询使用`rownum`伪列选择返回的第一个，类似于`limit`会做的事情。

不过，在循环中重复该查询似乎效率不高；您可能会更好地执行以下操作：

```
DECLARE
    tempCounty VARCHAR(20);
    streetaddress VARCHAR2(100);
    cur sys_refcursor;
BEGIN
    OPEN cur FOR
        SELECT word, countyname
        FROM (
            SELECT w.word, c.countyname
            FROM words w
            CROSS JOIN county c
            ORDER BY dbms_random.random
        )
        WHERE rownum <= 9;
    LOOP
        FETCH cur INTO streetaddress, tempCounty;
        EXIT WHEN cur%NOTFOUND;
        dbms_output.put_line(streetaddress ||', '|| tempCounty);
    END LOOP;
END;
/ 
```

也就是说，从两个表中生成所有可能的字段组合，随机排序，并将其限制为前 9 个结果。

但这取决于你在做什么——如果你只是按照问题的建议填充另一个表，那么你可以使用这种查询作为`insert into ... select ...`构造的一部分，完全避免 PL/SQL 和循环：

```
INSERT INTO branch
SELECT rownum, word, countyname, countyid
FROM (
    SELECT w.word, c.countyname, c.countyid
    FROM words w
    CROSS JOIN county c
    ORDER BY dbms_random.random
)
WHERE rownum <= 9; 
```

如果您在 PL/SQL 中进行更多处理并且有很多行，那么使用`bulk collect`可能会进一步加快速度。

# macos - 使用 osx 终端从外部硬盘驱动器中提取具有特定名称的子文件夹。

> ID：15785539
> 
> 赞同：0
> 
> 时间：2013-04-03T11:01:17.213
> 
> 标签：macos, terminal, directory

我有一个位于外部硬盘驱动器上的大型数据集。我只需要提取一组数据/子文件夹。驱动器上的每个文件夹都包含名为 X 和 Y 的子文件夹。我只对名为 X 和 Y 的子文件夹感兴趣。我最终想要的是一个仅包含子文件夹 X 和 Y 的硬盘驱动器（或单独的上游文件夹）。

到目前为止，我使用了两种方法。1) 手动将所有感兴趣的子文件夹重新定位到单独的文件夹。2）删除我不感兴趣的所有文件夹。

我遇到的问题是无法手动将所有子文件夹 X 和 Y 移动到一个文件中，因为它们具有相同的文件夹名称。使用 find 删除除感兴趣的文件夹之外的所有文件夹。-name -exec rm -rf {} \; 对于像我这样的外行来说，这似乎是一种非常危险的方法。

**使用osx Terminal**解决这个问题的最直接、无危险的方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T20:06:52.017

我认为你过度简化了你的问题。但如果我理解正确，这应该对你有用：

```
mkdir $HOME/Desktop/interestingdata
tar cvCf /Volumes/datasetHD/datadir - */X1 */X2 | tar xCf $HOME/Desktop/interestingdata - 
```

这将提取，例如`/Volumes/datasetHD/datadir/(anydirname)/X1`into`$HOME/Desktop/interestingdata/(samedirname)/X1`而不**对**`/Volumes/datasetHD/datadir/(anydirname)/Y1`等做同样的事情。

（它还将包括您添加到该命令行的`X2`任何其他内容，格式为）`Xy``*/Xy`

希望有帮助。如果没有，我们可能会通过一些更具体的信息做得更好。

# r - R：在网页中调度代码

> ID：15785543
> 
> 赞同：1
> 
> 时间：2013-04-03T11:01:24.143
> 
> 标签：r, web, markdown, schedule, r-rook-package

我正在尝试构建一个显示一些图表的网页。我想使用 R 来构建图表，并且我希望这些图表能够定期自动更新。例如，显示特定公司股价随时间变化的图表的网页，每天都会用新数据刷新。

解决这个问题的最佳方法是什么？使用 Rook 运行 R 脚本？例如，我可以在 Markdown 中使用它来制作 html 网页吗？或者你有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:35:08.713

您可以在 R 文件中制作绘图，并在 Markdown 中编写您的网页，在其中调用您的 R 对象和绘图。或者，您也可以直接在降价文件中运行 R 代码。使用包的[`knit2html`](http://www.rforge.net/doc/packages/knitr/knit2html.html)功能，`knitr`您可以创建具有所需输出的 ​​html 页面。`knitr` [您可以在网页](http://yihui.name/knitr/demo/minimal/)上找到基本示例。

您可以在自己的计算机或服务器上安排这些文件，以每天更新 html 输出的数据。如果您有一台在 Windows 上运行的机器，您可以使用 Windows 任务管理器来运行批处理文件。

编辑：

在这里你可以找到一个成功的[例子](http://fishyoperations.com/r/creating-a-business-dashboards-in-r/)。

# javascript - 操纵 V8 ast

> ID：15785548
> 
> 赞同：8
> 
> 时间：2013-04-03T11:01:35.380
> 
> 标签：javascript, compilation, v8, abstract-syntax-tree

我打算直接在 v8 代码中实现一个 js 代码覆盖。我最初的目标是为抽象语法树中的每个语句添加一个简单的打印。我看到有一个`AstVisitor`类，它允许你遍历 AST。所以我的问题是如何在访问者当前访问的语句之后向 AST 添加语句？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-11T21:56:26.920

好的，我将总结我的实验。首先，我写的内容适用于 V8，因为它在 Chromium 版本 r157275 中使用，所以事情可能不再起作用 - 但我仍然会链接到当前版本中的位置。

如前所述，您需要自己的 AST 访问者，例如`MyAstVisior`，它继承自[`AstVisitor`](https://code.google.com/p/v8/codesearch#v8/trunk/src/ast.h&q=AstVisitor&sq=package%3av8&type=cs&l=2568)并且必须从那里实现一堆`VisitXYZ`方法。唯一需要检测/检查执行代码的是`VisitFunctionLiteral`. 执行的代码是一个函数或源（文件）中的一组松散语句，V8 将其包装在一个函数中，然后执行该函数。

然后，就在解析的 AST 转换为代码之前，[在这里](https://code.google.com/p/v8/codesearch#v8/trunk/src/compiler.cc&q=MakeCode&sq=package%3av8&l=544)（从松散的语句中编译函数）和[那里](https://code.google.com/p/v8/codesearch#v8/trunk/src/compiler.cc&q=MakeCode&sq=package%3av8&l=879)（在运行时编译，当第一次执行预定义函数时），您将访问者传递给函数文字，它将调用`VisitFunctionLiteral`访问者：

```
MyAstVisitor myAV(info);
info->function()->Accept(&myAV);
// next line is the V8 compile call
if (!MakeCode(info)) { 
```

我将`CompilationInfo`指针传递`info`给自定义访问者，因为需要它来修改 AST。构造函数如下所示：

```
MyAstVisitor(CompilationInfo* compInfo) :
    _ci(compInfo), _nf(compInfo->isolate(), compInfo->zone()), _z(compInfo->zone()){}; 
```

_ci、_nf和_z 是指向 和 的`CompilationInfo`指针。`AstNodeFactory<AstNullVisitor>``Zone`

现在，`VisitFunctionLiteral`您可以遍历函数体并根据需要插入语句。

```
void MyAstVisitor::VisitFunctionLiteral(FunctionLiteral* funLit){
    // fetch the function body
    ZoneList<Statement*>* body = funLit->body();
    // create a statement list used to collect the instrumented statements
    ZoneList<Statement*>* _stmts = new (_z) ZoneList<Statement*>(body->length(), _z);
    // iterate over the function body and rewrite each statement
    for (int i = 0; i < body->length(); i++) {
       // the rewritten statements are put into the collector
       rewriteStatement(body->at(i), _stmts);
    }
    // replace the original function body with the instrumented one
    body->Clear();
    body->AddAll(_stmts->ToVector(), _z);
} 
```

在该`rewriteStatement`方法中，您现在可以检查该语句。指针包含一个语句列表，`_stmts`最终将替换原始函数体。因此，要在每个语句之后添加一个打印语句，您首先添加原始语句，然后添加您自己的打印语句：

```
void MyAstVisitor::rewriteStatement(Statement* stmt, ZoneList<Statement*>* collector){
    // add original statement
    collector->Add(stmt, _z);

    // create and add print statement, assuming you define print somewhere in JS:

    // 1) create handle (VariableProxy) for print function
    Vector<const char> fName("print", 5);
    Handle<String> fNameStr = Isolate::Current()->factory()->NewStringFromAscii(fName, TENURED);
    fNameStr = Isolate::Current()->factory()->SymbolFromString(fNameStr);
    // create the proxy - (it is vital to use _ci->function()->scope(), _ci->scope() crashes)
    VariableProxy* _printVP = _ci->function()->scope()->NewUnresolved(&_nf, fNameStr, Interface::NewUnknown(_z), 0);

    // 2) create message
    Vector<const char> tmp("Hello World!", 12);
    Handle<String> v8String = Isolate::Current()->factory()->NewStringFromAscii(tmp, TENURED);
    Literal* msg = _nf.NewLiteral(v8String);

    // 3) create argument list, call expression, expression statement and add the latter to the collector
    ZoneList<Expression*>* args = new (_z) ZoneList<Expression*>(1, _z);
    args->Add(msg);
    Call* printCall = _nf.NewCall(_printVP, args, 0);
    ExpressionStatement* printStmt = _nf.NewExpressionStatement(printCall);
    collector->Add(printStmt, _z);   
} 
```

`NewCall`and的最后一个参数`NewUnresolved`是指定脚本中位置的数字。我假设这用于调试/错误消息，以告知错误发生的位置。我至少从未遇到将其设置为 0 的问题（在某处 kNoPosition 也有一个常数）。

一些最后的话：这实际上不会在每个语句之后添加打印语句，因为`Blocks`（例如循环体）是表示语句列表的语句，而循环是具有条件表达式和主体块的语句。因此，您需要检查当前处理的是哪种语句并递归地查看它。重写块与重写函数体几乎相同。

但是当您开始替换或修改现有语句时会遇到问题，因为 AST 还携带有关分支的信息。因此，如果您在某些情况下替换跳转目标，则会破坏您的代码。我想如果直接向单个表达式和语句类型添加重写功能而不是创建新的来替换它们，这可能会被覆盖。

到目前为止，我希望它有所帮助。

# javascript - 检测 iFrame JS 中的滚动条

> ID：15785549
> 
> 赞同：4
> 
> 时间：2013-04-03T11:01:39.813
> 
> 标签：javascript, jquery, html, iframe

我的网页有一个嵌入式 iFrame，它在我的网页中使用了第 3 方工具，这意味着来自 iFrame 的 URL 来自不同的位置。

我需要在调整页面大小时检测 iFrame 窗口中滚动条的显示，然后在检测到它后执行任务。

我尝试了各种不同的解决方案，但都没有成功。

这可能吗？

非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-19T04:27:43.480

```
<iframe src="111.html" id="iframeid" height="300" width="800"></iframe>

<script type="text/javascript">
function resizeIFrame(){
    $("#iframeid").attr("height", $("#iframeid").contents().height());
}
setInterval("resizeIFrame()", 500)
</script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-19T00:11:04.473

这是我想到的第一件事：http: [//jsfiddle.net/matias/hhcKn/](http://jsfiddle.net/matias/hhcKn/)

只是示例代码！

HTML：

```
<div id="body"></div> 
```

JS：

```
var $iframe = $("<iframe></iframe>").appendTo("#body");
var iframe = $iframe[0];
var doc = iframe.document;

//test this
var content = "<h1>Hello world</h1><br><p>more content!</p>";

//and then this
//var content = "<h1>Hello world</h1><br><br><br><br><br><p>more content!</p>";

if(iframe.contentDocument){
    doc = iframe.contentDocument;
}
else if(iframe.contentWindow){
    doc = iframe.contentWindow.document;
}
doc.open();
doc.writeln(content);
doc.close();

//this is the part that might interest you
var div_height = $("#body").height();
var iframe_height = $("iframe").contents().height();

if(iframe_height > div_height) alert("scrollbars present"); 
```

CSS：

```
body{
    border: 1px solid red;
}

iframe{
    border: none;
} 
```

# javascript - 在AngularJS的指令中使用控制器名称（ng-controller）的表达式

> ID：15785551
> 
> 赞同：2
> 
> 时间：2013-04-03T11:01:48.113
> 
> 标签：javascript, html, angularjs

我不想使用指定控制器名称，而是`ng-controller`想通过指令中的属性指定控制器名称，然后在模板中替换它（我想以这种奇怪的方式来探索 AngularJS）。

这是 plunk 的链接： [http ://plnkr.co/edit/KZgLQ6?p=preview](http://plnkr.co/edit/KZgLQ6?p=preview)

例如我正在尝试做的事情

```
<sample-drtv ctrl-name="drtvCtrl"></sample-drtv> 
```

模板（sampleDrtv.html）：

```
<div ng-controller="{{ctrlName}}"> 
  <p>{{ptagcontent}}</p>  
</div> 
```

指令代码：

```
var myModule = angular.module('ng');

myModule.directive('sampleDrtv',[function(){
    return {
        restrict: "E",
            replace: true,
            templateUrl: "sampleDrtv.html",
            scope: {},
            controller: function($scope,$element,$attrs){
                $scope.ctrlName = $attrs.ctrlName;
                console.log($scope);
            }
        };

}]);

function drtvCtrl($scope){
  $scope.ptagcontent = "AngularJS Rocks";  
} 
```

我在控制台上收到此错误：

```
Error: Argument '{{ctrlName}}' is not a function, got undefined 
```

关于我应该做什么以便`ctrlName`在表达式中替换的任何想法？我确定我不完全理解指令的概念，所以我做错了吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T12:52:52.090

我会推荐这种结构：

```
<sample-drtv></sample-drtv> 
```

模板（sampleDrtv.html）：

```
<div ng-controller="drtvCtrl"> 
  <p>{{ptagcontent}}</p>  
</div> 
```

AngularJS 部分：

```
var myModule = angular.module('ng');

myModule.directive('sampleDrtv',[function(){
  return {
    restrict: "E",
    replace: true,
    templateUrl: "sampleDrtv.html"
  };
}]);

function drtvCtrl($scope){
  $scope.ptagcontent = "AngularJS Rocks";  
} 
```

查看 Plunk：[http ://plnkr.co/edit/GwnqK6?p=preview](http://plnkr.co/edit/GwnqK6?p=preview)

# php - 每年在mysql中添加行，有条件

> ID：15785553
> 
> 赞同：0
> 
> 时间：2013-04-03T11:02:02.500
> 
> 标签：php, mysql

我有一个 student_class 表，其中包含以下字段 **id、student_id、class、year** 我希望在每年之后添加一个包含 **id、student_id、class+1、year+1**
的新行，用于 class=4 的行以停止添加新行. 我试过这样的东西，但我没有得到我想要的结果

```
SET GLOBAL event_scheduler = ON;

 CREATE EVENT increment_student_form
 ON SCHEDULE 
 STARTS '2013-03-22 11:45:00'
 EVERY 1 YEAR

 DO 

 $students=array();
 $class=array();
 $stud=select * from student_class where class<4;
        $row=mysql_fetch_array($stud);
    $students[]=$row['student_id'];
    $class[]=$row['class'];
    for($i=0;$i<sizeof($students);$i++){

 INSERT into student class(id,student_id,class,year) values('','$student[i]','$class[i]+1','$year+1') 
 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:23:16.643

好的，您的问题完全在 SQL 中。所以你不能在你的 SQL 查询中使用 PHP。查看[http://dev.mysql.com/doc/refman/5.1/en/create-event.html](http://dev.mysql.com/doc/refman/5.1/en/create-event.html)了解更多语法选项。
从（从手册中取出）开始：

```
CREATE EVENT event
ON SCHEDULE
  EVERY 1 YEAR STARTS CURRENT_TIMESTAMP + INTERVAL 1 MINUTE 
COMMENT 'Clears out sessions table each hour.'
DO 
```

这应该可以清除您的语法问题并创建一个每年运行的空事件，并在创建后 1 分钟开始。
从这里我只能假设正确的方式。像这样的东西：

```
BEGIN
  DECLARE @student INT = 0;
  DECLARE @class INT = 0;
  DECLARE @year INT = 0;
  DECLARE MyCursor CURSOR FOR 
  SELECT student_id, class, year FROM student_class WHERE class < 4;

  OPEN MyCursor;

  FETCH NEXT FROM MyCursor
  INTO @student,@class,@year;
  WHILE  @@FETCH_STATUS = 0
  BEGIN
    SET @year = @year + 1;
    SET @class = @class + 1;
    INSERT into student_class(student_id,class,year) values(@student, @class ,@year ) 
    FETCH NEXT FROM MyCursor INTO @student,@class,@year;
  END
  CLOSE MyCursor;
  DEALLOCATE MyCursor;
END 
```

所以这个 SQL 对我来说是完全未知的，我只是想这可能会给你足够的提示来自己解决你的问题或提出一个新的更具体的问题！祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:16:15.127

Use `Begin End` for event body

```
DO 
    Begin
    ...
    ...
    END 
```

Edit 1: Also use quotes for `select` statement

```
$stud="select * from student_class where class<4"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T11:17:15.573

我在您的代码中发现了一些错误

1.  您当前的代码将只获取第一条记录 ..mysql_fetch_array 应该在循环中。
2.  我在任何地方都看不到 $year 的定义。
3.  您混合 mysql 事件处理和 php 代码的方式不正确。

尝试使用此代码

```
 $stud="select * from student_class where class<4";
 while ($row=mysql_fetch_array($stud))
 {
  $sql = "INSERT into student class(id,student_id,class,year) values('','{$row['student_id']}','{$row['class']}','{$row['year']}+1')" ;
  mysql_query($sql);
 } 
```

我会建议你最好在这个 php 脚本上使用 cron 作业而不是 mysql 事件处理。

# c# - 将“使用”与新的 DataRow 一起使用

> ID：15785561
> 
> 赞同：3
> 
> 时间：2013-04-03T11:02:27.373
> 
> 标签：c#, asp.net, ado.net

我试过这样的事情：

```
 using (DataRow newRow = summary.NewRow())
    {
        summary.Rows.Add(newRow);
    } 
```

但它不起作用。我得到错误：

> 'System.Data.DataRow'：在 using 语句中使用的类型必须隐式转换为 'System.IDisposable'

有人可以向我解释为什么我不能像这样和/或类似的方式处理 DataRow 吗？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T11:04:33.890

对于要在[`using`](http://msdn.microsoft.com/en-us/library/yh598w02.aspx)块内使用的某些对象，它**必须实现** [IDisposable 接口](http://msdn.microsoft.com/en-us/library/system.idisposable.aspx)。[`DataRow`](http://msdn.microsoft.com/en-us/library/system.data.datarow.aspx)没有实现 IDisposable ，这就是您收到错误的原因。不太确定为什么要首先处理 DataRow。

[使用语句 C#](http://msdn.microsoft.com/en-us/library/yh598w02.aspx)

> 提供一种方便的语法，确保正确使用 IDisposable 对象。

编辑：（*对于您想要重用新行的评论）*

你不应该。DataTable 存储新行的引用，再次使用新创建的行会导致数据表中已经存在行的异常，因此对于添加行，您总是希望使用`DataTable.NewRow`方法创建新行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T11:06:40.340

来自[MSDN](http://msdn.microsoft.com/en-us/library/yh598w02%28v=vs.80%29.aspx)：

> 提供给 using 语句的对象必须实现 IDisposable 接口。该接口提供了 Dispose 方法，该方法应该释放对象的资源。

`DataRow`不提供`Dispose()`方法。

现在，当您添加 new 时`DataRow`，您不需要处理它（也不能），因为`Rows.Add`实际上是存储对新行的引用，而不是对象的副本。因此，只需创建您的行并将其传递给 的`Add()`方法`DataRowCollection`，您无需对新行进行任何处理。

根据您的评论：当您将引用传递给`Add()`方法时，引用的副本将存储在表中。之后，您可以自由地使用相同的引用来创建新对象并再次存储引用。`Dispose()`方法主要用于释放非托管资源：

> 使用此方法关闭或释放实现此接口的类的实例所持有的非托管资源，例如文件、流和句柄。按照惯例，此方法用于与释放对象持有的资源或准备对象以供重用相关的所有任务。

如果您的对象不包含任何非托管资源，则无需显式释放它（与 C 或 C++ 不同） - 当无法引用该对象时（当指向该对象的引用计数变为零时）垃圾收集器会处理它，它会在某个时候自动（不一定立即）删除它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-03T11:07:55.950

从[`using Statement`](http://msdn.microsoft.com/en-us/library/yh598w02.aspx)

> 提供一种方便的语法，确保正确使用 IDisposable 对象。

* * *

> 通常，当您使用 IDisposable 对象时，您应该在 using 语句中声明和实例化它。

[`DataRow`](http://msdn.microsoft.com/en-us/library/system.data.datarow.aspx)类未实现[`IDisposable`](http://msdn.microsoft.com/en-us/library/system.idisposable.aspx)接口，这就是您收到此错误的原因。

该`using`语句与实现的类型相结合`IDisposable`。你想实现哪个类，它**必须**实现`IDisposable`接口和require`Dispose`方法。

例如;

```
class Program
{
    static void Main(string[] args)
    {
        using(YourClass y = new YourClass())
        {

        }
    }
}

class YourClass : IDisposable
{
    public void Dispose()
    {

    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T11:06:39.480

using 块需要能够在块范围结束时访问方法 IDisposable.Dispose。因此，您的对象必须声明它实现此接口以“使用”兼容。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-03T11:07:26.733

`DataRow`不是一次性的，所以你根本不需要这样做，编译器会提供帮助：它甚至不会让你，因为类型不遵循所需的模式（即它应该实现`IDisposable`，根据错误消息） .

如果重点是你想`newRow`再次使用，那么这里有一个误解。在这种情况下，某些东西是否是一次性的是无关紧要的，在这种情况下，两者都可以自由地“覆盖”：

```
DataRow newRow; // null;
newRow = summary.NewRow(); // get a row
newRow = anotherSummary.NewRow() // get a different row 
```

在上述情况下，在第二次分配之后，`newRow`忘记了所有关于它的第一次分配。

可处置性发挥作用的地方在于，您应该注意不要在它们*是*一次性的时就“忘记”它们（因为您有责任处置它们），但在这种情况下，您不必担心这一点。

# javascript - 如何使用 javascript 在 DymoLabel 打印机中进行打印？

> ID：15785567
> 
> 赞同：7
> 
> 时间：2013-04-03T11:02:59.510
> 
> 标签：javascript, printing, barcode-printing

我只想从网页调用打印机的 API。只是想在里面打印一些东西。到目前为止我已经做到了。

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
    <head>
        <title>Sample DYMO Label Plug-In</title>

            <script src="http://labelwriter.com/software/dls/sdk/js/DYMO.Label.Framework.latest.js"
            type="text/javascript" charset="UTF-8">

            function OnLoad()
            {
                //GetCurrentPlugin();
                GetDYMOPrinters();

                //GetPaperTray();
                //GetMRUList();
                //GetObjectNames();
                //GetLabelImage();
            }

            function GetDYMOPrinters()
            {
                alert(" Testing 1");

                var printers = dymo.label.framework.getPrinters();
                if (printers.length == 0)
                throw "No DYMO printers are installed. Install DYMO printers.";
                alert("dfdsfd");
                var printerName = "";
                for (var i = 0; i < printers.length; ++i)
                {
                    var printer = printers[i];
                    if (printer.printerType == "LabelWriterPrinter")
                    {
                        printerName = printer.name;
                        break;
                    }
                }

            var label = DYMO.Label.Framework.Label.Open("MyText.label");
            label.SetObjectText("NameTxt", "John Smith");

            alert(" Testing 2");   // Here this alert also not working .
            label.print("DYMO LabelWriter 310");
            }
     </script>

    </head>
    <body onload="OnLoad()">
         <form action="" method="post" id="DYMOLabel">
        <center>
        <h2>DYMO Label  Example</h2>
         <input type=button value="Get DYMO Printers" onClick="GetDYMOPrinters()">
     </center>
    </form>

    </body>
</html> 
```

但是这里什么都不会发生，我需要导入或包含任何东西吗？请给一些建议..

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-03T11:08:08.987

您`<script>`用于嵌入“DYMO.Label.Framework.latest.js”的 -Tag 位于另一个脚本标签内。将其移出，您的函数应该运行：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>
    <title>Sample DYMO Label Plug-In</title>
    <!-- LabelWriter-API first -->
    <script src="http://labelwriter.com/software/dls/sdk/js/DYMO.Label.Framework.latest.js"></script>
    <!-- your script second -->
    <script>
     ... 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-11-07T06:27:37.800

这是我打印多个标签的代码。我已添加评论以寻求您的帮助。请仔细阅读，如果您有任何疑问，请咨询我。我不能在此处包含我的 HTML 供您参考。

```
//----------------------------------------------------------------------------
//
//  PrintMultipleLabel.js  2014-11-07 : Vineesh K S 
//
// Content -------------------------------------------------------------------
//
//  DYMO Label Framework JavaScript Library : 
//  Print Single or multiple label
//  Mark-up Added   
//
//----------------------------------------------------------------------------
//
//  Copyright (c), 2010, Sanford, L.P. All Rights Reserved.
//
//----------------------------------------------------------------------------

    function escapeXml(xmlStr)
    {
        var result = xmlStr;
        var findReplace = [[/&/g, "&amp;"], [/</g, "&lt;"], [/>/g, "&gt;"], [/"/g, "&quot;"]];

        for(var i = 0; i < findReplace.length; ++i) 
            result = result.replace(findReplace[i][0], findReplace[i][1]);

        return result;
    }

    // call this function on onclick function of print button
    function printLabel()
    {
        //comma separated values of record IDs 
        var hidn_ids_array = $('#hidn_ids').val().split(",");
        // if text area is null
        var labelPrint_val = $('#labelPrint').val();        
        if(labelPrint_val == ""){
        alert("Please enter values to print label");
        $( "#labelPrint" ).focus();
        return;
        }

        try
            {
                // open label
                var labelXml = '<?xml version="1.0" encoding="utf-8"?>\
                <DieCutLabel Version="8.0" Units="twips">\
                    <PaperOrientation>Landscape</PaperOrientation>\
                    <Id>Address</Id>\
                    <PaperName>30252 Address</PaperName>\
                    <DrawCommands/>\
                    <ObjectInfo>\
                        <TextObject>\
                            <Name>Text</Name>\
                            <ForeColor Alpha="255" Red="0" Green="0" Blue="0" />\
                            <BackColor Alpha="0" Red="255" Green="255" Blue="255" />\
                            <LinkedObjectName></LinkedObjectName>\
                            <Rotation>Rotation0</Rotation>\
                            <IsMirrored>False</IsMirrored>\
                            <IsVariable>True</IsVariable>\
                            <HorizontalAlignment>Center</HorizontalAlignment>\
                            <VerticalAlignment>Middle</VerticalAlignment>\
                            <TextFitMode>ShrinkToFit</TextFitMode>\
                            <UseFullFontHeight>True</UseFullFontHeight>\
                            <Verticalized>False</Verticalized>\
                            <StyledText/>\
                        </TextObject>\
                        <Bounds X="332" Y="150" Width="4455" Height="1260" />\
                    </ObjectInfo>\
                </DieCutLabel>';
                var label = dymo.label.framework.openLabelXml(labelXml);
                if (!label)
                {
                    alert("Load label before printing");
                    return;
                }
                // set data using LabelSet and text markup
                var labelSet = new dymo.label.framework.LabelSetBuilder();

                var textMarkup = '';
                var fontSize = 18; // sets font size of first line
                // loop started for adding multiple record.
                $.each(hidn_ids_array,function(i)
                {               
                    ////get each Id
                    labelid = hidn_ids_array[i];                    
                    var textTextArea = document.getElementById('labelPrint'+labelid);// text area id

                    if(textTextArea.value !='')
                    {
                        var lines = textTextArea.value.split('\n');
                        // adding markup                
                        var boldLinesCount = lines.length <= 3 ? 1 : 2; 
                        // if no. of lines is more than 3 then apply style to first 2 lines.

                        if (lines.length > 0)
                        {                       
                            textMarkup = '<b><font family="Arial" size="' + fontSize + '">';
                            textMarkup += escapeXml(lines.slice(0, boldLinesCount).join('\n'));
                            textMarkup += '</font></b><br/>';
                            textMarkup += escapeXml(lines.slice(boldLinesCount).join('\n'));
                        }
                        /////////////add record to printer object////////////////
                        //alert(textMarkup);                        
                        var record = labelSet.addRecord();  
                        record.setTextMarkup('Text', textMarkup); // set label text 
                    }

                });
                // select printer to print on
                var printers = dymo.label.framework.getPrinters();
                if (printers.length == 0)
                    throw "No DYMO printers are installed. Install DYMO printers.";

                var printerName = "";
                for (var i = 0; i < printers.length; ++i)
                {
                    var printer = printers[i];
                    if (printer.printerType == "LabelWriterPrinter")
                    {
                        printerName = printer.name;
                        break;
                    }
                }

                if (printerName == "")
                throw "No LabelWriter printers found. Install LabelWriter printer";
                // print the label
                label.print(printerName, null, labelSet.toString());
            }
            catch(e)
            {
                alert(e.message || e);
            }
    } 
```

# php - ZF2 ResultSet 和计数性能

> ID：15785570
> 
> 赞同：2
> 
> 时间：2013-04-03T11:03:03.130
> 
> 标签：php, database, zend-framework2

我将 TableGateway 与附加的自定义 RowGateway 对象一起使用。如果我想使用 TableGateway->getSql()->select() 返回的对象来获取记录计数，附加的 RowGateway 对象会抱怨结果集中缺少主键。

```
 $tablegateway = new TableGateway('table', $adapter, new RowGatewayFeature(new AuditingRowGateway($primkey, 'table', $adapter), new ResultSet());
   $select = $tablegateway->getSql()->select();
   $select->columns(array('num' => new \Zend\Db\Sql\Expression('COUNT(*)')));
   $row = $tablegateway->selectWith($select)->current(); 
```

**结果：Zend\Db\RowGateway\Exception\RuntimeException: 处理主键数据时，在数据数组中没有找到一个已知的键xxx**

我可以通过发出正常（即非计数）选择来解决它：

```
$result = $tablegateway->selectWith($select);
$count = $result->count(); 
```

但与“SELECT COUNT(*)”相比，不确定这种性能方面的情况。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-17T14:17:08.033

即使您只需要一个计数值，如果在列数组中包含主键，它也应该可以工作。

```
$select->columns(array($primkey, 'num' => new \Zend\Db\Sql\Expression('COUNT(*)'))); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-15T17:10:02.980

什么对我有用：
`$select->columns(array( 'id'=>'id', 'nr'=>new \Zend\Db\Sql\Expression('COUNT(*)')));`

# google-apps-script - getRangeByName 停止工作！文档损坏或已知问题？

> ID：15785581
> 
> 赞同：3
> 
> 时间：2013-04-03T11:03:35.767
> 
> 标签：google-apps-script, google-sheets, google-spreadsheet-api

如此处所引用的 ( [https://code.google.com/p/google-apps-script-issues/issues/detail?id=2589](https://code.google.com/p/google-apps-script-issues/issues/detail?id=2589) )，调用 getRangeByName 停止处理迄今为止完美运行的文档。这是一个已知的问题？如何解决这个问题？我见过有人抱怨这种方法的“不稳定”，有时会停止工作。这对我们来说是一个问题，因为我们广泛使用它来填充公司仪表板！

谢谢你的想法

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T23:47:52.100

尝试

**SheetName** !rangename

即将工作表名称添加到您的命名范围。我是用代码设置的，不确定它是否可以在 UI 中使用。当我切换到这种方式时，命名范围的问题就消失了。

背景：只有一张纸，一切正常，但有几张纸会导致问题。我认为这是当我复制名称范围内的工作表时引起的。添加工作表名称解决了这个问题。还删除所有命名范围并再次添加它们解决了这个问题。

# c++ - 改变音频的速度（速度）

> ID：15785586
> 
> 赞同：4
> 
> 时间：2013-04-03T11:03:54.750
> 
> 标签：c++, audio, pitch, audio-processing, soundtouch

我想近乎实时地更改立体声音频流的速度 - 音频是从文件加载的，缓冲区不应超过 1 秒。我尝试了 SoundTouch（[http://www.surina.net/soundtouch/](http://www.surina.net/soundtouch/)），但降低速度时的质量非常差。现在我正在寻找时间拉伸音频信号的替代方法。Audacity 中实现的一种产生非常好的结果的方法是基于“子带正弦建模”，但它非常慢。

然后是橡皮筋音频处理器库 ( [http://breakfastquay.com/rubberband](http://breakfastquay.com/rubberband) ) 和 Dirac ( [http://www.dspdimension.com/technology-licensing/dirac/](http://www.dspdimension.com/technology-licensing/dirac/) )，它们都是商业/GPL 且不完全跨平台兼容。

你能推荐我符合以下标准的算法和/或库吗？：

*   跨平台兼容（例如 iOS、Android、Windows、Linux、MacOS）
*   适用于上述实时处理
*   比 SoundTouch 库中使用的时间拉伸方法质量更好
*   在不影响音高的情况下改变速度

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T11:26:18.333

查看**BASS 音频库** [http://www.un4seen.com/bass.html](http://www.un4seen.com/bass.html)及其配套的**BASS FX 扩展**

*BASS 是一个在多个平台上的软件中使用的音频库。其目的是为开发人员提供强大而高效的采样、流（MP3、MP2、MP1、OGG、WAV、AIFF、自定义生成等，通过 OS 编解码器和附加组件）、MOD 音乐（XM、IT、S3M、MOD , MTM, UMX), MO3 音乐 (MP3/OGG​​ 压缩 MODs), 和录音功能。所有这些都在一个不会使您的发行版膨胀的紧凑 DLL 中。*

BASS 适用于 Win32、Win64、MacOS、Linux、WinCE、iOS、Android 和 ARM Linux 平台。

**BASS FX**插件扩展提供了多种效果，包括反向播放和速度和音高控制。

# c++ - C++11 标准 - 从哪里得到它？

> ID：15785588
> 
> 赞同：1
> 
> 时间：2013-04-03T11:03:58.120
> 
> 标签：c++, c++11, standards

我经常看到这里有人引用 C++/C++11 标准草案中的句子。我尝试在网站 open-std.org 中找到这些草稿，但我无法理解网站的结构以及我应该在哪里查找这些文档。

谁能一劳永逸地帮助我找到这些文件，以便我自己研究它们（从而减少这里愚蠢问题的数量）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T11:04:57.667

最新的草稿可在[标准 C++ 网站](http://isocpp.org/)的左侧边栏中找到。LaTeX 源代码[可在 GitHub 上找到](https://github.com/cplusplus/draft)。

如果您有能力并需要，您可以购买[最新发布的标准 (ISO/IEC 14882:2011)](http://www.iso.org/iso/home/store/catalogue_ics/catalogue_detail_ics.htm?csnumber=50372)的副本。

# ios - iOS模拟器运行缓慢

> ID：15785589
> 
> 赞同：3
> 
> 时间：2013-04-03T11:04:00.760
> 
> 标签：ios, xcode, simulator

当我使用 Xcode 进行调试时，iOS 模拟器运行缓慢。我每个月都会遇到这个问题，但我找不到重现的步骤。这个问题是在我调试我的项目时发生的，我不能提供这个项目，因为它是我们公司的财产。我在以下 URL 上记录了这一点。

[http://www.youtube.com/watch?v=gAaclHi_vfE&feature=youtu.be](http://www.youtube.com/watch?v=gAaclHi_vfE&feature=youtu.be)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-03T11:06:23.027

看起来“慢动画”已启用。您可以在模拟器、顶栏、调试 > 切换慢速动画中禁用此功能

# php - zencart 在 html 产品页面 url 中获取 async=true，如何删除 async=true

> ID：15785592
> 
> 赞同：0
> 
> 时间：2013-04-03T11:04:10.010
> 
> 标签：php, jquery, mysql, url

我在 zencart 网站的产品页面 url 中得到 async=true。

像这个 dangling-c-1427_1431/np3d02-p-27633.html?async=true

请告诉我如何从网址中删除它。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:11:08.620

请查看 [http://jsfiddle.net/5LmLW/25/](http://jsfiddle.net/5LmLW/25/)

```
var url = 'dangling-c-1427_1431/np3d02-p-27633.html?async=true'
alert(url.split('?')[0]); 
```

你期待这样吗？

# actionscript-3 - ActionScript3 错误处理 URLRequest

> ID：15785593
> 
> 赞同：2
> 
> 时间：2013-04-03T11:04:24.193
> 
> 标签：actionscript-3, flash, actionscript, as3xls

(ActionScript3) 您好，我正在尝试找出通过第三方网站查看 URLRequest 失败的原因。理想情况下，任何错误都可以在下面的代码中指出，但是，我认为这很好，因为我们做的类似事情很好。

理想情况下是 URLRequest 错误处理，我怎样才能找出为什么 URLRequest 没有从 time.php 中提取信息？即使它只是输出到时间轴上的文本框（在测试环境中完成时一切正常）

非常感谢克雷格

**设想：**

*   domain.com（服务器 1）：file.swf 使用 URLRequest 加载 domain.com/time.php?a=b（因此 PHP 和 SWF 都托管在同一个域和服务器上）

*   example.com（服务器 2）：PHP 页面嵌入 file.swf（反过来 URLRequests time.php）

**结果：**

*   当您通过浏览器直接访问 file.swf 时，它会从 time.php 加载数据就好了

*   当您查看嵌入页面 file.swf 时，在服务器 2 上加载失败

* * *

**文件.swf**

```
var loaderNameHolder;
var loaderNameHolderLoader:URLLoader = new URLLoader();
var loaderNameHolderURLRqst:URLRequest = new URLRequest('http://domain.com/time.php?a=b');
loaderNameHolderLoader.addEventListener(Event.COMPLETE, loaderNameHolderURLFunc);
loaderNameHolderLoader.load(loaderNameHolderURLRqst);
function loaderNameHolderURLFunc(e:Event):void{
    loaderNameHolder = loaderNameHolderLoader.data
    gotoAndStop(loaderNameHolder);
} 
```

**安全**

*   在域的根文件夹中有一个跨域 XML，它似乎没有什么区别（或者没有被正确引用/使用）但是正如提到的类似的事情我在不修改这个 XML 的情况下工作得很好

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T11:11:04.190

这听起来像是一个安全问题，尽管您说您有跨域文件。

您是否使用 Charles ( [http://www.charlesproxy.com/](http://www.charlesproxy.com/) ) 之类的工具检查了 http 调用？这绝对是调试此类问题的最佳方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T09:48:32.330

感谢上面的提示，它们将是很好的资源。

实际问题是请求的 URL 不包含“www”（我认为因为 SWF 嵌入在 WWW 中，所以它来自“外部”域。我认为我需要 www.domain.com 以确保我自己的安全XML）。

克雷格

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T11:15:16.707

尝试添加此代码

```
Security.allowDomain("*");
Security.loadPolicyFile("http://domain.com/crossdomain.xml"); 
```

并使用此处提供的链接阅读 crossdomain.xml：[https ://stackoverflow.com/a/9728845/2234089](https://stackoverflow.com/a/9728845/2234089)

# wpf - 按钮模板内的可变图像源

> ID：15785596
> 
> 赞同：0
> 
> 时间：2013-04-03T11:04:29.213
> 
> 标签：wpf, image, templates, button

如何将 Source 属性从按钮模板传输到该模板内的 Image ？

这就是我的 XAML 的样子：

```
<Page x:Class="TallShip.MainGallery"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
  xmlns:local="clr-namespace:TallShip"
  mc:Ignorable="d" 
  d:DesignHeight="1080" d:DesignWidth="1920"
Title="MainGallery">   

<Grid>
    <ScrollViewer Height="958" HorizontalAlignment="Left" Margin="685,87,0,0" Name="GalleryRightScroller" VerticalAlignment="Top" Width="1159" PanningMode="VerticalOnly" VerticalScrollBarVisibility="Auto">
        <Grid>
            <Grid.Resources>
                <ControlTemplate x:Key="GalleryObject">
                    <StackPanel Height="Auto" HorizontalAlignment="Left" Margin="{TemplateBinding Margin}" VerticalAlignment="Top" Width="500">
                        <Image Height="200" Stretch="None" Source="{TemplateBinding local:SourceHolder.Source}" Width="200" />
                        <Label Content="{TemplateBinding local:SourceHolder.Source}" Height="28" Name="label1" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" />
                    </StackPanel>
                </ControlTemplate>
            </Grid.Resources>

            <Button Template="{StaticResource GalleryObject}" local:SourceHolder.Source="/TallShip;component/media/91gx2EQ.jpg" Name="object1" Margin="43,21,0,0"/>
            <Button Template="{StaticResource GalleryObject}" local:SourceHolder.Source="/TallShip;component/media/91gx2EQ.jpg" Name="object2" Margin="43,280,0,0"/>
        </Grid>
    </ScrollViewer>

</Grid> 
```

这是我为保存 Source 属性而创建的自定义控件类：

```
namespace TallShip {
public static class SourceHolder
{
    public static readonly DependencyProperty SourceProperty = DependencyProperty.RegisterAttached("Source",
        typeof(string), typeof(SourceHolder), new FrameworkPropertyMetadata(null));

    public static string GetSource(UIElement element)
    {
        if (element == null)
            throw new ArgumentNullException("element");
        return (string)element.GetValue(SourceProperty);
    }
    public static void SetSource(UIElement element, string value)
    {
        if (element == null)
            throw new ArgumentNullException("element");
        element.SetValue(SourceProperty, value);
    }
}
} 
```

目前，标签正确显示传递的源，但图像不起作用......

如果我在按钮模板之外的图像上使用相同的源，则图像可以正常工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T14:56:59.590

选项1：

```
<Image Height="200" Stretch="None" DataContext="{TemplateBinding local:SourceHolder.Source}" Width="200" Source="{Binding}"></Image> 
```

选项 2：如果这不起作用，请在将 uri 转换为 Image 的 Image 绑定中使用 ValueConverter 的其他替代方法

```
public class UriToImageConverter : IValueConverter
{
    public object Convert(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)
    {
        if (value == null)
            return null;

        if (value is string)
            value = new Uri((string)value, UriKind.RelativeOrAbsolute);

        if (value is Uri)
        {
            BitmapImage bi = new BitmapImage();
            bi.BeginInit();                
            bi.UriSource = (Uri)value;
            bi.EndInit();
            return bi;
        }

        return null;
    }

    public object ConvertBack(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)
    {
        throw new NotImplementedException();
    }
}

<Window.Resources>
    <local:UriToImageConverter x:Key="uriToImageConverter"></local:UriToImageConverter>
</Window.Resources>

<Image Height="200" Stretch="None" DataContext="{TemplateBinding local:SourceHolder.Source}" Width="200" Source="{Binding Converter={StaticResource ResourceKey=uriToImageConverter}}"></Image> 
```

# vb.net-2010 - 如何知道 System.Web.HttpContext.Current.Server.MapPath(HttpContext.Current.Request.ApplicationPath) 中的路径

> ID：15785600
> 
> 赞同：-1
> 
> 时间：2013-04-03T11:04:39.580
> 
> 标签：vb.net-2010

```
strFilePath = System.Web.HttpContext.Current.Server.MapPath(HttpContext.Current.Request.ApplicationPath)
strFilePath = str + "ApInterface_" + Format(Now.Date, "dd-MMM-yyyy").Replace("-", "") + "_" + Format(Now, "HH:mm:ss").Replace(":", "") + ".dat" 
```

我有上面的代码片段，它将文件以 .dat 扩展名保存在指定文件夹中。对我来说，问题在于路径。**当我指定类似"D:\myfolder"**的路径时，将导出数据并打开文件，但不会保存。如果我将文件夹指定为**“D:\myfolder\”**，它会完美保存，为什么我需要`"\"`和结束？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:11:29.950

使用[Path.Combine](http://msdn.microsoft.com/en-us/library/fyy7a5kt.aspx)而不是字符串连接。它将根据需要添加斜杠。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:27:04.223

你的代码不应该是这样的：

```
strFilePath = System.Web.HttpContext.Current.Server.MapPath(HttpContext.Current.Request.ApplicationPath)
strFilePath = strFilePath + "ApInterface_" + Format(Now.Date, "dd-MMM-yyyy").Replace("-", "") + "_" + Format(Now, "HH:mm:ss").Replace(":", "") + ".dat" 
```

就目前而言，没有解释“str”的含义。

假设上面是正确的，你需要“\”的原因是因为没有它有两个截然不同的路径：

*   D:\myfolderApInterface_01012001_010101.dat
*   D:\myfolder\ApInterface_01012001_010101.dat

第一个引用“D”驱动器根目录中名为“myfolderApInterface_01012001_010101.dat”的文件，而第二个引用“D”驱动器“myfolder”目录中名为“ApInterface_01012001_010101.dat”的文件。

正如其他人所提到的，您可以使用 Path.Combine 来确定“\”是否已经存在并仅在需要时添加它。

PS您可能还需要考虑使用 string.Format 来构建文件名以提高可读性

# tomcat - Tomcat 7 集群模式，未识别出故障成员

> ID：15785601
> 
> 赞同：-1
> 
> 时间：2013-04-03T11:04:40.953
> 
> 标签：tomcat

我正在尝试像这里描述的那样激活 tomcats SimpleTcpCluster：http: [//tomcat.apache.org/tomcat-7.0-doc/cluster-howto.html](http://tomcat.apache.org/tomcat-7.0-doc/cluster-howto.html)

我在标签之外添加了以下行：

```
<Cluster className="org.apache.catalina.ha.tcp.SimpleTcpCluster" defaultMode="true" /> 
```

但是我在启动 tomcat 时唯一得到的日志是：

```
Caused by: org.apache.catalina.LifecycleException: org.apache.catalina.tribes.ChannelException: java.net.BindException: Die angeforderte Adresse kann nicht zugewiesen werden; No faulty members identified.
at org.apache.catalina.ha.tcp.SimpleTcpCluster.startInternal(SimpleTcpCluster.java:660)
at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
... 14 more 
```

多播本身工作，防火墙被禁用，没有第二个tomcat既不在机器上也不在集群中运行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:26:00.673

问题是 /etc/hosts 文件中的错误

# objective-c - UICollectionView 缓慢滚动 - 创建单元格

> ID：15785608
> 
> 赞同：0
> 
> 时间：2013-04-03T11:04:59.200
> 
> 标签：objective-c, uicollectionview

我正在研究一个项目的集合视图。由于某种原因，我的滚动速度很慢，我认为这是因为我在 cellForitemAtindex 委托方法中进行了大量处理。我应该让 UICollectionView 一次创建所有单元格，而不是在滚动时创建单元格吗？或者我应该自己将单元格缓存在某个数组中，然后在用户滚动时从那里加载？这是我唯一能想到的2个，我还能做些什么吗？谢谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T01:43:41.430

在索引路径中的项目的单元格内，您需要获得这样的单元格

```
UICollectionViewCell *cell = [collectionView dequeueReusableCellWithReuseIdentifier:@"cellID" forIndexPath:indexPath]; 
```

而不是从头开始制作。如果您为单元格使用自定义子类，请通过调用 registerClass:forCellWithReuseIdentifier:\ 将其注册到集合视图中

您不负责分配、初始化或缓存可重用单元格，集合视图会为您完成。

# php - 如何从嵌套的 JSON 数据中获取值？

> ID：15785613
> 
> 赞同：2
> 
> 时间：2013-04-03T11:05:05.523
> 
> 标签：php, json

这是我的 JSON 代码：

```
{
    "query": {
        "count": 2,
        "created": "2013-04-03T09:47:03Z",
        "lang": "en-US",
        "results": {
            "yctCategories": {
                "yctCategory": {
                    "score": "0.504762",
                    "content": "Computing"
                }
            },
            "entities": {
                "entity": [
                    {
                        "score": "0.902",
                        "text": {
                            "end": "19",
                            "endchar": "19",
                            "start": "0",
                            "startchar": "0",
                            "content": "Computer programming"
                        },
                        "wiki_url": "http://en.wikipedia.com/wiki/Computer_programming"
                    },
                    {
                        "score": "0.575",
                        "text": {
                            "end": "51",
                            "endchar": "51",
                            "start": "41",
                            "startchar": "41",
                            "content": "programming"
                        }
                    }
                ]
            }
        }
    }
} 
```

下面是我的PHP代码

```
$json_o = json_decode($json,true);
echo "Json result:</br>";
echo $json; // json
echo "</br></br>";
echo "Value result:</br>";
$result = array();
//$entity = $json_o['query']['results']['entities']['entity'];
foreach ($json_o['query']['results']['entities']['entity'] as $theentity)
 foreach ($theentity['text'] as $thetext){
    $result[] = $thetext['content'];
 }
print_r($result); 
```

我的期望是在实体中获得内容的价值，即“**计算机编程**”和“**编程**”。

我已经四处寻找，但仍然找到了解决方案。

我的 PHP 代码的结果是：

```
Array ( [0] => 1 [1] => 1 [2] => 0 [3] => 0 [4] => C [5] => 5 [6] => 5 [7] => 4 [8] => 4 [9] => p ) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:11:29.747

使用这个循环

```
foreach ($json_o['query']['results']['entities']['entity'] as $theentity)
{
    $result[] = $theentity['text']['content'];
} 
```

[http://codepad.viper-7.com/tFxh1w](http://codepad.viper-7.com/tFxh1w)

输出**数组（[0] => 计算机编程 [1] => 编程）**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:09:25.767

删除第二个 foreach 并将其替换为`$result[] = $theentity['text']['content'];`

使用[http://jsonlint.com/](http://jsonlint.com/)之类的内容可能会让您更轻松地了解 json 的结构。或者只是`var_dump`（或`print_r`）你的输出`json_decode`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T11:12:21.290

使用简单的代码：

```
$array = $json_o['query']['results']['entities']['entity'];

foreach($array as $v){
  echo $v['text']['content'];
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T11:12:34.660

将您的 foreach 更改为：

```
$result = array();
foreach ($json_o['query']['results']['entities']['entity'] as $theentity) {
    $result[] = $theentity['text']['content'];
}
print_r($result); 
```

`$theentity['text']`是一个键 => 值的数组。您可以只访问 key`content`而不是遍历所有条目。

您可以这样做的另一种方法（尽管这是一个糟糕的选择）是：

```
foreach($theentity['text'] as $key => $value) {
    if( 'content' === $key ) {
        $result[] = $value;
    }
} 
```

我提供第二个示例来演示为什么原始代码不起作用。

**更新**

要访问其他属性，`yctCategories`只需执行类似操作

```
$categories = array();
foreach ($json_o['query']['results']['yctCategories'] as $yctCategory) {
    $categories[] = $yctCategory['content'];
}
print_r($categories); 
```

# excel-formula - Excel 2010 - 计算超过 31 天的 2 个日期和时间之间的时间间隔

> ID：15785616
> 
> 赞同：2
> 
> 时间：2013-04-03T11:05:26.813
> 
> 标签：excel-formula, excel-2010

我想找出在 2 天和时间之间经过的时间、天数、小时数和分钟数？

**开业日期：**单元格 J1 08/08/2012 09:00:02

**解决日期：**单元格 L1 10/10/2012 07:30:00

我尝试了以下方法：

```
=INT(L1-J1) &" days "&INT(MOD(L1-J1,1)*24)&" hours " & ROUND(MOD((L1-J1)*24,1)*60,0)&" minutes" 
```

这有效，并给出了 62 天 22 小时 30 分钟的流逝时间

这个问题是产生这个作为文本结果意味着我不能自动平均结果

然后我尝试了：

```
=L1-J1 
```

这样做的结果很好，因为它允许我使用结果并计算出平均值和总和

但是如果经过的时间超过一个月，它就无法解决这个问题 - 所以这个例子给了我 02:22:29 (DD:HH:MM) 的错误结果

我正在寻找的是一个公式/函数，它将为我提供以天/小时/分钟为单位的时间，即使超过 1 个月也能正确显示天数，并且我能够使用结果

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:19:57.553

将其格式化为 [h]:mm:ss 会给你小时数。无论如何，这有帮助吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:12:14.887

这是格式问题。DD:HH:MM 的格式将结果视为日期 (2-Mar-1900 22:29)

不幸的是，我认为没有内置格式可以给出总天数

您可以使用公式获取所需的文本，`=INT(L1-J1)&":"&TEXT(L1-J1,"HH:MM")`但这将是文本值而不是数值

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-31T16:48:51.457

这似乎是无法在一个单元格中完成的事情，但需要在 2 个单元格中处理。1 用于计算平均值（并且可以隐藏），1 用于您正在寻找的显示。

# ios - 由于 UITableView 数据源导致的应用程序崩溃必须在 iOS 5.1 模拟器中从 tableView:cellForRowAtIndexPath: 返回一个单元格

> ID：15785629
> 
> 赞同：0
> 
> 时间：2013-04-03T11:06:15.930
> 
> 标签：ios, xcode, uitableview, loadnibnamed

它在 iOS 6 模拟器上运行良好。在 iOS 5.1 模拟器上，当我第一次运行它时，它由于以下异常而崩溃。

***由于未捕获的异常“NSInternalInconsistencyException”而终止应用程序，原因：“UITableView 数据源必须从 tableView 返回一个单元格：cellForRowAtIndexPath:”

这是我的代码

```
- (UITableViewCell *)tableView:(UITableView *)theTableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
    static NSString *cellIdentifier = @"Cell";

    cell = [theTableView dequeueReusableCellWithIdentifier:cellIdentifier];

    if (cell == nil) {
        if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone) {
            [[NSBundle mainBundle] loadNibNamed:@"listTableCell" owner:self options:NULL];
        }
        else{
            [[NSBundle mainBundle] loadNibNamed:@"listTableCell_iPad" owner:self         options:NULL];
        }
        cell = nibLoadCellForListDetails;
    }
    return cell;
} 
```

在 listTableCell.xib 中，我将 File's Owner 设置为我的表格视图控制器。我在我的表格视图控制器中正确地制作了一个插座作为 nibLoadCellForListDetails 。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:09:40.867

看起来实际上没有创建任何单元格。加入：

```
UITableViewCell *cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease]; 
```

代替：

```
cell = [theTableView dequeueReusableCellWithIdentifier:cellIdentifier]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:13:49.230

Give a try like this

```
if (cell == nil) {
    NSArray *nib;
    if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone) {

      nib =   [[NSBundle mainBundle] loadNibNamed:@"listTableCell" owner:self options:NULL];
    }
    else{
      nib =  [[NSBundle mainBundle] loadNibNamed:@"listTableCell_iPad" owner:self         options:NULL];
    }
    cell = [nib objectAtIndex:0];
} 
```

# parallel-processing - 使用 Ipython.parallel，我如何监控任务的进度？

> ID：15785631
> 
> 赞同：0
> 
> 时间：2013-04-03T11:06:21.940
> 
> 标签：parallel-processing, monitoring, ipython

这样的事情会很好：

```
from IPython.parallel import Client
dv=Client()[0]

import time
def waitprogress(n):
  for i in range(n):
    time.sleep(1)
    global progress
    progress=str(i)+'/'+str(n)

dv.block=False
dv.apply(waitprogress,10)

dv['progress']
# the command wait 10 seconds, then returns 9/10 
```

这不起作用，因为 IPython 在远程实例中搜索进度变量之前等待 dv.apply 结束。

SO的伟大人物有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:40:58.447

从 SO 的答案：[阅读 ipcluster 的标准输出，](https://stackoverflow.com/questions/9823548/reading-the-stdout-from-slave-nodes-with-ipcluster?rq=1) 我找到了使用标准输出的解决方案：

```
from IPython.parallel import Client
c=Client()
dv=c[0]

import time
def waitprogress(n):
  for i in range(n):
    time.sleep(1)
    print str(i)+'/'+str(n)

dv.block=False
res=dv.apply(waitprogress,10)

print c.spin() or c.metadata[res.msg_ids[0]].stdout.split()[-1]
#1/10
time.sleep(3)
print c.spin() or c.metadata[res.msg_ids[0]].stdout.split()[-1]
#4/10 
```

如果有人有更好的解决方案，那就太好了

# javascript - 已经存在带有 onClick 的 VWO 脚本

> ID：15785636
> 
> 赞同：0
> 
> 时间：2013-04-03T11:06:38.597
> 
> 标签：javascript, jquery

所以，我在我的公司有点负责或 A/B 测试。我们使用视觉网站优化器。一直到现在都一帆风顺。主要是 html/css 编码/编辑。现在我必须使用所谓的“自定义转换目标”。基本上，这意味着只要在 URL/页面上调用自定义 JavaScript 函数，系统就会触发。

根据 VWO 触发的正确方法是使用“onClick”：

```
<a onclick="if(typeof(_vis_opt_top_initialize) =='function'){  
_vis_opt_goal_conversion(200); _vis_opt_pause(500);}" href="#"><span>Sign Up</span></a> 
```

虽然，如果你直接编辑代码，你会弄乱页面上的动态内容，所以你必须（？）使用 jquery，显然。因此，您在 VWO 系统中有一个小控制台，您可以将 javascript/jquery（和 css）放入其中。这将是使用上述代码的方法：

```
vwo_$('.rLink a').attr('onClick', 'if(typeof(_vis_opt_top_initialize) == "function") {     
_vis_opt_goal_conversion(208); _vis_opt_pause(500); }'); 
```

然后假设您要将 onClick 添加到 .rLink 类中的锚点。现在，这行得通。我试过了。但当然，生活并没有那么简单。现在我必须将此 onClick 函数添加到已经具有 onClick 的元素中。我知道你不能在同一个元素中有两个 onClick（？）。对？我试图“将其注入到包含锚点的 div 中，但这也不起作用。那么，我该如何解决这个小谜团？记住我无论如何都不能“动手”编辑页面，只需使用注入新代码内置的小控制台。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:08:26.530

一般来说，改变`onClick`属性并不是触发点击事件的好方法。相反，您应该附加一个点击事件。在 jQuery 中，这是通过[`.click`](http://api.jquery.com/click/).

尝试添加[`.click`](http://api.jquery.com/click/)处理程序：

```
vwo_$('.rLink a').click(function(){
    if(typeof(_vis_opt_top_initialize) == "function") {     
        _vis_opt_goal_conversion(208);
    }
}); 
```

另外值得一提的是，`typeof`是一个*操作符*，而不是一个函数。这样做是没有意义的`typeof(x)`。你可以改为`typeof _vis_opt_top_initialize === "function"`

# java - 如何在 XSLT 模板转换中编写求和之类的公式

> ID：15785640
> 
> 赞同：0
> 
> 时间：2013-04-03T11:06:45.510
> 
> 标签：java, xslt, xls, xlsx

在我的程序中

```
Map<String, Collection<Employee>> beans = new HashMap<String, Collection<Employee>>();
        beans.put("employee", staff);
        XLSTransformer transformer = new XLSTransformer();
        try {
            transformer.transformXLS("C:/Users/hussain.a/Desktop/newprojectpocdetails/temp (Autosaved).xls", beans, "C:/Users/hussain.a/Desktop/newprojectpocdetails/demo.xls"); 
```

我正在设置单元格公式，例如 ${employee.field1} ，${employee.field2} 并且它工作正常

但是在接下来的几列中，我需要对从对象中检索到的值进行一些计算，所以我写

```
${employee.field1} + ${employee.field2}
// not working but results in string 1 followed by string 2
// say field1=3 , field=4 , output cell has 3+4 not 7
=sum(${employee.field1} ,${employee.field2})
// not working says error
=sum(${employee.field+employee.field2})
// not working says error 
```

如何正确编写公式以在输出 xls 表中获得所需的计算

# struct - 如何创建 LLVM 结构值？

> ID：15785644
> 
> 赞同：6
> 
> 时间：2013-04-03T11:07:01.727
> 
> 标签：struct, cuda, llvm, ptx

我正在尝试创建结构类型的 LLVM 值。我正在使用 LLVM-C 接口并找到一个函数：

```
LLVMValueRef    LLVMConstStruct (LLVMValueRef *ConstantVals, unsigned Count, LLVMBool Packed) 
```

如果所有成员都是由 LLVMConstXXX() 创建的常量值，这将正常工作，它将生成如下代码：

```
store { i32, i32, i32 } { i32 1, i32 2, i32 3 }, { i32, i32, i32 }* %17, align 4 
```

但问题是如果成员不是恒定的，它会产生类似的东西：

```
%0 = call i32 @llvm.nvvm.read.ptx.sreg.tid.x()
store { i32, i32, i32 } { i32 1, i32 %0, i32 3 }, { i32, i32, i32 }* %17, align 4 
```

当我将这段 LLVM 代码发送到 NVVM（Nvidia PTX 后端）时，它会说：

> 模块 0 (27, 39)：解析错误：函数本地名称的使用无效

所以，我不知道这个结构值创建是否正确。我需要的是一个值，而不是分配的内存。

有人有想法吗？

问候，翔。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-03T11:43:47.310

常量结构是一种字面量 - 忠于其名称 - 可能只包含其他常量，而不是一般值。那么，生成该结构的正确方法是 via `insertvalue`。在上面的示例中，它应该如下所示：

```
%0 = call i32 @llvm.nvvm.read.ptx.sreg.tid.x()
%1 = insertvalue {i32, i32, i32} {i32 1, i32 undef, i32 3}, i32 %0, 1
store { i32, i32, i32 } %1, { i32, i32, i32 }* %17, align 4 
```

# css - jqGrid中的行选择器列

> ID：15785646
> 
> 赞同：0
> 
> 时间：2013-04-03T11:07:02.420
> 
> 标签：css, jqgrid

有没有办法像 jqGrid 中的图像一样实现行选择器。当我单击该行时，在最左侧的列上会出现一个类似图标的指针。

谢谢！

![在此处输入图像描述](https://i.stack.imgur.com/jkSWw.png)

这是我添加的代码

```
onSelectRow: function(rowId) {
         if (rowId && rowId != lastsel) {
             $(this).jqGrid('restoreRow', lastsel);
             $(this).jqGrid('editRow', rowId, true);

             var ic = "";

             if (lastsel) {
                 $(this).setCell(lastsel, 0, ic, '');
             }

             ic = '<img src="images/ig_tblTri_Black.gif" />';
             $(this).setCell(rowId, 0, ic, '');

             lastsel = rowId;
         }
     } 
```

代码正在执行，但图像未显示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:28:02.687

您可以使用为 定义的[onSelectRow](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3aevents) 或[onCellSelect](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3aevents)事件`jqGrid`编写一个函数，该函数在列数据中添加或删除图像

```
onSelectRow: function(rowId){ 
//code to add image and remove from all other rows
 var ids = $("#grid").jqGrid('getDataIDs');
var ic = "";
for(var i=0;i < ids.length;i++){
jQuery("#grid").jqGrid('setRowData',rowId,{colName:ic});
}
ic = "<img src='path/images/buttons/icon.gif'/>";
jQuery("#grid").jqGrid('setRowData',rowId,{colName:ic});
   }, 
```

```
onCellSelect: function(id, iCol, cellContent, e){ 
//code to add image and remove from all other rows 
 var ids = $("#grid").jqGrid('getDataIDs');
var ic = "";
for(var i=0;i < ids.length;i++){
jQuery("#grid").jqGrid('setRowData',rowId,{colName:ic});
}
ic = "<img src='path/images/buttons/icon.gif'/>";
jQuery("#grid").jqGrid('setRowData',id,{colName:ic});
} 
```

**更新 ：**

正如@Oleg 建议的那样，可以在没有太多开销的情况下使用的另一个事件是：
[beforeSelectRow](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3aevents#list_of_events)：

```
beforeSelectRow: function(id, e){ 
//code to add image and remove from all other rows 
 var gsr = jQuery("#grid").jqGrid('getGridParam','selrow');
var ic = "";
jQuery("#grid").jqGrid('setRowData',gsr,{colName:ic});
ic = "<img src='path/images/buttons/icon.gif'/>";
jQuery("#grid").jqGrid('setRowData',id,{colName:ic});
} 
```

# ruby - 如何更改目录但仍写入现有文件？

> ID：15785647
> 
> 赞同：0
> 
> 时间：2013-04-03T11:07:02.943
> 
> 标签：ruby

我编写了一个脚本来创建一个文本文件，并保存我需要保存的所有内容。问题出现在我循环并更改目录以将文件上传到另一个目录后，但文本文件留在旧目录中。

如何更改目录但仍写入文本文件？这是我的代码：

```
kolekcija.each do |fails|
  @b.send_keys :tab
  @b.span(:class => "btnText", :text => "Save", :index => 1).when_present.click
  @b.frame(:id, "uploadManagerFrame").table(:id, "ctrlGetUploadedFiles_gvUploadedFiles").wait_until_present
  sleep 30

  # I need to edit it so it opens the TXT file in its existing location
  output = File.open("#{Time.now.strftime("%Y.%m.%d")} DemoUser.txt", "a") 
  output.puts ""
  output.puts "Korpusā ielādētais fails:  #{File.basename(@fails)} augšuplādēts sekmīgi..."
  output.close
  progress.increment
end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T11:38:50.247

如果问题发生变化，我将对其进行编辑，因为目前尚不清楚；我没有看到目录有任何变化，所以我假设用户：

1.  更改那里某处的目录。
2.  想要继续将信息附加到同一个文本文档。

如果这是真的，答案将是使用文本文件的绝对路径：

```
file = File.open("/full/path/to/file", "a")
kolekcija.each do |fails|
  # ...
  file.puts "some stuff"
  # ...
end
file.close 
```

如果你正在做这些 long `sleep`s，那可能是个问题，但你也可以坚持这条路：

```
path = "/full/path/to/file"
kolekcija.each do |fails|
  # ...
  file = File.open(path, "a")
  file.puts "some stuff"
  file.close    
  # ...
end 
```

或者[`Dir.chdir`](http://ruby-doc.org/core-2.0/Dir.html#method-c-chdir)在脚本的一部分中使用一个块，您想要将目录更改为其他内容并返回：

```
Dir.chdir(ENV["HOME"])  # now you're in your home directory ~
Dir.chdir("files") do   # now in ~/files
  upload_files
end                     # aaand you're back home
file = File.open("/full/path/to/file", "a")
file.puts "stuff"
file.close 
```

我承认我不是 100% 确定问题在问什么，但解决方案要么使用绝对路径保留文件句柄，要么在写入文本文件之前更改回原始目录.

# google-bigquery - 如何在 Google BigQuery 上存储每日/每月快照？

> ID：15785650
> 
> 赞同：2
> 
> 时间：2013-04-03T11:07:12.843
> 
> 标签：google-bigquery

我们需要存储我们的一些数据库的每日和每月快照。

这不是备份，我们需要存储数据以便稍后分析它们并查看它们在此期间如何演变。我们仍然不知道两个月后我们需要什么样的查询，首先我们需要跟踪用户群的一些演变，所以我们将保存用户和其他相关集合的每日快照。

我们正在考虑将所有内容都放在 Google BigQuery 上，这样很容易将数据放在上面，并且更容易对这些数据进行查询。

我们将创建一些表，为我们需要的每组数据创建一个表，其中包含所有需要的列，以及一个包含提取过程完成日期的额外表。我们将使用此列按天、月等对数据进行分组。

另一种方法是为每组数据创建一个数据集，并在每次需要快照时创建一个表。老实说，我不知道这两者之间哪个更好，或者是否有更好的选择。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T07:01:53.647

很难说哪个最适合您，因为我不知道您的需求或成本要求。

但是，使用“创建一些表，为我们需要的每组数据创建一个表，包含所有需要的列，再加上一个包含提取过程完成日期的额外表”方法，您可以运行允许的查询您可以查看随着时间的推移您的用户发生了什么变化。例如，您可以说，对于特定时间片，特定用户随时间的平均活动。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-06-28T19:57:42.167

您现在可以在 BigQuery 中创建表快照。

您现在只能使用`bq`命令行工具。

请参见此处-> [https://cloud.google.com/bigquery/docs/table-snapshots-create#creating_table_snapshots](https://cloud.google.com/bigquery/docs/table-snapshots-create#creating_table_snapshots)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-07-05T12:49:27.373

可能有点晚了，但对于未来的读者：您可能正在寻找[日期分区表](https://cloud.google.com/bigquery/docs/creating-partitioned-tables)。它与这个用例完全对应，文档页面中有一个简单的示例。

# oracle - SQLDeveloper 3.2 中“调度程序链”的代码生成

> ID：15785651
> 
> 赞同：0
> 
> 时间：2013-04-03T11:07:16.293
> 
> 标签：oracle, oracle-sqldeveloper, dbms-scheduler

我使用可视化编辑器在 sqldeveloper3.2 中创建 schduler 链。但是面临一个问题——无法获取链的SQL代码，即请求序列，，，（`create_chain`from package ）。`define_chain_step``define_chain_rule``DBMS_SCHEDULER`

此外，一些属性已经创建了步骤和规则，不能像a`program_name`等那样更改。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:20:53.457

DBMS_Metadata 可用于提取定义。

当我上次在 10.2.0.4 中尝试此操作时，它没有提取调度程序规则——我只是通过使用 SQL 读取相关系统表来提取它们。

```
select 'exec DBMS_SCHEDULER.DEFINE_CHAIN_RULE('''||chain_name||''','''||condition||''','''||action||''','''||rule_name||''','''||comments||''');'
from user_scheduler_chain_rules
where chain_name = 'EXPORT'; 
```

我总是发现完全放弃和重新定义时间表而不是就地修改它们更健壮。这里有一些注释：http: [//oraclesponge.wordpress.com/category/oracle/dbms_scheduler/](http://oraclesponge.wordpress.com/category/oracle/dbms_scheduler/)

# java - 为什么 Java Ellipse2D 在绘制得较小时会变成矩形？

> ID：15785658
> 
> 赞同：2
> 
> 时间：2013-04-03T11:07:31.807
> 
> 标签：java, swing, jpanel, java-2d, paintcomponent

我想我将从给我带来问题的代码开始。

```
class AnimationPanel extends JPanel
{   
    OfficeLoad load;
    Timer timer = new Timer();

    private static final long serialVersionUID = 1L;
    public AnimationPanel()
    {
        setBackground(new Color(240, 240, 240));
        setBorder(null);
        setOpaque(false);
        setBounds(10, 143, 400, 21);
    }

    public void paintComponent(Graphics g)
    {
        super.paintComponent(g);
        load  = new OfficeLoad(g);
    }
    ...
    }

...

final Color WHITE = Color.WHITE;
public OfficeLoad(Graphics g)
{
    Graphics2D g2 = (Graphics2D)g.create();

    g2.setPaint(WHITE);
    g2.fill(new Ellipse2D.Double(30, 1, 5, 5));
    g.fillOval(40, 1, 5, 5);
    g.fillOval(50, 1, 5, 5);
    g.fillOval(60, 1, 5, 5);
    g.fillOval(70, 1, 5, 5);
    g.setColor(new Color(0, 102, 51));
    g.fillRect(0, 0, 10, 21);
} 
```

当我使用`g.fillOval()`和使用它时`g2.fill(new Ellipse2D())`，它都变成了一个正方形。只是为了一些额外的信息，我当然只是为了好玩，尝试在启动时复制 excel 2013 启动屏幕。这部分用于“Excel”下方的加载点。我已经用 gif 制作了，这要容易得多，但我的朋友挑战我使用颜料、重画等等。但我不能真正做到这一点，除非它们变成圆形而不是正方形......任何帮助将不胜感激。:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T11:17:38.457

谢谢哈利克斯！[_](https://stackoverflow.com/users/637284/halex) :D 对于没有看他评论的每个人，Halex 给出了以下答案。

当您启用抗锯齿时它是否有效`g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);`

它做了。谢谢！:D

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T11:22:42.380

首先，我建议不要在每次绘画时都创建新的 OfficeLoad 对象，您可以保存 officeload 对象或在 OfficeLoad 中创建一个静态 void，这样您就根本不需要该对象。

你也需要抗锯齿

```
g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON); 
```

# php - PHP通过链接查询字符串参数

> ID：15785672
> 
> 赞同：0
> 
> 时间：2013-04-03T11:08:13.090
> 
> 标签：php, mysql

当用户单击链接时，我正在尝试传递查询字符串。

这样在它指向的下一页将从 mysql 检索特定的产品（查询字符串参数）详细信息。

下面是我的代码，我该怎么做呢？

当前页面：

```
<?php

// Write a series of five PHP statements to retrieve the data for all product items in the database
// Write a statement to prepare the SQL SELECT statement
$sql = "SELECT skuCode, brand, model FROM productItem;";
// Write a statement to open a connection to MySQL server
$link = mysql_connect("localhost", "root", "password");
// Write a statement to select the required database
mysql_select_db("is1112t4q3", $link);
// Write a statement to send the SQL statement to the MySQL server for execution and retrieve the resultset
$resultset = mysql_query($sql);
// Write a statement to close the connection
mysql_close($link);

// Write a suitable expression for the while loop to iterate through each data row in the resultset.
// Each data row represents one product item that you need to display
while($row = mysql_fetch_array($resultset))
{
    // Write a echo command to display the summary information for each product item. The required attributes are 
    // indicated in the HTML table header row.
    // The image that is displayed should be the first image of each product item, e.g., MP300001_1.jpg.
    // The Action column should contain a hyperlink to viewProductItem.php where user can view the complete product information
    // of the selected product item.
    // You need to use a query string parameter to pass the SKU Code of the required product item to viewProductItem.php
    echo("<tr><td>".$row[0].
        "</td><td>".$row[1].
        "</td><td>".$row[2].
        "</td><td>"."<img src=images/".$row["skuCode"]."_1.jpg>".
        "</td><td><a href=viewProductItem.php?var=skuCode>View</a>".
        "</td></tr>");

}

?> 
```

下一页，此页面应检索单击链接时从上一页传递的 skuCode `<a href=viewProductItem.php?var=skuCode>View</a>`。

```
<?php

// Complete the if expression using the isset function to determine whether the query string parameter skuCode has been provided
if(isset($_GET["skuCode"]))
{               
    // Write a series of five PHP statements to retrieve the data for the selected product item from the database
    // Write a statement to prepare the SQL SELECT statement. The SQL statement should have a WHERE condition
    $sql = "SELECT * FROM productItem WHERE skuCode = '".mysql_real_escape_string($_GET["skuCode"])."';";
    // Write a statement to open a connection to MySQL server
    $link = mysql_connect("localhost", "root", "password");
    // Write a statement to select the required database
    mysql_select_db("is1112t4q3", $link);
    // Write a statement to send the SQL statement to the MySQL server for execution and retrieve the resultset
    $resultset = mysql_query($sql);
    // Write a statement to close the connection
    mysql_close($link);

    // The statement below will retrieve the first data row in the resultset. 
    // Note that we are only expecting at most one data row since we are filtering by the primary key skuCode
    // mysql_fetch_array will an array of values corresponding to the fetched data row.
    // If there is no matching data row, mysql_fetch_array will return FALSE
    $row = mysql_fetch_array($resultset);

    if($row)
    {
        // Write a series of echo commands to print out the complete information of the selected product item using a HTML table
        echo("<tr><td>".$row[0].
            "</td><td>".$row[1].
            "</td><td>".$row[2].
            "</td><td>"."<img src=images/".$row["skuCode"]."_1.jpg>".
            "</td><td><a href=viewProductItem.php>View</a>".
            "</td></tr>");

    }
}
else
{
    echo("<h3 style=\"color: red;\">Product item ".$_GET["skuCode"]." does not exist</h3>");
}
}
else
{
    echo("<h3 style=\"color: red;\">No product item has been selected</h3>");
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:18:59.407

您必须在第一页中重写 : 之类的 url。不是那个'var'

```
"<a href=viewProductItem.php?skuCode=".$row["skuCode"].">View</a>" 
```

当您从第一页单击此链接时。您可以在第二页通过

```
 $skuCode =mysql_real_escape_string($_REQUEST['skuCode']);

 $sql = "SELECT * FROM productItem WHERE skuCode = '".$skuCode."';"; 
```

并且您修改后的代码是：试试这个它为您工作.. 第一页：

```
<?php

// Write a series of five PHP statements to retrieve the data for all product items in the database
// Write a statement to prepare the SQL SELECT statement
$sql = "SELECT skuCode, brand, model FROM productItem;";
// Write a statement to open a connection to MySQL server
$link = mysql_connect("localhost", "root", "password");
// Write a statement to select the required database
mysql_select_db("is1112t4q3", $link);
// Write a statement to send the SQL statement to the MySQL server for execution and retrieve the resultset
$resultset = mysql_query($sql);
// Write a statement to close the connection
mysql_close($link);

// Write a suitable expression for the while loop to iterate through each data row in the resultset.
// Each data row represents one product item that you need to display
while($row = mysql_fetch_array($resultset))
{
    // Write a echo command to display the summary information for each product item. The required attributes are 
    // indicated in the HTML table header row.
    // The image that is displayed should be the first image of each product item, e.g., MP300001_1.jpg.
    // The Action column should contain a hyperlink to viewProductItem.php where user can view the complete product information
    // of the selected product item.
    // You need to use a query string parameter to pass the SKU Code of the required product item to viewProductItem.php
    echo("<tr><td>".$row[0].
        "</td><td>".$row[1].
        "</td><td>".$row[2].
        "</td><td>"."<img src=images/".$row["skuCode"]."_1.jpg>".
        "</td><td><a href=viewProductItem.php?skuCode=".$row['skuCode'].">View</a>".
        "</td></tr>");

}

?> 
```

第二页：

```
<?php

// Complete the if expression using the isset function to determine whether the query string parameter skuCode has been provided
if(isset($_GET["skuCode"]))
{               
    // Write a series of five PHP statements to retrieve the data for the selected product item from the database
    // Write a statement to prepare the SQL SELECT statement. The SQL statement should have a WHERE condition
    $sql = "SELECT * FROM productItem WHERE skuCode = '".mysql_real_escape_string($_GET["skuCode"])."';";
    // Write a statement to open a connection to MySQL server
    $link = mysql_connect("localhost", "root", "password");
    // Write a statement to select the required database
    mysql_select_db("is1112t4q3", $link);
    // Write a statement to send the SQL statement to the MySQL server for execution and retrieve the resultset
    $resultset = mysql_query($sql);
    // Write a statement to close the connection
    mysql_close($link);

    // The statement below will retrieve the first data row in the resultset. 
    // Note that we are only expecting at most one data row since we are filtering by the primary key skuCode
    // mysql_fetch_array will an array of values corresponding to the fetched data row.
    // If there is no matching data row, mysql_fetch_array will return FALSE
    $row = mysql_fetch_array($resultset);

    if($row)
    {
        // Write a series of echo commands to print out the complete information of the selected product item using a HTML table
        echo("<tr><td>".$row[0].
            "</td><td>".$row[1].
            "</td><td>".$row[2].
            "</td><td>"."<img src=images/".$row["skuCode"]."_1.jpg>".
            "</td><td><a href=viewProductItem.php>View</a>".
            "</td></tr>");

    }
    else
    {
         echo("<h3 style=\"color: red;\">Product item ".$_GET["skuCode"]." does not                        exist</h3>");
    }
}

else
{
    echo("<h3 style=\"color: red;\">No product item has been selected</h3>");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:14:06.673

```
viewProductItem.php?skuCode=123 
```

使用 PHP 来制定带有类似参数的 url。

```
viewProductItem.php?skuCode=123&anotherVariable=yes 
```

..以及类似的后续论点

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T11:18:14.277

您可以按照 Cups 的描述使用 GET。但是 GET 不安全？

另一种方法是 SESSION 变量。它是一种更安全的方法，但并不完全安全。

//在第1页（当前页）

```
$_SESSION['skuCode'] = "xyz"; 
```

//在第2页（viewProductItem.php）

```
$var_value = $_SESSION['skuCode']; 
```

# html - 灯箱剂量图像不会加载

> ID：15785677
> 
> 赞同：0
> 
> 时间：2013-04-03T11:08:26.930
> 
> 标签：html, css, lightbox, lightbox2

嗨，我已经玩了很长时间的灯箱，但有一个问题。我得到了 1.80mb 和 1608 x 1080 的图像大小。现在这个图像将无法加载。我的问题是，是因为它的文件大小太大，我需要将它压缩到 30.2 kb 之类的大小，还是我在灯箱中做错了什么？需要明确的是，当您单击缩略图时，它会继续加载。

我的html：

```
<div class = "lightbox">
    <a href="images/image4.jpg" rel="lightbox[group]"><img src="images/image4t.jpg" /></a>
    <a href="images/image5.jpg" rel="lightbox[group]"><img src="images/image5t.jpg" /></a>
    <a href="images/image6.jpg" rel="lightbox[group]"><img src="images/image6t.jpg" /></a>
    <a href="images/image7.jpg" rel="lightbox[group]"><img src="images/image7t.jpg" /></a>
    <a href="images/image8.jpg" rel="lightbox[group]"><img src="images/image8t.jpg" /></a>
    <a href="images/image9.jpg" rel="lightbox[group]"><img src="images/image9t.jpg" /></a>
</div> 
```

如果您需要其他任何东西，请随时询问。再次感谢所有帮助

# android - 强制布局以绘制视图/布局

> ID：15785678
> 
> 赞同：0
> 
> 时间：2013-04-03T11:08:27.067
> 
> 标签：android, android-layout

看图：根布局是一个`LinearLayout`，水平的。它包含 a `TextView`，文本可能很长（我使用`singleline`and `ellipsize`），然后布局第二列中的图像将不可见。除了使用固定宽度值之外，有没有办法强制绘制图像/其布局列？例如让布局从右到左绘制？

![在此处输入图像描述](https://i.stack.imgur.com/EXKD4.jpg)

# c#-4.0 - MVC 自定义错误页面可以保留路由值吗？

> ID：15785679
> 
> 赞同：4
> 
> 时间：2013-04-03T11:08:27.767
> 
> 标签：c#-4.0, asp.net-mvc-4, error-handling

我目前正在处理的 MVC 项目使用区域，以便我们可以本地化页面等。

我发现我们的错误页面存在问题。我们已经在 web.config 文件中打开了自定义错误页面。如果我们在一个页面上，让我们说：/IT/News/Index 并且我们收到一个错误，当它重定向时它将转到 /Error 并且不会附加任何路由值。

是否可以确保错误页面保留语言路由值？

我已经四处寻找，目前找不到解决方案，想知道是否有其他人可以帮助或指出正确的方向？

希望这一切都有意义。任何帮助深表感谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-05T13:59:34.887

如果您在物理上被重定向到 /Error，那么这不是因为 MVC HandleErrorAttribute。这可能是由于您的 Web.Config 为错误处理定义了 system.web/customErrors。使用 HandleErrorAttribute 会导致它注入特定视图而不是您通常返回的视图，但默认情况下不会将您重定向到不同的操作。问题是当由于 customErrors 重定向时，没有可用的固有信息告诉您它们来自哪里。但是使用 HandleErrorAttribute 确实会为您填充一些信息。具体来说，它创建一个 HandleErrorInfo 用作视图模型并将其传递给您指定的视图。例如，这是在 /App_Start/FilterConfig.cs 文件中重新注册的一个。

```
public class FilterConfig
{
    public static void RegisterFilters(GlobalFilterCollection filters)
    {
        filters.Add(new HandleErrorAttribute {View = "Error"});
    }
} 
```

当您使用 HandleErrorAttribute 重定向到错误视图时，会为您填充某些信息。HandleErrorInfo 视图模型将包含请求的原始控制器的 ControllerName 和原始操作的 ActionName。此外，原始请求中的 ViewData 和 TempData 将被复制到 Error 视图请求的 ViewData 和 Temp 数据中。有了这些信息，它应该有你需要的东西。但请注意，并非所有错误都发生在 Action 内部，并且未发生在 Action 中的异常不会被 HandleErrorAttribute 捕获。因此，您仍然需要使用 customErrors（或 system.webServer/httpErrors，如果您在 IIS7+ 内部执行此操作）来处理应用程序中其他地方发生的异常。

这是 CodePlex 上 HandleErrorAttribute 文件的链接，以防您想知道它的作用。[处理错误属性.cs](http://aspnetwebstack.codeplex.com/SourceControl/changeset/view/b4631c0ef899fdccf210cda4c0e39591e67537b7#src/System.Web.Mvc/HandleErrorAttribute.cs)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T13:11:50.730

我不确定此解决方案是否满足您的要求。您可以在基本控制器中覆盖 OnException，然后重定向到特定页面。

```
 protected override void OnException(ExceptionContext filterContext)
  {
        string controller = filterContext.RouteData.Values["controller"].ToString();
        string action = filterContext.RouteData.Values["action"].ToString();
        //get other stuff from routing
        //here you can do redirect or other stuff

        //if handled exception
        //filterContext.ExceptionHandled = true;

        base.OnException(filterContext);
  } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-05T13:36:16.917

这取决于你如何进入错误页面，真的。如果您使用基于 - 的方法来捕获异常，那么您可以从传递给该方法`ActionFilter`的上下文中获取路由值。`OnException`如果您正在使用来自 catch 块的重定向，那么您可以将相关信息推送到`TempData`或直接作为参数传递，具体取决于您执行该重定向的方式。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-11T15:52:38.480

您可以添加自定义 HandleErrorAttribute 或使用基本控制器来由所有控制器继承。无论哪种方式，您都需要获取 RouteData 对象，如下所示

```
var routeData = filterContext.RouteData; 
```

使用该对象，您可以根据需要获取所有路由值。[查看 MSDN 站点中的对象定义以](http://msdn.microsoft.com/en-us/library/system.web.routing.routedata.aspx)获取更多详细信息

假设您有以下路线

```
routes.MapRoute(
                "Language", // Route name
                "{language}/{controller}/{action}/{id}", // URL with parameters
                new { language = "en", controller = "Sites", action = "Index", id = UrlParameter.Optional } // Parameter default 
```

然后`routeData.Values.Keys`会告诉你参数的名称和`routeData.Values.Values`值本身

然后，无论您在哪里处理异常，都可以将路由数据存储在 TempData 变量中，如下所示

```
TempData["RouteData"] 
```

之后，它将在您的错误页面上可用

```
@model System.Web.Mvc.HandleErrorInfo

@{
    ViewBag.Title = "Error";
}

<h2>
    Sorry, an error occurred while processing your request.
</h2>
@TempData["RouteData"]; 
```

# prolog - 在数据结构上实现关系

> ID：15785680
> 
> 赞同：-1
> 
> 时间：2013-04-03T11:08:27.890
> 
> 标签：prolog

我有以下简单的Prolog程序，通过使用数据结构，代表一个由丈夫、妻子和孩子组成的家庭列表：

```
family(
    person(bob, smith, date(7,may,1968), 30000),
    person(ann, smith, date(18,july,1970), 32000),

    [person(dave, smith, date(1,june,1984), 0),
     person(edna, smith, date(25,may,1990), 0)]
).

family(
    person(mario, rossi, date(7,may,1968), 30000),
    person(lucia, verdi, date(18,july,1970), 32000),

    [person(luca, rossi, date(1,june,1984), 5000),
     person(maria, rossi, date(25,may,1990), 0),
     person(paolo, rossi, data(16, april, 1980), 10000)]
).

family(
    person(carlo, bianchi, date(7,may,1968), 30000),
    person(flavia, blabla, date(18,july,1970), 32000),

    [person(figlio1, bianchi, date(1,june,1984), 0),
     person(figlio2, bianchi, date(25,may,2001), 0),
     person(figlio3, bianchi, data(16, april, 1980), 10000),
     person(figlio4, bianchi, data(10, april, 1978), 20000)]
).

family(
    person(no, no, date(7,may,1968), 30000),
    person(no, no, date(18,july,1970), 32000),
    []
).

/* Regola che mostra i mariti: */
husband(X) :- family(X,_,_).

/* Regola che mostra l mogli: */
wife(X) :- family(_,X,_).

/* Regola che mostra i figli:
   X è figlio se in una famiglia c'è una lista di figli e se X appartiene
   alla lista dei figli: */
child(X) :- family(_,_,Children),
        member(X,Children). 
```

这很简单。根据一些事实，我代表某个家庭，并且我有一些规则来执行一些查询（获取丈夫、妻子、如果 X 是家庭中的孩子、如果家庭中存在一个人、一个人的薪水和日期一个人的出生）

好的，直到现在我都没有问题。

然后我有以下与上一个程序相关的练习：**写一个规则，计算每个家庭所有孩子的总工资**

所以我必须计算一个我称之为 ChildrenIncoming 的值，它表示属于特定家庭的所有孩子的薪水总和（代表家庭数据结构中孩子的个人数据结构中的最后一个值）

我发现实现这个功能有很多问题。

我从更简单的任务（例如检索丈夫的薪水）开始，如下所示：

```
husbandIncoming(HSurname, HIncoming) :-  husband(HSurname),  % Seleziona un cognome
                         salary(HSurname, HIncoming). 
```

我试图计算 ChildrenIncoming 值试图做类似的事情（它不完整并且不起作用）：

```
childrenList(Husband,ChildrenList) :- family(Husband,_,ChildrenList).

/* If ChildrenList is empty: ChildrenIncomung value 0 */
childrenIncoming(Husband,[],0).

childrenIncoming(Husband,ChildrenList,ChildrenIncoming) :-
    childrenList(Husband,ChildrenList),
    ChildrenList = [Head|Tail],
                               childrenIncoming(Husband,Tail,TailIncoming),
                               salary(Head, ChildrenIncoming). 
```

第一件事是我通过丈夫识别了一个家庭，这样我就可以使用**childrenList规则检索****ChildrenList**（这个规则很好用）。

 **然后我会计算这个 ChildreList 中所有人的所有工资的总和，为此我引入了必须计算它的关系**childrenIncoming 。**

这种关系始于简单地**说**：

```
childrenIncoming(Husband,[],0). 
```

如果一个家庭（有丈夫作为家长）有空的孩子列表，那么孩子的总传入是 0。

然后我介绍了一个规则（错误），它应该在非空子列表的情况下计算这个值。

这条规则背后的原因是：

1) 非空子列表包含人员。

2）一个非空列表可以分为一个Head of the list（即一个人）和一个Tail sublist（一个人的列表）

3) 头是人，有薪水

4）尾部包含人，每个人都有薪水

但是我不知道如何以正确的方式混合这些想法以获得所需的结果（孩子列表中所有人的总传入值）

我不知道这种或推理是好的还是我从一开始就错了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T15:04:33.473

如果您将这些谓词添加到 family/3 事实

```
husband(family(H, W, C), P) :- family(H, W, C), H = person(P,_,_,_).
children(family(_, _, C), C).
income(P, I) :- P = person(_,_,_,I).

childrenIncoming(Family, ChildrenIncoming) :-
  children(Family, Children),
  sum_income(Children, 0, ChildrenIncoming).

sum_income([], Sum, Sum).
sum_income([C|Children], SoFar, Sum) :-
  income(C, I),
  Updated is I + SoFar,
  sum_income(Children, Updated, Sum). 
```

有了这个查询，你得到

```
?- husband(F, mario), childrenIncoming(F,I).
F = family(person(mario, rossi, date(7, may, 1968), 30000), person(lucia, verdi, date(18, july, 1970), 32000), [person(luca, rossi, date(1, june, 1984), 5000), person(maria, rossi, date(25, may, 1990), 0), person(paolo, rossi, data(16, april, 1980), 10000)]),
I = 15000 . 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-03T15:35:05.950

我还创建了一个计算特定系列所有组件的总传入：

```
/* FATTO (CASO BASE): Se la lista dei figli è una lista vuota, non ci
                      sono figli quindi la somma dei redditi dei figli è 0
*/
somma([],0).

/* REGOLA (CASO GENERALE): La lista dei figli non è vuota quindi può essere
   decomposta in un'HEAD (person(_,_,_,E) ed in una sottolista L.

   SE è VERO che: il valore della somma di tutti gli elementi nella
   sottolista L è S1 ed è VERO che il valore di S è S1+E allora è VERO
   che la somma dei redditi nella lista [H|L] è S

*/
somma([person(_,_,_,E)|L],S):- somma(L,S1),
                   S is S1+E.

/* Una famiglia è identificata dal COGNOME DEL MARITO.
   Il REDDITO TOTALE di una famiglia è la somma del reddito del marito +
   reddito moglie + la somma dei redditi di tutti i figli nella lista
   dei figli.
*/
reddito(C,R):- family(person(_,C,_,RP), person(_,_,_,RM), FIGLI),
           somma(FIGLI,RF),
           R is RF+RP+RM. 
```

评论是意大利语的，但我认为查看代码很简单，可以理解它的含义:-)**

# php - mysql/php - id号达到9999，从0001开始计数

> ID：15785683
> 
> 赞同：0
> 
> 时间：2013-04-03T11:08:47.253
> 
> 标签：php, mysql, numbers, auto-increment

我有一个接受客户应用程序的 PHP 网站。每个应用程序都有一个递增的 ID 号。

最近，该站点的应用程序 ID 编号为 9999，但没有继续使用 10000，而是恢复为 0001

任何想法为什么会发生这种情况 - 可能是某种 php 或 mysql 设置、范围或限制？！

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:11:43.967

它可能是`int`递增主键所允许的大小。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:13:39.833

请在表结构中执行此操作以获取 id`int(11)` 的长度给 11

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T06:58:51.950

是的，在 php 中应用了一些格式来限制为 4 位数（0000），所以当它达到 10000 时，它会切断第一个 1。这导致它在后端和其他地方显示为 0001 等......

结果，它还在电子邮件中向申请人发送了 id nmber 的剪切版本，并造成了各种混乱，哈哈！

花了一段时间才找到正确的文件，因为原始编码器不可用！

谢谢大家。

# java - 如何在 Eclipse IDE 中以 JAVA 运行 RMI 聊天应用程序

> ID：15785685
> 
> 赞同：0
> 
> 时间：2013-04-03T11:08:50.373
> 
> 标签：java, chat, rmi

我正在用 Java 开发一个 RMI 聊天应用程序。我正在尝试在 Eclipse IDE 中运行简单的 RMI 应用程序。但它会出现以下问题。我知道如何从命令提示符运行它并且它运行没有任何问题。如果您能建议我在 Eclipse IDE 中运行 RMI 应用程序的方法，我们将不胜感激。谢谢！

错误：

```
Caused by: java.rmi.UnmarshalException: error unmarshalling arguments; nested exception is: 
    java.lang.ClassNotFoundException: examples.credit.CreditChecker
    at sun.rmi.registry.RegistryImpl_Skel.dispatch(Unknown Source)
    at sun.rmi.server.UnicastServerRef.oldDispatch(Unknown Source)
    at sun.rmi.server.UnicastServerRef.dispatch(Unknown Source)
    at sun.rmi.transport.Transport$1.run(Unknown Source)
    at sun.rmi.transport.Transport$1.run(Unknown Source)
    at java.security.AccessController.doPrivileged(Native Method)
    at sun.rmi.transport.Transport.serviceCall(Unknown Source)
    at sun.rmi.transport.tcp.TCPTransport.handleMessages(Unknown Source)
    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(Unknown Source)
    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    at java.lang.Thread.run(Unknown Source)
Caused by: java.lang.ClassNotFoundException: examples.credit.CreditChecker
    at java.net.URLClassLoader$1.run(Unknown Source)
    at java.net.URLClassLoader$1.run(Unknown Source)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(Unknown Source)
    at java.lang.ClassLoader.loadClass(Unknown Source)
    at java.lang.ClassLoader.loadClass(Unknown Source)
    at java.lang.Class.forName0(Native Method)
    at java.lang.Class.forName(Unknown Source)
    at sun.rmi.server.LoaderHandler.loadProxyInterfaces(Unknown Source)
    at sun.rmi.server.LoaderHandler.loadProxyClass(Unknown Source)
    at sun.rmi.server.LoaderHandler.loadProxyClass(Unknown Source)
    at java.rmi.server.RMIClassLoader$2.loadProxyClass(Unknown Source)
    at java.rmi.server.RMIClassLoader.loadProxyClass(Unknown Source)
    at sun.rmi.server.MarshalInputStream.resolveProxyClass(Unknown Source)
    at java.io.ObjectInputStream.readProxyDesc(Unknown Source)
    at java.io.ObjectInputStream.readClassDesc(Unknown Source)
    at java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)
    at java.io.ObjectInputStream.readObject0(Unknown Source)
    at java.io.ObjectInputStream.readObject(Unknown Source)
    ... 13 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T03:57:25.193

对不起。我不确定这是对还是错。因为我没有在 RMI 上工作

应用程序。但我确信以下链接可以解决您的问题。

[运行 rmi 服务器，classnotfound](https://stackoverflow.com/questions/464687/running-rmi-server-classnotfound)

# ruby-on-rails - 关联两个多对多

> ID：15785689
> 
> 赞同：0
> 
> 时间：2013-04-03T11:09:14.690
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ruby-on-rails-3.2

我不完全了解关联是如何运作的。

我有 3 个模型：

1.  **电影**(:about, :title, :url, :actors, :uploader)
2.  **演员**（：出生，：姓名）
3.  **关系**（：actor_id，：film_id）

关系是电影和演员之间的关联，因此“哪个演员在哪部电影中扮演”。[我的老师告诉我，我可以使用http://railscasts.com/episodes/47-two-many-to-many](http://railscasts.com/episodes/47-two-many-to-many)让它变得更容易，但我不知道如何使用它，知道吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T11:16:34.093

我想你想要这样的东西：

```
class Movie < ActiveRecord::Base
  has_many :actors, :through => :relationships
end

class Relationship < ActiveRecord::Base
  belongs_to :movie
  belongs_to :actor
end

class Actor < ActiveRecord::Base
  has_many :movies, :through => :relationships
end 
```

[http://guides.rubyonrails.org/association_basics.html#the-has_many-through-association](http://guides.rubyonrails.org/association_basics.html#the-has_many-through-association)

或者，如果您觉得不必明确定义关系类，您可以简单地使用`has_and_belongs_to_many`：

```
class Movie < ActiveRecord::Base
  has_and_belongs_to_many :actors
end

class Actor < ActiveRecord::Base
  has_and_belongs_to_many :movies
end 
```

# java - AlertDialog 自动关闭

> ID：15785690
> 
> 赞同：0
> 
> 时间：2013-04-03T11:09:20.503
> 
> 标签：java, android, filter, android-alertdialog

我有一个`AlertDialog`用于向用户显示一个小表单。

ALertDialog 上有 2 个按钮；即“提交”和“取消”。

现在字段 (EditTexts) 已单独附加到它们的 setKeyListeners。

我面临的问题是假设用户没有填写任何字段并直接单击`Submit`按钮然后对话框自动关闭。

这是我为创建/显示对话框而调用的方法：

```
Context ctx = this.getApplicationContext();
LinearLayout layoutCreateMerch = new LinearLayout(ctx);
layoutCreateMerch.setOrientation(LinearLayout.VERTICAL);
layoutCreateMerch.setVerticalScrollBarEnabled(true);

final AlertDialog.Builder alert = new AlertDialog.Builder(Store.this);
alert.setTitle("New Store");
final EditText stoName = new EditText(Store.this);
final EditText stoDesc = new EditText(Store.this);

InputFilter[] FilterMaxLen = new InputFilter[1];
FilterMaxLen[0] = new InputFilter.LengthFilter(25);

stoName.setFilters(FilterMaxLen);
stoName.setHint("Store's Name");
stoName.setKeyListener(DigitsKeyListener.getInstance("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ.,&apos;1234567890 ")); 
stoName.setInputType(InputType.TYPE_TEXT_VARIATION_PERSON_NAME);
layoutCreateMerch.addView(stoName);

stoDesc.setFilters(FilterMaxLen);
stoDesc.setHint("Store's Description");
stoDesc.setKeyListener(DigitsKeyListener.getInstance("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ.,&apos;1234567890 ")); 
stoDesc.setInputType(InputType.TYPE_TEXT_VARIATION_PERSON_NAME);
layoutCreateMerch.addView(stoDesc);

ScrollView scroll = new ScrollView(ctx);
scroll.setBackgroundColor(Color.TRANSPARENT);
scroll.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT));
scroll.addView(layoutCreateMerch);

alert.setView(scroll);

alert.setNeutralButton("Submit",
        new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dialog, int whichButton) {

                if (Name.getText().toString().equals("") 
                        || Desc.getText().toString().equals(""))
                {

                    if(stoName.getText().toString().equals("")){
                        stoName.setHint("fill Store's Name");
                        stoName.setHintTextColor(Color.RED);
                    }
                    else{}
                    if( stoDesc.getText().toString().equals("")){
                        stoDesc.setHint("fill Store's Description");
                        stoDesc.setHintTextColor(Color.RED);
                    }
                    else{}
                    if..
                    ..
                    ..

                } 

                else {

                    System.out.println("should not exit :| ");
                }

            }
        });

alert.setNegativeButton("Cancel",
        new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dialog,
                    int whichButton) {

                dialog.cancel();
            }
        });
alert.show(); 
```

任何建议表示赞赏..谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:18:12.813

`addTextChangedListener`为您添加`EditText`，然后始终检查用户是否输入了任何文本，就好像不是`disable`提交按钮，否则`enable`是动态提交按钮。

# jsp - 使用 displaytag 按数字而不是字母顺序排序

> ID：15785691
> 
> 赞同：1
> 
> 时间：2013-04-03T11:09:25.727
> 
> 标签：jsp, displaytag

我正在使用显示标签，在对数据进行排序时，我得到的输出类似于 1 10 100 2 3 而不是数字排序。我将数据类型更改为数字。因此，在数据库中进行 orderby 查询时，它排序正确，但是当我单击 row_number 列进行度假村时，它给出了 aphabetically 排序不是数字。请帮忙

# php - Joomla 存储会话数据

> ID：15785693
> 
> 赞同：0
> 
> 时间：2013-04-03T11:09:26.010
> 
> 标签：php, joomla, joomla2.5, joomla-extensions

我正在修改一个 joomla 组件（jQuarks），以便从模块中实现所需的行为，以便进行在线测验/考试。基本上，我希望能够使用会话变量来存储以下项目：

*   用户身份
*   QuizSessionID（不是 Joomla 会话本身，因为这是一个 jQarks“会话”）
*   测验开始时间
*   最后一个问题回答的页面（或 id，并不重要，但因为我使用的是页面，所以这是最好的选择）
*   所有之前回答的问题（即问题 ID 和答案 ID）

为了实现这一点，我正在使用 JFactory::getSession() 但我有一些疑问。

第一个是：会话变量是存储这些数据的最佳方式吗？如果没有，我可以如何或在哪里存储此信息？每当用户单击导航到下一页时，我都想存储给出的答案并将其添加到先前给出的答案中。这不会让我不得不不断地破坏和重新创建会话吗？如果万一用户需要刷新页面，则当前组件的行为是创建一个新的 quizSession 从而重置所有内容并且不存储任何内容。Joomla Session 变量是否足以强制执行我想要的行为？（恢复用户启动的 quizSession）

如果这是错误的方法，我应该使用什么？我并不真正精通 Joomla 的开发，并且至少 3 年没有接触过 PHP ......

最好的祝福

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T11:41:15.320

我建议你不要使用 JSession，而是尝试用户状态。它在 Joomla 中广泛用于存储分页，过滤跨页面的变量。您可以在[此处](http://docs.joomla.org/How_to_use_user_state_variables)找到有关它的信息。

我唯一担心的是页面刷新。刷新时不会重置状态，我怀疑是否可以使用 Joomla API...

还有一件事 - 您不需要在会话中存储 UserId，因为您可以随时使用这段简单的代码检索它：

```
$userId = JFactory::getUser()->id; 
```

更多信息[在这里](http://docs.joomla.org/JFactory/getUser)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T11:43:35.767

`SESSION`用于临时数据。如果您不怕丢失数据，您可以使用它来存储数据。

如果你要关联一些数据永久使用`#__user_profiles table`，比如键值存储。

如果您想对其进行一些分析，则必须使用您的**数据库**结构。

# c++ - 在私有并行程序集的“程序集清单”中指定版本（C++）

> ID：15785696
> 
> 赞同：0
> 
> 时间：2013-04-03T11:09:33.003
> 
> 标签：c++, windows, visual-studio-2005

我正在创建一个私有的并排程序集，需要为此生成一个程序集清单`dll`。问题是我不知道如何为此清单指定版本。（`dll`/build的版本`#defined`在头文件中）

我需要生成如下所示的清单文件。目前我使用具有以下内容的静态清单文件并在`project settings->Manifest Tool->Input and output->Additional Manifest Files`. 这种方法的唯一问题是，我无法更改版本。

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<assembly xmlns="urn:schemas-microsoft-com:asm.v1" manifestVersion="1.0">
  <assemblyIdentity type="win32" name="MyCompany.MyDll" version="1.0.0.0"
                    processorArchitecture="x86" ></assemblyIdentity>  
</assembly> 
```

请建议，为私有并排 dll 创建程序集文件的正确程序是什么。

# java - 了解 Android GC 消息

> ID：15785699
> 
> 赞同：15
> 
> 时间：2013-04-03T11:09:41.583
> 
> 标签：java, android, garbage-collection

我的目录中有以下消息，

```
GC_CONCURRENT freed 456K, 19% free 2753K/3360K, paused 5ms+9ms, total 378ms 
```

我试图弄清最后一个总值。我在网站上检查了其他与 GC 相关的问题，它们要么有两个与并发 GC 相关的暂停，要么有一个非并发 GC 的总暂停。为什么我有两个？我的应用暂停了 5+9 毫秒还是 378 毫秒？究竟什么是总数？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-03T11:20:30.320

没有明确的答案，但据我所知，GC_CONCURRENT 是一个在单独线程中运行的垃圾收集。这意味着虽然运行总共可能需要 X 毫秒（在您的情况下为 378），但您实际运行的线程不会被阻塞那么长时间。它只会在并发垃圾收集过程的开始和结束时被阻塞一点（在您的示例中为 5+9=14ms）

这种类型的垃圾收集由 JVM 自动触发，当它决定是这样做的好时机时（通常是当堆变得危险地高时）。其他类型的 GC，例如 GC_EXPLICIT（如果我没记错名字的话）会在您执行

System.gc();

在你的代码中。对于这种类型的垃圾收集，它只会报告一次（如 Y ms），在这种情况下，您的线程实际上将被阻塞一段时间，直到这种类型的 GC 进程完成。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-03T11:15:12.610

`GC_CONCURRENT`: Triggered when the heap is growing. So it can reclaim memory in time so the heap doesn't need to be enlarged

`GC_CONCURRENT` freed 456K

This part tells you how much memory was freed by this GC sweep

`GC_CONCURRENT` freed 456K, 19% free 2753K/3360K

This part tells how much % of the heap is free, the size of the alive objects and the total size of the heap. So in the above example the 19% free, there is 2753Kmemory in use and the total heap size is 3360K.

The last part of the log tells you how long the GC took. on a `GC_CONCURRENT` collection you will see 2 times. one at the beginning of the collection, and one at the end.

For `n`on-concurrent GC events, there is only one pause time and it's typically much bigger. E.g. paused 378ms

**Source:**

[https://sites.google.com/site/pyximanew/blog/androidunderstandingddmslogcatmemoryoutputmessages](https://sites.google.com/site/pyximanew/blog/androidunderstandingddmslogcatmemoryoutputmessages)

Another place where things are explained clearly...

[http://www.youtube.com/watch?v=_CruQY55HOk](http://www.youtube.com/watch?v=_CruQY55HOk)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-02-10T01:12:06.350

从我查看的一些 systraces 看来，总数（378 毫秒）并不能反映 GC 实际暂停您的应用程序的时间。它确实反映了垃圾收集花费了多长时间。暂停时间是您应该关注的。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-03T11:14:17.460

Take a look at this [question](https://stackoverflow.com/questions/4976566/what-do-gc-for-malloc-gc-explicit-and-other-gc-mean-in-android-logcat) it explains the garbage collection messages etc.
If you need more information watch this [video](https://www.youtube.com/watch?v=_CruQY55HOk) from google about memory management

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-03T11:14:24.033

[http://www.youtube.com/watch?v=_CruQY55HOk](http://www.youtube.com/watch?v=_CruQY55HOk).

Watch the video around 17 minutes. The guy explains the logcat message in detail.

```
GC_CONCURRENT freed 456K, 19% free 2753K/3360K, paused 5ms+9ms, total 378ms
GC_CONCURRENT : Jumps in because Heap is growing
19% free 2753K/3360K After this collection 19% of memory is free. Check the heap usage.paused 5ms+9ms Time taken to collect garbage. Total pause time is 378ms. 
```

# mysql - 在MySQL中将日期更新为每月的第一天？

> ID：15785702
> 
> 赞同：7
> 
> 时间：2013-04-03T11:09:51.817
> 
> 标签：mysql, sql, date, sql-update

我将如何将 MySQL 表中的日期更新为该月的第一天？

例如，数据如下所示：

```
1   2013-01-13
2   2013-02-11
3   2013-02-01
4   2013-01-30
5   2013-03-27 
```

...我希望它看起来像这样...

```
1   2013-01-01
2   2013-02-01
3   2013-02-01
4   2013-01-01
5   2013-03-01 
```

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-04-03T11:11:24.370

您可以将其转换为字符串以获取年份和月份并将其与`01`.

```
UPDATE  tableName
SET     dateField = CONCAT(DATE_FORMAT(dateField, '%Y-%m-'), '01') 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/ee9ed/1)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-01-15T00:33:31.437

```
UPDATE tableName SET date = DATE_SUB(date,INTERVAL DAYOFMONTH(date)-1 DAY) 
```

[日期和时间函数](https://dev.mysql.com/doc/refman/8.0/en/date-and-time-functions.html)

# c# - 如何将公钥导入 RSA 进行解密

> ID：15785704
> 
> 赞同：0
> 
> 时间：2013-04-03T11:09:52.177
> 
> 标签：c#, encryption, cryptography, rsa, public-key-encryption

这似乎是一个愚蠢的问题，但我一直在寻找最后一个半小时。我有一条使用 RSA 密钥对的 PRIVATE KEY 加密的消息。我有我需要用来解密消息的公钥。我一直在寻找将公钥导入 RSACryptoProvider 的方法，但似乎找不到方法。我只是有一个 BigInteger 对象作为模数和指数（构成一个公钥）。我似乎找不到让它解密任何东西的方法。我试过了

```
System.Security.Cryptography.RSACryptoServiceProvider rsa = new System.Security.Cryptography.RSACryptoServiceProvider();
rsa.ImportParameters(new System.Security.Cryptography.RSAParameters { Exponent = BitConverter.GetBytes(12345), Modulus = BigInteger.Parse("HEX of public key", System.Globalization.NumberStyles.HexNumber).ToByteArray() });
_session.EncryptionKey = rsa.Decrypt(_session.EncryptionKey, false); 
```

所有这一切都是抛出一个 CryptographicException 说没有密钥集。我需要标记一些东西以让它知道我想使用公钥解密吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T13:09:17.590

> 所有这一切都是抛出一个 CryptographicException 说没有密钥集。我需要标记一些东西以让它知道我想使用公钥解密吗？

不，中高级密码库不支持私钥加密、公钥解密等异常操作。如果需要，您需要使用数学原语来实现 RSA。

也许，您需要一个数字签名机制？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T12:46:36.143

大多数人不使用公钥解密，因为使用公钥定义的“解密”仅仅是使用公钥验证签名的一个组成部分。因此 RSACryptoServiceProvider 只是做验证哈希，并用公钥加密。

您包含的示例代码`_session.EncryptionKey`表明您正在尝试实现[混合密码系统](http://en.wikipedia.org/wiki/Hybrid_cryptosystem)。如果你正在实施的这个密码系统使用**公钥**来解密，那么你就没有秘密了。

我编写了谷歌高级加密框架 keyczar 的 C# 实现，它包括一个易于使用的[混合加密](https://github.com/jbtule/keyczar-dotnet/wiki/Session-Encryption)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T23:06:57.510

根据 Pavel 的回答，我们决定最好自己计算。我们结束了

```
var encryptionKey = new BigInteger(_session.EncryptionKey);
var result = encryptionKey.modPow(12345, BigInteger.Parse("HEX of public key", System.Globalization.NumberStyles.HexNumber).ToByteArray());
_session.EncryptionKey = result.ToByteArray(); 
```

（中间有一些未填充但与问题无关，我省略了它）

感谢所有的答案 ：）

# java - c3p0 和休眠用户/密码覆盖

> ID：15785705
> 
> 赞同：3
> 
> 时间：2013-04-03T11:09:54.287
> 
> 标签：java, spring, hibernate, connection-pooling, c3p0

我正在使用spring 3.2和hibernate 4.2。我有 2 个 bean：数据源（c3p0）和带有属性文件（application.properties）的 sessionFactory（LocalSessionFactoryBean）。

当我使用带有显式用户名和密码的 java 配置定义数据源时，一切正常。在启动期间 c3p0 记录其配置。例如“属性”属性是：

```
properties -> {user=******, password=******} 
```

这是确切的输出

但是当我在 xml 中（也使用用户和密码）而不是在 java 中定义相同的数据源时，应用程序的行为会有所不同。

“属性”属性显示

```
properties -> {java.runtime.name=xxx, line.separator=xxx, maven.home=xxx, ...} 
```

和所有环境变量，但与用户或密码无关。它拒绝连接到数据库：

```
java.sql.SQLException: ORA-01017: invalid username/password; logon denied 
```

但是在 application.properties 中我添加：

```
hibernate.connection.username=xxx
hibernate.connection.password=xxx 
```

c3p0 再次打印所有没有用户和密码的环境属性，但连接成功。好吧，好的：可以将池推送到会话工厂，但凭据必须在数据源中

发生什么了？我想要具有凭据和池配置的数据源以及具有休眠配置的休眠会话工厂。

以防万一。下面是我的配置：

```
<bean id="sessionFactory" class="org.springframework.orm.hibernate4.LocalSessionFactoryBean">
        <property name="dataSource" ref="dataSource" />
        <property name="packagesToScan" value="xxx.model" />
        <property name="hibernateProperties">
            <util:properties location="classpath:/spring/application.properties" />
        </property>
    </bean> 
```

xml ds:

```
<bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource" destroy-method="close">
        <property name="driverClass" value="oracle.jdbc.driver.OracleDriver"/>
        <property name="user" value="xxx"/>
        <property name="password" value="xxx"/>
        <property name="jdbcUrl" value="xxx"/>
    </bean> 
```

和java ds：

```
@Bean
public DataSource dataSource() throws PropertyVetoException {
    ComboPooledDataSource ds = new ComboPooledDataSource();
    ds.setDriverClass("oracle.jdbc.driver.OracleDriver");
    ds.setUser("xxx");
    ds.setPassword("xxx");
    ds.setJdbcUrl("xxx");
    return ds;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T12:17:01.190

所以这很奇怪。

我的猜测是这样的。c3p0 的 DriverManagerDataSource 有一个名为“properties”的属性，类型为 java.util.Properties。

在某个地方，您的中间件世界中的某些东西被配置为自动将此类属性设置为 System.properties。这让我觉得是一件坏事，但它似乎就是正在发生的事情。最好的办法是关闭此行为。这不是 c3p0 的事情，但除此之外，我不确定你应该去哪里看。

一个建议是尝试在您的 XML 中明确设置 properties 属性 [yuk]。也许这会阻止它默认为系统属性。有关如何设置属性类型的属性，请参见[此处。](http://www.mkyong.com/spring/spring-collections-list-set-map-and-properties-example/)properties 属性应该包含一个名为“user”的键和一个名为“password”的键（并且不需要在这些属性之外设置用户和密码）。就像是：

```
<bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource" destroy-method="close">
    <property name="driverClass" value="oracle.jdbc.driver.OracleDriver"/>
    <property name="jdbcUrl" value="xxx"/>
    <property name ="properties">
       <props>
          <prop key="user">xxx</prop>
          <prop key="paswords">xxx</prop>
       </props>
    </property>
</bean> 
```

祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-08T20:15:22.737

上周我遇到了这样一个奇怪的问题，在互联网上搜索我发现了来自@Steve Waldman [https://stackoverflow.com/a/15787141/2033885](https://stackoverflow.com/a/15787141/2033885)的这个问题和答案，它帮助我解决了这个问题。我知道这个问题很老，但我希望我的回答可以帮助其他人。

下面我描述这个问题：

当您在 ApplicationContext 中使用 C3P0 com.mchange.v2.c3p0.ComboPooledDataSource 定义“数据源”bean 时，会显式设置属性“用户”和“密码”或从属性文件中获取值，在我的情况下为“persistence.properties” . 接下来我在应用程序上下文中的数据源 bean：

```
<context:property-placeholder location="classpath*:config/persistence.properties" />

<bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource" destroy-method="close">
        <!-- access -->
        <property name="driverClass" value="${driverClass}" />
        <property name="jdbcUrl" value="${jdbcUrl}" />
        <property name="user" value="${user}" />
        <property name="password" value="${password}" />
</bean> 
```

我的错误是使用了一个名为“user”的属性，当我在 Windows 中运行我的应用程序时一切都很好，但是.. 在 Linux 中，已经有一个名为“user”的系统属性在持久性中覆盖了我的“user”属性。特性。在我的情况下，修复是在 persistence.properties 和应用程序上下文中将“user”的属性名称更改为“jdbc.user”：

```
<bean id="dataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource" destroy-method="close">
        <!-- access -->
        <property name="driverClass" value="${driverClass}" />
        <property name="jdbcUrl" value="${jdbcUrl}" />
        <property name="user" value="${jdbc.user}" />
        <property name="password" value="${jdbc.password}" />
</bean> 
```

我一直在使用 Windows 进行开发，但测试和生产环境是 Linux。我认为 Tomcat 就是 Tomcat，没有必要过多关注底层操作系统，但由于这个问题，我学到的教训是：最终部署环境总是很重要，无论您使用哪个应用程序服务器 :)

# symfony - 在自定义 symfony2 约束验证器中访问当前实体

> ID：15785706
> 
> 赞同：11
> 
> 时间：2013-04-03T11:09:55.020
> 
> 标签：symfony

有没有办法访问当前在自定义约束验证器中验证的属性的实体，如果是，如何访问？据我所知，我只能访问该值（当然还有我可能选择注入的任何服务）。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2016-06-27T09:34:02.310

如果您有属性验证器，您还可以通过 ExecutionContext 访问 Validator 中的已验证对象：

[http://api.symfony.com/2.8/Symfony/Component/Validator/Context/ExecutionContextInterface.html#method_getObject](http://api.symfony.com/2.8/Symfony/Component/Validator/Context/ExecutionContextInterface.html#method_getObject)

```
class SomeValidator extends ConstraintValidator
{
    public function validate($value, Constraint $constraint)
    {
        $object = $this->context->getObject();
    }
} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-03T11:25:16.093

是的，有办法。[类约束验证器](http://symfony.com/doc/current/cookbook/validation/custom_constraint.html#class-constraint-validator)在范围内具有整个实体。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2014-12-24T11:16:35.480

我也需要那个。请在下面找到一个完整的例子：

实体：

```
<?php
namespace AppBundle\Entity\MarketPlace;

use Doctrine\ORM\Mapping AS ORM;
use Gedmo\Mapping\Annotation as Gedmo;
use AppBundle\Model\BaseCategoryClass as BaseCategory;
use AppBundle\Validator\Constraints as FMUAssert;

/**
 * @ORM\Entity(repositoryClass="AppBundle\Repository\MarketPlace\ProductRepository")
 * @Gedmo\Tree(type="nested")
 * @FMUAssert\UnitConstraint()
 */
class Product extends BaseCategory
{
    /**
     * @ORM\Id
     * @ORM\Column(type="integer", length=11)
     * @ORM\GeneratedValue(strategy="AUTO")
     */
    protected $id;
} 
```

约束：

```
<?php
namespace AppBundle\Validator\Constraints;

use Symfony\Component\Validator\Constraint;

/**
 * @Annotation
 */
class UnitConstraint extends Constraint
{
    public $message = 'La chaîne "%string%" contient un caractère non autorisé : elle ne peut contenir que des lettres et des chiffres.';

    public function validatedBy()
    {
        return 'unit_validator';
    }

    public function getTargets()
    {
        return self::CLASS_CONSTRAINT;
    }
} 
```

约束验证器：

```
<?php
namespace AppBundle\Validator\Constraints;

use Symfony\Component\Validator\Constraint;
use Symfony\Component\Validator\ConstraintValidator;

class UnitConstraintValidator extends ConstraintValidator
{
    public function validate($entity, Constraint $constraint)
    {
        exit(var_dump(get_class($entity)));
        $this->context->addViolation($constraint->message, array('%string%' => $value));
    }
} 
```

声明即服务：

```
services:
    unit_validator:
        class: %unit_validator.class%
        tags:
            - { name: validator.constraint_validator, alias: unit_validator } 
```

我放的出口 vardump 确实为我提供了实体类名称，它正在工作！

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-06-13T10:54:18.470

嗯，这取决于您如何验证实体。例如，我正在通过表单验证我的实体，因此，要在 ConstraintValidator 中获取实体，我只需要获取上下文根并从我的表单中获取数据：

```
/**
 * @Annotation
 */
class ValidDnieValidator extends ConstraintValidator
{

    public function validate($value, Constraint $constraint)
    {

        $user = $this->context->getRoot()->getData(); 
```

# entity-framework-5 - EF 迁移：将索引字段更改为可为空时出错

> ID：15785707
> 
> 赞同：8
> 
> 时间：2013-04-03T11:09:58.213
> 
> 标签：entity-framework-5, entity-framework-migrations

我最初迁移的代码如下

> ```
>  CreateTable(
>             "dbo.Sites",
>             c => new
>                 {
>                     Id = c.Int(nullable: false, identity: true),
>                     Description = c.String(maxLength: 450)
>                 })
>             .PrimaryKey(t => t.Id); 
> ```

为了使描述字段是唯一的，我在 UP 方法的末尾添加了以下内容

> CreateIndex("dbo.Sites", "Description", unique: true);

后来我决定将描述字段设为必填。

新的迁移会产生以下变化

> AlterColumn("dbo.Sites", "Description", c => c.String(nullable: false, maxLength: 450));

但是，当此更改尝试运行时，我收到错误

> ALTER TABLE ALTER COLUMN 描述失败，因为一个或多个对象访问此列。

我能够使用分析器隔离 SQL 行，如

> ALTER TABLE [dbo].[Sites] ALTER COLUMN [Description] nvarchar NOT NULL

当我在 Management Studio 中运行它时，这给了我以下错误

> 消息 5074，级别 16，状态 1，第 1 行索引“IX_Description”取决于“描述”列。消息 4922，级别 16，状态 9，第 1 行 ALTER TABLE ALTER COLUMN 描述失败，因为一个或多个对象访问此列。

如何获取迁移代码以删除索引，然后更改更改列，然后重新构建索引？

我正在使用 SQL Server 2008 R2

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-03T15:43:50.803

大概是这样的？

```
DropIndex("dbo.Sites", "IX_Description");
AlterColumn("dbo.Sites", "Description", c => c.String(nullable: false, maxLength: 450));
CreateIndex("dbo.Sites", "Description", unique: true); 
```

我认为您也可以直接执行 SQL，如下所示。

```
Sql("DROP INDEX [IX_Description] ON [dbo].[Sites] WITH ( ONLINE = OFF )"); 
```

如果您想添加检查索引是否存在或其他内容，这可能很有用。

# bash - Bash 脚本返回“未找到”错误

> ID：15785708
> 
> 赞同：0
> 
> 时间：2013-04-03T11:09:56.973
> 
> 标签：bash

我正在编写一个 bash 脚本以从目录中获取最新文件以进行备份。这是脚本：

```
#!/bin/sh

set -u
set -e

backup_dir=/media/backup

cd $backup_dir

tar_file= $(ls -Art | tail -n 1)

#ls -Art | tail -n 1

echo $tar_file 
```

当我运行脚本时，它会获取正确的文件，但也会返回未找到的错误，我不知道为什么：

```
./backup: 10: 20130403-120001.tar.gz: not found 
```

我用被注释掉的行测试了它，而不是把它作为一个变量，并且它可以在没有抛出错误的情况下工作，所以它应该可以工作。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T11:14:14.897

删除后面的空格`=`：

```
tar_file=$(ls -Art | tail -n 1) 
```

使用空格，该行被解释为不分配任何内容`$tar_file`并运行作为`$(...)`. 找不到该命令。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-03T11:14:49.423

是否正确

```
tar_file= $(ls -Art | tail -n 1) 
```

并不是

```
tar_file=$(ls -Art | tail -n 1) 
```

?

（注意空间）

# javascript - 如何定义多维混合数组（包括键和关联值）JavaScript

> ID：15785710
> 
> 赞同：0
> 
> 时间：2013-04-03T11:10:22.693
> 
> 标签：javascript, arrays, multidimensional-array, image-gallery

我创建了一个 javaScript 库，文档可以在其中处理可变数量的`<div class="gallery">`元素。我想定义一个多维数组来存储每个现有画廊的信息。

## JavaScript + jQuery 1.9.1

```
var gallery = new Array;
gallery = ['images','imageActive','width'];

for (var i=0;i<$('.gallery').length;i++) {
    gallery[i]['images'] = $('.gallery:eq['+i+'] img').index();
    gallery[i]['imageActive'] = 0;
    gallery[i]['width'] = $('.gallery:eq['+i+'] li').css('width');
} 
```

## 控制台输出

![在此处输入图像描述](https://i.stack.imgur.com/ZM0pr.png)

我的方法完全错误吗？数组不适合这种情况吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T11:12:06.710

分配给对象`{}`

```
for (var i=0;i<$('.gallery').length;i++) {
   gallery[i] = {};
   gallery[i]['images'] = $('.gallery:eq['+i+'] img').index(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:11:40.030

`gallery = new Array`将创建一个空数组。在访问任何属性之前，您需要先用对象填充数组：

```
var gallery = [];
gallery = ['images','imageActive','width'];

for (var i=0;i<$('.gallery').length;i++) {
    gallery.push({}); // increase length and add empty object

    gallery[i]['images'] = $('.gallery:eq['+i+'] img').index();
    gallery[i]['imageActive'] = 0;
    gallery[i]['width'] = $('.gallery:eq['+i+'] li').css('width');
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T11:15:13.860

首先，您的第一个赋值 ( `= new Array`) 是完全没有必要的，您将用下一行覆盖它，在这里您将使用文字语法创建一个数组。

我想你的意思是：

```
var gallery = [];
for (var i=0;i<$('.gallery').length;i++) {
    gallery[i] = {
        images:      $('.gallery:eq['+i+'] img').index(),
        imageActive: 0,
        width:       $('.gallery:eq['+i+'] li').css('width')
    };
} 
```

这会创建一个空白数组，然后将条目放入其中，其中每个条目都是一个对象（或“映射”或“字典”，我们在 JavaScript 中不使用术语“关联数组”以避免与数组混淆） . 每个对象都有`images`、`imageActive`和`width`属性。

顺便说一句，可能有一种更有效的方法来编写：

```
var gallery = $(".gallery").map(function() {
    var entry = $(this);
    return {
        images:      entry.find('img').index(),
        imageActive: 0,
        width:       entry.find('li').css('width')
    };
}).get(); 
```

它[`map`](http://api.jquery.com/map)用于循环遍历元素并构建数组，该数组最初作为 jQuery 对象返回，因此我们用于[`get`](http://api.jquery.com/get)获取底层的实际数组。

# android - 如何在 Android phonegap 上隐藏导航栏

> ID：15785711
> 
> 赞同：3
> 
> 时间：2013-04-03T11:10:22.867
> 
> 标签：android, cordova

我试图隐藏 phonegap 上的导航栏但没有成功。

我设法在本机应用程序中使用

```
WebView webview = new WebView(this);        
webview.setSystemUiVisibility(View.SYSTEM_UI_FLAG_HIDE_NAVIGATION); 
setContentView(webview); 
```

在 phonegap 上似乎没有任何效果。我尝试了以下但没有成功

```
getWindow().clearFlags(WindowManager.LayoutParams.FLAG_FORCE_NOT_FULLSCREEN);
getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,
WindowManager.LayoutParams.FLAG_FULLSCREEN);
ViewGroup view = (ViewGroup)getWindow().getDecorView();
view.setSystemUiVisibility(View.SYSTEM_UI_FLAG_HIDE_NAVIGATION);
super.loadUrl(Config.getStartUrl()); 
```

谢谢

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-03T11:32:00.140

我想通了。它适用于设备，但不适用于模拟器。

谢谢

# python - Sphinx graphviz继承图增加节点大小

> ID：15785713
> 
> 赞同：7
> 
> 时间：2013-04-03T11:10:33.750
> 
> 标签：python, diagram, graphviz, python-sphinx

我正在尝试使用[sphinx.ext.inheritance_diagram](http://sphinx-doc.org/ext/inheritance.html)扩展在 Sphinx 中生成继承图。这使用 Graphviz 来绘制图表。

这不是一个巨大的图表，似乎有足够的空间来增加节点的大小，因此它们是可读的。但是我不能让 Graphviz 这样做。我试过增加/减少字体大小、宽度、高度、大小等，但我的努力没有使图表变得可读。

在我的`conf.py`我有：

```
inheritance_graph_attrs = dict(rankdir="TB", ratio='fill') 
```

为了生成一个模块的继承图，我在相应的`rst`文件中包含了以下指令：

```
.. inheritance-diagram:: package.module 
```

这给了我下图：

![生成图](https://i.stack.imgur.com/kmbp1.png)

我认为增加节点的大小应该可以解决问题，但我只是不知道该怎么做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T19:39:44.720

我没有太多经验，但我想说问题是它只“检测”到三个水平级别。字体大小是根据可用空间自动计算的。您必须以某种方式让他将节点分布在三个以上的级别……如果没有具体的例子，很难说更多，因为我自己无法尝试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-30T12:38:57.420

该[文档](http://sphinx-doc.org/ext/inheritance.html)似乎建议您可以使用这些：

*   `inheritance_graph_attrs`：继承图的graphviz图属性字典。
*   `inheritance_node_attrs`：继承图的graphviz节点属性字典。
*   `inheritance_edge_attrs`：继承图的graphviz边缘属性字典。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-04-26T10:14:50.830

您应该在conf.py 中的inheritance_graph_attrs 中设置参数大小，例如：

```
inheritance_graph_attrs = dict(fontsize=12, size='"16.0, 20.0"') 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-08-08T00:19:00.457

我意识到这是一篇旧文章，但是由于我在尝试使用自定义继承图生成 sphinx 文档时偶然发现了它，所以我想我会包括一个几天前对我有帮助的答案。在生成继承图和更改它们的外观方面对我最有帮助的资源是[Graphviz](https://graphviz.org/doc/info/attrs.html)文档，它对设置这些参数非常有帮助。

该表标记了每个属性、使用该属性的组件以及名称-值对的组件值。所以对于每个：

```
inheritance_graph_attrs = G
inheritance_node_attrs = N
inheritance_edge_attrs = E 
```

因此，您可以使用以下方法以英寸为单位设置节点的大小：

```
inheritance_node_attrs = {height=1, width=1} 
```

除非需要更多空间，否则节点的初始高度和宽度将为 1 英寸。您还可以查看 Graphviz 中可以更改的每个属性以及如何在 conf.py 文件中更改它们。

# android - 三星 s3 logcat 消息

> ID：15785718
> 
> 赞同：1
> 
> 时间：2013-04-03T11:10:56.713
> 
> 标签：android, logcat

在我的三星 S3 手机应用程序中，特定的 logcat 消息不会出现。我已经安装了一个Logcat 应用程序。Logcat 消息如“SensorManager : Set normal delay = true”之类的消息将出现在 logcat 应用程序中。

但是在我的应用程序中，我在按钮单击事件中有以下语句。

```
 Log.i("start", "testing");
            Log.d("Log.d", "Log.d");
            Log.e("Log.e", "Log.e"); 
```

这些消息不会出现在 S3 设备中的 logcat 应用程序中。但同样的消息也出现在 eclipse 模拟器中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:18:12.963

自 JELLY BEAN android 版本以来，aLogCat 应用程序出现问题......它的清单没有声明 READ_LOGS 权限......

要使用它，您可以下载终端模拟器或简单地使用 ADB，然后输入：

```
pm grant org.jtb.alogcat android.permission.READ_LOGS 
```

并重新启动您的手机或强制关闭并重新打开 aLogCat

来源：

```
http://zerocredibility.wordpress.com/2013/01/18/286/ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:15:29.010

您是否尝试过使用 shell/终端模拟器？我使用 ROM ToolBox 的内置命令提示符并使用命令“adb logcat”从那里启动 logcat

# python - 如何在 Python 中逐行打印字典？

> ID：15785719
> 
> 赞同：190
> 
> 时间：2013-04-03T11:10:57.497
> 
> 标签：python, printing, dictionary

这是字典

```
cars = {'A':{'speed':70,
        'color':2},
        'B':{'speed':60,
        'color':3}} 
```

使用这个`for loop`

```
for keys,values in cars.items():
    print(keys)
    print(values) 
```

它打印以下内容：

```
B
{'color': 3, 'speed': 60}
A
{'color': 2, 'speed': 70} 
```

但我希望程序像这样打印它：

```
B
color : 3
speed : 60
A
color : 2
speed : 70 
```

我刚开始学习字典，所以我不知道该怎么做。

* * *

## 回答 #1

> 赞同：158
> 
> 时间：2013-04-03T11:14:05.857

```
for x in cars:
    print (x)
    for y in cars[x]:
        print (y,':',cars[x][y]) 
```

输出：

```
A
color : 2
speed : 70
B
color : 3
speed : 60 
```

* * *

## 回答 #2

> 赞同：145
> 
> 时间：2015-12-16T07:59:15.623

您可以为此使用该`json`模块。此模块中的`dumps`函数将 JSON 对象转换为格式正确的字符串，然后您可以打印该字符串。

```
import json

cars = {'A':{'speed':70, 'color':2},
        'B':{'speed':60, 'color':3}}

print(json.dumps(cars, indent = 4)) 
```

输出看起来像

```
{
    “一种”： {
        “颜色”：2，
        “速度”：70
    },
    “乙”：{
        “颜色”：3，
        “速度”：60
    }
}

```

[文档](https://docs.python.org/2/library/json.html#basic-usage)还为此方法指定了一堆有用的选项。

* * *

## 回答 #3

> 赞同：86
> 
> 时间：2014-01-10T16:10:22.533

处理任意深度嵌套的字典和列表的更通用的解决方案是：

```
def dumpclean(obj):
    if isinstance(obj, dict):
        for k, v in obj.items():
            if hasattr(v, '__iter__'):
                print k
                dumpclean(v)
            else:
                print '%s : %s' % (k, v)
    elif isinstance(obj, list):
        for v in obj:
            if hasattr(v, '__iter__'):
                dumpclean(v)
            else:
                print v
    else:
        print obj 
```

这将产生输出：

```
A
color : 2
speed : 70
B
color : 3
speed : 60 
```

我遇到了类似的需求，并开发了一个更强大的功能作为自己的练习。我把它包括在这里，以防它对另一个人有价值。在运行nosetest 时，我还发现能够在调用中指定输出流以便使用sys.stderr 是很有帮助的。

```
import sys

def dump(obj, nested_level=0, output=sys.stdout):
    spacing = '   '
    if isinstance(obj, dict):
        print >> output, '%s{' % ((nested_level) * spacing)
        for k, v in obj.items():
            if hasattr(v, '__iter__'):
                print >> output, '%s%s:' % ((nested_level + 1) * spacing, k)
                dump(v, nested_level + 1, output)
            else:
                print >> output, '%s%s: %s' % ((nested_level + 1) * spacing, k, v)
        print >> output, '%s}' % (nested_level * spacing)
    elif isinstance(obj, list):
        print >> output, '%s[' % ((nested_level) * spacing)
        for v in obj:
            if hasattr(v, '__iter__'):
                dump(v, nested_level + 1, output)
            else:
                print >> output, '%s%s' % ((nested_level + 1) * spacing, v)
        print >> output, '%s]' % ((nested_level) * spacing)
    else:
        print >> output, '%s%s' % (nested_level * spacing, obj) 
```

使用此函数，OP 的输出如下所示：

```
{
   A:
   {
      color: 2
      speed: 70
   }
   B:
   {
      color: 3
      speed: 60
   }
} 
```

我个人发现它更有用且更具描述性。

鉴于以下稍微不那么简单的示例：

```
{"test": [{1:3}], "test2":[(1,2),(3,4)],"test3": {(1,2):['abc', 'def', 'ghi'],(4,5):'def'}} 
```

OP 要求的解决方案产生了这个：

```
test
1 : 3
test3
(1, 2)
abc
def
ghi
(4, 5) : def
test2
(1, 2)
(3, 4) 
```

而“增强”版本会产生这样的结果：

```
{
   test:
   [
      {
         1: 3
      }
   ]
   test3:
   {
      (1, 2):
      [
         abc
         def
         ghi
      ]
      (4, 5): def
   }
   test2:
   [
      (1, 2)
      (3, 4)
   ]
} 
```

我希望这能为下一个寻找此类功能的人提供一些价值。

* * *

## 回答 #4

> 赞同：42
> 
> 时间：2015-09-13T11:50:34.137

[`pprint.pprint()`](https://docs.python.org/library/pprint.html#pprint.pprint)是完成这项工作的好工具：

```
>>> import pprint
>>> cars = {'A':{'speed':70,
...         'color':2},
...         'B':{'speed':60,
...         'color':3}}
>>> pprint.pprint(cars, width=1)
{'A': {'color': 2,
       'speed': 70},
 'B': {'color': 3,
       'speed': 60}} 
```

* * *

## 回答 #5

> 赞同：32
> 
> 时间：2013-04-03T11:13:00.703

你有一个嵌套结构，所以你也需要格式化嵌套字典：

```
for key, car in cars.items():
    print(key)
    for attribute, value in car.items():
        print('{} : {}'.format(attribute, value)) 
```

这打印：

```
A
color : 2
speed : 70
B
color : 3
speed : 60 
```

* * *

## 回答 #6

> 赞同：11
> 
> 时间：2020-03-31T09:07:51.637

我更喜欢干净的格式`yaml`：

```
import yaml
print(yaml.dump(cars)) 
```

输出：

```
A:
  color: 2
  speed: 70
B:
  color: 3
  speed: 60 
```

* * *

## 回答 #7

> 赞同：7
> 
> 时间：2013-04-03T11:13:27.870

```
for car,info in cars.items():
    print(car)
    for key,value in info.items():
        print(key, ":", value) 
```

* * *

## 回答 #8

> 赞同：5
> 
> 时间：2013-04-03T11:15:55.303

如果您知道树只有两个级别，这将起作用：

```
for k1 in cars:
    print(k1)
    d = cars[k1]
    for k2 in d
        print(k2, ':', d[k2]) 
```

* * *

## 回答 #9

> 赞同：4
> 
> 时间：2015-07-27T21:07:48.790

检查以下单线：

```
print('\n'.join("%s\n%s" % (key1,('\n'.join("%s : %r" % (key2,val2) for (key2,val2) in val1.items()))) for (key1,val1) in cars.items())) 
```

输出：

```
A
speed : 70
color : 2
B
speed : 60
color : 3 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2019-02-12T23:11:22.717

```
###newbie exact answer desired (Python v3):
###=================================
"""
cars = {'A':{'speed':70,
        'color':2},
        'B':{'speed':60,
        'color':3}}
"""

for keys, values in  reversed(sorted(cars.items())):
    print(keys)
    for keys,values in sorted(values.items()):
        print(keys," : ", values)

"""
Output:
B
color  :  3
speed  :  60
A
color  :  2
speed  :  70

##[Finished in 0.073s]
""" 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2019-04-24T06:12:12.073

```
# Declare and Initialize Map
map = {}

map ["New"] = 1
map ["to"] = 1
map ["Python"] = 5
map ["or"] = 2

# Print Statement
for i in map:
  print ("", i, ":", map[i])

#  New : 1
#  to : 1
#  Python : 5
#  or : 2 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2020-03-19T22:54:51.693

这是我对问题的解决方案。我认为它的方法相似，但比其他一些答案要简单一些。它还允许任意数量的子字典，并且似乎适用于任何数据类型（我什至在具有函数作为值的字典上对其进行了测试）：

```
def pprint(web, level):
    for k,v in web.items():
        if isinstance(v, dict):
            print('\t'*level, f'{k}: ')
            level += 1
            pprint(v, level)
            level -= 1
        else:
            print('\t'*level, k, ": ", v) 
```

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2021-08-13T07:31:33.787

用这个。

```
cars = {'A':{'speed':70,
        'color':2},
        'B':{'speed':60,
        'color':3}}

print(str(cars).replace(",", ",\n")) 
```

输出：

```
{'A': {'speed': 70,
 'color': 2},
 'B': {'speed': 60,
 'color': 3}} 
```

* * *

## 回答 #14

> 赞同：-1
> 
> 时间：2016-03-29T01:12:15.893

修改 MrWonderful 代码

```
import sys

def print_dictionary(obj, ident):
    if type(obj) == dict:
        for k, v in obj.items():
            sys.stdout.write(ident)
            if hasattr(v, '__iter__'):
                print k
                print_dictionary(v, ident + '  ')
            else:
                print '%s : %s' % (k, v)
    elif type(obj) == list:
        for v in obj:
            sys.stdout.write(ident)
            if hasattr(v, '__iter__'):
                print_dictionary(v, ident + '  ')
            else:
                print v
    else:
        print obj 
```

# android - android错误显示没有这样的表

> ID：15785739
> 
> 赞同：0
> 
> 时间：2013-04-03T11:12:07.830
> 
> 标签：android, android-sqlite

我**`error no such table not found`**在我的项目中使用了**2 个数据库**。一个工作正常，但另一个显示错误。

这是我的代码

```
public void onCreate(SQLiteDatabase db) {
    // TODO Auto-generated method stub
    String CREATE_ADDRESS = " CREATE TABLE " + TABLE_ADDRESS  + "(" + KEY_ID + " INTEGER PRIMARY KEY AUTOINCREMENT,"+ KEY_STATE + " TEXT," + KEY_CITY + " TEXT," + KEY_ZIPCODE + " TEXT," + KEY_STREET + " TEXT," + KEY_DOOR + " TEXT,"+ ");";      
    try{
        db.execSQL(CREATE_ADDRESS);
    }catch (SQLException e)
    {
        e.printStackTrace();
    }
} 
```

我尝试使用此代码插入数据

```
public void addAddress(AddressList address)
{
    SQLiteDatabase db = this.getWritableDatabase();
    ContentValues values = new ContentValues();
    values.put(KEY_STATE, address.getState());
    values.put(KEY_CITY, address.getCity());
    values.put(KEY_ZIPCODE, address.getZipcode());
    values.put(KEY_STREET, address.getStreet());
    values.put(KEY_DOOR, address.getDoor());
    db.insert(TABLE_ADDRESS,null, values);

    db.close();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:13:37.573

There is a extra `,` ( comma ) in your create table syntax after the last TEXT. You need to remove it because it is invalid as per create table's syntax.

use this

```
String CREATE_ADDRESS = " CREATE TABLE " + TABLE_ADDRESS  + "(" + KEY_ID + " INTEGER PRIMARY KEY AUTOINCREMENT,"+ KEY_STATE + " TEXT," + KEY_CITY + " TEXT," + KEY_ZIPCODE + " TEXT," + KEY_STREET + " TEXT," + KEY_DOOR + " TEXT"+ ");"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:13:40.053

Because your `DML` statement is incorrect and then your second table is not created. You have to remove last comma from statement that causes error. Behind last column at table cannot be comma because it's last column.

```
+ KEY_DOOR + " TEXT"+ "); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-08-30T02:01:06.833

您在最后一列中包含了`,`&`;`分号。尝试删除最后一个`,`，`;`最后可能会修复您的错误。

```
public void onCreate(SQLiteDatabase db) {
 // TODO Auto-generated method stub
 String CREATE_ADDRESS = " CREATE TABLE " + TABLE_ADDRESS  + "(" + KEY_ID + " INTEGER PRIMARY KEY AUTOINCREMENT,"+ KEY_STATE + " TEXT," + KEY_CITY + " TEXT," + KEY_ZIPCODE + " TEXT," + KEY_STREET + " TEXT," + KEY_DOOR + "  TEXT" + ")";      
 try{
     db.execSQL(CREATE_ADDRESS);
 }catch (SQLException e)
 {
     e.printStackTrace();
 }
} 
```

# jquery - jquery 图像效果

> ID：15785740
> 
> 赞同：1
> 
> 时间：2013-04-03T11:12:09.157
> 
> 标签：jquery, html

我正在尝试使用 jquery 效果将图像传输到 div

这是我正在使用的 jquery 代码。

```
$('#btn-1').click(function() {
    $('#transferEffect').remove(); // Remove any existing one
    $('<style id="transferEffect" type="text/css">' + // Add new one
        '.ui-effects-transfer { background-image: url(' + $(this).attr('src') + '); }' +
        '</style>').appendTo('head');
    $(this).effect('transfer', {to: $('.target')}, 1000);
}); 
```

效果很好，但是现在我正在尝试将它与我的代码集成，我似乎无法弄清楚如何在 div 中获取主图像的 id/name/class。

```
<div class="listing-result-row-holder" >
    <div class="listing-image">
        <a href="google.com"><img src="https://m1-s.licdn.com/mpr/mpr/shrink_60_60/p/3/000/02e/02d/35f521f.png" title="lego" id="img-1" class="img-polaroid" /></a>
        <div class="listing-total-image">1</div>
        <div class="clearfix"></div>
    </div>
    <div class="listing-detail">
        <div class="listing-result-title">
            <span class="listing-badge">bla bla</span>
            <span class="title_browse_ad"><a href="google.com">TITLE</a></span>
        </div>
        <span class="listing-detail-left">
            <div class="listing-more-info">
                <div class="row">RANDOM TEXT</div>
            </div>
        </span>
        <span class="listing-detail-right"></span>
    </div>
    <div class="clearfix"></div>
    <div class="pull-right" style="margin: 0 5px 5px 0;">
        <a href="javascript:void(0);" id="btn-1" name="saveLinkId-1" class="btn btn-link"><span> save</span></a>
    </div>
</div>
<div class="target"></div> 
```

基本上我希望当用户点击“保存”按钮时图像效果开始。这是一个动态生成的页面，所以 ID 会改变（例如 ID #btn-1 可能是 btn-2）

[这是我的代码](http://jsfiddle.net/MhQpH/9/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:23:35.127

我对您的示例进行了一些更改，但不太确定您期望什么样的效果。希望这对您有所帮助。点击[这里](http://jsfiddle.net/MhQpH/3/)

```
$('#btn-1').click(function() {
    $('#transferEffect').remove(); // Remove any existing one
    $('<style id="transferEffect" type="text/css">' + // Add new one
        '.ui-effects-transfer { background-image: url(' + $(".listing-image img").attr('src') + '); }' +
        '</style>').appendTo('head');
    $(".listing-image img").effect('transfer', {to: $('.listing-image')}, 1000);
}); 
```

**编辑：**

我又做了一些改变。这是更新的[链接](http://jsfiddle.net/MhQpH/10/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:45:43.567

你可以尝试从 div tag(class **pull-right)**遍历。像这样

`var desId = $('div.pull-right > a ') .attr('id');`

如果我没记错的话，我想你可以使用这个 desId 来调用点击事件。

# asp.net - ASP.NET 中的并行性和 IIS 应用程序池中的进程模型标识

> ID：15785743
> 
> 赞同：2
> 
> 时间：2013-04-03T11:12:17.047
> 
> 标签：asp.net, iis-7, parallel-processing

我在 ASP.NET 4 中使用并行，在每个任务中我都有一个到数据库的连接，在大多数情况下我得到一个异常：`Login failed for user: 'IIS APPPOOL\\MyAppPool'.`

经过一番搜索后，我发现如果我将应用程序池中的流程模型标识更改`ApplicationPoolIdentity`为`LocalSystem`一切都会好的。但为什么？这些身份之间的区别在哪里？我找到[了应用程序池的进程模型设置，](http://www.iis.net/configreference/system.applicationhost/applicationpools/add/processmodel) 但我不明白与并行性相关的内容是什么？有人知道吗？还有其他方法可以使用并行性并连接到数据库而不是更改流程模型标识吗？有什么建议吗？

# gtk - 如何访问 GTK 结构中的“命名属性”？

> ID：15785744
> 
> 赞同：0
> 
> 时间：2013-04-03T11:12:20.223
> 
> 标签：gtk, glib

我正在尝试构建一个基于 GTK-3.0 的应用程序，我需要修改一些代码，以便它使用结构中的“主”*属性*：

[https://developer.gnome.org/gdl/stable/GdlDockLayout.html#gdl-dock-layout-new](https://developer.gnome.org/gdl/stable/GdlDockLayout.html#gdl-dock-layout-new)

我几乎没有使用 GTK 编程的经验，所以我不知道如何访问这些属性。不幸的是，“财产”是一个过度使用的术语，以至于谷歌没有产生任何有用的东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T17:46:48.803

你想使用类似的东西

```
GObject *master;
g_object_get (my_gdl_dock_layout_widget, "master", &master, NULL);

// Use master

// Once you've finished with master, don't forget to unref it
g_object_unref (master); 
```

有关详细信息，请参阅[GObject 参考文档](https://developer.gnome.org/gobject/stable/gobject-The-Base-Object-Type.html#g-object-get)`g_object_get`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T11:14:51.037

您使用`GObject`（GTK+ 和相关库中大多数对象的基类）API。

（相当稀疏的）[文档在这里](https://developer.gnome.org/gobject/stable/gobject-properties.html)。

本质上，我认为您追求的是[`g_object_set_property()`](https://developer.gnome.org/gobject/stable/gobject-The-Base-Object-Type.html#g-object-set-property)功能。

# aspectj - 在对象（“t his”或“target”）被垃圾回收之前丢弃方面实例

> ID：15785747
> 
> 赞同：0
> 
> 时间：2013-04-03T11:12:24.827
> 
> 标签：aspectj

我知道方面实例（由于 perthis 或 pertarget）与它们的对象一起自动处置，但我想知道是否有一种方法可以在对象生命周期的任何时候以编程方式执行此操作。目的是对方面代码的开销进行更细粒度的控制。

考虑以下示例，我想检查每个帐户在第一次提款之前是否有初始存款。请注意，一旦我观察到第一次存款，则无需进一步保留方面实例：

```
aspect accounting perthis (execution(Account.new(..))) {    

after () : execution(* Account.deposit(..))
{
         //fine... discard aspect instance
}   

before () : execution(* Account.withdraw(..))
{
    assert first_deposit:"Cannot withdraw before a first deposit";  
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T19:07:53.377

Are you sure that the aspect itself is really the problem? An aspect instance will be fairly small if it doesn't contain much state. And if your aspect instance does contain significant amount of state, you'd be better off just `null`ing out the fields in the aspect instead of trying to disconnect the aspect from the instance.

# dicom - DCE MRI时间轴

> ID：15785752
> 
> 赞同：1
> 
> 时间：2013-04-03T11:12:40.487
> 
> 标签：dicom

DCE MRI 数据中的时间采样间隔是多少。这意味着，我有一个像素随时间推移的信号强度（30 个时间样本），我想知道样本间隔是多少。

是 TR 还是我应该从每个 dicom 图像中读取 DICOM 信息并计算时间？如果我应该从 DICOM 信息中计算它，是不是“内容时间”标签给了我信息？我在 Matlab 中工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T10:03:21.740

您可以结合图像实例编号（0020,0013）和切片位置（0020,1041）来确定图像时间点。例如，浏览一个切片位置的图像，将有 N（时间点）图像，然后将这些图像按实例编号排序，您将得到有序的图像序列和时间点。

# extjs - 如何使用 CheckboxModel 禁用或隐藏特定行网格的复选框

> ID：15785753
> 
> 赞同：4
> 
> 时间：2013-04-03T11:12:41.117
> 
> 标签：extjs, extjs4, extjs4.1

我有一个带有复选框模型的网格，我想在某些条件下禁用一些复选框。

1.  不想使用渲染器覆盖 DOM 元素。
2.  想做这样的事情......

    ```
    grid.getStore().load({          
      scope: this,          
      callback: function(records, operation, success) {            
        if (success) {              
          var sm = grid.getSelectionModel();              
          Ext.each(records, function(record) {                
            if (record.data.chkd) {
              var row = record.index;
              // console.log(record.index);                  
              sm.select(row, true);                  
              // HERE WANT TO DISABLE THE CHECKBOX FOR THE PARTICULAR RECORD
            }
          });              
        } else {              
          //alert(success);
          //console.log(operation.exception);
        }
      }
    }); 
    ```

在此先感谢您的帮助！！

# wordpress - 在将图像设置为特色图像时，它会在 wordpress 中预览

> ID：15785755
> 
> 赞同：0
> 
> 时间：2013-04-03T11:12:46.937
> 
> 标签：wordpress

我在帖子中遇到了有关特色图片的问题...我正在做的是在帖子中显示特色图片...但是当我将图片设置为特色图片时，它也会在主网页中的预览中减少...

**我上传的图片：-**

![我上传的图片](https://i.stack.imgur.com/7hkdw.png)

**将其设置为特色图片：-**

![将其设置为特色图片](https://i.stack.imgur.com/Yo4ZW.png)

**管理面板截图：-**

![在此处输入图像描述](https://i.stack.imgur.com/uSWoe.png)

**主页帖子的屏幕截图：-**

![在此处输入图像描述](https://i.stack.imgur.com/of7lc.png)

我真的不知道这是什么原因，我为它设置的每张图片都会发生这种情况......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T08:25:05.120

我在评论中看到您的代码是：

```
set_post_thumbnail_size( $custom_header_support['width'], $custom_header_support['height'], true ); 
```

“True”参数意味着它允许代码裁剪您的图像。

我建议您通过以下方式制作新的缩略图大小： [http ://wordpress.org/extend/plugins/simple-image-sizes/](http://wordpress.org/extend/plugins/simple-image-sizes/)

在此之后，您可以直接在代码中调用您的缩略图大小，如下所示：

```
<?php the_post_thumbnail('custom-thumbnail-size'); ?> 
```

“custom-thumbnail-size”是您在插件中为您的尺寸命名的名称。

CF：[http ://www.bernskiold.com/2011/08/08/adding-custom-image-size-post-thumbnails-wordpress/](http://www.bernskiold.com/2011/08/08/adding-custom-image-size-post-thumbnails-wordpress/) [http://codex.wordpress.org/Function_Reference/the_post_thumbnail](http://codex.wordpress.org/Function_Reference/the_post_thumbnail) [http://codex .wordpress.org/Function_Reference/add_image_size](http://codex.wordpress.org/Function_Reference/add_image_size)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T09:36:13.900

@Zekth 给了你答案:-)

您只需要在功能页面中创建一个新的自定义缩略图或编辑现有的缩略图。

在functions.php中添加

```
 <?php set_post_thumbnail_size( $width, $height, $crop ); ?> 
```

如果将crop设置为true，那么它将裁剪图像，否则它将在保持纵横比的同时调整图像大小。

或创建新的缩略图大小

```
add_image_size( 'new-thumb', 220, 180, true ); //(cropped) 
```

并在适当的页面中使用它。

```
the_post_thumbnail( 'new-thumb' ); 
```

您可以将裁剪设置为 true 和 false 以实现裁剪图像或保持纵横比..

知识来源： http: [//codex.wordpress.org/Function_Reference/set_post_thumbnail_size](http://codex.wordpress.org/Function_Reference/set_post_thumbnail_size) [http://codex.wordpress.org/Function_Reference/add_image_size](http://codex.wordpress.org/Function_Reference/add_image_size)

# java - 在编码/解码后的服务器端 URL 参数值看起来很“奇怪”。为什么？

> ID：15785759
> 
> 赞同：0
> 
> 时间：2013-04-03T11:12:52.913
> 
> 标签：java, server-side, urlencode, html-entities, urldecode

在客户端（在浏览器中）URL 看起来像这样：

```
http://www.google.com?param1=Name1%3DValue1 
```

这意味着，该参数`param1`具有价值`Name1=Value1`

在服务器端，我明白了，这`param1`很有价值`Name1&#61;Value1`

我找到了信息，'' `&#61;`'是`HTML`字符“”的实体（十进制）`=`。

主要问题，我没有完全访问服务器端代码的权限。

您能否提供一些建议，我如何将`HTML`实体转换为“ `=`”。你认为，服务器端 URL 参数有`HTML`实体还是错误是有效的情况？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:35:08.203

这很奇怪。我不知道为什么 URL 编码的字符会被转换为编码的 HTML 实体。无论如何，如果您感兴趣的只是将其转换为 Name=Value，请查看此代码。

```
System.out.println(StringEscapeUtils.unescapeHtml("Name1&#61;Value1")); 
```

输出

> 名称 1=值 1

StringEscapeUtils[来自](http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringEscapeUtils.html#unescapeHtml4%28java.lang.String%29)apache commons lang 项目。

# c# - 查询 Linq 加入多对多

> ID：15785763
> 
> 赞同：5
> 
> 时间：2013-04-03T11:13:02.877
> 
> 标签：c#, sql, linq, linq-to-sql

我正在为我的 MVC2 应用程序使用 Linq-SQL 实体。

我有那些表/实体

> 人（ID、姓名、姓氏）汽车（ID、型号、姓名）经销商（ID、姓名）

我有那些 2 多对多表

> Persons_Cars (ID, ID_Person, ID_CAR) Persons_Resellers (ID, ID_Person, ID_Reseller)

```
 public MyModel {

   //Some Fields

    public List<CarPerson> carList;

    public CarPerson 
    {
      String detail;
      int id;
    }
}
 var query=(from person in data.Person

                     join PerCar in data.Persons_Cars on person.ID equals Persons_Cars.ID_Person into JoinedPerCar
                     from PerCar in JoinedPerCar.DefaultIfEmpty()

                     join car in data.car on PerCar .id_car equals car.ID into JoinedCarPe
rson
                     from car in JoinedCarPerson.DefaultIfEmpty()

                     join PerReseller in data.Persons_Resellers on person.ID equals  PerReseller .id_person into JoinedPersReseller 
                     from PerReseller in JoinedPersReseller.DefaultIfEmpty()

                     join Reseller in data.Reseller on PerReseller.id_reseller equals Reseller.ID into JoinedResellerPers
                     from Resller in JoinedFormazioneComp.DefaultIfEmpty()

                     where person.ID_USER == USER.ID 
                     select new MyModel
                                { 
                                     carList = JoinedPerCar.Select(m=>new CarPerson {detail=m.car.Model,id = m.ID}).ToList()},
                                //Other
                                }); 
```

我知道这是完全错误的，但我是 Linq-SQL 的新手，我现在有一个问题：

查询有效，但我的结果是错误的。事实上，如果一个人有 2 辆汽车，我会用 2 辆汽车清单两次接收同一个人。

例子

布朗先生有 2 辆车我收到了布朗先生 ---> 汽车列表（Car1，Car2）布朗先生 ---> 汽车列表（Car1，Car2）

所以我需要，如果一个人有 2 辆车，我只得到 1 个有自己车的人的结果

有没有办法更好地编写这个查询？如何解决我的问题？

谢谢

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-03T11:20:59.320

我认为简单的子查询可以完成这项工作（对于经销商也是如此）：

```
from p in data.Person
select new MyModel {
  carList = (from pc in data.Persons_Cars
             join c in data.car on pc.id_car equals c.ID
             where pc.ID_Person == p.ID 
             select c).ToList()
}; 
```

如果您定义了导航属性，那么查询将更加简单（Linq 将为您执行连接）：

```
from p in data.Person
select new MyModel {
   carList = p.Person_Cars.Select(pc => pc.Car).ToList()
}; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-08-09T17:57:17.480

使用 Person 和 Car 以及数据库关系的正确属性，这可以在上下文的 OnModelCreating 方法中设置，因此您不需要在上下文中使用 Person_Cars 模型：

```
modelBuilder.Entity<Car>()
                .HasMany(x => x.People)
                .WithMany(y => y.Cars)
                .Map(z =>
                {
                    z.MapLeftKey("CarID");
                    z.MapRightKey("PersonID");
                    z.ToTable("Person_Cars");
                }); 
```

然后你应该能够通过以下方式获得你的人的汽车：

```
from p in context.People
where p.PersonID = pID
select p.Cars 
```

或者返回 Person 及其填充的 Car 列表：

```
context.People.Where(p => p.PersonID == pID).Include(c => c.Cars).FirstOrDefault(); 
```

# jboss - 在 JBoss 7 上部署 WSO2 ESB 4.6.0

> ID：15785764
> 
> 赞同：2
> 
> 时间：2013-04-03T11:13:05.883
> 
> 标签：jboss, jboss7.x, wso2, wso2esb

我正在寻找一种部署`WSO2 ESB`到`JBoss 7`. 我在网上看到了这样的手册`JBoss 5.1.0`。AFAIK`JBoss 7`与`JBoss 5.1.0`. 特别是，从 Tomcat 派生的 JBossWeb 用于代替 Tomcat。因此，我认为手册`JBoss 5.1.0`不适合`JBoss 7`. 有人成功完成了主题吗？是否有任何手册、指南或类似的东西，描述如何做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T12:39:14.373

我们从 carbon 4.0.0 及更高版本停止支持 webarchive 部署模型。所以，你不能在jboss里面部署esb4.6.0。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-03T12:55:31.157

事实上，当您将 WSO2 ESB 部署在像应用程序服务器这样的托管环境中时，您无法获得真正的性能级别，而是应该允许 ESB 自行管理其低级资源。无论如何，您在 JBoss 应用程序服务器上部署 WSO2 ESB 的用例是什么？

# php - 为什么 .htaccess 和 .htpasswd 不接受我的登录信息

> ID：15785765
> 
> 赞同：7
> 
> 时间：2013-04-03T11:13:10.973
> 
> 标签：php, apache, .htaccess, .htpasswd

# 我的问题

为什么 .htaccess 和 .htpasswd 不接受我的登录信息？

# 我的资源来了解我应该做什么

1.  [http://www.addedbytes.com/blog/code/password-protect-a-directory-with-htaccess/](http://www.addedbytes.com/blog/code/password-protect-a-directory-with-htaccess/)
2.  [http://www.elated.com/articles/password-protecting-your-pages-with-htaccess/](http://www.elated.com/articles/password-protecting-your-pages-with-htaccess/)

# 我做了什么？

我从`phpinfo()`

我的根目录的完整路径：`/home/userid/public_html`

我将 .htpasswd 放入根文件夹 (public_html) 中，因此我的 .htpasswd 的完整路径：`/home/userid/public_html/.htpasswd`

我想通过密码保护的管理文件夹名称：`adminfolder`

我把我的`adminfolder`放入根文件夹（public_html）

**文件夹结构**

```
public_html
---- .htaccess {permission: -rw-r--r--}
---- .htpasswd {permission: -rw-r--r--}
---- adminfolder {permission: drwxr-xr-x}
---- ---- .htaccess {permission: -rw-r--r--}
---- ---- other secret files {permission: -rw-r--r--} 
```

## .htaccess 代码（adminfolder 中的那个）

```
AuthUserFile /home/userid/public_html/.htpasswd
AuthName "Log In"
AuthType Basic
Require valid-user 
```

## .htpasswd 代码

注意：这是我的原始密码的加密版本。

```
admin:zv.sqVSz3W1nk 
```

## .htaccess 代码（public_html 中的那个）

```
RewriteEngine On
RewriteBase /

#always use www - redirect non-www to www permanently
RewriteCond %{HTTP_HOST} !^www\.
RewriteCond %{HTTPS}s on(s)|
RewriteRule ^ http%1://www.%{HTTP_HOST}%{REQUEST_URI} [R=301,L]

# hotlink protection
RewriteCond %{HTTP_REFERER} !^$
RewriteCond %{HTTP_REFERER} !^http(s)?://(www\.)?domain.p.ht [NC]
RewriteRule \.(jpg|jpeg|png|gif|css|js)$ - [NC,F,L]

# compress text, html, javascript, css, xml:
AddOutputFilterByType DEFLATE text/plain
AddOutputFilterByType DEFLATE text/html
AddOutputFilterByType DEFLATE text/xml
AddOutputFilterByType DEFLATE text/css
AddOutputFilterByType DEFLATE application/xml
AddOutputFilterByType DEFLATE application/xhtml+xml
AddOutputFilterByType DEFLATE application/rss+xml
AddOutputFilterByType DEFLATE application/javascript
AddOutputFilterByType DEFLATE application/x-javascript

# File caching is another famous approach in optimizing website loading time
<FilesMatch ".(flv|gif|jpg|jpeg|png|ico|swf|js|css|pdf)$">
Header set Cache-Control "max-age=2592000"
</FilesMatch>

# disable directory browsing
Options All -Indexes

# secure htaccess file
<Files .htaccess>
 order allow,deny
 deny from all
</Files>

# secure spesific files
<Files a_secret_file.php>
 order allow,deny
 deny from all
</Files>

#SEO friendly linking
...
... 
```

## 我检查了

1.  我的完整路径信息
2.  用户名 - 原始密码和加密密码
3.  编码
4.  我所有的文件都是用记事本++和编码的 UTF-8 准备的，没有 BOM

## 最后

我试过铬。我输入了用户名 + 未加密的原始密码。Chrome 要求我再次登录。

然后我清除了 IE 的所有缓存。我再次输入用户名+非加密密码。IE还要求我再次登录。

你能纠正我吗？谢谢，BR

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-03T11:56:51.310

这个问题是因为您的服务器可能使用不同的算法来加密/解密密码，您可以测试不同算法的不同密码组合以找出正确的密码。

请看这个网站：[http ://aspirine.org/htpasswd_en.html](http://aspirine.org/htpasswd_en.html)

它使用 JavaScript 生成密码，出于安全原因，您可以保存页面并在本地运行它。

请检查[Apache htpasswd](http://httpd.apache.org/docs/2.2/programs/htpasswd.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-07-31T22:14:11.413

> 注意：这是我的原始密码的加密版本。管理员：zv.sqVSz3W1nk

Unix http 服务器会将其解释为 crypt(3) 散列密码，但 windows/netware 上的 apache 会将其解释为明文密码。但我猜你的服务器是 Unix 的，所以这可能不是问题。

> 我所有的文件都是用记事本++和编码的 UTF-8 准备的，没有 BOM

您的密码是否包含一些非 ASCII 字符，例如法语口音？如果您想保持简单和跨浏览器兼容，请仅使用 7 位 ASCII 字符。看到[这个问题](https://stackoverflow.com/questions/702629/utf-8-characters-mangled-in-http-basic-auth-username)

# android - 如何在android中存储Hangman游戏的字符串？

> ID：15785769
> 
> 赞同：0
> 
> 时间：2013-04-03T11:13:23.163
> 
> 标签：android, database, string

我正在尝试在android中开发一个刽子手应用程序。我想从地点、动物、运动等类别列表中选择一个字符串作为问题。每个类别都应该包含一个字符串列表。我应该将类别存储在一个数据库或为每个类别创建一个数组列表/数组？是否可以将类别存储在 xml 中，是否推荐？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:21:29.853

我相信您应该使用数据库，因为它确实比任何其他解决方案都更快且更灵活。您也可以很容易地查询它。另外我想你会想要存储许多数据库适合的值，内存的东西。如果您不熟悉数据库，请查看此链接[http://learnandroid.blogspot.com/2008/01/android-database.html](http://learnandroid.blogspot.com/2008/01/android-database.html)。祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:22:27.457

> .我应该将类别存储在数据库中还是为每个类别创建一个数组列表/数组？是否可以将类别存储在 xml 中，是否推荐？

请使用数据库。数据库将允许您将查询包装在事务中并使用`onUpgrade()`方法调用对模型执行更新。您无法通过 XML 获得这些功能。

# wpf - Communication between usercontrols in WPF

> ID：15785770
> 
> 赞同：0
> 
> 时间：2013-04-03T11:13:25.997
> 
> 标签：wpf, events, data-binding, user-controls, treeview

I am trying to build an application that contains several user controls. In one, I have a treeview that has been bound to a parent list and in another, I have a datagrid that is supposed to be bound to a child list, only after clicking on a parent item in the treeview.

My question is how to update the datacontext of the datagrid (that is in one usercontrol) by clicking on an item in the treeview (in another usercontrol)

Thanks

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:16:34.240

Here are 2 good options, i'd prefer the first if possible

*   Bind to the same object you need to share.
*   Implement an event aggregator. This is a messaging system in your application. Many documentation can be found on google :)

In this case i believe you can implement the parent's viewmodel to contain a list or ObservableCollection of ViewModels containing the children. This provides the flexibility you require.
Correct me if i'm wrong ;)

# ios - 我应该使用委托还是替代模式？

> ID：15785777
> 
> 赞同：-1
> 
> 时间：2013-04-03T11:13:38.677
> 
> 标签：ios, design-patterns, timer

我正在为 iPhone 开发一个间隔计时器健身应用程序，同时学习 OOP。主计时器对象必须能够通知任何其他感兴趣的事件对象，例如切换到新的间隔或计时器完成等。

我的第一个想法是使用委托，但我希望多个对象能够收到这些事件的通知，这并不是真的委托任何工作，它只是通知他们......所以这似乎不对。

其他人可以建议另一种模式/方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T11:14:35.577

这听起来很适合`NSNotificationCenter`（事件/订阅者模式）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T11:20:04.710

你应该[使用 Key-Value-Observing](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/KeyValueObserving/KeyValueObserving.html)，可可风格的[观察者模式](http://en.wikipedia.org/wiki/Observer_pattern)，如果接收者知道发送者，那么他可以打开它的通知。

如果没有给出，则可以选择更解耦的[NSNotifications](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/Notifications/Introduction/introNotifications.html#//apple_ref/doc/uid/10000043i)，因为发送者不需要知道发送通知的对象。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-03T11:20:48.430

[**通知模式**](http://developer.apple.com/library/ios/#documentation/Cocoa/Conceptual/CocoaFundamentals/CocoaDesignPatterns/CocoaDesignPatterns.html)

> Cocoa 的通知机制基于 Observer 模式实现了消息的一对多广播。程序中的对象将自己或其他对象添加到一个或多个通知的观察者列表中，每个通知都由一个全局字符串（通知名称）标识。想要通知其他对象的对象——被观察对象——创建一个通知对象并将其发布到通知中心。通知中心确定特定通知的观察者，并通过消息将通知发送给他们。

# c# - How to do an internal POST in ASP.NET?

> ID：15785800
> 
> 赞同：0
> 
> 时间：2013-04-03T11:14:44.637
> 
> 标签：c#, asp.net, asp.net-mvc

Is there any way to do an internal POST with IIS7/ASP.NET MVC?

Basically what I want to do is, stop processing the current request, make an internal POST request with a new body and hand over the response stream to that new request. This is required by a custom authentication flow and can't be done simply by redirects. The application built in ASP.NET MVC 4.

I've played around with various options, including `HttpServerUtility.TransferRequest` and `HttpServerUtility.Execute` , however most of them are not very POST friendly. `TransferRequest` comes close but I can't find a way to supply a new body as the `FormCollection` is read only. MVC's own `Html.Action` works only for GET methods and will not handle the result from the child action properly (i.e. redirects).

Any other ideas?

# c# - Is it possible to share Application data between .net 1.1 and .net 4.0 applications

> ID：15785804
> 
> 赞同：0
> 
> 时间：2013-04-03T11:14:50.930
> 
> 标签：c#, asp.net, .net

The question(s) might be silly because i donot have much knowledge about framework 1.1

I'm trying to share the Application level variable among two different .net applications. one is .net 1.1 and the other is .net 4.0.

Here is the scenario:

I've created an application(`App11`) which targets `.Net Framework 1.1` using Visual Studio 2003\. I've also created a web site(`App40`) which targets `.Net Framework 4.0` in Visual Studio 2010.

I've added the `App40` in the `App11`, i've hosted `App11` in IIS 5.1\. Now `App40` is a folder in `App11`.

`App40` has the application pool with framework 4.0 and `App11` has the application pool with framework 1.1.

I donot have much of knowledge in `.Net Framework 1.1`. So,i've google and found [state management techniques for .Net Framework 1.1](http://msdn.microsoft.com/en-us/library/y5y3c2c5%28v=vs.71%29.aspx). It seems like Framework 1.1 supports Application State

I thought the Application management would work. So, i've tried like this:

In the `App11` í've defined a Application variable in the `Application_Start()` of `Global.asax`.

```
protected void Application_Start(Object sender, EventArgs e)
        {
            Application["AppDATA"]="Application Data";
        } 
```

I've a `Default.aspx` page in `App11` application. The Default page has a hyperlink to redirect to the `App40/Default.aspx` page.

In the Codebehind file of `Default.aspx` in `App40` i've done like this:

```
//Application State check
        if (Application["AppDATA"] != null)
        {
            applicationState.Text = "Got application state data :"+Application["AppDATA"].ToString();
        }
        else
        {
            applicationState.Text = "Application State failed to work !";
        } 
```

I've builded both the applications and stated with Default page of `App11`.

When i click on the link i could not see any Application data that has come from the Framework 1.1, it only shows `Application State failed to work !` message on the page.

Does this work ? or Am i trying these things stupid ?

Do i need to setup anything in addition to the things i've done ?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:17:31.550

据我所知，您的应用程序级别变量位于应用程序级别，因此如果您有 2 个不同的应用程序，它们不共享变量似乎很合逻辑。我认为您需要使用文件、数据库甚至网络服务在不同的应用程序之间共享数据......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T16:06:54.757

不可能按照您尝试的方式进行。与具有不同模式（内存、sql、会话服务器）的会话状态不同，应用程序状态[始终存储在内存中](http://msdn.microsoft.com/en-us/library/ms178594%28v=vs.100%29.aspx)。不同应用程序池中的应用程序运行在不同的进程中，因此无法直接共享这些信息。您需要将数据存储在一个进程中并使用某种 IPC。有很多可能性：SQL、Remoting、WCF、Web 服务等。

请注意，即使它们在同一个应用程序池中，它们也不会自动共享应用程序状态，因为它们将在不同的应用程序域中运行。但是如果没有操作系统隔离，它们之间的共享会更容易。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T16:12:17.273

您要跨应用程序共享状态的唯一方法是某种持久性（数据库、cookie、查询字符串......）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T12:13:28.140

不，您不能只是简单地在您指定的应用程序之间共享数据（至少这是我所知道的）。

您需要将数据存储到 XML 文件等外部位置。一个应用程序会将数据写入文件，而其他应用程序可以读取它。或者你可以让他们两个做同样的事情。

您还可以使用数据库来存储数据。这也可以像我提到的 XML 文件一样工作。

我希望我能帮上忙。

# ruby-on-rails - 如何将 google+ 共享功能与 ruby on rails 应用程序集成？

> ID：15785805
> 
> 赞同：2
> 
> 时间：2013-04-03T11:14:52.030
> 
> 标签：ruby-on-rails, google-plus

我有简单的 erb 模板，其中包含以下 html 代码和 javascript。

```
<a class='share_on_gplus g-plus' data-social-action='share' data-medium='googleplus' data-content='q_name' href='https://plus.google.com/share?url=encodeURIComponent(URL).replace('%20','+') onclick="javascript:window.open(this.href,'','menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=auto,width=600');return false';">Share with Google+ </a>

<script src="https://apis.google.com/js/client.js"></script>
<script type="text/javascript">
    function load() {
        gapi.client.setApiKey('XXXXXXXXXXXXXXXXXXx');

      }

    window.___gcfg = {
    lang: 'en-US',
    parsetags: 'onload'
    };

  (function() {
    var po = document.createElement('script'); 
    po.type = 'text/javascript'; 
    po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js?onload=load';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();

</script> 
```

我的 Google +API 服务已经开启。当我在 google plus 弹出窗口中单击共享按钮时，出现错误：

> 保存您的帖子时出现问题。请再试一次。我无法在 google+ 上分享。如何解决此错误？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T18:35:28.210

如果这是从您的代码中剪切和粘贴，我认为至少有两个问题：

1）您的 href 值以单引号开头，以双引号结尾，并且有几个单引号作为其中的一部分。

2) Google 共享代码和机器人使用附加到 share 元素的属性来确定要共享的确切内容，包括 href 属性。看起来您正在尝试自己弹出一个窗口并以这种方式操纵共享。

我将首先尝试做一个更基本的共享按钮（如文档[here](https://developers.google.com/+/web/share/interactive)或[here](https://developers.google.com/+/web/share/)）并确认它可以用于共享页面。如果这确实有效，那么您可以从那里开始剪裁，但我认为打开一个新窗口不会按您想要的方式工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-08T09:37:31.140

实际上我需要在 url 选项中提到真实的域名，问题就解决了。就是这样！！！

# excel - vba 标记大小

> ID：15785816
> 
> 赞同：0
> 
> 时间：2013-04-03T11:15:17.780
> 
> 标签：excel, vba

我正在尝试编写一些 VBA 代码来单独更改 Excel 图表中标记的大小。我可以更改线条粗细、标记颜色等，但不能更改粗细。我在网上搜索并不断找到 MarkerSize 作为参数，但是当我使用它时，我收到 438 错误和消息“对象不支持此属性或方法”。我在 Excel 2007 中工作，并且看到评论说它并没有做它应该做的一切，所以也许这是不可能的。任何帮助将不胜感激。谢谢！我的代码是：

```
Sub Size()

Dim i As Double, plotcounter As Double

plotcounter = 1 ' The number of the series to plot '
   For i = 1 To 30 ' rows in sheet
Charts(1).SeriesCollection(plotcounter).Points(i).Format.MarkerSize = Cells(i, 5)

   Next i

End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:53:29.143

试着去掉`.Format`你陈述的一部分。它从作为对象属性的[语言参考](http://msdn.microsoft.com/en-us/library/office/aa174283%28v=office.11%29.aspx)中出现。`MarkerSize``Point`

但是微软确实有这种令人讨厌的倾向，将事情从一个版本的 Excel 更改为下一个版本，并且并不总是遵循他们自己的标准（并且不要让我开始了解 Mac 和 PC 之间 VBA 的差异！）......

# xml - Mule xml文件根据内容重命名

> ID：15785818
> 
> 赞同：0
> 
> 时间：2013-04-03T11:15:26.723
> 
> 标签：xml, mule

我们有一个连接两个基于 JMS 的端点的 Mule (v3.1.2) 的工作实现。XML 消息的传递在两者之间没有任何问题。

我们现在必须添加一个额外的文件端点作为其中一个队列的并行目标。添加文件端点有效，并且消息按预期显示在文件系统上。

是否可以根据 XML 有效负载的内容设置文件名？目前正在使用名称（例如）生成文件，`b8ede5db-9b7a-11e2-9d10-cd8a155d0975.dat`这并不是特别有意义。

因此对于具有如下内容的文件

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Acknowledgement UploadDate="Tue Apr 02 05:05:01 EDT 2013" Uploaded="0" Rejected="1" Received="1">
    <Trades Uploaded="0" Rejected="1" Received="1">
        <Trade>
            <ExtRef>1</ExtRef>
            <TradeId>0</TradeId>
            <Status>Rejected</Status>
            <Action>NEW</Action>
            <Error>
                <Message>ERROR-TYPE: 'InvalidData'; ITEM: 'CP'; MESSAGE: 'Invalid CP'; VALUE: 'BLAH BLAH'</Message>
            </Error>            
        </Trade>
    </Trades>
</Acknowledgement> 
```

是否可以使用基于“ExtRef”元素的文件名？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T15:00:09.527

您可以使用 file:outbound-endpoint 上的*outputPattern*属性来定义命名文件的模式。然后，您可以使用 xpath 表达式从 XML 中提取一个值来命名文件。

例如，根据您的 XML，以下配置将在文件系统上创建一个名为*1.dat*的文件：

此 xpath 表达式语法应适用于 3.1.2。

```
<file:outbound-endpoint path="c:/temp" outputPattern="#[string:#[xpath:/Acknowledgement/Trades/Trade/ExtRef].dat]" responseTimeout="10000" /> 
```

# android - 从 ArrayList 存储 Textview

> ID：15785827
> 
> 赞同：-2
> 
> 时间：2013-04-03T11:16:02.247
> 
> 标签：android, textview

```
ArrayList<String> al = new ArrayList<String>();
    Cursor c = database.query("remedies", new String[] { "remedy" },
            "d_id=?", new String[] { "" + index }, null, null, null);
    while (c.moveToNext()) {
        al.add(c.getString(0));
    }
    c.close();

    TextView[] tv = new TextView[al.size()];
    for (int i = 0; i < al.size(); i++) {
        tv[i].setText(al.get(i));
    } 
```

我的日志猫：

```
java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.ayurvedicapp/com.example.ayurvedichomecure.Remedies}:
java.lang.NullPointerException

Exception at: tv[i].setText(al.get(i)); 
```

请给我解决方案

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T11:18:42.780

`tv[i].setText(al.get(i));`这导致异常。

因为您的 TextView 为空，

您刚刚声明了一个 TextView 数组，但还没有真正实例化 textview。

试试这个

```
TextView[] tv = new TextView[al.size()];
    for (int i = 0; i < al.size(); i++) {
       tv[i]=new TextView(context);
        tv[i].setText(al.get(i));
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-03T11:19:41.347

```
for (int i = 0; i < al.size(); i++) {
    tv[i] = new TextView(context); // Provide a proper context or if you plan to use findViewById
    tv[i].setText(al.get(i));
} 
```

您刚刚声明了 TextView 数组，但还没有初始化其中的每个元素。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T11:21:56.920

你必须这样做：

```
for (int i = 0; i < al.size(); i++) {
            tv[i] = new TextView(context);
            tv[i].setText(al.get(i));
        } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T11:25:01.260

您可以使用以下代码

```
 TextView[] tv = new TextView[al.size()]; //Textviews of the arraylist size. array of textviews with 
 for (int i = 0; i < al.size(); i++) { //loop to the size of the list
  tv[i] = new TextView(MainActivity.this); //new textview 
  tv[i].setText(al.get(i)); //set textview with the data from the list using index i
  } 
```

# linux - 如何使 SSH 命令执行超时

> ID：15785832
> 
> 赞同：9
> 
> 时间：2013-04-03T11:16:09.523
> 
> 标签：linux, bash, shell, unix, ssh

我有一个这样的程序：

```
ssh -q harigm@8.19.71.238 exit
echo "output value  -->$?" 
```

在上面的代码中，我尝试通过 SSH 连接到远程服务器，并尝试检查是否可以连接。我的服务器很少，即已激活无密码的服务器，也很少有尚未停用密码的服务器。所以我担心，如果有密码，它会卡在要求密码的同一个屏幕上，并且会在那里无限时间，没有退出逻辑。

问题：如何实现上述代码的计时器，以及它是否停留在要求密码的同一屏幕中。并退出一些错误代码

2）当我执行上述代码时，我得到以下错误代码：

```
127 -- > I guess its for success
225 -- > for any error. 
```

除了上述之外，还有其他错误代码吗？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-04-03T11:25:30.030

您可以`ssh`使用该`timeout`命令包装调用。`timeout`如果发生超时，该命令会以代码 124 退出。

```
timeout 10s ssh -q harigm@8.19.71.238 exit
if [ $? -eq 124 ]; then
    echo "Timeout out"
fi 
```

或者，正如 Vorsprung 对您的问题所评论的那样（当我在查找手册页时！）：

```
ssh -oPasswordAuthentication=no -q harigm@8.19.71.238 exit 
```

这将不允许交互式密码身份验证。然后，您必须检查退出代码。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-07-10T09:01:48.897

听起来这个问题是在询问一次针对多个主机的“批处理模式”处理（例如，在循环中）。*如果未*为给定主机配置 PKA，则以下`ssh`命令将简单地失败（公钥身份验证 - 提到原始问题的“无密码”登录），因此它适用于您只想继续运行而不考虑问题的脚本连接到一台或两台主机。它也不会打扰所有关于“您确定要继续连接”到以前未知主机的查询（或者您可以为此添加）。例如，*`StrictHostKeyChecking no``~/.ssh/config`*

 *```
for host in host1 host2 host3  # etc
do
  ssh -o BatchMode=yes -o StrictHostKeyChecking=no -o ConnectTimeout=5 \
      user@$host  'uptime' || echo "problem: host=$host"
done 
```

不过，您必须检查您的（客户端）`ssh`手册页以查看是否支持这些选项（`BatchMode`, `ConnectTimeout`）。*

# javascript - 在弹出窗口上增加 div 大小 使用粘性页脚调整大小

> ID：15785833
> 
> 赞同：4
> 
> 时间：2013-04-03T11:16:09.733
> 
> 标签：javascript, jquery, html, css, user-interface

我大致有以下布局：

```
<div class="outer-div">
    <div class="content-inner-div">
    </div>
    <div class="footer-inner-div">
    </div>
</div> 
```

外部 div 包含两个 div - 所有内容所在的 content-inner-div 和带有几个按钮的 footer-inner-div。
然后我在 jQuery 弹出窗口中显示这个结构，如下所示：

```
var template =
    '<div class="outer-div">'
        + '<div class="main-inner-div">'
            + '</div>'
                + '<div class="footer-inner-div">'
                    + '</div'
                        + '</div'
                            + '</div';

this.popup = $(template);

var formulaDialog = $(this.popup).dialog({
    modal: true,
    autoOpen: false,
    resizable: true,
    width: '300',
    minHeight: '100',
    closeText: '',
});

$(formulaDialog).dialog('open'); 
```

现在我想要的是当我调整弹出窗口的大小时 - footer-div 贴在弹出窗口的底部，并且 content-div 及其内容的大小增加并占据弹出窗口中的所有可用空间。Content-div 可能有非常大的内容，不适合弹出窗口 - 所以我可能需要在 content-div 中垂直滚动。

我在 SO 上看到了几个类似的问题（即[jQuery，如果内容还没有变大，则更改 div 高度以自动填充屏幕的其余部分，](https://stackoverflow.com/questions/3221260/jquery-change-div-height-to-automatically-fill-out-remainder-of-screen-if-conte)并[使用 jquery (stretch div height) 设置 div 高度](https://stackoverflow.com/questions/5541115/set-div-height-using-jquery-stretch-div-height?rq=1)）但是因为我没有 JS 经验， JQuery 或 CSS，一般来说，我很难根据我的情况推断这些答案。

此时我将 maxHeight 设置为 content-div 为窗口高度的 60%

```
$(window).height() * 0.6 
```

这样当 content-div 确实有大的内容模式弹出时不会延伸到屏幕底部。所以我遇到的一个问题是，当我调整这个 content-div 的大小时，它的大小不会超过它的最大大小。

如何在没有我现在的混乱的情况下使用粘性页脚实现良好的调整大小？

PS 调整了一点 Vimal 的答案来完全满足我的问题 - [http://jsfiddle.net/7XBrb/2/](http://jsfiddle.net/7XBrb/2/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T11:41:40.993

您想要的大部分内容都可以使用普通的 ol' CSS 来完成，除了处理调整大小位（实际上它确实处理了这个，只是不够好使用它）。

带有一些垃圾内容的 HTML

```
 <div class="outer-div">
    <div class="content-inner-div">
       Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc rhoncus libero eu diam aliquet lobortis. Nunc ac turpis ac enim vehicula feugiat non ac nisi. Suspendisse potenti. Mauris porta suscipit tellus, nec dapibus dui gravida eget. Vivamus interdum molestie dolor sit amet pharetra. Duis auctor facilisis scelerisque. Curabitur eget lacus augue, eget porttitor erat. Sed ornare augue vel elit pellentesque ut laoreet mauris tempus. Nullam accumsan, est sit amet sodales scelerisque, tortor ante fermentum leo, id aliquam metus purus tristique erat.

       Duis at arcu ac mauris auctor mollis placerat ac risus. Nunc porttitor bibendum tempus. Cras eget justo at dui sagittis lobortis. Aenean quam purus, dapibus a blandit at, elementum ut quam. Pellentesque pretium, metus tempus laoreet hendrerit, nunc neque pellentesque nisl, vitae aliquam felis libero sit amet erat. Proin ultrices sodales enim, in fermentum neque sagittis eu. Quisque scelerisque tincidunt iaculis. Donec bibendum ipsum quis nunc pretium sit amet adipiscing purus lobortis. Vestibulum id tortor et neque lobortis pellentesque sit amet eu velit. Sed interdum interdum nisl. Nulla hendrerit placerat suscipit. Mauris congue turpis sed nibh tristique semper. Nunc in sem vel nibh fermentum hendrerit. Pellentesque vel sapien diam. Sed ultricies tincidunt arcu, nec porttitor metus dapibus at. 
   </div>
   <div class="footer-inner-div">
     <p>blah</p>
   </div> 
```

CSS。设置内容 div 的初始高度和溢出属性，以便在需要时显示滚动条

```
.content-inner-div { height: 60%; overflow: auto; }
.footer-inner-div { position: fixed; bottom: 0; left: 0; background-color: #F00; width: 100%;} 
```

jQuery

*   使用 resize 事件检测窗口大小的变化
*   获取窗口的高度
*   `footer`从中减去 div的高度
*   减去行高（调整最后一行的文本）
*   将其指定为`content`div 的新高度。

    ```
    $(function () {
      $(window).on('resize', function () {
        $('.content-inner-div').css('height', ($(this).height() - $('.footer-inner-div').outerHeight() - parseInt($('.content-inner-div').css('line-height'), 10)) + 'px');
      });
    }); 
    ```

* * *

编辑：忘记添加[小提琴](http://jsfiddle.net/DnALb/)

# mono - Google Drive API for Mono for Android 和 MonoTouch

> ID：15785836
> 
> 赞同：2
> 
> 时间：2013-04-03T11:16:21.060
> 
> 标签：mono, xamarin.ios, xamarin.android, google-drive-api

我只是尝试使用给定的[.NET-DLL](https://developers.google.com/drive/quickstart-cs)通过 Mono for Android 连接到我的谷歌驱动器帐户，但它失败了。

```
C:\Program Files (x86)\MSBuild\Xamarin\Android\Xamarin.Android.Common.targets(2,2):
Error: Exception while loading assemblies: System.IO.FileNotFoundException: Could not
load assembly 'System.Web, Version=2.0.0.0, Culture=neutral,
PublicKeyToken=b03f5f7f11d50a3a'. Perhaps it doesn't exist in the Mono for Android 
Profile?

Filename: "System.Web.dll"

at Monodroid.Tuner.MonoDroidResolver.Resolve(AssemblyNameReference reference,
ReaderParameters parameters)
at Xamarin.Android.Tasks.ResolveAssemblies.AddAssemblyReferences(List`1 assemblies,
AssemblyDefinition assembly)
at Xamarin.Android.Tasks.ResolveAssemblies.AddAssemblyReferences(List`1 assemblies,
AssemblyDefinition assembly)
at Xamarin.Android.Tasks.ResolveAssemblies.AddAssemblyReferences(List`1 assemblies,
AssemblyDefinition assembly)
at Xamarin.Android.Tasks.ResolveAssemblies.AddAssemblyReferences(List`1 assemblies, 
AssemblyDefinition assembly)    
at Xamarin.Android.Tasks.ResolveAssemblies.Execute() (AndroidApp) 
```

我将 System.Web.dll 添加到我的共享库项目中，但它没有任何区别。

我也无法编译[源代码](http://code.google.com/p/google-api-dotnet-client/)，因为某些命名空间不受支持。

**有谁知道，如何将谷歌驱动器 API 与 Mono for Android 和 MonoTouch 一起使用？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T12:12:32.517

您需要从源代码编译。

它不起作用的原因是存在那些编译器错误 - 当尝试在 Mono for Android 上使用它时，这些是真正的问题。

您必须找到每个问题并解决它才能使用该库。看看是否有可以用作起点的 Silverlight 版本。

# javascript - Texture is not generated valid (probably)

> ID：15785838
> 
> 赞同：3
> 
> 时间：2013-04-03T11:16:23.000
> 
> 标签：javascript, three.js, webgl, volume-rendering

My app for volume ray casting in WebGL is almost done. But i have found a problem. I have to simulate 3D texture by 2D texture. It is not problem. I am creating a huge texture from small slices. Dimensions of huge texture are about 4096x4096px. Problem is, that in some examples (it depends on number of slices) there is creating sth. like on the image bellow (i filled huge texture to white to be the fragment more visible).

![Fragment in image - cube should be only white without stripes](https://i.stack.imgur.com/z0Ebx.png)

I know that num of stripes depends on num of rows in huge texture. I am generating this texture near to 4096x4096px (but not exactly). It could be 4080x4060 etc. I think, problem is, that Three.js load my texture to gpu, but dont scale it to 4096x4096..so i am reading in fragment shader black color on the border of texture, because webgl work only with squared textures (512x512, 1024x1024... etc.). It caused black stripes in rendered image.

Problem is, that my Three.js app doesnt work with WebGL Inspector..so i am not sure.

Any idea how to fix that?

Thanks.

Tomáš

EDIT:

Ok, i have found problem..and "solution"...but solution didnt work good. I have 2 datasets. One is OK, second still the same error.

2 variants of code (each one works fine for one dataset but not for second) :

First)

```
 dx = mod(slice, numColsInTexture) / numColsInTexture;
 dy = 1.0 - (floor(slice / numColsInTexture) / numRowsInTexture); 
```

Second)

```
dx = 1.0 -  (mod(slice, numColsInTexture) / numColsInTexture);
dy = (floor(slice / numColsInTexture) / numRowsInTexture); 
```

I really don't know, why it doesnt work for both datasets...i tried to dump GPU (WebGL inspector). Both textures are loaded valid on GPU (same orientation, same dimensions). Everything is same.

Please help me....thanks.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:29:15.623

您的纹理的 MIN 和 MAX 过滤器是否设置为 NEAREST？并且您的 WRAP[ST] 设置为 CLAMP_TO_EDGE？

# iphone - Text and tint color of back button of navigation bar

> ID：15785839
> 
> 赞同：0
> 
> 时间：2013-04-03T11:16:26.553
> 
> 标签：iphone, colors, uinavigationbar

How can I put silver with black text of `back button` of `navigation bar` in `ios6`? please answer quick.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:26:04.850

```
[[UINavigationBar appearance] setShadowImage:[UIImage imageNamed:@"navBarShadow"]]; 
```

也可以参考[这个教程](https://github.com/woelfelm/Surf-s-Up---Starter/tree/master/Surf%27s%20Up)，对你有很大帮助。

# cocos2d-iphone - Cocos2D 如何移除/释放/清理 CCMenu

> ID：15785841
> 
> 赞同：0
> 
> 时间：2013-04-03T11:16:31.843
> 
> 标签：cocos2d-iphone, release, ccmenu

单击同一按钮时，如何添加/删除 CCMenu？我添加了一些代码..

提前致谢..

```
CCMenu *menu;

    if (!isMenuVisible) {

           CCMenuItemSprite *item = [CCMenuItemSprite itemFromNormalSprite: .......];
           menu = [CCMenu menuWithItems:item, nil];
           [self addChild:menu];

} else {

           // [menu cleanup];/// didn't work
           // [menu removeFromParentAndCleanup:YES]; //// didnt work
           // [menu removeAllChildrenWithCleanup:YES];  //// didn't work

}

    isMenuVisible = !isMenuVisible;

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T11:32:30.393

您可能希望在 .h 文件中包含第一行，使菜单成为 iVar，以便在此代码的连续执行之间保留引用。删除菜单后将其设置为零。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:45:03.797

一种方法- 创建两个菜单。一个用于显示/隐藏按钮，另一个用于必须显示/隐藏的所有按钮。这不是好办法。

另一种方法是向菜单添加/删除菜单项。我的意思是这样的：

```
- (void) removeItems
{
    for(CCNode* item in _addedItems)
    {
        [item removeFromParentAndCleanup: YES];
    }

    [_addedItems removeAllObjects];
}

- (void) addItems
{
    // create needed items and add them as children 
    // to your menu and add them to _addedItems array
    // to be able to remove added objects
} 
```

同样在使用方法之前`cleanup`，请检查它的代码或至少 cocos2d 文档。在你的情况下，它完全没用。

# mysql - 当字段真实转义字段包含 \n 和 \" 时加载数据输入

> ID：15785844
> 
> 赞同：3
> 
> 时间：2013-04-03T11:16:38.943
> 
> 标签：mysql, libreoffice, into-outfile

**我的sms**表的架构是 - sms( **id** , mobileNumber, text)

其中 text 是*text*类型。

其中一行有以下文字 -

```
Foo bar\nLorem ipsum dolor sit amet.\n\nconsectetur adipisicing elit, said:\n\n\" sed do eiusmod tempor incididunt ut labore et dolore magna aliqua don\'t \" 
```

当我运行此查询时 -

```
select 'SMS ID', 'Mobile Number', 'SMS Text' 
union 
select id, ifnull(mobileNumber, 'Not Available'), text 
from sms
into outfile '/tmp/SMSUsage.csv' 
fields terminated by ',' enclosed by '"' 
lines terminated by '\n'; 
```

[并在Libreoffice](http://en.wikipedia.org/wiki/LibreOffice)中打开 CSV 文件，我会在多个单元格中看到文本，例如 -

```
Foo bar\\\\nLorem ipsum dolor sit amet.\\\\n\\\\nconsectetur adipisicing elit, said:\n\n\ 
```

在一个列中，然后将上述句子后面的每个单词放入一个单独的列中。

另外为什么在'\n'之前要多加三个'\'？如何在单个单元格中获取文本？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T22:05:31.587

试试这个：

```
SELECT 'SMS ID', 'Mobile Number', 'SMS Text' 
UNION 
    SELECT id, IFNULL(mobileNumber, 'Not Available'), text 
    FROM sms
INTO OUTFILE '/tmp/SMSUsage.csv' 
FIELDS TERMINTATED by ',' 
OPTIONALLY ENCLOSED BY '"' 
ESCAPED BY '"' 
LINES TERMINATED BY '\n'; 
```

# html - Div is not as tall as the total height of its floated children

> ID：15785846
> 
> 赞同：3
> 
> 时间：2013-04-03T11:16:52.180
> 
> 标签：html, css, css-float, containers

OK, I'm really having problems understanding the behavior of the float property.

The page is 750 px wide. In order to keep it positioned in the center of the screen, I used this code:

```
<div align="center">
    <div align="left" style="width:750px; border-style:double;">
        stuff
    </div>
</div> 
```

The elements within the main 750 px wide container are other containers that have the following styles:

```
div.infoCont //these containers usualy have two more containers within- for an image and text
{
    width: 740px;
    position: relative;
    left: 2px;
    border-style: double; //for debugging
    float: left;
}
div.textContNI //text only
{
    width: 730px;
    float: left;
    clear: right;
    border-style: double; //for debugging
} 
```

The small containers behave normally (they should be, because they are positioned and as big as the way I want to). But the height of the main container is A LOT less that the total height of the smaller containers... 0 px. It ignores the height of ALL the smaller containers.

This can be "fixed" by adding text right before the closing tag of the main container. I can also manipulate the height with `<br>` tags and no text: the height becomes as big as the total height of the borders. Another way to "fix" the problem is to add `float:left;` in the style, but that positions the container on the left side of the window and I can't have that.

I'm missing something and I don't know what it is.

Why does the main container ignore the total height of the containers within it and how can I take care of this bug?

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-03T12:32:21.330

## 包含浮动元素

这是浮动元素的正确行为。这不是一个错误。

默认情况下，浮动元素不占用其父元素内的空间。给定绝对位置的元素也会发生同样的情况。父母有两个孩子，但他们都是浮动的，所以没有任何东西占用父母的空间。结果，父级的高度为零，除非它包含其他一些非浮动内容。

有三种常见的方法可以使父级包含其浮动的子级，以使其至少与其子级一样高。

**1.固定高度**

给父母一个固定的高度，至少与浮动孩子的高度一样高。从技术上讲，浮动元素仍然不占用父元素内的空间，但父元素足够高，使其看起来好像确实如此。

```
.parent { height: 30px; }
.child  { height: 30px; float: left; } 
```

**2.清除div**

`clear:both`在父级内部添加一个尾随 div 。这会强制父级包含浮动的子级。父级会根据需要自动增加高度。默认情况下，空 div 在所有浏览器中的高度为零，因此尾随 div 不需要额外的样式。

```
.clear { clear: both; }
...
<div class="parent">
    <!-- Floated children go here -->
    ...
    <!-- Trailing clear div goes here -->
    <div class="clear"></div>
</div> 
```

**3.清除修复**

将 clearfix 规则添加到 CSS 样式表，并将类添加`clearfix`到父级。最终结果与添加一个清晰的 div 相同，但不需要添加额外的 HTML 元素。就像添加一个清晰的 div 一样，这会强制父级包含浮动的子级。父级会根据需要自动增加高度。

```
/* The traditional version of clearfix, a good one to start with. */
.clearfix:after {
    content: ".";
    display: block;
    height: 0;
    clear: both;
    visibility: hidden;
}
.clearfix {display: inline-block;}
* html .clearfix {height: 1%;}
.clearfix {display: block;}
...
<div class="parent clearfix">
    <!-- Floated children go here -->
    ...
</div> 
```

# javascript - 在主干中将 javascript 对象转换为模型

> ID：15785848
> 
> 赞同：6
> 
> 时间：2013-04-03T11:16:56.640
> 
> 标签：javascript, object, backbone.js, model

有什么方法可以在 javascript 中解析对象以在 Backbone.js 中建模这是我的对象

![javascript 对象](https://i.stack.imgur.com/fSQnE.png)

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-03T11:24:45.460

你可以做

```
model = new YourModel(your_object) 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-03T11:21:33.400

```
new Backbone.Model({familyLogin: 'userLogin1', login: 'eg'}); 
```

# java - JAXB：缺少命名空间

> ID：15785854
> 
> 赞同：4
> 
> 时间：2013-04-03T11:17:20.767
> 
> 标签：java, xml, namespaces, jaxb

我正在尝试从通过 JAXB 生成的类中序列化 XML。

班上：

```
package ws.avail;

@XmlAccessorType(XmlAccessType.FIELD)
@XmlType(name = "", propOrder = {
    "pos",
    "uniqueID",
    "availStatusMessages"
})
@XmlRootElement(name = "OTA_HotelAvailNotifRQ")
public class OTAHotelAvailNotifRQ {
 ...
} 
```

文件“package-info.java”：

```
@javax.xml.bind.annotation.XmlSchema(namespace = "http://www.opentravel.org/OTA/2003/05", elementFormDefault = javax.xml.bind.annotation.XmlNsForm.QUALIFIED)
package ws.avail; 
```

编组器（没有错误处理的简化）：

```
context = JAXBContext.newInstance(rootElement.getClass());
Marshaller marshaller = context.createMarshaller();
marshaller.marshal(rootElement, stringWriter);
return stringWriter.toString(); 
```

此代码生成：

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>  
<OTA_HotelAvailNotifRQ Version="1.000" Target="TEST">  
.... 
```

我期待这样的事情：

```
<?xml version="1.0" encoding="UTF-8"?>  
<OTA_HotelAvailNotifRQ xmlns="http://www.opentravel.org/OTA/2003/05" Version="1.000" Target="TEST">  
.... 
```

我有类似的代码并且工作正常，但我无法理解为什么此代码不显示命名空间。有什么线索吗？谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-03T11:31:19.727

**你的映射是正确的**

我试用了您的模型，它对我有用：

**演示**

```
package ws.avail;

import java.io.StringWriter;
import javax.xml.bind.*;

public class Demo {

    public static void main(String[] args) throws Exception {
        OTAHotelAvailNotifRQ rootElement = new OTAHotelAvailNotifRQ();
        StringWriter stringWriter = new StringWriter();

        JAXBContext context = JAXBContext.newInstance(rootElement.getClass());
        Marshaller marshaller = context.createMarshaller();
        marshaller.marshal(rootElement, stringWriter);
        System.out.println(stringWriter.toString());
    }

} 
```

**输出**

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?><OTA_HotelAvailNotifRQ xmlns="http://www.opentravel.org/OTA/2003/05"/> 
```

* * *

**解决方案**

通常当出现此问题时，`package-info`该类未编译或未与应用程序打包。

* * *

**了解更多信息**

*   [http://blog.bdoughan.com/2010/08/jaxb-namespaces.html](http://blog.bdoughan.com/2010/08/jaxb-namespaces.html)

# grails - Grails 中的 BinaryContent 流包装器

> ID：15785858
> 
> 赞同：0
> 
> 时间：2013-04-03T11:17:29.477
> 
> 标签：grails

我正在尝试在 grails 中编写一个简单的包装器，它将从非公共后端 Web 服务器读取二进制文件，并将其作为流提供给公共服务器。第一个问题是处理这种解决方案的最佳方法是什么，因为 Grails 将尝试默认呈现视图。

我正在尝试一种导致“尝试从封闭流中读取”的解决方案。这显然是为了通过调用响应来避免视图渲染，但我不确定这是否是一个好的解决方案。

我正在通过以下代码读取后端文件：

```
def http = new HTTPBuilder(baseUrl)
http.request(method, ContentType.BINARY) {
                uri.path = path
                uri.query = query
                response.success = { resp, inputstream ->
                    log.info "response status: ${resp.statusLine}"
                    resp.headers.each { h -> log.info " ${h.name} : ${h.value}" }
                    return inputstream
                } 
```

然后尝试通过控制器中的以下方法将其推送到客户端：

```
def binary(){
      response.outputStream << getBinaryContent("http://aaa" );
      response.flush()
    } 
```

错误：“尝试从关闭的流中读取。”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T19:38:09.903

如果我没记错`<<`的话会关闭响应所以`response.flush()`是无效的。

这是我用于 CSV 的片段，只需替换为您的内容类型：

```
byte[] bytes = fileGenerated.getBytes() //fileGenerated is a File
response.setContentType("text/csv")
response.setContentLength(bytes.length)
response.setHeader("Content-Disposition", "attachment; filename=" + fileGenerated.getName())
response.outputStream << bytes 
```

# maven-3 - 独立档案与网络

> ID：15785867
> 
> 赞同：0
> 
> 时间：2013-04-03T11:18:08.183
> 
> 标签：maven-3, archiva

有人能帮我吗。我想为 Maven 设置一个内部存储库。为此，我想使用 Apache Archiva，而且我对 maven 和 archiva 都是新手。我的问题是黑白独立和网络档案安装的确切区别是什么（我在档案文档中找到了这两种方式）。

我的目的是创建供所有开发人员使用的内部存储库。每个人都应该从那里获得依赖。我必须在我们组织（LAN）中的服务器中安装档案。什么是我的情况更可取？

我找到了以两种方式安装的步骤，但由于我是档案新手，所以它们有点困惑。有人可以解释清楚吗？

操作系统：Windows
Maven：3.0.5
Archiva：1.3.6

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T11:28:54.837

独立发行版更易于安装。如果出现问题，包装器将重新启动您的实例。重要的部分是将内容与安装分开，请参阅[http://archiva.apache.org/docs/1.4-M3/adminguide/standalone.html](http://archiva.apache.org/docs/1.4-M3/adminguide/standalone.html)部分“将基础与安装分开”

# ios - 单元格标签在表格滚动之前不会调整大小

> ID：15785873
> 
> 赞同：4
> 
> 时间：2013-04-03T11:18:19.000
> 
> 标签：ios, objective-c, uitableview, uilabel

我正在使用此代码来调整维护单元格标题的标签的大小。问题是单元格标签在我滚动表格之前不会调整大小。单元格需要消失才能正确调整其标签大小。我可以做些什么来使所有单元格标签调整大小而不必事先滚动？

谢谢阅读。

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

    ExampleTableViewCell *cell = (ExampleTableViewCell *)[tableView dequeueReusableCellWithIdentifier:@"ExampleTableViewCell"];

    if (cell == nil) {
        NSArray *nib = [[NSBundle mainBundle] loadNibNamed:@"ExampleTableViewCell" owner:self options:nil];
        cell = [nib objectAtIndex:0];
    }

    cell.title.text = [self.test objectAtIndex:[indexPath row]];

    //Calculates the expected size based on the font and linebreak mode of the label.
    CGSize maximumLabelSize = CGSizeMake(200, [UIScreen mainScreen].bounds.size.width);

    CGSize expectedLabelSize = [cell.title.text sizeWithFont:cell.title.font constrainedToSize:maximumLabelSize lineBreakMode:cell.title.lineBreakMode];

    // Adjusts the label the the new height.
    CGRect newFrame = cell.title.frame;
    newFrame.size.height = expectedLabelSize.height;
    cell.title.frame = newFrame;

    return cell;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:22:32.000

尝试编写相同的代码

`willDisplayCell`UItableViewController 的方法

另一种方法是 .... 在您的 ExampleTableViewCell 类中实现

```
- (void)layoutSubviews{
} 
```

在上面的函数中设置你的标题框架。它应该工作

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-27T05:21:27.813

您必须实现方法 heightForRowAtIndexPath 并返回单元格的高度，然后您的问题就解决了:-)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2014-02-24T16:52:14.287

我发现 Matt Long 的解决方案真的很有帮助（[http://www.cimgf.com/2009/09/23/uitableviewcell-dynamic-height/](http://www.cimgf.com/2009/09/23/uitableviewcell-dynamic-height/)）。

# sql - 带有 GROUP BY id 的 T-SQL SELECT

> ID：15785877
> 
> 赞同：9
> 
> 时间：2013-04-03T11:18:35.337
> 
> 标签：sql, select, group-by

我有“**人**”的桌子

列

*   ID
*   姓名
*   年龄

**和带有“注释**”的表格：

列

*   ID
*   文本
*   FK_作者

我想从人员表中选择所有作者的笔记计数以及他们的姓名和年龄，但我想按人员 ID 分组，而不是姓名。很多情况下，人名相同，但ID显然总是不同的。

示例（输入）

**人们：**

```
╔════╦═══════╦═════╗
║ ID ║ NAME  ║ AGE ║
╠════╬═══════╬═════╣
║  1 ║ John  ║  12 ║
║  2 ║ Annie ║  29 ║
║  3 ║ John  ║  44 ║
╚════╩═══════╩═════╝ 
```

**笔记：**

```
╔════╦═══════╦═══════════╗
║ ID ║ TEXT  ║ FK_AUTHOR ║
╠════╬═══════╬═══════════╣
║  1 ║ 'aaa' ║         1 ║
║  2 ║ 'aaa' ║         1 ║
║  3 ║ 'aaa' ║         2 ║
║  4 ║ 'aaa' ║         2 ║
║  5 ║ 'aaa' ║         3 ║
╚════╩═══════╩═══════════╝ 
```

**预期结果：**

```
╔═══════╦═════╦════════════╗
║ NAME  ║ AGE ║ TOTALCOUNT ║
╠═══════╬═════╬════════════╣
║ John  ║  12 ║          2 ║
║ Annie ║  29 ║          2 ║
║ John  ║  44 ║          1 ║
╚═══════╩═════╩════════════╝ 
```

当我选择数据时，如果我想选择此列，我也必须按名称分组，因为如果我不这样做，我会收到错误消息。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-03T11:20:58.093

由于您想从 table 获取所有记录`People`，因此您需要`Notes`通过 using将其加入，`LEFT JOIN`因此任何没有任何记录的用户`Notes`都将包含在列表中，其 v 值为`totalCount`0。

```
SELECT  a.ID, a.Name, a.Age,
        COUNT(b.FK_Author) totalCount
FROM    People a
        LEFT JOIN Notes b
            ON a.ID = b.FK_Author
GROUP   BY a.ID, a.Name, a.Age 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!3/81929/1)

要进一步了解有关联接的更多信息，请访问以下链接：

*   [SQL 连接的可视化表示](http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html)

输出

```
╔════╦═══════╦═════╦════════════╗
║ ID ║ NAME  ║ AGE ║ TOTALCOUNT ║
╠════╬═══════╬═════╬════════════╣
║  1 ║ John  ║  12 ║          2 ║
║  2 ║ Annie ║  29 ║          2 ║
║  3 ║ John  ║  44 ║          1 ║
╚════╩═══════╩═════╩════════════╝ 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-03T11:22:28.563

```
SELECT P.ID,P.Name,P.Age,COUNT(N.ID)
FROM People P 
INNER JOIN Notes N ON N.FK_Author = P.ID
GROUP BY P.ID,P.Name,P.age 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-03T11:26:29.393

您也可以使用子查询来完成此任务 -

```
select people.Name,people.Age,(select count(notes.id) 
                                 from notes 
                                where notes.FK_Author= people.id)
from people; 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-04-03T11:27:06.193

您还可以先从 Notes 表中获取计数，然后使用 People 表左连接，如下所示。

[**小提琴演示**](http://www.sqlfiddle.com/#!3/81929/2)（感谢 JW 的小提琴）

```
select name, age, Notate_Count
from People p left join (
        select fk_author, count(*) Notate_Count
        from Notes 
        group by fk_author ) x
     on p.Id = x.fk_author
order by name --Ordering by name here, change as required

|  NAME | AGE | NOTATE_COUNT |
------------------------------
| Annie |  29 |            2 |
|  John |  44 |            1 |
|  John |  12 |            2 | 
```

# python - 创建一个 django 查询以获取特定持续时间的条目

> ID：15785882
> 
> 赞同：0
> 
> 时间：2013-04-03T11:18:44.607
> 
> 标签：python, django

在我的 django 应用程序中，一个条目有这个模型

```
 from models import PENDING,CLOSED
    class Entry(models.Model):
        ...
        name = models.CharField(max_length=200)
        status = models.CharField(max_length = 4,choices=status_values ,default = PENDING)
        creation_date = models.DateTimeField(default=datetime.datetime.now)           
        closed_date = models.DateTimeField(null=True) 
```

我需要找到所有`Entry`具有`CLOSED`状态的 s 以及关闭时间超过 4 天的 s。我没有在模型中使用任何称为持续时间的字段，但希望计算和之间的差异`closed_date`，`creation_date`如下所示

`(closed_date-creation_date).days`

我试图将查询编写为

`entries = Entry.objects.filter((closed_date-creation_date).days > 4 )`

在 django shell 我试过这个

```
In [9]:Entry.objects.filter((closed_date - creation_date).days > 4) 
```

这会产生一个`NameError`：

> NameError：未定义名称“closed_date”

但是当我尝试获取一个条目并访问它的 closed_date 字段时，

```
In [9]:  entry1 =  Entry.objects.get(name='myentry')

In [10]: entry1.closed_date
Out[10]: datetime.datetime(2013, 4, 3, 14, 2, 4, 442518)

In [11]: entry1.creation_date
Out[11]: datetime.datetime(2013, 3, 17, 0, 0) 
```

我无法弄清楚我在这里做错了什么..查询错误吗？

另外，当我尝试这个时，我得到一个语法错误：

```
In [12]: Task.objects.filter(status='CLOSED',(closed_date - creation_date).days > 4)

SyntaxError: non-keyword arg after keyword arg (<ipython console>, line 1) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T11:29:33.140

您可以使用[`F()`](https://docs.djangoproject.com/en/dev/topics/db/queries/#query-expressions)表达式来比较字段。所以你可以做类似的事情

```
entries = Entry.objects.filter(closed_date__gt=F('creation_date') + timedelta(days=4)) 
```

# html - 拉伸输入字段高度以填充表格单元格

> ID：15785888
> 
> 赞同：8
> 
> 时间：2013-04-03T11:19:13.840
> 
> 标签：html, css, input, height

如何使用 ie8 的纯 css 将输入字段拉伸到表格单元格的高度？

```
 <table>
    <tr>
        <td>line1<br />line2</td>
        <td><input type = "text" /></td>
    </tr>
</table> 
```

`height:100%`在输入上不起作用，以下组合也不起作用：

```
 height:inherit;
    display:inline-block;
    position:relative; 
```

如果答案是你不能，那很好，我会把一些 jquery 放在一起来做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:21:48.650

添加`padding:0`到 td 和`height:100%`输入

```
input { 
    height:100%; 
    display:inline-block;
    position:relative;
}
td {        
    border:solid green 1px;
    background:pink;
    padding:0;
} 
```

**[演示](http://jsfiddle.net/Rs2eT/1/)**

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2014-09-25T09:10:37.673

添加`height:100%;`到您的输入并以百分比设置 td 标签的高度

# mysql - 用积分系统排序 SQL 结果

> ID：15785889
> 
> 赞同：0
> 
> 时间：2013-04-03T11:19:13.853
> 
> 标签：mysql, sql, case

我试图让我的 SQL 结果按某个“点系统”排序。对于每个填写的字段，搜索结果都会获得一定的分数。在我的 SQL 末尾，我添加了以下 ORDER BY - 代码，但是，如果我将“1”数字之一更改为更高的数字，则搜索结果顺序不会更改。为什么那行不通？（在本例中将 bedrijfslogo-case 更改为 9）：

多谢你们！

```
$sql .= " ORDER BY

case when ID is not null then 1 else 0 end +
case when username is not null then 1 else 0 end +
case when password is not null then 1 else 0 end +
case when voornaam is not null then 1 else 0 end +
case when achternaam is not null then 1 else 0 end +
case when telefoonnummerP is not null then 1 else 0 end +
case when emailP is not null then 1 else 0 end +
case when functie is not null then 1 else 0 end +
case when bedrijfsnaam is not null then 1 else 0 end +
case when bedrijfsslogan is not null then 1 else 0 end +
case when bedrijfslogo is not null then 9 else 0 end +
case when bedrijfsfoto is not null then 1 else 0 end +
case when bedrijfsfoto2 is not null then 1 else 0 end +
case when bedrijfsfoto3 is not null then 1 else 0 end +
case when bedrijfsfoto4 is not null then 1 else 0 end +
case when bedrijfsomschrijving is not null then 1 else 0 end +
case when bedrijfsspecialiteiten is not null then 1 else 0 end +
case when bedrijfsgeschiedenis is not null then 1 else 0 end +
case when openingstijden is not null then 1 else 0 end +
case when kvk is not null then 1 else 0 end + 
case when straatnaam is not null then 1 else 0 end + 
case when huisnummer is not null then 1 else 0 end + 
case when postcode is not null then 1 else 0 end + 
case when plaats is not null then 1 else 0 end + 
case when nevenvestigingen is not null then 1 else 0 end + 
case when telefoonnummer is not null then 1 else 0 end + 
case when fax is not null then 1 else 0 end + 
case when email is not null then 1 else 0 end + 
case when website is not null then 1 else 0 end + 
case when twitter is not null then 1 else 0 end + 
case when facebook is not null then 1 else 0 end + 
case when youtube is not null then 1 else 0 end + 
case when linkedin is not null then 1 else 0 end + 
case when hoofdrubriek is not null then 1 else 0 end + 
case when subrubrieken is not null then 1 else 0 end + 
case when merken is not null then 1 else 0 end +
case when diensten is not null then 1 else 0 end +
case when productsoorten is not null then 1 else 0 end +
case when brancheverenigingen is not null then 1 else 0 end

 DESC"; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:30:53.633

也许bedrijfslogo 在表格中是空的？:)

如果您将大小写添加到视图中，则可能更容易找到错误。

```
create view myView as 
select *, (CASE when ID is not null then 1 else 0 end + ... n) AS SortPoints
from table 
GO
select * from myView order by SortPoints desc 
```

# linux - 在 Linux 中存储常用命令

> ID：15785890
> 
> 赞同：0
> 
> 时间：2013-04-03T11:19:15.750
> 
> 标签：linux, bash

我更频繁地使用一些 Linux 命令，例如转到特定目录，grep 某些文本等。我​​为每个命令分配了一个变量并将它们保存在脚本文件中，每次登录我的 Linux 机器时我都会运行脚本文件所以我可以使用变量而不是输入冗长的命令。

当我登录到我的 Linux 机器时，我是否可以确保我的脚本文件每次都运行，这样我就不需要每次都运行它？

是否有另一种方法来存储我经常使用的命令，以便在我打开我的 Linux 机器时可以使用它们？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T11:20:52.880

如果您正在使用 bash（可能是），请将其添加到您的`.bashrc`. 你会在你的主目录中找到它。

其他 shell 有相应的启动脚本。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-03T11:30:20.603

为非登录 shell 添加命令到 .bashrc，或为登录 shell 添加命令到 .bash_profile（当然，假设您使用的是 bash）。

从[bash 手册条目](http://linux.die.net/man/1/bash)：

> 当 bash 作为交互式登录 shell 或作为带有 --login 选项的非交互式 shell 调用时，它首先从文件 /etc/profile 中读取并执行命令（如果该文件存在）。读取该文件后，它会按顺序查找 ~/.bash_profile、~/.bash_login 和 ~/.profile，然后从第一个存在且可读的文件中读取并执行命令。当 shell 启动时，可以使用 --noprofile 选项来禁止这种行为。
> 
> 当登录 shell 退出时，bash 从文件 ~/.bash_logout（如果存在）读取并执行命令。
> 
> 当一个不是登录 shell 的交互式 shell 启动时，bash 会从 ~/.bashrc 读取并执行命令，如果该文件存在的话。这可以通过使用 --norc 选项来禁止。--rcfile 文件选项将强制 bash 从文件而不是 ~/.bashrc 读取和执行命令。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-03T11:21:12.380

您必须将脚本放入`.bashrc`文件中，它位于您的主目录中

```
nano ~/.bashrc 
```

它仅在您使用 bash 时有效。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T11:21:54.013

别名是怎么回事？

如果我是对的，您可以将它们存储在 ~/.bashrc 中。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-03T11:58:54.963

您可以使用`.bashrc`文件，但是当您打开交互式 Bash shell 时会执行此脚本。那就是每次您使用终端连接到服务器时（如果 Bash 是您的默认 shell）或打开另一个打开交互式 shell（如`su - $USER`）的 shell。

如果您在 Linux (Unix) 上使用 X-Window GUI 在本地工作，则每次打开终端程序（如KDE 中 的*Konsole或**gnome-terminal*）时都会执行该脚本。这可能不是你所期望的。在这种情况下，您可以破解[.xinit](https://wiki.archlinux.org/index.php/Xinitrc)脚本或使用显示管理器或桌面环境方式在启动时执行脚本。很难说是怎么回事，因为它特定于您的环境（Linux/Unix 发行版或桌面环境（KDE、GNOME、...））。

# css - 双背景图像在 IE 中不起作用

> ID：15785893
> 
> 赞同：1
> 
> 时间：2013-04-03T11:19:18.120
> 
> 标签：css, internet-explorer, cross-browser

这是我的CSS代码，请查看。

```
body, html {
margin: 0;
padding: 0;
background-image: url(../images/header-back.jpg), url(../images/bg.jpg);
background-repeat: repeat-x, repeat;
font-family: Verdana, Arial, Helvetica, sans-serif; 
```

}

它不适用于 IE8 或更低版本。帮助？

- 从下面的答案。我尝试使用 CSS PIE

```
body, html {
margin: 0;
padding: 0;
-pie-background: url(../images/header-back.jpg) repeat-x, url(../images/bg.jpg)      repeat;
behavior: url(piefolder/PIE.htc);
font-family: Verdana, Arial, Helvetica, sans-serif; 
```

}

但仍然没有运气，

我也尝试过使用

```
body, html {
margin: 0;
padding: 0;
background: url(../images/header-back.jpg) repeat-x;
font-family: Verdana, Arial, Helvetica, sans-serif;
}

body:before {
content:"";
background:url(../images/bg.jpg) repeat;    
} 
```

也不行，是我做错了吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T11:22:12.247

Internet Explorer 8 不支持 CSS 3 多背景。

检查此链接：-

[http://nicolasgallagher.com/multiple-backgrounds-and-borders-with-css2/](http://nicolasgallagher.com/multiple-backgrounds-and-borders-with-css2/)

# sql - 优化 DB2 SQL SUM 查询

> ID：15785897
> 
> 赞同：0
> 
> 时间：2013-04-03T11:19:25.097
> 
> 标签：sql, optimization, db2

我正在尝试添加一行来指示一堆数据的总数。例如：

```
ISAAC      25000
Jane       18000
-----------------
TOTAL    43000 
```

我目前实现这一点的方法是使用如下所示的子查询：

```
select name, salary
from employee
union all 
select 'TOTAL', sum(salary) 
from
(
   select name, salary from employee
) 
```

我想知道是否有优化的 sql 查询返回我一个指示总数的单行。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T11:34:35.080

您可以使用`rollup`，幸运的是 db2 支持汇总

```
SELECT 
  name,  
  sum(salary) as sal
FROM 
  table 
GROUP BY ROLLUP 
  name 
```

结果

```
|   NAME | SAL         |
------------------------
|  ISAAC |       25000 |
|   Jane |       18000 |
|    -   |       43000 | 
```

## **[参考](http://pic.dhe.ibm.com/infocenter/db2luw/v10r1/index.jsp?topic=/com.ibm.db2.luw.sql.ref.doc/doc/r0059215.html)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:26:35.577

呃......有什么问题只是：`SELECT SUM(salary) FROM employee`？

你可以尝试在`salary`, 上创建一个索引来[覆盖](http://use-the-index-luke.com/sql/glossary/covering-index)上面的查询。

顺便说一句，SQL 用于查询，而不是用于显示，因此不要尝试在 SQL 本身中“格式化”结果。这就是表示层的工作。

# sql - 如何在 MS ACCESS 中同时使用 MIN、IFF 和 Datepart 函数？

> ID：15785902
> 
> 赞同：1
> 
> 时间：2013-04-03T11:19:37.947
> 
> 标签：sql, ms-access, datepart

我有一个如下表，我想根据没有时间和班次的日期对日期时间条目进行分组，例如，早班从早上 5 点开始，到下午 14 点结束。在这里，MAX 函数找到正确的日期，你能帮我看看 MIN 函数有什么问题吗？

```
 Indate                Incondition
    ---------             -----------
    25.01.2013 05:00:38    KT-RING
    25.01.2013 05:21:52    KT-EMPTY
    25.01.2013 05:22:00    KT-PROCESS
    25.01.2013 06:10:50    KT-RING
    25.01.2013 16:10:50    KT-EMPTY
    26.01.2013 06:10:50    KT-RING

    SELECT  Int(Indate) AS DATE,  
    Min( IIf( ( DatePart('h',[Indate])>=05 AND DatePart('h', [Indate])<13), Indate, 0)) AS FRUHRINGMIN,
    Max(IIf((DatePart('h',Indate)>=05 And
    DatePart('h',Indate)<13), Indate,0)) AS FRUHRINGMAX 
FROM  TABLE WHERE Incondition= 'KT-RING' 
    GROUP BY Int(Indate);

    RESULT:
    DATE      FRUHRINGMIN     FRUHRINGMAX
    -----     -------------   -----------
   25.01.2013  00:00:00       25.01.2013 06:10:50 
   26.01.2013  00:00:00       26.01.2013 06:10:50 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T17:24:13.707

我将您的示例数据保存在我的 Access 2007 数据库中的一个表中。但是当我尝试运行您的查询时，Access 抛出了一个关于 alias 的错误`DATE`，这是一个保留字。将该别名括起来允许查询运行而不会出错。

```
SELECT
    Int(Indate) AS [DATE],  
    Min(IIf((DatePart('h',[Indate])>=05 AND DatePart('h', [Indate])<13), Indate, 0)) AS FRUHRINGMIN,
    Max(IIf((DatePart('h',Indate)>=05 And DatePart('h',Indate)<13), Indate,0)) AS FRUHRINGMAX 
FROM tblJeanneQuadel
WHERE Incondition= 'KT-RING' 
GROUP BY Int(Indate); 
```

但是，它给我的结果与您报告的不符。

```
DATE  FRUHRINGMIN           FRUHRINGMAX
41299 1/25/2013 5:00:38 AM  1/25/2013 6:10:50 AM
41300 1/26/2013 6:10:50 AM  1/26/2013 6:10:50 AM 
```

请注意，我的日期/时间值采用美国格式，但它们实际上基于与您相同的值，只是显示方式不同。

我不明白为什么您的查询结果将第一列显示为日期，而不是像我的那样显示为长整数，并且我希望它是`Int(Indate)`. 但这是次要的。如果需要，我们可以从一种转换为另一种。

更重要的是，我不确定实际发生了什么。如果括号`[DATE]`不允许您的查询运行并产生正确的结果，请尝试将`IIf()`条件移动到`WHERE`子句中。这将大大简化你的`Min()`和`Max()`表达。但是，如果这仍然不能产生您想要的结果，请向我们展示它返回的内容以及您想要返回的内容。

# ruby-on-rails - Rails - 如何在帖子列表和单个帖子中显示帖子编号？

> ID：15785912
> 
> 赞同：0
> 
> 时间：2013-04-03T11:19:58.577
> 
> 标签：ruby-on-rails

我目前正在构建一个应用程序，人们在其中添加一个项目，然后向项目添加更新。我想对这些更新进行编号，例如：

更新 1、更新 2 等...

有一个列表视图，也有一个单独的视图，它会在顶部显示更新编号。

我找到了在循环记录以创建列表时使用的各种索引计数解决方案，但我不知道如何在单个视图上显示更新编号。

我什至应该将更新号与数据库中的记录一起存储吗？

我的架构的相关部分：

```
create_table "projects", :force => true do |t|
    t.string   "title"
    t.string   "image"
    t.datetime "created_at", :null => false
    t.datetime "updated_at", :null => false
    t.integer  "user_id"
  end

  add_index "projects", ["user_id"], :name => "index_projects_on_user_id"

  create_table "updates", :force => true do |t|
    t.string   "title"
    t.text     "text",       :limit => 255
    t.datetime "created_at",                :null => false
    t.datetime "updated_at",                :null => false
    t.integer  "project_id"
  end

  add_index "updates", ["project_id"], :name => "index_updates_on_project_id" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:31:50.670

据我了解，您有一个包含所有更新的更新模型。因此它们的 id 在单个项目中不是按顺序排列的。

我认为一个简单而安全的解决方案是为此模型添加一个 update_number 字段。

然后，您创建一个方法来在每次创建新的更新记录时保存更新编号，例如在此项目中的最后一次更新时 +1。

**在关于删除的评论中添加问题**

我考虑过这种情况，但我认为您永远不应该删除更新（因为它是更新，无论对错），所以我没有说。但是，使用这个额外的字段解决方案，您可以轻松地重建索引。只需编写一个方法来重建索引，并将其挂钩到 Update 的任何删除中。

旁注：如果我是你，我会将更新设置为非活动状态，而不是物理删除它。因为您的用户是项目团队成员，所以他们应该足够负责。想想 Git，一旦提交给团队或公众，就很难更改提交。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:31:39.217

您可以使用[计数器缓存](http://railscasts.com/episodes/23-counter-cache-column)，也可以直接使用`@project.updates.count`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T12:12:27.860

您可以通过 created_at 进行排序，并使用 each_with_index 在您的视图中进行迭代。这不需要架构更改。您也可以使用[acts_as_list](https://github.com/rails/acts_as_list)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T12:21:53.530

比利陈有最好的答案，但如果您正在寻找替代方案，您可以在该项目的更新中查找您的更新，并找到它的索引。

```
@update = Update.find params[:id]
@update_number = Update.where(project_id: @update.project_id).order("created_at DESC").index(@update) 
```

更冗长的查询和更多的查询等。最好将该逻辑存储在数据库中。

# ios - NSStream TCP Keep-alive iOS

> ID：15785917
> 
> 赞同：5
> 
> 时间：2013-04-03T11:20:06.067
> 
> 标签：ios, objective-c, tcp, keep-alive, nsstream

我编写了这段代码来设置与服务器的流：

```
-(void)streamOpenWithIp:(NSString *)ip withPortNumber:(int)portNumber;
{
       CFReadStreamRef readStream;
       CFWriteStreamRef writeStream;
       CFStreamCreatePairWithSocketToHost(kCFAllocatorDefault, (__bridge CFStringRef)ip, portNumber, &readStream, &writeStream);

       if(readStream && writeStream)
       {
            CFReadStreamSetProperty(readStream, kCFStreamPropertyShouldCloseNativeSocket, kCFBooleanTrue);
            CFWriteStreamSetProperty(writeStream, kCFStreamPropertyShouldCloseNativeSocket, kCFBooleanTrue);

            //Setup inpustream
            inputStream = (__bridge NSInputStream *)readStream;
            [inputStream setDelegate:self];
            [inputStream scheduleInRunLoop:[NSRunLoop currentRunLoop] forMode:NSDefaultRunLoopMode];
            [inputStream open];

            //Setup outputstream
            outputStream = (__bridge NSOutputStream *)writeStream;
            [outputStream setDelegate:self];
            [outputStream scheduleInRunLoop:[NSRunLoop currentRunLoop] forMode:NSDefaultRunLoopMode];
            [outputStream open];
       }
} 
```

我能够连接到服务器并发送和接收数据。但我想检查连接是否仍然存在。如果我从 wifi 路由器上断开电缆，我仍然可以在流中发送数据并且没有发生错误。

您可以在应用程序级别解决此问题，方法是使用计时器发送一些消息并检查您是否收到回复。但是您也可以在较低级别使用 TCP Keep-Alive 技术解决此问题。

我如何用 NSStream 实现这个？如何设置检查间隔？

我假设您在流关闭时通过 TCP Keep-Alive 检查得到 NSStreamEventErrorOcurred？

我已经检查了这篇文章，但我无法弄清楚： [在 iOS 中保持套接字连接处于活动状态](https://stackoverflow.com/questions/11387560/keeping-a-socket-connection-alive-in-ios)

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-03T12:14:05.480

您可以使用以下方式获取本机套接字句柄

```
CFDataRef socketData = CFReadStreamCopyProperty((__bridge CFReadStreamRef)(inputStream), kCFStreamPropertySocketNativeHandle);
CFSocketNativeHandle socket;
CFDataGetBytes(socketData, CFRangeMake(0, sizeof(CFSocketNativeHandle)), (UInt8 *)&socket);
CFRelease(socketData); 
```

然后设置套接字选项（你需要这样做`#include <sys/socket.h>`）：

```
int on = 1;
if (setsockopt(socket, SOL_SOCKET, SO_KEEPALIVE, &on, sizeof(on)) == -1) {
   NSLog(@"setsockopt failed: %s", strerror(errno));
} 
```

您可以将此代码放在事件的事件处理函数中`kCFStreamEventOpenCompleted`：

```
- (void)stream:(NSStream *)stream handleEvent:(NSStreamEvent)event {
    switch (event) {
        case kCFStreamEventOpenCompleted:
            if (stream == self.inputStream) {
                CFDataRef socketData = CFReadStreamCopyProperty((__bridge CFReadStreamRef)(stream), kCFStreamPropertySocketNativeHandle);
                CFSocketNativeHandle socket;
                CFDataGetBytes(socketData, CFRangeMake(0, sizeof(CFSocketNativeHandle)), (UInt8 *)&socket);
                CFRelease(socketData);

                int on = 1;
                if (setsockopt(socket, SOL_SOCKET, SO_KEEPALIVE, &on, sizeof(on)) == -1) {
                    NSLog(@"setsockopt failed: %s", strerror(errno));
                }
            }
            break;

        /* ... other cases ... */;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-12-15T15:22:27.563

类似问题有更完整的答案。

对于在 10 秒后开始发送 keepalive、每 2 秒发送一次keppalive 并在 4 次 keepalive 后无回复关闭流的应用示例，请查看此帖子： [Is it possible to activate TCP keepalive on Apple iOS devices](https://stackoverflow.com/questions/25665837/is-it-possible-to-activate-tcp-keepalive-on-apple-ios-devices/25725181#25725181)

它还显示了如何设置重新传输超时，然后关闭连接。

# xcode - 在启动时通过文件拖放调试 NSDocument 应用程序？

> ID：15785919
> 
> 赞同：4
> 
> 时间：2013-04-03T11:20:11.740
> 
> 标签：xcode, cocoa, nsdocument, nsdocumentcontroller

假设我有一个 NSDocument 应用程序，它支持将文件拖放到其图标上以启动应用程序并打开该文件。我的 NSApplicationDelegate 已经实现

```
- (BOOL)application:(NSApplication *)sender openFile:(NSString *)filename 
```

这是通过文件拖放调用的。我希望能够在内部中断并开始调试，`application:openFile:`但必须从 Xcode 启动应用程序才能使用拖放启动。

什么是这样做的好方法？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-03T11:59:16.517

在 Xcode 中，转到**Product > Edit Scheme**（或 Option-单击工具栏中的**Run**按钮）。
在**Info**选项卡下，将 Launch 选项更改为

*   *等待“可执行”启动*

您需要在`application:openFile:`方法中设置适当的断点，
然后通过将文档文件拖放到应用程序图标上，从 Finder 手动启动您的应用程序。

**要在 Xcode 的Project Navigator**（或 CMD+1）中为您的 .app找到构建的可执行文件，请使用“ *Show in Finder ”。*

 **Xcode 调试器应该附加并中断您的方法。**

# python - 如何获取网页中的特定框架并检索其内容

> ID：15785920
> 
> 赞同：1
> 
> 时间：2013-04-03T11:20:20.130
> 
> 标签：python, html, browser, selenium, webautomation

我想访问以下网址的翻译结果

> [http://translate.google.com/translate?hl=en&sl=en&tl=ar&u=http%3A%2F%2Fwww.saltycrane.com%2Fblog%2F2008%2F10%2Fhow-escape-percent-encode-url-python% 2F](http://translate.google.com/translate?hl=en&sl=en&tl=ar&u=http://www.saltycrane.com/blog/2008/10/how-escape-percent-encode-url-python/)

翻译显示在两个框架中的底部内容框架中。我有兴趣仅检索底部内容框架以获取翻译

selenium for python 允许我们通过网络自动化获取页面内容：

```
browser.get('http://translate.google.com/#en/ar/'+hurl) 
```

所需的框架是 iframe ：

```
<div id="contentframe" style="top:160px"><iframe   src="/translate_p?hl=en&am... name=c frameborder="0" style="height:100%;width:100%;position:absolute;top:0px;bottom:0px;"></div></iframe> 
```

但是如何使用网络自动化获取底部内容框架元素来检索翻译？

了解到 PyQuery 还允许我们使用 JQuery 形式浏览内容

**更新：**

一个答案提到 Selenium 提供了一种可以做到这一点的方法。

```
frame = browser.find_element_by_tag_name('iframe')
browser.switch_to_frame(frame)
# get page source
browser.page_source 
```

但它在上面的例子中不起作用。它返回一个空页面。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T12:28:50.897

您可以`driver.switchTo.frame(1);`在这里使用，frame() 中的数字 1 是网页中存在的帧的索引。由于您的要求是切换到第二帧并且索引从 0 开始，您应该使用`driver.switchTo.frame(1);`

但是上面的代码是用Java编写的。在 Python 中，您可以使用以下行。

```
driver.switch_to_frame(1); 
```

**更新**

```
 driver.get("http://translate.google.com/translate?hl=en&sl=en&tl=ar&u=http://www.saltycrane.com/blog/2008/10/how-escape-percent-encode-url-python/");
 driver.switchTo().frame(0);
 System.out.println(driver.findElement(By.xpath("/html/body/div/div/div[3]/h1/span/a")).getText()); 
```

**输出：** SaltyCrane ?????????

我刚刚尝试打印 iframe 中存在的标题名称 SaltCrane。它对我有用，除了？SaltCrane 之后的符号。由于它是阿拉伯语，因此无法解码。

上面的代码是Java。同样的逻辑也应该适用于 Python。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T12:32:12.547

Selenium 提供了一种可以做到这一点的方法。

```
frame = browser.find_element_by_tag_name('iframe')
browser.switch_to_frame(frame)
# get page source
browser.page_source 
```

# jquery - JQuery 打开新屏幕

> ID：15785921
> 
> 赞同：0
> 
> 时间：2013-04-03T11:20:21.557
> 
> 标签：jquery

我正在尝试使用 JQuery 打开一个新屏幕，但必须将变量传递到新屏幕。这可能吗？我在带有 MVC 4 的 Visual Studio 2012 中有一个 C# 应用程序。我的代码如下所示：

```
 $('#AddCopyRuleButton').click(function () {
        var url = '@Url.Action("GetDetails")';
        var data = {
            systemCode: $('#SystemCode').val(),
            productCode: $('#Products').val(),
            subProductCode: $('#SubProducts').val(),
            division: $('#Division').val(),
            dcarFrom: $('#DCARFrom').val(),
            dcarTo: $('#DCARTo').val(),
            accountNumber: $('#AccountNumber').val(),
            counterPartyCode: $('#CounterParty').val()
        };

        $.getJSON(url, data, function (data) {
        });
    }); 
```

在 JSON 代码中，我想重定向到另一个页面，并将数据与请求一起发送到新页面。当前页面应该关闭。

另外，如何使用传递到新屏幕的数据？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T13:09:16.360

你可以按照以下方式做一些事情

```
// Parent window
$('#AddCopyRuleButton').click(function () {
    var p=window.open("Popup.html");

    // wait for the child to get populated and then close this window
    window.close();
});

function getData() {
    var iHoldData;
    // Put some stuff in iHoldData
    return iHoldData;
} 
```

而对于孩子

```
// Child window
$(document).ready(function() {
    if(window.opener && !window.opener.closed) {
        var iRecieveData = window.opener.getData();
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T12:59:50.470

您不需要异步请求，请使用原始 urlencoded`GET`请求。

# mysql - MySQL 每个派生表都必须有自己的别名

> ID：15785925
> 
> 赞同：7
> 
> 时间：2013-04-03T11:20:32.820
> 
> 标签：mysql, jointable

您好我需要通过加入两个查询来生成一个 sql 查询

第一个查询：获取所有学生数据

```
SELECT * FROM students where class = 1 and section = 'A' 
```

![在此处输入图像描述](https://i.stack.imgur.com/G77VR.png)

第二个查询：获取每个出席人数

```
SELECT  roll_no,full_name, 

SUM(hasAttended= 'P') AS DaysPresent, 

SUM(hasAttended= 'A') AS DaysAbsent, 

COUNT(*) AS totalClasses

FROM     attendance

GROUP BY roll_no 
```

![在此处输入图像描述](https://i.stack.imgur.com/4w6v5.png)

现在我需要加入这两个表并生成一个结果表

我正在尝试以下查询，但出现错误：

> # 1248 - 每个派生表都必须有自己的别名

我的查询如下：

```
SELECT * FROM students as st

INNER JOIN 

(SELECT  att.roll_no,att.full_name, 

SUM(att.hasAttended= 'P') AS DaysPresent, 

SUM(att.hasAttended= 'A') AS DaysAbsent, 

COUNT(*) AS totalClasses

FROM     attendance as att

GROUP BY att.roll_no)

ON st.roll_no = att.roll_no

ORDER BY  st.roll_no 
```

有人可以解决上述错误吗

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-04-03T11:22:54.547

MySQL 要求所有派生表和子查询都有一个别名。您在 subqquery 的右括号末尾缺少别名：

```
SELECT * 
FROM students as st
INNER JOIN 
(
  SELECT  att.roll_no,att.full_name, 
    SUM(att.hasAttended= 'P') AS DaysPresent, 
    SUM(att.hasAttended= 'A') AS DaysAbsent, 
    COUNT(*) AS totalClasses
  FROM     attendance as att
  GROUP BY att.roll_no
) att  ---------------------------< this is missing
  ON st.roll_no = att.roll_no
WHERE st.class = 1 
ORDER BY  st.roll_no 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-27T12:50:12.073

一般 subqquery 需要一个别名如上。我也有一个问题已经解决了。你可以看到我解决的查询。IE

```
SELECT SUM(total_items) AS sum_total
FROM 
(SELECT COUNT(imt.item_id) AS total_items
    FROM item_master_tbl imt
    INNER JOIN map_category_item_tbl mci 
                ON imt.item_id=mci.item_id
    INNER JOIN category_master_tbl cmt 
                ON mci.category_id=cmt.category_id
    GROUP BY cmt.category_id) alias_name; 
```

# plone - 使用 Plone Form Gen 创建事件

> ID：15785926
> 
> 赞同：6
> 
> 时间：2013-04-03T11:20:40.947
> 
> 标签：plone, ploneformgen

我正在尝试使用 Plone Form Gen 创建事件内容类型。[我一直在使用本教程](http://developer.plone.org/reference_manuals/active/ploneformgen/creating_content.html)来执行此操作。

使用`Add New...`菜单创建事件内容类型时，您需要填写两个字段，即事件的**开始**日期和**结束**日期，我希望我的表单从这些字段中提取信息并将其应用于我的事件内容类型用来创建它。

据我了解，我的问题通过以下示例进行了描述：

自定义脚本适配器脚本包含以下内容：

```
obj.setDescription(form['replyto']) 
```

我可以看到它从以下内容获取 Event 内容类型的 Description 的内容：

```
<input id="replyto" class="" type="text" size="30" name="replyto" /> 
```

添加到 PFG 表单时的日期/时间字段由多个`<select>`输入组成，而不仅仅是像上面的一个，我想这意味着没有一个简单的`obj.setEndDate()`命令......虽然没有办法引用选择盒子我有点卡住了。

有谁知道是否可以使用 Plone Form Gen创建 Event 内容类型**并在其上指定开始和结束日期？**

## 编辑

[使用此链接](https://weblion.psu.edu/trac/weblion/wiki/AutomatingObjectCreation)我已经解决了原始问题，但我遇到了更多问题

我已经修改了我的脚本（使用上面的链接），如下所示：

```
target = context.viewjobs

form = request.form

from DateTime import DateTime
uid = str(DateTime().millis())

loc = form['location-of-event']

target.invokeFactory("Event", id=uid, title=form['topic'], event_url=loc)

obj = target[uid]

obj.setFormat('text/plain')
obj.setText(form['comments'])
obj.setDescription(form['replyto'])

obj.reindexObject() 
```

（我使用 event_url 只是为了测试，因为我对这个选项没有任何运气`event_start`）。

它可以创建事件，但是当我查看事件时，我得到：

```
 Module zope.tales.expressions, line 217, in __call__
Module Products.PageTemplates.Expressions, line 147, in _eval
Module zope.tales.expressions, line 124, in _eval
Module Products.PageTemplates.Expressions, line 74, in boboAwareZopeTraverse
Module OFS.Traversable, line 317, in restrictedTraverse
Module OFS.Traversable, line 285, in unrestrictedTraverse
__traceback_info__: ([], 'location') 
```

属性错误：位置

我没有在脚本中的任何地方引用位置，当我这样做时，我得到了同样的错误。

任何想法将不胜感激

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-03T15:12:47.907

您可以通过执行以下操作来简化代码并避免重新索引调用：

```
target = context.viewjobs

form = request.form

from DateTime import DateTime
uid = str(DateTime().millis())

target.invokeFactory(
    "Event",
    id=uid,
    title=form['job-title'],
    description=form['description-1'],
    text=form['comments'],
    location=form['location-of-event'],
    startDate=form['start-date'],
    endDate=form['end-date-due-by']
    ) 
```

关于收集开始和结束日期。如果您使用日期/时间小部件并查看生成的 HTML，您会注意到有一个隐藏的输入字段，其名称与小部件的短名称相匹配。该隐藏输入包含各种选择框选择的内容的完整文本表示，因此您希望通过使用文本字段来实现，而不必依赖用户使用特定格式。

如果您想知道如何查找要在 invokeFactory 调用中指定的各个字段的名称，请查找定义您尝试创建的内容类型的 python 文件。对于事件对象，它是 /Plone/buildout-cache/eggs/Products.ATContentTypes-2.1.8-py2.7.egg/Products/ATContentTypes/content/event.py

第 32 行开始“ATEventSchema = ...”，从那里您将看到事件所有部分的字段名称。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T14:55:47.247

我设法通过使用文本字段并要求用户以这种格式输入日期来解决这个问题：2013-12-12，然​​后我使用`obj.setStartDate(form['name-of-field'])`并`obj.setEndDate(form['name-of-field'])`在事件上设置它。

为了绕过位置回溯，我使用`obj.setLocation()`并从上面脚本中显示的调用方法中删除了位置行。

任何有兴趣的人的脚本：

```
target = context.viewjobs

form = request.form

from DateTime import DateTime
uid = str(DateTime().millis())

target.invokeFactory("Event", id=uid, title=form['job-title'])

obj = target[uid]

obj.setFormat('text/plain')
obj.setText(form['comments'])
obj.setDescription(form['description-1'])
obj.setLocation(form['location-of-event'])
obj.setStartDate(form['start-date'])
obj.setEndDate(form['end-date-due-by'])

obj.reindexObject() 
```

# git - 如何将我的 git 工作副本更新到以前的版本

> ID：15785927
> 
> 赞同：4
> 
> 时间：2013-04-03T11:20:41.227
> 
> 标签：git

有没有一种很好的方法可以将我的 Git 工作副本更改为给定数量的提交之前的内容。

例如，要查看过去的 3 次提交，例如：

```
git reset HEAD - 3 
```

这里的用例是我只想看看当前工作副本中失败的测试在我最近一次提交之前是否也失败了。我不一定想对以前的版本进行任何更改。然后我想将工作副本更改回最新的提交。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-03T15:16:04.753

如果您只是想*查看*以前的提交（不更改分支/存储库的状态），请使用`git checkout`.

```
git checkout HEAD~3 
```

如果您决定从这一点开始进行开发，则可以进行分支。

```
git checkout -b specialFeature47 
```

要回到现在，只需检查您所在的分支名称。

```
git checkout master 
```

厌倦建议的`git reset`解决方案。这些实际上移动了您的分支指针（有效地删除了这 3 个提交）。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-03T11:21:44.947

是的，这是可能的：

```
git reset --hard HEAD~3 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T17:10:20.123

你总是可以这样做：

git checkout HEAD~15

并将 15 个提交移回。当前提示完全不受干扰，您可以四处移动，甚至构建该版本并检查等。要返回，只需执行`git checkout mybranch`. 如果你想在那里开始工作（并将原来的分支留在冰上），你可以`git branch newbranch`，`newbranch`从现在开始工作。

`commit --amend`在使用任何历史重写命令（ 、、`rebase`等）之前，请仔细考虑您在做什么`reset`，那里确实存在*大量*工作损失的可能性。分支`git`非常便宜，通过回溯历史可以完成的大部分工作都可以通过从过去的某个地方开始创建一个新分支来完成，也许可以用当前`master`分支切换它。在旧分支上完成的工作可能会在以后派上用场；如果没有，那么保留它的成本可能无论如何都可以忽略不计。

# linux - Linux shell脚本混合显卡

> ID：15785930
> 
> 赞同：0
> 
> 时间：2013-04-03T11:20:49.760
> 
> 标签：linux, shell

我是 linux 脚本的新手。我需要制作一个脚本来运行以下命令

```
sudo su
chown -R marko:marko /sys/kernel/debug;
chown marko:marko /sys/kernel/debug/vgaswitcheroo/switch;
exit;
echo ON > /sys/kernel/debug/vgaswitcheroo/switch;
echo IGD > /sys/kernel/debug/vgaswitcheroo/switch;
echo DIS > /sys/kernel/debug/vgaswitcheroo/switch;
echo OFF > /sys/kernel/debug/vgaswitcheroo/switch; 
```

其中 marko 是系统中当前登录用户的用户名。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T14:03:42.517

我认为最好不要改变文件系统中的文件权限`/sys`，你应该把你的脚本写在一个文件中，比如说`switcheroo.sh`，像这样：

```
#!/bin/sh

#If not running under sudo, force sudo
[ $UID -ne 0 ] && exec sudo "$0" "$@"

echo ON > /sys/kernel/debug/vgaswitcheroo/switch
echo IGD > /sys/kernel/debug/vgaswitcheroo/switch
echo DIS > /sys/kernel/debug/vgaswitcheroo/switch
echo OFF > /sys/kernel/debug/vgaswitcheroo/switch 
```

然后使用`sudo ./switcheroo.sh`.

您必须使用命令使脚本可执行`chmod +x switcheroo.sh`。

# ajax - 尽管有同源策略，但使用 angularJS 发送 POST 请求

> ID：15785935
> 
> 赞同：3
> 
> 时间：2013-04-03T11:20:59.420
> 
> 标签：ajax, post, angularjs, same-origin-policy

尽管有同源策略，有没有办法使用 AngularJS 发送 POST 请求？我不需要从请求中获取响应，我只需要发送请求。就像创建表单并将其发送到另一台服务器一样。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T16:59:48.757

您可以使用 JSONP 向另一个域发送请求，但不能使用 POST，它必须是 GET 请求。您可以序列化您的表单值并使用 GET 发送吗？

[http://docs.angularjs.org/api/ng.$http#jsonp](http://docs.angularjs.org/api/ng.$http#jsonp)

[如何在 jsonp ajax 调用中使用类型：“POST”](https://stackoverflow.com/questions/4508198/how-to-use-type-post-in-jsonp-ajax-call)

请记住，如果您确实使用 GET，那么您发送的数据量会受到限制，因为 URL 通常不能超过 ~2000 个字符。

# php - 在不考虑限制的情况下获取sql查询中的记录总数

> ID：15785937
> 
> 赞同：0
> 
> 时间：2013-04-03T11:21:00.870
> 
> 标签：php, mysql, sql

我在一个 sql 表中有 100 条记录

我可以在应用了限制的情况下获得单个查询中的记录总数吗

喜欢 ..

```
SELECT * , COUNT(*) as records form table offset 0 limit 10\. 
```

所以记录的价值是100。有可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T11:22:29.843

使用相关子查询：

```
SELECT * , (SELECT COUNT(*)
            from table) as records 
form table 
offset 0 limit 10; 
```

但是最好只对这个计数进行一次单独的查询，然后从您的前端应用程序以您想要的方式显示它，而不是执行 100 次。

# wordpress - 需要 wordpress 的下一个帖子按钮

> ID：15785938
> 
> 赞同：0
> 
> 时间：2013-04-03T11:21:04.073
> 
> 标签：wordpress

我正在写一个博客，想在每个帖子之间的某个地方添加一个下一个帖子按钮，比如这个网站。[http://dose2fun.com](http://dose2fun.com)

有什么方法可以在那里添加按钮？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T12:09:51.670

我没有相同的解决方案，但您可以使用 jj-wp 轻松导航。它将添加上一个和下一个帖子按钮。它也可以通过键盘控制。

# asp.net - 从用户控件调用父页面函数

> ID：15785941
> 
> 赞同：1
> 
> 时间：2013-04-03T11:21:10.087
> 
> 标签：asp.net

我有一个 Default.aspx 页面，我在其中使用了一个用户控件。在 usercontrol.cs 中的某些情况下，我必须调用 Default.aspx.cs 页面（即用户控件的父页面）中存在的函数。请帮助并告诉我完成这项任务的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:27:20.210

您必须将`Page`属性转换为实际类型：

```
var def = this.Page as _Default;
if(def != null)
{
    def.FunctionName();
} 
```

该方法必须是公开的：

```
public partial class _Default : System.Web.UI.Page
{
    public void FunctionName()
    { 

    }
} 
```

但请注意，这不是最佳实践，因为您将`UserControl`与硬链接`Page`。通常，UserControl 的一个目的是可重用性。这里不再。与它的页面进行通信的最佳方式`UserControl`是使用可由页面处理的自定义事件。

[**Mastering Page-UserControl Communication - 事件驱动的通信**](http://www.codeproject.com/Articles/8797/Mastering-Page-UserControl-Communication#4.3)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-12T09:37:48.030

父.aspx.cs

```
public void DisplayMsg(string message)
{
    if (message == "" || message == null) message = "Default Message";
    Response.Write(message);
} 
```

要从用户控件调用父页面的函数，请使用以下命令：UserControl.ascx.cs

```
 this.Page.GetType().InvokeMember("DisplayMsg", System.Reflection.BindingFlags.InvokeMethod, null, this.Page, new object[] { "My Message" }); 
```

这对我来说很好..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T12:22:40.157

向用户控件添加事件：

```
public event EventHandler SpecialCondition; 
```

当满足条件时，在您的用户控件中引发此事件：

```
private void RaiseSpecialCondition()
{
    if (SpecialCondition != null) // If nobody subscribed to the event, it will be null.
        SpecialCondition(this, EventArgs.Empty);
} 
```

然后在包含用户控件的页面中，监听事件：

```
public partial class _Default : System.Web.UI.Page
{
    public void Page_OnLoad(object sender, EventArgs e)
    { 
        this.UserControl1.OnSpecialCondition += HandleSpecialCondition;
    }

    public void HandleSpecialCondition(object sender, EventArgs e)
    {
        // Your handler here.
    }
} 
```

如果需要，您可以将 更改`EventArgs`为更有用的东西来传递值。

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2013-04-03T11:34:35.707

尝试这个

```
 MyAspxClassName aspxobj= new MyUserControlClassName();
    aspxobj.YourMethod(param); 
```

# c# - 如何为 Windows 8 制作像 Bing 应用程序这样的 xaml 模板？

> ID：15785959
> 
> 赞同：1
> 
> 时间：2013-04-03T11:22:03.743
> 
> 标签：c#, xaml, gridview, windows-runtime

标准 GridApp 模板如下： ![在此处输入图像描述](https://i.stack.imgur.com/2GVMw.png)

Variable Size Grouped GridView 模板如下： ![在此处输入图像描述](https://i.stack.imgur.com/y1ulo.png)

如何为您的应用程序制作模板，使其看起来像这样：

![在此处输入图像描述](https://i.stack.imgur.com/Nk5sj.png)

例如，此设计在所有应用程序 Bing for windows 8 中： ![在此处输入图像描述](https://i.stack.imgur.com/wRsLI.gif)

可变大小分组 GridView 模板的代码：

```
<UserControl.Resources>

    <!-- Collection of grouped items displayed by this page -->
    <CollectionViewSource
        x:Name="groupedItemsViewSource"
        Source="{Binding Groups}"
        IsSourceGrouped="true"
        ItemsPath="Items"
        d:Source="{Binding ItemGroups, Source={d:DesignInstance Type=data:SampleDataSource, IsDesignTimeCreatable=True}}"/>

    <DataTemplate x:Key="CustomTileItem">
        <Grid >
            <Border Background="{StaticResource ListViewItemPlaceholderBackgroundThemeBrush}">
                <Image Source="{Binding Image}" Stretch="UniformToFill"/>
            </Border>
            <StackPanel VerticalAlignment="Bottom" >
                <TextBlock Text="{Binding Title}" Foreground="{StaticResource ListViewItemOverlayForegroundThemeBrush}" Style="{StaticResource TitleTextStyle}" Height="30" Margin="15,0,15,0"/>
                <TextBlock Text="{Binding Subtitle}" Foreground="{StaticResource ListViewItemOverlaySecondaryForegroundThemeBrush}" Style="{StaticResource CaptionTextStyle}" TextWrapping="NoWrap" Margin="15,0,15,10"/>
            </StackPanel>
        </Grid>
    </DataTemplate>
</UserControl.Resources>

<!--
    This grid acts as a root panel for the page that defines two rows:
    * Row 0 contains the back button and page title
    * Row 1 contains the rest of the page layout
-->
<Grid Background="{StaticResource ApplicationPageBackgroundThemeBrush}">
    <Grid.RowDefinitions>
        <RowDefinition Height="140"/>
        <RowDefinition Height="*"/>
    </Grid.RowDefinitions>

    <!-- Back button and page title -->
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Button x:Name="backButton" Click="GoBack" IsEnabled="{Binding Frame.CanGoBack, ElementName=pageRoot}" Style="{StaticResource BackButtonStyle}"/>
        <TextBlock x:Name="pageTitle" Text="{StaticResource AppName}" Grid.Column="1" Style="{StaticResource PageHeaderTextStyle}"/>
    </Grid>

    <!-- Horizontal scrolling grid used in most view states -->
    <ScrollViewer
        x:Name="itemGridScrollViewer"
        AutomationProperties.AutomationId="ItemGridScrollViewer"
        Grid.Row="1"
        Margin="0,-3,0,0"
        Style="{StaticResource HorizontalScrollViewerStyle}">

        <local:MyGridView
            x:Name="itemGridView"
            AutomationProperties.AutomationId="ItemGridView"
            AutomationProperties.Name="Grouped Items"
            Margin="116,0,40,46"
            ItemsSource="{Binding Source={StaticResource groupedItemsViewSource}}"
            ItemTemplate="{StaticResource CustomTileItem}"
            SelectionMode="None"
            IsItemClickEnabled="True"
            ItemClick="ItemView_ItemClick">

            <local:MyGridView.ItemsPanel>
                <ItemsPanelTemplate>
                    <VirtualizingStackPanel Orientation="Horizontal"/>
                </ItemsPanelTemplate>
            </local:MyGridView.ItemsPanel>
            <local:MyGridView.GroupStyle>
                <GroupStyle>
                    <GroupStyle.HeaderTemplate>
                        <DataTemplate>
                            <Grid Margin="1,0,0,6">
                                <Button
                                    AutomationProperties.Name="Group Title"
                                    Content="{Binding Title}"
                                    Click="Header_Click"
                                    Style="{StaticResource TextButtonStyle}"/>
                            </Grid>
                        </DataTemplate>
                    </GroupStyle.HeaderTemplate>
                    <GroupStyle.Panel>
                        <ItemsPanelTemplate>
                            <VariableSizedWrapGrid ItemWidth="75" ItemHeight="150" Orientation="Vertical" Margin="0,0,80,0" MaximumRowsOrColumns="3"/>
                        </ItemsPanelTemplate>
                    </GroupStyle.Panel>
                </GroupStyle>
            </local:MyGridView.GroupStyle>
        </local:MyGridView>
    </ScrollViewer> 
```

和：

```
public class MyGridView : GridView
{
    private int rowVal;
    private int colVal;
    private Random _rand;
    private List<Size> _sequence;

    public MyGridView()
    {
        _rand = new Random();
        _sequence = new List<Size> { 
            LayoutSizes.PrimaryItem, 
            LayoutSizes.SecondarySmallItem, LayoutSizes.SecondarySmallItem, 
            LayoutSizes.SecondarySmallItem, 
            LayoutSizes.SecondaryTallItem, 
            LayoutSizes.OtherSmallItem, LayoutSizes.OtherSmallItem, LayoutSizes.OtherSmallItem
        };

    }
    protected override void PrepareContainerForItemOverride(Windows.UI.Xaml.DependencyObject element, object item)
    {
        base.PrepareContainerForItemOverride(element, item);
        SampleDataItem dataItem = item as SampleDataItem;
        int index = -1;

        if (dataItem != null)
        {
            index = dataItem.Group.Items.IndexOf(dataItem);

        }

        if (index >= 0 && index < _sequence.Count)
        {

            colVal = (int)_sequence[index].Width;
            rowVal = (int)_sequence[index].Height;

        }
        else
        {
            colVal = (int)LayoutSizes.OtherSmallItem.Width;
            rowVal = (int)LayoutSizes.OtherSmallItem.Height;

        }

        VariableSizedWrapGrid.SetRowSpan(element as UIElement, rowVal);
        VariableSizedWrapGrid.SetColumnSpan(element as UIElement, colVal);

    }
}

public static class LayoutSizes
{
    public static Size PrimaryItem = new Size(6, 2);
    public static Size SecondarySmallItem = new Size(3, 1);
    public static Size SecondaryTallItem = new Size(3, 2);
    public static Size OtherSmallItem = new Size(2, 1);

} 
```

例如“Variable Sized Grouped GridView template”，我们可以组合行或列，以及如何设置第一个元素的height =“auto”，以及所有其他具有不同宽度和高度但分组为“Variable Sized Grouped”的元素GridView 模板”？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T20:48:47.960

查看这篇文章：http: [//blogs.msdn.com/b/synergist/archive/2012/09/25/windows-store-app-xaml-gridview-with-variable-templates.aspx](http://blogs.msdn.com/b/synergist/archive/2012/09/25/windows-store-app-xaml-gridview-with-variable-templates.aspx)

我认为这就是你所需要的。

# api - 如何使用 Google Places api 使用附近搜索请求按距离对结果进行排序

> ID：15785960
> 
> 赞同：1
> 
> 时间：2013-04-03T11:22:06.643
> 
> 标签：api, google-maps, google-places-api, google-places

我想按距离获取我位置附近的所有机场。我正在使用附近的搜索请求和谷歌地方 api 使用这个网址：[https](https://maps.googleapis.com/maps/api/place/nearbysearch/xml?location=51.9143924,-0.1640153&sensor=true&key=api_key&radius=50000&types=airport) : //maps.googleapis.com/maps/api/place/nearbysearch/xml?location=51.9143924,-0.1640153&sensor=true&key=api_key&radius=50000&types=airport我得到的结果很少，没有任何顺序。我试过 rankby=distance 但没有结果出现。并根据[https://developers.google.com/places/documentation/search#PlaceSearchRequests](https://developers.google.com/places/documentation/search#PlaceSearchRequests)文档“如果 rankby=distance”，则不得包含半径。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-12-27T21:05:57.427

是的，您不能在同一个请求中使用**radius**和**rankBy 。**但是您可以使用**`rankBy=distance`**然后根据`geometry.location.lat`and自己计算距离`geometry.location.lng`。例如在 groovy 中我已经这样做了：

`GeoPosition`和`Place`类是由我实现的，所以不要指望在核心库中找到它们:)

```
TreeMap<Double, Place> nearbyPlaces = new TreeMap<Double, Place>()

 if(isStatusOk(nearbySearchResponse))
                    nearbySearchResponse.results.each {

                def location = it.geometry.location
                String placeid = it.place_id
                GeoPosition position = new GeoPosition(latitude: location.lat,
                        longitude: location.lng)

                Place place =  new Place(position)

                double distance = distanceTo(place)
//If the place is actually in your radius (because Places API oftenly returns places far beyond your radius) then you add it to the TreeMap with distance to it as a key, and it will automatically sort it for you.

                if((distance <= placeSearcher.Radius()))
                    nearbyPlaces.put(distance, place)

            } 
```

其中距离是这样计算的（Haversine 公式）：

```
public double distanceTo(GeoPosition anotherPos){

    int EARTH_RADIUS_KM = 6371;
    double lat1Rad = Math.toRadians(this.latitude);
    double lat2Rad = Math.toRadians(anotherPos.latitude);
    double deltaLonRad = Math.toRadians(anotherPos.longitude - this.longitude);

    return 1000*Math.acos(
                        Math.sin(lat1Rad) * Math.sin(lat2Rad) +
                        Math.cos(lat1Rad) * Math.cos(lat2Rad) * Math.cos(deltaLonRad)
                    ) * EARTH_RADIUS_KM;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-01T05:29:18.233

你不能`radius`和`rankby`一起使用这就是问题所在

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-10-31T16:05:02.263

根据 2018 年 10 月，Google 已将初始位置添加为附近搜索的一部分，如下所示：

```
service.nearbySearch({
  location: place.geometry.location, //Add initial lat/lon here
  rankBy: google.maps.places.RankBy.DISTANCE,
  type: ['museum']
}, callback); 
```

上述代码将返回靠近按距离 asc 排序的指定位置的博物馆。在此处查找更多信息：[https ://developers.google.com/maps/documentation/javascript/examples/place-search](https://developers.google.com/maps/documentation/javascript/examples/place-search)

# selenium-webdriver - 在具有两个按钮的页面上单击了错误的按钮

> ID：15785962
> 
> 赞同：0
> 
> 时间：2013-04-03T11:22:12.717
> 
> 标签：selenium-webdriver

我正在使用 Selenium Webdriver 来测试网页。网页[http://www.leaseplan.nl/contact/index.asp](http://www.leaseplan.nl/contact/index.asp)有两个按钮，一个带有按钮文本“Zoeken”的按钮，一个带有按钮文本“Verstuur”的按钮。我想通过使用带有以下代码的 XPath 或 CssSelector 来单击带有按钮文本“Verstuur”的按钮：

```
driver.FindElement(By.XPath("/html/body/div[3]/div[2]/div[2]/form/fieldset/a/span")).Click();
driver.FindElement(By.CssSelector("fieldset.contact_form > a.button > span.button_center")).Click(); 
```

但是使用上述任一代码行，在带有文本“Zoeken”的按钮上被点击。

这个按钮有一个非常相似的 CssSelector 和 XPath：

```
fieldset.header_search a.button span.button_center

/html/body/div[3]/div/form/fieldset/a/span[2] 
```

有谁知道如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T12:20:45.557

用 cssSelector 试试这个，告诉我它是否有效。对于“verstuur”：

`By.cssSelector("div.content form a.button")`

**解决方案 ：**

好的，我找到了你的问题。您的 xpath 很好，但是现在，您在单击时的操作提交了第一个表单，因此该表单带有“Zoeken”。

```
onclick="document.forms[0].submit();" // submit the 1st form, the bad one ! 
```

尝试这个 ：

```
onclick="document.forms["form"].submit();" // submit the 2nd form, the good one !
//or
onclick="document.forms[1].submit();" 
```

证明：[Jsfiddle](http://jsfiddle.net/bwhu4/3/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T12:39:27.157

ZOEKEN 的 xpath`/html/body/div[3]/div/form/fieldset/a/span[2]`

VERSTUUR 的 xpath`/html/body/div[3]/div[2]/div[2]/form/fieldset/a/span[2]`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T12:48:43.857

尝试这个：

```
driver.FindElement(By.XPath("//span[text()='Verstuur']")).click(); 
```

编辑：

我认为您想学习 Selenium，这就是您使用 3rd 方网站的原因。如果你真的想学习 Selenium，可以找一些开源应用程序来自动化。这是一个很好的自动化应用程序 - [http://sourceforge.net/projects/sugarcrm/files/1%20-%20SugarCRM%206.5.X/FastStack/](http://sourceforge.net/projects/sugarcrm/files/1%20-%20SugarCRM%206.5.X/FastStack/)

下载最新版本并安装。

在此处查找有关该网站和硒的更多信息。它是那么好..

[http://selftechy.com/2011/02/05/introduction-to-selenium-web-application-test-automation-tool](http://selftechy.com/2011/02/05/introduction-to-selenium-web-application-test-automation-tool)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-10T12:09:12.517

佐肯：`driver.findElement(By.xpath("//div[1]/form/fieldset/a/span[2]")).click();`

维斯图尔：`driver.findElement(By.xpath("//div[2]/form/fieldset/a/span[2]")).click();`

使用 xpath 很容易但很慢。

# c# - 用于网络摄像头的 Aforge

> ID：15785965
> 
> 赞同：0
> 
> 时间：2013-04-03T11:22:22.530
> 
> 标签：c#, aforge

我用两个按钮和一个图片框编写了一个访问网络摄像头的代码

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using AForge.Imaging;
using AForge.Imaging.Filters;
using AForge.Video;
using AForge.Video.DirectShow;

namespace cam
{
public partial class Form1 : Form
{

    public Form1()
    {
        InitializeComponent();
    }
    private FilterInfoCollection webcam;
    private VideoCaptureDevice cam;
    Bitmap bitmap;

    private void Form1_Load(object sender, EventArgs e)
    {
        webcam = new FilterInfoCollection(FilterCategory.VideoInputDevice);
        foreach (FilterInfo VideoCaptureDevice in webcam)
        {
            comboBox1.Items.Add(VideoCaptureDevice.Name);

        }
        comboBox1.SelectedIndex = 0;
      }

    private void button1_Click(object sender, EventArgs e)
    {
        cam = new VideoCaptureDevice(webcam[comboBox1.SelectedIndex].MonikerString);
        cam.NewFrame += new NewFrameEventHandler(cam_NewFrame);
        cam.Start();

    }
    void cam_NewFrame(object sender, NewFrameEventArgs eventArgs)
    {
        Bitmap bitmap = (Bitmap)eventArgs.Frame.Clone();

        pictureBox1.Image = bitmap;
    }

    private void button3_Click(object sender, EventArgs e)
    {
        if (cam.IsRunning)
        {
            cam.Stop();
        }
    }

    private void pictureBox1_Click(object sender, EventArgs e)
    {
        pictureBox1.Image = bitmap;
    }

    }

 } 
```

代码构建成功。但是在调试图片框时不起作用。启动和停止工作正常。任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-16T13:09:59.483

你必须先删除

```
Bitmap bitmap; 
```

因为它是空的，而且你在图片框中显示的不是来自相机的图片

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-10-20T22:04:47.160

很久以前，我在使用 aforge 时也遇到了问题，但可以在这里查看我的代码：[如何初始化 AForge 网络摄像头](https://stackoverflow.com/questions/12925021/how-initialize-aforge-webcam/12966093#12966093)

# excel - 如何在导入过程中将行转换为列？

> ID：15785971
> 
> 赞同：2
> 
> 时间：2013-04-03T11:22:41.357
> 
> 标签：excel

我使用以下方法导入了一个简单的文本文件：

```
 Excel->from text->cancel 
```

然后我发现我有 2 行和 100 列。实际上，它们应该是100行和两列。在导入过程中是否需要转置文件，因为我不想导入它们然后转置。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T11:37:29.073

AFAIK，在导入数据时，**无法**以**任何内置方式转置数据。**

导入数据后，您必须转置数据。将宏记录为上面评论中建议的@SkipIntro。

话虽如此，还有一个混乱的选择。将数据导入数组，然后按照您想要的方式写入 Excel 文件。为此，您将不得不使用 VBA。

这是一个例子。

假设我们的文本文件看起来像这样

![在此处输入图像描述](https://i.stack.imgur.com/5G09X.png)

您可以使用此代码一次性读取数组中的整个文本文件。

```
Dim MyData As String, strData() As String

Open "C:\Sample.Txt" For Binary As #1
MyData = Space$(LOF(1))
Get #1, , MyData
Close #1
strData() = Split(MyData, vbCrLf) 
```

现在您可以遍历整个数组`strData`并拆分数据，然后最后写入 excel 表的相关部分

# android - 进度对话框未显示在列表视图中的按钮单击事件中

> ID：15785974
> 
> 赞同：0
> 
> 时间：2013-04-03T11:22:44.207
> 
> 标签：android, android-listview, onclick, progressdialog, onclicklistener

我在列表视图的每个列表项中都有一个按钮。在那个按钮单击事件中，我有一些代码要运行。在单击事件中，我在代码运行之前显示进度对话框。但它没有得到显示。在单击事件中的所有代码完成后，将显示结束进度对话框。请帮助我。

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity1);

    TheListViewM = (ListView) findViewById(R.id.lvItems);
    ImageAdapter anImageAdapterM =new ImageAdapter(this);
    TheListViewM.setAdapter(anImageAdapterM);

}

public class ImageAdapter extends BaseAdapter {
    private Context mContextL;

    public ImageAdapter(Context contextP) {
        mContextL = contextP;
    }

    public int getCount() {
        return ItemList.GetLength();
    }

    public Object getItem(int PositionP) {
        return ItemList.GetObject(PositionP);
    }

    public long getItemId(int PositionP) {
        return PositionP;
    }

    public View getView(final int PositionP, View ConvertViewP, ViewGroup ParentP) {

        if (ConvertViewP == null) {
            LayoutInflater inflater = (LayoutInflater) mContextL.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            ConvertViewP = inflater.inflate(R.layout.add_cart_row_layout, ParentP, false);
        }
        TextView textView1 = (TextView) ConvertViewP.findViewById(R.id.tvName);
        textView1.setText("asdfg");
        final Spinner spQuantity = (Spinner) ConvertViewP.findViewById(R.id.spQuantity);

        spQuantity.setOnItemSelectedListener(new OnItemSelectedListener() {

            @Override
            public void onItemSelected(AdapterView<?> Parent, View view,
                    int pos, long id) {

                    ProgressDialog aProgressDialogL = new ProgressDialog(mContextL);
                    aProgressDialogL.setMessage("Loading...");
                    aProgressDialogL.show();

                    //Processiing codes
                }

            }
            @Override
            public void onNothingSelected(AdapterView<?> arg0) {
                // TODO Auto-generated method stub
            }
        });
        ArrayAdapter<String> QuantityAdapter1 = new ArrayAdapter<String>(mContextL,android.R.layout.simple_spinner_item, QuantityList);

        QuantityAdapter1.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
        spQuantity.setAdapter(QuantityAdapter1);

        Button btn1 = (Button) ConvertViewP.findViewById(R.id.btn1);
                    btn1.setOnClickListener(new View.OnClickListener() {
                        public void onClick(View v) {

                            ProgressDialog aProgressDialogL = new ProgressDialog(activity1.this);

                            aProgressDialogL.setMessage("Loading...");
                            aProgressDialogL.show();        }
                    });

                    return ConvertViewP;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:31:03.510

试试这个。

```
public class ImageAdapter extends BaseAdapter {
private Context mContextL;

public ImageAdapter(Context contextP) {
    mContextL = contextP;
}

public int getCount() {
    return ItemList.GetLength();
}

public Object getItem(int PositionP) {
    return ItemList.GetObject(PositionP);
}

public long getItemId(int PositionP) {
    return PositionP;
}

class ViewHolder {
    Button btn1;
    TextView textView1;
    Spinner spQuantity;
}

public View getView(final int PositionP, View ConvertViewP, ViewGroup ParentP) {

    ViewHolder holder;

    if (ConvertViewP == null) {

        holder = new ViewHolder();
        LayoutInflater inflater = (LayoutInflater) mContextL.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        ConvertViewP = inflater.inflate(R.layout.add_cart_row_layout, ParentP, false);
        holder.textView1 = (TextView) ConvertViewP.findViewById(R.id.tvName);
        holder.spQuantity = (Spinner) ConvertViewP.findViewById(R.id.spQuantity);
        holder.btn1 = (Button) ConvertViewP.findViewById(R.id.btn1);

        ConvertViewP.setTag(holder);
    }
    else{
        holder = (ViewHolder) ConvertViewP.getTag();
    }
    holder.textView1.setText("asdfg");

    holder.spQuantity.setOnItemSelectedListener(new OnItemSelectedListener() {

        @Override
        public void onItemSelected(AdapterView<?> Parent, View view,
                int pos, long id) {

                ProgressDialog aProgressDialogL = new ProgressDialog(mContextL);
                aProgressDialogL.setMessage("Loading...");
                aProgressDialogL.show();

                //Processiing codes

        }
        @Override
        public void onNothingSelected(AdapterView<?> arg0) {
            // TODO Auto-generated method stub
        }
    });

    ArrayAdapter<String> QuantityAdapter1 = new ArrayAdapter<String>(mContextL,android.R.layout.simple_spinner_item, QuantityList);

    QuantityAdapter1.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
    holder.spQuantity.setAdapter(QuantityAdapter1);

               holder.btn1.setOnClickListener(new View.OnClickListener() {
                    public void onClick(View v) {

                        ProgressDialog aProgressDialogL = new ProgressDialog(activity1.this);

                        aProgressDialogL.setMessage("Loading...");
                        aProgressDialogL.show();        }
                });

                return ConvertViewP;
}
} 
```

# ant - ant scp 任务不适用于耳朵

> ID：15785975
> 
> 赞同：0
> 
> 时间：2013-04-03T11:22:46.093
> 
> 标签：ant

我正在尝试使用 ant scp 任务将我的本地耳朵 scp 到远程服务器。当我尝试 scp 单个文件时，这工作正常。但是当我尝试 scp ear 时，它只显示“[scp] Connecting to 192.168.1.44:22”但根本没有响应。

这些是我的 2 个蚂蚁目标，

1.)

```
<target name="copy_to_remote_folder">
    <scp todir="krish@192.168.1.44:/test/jboss-4.0.3SP1/server/default/deploy" password="123456" port="22">
        <fileset dir="${ant.local.ear.dir}/testPro.war"/>
    </scp>
<target> 
```

2.)

```
<target name="copy_to_remote_file">
    <scp file="${ant.local.ear.dir}/test.xml" todir="krish@192.168.1.44:/test/jboss-4.0.3SP1/server/default/deploy" password="123456"/>
</target> 
```

copy_to_remote_file 目标工作正常，而 copy_to_remote_folder 不工作。

这可能是什么原因？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T18:36:56.970

WAR 或 EAR 是单个文件。这条线...

```
<fileset dir="${ant.local.ear.dir}/testPro.war"/> 
```

……没有意义。该`dir`属性应用于指定路径，即包含您在集合中包含的文件的基本路径。相反，您将其指向特定文件。尝试这个...

```
<target name="copy_to_remote_folder">
  <scp todir="krish@192.168.1.44:/test/jboss-4.0.3SP1/server/default/deploy" password="123456" port="22">
    <fileset dir="${ant.local.ear.dir}">
      <include name="*.war" />
    </fileset>
  </scp>
<target> 
```

...或者只使用您的 copy_to_remote_file 目标。

# forms - rails 3.2在发送表单时检查隐藏字段是否具有值

> ID：15785979
> 
> 赞同：0
> 
> 时间：2013-04-03T11:22:53.750
> 
> 标签：forms, validation, ruby-on-rails-3.2

我在表单内部有一个隐藏字段，提交表单时该字段必须为空。

是否有任何值，我想在数据库列中设置一个标志。

我如何实现检查该隐藏字段的值是否未填充？这是控制器或模型的问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:30:41.150

这是控制器的问题。`create`您想在and操作中检查该字段的值`update`并存储您想要存储的内容。

# macos - 如何使用终端删除除文件夹名称 X 之外的所有子文件夹

> ID：15785981
> 
> 赞同：0
> 
> 时间：2013-04-03T11:22:55.097
> 
> 标签：macos, shell, terminal, directory

使用终端删除文件夹名称为 X 和 Y 的所有子文件夹的最佳方法是什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T21:00:22.540

```
find . -mindepth 1 -d -type d ! -name X -a ! -name Y -exec rm -r {} \+ 
```

`mkdir d; touch d/f; find . -name d -delete`似乎不起作用。

`-mindepth 1 and -d`至少在 OS X 上是可选的。没有`-mindepth -1`像`rm: "." and ".." may not be removed`. 没有`-d`rm 会在删除其父文件夹后尝试删除子文件夹。

[{} 不必转义](https://unix.stackexchange.com/questions/68647/quoting-curly-braces-in-the-shell)。

如果所有目录都在当前目录下：

```
shopt -s extglob
rm -r !(X|Y)/ 
```

# python - Python覆盖没有setter的getter

> ID：15785982
> 
> 赞同：32
> 
> 时间：2013-04-03T11:22:58.553
> 
> 标签：python, oop, properties, setter, getter

```
class human(object):
    def __init__(self, name=''):
        self.name = name

    @property
    def name(self):
        return self._name

    @name.setter
    def name(self, value):
        self._name = value

class superhuman(human):
    @property
    def name(self):
        return 'super ' + name

s = superhuman('john')
print s.name

# Doesn't work :( "AttributeError: can't set attribute"
s.name = 'jack'
print s.name 
```

我希望能够覆盖该属性，但能够使用超级父级的设置器，而不必覆盖子类中的设置器。

这可能吗？

* * *

## 回答 #1

> 赞同：48
> 
> 时间：2013-04-03T11:30:21.273

*仅*使用`.getter`原始属性的装饰器：

```
class superhuman(human):
    @human.name.getter
    def name(self):
        return 'super ' + self._name 
```

请注意，您必须使用全名才能访问父类上的原始属性描述符。

示范：

```
>>> class superhuman(human):
...     @human.name.getter
...     def name(self):
...         return 'super ' + self._name
... 
>>> s = superhuman('john')
>>> print s.name
super john
>>> s.name = 'jack'
>>> print s.name
super jack 
```

描述`property`符对象只是*一个*对象，尽管它可以有多个与之关联的方法（getter、setter 和 deleter）。现有描述符提供的`.getter`,`.setter`和装饰器函数返回描述符本身的副本，并替换该特定方法。`.deleter``property`

因此，在您的`human`基类中，您首先使用装饰器*创建*描述符`@property`，然后将该描述符替换为同时具有 getter 和 setter`@name.setter`语法的描述符。之所以有效，是因为 python 装饰器用相同的名称替换了原始装饰函数，它基本上执行`name = name.setter(name)`. 请参阅[@property 装饰器如何工作？](https://stackoverflow.com/questions/17330160/how-does-the-property-decorator-work)有关这一切如何运作的详细信息。

在您的子类中，您只需使用该技巧创建描述符的新副本，只需替换 getter。

# java - jsp中的Java类

> ID：15785985
> 
> 赞同：0
> 
> 时间：2013-04-03T11:23:15.143
> 
> 标签：java, class, jsp, liferay, portlet

所以我不知道如何正确导入 java 类。我正在使用eclipse tomcat 7和liferay。在 liferay 中是一个包含 img 文件的目录，我将使用 java 打开该目录。这很好用（本地），我得到一个带有路径的数组。所以我将在 jsp 中的 liferay 中创建一个 portlet，并在 jsp 中获取数组。有任何想法吗？我的jsp：

```
<%@ page import ="OpenDir" %>
<%@ page import="java.io.File"%> 
```

```
<%=
    OpenDir.Dir()
%> 
```

我的爪哇：

```
package life_ray;

import java.io.File;

public class OpenDir {

    public static void Dir() {

        int i = 0;
        File directory = new File(
                "C:\\Users\\Public\\Pictures\\Sample Pictures\\");
        File[] contents = directory.listFiles();
        for (File f : contents) {
            f.getAbsolutePath();
            i++;
        }
        String[] name = new String[i];

        i = 0;
        for (File f : contents) {
            name[i] = f.getAbsolutePath();
            i++;
        }
        i = 0;
        for (File f : contents) {
            name[i] = f.getAbsolutePath();
            System.out.println("<img src=\"" + name[i] + "\" alt=\"\">");
            i++;
        }

    }
}

so here is my error:
Caused by: org.apache.jasper.JasperException: Unable to compile class for JSP: 

An error occurred at line: 14 in the generated java file
Only a type can be imported. life_ray.OpenDir resolves to a package

An error occurred at line: 7 in the jsp file: /view.jsp
OpenDir cannot be resolved
4: <body>
5: 
6:  <%=
7:      OpenDir.Dir()
8:  %>
9: 
10: 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T11:34:09.027

按照已经给出的答案，开始重构代码可能是有意义的：

爪哇：

```
package life_ray;

import java.io.File;
import javax.servlet.jsp.JspWriter;

public class OpenDir {

    public static File[] listSamplePictures() {
        File f = new File("C:\\Users\\Public\\Pictures\\Sample Pictures\\");
        return f.listFiles();
    }

    public static void printSamplePictures(JspWriter w) {
        File[] files = listSamplePictures();
        for (int i = 0; i < files.length; i++) {
            w.println("<img src=\"" + files[i].getAbsolutePath() + "\" alt=\"\">");
        }
    }

} 
```

JSP：

```
<%
    java.io.File[] files = life_ray.OpenDir.listSamplePictures();
    for (int i = 0; i < files.length; i++) {
        out.println("<img src=\"" + files[i].getAbsolutePath() + "\" alt=\"\">");
    }
%> 
```

或者

```
<%
    life_ray.OpenDir.printSamplePictures(out);
%> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-03T11:28:00.937

`System.out.println()`将在您的标准输出中打印消息（这将是服务器日志或您启动服务器的控制台）。`HttpServletResponse.getWriter()`如果您希望在网页中显示，您需要使用打印的东西。

但是，您所展示的是一种非常奇怪的方式来编写 Java Web 应用程序并使用 JSP...

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-03T11:26:12.733

你的类`OpenDir`驻留在一个名为`life_ray`. 因此，您需要将导入更改为

```
<%@ page import ="life_ray.OpenDir" %> 
```

不过，我不建议在包名称中使用下划线。

**编辑：**

此外，您正在尝试输出该`Dir()`方法的值，该值是无效的，因此除了在日志文件中之外，您不会得到任何输出。正如另一个答案中提到的，您的模式是编写 Web 应用程序的一种奇怪方式。

# wpf - 带有 Treeview 上下文菜单的 Caliburn Micro

> ID：15785987
> 
> 赞同：3
> 
> 时间：2013-04-03T11:23:18.727
> 
> 标签：wpf, caliburn.micro

我使用 Caliburn Micro 将我的分层树视图完美地绑定到我的 ViewModel。（ViewModel 有一个 Items 属性，它返回一个 ObservableCollection - 树视图被命名为这个 Items 属性 - 绑定没有问题）。

但是，问题出现在上下文菜单中。菜单在树节点表示的对象的实例上触发一个方法。我想要实现的是让菜单在我的根 ViewModel 上触发一个方法，将由单击的树节点表示的对象的实例作为参数传递给它。这是我的 XAML：

```
<HierarchicalDataTemplate DataType="{x:Type m:TaskGrouping}" 
                                      ItemsSource="{Binding Children}">
                    <Label Content="{Binding Name}"
                           FontWeight="Bold">
                        <Label.ContextMenu>
                            <ContextMenu>
                                <MenuItem Header="Add New SubFolder"
                                          cal:Message.Attach="AddNewSubfolder" />
                                <MenuItem Header="Remove this folder"
                                          cal:Message.Attach="RemoveFolder" />
                            </ContextMenu>
                        </Label.ContextMenu>
                    </Label>
                </HierarchicalDataTemplate> 
```

为了实现我想要的，我需要对我的 XAML 进行哪些更改？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-03T14:14:08.820

`ContextMenus`与其他所有东西都位于一个单独的视觉树中 - 使绑定正确可能会很痛苦（我经常有 10-15 分钟的时间与它们上的绑定进行斗争以使它们正确！）

您已经`Message.Attach`设置了附加属性，您需要做的就是确保操作目标指向 VM 而不是数据项。您可以使用`Action.TargetWithoutContext`来指定操作的目标（CM 将使用`DataContext`）

您还需要获得一个指向另一个可视化树的绑定路径 - 尝试使用`RelativeSource`绑定 -`ContextMenu`还有一个名为的属性`PlacementTarget`，它应该指向`ContextMenu`附加到的元素

所以可能：

```
cal:Action.TargetWithoutContext="{Binding DataContext, RelativeSource={RelativeSource AncestorType=Label}}" 
```

或者

```
cal:Action.TargetWithoutContext="{Binding PlacementTarget.DataContext}" 
```

您可能需要进行实验，因为我经常第一次就*几乎正确！*

OP（Shawn）编辑：这最终对我有用：

```
<Label Content="{Binding Name}"
                               Tag="{Binding DataContext, ElementName=LayoutRoot}">
                            <Label.ContextMenu>
                                <ContextMenu
                                    cal:Action.TargetWithoutContext="{Binding PlacementTarget.Tag, RelativeSource={RelativeSource Self}}">
                                    <MenuItem Header="Run Task Now" cal:Message.Attach="SomeRootViewModelMethod($dataContext)" /> 
```

# javascript - 如何获得像 MS Excel 这样的 Javascript F2 按钮行为

> ID：15785988
> 
> 赞同：5
> 
> 时间：2013-04-03T11:23:20.887
> 
> 标签：javascript

部分 Html 代码

```
 <td><input type="text" name="date1" id="date1" value="<?php echo $_POST['date1']?>" size="1"></td>
    <td><input type="text" name="amount1" id="amount1" size="5"></td> 
```

这是 javascript

```
<script>
$(document).ready(function(){
$('input').keyup(function(e){
if(e.which==39)
$(this).closest('td').next().find('input').focus();
else if(e.which==37)
$(this).closest('td').prev().find('input').focus();
else if(e.which==40)
$(this).closest('tr').next().find('td:eq('+$(this).closest('td').index()+')').find('input').focus();
else if(e.which==38)
$(this).closest('tr').prev().find('td:eq('+$(this).closest('td').index()+')').find('input').focus();
});
});
</script> 
```

当我单击输入字段 date1 并按导航键右箭头时，我进入输入字段 amount1。那没问题。

例如，如果在字段 amount1 中我输入了错误的金额并想要更正它，我尝试按导航键左箭头并想要转到必要的字符。但是我可以输入字段 date1。

**问题。**什么是 javascript 代码来获得类似 MS Excel 的行为（如果按 F2 然后向左/向右箭头键我向左/向右移动一个字符；如果按 Esc 键然后向左/向右箭头键我移动到下一个输入字段）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-28T13:34:05.037

所以我使用了一个类和只读属性。代码完整注释如下：

```
$("input").on("click", function (event) {
    //If clicked, remove '.selected' from whoever currently has it as well as add readonly (in case someone clicks on another before pressing Enter or Esc to finish edit).
    $(".selected").removeClass("selected").attr('readonly', 'readonly');
    $(this).addClass("selected").focus(); //Add selected to the clicked one
}).keydown(function (event) {
    var key = event.keyCode || event.which;
    console.log(key);

    //If it's readonly, then you can move around
    if ($(this).attr('readonly') == "readonly") {
        if (key == 39) $(this).removeClass("selected").closest('td').next().find('input').addClass("selected").focus();
        else if (key == 37) $(this).removeClass("selected").closest('td').prev().find('input').addClass("selected").focus();
        else if (key == 40) $(this).removeClass("selected").closest('tr').next().find('td:eq(' + $(this).closest('td').index() + ')').find('input').addClass("selected").focus();
        else if (key == 38) $(this).removeClass("selected").closest('tr').prev().find('td:eq(' + $(this).closest('td').index() + ')').find('input').addClass("selected").focus();
    }

    //If F2 was pressed
    if (key == 113) { //F2
        //Remove readonly, allow to be edited and block moving arrows (you ca use arrows to navigate through letters, like a normal input
        $(this).prop('onclick', null).removeAttr('readonly');
    } else if (key == 13 || key == 27) { //ENTER or ESC
        //Put readonly back, allow to move around
        $(this).attr('readonly', 'readonly');
    }

}); 
```

点击一个以选择它，您可以四处移动。F2 使输入可编辑，箭头作为输入的默认设置。单击另一个表，按 Enter 或 ESC 都将输入恢复为只读，移动箭头再次起作用。

[见演示@jsFiddle](http://jsfiddle.net/RaphaelDDL/uLqh4/)

# ruby-on-rails - 生产环境中rails 4的问题

> ID：15785992
> 
> 赞同：0
> 
> 时间：2013-04-03T11:23:32.850
> 
> 标签：ruby-on-rails, ruby-on-rails-4

我从头开始创建了一个新的 rails 4beta1 应用程序（ruby 2.0），当我在开发模式下启动 de 服务器时它运行良好，但是当我在生产环境中尝试时却没有。

我已经尝试在文件中运行`bundle exec rake assets:precompile RAILS_ENV=production`并将其更改`config.serve_static_assets`为 true，`config/environments/production`但仍然出现错误：

```
=> Booting WEBrick
=> Rails 4.0.0.beta1 application starting in production on http://0.0.0.0:3000
=> Call with -d to detach
=> Ctrl-C to shutdown server
[2013-04-03 11:53:46] INFO  WEBrick 1.3.1
[2013-04-03 11:53:46] INFO  ruby 2.0.0 (2013-02-24) [x86_64-darwin12.2.0]
[2013-04-03 11:53:46] INFO  WEBrick::HTTPServer#start: pid=13848 port=3000
I, [2013-04-03T11:53:50.521162 #13848]  INFO -- : Started GET "/" for 127.0.0.1 at 2013-04-03 11:53:50 +0100
F, [2013-04-03T11:53:50.695426 #13848] FATAL -- : 
ActionController::RoutingError (No route matches [GET] "/"):
  actionpack (4.0.0.beta1) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (4.0.0.beta1) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.0.0.beta1) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.0.0.beta1) lib/rails/rack/logger.rb:21:in `block in call'
  activesupport (4.0.0.beta1) lib/active_support/tagged_logging.rb:67:in `block in tagged'
  activesupport (4.0.0.beta1) lib/active_support/tagged_logging.rb:25:in `tagged'
  activesupport (4.0.0.beta1) lib/active_support/tagged_logging.rb:67:in `tagged'
  railties (4.0.0.beta1) lib/rails/rack/logger.rb:21:in `call'
  actionpack (4.0.0.beta1) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.5.2) lib/rack/methodoverride.rb:21:in `call'
  rack (1.5.2) lib/rack/runtime.rb:17:in `call'
  activesupport (4.0.0.beta1) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  actionpack (4.0.0.beta1) lib/action_dispatch/middleware/static.rb:64:in `call'
  railties (4.0.0.beta1) lib/rails/engine.rb:510:in `call'
  railties (4.0.0.beta1) lib/rails/application.rb:96:in `call'
  rack (1.5.2) lib/rack/lock.rb:17:in `call'
  rack (1.5.2) lib/rack/content_length.rb:14:in `call'
  rack (1.5.2) lib/rack/handler/webrick.rb:60:in `service'
  /Users/jbatista/.rvm/rubies/ruby-2.0.0-p0/lib/ruby/2.0.0/webrick/httpserver.rb:138:in `service'
  /Users/jbatista/.rvm/rubies/ruby-2.0.0-p0/lib/ruby/2.0.0/webrick/httpserver.rb:94:in `run'
  /Users/jbatista/.rvm/rubies/ruby-2.0.0-p0/lib/ruby/2.0.0/webrick/server.rb:295:in `block in start_thread' 
```

**网页错误：**

![在此处输入图像描述](https://i.stack.imgur.com/Qhuif.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T21:54:22.337

在 Rails 4.0 中，由于技术原因，默认的 Rails 页面在生产环境中不起作用，这包括任何服务器（如 heroku）。好消息是，当您开始添加控制器、设置路由等时，错误就会消失......

刚开始开发，你会没事的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T14:52:08.970

看起来你也需要像这样定义根`config/routes.rb` 路由

```
MyApp::Application.routes.draw do
root :to => "MyApp#index"
end 
```

其中`MyApp`是指您的应用程序名称。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T14:27:08.110

在`config/environments/production.rb`serve_static_assets 中应该是假的，因为在生产中他们的服务器会处理它们。

```
config.serve_static_assets = false 
```

此外，您**不应该**在生产中使用 WEBrick，它应该只在开发中使用。以[瘦身](http://code.macournoyer.com/thin/)为例。

![在此处输入图像描述](https://i.stack.imgur.com/9DsG3.png)

基本上，添加`gem 'thin'`到我们的 Gemfile。

# html - 出现多个标题

> ID：15785994
> 
> 赞同：0
> 
> 时间：2013-04-03T11:23:35.210
> 
> 标签：html, mysql, css

这应该是一个简单的高分表。但每次它从数据库中拉出另一个玩家时，它看起来像这样。

（表头）

播放器

（表头）

播放器

（表头）

播放器

依此类推，您会看到图片...我希望它只在玩家列表的顶部显示一次标题...我曾经让它工作过一次，但不记得我更改了什么导致它这样做，有人知道如何解决吗？

这是我的代码：

```
<?php
$result = mysql_query("SELECT * FROM users ORDER BY explores DESC LIMIT 20;")  
or die(mysql_error());  
while($row = mysql_fetch_array( $result )) {
?>

<table class="reg-box" style="width: 600px; text-align: center;" align="center" cellspacing="5">
<tbody>
<tr> 
<th colspan="2">Trainer</th> 
<th colspan="2">Explores</th>
</tr>
<tr>
<td colspan="2"><?php echo "<a href=viewprofile.php?user=".$row['username'].">".$row['username']."</a>"; ?></td>
<td colspan="2"> <?php echo $row['explores']; ?></td>
</tr> 
</tbody>
</table>
<?php } ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:27:13.860

您的代码的问题是表是在循环中创建的，导致多个标题。而是从 while 循环中删除表的创建，然后尝试更新从循环中触发的查询中获得的所有结果集。试试这个。

```
$result = mysql_query("SELECT * FROM users ORDER BY explores DESC LIMIT 20;")  
or die(mysql_error());  
?>
<table class="reg-box" style="width: 600px; text-align: center;" align="center" cellspacing="5">
<tbody>
<tr> 
<th colspan="2">Trainer</th> 
<th colspan="2">Explores</th>
</tr>
<?php
while($row = mysql_fetch_array( $result )) {
<tr>
<td colspan="2"><?php echo "<a href=viewprofile.php?user=".$row['username'].">".$row['username']."</a>"; ?></td>
<td colspan="2"> <?php echo $row['explores']; ?></td>
</tr> 
<?php } ?>
</tbody>
</table> 
```

# wix - 使用外部主题的 BURN 用户界面

> ID：15785998
> 
> 赞同：1
> 
> 时间：2013-04-03T11:23:54.710
> 
> 标签：wix, bootstrapper, burn

我创建了一个引导程序，在安装所需组件之前检查注册表和 UI 组件。

我有一个问题，我使用的是外部主题，我想显示我的应用程序的 BULK（关于 pre 和 post requites 的大量数据）。我需要在安装页面上显示信息。即使是滚动条也可以工作，即使用标签但滚动条的批量数据。

这里重要的是（我使用的是外部主题），所以我有一个用于界面的 XML。

您能否举个例子，说明如何在 Bootstraper 应用程序中显示大量信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T12:43:08.173

您需要编写一个自定义引导程序应用程序来表示您的数据。wixstdba 中没有任何东西可以满足这些要求。您可以在本机或托管代码中编写自定义 BA，并使用您想要显示 UI 的所有 UI 小部件，无论哪种方式最适合您的需求。您可以看到 WiX 工具集安装程序的 UI 是非常自定义的（尽管它更多地表明您可以做一些与实际用途完全不同的事情:)。

# javascript - 我的逻辑方向是否正确？

> ID：15785999
> 
> 赞同：1
> 
> 时间：2013-04-03T11:23:58.857
> 
> 标签：javascript, recursion, iteration

假设我的 HTML 中某处有以下元素：

```
<div class="container">
    <div class="box first">I have a height of 100</div>
    <div class="box">I have a height of 200</div>
    <div class="box last">I have a height of 300</div>
</div>
<div class="container">
    <div class="box first">I have a height of 50</div>
    <div class="box">I have a height of 60</div>
    <div class="box last">I have a height of 40</div>
</div> 
```

设置每个盒子的高度以匹配其容器内最高的盒子的正确逻辑是什么？

我的想法是这样的：

1.  对于文档中的每个元素，检查它是否具有类“容器”
2.  对于“容器”的每个子元素，检查它是否具有类“盒子”
3.  如果是，则将其引用添加到数组并将其高度与包含最后检查元素高度的变量进行比较，如果大于则将其分配给变量
4.  将数组中每个元素的高度设置为高度的值

...我在正确的道路上吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:57:44.203

看看这个..

1.  获取类名为“容器”的元素

    ```
    var container = document.getElementsByClassName('container'); 
    ```

2.  对于每个容器

    1.  使用 'div' 元素

        ```
        var box_div = container[index].getElementsByTagName('div'); 
        ```

        或者

        ```
        var box_div = container[index].getElementsByClassName('box'); 
        ```

    2.  检查 div 的最大高度

    3.  将最大高度设置为所有其他 div