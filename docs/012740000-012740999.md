# StackOverflow 问答 12740000-12740999

# c# - 浏览器cookies和C#cookies有关系吗

> ID：12740009
> 
> 赞同：2
> 
> 时间：2012-10-05T05:26:07.810
> 
> 标签：c#, cookies

任何机构都可以向我解释以下问题的答案。如果这些太愚蠢，请原谅。

1）。如果我们在网页上设置 cookie，cookie 将作为文本文件存储在我们的 PC 上。如果我们从 C# 应用程序 (HttpWebRequest) 设置一个 cookie，是否会像浏览器行为一样创建任何文件？

2）。会说我已经使用我的网络浏览器浏览了某个域（例如：www.google.com），并且在我浏览时设置了一些 cookie。然后我开始使用我的 C# windows 应用程序并使用 HttpWebRequest 形成它发送到该域（www.google.com）的请求的应用程序。

我的问题是天气cookie（在我浏览时设置）将与该请求一起发送。

先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T05:32:27.173

您的 C# 程序不会创建 cookie。只有客户端浏览器可以。您的程序所做的是向浏览器发送一个 HTTP 标头，指示它在运行它的计算机中创建 cookie。

当您使用`HttpWebRequest`时，它不会发送您的程序先前设置并提交给客户端计算机的 cookie，因为您的 C# 程序是一种独特的“浏览器”。它只会发送您为该对象设置的 cookie。

# ios - 使用 Apple ID 登录

> ID：12740011
> 
> 赞同：3
> 
> 时间：2012-10-05T05:26:22.043
> 
> 标签：ios, iphone

我想将“**使用 Apple Id 登录**”与（使用 Facebook 或 Twitter 登录）相同。那么是否有任何 Api 可以给我 Apple ID。或者有没有可能？. 谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T05:34:02.540

虽然这是不可能的（我认为这是合法的方式）。这不是我们所说的社交网站，所以我认为 Apple 不会允许这样做。如果您在这里提出问题会更好：- [Apple 支持社区](https://discussions.apple.com/index.jspa)

希望你能从那里得到一些帮助:)....

# asp.net-mvc - 我在哪里可以维护 MVC 中的详细零件数据？

> ID：12740012
> 
> 赞同：0
> 
> 时间：2012-10-05T05:26:30.563
> 
> 标签：asp.net-mvc, asp.net-mvc-4

目前我正在开发一个 mvc4 应用程序，其中有一个 Header 和 Detail。标头可能有多个详细信息。例如我的详细信息部分是联系方式。

因为我可以添加多个联系人，而当前添加联系人时我将这些值保存在会话中。当我保存标题部分时，我从会话中获取详细信息并将对象分配给标题，然后保存到数据库中。

所以我的问题是我可以在哪里维护 MVC 中的细节部分？

# .htaccess - 当我在子目录中使用 WordPress 添加 301 重定向时，.htaccess 出现无限循环错误

> ID：12740014
> 
> 赞同：0
> 
> 时间：2012-10-05T04:54:28.317
> 
> 标签：.htaccess

我的 WordPress 网站位于子目录中。我使用 WordPress 的 codex 说明进行了设置，并且一切正常，直到客户要求我添加 301 重定向来解决一些指向 Internet 上旧域的链接的问题。旧域名指向新网站，但不使用永久 301 重定向。当前的域名是 Encoreco.com。

旧域指向同一个地方，但它不是 301 重定向（您可以看到顶部的 URL 没有更改，由于某种原因，这意味着我的 javascript 幻灯片不起作用）。这是发生的事情：[encoreconstructionco.com](http://encoreconstructionco.com/)

当我添加一个 301 重定向来解决这个问题时，我得到了无限循环错误。这是试图解决旧域问题但创建无限循环的代码行：

```
RewriteRule (.*) http://encoreco.com/$1 [R=301,L] 
```

这是我当前的 .htaccess： 注意 - 我尝试了 .html 重写和 www 重写，但这并没有解决问题。

```
RewriteCond %{THE_REQUEST} \.html
RewriteRule ^(.*)\.html$ /$1 [R=301,L]

# Redirect www to non-www
RewriteCond %{HTTP_HOST} ^www\.(.*)
RewriteRule (.*) http://%1/$1 [R=301,L]

# BEGIN WordPress
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
</IfModule>

# END WordPress 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T05:26:19.717

```
RewriteRule (.*) http://encoreco.com/$1 [R=301,L] 
```

…将重定向所有内容，包括正确的请求，因此您必须获得无限重定向。

将该规则限制为仅错误的主机名：

```
RewriteCond %{HTTP_HOST} !encoreco\.com
RewriteRule (.*) http://encoreco.com/$1 [R=301,L] 
```

# javascript - 为什么 window.location.reload() 否定前面的命令？

> ID：12740018
> 
> 赞同：4
> 
> 时间：2012-10-05T05:26:45.050
> 
> 标签：javascript, ruby-on-rails-3

我在 javascript 中发出 HTTP POST/DELETE 请求以删除我的 rails 应用程序中的消息

```
 $.post(message_url, { _method: 'delete' }, null, "script"); 
```

如果我在执行此行后刷新页面上的浏览器，我会看到该消息实际上已被删除并且不再出现。

现在我希望页面在此命令后自动刷新，以便用户看到它消失了。我有以下几行：

```
 $.post(message_url, { _method: 'delete' }, null, "script");
    window.location.reload(); 
```

现在页面确实刷新了，但消息不再被删除。而且我在控制台中看不到任何错误。

所以基本上，没有这个 reload(); 命令消息删除就好了，但如果我添加这个 reload() 行它会停止工作。为什么会这样？

更重要的是，我怎样才能完成我想做的事情？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-05T05:30:13.580

“问题”`$.post`是异步的。这意味着当您调用它时，它会向服务器发出 AJAX 请求（以删除该消息）。由于它是异步的，因此 Javascript 继续运行（它不会等待 AJAX 请求完成以继续运行您的其余代码（`window.location.reload()`）。由于它不等待，因此`window.location.reload()`在请求被触发后立即运行并且可能已中止（因为浏览器被重定向到新页面，这是默认行为）。

解决方案是执行调用`reload()`完成`$.post`：

```
$.post(message_url, { _method: 'delete' }, function () {
    window.location.reload();
}, "script"); 
```

[http://api.jquery.com/jQuery.post/](http://api.jquery.com/jQuery.post/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-05T05:29:52.763

在刷新页面之前，您必须等到 ajax 请求完成，因为 ajax 是异步的，当`window.location.reload();`它取消 ajax 请求时它仍在执行。您可以在方法中使用成功参数[`$.post()`](http://api.jquery.com/jQuery.post/)。

```
$.post(message_url, { _method: 'delete' }, function(){window.location.reload();}, "script"); 
```

话虽如此，这种方式违背了ajax的目的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T05:32:28.260

这是因为当页面卸载时，所有的 AJAX 请求都被取消了。

由于 AJAX 调用是异步的，重新加载的调用会立即发生并取消请求。

You have to wait until the AJAX call is finished by adding it to success callback

# python - 与 NumPy 中的 For 循环进行慢速逐行比较 - 如何改进？

> ID：12740022
> 
> 赞同：0
> 
> 时间：2012-10-05T05:27:07.400
> 
> 标签：python, numpy, scipy, vectorization

我正在使用`python`并`numpy`比较两个数组或相等的形状与坐标 (x,y,z) 以匹配它们，如下所示：

```
coordsCFS
array([[ 0.02      ,  0.02      ,  0\.        ],
       [ 0.03      ,  0.02      ,  0\.        ],
       [ 0.02      ,  0.025     ,  0\.        ],
        ..., 
       [ 0.02958333,  0.029375  ,  0\.        ],
       [ 0.02958333,  0.0290625 ,  0\.        ],
       [ 0.02958333,  0.0296875 ,  0\.        ]]) 
```

和

```
coordsRMED
array([[ 0.02      ,  0.02      ,  0\.        ],
       [ 0.02083333,  0.02      ,  0\.        ],
       [ 0.02083333,  0.020625  ,  0\.        ],
       ..., 
       [ 0.03      ,  0.0296875 ,  0\.        ],
       [ 0.02958333,  0.03      ,  0\.        ],
       [ 0.02958333,  0.0296875 ,  0\.        ]]) 
```

使用 h5py 从两个 hdf5 文件中读取数据。对于比较，我使用[allclose](http://docs.scipy.org/doc/numpy/reference/generated/numpy.allclose.html)，它测试“几乎相等”。坐标在 python 的常规浮点精度内不匹配。这就是我使用 for 循环的原因，否则它会与`numpy.where`. 我通常会尽量避免 for 循环，但在这种情况下，我不知道怎么做。所以我想出了这个令人惊讶的缓慢片段：

```
mapList = []
for cfsXYZ in coordsCFS:
    # print cfsXYZ
    indexMatch = 0
    match = []
    for asterXYZ in coordRMED:
        if numpy.allclose(asterXYZ,cfsXYZ):
            match.append(indexMatch)
            # print "Found match at index " + str(indexMatch)
            # print asterXYZ
        indexMatch += 1

    # check: must only find one match. 
    if len(match) != 1:
        print "ERROR matching"
        print match
        print cfsXYZ
        return 1

    # save to list
    mapList.append(match[0])

if len(mapList) != coordsRMED.shape[0]:
    print "ERROR: matching consistency check"
    print mapList
    return 1 
```

这对于我的测试样本大小（800 行）来说非常慢。我计划比较更大的集合。我可以删除一致性检查并`break`在内部 for 循环中使用以获得一些速度优势。还有更好的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T05:52:10.893

一种解决方案是对两个数组进行排序（添加一个索引列，以便排序后的数组仍然包含原始索引）。然后，为了匹配，步调一致地遍历数组。由于您期望精确的 1-1 对应关系，因此您应该始终能够匹配成对的行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T08:15:34.093

首先要记住的是，默认情况下，在 NumPy 中，“迭代总是以 C 风格的连续方式进行（最后一个索引变化最快）”[1]。您可以通过颠倒迭代顺序来改进事情（迭代上`coordMED.T`，转置`coordMED`...）

尽管如此，我仍然对您需要循环感到惊讶：您声称“坐标在 python 的常规浮点精度内不匹配”：您是否尝试过调整 的`rtol`和`atol`参数`np.allclose`，如其[文档](http://docs.scipy.org/doc/numpy/reference/generated/numpy.allclose.html)中所述？

[[1]](http://docs.scipy.org/doc/numpy/user/c-info.beyond-basics.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T08:39:35.120

您可以通过以下方式摆脱内部循环：

```
for cfsXYZ in coordsCFS:
    match = numpy.nonzero(
        numpy.max(numpy.abs(coordRMED - cfsXYZ), axis=1) < TOLERANCE) 
```

# android - 错误字符串无法转换为 JsonObject

> ID：12740035
> 
> 赞同：0
> 
> 时间：2012-10-05T05:28:31.030
> 
> 标签：android

我有代码来显示这样的商店。我还在学习android，

```
 @Override
            public void onItemClick(AdapterView<?> parent, View view,
                    int position, long id) {
                // getting values from selected ListItem
                String pid = ((TextView) view.findViewById(R.id.id_store)).getText()
                        .toString();

                // Starting new intent
               Intent in = new Intent(getApplicationContext(),
                      editstoreActivity.class);
                // sending pid to next activity
                in.putExtra("phone", mPhoneNumber);
                in.putExtra(TAG_PID, pid);

                // starting new activity and expecting some response back
                startActivityForResult(in, 100);
            }
        }); 
```

但它显示这样的错误

```
10-05 12:17:56.149: INFO/ActivityManager(59): Starting activity: Intent { cmp=shoop3.android.edu/.editstoreActivity (has extras) }
10-05 12:17:58.289: DEBUG/dalvikvm(957): GC_FOR_MALLOC freed 1530 objects / 274448 bytes in 208ms
10-05 12:17:59.649: ERROR/JSON Parser(957): Error parsing data org.json.JSONException: Value <!DOCTYPE of type java.lang.String cannot be converted to JSONObject
10-05 12:17:59.669: DEBUG/Single Store Details(957): {"store":[{"id_user":"63","id_platform":"1","store_url":"url.com","store_desc":"wordpress","id_store":"42","store_logo":null,"store_name":"toko wordpress edit","store_curr":null},{"id_user":"63","id_platform":"2","store_url":"pres.com","store_desc":"prestashop","id_store":"43","store_logo":null,"store_name":"toko prestashop","store_curr":null}]}
10-05 12:18:00.899: INFO/ActivityManager(59): Displayed activity shoop3.android.edu/.editstoreActivity: 4664 ms (total 4664 ms)
10-05 12:18:58.339: DEBUG/SntpClient(59): request time failed: java.net.SocketException: Address family not supported by protocol
10-05 12:23:58.343: DEBUG/SntpClient(59): request time failed: java.net.SocketException: Address family not supported by protocol 
```

我真的很困惑，有什么解决办法吗？？请

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T05:31:25.513

我假设您正在尝试解析 json 中的响应，其中响应位于 xml 中。更好的是，你使用一些 XML 解析器，比如

1.  SAX 解析器
2.  DOM 解析器
3.  XMLPULL 解析器

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T05:36:13.803

您可能正在尝试将 JSON 转换为 String 。尝试使用 Gson 。它具有将 JSON 转换为字符串的方法

# android - 画布中具有不同渐变的线条

> ID：12740037
> 
> 赞同：0
> 
> 时间：2012-10-05T05:28:46.683
> 
> 标签：android, canvas

我需要在画布中绘制一条具有不同渐变的线。知道怎么做吗？我进行了很多搜索，但无法找到任何答案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T05:39:12.900

使用对象`setShader()`上的方法`Paint`将其设置为渐变（可能是`LinearGradient`，但您可以使用一些东西。查看[文档](http://developer.android.com/reference/android/graphics/Paint.html#setShader%28android.graphics.Shader%29)）。然后抽离！

# java - Why is Android JSInterface so slow?

> ID：12740041
> 
> 赞同：1
> 
> 时间：2012-10-05T05:29:06.347
> 
> 标签：java, javascript, android, android-jsinterface

I have a javascript calling a javascript interface many times (around 500 times sometimes), updating the page's UI from it. It sends a couple strings, and casts String result to string: `""+window.INTERFACENAME.function(...)`.

Without calling the function, it takes 43ms, but takes 6 or 7 seconds with the JSInterface call. Why is the JSInterface so slow?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T07:31:05.807

My solution was to implement the same function in Javascript as the Java code. Messy, but it's much faster than calling Java. I suppose if it were required to make many calls to Java, it would be better to make one call with a list of inputs.

# android - 在android中增加/减少图像的每个通道会变慢

> ID：12740042
> 
> 赞同：1
> 
> 时间：2012-10-05T05:29:23.390
> 
> 标签：android, image

我试图实现一些图像过滤器，我使用这个代码

```
@Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        imageView=(ImageView) findViewById(R.id.imgView);
        bgr = BitmapFactory.decodeResource(getResources(), R.drawable.test02);

        int A, R, G, B;
        int pixel;

        // scan through all pixels
        for(int x = 0; x < bgr.getWidth(); ++x) 
        {
            for(int y = 0; y < bgr.getHeight(); ++y) 
            {
                // get pixel color
                pixel = bgr.getPixel(x, y);
                A = Color.alpha(pixel);
                R = Color.red(pixel);
                G = Color.green(pixel);
                B = Color.blue(pixel);

                // increase/decrease each channel
                R += value;
                if(R > 255) { R = 255; }
                else if(R < 0) { R = 0; }

                G += value;
                if(G > 255) { G = 255; }
                else if(G < 0) { G = 0; }

                B += value;
                if(B > 255) { B = 255; }
                else if(B < 0) { B = 0; }

                // apply new pixel color to output bitmap
                bgr.setPixel(x, y, Color.argb(A, R, G, B));
            }
            System.out.println("x");
        }

        imageView.setImageBitmap(bgr);

    } 
```

问题是这是**减慢**是任何其他方式来做到这一点，或者让它更快..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T06:44:17.437

您应该阅读有关使用`ColorMatrix`. 该矩阵可以完全执行您手动执行的操作。在您的情况下，由于您只是向每个组件添加一个常量值，因此您的矩阵将具有`a = g = m = s = 1`和`e = j = o = value`，并且矩阵的其余部分将为零。

然后您可以使用[`setColorFilter()`](http://developer.android.com/reference/android/widget/ImageView.html#setColorFilter%28android.graphics.ColorFilter%29)将 a[`ColorMatrixColorFilter`](http://developer.android.com/reference/android/graphics/ColorMatrixColorFilter.html)应用于您的 ImageView。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:34:25.603

也许使用按位运算证明更快？

```
for(int x = 0; x < bgr.getWidth(); ++x) 
    {
        for(int y = 0; y < bgr.getHeight(); ++y) 
        {
            // get pixel color
            pixel = bgr.getPixel(x, y);
    int alpha = (pixel & 0xff000000) >> 24;
    int R = (pixel & 0x00ff0000) >> 16;
        int G = (pixel & 0x0000ff00) >> 8;
        int B = (pixel & 0x000000ff);

            // increase/decrease each channel
            R += value;
            if(R > 255) { R = 255; }
            else if(R < 0) { R = 0; }

            G += value;
            if(G > 255) { G = 255; }
            else if(G < 0) { G = 0; }

            B += value;
            if(B > 255) { B = 255; }
            else if(B < 0) { B = 0; }

            // apply new pixel color to output bitmap
            bgr.setPixel(x, y, (alpha << 24) + (red << 16) + (green << 8) + blue);
        } 
```

If that proves too slow aswell,using a [ColorMatrix](http://developer.android.com/reference/android/graphics/ColorMatrix.html) would be the best way to do it,even if i presume it does the exact same filtering,it probably is more efficient.

# command-line - Java - 运行 cmd

> ID：12740045
> 
> 赞同：2
> 
> 时间：2012-10-04T23:15:22.630
> 
> 标签：command-line, java

我正在尝试运行一个简单的 java 测试代码。我得到一个“无法找到或加载主类文件”（类似的东西）

我正在关注的教程使用此命令

```
-> javac name.java (javac doesn't work, using ->java ..)
-> dir (shows the classname as a file)
 > java classname
 > outputs "hello world" 
```

我似乎无法通过 ->java running.java

```
class apples //everything begins with a class - need this to do anything
{
    public static void main(String args[])//method
    {
        System.out.println("Hello World");
    }   
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T23:46:49.437

~~这里可能存在一些问题。检查以下内容：~~

~~*   您是否将文件保存为类名加上.java，例如`apples.java`~~
2.  ~~执行的时候，是输入类名还是类文件名？您应该输入`java apples`，而不是`java apples.class`或`java apples.java`。~~

编辑：

我注意到您没有使用 编译程序`javac`，这使得程序无法运行`java [program_name]`。您需要运行`javac [java_sourcde_file_name]`以生成 .class 文件。如果`javac`不起作用，可能是：

1.  您没有安装 JDK（Java 开发工具包），应从[Oracle下载](http://datagenetics.com/blog/december42010/spark.mpeg)
2.  `javac`不在您的 PATH 中 - 不太可能但可能 - 请参阅[http://www.apl.jhu.edu/~hall/java/beginner/settingup.html](http://www.apl.jhu.edu/~hall/java/beginner/settingup.html)。
3.  `javac`运行正常，但您的程序无法正确编译。鉴于您发布的程序看起来不错，这似乎不太可能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T07:40:57.747

```
class Apples //- need this to do anything
{
    public static void main(String args[])//everything begins with a method
    {
        System.out.println("Hello World");
    }   
} 
```

确保您位于 java 文件的当前目录中

编译为

```
javac Apples.java 
```

运行方式

```
java Apples 
```

在使用它之前，应该需要知道编码约定，最好使用java。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T23:39:10.487

出色地。在 Jaca 中你所要做的就是导航你的类文件的存储位置，然后使用 java “类名”。您不需要输入 .java 或 .class。只是名字。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T07:26:14.980

将您的类名从 apples 更改为 Apples（java 类名的命名约定）： [http ://en.wikipedia.org/wiki/Naming_convention_%28programming%29#Java](http://en.wikipedia.org/wiki/Naming_convention_%28programming%29#Java)

还建议您相应地更改文件名...

然后重新编译并运行它

> javac Apples.java
> 
> 爪哇苹果

干杯

# php - 如何用 PHP 将特殊字符解析到 MySQL 中？

> ID：12740054
> 
> 赞同：6
> 
> 时间：2012-10-05T05:30:54.990
> 
> 标签：php, unicode, encoding, special-characters

我正在使用 PHP 解析一些数据并将其放入 MySQL。但是，如果数据包含特殊字符，例如`êm-Khê`MySQL，则会输出以下错误：

```
SQLSTATE[HY000]: General error: 1366 Incorrect string value: '\xEAm-Kh\xEA...' 
```

经过我的测试，MySQL 不是问题。（表和列排序规则是`utf8_general_ci`）当我`êm-Khê`直接（手动）将该字符串插入表中时，它会进入表中。所以 MySQL 可以接受这些数据。

那么知道为什么它会在 PHP 级别出现此错误吗？

我对编码知识不太了解，也不太了解。

*   为什么它在查询中`ê`转换为`\xEA`？

所以当我得到这样的数据时`ê`，我怎么能把它放到数据库中，因为它`ê`没有改变？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T05:43:07.253

所以问题是您的数据库连接不是 UTF8，但可能是 LATIN1，所以您必须使用 PHP 的函数`utf8_encode()`或`SET NAMES utf8`在连接到数据库后执行。

```
$handle = new PDO("mysql:host=localhost;dbname=dbname",
'username', 'password',
array(PDO::MYSQL_ATTR_INIT_COMMAND => "SET NAMES utf8")); 
```

[这个线程](https://stackoverflow.com/questions/2615611/utf-8-database-problem)有一些很好的参考和解释

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T05:43:02.780

我的猜测是 PHP 和 MySQL 之间存在编码不匹配。`ê`并没有真正“转换”成`\xEA`，只是 MySQL 不知道字节序列`EA`应该是什么，因此只是抱怨原始字节是错误的。您首先需要知道 PHP 中字符串的编码是什么；这取决于他们来自哪里。然后您需要设置正确的 MySQL 连接编码，以便 MySQL 知道您发送它的字符串的编码是什么。如何做到这一点取决于您连接到数据库的方式。

有关整个过程的概要，请参阅[在 Web 应用程序中从前到后处理 Unicode 。](http://kunststube.net/frontback/)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-01T14:17:26.927

你可以使用这个功能。mysql_real_escape_string($user), mysql_real_escape_string($password));

# cloud-foundry - NodeJS bcrypt 错误在 Micro Cloud Foundry 上部署 Calipso

> ID：12740056
> 
> 赞同：0
> 
> 时间：2012-10-05T05:31:01.327
> 
> 标签：cloud-foundry, bcrypt

我正在尝试将 VMC 推送到我拥有的 Micro Cloud Foundry 实例上，但我被一个错误说

```
Unable to load shared library /var/vcap/data/dea/apps/{App-Name&ID}/app/node_modules/bcrypt/build/Release/bcrypt_lib.node 
 at Object..node (module.js:463:11)
    at Module.load (module.js:351:31)
    at Function._load (module.js:310:12)
    at Module.require (module.js:357:17)
    at require (module.js:368:17)
    at bindings (/var/vcap/data/dea/apps/Apptain-0-cb7703ae25d61741a91f9a828959ea6e/app/node_modules/bcrypt/node_modules/bindings/bindings.js:74:15)
    at Object.<anonymous> (/var/vcap/data/dea/apps/{App-Name&ID}/app/node_modules/bcrypt/bcrypt.js:1:96)
    at Module._compile (module.js:432:26)
    at Object..js (module.js:450:10)
    at Module.load (module.js:351:31) 
```

bcrypt/node_modules/bindings/bindings.js 的第 74 行是

```
var b = require(n) 
```

但这很奇怪，因为整个街区都是

```
var tries = []
    , i = 0
    , l = opts.try.length
    , n

  for (; i<l; i++) {
    n = join.apply(null, opts.try[i].map(function (p) {
      return opts[p] || p
    }))
    tries.push(n)
    try {
      var b = require(n)
      b.path = n
      return b
    } catch (e) {
      if (!/not find/i.test(e.message)) {
        throw e
      }
    }
  } 
```

所以任何异常都应该被捕获，并在必要时被扔得更远。我知道我离地图还很远，但是任何人都可以提供的任何帮助将不胜感激。我可以毫无问题地在本地运行，但在 MicroCloud 上启动失败。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T10:04:38.167

免责声明：我绝不是 node.js 专家，但似乎 lib 的路径有问题，即“{App-Name&ID}”部分。

由于 bcrypt 是一个原生的 dep，因此需要进行特殊处理。所有这些都在这里解释：http: [//blog.cloudfoundry.com/2012/05/24/cloud-foundry-supports-node-js-modules-with-npm/](http://blog.cloudfoundry.com/2012/05/24/cloud-foundry-supports-node-js-modules-with-npm/)

如果您还没有，您可能想检查一下。另外，我不太确定该博客文章中描述的内容是否适用于（您的版本）微 CloudFoundry。您可能想在真正的 cloudfoundry.com 网站上尝试一下，看看它是否能解决您的问题。

# c++ - 将元素插入已排序的向量

> ID：12740058
> 
> 赞同：2
> 
> 时间：2012-10-05T05:31:19.550
> 
> 标签：c++, sorting, vector

我编写了一个 C++ 程序，目的是快速将一个元素插入到排序的向量中。它有时有效，但并非一直有效，我无法弄清楚原因。当我用纸和铅笔按照算法进行操作时，它可以解决，但是出了点问题。请帮忙？

```
#include <time.h>
#include <cstdlib>
#include <vector>
#include <iostream>
using namespace std;

vector<int> sortedVec;

int main() {
    // Random seed
    srand(time(NULL));

    // Put in n random elements
    for (int i = 0; i < 10; i++) sortedVec.push_back(rand()%10);

    // Sort the vector
    bool swapped = true;
    int endDecrement = 0;
    while (swapped) {
        swapped = false;
        endDecrement++;
        for (int i = 0; i < sortedVec.size()-endDecrement; i++) {
            if (sortedVec.at(i) > sortedVec.at(i+1)) {
                int swap = sortedVec.at(i);
                sortedVec.at(i) = sortedVec.at(i+1);
                sortedVec.at(i+1) = swap;
                swapped = true;
            }
        }
    }

    cout<<"Sorted random list:"<<endl;
    for (int i = 0; i < sortedVec.size(); i++) cout<<sortedVec.at(i)<<endl;

    int toInsert = rand()%10;
    cout<<"Random element to insert = "<<toInsert<<endl;

    // Insert a random int to the sorted vector
    int minIndex = 0;
    int maxIndex = sortedVec.size()-1;
    while (true) {
        int mid = (maxIndex-minIndex)>>1;
        if (toInsert == sortedVec.at(mid) || maxIndex-minIndex < 2) {
            sortedVec.insert(sortedVec.begin()+mid, toInsert);
            break;
        }
        else if (toInsert < sortedVec.at(mid)) maxIndex = mid;
        else if (toInsert > sortedVec.at(mid)) minIndex = mid;
    }

    cout<<"Random list with inserted element:"<<endl;
    for (int i = 0; i < sortedVec.size(); i++) cout<<sortedVec.at(i)<<endl;

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T06:09:16.113

正如评论所指出的，您提出的解决基本问题的方法相当复杂。

您的问题可以`time(NULL)`在随机生成器初始化中替换为更有吸引力的常量，该常量可以提供观察到的行为以进行调试。

没有那个，我将对罪魁祸首出价：

```
int maxIndex = sortedVec.size()-1; 
```

我认为应该是

```
int maxIndex = sortedVec.size(); 
```

或者你从不考虑顶级元素。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T17:29:08.860

根据评论，让我们假设我们有一个类似的结构：

```
struct data {
    int fval;
    // other stuff we don't care about right now
}; 
```

而且，我们假设我们有一个向量：

```
std::vector<data> items; 
```

如果我们想在向量中按顺序插入一个新项目，我们真的不想*在*`std::insert`. 这需要 O(log N) 搜索，然后是 O(N) 插入。相反，我们可以将两者结合起来，因此我们只需要一个 O(N) 操作即可找到正确的位置并进行插入。这是一个简单的版本：

```
void insert(std::vector<int> &vec, int new_val) { 
    if (vec.empty()) {
        vec.push_back(new_val);
        return;
    }

    vec.resize(vec.size()+1);
    std::vector<int>::reverse_iterator pos = vec.rbegin();

    for ( ; *(pos+1) > new_val && (pos+1) != vec.rend(); ++pos)
        *pos = *(pos+1);
    *pos = new_val;
} 
```

在您的情况下，您想插入一个`data`结构并进行比较`(pos+1)->fval > new_val.fval`，但基本思想在其他方面几乎相同。实际上，这可能*应该*作为通用算法来实现，但我目前没有时间。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T07:00:36.587

标准库中有用于排序的工具：

```
#include <algorithm>
#include <vector>

template <typename T, typename A, typename C>
class SortedVector {
public:
    SortedVector() {}

    // Initialization
    template <typename It>
    SortedVector(It begin, It end): _data(begin, end) {
        std::sort(_data.begin(), _data.end(), _comparator);

        // if we wanted unicity
        _data.erase(std::unique(_data.begin(), _data.end(), _comparator), _data.end());
    }

    // Addition of element (without checking for unicity)
    void add(T const& element) {
        _data.push_back(element);
        std::inplace_merge(_data.begin(), prev(_data.end()), _data.end(), _comparator);
        // or simply: std::sort(_data.begin(), _data.end(), _comparator);
        // it is surprisingly efficient actually because most sort implementations
        // account for partially sorted range. It is not, however, stable.
    }

    // Addition of element with unicity check
    bool add(T const& element) {
        typename std::vector<T, A>::iterator it =
            std::lower_bound(_data.begin(), _data.end(), element, _comparator);
        if (it != _data.end() and not _comparator(element, *it)) {
            return false;
        }
        size_t const n = it - _data.begin();

        _data.push_back(element);
        std::copy(_data.begin() + n, _data.end() - 1, _data.begin() + n + 1);
        // C++11: std::move
        _data[n] = element;
    }

private:
    std::vector<T, A> _data;
    C _comparator;
}; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T11:21:26.867

*我编写了一个 C++ 程序，目的是快速将一个元素插入到排序的向量中*

你不应该那样做。std::vector 不适合快速插入到自定义位置。编辑：顺便说一句，您正在更换，而不是插入。因为使用矢量是可以的。

此外，您的代码也因不使用标准函数而受到影响。std::sort，如果你真的想手动交换元素，你也有 std::swap。

这也是不必要的：

```
int mid = (maxIndex-minIndex)>>1; 
```

编译器可以并且很容易将 /2 优化为 >>1；

**编辑：**

您的代码已损坏，这有望向您展示原因：http: [//ideone.com/pV5oW](http://ideone.com/pV5oW)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-05T22:39:33.807

我更改了它，并且很确定它现在适用于所有情况：

```
if (toInsert < sortedVec.at(0)) sortedVec.insert(sortedVec.begin(), toInsert);
else if (toInsert > sortedVec.at(sortedVec.size()-1)) sortedVec.push_back(toInsert);
else {  
    int minIndex = 0;
    int maxIndex = sortedVec.size();
    while (true) {
        int mid = (maxIndex+minIndex)>>1;
        if (toInsert == sortedVec.at(mid) || maxIndex-minIndex < 2) {
            sortedVec.insert(sortedVec.begin()+mid+1, toInsert);
            break;
        }
        else if (toInsert < sortedVec.at(mid)) maxIndex = mid;
        else if (toInsert > sortedVec.at(mid)) minIndex = mid;
    }
} 
```

@LeGEC 和 @chac，感谢您研究我发布的算法，它帮助很大。@Jerry Coffin，我确实让 std::upper_bound 可以为此工作，但不能为我的 Node 类的变量工作，不过也谢谢你。

# django - 服务新贵无法正常工作。我不知道为什么？

> ID：12740069
> 
> 赞同：1
> 
> 时间：2012-10-05T05:32:24.310
> 
> 标签：django, deployment, service, gunicorn, upstart

我正在使用 gunicorn 和 nginx 部署 Django 项目。我按照教程链接[http://senko.net/en/django-nginx-gunicorn](http://senko.net/en/django-nginx-gunicorn/)

名为“testgunicorn”的文件服务：

```
description "Django XXXXXXXXX"
start on runlevel [2345]
stop on runlevel [!2345]
respawn
respawn limit 10 5
exec /home/htk/workspace/testproject/envs/run.sh 
```

但是当我运行服务时：`service testgunicorn start` 它记录了：`testgunicorn start/running, process 14259` 但是当我检查状态时：`service testgunicron status` 它记录了：`testgunicorn stop/waiting`

文件'run.sh'的内容

```
#!/bin/bash
set -e
LOGFILE=/home/my-user/workspace/testproject/testproject.log
NUM_WORKERS=2

# user/group to run as
USER=my-user
GROUP=my-group
cd /home/htk/workspace/testproject
source envs/bin/activate
exec python2.7 manage.py run_gunicorn 0.0.0.0:8090 -w $NUM_WORKERS \
--user=$USER --group=$GROUP --log-level=debug \
--log-file=$LOGFILE 2>>$LOGFILE 
```

文件 'run.sh' ，我检查它运行正常。先谢谢了。

# vb.net - 以编程方式隐藏/删除 VB.NET 中的标签页

> ID：12740073
> 
> 赞同：4
> 
> 时间：2012-10-05T05:32:57.553
> 
> 标签：vb.net, tabcontrol, tabpage

我的表格上有 10 个标签页。基于文本框中的输入，我想以编程方式删除标签页的数量，即如果文本框输入为 3，则只有前 3 个标签页应该可见，而第 4 到 10 个标签页必须被删除或不可见。我尝试跟随但没有成功，

```
For i = 0 To 9
Form1.TabControl1.TabPages.Remove(Form4.TabControl1.TabPages((val(textbox1.text)) + i))
Next 
```

（以上语句不会产生异常或错误）

这些陈述有什么问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-05T05:55:37.450

检查这个。

```
 For i As Integer = TextBox1.Text + 1 To 9

        Form1.TabControl1.TabPages.Remove(Form4.TabControl1.TabPages(TextBox1.Text + 1))

    Next 
```

或者

```
 For index As Integer = 9 To TextBox1.Text + 1 Step -1

        Me.TabControl1.TabPages.Remove(Me.TabControl1.TabPages(index))
    Next 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T06:45:08.283

切勿使用未经过滤的输入。将 Textbix1.Text 输入放在 integer.tryparse 构造中。此外，激活 Option strict 以获得更好的代码质量。

对于您的问题：

```
Dim MaxVisible as Integer
Dim Sucess as Boolean
Sucess=Integer.Tryparse(textbox1.text, MaxVisible)
If Sucess=True

For index As Integer = 9 To MaxVisible  + 1 Step -1
 Me.TabControl1.TabPages(Index).visible=false
End If 
```

这应该使不需要的选项卡控件不可见。我不知道 Tabpages(index) 是否有效，也许你必须使用 getitems - 我手头没有 Winforms 项目来测试它。关于 TabControl 的更多信息：http: [//msdn.microsoft.com/de-de/library/system.windows.forms.tabcontrol.aspx](http://msdn.microsoft.com/de-de/library/system.windows.forms.tabcontrol.aspx)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-09-15T22:06:45.447

实际上，还有另一种方法可以很好地弥补可见性属性的不足。

在标签页本身上，将 parent 属性设置为 Nothing 以隐藏它。当你想显示标签页时，将 tabpage.parent 设置为标签控件。

# java - 使用 spring 任务调度程序时将字符串转换为 long 时出错

> ID：12740077
> 
> 赞同：3
> 
> 时间：2012-10-05T05:33:14.950
> 
> 标签：java, spring, exception

我有一个应用程序，我正在从 spring 3.0.5.RELEASE 和 spring integration 2.0.3.RELEASE 升级到 spring 3.1.1.RELEASE 和 spring integration 2.1.3.RELEASE。

更改 POM 后，运行测试时出现以下错误。

```
2012-10-05 15:17:06.636 ERROR [main] [TestContextManager] [] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@38aea981] to prepare test instance [com.veda.evs.converter.orchestrator.DecisionToDecisionConverterTest@52fa7139]
java.lang.IllegalStateException: Failed to load ApplicationContext
    at org.springframework.test.context.TestContext.getApplicationContext(TestContext.java:157)
    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:109)
    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:75)
    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:321)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:211)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:288)
    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:290)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)
    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)
    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)
    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)
    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)
    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)
    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
    at org.junit.runners.ParentRunner.run(ParentRunner.java:236)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)
    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.scheduling.config.ScheduledTaskRegistrar#0': Invocation of init method failed; nested exception is java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Long
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1455)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:609)
    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:469)
    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:103)
    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:1)
    at org.springframework.test.context.support.DelegatingSmartContextLoader.loadContext(DelegatingSmartContextLoader.java:228)
    at org.springframework.test.context.TestContext.loadApplicationContext(TestContext.java:124)
    at org.springframework.test.context.TestContext.getApplicationContext(TestContext.java:148)
    ... 24 more
Caused by: java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Long
    at org.springframework.scheduling.config.ScheduledTaskRegistrar.afterPropertiesSet(ScheduledTaskRegistrar.java:193)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1514)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1452)
    ... 38 more 
```

以下代码是问题的根源

```
 if (this.fixedRateTasks != null) {
        for (Map.Entry<Runnable, Long> entry : this.fixedRateTasks.entrySet()) {
            this.scheduledFutures.add(this.taskScheduler.scheduleAtFixedRate(entry.getKey(), entry.getValue()));
        }
    } 
```

我已经在spring集成XML配置文件中追溯到了下面的xml

```
<task:scheduled-tasks scheduler="taskScheduler">
    <task:scheduled ref="searchAggregatorReaper" 
                    method="run"
                    fixed-rate="500"
</task:scheduled-tasks> 
```

Spring 似乎构建了计划任务的映射，但将 500 固定速率值保留为字符串，而不是转换为 long。

任何人都知道如何解决这个问题。我如何将固定利率值视为长期。

# c++ - outData.txt 没有输出正确的值

> ID：12740078
> 
> 赞同：0
> 
> 时间：2012-10-05T05:33:16.917
> 
> 标签：c++, file-io, input, outputstream, fileoutputstream

我无法从 inData.txt 中获取 # 并将值输出到 outData.txt 我的 inData.txt 中的值是：10.20 5.35

The values that appear in my outData.txt are: Rectangle: Length= -92559631349317830000000000000000000000000000000000000000000000.00, Width= -92559631349317830000000000000000000000000000000000000000000000.00, Area= 8567285355521621000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000.00, Perimeter= -370238525397271320000000000000000000000000000000000000000000000.00

这是我的代码（现在我正在输出长度、宽度、面积和周长）

```
#include <iostream>
#include <fstream>
#include <string>
#include <iomanip>

using namespace std;

int main ()

{
// Filestream Variable declaration

ifstream inFile;
ofstream outFile;

// Variable Declaration

double length, width, areaOfRectangle, perimeter, radius, areaOfCircle,           beginningBalance, interestRate, pi,
       circumference, endingBalance;
string firstName, lastName;
 int   age;
 char  ch;

// Opening Filestream Variables

 inFile.open("inData.txt");
 outFile.open("outData.txt");

 // Data Manipulation

 outFile << fixed << showpoint;
 outFile << setprecision(2);

 cout << "Processing Data..." << endl;

 // Variable Association

 inFile >> length >> width;
 outFile <<"Rectangle:" << endl;
 areaOfRectangle = length * width;
 perimeter = (length * 2) + (width * 2);
 outFile <<"Length= " << length << ", Width= " << width << ", Area= " << areaOfRectangle << ", Perimeter= " << perimeter << endl;

 // Closing Filestream Variables

 inFile.close();
 outFile.close();

return 0;

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:04:13.307

这将检查您的代码：

```
#include <iostream>
#include <fstream>
#include <string>
#include <iomanip>

using namespace std;

int main ()
{
    // Filestream Variable declaration
    ifstream inFile;
    ofstream outFile;

    // Variable Declaration
    double length, width, areaOfRectangle, perimeter, radius, areaOfCircle, beginningBalance, interestRate, pi,
       circumference, endingBalance;
    string firstName, lastName;
    int age;
    char ch;

    // Opening Filestream Variables
    inFile.open("inData.txt");
    outFile.open("outData.txt");

    if(inFile.fail())
    {
        cerr << "Error opening inData.txt" << std::endl;
        return -1;
    }

    if(outFile.fail())
    {
        cerr << "Error opening outData.txt" << std::endl;
        return -1;
    }

    // Data Manipulation
    outFile << fixed << showpoint;
    outFile << setprecision(2);

    cout << "Processing Data..." << endl;

    // Variable Association
    if(!(inFile >> length >> width)
    {
        cerr << "Failed to read values." << std::endl;
        return -1;
    }

    outFile <<"Rectangle:" << endl;
    areaOfRectangle = length * width;
    perimeter = (length * 2) + (width * 2);
    outFile <<"Length= " << length << ", Width= " << width << ", Area= " << areaOfRectangle << ", Perimeter= " << perimeter << endl;

    // Closing Filestream Variables
    inFile.close();
    outFile.close();

    return 0;
} 
```

# c# - javascript单引号问题

> ID：12740079
> 
> 赞同：2
> 
> 时间：2012-10-05T05:33:17.633
> 
> 标签：c#, javascript, asp.net

我创建了 asp.net c# web 应用程序。我在gridview的每一行的第一列都有一个linkBut​​ton（lnkDelete）。我还在GridView的“RowDataBound”事件中动态地向该链接按钮添加一个属性。如下所示：

```
 lnkDelete.Attributes.Add("onclick", "javascript:return confirm('Are you sure you want to   delete this Product :" +
                    DataBinder.Eval(e.Row.DataItem, "ProductName") + "')"); 
```

现在我要做的是当用户单击该链接按钮时，会打开一个 javascript 确认弹出窗口，询问“您确定要删除此产品”。一切正常。但是当产品名称带有单引号时，就会出现问题。喜欢：Product'One。当我单击 lnkDelete 并且错误是：（非法字符）时，ErrorConsole（javascript）出现语法错误，我知道问题出在单引号上。

请建议我在上面的代码中需要进行哪些更改。我希望我很清楚。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-05T05:37:35.780

添加`\`单引号怎么样？

```
DataBinder.Eval(e.Row.DataItem, "ProductName").ToString.Replace("'", "\\'") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T05:51:37.333

您是否尝试转义字符串？

如果您有转义字符串，则可以使用 javascript 进行转义。

```
lnkDelete.Attributes.Add("onclick", "javascript:return confirm('Are you sure you want to  delete this Product :' + unescape(\'" + escapedString + "\'))"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T05:53:08.673

我在我的搜索项目自动化工具之一中做了类似的事情。您可以尝试以下方法：

```
protected void grdKeywords_RowDataBound(object sender, GridViewRowEventArgs e)
    {
        if (e.Row.RowType == DataControlRowType.DataRow)
        {
            LinkButton linkDeleteButton = e.Row.FindControl("lnkdel") as LinkButton;
            Label lblGridKeyword = e.Row.FindControl("lblGridKeyword") as Label;
            TextBox txtGridBox = e.Row.FindControl("txtGridKeyword") as TextBox;

            if (lblGridKeyword != null)
            {
                if (lblGridKeyword.Text.Contains("'"))
                {
                    lblGridKeyword.Text = lblGridKeyword.Text.Replace("'", "&#39;");

                }
            }

            if (txtGridBox != null)
            {
                if (txtGridBox.Text.Contains("'"))
                {
                    txtGridBox.Text = txtGridBox.Text.Replace("'", "`");
                }
            }

            if (txtGridBox == null)
                linkDeleteButton.Attributes.Add("onclick", "javascript:return confirm('Are you sure about deleting keyword: " + lblGridKeyword.Text + " ?')");
            else if (lblGridKeyword == null)
                linkDeleteButton.Attributes.Add("onclick", "javascript:return confirm('Are you sure about deleting keyword: " + txtGridBox.Text + " ?')");

        }
    } 
```

**lblGridKeyword**是保存包含单引号的数据的标签。我在 RowDataBound 时使用 ' 替换了它。这对我有用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T05:43:13.230

使用[HttpUtility.HtmlEncode](http://msdn.microsoft.com/en-us/library/73z22y6h%28v=vs.90%29.aspx)

代替`DataBinder.Eval(e.Row.DataItem, "ProductName")`

您可以使用

`HttpUtility.HtmlEncode(DataBinder.Eval(e.Row.DataItem, "ProductName").ToString())`

# wpf - 如何在触发器中执行命令？

> ID：12740080
> 
> 赞同：0
> 
> 时间：2012-10-05T05:33:17.127
> 
> 标签：wpf

```
<Combobox.Style>
<Style TargetType="{x:Type Combobox}">
  <Style.Triggers>

    <Trigger Property="IsMouseOver" Value="True">
 //////    I want to execute command here/////
    </Trigger>
  </Style.Triggers>
</Style> 
```

如果有其他方法，是否可以在这里执行命令，请告诉我提前谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T09:30:49.487

您可以通过修改组合框的项目模板来实现它。在组合框中使用按钮作为组合框项目。您可以对该按钮执行命令绑定并将单击模式更改为悬停。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T05:55:01.487

一些框架提供了使用事件执行命令的方法，例如您可以在 www.codeproject.com 上找到的 CINCH 框架。因此，您可以使用 MouseOver 事件来执行您的命令，而不是使用触发器。

# android - WebView在android中加载缓慢？

> ID：12740082
> 
> 赞同：2
> 
> 时间：2012-10-05T05:33:28.600
> 
> 标签：android, caching, webview

我正在开发应用程序中的 webView，其中 webview 加载的内容在按下按钮时会发生变化（两个按钮 next 和 previous ，它们只是更改 webview 中的内容）。但是在按下 3 -4 次后它开始挂起，logcat 上没有打印任何内容，按钮保持按下 15-20 秒，然后加载下一个数据。

我用这些来清除 webview.db 和缓存：-

```
context.this.deleteDatabase("webview.db");
context.this.deleteDatabase("webviewCache.db");

webView.getSettings().setRenderPriority(RenderPriority.HIGH);
webView.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE); 
```

但它仍然挂起。我怎样才能加快速度？请帮忙？

更新：

```
 public void setWebView(String QuestionParent,String QuestionNumber)
    {

        WebSettings webSettings = questionWeb.getSettings();

        webSettings.setDefaultFontSize(24);

        questionWeb.getSettings().setRenderPriority(RenderPriority.HIGH);
        questionWeb.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE);

        questionWeb.loadDataWithBaseURL("",integralParse.htmlParse(questionCode,"mnt/sdcard/faData/"+QuestionParent+"/"+QuestionNumber),"text/html","UTF-8","");
    } 
```

我在按钮按下时使用这种方法。integralParse.htmlParse() 方法返回一个 html 文本。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-05T05:39:03.667

您是否正确处理 webView 导航？请参阅官方文档上的本教程：

[https://developer.android.com/guide/webapps/webview.html#HandlingNavigation](https://developer.android.com/guide/webapps/webview.html#HandlingNavigation)

如果您只是使用 loadData() 那么您可以尝试在清单文件中设置硬件加速，如下所示：

```
android:hardwareAccelerated="true" 
```

在应用程序级别添加它，即在您的 AndroidManifest.xml 文件的标记中

在此之后，这实际上取决于您的设备。如果您有高端设备，图像将被快速渲染，否则它们将需要时间，因为 webView 使用 webkit 硬件加速，这取决于您的设备配置。

如果你仍然需要速度，你可以尝试制作一个没有 webview 的完全原生的应用程序。一切都会像黄油一样光滑。没有 webkit，没有 html 和更大的控制。

祝你好运 ：-）

# c# - 从 ASP.NET 应用程序获取入口程序集

> ID：12740083
> 
> 赞同：2
> 
> 时间：2012-10-05T05:33:54.620
> 
> 标签：c#, asp.net

> **可能重复：**
> [Web 应用程序的 GetEntryAssembly](https://stackoverflow.com/questions/4277692/getentryassembly-for-web-applications)

有一个类库，它通过调用`GetEntryAssembly()`. 但是，在 ASP.NET Web 应用程序中使用该类库，该函数返回 null。

是否可以从它调用的类库中获取 ASP.NET 应用程序可执行文件的位置？

`GetCallingAssembly()`不适合，因为该函数不是直接从 Web 应用程序调用的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T05:38:48.393

查看[HttpRuntime.BinDirectory](http://msdn.microsoft.com/en-us/library/system.web.httpruntime.bindirectory.aspx) -“获取当前应用程序的 /bin 目录的物理路径。”

这应该返回存储您的 Web 应用程序的所有 dll 的目录。

编辑：

好的，根据您的反馈，这可能有效：

```
var webApplicationType = typeof(MyWebApplicationClass);
var assemblyPathAndName = new System.Uri(webApplicationType.Assembly.CodeBase)).LocalPath; 
```

您需要将“MyWebApplicationClass”替换为您想要装配路径和名称的 Web 项目中的任何类的名称。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T05:42:27.753

我认为 Server.MapPath 可以解决您的问题，请查看此答案：- [Server.MapPath("."), Server.MapPath("~"), Server.MapPath(@"\"), Server.MapPath("/ ”）。有什么区别？](https://stackoverflow.com/questions/275781/server-mappath-server-mappath-server-mappath-server-mappath)

另外，如果您需要查找程序集路径，则可以使用 string fullPath = System.Reflection.Assembly.GetAssembly(typeof(DaoTests)).Location;

查看以下内容以获取更多信息：- [如何获取代码所在的程序集的路径？](https://stackoverflow.com/questions/52797/how-do-i-get-the-path-of-the-assembly-the-code-is-in)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T05:47:46.840

尝试使用反射，如下所示。

```
string path = new System.Uri(Assembly.GetExecutingAssembly().CodeBase)).LocalPath; 
```

希望有帮助。

谢谢米林德

# eclipse - 删除不需要的空行 eclipse 编辑器

> ID：12740086
> 
> 赞同：16
> 
> 时间：2012-10-05T05:34:21.510
> 
> 标签：eclipse, editor, settings, preferences

当我在 Eclipse 中打开任何文件时。它在所有代码行和空白行之后显示替代空白行。我怎样才能删除它....

![在此处输入图像描述](../Images/3c7784f375438193d1ceaae9189e198d.png)

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2014-08-09T11:18:17.537

在 Eclipse 首选项设置中，您可以删除所有不需要的空行。Eclipse：Window > Preferences > Java > Code Style > Formatter > Edit the formatter，然后会弹出以下屏幕。![在此处输入图像描述](../Images/fb496d69e38924030b98112c0d639f77.png)

当您格式化代码时，所有不需要的空行都将被删除。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-10-05T05:40:12.137

寻找：`^\s*\n`

替换为：（空）

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-05T06:07:12.860

可能你没听懂安舒说的话。在您的编辑器上执行 Ctr-F。 **在选项中，选择正则表达式。** 为 Find 表达式输入 ^\s*\n。保持替换框为空。全部替换！

这当然也可能导致删除不需要的行。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-05T05:52:56.353

由于您的日食设置。

您可以从首选项更改您的设置。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2015-10-20T00:30:18.210

1.  用 ^\s*\n 查找和替换为正则表达式
2.  按 Ctrl + Shift + f
3.  按 Ctrt + Shift + o

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-04-15T15:15:46.570

好消息是，当您独自工作时，一切都很好。
不幸的一面是，当您在版本控制中签入文件时，它还会暴露“糟糕的团队合作”：有些人会很乐意帮助您保持一致，而其他许多人会忽略您的请求并继续覆盖您的格式正确的精美代码。

# mysql - Spring test DBUnit：即使在最简单的测试中，表比较也会失败

> ID：12740092
> 
> 赞同：3
> 
> 时间：2012-10-05T05:35:16.987
> 
> 标签：mysql, dbunit, spring-test

我使用 Spring test DBUnit 来测试我的 DB Service 和 Hibernate。我写了一个最简单的测试：

```
@Test
    @DatabaseSetup("dumbDataSample_DBAccount.xml")
    @DatabaseTearDown("dumbDataSample_DBAccount.xml")
    @ExpectedDatabase(assertionMode=DatabaseAssertionMode.NON_STRICT, value ="dumbDataSample_DBAccount.xml")
    public void testBasic() {
    } 
```

它失败了！为什么？在我修改表之前它确实有效（删除了一些字段，添加了其他字段，重新分配了主键）似乎 DBunit 比较了来自不同记录的 companyName 列dumbDataSample_DBAccount.xml

```
 <?xml version="1.0" encoding="UTF-8"?>
<dataset>
    <adminaccounts username="naruto" forcePassChange="true" companyName="Konoha" email="naruto@konoha.jp"/>
    <adminaccounts username="sephiroth" forcePassChange="false" companyName="Shinra" email="sephi@shinra.com"/>
    <adminaccounts username="geralt" forcePassChange="false" companyName="no"/>
</dataset> 
```

有任何想法吗？这是痕迹

```
junit.framework.ComparisonFailure: value (table=adminaccounts, row=0, col=companyName) expected:<[Konoha]> but was:<[no]>
    at org.dbunit.assertion.JUnitFailureFactory.createFailure(JUnitFailureFactory.java:39)
    at org.dbunit.assertion.DefaultFailureHandler.createFailure(DefaultFailureHandler.java:105)
    at org.dbunit.assertion.DefaultFailureHandler.handle(DefaultFailureHandler.java:208)
    at org.dbunit.assertion.DbUnitAssert.compareData(DbUnitAssert.java:524)
    at org.dbunit.assertion.DbUnitAssert.assertEquals(DbUnitAssert.java:409)
    at org.dbunit.assertion.DbUnitAssert.assertEquals(DbUnitAssert.java:312)
    at org.dbunit.assertion.DbUnitAssert.assertEquals(DbUnitAssert.java:274)
    at org.dbunit.assertion.DbUnitAssert.assertEqualsIgnoreCols(DbUnitAssert.java:122)
    at org.dbunit.Assertion.assertEqualsIgnoreCols(Assertion.java:74)
    at com.github.springtestdbunit.assertion.NonStrictDatabaseAssertion.assertEquals(NonStrictDatabaseAssertion.java:44)
    at com.github.springtestdbunit.DbUnitRunner.verifyExpected(DbUnitRunner.java:128)
    at com.github.springtestdbunit.DbUnitRunner.afterTestMethod(DbUnitRunner.java:80)
    at com.github.springtestdbunit.DbUnitTestExecutionListener.afterTestMethod(DbUnitTestExecutionListener.java:141)
    at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:406)
    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:91)
    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)
    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)
    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)
    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)
    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)
    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)
    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
    at org.junit.runners.ParentRunner.run(ParentRunner.java:236)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)
    at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)
    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)
    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)
    at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)
    at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:175)
    at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:107)
    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:68) 
```

这是表的脚本：

```
CREATE TABLE `adminaccounts` (
`username` varchar(50) NOT NULL,
`companyName` varchar(50) NOT NULL DEFAULT 'Unknown',
`email` varchar(50) DEFAULT NULL,
`forcePassChange` bit(1) NOT NULL DEFAULT b'1',
PRIMARY KEY (`username`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 
```

这是我的实体类：

```
import java.io.Serializable;
import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.Id;
import javax.persistence.Table;

@Entity
@Table(name="adminaccounts")
public class DBAccount implements Serializable {
    private static final long serialVersionUID = 1L;
    /** Account name */
    @Id
    @Column(name="username")
    private String username;
    public void setUsername(String n)
    {
        this.username = n;
    }
    public String getUsername()
    {
        return this.username;
    }
    /** Force password change flag */
    @Column(name="forcePassChange")
    private boolean forceChange;
    public void setForceChange(boolean f)
    {
        this.forceChange = f;
    }
    public boolean getForceChange()
    {
        return this.forceChange;
    }
    /**  Company name */
    @Column(name="companyName")
    private String company;
    public void setCompany(String c)
    {
        this.company = c;
    }
    public String getCompany()
    {
        return this.company;
    }
    /** email */
    @Column(name="email")
    private String email;
    public void setEmail(String e)
    {
        this.email = e;
    }
    public String getEmail()
    {
        return this.email;
    }

    public String toString()
    {
        String s = this.username + " " + this.company + " " + this.email + " " + (this.forceChange ? "Force" : "No force");
        return s;
    }

} 
```

休眠配置：

```
<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE hibernate-configuration PUBLIC
    "-//Hibernate/Hibernate Configuration DTD//EN"
    "http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd">

<hibernate-configuration>
    <session-factory>
        <mapping class="jp.co.rns.model.DBAccount" />
    </session-factory>

</hibernate-configuration> 
```

我使用注释所以没有 persistence.xml 文件

这是测试上下文

```
<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns="http://www.springframework.org/schema/mvc"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:util="http://www.springframework.org/schema/util"
    xmlns:beans="http://www.springframework.org/schema/beans"
    xmlns:context="http://www.springframework.org/schema/context"
    xmlns:mvc="http://www.springframework.org/schema/mvc"
    xmlns:tx="http://www.springframework.org/schema/tx"
    xmlns:p="http://www.springframework.org/schema/p"
    xsi:schemaLocation="http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd
        http://www.springframework.org/schema/util  http://www.springframework.org/schema/util/spring-util-3.1.xsd">

    <!-- DispatcherServlet Context: defines this servlet's request-processing infrastructure -->

    <!-- Enables the Spring MVC @Controller programming model -->
    <annotation-driven />

    <!-- Handles HTTP GET requests for /resources/** by efficiently serving up static resources in the ${webappRoot}/resources directory -->
    <resources mapping="/resources/**" location="/resources/" />    
    <!-- ===============Properties files================== -->
 <util:properties id="appProperties" 
    location="classpath:application.properties">
    </util:properties>
 <beans:bean id="propertyConfigurer"
     class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"
     p:location="classpath:jdbc.properties" />
<!-- ================================================= -->

     <beans:bean id="sessionFactory"
        class="org.springframework.orm.hibernate3.LocalSessionFactoryBean">
        <beans:property name="dataSource" ref="dataSource" />
        <beans:property name="configLocation">
            <beans:value>classpath:hibernate.cfg.xml</beans:value>
        </beans:property>
        <beans:property name="configurationClass">
            <beans:value>org.hibernate.cfg.AnnotationConfiguration</beans:value>
        </beans:property>
        <beans:property name="hibernateProperties">
            <beans:props>
                <beans:prop key="hibernate.dialect">${jdbc.dialect}</beans:prop>
                <beans:prop key="hibernate.show_sql">true</beans:prop>
            </beans:props>
        </beans:property>
    </beans:bean>

    <tx:annotation-driven />
    <beans:bean id="transactionManager"
        class="org.springframework.orm.hibernate3.HibernateTransactionManager">
        <beans:property name="sessionFactory" ref="sessionFactory" />
    </beans:bean>

       <!--   p:driverClassName="${jdbc.driverClassName}"-->
    <beans:bean id="dataSource"
        class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close"
        p:url="${jdbc.databaseurl}" p:username="${jdbc.username}"
        p:password="${jdbc.password}" >
        <beans:property name="driverClassName">
        <beans:value>${jdbc.driverClassName}</beans:value>
        </beans:property>
        </beans:bean>
    <!-- Resolves views selected for rendering by @Controllers to .jsp resources in the /WEB-INF/views directory -->
    <beans:bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
        <beans:property name="prefix" value="/WEB-INF/views/" />
        <beans:property name="suffix" value=".jsp" />
    </beans:bean>
    <context:component-scan base-package="jp.co.rns" />

    <mvc:interceptors>
    <beans:bean class="org.springframework.web.servlet.i18n.LocaleChangeInterceptor">
        <beans:property name="paramName" value="lang" />
    </beans:bean>
    <beans:bean class="org.springframework.web.servlet.theme.ThemeChangeInterceptor">
        <beans:property name="paramName" value="lang" />
    </beans:bean>
    </mvc:interceptors>

    <beans:bean id="messageSource"
    class="org.springframework.context.support.ReloadableResourceBundleMessageSource">
    <beans:property name="basename" value="classpath:static" />
    <beans:property name="defaultEncoding" value="UTF-8"/>
</beans:bean>

<beans:bean id="localeChangeInterceptor"
    class="org.springframework.web.servlet.i18n.LocaleChangeInterceptor">
    <beans:property name="paramName" value="lang" />
</beans:bean>

<beans:bean id="localeResolver"
    class="org.springframework.web.servlet.i18n.CookieLocaleResolver">
    <beans:property name="defaultLocale" value="en"/>
</beans:bean> 

<!-- For Themes -->
<beans:bean id="themeSource"
    class="org.springframework.ui.context.support.ResourceBundleThemeSource">
        <beans:property name="basenamePrefix" value="theme_" />
</beans:bean>

<!-- Theme Change Interceptor and Resolver definition -->
<beans:bean id="themeChangeInterceptor"
    class="org.springframework.web.servlet.theme.ThemeChangeInterceptor">
    <beans:property name="paramName" value="lang" />     
</beans:bean>
<beans:bean id="themeResolver"
    class="org.springframework.web.servlet.theme.CookieThemeResolver">
    <beans:property name="defaultThemeName" value="en" />    
</beans:bean>
<beans:bean id="handlerMapping"
    class="org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping">
    <beans:property name="interceptors">
    <beans:list>            
        <beans:ref bean="themeChangeInterceptor" />
        <beans:ref bean="localeChangeInterceptor" />
    </beans:list>
    </beans:property>
</beans:bean>
</beans:beans> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T03:03:29.427

我找到了原因：

```
@Id
@Column(name="username")
private String username; 
```

主键必须是自动生成的 int，而不是 string；

我已经重组了我的桌子；DBUnit 现在可以工作了

# r - ggplot2 删除不重要的零

> ID：12740097
> 
> 赞同：2
> 
> 时间：2012-10-05T05:35:59.580
> 
> 标签：r, ggplot2

在我翻转坐标并堆叠为比例条的条形图中，我想将 y 比例（现在在 x 比例位置）更改为没有不重要的零：

我的尝试：

```
ggplot(diamonds, aes(color, fill=cut)) + 
    geom_bar(position='fill') + coord_flip() +
    scale_y_discrete(breaks = c(0, .25, .5, .75, 1), 
        labels=c("0", ".25", ".5", ".75", "1")) 
```

当前情节： ![在此处输入图像描述](../Images/846786524378980ba6b8ee918026dc4a.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T06:06:17.540

对我来说，它适用于`scale_y_continuous`：

```
ggplot(diamonds, aes(color, fill=cut)) +
 geom_bar(position='fill') +
 coord_flip() +
 scale_y_continuous(breaks = c(0, .25, .5, .75, 1),
                    labels=c("0", ".25", ".5", ".75", "1")) 
```

![在此处输入图像描述](../Images/553b014c851c3b0902a5907ae412d1cb.png)

# javascript - 在 Javascript 中创建动态 CSS

> ID：12740098
> 
> 赞同：1
> 
> 时间：2012-10-05T05:35:59.247
> 
> 标签：javascript, css, dom, setattribute, createelement

我正在尝试为 Google 地图创建一个信息窗口，并且需要生成一个动态表单来显示信息。

以下脚本会生成一个名为**"No_found_err: DOM exception 8"**的错误：

```
//create objects for HTML elements              
var inputElement1 = document.createElement("input");
var inputElement2 = document.createElement("input");

//assign different attributes to the element
inputElement1.setAttribute("type", "text");
inputElement1.setAttribute("id", "poiName");
inputElement2.setAttribute("type", "textarea");
inputElement2.setAttribute("id", "poiDesc");

//create style tag, atrributes and values
//add css style to head tag and define classname for HTML "desctag" element
var cssNode = document.createElement("style");
cssNode.setAttribute("type", "text/css");
cssNode.style.cssText = ".cssClass {vertical-align: text-top; width: 250px; height: 150px }";

document.getElementsByTagName("head")[0].appendChild("cssNode");
document.getElementById("poiDesc").className = "cssClass";

var formString = "<b>Enter location details:</b>
<p>Name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" +
"&nbsp;&nbsp;&nbsp;" + inputElement1 + "<br>Description:&nbsp;&nbsp;" + inputElement2 +
"<p><center>" + "<input type='button' id='saveBtn' value='Save' onclick='savePOI()'>  
</center>";

//insert values into the form elements      
document.getElementById("poiName").value = locList[i].name;
**document.getElementById("poiDesc").value = locList[i].desc;** 
```

此错误出现在最后两行之间。这是否意味着尚未创建标签 ID“poiName”和/或“poiDesc”？

我该如何解决上述问题？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T05:46:57.080

`document.getElementsByTagName("head")[0].appendChild("cssNode");`应该`document.getElementsByTagName("head")[0].appendChild(cssNode);`注意`cssNode`没有引用，您传递了一个字符串来附加 Child 而不是节点。

`inputElement1`并且`inputElement1`是元素不是字符串，因此将它们附加到 html 字符串不会给出所需的结果。此外，您永远不会将它们或 html 字符串添加到 dom，因此 `document.getElementById`无法找到它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T06:35:01.107

除了其他答案之外，此代码需要更改为：

```
cssNode.style.cssText = ".cssClass {vertical-align: text-top; width: 250px; height: 150px }"; 
```

至：

```
cssNode.innerText = ".cssClass {vertical-align: text-top; width: 250px; height: 150px }"; 
```

您的代码正在执行与此等效的操作：

```
<style type='text/css' style='.cssClass {vertical-align: text-top; width: 250px; height: 150px }'></style> 
```

（顺便说一句，由于样式字符串包含类和大括号，这样使用是无效的。这意味着你实际创建了`<style type='text/css'></style>`）

虽然我认为这是您的意图（为清楚起见添加了格式）

```
<style>
  .cssClass 
  { 
    vertical-align: text-top;
    width: 250px;
    height: 150px;
  }
</style> 
```

这是（a）动态创建样式元素（b）动态修改css（c）从列表中的项目中提取信息的完整示例。

享受。:)

```
<!DOCTYPE html>
<html>
<head>
<style>
label
{
    width: 75px;
    display: inline-block;
}
</style>
<script>
var locList = [ {name:'Australia', desc:'pop. 22,620,600', col:'green', bg:'yellow'}, {name:'New Zealand', desc:'pop. 4,405,200', col:'white', bg:'black'} ];
function byId(e){return document.getElementById(e);}

var dynamicCSS;

function selChange(element)
{
    var arrayIndex = element.value;
    if (arrayIndex != -1)
    {
        byId('poiName').value = locList[arrayIndex].name;
        byId('poiDesc').value = locList[arrayIndex].desc;

        var styleStr = "#poiName,#poiDesc{color: " + locList[arrayIndex].col + "; background-color: " + locList[arrayIndex].bg + "; }";
        dynamicCSS.innerHTML = styleStr;
    }
    else
    {
        byId('poiName').value = byId('poiDesc').value = 'No option selected';
        dynamicCSS.innerHTML = '';
    }
}

function myInit()
{
    var st = document.createElement('style');
    st.innerHTML = '#poiName, #poiDesc{border:solid 2px green;}';
    document.body.appendChild(st);

    dynamicCSS = document.createElement('style');
    document.body.appendChild(dynamicCSS);
}
</script>
</head>
<body onload='myInit();'>
    <form id='myform'>
        <label for='optSel'>Option:</label>
        <select id='optSel' onchange='selChange(this);'>
            <option value='-1'>None selected</option>
            <option value='0'>Aus</option>
            <option value='1'>NZ</option>
        </select>
        <br>
        <label for='poiName'>Name</label><input id='poiName'/>
        <br>
        <label for='poiDesc'>Desc</label><input id='poiDesc'/>
    </form>
</body>
</html> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T05:46:32.697

是的，您应该使用`inputElement1`and `inputElement2`。

document.getElementById() 获取文档中具有 id 的元素。该文件直到现在还没有它。它只会在渲染时。

# iphone - UIImagePicker 收到名为 viewDidLoad 的内存警告并清除 UITextField

> ID：12740103
> 
> 赞同：1
> 
> 时间：2012-10-05T05:36:25.103
> 
> 标签：iphone, objective-c, ios, ipad

我正在展示`UIImagePicker`我的一个`UIViewController`，在我的`UIViewController`我有几个`UITextField`。

现在用户已经在其中填写了一些值，`UITextField`然后他从 中选择了一张图像`UIImagePicker`，之后它收到了内存警告，并再次调用 viewDidLoad，但是用户在 中输入的所有数据`UITextField`都丢失了。我该如何处理？

代码：

```
- (void) showImageSelector: (UITapGestureRecognizer *) tapGestureRecognizer
{
    UIActionSheet *actionSheet;
    if ([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera]) {
        actionSheet = [[UIActionSheet alloc] initWithTitle:[PNRConstants kChoosePhoto] delegate:self cancelButtonTitle:@"Cancel" destructiveButtonTitle:nil otherButtonTitles:[PNRConstants kPhotoLibrary], [PNRConstants kTakeAPicture], nil];
    }
    else{
        actionSheet = [[UIActionSheet alloc] initWithTitle:[PNRConstants kChoosePhoto] delegate:self cancelButtonTitle:@"Cancel" destructiveButtonTitle:nil otherButtonTitles:[PNRConstants kPhotoLibrary], nil];
    }
    [actionSheet showInView:self.view.window];
}

#pragma -
#pragma UIActionSheetDelegate
- (void)actionSheet:(UIActionSheet *)actionSheet clickedButtonAtIndex:(NSInteger)buttonIndex {
    if (buttonIndex != actionSheet.cancelButtonIndex) {
        UIImagePickerController *controller = [[UIImagePickerController alloc] init];
        controller.delegate = self;
        controller.allowsEditing = YES;
        if (buttonIndex == 0) {
            // Photo Library
            controller.sourceType = UIImagePickerControllerSourceTypePhotoLibrary;
        }
        else {
            // Camera
            controller.sourceType = UIImagePickerControllerSourceTypeCamera;
        }
        [self presentViewController:controller animated:YES completion:nil];
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:00:08.927

当内存不足且不需要视图控制器的视图时，视图将从内存中卸载。（然而，iOS 6.0 中的情况并非如此，因为视图不再从内存中清除）。

因此，当您收到内存警告时，视图将从内存中卸载。当你回到它时，视图控制器的视图被再次请求，因此它被再次创建/加载。因此，您`viewDidLoad`再次被调用。

此时，这是加载的全新视图。它已经失去了它以前的所有属性。

为了避免这种情况，您可以做的是 - 当用户设置了文本字段的属性（很可能是文本）时，您必须将这些值保存在变量等的某个位置。

因此，在您的`viewDidLoad`中，检查该变量是否存在和/或是否包含任何值。如果没有，则表示这是第一次加载视图。在这里，你什么都不做。

但是，一旦用户在文本字段中设置了一些文本，控制器的视图就会被卸载，稍后它会再次加载，它`viewDidLoad`会被调用。在这里，此时变量保存了之前输入的文本值。所以设置textField的集合。

简而言之，代码看起来像这样：

```
-(void) viewDidLoad {
    [super viewDidLoad];

    if (yourVariableHoldingTextInput) {
        // Variable holding the text field's input exists. This means user had set some input to the text field. View was purged from memory and is now loaded again.
        yourTextField.text = yourVariableHoldingTextInput; // Essentially, set the text field's text with the variable's value.
    }else {
        // Here we do nothing. This clearly means the controller's view loaded very first time.
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T05:55:01.030

UIImagePicker 从处理器消耗更多内存。所以你需要先解决这个内存警告。

当我将相机和照片库用于视频时，我遇到了同样的问题。

在我使用技巧并解决之后。这里有技巧

**全局定义 UIImagePickerController 和访问**

在这里我使用代码来调用库

```
-(UIImagePickerController *)getImagePickerController{
    if (!imagePickerController) {
        imagePickerController = [[UIImagePickerController alloc]init];
    }
    return imagePickerController;
} 
```

将此 UIImagePicker 实例调用到 videoPicker 后

```
videoPicker = [self getImagePickerController]; 
    videoPicker = [[UIImagePickerController alloc] init];
    videoPicker.sourceType =  UIImagePickerControllerSourceTypePhotoLibrary;
    videoPicker.delegate = self;
    videoPicker.allowsEditing = YES;
    videoPicker.mediaTypes =  [NSArray arrayWithObject:(NSString *)kUTTypeMovie];    
    videoPicker.videoQuality = UIImagePickerControllerQualityTypeHigh;
    videoPicker.videoMaximumDuration = 30.0;
    NSArray *sourceTypes = [UIImagePickerController availableMediaTypesForSourceType:videoPicker.sourceType];
    if (![sourceTypes containsObject:(NSString *)kUTTypeMovie ])
    {
        NSLog(@"no video");
    }
    else
    {
        [self presentModalViewController:videoPicker animated:YES];
    } 
```

取消或选择任何媒体后，仅关闭**Picker**并释放。不要使用**videoPicker**释放和关闭。

```
- (void)imagePickerControllerDidCancel:(UIImagePickerController *)picker
{   
    [picker dismissModalViewControllerAnimated:YES];
} 
```

如果已经存在选择器实例，则不要再次分配。

# iphone - 添加“Mobclix 6.0.0”时出错

> ID：12740109
> 
> 赞同：0
> 
> 时间：2012-10-05T05:37:36.877
> 
> 标签：iphone, ios, ios6, mobclix

*   我想在应用程序中集成最新的 iOS 6 支持的 sdk。但是当我删除旧的 sdk 并在我的应用程序中添加最新的 sdk“Mobclix SDK 6.0.0”时，它会给出以下错误。你能解释一下我应该怎么做才能解决这个问题吗？

    ```
    Undefined symbols for architecture i386:
    "_OBJC_CLASS_$_ASIdentifierManager", referenced from:
     objc-class-ref in libMobclix.a(MCEnvironment.o)
    ld: symbol(s) not found for architecture i386
    collect2: ld returned 1 exit status 
    ```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-05T06:08:31.520

我没有在我的应用程序中添加“AdSupport”框架。

**如果您还想支持 iOS 5，请不要忘记将其添加为可选**

# android - 用 setRotate(float degree, float px, float py) 旋转画布？围绕一个支点...它不适合我

> ID：12740112
> 
> 赞同：1
> 
> 时间：2012-10-05T05:37:47.237
> 
> 标签：android, canvas, bitmap, accelerometer, sensors

当我将其应用于从枢轴点旋转画布时，它无法正常工作。它的旋转点看起来并没有改变。我也使用矩阵应用了这个，但当时效果不佳，我发现画布旋转。我想旋转位图，并且在 UI 上还有一些其他图像。我在绘制需要旋转的位图之前旋转画布。

```
@Override protected void onDraw(Canvas canvas) 
{ 
    /* * draw the background */ 
    canvas.drawBitmap(mWood, 0, 0, null); 
    /* * compute the new position of our object, based on accelerometer  */ 
    final ParticleSystem particleSystem = mParticleSystem; 
    final long now = mSensorTimeStamp + (System.nanoTime() - mCpuTimeStamp); 
    final float sx = mSensorX; 
    final float sy = mSensorY; 
    particleSystem.update(sx, sy, now); 
    final Bitmap bitmap = mBitmap; 
    final Bitmap bitmapOvel = mBitmapOvel; 

    Paint p = new Paint(); 
    p.setStyle(Style.FILL); 
    p.setColor(Color.GREEN); 
    canvas.drawBitmap(mWoodDial, 10, centerY - centerX + 20, null); 
    p.setColor(Color.RED); 
    p.setStyle(Style.FILL_AND_STROKE); 
    if (height <= 320) 
    {   
        p.setTextSize(14f); 
    } 
    else if (height <= 480) 
    { 
        p.setTextSize(18f); 
    } 
    else 
    { 
        p.setTextSize(26f); 
    }
    String ss = Html.fromHtml(xx + "&#176 && " + yy + "&#176") .toString(); 
    canvas.drawBitmap(mBitmapOvelAlter, centerX + xx * 1.7f - 15f, centerY + 6f - yy, null); 
    canvas.rotate(xx, centerX, centerY); 
    p.setAntiAlias(true); 
    p.setFilterBitmap(true); 
    p.setDither(true); 
    canvas.save(); 
    canvas.drawBitmap(mWoodDial1, 10, centerY - centerX + 20, p); 
    canvas.restore(); 
    System.out.println("xx:" + xx + "::.. yy:" + yy); 
    // and make sure to redraw asap
    invalidate(); 
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T06:04:13.227

您需要将 canvas.save() 移动到 canvas.rotate() 之前。否则，您不会将画布放回给您的状态。

# java - Sqlite DateTime 无法识别 Java 当前日期时间

> ID：12740114
> 
> 赞同：1
> 
> 时间：2012-10-05T05:37:56.403
> 
> 标签：java, android, sqlite, date, datetime-format

我在 Android 中使用以下代码来获取当前日期时间

```
Date currentDateTime = new Date(); 
```

并将其存储在 sqlite 表中

```
currentDateTime.ToString() 
```

所以在表中的值是这样存储的

```
"Tue Sep 11 20:32:39 IST 2012"
"Thu Sep 13 17:23:38 IST 2012"
"Thu Sep 13 17:34:38 IST 2012"
"Thu Sep 13 20:21:58 IST 2012" 
```

现在我需要按 desc 顺序在 sqlite 中对它们进行排序，即

```
select datetime(datecolumn) from table order by datetime(datecolumn) desc; 
```

> 但是当我在字段上执行 datetime(column) 时，它显示我在日期字段上的所有行都为空

显然在 sqlite 端存在数据不匹配。但我不知道如何解决它 - 有没有办法我仍然可以更改 sqlite 端的查询以便能够读取它？还是我必须更改 JAVA 代码并以 sqlite 可读格式插入数据。

我也需要时间，因为我正在处理每小时数据。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T05:47:41.160

我会用

```
currentDateTime.getTime()) 
```

并存储该值 - 数据库中所需的空间更少，我假设对 sqlite 进行排序要快得多

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T07:41:39.117

有关SQLite 识别为日期的格式列表，请参阅[日期和时间函数。](http://www.sqlite.org/lang_datefunc.html)

如果您希望数据库字段比单个毫秒值更具可读性，请将字符串格式化为`YYYY-MM-DD HH:MM:SS`.

# servlets - 动态 Web 项目无法运行

> ID：12740117
> 
> 赞同：0
> 
> 时间：2012-10-05T05:38:18.420
> 
> 标签：servlets, java-server

我创建了一个动态 Web 项目，然后已经添加到服务器（见截图），但我无法让它运行。服务器正在运行，如果我输入，`localhost:8080/`我会看到 Apache 主页，但`localhost:8080/testDynProj/`什么也没有。我错过了什么？谢谢![在此处输入图像描述](../Images/1e60bf67a5a0a23bddaad71f6bc51794.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T05:48:01.753

试试这些

1.  右键单击项目并**提供运行方式-> 在服务器上运行**

2.  检查 web.xml。检查标签

    ```
    <welcome-file-list>
    <welcome-file>
        <!-- Your Start File -->
    </welcome-file>
    </welcome-file-list> 
    ```

3.  展开项目并右键单击索引页面（作为您的应用程序入口点的任何页面）和**Run as-> Run on Server**。

# sql - 更简单的 sql 查询

> ID：12740118
> 
> 赞同：0
> 
> 时间：2012-10-05T05:38:22.187
> 
> 标签：sql, oracle

我有以下表格

*   学生（sid，姓名，年龄）
*   课程（cid，cname，持续时间）
*   注册（sid，cid，日期）

查找所有参加过 sid = 1 的课程的 sid。

```
select sid from enroll where cid in (select cid from enroll where sid=1) 
group by sid having count(*)=(select count(*) from enroll where sid=1) 
minus (select sid from student where sid=1); 
```

1.  第一个 count(*) 指的是什么？
2.  是否有更简单的查询版本？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T05:49:53.920

第一个`COUNT(*)`是指属于特定的行数`sid`。

重新格式化：

```
SELECT sid
  FROM enroll
 WHERE cid IN (SELECT cid FROM enroll WHERE sid=1) 
 GROUP by sid
HAVING COUNT(*) = (SELECT COUNT(*) FROM enroll WHERE sid=1) 
MINUS (SELECT sid FROM student WHERE sid=1); 
```

您当然可以使用以下方法避免 MINUS：

```
SELECT sid
  FROM enroll
 WHERE cid IN (SELECT cid FROM enroll WHERE sid=1)
   AND sid != 1
 GROUP by sid
HAVING COUNT(*) = (SELECT COUNT(*) FROM enroll WHERE sid=1) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T06:03:41.737

试试这个

```
SELECT s.sid
FROM student s, enroll e
WHERE s.sid = e.sid
AND e.cid IN (SELECT cid FROM course WHERE sid=1)
AND s.sid <> 1 
```

# objective-c - NSPredicate 工作大于但不小于

> ID：12740125
> 
> 赞同：1
> 
> 时间：2012-10-05T05:39:04.563
> 
> 标签：objective-c, ios, nspredicate, predicate

我在使用谓词从核心数据存储中获取结果时遇到问题。我的应用程序所做的是根据一个或多个谓词从存储中获取结果，并向您显示基于所有谓词的结果或基于每个谓词的结果。

它在大多数情况下都可以正常工作，除了我无法让“小于”查询工作。这是我正在使用的代码：

```
case CriteriaSelectionIsLessThan:
        pred = [NSPredicate predicateWithFormat:@"ANY value.attribute.name == %@ AND ANY value.%@ < %@", [attribute name], keyPath, [[activeValue value] value]];
        break;
case CriteriaSelectionIsMoreThan:
        pred = [NSPredicate predicateWithFormat:@"ANY value.attribute.name == %@ AND ANY value.%@ > %@", [attribute name], keyPath, [[activeValue value] value]];
        break; 
```

“超过”谓词的代码工作正常，它返回查询的数据集，例如 > 1970（一年）。当我尝试使用“小于”谓词（例如 < 1970）对其进行过滤时，它会返回整个核心数据数据集（未过滤）。

[[activeValue value] value] 是一个 NSNumber。

我一辈子都想不通——谓词完全相同，但有一个字符不同！

帮助将不胜感激。如果您需要更多代码/信息，请告诉我。

编辑：这是我在从 JSON 导入时映射数据类型的方式：

```
[attrib setDataType:[NSNumber numberWithInteger:[[attribute valueForKey:@"type"] integerValue]]];...

// Set the correct data type of the value
switch ([[attrib dataType] integerValue]) {
    case AttributeDataTypeNumber:
        [value setNumberValue:[NSNumber numberWithInteger:[valueForKey integerValue]]];
        break;
    case AttributeDataTypeString:   
        [value setStringValue:(NSString *)valueForKey];
        break;
    case AttributeDataTypeDate: {
        NSDateFormatter *df = [[NSDateFormatter alloc] init];
        [df setDateFormat:@"dd-MM-YYYY"];
        [value setDateValue:[df dateFromString:(NSString *)valueForKey]];
    }
        break;
    case AttributeDataTypeBool:
        [value setBooleanValue:[NSNumber numberWithBool:[valueForKey boolValue]]];
        break;
} 
```

看，我的 JSON 中的数据类型保证是正确的，因为我在导入它之前检查它（而不是在应用程序中）。即使我构建了一个明确表示我想要某个数据类型的谓词（例如 value.attribute.dataType == 1 ，其中 1 是枚举中的数字），它仍然不起作用。这真的很奇怪。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:40:33.063

你确定它会返回整个数据集吗？我猜测您为 lessThan 操作获得的值是具有 NULL 值的对象`value.%@`

编辑：

以下是我动态处理模型属性的方法：

```
for (NSEntityDescription *entity in [self.managedObjectModel entities]) // self.managedObjectModel is a NSManagedObjectModel
{
    for (NSAttributeDescription *attribute in [[entity attributesByName] allValues])
    {
        NSString *key = [attribute name];
        // do something with key
        switch ([attribute attributeType])
        {
            case NSBooleanAttributeType:
            case NSInteger16AttributeType:
            case NSInteger32AttributeType:
            case NSInteger64AttributeType:
            case NSDecimalAttributeType:
            case NSDoubleAttributeType:
            case NSFloatAttributeType:
                // do something with numeric types
                break;
            case NSStringAttributeType:
                // do something with string types
                break;
            case NSDateAttributeType:
                // do something with date types
                break;
         }
    }
} 
```

每个`case`处理谓词的方式不同。您可以缓存 key:type 关系以提高性能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T22:31:44.683

我想到了！如果其他人遇到了这个问题，我是这样解决的：

```
[NSPredicate predicateWithFormat:@"SUBQUERY(value, $val, $val.attribute.name == %@ && $val.%@ < %@).@count > 0", [attribute name], keyPath, [[activeValue value] value]] 
```

我认为这是因为它是一对多键，必须在多个标准上匹配。当我使用 ANY 关键字时，我认为这是返回我不想要的值的罪魁祸首。现在就像一个魅力。

# opencl - OpenCL - 计算期间的增量求和

> ID：12740133
> 
> 赞同：6
> 
> 时间：2012-10-05T05:40:15.383
> 
> 标签：opencl

我绝对是 OpenCL 编程的新手。对于我的应用程序。（分子模拟）我写了一个内核来计算lennard-jones 液体的分子间势。在这个内核中，我需要用一个计算所有粒子的势能的累积值：

```
__kernel void Molsim(__global const float* inmatrix, __global float* fi, const int c, const float r1, const float r2, const float r3, const float rc, const float epsilon, const float sigma, const float h1, const float h23)
{
   float fi0;
   float fi1;
   float d;

   unsigned int i = get_global_id(0); //number of particles (typically 2000)

   if(c!=i) {
      // potential before particle movement
      d=sqrt(pow((0.5*h1-fabs(0.5*h1-fabs(inmatrix[c*3]-inmatrix[i*3]))),2.0)+pow((0.5*h23-fabs(0.5*h23-fabs(inmatrix[c*3+1]-inmatrix[i*3+1]))),2.0)+pow((0.5*h23-fabs(0.5*h23-fabs(inmatrix[c*3+2]-inmatrix[i*3+2]))),2.0));
      if(d<rc) {
        fi0=4.0*epsilon*(pow(sigma/d,12.0)-pow(sigma/d,6.0));
      }
      else {
        fi0=0;
      }
      // potential after particle movement
      d=sqrt(pow((0.5*h1-fabs(0.5*h1-fabs(r1-inmatrix[i*3]))),2.0)+pow((0.5*h23-fabs(0.5*h23-fabs(r2-inmatrix[i*3+1]))),2.0)+pow((0.5*h23-fabs(0.5*h23-fabs(r3-inmatrix[i*3+2]))),2.0));
      if(d<rc) {
        fi1=4.0*epsilon*(pow(sigma/d,12.0)-pow(sigma/d,6.0));
      }
        else {
          fi1=0;
        }
      // cumulative difference of potentials
      // fi[0]+=fi1-fi0; changed to full size vector
      fi[get_global_id(0)]=fi1-fi0;
      }
} 
```

我的问题是：fi[0]+=fi1-fi0;。在一元素向量中 fi[0] 是错误的结果。我读了一些关于减和的东西，但我不知道在计算过程中如何去做。

存在我的问题的任何简单解决方案吗？

**注意**：我尝试为向量分量的总和添加下一个内核（请参见下面的代码），但是比使用 CPU 对向量求和时更慢。

```
__kernel void Arrsum(__global const float* inmatrix, __global float* outsum, const int inmatrixsize, __local float* resultScratch)
{
       // načtení indexu
      int gid = get_global_id(0);
      int wid = get_local_id(0);
      int wsize = get_local_size(0);
      int grid = get_group_id(0);
      int grcount = get_num_groups(0);

      int i;
      int workAmount = inmatrixsize/grcount;
      int startOffest = workAmount * grid + wid;
      int maxOffest = workAmount * (grid + 1);
      if(maxOffest > inmatrixsize){
        maxOffest = inmatrixsize;
    }

    resultScratch[wid] = 0.0;
    for(i=startOffest;i<maxOffest;i+=wsize){
            resultScratch[wid] += inmatrix[i];
    }
    barrier(CLK_LOCAL_MEM_FENCE);

    if(gid == 0){
            for(i=1;i<wsize;i++){
                    resultScratch[0] += resultScratch[i];
            }
            outsum[grid] = resultScratch[0];
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:32:26.420

我认为您需要用于 fi[0]+=fi1-fi0; 的 atomic_add 原子函数；

警告：使用原子函数会降低性能。

这里有两个带有增量原子函数的例子。

**没有原子函数和 2 个工作项的示例：**

```
__kernel void inc(global int * num){
    num[0]++; //num[0] = 0
} 
```

1.  工作项 1 读取 num[0]: 0
2.  工作项 2 读取 num[0]: 0
3.  工作项 1 递增 num[0]: 0 + 1
4.  工作项 2 递增 num[0]: 0 + 1
5.  工作项 1 写入 num[0]: num[0] = 1
6.  工作项 2 写入 num[0]: num[0] = 1

结果：num[0] = 1

**具有原子函数和 2 个工作项的示例：**

```
#pragma OPENCL EXTENSION cl_khr_global_int32_base_atomics : enable

__kernel void inc(global int * num){
    atom_inc(&num[0]);
} 
```

1.  工作项 1 读取 num[0]: 0
2.  工作项 1 递增 num[0]: 0 + 1
3.  工作项 1 写入 num[0]: num[0] = 1
4.  工作项 2 读取 num[0]: 1
5.  工作项 2 递增 num[0]: 1 + 1
6.  工作项 2 写入 num[0]: num[0] = 2

结果：num[0] = 2

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-06T09:18:56.853

您的所有线程都由“组”执行。您可以使用 get_local_id(dim) 函数确定组中的线程 ID。每个组内的线程可以使用共享内存（在 OpenCL 中称为“本地内存”）并同步它们的执行，但不同组内的线程不能直接通信。

因此，减少的典型解决方案如下：

1.  将临时数组 part_sum（全局）和 tmp_reduce（本地）添加到内核参数：

    ```
    __kernel void Molsim(..., __global float *part_sum, __local float *tmp_reduce) 
    ```

2.  分配大小等于内核组数 (=global_size/local_size) 的浮点数组并设置参数 part_sum。

3.  使用内核“本地大小”x size_of(float) 和 NULL 设置参数 tmp_reduce：

    ```
    clSetKernelArg(kernel,<par number>,sizeof(float)*<local_size>,NULL); 
    ```

4.  在内核中，将您的代码替换为以下内容：

    ```
     int loc_id=get_local_id(0);

    ...

    //      fi[0]+=fi1-fi0;
           tmp_reduce[loc_id]=fi1-fi0;
          }
       barrier(CLK_LOCAL_MEM_FENCE);
       if(loc_id==0) {
         int i;
         float s=tmp_reduce[0];
         for(i=1;i<get_local_size(0);i++)
           s+=tmp_reduce[i];
         part_sum[get_group_id(0)]=s;
       }
    } 
    ```

5.  内核执行完成后，只需在主机上对part_sum[array] 的内容求和，它比global_size 小得多。

这不是完全“并行缩减”，因为您可以使用更复杂的算法使用 Log2(local_size) 操作并行求和 tmp_reduce 数组，但这必须比原子操作快得多。

此外，请查看[http://developer.amd.com/Resources/documentation/articles/pages/OpenCL-Optimization-Case-Study-Simple-Reductions_2.aspx](http://developer.amd.com/Resources/documentation/articles/pages/OpenCL-Optimization-Case-Study-Simple-Reductions_2.aspx)了解更好的并行缩减方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T07:40:24.900

原子添加是一种解决方案，但您可能会遇到性能问题，因为原子部分会序列化您的工作项。

我认为更好的解决方案是，对于每个工作项，写入自己的变量，例如：

> fi[get_global_id(0)] +=fi1-fi0;

然后，您可以将数组传输到 CPU 并对所有元素求和，或者在 GPU 上使用算法并行执行。

# php - Codeigniter GD 库图像调整大小不起作用

> ID：12740134
> 
> 赞同：1
> 
> 时间：2012-10-05T05:40:16.067
> 
> 标签：php, codeigniter, gd, image-resizing

我尝试使用 codeignater GD 库调整图像大小。它在我的本地机器上运行良好。

```
 $config['image_library'] = 'gd2';
    $config['source_image'] = 'test_img/img_1.jpg';  //local path
    echo $config['source_image'];
    $config['create_thumb'] = TRUE;
    $config['maintain_ratio'] = TRUE;
    $config['width'] = 500;
    $config['height'] = 500;
    $this->load->library('image_lib', $config);
    $this->image_lib->resize(); 
```

但我们实际上将图像存储在 Amazon Simple Storage Service (Amazon S3) 中。所以我更改了 S3 存储桶的路径。并赋予了权限。

$config['source_image'] = 'https://s3.amazonaws.com/folder_name/53.jpg';

然后我得到一个错误，“图像的路径不正确。您的服务器不支持处理此类图像所需的GD功能..”

我试图以不同的方式做这件事，但我无法做到这一点。需要你的帮助。

问候，
科萨拉

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T06:43:51.797

你必须使用相对路径

```
$config['source_image'] = './folder_name/53.jpg'; 
```

# c# - 在 EF4 中将 Sql Pivot 表查询转换为 linq

> ID：12740135
> 
> 赞同：0
> 
> 时间：2012-10-05T05:40:17.783
> 
> 标签：c#, asp.net, linq, entity-framework, c#-4.0

从过去三天开始，我一直在做一项任务。我尝试将一个 sql 查询转换为基于“将列转换为行”称为数据透视表的 linq。

**我的 SQL 查询如下。**

```
SELECT project_name
,SUNDAY
,MONDAY
,TUESDAY
,WEDNESDAY
,THRUSDAY
,FRIDAY
,SATURDAY
FROM
(
    SELECT project_name
    ,personnel_name
    ,DATENAME(dw, report_date) AS day_name
    ,SUM(hours) AS HOURS
    FROM [TimeSheet]

    INNER JOIN [ProjectMaster] 
    ON [TimeSheet].[project_id] = [ProjectMaster].[project_id]

    INNER JOIN [Personnel] 
    ON [TimeSheet].[personnel_id] = [Personnel].[personnel_id]
    WHERE report_date BETWEEN getdate() - 7 AND getdate()
    GROUP BY project_name, personnel_name, DATENAME(dw, report_date)
) sourceQuery PIVOT (SUM(hours) 
 FOR day_name IN 
 (SUNDAY,MONDAY,TUESDAY,WEDNESDAY,THRUSDAY,FRIDAY,SATURDAY)) AS pvt 
```

**到目前为止我所做的将其转换为 linq 如下！！！**

```
var before = DateTime.Now.AddDays(-7);
DateTime firstSunday = new DateTime(1753, 1, 7); 

var DayWiseTS = from TSList in objWPFEntities.Timesheets.Include("ProjectMaster").Include("Personnel")
where (TSList.report_date >= before && TSList.report_date <= System.DateTime.Now)
select new { TSList.ProjectMaster.project_name, TSList.Personnel.personnel_name, TSList.report_date, TSList.hours } into sourceQuery
group sourceQuery by new { sourceQuery.project_name, sourceQuery.personnel_name, sourceQuery.report_date, sourceQuery.hours } into pvt
select new 
{ 
projectname = pvt.Key.project_name,
Sunday = (EntityFunctions.DiffDays(firstSunday, pvt.Key.report_date.Value) % 7 == 0 ? pvt.Sum(g => g.hours) : 0),
Monday = (EntityFunctions.DiffDays(firstSunday, pvt.Key.report_date.Value) % 7 == 1 ? pvt.Sum(g => g.hours) : 0),
Tuesday = (EntityFunctions.DiffDays(firstSunday, pvt.Key.report_date.Value) % 7 == 2 ? pvt.Sum(g => g.hours) : 0),
Wednesday = (EntityFunctions.DiffDays(firstSunday, pvt.Key.report_date.Value) % 7 == 3 ? pvt.Sum(g => g.hours) : 0),
Thrusday = (EntityFunctions.DiffDays(firstSunday, pvt.Key.report_date.Value) % 7 == 4 ? pvt.Sum(g => g.hours) : 0),
Friday = (EntityFunctions.DiffDays(firstSunday, pvt.Key.report_date.Value) % 7 == 5 ? pvt.Sum(g => g.hours) : 0),
Saturday = (EntityFunctions.DiffDays(firstSunday, pvt.Key.report_date.Value) % 7 == 6 ? pvt.Sum(g => g.hours) : 0)
}; 
```

我在两个查询中都得到了结果，但是在 sql 中，我得到了我需要的完美结果，但是在 linq 中，我没有得到所需的数据作为 sql。

**sql结果::**

![在此处输入图像描述](../Images/09e064346076e7137c18a5edf91fc4e0.png)

**LINQ结果::**

![在此处输入图像描述](../Images/553df8282f72b02f0002e863f4c135d0.png)

我认为，在我的 linq 查询中，我未能按小时分组！！

谁可以帮我这个事？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:43:26.230

放弃。EF 没有工具集来运行数据透视查询，即使您设法做到这一点，查询的性能也会很糟糕。与其尝试将 SQL 查询转换为 Linq 查询，不如创建具有与查询结果集同名的属性的类：

```
public class HoursPerDay {
    // if you want different names you must use aliases in your query too
    public string project_name { get; set; } 
    public int SUNDAY { get; set; }
    public int MONDAY { get; set; }
    public int TUESDAY { get; set; }
    public int WEDNESDAY { get; set; }
    public int THURSDAY { get; set; }
    public int FRIDAY { get; set; }
    public int SATURDAY { get; set; }
} 
```

并使用`objectContext.ExecuteStoreQuery`or `dbContext.Database.SqlQuery`：

```
var data = dbContext.Database.SqlQuery<HoursPerDay>(yourSqlQuery); 
```

做一个简单的结论：Linq-to-entities 最终并没有取代 SQL。在使用实体框架时，SQL 仍然是补充工具。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T18:16:10.907

正如拉迪斯拉夫（以及我自己的经验）所说：在存储过程中进行旋转比在客户端进行旋转要高效得多。但你可能有理由不这样做。无论如何，我想我知道问题出在哪里。您不应在分组中包含小时数：

```
group sourceQuery by new { sourceQuery.project_name, sourceQuery.personnel_name,
                           sourceQuery.report_date } into pvt 
```

结果集中的语句保持不变：

```
...
Sunday = (EntityFunctions.DiffDays(firstSunday, pvt.Key.report_date.Value) % 7
         == 0 ? pvt.Sum(g => g.hours) : 0), 
```

# php - SAX ParseException 错误

> ID：12740137
> 
> 赞同：0
> 
> 时间：2012-10-05T05:40:24.277
> 
> 标签：php, soap, xmlhttprequest

我正在通过发送 XML 请求调用 PHP SOAP 中的 Web 服务，但我不知道发生了什么我收到以下错误。虽然我已经浏览了网络但没有得到任何答案。请帮助任何人。错误如下：

```
soapenv:Server.userExceptionorg.xml.sax.SAXParseException: The prefix "xsi" for attribute "xsi:type" associated with an element type "hb:getHotelValuedAvail" is not bound. 
```

正在使用的代码如下：-

```
$user = "Username";
$pass = "Password";
$destino = "Test.wsdl";
$objClient = new SoapClient($destino, array('trace' => true,'exceptions' => 0, 'encoding' => 'UTF-8'));
$xml = '<hb:getHotelValuedAvail xmlns:hb="http://axis.frontend.hydra.hotelbeds.com" xsi:type="xsd:string"><HotelValuedAvailRQ echoToken="DummyEchoToken" sessionId="DummySessionId" xmlns="http://www.hotelbeds.com/schemas/2005/06/messages" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.hotelbeds.com/schemas/2005/06/messages HotelValuedAvailRQ.xsd"><Language>ENG</Language><Credentials><User>'.$user.'</User><Password>'.$pass.'</Password></Credentials><PaginationData pageNumber="1" itemsPerPage="999"/><CheckInDate date="20121013"/><CheckOutDate date="20121015"/><Destination code="PMI" type="SIMPLE"/><OccupancyList><HotelOccupancy>          <RoomCount>1</RoomCount><Occupancy><AdultCount>2</AdultCount><ChildCount>0</ChildCount></Occupancy></HotelOccupancy></OccupancyList></HotelValuedAvailRQ></hb:getHotelValuedAvail>';

$soapvar = new SoapVar($xml, XSD_ANYXML);
$objResponse = $objClient->__soapCall("getHotelValuedAvail", array($soapvar)); 
print_r($objClient->__getLastResponse()); 
```

我在这上面浪费了很多天。甚至要求支持但没有找到帮助。

# android - 无法解码位图图像返回 null

> ID：12740142
> 
> 赞同：0
> 
> 时间：2012-10-05T05:40:50.950
> 
> 标签：android, bitmap

我有相机应用程序，可以单击图片并将其保存在 sd 卡上，当我解码它给出空位图时，这里是代码

```
Bitmap bitmap = BitmapFactory.decodeFile(Environment.getExternalStorageDirectory()+"FacePhoto.jpg"); 
```

我已在 ddms 中签入 Facephoto 文件存在于 sd 卡上

我得到“空”位图可能是什么问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T05:45:28.813

您的图像路径可能有问题只需像这样检查

```
File rootDir = Environment.getExternalStorageDirectory();
File file = new File(rootDir + "/FacePhoto.jpg");

if (file.exists())
{
    Bitmap bitmap = BitmapFactory.decodeFile(file);

}
else
{
   System.out.println("File Not Exists. Check the path!!");
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T05:45:35.897

您缺少斜杠，请按如下方式更改代码。

```
Bitmap bitmap = BitmapFactory.decodeFile(Environment.getExternalStorageDirectory()+"/FacePhoto.jpg"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T05:43:47.613

尝试使用

`Environment.getExternalStorageDirectory()+"/FacePhoto.jpg"`

使用“/文件名”而不是“文件名”。

如果这不起作用，请尝试使用

`Environment.getExternalStorageDirectory().getAbsolutePath()+"/FacePhoto.jpg"`

需要注意的一点是使用绝对路径而不是相对路径。

另请查看代码中的文件名是否拼写正确。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T05:45:25.177

现在在活动结果上，您必须像这样使用。

```
if (requestCode == CAMERA) {
                final File file = getTempFile();

                new Thread(new Runnable() {

                    @Override
                    public void run() {
                        try {
                            selPath = file.getAbsolutePath();
                            final String selectedImagePath = file
                                    .getAbsolutePath();
                            bitmap = BitmapFactory
                                    .decodeFile(selectedImagePath);
                            selPath = selectedImagePath;

                        } catch (Exception e) {
                            Log.v(TAG, "Exception: " + e.toString());
                            handler.sendEmptyMessage(IMAGENOTLOADED);
                        }
                    }
                }).start();
            } 
```

getTempFile 方法是这样的

```
private File getTempFile() {
    final File path = new File(Environment.getExternalStorageDirectory(),
            getPackageName());
    if (!path.exists()) {
        path.mkdir();
    }
    return new File(path, fileName);
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-05T05:58:19.473

尝试以下操作：

```
 FileInputStream instream = new FileInputStream("/sdcard/Pics/Image.png"); 
            BufferedInputStream bif = new BufferedInputStream(instream); 
            byteImage1 = new byte[bif.available()]; 
            bif.read(byteImage1); 
             BitmapFactory.decodeByteArray(byteImage1, 0, byteImage1.length); 
```

# algorithm - 算法分析——有什么想法吗？

> ID：12740145
> 
> 赞同：0
> 
> 时间：2012-10-05T05:41:02.570
> 
> 标签：algorithm, analysis

> **可能重复：**
> [至少长度为 L 的最大连续子序列和](https://stackoverflow.com/questions/7861387/maximum-contiguous-subsequence-sum-of-at-least-length-l)

令 X = {x1, x2, · · · , xn} 为任意数（正数或负数）的序列。给出一个 O(n) 时间的算法来找到所有连续子序列中总和最大的连续元素 xi,xi+1,···,xj 的子序列。例如，对于 X = {2,5, -10, 3, 12, -2, 10, -7, 5}，{3, 12, -2, 10} 是一个解。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T05:48:55.187

这个问题可以使用动态规划来解决。假设您的输入是数组`a`，您可以创建一个`S`相同长度的数组。以下是问题的递归关系。

`S[i] = S[i-1] + a[i] > a[i] ? S[i-1] + a[i] : a[i]`

基本情况：`S[0] = a[0]`

保持`max`跟踪最大总和。最后返回`max`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T06:14:56.203

答案是[http://en.wikipedia.org/wiki/Maximum_subarray_problem#Kadane.27s_algorithm](http://en.wikipedia.org/wiki/Maximum_subarray_problem#Kadane.27s_algorithm)

该算法背后的想法是，我们假设我们知道长度为 N 的数组的问题的真正最大子数组，并且我们知道从任一端开始的最大子数组。（基本原理：如果我们假设我们知道接触末端的最大序列，并且我们逐渐将更多元素添加到末端，那么我们不会错过真正的最大子数组，因为在某些时候添加到末端的元素将是相同的元素作为真正的最大子数组的端点。）添加一个额外的元素可能会增加连接到末尾的最长子数组的长度。如果子数组的总和低于 0，我们将其重置。如果它超过了我们当前对真正最大子阵列的最佳候选解决方案，我们将替换我们的最佳候选解决方案。

或者，我们可以使用集成的力量。（这是一个 O(N) pass 你可以免费做；你也可以免费进行微分。）然后我们查看所有极值，搜索两个极值 MIN 和 MAX，使得 MAX 在 MIN 的右侧（或否则你会找到最负的总和），并且MAX-MIN（连续总和）是最大的。你可以暴力破解这个子问题（如果极端数的数量小于 sqrt(N)，仍然是 O(N)），或者你可以以更有效的方式解决它[可以在这里使用一些帮助]。

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2012-10-05T05:44:33.067

这是所有非负元素的序列，很容易在线性`O(n)`时间内找到。

# android - eclipse托盘中的webview组件在哪里？

> ID：12740147
> 
> 赞同：0
> 
> 时间：2012-10-05T05:41:10.643
> 
> 标签：android, eclipse

我正在开发一个 android 应用程序，碰巧在使用布局后，我需要左侧托盘窗格中的 webview 组件，并且在复合下无法再看到它。这是一个错误我应该怎么做才能重新安装 eclispe。我在 mac 操作系统上。

非常感谢 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:09:14.393

它位于调色板的合成选项卡下。您也可以只输入`<WebView />`XML。

如果您使用它编译`<WebView />`并且它可以工作，那么它可能是一个 Eclipse 错误。如果它抛出异常或其他东西，那么它可能是您应用程序中的一个设置。

最近我在 WebView 上做了很多工作，这是一个很棒的功能，我建议使用 HTML5 App Cache 和 localStorage。制作一个响应速度非常快的应用程序。还可以在 javascript 中使用 ontouchstart 事件，显着提高响应能力。

# c# - 用于显示光栅图像的开源 C# 项目

> ID：12740150
> 
> 赞同：1
> 
> 时间：2012-10-05T05:41:30.123
> 
> 标签：c#, gdal

我计划构建一个示例 C# 应用程序，其中将选择并显示一个 tiff 文件。使用 GDALAPI 我想在显示的栅格上执行与山体阴影、坡度、颜色浮雕相关的计算。是否有任何开源项目已经可用于显示栅格及其信息？

问候，基肖尔

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-07T16:51:17.997

GDAL 包含一个工具，可以满足您的要求：[`gdaldem`](http://www.gdal.org/gdaldem.html). （它是用 C++ 编写的，而不是 C#。如果你下载了 GDAL 源代码，你会在下面找到它`gdal/apps/gdaldem.cpp`。）

下面是一些使用它的例子。

## 源高度图

这只是我在维基百科上找到的灰度 PNG：

![高度图](../Images/a775247251ac8a28d3555ef809e19f83.png)

## 山体阴影

```
gdaldem hillshade heightmap.png hillshaded.tif 
```

![山体阴影](../Images/7e81dd82990e9bc66c746904febaf3d1.png)

## 颜色浮雕

```
gdaldem color-relief heightmap.png ramp.txt relief.tif 
```

![颜色浮雕](../Images/add009dd5bf181f3b68ba1b3ef1b269a.png)

使用`ramp.txt`：

```
0    0   0   255
63   0   255 255
127  0   255   0
191  255 255   0
255  255   0   0 
```

（您为不同的高度提供颜色，并将`gdaldem`进行插值）。

## 带颜色浮雕的坡度

```
gdaldem slope heightmap.png sloped.tif
gdaldem color-relief sloped.tif slope-ramp.txt slope-relief.tif 
```

![带颜色浮雕的坡度](../Images/31c0e01648a17591d057c7d38a89f66c.png)

这是`slope-ramp.txt`：

```
0   255 255 255
90  0   0   0 
```

（这一次，您提供不同角度的颜色）。

您可能还对[Wikipedia 条目](http://en.wikipedia.org/wiki/GDAL#Software_that_uses_GDAL.2FOGR)中列出的使用 GDAL 的其他一些软件感兴趣。

# iphone - iOS - VLC 移动 API 不工作（MediaLibraryKit 中的一些文件丢失）

> ID：12740159
> 
> 赞同：1
> 
> 时间：2012-10-05T05:42:22.003
> 
> 标签：iphone, ios, libvlc

我已经从[VLC for iOS](http://www.videolan.org/vlc/download-ios.html)下载了相关的库和源代码。我编译了它，但它不起作用。它表明*MediaLibraryKit*中缺少一些 *.a 文件。我认为它的引用没有正确给出或可能被文件删除。我删除了“MediaLibraryKit”，从上面提到的链接下载了它。将 MediaLibraryKit-1.1.0 添加到我的项目中。我替换了以下导入语句；

```
#import <MediaLibraryKit/somefile>
to -> #import <MediaLibraryKit-1.1.0/somefile> 
```

现在它向我展示了很多错误

*   MediaLibraryKit-1.1.0/Sources/NSXMLNode_Additions.m:12:17：找不到“NSXMLNode”的接口声明
*   函数“MLLog”的隐式声明在 C99 中无效
*   MediaLibraryKit-1.1.0/Sources/NSXMLNode_Additions.m:24:22：找不到实例方法“-nodesForXPath:error:”（返回类型默认为“id”）

有人告诉我我做错了什么吗？或任何成功编译它的人？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-02-26T06:58:47.937

[https://wiki.videolan.org/IOSCompile/](https://wiki.videolan.org/IOSCompile/)帮助了我。如果您看起来相同，请查看链接。:)

# android - 在 Twiiter Api 集成中发现错误

> ID：12740169
> 
> 赞同：0
> 
> 时间：2012-10-05T05:43:21.857
> 
> 标签：android, twitter

我正在使用 twitter api 并找到如何解决它的错误，我在此文件夹中使用 lib 文件夹和 4 个 lib 文件，但出现错误..请帮助我解决以下错误通知：

找不到从方法 com.and.twi.twitter.TwitterUtils.isAuthenticated 引用的类 'twitter4j.http.AccessToken'

```
public void updateLoginStatus() {
        loginStatus.setText("Logged into Twitter : " + TwitterUtils.isAuthenticated(prefs));
} // here my apps is crash 
```

任何人都为我提供了与 Twiiter Api 相关的新解决方案或新的教程链接

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T12:24:38.053

将此行放在 onCreate ::

```
private Twitter twitter;
ConfigurationBuilder cb = new ConfigurationBuilder();
    cb.setDebugEnabled(true)
    .setOAuthConsumerKey(Constant.TWITTER_CONSUMER_KEY)
    .setOAuthConsumerSecret(Constant.TWITTER_CONSUMER_SECRET)
    .setOAuthAccessToken(Constant.twitterToken)
    .setOAuthAccessTokenSecret(Constant.twitterTokenSecret);
    TwitterFactory tf = new TwitterFactory(cb.build());
    twitter = tf.getInstance(); 
```

# php - 需要在.htaccess中重写URL的代码

> ID：12740173
> 
> 赞同：-1
> 
> 时间：2012-10-05T05:43:49.570
> 
> 标签：php, .htaccess, url-rewriting

我知道有很多关于 URL 重写的问题和答案，但我还没有找到任何可以解决我的等式的问题，所以在经过长时间的深入搜索后，我在这里提出了一个关于我的问题的问题。

我需要这个网址：

```
www.example.com/team/suman/1 
```

改为：

```
www.example.com/team/suman 
```

我没有找到任何在 htaccess 中编写代码的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:10:21.047

我假设“要改变”意味着重定向：

```
Options +FollowSymLinks
RewriteEngine on

RewriteRule ^team/([a-zA-Z0-9\-]+)/([0-9]+)$  team/$1 [L] 
```

未测试..但您可以尝试:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T08:22:05.067

或者，如果您想具体一点： `RewriteRule ^team/suman/(.*)$ /team/suman [L,R]`

L 和 R 标志，如果你想更改地址栏中的 url，而不只是使用 L 标志

# php - 在 php 中使用 inotify 在 linux 中读取文件

> ID：12740179
> 
> 赞同：1
> 
> 时间：2012-10-05T05:44:55.553
> 
> 标签：php, linux

当对文件进行更改并将文件内容输出到 php.ini 时，我需要在 linux 中读取文件。我读到了inotify，我认为这是我正在寻找的那个。我不太明白。我是否需要在 linux 中安装 inotify 以便我可以在 php 中使用 inotify？.. 如果可能的话，你能告诉我一个快速示例，说明我如何在 php 中使用它来读取/跟踪 php 中的文件以查找文件中发生的事件吗？ .

谢谢，

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-10-05T17:33:35.970

您可以在 PHP中使用`shell`/ ：`bash`

```
$shell = shell_exec("cat file");
print $shell 
```

# go - 如何在 Go 中循环遍历 UTF-8 字符串？

> ID：12740180
> 
> 赞同：16
> 
> 时间：2012-10-05T05:44:55.883
> 
> 标签：go

我有一个中文字符串：

```
x = "你好" 
```

我想遍历它并对其中的每个角色做一些事情，比如：

```
for i, len := 0, len(x); i < len; i++ {
    foo( x[i] ) // do sth.
} 
```

我发现它`len(x)`会返回`6`而不是`2`，在谷歌之后我找到了`RuneCountInString`返回字符串实际长度的方法，但我仍然不知道如何循环以`x[i]`获取正确的字符，`x[0] == '你'`例如..

谢谢

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-10-05T05:52:01.633

使用`range`.

```
x = "你好"
for _, c := range x {
    // do something with c
} 
```

如果您想要随机访问，则需要使用代码单元索引而不是字符索引。幸运的是，没有充分的理由需要字符索引，所以代码单元索引很好。

大多数语言都有完全相同的问题。例如，Java 和 C# 使用 UTF-16，它也是一种可变长度编码（但有些人假装不是）。

有关Go 为何使用 UTF-8 的更多信息，请参阅[UTF-8 宣言。](http://www.utf8everywhere.org/)

# javascript - Django、gevent-socketio 和会话

> ID：12740183
> 
> 赞同：2
> 
> 时间：2012-10-05T05:45:03.960
> 
> 标签：javascript, python, django, socket.io

我正在使用 Django 和 gevent-socketio 开发一个回合制游戏。我在 python 模块 (game_socketio.py) 中实现了 Socket.IO 服务器，这是一个类 (GameNamespace)，它具有在 JS 客户端之间发出和接收消息/事件的方法。现在我需要将 auth/sessions 系统与这个 websockets 交互集成，以便通过 Socket.IO 将用户模型信息返回给 javascript 客户端。

在 GameNamespace 类中存在请求对象或会话变量会很有用，那么，有一种方法可以传递这个对象吗？我不是在构建它的视图。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-02-19T13:31:02.343

[gevent-socketio](https://github.com/abourget/gevent-socketio)已经`namespace`有会话（dict）和请求作为它的参数。

# c# - 读取带有变量标签的 XML 文件

> ID：12740185
> 
> 赞同：0
> 
> 时间：2012-10-05T05:45:10.337
> 
> 标签：c#, asp.net, xml

我创建了以下格式的 XML 文件：

```
<?xml version="1.0" encoding="utf-8" ?>
<Employee_Info>
<Employee>
<Name> Blah </Name>
<ID> 001 </ID>
<Dept> ISDC </Dept>
</Employee>
<Employee>
<Name> Bleh </Name>
<ID> 002 </ID>
<Dept> COE </Dept>
</Employee>
<Employee>
<Name> Bah </Name>
<ID> 003 </ID>
<Dept> Roll_Out </Dept>
</Employee>
</Employee_Info> 
```

现在这是我用来显示数据的代码：

```
XmlTextReader reader = new XmlTextReader(Server.MapPath("~/XMLFile.xml"));
    while (reader.Read())
    {
        switch (reader.NodeType)
        {
            case XmlNodeType.Element: // The node is an element.
                Response.Write("<" + reader.Name + ">");
                break;
            case XmlNodeType.Text: //Display the text in each element.
                Response.Write(reader.Value + "<br />");
                break;
            case XmlNodeType.EndElement: //Display the end of the element.
                Response.Write("</" + reader.Name + ">");
                break;
        }
    } 
```

现在我的输出是这样的：

```
Blah 
001 
ISDC 
Bleh 
002 
COE 
Bah 
003 
Roll_Out 
```

我将如何显示标签和值？那就是我希望我的输出格式如下：

```
Name: Blah
ID: 001
Dept: COE 
```

如果我在 XML 文件中仅在一个地方添加一个额外的元素，比如在 3 名员工的信息中添加一个额外的电子邮件标签，该怎么办？我将如何阅读？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T05:55:59.627

```
XDocument doc = XDocument.Load(Server.MapPath("~/XMLFile.xml"));

var rows = doc.Descendants("Employee").Select(e => new
{
    Name = e.Element("Name").Value,
    ID = e.Element("ID").Value,
    Dept = e.Element("Dept").Value
});

foreach (var row in rows)
{
    Response.Write(String.Format("Name: {0} <br />", row.Name));
    Response.Write(String.Format("ID: {0} <br />", row.ID));
    Response.Write(String.Format("Dept: {0} <br />", row.Dept));
} 
```

或没有硬编码：

```
foreach (XElement x in doc.Descendants("Employee").Nodes())
{
    Response.Write(String.Format("{0}: {1} <br />", x.Name, x.Value));
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T05:54:25.840

为什么不使用 LINQ to XML 更简单：

```
 var result =  xDoc.Descendants("Employee").Select(x => new
                        {
                            Name = x.Element("Name").Value,
                            Id = x.Element("ID").Value,
                            Dept = x.Element("Dept").Value,
                        }); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T06:10:16.250

试试下面的代码。

```
XmlDocument xDoc = new XmlDocument();
xDoc.Load("Server.MapPath("~/XMLFile.xml")");

XmlNodeList nodeList;
nodeList = xDoc.DocumentElement.SelectNodes("Employee");

foreach (XmlNode emp in nodeList)
{
    foreach (XmlNode child in emp.ChildNodes)
    {
        Response.Write(child.LocalName);
        Response.Write(":");
        Response.Write(child.InnerText);
        Response.Write("\n");
    }

} 
```

希望有帮助。如果它确实将其标记为答案。-米林德

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T06:05:08.000

我相信你做对了。如果您查看您的 aspx 页面的源代码，您应该会看到 XML 标记。

```
<employee_info><employee><name>Blah<br></name><id>001<br></id><dept>ISDC<br></dept></employee><employee><name>Bleh<br></name><id>002<br></id><dept>COE<br></dept></employee><employee><name>Bah<br></name><id>003<br></id><dept>Roll_Out<br></dept></employee></employee_info> 
```

# java - 以下声明数组的方式是什么意思？

> ID：12740199
> 
> 赞同：3
> 
> 时间：2012-10-05T05:46:12.867
> 
> 标签：java

```
Object[] args = new Object[0]; 
```

我在调试时在我的代码库中遇到了这段代码。

稍后的某个地方有另一个这样的声明：

```
args = new Object[10] ; 
```

问题 ：

1.  为什么有人要初始化一个长度为零的数组？
2.  为什么代码不能只是：`Object[] args`然后到时候`args = new Object[10]`。创建长度为零的数组有什么意义吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T05:48:52.050

它只是创建大小为 0 的数组。很可能是为了在某处防止 NullPointerException。下一个赋值丢弃前一个数组并将大小为 10 的新数组分配给同一个变量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T05:49:08.117

这是一个空数组的声明。如果您不想在输入 for 或纯 foreach 循环之前检查空值，这很有用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T05:48:39.183

这是一个规范的对象数组声明和初始化。第一行`args`用一个新的 0 元素数组初始化变量。第二个使用 10 个元素的新数组重新初始化变量。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T05:58:58.287

使用空数组，您可以使用高级 for 循环安全地迭代数组。而且您不必检查是否为空。

```
 Object[] array = new Object[0];
     for(Object arg:array)
     {
         //It never enters here
     } 
```

所以下次你用`Object[] array = new Object[10]`这个循环分配它时可以迭代它。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-05T05:51:33.377

通常这种类型的编码是在您初始化数组时不知道数组的实际大小（在您的情况下为 args）时完成的。数组的大小在运行时决定。这就是为什么在初始化时它的大小保持为 0。稍后，在编程中，当您了解数组的实际大小时，它会重新初始化。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-05T05:48:58.100

这将创建一个具有零个槽的数组对象。

```
Object[] args = new Object[0]; 
```

然后，这会将 args 设置为具有 10 个持有人的 Object 数组，在您将某些内容放入其中之前，所有这些都将是空白的。

```
args = new Object[10] ; 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-05T05:49:04.170

`Object[]`是 Java 中“对象数组”的一个**对象**。数组是 Java 中的特殊对象。因此，您将**args**分配给另一个对象，该对象的索引最初具有 null 值。

> “创建一个长度为零的数组有什么意义吗？”

*   不，它只是用于初始化**args**变量，这可能会阻止您收到一些编译器警告。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-10-05T05:49:18.003

new Object[0] 是一个空的对象数组。

这就像在需要之前将 int 初始化为零。初始值在第二次赋值时被丢弃`args = new Object[10] ;`

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-10-05T05:55:00.940

好的，这是我对这如何有用的看法：

当你想像这样使用 for 循环时：

```
for(Object arg:args){
    // do something with arg
} 
```

而且你没有事先初始化它，编译器会给你一个错误，说 args 可能没有被初始化。

但是，如果将 args 初始化为 null，则会出现空指针异常。

相反，如果它是`new Object[0]`, args.length = 0, args 不为空，则循环正确地甚至不会执行一次。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2012-10-05T06:42:28.930

这只是防御性编码，可能没有必要。同样的想法似乎常常导致这样的结果：

```
String line = "";
while ((line = in.readLine()) != null)
{
  // ...
} 
```

这绝对是不必要的。

# text - 如何在 Crystal Reports 中对齐文本以对齐？

> ID：12740207
> 
> 赞同：3
> 
> 时间：2012-10-05T05:47:30.583
> 
> 标签：text, crystal-reports, formatting

我有如下文字。

```
ABC agrees to provide programming services for ABI ‎("‎CLIENT‎") ‎as described below under
"‎Programming Services‎" ‎for <u>which CLIENT is to pay</u> a rate described in Attachment A. 
```

该案文应加下划线，整个案文应有正当理由。我使用了带有`TextInterpretation`as的公式字段`HTMLText`。文本带有下划线，但没有正确对齐。

我尝试使用`TextObject`，这是合理的，但所需的文本没有下划线。请告诉我如何同时下划线和对齐文本。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2014-07-05T12:31:17.000

**使用visual studio 2010在水晶报表中对齐的解决方案**
**在格式编辑器中右键单击您的文本对象

段落 -> 水平对齐 -> 对齐 -> 对齐**

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2018-03-26T08:50:30.760

您可以使用 html 标记在公式中执行此操作（在文本解释中设置 HTML 文本）。例如：

```
'<div align="justify">El nombre es <b>primordial</b> de saber...</div>' 
```

我这样做是因为我需要一个带有粗体和合理文本的单词的公式。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-05T08:20:08.303

将您的公式放入**文本对象**中，然后双击要编辑的文本对象。现在选择公式，右键单击并单击**格式 {@formula_name}**。然后在文本解释中选择**HTML 文本。**您可以看到文本将被对齐并且标签也将被识别。

检查下面的图像以供参考。

![公式_格式](../Images/f72ad16a3f3faecfad2b9208870d4049.png)
![文本格式](../Images/e2cc7dbd8c63229cee47e9adacd84491.png)

这就是我得到的结果

![结果](../Images/d6ea8db5070ee7307c141582cd267e6f.png)
希望这对你有帮助。试试这个，请返回你的结果。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2019-12-09T16:40:14.530

对于 VS 2017，对齐配置移至`Common`部分

[![在此处输入图像描述](../Images/bad90ae02aa972dfb425563d6935aa3f.png)](https://i.stack.imgur.com/AMYsM.png)

# html - 冲突的 CSS 溢出属性 - 如何修复？

> ID：12740208
> 
> 赞同：0
> 
> 时间：2012-10-05T05:47:38.167
> 
> 标签：html, css, overflow

我有一个不错的 CSS3 菜单，效果很好，但我也加入了[1140px 网格系统](http://cssgrid.net/)。1140px 系统有一个如下所示的类：

```
.row {
 width: 100%;
 max-width: 1140px;
 min-width: 755px;
 margin: 0 auto;
 overflow: hidden;
} 
```

这`overflow: hidden;`是阻止菜单上的菜单下拉菜单正常工作。这是菜单的 HTML：

```
<div class="row">
<div class="twelvecol logo">
<h1><a href="/">Logo</a></h1>

   <div id="navigation">
    <ul>
    <li><a href="#">Home</a></li>

    <li>
        <a href="#">2012</a>

        <ul>
            <li><a href="#">January</a></li>

            <li><a href="#">February</a></li>

            <li><a href="#">March</a></li>

            <li><a href="#">April</a></li>

            <li><a href="#">May</a></li>

            <li><a href="#">June</a></li>

            <li><a href="#">July</a></li>

            <li><a href="#">August</a></li>

            <li><a href="#">September</a></li>

             <li><a href="#">October</a></li>
        </ul>
    </li>
  <!-- MORE CODE --> 
```

我试图通过添加来覆盖溢出属性，`overflow: visible !important;`但这完全破坏了页面。

谁能帮助解决问题并正确显示菜单*而无需*删除 1140px 网格系统？

这是[我创建的 jsFiddle](http://jsfiddle.net/Lynda333/Saajh/1/)。

注意：如果可行的话，我不介意使用使用 jQuery 的解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T06:05:06.793

将以下内容添加到 CSS 可以解决问题

```
#navigation ul
{
    position: absolute;
left: 500px;
min-width: 300px;
} 
```

[**工作演示**](http://jsfiddle.net/Saajh/5/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T06:25:17.767

```
#navigation ul{
  position:absolute;
 right:0;
}
#navigation li ul{
 width:110px;
 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T05:56:53.067

尝试在您的容器中添加一个新类：

```
<div class="row notoverflow"> 
```

在你的 CSS 中：

```
.row.notoverflow{overflow:auto} 
```

在你的容器的末端

```
<div class="row notoverflow">. . .
    <div style="clear:both"></div>
</div> 
```

没有这个`overflow:hidden`属性，容器的高度不会随着他的内容而增加……另一种方法是清除浮动。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T06:17:36.683

您还可以从包含的 div 中删除整个 Nav div，以便它在文档流中排在第一位……如上

# javascript - 如何使用javascript在html中循环运行多个flash文件

> ID：12740210
> 
> 赞同：1
> 
> 时间：2012-10-05T05:47:42.137
> 
> 标签：javascript, html

我有 4 个 .swf 格式的 flash 文件，它们循环播放，一个接一个，持续 n 次..

这是我的代码，

```
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>test page</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="swfobject.js"></script>

    <script type="text/javascript">
        var i=1;
        var restartTime = 10700; //in milliseconds
        function stopSwf()
        {           
        i=i+1;
        swfobject.removeSWF("swfLoop");
        startSwf();            
        }

        function startSwf() 
        {
          if(i==5)
         {
         i=1;
         }
          $("body").append("<div id='swfLoop'></div>");
          var flash = i+".swf";
          swfobject.createSWF({data:flash, width:900, height:400}, null, "swfLoop");
          setTimeout('stopSwf()', restartTime);
          }
    </script>
</head>
<body onload="startSwf()">
</body>
</html> 
```

我的问题是，上面的代码在所有浏览器中都可以正常工作，除了 IE ......

谁能帮我在 IE 中完成这项工作

谢谢

**夏尔·阿里·谢克**

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-05T06:24:21.347

对于您的问题，我已经阅读了有关此[swf 对象](http://code.google.com/p/swfobject/)的答案。它是一个 js 对象，它将提供有关您的问题的功能

# iphone - 在 io5 和 ios 6 中处理布局而不使用两个 xib

> ID：12740215
> 
> 赞同：0
> 
> 时间：2012-10-05T05:48:29.773
> 
> 标签：iphone, objective-c, ios, xcode, ios6

我如何在 IOS5 和 IOS6 中处理布局。以前我在 IOS5 中开发了我的应用程序。现在我面临布局问题（3.5 和 4 英寸）。我已经完成了很多研发工作，发现我们可以使用约束来解决它，但我不理解约束的概念。任何人都可以在不使用两个 xib 的情况下帮助我这样做吗？我找到[了这个链接](http://www.raywenderlich.com/20897/beginning-auto-layout-part-2-of-2)

我如何继续前进，但同时提供向后兼容性？任何建议都会很棒。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:25:44.120

不要使用 AutoLayout，因为您的 iOS5 用户甚至无法运行您的应用程序。在 Interface Builder 中保持未选中“使用自动布局”。相反，在 IB 中使用 springs 和 struts 或`autoresizingMask`在代码中使用视图的属性。

# php - 图像文件大小（以 PHP 为单位）

> ID：12740221
> 
> 赞同：0
> 
> 时间：2012-10-05T05:48:48.617
> 
> 标签：php

我正在尝试获取图像的文件大小。如果我上传低于 5 MB 大小的图像，则此函数正在正确计算图像大小。但如果超过图像文件大小，则不计算图像文件！

$size = 文件大小($_FILES['file']['tmp_name']);

我不明白问题是什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T05:58:30.030

未经测试的代码

```
 if(empty($_FILES) && empty($_POST) && isset($_SERVER['REQUEST_METHOD']) && strtolower($_SERVER['REQUEST_METHOD']) == 'post'){ //catch file overload error...
        $postMax = ini_get('post_max_size'); //grab the size limits...
        echo "<p style=\"color: #F00;\">\nPlease note files larger than {$postMax} will result in this error!<br>Please be advised this is not a limitation in the CMS, This is a limitation of the hosting server.
        callMyForm(); //bounce back to the just filled out form.
}
elseif(// continue on with processing of the page... 
```

# scheme - 在方案中实现二叉搜索树

> ID：12740226
> 
> 赞同：0
> 
> 时间：2012-10-05T05:48:52.277
> 
> 标签：scheme, racket

方案/球拍中的功能。使用二叉搜索树处理一些函数。我已经将辅助函数定义为：

```
;; returns value of node
(define (value node)
    (if (null? node) '()
        (car node)))

;; returns left subtree of node
(define (left node)
    (if (null? node) '()
    (cadr node)))

;; returns right subtree of node
(define (right node)
    (if (null? node) '()
    (caddr node))) 
```

我正在尝试编写一个函数`size`，它将树作为参数并返回给定树中非空节点的数量

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T06:11:02.840

看来你们很亲近了。试试这个（未经测试）：

```
(define (size tree)
  (if (null? tree) 0
      (+ 1 (size (left tree)) (size (right tree))))) 
```

虽然，就个人而言，我更喜欢`#f`用作 null 值，而不是`'()`. 在这种情况下，请在第一行中使用`not`而不是。`null?`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T05:21:59.880

只是一个选择！！您可以使用结构，这将减少编写三个函数的工作......

```
(struct node (val left right) #:transparent)
(struct null-tree ()) 
```

并使用结构的内置函数直接编写上述函数，即谓词和参数访问器。

```
(define (size tree)
  (if (null-tree? tree) 0
    (+ 1 (size (left tree)) (size (right tree))))) 
```

# javascript - Jquery 不透明度淡入出循环

> ID：12740235
> 
> 赞同：10
> 
> 时间：2012-10-05T05:49:18.540
> 
> 标签：javascript, jquery, css

我的一位客户要求我在 div 上制作闪烁效果。我认为这对他来说可能不是最好的事情，也许光线淡入和淡出不透明会引起他的客户的注意，而不会惹恼他们。

我目前有

```
 <a class="special_button" href="#">Special Offers &rsaquo;</a> 
```

我有另一个 div 的以下代码，这会导致浏览器加载时淡入：

```
$('.logo-top').delay(700).animate({
     'opacity' : '1',        
     'top' : '+=40px'
}, { duration: 700, easing: 'swing' }); 
```

我将如何为 special_button 做类似的事情，而是循环不透明度？从80到100？

如果它循环一定次数会更好，可能像 5 次。

最好的，斯捷潘

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-10-05T06:05:25.187

你可能想要这样的[jsFiddle](http://jsfiddle.net/FLMp8/26/)。

您还可以通过保持一个计数器来指示您希望它闪烁的次数。

来自 jsFiddle 的代码：

```
$(document).ready(function() {
     function runIt() {           
       var baloon = $('#baloon');
       baloon.animate({opacity:'1'}, 1000);
       baloon.animate({opacity:'0.5'}, 1000, runIt);
    }
    runIt();
}); 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-10-05T07:00:06.103

为什么不使用 CSS3 关键帧？

```
.twinkle {
  background: red;
  padding: 0.2em;
  margin: 50px;
}

@-webkit-keyframes twinkly {
  from {opacity: 1;}
  to {opacity: 0.4;}
}

@-moz-keyframes twinkly {
  from {opacity: 1;}
  to {opacity: 0.4;}
}

@-ms-keyframes twinkly {
  from {opacity: 1;}
  to {opacity: 0.4;}
}

@keyframes twinkly {
  from {opacity: 1;}
  to {opacity: 0.4;}
}

.twinkle {
  -webkit-animation: twinkly 1s alternate infinite;
  -moz-animation: twinkly 1s alternate infinite;
  -ms-animation: twinkly 1s alternate infinite;
  animation: twinkly 1s alternate infinite;
}
```

```
<span class="twinkle">Special Offers &rsaquo;</span>
```

然后，您可以为旧版浏览器使用后备。其他人提出的任何脚本都很好，但我会建议 Ulan 的解决方案。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-10-05T06:34:33.413

你可以这样做；

```
(function() {
    var cnt = 0;
    var specials = $(".special_button");

    function next() {
        if (cnt < 5) {
            specials.fadeTo(2000, .1).fadeTo(2000, 1, next);
            ++cnt;
        }                    
    }

    next();
})();
​ 
```

工作演示：http: [//jsfiddle.net/jfriend00/558GY/](http://jsfiddle.net/jfriend00/558GY/)

仅供参考，80% 和 100% 不透明度之间的差异非常微妙。我在演示中做出了更大的改变。您显然可以调整到您想要的任何效果。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-05T06:54:29.590

据我了解，您想要在这里闪烁的东西：

```
$("document").ready(function() {
    anm(".special_button");
});
function anm(element) {
    $(element).delay(200).animate({ opacity: 'toggle' }, 1000, function() { anm(element); });
} 
```

演示：http: [//jsfiddle.net/BerkerYuceer/GdcRs/](http://jsfiddle.net/BerkerYuceer/GdcRs/)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-05T14:25:38.030

如果你喜欢短代码，那么你可以使用[插件 jquery-timing](http://creativecouple.github.com/jquery-timing/)在 jQuery 中进行计时。它将您的完整代码缩减为：

```
$('#baloon').repeat().fadeTo(1000,1).fadeTo(1000,0.5,$); 
```

哦，当您希望它切换特定次数（例如 20 次）时，您可以编写

```
$('#baloon').repeat().fadeTo(1000,1).fadeTo(1000,0.5,$).until(20); 
```

酷，嗯？

# android - android库应该自动启动

> ID：12740240
> 
> 赞同：1
> 
> 时间：2012-10-05T05:49:51.727
> 
> 标签：android, android-library

我正在开发一个名为 samplelib.jar 的 android 库，其中包含一个单独的类**CallMyFlow中的方法****executeFlow()**。我在我的主项目中添加了这个库，并在 OnCreate() 时调用，它运行良好。**`CallMyFlow.executeFlow()`**

 **但是我需要**executeFlow()方法应该自动运行而不在****OnCreate()**中调用它。我想简单地将那个 jar 添加到我的项目中。并且库本身想要发现**OnCreate()**正在发生，它应该自动调用**executeFlow()**方法。

我不需要在我的主项目中添加任何额外的代码（即）调用**OnCreate() 中的方法，或扩展 library 中的任何自定义类**。可能吗？我试过了，但无法得到结果。欢迎任何想法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T09:41:45.553

根据android SDK，我希望这是不可能的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T08:55:52.333

不，那是不可能的。要让你的库做一些事情，你需要调用一些函数，或者从你的库中实例化一些对象。

我不确定您为什么想要这种行为，但是如果您想在从库创建对象之前执行一些代码，请查看**static blocks**。但是请注意，静态块也需要在执行之前使用它们的类： [静态类初始化何时发生？](https://stackoverflow.com/questions/3499214/java-static-class-initialization)**

# c# - route.MapPageRoute 到带有扩展名的页面

> ID：12740248
> 
> 赞同：1
> 
> 时间：2012-10-05T05:50:52.327
> 
> 标签：c#, asp.net, c#-4.0, url-routing

在我的网站项目（不是 MVC，不是 Web 应用程序）的 global.asax 中，MapPageRoute 不会让我映射到带有扩展名的页面。

例如：

```
routes.MapPageRoute("GetMobilePassForAttendee", "Pass/Attendee/{attendeeId}", "~/GetMobilePass.aspx"); 
```

按预期工作，但是

```
routes.MapPageRoute("GetMobilePassForAttendee", "Pass/Attendee/{attendeeId}/pass.pkpass", "~/GetMobilePass.aspx"); 
```

返回 404。

有谁知道为什么？

也许我应该使用 URL 重写，但我读过的所有材料都建议我使用路由。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-03T14:07:31.150

这对我有用：

```
routes.MapPageRoute("FederationMetadataRoute", "FederationMetadata/2007-06/{file}", "~/FederationMetadata/2007-06/FederationMetadata.aspx") 
```

然后我只是检查`{file}`参数以确保它等于`FederationMetadata.xml`

所以在你的情况下，只需设置`Pass/Attendee/{attendeeId}/pass.pkpass`为`Pass/Attendee/{attendeeId}/{pkpass}`

并检查`{pkpass}`以确保它`pass.pkpass`在您的页面上等于。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T06:32:49.517

你有没有单独测试过“pass.pkpass”页面，比如说attendeeid=1，看看Pass/Attendee/1/pass.pkpass是不是没有路由的工作页面？

因为如果这是一个工作页面，.NET 路由在这种情况下将不起作用。它将跳过路由并加载实际的“Pass/Attendee/1/pass.pkpass”页面。

# c# - 在 Windows 窗体应用程序 c# 上查询

> ID：12740251
> 
> 赞同：0
> 
> 时间：2012-10-05T05:50:54.880
> 
> 标签：c#

我需要开发一个桌面应用程序。它必须连接到一个网站并单击其中一个页面上的“提交”按钮。基本上我们必须阅读一个 Excel 表（包含发票编号），每个发票编号都需要点击“提交”按钮。

现在我已经阅读了我们可以使用 webbrowser 控件，但我的要求是网站不应该在浏览器中打开，它应该在内部完成而不在任何浏览器中打开，连接到网站，获取每个数字并点击提交按钮。

对此的任何指示都会有所帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:05:24.213

如果您可以将 Web 服务部署到网站，则最好为此使用 Web 服务。

如果没有，您将不得不使用 Web 浏览器控件。Web 浏览器控件不必在表单上。您可以即时创建 Web 浏览器对象。[在新线程中](https://stackoverflow.com/questions/4269800/webbrowser-control-in-a-new-thread)检查 WebBrowser 控件

但是，网络浏览器通常有更多的开销。

相反，您可以使用 fiddler 来嗅探流量并使用 httpwebrequest/webrequest 类来执行此操作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T05:55:06.787

您可以使用 WebRequest 类来发布数据。看到这个：

[http://www.netomatix.com/httppostdata.aspx](http://www.netomatix.com/httppostdata.aspx)

# c++ - 在 C++ 中满足某些条件（如果）后，如何重新启动 while 循环？

> ID：12740268
> 
> 赞同：3
> 
> 时间：2012-10-05T05:52:26.540
> 
> 标签：c++, if-statement, while-loop

我在 while 循环中有很多 if 语句，程序必须根据条件打印错误消息，但如果有多个错误，它必须只有其中一个。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-05T05:59:05.683

您的问题不是很详细，因此很难说出您到底想要什么。

如果您希望 while 循环在任何错误触发后进入下一次迭代，您应该使用以下`continue`语句：

```
while( something )
{
    if( condition )
    {
        //do stuff
        continue;
    }
    else if( condition 2 )
    {
        //do other stuff
        continue;
    }
    <...>
} 
```

如果循环内除了这些`if`s 之外没有其他内容，并且条件是整数值，则应考虑`switch`改用：

```
while( condition )
{
    switch( errorCode )
    {
        case 1:
        //do stuff;
        break;
        case 2:
        //do other stuff;
        break;
        <...>
    }
} 
```

如果您想完全重新启动循环……那么这有点困难。由于您有一个`while`循环，您可以将条件设​​置为它的起始值。例如，如果您有这样的循环：

```
int i = 0;
while( i < something )
{
    //do your stuff
    i++;
} 
```

然后你可以像这样“重置”它：

```
int i = 0;
while( i < something )
{
    //do your stuff
    if( something that tells you to restart the loop )
    {
        i = 0;//setting the conditional variable to the starting value
        continue;//and going to the next iteration to "restart" the loop
    }
} 
```

但是，您应该非常小心，因为很容易意外获得无限循环。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-05T05:57:43.123

```
String errorMessage = "No Error";

while( cond){
if( cond 1) {
  errorMessage = " Error 1"
}

if( cond 1) {
  errorMessage = " Error 1"
}

if( cond 1) {
  errorMessage = " Error 1"
}

if( cond 1) {
  errorMessage = " Error 1"
}
} 
```

如果您想在遇到任何错误后中断，请使用`break`

如果您想在遇到任何错误后忽略当前迭代，请使用`continue`

如果您想在遇到任何错误后终止执行，请使用`exit`

# jsp - 如何将网格存储的修改记录传递到extjs中的jsp页面

> ID：12740272
> 
> 赞同：0
> 
> 时间：2012-10-05T05:52:42.360
> 
> 标签：jsp, extjs, extjs3

我已经创建了一个编辑器网格面板，其中我已经编辑了数据并将修改后的记录存储在数组中，如何将这些记录传递给 jsp 页面以在数据库中更新

```
 function modifycheckpoints(){
     var updateddata =new Array(); 
     updateddata.push(checkpoint.getModifiedRecords());
       Ext.Ajax.request({   
          url: 'update_checklist.jsp',
          params: {             
                     updatedcheckpoint: updateddata
                              }, 
          success: function(response){                          
             Ext.Msg.alert("Result","Data modified successfully");
             checkpoint.reload();
          },
          failure: function(response){
              Ext.MessageBox.alert('Error','could not connect to the database. retry later');       
          }                                     
       });   
      }
     }); 
```

我试过这样但我没有在jsp页面中获取数据可以请帮助我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T06:09:42.457

我们需要在发送之前对修改后的记录进行编码

```
var updateddata = myGrid.getStore().getModifiedRecords();
        var ch = new Array();

        for (var i = 0; i < updateddata.length; i++) {

            ch.push(updateddata[i].data);

        }
        ch = Ext.encode(ch); 
```

编码后我们将获取数据为 json 字符串

# c# - 如何在 C# 中匹配要插入到我的 ComboBox 中的数据

> ID：12740284
> 
> 赞同：2
> 
> 时间：2012-10-05T05:53:20.050
> 
> 标签：c#, xml, visual-studio-2010, combobox

```
<root>
    <Bathing>
        <Id>San100</Id>
        <name>Santoor</name>
        <AvailProducts>30</AvailProducts>
        <Cost>20.00</Cost>
    </Bathing>
    <Bathing>
        <Id>Det123</Id>
        <name>Dettol</name>
        <AvailProducts>30</AvailProducts>
        <Cost>15.00</Cost>
    </Bathing>
    <Bathing>
        <Id>Rex123</Id>
        <name>Rexona</name>
        <AvailProducts>30</AvailProducts>
        <Cost>16.00</Cost>
    </Bathing>
</root> 
```

我是 C# 和 XML 的新手。这里我使用 XML 作为数据表。

如何仅将 Name 元素插入到我的`ComboBox`?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:00:03.400

使用 LINQ2XML ..它**很酷**

使用`System.Xml.Linq`库

```
XElement doc=XElement.Load("yourXML.xml"); 
var yourList=doc.Descendants("Bathing").Select(x=>x.Element("name").Value); 
```

yourList 现在包含所有名称

```
foreach (var name in yourList )
        {
            comboBox1.Items.Add(name);
        } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T06:37:00.903

创建一个数据集，然后通过数据集读取 XML 文件，然后将组合框绑定到数据集。将显示成员设置为“名称”。

```
string myXMLfile = @"C:\MySchema.xml";
    DataSet ds = new DataSet();
    // Create new FileStream with which to read the schema.
    System.IO.FileStream fsReadXml = new System.IO.FileStream 
        (myXMLfile, System.IO.FileMode.Open);

        ds.ReadXml(fsReadXml);
        combobox1.DataSource = ds;
        combobox1.Displaymember="name"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T06:05:21.480

```
BindingSource bs=new BindingSource;    
DataTable dt=new DataTable;    
bs.DataSource=dt;    
Combobox1.Displaymember="name"; 
```

# javascript - html内容的json解析错误

> ID：12740285
> 
> 赞同：1
> 
> 时间：2012-10-05T05:53:21.643
> 
> 标签：javascript, jquery, json, html

我的问题是 html 内容没有被解析`JSON.parse`。

1.  我正在从内容可编辑的 div 中获取输入。

    `var content = $("#contentInput").html();`

2.  之后我将其发送到服务器`JSON.stringify`

    `var dataToServer= JSON.stringify(content); //sending an object`

3.  我从服务器获得的相同内容，我试图解析它。

    `var dataFromServer = JSON.parse(content);`

在这里，我的问题引发了解析器抛出错误。html 数据的内容按原样接收。

我试过`eval`了，但在阅读了[一些文章](http://blogs.msdn.com/b/ericlippert/archive/2003/11/01/53329.aspx)后，我撤回了我的决定。

如何解决问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:12:56.673

这是工作代码的[文件演示](http://jsfiddle.net/mytME/4/)。

问题是您的服务器损坏了内容。请检查您的服务器代码，它可能会添加一些不可打印的字符。

如果内容不是 JSON 格式，则 JSON.parse 失败。它严格遵循jsonstring的规则来解析它（我的意思是双引号和其他/）。

您的服务器可能正在向内容或 jsonstring 添加一些其他无用字符。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T06:27:35.863

JSON.stringify 需要一个 javascript 对象。试试这样：

```
var content = $("#contentInput").html();
var dataToServer = JSON.stringify({ html: content });
...
var dataFromServer = JSON.parse(dataToServer);
var content = dataFromServer.html; 
```

# c# - 身份验证如何应用于在 Visual Studio 2010 中使用 C# 的 Web 应用程序的所有 aspx 页面？

> ID：12740287
> 
> 赞同：1
> 
> 时间：2012-10-05T05:53:36.930
> 
> 标签：c#, asp.net, visual-studio-2010, web-applications

我已经使用 C# 在 Visual Studio 2010 中创建了一个 Web 应用程序。

我有两个网页，Web 应用程序托管在已加入域的计算机上`WATSON`

第一个网页基本上是登录页面。最终用户将输入他们的用户名和密码并选择他们的域并单击提交。

现在，问题是虽然我使用以下代码对用户进行身份验证，但我不知道我应该如何将身份验证结果存储为。

```
using(PrincipalContext pc = new PrincipalContext(ContextType.Domain, txtboxDomain.Text))
{
    // validate the credentials
    bool isValid = pc.ValidateCredentials(txtboxUser.Text, txtboxPass.Text);
} 
```

我曾考虑将经过身份验证的结果存储为 cookie，但我冒着最终用户可能会禁用 cookie 设置或最终用户尝试对 cookie 进行有趣操作的风险。

此外，我无法将登录页面放在我的 Web 应用程序拥有的每个网页上。

另外，假设我将已成功通过身份验证的最终用户重定向到另一个 aspx 页面，最终用户可能只是为该 aspx 页面添加书签。因此，下一次，最终用户将直接进入 aspx 页面而不进入登录页面。然后最终用户将不需要登录，这是我不希望发生的。

那么，我应该如何着手使只有那些正确和合法的用户才能访问另一个 aspx 页面？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T06:06:57.527

看看我的答案之一如何在应用程序级别设置 Windows 身份验证：

[WindowsIdentity 和经典 .Net 应用程序池](https://stackoverflow.com/questions/12645601/windowsidentity-and-classic-net-app-pool/12646148#12646148)

这是另一个链接，您可以如何限制用户对特定页面的访问，它可能会让您得心应手：

[如何限制未登录/未经授权的用户在 ASP.NET 中查看网页](https://stackoverflow.com/questions/12550768/how-to-restrict-unlogged-unauthorized-users-from-viewing-web-pages-in-asp-net/12551115#12551115)

# php - 如何将 php 5.4.4 连接到 MSSQL server 2005

> ID：12740288
> 
> 赞同：0
> 
> 时间：2012-10-05T05:53:40.957
> 
> 标签：php, sql-server-2005

问：如何将 php 5.4.4 (xampp 1.8.0) 转换为 MSSQL Server 2005？

[状态：我从这里](http://www.microsoft.com/en-us/download/details.aspx?id=20098)下载 SQLSRV30.EXE 。并将 .dll 文件安装到我的 php/ext 文件夹中。我在 php.ini 设置了扩展。但无法连接到 MSSQL server 2005。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T11:12:04.427

您需要使用 FreeTDS 库。这很简单。参考链接：[http](http://docs.moodle.org/24/en/Installing_MSSQL_for_PHP) : //docs.moodle.org/24/en/Installing_MSSQL_for_PHP 但是我没有找到 php 5.4 的库 php_dblib.dll。

我编译它。您可以在这里下载：http: [//inethub.olvi.net.ua/ftp/pub/soft/programming/php/ms%20sql%20driver%20for%20%20php%205.4.10/](http://inethub.olvi.net.ua/ftp/pub/soft/programming/php/ms%20sql%20driver%20for%20%20php%205.4.10/)或在这里：[ftp:/ /inethub.olvi.net.ua/pub/soft/programming/php/ms%20sql%20driver%20for%20%20php%205.4.10/](ftp://inethub.olvi.net.ua/pub/soft/programming/php/ms%20sql%20driver%20for%20%20php%205.4.10/)它是用带有nts的VC9编译的。

这是镜像：TS - [http://www.sendspace.com/file/vtger3](http://www.sendspace.com/file/vtger3) NTS - [http://www.sendspace.com/file/nkg2j4](http://www.sendspace.com/file/nkg2j4)

SQLSRV30.EXE - 参考[http://msdn.microsoft.com/en-us/library/cc296170%28v=sql.90%29.aspx](http://msdn.microsoft.com/en-us/library/cc296170%28v=sql.90%29.aspx) 可能您需要安装 Microsoft SQL Server 2008 R2 Native Client。

# hibernate - 具有扩展域类的可搜索插件

> ID：12740295
> 
> 赞同：1
> 
> 时间：2012-10-05T05:54:11.703
> 
> 标签：hibernate, grails, groovy, lucene, grails-orm

以下是一些域类及其关系：

```
class Vehicle {
    Integer hireRatePerHour
}

class Bus extends Vehicle {
    Integer numberOfSeats
}

class Truck extends Vehicle {
    Integer maxLoad
}

class Trip {
    String origin
    String destination
    static belongsTo = [vehicle: Vehicle]
} 
```

我希望能够进行设置，以便可以根据类的属性`searchable`搜索旅行：`numberOfSeats``Bus`

```
def results = Trip.search {
    must(term('numberOfSeats', params.numberOfSeats))
} 
```

根据我在文档和网上看到的内容，`Bus`（或者`Vehicle`，不确定，因为`Bus`extends `Vehicle`）应该设置为`component`. 所以这就是我所拥有的（就`searchable`配置而言）：

```
class Trip {
    static searchable = {
        vehicle component: true
    }
}

class Bus {
    static searchable = true
}

class Truck {
    static searchable = true
}

class Vehicle {
    static searchable = true
} 
```

但是，`results`始终是一个空列表。我使用 Luke ( [http://code.google.com/p/luke/](http://code.google.com/p/luke/) ) 进行了搜索`numberOfSeats`，所有结果都是类的`Bus`（`Trip`我猜这不是我为什么`Trip.search { ... }`不起作用的原因）。

所以，经过长时间的解释......有人知道如何`static searchable = ...`在我的域类中进行组织以便能够`Trip.search { ... }`使用`numberOfSeats`吗？

# sprite - 在 Google 地球上使用 Sprite 图像

> ID：12740301
> 
> 赞同：2
> 
> 时间：2012-10-05T05:54:27.367
> 
> 标签：sprite, google-earth

目前，我在我创建的网站上的 Google 地球上加载了很多地标。每个地标对应于来自服务器的单个文件。地标是由服务器在初始化期间从不同的图像中一一创建的。

为了减轻服务器和客户端的负载，我计划使用 css 更改我提到的使用 sprite image 的实现。这在谷歌地球上可行吗？我找不到有关此的任何信息。也许你可以提供一些参考来做到这一点。

非常感谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T06:19:15.110

[能够将图像精灵用于地标图标](http://code.google.com/p/earth-api-samples/issues/detail?id=493)

我认为你可以这样做：

```
ge.getFeatures().appendChild(me.placemark);
 me.point = ge.createPoint('');
 me.placemark.setStyleSelector(ge.createStyle(''));
 var IconStyle = me.placemark.getStyleSelector().getIconStyle();
 IconStyle.getColor().set(colour);
 IconStyle.getHotSpot().setXUnits(ge.UNITS_FRACTION); 
IconStyle.getHotSpot().setYUnits(ge.UNITS_FRACTION);
 IconStyle.getHotSpot().setX(0.5);
 IconStyle.getHotSpot().setY(0.5);
 me.setLoc(lat,lon); 
```

恕我直言：如果精灵中有数千张图像，它将加载它的次数与地图上地标的数量一样多。

# c# - 循环依赖和循环引用有什么区别，或者依赖和引用有什么区别？

> ID：12740302
> 
> 赞同：0
> 
> 时间：2012-10-05T05:54:28.427
> 
> 标签：c#, java, dependencies, preference

如问题所述，谁能告诉我循环依赖和循环引用之间的区别或依赖和引用之间的区别？

当朋友让我区分这两个定义时，我感到很不清楚，无法回答他的问题。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T06:39:11.663

在评估依赖项时，会在构建或编译时出现循环依赖项。

假设您正在谈论的是[chain of] 循环*引用 [s] ，它在运行时出现在循环对象图中。*

从未听说过“循环偏好”。

# iphone - 错误：将代码从 ios 5.x 更新到 6.0 时，“范围 {2147483647, 1} 超过 NSNotFound - 1 的最大索引值”

> ID：12740305
> 
> 赞同：1
> 
> 时间：2012-10-05T05:54:51.080
> 
> 标签：iphone, objective-c, ios5, ios6

我正在尝试将我的应用程序从 ios5.x 更新到 6.0。我的代码在 ios 5.1.1 中运行良好，但是当我在 ios6.0 中运行时出现错误

`"Terminating app due to uncaught exception 'NSRangeException', reason: '*** -[NSMutableIndexSet addIndexesInRange:]: Range {2147483647, 1} exceeds maximum index value of NSNotFound - 1'"`

点击按钮。请提出任何解决方案

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-04T04:57:49.783

This one may be Helps you ,in my case i'm also facing the same problem but now i got it, where i had done the mistake.. [UIPickerView selectrow crash in iOS 6](https://stackoverflow.com/questions/13538118/uipickerview-selectrow-crash-in-ios-6)

# magento - Magento：角色资源未显示

> ID：12740311
> 
> 赞同：0
> 
> 时间：2012-10-05T05:55:06.560
> 
> 标签：magento, acl

我在 magento 1.5.1 上遇到了这个问题：

资源角色树为空（**网络服务和权限**）

要找出我遇到的错误：

1.  禁用所有扩展（将 xml 文件从 /etc/modules/ 移开），但这不是修复。
2.  与原始核心文件进行比较。（文件相同）

所以问题应该在某个数据库级别。

我找到了这个旧的讨论，但它对我没有帮助：http: [//www.magentocommerce.com/boards/viewthread/21449/](http://www.magentocommerce.com/boards/viewthread/21449/)

**更新：**

我发现空树是由这些代码行引起的：

文件：/app/code/core/Mage/Adminhtml/Block/Permissions/Tab/Rolesedit.php

```
 $rootArray = $this->_getNodeJson($resources->admin, 1);

    $json = Mage::helper('core')->jsonEncode(isset($rootArray['children']) ? $rootArray['children'] : array()); 
```

$json 为空，而 $rootArray 看起来正确填充（它包含一个 ['children'] 节点）所以问题从 jsonEncode() 方法开始

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:53:38.407

1.  禁用所有扩展
2.  交叉检查核心文件（**/app/code/core**、**/js**、**/lib**、**/app/design/adminhtml**）和默认的 magento 文件，例如。`diff -qrbB magento_origina/js/ YOUR_MAGE_PROJECT/js/`

3.  还原任何更改

4.  清除缓存（如果您禁用它，后端将继续被缓存）
5.  检查它是否已修复
6.  隔离问题并修复它

-> 在这种特殊情况下，问题与文件 /js/ext-tree-checkbox.js 中的某些模块有关

# windows-phone-7 - Windows Phone 中的 SQLCE 性能很差

> ID：12740318
> 
> 赞同：4
> 
> 时间：2012-10-05T05:56:15.290
> 
> 标签：windows-phone-7, sql-server-ce

我已经写了这个帖子，因为我已经解决了这个问题整整三天了！

基本上，我有一个程序可以收集一个大的 CSV 文件并将其用作本地 SQLCE 数据库的输入。对于这个 CSV 文件中的每一行（它代表某种对象，我们称之为“狗”），我需要知道这条狗是否已经存在于数据库中。如果它已经存在，请不要将其添加到数据库中。如果不存在，请在数据库中添加一个新行。

问题是，每个查询大约需要 60 毫秒（一开始，当数据库为空时），当数据库大约 1000 行大时，它会上升到大约 80 毫秒。当我必须通过 1000 行（我认为这并不多）时，这大约需要 70000 毫秒 = 1 分 10 秒（只是为了检查数据库是否是最新的），太慢了！考虑到这个数量有一天可能会超过 10000 行，我不能指望我的用户在他的数据库同步之前等待超过 10 分钟。我尝试改用编译后的查询，但这并不能提高性能。

我正在搜索的字段是一个字符串（它是主键），并且它已被索引。

如果有必要，我可以用代码更新这个线程，这样你就可以看到我做了什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T14:52:10.463

Windows Phone 上的 SQL CE 不是最快的生物，但您可以对其进行优化：

本文涵盖了您可以做的许多事情：[WP7 Local DB Best Practices](http://www.windowsphonegeek.com/articles/Performance-Best-Practices-Windows-Phone-Mango-Local-Database)

他们还提供了一个可以下载的 WP7 项目，以便您可以使用代码。

在本文之上，我建议将您的 PK 从字符串更改为 int；字符串比整数占用更多空间，因此您的索引会更大并且需要更多时间从独立存储中加载。当然，在 SQL Server 中搜索字符串比搜索整数/长整数要慢。

# tftp - 超过 tftp 重试超时

> ID：12740319
> 
> 赞同：1
> 
> 时间：2012-10-05T05:56:17.227
> 
> 标签：tftp

我的问题是当我通过 TFTP 将内核映像下载到 Econa 处理器板（Econa 是基于 ARM 的处理器）时，重试次数超出，如下所示

```
CNS3000 # tftp 0x4000000 bootpImage.cns3420.uclibc 
MAC PORT 0 : Initialize bcm53115M 
MAC PORT 2 : Initialize RTL8211 
TFTP from server 192.168.0.219; our IP address is 192.168.0.112 
Filename 'bootpImage.cns3420.uclibc'. 
Load address: 0x4000000 
Loading: T T T T T T T T T T 
Retry count exceeded; starting again 
```

以下是可以帮助您找到此错误原因的要点。

1.  Ping 响应正常

    ```
    CNS3000 # ping 192.168.0.219 
    MAC PORT 0 : Initialize bcm53115M 
    MAC PORT 2 : Initialize RTL8211 
    host 192.168.0.219 is alive 
    ```

2.  当我尝试验证 TFTP 是否正在运行时，我尝试如下所示。似乎 TFTP 服务器正在工作。我放了一个小文件`/tftpboot`：

    ```
    # echo "Hello, embedded world" > /tftpboot/hello.txt" 
    ```

    然后我做了本地主机

    ```
    # tftp localhost
    tftp> get hello.txt
    Received 23 bytes in 0.1 seconds
    tftp> quit 
    ```

3.  请注意，我的机器上没有防火墙或 SELinux。

4.  请验证这些文件的位置是否正常。我已将内核映像文件`bootpImage.cns3420.uclibc`放在`/tftpbootTFTP`服务文件中，位于`/etc/xinetd.d/tftp`.

5.  我的 TFTP 服务文件是：

    ```
    service tftp
    {
    socket_type =dgram
    protocol=udp
    wait=yes
    user=root
    server=/usr/sbin/in.tftpd
    server_args=-s /tftpboot -b 512
    disable=no
    per_source=11
    cps=100 2
    flags=ipv4
    } 
    ```

6.  `printenv`U-boot 中的响应是：

    ```
    CNS3000 # printenv 
    bootargs=root=/dev/mtdblock0 mem=256M console=ttyS0 
    baudrate=38400 
    ethaddr=00:53:43:4F:54:54 
    netmask=255.255.0.0 
    tftp_bsize=512 
    udp_frag_size=512 
    mmc_init=mmcinit 
    loading=fatload mmc 0 0x4000000 bootpimage-82511 
    running=go 0x4000000 
    bootcmd=run mmc_init;run loading;run running 
    serverip=192.168.0.219 
    ipaddr=192.168.0.112 
    bootdelay=5 
    port=1 
    bootfile=/tftpboot/bootpImage.cns3420.uclibcl 
    stdin=serial 
    stdout=serial 
    stderr=serial 
    verify=n 
    ```

    环境尺寸：`437/4092 bytes`

问候瓦卡斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-26T12:59:08.307

加载中：TTTTTTTTTT

意味着根本没有转移；这可能是由错误的接口设置引起的，即 u-boot 配置为 100Mbit 全双工，而您尝试通过半双工或 10Mbit（或混合使用）进行连接。还有一点就是MTU大小，应该是1500（u-boot不能处理包分片）

给 windows/vmware 用户的提示：

u-boot 的 tftp 超时是由 windows ip-forwarding 引起的。

1）如果您有家庭网络：切换它。2）您正在运行路由和远程访问服务：关闭服务 3）检查注册表以进行 ip 转发：

```
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters\IPEnableRouter 
```

将值设置为 0（可能会重新启动）

# android - 如何使用 Android Intent 调用 Dictionary 应用程序

> ID：12740328
> 
> 赞同：4
> 
> 时间：2012-10-05T05:56:44.573
> 
> 标签：android, android-intent, dictionary

我的手机上安装了 Dictionary.com 应用程序。我正在创建另一个应用程序，并想知道如何使用 Intent 与 Dictionary 应用程序进行交互。

如果有什么办法，请告诉我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T05:58:22.213

您可以通过这种方式从您的应用程序中调用您的字典应用程序..

这里 com.example.package.ActivityToStart 定义了你的字典应用

```
Intent intent = new Intent(Intent.ACTION_MAIN);
intent.setClassName("com.example.package", "com.example.package.ActivityToStart");
startActivity(intent); 
```

另一个最好的方法是

```
try{
   PackageManager pm = getPackageManager();
   Intent intent = pm.getLaunchIntentForPackage("com.example.package");
   startActivity(intent);
}catch (Exception e) {
   e.printStackTrace();
} 
```

如果您不知道您的词典应用程序的包名称，只需检查[此](https://stackoverflow.com/a/5097838/1265724)

# angularjs - AngularJS 绑定中的数学函数

> ID：12740329
> 
> 赞同：236
> 
> 时间：2012-10-05T05:56:46.457
> 
> 标签：angularjs

有没有办法在 AngularJS 绑定中使用数学函数？

例如

```
<p>The percentage is {{Math.round(100*count/total)}}%</p> 
```

这个小提琴显示了问题

[http://jsfiddle.net/ricick/jtA99/1/](http://jsfiddle.net/ricick/jtA99/1/)

* * *

## 回答 #1

> 赞同：333
> 
> 时间：2012-10-05T06:12:01.060

`Math`如果您需要将其用作 `$scope`对数学一无所知的情况，则必须将其注入您的范围。

最简单的方法，你可以

```
$scope.Math = window.Math; 
```

在您的控制器中。我猜，正确执行此操作的 Angular 方法是创建一个数学服务。

* * *

## 回答 #2

> 赞同：307
> 
> 时间：2013-04-26T17:20:15.283

虽然公认的答案是正确的，您可以注入`Math`以角度使用它，但对于这个特定问题，更传统/角度的方式是数字过滤器：

```
<p>The percentage is {{(100*count/total)| number:0}}%</p> 
```

您可以在此处阅读有关`number`过滤器的更多信息：http: [//docs.angularjs.org/api/ng/filter/number](http://docs.angularjs.org/api/ng/filter/number)

* * *

## 回答 #3

> 赞同：62
> 
> 时间：2014-06-04T06:41:41.203

我认为最好的方法是创建一个过滤器，如下所示：

```
myModule.filter('ceil', function() {
    return function(input) {
        return Math.ceil(input);
    };
}); 
```

那么标记看起来像这样：

```
<p>The percentage is {{ (100*count/total) | ceil }}%</p> 
```

更新小提琴：http: [//jsfiddle.net/BB4T4/](http://jsfiddle.net/BB4T4/)

* * *

## 回答 #4

> 赞同：37
> 
> 时间：2013-04-26T17:52:13.993

这是一个很难回答的问题，因为你没有给出你正在做的事情的完整背景。接受的答案会起作用，但在某些情况下会导致性能不佳。那，它将更难测试。

如果您将其作为静态表单的一部分进行，那很好。接受的答案会起作用，即使它不容易测试，而且很奇怪。

### 如果您想对此“有角度”：

您将希望将任何“业务逻辑”（即更改要显示的数据的逻辑）保留在您的视图之外。这样您就可以对您的逻辑进行单元测试，因此您最终不会将控制器和视图紧密耦合。从理论上讲，您应该能够将控制器指向另一个视图并使用范围中的相同值。（如果这有意义的话）。

您还需要考虑绑定内部的任何函数调用（例如`{{}}`or`ng-bind`或）都必须在*每个摘要*`ng-bind-html`上进行评估，因为 angular 无法知道值是否已更改或与属性不同范围上。

 *执行此操作的“角度”方法是使用 ng-change 事件甚至 $watch 将值缓存在更改范围内的属性中。

例如使用静态表单：

```
angular.controller('MainCtrl', function($scope, $window) {
   $scope.count = 0;
   $scope.total = 1;

   $scope.updatePercentage = function () {
      $scope.percentage = $window.Math.round((100 * $scope.count) / $scope.total);
   };
}); 
```

```
<form name="calcForm">
   <label>Count <input name="count" ng-model="count" 
                  ng-change="updatePercentage()"
                  type="number" min="0" required/></label><br/>
   <label>Total <input name="total" ng-model="total"
                  ng-change="updatePercentage()"
                  type="number" min="1" required/></label><br/>
   <hr/>
   Percentage: {{percentage}}
</form> 
```

### 现在你可以测试它了！

```
describe('Testing percentage controller', function() {
  var $scope = null;
  var ctrl = null;

  //you need to indicate your module in a test
  beforeEach(module('plunker'));

  beforeEach(inject(function($rootScope, $controller) {
    $scope = $rootScope.$new();

    ctrl = $controller('MainCtrl', {
      $scope: $scope
    });
  }));

  it('should calculate percentages properly', function() {
    $scope.count = 1;
    $scope.total = 1;
    $scope.updatePercentage();
    expect($scope.percentage).toEqual(100);

    $scope.count = 1;
    $scope.total = 2;
    $scope.updatePercentage();
    expect($scope.percentage).toEqual(50);

    $scope.count = 497;
    $scope.total = 10000;
    $scope.updatePercentage();
    expect($scope.percentage).toEqual(5); //4.97% rounded up.

    $scope.count = 231;
    $scope.total = 10000;
    $scope.updatePercentage();
    expect($scope.percentage).toEqual(2); //2.31% rounded down.
  });
}); 
```

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2015-12-13T03:00:37.293

更好的选择是使用：

```
{{(100*score/questionCounter) || 0 | number:0}} 
```

在未初始化值的情况下，它将方程的默认值设置为 0。

* * *

## 回答 #6

> 赞同：8
> 
> 时间：2016-11-01T15:18:33.180

为什么不将整个数学 obj 包装在过滤器中？

```
var app = angular.module('fMathFilters',[]);

function math() {
    return function(input,arg) {
        if(input) {
            return Math[arg](input);
        }

        return 0;
    }
}

return app.filter('math',[math]); 
```

并使用：

{{ number_var | 数学：'ceil'}}

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2015-10-22T22:05:02.010

如果你想在 Angular 中做一个简单的回合，你可以很容易地在你的表达式中设置过滤器。例如：

`{{ val | number:0 }}`

有关其他数字过滤器选项，请参阅此[CodePen](http://codepen.io/Gothburz/pen/jbZLME/)示例和。

[关于使用数字过滤器的 Angular 文档](https://docs.angularjs.org/api/ng/filter/number)

* * *

## 回答 #8

> 赞同：6
> 
> 时间：2016-02-02T20:51:10.420

假设您不需要在页面上进行大规模计算，使用 Angular 进行简单数学运算的最简单方法是直接在 HTML 标记中根据需要进行单个绑定。这是一个例子：

```
{{(data.input/data.input2)| number}} 
```

在这种情况下，您只需在 () 中进行数学运算，然后使用过滤器 | 得到一个数字答案。以下是有关将 Angular 数字格式化为文本的更多信息：

[https://docs.angularjs.org/api/ng/filter](https://docs.angularjs.org/api/ng/filter)

* * *

## 回答 #9

> 赞同：5
> 
> 时间：2015-08-12T14:48:35.973

将全局数学对象绑定到范围（记住使用 $window 而不是窗口）

```
$scope.abs = $window.Math.abs; 
```

在 HTML 中使用绑定：

```
<p>Distance from zero: {{abs(distance)}}</p> 
```

* * *

或者为您所追求的特定数学函数创建一个过滤器：

```
module.filter('abs', ['$window', function($window) {
  return function(n) {
    return $window.Math.abs($window.parseInt(n));
  };
}); 
```

在您的 HTML 中使用过滤器：

```
<p>Distance from zero: {{distance | abs}}</p> 
```

* * *

## 回答 #10

> 赞同：3
> 
> 时间：2017-01-21T14:40:50.980

这看起来不像是一种非常 Angular 的方式。我不完全确定它为什么不起作用，但您可能需要访问范围才能使用这样的功能。

我的建议是创建一个过滤器。这就是 Angular 的方式。

```
myModule.filter('ceil', function() {
    return function(input) {
        return Math.ceil(input);
    };
}); 
```

然后在您的 HTML 中执行以下操作：

```
<p>The percentage is {{ (100*count/total) | ceil }}%</p> 
```

* * *

## 回答 #11

> 赞同：2
> 
> 时间：2017-08-30T22:43:28.440

过滤器使用`number`千位分隔符格式化数字，因此它不是严格的数学函数。

此外，它的小数“限制器”没有`ceil`任何小数位（正如其他一些答案会让你相信的那样），而是`round`ing 他们。

因此，对于您想要的任何数学函数，您可以像这样注入它（比注入整个 Math 对象更容易模拟）：

```
myModule.filter('ceil', function () {
  return Math.ceil;
}); 
```

也不需要将它包装在另一个函数中。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2016-12-09T15:06:16.277

这或多或少是对三个答案的总结（由 Sara Inés Calderón、klaxon 和 Gothburz 撰写），但由于它们都添加了一些重要的东西，我认为值得加入这些解决方案并添加更多解释。

考虑到您的示例，您可以使用以下方法在模板中进行计算：

```
{{ 100 * (count/total) }} 
```

但是，这可能会导致很多小数位，因此**使用过滤器**是一个不错的方法：

```
{{ 100 * (count/total) | number }} 
```

默认情况下，数字过滤器将[保留最多三个小数位](https://docs.angularjs.org/api/ng/filter/number)，这是**fractionSize 参数**非常方便的地方（`{{ 100 * (count/total) | number:fractionSize }}`），在您的情况下是：

```
{{ 100 * (count/total) | number:0 }} 
```

这也将对结果进行四舍五入：

```
angular.module('numberFilterExample', [])
  .controller('ExampleController', ['$scope',
    function($scope) {
      $scope.val = 1234.56789;
    }
  ]);
```

```
<!doctype html>
<html lang="en">
  <head>  
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.23/angular.min.js"></script>
  </head>
  <body ng-app="numberFilterExample">
    <table ng-controller="ExampleController">
      <tr>
        <td>No formatting:</td>
        <td>
          <span>{{ val }}</span>
        </td>
      </tr>
      <tr>
        <td>3 Decimal places:</td>
        <td>
          <span>{{ val | number }}</span> (default)
        </td>
      </tr>
      <tr>
        <td>2 Decimal places:</td>
        <td><span>{{ val | number:2 }}</span></td>
      </tr>
      <tr>
        <td>No fractions: </td>
        <td><span>{{ val | number:0 }}</span> (rounded)</td>
      </tr>
    </table>
  </body>
</html>
```

最后要提的是，如果您依赖外部数据源，最好**提供**适当的**后备值**（否则您可能会在网站上看到 NaN 或什么也没有）：

```
{{ (100 * (count/total) | number:0) || 0 }} 
```

旁注：根据您的规格，您甚至可以更精确地使用您的后备/在较低级别上定义后备（例如`{{(100 * (count || 10)/ (total || 100) | number:2)}}`）。虽然，这可能并不总是有意义..

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2018-02-17T11:31:31.683

使用管道的 Angular Typescript 示例。

数学管道.ts

```
import { Pipe, PipeTransform } from '@angular/core';

@Pipe({
  name: 'math',
})

export class MathPipe implements PipeTransform {

  transform(value: number, args: any = null):any {
      if(value) {
        return Math[args](value);
      }
      return 0;
  }
} 
```

添加到@NgModule 声明

```
@NgModule({
  declarations: [
    MathPipe, 
```

然后像这样在您的模板中使用：

```
{{(100*count/total) | math:'round'}} 
```*

# iphone - 如何在iOS项目中继承XIB文件？

> ID：12740331
> 
> 赞同：5
> 
> 时间：2012-10-05T05:57:13.823
> 
> 标签：iphone, objective-c, ios, uitableview

我有一个从 UITableViewCell 继承的自定义表格单元格。它工作正常。

现在我必须为其他一些屏幕制作相同类型的单元格，只需稍作修改。我计划继承我的旧单元类以重用其设计和逻辑，但我找不到如何继承 xib 文件的方法。

我应该将所有视图从一个 xib 复制/粘贴到另一个，还是有办法通过少量更改来扩展它？

编辑：我已阅读以下问题，他们声称现在不可能：

*   [IOS继承一个带有xib文件的UIViewController](https://stackoverflow.com/questions/8468275/ios-inherit-a-uiviewcontroller-with-xib-file)
*   [在 Interface Builder 中继承 xib 文件](https://stackoverflow.com/questions/4418080/inherit-xib-file-in-interface-builder)

如果不可能，我们应该使用什么方法来有效地做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T06:59:48.773

如果您正在为您的问题寻找其他解决方案，那么我建议您以编程方式创建自定义单元格。

我正在逐步向您解释，这将更好地帮助您。

因此，为此创建一个继承自 的类`UITableViewCell`，并在 tabelCell 中添加您需要的组件。

**所以你的 .h 文件看起来像这样。**

//--------开始-------->>

```
#import <UIKit/UIKit.h>

@interface CustomCell : UITableViewCell{

UIButton *btn1;
UIButton *btn2;
UIButton *btn3;

}

@property(nonatomic , retain) UIButton *btn1;
@property(nonatomic , retain) UIButton *btn2;
@property(nonatomic , retain) UIButton *btn3;

@end 
```

//--------结束------- <<

**你的 .m 文件看起来像这样**

//--------开始-------->>

```
 #import "CustomCell.h"

  @implementation CustomCell
  @synthesize btn1, btn2, btn3;

  - (id)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier
   {
    self = [super initWithStyle:style reuseIdentifier:reuseIdentifier];
    if (self) {

    //----frame the components as per your project req.----       

    btn1 = [[UIButton alloc] initWithFrame:CGRectMake(1, 1, 85, 70)];
    [self.contentView addSubview:btn1];

    btn2 = [[UIButton alloc] initWithFrame:CGRectMake(100, 1, 85, 70)];
    [self.contentView addSubview:btn2];

    btn3 = [[UIButton alloc] initWithFrame:CGRectMake(195,1, 85, 70)];
    [self.contentView addSubview:btn3];
   }
    return self;
   }

   - (void)setSelected:(BOOL)selected animated:(BOOL)animated
   {
    [super setSelected:selected animated:animated];

      // Configure the view for the selected state
   } 
```

//--------结束--------<<

现在您已准备好在其他类中重用此自定义单元格。也可以根据需要修改它们。

**现在在 cellForRowAtIndexPath >>**

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath;
{

static NSString *CellIdentifier = @"Cell";

CustomCell  *cell = (CustomCell*)[tableView dequeueReusableCellWithIdentifier:CellIdentifier];

if (cell == nil)
{
    cell = [[CustomCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] ;
}

  [cell.btN1 setImage:[UIImage imageNamed:@"YOUR IMAGE NAME"] forState:UIControlStateNormal]; // YOU CAN MAKE CHANGES HERE.

    ................// remaining logic goes here

 return cell;

 } 
```

希望这会帮助你。

[1 .也看看链接教程。](http://jainmarket.blogspot.in/2009/05/creating-custom-table-view-cell.html)

[2\. 仔细查看表格视图单元格](https://developer.apple.com/library/ios/#documentation/UserExperience/Conceptual/TableView_iPhone/TableViewCells/TableViewCells.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T06:52:04.497

XIB 编辑器没有什么是您不能以编程方式完成的。最简单的方法是（通常）将其全部移动到代码中，然后从所有目标/项目中删除 XIB。然后你可以随心所欲地进行子类化。

作为奖励，这可以真正简化多个目标的资源管理。

将其移至代码的另一种方法是将可修改部分移至其他实例（由单元保存/引用）。然后控制器可以在呈现之前设置此属性。因此，如果样式化和绘图在某些方面是特殊的或可定制的，那么只需将该逻辑移到不依赖 XIB 反序列化的类层次结构中，然后将这些部分属性设置为您在 nib 中定义的单元格。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T06:02:02.747

您应该复制该文件并进行必要的更改。

谢谢

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-27T19:23:31.553

它发生在我身上一次，我所做的是：

`UIView`我没有进行子类化，而是使用 customCell制作了一个单独的表格，并在需要的地方将该视图添加为子视图。我能够使用 customCell 中的一个**键**更改 customCell 的 UI，以了解哪个`UIViewController`将其添加为子视图。

我不确定这种方法有多好，但仍然是一种方法:)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-27T14:12:53.797

您是否尝试过子类化自定义单元格视图类？这样，您可以在所有 UI 组件的基类中拥有 IBOutlets，在新的子类中，您可以根据新行为随意管理它们。这就像继承 UIView 或 UIViewController 等一样。

# c++ - 错误 C2143：语法错误：缺少“；” 在“模板”之前

> ID：12740334
> 
> 赞同：2
> 
> 时间：2012-10-05T05:57:26.603
> 
> 标签：c++, arrays, templates, dynamic

我的 DynamicArray.cpp 类中出现此错误：“错误 C2143：语法错误：缺少 ';' 在“模板”之前”DynamicArray.cpp 的第三行。这仍然是一项正在进行的工作，但我也非常感谢对设计的批评。谢谢 DynamicArray.h

```
 #ifndef DYNAMICARRAY_H
    #define DYNAMICARRAY_H
    using namespace std;

    template <class T>
    class DynamicArray
    {
     private:
       T *origin;
       T *allocator;
       int size;
       int current;

     public:
        DynamicArray();
        DynamicArray(int);
        DynamicArray(const DynamicArray&);
        ~DynamicArray();
        void add(int);
        void erase(int);
        void empty();
        T at(int);
        void put(T);
        void remove();
        DynamicArray operator=(const DynamicArray&);
        int getSize();
        void operator[](int);
        T operator=(const T&);
        void insert(T&);
    }

    #endif // !DYNAMICARRAY_H 
```

动态数组.cpp

```
 #include "DynamicArray.h"

    template <class T>
    DynamicArray<T>::DynamicArray()
    {
       origin = new T[5];
       allocator = NULL;
       size = 5;
       current = 0;
       for(int counter = 0; counter <= size - 1; counter++)
       {
         *origin[counter] = NULL;
       }
    }

     template <class T>
     DynamicArray<T>::DynamicArray(int size)
     {
     this->size = size;
     origin = new T[size];

     for(int counter = 0; counter <= size - 1; counter++)
     {
      *origin[counter] = NULL;
     }
     }

     template <class T>
     DynamicArray<T>::DynamicArray(const DynamicArray& obj)
     {
       empty();
       for(int counter = 0; counter < obj.size - 1; counter++)
       {
      origin[counter] = obj.origin[counter];
       }
     }

     template <class T>
     DynamicArray<T>::~DynamicArray()
     {
      delete [] origin;
      delete [] allocator;
      size = NULL;
     }

     template <class T>
     void DynamicArray<T>::add(int size)
     {
      allocator = new T[size]
      for(int counter = 0; counter < this-> size - 1; counter++)
      {
      allocator[counter] = *origin[counter];
      }
      origin = NULL;
      origin = new T[size];
      this->size = size;

      for(int counter = 0; counter < size - 1; counter++)
      {
      *origin[counter] = allocator[counter];
      }
      allocator = NULL;
    }

      template <class T>
      void DynamicArray<T>::erase(int ammount)
      {
      if(ammount - size > size)
      throw "\nnegetive memory location error\n";

      allocator = new T[size - ammount];

      for(int counter = 0; counter < this-> size - ammount - 1; counter++)
      {
      *allocator[counter] = origin[counter];
      }

      origin = NULL;
      size = size - ammount;
      origin = new T[size];

      for(int counter = 0; counter < size - 1; counter++)
      {
      origin[counter] = allocator[counter];
      }
      allocator = NULL;
    }

    template <class T>
    void DynamicArray<T>::empty()
    {
      origin = NULL;
      allocator = NULL;
    }

    template <class T>
    T DynamicArray<T>::at(int location)
    {
      if(location > size || location < 0)
      {
      throw "\nMemory Location does not exist\n";
      }
      else
      {
      current = location;
      return *origin[location];
      }
      }

    /*template <class T>
    void DynamicArray::put(T item)
    {
      add(1);
      origin[size - 1] = item;
    }*/

    template <class T>
    void DynamicArray<T>::remove()
    {
      erase(1);
    }

    template <class T>
    DynamicArray<T> DynamicArray<T>::operator=(const DynamicArray& obj)
    {
      empty();
      for(int counter = 0; counter < obj.size - 1; counter++)
      {
      origin[counter] = obj.origin[counter];
      }

      return *this;
    }

    template <class T>
    int DynamicArray<T>::getSize()
    {
      return size;
    }

    template <class T>
    void DynamicArray<T>::operator[](int index)
    {
      at(index);
    }

    template <class T>
    T DynamicArray<T>::operator=(const T &value)
    {
      put(value);
      return *this;
    }

    template <class T>
    void DynamicArray<T>::insert(T &value)
    {
      int counter = 0;
      do
      {
      if(*origin[counter] == NULL)
      {
          origin[counter] = value;
      }
      counter++
      }
      while(*origin[counter] != NULL)
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T05:57:55.663

你需要`;`在你的课结束时：

```
 T operator=(const T&);
    void insert(T&);
};

#endif // !DYNAMICARRAY_H 
```

此外，您需要在头文件中定义模板化函数。模板的工作方式定义需要可用于调用函数或访问所涉及数据的任何代码。编译器为使用的每种模板创建一个新的函数实例。此实例化在使用模板化数据/函数的代码中完成。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T06:00:11.987

There are two problems. First, you need a `;` at the end of your class declaration. Once that is fixed, you will run into problems because your template method definitions should also be in the header file, or in a file that is accessible to the code that tries to instantiate your templates.

# c - C 编程：字节数组中的字

> ID：12740336
> 
> 赞同：1
> 
> 时间：2012-10-05T05:57:33.837
> 
> 标签：c, arrays, pointers, bit-manipulation

我对从字节数组中读取单词有些困惑。背景背景是我正在开发一个用 C 语言编写的用于介绍计算机体系结构类的 MIPS 模拟器，但是在调试我的代码时，我遇到了一个令人惊讶的结果，从 C 编程的角度来看，我根本无法理解。

我有一个名为 mem 的字节数组，定义如下：

```
uint8_t *mem;
//...
mem = calloc(MEM_SIZE, sizeof(uint8_t)); // MEM_SIZE is pre defined as 1024x1024 
```

在我的一些测试中，我手动将 uint32_t 值存储到四个内存块中，地址为 mipsaddr，一次一个字节，如下所示：

```
for(int i = 3; i >=0; i--) {
         *(mem+mipsaddr+i) = value;
         value = value >> 8;
         // in my test, value = 0x1084
} 
```

最后，我测试了尝试以两种方式之一从数组中读取单词。第一种方式，我基本上是尝试一次将整个单词读入一个变量：

```
uint32_t foo = *(uint32_t*)(mem+mipsaddr);
printf("foo = 0x%08x\n", foo); 
```

在第二种方式中，我手动读取每个单元格中的每个字节，然后将它们与位移相加：

```
 uint8_t test0 = mem[mipsaddr];
    uint8_t test1 = mem[mipsaddr+1];
    uint8_t test2 = mem[mipsaddr+2];
    uint8_t test3 = mem[mipsaddr+3];

    uint32_t test4 = (mem[mipsaddr]<<24) + (mem[mipsaddr+1]<<16) + 
               (mem[mipsaddr+2]<<8) + mem[mipsaddr+3];
    printf("test4= 0x%08x\n", test4); 
```

上面代码的输出是这样的： foo= 0x84100000 test4= 0x00001084

test4 的值与我预期的完全一样，但 foo 似乎颠倒了字节的顺序。为什么会这样？在 foo 的情况下，我希望 uint32_t* 指针指向 mem[mipsaddr]，并且由于它是 32 位长，它只会按照它们在数组中存在的顺序读取所有 32 位（即 00001084） . 显然，我的理解是不正确的。

我是新来的，我确实搜索过这个问题的答案，但找不到。如果已经发过，请见谅！但如果没有，我希望有人能在这里启发我。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-05T05:59:47.800

它（除其他外）在这里解释：[http ://en.wikipedia.org/wiki/Endianness](http://en.wikipedia.org/wiki/Endianness)

将大于一个字节的数据存储到内存中时，取决于存储字节顺序的架构（即 CPU）。要么首先存储最高有效字节，最后存储最低有效字节，反之亦然。当您通过字节访问操作读回各个字节，然后将它们合并以再次形成原始值时，您需要考虑特定系统的字节序。

在您的 for 循环中，您按字节存储值，从最重要的字节开始（倒数索引有点误导 ;-)。之后你的记忆是这样的：`0x00 0x00 0x10 0x84.`

然后，您将使用单个 32 位（四字节）访问来回读该字。根据我们的架构，这将成为`0x00001084`（大端）或`0x84100000`（小端）。既然你得到后者，你正在研究一个小端系统。

在您的第二种方法中，您使用存储单个字节的相同顺序（首先是最重要的），因此您可以取回与之前存储的相同的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T06:05:18.010

这似乎是字节顺序的问题，可能来自将 (uint8_t *) 转换为 (uint32_t *)

# android - Android：媒体播放器在后台自行启动

> ID：12740342
> 
> 赞同：-1
> 
> 时间：2012-10-05T05:57:57.263
> 
> 标签：android, service, android-mediaplayer

这是我之前的问题[Android: Music Player gets started itself after sometime](https://stackoverflow.com/questions/12639234/android-music-player-gets-started-itself-after-sometime#comment17063746_12639234)的延续。在我的应用程序中，我正在使用服务在后台播放媒体播放器。在我检查来电和去电的所有情况下，它都能正常工作。该服务也会在完成时被破坏。当用户明确暂停歌曲时，媒体播放器会暂停，但一段时间后，它会自行启动。从日志中，我发现在发生这种情况时检测到呼叫状态空闲。我想避免这种情况。我在下面发布我的代码：

**音乐服务**

```
public class ChalisaService extends Service implements OnCompletionListener
{
static MediaPlayer mediaPlayer;
static int playerFlag = 0;
ActivityManager actManager;
/**
 * 0 for stop/pause
 * 1 for play*/
@Override
public IBinder onBind(Intent intent) 
{
    return null;
}//onBind

@Override
public void onCreate() 
{
    super.onCreate();

    mediaPlayer = MediaPlayer.create(getApplicationContext(), R.raw.chalisa);
    mediaPlayer.setVolume(100, 100);
    mediaPlayer.setOnCompletionListener(this);
    registerReceiver(CallStateReceiver, new IntentFilter("android.intent.action.PHONE_STATE"));
    Log.v("Chalisa service onCreate", "onCreate called");
}//onCreate

@Override
public int onStartCommand(Intent intent, int flags, int startId) 
{
    if(!mediaPlayer.isPlaying())
    {
        mediaPlayer.start();
        playerFlag = 1;
    }//if
    startForeground(0, null);
    Log.v("Chalisa service onStartCommand", "onStartCommand called");
    return START_STICKY;
}//onStartCommand

@Override
public void onDestroy() 
{
    super.onDestroy();
    if (mediaPlayer.isPlaying()) 
    {
          mediaPlayer.stop();
          playerFlag = 0;
    }//if
    unregisterReceiver(CallStateReceiver);
    mediaPlayer.release();
    Log.v("Chalisa service onDestroy", "onDestroy called");
}//onDestroy

public void onCompletion(MediaPlayer mp) 
{
    this.stopSelf();
    playerFlag = 0;
    updateUI();
    Log.v("Chalisa Service media player", "on completion listener called");
}

private void updateUI() 
{
    Intent in = new Intent("com.dzo.HanumanChalisaWithAudioAndAlarm.UPDATE_UI");
    in.putExtra("Player_FLAG_VALUE", playerFlag);
    getApplicationContext().sendBroadcast(in);
}

public final BroadcastReceiver CallStateReceiver = new BroadcastReceiver()
{
    @Override
    public void onReceive(Context context, Intent intent) 
    {
        String action = intent.getAction();
        if(action.equalsIgnoreCase("android.intent.action.PHONE_STATE"))
        {
            if (intent.getStringExtra(TelephonyManager.EXTRA_STATE)
                    .equals(TelephonyManager.EXTRA_STATE_RINGING))
            {
                if(mediaPlayer.isPlaying())
                {
                    mediaPlayer.pause();
                    playerFlag = 0;
                }//if
                Log.v("Chalisa Service call state ringing", "call state ringing");
            }//if
            else if (intent.getStringExtra(TelephonyManager.EXTRA_STATE)
                    .equals(TelephonyManager.EXTRA_STATE_IDLE))
            {
                if(!mediaPlayer.isPlaying())
                {
                    mediaPlayer.start();
                    playerFlag = 1;
                }//if
                Log.v("Chalisa Service call state idle", "call state idle");
            }//if
            else if (intent.getStringExtra(TelephonyManager.EXTRA_STATE)
                    .equals(TelephonyManager.EXTRA_STATE_OFFHOOK)) 
            {
                if(mediaPlayer.isPlaying())
                {
                    mediaPlayer.pause();
                    playerFlag = 0;
                }//if
                Log.v("Chalisa Service call state offhook", "call state offhook");
            }//if
        }//if             
    }//onReceive
};
}//ChalisaService 
```

我启动服务的按钮代码：

```
btn_Play.setOnClickListener(new View.OnClickListener() 
    {
        public void onClick(View v) 
        {
            if(ChalisaService.playerFlag == 0)
            {
                startService(in);
                ChalisaService.playerFlag = 1;
                Log.v("HanuAlarm play button if", "in if loop");
                txtPlay.setText("Pause");
                txtPlay.setTextColor(getResources().getColor(R.color.redwine));
                btn_Play.setBackgroundResource(R.drawable.btnpause);
            }//if
            else if(ChalisaService.playerFlag == 1)
            {
                ChalisaService.mediaPlayer.pause();
                ChalisaService.playerFlag = 0;
                Log.v("HanuAlarm play button else", "in else loop");
                txtPlay.setText("Play");
                txtPlay.setTextColor(getResources().getColor(R.color.white));
                btn_Play.setBackgroundResource(R.drawable.btnplay_a);
            }//else if
        }//onClick
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:17:32.783

您正在使用 START_STICKY 作为您的服务！这就是它自动重新启动的原因。尝试使用 START_NONSTICKY。

# cocos2d-x - 使用 Box2D 和 Cocos2d-x 应用力错误

> ID：12740347
> 
> 赞同：0
> 
> 时间：2012-10-05T05:58:27.970
> 
> 标签：cocos2d-x, box2d-iphone

我在 Cocos2d-x 中使用 Box2D 和 Xcode 和 iPhone 模拟器开发了一个游戏。我在 b2World(gravity 0.0f, -10.0f) 中对身体施加了一个上力，我发现身体每次都飞到不同的高度。当 b2World 有很多实体时，问题更容易发生。 ![在此处输入图像描述](../Images/82182cba64f155f94b15221d6527b2b8.png) 而且，我还想问一下velocityIterations和positionIterations如何设置跟随功能。

> > world->Step(dt, velocityIterations, positionIterations);

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-06T17:21:13.977

也许你对身体的不同点施加力量。因此，一部分力用于旋转，一部分力用于向上移动。velocityIterations, positionIterations 只是提高精度，我觉得可以用 world->Step(dt, 1, 1);

# c# - 根据列值将数据表拆分为 2 个或更多数据表

> ID：12740353
> 
> 赞同：13
> 
> 时间：2012-10-05T05:58:44.670
> 
> 标签：c#, asp.net, visual-studio-2010, datatable

我有一个名为“DTHead”的数据表，其中包含以下记录，

```
 MIVID      Quantity         Value
------     ----------       --------
   1           10             3000
   1           20             3500
   1           15             2000
   2           20             3000
   2           50             7500
   3           25             2000 
```

在这里，我需要根据MIVID将上面的DataTable拆分成三个表，如下所示；

DTChild1：

```
 MIVID           Quantity        Value
 -------         ----------     ---------
   1                10             3000
   1                20             3500
   1                15             2000 
```

DTChild2：

```
 MIVID           Quantity        Value
 -------         ----------     ---------
   2                20             3000
   2                50             7500 
```

DTChild3：

```
 MIVID           Quantity        Value
 -------         ----------     ---------
    3               25             2000 
```

假设，如果 Header DataTable 包含 4 个不同的 MIVID 表示，那么应该根据 MIVID 创建 4 个 Child DataTable。这该怎么做？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-10-05T06:03:11.723

用于`LINQ to DataTable`按 对第一列进行分组`GroupBy`，并使用方法[CopyToDataTable](http://msdn.microsoft.com/en-us/library/bb396189.aspx)将行列表复制到`DataTable`

```
 List<DataTable> result = DTHead.AsEnumerable()
            .GroupBy(row => row.Field<int>("MIVID"))
            .Select(g => g.CopyToDataTable())
            .ToList(); 
```

然后，您可以按预期将结果作为 DataTables 列表获得。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-02-06T08:09:44.200

```
DataTable tbl = new DataTable("Data").AsEnumerable()
    .Where(r => r.Field<int>("ParentId") == 1) // ParentId == 1
    .Where(r => r.Field<int>("Id") > 3) // Id > 3
    .Where(r => r.Field<string>("Name").Contains("L")) // Name contains L
    .OrderBy(r => r.Field<int>("Id")) // Order by Id
    .CopyToDataTable(); 
```

# java - 为 jboss6 生成 SSL 密钥库和私钥

> ID：12740357
> 
> 赞同：0
> 
> 时间：2012-10-05T05:59:14.507
> 
> 标签：java, jakarta-ee, ssl, ssl-certificate, keystore

我想制作自己的 SSL 证书，以便在 Web 应用程序中使用。当我尝试生成密钥库时，出现此错误。我在其中插入了自己的新密码。有什么具体的密码吗？

***窗口命令行***

```
C:\jboss6\server\default\conf>keytool -genkey -alias jbosskey -keypass change_this -keyalg RSA -keystore server.keystore
Enter keystore password: 
```

***显示的错误***

```
keytool error: java.io.IOException: Keystore was tampered with, or password was incorrect 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:04:46.777

无需-keypass即可为我工作。

```
keytool -genkey -alias jbosskey -keyalg RSA -keystore server.keystore 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T10:21:24.050

我在以下链接上找到了一个很好的描述性解决方案来解决我的问题，它对我有用。

[JBOSS https/ssl 配置](http://sudipta05.wordpress.com/web/jboss-httpsssl-configuration/)

# git - 允许在 GitHub 上 fork 私有存储库并集成到 Eclipse

> ID：12740362
> 
> 赞同：1
> 
> 时间：2012-10-05T05:59:37.230
> 
> 标签：git, github, egit

我正在开发一个团队规模为 9 人的项目，我的所有代码都在我的 GitHub 帐户上作为公共存储库。我拥有主分支，我的团队成员已经分叉了它，他们在项目上工作并为他们所做的更改提出拉取请求。

它是一个 Java 项目，我们将 Eclipse (Juno) 与 Egit 一起使用。到目前为止，所有成员都了解工作流程，即

*   代码。
*   提交更改。
*   推送到上游（从项目>团队）
*   在 GitHub 上提出拉取请求。
*   请求的更改被合并到主分支（由我）。
*   成员从 shell 执行，然后`git fetch upstream`从Eclipse 执行（Project>Team 菜单）。`git merge upstream/master``Push to Upstream`

另请注意，成员已经将他们的分叉与主分支同步使用`git remote add upstream https://github.com/me/MyProject.git`

最后，当我遇到拉取请求时，我只是从 GitHub.com 确认合并，然后`Pull`从 Eclipse 确认。

目前一切正常，但现在整个项目将被转移到私人仓库（每个成员将在他们自己的私人仓库中拥有自己的项目分支）。我知道如果我将我的仓库设为私有，那么我将失去所有分叉它的成员。

那么我怎样才能将我们所有的仓库设为私有并以上述方式继续工作呢？

**笔记：**

这是我的第一个 GitHub 合作项目，所以我对整个分叉和分支概念不熟悉，我的团队成员也是如此。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-06T07:57:59.397

You don't want to have a private repo per team member. Instead you want to [create an organization](https://github.com/features/projects) on github, put all team members into the organization and then have a private repository for the organization, which is accessible to all members. The team members can either work directly on that organization repository or create forks for personal development.

It is also possible to have a workflow with everyone using a personal private repository, but that would be really cumbersome, as every member of your project would have to add all other repositories as remote locations in his repository. And the management of the access rights of so many repositories would be a nightmare.

# ruby - ruby 中的 collect 和 struct 是如何工作的？

> ID：12740371
> 
> 赞同：0
> 
> 时间：2012-10-05T06:00:16.673
> 
> 标签：ruby

我目前正在阅读一本书，并且有一段我不太明白的代码：

```
class RevealingReferences
  attr_reader :wheels

  def initialize(data)
    @wheels = wheelify(data)
    puts data
  end

  def diameters
    wheels.collect do |wheel|
      puts "test"
      wheel.rim + (wheel.tire*2)
    end
  end

  Wheel = Struct.new(:rim, :tire)

  def wheelify(data)
    data.collect{|cell|
      Wheel.new(cell[0], cell[1])}
    end
  end
end

puts RevealingReferences.new([3,2,5,8]).diameters 
```

我得到以下输出：

```
3
2
5
8
test
test
test
test
3
2
1
0 
```

1）现在我理解了 3,2,5,8，但是为什么不以数组格式显示 [3,2,5,8] 而是一次显示一个整数。

2）另外，在wheels.collect 块中，输出在输出之前打印“test”两次，它应该不是“test”值“test”值

3）另外，答案 3,2,1,0 没有任何意义，当我设置 @wheels 时，轮子不应该是 2 个元素的数组而不是 4 个元素的集合吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T06:34:04.660

> 1）现在我理解了 3,2,5,8，但是为什么不以数组格式显示 [3,2,5,8] 而是一次显示一个整数。

这是由于如何`puts`工作。当它看到一个数组时，它会打印`#to_s`每个元素的

```
puts [1,2,3]
# >> 1
# >> 2
# >> 3 
```

如果你想让它看起来像一个数组，你应该在打印之前检查它

```
puts [1,2,3].inspect
# >> [1, 2, 3] 
```

还有一个简写，方法`p`

```
p [1,2,3]
# >> [1, 2, 3] 
```

* * *

> 2）另外，在wheels.collect 块中，输出在输出之前打印“test”两次，它应该不是“test”值“test”值

打印这些值的唯一内容是关于 的返回值的 puts 语句`diameters`，因此它们在被收集之前不会打印。如果您想在每次测试后打印它，您可能应该执行类似的操作

```
def diameters
  wheels.collect do |wheel|
    puts "test"
    p wheel.rim + (wheel.tire*2)
  end
end 
```

哪个会打印：

```
test
3
test
2
test
1
test
0 
```

* * *

> 3）另外，答案 3,2,1,0 没有任何意义，当我设置 @wheels 时，轮子不应该是 2 个元素的数组而不是 4 个元素的集合吗？

根据您在这里所说的，我假设您的数据不是您想要的格式。您正在传递`[3,2,5,8]`，但这意味着您要传递`[[3,2],[5,8]]`，或映射每对值：

```
def wheelify(data)
  data.each_slice(2).collect do |cell|
    Wheel.new(cell[0], cell[1])
  end
end 
```

它没有按照您的想法执行的原因是因为不执行其中之一，该`cell`变量实际上只是一个数字。由于数字上定义了括号方法，因此它们最终在这种情况下工作。但是括号方法只返回 1 或 0，具体取决于该位置的位（基数 2）：

```
five = 5
five.to_s(2) # => "101"
five[2] # => 1
five[1] # => 0
five[0] # => 1 
```

所以在 3 的情况下，`wheel.rim + (wheel.tire*2)`变成

```
cell = 3
cell.to_s(2)   # => "11"
rim = cell[0]  # => 1
tire = cell[1] # => 1
rim + tire * 2 # => 3 
```

在 2 的情况下：

```
cell = 2
cell.to_s(2)   # => "10"
rim = cell[0]  # => 0
tire = cell[1] # => 1
rim + tire * 2 # => 2 
```

和 5：

```
cell = 5
cell.to_s(2)   # => "101"
rim = cell[0]  # => 1
tire = cell[1] # => 0
rim + tire * 2 # => 1 
```

和 8：

```
cell = 8
cell.to_s(2)   # => "1000"
rim = cell[0]  # => 0
tire = cell[1] # => 0
rim + tire * 2 # => 0 
```

这就是为什么`diameters`返回`[3, 2, 1, 0]`，解释你看到的最后四位数字。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T06:37:07.657

1) puts 将在新行上输出每个参数，或者如果参数是数组，则在新行上输出数组的每个元素

2) puts "test" 在wheels.collect 块中运行，创建了四个Wheel 对象，因此它在创建直径数组时输出四个测试。

3) 真正的问题是在您的书中或将代码转移到您的测试环境中看起来像是拼写错误。我认为最后一行是为了阅读

```
puts RevealingReferences.new([[3,2],[5,8]]).diameters 
```

否则， Wheel.new 行

```
 Wheel.new(cell[0], cell[1])} 
```

正在调用 FixNum#[] 给你整数的第 n 位。这对我来说也有点意外——当意外地提供一个整数而不是一个数组时，似乎很多事情都可能出现微妙的错误。

使用原始代码，对于数据的第一个元素，cell[0] 和 cell[1] 的计算结果为 3[0] 和 3[1]。通过更正，您将拥有数组 [3,2][0] => 3 和 [3,2][1] => 2，这使得作为“收集”示例的代码更易于理解。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T06:44:21.733

1- collect 是一个接受代码块的迭代器方法。collect 迭代器返回集合的所有元素。

2-你没有指定要显示的值。执行“放置wheel.rim + (wheel.tire*2)”。

3-如果你在直径收集块方法中打印“轮子”，它的

```
"#<struct RevealingReferences::Wheel rim=1, tire=1>"
"#<struct RevealingReferences::Wheel rim=0, tire=1>"
"#<struct RevealingReferences::Wheel rim=1, tire=0>"
"#<struct RevealingReferences::Wheel rim=0, tire=0>" 
```

当执行“wheel.rim + (wheel.tire*2)”语句时，结果为 3,2,1,0 并返回每个结果。如果在直径的收集块中添加语句“放置轮子”并执行程序，您将不会在输出中看到值 (3,2,1,0)。

# javascript - jquery animate scrollTop 位置/偏移量不起作用

> ID：12740374
> 
> 赞同：0
> 
> 时间：2012-10-05T06:00:51.630
> 
> 标签：javascript, html, scroll, jquery-animate, position

我想要这个小按钮，当你点击它时，会添加一个新的表格行，并使用 jQuery 平滑滚动到新添加的行。

我在这里创建了一个示例[http://jsfiddle.net/2EBNH/](http://jsfiddle.net/2EBNH/)

请注意，这是我的代码的简化版本。真正的允许将行添加到表中的任何位置（不必在最后一行），所以不要简单地告诉我我总是可以滚动到底部。

但即使只是滚动到底部，代码也不起作用。它适用于我假设的前 10 行，但如果添加了更多行，位置/偏移量（我都尝试过）似乎不正确。

要对其进行测试，只需添加超过 15 行，然后您就会看到结果。

我注意到，如果*每次*单击按钮后都将滚动条移到顶部，它似乎会以某种方式工作。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T06:37:59.933

这不起作用的原因如下：

position() 方法返回到窗口顶部的相对距离。由于您限制了 div 的大小，因此到窗口顶部的距离不一定是您想要测量的距离，但您希望根据它相对于包含它的 div 的偏移量来测量它。

换句话说：当滚动在顶部并且您添加一个新元素（到底部）时，窗口的偏移量/位置与您要滚动的像素量相同，因此它可以工作。但是，如果你已经滚动到底部，元素到窗口顶部的距离刚好在 100px 左右（div 的高度），所以它会滚动到 100px，这意味着如果滚动距离大于那，它实际上会上升。

您可能有兴趣检查[ScrollTo jQuery 插件](http://balupton.github.com/jquery-scrollto/demo/)：

```
var rownum = 1;
$('input').click(function () {
    $('table').append('<tr id=row-' + rownum + '><td>' + rownum + ': row</td></tr>');
    $('#row-' + rownum).ScrollTo({
        duration: 400,
        easing: 'linear'
    });
    rownum++;
});​ 
```

[这是您使用插件的小提琴](http://jsfiddle.net/uaFZF/)

这是一个不使用插件的解决方案（[这里是 jsfiddle](http://jsfiddle.net/2EBNH/5/)）：

```
var rownum = 1;
$('input').click(function () {
    $('table').append('<tr id=row-' + rownum + '><td>' + rownum + ': row</td></tr>');
    var $row = $('#row-' + rownum);
    var topOffset = $row.parent().parent().parent().scrollTop() + $row.position().top;
    $('div').animate({scrollTop: topOffset + "px"}, 400);
    rownum++;
});​ 
```

# java - 无法编译我的代码

> ID：12740375
> 
> 赞同：1
> 
> 时间：2012-10-05T06:01:09.090
> 
> 标签：java, string, compiler-errors

我想打印这个标志`/\`，但在编译器上，我认为一切都很好，但无法编译。错误显示为

```
leets.java:13: error: unclosed string literal
System.out.printf ("%s /\",ch);
                     ^
 leets.java:13: error: ';' expected
 System.out.printf ("%s /\",ch);
                     ^
 2 errors 
```

我的代码如下。

```
import java.util.Scanner;
public class switchDemo2
{
    public static void main ( String args[] )
    {
    Scanner i = new Scanner ( System.in );
    System.out.print ( "Enter a character to test: " );
    char ch;
    ch = i.next().charAt(0);
    switch ( ch )
    {
    case 'A': case 'a':
    System.out.printf ("%s /\",ch);
                       break;
    case 'B': case 'b':
        System.out.printf ("%s 13",ch);
    break;
    case 'C': case 'c':
    System.out.printf ("%s )",ch);
    break;
    case 'D': case 'd':
    System.out.printf ("%s 1)",ch);
    break;
    case 'E': case 'e':
    System.out.printf ("%s 3",ch);
    break;
    case 'F': case 'f':
    System.out.printf ("%s 1=",ch);
    break;
    default:
    System.out.printf ("%s not a lowercase vowel\n",ch);
}
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T06:02:37.383

您需要将反斜杠转义为 .

```
 System.out.printf ("%c /\\",ch); 
```

[您可以在此处](http://docs.oracle.com/javase/tutorial/java/data/characters.html)查看有关它的更多信息。

几条评论：

1.  你用于`"%s"`字符，你可以`"%c`用于字符。请参阅格式化[教程](http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax)。
2.  你没有关闭扫描仪，你会得到这样的警告。您应该使用`Scanner.close()`方法关闭它。
3.  `}`剩下最后一个花括号。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T06:03:07.377

```
System.out.printf ("%s /\\",ch); 
```

代替`System.out.printf ("%s /\",ch);`

```
 Escape Sequence    Description
 \t     Insert a tab in the text at this point.
 \b     Insert a backspace in the text at this point.
 \n     Insert a newline in the text at this point.
 \r     Insert a carriage return in the text at this point.
 \f     Insert a formfeed in the text at this point.
 \'     Insert a single quote character in the text at this point.
 \"     Insert a double quote character in the text at this point.
 \\     Insert a backslash character in the text at this point 
```

[这是关于java中字符的教程](http://docs.oracle.com/javase/tutorial/java/data/characters.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T06:03:35.030

需要转义反斜杠：-

```
System.out.printf ("%c /\\",ch); 
```

您可以将: - 更改`switch ( ch )`为`switch(Character.toLowerCase(ch))`, 以避免同时出现`A`和的情况`a`。只需使用`case 'a':`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T06:07:31.263

这应该适合你；

System.out.printf("%s '/\\'",ch);

问候，

迪努卡

# spring - Spring MVC 3.0 控制器和解析器

> ID：12740376
> 
> 赞同：1
> 
> 时间：2012-10-05T06:01:18.300
> 
> 标签：spring, spring-mvc

如果有人可以分享他们对此的想法，我将不胜感激。我是 Spring 新手，但对 MVC 并不陌生。然而，我对 MVC 的了解主要是在前端方面。

假设我有一个使用 SpringMVC Framework 3.0 的动态站点，并且该站点有 5 个链接，例如：

主页 | 家庭 | 喜剧 | 恐怖 | 行动

这些链接中的每一个都将查询数据库并显示信息。如果我要通过 MVC 框架为前端执行此操作，我将有五个不同的控制器，但我在这里遇到了一个问题（Stackoverflow），它谈到只有一个控制器，然后是多个解析器。我想知道正确的方法是什么？

这是上述问题的链接： [Spring controller setup question?](https://stackoverflow.com/questions/2203066/spring-controller-setup-question)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:28:32.213

正如 Jaanas 所说，这实际上取决于您如何检索每个链接的数据，以及结果页面是全部基于相同的数据模型和模板 (JSP) 还是彼此完全不同。

我倾向于为“家”使用单独的控制器，但如果其他页面只是查询数据库，那么我会开始从单个控制器为这些页面提供服务。

尝试根据 REST 原则考虑您的页面也是一个好主意。一旦您开始查看 REST URI 方面的链接，那么各种 URI 是否进入相同或单独的控制器的决定就很明显了。例如，如果“family”的 URI 是`/movie/genre/family`，那么很明显，所有 4 个链接都应该放在`GenreController`类（或一个`MovieController`类，使用带有[注释](http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/mvc.html#mvc-ann-requestmapping-uri-templates)`/genre`的方法捕获类别）中。[`@PathVariable`](http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/mvc.html#mvc-ann-requestmapping-uri-templates)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T06:10:44.540

这取决于您在每个链接背后有多少逻辑。如果每个控制器中只有一个映射，则可以使用单个控制器。

也就是说，当只做像你这样的小项目时，我仍然更喜欢拥有单独的控制器。

另一方面，如果您的项目扩展，您最终可能会拥有数量荒谬的控制器，而这并没有多大作用。在这种情况下，您可以从一开始就对控制器进行分组，从而对具有几乎相同逻辑方面的类似控制器进行分组。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T07:23:17.340

应用程序中的控制器数量取决于项目的范围。如果您有固定要求并且操作数量有限，那么您可以使用单个控制器来处理您的所有请求。

但是，如果您的要求不是固定的或将随着您的应用程序版本而增加，您必须为单独的模块使用单独的控制器。这样将来您就可以轻松管理您的应用程序代码。

为了更好地维护代码，我更喜欢为每个模块使用单独的控制器。

# iphone - Facebook 与 iOS6 的集成

> ID：12740377
> 
> 赞同：1
> 
> 时间：2012-10-05T06:01:28.037
> 
> 标签：iphone, ios6, social, facebook-ios-sdk, slcomposeviewcontroller

我正在使用以下代码在 Facebook 上发布一些内容。

```
- (IBAction)post:(id)sender {
if ([SLComposeViewController isAvailableForServiceType:SLServiceTypeFacebook])
{
    mySocialComposer = [[SLComposeViewController alloc]init];
    mySocialComposer = [SLComposeViewController 
    composeViewControllerForServiceType:SLServiceTypeFacebook];
    [mySocialComposer setInitialText:@"Hellooooooo World"];
    [mySocialComposer addImage:[UIImage imageNamed:@"image.jpg"]];

    [self presentViewController:mySocialComposer animated:YES completion:nil];

[mySocialComposer setCompletionHandler:^(SLComposeViewControllerResult result){

    NSString *outout = [[NSString alloc] init];

    switch (result) {
        case SLComposeViewControllerResultCancelled:
            outout = @"Post Cancled";
            break;
            case SLComposeViewControllerResultDone:
            outout = @"Post Successfull";

        default:
            break;
    }

    UIAlertView *myalertView = [[UIAlertView alloc]initWithTitle:@"FaceBook" 
    message:outout delegate:nil cancelButtonTitle:@"Ok" otherButtonTitles:nil, nil];
    [myalertView show];

}];
} 
```

}

我正在使用上述方法从 iOS 应用程序在 Facebook 上发布。如果我发布的内容包括图片和一些文本，则它成功地发布在 Facebook 上。但是，当我尝试在没有图片的情况下在 Facebook 上发帖时，我只是为了这个目的而注释掉了以下行。

```
 [mySocialComposer addImage:[UIImage imageNamed:@"image.jpg"]]; 
```

在此过程中，我收到一条错误警报，提示无法发送此帖子，因为与 Facebook 的连接丢失。有什么方法可以在没有图片的情况下在 Facebook 上发帖。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-07T21:58:31.770

您可以将添加图像设置为零。你应该可以发帖了。

```
if ([SLComposeViewController isAvailableForServiceType:SLServiceTypeFacebook])
    {
        SLComposeViewController* mySocialComposer = [SLComposeViewController
                            composeViewControllerForServiceType:SLServiceTypeFacebook];
        [mySocialComposer setInitialText:@"Hellooooooo World"];
        [mySocialComposer addImage:nil];

        [self presentViewController:mySocialComposer animated:YES completion:nil];

        [mySocialComposer setCompletionHandler:^(SLComposeViewControllerResult result){

            NSString *outout = [[NSString alloc] init];

            switch (result) {
                case SLComposeViewControllerResultCancelled:
                    outout = @"Post Canceled";
                    break;
                case SLComposeViewControllerResultDone:
                    outout = @"Post Successfull";

                default:
                    break;
            } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T06:20:11.107

根据 Apple 关于[SLComposeViewController](http://developer.apple.com/library/ios/#documentation/NetworkingInternet/Reference/SLComposeViewController_Class/Reference/Reference.html)的官方文档，您会看到它说

返回值

返回一个布尔值，指示文本是否已成功设置。讨论

如果文本不适合当前可用的字符空间或视图控制器已经呈现给用户（因此无法更改），则此方法返回 NO。字符限制取决于目标服务并由服务提供商记录。有关受支持服务的文档链接，请参阅 SLRequest 类参考中的“表 1 社会服务个人文档站点”。

因此，如果该控制器已经显示，它将无法工作。尝试不同的文本并再次查看。

你能去掉吗

> mySocialComposer = [[SLComposeViewController alloc]init];

你不应该那样做。

```
[mySocialComposer setInitialText:@"Hellooooooo World"];
[mySocialComposer addImage:[UIImage imageNamed:@"image.jpg"]];

[self presentViewController:mySocialComposer animated:YES completion:nil]; 
```

在设置完成处理程序后放置这些代码行。

还要从那里删除 UIAlertView 并将其放在完成处理程序中以用于错误情况。

# c++ - 为什么使用 int 作为后增量运算符重载的参数？

> ID：12740378
> 
> 赞同：8
> 
> 时间：2012-10-05T06:01:29.043
> 
> 标签：c++, operator-overloading

据我所知，这是重载后增量运算符的方法：

```
const MyClass& MyClass::operator++(int); 
```

为什么它有 int 作为参数？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-05T06:19:17.913

[D&E](http://www.stroustrup.com/dne.html)，§11.5.3：

> 我考虑了显而易见的解决方案，将关键字`prefix`和添加`postfix`到 C++ [ ... ] 但是，我收到了不喜欢新关键字的人通常的愤怒嚎叫。提出了几个不涉及新关键字的备选方案。例如：

> ```
>  class Ptr_to_X {
>        X ++operator(); // prefix ++
>        X operator++(); // postfix ++
>    }; 
> ```
> 
> 或者

> ```
>  class Ptr_to_X {
>        X& operator++(); // postfix because it 
>                         // returns a reference
>        x operator();    // prefix because it
>                         // doesn't return a reference
>    }; 
> ```

> 我认为前者太可爱，后者太微妙。最后我决定：

> ```
>  class Ptr_to_X {
>        X operator++();     // prefix: no argument
>        X operator++(int);  // postfix: because of the argument
>    }; 
> ```

> 这可能太可爱太微妙了，但它确实有效，不需要新的语法，并且有一个疯狂的逻辑。其他一元运算符是前缀并且在定义为成员函数时不带参数。“奇数”和未使用`int`的虚拟参数用于指示奇数后缀运算符。换句话说，在后缀的情况下，`++`位于第一个（实）操作数和第二个（虚拟）参数之间，因此是后缀。
> 
> 这些解释是必要的，因为该机制是独一无二的，因此有点棘手。如果有选择，我可能会引入`prefix`and`postfix`关键字，但当时这似乎不可行。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-05T06:02:11.580

这是为了区分前缀增量和后缀增量运算符。

为了完整起见，这在 C++03 和 C++11 标准的第 13.5.7 节中进行了规定。

# php - 按字母将字符串拆分为数组

> ID：12740387
> 
> 赞同：0
> 
> 时间：2012-10-05T06:02:28.227
> 
> 标签：php, arrays

我试图将一个字符串拆分成一个数组，这样如果字符串是 `z10k4m42`它就会变成

```
array('z' => 10, 'k' => 4, 'm' => 42) 
```

这可能吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-05T06:07:08.953

试试下面的：

```
preg_match_all('/([a-z]+)(\d+)/', 'z10k4m42', $matches);
$ret = array_combine($matches[1], $matches[2]); 
```

# c# - 编辑 iTextSharp PdfSmartCopy 类的 DirectContent

> ID：12740390
> 
> 赞同：5
> 
> 时间：2012-10-05T06:02:40.307
> 
> 标签：c#, java, merge, itextsharp, itext

在我的工作中，有时我必须合并从几个到几百个 pdf 文件。我一直在使用`Writer`和`ImportedPages`上课。但是当我将所有文件合并为一个时，文件大小会变得巨大，是所有合并文件大小的总和，因为字体被附加到每一页，而不是重复使用（字体嵌入到每一页，而不是整个文档）。

不久前，我发现了`PdfSmartCopy`类，它重用了嵌入的字体和图像。问题就在这里。很多时候，在将文件合并在一起之前，我必须向它们添加额外的内容（图像、文本）。为此，我通常使用`PdfContentByte`from `Writer`object。

```
Document doc = new Document();    
PdfWriter writer = PdfWriter.GetInstance(doc, new FileStream("C:\test.pdf", FileMode.Create));
PdfContentByte cb = writer.DirectContent;
cb.Rectangle(100, 100, 100, 100);
cb.SetColorStroke(BaseColor.RED);
cb.SetColorFill(BaseColor.RED);
cb.FillStroke(); 
```

当我对`PdfSmartCopy`对象做类似的事情时，页面会被合并，但不会添加额外的内容。我的测试的完整代码`PdfSmartCopy`：

```
using (Document doc = new Document())
        {
            using (PdfSmartCopy copy = new PdfSmartCopy(doc, new FileStream(Path.GetDirectoryName(pdfPath[0]) + "\\testas.pdf", FileMode.Create)))
            {
                doc.Open();
                PdfContentByte cb = copy.DirectContent;
                for (int i = 0; i < pdfPath.Length; i++)
                {
                    PdfReader reader = new PdfReader(pdfPath[i]);
                    for (int ii = 0; ii < reader.NumberOfPages; ii++)
                    {
                        PdfImportedPage import = copy.GetImportedPage(reader, ii + 1);                            
                        copy.AddPage(import);
                        cb.Rectangle(100, 100, 100, 100);
                        cb.SetColorStroke(BaseColor.RED);
                        cb.SetColorFill(BaseColor.RED);
                        cb.FillStroke();
                        doc.NewPage();// net nesessary line
                        //ColumnText col = new ColumnText(cb);
                        //col.SetSimpleColumn(100,100,500,500);
                        //col.AddText(new Chunk("wdasdasd", PdfFontManager.GetFont(@"C:\Windows\Fonts\arial.ttf", 20)));
                        //col.Go();                            
                    }
                }
            }
        }
    } 
```

现在我有几个问题：

1.  是否可以编辑`PdfSmartCopy`对象的 DirectContent？
2.  如果没有，是否有另一种方法可以将多个 pdf 文件合并为一个而不显着增加其大小并且仍然能够在合并时向页面添加其他内容？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-05T07:00:10.537

首先：使用`PdfWriter`/`PdfImportedPage`不是一个好主意。你扔掉了所有的交互功能！作为 iText 的作者，尽管我写了两本关于此的书，尽管我说服我的出版商为免费： http: [//www.manning.com/lowagie2/samplechapter6.pdf](http://www.manning.com/lowagie2/samplechapter6.pdf)

我的文笔真的那么差吗？`PdfWriter`还是人们继续使用/合并文档的另一个原因`PdfImportedPage`？

至于您的具体问题，以下是答案：

1.  是的。下载示例章节并在 PDF 文件中搜索`PageStamp`.
2.  仅当您分两次创建 PDF 时。例如：首先创建巨大的PDF，然后通过传递它来减小大小`PdfCopy`；或首先使用 PdfCopy 创建合并的 PDF，然后使用`PdfStamper`.

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-08T12:41:02.440

使用 Bruno Lowagie 答案后的代码

```
for (int i = 0; i < pdfPath.Length; i++)
{
       PdfReader reader = new PdfReader(pdfPath[i]);
       PdfImportedPage page;
       PdfSmartCopy.PageStamp stamp;
       for (int ii = 0; ii < reader.NumberOfPages; ii++)
       {
            page = copy.GetImportedPage(reader, ii + 1);
            stamp = copy.CreatePageStamp(page);
            PdfContentByte cb = stamp.GetOverContent();
            cb.Rectangle(100, 100, 100, 100);
            cb.SetColorStroke(BaseColor.RED);
            cb.SetColorFill(BaseColor.RED);
            cb.FillStroke();
            stamp.AlterContents(); // don't forget to add this line
            copy.AddPage(page);                  
        }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-01T22:55:41.750

2.仅当您分两次创建 PDF 时。例如：首先创建巨大的 PDF，然后通过 PdfCopy 传递它来减小大小；或首先使用 PdfCopy 创建合并的 PDF，然后使用 PdfStamper 在第二遍中添加额外的内容。

第二遍使用 PdfStamper 要困难得多。当您处理大量数据时，创建 1 个 pdf 邮票然后附加要容易得多。

PdfCopyFields 在这方面做得很好。现在它在 5.4.4.0 版本中不起作用，这就是我在这里的原因。

# java - 无法在 Web 浏览器中运行小程序程序，但在小程序查看器中工作正常？

> ID：12740395
> 
> 赞同：1
> 
> 时间：2012-10-05T06:03:10.070
> 
> 标签：java, html, browser, applet

小程序程序运行良好的小程序查看器，但是当尝试在浏览器中运行时，它显示运行时异常*java.lang.reflect.InvocationException*并且一个窗口显示以下详细信息

```
 Java Plug-in 10.7.2.11
    Using JRE version 1.7.0_07-b11 Java HotSpot(TM) Client VM
    User home directory = C:\Users\tom
    ----------------------------------------------------
    c:   clear console window
    f:   finalize objects on finalization queue
    g:   garbage collect
    h:   display this help message
    l:   dump classloader list
    m:   print memory usage
    o:   trigger logging
    q:   hide console
    r:   reload policy configuration
    s:   dump system and deployment properties
    t:   dump thread list
    v:   dump thread stack
    x:   clear classloader cache
    0-5: set trace level to <n>
    -----------------------------------------
    ----------- 
```

这是我运行小程序的 html 代码

```
 <html>
    <body>
    <applet code="integrity.class" width="800" height="500">
    </applet>
    </body>
    </html> 
```

帮我解决这个问题！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T06:12:24.690

您应该将包路径上的代码设置为您的小程序类，并将存档设置为 jar 的路径，如下所示：

```
<applet code="my.applet.package.Integrity" archive="integrity.jar" width="800" height="500"> 
```

另请注意，Java 中的类名应以大写开头

# ruby-on-rails - 如何使用 Ruby on Rails 简化软删除过程？

> ID：12740397
> 
> 赞同：15
> 
> 时间：2012-10-05T06:03:15.793
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我想要一个模型，我需要软删除记录，而不是在搜索时在查找或任何其他条件中显示它们。

我想保留模型而不删除记录。如何解决这个问题？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2014-11-10T23:43:52.010

只需在 Rails 4 中使用关注点

这里的例子

```
module SoftDeletable
  extend ActiveSupport::Concern

  included do
    default_scope { where(is_deleted: false) }
    scope :only_deleted, -> { unscope(where: :is_deleted).where(is_deleted: true) }
  end

  def delete
    update_column :is_deleted, true if has_attribute? :is_deleted
  end

  def destroy;
    callbacks_result = transaction do
      run_callbacks(:destroy) do
        delete
      end
    end
    callbacks_result ? self : false
  end

  def self.included(klazz)
    klazz.extend Callbacks
  end

  module Callbacks
    def self.extended(klazz)
      klazz.define_callbacks :restore
      klazz.define_singleton_method("before_restore") do |*args, &block|
        set_callback(:restore, :before, *args, &block)
      end
      klazz.define_singleton_method("around_restore") do |*args, &block|
        set_callback(:restore, :around, *args, &block)
      end
      klazz.define_singleton_method("after_restore") do |*args, &block|
        set_callback(:restore, :after, *args, &block)
      end
    end
  end

  def restore!(opts = {})
    self.class.transaction do
      run_callbacks(:restore) do
        update_column :is_deleted, false
        restore_associated_records if opts[:recursive]
      end
    end
    self
  end

  alias :restore :restore!

  def restore_associated_records
    destroyed_associations = self.class.reflect_on_all_associations.select do |association|
      association.options[:dependent] == :destroy
    end
    destroyed_associations.each do |association|
      association_data = send(association.name)
      unless association_data.nil?
        if association_data.is_deleted?
          if association.collection?
            association_data.only_deleted.each { |record| record.restore(recursive: true) }
          else
            association_data.restore(recursive: true)
          end
        end
      end
      if association_data.nil? && association.macro.to_s == 'has_one'
        association_class_name = association.options[:class_name].present? ? association.options[:class_name] : association.name.to_s.camelize
        association_foreign_key = association.options[:foreign_key].present? ? association.options[:foreign_key] : "#{self.class.name.to_s.underscore}_id"
        Object.const_get(association_class_name).only_deleted.where(association_foreign_key, self.id).first.try(:restore, recursive: true)
      end
    end
    clear_association_cache if destroyed_associations.present?
  end
end 
```

# 可删除

Rails 关注添加软删除。

非常简单灵活的定制/更改方式

（您可以将删除列更改为时间戳并更改调用 ActiveRecord [touch](http://apidock.com/rails/ActiveRecord/Timestamp/touch)的方法）。

最好在你想控制代码的地方没有简单任务的宝石。

### 用法

在您的表格中添加一个布尔列 is_deletable

```
class AddDeletedAtToUsers < ActiveRecord::Migration
  def change
    add_column :users, :is_deleted, :boolean
  end
end 
```

### 在您的模型中

```
class User < ActiveRecord::Base
  has_many :user_details, dependent: :destroy

  include SoftDeletable
end 
```

### 可用的方法和回调：

```
User.only_deleted
User.first.destroy
User.first.restore
User.first.restore(recursive: true) 
```

注意：如果您决定使用时间戳列，请关注使用 update_column 或触摸。

* * *

### 已编辑

如果您使用的是 rails <= 3.x（此示例还使用 DateTime 字段而不是布尔值），则存在一些差异：

```
module SoftDeletable
  extend ActiveSupport::Concern

  included do
    default_scope { where(deleted_at: nil }
    # In Rails <= 3.x to use only_deleted, do something like 'data = Model.unscoped.only_deleted'
    scope :only_deleted, -> { unscoped.where(table_name+'.deleted_at IS NOT NULL') }
  end

  def delete
    update_column :deleted_at, DateTime.now if has_attribute? :deleted_at
  end

  # ... ... ...
  # ... OTHERS IMPLEMENTATIONS ...
  # ... ... ...

  def restore!(opts = {})
    self.class.transaction do
      run_callbacks(:restore) do
        # Remove default_scope. "UPDATE ... WHERE (deleted_at IS NULL)"
        self.class.send(:unscoped) do
          update_column :deleted_at, nil
          restore_associated_records if opts[:recursive]
        end
      end
    end
    self
  end

  alias :restore :restore!

  def restore_associated_records
    destroyed_associations = self.class.reflect_on_all_associations.select do |association|
      association.options[:dependent] == :destroy
    end
    destroyed_associations.each do |association|
      association_data = send(association.name)
      unless association_data.nil?
        if association_data.deleted_at?
          if association.collection?
            association_data.only_deleted.each { |record| record.restore(recursive: true) }
          else
            association_data.restore(recursive: true)
          end
        end
      end
      if association_data.nil? && association.macro.to_s == 'has_one'
        association_class_name = association.options[:class_name].present? ? association.options[:class_name] : association.name.to_s.camelize
        association_foreign_key = association.options[:foreign_key].present? ? association.options[:foreign_key] : "#{self.class.name.to_s.underscore}_id"
        Object.const_get(association_class_name).only_deleted.where(association_foreign_key, self.id).first.try(:restore, recursive: true)
      end
    end
    clear_association_cache if destroyed_associations.present?
  end
end 
```

### 用法

在您的表格中添加一个 DateTime 列 deleted_at

```
class AddDeletedAtToUsers < ActiveRecord::Migration
  def change
    add_column :users, :deleted_at, :datetime
  end
end 
```

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2012-10-05T06:16:07.653

试试这个 gem：[https](https://github.com/technoweenie/acts_as_paranoid) ://github.com/technoweenie/acts_as_paranoid - ActiveRecord 插件允许您隐藏和恢复记录而不实际删除它们

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2012-10-05T06:06:17.143

只需添加一个名为的布尔字段`deleted`或其他内容即可。当您软删除记录时，只需将该字段设置为 true。

在进行查找时，只需将其添加为条件（或为其设置范围）。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-10-05T06:15:27.923

ActiveRecord 3 中的`default_scope`功能使这很容易，但就个人而言，我更喜欢可以放入项目中的[各种标准解决方案。](https://www.ruby-toolbox.com/categories/Active_Record_Soft_Delete)[`acts_as_archive`](https://github.com/winton/acts_as_archive)特别是最适合我的大多数项目，因为它将不经常访问的已删除记录移动到单独的表中，从而允许基表保持较小并位于数据库服务器的 RAM 中。

根据您的需要，您可能还需要考虑[版本控制](https://www.ruby-toolbox.com/categories/Active_Record_Versioning)而不是软删除。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2013-07-16T14:40:09.750

1.  向您的模型添加日期字段 - deleted_at。
2.  覆盖模型上的删除（或销毁）方法以设置 deleted_at 值。您也可以将其创建为新方法。类似soft_delete的东西。
3.  向您的模型添加恢复/取消删除方法以将 deleted_at 值设置回 null。
4.  可选：为原始删除（或销毁）方法创建别名方法。将其命名为 hard_delete。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2016-06-01T00:20:23.653

您可以像这样定义一个模块

```
module ActiveRecordScope
  def self.included(base)
    base.scope :not_deleted, -> { base.where(deleted: false) }
    base.send(:default_scope) { base.not_deleted }
    base.scope :only_deleted, -> { base.unscope(where: :deleted).where(deleted: true) }

    def delete
      update deleted: true
    end

    def recover
      update deleted: false
    end
  end
end 
```

然后在您的课堂上，您可以编写如下内容：

```
class User < ActiveRecord::Base
  include ActiveRecordScope

end 
```

所以你有软删除和恢复。

您调用`user.delete`软删除用户。然后你可以调用`user.recover`将deleted 重新设置为**false**，并恢复它。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-03-21T14:24:14.670

看看[rails3_acts_as_paranoid](https://github.com/goncalossilva/rails3_acts_as_paranoid)。

> 一个简单的插件，可以隐藏记录而不是删除它们，能够恢复它们。
> 
> ...
> 
> 这个插件的灵感来自于[acts_as_paranoid](http://github.com/technoweenie/acts_as_paranoid)和[acts_as_active](http://github.com/fernandoluizao/acts_as_active)。

**用法：**

```
class Paranoiac < ActiveRecord::Base
    acts_as_paranoid
    scope :pretty, where(:pretty => true)
end

Paranoiac.create(:pretty => true)

Paranoiac.pretty.count #=> 1
Paranoiac.only_deleted.count #=> 0
Paranoiac.pretty.only_deleted.count #=> 0

Paranoiac.first.destroy

Paranoiac.pretty.count #=> 0
Paranoiac.only_deleted.count #=> 1
Paranoiac.pretty.only_deleted.count #=> 1 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2014-08-14T05:07:13.407

如果你使用 Rails4，试试这个 gem：[https ://github.com/alfa-jpn/kakurenbo](https://github.com/alfa-jpn/kakurenbo)

Kakurenbo的联想功能比其他宝石要好。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-10-05T06:55:28.110

如果我想获取所有记录，我不会使用默认范围，因为我需要使用“with_exclusive_scope”忽略它，这反过来又很混乱。这将通过添加一个“已删除”布尔字段来设置，该字段是在删除记录时设置的。此外，将添加范围以根据条件获取数据。

结帐[覆盖 Rails default_scope](https://stackoverflow.com/questions/1834159/overriding-a-rails-default-scope)和[Rails：为什么 with_exclusive_scope 受保护？关于如何使用它的任何好的做法？](https://stackoverflow.com/questions/1648971/rails-why-is-with-exclusive-scope-protected-any-good-practice-on-how-to-use-it)

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2012-10-05T13:51:26.617

在表中添加一列说状态，并在删除记录时将列状态的值更新为非活动状态。并在获取记录时，在查询中添加条件状态！=“非活动”。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2015-12-02T20:05:58.550

对于 Rails 4，不要使用acts_as_paranoid（Rails 4 的错误），使用[paranoia](https://github.com/rubysherpas/paranoia)。您所要做的就是添加一个deleted_at 时间戳列并在模型中包含acts_as_paranoia。

从那里，只需调用`destroy`对象和所有其他 ActiveRecord 关系和大多数其他方法（如：count）自动排除 soft_deleted 记录。

# objective-c - UILongPressGesture minimumPressDuration

> ID：12740401
> 
> 赞同：0
> 
> 时间：2012-10-05T06:03:41.487
> 
> 标签：objective-c, mapkit, uigesturerecognizer, mkannotation

所以我对 Objective-C 比较陌生，而且很可能我错过了一些相当明显的东西，所以如果是这样，请随意向我扔西红柿。这是我的问题：

我有一个 iPhone 单视图应用程序，其中包含一个`MapView`. 我在其上添加了一个长按手势识别器，`MapView`以便注释/放置一个图钉。如果我不指定`minimumPressDuration`...

```
- (void)viewWillAppear:(BOOL)animated {
    UILongPressGestureRecognizer * longPressRecognizer = [[UILongPressGestureRecognizer alloc] initWithTarget:self action:@selector(handleLongPress:)];
    [mapView addGestureRecognizer:longPressRecognizer];  // Actual map view handler is added to

    ...

}

-(void) handleLongPress:(UILongPressGestureRecognizer *)gestureRecognizer {
    NSLog (@"Did it work?!");
    // Some code here to make pins appear; omitted for simplicity in this question
} 
```

正如预期的那样，当我长按地图时，`0.5`几秒钟后（默认时间）我将在地图上有 1 个图钉。如果我在我的手指周围移动，我会有一堆别针。日志还打印​​出“它有效吗？！” 一遍又一遍。再次，预期。但是，当我在 viewWillappear 方法中添加一小行时（就在消息 mapView 之前`addGestureRecognizer`）：

```
longPressRecognizer.minimumPressDuration = 1.0; 
```

...手势不再起作用。在那我按住 1 秒钟，日志上什么也没有出现。放手，尝试超过一秒钟......什么都没有。没有引脚被丢弃，并且没有任何内容打印到日志中。为什么会出现这种情况？我不明白为什么设置最短持续时间会破坏这一点。我的期望是这应该和以前一样 - 没有自定义设置的最小按下持续时间 - 唯一的区别是我需要按住 1 整秒而不是半秒。

更新：看来，如果我选择介于`0.1`和`0.5`包容之间的值，它会起作用。但是一旦我达到`0.6`或更高，它就不起作用了。我不知道的 Obj-C 引擎盖下发生了什么？

另外，我知道我应该在我的处理函数中检查状态，所以除非这能解决这个问题，否则不要为它堆砌我。在深入研究细节之前，我只想让基本的工作先工作。

谢谢！

PS，使用 OS X 10.8.2 和 Xcode 4.5.1 (4G1004)。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-06T13:54:15.600

我遇到了同样的问题。设置识别器的委托并开启同步识别后，此问题得到解决。以下是我的代码供您参考：

```
- (void)init
{
    UILongPressGestureRecognizer *longPressGestureRecognizer = [[UILongPressGestureRecognizer alloc] initWithTarget:self action:@selector(lockLongPress:)];
    longPressGestureRecognizer.minimumPressDuration = 1.0;
    longPressGestureRecognizer.delegate = self; 
    [targetView addGestureRecognizer:longPressGestureRecognizer];
}

- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer
{
    return YES;
} 
```

# c++ - 覆盖 std::string 的空终止符合法吗？

> ID：12740403
> 
> 赞同：39
> 
> 时间：2012-10-05T06:03:42.037
> 
> 标签：c++, c++11, language-lawyer, stdstring

在 C++11 中，我们知道它`std::string`保证是连续的和空终止的（或者更迂腐的是，由 终止`charT()`，在这种情况下`char`是空字符 0）。

我需要使用这个 C API 来通过指针填充字符串。它写入整个字符串 + 空终止符。在 C++03 中，我总是被迫使用 a `vector<char>`，因为我不能假设它`string`是连续的或空终止的。但是在 C++11 中（假设一个正确符合的`basic_string`类，在某些标准库中仍然存在问题），我可以。

或者我可以吗？当我这样做时：

```
std::string str(length); 
```

该字符串将分配`length+1`字节，最后一个由空终止符填充。那挺好的。但是当我把它传递给 C API 时，它会写`length+1`字符。它将覆盖空终止符。

*诚然，它将用一个空字符*覆盖空终止符。这很有可能会起作用（事实上，我无法想象它是如何*不起作用*的）。

但我不在乎什么“有效”。我想知道，*根据规范*，是否可以用空字符覆盖空终止符？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-10-05T06:44:31.370

不幸的是，这是 UB，如果我解释正确的措辞（无论如何，这是不允许的）：

`§21.4.5 [string.access] p2`

> *返回：* `*(begin() + pos)` if ，否则为value`pos < size()`类型对象的引用；**参考值不得修改**。`T``charT()`

 **（它说`T`不是的编辑错误`charT`。）

`.data()`并且`.c_str()`基本上指向`operator[]`（`§21.4.7.1 [string.accessors] p1`）：

> *返回：*一个指针`p`，使得`p + i == &operator[](i)`对于每个`i`in `[0,size()]`。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-10-05T08:36:16.727

根据规范，覆盖终止`NUL`应该是*未定义的行为*。因此，正确的做法是在字符串中分配`length+1`字符，将字符串缓冲区传递给 C API，然后`resize()`返回`length`：

```
// "+ 1" to make room for the terminating NUL for the C API
std::string str(length + 1);

// Call the C API passing &str[0] to safely write to the string buffer
...

// Resize back to length
str.resize(length); 
```

（FWIW，我在 MSVC10 上尝试了“覆盖 NUL”的方法，效果很好。）

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2016-12-24T04:54:52.963

[LWG 2475](https://timsong-cpp.github.io/lwg-issues/2475)通过编辑`operator[](size())`（以粗体插入的文本）的规范使其有效：

> 否则，返回对`charT`具有 value 类型的对象的引用`charT()`，其中将对象修改为**除`charT()`** 导致未定义行为之外的任何值。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-10-05T06:33:16.643

我想 n3092 不再是最新的，但这就是我所拥有的。第 21.4.5 节允许访问单个元素。它需要 pos <= size()。如果 pos < size() 那么你得到实际元素，否则（即如果 pos == size()）那么你得到一个不可修改的参考。

我认为就编程语言而言，即使新值与旧值相同，一种可以修改值的访问也被视为修改。

g++ 是否有可以链接到的迂腐库？**

# batch-file - 批处理文件在目录中查找特定文件

> ID：12740413
> 
> 赞同：1
> 
> 时间：2012-10-05T06:05:01.467
> 
> 标签：batch-file

我正在尝试从目录中获取文件，并希望使用批处理脚本将文件名设置为变量。

这是我的代码。但它总是为变量设置相同的值，任何机构都可以提供解决方案

```
echo on  
setlocal EnableDelayedExpansion  
for /f %%x in ('dir /b C:\backup_dir') do (  
SET test=%%~nx
if "%test:~0,6%"=="kdc_db" (set DUMP=%%x)  
if "%test:~0,6%"=="kdc_ke" (set KEYS=%%x)  
)  
echo %DUMP%  
echo %KEYS% 
```

这里转储和键变量总是设置为相同的值

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T08:02:12.627

您需要使用延迟扩展。您已经启用它，您只需要将`%`'s替换为`!`'s

```
echo on  
setlocal EnableDelayedExpansion  
for /f %%x in ('dir /b C:\backup_dir') do (  
SET test=%%~nx
if "!test:~0,6!"=="kdc_db" (set DUMP=%%x)  
if "!test:~0,6!"=="kdc_ke" (set KEYS=%%x)  
)  
echo %DUMP%  
echo %KEYS% 
```

# function - 在 MATLAB 函数中将函数作为参数传递

> ID：12740417
> 
> 赞同：0
> 
> 时间：2012-10-05T06:05:12.727
> 
> 标签：function, matlab

> **可能重复：**
> [将函数作为参数传递给另一个函数](https://stackoverflow.com/questions/12709226/passing-a-function-as-argument-to-another-function)

下面是二分法的简单代码。我想知道如何能够传入我选择的任何函数作为参数而不是硬编码函数。

```
% This is an implementation of the bisection method
% for a solution to f(x) = 0 over an interval [a,b] where f(a) and f(b)
% Input: endpoints (a,b),Tolerance(TOL), Max # of iterations (No).
% Output: Value p or error message.

function bjsect(a,b,TOL,No)
% Step 0
if f(a)*f(b)>0
    disp('Function fails condition of f(a),f(b) w/opposite sign'\n);
    return
end
% Step 1
i = 1;
FA = f(a);
% Step 2
while i <= No
    % Step 3
    p = a +(b - a)/2;
    FP = f(p);
    % Step 4
    if FP == 0 || (b - a)/2 < TOL
        disp(p); 
    return
    end
    % Step 5
    i = i + 1;
    % Step 6
    if FA*FP > 0
        a = p;
    else
        b = p;
    end
    % Step 7
   if i > No
       disp('Method failed after No iterations\n');
       return 
   end
end
end

% Hard coded test function
function y = f(x)
y = x - 2*sin(x);
end 
```

我知道这是一个重要的概念，因此非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:11:58.860

最简单的方法是使用[匿名函数](http://www.mathworks.com.au/products/matlab/examples.html?file=/products/demos/shipping/matlab/anondemo.html)。在您的示例中，您将`bjsect`使用以下方法定义您的匿名函数：

```
MyAnonFunc = @(x) (x - 2 * sin(x)); 
```

您现在可以作为参数`MyAnonFunc`传入。`bjsect`它具有函数句柄的对象类型，可以使用`isa`. 在里面`bjsect`简单地使用`MyAnonFunc`，就好像它是一个函数，即：`MyAnonFunc(SomeInputValue)`.

请注意，您当然可以将您编写的任何函数包装在匿名函数中，即：

```
MyAnonFunc2 = @(x) (SomeOtherCustomFunction(x, OtherInputArgs)); 
```

是完全有效的。

**编辑：**哎呀，刚刚意识到这几乎肯定是另一个问题的重复 - 谢谢 H. Muster，我会标记它。

# iphone - 如何在 iOS 5.1 中以 MM-dd-yy 格式显示选取器视图？

> ID：12740423
> 
> 赞同：12
> 
> 时间：2012-10-05T06:05:30.237
> 
> 标签：iphone, objective-c, cocoa-touch, ios5, ios4

在我的应用程序中，我正在使用pickerview

我的问题是，当 iOS 4.3 Picker 视图出现 MM-dd-yy 格式时，

![在此处输入图像描述](../Images/6b7013bed317c1aa47163c4b354d8243.png)

在 iOS 5.1 Picker 视图中采用 dd-MM-yy 格式，

![在此处输入图像描述](../Images/d7293891321b0e558a82932b78f49781.png)

**我想要 iOS 5.1 中的 MM-dd-yy 格式**

我的代码如下，

我用这段代码以编程方式创建了选择器视图，

```
datePicker = [[UIDatePicker alloc] initWithFrame:CGRectMake(0, 250, 325, 300)];
datePicker.datePickerMode = UIDatePickerModeDate;
datePicker.date = [NSDate date];

NSDate *today = [NSDate date];        
NSDateFormatter *df = [[NSDateFormatter alloc] init];
[df setDateFormat:@"MM-dd-yy"];
NSString *dateString = [df stringFromDate:today];
dateString = [NSString stringWithFormat:@"%@",[df stringFromDate:datePicker.date]]; 
```

有人建议我如何在 iOS 5.1 上解决此问题？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-05T06:53:01.963

我的所有代码都很好，

问题在于设置，

我的区域格式设置为印度并将其更改为美国，

一切正常......

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-05T06:17:37.277

检查这个

```
UIDatePicker *datePicker = [[UIDatePicker alloc] initWithFrame:CGRectMake(0, 250, 325, 300)];

 datePicker.datePickerMode = UIDatePickerModeDate;

 datePicker.date = [NSDate date];

 [datePicker addTarget:self   action:@selector(LabelChange:)forControlEvents:UIControlEventValueChanged];

 [self.view addSubview:datePicker];

 [datePicker release]; 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-10-05T06:15:28.340

为此，您可以制作自定义选择器。

或者您想格式化日期然后使用此代码..

```
NSDateFormatter *dateFormat = [[NSDateFormatter alloc] init];
[dateFormat setDateFormat:@"MM-dd-yy"];
NSString *date = [dateFormat stringFromDate:datePicker.date];    
NSLog(@"date is >>> , %@",date); 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2015-12-23T07:44:54.783

将地区更改为美国，即区域设置

```
NSLocale *locale = [[NSLocale alloc] initWithLocaleIdentifier:@"US"];
        [datePicker setLocale:locale]; 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-10-05T06:10:36.723

在 iOS 5.1 中显示`UIDatePicker`与 4.3 中一样

**您和我的两个代码都相同，但在我的应用程序 UIDatePicker 中显示
MM *-dd-yyyy***

使用它...可能对您有帮助。

```
 self.DatePicker= [[UIDatePicker alloc] initWithFrame:CGRectMake(0, 0, 320, 216)];
    self.DatePicker.datePickerMode = UIDatePickerModeDate;
    [self.DatePicker addTarget:self
                   action:@selector(SetDatePickerTime:)
         forControlEvents:UIControlEventValueChanged];
    [self.asheet addSubview:self.DatePicker]; 
```

# python - 我可以在 django 中使用简单的 sql 命令吗

> ID：12740424
> 
> 赞同：0
> 
> 时间：2012-10-05T06:05:44.250
> 
> 标签：python, sql, django, django-queryset

我想从多个表中选择数据，所以我只想知道我可以使用简单的 SQL 查询吗？如果可以，请给我一个例子（意味着在哪里使用这些查询以及如何使用）。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T06:08:41.687

参考 django 文档

[进行查询](https://docs.djangoproject.com/en/dev/topics/db/queries/)

[执行原始 SQL 查询](https://docs.djangoproject.com/en/dev/topics/db/sql/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T06:14:57.077

试试这个。

https://docs.djangoproject.com/en/dev/topics/db/sql/

# iphone - iOS：如何在 UIScrollView 中进行正确的分页？

> ID：12740425
> 
> 赞同：0
> 
> 时间：2012-10-05T06:05:52.263
> 
> 标签：iphone, ios, uiscrollview, custom-paging, scroll-paging

我有一个`UIScrollView`大小（320,160）。我在其中添加了一些`UIImageView`大小（213,160）。第一个`UImageView`从 54 (x) 开始，依此类推，我在每个`UIImageView`. 我也启用`pagingEnable`了 in `IB`& in `coding`。我的问题是它不能按照它的属性正常工作！当我滚动时，它应该`UIImageViews`在每个单曲中显示我，`page`而不是向我显示类似[查看屏幕截图](https://i.stack.imgur.com/pOn6Q.png)的内容我想要输出类似这样的内容，[请参阅输出屏幕截图](https://i.stack.imgur.com/CHWNG.png)

我在哪里做错了？我还有`<`（上一个）和`>`（下一个）的功能来显示图像。我昨天问了一个问题，我接受了，但是我的要求几乎没有变化，它不会成为我的解决方案。[看到我的问题。](https://stackoverflow.com/q/12722254/1603234)

有没有我必须设置的特殊属性，或者我应该实现的一些逻辑？我检查并尝试过的所有示例，但我发现我的要求有些特殊。指点我！谢谢。

**编辑：**

```
- (void) setImages
{
CGFloat contentOffset = 0.0f;

    for (int i=0; i<[arrImgUrls count]; i++) 
    {
        CGRect imageViewFrame = CGRectMake(contentOffset, 0.0f, 213, scrollImages.frame.size.height);
        AsyncImageView *asyncImageView = [[AsyncImageView alloc] initWithFrame:imageViewFrame];
        [asyncImageView.layer setMasksToBounds:YES];
        NSString *urlImage = [arrImgUrls objectAtIndex:i];
        NSURL *url = [NSURL URLWithString:urlImage];
        [asyncImageView loadImageFromURL:url];
        [scrollImages addSubview:asyncImageView];
    contentOffset += asyncImageView.frame.size.width+increment;
        [asyncImageView release];
}

    scrollImages.contentSize = CGSizeMake([arrImgUrls count] * scrollImages.frame.size.width, scrollImages.frame.size.height);
    scrollImages.pagingEnabled = YES;
    scrollImages.clipsToBounds = NO;
}

-(IBAction)prevImage:(id)sender
{    
     _currentImage--;

     [btnNext setEnabled:YES];

     if (_currentImage==0)
     {
         [btnPrev setEnabled:NO];
         [scrollImages setContentOffset:CGPointMake((_currentImage*imageWidth), 0) animated:YES];
         return;
     }

     NSLog(@"previous:mult %d inc %d current %d",_currentImage*imageWidth,increment*_currentImage,_currentImage);

     int nextImage=_currentImage+2;

     [scrollImages setContentOffset:CGPointMake((((_currentImage*imageWidth)-(increment*_currentImage)))+(nextImage*increment), 0) animated:YES];
 }

-(IBAction)nextImage:(id)sender
{    
   _currentImage++;

   NSLog(@"next:mult %d inc %d current %d",_currentImage*imageWidth,increment*_currentImage,_currentImage);

  [scrollImages setContentOffset:CGPointMake((_currentImage*imageWidth)+(increment*_currentImage), 0) animated:YES];

  [btnPrev setEnabled:YES];

  if (_imageCount-1 == _currentImage)
 {
    [btnNext setEnabled:NO];
 }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T06:59:50.363

分页滚动视图总是分页其帧大小的倍数。因此，在您的示例中，分页始终为 +320。

如果您的内容部分与滚动视图的框架匹配，则此行为很好。

你需要做的是给你的滚动视图一个宽度为 213 并将它的`clipsToBounds`属性设置为`NO`. 之后，您的滚动视图页面完全符合您的要求，您会看到框架外的左侧和右侧。此外，您必须做一个技巧来使这个左右区域代表对滚动视图的触摸。

[在这个答案](https://stackoverflow.com/a/1220605/53313)中有很好的解释。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T06:34:14.117

您忘记设置滚动视图内容大小。

确保您已将内容大小设置为适合 N 个图像。

如果你想滚动视图滚动 10 个图像，每个页面上都有一个图像，请将 scrollView 设置`contentSize`为

```
[scrollView setContentSize:CGSizeMake(320 * 10,200)]; 
```

# c - 下面的 C 代码翻译成什么？

> ID：12740426
> 
> 赞同：0
> 
> 时间：2012-10-05T06:06:10.730
> 
> 标签：c

所以我有一个 for 循环，它是这样的：

```
for(span=N>>1;span;span>>=1) 
```

我假设开始和结束条件相当于如下：

```
span = N>>1; //right shift N by 1 and initialize to span
while(span!=0)
{
 span = span >> 1;
} 
```

但是，在我的代码上下文中，这似乎有点奇怪。提前致谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T06:09:26.103

在每次迭代中，您都将变量跨度除以 2，直到它达到 0。

所以如果最初 N = 8，那么 span 的值将是 4、2、1、0 -> 退出循环

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T06:10:43.137

那是对的。

*   初始化器设置`span = N >> 1`，将 N 右移 1。
*   循环条件是`span`，相当于`span != 0`。
*   每次循环出现时，`span`再次右移 1。

在正整数的上下文中，这等价于`for(span=N/2;span>0;span/=2)`。但是，在不了解您的特定背景的情况下，我无法评论这是否奇怪。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T06:17:03.463

简短而甜蜜...是的，就您显示的代码而言，您的解释是坚定而好的。

# android - 旋转存储在手机中任何位置的原始图像后，如何替换位图图像？

> ID：12740431
> 
> 赞同：4
> 
> 时间：2012-10-05T06:06:35.070
> 
> 标签：android, database, replace, media, android-camera

我想在旋转后替换位图图像，从存储在移动设备中任何位置的原始图像。我已将图像旋转 90 度，但无法从原始图像中替换它。

```
MediaStore.Images.Media.insertImage(getContentResolver(), rotatedBitmapImage, imageName, ""); 
```

我已经使用了上面的代码，但它将图像存储在 DCIM -> 相机文件夹中。但我想用原始图像的 URI 替换它。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-10T07:42:15.787

我已经得到了这个问题的答案。尽管使用了上面的代码，但我使用过：

```
OutputStream fOut = null;
                File file = new File(imagePath);
                try {
                    fOut = new FileOutputStream(file);
                    } catch (FileNotFoundException e) {

                    e.printStackTrace();
                }
                resizeBitmap.compress(Bitmap.CompressFormat.JPEG, 85, fOut);

            //---------------Used Media Scanner-----------
                sendBroadcast(new Intent(Intent.ACTION_MEDIA_MOUNTED, Uri
                        .parse("file://" + Environment.getExternalStorageDirectory()))); 
```

# android - 播放视频android时第一次按下后退按钮未捕获

> ID：12740432
> 
> 赞同：1
> 
> 时间：2012-10-05T06:06:35.930
> 
> 标签：android, android-videoview, back

我有一个奇怪的错误，我不知道如何解决。我有一个视频播放器 - 一个播放视频的简单视频视图。现在我已经实现了逻辑，以便当用户按下后退按钮时 - 它告诉他再次按下后退按钮退出，当他这样做时退出。但问题是第一次后按没有被抓住！我不知道是什么原因造成的。一旦没有任何反应，我就按回来，我再按一次，它会向我显示“请再按一次退出”的吐司，再按一次它就会退出。无论我做什么，第一个都没有被抓住。这是 OnBackPressed() 的代码

```
public void onBackPressed() {
        if (doubleBackToExitPressedOnce) {
            super.onBackPressed();
            finish();
        }

        else {
            this.doubleBackToExitPressedOnce = true;
            Toast.makeText(this, "Please press the back button again to exit",
                    Toast.LENGTH_SHORT).show();
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T08:10:08.217

您是否使用 MediaController 进行视频用户交互？我有类似的东西，最后发现 MediaController 正在*捕获*第一个用户输入，即使它被隐藏了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T08:33:18.677

感谢@Satya 在[Android 后退按钮和 MediaController](https://stackoverflow.com/questions/6051825/android-back-button-and-mediacontroller)处得到了答案（Commonsware） 。基本上覆盖 dispatchKeyEvent 来捕捉后退按钮的按下。@Satya - 发布您的评论作为答案，以便我可以将其标记为正确，直到那时标记为正确

# google-chrome - 在哪里可以找到 Google Chrome 日志

> ID：12740440
> 
> 赞同：43
> 
> 时间：2012-10-05T06:07:17.423
> 
> 标签：google-chrome, logging

在哪里可以找到 Google Chrome 日志？如果 Chrome 崩溃了，我可以在哪个位置找到 Chrome 日志？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2014-04-02T14:17:49.393

首先，您必须通过勾选“自动向 Google 发送使用情况统计信息和崩溃报告”在高级设置中启用崩溃日志记录。
然后可以在 中找到崩溃日志`chrome://crashes`。
请注意，启用此功能后，您的崩溃报告和统计信息将发送到 Google 服务器...

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2017-10-09T17:28:05.383

转储文件存储在 %HOMEPATH%\AppData\Local\Google\Chrome\User Data\Crashpad\reports 下

来源：[https ://superuser.com/questions/624/where-is-google-chrome-crash-dump-located](https://superuser.com/questions/624/where-is-google-chrome-crash-dump-located)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-04-21T04:00:25.787

Mac OS 10.13.4 Chrome 版本 73.0.3683.103（官方构建）（64 位）

我有：

~/库/应用程序支持/谷歌/Chrome/Crashpad/完成/

# android - android - geocoder.getfromlocationname 返回服务不可用

> ID：12740443
> 
> 赞同：1
> 
> 时间：2012-10-05T06:07:37.167
> 
> 标签：android

我的手机上有这个奇怪的错误（不是模拟器）。我写了一个代码，一个带有编辑文本的按钮，用于导航到输入的第一个结果。它工作了几天，当我继续 devlopibg 时，它突然停止工作。奇怪的是我安装了一个较早的版本，它没有工作。从那以后，具体的代码部分没有改变！另外，我在另一部手机上安装了最新版本，但突然它也无法正常工作。我不知道如何解决它，也不明白为什么会出现此错误。如果之前有效，为什么它突然说服务不可用？这是代码：

```
configure Search button//Button btn_search = (Button)findViewById(R.id.map_ ;(search_button if(!came_from.matches(" (("FollowLocation } ;(btn_search.setEnabled(false { btn_search.setOnClickListener( } ()new OnClickListener } (public void onClick(View v final AlertDialog.Builder ;(alert = new AlertDialog.Builder(context final EditText input = new ;(EditText(context input.setHint("Enter ;("Address input.setImeOptions( ;(EditorInfo.IME_ACTION_DONE ;(alert.setView(input alert.setPositiveButton("OK", } ()new DialogInterface.OnClickListener public void onClick(DialogInterface dialog, int } (whichButton String value = ;()input.getText().toString().trim } try Geocoder geocoder =

Geocoder(getApplicationContext(), ;(Locale.ENGLISH List<Address> results

;(geocoder.getFromLocationName(value, 1

} (if (results.size() == 0

AlertDialog.Builder builder2 = new ;(AlertDialog.Builder(context

builder2.setMessage("No Address Found, ("Please Try Again

(setCancelable(true.

setNegativeButton("OK", new. } ()DialogInterface.OnClickListener public } (void onClick(DialogInterface dialog, int id

;()dialog.cancel { ({ ;()show. { else } Address ;(address = results.get(0 GeoPoint p = (new GeoPoint((int address.getLatitude() * 1E6), (int)) ;(((address.getLongitude() * 1E6 gMapView = ;((MapView) findViewById(R.id.myGMap mc = ;()gMapView.getController

;(mc.setZoom(18

;(mc.animateTo(p

remove//previous overlays and put this location as circle

;()gMapView.getOverlays().clear Add a //

MyLocationOverlay circleOverlay = new ;()MyLocationOverlay

;circleOverlay.circle=true list = ;()gMapView.getOverlays

;(list.add(circleOverlay {

} (catch (Exception e {

AlertDialog.Builder builder2 = new ;(AlertDialog.Builder(context

builder2.setMessage("Error. Please check

(".internet connection

(setCancelable(true.

setNegativeButton("OK", new. } ()DialogInterface.OnClickListener public } (void onClick(DialogInterface dialog, int id

;()dialog.cancel { ({ ;()show. {

{ ;({ alert.setNegativeButton(" Cancel", new } ()DialogInterface.OnClickListener public void onClick(DialogInterface dialog, int } (whichButton ;()dialog.cancel { ;({ ;()alert.show { ;({ 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T21:17:57.083

我的问题的答案是重新启动我的手机。

# java - 在java中的Linkedhashmap中获取Next键

> ID：12740445
> 
> 赞同：0
> 
> 时间：2012-10-05T06:07:43.420
> 
> 标签：java, iterator, linkedhashmap

我正在创建动态`tabs.generateTab()`方法帮助来设置要显示或不显示的选项卡。喜欢`Property`被展示，`Info`不被展示，等等。但我被困在某个点上。我想显示`Property`标签。我这样传递它：

```
String nextTab = getNextTab("Property"); 
```

然后它将检查`getNextTab`方法是否`Property`存在`true`。如果是，`false`则该方法必须返回下一个`true`值。

```
public LinkedHashMap generateTab() {
    LinkedHashMap selectedTabs = new LinkedHashMap();
    selectedTabs.put("People", true);
    selectedTabs.put("Property", true);
    selectedTabs.put("Info", false);
    selectedTabs.put("Fixture", true);
    selectedTabs.put("Fee", true);
    selectedTabs.put("Process", true);
}

public String getNextTab(String currentTab) {

    String nextTab = null;
    Map<String, Boolean> tabList = generateTab();
    Iterator iterator = tabList.keySet().iterator();

    while (iterator.hasNext()) {
        Map.Entry entry = (Map.Entry) iterator.next();
        if (entry.getKey().equals(currentTab)) {
            if (tabList.get(entry.getKey()).equals(true)) {
                nextTab = entry.getKey().toString();
                break;
            }
        }
    }
    return nextTab;
} 
```

你能帮我拿到我在其他部分检查的下一个钥匙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:11:38.813

您的代码似乎存在多个问题

1) `public LinkedHashMap generateTab()`：理想情况下它应该返回一个 LinkedHashMap。（我假设它是复制粘贴错误）

2) `iterator.next()`：这应该返回一个`ClassCastException`用于将 String 转换为 Map.Entry

3）要返回nextTab，您必须调用`iterator.next()`一次以将迭代器移动到下一项。

将您的功能更改`getNextTab()`为如下所示。

```
public static String getNextTab(String currentTab) {

    String nextTab = null;
    Map<String,Boolean> tabList = generateTab();
    Iterator iterator = tabList.keySet().iterator();

    while (iterator.hasNext() ){
        String entry =(String) iterator.next();

         if(entry.equals(currentTab))
         {
             if(tabList.get(entry).equals(true))
             {

                 nextTab = entry;
                 break;
             } 
             else
             {
                nextTab =(String) iterator.next();
                break;
             }

         }

     }
     return nextTab;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T06:31:48.620

**原始类型**

好的，您的第一个问题是您使用 raw `LinkedHashMap`、 raw`Iterator`和 raw `Map.Entry`。这将导致各种运行时错误，尤其是在您的代码中。如果您一开始就用 . 输入*所有内容*，`<>`编译器会给出错误，帮助您解决几个问题。

首先，让我们更改`LinkedHashMap`要键入的内容：

```
public LinkedHashMap<String, Boolean> generateTab() {
    LinkedHashMap<String, Boolean> selectedTabs = new LinkedHashMap<String, Boolean>();
    selectedTabs.put("People", true);
    selectedTabs.put("Property", true);
    selectedTabs.put("Info", false);
    selectedTabs.put("Fixture", true);
    selectedTabs.put("Fee", true);
    selectedTabs.put("Process", true);
    return selectedTabs;
} 
```

接下来，我们将其添加到`Iterator`. 从您的代码中，很明显您期望 a`Map.Entry`来自`Iterator`，所以让我们从它开始。

```
Iterator<Map.Entry> iterator = tabList.keySet().iterator(); 
```

当你在代码中输入这个时，你会得到一个错误：

> 类型不匹配：无法转换`Iterator<String>`为`Iterator<Map.Entry>`

这意味着您的迭代器*没有*`Map.Entry`像您想象的那样输入。这是因为从 中`keySet`返回 a ，不像你想象的那样。你想要的是. 但是，如果你输入这个，它会告诉你：`Set<K>``LinkedHashMap``Set<Entry<K, V>>``tabList.entrySet().iterator()`

> 类型不匹配：无法转换`Iterator<Map.Entry<String,Boolean>>`为`Iterator<Map.Entry>`

所以我们也必须`<String, Boolean>`添加`Map.Entry`：

```
Iterator<Map.Entry<String, Boolean>> iterator = tabList.entrySet().iterator(); 
```

其他几件小事。现在我们已经改变了这一点，我们可以 a)`getKey().toString()`用 just 替换你的调用`getKey()`（因为它现在是一个字符串）和 b）用`tabList.get(entry.getKey()).equals(true)`just替换你的调用（因为它现在`entry.getValue()`是一个布尔值）。

在那里，既然我们已经解决了这个问题，您的代码将如下所示（在解决您的问题之前）：

```
public LinkedHashMap<String, Boolean> generateTab() {
    LinkedHashMap<String, Boolean> selectedTabs = new LinkedHashMap<String, Boolean>();
    selectedTabs.put("People", true);
    selectedTabs.put("Property", true);
    selectedTabs.put("Info", false);
    selectedTabs.put("Fixture", true);
    selectedTabs.put("Fee", true);
    selectedTabs.put("Process", true);
    return selectedTabs;
}

public String getNextTab(String currentTab) {
    String nextTab = null;
    Map<String, Boolean> tabList = generateTab();
    Iterator<Map.Entry<String, Boolean>> iterator = tabList.entrySet().iterator();
    while (iterator.hasNext()) {
        Map.Entry<String, Boolean> entry = iterator.next();
        if (entry.getKey().equals(currentTab)) {
            if (entry.getValue()) {
                nextTab = entry.getKey();
                break;
            }
        }
    }
    return nextTab;
} 
```

**获取下一个选项卡**

因此，如果我理解正确，您想找到当前选项卡，然后在地图中返回该选项卡*，*对吗？

**编辑：**我现在看到，您想要下一个隐藏/显示值为`true`.

为此，您已经有了迭代器，因此您可以使用它。如果您在当前选项卡上：

1.  检查迭代器中是否还有东西
2.  如果有，则在迭代器中获取下一个值（下一个选项卡）
3.  如果没有，刷新迭代器获取第一个值（我们已经到了结尾，所以循环回到开头）
4.  是可见的吗？如果是，则返回，否则，继续。

这将返回在当前选定的选项卡之后可见的第一个选项卡。如果选项卡仅可见选项卡是被选中的选项卡，这将再次返回该选项卡。如果没有可见的选项卡，请小心调用它。确保这不会发生，因为如果所有选项卡都被隐藏，它将创建一个无限循环。

这会将您的循环更改为如下所示：

```
while (iterator.hasNext()) {
    Map.Entry<String, Boolean> entry = iterator.next();
    if (entry.getKey().equals(currentTab)) {
        if (entry.getValue()) {
            while (true) {
                if (iterator.hasNext()) {
                    entry = iterator.next();
                } else {
                    // Get a fresh iterator and get its first element
                    iterator = tabList.iterator();
                    entry = iterator.next();
                }
                if (entry.getValue()) {
                    return entry.getKey();
                }
            }
        }
    }
} 
```

你去吧！请注意，我必须使用`return`而不是`break`，因为打破*两个*循环需要 a) 一个`boolean`变量来使第一个循环在第二个循环退出后退出，或者 b) 一个用于`break`中断的语句的标签，这两者都不是好的选项，真的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T06:18:23.737

如果删除了不必要的逻辑，代码如下所示

```
public String getNextTab(String currentTab) {
    Map<String, Boolean> tabList = generateTab();
    boolean shouldStart = false;
    for (Map.Entry<String, Boolean> value : tabList.entrySet()) {
        if (value.getKey().equals(currentTab)) {
            shouldStart = true;//to check if we have found entry7
            continue;
        }
        if (shouldStart) {
            if (value.getValue().equals(true))
                return value.getKey();//return the key which has next value true
        }
    }
    return null;
} 
```

输出

```
getNextTab("Property")-->Fixture 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T06:18:25.910

尝试这个..

```
for(Map.Entry<String,Boolean> arr : tabList.entrySet()){

     if(arr.getKey().equals("Property")){

             if(arr.getValue()){

                 // Do something is Property is True

            }else{

                 // Do something is Property is False

            }

} 
```

# javascript - 如何使用 URI 使用 phonegap 压缩图像

> ID：12740447
> 
> 赞同：1
> 
> 时间：2012-10-05T06:08:08.727
> 
> 标签：javascript, android, cordova, phonegap-plugins

我想通过phonegap压缩使用android手机相机拍摄的几张图片（5张图片）并将zip文件传输到服务器（java）。

是否可以使用 java 脚本或 phonegap API 使用 URI 压缩图像？或者如果只能通过本机调用，我们如何使用phonegap中的参数（URI）调用本机方法？

与此相关的任何链接都将非常有帮助。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T06:35:31.660

嗨，我认为这些链接可能会对您有所帮助。

[zip.js](http://gildas-lormeau.github.com/zip.js/)这是一个 javascript zip 库。

或者我找到了一个 ios 插件[链接](https://github.com/filmaj/Hydra/tree/master/ext/iOS/plugins/ZipUtil)

或堆栈溢出问题[javascript zip](https://stackoverflow.com/questions/2095697/unzip-files-using-javascript)

# objective-c - 我可以将路径添加到另一条路径中吗？

> ID：12740449
> 
> 赞同：2
> 
> 时间：2012-10-05T06:08:27.070
> 
> 标签：objective-c, ios5

是否有可能我可以连接 2 条或更多路径？例如，我有一个正在一行中移动的图像，当我在第 1 行添加一行时，这 2 行现在形成字母 L。我的新对象现在是否有可能在新行中移动？

# c# - 如何遍历字符串，替换与模式匹配的部分？

> ID：12740461
> 
> 赞同：0
> 
> 时间：2012-10-05T06:09:33.670
> 
> 标签：c#

我有以下 HTML 标记

```
<p>xxxx</p>
 <pre>xxx</pre>
 <p>xxxx</p>
 <pre>yyy</pre> 
```

我需要能够将其更改为：

```
<p>xxxx</p>
 <pre>ABC xxx ABC</pre>
 <p>xxxx</p>
 <pre>ABC yyy ABC </pre> 
```

我有一个使用建议：

```
 var loDoc = XDocument.Parse(lcHTML);
   foreach (XElement loElement in loDoc.Descendants("pre")) 
```

这确实提取了所有 pre 元素，但它并没有给我一种将事物联系在一起并将代码重新插入原始字符串的方法。

有没有另一种方法可以让我进行所需的代码更改。我正在考虑使用 split 和 split`<pre>..</pre>`但这并不能真正给我我需要的东西，因为我需要替换里面的代码`<pre>...</pre>`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:18:49.137

一种可能是使用[XDocument](http://msdn.microsoft.com/en-us/library/system.xml.linq.xdocument.aspx)，但它必须是有效的 XHTML，并且您需要引入一个根节点：

```
public class Program
{
    static void Main()
    {
        var doc = XDocument.Parse(
            @"<html>
              <p>xxxx</p>
              <pre>xxx</pre>
              <p>xxxx</p>
              <pre>yyy</pre>
            </html>"
        );
        foreach (var pre in doc.Descendants("pre"))
        {
            pre.Value = string.Format("ABC {0} ABC", pre.Value);         
        }
        Console.WriteLine(doc);
    }
} 
```

另一种可能性是使用[Html Agility Pack](http://htmlagilitypack.codeplex.com/)：

```
public class Program
{
    static void Main()
    {
        var doc = new HtmlDocument();
        doc.LoadHtml(
            @"<p>xxxx</p>
              <pre>xxx</pre>
              <p>xxxx</p>
              <pre>yyy</pre>"
        );
        foreach (var pre in doc.DocumentNode.Descendants("pre"))
        {
            pre.InnerHtml = string.Format("ABC {0} ABC", pre.InnerHtml);         
        }
        Console.WriteLine(doc.DocumentNode.OuterHtml);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T06:18:54.973

从此链接获取 XML Doc 元素[How to read HTML as XML?](https://stackoverflow.com/questions/5472162/how-to-read-html-as-xml)

使用 doc 元素，尝试

```
XmlElement root = doc.DocumentElement; 

XmlNodeList nodes = root.SelectNodes("pre"); 

foreach (XmlNode node in nodes) {
   node.value = "ABC" + node.value + "ABC";
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T06:24:05.730

How about using Strings instead of xml?

```
String xmlString = ... \\ get string representation from somewhere
xmlString = xmlString.Replace( "<pre>", "<pre>ABC " ); 
xmlString = xmlString.Replace( "</pre>", " ABC </pre>" ); 
```

# c - 为什么我的 C 函数中会出现段错误，它会反转字符串中的单词顺序？

> ID：12740462
> 
> 赞同：-3
> 
> 时间：2012-10-05T06:09:36.210
> 
> 标签：c

这是我的函数，应该将诸如“今天是美好的一天”之类的字符串翻转为“美好的一天是今天”我的 nextword 函数（在 Flipstring 函数内）返回字符串中每个单词开头的索引，并且在单词后放置“\0”。当我使用该功能时出现错误，分段错误（核心转储），我不知道为什么。

```
void flip(char *str)
{
  // reverse the order of the words                                                                
  char buf[256];
  int i[2],k,j=0,c=0;

  //set k to the index of the first word in str 
  k = nextword(str);

  //Create an array (i) of the index of the beginning of every word
  //nextword also places a '\0' after every word in str
  while ( k != -1)
    {

      i[j] = k;
      j++;
      k = nextword(NULL);
    }

  //place each word in buf in reverse order
  //replace the eos with a space  
  for ( j=j-1 ; j >= 0 ; j--)    //starts with index of last word in string str
    {
     buf[c]=str[i[j]];
           while(buf[c]!='\0')
             {
           c++;
           buf[c]=str[i[j]+c];
          }

       buf[c] = ' ';  //replaces '\0' after every word with a space
       c=c+1;
    } 
  buf[c] = '\0';  //Places eos at the end of the string in buf
   printf("%s\n",buf[0]);

} 
```

称它为，

```
void main(void)
{
  char str[] = "Today is a beautiful day!\t\n";
  flip(str);
  //printf("%s",str);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T06:15:17.363

在`printf("%s\n",buf[0]);`您将字符传递给 printf 而不是将导致分段错误的字符串时。改为使用`printf("%s\n", buf);`。

此外，您没有正确复制单词，在`buf[c]=str[i[j]+c];`c 中不是从当前单词开头的偏移量，而是从 buf 的开头，您应该使用另一个计数器作为偏移量。

```
l = 0;
while(buf[c]!='\0'){
   c++;
   l++;
   buf[c]=str[i[j]+l];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T06:18:42.313

检查此说明：

```
buf[c]=str[i[j]+c]; 
```

c 是一个计数器，在函数开始时初始化为 0，您正在混合使用此计数器来设置 buf 的位置和设置 str 的位置。该指令很奇怪，它可能会导致您的分段错误。

尝试使用 2 个不同的计数器，1 个用于 buf，1 个用于 str。

# c - 用左右一个填充位表示

> ID：12740466
> 
> 赞同：1
> 
> 时间：2012-10-05T06:10:06.163
> 
> 标签：c, padding, bit

我试过用谷歌搜索并阅读维基百科，但没有人提到是否有命令用左/右的位序列填充位序列。例如，01000 将变为 010001111。我可以使用位掩码来做到这一点，但我的技术相当慢。那么在 C 中执行此操作的标准方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:16:57.747

要将值向右填充 1 位（最低有效位），您可以计算`i`：`n`

```
(i + 1 << n) - 1 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T06:34:53.023

对于两者，我将使用`x`原始数字和`n`要填充的位数。

右（最不重要）填充：

我相信您可以逃脱的最少操作是：

```
(x + 1 << n) - 1 
```

我是怎么到那里的？从转换`x`( `x << n`) 开始。现在它在我们想要的地方，但用`0`s 填充。我们可以得到正确数量的`1`s `(1 << n) - 1`。现在，通常我们会按位或将它们放在一起。但是，由于`1`其中一个中的所有 s 都与另一个中的 a`0`对齐，我们也可以添加它们，让我们简化一下`(x << n) + (1 << n) - 1 = (x + 1 << n) - 1`：请记住`+`/`-`发生在`<<`/`>>`操作之前。

左（最重要的填充）：

```
x | -1 << BIT_WIDTH - n 
```

首先，我们使用，`-1`因为它都是一。我假设这是签名的；如果不是，请使用`MAX_INT`或 的类型的相对常量`x`。然后，只需将所有的`1`s 移动到`BIT_WIDTH - n`插槽上，这样我们就可以将 n `1`s 放在正确的位置。在这里，我们应该按位或与`x`，因为`x`可能有`1`s 在应该被填充的位置。另外，因为即使我们使用加法也无法简化它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T06:54:36.113

```
#include <limits.h>
#include <assert.h>
#include <stdio.h>

unsigned pad(unsigned pattern, unsigned patternLen,
             unsigned leftBit, unsigned leftBitCnt,
             unsigned rightBit, unsigned rightBitCnt)
{
  unsigned r;
  assert(leftBitCnt < sizeof(unsigned) * CHAR_BIT);
  assert(rightBitCnt < sizeof(unsigned) * CHAR_BIT);
  assert(patternLen < sizeof(unsigned) * CHAR_BIT);
  assert(leftBitCnt + patternLen + rightBitCnt <= sizeof(unsigned) * CHAR_BIT);

  r = (leftBit << leftBitCnt) - leftBit;
  r <<= patternLen;
  r |= pattern;
  r <<= rightBitCnt;
  r |= (rightBit << rightBitCnt) - rightBit;

  return r;
}

void printBin(unsigned x)
{
  unsigned i;
  for (i = 0; i < sizeof(unsigned) * CHAR_BIT; i++)
    printf("%u", (x >> (sizeof(unsigned) * CHAR_BIT - 1 - i)) & 1);
  printf("\n");
}

int main(void)
{
  printBin(pad(0x0F0, 12, 0, 2, 0, 2));
  printBin(pad(0x0F0, 12, 0, 2, 1, 2));
  printBin(pad(0x0F0, 12, 1, 2, 0, 2));
  printBin(pad(0x0F0, 12, 1, 2, 1, 2));
  return 0;
} 
```

输出（[ideone](http://ideone.com/ocvhz)）：

```
00000000000000000000001111000000
00000000000000000000001111000011
00000000000000001100001111000000
00000000000000001100001111000011 
```

# mysql - MySQL 获取最小值/最大值以及按小时、日、月等分组的相应日期/时间字段

> ID：12740471
> 
> 赞同：2
> 
> 时间：2012-10-05T06:10:22.780
> 
> 标签：mysql, group-by, sql-order-by, max, min

我试图在这里和其他论坛中找到上述问题的答案。

给定一个表值表

*   ID：一些值：date_time
*   1:50:2012-10-05 13:00:00
*   2 : 45 : 2012-10-05 13:15:00
*   3 : 35 : 2012-10-05 13:20:00
*   4 : 20 : 2012-10-05 15:00:00
*   5 : 45 : 2012-10-05 15:25:00
*   6 : 35 : 2012-10-05 15:35:00

等等，你如何找到最小值和最大值以及按小时、日、月等分组的相应日期和时间。

这里的问题是 SQL 组中的 GROUP 仅小时和 IN MYSQL 将返回出现在集合或表中的第一个日期时间。我了解其他 RDBMS 中的实现有所不同。因此，我使用 ORDER BY 对表进行第一次排序，这样当我们运行查询时，值按照最小和最大查询按升序和降序排序，这样当我们每小时选择最小值和最大值时，第一个日期-查询选择的时间是与最小值或最大值相关的时间。

下面给出了每小时提取最小值和最大值的查询，

```
SELECT 
        * 
FROM(
    SELECT 
        HOUR(DATE_TIME) AS MINHOUR, 
        MIN(SOMEVALUES) AS  MINVALUES, 
        DATE_TIME AS MINDATETIME FROM (SELECT * FROM VALUETABLE
    WHERE DATE_TIME>'2012-10-05 00:00:00' 
    AND DATE_TIME<'2012-10-05 23:59:59' 
    ORDER BY SOMEVALUES
    ) AS TEMPT1 
    GROUP BY HOUR(DATE_TIME)
    ) AS    MINVALTABLE 
LEFT JOIN (
    SELECT 
        HOUR(DATE_TIME) AS MAXHOUR,
        MAX(SOMEVALUES) AS MAXVALUES, 
        DATE_TIME AS MAXDATETIME FROM 
        (
            SELECT 
                *
            FROM VALUETABLE 
            WHERE DATE_TIME>'2012-10-05 00:00:00' 
            AND DATE_TIME<'2012-10-05 23:59:59' 
            ORDER BY SOMEVALUES DESC
        ) AS TEMPT2
GROUP BY HOUR(DATE_TIME)) AS MAXVALTABLE 
ON  MINVALTABLE.MINHOUR=MAXVALTABLE.MAXHOUR; 
```

查询应该像这里一样输出，

*   分钟 | 最小值 | 时间 | 最大小时 | 最大值 | 最大日期时间
*   13 | 35 | 2012-10-05 13:20:00 | 13 | 50 | 2012-10-05 13:00:00
*   15 | 20 | 2012-10-05 15:00:00 | 15 | 45 | 2012-10-05 15:25:00

请让我知道我是否错过了任何事情，或者是否有更好的方法来做到这一点。

据我了解，查询同样可以用于按天、月等进行分组。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T06:22:06.437

尝试此查询以获得最大

```
SELECT
    t.id,
    DATE_FORMAT(lt.datetime, '%H') as Hour,
    DATE_FORMAT(lt.datetime, '%d') as Day,
    DATE_FORMAT(lt.datetime, '%m') as Month
FROM table as t
LEFT JOIN (SELECT MAX(id),datetime FROM table)  as lt ON lt.id = t.id
GROUP BY Month , Day , Hour 
```

如果这不是您想要的，请明确您的问题

# php - 如何将数组值转换为类属性

> ID：12740474
> 
> 赞同：1
> 
> 时间：2012-10-05T06:10:36.330
> 
> 标签：php, arrays, class, properties

```
class A {
    $props = array('prop1', 'prop2', 'prop3');
} 
```

如何将上面定义的数组转换为类属性？最终结果将是..

```
class A {
    $props = array('prop1', 'prop2', 'prop3');
    public $prop1;
    public $prop2;
    public $prop3;
} 
```

到目前为止我已经尝试过了：

```
public function convert(){
        foreach ($this->props as $prop) {
            $this->prop;
        }
    } 
```

看起来有点难看，因为我是 php 新手

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T06:19:22.053

您可以使用[php 魔术方法](http://php.net/manual/en/language.oop5.magic.php) `__get`，`__set`就像这样（在实施之前研究它们何时以及如何被调用）：

```
class A {
    protected $props = array('prop1', 'prop2', 'prop3');

    // Although I'd rather use something like this:
    protected GetProps()
    {
        return array('prop1', 'prop2', 'prop3');
    }
    // So you could make class B, which would return array('prop4') + parent::GetProps()

    // Array containing actual values
    protected $_values = array();

    public function __get($key)
    {
        if( !in_array( $key, GetProps()){
            throw new Exception("Unknown property: $key");
        }

        if( isset( $this->_values[$key])){
            return $this->_values[$key];
        }

        return null;
    }

    public function __set( $key, $val)
    {
        if( !in_array( $key, GetProps()){
            throw new Exception("Unknown property: $key");
        }
        $this->_values[$key] = $val;
    }
} 
```

您可以将其用作普通属性：

```
$instance = new A();
$a->prop1 = 'one';
$tmp = $a->undef; // will throw an exception 
```

如果你能实现也很好：

*   `public function __isset($key){}`
*   `public function __unset($key){}`

所以你会有一致和完整的课程。

# android - 如何在 android 中将 WebView 滚动到顶部？

> ID：12740477
> 
> 赞同：12
> 
> 时间：2012-10-05T06:10:42.607
> 
> 标签：android, webview, scroll

我正在开发应用程序中的 webView，其中 webview 加载的内容在按下按钮时会发生变化（两个按钮 next 和 previous ，它们只是更改 webview 中的内容）。

如果我向下滚动到 webview 中的某个点并按下一个或上一个按钮，它会从同一点开始。我只希望每次将新数据加载到 webview 时，它都会从顶部显示内容。我用过：

```
webView.scrollTo(0, 0); 
```

但不工作。它怎么能工作？请帮助任何人？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-09-19T16:00:50.577

您可以使用 webviewclient 并将 onPageFinished 设置为滚动到顶部： [如何侦听 WebView 完成加载 URL？](https://stackoverflow.com/questions/3149216/how-to-listen-for-a-webview-finishing-loading-a-url-in-android)

```
mWebView.setWebViewClient(new WebViewClient() {
  public void onPageFinished(WebView view, String url) {
    view.scrollTo(0,0);
  }
}); 
```

这样，滚动时将加载内容。它可能会感觉有点迟钝，但它应该每次都有效。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-10-05T07:45:30.747

也许延迟它会起作用？因为内容通常不会立即加载

```
new Handler().postDelayed(new Runnable() {

            @Override
            public void run() {
                webView.scrollTo(0,0);

            }
        }, 500); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-10-05T06:26:55.570

使用线程并延迟 scrollTo 使其工作

# c# - 从 Azure 连接到 Redis 引发间歇性异常

> ID：12740479
> 
> 赞同：4
> 
> 时间：2012-10-05T06:10:50.033
> 
> 标签：c#, azure, redis, booksleeve

我有一个运行我的 C# 应用程序的 Windows Azure 服务器。它分布在 4 个中型实例上，我使用 Redis 进行 L2 缓存。该应用程序正在处理相当可观的流量（每天大约 300,000 次浏览量）。我正在使用 BookSleeve 进行 redis 连接，在应用程序启动并运行后，它将开始从 BookSleeve 抛出 SocketExceptions 大约每分钟四次。确切的例外是：

```
Exception type: System.Net.Sockets.SocketException
Exception message: A connection attempt failed because the connected party did not     properly respond after a period of time, or established connection failed because connected host has failed to respond 
```

它似乎只在我从服务器读取内容时发生：

```
using (var connection = ConnectionGateway.GetReadConnection())
{
    var task = connection.Hashes.GetString(App.RedisDatabase, CacheKeys.My_KEY);
    var result = connection.Wait(task);
} 
```

我的 GetReadConnection 设置如下：

```
 public static RedisConnection GetReadConnection()
    {
        RedisConnection conn = getNewConnection();

        try
        {
            var openAsync = conn.Open();
            conn.Wait(openAsync);

            return conn;
        }
        catch (SocketException ex)
        {
            throw new Exception(RedisConnectionFailed, ex);
        }
    } 
```

现在，我所有的写入都像作者描述的那样共享一个连接，所以这只发生在需要使用 connection.Wait() 的读取上。这一切似乎都很好。写入使用类似于[使用 BookSleeve 维护打开的 Redis 连接的代码](https://stackoverflow.com/questions/8645953/maintaining-an-open-redis-connection-using-booksleeve)

我尝试更改 Redis 服务器的超时以说明 Azure 负载均衡器，但没有成功。我已经尝试过设置超时 30 和设置超时 0，如下所述：[Redis connection errors when using Booksleeve Redis client in Azure VM](https://stackoverflow.com/questions/11000187/redis-connection-errors-when-using-booksleeve-redis-client-in-azure-vm)

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-06T06:26:25.773

看一眼代码，发生的第一件事是您似乎在为每个读取操作创建一个连接。这不是必需的，并且可能会对 .net 和 redis 产生不利影响：BookSleeve 是一个*多路复用器*- 它*旨在*通过单个连接同时处理大量请求。当您调用 Wait 时，只有等待线程阻塞 - BookSleeve 的内部将继续处理其他线程等。

此外，创建连接的开销也很大：除了建立新的 TCP 连接的成本之外，BookSleeve 还需要与 redis 服务器对话以找到正确操作所需的一些关键配置信息，因此始终推荐重用单个共享连接或少量共享连接。

# amazon-dynamodb - 如何检索具有哈希键的所有条目作为发电机数据库中的特定模式？

> ID：12740482
> 
> 赞同：5
> 
> 时间：2012-10-05T06:11:02.827
> 
> 标签：amazon-dynamodb, data-retrieval

我是亚马逊网络服务的新手。我想检索 dynamo DB 表中在其哈希键中有特定单词的所有条目。它类似于在 oracle DB 中使用 like 运算符。我该怎么做？如果不可能，我如何检索表中的所有条目而不对哈希键提供任何约束，以便稍后我可以遍历所有条目以匹配单词？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-10-05T13:45:17.167

### DynamoDB 的一般想法：

请不要像对待 MySQL 那样考虑 DynamoDB。DynamoDB*只是*一个键值存储，有几个细节。

key:value 存储的基本原理是：

> 要么你知道关键，得到你的价值；
> 
> 要么你不这样做，你就会得到整张桌子。

在 DynamoDB 特定情况下，您可以

1.  检索一个知道整个密钥的项目**`GetItem`**
2.  检索给定下**`hash_key`**的所有项目，可能应用过滤器，使用**`Query`**
3.  检索整个表，可能应用过滤器，使用**`Scan`**

这说`Scan`起来既*慢*又*贵*。你永远不应该使用它，否则你的设计很可能是错误的。

### 具体到您的问题：

就您而言，听起来您希望将密钥拆分为

*   `hash_key`
*   `range_key`

然后您可以使用`Query`获取所有项目共享`hash_key`。使用`Query`，您可以应用过滤器`BEGINS_WITH`来缩小范围。

请注意，所有 ( `hash_key`, `range_key`) 元组都必须是唯一的。

# sql - 访问 db 和 sql server 2008 express 我如何链接它们

> ID：12740484
> 
> 赞同：-1
> 
> 时间：2012-10-05T06:11:06.430
> 
> 标签：sql, sql-server, sql-server-2008, ms-access, ms-access-2007

有人可以连接吗

`microsoft access database` 到 `sql server 2008 express`

我想在 ms 服务器中查看 access 数据库的表，我还想进行如下查询

`CREATE UPDATE JOINS`

但我失败了怎么做，有什么想法吗？或者我可以阅读的书我一直在网上浏览，但我没有得到一个直截了当的答案......我想做 `queries and view tables from the sql server`

多谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-06T18:58:14.260

只需创建一个 Access 数据库 accDB，我建议您避免使用数据项目 (ADP)。

然后，您只需链接到服务器数据库中的现有表。

至于想要从 Access 内部执行任何服务器端命令？

只需在 Access 中创建一个传递查询。

然后，您可以根据需要调整此窗口的大小，并且可以在该窗口中输入任何 SQL 服务器命令。

事实上，您可以输入多个命令并一次运行它们。

因此，例如，这 3 个 SQL 语句在 Access 中作为传递运行 + 工作正常。

![在此处输入图像描述](../Images/9313e0243a5134a4a2bcc858efbd1aea.png)

因此，在上面，您不仅可以看到我们正在执行服务器端命令，而且如前所述，您可以根据需要输入多个命令甚至脚本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:11:47.353

Access 版本：2007
SQL Server 版本：2008

Microsoft Access 不能保证向上兼容，因此这是意料之中的。
Access 2003/SQL Server 2005 也是如此。

有关解决方法，请参阅[此 KB](http://support.microsoft.com/kb/917418) - 其中主要是通过 Access VBA 执行 DML。

# sql - SQL 查询中“AND”和“OR”的使用

> ID：12740485
> 
> 赞同：-1
> 
> 时间：2012-10-05T06:11:10.017
> 
> 标签：sql, oracle

我有以下表格

*   学生（sid，姓名，年龄）
*   课程（cid，cname，持续时间）
*   注册（sid，cid，日期）

**查找学过java或**rdbms的同学的sids

```
select sid 
from enroll e, 
     course c 
where (c.cname like 'java' and c.cid=e.cid) 
   or (c.cname like 'rdbms' and c.cid=e.cid); 
```

或者：

```
select sid 
from enroll e, 
     course c 
where cname like 'java' and c.cid=e.cid
union 
select sid 
from enroll e, 
     course c 
where cname like 'rdbms' and c.cid=e.cid; 
```

第二种选择：

```
select sid 
from enroll 
where cid in (select cid 
              from course 
              where cname like 'java' 
                 or cname like 'rdbms'); 
```

以上所有问题都让我得到了预期的结果。

**为了找到学过 java和**rdbms的学生的 sids ，我只是修改了所有 3，但下面的第 1 和第 3 个查询不起作用。

```
select sid 
from enroll e, 
     course c 
where (c.cname like 'java' and c.cid=e.cid) 
  and (c.cname like 'rdbms' and c.cid=e.cid); 
```

选择：

```
select sid 
from enroll e, 
     course c 
where cname like 'java' and c.cid=e.cid
intersect 
select sid 
from enroll e, 
     course c 
where cname like 'rdbms' and c.cid=e.cid; 
```

第二种选择：

```
select sid 
from enroll 
where cid in (select cid 
              from course 
              where cname like 'java' and cname like 'rdbms'); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:31:47.113

编写 OR 查询的一种方法是：

```
SELECT DISTINCT sid
  FROM enroll e JOIN course c ON c.cid = e.cid
 WHERE c.cname IN ('java', 'rdbms'); 
```

编写 AND 查询的一种方法是：

```
SELECT DISTINCT sid
  FROM enroll e JOIN course c ON c.cid = e.cid
 WHERE c.cname IN ('java', 'rdbms')
 GROUP BY sid
HAVING COUNT(*) = 2; 
```

这要求在所选学生的注册表中显示两行，每门课程一个（假设一个学生不能为一门课程注册两次）。如果可以，那么您需要类似`COUNT(DISTINCT cid) = 2`HAVING 子句中的内容。

* * *

分析您的非工作查询：

```
select sid 
from enroll e, 
     course c 
where (c.cname like 'java' and c.cid=e.cid) 
  and (c.cname like 'rdbms' and c.cid=e.cid); 
```

这可以写得更清楚，也许是：

```
SELECT sid 
  FROM enroll e JOIN course c ON c.cid = e.cid
 WHERE (c.cname = 'java' AND c.cname = 'rdbms'); 
```

现在，如果课程名称是“java”，它显然不是“rdbms”，反之亦然，因此没有任何一行可以满足条件。您必须分析具有​​相同 sid 的两行。因此，此查询不够复杂，无法回答问题。

第二种选择：

```
select sid 
from enroll 
where cid in (select cid 
              from course 
              where cname like 'java' and cname like 'rdbms'); 
```

这遇到了同样的问题；Course 表中不能存在 cname 同时为“java”和“rdbms”的单行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T12:06:41.957

尝试这个

```
select sid 
from enroll e
where exists(select 0
              from course c
              where c.cname like 'java'
                and c.cid = e.cid)
  and exists(select 0
              from course c
              where c.cname like 'rdbms'
                and c.cid = e.cid) 
```

祝你好运

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T13:23:35.643

第一个和第三个不起作用的原因是他们声明 cname 应该同时是“java”和“rdbms”！第三个查询可以这样重写：

```
select distinct sid 
  from enroll 
  where cid in (select cid 
                  from course 
                where cname like 'java' or cname like 'rdbms'); 
```

这应该为您提供参加过 java 或 rdbms 课程的学生的所有记录。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T06:19:36.220

我建议您提供比“不工作”更多的信息。你应该描述你的期望和你得到的。

话虽如此，我可以建议一个查询来替换第一个查询，它可以让您获得同时使用 java 和 rdbms 的 sid：

```
select distinct sid 
from enroll e, course c 
where c.cid=e.cid
and c.cname in ('java','rdbms'); 
```

有许多不同的方法可以做到这一点，根据您的最终要求，可能会有更好的方法。毫无疑问，有人会提出一种“更好”的方法，但这实际上取决于最终要求。

您的最后一个查询不起作用，因为它的这一部分：

```
select cid from course where cname like 'java' and cname like 'rdbms' 
```

是说*给我一个课程记录，其中课程名称是 java，课程名称是 rdbms*

当然，这样的记录永远不会存在。这就像说给我介绍一个叫 Fred 和 Bob 的人。

同样取决于 RDBMS，使用不带通配符的 like 也不会得到任何结果。

# c# - 想要从字符串中删除双引号

> ID：12740486
> 
> 赞同：16
> 
> 时间：2012-10-05T06:11:20.453
> 
> 标签：c#, string, c#-4.0, replace, c#-3.0

我在这里看到了一些与删除双引号有关的问题。但这并没有解决我的问题。他们告诉使用替换或修剪功能。我用过，但问题仍然存在。

我的代码：

```
DataTable dt = TypeConveriontHelper.ConvretExcelToDataTable(SourceAppFilePath);
        string targetPath = BatchFolderPath + @"\" + "TRANSACT.INX";
        StreamWriter wrtr = null;
        wrtr = new StreamWriter(targetPath);
        for (int x = 0; x < dt.Rows.Count; x++)
        {
            string rowString = "";
            for (int y = 0; y < dt.Columns.Count; y++)
            {
                if (y == dt.Columns.Count - 1)
                {
                    rowString += "\"" + dt.Rows[x][y].ToString() + "\"";
                }
                else
                {
                    rowString += "\"" + dt.Rows[x][y].ToString() + "\"~";
                }
            }           
            rowString.Replace('"', ' ').Trim();
            wrtr.WriteLine(rowString);
        }
        wrtr.Close();
        wrtr.Dispose(); 
```

我尝试`rowString.Replace('"', ' ').Trim();`在上面的代码中使用。但是双引号按原样存在。给我一个解决方案。谢谢。

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2012-10-05T06:12:12.567

您需要将其分配回`rowString`：

```
rowString = rowString.Replace('"', ' ').Trim(); 
```

**[字符串](http://msdn.microsoft.com/en-us/library/362314fe.aspx)是[不可变](http://en.wikipedia.org/wiki/Immutable_object)的。**

`row.String.Replace(...)`将返回一个字符串，因为您没有为它分配任何它会被丢弃的东西。它不会改变原始`rowString`对象。

您可以使用`String.Empty`或`""`用空字符串替换双引号，而不是单个空格`' '`。所以你的陈述应该是：

```
rowString = rowString.Replace("\"", string.Empty).Trim(); 
```

*（记住将**双引号作为字符串** `"\""`传递，因为使用 string.Empty 的方法重载将要求两个参数都是字符串类型）。*

`Trim()`如果您试图删除`string.Replace`在字符串开头或结尾添加的空格，您可能会在末尾删除。

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2013-12-05T16:32:20.983

Trim 可以删除任何字符，而不仅仅是空格。

```
myString = myString.Trim('"'); 
```

[http://msdn.microsoft.com/en-us/library/d4tt83f9%28v=vs.110%29.aspx](http://msdn.microsoft.com/en-us/library/d4tt83f9%28v=vs.110%29.aspx)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-10-13T23:33:11.473

你的问题是一个常见的错误。这是您需要做的：

```
rowString = rowString.Replace('"', ' ').Trim(); 
```

**确保将结果返回到变量**( `rowString =`)。如果您不这样做，C# 仍将运行这些方法，但不会修改变量。*[任何不可变对象](https://en.wikipedia.org/wiki/Immutable_object)*都是这种情况。

例子：

```
rowString.Replace('"', ' ').Trim(); 
```

不会**修改**实际`rowString`对象。

```
rowString = rowString.Replace('"', ' ').Trim(); 
```

`rowString`用右边代码的结果替换旧值。

我写了这个答案，然后才意识到 Habib 解释了上面完全相同的事情。:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T06:15:13.430

此行包含错误。

```
rowString.Replace('"', ' ').Trim(); 
```

由于替换和修剪都返回一个字符串，因此您需要将其分配给一个变量。通过不分配字符串，您将丢失由 replace 和 trim 方法生成的值。

```
var myString = rowString.Replace('"', ' ').Trim(); 
//Or
rowString = rowString.Replace('"', ' ').Trim(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-05T06:15:26.413

在 VB 中你必须试试这个：

```
Replace("""", ""); 
```

但是在 C# 中你必须试试这个：

```
Replace("\"", ""); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-05T06:18:17.483

`rowString.Replace('"', ' ')`创建一个新的字符串对象并且不修改现有的字符串对象。因此您必须将新创建的字符串对象分配给不同的变量或覆盖现有的变量。

```
rowString=rowString.Replace('"', ' ').Trim()    
or
var somestring=rowString.Replace('"', ' ').Trim() 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-08T09:21:30.387

正如 Habib 提到的，字符串是不可变的。任何字符串操作都需要使用替换、反向等操作数据进行设置。

因此，请尝试分配替换的字符串以实现您想要的行为。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-11-14T16:37:52.127

您可以使用`Trim()`同时删除空格、单引号和双引号的任意组合：

```
rowString.Trim('"', '\'', ' ') 
```

# c# - ServiceStack IReturn 和元数据

> ID：12740488
> 
> 赞同：2
> 
> 时间：2012-10-05T06:11:30.413
> 
> 标签：c#, .net, rest, servicestack

有趣的是，在实现和不实现 IReturn 的情况下看到元显示的不同。实现 IReturn 后，我想知道如何构建 DTO 来修剪元数据输出？

![在此处输入图像描述](../Images/29973ce58862592ba761d94eb6bde038.png)

代码

```
namespace Backbone.Todos {
//Without IReturn --------------------------
[Route("/todos","POST")] //add
[Route("/todos/{id}","POST")] //edit
public class Todo {
    public long Id { get; set; }
    public string Content { get; set; }
    public int Order { get; set; }
    public bool Done { get; set; }
}
//-----------------------------------------
[Route("/todos","GET")] //list
public class TodoList {
} 
//-----------------------------------------
[Route("/todos/{id}","DELETE")]//delete
public class DeleteTodo {
    public int Id { get; set; }
}
//-----------------------------------------
[Route("/todos/reset")] //reset
public class ResetTodos {
} 
```

……

现在相同，但使用 IReturn<>，元数据看起来很奇怪。注意图中的 List`1 和双待办事项。

```
namespace Backbone.Todos {
//Implementing IReturn---------------------
[Route("/todos","POST")] //add
[Route("/todos/{id}","POST")] //edit
public class Todo : IReturn<Todo> {
    public long Id { get; set; }
    public string Content { get; set; }
    public int Order { get; set; }
    public bool Done { get; set; }
}
//-----------------------------------------
[Route("/todos","GET")] //list
public class TodoList : IReturn<List<Todo>>  {
} 
//-----------------------------------------
[Route("/todos/{id}","DELETE")]//delete
public class DeleteTodo : IReturnVoid {
    public int Id { get; set; }
}
//-----------------------------------------
[Route("/todos/reset")] //reset
public class ResetTodos : IReturnVoid{
}
//-----------------------------------------
...... 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T06:51:53.640

使用新 API 的元数据页面已经在 ServiceStack 的 HEAD 版本中修复。你现在可以 fork 存储库，否则新版本的 ServiceStack 会在周末部署。

# ruby-on-rails-3 - twitter-bootstrap-rails：@iconSpritePath 在生产环境中无法解析

> ID：12740492
> 
> 赞同：2
> 
> 时间：2012-10-05T06:11:39.720
> 
> 标签：ruby-on-rails-3, twitter-bootstrap, asset-pipeline, twitter-bootstrap-rails, pre-compilation

我刚刚将我的 rails 应用程序部署到 Heroku，而我在开发环境中显示良好的所有引导程序图标在 Heroku 上只显示为小方块。当我在本地机器上使用预编译资产以生产模式运行应用程序时，也会发生同样的事情。我正在使用 Rails 3、twitter-bootstrap-rails gem 和 LESS。

在做了一些挖掘之后，我发现了这一点：

bootstrap 的实际 CSS 分布在 twitter-bootstrap-rails 外部库中的一大堆 LESS 文件中。sprites.less 是与图标相关的规则所在的文件。在 [class^="icon-"], [class*=" icon-"] 下有一条规则将 'background-image' 属性设置为 @iconSpritePath。@iconSpritePath 在我的 bootstrap_and_overrides.css.less 文件中定义为asset-path('twitter/bootstrap/glyphicons-halflings.png')。

出于某种我不明白的原因，这在开发环境中运行良好，但是当我预编译我的资产并在生产环境中运行它时，@iconSpritePath 在编译的 CSS 文件中被替换为“无”，因此所有图标的“背景图像”属性为“无”。

有没有其他人遇到过这个问题，有没有人对如何解决它有任何想法？我假设我必须对 LESS 文件进行一些更改...

编辑：我刚刚发现问题实际上不是图标的路径。就是在编译过程中，一个额外的规则被添加到 CSS 文件的开头，上面写着：

```
[class^="icon-"], [class*=" icon-"] {
display: inline;
width: auto;
height: auto;
line-height: inherit;
vertical-align: baseline;
background-image: none;
background-position: 0% 0%;
background-repeat: repeat; 
```

这会覆盖文件中 [class^="icon-"], [class*=" icon-"] 的第二条规则，这是应该使用的规则：

```
[class^="icon-"], [class*=" icon-"] {
display: inline-block;
width: 14px;
height: 14px;
line-height: 14px;
vertical-align: text-top;
background-image: url("/assets/twitter/bootstrap/glyphicons-halflings-f6675c325532ec11a984d58e172b8e2a.png");
background-position: 14px 14px;
background-repeat: no-repeat;
margin-top: 1px; 
```

不知道为什么要添加这个...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T07:16:34.577

修复。导致问题的 CSS：

```
[class^="icon-"], [class*=" icon-"] {
display: inline;
width: auto;
height: auto;
line-height: inherit;
vertical-align: baseline;
background-image: none;
background-position: 0% 0%;
background-repeat: repeat; 
```

是 Fontaweome 的一部分，它默认包含在 twitter-bootstrap-rails 中。问题是 Fontawesome 图标文件没有被预编译，因为它们是不寻常的文件类型。我进入 production.rb 环境文件，并在 config.assets.precompile 列表中添加了“ *.woff”、“.* *eot* ”、“.svg”、“. ttf” 。然后我重新编译了我的资产，图标出现了！繁荣。

# php - Zend 框架和 Backbone.js

> ID：12740493
> 
> 赞同：1
> 
> 时间：2012-10-05T06:11:39.737
> 
> 标签：php, zend-framework, backbone.js, coffeescript

嗨，如果我想在我的 zend 应用程序中创建一个主干应用程序/资产文件夹，我最有可能将它放在哪里？骨干应用程序文件夹包括`Javascript,Stylesheets and Templates`

简而言之，这就是骨干如何与导轨一起使用

```
routes.rb

  resources :entries 
```

用于条目/索引的 Rails 控制器

```
class EntriesController < ApplicationController
    respond_to :json

    def index
        respond_with Entry.all
    end
end 
```

使用这些代码，如果 url 位于 /entries，则可以简单地理解主干集合

```
class Blog.Collections.Entries extends Backbone.Collection
    url: '/entries' 
```

在骨干路由器

```
class Blog.Routers.Entries extends Backbone.Router
  routes:
    '': 'index'
    'entries/:id': 'show'

  initialize: ->
    @collection = new Blog.Collections.Entries()
    @collection.fetch()

  index: ->
    view = new Blog.Views.EntriesIndex(collection: @collection)
    #alert 'hi'
    $('#container').html(view.render().el)
  show: (id) ->
    alert "Entry #{id}" 
```

然后渲染到`Backbone.View`

```
class Blog.Views.EntriesIndex extends Backbone.View

    template: JST['entries/index']

    initialize: ->
        @collection.on('reset',@render,this)
    render: ->

        $(@el).html(@template(entries: @collection))
        this 
```

渲染 assets/templates/entries/index.jst.eco 的模板

```
<h1>Blog</h1>

<ul>
<% for entry in @entries.models: %>
    <li><%= entry.get('name')%></li>
<% end %>
</ul> 
```

最后使用 assets/javascripts/blog.js.coffee 初始化应用程序

```
window.Blog =
  Models: {}
  Collections: {}
  Routers: {}
  Views: {}
  initialize: -> 
    new Blog.Routers.Entries()
    Backbone.history.start()

$(document).ready ->
    Blog.initialize() 
```

上面 Backbone.js 的 MVC 模式很有趣，但是我想用 Zend Framework 来实现，所以我必须改变什么配置才能像我们在 rails 中使用它一样使用它。还有我们如何处理模板来渲染视图？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-13T17:50:03.773

您可以将 Backbone 应用程序放在您的公共文件夹中（所有 CSS 和 Javascript 文件都在其中）。

对于模板，您可以使用您喜欢的模板引擎，我使用下划线来避免包含另一个库。这方面的一个例子是：

```
window.product_v = Backbone.View.extend({
    template: _.template("<article><img src='<%=icon%>'/> <% } %><article>"),

    render: function () {
        var self = this;
        this.model.fetch({
            processData: true,
            success: function (m) {
                var prod = $("<div/>", {
                        'html': self.template(m.toJSON())
                }).appendTo('.content');

            }
        });
    }
});

window.product_m = Backbone.Model.extend({
    urlRoot: '/api/get_product'
}); 
```

在您的模型中，您将在“urlRoot”中定义您的数据源，您可以在其中引用您的 Zend 控制器之一的路径。

# hyperlink - 从链接中获取缩略图和文章描述

> ID：12740498
> 
> 赞同：1
> 
> 时间：2012-10-05T06:12:00.703
> 
> 标签：hyperlink, thumbnails, fetch

我正在开发一个网站，用户可以在该网站上发布来自其他网站的新闻文章链接。我希望缩略图和描述出现在我的网站上。

例如，用户可以在我的网站上发布来自 CNN 的此链接 [http://www.cnn.com/2012/10/04/politics/debate-next/index.html?hpt=hp_c1] 及其缩略图和描述将被发布。

我看到 facebook 使用 'meta property="og:image"' 和 'meta property="og:description"'。我想知道是否有一些脚本可以用来提取这些数据？

谢谢

# unix - 上传，下载文件到和从 Windows 共享驱动器，其中 java App 服务器在 unix 上运行

> ID：12740499
> 
> 赞同：1
> 
> 时间：2012-10-05T06:12:09.733
> 
> 标签：unix, tomcat, file-upload, download, windows-share

在我的应用程序中，我必须上传、下载文件到 Windows 共享驱动器，我的 java App 服务器是 Tomcat 服务器在 Unix 环境中运行。是否有任何 Java API 或任何 Java 开源工具可以完成我的工作？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-07T08:15:56.107

是的，看看[CIFS](http://jcifs.samba.org/)

但是最好的方法是将 windows 共享驱动器挂载到 Unix

像[这里描述的东西](http://www.cyberciti.biz/tips/how-to-mount-remote-windows-partition-windows-share-under-linux.html)

我会那样做。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-07T10:58:29.460

你没有提到到目前为止你已经尝试过什么。只是为了帮助：

选项 1：使用 SAMBA 在本地目录上挂载共享文件夹“\shared\”。您将“\shared\”挂载到“/mnt/myshared/”，然后从您的java应用程序上传或下载路径“/mnt/myshared/myfiles”中的文件。（您需要编写命令通过ascript或手动然后运行您的 java 应用程序并访问本机目录等目录。）

选项 2：使用 jCIFS。[jCIFS 库](http://jcifs.samba.org/)可用于访问 Windows 共享目录。如果您更喜欢纯 Java 方法，它的 API 类似于 java.io 中的 File 和 FileI/OStream 类。

以上是最优选的通用解决方案。还要确保更新 /etc/hosts 或任何特定的配置文件，以便可以从 unix 访问共享目录和服务器。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-14T06:28:31.827

虽然 jcifs 很好，但您实际上可能会发现，如果您可以在 Linux 机器上通过 samba 在架构上安装 Windows 驱动器，然后使用 Java 中的简单文件 I/O 操作来读取/写入文件系统，它可能会更好。

# android - android中的地理标记

> ID：12740503
> 
> 赞同：8
> 
> 时间：2012-10-05T06:12:43.550
> 
> 标签：android, gps, android-camera, geotagging

如何通过代码知道在android相机设置中地理标记是启用还是禁用？我们正在通过代码将地理标签附加到照片上。我们使用位置管理器，位置监听器来获取纬度和经度，并使用 Exif 接口将此坐标保存到照片中。

```
ExifInterface exif = new ExifInterface(/sdcard/photo/photoname.jpg);
exif.setAttribute(ExifInterface.TAG_GPS_LATITUDE,String.valueOf(latitudeValueInDecimal));
exif.setAttribute(ExifInterface.TAG_GPS_LONGITUDE,String.valueOf(longitudeValueInDecimal));
exif.setAttribute(ExifInterface.TAG_GPS_LATITUDE_REF,"N");
exif.setAttribute(ExifInterface.TAG_GPS_LONGITUDE_REF,"W");
exif.saveAttributes(); 
```

仅当在相机设置中启用地理标记时，我们必须将 gps 坐标（纬度和经度）添加到照片？那么如何在相机设置中检查地理标签（存储位置）的状态？我正在使用 HTC 野火 S 手机？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T06:27:33.147

你不能以编程方式检查这个。您必须阅读所拍照片的标签并手动检查 GPS 坐标，如果标签为空，则禁用地理标记。

您可以使用 ExifInterface 类从 JPEG 图像中读取 EXIF 元数据。这是解释这一点的官方文档链接：

[http://developer.android.com/reference/android/media/ExifInterface.html](http://developer.android.com/reference/android/media/ExifInterface.html)

以下是可用于读取标签的示例代码：

```
Bundle bundle = getIntent().getExtras();

if (null != bundle) {
    String filepath = bundle.getString(FILE_PATH_KEY);

    try {
        ExifInterface exif = new ExifInterface(filepath);
        StringBuilder builder = new StringBuilder();

        builder.append("Date & Time: " + getExifTag(exif, ExifInterface.TAG_DATETIME) + "\n\n");
        builder.append("Flash: " + getExifTag(exif, ExifInterface.TAG_FLASH) + "\n");
        builder.append("Focal Length: " + getExifTag(exif, ExifInterface.TAG_FOCAL_LENGTH) + "\n\n");
        builder.append("GPS Datestamp: " + getExifTag(exif, ExifInterface.TAG_FLASH) + "\n");
        builder.append("GPS Latitude: " + getExifTag(exif, ExifInterface.TAG_GPS_LATITUDE) + "\n");
        builder.append("GPS Latitude Ref: " + getExifTag(exif, ExifInterface.TAG_GPS_LATITUDE_REF) + "\n");
        builder.append("GPS Longitude: " + getExifTag(exif, ExifInterface.TAG_GPS_LONGITUDE) + "\n");
        builder.append("GPS Longitude Ref: " + getExifTag(exif, ExifInterface.TAG_GPS_LONGITUDE_REF) + "\n");
        builder.append("GPS Processing Method: " + getExifTag(exif, ExifInterface.TAG_GPS_PROCESSING_METHOD) + "\n");
        builder.append("GPS Timestamp: " + getExifTag(exif, ExifInterface.TAG_GPS_TIMESTAMP) + "\n\n");
        builder.append("Image Length: " + getExifTag(exif, ExifInterface.TAG_IMAGE_LENGTH) + "\n");
        builder.append("Image Width: " + getExifTag(exif, ExifInterface.TAG_IMAGE_WIDTH) + "\n\n");
        builder.append("Camera Make: " + getExifTag(exif, ExifInterface.TAG_MAKE) + "\n");
        builder.append("Camera Model: " + getExifTag(exif, ExifInterface.TAG_MODEL) + "\n");
        builder.append("Camera Orientation: " + getExifTag(exif, ExifInterface.TAG_ORIENTATION) + "\n");
        builder.append("Camera White Balance: " + getExifTag(exif, ExifInterface.TAG_WHITE_BALANCE) + "\n");

        builder = null;
    } catch (IOException e) {
        e.printStackTrace();
    }
} 
```

# java - 使用 Java 获取余数

> ID：12740505
> 
> 赞同：3
> 
> 时间：2012-10-05T06:12:47.357
> 
> 标签：java

我可以在除数时得到余数，但如果我要将 306 除以 100。例如 306 / 100 = 3

但是如果我通过 % 运算符找到剩余的，我想取回 06 ，例如

想要的

306 % 100 = 06

实际发生了什么

306 % 100 = 6

有没有办法解决这个问题，以便返回两位而不是一位？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-05T06:14:49.360

你得到一个*号码*回来。6 和 06 是相同的值。An `int`（和类似类型）没有任何前导数字的概念。

如果您想以特定方式*格式化*数字，当您将其转换为字符串时（这是唯一重要的地方），那么只需选择正确的格式化代码即可。你*总是*想要两位数吗？使用“00”格式和[`DecimalFormat`](http://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html).

```
import java.text.*;

class Test {

    public static void main(String args[]) throws Exception {
        NumberFormat format = new DecimalFormat("00");
        int value = 6;
        System.out.println(format.format(value)); // 06
    }
} 
```

（或使用`String.format`，或其他格式。重要的一点是数字 6 只是一个数字；将数字与其在您脑海中的文本表示分开。）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T06:14:52.887

这只是格式化数字的问题。见[这里](http://docs.oracle.com/javase/tutorial/java/data/numberformat.html)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T06:16:38.713

把它分成两部分；首先得到数学上正确的答案`6`，然后以任何你想要的方式呈现它。如果你总是想要两位数，你可以使用：

```
int x = 306 % 100;
System.out.format("%02d", x); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-05T06:17:54.880

实际上对于任何计算机语言，单个数字整数都不需要前导零。你永远不会得到它作为任何语言的输出..

但是，如果您希望它像这样打印，您可以相应地格式化您的值：-

```
System.out.format("%02d", 6); 
```

*   第一个 0 表示你想用 填充你的数字`ZEROs`，第二个值 (2) 表示你想要多少个 0。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-05T06:20:46.220

我这个 6 和 06 是一样的值，但是如果你想得到 6 的值，那么试试这个..

```
NumberFormat df = new DecimalFormat("00");
System.out.println(df.format(6)); 
```

# python - conn=TorCtl.connect(controlAddr="127.0.0.1", controlPort=9051)

> ID：12740507
> 
> 赞同：1
> 
> 时间：2012-10-05T06:13:09.830
> 
> 标签：python, tor

> **可能重复：**
> [Tor 与 Python？](https://stackoverflow.com/questions/1096379/tor-with-python)

```
conn = TorCtl.connect(controlAddr="127.0.0.1", controlPort=9051) 
```

在 Python 控制台上运行此命令时，它没有显示任何错误，但我无法连接 Tor。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:20:32.593

`TorCtl.connect`只会连接到 Tor 进程（使其可以通过 Python 控制），但除此之外它不会做任何事情（比如创建路由）。为此，您需要阅读[howto](https://svn.torproject.org/svn/torctl/trunk/doc/howto.txt)。

# objective-c - 使用 iOS 版 Facebook 登录

> ID：12740509
> 
> 赞同：7
> 
> 时间：2012-10-05T06:13:10.337
> 
> 标签：objective-c, ios, facebook, ios6

我的应用程序已经在 iOS 5 和 iOS 6 上运行。现在，我想实现“使用 Facebook 登录”的功能。

我的应用程序已经有登录身份验证，所以 facebook 登录将是额外的。我知道 iOS 6 为 facebook 提供了新框架，但我有两个问题：

1.  如何实现这个 facebook 功能，以便它可以在 iOS 5 和 iOS 6 设备上运行？2.我如何保持与facebook登录的会话？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-07T18:50:33.627

1) 按照以下步骤获取 facebook 登录说明：[https ://developers.facebook.com/docs/howtos/login-with-facebook-using-ios-sdk/](https://developers.facebook.com/docs/howtos/login-with-facebook-using-ios-sdk/)

2）一旦您使用 facebook sdk 3.x 实现上述内容，这也适用于 iOS 5 和 iOS 6。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-10T05:15:03.737

1.要支持在ios 5 和ios 6 中登录，可以使用FBLoginView 类。这是使用 Facebook sdk 登录 facebook 的最简单方法。

```
 FBLoginView * pFBLoginViewObj = [[FBLoginView alloc] init];
    [pFBLoginViewObj setFrame:self.view.frame];
    pFBLoginViewObj.delegate = self;//optional
    [self.view addSubview:pFBLoginViewObj]; 
```

如果需要，实现委托方法。

2.要维护会话，您必须在应用程序 dalagate 文件中进行更改 ....like

```
-(BOOL) application:(UIApplication *)application openURL:(NSURL *)url sourceApplication:(NSString *)sourceApplication annotation:(id)annotation
{
    if (url != nil)
    {

        return [[FBSession activeSession] handleOpenURL:url];
    }

    return NO;
}
- (void)applicationDidBecomeActive:(UIApplication *)application
{

    [[FBSession activeSession] handleDidBecomeActive];
}
- (void)applicationWillTerminate:(UIApplication *)application
{
    [[FBSession activeSession] close];
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-02-07T11:58:50.710

首先我们必须在我们的项目中添加这个框架，

[![在此处输入图像描述](../Images/7a3b88d85428c92fc9cbc837dbdb5fb8.png)](https://i.stack.imgur.com/7PIEW.png)

之后，您可以在 appDelegate 中导入此方法

```
 #import <FacebookSDK/FacebookSDK.h>
 #import <FBSDKCoreKit/FBSDKCoreKit.h> 
```

之后 didFinishLaunchingWithOptions 我们必须添加这个方法

```
[[FBSDKApplicationDelegate sharedInstance] application:application
                         didFinishLaunchingWithOptions:launchOptions]; 
```

你可以调用回调方法，

```
#pragma mark - Callback methods
- (BOOL)application:(UIApplication *)application openURL:(NSURL *)url sourceApplication:(NSString *)sourceApplication annotation:(id)annotation    {
return [[FBSDKApplicationDelegate sharedInstance] application:application openURL:url sourceApplication:sourceApplication annotation:annotation];
} 
```

之后，我们必须在您的 facebooklogin 操作方法中编写，

```
FBSDKLoginManager *loginManager = [[FBSDKLoginManager alloc] init];
        [loginManager logInWithReadPermissions:@[@"public_profile", @"email"] fromViewController:self handler:^(FBSDKLoginManagerLoginResult *result, NSError *error) {
            //TODO: process error or result.
            if (error) {
                NSLog(@"Process error");
                [self facebookLoginFailed:YES];
            } else if (result.isCancelled) {
                [self facebookLoginFailed:NO];
            } else {
                if ([FBSDKAccessToken currentAccessToken]) {
                    NSLog(@"Token is available : %@",[[FBSDKAccessToken currentAccessToken]tokenString]);
                    NSMutableDictionary* parameters = [NSMutableDictionary dictionary];
                    [parameters setValue:@"id,name,email,first_name,last_name,picture.type(large)" forKey:@"fields"];
                    [[[FBSDKGraphRequest alloc] initWithGraphPath:@"me" parameters:parameters]
                     startWithCompletionHandler:^(FBSDKGraphRequestConnection *connection, id result, NSError *error) {
                         if (!error) {
                             NSString *fbPhotoUrl = [[[result objectForKey:@"picture"]objectForKey:@"data"]objectForKey:@"url"];
                             lDefaults = [NSUserDefaults standardUserDefaults];
                             [lDefaults setObject:@"fbPhotoUrl" forKey:@"fbPhotoUrl"];
                             [lDefaults synchronize];
                             NSLog(@"%@",fbPhotoUrl);
                         }
                     }];
                }
                else {
                    [self facebookLoginFailed:YES];
                }
            }
        }]; 
```

如果 facebook 登录失败，我们可以写这个警报，

```
- (void)facebookLoginFailed:(BOOL)isFBResponce{
if(isFBResponce){
    UIAlertView *alert = [[UIAlertView alloc]initWithTitle:NSLocalizedString(@"pop_attention", nil) message:NSLocalizedString(@"request_error", nil) delegate:self cancelButtonTitle:NSLocalizedString(@"pop_ok", nil) otherButtonTitles: nil];
    [alert show];
}
else{
    UIAlertView *alert = [[UIAlertView alloc]initWithTitle:NSLocalizedString(@"pop_attention", nil) message:NSLocalizedString(@"loginfb_cancelled", nil) delegate:self cancelButtonTitle:NSLocalizedString(@"pop_ok", nil) otherButtonTitles: nil];
    [alert show];
}
} 
```

之后转到目标-->信息-->网址类型-->UrlSchmes（添加您的 facebook id）。

还有更多我们必须在 www.developers.facebook.com 上做的事情去 ypur app-->在 AppReview-->Make YourApp 公开？是。

之后我们需要在 plist 中添加 tis 代码

```
<key>CFBundleURLTypes</key>
<array>
    <dict>
        <key>CFBundleURLSchemes</key>
        <array>
            <string>fb1801381186770425</string>
        </array>
    </dict>
</array>
<key>FacebookAppID</key>
<string>AddYourID</string>
<key>FacebookDisplayName</key>
<string>YourAppName</string>
<key>LSApplicationQueriesSchemes</key>
<array>
    <string>fbapi</string>
    <string>fb-messenger-api</string>
    <string>fbauth2</string>
    <string>fbshareextension</string>
    <string>instagram</string>
</array>
<key>NSLocationWhenInUseUsageDescription</key>
<string>To access your current location</string>
<key>NSPhotoLibraryUsageDescription</key>
<string>To share </string> 
```

在Objective-C中就是这样。

在**Swift**版本中

在 appdelegate 方法中，我们需要导入这个框架

```
import FacebookCore
import FacebookLogin
import FBSDKLoginKit 
```

之后在 didFinishLaunchingWithOptions 中写入

```
FBSDKApplicationDelegate.sharedInstance().application(application, didFinishLaunchingWithOptions: launchOptions) 
```

并调用回调方法

```
func application(_ application: UIApplication, open url: URL, sourceApplication: String?, annotation: Any) -> Bool {
return FBSDKApplicationDelegate.sharedInstance().application(application, open: url as URL!, sourceApplication: sourceApplication, annotation: annotation)
} 
```

之后在您的视图控制器中导入相同的框架，然后在您的 facebook 登录操作中编写这些代码行

```
var dict : [String : AnyObject]!

let fbLoginManager : FBSDKLoginManager = FBSDKLoginManager()
    fbLoginManager.logIn(withReadPermissions: ["email"], from: self) { (result, error) in
        if (error == nil){
            let fbloginresult : FBSDKLoginManagerLoginResult = result!
            if fbloginresult.grantedPermissions != nil {
                if(fbloginresult.grantedPermissions.contains("email")) {
                    self.getFBUserData()
                }
            }
        }
    } 
```

之后我得到用户数据并存储在字典中

```
func getFBUserData(){
    if((FBSDKAccessToken.current()) != nil){
        FBSDKGraphRequest(graphPath: "me", parameters: ["fields": "id, name, first_name, last_name, picture.type(large), email"]).start(completionHandler: { (connection, result, error) -> Void in
            if (error == nil){
                self.dict = result as! [String : AnyObject]
                print(result!)
                print(self.dict)
            }
        })
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T07:00:43.990

[https://developers.facebook.com/features/whats-new-ios-sdk-3.1/](https://developers.facebook.com/features/whats-new-ios-sdk-3.1/)

看看这个适用于 iOS5 和 iOS6 的 Facebook sdk 工作。

# javascript - Em.Controller 在 Ember.js 中的作用是什么

> ID：12740510
> 
> 赞同：4
> 
> 时间：2012-10-05T06:13:14.470
> 
> 标签：javascript, controller, ember.js

我正在自己学习 ember.js。

我想知道 Em.Controller 的确切角色。

当我制作基本的 ember 应用程序时，我唯一使用 Em.Controller 的时间是

```
App.ApplicationController = Em.Controller.extend(); 
```

但我不知道为什么它应该是 Em.Controller 而不是 Em.ArrayController 或 Em.ObjectController。

我知道 ArrayController 或 ObjectController 用于处理模型。

所以我知道在处理模型时我必须使用 ArrayController 或 ObjectController。

但是 Em.Controller 呢？

它只存在于 App 的 ApplicationController 中吗？

并且似乎 Em.ArrayController 和 Em.ObjectController 不是从 Em.Controller 继承的

那么它们之间是什么关系呢？

我很困惑....

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T06:57:19.480

*   `Ember.Controller`是更简单的控制器类。正如您[在 Ember.Controller 源代码](http://goo.gl/7NUqD)中看到的那样，它只是一个具有目标（通常是路由器）、存储和继承的对象`Ember.ControllerMixin`。

*   `Ember.ObjectController`是一个 ObjectProxy，你可以[在 ObjectController 源代码](https://github.com/emberjs/ember.js/blob/83542a629c214f1a9e89dcf8b9388e48ae2ba4e8/packages/ember-runtime/lib/controllers/object_controller.js#L23)中看到：当它的内容被设置时，所有的 getter/setter 都被委托给它的内容。因此 ObjectController 用于操作一项。

*   `Ember.ArrayController`就像 ObjectController 一样：它是一个代理，但对于一个 Array，正如您[在 ArrayController 源代码](https://github.com/emberjs/ember.js/blob/83542a629c214f1a9e89dcf8b9388e48ae2ba4e8/packages/ember-runtime/lib/controllers/array_controller.js#L57)中看到的那样。因此 ArrayController 用于操作项目数组。

*   `Ember.ControllerMixin`只是处理视图的方法很少，正如您[在 Ember.ControllerMixin 源代码中](https://github.com/emberjs/ember.js/blob/83542a629c214f1a9e89dcf8b9388e48ae2ba4e8/packages/ember-views/lib/system/controller.js#L17)`{{outlets}}`再次看到的那样（注意这里的代码重新打开了 ControllerMixin）

你是对的，`Ember.ArrayController`并且`Ember.ObjectController`不是继承自`Ember.Controller`，但它们都扩展了`Ember.ControllerMixin`上述内容。

我建议你阅读[Trek 的 Advice on the Use Of Ember.js 的指导](http://trek.github.com/)，这篇文章不是专门关于控制器的，但你会学到很多东西，并了解它们是如何工作的（例如 outlet）。

# c# - 将 PDF 转换为字节

> ID：12740516
> 
> 赞同：0
> 
> 时间：2012-10-05T06:13:51.170
> 
> 标签：c#, .net, wcf

我有一个 WCF 服务，它将用户上传的文档（PDF 文件）存储到文件服务器。现在，我想将这些 PDF 文件转换为字节，以便 iOS 客户端可以在 iPad 上下载它们。我不想存储 PDF作为 SQL 中的 BLOB，只需转换为字节并将它们发送到 iPad。非常感谢任何实现此目的的链接/示例代码。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-05T06:16:58.343

您可以简单地将 PDF 文件读入字节数组：

```
byte[] bytes = System.IO.File.ReadAllBytes(pathToFile); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T06:24:03.650

你可以这样做：

```
public byte[] ReadPDF(string filePath)
        {
            byte[] buffer;
            FileStream fileStream = new FileStream(filePath, FileMode.Open, FileAccess.Read);
            try
            {
                int length = (int)fileStream.Length;  // get file length
                buffer = new byte[length];            // create buffer
                int count;                            // actual number of bytes read
                int sum = 0;                          // total number of bytes read

                // read until Read method returns 0 (end of the stream has been reached)
                while ((count = fileStream.Read(buffer, sum, length - sum)) > 0)
                    sum += count;  // sum is a buffer offset for next reading
            }
            finally
            {
                fileStream.Close();
            }
            return buffer;
        } 
```

# camera - 从 iOS SDK 中的相机点击后手动裁剪 UIImage

> ID：12740519
> 
> 赞同：0
> 
> 时间：2012-10-05T06:14:05.273
> 
> 标签：camera, uiimage, drag, crop

我想裁剪我通过触摸从相机单击的图像，并想将该复制的图像拖动到其他快照（例如用我的头替换图像中的头部），因为我需要知道如何裁剪图像以便我可以从点击的图像中裁剪我的头部。请给我一些方法来做到这一点。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T10:11:54.260

我用另一种技术解决了这个问题。我没有裁剪图像。

# javascript - 使用chrome调试动态js

> ID：12740521
> 
> 赞同：0
> 
> 时间：2012-10-05T06:14:07.880
> 
> 标签：javascript, google-chrome

在 Web 应用程序中，所有页面都使用 ajax 加载。有些页面有自己的 js 文件，这些文件是在添加新页面后加载的。我想调试添加的动态 js，但在 chrome 的调试器中我找不到那个 js 文件。

如何找到该文件进行调试？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:32:04.530

您只需在代码中添加以下内容 -

```
debugger; 
```

保持脚本控制台打开。当遇到此行时，调试器将在此时等待，直到您进一步操作。

**注意**：您的脚本控制台应该已经打开，因为您无法实际选择要调试的脚本文件。在运行时，chrome 会`program.js`用动态渲染的 js 创建一个动态文件。

# regex - HTML5 模式工作

> ID：12740526
> 
> 赞同：2
> 
> 时间：2012-10-05T06:14:24.317
> 
> 标签：regex, html

我无法完成这个 html5 表单验证。**任何人请建议如何修复它**。请参阅[jsfiddle](http://jsfiddle.net/vusan/nZrbq/2/) 当我在输入框中按任意键时，萤火虫控制台会说`SyntaxError: invalid quantifier`

```
 <form action="#" method="post" class="form-validate" id="bidform">

      <div class="input_wrapper">
         <input placeholder="Enter Zip Code" type="text" pattern="[0-9]{3,5}"
            oninvalid="setCustomValidity('Please enter valid zip')" id="zip" class="validate-numeric" required name="zip">
      </div>

      <div class="submit_row">
         <input class="submit" value="Submit a Bid!" type="submit" name="subbid">
      </div>
    </form> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T06:19:53.800

看起来模式无效。如果您尝试匹配 5 位数字，您只需要“[0-9]{5}”。如果您尝试匹配 3-5 位数字，则应为“[0-9]{3,5}”。

setCustomValidity() 似乎也存在问题。在它被调用后，任何进一步的尝试提交表单总是会导致错误。

[如何更改或删除 HTML5 表单验证默认错误消息？](https://stackoverflow.com/questions/10361460/how-can-i-change-html-5-form-validation-errors-default-messages)建议您可以通过添加来解决此问题`onchange="try{setCustomValidity('')}catch(e){}"`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T06:25:57.523

奇怪的错误，如您所述，我在 Firefox 中看到它，但在 Opera 中运行良好。无论如何，它似乎与你的正则表达式有关，所以稍微改变一下让它在那里也能正常工作。而不是`{3}{5}`用来告诉数字的数量，我只是把它写成`\d\d\d\d?\d?`需要三位数字，最后两位是可选的。

# vim - 在打开文件之间切换时出现 Vim 问题

> ID：12740527
> 
> 赞同：6
> 
> 时间：2012-10-05T06:14:34.410
> 
> 标签：vim, ubuntu

我在 Vim 中打开了多个文件。当我想从一个文件切换到另一个文件时，除非我保存文件或退出，否则 Vim 不允许我切换。有没有办法让我每次想切换时都不必保存？这是 Vim 的问题还是我犯了错误？如果这就是 Vim 的工作方式，谁能告诉我合乎逻辑的原因？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-05T07:24:43.243

只需添加

```
set hidden 
```

到你的`~/.vimrc`. 它可以随时打开多个未保存的文件。

当您使用它时，您还应该添加这一行：

```
set switchbuf=useopen,usetab 
```

它强制 Vim 跳转到*它所*在的已经打开的缓冲区（就在那里，在另一个拆分窗口中，在另一个选项卡中），而不是“隐藏”当前缓冲区以用目标缓冲区替换它。这对于快速修复相关的跳转很有用，但也适用于`:sb`.

这两行代码是高效使用 Vim 缓冲区的关键。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T06:16:42.037

使用`:n!`. 这将移至下一个文件，忽略更改而不保存它们。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T06:39:33.377

你也可以在 vim 中使用制表符；用于`:tabnew file.txt`打开已`file.txt`加载的新选项卡。然后，您可以使用`gt`和`gT`在打开的选项卡中前后导航。我发现这比处理缓冲区更容易，但我是一个相当新的 vim 用户。

# jquery - jquery 中的委托未按预期工作

> ID：12740528
> 
> 赞同：0
> 
> 时间：2012-10-05T06:14:39.057
> 
> 标签：jquery, html, jquery-delegate

我已经使用了两个 div 并使用 jquery 1.7.2 中的委托为其内部元素定义了单击事件。第一次点击事件按预期工作正常，第二次不工作。

```
 $("#first").delegate(".ask div:first","click",function(e){
   alert("hi"); 
 });

 $("#second").delegate(".ask div:first","click",function(e){
   alert("hello");
 });​ 
```

html标记：

```
<div id="first" >
<div class="ask"> 
    <div> hi  </div>
    <div> disabled </div>
</div>

</div>

<div id="second" >
  <div class="ask"> 
     <div> hello </div>
     <div> disabled </div>
</div> 
```

[http://jsfiddle.net/YjK3N/3/](http://jsfiddle.net/YjK3N/3/) ​ 但是在 jquery 低版本中，上面的代码可以正常工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:20:58.050

我已经尝试过了，你是对的，它不起作用。这段代码虽然有效：

```
$("#first").on("click",".ask div:nth-child(1)",function(e){
  alert("hi");
});

$("#second").on("click",".ask div:nth-child(1)",function(e){
  alert("hello");
});​ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T06:26:16.660

Use `:first-child`, it works

```
$("#first").delegate(".ask div:first-child","click",function(e){
  alert("hi");
});

$("#second").delegate(".ask div:first-child","click",function(e){
  alert("hello");
}) ;​ 
```

And it works with `.on`

# drupal - 流播放器问题

> ID：12740534
> 
> 赞同：1
> 
> 时间：2012-10-05T06:14:58.597
> 
> 标签：drupal, drupal-modules, flowplayer

我在我的网站上使用流播放器。我提供了所有可能的字段，但流播放器没有播放任何音频和视频格式。请帮忙。

# bash - 需要递归 BASH 脚本来遍历文件夹并使用通配符

> ID：12740545
> 
> 赞同：0
> 
> 时间：2012-10-05T06:15:33.270
> 
> 标签：bash, recursion, command-line, options

我们一直在捕获文件并将其发送到 REST 服务器，并从工具栏将它们保存为 PNG 扩展名，现在有近 50 万个文件。

最近我们发现它们实际上是保存为 base64 流文件而不是 PNG 格式。

我有一个 python 脚本可以转换它们但不是递归的并且不使用通配符。

ImageMagick 说 base64 文件太大（最大 5K），因此无法转换。

```
 IE;  /bin/base64-to-png.py <base64_file_name>.png <output_name.png> 
```

目录路径 /mnt/s3/pages/ 其中“pages”有数千个编号的文件夹。

```
 IE; /mnt/s3/pages/100 

   "pages" subfolders are never more than 1 folder deep.
   The files are typically 5540_thumb.png, 5540_snapshot.png and 5540_crop.png 
   where the 5540 is the capture number. 
```

我需要一个 BASH 脚本包装器以使其在文件夹中重复，将所有原件复制到备份文件（filename.b64）并将通配符作为正确的路径/名称传递给 python 脚本，转换文件并将输出文件保留在相同的相应文件中文件夹然后使用 mogrify 压缩它们。

```
 IE;  base64-to-png.sh *_snapshot.b64 *_snapshot.png <compression number>

  should

    cp <file_name.png> <file_name>.b64
    /bin/base64-to-png.py <file_name.png> <file_name.png>
    mogrify -quality <compression number> -format png <file_name.png> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T06:49:54.507

试试这个脚本

```
#!/bin/bash
SEARCHPATH=$1
COMNUM=$2
FINDEXT="*.png"

for f in `find $SEARCHPATH -type f -name $FINDEXT` ; do
     #just get files name without extension
     fname=`echo $f | cut -d'.' -f1` 
     #perform operations
     cp $f ${fname}.b64
     /bin/base64-to-png.py $f $f
     mogrify -quality $COMNUM -format png $f

done 
```

你可以称之为

```
$ base64-to-png.sh /somepath/tofind 100

param 1 : path where to find `.png` files 
param 2 : compression number. 
```

这假设`/bin/base64-to-png.py`可以在绝对路径上工作，例如`/somepath/somedir/somefile.png`不仅仅是`somefile.png`

警告：未进行任何质量检查，请自行承担风险！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T18:48:52.417

将文件名从 png 更改为 base64：

```
shopt -s globstar
shopt -s nullglob

对于 *.png **/*.png 中的文件；做
    if (file "${file}" | fgrep "ASCII" >/dev/null 2>&1); 然后
        # 文件名为 '.png' 但为 ASCII，移动它。
        b64name="${file%.*}.b64"
        mv -f "${file}" "${b64name}"

        # 将 $b64name 转换为 $file 的插入命令

        # 我认为这会起作用
        base64 -d "${b64file}" > "${file}" || echo "${b64file} 转换失败"
        mogrify -quality -format png "${file}"
    菲
完毕

```

由于诸如此类的原因`globstar`，我相信这将需要 bash 4.0+。你可以找到你的版本`bash --version`

如果您使用 python 进行 base64 转换至关重要，请随时交换命令。

# ios - 如何在 iPhone 中使用 MKMapkit 在地图上显示大量用户位置

> ID：12740547
> 
> 赞同：0
> 
> 时间：2012-10-05T06:15:42.340
> 
> 标签：ios, web-services, mapkit, mkannotation, mkcoordinateregion

我们正在使用 MKMapkit 创建一个基于地图的 iPhone 应用程序。我们在其中获取当前位置以及可见区域坐标中的缩小和动物园。我们需要在地图上显示 n 个（比如超过 1000 个）用户位置，并且这些坐标来自网络服务。在第一次启动时，它会传递当前位置和可见区域的坐标，并会得到其他用户的坐标列表。我们知道如何显示用户的位置。但问题是，我们应该如何在地图的放大和缩小事件中调用服务？我们是否应该在一次调用中加载所有坐标并显示相应的用户位置？或者我们应该通过传递可见区域的坐标来调用服务，当我们使用委托方法放大或缩小时？哪一种是实现这一点的正确方法？请回复。

# image - 如何在 APEX 表单中制作图像字段？

> ID：12740548
> 
> 赞同：2
> 
> 时间：2012-10-05T06:15:48.533
> 
> 标签：image, oracle11g, oracle-apex

我正在为学校制作 APEX 数据库，其中他们还需要显示学生图像的字段....我想知道如何以 APEX 形式制作图像字段并在该字段中上传该图像。谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T08:20:15.697

[如何在应用程序中上传和下载文件，](http://docs.oracle.com/cd/B31036_01/doc/appdev.22/b28839/up_dn_files.htm)这是[为期 2 天的开发人员指南的](http://docs.oracle.com/cd/B31036_01/doc/appdev.22/b28839/toc.htm)一部分（每个初学者都应该经历的事情。）

显示图像可以通过“显示图像”类型的页面项来完成。可以在那里定义一个 blob 列，它既可以是通过创建的行提取过程提取的数据库列，也可以是通过 sql 语句检索的列。看看这个项目并尝试一下。这真的不太难。有关文档，请参阅[关于表单和报告中的 BLOB 支持（Oracle 顶点文档）](http://docs.oracle.com/cd/E23903_01/doc/doc.41/e21674/advnc_blob.htm) 。您可以通过 google 检索到关于此主题的大量信息。

查看示例数据库应用程序的第 6 页，该应用程序在 apex 应用程序中提供，并基于 DEMO_ 表构建。作为初学者，此应用程序展示了许多技术，并且可以从中学到很多东西。在第 6 页，它展示了如何处理图像，包括上传和显示。如果您的本地工作空间没有此类应用程序，只需访问[apex.oracle.com](http://apex.oracle.com)并请求工作空间。每个工作区都包含演示应用程序。开始时非常宝贵。

# sql - SQL 数据库到 Perl 电子表格

> ID：12740549
> 
> 赞同：0
> 
> 时间：2012-10-05T06:16:00.483
> 
> 标签：sql, perl, spreadsheet

我在 SQL 中创建了一个“事务”表，如下所示：

```
TranID  Date        AccNum   Type    Amount ChequeNo DDNo  
657520  02-07-1999  0181432  Debit   16000  465774     
657524  02-07-1999  0181432  Debit   13000           569086
657538  09-07-1999  0181432  Credit  11000  
657548  18-07-1999  0181432  Credit  15500  
657519  02-07-1999  0181432  Debit   12000  
657523  02-07-1999  0181432  Credit  11000  
657529  03-07-1999  0181433  Debit   15000  466777
657539  10-07-1999  0181433  Credit  10000  
657541  11-07-1999  0181433  Debit   12000  
657525  03-07-1999  0181433  Debit   15000           569999
657533  05-07-1999  0181433  Credit  12500 
```

问题是：从交易表中查询数据，计算每个账户的支票、dd和现金借记的总金额，并将结果存储在电子表格中。我的脚本是这样的：

```
#!/usr/bin/perl
use strict;
use warnings;
use DBI; 
use Spreadsheet::WriteExcel;
my $dbh = DBI->connect('dbi:mysql:database:3306','prithvi','prithvi') or die $dbh->errstr;
my $sth = $dbh->prepare("SELECT `AccNum`,`Type`,`Amount`,`ChequeNo`,`DDNo` FROM `transaction`");
$sth->execute or die $sth->errstr;
my $workbook = Spreadsheet::WriteExcel->new('query_result.xls');
my $worksheet = $workbook->add_worksheet();
my $row = 0;
my $col = 0;
my %h;
$worksheet->write_row($row++,$col,['Account Number','Cheque Debit','DD Debit','Cash Debit']);
while(my @data = $sth->fetchrow_array)
{
 next unless($data[1] eq 'Debit');
 my $result = $data[3] ? "ChequeNo" : $data[4] ? "DDNo" : "Cash";
 $h{$data[0]}{$result} += $data[2];
 $worksheet->write_row($row++,$col,\@data);
}
$sth->finish;
$dbh->disconnect; 
```

我没有得到正确的输出。我哪里错了？请帮忙。提前致谢。我没有得到这个问题的答案，即主要将结果存储在电子表格中。请不要在回答之前关闭它。这是对你们所有人的一个非常善意的要求。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:57:48.307

```
 SELECT
    t1.AccountNumber, 
    SUM(t1.Amount)-(SELECT SUM(t2.Amount) from transaction t2 
     where t2.Type = 'Credit' 
     AND t2.AccountNumber = t1.AccountNumber) AS Subtraction
    from transaction t1
    WHERE t1.Type = 'Debit'
    group by t1.AccountNumber 
```

结果：

```
ACCOUNTNUMBER   SUBTRACTION
016901581432    2500
016901581433    6000
016901581434    14500 
```

**[已编辑 SQLFIDDLE 示例。](http://sqlfiddle.com/#!2/b9c53/14)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T08:12:09.047

您似乎很好地掌握了如何与数据库交互并编写 SQL 查询。现在您只需将结果放入电子表格中。

如果您想要 Excel 电子表格，我建议您查看该[`Spreadsheet::WriteExcel`](http://search.cpan.org/dist/Spreadsheet-WriteExcel/lib/Spreadsheet/WriteExcel.pm#SYNOPSIS)模块。我过去用过这个，效果很好。以下是如何使用它的简要示例：

```
use DBI;
use strict;
use warnings;
use Spreadsheet::WriteExcel;

#
#Query the database here...
#

my $workbook = Spreadsheet::WriteExcel->new('query_results.xls');
my $worksheet = $workbook->add_worksheet();

my $row = 0;
my $col = 0;

#Write the column labels.
$worksheet->write_row($row++, $col, 
    ['Account Number','Type','Total Debit Amount']
);

while( my @data = $tran_cur->fetchrow_array)
{
    #Write an array into a row in the spreadsheet.
    $worksheet->write_row($row++, $col, \@data);
} 
```

如果您不想要 Excel 电子表格，请尝试在[CPAN](http://www.cpan.org/)中搜索所需格式的模块，或使用类似 [`Text::CSV`](http://search.cpan.org/~makamaka/Text-CSV-1.21/lib/Text/CSV.pm)创建可以轻松导入任何电子表格的 CSV 文件的方法。

# php - 如何通过ajax发送JSON数组？

> ID：12740550
> 
> 赞同：1
> 
> 时间：2012-10-05T06:16:01.023
> 
> 标签：php, json, jquery

```
var storeSettings = [];

                        obj.find(o_widgetClass).each(function(){
                            var storeSettingsStr          = {};
                            storeSettingsStr['id']        = $(this).attr('id');
                            storeSettingsStr['style']     = $(this).attr('data-widget-attstyle');
                            storeSettingsStr['title']     = $(this).children('header').children('h2').text();
                            storeSettingsStr['hidden']    = ($(this).is(':hidden') ? 1 : 0);
                            storeSettingsStr['collapsed'] = ($(this).hasClass('powerwidget-collapsed') ? 1 : 0);
                            storeSettings.push(storeSettingsStr);
                        }); 

                        var storeSettingsObj = JSON.stringify( {'widget':storeSettings} );

                        /* Place it in the storage(only if needed) */
                        if(getKeySettings != storeSettingsObj){
                            //alert(storeSettingsObj);
                            var memberfilter = new Array();
                            memberfilter[0] = "id";
                            memberfilter[1] = "style";
                            var jsonText = JSON.stringify(storeSettings, memberfilter);
alert(jsonText);

   // it gives this result 
[{"id":"widget1"},{"id":"widget3","style":"black"},{"id":"widget4"},{"id":"widget5"},{"id":"widget2","style":"black"},{"id":"widget6"},{"id":"widget7"},{"id":"widget9"},{"id":"widget8"},{"id":"widget10"},{"id":"widget12"},{"id":"widget13"},{"id":"widget11"},{"id":"widget14"}] 
```

现在我如何通过 jquery ajax 发送它？我正在尝试使用下面提到的代码**，但还不能在服务器上获取数据**

```
$.ajax({
    type: 'POST',
    url: 'get_query.php',                      
    data: "test="+jsonText,
    success: function(data) {
        alert(data);
        }
}); 
```

**那么你能解释一下如何发送以及如何获取这些数据吗？**我试过 json_decode 但不适合我。

**在 xdazz 评论后编辑以在没有字符串化的情况下发送它**

当我 print_r($_POST['test']) 得到这个

```
Array 
```

( [0] => 数组 ( [id] => widget1 [title] => 隐藏小部件 [hidden] => 1 [collapsed] => 0 )

```
[1] => Array
    (
        [id] => widget3
        [style] => red
        [title] => Icons
        [hidden] => 0
        [collapsed] => 0
    )

[2] => Array
    (
        [id] => widget4
        [style] => black
        [title] => No toggle button
        [hidden] => 0
        [collapsed] => 0
    )

[3] => Array
    (
        [id] => widget5
        [title] => No delete button
        [hidden] => 0
        [collapsed] => 0
    )

[4] => Array
    (
        [id] => widget6
        [title] => No edit button
        [hidden] => 0
        [collapsed] => 0
    )

[5] => Array
    (
        [id] => widget7
        [title] => Not fullscreen button
        [hidden] => 0
        [collapsed] => 0
    )

[6] => Array
    (
        [id] => widget9
        [title] => No custom button
        [hidden] => 0
        [collapsed] => 0
    )

[7] => Array
    (
        [id] => widget8
        [title] => Not sortable
        [hidden] => 0
        [collapsed] => 0
    )

[8] => Array
    (
        [id] => widget10
        [title] => Collapsed widget
        [hidden] => 0
        [collapsed] => 1
    )

[9] => Array
    (
        [id] => widget12
        [title] => Auto refresh
        [hidden] => 0
        [collapsed] => 0
    )

[10] => Array
    (
        [id] => widget2
        [style] => black
        [title] => Basic widget
        [hidden] => 0
        [collapsed] => 0
    )

[11] => Array
    (
        [id] => widget13
        [title] => No timestamp
        [hidden] => 0
        [collapsed] => 0
    )

[12] => Array
    (
        [id] => widget11
        [title] => Ajax
        [hidden] => 0
        [collapsed] => 0
    )

[13] => Array
    (
        [id] => widget14
        [title] => No refresh button
        [hidden] => 0
        [collapsed] => 0
    ) 
```

)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-05T06:19:59.070

您不需要对对象进行字符串化，直接将其用于`data`属性。

```
$.ajax({
    type: 'POST',
    url: 'get_query.php',                      
    data: {test: myvariable},
    success: function(data) {
      alert(data);
    }
}); 
```

然后在php端，`var_dump($_POST['test']);`看看你得到了什么。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T06:22:27.183

你可以试试这个：

```
$.ajax({
        type: 'POST',
        url: 'get_query.php',                      
        data: jsonText,
        contentType: "application/json",
        success: function(data) {
            alert(data);
            }
    }); 
```

但在 PHP 方面，您需要 $GLOBALS["HTTP_RAW_POST_DATA"]; 接收 JSON 数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-01-04T05:28:03.583

```
<script>
var information = ['hi','hello'];
$.ajax({
    type: "POST",
    data: {info: information, "action": "getUserRecords"},
    url: "/var/www/pinboard/wp-content/themes/pinboard/userinfo.php",
    success: function(msg) {
        $('.userDetail').html(msg);
    }
});
</script> 
```

# iphone - 获取包含 UITouch 的所有点

> ID：12740551
> 
> 赞同：0
> 
> 时间：2012-10-05T06:16:03.977
> 
> 标签：iphone, objective-c, ios, cocoa-touch, uitouch

我正在使用`CGContext`. 我已将线宽设置为**35**。现在，当调用*touches begin*时，我正在记录接触点。但它只给出一个点，我想要触摸内的所有点，因为我的线宽是**35**。如何在一次触摸内获得所有积分？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:25:42.173

You can't do that. You get that one magical point per touch, that's it. You best bet is to take it as the center of the touch.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-21T13:01:43.620

请检查这个线程。我认为它回答了你的问题。

[touchesMoved:withEvent](https://stackoverflow.com/questions/1777940/touchesmovedwithevent)

# android - Twitter Auth Browser 无法返回我的 android 应用程序

> ID：12740553
> 
> 赞同：0
> 
> 时间：2012-10-05T06:16:07.840
> 
> 标签：android, callback, twitter-oauth, onresume

我正在尝试为我的 Android 应用程序找出 Twitter OAuth。我的问题是当 Twitter OAuth 浏览器打开时，我单击`Authorize App`按钮，但它指向我的回调 URL，在那里暂停并且不返回我的应用程序，随后不调用任何一个`onNewIntent`/`onResume`方法（我尝试使用这两个这两种方法都没有被调用）。我的活动代码和清单 XML 文件如下。非常感谢任何帮助或提示。谢谢你。

```
public class TwitterLoginActivity extends SherlockPreferenceActivity {

private static final String TAG = "TwitterDemo";

private static String CONSUMER_KEY = ""; // filled with my consumer key
private static String CONSUMER_SECRET = ""; //filled with my consumer secret
private static final String CALLBACK_SCHEME = "http";
private String CALLBACK_URL= CALLBACK_SCHEME+"://mjelajahprd.appspot.com/twitter/index";

private OAuthSignpostClient oauthClient;
private OAuthConsumer mConsumer;
private OAuthProvider mProvider;
private Twitter twitter;
private SharedPreferences prefs;
private String authUrl;
private WebView view;
private Boolean status;

public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    try {
        mConsumer = new CommonsHttpOAuthConsumer(CONSUMER_KEY,
                CONSUMER_SECRET);

        mProvider = new DefaultOAuthProvider(
                "http://api.twitter.com/oauth/request_token",
                "http://api.twitter.com/oauth/access_token",
                "http://api.twitter.com/oauth/authorize");

        prefs = PreferenceManager.getDefaultSharedPreferences(this);
        String token = prefs.getString("token", null);
        String tokenSecret = prefs.getString("tokenSecret", null);

        if (token != null && tokenSecret != null) {
            mConsumer.setTokenWithSecret(token, tokenSecret);
            oauthClient = new OAuthSignpostClient(CONSUMER_KEY,
                    CONSUMER_SECRET, token, tokenSecret);
        } else {
            Log.d(TAG, "onCreate. Not Authenticated Yet ");
            new OauthAuthorizedTask().execute();

        }

    } catch (Exception e) {
        Toast.makeText(this, e.getMessage(), Toast.LENGTH_LONG).show();
    }
}

private class OauthAuthorizedTask extends AsyncTask<Void, Void, String> {

    @Override
    protected String doInBackground(Void... params) {
        //String authUrl;
        String message = null;
        Log.d(TAG, "OAuthAuthorizeTask mConsumer: " + mConsumer);
        Log.d(TAG, "OAuthAuthorizeTask mProvider: " + mProvider);
        try {
            authUrl = mProvider.retrieveRequestToken(mConsumer,
                    CALLBACK_URL);
            Intent oauthIntent = new Intent(Intent.ACTION_VIEW,
                    Uri.parse(authUrl));
            oauthIntent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP);
            oauthIntent.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);
            oauthIntent.addFlags(Intent.FLAG_FROM_BACKGROUND);
            startActivity(oauthIntent);

        } catch (OAuthMessageSignerException e) {
            message = "OAuthMessageSignerException";
            e.printStackTrace();
        } catch (OAuthNotAuthorizedException e) {
            message = "OAuthNotAuthorizedException";
            e.printStackTrace();
        } catch (OAuthExpectationFailedException e) {
            message = "OAuthExpectationFailedException";
            e.printStackTrace();
        } catch (OAuthCommunicationException e) {
            message = "OAuthCommunicationException";
            e.printStackTrace();
        }
        return message;
    }

    @Override
    protected void onPostExecute(String result) {
        super.onPostExecute(result);
        if (result != null) {
            Toast.makeText(TwitterLoginActivity.this, result,
                    Toast.LENGTH_LONG).show();
        }
    }
}

@Override
public void onNewIntent(Intent intent) {
    super.onNewIntent(intent);
    Log.d(TAG, "intent: " + intent);

    // Check if this is a callback from OAuth
    Uri uri = intent.getData();
    if (uri != null && uri.getScheme().equals(CALLBACK_SCHEME)) {
        Log.d(TAG, "callback: " + uri.getPath());

        String verifier = uri.getQueryParameter(OAuth.OAUTH_VERIFIER);
        Log.d(TAG, "verifier: " + verifier);
        Log.d(TAG, " xxxxxxxxxxx mConsumer access token: " + mConsumer.getToken());
        Log.d(TAG, " xxxxxxxxxxxx mConsumer access token secret: " + mConsumer.getTokenSecret());
        Log.d(TAG, " xxxxxxxxxxxxx OAuth.OAUTH_TOKEN: " + OAuth.OAUTH_TOKEN);
        Log.d(TAG, " xxxxxxxxxxxxx OAuth.OAUTH_TOKEN_SECRET: " + OAuth.OAUTH_TOKEN_SECRET);

        new RetrieveAccessTokenTask().execute(verifier);
    }
}

class RetrieveAccessTokenTask extends AsyncTask<String, Void, String> {

    @Override
    protected String doInBackground(String... params) {
        String message = null;
        String oauthVerifier = params[0];
        try {
            // Get the token
            Log.d(TAG, " RetrieveAccessTokenTask mConsumer: " + mConsumer);
            Log.d(TAG, " RetrieveAccessTokenTask mProvider: " + mProvider);
            Log.d(TAG, " RetrieveAccessTokenTask verifier: " + oauthVerifier);
            mProvider.retrieveAccessToken(mConsumer, oauthVerifier);
            String token = mConsumer.getToken();
            String tokenSecret = mConsumer.getTokenSecret();
            mConsumer.setTokenWithSecret(token, tokenSecret);

            Log.d(TAG, String.format(
                    "verifier: %s, token: %s, tokenSecret: %s", oauthVerifier,
                    token, tokenSecret));

            // Store token in prefs
            prefs.edit().putString("token", token)
                    .putString("tokenSecret", tokenSecret).commit();

            // Make a Twitter object
            oauthClient = new OAuthSignpostClient(CONSUMER_KEY,
                    CONSUMER_SECRET, token, tokenSecret);
            twitter = new Twitter(null, oauthClient);

            Intent mainIntent = new Intent(TwitterLoginActivity.this, MainActivity.class);
            startActivity(mainIntent);

            Log.d(TAG, "token: " + token);
        } catch (OAuthMessageSignerException e) {
            message = "OAuthMessageSignerException";
            e.printStackTrace();
        } catch (OAuthNotAuthorizedException e) {
            message = "OAuthNotAuthorizedException";
            e.printStackTrace();
        } catch (OAuthExpectationFailedException e) {
            message = "OAuthExpectationFailedException";
            e.printStackTrace();
        } catch (OAuthCommunicationException e) {
            message = "OAuthCommunicationException";
            e.printStackTrace();
        }
        return message;
    }

    @Override
    protected void onPostExecute(String result) {
        super.onPostExecute(result);
        if (result != null) {
            Toast.makeText(TwitterLoginActivity.this, result,
                    Toast.LENGTH_LONG).show();
        }
    }
} 
```

}

Manifest.xml（注意：已经设置使用权限 android:name="android.permission.INTERNET"）

```
 <activity
        android:name=".TwitterLoginActivity"
        android:label="@string/twitter"
        android:launchMode="singleTask" >
        <intent-filter>
            <action android:name="android.intent.action.VIEW" />
            <category android:name="android.intent.category.DEFAULT" />
            <category android:name="android.intent.category.BROWSABLE" />
            <data
                android:host="mjelajah-prd.appspot.com/twitter/index"
                android:scheme="http" >
            </data>
        </intent-filter>
    </activity> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T06:20:11.553

尝试使用`android:launchMode="singleInstance"`.

```
private final String CALLBACKURL = "sosInternational:///Test";

<intent-filter>  
    <action android:name="android.intent.action.VIEW"></action>  
    <category android:name="android.intent.category.DEFAULT"></category>  
    <category android:name="android.intent.category.BROWSABLE"></category>  
    <data android:scheme="sosInternational" android:host="TwitterLoginActivity"></data>  
</intent-filter> 
```

查看此链接了解更多详情。

[http://www.android10.org/index.php/articleslibraries/291-twitter-integration-in-your-android-application](http://www.android10.org/index.php/articleslibraries/291-twitter-integration-in-your-android-application)

[Android 中 Twitter 回调中的问题](https://stackoverflow.com/questions/6813996/problem-in-callback-in-twitter-in-android)

# java - 套接字超时和取消

> ID：12740557
> 
> 赞同：4
> 
> 时间：2012-10-05T06:16:27.997
> 
> 标签：java, android, sockets

我在 AsyncTask 中运行了以下代码：

```
    套接字 = 新套接字（主机，Integer.parseInt（端口））；

```

如果主机名正确，但端口上没有套接字服务器侦听，则此行可能会在抛出异常之前工作几分钟。我可以设置通信超时吗？此外，是否可以停止此过程 - 目前它不对 AsyncTask.cancel 调用做出反应。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-05T06:20:47.513

使用无参数构造函数创建套接字，如下所示：

```
socket = new Socket(); 
```

然后使用

```
socket.connect(remoteAddress, timeout); 
```

有关详细信息，请参阅[http://developer.android.com/reference/java/net/Socket.html](http://developer.android.com/reference/java/net/Socket.html)。

- 更新 -

我最初没有注意到您询问如何取消套接字连接。虽然我对套接字编程并不熟悉，但看起来你会这样做：

1.  正如您似乎已经尝试过的那样，在 asynctask 上调用取消。
2.  为异步任务覆盖/实现[onCancelled](http://developer.android.com/reference/android/os/AsyncTask.html#onCancelled%28Result%29)方法。在实现中，您需要使用对套接字的引用（使其成为类实例变量），并调用套接字的 close() 方法。请务必阅读关闭套接字并确保您正确处理输入/输出流的异常，以便您的应用程序不会崩溃。查看[此](https://stackoverflow.com/questions/3428127/close-java-socket)问题以获取有关关闭套接字的更多信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T06:24:39.080

You have to create a socket first and then use below method in it.

```
Socket client=new Socket();   
client.connect(new InetSocketAddress(hostip,port_num),connection_time_out); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-06-16T14:04:44.080

你可以这样做：

```
Socket soc = null;
while(soc == null){
    try{
        soc = new Socket("x.x.x.x", portNumber);
    }
    catch(Exception ex){
    }
} 
```

自从：

```
socket.connect(remoteAddress, timeout) 
```

众所周知，它不可靠，您可以编写自己的超时版本。我写的代码，无限等待连接，但你可以很容易地引入一个计时器。

# jquery - Colorbox 原型错误：无效的数组长度

> ID：12740559
> 
> 赞同：1
> 
> 时间：2012-10-05T06:16:34.890
> 
> 标签：jquery, prototype, colorbox

我有以下代码在颜色框中显示图像：

```
<script type="text/javascript">
(function($){
$('a.gallery').colorbox({rel:'gal'});
})(jQuery);
</script> 
```

我正在研究的 CMS 一团糟。它有原型、jquery、jquery-ui 等等。

在 Firebug 控制台中，我得到以下信息：无效的数组长度 [Break On This Error]
this[i] = this[i + 1];

prototype.js 第 387 行（版本 1.4.0），即：

```
shift: function() {
var result = this[0];
for (var i = 0; i < this.length - 1; i++)
this[i] = this[i + 1];
this.length--;
return result;
}, 
```

我得到的只是褪色的背景和颜色框角落加载（角落不删除）。

jQuery.noConflict(); 也没有用。

请帮忙！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-12-08T16:39:32.260

好的，想通了。发生这种情况是因为prototype.js 扩展了（以及许多其他）本机`Array.prototype.shift`函数，并且该扩展包含导致错误的错误。jQuery`shift`在 [line 2109])( [https://github.com/jquery/jquery/blob/1.7.2/jquery.js#L2109](https://github.com/jquery/jquery/blob/1.7.2/jquery.js#L2109) ) 等地方使用。这就是我崩溃的地方。

我不希望这会对 user1722113 有所帮助，但希望它可以帮助某人。

我只能想到两个解决方案：

1.  抛弃prototype.js（更好的解决方案。一般来说，覆盖本机函数是不好的）
2.  以某种方式重新初始化 Array.prototype.shift，或者用没有损坏的实现替换它

# install4j - install4j 提示尽管使用 -q 和 -varfile 运行

> ID：12740560
> 
> 赞同：0
> 
> 时间：2012-10-05T06:16:37.207
> 
> 标签：install4j

我在带有 -q 和 -varfile 标志的 Linux 上运行 install4j 二进制文件。它仍然提示我选择所有选项。

```
./myInstaller.sh -q -varfile response.varfile -VskipRestore=true
Starting Installer ...
This will install Zephyr 4.1 on your computer.
OK [o, Enter], Cancel [c] 
```

我还验证了 response.varfile 被复制到安装文件夹内的 .install4j 文件夹中。有什么明显的我失踪了吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T18:53:53.937

在 unix 上的无人值守模式下，您会遇到上述异常 (StackOverflowError)。文档建议返回 null，这会导致以下错误：

```
java.lang.NullPointerException
at com.install4j.runtime.installer.frontend.headless.UnattendedScreenExecutor$1.run(Unknown Source)
at com.install4j.runtime.installer.frontend.GUIHelper.invokeOnEDT(Unknown Source)
at com.install4j.runtime.installer.frontend.headless.UnattendedScreenExecutor.getProgressInterface(Unknown Source)
at com.install4j.runtime.installer.frontend.headless.AbstractHeadlessScreenExecutor.execute(Unknown Source)
at com.install4j.runtime.installer.controller.Controller$1.run(Unknown Source) 
```

以下脚本工作正常

```
UnattendedProgressInterface unattend = DefaultUnattendedProgressInterface();
return unattend; 
```

# ruby-on-rails-3 - 捆绑安装中将 sqlite3 更改为 pg 的问题：Gemfile

> ID：12740566
> 
> 赞同：2
> 
> 时间：2012-10-05T06:17:16.147
> 
> 标签：ruby-on-rails-3, sqlite, bundle, gemfile

我想将我的 rails 应用程序部署到 Heoku，所以我制作了新的 rails 应用程序，然后更改了 Gemfile

```
gem 'sqlite' 
```

至

```
gem 'pg' 
```

然后我做了

```
bundle install 
```

在我的终端中（我的开发环境是 Mac OS 10.8.2）并得到以下结果。

```
Fetching gem metadata from https://rubygems.org/.........
enter code hereUsing rake (0.9.2.2)
Using i18n (0.6.1) 
Using multi_json (1.3.6) 
Using activesupport (3.2.8)
Using builder (3.0.3) 
Using activemodel (3.2.8) 
Using erubis (2.7.0) 
Using journey (1.0.4) 
Using rack (1.4.1) 
Using rack-cache (1.2) 
Using rack-test (0.6.2) 
Using hike (1.2.1) 
Using tilt (1.3.3) 
Using sprockets (2.1.3) 
Using actionpack (3.2.8) 
Using mime-types (1.19) 
Using polyglot (0.3.3) 
Using treetop (1.4.10) 
Using mail (2.4.4) 
Using actionmailer (3.2.8) 
Using arel (3.0.2) 
Using tzinfo (0.3.33) 
Using activerecord (3.2.8) 
Using activeresource (3.2.8) 
Using bundler (1.2.0) 
Using coffee-script-source (1.3.3) 
Using execjs (1.4.0) 
Using coffee-script (2.2.0) 
Using rack-ssl (1.3.2) 
Using json (1.7.5) 
Using rdoc (3.12) 
Using thor (0.16.0) 
Using railties (3.2.8) 
Using coffee-rails (3.2.2) 
Using jquery-rails (2.1.3) 
Installing pg (0.14.1) with native extensions 
Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension.

/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/bin/ruby extconf.rb 
checking for pg_config... yes
Using config values from /usr/bin/pg_config
checking for libpq-fe.h... yes
checking for libpq/libpq-fs.h... yes
checking for pg_config_manual.h... yes
checking for PQconnectdb() in -lpq... no
checking for PQconnectdb() in -llibpq... no
checking for PQconnectdb() in -lms/libpq... no
Can't find the PostgreSQL client library (libpq)
*** extconf.rb failed ***
Could not create Makefile due to some reason, probably lack of necessary libraries and/or headers.  Check the mkmf.log file for more details.  You may need configuration options.

Provided configuration options:
--with-opt-dir
--without-opt-dir
--with-opt-include
--without-opt-include=${opt-dir}/include
--with-opt-lib
--without-opt-lib=${opt-dir}/lib
--with-make-prog
--without-make-prog
--srcdir=.
--curdir
--ruby=/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/bin/ruby
--with-pg
--without-pg
--with-pg-dir
--without-pg-dir
--with-pg-include
--without-pg-include=${pg-dir}/include
--with-pg-lib
--without-pg-lib=${pg-dir}/lib
--with-pg-config
--without-pg-config
--with-pg_config
--without-pg_config
--with-pqlib
--without-pqlib
--with-libpqlib
--without-libpqlib
--with-ms/libpqlib
--without-ms/libpqlib

Gem files will remain installed in /Users/haegwankim/.bundler/tmp/44175/gems/pg-0.14.1 for inspection.
Results logged to /Users/haegwankim/.bundler/tmp/44175/gems/pg-0.14.1/ext/gem_make.out
An error occurred while installing pg (0.14.1), and Bundler cannot continue.
Make sure that `gem install pg -v '0.14.1'` succeeds before bundling.</pre> 
```

我做了我能做的一切（谷歌、朋友等）但无法弄清楚。我真的很感激有人可以解决这个问题。干杯!

# javascript - 在 jQuery 函数中声明多个 div 选择器

> ID：12740575
> 
> 赞同：2
> 
> 时间：2012-10-05T06:18:06.983
> 
> 标签：javascript, jquery, hover, opacity, jquery-hover

基本上，我正在使用一块 jQuery 来控制图像淡入淡出。

这段代码，首先标识一个 div 类`.fade`，然后将 a 连接`.hover`到它。

将`.fade`鼠标悬停在上方时，类中`display:none`div 内的图像`.fade`会慢慢淡化，使不透明度恢复为 1。

这是一段相当简单的代码，但我想知道是否有办法修改它以使用多个类（即，fadetwo、fadethree 等）......因为它在父`.fade`类中的一个 div 下工作它应该工作正常吗？

我似乎无法让它工作。我正在尝试在此行中添加其他类：

```
$('div.fade').hover(function() 
```

像：

```
$('div.fade, div.fadetwo, div.fadethree').hover(function() 
```

我只是想使我可以让多个 div（`.fade`,`.fadetwo`等）具有相同的悬停效果（显然每个都有不同的图像）...我不确定 jQuery 是否可以这样工作。

可能有更好的方法来做到这一点？...下面是我的代码。

[http://jsfiddle.net/yvgFy/](http://jsfiddle.net/yvgFy/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T06:43:11.393

目前尚不清楚您是要选择所有三个类还是三个类中的一个。因此，我解释了两种可能性：

**选择所有课程**

把你的类写在一起，没有空格和逗号，像这样：

```
$('div.fade.fadetwo.fadethree') 
```

这仅选择具有所有三个类的 div。

**选择其中一门课**

如果您需要选择具有三个类之一的 div，请省略空格，如下所示：

```
$('div.fade,div.fadetwo,div.fadethree') 
```

# math - 计算 CRC 示例

> ID：12740580
> 
> 赞同：0
> 
> 时间：2012-10-05T06:18:23.790
> 
> 标签：math, crc

有人可以告诉我计算这个CRC码的步骤吗？生成多项式 G(x)=10 数据：110 附加 crc 的消息：110

当数据除以 G(x) 时，余数为 0。这是否意味着 CRC 为 0 或什么都没有，或者这甚至可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:41:45.437

除法的完成方式与学校几乎相同：

```
10|110
   10  (xor)
------
   010
    10  (xor)
-------
     0 <- remainder 
```

唯一的区别是，必须只检查每一行的 msb
以使除数适合部分余数：
附加消息是 1100

要检查 crc，可以再次执行除法：

```
10|1100
   10    (xor)
-------
    100
    10   (xor)
--------
     00
     10  (no xor)
-------
      0  <-- remainder is 0, so the message is valid 
```

不过有一些可疑的地方：通常*crc*多项式有一个项 +1，如果最高阶项是 x^2 （例如），那么完整的多项式有 3 个项，其中只有 2 个是传统上明确声明的。那么只有你的多项式实际上是 x^2 + 1 并且将以相反的顺序表示为 1 + 0*x （+ 1* x^2 项省略）然后余数将是两位

```
101|110
    101
--------
     11  <-- final remainder; concatenated message = 11011

checking message integrity:

101|11011
    101
 --------
     1111
     101
  --------
      101
      101
  --------
       00 <-- checked! 
```

# php - 将文本添加到 php 生成的条形码图像

> ID：12740608
> 
> 赞同：1
> 
> 时间：2012-10-05T06:20:14.333
> 
> 标签：php, image

我目前正在使用我在网上找到的脚本为我的公司生成条形码。我对其进行了一些修改，以允许条形码水平扩展。我唯一缺少的是条形码生成的文本。

我希望条形码下方居中的文本以合理的字体大小显示在条形码上。

这是我的条形码脚本[http://pastebin.com/wvTyxQrW](http://pastebin.com/wvTyxQrW)

例如，要生成您只需转到barcode.php?text=1o2020p1。我只是想让条形码下方图像中的文本居中。我只是没有足够的图像处理效率来做到这一点，这需要我几个小时。

感谢您的建议/帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T06:39:05.353

代替

```
 $image = imagecreate($img_width, $img_height); 
```

和

```
 $image = imagecreate($img_width, $img_height + 20); 
```

并在上面添加以下代码`// Draw barcode to the screen`

```
if (!empty($_GET['text'])) {
  imagestring($image, 5, 4, $img_height, $_GET['text'], $black);
} 
```

# c - 多端口监听套接字linux

> ID：12740609
> 
> 赞同：3
> 
> 时间：2012-10-05T06:20:21.400
> 
> 标签：c, linux, sockets, port

我正在用 C (linux) 编写一个多线程服务器应用程序，它必须监听 2 个不同的端口号，比如监听端口号 3000 和 4000，以便不同的客户端连接到它以提供不同的功能（实际功能由工作人员执行线程，主线程无限期地运行，并在新连接时产生新的工作线程）。我不确定 select 是否可以在这里工作，因为我们可以有多个套接字连接，但都与相同的端口号相关联。我尝试顺序绑定到 sock_1 和 sock_2。当我运行 client_1 时，一切都按预期工作。但是，当我运行 client_2 时，我在客户端的 connect() 上收到错误。如果 select() 可以在这里使用，请告诉我怎么做。非常感谢任何帮助！谢谢 ！

（PS sock_1 指 3000 端口，sock_2 指 4000 端口，client_1 指客户端从 3000 端口寻求服务，client_2 指客户端从 4000 端口从同一服务器寻求服务）

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-05T07:12:50.557

您完全误解了套接字和端口，这两个是不同的东西。一个端口可以有多个套接字。但是您可以将您的列表套接字（被动套接字）绑定到一个端口。在进一步[阅读此内容之前](https://stackoverflow.com/questions/152457/what-is-the-difference-between-a-port-and-a-socket)

如果您希望您的应用程序在两个不同的端口上侦听，请使用它绑定两个不同的套接字。

对于快速参考，单个进程中的选择最多只能有 1024 个套接字描述符。因此，如果您使用的是单进程模型，那么 select 只能处理 1024 个连接。另请阅读 C10k 问题，看看什么适合您的需要。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-05T06:36:58.300

如果您的应用程序必须一次从多个套接字接受数据，则使用 select() 非常有用，因为它会阻塞，直到多个套接字中的任何一个准备好数据。select() 的另一个优点是您可以设置一个超时值，在此之后，无论任何套接字是否为您提供数据，都会将控制权返回给您。
以下链接对您有用：http:
[//www.softlab.ntua.gr/facilities/documentation/unix/unix-socket-faq/unix-socket-faq-2.html](http://www.softlab.ntua.gr/facilities/documentation/unix/unix-socket-faq/unix-socket-faq-2.html)

问题 20
[http://www.scribd.com/doc/7296598/Unix-Network-Programming-Volume-I-The-Sockets-Networking-API-3rd-Edition](http://www.scribd.com/doc/7296598/Unix-Network-Programming-Volume-I-The-Sockets-Networking-API-3rd-Edition)

第 6 章：我对您的应用程序“不需要 select()”的理解在以下链接中查看代码：http: [//kturley.com/simple-multi-threaded-web-server-written-in-c-using -pthreads/](http://kturley.com/simple-multi-threaded-web-server-written-in-c-using-pthreads/)

**是否为代码中的不同端口调用了两个不同的 bind()？**正如@Rahul Gautam 在他的[回答](https://stackoverflow.com/a/12741364/1673391)中指出的那样。

# google-drive-api - 文档列表 API 回归：更新文档（带转换）会丢失图像

> ID：12740610
> 
> 赞同：17
> 
> 时间：2012-10-05T06:20:42.273
> 
> 标签：google-drive-api, google-docs-api

最近在使用文档列表 API 时，Google Docs 转换似乎出现了问题。对现有文档条目所做的更新将不会正确转换为 Google 文档格式，并且不会显示文档中的图像。

## 重现步骤

1.  我有一个`.docx`包含几行文本和一个图像的文件。

2.  使用文档列表 API，我将文件作为`NEW`条目上传（打开转换），它工作正常。我可以在 Google Docs 中打开转换后的文档，看起来不错。

3.  接下来，使用 API 等文档，我再次将文件作为 `UPDATE`原始条目上传（打开转换）。现在，当我在 Google Docs 中打开转换后的文档时，图像丢失了。有一个带有旋转忙碌指示器的空白矩形出现在图像应该出现的位置。

## 附加信息

所以问题只发生在**更新**现有条目**时。**作为全新条目上传的文件没有这个问题。

这一定是在过去 24 小时左右发生故障...我有一个运行良好的现有应用程序，现在它更新的所有文档都缺少图像。后端是否有更新导致此问题发生？

我已经使用包含各种图像的各种 .docx 和 .doc 文件对此进行了测试。

请帮忙……这已经完全坏了一个星期了。我只是想知道这是否是 Google 的工程师意识到的一个问题，以及是否有人正在调查它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2020-10-10T19:57:16.577

**（2020 年 10 月）**：现在是 2020 年，这个问题真的过时了。Google [Documents List API](https://support.google.com/code/answer/74212)于 2012年[弃用，](https://developers.googleblog.com/2012/09/retiring-google-documents-list-api-v3.html)并[于 2015 年关闭](https://gsuiteupdates.googleblog.com/2015/03/final-reminder-deprecated-google-apps.html)，取而代之的是[Google Drive API](https://developers.google.com/drive)。

Drive API 能够毫无问题地导入（上传和转换）Word 文件，无论是使用图像创建还是更新为 Google Docs 格式。下面是这两种情况的一些伪代码（Python）。第一次上传一个名为的Word文件`person.docx`，其中包含一个图像。上传后，会向用户显示一条消息，您可以验证图像是否在 Google Doc 中。

```
DOCX_FILE = 'person.docx'
DOCS_MIME = 'application/vnd.google-apps.document'
    :
    : # credentials code for user acct auth (OAuth client ID) or service acct auth
    :
DRIVE = discovery.build('drive', 'v3', ...) # http= or creds= dep on auth type
body = {'name': DOCX_FILE, 'mimeType': DOCS_MIME}
res = DRIVE.files().create(media_body=DOCX_FILE, body=body,
        fields='name,mimeType').execute()
print('Uploaded "%s" (as %s)' % (res['name'], res['mimeType'])) 
```

正如 OP 所提到的，创建文件和以前一样完美。如果您编辑现有 Doc，您需要像以前一样在文件有效负载之外提供其 Drive 文件 ID，并调用`files().update()`而不是`files().create()`，它也可以正常工作：

```
DRIVE_ID = 'YOUR_FILE_ID'. # existing file in Drive
DOCX_FILE = 'person.docx'  # Word file to replace the above file with
DOCS_MIME = 'application/vnd.google-apps.document'
    :
    : # credentials code as above
    :
DRIVE = discovery.build('drive', 'v3', ...) # same as above
body = {'name': DOCX_FILE, 'mimeType': DOCS_MIME}
res = DRIVE.files().update(fileId=DRIVE_ID, media_body=DOCX_FILE,
        body=body, fields='name,mimeType').execute()
print('Updated "%s" (as %s)' % (res['name'], res['mimeType'])) 
```

如果您不熟悉 Drive API，请继续阅读。要操作Drive中已有*的文档，特别***是面向文档的**操作，您将使用 Google Docs、Sheets 和 Slides API，但要执行**文件**级**访问**，例如导入/导出、复制、移动、重命名等。 ，请改用[**Google Drive API**](http://developers.google.com/drive)。如果您是 Drive API 的新手，除了上述之外，这里还有一些示例：

*   [在 Google 云端硬盘中列出您的文件](http://youtu.be/Z5G0luBohCg?list=PLOU2XLYxmsILOIxBRPPhgYbuSslr50KVq&index=4)并编写代码深入研究[帖子](http://wescpy.blogspot.com/2014/11/authorized-google-api-access-from-python.html)——如果您不熟悉上面提到的身份验证代码，这很有用
*   [Google 云端硬盘：上传和下载文件](http://googledevelopers.blogspot.com/2016/01/google-drive-uploading-downloading.html)以及“穷人的纯文本到 PDF 转换器”代码深入研究[帖子](http://wescpy.blogspot.com/2015/12/google-drive-uploading-downloading.html)(*)
*   仅将 Google 表格导出为 CSV 博客[文章](http://wescpy.blogspot.com/2016/07/exporting-google-sheet--as-csv.html)

(*) - TL;DR：将纯文本文件上传到云端硬盘，导入/转换为 Google Docs 格式，然后将该 Doc 导出为 PDF。上面的帖子使用 Drive API v2；[这篇后续帖子](http://wescpy.blogspot.com/2015/12/migrating-to-new-google-drive-api-v3.html)描述了将其迁移到 Drive API v3，这是一个结合了“穷人转换器”帖子的[开发者视频。](http://googledevelopers.blogspot.com/2016/01/google-drive-uploading-downloading.html)

要了解有关如何在 Python 中使用 Google API 的更多信息，请查看[我的博客](http://wescpy.blogspot.com)以及我制作的各种 Google 开发人员视频（[系列 1](http://youtube.com/playlist?list=PLOU2XLYxmsILOIxBRPPhgYbuSslr50KVq)和[系列 2](http://youtube.com/playlist?list=PLOU2XLYxmsIJJFx_MVCQJ7eWF3gDxkl)）。

# jquery - 如何循环并将 标签附加到每个标签锚点数组？

> ID：12740614
> 
> 赞同：0
> 
> 时间：2012-10-05T06:21:02.897
> 
> 标签：jquery, html

我有许多锚元素，如何遍历每个元素并添加
标签？就像这样，

```
<a id="fbutton" href="http://www.facebook.com" title="fb" name="fb[]">
 <img alt="fb" src="/images/icons/fb.jpg">
</a> 
```

为什么我要添加一个 br 标签，因为这个按钮离另一个具有另一个数组名称的按钮太近了

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T06:23:42.720

你可以使用***[.after()](http://api.jquery.com/after/)***

```
$('a').each(function() {
  $(this).after('<br>');
}); 
```

或者只是`$('a').after('<br>');`如果您不需要在每个回调函数中执行额外的逻辑。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T06:23:06.900

试试这个，不需要循环..

```
 $("a").after("<br/>"); 
```

​</p>

供参考[http://api.jquery.com/after/](http://api.jquery.com/after/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T06:24:54.160

Give all `a` elements you want to loop through a `class`, then use:

```
$("a.classyougavethem").after("<br/>"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T06:24:23.360

you dont have to loop it...

```
$('a').after('<br>'); 
```

# c# - 在 C# 中启用代码隐藏的禁用功能

> ID：12740615
> 
> 赞同：0
> 
> 时间：2012-10-05T06:21:13.150
> 
> 标签：c#

我正在优化一个用 C# 开发的 exe 文件。我已经更改了一些提高性能的代码，但是当我尝试将代码签入到 SVN 源代码控制时，我的团队告诉我可以签入我的代码，但我必须通过启用和禁用功能来隐藏我的代码。

例如：

```
IF Code Hide == True  
   execute original Code
else 
   execute new code. 
```

对于我所做的每一项更改，我该如何做到这一点？我是否需要在我更改代码的所有地方都写一个 if-else 语句？请建议我该怎么做。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T06:30:38.020

您应该利用 SVN 的源代码控制功能。如果您使用更改创建一个分支，您可以更改代码，您的团队可以在闲暇时在您的代码和他们的代码之间切换。如果他们对您的代码感到满意，他们可以将您的代码合并到主分支中。

见：[http ://svnbook.red-bean.com/en/1.1/ch04.html](http://svnbook.red-bean.com/en/1.1/ch04.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T06:26:06.860

The most straight forward way is unfortunately to write if-else statements all over the place.

It is possible to solve this by clever code design, like using the [Template method pattern](http://en.wikipedia.org/wiki/Template_method_pattern) and instantiate either a "normal" or "extended" version of the code, but that usually requires a lot of refactoring of your existing code.

# asp.net - 数据表不返回.net中的记录

> ID：12740617
> 
> 赞同：0
> 
> 时间：2012-10-05T06:21:31.667
> 
> 标签：asp.net, sql, c#-4.0, datatable

![在此处输入图像描述](../Images/372c204e4be6a1c2cf23e4e0ad571a9d.png)

![在此处输入图像描述](../Images/e4289f908840ae03f1b999f7f33dac2b.png)

**显示`datatable`没有行**

![在此处输入图像描述](../Images/f6e09f05aa3b8256341d9682bceb3993.png)

我的查询是正确的，但是没有记录进来`Datatable`不知道什么是错的

请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:33:23.260

这很可能是您与 Sql Server 通信的问题。以下是一些需要检查的事项：

1) 完全相同的查询在 SQL 中运行时返回结果

2）您正在运行的 Sql Connection 字符串未设置为使用与视图所在的默认模式不同的默认模式。

3) 视图不会返回超过 1 个数据集和/或表（直接填充数据表只会获取数据集中的第一个表。

4）您在执行 .Fill() 之后而不是之前检查数据表。

如果这缩小了您的问题，请更新我们。否则，您将不得不发布您的 OpenConnection 代码和您的 Sql 视图语法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T12:46:12.920

在 web.config 中

```
 <appSettings> 
<add key="con" value="data source="servername";uid="username";pwd="password";initial catalog="databasename"></add> 
</appSettings> 
```

.aspx 页面

```
SqlConnection con = new SqlConnection(ConfigurationManager.ConnectionStrings["ConnectionStringA"].ToString()); 
    public DataTable GetDataTable(string strsql)
        {
            try
            {
                SqlDataAdapter da = new SqlDataAdapter(strsql,con);
                da.Fill(dt);

                if(dt!=null && dt.rows.Count>0)
                {
                    return dt;
                }
            }
            catch(Exception ex)
            {
                throw ex;
            }
        } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T07:15:02.413

尝试使用此代码：

```
 public DataTable GetDataTable(string strsql)
    {
        DataTable dt = new DataTable();
        using (SqlConnection con = new SqlConnection("your connection string"))
        {
            try
            {
                SqlDataAdapter da = new SqlDataAdapter(strsql,con);
                da.Fill(dt);
            } catch { }
            finally
            {
                con.Close();
            }
        }
        return dt;
    } 
```

# .htaccess - .htaccess 在 LAMP 中不起作用

> ID：12740622
> 
> 赞同：0
> 
> 时间：2012-10-05T06:22:05.723
> 
> 标签：.htaccess, codeigniter, codeigniter-url

我使用 CI，我从服务器下载了项目，它有一个 .htaccess 文件。当我在我的 localhost 中运行这些项目不起作用时，我必须将 index.php 放在项目路径之后，例如 example.com/index.php/controller/method。.htaccess 文件中有读/写规则。对于运行 .htacces，我使用了很多，但仍然无法正常工作。在`/etc/apache2/sites-available/default`修改包含`AllowOverride None`读取的行`AllowOverride All`。然后重新启动apache。检查读/写规则是否启用，我运行`a2enmod rewrite`它的显示`Module rewrite already enabled`。那么，我如何运行 .htacess 文件，我想从 localhost 的 CI 中的 URL 中删除 index.php。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T06:28:41.993

将以下内容添加到 .htaccess 文件中，并将文件保存在文档根目录中

```
DirectoryIndex index.php 
```

# php - 无需开启 Register Globals 即可获取 IP 地址

> ID：12740625
> 
> 赞同：-2
> 
> 时间：2012-10-05T06:22:09.883
> 
> 标签：php, security, ip-address, session-variables

> **可能重复：**
> [如何在 PHP 网络服务中获取客户端的 IP 地址？](https://stackoverflow.com/questions/1437771/how-can-i-get-the-clients-ip-address-in-a-php-webservice)

我想从用户那里获取 IP 地址，但我不想在我的 php.ini 文件中打开注册全局变量。有没有办法解决这个问题并仍然获取 IP 地址？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T06:23:12.597

不需要注册 Globals 来获取 IP 地址，为什么会这样呢？

获取IP：

```
$ip = $_SERVER['REMOTE_ADDR']; 
```

# node.js - 为什么在 webkitPeerConnection00(stun,onSignal) 中没有调用 onSignal 回调？

> ID：12740627
> 
> 赞同：1
> 
> 时间：2012-10-05T06:22:25.847
> 
> 标签：node.js, webkit, webrtc

我正在尝试在 Windows 系统上的两个 chrome（版本 20.0.1132.57）窗口之间创建对等连接。我将我的应用程序托管在 linux 机器上的 node.js 服务器上并使用 socket.io。这两台机器在同一个内部网络上。我没有使用 stun 服务器。是否需要在这种情况下使用 STUN，因为两台机器都是同一个内部网络的一部分？如果不是，那么为什么不调用 onSignal 回调？

```
 var stun=null;

  function connect(){
  createPeer();
  pc.addStream(localstream);
  }

  function createPeer(){ 
  pc = new webkitPeerConnection00(stun, onSignal);

  pc.onadddstream=onRemoteStreamAdded;
  pc.onremovestream=onRemoteStreamRemoved;
  }

  function onSignal(message){   
  socket.send(message)//sending this to server
  }

  //on receiving message 
  socket.on('message',onMessage);
  function onMessage(message){
   if(pc==null){
             createPeer();
             pc.addStream(localstream);
                }
   pc.processSignallingMessage(message);
   } 
```

///服务器端

```
 socket.on('message', function(message){
     socket.broadcast.send(message);//broadcasting received message to other peers
     }); 
```

我已经使用了这个演示[http://html5videoguide.net/presentations/WebDirCode2012/websocket/webrtc.html](http://html5videoguide.net/presentations/WebDirCode2012/websocket/webrtc.html)

我试图通过这个[http://www.html5rocks.com/en/tutorials/webrtc/basics/#toc-sans](http://www.html5rocks.com/en/tutorials/webrtc/basics/#toc-sans)来了解对等连接的工作原理，其中在一个页面本身上实现了调用者和被调用者。它对我不起作用，因为它在 new RTCIceCandidate(candidate), error "ReferenceError: RTCIceCandidate is not defined" 中抛出错误。有没有其他创建 Ice Candidate 的语法？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T15:22:57.177

您应该尝试查看此应用程序代码，如果您使用 Google Chrome JavaScript 调试工具查看代码，很容易掌握其中发生的情况：

[https://apprtc.appspot.com/](https://apprtc.appspot.com/)

您还必须从[http://dev.chromium.org/getting-involved/dev-channel](http://dev.chromium.org/getting-involved/dev-channel)安装更新的 Chrome 开发版本。您使用的版本仍在使用旧的信令协议 ROAP，没有 ICE 代理等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T07:13:52.330

webkitPeerConnection00 将 IceCandidates 传递给回调，它不传递消息。因此，要完成这项工作，必须向其他客户发送报价，并从那里收到答复。

```
pc =new webkitPeerConnection00(stun, onIceCandidate);

function onIceCandidate(candidate, moreToFollow) {
if (candidate) {
   //send candidate.toSdp() to other client with candidate.label 
}

if (!moreToFollow) {
  console.log("End of candidates.");
} 
```

}

//来自client1的报价

```
 function makeOffer()
{
  var offer = pc.createOffer({'has_audio':true, 'has_video':true});
  pc.setLocalDescription(pc.SDP_OFFER, offer);
  //send offer.toSdp() to peer
  pc.startIce();
} 
```

//在client2上收到来自client1的offer，将offer设置为remoteDescription，创建答案，发送给client1并将答案设置为localDescription

```
 function doAnswer(){
    var offer = pc.remoteDescription;
    var answer = pc.createAnswer(offer.toSdp(), {'has_audio':true, 'has_video':true});
    pc.setLocalDescription(pc.SDP_ANSWER, answer);
    //send answer.toSdp() 
    pc.startIce();
    } 
```

//在client1上从client2接收到答案，将答案设置为remoteDescription

//接收候选人时，var Candidate = new IceCandidate(label, Candidate);

// pc.processIceMessage(候选人);

注意：此代码段不适用于 RTCPeerConnection（新规范）请参阅[http://dev.w3.org/2011/webrtc/editor/webrtc.html](http://dev.w3.org/2011/webrtc/editor/webrtc.html)

# c# - 将datagridview数据写入xml文件

> ID：12740630
> 
> 赞同：0
> 
> 时间：2012-10-05T06:22:40.350
> 
> 标签：c#, xml, datagridview

我是 c# 新手，这可能是一个非常简单的问题。

在我的应用程序`Form`中，我有一个 datagridview`dgvBill`和一个 Button `btnClick`。我通过单击扩展器并选择`add columns`. 执行表单后，我在`dgvBill`. 当我单击它时，`btnClick`它正在创建一个 xml 文件，但其中没有数据。（为什么没有添加数据？）

创建的 XML 文件如下所示：

```
<?xml version="1.0" standalone="yes"?>
<NewDataSet /> 
```

我试过下面的代码：

**btnClick 事件**

```
DataSet ds = new DataSet();
ds.WriteXml(@"..\..\Customer_Info\" + lblCustId.Text + ".xml");
dgvBill.DataSource = ds;  /* also tried ds.Tables[0] */ 
```

`lblCustId`是一个标签`Form`

*可选*：我可以将 datagridview 的每个单元格变成 ComboBox 吗？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T06:45:14.783

使用`dataGridView1.EndEdit();`然后创建`XML`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T06:53:15.810

我认为您在将数据集分配给 dgvBill 之前正在编写 XML。试着放在后面。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T06:53:45.503

首先创建绑定源并将数据从绑定源加载到数据表，然后创建一个新数据集并将数据表添加到数据集，然后从数据集写入 XML 文件。

```
BindingSource bs = (BindingSource )MyGridView.DataSource;
DataTable dt= (DataTable ) bs.DataSource;
DataSet ds = new DataSet();
ds.Tables.Add(dt);
ds.Tables[0].WriteXml("E:\\test2.xml"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T10:07:34.757

当我创建一个新的空 xml 文件（仅创建列名）并读取数据集对象中的 xml 文件（在表单加载事件中）时，我的问题解决了。我使用相同的数据集对象写入不同的 xml 文件（在按钮单击事件上）。我确信这不是正确的方法，但它确实有效。如果您有任何其他好的建议，请在此处发布。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-05-21T04:53:11.780

你能检查一下你是否为你的列设置了 datapropertyname，这是我的代码。这很好用 form3.cs

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using System.IO;
 namespace WindowsFormsApplication1
 {
  public partial class Form32 : Form
    {
    public Form32()
    {
        InitializeComponent();
    }

    private void button1_Click(object sender, EventArgs e)
    {
        DataSet ds = new DataSet();
        DataTable dt = new DataTable("row");
        dt.Columns.Add("Id", typeof(int));
        dt.Columns.Add("UserName", typeof(string));
        dt.Rows.Add(1, "Tamer");
        dt.Rows.Add(2, "Foo");
        ds.Tables.Add(dt);
        dataGridView1.DataSource = ds;
        dataGridView1.DataMember = "row";
    }

    private void Form3_Load(object sender, EventArgs e)
    {
        string fileName = @"C:\users\tamer\desktop\data.xml";
        if (File.Exists(fileName))
        {
            DataSet ds = new DataSet();
            ds.ReadXml(fileName);
            dataGridView1.DataSource = ds;
            dataGridView1.DataMember = "row";
        }
    }

    private void Form3_FormClosed(object sender, FormClosedEventArgs e)
    {
        string fileName = @"C:\users\tamer\desktop\data.xml";
        DataSet dataSet = (DataSet)dataGridView1.DataSource;
        dataSet.WriteXml(fileName);

    }
} 
```

}

form3.designer.cs

namespace WindowsFormsApplication1 { partial class Form32 { /// /// 必需的设计器变量。/// 私有 System.ComponentModel.IContainer components = null;

```
 /// <summary>
    /// Clean up any resources being used.
    /// </summary>
    /// <param name="disposing">true if managed resources should be disposed; otherwise, false.</param>
    protected override void Dispose(bool disposing)
    {
        if (disposing && (components != null))
        {
            components.Dispose();
        }
        base.Dispose(disposing);
    }

    #region Windows Form Designer generated code

    /// <summary>
    /// Required method for Designer support - do not modify
    /// the contents of this method with the code editor.
    /// </summary>
    private void InitializeComponent()
    {
        this.dataGridView1 = new System.Windows.Forms.DataGridView();
        this.button1 = new System.Windows.Forms.Button();
        this.Id = new System.Windows.Forms.DataGridViewTextBoxColumn();
        this.UserName = new System.Windows.Forms.DataGridViewTextBoxColumn();
        ((System.ComponentModel.ISupportInitialize)(this.dataGridView1)).BeginInit();
        this.SuspendLayout();
        // 
        // dataGridView1
        // 
        this.dataGridView1.ColumnHeadersHeightSizeMode = System.Windows.Forms.DataGridViewColumnHeadersHeightSizeMode.AutoSize;
        this.dataGridView1.Columns.AddRange(new System.Windows.Forms.DataGridViewColumn[] {
        this.Id,
        this.UserName});
        this.dataGridView1.Location = new System.Drawing.Point(0, 0);
        this.dataGridView1.Name = "dataGridView1";
        this.dataGridView1.Size = new System.Drawing.Size(582, 337);
        this.dataGridView1.TabIndex = 0;
        // 
        // button1
        // 
        this.button1.Location = new System.Drawing.Point(246, 377);
        this.button1.Name = "button1";
        this.button1.Size = new System.Drawing.Size(75, 23);
        this.button1.TabIndex = 1;
        this.button1.Text = "button1";
        this.button1.UseVisualStyleBackColor = true;
        this.button1.Click += new System.EventHandler(this.button1_Click);
        // 
        // Id
        // 
        this.Id.DataPropertyName = "Id";
        this.Id.HeaderText = "Id";
        this.Id.Name = "Id";
        // 
        // UserName
        // 
        this.UserName.DataPropertyName = "UserName";
        this.UserName.HeaderText = "UserName";
        this.UserName.Name = "UserName";
        // 
        // Form32
        // 
        this.AutoScaleDimensions = new System.Drawing.SizeF(6F, 13F);
        this.AutoScaleMode = System.Windows.Forms.AutoScaleMode.Font;
        this.ClientSize = new System.Drawing.Size(632, 431);
        this.Controls.Add(this.button1);
        this.Controls.Add(this.dataGridView1);
        this.Name = "Form32";
        this.Text = "Form3";
        this.Load += new System.EventHandler(this.Form3_Load);
        this.FormClosed += new System.Windows.Forms.FormClosedEventHandler(this.Form3_FormClosed);
        ((System.ComponentModel.ISupportInitialize)(this.dataGridView1)).EndInit();
        this.ResumeLayout(false);

    }

    #endregion

    private System.Windows.Forms.DataGridView dataGridView1;
    private System.Windows.Forms.Button button1;
    private System.Windows.Forms.DataGridViewTextBoxColumn Id;
    private System.Windows.Forms.DataGridViewTextBoxColumn UserName;
} 
```

}

# java - 数组中的 Java 字符数

> ID：12740631
> 
> 赞同：0
> 
> 时间：2012-10-05T06:22:53.350
> 
> 标签：java, arrays

我尝试解决的另一个问题（**注意**，这不是作业，而是我脑海中突然出现的问题），我正在尝试提高我在 Java 中解决问题的技能。我想显示这个：

学生 ID #
Carol McKane 920 11
James Eriol 154 10
Elaine Black 462 12

我想要做的是在第 3 列，显示字符数而不计算空格。给我一些提示来做到这一点。或者指出 Java 强大的 API，因为我对 Java 的字符串 API 还不是很熟悉。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T06:27:20.487

考虑解决一个问题并将答案呈现为两个非常不同的步骤。我不会帮助您在表格中进行演示，但要计算字符串中的字符数（不带空格），您可以使用以下命令：

```
String name = "Carol McKane";
int numberOfCharacters = name.replaceAll("\\s", "").length(); 
```

正则表达式`\\s`匹配字符串中的所有空白字符`name`，并将它们替换为`""`，或不替换。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T06:27:27.177

听起来你只想要这样的东西：

```
public static int countNonSpaces(String text) {
    int count = 0;
    for (int i = 0; i < text.length(); i++) {
        if (text.charAt(i) != ' ') {
            count++;
        }
    }
    return count;
} 
```

您可能想要修改它以使用[`Character.isWhitespace`](http://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#isWhitespace%28char%29)而不是仅检查`' '`. 另请注意，这会将基本多语言平面之外的对计为两个字符。这对您来说是否会成为问题取决于您的用例......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T07:12:41.353

要了解有关它的更多信息，您应该观看[String](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html)和[Character的 API 文档](http://docs.oracle.com/javase/7/docs/api/java/lang/Character.html)

这里有一些如何做的例子：

```
// variation 1
int count1 = 0;
for (char character : text.toCharArray()) {
    if (Character.isLetter(character)) {
        count1++;
    }
} 
```

这使用“for”指令的特殊缩写。这是为了更好地理解的长表格：

```
// variation 2
int count2 = 0;
for (int i = 0; i < text.length(); i++) {
    char character = text.charAt(i);
    if (Character.isLetter(character)) {
        count2++;
    }
} 
```

顺便说一句，通过 replace 方法删除空格对我来说不是一种好的编码风格，对于理解字符串类的工作方式也没有多大帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T06:27:48.873

可能是最短和最简单的方法：

```
 String[][] students = { { "Carol McKane", "James Eriol", "Elainee Black" }, { "920", "154", "462" } };

    for (int i = 0 ; i < students[0].length; i++) {
        System.out.println(students[0][i] + "\t" + students[1][i] + "\t" + students[0][i].replace( " ", "" ).length() );
    } 
```

replace()，替换字符串的每个子字符串（“”）并将其从返回的结果中删除，从此时间字符串中，不带空格，您可以通过调用 length() 来获取长度...字符串名称将保留不变。

[http://docs.oracle.com/javase/7/docs/api/java/lang/String.html](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html)

干杯

# ruby-on-rails - 如何获取上一个用户的页面？

> ID：12740633
> 
> 赞同：0
> 
> 时间：2012-10-05T06:23:03.180
> 
> 标签：ruby-on-rails, devise

我有更新操作（设计 gem），我需要重定向到不同的页面，具体取决于上一页。

我试图像这样检查上一页：

```
def after_update_path_for(resource)
 logger.info("request:referer: " + request.referer)
 logger.info("paypal_path: " + paypal_path)
  if request.referer == paypal_path
   show_code_path
  else
   edit_user_registration_path(current_user)
  end
end 
```

但它不起作用。转到其他分支。

**从控制台**

```
 request:referer: http://127.0.0.1:3000/paypal
     paypal_path: /paypal
     Redirected to http://127.0.0.1:3000/users/edit.13 
```

**编辑：**

当我从主页转到 paypal_path 给我 nil 并且当它在 paypal_path 到 edit_user_registration_path(current_user) 之后将我重定向给我正确的前一个 URL - .../paypal

我能做些什么来让它发挥作用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T06:35:01.497

您可以像这样检查当前页面： current_page?(:controller => 'controller_name', :action => 'action_name')

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T06:55:56.417

好的聊天后我们找到了一个方法：

```
if request.env['HTTP_REFERER'] == "http://#{request.env["HTTP_HOST"]}/paypal"
  show_code_path 
else 
  edit_user_registration_path(current_user) 
end 
```

# iphone - 无法在 ios 6 中创建存档文件

> ID：12740637
> 
> 赞同：2
> 
> 时间：2012-10-05T06:23:24.997
> 
> 标签：iphone, ios6

我已经创建了 iphone 应用程序。我拿了文件并将其发布在应用商店中。但我已经升级了我的 xcode 并将操作系统更改为 4.3 - 6.0 。现在，当我尝试存档项目时，给了我这个错误。

> 命令 /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/usr/bin/llvm-gcc-4.2 失败，退出代码为 1

我检查了我的架构和编译器。它们是，架构 - 标准（armv7，armv7s）编译器 - LLVM GCC 4.2

会有什么问题？？？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T07:35:07.560

1.  从那里删除 armv7s 并检查
2.  检查 "Build Active Architectures Only" 中的值。如果否，将其设置为是并尝试构建。

# javascript - svg 量具 created_at 逻辑

> ID：12740638
> 
> 赞同：0
> 
> 时间：2012-10-05T06:23:25.690
> 
> 标签：javascript, ruby-on-rails, svg

我刚刚开始探索在 rails 中使用 svgs。我想用我的 Comment 模型上的 created_at 列动态更新一个[gagejs 。](http://justgage.com/)

这可能吗？例如，如果用户在 x 时间内没有创建评论，则量具会在某个范围内随机下降。这听起来像是一个有趣的问题，我只是想知道它确实是可以解决的。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:52:21.377

您可以使用[setTimeout](http://www.electrictoolbox.com/using-settimeout-javascript/)在延迟后运行某些内容，并使用[DOM](http://www.carto.net/svg/manipulating_svg_with_dom_ecmascript/)动态更新内容。这些链接为您提供了一些示例，因此您只需将它们联系在一起即可。

# cqrs - Jonathan Oliver 的 EventStore 是否积极开发？

> ID：12740648
> 
> 赞同：4
> 
> 时间：2012-10-05T06:24:17.873
> 
> 标签：cqrs, event-sourcing, neventstore

我正在启动一个将在 Windows Azure 上托管的新项目。我使用 RavenDb 作为后端，我想使用 CQRS 和事件源。

我阅读了关于 Jonathan 的 EventStore 的好评，它非常适合我的架构，因为它是一个薄层并且可以将 RavenDb 用作存储。现在，我注意到 3.0 版本（最新的官方版本）已经有一年了，而新的 3.1 版本还没有发布（分支中有一些活动）。我想选择 3.1 版本，因为它集成了 CommonDomain 项目，但我对分别引用 3.0 版和当前 CommonDomain 没有任何问题。

我只是想知道 EventStore 是否正在积极开发并会得到维护，尤其是在 Greg Young 发布了他的 EventStore (geteventstore.com) 之后。我有点不愿意去做，因为它具有自己的持久性和 AFAIK，我无法将我的事件存储在我的 RavenDb 中。

所以总结一下：

1.  Jonathan 的 EventStore 上线了吗？
2.  如果是，我是否应该选择当前的官方 3.0 版本并单独参考 CommonDomain 项目？
3.  3.1 分支（与 CommonDomain 合并）准备好了吗？
4.  我到底应该切换到 Greg Young 的 EventStore 吗？
5.  或者我应该调查 Lokad.CQRS？（我不认为它使用乔纳森的 EventStore）

PS。我不介意分叉 joliver 的 EventStore 并贡献修复/次要功能。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-05T07:47:54.207

我在目前生产的三个系统中使用 Joliver 的 EventStore，我打算将它用于更多即将投入生产的项目。

我认为与其他项目相比，该项目的活动较少的原因之一是它非常稳定。就我而言，就架构和质量而言，代码库是我见过的最好的代码库之一。现在的大部分活动都是用于不同类型持久性的插件。

当我开始的时候，我唯一需要的就是上转换事件的可能性，所以我添加了它。

并回答你的一些问题。

1.  我觉得活够了。反正我不会让它死掉的。
2.  使用当前版本和单独的 CommonDomain 以允许 Nuget 管理引用。
3.  不，我认为不是。

# android - how to use horizontalscroll view component?

> ID：12740654
> 
> 赞同：1
> 
> 时间：2012-10-05T06:24:43.790
> 
> 标签：android

i want to create a horizontal scroll view just like the one shown in image![horizontal scroll view](../Images/cfb832eb9030167158ffea9b6d8834a1.png)

In android widgets i found Horizontal Scroll View widget in composite section but dont know how to use it.Please help

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T06:35:52.290

首先创建`xml file`并添加，`HorizontalScrollView`然后将一个布局作为子项添加到此。然后你可以添加任何没有。对新添加的孩子的看法，这使得整个事情`scroll`。

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >
    <HorizontalScrollView
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" >
        <RelativeLayout
            android:layout_width="fill_parent"
            android:layout_height="wrap_content" >
            <!--  child views here -->
        </RelativeLayout>
    </HorizontalScrollView>
</LinearLayout> 
```

# java - How does Java saving object reference work?

> ID：12740657
> 
> 赞同：2
> 
> 时间：2012-10-05T06:24:55.147
> 
> 标签：java, object, reference

```
 String a = "test";
    String b = a;

    a = "wuut";

    System.out.println(b); 
```

Prints out `test`

Shouldn't `b` hold refence of `a`, not just take its value?

Doesn't Java work that way with objects and stuff?

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-05T06:29:06.317

> b不应该持有a的引用，而不仅仅是取其值吗？

不。 的值`a` *是*一个参考。引用是获取*对象*而不是*变量*的一种方式。赋值运算符只是将右侧表达式的值复制到左侧的变量中。这就是它所做的一切——它非常简单。Java 中没有传递引用，没有变量别名等。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T06:33:17.713

何时`a`创建可以说它指向`memory_1`内存中的位置。

当`b`分配给 时`a`，则`b`也指向同一个`memory_1`位置。

现在，当`a`更改值时（并且因为 String 对象是不可变的），现在在内存中创建一个新值，现在`a`指向`memory_2`.

但是，嘿，`b`仍然指向`memory_1`。

PS：[不变性](http://en.wikipedia.org/wiki/Immutable_object)是：

> 在面向对象和函数式编程中，不可变对象是其状态在创建后无法修改的对象。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T06:28:04.433

```
String a = test 
```

指向堆上的字符串文字**“测试”**`a`也是如此。`Object Reference Variable`

 **```
String b = a; 
```

No`b`也`Object Reference Variable`指向堆上**相同**的字符串文字**“测试”**。

现在，

```
a = "wuut"; 
```

但`b`仍然**指向**String Literal **"test"**，

**所以它的 b 持有对之前也由 a 引用的 Object 的引用，但不是对 a 的引用。**

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T06:28:09.503

不，它没有。`b`假定的*值*。`a`如果`a`以后更改，`b`则不会。它不是别名或任何类似性质的东西。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-05T06:28:48.193

```
String a = "test"; 
```

现在 a 持有对字符串“test”的引用。

```
String b = a; 
```

a 的值被复制到 b。A 是对“测试”的引用，所以现在 b 也是对“测试”的引用。

```
a = "wuut"; 
```

现在为 a 分配了对“wuut”的引用。这不会影响 b，因为 b 没有对 a 的引用。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-05T06:30:17.287

No.`b`保存的值`a`是对字符串的引用`"test"`。您正在考虑的是，如果您修改了 a 指向的字符串`b`也会改变（类似于`a.append("wuut");`）。但是不可能更改 Java 字符串，因为它们是不可变的。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-05T06:30:29.127

让我们一步一步来。

1.  `String a = "test"`- 在该对象上创建对象`"test"`和参考`a`点。
2.  `String b = a``b`-为同一对象创建新的参考点`"test"`
3.  `a = "wuut"`- 重新分配`a`对另一个对象的引用，但引用`b`仍然指向对象`test`**

# java - error while creating adminclient for websphere 7.0.0.11

> ID：12740658
> 
> 赞同：0
> 
> 时间：2012-10-05T06:24:59.227
> 
> 标签：java, jmx, websphere-7, mbeans

I need to develop an application for managing WebSphere Application Server v7.0.0.11\. I explored a bit and found out that we can use Mbeans. Actually I need to create something similar as Web-sphere's web console.

My problem is that the application should be in C# .net so is there any connector/Adapter to invoke web-sphere's management API. Please point me in right direction.

I am a C#.net developer and a total newbie in java/websphere, I tried creating Admin Client Example from IBM site by using packages found at IBM/Webshpere/Cimrepos directory. The name of Jar file is **`com.ibm.wplc.was_7.0.0.11.jar`** I unzipped that jar file in the same folder.

So now My App is starts, connects to websphere successfully and finds mbean on the nodeAgent. The problem I am facing in invoking mbean. I am getting following error message.

***`exception invoking launchProcess : javax.management.ReflectionExcetion: Target Method not found com.ibm.ws.management.nodeagent.NodeAgent.launchProcess`***

I am using following url for list of mbean

[http://pic.dhe.ibm.com/infocenter/wasinfo/v7r0/index.jsp?topic=/com.ibm.websphere.javadoc.doc/web/mbeanDocs/index.html](http://pic.dhe.ibm.com/infocenter/wasinfo/v7r0/index.jsp?topic=/com.ibm.websphere.javadoc.doc/web/mbeanDocs/index.html)

i tried using different methods from nodeAgent mbean but no joy , I am always getting same exception **"method not found"**.

Following is the code snipped for invoking launchprocess

```
private void invokeLaunchProcess(String serverName)  
    {  
        // Use the launchProcess operation on the NodeAgent MBean to start  
        // the given server  
        String opName = "launchProcess";  
        String signature[] = { "java.lang.String" };  
        String params[] = { serverName };  
        boolean launched = false;  
        try  
        {  
            Boolean b = (Boolean)adminClient.invoke(nodeAgent, opName, params, null);  
            launched = b.booleanValue();  
            if (launched)  
                System.out.println(serverName + " was launched");  
            else  
                System.out.println(serverName + " was not launched");  

        }  
        catch (Exception e)  
        {  
            System.out.println("Exception invoking launchProcess: " + e);  
        }  
    } 
```

Full Code could be found on following link

[http://pic.dhe.ibm.com/infocenter/wasinfo/v6r0/index.jsp?topic=%2Fcom.ibm.websphere.express.doc%2Finfo%2Fexp%2Fae%2Ftjmx_develop.html](http://pic.dhe.ibm.com/infocenter/wasinfo/v6r0/index.jsp?topic=%2Fcom.ibm.websphere.express.doc%2Finfo%2Fexp%2Fae%2Ftjmx_develop.html)

Please let me know what I am doing wrong, do i need to include some other package ? I browsed `com.ibm.wplc.was_7.0.0.11.jar`, there isn't any folder named nodeagent in `com\ibm\ws\managemnt`. I found the same jar file in Appserver\runtimes library.

Any help is greatly appreciated, Thanks in Advance.

**Getting Mbean**

```
private void getNodeAgentMBean(String nodeName)
    {
        // Query for the ObjectName of the NodeAgent MBean on the given node
        try
        {
            String query = "WebSphere:type=NodeAgent,node=" + nodeName + ",*";
            ObjectName queryName = new ObjectName(query);
            Set s = adminClient.queryNames(queryName, null);
            if (!s.isEmpty())
                nodeAgent = (ObjectName)s.iterator().next();
            else
            {
                System.out.println("Node agent MBean was not found");
                System.exit(-1);
            }
        }
        catch (MalformedObjectNameException e)
        {
            System.out.println(e);
            System.exit(-1);
        }
        catch (ConnectorException e)
        {
            System.out.println(e);
            System.exit(-1);
        }catch (Exception e){
            e.printStackTrace();
            System.exit(-1);
        }

        System.out.println("Found NodeAgent MBean for node " + nodeName);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-16T13:22:37.750

看来我的问题是 adminClient.invoke 方法我没有正确传递参数。在有正确的参数后它得到了修复。如果有人遇到同样的问题，我希望这会有所帮助。

# node.js - Downloading images with node.js

> ID：12740659
> 
> 赞同：209
> 
> 时间：2012-10-05T06:25:00.947
> 
> 标签：node.js, image, download

I'm trying to write a script to download images using node.js. This is what I have so far:

```
var maxLength = 10 // 10mb
var download = function(uri, callback) {
  http.request(uri)
    .on('response', function(res) {
      if (res.headers['content-length'] > maxLength*1024*1024) {
        callback(new Error('Image too large.'))
      } else if (!~[200, 304].indexOf(res.statusCode)) {
        callback(new Error('Received an invalid status code.'))
      } else if (!res.headers['content-type'].match(/image/)) {
        callback(new Error('Not an image.'))
      } else {
        var body = ''
        res.setEncoding('binary')
        res
          .on('error', function(err) {
            callback(err)
          })
          .on('data', function(chunk) {
            body += chunk
          })
          .on('end', function() {
            // What about Windows?!
            var path = '/tmp/' + Math.random().toString().split('.').pop()
            fs.writeFile(path, body, 'binary', function(err) {
              callback(err, path)
            })
          })
      }
    })
    .on('error', function(err) {
      callback(err)
    })
    .end();
} 
```

I, however, want to make this more robust:

1.  Are there libraries that do this and do this better?
2.  Is there a chance that response headers lie (about length, about content type)?
3.  Are there any other status codes I should care about? Should I bother with redirects?
4.  I think I read somewhere that `binary` encoding is going to be deprecated. What do I do then?
5.  How can I get this to work on windows?
6.  Any other ways you can make this script better?

Why: for a feature similar to imgur where users can give me a URL, I download that image, and rehost the image in multiple sizes.

* * *

## 回答 #1

> 赞同：451
> 
> 时间：2012-10-05T18:01:57.607

我建议使用[请求模块](https://github.com/mikeal/request)。下载文件就像下面的代码一样简单：

```
var fs = require('fs'),
    request = require('request');

var download = function(uri, filename, callback){
  request.head(uri, function(err, res, body){
    console.log('content-type:', res.headers['content-type']);
    console.log('content-length:', res.headers['content-length']);

    request(uri).pipe(fs.createWriteStream(filename)).on('close', callback);
  });
};

download('https://www.google.com/images/srpr/logo3w.png', 'google.png', function(){
  console.log('done');
}); 
```

* * *

## 回答 #2

> 赞同：49
> 
> 时间：2015-06-19T13:46:44.473

几天前我遇到了这个问题，对于纯 NodeJS 的答案，我建议使用 Stream 将块合并在一起。

```
var http = require('http'),                                                
    Stream = require('stream').Transform,                                  
    fs = require('fs');                                                    

var url = 'http://www.google.com/images/srpr/logo11w.png';                    

http.request(url, function(response) {                                        
  var data = new Stream();                                                    

  response.on('data', function(chunk) {                                       
    data.push(chunk);                                                         
  });                                                                         

  response.on('end', function() {                                             
    fs.writeFileSync('image.png', data.read());                               
  });                                                                         
}).end(); 
```

最新的 Node 版本不能很好地处理二进制字符串，因此在处理二进制数据时将块与字符串合并不是一个好主意。

*使用'data.read()'时要小心，它将清空流以进行下一个'read()'操作。如果您想多次使用它，请将其存放在某个地方。

* * *

## 回答 #3

> 赞同：47
> 
> 时间：2018-08-01T01:39:52.190

您可以使用**[Axios](https://www.npmjs.com/package/axios)**（基于[Promise的 Node.js HTTP 客户端）在](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)[异步环境](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function)中按照您选择的顺序下载图像：

```
npm i axios 
```

然后，您可以使用以下基本示例开始下载图像：

```
const fs = require('fs');
const axios = require('axios');

/* ============================================================
  Function: Download Image
============================================================ */

const download_image = (url, image_path) =>
  axios({
    url,
    responseType: 'stream',
  }).then(
    response =>
      new Promise((resolve, reject) => {
        response.data
          .pipe(fs.createWriteStream(image_path))
          .on('finish', () => resolve())
          .on('error', e => reject(e));
      }),
  );

/* ============================================================
  Download Images in Order
============================================================ */

(async () => {
  let example_image_1 = await download_image('https://example.com/test-1.png', 'example-1.png');

  console.log(example_image_1.status); // true
  console.log(example_image_1.error); // ''

  let example_image_2 = await download_image('https://example.com/does-not-exist.png', 'example-2.png');

  console.log(example_image_2.status); // false
  console.log(example_image_2.error); // 'Error: Request failed with status code 404'

  let example_image_3 = await download_image('https://example.com/test-3.png', 'example-3.png');

  console.log(example_image_3.status); // true
  console.log(example_image_3.error); // ''
})(); 
```

* * *

## 回答 #4

> 赞同：10
> 
> 时间：2016-04-01T05:25:29.747

如果你想要进度下载试试这个：

```
var fs = require('fs');
var request = require('request');
var progress = require('request-progress');

module.exports = function (uri, path, onProgress, onResponse, onError, onEnd) {
    progress(request(uri))
    .on('progress', onProgress)
    .on('response', onResponse)
    .on('error', onError)
    .on('end', onEnd)
    .pipe(fs.createWriteStream(path))
}; 
```

如何使用：

```
 var download = require('../lib/download');
  download("https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_150x54dp.png", "~/download/logo.png", function (state) {
            console.log("progress", state);
        }, function (response) {
            console.log("status code", response.statusCode);
        }, function (error) {
            console.log("error", error);
        }, function () {
            console.log("done");
        }); 
```

注意：您应该使用以下方式安装请求和请求进度模块：

```
npm install request request-progress --save 
```

* * *

## 回答 #5

> 赞同：9
> 
> 时间：2018-04-06T07:13:54.720

```
var fs = require('fs'),
http = require('http'),
https = require('https');

var Stream = require('stream').Transform;

var downloadImageToUrl = (url, filename, callback) => {

    var client = http;
    if (url.toString().indexOf("https") === 0){
      client = https;
     }

    client.request(url, function(response) {                                        
      var data = new Stream();                                                    

      response.on('data', function(chunk) {                                       
         data.push(chunk);                                                         
      });                                                                         

      response.on('end', function() {                                             
         fs.writeFileSync(filename, data.read());                               
      });                                                                         
   }).end();
};

downloadImageToUrl('https://www.google.com/images/srpr/logo11w.png', 'public/uploads/users/abc.jpg'); 
```

* * *

## 回答 #6

> 赞同：8
> 
> 时间：2018-06-18T16:06:19.117

这是对 Cezary 答案的扩展。如果要将其下载到特定目录，请使用它。另外，使用 const 代替 var。这样安全。

```
const fs = require('fs');
const request = require('request');
var download = function(uri, filename, callback){
  request.head(uri, function(err, res, body){    
    request(uri).pipe(fs.createWriteStream(filename)).on('close', callback);
  });
};

download('https://www.google.com/images/srpr/logo3w.png', './images/google.png', function(){
  console.log('done');
}); 
```

* * *

## 回答 #7

> 赞同：5
> 
> 时间：2015-05-02T14:08:25.500

在上述基础上，如果有人需要处理写入/读取流中的错误，我使用了这个版本。请注意`stream.read()`，如果发生写入错误，这是必需的，以便我们可以完成读取并`close`在读取流上触发。

```
var download = function(uri, filename, callback){
  request.head(uri, function(err, res, body){
    if (err) callback(err, filename);
    else {
        var stream = request(uri);
        stream.pipe(
            fs.createWriteStream(filename)
                .on('error', function(err){
                    callback(error, filename);
                    stream.read();
                })
            )
        .on('close', function() {
            callback(null, filename);
        });
    }
  });
}; 
```

# php - Render a specific part of html after success Ajax

> ID：12740667
> 
> 赞同：1
> 
> 时间：2012-10-05T06:25:46.527
> 
> 标签：php, javascript, jquery, html, ajax

Myproblem is when I click my first selectbox, after there is a value, it will trigger the second selectbox. I implement it in Ajax, but successfully render ,but my other textfield value is gone. How could I just render a specific part of the responde html(success ajax call)?

```
$(document).ready(function(){ 

    if ($('#product_category').val() == 'Choose Category')
        document.getElementById('product_subcategory').disabled = true;

    $('#product_category').change(function () {   
        if ($('#product_category').val() == 'Choose Category')
            document.getElementById('product_subcategory').disabled = true;
        else
            document.getElementById('product_subcategory').disabled = false;

        data = $('#product_category').val();
        //alert(data);

        var param = 'category_name=' + data;
        $.ajax({
          url: MYURL,
          data: param,
          success: function(result) {
            alert('Choose product subcategory');
            alert(param);
            $('body').html('');
            $('body').html(result);
          }
        });
       //   window.location = MYURL?category_name="+data;
    });

    $('#product_subcategory').change(function () {    
        data = $('#product_subcategory').val();
     //     paramCategory = $(document).getUrlParam('category_name');
      //    alert(paramCategory);

        $.get(MYURL, function(data){
            alert("Data Loaded: " + data);
            });
        //window.location = MYURL?subcategory_name=" +  data;
    });

}); 
```

in my form, i use $_GET['category_name'] to get my value Ajax return value. I Debug in firebug, and it is successfully. I tried to render again the html, but my previous textarea's value and textfiel's value is gone since what i did is $('body').html(''); $('body').html(result);, So,how could I manage to get the success ajax return value, and use it in the PHP.

any confusion ,please tell me... Thank you for spending ur time.

* * *

Hmm, I'm using a div and show the Div when it was return success ajax call.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:32:52.557

问题就在这里，

```
$('body').html('');
$('body').html(result); 
```

您正在空白整个身体并插入新结果。您必须将其更改为

```
$('#second_select_box_id').html(result); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T06:32:56.910

```
$('body').html('');
$('body').html(result); 
```

这是清空您的页面并在其中插入您的*结果*，我想您真正想要做的是用*结果*加载您的第二个下拉列表，因为您需要这样做

```
$("#product_subcategory").html(result); 
```

当然，这将取决于您的 ajax 函数返回的*结果是什么*

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T06:32:10.280

你能试试这个吗

```
$(body).html('');
$(body).html(result); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T06:38:28.240

你有两种方法可以做到这一点。

1.  在返回 Ajax 调用的数据时添加来自 PhP 的文本

2.  加载页面后将数据添加回文本框..

    数据 = $('#product_category').val(); //警报（数据）；

    var param = 'category_name=' + 数据；$.ajax({ url: MYURL, data: param, success: function(result) { alert('选择产品子类别'); alert(param); $('body').html(''); $(' body').html(result); **$('#product_category').val(data);** } });

# ios - iOS update checklist

> ID：12740669
> 
> 赞同：1
> 
> 时间：2012-10-05T06:25:57.767
> 
> 标签：ios, xcode, app-store, bundle

I'm having a hard time finding any documentation on what exactly we need to do when creating updated versions of apps. I can find documentation on iTunesConnect, but not Xcode.

I know this much:

1.  Update "Bundle version" in MyApp-Info.plist
2.  Update "Bundle versions string, short" in MyApp-Info.plist

Is there anything else that I'm missing?

# ios - How to check for slow/low network in ios app

> ID：12740670
> 
> 赞同：8
> 
> 时间：2012-10-05T06:25:59.827
> 
> 标签：ios, video-streaming, latency

Can anyone suggest how to handle a slow network when streaming video in a web view?

When the network strength is poor, a blank screen appears or video doesn't stream.

Is there a way to detect this condition so that we can alert the user? (Apart from using private API.)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T03:55:01.267

也许结构`ifi_baudrate`的成员`if_data`（在 中声明`<net/if.h>`）是您所需要的。如果波特率小于某个阈值，则可以显示警报。请参阅以下答案以了解如何获取`if_data`特定网络接口的结构： [https ://stackoverflow.com/a/8014012/1310204](https://stackoverflow.com/a/8014012/1310204)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-09T15:33:50.030

You can easily detect the state of the network connection via the HTML5 networking API [http://www.html5rocks.com/en/mobile/optimization-and-performance/#toc-network-detection](http://www.html5rocks.com/en/mobile/optimization-and-performance/#toc-network-detection)

Also if you want to test the network speed, just set up some files on your server of a specific size, and do a ajax request for the file, while timing how long it takes to download.

You can use a simple:

```
var start = new Date();

$.get("someFile.jpg")
     .done(function() {
              var elapsed = (new Date() - start);
     }); 
```

Or dig into the HTML5 performance API:

[http://www.html5rocks.com/en/tutorials/webperformance/basics/](http://www.html5rocks.com/en/tutorials/webperformance/basics/)

...if you not using javascript, the same applies. Just open a network connection with whatever is at your disposition, download a small file & do the math ;-)

# javascript - Load web resources (js, css, images etc.) from secure pages (https) by https NOT http

> ID：12740672
> 
> 赞同：0
> 
> 时间：2012-10-05T06:26:12.210
> 
> 标签：javascript, spring, http, https, apache

We have a big website with mix of https and http pages. And when i am on https page it tries to load resources by http protocol and some browsers block it as insecure (chrome for ex.).

So the question: how can i do some filter that allows me to load resources by https only from certain pages?

We are using httpd server and Spring security in our application.

So, how can i construct urls in JSP relative by context and by protocol? (I mean i cant simple write relative URLs in my page, because it is used in different contexts, for example as example.com/resource.css and mydomain.corp/resource.css)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:33:37.847

使用方案相对 URI。

```
//example.com/foo/bar/baz 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T06:31:59.780

获取协议，然后加载您需要的资产。我认为你应该`assertProtocolAndFilenames`在 Spring 中使用。

# java - Dynamic String get dynamic image name in java

> ID：12740678
> 
> 赞同：0
> 
> 时间：2012-10-05T06:26:42.027
> 
> 标签：java

i have a dynamic String like

```
age/data/images/four_seasons1.jpg 
```

from above string i need to get the image name alone (i.e.) four_seasons1.jpg

the path and the image will be a dynamic one(any image format will occure)

Please let me know how to do this in java?

thanks in advance

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T06:31:21.863

使用文件对象。

```
new File("/path/to/file").getName() 
```

您也可以使用 String.split()。

```
"/path/to/file/sdf.png".split("/") 
```

这将为您提供一个数组，您可以在其中选择最后一个元素。但文件对象更适合。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T06:31:40.670

```
String text = "age/data/images/four_seasons1.jpg";

String name = text.substring(text.lastIndexOf("/") + 1);
String path = text.substring(0, text.lastIndexOf("/"));
System.out.println(name);
System.out.println(path); 
```

输出

```
four_seasons1.jpg
age/data/images 
```

花点时间熟悉[java.lang.String](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html) API。你会经常做这种事情

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T06:35:05.660

```
String s = "age/data/images/four_seasons1.jpg";

String fileName = new String();

String[] arr = s.split("/");

fileName = arr[arr.length-1];

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T06:32:13.603

您可以使用正则表达式，但如果您发现模式是固定的，一个非常粗略的解决方案可能是一种直接的方法

```
 String url = "age/data/images/four_seasons1.jpg";

    String imageName = url.substring(url.lastIndexOf( "/" )+1, url.length()) ; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-05T06:33:56.520

您可以解析此路径。作为分隔符，您必须使用`'/'`符号。之后，您可以获取最后解析的元素。

```
String phrase = "age/data/images/four_seasons1.jpg";
String delims = "/";
String[] tokens = phrase.split(delims); 
```

关于 String.split 你可以[在这里](http://pages.cs.wisc.edu/~hasti/cs302/examples/Parsing/parseString.html)阅读更多。

# xslt - 如何使用 XSLT 在数组中动态存储值并比较值？

> ID：12740691
> 
> 赞同：1
> 
> 时间：2012-10-05T06:27:55.753
> 
> 标签：xslt

我再次向您提供这样的要求。你能调查一下吗？

```
<xml>
<test>
<BookID>
  <BookID1>
    <BookID2>
      0061AB
    </BookID2>
  </BookID1>
</BookID>
<amount>
  16
</amount>
</test>
<test>
<BookID>
  <BookID1>
    <BookID2>
      0062CD
    </BookID2>
  </BookID1>
</BookID>
<amount>
  2
</amount>
</test>
<test>
<BookID>
  <BookID1>
    <BookID2>
      0061AB
    </BookID2>
  </BookID1>
</BookID>
<amount>
  2
</amount>
</test>
</xml> 
```

这里根据BookID的相等值，我想添加金额值......就像上面的例子，如果BookID的值为0061AB，那么amount的值应该是18。

**编辑**（粘贴到答案）

*输出应该是这样的*

```
<xml>
  <test>
    <BookID>
      <BookID1>
        <BookID2>
          0061AB
        </BookID2>
      <BookID1>
    </BookID>
    <amount>
      18
    </amount>
  </test>
  <test>
    <BookID>
      <BookID1>
        <BookID2>
          0062CD
        </BookID2>
      <BookID1>
    </BookID>
    <amount>
      2
    </amount>
  </test>
</xml> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T06:40:56.050

我假设你的意思是金额的总和。您可以使用 xpath 如下所示

```
 <xsl:template match="/xml">
    <xsl:value-of select="sum(test[normalize-space(BookID)='0061AB']/amount)"/>
  </xsl:template> 
```

**编辑**

[您可以根据我对上一个问题](https://stackoverflow.com/questions/12728888/how-to-store-dynamically-values-in-array-using-xslt-and-make-comparison-of-value#12739834)的回答，使用变量或使用调用模板来参数化 BookID

以下样式表

```
 <xsl:template match="/xml">
    <xsl:variable name="bookID" select="'0061AB'"/>
    <xsl:value-of select="sum(test[normalize-space(BookID)=$bookID]/amount)"/>
  </xsl:template> 
```

**编辑#2**

您现在似乎正在[对不同的元素进行分组](https://stackoverflow.com/questions/153156/xslt-how-to-count-distinct-values-in-a-node)并汇总总数。

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
    <xsl:output method="xml" indent="yes"/>

    <!-- the identity template -->
    <xsl:template match="@* | node()">
        <xsl:copy>
            <xsl:apply-templates select="@* | node()" />
        </xsl:copy>
    </xsl:template>

    <xsl:template match="test">
        <xsl:variable name="bookID" select="normalize-space(BookID/text())" />
        <xsl:if test="not(preceding-sibling::test[normalize-space(BookID/text())=$bookID])">
            <test>
                <xsl:apply-templates />
            </test>
        </xsl:if>
        <!--Else `eat` the duplicate test node-->
    </xsl:template>

    <xsl:template match="amount">
        <amount>
            <xsl:variable name="bookID" select="normalize-space(../BookID/text())" />
            <xsl:value-of select="sum(//test[normalize-space(BookID/text())=$bookID]/amount)"/>
        </amount>
    </xsl:template>
</xsl:stylesheet> 
```

产生输出

```
<xml>
    <test>
        <BookID>
            0061AB
        </BookID>
        <amount>18</amount>
    </test>
    <test>
        <BookID>
            0062CD
        </BookID>
        <amount>2</amount>
    </test>

</xml> 
```

请您花时间阅读[常见问题解答](https://stackoverflow.com/faq)

**编辑 3**

此样式表将满足您的最新要求。

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
    <xsl:output method="xml" indent="yes" omit-xml-declaration="yes"/>

    <!-- the identity template -->
    <xsl:template match="@* | node()">
        <xsl:copy>
            <xsl:apply-templates select="@* | node()" />
        </xsl:copy>
    </xsl:template>

    <xsl:template match="test">
        <xsl:variable name="bookID" select="normalize-space(BookID/BookID1/BookID2/text())" />
        <xsl:if test="not(preceding-sibling::test[normalize-space(BookID/BookID1/BookID2/text())=$bookID])">
            <test>
                <xsl:apply-templates />
            </test>
        </xsl:if>
        <!--Else `eat` the duplicate test node-->
    </xsl:template>

    <xsl:template match="amount">
        <amount>
            <xsl:variable name="bookID" select="normalize-space(../BookID/BookID1/BookID2/text())" />
            <xsl:value-of select="sum(//test[normalize-space(BookID/BookID1/BookID2/text())=$bookID]/amount)"/>
        </amount>
    </xsl:template>
</xsl:stylesheet> 
```

# php - 用于自定义分类的 Wordpress 页面

> ID：12740696
> 
> 赞同：0
> 
> 时间：2012-10-05T06:28:06.760
> 
> 标签：php, wordpress, custom-taxonomy

我是 WordPress 的新手，我刚刚在名为艺术的自定义帖子类型下创建了一个名为类别的新自定义分类法。有没有办法可以创建一个自定义页面来显示“类别”的自定义类型？这样用户可以导航到艺术/类别并查看类别分类下的所有术语。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:35:53.423

在您的主题文件夹中创建一个名为 taxonomy-categories.php 的文件，并将您的循环包含在其中...

此处的示例循环：

```
<?php if (have_posts()) : ?>
<?php while (have_posts()) : the_post(); ?>
<div class="post">
  <h2><a href="<?php the_permalink() ?>" title="<?php the_title(); ?>">
    <?php the_title(); ?>
    </a></h2>
  <?php the_conetent(); ?>
</div>
<?php endwhile; ?>
<?php endif; ?> 
```

此循环将显示您分配给名为“类别”的自定义分类的所有帖子

有关详细信息，请查看：[http ://codex.wordpress.org/Template_Hierarchy](http://codex.wordpress.org/Template_Hierarchy)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-29T08:06:13.500

此循环将显示您分配给名为“类别”的自定义分类的所有帖子

有关详细信息，请查看：[http](http://hinhcuoidep.com.vn/) ://hinhcuoidep.com.vn/但我需要在主页中加载分类类别，但它在主索引模板中不起作用

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-09-08T14:59:13.617

保存一个名为 taxonomy-categories.php 的文件并将以下代码粘贴到该文件中。

```
 <?php
            $args_pdf = array(
            'orderby'       => 'name',
            'order'         => 'ASC'
            );
            $terms = get_terms('categories', $args_pdf);                    
            foreach($terms as $term) {
                echo '<h1><a href="'.get_term_link( $term ).'">' . $term->name . '</a></h1>'; 
            } 
            ?> 
```

# java - 如何处理 finally 块中发生的异常

> ID：12740699
> 
> 赞同：0
> 
> 时间：2012-10-05T06:28:10.423
> 
> 标签：java, exception-handling

在以下代码片段中，

```
 try
    { 
      Statement stmt = conect.getConnection();
      stmt.executeUpdate(query);
    }
    catch(SQLException e)
    { 
      //handle exception
    }
    finally
    {
      try{ stmt.close(); } 
      catch(SQLException ignore){}
    } 
```

当执行 stmt.close(); 时 finally 块中发生异常时会发生什么。有没有更好的方法来处理这类问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T06:37:04.153

有时连接由于某些异常而未打开，但最终阻止关闭该连接。为避免此异常，请查看以下代码。

```
 try{ 
      Statement stmt = conect.getConnection();
      stmt.executeUpdate(query);
    }catch(SQLException e){ 
      //handle exception
    }finally{
      try{ 
       if(stmt != null){
         stmt.close(); 
       }
    } 
      catch(SQLException ignore){}
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T06:33:59.060

```
 finally 
    {
          if( stmt != null ) {
            try {
              stmt.close();
            }
            catch(SQLException ex ) {
              ex.printStackTrace();
            }
          }
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T06:37:08.273

可能出现的问题是语句没有关闭，然后在尝试重用它时会出错。

尝试：

```
Statement stmt = null;
try {
        stmt = conect.getConnection();
        stmt.executeUpdate(query);
    }    
 catch(SQLException e) {       
          //handle exception  
   }    
 finally   
  {     
     try{ if(stmt!=null)stmt.close(); }    
     catch(SQLException ignore){}  
   } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T09:02:14.833

通常当发生异常时，我们将其包装在用户定义的异常上并抛出。

同样，当 finally 发生异常时，您需要抛出自己的异常。

尝试 {

```
 Statement stmt = conect.getConnection();
  stmt.executeUpdate(query);
}
catch(SQLException e)
{ 
  //handle exception 
   throw MyOwnException(e,"My message");
}
finally
{
  try{ stmt.close(); } 
  catch(SQLException ignore)
  {
      throw MyOwnException(ignore,"My message");
  }
} 
```

# actionscript-3 - 如何在 ActionScript 3 中覆盖常量

> ID：12740700
> 
> 赞同：2
> 
> 时间：2012-10-05T06:28:11.357
> 
> 标签：actionscript-3, flash, apache-flex

我有以下两个课程：

```
public class Parent{
    static internal const _name:String = "Parent";

    public function get name():String{
        return _name;
    }
}

public class Child{
    static internal const _name:String = "Child";
} 
```

如果我创建一个 Child 类的实例并调用它的 name() getter，因为它将调用它从 Parent 继承的 name() 方法，所以它返回“Parent”。当然，我可以覆盖 name() 方法：

```
public class Child{
    static internal const _name:String = "Child";

    override public function get name():String{
        return _name;
    }
} 
```

这将返回“孩子”。但是，必须从父级复制完全相同的方法代码似乎很愚蠢。有没有更简单的方法来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T10:52:30.743

为什么不将这样的常量存储在相应的函数中，而不是声明一个不可访问的常量？

```
class Parent {
    ...
    public function get name():String { return 'Parent'; }
}
class Child extends Parent {
    ...
    override public function get name():String { return 'Child'; }
} 
```

顺便说一句，如果您的 Parent 类是 DisplayObject 的后代，您应该小心使用 name 属性，因为有时操作代码需要它，例如`getChildByName()`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T08:05:12.133

首先，您不能覆盖静态方法或属性 - 它们不是继承的，因此不能覆盖它们。

其次，如果您将常量声明为复杂类型，则它并不是真正的常量。即如果它是一个对象，那么你可以改变它的键/值，如果它是一个数组，你可以添加/删除成员等等。

但是让这个功能更通用的愿望是可以理解的。所以，我会做什么：

在父母和孩子之外都有一些财产，比如说在 class`X`或 package `Y`。让它成为包`Y`。所以，你会在 package 中创建一个字典`Y`，让它成为`Y.names`你的名字 getter，你会这样做：

```
import Y.names;
. . .
public function get name() {
    return names[(this as Object).constructor];
} 
```

你的名字变量是：

```
package Y {

    public var names:Dictionary = generateNames();

    internal function generateNames():Dictionary {
        var result:Dictionary = new Dictionary();
        result[ChildClass] = "child";
        result[ParentClass] = "parent";
        . . .
        return result;
    }
} 
```

这样，只在超类中实现name getter就足够了，所有继承类都可以按原样使用超类代码，无需更改任何内容。但是，这意味着与该类有关的一些（可能很重要）信息将存储在其他地方（可能很难找到，这不是人们在 AS3 中编程的常见方式）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T06:56:23.673

您的 get name 实现应该如下所示，然后 getter 是一个，并且每个新类都**需要**定义自己的**public static var** _name：

```
//in the base class
    public function get name():String 
    {
        var _sName:String;
        if ((this as Object).constructor._name)
        {
            _sName = (this as Object).constructor._name; 
        }
        else
        {
            try
            {
                var o:Object = getSuperClass(this);
                while (o)
                {
                    if (o._name)
                    {
                        _sName = o._name;
                        break;
                    }
                    o =  getSuperClass(o);
                }
            }
            catch (e:*)
            {}
        }
        return _sName;
    }
//as found here: http://www.actionscriptdeveloper.co.uk/getting-the-class-of-an-object-in-as3/
public static function getSuperClass(o: Object): Object
{
    var n: String = getQualifiedSuperclassName(o);
    if (n == null)
        return(null);

    return getDefinitionByName(n);
} 
```

静态成员只能通过我们可以从构造函数对象获取的类引用来访问，“this”将指向继承链中的当前类，因此您可以在父类中调用 this，它将指向子类中的子类.

**[编辑]** 我已经对其进行了修改，因此如果在“this”实例上找不到公共静态属性_name，它会测试是否存在，然后在循环中检查父类，直到找到一个——比如继承:)

我正在使用此功能创建克隆方法：[构造函数作为克隆方法实现中的助手](http://greladesign.com/blog/2012/08/29/constructor-as-helper-in-clone-method-implementation/)

此致

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-05T06:39:37.383

我将采用不同的方法，将“名称”属性作为父构造函数的要求：

```
public class Parent
{
    static internal var _name : String;

    public function Parent(name : String = "Parent") {
        _name = name;
    }

    public function get name() : String {
        return _name;
    }
} 
```

儿童班：

```
public class Child extends Parent
{   
    public function Child() {
        super("Child");
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-05T07:50:12.097

我发现了一些似乎有效的东西。非常感谢任何反馈：

```
public class Parent{
    prototype._name = "Parent";

    public function get name():String{
        return this["_name"];
    }
}

public class Child{
    prototype._name = "Child";
} 
```

# android - 如何从 ArrayList 中删除特定数据 在安卓中

> ID：12740701
> 
> 赞同：4
> 
> 时间：2012-10-05T06:28:21.590
> 
> 标签：android, arrays, list, android-layout, arraylist

我有一个数组列表，其中包含一些值，例如 2、3、4、5、6。现在如何检查该值是否存在并要删除该特定值。请帮我这样做。tnx 提前。

我试过了 ，

```
ArrayList<Integer> Positions=new ArrayList<Integer>();
Positions.remove(6); 
```

但它显示一个错误。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-05T06:32:59.750

`Positions.remove(6);`从特定位置删除项目。

因此，首先您必须使用 for 循环比较 arraylist 中的项目并获取该项目的位置并调用`Positions.remove(that Item Position in ArrayList).`

试试这个代码。

```
ArrayList<Integer> positions = new ArrayList<Integer>();
positions.add(3); // add some sample values
positions.add(6); // add some sample values
positions.add(1); // add some sample values
positions.add(2); // add some sample values
positions.add(6);

for(int i=0;i<positions.size();i++)
{
    if(positions.get(i) == 6)
    {
        positions.remove(i);
    }
}

Log.i("========== After Remove ",":: "+positions.toString()); 
```

**输出：I/==========删除后（309）：:: [3, 1, 2]**

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-05T06:34:50.437

尝试这个：

```
ArrayList<Integer> positions = new ArrayList<Integer>();
positions.add(3); // add some sample values
positions.add(6); // add some sample values
positions.add(1); // add some sample values
positions.add(2); // add some sample values
int index = positions.indexOf(6); // finds the index of the first occurrence of 6
if (index >= 0) { // if not found, index will be -1
    positions.remove(index); // removes this occurrence
} 
```

# google-maps - 下拉菜单不适用于 chrome、IE 并且仅适用于 Firefox

> ID：12740702
> 
> 赞同：0
> 
> 时间：2012-10-05T06:28:23.980
> 
> 标签：google-maps, google-chrome, drop-down-menu

我使用 GMap 上的下拉列表来选择所需的区域。它仅适用于 Firefox，在其他浏览器中，当我选择区域时它什么也不做。这是我的代码：

```
 $.getJSON("sample2.php", {}, function(data){
          $.each(data.places2, function(i, item){

                // $("#markers1").append('<li><a href="#" rel="' + i + '">' + item.title2 +              '</a></li>');
        $("#markers").append('<option value="' + i+ '">' + item.title2 +'</option>');
        latlngbounds2.extend(new google.maps.LatLng(item.lat2, item.lng2));
        map.setCenter( latlngbounds2.getCenter(), map.fitBounds(latlngbounds2));
        var marker2 = new google.maps.Marker({
            position: new google.maps.LatLng(item.lat2, item.lng2),
            title: item.title2
            // map: map
        });
        arrMarkers2[i] = marker2;
        var infowindow2 = new google.maps.InfoWindow({
            content: "<h3>"+ item.title2 +"</h3>" +"<p>"
        });
        arrInfoWindows2[i] = infowindow2;
    });
});
 }
  $(function  (){

mapInit();

   // $('#markers option').click(function() {
     $("#markers option").live("click", function (){
    var i = $(this).attr("value");
    // Эта строка кода, закрывает все открытые балуны, для открытия выбранного
    for(x=0; x < arrInfoWindows2.length; x++){ arrInfoWindows2[x].close(); }
    //arrInfoWindows2[i].open(map, arrMarkers2[i]);
    map.setZoom(12);
    map.setCenter(arrMarkers2[i].getPosition());
    //  alert(arrMarkers2[i]);
    console.info(arrMarkers2[i]['title']);

});
}); 
```

这是 HTML 代码：

```
 <div name="cont" id="container" >
     <select id="markers">
     <option>Select Region</option>
     </select>
      </div> 
```

有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T10:02:31.383

您是否尝试`change`在下拉菜单中使用而不是`click`在选项中使用？

```
$("#markers").change(function() {
    var i = $(this).val();

    for (x=0; x < arrInfoWindows2.length; x++) {
        arrInfoWindows2[x].close();
    }

    map.setZoom(12);
    map.setCenter(arrMarkers2[i].getPosition());
    console.info(arrMarkers2[i]['title']);
}); 
```

# vb.net - OLE：由于其保护级别而无法访问。

> ID：12740703
> 
> 赞同：3
> 
> 时间：2012-10-05T06:28:27.117
> 
> 标签：vb.net, visual-studio-2010, ole

我正在尝试使用 VB 在 excel 表中绘制图表。

所以现在我按照 [这里给出的说明](http://support.microsoft.com/kb/142387)

1-我在VS2010中开始了一个新的VB项目，叫做Excelgraph。

2- 默认情况下，我得到了 Form1.vb[Design]。

3- 在这个表单上，我通过从工具箱中拖动它来创建一个按钮。

4-我双击它并打开新的 Form1.vb。

5-我删除了该文件中自动生成的所有内容，即 Form1.vb 文件并粘贴了以下代码：

**更新代码**

这是另一个代码，是最新的，与 Visual Basic 6.0 兼容。

```
 Public Class Form1

  Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As 
  System.EventArgs) Handles Button1.Click

    Dim oXL As Object        ' Excel application
    Dim oBook As Object      ' Excel workbook
    Dim oSheet As Object     ' Excel Worksheet
    Dim oChart As Object     ' Excel Chart

    Dim iRow As Integer      ' Index variable for the current Row
    Dim iCol As Integer      ' Index variable for the current Row

    Const cNumCols = 10      ' Number of points in each Series
    Const cNumRows = 2       ' Number of Series

    ReDim aTemp(0 To cNumRows, 0 To cNumCols)

    'Start Excel and create a new workbook
    oXL = CreateObject("Excel.application")
    oBook = oXL.Workbooks.Add
    oSheet = oBook.Worksheets.Item(1)

    ' Insert Random data into Cells for the two Series:
    Randomize(Now().ToOADate())
    For iRow = 1 To cNumRows
        For iCol = 1 To cNumCols
            aTemp(iRow, iCol) = Int(Rnd() * 50) + 1
        Next iCol
    Next iRow
    oSheet.Range("A1").Resize(cNumRows, cNumCols).Value = aTemp

    'Add a chart object to the first worksheet
    oChart = oSheet.ChartObjects.Add(50, 40, 300, 200).Chart
    oChart.SetSourceData(Source:=oSheet.Range("A1").Resize(cNumRows, cNumCols))

    ' Make Excel Visible:
    oXL.Visible = True

    oXL.UserControl = True

    End Sub

End Class 
```

**更新**

我更新了如上所示的代码。

**错误**

```
 'aTemp' is not declared. It may be inaccessible due to its protection level.    
     c:\users\ybf4 \documents\visual studio 2010\Projects\Excelgraph2
     \Excelgraph2\Form1.vb 
```

我设法消除了另外两个错误。如何消除此错误？

我在 Visual Studio 2010 上编译上述代码，Office 是 Office 2007。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T00:53:39.487

一个简单、琐碎的程序揭示了我所怀疑的错误——你不能改变不存在的东西的大小！

正如 Derek 所说，您需要将 ReDim 更改为 Dim - 或者您需要先声明它。

**失败：**

```
Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click
    Const cNumCols = 10      ' Number of points in each Series
    Const cNumRows = 2       ' Number of Series

    ReDim aTemp(0 To cNumRows, 0 To cNumCols)
End Sub 
```

**通过：**

```
Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click
    Const cNumCols = 10      ' Number of points in each Series
    Const cNumRows = 2       ' Number of Series
    Dim aTemp

    ReDim aTemp(0 To cNumRows, 0 To cNumCols)
End Sub 
```

**通过：**

```
Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click
    Const cNumCols = 10      ' Number of points in each Series
    Const cNumRows = 2       ' Number of Series

    Dim aTemp(0 To cNumRows, 0 To cNumCols)
End Sub 
```

将鼠标悬停在 aTemp 上应该会告诉您这一点 - 它也应该用蓝色波浪线加下划线以指示问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T00:27:40.300

It's been a long time since I did this, but just looking at the code I suspect you need to change:

```
ReDim aTemp(0 To cNumRows, 0 To cNumCols) 
```

To:

```
Dim aTemp(0 To cNumRows, 0 To cNumCols) 
```

ReDim is used to re-dimension an array after it has been dimensioned (using the Dim statement)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T07:04:24.123

那是非常古老的代码（它用于 VB3，因此比第一个 VB.Net 和 Excel 5 早了 4 代）

但是，如果您只是注释掉指示的两行，我相信您的代码应该可以正常运行。

添加到工作表中的条目的随机性可能会有所不同，但是由于无论如何您都将替换该代码（在哪里`Rnd()`使用），所以这无关紧要。（我假设您的目的不是生成随机图）

至于`DoEvents`，我不确定这是否有必要。

# ruby - NET:HTTP 标头红宝石宝石

> ID：12740705
> 
> 赞同：1
> 
> 时间：2012-10-05T06:28:29.490
> 
> 标签：ruby, http, header

我正在尝试使用 NET:HTTP gem 将 api-key 添加到客户端的 http 标头，但是当我尝试对其进行测试时，它似乎无法正常工作。基本上服务器需要 http客户端的标头或具有 http_x_api 标头的任何内容以便为请求提供服务。

服务器代码

```
 require 'sinatra'

   before do
     halt 400 if (env['API_KEY']) != 'wow'
  end

   get '/' do
     "boo"
   end 
```

客户端代码

```
 require 'net/http'
    require 'uri'

    port = ENV['PORT'] || '7474'

    res = Net::HTTP.start('localhost', port )  { |h| h.get('/')} 
    res.add_field('api-key', 'wow')
    res.each_header do |key, value|
      p "#{key} => #{value}"
    end        
    puts (res.code == '200' && res.body == 'boo') ? 'OK' : 'FAIL'

    this the response i get back :=>

   "x-frame-options => sameorigin"
   "x-xss-protection => 1; mode=block"
   "content-type => text/html;charset=utf-8"
   "content-length => 0"
   "connection => keep-alive"
   "server => thin 1.5.0 codename Knife"
   "api-key => wow"
    FAIL 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T06:55:41.570

在服务器上，HTTP头变量中`env`的前缀是`HTTP_`，所以你需要检查`env['HTTP_API_KEY']`. 从[文档中](http://rack.rubyforge.org/doc/SPEC.html)：

> `HTTP_`变量：对应于客户端提供的 HTTP 请求标头的变量（即名称以 HTTP_ 开头的变量）。这些变量的存在与否应与请求中相应 HTTP 标头的存在或不存在相对应。

# android - 让相机等到地理标签附加到android中的照片上

> ID：12740709
> 
> 赞同：1
> 
> 时间：2012-10-05T06:28:54.277
> 
> 标签：android, camera, geotagging

如何使相机应用程序等到地理标签使用任何广播接收器附加到照片上？问题是：打开相机应用程序并在相机设置中打开地理标签功能并开始拍照。如果我们连续拍照，有些照片没有附加地理标签。

问题的原因是：android 需要一些时间将地理标签附加到使用相机拍摄的照片上。因为它必须使用一些传感器来识别经纬度位置。如果我们连续拍照，那么android不知道要附加哪个gps位置与哪个照片。

怎么办：首先我们必须知道地理标签是否在相机设置中打开/关闭？接下来我们必须让相机等到地理标签附加到照片上？我们必须通知用户相机是否正在等待？

我正在使用相机意图在我的代码中拍照..所以帮助我如何通过代码解决android中的上述问题？

# html - 如何使用 CSS 覆盖父节点的高度？

> ID：12740711
> 
> 赞同：1
> 
> 时间：2012-10-05T06:29:02.303
> 
> 标签：html, css, chat

我正在编写一个在线聊天小部件，并计划将其设计为 Facebook 的。在我的页面中，底部固定了一个栏，每个聊天室都包含在该栏中。虽然栏的高度是固定的，但聊天室不能将其高度扩展到栏之外。

有什么方法可以做到这一点吗？我使用过 z-index、!important 和溢出，但都失败了。

CSS：

```
#SNbar {    
    background-color: rgba(203, 203, 203, 0.80);
    position: fixed;
    bottom: 0;   
    width: 100%;
    height: 25px;
    z-index: 900;
    overflow: visible;   
}

#chatSessions { 
    position: relative;  
    bottom: 0;    
    float:right;
    z-index: 901;
}

.chatSession {
    /*
    position: fixed;  
    bottom: 0; 
    */ 
    padding: 0 10px 0 0;
    width: 260px;
    float: right;
    z-index: 999;
}

.CStitle {     
    height: 25px;   
    background-color:#3B5998;
    cursor: pointer;
}

.CStitle .titleText{
    text-decoration: none;  
    font-weight:bold;
    color: #FFFFFF;
    text-decoration: none; 
    line-height:2em;
}

.CSbody {
    background-color: #FFFFFF;
    opacity: 1.0;
    display: none;
    height: 0 !important;
}

.opened{
    min-height: 260px !important;
    display: block;
}

.CSMsgContainer {
    overflow-y: scroll;
    height: 210px;
} 
```

HTML：

```
<div id="SNbar">      
    <div id="chatSessions">
        <div class="chatSession" id="Div4">
            <div class="CStitle" onclick="toggleChatSession(this)"><span class="titleText">Title (With Whom)</span> </div>
            <div class="CSbody">
                <div class="CSMsgContainer">
                    <div class="message">b: test1</div>
                    <div class="message">b: this is used to test css</div>
                    <div class="message">a: This may be help</div>
                </div>                  
            </div>
        </div>
        <div class="chatSession" id="Div8">
            <div class="CStitle" onclick="toggleChatSession(this)"><span class="titleText">Title (With Whom)</span></div>
            <div class="CSbody">
                <div class="CSMsgContainer">
                    <div id="Div9" class="message">d: hi C!!</div>
                    <div id="Div10" class="message">c: Hello D~~</div>
                    <div id="Div11" class="message">
                        c: We are the second chat session
                    </div>                  
                 </div>                   
            </div>
        </div>
    </div>       
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T06:49:30.357

内部容器的位置：绝对是您想要的。然后你可以把它放在你想要的任何地方。最好的可能是设置位置：相对于父容器，以便内部容器的位置将以父容器为“基础”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T06:56:10.807

尝试添加这个 #SNbar { height: 25px; 最大高度：25px；}

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T07:01:01.237

如果我没记错的话，当您单击 .CStitle 时，您正在切换 CSbody。因此，为此，您可以设置相对于 chatSession 类和 CSbody 的位置，给出绝对位置。

```
.chatSession {
    position: relative;
    padding: 0 10px 0 0;
    width: 260px;
    float: right;
    z-index: 999;
}

.CStitle {     
    height: 25px;   
    background-color:#3B5998;
    cursor: pointer;
}

.CSbody {
    position:absolute;
    background-color: #FFFFFF;
    opacity: 1.0;
    display: none;
    height: 0;
    bottom:25px;
}

.opened{
    min-height: 260px;
    display: block;
}

.CSMsgContainer {
    overflow-y: scroll;
    height: 210px;
} 
```

希望这可以帮助。

# mysql - 从 MySQL 中的第 n 条记录中选择，依此类推

> ID：12740714
> 
> 赞同：4
> 
> 时间：2012-10-05T06:29:20.000
> 
> 标签：mysql

> **可能重复：**
> [MySQL LIMIT/OFFSET：获取除第一个 X 之外的所有记录](https://stackoverflow.com/questions/5619167/mysql-limit-offset-get-all-records-except-the-first-x)

好的，我确实有这样的 sql 查询

```
SELECT * FROM `profile_registry` LIMIT 3, 100 
```

现在我想要的是从第三行开始获取数据，依此类推。

上面的代码有效，但问题是`LIMIT`可以通过使用一个或两个参数来使用。

唯一一个参数的条件是它只控制返回多少行。

两个参数的条件是第一个参数定义起点，第二个参数定义返回多少条记录。

现在我的问题是我不能将第二个参数设置为只有 100，因为我们不知道将来会有多少记录。我**想要的是返回从某一行开始的所有记录，而不限制要返回的行数**。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-05T06:31:10.840

从[文档](http://dev.mysql.com/doc/refman/5.0/en/select.html)：

> 要检索从某个偏移量到结果集末尾的所有行，您可以为第二个参数使用一些较大的数字。此语句检索从第 96 行到最后一行的所有行：
> 
> ```
> SELECT * FROM tbl LIMIT 95,18446744073709551615; 
> ```

# apache-camel - 使用 smooks 的 EDI 到 xml 转换

> ID：12740720
> 
> 赞同：0
> 
> 时间：2012-10-05T06:30:05.587
> 
> 标签：apache-camel, edi, smooks

我尝试使用实现**org.apache.camel.Processor**接口的**org.milyn.smooks.camel.processor.SmooksProcessor将包含 EDI 消息的文件转换为 xml。**包含该文件的目录设置为骆驼源端点。但是在尝试解析消息时，会发生一些错误并抛出**SmooksException**，如下所示：

 ****> org.milyn.SmooksException：无法过滤源。在 org.milyn.delivery.sax.SmooksSAXFilter.doFilter(SmooksSAXFilter.java:97)[milyn-smooks-core-1.5.1.jar:] 在 org.milyn.delivery.sax.SmooksSAXFilter.doFilter(SmooksSAXFilter.java: 64)[milyn-smooks-core-1.5.1.jar:] 在 org.milyn.Smooks._filter(Smooks.java:526)[milyn-smooks-core-1.5.1.jar:] 在 org.milyn。 Smooks.filterSource(Smooks.java:482)[milyn-smooks-core-1.5.1.jar:] at org.milyn.smooks.camel.processor.SmooksProcessor.process(SmooksProcessor.java:95)[milyn-smooks- camel-1.4.jar:] 在 org.apache.camel.util.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:61)[camel-core-2.10.1.jar:2.10.1] 在 org.apache.camel。 util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:73)[camel-core-2.10.1.jar:2.10.

EDI 消息和 edi-to-xml 配置与 smooks 网站中给出的相同。可能是什么问题？我正在使用 milyn-smooks-camel v1.4 和 milyn-smooks-core v1.5.1。

提前致谢。****

# java - 简单除法

> ID：12740721
> 
> 赞同：0
> 
> 时间：2012-10-05T06:30:14.803
> 
> 标签：java

当我运行这个程序时，它陷入了一个要求我“输入值：”的循环中，并继续在总和中加一。虽然这正是它应该做的，但如果我输入一个可被 6 或 17 整除的数字，则循环不会结束。能解释一下为什么吗？

导入 java.util.Scanner；

```
public class DivisibleBy6or17 {
   public static void main(String[] args){          
   Scanner in = new Scanner(System.in);
   System.out.print("Enter Value: ");
   int one = in.nextInt();
   int sum=0;

   while (one % 6 != 0||one % 17 != 0) {
       System.out.print("Enter Value: ");
       one = in.nextInt();
       sum++;
   }

   System.out.print("Numbers read: " + sum);
   }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:33:20.593

您应该使用“&&”而不是“||”：

```
while (one % 6 != 0 && one % 17 != 0) { 
```

如果数字可被 6 和 17 整除，您的旧条件只会停止循环。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T06:36:50.280

条件有误，正确的条件是：

```
while(!(one % 6 == 0 || one % 17 == 0)) 
```

或者

```
while(one % 6 != 0 && one % 17 != 0) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T06:37:23.910

我认为您将不得不使用`Short-Circuit And`而不是`OR`.

`while (one % 6 != 0 && one % 17 != 0)`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T06:33:36.373

在这个条件下，您使用的是 OR；要离开 while 循环，您必须同时拥有`one % 6 == 0`和`one % 17 == 0`。如果输入 102，则应退出循环。

要修复，请使用`&&`而不是`||`.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-11-14T14:04:29.203

这只是一个建议，但您为什么不尝试创建一个方法来完成您尝试执行的任务，而不是将代码放在 main 方法中。这样做的原因是为了实践可重用性。这就是我的意思：

```
 public static void main(String[] args) {
       //Enter code here
       //Method Calls here
       }
 public someMethod here(arguements if needed)
 {
  //Body here
 } 
```

# .net - 在 asp.net MVC 中发布后维护 URL

> ID：12740722
> 
> 赞同：2
> 
> 时间：2012-10-05T06:30:15.007
> 
> 标签：.net, asp.net-mvc, url, routing, asp.net-mvc-4

对 asp.net mvc 来说相当新我不知道改变某些事情的工作方式。这是其中之一

1.  控制器操作**索引**显示登录页面

2.  Controller Action **Login** with`[HttpPost]`获取模型并验证它

在这种情况下，验证失败 URL 似乎设置为`http://blah_blah/Users/Login`（当请求时会导致 404，因为控制器上没有**登录**操作）

那么创建登录操作是解决问题的唯一方法还是我得到的任何其他解决方案？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-05T11:27:09.287

为什么不能将`Login`动作重命名为`Index`.

```
public ActionResult Index()
{
   return View();
}

[HttpPost]
public ActionResult Index(LoginModel model)
{
   return View();
} 
```

或者

你可以使用`ActionName`属性

```
[HttpPost, ActionName("Index")]
public ActionResult Login(LoginModel model)
{
   return View();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T06:32:41.607

你必须`return View("Index");`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T06:43:06.680

试试这个：

```
return RedirectToAction("Index", "User", new { returnUrl, errorMessage, etc }); 
```

# django - 允许群组创建者/所有者批准/拒绝用户加入群组的请求

> ID：12740723
> 
> 赞同：0
> 
> 时间：2012-10-05T06:30:15.770
> 
> 标签：django, django-models, django-users

我希望能够`Users`请求加入`Group`创建该组的人将被调用`Owner`，并且任何非`Owner`必须请求加入`Owner`的组。可以批准或拒绝用户的`Owner`请求。还可以将`Owner`用户添加到他们的`Group`并且`User`可以批准/拒绝`Owner`的请求。关于如何开始的任何建议？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:21:28.070

我有一个具有相同要求的 django 应用程序。这是我对其建模的方式（当然没有“正确”的方式，这取决于您的应用程序的需求）：

```
class User(models.Model):
    number = models.CharField(max_length=24)
    name = models.CharField(max_length=128, blank=True, null=True)
    email = models.CharField(max_length=64, blank=True, null=True)
    ...

class Group(models.Model):
    name = models.CharField(max_length=128)
    owner = models.ForeignKey(User)   
    members = models.ManyToManyField(User, through='Membership', related_name='members', blank=True, null=True)
    ...

class Membership(models.Model):
    # You can add other statuses depending on your application's needs
    STATUS_SUBSCRIBED = 0
    STATUS_UNSUBSCRIBED = 1
    STATUS_REQUESTED = 2

    STATUS = (
    (STATUS_SUBSCRIBED, 'Joined'),
    (STATUS_UNSUBSCRIBED, 'Unsubscribed'),
    (STATUS_REQUESTED, 'Requested'),
    )

    user = models.ForeignKey(User)
    group = models.ForeignKey(Group)
    status = models.IntegerField(choices=STATUS)

    added = models.DateTimeField(auto_now_add=True)
    last_updated = models.DateTimeField(auto_now=True) 
```

# c# - 从函数返回 var

> ID：12740724
> 
> 赞同：2
> 
> 时间：2012-10-05T06:30:16.217
> 
> 标签：c#, asp.net, linq, var

我从 var 类型的不同表中获取值，我想返回它们。函数的返回类型应该是什么：-

```
 public void getlist()
    {
        try
        {
            using (ShowDataToClientDataContext c = new ShowDataToClientDataContext())
            {
               var recList = (from record in c.GetTable<T_RECORDSHOW>()
                              where record.RecordStatus.Equals(RecordStatus.Active)
                              select new
                              {
                                  Student = (from stu in c.T_STUDENTSHOWs
                                             where stu.Id.Equals(record.StudentId)
                                             select stu.Name).Single().ToString(),
                                  Trade = (from t in c.T_TRADESHOWs
                                           where t.Id.Equals(record.TradeId)
                                           select t.Name).Single().ToString(),
                                  SessionId = (from s in c.T_SESSIONSHOWs
                                               where s.Id.Equals(record.SessionId)
                                               select s.Name).Single().ToString(),
                                  Month = record.Month.ToString(),
                                  Attendance = record.Attendance.ToString(),

                              }).ToList();
               return recList;
            }

        }
        catch
        {

        }
    } 
```

有人帮我吗？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-10-05T06:32:41.543

`var`本身不是一种类型。它只是要求编译器推断局部变量的类型。

现在在您的情况下，类型是 a`List<T>`其中`T`是匿名类型。如果您希望能够在其他代码中使用列表元素中的属性，则需要动态地（ick）这样做或将匿名类型转换为完整的命名类型。匿名类型实际上只设计用于从创建对象的方法中使用。然后，您可以返回 a`List<DenormalizedRecord>`或其他任何内容。

另请注意，如果您只使用连接，您的查询会简单得多：

```
 from record in c.GetTable<T_RECORDSHOW>()
 where record.RecordStatus.Equals(RecordStatus.Active)
 join student in c.T_STUDENTSHOWs on record.StudentId equals student.Id
 join trade in c.T_TRADESHOWs on record.TradeId equals trade.Id
 join session in c.T_SESSIONSHOWs on record.SessionId equals session.Id
 select new DenormalizedRecord {
     Student = student.Name,
     Trade = trade.Name,
     SessionId = session.Name, // Confusing property name, by the way
     Month = record.Month.ToString(), // Why the ToString()?
     Attendance = record.Attendance.ToString() // What the ToString()?
 } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T08:58:42.260

不能从方法返回匿名类型并不完全正确，我并不是说要使用带有反射的棘手的东西。您只需将实例化的负担转移给调用者：

```
IEnumerable<T> getlist<T>(Func<string, string, string, string, string, T> resultor)
{
    try
    {
        using (ShowDataToClientDataContext c = new ShowDataToClientDataContext())
        {
           var recList = (from record in c.GetTable<T_RECORDSHOW>()
                          where record.RecordStatus.Equals(RecordStatus.Active)
                          select resultor
                          (
                              (from stu in c.T_STUDENTSHOWs
                                         where stu.Id.Equals(record.StudentId)
                                         select stu.Name).Single().ToString(),
                              (from t in c.T_TRADESHOWs
                                       where t.Id.Equals(record.TradeId)
                                       select t.Name).Single().ToString(),
                              (from s in c.T_SESSIONSHOWs
                                           where s.Id.Equals(record.SessionId)
                                           select s.Name).Single().ToString(),
                              record.Month.ToString(),
                              record.Attendance.ToString()
                          )).ToList();
           return recList;
        }

    }
    catch
    {

    }
} 
```

类型推断就像一个魅力，所以你可以这样调用你的方法：

```
var list = getlist((st, tr, sid, m, att) => new 
{ 
    Student = st,
    Trade = tr,
    SessionId = sid,
    Month = m,
    Attendance = att 
}); 
```

无需为了输出这些结果而定义任何 DTO 类。

PS：查询本身可能会更好，但我只是在解决您问题中的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T06:32:10.607

您不能从方法返回[匿名类型](http://msdn.microsoft.com/en-us/library/bb397696.aspx)（也许有一些非常技术性的解决方法）。

您可能应该创建一个具有您想要返回的属性的类，然后返回该类的一个对象。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T06:32:34.133

创建一个自定义类。将其用作返回类型

```
select new CustomClass
{
    Propery1 = YourSelectedPropery1
    , Propery2 = YourSelectedPropery2
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-05T07:01:09.897

我注意到您可以使用一些*通用参数*来解决您的问题。

将方法签名更改为：

```
public List<TReturn> getlist<TReturn>() 
```

并将您的更改`ToList<ClassName>()`为`ToList<TReturn>`.

这将使您的方法能够返回任何类型的列表（当然，您的模型支持！）。

# facebook - Facebook 与网站的集成 - 如果用户未授予应用程序权限，则从 Facebook 注销用户

> ID：12740728
> 
> 赞同：2
> 
> 时间：2012-10-05T06:30:23.220
> 
> 标签：facebook

我正在将网站与 facebook 集成。

我有一个特定的要求——如果他/她没有授予我的 facebook 应用程序的权限（首次使用时），用户应该从 facebook 注销。

现在，如果用户拒绝访问我的 facebook 应用程序，我将被重定向到 redirect_uri，但问题是在处理重定向的页面上，我无法从 facebook 注销用户，因为我的应用程序没有执行权限登出。

谁能告诉我我可以尝试的解决方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:54:42.463

> 我有一个特定的要求——如果他/她没有授予我的 facebook 应用程序的权限（首次使用时），用户应该从 facebook 注销。

这是在一个*非常*特殊的环境中（如信息亭应用程序或其他东西）......？

因为否则，如果我在自己的计算机上浏览时随机应用程序让我退出 FB，我会*讨厌*它，只是因为我不想连接到*它们*。

> 现在，如果用户拒绝访问我的 facebook 应用程序，我将被重定向到 redirect_uri，但问题是在处理重定向的页面上，我无法从 facebook 注销用户，因为我的应用程序没有执行权限登出。
> 
> 谁能告诉我我可以尝试的解决方法是什么？

我不知道任何解决方法——要代表用户执行注销，你需要一个有效的访问令牌——没关系，如果你试图在客户端或服务器端进行。

如果不是这样，我访问的*任何*网站都可能让我退出 Facebook，这对用户来说真的很烦人。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-29T10:21:26.280

我们有完全相同的问题。我们开发了一个用于签入和发布高清照片的信息亭应用程序。如果用户不接受我们需要重新加载应用程序的权限，因为我们无法以其他方式注销用户。

我们尝试了不同的方法，但没有一个成功

# assembly - xor 是 ALU 能做的最快的运算吗？

> ID：12740729
> 
> 赞同：1
> 
> 时间：2012-10-05T06:30:28.267
> 
> 标签：assembly, cpu, xor, boolean-logic

`xor`ALU 可以对一个字节进行最快的操作吗？我的教授说这是因为没有比检查两件事是否相同更简单的了。如果操作数不同且相同，`xor`这是返回的正确方法吗？`1``0`

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-05T06:38:35.673

这一切都取决于你的 CPU 是如何工作的。在实践中，现代芯片上的 ALU 操作都是一个时钟周期——但即使是这种说法也过于笼统，因为通常有不止一种方法可以进行算术运算。

SIMD 功能允许您在每个时钟周期处理多个数据，从而提高吞吐量。某些架构上的某些指令（如 x86's [`LEA`](http://en.wikibooks.org/wiki/X86_Assembly/Data_Transfer#Load_Effective_Address)）允许您将多个算术运算组合成一条指令，该指令再次在单个时钟周期内执行，从而在某些方面更快。

在大多数架构上，ALU 不仅返回一个值，它们还修改标志：溢出（进位）、零等。如果其他指令依赖于这些标志，则执行算术运算所需的时间可能会改变，尤其是在有条件的情况下涉及。检查手册。

此外，延迟方面的“快速”与每秒操作方面的“快速”不同。XOR 可能需要一个时钟周期才能在 ALU 中执行，但需要另一个时钟周期，直到结果可用于另一条指令、标志或其他内容。即便如此，乱序执行也可能使结果*看起来*立即可用，但那是因为芯片会在你的指令周围洗牌以保持自己忙碌。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-05T06:32:26.193

实际上 NAND 和 NOR 是最简单的二进制操作，因为它们的 CMOS 实现（粗略地说它们的门数很少）。NOT 当然是最简单的操作，因为它所做的只是反转位。然而，就实际 CPU 而言，即使是加/减操作也可能只需要一个周期。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T06:36:29.833

我怀疑这种论点；ALU 实现了几个操作。首先，它显然取决于实际的 CPU，其次它取决于整个 CPU 架构（Load-store 等）。

然而，我从[Wikipedia](http://en.wikipedia.org/wiki/Exclusive_or#Bitwise_operation)引用了一个似是而非的论点：

> 在某些计算机体系结构上，通过将寄存器与自身进行异或（与自身异或的位始终为零）而不是加载和存储值零，将零存储在寄存器中更有效。

这是因为不需要额外的操作数。

# android - 从Android中的GestureOverlayView清除手势

> ID：12740733
> 
> 赞同：4
> 
> 时间：2012-10-05T06:30:42.440
> 
> 标签：android

我正在使用 GestureOverlayView 绘制任何我已经成功实现的图片，但是当我想绘制另一张图片时，我需要从我的活动中的 GestureOverlayView 中清除上一张。我该怎么做？

请查看我的代码：

```
public class MainActivity extends Activity {

    private Button button_save;
    private Button button_clear;
    private GestureOverlayView gesture;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        setContentView(R.layout.activity_main);

        gesture = (GestureOverlayView) findViewById(R.id.gestures);
        button_save = (Button) findViewById(R.id.save_button);
        button_clear = (Button) findViewById(R.id.clearbtn);
        button_save.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View arg0) {
                try {
                    Bitmap gestureImg = gesture.getGesture().toBitmap(100, 100,
                            8, Color.BLACK);

                    ByteArrayOutputStream bos = new ByteArrayOutputStream();
                    gestureImg.compress(Bitmap.CompressFormat.PNG, 100, bos);
                    byte[] bArray = bos.toByteArray();

                    Intent intent = new Intent(MainActivity.this,
                            Activity2.class);

                    intent.putExtra("draw", bArray);
                    startActivity(intent);

                } catch (Exception e) {
                    e.printStackTrace();
                    Toast.makeText(MainActivity.this, "No draw on the string",
                            3000).show();
                }
            }
        });

        button_clear.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {

                **//What to do here to clear my drawn animation**

            }
        });
    } 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-10T11:38:48.340

这两行将从您的活动中清除创建的手势

```
gesture.cancelClearAnimation();
gesture.clear(true); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T06:55:02.610

我以前从未使用过 GestureOverlayView，但我看到它的方式有两种可能性。通过类似这种方法清除 GestureOverlayView：http: [//developer.android.com/reference/android/gesture/GestureOverlayView.html#clear](http://developer.android.com/reference/android/gesture/GestureOverlayView.html#clear(boolean) (boolean )

或者从您的位图中清除已经绘制的图像，这可能是存储图片的位置。在这种情况下，您将希望获得对您的位图的引用并在其上调用 recycle()。

当然，我以前从未使用过这两个类，所以我只是在快速谷歌上猜测。

# regex - 使用正则表达式进行 grails 验证

> ID：12740734
> 
> 赞同：0
> 
> 时间：2012-10-05T06:30:44.547
> 
> 标签：regex, validation, grails

您好我正在尝试在命令对象约束中使用正则表达式验证 mm/dd/yyyy 模式的日期。

正则表达式：

```
^(((0?[1-9]|1[012])/(0?[1-9]|1\d|2[0-8])|(0?[13456789]|1[012])/(29|30)|(0?[13578]|1[02])/31)/(19|[2-9]\d)\d{2}|0?2/29/((19|[2-9]\d)(0[48]|[2468][048]|[13579][26])|(([2468][048]|[3579][26])00)))$ 
```

grails 约束

```
static constraints = {
        date(blank:false)
        date(matches:"^(((0?[1-9]|1[012])/(0?[1-9]|1\d|2[0-8])|(0?[13456789]|1[012])/(29|30)|(0?[13578]|1[02])/31)/(19|[2-9]\d)\d{2}|0?2/29/((19|[2-9]\d)(0[48]|[2468][048]|[13579][26])|(([2468][048]|[3579][26])00)))$")
} 
```

我收到以下错误

```
unexpected char: '\' @ line 61, column 47.
^(((0?[1-9]|1[012])/(0?[1-9]|1\d|2[0-8]) 
```

它不接受 \

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:16:38.157

您需要转义“\”和“$”符号：

```
"^(((0?[1-9]|1[012])/(0?[1-9]|1\\d|2[0-8])|(0?[13456789]|1[012])/(29|30)|(0?[13578]|1[02])/31)/(19|[2-9]\\d)\\d{2}|0?2/29/((19|[2-9]\\d)(0[48]|[2468][048]|[13579][26])|(([2468][048]|[3579][26])00)))\$" 
```

# jquery - 如何在 CKEditor 中添加 IFrame 工具？

> ID：12740735
> 
> 赞同：5
> 
> 时间：2012-10-05T06:30:51.647
> 
> 标签：jquery, ckeditor

我正在自定义 CKEditor 工具栏。我想添加IFrame，怎么做？

我尝试过的代码：

```
CKEDITOR.replace( 'editor1',{
            toolbar :
                [
                    ['SpellChecker','Bold', 'Italic','Underline','Subscript','Superscript'],
                    ['NumberedList','BulletedList','-','Blockquote','-','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock'],
                    ['Link', 'Unlink','Anchor'] ,['Image','Flash','Table','HorizontalRule','SpecialChar','IFrame'],
                    '/',
                    ['Styles','Format','Font','FontSize' ],
                    ['TextColor','BGColor'],
                    ['Maximize']
                ]
            }); 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-05T09:32:06.383

我在自己的项目中使用 ckeditor，我的配置文件如下所示。我用小写的“f”引用了 IFrame 插件。

```
CKEDITOR.editorConfig = function (config) {

config.toolbar = 'Full';
config.toolbar_Full =
[
    { name: 'document', items: ['Source', '-', 'Save', 'NewPage', 'Preview', 'Print', '-', 'Templates'] },
    { name: 'clipboard', items: ['Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Undo', 'Redo'] },
    { name: 'editing', items: ['Find', 'Replace', '-', 'SelectAll', '-', 'SpellChecker', 'Scayt'] },
    { name: 'forms', items: ['Form', 'Checkbox', 'Radio', 'TextField', 'Textarea', 'Select', 'Button', 'ImageButton',
        'HiddenField']
    },
    '/',
    { name: 'basicstyles', items: ['Bold', 'Italic', 'Underline', 'Strike', 'Subscript', 'Superscript', '-', 'RemoveFormat'] },
    { name: 'paragraph', items: ['NumberedList', 'BulletedList', '-', 'Outdent', 'Indent', '-', 'Blockquote', 'CreateDiv',
    '-', 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock', '-', 'BidiLtr', 'BidiRtl']
    },
    { name: 'links', items: ['Link', 'Unlink', 'Anchor'] },
    { name: 'insert', items: ['Image', 'Flash', 'Table', 'HorizontalRule', 'Smiley', 'SpecialChar', 'PageBreak', 'Iframe'] },
    '/',
    { name: 'styles', items: ['Styles', 'Format', 'Font', 'FontSize'] },
    { name: 'colors', items: ['TextColor', 'BGColor'] },
    { name: 'tools', items: ['Maximize', 'ShowBlocks', '-', 'About'] }
];
}; 
```

# android - Android：我可以在 AsyncTask 中使用通用返回类型吗 - doInBackGround

> ID：12740736
> 
> 赞同：2
> 
> 时间：2012-10-05T06:30:59.260
> 
> 标签：android, generics, android-asynctask

我的 AsyncTask 调用 Web 服务并在 POJO 中获取结果。现在 POJO 是不同的类型。& AsyncTask 只有一个。那么我可以有通用返回类型吗

```
protected T <T> doInBackground(Class<T> ... classTypes) {
 //Code to call webservice & get pojo
 return calssType.cast(pojoObject)
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T06:43:09.567

已尝试将返回类型设置为`Object`，那么您应该可以将其转换为您想要的任何类型。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T06:46:44.693

创建一个类似 POJOClass 的基类，它可以通过所需的类进行扩展，在异步类中进行类型转换。

```
yourTask extends AsyncTask<Object, Void, POJOClassObject> {

private ModelObject doInBackground(Object... params){... return POJOClassObject}

protected void onPostExecute(POJOClassObject object) {

//type cast here
} 
```

# asp.net - 为什么带有自动回发功能的 asp.net 下拉菜单不保留我选择的值

> ID：12740738
> 
> 赞同：1
> 
> 时间：2012-10-05T06:31:12.497
> 
> 标签：asp.net

正如这里所说的[ASP.NET Response.Redirect(Request.RawUrl) 不起作用](https://stackoverflow.com/questions/12737240/asp-net-response-redirectrequest-rawurl-doesnt-work/12737254#12737254)我确实将 autopostback = true 放在下拉列表中以重新加载我的页面。

但在重新加载后，它也会将所选项目重置为第一个。

那么如何在重新加载页面之前保留我以前的值呢？我认为自动回发会做这项工作吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-05T06:35:52.603

确保您没有在回发时重新填充下拉列表。

```
protected void Page_Load(object sender, EventArgs e)
{
    PopulateDropDownList();
} 
```

将导致它每次都被重置。而是尝试：

```
protected void Page_Load(object sender, EventArgs e)
{
    if (!IsPostBack)
    {
        PopulateDropDownList();
    }
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-07-14T11:22:32.760

这是一个非常古老的问题，但我仍然想为可能引用此页面的其他人回答：

当下拉列表的值中有非唯一字符串时，您将始终指向相同值的第一项。

例如 ：

文本=“xyz”值=“0”

文本=“xyz1”值=“0”

文本=“xyz2”值=“0”

文本=“abc”值=“1”

当您选择 xyz 或 xyz1 或 xyz2 时，回发后，它会返回到第一个项目，其中文本为 xyz。如果你保持独特的价值观，你将不会面临这个问题。我浪费了我的时间，终于用这个技巧解决了它。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-05T06:44:14.260

1.  确保该`Enable.ViewState`属性设置为 true。

2.  正如 cptSup 所建议的那样......确保您没有在页面上填充/绑定下拉菜单并`IsPostback`检查

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-05-29T06:44:21.133

还要确保您没有在 System.Web.UI.Page.Init 方法中检查 DropDownList.SelectedValue。由于 ASP.NET 页面生命周期，SelectedValue 在 System.Web.UI.Page.Load 方法之前将不可用。至少这是我的经验，刚刚在 ASP.NET 4.0 中。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2018-05-18T05:46:23.290

只需添加 GMaster9 的答案，就我而言，我必须输入 text = value。简单地使值唯一，例如 1, 2, 3 ... 并没有帮助。因此 ：

文本 = “xyz” 值 =“xyz”

文本 = “xyz1” 值 =“xyz1”

文本=“xyz2”值=“xyz2”

# java - 嵌入式 Jetty 服务器挂起

> ID：12740741
> 
> 赞同：1
> 
> 时间：2012-10-05T06:31:36.223
> 
> 标签：java, servlets, jetty, deadlock

我试图在我的程序中嵌入一个码头服务器，它似乎在每个线程到达服务器一个请求后挂起。我写的测试用例代码是：

```
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.io.PrintWriter;
import java.util.Date;
import java.util.concurrent.atomic.AtomicLong;

import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.StatusLine;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.DefaultHttpClient;
import org.mortbay.jetty.Server;
import org.mortbay.jetty.servlet.Context;
import org.mortbay.jetty.servlet.ServletHolder;
import org.mortbay.thread.QueuedThreadPool;

public class EmbeddedJetty
{
    public static void initServer(int port) throws Exception
    {
        final AtomicLong counter = new AtomicLong();
        final Server server = new Server(port);
        server.setThreadPool(new QueuedThreadPool(3));
        Context context = new Context(server, "/", Context.SESSIONS);
        context.addServlet(new ServletHolder(new HttpServlet()
        {
            @Override
            protected void doGet(HttpServletRequest req, 
                                 HttpServletResponse resp) 
                throws ServletException, IOException
            {
                PrintWriter writer = resp.getWriter();
                String msg = "Served page #" + counter.incrementAndGet() + 
                        " at " + new Date();
                writer.print(msg);
                writer.close();
                System.out.println("[Server] " + msg);

            }
        }), "/*");
        server.start();
        System.out.println("[Server] Started Jetty server");
    }

    public static void initClient(final int port)
    {
        new Thread()
        {
            public void run()
            {
                String urlString = "http://localhost:" + port + "/myBT";
                while (true)
                {
                    try
                    {
                        System.out.println("[Client] Sending request to " + 
                                 urlString);
                        HttpClient httpclient = new DefaultHttpClient();
                        HttpGet httpget = new HttpGet(urlString);
                        HttpResponse response = httpclient.execute(httpget);
                        StatusLine statusLine = response.getStatusLine();

                        System.out.println("[Client] Got response [" +
                                response.getProtocolVersion() + "] [" +
                                statusLine.getStatusCode() + "] [" +
                                statusLine.getReasonPhrase() + "]");
                        HttpEntity entity = response.getEntity();
                        if (entity != null)
                        {
                            entity.consumeContent();
                        }
                    }
                    catch (Exception ex)
                    {
                        ex.printStackTrace();
                    }
                }
            }
        }.start();
    }

    public static void main(String[] args) throws Exception
    {
        int port = 8090;
        initServer(port);
        initClient(port);
    }
} 
```

这个程序的输出是：

```
$ java -cp build/libs/sqlcache.jar EmbeddedJetty
2012-10-04 23:24:30.797:INFO::Logging to STDERR via org.mortbay.log.StdErrLog
2012-10-04 23:24:30.842:INFO::jetty-6.1.x
2012-10-04 23:24:30.945:INFO::Started SocketConnector@0.0.0.0:8090
[Server] Started Jetty server
[Client] Sending request to http://localhost:8090/myBT
[Server] Served page #1 at Thu Oct 04 23:24:31 PDT 2012
[Client] Got response [HTTP/1.1] [200] [OK]
[Client] Sending request to http://localhost:8090/myBT
[Server] Served page #2 at Thu Oct 04 23:24:31 PDT 2012
[Client] Got response [HTTP/1.1] [200] [OK]
[Client] Sending request to http://localhost:8090/myBT 
```

然后它挂起。

线程转储看起来像：

```
Full thread dump Java HotSpot(TM) 64-Bit Server VM (20.10-b01-428 mixed mode):

"454514340@qtp-703447155-2" prio=5 tid=1029f2000 nid=0x10aa38000 runnable [10aa37000]
   java.lang.Thread.State: RUNNABLE
    at java.net.SocketInputStream.socketRead0(Native Method)
    at java.net.SocketInputStream.read(SocketInputStream.java:129)
    at org.mortbay.io.ByteArrayBuffer.readFrom(ByteArrayBuffer.java:382)
    at org.mortbay.io.bio.StreamEndPoint.fill(StreamEndPoint.java:114)
    at org.mortbay.jetty.bio.SocketConnector$Connection.fill(SocketConnector.java:198)
    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:290)
    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
    at org.mortbay.jetty.bio.SocketConnector$Connection.run(SocketConnector.java:228)
    at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)

"DestroyJavaVM" prio=5 tid=102928000 nid=0x100501000 waiting on condition [00000000]
   java.lang.Thread.State: RUNNABLE

"Thread-5" prio=5 tid=1029d5800 nid=0x10a935000 runnable [10a934000]
   java.lang.Thread.State: RUNNABLE
    at java.net.SocketInputStream.socketRead0(Native Method)
    at java.net.SocketInputStream.read(SocketInputStream.java:129)
    at org.apache.http.impl.io.AbstractSessionInputBuffer.fillBuffer(AbstractSessionInputBuffer.java:130)
    at org.apache.http.impl.io.SocketInputBuffer.fillBuffer(SocketInputBuffer.java:127)
    at org.apache.http.impl.io.AbstractSessionInputBuffer.readLine(AbstractSessionInputBuffer.java:233)
    at org.apache.http.impl.conn.DefaultResponseParser.parseHead(DefaultResponseParser.java:98)
    at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:210)
    at org.apache.http.impl.AbstractHttpClientConnection.receiveResponseHeader(AbstractHttpClientConnection.java:271)
    at org.apache.http.impl.conn.DefaultClientConnection.receiveResponseHeader(DefaultClientConnection.java:233)
    at org.apache.http.impl.conn.AbstractClientConnAdapter.receiveResponseHeader(AbstractClientConnAdapter.java:209)
    at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:292)
    at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:126)
    at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:483)
    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:641)
    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:576)
    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:554)
    at EmbeddedJetty$2.run(EmbeddedJetty.java:67)

"Timer-0" daemon prio=5 tid=101b8f800 nid=0x10a820000 in Object.wait() [10a81f000]
   java.lang.Thread.State: TIMED_WAITING (on object monitor)
    at java.lang.Object.wait(Native Method)
    - waiting on <7f42b20d0> (a java.util.TaskQueue)
    at java.util.TimerThread.mainLoop(Timer.java:509)
    - locked <7f42b20d0> (a java.util.TaskQueue)
    at java.util.TimerThread.run(Timer.java:462)

"Poller SunPKCS11-Darwin" daemon prio=1 tid=10286e800 nid=0x10a71d000 waiting on condition [10a71c000]
   java.lang.Thread.State: TIMED_WAITING (sleeping)
    at java.lang.Thread.sleep(Native Method)
    at sun.security.pkcs11.SunPKCS11$TokenPoller.run(SunPKCS11.java:692)
    at java.lang.Thread.run(Thread.java:680)

"1753620260@qtp-703447155-1 - Acceptor0 SocketConnector@0.0.0.0:8090" prio=5 tid=1019af800 nid=0x10a5ec000 runnable [10a5eb000]
   java.lang.Thread.State: RUNNABLE
    at java.net.PlainSocketImpl.socketAccept(Native Method)
    at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:408)
    - locked <7f42b2238> (a java.net.SocksSocketImpl)
    at java.net.ServerSocket.implAccept(ServerSocket.java:462)
    at java.net.ServerSocket.accept(ServerSocket.java:430)
    at org.mortbay.jetty.bio.SocketConnector.accept(SocketConnector.java:99)
    at org.mortbay.jetty.AbstractConnector$Acceptor.run(AbstractConnector.java:708)
    at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)

"1169804875@qtp-703447155-0" prio=5 tid=101a12000 nid=0x10a4e9000 runnable [10a4e8000]
   java.lang.Thread.State: RUNNABLE
    at java.net.SocketInputStream.socketRead0(Native Method)
    at java.net.SocketInputStream.read(SocketInputStream.java:129)
    at org.mortbay.io.ByteArrayBuffer.readFrom(ByteArrayBuffer.java:382)
    at org.mortbay.io.bio.StreamEndPoint.fill(StreamEndPoint.java:114)
    at org.mortbay.jetty.bio.SocketConnector$Connection.fill(SocketConnector.java:198)
    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:290)
    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
    at org.mortbay.jetty.bio.SocketConnector$Connection.run(SocketConnector.java:228)
    at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)

"Low Memory Detector" daemon prio=5 tid=1018a8000 nid=0x10a013000 runnable [00000000]
   java.lang.Thread.State: RUNNABLE

"C2 CompilerThread1" daemon prio=9 tid=1018a7000 nid=0x109f10000 waiting on condition [00000000]
   java.lang.Thread.State: RUNNABLE

"C2 CompilerThread0" daemon prio=9 tid=1018a6800 nid=0x109e0d000 waiting on condition [00000000]
   java.lang.Thread.State: RUNNABLE

"Signal Dispatcher" daemon prio=9 tid=1018a5800 nid=0x109d0a000 waiting on condition [00000000]
   java.lang.Thread.State: RUNNABLE

"Surrogate Locker Thread (Concurrent GC)" daemon prio=5 tid=1018a4800 nid=0x109c07000 waiting on condition [00000000]
   java.lang.Thread.State: RUNNABLE

"Finalizer" daemon prio=8 tid=10189c000 nid=0x1098ea000 in Object.wait() [1098e9000]
   java.lang.Thread.State: WAITING (on object monitor)
    at java.lang.Object.wait(Native Method)
    - waiting on <7f42c92e0> (a java.lang.ref.ReferenceQueue$Lock)
    at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:118)
    - locked <7f42c92e0> (a java.lang.ref.ReferenceQueue$Lock)
    at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:134)
    at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:159)

"Reference Handler" daemon prio=10 tid=10189b000 nid=0x1097e7000 in Object.wait() [1097e6000]
   java.lang.Thread.State: WAITING (on object monitor)
    at java.lang.Object.wait(Native Method)
    - waiting on <7f42b02a8> (a java.lang.ref.Reference$Lock)
    at java.lang.Object.wait(Object.java:485)
    at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:116)
    - locked <7f42b02a8> (a java.lang.ref.Reference$Lock)

"VM Thread" prio=9 tid=101896800 nid=0x1096e4000 runnable 

"Gang worker#0 (Parallel GC Threads)" prio=9 tid=101802800 nid=0x102201000 runnable 

"Gang worker#1 (Parallel GC Threads)" prio=9 tid=101803000 nid=0x102304000 runnable 

"Concurrent Mark-Sweep GC Thread" prio=9 tid=10184d800 nid=0x1093f0000 runnable 
"VM Periodic Task Thread" prio=10 tid=1018b9800 nid=0x10a116000 waiting on condition 

"Exception Catcher Thread" prio=10 tid=101801800 nid=0x1017fa000 runnable 
JNI global references: 1726

Heap
 par new generation   total 19136K, used 3756K [7f3000000, 7f44c0000, 7f44c0000)
  eden space 17024K,   9% used [7f3000000, 7f319b348, 7f40a0000)
  from space 2112K, 100% used [7f42b0000, 7f44c0000, 7f44c0000)
  to   space 2112K,   0% used [7f40a0000, 7f40a0000, 7f42b0000)
 concurrent mark-sweep generation total 63872K, used 350K [7f44c0000, 7f8320000, 7fae00000)
 concurrent-mark-sweep perm gen total 21248K, used 9994K [7fae00000, 7fc2c0000, 800000000) 
```

我正在使用[Jetty 6.1.26](http://mvnrepository.com/artifact/org.mortbay.jetty/jetty/6.1.26)。

是什么导致服务器挂起？

**编辑**：添加超时，如：

```
 SocketConnector connector = new SocketConnector();
    connector.setMaxIdleTime(1000);
    connector.setSoLingerTime(-1);
    connector.setPort(port);
    server.setConnectors(new Connector[] { connector }); 
```

似乎解决了这个问题，但我想首先了解出了什么问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T08:41:41.530

一方面：您不需要新的 HttpClient，您可以重用它。我怀疑你的问题是底层连接没有关闭/释放（cf. `"Thread-5" prio=5 tid=1029d5800 nid=0x10a935000 runnable [10a934000]`）

干杯，

# php - $facebook->api('/me') 不提供用户数据

> ID：12740742
> 
> 赞同：1
> 
> 时间：2012-10-05T06:31:39.077
> 
> 标签：php, facebook

```
require_once($_SERVER['DOCUMENT_ROOT'] . '/facebook-php-sdk/facebook.php');

$facebook = new Facebook(array(
  'appId'  => FB_MAIN_APP_API_ID,
  'secret' => FB_MAIN_APP_SECRET
));

// Get User ID
$user = $facebook->getUser();

if ($user) {
  try {
    // Proceed knowing you have a logged in user who's authenticated.
    $user_profile = $facebook->api('/me');
  }catch (FacebookApiException $e) {
    error_log($e);
    $user = null;
  }
} 
```

以上是我用来获取我的应用程序的 Facebook 详细信息的代码。在我的本地主机中，这工作正常，它提供了我的 Facebook 电子邮件、用户 ID。将其上传到实时服务器后，此功能无法正常工作，并且没有提供我的 Facebook 详细信息。我检查了 Facebook 应用程序 ID，它是正确的。

我无法弄清楚为什么它不能在实时站点中工作，因为它在我的本地主机中工作。请帮我解决一下这个。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:02:03.253

Have you checked you have the correct URL in the configuration of your app in Facebook?

I have this piece of code to my FB apps and work properly, could you try it?

```
$session = $this->facebook->getUser();
if ($session) {
    $logoutUrl = $this->facebook->getLogoutUrl();
    try {
        $data['uid'] = $this->facebook->getUser();
        $me = $this->facebook->api($session);
        $data['me'] = $me;
    } catch (FacebookApiException $e) {
        error_log($e);
    }
} else {
    $loginUrl = $this->facebook->getLoginUrl(
        array(
            'scope' => 'publish_stream, user_about_me, email',
            'redirect_uri' => 'YOUR URL',
            'canvas' => 1,
            'fbconnect' => 0,
            'display' => 'page',
        ));

}

if (!$session) {
    echo "<script type='text/javascript'>top.location.href = '$loginUrl';</script>";
    exit;
}

$this->load->view('MY VIEW', $data); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:55:15.833

要获取用户ID，用户需要授予权限

```
$user_id = $facebook->getUser();
 echo $uid;

if($user_id){
  try {
    $user_profile = $facebook->api('/me');

  } catch (FacebookApiException $e) {
    error_log($e);
    $user_id = null;
  }
}else{
    $login_url = $facebook->getLoginUrl();
    echo("<br>login url=".$login_url);
}; 
```

在用户授予权限后检查 login_url，您可以访问用户 id。

尝试这个

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T06:49:56.783

我认为问题出在您在服务器上使用的应用程序中。因此，请尝试使用与您的 localhost 相同的应用程序，并在 login 和 logout url 而不是 localhost use 中使用`$_SERVER['HTTP_HOST']`。

例子 ：

```
$session->fb_logout = $facebook->getLogoutUrl(array('next' => "http://" . $_SERVER['HTTP_HOST'] . "/path/to/logout")); 
```

首先检查`$user_profile = $facebook->api('/me');`显示的内容。只是`print_r`变量`$user_profile`。

前任 ：

```
 $user_profile = $facebook->api('/me');
    print_r($user_profile);
    exit; 
```

如果它显示为空白，那么它肯定会进入 catch 块。然后在 catch 块中写入以下内容。

```
 print_r($e);
    exit; 
```

# c++ - 基于像素和基于帧的方法之间的区别

> ID：12740746
> 
> 赞同：1
> 
> 时间：2012-10-05T06:31:48.220
> 
> 标签：c++, opencv, frame, pixel, gaussian

我正在使用 OpenCV 处理视频帧。我的问题可能是低级的，但我想先澄清一下。

openCV 中有很多基于像素的方法，但我可以将它们更改为基于帧的方法吗？

对我来说，它是相似的，因为整个帧也存储在一个矩阵中，我会从头到尾读取那个矩阵来处理它。因此，例如要找到平均值，我唯一应该改变的是找到一帧的整个像素的总平均值。

但是对于一个像素，查看几帧并根据它们确定该像素的平均值。但是当谈到构建像 GMM 这样的模型时，我无法区分它。

有人可以帮忙解释清楚吗？

我可以使用或更改 openCV 的 GMM 以供全球使用吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-05T07:18:12.790

我认为这是对问题的一个很好的定义，尽管您正在使用像素。

*   **基于像素的方法**：生成的处理图像中的像素（x，y）信息是对原始图像的像素（x，y）应用变换的结果。

*   **基于区域的方法**：将原始图像中的像素分组形成一个连续的区域，并将变换应用于整个区域。示例：生成的像素 (x,y) 是原始像素 (x,y) 周围的补丁的平均值。

# linux - 将 windowsforms 项目从 Visual Studio 迁移到 Linux 上的 monodevelop，没有错误。为什么应用程序运行很慢？

> ID：12740748
> 
> 赞同：0
> 
> 时间：2012-10-05T06:31:49.017
> 
> 标签：linux, winforms, mono, monodevelop, winforms-interop

我将一个 windowsforms 项目从 Visual Studio 迁移到 linux 上的 monodevelop。我内置了 monodevelop，我没有收到任何错误，但我的应用程序运行速度非常慢。请任何人帮助我，我需要为我的 windowsforms 做任何代码更改。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T09:42:25.877

您必须在 Mono 上分析您的应用程序， http: [//mono-project.com/Profiler](http://mono-project.com/Profiler)，因为它应该是特定于应用程序的。分析结果应该可以帮助您更好地了解原因。

Mono 与 .NET 不同，因此在某些极端情况下，您的应用程序可能会崩溃或运行缓慢。您将不得不更深入地潜水才能找到罪魁祸首。

# oracle - Oracle，从多行的子查询中插入多行

> ID：12740749
> 
> 赞同：3
> 
> 时间：2012-10-05T06:31:49.297
> 
> 标签：oracle, select, insert, row, multirow

我试图将一些字段从一个表复制到另一个，我想通过使用带有这样的子查询的插入来做到这一点：

```
insert into sed_reporte_generico 
(srg_usuario, 
srg_nombres,
srg_ape_paterno,
srg_ape_materno,
srg_objetivo,
srg_peso_ob,
srg_calf_ob)
values
(
(select us.su_st_usuario, us.su_st_nombres, us.su_st_ap_paterno, us.su_st_ap_materno,     ob.soc_st_descripcion, ob.soc_nr_peso,ob.soc_nr_calificacion 
from sed_objetivo ob, sed_usuarios us, sed_evaluacion ev 
where ob.se_evaluacion_pk = ev.se_evaluacion_pk and ev.su_colaborador_fk =     us.su_usuarios_pk)
); 
```

但我收到了这个错误：

```
01427\. 00000 - “单行子查询返回多于一行”

```

知道我该怎么做吗？

谢谢，

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-05T06:35:50.903

认为你必须在两者之间做出选择

```
insert into table (a, b, c) VALUES(1, 2, 3) 
```

和

```
insert into table (a, b, c) 
(SELECT x, y, z from table2) 
```

当您的选择查询仅返回一列和一行时，您可以仅混合 VALUES 和 SELECT（如异常马所指）！

顺便说一句，使用 JOIN... 加入你的表（使用 WHERE 子句加入表是一个坏习惯）：

```
INSERT INTO sed_reporte_generico 
(srg_usuario, 
srg_nombres,
srg_ape_paterno,
srg_ape_materno,
srg_objetivo,
srg_peso_ob,
srg_calf_ob)

(select us.su_st_usuario, us.su_st_nombres, us.su_st_ap_paterno, us.su_st_ap_materno,     ob.soc_st_descripcion, ob.soc_nr_peso,ob.soc_nr_calificacion 
FROM sed_objetivo ob 
JOIN sed_evaluacion ev  ON ob.se_evaluacion_pk = ev.se_evaluacion_pk
JOIN sed_usuarios us on  ev.su_colaborador_fk =     us.su_usuarios_pk)
); 
```

# java - 使用循环语句将两个数相除

> ID：12740750
> 
> 赞同：3
> 
> 时间：2012-10-05T06:31:53.893
> 
> 标签：java, division

嗨，我正在做一个 java 活动，它将在不使用“/”运算符的情况下划分两个给定的数字。我想使用循环语句。

```
System.out.print("Enter Divident: ");
int ans1 = Integer.parseInt(in.readLine());
System.out.print("Enter Divisor: ");
int ans2 = Integer.parseInt(in.readLine()); 
```

输出是：

```
 Enter Dividend: 25
  Enter Divisor 5
  5 
```

不使用这个“ans1/ans2”如何解决这个问题

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-05T06:36:22.837

如果你真的想用循环来除两个数字，你可以写成下面的代码

```
 int c=0;
 while(ans1 >= ans2){
     ans1 -= ans2;
     c++;
 } 
```

循环后`c`等于商并`ans1`等于除法提醒

如果`abs1`和`abs2`是有符号的数字，下面的代码应该适用于除法

```
 boolean n1 = (ans1 & (1<<31))!=0;
 boolean n2 = (ans2 & (1<<31))!=0;
 ans1 = Math.abs(ans1);
 ans2 = Math.abs(ans2);

 int c=0;
 while(ans1 >= ans2){
     ans1 -= ans2;
     c++;
 }
 if(!n1 && n2) c = -c;
 else if(n1 && !n2){
     c = -c;
     if(ans1 > 0){
         ans1 = ans2 - ans1;
         c--;
     }
 }else if(n1 && n2){
     if(ans1 > 0){
         ans1 = ans2 - ans1;
         c++;
     }
 } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T06:37:59.550

使用递归：

```
//  Calculate: a / b
public int divide (int a, int b) {
    if ( a < b ) {
        return 0;
    } else {
        return 1 + divide ( a - b, b );
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T06:33:56.207

如果您真的想在没有*/*运算符的情况下执行此操作，并且我猜测可能不移动任何一个，最简单的循环方法就是计算您需要从 ans1 中减去 ans2 的次数，而余数不低于 ans1。

**伪代码：**

```
numtimes init at 0
counter init at ans1
while counter is greater than ans2
    subtract ans2 from counter
    numtimes increase by 1

check numtimes 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T06:37:44.810

您可以通过以下方式执行此操作：

```
System.out.print("Enter Divident: ");
int ans1 = Integer.parseInt(in.readLine());
System.out.print("Enter Divisor: ");
int ans2 = Integer.parseInt(in.readLine());
int count=0;
while(ans1>=ans2)
{
ans1=ans1-ans2;
count++;
}
System.out.println(count); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-05T06:40:18.967

[从字面上看， BigInteger](http://docs.oracle.com/javase/6/docs/api/java/math/BigInteger.html)在没有`/`运算符的情况下可以做到这一点。

`(new BigInteger(ans1 + "")).divide(new BigInteger(ans2 + ""))`

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-10-05T06:44:59.047

像下面的东西？

```
int i=1;
        int mul;
        while(true)
        {
            mul = i++;
            if(mul*(ans2)==ans1)
            {
                System.out.println(mul);
                break;
            }
            else if(mul*(ans2)>ans1)
            {
                System.out.println("Cannot be divided");
                break;
            }
        } 
```

# installation - 使用 NSIS 的类似 Google 的在线安装程序和更新程序

> ID：12740751
> 
> 赞同：0
> 
> 时间：2012-10-05T06:31:57.177
> 
> 标签：installation, nsis, updates, download

我想使用 NSIS 创建类似于 Google 的在线安装程序和更新程序。我应该使用哪些插件？也许有人可以推荐任何现有的解决方案或示例？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:40:42.780

您可以使用[Inetc 插件](http://nsis.sourceforge.net/Inetc_plug-in)下载文件，如果您想在服务器上执行版本检查，它也可以执行 HEAD 请求。其他一切实际上取决于您的特定设置，但创建多阶段在线安装程序/更新程序并不容易；有关您需要考虑/弄清楚的事情的清单，请参阅[此答案...](https://stackoverflow.com/a/12233960/3501)

# android - setOnKeyListener onkey 删除键盘上的更新方法，或如何在 android 中使用按键

> ID：12740766
> 
> 赞同：0
> 
> 时间：2012-10-05T06:32:44.943
> 
> 标签：android, keylistener

我有几个 textEdits 可以从用户那里获取文本，但是我还制作了一个按钮，用于将信息更新到数据库。

我该如何设置，以便用户可以输入一些文本，并且仅在他们按下我为活动制作的“更新”按钮时更新，而不是在使用键盘点击“返回”或“完成”时更新。

我想要做的是删除通过其他方式更新信息的能力，比如键盘上的“下一步”或“返回”按钮。这将是使用页面上定制的更新按钮的唯一方法。

一个建议是消耗按键。通过使用像 consume() 方法。有任何想法吗？

如果这是不可能的，那么我将照原样接受。

下面是editTexts代码之一的示例：

```
 // get the text typed in the description and allow user to edit the text information for title
      titleText.setOnKeyListener(new EditText.OnKeyListener() {
            public boolean onKey(View v, int keyCode, KeyEvent event) {
        //  if ((event.getAction() == KeyEvent.ACTION_DOWN) && (keyCode == KeyEvent.KEYCODE_ENTER)){
                String titleTemp = titleText.getText().toString();
                Intent i = getIntent();
                Bundle extras = i.getExtras();
                String filename2 = extras.getString("filename");
                String selection2 = MediaStore.Images.Media.DATA + "='" + filename +"'";
                ContentValues newValue = new ContentValues();
                newValue.put(MediaStore.Images.Media.TITLE, titleTemp);
                 getContentResolver().update(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, newValue, selection2, null);

                 Toast.makeText(Editor.this, "Updated Title to: " + titleTemp, Toast.LENGTH_SHORT).show();

         return true;
            }
 return false;
            }
        }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T06:48:22.793

发现它完全按照需要正常工作。确实没有太多需要解决这个不同的简单问题。几乎不需要发布原始问题。

```
// get the text typed in the description and allow user to edit the text information for title
       titleText.setOnKeyListener(new EditText.OnKeyListener() {
            public boolean onKey(View v, int keyCode, KeyEvent event) {
                if ((event.getAction() == KeyEvent.ACTION_DOWN) && (keyCode == KeyEvent.KEYCODE_ENTER)){
                    String titleTemp = titleText.getText().toString();
                //  Intent i = getIntent();
                //    Bundle extras = i.getExtras();
                //    String filename2 = extras.getString("filename");
                //    String selection2 = MediaStore.Images.Media.DATA + "='" + filename +"'";
                //  ContentValues newValue = new ContentValues();
                //    newValue.put(MediaStore.Images.Media.TITLE, titleTemp);
                //     getContentResolver().update(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, newValue, selection2, null);

            //       Toast.makeText(Editor.this, "Updated Title to: " + titleTemp, Toast.LENGTH_SHORT).show();
                     return true;
                }
                 return false;
                }
            }); 
```

// 将 clicklistener 添加到前面描述的更新按钮以更新标题和描述编辑文本

```
updateIt.setOnClickListener(new View.OnClickListener() {
            public void onClick(View v) {
                String titleTemp = titleText.getText().toString();
                String commentsTemp = commentsText.getText().toString();
                Intent i = getIntent();
                Bundle extras = i.getExtras();
                String filename3 = extras.getString("filename");
                String selection3 = MediaStore.Images.Media.DATA + "='" + filename3 +"'";
                ContentValues newValue2 = new ContentValues();
                newValue2.put(MediaStore.Images.Media.TITLE, titleTemp);
                newValue2.put(MediaStore.Images.Media.DESCRIPTION, commentsTemp);
                 getContentResolver().update(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, newValue2, selection3, null);
                Toast.makeText(Editor.this, "Updated Title to: " + titleTemp, Toast.LENGTH_SHORT).show();
                 Log.i(getClass().getSimpleName(), "Updated title");
                 //Toast.makeText(Editor.this, titleText.getText(), Toast.LENGTH_SHORT).show();
                 Toast.makeText(Editor.this, "Updated Description to: " + commentsTemp, Toast.LENGTH_SHORT).show();
                 Log.i(getClass().getSimpleName(), "Updated description");

            }
        }); 
```

# ios - 有没有办法处理ios中的内存崩溃

> ID：12740772
> 
> 赞同：0
> 
> 时间：2012-10-05T06:33:03.277
> 
> 标签：ios, memory-leaks, cocos2d-iphone

我已经`-(void) handleMemoryWarning:(NSNotification*)`在我的 AppDelegate 中处理了函数通知，它做得很好。

我花了很多时间来处理程序中的每个内存泄漏。

但是，在收到 2 级或有时 3 级的内存警告后，我仍然会看到一些内存泄漏并最终导致内存崩溃。

有没有办法在我的应用程序因为内存而崩溃之前收集一些数据并将其发送到我的服务器？

我正在使用 Crittercism 来处理其他异常。

请不要在现有代码中提供减少内存的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:11:47.377

使用它来清除内存

```
[[CCDirector sharedDirector] purgeCachedData];
[[CCTextureCache sharedTextureCache] removeAllTextures];
[CCTextureCache purgeSharedTextureCache];
[[CCSpriteFrameCache sharedSpriteFrameCache] removeSpriteFrames];
[CCSpriteFrameCache purgeSharedSpriteFrameCache]; 
```

并且在

```
- (void)applicationDidReceiveMemoryWarning:(UIApplication *)application
{
  //you just save your data.
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:04:45.560

要检查加载的纹理，您可以调用

```
[[CCTextureCache sharedTextureCache] dumpCachedTextureInfo]; 
```

它将打印到控制台所有加载的纹理及其在内存中的大小。为避免所有设备上的内存崩溃，您的应用程序不应使用超过 100 Mb 的内存（我指的是 Retina 设备）。即使这样的数量也会导致内存警告，但不会崩溃。

要检查您的应用程序开始加载资源的位置，您可以使用 Instruments 中的 Activity Monitor。它允许查看您的应用程序使用了多少内存。附加仪器会导致使用内存增加，但是如果您的应用程序在附加活动监视器时会崩溃并且没有它不会崩溃，这意味着您的内存使用量很关键，必须减少。

# clearcase - 如何通过 Windows 命令行更新 clearcase 视图？

> ID：12740779
> 
> 赞同：8
> 
> 时间：2012-10-05T06:33:20.607
> 
> 标签：clearcase

我在 ClearCase 中有一个名为“Dev_view”的视图，并希望通过 Windows 命令行更新该视图。有没有办法做到这一点？

特别是，还有什么其他命令可以触发视图更新？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-05T06:55:08.577

请参阅[cleartool 更新](http://publib.boulder.ibm.com/infocenter/cchelp/v7r0m0/topic/com.ibm.rational.clearcase.cc_ref.doc/topics/ct_update.htm)命令（适用于完整的 ClearCase 客户端，不适用于 CCRC）

```
cd /path/of/your/snapshot/view
cleartool update . 
```

您还可以添加以下选项：

```
-ove/rwrite 
```

> 使用配置规范选择的版本覆盖所有被劫持的文件。

```
-nov/erwrite 
```

> 将所有被劫持的文件及其当前修改保留在视图中。

```
-ren/ame/ 
```

> 将劫持的文件重命名为 filename.keep 并将配置规范选择的 VOB 中的版本复制到视图中。

* * *

请注意，更新 UCM 视图的根目录有副作用：它将根据其关联的 UCM 流重新评估视图的配置规范，并建议更新所述配置规范（并继续更新）。

对于非 UCM 视图，情况并非如此，其中 a[`cleartool setcs`](https://stackoverflow.com/questions/8604869/clearcase-config-spec-behaves-odd-when-using-setcs-command/8604962#8604962)将始终在更改配置规范后触发更新。

# r - 将列表附加到R中的数据框

> ID：12740784
> 
> 赞同：5
> 
> 时间：2012-10-05T06:33:37.003
> 
> 标签：r, list, dataframe, append, rbind

我在 R 中创建了一个包含两列的空数据框：

```
d<-data.frame(id=c(), numobs=c()) 
```

我想将此数据框（在循环中）附加到一个列表中，`d1`该列表具有输出：

```
[1] 1  100 
```

我尝试使用`rbind`：

```
d<-rbind(d, d2) 
```

和`merge`：

```
d<-merge(d, d2) 
```

我什至尝试制作一个列表列表，然后将其转换为数据框，然后为该数据框命名：

```
d<-rbind(dlist1, dlist2)
dframe<-data.frame(d)
names(dframe)<-c("id","numobs") 
```

但是这些似乎都不符合常规检查器的标准（这是针对一个类），这会产生错误：

```
Error: all(names(cc) %in% c("id", "nobs")) is not TRUE 
```

即使它在我的工作区中运行良好。

这是令人沮丧的，因为错误没有揭示错误发生的位置。

任何人都可以帮助我合并 2 个数据框或将数据框附加到列表中吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2017-09-05T14:00:10.710

我认为您混淆了`rbind`and的目的`merge`。`rbind`附加 data.frames 或命名列表，或两者都*垂直*。虽然*水平*`merge`组合 data.frames 。

 *你似乎也被`vector`'s 和`list`'s 弄糊涂了。在 R 中，`list`可以为每个元素采用不同的数据类型，而`vector`所有元素必须具有相同的类型。`list`和都是`vector`一维的。当您使用时，`rbind`您想附加一个*命名* `list`的，**而不是**一个命名/未命名的`vector`。

## 未命名的向量和列表

您定义 a 的方式`vector`是使用`c()`函数。定义*未命名*列表的方式是使用`list()`函数，如下所示：

```
vec1 = c(1, 10)
# > vec1
# [1]  1 10

list1 = list(1, 10)
# > list1
# [[1]]
# [1] 1
# 
# [[2]]
# [1] 10 
```

请注意，两者`vec1`都有`list1`两个元素，但是将这`list1`两个数字存储为两个单独`[[1]]`的向量（元素向量`c(1)`和`[[2]]`向量`c(10)`）

## 命名向量和列表

您还可以创建命名向量和列表。您可以通过以下方式执行此操作：

```
vec2 = c(id = 1, numobs = 10)
# > vec2
# id numobs 
# 1     10

list2 = list(id = 1, numobs = 10)
# > list2
# $id
# [1] 1
# 
# $numobs
# [1] 10 
```

两者的数据结构相同，但元素已命名。

## 数据框作为列表

请注意，每个元素名称前面`list2`都有一个。`$`这可能会为您提供一些线索，即`data.frame`'s 实际上`list`是每列的一个元素`list`，因为`df$column`通常用于从数据框中提取列。这是有道理的，因为`list`' 和`data.frame`' 都可以采用不同的数据类型，不像`vectors`'。

## `rbind`功能_

当您的第一个元素是数据框时，`rbind`要求您附加的内容与数据框的列具有相同的名称。现在，命名`vector`将不起作用，因为 a 的元素`vector`不被视为数据框的列，而`list`如果名称相同，则命名匹配具有列的元素：

展示：

```
d<-data.frame(id=c(), numobs=c())

rbind(d, c(1, 10))
#   X1 X10
# 1  1  10

rbind(d, c(id = 1, numobs = 10))
#   X1 X10
# 1  1  10

rbind(d, list(1, 10))
#   X1 X10
# 1  1  10

rbind(d, list(id = 1, numobs = 10))
#   id numobs
# 1  1     10 
```

知道了以上内容，很明显，您当然也可以`rbind`使用两个列名匹配的数据框：

```
df2 = data.frame(id = 1, numobs = 10)

rbind(d, df2)
#   id numobs
# 1  1     10 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-15T19:17:22.677

对于初学者，例行检查器似乎正在寻找标有“id”和“nobs”的列。如果这与您的文件输出不匹配，您将收到该错误。

我正在上可能是同一类的课程并且有同样的错误；更正我的列名使它消失了（我将第二个标记为“nob”而不是“nobs”！）现在我已经让例行检查器正确完成，或者看起来......但它输出了三个数据文件，第一个和最后一个文件是正确的，但第二个文件产生“对不起，这是不正确的”。没有进一步的反馈。令人抓狂！

在这里发布我的代码毫无意义，因为它在所有课程示例中都可以在本地正常运行，而且当您不知道脚本要求什么时，调试起来有点困难。叹。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T07:25:01.807

该 d2 对象正在打印为原子向量。也许如果您向我们展示 dput(d2) 或 str(d2) 您会对 R 列表有更好的理解。此外，第一位代码也不会产生两列数据帧。

```
> d<-data.frame(id=1, numobs=1)[0, ]             # 2-cl dataframe with 0 rows
> dput(d)
structure(list(id = numeric(0), numobs = numeric(0)), .Names = c("id", 
"numobs"), row.names = integer(0), class = "data.frame")
> d2 <- list(id="fifty three", numobs=6)          # names that match names(d)
> rbind(d,d2)
           id numobs
2 fifty three      6 
```*

# scala - Akka Actor - 等待一段时间等待消息，否则发送消息

> ID：12740792
> 
> 赞同：8
> 
> 时间：2012-10-05T06:34:00.217
> 
> 标签：scala, akka, actor

是否可以`Actor`等待 X 秒来接收任何消息，如果收到消息，则照常处理，否则将消息发送给其他`Actor`人（在构造函数中预先确定）？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-10-05T06:46:29.033

有可能，看看[Akka Actor "ask" 和 "Await" with TimeoutException](https://stackoverflow.com/questions/10095927)。但请记住，在 Actor 内部进行阻塞是一个非常糟糕的主意，因为在此期间 Actor 无法处理任何其他消息。此外，它阻塞了一个 Akka 处理线程。

更好的方法是发送消息（即发即*弃）并使用*[Akka 调度程序](http://doc.akka.io/docs/akka/snapshot/java/scheduler.html)安排一些超时事件。当响应到达时，取消该事件或设置一些标志，以便在响应确实准时到达时不会触发。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-05T21:07:18.357

是的，如果你想等待**任何**消息，你只需设置一个*receiveTimeout*：[http ://doc.akka.io/docs/akka/current/scala/actors.html#receive-timeout](http://doc.akka.io/docs/akka/current/scala/actors.html#receive-timeout)

（这里的文档有点误导，您也可以在每条消息后设置receiveTimeout）

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-10-05T07:25:03.123

可能有点矫枉过正，但您可以查看[有限状态机 (FSM)](http://doc.akka.io/docs/akka/snapshot/scala/fsm.html)特征。

```
import akka._
import actor._
import util._
import duration._
import Impatient._

object Impatient {
  sealed trait State
  case object WaitingForMessage extends State
  case object MessageReceived extends State
  case object TimeoutExpired extends State

  sealed trait Data
  case object Unitialized extends Data

  // In
  case object Message
}

class Impatient(receiver: ActorRef) extends Actor with FSM[State, Data] {
  startWith(WaitingForMessage, Unitialized)

  when(WaitingForMessage, stateTimeout = 3 seconds) {
    case Event(StateTimeout, data) => goto(TimeoutExpired) using data // data is usually modified here
    case Event(Message, data) => goto(MessageReceived) using data // data is usually modified here
  }

  onTransition {
    case WaitingForMessage -> MessageReceived => stateData match {
      case data => log.info("Received message: " + data)
    }
    case WaitingForMessage -> TimeoutExpired => receiver ! TimeoutExpired
  }

  when(MessageReceived) {
    case _ => stay
  }

  when(TimeoutExpired) {
    case _ => stay
  }

  initialize
} 
```

这是在行动：

```
object Main extends App {
  import akka._
  import actor._
  import Impatient._

  val system = ActorSystem("System")

  val receiver = system.actorOf(Props(new Actor with ActorLogging {
    def receive = {
      case TimeoutExpired => log.warning("Timeout expired")
    }
  }))

  val impatient = system.actorOf(Props(new Impatient(receiver)), name = "Impatient")
  impatient ! Message

  val impatient2 = system.actorOf(Props(new Impatient(receiver)), name = "Impatient2")
  Thread.sleep(4000)
  impatient2 ! Message

  system.shutdown()
} 
```

# c++ - C++ 我应该完全限定我的变量类型吗？

> ID：12740795
> 
> 赞同：4
> 
> 时间：2012-10-05T06:34:04.210
> 
> 标签：c++, namespaces, c++98

我正在尝试编写适合最多 80 列的代码行。因此，我想知道完全限定我的变量类型是否真的是强制性的？假设以下实现：

```
//Baz.h
namespace loggingapi {
namespace attributes {
    class Baz {};
}} // namespaces

// Bar.h
namespace loggingapi {
    namespace attributes {
        class Baz; // forward declare Baz.
    }

    class Biz {
        int f(Baz* b);
    };
} // namespaces 
```

要声明我的函数参数类型，有多种方法？

*   一种）`int f(Baz* b);`
*   b) 或`int f(attributes::Baz* b);`
*   c) 或`int f(loggingapi::attributes::Baz* b);`
*   d) 或`int f(::loggingapi::attributes::Baz* b);`

在上面的列表中，哪些定义对编译器来说更清晰/模棱两可？

**注意：您必须假设命名空间/参数/类/函数名称在以下实现中不能缩短。**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T06:42:33.180

变体**e** ?

```
namespace loggingapi {
    namespace attributes {
        class Baz; // forward declare Baz.
    }

    class Biz {
        typedef attributes::Baz Baz;
        // C++ 11 alternative
        // using Baz = attributes::Baz;

        int f(Baz* b);
    }
} // namespaces 
```

不要忘记别名可以为您做什么...

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T06:39:29.253

我会选择**b)**变体。我的理由如下：

*   我们假设开发人员知道他*现在*在哪个名称空间中。因此，在查看 时`class Biz`，开发人员应该知道该类在`loggingapi`名称空间中，因此无需显式声明它。
*   另一方面，a) 变体不够清楚，因为我们应该指出这一点并且**实际上**`Baz`位于`Biz`不同的名称空间中。此外，它**不会 compile**，因为编译器会`Baz`在`loggingapi`命名空间中查找，但它不存在。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T06:42:05.147

你应该选择（b）。它更灵活。如果您决定移动或（喘气）剪切和粘贴`f`，并且它的相关类型到新的命名空间或项目，那么使用 (b) 可确保声明的结构保持内部一致。

您可以选择添加、删除或重命名外部包装命名空间，而不会影响封闭的代码。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-05T06:45:07.100

在 h 文件中最好使用完全限定名称，以防止客户端代码中可能出现的歧义。在 .cpp 文件中，您可以使用短符号，如果您愿意，只要没有名称冲突。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-05T06:41:48.973

如果编译器有一些歧义，它肯定会报告错误。

我认为这个问题应该是关于人类读者的，这是相当主观的。
命名约定取决于

1.  预先确定的编码风格
2.  你在哪里声明函数`f()`

没有明确的选择。我希望，如果两个实体都属于同一个实体，`namespace`那么我将至少从名称中省略该部分：

```
namespace loggingapi {
    namespace attributes {
        class Baz; // forward declare Baz.
    }

    class Biz {
        int f(attribute::Baz* b);
    };      // ^^^^^^^^^^^^^
} 
```

# c# - 如何解决此错误：索引超出了数组的范围

> ID：12740798
> 
> 赞同：-4
> 
> 时间：2012-10-05T06:34:24.180
> 
> 标签：c#

我使用 List 来存储值，如果数据有限，它可以正常工作，如果数据超过 15o 的计数，那么我收到以下错误 Index was outside the bounds of the array ...Plz建议一个想法克服这个问题。

```
List<string> code = new List<string>();
private void btn_browse_Click(object sender, EventArgs e)
{
    DialogResult fileopen = openFileDialog1.ShowDialog();
    string filename = openFileDialog1.FileName;           
    txt_filename.Text = filename;
    try
    {
        StreamReader readtxtfile = new StreamReader(filename);
        String line = null;

        string str = null;
        char[] separate = { ',' };
        string[] words;
        while ((str = readtxtfile.ReadLine()) != null)
        {
            words = str.Split(separate);                        
            code.Add(Convert.ToString(words[0]) + '-' + Convert.ToString(words[2]).Trim());  
        }                    
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T07:29:41.220

此错误不是因为您的列表，而是来自您的数组“单词”。首先像这样检查数组的长度

```
 words = str.Split(separate);  
 if(words.Length>2) 
 {                     
   code.Add(Convert.ToString(words[0]) + '-' + Convert.ToString(words[2]).Trim());  
 } 
```

确保只要数组的长度小于 2，它就不会添加到您的列表中。

希望这可以帮助...

# ruby-on-rails - 为什么资产：预编译完成后需要资产宝石？

> ID：12740799
> 
> 赞同：1
> 
> 时间：2012-10-05T06:34:26.613
> 
> 标签：ruby-on-rails, ruby-on-rails-3, rake, ruby-on-rails-3.2, therubyracer

鉴于下面的 gemfile，并且资产是手动预编译和上传的，为什么命令

```
rake RAILS_ENV=production db:schema:load 
```

导致红宝石抱怨“资产”中的宝石没有安装？我认为资产仅用于生产或未完成预编译的地方？

问题是 ruby​​racer，这似乎是 less/sass 所需的，不能在目标架构（arm 处理器）上编译

```
# gemfile
source 'https://rubygems.org'

gem 'rails', '>= 3.2.8'
gem 'bcrypt-ruby', '>= 3.0.1'
gem 'faker', '1.0.1'
gem 'uuidtools'
gem 'simple_form', '>= 2.0.0'
gem 'devise'
gem 'pg', '>= 0.12.2'
gem 'json'
gem 'jquery-rails'

group :development, :test do
  gem 'sqlite3', '>= 1.3.5'
  gem 'rspec-rails', '>= 2.11.0'
  gem 'annotate'
end

# Gems used only for assets and not required
# in production environments by default.

group :assets do
  gem 'coffee-rails', '>= 3.2.2'
  gem 'uglifier', '>= 1.2.3'
  gem 'therubyracer'
  gem 'sass-rails'
  gem 'less-rails'
  gem 'less-rails-bootstrap'
  gem 'will_paginate'
  gem 'bootstrap-will_paginate'
  gem 'less-rails-fontawesome'
end

group :test do
   gem 'capybara', '>= 1.1.2'
   gem 'rb-fchange'
   gem 'rb-notifu'
   gem 'factory_girl_rails'
   gem 'database_cleaner'
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T08:41:29.190

试试这个，gem 'therubyracer' 写出资产。

```
group :production do
 gem 'therubyracer'
end 
```

然后捆绑安装

# asp.net - 重定向到 IIS 7 中的 Dll

> ID：12740805
> 
> 赞同：0
> 
> 时间：2012-10-05T06:34:50.753
> 
> 标签：asp.net, iis

我是 IIS 7 和 Asp.net 的新手。我正在尝试在 IIS 7 中设置网站。在其中一个 aspx 页面中，存在以下代码

```
function TestControl(){
var bIError = true;
try{
  var obj = document.getElementById("testObj");
  if (obj.Loaded == true)
  {
    bIError = false;
  } 
```

并且对应的html元素定义如下。

```
<object id="testObj" name="ViewerObj" classid="Viewer.dll#ViewImage.ImageViewer"  width="100%" height="95%" VIEWASTEXT> 
```

我有那个 .dll 文件，而 ViewImage 是那个 viewer.dll 中的一个名称空间。但是当我尝试浏览时，我收到以下错误 IIS 错误

> 您要查找的资源有问题，因此无法显示。模块 IsapiModule 通知 ExecuteRequestHandler 处理程序 Isapi 错误代码 0x8007007f

我怎样才能解决这个问题 ？？如何在 IIS 7 中处理对 dll 的请求？

# itext - 如何使用 iText 创建启用 XFA 的可编辑 PDF

> ID：12740807
> 
> 赞同：2
> 
> 时间：2012-10-05T06:34:51.580
> 
> 标签：itext

我们需要创建可编辑的 PDF（不是使用 Adob​​e Live 循环或 Acrobat），我们创建了 Acroform（可编辑 PDF）并尝试保存填写的表单。但 Adob​​e Reader 中禁用了“保存”选项。有什么方法可以在不使用 Acrobat/Adobe LC 的情况下在 acroform 中启用保存选项？如果不可能，我们能否在不使用 Adob​​e LC 的情况下创建 XFA？最后，我们可以使用 Javascript 或任何其他方式在本地机器中保存/发布 acroform 的 xml 数据吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:52:30.373

您说*“保存选项已禁用”*，这是完全正常的。

第三方（不是 Adob​​e 的公司）创建在 Adob​​e Reader 中启用的文档是非法的，因为 Reader 启用涉及使用 Adob​​e 拥有的私钥进行加密。请参阅[http://support.itextpdf.com/node/24](http://support.itextpdf.com/node/24)

# django - 无法启动 Django 项目：没有名为 django.core 的模块

> ID：12740821
> 
> 赞同：0
> 
> 时间：2012-10-05T06:36:07.427
> 
> 标签：django, linux, django-admin

我最近在 Linux 机器上安装了 Python 2.7 和 django 1.4.1。我以为安装成功了，但是，当我尝试运行 command:`django-admin.py startproject newproject`时，我收到以下消息：

```
andrew@server [~/django]# django-admin.py startproject newproject
Traceback (most recent call last):
  File "/usr/local/bin/django-admin.py", line 2, in ?
    from django.core import management
ImportError: No module named django.core 
```

我发现了一些类似的问题，但似乎没有一个可以解决问题。当我通过 shell 打开 python 时`import django`，它可以工作，所以我不知道该怎么做。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T13:07:37.233

我有同样的问题..

我所做的第一个更改是设置一个别名，以便使用 python 2.5。第二个是将 /Library/Python/2.5/site-packages 移动到 PYTHONPATH 的开头。我通过在我的 .profile 中添加两行来进行这些更改：

导出 PYTHONPATH="/Library/Python/2.5/site-packages:$PYTHONPATH" 别名 python=python2.5

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T15:22:59.523

我建议从 Python 提示符发出以下命令：

```
import site
print site.getsitepackages()[1] 
```

这将为您提供站点包所在的路径。这个目录将是我假设你的 django 安装已经被放置的第一个地方。或者，您可以在命令提示符处发出以下命令：

```
ls `python -c "import site; print site.getsitepackages()[1]"` 
```

如果在上面的目录中没有找到你的 django 安装，你可以：

1.  重新安装 django 并确保它在你期望的地方结束
2.  继续搜索 Python 使用的路径

如果您决定继续搜索您的安装，您可以检查`sys.paths`并查看路径列表以确定 django 是否安装在这些路径之一中。

Lastly, you could have potentially installed django in your "user" site-packages. This would be done by including `--user` when you ran setup.py. If you did this you can find your user site-packages issuing the following from a Python prompt:

```
import site
print site.getusersitepackages() 
```

# node.js - 使用单个图像读取/流进行多次调整大小

> ID：12740826
> 
> 赞同：1
> 
> 时间：2012-10-05T06:36:29.973
> 
> 标签：node.js, imagemagick, graphicsmagick

我正在编写一个脚本，该脚本获取图像并创建多个不同大小的变体（基本上像 imgur）。现在，我在 node.js 中使用[https://github.com/aheckmann/gm对每个变体执行以下操作：](https://github.com/aheckmann/gm)

```
function(file, size, newfile, callback) {
  gm(file)
    .noProfile()
    .quality(80)
    .resize(size, size)
    .write(newfile, callback)
} 
```

1.  我假设每次调整图像大小时，graphicsmagick 都会从磁盘读取图像并将其加载到内存中。它是否正确？如果是这样，我怎样才能只从磁盘读取一次？
2.  我可以从流中读取文件，然后在单个流上运行多个调整大小吗？我对流的了解不够，当我最后一次尝试这样做时，我感到沮丧，放弃并删除了那部分代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T11:00:21.327

这里有两个*命令行*示例如何使用 ImageMagick 进行操作。

他们使用`mpr:`ImageMagick 支持的语法，该语法告诉 ImageMagick 将输入图像临时保存到一个命名的*内存程序寄存器*中，稍后（在处理时）从中读取数据的速度比从硬盘读取数据的速度要快得多。

*   [**使用 ImageMagick 分割图像**](https://stackoverflow.com/a/11940078/359307)
*   [**使用 ImageMagick 高效生成缩略图并进行转换**](https://stackoverflow.com/a/12688856/359307)

您应该很容易将这些命令行转换为[node.js](/questions/tagged/node.js "显示标记为“node.js”的问题")用语。

# mobile - 如何在手机浏览器中使用 jqgrid

> ID：12740827
> 
> 赞同：0
> 
> 时间：2012-10-05T06:36:33.127
> 
> 标签：mobile, jqgrid

我们正在开发将 Web 应用程序转换为移动应用程序的应用程序。我需要使用 jqgrid 在视图页面中显示数据。它显示了列宽大小的一些问题。我们试图在 css 中调整它的大小，但列大小和列标题大小不匹配。有没有人知道如何在移动设备中使用 jqgrid 或任何其他好的移动设备替代方案？这是我们尝试过的代码：

```
 jQuery(document).ready(function (){ 
        jQuery("#customerList").jqGrid({ 
            url:"${customerListUrl}", 
            datatype: "json", 
            colNames:['<fmt:message key="active"/>','<fmt:message key="group"/>','<fmt:message key="name"/>', '<fmt:message key="customer.code"/>','<fmt:message 

key="email"/>','<fmt:message key="organisation"/>','<fmt:message key="distribution.channel"/>','<fmt:message key="salesoffice"/>','<fmt:message key="unit"/>'], 
            colModel:[  
                    {name:'active',index:'active', width:0,formatter:'checkbox',stype:'select', sortable:false,searchoptions:{sopt:['eq']},editoptions:

{value:"true:Yes;false:No"}},
                    {name:'group',index:'group', width:0, align:"left", sortable:false,stype:'select',searchoptions:{sopt:['eq']},editoptions:{value:":All;DE:Channel 

sales;DC:Direct consumer"}},
                   {name:'name',index:'name', width:0, align:"left", sortable:false,searchoptions:{sopt:['cn']}}, 
                   {name:'code',index:'code', width:0, align:"left", sortable:false,searchoptions:{sopt:['cn']}},
                   {name:'email',index:'email', width:0, align:"left", sortable:false,search:false,editable:true,editoptions:{size:60},formoptions:{ rowpos:1, label: "Email", 

elmprefix:"(*)"},editrules:{required:true,email:true}},
                   {name:'org',index:'org', width:0, align:"left", sortable:false,searchoptions:{searchhidden:true,sopt:['eq']}},
                   {name:'channel',index:'channel', width:0, align:"left", sortable:false,searchoptions:{searchhidden:true,sopt:['eq']}},
                   {name:'salesOffice',index:'salesOffice', width:0, align:"left", sortable:false,searchoptions:{searchhidden:true,sopt:['eq']}},
                   {name:'unit',index:'unit', width:0, align:"left", sortable:false,searchoptions:{searchhidden:true,sopt:['eq']}}
                   ],
            rowNum:15, 
            autowidth: true, 
            rowList:[15,30],
            pager: jQuery('#customerpager'), 
            sortname: 'name', 
            viewrecords: true, 
            sortorder: "asc",
            height: 300,
            caption:'<fmt:message key="customer"/>',
            loadError : function(xhr, st, str){
                    $('#griderrdialog').dialog('open');
                }
        }); 

        jQuery("#customerList").jqGrid('hideCol',["org","channel","salesOffice","unit","active","group"]); 

        jQuery("#customerList").jqGrid('navGrid','#customerpager',
                {
                    edit:false,add:false,del:false,search:true,refresh:true
                },
                {}, // edit options
                {}, // add options
                {}, //del options
                {multipleSearch:true,closeAfterSearch:true} // search options
            ).navButtonAdd("#customerpager",{ caption:"", buttonicon:"ui-icon-document",
                            onClickButton: function(row_id){ 

                                      var id = jQuery("#customerList").jqGrid('getGridParam','selrow'); 
                                       if (id) { 
                                        var ret = jQuery("#customerList").jqGrid('getRowData',id); 

                                         formObject = document.f1;

                                         jQuery("#detail").val(id);
                                         formObject.submit();
                                       } else { 
                                           $('#rownotseldialog').dialog('open');
                                       }
                            }, 
                            position:"first", title:'${actionheader}'
             });
        jQuery("#customerList").jqGrid('navButtonAdd','#customerpager',{ 
                        caption: "", 
                        title: "Reorder Columns", 
                        onClickButton : function (){ 
                                        jQuery("#customerList").jqGrid('columnChooser'); 
                                        } 
        }); 
    }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:12:58.247

目前 jqGrid 中仅对 jQuery Mobile 提供有限支持。[从 jQuery Mobile的线程](http://www.trirand.com/blog/?page_id=393/feature-request/add-support-for-jq-mobile/)支持中可以看出，jqGrid 很快就会实现。[请在此处](http://www.trirand.com/blog/jqgrid/mobile/)查看 trirand 的相应演示。

# jquery-mobile - 部分脚本未在 ASP.net MVC4 剃须刀中呈现

> ID：12740832
> 
> 赞同：13
> 
> 时间：2012-10-05T06:36:51.810
> 
> 标签：jquery-mobile, razor, asp.net-mvc-4

我正在使用 VSRC 在 ASP.net MVC4 razor 中开发 JQuery 移动应用程序，在 cshtml 页面部分脚本编写如下。

```
@section Scripts
 {
  <script type="text/javascript">
     $(document).ready(function () {
        jQuery("#register-form").validationEngine();
  });
 </script>
} 
```

在 layout.cshtml 我有...

```
"@RenderSection("Scripts", false)". 
```

它适用于初始页面（首先呈现的页面），但是当它通过“ActionLink”链接到其他页面时，在这些页面中编写的部分脚本不起作用。

有任何想法吗？

请帮忙，谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-02T16:46:02.113

按照 Erick Bacallao 的说法，我将建议您执行以下操作：

避免使用 URL.Content() 加载 .min.js 或 .js 文件。Scripts.Render() 在每个场景中选择正确的文件（Debug 中的 .js 和 Release 中的 .min.js）。

修改后的 _Layout.cshtml 如下所示：

```
 @Scripts.Render("~/bundles/jquery")
    <script type="text/javascript">
        $(document).bind("mobileinit", function () {
            $.mobile.ajaxEnabled = false;
        });
    </script>
    @Scripts.Render("~/bundles/jquerymobile")
    @RenderSection("scripts", required: false) 
```

注意：禁用 jQuery MObile AJAX（就像这样）是一个补丁......不是一个完整的解决方案！用户体验下降了很多。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T05:21:09.073

我有同样的问题。为了解决这个问题，我只是避免使用“脚本”部分。

从每个页面中删除`@section Scripts{`并将您的 js 代码放在页面末尾。

对于您的示例，请确保移至_Layout.cshtml`@Scripts.Render("~/bundles/jquery", "~/bundles/jquerymobile")`中的前`</head>`一行。这将保证 jquery 在到达时被加载`$(document).ready(function () {...`

================================================

解释为什么会发生和其他解决方案。[http://lextell.com/blog/2012/10/23/script-section-is-not-rendered-in-asp-net-mvc-4-jquery-mobile-when-navigate-to-another-page- 2/](http://lextell.com/blog/2012/10/23/script-section-is-not-rendered-in-asp-net-mvc-4-jquery-mobile-when-navigate-to-another-page-2/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-04T11:51:42.273

这不是由ajax回发引起的吗？

我认为正在发生的事情是 dom 在 Ajaxified 区域中发生了变化，并且由于 document.ready 仅在页面加载时运行一次，因此 DOM 没有将事件重新绑定到它。

要使其正常工作，您需要在部分更新后重新启动 DOM 与事件的绑定。

从历史上看，这一直是 ASP.Net updatepanels 和 docuemt.ready 的问题，解决它的方法是将代码放入 pageLoad() 中，而不是因为每次回发都会调用它。

不确定这是否适用于 MVC。

查看更多信息[http://www.dotnet-tricks.com/Tutorial/aspnet/D719120612-Difference-between-document.ready-and-window.onload-or-pageLoad.html](http://www.dotnet-tricks.com/Tutorial/aspnet/D719120612-Difference-between-document.ready-and-window.onload-or-pageLoad.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-09-07T11:05:07.180

我真的不知道为什么，也没有时间弄清楚，但今天早上我遇到了同样的问题。当它被放置在 cshtml 视图页面的根目录时，它似乎`@section scripts`不起作用。下面的代码解决了这个问题：

```
@{
    @section scripts {
        @Scripts.Render("~/bundles/jqueryval")
    }
} 
```

# jsf-2 - JSF 多次调用 setter 和 getter

> ID：12740842
> 
> 赞同：3
> 
> 时间：2012-10-05T06:37:19.390
> 
> 标签：jsf-2

我正在使用 JSF 2.0。我不想多次调用 setter 和 getter。你能帮我避免这种情况吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T12:35:01.917

为什么这让你烦恼？这些电话非常便宜。

也许您在 getter/setter 中而不是在（post）构造函数和/或 action（listener）方法中错误地调用了昂贵的业务逻辑？这确实是 JSF 中一个非常常见的初学者错误。只是不要在 getter/setter 中调用业务逻辑。改为在（后）构造函数和/或操作（侦听器）方法中调用业务逻辑。Getter/setter 纯粹是为了获取和设置（已经准备好的）bean 属性。

### 也可以看看：

*   [为什么 JSF 多次调用 getter](https://stackoverflow.com/questions/2090033/why-jsf-calls-getters-multiple-times/2090062#2090062)

# java - 为什么 ConcurrentHashMap 中的 get 方法被阻塞？

> ID：12740844
> 
> 赞同：4
> 
> 时间：2012-10-05T06:37:40.847
> 
> 标签：java, locking, concurrenthashmap

我对 Java 中的 ConcurrentHashMap 有疑问。它在内部调用 readValueUnderLock。为什么在获取操作的情况下需要锁定。在这种情况下，此条件将为真（Entry.value==null），这会导致调用 readValueUnderLock）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T07:07:39.767

来自源代码 java doc 的注释 `readValueUnderLock`

```
 /**
     * Reads value field of an entry under lock. Called if value
     * field ever appears to be null. This is possible only if a
     * compiler happens to reorder a HashEntry initialization with
     * its table assignment, which is legal under memory model
     * but is not known to ever occur.
     */ 
```

从这个[链接](http://old.nabble.com/Numa-and-ReentrantLock-td29549241.html)

> 不完全的。你是对的，它永远不应该被调用。但是，JLS/JMM 可以被解读为并非绝对禁止调用它，因为在构造函数中设置的 final 与 volatile 之间所需的顺序关系存在弱点（键是 final，值是 volatile），线程使用条目对象进行读取. （在 JMM-ese 中，final 的排序约束不属于 synchronizes-with 关系。）这就是文档注释（粘贴在下面）所指的问题。没有人想过处理器/编译器可能会发现任何实际漏洞来产生空值读取，并且可能证明不存在任何漏洞（也许有一天 JLS/JMM 修订版会填补空白以澄清这一点），但是Bill Pugh 曾经建议我们把它放在任何地方，只是为了保守地迂腐正确。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T06:41:54.053

为了从哈希映射中读取值，代码必须首先找到该值。如果另一个线程在第一个线程查找该值时添加了一个值，则它可能会使搜索脱轨。本质上，哈希映射可以执行以下操作：

```
calculate hash
go to location hash in the array
look to see if there's a list
iterate through the list until value is found 
```

如果这个列表是一个数组列表并且另一个线程需要调整它的大小，这对于遍历它的线程来说将是一个大问题。

# html - 带有文本滑块的图像响应式

> ID：12740847
> 
> 赞同：0
> 
> 时间：2012-10-05T06:37:48.100
> 
> 标签：html, response, slide

有谁知道响应式滑块，其中带有文本的图像可以在 jquery 中左右滑动？ ![在此处输入图像描述](../Images/b785fa7061b416c1116af306a1d4757e.png)

我想实现一个滑块，如图所示

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-05T01:52:18.593

[液体滑块](http://liquidslider.kevinbatdorf.com/)可以做到！您只需要确保相应地设置图片和文本的样式即可。

# c++ - QPainter 保存状态

> ID：12740848
> 
> 赞同：1
> 
> 时间：2012-10-05T06:37:56.273
> 
> 标签：c++, linux, qt, qwidget, qpainter

我有一个 QWidget，我在其中使用 QPainter 对象绘制一些点，但是当调用 update() 方法时，QWidget 的绘制被完全清除。有什么方法可以保存实际状态并添加点，或者我必须保存每个点并在每个 paintEvent() 调用中绘制它们？基本上，当我按下箭头时，我必须在 QWidget 上显示一条线（用于汽车拉力赛）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:07:49.583

除了*SingerOfTheFall*的答案之外，您还可以将所有增量更改绘制到图像中，然后仅在每次更新调用中绘制该图像。

对于图像处理，Qt 有一堆类，最重要的是[`QImage`](http://qt-project.org/doc/qt-4.8/qimage.html)and [`QPixmap`](http://qt-project.org/doc/qt-4.8/qpixmap.html)，因为它们都是从 派生的`QPaintDevice`，所以可以直接用`QPainter`. 虽然`QImage`针对直接像素访问和文件 I/O`QPixmap`进行了优化，但针对在屏幕上显示进行了优化。它没有说哪个更适合绘制，但我会先`QPixmap`看看它的表现如何。

您还可以绘制另一个“图像”类，[`QPicture`](http://qt-project.org/doc/qt-4.8/qpicture.html). 但这并不是真正存储渲染结果的图像，而只是记录了使用 完成的绘制命令，`QPainter`以便以后轻松回放。因此，我认为它的性能应该不会比“真实”图像好多少。但这可能值得一试，特别是如果绘图中涉及更多内容并且仅存储最终图像是不够的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T06:46:47.007

`QPainter`根本救*不了*“状态”，因为这不是他的目的。它唯一能做的就是画画。在你告诉它从 [x,y] 到 [x [1] ,y [1] ] 画一条线后，它会画出它，然后“忘记”一切。每个人都`paintEvent()`从头开始绘制小部件。因此，要添加元素，您每次都必须重新绘制现有元素。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-05T00:51:47.777

我解决了我的问题，`QPainterPath`以便我可以将椭圆分组以绘制“动态”线：

```
QPainterPath* p = new QPainterPath(this); //this should be a class attribute to save all points
p->addEllipse(myCustomPoint); //we should add the points dynamically

QPainter painter(this); // On QPainter::paintEvent;
painter.drawPath(p); 
```

# r - to.minutes 使用自定义端点

> ID：12740851
> 
> 赞同：5
> 
> 时间：2012-10-05T06:38:01.543
> 
> 标签：r, time-series, xts

我正在使用从上午 9:50 开始的日内数据，并希望将其转换为 20 分钟的时间间隔，因此第一个时间段将从 09:50 到 10:09:59，第二个时间段将从 10 点开始： 10 到 10:29:59 等。但是`to.minutes()`，从`xts`包裹似乎可以将其固定到小时，并且在 09:59:59 和 10:19:59 等有时间条......即它是 10 分钟......我知道它可能不是一个常规的请求......但是有没有这样做，以便它具有正确的端点，即基于第一个时间戳？

对于奖励积分......有没有办法根据最终时间戳来做到这一点？（即生成从该时间戳向后的周期端点？

这是我关于10分钟后的观点的说明（从我想要的）

```
x <- xts(rnorm(24*60*60), as.POSIXct(format(paste(Sys.Date(),'09:50')))-((24*60*60):1))
head(x)
x1 <- to.minutes(x, 20)
head(x1) 
```

我可以想办法通过使用 splits、cuts、lapplys do.calls 和 rbinds 来纠正这个问题......但我基本上会重新创建一个 OHLC 对象......并且觉得与现有的相比它可能效率低下解决方案...

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-05T11:46:13.773

这是一个有用的技巧，它可能在 xts 文档中更为突出。

从一个`xts`对象开始

```
R> set.seed(42)   ## fix seed
R> X <- xts(cumsum(rnorm(100))+100, order.by=Sys.time()+cumsum(runif(100)))
R> head(X)
                              [,1]
2012-10-05 06:42:20.299761 101.371
2012-10-05 06:42:20.816872 100.806
2012-10-05 06:42:21.668803 101.169
2012-10-05 06:42:22.111599 101.802
2012-10-05 06:42:22.269479 102.207
2012-10-05 06:42:22.711804 102.100 
```

鉴于这个不规则序列，我们希望以我们强加的规则间隔进行子集化。在这里，我创建了一个两秒的间隔。*如果它*与索引的类型相同，则任何其他都可以工作，here `POSIXct`。

```
R> ind <- seq(start(X) - as.numeric(start(X)-round(start(X))) + 1, 
+             end(X), by="2 secs")
R> head(ind)
[1] "2012-10-05 06:42:21 CDT" "2012-10-05 06:42:23 CDT" 
[3] "2012-10-05 06:42:25 CDT" "2012-10-05 06:42:27 CDT" 
[5] "2012-10-05 06:42:29 CDT" "2012-10-05 06:42:31 CDT"
R> 
```

现在的诀窍是将规则序列与不规则序列合并，调用`na.locf()`它以将最后一个好的不规则 obs 调用到新的时间网格上——然后在时间网格上进行子集化：

```
R> na.locf(merge(X, xts(,ind)))[ind]
                           X
2012-10-05 06:42:21 100.8063
2012-10-05 06:42:23 102.1004
2012-10-05 06:42:25 105.4730
2012-10-05 06:42:27 107.2635
2012-10-05 06:42:29 104.9588
2012-10-05 06:42:31 101.7505
2012-10-05 06:42:33 104.6884
2012-10-05 06:42:35 103.6441
2012-10-05 06:42:37 101.6476
2012-10-05 06:42:39  98.6246
2012-10-05 06:42:41  97.9922
2012-10-05 06:42:43  97.7545
2012-10-05 06:42:45 101.0187
2012-10-05 06:42:47  98.0331
2012-10-05 06:42:49 100.7752
2012-10-05 06:42:51 103.0702
2012-10-05 06:42:53 102.6578
2012-10-05 06:42:55 103.1342
2012-10-05 06:42:57 103.4714
2012-10-05 06:42:59 102.3683
2012-10-05 06:43:01 105.0394
2012-10-05 06:43:03 103.9775
R> 
```

瞧。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-07T01:47:33.727

我最近遇到了类似的挑战（在下午 5 点开始之前拆分外汇数据）。从您的测试数据开始：

```
library(xts)
set.seed(42)
x <- xts(rnorm(24*60*60), as.POSIXct(format(paste(Sys.Date(),'09:50')))-((24*60*60):1)) 
```

将其向后移动 10 分钟，进行拆分，然后将拆分数据向前移动 10 分钟：

```
offset <- 600
index(x) <- index(x) - offset
x1 <- to.minutes(x, 20)
index(x1) <- index(x1) + offset 
```

（注意，这会损坏`x`；要么在副本上工作，要么在`index(x) <- index(x) + offset`之后再做）。`x1`好像：

```
 x.Open   x.High     x.Low    x.Close
2012-10-06 10:09:59  1.3709584 3.495304 -3.371739  0.4408241
2012-10-06 10:29:59 -0.7465165 3.584659 -2.828475  0.5938161
2012-10-06 10:49:59  1.3275046 3.174520 -3.199558 -0.6273660
...
2012-10-07 09:09:59 -0.83742490 3.103466 -3.251721 -1.093380
2012-10-07 09:29:59 -0.48464537 3.228048 -3.113351 -1.572931
2012-10-07 09:49:59  1.90503697 3.420940 -3.505207  2.832325 
```

神奇的数字 600 出现了，因为您的*最后一次*滴答是距离前 20 分钟边界的 600 秒。以下是您如何动态计算它：

```
offset <- ( as.integer(last(index(x))) %% 1200 ) + 1 
```

`as.integer`将最后一个刻度的时间转换为 secs-since-1970 形式。（`as.numeric`如果您的时间戳中有毫秒，则使用。）`%%1200`向下舍入到 20 分钟边界。最后，这`+1`是因为`to.minutes`将 XX:XX:00 视为一个小节的*开始*，而不是前一个小节的*结束*。

# jquery - 在 Jstree 中使用名称删除复选框

> ID：12740852
> 
> 赞同：0
> 
> 时间：2012-10-05T06:38:17.697
> 
> 标签：jquery, jstree

我正在使用 jstree

```
 <div class="demo jstree jstree-0 jstree-default jstree-focused" id="jstree1">
<ul>
    <li id="4331" class="jstree-closed jstree-last jstree-unchecked">
        <ins class="jstree-icon">&nbsp;</ins>
        <a href="#" class="">
            <ins class="jstree-checkbox" style="display: none;">&nbsp;</ins>
            <ins class="jstree-icon">&nbsp;</ins>
            T-Shirt
        </a>
    </li>
</ul> 
```

树就像

T 恤（根）

-实心三通（儿童）

-图形三通（儿童）

-马球T恤（儿童）

现在我想删除 root 中的复选框`T-shirt`

我可以使用此代码删除复选框

```
(function(){
  j("#jstree1 li ").filter("#4331").each(function() {j("a ins", this).first().hide();});
    setTimeout(arguments.callee, 6);
})(); 
```

但主要问题是我正在使用 id 删除复选框`4331`

每当我向这棵树添加新类别时，所有树的 ID 都会更改

所以它不工作

我想使用名称来执行此代码，`T-Shirt`因此当我添加新类别时它不会给我造成问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-07T22:23:39.003

为什么不使用类来隐藏复选框？

*   将类`"attr":{"rel":"directory"}`（参见下面的示例）添加到您不希望复选框可见的节点。
*   然后使用css`[rel=directory] .jstree-checkbox { display:none }`隐藏复选框

查看我隐藏目录的 jsfiddle。 [http://jsfiddle.net/radek/4fTDq/68/](http://jsfiddle.net/radek/4fTDq/68/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T06:43:04.793

您是否尝试过使用 css 隐藏“可折叠”项目的复选框？

`.jstree-closed a .jstree-checkbox, .jstree-opened a .jstree-checkbox { display: none; }`

# android - 带有电话号码黑名单的 Android 4.0 Telephony API

> ID：12740858
> 
> 赞同：1
> 
> 时间：2012-10-05T06:39:01.440
> 
> 标签：android

由于 android 2.3 谷歌已删除 -

```
<uses-permission android:name="android.permission.MODIFY_PHONE_STATE" /> 
```

[http://code.google.com/p/android/issues/detail?id=54](http://code.google.com/p/android/issues/detail?id=54)

但在 Android 手机 2.3 和最高 4.0 上 - 有一个“将手机添加到阻止列表”的功能。有没有办法以编程方式将电话号码添加到黑名单而不使用拒绝`ITelephony.aidl`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:02:33.970

不幸的是，拒绝来电的唯一方法就是切断它。**并且使用ITelephony.aidl**削减它的唯一方法。

另一种将手机切换到飞行模式并返回的方法。

因此，您可以设计一个带有来电监听器的应用程序。将该来电电话号码与可能的黑名单数据库进行比较，然后对匹配项采取适当的操作。

# c# - windows域中的模拟

> ID：12740869
> 
> 赞同：0
> 
> 时间：2012-10-05T06:39:42.620
> 
> 标签：c#, windows, winforms, dns, impersonation

我正在尝试编写一个模拟控件，我们的员工可以在我们的应用程序中以不同的域用户身份登录，请参见下面的代码（**[MSDN 文章](http://msdn.microsoft.com/de-de/library/vstudio/w070t6ka.aspx)****的几乎完整副本**）：

```
[DllImport("advapi32.dll", SetLastError = true, CharSet = CharSet.Unicode)]
[return: MarshalAs(UnmanagedType.Bool)]
public static extern bool LogonUser(
    [MarshalAs(UnmanagedType.LPStr)]String lpszUsername,
    [MarshalAs(UnmanagedType.LPStr)]String lpszDomain,
    [MarshalAs(UnmanagedType.LPStr)]String lpszPassword,
    int dwLogonType, 
    int dwLogonProvider, 
    out SafeTokenHandle phToken);

public void LoginAs(string domain, string user, string password)
{
    SafeTokenHandle safeTokenHandle;

    const int LOGON32_PROVIDER_DEFAULT = 0;
    const int LOGON32_LOGON_INTERACTIVE = 2;

    //Call LogonUser to obtain a handle to an access token.
    bool returnValue = LogonUser(user, domain, password,
        LOGON32_LOGON_INTERACTIVE, LOGON32_PROVIDER_DEFAULT,
        out safeTokenHandle);

    //If no succes throw Win32Exception
    if (!returnValue)
    {
        int ret = Marshal.GetLastWin32Error();
        throw new System.ComponentModel.Win32Exception(ret);
    }

    this.SetCurrentPrincipal(new WindowsPrincipal(
        new WindowsIdentity(safeTokenHandle.DangerousGetHandle())));
} 
```

`SafeTokenHandle`: _

```
public sealed class SafeTokenHandle : SafeHandleZeroOrMinusOneIsInvalid
{
    private SafeTokenHandle() : base(true) { }

    [DllImport("kernel32.dll", SetLastError = true)]
    [ReliabilityContract(Consistency.WillNotCorruptState, Cer.Success)]
    [SuppressUnmanagedCodeSecurity]
    [return: MarshalAs(UnmanagedType.Bool)]
    private static extern bool CloseHandle(IntPtr handle);

    protected override bool ReleaseHandle()
    {
        return CloseHandle(handle);
    }
} 
```

现在我总是收到 Win32 错误“错误的用户名或密码”。难道我做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:31:52.163

也许这门课会对你有所帮助 [http://www.codeproject.com/Articles/10090/A-small-C-Class-for-impersonating-a-User](http://www.codeproject.com/Articles/10090/A-small-C-Class-for-impersonating-a-User)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-12-03T17:48:36.933

您需要在调用方法 LogonUser 之前指定您的用户、域、密码

```
string user = "MyUserName" ;
string domain = "MyDomain";
string Password = "MyPassword";

//Call LogonUser to obtain a handle to an access token.
bool returnValue = LogonUser(user, domain, password,
LOGON32_LOGON_INTERACTIVE, LOGON32_PROVIDER_DEFAULT,
out safeTokenHandle); 
```

# c - C lib 直接从文件流中读取和解析 JSON

> ID：12740870
> 
> 赞同：3
> 
> 时间：2012-10-05T06:39:46.630
> 
> 标签：c, json, parsing, cjson

我已经看到了许多用于在 C 中解析 JSON 的库，但它们都不能直接从文件流中读取和解析。所有此类库（例如 Yajl、cjson）的问题在于，如果文件中的 json 文档很大，那么您必须首先将所有这些内容读入内存缓冲区，然后运行这些库提供的 API 来解析它。

API 通常看起来像

```
cJSON *cJSON_Parse(const char *value) 
```

它将 char* 带到缓冲区。

我想避免这种情况，因为我的文件可能非常大，而且我事先不知道文件的大小。此外，这些库维护对实际缓冲区中的对象、数组的引用以检索值，因此我无法释放原始缓冲区。

是否有可以直接从文件流中读取和解析的 JSON 解析库？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T07:13:23.873

[http://lloyd.github.com/yajl/](http://lloyd.github.com/yajl/)可能是您正在寻找的

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T10:38:30.180

**使用mmap()**将文件映射到进程，然后简单地使用返回的地址来执行**char***操作，这使得它们都很有用，并且是解决问题的好方法

# vb.net - Visual Studio 2010 中的 Windows 应用程序框架属性

> ID：12740873
> 
> 赞同：1
> 
> 时间：2012-10-05T06:40:00.737
> 
> 标签：vb.net, visual-studio-2010, ide

为了让您熟悉正在发生的事情，我正在 Visual Studio 2010 PRO 中处理我的个人项目。它是一个桌面/表单应用程序，我的项目中有一个闪屏。启动画面应该加载并保持焦点几秒钟，然后应该关闭；离开呈现的主要形式。

当我运行应用程序时，会显示闪屏，然后它会关闭并结束整个应用程序。我相信我需要更改“Windows 应用程序框架属性”中的默认设置，但它是灰色的，我无法进行任何选择。（在解决方案资源管理器中右键单击项目文件 --> 应用程序 --> Windows 应用程序框架）

如果您知道我如何配置这些设置，请提供一些帮助。同时，我强制使用frmSplashScreen.Hide() 使其工作，并在我希望程序停止时单击Stop Debugging，这不是很实用。

提前致谢。我复制了下面的一些代码。

```
Private Sub tmrSplashScreen_Tick(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles tmrSplashScreen.Tick
        'Close the form after time value specified
        Me.Hide()
        frmHomeScreen.Show()
        frmHomeScreen.Focus()
    End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:38:20.117

主要形式

```
dim splshScreen as frmSplashscreen = New frmSplashscreen()

 private sub openSplashscreen()

     'you are showing who is the parent by sending "me" with the showdialog
     splshScreen.showdialog(me)
 end sub 
```

飞溅形式

```
Private Sub frmSplashscreen(sender As Object, e As System.EventArgs) Handles Me.Load

'Do something cool to load anything

  if load = true then
     me.close()
  end if 

end sub 
```

所以基本上用打开的对话框发送给父母。然后给你的负载一个条件，并确保它在完成后关闭。如果您只使用 me.close 它应该没问题并自行关闭

# asp.net - 用于验证日期格式 ddmmyy 的正则表达式

> ID：12740878
> 
> 赞同：0
> 
> 时间：2012-10-05T06:40:20.350
> 
> 标签：asp.net

我需要正则表达式来验证日期格式**ddmmyy**。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T06:42:30.367

K，我将继续假设您还需要验证它是否是有效日期。所以......这样做：

```
<asp:TextBox id="txtDate" runat="server" MaxLength="6" />
<asp:CustomValidator runat="server" ControlToValidate="txtDate" OnServerValidate="validate_Date" ErrorMessage="Invalid (ddmmyy)" /> 
```

后面的代码：

```
protected void validate_Date(object sender, ServerValidateEventArgs args)
{
    System.Text.RegularExpressions.Regex rDate = new System.Text.RegularExpressions.Regex(@"^(?<day>[0-9]{2})(?<mon>[0-9]{2})(?<year>[0-9]{2})");
    System.Text.RegularExpressions.Match m = rDate.Match(args.Value);
    if (m.Success)
    {
        //Now try parse as a date
        DateTime dtCheck = DateTime.MinValue;
        args.IsValid = DateTime.TryParse(String.Format("20{0}-{1}-{2}", m.Groups["year"].Value, m.Groups["mon"].Value, m.Groups["year"].Value), out dtCheck);
    }
} 
```

# jquery - 使用 Ajax 在 jQuery 点击事件上过滤 Rails 数据库？

> ID：12740879
> 
> 赞同：0
> 
> 时间：2012-10-05T06:40:19.630
> 
> 标签：jquery, ruby-on-rails, ajax

我有具有并属于许多类别的表项目。在主页上，我显示所有项目。每个类别都有一个单击事件，我希望数据库按该类别过滤项目。有人可以帮助我建立一个框架来实现这一点吗？我完全是 AJAX 的初学者，更不用说 jquery/rails 了。

如果该解决方案允许用户单击多个并在提要中显示两个类别的帖子，则可以加分。

提前致谢！

楷模：

```
class Project < ActiveRecord::Base
  attr_accessible :id, :filename, :location, :uploaded_file, :project_id, :category_id
  has_and_belongs_to_many :categories
  def to_hash
    {
      :id => self.id,
      :filename => self.filename,
      :location => self.location,
    }
  end
end

class Category < ActiveRecord::Base
  attr_accessible :name, :id, :category_id, :project_id
  has_and_belongs_to_many :projects
    def to_hash
    {
      :id => self.id,
      :name => self.name
    }
  end
end

class Category_Project < ActiveRecord::Base
  attr_accessible :project_id, :category_id
  belongs_to :project
  belongs_to :category
  def to_hash
    {
      :project_id => self.project_id
      :category_id => self.category_id
    }
  end
end 
```

我的 jQuery onclick 函数中的 AJAX 调用。“cat”是已建立的类别名称之一的名称。

```
...
    params = 'category_name=' + cat;
        $.ajax({
            url: "/projects_controller/filter_list",
            data: params
}) 
```

我的观点只是做一个@projects.each 做|project| 功能。

projects_controller 中的相关函数：

```
def filter_list
     @projects = Project.includes(:categories).where("categories.name = ?", params[:category_name])
    respond_to do |format|
      change_color.js /// Is this right?? This is same .js file my onclick event is in.
     end  
end 
```

但是，当我对其进行测试并单击“食品”类别的选项卡时，什么也没有发生，并且出现 500 内部服务器错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T08:03:28.657

有几种方法可以做到这一点。更有条理的方法是让您的 ajax 调用返回一个 js 脚本，然后执行该脚本。

首先，将您的 ajax 调用更改为以下内容

```
params = 'category_name=' + cat;
$.ajax({
    url: "/projects_controller/filter_list",
    data: params,
    dataType: 'script'
}); 
```

这告诉 jQuery 期望从服务器返回一个 javascript 文件，并在检索到后执行它。您可以将其替换为

```
$.getScript('/projects_controller/filter_list?category_name=' + cat); 
```

像这样改变你的控制器 respond_to 块：

```
respond_to do |format|
  format.js
end 
```

现在你需要`filter_list.js.erb`在你的views 目录中有一个文件（不管它在哪里—— `views/projects/filter_list.js.erb`？）。

假设您的项目/索引如下所示：

```
<div class="projects">
<% @projects.each do |project| %>
  <%= render project %>
<% end %>
</div> 
```

您需要在新的 js.erb 文件中添加如下内容：

```
$('.projects').empty();
<% @projects.each do |project| %>
  $('.projects').append("<%= escape_javascript render(project) %>");
<% end %> 
```

这将使用控制器中新的（过滤的）项目模板替换当前页面上的项目 div。

# iphone - 如何改变框架的旋转点

> ID：12740880
> 
> 赞同：0
> 
> 时间：2012-10-05T06:40:21.073
> 
> 标签：iphone, objective-c, ios, ipad

我正在尝试通过旋转为我的框架设置动画：

```
[UIView beginAnimations:nil context:nil];
[UIView setAnimationDuration:1];
[UIView setAnimationCurve:UIViewAnimationCurveLinear];

self.toNextButton.transform = CGAffineTransformMakeRotation(180.0f);

[UIView commitAnimations]; 
```

但是这段代码围绕他的中心旋转框架。如何围绕框架的右下角进行旋转？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T06:53:23.773

在开始动画之前添加以下行

```
self.toNextButton.layer.anchorPoint = // right bottom point on the button 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T06:53:27.573

你需要改变 view.layer 的 anchorPoints

```
-(void)setAnchorPoint:(CGPoint)anchorPoint forView:(UIView *)view
{

    CGPoint newPoint = CGPointMake(view.bounds.size.width * anchorPoint.x, view.bounds.size.height * anchorPoint.y);
    CGPoint oldPoint = CGPointMake(view.bounds.size.width * view.layer.anchorPoint.x, view.bounds.size.height * view.layer.anchorPoint.y);

    newPoint = CGPointApplyAffineTransform(newPoint, view.transform);
    oldPoint = CGPointApplyAffineTransform(oldPoint, view.transform);

    CGPoint position = view.layer.position;

    position.x -= oldPoint.x;
    position.x += newPoint.x;

    position.y -= oldPoint.y;
    position.y += newPoint.y;

    view.layer.position = position;
    view.layer.anchorPoint = anchorPoint;
} 
```

你应该像这样实现。

```
[self setAnchorPoint:CGPointMake(1,1)];
UIView beginAnimations:nil context:nil];
[UIView setAnimationDuration:1];
[UIView setAnimationCurve:UIViewAnimationCurveLinear];

self.toNextButton.transform = CGAffineTransformMakeRotation(180.0f);

[UIView commitAnimations]; 
```

# xslt - 如果元素不存在，XSL“if”语句不显示元素

> ID：12740881
> 
> 赞同：1
> 
> 时间：2012-10-05T06:40:24.727
> 
> 标签：xslt, rss

我正在开发一个 RSS 管理器，各种 RSS 提要将包含各种元素，有些可能不包含这些元素。我想实现一个 xsl:if 语句，如果提要中不存在元素，则不显示该元素。

例如：

```
<xsl:template match="item"> <!--an item in a feed-->
<xsl:value-of select="title" /> <!--display feed items title-->

<xsl:value-of select="author" />    <!--to display item's author BUT not all feed items have an author--> 
```

我怎样才能使它不显示作者信息，除非该元素存在？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T09:10:58.063

如果您使用 XSLT 编码的标准递归下降风格，那么

```
<xsl:apply-templates select="author"/> 
```

达到要求的效果：如果没有作者，则什么也不输出。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T07:53:40.023

XSL 从不抱怨节点的存在，简而言之**，只有在节点存在时才这样做，**默认情况下会得到照顾。

在上面的代码中，它尝试查找`<author>`节点，如果找到它将复制 else 忽略。

如果您担心不必要的空格，请使用：（假设当前节点是作者的父节点）

```
<xsl:if test='author'>
    <xsl:value-of select="author" />
</xsl:if> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T07:05:49.153

<xsl:apply-templates select="item[title]"> 仅当它包含“title”元素时才会使用“item”模板。
@Peter：项目/作者不会将项目与作者子项匹配，但将作者与项目父项匹配
@AlexM：我不希望模仿程序编程，而是使用 XSLT 方式

# xpages - 测试视图是否已被回收的最便宜的方法是什么？

> ID：12740889
> 
> 赞同：3
> 
> 时间：2012-10-05T06:40:54.707
> 
> 标签：xpages, lotus-domino

我有一个缓存 bean，用于在应用程序中查找/存储有关对象的信息。我想尽可能少地获取视图，因为我想象每个 Database.getView 都需要付出一些代价。

触发“视图已被回收”的最便宜的方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T10:17:26.860

设计一个测试器类来测试各种 Domino 对象怎么样？

如果对象被回收，您可以执行一个将引发异常的操作，而不仅仅是测试 null。像下面的代码这样的东西会起作用，还是我过于简单化了？

```
package com.azlighthouse.sandbox;

import lotus.domino.Database;
import lotus.domino.Document;
import lotus.domino.NotesException;

public class NPHchecker {

    public static boolean isRecycled(Document source, boolean printStackTrace) {
        try {
            return (source.getUniversalID().length() > 0);
        } catch (NotesException e) {
            if (printStackTrace)
                e.printStackTrace();
            return true;
        }
    } // isRecycled(Document, boolean)

    public static boolean isRecycled(Database source, boolean printStackTrace) {
        try {
            return (source.getReplicaID().length() > 0);
        } catch (NotesException e) {
            if (printStackTrace)
                e.printStackTrace();
            return true;
        }
    } // isRecycled(Database, boolean)

}  // NPHchecker 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T10:23:17.190

在 Sven Hasselbach 的启发下，我创建了这个方法：

```
/*
Classes that need to be imported:
import java.lang.reflect.Method;
import lotus.domino.Base;
import lotus.domino.local.NotesBase;
*/

public static boolean isRecycled( Base object ) {
    boolean isRecycled = true;
    if( ! ( object instanceof NotesBase ) ) { 
        // No reason to test non-NotesBase objects -> isRecycled = true
        return isRecycled;
    }

    try {
        NotesBase notesObject = (NotesBase) object;
        Method isDead = notesObject.getClass().getSuperclass().getDeclaredMethod( "isDead" );
        isDead.setAccessible( true );       

        isRecycled = (Boolean) isDead.invoke( notesObject );
    } catch ( Throwable exception ) {
        // Exception handling
    }

    return isRecycled;
} 
```

**更新：**似乎使用此方法需要更改 java.policy。特别是这一行：*notesObject.getClass().getSuperclass().getDeclaredMethod( "isDead" )*

# java - 如何从谷歌搜索结果页面检索数据并保存该数据，是否可能..？

> ID：12740891
> 
> 赞同：1
> 
> 时间：2012-10-05T06:40:55.063
> 
> 标签：java, spring, jakarta-ee, struts2

# 如何从谷歌搜索结果页面检索数据并保存该数据#,

> 我有代码可以从 URL 中检索数据，但我无法从 google 搜索结果中检索数据...
> 
> 请帮帮我

**从 URL 检索数据的代码**

```
enter code here  URL iurl = new URL("https://www.google.co.in/search?q=Anirudhcreative%2Cprojects&sub=Submit+Query");
URLConnection urlconn = iurl.openConnection(); 
```

System.out.println("url连接>>:"+urlconn);

```
File f = new File("Ani 7 hindi gogole out put.html");  //************************************ file name *** 
```

FileOutputStream fop = new FileOutputStream(f); BufferedReader br = new BufferedReader(new InputStreamReader(urlconn.getInputStream())); 字符串线；//PrintWriter pw = respons int ii=0; 字符串 st=""; System.out.println(" ***** ** *** ** *** ** *** ** ***** 网页输出 ***** ** *** ** *** ** *** *** "); while((line=br.readLine())!= null) {

```
System.out.println(""+line+"");
ii++;

st=">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>"+ii;
System.out.println(">>>>>>>>>"+ii);
if(f.exists()){
fop.write(line.toString().getBytes()); 
```

//fop.write(st.toString().getBytes());

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T06:59:56.830

不要那样做，如果您想从 google 搜索中检索数据，请使用[Google JSON Search API](https://developers.google.com/custom-search/v1/overview?hl=es)，因为使用此 API 比屏幕抓取更容易。

使用此 API 时还要查看[条款和条件](https://developers.google.com/terms/)，也许您会将此数据用于不允许的提议。

# excel - 如何使用 Applescript 循环遍历 Excel 中的选定单元格？

> ID：12740892
> 
> 赞同：2
> 
> 时间：2012-10-05T06:40:57.753
> 
> 标签：excel, macos, applescript

在 VBA 中，我可以做这样的事情来遍历 Excel 中的选定单元格：

```
for each c in Selection
   ' do things
next 
```

我试图在 AppleScript 中做同样的事情，但我似乎没有得到任何结果。我确实得到了当前的单元格，但即使我这样做了

```
set c to count of selection 
```

结果是 c 设置为 0。

Excel applescript 手册似乎没有帮助，也没有谷歌搜索。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T15:16:20.933

事实证明，您必须使用“count large”来获取选择中的单元格数量。一旦你到达那里，它就很简单——就像这样：

```
tell application "Microsoft Excel"
    repeat with j from 1 to count large of selection
         -- do stuff with the cell
         set value of cell j of selection to "cell_" & j
    end repeat
end tell 
```

为了到达那里，我必须做

```
tell application "Microsoft Excel"
   set c to properties of selection
end tell
return c 
```

然后浏览属性列表，直到找到一个有希望的属性。这是进入房产清单的好方法。也许 AppleScript 编辑器上有更快的方法，但我是命令行人员。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:29:29.560

你可以尝试这样的事情：

```
tell application "Microsoft Excel"
    set range1 to range "A1:A5"
    set value of range1 to {{1.0}, {2.0}, {3.0}, {4.0}, {5.0}}
    set range2 to range "B1:B5"
    set value of range2 to {3}

    repeat with i from 1 to 5
        set formula of row i of column 3 to "=A" & i & "+B" & i
    end repeat
end tell 
```

[你可以在这里](http://download.microsoft.com/download/3/A/7/3A70FB4B-0C6A-43E3-AAB7-AC9166B25632/Excel2004AppleScriptRef.pdf)阅读更多

你也可以试试：

```
set cellCount to count of (cells of selection) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-07-15T10:40:16.303

这显然是一个老问题，但我认为这是一个很好的问题，其中一个评论提出了复杂选择的问题。所以这里有几种方法可以让你使用 Mac Excel（在我的例子中是 2011 年）来解决这个问题。没有错误处理，但底部是一个脚本，它将预先填充工作表以进行演示。根据您的选择有多大，它可能会崩溃。

首先，您可以做一件非常基本的事情：计算选定的单元格。这应该适用于简单和复杂的选择。

```
tell application "Microsoft Excel" to count of cells of selection 
```

**单区选择**

其次，如果您有一个简单的选择，那么对单元格进行操作仍然不会太冗长。对于此处的测试，它适用于 2x2 范围。

```
tell application "Microsoft Excel"
    select range "D2:E3"
    set c to selection
    value of areas of c
    --> {{7.0, 21.0}, {8.0, 24.0}} -- note hierarchy

    set voop to {}
    set ab to count of cells in c
    repeat with x from 1 to ab
        set end of voop to value of cell x of c as integer
    end repeat

    voop
    --> {7, 21, 8, 24} -- note absence of hierarchy
end tell 
```

**多区域选择**

第三，这是一种适用于复杂或简单选择的方法。同样，底部的脚本将填充合适的示例数据。

`areas of selection`返回选定范围的列表。它始终是一个列表，因此即使您只有一个范围（甚至一个单元格），您也会得到一个列表。考虑到这一点，这将遍历选定范围的列表，然后遍历每个范围中的每个单元格。该脚本比它需要的要庞大，因为我已经包含了一些您可以执行的示例操作，以及进行选择和返回结果。

```
tell application "Microsoft Excel"
    activate
    -- make complex selection
    set aran to range "A:B 3:4"
    set bran to range "D2:E3"
    set cran to range "G5:H7"
    select (union range1 aran range2 bran range3 cran)

    with timeout of 10 seconds
        set c to areas of selection
        --> {range "[Workbook1]Sheet1!$A$3:$B$4" of application "Microsoft Excel", range "[Workbook1]Sheet1!$D$2:$E$3" of application "Microsoft Excel", range "[Workbook1]Sheet1!$G$5:$H$7" of application "Microsoft Excel"}

        set voop to {} -- value
        set coop to {} -- cell address

        repeat with euRg in c -- each range area
            set ceuRg to cells of euRg -- hierarchical cell list -- critical step!
            repeat with xy in ceuRg -- each cell in range area
                -- do random stuff with each cell
                copy contents of xy to end of coop
                copy value of xy as integer to end of voop
                set value of xy to ((value of xy) / 2)
            end repeat
        end repeat

        -- do more random stuff
        set AppleScript's text item delimiters to space
        display dialog voop as text -- display original values
        --> 8 66 6 44 7 21 8 24 1 2 3 4 5 6
        coop -- flattened cell list
        --> {cell "$A$3" of application "Microsoft Excel", cell "$B$3" of application "Microsoft Excel", cell "$A$4" of application "Microsoft Excel", cell "$B$4" of application "Microsoft Excel", cell "$D$2" of application "Microsoft Excel", cell "$E$2" of application "Microsoft Excel", cell "$D$3" of application "Microsoft Excel", cell "$E$3" of application "Microsoft Excel", cell "$G$5" of application "Microsoft Excel", cell "$H$5" of application "Microsoft Excel", cell "$G$6" of application "Microsoft Excel", cell "$H$6" of application "Microsoft Excel", cell "$G$7" of application "Microsoft Excel", cell "$H$7" of application "Microsoft Excel"}

    end timeout
end tell 
```

**预填充选择**

```
tell application "Microsoft Excel"
    activate
    set value of range "A:B 3:4" to {{8, 66}, {6, 44}}
    set value of range "D2:E3" to {{7, 21}, {8, 24}}
    set value of range "G5:H7" to {{1, 2}, {3, 4}, {5, 6}}
end tell 
```

# security - Jboss Seam JSESSIONID Cookie-设置

> ID：12740893
> 
> 赞同：1
> 
> 时间：2012-10-05T06:41:02.073
> 
> 标签：security, cookies, jboss, seam, jsessionid

我想知道，如何覆盖 jsessionid-cookie 设置，例如 httpoly、secure 等。我没有找到任何设置或其他简单的可能性来设置这些东西。它可能是`web.xml`会话配置下的内容，还是我可以通过 servlet 过滤器添加设置？

你有什么建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T06:49:02.217

在 web.xml 文件中，

```
<session-config>
        <cookie-config>
           <http-only>true</http-only>
        </cookie-config>
</session-config> 
```

你可以在里面看到

*   [http://middlewaremagic.com/jboss/?p=1041](http://middlewaremagic.com/jboss/?p=1041)
*   [http://docs.oracle.com/cd/E18930_01/html/821-2417/beash.html](http://docs.oracle.com/cd/E18930_01/html/821-2417/beash.html)

# c# - 文件上传控件中的大文件需要很长时间才能发送请求

> ID：12740895
> 
> 赞同：0
> 
> 时间：2012-10-05T06:41:22.783
> 
> 标签：c#, asp.net, asp.net-3.5

我正在实现文件上传控制的进度条功能，我注意到在浏览到一个大文件后进入任何事件处理程序需要很长时间，即使处理程序的代码与上传无关。我不太确定 FileUpload 控件是如何工作的，但似乎在它到达我的处理程序之前就已经进行了一些复制。

谁能解释一下那里发生了什么以及如何减少发布请求的发送时间。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T07:03:16.167

你不能使用 FileUpload 控件来做你想做的事。当用户发布文件时，您必须将其视为查询字符串参数。它作为一个 Http 请求。如果你想做一个进度条，你会想要研究可以与服务器异步交互的东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:08:32.980

对于大文件，您必须异步上传。您可以使用 AJAX 控制工具包来执行此操作。

转到此链接并下载工具包。 [AJAX 控制工具包](http://www.asp.net/ajaxlibrary/AjaxControlToolkitSampleSite/asyncfileupload/asyncfileupload.aspx)

# java - Java 中的 JTree 和 JEditorPane

> ID：12740896
> 
> 赞同：0
> 
> 时间：2012-10-05T06:41:30.923
> 
> 标签：java, html, swing, jtree, jeditorpane

我有一个 Swing 形式的 JTree 和 JEditorPane 控件。JTree 有 3 个节点和更多的子节点。我必须在节点和子节点前面设置文本，例如以下

```
delhi :100
old delhi:50
new delhi:50
mumbai:200
..... 
```

这些 50 100 和 200 值应该设置运行时间。单击德里或旧德里上的节点时，应更改表值，单击 JTable 中的单元格时，应使用相应的 Html 文件更改 JEditorPane 的值

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:04:06.950

I see there JTree and you wrote about selection in JTable, never mind, have look at

*   [JTable tutorial](http://docs.oracle.com/javase/tutorial/uiswing/components/table.html#selection)

*   [JTree tutoria](http://docs.oracle.com/javase/tutorial/uiswing/components/tree.html#select)l

*   add `TreeSelectionListener` for `JTree` and/or `ListSelectionListener` for `JTable`

*   from `TreeSelectionListener` / `ListSelectionListener` event to invoke proper `Html` formated `Object` to the `JEditorPane`

notice

*   all updates to the [`Swing GUI` must be done on `EDT`](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)

# c++ - 以正确的顺序输出队列

> ID：12740900
> 
> 赞同：-1
> 
> 时间：2012-10-05T06:41:57.227
> 
> 标签：c++, queue

处理输出实数或整数我正在从文件中逐个字符地读取数字。它将读取一个整数并将其推入 integerQueue 直到它到达一个“。”，然后它将切换到将其输入到一个 realQueue 中。

然后当我打印时，它需要打印出来，即 Real: 123.4343

但现在输出是 Real: 123\. Integer 4343

不知何故，我的 while 循环或我的 if 语句没有完成它的工作。我只是找不到我的错误

问题是，如何修复我的输出以便打印出 123.4343

```
 //if the realQueue is empty, then we just read in an integer, currentState must be 1, in order to print integer
            if(realQueue.empty() || currentState == '1')//implementation of the FSM
            {
                    writeFile <<"Integer:       ";
                    while(!integerQueue.empty())
                    {
                    writeFile <<integerQueue.front();
                    integerQueue.pop();
                    }
            }
            //since the realQueue has values in it, then it must bea real Number
            else
            {
                //currentState = '2';
                // currentState must be == '2', since wwe have a real number to print

                    writeFile<<"Real:           ";
                        //currentState has to be in real mode for it to print out to file
                        while(!integerQueue.empty() && currentState == '2')
                        {
                        writeFile <<integerQueue.front();
                        integerQueue.pop();
                        }
                        // currentState has to be in real mode for it to print out to file
                        while(!realQueue.empty() && currentState == '2')
                        {
                        writeFile <<realQueue.front();
                        realQueue.pop();
                        }

            } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:58:37.157

尝试退出这个循环，看看会发生什么。

```
while(!integerQueue.empty() && currentState == '2') 
{ 
  writeFile <<integerQueue.front(); 
  integerQueue.pop(); 
} 
```

# java - 如何通过java获取计算机的MAC地址和IP地址列表？

> ID：12740905
> 
> 赞同：3
> 
> 时间：2012-10-05T06:42:19.707
> 
> 标签：java

我正在开发一个软件，我需要通过 java 代码列出计算机的 IP 地址和 MAC 地址。有没有办法获取ip地址和mac地址的列表？

谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-05T06:44:13.943

从 JDK 1.6 开始，Java 开发人员可以通过 NetworkInterface 类访问网卡详细信息。

```
 InetAddress ip;
    ip = InetAddress.getLocalHost();
    System.out.println("Current IP address : " + ip.getHostAddress());

    NetworkInterface network = NetworkInterface.getByInetAddress(ip);

    byte[] mac = network.getHardwareAddress();

    System.out.print("Current MAC address : ");

    StringBuilder sb = new StringBuilder();
    for (int i = 0; i < mac.length; i++) {
        sb.append(String.format("%02X%s", mac[i], (i < mac.length - 1) ? "-" : ""));        
    }
    System.out.println(sb.toString()); 
```

对于多个 IP 地址：

```
 java.util.Enumeration<NetworkInterface> en = NetworkInterface.getNetworkInterfaces();
        en.hasMoreElements(); ) {
        NetworkInterface iface = en.nextElement();
        List<InterfaceAddress> addrs = iface.getInterfaceAddresses();
        //For each network interfaces iterate through each ip address
        for(InterfaceAddress addr : addrs) {
                         ip = addr.getAddress();
                          //Process the IP ... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T06:47:10.840

从 java 程序运行命令的示例代码，

```
 Process p;
    String cmd="ifconfig-a";
    p = Runtime.getRuntime().exec(cmd);
    BufferedReader br = new BufferedReader(
    new InputStreamReader(p.getInputStream()));
    while ((s = br.readLine()) != null)
    System.out.println("line: " + s);
    p.waitFor();
    System.out.println ("exit: " + p.exitValue());
    p.destroy(); 
```

输出：

```
line: eth0      Link encap:Ethernet  HWaddr 00:13:D3:DE:5A:A4  --->MAC address in linux 
```

# winforms - 在调整大小事件中移动 Windows 窗体控件

> ID：12740911
> 
> 赞同：0
> 
> 时间：2012-10-05T06:42:44.147
> 
> 标签：winforms

我有一个包含标签页的应用程序，在其中一个标签页上我放置了数据网格视图控件。现在我想在标签页的调整大小事件上修改网格视图位置。这是我的代码的样子..

```
System.Drawing.Point pTabCntrlLocn= tabCntrl.Location;
System.Drawing.Point pDatGrdLocn = DataGrid.Location
int iCntrlYLocn = pDatGrdLocn .Y + 50;
DataGrid.Location = new System.Drawing.Point(pDatGrdLocn .Location.X, iCntrlYLocn); 
```

我在最后一行代码中没有出现异常，但我也看不到新位置的控件，也看不到控件位置值的修改。

请帮助我跟踪丢失的链接。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T06:52:23.727

如果设置了 Dock，则更改位置将无济于事。

要更改大小（在您的情况下为高度），请`Height`改为修改属性。

# java - 是否可以使用 jdk 1.4 使用苹果推送通知服务

> ID：12740921
> 
> 赞同：1
> 
> 时间：2012-10-05T06:43:41.953
> 
> 标签：java, ios, mobile, apple-push-notifications, jdk1.4

是否可以使用**jdk 1.4使用***苹果推送通知*服务？我不能使用，因为其中至少有 1 个是使用**1.5**构建的。**`japns``java apns`**

# jquery - 跨域请求不成功？

> ID：12740923
> 
> 赞同：1
> 
> 时间：2012-10-05T06:43:55.393
> 
> 标签：jquery

```
$(function(){
    $.ajax({
        url: 'http://xxx/',
        type: 'GET',
        crossDomain:true,
        cache:true,
        dataType:"script",
        success:function(data,textStatus,jqXHR){

            alert(data);
        }
    }); 
}); 
```

实际上服务器正在返回 json 对象，在我的萤火虫中它显示 SyntaxError: invalid label

我能做些什么 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:49:51.053

如果服务器返回 json，那么即使你设置了也无法获取数据`crossDomain:true`。

如果要跨域工作，服务器需要支持JSONP，即用回调函数包装json。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T06:52:58.007

尝试`dataType : "json"`代替`dataType:"script"`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-12T10:28:50.280

嘿，我得到了解决方案

$.ajax({ type : "GET", url : URL, dataType : "jsonp", jsonp : "jsoncallback", jsonpCallback : "SMS", cache : true, success : function(service_data) { bi(service_data);

```
 },
        error : function(msg) {
            alert(JSON.stringify(msg));
        }
    }); 
```

# c# - 如何在 C# 中为 Metro 应用程序检索系统登录凭据？

> ID：12740935
> 
> 赞同：0
> 
> 时间：2012-10-05T06:44:36.727
> 
> 标签：c#, xaml, winrt-xaml

我正在用 c#,xaml 开发一个 Metro 风格的应用程序。启动应用程序时，我想通过将他/她的姓名与系统登录凭据（Windows 身份验证）进行比较来验证用户身份，我想使用系统登录凭据。那么任何人都可以帮助我如何检索地铁应用程序的系统登录凭据。如果是这样怎么办？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T07:01:01.610

很难使用 Windows 凭据，因为允许访问此类数据会带来安全风险，但如果您在 WinRT 沙箱之外，您可以找出 Windows 使用哪种散列，并将其与 Windows 密码文件进行比较但这很困难。

查看此页面，了解人们在 C# 中访问 Windows 登录凭据的有限部分的一些方法：http: [//social.msdn.microsoft.com/Forums/en-US/netfxbcl/thread/36e1bcfa-a46a-47a8-8b21 -78357efe866b/](http://social.msdn.microsoft.com/Forums/en-US/netfxbcl/thread/36e1bcfa-a46a-47a8-8b21-78357efe866b/)

我认为当您自己的登录系统就足够时，您可能需要考虑是否有必要拥有这种功能。

这是一个关于在 Metro 应用程序中设置登录的好页面：http: [//msdn.microsoft.com/en-us/library/windows/apps/hh965453.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/hh965453.aspx)

# android - 后退按钮按下需要在活动中显示更新的值

> ID：12740944
> 
> 赞同：5
> 
> 时间：2012-10-05T06:45:08.333
> 
> 标签：android, android-activity

我有可以导航到的活动 A`A->B->C->D`

在 `Activity D`我有一个按钮，如果用户按下此按钮，它将转到 `Activity A`. 在这里，我将创建一个新实例，用户可以在这里更新值。

我完成了活动，它会转到`Activity D`，从`Activity D`用户按下并会来 。`Back Button
D->C->B->A``Activity A`

我需要显示更新后的值`Activity A`，如何更新“活动 A”中的值？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T06:49:27.573

您将想要拥有一大堆`startActivityForResult()`s，并且基本上将它们从 D 链接到 A。

请参阅此处：[如何在 Android 上的活动之间传递值？](https://stackoverflow.com/questions/5852677/pass-value-between-activity-android)

或者，您可以将值存储为 a`SharedPreferences`并在稍后返回原始 Activity 后查找它。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-05T07:07:10.480

我认为您必须使用*SharedPreference*来保存您的后退按钮单击或使用*静态变量*的数据。

// ------------------ 存储数据 ------------------

```
SharedPreferences.Editor editor = sharedPreferences.edit();
                editor.putInt("key", countValue);
                editor.commit(); 
```

// --------------------- 获取数据 ------------------

```
if ((keyCode == KeyEvent.KEYCODE_BACK)) {
    Intent home=new Intent(PersentActivity.this,DesiredActivity.class);

                 sharedPreferences = getSharedPreferences("MY_SHARED_PREF", MODE_PRIVATE);   
          int countValue = sharedPreferences.getInt("key", 0);

                startActivity(home);

                return true;
            } 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-05T06:50:48.640

用于`Shared Preferences`保存您的数据。因此，您将获得所有活动中的数据。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-05T07:42:56.153

如果您在更新时不存储数据`Activity A`，我认为最好将它们存储在自身的静态变量中`Activity A`并将数据加载到您的`onResume()`.

如果您有数据库，则将数据`Activity A`从数据库中存储到`onResume()`.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-05T06:49:16.100

将此片段包含在您的 D 活动中。

```
@Override
 public void onBackPressed(){
     aMethodToUpdateYourActivityA();
    } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-05T06:53:11.317

您可以在此处了解有关活动生命周期和管理数据的更多信息[活动](http://developer.android.com/reference/android/app/Activity.html)

至于您的问题，您应该对 Activity A 中的 onResume 方法中的数据进行任何更新。

```
@Override
public void onResume(){
    //Update your data here
} 
```

如果您关心如何在它们之间传递数据，您可能应该使用[共享首选项](http://developer.android.com/reference/android/content/SharedPreferences.html)，因为不建议在这么多活动上加载 startActivityForResult。也真的有必要拥有那个gerarchy吗？如果用户更新数据后，您只需启动ActivityA并直接将数据传递给它会更容易。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-05T06:57:02.367

这可以通过两种方式完成：

1.  使用共享偏好并存储您更新的值，然后活动 A 的 onResume()，从相同的共享偏好中读取它并更新值。

2.  使用 startActivityForResult 启动活动，并使用意图对象收集值并使用 setResult 将其传递回之前的活动。

# ruby-on-rails - 如何在linode中部署两个rails应用程序。？

> ID：12740945
> 
> 赞同：0
> 
> 时间：2012-10-05T06:45:09.223
> 
> 标签：ruby-on-rails, linode

不知何故，我设法在我的 linode 主机中运行了两个 rails 应用程序，但我不确定我所做的是对还是错..？

我为子域创建了虚拟主机，导航到该子域目录并启动了 Rails 服务器。

现在再次导航到另一个目录，该目录有另一个 rails 应用程序并再次启动 rails 服务器。

所以目前我的遥控器中有两条导轨在运行。

![在此处输入图像描述](../Images/1b73096001c44b341bf02eec6b893d8f.png)

这是在远程运行两个 Rails 服务器的正确方法吗？抱歉我太天真了:(

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T06:50:42.720

不要那样做。rails -s 仅用于本地开发，不适用于在您的生产站点上提供服务。相反，您最简单的选择是像 Passenger (mod_rails) - 这是免费和开源的。所以：

```
gem install passenger

sudo passenger-install-apache2-module 
```

并按照说明进行操作。

另外，看看这篇关于如何最好地部署 Rails 的 linode 文章：

[http://library.linode.com/frameworks/ruby-on-rails-apache/ubuntu-10.04-lucid](http://library.linode.com/frameworks/ruby-on-rails-apache/ubuntu-10.04-lucid)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T07:13:05.493

试试这个部署铁路应用程序

[https://gist.github.com/1031946](https://gist.github.com/1031946)

用于导轨 3.1

[http://www.iamseree.com/application-development/how-to-set-up-rails-3-1-applications-on-linode](http://www.iamseree.com/application-development/how-to-set-up-rails-3-1-applications-on-linode)

# javascript - Javascript中的日期差异计算错误

> ID：12740950
> 
> 赞同：0
> 
> 时间：2012-10-05T06:45:46.080
> 
> 标签：javascript, date, datediff

我使用以下脚本来计算两个日期之间的日期差异（与时间）。它适用于大多数输入，但问题是它为某些输入返回错误的输出。这段代码有什么问题

例如，当我计算日期差时

> 2012 年 1 月 10 日上午 11 点

和

> 2012 年 2 月 10 日凌晨 12 点

结果返回 2 天，但返回 13 小时。（作为我的应用程序的特殊舍入，它将被视为一天）或者是否有任何替代方法。如果需要更多详细信息，请发表评论。

```
function dstrToUTC(ds) {
             var dsarr = ds.split("/");
             var dd = parseInt(dsarr[0],10);
             var mm = parseInt(dsarr[1],10);
             var yy = parseInt(dsarr[2],10);
             var hh = parseInt(dsarr[3]); 
             return Date.UTC(yy,mm-1,dd,hh,0,0);
            }
            function datediff() {

             var roomFrom=$("#room_from").val()+"/"+$("#room_time_from").val();
             var foomTo=$("#room_to").val()+"/"+$("#room_time_to").val();
             var d1 = dstrToUTC(roomFrom);
             var d2 = dstrToUTC(foomTo);
             var oneday = 86400000;
             var dayDiff=(d2-d1) / oneday;
             var dayDiff2=Math.floor(dayDiff);

             //used to handle less than one day and, extra hours to a day
             if(dayDiff>dayDiff2)
                 dayDiff=dayDiff2+1; 

             document.getElementById("room_nodays_add").value=dayDiff;

            } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:50:06.837

这可能不是答案，但是如果您想节省时间并在 javascript 中进行干净的日期计算，请使用[moment.js](http://momentjs.com/)

# asp.net-mvc-3 - Chrome 和 Firefox 不显示锚标记

> ID：12740951
> 
> 赞同：0
> 
> 时间：2012-10-05T06:45:48.643
> 
> 标签：asp.net-mvc-3, internet-explorer, firefox, google-chrome, css

[可能重复](https://stackoverflow.com/questions/4884498/anchor-tag-not-working-in-firefox-and-chrome)

我也有同样的情况。

当图像和锚标签嵌套在 div 标签中时，当鼠标悬停在 Firefox 和 chrome 中时，锚标签不会显示，但在 IE 中有效。

我的 .cshtml 页面中有许多 div 标签。div 中的一些锚标记在 FF 和 Chrome 中有效

我的应用程序是 MVC3 应用程序。

这是我的代码：

```
<div class="mainDiv">
    <div class="CssDivs">
    <a href="#">
    <img  src="@Url.Content("~/Content/images/home.gif")" alt="home" border="0" /></a>
    </div>
</div> 
```

* * *

CSS是：

```
.CssDivs
{
float: left;
padding: 5px;
}
.mainDiv
{
    text-align: center;
    font-size: 28px;
    color: #FFFFFF;
    font-family: Verdana, Geneva, sans-serif;
    font-weight: normal;
    float: left;
    padding: 200px 13px 7px 13px;
    position: absolute;
} 
```

如果有人有解决方案，请发布。

这是我的 jsfiddle： http: [//jsfiddle.net/Bzzt6/](http://jsfiddle.net/Bzzt6/) 这个小提琴正在工作，但是通过 Visual Studio 2010 执行时它不起作用。可能是什么问题？

**编辑：**我已经`position: relative;`在我的 css 中尝试过，但它没有任何区别。

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:12:14.910

锚标记不包含href，它具有属性名称

检查这个[http://jsfiddle.net/psQvg/](http://jsfiddle.net/psQvg/)

它适用于 Chrome 和 FF

尝试检查您的 javascript 是否启用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:13:00.190

我只是无法重现您遇到的问题。

我将您的代码粘贴到 jsfiddle 并在 firefox 上打开，一切都很好。检查这个：http: [//jsfiddle.net/chanjarster/EJKmC/](http://jsfiddle.net/chanjarster/EJKmC/)

也许您应该将整个 html 文件（由 MVC3 生成）粘贴到 jsfiddle 上，以便其他人可以找出真正的问题所在。

# android - Twiiter Api 发现错误

> ID：12740952
> 
> 赞同：1
> 
> 时间：2012-10-05T06:45:54.993
> 
> 标签：android, twitter

我使用 twitter api 并找到错误如何解决它，我在此文件夹中使用 lib 文件夹和 4 个 lib 文件，但发现错误..请帮助我解决以下错误通知：

找不到类`'twitter4j.http.AccessToken'`，引用自方法`

```
public void updateLoginStatus() {

        loginStatus.setText("Logged into Twitter : " + TwitterUtils.isAuthenticated(prefs));
    } 
```

这里崩溃了我的应用程序，任何人都提供了新的 turorial 或 twiiter 集成解决方案..请帮帮我

# java - SOQL 查询字符串的正则表达式

> ID：12740955
> 
> 赞同：0
> 
> 时间：2012-10-05T06:46:02.750
> 
> 标签：java, regex, salesforce

我有以下 SOQL 查询：

`SELECT Description,(Select Name,Id from Contacts) , Account.Name, (Select Id from Contacts) from Account`

我想在java中应用正则表达式来提取以下内容 -

`SELECT Description, Account.Name from Account`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:55:49.433

根据给定表达式定制的快速解决方案：

```
String query = "SELECT Description,(Select Name,Id from Contacts) , Account.Name, (Select Id from Contacts) from Account";

// Remove all subqueries (things in parenthesis)
// Remove doubled commas (even with space in between)
// Remove a comma before the from
String answer = query
    .replaceAll("\\(.*?\\)", "")
    .replaceAll(",\\s*,", ",")
    .replaceAll(",\\s*from", " from"); 
```

# html - 如何将编码的 HTML 显示为在 MVC 3 Razor 中解码？

> ID：12740960
> 
> 赞同：39
> 
> 时间：2012-10-05T06:46:25.167
> 
> 标签：html, asp.net-mvc, asp.net-mvc-3, c#-4.0, razor

我在 MVC 3 和 Asp.net C# 中使用 Razor。

我有以下代码的视图。`model.ContentBody`有一些 HTML 标签。

我需要将此 HTML 内容显示为**DECODED**。

我该如何更改视图中的代码？

```
 <div class="display-field">
        @Html.DisplayFor(model => model.ContentBody)
 </div> 
```

* * *

## 回答 #1

> 赞同：86
> 
> 时间：2012-10-05T06:50:36.877

```
<div class="display-field">
    @Html.Raw(Model.ContentBody)
</div> 
```

这段代码解决了问题！

* * *

## 回答 #2

> 赞同：48
> 
> 时间：2012-10-05T06:53:38.617

`@Html.Raw`不适合我这里是例子： -

```
 string name = "&lt;p&gt;&lt;span style=&quot;font-size: small; color: #ff0000;&quot;&gt;&lt;span style=&quot;font-size: small;&quot;&gt;&amp;nbsp;&lt;span style=&quot;font-size: large; color: #000000;&quot;&gt;Hi&lt;/span&gt;&lt;br /&gt;&amp;nbsp; &lt;br /&gt;This is just a sample,&lt;br /&gt;This will not work with @Html.Raw(),&lt;br /&gt;";
  <span>@Html.Raw(name);</span> 
```

但这反而起作用了：-

```
@MvcHtmlString.Create(HttpUtility.HtmlDecode(@model.ContentBody)) 
```

或者您也可以使用：-

```
@Html.Raw(HttpUtility.HtmlDecode(@model.ContentBody)); 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-09-26T06:10:46.280

您还可以在将模型发送到视图之前在控制器中解码 html，

> **WebUtility.HtmlDecode()**

```
 public ActionResult Index(int id)
    {
        var content = _contentRepository.GetContent(id);
        var classViewModel = new ClassViewModel
                                 {
                                     ContentBody = WebUtility.HtmlDecode(ClassViewModel.ContentBody)
                                 };
        return View(classViewModel);
    } 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2019-02-20T16:34:42.937

好吧，总结一下..在我的服务/控制器中，同时将模型返回到视图

```
 ....
    Description = WebUtility.HtmlDecode(narration.Narration1) 
```

我的cshtml，显示tinyMCE的地方..只是定期绑定（​​我将HtmlAttributeHelper用于其他目的。你可以忽略它）

```
 <div>
    @Html.TextAreaFor(model => model.Description, HtmlAttributeHelper.ConditionalDisable(false, new {@class = "tinymce"}))
 </div> 
```

并在显示数据的cshtml页面中..

```
 ......
 <td class="col-word-wrap">@Html.Raw(HttpUtility.HtmlDecode(@item.Narration1))</td> 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2014-02-07T08:10:57.870

请用于显示 Html 与解码一起使用。

```
@MvcHtmlString.Create(@Model.OurVision) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-05T09:23:01.640

将“ContentBody”作为 MvcHtmlString 传递给您的模型，而不是字符串。

这样你就可以使用：

```
<div class="display-field">
        @model.ContentBody
 </div> 
```

在您的控制器中获取 MvcHtmlString 只需使用：

```
MvcHtmlString myHtmlString = MvcHtmlString.Create("htmlcodeandtext"); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-04-06T23:30:31.807

该字符串也可能是 URL 编码的，所以要解码你：

```
@Html.Raw(HttpUtility.UrlDecode(string)) 
```

* * *

## 回答 #8

> 赞同：-7
> 
> 时间：2014-07-31T06:30:38.443

**在控制器中使用此代码：**

```
string noHTML = Regex.Replace(inputHTML, @"<[^>]+>|&nbsp;", "").Trim(); 
```

# c# - ComboBox_SetCurSel 位于哪个 DLL 中？

> ID：12740962
> 
> 赞同：1
> 
> 时间：2012-10-05T06:46:33.307
> 
> 标签：c#, winapi, pinvoke

我想`ComboBox_SetCurSel`在我的 C# 应用程序中使用 WinApi 函数。

为此，我插入以下语句：

```
[DllImport("user32.dll", SetLastError = true)]
public static extern IntPtr ComboBox_SetCurSel(IntPtr hWnd, int index); 
```

当我运行程序时，我得到了错误

```
EntryPointNotFoundException ComboBox_SetCurSel user32.dll
  Message=Can't find entry point "ComboBox_SetCurSel" in DLL "user32.dll". 
```

我想这个错误是由于`ComboBox_SetCurSel`不在 DLL 中`user32.dll`，而是在其他一些 DLL 中引起的。

如果这是正确的，要修复此错误，我需要更改`DllImport`声明。

问题：在什么DLL中`ComboBox_SetCurSel`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T06:49:06.077

这实际上不是一个函数。这是一个宏，来自 WindowsX.h：

```
#define ComboBox_SetCurSel(hwndCtl, index)          ((int)(DWORD)SNDMSG((hwndCtl), CB_SETCURSEL, (WPARAM)(int)(index), 0L)) 
```

其中 SNDMSG 是 SendMessage。换句话说，你应该这样做：

```
[DllImport("user32.dll")]
static extern IntPtr SendMessage(IntPtr hWnd, UInt32 Msg, Int32 wParam, Int32 lParam);

SendMessage(hWnd, 0x14E, (Int32)index, 0); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T06:50:05.637

看到这个：

[http://msdn.microsoft.com/en-us/library/windows/desktop/bb856484(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/bb856484(v=vs.85).aspx)

它是一个宏，而不是一个函数。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T06:49:38.757

ComboBox_SetCurSel 是宏，不能在 C# 中使用。使用 CB_SETCURSEL 消息调用 SendMessage API：http: [//msdn.microsoft.com/en-us/library/windows/desktop/bb775899%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/bb775899%28v=vs.85%29.aspx)

这是 SendMessage API 声明：[http ://www.pinvoke.net/default.aspx/user32/SendMessage.html](http://www.pinvoke.net/default.aspx/user32/SendMessage.html)

# jquery - 如何使用 jQuery 向元素添加伪类？

> ID：12740967
> 
> 赞同：47
> 
> 时间：2012-10-05T06:47:02.123
> 
> 标签：jquery, css, pseudo-class

在 CSS 中，当您将鼠标悬停在元素上时，您可以使用 :hover 伪类为其指定视图：

```
.element_class_name:hover {
    /* stuff here */
} 
```

如何使用 jquery 添加或“打开”这个伪类？通常在 jQuery 中，如果你想添加一个类，你会这样做：

```
$(this).addClass("class_name"); 
```

我尝试过“悬停”，但这实际上为元素添加了一个名为“悬停”的类。

如果有人知道要写什么，请告诉我！谢谢！

* * *

## 回答 #1

> 赞同：55
> 
> 时间：2012-10-05T06:50:10.280

您不能强制使用 jQuery 应用某个伪类。这不是伪类（尤其是动态伪类）的工作方式，因为它们被设计为基于无法通过 DOM（[规范](http://www.w3.org/TR/selectors/#pseudo-classes)）表达的信息进行选择。

您必须指定要使用的另一个类，然后使用 jQuery 添加该类。像这样的东西：

```
.element_class_name:hover, .element_class_name.jqhover {
    /* stuff here */
}

$(this).addClass("jqhover"); 
```

或者，您可以寻找`.element_class_name:hover`规则并使用 jQuery 本身添加该类，而无需将其硬编码到您的样式表中。不过原理是一样的。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-10-05T06:54:40.557

我认为使用 jQuery 或 javascript 无法做到这一点。

您可以在以下两个问题中找到相同的答案：

1.  [设置-css-pseudo-class-rules-from-javascript](https://stackoverflow.com/questions/311052/setting-css-pseudo-class-rules-from-javascript)
2.  [带有 jquery 的 css 伪类](https://stackoverflow.com/questions/486159/css-pseudo-classes-with-jquery)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-07-14T14:15:50.093

在页面上制作一个div

```
<div id="Style">
  <style>
    .element_class_name:hover {
      /* stuff here */
    }
  </style>
</div> 
```

然后以编程方式对样式进行硬编码，即

```
$("#Style").find("style").prepend("#" + this.id + ":hover, "); 
```

不幸的是，你调用它的元素必须有一个 id。

```
$("body").children().click(function(){
  $("#Style").find("style").prepend("#" + this.id + ":hover, ");
});
```

```
/* demo */
* {
  transition: opacity 1s;
}
```

```
<!DOCTYPE html>
<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  </head>
  <body>
    <div id="Style">
      <style>
        .element_class_name:hover {
          opacity: 0 !important;
        }
      </style>
    </div>

    <button id="btn1">Add hover class here</button>
    <button id="btn2">Add hover class here too</button>
    <p id="Note">
      To use this though, you'll have to assign an id to that particular element though.
    </p>
  </body>
</html>
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-04-21T17:01:45.170

jQuery 具有`hover()`如下所示的功能：[https ://www.w3schools.com/jquery/event_hover.asp](https://www.w3schools.com/jquery/event_hover.asp)

`:hover`这是pollyfill的一个非常好的功能。

`$(selector).hover(inFunction,outFunction)`

# mysql - 使用 count 函数时，什么会导致此查询提供此错误？

> ID：12740968
> 
> 赞同：0
> 
> 时间：2012-10-05T06:47:07.053
> 
> 标签：mysql, sql, database

直到今天，这个查询从我的数据库中得到了我需要知道的关于一张照片的所有信息：

```
SELECT 
    users.facebook_id, 
    users.first_name, 
    users.last_name, 
    photos.filename, 
    photos.description, 
    photos.finalist, 
    bookmarks.photo_id AS bookmark 
FROM `photos`, `users` 
LEFT JOIN bookmarks ON bookmarks.photo_id = 123 AND bookmarks.facebook_id = 123456789 
WHERE 
    users.facebook_id = photos.author AND 
    photos.id = 123 
LIMIT 1 
```

但是，现在我还想知道这张照片有多少票。

这是我的“投票”表：

```
CREATE TABLE IF NOT EXISTS `votes` (
  `photo_id` int(11) NOT NULL,
  `facebook_id` bigint(20) NOT NULL COMMENT 'The user''s Facebook ID.',
  `date` varchar(10) NOT NULL COMMENT 'Date formatted as YYYY-MM-DD.',
  UNIQUE KEY `one_vote_per_day` (`photo_id`,`facebook_id`,`date`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ; 
```

这是我尝试修改我的 SQL 查询以获取投票计数：

```
SELECT 
    users.facebook_id, 
    users.first_name, 
    users.last_name, 
    photos.filename, 
    photos.description, 
    photos.finalist, 
    bookmarks.photo_id AS bookmark,
    count(votes.*) AS vote_count
FROM `photos`, `users` 
LEFT JOIN votes ON votes.photo_id = 123  
LEFT JOIN bookmarks ON bookmarks.photo_id = 123 AND bookmarks.facebook_id = 123456789 
WHERE 
    users.facebook_id = photos.author AND 
    photos.id = 123 
LIMIT 1 
```

上述尝试导致此错误：

```
You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '*) AS vote_count FROM `photos`, `users` LEFT JOIN votes ON votes.photo_id = 1' at line 9 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:47:07.053

该错误是由语法问题引起的。那是星号。此查询按需要正确执行：

```
SELECT 
    users.facebook_id, 
    users.first_name, 
    users.last_name, 
    photos.filename, 
    photos.description, 
    photos.finalist, 
    bookmarks.photo_id AS bookmark,
    count(votes.photo_id) AS vote_count
FROM `photos`, `users` 
LEFT JOIN votes ON votes.photo_id = 123  
LEFT JOIN bookmarks ON bookmarks.photo_id = 123 AND bookmarks.facebook_id = 123456789 
WHERE 
    users.facebook_id = photos.author AND 
    photos.id = 123 
LIMIT 1 
```

# c# - Facebook C# SDK 发布图片或链接到粉丝页面

> ID：12740973
> 
> 赞同：-1
> 
> 时间：2012-10-05T06:47:25.243
> 
> 标签：c#, facebook

我如何在我的粉丝页面上发布图片，它显示为我的用户在页面中发布而不是页面自我发布

```
result = app.Post("/[ID]/feed", new Dictionary { { "link", "http://www.page.com" } }); 
```

![在此处输入图像描述](../Images/c053ad6d264cbe59ba2b1d9a500aa34e.png)

我在这里制作一个图像来描述一个问题：[问题图像](https://www.facebook.com/photo.php?fbid=447725135266087&set=a.447584021946865.95623.446726068699327&type=1&theater)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T09:16:35.530

如果你想作为一个页面发布，你必须获取一个页面访问令牌，

manage_pages 是获取页面access_token所需的权限，然后请求/USER_ID/accounts

如果您希望 access_token 不会过期，则需要使用新的端点，在此处记录。方案 4 和 5

[https://developers.facebook.com/roadmap/offline-access-removal/](https://developers.facebook.com/roadmap/offline-access-removal/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T07:48:54.993

如果您希望通过 API 完成的任何操作都显示为“由”您的页面完成，则必须获取*页面*访问令牌。

[https://developers.facebook.com/docs/authentication/pages/](https://developers.facebook.com/docs/authentication/pages/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T08:53:57.583

1.  我需要从[获取您的访问令牌中获取我的访问令牌](https://developers.facebook.com/tools/access_token/)
2.  如阅读[API 文档](https://developers.facebook.com/docs/authentication/pages/)：

    转到 https://graph.facebook.com/me/accounts?access_token=[您的访问权限从 1.] 它将获得您的所有权限访问权限，搜索您的页面使用此访问权限，它会正常工作

# azure - Pay As You Go subcriptiona cancellation in Azure

> ID：12740979
> 
> 赞同：0
> 
> 时间：2012-10-05T06:47:58.437
> 
> 标签：azure

I just created a azure account. When I see my subcription it shows two

1.  3 Months Free Trial
2.  Pay-As-You-Go

I want only the trial thing at the moment. So I cancelled Pay-As-You-Go. (It's status is currently Disabled) So I just want to know that will I be charged for this. Or should I remove this by contacting suppor center to be safe.

Thanks

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T11:42:55.527

If you do not deploy anything to your Pay-As-You-Go subscription then you should not get billed for it. Since it is disabled then you shouldn't be able to deploy anything to it, or use it anyway, so you should be safe. You may get billed for anything that was used by that subscription prior to it being disabled (if you used it for something).

I believe you can call support and request they remove the subscription completely if you like. I had an old beta subscription linked to my ID that was disabled and contacting support is what got it removed.

# regex - 从字符串中检索匹配元素

> ID：12740980
> 
> 赞同：1
> 
> 时间：2012-10-05T06:48:00.110
> 
> 标签：regex, bash, shell

使用 bash 我有一个字符串来保存我部署的应用程序：

```
APPS="myapp-a-1.0.war myapp-b-1.1.war myapp-c-1.2-SNAPSHOT.war" 
```

我可以确定是否部署了特定的应用程序：

```
if [[ "$APPS" == *myapp-a* ]]
then
    echo "myapp-a is deployed, but we don't know the version."
fi 
```

鉴于我只有单词前缀（应用程序名称，例如'myapp-a'），我如何检索完整的匹配单词（带有版本的应用程序）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:56:52.053

您可以遍历您的变量（前提是您不引用它）：

```
for app in ${APPS}; do
  if [[ "${app}" == myapp-a* ]]; then
    echo ${app}
  fi
done 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T09:52:22.103

很简单：

```
if [[ "$APPS" =~ myapp\-a([^war]*)war ]]; then
  echo "${BASH_REMATCH[0]} deployed"
fi 
```

导致：

```
myapp-a-1.0.war deployed 
```

如果您只需要版本：

```
if [[ "$APPS" =~ myapp\-a([^war]*)war ]]; then
  echo "${BASH_REMATCH[1]} deployed"
fi 
```

导致：

```
-1.0\. deployed 
```

如果您需要没有破折号、圆点等伪像的版本：

```
if [[ "$APPS" =~ myapp\-a\-([^war]*)\.war ]]; then
  echo "${BASH_REMATCH[1]} deployed"
fi 
```

导致：

```
1.0 deployed 
```

# django - 将字段列表传递给 QuerySet.values()

> ID：12740983
> 
> 赞同：15
> 
> 时间：2012-10-05T06:48:39.057
> 
> 标签：django, django-queryset

有没有办法可以传递要由[QuerySet.values()](https://docs.djangoproject.com/en/dev/ref/models/querysets/#values)检索的字段列表。我有一个模型，我想在不同的场合从中检索不同的字段集。

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2012-10-05T07:01:51.307

`*`当传递给函数时，您可以使用运算符将​​列表扩展为单独的参数，如Python 教程中所述[。](https://docs.python.org/2/tutorial/controlflow.html#unpacking-argument-lists)

```
>>> qs = User.objects.all()
>>> values = ['first_name', 'email']
>>> qs.values(*values) 
```

产量

```
[{'first_name': u'aaaa', 'email': u'a@b.com'}, 
 {'first_name': u'', 'email': u'abc@def.com'}, 
 {'first_name': u'', 'email': u'abcd@gmail.com'},
 '...(remaining elements truncated)...'] 
```

（为简洁起见，我进一步截断了输出）。

# c# - finally 块的内容在 try 的内容之前运行？

> ID：12740996
> 
> 赞同：-5
> 
> 时间：2012-10-05T06:49:23.113
> 
> 标签：c#, asp.net, try-catch, try-catch-finally, finally

如何修复以下代码，以便最终部分不会被覆盖，并且我可以在 lbl.Process 的文本中看到“这是常规文本”？

```
try
{
    grd_Order.SaveClicked(sender, e);
   //This is a button's Clicked event, which redirects to the same page after saving. 
}
catch
{
}
finally
{
   lbl_Process.Text = "This is a regular text"
   //Some more process
} 
```

编辑：每当我简化我的代码以使我的问题更容易理解时，我都会面临同样的事情。很多很多的误会。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T06:50:45.730

finally 块正在工作，问题是由于您正在重定向到同一页面，因此您`lbl_Error`在回发时丢失了它的文本。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T06:51:21.417

如果你在 finally 块中放置一个断点，你会注意到它*总是*执行。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-05T06:50:55.600

您发布的代码中的 finally 块没有任何目的。最后用于清理。如果代码出错，请将代码移至 catch 块。

做这个：

```
try
{
    grd_Order.SaveClicked(sender, e);
   //This is a button's Clicked event, which redirects to the same page after saving. 
}
catch (Exception ex)
{
    lbl_Error.Text = "Error Occured " + ex.Message;
} 
```

如果页面重定向，这意味着没有发生错误。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-05T06:59:01.520

供参考：

Try 块将执行它包含的代码。如果任何异常在运行时被触发，它将被 Catch 捕获。

无论如何，Finally 块都会执行。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-05T06:59:59.570

无论您的应用程序是否抛出异常，最终总是会被执行。所以您希望文本被覆盖

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-05T07:13:57.110

我认为您的 finally 代码块工作正常。也许您的 lbl 文本丢失了，因为未启用视图状态。

我建议您不要在 finally 块中写入错误消息。finally 块用于代码清理等。

在这里，您需要将错误消息放入 catch 块中。

关于 try catch finally 的更多内容

Try Block：在你正在做的事情（数据库检索、连接、调用函数等）的地方用 try 块包装代码

Catch 块：包装在这些块中的代码将在 try 块中出现异常时执行，如果您愿意，可以有多个 catch 块，每个块用于特定的异常。

finally：不管try块的异常或成功执行，finally块总是运行，这个块用于代码清理。考虑这个例子 - 你创建了一个数据库连接，然后尝试检索一些数据，你的连接是成功的，但是你的查询中有一个错误，然后会有一个异常，它会来捕获块。您需要做的是最终关闭连接，这样您就不会有任何打开的连接。

我希望它会有所帮助。