# StackOverflow 问答 12775000-12775999

# php - 自动重新排列图像的行

> ID：12775002
> 
> 赞同：0
> 
> 时间：2012-10-08T03:40:10.230
> 
> 标签：php, c++, python, image-processing, python-imaging-library

有人可以告诉我自动重新排列图像行的术语是什么：

![图片1](../Images/361333b5fa3d2c9ad0202196897aaacc.png)

让它看起来像这样：

![图 2](../Images/84caf81f71ba9c8204f8e8f56d331db7.png)

如果可能的话，有没有人有任何例子说明如何做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T07:24:54.373

您可能会通过整数规划以及测量连接组件的数量和图像方差的组合得到某个地方。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-14T14:55:05.400

您的问题类似于碎文件的重建。寻找有关“碎纸机”或“文件重建”的学术论文。一些大学图像处理课程有与文档重建相关的在线笔记和/或练习。

Instagram Engineering 提供奖励以“分解”并重建图像。甚至还有一些示例代码可以帮助您入门。 [http://instagram-engineering.tumblr.com/](http://instagram-engineering.tumblr.com/)

如果您已经有一些代码，请将其发布以供审核。

# excel - 错误 91 - 未设置对象

> ID：12775005
> 
> 赞同：0
> 
> 时间：2012-10-08T03:40:39.907
> 
> 标签：excel, vba

这是发布与错误 91 相关的[#12772920的延续。好的，情况就是这样。](https://stackoverflow.com/questions/12772920/getting-error-91)(1) 如果这一行被注释掉，那么 (2) 会产生错误 91。如果没有被注释掉，代码运行良好。(3) 这应该将公共 obj shCompanies 指向“公司”表，不是吗？我很困惑为什么这条线似乎没有像 (1) 那样设置 shCompanies 对象。

```
Option Explicit
Public wbCode As Workbook

Public Sub Main()
   Dim tables As New CTables
   Set wbCode = ThisWorkbook
   Call SetExcelObjects
   (2)Call tables.Indexing
End Sub

Public Sub SetExcelObjects()
   Dim tables As New CTables
   (3)Set tables.shCompanies = wbCode.Worksheets("Companies")   
End Sub

---Class Module CTables
Option Explicit
Public shCompanies As Worksheet

Public Sub Indexing()
   Dim rng As Long
   Dim tables As New CTables
   (1)Set tables.shCompanies = wbCode.Worksheets("Companies")
   rng = tables.shCompanies.UsedRange.Rows.Count
End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T14:01:02.787

您需要声明`tables`为`CTables`. 然后您可以从不同的模块对其进行操作。重新声明它，因为你一直在做“擦干净”并导致你看到的错误。您当然不想在`CTables`.

请注意，最佳做法是将实例化表与其声明分开，因此`Set tables = New CTables`.`Main`

下面为我​​编译和运行。我认为它符合您的期望：

```
Public wbCode As Workbook
Public tables As New CTables

Public Sub Main()
Set tables = New CTables
Set wbCode = ThisWorkbook
Call SetExcelObjects
Call tables.Indexing 
End Sub

Public Sub SetExcelObjects()
Set tables.shCompanies = wbCode.Worksheets("Companies")
End Sub

    'Class CTables
Public shCompanies As Worksheet

Public Sub Indexing()
   Dim rng As Long
   rng = shCompanies.UsedRange.Rows.Count
End Sub 
```

# amazon-s3 - 存储大量图像 S3 与 DynamoDB

> ID：12775012
> 
> 赞同：25
> 
> 时间：2012-10-08T03:42:30.750
> 
> 标签：amazon-s3, amazon-web-services, amazon-dynamodb

我正在研究需要每秒存储大量图像的项目。如果我应该将图像存储在 S3 或 DynamoDB 中，我有点困惑。我的困惑是因为 S3 似乎不支持批量请求，如果需要，我必须能够批量获取所有图像；另一方面，我不确定将所有这些图像存储在 dynamoDB 的表中是否是个好主意。最好的方法是什么？

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2012-10-08T04:13:38.027

简短回答：使用 S3。

长答案：DynamoDB 将单个记录限制为 64 KB，因此除非您的图像很小，否则您可能*无法*使用 DynamoDB。

您提到希望在批处理请求中读取您的图像，但 DynamoDB 批处理请求最多返回 100 条记录或 1 MB（以较少者为准），因此无论如何您都不能一次检索所有图像。您可以通过一次读取一个页面来转储 DynamoDB 中的所有内容，这意味着大量请求一个接一个。不快。

DynamoDB 的延迟低于 S3，并且支持可配置的吞吐量。但是，S3 开箱即用支持尽可能多的并发。想一次上传 1000 张图片吗？去吧！每个对象的写入时间是否为 400 毫秒都没有关系，因为您可以同时传输任意数量的对象。同样，您可以通过获取存储桶中所有内容的列表，然后并行检索每个对象，从 S3 中转储所有内容。

使用 S3 的其他原因：

*   HTTP 兼容性，因此您可以将其他人或应用程序直接指向存储桶
*   大大降低存储成本
*   按请求付费，而不是按预置吞吐量付费（DynamoDB 中 640 KB/s 的写入容量每月花费 460 美元，而 S3 中每 1000 次上传的固定费用为 0.01 美元）

我能想象出 DynamoDB 可能对图像存储有意义的唯一情况是，如果您的图像很小、经常更改，*并且*您对读取延迟非常敏感。除此之外，使用 S3。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-10T06:27:39.753

将图像存储在 S3 中。willglynn 已经描述了 DynamoDB 的限制。但是，您可能希望将 URL 存储到 DynamoDB 中的图像和其他元数据。

关于 DynamoDB 的一点警告，它可能非常昂贵。从免费层升级可能很容易花费几百美元来购买十几个吞吐量单位。如果您将其用于存储需要更大容量的大型项目（接近 64KB，例如图像），您很可能最终会支付数千美元。要使用 AWS 存储元数据，您可能需要检查 SimpleDB。

# javascript - JavaScript循环中的回调导致问题

> ID：12775021
> 
> 赞同：0
> 
> 时间：2012-10-08T03:44:16.637
> 
> 标签：javascript, asynchronous

我有一个使用 WCF 服务（在 SharePoint 中）使用数据的函数。该服务不返回项目所需的特定字段，因此我使用 SharePoint 客户端对象模型通过使用 WCF 服务返回结果中的 ID 来查询该字段。

```
function LoadAllNews() {
var listUrl = "/_vti_bin/ListData.svc/Pages";

$.getJSON(listUrl,
 function (data) {
     $.each(data.d,
      function (i, result) {
          GetImageUrl(result.Id, function (image) {
              $(ConstructHtml(image, result.Title, result.Path, result.Name)).appendTo("#News");
          });
      });
 }); 
```

}

当我在这里调试时`result`，我总是以相同的顺序返回项目，但由于 GetImageUrl 异步执行查询，因此项目不会以相同的顺序附加。大多数情况下，他们必须有时看起来是随机的，因为获取图像的时间会有所不同：

```
function GetImageUrl(id, callback) {
    var context = new SP.ClientContext();
    var items = context.get_web().get_lists().getByTitle('Pages').getItemById(id);
    context.load(items);

    context.executeQueryAsync(function () {
        callback(items.get_item('PublishingRollupImage'));
    });
}

function ConstructHtml(imageUrl, title, path, name) {
    var html = "" // a long html string..
    return html;
} 
```

我可以在 sharepoint.stackexchange 上发布此内容，但这里的受众范围更广，如何使用 JavaScript 处理这个问题比使用 SharePoint 本身更重要。

关于我应该如何处理这个问题的任何想法？我在想像跳过 LoadAllNews() 中的图像，然后在添加所有项目时使用 JavaScript/jQuery 为每个新闻项目加载图像。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T04:16:26.650

如果事件的顺序很重要，请将其设为同步过程

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T05:36:21.997

基于`fork`我对这个问题的回答中的功能：[Coordinating parallel execution in node.js](https://stackoverflow.com/questions/4631774/coordinating-parallel-execution-in-node-js/4631909#4631909)。我会这样做：

```
var getImages = [];
var meta = [];
$.each(data.d,
  function (i, result) {
    getImages.push(function(callback){
      GetImageUrl(result.Id, callback);
    });
    meta.push({
      title : result.Title,
      path : result.Path,
      name : result.Name
    });
});

fork(getImages,function(images) {
  $.each(images,function(i,image){
      $(ConstructHtml(
          image,
          meta[i].title,
          meta[i].path,
          meta[i].name
      )).appendTo("#News");
   });
}); 
```

的实现`fork`很简单：

```
function fork (async_calls, shared_callback) {
  var counter = async_calls.length;
  var all_results = [];
  function makeCallback (index) {
    return function () {
      counter --;
      var results = [];
      // we use the arguments object here because some callbacks 
      // in Node pass in multiple arguments as result.
      for (var i=0;i<arguments.length;i++) {
        results.push(arguments[i]);
      }
      all_results[index] = results;
      if (counter == 0) {
        shared_callback(all_results);
      }
    }
  }

  for (var i=0;i<async_calls.length;i++) {
    async_calls[i](makeCallback(i));
  }
} 
```

上面的`fork`函数按顺序收集异步结果，因此它完全符合您的要求。

# php - 我的上传文件脚本出错（PHP）

> ID：12775024
> 
> 赞同：0
> 
> 时间：2012-10-08T03:44:30.470
> 
> 标签：php, image, file, upload

我有一个脚本：

```
if(isset($_FILES['image'])){
$errors = array();
$allowed_ext = array('jpg', 'jpeg', 'png', 'gif');
$file_name = $_FILE['image']['name'];
$file_ext = strtolower(end(explode('.', $file_name)));
$file_size = $_FILE['image']['size'];
$file_tmp = $_FILE['image']['tmp_name'];

if(in_array($file_ext, $allowed_ext) === false){
    $errors[] = 'Extension not allowed';
}

if($file_size > 2097152){
    $errors[] = 'file size must be under 2mb';
}

if(empty($errors)){
    if(move_uploaded_file($file_tmp, "../../img/usr/profile/.$file_name")){
        echo 'File uploaded';
    }
}else{
    foreach($errors as $error){
        echo $error, '<br>';
    }
}
} 
```

它不工作。它应该将图像上传到某个目录。这是html：

```
<form action="" method="POST" enctype="multipart/form-data">
    <input type="file" name="image">
    <input type="submit" name="submit" value="Update Info">
</form> 
```

当我点击提交时，屏幕顶部出现“不允许扩展”的错误。html 和 php 在同一个文件中（我只是给了你一个小片段。）我的代码看起来有什么问题吗？谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-08T03:47:29.270

要访问文件，您必须使用`$_FILES`变量。在您的代码中，您有时使用过`$_FILE`，这不起作用；）

# iphone - MPMovieViewController 不会自动旋转

> ID：12775025
> 
> 赞同：3
> 
> 时间：2012-10-08T03:44:40.550
> 
> 标签：iphone, ios6

我有一个通过 MPMoviePlayerViewController 播放视频的应用程序，该应用程序在 UITableViewController 上执行选择操作后呈现，该 UITableViewController 嵌入在 UINavigationController 中，而 UINavigationController 嵌入在 UITabBarController 中。

TabBar 控制器 > 导航控制器 > 表视图控制器 * MPMoviePlayerViewController

在 iOS5 中一切正常，但升级到 iOS6 我发现视频在呈现后没有按预期旋转。如果我在目标摘要页面上选择了更多受支持的界面方向，则会导致整个应用程序旋转。

Apple 文档在 UIViewController 类参考中说明了以下内容：

> 在 iOS 6 中，您的应用支持在应用的 Info.plist 文件中定义的界面方向。视图控制器可以覆盖supportedInterfaceOrientations 方法来限制支持的方向列表。一般情况下，系统只会在窗口的根视图控制器或呈现为填满整个屏幕的视图控制器上调用该方法；子视图控制器使用其父视图控制器为它们提供的窗口部分，并且不再直接参与有关支持哪些旋转的决策。应用程序的方向掩码和视图控制器的方向掩码的交集用于确定视图控制器可以旋转到哪些方向。

但我不确定子视图控制器何时真正参与轮换决策。我是否需要更改标签栏控制器的响应方式`shouldAutorotate`以及`supportedInterfaceOrientations`播放电影的方式？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T03:44:40.550

基本答案是所有视图控制器的旋转行为由“最顶层”视图控制器决定，但 MPMoviePlayerViewController 决定自己的旋转行为，因为它充当“呈现为填充整个屏幕的视图控制器”。

例如：如果我有一个单视图应用程序，自动旋转方法将在单视图的视图控制器上处理。如果我将该视图嵌入标签栏中，那么标签栏控制器实现将处理这些消息。如果我将视图嵌入标签栏内的导航栏中，标签栏实现仍然是处理消息的实现（如果其他视图控制器嵌入其中，它仍然是“根视图控制器”）。

MPMoviePlayerViewController 将对 shouldAutorotate 响应 YES 并支持横向。仍然可以防止影片旋转（通过在目标摘要页面上不选择纵向），但您为视图控制器层次结构选择的设置不会影响其这样做的能力。当 MPMoviePlayerViewController 出现时，它是处理自动旋转消息的视图控制器。当它没有出现时，Tab Bar Controller 负责。

# python - 无论如何都可以在没有登录屏幕的情况下登录 CAS 吗？

> ID：12775027
> 
> 赞同：0
> 
> 时间：2012-10-08T03:45:03.953
> 
> 标签：python, cas, python-requests

我的大学使用 CAS 作为登录工具来访问教授发布家庭作业和作业的地方。我正在尝试构建一个 python 脚本，它可以从中捕获所有到期日期，并在每个到期日期之前向我发送提醒。但是，我无法通过 python 请求模块通过 CAS 登录程序。无论如何我可以在不打开浏览器的登录页面的情况下登录 CAS 吗？我可以将我的用户名和密码作为参数传递给它吗？

我试图通过的登录屏幕是这个 [https://netid.rice.edu/cas/login?service=https%3A%2F%2Fowlspace-ccm.rice.edu%2Fsakai-login-tool%2Fcontainer](https://netid.rice.edu/cas/login?service=https%3A%2F%2Fowlspace-ccm.rice.edu%2Fsakai-login-tool%2Fcontainer)

我尝试使用的请求模块可以在这里找到：http: [//docs.python-requests.org/en/latest/](http://docs.python-requests.org/en/latest/)

赞赏！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T03:11:48.077

有几种方法可以走。

1）让您的脚本像浏览器一样工作，并将您的凭据发布到 cas 登录表单。这将导致对具有 CAS 票证的资源的重定向请求。尊重重定向请求，你应该好好去。

2) 如果您的学校有可用的 CAS REST API，您可以使用它为您尝试访问的应用程序获取 TGT 和后续 ST。 [https://wiki.jasig.org/display/CASUM/RESTful+API](https://wiki.jasig.org/display/CASUM/RESTful+API)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T17:24:30.063

不能从受保护的 CAS 应用程序外部绕过 CAS 登录 - 如果您找到了存在安全漏洞的方法！！！

# c++ - 检查 C++ 中的地图是否包含来自另一个地图的所有键

> ID：12775028
> 
> 赞同：7
> 
> 时间：2012-10-08T03:45:10.023
> 
> 标签：c++, stl, map, set, intersection

我打算在 C++ 中使用两个映射，类型为：`std::map<char, Node>`，`Node`自定义类在哪里。假设我有两个映射，`m1`并且是上述类型，*我*`m2`想找出是否`m1`包含. 换句话说，我想验证 和 的键集的交集与 的键集相同。*`m2``m1``m2``m2`*

 *我可以遍历所有键 in`m2`并执行 a `find()`or `count()`on `m1`，但这似乎是一种浪费，而且可能会很慢。我这样说是因为键在 an 中按排序顺序存储为二叉搜索树`std::map`，因此每个 find/count 将采用 O(logn)，对于 中的下一个键，键中`m2`的相同路径`m1`必须从头开始遍历。

我是 STL 的新手，所以请原谅我对似乎应该很容易做到的事情的无知。此外，一些简单的示例代码片段或指向代码片段的链接将非常有助于更好地理解。我不能使用非标准库，包括 boost。

提前致谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-08T03:59:57.273

由于 a 的键`map`已排序，因此您可以同时遍历它们并相互比较键。如果`key(m1) < key(m2)`，增加 m1 的迭代器；如果`key(m2) < key(m1)`然后 m2 包含不在 m1 中的键。

这是 O(n)。*

# php - 如何在 yii 中实现路径别名

> ID：12775031
> 
> 赞同：0
> 
> 时间：2012-10-08T03:46:07.817
> 
> 标签：php, yii

根据此链接，我几乎设法实现了该结构。但是路径别名让我感到困惑。有人可以解释一下我怎么能做到这一点。

[http://www.yiiframework.com/wiki/155/the-directory-structure-of-the-yii-project-site/#hh5](http://www.yiiframework.com/wiki/155/the-directory-structure-of-the-yii-project-site/#hh5)

我希望我的前端控制器从公共文件夹中访问这些模型。

谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-08T05:09:59.107

使用[`setPathOfAlias()`YiiBase 类](http://www.yiiframework.com/doc/api/1.1/YiiBase#setPathOfAlias-detail "http://www.yiiframework.com/doc/api/1.1/YiiBase#setPathOfAlias-detail")，设置路径别名：

```
Yii::setPathOfAlias('site', $site); 
```

您可以在前端的配置*main.php*中执行此操作：

```
$site=dirname(dirname(dirname(__FILE__))); // this will give you the / directory
Yii::setPathOfAlias('site', $site);

return array(
    // the config array
    // incase you want to autoload the models from common
    'import'=>array(
        'site.common.models.*'
    )
); 
```

正如在没有自动加载的情况下询问的那样，在这种情况下，您必须首先包含模型，然后才能实例化它。要包括我们可以使用`Yii::import($alias)`，它实际上做了几乎相同的事情（[来自指南](http://www.yiiframework.com/doc/guide/1.1/en/basics.namespace#importing-classes "http://www.yiiframework.com/doc/guide/1.1/en/basics.namespace#importing-classes")）：

> 导入的类定义在第一次被引用之前实际上是不包括在内的（通过 PHP 自动加载机制实现）。

*因此，要使用在common/models/*中定义的 DummyModel 类：

```
Yii::import('site.common.models.DummyModel');
$model = new DummyModel; 
```

我建议在 main.php 配置本身中使用自动加载，指定导入数组不会降低性能，因为只有在引用模型时才会包含模型。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-09-01T10:49:47.723

定义自己的路径别名的最佳方法是在*/config/main.php*中添加“别名”数组：

```
return array(
    'basePath'=>dirname(__FILE__).DIRECTORY_SEPARATOR.'..',
    'name'=>'Project name',
    'aliases'=>array(
        'myalias'=>'/path/to/some/folder',
    ),
    'import'=>array(
        'myalias.models.*'
    )
    ... 
```

然后在代码中的任何位置，您都可以获得别名的路径：

```
echo Yii::getPathOfAlias('myalias'); 
```

有关别名的更多信息在[这里](http://www.yiiframework.com/doc/guide/1.1/en/basics.namespace)。

# css - 设置 PIE.htc 的文件位置

> ID：12775037
> 
> 赞同：2
> 
> 时间：2012-10-08T03:46:48.330
> 
> 标签：css, css3pie

我为我的 pie.htc 创建了另一个文件夹..但是当我在 IE8 中加载我的 html 文件时它不起作用..我已经尝试为其行为设置不同的位置但它仍然无法工作..

这是我的代码..

```
behavior: url(/pie/PIE.htc); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T00:06:31.210

正如其他人在其他地方指出的那样，以及此处记录的[http://css3pie.com/documentation/known-issues/](http://css3pie.com/documentation/known-issues/)，PIE.htc 文件位置必须相对于使用它的页面，而不是相对于 css 文件。如果您需要在多个不同页面中使用 PIE，请考虑动态添加对它的引用。

以下是我们在带有母版页的 C# .Net 应用程序中处理它的方法：

在 head 标记之间的母版页标记中，放置以下行：

```
<style id="InlinePageStyles" runat="server" type="text/css"></style> 
```

在后面的母版页代码的 Page_Load 方法中，放置以下行：

```
//get path to PIE.htc and add it to the page as a style (creates a class called Pie)
InlinePageStyles.InnerHtml += string.Format(".Pie {{ behavior: url({0}PIE.htc); }}", ConvertRelativeUrlToAbsoluteUrl(this.Request, ResolveUrl("~/"))); 
```

同样在后面的代码中，添加这个方法：

```
private string ConvertRelativeUrlToAbsoluteUrl(HttpRequest request, string relativeUrl)
{
    return string.Format("http{2}://{0}{1}", request.Url.Host, System.Web.VirtualPathUtility.ToAbsolute(relativeUrl), request.IsSecureConnection ? "s" : string.Empty);
} 
```

接下来，从您的 CSS 中删除该行为。

最后，将“Pie”类添加到任何需要它的页面元素中。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T04:22:07.347

行为：url(../pie/PIE.htc);

".." 用于选择文件夹，饼图是文件夹

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T04:17:40.793

...................................

嗨现在把你`pie.htc`的**根位置**和

像这样写到CSS

```
behavior: url(PIE.htc); 
```

***[更多信息](http://css3pie.com/)***

# c# - WinRT DataWriter，如何确保缓冲区中的所有字节都保存到后备存储中

> ID：12775042
> 
> 赞同：0
> 
> 时间：2012-10-08T03:47:10.983
> 
> 标签：c#, windows-runtime, idisposable

System.IO.StreamWriter 保证在处理缓冲区时将字节保存在缓冲区中。像这样

```
using (StreamWriter writer = new StreamWriter("C:\\a.txt"))
{
   writer.WriteLine("Hello world."); 
} 
```

StreamWriter 的好处是我可以从多个线程调用它的 Dispose 方法，而不必担心数据丢失。

但是对于 Windows.Storage.Streams.DataWriter，我必须显式调用它的 StoreAsync 方法，否则数据不会保存到文件中。问题是，如果 DataWriter 已被释放（从其他线程），调用 StoreAsync 将引发 ObjectDisposedException。所以我必须在调用 StoreAsync 之前检查 DataWriter 是否已经被处理掉了。所以我的代码看起来像

```
try
{
    dataWriter.WriteBytes(buffer);
}
catch(...)
{
     //...
}
finally
{
    lock (lockForDisposingDataWriter) 
    {
        if (!bDisposed) //Boolean flag indicating whether dataWriter has been disposed of
        {
            bDisposed = true;
            await dataWriter.StoreAsync(); //await operator is not allowed here
            dataWriter.Dispose();
        }
    }
} 
```

问题：</p>

1.  如何确保 DataWriter 缓冲区中的字节被存储？我认为在 finally 块中调用 StoreAsync 会带来麻烦，因为 finally 块中不允许使用“等待”。
2.  如果我的解决方案可以工作，如何检测数据写入器是否已以线程安全的方式处理？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:44:26.973

无论如何，您的代码都有问题，因为您需要在`StoreAsync()`调用之前等待调用`Dispose()`。

在您的代码`StoreAsync()`中可能会与`Dispose()`.

你需要这样做：

```
 await dataWriter.StoreAsync();
 dataWriter.Dispose(); 
```

# wordpress - 在 Dreamhost 上使用 Git 开发 WordPress 主题

> ID：12775045
> 
> 赞同：1
> 
> 时间：2012-10-08T03:47:29.110
> 
> 标签：wordpress, git, git-submodules

我正在尝试使用[根](https://github.com/retlehs/roots)作为我的起始主题来设置我的第一个基于 Git 的 WordPress 主题开发。我打算在本地开发一个主题并时不时地推送到我的 Dreamhost VPS。阅读[Dreamhost Wiki](http://wiki.dreamhost.com/Git)上的一些信息。我还遵循了[David Winter 的](http://davidwinter.me/articles/2012/04/09/install-and-manage-wordpress-with-git/)关于使用 Git 设置 WordPress 核心更新选项的教程。我还以主题根源为基础为我的主题建立了另一个 repo。也许我也应该将其设为子模块，但我只是在这里学习。我在服务器上设置了一个裸仓库，并在本地尝试发出拉取请求，但这不起作用。

**本地**

对于我的本地主题，我有这个：

```
$ pwd
/opt/local/www/imagewize/wp-content/themes/img/.git
jaspersmbp:.git jasper$ cat config 
```

这里是主题的 git 配置文件：

```
[core]
    repositoryformatversion = 0
    filemode = true
    bare = false
    logallrefupdates = true
    ignorecase = true
[remote "origin"]
    url = ssh://me@domain.com/~/domain.com/wp-content/themes/img
    fetch = +refs/heads/*:refs/remotes/origin/* 
```

WordPress子模块详细信息是：位置：

```
$ pwd
/opt/local/www/imagewize 
```

Git 配置文件：

```
core]
    repositoryformatversion = 0
    filemode = true
    bare = false
    logallrefupdates = true
    ignorecase = true
[submodule "wordpress"]
    url = git://github.com/WordPress/WordPress.git 
```

**偏僻的**

在主题内的远程 DH VPS 上，我有以下配置：

```
core]
    repositoryformatversion = 0
    filemode = true
    bare = true 
```

当我在本地主题内并尝试连接到 Dreamhost VPS 时，我得到：

```
$   git pull origin master
    fatal: Couldn't find remote ref master
    me:img jasper$ fatal: The remote end hung up unexpectedly 
```

**调试**

```
$ git branch -a 
```

在本地加载 nada..

```
git push origin master
error: src refspec master does not match any.
error: failed to push some refs to 'ssh://me@domain.com/~/imagewize.com/wp-content/themes/img' 
```

**更新**

在配置中调整 url，现在我得到：

```
git push origin master
fatal: '/imagewize.com/wp-content/themes/img' does not appear to be a git repository
fatal: The remote end hung up unexpectedly 
```

**更新二**

我做了更多的在线阅读，在我发现[src refspec master 在 git 中推送提交时不匹配任何](https://stackoverflow.com/questions/4181861/src-refspec-master-does-not-match-any-when-pushing-commits-in-git)内容后，我意识到我确实添加了，但没有提交。

```
git commit -m 'Initial commit'
[master (root-commit) 7bbcd6a] Initial commit
 137 files changed, 17766 insertions(+)
 create mode 100644 .gitignore
......... 
```

接着：

```
$ git push origin master
Counting objects: 150, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (144/144), done.
Writing objects: 100% (150/150), 259.70 KiB, done.
Total 150 (delta 26), reused 0 (delta 0)
To ssh://me@domain.com/~/domain.com/wp-content/themes/img/
 * [new branch]      master -> master 
```

我们已经启动并运行了！

只是不知何故我的本地文件没有上传到远程主题文件夹

```
$ ls -lha
total 16K
drwxrwxr-x 7 me server  147 Oct  7 20:21 .
drwxr-xr-x 6 me server  105 Oct  7 20:21 ..
-rw-rw-r-- 1 me server   23 Oct  7 20:21 HEAD
drwxrwxr-x 2 me server   10 Oct  7 20:21 branches
-rw-rw-r-- 1 me server   66 Oct  7 20:21 config
-rw-rw-r-- 1 me server   73 Oct  7 20:21 description
drwxrwxr-x 2 me server 4.0K Oct  7 20:21 hooks
drwxrwxr-x 2 me server   28 Oct  7 20:21 info
drwxrwxr-x 4 me server   40 Oct  7 20:21 objects
drwxrwxr-x 4 me server   41 Oct  7 20:21 refs 
```

，但我应该尽快解决这个问题..

**更新三**

裸存储库没有工作目录，似乎[在此处](https://stackoverflow.com/questions/7219689/git-files-pushed-from-local-repo-not-showing-up-in-remote-git-repo)进行了解释。他们似乎说我应该在生产中克隆。因此，无论我在哪里创建裸存储库，都不是我克隆最终结果的地方。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T04:40:59.090

只需要更改设置。我推送的地方将只是 git 存储库，用于跟踪 Github 之类的更改，并且在我想要获得最终结果的任何地方，我都会克隆存储库。

# java - Java - 作为长值的日期：TimeZone 是如何关联的？

> ID：12775047
> 
> 赞同：6
> 
> 时间：2012-10-08T03:48:05.410
> 
> 标签：java, datetime, calendar, timezone

有人可以详细解释以下内容：

我有一个`long`代表 a 的值`date`。

1.  `timezone`与价值相关联的是什么`long`？

2.  如何将`long`值转换为正确的日期`time zone`？

3.  有没有办法识别`timezone`与`long date`价值相关的？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-08T04:27:13.553

The long is milliseconds since Jan 1970, GMT. So, to that respect, it is GMT.

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-08T04:14:48.407

Date （作为 long 或[java.util.Date](http://docs.oracle.com/javase/6/docs/api/java/util/Date.html)）表示时间的某个时刻。

除非您处理日历，否则不涉及时区。

您可以为给定的 TimeZone 和 Locale 创建一个日历，如下所示：

```
long rightNow = System.currentTimeMillis();
Locale exampleLocale = Locale.GERMANY;
TimeZone zone = TimeZone.getTimeZone("EST");

Calendar theCalendar = Calendar.getInstance(zone, exampleLocale);
theCaledar.setTime(new Date(rightNow)); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-10-08T04:26:52.170

The `long` value which represents the `java.util.Date` is the number of milliseconds elapsed from epoch. (Jan 1, 1970)

```
/**
 * Allocates a <code>Date</code> object and initializes it to 
 * represent the specified number of milliseconds since the 
 * standard base time known as "the epoch", namely January 1, 
 * 1970, 00:00:00 GMT. 
 *
 * @param   date   the milliseconds since January 1, 1970, 00:00:00 GMT.
 * @see     java.lang.System#currentTimeMillis()
 */
public Date(long date) {
    fastTime = date;
} 
```

*   What will be the timezone associated with the long value?
    Can you attach a unit to a long value.? No.
    This is akin to saying given an int 2 what does it represent? . It could be 2 miles or 2 pounds.

*   How to convert the long value to a date with proper time zone?
    You can't because of above.

*   Is there is way to identify the timezone associated with the long date value?
    Nope.

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-08T03:49:46.397

当时间为长格式时，`TimeZone`不会与之关联。

您需要使用任一`SimpleDateFormat`（或）`Calendar`API 将时区应用于长值。

# javascript - 如何根据光标位置创建平衡脚本？

> ID：12775049
> 
> 赞同：0
> 
> 时间：2012-10-08T03:48:27.847
> 
> 标签：javascript, jquery

我正在尝试做一些与这个游戏非常相似的事情。[http://i301.photobucket.com/albums/nn42/playonlineflashgame/HomeRun.swf](http://i301.photobucket.com/albums/nn42/playonlineflashgame/HomeRun.swf)

虽然它不是游戏，但它只是我试图根据光标的移动应用的一个简单的“平衡”。

与我在那里提供的链接相同的想法，那个人根据你的光标位置开始左右摇摆。我的想法是，我一直在努力获得与您在游戏中看到的效果相同的平滑度。加速度，惯性，重力等......不确定是否需要那么复杂，但越简单越好。

因此，如果有人曾经建造或做过类似的事情可以帮助我，我会终生感激吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T04:06:42.820

这是我将为这个问题做些什么的总体思路。

[http://jsfiddle.net/Q3UaA/](http://jsfiddle.net/Q3UaA/)

# php - 使用 PHP Print 显示 jQuery 函数是不好的做法吗？

> ID：12775050
> 
> 赞同：1
> 
> 时间：2012-10-08T03:48:48.097
> 
> 标签：php, jquery, wordpress

需要在 wordpress 站点的标题中显示某个 jQuery 以设置插件。使用 php print 方法来完成它是不好的做法吗？我正在使用以下代码：

```
<?php is_page( 'front-page' ); print 
"<script>
jQuery(function() {

        jQuery('#bannerscollection_kenburns_majestic').bannerscollection_kenburns({
            skin: 'majestic',
            width: 2530,
            height: 1200,
            autoHideNavArrows:true,
            numberOfThumbsPerScreen:16,
            thumbsOnMarginTop:23,
            thumbsWrapperMarginTop: 0,
            initialZoom: 1,
            finalZoom: 1,       
        });     

    });
</script>"
?> 
```

编辑

我最终使用了这个，效果很好。

```
<?php is_page( 'front-page' ); wp_enqueue_script( 'kbsettings' ); ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T05:35:07.037

你真的不应该打印那么多行。如前所述，您可以使用HEREDOC？通常，只有在您的 JS 中需要 PHP 变量时，PHP 中的 JS 才是真正的。我在这里看不到？

为什么不能只加载该脚本而不是打印它？

```
<?php if is_front_page(){ //the general best practice way of getting the front page
    include(YOURPATH.'js/yourfile.js');
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T03:51:16.083

你可以这样试试

```
<?php if(is_page( 'front-page' )){ ?>
<script>
jQuery(function() {

        jQuery('#bannerscollection_kenburns_majestic').bannerscollection_kenburns({
            skin: 'majestic',
            width: 2530,
            height: 1200,
            autoHideNavArrows:true,
            numberOfThumbsPerScreen:16,
            thumbsOnMarginTop:23,
            thumbsWrapperMarginTop: 0,
            initialZoom: 1,
            finalZoom: 1,       
        });     

    });
</script>

<?php } ?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T03:55:51.533

通常是的，在动态脚本中生成静态内容是不好的做法，它会影响服务性能（缓存在用户浏览器中的独立 js 和 php 解释器必须一次又一次地处理你的行）

使用类似的东西：

```
<?php
echo is_page( 'front-page' ) 
        ? "<script type='text/javascript' src='js/myplugin.js'></script>'" 
        : ""; 
?> 
```

另外，您可以在首页的wordpress模板中安装您的插件吗？

# android - 在android中使用带有多部分格式json的其他字符串发送图像

> ID：12775054
> 
> 赞同：0
> 
> 时间：2012-10-08T03:49:15.210
> 
> 标签：android, eclipse, image-uploading

我有这样的代码，我想在服务器上上传图片和我的电话号码。我有这样的代码，

```
protected void upload(){

         Intent hasil = getIntent();
         path = hasil.getStringExtra("pathimage");
         mPhoneNumber = hasil.getStringExtra("phone");

         String upLoadServerUri = Constants.url_create_product;
         String fileName = path;
         int serverResponseCode;

         HttpURLConnection conn = null;
         DataOutputStream dos = null;  
         String lineEnd = "\r\n";
         String twoHyphens = "--";
         String boundary = "*****";
         int bytesRead, bytesAvailable, bufferSize;
         byte[] buffer;
         int maxBufferSize = 1 * 1024 * 1024; 
         File sourceFile = new File(path); 
         if (!sourceFile.isFile()) {
          Log.e("uploadFile", "Source File Does not exist");
         // return 0;
         }

            try { // open a URL connection to the Servlet
              FileInputStream fileInputStream = new FileInputStream(sourceFile);
              URL url = new URL(upLoadServerUri);
              conn = (HttpURLConnection) url.openConnection(); // Open a HTTP  connection to  the URL
              conn.setDoInput(true); // Allow Inputs
              conn.setDoOutput(true); // Allow Outputs
              conn.setUseCaches(false); // Don't use a Cached Copy
              conn.setRequestMethod("POST");
              conn.setRequestProperty("Connection", "Keep-Alive");
              conn.setRequestProperty("ENCTYPE", "multipart/form-data");
              conn.setRequestProperty("Content-Type", "multipart/form-data;boundary=" + boundary);
              conn.setRequestProperty("prod_image", fileName); 
              dos = new DataOutputStream(conn.getOutputStream());

              dos.writeBytes(twoHyphens + boundary + lineEnd); 
              dos.writeBytes("Content-Disposition: form-data; name=\"prod_image\";filename=\""+ fileName + "\"" + lineEnd);
              dos.writeBytes(lineEnd);

              bytesAvailable = fileInputStream.available(); // create a buffer of  maximum size

              bufferSize = Math.min(bytesAvailable, maxBufferSize);
              buffer = new byte[bufferSize];

              // read file and write it into form...
              bytesRead = fileInputStream.read(buffer, 0, bufferSize);  

              while (bytesRead > 0) {
                dos.write(buffer, 0, bufferSize);
                bytesAvailable = fileInputStream.available();
                bufferSize = Math.min(bytesAvailable, maxBufferSize);
                bytesRead = fileInputStream.read(buffer, 0, bufferSize);               
               }

              // send multipart form data necesssary after <span id="IL_AD8" class="IL_AD">file data</span>...
              dos.writeBytes(lineEnd);
              dos.writeBytes(twoHyphens + boundary + twoHyphens + lineEnd);

              //kirim phone
              conn.setRequestMethod("POST");
              conn.setRequestProperty("Connection", "Keep-Alive");
              conn.setRequestProperty("ENCTYPE", "multipart/form-data");
              conn.setRequestProperty("Content-Type", "multipart/form-data;boundary=" + boundary);
              conn.setRequestProperty("phone", mPhoneNumber); 
              dos = new DataOutputStream(conn.getOutputStream());

              dos.writeBytes(twoHyphens + boundary + lineEnd); 
              dos.writeBytes("Content-Disposition: form-data; name=\"phone\";filename=\""+ mPhoneNumber + "\"" + lineEnd);
              dos.writeBytes(lineEnd);

              bytesAvailable = fileInputStream.available(); // create a buffer of  maximum size

              bufferSize = Math.min(bytesAvailable, maxBufferSize);
              buffer = new byte[bufferSize];

              // read file and write it into form...
              bytesRead = fileInputStream.read(buffer, 0, bufferSize);  

              while (bytesRead > 0) {
                dos.write(buffer, 0, bufferSize);
                bytesAvailable = fileInputStream.available();
                bufferSize = Math.min(bytesAvailable, maxBufferSize);
                bytesRead = fileInputStream.read(buffer, 0, bufferSize);               
               }

              // send multipart form data necesssary after <span id="IL_AD8" class="IL_AD">file data</span>...
              dos.writeBytes(lineEnd);
              dos.writeBytes(twoHyphens + boundary + twoHyphens + lineEnd);

              // Responses from the server (code and message)
              serverResponseCode = conn.getResponseCode();
              String serverResponseMessage = conn.getResponseMessage();

              Log.i("uploadFile", "HTTP Response is : " + serverResponseMessage + ": " + serverResponseCode);
              if(serverResponseCode == 200){
                  runOnUiThread(new Runnable() {
                       public void run() {
                        //   tv.setText("<span id="IL_AD6" class="IL_AD">File Upload</span> Completed.");
                           Toast.makeText(Activity3.this, "File Upload Complete.", Toast.LENGTH_SHORT).show();
                       }
                   });                
              }    

              //close the streams //
              fileInputStream.close();
              dos.flush();
              dos.close();

         } catch (MalformedURLException ex) {  
             pDialog.dismiss();  
             ex.printStackTrace();
             Toast.makeText(Activity3.this, "MalformedURLException", Toast.LENGTH_SHORT).show();
             Log.e("Upload file to server", "error: " + ex.getMessage(), ex);  
         } catch (Exception e) {
             pDialog.dismiss();  
             e.printStackTrace();
             Toast.makeText(Activity3.this, "Exception : " + e.getMessage(), Toast.LENGTH_SHORT).show();
             Log.e("Upload file to server Exception", "Exception : " + e.getMessage(), e);  
         }
         pDialog.dismiss();       
       //  return serverResponseCode;  
        } 
} 
```

但它显示错误：

> java lang空指针异常

我真的很困惑，我的代码错了吗？我需要帮助。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T09:33:11.787

它解决了，你可以在这里看到我的代码

[如何使用多部分形式的数据 json 将图像（位图）发送到 android 中的服务器](https://stackoverflow.com/questions/12796579/how-to-send-image-bitmap-to-server-in-android-with-multipart-form-data-json) ，

谢谢大家:))

# iphone - iPhone - 如何部分隐藏子视图？

> ID：12775058
> 
> 赞同：4
> 
> 时间：2012-10-08T03:49:58.563
> 
> 标签：iphone, uiview, uipangesturerecognizer

我正在使用手势开发一个示例应用程序，我可以在其中捏合、平移和旋转。我有一个主图像视图，宽度和高度为 300，原点 x 为 0，y 为 70。我从界面生成器中使用此图像视图。在此之后，我以编程方式在 imageView 的中间添加一个标签。添加标签后，我可以在视图上平移、捏合和旋转标签。现在实际的要求是当我将标签拖到图像视图之外时，我应该显示部分标签，例如（我的标签文本是 ABCDXYZ）。一旦我将 Z 拖到 Z 之外，Z 应该是不可见的，其他部分 ABCDXY 应该是可见的。更清楚的是在另一个视图中拖动一个视图。我怎样才能做到这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T04:55:09.903

你要做的就是创建一个`UIView`. 在那添加 UIImageView 之类的

```
[View addSubView:ImageView]; 
```

然后在 UIImageView 上添加 UIlabel

```
[ImageView addSubView:Label]; 
```

现在设置`clipsToBounds = YES`. 我认为现在您的部分标签问题将得到解决，因为标签将在其中移动，`UIView`并且一旦它消失，它就会部分显示。有任何疑问请告诉。谢谢:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T07:11:14.710

为此提供手持解决方案真的很棘手，相反它可能是一个建议。我假设您的`UILabel`文本是动态的，您可以遵循一些方案来实现这一点。

1) 当你触摸里面的标签时，`UIImageView`你应该得到它的确切`coordinates`信息。

2）获取用户触摸的位置`UILabel`。

3) 将触摸坐标与 的总坐标进行比较`UILabel`。

4) 假设触碰了哪个角色。（您应该对其进行测试，文本大小也可能很重要）。

5）当用户拖动该特定字符（例如`Z`）时，您需要将其从`UILabel`文本中删除。

就这样。你完成了。

# storyboard - 2 个故事板和 1 个 PickerView

> ID：12775060
> 
> 赞同：1
> 
> 时间：2012-10-08T03:50:05.673
> 
> 标签：storyboard, ios6, uipickerview, iphone-5

我有 2 个故事板，一个用于 iPhone 5，另一个用于 4s/4/3。我以编程方式制作了我的选择器，并相应地对其进行了定位，因此它适合带有此代码的 iphone 5

```
 picker1 = [[UIPickerView alloc] initWithFrame:CGRectMake(13, 272.5, 294, 219
                                                        )]; 
```

等等

但是当我在我的 iPhone 4 上运行它时，它太低了，我不想毁掉我的 iphone 5，因为我在过去的两天里一直在完善它。有没有办法让 iphone 加载相同的选择器，但根据屏幕尺寸以不同的尺寸和坐标加载，例如如果 screen == 568 ..... else ....

?? 这是我的应用程序的最后一步。任何线索如何完成这个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T03:55:14.770

这应该提供您所追求的：

```
CGRect iphone5frame = CGRectMake(13, 272.5, 294, 219);
CGRect iphone4frame = CGRectMake(13, 272.5, 294, 219); // Edit these values for the iPhone 4
picker1 = [[UIPickerView alloc] initWithFrame:([[UIScreen mainScreen] bounds].size.height <= 480.0 ? iphone4frame : iphone5frame)]; 
```

**编辑：**更新代码以进行更多自定义

# python - 为什么python在子进程退出时停止？

> ID：12775062
> 
> 赞同：4
> 
> 时间：2012-10-08T03:50:19.673
> 
> 标签：python, matlab, subprocess

我正在使用 Python`subprocess.call()`运行一系列 python 脚本，每个脚本都运行 Matlab 脚本。麻烦的是，一旦第一个 Matlab 脚本结束。

外部 Python 脚本解析 csv 文件目录，以根据 csv 文件的每一行进行设置以运行实验。对于每个实验，它调用一个 python 程序来运行解析数据并输入 Matlab。Matlab，然后运行每个实验。除了第一次运行 matlab 后整个事情都退出了。Matlab 退出它的子子进程会导致整个事情崩溃吗？

```
 for line in csvfile:
      if debug:
          print 'Experiment %d' % count

      ts = line.split(',')
      startStamp=ts[0]
      cmdargs = ['python prep_lssvm.py']
      cmdargs.append(str(site))
      cmdargs.append(str(startStamp))
      cmdargs.append(str(daysTraining))

      if debug:
          print cmdargs

      for i in range(len(argv)-2):
          cmdargs.append(str(argv[i+2]))

      command = ' '.join(cmdargs)

      if debug:
          print command

      call(command,shell=True)
      #Never goes past here<<<<<<=======================
      dirname = ''.join([site,'_',str(count)])
      mkdir(dirname)
      call(''.join(['mv ',site,'/*.txt ',dirname]),shell=True,stdout=outfile) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T20:00:35.787

看来我已经通过橡皮鸭调试解决了这个问题。

我通过异步执行的 Popen() 调用 MATLAB 脚本，而不是同步执行的 call()。将所有 Popen 实例更改为 call 似乎已经解决了这个问题。

# javascript - Javascript向单选按钮添加值以输入价格

> ID：12775064
> 
> 赞同：1
> 
> 时间：2012-10-08T03:50:29.797
> 
> 标签：javascript

我试图在我正在处理的网页中创建一个 javascript 块。我从高中起就没有做过javascript，它似乎不想回到我身边:(

在这段代码中，我希望有 4 组单选按钮，每次选择一个选项时，都会将价格输入到每个单选组的变量中。IE

```
 var firstPrice = $25
    var secondPrice = $56
    var thirdPrice = $80
    var fourthPrice = $90 
```

然后在每个单选组都有一个选择后，提交按钮上会附加一个函数，该函数将每个价格相加以显示隐藏字段内的最终金额

```
 var totalPrice = (firstPrice + secondPrice + thirdPrice + fourthPrice) 
```

我的问题是，我如何将数字值附加到组内的单选按钮上，每个组的名称相同但 id 不同。然后我只是创建一个添加所有价格组的函数，然后将提交按钮设置为 onClick = totalPrice(); 以下是一组单选按钮的示例：

```
 <label>
          <input type="radio" name="model" value="radio" id="item_0" />
          item 1</label>
        <br />
        <label>
          <input type="radio" name="model" value="radio" id="item_1" />
          item2</label>
        <br />
        <label>
          <input type="radio" name="model" value="radio" id="item_2" />
          item3</label>
        <br />
        <label>
          <input type="radio" name="model" value="radio" id="item_3" />
          Item4</label>
        <br />
        <label>
          <input type="radio" name="model" value="radio" id="item_4" />
          item5</label>

          </form> 
```

然后我的脚本看起来像：

```
 function finalPrice90{
var selectionFirst = document.modelGroup.value;
var selectionSecond = document.secondGroup.value;
var selectionThird = document.thirdGroup.value;
var selectionFourth = document.fourthGroup.Value;

var totalPrice = (selectionFirst + selectionSecond + selectionThird +         selectionFourth);
       } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T05:04:53.253

Your requirements seem pretty simple, here's an example that should answer most questions. There is a single click listener on the form so whenever there is a click on a form control, the price will be updated.

```
<script type="text/javascript">

//function updatePrice(el) {
function updatePrice(event) {
  var el = event.target || event.srcElement;
  var form = el.form;
  if (!form) return;
  var control, controls = form.elements;
  var totalPrice = 0;
  var radios;

  for (var i=0, iLen=controls.length; i<iLen; i++) {
    control = controls[i];

    if ((control.type == 'radio' || control.type == 'checkbox') && control.checked) {
      totalPrice += Number(control.value);
    }

    // Deal with other types of controls if necessary
  }
  form.totalPrice.value = '$' + totalPrice;
}

</script>

<form>
    <fieldset><legend>Model 1</legend>
    <input type="radio" name="model1" value="25">$25<br>
    <input type="radio" name="model1" value="35">$35<br>
    <input type="radio" name="model1" value="45">$45<br>
    <input type="radio" name="model1" value="55">$55<br>
    </fieldset>
    <fieldset><legend>Model 2</legend>
    <input type="radio" name="model2" value="1">$1<br>
    <input type="radio" name="model2" value="2">$2<br>
    <input type="radio" name="model2" value="3">$3<br>
    <input type="radio" name="model2" value="4">$4<br>
    <fieldset><legend>Include shipping?</legend>
      <span>$5</span><input type="checkbox" value="5" name="shipping"><br>
    </fieldset>

    <input name="totalPrice" readonly><br>
    <input type="reset" value="Clear form">
</form> 
```

You could put a single listener on the form for click events and update the price automatically, in that case you can get rid of the update button.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T04:20:03.210

将`value`单选输入的属性设置为每个单选按钮应代表的价格。

到了计算的时候，只需遍历每个组并获取`value`选中的收音机的属性。

由于 value 属性是数字的字符串表示形式，因此您需要在进行任何数学运算之前将其转换回数字（但这是一个简单的`parseInt`or `parseFloat`）。

这是一个使用纯 JavaScript 的工作小提琴：http: [//jsfiddle.net/XxZwm/](http://jsfiddle.net/XxZwm/)

从长远来看，像 jQuery 或 Prototype（或 MooTools、script.aculo.us 等）这样的库可能会使这更容易，具体取决于您不想重新发明轮子的 DOM 操作代码量。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T04:02:21.170

试试这个小提琴 [http://jsfiddle.net/tariqulazam/ZLQXB/](http://jsfiddle.net/tariqulazam/ZLQXB/)

# c++ - 使用标准 C++ 复制大型二进制文件

> ID：12775065
> 
> 赞同：1
> 
> 时间：2012-10-08T03:50:46.147
> 
> 标签：c++, file, stream, binary, copy

> **可能重复：**
> [以理智、安全和有效的方式复制文件](https://stackoverflow.com/questions/10195343/copy-a-file-in-an-sane-safe-and-efficient-way)

我搜索了类似的主题，但找不到大型二进制文件的答案。考虑到我有非常大的二进制文件（如每个 ~10 或 ~100 GB），我如何使用标准 C++（无 POSIX 函数）使用以下函数复制它们：

```
bool copy(const std::string& oldName, const std::string& newName)
{
    /* SOMETHING */
} 
```

编辑：下面的实现可以吗？（改编自评论中的链接）

```
bool copy(const std::string& oldName, const std::string& newName)
{
    bool ok = false;
    std::ifstream oldStream(oldName.c_str(), std::ios::binary);
    std::ofstream newStream(newName.c_str(), std::ios::binary);
    if (oldStream.is_open() && newStream.is_open()) {
        newStream << oldStream.rdbuf();
        ok = (oldStream.good() && newStream.good());
    }
    return ok;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T03:56:43.523

您可以使用`std::fopen`, `std::fread`,`std::fwrite`和`std::fclose`, 所有这些都是标准 C++ 库的一部分（`#include <cstdio>`非常便携），只要您不使用`"t"`说明符 to就不会弄乱二进制数据`fopen`。

如果您选择适当的缓冲区大小（例如 1 MB），它甚至会相当快，从而使您进入顺序 I/O 性能的领域。

# mule - Mule ESB VM 入站端点队列中的消息数

> ID：12775070
> 
> 赞同：0
> 
> 时间：2012-10-08T03:51:16.740
> 
> 标签：mule

如何从代码中获取 Mule ESB vm 入站端点队列中的消息数？

这是配置：

```
 <vm:connector name="queue.vm.connector">
    <vm:queue-profile maxOutstandingMessages="${oms.process.flow.max.queue.size}"/>
</vm:connector>

...
<flow name="Flow1"...
<vm:inbound-endpoint exchange-pattern="one-way" path="inbound_parcel.create.queue" responseTimeout="10000" mimeType="text/plain" connector-ref="queue.vm.connector" doc:name="Inbound Parcel Create Queue"/> 
```

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T11:27:26.387

这可以使用以下自定义代码来实现：

```
VMConnector vmConnector = (VMConnector) muleContext.getRegistry().lookupConnector("queue.vm.connector");
vmConnector.getQueueManager().getQueueSession().getQueue("inbound_parcel.create.queue").size(); 
```

如果队列持续存在，则可以通过监视存储消息的文件夹来实现相同的结果：

`${MULE_HOME}/.mule/${app.name}/queuestore/inbound_parcel.create.queue`

# dao - EasyMock 测试异常

> ID：12775073
> 
> 赞同：1
> 
> 时间：2012-10-08T03:51:31.247
> 
> 标签：dao, easymock

我正在尝试通过模拟 DAO 来使用 EasyMock 测试服务层。我的 DAO 类中的一种方法如下所示。

```
public BrickStreamUserVO getUserDetails(String userName, String password) 
{
BrickStreamUserVO usrObj = null;

try
{
    String sqlStr = "SELECT * FROM USER_T WHERE USER_NAME LIKE '" + userName + "'
    AND PASSWORD = '" + password + "'";
    usrObj = getJdbcTemplate().queryForObject(sqlStr, new BrickStreamUserMapper());

    logger.info("Getting user details....");

    if(usrObj==null)
    throw new UserException("Invalid Login parameters");
} 
catch (Exception e)
{   
    logger.error(e);        
    throw new UserException("Invalid Login parameters");
}

return usrObj;
} 
```

这是我的测试代码

```
public class BrickStreamServiceImplTest
{
private BrickStreamServiceImpl serviceImpl;

@Before
public void buildService()
{
serviceImpl = new BrickStreamServiceImpl(); 
}

@Test
public void testGetUserDetails()
{   

BrickStreamDaoImpl daoImplMock = createMock(BrickStreamDaoImpl.class);  
expect(daoImplMock.getUserDetails("user", "pwd")).
        andReturn(new BrickStreamUserVO()); 
replay(daoImplMock);

serviceImpl.setBrickStreamDao(daoImplMock);
serviceImpl.getUserDetails("user", "pwd");

verify(daoImplMock);

    }
} 
```

如何测试抛出 UserException 的方法，您可以看到如果 usrObj 对象为 null，它会抛出 UserException。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T08:53:58.110

如果您模拟该`getUserDetails`方法，您将无法测试其行为。

您可能想要提取一个执行用户查询的方法，然后模拟它。

```
public BrickStreamUserVO queryForUser(String userName, String password) { 
    String sqlStr = "SELECT * FROM USER_T WHERE USER_NAME LIKE '" + userName + "'
    AND PASSWORD = '" + password + "'";
    return getJdbcTemplate().queryForObject(sqlStr, new BrickStreamUserMapper());
}

public BrickStreamUserVO getUserDetails(String userName, String password) 
{
    BrickStreamUserVO usrObj = null;

    try
    {
        usrObj = queryForUser(userName, password);
        logger.info("Getting user details....");

        if(usrObj==null) {
            throw new UserException("Invalid Login parameters");
        }
    } catch (Exception e) {   
       logger.error(e);        
       throw new UserException("Invalid Login parameters");
    }

    return usrObj;
} 
```

在您的测试课程中：

```
@Test(expected = UserException.class)
public void testGetUserDetails()
{   
    BrickStreamDaoImpl daoImplMock = createMockBuilder(BrickStreamDaoImpl.class).addMockedMethod("queryForUser").createMock();  
    expect(daoImplMock.queryForUser("user", "pwd")).andReturn(null); 
    replay(daoImplMock);

    serviceImpl.setBrickStreamDao(daoImplMock);
    serviceImpl.getUserDetails("user", "pwd");
} 
```

# php - 如何在 json 或 javascript 或 jquery 中使用反斜杠读取值

> ID：12775078
> 
> 赞同：4
> 
> 时间：2012-10-08T03:52:21.140
> 
> 标签：php, javascript, json, jquery

我需要使用 jQuery Ajax 将 value/s（Windows 路径）传输到 json，以便将值抛出或解码到 PHP 脚本，但它无法读取带有反斜杠的 json 中的 value/s。必须将其转换为带有反斜杠的整个路径的 json 值。

我的示例代码：

```
/*==========================================================================*/

var file_name = "C:\WINDOWS\Temp\phpABD.tmp";

var jsonSearchContent = "{\"file_name\":\""+file_name+"\"}";

            $.ajax({
                type:"POST",
                dataType: "html",
                url: url,
                data: {sendValue:jsonSearchContent},
                complete: function (upload) {
                    alert(upload.responseText);
                }
            }
            );
/*==========================================================================*/ 
```

提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-08T03:55:28.727

逃脱它。

```
var file_name = "C:\\WINDOWS\\Temp\\phpABD.tmp"; 
```

顺便说一句，你不需要使用json格式发送到php，直接发送值，不需要`json_decode`在php端做。

```
data: {file_name: file_name}, 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-08T03:59:52.137

javascript 中的反斜杠字符用于转义特殊字符，如制表符、回车符等。在 javascript 字符串中，如果要表示实际的反斜杠字符，请使用`'\\'`它，它将被视为单个反斜杠。尝试这个：

```
$.ajax({
    type:"POST",
    dataType: "html",
    url: url,
    data: {
        sendValue: {
            file_name: "C:\\WINDOWS\\Temp\\phpABD.tmp"
        }
    },
    complete: function (upload) {
        alert(upload.responseText);
    }
}); 
```

[这是关于 javascript 字符串的 w3schools 页面](http://www.w3schools.com/js/js_obj_string.asp)。

# java - Java中的“Boolean.TRUE.equals(x)”有什么原因吗？

> ID：12775082
> 
> 赞同：29
> 
> 时间：2012-10-08T03:52:31.530
> 
> 标签：java, boolean-expression

我在我正在从事的一个项目中遇到了这段代码

（这是在 Java 中）

```
if (Boolean.TRUE.equals(foo.isBar())) 
```

**Foo#isBar()**被定义为`boolean isBar()`，所以它不能返回`null`

真的有什么理由应该这样写吗？我自己只会写

```
if (foo.isBar()) 
```

，但也许我错过了一些微妙的东西。

谢谢

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-10-08T04:01:40.267

我希望`foo.isBar()`返回一个布尔值。在这种情况下，您始终可以编写`if (foo.isBar())`. 如果您`foo.isBar()`返回`Boolean`，则它可以是`Boolean.TRUE`,`Boolean.FALSE`或`NULL`。在这种情况下`if (Boolean.TRUE.equals(foo.isBar()))`，请确保 if 块在一种情况下执行（TRUE）并在其余 2 中省略。

****当返回布尔 NULL时****，以上**`if (foo.isBar())` **将失败。** `foo.isBar()`**

 ***** * *

## 回答 #2

> 赞同：21
> 
> 时间：2012-10-08T04:10:14.463

由于`isBar`返回一个原语`boolean`，因此没有语义差异。此外，第二种方式更简洁、更清晰、更高效，因为不必为调用自动装箱，然后再次提取原始布尔值。鉴于所有这些，没有理由使用第一种方法，并且有几个使用第二种方法，所以使用第二种方法。我给其他程序员很大的余地，但我会坐下来与任何在专业代码中添加类似内容的人聊天。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-10-08T03:58:23.750

我会怀疑“没有充分理由的旧遗留代码” - 事实上，我认为它*更糟*。（我想知道如何`int`比较 ..）

使用的代码`TRUE.equals`需要一个装箱转换，一个额外的方法调用（以及里面的所有东西），最后，它*看起来很草率*。

* * *

我知道的唯一原因是 if`foo.isBar` *被*输入为返回`Boolean`（不是`boolean`）以及它可能返回的位置`null`：

```
Boolean b = null;

// throws an exception when it tries to unbox b because it is null
boolean isTrue1 = (boolean)b;

// evaluates to false
boolean isTrue2 = Boolean.TRUE.equals(b);

// evaluates to false as well
boolean isTrue3 = b != null ? (boolean)b : false; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-08T04:04:31.080

有些人认为（我自己不是其中之一）过于明确会使布尔条件更具可读性。例如使用

`if(foo == true)`代替`if(foo)`

也许这是一个类似的案例？

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-11-16T13:19:30.293

我是否发现这个实际示例对某人有用：

当盒装类型 java.lang.Boolean 用作表达式时，`NullPointerException`如果该值与[Java 语言规范 §5.1.8 Unboxing Conversion](https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.8)`null`中定义的值相同，它将抛出。

完全避免这种转换并显式处理空值会更安全。

**不合规代码示例**

```
Boolean b = getBoolean();
if (b) {  // Noncompliant, it will throw NPE when b == null
  foo();
} else {
  bar();
} 
```

**合规解决方案**

```
Boolean b = getBoolean();
if (Boolean.TRUE.equals(b)) {
  foo();
} else {
  bar();  // will be invoked for both b == false and b == null
} 
```

* * *

## 回答 #6

> 赞同：-3
> 
> 时间：2012-10-08T03:56:34.970

在第一个条件中，您正在检查对应于 true 的布尔对象的相等性。并且您在代码中使用了第一个条件，因为您的 java 版本不支持自动拆箱，因此您需要使用布尔对象。

[Java 中的 Boolean.TRUE 和 true 有什么区别？](https://stackoverflow.com/questions/4894311/what-is-the-difference-between-boolean-true-and-true-in-java)****

# sql - sprintf 和 php

> ID：12775083
> 
> 赞同：0
> 
> 时间：2012-10-08T03:52:44.930
> 
> 标签：sql, printf

以下函数提供了除艺术家 ID 之外的所有相关数据，运行时我检查了数据库中的所有元素并确定。

如果我将 artist_id 更改为实际的“id”，它会在函数结果中显示为 WHERE artist_id = 4 AND.......

承认我不明白是什么原因造成的。

函数结果：

```
SELECT `image_album_id`, `member_id`, `artist_id`,     `albumname`, `ext`, `timestamp`
FROM album_images WHERE artist_id = AND member_id = 1 AND        
image_album_id = 160

<?php
function get_data_nxtprv($fields, $where) {
$return = FALSE;

// Template
$template = "SELECT %s "
    . "FROM album_images "
. "WHERE artist_id = " . $artist_id. " 
       AND member_id = ".$_SESSION['member_id']." %s";

// Current record 
$sql    = sprintf($template, $fields, $where);
$query  = mysql_query($sql);
$query_result = mysql_fetch_assoc($query);

//print_r($sql);
// If data has been found
if ($query_result)
{
    $return = $query_result;
}

return $return;
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T04:37:35.313

我不完全确定我理解你的问题。但我注意到您的函数使用三个输入变量：

```
$artist_id, $fields, $where 
```

但是 $artist_id 没有作为参数传递。

您需要修改函数调用：

```
function get_data_nxtprv($artist_id, $fields, $where) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T10:51:57.783

您的 SQL 中有错误

```
SELECT `image_album_id`, `member_id`, `artist_id`, `albumname`, `ext`, `timestamp`
FROM album_images WHERE artist_id = AND member_id = 1 AND        
image_album_id = 160 
```

不应该

```
SELECT `image_album_id`, `member_id`, `artist_id`, `albumname`, `ext`, `timestamp`
FROM album_images WHERE member_id = 1 AND        
image_album_id = 160 
```

如果`artist_id`是您正在寻找的领域之一？

# r - 用 cat() 和 paste() 连接字符串有什么区别？

> ID：12775085
> 
> 赞同：37
> 
> 时间：2012-10-08T03:52:58.517
> 
> 标签：r, character, string-concatenation, r-faq

`cat`用和连接字符串有什么区别`paste`？

特别是，我有以下问题。

1.  为什么R在打印调用结果时**不**使用双引号（ ） （但在使用时使用引号）？`"``cat``paste`

    ```
    > cat("test")
    test
    > paste("test")
    [1] "test" 
    ```

2.  为什么R 中几乎所有对象都可以使用的函数`length`和**不能**在 上“工作” ？`mode`**`cat`**

     **```
    > length(cat("test"))
    test[1] 0
    > mode(cat("test"))
    test[1] "NULL" 
    ```** 
***   为什么 C 风格的转义序列适用于`cat`，但**不适**用于`paste`？

    ```
    > cat("1)Line1\n 2)Line2\n 3)Line3")
    1)Line1
     2)Line2
     3)Line3
    > paste("1)Line1\n 2)Line2\n 3)Line3")
    [1] "1)Line1\n 2)Line2\n 3)Line3" 
    ```

    *   为什么 R 的回收规则不适用于`cat`？

    ```
    > cat("Grade", c(2, 3, 4, 5))
    Grade 2 3 4 5
    > paste("Grade", c(2, 3, 4, 5))
    [1] "Grade 2" "Grade 3" "Grade 4" "Grade 5" 
    ```** 

 *** * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-10-08T04:08:05.647

***`cat`并且`paste`将在非常不同的情况下使用**。*

* * *

## `paste`不是`print`

当你有`paste`东西并且没有将它分配给任何东西时，它会变成一个`character`变量，它是`print`-ed using `print.default`，默认方法 for `character`，因此是引号等。你可以查看帮助以`print.default`了解如何修改输出的样子.

*   `print.default`不会评估转义字符，例如`\n`在字符串中。

查看这个[问题](https://stackoverflow.com/q/1405571/3924118)的答案，了解如何从`cat`.

* * *

`cat`引用( `?cat`)的易于阅读的帮助

> ## 连接和打印
> 
> ### 描述
> 
> 输出对象，连接表示。`cat`执行的转换比`print`.
> 
> ...
> 
> ### 细节
> 
> `cat`对于在用户定义的函数中产生输出很有用。它将其参数转换为`character`向量，将它们连接到单个`character`向量，将给定附加`sep= string(s)`到每个元素，然后输出它们。
> 
> ### 价值
> 
> 无（不可见`NULL`）。

`cat` **不会返回任何东西**，它只会输出到控制台或其他连接。

因此，如果您尝试运行`length(cat('x'))`or `mode(cat('x'))`，您正在运行`mode(NULL)`or `length(NULL)`，它将返回`NULL`。

* * *

paste 的帮助同样有用且具有描述性

> ## 连接字符串
> 
> ### 描述
> 
> 转换为 后连接向量`character`。
> 
> ……
> 
> ### 价值
> 
> A `character` vector of the concatenated values. This will be of length zero if all the objects are, unless collapse is non-`NULL` in which case it is a single empty string.**

# php - 如何使用 php 运行元标记？

> ID：12775089
> 
> 赞同：1
> 
> 时间：2012-10-08T03:53:15.693
> 
> 标签：php, if-statement, meta-tags, meta

我想在 php if 语句中运行这行代码。我该怎么做？

```
 if (mail("m@me.com",$subject,$ipmessage,$header) ==1){
    echo "Thank You Your Message Has Been Sent!";
    <meta http-equiv="refresh" content="3;url=index.php">
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T03:56:21.247

```
 if (mail("m@me.com",$subject,$ipmessage,$header)){
    echo "Thank You Your Message Has Been Sent!";
  ?>
    <meta http-equiv="refresh" content="3;url=index.php">
 <?php
  }
?> 
```

对于php 中的**HEADER --**

[标题](http://php.net/manual/en/function.header.php)

**最终编辑**-

```
 if (mail("m@me.com",$subject,$ipmessage,$header)){
    echo "Thank You Your Message Has Been Sent!";
    header("Refresh: 3;index.php");
  } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T04:13:15.303

在特定时间间隔后尝试使用标头重定向此代码。

```
<?php 
ob_start();

if (mail("m@me.com",$subject,$ipmessage,$header)){

    echo "Thank You Your Message Has Been Sent! ";
    header("Refresh: 10; url=index.php"); //You will be redirect in 10 seconds
  }

ob_flush();
?> 
```

# php - 如何将数组解析为 MYSQL IN()？

> ID：12775090
> 
> 赞同：2
> 
> 时间：2012-10-08T03:53:26.707
> 
> 标签：php, mysql, database

当我想查询数据库时遇到问题，在这种情况下，我想使用 IN() mysql 函数按数组上的值字段搜索数据。

例如我有来自 php 的数组

```
$data = array(1,2,3,4); 
```

这是我在表 Employee 上选择数据的查询代码

```
$query = 'SELECT * FROM employee_tbl 
    -> WHERE daily_typing_pages IN ' .$data.; 
```

当我执行该代码时，我有这样的错误

```
Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'Array 
SELECT * FROM employee_tbl 
        -> WHERE daily_typing_pages IN Array; 
```

我认为错误是因为数组读取为字符串，并且不解析为这种格式`(1,2,3,4)`

我怎样才能转换成那种格式？有什么建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T03:55:48.577

用于[`implode()`](http://us.php.net/manual/en/function.implode.php)将项目的实际逗号分隔列表创建为字符串。

```
$query = 'SELECT * FROM employee_tbl 
    -> WHERE daily_typing_pages IN (' . implode(",", $data) . ")"; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T03:58:41.550

尝试，

```
$data = array(1,2,3,4);
$ids = join(',',$data);  
$sql = "SELECT * FROM employee_tbl WHERE daily_typing_pages IN ($ids)"; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T03:56:06.863

试试这个代码，用于[`implode()`](http://www.php.net/manual/en/function.implode.php)将数组转换为字符串

```
 $query = "SELECT * FROM employee_tbl 
        -> WHERE daily_typing_pages IN  ( ".implode(',',$data)." ) "; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-08T03:56:28.533

利用[`implode()`](http://www.php.net/manual/en/function.implode.php)

```
$x = array(1,2,3,4);
$y = implode(',',$x); 
```

# javascript - Javascript获取第二个孩子的nodeValue？

> ID：12775092
> 
> 赞同：0
> 
> 时间：2012-10-08T03:53:48.830
> 
> 标签：javascript, function, external, dom-events, onmouseover

我只有一步要做，这个任务就完成了。

ONMOUSEOVER 事件应显示跨度标记之间的文本。现在，它在 span 标签之前显示文本（与链接文本相同）。这是第一个孩子，我需要获取下一个孩子作为 ONMOUSEOVER 的标题文本。我只是不知道如何访问它。

所以我的问题是：我在`showTip`函数行中写了什么：

```
anchors[i].setAttribute('title', this.firstChild.nodeValue); 
```

下面是我的 HTML 代码和 JavaScript 代码以供参考。

HTML

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Tool Tips</title>
  <link href="css.css" rel="stylesheet" type="text/css" />
  <script src="js.js" type="text/javascript"></script>
</head>

<body>

  <h1>Tool Tips</h1> 

  <p>
Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
<a href="http://en.wikipedia.org/wiki/Randy_Rhoads" class="tip">Randy Rhoads
<!-- TEXT FOR THE FIRST HOVER LINK IS BETWEEN THE <span> TAGS -->
<span> Randy Rhoads blah blah blah</span></a>Sed tincidunt pulvinar elit, ac porta dolor feugiat. 
<a href="http://en.wikipedia.org/wiki/Ty_Tabor" class="tip">Ty Tabor
<!-- TEXT FOR THE SECOND HOVER LINK IS BETWEEN THE <span> TAGS -->
<span> Ty Tabor blah blah blah</span></a> cras pellentesque, ligula et mattis varius, orci urna pellentesque   augue, in consectetur quam magna non elit. Nunc quis eros ac ante convallis pharetra. 
<a href="http://en.wikipedia.org/wiki/Andy_Timmons" class="tip">Andy Timmons
<!-- TEXT FOR THE THIRD HOVER LINK IS BETWEEN THE <span> TAGS -->
<span> Andy Timmons blah blah blah</span></a>In nec justo libero, a convallis quam.</p>
<a href="http://en.wikipedia.org/wiki/Joe_Bonamassa" class="tip">Joe Bonamassa
<!-- TEXT FOR THE FOURTH HOVER LINK IS BETWEEN THE <span> TAGS -->
<span> Joe Bonamassa blah blah blah</span></a> Duis ac est luctus  massa commodo lobortis eu eu eros.
</p>

</body>
</html> 
```

JAVASCRIPT

JavaScript 中没有注释。但是：这些是练习的限制。

1.  无法对 CSS 或 HTML 进行任何更改，
2.  所有功能保持原样，
3.  不能使用任何 jQuery 或任何其他库，
4.  不能使用innerHTML。

请注意，唯一有问题的行是`showTip()`函数中的最后一行代码。

```
window.onload = prepareTips;

var anchors = document.getElementsByTagName('a');
var spans = document.getElementsByTagName('span');

function prepareTips() {

    if(!document.getElementsByTagName('a')) return false;

    for(var i=0; i<anchors.length; i++){
            anchors[i].onclick = showTip;
            anchors[i].onmouseover = showTip;
            anchors[i].onmouseout = hideTip;
    }
}
function showTip(variable) {

    this.setAttribute('href', '#');

    for(i=0; i<spans.length; i++) {
        this.classname = 'showTip';

            // *** THIS IS THE PROBLEM LINE ***
        anchors[i].setAttribute('title', this.firstChild.nodeValue);
    }
}
function hideTip(variable) {
    for(i=0; i<spans.length; i++) {
        this.classname = 'hideTip';
        anchors[i].setAttribute('title', "");
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T04:27:06.033

通常有一些您不知道的节点，例如包含回车的文本节点和包含您的评论的注释注释。您通常不能仅仅假设下一个节点就是您想要的。

`span`通过某些元素标准（例如作为标签的第一个子元素）来获取特定元素要可靠得多。

```
var firstSpan = this.getElementsByTagName("span")[0];
anchors[i].setAttribute('title', firstSpan); 
```

# perl - 为什么安装 Scrappy 时 CPAN 安装失败？

> ID：12775094
> 
> 赞同：2
> 
> 时间：2012-10-08T03:54:01.517
> 
> 标签：perl, makefile, installation, cpan

我知道它缺少依赖项，但我认为 CPAN 会自动安装所有依赖模块。这是错误：

```
Test Summary Report
-------------------
t/00_load_scrappy.t                   (Wstat: 65280 Tests: 1 Failed: 1)
  Failed test:  1
  Non-zero exit status: 255
  Parse errors: Bad plan.  You planned 12 tests but ran 1.
t/00_test_function_back.t             (Wstat: 512 Tests: 0 Failed: 0)
  Non-zero exit status: 2
  Parse errors: No plan found in TAP output
t/00_test_function_content.t          (Wstat: 512 Tests: 0 Failed: 0)
  Non-zero exit status: 2
  Parse errors: No plan found in TAP output
t/00_test_function_control.t          (Wstat: 512 Tests: 0 Failed: 0)
  Non-zero exit status: 2
  Parse errors: No plan found in TAP output
t/00_test_function_cookies.t          (Wstat: 512 Tests: 0 Failed: 0)
  Non-zero exit status: 2
  Parse errors: No plan found in TAP output
t/00_test_function_crawl.t            (Wstat: 512 Tests: 0 Failed: 0)
  Non-zero exit status: 2
  Parse errors: No plan found in TAP output
t/00_test_function_debug.t            (Wstat: 512 Tests: 0 Failed: 0)
  Non-zero exit status: 2
  Parse errors: No plan found in TAP output
t/00_test_function_domain.t           (Wstat: 512 Tests: 0 Failed: 0)
  Non-zero exit status: 2
  Parse errors: No plan found in TAP output
t/00_test_function_download.t         (Wstat: 512 Tests: 0 Failed: 0)
  Non-zero exit status: 2
  Parse errors: No plan found in TAP output
t/01_load_scrappy.t                   (Wstat: 65280 Tests: 1 Failed: 1)
  Failed test:  1
  Non-zero exit status: 255
  Parse errors: Bad plan.  You planned 8 tests but ran 1.
Files=39, Tests=2,  1 wallclock secs ( 0.08 usr  0.08 sys +  0.85 cusr  0.15 csys =  1.16 CPU)
Result: FAIL
Failed 10/39 test programs. 2/2 subtests failed.
make: *** [test_dynamic] Error 255
  AWNCORP/Scrappy-0.94112090.tar.gz
7 dependencies missing (String::TT,WWW::Mechanize,Web::Scraper,YAML::Syck,Template,HTML::TreeBuilder,Moose); additionally test harness failed
  make test -- NOT OK
//hint// to see the cpan-testers results for installing this module, try:
  reports AWNCORP/Scrappy-0.94112090.tar.gz
Running make install
  make test had returned bad status, won't install without force
Could not read metadata file. Falling back to other methods to determine prerequisites
Failed during this command:
 ROBIN/PadWalker-1.96.tar.gz                  : make NO
 ABW/Template-Toolkit-2.24.tar.gz             : make NO
 BOBTFISH/String-TT-0.03.tar.gz               : make_test NO 2 dependencies missing (PadWalker,Template); additionally test harness failed
 GAAS/HTML-Parser-3.69.tar.gz                 : make NO
 CJM/HTML-Tree-5.03.tar.gz                    : make_test NO 2 dependencies missing (HTML::Parser,HTML::Entities); additionally test harness failed
 MIROD/HTML-TreeBuilder-XPath-0.14.tar.gz     : make_test NO one dependency not OK (HTML::TreeBuilder); additionally test harness failed
 GAAS/libwww-perl-6.04.tar.gz                 : make_test NO 2 dependencies missing (HTML::HeadParser,HTML::Entities); additionally test harness failed
 MIYAGAWA/Web-Scraper-0.36.tar.gz             : make_test NO 4 dependencies missing (HTML::TreeBuilder::XPath,HTML::Entities,HTML::TreeBuilder,LWP); additionally test harness failed
 DOY/Package-Stash-XS-0.25.tar.gz             : make NO
 DROLSKY/Class-Load-XS-0.04.tar.gz            : make NO
 DOY/Moose-2.0604.tar.gz                      : make NO
 GAAS/HTML-Form-6.03.tar.gz                   : make_test NO one dependency not OK (HTML::TokeParser); additionally test harness failed
 JESSE/WWW-Mechanize-1.72.tar.gz              : make_test NO 7 dependencies missing (HTML::Form,LWP::UserAgent,HTML::TokeParser,HTML::Parser,HTML::HeadParser,HTML::TreeBuilder,LWP); additionally test harness failed
 TODDR/YAML-Syck-1.21.tar.gz                  : writemakefile NO '/usr/bin/perl Makefile.PL INSTALLDIRS=site' returned status 512
 AWNCORP/Scrappy-0.94112090.tar.gz            : make_test NO 7 dependencies missing (String::TT,WWW::Mechanize,Web::Scraper,YAML::Syck,Template,HTML::TreeBuilder,Moose); additionally test harness failed 
```

然后我尝试单独安装一个依赖模块：

```
cpan[2]> install PadWalker
Running install for module 'PadWalker'
Running make for R/RO/ROBIN/PadWalker-1.96.tar.gz
  Has already been unwrapped into directory /root/.cpan/build/PadWalker-1.96-n6C9km
Could not make: Unknown error
Running make test
  Can't test without successful make
Running make install
  Make had returned bad status, install seems impossible 
```

有人能指出我正确的方向吗？我是 root，到目前为止它是最新的 Ubuntu 12.04.1。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T05:36:04.587

可以使用 CPAN 安装 Scrappy。在我的情况下，只`Moose`需要强制（失败的 1/382 测试程序。0/18150 子测试失败）。

```
cpan[6]> force install Moose
[...]

cpan[7]> install Scrappy
Running install for module 'Scrappy'
Running make for A/AW/AWNCORP/Scrappy-0.94112090.tar.gz

[...]
Installing /home/david/perl5/bin/scrappy
Appending installation info to /home/david/perl5/lib/perl5/x86_64-linux-gnu-thread-multi/perllocal.pod

  AWNCORP/Scrappy-0.94112090.tar.gz
  /usr/bin/make install  -- OK 
```

您应该尝试`PadWalker`手动安装以找出背后的原因`Could not make: Unknown error`。

在我的情况下`PadWalker`可以安装`~/.cpan/build/PadWalker-1.96-XW0Mq2`如下：

**perl 生成文件.PL**

```
Checking if your kit is complete...
Looks good
Writing Makefile for PadWalker
Writing MYMETA.yml 
```

**制作**

```
cp PadWalker.pm blib/lib/PadWalker.pm
/usr/bin/perl /usr/share/perl/5.14/ExtUtils/xsubpp  -typemap /usr/share/perl/5.14/ExtUtils/typemap  PadWalker.xs > PadWalker.xsc && mv PadWalker.xsc PadWalker.c
cc -c   -D_REENTRANT -D_GNU_SOURCE -DDEBIAN -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -O2 -g   -DVERSION=\"1.96\" -DXS_VERSION=\"1.96\" -fPIC "-I/usr/lib/perl/5.14/CORE"   PadWalker.c
[...]
chmod 755 blib/arch/auto/PadWalker/PadWalker.so
cp PadWalker.bs blib/arch/auto/PadWalker/PadWalker.bs
chmod 644 blib/arch/auto/PadWalker/PadWalker.bs
Manifying blib/man3/PadWalker.3pm 
```

**做测试**

```
PERL_DL_NONLAZY=1 /usr/bin/perl "-MExtUtils::Command::MM" "-e" "test_harness(0,     'blib/lib', 'blib/arch')" t/*.t
t/closure.t ... ok     
t/dm.t ........ ok   
[...]
Result: PASS 
```

**进行安装**

```
Files found in blib/arch: installing files in blib/lib into architecture dependent library tree
Installing /home/david/perl5/man/man3/PadWalker.3pm
Appending installation info to /home/david/perl5/lib/perl5/x86_64-linux-gnu-thread-multi/perllocal.pod 
```

# matlab - matlab中的拉伸试验

> ID：12775097
> 
> 赞同：-2
> 
> 时间：2012-10-08T03:55:00.243
> 
> 标签：matlab

问题说：在铝棒上进行了三个拉伸试验。在每个测试中，应变是在相同的应力值下测量的。结果是 ![在此处输入图像描述](../Images/7dad1382cd7465859f4aa73ca0381cc5.png)

其中应变单位为 mm/m。使用线性回归估计钢筋的弹性模量（弹性模量 = 应力/应变）。

我用这个程序来解决这个问题：

```
function coeff = polynFit(xData,yData,m)
% Returns the coefficients of the polynomial
% a(1)*x^(m-1) + a(2)*x^(m-2) + ... + a(m)
% that fits the data points in the least squares sense.
% USAGE: coeff = polynFit(xData,yData,m)
% xData = x-coordinates of data points.
% yData = y-coordinates of data points.

A = zeros(m); b = zeros(m,1); s = zeros(2*m-1,1);
for i = 1:length(xData)
temp = yData(i);
for j = 1:m
b(j) = b(j) + temp;
temp = temp*xData(i);
end
temp = 1;
for j = 1:2*m-1
s(j) = s(j) + temp;
temp = temp*xData(i);
end
end
for i = 1:m
for j = 1:m
A(i,j) = s(i+j-1);
end
end 
% Rearrange coefficients so that coefficient
% of x^(m-1) is first
coeff = flipdim(gaussPiv(A,b),1); 
```

问题在没有程序的情况下解决如下 ![在此处输入图像描述](../Images/6c23afebe850ccf1cecbae8faf4296cf.png)

我的尝试

```
T=[34.5,69,103.5,138];

D1=[.46,.95,1.48,1.93];

D2=[.34,1.02,1.51,2.09];

D3=[.73,1.1,1.62,2.12];

Mod1=T./D1;

Mod2=T./D2;

Mod3=T./D3;

xData=T;

yData1=Mod1;

yData2=Mod2;

yData3=Mod3;

coeff1 = polynFit(xData,yData1,2);

coeff2 = polynFit(xData,yData2,2);

coeff3 = polynFit(xData,yData3,2);

x1=(0:.5:190);

y1=coeff1(2)+coeff1(1)*x1;

subplot(1,3,1);

plot(x1,y1,xData,yData1,'o');

y2=coeff2(2)+coeff2(1)*x1;

subplot(1,3,2);

plot(x1,y2,xData,yData2,'o');

y3=coeff3(2)+coeff3(1)*x1;

subplot(1,3,3);

plot(x1,y3,xData,yData3,'o'); 
```

我该怎么做才能得到这个结果？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T06:48:53.907

As a general advice:

*   avoid for loops wherever possible.
*   avoid using `i` and `j` as variable names, as they are Matlab built-in names for the imaginary unit (I really hope that disappears in a future release...)

Due to `m` being an interpreted language, for-loops can be very slow compared to their compiled alternatives. Matlab is named MATtrix LABoratory, meaning it is highly optimized for matrix/array operations. Usually, when there is an operation that cannot be done without a loop, Matlab has a built-in function for it that runs way way faster than a for-loop in Matlab ever will. For example: computing the mean of elements in an array: `mean(x)`. The sum of all elements in an array: `sum(x)`. The standard deviation of elements in an array: `std(x)`. etc. Matlab's power comes from these built-in functions.

So, your problem. You have a linear regression problem. The easiest way in Matlab to solve this problem is this:

```
%# your data
stress = [ %# in Pa
    34.5 69 103.5 138] * 1e6;

strain = [ %# in m/m
    0.46 0.95 1.48 1.93
    0.34 1.02 1.51 2.09
    0.73 1.10 1.62 2.12]' * 1e-3;    

%# make linear array for the data
yy = strain(:);
xx = repmat(stress(:), size(strain,2),1);

%# re-formulate the problem into linear system Ax = b
A = [xx ones(size(xx))];
b = yy;

%# solve the linear system
x = A\b;

%# modulus of elasticity is coefficient 
%# NOTE: y-offset is relatively small and can be ignored)
E = 1/x(1) 
```

What you did in the function `polynFit` is done by `A\b`, but the `\`-operator is capable of doing it *way* faster, *way* more robust and *way* more flexible than what you tried to do yourself. I'm not saying you shouldn't try to make these thing yourself (please keep on doing that, you learn a lot from it!), I'm saying that for the "real" results, always use the `\`-operator (and check your own results against it as well).

The backslash operator (type `help \` on the command prompt) is extremely useful in many situations, and I advise you learn it and learn it well.

I leave you with this: here's how I would write your `polynFit` function:

```
function coeff = polynFit(X,Y,m)

    if numel(X) ~= numel(X)
        error('polynFit:size_mismathc',...  
              'number of elements in matrices X and Y must be equal.');
    end

    %# bad condition number, rank errors, etc. taken care of by \
    coeff = bsxfun(@power, X(:), m:-1:0) \ Y(:);

end 
```

I leave it up to you to figure out how this works.

# javascript - Paraimpu HTTP POST 请求

> ID：12775103
> 
> 赞同：0
> 
> 时间：2012-10-08T03:56:14.663
> 
> 标签：javascript, jquery, ajax, cors

我正在尝试从我的 Jquery 移动应用程序（托管在 Amazon S3 上）向“http://paraimpu.crs4.it/data/new”发出 http POST 请求，以将数据插入到 Paraimpu 站点上的传感器中。这是我提出的要求：

```
 data = "Test";
        valueToSend = '{"token":"c9d1cee6-da40-4e97-afc8-209045786b04","content-type":"application/json","data":' + data + '}';
        $.ajax({
            url: "http://paraimpu.crs4.it/data/new",
            type: "POST",
            data: valueToSend,
            dataType: "json",
            crossDomain: true,
            contentType:"application/json",
            success: function(){
            alert('Success');
        }
        }); 
```

我不断得到

> XMLHttpRequest 无法加载[http://paraimpu.crs4.it/data/new](http://paraimpu.crs4.it/data/new)。Access-Control-Allow-Origin 不允许来源“http://webappz.s3-website-us-east-1.amazonaws.com”。

我知道这是因为跨域策略，但我该如何解决呢？paraimpu 页面上的说明非常模糊，只是说：

> 将执行 HTTP POST 的新传感器数据推送到：
> 
> [http://paraimpu.crs4.it/data/new](http://paraimpu.crs4.it/data/new)
> 
> 内容如下： {"token":"c9d1cee6-da40-4e97-afc8-209045786b04", "content-type":"text/plain", "data":RAW DATA}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T04:10:57.423

```
data = "Test";
valueToSend = '{"token":"c9d1cee6-da40-4e97-afc8-209045786b04","content-type":"application/json","data":' + data + '}';
    $.ajax({
        url: "http://paraimpu.crs4.it/data/new",
        type: "POST",
        data: valueToSend,
        dataType: "jsonp",    //set datatype to jsonp
        crossDomain: true,
        jsonp: false,
        contentType:"application/json",
        success: function(){
            alert('Success');
        }
    });​ 
```

这些是您缺少的部分：

`dataType: "jsonp"`：您期望从服务器返回的数据类型。“jsonp”，使用 JSONP 加载到 JSON 块中。添加一个额外的“？callback =？” 到 URL 的末尾以指定回调。通过将查询字符串参数“_=[TIMESTAMP]”附加到 URL 来禁用缓存，除非缓存选项设置为 true。

`jsonp: false`：覆盖 jsonp 请求中的回调函数名称。在“callback=?”中将使用该值代替“callback” url 中查询字符串的一部分。所以 {jsonp:'onJSONPLoad'} 会导致 'onJSONPLoad=?' 传递给服务器。从 jQuery 1.5 开始，将 jsonp 选项设置为 false 会阻止 jQuery 将“?callback”字符串添加到 URL 或尝试使用“=?”。为转型。在这种情况下，您还应该明确设置 jsonpCallback 设置。例如，{ jsonp: false, jsonpCallback: "callbackName" }

更多信息在这里：[jQuery.ajax()](http://api.jquery.com/jQuery.ajax/)

# ios - 为什么audiofilestream获取所有远程歌曲是vbr，即使歌曲是cbr

> ID：12775110
> 
> 赞同：0
> 
> 时间：2012-10-08T03:56:50.687
> 
> 标签：ios, core-audio, audioqueue, audiostreamer

我写了一个小测试来播放远程歌曲，我确定我测试的歌曲是 cbr。我试图通过

`vbr = ((AudioStreamPacketDescription *)inPacketDescriptions != nil);`

但我总是得到 vbr == true 为什么？

任何人都可以教我如何获取歌曲的类型（cbr 或 vbr）？

# php - PHP MAMP 未显示所有 HTML 文档

> ID：12775112
> 
> 赞同：2
> 
> 时间：2012-10-08T03:57:03.417
> 
> 标签：php, html, header, mamp

我正在使用 MAMP。PHP 标记后的任何代码都不会显示在浏览器中。

我怀疑这与我在发送 PHP 后可以发送到浏览器的内容有关吗？或者可以在 HTML doc 之前发送哪些内容？

代码：

```
<?php 
   /* Web Controller for searching music */
   session_start();     

   echo "I display fine!";
?>

<html>
    <head>
        <title>Listen2me</title>
    </head>
    <body>
        <h1>Listen2.me</h1>         
        <input type="text" name="songChoice" value="Search songs">
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T09:47:17.740

也许缺少的 doctype 声明可能会影响显示：

```
 <!DOCTYPE html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-05T05:49:55.670

您是否尝试将文件上传到其他服务器以查看是本地主机问题还是文件问题？

当我遇到代码看起来不错但运行不正常的问题时，我总是通过 BBEdit 的“zap gremlins”功能运行它。你可能在某个地方有一个看不见的坏角色，把事情搞砸了。如果您没有 BBEdit，您可以从头开始重新创建文档。不要复制粘贴，因为您只是将任何坏字符复制粘贴回新文档中。

# java - java - 如何使用java中的记事本在项目外调用database.properties？

> ID：12775115
> 
> 赞同：0
> 
> 时间：2012-10-08T03:57:39.257
> 
> 标签：java, database, properties

我想在项目之外进行 database.properties，所以当我想在构建它们时更改其内容（数据库配置）时`jar`，我可以轻松地完成它而无需再次打开我的项目。那么该怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T04:12:35.723

首先，将`database.properties`文件放在您想要的位置。

然后，执行以下操作之一：

1.  将所在的目录添加`database.properties`到类路径中。然后用于`Thread.currentThread().getContextClassLoader().getResource()`获取文件的 URL，或`getResourceAsStream()`获取文件的输入流。
2.  如果您不介意 Java 应用程序知道文件的确切位置，则`database.properties`可以使用简单的文件 I/O 来获取对文件的引用（使用`new File(filename)`）。

通常，您希望坚持使用第一个选项。将文件放在任何地方，并将目录添加到类路径中。这样，您的 Java 应用程序不必知道文件的确切位置 - 只要将文件的目录添加到运行时类路径，它就会找到它。

示例（对于第一种方法）：

```
public static void main(String []args) throws Exception {
    InputStream stream = Thread.currentThread().getContextClassLoader().getResourceAsStream("database.properties");
    Properties props = new Properties();

    try {
        // Read the properties.
        props.load(stream);
    } finally {
        // Don't forget to close the stream, whatever happens.
        stream.close();
    }

    // When reaching this point, 'props' has your database properties.
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T04:30:43.553

Store properties file in your preferred location. Then do the following:

```
try {

    String myPropertiesFilePath = "D:\\configuration.properties"; // path to your properties file
    File myPropFile = new File(myPropertiesFilePath); // open the file

    Properties theConfiguration = new Properties();
    theConfiguration.load(new FileInputStream(myPropFile)); // load the properties

catch (Exception e) {

} 
```

Now you can easily get properties as String from the file:

```
String datasourceContext = theConfiguration.getString("demo.datasource.context", "jdbc/demo-DS"); // second one is the default value, in case there is no property defined in the file 
```

Your `configuration.properties` file might look something like this:

```
demo.datasource.context=jdbc/demo-DS
demo.datasource.password=123 
```

# java - 粒子系统阵列

> ID：12775116
> 
> 赞同：0
> 
> 时间：2012-10-08T03:57:45.927
> 
> 标签：java, arrays, particles

所以我整天都在努力让我的盒子保存它们在数组中的位置，最后我想我想出了一些东西（在你们的帮助下），但它就是不工作......有人可以请告诉我为什么？

控制类：

```
import java.awt.Point;
import org.newdawn.slick.GameContainer;
import org.newdawn.slick.Graphics;
import org.newdawn.slick.SlickException;
import org.newdawn.slick.state.BasicGameState;
import org.newdawn.slick.state.StateBasedGame;

public class Control extends BasicGameState {
    public static final int ID = 1;

    public Methods m = new Methods();
    public Point[] point = new Point[(800 * 600)];

    int pressedX;
    int pressedY;
    int num = 0;

    public void init(GameContainer container, StateBasedGame game) throws SlickException{
    }

    public void render(GameContainer container, StateBasedGame game, Graphics g) throws SlickException {
        m.drawParticle(pressedX, pressedY);
    }

    public void update(GameContainer container, StateBasedGame game, int delta) {
    }

    public void mousePressed(int button, int x, int y) {
        pressedX = x;
        pressedY = y;
        num = num + 1;
        point[num].x = pressedX;
        point[num].y = pressedY;
        }

    public int getID() {
        return ID;
    }

} 
```

方法类：

```
 import org.newdawn.slick.Graphics;

public class Methods {

    public Graphics g = new Graphics();

    public int sizeX = 1;
    public int sizeY = 1;

    public void drawParticle(float x, float y){
        g.drawRect(x, y, sizeX, sizeY);
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T04:04:20.313

虽然您已经初始化了点数组的大小，但您还没有初始化内容。

```
public void mousePressed(int button, int x, int y) {
    pressedX = x;
    pressedY = y;
    num++;
    point[num] = new Point(pressedX, pressedY);
} 
```

还认为在您的`render`方法中，您需要重新渲染图形（我可能弄错了，我以前没有使用过 Slick2D）...

有了类似...

```
public void render(GameContainer container, StateBasedGame game, Graphics g) throws SlickException {
    for (Point p : point) {
        if (p != null) {
            m.drawParticle(p.x, p.y);
        }
    }
    m.drawParticle(pressedX, pressedY);
} 
```

我也很好奇你创建你自己的`Graphics`，特别是当`render`方法通过你时，你可能想进一步检查并确保这是可以接受的......

# java - 多文件上传，填充html表中的值并上传到服务器端

> ID：12775121
> 
> 赞同：0
> 
> 时间：2012-10-08T03:58:24.780
> 
> 标签：java, spring

我的问题是，我有一个表单，`type="file"`当我尝试单击它时我有一个按钮，我有一个浏览窗口，我可以选择多个文件。有时它会毫无问题地上传到服务器。

现在的问题是，有时它没有显示错误，而在其他时候它在tomcat日志中显示以下错误，

```
 8 Oct, 2012 9:21:44 AM org.apache.catalina.core.StandardWrapperValve invoke
SEVERE: Servlet.service() for servlet sampleupload threw exception org.apache.commons.fileupload.MultipartStream$MalformedStreamException: Stream ended unexpectedly
    at org.apache.commons.fileupload.MultipartStream$ItemInputStream.makeAvailable(MultipartStream.java:983)
    at org.apache.commons.fileupload.MultipartStream$ItemInputStream.read(MultipartStream.java:887)
    at java.io.InputStream.read(InputStream.java:82)
    at org.apache.commons.fileupload.util.Streams.copy(Streams.java:94)
    at org.apache.commons.fileupload.util.Streams.copy(Streams.java:64)
    at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:362)
    at org.apache.commons.fileupload.servlet.ServletFileUpload.parseRequest(ServletFileUpload.java:126)
    at org.springframework.web.multipart.commons.CommonsMultipartResolver.parseRequest(CommonsMultipartResolver.java:156)
    at org.springframework.web.multipart.commons.CommonsMultipartResolver.resolveMultipart(CommonsMultipartResolver.java:139)
    at org.springframework.web.servlet.DispatcherServlet.checkMultipart(DispatcherServlet.java:997)
    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:860)
    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:827)
    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:789)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:311)
    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:116)
    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:83)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:323)
    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:323)
    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:101)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:323)
    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:323)
    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:54)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:323)
    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:323)
    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilter(BasicAuthenticationFilter.java:150)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:323)
    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:182)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:323)
    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:105)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:323)
    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:323)
    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:173)
    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:259)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)
    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859)
    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:602)
    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)
    at java.lang.Thread.run(Thread.java:662) 
```

任何帮助将不胜感激，它可以帮助我解决这个问题，朋友回复我以解决问题......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-23T05:13:47.080

确保上传目的地存在或有权写入文件

# c# - 找出 linq 完成了多少次迭代

> ID：12775125
> 
> 赞同：1
> 
> 时间：2012-10-08T03:58:52.340
> 
> 标签：c#, linq

我想知道 LINQ 完成了多少次迭代。所以我写了一个简单的查询

```
string xx = "The quick brown fox jumps over the lazy dog";

char search = 'f';

int j = 0;

var result = xx.Select((b, i) => 
{
    j++;
    return b.Equals(search) ? i : -1;
})
.Where(i => 
{
    j++;
    return i != -1;
});

MessageBox.Show(j.ToString()); 
```

我认为这`j`将包含完成的迭代次数，但令人惊讶的是它仍然为 0。为什么会这样？其次，如何找出 LINQ 完成了多少次迭代。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T04:01:12.060

那是因为 LINQ 是[惰性求值](http://blogs.msdn.com/b/ericwhite/archive/2006/10/04/lazy-evaluation-_2800_and-in-contrast_2c00_-eager-evaluation_2900_.aspx)的。因此，只有在必要时才会调用 lambda。

例如，最后执行`.ToList()`以触发它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T04:01:45.433

你怎么知道它仍然为零？`var result =`你是在行后打印的吗？那是因为 LINQ 使用延迟执行。因此，即使您调用`Select()`and `Where()`，他们实际上还没有*做*任何事情。`ToList()`您可以通过调用或`ToArray()`在 LINQ 链的末尾强制它执行。

# php - 如何在不评估或扩展魔术常数 __DIR__ 的情况下编写或打开 php 数组

> ID：12775128
> 
> 赞同：3
> 
> 时间：2012-10-08T03:59:12.217
> 
> 标签：php, string, magic-constants

我有一个配置文件，它是一个名为 config.php 的 php 数组。

```
return array(
    'template_dir' => __DIR__ '/configs/templates.php'
) 
```

然后每当我想使用这个配置文件时，我只需要包含 config.php。用这种方式编写配置文件也很容易。

```
file_put_contents($config, 'return ' . var_export($data, true)); 
```

但是我希望能够在不扩展的情况下将魔术常量**DIR**写入配置文件。到目前为止，我还没有想出一种方法来做到这一点。我已经尝试了一切来编写一个 recursiveArrayReplace 方法来删​​除整个路径并尝试将其替换为

```
 __DIR__ 
```

但它总是出现

```
 '__DIR__ . /configs/template.php' 
```

在这种情况下，它在运行时不会扩展。

我该怎么写

```
 __DIR__ to an array in a file or how ever else without the quotes so that it looks like,

array('template_dir' => __DIR__ . '/configs/templates.php'); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T04:06:40.460

除了用 替换路径`__DIR__`，您还需要替换起始撇号。

例如，如果路径是`/foo/bar`那么你想要做这个替换：

`"'/foo/bar"`到`"__DIR__ . '"`

* * *

前：

```
'/foo/bar/configs/template.php' 
```

后：

```
__DIR__ . '/configs/template.php' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T04:15:40.077

这是不可能的，因为`var_export()`打印的是变量，而不是表达式。

最好将所有路径写为相对目录，并在获取数据后规范化为完整的工作路径。

您还可以考虑返回一个对象：

```
class Config
{
    private $paths = array(
        'image_path' => '/configs/template.php',
    );

    public function __get($key)
    {
        return __DIR__ . $this->paths[$key];
    }
}

return new Config; 
```

或者，您必须自己生成 PHP 代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T04:14:32.113

直接通过以下方式编写配置怎么样：

```
$data = <<<EOT
return  array('template_dir' => __DIR__ . '/configs/templates.php');
EOT;

file_put_contents($config, $data); 
```

# c# - Surface - 纸牌游戏 WPF

> ID：12775130
> 
> 赞同：1
> 
> 时间：2012-10-08T03:59:17.687
> 
> 标签：c#, wpf, pixelsense

我被要求在 WPF 中制作一个简单的纸牌游戏，旨在与 Microsoft Pixel Sense Tables（版本 1）一起使用。

我有在 WPF 甚至 Surface 中创建用户应用程序的经验，但我对构建游戏还是很陌生。我已经查看了 XNA，并且正在阅读文档。

纸牌游戏有三个不同的阶段，我现在正在考虑完成第 1 阶段。第 1 阶段涉及创建两组卡片。一组卡片有一个单词，另一组卡片有一个与另一组单词相关的短语。牌乱七八糟。然后学生必须匹配正确的配对。

`ScatterView`现在我知道由于Surface SDK 的缘故，部分工作得到了简化。我还决定最好的方法是创建一个`UserControl`然后`ScatterViewItem`在运行时添加到 a 中。单词和相关短语存储在 mySQL 数据库或 access 数据库中。

但这是我遇到麻烦的地方。当学生将一组正确的卡片配对时，我如何将两张卡片连接在一起？我查看了 SDK 中包含的 Scatter 拼图，但对于现阶段的这款游戏来说，它似乎太复杂了。我想创建类似于两张撕破的纸的卡片，当连接时形成一张更大的纸，但我不太确定如何实现这一点。

# java - 创建一个可以对数组中的负数进行计数的方法

> ID：12775133
> 
> 赞同：2
> 
> 时间：2012-10-08T03:59:31.670
> 
> 标签：java, arrays, count, negative-number

```
public class negativeTest {

    public static int Negativenum (int[] array) {

        int negative = 0;
        for (int i = 0; i < array.length; i++){
            if(array[i] < 0){
                negative = negative + 1;
            }
            System.out.println(negative);

        }

    }

} 
```

我试图计算数组中有多少元素是负数。这就是我到目前为止所拥有的。我的问题是：eclipse 告诉我应该返回一个 void 而不是 static int？我如何在不使用 void 的情况下做到这一点？

我想用

```
public static int negativenum(int[] array){ 
```

我可以让这个工作的唯一方法是创建一个包含正数和负数的数组并计算它们，但我希望能够有一种方法来做到这一点而无需创建数字数组。你能帮助我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T04:02:27.363

尝试给出一个 return 语句，你的方法期望一个 int 作为返回参数。因此它会给出**编译器错误。**

```
public class negativeTest {

    public static int Negativenum (int[] array) {

        int negative = 0;
        for (int i = 0; i < array.length; i++){
            if(array[i] < 0){
                negative = negative + 1;
            }
            System.out.println(negative);

        }
      return negative;
    }

} 
```

你得到的错误是因为你没有`main`在类中声明函数。

您必须`Negativenum` 从主函数调用。

你可以这样做：

```
 public static void main (String args[])
 {
 negativeTest  nt = new negativeTest();
 int [] array = new int[]{ 100,200 };  
 int count = nt.Negativenum(array);
 System.out.println(count);  // It will print **2** 
 } 
```

关于您在评论中提出的疑问。

只有当您想使用调用函数的返回值时，您才必须从函数返回任何内容。否则，如果您只想在控制台上打印该值或记录该值，您可以在 negativeTest 函数中轻松完成，并且可以将此函数的返回类型更改为 void。

仅供参考，您的类名不应以小写字符开头。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T04:01:51.030

该错误是因为您没有从预期返回`int`.

如果您希望函数计算负数的个数并返回计数，以便函数的调用者获取计数，您可以添加一个

```
return negative; 
```

在函数结束之前。

或者，如果您不想从函数返回任何内容并且只想将计数打印为函数调用的一部分，则可以将函数的返回类型从更改`int`为`void`：

```
public static void Negativenum (int[] array) { 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T04:03:19.610

您的函数签名建议返回类型为 int，但您没有从函数返回任何内容。我怀疑这就是 Eclipse 建议您更改函数签名以返回 void 的原因。

如果添加`return negative;`它应该避免来自 Eclipse 的通知。

如果您的意图是简单地打印计数，那么您应该更改返回类型。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-08T04:16:00.453

如果您不想返回任何内容，请将您的方法签名设置为 void，但添加一个 out 变量，如下所示：

```
public static void NegativeNum(int[] array, out int negative)
{
     negative = 0;
     foreach(int i in array) { if (i < 0) negative++;
} 
```

然后您只需在调用此方法的任何位置声明否定，并将其作为输出变量传递：

```
int negative = 0;
NegativeNum(array, out negative); 
```

在该调用之后，negative 将包含由该方法确定的负数的计数。

# python - 使用 Xlib 在 python 中获取窗口位置和大小

> ID：12775136
> 
> 赞同：8
> 
> 时间：2012-10-08T04:00:01.017
> 
> 标签：python, xlib

我需要找到窗口位置和大小，但我不知道如何。例如，如果我尝试：

```
id.get_geometry()    # "id" is Xlib.display.Window 
```

我得到这样的东西：

```
data = {'height': 2540,
'width': 1440,
'depth': 24,
'y': 0, 'x': 0,
'border_width': 0
'root': <Xlib.display.Window 0x0000026a>
'sequence_number': 63} 
```

我需要找到窗口位置和大小，所以我的问题是：“y”、“x”和“border_width”始终为 0；更糟糕的是，“高度”和“宽度”在没有窗框的情况下返回。

在这种情况下，在我的 X 屏幕上（其尺寸为 4400x2560），我期望 x=1280，y=0，width=1440，height=2560。

换句话说，我正在寻找 python 等价物：

```
#!/bin/bash
id=$1
wmiface framePosition $id
wmiface frameSize $id 
```

如果您认为 Xlib 不是我想要的，请随意在 python 中提供非 Xlib 解决方案，如果它可以将窗口 id 作为参数（如上面的 bash 脚本）。在 python 代码中使用 bash 脚本的输出的明显解决方法感觉不对。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-12T07:11:02.647

您可能正在使用 reparenting 窗口管理器，并且由于这个 id 窗口的 x 和 y 为零。检查父窗口的坐标（这是窗口管理器框架）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-09-03T21:24:22.957

Liss 发布了以下解决方案[作为评论](https://stackoverflow.com/questions/12775136/get-window-position-and-size-in-python-with-xlib#comment17443571_12775136)：

```
from ewmh import EWMH
ewmh = EWMH()

def frame(client):
    frame = client
    while frame.query_tree().parent != ewmh.root:
        frame = frame.query_tree().parent
    return frame

for client in ewmh.getClientList():
    print frame(client).get_geometry() 
```

我在这里复制它是因为[答案应该包含实际答案](https://meta.stackexchange.com/questions/8231/are-answers-that-just-contain-links-elsewhere-really-good-answers)，并防止[链接腐烂](https://en.wikipedia.org/wiki/Link_rot)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-12-07T00:16:11.050

这是我想出的似乎效果很好的方法：

```
from collections import namedtuple

import Xlib.display

disp = Xlib.display.Display()
root = disp.screen().root

MyGeom = namedtuple('MyGeom', 'x y height width')

def get_absolute_geometry(win):
    """
    Returns the (x, y, height, width) of a window relative to the top-left
    of the screen.
    """
    geom = win.get_geometry()
    (x, y) = (geom.x, geom.y)
    while True:
        parent = win.query_tree().parent
        pgeom = parent.get_geometry()
        x += pgeom.x
        y += pgeom.y
        if parent.id == root.id:
            break
        win = parent
    return MyGeom(x, y, geom.height, geom.width) 
```

完整的例子[在这里](https://gist.github.com/mgalgs/8c1dd50fe3c19a1719fb2ecd012c4edd)。

# c# - 防止表单多次显示

> ID：12775140
> 
> 赞同：3
> 
> 时间：2012-10-08T04:00:33.013
> 
> 标签：c#, winforms

在 windows 窗体 (c#) 中，当用户单击按钮时，我正在显示一个窗体，它工作正常窗体对用户可见，但如果用户再次单击同一个按钮，同一个窗体将再次打开，两个窗体正在显示。有什么办法可以防止这种情况，请给我任何参考，谢谢。这是我的代码....

```
private void button1_Click(object sender, EventArgs e)
{
  Form2 obj = new Form2();
  obj.Show();
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-08T04:05:41.953

你最有可能做这样的事情：

```
void button1_OnClick(object sender, EventArgs e) {
    var newForm = new MyForm();
    newForm.Show();
} 
```

因此，每次单击时都会显示表单的新实例。你想做这样的事情：

```
MyForm _form = new MyForm();

void button1_OnClick(object sender, EventArgs e) {
    _form.Show();
} 
```

在这里，您只有*一个*要显示的表单实例，只需 Show() 即可。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-06-06T09:24:35.493

```
foreach (Form form in Application.OpenForms)
{
    if (form.GetType() == typeof(MyFormType))
    {
        form.Activate();
        return;
    }
}

Form newForm = new MyFormType();
newForm.MdiParent = this;
newForm.Show(); 
```

我尝试了多种方法来比较哪个更好。

但我认为这个解决方案一定比答案更好。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T04:06:27.987

你可以尝试类似的东西

```
 private Form f;
    private void button2_Click(object sender, EventArgs e)
    {
        if (f == null)
        {
            f = new Form();
            f.Closed += f_Closed;
            f.Show();
        }
    }

    void f_Closed(object sender, EventArgs e)
    {
        f = null;
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-08T04:08:58.127

您很可能每次都在 Button 的 Click 处理程序中创建一个新的表单实例。

因此，您需要将 Form 对象的创建移到`Button_Click`.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-08-09T04:23:44.483

解决问题的最简单方法是用 ShowDialog 替换 Show 命令，这样在防止表单显示两次时不会有任何问题

```
Form2 obj = new Form2();
obj.ShowDialog(); 
```

代码：`.ShowDialog();`是我们目前正在寻找的可以解决问题的代码

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2022-02-21T09:32:05.840

10 年后，喜欢乐队 :p 想分享对我有用的代码。没什么特别的，只是检查表单实例是否存在。另外，我不喜欢 ShowDialog，因为用户被“困”在那种形式中，我觉得它很烦人。用户可能想要检查其他来源的其他信息，例如在填写在线表格时需要复制粘贴字段信息。

```
private void button1_Click(object sender, EventArgs e)
{
 var obj = Application.OpenForms.OfType<Form2>().Select(t => t).FirstOrDefault();
 if (obj != null)
   {
      obj.BringToFront();
   }
 else
   {
      obj = new Form2();
      obj.Show();
   }
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-10-04T15:27:37.483

这是经过验证的解决方案的一个很好的示例，如果表单尚未打开，它将打开它。如果它已经打开，它将把它放在前台。

```
namespace MainProgram
{
    public partial class Form1 : Form
    {
        private Form formNew = new FormToShowSomething();

        private void button1_Click(object sender, EventArgs e)
        {
            formNew.Show();
            formNew.Activate();
        }
    }
} 
```

# c# - 如何将微型 MCE 应用到 C#

> ID：12775141
> 
> 赞同：1
> 
> 时间：2012-10-08T04:01:06.163
> 
> 标签：c#, javascript, tinymce

大家好，我只想在我的项目中应用 tinyMCE。我尝试将它与我的 .aspx 页面附加，但它不会显示任何更改，甚至显示工具箱。这是我从[tinyMCE](http://www.tinymce.com/tryit/full.php)使用的代码，只需单击“查看源代码”选项卡。

```
<%@ Page Language="C#"  MasterPageFile="~/MasterPage.master" AutoEventWireup="false" CodeFile="Email.aspx.cs" Inherits="Email" %>

<asp:Content ID="Content1" ContentPlaceHolderID="head" Runat="Server"> 
```

```
<script type="text/javascript">
 tinyMCE.init({
     // General options
     mode: "textareas",
     theme: "advanced",
   editor_selector :"mceEditor",
     plugins: "autolink,lists,spellchecker,pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template",

     // Theme options
     theme_advanced_buttons1: "save,newdocument,|,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect,fontselect,fontsizeselect",
     theme_advanced_buttons2: "cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code,|,insertdate,inserttime,preview,|,forecolor,backcolor",
     theme_advanced_buttons3: "tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,emotions,iespell,media,advhr,|,print,|,ltr,rtl,|,fullscreen",
     theme_advanced_buttons4: "insertlayer,moveforward,movebackward,absolute,|,styleprops,spellchecker,|,cite,abbr,acronym,del,ins,attribs,|,visualchars,nonbreaking,template,blockquote,pagebreak,|,insertfile,insertimage",
     theme_advanced_toolbar_location: "top",
     theme_advanced_toolbar_align: "left",
     theme_advanced_statusbar_location: "bottom",
     theme_advanced_resizing: true,

     // Skin options
     skin: "o2k7",
     skin_variant: "silver",

     // Example content CSS (should be your site CSS)
     content_css: "styles/style.css",

     // Drop lists for link/image/media/template dialogs
     template_external_list_url: "Scripts/template_list.js",
     external_link_list_url: "Scripts/link_list.js",
     external_image_list_url: "Scripts/image_list.js",
     media_external_list_url: "Scripts/media_list.js",

     // Replace values for the template plugin
     template_replace_values: {
         username: "Some User",
         staffid: "991234"
     }
 });

</script>

<asp:Content ID="Content3" ContentPlaceHolderID="ContentPlaceHolder1" Runat="Server"<tr>
    <td width="10%" class="fieldsEmail" align="right" valign="top">Message:&nbsp;</td>
    <td width="90%">
    <textarea id="message" class="mceEditor" cols="20" rows="2" 
            style="width:95%; height:300px;"></textarea>
            </td>
</tr></asp:Content> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T01:53:17.467

Have already answered my question. The problem is that I didn't attached all the required JavaScript to complete my project. Thanks.

# c# - 从 M 个集合中取出 n 个唯一对象

> ID：12775145
> 
> 赞同：1
> 
> 时间：2012-10-08T04:01:25.787
> 
> 标签：c#, asp.net, logic, combinations

我想知道如何在 C# 中完成这项任务。例如;

> 我收到了 10 个问题，其中 3 个要显示给用户，让他们输入答案。假设我们开始的 10 个问题是唯一的，我如何让程序生成 3 个不重复（唯一）的问题。

我在asp.net应用程序中使用逻辑，并且允许在下次刷新页面时显示相同的问题集，所以这对我来说没问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T04:12:52.807

为您的问题实例使用列表，并随机选择一个（按索引）。然后将其从列表中删除并重复。像这样的东西；

```
 static void Main(string[] args)
    {
        List<string> questions = new List<string>();
        for (int i = 0; i < 10; i++)
            questions.Add("Question " + i);

        Random r = new Random();
        for (int i = 0; i < 3; i++)
        {
            int nextQuestion = r.Next(0, questions.Count);
            Console.WriteLine(questions[nextQuestion]);
            questions.RemoveAt(nextQuestion);
        }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-05-31T07:24:04.727

一种方法是随机打乱元素，然后选择其中的前三个。关于如何在 C# 中随机播放 -[随机化 List<T>](https://stackoverflow.com/questions/273313/randomize-a-listt-in-c-sharp)。
这种方法比从列表中删除大集合中的问题要好，因为在最坏的情况下（当随机化被确定或刚刚发生严重时）由于删除的 O(n) 复杂性，它可以增长到 O(n^2)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T04:51:53.387

```
class Questions
{
    const int NUMBER_OF_QUESTIONS = 10;
    readonly List<string> questionsList;
    private bool[] avoidQuestions; // this is the "do-not-ask-question" list
    public Questions()
    {
        avoidQuestions = new bool[NUMBER_OF_QUESTIONS];

        questionsList = new List<string>
                            {
                                "question1",
                                "question2",
                                "question3",
                                "question4",
                                "question5",
                                "question6",
                                "question7",
                                "question8",
                                "question9"
                            };            
    }

    public string GetQuestion()
    {
        Random rnd = new Random();
        int randomVal;

        // get a new question if this question is on the "do not ask question" list
        do
        {
            randomVal =  rnd.Next(0, NUMBER_OF_QUESTIONS -1);
        } while (avoidQuestions[randomVal]);

        // do not allow this question to be selected again
        avoidQuestions[randomVal] = true;

        // do not allow question before this one to be selected
        if (randomVal != 0)
        {
            avoidQuestions[randomVal - 1] = true;
        }

        // do not allow question after this one to be selected
        if (randomVal != NUMBER_OF_QUESTIONS - 1)
        {
            avoidQuestions[randomVal + 1] = true;
        }

        return questionsList[randomVal];
    }
} 
```

只需创建 Questions 对象并调用 questions.GetQuestions() 三次

# wpf - wpf 用户控件显示在当前视图的顶部

> ID：12775146
> 
> 赞同：0
> 
> 时间：2012-10-08T04:01:26.873
> 
> 标签：wpf, user-controls

我希望在我的应用程序中有一个用户控件。该行为应类似于工具提示。这意味着，当我在视图内移动鼠标时，此用户控件也会移动。如何实现这一点。我不希望有可拖动的画布，只是控件的顶部和左侧发生了变化。实际上我希望达到的效果与[放大镜](http://geekswithblogs.net/lbugnion/archive/2009/04/05/using-a-behavior-to-magnify-your-wpf-applications.aspx)非常相似。但是，我希望在放大查看器中显示裁剪后的图像，而不是显示数字缩放图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T13:34:34.963

您也可以使用`Adorner`该类。希望这能解决您的问题。

[装饰类描述 (MSDN)](http://msdn.microsoft.com/de-de/library/vstudio/ms743737.aspx)

# iphone - 如何在应用内购买中恢复购买？

> ID：12775148
> 
> 赞同：2
> 
> 时间：2012-10-08T04:01:41.200
> 
> 标签：iphone, ios, ios4, in-app-purchase

我已经在我的 iPhone 应用中实现了应用内购买功能。在那我已经给出了恢复选项。有时，当我点击恢复按钮时，我没有从 App Store 获得任何产品 ID。但是我已经使用 Apple ids（测试用户帐户）进行了购买。

但有时它适用于其他一些 Apple Id（测试用户帐户）。为什么这种行为不同？

购买完成后，我应该等待多长时间才能恢复购买。我习惯在 10 分钟后检查它。那样行吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T20:12:16.543

苹果（和谷歌）确实为您提供了“保存”购买历史记录的选项，以便用户在删除他的应用程序或切换到新设备时可以恢复它。Google 和 Apple 提供的功能非常有限，但是您可以轻松地自己实现更好的功能。

*   设置服务器端进行用户验证
*   制作自己的恢复购买功能
*   在此之上应用一些规则（欺诈保护、过期、日志……）。

为此，您需要将所有产品配置为“消耗品”或在 Google 中配置为“非托管”，并基本上管理您身边的一切。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-08T04:15:31.440

我真的不会担心。没有人会进行应用内购买，然后在 10 分钟内删除并重新下载该应用。如果你已经让它工作了，那么对于任何实际情况都应该没问题。

# sitecore - 如何对 Sitecore CMS 中的项目版本应用安全限制？

> ID：12775154
> 
> 赞同：0
> 
> 时间：2012-10-08T04:02:33.347
> 
> 标签：sitecore

是否可以对旧版本的项目应用安全限制？我想限制对特定角色的项目以前版本的读取访问权限。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T06:12:30.230

您不能在特定版本上设置安全性。如果您为某个项目的一个版本更改它，那么它将针对该项目的所有版本进行更改。我想知道在哪种情况下这可能有用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T06:50:26.013

安全字段是跨版本“共享”的，这意味着它的值在项目的所有版本中始终相同。

这是 Sitecore 的默认字段之一，所以我建议不要更改它。

但是，如果您真的想要，您可以转到*/sitecore/templates/System/Templates/Sections/Security*并取消选中右侧字段“__Security”的“共享”框。

然后您可以转到每个项目并手动更改每个版本的安全设置。

免责声明：我不知道这会对安全应用程序产生什么影响，所以我不知道安全编辑器是否会停止工作，或者 Sitecore 是否会开始变慢。无论哪种方式，我都建议不要这样做，因为我不确定是否推荐。

# algorithm - 来自连续流的等概率随机数

> ID：12775156
> 
> 赞同：0
> 
> 时间：2012-10-08T04:02:57.580
> 
> 标签：algorithm, stream

你有连续不断的数字流进来。你没有空间来存储它们。但是要设计一种机制，在任何时候你都可以以相同的概率选择任何数字。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-08T04:42:57.377

为一个数字留出空间，并将第 n 个数字替换为概率为 1/n 的数字。

[http://en.wikipedia.org/wiki/Reservoir_sampling](http://en.wikipedia.org/wiki/Reservoir_sampling)

# visual-studio-2010 - Sql Server 2008 数据库项目增量部署

> ID：12775157
> 
> 赞同：1
> 
> 时间：2012-10-08T04:03:03.550
> 
> 标签：visual-studio-2010, sql-server-2008

我在 Visual Studio 2010 中创建了一个新的 Sql 2008 数据库项目。我导入了数据库对象，只保留了存储过程。这一切都按预期工作。我遇到的问题是它每次都尝试部署整套程序。我希望它只为增量创建部署脚本。我很确定我梳理了每个设置，但我找不到它。因此，如果有人可以首先验证这是可能的，然后告诉我去哪里看。我需要这样做，因为我们只在每个版本中部署存储过程，数据库架构没有被修改。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-06T20:49:14.453

将项目（作为源）与要部署的数据库（作为目标）进行模式比较。显示 shcem 比较结果后，您可以选择要部署的更改，然后单击“导出到 T-SQL 编辑器”按钮。它将创建增量脚本。

# c++ - C++ 序列化只检索字符串的一半

> ID：12775158
> 
> 赞同：-2
> 
> 时间：2012-10-08T04:03:05.323
> 
> 标签：c++, serialization

我有这个要序列化的类：（私有属性）

```
class Task {
    public:
        enum Status { COMPLETED, PENDIENT };
        // GETTERS SETTERS... 
        // UTILS
        const std::ostream& storeTask( std::ostream &stream );
        const std::istream& retrieveTask( std::istream &stream );
private:
        void setID();
        static int sCount;
        int id;
        std::string text;
        Status status;
        tm timestamp;
}; 
```

正如你所看到的，我试图通过实现我定义的一个`storeTask`and`retrieveTask`方法来做到这一点：

```
// SERIALIZATION
const std::ostream& Task::storeTask( std::ostream &stream ) {
  stream.write((char *) &id, sizeof(int));
  stream.write((char *) text.c_str(), sizeof(text.length()));
  stream.write((char *) &status, sizeof(Status));
  stream.write((char *) &timestamp, sizeof(tm));
  return stream;
}
const std::istream& Task::retrieveTask( std::istream &stream ) {
  stream.read((char *) &id, sizeof(int));
  stream.read((char *) text.c_str(), sizeof(text.length()));
  stream.read((char *) &status, sizeof(Status));
  stream.read((char *) &timestamp, sizeof(tm));
  return stream;
} 
```

我正在通过创建一个包含 2 个任务对象的向量来测试实现，使用它们的 storeTask 方法编写它们，然后创建另一个包含 2 个不同任务的任务向量，并尝试将第一个任务向量的值重新加载到第二个向量。

用这两个任务编写二进制文件似乎工作得很好，但是当再次读取它们时，它只获取文本字符串的前 4 个字符。

```
int main() {
        std::vector<Task> myTasks;
        Task task1("First Task");
        Task task2("Second Task");
        myTasks.push_back(task1);
        myTasks.push_back(task2);

        std::vector<Task> myTasks2;
        Task task3("Task num1");
        Task task4("Task num2");
        myTasks2.push_back(task3);
        myTasks2.push_back(task4);

        writeTasks(myTasks);
        readTasks(myTasks2);

    return 0;
}

void writeTasks(std::vector<Task> aTasks) {
        std::fstream fileStream("fileStream", std::ios::out | std::ios::binary);
        for ( int x = 0; x < aTasks.size(); x++ ) {
            std::cout << "Storing: " << aTasks[x].getText() << "\n";
            aTasks[x].storeTask(fileStream);
        }
        fileStream.close();
}
void readTasks(std::vector<Task> aTasks) {
        std::fstream fileStream;
        fileStream.open("fileStream", std::ios::in | std::ios::binary);
        for ( int x = 0; x < aTasks.size(); x++ ) {
            std::cout << "Retrieving " << aTasks[x].getText();
            aTasks[x].retrieveTask(fileStream);
            std::cout << " as --> " << aTasks[x].getText() << " - " << aTasks[x].getTime() << "\n";
        }
        fileStream.close();
} 
```

这会返回：

```
Storing: First Task
Storing: Second Task
Retrieving Task num1 as --> Firs num1 - 01:02:26
Retrieving Task num2 as --> Seco num2 - 01:02:26 
```

什么时候应该返回：

```
Storing: First Task
Storing: Second Task
Retrieving Task num1 as --> First Task - 01:02:26
Retrieving Task num2 as --> Second Task - 01:02:26 
```

有任何想法吗？不知道问题是在编写二进制序列化还是读取它......其他值，如时间，日期似乎工作正常。

作为`text.c_str()`返回 a `const char *`，我声明了一个小函数来从字符串转换为 char *：

```
char * str_to_char(std::string s) {
    char *a=new char[s.size()+1];
    a[s.size()]=0;
    memcpy(a,s.c_str(),s.size());
    return a;
} 
```

并在 retireveTask 方法中尝试了这个：

```
stream.read(str_to_char(text), text.size() + 1); 
```

但得到：

```
Storing: First Task
Storing: Second Task
Retrieving Task num1 as --> Task num1 - 589824:524288:131072
Retrieving Task num2 as --> Task num2 - 112:09:08 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T05:19:23.327

你有两个主要问题：

1.  写的时候写`sizeof(text.length()))`。该运算符返回返回的`sizeof`大小（通常为 4 或 8 个字节）。仅使用.`std::string::size_type``text.length()``text.length()`

2.  阅读时，您尝试阅读直接放入字符串中的文本。这绝对不会起作用，因为甚至可能没有分配实际的字符串，或者没有分配足够的空间。我会说你很幸运，你能读到一些东西，你的程序不会在这里崩溃。

要序列化一个字符串（或任何可变大小的数据），您需要先存储字符串的长度，这样您就知道以后要读取多少。

正确的序列化并不容易，我真的建议您研究[Boost 序列化](http://www.boost.org/doc/libs/1_51_0/libs/serialization/doc/index.html)，它可以正确处理所有奇怪和极端情况。

# java - JXL - 多张纸上的垂直和水平冻结

> ID：12775164
> 
> 赞同：1
> 
> 时间：2012-10-08T04:03:34.693
> 
> 标签：java, excel, spreadsheet, jxl

```
SheetSettings settings = billSheet.getSettings();
settings.setHorizontalFreeze(1);
settings.setVerticalFreeze(8); 
```

我有一张纸和它的水平、垂直冻结集。现在我想将它复制到其他工作表。

```
for (int i = 0; i < 5; i++) {
    workbook.copySheet(i, "Bill " + i, i + 1);
} 
```

在这里，我将有 6 张具有相同水平和垂直冻结（1 和 8）的表。
但是，当我打开导出的 excel 文件时，只有前 2 个工作表冻结（如果我不复制工作表而是单独为它们创建和设置冻结，也会发生同样的事情）。
这是 excel 或 jxl 的预期行为吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T04:27:42.010

哦。我忘了提，我在 LibreOffice 上测试过。

它现在可以在 Microsoft Excel 上正确运行。

# javascript - 我如何阅读这个 javascript 图表？

> ID：12775165
> 
> 赞同：12
> 
> 时间：2012-10-08T04:03:49.843
> 
> 标签：javascript

我目前正在阅读*Javascript: The Good Parts*，但我无法理解他们的“语法”图表。

第一个是空白

![在此处输入图像描述](../Images/535d1f21ef9bf354bda70c8debe04fbc.png)

我不太确定如何阅读它，也许一些代码会帮助我理解？

感谢各位高手的帮助。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-08T04:41:42.990

从最左边开始，`||`然后继续向右。向下的第一条（紧挨着您的起点）无法跟随，因为曲线不是从左侧（您行进的方向）开始的。如果您查看它的来源，应该很容易看出它代表一个`while`环形：

```
while (!EOF) {} // While there's still text to parse 
```

可以跟随第二行，因为曲线源自左侧（跟随您的当前目录。）此行表示此 if-else 语句：

```
if (char == '/') {}       // Forward slash
else if (char == '\n') {} // Line end
else if (char == '\t') {} // Tab
else if (char == ' ') {}  // Space 
```

空格、制表符和结束行都结束函数，`return`或者`continue`立即结束。但是，如果字符是正斜杠，则需要检查它是单行（`//`）还是多行（`/* */`）：

```
*char++;                 // Move to next character
if (char == '*') {}      // Multi line
else if (char == '/') {} // Single line 
```

如果它是单行，它会一直读取到行尾并继续。如果它是多行，它会以类似的方式读取，直到找到“*”后跟“/”，然后继续。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-08T04:24:54.180

The left side double bar ("||") can be viewed as the "input" of a function and the right double bar as the "output". So, in this case, a character or line is the input, and the paths between the double bars are the tests. If the character/line is considered "white space" by any of the tests, the output of the function will be "true", otherwise it will be "false."

In particular, let's say you follow the fourth path. On this path you will first encounter a "/", subsequently followed by another "/", followed by any other character until the EOL character. In this case, if the line of code is "// an example", then the output will be true.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T04:31:13.430

把它想象成*你*是解析器或语言，你需要一套规则来理解输入的字符流。

通过思考解析器是如何工作的，您可以准确地理解 JavaScript 语言标记的组成部分。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-09T22:52:56.633

您参考的语法图被广泛用于记录 Pascal 语法。它基本上是如何解析源代码的流程图。图表的每个“块”，在您的示例中，“空白”，就像一个函数调用。从技术上讲，我们正在谈论递归下降解析器。

所以我的想法是：

解析器从输入流中获取一个字符。所以我们去“尝试”空白函数，如果该字符是空格、制表符、行尾或“/”字符，我们进入下一步，否则我们以“未找到”返回值退出。

如果它是一个'/'，那么我们得到下一个字符。如果它是另一个'/'，那么我们读取字符直到我们得到一个行结束，然后以'found'返回值退出。

如果下一个字符是 ' *'，那么我们会读取任何不是 '/' 或 '* ' 的内容。ETC ...

基本上流程是从左到右的，但是当一条线循环回到左边时，我们有一个重复。这些图表的巧妙之处在于，一旦你掌握了它的窍门，就很容易快速编写语法正确的代码。并且您可以按照“流程图”轻松编写递归下降解析器。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-03-20T11:37:17.867

（参考[这个答案](https://stackoverflow.com/a/42902427/4910876)）

要学习如何阅读铁路图，您需要了解图表在这三种情况下的区别：

**零个或多个，零个或一个，一个或多个**。

要了解它们的区别（如下图所示），重点是*“您从左边缘开始，沿着轨道到右边缘”。*所以想象你是火车，你只是右转，不能左转。

[![在此处输入图像描述](../Images/9901a73e8ccd42d5986cd42fbec1a8a0.png)](https://i.stack.imgur.com/gwLPC.png)

上图由[http://bottlecaps.de/rr/](http://bottlecaps.de/rr/)创建 在“编辑语法”选项卡中，输入以下语法：

```
zeroormore ::= element*
zeroorone ::= element?
oneormore ::= element+ 
```

# c++ - C++：结构真的和类一样吗？

> ID：12775169
> 
> 赞同：4
> 
> 时间：2012-10-08T04:04:31.030
> 
> 标签：c++, class, struct

> **可能重复：**
> [C++中的struct和class有什么区别](https://stackoverflow.com/questions/92859/what-are-the-differences-between-struct-and-class-in-c)

这个问题已经被问了很多，也得到了很多回答，但每隔一段时间我就会遇到一些令人困惑的事情。

总而言之，C++ 结构和类之间的区别在于著名的默认公共访问与私有访问。除此之外，C++ 编译器对待结构的方式与对待类的方式相同。结构可以有构造函数、复制构造函数、虚函数。等等。结构的内存布局与类的内存布局相同。C++ 具有结构的原因是为了与 C 向后兼容。

现在，由于人们对使用哪个结构或类感到困惑，因此经验法则是，如果您只有普通的旧数据，请使用结构。否则使用一个类。而且我已经读过结构在序列化方面很好，但不是从哪里来的。

然后前几天我看到了这篇文章： http: [//www.codeproject.com/Articles/468882/Introduction-to-a-Cplusplus-low-level-object-model](http://www.codeproject.com/Articles/468882/Introduction-to-a-Cplusplus-low-level-object-model)

它说如果我们有（直接引用）：

```
struct SomeStruct
{ 
    int    field1;
    char   field2;
    double field3;
    bool   field4; 
}; 
```

那么这个：

```
void SomeFunction()
{
    SomeStruct someStructVariable;
    // usage of someStructVariable
    ... 
} 
```

还有这个：

```
void SomeFunction()
{ 
    int    field1;
    char   field2;
    double field3;
    bool   field4;      
    // usage of 4 variables
    ... 
} 
```

是相同的。

它说如果我们有一个结构或者只是写下函数内部的变量，生成的机器代码是相同的。当然，这仅适用于您的结构是 POD 的情况。

这就是我感到困惑的地方。在 Effective C++ 中，Scott Meyers 说没有空类这样的东西。

如果我们有：

```
class EmptyClass { }; 
```

它实际上是由编译器布置的，例如：

```
class EmptyClass
{
    EmptyClass() {}
    ~EmptyClass() {}
    ...
}; 
```

所以你不会有一个空的班级。

现在，如果我们将上述结构更改为一个类：

```
class SomeClass
{ 
    int  field1;
    char field2 
    double field3;
    bool  field4; 
}; 
```

这是否意味着：

```
void SomeFunction()
{
    someClass someClassVariable;
    // usage of someClassVariable
    ... 
} 
```

还有这个：

```
void SomeFunction()
{ 
    int  field1;
    char field2 
    double field3;
    bool  field4;      
    // usage of 4 variables
    ... 
} 
```

在机器指令方面是否相同？没有调用 someClass 构造函数？或者分配的内存与实例化类或单独定义变量相同？那么填充呢？结构和类做填充。在这些情况下填充是否相同？

如果有人能对此有所了解，我将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T04:11:13.670

我相信那篇文章的作者是错误的。尽管这两个函数的结构和非成员变量布局版本之间*可能没有区别，但我认为这不能保证。*我能想到的唯一可以保证的是，因为它是一个 POD，所以结构的地址和第一个成员是相同的......并且每个成员在某个时间点之后都跟随在内存中。

在这两种情况下，由于它是一个 POD（类也可以是，不要犯那个错误），数据将被初始化。

我建议无论如何不要做出这样的假设。如果您编写的代码利用了它，而我无法想象您为什么要这样做，那么大多数其他开发人员都会觉得它莫名其妙。仅在必要时才翻阅法律书籍。否则更喜欢以人们习惯的方式编码。您真正应该记住的唯一重要部分是，POD 对象不会被初始化，除非您明确地这样做。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T05:43:33.383

唯一的区别是结构的成员默认是公共的，而类的成员默认是私有的（当我说默认时，我的意思是“除非另有说明”）。看看这段代码：

```
#include <iostream>
using namespace std;

struct A {
 int x;
 int y;
};

class A obj1;

int main() {
  obj1.x = 0;
  obj1.y = 1;
  cout << obj1.x << " " << obj1.y << endl;
  return 0;
} 
```

代码编译并运行得很好。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T04:27:59.373

除了默认保护之外，结构和类之间没有区别（请注意，基类的默认保护类型也不同）。书籍和我自己 20 多年的经验说明了这一点。

关于默认的空 ctor/dector。标准并没有要求这个。尽管如此，一些编译器可能会生成这对空的 ctor/dector。每个合理的优化器都会立即将它们扔掉。如果在某个地方调用了一个什么都不做的函数，你怎么能检测到呢？除了消耗 CPU 周期之外，这会如何影响任何事情？

MSVC 不会生成无用的函数。有理由认为每个优秀的编译器都会这样做。

关于例子

```
struct SomeStruct
{ 
    int    field1;
    char   field2;
    double field3;
    bool   field4; 
}; 

void SomeFunction()
{ 
    int    field1;
    char   field2;
    double field3;
    bool   field4;      
   ... 
} 
```

填充规则、内存中的顺序等可能并且很可能会完全不同。优化器可能很容易丢弃未使用的局部变量。优化器从结构中删除数据字段的可能性要小得多（如果可能的话）。为此，应在 cpp 文件中定义结构，应设置某些标志等。

我不确定您是否会在堆栈上找到任何有关填充本地变量的文档。AFAIK，这是 100% 的编译器来制作这个布局。相反，描述了结构/类的布局，有`#pargma`控制它的命令行键等。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-08T06:03:41.737

> 在机器指令方面是否相同？

没有理由不这样做。但是标准没有保证。

> 没有调用 someClass 构造函数？

是的，有一个对构造函数的调用。但是构造函数不起作用（因为所有成员都是 POD，并且您声明的方式`someClass someClassVariable;`会导致值初始化，这对 POD 成员没有任何作用）。因此，既然没有工作要做，就不需要种植任何指令。

> 或者分配的内存与实例化类或单独定义变量相同？

该类可能包含单独声明变量不包含的填充。
此外，我确信编译器会更轻松地优化单个变量。

> 那么填充呢？

是的，结构（结构/类）中可能存在填充。

> 结构和类做填充。在这些情况下填充是否相同？

是的。只要确保将苹果与苹果进行比较（即）

```
struct SomeStruct
{ 
    int    field1;
    char   field2;
    double field3;
    bool   field4; 
}; 
class SomeStruct
{ 
  public:           /// Make sure you add this line. Now they are identical.
    int    field1;
    char   field2;
    double field3;
    bool   field4; 
}; 
```

# java - 如何在 IntelliJ IDEA 社区版中创建新的 Swing 应用程序？

> ID：12775170
> 
> 赞同：23
> 
> 时间：2012-10-08T04:04:36.003
> 
> 标签：java, intellij-idea

我使用创建新项目向导创建了一个新项目，选择“从头开始创建项目”，但它完全是空的（根本没有 java 类，所以我在空项目中手动创建了一个新的 swing 表单）。

在我使用过的许多其他 IDE 中，有一种方法可以单击一次，然后获得一个新的“新 Gui 项目”，我通常期望它在“文件 - > 新项目”向导或类似的东西中。

IntelliJ IDEA IDE中有一个新的项目向导，但它似乎只能创建一个空白项目，然后我可以手动添加一个表单。所以我就这么做了。但是，它缺少您期望它具有的任何通常的 Java 代码，无法打开该表单并将其显示为应用程序。

我正在尝试了解 IntelliJ IDEA 的特性和功能，它作为一个非常快速和高效的编辑器和调试器以及围绕 ANT 构建系统构建系统 GUI 包装器似乎很强大，但我想知道是否还有更多“RAD”功能我只是忽略了。我已经做了一些谷歌搜索和阅读文档，但我没有发现太多关于使用 IntelliJ IDEA 用 Ja​​va 构建 GUI 应用程序的信息。

我目前卡住的地方是当我尝试构建和运行带有空表单的空项目时，我进入某种“运行”目标配置屏幕，我尝试单击 [+] 图标，然后添加“MyForm01”是我创建的空摆动表单，它在对话框中显示“MyForm01 不可接受”。我知道足够多的 java 知道基本的“GUI 应用程序框架代码”不是由 IDE 自动生成的。我可以从互联网上复制和粘贴一些东西，但我的兴趣是了解该工具是否可以自动用于构建 GUI，其工作流程与其他 RAD 样式的 GUI 构建器工具一样简单，包括 NetBeans，它是我最喜欢使用的 java 工具，或者 Delphi，它是我的主要日常工具，它基于 Pascal，而不是 Java。

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-10-08T04:38:02.647

IDEA 中没有 GUI 项目之类的东西。您可以随时添加 GUI 表单，只需通过右键单击 -> 新建 -> GUI 表单。`main()`您只需将方法添加到表单绑定类中即可从中创建 GUI 应用程序。如果您在绑定类编辑器中点击 Alt-Ins（或菜单 Code->Generate），IDEA 会为您完成这项工作。唯一的要求是为表单的根面板放置正确的名称。

您还应该查看本手册以发现其他一些内容：[https](https://www.jetbrains.com/help/idea/designing-gui-major-steps.html) ://www.jetbrains.com/help/idea/designing-gui-major-steps.html 。无论如何，GUI builder 非常直观。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2016-01-14T20:52:43.550

以下说明适用于 IntelliJ Idea 14。

1.  启用 UI 设计器
    1.  文件 → 设置 → 插件 → UI 设计器
2.  启用生成 Java 类
    1.  文件 → 设置 → 编辑器 → GUI 设计器 → 将生成 GUI 更改为“Java 源代码”</li>
3.  转到项目视图，然后右键单击要存储生成的 Java 类的包名称
    1.  在上下文菜单中，选择 New → GUI Form，然后设置绑定类
    2.  在设计器中，它会自动在窗口上放置一个Jpanel。选择 Jpanel，首先将 Layout manager 设置为 GridLayoutManager(IntelliJ)。
    3.  根据需要添加组件，确保为“字段名称”赋予一些值。该值将成为表单类中该组件的名称。
    4.  您可以通过右键单击预览表单，然后选择预览。
    5.  完成后，将 Jpanel 的布局管理器更改为“GridBagLayout”。
4.  点击 Build → Make Project 生成 Java 源代码并将其存储在绑定的 Java 类中。

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2012-10-08T04:37:00.107

IntelliJ IDEA 首先是一个非常智能的编辑器，而不是像 Delphi 这样的 RAD 工具。

但是，它有一个强大的 gui 编辑器 - 只需右键单击左侧 Project 视图中的任何包，然后选择`New GUI form`or `New Dialog`，它就会让您创建 GUI。[这个](https://stackoverflow.com/questions/3899525/how-to-use-gui-form-created-in-itellij-idea)问题提供了有关运行 gui 的更多信息。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2016-07-25T04:11:00.857

创建新的 GUI 表单或对话框

**创建新的 GUI 表单**

1.在主菜单上，选择文件| 新的，如创建文件部分所述。

2.在弹出的菜单中，选择GUI Form。

3.指定新表单的名称，并选择布局管理器。

4.勾选创建绑定类选项，并指定绑定类名称。

5.单击确定。

**创建新对话框**

1.在主菜单上，选择文件| 新的，如创建文件部分所述。

2.在弹出菜单中，选择对话框。

3.指定新对话框的名称。

4.指定以下选项：

生成创建和显示对话框的 main() 方法。

生成 OK 处理程序。

生成取消处理程序。

5.单击确定。

**从 GUI 表单创建文件模板**

1.创建一个 GUI 表单或在 GUI Designer 中打开它。

2.在主菜单上，选择工具| 将文件另存为模板。文件模板对话框显示表单的源代码。新模板的扩展名为 .form 3\. 指定模板名称，然后单击“确定”。

**从文件模板创建新的 GUI 表单**

1.在项目工具窗口中，右键单击要在其中创建新表单的包。2.在上下文菜单中选择新建。子菜单包含所有已定义文件模板的项目，包括 GUI 表单。3\. 在上下文菜单中选择所需的 GUI 表单模板，并在出现提示时为其命名。

**创建快照**

快照功能使您能够将通过其他方式创建的 GUI 表单转换为 IntelliJ IDEA GUI 设计器表单。您需要做的就是运行您的应用程序并将正在运行的应用程序的组件树的一部分保存为 GUI 设计器表单。从那时起，您可以使用 GUI 设计器来扩展或修改表单。

您可以在 GUI 设计器中使用布局和代码，就像使用最初使用 GUI 设计器创建的表单一样。

**为现有对话框拍摄快照**

1.打开包含您要捕获的对话框的源代码的模块。

2.选择应用程序运行配置，确保选中启用捕获表单快照选项，然后运行应用程序。

3.在正在运行的应用程序中，执行任何必要的交互以打开要捕获的对话框。

4.在项目工具窗口中，右键单击目标包并选择新建| 上下文菜单上的表单快照。如果应用程序尚未运行，IntelliJ IDEA 会提示您运行它，然后准备应用程序以拍摄快照： [在此处输入图像描述](http://i.stack.imgur.com/0HsFh.png)

将出现“创建表单快照”对话框。

5.在 IntelliJ IDEA 的 Create Form Snapshot 对话框中，选择要包含在快照中的顶层组件，输入表单名称，然后单击 Create Snapshot 按钮。以这种方式创建的新表单不绑定到任何类。您必须自己将其绑定到一个类。 [在此处输入图像描述](http://i.stack.imgur.com/GCEfP.png)

**打开现有的 GUI 表单**

1.打开表单文件的方式与打开源代码或文本文件进行编辑的方式相同。在相应的导航视图中找到该文件，选择它，然后执行以下操作之一：

- 双击。

- 在上下文菜单上选择跳转到源。

- 按 F4。

每个表单都在一个单独的选项卡中打开，该选项卡与源代码文件编辑器占用的空间相同。您可以同时打开源代码/文本文件和表单文件。

# c# - 合并来自 2 个表的数据

> ID：12775171
> 
> 赞同：0
> 
> 时间：2012-10-08T04:04:42.043
> 
> 标签：c#, sql, visual-studio-2010, sql-server-2008

免责声明：这是一个测试/虚拟/假数据库

大家好，我有一个问题，下面是 2 个表结构。当我使用

```
SELECT CONVERT(char(80), InvDate,3) AS InvDate,InvoiceNo,EmployerCode,TaxAmount + SubTotal AS Amount,'' AS Payment FROM dbo.Invoice; 
```

[![在此处输入图像描述](../Images/ad502506497cbe0053201ee42472469c.png)](https://i.stack.imgur.com/uyqRC.png)

我希望添加一列患者姓名，并将其标记为发票号。所以我的意思是，当查询被执行时，它应该向我显示与发票号码一起标记的患者详细信息。但是在这两个表结构中都没有链接。我能想到的唯一链接是“MedicalRecordID”。我尝试使用 UNION 函数并没有给我想要的输出。有什么帮助吗？

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using System.Data.SqlClient;

namespace MedicalDataExporter
{
public partial class frmSales : Form
{
    public frmSales()
    {
        InitializeComponent();
    }

    private void dtpFrom_ValueChanged(object sender, EventArgs e)
    {

    }

    private void btnExtract_Click(object sender, EventArgs e)
    {

        SqlConnection objConn = new SqlConnection("Data Source=test;Initial Catalog=test;Persist Security Info=True;User ID=test;Password=test");

       System.Data.SqlClient.SqlConnection(conStr);
        objConn.Open();

        SqlCommand objCmd = new SqlCommand("SELECT CONVERT(char(80), InvDate,3) AS InvDate,InvoiceNo,EmployerCode,TaxAmount + SubTotal AS Amount,'' AS Payment FROM Invoice WHERE (InvDate >= CONVERT(datetime, '"+dtpFrom.Text +"', 105 )) AND (InvDate <= CONVERT(datetime, '"+dtpTo.Text+"', 105))", objConn);

        SqlDataReader objReader;
        objReader = objCmd.ExecuteReader();

        System.IO.FileStream fs = new System.IO.FileStream("C:\\CMSExportedData\\Sales-" + DateTime.Now.ToString("dd-MM-yyyy") + ".txt", System.IO.FileMode.Create);
        System.IO.StreamWriter sw = new System.IO.StreamWriter(fs, System.Text.Encoding.Default);

        int count = 0;
        while (objReader.Read())
        {

            for (int i = 0; i < 5; i++)
            {
                if (!objReader.IsDBNull(i))
                {
                    string s;
                    s = objReader.GetDataTypeName(i);
                    //MessageBox.Show(s);
                    if (objReader.GetDataTypeName(i) == "char")
                    {
                        sw.Write(objReader.GetString(i));
                    }
                    else if (objReader.GetDataTypeName(i) == "money")

                    {
                        sw.Write(objReader.GetSqlMoney(i).ToString());
                    }
                    else if (objReader.GetDataTypeName(i) == "nvarchar")
                    {
                        sw.Write(objReader.GetString(i));
                    }
                }
                if (i < 4)
                {
                    sw.Write("\t");
                }

            }
            count = count + 1;
            sw.WriteLine();

        }
        sw.Flush();
        fs.Close();
        objReader.Close();
        objConn.Close();
        MessageBox.Show(count + " records exported successfully.");
        this.Close();
    }

    private void groupBox1_Enter(object sender, EventArgs e)
    {

    }

    private void dtpTo_ValueChanged(object sender, EventArgs e)
    {

    }

    private void frmSales_Load(object sender, EventArgs e)
    {

    }
}
} 
```

这是表结构：

[![在此处输入图像描述](../Images/a06ac915858f6cc096bf5b8e5e9c8c7d.png)](https://i.stack.imgur.com/Ustcw.png)

这是第二个表结构：

[![在此处输入图像描述](../Images/72296fb1652864e98a00b990b0fed9c1.png)](https://i.stack.imgur.com/tPstp.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T05:58:19.700

要跨多个表查询数据，您需要[连接这些表](http://en.wikipedia.org/wiki/Join_%28SQL%29)。我不是 100% 清楚你的两个表之间的关系，但如果`MedicalRecordID`是正确的关系，那么你的查询应该是这样的：

```
SELECT
    CONVERT(char(80), i.InvDate,3) AS InvDate,
    i.InvoiceNo,
    i.EmployerCode,
    i.TaxAmount + i.SubTotal AS Amount,
    '' AS Payment,
    pd.LastName,
    pd.GivenName
FROM
    dbo.Invoice i
        INNER JOIN dbo.PatientDetails pd ON (pd.MedicalRecordID = i.MedicalRecordID)
; 
```

如果表之间存在一对一的关系，并且`PatientDetails`每张发票总是有一条记录，则此方法有效。如果`PatientDetails`是可选的，则使用`LEFT JOIN`而不是`INNER JOIN`.

**编辑（回复评论）：**

我敢打赌 WHERE 子句中的 DateTime 转换没有按您期望的方式工作。假设`dtpFrom`and`dtpTo`是`DatePicker`控件，您可能希望使用该`SelectedDate`属性而不是`Text`. 此外，我强烈建议您在查询中使用参数，而不是连接字符串。你的代码会更干净，你会避免[SQL 注入](http://en.wikipedia.org/wiki/SQL_injection)。这是一个简单的例子：

```
using (SqlConnection connection = new SqlConnection( ... ))
{
    connection.Open();

    string sql = @"
                SELECT
                    CONVERT(char(80), i.InvDate,3) AS InvDate,
                    i.InvoiceNo,
                    i.EmployerCode,
                    i.TaxAmount + i.SubTotal AS Amount,
                    '' AS Payment,
                    pd.GivenName
                FROM
                    dbo.Invoice i
                        LEFT JOIN dbo.PatientDetails pd ON (pd.MedicalRecordID = i.MedicalRecordID)
                WHERE
                    InvDate >= @fromDate AND InvDate <= @toDate";

    SqlCommand cmd = new SqlCommand(sql, connection);
    cmd.Parameters.AddWithValue("@fromDate", dtpFrom.SelectedDate);
    cmd.Parameters.AddWithValue("@toDate", dtpTo.SelectedDate);

    using (SqlDataReader reader = cmd.ExecuteReader())
    {
        // do stuff with results
    }
} 
```

# jquery - IE9 + jwplayer：__flash__addCallback 错误如果在调用 player.load() 之前在 dom 中移动播放器

> ID：12775173
> 
> 赞同：6
> 
> 时间：2012-10-08T04:05:01.897
> 
> 标签：jquery, flash, internet-explorer, media-player, jwplayer

更新：这个问题的前提被证明是错误的。除非移动是响应用户点击，否则问题不会发生。请看[这里](http://www.longtailvideo.com/support/forums/jw-player/bug-reports/28999/ie9-move-and-load-player-in-response-to-user-click-load-fails/)。

* * *

几天来，我一直在敲我的头，希望有人能提供帮助。

我有一个 jquery 脚本，它使用[jwplayer javascript api](http://www.longtailvideo.com/support/jw-player/jw-player-for-flash-v5/12540/javascript-api-reference)调用 jwplayer 对象（“myplayer”） 。例如，要加载带有特定视频的 myplayer，我调用：

```
myplayer.load('my_url'); 
```

只要我不先将播放器移动到 DOM 中的不同位置，这在 Firefox 和 Internet Explorer 中都可以正常工作。

但是，我的脚本有时会在调用 `myplayer.load()`. 这在 Firefox 中运行良好。但是在 Internet Explorer 9 中，我在这一行得到一个错误：

```
return eval(instance.CallFunction("<invoke name=\""+name+"\" returntype=\"javascript\">" + __flash__argumentsToXML(arguments,0) + "</invoke>")); 
```

在这个函数里面：

```
function __flash__addCallback(instance, name) {
  instance[name] = function () { 
    return eval(instance.CallFunction("<invoke name=\""+name+"\" returntype=\"javascript\">" + __flash__argumentsToXML(arguments,0) + "</invoke>"));
  }
} 
```

如果我跟踪 Internet Explorer 调试器中发生的事情，我会看到`myplayer.load('my_url')`调用`this.callInternal("jwLoad",u)`in `jwplayer.js`，并且显然在执行`this.callInternal("jwLoad",u)`时发生了错误。

**细节：**

html 看起来像这样：

```
<div id='stage'>
    <div id='myplayer_wrapper'>
        <object id='myplayer'>...</object>
    </div>
</div>
<div id='holding-pen'></div> 
```

当播放器不被使用时，我将其 wrapper-div 移动到握笔：

```
var el = $('#myplayer_wrapper');            
$('#holding-pen').append(el); 
```

将播放器的 wrapper-div 移动到触控笔后，html 现在看起来像：

```
<div id='stage'></div>
<div id='holding-pen'>
    <div id='myplayer_wrapper'>
        <object id='myplayer'>...</object>
    </div>
</div> 
```

当我希望使用播放器时，我将其 wrapper-div 移回 stage-div：

```
var el = $('#myplayer_wrapper');            
$('#stage).append(el); 
```

将播放器的 wrapper-div 移动到 stage-div 后，html 看起来和原来一样：

```
<div id='stage'>
    <div id='myplayer_wrapper'>
        <object id='myplayer'>...</object>
    </div>
</div>
<div id='holding-pen'></div> 
```

在页面加载时，我创建播放器对象并将其移动到握笔。然后我将它移到舞台上并加载视频。

例如，如果用户单击图像缩略图，我将视频播放器移动到握持笔上，并将选定的图像移动到舞台上。

如果用户然后单击视频缩略图，我会从握笔中取出视频播放器并将其移回舞台。然后我用所选视频加载播放器。这是 Internet Explorer 中出现“_ *flash* _addCallback”问题的地方。

有没有人对可能发生的事情有任何见解？或者关于如何让它在 Internet Explorer 中工作的任何建议？

非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-03-07T21:36:39.270

就网络上的各种帖子而言，这似乎是 IE（6、7、8 和 9）的一个已知问题。这取决于`Flash`版本和`IE`版本的组合。

`IE`似乎为媒体播放器所期望的词语保留了一些方法：

*   玩
*   停止
*   暂停
*   长度

...并且该`__flash__addCallback()`功能似乎使用了相同的词。`play`并且`stop`是`Flash`电影的重要组成部分，并决定它们何时播放或停止。我无法确认更高版本`Flash`是否对此进行了修改。

支持这一点的来源：

*   [__flash__addCallback 中发生的问题](https://stackoverflow.com/questions/4786325/problem-occurring-in-flash-addcallback)
*   [https://groups.google.com/forum/#!topic/glow-users/7A0tOf60Sl4](https://groups.google.com/forum/#!topic/glow-users/7A0tOf60Sl4)
*   [ExternalInterface.addCallback 在 IE8 Flash 10.0 或更低版本中不起作用](https://stackoverflow.com/questions/15249351/externalinterface-addcallback-not-working-in-ie8-flash-10-0-or-below)

一个有趣的转折： [http ://beweb.pbworks.com/w/page/53110280/Flash%20IE8%20Javascript%20Error](http://beweb.pbworks.com/w/page/53110280/Flash%20IE8%20Javascript%20Error)

一些人建议使用[**SWFObject**](https://code.google.com/p/swfobject/)来解决浏览器问题，例如这个问题，其他人则研究了 Soundcloud 修复他们的播放器的方式 - 尽管[这篇 SoundCloud 文章](http://help.soundcloud.com/customer/portal/articles/1331463-why-is-my-widget-not-showing-up-in-internet-explorer-)粉碎了那里的任何希望。

归根结底，问题在于`Flash`期望如何`JavaScript`与自身通信，这与`IE`. 您可能必须：

*   更新你的**jwplayer**
*   **在jwplayer**的错误跟踪器上创建问题
*   自己解决问题...

帮助我解决许多 IE 问题的方法是将 DOCTYPE 更改为`<!DOCTYPE html>`. 简单而有效。请注意，`IE7`希望单词 DOCTYPE 写成*大写*。每当我尝试这个时，我就知道我已经变成了一个绝望的僵尸。:P

最后但并非最不重要的一点是，请确保关闭下面的最后一个单引号：

```
$('#stage).append(el); 
```

# jsf-2 - 嵌套在 EL 条件运算符中

> ID：12775174
> 
> 赞同：2
> 
> 时间：2012-10-08T04:05:17.223
> 
> 标签：jsf-2, el, conditional-operator

我正在尝试在 Facelets 页面的条件运算符中进行嵌套。

```
<h:outputText value="#{login.loginModel.selectedTab=='1'?bundle.idea:(login.loginModel.selectedTab=='2'?bundle.question:(login.loginModel.selectedTab=='3'?bundle.bug:bundle.thanks))} #{bundle.id} &lt;b&gt;#{detail.detailModel.postDetail.id}&lt;/b&gt;&lt;hr/&gt;" escape="false"/> 
```

但是，它返回 EL 表达式不正确的错误。这是如何引起的，我该如何解决？

# post - ExtJS4.1：为什么 model.save() 向服务器发送错误的东西？

> ID：12775177
> 
> 赞同：1
> 
> 时间：2012-10-08T04:05:33.167
> 
> 标签：post, extjs, model, extjs4.1

我试图用`model.save()`POST 一个新用户。但是我检查了request payload，发现它不仅发送了数据，还发送了模型的其他部分。这使我的服务器无法解析有效负载。

生成的请求有效负载：

```
{"phantom":true,"internalId":"ext-record-58","raw":{},"data":{"userId":0,"userName":"Amy"},"modified":{"userName":""},"hasListeners":{},"events":{},"stores":[],"dirty":true,"id":"AM.model.User-ext-record-58"} 
```

但所需的请求负载应该是：

```
{"userId":0,"userName":"Amy"} 
```

而且我知道在我打电话之前我的模型的“幻影”是错误的`model.save()`。但它在请求有效负载中变得真实。这是一个线索吗？

模型：

```
 Ext.define('AM.model.User',{
        extend: 'Ext.data.Model',
        fields: [
            { name: 'userId', type: 'int' },
            { name: 'userName', type: 'string' },
            { name: 'createdTime', type: 'string' },

        ],
        idProperty: 'userId',
        associations: [
        {
            type: 'hasOne',
            model: 'AM.model.ModelA',
            name:'modelA',
            associationKey:'modelA',
            getterName:'modelA'
        },
        {
            type: 'hasOne',
            model: 'AM.model.ModelB',
            name:'modelB',
            associationKey:'modelB',
            getterName:'modelB'
        }
        ],
        proxy: {
            type: 'rest',
            success:true,
            url:'../restful/users',
            writer:{
                type:'json',
                getRecordData:function(record){ //parse createdTime to the format Y-m-d
                    record.set('createdTime', Ext.Date.format(new Date(record.get('createdTime')), "Y-m-d"));
                    return record;
                }   
            },
            reader: {
                type: 'json'
            }
        }
    }); 
```

* * *

这是要发布数据的视图。视图会将数据填充到模型中：

```
Ext.define('AM.view.UserRegisterForm',{
    extend:'Ext.form.Panel.',
    alias:'widget.userRegisterForm',
    fields:new Array(), //I want to render the fields in xtemplate, so instead of adding the fields to items, I use an array to manage them.

    retrieveData(model){
        model.set('userName', this.fields[0].getValue());
        model.set('createdTime',this.fields[1].getValue());
    }
} 
```

* * *

控制器中发送 POST 请求的函数：

```
postUser:function(){
    var userRegisterForm= this.getUserRegisterForm();
    var userModel = this.getUserModel();
    var user= new userModel();
    var me = this;

    userRegisterForm.retrieveFieldData(user);
    console.log(user); //the data in console looks fine!
    user.save({
        success: function(response) {
            //do something...
        },failure:function(response) {
            alert('fail');
        }
    });
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T13:28:03.367

当您覆盖Where 时，您将返回完整[记录](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.data.Model)`getRecordData`，因为您只是要返回记录[数据](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.data.Model-method-getData)。`record.getData()`

一些额外的建议。不要覆盖 getRecordData 来设置模型创建日期。如果不存在，请使用模型 defaultValue 属性为其分配一个新日期。

# python - 标签不会在按钮单击时更新

> ID：12775178
> 
> 赞同：0
> 
> 时间：2012-10-08T04:05:39.080
> 
> 标签：python, tkinter

我们必须为小学生做一个测试，以测试他们的数学技能。我需要左边的标签有一个随机方程，右边有一个输入表格，最右边有一个按钮来检查他们给出的答案是否正确。如果他们做对了，就会给出一个新的等式。

```
from tkinter import Label, Frame, Entry, Button, LEFT, RIGHT, END, TOP, END
from tkinter.messagebox import showinfo
from random import randrange

class Ed(Frame):
    'Simple arithmetic education app'
    def __init__(self,parent=None):
        'constructor'
        Frame.__init__(self, parent)
        self.pack()
        Ed.new_problem(self)
        Ed.make_widgets(self)
        self.tries = 0

    def make_widgets(self):
        'defines Ed widgets'
        if self.plusminus == 1: 
            Label(self, text=(self.a ,"+" ,self.b)).pack(side=LEFT)
        else:
            Label(self, text=(self.a, "-" ,self.b)).pack(side=LEFT)       
        self.ent = Entry(self)
        self.ent.pack(side=LEFT)        
        Button(self, text='Enter', command=self.evaluate).pack(side=RIGHT)

    def new_problem(self):
        'creates new arithmetic problem'
        self.a = randrange(1,10,1)
        self.b = randrange(1,10,1)
        self.c = randrange(1,10,1)
        if self.c < 5:
            self.total = self.a + self.b
            self.plusminus = 1     #plusminus = plus
        else:
            self.total = self.a - self.b
            self.plusminus = 0     #plusminus = minus

    def evaluate(self):
        'handles button "Enter" clicks by comparing answer in entry to correct result'
        if self.total == eval(self.ent.get()):
            showinfo(title='YAY', message='You are CORRECT!')
            self.ent.delete(0,END)
        else:
            self.ent.delete(0,END)
            self.ent.insert(END, 'Wrong. Try again.')
            self.tries+=1

Ed().mainloop() 
```

问题是当答案正确时等式不会更新。所以当我输入 12 时，问题是 8 + 4。它是正确的，但保持 8 + 4，但我希望它改变为一个新的方程。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:11:58.280

您仅`new_problem`在`Ed`实例化对象时才调用。之后再也不会调用它，这样做实际上不会更改现有设置，因为您只需为您的小部件创建一次标签，也在实例化时。

您需要做的是将 a 传递`tkinter.StringVar`给您的`Label`小部件，然后`set`对该变量进行算术问题。`new_problem`然后，您在每个成功的答案之后运行。

我已经稍微更新了您的代码以`super`直接在实例上而不是通过类使用和运行方法，但这应该可以工作：

```
from tkinter import Label, Frame, Entry, Button, LEFT, RIGHT, END, TOP, END, StringVar
from tkinter.messagebox import showinfo
from random import randrange

class Ed(Frame):
    """Simple arithmetic education app"""
    def __init__(self,parent=None):
        """constructor"""
        super().__init__(parent)
        self.tries = 0
        self.problem = StringVar()
        self.make_widgets()
        self.new_problem()
        self.pack()

    def make_widgets(self):
        """defines Ed widgets"""
        self.label = Label(self, textvariable=self.problem)
        self.label.pack(side=LEFT)
        self.ent = Entry(self)
        self.ent.pack(side=LEFT)
        Button(self, text='Enter', command=self.evaluate).pack(side=RIGHT)

    def new_problem(self):
        """creates new arithmetic problem"""
        self.tries = 0
        self.a = randrange(1,10,1)
        self.b = randrange(1,10,1)
        if randrange(1,10,1) < 5:
            self.total = self.a + self.b
            self.plusminus = '+'
        else:
            self.total = self.a - self.b
            self.plusminus = '-'
        self.problem.set( (self.a , self.plusminus, self.b) )

    def evaluate(self):
        """handles button "Enter" clicks by comparing answer in entry to correct result"""
        if self.total == int(self.ent.get()):
            showinfo(title='YAY', message='You are CORRECT!')
            self.ent.delete(0,END)
            self.new_problem()
        else:
            self.ent.delete(0,END)
            self.ent.insert(END, 'Wrong. Try again.')
            self.tries += 1

Ed().mainloop() 
```

我还把你改成`eval`了`int`……你*真的*不想那样做，因为它使用户能够将 python 代码注入你的应用程序。

例如，我可以输入以下内容作为我的“答案”：

```
showinfo(title="Blah", message="Look ma - No hands!") 
```

这只会显示一个简单的消息框，但大门敞开着，可以进行更多的恶作剧。

# c# - Excel Range.Formula 需要时间在 c# 中给出输出

> ID：12775181
> 
> 赞同：1
> 
> 时间：2012-10-08T04:06:10.253
> 
> 标签：c#, c#-4.0, excel, vsto, vba

我创建了一个`Excel 2007 Addin`应用程序。

我正在访问一个特定的范围公式，但它比`VBA`.

我的代码在`C#`

```
Excel.Range rng = Application.get_Range("D23:AB10023");
object[,] array = rng.Formula; 
```

和相同的代码`VBA`

```
Dim dataarray As Variant
dataarray = Sheet1.Range("$D$23:$AB$10023").Formula 
```

时间`VBA`为 (HH:MM:SS:Millisec)

之前-----> 20:51:26.34
之后-----> 20:51:26.52

时间`C#`（秒表时间）

得到公式之前---->00:00:00.0002964
得到公式之后----->00:00:8.4754285

`C#`它大约需要 8 秒，而它只`VBA`需要不到一秒。

你能告诉我问题是什么吗？

# android - 返回上一个活动

> ID：12775182
> 
> 赞同：0
> 
> 时间：2012-10-08T04:06:22.737
> 
> 标签：android, android-intent, android-activity

我正在搜索结果，单击结果后，它将显示详细信息。单击后退按钮后，它应该会显示我已完成的搜索结果。例如

![在此处输入图像描述](../Images/097f5aea45907c5e51871adf78635bba.png)

![在此处输入图像描述](../Images/3433de0c460151a7628a3eea5ac5f098.png)

![在此处输入图像描述](../Images/25021ba093eb5a6e290f732881a0d9eb.png)

当我在图像 3 上单击“返回”时，它返回到图像 1 而不是图像 2。有没有办法解决它？我只是完成了（）；在图 3

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T04:18:40.190

您需要拦截后退按钮并控制应用程序的流程。**不要**使用状态变量，避免这种方法，因为这会导致更不稳定的问题，**除非**你非常仔细地设计你的状态并且你的状态定义得**很好**。尝试学习android框架中可用的控件。

# string - 通过匹配 Perl 中两个字符串中的字母位置来连接两个字符串

> ID：12775191
> 
> 赞同：2
> 
> 时间：2012-10-08T04:07:39.710
> 
> 标签：string, perl

我正在尝试编写一个 Perl 脚本，其中字符串在每次出现“E”时以及当用户通过命令行输入“C”的位置时（比如 3-8 或 3-8,13-18 或任何逗号分隔的此类如果字符串很长，则根据这种格式的字符串的“C”位置），包含“C”的片段（例如在 3 和 8 位置）应连接并显示在输出中。假设字符串是“ABCDEABCDEABCDEABCDEABCDE”并且用户输入 3-8 那么程序输出应该是-

```
ABCDEABCDE
ABCDE
ABCDE
ABCDE 
```

我编写了一个脚本，用户通过命令行输入“C”位置，字符串在“E”的每个位置被剪切，但之后我无法正确编写它。请帮忙！

到目前为止我编写的代码（已编辑）是：

```
use strict;
use warnings;

my $s = 'ABCDEABCDEABCDEABCDEABCDE';
my $i=0;
my @where;
my @array;
my @bond;
my @pos;
my @s_array;
my @s_array2;

for ($i=0; $i<=4; $i++) {
    $where[$i] = index($s,"C",$where[$i-1])+1;
    push(@array,$where[$i]);
}
print "All Positions of C: @array\n\n";
print "Enter C positions:\n";
my @join_C = <STDIN>; 

foreach (@join_C) {
    @bond = split (',',$_);
}

foreach (@bond) {
    @pos = split ('-', $_);
}
print "entered C positions:@pos\n";
print "Resulting disulfide linked peptides\n\n";
my @a = split(/E/, $s); 
my $result = join ("E,", @a);
my @final = split(/,/, $result);
foreach my $final (@final) {
    foreach my $pos(@pos) {
        my @source = split //, $final[@final];
        my $length = @source;
        for ($i=0; $i<=$length; $i++) {
            if (index($final[$i], "C") == $pos[$i]) {
                push (@s_array, $final[$i]);
            }
            else {
                push (@s_array2, $final[$i]);
            }
        }
    }
}
my $lastly_joined = join (',', @s_array);
print "Joined Fragments= @s_array\n";
print "Remaining fragments= @s_array2\n"; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-05T08:28:48.843

我会试着理解你想做什么。

> 我正在尝试编写一个 Perl 脚本，其中字符串在每次出现“E”时都会变得碎片化

好的，首先创建输入。让我们使用数组来更轻松地访问元素。

```
my @s = split ('', 'ABCDE' x 5); 
```

我不确定该字符串在您的情况下的外观。你能提供一个真实世界的例子吗？

> 并且当用户通过命令行输入“C”的 c_pos 时（如果字符串很长，则根据这种格式的字符串，例如 3-8 或 3-8,13-18 或任何逗号分隔“C”的此类 c_pos）

我建议使用命令行参数。这使得稍后在与其他工具的链中使用脚本变得更加容易。将参数传递给脚本：

> script.pl 3-8,13-18

所以我们得到一个对列表：

```
my @pairs = split (',', join('', @ARGV)); 
```

现在您应该检查传递的值是否指向“C”。有效组合存储在哈希中，其中键是开始索引，值是结束索引。

```
my %c_pos; 
foreach my $pair (@pairs) {
   my ($from, $to) = split('-', $pair);
   if (($string[$from-1] eq 'C') && ($string[$to-1] eq 'C')) {
      $c_pos{$from-1} = $to-1;
   } else {
      warn "position ${from}-${to} not valid => ignored!\n";
   }
} 
```

> 包含“C”的片段（例如在 3 和 8 位置）应连接并显示在输出中。

现在我们可以迭代@s 的元素。当我们点击开始索引时，“连接”开始，并且此连接处于活动状态，直到到达终点。

我们将所有值存储到当前条目。

当我们点击“E”并且我们不在“连接”中时，当前条目被推送到我们的结果，我们从下一个空条目开始。

```
for (my $i=0; $i<@string; $i++) {

   if ($c_pos{$i}) {
       $inside_connection = 1;
       $end = $c_pos{$i}; 
   } elsif ($i == $end) {
       $inside_connection = 0;
       $end = 0;
   }

   $entry.=$string[$i];

   if ($inside_connection) {
      # do not split on 'E'
   } elsif ($string[$i] eq 'E') {
      # split on 'E'
      push @result, $entry;
      $entry = '';
   }
} 
```

因为我不太清楚，所以我假设像 3-8、8-13 这样的链式连接会导致它像您所说的 3-13 一样工作。希望适合。这是完整的脚本：

```
use strict;
use warnings;

my @string = split ('', 'ABCDE' x 5);       

my @pairs = split (',', join('', @ARGV));   

my %c_pos; 
foreach my $pair (@pairs) {
   my ($from, $to) = split('-', $pair);
   if (($string[$from-1] eq 'C') && ($string[$to-1] eq 'C')) {
      $c_pos{$from-1} = $to-1;
   } else {
      warn "position ${from}-${to} not valid => ignored!\n";
   }
}

my @result;
my $entry = '';
my $inside_connection = 0;
my $end=0;

for (my $i=0; $i<@string; $i++) {

   if ($c_pos{$i}) {
       $inside_connection = 1;
       $end = $c_pos{$i}; 
   } elsif ($i == $end) {
       $inside_connection = 0;
       $end = 0;
   }

   $entry.=$string[$i];

   if ($inside_connection) {
      # do not split on 'E'
   } elsif ($string[$i] eq 'E') {
      # split on 'E'
      push @result, $entry;
      $entry = '';
   }
} 

print join ("\n", @result); 
```

# php - MySQLI 字符串不会更新信息

> ID：12775194
> 
> 赞同：0
> 
> 时间：2012-10-08T04:08:25.377
> 
> 标签：php, mysqli

我不知道为什么当我单击提交按钮时它不处理数据。我目前有这样的查询。

```
 $link = mysqli_connect("$server", "$user", "$pass", "webdb");
 $page = mysqli_real_escape_string($link, (string) $_POST['page']);
 $content = mysqli_real_escape_string($link, (string) $_POST['content']);
 $query = "UPDATE `pages` SET `content`='$content' WHERE `name`='$page'";
 mysqli_query($link, $query);
 mysqli_close($link);
 header("location: index.php");
 ?> 
```

要连接到此查询，我有提交数据的表单。

```
<form action="update_content.php" method="post">
<textarea name="content" cols="60" rows="10"></textarea>
<input type="hidden" name="page" value="Index" />
<br /><input type="submit" value="Update" />
</form> 
```

从我的立场来看，一切看起来都是正确的。我已经绞尽脑汁在网上浏览了好几个小时，但我在这里找不到解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T04:30:11.090

**第1步 ：**

打印查询变量，以便您知道查询构造良好。

（注释重定向，以便您可以看到查询输出）

**第2步：**

如果查询中传递的值不正确或为空，请通过打印传递的参数来解决此问题（您可以打印`$_REQUEST`- 这将显示所有发布的值）

**第 3 步**

如果所有这些都正确并且查询未正确执行，请检查您的数据库连接。

您可以打印出连接变量`$link`以查看连接是否成功。

这些步骤将帮助您解决问题。

如果这些步骤对您没有帮助，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T18:13:27.420

实际的答案是，当重定向被禁用时，我能够看到连接失败，这是我在禁用重定向以查看 echo $query 字符串之前无法看到的。经验教训：检查以确保所有变量都正确。:)

# android - 如何在android中使用多个节点解析xml数据

> ID：12775215
> 
> 赞同：-2
> 
> 时间：2012-10-08T04:11:37.703
> 
> 标签：android, android-layout, android-intent, android-emulator

> **可能重复：**
> [如何在android中使用不同的父节点解析xml](https://stackoverflow.com/questions/12775812/how-to-parse-xml-using-different-parent-nodes-in-android)

我正在制作一个应用程序，我必须在其中解析 xml 数据，我已经做到了，但我在我的 xml 文件中只使用单个节点，但现在我想在我的 xml 文件中再添加一个节点，并且两个节点中的属性将相同，并且我正在使用此代码，所以请让我知道在同一程序中添加节点所需的更改是什么，因为我希望每当用户单击 listview 项目节点行时只有数据相关的应该在下一个活动中显示，反之亦然：-

```
// XML node keys
static final String KEY_SONG = "song"; // parent node
static final String KEY_ID = "id";
static final String KEY_TITLE = "title";
static final String KEY_ARTIST = "artist";
static final String KEY_DURATION = "duration";
static final String KEY_THUMB_URL = "thumb_url"; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T04:19:45.650

在xml文件中添加标签

```
<video>YOUR CONTENT HERE</video> 
```

在每个

```
<title> 
```

标签。如果您使用的是 androidhive.com 的 xml 文件，您需要下载它，然后使用 Notepad++ 之类的程序对其进行修改，然后将其上传到服务器（例如保管箱中的公用文件夹）、FTP 服务器甚至计算机上的本地主机.

* * *

**JAVA 类的变化**

*   在其他字符串变量（KEY_ARTIST、KEY_TITLE 等）下添加 KEY_VIDEO
*   添加 map.put(KEY_VIDEO, parser.getValue(e, KEY_VIDEO));

*如果您需要它显示在列表视图中，请打开惰性适配器并添加以下内容：

*   TextView 视频 = (TextView)vi.findViewById(R.id.video); <----- 你需要在布局中添加一个带有这个id的文本视图（R.layout.listrow）
*   video.setText(song.get(CustomizedListView.KEY_VIDEO));

* * *

**编辑**

我理解错了，忽略以上

如果您要添加另一个

```
<video> 
```

像这样的标签

```
<music> 
```

你所要做的就是改变这一行。

```
NodeList nl = doc.getElementsByTagName(KEY_VIDEO); 
```

# visual-c++ - DateTimePicker 日期到字符串（自定义格式）

> ID：12775221
> 
> 赞同：1
> 
> 时间：2012-10-08T04:12:37.680
> 
> 标签：visual-c++

这是我想要得到的格式 yyMMddHHmmssWWNZ

```
array<Char>^date_ = this->date_datepicker->Value.ToString("yyMMddHHmmssWWNZ")->ToCharArray(); 
```

如何从所选日期获取周数和周数？现在我只得到“120810144500WWNZ”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T21:55:58.393

[http://msdn.microsoft.com/en-us/library/system.globalization.calendar.aspx](http://msdn.microsoft.com/en-us/library/system.globalization.calendar.aspx)

```
weeknr = GetWeekOfYear()

weekdaynr = GetDayOfWeek() 
```

# android - 一个 APK 中的 2 个主屏幕

> ID：12775228
> 
> 赞同：1
> 
> 时间：2012-10-08T04:13:45.980
> 
> 标签：android

对于演示应用程序，我正在使用自定义 Android 主屏幕。主屏幕需要有 2 个变体，因为它将安装在不同的 DEMO 设备上。我不想创建多个 APK 安装，而只是重复使用相同的 apk。

我的 AndroidManifest.xml 定义了 2 个主屏幕活动：

```
<application android:label="@string/app_name" android:icon="@drawable/ic_launcher" android:theme="@android:style/Theme.Black.NoTitleBar.Fullscreen">
    <activity android:name=".Homescreen_"
              android:label="@string/app_name"
              android:screenOrientation="landscape"
            >
        <intent-filter>
            <action android:name="android.intent.action.MAIN"/>
            <category android:name="android.intent.category.LAUNCHER"/>
            <category android:name="android.intent.category.HOME"/>
            <category android:name="android.intent.category.DEFAULT" />
        </intent-filter>
    </activity>
    <activity android:name=".map.HomescreenMap_"
              android:label="@string/app_name_map"
              android:screenOrientation="landscape"
            >
        <intent-filter>
            <action android:name="android.intent.action.MAIN"/>
            <category android:name="android.intent.category.LAUNCHER"/>
            <category android:name="android.intent.category.HOME"/>
            <category android:name="android.intent.category.DEFAULT" />
        </intent-filter>
    </activity>
</application> 
```

所以问题是当我在设备上按 Home 并选择另一个主屏幕时，它不会改变 VIEW。但是，在日志中我可以看到另一个主屏幕 Activity 确实正在启动。

在 Android 日志中，我可以看到另一个主屏幕正在启动：

```
10-08 12:09:40.014: INFO/ActivityManager(146): START {act=android.intent.action.MAIN cat=[android.intent.category.HOME] flg=0x10200000 cmp=android/com.android.internal.app.ResolverActivity u=0} from pid 146
10-08 12:09:40.444: INFO/ActivityManager(146): Displayed android/com.android.internal.app.ResolverActivity: +401ms
10-08 12:09:41.824: INFO/ActivityManager(146): START {act=android.intent.action.MAIN cat=[android.intent.category.HOME] flg=0x13200000 cmp=com.company/.map.HomescreenMap_ u=0} from pid 146 
```

但是不会显示 UI，也不会显示我在 onStart 方法中放入的任何消息。

一旦我从标准启动器应用程序抽屉打开主屏幕，它就可以工作了。这些活动不会相互继承，我也尝试过。

# c++ - 构建项目包 C++ Builder

> ID：12775229
> 
> 赞同：2
> 
> 时间：2012-10-08T04:14:07.320
> 
> 标签：c++, package, c++builder, bpl

我在 C++ Builder 中编写了一个 GUI 表单应用程序，并且希望能够在另一台计算机上运行 .exe。

尝试在另一台计算机上运行 .exe 时出现一些 .bpl 错误。

如何将所有需要的文件组合到一个“包”中，以便 .exe 可以在没有所需文件的计算机上运行？

我已经完成了 Project->Deployment 并出现了一个文件列表，包括 .bpl 文件。但是，从这里我该怎么办？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T23:12:37.247

您的 .exe 依赖于您尚未分发到其他计算机的外部 .bpl 文件。如果您希望 .exe 是独立的，因此您不需要分发这些文件，请进入项目选项并禁用“使用动态 RTL”和“使用运行时包构建”选项。

# java - Android代码到纯java

> ID：12775233
> 
> 赞同：0
> 
> 时间：2012-10-08T04:14:59.810
> 
> 标签：java, android

我想知道哪个是纯java中使用的标签，而不是android中的以下代码

```
Looper
ViewerApp
inputMgr
getWindowToken()
InputMethodManager 
```

例如，在纯 java 中，我们使用 JOptionPane 而不是 android 中的 toast。ViewerApp 在 android 中的用途以及在 android 中的 looper 有什么用。请帮忙....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T04:22:52.560

其中一些东西在 Java 中没有等价物。`InputMethodManager`是一种处理屏幕键盘的特定于 Android 的方式。我相信`inputMgr`这只是对 的参考`InputMethodManager`，但您没有提供足够的信息来说明这一点。这个问题无法真正按照您想要的方式回答，因为 Android 构造与 Java 构造之间没有一对一的映射。Android 适用于带有触摸屏的移动设备，而 Java（粗略地说）不是。

# ios - xcode 4.5 转换问题

> ID：12775237
> 
> 赞同：1
> 
> 时间：2012-10-08T04:15:19.420
> 
> 标签：ios, xcode

我刚刚在 Xcode 4.3.2 中完成了我的第一个应用程序，并想在我的 iPhone 上测试它，我（不幸地）更新到 OS 6 而没有考虑我可能不得不使用 Xcode 4.5 的事实。所以我下载了 4.5 并试图在其中打开我的项目，我突然收到以下错误消息：

apple mach-o Linker Error Linker 命令失败，退出代码为 1（使用 -v 查看调用）

我的应用程序在 4.3.2 中运行良好。我没有碰任何东西，我只在新版本中打开了应用程序，现在我构建失败并出现上述错误。谁能帮忙！？这太令人沮丧了！我的应用程序已将 Facebook 集成到其中，所以这可能是相关的吗？我不知道...任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:16:48.683

嗯，也许您可​​以尝试查看是否添加了 Facebook 框架..

# assembly - Sparc机器基本组件，计数位

> ID：12775245
> 
> 赞同：0
> 
> 时间：2012-10-08T04:17:25.307
> 
> 标签：assembly, counting, sparc

所以我需要计算一个整数上的位数，这是我的代码，但我不知道为什么不起作用，我从 c main 发送了一个十六进制值，我必须以某种方式对其进行移位并屏蔽它。我有点迷茫，我想我得到了一个错误的答案，因为我不知道如何转移和掩盖，但我想我有点知道我在用循环和添加做什么。我再次需要数到 32 位不是 0 的 1 位，但我得到了错误的答案，例如 6 110 它将是 2 位。这是一个家庭作业，所以我不能使用内置功能或其他任何东西哈哈。

```
 .global hi
hi:

save %sp,-1024,%sp

clr %i0
clr %i1
clr %i2

loop:  

       cmp %i2,32
       be,a away
    mov %l7,%i0
    add 1,%i2,%i2

    and %i0,1,%l1

    cmp %l1,1
    be count
       nop
    !srl %i0,%l2,%10
    !mov %l2,%i0

    !and %i0,1,%i0
    srl %i0,1,%i0

    ba loop
    nop
    !mov %l2,%i0

count:
    add 1,%l7,%l7

away:
    ret
    restore 
```

为什么这还不起作用？我遵循了它的c实现，但仍然没有返回位数：/。返回值为 %i0 ，我不知道如何在递增计数器后跳回循环。

那么这是在做什么呢？当它说ba循环时，它不应该回到循环吗？

所以我不知道是否有太多要问的问题，但是你知道如何解决这个问题吗？：p 因为我真的不知道，我正在查看手册，但没有看到任何可以帮助我的东西：/。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T05:38:46.843

移位和添加也有故障...

您的循环结构大致如下：

```
int count(int data) {
loop_entry:
        if (loop_counter == 32) goto out;      // this is basically ok
        loop_counter++;            

        if (some_math_expression) goto count;  // the math expression is ok

        temporary_variable>>=1;   // this is not ok -- you should be shifting l2 

        if (something_else) goto loop_entry;   // what actually is the 'something_else'?

count:
        data++;    // this is not ok: you are incrementing i0 instead of l2
                   // this is not ok: fall through instead of jumping back to loop

out:
        return result; 
```

}

最接近您在 C 中实现的正确结构是

```
int count (int data)
{
     int result=0;
     int temp=0;
     int loop_counter = 0;
     while (loop_counter++ != 32) {  // conditionally jump out of the loop
         temp = data & 1;
         if (temp == 1) {   // Q: how to perform this in assembler? 
            result++;       // A: negate the condition and jump over the result++
         }                  // statement
         data>>=1;
     }                      // (unconditionally? Jump to beginning of loop)
     return result;
} 
```

[http://www.cs.northwestern.edu/~agupta/_projects/sparc_simulator/SPARC%20INSTRUCTION%20SET-1.htm](http://www.cs.northwestern.edu/~agupta/_projects/sparc_simulator/SPARC%20INSTRUCTION%20SET-1.htm)

这里它说 'ba' = branch always （我的错误）——如果 (temp == 1) 的比较是由 'be' 或 branch 如果相等，那么与之相反
的是 branch if not equal 或 bne . 因此，条件陈述将是：

```
cmp %temp, %one          # I'm using temp & one to "alias" the registers
bne skip                 # that contain these variables or constants
nop    ; // delay slot
add %count, 1, %count
skip:

// there's however a trick to do that without jumping (see the link about 'carry'-bit)
add %data,%data,%data    # "multiply" data by two, which may produce carry
addx %count,%zero,%count # count = count + 0 + carry_produced_by_previous_instruction 
```

[使用进位位和溢出位的原因](https://stackoverflow.com/questions/12722785/reason-to-use-the-carry-bit-and-the-overflow-bit)

# ios - iOS：如何制作像画东西一样的画板？

> ID：12775247
> 
> 赞同：0
> 
> 时间：2012-10-08T04:17:52.150
> 
> 标签：ios, ipad

我正在研究需要花费的时间以及如何为小学生制作绘图板。所以它会类似地画一些东西，但只用画板。孩子们将能够改变不同的颜色来绘制它。那么我应该看哪些框架？核心显卡？还有别的吗？任何人都可以指出一个教程或方向？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T04:27:25.457

试试这个代码....

```
#pragma mark touches stuff...

    - (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event {
        UITouch *touch = [touches anyObject];
        lastTouch = [touch locationInView:imageView];

       }

    - (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event {
        UITouch *touch = [touches anyObject];
        currentTouch = [touch locationInView:imageView];

        CGColorRef strokeColor = [UIColor brownColor].CGColor;
        UIGraphicsBeginImageContext(imageView.frame.size);
        CGContextRef context = UIGraphicsGetCurrentContext();
        [imageView.image drawInRect:CGRectMake(0, 0, imageView.frame.size.width, imageView.frame.size.height)];
        CGContextSetLineCap(context, kCGLineCapRound);
        CGContextSetLineWidth(context,10); // 10 is the pen size

     CGContextSetStrokeColorWithColor(UIGraphicsGetCurrentContext(), [UIColor brownColor].CGColor); // this will be colour u need to change as required 
                CGContextSetBlendMode(context,kCGBlendModeDarken );

        CGContextBeginPath(context);
        CGContextMoveToPoint(context, lastTouch.x, lastTouch.y);
        CGContextAddLineToPoint(context, currentTouch.x, currentTouch.y);
        CGContextStrokePath(context);
        imageView.image = UIGraphicsGetImageFromCurrentImageContext();
        UIGraphicsEndImageContext();

        lastTouch = [touch locationInView:imageView];
    }

    - (void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event
    {
        UITouch *touch = [touches anyObject];
        lastTouch = [touch locationInView:imageView];
    } 
```

我希望这能帮到您 ....

# python - 如何使用 Python 从网页下载文本文件或一些对象？

> ID：12775250
> 
> 赞同：0
> 
> 时间：2012-10-08T04:18:38.403
> 
> 标签：python, json

我正在编写一个函数，它从[http://www.namejet.com/pages/downloads.aspx](http://www.namejet.com/pages/downloads.aspx)下载和存储今天的预发布域 .txt 文件列表。我正在尝试使用 json 来实现它。

```
import json
import requests

def hello():
    r = requests.get('http://www.namejet.com/pages/downloads.aspx') 
    #Replace with your website URL

    with open("a.txt", "w") as f: 
    #Replace with your file name
        for item in r.json or []:
            try:
                f.write(item['name']['name'] + "\n") 
            except KeyError: 
                pass  

hello() 
```

我需要使用 python 下载包含预发布域的文件。我怎样才能做到这一点？上面的代码是正确的方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T05:03:27.907

I dont't think mechanize is much use for javascript, use [selenium](http://pypi.python.org/pypi/selenium). Here's an example:

```
In [1]: from selenium import webdriver
In [2]: browser=webdriver.Chrome() # Select browser that you want to automate 
In [3]: browser.get('http://www.namejet.com/pages/downloads.aspx')
In [4]: element=browser.find_element_by_xpath(
            '//a[@id="ctl00_ContentPlaceHolder1_hlPreRelease1"]')

In [5]: element.click() 
```

Now you can find `prerelease_10-08-2012.txt` in your download folder and you can open it in a usual way.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T04:45:53.437

我发现您的方法存在一些问题：

1.  该页面不返回任何 json；因此，即使您成功访问该页面，`r.json`也将为空：

    ```
    >>> import requests
    >>> r = requests.get('http://www.namejet.com/pages/downloads.aspx')
    >>> r.json 
    ```

2.  您所追求的文件隐藏在回发链接后面；您不能使用请求“执行”它，因为它不会理解 javascript。

鉴于上述情况，更好的方法是使用[`mechanize`](http://wwwsearch.sourceforge.net/mechanize/)或替代方法来模拟浏览器。您也可以要求公司为您提供直接链接。

# asp.net - 获取 Gridview 的 Selected 行

> ID：12775253
> 
> 赞同：4
> 
> 时间：2012-10-08T04:18:46.803
> 
> 标签：asp.net, gridview

我有一个 Gridview。我在每一行上放置了复选框。通过选择复选框并单击删除按钮，我应该在代码隐藏中获取该 gridview 的所有选定行。请帮助我...

```
<asp:GridView ID="GridView1" runat="server" BackColor="#DEBA84" 
        BorderColor="#DEBA84" BorderStyle="None" BorderWidth="1px" CellPadding="3" 
        CellSpacing="2" style="margin-left: 58px; margin-top: 13px" >
          <RowStyle BackColor="#FFF7E7" ForeColor="#8C4510" />
          <Columns>
              <asp:TemplateField>
                  <EditItemTemplate>
                      <asp:CheckBox ID="CheckBox1" runat="server" />
                  </EditItemTemplate>
                  <ItemTemplate>
                      <asp:CheckBox ID="CheckBox1" runat="server" />
                  </ItemTemplate>
              </asp:TemplateField>
          </Columns>

    </asp:GridView>
    <asp:Button ID="Delete" runat="server" Text="Button"  runat="server" 
        onclick="Delete_Click" /> 
```

代码隐藏

```
protected void Button1_Click(object sender, EventArgs e)
    {
        string valueForDB = DatabaseList.SelectedValue;
        Data obj = new Data();
        if (valueForDB == "virtualworkplace")
        {
            obj.getDocforVirtualwrkspace(valueForDB);
            GridView1.DataSource = obj.getDocforVirtualwrkspace(valueForDB);
            GridView1.DataBind();
        }
What to write here???
 protected void Delete_Click(object sender, EventArgs e)
    {
        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T04:32:53.630

尝试这个

```
 private void DeleteRows()
 {
        foreach (GridViewRow row in gridView1.Rows)
        {
            HtmlInputCheckBox chk = (HtmlInputCheckBox) row.Cells[0].FindControl("selectedrowchk");
            if (chk != null && chk.Checked)
            {
                string id = gridView1.DataKeys[row.RowIndex].Value.ToString(); // get the record's ID of this row
                deleteRecord(id);
            }
        }

        //RefreshGrid();
    } 
```

此代码假设您将 GridView 的 DataKeyNames 属性设置为存储每条记录的主键。它还假设您将复选框放在第一列

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T06:56:09.630

设置 datakeys 使用 gridview 中的 datakeynames 属性

```
 <asp:GridView AllowSorting="true" AutoGenerateColumns="false" AllowPaging="true" 
        PageSize="10" DataKeyNames="MembershipNo"  
        ID="grdvw_showdetails" runat="server" CellPadding="4" 
```

# mysql - MySQL查询使用内连接从表中检索数据

> ID：12775255
> 
> 赞同：3
> 
> 时间：2012-10-08T04:18:51.667
> 
> 标签：mysql, join

这是两个表 `Fruit`，两个表`Fruit_types`之间存在 am:n 关系，所以我们有第三个表 `fruit_type_fruit`，它具有上面的主键`two tables`。桌子看起来像这样

```
Fruit
ID    NAME    
1    A
2    B
3    C

Fruit_type
ID    LABEL
1    CITRIC
2    DRUPES
3    UNCATALOGUED

Fruit_type_Fruit
Fruit_id    Fruit_type
1        1
1        2
1        3
2        1
3        3 
```

问题陈述：一些水果即使它们有一个类别（即标签），也会得到标签 `Uncatalogued`。

例如：-
A 获得以下标签：柠檬酸、核果和未编目。

```
 B has    citric ,

    C has    Uncatalogued. 
```

现在我需要一个查询来删除所有具有合适标签但仍具有未编目标签的记录。在上面的例子中

```
A record which is uncatalogued should be deleted and not

A    Citric and    Drupes neither

C    Uncatalogued. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T04:39:58.060

这样的事情怎么样

## [SQL 小提琴演示](http://www.sqlfiddle.com/#!2/437b6/1/0)

```
DELETE ftf
FROM fruit_type_fruit ftf
WHERE Fruit_type_ID = 3
AND Fruit_ID IN
    (
            SELECT *
            FROM (
                    SELECT DISTINCT Fruit_ID
                    FROM fruit_type_fruit f 
                    WHERE f.Fruit_type_ID = 3
             ) ss
            WHERE Fruit_ID IN (
                    SELECT *
                    FROM (
                    SELECT DISTINCT Fruit_ID
                    FROM fruit_type_fruit f 
                    WHERE f.Fruit_type_ID <> 3
             ) s)
  ) 
```

# android - 对话框关闭时隐藏软输入键盘

> ID：12775256
> 
> 赞同：10
> 
> 时间：2012-10-08T04:19:08.190
> 
> 标签：android, android-softkeyboard, android-dialog

我正在`Dialog`从`Activity`. 当对话框打开时，我打电话

```
((InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE)).toggleSoftInput(InputMethodManager.SHOW_FORCED, InputMethodManager.HIDE_IMPLICIT_ONLY); 
```

问题是，当我通过点击取消按钮或在对话框外部单击来关闭对话框时，键盘会切换到文本键盘并且不会消失，直到我单击硬件后退按钮。关闭对话框并将焦点返回到上一个窗口时，如何关闭键盘？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2016-09-19T16:54:06.897

在**AndroidManifest.xml**中，在显示**Dialog的****Activity**中设置此属性

 **> android:windowSoftInputMode="stateAlwaysHidden"

笔记！不是**stateHiddent**，是**stateAlwaysHidden**。它会在 Dismiss of Dialog 时自动隐藏软键盘。

希望能救你一命。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T05:25:38.123

我想这种活动方法可能对你有用。

```
 @Override
    public void onWindowFocusChanged(boolean hasFocus) {
        // TODO Auto-generated method stub
        super.onWindowFocusChanged(hasFocus);
        if(hasFocus)
        {
            Toast.makeText(MainActivity.this, "has focus", Toast.LENGTH_LONG).show();
                        // write code to remove keyboard
        }
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T04:23:39.763

```
AlertDialog.Builder builder = new AlertDialog.Builder(EllipticalActivity.this);
builder.setTitle("title")
       .setMessage("message")
       .setCancelable(false)
       .setNegativeButton("Close", new DialogInterface.OnClickListener() {
           public void onClick(DialogInterface dialog, int id) {
               InputMethodManager inputManager = 
                   (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);
               inputManager.hideSoftInputFromWindow(getCurrentFocus().getWindowToken(),
                                                    InputMethodManager.HIDE_NOT_ALWAYS);
               dialog.cancel();
           }
        });
        AlertDialog alert = builder.create();
        alert.show(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-04-05T11:22:04.053

从 Activity onCreateView() 方法中，您可以执行以下操作：

```
getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_PAN) 
```

或在清单 xml 中

```
android:windowSoftInputMode="stateAlwaysHidden" 
```

它会在 Dismiss of Dialog 时自动隐藏软键盘

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-09-18T09:51:33.003

就我而言，解决方案是将键盘隐藏在对话框中

```
dialog.setOnDismissListener(new DialogInterface.OnDismissListener() {
    @Override
    public void onDismiss(DialogInterface dialog) {
        View view = activity.getCurrentFocus();
        if (view != null) {
            InputMethodManager inputManager = (InputMethodManager) activity.getSystemService(Context.INPUT_METHOD_SERVICE);
            inputManager.hideSoftInputFromWindow(view.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);
        }
    }
}); 
```**

# visual-studio-2010 - 使用批处理文件的 Visual Studio 2010 自定义编译

> ID：12775260
> 
> 赞同：9
> 
> 时间：2012-10-08T04:19:46.040
> 
> 标签：visual-studio-2010, visual-c++-2010

我最近将一个中型 Visual Studio 2005 解决方案转换为 Visual Studio 2010。其中一个项目包含不是 C/C++ 文件的文件，而是使用运行自定义构建工具的批处理文件编译的。自定义构建步骤的输出是一些 C++ 文件，之后必须对其进行编译。

相关文件属性中自定义构建步骤的输出正确设置为生成的 C++ 文件。

问题是有时 VS2010 会尝试在使用自定义构建步骤的文件之前编译生成的 C++ 文件，这意味着在干净的构建中它无法找到 C++ 文件并失败。如果我尝试构建几次最终它会编译自定义文件然后构建会成功，但这显然不是自动构建的好解决方案。

在 VS2005 中构建这个项目没有问题，但是 VS2010 无法从自定义构建步骤的输出中确定正确的编译顺序。在VS2010中是否有另一种强制正确编译顺序的方法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T09:32:54.157

Visual Studio 支持并行构建，它可以同时构建多个项目。如果无法正确查看项目之间的依赖关系，这将无法正常工作。自定义构建在这里肯定会成为麻烦制造者。并行构建的数量是可配置的，将其设置为 1 将是一种非常粗略但有效的解决方法。工具+选项，项目和解决方案，构建和运行，“并行项目构建的最大数量”设置。

但不要这样做，并行构建可以节省大量时间。您可以通过显式设置项目依赖项来解决此类问题。在解决方案资源管理器窗口中右键单击使用生成的 C++ 文件的项目，然后单击项目依赖项。勾选生成 C++ 文件的项目的复选框。如果它与其他读者相关，请检查[此答案](https://stackoverflow.com/a/2295583/17034)以创建仅执行自定义构建步骤而没有其他任何内容的项目。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-10-18T20:16:32.580

默认情况下，Visual Studio 2008 首先执行自定义构建工具。可以使用命令“工具构建顺序”通过项目上的右键菜单更改顺序。此功能在 Visual Studio 2010 中不可用。我不知道解决方法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-08-21T21:45:55.723

考虑使用 Visual Studio 2010 的“属性 >> 配置属性 >> 构建事件 >> 预构建事件”作为您应该发出命令以构建必须首先编译的源文件的位置。在命令行字段中，调用 cl.exe 编译器或使用小型外部 makefile 来编译这些文件。然后，Visual Studio 将在此初始步骤之后编译项目的其余部分。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-22T06:04:02.967

当我注意到我的自定义构建步骤一次只运行一个文件时，我解决了我的问题。它在下一次构建等时为下一个文件运行。原因显然是我的自定义构建步骤正在调用一个批处理文件，而 VS2010 创建一个临时批处理文件来执行所有自定义构建文件。该讨论中指出了解决方案： http: [//social.msdn.microsoft.com/Forums/en-HK/msbuild/thread/ca392036-ebdb-4812-930e-f90aa445cca5](http://social.msdn.microsoft.com/Forums/en-HK/msbuild/thread/ca392036-ebdb-4812-930e-f90aa445cca5) 它只是在所有对批处理文件的调用前加上前缀“调用”语句，因此不会过早终止主批处理文件的执行。

# html - 调整浏览器大小时文本位于图像顶部

> ID：12775262
> 
> 赞同：1
> 
> 时间：2012-10-08T04:19:52.047
> 
> 标签：html, css

我正在使用 HTML 和 CSS 处理网页。当我的浏览器全屏显示时，一切看起来都很好。但是，如果我调整浏览器的大小，文本会显示在图像顶部。我试图用谷歌搜索这个问题，但没有得到任何解决方案。有没有人遇到过类似的情况，知道解决办法吗？请分享你的想法。

代码在链接中：http: [//jsfiddle.net/eJyZs/](http://jsfiddle.net/eJyZs/)

顺便说一句，我也在使用 SimpleGrid。[http://simplegrid.info/](http://simplegrid.info/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T04:34:09.933

我认为你在 CSS 中犯了错误。

这是图像位置问题。所以，改变你的样式表。

## 例如：位置：固定；顶部：30px；右：5px；

因此，将固定位置更改为您想要的任何位置...有关更多帮助，请查看此处.. [http://www.w3schools.com/Css/css_positioning.asp](http://www.w3schools.com/Css/css_positioning.asp)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T04:23:42.073

嗨，现在习惯了标准设备的媒体查询

```
/* Smartphones (portrait and landscape) ----------- */
@media only screen 
and (min-device-width : 320px) 
and (max-device-width : 480px) {
/* Styles */
}

/* Smartphones (landscape) ----------- */
@media only screen 
and (min-width : 321px) {
/* Styles */
}

/* Smartphones (portrait) ----------- */
@media only screen 
and (max-width : 320px) {
/* Styles */
}

/* iPads (portrait and landscape) ----------- */
@media only screen 
and (min-device-width : 768px) 
and (max-device-width : 1024px) {
/* Styles */
}

/* iPads (landscape) ----------- */
@media only screen 
and (min-device-width : 768px) 
and (max-device-width : 1024px) 
and (orientation : landscape) {
/* Styles */
}

/* iPads (portrait) ----------- */
@media only screen 
and (min-device-width : 768px) 
and (max-device-width : 1024px) 
and (orientation : portrait) {
/* Styles */
}

/* Desktops and laptops ----------- */
@media only screen 
and (min-width : 1224px) {
/* Styles */
}

/* Large screens ----------- */
@media only screen 
and (min-width : 1824px) {
/* Styles */
}

/* iPhone 4 ----------- */
@media
only screen and (-webkit-min-device-pixel-ratio : 1.5),
only screen and (min-device-pixel-ratio : 1.5) {
/* Styles */
} 
```

***[更多信息](http://cssmediaqueries.com/)***

# ruby-on-rails-3 - 设计/注册中的 ArgumentError#new 错误的参数数量

> ID：12775264
> 
> 赞同：3
> 
> 时间：2012-10-08T04:19:56.320
> 
> 标签：ruby-on-rails-3

我是 Rails 的新手。我已经安装了最新的 Devise gem，但我收到了这个错误：

```
ArgumentError in Devise/registrations#new

Showing /Users/Malone/Sites/todos/app/views/devise/registrations/new.html.erb where line #3 raised:
Wrong number of arguments (3 for 2)
Extracted source (around line #3):
1: <h2>Sign up</h2>
2:
3: <%= form_for(resource_name, resource,: URL => registration_path(resource_name)) do |f| %>
4: <%= f.error_messages %>
5: <p><%= f.label: email %></p>
6: <p><%= f.text_field: email %></p> 
```

不确定您还需要哪些其他信息来帮助我。但是让我知道。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T04:23:04.010

改变

```
<%= form_for(resource_name, resource, :url => registration_path(resource_name)) do |f| %> 
```

到

```
<%= form_for(resource, :as => resource_name, :url => registration_path(resource_name)) do |f| %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T04:59:07.917

为了解决你的问题试试这个

```
 <h2>Sign up</h2>
  <%= form_for(resource, :as => resource_name, :url => registration_path(resource_name)) do |f| %>
    <%= f.error_messages %>
    <p><%= f.label: email %></p>
    <p><%= f.text_field: email %></p>
    ....
    ....
  <% end %> 
```

# iphone - iOS 6 shouldAutorotate: 没有被调用

> ID：12775265
> 
> 赞同：48
> 
> 时间：2012-10-08T04:20:01.170
> 
> 标签：iphone, ios, cocoa-touch, rotation, ios6

我一直在互联网上寻找解决方案，但一无所获。我正在尝试使我的 iOS 5 应用程序与 iOS 6 兼容。我无法让方向的东西正常工作。我无法检测到何时将发生轮换。这是我正在尝试的代码：

```
- (BOOL)shouldAutorotate {
    return NO;
}

- (NSUInteger)supportedInterfaceOrientations {
    return UIInterfaceOrientationMaskPortrait;
}
// pre-iOS 6 support
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation {
    return (toInterfaceOrientation == UIInterfaceOrientationPortrait);
} 
```

新的 supportedInterfaceOrientation: 方法被调用得很好。但是， shouldAutorotate 方法不会触发。我需要在旋转时进行一些图像交换，但没有任何迹象表明旋转即将发生。

提前致谢。

* * *

## 回答 #1

> 赞同：80
> 
> 时间：2012-10-08T23:18:19.987

查看您的应用程序启动时是否收到以下错误。

> 应用程序窗口应该在应用程序启动结束时有一个根视图控制器

如果是这样，修复它的方法是在`AppDelegate.m`文件中进行以下更改（尽管似乎有很多答案如何解决这个问题）：

```
// Replace
[self.window addSubview:[navigationController view]];  //OLD

// With
[self.window setRootViewController:navigationController];  //NEW 
```

之后`shouldAutoRotate`应该正确调用。

* * *

## 回答 #2

> 赞同：45
> 
> 时间：2013-05-08T08:27:34.127

当使用 UINavigationController 作为应用程序的基础时，我使用以下子类来灵活地允许最顶层的子视图控制器决定旋转。

```
@interface RotationAwareNavigationController : UINavigationController

@end

@implementation RotationAwareNavigationController

-(NSUInteger)supportedInterfaceOrientations {
    UIViewController *top = self.topViewController;
    return top.supportedInterfaceOrientations;
}

-(BOOL)shouldAutorotate {
    UIViewController *top = self.topViewController;
    return [top shouldAutorotate];
}

@end 
```

* * *

## 回答 #3

> 赞同：15
> 
> 时间：2012-10-08T04:32:57.360

该方法不是确定它的正确方法。正确的方法是`willRotateToInterfaceOrientation:duration:`

不推荐使用应该旋转到方向（与 shouldAutorotate 相对）方法，并且从 iOS 6 开始将不再调用它，但无论如何它并不意味着以您使用它的方式使用。

**编辑**对重复投票的回应。请解释为什么使用我指出的方法不是（引用 OP）“轮换即将发生的迹象”。问题的内容和标题不匹配。

* * *

## 回答 #4

> 赞同：10
> 
> 时间：2012-10-26T08:20:33.773

看起来在 iOS 6 上，容器导航控制器在旋转时不会咨询子视图控制器：

在[iOS 6 发行说明中](http://developer.apple.com/library/ios/#releasenotes/General/RN-iOSSDK-6_0/_index.html)：

> 现在，iOS 容器（例如 UINavigationController）不会咨询它们的子容器来确定它们是否应该自动旋转。默认情况下，应用程序和视图控制器支持的界面方向设置为 iPad 惯用语的 UIInterfaceOrientationMaskAll 和 iPhone 惯用语的 UIInterfaceOrientationMaskAllButUpsideDown 。

这种行为很容易测试。我所做的是使用相同的自定义视图控制器

1.  第一种情况作为主视图控制器
2.  第二种情况作为 UIPageViewController 的子项

在第一种情况下，自定义导航控制器中的所有内容都由与应用程序支持的方向相一致的`shouldAutorotate`组合`supportedInterfaceOrientations`决定`supportedInterfaceOrientations`。

在第二种情况下，即使`supportedInterfaceOrientations`UIPageViewController 调用了自定义视图控制器，也不会考虑返回值。如果这两个方法在 UIPageViewController 的子类中被覆盖，它就可以工作。我不确定它的副作用，因为这个类不应该是子类。

* * *

## 回答 #5

> 赞同：10
> 
> 时间：2014-01-12T15:40:09.727

如果您`viewController`是 a 中的孩子`viewController`，`UINavigationController`那么您可以执行以下操作：

*   子类`UINavigationController`
*   `shouldAutoRotate`在你的子类中覆盖
*   调用此方法时发送`topViewController`此消息

// 这个方法在你的`UINavigationController`子类里面

```
- (BOOL)shouldAutorotate
{
    if([self.topViewController respondsToSelector:@selector(shouldAutorotate)])
    {
        return [self.topViewController shouldAutorotate];
    }
    return NO;
} 
```

*   现在您的 viewController 将分别响应此方法。
*   请注意，您可以对其他 orinetaion-methods 执行相同操作

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-01-28T21:41:10.553

当您的应用程序启动时，我也收到以下错误。

> “应用程序窗口应该在应用程序启动结束时有一个根视图控制器”

我正在使用 UISplitViewController *splitViewController

如果是这样，修复它的方法是在 AppDelegate.m 文件中进行以下更改：

代替

```
 [self.window addSubview:[splitViewController view]]; 
```

和

```
[self.window setRootViewController:splitViewController]; 
```

在此之后`shouldAutoRotate`被调用并正常工作。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2014-04-20T13:54:44.473

我正在使用 iOS 7，但我相信我的案例可能对其他人有帮助。

我有一个以 UITabBarController 为根的深层视图控制器层次结构。保证调用 shouldAutorotate 的唯一地方是在 UITabBarController 内部。所以我只是继承了 UITabBarController 并将我的旋转控制逻辑放在我的 shouldAutorotate 方法中。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-06-12T23:27:20.973

我会这样做

如果您想检查当前方向，则将此行添加到您的 viewconrtoller.m 文件中

```
 #define isPortrait [[UIApplication sharedApplication] statusBarOrientation] == UIInterfaceOrientationPortrait || [[UIApplication sharedApplication] statusBarOrientation] == UIInterfaceOrientationPortraitUpsideDown 
```

然后在你想检查方向的地方，写下如下的条件

```
- (void)viewDidLoad
{

        if(isPortrait)
        {
            //portrait mode....

            NSLog(@"its in IsPotraitMode");
        }
        else
        {
            //landscape mode....
            NSLog(@"its in IsLandscapeMode");
        }
} 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2019-04-23T12:00:52.403

如果您使用 UINavigationController 作为应用程序的基础。我创建了一个 UINavigationController 类别并将其命名为“UINavigationController+autoRotate”。把它放在你的 UINavigationController+autoRotate.h 中：

```
#import <UIKit/UIKit.h>

@interface UINavigationController (autoRotate)

-(BOOL)shouldAutorotate;
-(NSUInteger)supportedInterfaceOrientations;

@end 
```

把它放在 UINavigationController+autoRotate.m 中：

```
#import "UINavigationController+autoRotate.h"

@implementation UINavigationController (autoRotate)

- (BOOL)shouldAutorotate
{
    return [self.visibleViewController shouldAutorotate];
}

- (NSUInteger)supportedInterfaceOrientations
{
    return [self.topViewController supportedInterfaceOrientations];
}

@end 
```

# shell - 通过 ANT 调用时无法识别的 shell 命令

> ID：12775267
> 
> 赞同：1
> 
> 时间：2012-10-08T04:20:06.190
> 
> 标签：shell, ant, cygwin, build.xml

我在安装了 cygwin 的 Windows 机器上从 ANT build.xml 调用 shell 脚本。脚本被调用，初始的 echo 语句正在脚本中执行。但它会在脚本中的“sed”或“find”等语句中引发错误。当我直接在 cygwin 中执行脚本时，它已成功执行。从 ANT 调用它时，它会报错并且构建失败。我从 build.xml 调用 shell 脚本，如下所示：

```
 <target name="xml2prop"
    description="exec shell script"
         >
    <exec dir="." executable="C:\cygwin\bin\bash" osfamily="windows">    
        <arg value="C:\script\testscript.sh"/> 
        <arg value="${root}"/>
    </exec> 
</target> 
```

shell脚本片段如下：

```
if [ $# -lt 1 ]
then
echo "error"
else
echo "\$1 is \"$1\" and total args to $0 are $# "
rt="${1//\\//}"
echo $rt
fi;
find "$rt" -name "*.xml" | 
while read xmlfile
do
echo "$xmlfile";
done 
```

我得到的错误如下

```
[exec] $1 is "C:\new\test" and total args to C:\script\testscript.sh are 1
[exec] C:/new/test
[exec] FIND: Parameter format not correct 
```

你能帮我找出问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T07:49:18.027

你的道路是怎样的？看起来该脚本实际上正在运行 windows find.exe。使用绝对路径调用命令可能是个好主意

```
FIND_CMD=/bin/find
ANOTHER_COMMAND=/usr/bin/find
//assert find command exists
if [ ! -x $FIND_CMD ]
        echo "not found command "
        exit 1;
fi

if [ $# -lt 1 ]
then
echo "error"
else
echo "\$1 is \"$1\" and total args to $0 are $# "
rt="${1//\\//}"
echo $rt
fi;
$FIND_CMD "$rt" -name "*.xml" | 
while read xmlfile
do
echo "$xmlfile";
done 
```

通常避免从 ant 调用特定于平台的脚本。编写 java 任务或程序要容易得多。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T11:46:49.750

我认为您是在 Windows Shell 中而不是在 Cygwin 中运行脚本。在这种情况下，您将调用 Windows 附带的 FIND 并获得您报告的确切错误。

我会看看你是如何运行你的脚本的，并确保你调用了正确的 Cygwin shell 来运行你的脚本。

# android - 刷新android中的数据表

> ID：12775269
> 
> 赞同：1
> 
> 时间：2012-10-08T04:20:19.027
> 
> 标签：android, auto-update

以下代码用于我的 android 应用程序中的一个活动，这仍然是应用程序的概要，因此它不需要太多，但是一旦基本要求到位，我可以进一步进行设计。

这是我的数据库助手类。它进入本地主机，在我的数据库中获取数据，然后将其带回并显示在列表视图中。

```
 package com.example.parking_guide;

public class DBHelper extends ListActivity {

    // Creating JSON Parser object
    JSONParser jParser = new JSONParser();

    ArrayList<HashMap<String, String>> productsList;

    // url to get all products list
    private static final String url_all_products = "http://10.0.2.2/android_connect/get_all_products.php";

    // JSON Node names
    private static final String TAG_SUCCESS = "success";
    private static final String TAG_PRODUCTS = "level1";
    private static final String KEY_ROWID = "_id";
    private static final String KEY_VACANT = "vacancy";

    // products JSONArray
    JSONArray table = null;  

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        @SuppressWarnings("unused")
        ListView yourListView = getListView();

        // Hashmap for ListView
        productsList = new ArrayList<HashMap<String, String>>();

        // Loading products in Background Thread
        new LoadAllProducts().execute();

    }

    /**
     * Background Async Task to Load all product by making HTTP Request
     * */

    class LoadAllProducts extends AsyncTask<String, String, String> {

        /**
         * getting All products from url
         * */
        protected String doInBackground(String... args) {
            // Building Parameters
            List<NameValuePair> params = new ArrayList<NameValuePair>();
            // getting JSON string from URL
            JSONObject json = jParser.makeHttpRequest(url_all_products, "GET", params);

            // Check your log cat for JSON reponse
            Log.d("level1", json.toString());

            try {
                // Checking for SUCCESS TAG
                int success = json.getInt(TAG_SUCCESS);

                if (success == 1) {
                    // products found
                    // Getting Array of Products
                    table = json.getJSONArray(TAG_PRODUCTS);

                    // looping through All Products
                    for (int i = 0; i < table.length(); i++) {
                        JSONObject c = table.getJSONObject(i);

                        // Storing each json item in variable
                        String _id = c.getString(KEY_ROWID);
                        String vacant = c.getString(KEY_VACANT);

                        // creating new HashMap
                        HashMap<String, String> map = new HashMap<String, String>();

                        // adding each child node to HashMap key => value
                        map.put(KEY_ROWID, _id);
                        map.put(KEY_VACANT, vacant);

                        // adding HashList to ArrayList
                        productsList.add(map);
                    }
                } 
            } catch (JSONException e) {
                e.printStackTrace();
            }

            return null;

        }

        /**
         * After completing background task Dismiss the progress dialog
         * **/
        protected void onPostExecute(String file_url) {

            // updating UI from Background Thread
            runOnUiThread(new Runnable() {
                public void run() {
                    /**
                     * Updating parsed JSON data into ListView
                     * */
                    ListAdapter adapter = new SimpleAdapter(
                            DBHelper.this, productsList,
                            R.layout.list_item, new String[] { KEY_ROWID,
                                    KEY_VACANT},
                            new int[] { R.id.id, R.id.vac});
                    // updating listview
                    setListAdapter(adapter);
                }
            });

        }

    }
  }' 
```

这段代码可以很好地完成，但我的应用程序稍后会要求它尽可能接近实时服务器，或者至少尝试这样做。所以我需要在几秒钟后（可能少于五秒钟）刷新数据，以保持屏幕上的数据更新。我已经阅读了有关计时器和处理程序的内容，但我无法真正掌握这些概念中的任何一个。任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T04:33:30.307

将 ListAdapter 更改为 BaseAdapter；并添加
adapter.notifyDataSetChanged(); 在 ui 上，您可以在 onCreate 中提供注释代码以获得更好的性能

公共类 DBHelper 扩展 ListActivity {

```
// Creating JSON Parser object
JSONParser jParser = new JSONParser();

ArrayList<HashMap<String, String>> productsList;

// url to get all products list
private static final String url_all_products = "http://10.0.2.2/android_connect/get_all_products.php";

// JSON Node names
private static final String TAG_SUCCESS = "success";
private static final String TAG_PRODUCTS = "level1";
private static final String KEY_ROWID = "_id";
private static final String KEY_VACANT = "vacancy";

// products JSONArray
JSONArray table = null;  

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    @SuppressWarnings("unused")
    ListView yourListView = getListView();

    // Hashmap for ListView
    productsList = new ArrayList<HashMap<String, String>>();

BaseAdapter adapter = new SimpleAdapter(
                    DBHelper.this, productsList,
                    R.layout.list_item, new String[] { KEY_ROWID,
                            KEY_VACANT},
                    new int[] { R.id.id, R.id.vac});
             updating listview
            setListAdapter(adapter);

    // Loading products in Background Thread
    new LoadAllProducts().execute();

}

/**
 * Background Async Task to Load all product by making HTTP Request
 * */

class LoadAllProducts extends AsyncTask<String, String, String> {

    /**
     * getting All products from url
     * */
    protected String doInBackground(String... args) {
        // Building Parameters
        List<NameValuePair> params = new ArrayList<NameValuePair>();
        // getting JSON string from URL
        JSONObject json = jParser.makeHttpRequest(url_all_products, "GET", params);

        // Check your log cat for JSON reponse
        Log.d("level1", json.toString());

        try {
            // Checking for SUCCESS TAG
            int success = json.getInt(TAG_SUCCESS);

            if (success == 1) {
                // products found
                // Getting Array of Products
                table = json.getJSONArray(TAG_PRODUCTS);

                // looping through All Products
                for (int i = 0; i < table.length(); i++) {
                    JSONObject c = table.getJSONObject(i);

                    // Storing each json item in variable
                    String _id = c.getString(KEY_ROWID);
                    String vacant = c.getString(KEY_VACANT);

                    // creating new HashMap
                    HashMap<String, String> map = new HashMap<String, String>();

                    // adding each child node to HashMap key => value
                    map.put(KEY_ROWID, _id);
                    map.put(KEY_VACANT, vacant);

                    // adding HashList to ArrayList
                    productsList.add(map);
                }
            } 
        } catch (JSONException e) {
            e.printStackTrace();
        }

        return null;

    }

    /**
     * After completing background task Dismiss the progress dialog
     * **/
    protected void onPostExecute(String file_url) {

        // updating UI from Background Thread
        runOnUiThread(new Runnable() {
            public void run() {
             adapter.notifyDataSetChanged();
            }
        });

    }

} 
```

}'

# c# - 我需要在项目中获取文件夹路径

> ID：12775273
> 
> 赞同：2
> 
> 时间：2012-10-08T04:20:37.897
> 
> 标签：c#

我需要像这样的路径。

```
"C:\Projects\ProjectName\ConfigFiles\filename.txt" 
```

它适用于 Windows 应用程序。安装此应用程序后，我需要从安装路径访问“filename.txt”。

我尝试了很多代码，例如

```
Assembly.GetExecutingAssembly().Location
System.IO.Directory.GetCurrentDirectory()
etc... 
```

这些所有代码都返回“C:\Project\ProjectName\bin\Debug”路径。请帮忙。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T04:43:53.927

你可以简单地使用这段代码，假设你有一个**filename.txt**放在目录**ConfigFiles**中。

```
var filePath = Path.Combine(AppDomain.CurrentDomain.BaseDirectory, "ConfigFiles", "filename.txt"); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-08T04:26:29.827

I think there is no build in way to get the installation path of your application. Your installer could write the path to the registry or an environment variable and your program could get it from there. In the case of an environment variable you gould use [Environment.GetEnvironmentVariable](http://msdn.microsoft.com/en-us/library/system.environment.getenvironmentvariable.aspx)

# selenium - Selenium：如何使用 web 驱动程序设置 selenium

> ID：12775276
> 
> 赞同：0
> 
> 时间：2012-10-08T04:21:09.050
> 
> 标签：selenium, selenium-webdriver

我是使用 Web 驱动程序编写 selenium 测试用例的新手。

请让我知道如何设置我的测试用例。

注意：我不想使用 Selenium IDE。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:00:38.153

您可以使用 selenium webdriver 从您的代码中驱动浏览器。从 firefox 驱动程序开始，因为您不需要对其进行任何设置。对于其他浏览器，如 chrome，即您需要设置驱动程序。您可以从这里开始：

[http://seleniumhq.org/docs/03_webdriver.html#introducing-the-selenium-webdriver-api-by-example](http://seleniumhq.org/docs/03_webdriver.html#introducing-the-selenium-webdriver-api-by-example)

高温高压

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T06:26:22.343

自己完成了设置..谢谢

```
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations = {"classpath:testContextWeb.xml"})
public class SeleniumTest {

WebDriver driver;

@Before
public void setUp() throws Exception {
    driver = new FirefoxDriver();
}

@After
public void tearDown() throws Exception {
    driver.close();
}

@Test
public void testCase() throws Exception {
    //open the event page
    driver.get("https://websiteAddress/Context");

    driver.findElement(By.xpath(".//*[@id='username']")).sendKeys("someUserName");
    driver.findElement(By.xpath(".//*[@id='password']")).sendKeys("xxxx"); // "xxxx" means some password

 }

} 
```

# tridion - 安装出站电子邮件后出错

> ID：12775277
> 
> 赞同：4
> 
> 时间：2012-10-08T04:21:12.387
> 
> 标签：tridion, tridion-2011

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T07:26:44.083

该错误实际上是 Windows 停止了安装程序，因为它发出了嘘声。不幸的是，这意味着安装程序无法回滚安装，并且您遇到了未完全安装的出站电子邮件。（安装过程的一部分是添加配置节点，这就是 Tridion 抱怨缺少配置的原因）

尝试再次运行安装程序，卸载 Outbound E-mail 部分，然后再次尝试安装。您可能需要在卸载和重新安装之间重新启动

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-08T15:10:16.280

正如 Gertjan 建议的那样，您可能需要在卸载和重新安装之间以及最后重新安装之后重新启动。

它应该在此之后工作。

# mysql - MySQL 运行时间

> ID：12775279
> 
> 赞同：0
> 
> 时间：2012-10-08T04:21:29.253
> 
> 标签：mysql

所以我有一个包含 2000 万行的表 bj10dcmegablast。现在我想做一个查询

```
select *, max(qEnd - qStart) 
from 
     (select qFileID,qLocus,qTranscript,qLength,sFileId,sLocus,sTranscript,
sLength,qStart,qEnd,sStart,sEnd
      from bj10dcmegablast
      where (qLocus, qTranscript)
      in     
        (select distinct qLocus, qTranscript
     from
        (select qLocus, qTranscript, count(distinct sFileID) as counts
         from bj10dcmegablast
        group by qLocus, qTranscript
         having counts > 6) as middle1)) as middle2
group by qLocus,sLocus; 
```

我不知道需要多长时间。我运行了这个查询一小时。还没完。

所以我做了一些测试：

```
select qLocus, qTranscript, count(distinct sFileID) as counts
from bj10dcmegablast
group by qLocus, qTranscript
having counts > 6 
```

这需要 40 秒。

```
select distinct qLocus, qTranscript
 from
    (select qLocus, qTranscript, count(distinct sFileID) as counts
     from bj10dcmegablast
    group by qLocus, qTranscript
     having counts > 6) as middle1; 
```

这个需要2分钟。

任何人都可以说出您认为完整查询将持续多长时间？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T14:15:55.233

该`IN`子句在 MySQL 中可能效率低下。尝试使用显式连接来执行此操作：

```
select *, max(qEnd - qStart) 
from (select qFileID, qLocus, qTranscript, qLength, sFileId, sLocus, sTranscript,
             sLength, qStart, qEnd, sStart, sEnd
      from bj10dcmegablast
     ) b join
     (select qLocus, qTranscript, count(distinct sFileID) as counts
      from bj10dcmegablast
      group by qLocus, qTranscript
      having counts > 6
     ) as middle2
     on b.qLocus = middle2.qLocus and b.qTranscript = b.qTranscript
group by qLocus, sLocus; 
```

在这个版本中，您不需要“middle1”别名，因为您已经按这两个字段进行了分组。它们应该是不同的。

# javascript - 如何解析包含多种数据类型的 json 数组？

> ID：12775282
> 
> 赞同：0
> 
> 时间：2012-10-08T04:21:58.483
> 
> 标签：javascript, json

我有这个 json 数组：

```
var a = [{"results":[{"id":"25","name":"John","age":"46"},{"id":"41","name":"Sonny","age":"31"}],"count":2,"total":14}]; 
```

它包含一个名为“results”的数组和另外两个带有数值的变量，count 和 total。

如何从上述数组中获取“结果”、“计数”和“总计”的每个值？

我试过：console.log(a.count);

但它说未定义。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T04:26:58.110

要加载结果：

```
console.log(a[0].results); 
```

加载计数：

```
console.log(a[0].count); 
```

加载总计：

```
console.log(a[0].total); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T04:33:29.693

首先，***[执行你的代码](http://jsfiddle.net/JtMgZ/)***会导致`SyntaxError: Unexpected token ILLEGAL`.

`age`之间有一个无效字符`"age"‌​:"31"`。

[**删除那个**](http://jsfiddle.net/JtMgZ/1/)，然后`a`是一个数组，所以你得到第一个元素`a[0]`，

然后

得到计数`a[0].count`

得到结果`a[0].results`

# c# - Object == 相等失败，但 .Equals 成功。这有意义吗？

> ID：12775283
> 
> 赞同：15
> 
> 时间：2012-10-08T04:22:03.007
> 
> 标签：c#, .net

> **可能重复：**
> [C# 中 == 运算符和 Equals() 方法之间的区别？](https://stackoverflow.com/questions/9529422/difference-between-operator-and-equals-method-in-c)

两种形式的平等，第一种失败，第二种成功。

```
(object)"abc" == (object)"abc"
false

((object)"abc").Equals((object)"abc")
true 
```

在下面的参考资料中，我们看到“C# 中的等式运算符不是多态的”

ref: [C# 中的字符串相等运算符 ==](https://stackoverflow.com/questions/9317737/string-equality-operator-in-c-sharp)

顺便说一句：仍然不确定为什么这是一个问题。我以为可能是这样的，但这并不是因为这个测试成功了。

```
 static void Main(string[] args) {
        var o = new classOfT<string>() { val = "abc" };
        Console.WriteLine((object)o.val == "abc");
    }

    public class classOfT<T> {
        public string val { get; set; }
    } 
```

顺便说一句：我不同意关于这个问题的完全相同的规则，但是，嘿。

答案指出：

> ... String 类包含一个静态 bool Equals(string a, string b) 方法和一个静态 bool Equals(object a, object b) 方法。不同之处在于前者是在 String 类本身中定义的，而后者是从 Object 类（它是 String 的基类）继承而来的

从语义上讲，这是有道理的，但在更广泛的 OO 和 C# 语言环境中是否有意义？

我为什么要纠结这个问题？好吧，刚刚发现了一个错误，我想在我的大脑中将其归档在押韵或理由下，而不是在“记住这个”下，它在类别之前被咬了。

更新：

目前正在考虑使用原语（从功能角度）与多态性。由于我一直在做越来越多的功能性东西，这可能就是为什么母语让我感到困惑。我还没有考虑完这个（不，我不务实。我被语言设计所吸引）。谢谢大家回复！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T04:25:02.540

```
(object)"abc" 
```

将从字符串对象创建一个对象引用。这样做

```
(object)"abc" == (object)"abc" 
```

将创建两个不相等的对象引用。

但是，使用 equals 方法将检查存储的字符串的值是否相等。同样，这不是所有对象的默认实现，而是 String 对象的默认实现。对于任何自定义对象，您应该定义自己的 equals 方法的自定义实现来实现此行为。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T05:10:59.743

代码示例返回 true。

```
(object)"abc" == (object)"abc" 
```

我认为您提供的示例与应用程序中返回 false 的代码不同。CLR 使用字符串实习进行字符串优化。转换为 System.Object 将导致 == 运算符比较引用，并且由于字符串实习功能，== 运算符将导致 true。如果 == 运算符两边的参数将引用堆上的不同字符串对象，则比较只会返回 false。

检查程序集是否已标记`[assembly: CompilationRelaxations(System.Runtime.CompilerServices.CompilationRelaxations.NoStringInterning)]`属性。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-13T08:52:59.837

字符串比较应该通过`String.Compare`,

[http://blogs.msdn.com/b/abhinaba/archive/2005/10/28/486173.aspx](http://blogs.msdn.com/b/abhinaba/archive/2005/10/28/486173.aspx)

[http://msdn.microsoft.com/en-US/vstudio/aa496123?pull=/library/en-us/dndotnet/html/StringsinNET20.asp](http://msdn.microsoft.com/en-US/vstudio/aa496123?pull=/library/en-us/dndotnet/html/StringsinNET20.asp)

我不认为您“发现了错误”，因为 Microsoft 在 .NET BCL 中多次这样做，并且我们作为开发人员必须适应它变得很常见。一个简单的例子是，

```
var ip1 = IPAddress.Parse("127.0.0.1");
var ip2 = IPAddress.Parse("127.0.0.1"); 
```

你会发现`ip1 != ip2`，但是`ip1.Equals(ip2) == true`。推荐的比较方法是`IPAddress.Compare(ip1, ip2)`. 无论如何，有时你必须记住一些事情。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-08T05:34:02.130

[== 运算符](http://msdn.microsoft.com/en-us/library/53k8ybth.aspx)：

> 对于预定义的值类型，相等运算符 (==) 如果其操作数的值相等则返回 true，否则返回 false。对于字符串以外的引用类型，== 如果它的两个操作数引用同一个对象，则返回 true。对于字符串类型，== 比较字符串的值。

[等于](http://msdn.microsoft.com/en-us/library/fkfd9eh8.aspx)：

> 被字符串类覆盖，该类将“如果 obj 是一个字符串并且它的值与此实例相同，则返回 true；否则，返回 false。”

如果您的代码如下所示，

```
var s1= GetString1(); //some string object
var s2= GetString2(); //some string object containing same content as s1

(object)s1 == (object)s2
returns false - because == compares the references of the objects (which will be different if not interned)

((object)s1).Equals((object)s2)
returns true - because Equals will be called between actual strings at run time 
```

但是，在当前形式中，您的代码

```
(object)"abc" == (object)"abc"
((object)"abc").Equals((object)"abc") 
```

在这两种情况下都应该返回 true，因为默认情况下具有相同值的文字字符串会被实习，因此引用相同的对象（即引用也相等）

# javascript - webkit中的错误？Windows 媒体播放器运行时鼠标移动事件连续触发

> ID：12775285
> 
> 赞同：3
> 
> 时间：2012-10-08T04:22:07.393
> 
> 标签：javascript, jquery, webkit, windows-media-player, onmousemove

在 Safari 和 Chrome 中（不是在 FireFox 中，例如“在 webkit”中），当我们在后台播放 Windows Media Player 并监听鼠标移动事件（这里使用 JQuery）时，我们看到鼠标移动事件即使在鼠标不动。

这**仅**在 windows 媒体播放器运行时发生，并且在鼠标移出画布时停止发生。

但是如果用户在音乐播放和鼠标在画布上的情况下离开计算机，我们就无法识别他们的空闲状态。

问题：

*   有人听说过这个吗？一定要魔法修复吗？
*   这似乎是一个 webkit 问题，但我不是 webkit 专家，我将如何向 webkit 人员宣布它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:56:25.853

这可能是 Windows Media 在播放时避免空闲状态的方法之一......从我在网上阅读的内容 - 在几个位置 - 关于 C/C++ 编码人员询问避免空闲状态，这是一个解决方案*（不知道它是否是好的解决方案，它似乎是解决 XP 问题的方法）*。

例如

[尝试在 Windows PC 上禁用处理器空闲状态（C 状态）](https://stackoverflow.com/questions/9721218/trying-to-disable-processor-idle-states-c-states-on-windows-pc)

可能是 FireFox 还检查鼠标位置的变化，而不仅仅是事件的触发器......而 WebKit 没有。无论如何只是一个疯狂的猜测。要修复，也许你可以做同样的事情......听听变化`event.screenX`，`event.screenY`而不仅仅是事件触发？

# php - 显示数据，因为它在 php 中抓取

> ID：12775286
> 
> 赞同：1
> 
> 时间：2012-10-08T04:22:13.190
> 
> 标签：php, file-get-contents, scrape

我有一个 php 脚本，它使用`file_get_contents('http://remote_site.com/page.html')`. 我遇到的唯一问题是它仅*在*所有数据都被抓取和处理后才打印数据。脚本正在报废时，有没有办法`print` 或数据？`echo`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T04:46:08.210

如果您想在读取远程文件时使用（并刷新）缓冲区，我相信您需要从 using 切换`file_get_contents`到使用`f`-commands ( `fopen`, , 等)以便`fgets`能够处理/`flush`代码，因为你正在报废。[`file_get_contents()`不支持远程文件的偏移参数，](http://php.net/manual/en/function.file-get-contents.php)因此您必须等到文件被完整读取才能处理结果。

您必须检查`allow_url_fopen`您的 php.ini 文件中是否启用了该功能，但您应该能够编写类似这样的内容（从[文档](http://php.net/manual/en/features.remote-files.php)修改）：

```
$file = fopen ("http://www.example.com/", "r");
if (!$file) {
    echo "<p>Unable to open remote file.\n";
    exit;
}
ob_start();
while (!feof ($file)) {
    $line = fgets ($file, 1024);
    $buffer = $line;//you can manipulate what goes to the buffer here
    echo $buffer;
    ob_flush();
    flush(); 
}
fclose($file); 
```

你可能需要玩这个，因为我没有测试过，但我认为这是你想要采取的方法。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-10-08T04:30:58.997

Try

```
<?php
print '<pre>'.print_r($data, 1).'</pre>'; 
```

# java - Jackson XmlMapper 将 XML 转换为 POJO，节点文本的键是“”

> ID：12775287
> 
> 赞同：2
> 
> 时间：2012-10-08T04:22:28.250
> 
> 标签：java, xml, groovy, jackson, pojo

我正在尝试从服务中读取 XML 数据（并且我无法更改数据）并且 Jackson 有问题`XmlMapper`。如果我有这样的 XML：

```
<entry>
   <title type="text">W411638</title>
</entry> 
```

它给了我以下地图：

```
title: ["": "W411638", "type": text] 
```

我正在尝试使用以下代码将其转换为对象：

```
XmlMapper xmlMapper = new XmlMapper()
Entry entry = xmlMapper.readValue(xmlData, Entry.class) 
```

我的入门类看起来像这样：

```
class Entry {
    static class Title {
        //String __;  //-- This is what I can't figure out --
        String type; 
    }

    Title title;
} 
```

问题是我找不到将标题文本（“W411638”）放入条目对象的任何方法。类型很好，我可以通过 entry.title.type 来获得它，这是正确的，我只是不知道如何获得该标题值。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T09:40:21.287

这对我来说是一个独立的 Groovy 脚本......

```
@Grab( 'com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.0.5' )
import com.fasterxml.jackson.dataformat.xml.XmlMapper
import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlText

class Entry {
  static class Title {
    public String type

    @JacksonXmlText
    public String value

    public String toString() {
      "$type -> $value"
    }
  }

  public Title title

  public String toString() {
    "Entry [$title]"
  }
}

def xml = '''<entry>
            |    <title type="text">W411638</title>
            |</entry>'''.stripMargin()

def xmlMapper = new XmlMapper()
Entry pojo = xmlMapper.readValue( xml, Entry )

println pojo // prints 'Entry [text -> W411638]' 
```

手指交叉它也适合你！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-31T17:00:49.690

因此，我能够使用@JSONCreator 解决这个问题；

xml

```
<x>
    <a b="c" d="e">CDATA Text</a>
</x> 
```

X.java

```
public class A
{
    private B b;
    private D d;
    private String cdata;

    @JsonCreator
    public PropertyDef(Map<String,Object> props)
    {
        setB((String) props.get("b"));
        setD((String) props.get("d"));
        setCdata((String) props.get(""));
    }
} 
```

# jquery - jQuery如何将“禁用剪切和粘贴脚本”与单选按钮列表结合起来？

> ID：12775288
> 
> 赞同：0
> 
> 时间：2012-10-08T04:22:43.777
> 
> 标签：jquery

我正在使用以下脚本在我的表单上禁用“剪切和粘贴”：

```
$(document).ready(function(){
  $('.employeeEmailConfirm, .emailConfirm').bind("cut copy paste",function(e) {
      alert('thou. shalt. not. PASTE!');
      e.preventDefault();
  });
}); 
```

取自以下线程：[How to disable Paste (Ctrl+V) with jQuery?](https://stackoverflow.com/questions/5510129/how-to-disable-ctrlv-paste-with-jquery)

但我不想显示我想显示隐藏 div 的“警报”。

但是，我的表单有单选按钮列表，并且根据选择的值显示或隐藏一些表单元素：

```
$(document).ready(function() {
// attach event to employee radio buttons 
$("span.isEmployee").find("input").click(function() {
    if ($(this).val() == "1") {
        $(".aboutyou").show();
        $(".yourdetails").show();
        $(".referrer").hide();
        $(".security").show();
        $(".signup").show();
        $("#emailTr").show();
        $("#employeeEmailMessage1").show();
        $("#employeeEmailMessage2").hide();
        $("#employeeEmailRetype").show();
        $("#nonemployeeEmail").hide();
        $("#nonemployeeEmailRetype").hide();
        $("#emailMessageSubBrand").show();
        SetEmailEnableDisable(true);
    } else {
        $(".aboutyou").show();
        $(".yourdetails").show();
        $(".referrer").show();
        $(".security").show();
        $(".signup").show();
        $("#emailTr").hide();
        $("#employeeEmailMessage1").hide();
        $("#employeeEmailMessage2").hide();
        $("#employeeEmailRetype").hide();
        $("#nonemployeeEmail").show();
        $("#nonemployeeEmailRetype").show();
        $("#emailMessageSubBrand").hide();
        SetEmailEnableDisable(false);
    }
}); 
```

如何将“剪切复制粘贴”脚本与我的显示/隐藏单选按钮列表结合起来？

我失败的尝试：

```
$(document).ready(function(){
  $('.employeeEmailConfirm, .emailConfirm').bind("cut copy paste",function(e) {
      alert('thou. shalt. not. PASTE!');
      $("span.isEmployee").find("input").click(function() {
          if ($(this).val() == "1") {
              $("#employeeEmailMessage2").show();
              } else {
                 $("#nonemployeeEmailMessage").show();
      e.preventDefault();
  });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T23:28:45.060

我让它工作：

```
$(document).ready(function() {
    $("span.isEmployee").find("input").click(function() {
        if ($(this).val() == "1") {
            $('.employeeEmail, .employeeEmailConfirm').bind("cut copy paste", function(e) {
                $("#employeeEmailMessage2").show();
                e.preventDefault();
            });
        } else {
            $('.email, .emailConfirm').bind("cut copy paste", function(e) {
                $("#nonemployeeEmailMessage").show();
                e.preventDefault();
            });
        }
    });
}); 
```

# scala - 在Scala中遍历集合的奇数成员

> ID：12775290
> 
> 赞同：14
> 
> 时间：2012-10-08T04:23:03.023
> 
> 标签：scala, scala-collections

基于索引位置仅遍历Scala中集合的奇数成员的有效方法是什么？

鉴于此列表：

```
val fruits: List[String] = List("apples", "oranges", "pears", "bananas") 
```

我想跳过苹果和梨，加工橙子和香蕉。谢谢！

**根据给出的回复进行更新：**

哇，前三个答案中的每一个都有优点。从 Scala Collections 语法的角度来看，我最初的意思是“高效”这个词，而我实际上只是在寻找一种巧妙的方法来为后续迭代创建子列表。@Senia 很好地介绍了sliding() 函数，非常适合这个特定的用例，但我也喜欢@Brian 使用 zipWithIndex() 的更通用的方法。

但是，当我考虑到最初提出的问题的实际措辞和@sourcedelica 响应的计算效率时，我认为他会因此而获奖。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-10-08T04:32:23.723

```
scala> List("apples", "oranges", "pears", "bananas").drop(1).sliding(1, 2).flatten.toList
res0: List[java.lang.String] = List(oranges, bananas) 
```

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-10-08T04:52:06.993

```
val fruits: List[String] = List("apples", "oranges", "pears", "bananas")

fruits.zipWithIndex.filter(_._2 % 2 == 1).map(_._1)

res0: List[String] = List(oranges, bananas) 
```

zipWithIndex 将 List 中的每个元素与一个索引配对，给出：

`List[(String, Int)] = List((apples,0), (oranges,1), (pears,2), (bananas,3))`

过滤奇数元素`filter(_._2 % 2 == 1)`：

`List[(String, Int)] = List((oranges,1), (bananas,3))`

将 List[(String, Int)] 映射到 List[String] 通过获取每个元组的第一个元素并`.map(_._1)`给出：

`List[String] = List(oranges, bananas)`

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-10-08T15:59:39.543

这是一种直接迭代奇数的方法：

```
val fruits: List[String] = List("apples", "oranges", "pears", "bananas")
//> fruits  : List[String] = List(apples, oranges, pears, bananas)

val oddFruitsIterator = 
  Iterator.from(1, 2).takeWhile(_ < fruits.size).map(fruits(_))
//> oddFruits  : Iterator[String] = non-empty iterator

oddFruitsIterator.foreach(println)                      
//> oranges
//> bananas 
```

如果它是一个大型集合和/或您正在进行大量迭代，那么您将需要考虑将其转换为`IndexedSeq`第一个集合，因此它`fruits(_)`是 O(1)。例如：

```
val fruitsIs = fruits.toIndexedSeq
val oddFruits = Iterator.from(1, 2).takeWhile(_ < fruitsIs.size).map(fruitsIs(_)) 
```

请注意，迭代器本身与它正在迭代的集合是分开的。这是另一个更清楚的例子：

```
scala> val oddSeqIterator = 
   (seq: Seq[String]) => Iterator.from(1, 2).takeWhile(_ < seq.size).map(seq(_))
oddSeqIterator: Seq[String] => Iterator[String] = <function1>

scala> val fruits: List[String] = List("apples", "oranges", "pears", "bananas")
fruits: List[String] = List(apples, oranges, pears, bananas)

scala> oddSeqIterator(fruits)
res0: Iterator[String] = non-empty iterator

scala> res0.foreach(println)
oranges
bananas 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-08T12:52:15.310

我会提出另一种方法，使用递归，在我看来，这似乎使操作尽可能少，即使它不如其他解决方案那么花哨。

```
def iterateOdd(myList:List[String]):List[String] = myList match{
  case _::odd::tail => odd::iterateOdd(tail)
  case _ => Nil
} 
```

或者，如果您只想处理奇数成员

```
def iterateOdd(myList:List[String]):Unit = myList match{
  case _::odd::tail => println(odd); iterateOdd(tail)
  case _ =>   
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-01-20T18:20:32.883

还有另一种选择，基于[`List::grouped`](https://www.scala-lang.org/files/archive/api/current/scala/collection/immutable/List.html#grouped(size:Int):Iterator[Repr])以成对对项目进行分区（这提供了一种在奇数位置访问项目的简单方法）和[`Iterator::collect`](https://www.scala-lang.org/files/archive/api/current/scala/collection/Iterator.html#collect[B](pf:PartialFunction[A,B]):Iterator[B])为了处理奇数长度的集合的组合：

```
// val fruits = List("apples", "oranges", "pears", "bananas", "tomatoes")
fruits.grouped(2).collect { case a :: b => b }.toList
// List("oranges", "bananas") 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-10-18T14:33:10.400

我认为 tailrec 会是一个更好的选择，因为 id 不需要任何堆栈并且它是 O(1)：

```
def f(arr:List[Int]):List[Int] = {
@tailrec
  def loop(source:List[Int],destination:List[Int]):List[Int]= source match {
    case _::odd::tail => loop(tail,destination :+ odd)
    case _ => destination
  }
  loop(arr,List())
} 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2018-02-03T16:53:22.217

*   我有另一种方法来解决这类问题。
*   我们可以利用 List.range(start,end) 方法。

List.range(0,5) 将给出 List(0,1,2,3,4)

*   我们可以生成索引列表，我们可以过滤它们

    scala> val fruits: List[String] = List("apples", "oranges", "pears", "bananas")

    scala> List.range(0,fruits.length).filter(_%2!=0).map(x=>fruits(x))

    res0: List[String] = List(橙子、香蕉)

# mysql - MySQL 问题 - 试图应对糟糕的数据库结构

> ID：12775292
> 
> 赞同：1
> 
> 时间：2012-10-08T04:23:04.773
> 
> 标签：mysql, mysql-5.0

我发现自己试图通过其他人编写的程序来应对糟糕的数据库结构，并试图编写我的查询来应对这种情况。我正在尝试模拟一个没有已知唯一/主键的 upsert 查询...

```
DELIMITER //
IF ( ( SELECT COUNT( f_id ) FROM `wp_cformsdata` WHERE field_name='Agent First Name' AND sub_id='395' ) > 0 ) THEN
    UPDATE `wp_cformsdata` SET field_val='Shane' WHERE field_name='Agent First Name' AND sub_id='395';
ELSE
INSERT INTO `wp_cformsdata` (sub_id, field_name, field_val) VALUES ( '395', 'Agent First Name', 'Shane' );
END IF;
DELIMITER ; 
```

基本上我的表格布局如下......

```
+------+--------+------------+-----------+
| f_id | sub_id | field_name | field_val |
+------+--------+------------+-----------+ 
```

该表用于存储公司的各个数据。

'f_id' 是该表中唯一的索引键（主键）。我们不知道它的价值，或者是否存在任何包含数据的键。

“sub_id”是另一个表的外键，每个公司的条目都包含该表。

'field_name' 是公司信息的名称（例如，公司名称）

'field_val' 是字段的实际值（例如 Google Inc.）

我正在尝试更新这些表中的数据，或者在数据不存在的地方插入。由于此表的性质，我无法在任何字段上创建索引。请参考上面的 SQL 来看看我在做什么——是的，它有点臃肿。如果您有更优化的解决方案，请告诉我！

我尝试了`INSERT ... ON DUPLICATE KEY UPDATE`upsert 查询，但这不起作用，因为我们没有唯一键或主键可以在这里工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T09:21:46.130

您实际上将`(sub_id, field_name)`其视为复合键。我假设`f_id`是一个自动递增的列？如果是这样，您可以在 上定义唯一约束`(sub_id, field_name)`：

```
ALTER TABLE wp_cformsdata ADD UNIQUE mykey (sub_id, field_name) 
```

然后使用`INSERT ... ON DUPLICATE KEY UPDATE`which 不仅在`UPDATE`存在重复主键的情况下执行该子句，而且在违反任何其他唯一键约束的情况下也使用该子句。[另请参阅此处](https://stackoverflow.com/questions/1218905/how-do-i-update-if-exists-insert-if-not-aka-upsert-or-merge-in-mysql)接受的答案的评论。

# c# - 如何以及何时调用 SatisfyimportOnce

> ID：12775293
> 
> 赞同：0
> 
> 时间：2012-10-08T04:23:22.433
> 
> 标签：c#, mef

我是 MEF 模式的新手，我的问题如下。

当我应该调用 SatisfyImportOnce 时，现在我在我的 program.cs 上调用它并将 Form 1 的引用传递给它。

```
static void Main()
        {
.
.
.

     var container = new CompositionContainer(new DirectoryCatalog(Environment.CurrentDirectory));
                container.SatisfyImportsOnce(frm1);
} 
```

在我从form1打开一个新的表单/对话框之前，我是否需要每次都打电话？

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T02:07:19.850

您只需要对从未统计过导入的对象调用 SatisfyImportsOnce。因此，只有当您创建新表单时，您才需要在该对象实例上调用它。

请记住，使用 SatisfyImportsOnce 您不会对“Once”来自的那些 Imports 进行重组。这是 SatisfyImportsOnce 和 Compose 之间的主要区别。

# html - 创建动态播放列表 HTML5 音频播放器

> ID：12775296
> 
> 赞同：0
> 
> 时间：2012-10-08T04:23:40.887
> 
> 标签：html, dynamic, playlist

我需要创建一个像[http://www.beatport.com上的播放器](http://www.beatport.com)

它基于 HTML5，歌曲通过网站上的播放列表链接动态添加。我知道这是一个两部分的工作，但播放器和播放列表管理是关键。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T04:31:06.940

visit [http://www.codeproject.com/Articles/333670/Audio-Gallery-Suite-A-complete-audio-gallery-solut](http://www.codeproject.com/Articles/333670/Audio-Gallery-Suite-A-complete-audio-gallery-solut)

It is an open source perfect for creating dynamic html5 audio player. You are going to love it.

# windows - 如何安装和开始使用 webrtc

> ID：12775307
> 
> 赞同：2
> 
> 时间：2012-10-08T04:24:47.447
> 
> 标签：windows, webrtc

嗨，我开始安装 Visual Studio 2010 和 webrtc 所需的其他必备软件，但我对如何开始使用这个 webrtc 感到困惑，谁能告诉我在我的 Windows 中安装 webrtc

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T04:58:15.677

> webrtc 所需的必备软件！！！！

您只需要以下内容即可进行[WebRTC](https://webrtc-experiment.appspot.com/)执行/测试/等。：

1.  用于测试的 Web 浏览器
2.  任何 HTML/JavaScript 编辑器/甚至您都可以使用记事本！
3.  STURN/TURN 服务器获取 Ice Candiates（如：**STUN stun.l.google.com:19302**）
4.  用于保存 SDP 消息的数据库
5.  服务器级技术通过在另一端保存的 SDP 来完成握手！

就这样！

# jakarta-ee - 将 java EE 项目转换为 EJB 项目

> ID：12775309
> 
> 赞同：0
> 
> 时间：2012-10-08T04:24:54.553
> 
> 标签：jakarta-ee, websphere, ibm-mq, rad

目前我正在 RAD 中进行项目，即动态 Web 项目，但现在需要使用 websphere MQ 来对服务进行排队。所以为了做队列，我发现创建 EJB 项目。所以我可以将动态 Web 项目转换为 EJB 项目？有没有办法向当前项目添加方面？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T04:27:47.437

我不确定为什么*需要*EJB 项目才能使用 JMS，但无论如何 - 不，您不能使用 RAD 将动态 Web 项目更改为 EJB 项目。一旦安装了动态 Web 项目构面（及其随附的构面），就无法将其移除。您可以添加其他方面，但不能添加 EJB 方面。您将必须创建一个全新的 RAD 项目并复制代码。

# linker - Virtual and Physical addresses in ELF

> ID：12775310
> 
> 赞同：1
> 
> 时间：2012-10-08T04:24:55.690
> 
> 标签：linker, elf

I have this basic doubt about virtual and physical addresses for ELF section.

objdump -h, shows set of logical and physical address.

```
$ objdump -h my.elf
Sections:
Idx Name          Size      VMA       LMA       File off  Algn
  0 .text         0003c3d0  00080000  00080000  00010000  2**2
                  CONTENTS, ALLOC, LOAD, READONLY, CODE 
```

And as per theory, the LMA(physical address) is also called as load address, and this is the address at which application should be loaded.

All is fine, but my question is why are we assigning physical addresses so early. I mean what if I start a program which mentions some load address, but while loading, system finds that the page frame to which loadable address belong is already assigned to some other task. In that situation, is system going to wait for process or is it going to immediately swap out the page, to make page from available.

Don't you think it would be lot better if we let system to decide at what address to load an elf section based on available page frame.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-04-16T11:19:48.667

Each process runs in its own address space, so each executable can specify where it expects to be loaded and none will interfere with each other.

# javascript - How to interact with multiple web pages simultaneously

> ID：12775314
> 
> 赞同：0
> 
> 时间：2012-10-08T04:25:29.607
> 
> 标签：javascript, scripting, browser-automation

I'm looking for methods to interact with multiple pages simultaneously. In my case I have several pages that accept user input as keystrokes, and I would like to be able to trigger all of them.

Any ideas?

Automater? putting multiple tabs in focus simultaneously?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T04:27:49.627

You can't do it "simultaneously". Only one thing can have focus at a time. Your options are: to interact with them sequentially (fast enough that it seems simultaneous.) Or, you could write an application that gets all of the window handles, and sends them the keypress messages.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T04:35:56.513

如果您尝试通过打开多个页面来进行某种数据输入并加快处理速度，您可以尝试以下方法之一

*   宏
*   带有自定义脚本的 Firefox Greasemonkey 插件。

还有其他方法可以做这件事。

如果您是程序员，您可以编写一个简单的应用程序将数据发布到页面。这样，您甚至不必打开页面。

# mongodb - mongoDB 获取数组的最新日期

> ID：12775319
> 
> 赞同：2
> 
> 时间：2012-10-08T04:26:13.280
> 
> 标签：mongodb, date, group-by

我喜欢获取给定用户和给定位置的最新进入和退出时间戳。合集是这样的

```
{ "ActivityList" : [ 
{ "type" : "exit",
      "timestamp" : Date( 1348862537170 ),
      "user" : { "$ref" : "userProfile",
        "$id" : ObjectId( "4fdeaeeede26fd298262bb80" ) } }, 
    { "type" : "entry",
      "timestamp" : Date( 1348862546966 ),
      "user" : { "$ref" : "userProfile",
        "$id" : ObjectId( "4fdeaeeede26fd298262bb80" ) } }, 
       { "type" : "entry",
      "timestamp" : Date( 1348870744386 ),
      "user" : { "$ref" : "userProfile",
        "$id" : ObjectId( "4fdeaf6fde26fd298262bb81" ) } }, 
    { "type" : "exit",
      "timestamp" : Date( 1348878233785 ),
      "user" : { "$ref" : "userProfile",
        "$id" : ObjectId( "4fdeaf6fde26fd298262bb81" ) } } ],
  "Location" : { "$ref" : "loc",
    "$id" : ObjectId( "4fd410f0e7e994b59054b824" ) },
  "_id" : ObjectId( "4fe8f3c6e7e9ebe3697ee836" ) } 
```

我尝试过这样的事情但不起作用

```
db.collection.group(
{
    keyf: function(doc) {
        return {
            location    :doc.Location._id,
             userid     : doc.ActivityList.user._id,           
             actiontype : doc. ActivityList.type
        };
    },
    reduce: function(obj,prev) {
        if (prev.maxdate < obj. ActivityList.timestamp) { 
            prev.maxdate = obj. ActivityList.timestamp; 
        } 
    },
    initial: {maxdate:0}
}); 
```

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T14:14:52.450

简单的`$group`不适用于您的数据结构和查找/过滤数组中的最大值。您将不得不迭代数组以找到最大值，通过检索文档并在应用程序代码中迭代可以更有效地完成。

MongoDB 2.2 中一种可能的服务器查询方法是使用新的[聚合框架](http://docs.mongodb.org/manual/applications/aggregation/)：

```
db.activity.aggregate(

    // Find matching location documents first (can take advantage of index)
    { $match : {
        Location: {
            "$ref" : "loc", 
            "$id" : ObjectId("4fd410f0e7e994b59054b824")
        }
    }},

    // Unwind the ActivityList arrays as a document stream
    { $unwind : "$ActivityList" },

    // Filter activities to the user reference of interest
    { $match : {
       'ActivityList.user': {
            "$ref" : "userProfile",
            "$id" : ObjectId("4fdeaeeede26fd298262bb80")
        } 
    }},

    // Group the stream by activity types, and get the timestamp for the latest of each
    { $group : {
        _id : "$ActivityList.type",
        latest: { $max: '$ActivityList.timestamp' }
    }}
) 
```

样本结果：

```
{
    "result" : [
        {
            "_id" : "entry",
            "latest" : ISODate("2012-09-28T20:02:26.966Z")
        },
        {
            "_id" : "exit",
            "latest" : ISODate("2012-09-28T20:02:17.170Z")
        }
    ],
    "ok" : 1
} 
```

# python - 使用递归查找元音的数量

> ID：12775321
> 
> 赞同：0
> 
> 时间：2012-10-08T04:26:28.937
> 
> 标签：python, recursion

我需要使用递归来查找字符串中元音的数量。所以如果`hello`输入我希望它返回`2`。

我遇到的问题是转到字符串中的下一个字符。

```
 def recVowelCount(i):
    count = 0
    if i in 'aeiou':
        count +=1
        reVowelCount(i)
    else:
        reVowelCount(i)
        return count 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T04:30:28.493

这是使用递归的一种方法:)

```
def recVowelCount(i, chars_to_find='aeiou'):
    if not chars_to_find:
        return 0
    return i.count(chars_to_find[0]) + recVowelCount(i, chars_to_find[1:]) 
```

现在，您的代码中的问题是

```
if i in 'aeiou': 
```

会问`if 'hello' in 'aeiou':`，这不是很有用。`if i[0] in 'aeiou'`您需要检查每次递归调用函数时的`i[0]`每个字母的位置`"hello"`

从简单的案例开始。如果输入字符串为空会发生什么？你会回来`0`的吧？

```
def recVowelCount(i):
    if not i:
        return 0 
```

这样我们就完成了一半。现在您需要考虑在`i`不为空的情况下会发生什么。如果第一个字符是元音，我们将计数`1`，然后将字符串的其余部分递归地传递给函数

```
def recVowelCount(i):
    if not i:
        return 0
    if i[0] in 'aeiou':
        count = 1
    else:
        count = 0
    return count + recVowelCount(i[1:]) 
```

好的..可以稍微重构一下

```
def recVowelCount(i):
    if not i:
        return 0
    count = 'aeiou'.count(i[0])
    return count + recVowelCount(i[1:]) 
```

最后

```
def recVowelCount(i):
    if not i:
        return 0
    return 'aeiou'.count(i[0]) + recVowelCount(i[1:]) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T04:31:05.943

```
def recVowelCount(s):
    ''' Return number of vowels in string s'''
    if len(s) == 0:
        return 0
    letter = s[0]
    if letter in 'aeiou':
        return 1 + recVowelCount(s[1:])
    return recVowelCount(s[1:])

print recVowelCount('hello') 
```

任何递归程序都有 3 个基本步骤：

1.  基本情况
2.  你需要朝着基本情况前进
3.  递归调用

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T04:32:52.897

首先，不清楚您传递 `def countVowels(my_string):` 的参数可能是更好的开始方式

接下来你需要一个基本案例

```
 if len(my_string) == 1:
    if my_string in "aeiou": return 1
    else:return 0 
```

那么你需要你的递归

```
 elif my_string[0] in "aeiou":
     return 1 + countVowels(my_string[1:])
 else:
      return 0 + countVowels(my_string[1:]) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-08T04:47:50.513

```
def find_vowels(word=None, count=0):
    if word:
        if word[0] in ('A','E','I','O','U','a','e','i','o','u'):
            count += 1
        return find_vowels(word=word[1:], count=count)
    else:
        return count 
```

`find_vowels('python is awesome')`

`find_vowels`函数有两个参数——一个是`word`要查找的实际字符串。另一个是`count`，它包含元音的总出现次数。的初始值`count`设置为 0。

如果`word`为空，函数将返回计数值。这是`word`完全检查元音的时候。 `if word:`

以下块包含实际逻辑。第一个字符被重复签入`word`。如果它是元音，`count`则自变量递增。

`return find_vowels(word=word[1:], count=count)`是递归发生的地方。使用`word=word[1:]`我们对第一个字符进行切片，因为它已被检查。

**示例**：

让`word ='Python'`

这`word`在后续调用中的价值如何：

`Python`- 第 1 次通话
`ython` - 第 2 次通话- 第 3 次
`thon` 通话- 第
`hon` 4 次通话
`on` - 第 5 次通话
`n` - 第 6 次通话
`- 最后通话（空）`

 `最后当字符串为空时，`count`返回。

这称为尾递归：[http ://en.wikipedia.org/wiki/Tail_call](http://en.wikipedia.org/wiki/Tail_call)`

# orbeon - 是否可以将通用 XForm 文档导入 Orbeon？

> ID：12775328
> 
> 赞同：1
> 
> 时间：2012-10-08T04:27:14.507
> 
> 标签：orbeon, xforms, xsltforms

我正在从事一个项目，以从问卷元数据生成 XForms 中的电子调查。虽然我已经能够很容易地创建符合 XForms 规范的 XForms，但我在通过 Orbeon 运行表单时遇到了麻烦。

我试图通过 Orbeon 运行的表格在这里：[https ://gist.github.com/3850705#file_dogsurvey.xhtml](https://gist.github.com/3850705#file_dogsurvey.xhtml)

我已经能够使用 XSLTForms 测试这个表单并且它运行得非常好，但是当我尝试通过 Orbeon 运行它时，没有任何问题文本出现，而且它甚至不存在于呈现给用户的 HTML 源代码中，如此处所示：[https ://gist.github.com/3850705#file_orbeon_source.html](https://gist.github.com/3850705#file_orbeon_source.html)

所以，Orbeon 正在对原始形式进行某种翻译（这是意料之中的），我猜，根据他们的例子，它根据一些语言信息选择文本，但是，对于我的一生，我可以' t 弄清楚如何让 xf:label 文本出现在表单上。

任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T23:45:25.253

您可能想在`orbeon.log`运行表单时查看一下。我已经看到以下两个问题：

1.  当我试图在这里运行它时，我首先遇到错误是因为`xf:bind`这样的：

    ```
    <xf:bind id="bindThen-DogSurvey_IF_2"
             nodeset="//rml:if[@id='DogSurvey_IF_2']/rml:then"
             relevant="//rml:response[@id='DogSurvey_QC_30'] = '1'"
             readonly="not(//rml:response[@id='DogSurvey_QC_30'] = '1')"/> 
    ```

    如果元素不包含数字，例如因为它是空的，则该表达式将无法计算，因为 XPath 引擎会尝试将空字符串转换为数字。因此，除非您绝对确定该值将始终是一个数字（这里似乎不是这种情况），否则编写 更安全`… = '1'`，从而进行字符串比较。如果你真的想在整数之间进行比较，你可以写`//rml:response[@id='DogSurvey_QC_30']/(. castable as xs:integer and . = 1)`.

2.  在更改上面#1 的代码后，使用最新的代码，我也得到了一个异常，看起来像一个错误，所以我填写了一个[错误报告](https://github.com/orbeon/orbeon-forms/issues/479)，但如果你使用的是 3.9 版本，你可能不会遇到这个问题。

# iphone - 指向 NSData 的弱指针无法使用 NSURLConnection 读取数据？

> ID：12775333
> 
> 赞同：0
> 
> 时间：2012-10-08T04:27:44.240
> 
> 标签：iphone, objective-c, ios5.1

我并不真正理解弱指针和强指针之间的区别。到目前为止，它不会造成任何大问题，我正在按照文档中的示例进行操作，制作 NSURLRequest 并在 NSURLConnection 中使用它来接收数据。

代码是这样的：

```
 //create the request with url
    NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:@"http://localhost:3000/students.json"]];

    //create the with the request
    NSURLConnection *connection = [[NSURLConnection alloc]initWithRequest:request delegate:self];

    if (connection) {
        //create NSData instance to hold data if connection is successfull
        self.receivedData = [[NSMutableData alloc]init];
//        NSLog(@"%@",@"Connection successfully");
    }
    else{
        NSLog(@"%@",@"Connection failed");
    } 
```

所以我将数据附加到`receivedData`委托方法的主体中。

`@property (strong,nonatomic) NSMutableData *receivedData;`

```
//delegate method
-(void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data{
    [self.receivedData appendData:data];
    NSLog(@"%@",@"Receiving Data");
}
-(void)connectionDidFinishLoading:(NSURLConnection *)connection{
    NSLog(@"Succeeded! Received %d bytes of data",[self.receivedData length]);
} 
```

我上面发布的代码正在运行:) 因为我刚刚修复了它。

**我的问题是**- 指针的类型是原始的`weak`。`[self.receivedData length]`在将指针类型从`weak`to更改为之前，我总是会得到 0 个字节的数据，`strong`我不明白为什么它不能**保存**数据。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T04:43:34.447

弱引用不会保留其内容。您告诉`receivedData`变量查看您创建的可变数据对象，但不要保留它。因此，当该`if`块完成时，数据的范围结束并且 ARC 将其释放；没有其他东西可以控制它，所以它被释放，receivedData 被设置为 nil，因为它不再有任何指向。`[self.receivedData length]`返回 0（技术上为零），因为`self.receivedData`它是零。通过声明 receivedData 强，你告诉它持有它指向的对象，确保它一直存在，直到你完成它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T04:51:39.260

尝试使用它来获取数据

```
NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:[NSString stringWithFormat:@"http://localhost:3000/students.json"]]];

NSURLResponse *response;
NSError *error;
NSData *responseData = [NSURLConnection sendSynchronousRequest:request returningResponse:&response error:&error];
NSString *strResponse = [[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding];
//    NSLog(@"%@",strResponse);

SBJSON *sbJason = [[SBJSON alloc] init];
NSMutableDictionary *getNameList = [sbJason objectWithString:strResponse]; 
```

# api - Jung Graph Package and Factory Patterns

> ID：12775336
> 
> 赞同：0
> 
> 时间：2012-10-08T04:27:52.653
> 
> 标签：api, factory-pattern, jung

I am trying to initialize each of the following where the Graph Object comes from the JUNG graph package (Factory comes from org.apache.commons.collections15):

```
 Factory<Graph<Integer, String>> graphFactory;
        Factory<Integer> vertexFactory;
        Factory<String> edgeFactory; 
```

I need these three objects in the constructor of the [BarabasiAlbertGenerator](http://jung.sourceforge.net/doc/api/edu/uci/ics/jung/algorithms/generators/random/BarabasiAlbertGenerator.html) (click for JavaDoc) Object.

In my reading of the Factory Pattern, I see that it is used to pass off the instantiation of objects to subclasses. So, what I know is:

1.  There must be some class in the Jung Package that implements the Factory interface that can then instantiate the object I declare 'graphFactory'. Similarly for vertexFactory and edgeFactory

The question is (is what I am assuming correct as well) how do I instantiate these objects and which set of possible types could/would I use for instantiating each object?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T15:53:04.420

对于 graphFactory，您可以在所需的图形类上使用 getFactory() 静态方法。

您将需要编写 vertexFactory 和 edgeFactory 的实例。
您可以为顶点/边使用任何类型，这就是它们是通用的原因（这就是为什么您必须指定它们的创建方式）。:)
查看示例代码以获取示例。

# php - mysql_insert_id(); 成功插入行后不返回值

> ID：12775338
> 
> 赞同：5
> 
> 时间：2012-10-08T04:27:58.170
> 
> 标签：php, mysql, mysql-insert-id

我发誓我已经在这个网站和其他网站上倾注了所有其他类似的问题......但我认为我只是错过了一些东西。希望有人能指出我的大脑对我隐藏的愚蠢错误。:)

我的脚本将表单中的值插入到名为“notes”的表中

此时，它通过一个名为 newRelationship 的函数在名为“relationships”的表中创建两个条目。

变量“$note_id”的值是通过我的 mysql_insert_id(); 填充的。并传入上述函数。

执行代码时，该条目成功添加到“notes”中，并且“id”列被赋予了 auto_increment 适当的值。

接下来，将两个条目添加到“关系”表中（应该如此）。

但是，我的 mysql_insert_id() 不断踢出一个值“0”而不是新的行 ID。

对于我的生活，我无法弄清楚我做错了什么。我什至尝试从头开始创建一个具有相同结果的新表。更重要的是，我在项目的其他文件中使用了几乎相同的代码，没有任何问题。有人看到我做错了什么吗？

有问题的代码

```
 if ($user->is_loaded())
    {

    if($_POST['project_id']) {
    $project_id = $_post['project_id'];
    $long_note = $_POST['long_note'];
    $created_by = $_POST['created_by'];
    $note_sql="INSERT INTO notes (`long_note`, `added`, `created_by`) VALUES ('$long_note', '$timenow', '$created_by')";
    if (!mysql_query($note_sql,$con))
    {
    die('Error: ' . mysql_error($note_sql));
    }
    else {
    echo "note created Creating relationship ";
    $note_id = mysql_insert_id();

    echo $note_id;
    newRelationship($project_id, "project", $note_id, "note");
    newRelationship($client_id, "client", $note_id, "note");
    echo "note added successfuly";

    } 
```

我的功能

```
function newRelationship($parent_id, $parent_type, $child_id, $child_type)
{

global $sql, $con, $timenow;

$relationship_sql="INSERT INTO `relationships` (`parent_id`, `parent_type`, `child_id`, `child_type`) VALUES ('$parent_id', '$parent_type', '$child_id', '$child_type');";
    if (!mysql_query($relationship_sql,$con))
    {
     die('Error: ' . mysql_error($relationship_sql));
    }
    else {
    echo $parent_type." ".$parent_id." realationship with ".$child_type." ".$child_id." successful ";
}

} 
```

根据@jack 的建议，这里是我的笔记表的 sql

```
CREATE TABLE `notes` (
  `id` int(10) unsigned zerofill NOT NULL AUTO_INCREMENT,
  `contact_id` int(10) NOT NULL,
  `client_id` int(10) NOT NULL,
  `status` text NOT NULL,
  `long_note` text NOT NULL,
  `added` int(11) NOT NULL,
  `modified` int(11) NOT NULL,
  `edit_by` int(10) NOT NULL, 
  `short_note` text NOT NULL,
  `created_by` int(10) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=295 DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-08T04:33:24.333

根据[文档](http://us2.php.net/mysql_insert_id)：

> 上一个查询成功时为 AUTO_INCREMENT 列生成的 ID，**如果上一个查询没有生成 AUTO_INCREMENT 值**，则为 0，如果没有建立 MySQL 连接，则为 FALSE。

文档声明它只能`0`在最后执行的查询*没有生成`AUTO_INCREMENT`值*时返回，这*应该*意味着您的 PRIMARY KEY 列`notes`没有正确设置`auto_increment`。我建议仔细检查 PRIMARY KEY 列中`notes` *的实际*设置`auto_increment`（再次检查永远不会有害！）。

查看您的示例代码，您确实`mysql_insert_id()`在插入后立即调用，*因此*两者之间不应该有任何冲突的查询来扭曲结果。

我看到的唯一可能导致问题的是您将 MySQL 资源传递给`mysql_query()`，而不是传递给`mysql_insert_id()`：

```
if (!mysql_query($note_sql,$con))
...
$note_id = mysql_insert_id(); 
```

因此，资源中可能存在冲突。尝试将您的呼叫更新为：

```
$note_id = mysql_insert_id($con); 
```

# html - Stretching to fill a horizontal Nav menu, within a 960 grid 12 col

> ID：12775340
> 
> 赞同：0
> 
> 时间：2012-10-08T04:28:16.783
> 
> 标签：html, css

Im trying to stretch the individual "li" elements within the "nav" element to fill the space that is 600px as defined in the HTML by the class="grid_8" in the that houses the "ul" Ive tried putting width:100%; in the nav, li { width: 100%;} and some various forms of that solution. No avail. I look to you masters!

```
<div class="container_12 clearfix" >
    <div class="grid_4">
<!--logo--> <a href="index.html" alt="Above The Frey - Home page"> <img alt="Above The Frey - Home page" src="images/newLogo.png" /> </a>
    </div>

    <div class="grid_8">
                <nav>
<!-- navigation-->  <ul id="nav">

                    <li> <a href="schedule.html" >Schedule</a> </li>
                    <li> <a href="schedule.html" >Portfolio</a> </li>
                    <li> <a href="schedule.html" >Conntact</a> </li>
                    <li class="stretch"></li>
                    </ul>
                </nav>

    </div>
</div>

<!--video Container-->

<div class="container_12" id="videoContainer">

<iframe id="videoBorder" width="560" height="315" src="http://www.youtube.com/embed/fEJOYp3ciD0" frameborder="0" allowfullscreen></iframe>

</div>

</html>

Body {
background-image: url("images/background.jpg");

}
#nav
{
padding:0;
background-color: #333333;
text-align: justify;
}
#nav li 
{

display:inline;
width:100%;
width: 33%;
text-align: center;
}
#nav li a 
{   

   font-family:Arial;
   font-size:12px;
   text-decoration: none;
   float:left;
   padding:10px;
   background-color: #333333;
   color:#ffffff;
   border-bottom:1px;
   border-bottom-color:#000000;
   border-bottom-style:solid;
   margin-top: 100px;
}

#nav li a:hover 
{
   background-color:#9B1C26;
   padding-bottom:12px;
   border-bottom:2px;
   border-bottom-color:#000000;
   border-bottom-style:solid;
   margin: 0px;
   margin-top: 100px;
}

#nav.stretch {
    display: inline-block;
    width: 100%;

     /* if you need IE6/7 support */
    display: inline;
    zoom: 1;
}

 #videoContainer 
{
    background-color: #1f1f1f;
    padding: 20px;

}` 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T04:49:59.550

`nav {width:100%}`, `ul#nav {width:100%}`,`ul#nav li {width:100%}` 我想这应该可行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T08:43:12.807

看看这个可能对你想要的有帮助

```
.grid_8{
    height:auto;
    overflow:hidden;
}
#nav
{
    background-color: #333333;
    text-align: justify;
    width:100%;
    border-bottom:1px;
    border-bottom-color:#000000;
    border-bottom-style:solid;
    height:39px;
}
#nav li 
{
 display:inline-block;
 text-align: center;

}
#nav li a 
{   
   font-family:Arial;
   font-size:12px;
   text-decoration: none;
   float:left;
   padding:10px;
   background-color: #333333;
   color:#ffffff;
   vertical-align:bottom;
}

#nav li a:hover 
{
   background-color:#9B1C26;
   padding-bottom:12px;
   border-bottom:2px;
   border-bottom-color:#000000;
   border-bottom-style:solid;
   margin: 0px;

} 
```

[jsFiddle](http://jsfiddle.net/DRQE4/1/)

# security - 可以使用 Shiro 设置 JSF 页面级别权限吗

> ID：12775343
> 
> 赞同：2
> 
> 时间：2012-10-08T04:29:02.710
> 
> 标签：security, jsf-2, java-ee-6, shiro

我只是想知道我们在 Shiro 中是否有页面级别的权限设置？例如，我有一个 jsf 页面，我只想在具有人员角色和删除权限的用户中显示。

在 JBoss 中，我们有类似的东西：

```
<page xmlns="http://jboss.com/products/seam/pages"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://jboss.com/products/seam/pages http://jboss.com/products/seam/pages-2.1.xsd">
    <restrict>#{persistentPermissionResolver.hasPermission('staff','delete')}</restrict>
</page> 
```

JavaEE6 + Shiro + JSF 中是否也提供此功能？似乎 JSP 和 JSF 插件仅支持启用具有特定权限的特定角色可以访问网页的特定部分。

谢谢，
czetsuya

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T12:05:00.597

如果您将项目配置为使用 Shiro [annotation not working on JavaEE6 project](https://stackoverflow.com/questions/12810999/shiro-annotation-not-working-on-javaee6-project/14479248#14479248)中回答的 Shiro 注释，那么您应该能够通过将所需的 Shiro 注释放在请求范围的托管 bean 的类级别来设置页面级别的限制。

```
@Named
@RequestScoped
@ShiroSecured
@RequiresPermissions("staff:delete")
public class SomeBean {
    // ...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T06:39:31.590

在摆弄了一段时间后，我得出结论，拥有与 Seam 相同的功能是不可能的，但 Apache Shiro 通过权限提供了相同的细粒度控制。您可以在其中控制谁访问/访问什么。至于我如何将 Apache Shiro 与 JavaEE6 集成，我是这样做的：[http](http://czetsuya-tech.blogspot.com/2012/10/how-to-integrate-apache-shiro-with.html) ://czetsuya-tech.blogspot.com/2012/10/how-to-integrate-apache-shiro-with.html 。

# javascript - How to redirect from Firefox addon code?

> ID：12775345
> 
> 赞同：0
> 
> 时间：2012-10-08T04:29:16.643
> 
> 标签：javascript, firefox-addon

I am building a Firefox add-on. I have attached an event listener to links with a class. On link click I need to redirect the user to a different page (preferably separate tab) with some additional parameters added to it as query string. How can I achieve this from the addon? I tried setting `location.href` but it opens the target like a popup (I mean a window without any toolbar and menubar).

This is the function that gets triggered on lck event:

```
var myExtension = {
init: function() {
    // The event can be DOMContentLoaded, pageshow, pagehide, load or unload.
    if(gBrowser) gBrowser.addEventListener("DOMContentLoaded", this.onPageLoad, false);
},
onPageLoad: function(aEvent) {
    var doc = aEvent.originalTarget; // doc is document that triggered the event
    var win = doc.defaultView; // win is the window for the doc
    // test desired conditions and do something
    // if (doc.nodeName == "#document") return; // only documents
    // if (win != win.top) return; //only top window.
    // if (win.frameElement) return; // skip iframes/frames
//        alert("page is loaded \n" +doc.location.href);
        function toFb()
        {
            var Ele2=doc.getElementsByClassName('js-action-reply')[0].parentNode.parentNode.parentNode.parentNode.children[1];
            doc.location.href="http://www.lendingstream.co.uk/?txt="+Ele2.innerHTML;
        }
}
}
window.addEventListener("load", function load(event){
window.removeEventListener("load", load, false); //remove listener, no longer needed
myExtension.init();
},false); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T07:30:05.357

如果您需要在新选项卡中打开页面，那么您应该[打开一个选项卡](https://developer.mozilla.org/en-US/docs/Code_snippets/Tabbed_browser#Opening_a_URL_in_a_new_tab)：

```
gBrowser.addTab("http://www.lendingstream.co.uk/?txt=" + encodeURIComponent(Ele2.innerHTML)); 
```

请注意，我使用[`encodeURIComponent()`函数](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/encodeURIComponent)来确保参数被正确编码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T07:32:37.883

你试过这个吗？

```
window.open('http://www.lendingstream.co.uk/?txt='+Ele2.innerHTML); 
```

使用 Chrome、IE 或 FF 时，它适用于 chrome 中的扩展程序和任何普通页面

# asp.net - Best Practice for posting collection in Web APi

> ID：12775346
> 
> 赞同：0
> 
> 时间：2012-10-08T04:29:33.023
> 
> 标签：asp.net, asp.net-web-api

I have html page consisting of JqGrid. JqGrid is bind through JSon data. There are multiple rows in a grid. User can edit the values in Grid and when he is finally done with manipulation then data is going to post back at Server using Web Api.

Presently I am using the Post method with following signature :-

```
public void Put(JObject u)
{
 //here iteration is made on Jobject data and finally changes saved to DB
} 
```

Please suggest if this fine with Web Api context or there is better way to update collection in Web Api.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T04:41:52.963

*   对于一个小项目，你的方法完全没问题。
*   对于更大的项目，我将 jQuery 与 WCF Web 服务一起使用，如下所示：

```
 [ServiceContract]
    public interface IMyService
    {
      [OperationContract]
      [WebInvoke(Method = "POST",
                 RequestFormat = WebMessageFormat.Json,
                 ResponseFormat = WebMessageFormat.Json)]
      MyAnswer DoWork(MyData data);
      // ... 
```

但请注意：我用 Fiddler 调试了好几个小时才让它按我想要的方式工作。

# jsf-2 - How to get JSF to auto-instantiate a session bean

> ID：12775351
> 
> 赞同：0
> 
> 时间：2012-10-08T04:30:12.633
> 
> 标签：jsf-2, session-bean, objectinstantiation

This was asked in a previous question (http://stackoverflow.com/questions/6043259/auto-instantiate-a-session-bean). I implemented the solution offered by BalusC but it isn't working. This is my code:

```
@ManagedBean
@SessionScoped
public class UserSessionBean { 
```

AND

```
@ManagedBean
@ViewScoped
public class ReaderBean implements Serializable {

@ManagedProperty("#{userSessionBean}")
private UserSessionBean userSessionBean; 
```

If I understand BalusC correctly, JSF should auto-instantiate the session bean. In my case I get error saying that ReaderBean cannot be instantiate because no instance of UserSessionBean exists. So how can I get JSF to manage the instantiation for me? Manually instantiating and putting to the session map is supposedly a hack/workaround, so I'd like to avoid it.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T05:01:42.357

I got the answer.

The Managed Property required Getter and Setter methods.

# mysql - MySQL中给定子字符串的最后一个索引

> ID：12775352
> 
> 赞同：79
> 
> 时间：2012-10-08T04:30:20.070
> 
> 标签：mysql, string, lastindexof

`INSTR()`我们可以使用下面的函数找到给定子字符串在 MySQL 中第一次出现的索引。

```
SELECT instr('Have_a_good_day', '_') AS index_position 
```

它将显示`5`指定子字符串的第一次出现，在这种情况下是下划线`_`。

我需要获取给定字符（或子字符串）的最后一次出现，例如[`lastIndexOf(String str)`](http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#lastIndexOf-java.lang.String-)String 类的 Java 方法，但我在 MySQL 中找不到任何内置函数。

在 MySQL 中是否有任何内置功能可以实现这一点？

* * *

## 回答 #1

> 赞同：168
> 
> 时间：2013-08-24T20:17:10.000

@Marc B 很接近。在 MySQL 中，以下语句返回 12：

```
SELECT CHAR_LENGTH("Have_a_good_day") - LOCATE('_', REVERSE("Have_a_good_day"))+1; 
```

预期可能使用该值，以下语句在最后一个下划线（即_）之前提取字符串的左侧部分：

```
SELECT LEFT("first_middle_last", CHAR_LENGTH("first_middle_last") - LOCATE('_', REVERSE("first_middle_last"))); 
```

结果是“first_middle”。如果要包含分隔符，请使用：

```
SELECT LEFT("first_middle_last", CHAR_LENGTH("first_middle_last") - LOCATE('_', REVERSE("first_middle_last"))+1); 
```

如果他们增强了 LOCATE 以提供从右侧开始搜索的选项，那就太好了。

如果您想要最后一个空格之后的字符串的正确部分，更好的解决方案是：

```
SELECT SUBSTRING_INDEX("first_middle_last", '_', -1); 
```

这将返回“最后一个”。

* * *

## 回答 #2

> 赞同：24
> 
> 时间：2013-08-31T19:21:15.647

如果您不想要 REVERSE 的开销，请使用以下命令：

```
LEFT
(
   'Have_a_good_day', 
   LENGTH('Have_a_good_day') - LENGTH(SUBSTRING_INDEX('Have_a_good_day','_',-1))-1
) 
```

* * *

## 回答 #3

> 赞同：19
> 
> 时间：2012-10-08T04:35:57.617

我认为您可以通过这种方式使用 substring_index ：

```
select substring_index(string, delimiter,-1) 
```

-1 将从字符串的末尾开始。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-10-08T05:13:15.747

反向/索引的组合？

```
SELECT LENGTH(string) - SUBSTRING_INDEX(REVERSE(string), delimiter) + 1 
```

考虑到您的情况，将其分解`Have_a_good_day`：

```
REVERSE('Have_a_good_day') -> yad_doog_a_evaH
SUBSTRING_INDEX('yad_doog_a_evah', '_') -> 4
LENGTH('Have_a_good_day') -> 15
15 - 4 + 1 -> 12

Have_a_good_day
123456789012345
           ^ 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2016-12-06T12:59:48.283

我发现这是一个很好的技巧：

```
SELECT LOCATE(SUBSTRING_INDEX('Have_a_good_day', '_', -1),'Have_a_good_day')-1 AS indexpos; 
```

这将返回最后一次出现的索引 (=12)。基本上，您在最后一个分隔符之后搜索字符串的正确部分，然后在整个字符串中搜索该子字符串的位置，从而获得位置:)

如果您想获取此左侧的子字符串，您可以使用：

```
SELECT
  SUBSTRING('Have_a_good_day', 1, 
     LOCATE(SUBSTRING_INDEX('Have_a_good_day', '_', -1),'Have_a_good_day')-1) 
  AS sub; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-03-25T08:07:03.540

虽然上述代码对单个字符成功运行，但当我使用它们查找子字符串的最后一次出现时它们失败了。因此，我为此任务推荐以下代码：

```
SELECT LENGTH("my father is my father")
        - LOCATE('father', REVERSE("my father is my father"))-(LENGTH('father')-1) 
```

这应该返回 17

# java - 每当将新数据点添加到 jfreechart 中的现有数据集时，xy 折线图如何自动更新/重绘

> ID：12775359
> 
> 赞同：0
> 
> 时间：2012-10-08T04:31:02.383
> 
> 标签：java, swing, jfreechart, linechart

我有一个场景，数据（x 和 y 坐标）是动态出现的。我必须从收到第一点开始绘制图表。所以每次有新的数据点进来时，图表应该会自动更新。这应该持续一段时间（注意：这里x和y坐标都是双变量，时间根本不被认为是变量。我们不知道什么时候数据进来）。在将数据点添加到现有数据集后，我尝试重新绘制总图。它成功地工作了。但我注意到它有一个缺陷。我有一个数据集（比如在特定时间 t）按以下顺序 {(1,1)(2,3)(3,5)(4,7)(2.5,1)}。该图应该有一条从点 (4,7) 到 (2.5,1) 的线。但是点 (2.5,1) 是从 (2,3) 和 (3,5) 连接的，这是我不想要的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T13:27:49.787

假设您使用的`XYSeries`是您是否尝试过关闭排序

```
private static XYDataset createDataset() {
  XYSeries dataset = new XYSeries("A",false,true);
  dataset.add(1,1);
  dataset.add(2,3);
  dataset.add(3,5);
  dataset.add(4,7);
  dataset.add(2.5,1);
  XYSeriesCollection ds = new XYSeriesCollection();
  ds.addSeries(dataset);
  return ds;
} 
```

你应该能够创建这样的图表：

![在此处输入图像描述](../Images/ee573666f7b456b879b180ce557c1498.png)

# php - 简单的 PHP 模拟脚本

> ID：12775362
> 
> 赞同：1
> 
> 时间：2012-10-08T04:31:10.653
> 
> 标签：php, simulation

我正在为我的网站做一个简单的模拟，我环顾四周，但找不到任何关于如何实现这一点的信息。有人可以提供我将如何使用代码实现以下输出：

* * *

有两个玩家，都是2级。

**玩家 1**

攻击 - 1 防御 - 2 生命值 - 10

**玩家 1**

攻击 - 2 防御 - 1 生命值 - 10

我想在这两个玩家之间进行一场模拟回合制战斗。它会随机选择谁得到第一个命中。为此，我们会说玩家 1 先行。我用来计算命中的等式是`($playerattack/$playerdefense) + rand(1,$level)`（等式可能工作得很好，可能不行。只是为了测试目的）我想得到如下输出。

玩家 1（10 生命值） - 击中 2

玩家 2 (8 生命值) - 命中 1

. . .

玩家 1（1 生命值） - 击中 2

**玩家 2 死亡，玩家 1 获胜！**

**对不起那些回答旧例子的人！感谢您的反馈

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T04:46:12.367

这只允许两个玩家。

```
$players = array(
  array('attack' => 1, 'defense' => 2, 'health' => 10, 'level' => 2, ), 
  array('attack' => 2, 'defense' => 1, 'health' => 10, 'level' => 2, ), 
);
$count = 0;
while (true) {
  $count++;
  $players_temp = $players;
  $attacker_key = array_rand($players);
  $attacker     =& $players[$attacker_key];
  unset($players_temp[$attacker_key]);
  $defender_key = array_rand($players_temp);
  $defender     =& $players[$defender_key];

  $hit = ($attacker['attack']/$defender['defense']) + rand(1, $attacker['level']);
  echo "{$count}. Player {$defender_key} ({$defender['health']} health) is hit a {$hit} by Player {$attacker_key} ({$attacker['health']} health)\n";
  $defender['health'] = $defender['health'] - $hit;

  if ($defender['health'] <= 0) {
    echo "Player {$defender_key} dies, Player {$attacker_key} is victorious!\n";
    break;
  }

} 
```

[已编辑]
这允许两个以上的玩家并且是回合制的。

```
set_time_limit(1);
$players = array(
  'A' => array('attack' => 1, 'defense' => 2, 'health' => 10, 'level' => 2, ), 
  'B' => array('attack' => 2, 'defense' => 1, 'health' => 10, 'level' => 2, ), 
  'C' => array('attack' => 1, 'defense' => 1, 'health' => 10, 'level' => 2, ), 
  'D' => array('attack' => 2, 'defense' => 2, 'health' => 10, 'level' => 2, ), 
);
$player_ids = array_keys($players);
$no_of_players = sizeof($player_ids);
$count = 0;
while (true) {
  $defender_key=0;
  for ($attacker_key=0;$attacker_key<$no_of_players;$attacker_key++) {
    if (!isset($player_ids[$attacker_key])) continue;
    $count++;
    $attacker_id  = $player_ids[$attacker_key];
    $attacker     =& $players[$attacker_id];

    $defender_key = $attacker_key + 1;
    while (!isset($player_ids[$defender_key])) {
      $defender_key = ($defender_key+1 < $no_of_players) ?  $defender_key + 1 : 0;
    }
    $defender_id  = $player_ids[$defender_key];
    $defender     =& $players[$defender_id];

    $hit = round(($attacker['attack']/$defender['defense']) + rand(1, $attacker['level']), 2);
    echo "{$count}. Player {$attacker_id} ({$attacker['health']} health) has hit a {$hit} on Player {$defender_id} ({$defender['health']} health)<br />";
    $defender['health'] = $defender['health'] - $hit;

    if ($defender['health'] <= 0) {
      echo "Player {$defender_id} dies<br />";
      unset($players[$defender_id], $player_ids[$defender_key]);
      if (sizeof($player_ids) == 1) {
        echo "Player {$attacker_id} is victorious!<br />";
        break 2;
      }
    }

    //if ($count > 100) break 2;
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T04:45:44.603

从数组或 aj 开始。运行一个循环 5 次（for 循环），选择一个随机值，然后从数组中删除该值。

```
$arr = array('a', 'b',..., 'j');

for ($i = 0; $i < 5; $i++) {
    $key = array_rand($arr);
    echo $arr[$key], "<br />";
    unset($arr[$key]);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T04:46:25.917

这个 PHP 代码：

```
$arr = array('A','B','C','D','E');
shuffle($arr);
for ($i = 0; $i < 5; $i++) {
    echo ($i + 1) . '. ' . $arr[$i] . "<br/>";
} 
```

将输出类似于：

> 1.  乙
> 2.  C
> 3.  一种
> 4.  D
> 5.  乙

**编辑：**

要完成第二个示例，您将使用以下内容：

```
while ($player1->health > 0 && $player2->health > 0) {
    ...
    echo "Player X (health X)....";
}
if ($player1->health == 0) echo "Player 1 died!";
else echo "Player 2 died!"; 
```

# ruby-on-rails - 耙任务错误：不知道如何构建任务“生产”

> ID：12775363
> 
> 赞同：1
> 
> 时间：2012-10-08T04:31:11.930
> 
> 标签：ruby-on-rails, ruby

我正在构建一个具有计划模型和用户模型的应用程序。计划模型有_many用户，负责计划细节、价格等。

我想做的是建立一个 rake 任务，允许我在 heroku 中创建 3 个计划。我一直在弄乱代码，但是当我运行时继续出现错误`heroku run rake db:populate_plans`

```
Don't know how to build task 'production' 
```

这是为它编写的代码：

```
namespace :db do
  desc "fill in plans"
  task populate_plans: :production do

    Plan.create!(name: "Professional", max_phone_numbers: "5", max_minutes: "500", price: "49.95" )

    Plan.create!(  name: "Small Business", max_phone_numbers: "10", max_minutes: "1000", price: "99.95" )       

    Plan.create!( name: "Office", max_phone_numbers: "25", max_minutes: "2000", price: "149.95" )        

    end
  end 
```

非常感谢您对此的任何指导！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T04:38:33.787

试试这个

```
namespace :db do
  desc "fill in plans"
  task :populate_plans => :environment do
    Plan.create!(name: "Professional", max_phone_numbers: "5", max_minutes: "500", price: "49.95" )
    Plan.create!(  name: "Small Business", max_phone_numbers: "10", max_minutes: "1000", price: "99.95" )       
    Plan.create!( name: "Office", max_phone_numbers: "25", max_minutes: "2000", price: "149.95" )        
  end
end 
```

现在运行 rake db:populate_plans RAILS_ENV=production

# c# - ModalPopupExtender，对象引用未设置为对象错误的实例

> ID：12775366
> 
> 赞同：0
> 
> 时间：2012-10-08T04:31:59.337
> 
> 标签：c#, asp.net, ajax, ajaxcontroltoolkit, modalpopupextender

我在 DataList 控件中使用 ASP 按钮来弹出 AjaxPopupExtender。但是会引发以下错误：

Microsoft JScript 运行时错误：Sys.WebForms.PageRequestManagerServerErrorException：对象引用未设置为对象的实例。

标记：

```
<asp:HiddenField ID="ModalPopUpHidden" runat="server" />
<cc1:ModalPopupExtender ID="mdlComments" runat="server"
    CancelControlID="btnCancelComment" PopupControlID="pnlComments" 
    TargetControlID="ModalPopUpHidden" PopupDragHandleControlID="PopupHeader"
    Drag="true" BackgroundCssClass="ModalPopupBG">
</cc1:ModalPopupExtender>
<asp:Panel ID="pnlComments" Style="display: none" runat="server">
    <div class="popup_Container">
        <div class="popup_Titlebar" id="PopupHeader">
            Comment
        </div>
        <div class="popup_Body">
            <asp:TextBox ID="txtPopupComment" runat="server" MaxLength="500"
                TextMode="MultiLine" Width="200" Height="200">
            </asp:TextBox>
        </div>
        <div class="popup_Buttons">
            <asp:Button id="btnSaveComment" type="button" value="Save" 
                runat="server" Text="Save" CommandName="SaveComment" />
            <input id="btnCancelComment" type="button" value="Cancel"/>         
        </div>
    </div>
</asp:Panel> 
```

* * *

代码隐藏：

```
protected void dtListBids_ItemCommand(object source, DataListCommandEventArgs e)
{
    if (e.CommandName == "Comments")
    {
        AjaxControlToolkit.ModalPopupExtender mdlComments = 
            (AjaxControlToolkit.ModalPopupExtender)e.Item.FindControl("mdlComments");

        BidId = Convert.ToInt64(dtListBids.DataKeys[0]);
        mdlComments.Show();
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T04:50:42.320

由于 AJAX 调用失败、服务器端异常，您收到的错误与 JavaScript 有关。

为什么不通过在调用服务器时设置断点来调试服务器端代码。通过此活动，您将确切知道异常发生的位置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T05:11:00.660

我可以通过将标记中的`<li>`标记移动到触发此弹出窗口的按钮旁边来解决此问题。

# javascript - 从另一个 url 页面加载标签内容

> ID：12775380
> 
> 赞同：0
> 
> 时间：2012-10-08T04:33:30.363
> 
> 标签：javascript, jquery

我想创建一个内容幻灯片来预览产品列表。

这是我创建没有问题的工作幻灯片：

```
<body>
   <script src="http://mysite.com/slideshow.php type="text/javascript">
      ...slideshow scripts here...
   </script>

   <div id="preview">
      <a href="http://mysite.com/product1/productDetail">
         <img class="imageElement" src="http://mysite.com/product1.jpg">
      </a>

      <a href="http://mysite.com/product2/productDetail">
         <img class="imageElement" src="http://mysite.com/product2.jpg">
      </a>

      ...more <a> </a>
   </div> 
</body> 
```

站点访问者可以单击图像以打开产品详细信息页面。

当图像循环播放时，我也想自动显示每个图像的“产品 ID”。ID 在产品详细信息页面（在上述标签中）中，我不知道如何正确检索和显示。

我尝试了以下但不起作用：

```
<div id="content"></div>
<script>
  $("#content").load("http://mysite.com/product1/productDetail #productID",function(){
     var sample = $('productID).text();
     $('#content').text(sample);
     });
  });
</script> 
```

我做错了什么？

***更新：***

我意识到负载指向一个静态 url，所以我将代码更改为：

```
<script>
   $("#preview a").each(function(index){
      var url = $(this).attr("href"); 
      $("#content").load(url+" #productID",function(){
        var sample = $("#productID").text();
        $("#content").text(sample);
      });
   });
</script> 
```

还是行不通！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T13:57:16.233

`$(..).load()`将加载数据，然后将其放入匹配的元素中（参见[此处](http://api.jquery.com/load/)）。您当前的代码将尝试将`#content`div 替换为*整个*页面，而不仅仅是产品 ID。你最好使用`$.get`或`$.ajax`为此。

此外，您当前的代码只会循环浏览每个链接并`#content`使用产品 ID 更新 div，但它只会尽可能快地循环而不是与幻灯片同步。您需要检测当前正在显示哪个图像/链接，然后加载该特定图像的产品 ID。

# xamarin.android - 当前上下文 MonoDroid 中不存在名称“Trace”

> ID：12775381
> 
> 赞同：0
> 
> 时间：2012-10-08T04:33:44.053
> 
> 标签：xamarin.android, trace, system.diagnostics, build-error

所以我在 MFA 中编译一个小项目，我收到错误“当前上下文中不存在名称'Trace'”。我已经导入 System.Diagnostics 并且根据[这篇](http://docs.xamarin.com/android/about/assemblies)文章， System.Diagnostics 包括在内......关于我为什么无法构建的任何想法？我尝试了 FQDN System.Diagnostics.Trace，但我收到一条错误消息，指出 Trace 不是 System.Diagnostics 的一部分。关于 MFA 在哪里的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T00:10:21.930

似乎 System.Diagnostics.Debug 可以满足我的需要，但是我不确定它是否是推荐的替代品...

# c++ - 着色器中的图像模糊效果

> ID：12775382
> 
> 赞同：3
> 
> 时间：2012-10-08T04:33:48.733
> 
> 标签：c++, opengl, glsl, blur, post-processing

我想在我的游戏中做图像效果，比如屏幕模糊，但我有一个问题，它只是让屏幕稍微变暗。

这是FBO的课程

```
GLuint m_fbo;
GLuint m_fboTexture;
GLuint m_fboDepthBuffer;

void FBO::Initialize(float width, float height)
{
    glGenFramebuffersEXT(1, &m_fbo);
    glGenTextures(1, &m_fboTexture);
    glGenRenderbuffersEXT(1, &m_fboDepthBuffer);

    glBindFramebufferEXT(GL_FRAMEBUFFER_EXT, m_fbo);

    glEnable(GL_TEXTURE_2D);
    glBindTexture(GL_TEXTURE_2D, m_fboTexture);
    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE);
    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE);
    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);
    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);
    glGenerateMipmapEXT(GL_TEXTURE_2D);

    glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA8, (GLuint)width, (GLuint)height, 0, GL_RGBA, GL_UNSIGNED_BYTE, 0);
    glFramebufferTexture2DEXT(GL_FRAMEBUFFER_EXT, GL_COLOR_ATTACHMENT0_EXT, GL_TEXTURE_2D, m_fboTexture, 0);

    glBindRenderbufferEXT(GL_RENDERBUFFER_EXT, m_fboDepthBuffer);
    glRenderbufferStorageEXT(GL_RENDERBUFFER_EXT, GL_DEPTH_COMPONENT24, (GLuint)width, (GLuint)height);
    glFramebufferRenderbufferEXT(GL_FRAMEBUFFER_EXT, GL_DEPTH_ATTACHMENT_EXT, GL_RENDERBUFFER_EXT, m_fboDepthBuffer);

    glBindFramebufferEXT(GL_FRAMEBUFFER_EXT, 0);

    glDisable(GL_TEXTURE_2D);
}

void FBO::Bind()
{
    glBindFramebufferEXT(GL_FRAMEBUFFER_EXT, m_fbo);
}

void FBO::UnBind()
{
   glBindFramebufferEXT(GL_FRAMEBUFFER_EXT, 0);
}

void FBO::Clear()
{
    glBindFramebufferEXT(GL_FRAMEBUFFER_EXT, m_fbo);
    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);
    glBindFramebufferEXT(GL_FRAMEBUFFER_EXT, 0);
} 
```

这就是我在主课中设置它的方式。

```
FBO m_fbo;//create an object

//initialize size
m_fbo.Initiliazie(screen_width, screen_height); 
```

在我的渲染功能中，我这样做

```
void Render()
{
   SetShaderProgram();//start shader program

   m_fbo.Bind();

   SetShaderImageSampler("texture", 0, m_fbo.m_fboTexture);
   SetShaderUniformVec2("size", (float)SCREEN_WIDTH, (float)SCREEN_HEIGHT);
   SetShaderUniformInt("kernel_size", ksize);

   //draws my texture
   m_spriteBatch->Draw(RecTangle(0, 0, (float)SCREEN_WIDTH, (float)SCREEN_HEIGHT));

   m_fbo.UnBind();

   EndShaderProgram();//end shader program
} 
```

这就是 SetShaderImageSampler 函数的作用：

```
void SetShaderImageSampler(char *sSamplerName, U32 nSlot, GLuint nHandle)
{
    glEnable(GL_TEXTURE_2D);
    glActiveTexture(GL_TEXTURE0 + nSlot);
    glBindTexture(GL_TEXTURE_2D, nHandle);
    U32 nSamplerLoc = glGetUniformLocation(m_shaderProgram, sSamplerName);
    glUniform1iARB(nSamplerLoc, nSlot);
} 
```

这是我的 spritebatch 抽奖

```
void SpriteBatch::Draw(RecTangle rect)
{
    //draws it depending on its center
    float left = -(rect.right/2.0f);
    float right = left + (rect.right);
    float top = -(rect.bottom/2.0f);
    float bottom = top + (rect.bottom);

    //vertices: Vertex(x, y, z, u, v) coordinates
    m_vertex[0] = Vertex(left,  top,    0, 0, 0);
    m_vertex[1] = Vertex(right, top,    0, 1, 0);
    m_vertex[2] = Vertex(right, bottom, 0, 1, 1);
    m_vertex[3] = Vertex(left,  bottom, 0, 0, 1);

    glEnableClientState(GL_VERTEX_ARRAY);
    glVertexPointer(3, GL_FLOAT, sizeof(Vertex), &m_vertex[0].m_fX);

    glEnableClientState(GL_TEXTURE_COORD_ARRAY);
    glTexCoordPointer(2, GL_FLOAT, sizeof(Vertex), &m_vertex[0].m_fU);

    glDrawArrays(GL_QUADS, 0, 4);

    glDisableClientState(GL_VERTEX_ARRAY);
    glDisableClientState(GL_TEXTURE_COORD_ARRAY);

    glColor4f(0.5f, 0.5f, 0.5f, 0.5f);
} 
```

这是我的碎片着色器

```
uniform sampler2D texture;
uniform vec2 size;
uniform int kernel_size;

void main (void)  
{ 
    vec4 color = vec4(0.0, 0.0, 0.0, 1.0);
    vec2 st = gl_TexCoord[0].st;
    vec2 texel = 1.0/size;

    int sum = 0;
    for(int i=-kernel_size; i <= kernel_size; i++) 
    {
            vec4 value = texture2D(texture, st + vec2(0.0, texel.y * i));
            int factor = kernel_size+1 - abs((float)i);
            color += value * factor;
            sum += factor;
    }
    color /= sum;

    gl_FragColor = color;
    gl_FragColor.a = 1.0;
} 
```

它工作得不太好。我尝试更改着色器来做其他事情，但无论如何它只会稍微变暗。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T10:47:11.413

解绑应该是

```
glBindFramebufferEXT(GL_FRAMEBUFFER_EXT, 0); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-12T01:25:29.373

没关系，我现在可以正常工作了。我在错误的地方调用了 Bind 和 UnBind。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T18:05:51.723

好的，通常要进行后期处理效果，您会在帧缓冲区处于活动状态时渲染场景。然后在激活后处理（模糊）着色器并将帧缓冲区纹理绑定为采样器的情况下渲染一个全屏四边形。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-08T23:05:05.803

也许您没有包含足够的代码，但我没有看到您在 Render 方法中实际渲染任何内容。

你有一些调用，我假设第一个调用是上下文，然后绑定帧缓冲区并链接着色器变量，但接下来我希望调用以某种方式渲染四边形/网格（即使用 glBegin/glEnd 部分或顶点缓冲区绑定和渲染。）

# javascript - 如何在 jsDatepick 中设置最小日期？

> ID：12775385
> 
> 赞同：1
> 
> 时间：2012-10-08T04:34:37.767
> 
> 标签：javascript

我正在使用[jsDatepick](http://javascriptcalendar.org/javascript-date-picker.php)。我需要将最小日期设置为今天的日期。有什么选择吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-26T11:37:24.917

快速更改 JsDatePick 的代码即可完成此操作。它在完整 js 文件的第 671 行附近

它说如果（！this.oConfiguration.limitToToday）{

只需取出！

IE

如果（this.oConfiguration.limitToToday）{

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-26T12:07:37.093

每当您选择任何日期时，您都会触发比较日期的功能。

不是吗？

# c# - 如何使用 VB.NET 以编程方式在富文本框中添加粗体文本

> ID：12775387
> 
> 赞同：6
> 
> 时间：2012-10-08T04:34:48.837
> 
> 标签：c#, vb.net, richtextbox

我有这个代码：

```
print_text.Text = "Patient number: " + ds.Tables("patients").Rows(0).Item(0)
print_text.AppendText(Environment.NewLine)
print_text.Text = print_text.Text + "Last name: " + ds.Tables("patients").Rows(0).Item(1)
print_text.AppendText(Environment.NewLine) 
```

现在我以编程方式添加上述数据，它工作正常。但是在上面的代码中，我想以`Patient number`粗体`Last name`添加。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-08T06:54:57.137

使用 a`RichTextBox`时，为什么不直接使用 RTF？

* * *

**例子：**

```
Sub Main
    Dim f = new Form()
    Dim print_text = new RichTextBox() With {.Dock = DockStyle.Fill}
    f.Controls.Add(print_text)

    Dim sb = new System.Text.StringBuilder()
    sb.Append("{\rtf1\ansi")
    sb.Append("This number is bold: \b 123\b0 ! Yes, it is...")
    sb.Append("}")
    print_text.Rtf = sb.ToString()

    f.ShowDialog()
End Sub 
```

**结果：**

![带有粗体文本的 RichTextBox](../Images/3c3fa2ff9a99677d2e6671e0750386ab.png)

[MSDN](http://msdn.microsoft.com/en-us/library/aa287595%28v=vs.71%29.aspx)

* * *

这样，您还可以轻松地将 RTF 内容包装到扩展方法中：

```
Module RtfExtensions

    <Extension()>
    Public Function ToRtf(s As String) As String
        Return "{\rtf1\ansi" + s + "}"
    End Function

    <Extension()>
    Public Function ToBold(s As String) As String
        Return String.Format("\b {0}\b0 ", s)
    End Function

End Module 
```

并像使用它一样

```
Dim text = "This number is bold: " + "123".ToBold() + "! Yes, it is..."
print_text.Rtf = text.ToRtf() 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-08T05:59:56.197

使用`RichTextBox.SelectionFont`属性。
查看这些 MSDN 链接以了解如何执行此操作：[链接 1](http://msdn.microsoft.com/en-us/library/system.windows.forms.richtextbox.selectionfont.aspx#Y253)和[链接 2](http://msdn.microsoft.com/en-us/library/yh8963yx.aspx)

希望能帮助到你。
**编辑：**

```
 Private Sub Form1_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load
    Dim len As Integer
    RichTextBox1.Text = "Patient number: " + " 12345"
    RichTextBox1.SelectionStart = 0
    RichTextBox1.SelectionLength = "Patient number".Length
    RichTextBox1.SelectionFont = New Font("Arial", 12, FontStyle.Bold)
    RichTextBox1.SelectionLength = 0
    RichTextBox1.AppendText(Environment.NewLine)
    len = RichTextBox1.Text.Length
    RichTextBox1.AppendText("Last name: " + " ABCD")
    RichTextBox1.SelectionStart = len
    RichTextBox1.SelectionLength = "Last name".Length
    RichTextBox1.SelectionFont = New Font("Arial", 12, FontStyle.Bold)
    RichTextBox1.SelectionLength = 0
End Sub 
```

# android - ActionBarSherlock 中的自定义标题图像

> ID：12775388
> 
> 赞同：1
> 
> 时间：2012-10-08T04:34:57.447
> 
> 标签：android, actionbarsherlock

我已经成功地在我的项目中运行了一个三选项卡样式的 ActionBarSherlock 实现。考虑到 ActionBarSherlock 所做的无数事情，我想知道 ABS 是否能够设置自定义标题图像，例如 Foursquare 或 GroupMe。

![群聚](../Images/7812e18762bfd62f38ed833399787b42.png)

![四方](../Images/8d2bb312716787870bf2405558509d4d.png)

我想他们正在运行操作栏的自定义实现，但我只是认为在 ABS 中复制它可能很容易。

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-08T04:46:04.757

实际上这很容易，只需在您的 OnCreate 中执行此操作：

```
getSupportActionBar().setIcon(R.drawable.foo); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T21:51:27.767

如果有人正在寻找一种使用 XML 更改 ActionBar 图标的方法，这里是：

在 styles.xml 中，您必须为 ActionBar 小部件创建自定义样式

```
<style name="CustomActionBar" parent="@android:style/Widget.ActionBar">
        <item name="android:background">@drawable/actionbar_custom_icon_goes_here</item>
    </style> 
```

然后制作一个扩展默认主题（或 Sherlock 主题）之一的自定义主题，并指定自定义 ActionBar 样式

```
<style name="CustomTheme" parent="@android:style/Theme.Holo.Light">
    <item name="android:actionBarStyle">@style/CustomActionBar</item>
</style> 
```

# c# - 如何从数据库 C# 填充组合框？

> ID：12775389
> 
> 赞同：0
> 
> 时间：2012-10-08T04:35:14.677
> 
> 标签：c#, database, combobox

我想用数据库中的名称填充我的组合框。是否有可能在 1 个组合框 2 列中填充它？例如：我有 2 列，`Name`并且`Position`. 我想把名字放在对应位置的组合框中。

例子：

```
Name                        Position
---------------------------------------------
jack                        President
jill                        President
maria                       Vice President
john                        Secretary 
```

这是我的代码：

{

```
 DataTable table = new DataTable();
        using (SqlConnection sqlConn = new SqlConnection("my connection"))

        {

         using (SqlDataAdapter da = new SqlDataAdapter(@"SELECT Name, Position FROM CandidateTable", sqlConn))

         da.Fill(table);

         }

         comboBox1.DataSource = table;

        comboBox1.DisplayMember = "Name";

        comboBox1.ValueMember = "Position"; 
```

}

注意：我想用 jack 和 jill 的名字填充我的组合框，因为它们的位置相同。其他名字也在另一个组合框中..不在总统组合框中..我想要一个单独位置的组合框..你懂我的英语吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T04:41:55.083

您需要连接数据库或模型中的两个字段

```
SELECT (name + ' - ' + Position) AS NameAndPosition from Employee 
```

或者

```
public class Employee
{
   public string Name {get; set; }
   public string Position {get; set; }

   public string NameAndPosition
   {
      return String.Format("{0} - {1}", Name, Position);//
   }
} 
```

在您的组合框中，显示字段将是`NameAndPosition`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T04:41:13.050

组合框中不可能有两列。但是，有几种可用的 javascript 将构建一种自定义界面来执行此操作。

这是其中一个的链接

[http://blog.pengoworks.com/index.cfm/2008/4/3/Preview-jQuery-Multicolumn-Dropdown-Plugin](http://blog.pengoworks.com/index.cfm/2008/4/3/Preview-jQuery-Multicolumn-Dropdown-Plugin)

另一种选择是，您可以同时选择名称和位置作为一个字段并将其显示在下拉列表中，例如

```
'select [Name] + " - " + [Position"] from table xxx' 
```

这样，您将在下拉列表中同时拥有姓名和职位。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-10T23:56:47.653

使用这个代码，我相信你会得到你的答案......

```
string query = "SELECT unitId,unitName FROM unit";
DataSet ds = new DataSet();

sqlopen();//a function for check open or close sql connection

// you must set already sqlConnection for sqlCon parameter
SqlCommand cmd = new SqlCommand(query, sqlCon); 
cmd.CommandType = CommandType.Text;
SqlDataAdapter da = new SqlDataAdapter(cmd);
DataSet ds = new DataSet();
da.Fill(ds, "tbl");

cbEdit.DataSource = ds.Tables["tbl"];
cbEdit.DisplayMember = "unitName";
cbEdit.ValueMember = "unitId"; 
```

# html - 实现 .png 和 .ico 图标？

> ID：12775390
> 
> 赞同：1
> 
> 时间：2012-10-08T04:35:19.803
> 
> 标签：html, favicon

我可以在我的`<head>`文件中放置 2 个图标链接吗？

目前它在标题部分是这样的：

`<link rel="icon" type="image/png" href="sitelink/favicon.png" />`

`<link rel="shortcut icon" href="sitelink/myicon.ico" />`

但是 Chrome 仍然首先显示 .ico 。

我做错什么了吗？我只希望 Chrome/Firefox/Safari 显示 .png 图标，而如果浏览器是 IE，我希望它显示 .ico 格式。

我该如何去展示它？我的想法是，如果 .png 链接位于顶部，它将首先加载，如果没有 (IE)，它将加载第二个。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T04:39:04.117

对不起这是我的错。看起来我刚刚找到了跨浏览器的 favicon 实现。

```
<link rel="icon" type="image/png" href="sitelink/favicon.png">

<!--[if IE]><link rel="shortcut icon" href="sitelink/favicon.ico"/><![endif]--><!-- Internet Explorer--> 
```

这应该进入`<head>`HTML 部分。

# authentication - 丢失 SSL 证书的后果

> ID：12775391
> 
> 赞同：0
> 
> 时间：2012-10-08T04:35:35.860
> 
> 标签：authentication, encryption, ssl-certificate

我正在设计一个系统，其中有可能将 SSL 证书丢失给攻击者。

但我不清楚如果证书被泄露，所有的攻击都是可能的？

1.  中间人攻击
2.  冒充攻击

我想继续使用 SSL 证书来加密通信通道（即防止中间人攻击）

对于身份验证，我想根据查询用户异步将数据发送到预定义的端点（非常类似于我们或攻击者尝试重置登录凭据时获取电子邮件通知的方式）

这来自于[一个进程如何进行身份验证并与同一主机上的另一个进程安全通信](https://stackoverflow.com/questions/12560741/how-can-a-process-authenticate-and-communicate-securely-with-another-process-on)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T08:45:09.733

据推测，您不仅在谈论丢失证书，而且在谈论其私钥被泄露。

在这种情况下，拥有私钥的人可以执行 MITM 攻击，前提是他们也有能力这样做。

> 我将澄清我的问题，用户和攻击者使用相同的公钥和私钥对是否会导致每次生成相同的对称密钥，或者密钥对用于为每个通信通道生成随机对称密钥，在这种情况下中间人攻击被阻止

为每个连接生成随机对称密钥（除非重复使用 SSL/TLS 会话，但这更多的是关于优化，不同的客户端或在一段时间后完成的连接将具有不同的对称密钥）。每次都拥有新的对称密钥当然不能单独防止 MITM 攻击，因为新对称密钥的协商是通过证书进行身份验证的：这就是防止 MITM 攻击的原因。

如果您真的担心从您的机器上复制您的私钥，您可以使用 HSM 模块（Java 支持 PKCS#11）。

话虽这么说，因为您似乎假设有人可以对您的机器执行 MITM 攻击，使用同一台机器上的两个进程之间的通信，听起来您假设您的机器受到了损害。在这种情况下，您成功使用 SSL/TLS 保护您要保护的内容的机会是有限的。听起来一般方法存在更大的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T16:17:13.110

> 我将澄清我的问题，用户和攻击者使用相同的公钥和私钥对是否会导致每次生成相同的对称密钥，或者密钥对用于为每个通信通道生成随机对称密钥，在这种情况下中间人攻击被阻止

根据客户端和服务器选择的随机数，为每个 SSL 会话生成新的对称密钥。（实际上在一个 TLS 会话中使用了几种不同的对称密钥，用于不同的加密服务，以及用于每个通信方向。）

# sqlite - SQLITE 查询以 10 分钟间隔显示最后 1 小时

> ID：12775397
> 
> 赞同：0
> 
> 时间：2012-10-08T04:36:00.580
> 
> 标签：sqlite

我已经搜索了一些以 10 分钟间隔获取最后 1 小时的详细信息，如下所示

如果假设当前时间是 10:30，我期望输出如下，请建议我解决方案。

```
 TIME_SLOT

09:31 - 09:40
09:41 - 09:50
09:51 - 10:00
10:01 - 10:10
10:11 - 10:20
10:21 - 10:30 
```

* * *

我有格式为 (CUSTOMER) 的表格（图 1.1）

```
M_CODE  H_CODE END_TIME_OF_SERVICE ADULT ADULT_F
TKLK    LONE     09:19:16           1     2
TKLK    LONE     09:22:11           4     6
TKLK    LONE     09:32:46           2     7
TKLK    LONE     09:32:46           4     9
TKLK    LONE     10:09:36           1     3 
```

如果我运行（ SELECT strftime('%H:%M', end, '-9 minutes') || ' - ' || strftime('%H:%M', end ) AS time_slot FROM end_times ）它给出正确的输出为（图 - 1.2）

```
09:19 - 09:28
09:29 - 09:38
09:39 - 09:48
09:49 - 09:58
09:59 - 10:08
10:09 - 10:18 
```

你能指导如何映射这两个表，假设CUSTOMER表中的记录应该总结为adult和adult_f列（图1.2到图1.1）

```
 ADULT    ADULT_F    TIME_SLOT
      5        8      09:19 - 09:28
      6       16      09:29 - 09:38
      0        0      09:39 - 09:48
      0        0      09:49 - 09:58
      0        0      09:59 - 10:08
      1        3      10:09 - 10:18 
```

请指导我一个解决方案，感谢您的时间。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:07:00.327

SQL 查询旨在处理存储在表中的数据。如果要*创建*这些日期，将这些值插入临时表可能是最简单的。

或者，您可以一个一个地构造这些值。首先定义当前时间的偏移量：

```
CREATE VIEW intervals AS
SELECT -50 AS offset UNION ALL
SELECT -40           UNION ALL
SELECT -30           UNION ALL
SELECT -20           UNION ALL
SELECT -10           UNION ALL
SELECT   0 
```

然后你可以像这样构造时隙端点：

```
CREATE VIEW end_times AS
SELECT datetime('now', offset || ' minutes') AS end
FROM intervals 
```

然后像这样格式化时隙：

```
SELECT strftime('%H:%M', end, '-10 minutes') || ' - ' ||
       strftime('%H:%M', end               ) AS time_slot
FROM end_times 
```

# javascript - 如何在 JavsScript 中实现同步包装器？

> ID：12775399
> 
> 赞同：0
> 
> 时间：2012-10-08T04:36:17.930
> 
> 标签：javascript, jquery

我在 Javascript 中使用 Googles Analytics api。

它们提供了一种获取列表结果的方法，一旦执行完成，它就会调用带有结果的回调方法。

看起来像这样：

```
gapi.client.analytics.management.accounts.list().execute(handleAccounts); 
```

...

```
function handleAccounts(results) {
        if (!results.code) {
        if (results && results.items && results.items.length) {

// See this code below.

        } else {
            console.log('No accounts found for this user.')
        }
    } else {
        console.log('There was an error querying accounts: ' + results.message);
    }
} 
```

一般来说，这太棒了，但是......我需要一个所有子项目的扁平列表，所以我一直这样打电话：

```
 $.each(results.items, function (index, value) {

gapi.client.analytics.management.webproperties.list({ 'accountId': value.Id}).execute(handleWebproperties);
// and so on..
            }) 
```

问题是，如果在任何级别上你有多个项目，你最终会遇到多个异步调用，我不知道他们什么时候都完成了最终列表。

除了写一些东西来跟踪已经打了多少电话，然后等待总数回来。

我怎样才能很容易地知道他们什么时候都完成了？

谢谢。

总之：

一个用户可以有多个帐户，帐户可以有多个属性，属性可以有多个配置文件。

我需要用户所有帐户的所有配置文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T04:52:52.390

解决此问题的方法是跟踪您已进行（或将要进行）多少次异步调用，并且在每个响应中您收到计数的减量并检查最后一个是否已完成。确保您具有强大的错误处理能力非常重要，以防一个响应生成错误并且未成功完成。

您似乎知道这是一种选择，并且不清楚您为什么不这样做，但这是解决此问题的方法。也可能使用[jQuery deferreds](http://api.jquery.com/category/deferred-object/)来跟踪最后一个完成的时间，但这只是使用一个库来为你计算——它在下面基本上还是一样的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T05:13:55.040

基于我`fork`之前写的函数：Coordinating [parallel execution in node.js。](https://stackoverflow.com/questions/4631774/coordinating-parallel-execution-in-node-js/4631909#4631909)我会这样做：

```
var queryFunctions = []
$.each(results.items, function (index, value) {
    queryFunctions.push(function(callback){
        gapi.client.analytics.management.
            webproperties.list({ 'accountId': value.Id}).
            execute(callback);
    });
})

fork(queryFunctions,function(result){
    // This is the final callback, so do processing here
}) 
```

的实现`fork`很简单：

```
function fork (async_calls, shared_callback) {
  var counter = async_calls.length;
  var all_results = [];
  function makeCallback (index) {
    return function () {
      counter --;
      var results = [];
      // we use the arguments object here because some callbacks 
      // in Node pass in multiple arguments as result.
      for (var i=0;i<arguments.length;i++) {
        results.push(arguments[i]);
      }
      all_results[index] = results;
      if (counter == 0) {
        shared_callback(all_results);
      }
    }
  }

  for (var i=0;i<async_calls.length;i++) {
    async_calls[i](makeCallback(i));
  }
} 
```

如您所见，它所做的只是跟踪`counter`变量中已进行了多少次调用。但这一切都封装在一个函数中，因此您可以重用逻辑。另外，我认为它使代码更整洁。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T05:24:00.280

你可以使用[jQuery Deferred](http://api.jquery.com/category/deferred-object/)特性来做这种事情。基本上，如果您将回调包装在 Deferred 对象中，然后使用[`$.when(...)`](http://api.jquery.com/jQuery.when/)将它们全部组合在一起。

像这样的东西（对您最有意义的确切结构将取决于您如何使用它，此代码假定您需要在每个回调中执行特定的操作并知道它们何时完成）：

```
var promises = [];
$.each(results.items, function (index, value) {
    var deferred = new $.Deferred();
    gapi.client.analytics.management.webproperties.list({ 'accountId': value.Id}).execute(function(results) {
        handleWebproperties(results);
        deferred.resolve();
    });
    promises.push(deferred.promise());
    // and so on...
});

$.when.apply(this, promises).done(function() {
    alert("Everything is finished!");
}); 
```

[请注意，我只是直接在浏览器窗口中编码，所以这可能不是 100% 正常工作。:)]

# objective-c - 使用 NSViewAnimation 使 NSOpenGLViews 淡入淡出

> ID：12775400
> 
> 赞同：1
> 
> 时间：2012-10-08T04:36:29.927
> 
> 标签：objective-c, macos, cocoa, opengl

在我正在创建的应用程序中，我希望`NSOpenGLViews`在用户按下按钮时有一定的淡入和淡出视图。为此，我使用 创建了一个简短的测试应用程序`NSViewAnimation`，尝试在 10 秒内淡出视图。该代码与[这篇文章](https://developer.apple.com/library/mac/#documentation/cocoa/conceptual/AnimationGuide/Articles/ViewAnimations.html)中的代码密切相关。

该代码非常适用于从 继承的一般对象`NSView`，例如`NSBox`对象，但是当我尝试将它与`NSOpenGLView`对象一起使用时，视图在 10 秒钟内什么都不做，然后突然消失。有没有什么额外的事情我必须做才能`NSViewAnimation`使用`NSOpenGLView`，或者`NSViewAnimation`在这种情况下不是适合这项工作的工具？

相关代码：

```
// AppDelegate.m
#import "AppDelegate.h"

@implementation AppDelegate
@synthesize theForeground;  // an instance of a the Foreground class - a subclass of NSOpenGLView
@synthesize theBox;
@synthesize theBackground;

//code omitted

- (IBAction)buttonPressed:(id)sender
{
    NSViewAnimation *theAnim;
    NSMutableDictionary * theViewDict;

    theViewDict = [NSMutableDictionary dictionaryWithCapacity:2];
    [theViewDict setObject: theForeground forKey:NSViewAnimationTargetKey];
    [theViewDict setObject:NSViewAnimationFadeOutEffect
                   forKey:NSViewAnimationEffectKey];

    theAnim = [[NSViewAnimation alloc] initWithViewAnimations:  [NSArrayarrayWithObject:theViewDict]];

    [theAnim setDuration:10.0];
    [theAnim setAnimationCurve:NSAnimationEaseInOut];

    [theAnim startAnimation];

    [theAnim release];
}
@end

// Foreground.m

#import "ForegroundView.h"

@implementation ForegroundView

// code omitted
- (void)drawRect:(NSRect)dirtyRect
{
    glClearColor(0, 0, 0, 1.0);
    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);
    glColor3f(1.0, 0.0, 0.0);
    glBegin(GL_QUADS);
        glVertex2f(-0.5, -0.5);
        glVertex2f(0.5, -0.5);
        glVertex2f(0.5, 0.5);
        glVertex2f(-0.5, 0.5);
    glEnd();
    glFlush();
}

@end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T02:00:46.633

我设法通过创建一个`CAOpenGLLayer`子类来绘制 OpenGL 内容来达到预期的结果。有关 Apple 示例代码，请参见[此处](https://developer.apple.com/library/mac/#samplecode/CALayerEssentials/Listings/ExampleCAOpenGLLayer_h.html)。然后通过以下方式实现淡入和淡出：

```
- (IBAction)buttonPressed:(id)sender
{
    static int isVisible = 1;
    [theGLView.layer setHidden: isVisible];
    isVisible = (isVisible + 1) % 2;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T04:39:57.753

您可以尝试将 NSOpenGLView 分配为容器 NSView 的子视图，其 alphaValue 您使用动画器设置。

```
[[containerView animator] setAlphaValue: 0.0f]; 
```

这对我来说很有用。

# c# - 在 ASP.Net 中使用 Ajax 每 2 秒显示一次当前循环计数器

> ID：12775404
> 
> 赞同：0
> 
> 时间：2012-10-08T04:37:22.007
> 
> 标签：c#, jquery, asp.net, ajax, webforms

我需要在按钮单击事件上运行一个循环（通过记录循环并采取一些行动），我想`i` 使用 UpdatePanel 显示当前循环计数器。它对我不起作用我通过网络搜索但数没有找到类似的例子。它`lblCounter`在完成循环后显示循环计数器，而我需要显示`lblCounter`每个计数器。

即使我必须延迟代码中显示的语句，最好的方法是什么。

下面的代码只是一个例子。如果有人可以帮助我解决这个例子，我将不胜感激。我实际上想遍历表中的每条记录并将电子邮件发送给所有用户。用户数不超过 200 0r 300。

在发送电子邮件时，我要使用已发送的电子邮件数量来更新客户端屏幕，这是我想要使用更新面板实现的基本功能。

标记：

```
<asp:Button ID="btnLoop" runat="server" Text="Start"  onclick="btnLoop_Click"  /><br />

<asp:UpdatePanel ID="updPanelNewsletterProgress" runat="server"
    UpdateMode="Conditional" >
    <ContentTemplate>
         <asp:Label ID="lblCounter" runat="server" Text=""></asp:Label><br />
    </ContentTemplate>
</asp:UpdatePanel> 
```

代码：

```
protected void btnLoop_Click(object sender, EventArgs e)
{
    for (int i = 0; i < 100; i++)
    {
        System.Threading.Thread.Sleep(2000);
        // take some action like send email to user XXX
        lblCounter.Text = "Counter " + i.ToString() + " of 100";
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T05:15:21.263

这是我的解决方案：

```
<asp:UpdatePanel ID="updPanelNewsletterProgress" runat="server" UpdateMode="Conditional" >
    <Triggers>
        <asp:PostBackTrigger ControlID="Timer1" />
    </Triggers>
    <ContentTemplate>
         <asp:Label ID="lblCounter" runat="server" Text=""></asp:Label><br />
    </ContentTemplate>
</asp:UpdatePanel> 

protected void Button1_Click(object sender, EventArgs e)
{
    Timer1.Enabled = true;
}

protected void Timer1_Tick(object sender, EventArgs e)
{
    int i;
    int.TryParse(ViewState["i"] != null ? ViewState["i"].ToString() : "0", out i);
    if(i == 100)
        Timer1.Enabled = false;
    lblCounter.Text = "Counter " + i.ToString() + " of 100";
    ViewState["i"] = ++i;
} 
```

我使用 ViewState 技术是为了不丢失计数器。它有效，让我知道你是否有不同的意思。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T04:54:01.647

您可以使用 Asp Timer 控件来更新您的进度。

```
 <!-- The timer which used to update the progress. -->
        <asp:Timer ID="Timer1" runat="server" Interval="100" Enabled="false" ontick="Timer1_Tick"></asp:Timer>

       <!-- The Label which used to display the progress and the result -->
         <asp:Label ID="lblCounter" runat="server" Text=""></asp:Label><br />            </ContentTemplate>
</asp:UpdatePanel> 
```

或者您可以使用后台工作者类来更新单独线程中的进度。

或者您也可以使用更新进度控件进行进度更新，如下所示：

```
<form id="form1" runat="server">
        <asp:ScriptManager ID="ScriptManager1" runat="server" />
        <asp:UpdateProgress runat="server" id="PageUpdateProgress">
            <ProgressTemplate>
                Loading...
            </ProgressTemplate>
        </asp:UpdateProgress>
        <asp:UpdatePanel runat="server" id="Panel">
            <ContentTemplate>
                <asp:Button runat="server" id="UpdateButton" onclick="UpdateButton_Click" text="Update" />
            </ContentTemplate>
        </asp:UpdatePanel>
    </form> 
```

# wordpress - Wordpress, PHP - 如何检查单个帖子是否包含嵌入的 youtube 视频？

> ID：12775407
> 
> 赞同：1
> 
> 时间：2012-10-08T04:37:41.150
> 
> 标签：wordpress

因此，我试图进行快速布尔检查，以查看是否**`single.php`**包含嵌入任何**youtube****`home.php`**视频的博客文章，如果包含，则在页面上显示嵌入视频的图像。

我认为最好的方法是使用字符串查找器，`php`因为所有`youtube`嵌入的视频都包含如下所示的 HTML：

```
inframe src="http://www.youtube.com/embed/... 
```

但是，问题是我不知道从哪里开始。如果有人可以帮助我如何开始，那就太好了！谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T14:16:24.883

如果所有嵌入的 youtube 视频都是 iframe，这应该可以：

```
<?php $content = get_the_content();
preg_match  ('/<iframe(.+)\"/', $content, $matches);
if ($matches !=""){
$hasiframe = true;}
?>
<?php if ($hasiframe)
{
//do something
} else {
//do something else
} ?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T05:08:04.967

Why don't you just use a Blog Category called "with video" and then run a loop with just that cat on the home page?

```
$query = new WP_Query( 'cat=2' ); //Assuming "id 2" is the category with videos 
```

# c++ - 从函数返回指向结构的指针

> ID：12775409
> 
> 赞同：1
> 
> 时间：2012-10-08T04:38:04.387
> 
> 标签：c++

我正在尝试从函数返回指向我的结构的指针：

```
dbentry* FileReader::parseTrack(int32_t size, char *buffer) {
  dbentry* track;
  int cursor = 0;
  //parse relevant parts
  track.title = this->getFieldForMarker(cursor, size, "tsng" , buffer);
  return track;
} 
```

设置标题显然不起作用，但我不知道该怎么做，我如何从指针中读取值，我尝试了一些转换但似乎没有任何效果，我发现的大部分内容我无法弄清楚如何申请，或者它是为C。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T04:43:10.527

您没有分配结构内存，因此您没有访问和返回内存地址。你需要这样的东西：

```
dbentry* FileReader::parseTrack(int32_t size, char *buffer)
{
    dbentry* track = new dbentry;
    int cursor = 0;
    //parse relevant parts
    track->title = this->getFieldForMarker(cursor, size, "tsng" , buffer);
    return track;
} 
```

请注意，您必须返回结构指针，因此您不想在其返回中取消引用指针，因此只需使用`return track;`而不是`return *track;`.

这样做的原因是 track 已经是一个指针。您将在原始解决方案中返回指针的指针。

所以你会使用这样的函数：

```
dbentry* test = something->parseTrack(size, buffer);
std::cout << test->title;
delete test; 
```

# java - 基于 Web 的 Java 编辑器和编译器

> ID：12775412
> 
> 赞同：1
> 
> 时间：2012-10-08T04:38:27.647
> 
> 标签：java, compiler-construction, editor

我正在构建一个基于 Web 的编辑器，用于根据我的个人兴趣运行简单的 java 程序。并不是说我被困在某个地方，成功构建好的 GUI 允许用户键入 java 程序，发送到编译它的 servlet（使用 Java Compiler API），使用自定义类加载器加载，执行，并将结果作为字符串返回。应用程序非常适合简单的程序。

我的问题是关于改进，如何更好地实现编译器部分（因为将结果返回给用户需要更长的时间）。

我的其他选项如下

1.  通过小程序访问本地 JDK/JVM（如果可用）
2.  JavaScript 中的内置编译器（仍然是幻想？）

我想知道我是否可以通过某种方式使上述选项成为可能？

# java - 在java中获取开始和结束时间

> ID：12775418
> 
> 赞同：1
> 
> 时间：2012-10-08T04:39:43.480
> 
> 标签：java, time

我想从 java gui 获取 startTime 和 endTime 的值到数据库。

电脑座椅类

```
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.TimeZone;

public class SeatMonitoringDesign extends JFrame 
{
public JLabel LStation, LID, LFirstName, LLastName, LTimeIn;
public JLabel[] Astation,Aid, Afirstname, Alastname, Atime;
public JRadioButton[] seat = new JRadioButton[10];
private String str = "";
private int station, occupiedSeatCounter;
private JLabel studNum, seatNum;
private ButtonGroup seatGroup = new ButtonGroup();
private boolean[] seatOccupied = new boolean[10];
private SimpleDateFormat dateFormatter = new SimpleDateFormat("hh:mm:ss");
private JTextField studNumTF;
private JButton logIn, logOut;
private ButtonHandler logInB;
private ButtonHandler logOutB;
private ButtonHandler radioB;

public SeatMonitoringDesign()
{

studNum = new JLabel("Enter Your Student Number: ");
studNum.setLocation(30,20);
studNum.setSize(200,100);

studNumTF = new JTextField(7);
studNumTF.setLocation(50,80);
studNumTF.setSize(120,30);

seatNum = new JLabel("Station Numbers: ");
seatNum.setLocation(60,90);
seatNum.setSize(600,400);

setTitle("Computer Seat Registration");

Container pane = getContentPane();

 pane.setLayout(null);
 pane.add(studNum);
 pane.add(studNumTF);

 setSize(1130,500);
 setResizable(false);
 setLocationRelativeTo(null);
 setDefaultCloseOperation(EXIT_ON_CLOSE);

int x=50,y=150;
for(int i=0 ; i<10 ; i++)
{
switch(i)
{
    case 0: str = "1"; break;
    case 1: str = "2"; break;
    case 2: str = "3"; break;
    case 3: str = "4"; break;
    case 4: str = "5"; break;
    case 5: str = "6"; break;
    case 6: str = "7"; break;
    case 7: str = "8"; break;
    case 8: str = "9"; break;
    case 9: str = "10"; break;
}
seat[i] = new JRadioButton(str);
seat[i].setSize(60,40);
seat[i].setLocation(x,y);
radioB = new ButtonHandler();
seat[i].addItemListener(radioB);
seat[i].setBackground(Color.green);
seatGroup.add(seat[i]);
pane.add(seat[i]);
x=110;

if((i+1)%2==0)
{
    x=50;
    y=y+30;
}
}

for(int i=0 ; i<10 ; i++)
{
seatOccupied[i] = false;
}

logIn = new JButton("Log In");
logIn.setSize(100,30);
logIn.setLocation(15,350);
logIn.setBackground(Color.orange);
logInB = new ButtonHandler();
logIn.addActionListener(logInB);
pane.add(logIn);

logOut = new JButton("Log Out");
logOut.setSize(100,30);
logOut.setLocation(125,350);
logOut.setBackground(Color.orange);
logOutB = new ButtonHandler();
logOut.addActionListener(logOutB);
pane.add(logOut);

LStation = new JLabel("Station #", SwingConstants.CENTER);
LStation.setSize(100,20);
LStation.setLocation(280,60);
pane.add(LStation);

LID = new JLabel("Student Number");
LID.setSize(100,20);
LID.setLocation(450,60);
pane.add(LID);

LFirstName = new JLabel("First Name");
LFirstName.setSize(100,20);
LFirstName.setLocation(630,60);
pane.add(LFirstName);

LLastName = new JLabel("Last Name");
LLastName.setSize(100,20);
LLastName.setLocation(810,60);
pane.add(LLastName);

LTimeIn = new JLabel("Time In");
LTimeIn.setSize(100,20);
LTimeIn.setLocation(990,60);
pane.add(LTimeIn);

Astation = new JLabel[10];
Aid = new JLabel[10];
Afirstname = new JLabel[10];
Alastname = new JLabel[10];
Atime = new JLabel[10];

y=85;
for(int i=0 ; i<10 ; i++)
{ 
switch(i)
{
    case 0: str = "1"; break;
    case 1: str = "2"; break;
    case 2: str = "3"; break;
    case 3: str = "4"; break;
    case 4: str = "5"; break;
    case 5: str = "6"; break;
    case 6: str = "7"; break;
    case 7: str = "8"; break;
    case 8: str = "9"; break;
    case 9: str = "10"; break;
}

Astation[i] = new JLabel(str, SwingConstants.CENTER);
Astation[i].setSize(100,30);
Astation[i].setLocation(280,y);
pane.add(Astation[i]);

Aid[i] = new JLabel("Vacant Station");
Aid[i].setSize(100,30);
Aid[i].setLocation(450,y);
pane.add(Aid[i]);

Afirstname[i] = new JLabel("---------");
Afirstname[i].setSize(100,30);
Afirstname[i].setLocation(630,y);
pane.add(Afirstname[i]);

Alastname[i] = new JLabel("---------");
Alastname[i].setSize(100,30);
Alastname[i].setLocation(810,y);
pane.add(Alastname[i]);

Atime[i] = new JLabel("00:00:00--");
Atime[i].setSize(100,30);
Atime[i].setLocation(990,y);
pane.add(Atime[i]);
y = y+30;
}
setVisible(true);

}

public class ButtonHandler implements ActionListener, ItemListener
{
public void itemStateChanged(ItemEvent e)
{
  for(int i=0 ; i<10 ; i++)
    {
        if(e.getSource() == seat[i])
        station = (i+1);
    }
}

public void actionPerformed(ActionEvent e)
{
LogicalChecker lc = new LogicalChecker();
cobadatabase cb = new cobadatabase(studNumTF.getText());

String output;
Date now1 = new Date();
Date now2 = new Date();

//long secs = (now2.getTime() - now1.getTime()) / 1000;
//long diffSeconds = diff / 1000 % 60; 
//long diffMinutes = diff / (60 * 1000) % 60; 
// long diffHours = diff / (60 * 60 * 1000) % 60;

//long startTime = System.currentTimeMillis();
//long finishTime = System.currentTimeMillis();
//long elapsedTime = finishTime - startTime; 

long diff = (now2.getTime() - now1.getTime());
cobadatabase cb2 = new       cobadatabase(studNumTF.getText(),dateFormatter.format(now1),dateFormatter.format(now2),      diff);

if("Log In".equals(e.getActionCommand()))
{         
    if(station == 0)
    {
        lc.StationCheck(0);
    }
    else if(seatOccupied[station-1] == true)
    {
        lc.StationCheck(2);
    }
    else if(!studNumTF.getText().equals(cb.getStudentNumber()))
    {
         studNumTF.setText("");
         lc.StationCheck(3); 
    }
    else
    {

       seatOccupied[station-1] = true;

            Aid[station-1].setText(cb.getStudentNumber());
            Afirstname[station-1].setText(cb.getFirstName());
            Alastname[station-1].setText(cb.getLastName());  
            seat[station-1].setBackground(Color.red);
            Atime[station-1].setText(dateFormatter.format(now1));
            occupiedSeatCounter++;
    }
}

if("Log Out".equals(e.getActionCommand()))
 {

    if(station == 0)
    {
        lc.StationCheck(0);
    }
    else if(Aid[station-1].getText() == "Vacant Station")
    {
        lc.StationCheck(1);
    }
    else
    {

        Aid[station-1].setText("Vacant Station");
        Afirstname[station-1].setText("---------");
        Alastname[station-1].setText("---------");
        seat[station-1].setBackground(Color.green);
        Atime[station-1].setText("00:00:00");
        seatOccupied[station-1] = false;
        studNumTF.setText("");
        output = "Time Check-Out "+dateFormatter.format(now2)+"\n Total Time: "     +diff;
        JOptionPane.showMessageDialog(null,output, "Check-    Out.",JOptionPane.INFORMATION_MESSAGE);

    }
}

}
} 

} 
```

coba数据库类

```
import java.sql.*;
import java.util.*;
import java.text.*;

public class cobadatabase{
protected String sn,fn,ln,srt, sn2, srt2, et;
protected Long tt;
private Connection conn;
private PreparedStatement st; 

public cobadatabase(){
    try{
       Class.forName("com.mysql.jdbc.Driver");
       conn =   DriverManager.getConnection("jdbc:mysql://localhost/studentrecords","root","");

        }

catch(Exception e){}
}

 public cobadatabase(String sn2, String str2, String et, long tt)
{
    this();
    try
    {
    st = conn.prepareStatement("Insert into time(StudentNumber,StartTime,EndTime,TotalTime) values(?,?,?,?)");
    st.setString(1,sn2);
    st.setString(2,str2);
    st.setString(3,et);
    st.setLong(4,tt);
    st.executeUpdate();

}
catch(Exception e){}
}

public cobadatabase(String StudentNumber)
{

    this();
    try{
       st = conn.prepareStatement("SELECT * FROM student WHERE StudentNumber=?");
       st.setString(1,StudentNumber);
       ResultSet rs = st.executeQuery();

            while (rs.next())
            {
                this.sn = rs.getString(1);
                this.fn = rs.getString(2);
                this.ln = rs.getString(3);
                this.srt = rs.getString(4);

                SimpleDateFormat ft = new SimpleDateFormat("kk:mm:ss");
                ft.format(rs.getTime("TotalTime").getTime());
            }   
}
catch(Exception e){}
}

public cobadatabase(String StudentNumber2, String Start, String End)
{

    this();
    try{
       st = conn.prepareStatement("SELECT * FROM time WHERE StudentNumber2=?");
       st.setString(2,Start);
       st.setString(3,End);
       ResultSet rs = st.executeQuery();
            while (rs.next())
            {
                this.sn2 = rs.getString(1);
                this.srt2 = rs.getString(2);
                this.et = rs.getString(3);
                this.tt = rs.getLong(4);
            }
    }
    catch(Exception e){}
}

    public String getFirstName(){
    return fn;
}
    public String getLastName(){
    return ln;
}
    public String getStudentNumber(){
    return sn;
}
    public String getStart(){
    return srt2;
}
    public String getEnd(){
    return et;
}

} 
```

这里的问题是，当单击登录按钮时，开始时间同时显示在我的数据库中的 startTime 和 endTime 列上。当单击注销按钮时，会在数据库中创建另一行，其中包含 startTime 和 endTime 列上的 endTime。我想知道为什么会发生这种情况。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T05:07:09.603

Look at the following URL [http://www.mkyong.com/java/java-how-to-get-current-date-time-date-and-calender/](http://www.mkyong.com/java/java-how-to-get-current-date-time-date-and-calender/) Use it at the begining of the app, and at the end.

If you are measuring the time looking how long the app executed, the above is not the best I guess. In case of that, try something like following

```
import java.util.*;

public class VectorTest
{
    Vector v = new Vector();

    public VectorTest()
    {
        long startTime = System.currentTimeMillis(); // Get the start Time
        long endTime = 0;

       System.out.println( startTime);

       for(int i=0;i<100000;i++)
       {
           v.add(i);
       }

        for(int i=0;i<v.size();i++)
        {
            System.out.println(v.get(i));
        }
        endTime = System.currentTimeMillis(); //Get the end Time

        System.out.println(endTime);

        System.out.println("Difference in mili seconds: "+ (endTime-startTime)); //Print the difference in mili seconds
        System.out.println("Differencce in Seconds: "+ (endTime-startTime)/1000); // Print the difference in seconds

    }

    public static void main(String[]args)
    {
        new VectorTest();
    }
} 
```

**EXTRA ADVISES FOR GOOD PROGRAMMING PRACTICES**

1.  Look at the 3rd overloaded "CodeBase" constructor. You have 1 parameter in SQL query, but trying to set 2 in program, EVEN WITH invalid indexes 2 and 3

2.  Close the connection inside the finally block

3.  don't leave catch() method empty. Print the stack trace

4.  Don't use the same PreparedStament everywhere. Crate them as local variables not as global ones. Sometimes there are delays in automated connection closing methods in databases. In such a case, your program will act in an unexpected way. If you declare them locally, the variables are gone as soon as the method is don e

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T04:55:13.133

您应该尝试设置单击正确按钮的时间，而不是为同一个按钮设置开始时间和结束时间。我会为 startTime 设置一个全局变量并像这样计算

```
private long startTime = null;
public void actionPerformed(ActionEvent e) {
    LogicalChecker lc = new LogicalChecker();
    cobadatabase cb = new cobadatabase(studNumTF.getText());

    String output;

    //long secs = (now2.getTime() - now1.getTime()) / 1000;
    //long diffSeconds = diff / 1000 % 60; 
    //long diffMinutes = diff / (60 * 1000) % 60; 
    // long diffHours = diff / (60 * 60 * 1000) % 60;

    //long startTime = System.currentTimeMillis();
    //long finishTime = System.currentTimeMillis();
    //long elapsedTime = finishTime - startTime; 

    long diff = (now2.getTime() - now1.getTime());
    cobadatabase cb2 = new cobadatabase(studNumTF.getText(),dateFormatter.format(now1),dateFormatter.format(now2),     diff);

    if("Log In".equals(e.getActionCommand())){    
         this.startTime = new Date().getTime(); // set start time
         ... do stuff
    } else if("Log Out".equals(e.getActionCommand())){   
         long totalTime =  new Date().getTime() - this.startTime(); // calculate total time
         ... do stuff

    }
} 
```

# php - 如何让 AJAX 使用 POST 而不是 GET

> ID：12775427
> 
> 赞同：1
> 
> 时间：2012-10-08T04:41:06.240
> 
> 标签：php, javascript, jquery, ajax

我在这里得到了这个工作代码：

```
$(document).ready(function(){
    var ajaxRequest;  // The variable that makes Ajax possible!

    try {
        // Opera 8.0+, Firefox, Safari
        ajaxRequest = new XMLHttpRequest();
    } catch (e) {
        // Internet Explorer Browsers
        try{
            ajaxRequest = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try{
                ajaxRequest = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {
                // Something went wrong
                alert("Your browser broke!");
                return false;
            }
        }
    }

    $('#response').hide();

    $('#addroom').click(function(){
        var url = "./scripts/addnew_room.php";

        var room_num = document.getElementById('rm_num').value;
        var room_type = document.getElementById('rm_type').value;
        var tosend = "&rm_num="+room_num+"&rm_type="+room_type;

        ajaxRequest.open("POST", url, true);
        ajaxRequest.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        ajaxRequest.onreadystatechange = function(){

            if(ajaxRequest.readyState == 4 && ajaxRequest.status == 200) {
                var return_data = ajaxRequest.responseText;
                document.getElementById("response").innerHTML = return_data;    
            }
        }
        ajaxRequest.send(tosend);
        $('#response').show();
        document.getElementById("response").innerHTML = '<img src="./ajax-images/ajax-loader.gif">';
    });
}); 
```

有人可以告诉我为什么它没有将变量发送到 POST 方法中，即使我将方法设置为 POST，它仍然使用 GET 方法并破坏我的页面！！！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T04:42:10.743

你可以使用这样的东西

```
$.POST("url.com", {name: "John", location: "Boston"}, function(){

}) 
```

[`POST()`](http://api.jquery.com/jQuery.post/)是一个jquery函数

你也可以使用jquery[`ajax()`](http://api.jquery.com/jQuery.ajax/)函数

```
$.ajax({
type:"POST",
url:"url.php",
data: { name: "John", location: "Boston" },
}).done(function(data){
// this is very simple to get or post data
$("#response").html(data);
}) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T04:47:08.810

最干净的方法就是使用 jQuery 的漂亮[`$.post()`](http://api.jquery.com/jQuery.post/)功能：

```
$(document).ready(function() {
    $('#response').hide();

    $('#addroom').click(function() {
        $('<img />', {src: 'ajax-images/ajax-loader.gif'}).appendTo('#response');

        $.post({
            url: 'scripts/addnew_room.php',
            data: {
                rm_num: $('#rm_num').val(),
                rm_type: $('#rm_type').val()
            },
            success: function(response) {
                $('#response').html(response);
            }
        });
    });
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T04:45:57.307

或类似的东西

```
ajax = $.ajax({
    type: "POST",
    url: "your_php_page.php",
    data: "a=1&b=2",
    success: function(msg){     
        //success handler
    },
    error: function(msg){
       //error handler
    }
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-08T04:53:57.363

尝试这个：

```
function test_form(){
    var cnt = $("#formid").serialize();
    $.ajax({
    method: 'POST',
    url: 'url to your function',
    data: cnt,
    success: function(msg){
        //required code
    }
    });
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-08T05:34:16.440

你也可以用这个

```
dataValues = "a=1&b=2";
$.post("your_php_page.php", dataValues, function(data){

},"json"); 
```

//在你的php文件“your_php_page.php”中

```
$a = $_POST['a']; 
```

//也可以这样返回json格式的数据

```
$returnData = array();
echo json_encode($returnData); 
```

# jsf - 如何修复 JSF 数据表中的交替 columnClasses？

> ID：12775434
> 
> 赞同：1
> 
> 时间：2012-10-08T04:42:08.110
> 
> 标签：jsf, datatable, websphere-portal

我有一个 JSR-168 portlet 应用程序，其中一些 portlet 使用 JSF 数据表。

所有数据表都具有如下属性：

```
columnClasses="wpsTableDataStart,,,,wpsTableDataEnd"

```

类数与表中的列数相匹配。

该应用程序最初安装在 WebSphere Portal 6.0 上。
在该服务器版本上，为数据表生成的 HTML 始终将“wpsTableDataStart”作为第一列的类，“wpsTableDataEnd”作为最后一列的类，其他列没有类。这是我在阅读有关 dataTable 属性时所期望的。

我最近在 WebSphere Portal 7.0 上安装了相同的应用程序。
我必须在 Rational Application Developer 中升级项目方面并更改“faces-config.xml”文件中的一些类引用以使应用程序工作，现在它正在为 dataTable 列类生成不同的 HTML。
不是只在表的第一列和最后一列有类，而是交替使用两个非空白类。
即第一列有“wpsTableDataStart”类，第二列有“wpsTableDataEnd”类，其他列交替这些类。

如何使 columnClasses 属性的行为与 Portal 6.0 上的行为相同？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T06:20:18.090

通过将空白类更改为空格来解决。例如，以下在 WebSphere Portal 7.0 上产生所需的结果：

```
columnClasses="wpsTableDataStart, , , ,wpsTableDataEnd"
```

# joomla - 美德 2 如何在特定类别中修改产品显示

> ID：12775439
> 
> 赞同：1
> 
> 时间：2012-10-08T04:42:22.273
> 
> 标签：joomla, virtuemart

我正在使用 joomla 并在网上商店使用 virtumart 2 我想让产品连续显示一个，就像我通过 mart 功能在首页上所做的那样，但我无法在特定类别中找到任何选项来执行此操作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-20T18:19:54.027

There is an option to set how many products you want to display in a row:

```
Configuration -> Templates -> Default number of products in a row 
```

Hope this helps

# java - 在 html 表中填充上传的文件名和大小，当用户第二次选择文件时附加新值

> ID：12775443
> 
> 赞同：0
> 
> 时间：2012-10-08T04:43:04.007
> 
> 标签：java, jquery, spring, jsp

问题是我有一个表，我想在用户单击选择文件按钮并选择任意数量的文件后填充文件名和文件大小的值，现在问题是如果用户第二次单击选择文件按钮我想追加表中的新值并在数组中添加新文件以便它可以上传..我的代码是，

**html表单代码：**

```
<form id="simpleuploadform" method="post" action="upload" enctype="multipart/form-data">
<table class="span10" border="0">
    <tr>
        <td colspan="3">
            <legend>Simple Upload</legend>
        </td>
    </tr>
    <tr>
        <td>
            <input type="file" name="files[]" multiple="multiple" onchange="getFileSizeandName(this);"/>
            <div id="successdiv" hidden="true" class="label label-success">Image uploaded successfully</div>
            <div id="errordiv" hidden="true" class="label label-error">Image not successfully uploaded</div>
            <div id="streamdiv" hidden="true" class="label label-warning">Issue while uploading try again</div>
        </td>
        <td id="renameFile" align="right"></td>
        <td id="removeFile" align="right"></td>
    </tr>
    <tr>    
        <td colspan="3">
            <div id="uploaddiv">
                <table id="uploadTable" class="table table-striped table-bordered" width="200" height="200" scrolling="yes">
                    <thead>
                        <tr>
                            <th>Title</th>
                            <th>Size</th>
                        </tr>
                    </thead>
                    <tbody id="tbodyid">
                        <tr id="tr0">
                            <td id="filetd0" height="10px" width="50px"></td>
                            <td id="filesizetd0" height="10px" width="5px"></td>
                        </tr>
                        <tr id="tr1">
                            <td id="filetd1" height="10px" width="50px"></td>
                            <td id="filesizetd1" height="10px" width="5px"></td>
                        </tr>
                        <tr id="tr2">
                            <td id="filetd2" height="10px" width="50px"></td>
                            <td id="filesizetd2" height="10px" width="5px"></td>
                        </tr>
                        <tr id="tr3">
                            <td id="filetd3" height="10px" width="50px"></td>
                            <td id="filesizetd3" height="10px" width="5px"></td>
                        </tr>
                        <tr id="tr4">
                            <td id="filetd4" height="10px" width="50px"></td>
                            <td id="filesizetd4" height="10px" width="5px"></td>
                        </tr>                                           
                    </tbody>
                    <tfoot>
                        <tr>
                            <td id="filecount" height="10px" width="50px"></td>
                            <td id="totalsize" height="10px" width="5px"></td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </td>
    </tr>
    <tr>
        <td colspan="3">
            <input type="submit" class="btn btn-primary" onClick="CloseAndRefresh();" value="Start Upload" id="startButton" disabled>
            <input type="reset" class="btn btn-primary" onClick="Clear();" value="Clear" id="clearButton" disabled>
            <input type="button" class="btn" onClick="window.close();" value="Close">
        </td>   
    </tr>
</table> 
```

**javascript代码：**

```
<script type="text/javascript">
var totalsizeOfUploadFiles = 0;
function getFileSizeandName(input)
{
    var select = $('#uploadTable tbody');
    $('#renameFile').empty();$('#removeFile').empty();

    if(input.files.length > 0)
    {
        $('#renameFile').append($('<a id="renameRec">Rename Selected</a>'));
        $('#removeFile').append($('<a id="removeRec">Remove Selected</a>'));
        $('#startButton').removeAttr("disabled", "disabled");
        $('#clearButton').removeAttr("disabled", "disabled");
    }
    //if(input.files.length <= 5)
    //{
        for(var i =0; i<input.files.length; i++)
        {           
            var filesizeInBytes = input.files[i].size;
            var filesizeInMB = (filesizeInBytes / (1024*1024)).toFixed(2);
            var filename = input.files[i].name;
            //alert("File name is : "+filename+" || size : "+filesizeInMB+" MB || size : "+filesizeInBytes+" Bytes");

            if(i<=4)
            {               
                $('#filetd'+i+'').text(filename);
                $('#filesizetd'+i+'').text(filesizeInMB);
            }
            else if(i>4)
                select.append($('<tr id=tr'+i+'><td id=filetd'+i+'>'+filename+'</td><td id=filesizetd'+i+'>'+filesizeInMB+'</td></tr>'));

            totalsizeOfUploadFiles += parseFloat(filesizeInMB);
            $('#totalsize').text(totalsizeOfUploadFiles.toFixed(2)+" MB");
            if(i==0)
                $('#filecount').text("1file");
            else
            {
                var no = parseInt(i) + 1;
                $('#filecount').text(no+"files");
            }                       
        }
    //}
}

function CloseAndRefresh() 
{
    var daa = '<%=status%>';
    if(daa == "true")
        $('#successdiv').show();
    else if(daa == "false")
        $('#errordiv').show();
    else
        $('#streamdiv').show();
    opener.location.reload(true);
    self.close();       
}

function Clear()
{
    $('#uploadTable tbody tr td').each(function(){
        $(this).text("");
    });
    $('#uploadTable tfoot tr td').each(function(){
        $(this).text("");
    });
} 
```

我正在尝试像这样[http://www.shutterfly.com/](http://www.shutterfly.com/)图片上传。

任何帮助将不胜感激，谢谢朋友...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T13:35:35.327

您正在使用 javascript 导航，`CloseAndRefresh`单击提交按钮时的功能。

实际发生的是上传请求正在提交，而`CloseAndRefresh`函数几乎同时使用不同的线程执行。如果上传请求速度不够快，网页将首先刷新，您的上传请求会立即终止。使用现有代码没有简单的方法可以防止这种情况发生。

您应该使用 jQuery 上传插件等高级上传方法来发送请求。该插件提供了一个活页夹来执行成功/失败的提交功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-12T09:56:10.277

Thank you gigadot, i solve the issue as like below,

The html form have the same code as i posted earlier, in the previous js code i have the `CloseAndRefresh()` method i remove it now from js as well as from the submit button onclick event.

When the form action called the controller, in which i have the code

```
@RequestMapping(value = "/upload", method = RequestMethod.POST)
public String UploadReceipts(@RequestParam("files[]") List<MultipartFile> file, Model model) throws IOException {
            boolean status = false;
    try
    {
        for(int i=0; i< file.size(); i++)
        {
            if(!file.get(i).isEmpty())
            {
                CommonsMultipartFile cm = (CommonsMultipartFile) file.get(i);
                status = simpleUploadService.uploadFileandSave(cm);
                model.addAttribute("status", status);
            }
        }
    }
    catch (IOException e) {
        status = false;
        model.addAttribute("status", status);
    }
    return "pages/simpleUploadStatus";
} 
```

Now i redirect it to another page in which i throws the appropriate messages for the user. that's all...

# php - 如何将 Drupal 节点对象传递给另一个 Drupal 实例？

> ID：12775446
> 
> 赞同：0
> 
> 时间：2012-10-08T04:43:23.080
> 
> 标签：php, drupal-7

我可以将节点对象传递`$node`给另一个 Drupal 实例（另一个 Drupal 站点）吗？

*   让我们忘记节点冲突......和问题等......
*   是否可以将 Drupal 节点对象传递给另一个 Drupal 实例？
*   如何将该节点传递到另一个 Drupal 站点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T21:27:19.190

纯粹假设地说，你可以。我将忽略您在尝试此操作时会遇到的许多问题（最大 POST 大小，假设两个站点具有相同的节点类型和字段，等等。）

在您的 Drupal 站点“A”（您的发件人）上，我假设您的脚本是一个名为“mysendermodule”的自定义模块中的 PHP 脚本，而在您的 Drupal 站点“B”（您的接收者）上，您有一个名为“myrecievermodule”的自定义模块”。

您的发送者模块需要以一种可以将其作为 POST 变量发送的方式对 $node 对象进行编码（同样，我们忽略了 MAX Post 大小的问题）。我将选择对其进行 json 编码，然后进行 base64 编码以删除任何特殊字符。您的 Sender 模块将使用 cURL 向 Destination 发出 POST 请求。然后它将等待响应以查看它是否成功，如下所示：

```
<?php
    function mysendermodule_sendNode($node){
        $destination = "http://www.otherdrupalsite.com/recieve-node";
        //encode the node to be sent
        $encoded = base64_encode(json_encode($node));
        //built POSTVARS
        $postvars = 'node='.$encoded;

        //make cURL call to send the node
        $ch = curl_init($destination);
        curl_setopt($ch,CURLOPT_POST,1);
        curl_setopt($ch,CURLOPT_POSTFIELDS,$postvars);
        curl_setopt($ch, CURLOPT_HEADER      ,0);  // DO NOT RETURN HTTP HEADERS
        curl_setopt($ch, CURLOPT_RETURNTRANSFER  ,1);  // RETURN THE CONTENTS OF THE CALL
        $return= curl_exec($ch);
        curl_close($ch);
        //see if we got back a success message
        if ($return == 'TRUE'){
            return true;
        }
        return false;
    } 
```

现在在您的另一个 Drupal 站点（接收器）上使用自定义接收器模块。它首先需要使用菜单挂钩创建一个目标点来接收节点。然后它需要解码接收到的节点，使用 node_save 以编程方式插入它并返回成功或失败。像这样：

```
<?php   
    function myrecievermodule_menu(){
        $items['recieve-node'] = array(
            'page callback' => 'myrecievermodule_recieveNode',
            'access arguments' => array('access content'),
            'type' => MENU_CALLBACK,
        );
        return $items;
    }

    function myrecievermodule_recieveNode(){
        $message = 'FALSE';
        //did we recieve a node?
        if ($_POST['node']){
            //decode it
            $node = json_decode(base64_decode($_POST['node']));
            //does it have a valid node object field?
            if (isset($node->title)){
                //attempt to save it (will return nid if successful)
                if (node_save($node)){
                    $message = 'TRUE';
                }
            }
        }
        //return just the output of message.
        ob_clean();
        ob_start();
        echo $message;
        ob_end_flush();
        exit;
    } 
```

同样，这忽略了您在实现此功能时将面临的许多问题，但是这是可能的。

# python - 在 Python 中通过谓词对可迭代对象进行分组

> ID：12775449
> 
> 赞同：9
> 
> 时间：2012-10-08T04:43:37.733
> 
> 标签：python, performance, iterator

我正在解析这样的文件：

```
--标题--
数据1
数据2
--标题--
数据3
数据4
数据5
--标题--
--标题--
...

```

我想要这样的团体：

```
[ [header, data1, data2], [header, data3, data4, data5], [header], [header], ... ] 
```

所以我可以像这样遍历它们：

```
for grp in group(open('file.txt'), lambda line: 'header' in line):
    for item in grp:
        process(item) 
```

并将检测组逻辑与处理组逻辑分开。

但是我需要一个可迭代的迭代，因为这些组可以任意大，我不想存储它们。也就是说，每次遇到“哨兵”或“标题”项目时，我都想将一个可迭代对象拆分为子组，如谓词所示。似乎这将是一项常见任务，但我找不到有效的 Pythonic 实现。

这是愚蠢的追加到列表的实现：

```
def group(iterable, isstart=lambda x: x):
    """Group `iterable` into groups starting with items where `isstart(item)` is true.

    Start items are included in the group.  The first group may or may not have a 
    start item.  An empty `iterable` results in an empty result (zero groups)."""
    items = []
    for item in iterable:
        if isstart(item) and items:
            yield iter(items)
            items = []
        items.append(item)
    if items:
        yield iter(items) 
```

感觉必须有一个不错的`itertools`版本，但它让我望而却步。'明显'（？！）`groupby`解决方案似乎不起作用，因为可能存在相邻的标题，并且它们需要分成不同的组。我能想到的最好的办法是（ab）使用`groupby`一个保持计数器的关键功能：

```
def igroup(iterable, isstart=lambda x: x):
    def keyfunc(item):
        if isstart(item):
            keyfunc.groupnum += 1       # Python 2's closures leave something to be desired
        return keyfunc.groupnum
    keyfunc.groupnum = 0
    return (group for _, group in itertools.groupby(iterable, keyfunc)) 
```

但我觉得 Python 可以做得更好——遗憾的是，这甚至比哑列表版本还要慢：

```
#ipython
%time deque(group(xrange(10 ** 7), lambda x: x % 1000 == 0), maxlen=0)
CPU 时间：用户 4.20 秒，系统：0.03 秒，总计：4.23 秒

%time deque(igroup(xrange(10 ** 7), lambda x: x % 1000 == 0), maxlen=0)
CPU 时间：用户 5.45 秒，系统：0.01 秒，总计：5.46 秒

```

为了方便您，这里有一些单元测试代码：

```
class Test(unittest.TestCase):
    def test_group(self):
        MAXINT, MAXLEN, NUMTRIALS = 100, 100000, 21
        isstart = lambda x: x == 0
        self.assertEqual(next(igroup([], isstart), None), None)
        self.assertEqual([list(grp) for grp in igroup([0] * 3, isstart)], [[0]] * 3)
        self.assertEqual([list(grp) for grp in igroup([1] * 3, isstart)], [[1] * 3])
        self.assertEqual(len(list(igroup([0,1,2] * 3, isstart))), 3)        # Catch hangs when groups are not consumed
        for _ in xrange(NUMTRIALS):
            expected, items = itertools.tee(itertools.starmap(random.randint, itertools.repeat((0, MAXINT), random.randint(0, MAXLEN))))
            for grpnum, grp in enumerate(igroup(items, isstart)):
                start = next(grp)
                self.assertTrue(isstart(start) or grpnum == 0)
                self.assertEqual(start, next(expected))
                for item in grp:
                    self.assertFalse(isstart(item))
                    self.assertEqual(item, next(expected)) 
```

那么：如何在 Python 中通过谓词优雅高效地对可迭代对象进行分组？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-08T20:33:02.320

> 如何在 Python 中通过谓词优雅高效地对可迭代对象进行分组？

这是一个简洁、节省内存的实现，与您的问题非常相似：

```
from itertools import groupby, imap
from operator import itemgetter

def igroup(iterable, isstart):
    def key(item, count=[False]):
        if isstart(item):
           count[0] = not count[0] # start new group
        return count[0]
    return imap(itemgetter(1), groupby(iterable, key)) 
```

它支持无限组。

`tee`基于 - 的解决方案稍微快一些，但它会消耗当前组的内存（类似于`list`问题中基于 - 的解决方案）：

```
from itertools import islice, tee

def group(iterable, isstart):
    it, it2 = tee(iterable)
    count = 0
    for item in it:
        if isstart(item) and count:
            gr = islice(it2, count)
            yield gr
            for _ in gr:  # skip to the next group
                pass
            count = 0
        count += 1
    if count:
       gr = islice(it2, count)
       yield gr
       for _ in gr:  # skip to the next group
           pass 
```

`groupby`- 解决方案可以在纯 Python 中实现：

```
def igroup_inline_key(iterable, isstart):
    it = iter(iterable)

    def grouper():
        """Yield items from a single group."""
        while not p[START]:
            yield p[VALUE]  # each group has at least one element (a header)
            p[VALUE] = next(it)
            p[START] = isstart(p[VALUE])

    p = [None]*2 # workaround the absence of `nonlocal` keyword in Python 2.x
    START, VALUE = 0, 1
    p[VALUE] = next(it)
    while True:
        p[START] = False # to distinguish EOF and a start of new group
        yield grouper()
        while not p[START]: # skip to the next group
            p[VALUE] = next(it)
            p[START] = isstart(p[VALUE]) 
```

为了避免重复代码，`while True`循环可以写成：

```
while True:
    p[START] = False  # to distinguish EOF and a start of new group
    g = grouper()
    yield g
    if not p[START]:  # skip to the next group
        for _ in g:
            pass
        if not p[START]:  # EOF
            break 
```

虽然以前的变体可能更明确和可读。

我认为纯 Python 中的通用内存高效解决方案不会比`groupby`基于 - 的解决方案快得多。

如果`process(item)`比较快`igroup()`并且可以在字符串中有效地找到标头（例如，对于固定的静态标头），那么[您可以通过大块读取文件并拆分标头值来提高性能](https://stackoverflow.com/questions/9371238/why-is-reading-lines-from-stdin-much-slower-in-c-than-python#comment11966378_9371238)。它应该使您的任务受 IO 限制。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-08T05:10:07.103

我没有完全阅读您的所有代码，但我认为这可能会有所帮助：

```
from itertools import izip, tee, chain

def pairwise(iterable):
    a, b = tee(iterable)
    return izip(a, chain(b, [next(b, None)]))

def group(iterable, isstart):

    pairs = pairwise(iterable)

    def extract(current, lookahead, pairs=pairs, isstart=isstart):
        yield current
        if isstart(lookahead):
            return
        for current, lookahead in pairs:
            yield current
            if isstart(lookahead):
                return

    for start, lookahead in pairs:
        gen = extract(start, lookahead)
        yield gen
        for _ in gen:
            pass

for gen in group(xrange(4, 16), lambda x: x % 5 == 0):
    print '------------------'
    for n in gen:
        print n

print [list(g) for g in group([], lambda x: x % 5 == 0)] 
```

结果：

```
$ python gen.py
------------------
4
------------------
5
6
7
8
9
------------------
10
11
12
13
14
------------------
15
[] 
```

编辑：

这是另一种解决方案，与上述类似，但没有 the `pairwise()`and 一个哨兵。我不知道哪个更快：

```
def group(iterable, isstart):

    sentinel = object()

    def interleave(iterable=iterable, isstart=isstart, sentinel=sentinel):
        for item in iterable:
            if isstart(item):
                yield sentinel
            yield item

    items = interleave()

    def extract(item, items=items, isstart=isstart, sentinel=sentinel):
        if item is not sentinel:
            yield item
        for item in items:
            if item is sentinel:
                return
            yield item

    for lookahead in items:
        gen = extract(lookahead)
        yield gen
        for _ in gen:
            pass 
```

现在两者都通过了测试用例，这要感谢 JFSebastians 的想法，即耗尽跳过的子组生成器。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-08T05:32:42.700

关键是你必须编写一个生成子生成器的生成器。我的解决方案在概念上与@pillmuncher 的解决方案相似，但更加独立，因为它避免使用 itertools 机器制作辅助生成器。缺点是我必须使用一个有点不雅的临时列表。在 Python 3 中，这也许可以用`nonlocal`.

```
def grouper(iterable, isstart):
    it = iter(iterable)
    last = [next(it)]
    def subgroup():
        while True:
            toYield = last[0]
            try:
                last.append(next(it))
            except StopIteration, e:
                last.pop(0)
                yield toYield
                raise StopIteration
            else:
                yield toYield
                last.pop(0)
            if isstart(last[0]):
                raise StopIteration
    while True:
        sg = subgroup()
        yield sg
        if len(last) == 2:
            # subgenerator was aborted before completion, let's finish it
            for a in sg:
                pass
        if last:
            # sub-generator left next element waiting, next sub-generator will yield it
            pass
        else:
            # sub-generator left "last" empty because source iterable was exhausted
            raise StopIteration

>>> for g in grouper([0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 0], lambda x: x==0):
...     print "Group",
...     for i in g:
...         print i,
...     print
Group 0 1 1
Group 0 1
Group 0 1 1 1 1
Group 0 
```

我不知道这在性能方面是什么样的，我只是这样做是因为这只是一件有趣的事情。

编辑：我对你原来的两个和我的进行了单元测试。看起来我的比你的快一点，`igroup`但仍然比基于列表的版本慢。在这里，您必须在速度和内存之间做出权衡，这似乎很自然。如果您知道组不会太大，请使用基于列表的版本以提高速度。如果组可能很大，请使用基于生成器的版本来降低内存使用量。

编辑：上面的编辑版本以不同的方式处理中断。如果你跳出子生成器但恢复外部生成器，它将跳过中止组的其余部分并从下一个组开始：

```
>>> for g in grouper([0, 1, 2, 88, 3, 0, 1, 88, 2, 3, 4, 0, 1, 2, 3, 88, 4], lambda x: x==0):
...     print "Group",
...     for i in g:
...         print i,
...         if i==88:
...             break
...     print
Group 0 1 2 88
Group 0 1 88
Group 0 1 2 3 88 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T01:36:24.350

`groupby`所以这是另一个版本，它试图将来自with的子组对拼接在一起`chain`。对于给定的性能测试，它明显更快，但当有很多小组时（比如`isstart = lambda x: x % 2 == 0`）要慢得多。它欺骗和缓冲重复的标题（你可以用 read-all-but-last 迭代器技巧来解决这个问题）。这也是优雅部门的退步，所以我想我还是更喜欢原版。

```
def group2(iterable, isstart=lambda x: x):
    groups = itertools.groupby(iterable, isstart)
    start, group = next(groups)
    if not start:                   # Deal with initial non-start group
        yield group
        _, group = next(groups)
    groups = (grp for _, grp in groups)
    while True:                     # group will always be start item(s) now      
        group = list(group)         
        for item in group[0:-1]:    # Back-to-back start items... and hope this doesn't get very big.  :)
            yield iter([item])      
        yield itertools.chain([group[-1]], next(groups, []))       # Start item plus subsequent non-start items
        group = next(groups) 
```

```
%time deque(group2(xrange(10 ** 7), lambda x: x % 1000 == 0), maxlen=0)
CPU 时间：用户 3.13 秒，系统：0.00 秒，总计：3.13 秒

```

# .net - 匹配可选的捕获组

> ID：12775451
> 
> 赞同：1
> 
> 时间：2012-10-08T04:43:56.053
> 
> 标签：.net, regex

我想匹配一个 xml 元素并为一个可选属性创建一个组。如果该属性不存在，那么我将执行一些其他操作。例如我有

```
<customer display="no"> 
```

我想匹配客户元素，但显示属性可能不存在。在代码中，我将检查该捕获组是否为空，如果是，则执行一些自定义逻辑。

所以我的正则表达式是

```
<customer.*(display="yes|no").*?> 
```

当它具有属性时，它与元素匹配，但是我如何使组成为可选的，以便我可以检查是否包含该元素？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T04:52:53.500

您可以在组后面放一个问号，就像正则表达式的任何其他可选组件一样。如果这样做，您还必须使第一个`.*`懒惰（通过添加`?`），否则它将消耗整行。

所以你应该有这样的东西：

```
<customer.*?(display="yes|no")?.*?> 
```

另请注意，它`(display="yes|no")`可能与您想要的不匹配：它匹配`display="yes`或`no"` *不* `display="yes"`匹配或`display="no"`. 我怀疑你想要`(display="(?:yes|no)")`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T04:49:32.550

试试这个正则表达式：

```
<customer.*?(display="(?:yes|no)").*?> 
```

解释：

> ***`?`***
> 
> 匹配前一个元素零次或一次。
> 
> ***`*?`***
> 
> 匹配前一个元素零次或多次，但尽可能少。
> 
> ***`(?: subexpression)`***
> 
> 定义一个非捕获组。

# matlab - Matlab - 如何使图形成为当前的？如何使轴电流？

> ID：12775452
> 
> 赞同：14
> 
> 时间：2012-10-08T04:43:59.230
> 
> 标签：matlab, matlab-figure

如果`f`是图形手柄，我想像使用`plot3(..)`一样使用它`plot(..)`，但这不起作用：

```
>> plot3(f, t, real(Y), imag(Y))
Error using plot3
Vectors must be the same lengths. 
```

然后我发现这样做的方法是：

1.  首先使相关的数字成为*当前*的。

2.  然后使用该`plot3(..)`功能。

我可以找到当前图形正在使用的内容`gcf`，但是如何使图形成为当前图形（通过其句柄）？

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-10-08T06:26:01.237

这种方法有我个人的喜好：

```
set(0, 'currentfigure', f);  %# for figures
set(f, 'currentaxes', axs);  %# for axes with handle axs on figure f 
```

因为这些命令是它们自己的文档。我发现

```
figure(f) 
```

初读之类的令人困惑的东西-您是否创建了一个新人物？还是仅仅激活现有的？-> 需要更多地阅读上下文。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-10-08T04:43:59.230

它实际上就像将`f`反馈反馈到`figure(..)`命令中一样简单：

```
figure(f)    %Makes the figure current. 
```

另外，如果我做了这样的事情：

```
f = figure('IntegerHandle','off');    % With unique, non-reusable handle.
top = subplot(2, 1, 1);
bot = subplot(2, 1, 2); 
```

然后我可以通过发出这样的命令来制作*轴* `top`或电流：`bottom`

```
subplot(top); 
```

这也有效：

```
axes(top); 
```

但是这两种类型的手柄不能混合使用：在轴手柄上工作，而`axes(..)`在图形手柄上工作。`subplot(..)``figure(..)`

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-01-10T13:46:29.580

而其他人已经为您提供了您所要求的内容（如何制作轴或绘制当前轴）。我首选的处理方法是在调用`plot3`.

如果查看[文档](https://www.mathworks.com/help/matlab/ref/plot3.html)，您将看到可以将父轴指定为函数的第一个参数。如果看起来您试图在示例中执行此操作，但您提供了一个**figure**而不是**axes**的句柄。

```
f = figure()
ax = axes('Parent', f)
im = plot3(ax, X, Y, Z); 
```

或者，我更喜欢显式解决方案

```
im = plot3(X, Y, Z, 'Parent', ax) 
```

父对象的这个显式参数/值规范的好处是它被**所有**图形对象接受。类似`plot`和`plot3`的函数实际上是辅助函数，它们包装了 的功能`line`并允许首先传递父级的约定。无论您是使用更高级别的函数（`plot`, `plot3`, `imshow`）还是更低级别的对象（`line`,`image`等） ，参数/值方法都被广泛接受

这里的两个好处是您消除了 MATLAB 试图找出放置绘图的位置的开销，而且它还可以防止 MATLAB 不得不更改当前显示的图形，从而强制重新渲染，这是 MATLAB 最慢的任务之一。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-05-08T17:27:00.610

给图起个句柄名字，给大家举个小例子

```
 f1 = figure;
  imshow(image1);
  f2 = figure;
  imshow(image2);
  % edit image 1
  figure(f1);
  text(2,3,'done'); 
```

# php - 如何使 topic_cat= 当前类别

> ID：12775457
> 
> 赞同：0
> 
> 时间：2012-10-08T04:45:10.847
> 
> 标签：php, sql

如何使 topic_cat= 当前类别，例如[http://prntscr.com/h08ae](http://prntscr.com/h08ae)我希望将类别 ID 作为 topic_cat 插入。但是当我提出主题时，它只会导致类别 id = 0，这是我的代码：

```
 <?php

if($_SESSION['signed_in'] == false)
{header('Location: http://forums.pirate-zone.com/index.php?');
//the user is not signed in
echo 'Sorry, you have to be <a href="/forum/signin.php">signed in</a> to create a  topic.';
}
else
{
//the user is signed in
if($_SERVER['REQUEST_METHOD'] != 'POST')
{   
    //the form hasn't been posted yet, display it
    //retrieve the categories from the database for use in the dropdown
    $sql = "SELECT
                cat_id,
                cat_name,
                cat_description
            FROM
                categories
            WHERE
                cat_id = " . mysql_real_escape_string($_GET['id']);

    $result = mysql_query($sql);

    if(!$result)
    {

        echo 'Error while selecting from database. Please try again later.';
    }
    else
    { $topic_cat=$row['cat_id'];
        if(mysql_num_rows($result) == 0)
        {
            //there are no categories, so a topic can't be posted
            if($_SESSION['user_level'] == 1)
            {
                echo 'You have not created categories yet.';
            }
            else
            {
                echo 'Before you can post a topic, you must wait for an admin to create some categories.';
            }
        }
        else
        {
    echo '      
<div class="contain contentpadding">
<form action="" method="post">
<div style="margin: 10px 0 10px 120px">
<h3>Topic Name (required)</h3>
    <br/>
    <div class="light contentpadding inputdiv">
        <input type="text" name="topic_subject" size="50" />
    </div>
    <br/>
    <br/>

    <h3>Topic Body (required)</h3>
    </div>
<br/>
    <div class="light contentpadding inputdiv">
        <div class="cpadding">
<input type="button" class="bbbutton light" title="[color=][/color]" value="Color" />
<input type="button" class="bbbutton light" title="[size=11px][/size]" value="Size" />
<input type="button" class="bbbutton light" title="[b][/b]" value="Bold" />
<input type="button" class="bbbutton light" title="[i][/i]" value="Italic" />
<input type="button" class="bbbutton light" title="[u][/u]" value="Underline" />
<input type="button" class="bbbutton light" title="[img][/img]" value="Image" />
<input type="button" class="bbbutton light" title="[url=http://][/url]" value="URL" />
<input type="button" class="bbbutton light" title="[center][/center]" value="Center" />
<input type="button" class="bbbutton light" title="[quote=][/quote]" value="Quote" />
<input type="button" class="bbbutton light" title="[spoiler][/spoiler]" value="Spoiler" />
<input type="button" class="bbbutton light" title="  [youtube]http://www.youtube.com/watch?v=[/youtube]" value="YouTube Video" />
</div>
<div class="cpadding">
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/amazed.gif"  alt=":amazed" border="0" title=":amazed" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/amused.gif"  alt=":amused" border="0" title=":amused" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/blink.gif" alt=":blink" border="0" title=":blink" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/cheesy.gif" alt=":cheesy" border="0" title=":cheesy" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/confused.gif" alt=":confused" border="0" title=":confused" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/cool.gif" alt=":cool" border="0" title=":cool" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/cry.gif" alt=":cry" border="0" title=":cry" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/embarressed.gif" alt=":embarrassed" border="0" 

title=":embarrassed" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/evil.gif" alt=":evil" border="0" title=":evil" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/huh.gif" alt=":huh" border="0" title=":huh" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/laugh.gif" alt=":laugh" border="0" title=":laugh" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/mad.gif" alt=":mad" border="0" title=":mad" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/notrust.gif" alt=":notrust" border="0" title=":notrust" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/noworry.gif" alt=":noworry" border="0" title=":noworry" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/nuts.gif" alt=":nuts" border="0" title=":nuts" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/oh.gif" alt=":oh" border="0" title=":oh" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/push.gif" alt=":push" border="0" title=":push" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/rolleyes.gif" alt=":rolleyes" border="0" title=":rolleyes" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/sad.gif" alt=":sad" border="0" title=":sad" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/sick.gif" alt=":sick" border="0" title=":sick" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/smile.gif" alt=":smile" border="0" title=":smile" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/suspicious.gif" alt=":suspicious" border="0" title=":suspicious" 

/> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/teeth.gif"   alt=":teeth" border="0" title=":teeth" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/tounge.gif" alt=":tounge" border="0" title=":tounge" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/unsure.gif" alt=":unsure" border="0" title=":unsure" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/wacko.gif" alt=":wacko" border="0" title=":wacko" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/weird.gif" alt=":weird" border="0" title=":weird" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/wondering.gif" alt=":wondering" border="0" title=":wondering" /> 
<img class="bbemoticon" src="http://www.soul-boards.com/images/smilies/worried.gif" alt=":worried" border="0" title=":worried" />
<br />

</div>
<br/>           <center><textarea id="post_content" name="post_content"  cols="102" rows="13"></textarea></center>
    </div>
    <br/>

</div>
<div class="center">
        <input type="submit" value="Post Topic" />
    </div>
</form>
            </div>';
        }
    }
}
else
{
    //start the transaction
    $query  = "BEGIN WORK;";
    $result = mysql_query($query);

    if(!$result)
    {

        echo 'An error occured while creating your topic. Please try again later.';
    }
    else
    { 

        //the form has been posted, so save it
        //insert the topic into the topics table first, then we'll save the  post into the posts table
        $sql = "INSERT INTO 
                    topics(topic_subject,
                           topic_date,
                           topic_cat,
                           topic_by)
               VALUES('" .  mysql_real_escape_string($_POST['topic_subject']) . "',
                           NOW(),
                          '" . $topic_cat . "',
                           " . $_SESSION['user_id'] . "
                           )";

        $result = mysql_query($sql);
        if(!$result)
        {
            //something went wrong, display the error
            echo 'An error occured while inserting your data. Please  try again later.<br /><br />' . mysql_error();
            $sql = "ROLLBACK;";
            $result = mysql_query($sql);
        }
        else
        {
            //the first query worked, now start the second, posts query
            //retrieve the id of the freshly created topic for usage in the posts query
            $topicid = mysql_insert_id();

            $sql = "INSERT INTO
                        posts(post_content,
                              post_date,
                              post_topic,
                              post_by)
                    VALUES
                        ('" . mysql_real_escape_string($_POST['post_content']) . "',
                              NOW(),
                              " . $topicid . ",
                              " . $_SESSION['user_id'] . "
                        )";
            $result = mysql_query($sql);

            if(!$result)
            {
                //something went wrong, display the error
                echo 'An error occured while inserting your post. Please try again later.<br /><br />' . mysql_error();
                $sql = "ROLLBACK;";
                $result = mysql_query($sql);
            }
            else
            {
                $sql = "COMMIT;";
                $result = mysql_query($sql);

                //after a lot of work, the query succeeded!
                echo 'You have succesfully created <a href="topic.php?id='. $topicid . '">your new topic</a>.';
            }
        }
    }
}
}

?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T04:53:28.997

永远不要使用这种方法。不要在之前或之后回显`header("location")`

```
 header('Location: http://forums.pirate-zone.com/index.php?');
    //the user is not signed in
    echo 'Sorry, you have to be <a href="/forum/signin.php">signed in</a> to create a  topic.';
    } 
```

并且您还没有获取`mysql_query()`Use this返回的数组

```
 while($row = mysql_fetch_assoc($result))
 {
 $topic_cat=$row['cat_id'];
 } 
```

# php - 多次使用相同的 mysqli 连接 ($conn=mysqli_connect) 会出错

> ID：12775460
> 
> 赞同：1
> 
> 时间：2012-10-08T04:45:23.640
> 
> 标签：php, mysqli

我正在使用 mysqli 函数`(mysqli_connect, mysqli_select_db, mysqli_query)`来调用 1 个选择查询和 2 个存储过程。

似乎当我多次使用相同的`$connection`（由返回）时，我收到以下错误消息：`mysqli_connect``"Warning: mysqli_fetch_array() expects parameter 1 to be mysqli_result, boolean given in..."`

下面是我的代码：

```
<?php
$server="localhost";
$user="user";
$pass="pass";
$db="db";

$connection=mysqli_connect("$server","$user","$pass");
mysqli_select_db($connection, "$db") or die('Unable to select database.');

//First SELECT using $connection
$query=mysqli_query($connection, "SELECT item_name FROM items ORDER BY item_name DESC");    

While ($result=mysqli_fetch_array($query,MYSQL_NUM))
{
  $complete_result[] = $result[0];
  $total_rows = $total_rows + 1;
}   

//CALL to first sp using $connection
$query2 = mysqli_query($connection, "CALL sp_check_edits_remaining()");

while ($row2 = mysqli_fetch_array($query2, MYSQL_ASSOC)) {
    $edits_remaining = $row2['edits_remaining'];
} // End while

//CALL to second sp using $connection   
$query3 = mysqli_query($connection, "CALL sp_edit_data");

while ($row3 = mysqli_fetch_array($query3, MYSQL_ASSOC)) {);
    $edits_id = $row3['id'];
} // End while

?> 
```

就像我描述的那样，当我调用第二个 sp 时，上面的代码给了我上面提到的错误消息。（请注意，连接永远不会关闭。）

但是，当我创建另一个连接并将其提供给第二个 sp 调用时，此错误就会消失。这显示在下面的代码中

```
$connection2=mysqli_connect("$server","$user","$pass");
mysqli_select_db($connection2, "$db") or die('Unable to select database.');

//CALL to second sp using $connection   
$query3 = mysqli_query($connection2, "CALL sp_edit_data");

while ($row3 = mysqli_fetch_array($query3, MYSQL_ASSOC)) {
    $edits_id = $row3['id'];
} // End while 
```

谁能帮助我为什么会出现这种意外行为？谢谢，提前！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:44:25.800

我似乎找到了一个解决方案，这可能是针对我的场景的。

我的存储过程只返回结果集中的一行。

因此，在调用第一个 sp 和相应的 while 循环之后，我简单地添加了：

```
mysqli_next_result($connection); 
```

这已经删除了我收到的错误消息/警告。

有人想评论这是否是“专业”方法吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T04:56:31.197

您在某处出现错误，导致其中一个 mysql 函数（可能是查询调用）返回布尔值 false，然后您在 fetch 调用中盲目使用该值。您需要添加额外的错误处理，例如

```
$query = mysqli_query($connection, "...") or die(mysqli_error($connection)); 
```

永远不要假设查询已经成功。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-05-06T21:16:52.827

在查询完成后输入代码，您必须关闭`$connection`然后进行另一个查询，重新连接并分配`$connection`。

```
mysqli_close($connection);

$connection=mysqli_connect(bla,bla,bla,bla). 
```

# java - 从 .bat 文件运行 jar 时出错

> ID：12775471
> 
> 赞同：0
> 
> 时间：2012-10-08T04:46:09.387
> 
> 标签：java, eclipse, exception, jar, unsupported-class-version

从. `UnSupportedClassVersionNumber`_ `jar`_`.bat file`

```
set LIBRARY_PATH=D:\endecabatch\JAR

echo %LIBRARY_PATH%

set JAVA_HOME=C:\Java\jdk1.5.0_14 

set PATH=%JAVA_HOME%\bin;%JAVA_HOME%\lib

set CLASSPATH=%PATH%

set CLASSPATH=%CLASSPATH%;%LIBRARY_PATH%\sqljdbc.jar

set CLASSPATH=%CLASSPATH%;%LIBRARY_PATH%\log4j-1.2.16.jar

set CLASSPATH=%CLASSPATH%;%LIBRARY_PATH%\auditlog_1.0.jar

set CLASSPATH=%CLASSPATH%;%LIBRARY_PATH%\jdbc_1.0.jar

set CLASSPATH=%CLASSPATH%;%LIBRARY_PATH%\EndecaBatch.jar

java -classpath %CLASSPATH% com.heb.endeca.batch.BatchManager "D:\endecabatch\" "properties\LOCAL\" "FULL" "ALL" 
```

从eclipse我已经导出了jar。我已将`jre to 1.5.0_14`编译器版本更改为`1.5`然后导出`jar`. 它仍然显示相同的错误。请帮忙。

这是`Exception`我得到的

```
D:\endecabatch>echo D:\endecabatch\JAR
D:\endecabatch\JAR

D:\endecabatch>set JAVA_HOME=C:\Java\jdk1.5.0_14

D:\endecabatch>set PATH=C:\Java\jdk1.5.0_14\bin;C:\Java\jdk1.5.0_14\lib

D:\endecabatch>set CLASSPATH=C:\Java\jdk1.5.0_14\bin;C:\Java\jdk1.5.0_14\lib

D:\endecabatch>set CLASSPATH=C:\Java\jdk1.5.0_14\bin;C:\Java\jdk1.5.0_14\lib;D:\endecabatch\JAR\sqljdbc.jar

D:\endecabatch>set CLASSPATH=C:\Java\jdk1.5.0_14\bin;C:\Java\jdk1.5.0_14\lib;D:\endecabatch\JAR\sqljdbc.jar;D:\endecabatch\JAR\log4j-1.2.16.jar

D:\endecabatch>set CLASSPATH=C:\Java\jdk1.5.0_14\bin;C:\Java\jdk1.5.0_14\lib;D:\endecabatch\JAR\sqljdbc.jar;D:\endecabatch\JAR\log4j-1.2.16.jar;D:\endecabatch\JAR\auditlog_1.0.jar

D:\endecabatch>set CLASSPATH=C:\Java\jdk1.5.0_14\bin;C:\Java\jdk1.5.0_14\lib;D:\endecabatch\JAR\sqljdbc.jar;D:\endecabatch\JAR\log4j-1.2.16.jar;D:\endecabatch\JAR\auditlog_1.0.jar;D:\endecabatch\JAR\jdbc_1.0.jar

D:\endecabatch>set CLASSPATH=C:\Java\jdk1.5.0_14\bin;C:\Java\jdk1.5.0_14\lib;D:\endecabatch\JAR\sqljdbc.jar;D:\endecabatch\JAR\log4j-1.2.16.jar;D:\endecabatch\JAR\auditlog_1.0.jar;D:\endecabatch\JAR\jdbc_1.0.jar;D:\endecabatch\JAR\EndecaBatch.jar

D:\endecabatch>java -classpath C:\Java\jdk1.5.0_14\bin;C:\Java\jdk1.5.0_14\lib;D:\endecabatch\JAR\sqljdbc.jar;D:\endecabatch\JAR\log4j-1.2.16.jar;D:\endecabatch\JAR\auditlog_1.0.jar;D:\endecabatch\JAR\jdbc_1.0.jar;D:\endecabatch\JAR\EndecaBatch.jar com.heb.endeca.batch.BatchManager "D:\endecabatch\" "properties\LOCAL\" "FULL" "ALL"
Exception in thread "main" java.lang.UnsupportedClassVersionError: Bad version number in .class file
    at java.lang.ClassLoader.defineClass1(Native Method)
    at java.lang.ClassLoader.defineClass(ClassLoader.java:620)
    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:124)
    at java.net.URLClassLoader.defineClass(URLClassLoader.java:260)
    at java.net.URLClassLoader.access$100(URLClassLoader.java:56)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:195)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:188)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:268)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:251)
    at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T08:50:47.193

实际上我在生成jar时犯了一个错误。我已经更改了编译器版本`windows-> Preferences`而不是更改它`buildPath -> ConfigureBuildPath -> compiler`

现在我可以正确地从批处理文件运行我的 java 应用程序。

# objective-c - 是| 管道字符制作 URLWithString: 失败？

> ID：12775475
> 
> 赞同：3
> 
> 时间：2012-10-08T04:46:44.520
> 
> 标签：objective-c, nsurl

我有这个非常简单的代码：

```
PO(URLString);
url = [NSURL URLWithString:URLString];
PO(url);
NSData * data=[NSData dataWithContentsOfURL:url]; 
```

（`PO()`是我打印东西的宏。）

它大部分时间都有效。这是输出：

> `2012-10-08 11:39:28.187 BadgerNew[2475:5007] <0x1f5321f0 BGCRBusinessForDisplay.m:(113)> URLString: http://id.openrice.com/UserPhoto/photo/0/U/0005Z29E131A230CBA4A42n.jpg`
> 
> `2012-10-08 11:39:28.193 BadgerNew[2475:5007] <0x1f5321f0 BGCRBusinessForDisplay.m:(115)> url: http://id.openrice.com/UserPhoto/photo/0/U/0005Z29E131A230CBA4A42n.jpg`
> 
> `2012-10-08 11:39:30.191 BadgerNew[2475:6b03] <0x1f529f00 BGCRBusinessForDisplay.m:(113)> URLString: http://maps.googleapis.com/maps/api/staticmap?&zoom=16&size=160x160&maptype=roadmap&sensor=true&center=-6.187900,106.775429&markers=size:small|color:blue|-6.187900,106.775429`
> 
> `2012-10-08 11:39:30.196 BadgerNew[2475:6b03] <0x1f529f00 BGCRBusinessForDisplay.m:(115)> url: (null)`

如您所见，它适用于[http://id.openrice.com/UserPhoto/photo/0/U/0005Z29E131A230CBA4A42n.jpg](http://id.openrice.com/UserPhoto/photo/0/U/0005Z29E131A230CBA4A42n.jpg)并且在[http://maps.googleapis.com/maps/api/staticmap?&zoom上失败=16&size=160x160&maptype=roadmap&sensor=true¢er=-6.187900,106.775429&markers=size:small|color:blue|-6.187900,106.775429](http://maps.googleapis.com/maps/api/staticmap?&zoom=16&size=160x160&maptype=roadmap&sensor=true&center=-6.187900,106.775429&markers=size:small|color:blue|-6.187900,106.775429)

也许问题是 | 在 Google 网址中。那么我该怎么办呢？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-08T04:55:57.720

你是对的，`|`（“管道”）是问题所在。

[Apple 文档`URLWithString:`](http://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSURL_Class/Reference/Reference.html#//apple_ref/doc/uid/20000301-BAJBBDIB)说相关的外部文档是RFC [2396](http://www.ietf.org/rfc/rfc2396.txt)和[1738](http://www.ietf.org/rfc/rfc1738.txt)。据他们说，`|`是一个“不安全”的字符，必须始终在 URL 中编码。它的编码是`%7C`.

您可以手动更正字符串中的管道（如果它是硬编码字符串），但更好的解决方案是使用[`-[NSString stringByAddingPercentEscapesUsingEncoding:]`](http://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/occ/instm/NSString/stringByAddingPercentEscapesUsingEncoding%3a).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T04:55:41.687

我找到了自己的解决方案。

雅普| 是问题所在。

所以，我这样做：

```
 URLString = URLString.UTF8Encode; 
```

UTF8Encode 定义如下：

```
- (NSString *)UTF8Encode
{
    NSString* encodedstring = [self stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];
    return encodedstring;
} 
```

是的，这是一个类别：D

# java - 以 TCPDump 格式 (Java) 保存捕获的数据包

> ID：12775479
> 
> 赞同：0
> 
> 时间：2012-10-08T04:47:18.857
> 
> 标签：java, packet, tcpdump, jpcap

我想以 TCPDump 格式保存捕获的数据包。我正在使用带有 JPCap 库的 Java。但是，我无法使用 JpcapWriter.writePacket() 函数，它给了我一个 JVM 错误。这是导致 JVM 错误的代码： captor=JpcapCaptor.openDevice(interfaceList[interfaceNumber], 65535, true, 20); captor.setFilter("ip 和 tcp",true);

```
JpcapWriter writer=JpcapWriter.openDumpFile(captor,"pass.txt");

for(int i=0;i<10;i++){
      //capture a single packet
      Packet packet=captor.getPacket();
      //save it into the opened file
      writer.writePacket(packet);

    }
writer.close(); 
```

还有其他方法可以将它保存到 TCP 格式的文件中吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T04:58:04.367

你能解释一下你是如何调用写数据包的方法的吗？我用来写数据包的正常方式是

```
JpcapCaptor captor=JpcapCaptor.openDevice(device[index], 65535, false, 20);
JpcapWriter writer=JpcapWriter.openDumpFile(captor,"filename");
for(int i=0;i<10;i++){
  Packet packet=captor.getPacket();
    writer.writePacket(packet);
 }
writer.close(); 
```

它保存 TCPDump 格式数据包。

# sql - 如何找到两个日期之间的持续时间

> ID：12775480
> 
> 赞同：3
> 
> 时间：2012-10-08T04:47:23.050
> 
> 标签：sql, tsql, date, sql-server-2008-r2

我想找到两个日期列之间的持续时间。为此，我使用 DATEDIFF 函数分别查找数字年份和月份，但希望两个结果都在单列中。下面给出了这两列。

```
start_dt      |    end_dt
06-Oct-2009      15-Jul-2011 
```

需要的结果

```
Duration(years.months)
2.3 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-08T04:51:58.507

我认为没有开箱即用的 API 可以以您提到的格式提供结果。您需要使用该`DATEDIFF`函数来获得所需的最小面额的差异，然后将结果除以适当的值以获得所需格式的持续时间。像这样的东西：

```
DECLARE @start DATETIME
DECLARE @end DATETIME
DECLARE @duration INT

SELECT @start = '2009-10-06', @end = '2011-07-15'
SELECT @duration = DATEDIFF(mm, @start, @end)
SELECT CONVERT(NVARCHAR, @duration / 12) + '.' + CONVERT(NVARCHAR, @duration % 12) 
```

这可以通过编写一个函数来更好地实现，该函数将采用日期和最小面额并以所需格式返回持续时间，因为它需要 TSQL 而纯 SQL 是不够的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T04:56:14.957

尝试这样的事情

```
SELECT
    DATEDIFF( mm, start_dt, end_dt) / 12 AS years
    , DATEDIFF( mm, start_dt, end_dt) % 12 AS months 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-09-10T07:03:14.220

**询问 ：**

```
SELECT 
    CONVERT(VARCHAR, DATEADD(month, 1, GETDATE()), 103) AS FinalDay,
    CONVERT(VARCHAR, HRM_EmpGenDtls.DOJ, 106) AS DOJ,
    CONVERT(varchar, DATEDIFF(year, HRM_EmpGenDtls.DOJ, GETDATE())) + ' Years' + ' ' +                      
    CONVERT(varchar, DATEDIFF(month, HRM_EmpGenDtls.DOJ, GETDATE()) - (datediff(year, HRM_EmpGenDtls.DOJ, GETDATE()) * 12)) + ' Months' + ' ' +      CONVERT(varchar, datepart(d,GETDATE()) - datepart(d, HRM_EmpGenDtls.DOJ)) + ' Days' AS ServicePeriod   
FROM HRM_EmpGenDtls 
```

这给出了以下答案：

```
FinalDay    DOJ ServicePeriod

10/10/2013  03 Sep 2012 1 Years 0 Months 7 Days
10/10/2013  01 Jan 2000 13 Years 8 Months 9 Days
10/10/2013  22 Aug 2000 13 Years 1 Months -12 Days
10/10/2013  22 Aug 2000 13 Years 1 Months -12 Days
10/10/2013  22 Aug 2000 13 Years 1 Months -12 Days
10/10/2013  22 Aug 2000 13 Years 1 Months -12 Days
10/10/2013  22 Aug 2000 13 Years 1 Months -12 Days
10/10/2013  04 Sep 2012 1 Years 0 Months 6 Days 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-08T04:53:54.477

```
SELECT (DATEDIFF(month, start_dt, end_dt) / 12); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-08T05:03:36.783

试试这个。它可能会有所帮助

```
select cast (DATEDIFF(m,'06-Oct-2009','15-Jul-2011')/12 as varchar(25)) + '.' + cast (DATEDIFF(m,'06-Oct-2009','15-Jul-2011')%12 as varchar(25)) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-08T05:03:58.967

我试过这个-

```
 SELECT
      CONVERT(varchar,DATEDIFF(MONTH,SAKUSEITIME,KOSHINTIME)/12)+'.'
      +CONVERT(varchar,DATEDIFF(MONTH,SAKUSEITIME,KOSHINTIME)%12) Duration
    FROM MYTABLE 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-09-18T21:32:39.520

这是我查找两个日期之间时间差的函数。

```
ALTER FUNCTION functionName
-- The first imput is the start time and the second input is the end time.
@StartTime datetime, @EndTime datetime

RETURNS varchar(15)
AS
BEGIN

    DECLARE @Duration varchar(15)

SET @Duration =
convert(nvarchar(10),(COALESCE (DATEDIFF(day,@StartTime,@EndTime),DATEDIFF(day,@StartTime,CURRENT_TIMESTAMP)))) + '.' +
right('00'+ISNULL(convert(nvarchar(10),(COALESCE (DATEDIFF(hour,@StartTime,@EndTime)%24,DATEDIFF(hour,@StartTime,CURRENT_TIMESTAMP)%24))),' '),2) + ':' +
right('00'+ISNULL(convert(nvarchar(10),(COALESCE (DATEDIFF(minute,@StartTime,@EndTime)%60,DATEDIFF(minute,@StartTime,CURRENT_TIMESTAMP)%60))),' '),2) + ':' +
right('00'+ISNULL(convert(nvarchar(10),(COALESCE (DATEDIFF(second,@StartTime,@EndTime)%60,DATEDIFF(second,@StartTime,CURRENT_TIMESTAMP)%60))),' '),2)
    -- Calculates the difference in each until of time, finds the remainder, and add the pieces of the timestamp together.
    RETURN @Duration

END 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-08-26T04:28:46.277

```
declare @StartDate datetime, @EndDate datetime
select @StartDate = '2016-08-24 14:44:54.513',@EndDate='2016-08-24 14:48:16.173'
Select convert(varchar,CAST((@EndDate-@StartDate) as time(0))) '[hh:mm:ss]' 
```

# entity-framework - 实体框架基础

> ID：12775481
> 
> 赞同：1
> 
> 时间：2012-10-08T04:47:24.517
> 
> 标签：entity-framework

我在 ASP.NET MVC4 应用程序中使用 EF5 codefirst。我有产品和合作伙伴，一个产品可以分配多个合作伙伴。

在产品实体中，我有这个： public ICollection Partners { get; 放; }

在合作伙伴实体中，我有这个： public ICollection Product { get; 放; }

因此，在我的 sql server 中，PartnerProducts many-2-many 表是由代码首先创建的。

然后我有这个动作方法：

```
 public ActionResult AssignPartner(long productId,  long partnerId) {
        var product = productRepository.Find(productId);
        var partner = partnerRepository.Find(partnerId);
        if (product.Partners == null) {
            product.Partners = new List<Partner>();
        }
        product.Partners.Add(partner);
        productRepository.Save();
        return RedirectToAction("Edit", new{ Id = productId });
    } 
```

但结果是既创建了一个新的 PartnerProducts 行（好的），又在 Partners 表中创建了一个新的合作伙伴？不知何故，EF一定认为我添加的伙伴是新记录？

我在这里想念什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T05:03:49.433

试试这个：

```
public ActionResult AssignPartner(long productId,  long partnerId)
{
    var product = productRepository.Find(productId);
    var partner = partnerRepository.Find(partnerId);

    // Using Attach - partner will be in state Unchanged in the context
    dbContext.Partners.Attach(partner);

    if (product.Partners == null)
    {
        product.Partners = new List<Partner>();
    }

    product.Partners.Add(partner);

    productRepository.Save();

    return RedirectToAction("Edit", new{ Id = productId });
} 
```

# android - 无法将捕获的图像上传到服务器

> ID：12775482
> 
> 赞同：0
> 
> 时间：2012-10-08T04:47:25.713
> 
> 标签：android, web-services, capture

我已经创建了使用本机相机捕获图像的应用程序，我想`display the captured image in web page(http/ https)`。我使用以下内容创建了相机应用程序。

[Android：在img标签中显示捕获的图像](https://stackoverflow.com/questions/10510547/android-display-captured-image-in-img-tag)

**问题**：我可以在本地 html 文件中显示捕获的图像。但无法在服务器的 html 页面中加载它。

为什么我会遇到这个问题？

# xsd - 引用元素而不包括/导入定义它的 schemaLocation

> ID：12775485
> 
> 赞同：1
> 
> 时间：2012-10-08T04:47:44.780
> 
> 标签：xsd

我有两个 xsd 文件。第一个文件是`common.xsd`，另一个是`node.xsd`. 两者`node.xsd`和`common.xsd`共享相同`targetNamespace`。`common.xsd`引用使用属性`element`中定义的。但是，不包括在using或. 但是我使用这些 xsd 文件验证的 XML 通过了验证（尝试了所有角落用例）。`node.xsd``ref``node.xsd``common.xsd``include``import`

我想知道这怎么可能。这是因为它们共享相同的命名空间吗？在 XSD中引用一个`element`不包括/导入的合法吗？

**编辑：**

简化的代码片段（实际的 xsd 要复杂得多，出于更大的原因，它们以这种格式编写）：

常见的.xsd

```
<xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:my="my-namespace"
        xmlns:xml="http://www.w3.org/XML/1998/namespace"
        targetNamespace="my-namespace"
        elementFormDefault="qualified">
  <xsd:element name="common" type="my:commonType" />
  <xsd:complexType name="commonType">
    <xsd:choice minOccurs="0" maxOccurs="unbounded">
      <xsd:element ref="my:node"/>
      <!-- few other elements -->
    </xsd:choice>
  </xsd:complexType>
</xsd:schema> 
```

节点.xsd

```
<xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema"
        xmlns:my="my-namespace"
        xmlns:xml="http://www.w3.org/XML/1998/namespace"
        targetNamespace="my-namespace"
        elementFormDefault="qualified">
  <xsd:include schemaLocation=common.xsd"/>
  <xsd:element name="node" type="my:nodeType"
           substitutionGroup="my:common" />
  <xsd:complexType name="nodeType">
    <xsd:complexContent>
      <xsd:extension base="my:commonType">
        <!-- some 5-7 attributes -->
        <xsd:anyAttribute/>
      </xsd:extension>
    </xsd:complexContent>
  </xsd:complexType>
</xsd:schema> 
```

这些 xsd 让我可以在其自身内多次嵌套元素。例如

```
<my:node>
  <my:node />
  <my:node>
    <my:node />
  </my:node>
</my:node> 
```

您可以观察到`my:node`在`common.xsd`不包括`node.xsd`. （好奇这甚至是如何工作的。）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T19:04:23.520

我可以让这看起来更邪恶...您可以删除`xsd:include`in`node.xsd`并仍然验证您的 XML！看看这个[Xerces API](http://xerces.apache.org/xerces2-j/javadocs/xerces2/org/apache/xerces/jaxp/validation/XMLSchemaFactory.html#newSchema%28javax.xml.transform.Source%5B%5D%29)，你可以如何做到这一点。

这个想法是，从规范的角度来看，XML Schema 处理器可以通过多种方式解析模式位置。这也意味着某些 XSD 文件在单独查看时可能由于悬空引用而无效，但是当通过上述 API 或自定义解析器（例如支持“目录”文件）组合**在一起时，结果是一个****等效**的模式，即有效的。

XSD 处理器通常的工作方式是将所有可以通过它可以解析的引用加载的模式组件放在一起，然后将结果作为一个整体来查看，而不管这些组件来自何处。在您的情况下，**node.xsd**带来了**common.xsd**；`common.xsd`结果是一个有效的模式，因为可以在已经引入的组件中找到组件 in 所需的所有内容`node.xsd`。

在您的情况下，就好像 xsd:schema 标记 in 的内部内容`common.xsd`替换了`xsd:include`in `node.xsd`。如果您手动执行此操作，结果是正确的，对吗？

正如我旁注的那样，我要指出您显示的片段并未说明`common`替换组的使用。提醒一下，如果您希望进行替换，则必须参考替换组**的负责人。**

# sql-server-2008 - XML 到 SQL Server 2008 提取

> ID：12775488
> 
> 赞同：1
> 
> 时间：2012-10-08T04:49:16.200
> 
> 标签：sql-server-2008, xml-parsing

在从 XML 中提取记录并将其加载到 SQL Server 表中时，我需要进一步的帮助。

我有这个作为我的`@xml`：

```
<admin submitter_id="login0" effective_date="mm/dd/yyyy">
<rec effected_id="login1" adjustment="100.00" type="foo">
<reason reason_id="1" />
<reason reason_id="2" />
</rec>
<rec effected_id="login2" adjustment="50.00" type="bar">
<reason reason_id="3" />
</rec>
</admin> 
```

我需要一个结果集中的这个：

```
login0, login1, mm/dd/yyyy, 100.00, foo, 1
login0, login1, mm/dd/yyyy, 100.00, foo, 2
login0, login2, mm/dd/yyyy, 50.00, bar, 3 
```

那有意义吗？对 reason_id 的调整是一对多的。我已经想出了如何提取除第二行之外的所有值。我只能获取第一个reason_id，然后继续下一条记录。我认为这可以通过 CROSS APPLY 来解决，但我无法让它发挥作用。请帮忙！

哦，我可能也收到了伪造的 XML。所以如果错了，请告诉我！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T05:00:11.233

像这样的东西怎么样

```
DECLARE @Xml XML

SELECT @Xml = '<admin submitter_id="login0" effective_date="mm/dd/yyyy"> 
<rec effected_id="login1" adjustment="100.00" type="foo"> 
<reason reason_id="1" /> 
<reason reason_id="2" /> 
</rec> 
<rec effected_id="login2" adjustment="50.00" type="bar"> 
<reason reason_id="3" /> 
</rec> 
</admin>'

SELECT  @Xml,
        A2.B.value('(../../@submitter_id)[1]','VARCHAR(50)'),
        A2.B.value('(../@effected_id)[1]','VARCHAR(50)'),
        A2.B.value('(../../@effective_date)[1]','VARCHAR(50)'),
        A2.B.value('(../@adjustment)[1]','FLOAT'),
        A2.B.value('(../@type)[1]','VARCHAR(50)'),
        A2.B.value('(@reason_id)[1]','INT')
FROM    @XML.nodes('//admin/rec/reason')  A2(B) 
```

## [SQL 小提琴演示](http://www.sqlfiddle.com/#!3/d41d8/5068)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T04:58:28.300

尝试使用这个 T-SQL 代码片段：

```
SELECT
    Submitter = @xml.value('(/admin/@submitter_id)[1]', 'varchar(50)'),
    EffectedID = Rec.value('(@effected_id)[1]', 'varchar(50)'),
    DateStamp = @xml.value('(/admin/@effective_date)[1]', 'varchar(50)'),
    TypeID = Rec.value('(@type)[1]', 'varchar(50)'),
    ReasonID = Reason.value('(@reason_id)[1]', 'int')
FROM
    @xml.nodes('/admin/rec') AS Tbl(Rec)
CROSS APPLY
    Rec.nodes('reason') AS T2(Reason) 
```

它给了我一个输出：

![在此处输入图像描述](../Images/b8609996b3d26422856a47425f5c0f63.png)

您需要有两个嵌套的节点列表 - 第一个`<rec>`从内部获取所有节点`<admin>`，而第二个迭代`<reason>`每个节点内的所有`<rec>`节点。这样，您可以可靠地从这两个嵌套级别的子节点中提取所有信息，无论每个级别上有多少子节点。

# java - 停止图像移动

> ID：12775494
> 
> 赞同：0
> 
> 时间：2012-10-08T04:50:27.643
> 
> 标签：java, image, slick2d, particles

好的，所以每当我单击鼠标时，我的图像都会沿着 y 轴直接向下移动，我唯一的问题是我不知道如何让它在它到达屏幕底部时停止，有人可以帮忙吗？

```
 import java.awt.Point;
import org.newdawn.slick.GameContainer;
import org.newdawn.slick.Graphics;
import org.newdawn.slick.SlickException;
import org.newdawn.slick.state.BasicGameState;
import org.newdawn.slick.state.StateBasedGame;

public class Control extends BasicGameState {
    public static final int ID = 1;

    public Methods m = new Methods();
    public Point[] point = new Point[(800 * 600)];

    int pressedX;
    int pressedY;
    int num = 0;
    String Build = "1.1";

    public void init(GameContainer container, StateBasedGame game) throws SlickException{
    }

    public void render(GameContainer container, StateBasedGame game, Graphics g) throws SlickException {
        for (Point p : point) {
            if (p != null) {
                m.drawParticle(p.x, p.y += 1);
            }
        }
        g.drawString("Particle Test", 680, 0);
        g.drawString("Build: " + Build, 680, 15);
        g.drawString("Pixels: " + num, 10, 25);
    }

    public void update(GameContainer container, StateBasedGame game, int delta) {
    }

    public void mousePressed(int button, int x, int y) {
        pressedX = x;
        pressedY = y;
        num = num + 1;
        point[num] = new Point(pressedX, pressedY);
        }

    public int getID() {
        return ID;
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T04:57:10.683

我想在某个地方你会想要在渲染粒子之前检查粒子的 x/y 位置，并在它超出范围时将其从数组中删除......

```
public void render(GameContainer container, StateBasedGame game, Graphics g) throws SlickException {
    for (int index = 0; index < point.length; index++) {
        Point p = point[index];
        if (p != null) {
            p.y++;
            if (p.y > height) { // You'll need to define height...
                point[index] = null; // Or do something else with it??
            } else {
                m.drawParticle(p.x, p.y);
            }
        }
    }
    g.drawString("Particle Test", 680, 0);
    g.drawString("Build: " + Build, 680, 15);
    g.drawString("Pixels: " + num, 10, 25);
} 
```

你也可以做一个先发制人的检查，这样你就可以知道屏幕底部有哪些点......

```
 if (p != null) {
            if (p.y >= height) { // You'll need to define height...
                // Do something here
            } else {
                p.y++;
                m.drawParticle(p.x, p.y);
            }
        } 
```

# windows - 启动时签名的驱动程序给出，错误 577

> ID：12775495
> 
> 赞同：5
> 
> 时间：2012-10-05T11:04:02.057
> 
> 标签：windows, driver, windows-server-2008-x64

当我启动我在 Windows Server 2008 x64 上编写的驱动程序时，它给出了`Error 577`.

Windows XP 32 位运行良好，但 Windows XP 32 位没有驱动程序签名限制。

不知道是不是我的问题`.inf`？这里有什么问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-07T01:34:14.347

577 表示您的驱动程序签名不正确，

[http://msdn.microsoft.com/en-us/library/windows/desktop/ms681388(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms681388(v=vs.85).aspx)

你是怎么签的？此外，您是为了开发和测试还是为了生产而签署它？

你应该严格按照微软的文章来避免这样的问题，

[http://msdn.microsoft.com/en-us/library/windows/hardware/ff544865(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/hardware/ff544865(v=vs.85).aspx)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-12-14T15:34:16.783

如果您在开发过程中使用测试签名证书，您需要允许安装驱动程序的机器使用测试证书

去做吧

打开命令提示符（以管理员身份运行） Bcdedit.exe -set TESTSIGNING ON 重新启动您的机器 要禁用它 Bcdedit.exe -set TESTSIGNING OFF 并重新启动您的机器

更多详细信息：http: [//msdn.microsoft.com/en-us/library/windows/hardware/ff553484%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/windows/hardware/ff553484%28v=vs.85%29.aspx)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-11-03T23:26:41.417

当驱动程序正确签名时，可能会发生这种情况。具体问题发生在 Windows 7 中。

[https://support.microsoft.com/en-us/kb/2328240#bookmark-letmefixitmyselfalways](https://support.microsoft.com/en-us/kb/2328240#bookmark-letmefixitmyselfalways)

# objective-c - 子视图的函数抽象为不同的 .h 和 .m 文件

> ID：12775499
> 
> 赞同：0
> 
> 时间：2012-10-08T04:50:45.313
> 
> 标签：objective-c, ios, cocoa

我有 MasterViewController.h 和 MasterViewController.m 文件，在这些文件中，当按下 a 按钮时，我在该视图的一部分顶部加载了一个子视图。我希望该子视图（IBActions 等）的功能位于不同的文件（ContactUs.h 和 ContactUs.m）中，因此我可以抽象该程序并将其分解为更小/更简单的部分。

我该怎么做呢？.xib 文件加载到 MasterViewController.m 中：

```
[[NSBundle mainBundle] loadNibNamed@"ContactUs_GeneralContact" owner:self options[NSDictionary dictionary]]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T05:02:32.030

*   Create a new subclass of `UIView` (via File - New ) and move the methods to the new subclass.
*   open your xib in Interface Builder
*   in the inspector on the right select the identity inspector and insert your class name as custom class

All done.

![enter image description here](../Images/155d1580304e5622cb09e07327fc81de.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:55:20.150

我不确定我是否理解您的问题:)...您可以做的是使用两个视图控制器 1\. MasterViewController 2\. ContactUsViewController 和两个视图 1\. MasterView(MasterViewController's View) 主视图 2\. ContactUsView(ContactUsController's View) 子视图加载在顶部

在 ContactUsViewController 中编写您需要的任何功能

# 将它导入 MasterViewController ，在需要时实例化它并在任何你想要的地方加载它:):)

因此，Master 和 ContactUs 完全相互独立..:) 祝你有美好的一天

# php - 删除 Web 内容电子邮件并添加受垃圾邮件保护的内容？

> ID：12775505
> 
> 赞同：0
> 
> 时间：2012-10-08T04:51:44.547
> 
> 标签：php, javascript, jquery

我有工作爬虫网站，它在我的网站上爬取了 10,000 个工作的列表，但是我对一些工作描述有疑问，有直接的电子邮件链接说

请将您的简历发送至 hr@xxx.com。这会导致他们遭受垃圾邮件攻击，因此我需要找到一个解决方案，在其中我可以将这些电子邮件从垃圾邮件机器人中隐藏起来，但我需要将它们展示给有效的人类用户。

我想知道可能的解决方案，但我想到的几件事

1.  可能正在对电子邮件进行预替换，并将电子邮件替换为“单击此处查看电子邮件”执行一些 JavaScript 脚本以在单击时检索实际电子邮件。

2.  使用验证码文本输入和获取电子邮件（对最终用户非常不便）

还有其他可能的解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T05:18:10.823

用 css 欺骗，例如：

生成的 HTML：

```
<span class='eml'>user<p>randomdata</p>@<p>randomdata</p>domain<p>randomdata</p>.com</span> 
```

CSS：

```
.eml p {
   dispay: none;
} 
```

[http://jsfiddle.net/HmZew/](http://jsfiddle.net/HmZew/)

其他有趣的事情：您可以更改文本方向（不允许复制粘贴，但也可能是解决方案：

HTML

```
<span class='eml'>resu</span>@domain.com​ 
```

CSS：

```
.eml {
    direction:rtl;
    unicode-bidi:bidi-override;
}​ 
```

[http://jsfiddle.net/HmZew/1/](http://jsfiddle.net/HmZew/1/)

即使javascript关闭，它也应该显示正确

# install4j - 我如何能？在多语言环境中请求单个字符“y”或“n”而不是多字节答案？

> ID：12775508
> 
> 赞同：1
> 
> 时间：2012-10-08T04:51:59.770
> 
> 标签：install4j

我正在使用 Install4j 5.0.x

我想做多语言环境支持产品（英文，中文（简体））。

在 RedHat Linux 中使用中文（简体）输入法，在安装过程中，一个指定的问题请求回答多字节单词。

这是屏幕截图。
[http://blog.naver.com/mopsld](http://blog.naver.com/mopsld)
如何请求“y”或“n”而不是多字节字？

# asp.net-mvc - 简单的会员子域认证

> ID：12775513
> 
> 赞同：0
> 
> 时间：2012-10-08T04:52:53.777
> 
> 标签：asp.net-mvc, asp.net-mvc-4, forms-authentication, simplemembership

我正在寻找为通配符子域应用程序实现简单成员身份验证。用户将登录到一个根站点（即 www.localhost.com）并被重定向到一个伪子域站点（www.user1.localhost.com）。服务器上只有一个应用程序。

以下用于身份验证的 web.config 条目不起作用：

```
<authentication mode="Forms">
  <forms loginUrl="~/Account/SignIn" timeout="2880" domain=".localhost" />
</authentication> 
```

上述条目不会验证用户进入根站点或任何用户特定站点。我的本地主机文件配置正确。

简单成员资格是否可以使用此身份验证方案？我错过了一步吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:05:47.433

无论您是使用 SMP 还是标准会员提供程序，都与 FormsAuthentication 过程和 cookie 传输和解密无关。

除了将`domain`属性设置为您的顶级域之外，请确保您[`machine keys`](http://msdn.microsoft.com/en-us/library/ff649308.aspx)在**两个**应用程序上配置相同。

# javascript - 使用 IE、FF 和 Chrome 通过 JavaScript 从 Excel 中检索数据

> ID：12775515
> 
> 赞同：7
> 
> 时间：2012-10-08T04:53:16.610
> 
> 标签：javascript, excel, internet-explorer, firefox, google-chrome

我有一个名为 test.xls 的 excel 文件。下面的 JS 代码在 Internet Explorer 中很好地从 Excel 中检索数据。但我想使用 Firefox 和 Chrome。FF 和 Chrome 的代码是什么？

```
<html>
<head>
<title>
Style Get data from excel sheet
</title>
<script language="javascript" >
  function GetData(cell,row){
  var excel = new ActiveXObject("Excel.Application");
  var excel_file = excel.Workbooks.Open("F:\\test.xls");
  var excel_sheet = excel.Worksheets("Sheet1");
  var data = excel_sheet.Cells(cell,row).Value;
  document.getElementById('div1').innerText =data;
  }
  </script>
</head>
<body>
<p>&nbsp;</p>
<div style="background: #009955; width:'100%';" align="center">
  <font color="#000080" size="12pt">
<b>Get data from excel sheets</b>
  </font>
</div>
<center>
<p>&nbsp;</p>
<div id="div1" style="background: #DFDFFF; width:'100%';" align="center">
Click buttons to fetch data from F:\\test.xls
</div>
<input type="button" value="cell(1),row(1)" onClick="GetData(1,1);" />
<input type="button" value="cell(1),row(2)" onClick="GetData(1,2);" />
<input type="button" value="cell(2),row(1)" onClick="GetData(2,1);" />
<input type="button" value="cell(2),row(2)" onClick="GetData(2,2);" />
</center>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T07:20:43.817

我相当确定这只适用于 Internet Explorer。此外，此解决方案取决于客户端计算机上安装的 excel。更好的解决方案是使用 epplus 并读取服务器上的文件（仅适用于 xlsx 文件，对于旧的 xlsx 文件还有其他解决方案）。

# matlab - 在 MATLAB 中从 csv 文件中读取字符串

> ID：12775517
> 
> 赞同：0
> 
> 时间：2012-10-08T04:53:19.073
> 
> 标签：matlab, csv, textinput

我有一个包含数字、日期和文本的 CSV 文件。我必须提取包含文本的列。

例如，示例 csv 文件看起来像

```
1-1-2000,1,2.3,TRUE    
2-1-2000,1,2.3,FALSE 
```

1.  我想提取包含 TRUE/FALSE 值的列。

2.  我想将 TRUE 转换为 1，将 FALSE 转换为 0。

请建议一些功能和示例代码来执行此操作

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T05:03:26.930

你可以试试这个：

```
[~,~,~,bools] = textread('filename.csv', '%s%d%f%s', 'delimiter', ',');

bools = cellfun(@strtrim, bool, 'uniformoutput', false);
bools = strcmp(bools, 'TRUE'); 
```

`strtrim`如果您事先知道没有任何尾随空格，则可能不需要该行。行为`strcmp`所有与字面值进行字符串比较的条目输出一个逻辑数组`TRUE`，这意味着**所有其他条目都是 false**。意义：

```
1-1-2000,1,2.3,TRUE    
2-1-2000,1,2.3,BANANAS 
```

将产生相同的逻辑向量。如果您还想明确比较字符串文字`FALSE`，请使用以下内容：

```
a = NaN(size(bools));
a(strcmp(bools, 'TRUE'))  = 1;
a(strcmp(bools, 'FALSE')) = 0;
if ~any(isnan(a))
    bools = logical(a);
    clear a
else
    %# handle the error
end 
```

# perl - 在 Perl 程序中写入和读取文件

> ID：12775521
> 
> 赞同：0
> 
> 时间：2012-10-08T04:53:46.583
> 
> 标签：perl, file-handling

我有一个原始文件**A.txt**。我写信给**A_Copy.txt**。我想知道我是否可以在关闭之前和在同一个程序中关闭它之后阅读**A_Copy.txt ？**我想在同一个程序中修改 **A_Copy.txt 。**`Tie::File`

A -> A_Copy.txt

关闭前阅读 A_Copy.txt

关闭后读取 A_Copy.txt

修改 A_Copy.txt

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T09:42:16.307

使用 copy 应该足以确保旧文件可读，而新文件可写可读，copy 表现非常好。要检查文件是否可读，最好的方法是使用 -r ，它使用系统 stat 调用

```
#!/usr/bin/perl

use File::Copy;
use Tie::File;

my $i = "A.txt";      # input file
my $o = "A_Copy.txt"; # output file
my @a;                # array to use with tie

copy($i, $o) or die;  

# check that the new file is readable, actually unneeded since copy
# would fail on any error
die unless (-r $o);   

# fill an array with the lines of the new file
tie @a, "Tie::File", $o or die;
# change the first line of the new file
$a[0] = "Hi"; 
```

# iphone - 哪个 InApp 购买套件适用于杂志发行产品？

> ID：12775525
> 
> 赞同：3
> 
> 时间：2012-10-08T04:54:09.387
> 
> 标签：iphone, ios, xcode, in-app-purchase

我正在实施报亭应用程序，我们每个月都通过订阅或直接购买旧问题来销售问题（所有问题的价格都不同）

我已经完成了订阅（自动更新）并且工作正常。

我的担忧是关于直接在应用内购买旧问题。哪种类型的 InApp 购买最适合我的应用程序消耗品或非消耗品的套件？

如果我选择非消耗品类型，我需要为每个问题创建新的产品 ID（问题是动态的，我必须创建很多产品 ID）

如果我选择消耗品类型，我可以对所有问题使用相同的产品 ID - 无需从 iTunes 管理 InApp，但在这种情况下，所有问题的价格都是相同的。

我的问题是，是否有任何解决方案可以用来处理 InApp 购买的动态问题，其中所有项目的价格都不相同，也不想为新问题创建新产品 ID。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T05:14:05.460

我已经找到了解决上述情况的方法......

`non-consumable`对于此类应用程序，我们必须使用应用内购买。如果我们使用`consumable`应用内购买来发行杂志，Apple 将拒绝您的申请。

是的，我们需要创建负责管理产品 ID 的 CMS。

如果有人在报亭应用中有任何问题，请告诉我。

谢谢

# java - 使用 java 获取便携式设备

> ID：12775528
> 
> 赞同：2
> 
> 时间：2012-10-08T04:54:54.697
> 
> 标签：java, applet, device, mobile-devices, drive-letter

我正在尝试使用 java 小程序访问在 Windows 7中显示为**便携式设备的设备中的某些文件（其中包含****“Windows CE”应用程序）。**

 **我的设备路径就像

```
“计算机\Attari 的设备\myfile.txt”
```

现在我正在尝试使用相同的地址从中访问文件，但它给出了路径错误或找不到文件。

同样我用

```
"\\.\Attari 的设备\myfile.txt"
```

但它导致了同样的错误告诉我如何使用 java applet 访问便携式设备

当我导航到连接的设备并右键单击文件并查看它的属性时，它显示它的位置为

```
位置：电脑\Attari的设备
```

此外，当我打开此文件时，它会自动放入我计算机的**临时文件中。**我也在使用签名小程序，所以没有文件访问被拒绝的问题

我也用过

```
文件.listRoots()
```

但它也没有列出附加的便携式设备我必须使用 java applet 在便携式设备中写入一些文件

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:45:15.670

我使用 JMTP 库找到了上述问题的解决方案

```
http://code.google.com/p/jmtp/
```

这是我的代码

```
    打包 jmtp；

```
import be.derycke.pieter.com.COMException;
import be.derycke.pieter.com.Guid;
import java.io.*;
import java.math.BigInteger;
import jmtp.PortableDevice;
import jmtp.*;

public class Jmtp {

    public static void main(String[] args) {
        PortableDeviceManager manager = new PortableDeviceManager();
        PortableDevice device = manager.getDevices()[0];
        // Connect to my mp3-player
        device.open();

        System.out.println(device.getModel());

        System.out.println("---------------");

        // Iterate over deviceObjects
        for (PortableDeviceObject object : device.getRootObjects()) {
            // If the object is a storage object
            if (object instanceof PortableDeviceStorageObject) {
                PortableDeviceStorageObject storage = (PortableDeviceStorageObject) object;

                for (PortableDeviceObject o2 : storage.getChildObjects()) {
//                    
//                        BigInteger bigInteger1 = new BigInteger("123456789");
//                        File file = new File("c:/JavaAppletSigningGuide.pdf");
//                        try {
//                            storage.addAudioObject(file, "jj", "jj", bigInteger1);
//                        } catch (Exception e) {
//                            //System.out.println("Exception e = " + e);
//                        }
//                    

                    System.out.println(o2.getOriginalFileName());
                }
            }
        }

        manager.getDevices()[0].close();

    }
} 
```

**不要忘记添加 jmtp.dll 文件（附带 jmtp 下载）作为本机库以获取更多信息，请参阅我的回答**

```
http://stackoverflow.com/questions/12798530/includes-native-library-in-netbeans
```

```**

# java - 使用 Spring 3.1，如何测试控制器的 url？

> ID：12775539
> 
> 赞同：1
> 
> 时间：2012-10-08T04:56:09.500
> 
> 标签：java, spring, unit-testing, spring-mvc, controller

在 spring (3.0) 的早期版本中，可以使用 ApplicationContext 中的 RequestMappingHandlerAdapter 和 HandlerMapping 对象通过正确的 url 测试您的控制器。但是，在 Spring 3.1 中，情况发生了变化，我用来完成这项工作的代码不再起作用。

如何在 Spring 3.1 中测试 Spring 控制器 url？例如，我想编写如下所示的代码：

```
ModelAndView modelAndView = handle("GET", "/businesses"); 
```

这样，除了控制器的动作逻辑之外，我还在测试我的映射。

特别是，我最感兴趣的是确保我可以传递会话属性并将它们正确传递给我的控制器操作的 @Valid 注释。

Spring 3.1有什么方法可以做到这一点吗？

这是我使用的代码：

```
protected ModelAndView handle(HttpServletRequest request, HttpServletResponse response) throws Exception {
    final HandlerMapping handlerMapping = applicationContext.getBean(RequestMappingHandlerMapping.class);

    final HandlerExecutionChain handler = handlerMapping.getHandler(request);
    assertNotNull("No handler found for request, check you request mapping", handler);

    final Object controller = handler.getHandler();

    final HandlerInterceptor[] interceptors = handlerMapping.getHandler(request).getInterceptors();
    for (HandlerInterceptor interceptor : interceptors) {
        final boolean carryOn = interceptor.preHandle(request, response, controller);
        if (!carryOn) {
            return null;
        }
    }

    return handlerAdapter.handle(request, response, controller);
}

protected ModelAndView handle(String method, String path, String queryString) throws Exception {
    request.setMethod(method);
    request.setRequestURI(path);

    if(queryString != null) {
        String[] parameters = queryString.split("&");
        for(String parameter : parameters) {
            String[] pair = parameter.split("=");
            if(pair.length == 2) {
                request.setParameter(pair[0], pair[1]);
            } else {
                request.setParameter(pair[0], "");
            }
        }
    }

    return handle(request, response);
}

protected ModelAndView handle(String method, String path, String attribute, Object object) throws Exception {
    MockHttpSession session = new MockHttpSession();
    session.setAttribute(attribute, object);
    request.setSession(session);

    return handle(method, path, null);
}

protected ModelAndView handle(String method, String path) throws Exception {
    return handle(method, path, null);
}

protected void assertContentType(ModelAndView modelAndView, String contentType) {
    assertEquals(contentType, modelAndView.getView().getContentType());
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T08:24:30.290

这是我在 Spring 3.1 中使用的测试用例之一。希望它能满足你的要求。

```
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration({"file:src/main/webapp/WEB-INF/spring/appServlet/servlet-context.xml" })
public class ControllerTest {
    @Autowired
    private RequestMappingHandlerAdapter handleAdapter;

    @Autowired
    private RequestMappingHandlerMapping handlerMapping;
    @Test
    public void playerControllerTest() throws Exception{

        MockHttpServletRequest request = new MockHttpServletRequest();
        MockHttpServletResponse response = new MockHttpServletResponse();
        request.setRequestURI("/players.show");
        request.setMethod("GET");

        Object handler = handlerMapping.getHandler(request).getHandler();
        ModelAndView mav = handleAdapter.handle(request, response,handler);

        ModelAndViewAssert.assertViewName(mav,"players");

    }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T00:20:38.607

让我推荐一下[spring-test-mvc](https://github.com/SpringSource/spring-test-mvc)，它目前在 1.0.0M1 中，但计划与更新的 Spring MVC 版本一起打包。它应该能够很容易地处理您正在寻找的情况，您的测试最终将如下所示：

```
xmlConfigSetup("classpath:/META-INF/spring/web/webmvc-config.xml")
            .configureWebAppRootDir("src/main/webapp", false).build()
            .perform(get("/businesses").param("name", "param1"))
            .andExpect(status().isOk())
            .andExpect(view().name("viewname")); 
```

您的测试看起来确实适合 3.1，因此如果您仍想继续使用您的方法，您能否准确指出什么不起作用 - 听起来正常请求正在通过但会话属性似乎没有绑定？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T05:10:05.773

[这](http://rstoyanchev.github.com/spring-31-and-mvc-test/#1)是一个非常好的演示文稿，它讨论了测试 Spring 3.1 类和控制器，以下是一个示例：

```
@Test
public void testSave() {

    Account account = new Account();
    BindingResult result = 
        new BeanPropertyBindingResult(account, "account");

    AccountManager mgr = createMock(AccountManager.class);
    mgr.saveOrUpdate(account);
    replay(mgr);

    AccountController contrlr = new AccountController(mgr);

    String view = contrlr.save(account, result);

    assertEquals("redirect:accounts", view);
    verify(mgr);
} 
```

希望有帮助！

# entity-framework - 实体框架迁移：仅 Web 服务器上的错误

> ID：12775543
> 
> 赞同：0
> 
> 时间：2012-10-08T04:56:38.190
> 
> 标签：entity-framework, entity-framework-migrations

错误 0175：在配置中找不到指定的商店提供程序，或者无效

我正在使用实体框架代码优先迁移，并且在本地一切都很好。

我的数据库是 SQLServer 2008。（也使用 SQL CE 进行本地开发）我可以毫无问题地在本地使用实时 SQL Server db 连接字符串。

这是 _appStart.cshtml 中的迁移代码：

```
@using EF = System.Data.Entity;
@using TCommon = Told.Web.Common.Logic;
@{
    // Manually initialize
    var initializer = new EF.MigrateDatabaseToLatestVersion<TCommon.CommonContext, TCommon.Migrations.Configuration>();
    System.Data.Entity.Database.SetInitializer(initializer);
    initializer.InitializeDatabase(new TCommon.CommonContext());

    // DB Maintenance
    TCommon.AppUserLogic.CleanDatabase();

    // Asp.Net
    WebSecurity.InitializeDatabaseConnection("ToldDB", "UserProfile", "UserId", "Email", true);

    // Common
    TCommon.AppStart.Run();
} 
```

这在当地很有效。无论是针对 SQL CE 还是针对我的实时数据库。它在本地运行良好，可以将我的实时数据库迁移到最新版本。

但是，当我把它放在我的网络服务器上时，它会抛出这个异常：

## 例外

```
Server Error in '/' Application.

Schema specified is not valid. Errors: 
(0,0) : error 0175: The specified store provider cannot be found in the configuration, or is not valid.

[MetadataException: Schema specified is not valid. Errors: 
(0,0) : error 0175: The specified store provider cannot be found in the configuration, or is not valid.]
   System.Data.Metadata.Edm.Loader.ThrowOnNonWarningErrors() +8566285
   System.Data.Metadata.Edm.Loader.LoadItems(IEnumerable`1 xmlReaders, IEnumerable`1 sourceFilePaths) +181
   System.Data.Metadata.Edm.StoreItemCollection.Init(IEnumerable`1 xmlReaders, IEnumerable`1 filePaths, Boolean throwOnError, DbProviderManifest& providerManifest, DbProviderFactory& providerFactory, String& providerManifestToken, Memoizer`2& cachedCTypeFunction) +211
   System.Data.Metadata.Edm.StoreItemCollection..ctor(IEnumerable`1 xmlReaders) +295
   System.Data.Entity.Migrations.Extensions.XDocumentExtensions.GetStoreItemCollection(XDocument model, DbProviderInfo& providerInfo) +180
   System.Data.Entity.Migrations.Infrastructure.EdmModelDiffer.Diff(XDocument sourceModel, XDocument targetModel, String connectionString) +48
   System.Data.Entity.Migrations.DbMigrator.IsModelOutOfDate(XDocument model, DbMigration lastMigration) +55
   System.Data.Entity.Migrations.DbMigrator.Upgrade(IEnumerable`1 pendingMigrations, String targetMigrationId, String lastMigrationId) +269
   System.Data.Entity.Migrations.DbMigrator.Update(String targetMigration) +456
   System.Data.Entity.MigrateDatabaseToLatestVersion`2.InitializeDatabase(TContext context) +64 
```

现在，这与迁移尝试有关。因此，当我将迁移调用包装在 try-catch 块中时，我可以很好地使用数据库（因为我在本地迁移了实时数据库）。

```
@using EF = System.Data.Entity;
@using TCommon = Told.Web.Common.Logic;
@{
    // Manually initialize
    var initializer = new EF.MigrateDatabaseToLatestVersion<TCommon.CommonContext, TCommon.Migrations.Configuration>();
    System.Data.Entity.Database.SetInitializer(initializer);
    try
    {
        initializer.InitializeDatabase(new TCommon.CommonContext());
    }
    catch (Exception ex)
    {
    }

    var db = new TCommon.CommonContext();
    var test = db.AppUsers.FirstOrDefault();

    // DB Maintenance
    TCommon.AppUserLogic.CleanDatabase();

    // Asp.Net
    WebSecurity.InitializeDatabaseConnection("ToldDB", "UserProfile", "UserId", "Email", true);

    // Common
    TCommon.AppStart.Run();
} 
```

当我尝试在我的 Web 服务器上运行迁移差异检查时，什么会导致它失败？

* * *

### 编辑：

这是实体框架的 web.config：

```
<configuration>
  <configSections>
    ...
    <section name="entityFramework" type="System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection, EntityFramework, Version=4.4.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" requirePermission="false"/>
  </configSections>
  ...
  <entityFramework>
    <defaultConnectionFactory type="System.Data.Entity.Infrastructure.SqlConnectionFactory, EntityFramework"/>
  </entityFramework>
  <system.web>
    <trace enabled="true" requestLimit="40" localOnly="false" pageOutput="true"  />
    <customErrors mode="Off"/>
    <compilation debug="true" targetFramework="4.0">
      <assemblies>
        <add assembly="System.Data.Entity, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/>
        <add assembly="System.Web.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
      </assemblies>
    </compilation>
  </system.web>
  ...
  <connectionStrings>
    <add name="ToldDB" connectionString="..." providerName="System.Data.SqlClient" />
  </connectionStrings>
</configuration> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T13:23:23.043

我现在找到了答案：确保安装了这些 nuget 包：Microsoft.SqlServer.Compact 和 EntityFramework.SqlServerCompact

再次部署，并确保 SQL Server CE 现在位于 \bin 文件夹中（包含所有文件的 x86 和 amd64 文件夹）。而且这些文件必须在 bin 文件夹中： System.Data.SqlServerCe.dll System.Data.SqlServerCe.Entity.dll

确保它是正确的版本。用SQL Ce安装的那个不行，肯定是nuget包里的那个。

还要确保 Web.config 包含以下内容：

```
<system.data>
    <DbProviderFactories>
        <remove invariant="System.Data.SqlServerCe.4.0" />
        <add name="Microsoft SQL Server Compact Data Provider 4.0" invariant="System.Data.SqlServerCe.4.0" description=".NET Framework Data Provider for Microsoft SQL Server Compact" type="System.Data.SqlServerCe.SqlCeProviderFactory, System.Data.SqlServerCe, Version=4.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91" />
    </DbProviderFactories>
</system.data> 
```

和这个：

```
<dependentAssembly>
    <assemblyIdentity name="System.Data" publicKeyToken="b77a5c561934e089" culture="neutral" />
    <bindingRedirect oldVersion="0.0.0.0-4.0.0.0" newVersion="4.0.0.0" />
</dependentAssembly> 
```

请注意，无论您是否在生产服务器上使用 SqlCE，都必须这样做。不过，我不确定您是否需要数据库本身的 bin 文件。

# c# - C# 中的 curl_setopt

> ID：12775545
> 
> 赞同：1
> 
> 时间：2012-10-08T04:56:53.130
> 
> 标签：c#, php, curl, httpwebrequest

我有像下面这样的 PHP 代码，我想编写一个在 C# 中完成相同工作的函数。但是，我不明白 curl_setotp 到底是做什么的。我怎样才能写出这样的函数？

```
public static function sendDataAuth( $url, $doc,$authData) {

    $ch = curl_init($url );
    curl_setopt($ch, CURLOPT_POST, 1);
    curl_setopt($ch, CURLOPT_POSTFIELDS, $doc);
    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 0); 
    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); 
    curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false); 
    curl_setopt($ch, CURLOPT_HEADER, false);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);

    curl_setopt($ch,CURLOPT_HTTPHEADER,array('OpenPayu-Signature:'.$authData));

    $response = curl_exec($ch);

    return $response;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T05:17:02.983

`curl_setopt`为 cURL 设置一些选项。[您可以在php.net](http://php.net/manual/en/function.curl-setopt.php)上查看这些选项的含义。

`CURLOPT_HTTPHEADER`只是要发送的标头，`CURLOPT_POSTFIELDS`是要发送的数据。

# haskell - Haskell 函数返回重叠元素的数量

> ID：12775548
> 
> 赞同：1
> 
> 时间：2012-10-08T04:57:16.000
> 
> 标签：haskell, functional-programming

你将如何定义一个接受两个字符串的函数，比如字符串 x 和字符串 y，并返回第一个字符串（字符串 x）末尾与第二个字符串开头（第二个 y）重叠的元素数。

我认为使用前奏中的 isPrefixOf 来执行此操作是个好主意，因为它会检查一个字符串是否在另一个字符串中，如果是则返回 True 否则返回 False 。但是我对如何返回有多少元素重叠的计数有点困惑。我根据我认为您将如何解决问题编写了一些伪代码。

```
countElements :: Eq a => (Str a, Str a) -> Int
countElements (x,y) = 
     if x `isPrefixOf` y == True
         then return the count of how many elements overlap
     otherwise 0 
```

示例输出为：

```
countElements (board, directors) = 1
countElements (bend, ending) = 3 
```

这里有什么帮助吗？我不太擅长编写 Haskell 代码。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T05:40:09.060

您的想法完全正确，但是您的伪代码忽略了这样一个事实，即您必须迭代传递给函数的第一个字符串的所有可能尾部。

```
countElements :: String -> String -> Int
countElements s t = length $ head $ filter (`isPrefixOf` t) (tails s)

> countElements "board" "directors"
1
> countElements "bend" "endings"
3 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-08T07:21:28.867

没有的版本`isPrefixOf`：

```
import Data.List

countElements xs ys = length . fst . last . filter (uncurry (==)) $ zip (reverse $ tails xs) (inits ys) 
```

# java - 我的大脑解析器代码有什么问题？

> ID：12775550
> 
> 赞同：4
> 
> 时间：2012-10-08T04:57:52.293
> 
> 标签：java, parsing, brainfuck, esoteric-languages

我正在尝试用 Java 编写一个程序，它可以读取、编译和运行[Brainfuck](http://en.wikipedia.org/wiki/Brainfuck)源文件 ( `.bf`)。我已经让它与 Wikipedia 的 Hello World 示例一起正常工作，但它在 ROT13 示例中中断（声称它`]`在实际匹配时达到了无与伦比的）。

实际的解析器代码都写在一个`.JAVA`文件中，但它的核心（真正的大脑解析器和运行代码）在下面的方法中，`doNow(char)`. 以下是变量的含义：`cells`是要运行的字符数组 ( `char[]`)；`pointer`是指向数组中地址的 Java 解决方法 ( `short`)；`PC`是程序计数器 ( `int`)，并且`loopStack`是对应于`[`s 的地址堆栈（基本上是 a `short[]`）。这些都不是问题，因为它们在 Hello World 测试中工作得很好。接受输入的方法会自动过滤掉多余的字符，我通过调试检查确认它可以正常工作。

**为什么这个解析器不运行 ROT 13 代码？**

## 代码

* * *

**我的解析器，用 Java 编写**

```
 /** The array of data */
  private byte[] cells = new byte[Short.MAX_VALUE];
  /** The pointer that is manipulated by the user or program */
  private short pointer = 0;
  /** The program counter, to run compiled programs */
  private int PC = 0;
  /** The compiled commands */
  private ArrayPP<Character> commandBuffer = new ArrayPP<>();
  /** The stack of locations of loop brackets ({@code [}) in the command buffer */
  private ArrayPP<Short> loopStack = new ArrayPP<>();//ArrayPP is my proprietary augmented array object, which also functions as a perfectly working stack.

  public int doNow(char command) throws IOException
  {
    PC++;
    switch (command)
    {
      case '>':
        return ++pointer;
      case '<':
        return --pointer;
      case '+':
        return ++cells[pointer];
      case '-':
        return --cells[pointer];
      case '.':
        System.out.print((char)cells[pointer]);
        return 0;
      case ',':
        return cells[pointer] = (byte)System.in.read();
      case '[':
        if (cells[pointer] == 0)//If we're ready to skip this conditional
        {
          int oldPC = PC;
          try
          {
            while (getCompiledCommand(PC) != ']')//Find the matching ]
              PC++;
            PC++;//Now that we're at the ], skip over it to the next command
          }
          catch (ArrayIndexOutOfBoundsException e)
          {
            throw new NullPointerException("Unmatched '[' at " + oldPC);//If we try to reference a command outside the buffer
          }
        }
        else//if we want to enter this conditional
          loopStack.push(PC - 1);//Add the location of this conditional to the list of conditionals which we are in
        return PC;
      case ']':
        try
        {
          return PC = loopStack.pop();//Move us to the matching [ and remove it from the list of conditionals we're in
        }
        catch (ArrayIndexOutOfBoundsException e)
        {
          throw new NullPointerException("Unmatched ] at " + PC);//If the loop stack is empty
        }
      default:
        throw new AssertionError(command + " is not a valid command.");
    }
  }
  public char getCompiledCommand(int commandIndex)
  {
    return commandBuffer.get(commandIndex);//Look into the buffer of precompiled commands and fetch the one at the given index
  } 
```

**Hello World 示例**（完美运行）

```
+++++ +++++             initialize counter (cell #0) to 10
[                       use loop to set the next four cells to 70/100/30/10
    > +++++ ++              add  7 to cell #1
    > +++++ +++++           add 10 to cell #2 
    > +++                   add  3 to cell #3
    > +                     add  1 to cell #4
    <<<< -                  decrement counter (cell #0)
]                   
> ++ .                  print 'H'
> + .                   print 'e'
+++++ ++ .              print 'l'
.                       print 'l'
+++ .                   print 'o'
> ++ .                  print ' '
<< +++++ +++++ +++++ .  print 'W'
> .                     print 'o'
+++ .                   print 'r'
----- - .               print 'l'
----- --- .             print 'd'
> + .                   print '!'
> .                     print '\n' 
```

**ROT 13 示例**（我的测试控制台输入是`M`. 在几次循环迭代后在命令 54 上中断）

```
-,+[                         Read first character and start outer character reading loop
    -[                       Skip forward if character is 0
        >>++++[>++++++++<-]  Set up divisor (32) for division loop
                               (MEMORY LAYOUT: dividend copy remainder divisor quotient zero zero)
        <+<-[                Set up dividend (x minus 1) and enter division loop
            >+>+>-[>>>]      Increase copy and remainder / reduce divisor / Normal case: skip forward
            <[[>+<-]>>+>]    Special case: move remainder back to divisor and increase quotient
            <<<<<-           Decrement dividend
        ]                    End division loop
    ]>>>[-]+                 End skip loop; zero former divisor and reuse space for a flag
    >--[-[<->+++[-]]]<[         Zero that flag unless quotient was 2 or 3; zero quotient; check flag
        ++++++++++++<[       If flag then set up divisor (13) for second division loop
                               (MEMORY LAYOUT: zero copy dividend divisor remainder quotient zero zero)
            >-[>+>>]         Reduce divisor; Normal case: increase remainder
            >[+[<+>-]>+>>]   Special case: increase remainder / move it back to divisor / increase quotient
            <<<<<-           Decrease dividend
        ]                    End division loop
        >>[<+>-]             Add remainder back to divisor to get a useful 13
        >[                   Skip forward if quotient was 0
            -[               Decrement quotient and skip forward if quotient was 1
                -<<[-]>>     Zero quotient and divisor if quotient was 2
            ]<<[<<->>-]>>    Zero divisor and subtract 13 from copy if quotient was 1
        ]<<[<<+>>-]          Zero divisor and add 13 to copy if quotient was 0
    ]                        End outer skip loop (jump to here if ((character minus 1)/32) was not 2 or 3)
    <[-]                     Clear remainder from first division if second division was skipped
    <.[-]                    Output ROT13ed character from copy and clear it
    <-,+                     Read next character
]                            End character reading loop 
```

说清楚，这里是它打破的地方：

```
 >[+[<+>-]>+>>]   Special case: increase remainder / move it back to divisor / increase quotient
                         ^ 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-08T05:29:45.413

您应该跟踪 '[' 案例分支中的 '[]' 嵌套：现在，第一个 '[' 的匹配`[+++[----]+]`是第一个 ']'，这是不好的。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-08T05:32:23.867

## 问题

* * *

看来问题出在这一行：

```
 while (getCompiledCommand(PC) != ']')//Find the matching ] 
```

这在 Hello World 程序中运行良好，因为它没有嵌套循环。但是，对于嵌套循环，我们会遇到第一个遇到的问题`]`，这并不总是匹配的`]`。

## 使固定

* * *

一种可能的解决方法是在 while 循环之前引入一个变量，例如`loopCount`，并在每次遇到 a 时将其递增，然后在遇到 a 且大于 0`[`时将其递减。例如：`]``loopCount`

```
 int loopCount = 0;
        while ((command = getCompiledCommand(PC)) != ']' && loopCount == 0)//Find the matching ]. We can save the return in command because we're done using it.
        {
          if (command == '[')//If we run into a nested loop
            loopCount++;
          else if (command == ']')//If we run into the end of a nested loop
            loopCount--;

          PC++;
        } 
```

# c# - 应用程序中的层设计

> ID：12775554
> 
> 赞同：2
> 
> 时间：2012-10-08T04:58:22.053
> 
> 标签：c#, design-patterns, domain-driven-design

我一直在编写分层的应用程序：

DB<->DAL<->BL<->服务<->演示

这就是引用的全部内容。也就是说，演示文稿没有对 DAL 的引用。

我们有一个要为客户编写的新应用程序，而客户提出的建议对我来说是陌生的。也就是说，WRITE 流经过 SL，但要从数据库中读取数据，希望我们在演示文稿中有一个 linq 查询，直接到 DAL。这似乎很奇怪，但有人告诉我，我的方式是老式的，我的方式，他们提出的方式本质上是一样的。

另外，我的业务逻辑通常驻留在 BL 中，这是一个单独的项目。但是客户希望业务逻辑在 DTO 对象本身中。

这是正常的吗？这基本上是领域驱动开发还是什么？我觉得奇怪的是，获取表单数据的 linq 调用位于表示层，而不是我对服务层方法的想法：

```
public MyPersonObject GetPersonByPersonId(int personId) 
```

然后是 Business 中的相同方法，它可能会对所获得的内容应用一些规则，然后是具有 Linq 的 DAL 中的相同方法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T05:24:00.943

客户就是客户，你听说过[CQRS](http://martinfowler.com/bliki/CQRS.html)吗？

您的客户可能会受到 CQRS 的影响，这是领域驱动设计中的一种新架构时尚。一般来说，它以不同的方式将命令和查询分离到数据库中。

但是在您的客户提出的方法中，传统的 DDD 和 CQRS 之间似乎混杂在一起，而 CQRS 内部不使用[事件](http://martinfowler.com/eaaDev/EventSourcing.html)溯源。但它仍然可以正常工作，恕我直言，为表示层提供数据的查询是微不足道的，它本质上并不复杂。它就像报表系统只是从数据库中查询数据，你不需要为此使用 ORM。

> 另外，我的业务逻辑通常驻留在 BL 中，这是一个单独的项目。但是客户希望业务逻辑在 DTO 对象本身中。

业务逻辑应该在领域实体中，如果不是，似乎你违反了[贫血模型反模式](http://martinfowler.com/bliki/AnemicDomainModel.html)，它也不在 DTO 中。DTO是分布层与消费者之间数据传输对象的概念。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T12:27:11.650

你所描述的绝不是DDD。虽然一些 DDD 实现确实使用拆分架构来处理查询和命令（CQRS 方法），但它并没有消除对应用程序良好分层的需求。

如果写入通过服务层，这可能意味着您的软件至少具有合理的复杂性，因此，应该通过中间的抽象层将表示与持久性分离。在 CQRS 中，该层通常采用 Facade 的形式，接受查询并返回包含所需数据的 DTO。

> 但是客户希望业务逻辑在 DTO 对象本身中。

DTO 代表数据传输对象。DTO 不包含任何业务逻辑，除了承载数据之外没有其他用途。

# excel - Excel VBA 2010 - 命令按钮停止使用选定的多个工作表

> ID：12775558
> 
> 赞同：2
> 
> 时间：2012-10-08T04:58:46.687
> 
> 标签：excel, excel-2010, vba

我的问题是当我在工作簿中选择多个工作表时命令按钮无法响应。我在这里测试的工作簿只是为了研究和解决这个问题，我最初是在一个更复杂的工作簿中找到的。

我的工作簿共有 5 个工作表。sheet1 上有四个 ActiveX 命令按钮。这四个按钮启动代码以同时选择多个工作表或仅选择 sheet1。

一起选择多个工作表后，只能再次单击实际单击的最后一个按钮，工作表 1 上的其余按钮不再响应，例如它们被禁用或其他什么。一旦我手动取消选择工作表以便只选择 sheet1，控件就会开始正常工作。

奇怪..我认为这一定是 Excel 中的某种错误。如果我手动选择多个工作表而不是让代码来做，我也可以复制这个问题。

到目前为止，我的一些发现...

1.  只要两张或更多张，我选择多少张似乎并不重要。
2.  VBA 代码选择或手动 SHIFT-CLICK 无关紧要。
3.  一旦其他按钮被锁定，最后一个按钮激活仍然运行。
4.  我只用 Excel 2010 得到这个，Excel 2007 没有这个问题。
5.  我已经在一个孤立的工作簿中复制了这个问题，所以我认为这不是腐败问题。

4 个命令按钮执行如下所示的功能。如果代码运行，每个按钮都会标记相邻的单元格。我延迟了 1 秒，以验证连续两次单击按钮是否有效。

*   CMD 1：仅选择 sheet1
*   CMD 2：仅选择 sheet1
*   CMD 3：选择 sheet1 和 sheet2
*   CMD 4：通过模块1中的子例程选择sheet1到sheet4

这是我的代码附加到 sheet1....

```
Option Explicit

Private Sub CommandButton1_Click()
    Call MarkCmdsAsInactive
    Me.Select
    Call WaitSeconds(1)
    Range("E6").Value = "CMD 1 Works"
End Sub

Private Sub CommandButton2_Click()
    Call MarkCmdsAsInactive
    Me.Select
    Call WaitSeconds(1)
    Range("E10").Value = "CMD 2 Works"
End Sub

Private Sub CommandButton3_Click()
    Call MarkCmdsAsInactive
    Sheets(Array("Sheet1", "Sheet2")).Select
    Call WaitSeconds(1)
    Range("E14").Value = "CMD 3 Works"
End Sub

Private Sub CommandButton4_Click()
    Call MarkCmdsAsInactive
    Call SelectSomeSheets
    Call WaitSeconds(1)
    Range("E18").Value = "CMD 4 Works"
End Sub

Private Sub MarkCmdsAsInactive()
    Range("E6").Value = "Inactive"
    Range("E10").Value = "Inactive"
    Range("E14").Value = "Inactive"
    Range("E18").Value = "Inactive"
End Sub

Private Sub WaitSeconds(waitInSeconds As Variant)
    Dim newHour As Variant
    Dim newMinute As Variant
    Dim newSecond As Variant
    Dim waitTime As Variant

    newHour = Hour(Now())
    newMinute = Minute(Now())
    newSecond = Second(Now()) + waitInSeconds
    waitTime = TimeSerial(newHour, newMinute, newSecond)
    Application.Wait waitTime
End Sub 
```

在模块 1 中，我有...

```
Option Explicit

Sub SelectSomeSheets()
    Sheets(Array("Sheet1", "Sheet2", "Sheet3", "Sheet4")).Select
End Sub 
```

* * *

2012-10-09 更新

这是在 Excel 2010 中复制此错误的简单方法...

1.  在 sheet1 上放置 4 个命令按钮。
2.  将下面的代码复制到 sheet1。
3.  在每个“End Sub”语句上放置断点。
4.  尝试单击仅选中 sheet1 的按钮。所有按钮启动例程。
5.  SHIFT-CLICK 选择一组工作表。
6.  在选中工作表组的情况下再次尝试按钮。只有最后使用的按钮有效。

    Private Sub CommandButton1_Click() End Sub

    私有子 CommandButton2_Click() 结束子

    私有子 CommandButton3_Click() 结束子

    Private Sub CommandButton4_Click() End Sub

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T11:03:59.410

我想这与 ActiveX 按钮的“范围”有关（即范围是 sheet1 而不是 sheet1+sheet2+...）。似乎选择多个工作表会停用工作表 1 中的命令按钮，即使工作表 1 仍然是“活动”工作表。因为 ActiveX 组件是 sheet1 专用的。

作为一种解决方法，我将您`Sub CommandButtonX_Click`移至模块 1，删除了`Private`关键字，创建了一个自定义功能区 MyTools，其中 4 个 Sub 作为可选元素。通过这种方式，我将子组件的可见性从工作表级别移动到应用程序级别和所有工作。

当然，我也必须`Me.Select`改成`Sheets("Sheet1").Select`（尽管我讨厌这样的硬编码......）

希望有帮助...

# java - while循环中的输入（扫描仪）变量

> ID：12775559
> 
> 赞同：0
> 
> 时间：2012-10-08T04:58:50.437
> 
> 标签：java

我试图让程序要求一个百分比（等级），但我希望它在用户进行第一次输入并看到输出后再次询问。我在循环时遇到问题，因为没有分配变量 myMark。

```
import java.util.Scanner;
public class passFail{

    public static void main(String[] args){

        Scanner result = new Scanner(System.in);
        int myMark = 0;

        while(myMark >=0 && myMark <=100){

            System.out.println("Please enter the percentage you have received:");
            myMark = result.nextInt();

            if(myMark <=49 && myMark >=0){

                System.out.println("You have failed!");
            }

            else if(myMark <=59 && myMark >=50){
                System.out.println("You have passed!");
            }

            else if(myMark <=69 && myMark >=60){
                System.out.println("You have received a Credit");
            }

            else if(myMark <=79 && myMark >=70){
                System.out.println("You have received a Distinction!");
            }

            else if(myMark <=100 && myMark >=80){
                System.out.println("You have received a High Distinction");
            }

            else{
                System.out.println("Please enter a whole number");
            }

        }

    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T05:00:41.963

使用前需要先定义`myMark`。如下所示：

```
 Scanner result = new Scanner(System.in); 
  int myMark = result.nextInt();

  while(myMark >=0 && myMark <= 100){

        System.out.println("Please enter the percentage you have received:");
        myMark = result.nextInt();
      .................. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T05:03:25.970

**-**你忘记`declare`了变量`myMark`。

**-**您已将其声明为`Type`（数据类型）

**例如：**

```
int myMark; 
```

**-**如果你把`Scanner` **循环放在外面**会更好，因为你只想得到一次输入......

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T05:08:06.407

你应该在循环条件`myMark`中使用它之前声明你的..另外，你应该声明你的实例变量..`while``Scanner`

```
public class Demo {
    private Scanner scanner = new Scanner(System.in);

    public static void main(String[] args) {

        int myMarks = 0;
        while (myMarks >= 0 && myMark < 100) {
            // Rest is all same
        }
    }
} 
```

# iphone - 如果我在删除后下载相同的应用程序，ANPS 的设备令牌是否会更改？

> ID：12775560
> 
> 赞同：0
> 
> 时间：2012-10-08T04:58:59.827
> 
> 标签：iphone, ios, apple-push-notifications, devicetoken

我想知道如何更改同一设备的 DeviceToken。

在这里给你解释一下，

假设我从 AppStore 下载应用程序到我的设备，然后应用程序会将设备令牌注册到服务器。- 可以说它是TOKEN1

现在我从我的设备中删除该应用程序。再次从 AppStore 下载该应用程序，然后该应用程序将再次将设备令牌注册到服务器。- 可以说它是TOKEN2

我的问题是 TOKEN1 和 TOKEN2 是一样的吗？

请清除我的疑虑。

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T05:10:15.137

只要设备证书与应用程序相同，它们将相同。

欲了解更多信息，[请阅读苹果文档](http://developer.apple.com/library/mac/#documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/ApplePushService/ApplePushService.html#//apple_ref/doc/uid/TP40008194-CH100-SW12) 它说：`APNs generates a device token using information contained in the unique device certificate`

# jquery-ui - 寻找标签式导航菜单样式？

> ID：12775561
> 
> 赞同：0
> 
> 时间：2012-10-08T04:59:06.130
> 
> 标签：jquery-ui, css

我正在寻找一个标签式导航菜单，它可以**将图像**作为标签项。所以我有这样的事情：

```
 <div class="menu">

            <a href="#">
                    <img src="images/Chrysanthemum.jpg" style="width:10%; height:10%" title="Chrysanthemum" />
            </a>
            <a href="#">
                    <img src="images/Desert.jpg" style="width:10%; height:10%"  title="Desert" />
            </a>
            <a href="#">
                    <img src="images/Hydrangeas.jpg" style="width:10%; height:10%"  title="Hydrangeas"/>
            </a>
            <a href="#">
                    <img src="images/Jellyfish.jpg" style="width:10%; height:10%"  title="Jellyfish" />
            </a>
            <a href="#">
                    <img src="images/Penguins.jpg" style="width:10%; height:10%"  title="Penguins" />
            </a>

        </div> 
```

我已经尝试了一些 jquery/css，但我找不到一个可以为包含图像的选项卡提供漂亮样式的选项？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T05:20:17.537

试试 jQuery UI 选项卡。

[查看http://jqueryui.com/demos/tabs/#default](http://jqueryui.com/demos/tabs/#default)上的代码

替换演示中的导航项，即

```
<ul>
  <li><a href="#tabs-1">Nunc tincidunt</a></li>
  <li><a href="#tabs-2">Proin dolor</a></li>
  <li><a href="#tabs-3">Aenean lacinia</a></li>
</ul> 
```

与您的内容，例如...

```
<ul>
  <li>
    <a href="#"><img src="images/Chrysanthemum.jpg" style="width:10%; height:10%" title="Chrysanthemum" /></a>
  </li>
  <li>
    <a href="#"><img src="images/Desert.jpg" style="width:10%; height:10%"  title="Desert" /></a>
  </li>
  <li>
    <a href="#"><img src="images/Hydrangeas.jpg" style="width:10%; height:10%"  title="Hydrangeas"/></a>
  </li>
  <li>
    <a href="#"><img src="images/Jellyfish.jpg" style="width:10%; height:10%"  title="Jellyfish" /></a>
  </li>
  <li>
    <a href="#"><img src="images/Penguins.jpg" style="width:10%; height:10%"  title="Penguins" /></a>
  </li>
</ul> 
```

*图片的大小应该适合您的标签。*

希望你能理解... :)

# python - django 帖子中的“阅读更多”

> ID：12775565
> 
> 赞同：6
> 
> 时间：2012-10-08T04:59:54.253
> 
> 标签：python, html, django, django-templates

我正在 django/webfaction 上创建一个博客。目前我的主页显示所有帖子的所有内容。我想对其进行调整以仅显示每篇文章的几行，并且每篇文章都以“阅读更多”链接结尾。如何做到这一点？我是 django 和 python 的新手。请帮助我。

home.html 中的代码：

> ```
> {% block content %}
> 
>   {% for post in object_list %}
>   <h2>{{ post.title }} </h2>
> 
>   <div class = "post_meta">
>       on {{ post.created}}
>   </div>
> 
>   <div class = "post_body">
>       {{ post.body|safe|linebreaks}}
>   </div>
> 
>   {% endfor %}
> 
> {% endblock %} 
> ```

提前致谢。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-10-08T05:38:01.433

您可以使用内置模板过滤器截断[文档](https://docs.djangoproject.com/en/dev/ref/templates/builtins/?from=olddocs#truncatewords)

```
 <div class = "post_body">
      {{ post.body|safe|truncatewords:"50"|linebreaks }}
      <a href="{{ url_for_full_content }}">read more</a>
  </div> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T05:38:31.757

可以`SplitField`在[django-model-utils](https://bitbucket.org/carljm/django-model-utils/src/730c25fb8cbf/model_utils/fields.py#cl-178)扩展中看到字段模型的实现：

```
from django.db import models
from model_utils.fields import SplitField

class Article(models.Model):
    title = models.CharField(max_length=100)
    body = SplitField()

>>> a = Article.objects.all()[0]
>>> a.body.content
u'some text\n\n<!-- split -->\n\nmore text'
>>> a.body.excerpt
u'some text\n'
>>> unicode(a.body)
u'some text\n\n<!-- split -->\n\nmore text' 
```

它正确地完成了您需要的工作。在[文档](http://pypi.python.org/pypi/django-model-utils#splitfield)中阅读更多内容。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2021-08-21T16:42:58.407

I know this post is old but here is how i solved this problem thanks to stackoverflow...

```
{% with text=post.body %}
        {% if text|wordcount > 56 %}
    <p class="half-content" id="half-{{ post.pk }}">{{text|safe|linebreaks|truncatewords:50}}<a data-id="{{ post.pk }}" href="javascript:void();" class="show-hide-btn"><br>Read more</a></p>
    <p class="full-content" id="full-{{post.pk }}" style="display: none;">{{ text|safe|linebreaks }}<a data-id="{{ post.pk}}" href="javascript:void();" class="show-hide-btn">Read less</a></p>
    {% else %}
        <p>
    {{ text|safe|linebreaks }}
    </p>
    {% endif %}
    {% endwith %} 
```

this is the js code that you should add in your template also...

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    $(document).ready(function() {
  $(".show-hide-btn").click(function() {
    var id = $(this).data("id");
    $("#half-" + id).toggle();//hide/show..
    $("#full-" + id).toggle();
  })
})
</script> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-10-04T18:30:39.003

```
<p  class="article-content ">{{ post.content|truncatewords:"35"|linebreaks }}</p> 
```

# java - JAVA EE SDK 是否包含 JAVA EE DOC 中的 API？

> ID：12775566
> 
> 赞同：1
> 
> 时间：2012-10-08T05:00:02.073
> 
> 标签：java, jakarta-ee, installation

我安装了 JAVA SE JDK，然后安装了 JAVA EE SDK java_ee_sdk-6u4-jdk7-windows-x64.exe，因为后者需要 jre。但后来我发现java ee sdk只不过是java se的新东西，它是java se jdk+ glassfish平台的组合。我不知道我是否正确，因为我在其中找不到那些“java ee”类。（和jre/lib中的.jar文件都是一样的）很奇怪。让我们说 JavaMail 包，我在我的 java ee jre 中找不到它，但据说这个包包含在 Java ee 平台中。

我所期望的是我也找不到的新 api 和“java ee”源代码。我真的很想知道如何获得一个 jdk，其中包含 [http://docs.oracle.com/javaee/6/api/中描述的所有 api](http://docs.oracle.com/javaee/6/api/)

有人可以告诉我这个问题是否正确（JAVA EE SDK 不包含 JAVA EE API）？如果我是对的，我在使用时是否需要从互联网上获取每个 jar 库？那么java se + external lib和java ee有什么区别呢？还是我安装的时候出错了？

感谢你们！

# label - 在 Eclipse rcp 的 swt 表中显示标签

> ID：12775572
> 
> 赞同：1
> 
> 时间：2012-10-08T05:00:56.627
> 
> 标签：label, eclipse-rcp

我创建了一个 swt 表，但我不知道如何以所需的字体显示文本。但我知道如何在 jlabel 中做到这一点。我在将 jlabel 添加到 swt.table 时遇到问题。对于 jLabel，我已经这样做了：

```
String theString = "All the King's men";
JLabel theLabel = new JLabel(theString);
java.awt.Font theFont = new java.awt.Font("Helvetica", Font.PLAIN, 10);
theLabel.setFont(theFont); 
```

那么如何将标签文本插入到表格列中呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T07:01:23.450

您不能以这种方式混合 SWT 和 AWT。相反，您应该调用`TableItem.setFont(Font)`. 请注意，它需要`org.eclipse.swt.graphics.Font`而不是`java.awt.Font`！

# java - JFormattedTextField with date and time

> ID：12775573
> 
> 赞同：0
> 
> 时间：2012-10-08T05:01:22.290
> 
> 标签：java, swing, datetime, actionlistener, jformattedtextfield

I want to get the value of my JFormattedTextField and convert it to string here is my code for the JFormattedTextField

Here's my code:

```
public void formattedTextField()
    {

            timeAndDate = new JFormattedTextField(new SimpleDateFormat("MM/dd/yy - HH:mm"));
            timeAndDate.setValue(new Date());
            timeAndDate.setBounds(140,384,145,31);
            add(timeAndDate);
            try{
            contactNo = new JFormattedTextField(new MaskFormatter("(+63)9 ##########"));
            contactNo.setBounds(140,216,145,31);
            add(contactNo);
            }
            catch(Exception e)
            {
                JOptionPane.showMessageDialog(null,e,"",JOptionPane.ERROR_MESSAGE);
            }
    } 
```

I would like to get the contactNo as string too. But I don't know how and what will I put on my actionlistener. When I click the button, the data is to be stored in the database. I use MySQL database heres my current code of actionListener:

```
public class ButtonHandler implements ActionListener
    {
        public void actionPerformed(ActionEvent e)
        {
            if(e.getSource()==submitB)
            {
                //validate text
                validation();
                if(validation()){
;
                    // combo box gender
                    String genderText =(String)gender.getSelectedItem();
                    // get the button model selected from the button group
                    ButtonModel selectedModel = group.getSelection();
                    //insert data to database
                    System.out.print("Inserting");
                    GuestsInfo guestInfo = new GuestsInfo(firstName.getText(),lastName.getText(),age.getText(),
                            genderText,address.getText(),"123444","10:00",stay.getText(),"10.00");
                    System.out.print("Successful");
                }
                else{       
                    JOptionPane.showMessageDialog(null,"Invalid input","",JOptionPane.ERROR_MESSAGE);
                } 
```

i entered "123444" as temporary for contact no. and "10:00" for time and date since i don't know yet how to get the value from JFormattedtextField, and also "10.00" because i need to to compute the balance of the user. I want to know how can i get the value of JFormattedTextField in string so i can put it on the MySQL. Please help me out. Thanks in advance.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T05:07:53.270

```
String date = new SimpleDateFormat("MM/dd/yy  HH:mm").format(new Date());

timeAndDate = new JFormattedTextField(date); 
```

# java - sun.misc.BASE64Encoder is not supported by Google App Engine's Java runtime environment

> ID：12775575
> 
> 赞同：2
> 
> 时间：2012-10-08T05:01:49.110
> 
> 标签：java, google-app-engine, base64

while trying encryption I came across with this in GAE "sun.misc.BASE64Encoder is not supported by Google App Engine's Java runtime environment"

can any one help on which package I should use? I'm trying to get AES encryption. here is code that I'm using.

```
import java.security.*;
import java.security.spec.InvalidKeySpecException;
import javax.crypto.*;
import javax.crypto.spec.SecretKeySpec;

import sun.misc.*;

public class AESencrp {
private static final String ALGO = "AES";
private static final byte[] keyValue = 
    new byte[] { 'T', 'h', 'e', 'B', 'e', 's', 't','S', 'e', 'c', 'r','e', 't', 'K', 'e', 'y' };

public static String encrypt(String Data) throws Exception {
    Key key = generateKey();
    Cipher c = Cipher.getInstance(ALGO);
    c.init(Cipher.ENCRYPT_MODE, key);
    byte[] encVal = c.doFinal(Data.getBytes());
    String encryptedValue = new BASE64Encoder().encode(encVal);
    return encryptedValue;
}

public static String decrypt(String encryptedData) throws Exception {
    Key key = generateKey();
    Cipher c = Cipher.getInstance(ALGO);
    c.init(Cipher.DECRYPT_MODE, key);
    byte[] decordedValue = new BASE64Decoder().decodeBuffer(encryptedData);
    byte[] decValue = c.doFinal(decordedValue);
    String decryptedValue = new String(decValue);
    return decryptedValue;
}

private static Key generateKey() throws Exception {
    Key key = new SecretKeySpec(keyValue, ALGO);
    return key;
}

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T05:05:35.940

You can try [Commons Codec](http://commons.apache.org/codec/). There is a class [Base64](http://commons.apache.org/codec/apidocs/org/apache/commons/codec/binary/Base64.html) that provides Base64 encoding and decoding.

`sun.*` packages are not part of the supported, public interface. Check out this [article](http://www.oracle.com/technetwork/java/faq-sun-packages-142232.html) for more details.

# mysql - 获取 mysql 以显示带有引用的表

> ID：12775587
> 
> 赞同：0
> 
> 时间：2012-10-08T05:03:45.320
> 
> 标签：mysql

该命令`show create table myTable`显示外键但没有父表。有没有办法查看父表？

我得到的是：

```
KEY `FK_friend_id` (`friend_id`) 
```

我想看到的是这个（或显示的东西`customer`）：

```
CONSTRAINT `fk_friend_id` FOREIGN KEY (friend_id) REFERENCES customer (id) ON DELETE RESTRICT ON UPDATE CASCADE 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T05:19:04.297

根据我的理解，我可以这么说，

`Foreign Key`没有为它创造，

对于创建`Foreign key`约束，使用`Innodb Engine`,bcz 如果你已经使用`MYISAM Engine`它可能无法创建外键，只是我们可以看到你提到的单独的主键

如果错了请纠正我

# javascript - 后退/前进按钮的事件？

> ID：12775589
> 
> 赞同：1
> 
> 时间：2012-10-08T05:03:51.213
> 
> 标签：javascript

如果您访问[http://www.deviantart.com/](http://www.deviantart.com/)并等待几秒钟，以便 javascript 在后台加载，您可以单击一个链接，而不是转到您将转到的链接`#/someId`。您可以后退/前进。我相信我在其他网站上看到了类似的行为，但没有`#`在 url 中使用。

我如何做一个事件，比如使某些东西可见或折叠某些东西并使用后退/前进按钮撤消（或重做）事件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T05:36:41.147

使用[Backbone.js 的路由器功能](http://backbonejs.org/#Router) 是我为此找到的最佳解决方案。[本教程](http://backbonetutorials.com/what-is-a-router/)很好地解释了它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T05:07:34.460

它正在使用[pushState](https://developer.mozilla.org/en-US/docs/DOM/Manipulating_the_browser_history)。[这](http://html5.gingerhost.com/)是使用此技术的示例页面。

如果你想实现这个，我真的推荐使用[history.js](https://github.com/balupton/History.js)。它涵盖了一些您可能会遇到的跨浏览器问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T05:10:00.883

您可以通过 jquery 库执行此操作...

看看这个可见和折叠 [http://jqueryui.com/demos/accordion/](http://jqueryui.com/demos/accordion/)

# c# - 在 ASP.NET Web API 中使用多个 Get 方法进行路由

> ID：12775590
> 
> 赞同：64
> 
> 时间：2012-10-08T05:03:55.067
> 
> 标签：c#, asp.net-web-api, asp.net-web-api-routing

我正在使用带有 ASP.NET MVC 的 Web Api，而且我对它很陌生。我已经在 asp.net 网站上浏览了一些演示，我正在尝试执行以下操作。

我有 4 个 get 方法，具有以下签名

```
public List<Customer> Get()
{
    // gets all customer
}

public List<Customer> GetCustomerByCurrentMonth()
{
    // gets some customer on some logic
}

public Customer GetCustomerById(string id)
{
    // gets a single customer using id
}

public Customer GetCustomerByUsername(string username)
{
    // gets a single customer using username
} 
```

对于上述所有方法，我希望我的 web api 有点像如下所示

*   列表获取（）=`api/customers/`
*   客户 GetCustomerById（字符串 ID）=`api/customers/13`
*   列表 GetCustomerByCurrentMonth() =`/customers/currentMonth`
*   客户 GetCustomerByUsername（字符串用户名）=`/customers/customerByUsername/yasser`

我尝试对路由进行更改，但由于我是新手，所以不太了解。

所以，请有人可以帮助我理解并指导我应该如何做到这一点。谢谢

* * *

## 回答 #1

> 赞同：75
> 
> 时间：2012-10-08T08:48:58.780

从这里[在 Asp.net Mvc 4 和 Web Api 中路由](https://stackoverflow.com/questions/12775887/routing-in-asp-net-mvc-4-and-web-api)

**[Darin Dimitrov](https://stackoverflow.com/users/29407/darin-dimitrov)**发布了一个非常好的答案，对我有用。

它说...

你可以有几条路线：

```
public static class WebApiConfig
{
    public static void Register(HttpConfiguration config)
    {
        config.Routes.MapHttpRoute(
            name: "ApiById",
            routeTemplate: "api/{controller}/{id}",
            defaults: new { id = RouteParameter.Optional },
            constraints: new { id = @"^[0-9]+$" }
        );

        config.Routes.MapHttpRoute(
            name: "ApiByName",
            routeTemplate: "api/{controller}/{action}/{name}",
            defaults: null,
            constraints: new { name = @"^[a-z]+$" }
        );

        config.Routes.MapHttpRoute(
            name: "ApiByAction",
            routeTemplate: "api/{controller}/{action}",
            defaults: new { action = "Get" }
        );
    }
} 
```

* * *

## 回答 #2

> 赞同：49
> 
> 时间：2012-10-08T05:43:53.003

首先，在顶部添加带有*操作*的新路线：

```
 config.Routes.MapHttpRoute(
           name: "ActionApi",
           routeTemplate: "api/{controller}/{action}/{id}",
           defaults: new { id = RouteParameter.Optional }
       );

  config.Routes.MapHttpRoute(
            name: "DefaultApi",
            routeTemplate: "api/{controller}/{id}",
            defaults: new { id = RouteParameter.Optional }
        ); 
```

然后使用`ActionName`属性映射：

```
[HttpGet]
public List<Customer> Get()
{
    //gets all customer
}

[ActionName("CurrentMonth")]
public List<Customer> GetCustomerByCurrentMonth()
{
    //gets some customer on some logic
}

[ActionName("customerById")]
public Customer GetCustomerById(string id)
{
    //gets a single customer using id
}

[ActionName("customerByUsername")]
public Customer GetCustomerByUsername(string username)
{
    //gets a single customer using username
} 
```

* * *

## 回答 #3

> 赞同：20
> 
> 时间：2016-11-03T08:56:06.597

> 您还将为设置路线指定行动路线

```
[HttpGet]
[Route("api/customers/")]
public List<Customer> Get()
{
   //gets all customer logic
}

[HttpGet]
[Route("api/customers/currentMonth")]
public List<Customer> GetCustomerByCurrentMonth()
{
     //gets some customer 
}

[HttpGet]
[Route("api/customers/{id}")]
public Customer GetCustomerById(string id)
{
  //gets a single customer by specified id
}
[HttpGet]
[Route("api/customers/customerByUsername/{username}")]
public Customer GetCustomerByUsername(string username)
{
    //gets customer by its username
} 
```

* * *

## 回答 #4

> 赞同：12
> 
> 时间：2018-03-02T14:11:33.000

这个问题已经有很多很好的答案了。然而，现在 Route 配置有点“弃用”。较新版本的 MVC (.NET Core) 不支持它。所以最好习惯它:)

所以我同意所有使用属性样式路由的答案。但我一直注意到每个人都重复了路线的基础部分（api/...）。最好在 Controller 类之上应用**[RoutePrefix]**属性，并且不要一遍又一遍地重复相同的字符串。

```
[RoutePrefix("api/customers")]
public class MyController : Controller
{
 [HttpGet]
 public List<Customer> Get()
 {
   //gets all customer logic
 }

 [HttpGet]
 [Route("currentMonth")]
 public List<Customer> GetCustomerByCurrentMonth()
 {
     //gets some customer 
 }

 [HttpGet]
 [Route("{id}")]
 public Customer GetCustomerById(string id)
 {
  //gets a single customer by specified id
 }
 [HttpGet]
 [Route("customerByUsername/{username}")]
 public Customer GetCustomerByUsername(string username)
 {
    //gets customer by its username
 }
} 
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2013-11-06T11:57:08.620

只有一条路线就够了

```
config.Routes.MapHttpRoute("DefaultApiWithAction", "{controller}/{action}"); 
```

并且**需要**在所有动作中指定属性**HttpGet**或**HttpPost 。**

```
[HttpGet]
public IEnumerable<object> TestGet1()
{
    return new string[] { "value1", "value2" };
}

[HttpGet]
public IEnumerable<object> TestGet2()
{
    return new string[] { "value3", "value4" };
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-08T05:08:54.393

您可能不需要对路由进行任何更改。只需在您的 customersController.cs 文件中添加以下四个方法：

```
public ActionResult Index()
{
}

public ActionResult currentMonth()
{
}

public ActionResult customerById(int id)
{
}

public ActionResult customerByUsername(string userName)
{
} 
```

将相关代码放入方法中。使用提供的默认路由，您应该根据给定 url 的操作和参数从控制器获得适当的操作结果。

将您的默认路由修改为：

```
routes.MapRoute(
    "Default", // Route name
    "{controller}/{action}/{id}", // URL with parameters
    new { controller = "Api", action = "Index", id = UrlParameter.Optional } // Parameter defaults
); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-10-26T12:05:01.863

```
 // this piece of code in the WebApiConfig.cs file or your custom bootstrap application class
  // define two types of routes 1\. DefaultActionApi  and 2\. DefaultApi as below

   config.Routes.MapHttpRoute("DefaultActionApi", "api/{controller}/{action}/{id}", new { id = RouteParameter.Optional });
   config.Routes.MapHttpRoute("DefaultApi", "api/{controller}/{id}", new { action = "Default", id = RouteParameter.Optional });

  // decorate the controller action method with [ActionName("Default")] which need to invoked with below url
  // http://localhost:XXXXX/api/Demo/ -- will invoke the Get method of Demo controller
  // http://localhost:XXXXX/api/Demo/GetAll -- will invoke the GetAll method of Demo controller
  // http://localhost:XXXXX/api/Demo/GetById -- will invoke the GetById method of Demo controller
  // http://localhost:57870/api/Demo/CustomGetDetails -- will invoke the CustomGetDetails method of Demo controller
  // http://localhost:57870/api/Demo/DemoGet -- will invoke the DemoGet method of Demo controller

 public class DemoController : ApiController
 {
    // Mark the method with ActionName  attribute (defined in MapRoutes) 
    [ActionName("Default")]
    public HttpResponseMessage Get()
    {
        return Request.CreateResponse(HttpStatusCode.OK, "Get Method");
    }

    public HttpResponseMessage GetAll()
    {
        return Request.CreateResponse(HttpStatusCode.OK, "GetAll Method");
    }

    public HttpResponseMessage GetById()
    {
        return Request.CreateResponse(HttpStatusCode.OK, "Getby Id Method");
    }

    //Custom Method name
    [HttpGet]
    public HttpResponseMessage DemoGet()
    {
        return Request.CreateResponse(HttpStatusCode.OK, "DemoGet Method");
    }

    //Custom Method name
    [HttpGet]
    public HttpResponseMessage CustomGetDetails()
    {
        return Request.CreateResponse(HttpStatusCode.OK, "CustomGetDetails Method");
    }
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2017-06-06T07:29:33.727

我有两个具有相同或没有参数的 get 方法

```
[Route("api/ControllerName/FirstList")]
[HttpGet]
public IHttpActionResult FirstList()
{
}

[Route("api/ControllerName/SecondList")]
[HttpGet]
public IHttpActionResult SecondList()
{
} 
```

`AppStart=>WebApiConfig.cs`只需在=> 在 register 方法下定义自定义路由

```
config.Routes.MapHttpRoute(
       name: "GetFirstList",
       routeTemplate: "api/Controllername/FirstList"          
       );
config.Routes.MapHttpRoute(
       name: "GetSecondList",
       routeTemplate: "api/Controllername/SecondList"          
       ); 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2017-07-07T14:11:38.673

在阅读了很多答案后，我终于想通了。

首先，我在 WebApiConfig.cs 中添加了 3 个不同的路由

```
public static void Register(HttpConfiguration config)
{
    // Web API configuration and services

    // Web API routes
    config.MapHttpAttributeRoutes();

    config.Routes.MapHttpRoute(
        name: "ApiById",
        routeTemplate: "api/{controller}/{id}",
        defaults: new { id = RouteParameter.Optional },
        constraints: new { id = @"^[0-9]+$" }
    );

    config.Routes.MapHttpRoute(
        name: "ApiByName",
        routeTemplate: "api/{controller}/{action}/{name}",
        defaults: null,
        constraints: new { name = @"^[a-z]+$" }
    );

    config.Routes.MapHttpRoute(
        name: "ApiByAction",
        routeTemplate: "api/{controller}/{action}",
        defaults: new { action = "Get" }
    );
} 
```

然后，从控制器函数中删除 ActionName、Route 等。所以基本上这是我的控制器；

```
// GET: api/Countries/5
[ResponseType(typeof(Countries))]
//[ActionName("CountryById")]
public async Task<IHttpActionResult> GetCountries(int id)
{
    Countries countries = await db.Countries.FindAsync(id);
    if (countries == null)
    {
        return NotFound();
    }

    return Ok(countries);
}

// GET: api/Countries/tur
//[ResponseType(typeof(Countries))]
////[Route("api/CountriesByName/{anyString}")]
////[ActionName("CountriesByName")]
//[HttpGet]
[ResponseType(typeof(Countries))]
//[ActionName("CountryByName")]
public async Task<IHttpActionResult> GetCountriesByName(string name)
{
    var countries = await db.Countries
            .Where(s=>s.Country.ToString().StartsWith(name))
            .ToListAsync();

    if (countries == null)
    {
        return NotFound();
    }

    return Ok(countries);
} 
```

现在我可以使用以下 url 示例（带有名称和 id）运行；

[http://localhost:49787/api/Countries/GetCountriesByName/France](http://localhost:49787/api/Countries/GetCountriesByName/France)

[http://localhost:49787/api/Countries/1](http://localhost:49787/api/Countries/1)

* * *

## 回答 #10

> 赞同：-1
> 
> 时间：2018-04-29T15:14:44.893

```
using Routing.Models;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Net;
using System.Net.Http;
using System.Web.Http;

namespace Routing.Controllers
{
    public class StudentsController : ApiController
    {
        static List<Students> Lststudents =
              new List<Students>() { new Students { id=1, name="kim" },
           new Students { id=2, name="aman" },
            new Students { id=3, name="shikha" },
            new Students { id=4, name="ria" } };

        [HttpGet]
        public IEnumerable<Students> getlist()
        {
            return Lststudents;
        }

        [HttpGet]
        public Students getcurrentstudent(int id)
        {
            return Lststudents.FirstOrDefault(e => e.id == id);
        }
        [HttpGet]
        [Route("api/Students/{id}/course")]
        public IEnumerable<string> getcurrentCourse(int id)
        {
            if (id == 1)
                return new List<string>() { "emgili", "hindi", "pun" };
            if (id == 2)
                return new List<string>() { "math" };
            if (id == 3)
                return new List<string>() { "c#", "webapi" };
            else return new List<string>() { };
        }

        [HttpGet]
        [Route("api/students/{id}/{name}")]
        public IEnumerable<Students> getlist(int id, string name)
        { return Lststudents.Where(e => e.id == id && e.name == name).ToList(); }

        [HttpGet]
        public IEnumerable<string> getlistcourse(int id, string name)
        {
            if (id == 1 && name == "kim")
                return new List<string>() { "emgili", "hindi", "pun" };
            if (id == 2 && name == "aman")
                return new List<string>() { "math" };
            else return new List<string>() { "no data" };
        }
    }
} 
```

# process - Getting ApplicationExecutionState of a Metro Application

> ID：12775593
> 
> 赞同：0
> 
> 时间：2012-10-08T05:04:18.450
> 
> 标签：process, windows-8, microsoft-metro

I need to find the currently active metro application. Windows 8 Task Manager allows you to see the status of the Application as "Suspended" in case the given metro app is in the background.

Is there an API to find the state.

# jquery - jQuery 仅在移动 CSS 加载后运行？

> ID：12775598
> 
> 赞同：2
> 
> 时间：2012-10-08T05:05:24.800
> 
> 标签：jquery, css

我正在使用媒体查询加载我的移动唯一 CSS，例如

```
<link rel="stylesheet" type="text/css" media="only screen and (max-device-width: 480px)" href="/includes/css/mobile.css" /> 
```

但除了这些 CSS 更改之外，我还需要重新排序部分 HTML，例如

```
$('#moveOne').after($('#theOther'); 
```

如果浏览器确实加载了 mobile.css，我只希望执行此操作。所以我想在 mobile.css 中添加一些奇怪的 CSS 值，然后像这样检查它的值

```
if($'#notVisible').css('color') == 'red') {
    $('#moveOne').after($('#theOther');
} 
```

有没有更好的方法来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T05:09:43.543

您始终可以使用与媒体查询相同的逻辑

```
if (document.documentElement.clientWidth <= 480) {
    $('#moveOne').after($('#theOther');
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T05:25:58.683

我认为，你所做的绝对是好的。

但更合乎逻辑的方式是设置`width`而不是`color`.

```
if($'#notVisible').width() == '500px') {
    $('#moveOne').after($('#theOther');
} 
```

另外，您可以尝试[matchMedia.js](https://github.com/paulirish/matchMedia.js/)

也看这里[Using_media_queries_from_code](https://developer.mozilla.org/en-US/docs/DOM/Using_media_queries_from_code)。

# java - Couldn't debug project about Servlet/JSP - Java on NetBean 7.1.1

> ID：12775602
> 
> 赞同：0
> 
> 时间：2012-10-08T05:06:00.743
> 
> 标签：java, jsp, servlets, web

I could run but I couldn't debug my Java web project on NetBean IDE.

And the error:

```
D:\2_HOAN CHINH\1_HOC KY II\Java programming\Bai tap\MVC2_VnMart\nbproject\build-impl.xml:845: The following error occurred while executing this line:
D:\2_HOAN CHINH\1_HOC KY II\Java programming\Bai tap\MVC2_VnMart\nbproject\build-impl.xml:851: 
java.lang.NoClassDefFoundError: com/sun/jdi/Bootstrap
    at org.netbeans.api.debugger.jpda.AttachingDICookie.findAttachingConnector(AttachingDICookie.java:250)
    at org.netbeans.api.debugger.jpda.AttachingDICookie.create(AttachingDICookie.java:123)
    at org.netbeans.api.debugger.jpda.JPDADebugger.attach(JPDADebugger.java:280)
    at org.netbeans.modules.debugger.jpda.ant.JPDAConnect$1.run(JPDAConnect.java:228)
    at org.openide.util.RequestProcessor$Task.run(RequestProcessor.java:1411)
    at org.openide.util.RequestProcessor$Processor.run(RequestProcessor.java:1991)
BUILD FAILED (total time: 0 seconds) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T14:51:43.887

根据此消息：“org.netbeans.modules.debugger.jpda.ant.JPDAConnect$1.run(JPDAConnect.java:228)”

这是 ANT 在您的 NetBeans 下运行不顺畅的问题。

因此，您可以尝试安装另一个 NetBeans 发行版并在其上运行项目。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T05:11:37.857

```
java.lang.NoClassDefFoundError: com/sun/jdi/Bootstrap 
```

检查你的引导类。它可能在错误的文件夹中。

# payment-gateway - Authorize.net 为第一笔交易发送静默帖子？

> ID：12775603
> 
> 赞同：0
> 
> 时间：2012-10-08T05:06:01.373
> 
> 标签：payment-gateway, subscription, authorize.net

Authorize.net 是否发送带有订阅第一付款信息的静默帖子？

当我通过 API 创建订阅时，我得到的初始响应几乎告诉我它是成功的，但是静默帖子发送了更多关于实际付款的信息。我想知道它是否会在订阅的第一笔付款以及每个月或每个月发送它？

如果它确实发送了第一次付款的静默帖子，并且我将当天设置为开始日期，那么是在当天的某个时间处理还是在订阅创建后不久处理？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T12:14:44.947

是的，他们这样做。

对不起，从我读到的所有地方，人们都告诉我，在沙盒模式下他们没有发送静默帖子，所以我想我必须自己弄清楚，实际上虽然他们确实在沙盒模式下发送，但我收到了所有人的静默帖子我的第一笔付款。

# wpf - WPF Composite Application: Prism modules or MEF parts?

> ID：12775608
> 
> 赞同：1
> 
> 时间：2012-10-08T05:07:24.043
> 
> 标签：wpf, prism, mef

I need to write a composite WPF application with parts being potentially developed by other teams. These parts are actually indepndent applications now, and we want to put them under common "roof".

Two main options I consider for composition is Prism modules vs. MEF parts, and I am not 100% sure which to choose, since both have pros and cons. Note, that this is NOT about the IoC container choice, this is about discovering pluggable components. I am pretty much settled on the opinion that MEF is not to be used as an IoC container.

If I go with MEF for pluggability, the biggest plus is that it is baked in into the .NET framework, so there are no versioning issues. From the other hand, I will have to (partialy) reinvent mechanisms such as Prism region managers and other UI composition features.

If I go with Prism modules, I get much richer integration functionality (regions, event aggregator, etc.), but for that to work everyone must be on the same version of Prism, and preferrably the same version of Unity, to avoid unpleasant surprises. Upgrading to a next version of Prism/Unity will thus become a challenge.

I would like to hear your opinion about the choice.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T15:10:17.293

几年前我也有过类似的选择，然后选择了 Prism。我很高兴我做到了。除非我正在构建一个微不足道的应用程序，否则我不会考虑在没有 Prism 的情况下这样做。您可以让不同的开发组在他们的模块上几乎孤立地工作，并在完成时将它们集成起来。错误和需求更改也是如此：更容易处理。

是的，您会希望每个人都使用相同的版本，但这是一个很小的代价并且很常见。如果您有具体问题，请告诉我。

# jquery - How can I bind this items to database?

> ID：12775609
> 
> 赞同：0
> 
> 时间：2012-10-08T05:07:29.540
> 
> 标签：jquery, asp.net

This is my combobox that bind to database.

```
<asp:DropDownList ID="ddlUnitType" runat="server" CssClass="fonttah" 
          DataSourceID="SqlDataSource1" DataTextField="UnitTypeName" 
             DataValueField="UnitTypeID">
</asp:DropDownList>
<asp:SqlDataSource ID="SqlDataSource1" runat="server" 
    ConnectionString="<%$ ConnectionStrings:SellAutomationConnectionString %>" 
            SelectCommand="SELECT [UnitTypeID], [UnitTypeName] FROM [UnitTypes]">
</asp:SqlDataSource> 
```

Now I replacing it with below code ( using a jquery plugin to show combo box that have a avatar with items).

```
 <table>
        <tr>
           <td width="208">
                            <div id="languages">
                                <ul>
                                   <li>&nbsp;<img src="../../App_Themes/DefaultTheme/images/Select.png" alt="SelectItems" border="0" align="absmiddle"/>&nbsp;<span style=" font-weight:bold">... انتخاب کنید</span>
                                   </li>
                                    <li>&nbsp;<img src="../../App_Themes/DefaultTheme/images/home.png" alt="Home" align="absmiddle" border="0"/>&nbsp;<span style="text-align:left">واحدهای اقامتی کوتاه مرتبه</span>
                                   </li>
                                   <li>&nbsp;<img src="../../App_Themes/DefaultTheme/images/shopping.png" alt="shopping" align="absmiddle" border="0"/>&nbsp;<span>واحدهای تجاری</span>
                                   </li>
                               </ul>
                            </div>
            </td>
       </tr>
 </table> 
```

And now I want to read data from database.In fact using this code instead of that combo box. How can I bind it to database?
Thanks.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T05:30:59.000

asp.net 有很多数据[绑定控件](http://msdn.microsoft.com/en-us/library/ms228214%28v=vs.100%29.aspx)，其中很多都允许您进行一些自定义格式来显示您的数据。

由于您有要显示的数据列表，请考虑使用[ListView](http://msdn.microsoft.com/en-us/library/bb398790%28v=vs.100%29.aspx)。

```
<asp:ListView runat="server" ID="ListView1" 
    DataSourceID="SqlDataSource1">
  <LayoutTemplate>
    <table runat="server" id="table1" >
      <tr runat="server" id="itemPlaceholder" ></tr>
    </table>
  </LayoutTemplate>
  <ItemTemplate>
    <tr runat="server">
      <td runat="server">
        <%-- Data-bound content. --%>
        <asp:Label ID="NameLabel" runat="server" 
          Text='<%#Eval("Name") %>' />
      </td>
    </tr>
  </ItemTemplate>
</asp:ListView> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:29:47.763

您可以使用以下方法来填充组合框....

```
string strcombobox="<table><tr><td width="208"><div id="languages">
                             <ul>##ListString##</ul>
                             </div></td></tr></table>";

DataSet ds=Get Data To Be Filled from Database;

string strListCollection=string.Empty;

for(int i=0;i<ds.Tables[0].Rows.Count;i++)
{
 string liCode="<li>&nbsp;<img src="##imageSource##" alt="##imageAlt##" border="0" align="absmiddle"/>&nbsp;<span style=" font-weight:bold">##ListValue##</span> </li> ";
 liCode=liCode.Replace("##imageSource##",ds.Table[0].Rows[i]["iamgeSource"].ToString());
 liCode=liCode.Replace("##imageAlt##",ds.Table[0].Rows[i]["imageAlt"].ToString());
 liCode=liCode.Replace("##ListValue##",ds.Table[0].Rows[i]["ListValue"].ToString());
 strListCollection+=liCode;
}

strcombobox=strcombobox.Replace("##ListString##",strListCollection);
divWhereComboBoxCome.innerHtml=strcombobox; 
```

# java - java中与BigInteger的组合

> ID：12775617
> 
> 赞同：2
> 
> 时间：2012-10-08T05:08:35.327
> 
> 标签：java, combinations, biginteger

我正在做一个任务，我必须实现一种递归方式来计算两个数字的组合。例如，`5C3`将是`10`。也就是说，总共 5 个对象中有 3 个对象的 10 个组合。但是，我想实现一种使用 BigInteger 类的方法，这样我就可以计算更大的组合，例如 2400 选择 3。出于某种原因，我的代码仍然返回一个负数，就像它是常规整数时的行为一样. 我在下面包含了我的代码。有人可以告诉我哪里出错了吗？

```
import java.math.BigInteger;
public class Combination {

public static BigInteger[][] memo = new BigInteger[3000][3000];

public static BigInteger choose(BigInteger n, BigInteger k) {

    if (n.intValue() == 0 && k.intValue() > 0) {
        return BigInteger.ZERO;
    } else if (k.intValue() == 0 && n.intValue() >= 0) {
        return BigInteger.ONE;
    } else if (memo[n.intValue()][k.intValue()] != null) {
        return memo[n.intValue()][k.intValue()];
    } else {
        memo[n.intValue()][k.intValue()] = choose(n.subtract(BigInteger.ONE), k.subtract(BigInteger.ONE)).add(choose(n.subtract(BigInteger.ONE), k));
    }
    return memo[n.intValue()][k.intValue()];

}

public static void main(String args[]) {

    if (args.length < 1) {
        System.out.println("Usage: java Combination <N> <K>");
        System.exit(0);
    }

    int H = Integer.parseInt(args[0]);
    int R = Integer.parseInt(args[1]);

    BigInteger N = BigInteger.valueOf(H);
    BigInteger K = BigInteger.valueOf(R);

    System.out.println(choose(N, K).intValue());

} 
```

}

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T05:24:10.243

```
System.out.println(choose(N, K).intValue()); 
```

应该

```
 System.out.println(choose(N, K).toString()); 
```

# ruby-on-rails - How to add wrapbootstrap (made with twitter bootstrap) themes to rails application

> ID：12775621
> 
> 赞同：9
> 
> 时间：2012-10-08T05:08:54.683
> 
> 标签：ruby-on-rails, ruby-on-rails-3, twitter-bootstrap, twitter-bootstrap-rails, bootswatch

The website `https://wrapbootstrap.com/` has themes which were made using Twitter Bootstrap. Each of these themes include different versions of Twitter Bootstrap along with other various libraries and versions (jquery, fontawesome, etc...)

How do I add these themes to my existing Rails app? What are the steps?

I'm especially curious about the conflicts that may arrise if I'm already using a different version of jquery, twitter bootstrap, fontawesome, and others (as declared in the Gemfile).

Thank you

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-28T21:23:05.880

您可以将您从 wrapbootstrap 购买的主题中的 css 添加到您的 assets > application.css.scss 文件中。并在 Rails 应用程序视图中使用主题附带的 html 标签，以便应用 css 样式。

另外，我建议使用`gem 'sass-rails'`导入标准引导样式。

这是一个教程，可帮助您开始将引导程序添加到 Rails 应用程序。添加主题 css 和 html 标签由您决定。

[http://railscasts.com/episodes/328-twitter-bootstrap-basics?view=asciicast](http://railscasts.com/episodes/328-twitter-bootstrap-basics?view=asciicast)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-05-29T12:23:49.967

我为几个项目做了这个，我主要同意迈克上面的回答。这是我看到的一些问题。

我们从 Rails 上的一个标准项目开始，我们所有的动态（Ember）/静态视图都基于 Bootstrap CSS。当主要的内部页面启动并展示功能时，我们专注于登录页面。到这个时候，我们已经有了 bootstrap 的 gem，fontawesome 添加到我们的 Gemfile 中。

所以其中一件事是从 Gemfile 中删除这些宝石“bootstrap”、“fontawesome”。将这些作为 wrapbootstrap 转储的一部分包括在内。

此外，随着集成的进展，您可能会意识到许多通用代码正在重复，拆分页面组件最符合您的利益：页眉、页脚以及部分 Rails 视图。它大大节省了编辑工作。

我发现在您仍处于集成阶段时保持所有事情都非常有用的另一件事是将您的 CSS/JS 包含拆分为从 wrap bootstrap 导入的页面和您已经拥有的页面。因此，如果您打算将所有现有页面迁移到新主题中抓取您的 CSS，则可以分阶段合并，否则可以让它们共存。

您必须在 routes.rb 中添加新条目，如果您还没有它们，控制器调用来支持这些页面。about、contactus、team 等点赞

如果你使用 Ember/Backbone 之类的东西，那么你必须在某些页面中管理单个寻呼机应用程序的共存，这些页面可能链接到 Wrapbootstrap 页面，也可能不链接到 Wrapbootstrap 页面。

当我将 wrapbootstrap 主题集成到 Rails-EmberJS 应用程序之上时，这就是我必须注意的所有事情。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-05-20T13:26:01.013

有趣的时机，因为我只需要自己做这件事。我对 Rails 还很陌生，所以这可能不是最好的解决方案，但这就是我如何让它工作的......

*注意：每个主题都不同，因此这可能不是一种适合所有方法的方法。*

1）我的主题是用[Middleman](http://middlemanapp.com/)构建的，它期望独立运行或在[Sinatra](http://www.sinatrarb.com/)实例上运行。

2) 为了在 Rails 上获得主题，我必须添加 compass gem、sass gem、sass-rails gem 和 compass-rails gem 才能正常工作。我假设您可以安装这些（如果您的主题需要）。

3) 假设您有一个 Rails 应用程序准备好运行，进入您的资产目录并备份您的 .js、.css 以及所有字体和图像。将您的主题资产文件放在适当的位置。

4) 现在对你的视图层做同样的事情。您可能有一个 partials 和/或 pages 文件夹，您可以将其放置在 views 目录中。您需要将 application.erb.html 和任何导航文件放在 views 目录下的 layouts 文件夹中。同样，请确保先备份原始文件。

5) 如果您的主题是为 Sinatra 设计的，您可能有一个 Config.rb 文件。我将这个文件中的逻辑移到了我的 config/environment.rb 文件中。我对这一步最没有信心。如果有更好的位置，其他 Rails 开发人员可以加入。

6）启动你的服务器。您可能会遇到一些例外情况，但这是意料之中的。

7) 查看您的旧 app/assets/javascripts/application.js 文件并将其与新文件进行比较。确保新文件包含 jquery ujs 库`//= require jquery_ujs`。如果没有这个魔法，您的 PUT 和 DELETE HTTP 动词将无法正常工作。

8) 路径调整。我的主题包含 Font Awesome 库。为了让它工作，我不得不调整 font-awesome.scss 文件顶部的参考路径。

9) 最后，您需要在 environment.rb 文件中调试新添加的代码。Sinatra 开发人员做了很多 Route 魔术来调整导航显示。这不能很好地移植到我的环境中。我从导航模板文件中删除了许多这样的调用。完成后，我的新皮肤应用程序就启动并运行了！祝你好运。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-06-06T07:25:22.047

确保在安装 twitter bootstrap 时，您应该在“group :assets”下将以下 gem 添加到您的 Gemfile 中

```
gem 'therubyracer'
gem 'less-rails'
gem 'twitter-bootstrap-rails' 
```

然后运行捆绑命令。

现在，您下载的主题“file_name.css”（file_name 可以是任何名称）只需将其添加到 app->assets->stylesheets 下的“stylesheets”文件夹中

然后在同一个文件夹中打开你的 application.css 文件，你会看到

```
*= require_tree. 
```

将此行替换为

```
*= require "file_name.css" 
```

注意：不要忘记重新编译您的资产或简单地删除 tmp/cache 文件夹的内容。

保存并重新启动服务器。它将应用你新的主题。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2014-01-14T11:13:15.963

观看本培训课程，指导您从头开始详细操作。

[http://pluralsight.com/training/courses/TableOfContents?courseName=getting-started-aspdotnet-mvcservice-stack-bootstrap](http://pluralsight.com/training/courses/TableOfContents?courseName=getting-started-aspdotnet-mvcservice-stack-bootstrap)

# php - 使用 if else 对 Php 进行分页

> ID：12775622
> 
> 赞同：1
> 
> 时间：2012-10-08T05:08:59.383
> 
> 标签：php

我很难传递值，所以这里是代码：

这些是在显示子页面时传递要使用的值（ **$vview是值的容器）的代码：来自****enrollalpha.php**

```
 if(!empty($_POST['Vpanel'])){
             $vview = $_POST['Vpanel'];
             }else {
                 if(!empty($_GET['VPanel'])){                
                 $vview= $_GET['VPanel'];
                }else{
                 $vview= 'VS';
                }
             } 
```

这是要使用**$vview的代码**

```
if($vview == 'VS'){
            require_once 'vpanel_student.php';
        }
        else if($vview == 'VA'){
            require_once 'vpanel_adviser.php';
        }
        else if($vview == 'VA'){
            require_once 'vpanel_adviser.php';
        }else{
            require_once 'vpanel_student.php';
        } 
```

让我们假设我的子页面现在在所述页面上显示**vpanel_adviser.php我有以下代码：**

```
 else if(empty($_GET['id'])){
               header("location:enrollalpha.php?&VPanel='VA'");

            } 
```

所以在**enrollalpha.php**记得我有这个

```
 if(!empty($_GET['VPanel'])){                 
             $vview= $_GET['VPanel'];
            }else{
             $vview= 'VS';
            } 
```

我当前的问题是当**vpanel_adviser.php**将用户返回到**enrollalpha.php**时，它没有显示**vpanel_adviser.php**但显示**vpanel_student.php**将不胜感激任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T05:20:54.683

您不需要引用 URL 中的值和 URI 字符串中不需要的“&”。

```
header("location:enrollalpha.php?&VPanel='VA'");
                              // ^   &   ^ Here 
```

改成

```
header("location:enrollalpha.php?VPanel=VA"); 
```

# php - INSERT INTO mysql database not working

> ID：12775623
> 
> 赞同：-2
> 
> 时间：2012-10-08T05:09:18.930
> 
> 标签：php, mysql, database, insertion

I am trying to do something really simple here. All I want to do is to insert information in MySQL Here is the code below for the form.

```
 <?php
 $host=""; // Host name 
 $username=""; // Mysql username 
 $password=""; // Mysql password 
 $db_name=""; // Database name 
 $tbl_name=""; // Table name 

 // Connect to server and select database.
 mysql_connect("$host", "$username", "$password")or die("cannot connect"); 
 mysql_select_db("$db_name")or die("cannot select DB");

 // get value of id that sent from address bar
 $dj=$_GET['dj'];

 // Retrieve data from database 
 $sql="SELECT * FROM $tbl_name WHERE dj='$dj'";
 $result=mysql_query($sql);
 $rows=mysql_fetch_array($result);
 ?>

<table width="400" border="0" cellspacing="1" cellpadding="0">
<tr>
<form name="form1" method="post" action="insert_ac.php">
<td>
<table width="100%" border="0" cellspacing="1" cellpadding="0">
<tr>
<td>&nbsp;</td>
<td colspan="3"><strong>Insert The information for the Now PlayingProgram.</strong>
</td>
</tr>
<tr>
<td align="center">&nbsp;</td>
<td align="center">&nbsp;</td>
<td align="center">&nbsp;</td>
<td align="center">&nbsp;</td>
</tr>
<tr>
<td align="center">&nbsp;</td>
<td align="center"><strong>Name</strong></td>
<td align="center"><strong>Email</strong></td>
<td align="center"><strong>Email2</strong></td>
</tr>
<tr>
<td>&nbsp;</td>
<td align="center">
<input name="name" type="text" id="name" value="">
</td>
<td align="center">
<input name="email" type="text" id="email" value="" size="15">
</td>
<td>
<input name="email2" type="text" id="email2" value="" size="15">
</td>
</tr>
<tr>
<td align="center">&nbsp;</td>
<td align="center"><strong>Twitter</strong></td>
<td align="center"><strong>Twitter2</strong></td>
<td align="center"><strong>Avatar</strong></td>
</tr>
<tr>
<td>&nbsp;</td>
<td align="center">
<input name="twitter" type="text" id="twitter" value="">
</td>
<td align="center">
<input name="twitter2" type="text" id="twitter2" value="" size="15">
</td>
<td>
<input name="avatar" type="text" id="avatar" value="" size="15">
</td>
</tr>
<tr>
<td align="center">&nbsp;</td>
<td align="center"><strong>Facebook</strong></td>
<td align="center"><strong>Facebook2</strong></td>
<td align="center"><strong>Type</strong></td>
</tr>
<tr>
<td>&nbsp;</td>
<td align="center">
<input name="facebook" type="text" id="facebook" value="">
</td>
<td align="center">
<input name="facebook2" type="text" id="facebook2" value="" size="15">
</td>
<td>
<input name="type" type="text" id="type" value="" size="15">
</td>
</tr>
<tr>
<td align="center">&nbsp;</td>
<td align="center"><strong>Alias1</strong></td>
<td align="center"><strong>Alias2</strong></td>
<td align="center"><strong>Alias3</strong></td>
</tr>
<tr>
<td>&nbsp;</td>
<td align="center">
<input name="alias1" type="text" id="alias1" value="">
</td>
<td align="center">
<input name="alias2" type="text" id="alias2" value="" size="15">
</td>
<td>
<input name="alias3" type="text" id="alias3" value="" size="15">
</td>
</tr>

<tr>
<td align="center">&nbsp;</td>
 <td colspan="3" align="center"><strong>Request Line</strong></td>
</tr>
<tr>
<td>&nbsp;</td>
<td colspan="3" align="center">
 <input name="address" type="text" id="address" value="" size="65">
 </td>
 </tr>
 <tr>
 <td>&nbsp;</td>
 <td>
 <input name="dj" type="hidden" id="dj" value="">
 </td>
 <td align="center">
 <input type="submit" name="Submit" value="Submit">
 </td>
 <td>&nbsp;</td>
 </tr>
 </table>
 </td>
 </form>
 </tr>
 </table>
  <?php
 // close connection 
 mysql_close();
 ?> 
```

Now what I want to be able to do is to insert the information in the database that I enter in this form. Well my issue is when I enter some data and click on submit, all i get is ERROR.

So lets take a look at my incert_ac.php code is below:

```
<?php
 $host=""; // Host name 
 $username=""; // Mysql username 
 $password=""; // Mysql password 
 $db_name=""; // Database name 
 $tbl_name=""; // Table name 

 // Connect to server and select database.
 mysql_connect("$host", "$username", "$password")or die("cannot connect"); 
 mysql_select_db("$db_name")or die("cannot select DB");

 // Connect to server and select database.
 mysql_connect("$host", "$username", "$password")or die("cannot connect"); 
 mysql_select_db("$db_name")or die("cannot select DB");

 // insert data in mysql database 
 $sql="INSERT INTO $tbl_name (name, email, email2, twitter, twitter2, avatar, facebook, facebook2, type, alias1, alias2, alias3, address, dj)
  VALUES('{$_POST[name]}', '{$_POST[email]}', '{$_POST[email2]}', '{$_POST[twitter]}', '{$_POST[twitter2]}', '{$_POST[avatar]}', '{$_POST[facebook]}', '{$_POST[facebook2]}', '{$_POST[type]}', '{$_POST[alias1]}', '{$_POST[alias2]}', '{$_POST[alias3]}', '{$_POST[address]}', '{$_POST[dj]}')";
 $result=mysql_query($sql);

 // if successfully inserted 
 if($result){
 echo "Successful";
 echo "<BR>";
 echo "<a href='list_records.php'>View result</a>";
 echo "1 record added";
 }

 else {
echo "ERROR";
}

?> 
```

I would like to know if I am just having a syntax or even a spelling issue here! Any help would be appreciated.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T05:13:54.593

列名`name`和`type`需要打勾，因为它们是 MySQL 中的保留名称。

将这些行更新`$sql=`为以下代码：

```
$sql = "INSERT INTO $tbl_name (`name`, email, email2, twitter, twitter2, avatar, facebook, facebook2, `type`, alias1, alias2, alias3, address, dj) VALUES (
    '".mysql_real_escape_string($_POST['name'])."',
    '".mysql_real_escape_string($_POST['email'])."',
    '".mysql_real_escape_string($_POST['email2'])."',
    '".mysql_real_escape_string($_POST['twitter'])."',
    '".mysql_real_escape_string($_POST['twitter2'])."',
    '".mysql_real_escape_string($_POST['avatar'])."',
    '".mysql_real_escape_string($_POST['facebook'])."',
    '".mysql_real_escape_string($_POST['facebook2'])."',
    '".mysql_real_escape_string($_POST['type'])."',
    '".mysql_real_escape_string($_POST['alias1'])."',
    '".mysql_real_escape_string($_POST['alias2'])."',
    '".mysql_real_escape_string($_POST['alias3'])."',
    '".mysql_real_escape_string($_POST['address'])."',
    '".mysql_real_escape_string($_POST['dj'])."')"; 
```

**编辑：**添加了一些 SQL 输入清理

# iphone - Xml Parsing Issue in iPhone

> ID：12775624
> 
> 赞同：2
> 
> 时间：2012-10-08T05:09:20.883
> 
> 标签：iphone, ios5, xml-parsing

```
<scxml 
xmlns="http://www.w3.org/2005/07/scxml"
version="1.0"
profile="ecmascript"
initial="idle">

<state id="idle">
    <transition event="mousedown" target="dragging"/>
</state>

<state id="dragging">
    <transition event="mouseup" target="idle"/>
    <transition event="mousemove" target="dragging"/>
</state>

</scxml> 
```

I want to parse this xml when i start the application i enter the initial state that is "idle" then when my event completed i want to move the next state "dragging". how can i do this?

I am using NSXmlparser in the following method.

```
-(void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName attributes:(NSDictionary *)attributeDict{
if ([elementName isEqualToString:@"scxml"])

{
    stateID = [attributeDict objectForKey:@"initital"];
    stateInfo = [[StateInfo alloc]initWithStateName:stateID];
    return;

}
if ([elementName isEqualToString: @"state"] ){

    if ([[attributeDict objectForKey:@"transition"] isEqualToString:@"idle"])  {

    }
    else {

    }
}
//    if ([elementName isEqualToString:@"state"]) {
////        stateID = [attributeDict objectForKey:@"id"];
////        stateInfo = [[StateInfo alloc]initWithStateName:stateID];
////        NSLog(@"stateID = %@",stateID);
//        return;
//    }
if([elementName isEqualToString:@"transition"]){
    //aList=[[List alloc]init];
    stateID = [attributeDict objectForKey:@"target"];
    targetStateInfo = [[StateInfo alloc]initWithStateName:stateID];
    [stateInfo registerNextState:targetStateInfo withCondition:[attributeDict objectForKey:@"cond" ]];
    return;
}
if ([elementName isEqualToString:@"scxml"])

    {
    stateID = [attributeDict objectForKey:@"initital"];
    stateInfo = [[StateInfo alloc]initWithStateName:stateID];
    return;

  }
if ([elementName isEqualToString: @"state"] ){

    if ([[attributeDict objectForKey:@"Name"] isEqualToString:@"Child2"])  {
        // searchDone=YES;
    }
    else {
        // searchDone=NO;

    }
}
//    if ([elementName isEqualToString:@"state"]) {
////        stateID = [attributeDict objectForKey:@"id"];
////        stateInfo = [[StateInfo alloc]initWithStateName:stateID];
////        NSLog(@"stateID = %@",stateID);
//        return;
//    }
if([elementName isEqualToString:@"transition"]){
    //aList=[[List alloc]init];
    stateID = [attributeDict objectForKey:@"target"];
    targetStateInfo = [[StateInfo alloc]initWithStateName:stateID];
    [stateInfo registerNextState:targetStateInfo withCondition:[attributeDict objectForKey:@"cond" ]];
    return;
  } 
```

}

-(void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string{

```
if(!currentElementValue){
    currentElementValue=[[NSMutableString alloc]init];
}
[currentElementValue appendString:string];
//currentElementValue = (NSMutableString *) [string stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceCharacterSet]];
 /* if(!currentElementValue)
 currentElementValue = [[NSMutableString alloc] init];
 else
 [currentElementValue appendString:string];
 */ 
```

/* if(self.currentElementValue) { [self.currentElementValue appendString:string]; } */ }

```
-(void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName{
if ([elementName isEqualToString:@"scxml"])
    return;
if([elementName isEqualToString:@"state"]){
    //[aList setTitle:currentElementValue];
    //NSLog(@"alist.title = %@",aList.title);
}
    currentElementValue = nil;
 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T07:23:38.727

您评论的这段代码似乎很好：

```
if ([elementName isEqualToString:@"state"]) {
        stateID = [attributeDict objectForKey:@"id"];
        stateInfo = [[StateInfo alloc]initWithStateName:stateID];
        NSLog(@"stateID = %@",stateID);
} 
```

stateID 第一次显示空闲，第二次显示拖动。

xml从上到下读取

`<state>`您必须使用的或类似的标签`if ([elementName isEqualToString:@"state"])`

对于诸如 target=""、event="" 或 id="" 等标签内的属性，您必须使用`[attributeDict objectForKey:@"target"];`

您不必做任何特别的事情，当解析器完成第一个`</state>`时，它将继续下一个`<state>`。

# php - if 语句的语法错误

> ID：12775634
> 
> 赞同：1
> 
> 时间：2012-10-08T05:10:17.170
> 
> 标签：php, wordpress, if-statement

我正在尝试根据自定义帖子类型输出不同的文本，并且我收到了一个语法错误，我认为这是由于多个 if 语句造成的。问题是我对 PHP 的了解非常有限。有任何想法吗？

```
<?php

if ( 'lettering' == get_post_type() ) {

    <?php if( function_exists( 'attachments_get_attachments' ) ) { 
            $attachments = attachments_get_attachments();
            $total_attachments = count( $attachments );
            if( $total_attachments ) : ?>
            <ul id="process"><span>Process:</span>
            </ul>
            <br>
                <?php endif; ?> <?php } ?>

} elseif ( 'type' == get_post_type() ) {

    <?php if( function_exists( 'attachments_get_attachments' ) ) { 
            $attachments = attachments_get_attachments();
            $total_attachments = count( $attachments );
            if( $total_attachments ) : ?>
            <ul id="process"><span>Additional Shots</span>
            </ul>
            <br>
                <?php endif; ?> <?php } ?>
}

?> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T05:12:27.917

删除打开的 php 标签，如：更改：

```
<?php if ( 'lettering' == get_post_type() ) {

    this one --> <?php if( function_exists( 'attachments_get_attachments' ) ) { 
```

至

```
<?php if ( 'lettering' == get_post_type() ) {

    if( function_exists( 'attachments_get_attachments' ) ) { 
      ....... 
```

同样在`elseif`

添加：

```
<?php
if ( 'lettering' == get_post_type() ) {
    if( function_exists( 'attachments_get_attachments' ) ) { 
        $attachments = attachments_get_attachments();
        $total_attachments = count( $attachments );
        if( $total_attachments ): 
?>
                <ul id="process"><span>Process:</span>
                </ul>
                <br>
<?php 
        endif; 
    }
} else if ( 'type' == get_post_type() ) {
    if( function_exists( 'attachments_get_attachments' ) ) { 
        $attachments = attachments_get_attachments();
        $total_attachments = count( $attachments );
        if( $total_attachments ): 
?>
                <ul id="process"><span>Additional Shots</span>
                </ul>
                <br>
<?php 
        endif;
    }
}
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T05:58:27.193

正如 MarcB 评论的那样——像这样进出 PHP 并不理想。如果您正在编写带有一些 PHP 注入的主要基于 HTML 的文件，则替代语法非常好，否则我会使用 HEREDOC 之类的东西来使事情更容易被发现：

```
<?php

if ( 'lettering' == get_post_type() ) {
  if( function_exists( 'attachments_get_attachments' ) ) {
    $attachments = attachments_get_attachments();
    $total_attachments = count( $attachments );

    if( $total_attachments ) {
      echo <<<EOSTRING

      <ul id="process"><span>Process:</span>
      </ul>
      <br>

EOSTRING
;
    }
  }
} elseif ( 'type' == get_post_type() ) {
  if( function_exists( 'attachments_get_attachments' ) ) {
    $attachments = attachments_get_attachments();
    $total_attachments = count( $attachments );

    if( $total_attachments ) {
      echo <<<EOSTRING

      <ul id="process"><span>Additional Shots</span>
      </ul>
      <br>

EOSTRING
;
    }
  }
} 
```

# azure-sql-database - 从 localDb 导出 Azure 无法创建索引

> ID：12775635
> 
> 赞同：1
> 
> 时间：2012-10-08T05:10:28.527
> 
> 标签：azure-sql-database

我在 (localDb)\V11.0 中有一个非常简单的表。我使用 Management Studio Wizard 创建了聚集索引。当我针对 localDb 运行导入导出向导以导出此表时，出现错误：

“**此版本的 SQL Server 不支持没有聚集索引的表。请创建聚集索引并重试**。”

向导在没有索引的 Azure Db 中创建表，然后抱怨没有索引。

同样，源 Db 具有聚集索引。

这在过去有效（从 localDb 导出到 AzureSQL）。我很难过，因为这是一张非常简单的桌子。

正如另一个 SO 问题中提到的，我已经尝试了默认值以及“SqlServer 的 .Net Framework 数据提供程序”。我正在使用 SQL Server 2012 Management Studio。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T13:07:41.377

我不知道您为什么会看到此错误，但我始终建议使用[SQL Azure Migration Wizzard](http://sqlazuremw.codeplex.com/)。`Generate Scripts`它比SSMS 中的任务要先进得多。

再加上 SQL Azure MW 会自动创建聚集索引（基于主键），即使表没有这样的索引！SQL Azure MW 的另一个优点是，它是由 SQL Azure 团队中的一个人开发的。

# c# - 在 C# 中使用 Windows 窗体应用程序发送 SMS

> ID：12775637
> 
> 赞同：-1
> 
> 时间：2012-10-08T05:10:32.787
> 
> 标签：c#, .net, winforms, sms

我正在用 C# 开发一个 Windows 应用程序，我想在其中向选定的号码发送 SMS。

有什么特别的技巧可以让我直接通过 Wayztosms（或类似的短信网站）发送短信吗？这样它就可以免费提供给我的客户。

或者，如果存在任何其他公司，我可以通过它链接短信，那么请建议我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T05:48:20.257

试试 SMPP（p2p 短信协议）：据我所知，它是免费的。但是这些免费协议并不可靠，我们正在为我们的客户使用付费协议。

[http://en.wikipedia.org/wiki/Short_Message_Peer-to-Peer](http://en.wikipedia.org/wiki/Short_Message_Peer-to-Peer)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T05:38:06.253

有很多付费 API 和免费的。但是您不能保证在免费服务中及时交付，但在付费服务中，您将有更多选择。

示例：[http ://www.mysmsmantra.com/api.html](http://www.mysmsmantra.com/api.html)

希望这可以帮助

# sql - 在我的表中注入的用户名和密码

> ID：12775644
> 
> 赞同：0
> 
> 时间：2012-10-08T05:11:15.900
> 
> 标签：sql, sql-server-2005, sql-injection, code-injection

我是 asp.net 开发的新手

我用用户名和密码开发登录表单

我完成了我的工作，但是我的`login`桌子是如何注入某种脚本的

用户名

```
"> </title><script src="http://it 
```

密码

```
"> </title><script src="http://it 
```

我写了简单的查询

```
SELECT * FROM user WHERE userid = 'admin' AND password = 'ms2012' 
```

我以为有些人在用户名和密码文本框中注入了

但我不明白他们是怎么做到的。任何人都可以解释**他们是如何更新它**的，**我应该怎么做才能避免它？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-22T09:30:22.700

如果您希望应用程序免受 SQL 注入的影响，需要考虑 3 个基本事项：

1.  参数化查询
2.  存储过程
3.  清理所有输入数据

# ios - mach_absolute_time() 导致时间不稳定

> ID：12775645
> 
> 赞同：2
> 
> 时间：2012-10-08T05:11:29.947
> 
> 标签：ios

我正在尝试优化 iOS 上的一个函数（一个 FFT），并且我已经设置了一个测试程序来计时它的执行时间超过数百次调用。我在函数调用之前和之后使用 mach_absolute_time() 来计时。我正在运行 iOS 6 的第 4 代 iPod touch 上进行测试。

大多数计时结果彼此大致一致，但有时一次运行会比其他运行花费更长的时间（长达 100 倍）。

我很确定这与我的实际功能无关。每次运行都有相同的输入数据，并且是纯数值计算（即没有系统调用或内存分配）。如果我用一个空的 for 循环替换 FFT，我也可以重现这一点。

有没有其他人注意到这样的事情？

我目前的猜测是我的应用程序的线程以某种方式被操作系统中断。如果是这样，有什么办法可以防止这种情况发生吗？（这不是将在 App Store 上发布的应用程序，因此非公共 API 可以解决此问题。）

我不再拥有 iOS 5.x 设备，但我很确定这在更新到 iOS 6 之前不会发生。

编辑：这是一种更简单的重现方法：

```
for (int i = 0; i < 1000; ++i)
{                                         
    uint64_t start = mach_absolute_time();
    for (int j = 0; j < 1000000; ++j);   
    uint64_t stop = mach_absolute_time(); 
    printf("%llu\n", stop-start);         
} 
```

在调试中编译它（因此不会优化 for 循环）并运行；大多数值都在 220000 左右，但有时值会大 10 倍或更多。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T00:41:31.410

mach_absolute_time() 实际上是非常低级和可靠的。它在所有 iOS 设备上以稳定的 24MHz 运行，从 3GS 到 iPad 第 4 代。这也是获取时序信息的最快方式，根据 CPU 需要 0.5µs 到 2µs。但是如果你被另一个线程打断了，你当然会得到虚假的结果。

具有最高优先级的 SCHED_FIFO 将允许您占用 CPU，但最多只能占用几秒钟，然后操作系统会认为您太贪婪了。您可能想在运行计时测试之前尝试 sleep( 5 )，因为这会建立一些“信用”。

您实际上不需要启动一个新线程，您可以使用以下方法临时更改当前线程的优先级：

```
struct sched_param sched;
sched.sched_priority = 62;
pthread_setschedparam( pthread_self(), SCHED_FIFO, &sched ); 
```

请注意，sched_get_priority_min & max 返回保守的 15 和 47，但这仅对应于大约 0.25 到 0.75 的绝对优先级。实际可用范围为 0 到 62，对应 0.0 到 1.0。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T16:13:06.767

根据我的经验， mach_absolute_time 不可靠。现在我使用 CFAbsoluteTime 代替。它以秒为单位返回当前时间，其精度比秒高得多。

```
const CFAbsoluteTime newTime = CFAbsoluteTimeGetCurrent(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-07-13T02:00:24.980

当应用程序在另一个线程中花费一些时间时会发生这种情况。

# android - 当我们单击android中的按钮时如何突出显示linearlayout边框

> ID：12775648
> 
> 赞同：1
> 
> 时间：2012-10-08T05:12:12.873
> 
> 标签：android

我在 UI 中有两个线性布局和一个按钮。当我单击按钮时，线性布局应突出显示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:01:29.107

使用以下代码在可绘制文件夹中创建一个 list_selector.xml 文件

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
<!--  Active Row-->
<item android:state_selected="true" android:state_focused="false"
    android:state_pressed="false" android:drawable="***HIGHLIGHT COLOR***" />
<!--  Inactive Row-->
<item android:state_selected="false" android:state_focused="false"
    android:state_pressed="false" android:drawable="***DEFAULT COLOR***" />
<!--  Pressed Row -->
<item android:state_pressed="true" android:drawable="***HIGHLIGHT COLOR***" />
<!--  Selected Row (using d-pad) -->
<item android:state_focused="true" android:state_selected="true"
    android:state_pressed="false" android:drawable="***HIGHLIGHT COLOR***" />
</selector> 
```

在此之后，在您的主 xml 文件中将按钮和线性布局的背景设置为 @drawable/list_selector

# ios - 谷歌地方 api 没有给我任何结果

> ID：12775649
> 
> 赞同：0
> 
> 时间：2012-10-08T05:12:19.837
> 
> 标签：ios, json, google-maps

我正在构建一个使用 google places api 的应用程序，我使用[这个 url](https://maps.googleapis.com/maps/api/place/search/json?location=37.329558,122.025002&radius=500&types=atm&sensor=false&key=AIzaSyCIZ8MxCoMsfgj0ytE7azXGfjs_E__2Nhw)

当我在浏览器中使用所需的链接时，它不会产生任何结果

我使用 json 来解析来自 google 地方的数据，但我收到了这个不寻常的警告，它说 NSString 可能无法响应 JSONValue

代码如下

```
-(IBAction)nearbyLocations:(id)sender
{        
    NSString *url=[NSString stringWithFormat:@"https://maps.googleapis.com/maps/api/place/search/json?location=37.329558,122.025002&radius=500&types=atm&sensor=false&key=AIzaSyCIZ8MxCoMsfgj0ytE7azXGfjs_E__2Nhw"];
    NSURL *googleRequestURL=[NSURL URLWithString:url];
    dispatch_async(kBgQueue, ^{
        NSData* data = [NSData dataWithContentsOfURL: googleRequestURL];
        [self performSelectorOnMainThread:@selector(fetchedData:) withObject:data waitUntilDone:YES];
    });
}

-(void)fetchedData:(NSData *)responseData
{
    //parse out the json data
    //NSError* error;

    NSString *jsonString = [[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding];
    NSLog(@"%@",jsonString);
    NSDictionary* json =[jsonString JSONValue];
    //[NSJSONSerialization JSONObjectWithData:responseData options:kNilOptions error:&error];

    //The results from Google will be an array obtained from the NSDictionary object with the key "results".
    NSArray* places = [json objectForKey:@"results"];

    //Write out the data to the console.
    NSLog(@"Google Data: %@", places);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T22:44:03.317

你需要更大的半径。在您提供的 URL 中，我更改`radius=500`为`radius=5000`并且可以正常工作。[新网址](https://maps.googleapis.com/maps/api/place/search/json?location=37.329558,122.025002&radius=5000&types=atm&sensor=false&key=AIzaSyCIZ8MxCoMsfgj0ytE7azXGfjs_E__2Nhw)。基本上在该纬度/经度的 500 米范围内没有 ATM，但在 5000 米范围内有 ATM。

这是一个问题。另一个问题是沙皇对你的问题的评论。

# android - 在谷歌地图中显示自定义指针 [Monodroid]

> ID：12775651
> 
> 赞同：0
> 
> 时间：2012-10-08T05:12:34.377
> 
> 标签：android, map, xamarin.android

我正在使用 monodroid 开发应用程序，我想从 Resource>Drawable 在我的地图中插入自定义指针。我可以绘制文本，但我不知道如何在我的地图中插入自定义指针。目前它在用户的当前位置向我显示红色的小矩形。

这是 Draw 方法的代码。

```
public override void Draw(Android.Graphics.Canvas canvas, MapView mapView, bool shadow)
        {
            base.Draw(canvas, mapView, shadow);

            var paint = new Paint();
            paint.AntiAlias = true;
            paint.Color = Color.Red;

            var pt = mapView.Projection.ToPixels(_latlng, null);
            float distance = mapView.Projection.MetersToEquatorPixels(10);

            canvas.DrawText("Your Taxi is here", pt.X + distance, pt.Y + distance, paint);
           canvas.DrawRect( pt.X, pt.Y, pt.X + distance, pt.Y + distance, paint);
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:02:40.330

使用自定义指针下载完整的工作演示

[http://www.filedropper.com/androidopenstreetmapview120516a](http://www.filedropper.com/androidopenstreetmapview120516a)

如果地图未在模拟器或移动设备中显示，则更改地图 API 密钥。

# android - 我们可以在同一布局中（即在 main.xml 中）有 3 个不同的 ExpandableLists 吗？

> ID：12775652
> 
> 赞同：0
> 
> 时间：2012-10-08T05:12:34.327
> 
> 标签：android, android-layout, expandablelistview

我们可以在同一布局中（即在 main.xml 中）有 3 个不同的 ExpandableLists 吗？如果是这样，我们可以在 android:list 方面以不同的方式使用它们吗？

我有一个要求，我需要在同一布局中实现 3 个单独的可扩展列表。可以做到吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T05:55:01.347

是的你可以。我想简单地使用不同的 id 会比 android:list 更直接。但我想知道，您是否试图实现一个可扩展的列表，其中每个行下有 3 个组行和 1 个子行组？这样它们是连接的并且看起来无缝的？如果是这样，您可以使用一个可扩展的列表来完成。仅供参考。如果这是您的意图，我会给您一个示例代码，向您展示它是如何完成的。这很容易。

**编辑：**您收到该错误的原因是因为您很可能正在尝试使用 expandablelistactivity 类，该类假设（实际上）活动中只有一个可扩展列表。您应该使用常规活动课程。这是我刚刚测试和工作的内容。

```
package com.mango.stackoverflow;

import android.os.Bundle;
import android.app.Activity;
import android.view.Gravity;
import android.view.Menu;
import android.view.View;
import android.view.ViewGroup;
import android.widget.AbsListView;
import android.widget.BaseExpandableListAdapter;
import android.widget.ExpandableListView;
import android.widget.TextView;

public class MainActivity extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        ExpandableListView TestExpandListView1 = (ExpandableListView) findViewById(R.id.expandableListView1);
        ExpandableListView TestExpandListView2 = (ExpandableListView) findViewById(R.id.expandableListView2);
        ExpandableListView TestExpandListView3 = (ExpandableListView) findViewById(R.id.expandableListView3);
        TestExpandableListAdapter TestExpandAdapter = new TestExpandableListAdapter();
        TestExpandListView1.setAdapter(TestExpandAdapter);
        TestExpandListView2.setAdapter(TestExpandAdapter);
        TestExpandListView3.setAdapter(TestExpandAdapter);
    }

    public class TestExpandableListAdapter extends BaseExpandableListAdapter {

        private String[] groups = { "People Names -- 1st GROUP", "Dog Names", "Cat Names", "Fish Names" };
        private String[][] children = {
                { "Arnold", "Barry", "Chuck", "David" },
                { "Ace", "Bandit", "Cha-Cha", "Deuce" },
                { "Fluffy", "Snuggles" },
                { "Goldy", "Bubbles" }
        };

        public Object getChild(int groupPosition, int childPosition) {
            return children[groupPosition][childPosition];
        }

        public long getChildId(int groupPosition, int childPosition) {
            return childPosition;
        }

        public int getChildrenCount(int groupPosition) {
            return children[groupPosition].length;
        }

        public TextView getGenericView() {
            // Layout parameters for the ExpandableListView
            AbsListView.LayoutParams lp = new AbsListView.LayoutParams(
                    ViewGroup.LayoutParams.MATCH_PARENT, 64);

            TextView textView = new TextView(MainActivity.this);
            textView.setLayoutParams(lp);
            // Center the text vertically
            textView.setGravity(Gravity.CENTER_VERTICAL | Gravity.LEFT);
            // Set the text starting position
            textView.setPadding(36, 0, 0, 0);
            return textView;
        }

        public View getChildView(int groupPosition, int childPosition, boolean isLastChild,
                View convertView, ViewGroup parent) {
            TextView textView = getGenericView();
            textView.setText(getChild(groupPosition, childPosition).toString());
            return textView;
        }

        public Object getGroup(int groupPosition) {
            return groups[groupPosition];
        }

        public int getGroupCount() {
            return groups.length;
        }

        public long getGroupId(int groupPosition) {
            return groupPosition;
        }

        public View getGroupView(int groupPosition, boolean isExpanded, View convertView,
                ViewGroup parent) {
            TextView textView = getGenericView();
            textView.setText(getGroup(groupPosition).toString());
            return textView;
        }

        public boolean isChildSelectable(int groupPosition, int childPosition) {
            return true;
        }

        public boolean hasStableIds() {
            return true;
        }

    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }
} 
```

我也发布了 xml，以防我不清楚 id 实例化（请注意——尽管为了速度我在 xml 中使用了“wrap_content”作为 layout_height，但这绝对不是最好的为可扩展列表视图或任何列表视图这样做的做法，它使用的资源比其他替代方案要多得多）：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <ExpandableListView
        android:id="@+id/expandableListView1"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_centerHorizontal="true" >
    </ExpandableListView>

        <ExpandableListView
        android:id="@+id/expandableListView2"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_below="@id/expandableListView1" >
    </ExpandableListView>

                <ExpandableListView
        android:id="@+id/expandableListView3"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_below="@id/expandableListView2" >
    </ExpandableListView>

</RelativeLayout> 
```

这是一张图片

![模拟器结果](../Images/9471f6d82e3845b290fb71888f4b6061.png)

*   发布后，我不想指导您如何编写代码，而只是为了与您保持一致。在一个活动中拥有这么多可扩展的列表视图，特别是如果您正在膨胀视图，这不会是最......优雅的实现。我不知道您要做什么，但如果它们要像我的那样连接，甚至只是在一个垂直面板中，那么只需一个就可以完成并且效率更高。

# python - 如何在 Python 的循环中更改迭代变量的值？

> ID：12775654
> 
> 赞同：4
> 
> 时间：2012-10-08T05:12:39.300
> 
> 标签：python

我有这样的事情：

```
#tokens is a list of a few words
for i in xrange(0,len(tokens)):
    #some code to modify the contents of token[i]
    if tokens[i] == some value:
        del tokens[i] 
```

现在如果数组有 7 个元素，i 从 0 变为 6，并且在处理过程中，如果我删除一个数组元素，则新大小变为 6，但循环仍将运行直到 i=6 并访问令牌 [6 ] 并抛出错误，因为新大小为 6，即最大索引为 5。

我想我可以在某些条件下使用 while 循环，例如：

```
while(i<currMaxIndex) 
```

我可以在其中动态更改 currMaxIndex。

但我真的很想知道是否有任何方法可以改变 for 循环本身中的 i 。

如果绝对必须知道，这是我的代码：

```
for i in xrange(0,len(tokens)):
            tokens[i]=tokens[i].translate(string.maketrans("",""),string.punctuation)
            if tokens[i]=='':
                del tokens[i] 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T05:25:22.187

我会这样做：

```
def myfilter(token):
    return token.translate(None, string.punctuation)   

tokens = filter(None, map(myfilter, tokens)) 
```

如果逻辑太复杂无法通过map/filter来做，推荐使用这种方式：

```
for item in items[:]: # [:] copies the list
    if condition(item):
        items.remove(item) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T05:15:57.247

`len(tokens)`在您创建`xrange`对象时计算，因此如果您从列表中删除元素，`tokens[i]`可能不存在或可能具有与您期望的不同的值。

例如：

```
>>> a = [1, 2, 3]
>>> a[1]
2
>>> del a[1]
>>> a[1]
3 
```

与其修改原始列表，不如创建一个新列表：

```
new_tokens = []

for token in tokens:
    translated = token.translate(None, string.punctuation)

    if translated:
        new_tokens.append(translated) 
```

或者您可以`filter`使用生成器表达式：

```
new_tokens = filter(None, (token.translate(None, string.punctuation) for token in tokens)) 
```

# android - 将所有文件从服务器复制到 Android 设备

> ID：12775656
> 
> 赞同：1
> 
> 时间：2012-10-08T05:12:54.160
> 
> 标签：android

我想将所有文件从服务器复制到 Android 设备。假设在服务器上，我的服务器 ip 是**http://192.168.98.23**并且服务器文件夹的名称是**Data**。**Data**文件夹包含许多文件。我想将所有文件从服务器**数据**复制到我的 Android 设备的 SD 卡。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T10:54:19.043

正如您所说，您正在使用 LAN 将文件从服务器传输到 Android（Sdcard）。为此，您可以使用两种方法。即 i) TCP/IP 协议。ii) SMB（服务器消息块）协议。我建议您使用 SMB 协议，因为在此您只需共享一个具有完全权限的文件夹并将所有文件复制到 Android Sdcard。在这种情况下，在 Android 端，即您的客户端，您必须使用四件事。i) 服务器的 IP 地址。ii) 服务器的密码。iii) 服务器的用户名和最后一个 iv) 共享文件夹名。借助这四个参数，您可以建立连接并将所有文件复制到共享文件夹中。

遵循用于使用 smb 协议建立连接的代码片段。

```
 public boolean VerifyUser(String address, String username, String password)
 {
    try 
    {
        if (address != "" && username != "" && password != "") 
        {
            setDomain(UniAddress.getByName(address));
            setAuthentication(new NtlmPasswordAuthentication(null,
                    username, password));
            SmbSession.logon(getDomain(), authentication);
            return true;
        } 
        else 
        {               
            return false;
        }
    } 
    catch (UnknownHostException e) 
    {       
        return false;
    } 
    catch (SmbException e) 
    {           
        return false;
    }

 }// End VerifyUser Method.
 // ******************************************************************************************************* 
```

使用 SMB 连接将文件从 PC 服务器下载到 Android 客户端。其中 strPCPath = "smb://" + 192.168.98.23+ "/" + strFolderName + "/FileName"；打击代码是下载单个文件，包括 .config 扩展名，您可以使用它来下载多个文件。

```
public boolean downloadConfigFileFromServer(String strPCPath , String strSdcardPath)
{
    SmbFile smbFileToDownload = null;       
    try 
    {
        File localFilePath = new File(strSdcardPath);

        // create sdcard path if not exist.
        if (!localFilePath.isDirectory()) 
        {
            localFilePath.mkdir();
        }
        try 
        {                
            smbFileToDownload = new SmbFile(strPCPath , authentication);
            String smbFileName = smbFileToDownload.getName();

            if (smbFileName.toLowerCase().contains(".config"))
            {
                InputStream inputStream = smbFileToDownload.getInputStream();

                //only folder's path of the sdcard and append the file name after.
                localFilePath = new File(strSdcardPath+ "/" + smbFileName);

                OutputStream out = new FileOutputStream(localFilePath);
                byte buf[] = new byte[1024];
                int len;
                while ((len = inputStream.read(buf)) > 0) 
                {
                    out.write(buf, 0, len);
                }
                out.flush();
                out.close();
                inputStream.close();
                return true;
            }
            else
                return false;
        }// End try 
        catch (Exception e) 
        {
            e.printStackTrace();
            return false;
        }
    } 
    catch (Exception e) 
    {
        e.printStackTrace();
        return false;
    }   

}// End downloadConfigFileFromServer Method.
// ******************************************************************************************************* 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-06T13:13:52.957

此逻辑从服务器下载数据作为 .Zip 文件。这将从您的域服务器文件夹中获取数据并保存到 PATH=""/data/data/your_pkg_name/app_my_sub_dir/images/";
// 下载内容

```
 Thread t = new Thread() {
                @Override
                public void run() {
                    try {

                        URL url = new URL(
                                "http://192.168.98.23/Data");
                        HttpURLConnection connection = (HttpURLConnection) url
                                .openConnection();

                        connection.connect();

                        int fileLength = connection.getContentLength();

                        //System.out.println("fileLength: " + fileLength);

                        int size, BUFFER_SIZE = 8192;
                        int total = 0, progress = 0;
                        byte[] buffer = new byte[BUFFER_SIZE];
                        String PATH = "/data/data/your_pkg_name/app_my_sub_dir/";
                        String location = PATH + "images/";
                        try {
                            if (!location.endsWith("/")) {
                                location += "/";
                            }
                            File f = new File(location);
                            if (!f.isDirectory()) {
                                f.mkdirs();
                            }
                            ZipInputStream zin = new ZipInputStream(
                                    connection.getInputStream());
                            try {
                                ZipEntry ze = null;
                                while ((ze = zin.getNextEntry()) != null) {
                                    String path = location + ze.getName();
                                    File unzipFile = new File(path);

                                    if (ze.isDirectory()) {
                                        if (!unzipFile.isDirectory()) {
                                            unzipFile.mkdirs();
                                        }
                                    } else {
                                        // check for and create parent
                                        // directories if they don't exist
                                        File parentDir = unzipFile
                                                .getParentFile();
                                        if (null != parentDir) {
                                            if (!parentDir.isDirectory()) {
                                                parentDir.mkdirs();
                                            }
                                        }

                                        // unzip the file
                                        FileOutputStream out = new FileOutputStream(
                                                unzipFile, false);
                                        BufferedOutputStream fout = new BufferedOutputStream(
                                                out, BUFFER_SIZE);
                                        try {
                                            while ((size = zin.read(buffer, 0,
                                                    BUFFER_SIZE)) != -1) {
                                                total += size;
                                                progress += total * 70 / fileLength;
                                                if (progress == 1) {
                                                    progressBarStatus = progressBarStatus
                                                            + progress;
                                                    handlerProgressBar
                                                            .sendEmptyMessage(0);
                                                    total = progress = 0;
                                                }
                                                fout.write(buffer, 0, size);
                                                fout.flush();
                                            }

                                            zin.closeEntry();
                                        } finally {
                                            fout.close();
                                        }
                                    }
                                }
                            } finally {
                                zin.close();
                            }
                        } catch (Exception e) {

                        }
                        // this.notify();
                    } catch (Exception e) {
                        interrput=true;
                        handler.sendEmptyMessage(1);
                    }
                }
            };

            t.start(); 
```

# .net - .net Regex.Replace 仅在指定的捕获组内

> ID：12775663
> 
> 赞同：1
> 
> 时间：2012-10-08T05:13:28.997
> 
> 标签：.net, regex

是否可以使用 .net Regex 类对特定捕获组进行替换。

例如

```
<customer.*?(display="(?:yes|no)")?.*?> 
```

我想在 Customer xml 元素上进行匹配，但在显示属性捕获组中进行替换。我认为那将是第 1 组，但我总是可以将其命名。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T05:28:16.963

我认为您需要捕获显示属性之前和之后的内容。

```
(<customer.*?)(display="(?:yes|no)")(.*?>) 
```

然后你可以在你的替换 lambda 中使用它

```
Regex.Replace(inputString, @"(<customer.*?)(display=""(?:yes|no)"")(.*?>)", m => String.Format("{0}{1}{2}", m.Groups[1], /* replacement string based on m.Groups[2] */, m.Groups[3])); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T22:32:25.317

根据安德鲁斯的回答，我通过创建一种处理替换的方法来扩展了这一点。在我的情况下，我想替换整个组，所以我创建了一个助手类来做到这一点。此外，它不需要您创建捕获前和捕获后组来实现此目的。

```
/// <summary>
/// A Regular Expression match and replace class
/// </summary>
public class RegexReplacer
{
    private readonly int _captureGroupToReplace;

    /// <summary>
    /// Initialises the RegEx replacer with matching criteria.
    /// </summary>
    /// <param name="name">A name that identifies this replacement pattern</param>
    /// <param name="matchCriteria">A regular Expression used to locate the values to replace</param>
    /// <param name="replacementValue">The value that will replace the matched pattern</param>
    /// <param name="captureGroupToReplace">The Capture group that should be replaced. The default is the entire match</param>
    public RegexReplacer(string name, Regex matchCriteria, string replacementValue, int captureGroupToReplace = 0)
    {
        _captureGroupToReplace = captureGroupToReplace;
        Name = name;
        ReplacementValue = replacementValue;
        MatchCriteria = matchCriteria;
    }

    public string Name { get; set; }

    public Regex MatchCriteria { get; set; }

    public string ReplacementValue { get; set; }

    /// <summary>
    /// Finds and replaces all instances of a string within the supplied string or replaces a group if the group id is supplied in the constructor
    /// </summary>
    public string ReplaceInString(string stringToSearch)
    {
        if (_captureGroupToReplace != 0)
            return MatchCriteria.Replace(stringToSearch, new MatchEvaluator(ReplaceGroup));

        return MatchCriteria.Replace(stringToSearch, ReplacementValue);
    }

    private string ReplaceGroup(Match match)
    {
        try
        {
            var matchedString = match.Value;
            //Match index is based on the original string not the matched string
            int groupIndex = match.Groups[_captureGroupToReplace].Index - match.Index;
            int groupLength = match.Groups[_captureGroupToReplace].Length;

            var preGroupString = matchedString.Substring(0, groupIndex);
            var postGroupString = matchedString.Substring(groupIndex + groupLength, matchedString.Length - (groupIndex + groupLength));

            var replacedString = String.Format("{0}{1}{2}", preGroupString, ReplacementValue, postGroupString);

            return replacedString;
        }
        catch (Exception)
        {
            return match.Value;
        }
    }
} 
```

我还必须修改我的原始模式，这样它会在 xml 的末尾给我一个空组来插入一个属性，如果它不存在，用法看起来像

```
var replacer = new RegexReplacer("DisplayCustomerAttribute",
                 new Regex(@"(?:<customer\s.*?((\sdisplay=""(?:yes|no)"").*?|())>)"),
                 @" display=""yes""", 1)
 xmlString = replacer.ReplaceInString(xmlString); 
```

作为旁注，这样做的原因是当值与默认值相同时，.net xml 序列化不包含属性。当您控制消费者时，这没关系，但在我们的情况下，我们不是，所以我们需要明确。

# javascript - 使用 Wordpress 循环的 Javascript 滑块

> ID：12775664
> 
> 赞同：0
> 
> 时间：2012-10-08T05:13:33.560
> 
> 标签：javascript, wordpress, slider

我在 wordpress 网站上的滑块有问题。 [www.towntalkradio.com](http://www.towntalkradio.com)

1）后退按钮不起作用

2）代码应该调用指定类别中所有帖子的计数并显示所有这些帖子。计数无法正常工作，仅显示部分帖子（例如，当类别中有 19 个时为 7 个）

我继承了这段代码，我对这个设置的经验非常有限。任何建议将不胜感激。如果我没有正确提交，我深表歉意，我是新来的。

[Javascript](http://codepad.org/up02bNud)
[索引.php](http://codepad.org/JchmyBGe)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T21:48:12.677

您获得的值是每页帖子设置。（设置>阅读>博客页面最多显示）

在第 9 行试一试：

`<?php query_posts('cat=4&order=DESC&posts_per_page=-1');?>`

一定要`wp_reset_query()`在你的循环之后使用。

`query_posts`用于更改主循环，`WP_Query`或者`get_post` 在运行多个循环时可能是更好的选择。

[http://codex.wordpress.org/Function_Reference/query_posts](http://codex.wordpress.org/Function_Reference/query_posts)

[http://codex.wordpress.org/Class_Reference/WP_Query](http://codex.wordpress.org/Class_Reference/WP_Query)

# macos - 未找到 CoreImage.framework

> ID：12775665
> 
> 赞同：5
> 
> 时间：2012-10-08T05:13:38.083
> 
> 标签：macos, cocoa, frameworks, core-image

我正在开发一个可可应用程序。我正在使用 CIFilter 和 CIImage 在 NSImage 中应用核心概念。

所以我需要导入`CoreImage.framework`. 但是我没有在我的开发人员库文件夹中获取框架。我在 /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.8.sdk/System/Library/Frameworks 搜索框架

和

/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.7.sdk/System/Library/Frameworks

但是 CoreImage.framework 不存在。

任何人都可以帮我在我的代码中添加 CoreImage.framework 吗？

谢谢，iPHoneDv

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-10-08T05:17:00.517

Apple 的文档在这方面并不是很有帮助，但您会发现 CoreImage.framework 隐藏在 QuartzCore.framework 中

因此，将“ `QuartzCore.framework`”添加到您的项目中，您应该已经准备就绪。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T05:17:41.560

进口`QuartzCore.framework`

```
Library/Frameworks/QuartzCore.framework 
```

# javascript - 将 URL 参数传递给颜色框

> ID：12775668
> 
> 赞同：0
> 
> 时间：2012-10-08T05:14:29.010
> 
> 标签：javascript, html, colorbox

我有一个简单的投票系统，其中有一个颜色框作为投票表格。当一个人点击投票时，它会将他们带到 vote.html?id=X（x 是一个数字）。vote.html 显示在颜色框中。在颜色框中，我得到了 URL 参数，但它没有找到 id 作为参数。知道如何将 id 传递到颜色框中吗？这是代码...

Javascript：

```
<script>
    function voteForShirt(shirtId) {
        alert("vote.htm?="+shirtId);
        $('#').colorbox();
        $.colorbox({href:"vote.html?id="+shirtId});
    }
</script> 
```

以下是出现在颜色框中的 vote.html 中的 Javascript

```
<script type="text/javascript">
    function getUrlVars() {
    var vars = {};
    var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
    vars[key] = value;
    });
    return vars;
    }

    var shirtId = getUrlVars()["id"];
    alert(shirtId);
    document.getElementById('title').innerHTML = "<h1>You're Voting for Shirt " + shirtId + "</h1>";    
</script> 
```

在这里，当我提醒 shirtId 时，我变得不确定。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T22:42:06.593

看起来您应该使用 iframe 而不是 ajax。当您使用 ajax 时，您并没有创建新的窗口对象，因此 window.location 指的是您当前的位置（而不是 vote.html）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T05:45:09.187

我不知道您的正则表达式有什么问题，但请尝试使用此函数来解析 id。

```
<script type="text/javascript">
function getParameterByName(name)
{
  name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
  var regexS = "[\\?&]" + name + "=([^&#]*)";
  var regex = new RegExp(regexS);
  var results = regex.exec(window.location.search);
  if(results == null)
    return "";
  else
    return decodeURIComponent(results[1].replace(/\+/g, " "));
 }
</script> 
```

资料来源：[Artem Barger](https://stackoverflow.com/a/901144/609371)

# c# - 如何在 VB.NET 的富文本框中添加图像

> ID：12775669
> 
> 赞同：1
> 
> 时间：2012-10-08T05:14:31.813
> 
> 标签：c#, vb.net, image, richtextbox, picturebox

我想以编程方式在富文本框中添加图像。

逻辑是，当我单击用户图像时，RTB 中将出现，其下方将显示他的详细信息。我能够显示详细信息，但如何在这些数据之前显示图像。

图像在图片框控件中

```
//Here i want the image code so that it can appear above the following user details.
rtext.Text = "Number - 1"
rtext.AppendText(Environment.NewLine)
rtext.Text = rtext.Text + "Name - John Doe" 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T06:01:41.890

您可以跳过所有 rtf 内容，只使用图像和文本。例如，如果您想要图像和一些文本，您可以将该图像加载到剪贴板，然后将其粘贴到richTextBox：

```
Image img = Image.FromFile(filename); //if you want to load it from file...
Clipboard.SetImage(img);            
richTextBox1.Paste();
richTextBox1.AppendText("your text"); 
```

# typescript - 如何向 TypeScript 添加对 WebGL 等浏览器功能的支持？

> ID：12775670
> 
> 赞同：9
> 
> 时间：2012-10-08T05:14:33.557
> 
> 标签：typescript

```
var canvas = <HTMLCanvasElement>document.getElementById('canvas1');
var gl = canvas.getContext('webgl');
canvas.width = 400;
canvas.height = 400;
gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight); 
```

“HTMLCanvasElement”似乎只提供 2d 画布方法。它不会让我编译 gl.viewport() 等。如何添加对 WebGL 的支持？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-08T05:38:25.320

您需要在使用 WebGL 方法之前定义它们。[你可以在这里](https://github.com/piersh/WebGL.ts/blob/master/WebGL.d.ts)找到一些社区编写的 WebGL 类型。将 WebGL.d.ts 添加到您的项目中，并将其命名为：

```
///<reference path="WebGL.d.ts" />

var canvas = <any>document.getElementById('canvas1');
var gl =  <WebGLRenderingContext> canvas.getContext('webgl');
canvas.width = 400;
canvas.height = 400;
gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight); 
```

# mysql - `date` 是一个有效的 mysql 列名吗？

> ID：12775671
> 
> 赞同：21
> 
> 时间：2012-10-08T05:14:37.983
> 
> 标签：mysql, database-design, database-schema

我想知道是否`date`实际上是一个有效的 mysql 列名？

根据[说明书](http://dev.mysql.com/doc/refman/5.5/en/reserved-words.html#table-reserved-words-new-5.5)

> MySQL 允许将某些关键字用作不带引号的标识符，因为许多人以前使用过它们。示例如下：
> 
> *   行动
> *   少量
> *   日期
> *   枚举
> *   不
> *   文本
> *   时间
> *   时间戳

因此，据我所知，您*可以*将其`date`用作列名，但并不是说不*推荐*。

`date`那么，使用作为列名有什么影响吗？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-10-08T15:51:52.860

我能够在数据库中添加一个名为的列`date`，不需要引号。

所以，是的，这是可能的。

但你不需要。选择另一个列名，例如`"date_recorded"`。它不仅在语法上更好，而且更具描述性。

# ruby-on-rails - 根据参数限制用户拥有的列的行数

> ID：12775678
> 
> 赞同：2
> 
> 时间：2012-10-08T05:15:37.240
> 
> 标签：ruby-on-rails, ruby

我正在构建一个呼叫跟踪应用程序作为学习 rails 和 twilio 的一种方式。

现在，我有模型方案计划 has_many users has_many 手机。

在计划模型中，我有一个名为 max_phone_numbers 的参数。

我想做的是根据计划提供的 max_phone_numbers 限制用户拥有的电话数量。

流程看起来像这样：

1) 用户购买了一堆电话号码 2) 当 User.phones.count = max_phone numbers 时，购买更多电话号码的功能被禁用，并弹出一个链接到 upgrade_path

我不太确定我会怎么做。我需要在模型和控制器中执行哪些操作？

***我将在我的控制器中定义什么，以便在视图中我可以扭曲按钮周围的 if/then 语句？***
即如果达到限制，则显示此，否则显示按钮

***我会在我的模型中添加什么来防止有人仅仅访问链接？***

任何指导，或做这样的事情的资源将不胜感激

这是我当前的用户模型

```
# == Schema Information
#
# Table name: users
#
#  id                    :integer          not null, primary key
#  name                  :string(255)
#  email                 :string(255)
#  created_at            :datetime         not null
#  updated_at            :datetime         not null
#  password_digest       :string(255)
#  remember_token        :string(255)
#  twilio_account_sid    :string(255)
#  twilio_auth_token     :string(255)
#  plan_id               :integer
#  stripe_customer_token :string(255)
#

# Twilio authentication credentials

class User < ActiveRecord::Base
  attr_accessible :name, :email, :password, :password_confirmation, :plan_id, :stripe_card_token
  has_secure_password
  belongs_to :plan
  has_many :phones, dependent: :destroy

  before_save { |user| user.email = email.downcase }
  before_save :create_remember_token

  validates :name,  presence: true, length: { maximum: 50 }
  VALID_EMAIL_REGEX = /\A[\w+\-.]+@[a-z\d\-.]+\.[a-z]+\z/i
  validates :email, presence: true, format: { with: VALID_EMAIL_REGEX },
                    uniqueness: true

  validates :password, presence: true, length: { minimum: 6 }, on: :create
  validates :password_confirmation, presence: true, on: :create
  validates_presence_of :plan_id

  attr_accessor :stripe_card_token

  def save_with_payment
    if valid?
      customer = Stripe::Customer.create(description: email, plan: plan_id, card: stripe_card_token)
      self.stripe_customer_token = customer.id
      save!
    end
  rescue Stripe::InvalidRequestError => e
    logger.error "Stripe error while creating customer: #{e.message}"
    errors.add :base, "There was a problem with your credit card."
    false
  end

    def create_twilio_subaccount     
      @client = Twilio::REST::Client.new(TWILIO_PARENT_ACCOUNT_SID, TWILIO_PARENT_ACCOUNT_TOKEN)
      @subaccount = @client.accounts.create({:FriendlyName => self[:email]})
      self.twilio_account_sid = @subaccount.sid
      self.twilio_auth_token  = @subaccount.auth_token
      save!
    end

  private

      def create_remember_token
        self.remember_token = SecureRandom.urlsafe_base64
      end

end 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T06:21:33.710

您可以向您的电话模型添加自定义验证，以检查用户是否已达到其限制。如果用户已达到其限制，这将阻止创建任何新电话。

在您的用户类中

```
def at_max_phone_limit?
  self.phones.count >= self.plan.max_phone_numbers
end 
```

在你的电话课上

```
validate :check_phone_limit, :on => :create

def check_phone_limit
  if User.find(self.user_id).at_max_phone_limit?
    self.errors[:base] << "Cannot add any more phones"
  end
end 
```

在你的视图/表单中，你会做这样的事情

```
<% if @user.at_max_phone_limit? %>
  <%= link_to "Upgrade your Plan", upgrade_plan_path %>
<% else %>
  # Render form/widget/control for adding a phone number
<% end %> 
```

# mysql - 从表中获取与结果集匹配的所有记录

> ID：12775680
> 
> 赞同：0
> 
> 时间：2012-10-08T05:15:46.803
> 
> 标签：mysql, self-join

这听起来有点奇怪……但让我试着解释一下

```
id       phone
1        123
2        234
3        456
4        4564
5        9876
..............
1000       123
2000       234  
3000       456
5000       123 
```

我需要以这样的方式编写查询，当我提取表的前 5 条记录时，查询还将在同一个表中搜索前 5 条记录中出现的电话号码

所以最终的结果集将是

```
id      phone
1       123
2       234
3       456
4       4564
5       9876
1000    123
2000    234
3000    456
5000    123 
```

我知道我可以分离相同的查询，首先提取前 5 个，然后遍历每个电话号码以提取与电话号码匹配的记录。但希望做一个单一的声明......如果可能的话......

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T05:17:59.063

就像是

```
SELECT ...
FROM yourtable
WHERE phone IN (
    SELECT DISTINCT phone
    FROM yourtable
    ORDER BY ...
    LIMIT 5
) 
```

?

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T05:21:05.053

```
 Select t1.id,t2.phone from yourtable as t1 
left join yourtable as t2 on t2.phone = t1.phone 
```

# c# - 多行标签与较低的 DIV 合并

> ID：12775682
> 
> 赞同：0
> 
> 时间：2012-10-08T05:15:56.740
> 
> 标签：c#, asp.net, html, css, label

我正在使用两个 DIV 一个在另一个之下。在顶部 DIV 中，我使用了动态生成数据的多行标签。

当 Label 中的数据稍大时，不会生成 Space，但超出的数据会与较低的 DIV 合并

这是 Div 的 Css

```
white-space:inherit; 
```

这是标签的CSS

```
float: left;
width: 30%;    
overflow:auto; 
```

你能帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T05:48:36.323

给出第一个 DIV 类名称`.container`并将 css 写为 -

```
.container{
  overflow: hidden;
} 
```

`label`正在合并，因为`next div`它`float: left`有财产。`overflow: hidden;`将帮助您防止这种行为。

# codeigniter - 我可以确定 Codeigniter 中 query_result 数组的键吗？

> ID：12775686
> 
> 赞同：0
> 
> 时间：2012-10-08T05:16:55.160
> 
> 标签：codeigniter

在`get_poll`以下`Poll`模型中发挥作用：

```
class Poll_model extends CI_Model 
{
    public function get_poll($parameter) {
        $this->db->select('question.id, question.title, question.question, answer.answer')->from('answer')->join('question', 'answer.question_id = question_id')->where('question.id',$parameter);
        $query = $this->db->get();
        return $query->result_array();
} 
```

因为我使用 join 从 2 table 和 table 中获取结果，`question`并且`answer`都有 column `content`，所以在 result_array 中，结构如下：

```
Array ( [id] => 1 [title] => favourate character [content] => Green ) 1 
```

那里只有`answer content`，我认为`question content`被覆盖了，因为它们都有相同的“内容”列。表结构如下图：

```
CREATE TABLE `answer` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `question_id` int(11) unsigned NOT NULL,
  `content` text NOT NULL,
  PRIMARY KEY (`id`),
  KEY `question_id` (`question_id`),
  CONSTRAINT `answer_ibfk_1` FOREIGN KEY (`question_id`) REFERENCES `question` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=latin1;

CREATE TABLE `question` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `title` varchar(128) NOT NULL DEFAULT '',
  `content` text NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=latin1; 
```

有没有办法解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T21:06:01.723

`->select()`只需像这样重命名调用中的列：

```
$this->db
    ->select('
        question.id id, 
        question.title title, 
        question.content question, 
        answer.content answer')
    ->from('answer')
    ->join('question', 'answer.question_id = question_id')
    ->where('question.id', $parameter); 
```

结果行现在应该包含一个`question`和一个`answer`索引。

# java - Java 链表程序

> ID：12775692
> 
> 赞同：-2
> 
> 时间：2012-10-08T05:17:06.320
> 
> 标签：java, linked-list

因此，我正在尝试为我创建的程序编译我的 LinkedList，并且它返回的错误是我认为确实是错误的错误（如果那样的话）。我想知道是否有人可以看看这个并提出他们的想法，为什么我在编译时可能会出错，以及他们是否对我应该做些什么来摆脱它们有任何建议：

```
import java.util.Iterator;
import java.util.NoSuchElementException;

public class LinkedListDS<E> implements ListADT<E> {
    class Node<E> {
        E data;
        Node<E> next; 

        public Node(E data) {
            this.data = data;
            next = null;
            }
        }

    private Node<E> head, tail;
    private int currentSize;

    public LinkedListDS() {
        head = tail = null;
        currentSize = 0;
        }

    public void addFirst(E obj) {
        if(head == null)
            head = tail = newNode;
        else {
            newNode.next = head;
            head = newNode;
            }
        currentSize++;
        }   

// Adds the Object obj to the end of the list 
    public void addLast(E o) {
        if(head == null)
            head = newNode;
            tail = newNode;
        currentSize++;
        return;
        {
        tail.next = newNode;
        tail = newNode;
        currentSize++;
        }
    }   

// Removes the first Object in the list and returns it.
// Returns null if the list is empty.
    public E removeFirst() {
        if(head == null) 
            return null;
        E tmp = head.data;
        head = head.next;
        {
        if (head == null)
            tail = null;
            currentSize++;
        return tmp;
        }
    }   

//  Removes the last Object in the list and returns it.
//  Returns null if the list is empty.
    public E removeLast() {
        Node<E> previous = null;
        Node<E> current = head;
            if (current == null) 
                return null;
            while(current.next != null) {
                previous = current;
                current = current.next;
            }
            if(previous = null)
                return removeFirst;
                previous.next = null;
                tail = previous;
                currentSize--;
            return current.data;
        }

// Returns the first Object in the list, but does not remove it.
//  Returns null if the list is empty.
    public E peekFirst() {
        if(head == null)
            return null;
        return head.data;
        }

//  Returns the last Object in the list, but does not remove it.
//  Returns null if the list is empty.
    public E peekLast() {
        if(tail == null)
            return null;
        return tail.data;
        }

//  Removes the specific Object obj from the list, if it exists.
//  Returns true if the Object obj was found and removed, otherwise false
    public boolean remove(E obj) {
        if(head == null)
            return false;
            {
        if(head.data.equals(obj))
            head = head.next;
            return true;
            }
    Node<E> current = head;
    while(current.next != null)
    {
        if(current.next.data.equals(obj))
        {
            current.next = current.next.next;
            return true;
            }
        current - current.next;
        }
    currentSize--;
    return false,
    }
}    

//  The list is returned to an empty state.
    public void makeEmpty() {
        head = tail = null;
        currentSize = 0;

//  Returns true if the list contains the Object obj, otherwise false
    public boolean contains(E obj) {
        Node<E> current = head;
        while(current != null)
        {
            if(current.data.equals(obj))
            {
                return true;
                }
            current - current.next;
            }
        return false;
        }

//  Returns true if the list is empty, otherwise false
    public boolean isEmpty() {
        return = null;
        }

//  Returns true if the list is full, otherwise false
    public boolean isFull() {
        return false;
        }

//  Returns the number of Objects currently in the list.
    public int size() {
        return currentSize;
        }

    public iterator<E> iterator() {
        return new iterator;
            }

    class IteratorHelper implements Iterator<E> {
        Node<E> iteratorPointer

        public IteratorHelper() {
            iteratorPointer = head;
            }
        public boolean hasNext() {
            return iteratorPointer != null;
            }
        public E next() {
            if(!hasNext())
                throw new NoSuchElementException();
            E tmp = iteratorPointer.data;
            iteratorPointer = iteratorPointer.next;
            return tmp;
            }
        public void remove() {
            throw new UnsupportedOperationException();
            }
        }

} 
```

另外，有没有一种方法可以使这段代码更易于阅读和理解，时间不长但仍要完成相同的任务？请随时分享。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T05:21:50.220

您已经定义了一个接口并将其用作类..

```
public interface LinkedListDS<E> implements ListADT<E> { 
```

**上述声明中的问题： -**

*   接口不实现其他接口，它们扩展，就像一个类扩展另一个类..
*   接口没有定义`methods`和`constructors`

所以，你实际上想使用一个类..

**将上述声明更改为： -**

```
public class LinkedListDS<E> implements ListADT<E> { 
```

另外，你还没有关闭你的`iterator`方法..

```
public iterator<E> iterator() {
        return new iterator; 
```

添加右大括号..**实际上**，您有很多...重新缩进代码以检查匹配的大括号..这是您不缩进代码时面临的一个主要问题..

# iphone - 如何解析 Json 对象

> ID：12775695
> 
> 赞同：0
> 
> 时间：2012-10-08T05:17:28.917
> 
> 标签：iphone, objective-c, ios, xcode, json

我被困在 json 对象解析上真的很努力。问题是如何解析 json 对象。这是我在日志中得到的响应。

```
{"0":{"**title**":"Test Event","url_title":"test_event1","status":"open","entry_date":"Sep 10, 2012, 

05:20:38AM","entry_id":"26","site_id":"1","channel_id":"3","field_dt_40":null,"field_dt_58":null,"channel_title":"News & 

Events","channel_name":"news_events","start_date":"1348120800","end_date":"1348120800","start_time": "43200","end_time":"46800","where":"FCF","news_event_description":"<p>\n\tLunch with group.<\/p>\n"},

"1":{"**title**":"Test Event 2","url_title":"test_event_2","status":"open","entry_date":"Sep 10, 2012, 05:20:08AM","entry_id":"28","site_id":"1","channel_id":"3","field_dt_40":null,"field_dt_58":null,"channel_title":"News & Events","channel_name":"news_events","start_date":"1348207200","end_date":"1348207200","start_time":"43200","end_time":"46800","where":"FCF - Lunch","news_event_description":"<p>\n\tThis was a great event.<\/p>\n"},

"2":{"**title**":"Test Event 3","url_title":"test_event_3","status":"open","entry_date":"Sep 10, 2012, 05:20:54AM","entry_id":"29","site_id":"1","channel_id":"3","field_dt_40":null,"field_dt_58":null,"channel_title":"News & Events","channel_name":"news_events","start_date":"1346738400","end_date":"1346738400","start_time":"7200","end_time":"11700","where":"FCF - Lunch","news_event_description":"<p>\n\tFall planning season.<\/p>\n"}} 
```

问题是我想在表格视图中显示所有标题。我可以通过使用键 0、1、2 获得单个标题。但我希望我解析后立即显示所有标题

请大家帮帮我，在此先感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T05:29:18.567

假设 jsonDict 是你的 json 字典......试试这个

```
NSArray * keys=[[NSArray alloc]init];
keys=[jsonDict allKeys];
NSMutableArray *titles=[[NSMutableArray alloc]init];
for(int i=0;i<[keys count];i++){
      [titles addObject:[[jsonDict valueForKey:[keys objectAtIndex:i]]valueForKey:@"title"]];
}
NSLog(@"your array of titles : %@",titles); //use this array to fill your cell 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T05:23:20.750

您是否尝试自己解析 JSON？您可能会发现使用已经过良好测试的东西更容易，例如 TouchJSON 或 Apple 自己的[NSJSONSerilization](http://developer.apple.com/library/ios/#documentation/Foundation/Reference/NSJSONSerialization_Class/Reference/Reference.html)。结果应该是一个Objective-C对象图，你可以随意使用它。

无论如何，你所拥有的相当于一本字典。如果您将其作为 NSDictionary 调用`myJSONDictionary`，您可以说：

```
NSArray *theObjects = [myJSONDictionary allValues]; // gets all the objects
NSArray *theTitles = [theObjects valueForKey:@"**title**"]; // gets all the titles 
```

您还可以使用快速枚举遍历字典：

```
NSMutableArray *theTitles = [NSMutableArray array];
for (NSString *key in myJSONDictionary) {
    NSDictionary *object = [myJSONDictionary objectForKey:key];
    NSString *title = [object objectForKey:@"**title**"];
    [theTitles addObject:title]
} 
```

如果您只需要标题，那么这样做而不是像第一个示例中那样使用 KVC 并没有真正的优势，但如果您对每个对象都有更复杂的工作要做，它可能是正确的选择。

# postgresql - 如何在 Mountain Lion 上为 PostgreSQL 设置 $PATH 变量？

> ID：12775696
> 
> 赞同：2
> 
> 时间：2012-10-08T05:17:35.887
> 
> 标签：postgresql, path, osx-mountain-lion

我的机器上安装了 Ruby on Rails。我当前的 $PATH 变量如下所示：

```
/Users/smith/.rvm/gems/ruby-1.9.3-p194/bin:/Users/smith/.rvm/gems/ruby-1.9.3-p194@global/bin:/Users/smith/.rvm/rubies/ruby-1.9.3-p194/bin:/Users/smith/.rvm/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin 
```

请注意，$PATH 包含我的 ruby​​ 目录的路径。

在尝试将 Postgres.app 的路径添加到 $PATH 时，我在用户的根目录中创建了一个 .bash_profile 文件并放入：

```
PATH="/Applications/Postgres.app/Contents/MacOS/bin:$PATH" 
```

重新启动终端窗口后，Postgres.app 的路径添加得很好，但我的 ruby​​ 路径在操作中丢失了。

那么将postgres的路径放入$PATH的正确方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-04T03:19:50.383

添加[导出](https://superuser.com/a/18990)：

```
export PATH="/Applications/Postgres.app/Contents/MacOS/bin:$PATH" 
```

# sql-server - 如何在sql中提取具有最小值的行的ID

> ID：12775697
> 
> 赞同：1
> 
> 时间：2012-10-08T05:17:36.833
> 
> 标签：sql-server, tsql, select, stored-procedures

我有下表

```
RecordID     Group     Date        Value
----------------------------------------
 1           Test 1   1/01/2012     10
 2           Test 1   1/01/2012     10
 3           Test 1   1/01/2012     20
 4           Test 2   1/01/2012     20
 5           Test 1   2/01/2012     10
 6           Test 2   2/01/2012     30
 7           Test 1   2/01/2012     20
 8           Test 1   2/01/2012     20
 9           Test 2   2/01/2012     20
10           Test 1   3/01/2012     10
11           Test 2   3/01/2012     10
12           Test 2   3/01/2012     20
13           Test 3   3/01/2012     10
14           Test 1   4/01/2012     10 
```

我需要获取所有 RecordIds，其中对于同一日期和同一组，它具有最低值，并忽略同一日期和同一组具有更大价值的所有记录。所以我的查询需要按“日期”和“组”分组并找到具有最低值的记录，即结果应该是：

RecordIds：1、2、4、5、9、10、11、13、14

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-08T05:27:26.613

您可以在子查询中使用[排名。](http://msdn.microsoft.com/en-us/library/ms176102(v=sql.90).aspx)

```
select T.RecordID,
       T.[Group],
       T.Date,
       T.Value
from 
  (
    select RecordID,
           [Group],
           Date,
           Value,
           rank() over(partition by [Group], Date order by Value) as rn
    from YourTable
  ) as T
where T.rn = 1
order by T.RecordID 
```

[SQL小提琴](http://sqlfiddle.com/#!3/b4893/1/0)

# css - 如何使交替 li 粗体？

> ID：12775700
> 
> 赞同：2
> 
> 时间：2012-10-08T05:17:56.327
> 
> 标签：css

在 ul li 列表中，如何将备用 li 设为粗体。如图所示。

![在此处输入图像描述](../Images/9f22c8835dedd53e25268153d0e9a048.png)

谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-08T05:21:17.780

使用[nth-child(even)](http://www.w3.org/Style/Examples/007/evenodd)伪选择器：

```
li:nth-child(even) {
    font-weight: bold;
} 
```

根据您是否想要第一个粗体使用奇数或偶数。

jsfiddle 上的[演示。](http://jsfiddle.net/A3a2U/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-08T05:22:00.173

你可以做这样的事情

```
ul li:nth-child(odd)
{
font-weight:bold;
} 
```

**[看演示](http://jsfiddle.net/pySuG/)**

**注意：***如果你想从第一个 li 元素开始，那么如果你想从第二个元素开始，请使用奇数，然后按照 alexn 在他的回答中建议的那样使用偶数。*

# asp.net - 如何在提琴手中确认加密数据？

> ID：12775703
> 
> 赞同：2
> 
> 时间：2012-10-08T05:18:25.087
> 
> 标签：asp.net, iis, encryption, fiddler

我正在本地主机上测试 https 数据加密。为此，我在 IIS 中注册了一个证书并附加到我的 aspx 网站。在浏览器中的 IIS 中预览我的网站时，它会显示为 https。

在表单标签中，我添加了另一个页面作为操作和方法是发布的。

将文本放入文本框并按下按钮后，当我在提琴手中看到它显示纯数据。我期待那里的加密数据。有什么我想念的吗？还是在做wearg？

请指导。

谢谢

# algorithm - 寻找最有利的货币兑换顺序

> ID：12775704
> 
> 赞同：2
> 
> 时间：2012-10-08T05:18:35.660
> 
> 标签：algorithm, shortest-path, directed-acyclic-graphs

我正在使用我书中的以下练习：

最短路径算法可以应用于货币交易。让 c [1] , c [2] , . . . , c [n]是各种货币；例如，c [1]可能是美元、c [2]英镑和 c [3]里拉。对于任何两种货币 c [i]和 c [j]，都有一个汇率 r [i,j]；这意味着您可以购买 r [i,j]个单位的货币 c [j]来换取一个单位的 c [i]。这些汇率满足 r [i,j] · r [j,i] < 1 的条件，所以如果你从货币单位 c [i]，将其转换为货币 c [j]，然后再转换回货币 c [i]，您最终会得到少于一个单位的货币 c [i]（差额是交易成本）。(a) 为以下问题给出一个有效的算法：给定一组汇率 ri [,j]和两种货币 s 和 t，找到将货币 s 转换为货币 t 的最有利的货币兑换序列。为了实现这个目标，您应该用边长为实数的图形来表示货币和汇率。

* * *

所以基本上我们想要做的不是最小化，我们需要最大化利润。因此，我们需要找到从 s 到 t 的最长路径。我们被断言存在从 s 到 t 的最短路径。

我想解决这个问题的方法是遵循这个算法：

1.  否定图的所有边
2.  运行有向无环图的最短路径算法。

我相信这会奏效，但我不确定。在谷歌上，我发现了一些解决方案，其中包括另一个步骤：使用对数将比率的乘法转换为加法。我认为这一步对她来说是不必要的，但我仍然不确定。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T05:41:43.370

不要再尝试使用 Google 或 StackOverflow 来寻找解决方案，而是想一想。虽然许多问题可以通过从各种来源收集资源、信息和想法来解决，但有些问题却不能。让您的计算机进入睡眠状态。去找个安静的地方。想一想，直到你有一个想法。在废纸或白板上绘制示例图表。试试看。看看它是否有效。如果它不考虑为什么不尝试寻找新的想法。如果是这样，请尝试考虑一个无效的图表。当您确信自己拥有适用于所有图形的算法时，您就完成了。仅仅让我们告诉您解决方案，您不会学到很多东西。

# ajax - Grails - 无法提交 base64 img

> ID：12775705
> 
> 赞同：1
> 
> 时间：2012-10-08T05:18:53.180
> 
> 标签：ajax, grails, base64

我需要让 ajax 提交来提交一些数据，包括图像的 base64 字符串，它是从画布渲染的。

提交时，我查看 Chrome 检查器的网络面板，一切正常，在“表单数据”中列出了我要提交的所有数据。

但是在 Grails 中我无法获取数据， 中没有任何内容`params`，只有控制器名称和操作名称。因此，我得到的一切`params.dataName`都是空的。

我想发布请求的大小有些问题，但我不太确定，因为我以前没有 ajax 就这样做过。

这是我使用 jquery ajax 上传的代码：

```
var imgBase64String = canvas.toDataURL("image/png");
imgBase64String = imgBase64String .replace('data:image/png;base64,', '');
var submitData = $(form).serializeArray();
submitData.push({name: "webImage", value: imgBase64String })
$.ajax({
    type: 'POST',
    url: '${createLink(action: 'myAction')}',
    data: submitData,
    dataType: "html",
    success: function(data){//Success code},
}); 
```

**更新**

`params`我在服务器端的代码，在检索数据的简单步骤中失败：

```
def myAction= {
        def paramData = params
        log.info "paramData: " + paramData

        def url = params.url
        def email = params.email
        def webImage = params.webImage
        log.info "param: url = " + url
        log.info "param: email = " + email
        log.info "param: webImage = " + webImage

        //Other implement code      
} 
```

和输出：

```
2012-10-08 16:31:28,988 [http-bio-8080-exec-5] INFO  myController  - paramData: [action:myAction, controller:myController]
2012-10-08 16:31:28,989 [http-bio-8080-exec-5] INFO  myController  - param: url = null
2012-10-08 16:31:28,989 [http-bio-8080-exec-5] INFO  myController  - param: email = null
2012-10-08 16:31:28,989 [http-bio-8080-exec-5] INFO  myController  - param: webImage = null 
```

我尝试提交的base64图像的大小是1998720，不知道是否有问题。

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:25:58.177

我相信你可以简单地在方法中`canvas.toDataURL("image/png")`传入`data`字段。`$.ajax()`也使用`$.post()`代替`$.ajax()`. 所以你的代码在 js 文件中应该是这样的：

```
$.post('/image/getCanvasImage',  //this is your url
  {
    img : canvas.toDataURL('image/jpeg'),
    email : email
  }, function(data){
      //whatever you wanna do with the returned data
  }
); 
```

然后在您的操作中，导入`import sun.misc.BASE64Decoder`包，您可以编写以下代码来保存画布图像：

```
def file = params.img.toString().substring((params.img.toString().indexOf(",")+1),params.img.toString().size())
byte[] decodedBytes = new BASE64Decoder().decodeBuffer(file)
def image = new File("mySavedImage.jpg")
image.setBytes(decodedBytes) 
```

应该管用！

# web-services - SOAP-ERROR：解析 WSDL：没有与关联的地址

> ID：12775707
> 
> 赞同：1
> 
> 时间：2012-10-08T05:19:03.663
> 
> 标签：web-services, wsdl

我正在编写一个 wsdl 文件，当我测试它时，我得到了“SOAP-ERROR: Parsing WSDL: No address associated with”消息。我在端口标签中添加了地址：以下是代码：

```
<service name="MyWebService">
    <documentation>WSDL file for Web Service</documentation>
    <port name="GetNamePortType" binding="tns:GetNameBinding">
        <soap:address location="http://localhost:8080/site/ws/wsdl/"/>
    </port>
</service> 
```

感谢您的任何意见

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T05:32:43.210

你在后台使用什么语言？我上次使用 SOAP 是不久前的经典 asp :)。但是在那里我必须像这样指定目标文件：

```
 <service name='TQ' >
    <port name='TQSoapPort' binding='wsdlns:TQSoapBinding' >
      <soap:address location='http://vminformer/latest/_Service/_service.asp' />
    </port>
  </service> 
```

不知道这是否对您有帮助，但如果没有更多信息，很难说出哪里出了问题。

# controller - 如何在目录中组织控制器？

> ID：12775709
> 
> 赞同：6
> 
> 时间：2012-10-08T05:19:11.983
> 
> 标签：controller, laravel

我刚开始使用 Laravel。当我使用 codeigniter 或 zend 框架时，我可以将我的控制器组织到一个单独的目录中。例如，我可以创建 'user/permission.php' 和 'user/group.php'。

我如何用 Laravel 做到这一点？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-08T05:27:46.477

转换`/`成`_`. 所以你的`controllers/user/permission.php`控制器将是

```
class User_Permission_Controller 
```

## 更新：

您还必须路由到控制器更改`_`为`.` So 路由类似于

```
Route::get('/', 'user.permission@index'); 
```

您可以在此处查看有关它的更多详细信息。[http://codehappy.daylerees.com/using-controllers](http://codehappy.daylerees.com/using-controllers)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T12:03:04.553

（这与 Robbo 给出的一些额外示例的答案基本相同）。

我使用以下（经过测试的）结构。我有一个文件 controllers/admin.php，它看起来像：

```
class Admin_Controller extends Base_Controller {
    ...
} 
```

我有像 controller/admin/groups.php 这样的文件，看起来像：

```
class Admin_Groups_Controller extends Admin_Controller {
    ...
} 
```

在 routes.php 文件中我有

```
// Route to all controllers
Route::controller(Controller::detect()); 
```

# python - 如何使用 Python 从网站下载文本文件？

> ID：12775710
> 
> 赞同：0
> 
> 时间：2012-10-08T05:19:20.170
> 
> 标签：python, file, download

我需要编写一个函数来下载和存储今天的预发布域 .txt 文件列表， `http://www.namejet.com/pages/downloads.aspx.` 因为今天是 10 月 8 日，您想要获取文件“2012 年 10 月 8 日星期一”。尝试了请求，但没有奏效。我遇到了麻烦，因为该文件没有存储在固定的 URL 上，而是隐藏在一些 Javascript 后面。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T06:25:33.887

当您处理 ASP.NET 的[回](https://stackoverflow.com/questions/4251157/what-is-a-postback)发系统时，这有点棘手。如果这是针对个人脚本以外的任何内容，我会保持警惕，因为您不仅在有效地使用另一个站点的数据，而且还在对他们的软件进行逆向工程（但是，IANAL 并且不知道网络中这些问题的合法性系统）。

您要做的是检查 POST 数据（使用 Firebug、Chrome 开发人员工具等）并查找表单对象的`__EVENTTARGET`和`__VIEWSTATE`属性。您必须将其解码`__VIEWSTATE`为可读（查看[http://ignatu.co.uk/ViewStateDecoder.aspx](http://ignatu.co.uk/ViewStateDecoder.aspx)）。从那里，我认为您*应该*能够弄清楚如何获取您正在寻找的数据。

在 Python 中，它很简单：

```
from urllib2 import urlopen
from urllib import urlencode

data = urlopen('url', urlencode({
    '__VIEWSTATE': 'foo',
    '__EVENTTARGET': 'bar',
})).read() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T05:30:38.753

实际上，您会获得文本文件以响应具有多个 base64 编码请求参数的 POST 请求。随意玩它

使用 Firebug 或任何其他调试工具查看 POST 内容和参数

# php - 在 codeigniter 2.1.0 中更改 .htaccess 文件后图像未出现

> ID：12775711
> 
> 赞同：0
> 
> 时间：2012-10-08T05:19:21.267
> 
> 标签：php, .htaccess, codeigniter-2

这是我的 .htaccess 文件

```
RewriteEngine On
#RewriteCond $1 !^(index\.php|css|images|js|tp|files)
RewriteCond $1 !^(index\.php|css|Images|js|tp|files)
RewriteRule ^(.+)$ index.php?$1 [L] 
```

从配置文件中删除“index.php”后一切正常，除了图像没有显示

# java - 纸牌游戏图形：更新面板中画布对象的矢量

> ID：12775714
> 
> 赞同：2
> 
> 时间：2012-10-08T05:19:32.900
> 
> 标签：java, vector, panel

所以我正在创建纸牌游戏 Gin Rumy。我正在处理图形，特别是创建一个更新的面板，以便它始终显示玩家手中的卡片对象的矢量。Cards 本身是一个扩展画布类的组件。我要问的是如何创建一些函数 updatePanel() 在玩家的手（卡片对象的向量）发生变化时更新面板。我能想到的就是从 GUI 框架中移除旧面板，创建一个新面板，用玩家手中的卡片填充新面板，然后将新面板粘贴到 GUI 框架上。我什至没有对此进行编码，因为我担心从 GUI 框架中取出一个组件然后将其重新装上会冒破坏布局的风险，而且我的直觉告诉我，每次创建一个新面板都是一个坏主意. 所以我'

您还会注意到 selectButton 的 actionPerformed() 方法是不完整的。我想要做的是删除有焦点的卡片。我了解焦点和动作事件的工作原理，但我不了解的是如何在面板中搜索并找到被选中的卡片并将其删除。

我非常感谢有关 updatePanel() 或 selectButton 的 actionPerformed() 方法的任何帮助，或有关在整个程序过程中从面板中添加和删除对象的任何其他有用信息。

```
// GraphicGinRumy

import java.awt.*;
import java.awt.event.*;
import java.io.*;
import java.util.Vector;
import java.util.Random;

public class GraphicGinRumy extends GUIFrame {

    protected Card card;
    protected Button selectButton, newGameButton;
    protected Panel controlPanel, playerPanel;
    protected RandomCardDeck deck;
    protected Vector<Card> playerHand;

    //Pardon this weird indentation...the code didn't copy to stack overflow correctly
    public GraphicGinRumy() {
        super("Gin Rumy");
        deck = new RandomCardDeck();
        playerHand = new Vector<Card>();

        MouseListener ml = new MouseAdapter() {
            public void mousePressed(MouseEvent e) {
                Card selectedCard = (Card) e.getSource();
                if (selectedCard.getFocused()) {
                    selectedCard.setFocused(false);
                } else {
                    selectedCard.setFocused(true);
                }
            }
        };

        deck.shuffle();
        rumyDeal();

        //Player Panel
        playerPanel = new Panel();
        for (int c = 0; c < playerHand.size(); c++) {
            playerPanel.add(playerHand.elementAt(c));
        }
        add(playerPanel, BorderLayout.CENTER);

        //Control Panel
        controlPanel = new Panel();
        selectButton = new Button("Select");
        selectButton.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent e) {
            }
        });
        controlPanel.add(selectButton);
        newGameButton = new Button("New Game");
        newGameButton.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent e) {
                deck.shuffle();
                deck.deal();
                updatePanel();
            }
        });
        controlPanel.add(newGameButton);
        add(controlPanel, BorderLayout.SOUTH);

        setSize(500, 100);
        setVisible(true);

        //__________________________________________________________________
        //Game Setup
        //__________________________________________________________________

        //Set card values:
        //2 to 9 is worth 5 pts; 10 to K is worth 10 pts; A is worth 15 pts
        for (int c = 0; c < deck.getNumCards(); c++) {
            card = deck.getCard(c);
            if (card.getFaceValue() < 10) {
                card.setValue(5);
            } else if (card.getFaceValue() < Card.ACE) {
                card.setValue(10);
            } else {
                card.setValue(15);
            }
        }

    }

    public static void main(String args[]) {
        GraphicGinRumy rumy = new GraphicGinRumy();
        //rumy.play();
    }

    protected void rumyDeal() {
        //Give player and CPU 7 cards and add 1 to the discardPile
        Card card;
        int numCards = 7;
        for (int i = 0; i < numCards; i++) {
            playerHand.add(deck.deal());
        }
        for (int i = 0; i < numCards; i++) {
            card = deck.deal();
            card.setVisible(true);
            cpuHand.add(card);
        }
        discardPile.add(deck.deal());
    }

    protected void updatePanel() {
        playerPanel = new Panel();
    }
} 
```

# javascript - 以百分比表示的 CSS 宽度不起作用

> ID：12775715
> 
> 赞同：0
> 
> 时间：2012-10-08T05:19:51.363
> 
> 标签：javascript, html, css

我正在尝试按正文宽度 100% 和一列宽度为 30% 和其他为 70% 来实现两列布局页面。但是第二列 [width: 70%] 不起作用。

HTML：

```
<!DOCTYPE HTML>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
    <div class="offer-details">aaaaaaaaaaaaaaaaaaaaaaaaa</div>
    <div class="offer-map">bbbbbbbbbbbbbbbbbbbbbbbbbbbb</div>
</body>
</html>​ 
```

CSS

```
html {
    height: 100%;
}

body {
    background-color: #F3F3F3;
    width: 100%;
    height: 100%;
    font-family: 'Helvetica Neue', helvetica, Arial, sans-serif;
    overflow: hidden;
}

* {
    margin: 0;
    padding: 0;
}

.offer-details {
    float: left;
    width: 30%;
    height: 100%;
    background-color: inherit;
    text-align: justify;
    overflow: auto;
}

.offer-map {
    float: left;
    width: 70%;
    height: 100%;
    background-position: center center;
    background-size: cover;
    -webkit-background-size: cover;
    -moz-background-size: cover;
    -o-background-size: cover;
    -webkit-transition: opacity 1s cubic-bezier(0.770, 0.000, 0.175, 1.000);
    border-left: 5px solid #E1E1E1;
    overflow: auto;
    background-color: white;
}​ 
```

jQuery

```
$(function () {
        var width = $(document).width()+"px";
        var height = $(document).height()+"px";
        $('body').css({'width': width, 'height': height});
    })​ 
```

这是[jsfiddle](http://jsfiddle.net/yBNEr/2/)。当我为第二列尝试 69% 时，它正在显示，但没有覆盖屏幕。我怎样才能让列 30% 和 70% 覆盖屏幕？

全屏jsfiddle：http: [//jsfiddle.net/yBNER/2/embedded/result/](http://jsfiddle.net/yBNEr/2/embedded/result/)

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-08T05:24:42.137

这是因为 5px 上的左边框`.offer-map`。由于盒子模型，这使得实际宽度为`.offer-map`70% + 5px。

一种解决方案是将框大小更改为`border-box`，例如

```
.offer-map {
    box-sizing: border-box;
} 
```

虽然浏览器支持不同。见[http://jsfiddle.net/yBNER/3/](http://jsfiddle.net/yBNEr/3/)

另一种选择是用负的右边距偏移左边界，例如

```
.offer-map {
    margin-right: -5px;
} 
```

见[http://jsfiddle.net/yBNer/5/](http://jsfiddle.net/yBNEr/5/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T05:33:45.690

简单地说，问题源于`.offer-map`一个`border-left`5px 的事实。

这是一个简单地使用包含 div 来达到预期效果的解决方案。

[jsfiddle](http://jsfiddle.net/MFCDS/)

# javascript - 如何一年中的一周并将其用作图像源？

> ID：12775721
> 
> 赞同：1
> 
> 时间：2012-10-08T05:20:32.587
> 
> 标签：javascript

我想做的是根据日期显示一年中每周的 jpg。有谁知道为什么这不起作用？

```
Date.prototype.getWeek = function() {         
var onejan = new Date(this.getFullYear(),0,1);         
return Math.ceil((((this - onejan) / 86400000) + onejan.getDay()+1)/7);     
}       

var weekNumber = (new Date()).getWeek();

var test='<img src="C:/temp/ + weekNumber + .jpg"/>';
document.write(test); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T05:31:30.170

这是一个获取周数的函数。

```
function getWeekNumber(d) {
    // Copy date so don't modify original
    d = new Date(d);
    d.setHours(0,0,0);
    // Set to nearest Thursday: current date + 4 - current day number
    // Make Sunday's day number 7
    d.setDate(d.getDate() + 4 - (d.getDay()||7));
    // Get first day of year
    var yearStart = new Date(d.getFullYear(),0,1);
    // Calculate full weeks to nearest Thursday
    var weekNo = Math.ceil(( ( (d - yearStart) / 86400000) + 1)/7)
    // Return array of year and week number
    return weekNo;
} 
```

> 学分：[RobG](https://stackoverflow.com/a/6117889/295264)

使用上面的函数来获取数字并在你的脚本中使用

```
weekNumber = getWeekNumber(new Date());
var test='<img src="C:/temp/' + weekNumber + '.jpg"/>';
document.write(test); 
```

[**演示**](http://jsfiddle.net/Starx/Uz7BH/)

# security - 身份验证后创建新的 JSESSIONID

> ID：12775722
> 
> 赞同：1
> 
> 时间：2012-10-08T05:20:53.013
> 
> 标签：security, liferay-6, jsessionid

当用户点击 a 的登录页面`Portal`（可能是`Liferay`, `Jboss Portal`..）时， `JSESSIONID cookie`由`container`. 在登录页面中输入凭据后，同样`JSESSIONID`会被保留。

在这里，最终用户将`JSESSIONID`在获得身份验证之前了解（通过`JSESSIONID`在登录页面中检查）。这将增加网站被黑客入侵的脆弱性，因为人们可以知道`JSESSIONID` 在获得身份验证之前。

这篇[文章](https://stackoverflow.com/questions/4722151/what-is-the-vulnerability-of-having-jsessionid-on-first-request-only)建议`JSESSIONID`在认证后有一个不同的。

那么，创建一个新的 JSESSIOND 可以通过正在使用的`Portal`服务器（正在使用`Liferay CE 6.0`）来实现，还是必须由 Web 应用程序开发人员处理？如果必须由 Web 应用程序开发人员处理，最好的方法是什么？ `request.getSession(true)`是唯一的选择吗？？如果我需要指示在身份验证后`Liferay`创建一个新的`JSESSIONID`，该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T18:13:29.713

您可以通过将以下属性设置为 true 来解决此问题，就像 Liferay 默认设置的那样。

```
#
# Set this to true to invalidate the session when a user logs into the
# portal. This helps prevents phishing. Set this to false if you need the
# guest user and the authenticated user to have the same session.
#
# Set this to false if the property "company.security.auth.requires.https"
# is set to true and you want to maintain the same credentials across HTTP
# and HTTPS sessions.
#
session.enable.phishing.protection=true 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T10:49:44.637

这里的问题不在于用户知道会话 ID（用户总是知道它，它是由他的浏览器发送的）。攻击场景是用户在注销时单击已经嵌入 JSESSIONID 的链接，然后进行身份验证，此会话成为登录会话。现在，最初创建链接的人可以使用相同的会话来充当用户。更多详细信息，请访问[https://en.wikipedia.org/wiki/Session_fixation](https://en.wikipedia.org/wiki/Session_fixation)

所以是的，在用户进行身份验证后，使用 Web 或应用服务器重新设置会话 ID。你不需要自己写。对于 Tomcat 7：[http ://www.tomcatexpert.com/blog/2011/04/25/session-fixation-protection](http://www.tomcatexpert.com/blog/2011/04/25/session-fixation-protection)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T08:59:24.083

这看起来很像我很久以前为 Liferay 5.2.5 解决的会话固定问题。该解决方案包括创建一个自定义 Tomcat Valve，它将强制一个新的会话 ID。因此，该解决方案并不是针对 Liferay 的，而是取决于您是否使用 Tomcat。

我怀疑让我的旧解决方案适应新的 Liferay/Tomcat 组合应该不会太难。您可以在我的旧博客和当前未维护的博客中找到有关我的解决方案的必要信息（如果我只有更多时间...）：[Fixing session fixation in Liferay](http://marvinsmutterings.blogspot.be/2010/02/fixing-session-fixation-in-liferay-on.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-09T04:58:05.073

@蒂亚戈：

这`session.enable.phishing.protection=true`在默认情况下为真`portal.properties`。无论如何，我已经在`portal-ext.properties`. 但是，即便如此`JSESSIONID`，登录前后仍然保持不变。

我已经`filter`按照这个[链接](http://java.dzone.com/articles/java-jsessionid-harmful)实现了一个。实现此过滤器后，当我点击 Liferay 的登录页面时，`JSESSIONID`会创建一个。输入凭据并登录后，将`JSESSIONID`保留相同的内容。

我已经`filter`在`Servlet`我的任何一个`Portlets`或 Liferay 的 ROOT 应用程序中实现了这一点。我`Servlet`的部署在 LR + Jboss AS 捆绑包中。我首先点击`Servlet`并且从这里我有一个链接，它将重定向到 Liferay 的登录页面。我已经`filter`在我的中实现了这一点，`Servlet`因为 Container 将追加`JSESSIONID`第一次请求，因为它不知道是否启用了 cookie。由于，`JSESSIONID`正在附加，我无法检索我的图像`Servlet`（因为 url 是 myImage.jpg;jsessionid=）。因此，我已经实现了这个`filter`。

**这是否`filter`与 Liferay 的配置冲突？即使在设置`session.enable.phishing.protection=true`相同之后`JSESSIONID`保留意味着还有什么问题？**

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-07-31T07:27:42.940

将此代码放在`portal-ext.properties`.

它将解决问题，每次登录时，都会生成新的会话 ID。

```
session.enable.phishing.protection=true
com.liferay.util.servlet.SessionParameters=true 
```

# javascript - javascript 与服务器事件的难题 - iOS

> ID：12775726
> 
> 赞同：0
> 
> 时间：2012-10-08T05:21:23.897
> 
> 标签：javascript, iphone, asp.net

好的，这是我的问题，我继承了一个旧的 ASP.NET 2 网站，我被要求让 iOS 能够使用。到目前为止，我最头疼的是，由于您现在必须登录系统的方式，我需要将 UserName 传递给 iphone 并运行服务器 Click 事件。我可以做一个或另一个，但不能两者都做，并且通过 KeyUp 事件或 OnChanged 事件连接到用户名文本框会导致 iPhone 的 Objective-C 代码出现其他问题。

反正我可以同时更新手机和服务器吗？

# javascript - Canvas vs DOM 用于棋盘

> ID：12775731
> 
> 赞同：1
> 
> 时间：2012-10-08T05:22:00.667
> 
> 标签：javascript, html, node.js, socket.io

我正在创建一个 HTML 5 国际象棋游戏。服务器端是socket.io/node.js/backbone.js。

我现在开始为游戏板编写视图。在画布或 DOM 元素（又名 div）中表示棋盘会更容易吗？忽略浏览器兼容性。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T06:21:00.397

真的取决于你的动机。

如果您非常了解游戏开发，并且您习惯于将屏幕划分为多个部分以用于碰撞检测或其他目的，并且您可以根据玩家在画布上的位置轻松创建自己的自定义点击事件，每平方/单位单击，然后使用画布，因为您将通过这种方式打开更多高级动画和图形交互的大门。

If you aren't comfortable with that, and would like a straightforward way of knowing which square was clicked, and would like a clean-cut way of knowing if there was a unit in the square you landed on, without having to figure it out based on the X and Y where you clicked inside the game window, then go with the DOM -- really, those are the benefits and most everything else is a side-effect of picking one or the other.

Canvas for animation and "polish", DOM for event-listeners and array-based (or attribute-based) notification of square clicked.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T05:31:13.763

对于您打算做的事情，我认为 DOM 将是最佳选择。不是因为 Canvas 有任何缺点，而是仅仅基于您需要完成的工作量，以及轻松更改电路板外观的能力。

您可以使用`div`s 并绝对放置它们，添加 css 样式以在某个方格上显示/隐藏棋子，毕竟，您甚至可以制作一个无背景的大画布并在基于 DOM 的棋盘上绘制特殊效果。

所以总而言之，DOM 应该是适合您的方式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T05:26:13.300

这取决于你的目标。

如果您的主要兴趣只是通过将棋子的图标呈现为图像来可视化游戏状态，那么使用 DOM（例如表格或 div）作为棋盘位置可能是最简单的。

如果您对高级图形更感兴趣，那么画布可能会更好。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-08T06:42:30.283

I've developed one of those quite recently and used HTML5 Canvas for graphical interface. It was extremely powerful for drawing the board and moving the pieces.

# c# - 一个委托的多次调用

> ID：12775733
> 
> 赞同：0
> 
> 时间：2012-10-08T05:22:09.953
> 
> 标签：c#, dictionary, delegates

目前我正在构建一个自定义按钮处理程序（我需要将 kinect 集成到也使用鼠标的按钮系统中）然后我遇到了一个可怕的事情，称为事件处理.. 至少一个小时对我大喊大叫个人电脑：P。我想知道，在我去改变我的系统以允许我的新需求之前，我想知道每个处理程序有多个事件，这是我要尝试工作的方式（我会尝试，但是我要下班过夜，所以我希望明天启动计算机时可以节省一些时间，如果我的系统不是为它设计的，请不要尝试）

另外，我在编码之前看到了一个 getInvoc 列表或类似的东西。我会在上面添加多个代表，然后获取该列表并对其进行迭代吗？

在之前的示例中，我看到人们使用的地方：

```
public event EventHandler myEventHandler; 
```

我不得不使用：

```
private Dictionary<BtnEvent, Delegate> m_events; 
```

然后他们做了以下添加处理程序（他们的方式，不是我的）：

```
myObj.myEventHandler += delegate(object sender, EventArgs ea)
{
     //do stuff on event
}; 
```

首先..如果他们运行两次，一次使用 funcA，第二次使用 funcb 会同时运行吗？还是只有一个？

其次，如果我将 += 的逻辑应用于委托，它会起作用吗？（我必须使用 Delegate，因为我将处理程序存储在字典中，这允许通过使用枚举对处理程序进行逻辑访问）

（我的代码）

```
private Dictionary<BtnEvent, Delegate> m_events;

//....

m_events = new Dictionary<BtnEvent, Delegate>(6);
m_events.Add(BtnEvent.CLICK_ENTER,  null);
m_events.Add(BtnEvent.CLICK_LEAVE,  null);
m_events.Add(BtnEvent.CLICK_STAY,   null);
m_events.Add(BtnEvent.HOVER_ENTER,  null);
m_events.Add(BtnEvent.HOVER_LEAVE,  null);
m_events.Add(BtnEvent.HOVER_STAY,   null);

//....

public bool addHandle(BtnEvent stateToGet, Delegate function)
{
    bool success = false;

    if(m_events.ContainsKey(stateToGet))
    {
        m_events[stateToGet] = function;
    }

    return(success);
}

// CHANGE ABOVE TO:

public bool addHandle(BtnEvent stateToGet, Delegate function)
{
    bool success = false;

    if(m_events.ContainsKey(stateToGet))
    {
        m_events[stateToGet] += function;
    }

    return(success);
} 
```

将改变 m_events[stateToGet] = function; 到 m_events[stateToGet] += 函数；允许我通过以下代码调用多个事件句柄（我传递给 addHandle 的函数）？

```
private void ExecuteEvent(BtnEvent currEvent)
{
    if(m_events.ContainsKey(currEvent))
    {
        if(m_events[currEvent] != null)
        {
           m_events[currEvent].DynamicInvoke(null);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T05:47:05.420

请参阅下面的代码，它回答了您的第一个问题：

```
public partial class Form1 : Form
    {    
        public Form1()
        {
            InitializeComponent();
            this.Load += new EventHandler(Form1_Load);
        }

        void Form1_Load(object sender, EventArgs e)
        {
            funcA();
            funcB();
        }

        private void funcA()
        {
            button1.Click += new EventHandler(button1_Click);
        }

        private void funcB()
        {
            button1.Click += new EventHandler(button1_Click);
        }

        void button1_Click(object sender, EventArgs e)
        {
            MessageBox.Show("I am in event handler");
        }

    } 
```

单击按钮时，“**我在事件处理程序中**”消息会显示两次，这意味着`+=`操作员与代表的工作方式与它与整数或字符串的工作方式相似。它只是将函数处理程序添加到队列中，并在执行事件时调用队列中的所有函数指针。

关于您的第二个问题，我认为您不会通过更改`=`为`+=`. 我从您的陈述中了解到，您希望在调用`ExecuteEvent()`函数时执行多个事件处理程序，例如 CLICK_ENTER、CLICK_LEAVE。但是，由于您将事件处理程序及其委托存储在 Dictionary 中，因此更改`=`为`+=`只能以与上述代码所示相同的方式工作。

# monodevelop - Gtk# + MonoDevelop：如何在按钮单击时弹出自定义小部件

> ID：12775734
> 
> 赞同：1
> 
> 时间：2012-10-08T05:22:19.213
> 
> 标签：monodevelop, gtk#

我是 Gtk# 和 Monodevelop 的新手。所以请原谅这个问题的基本性。但我正在尝试做一些非常简单的事情——我似乎做不到。不确定是否重要，但我正在 Linux 上开发

我有一个带有按钮的 MainWindow。当我单击此按钮时，我希望弹出一个自定义小部件

我创建了一个自定义小部件作为单独的项目，将其编译为 .dll 并在主项目中引用它

在主项目中，我定义了按钮单击的回调 - loadCustomWidget() 但是，下面的代码没有在屏幕上显示自定义小部件

```
public partial class CustomWidget : Gtk.Bin ; // in the other project

protected void loadCustomWidget() {
  Console.WriteLine(" show custom widget ") ;
  wg = new CustomWidget() ;
  wg.Show() ;
} 
```

打印 WriteLine()。所以我知道回调正在被调用。但是为什么小部件没有显示在屏幕上？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T20:28:07.280

您需要将小部件放入容器中，例如将其添加到主窗口。

# c# - 使用 jQuery 对 MVC 中的文本框应用验证

> ID：12775740
> 
> 赞同：0
> 
> 时间：2012-10-08T05:23:08.630
> 
> 标签：c#, jquery, asp.net-mvc, validation

我在 mvc 中有一个联系页面。我在这个页面中有一个 4 个文本框和一个文本区域，我想使用 jquery 进行验证，文本框 id 是 txtbxName、txtbxCompany、txtbxEmail、txtbxPhone 和 txtarMessage。如果 txtbxName 为空，则当用户单击提交按钮时。我想要这样的消息“请输入您的姓名！” 等等。请帮帮我谢谢

```
ContactController.cs 

         public ViewResult Create(string Name, string Company, string Regarding, string Email, string Phone, string Message)
         {
            string body = "Name: " + Name + "<br>" + "\nCompany: " + Company + "<br>" + "Regarding: " + Regarding + "<br>" + "Email: " +
 Email + "<br>" + "Phone: " + Phone + "<br>" + "Message: " + Message;
           try
           {                 MailMessage mail = new MailMessage();                 mail.From = new MailAddress("g@technosys.com");
                mail.To.Add("p@technosys.com");
                 mail.Subject = "Accept Request";
                 mail.Body = body;
                mail.IsBodyHtml = true;               SmtpClient smtp = new SmtpClient("smtp.gmail.com");
                smtp.Credentials = new System.Net.NetworkCredential("g@technosys.com", "1457898");
                smtp.EnableSsl = true;
                 // smtp.UseDefaultCredentials = true;
                 smtp.Send(mail);
             }
             catch (Exception ex)
             {
                 ViewData.ModelState.AddModelError("_FORM", ex.ToString());
             }
             return View();

 Jquery

 $("#btnSubmit").click(function (event) {

         var data = { Name: $("#txtbxName").val(), Company: $("#txtbxCompany").val(), Regarding:
             $("#ddlRegarding").val(), Email: $("#txtbxEmail").val(), Phone: $("#txtbxPhone").val(), Message:
             $("#txtarMessage").val()
         }

           $.ajax({
             type: "POST",
             url: "/Contact/Create",  // the method we are calling
             contentType: "application/json; charset=utf-8",
             data: JSON.stringify(data),

             dataType: "html",
             success: function (result) {
                 $("#txtbxName").val("");
                 $("#txtbxCompany").val("");
                 $("#txtbxEmail").val("");
                 $("#txtbxPhone").val("");
                 $("#txtarMessage").val("");
                 alert(result);
                 // Or if you are returning something
                 alert('I returned... ' + result.WhateverIsReturning);
             },
             error: function (result) {
                 $("#txtbxName").val("");
                 $("#txtbxCompany").val("");
                $("#txtbxEmail").val("");
                 $("#txtbxPhone").val("");
                 $("#txtarMessage").val("");

                 alert('Thanks for sending info');
                 return false;
             }
         });
     });

 Index  .cshtml

 <div class="parteners">
                 <div class="block" style="width: 270px;">
                     <div class="block" style="width: 295px; padding: 3px;">
                         Name :
                     </div>
                     <div class="block" style="width: 320px; padding: 3px;">
                         <input type="text" class="textbox" name="textfield" alt="Type our Name here" />>                         <br />
                   </div>
                     <div class="block" style="width: 295px; padding: 3px;">
                         Company :
                     </div>
                     <div class="block" style="width: 295px; padding: 3px;">
                        <input type="text" class="textbox" name="textfield2" />
                    </div>
                     <div class="block" style="width: 295px; padding: 3px;">
                         Regarding :
                     </div>
                     <div class="block" style="width: 295px; padding: 3px;">
                         <select name="select" class="textbox">
                             <option>General Inquiry</option>
                             <option>Programming Related Question</option>
                             <option>Website Quote Request</option>
                             <option>Feedback</option>
                             <option>Help and Support</option>
                         </select>
                     </div>
                 </div>
                 <div class="block" style="width: 270px;">
                     <div class="block" style="width: 295px; padding: 3px;">
                         Email :</div>
                     <div class="block" style="width: 295px; padding: 3px;">
                        <input type="text" class="textbox" name="textfield3" />
                     </div>
                     <div class="block" style="width: 295px; padding: 3px;">
                         Phone :
                     </div>
                     <div class="block" style="width: 295px; padding: 3px;">
                         <input type="text" class="textbox" name="textfield4" />
                     </div>
                 </div>
                 <div class="block" style="width: 600px; padding: 3px;">
                     Enter your Suggestions / Comments / Feedback here :
                 </div>
                 <br />
                 <div class="block" style="width: 600px; padding: 3px;">
                     <textarea class="textarea" name="textarea"></textarea><br />
                     <br />
                 </div>
                 <div class="block" style="width: 600px; padding: 3px;">
                     <input id="Button1" type="Button" value="Submit" />
                 </div>
             </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T05:39:48.257

您应该考虑使用这样的 ViewModel：

```
public class MessageVM 
{

    public string CompanyName {get;set;}

    [Required]
    public string Name {get;set;}

    public string Regarding {get;set;}

    public string Message {get;set;}

    [Required]
    public string Email {get;set;}
} 
```

其中使用[DataAnnotations](http://msdn.microsoft.com/en-us/library/system.componentmodel.dataannotations.aspx)。您在视图中使用它来绑定如下：

```
@Model Your.Namespace.ViewModels.MessageVM
@using(Html.BeingForm("create"))
{
    @Html.LabelFor(x => x.Name)
    @Html.TextBoxFor(x => x.Name)
    @Html.LabelFor(x => x.CompanyName)
    @Html.TextBoxFor(x => x.CompanyName)
    @Html.LabelFor(x => x.Regarding)
    @Html.TextBoxFor(x => x.Regarding)
    @Html.LabelFor(x => x.Email)
    @Html.TextBoxFor(x => x.Email)
    @Html.LabelFor(x => x.Message)
    @Html.TextBoxFor(x => x.Message)
    <button type="submit">Send!</button>
} 
```

然后你可以在你的控制器上设置一个方法，如下所示

```
public ActionResult Create(MessageVM message) 
{
    if (!ModelState.IsValid)
    {
        return View(message);
    }
    //else do whatever you need, send the email etc.
} 
```

[这里](http://docs.jquery.com/Plugins/Validation)多一点

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T05:35:24.257

将类设置为所有文本框，如下所示

`<input type="text" class="valcheck" title="Name" id="your_name_field_id" name="your_name_field_name" />`

对所有 6 个文本框执行相同的操作。

```
$("#btnSubmit").click(function (event) { 

 $(".valcheck").each(function(){

  var id = this.id;
  var field_value = $("#"+id).val();

  if(field_value=="")
  {
   var field_name = $("#"+id).attr('title');
   $("#error_display_div").append("Please enter "+field_name+"<br />");
  }

//Show hide error_display_div accordingly, you can clear out the div using
// $("#error_display_div").html('');

 });
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T05:28:56.163

您应该查看 jQuery 验证插件：[http ://bassistance.de/jquery-plugins/jquery-plugin-validation/](http://bassistance.de/jquery-plugins/jquery-plugin-validation/)

# android - 以编程方式居中 TextView 文本

> ID：12775743
> 
> 赞同：92
> 
> 时间：2012-10-08T05:23:41.490
> 
> 标签：android, textview

我在这里请求一些宽大处理，我只是从 Android SDK 教程开始，我正在尝试一些不在教程本身中的兴趣，但我希望会很容易。

我试图`TextView`通过代码水平和垂直居中一个项目（我可以在 XML 中很好地做到这一点）。当父对象是表格或其他对象时，我已经看到了几个如何执行此操作的示例，但我希望这对我来说更容易掌握。（ps随时更正我的术语）。

这是教程/我的工作模型中的示例代码：

```
package com.example.myfirstapp;

import android.os.Bundle;
import android.app.Activity;
import android.content.Intent;
import android.view.ViewGroup.LayoutParams;
import android.widget.TextView;

public class DisplayMessageActivity extends Activity {
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        Intent intent = getIntent();
        String message = intent.getStringExtra(MainActivity.EXTRA_MESSAGE);

        TextView textView = new TextView(this);
        textView.setTextSize(40);
        textView.setText(message);
        textView.setGravity(View.TEXT_ALIGNMENT_GRAVITY);

        setContentView(textView);
    }
} 
```

我已经设法找到了该`setGravity`方法，并且我试图涉足`setLayoutParams`它，但我不确定它的范围是什么，因为我无法找到我应该导入的内容以获取`WRAP_CONTENT`要解析的常量. 据我了解，居中和 content_wrapping+gravity 是两个不同的东西。我想要一个在这种情况下如何做的例子，也许我会如何/在哪里找到 API 文档中的答案？

* * *

## 回答 #1

> 赞同：255
> 
> 时间：2012-10-08T05:42:25.990

```
yourTextView.setGravity(Gravity.CENTER); 
```

* * *

## 回答 #2

> 赞同：25
> 
> 时间：2012-10-08T06:10:07.677

对于动态居中

```
textView.setGravity(Gravity.CENTER_VERTICAL | Gravity.CENTER_HORIZONTAL); 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-10-08T05:36:53.427

这肯定会工作..

```
RelativeLayout layout = new RelativeLayout(R.layout.your_layour); 
RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT, RelativeLayout.LayoutParams.WRAP_CONTENT);
params.addRule(RelativeLayout.CENTER_IN_PARENT);
textView.setLayoutParams(params);
textView.setGravity(Gravity.CENTER);

layout.addView(textView);

setcontentView(layout); 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2013-08-19T10:20:06.780

```
TextView text = new TextView(this);

text.setGravity(Gravity.CENTER); 
```

和

```
text.setGravity(Gravity.TOP); 
```

和

```
text.setGravity(Gravity.BOTTOM); 
```

和

```
text.setGravity(Gravity.LEFT); 
```

和

```
text.setGravity(Gravity.RIGHT); 
```

和

```
text.setGravity(Gravity.CENTER_VERTICAL); 
```

和

```
text.setGravity(Gravity.CENTER_HORIZONTAL); 
```

还有更多可用

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-10-08T05:32:45.780

尝试添加以下代码以将布局参数应用于 TextView

```
LayoutParams lp = new LinearLayout.LayoutParams(
                LinearLayout.LayoutParams.WRAP_CONTENT,
                LinearLayout.LayoutParams.WRAP_CONTENT);
lp.addRule(LinearLayout.CENTER_IN_PARENT);
textView.setLayoutParams(lp); 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2014-11-04T03:03:59.403

如果您的文本尺寸很小，您应该将文本视图的宽度设置为“fill_parent”。之后，您可以将 TextView Gravity 设置为 center ：

```
TextView textView = new TextView(this);
textView.setText(message);
textView.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT));
textView.setGravity(Gravity.CENTER); 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2018-08-21T22:03:06.050

您可以使用以下方法`TextView`在 Kotlin 中以编程方式居中文本：

```
textview.gravity = Gravity.CENTER 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2018-11-12T06:23:59.373

试试这个方法

```
 public void centerTextView(LinearLayout linearLayout) {
    TextView textView = new TextView(context);
    textView.setText(context.getString(R.string.no_records));
    textView.setTypeface(Typeface.DEFAULT_BOLD);
    textView.setGravity(Gravity.CENTER);
    textView.setTextSize(18.0f);
    textView.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT));
    linearLayout.addView(textView);
} 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2020-01-27T09:49:24.830

这两个需要一起去工作。有一段时间一直在挠头。

```
numberView.textAlignment = View.TEXT_ALIGNMENT_CENTER
 numberView.layoutParams = ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,
            ViewGroup.LayoutParams.WRAP_CONTENT) 
```

# objective-c - 分配 NSMutableArray 的正确方法

> ID：12775746
> 
> 赞同：1
> 
> 时间：2012-10-08T05:23:58.323
> 
> 标签：objective-c, nsmutablearray

我想知道哪个是分配`NSMutableArray`.

```
NSMutableArray *a; 
```

其中 a 是类级别变量。

第一种方法是：

```
self.a = [NSMutableArray alloc] init]; 
```

第二种方法是：

```
a = [NSMutableArray alloc] init]; 
```

哪种方法更好？谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:18:20.330

这取决于属性类型。（尽管在大多数情况下它是保留）您应该使用临时值或在一个字符串中创建它并发送自动释放消息： self.a = [[NSMutableArray alloc] init] autorelease]; 您必须发送自动释放，因为属性会将保留计数增加一。这与执行以下操作相同：

```
[self setA:array];//where array - is newly created array 
```

在哪里：

```
 - (void)setA:(NSMutableArray *)array {
     if (array != a) {
        [a release];
        a = [array retain];//here you increased a retain count by 1
     }
} 
```

您还可以使用创建的自动释放方法：

```
self.a = [NSMutableArray array]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T06:03:12.097

如果 a 是类变量，那么正确的分配方法`NSMutableArray`是创建一个临时数组并将其分配给类变量，然后释放临时变量。

你可以这样做：

```
NSMutableArray *temp  = [[NSMutableArray alloc]init];
self.a = temp;
[temp release]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T06:10:50.963

有几种方法。但无论您使用 ARC/Non-ARC，以下方式对我来说已经足够好了。只要确保你已经创建了属性。

```
self.a = [NSMutableArray array];//It will return autorelease object. 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-08T06:11:03.057

方法之间的区别：

1) 当您使用 self.a 时，您使用在 @synthesize 中创建的 setter 和 getter 方法。

2）当您只使用a时，您绕过访问器方法并直接修改实例变量。（在这里）。

有两种方法可以查看它。

许多程序员说你永远不应该从对象的实现中调用访问器，因为这会增加不必要的开销。

其他一些人说您应该始终使用访问器，并且永远不要直接访问实例变量。

如果只读取对象的值，直接使用对象通常是安全的。如果您正在修改对象，则应使用访问器以确保正确通知观察该属性的任何其他对象。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-01-10T20:05:13.617

最新的 Objective C 语法允许您非常快速地创建可变和非可变数组。

以下两个示例说明了这一点：

```
 NSArray *objectsToAdd = [@"Ted", @"Ned" , @"Sed"];
 NSMutableArray *objectsToAdd = [ @[@"Ted", @"Ned" , @"Sed"] mutableCopy ]; 
```

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2012-10-08T05:32:22.067

```
NSMutableArray *a = [[NSMutableArray alloc] init]; 
```

# knockout.js - 在淘汰赛中出现错误

> ID：12775752
> 
> 赞同：0
> 
> 时间：2012-10-08T05:24:15.187
> 
> 标签：knockout.js, sammy.js

我收到以下错误：

错误：无法解析绑定。消息：ReferenceError：UpdateStatus 未定义；绑定值：选中：状态，禁用：状态，单击：UpdateStatus

这是我的javascript代码

```
function WebmailViewModel() {
// Data
var self = this;
self.days = ['2012-10-01', '2012-10-02', '2012-10-03', '2012-10-04', '2012-10-05', '2012-10-06', '2012-10-07'];
self.choosenDateId = ko.observable();
self.choosenDateGoal = ko.observable();
self.choosenGoalId = ko.observable();

self.UpdateNote = ko.computed(function () {
    $.ajax({
        type: "POST",
        url: 'SinglePageApp.aspx/UpdateNote',
        data: "{goalId:9423}",
        contentType: "application/json; charset=utf-8",
        success: function (result) {
            alert(result.d);
        }
    });
});

self.UpdateStatus = ko.computed(function () {
    $.ajax({
        type: "POST",
        url: 'SinglePageApp.aspx/UpdateStatus',
        data: "{goalId: 9423}",
        contentType: "application/json; charset=utf-8",
        success: function (result) {
            alert(result.d);
        }
    });
});

// Behaviours    
self.gotoDay = function (days) { location.hash = days };

// Client-side routes    
Sammy(function () {

    this.get('#:days', function () {          
        self.choosenDateId(this.params.days);

        debugger;
        $.ajax({
            type: "POST",
            url: 'SinglePageApp.aspx/GetGoals',
            data: "{goalDate:'" + this.params.days + "'}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (msg) {
                self.choosenDateGoal(msg.d);

                alert("success");
            },
            error: function (XMLHttpRequest, textStatus, errorThrown) {
                alert(textStatus);
                alert(errorThrown);
            }
        })
    });
    this.get('', function () { this.app.runRoute('get', '#2012-10-04') });
}).run();
}; 
```

ko.applyBindings(new WebmailViewModel());

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T13:42:07.990

我相信你的问题是你在错误的意义上使用了计算的 observables。如果您想调用一个函数（如您所愿，因为您将其绑定到点击绑定）只需将其声明为

```
self.<function Name> = function(< passed variables>){
    //Code to be done when this function is called.
}; 
```

其中计算意味着更多地用作变量。因此，如果只有传递给计算的函数，则将其视为只读变量。您可以指定一个计算为可读写的，但是您必须提供一个读写函数，例如：

```
self.<computed Name> = ko.computed(function(){
    read: function () {
        // return how you want this computed to be displayed.
    },
    write: function (value) {
        // How do you want this to be saved.
    },
}); 
```

此外，计算的 observables 意味着在函数中使用现有的 observables。这样，每当在计算的 observable 中使用的 observable 被更新时，都会调用计算的函数。有关示例和更多信息，请参阅[计算出的 observable 文档](http://knockoutjs.com/documentation/computedObservables.html)。

# objective-c - 使用 AVFoundation 将视频帧捕获为图像

> ID：12775757
> 
> 赞同：0
> 
> 时间：2012-10-08T05:24:48.447
> 
> 标签：objective-c

我的应用程序中有一个正在运行的视频。当我按下录制按钮时，我需要从按下录制按钮的位置开始录制正在运行的视频。然后必须将录制的视频另存为另一个视频文件。

任何人都可以建议我实现此功能的最佳解决方案。基本思想是我需要实现类似于会说话的汤姆应用程序的录音功能。

请给我一些建议。提前致谢。

# .net - 来自 Task.Continuewith 的新任务（在单独的线程上运行）

> ID：12775759
> 
> 赞同：2
> 
> 时间：2012-10-08T05:24:54.390
> 
> 标签：.net, wpf, task-parallel-library

提前感谢您的时间和帮助。

我正在使用 WPF 应用程序中的 TPL 从远程服务器下载文件。我有一个在 UI 线程上运行的“传输管理器”方法，我从中创建后台任务以单独下载文件。我在后台任务上附加了继续任务以更新 UI。

问题是：对于第一个文件，下载任务按预期在新线程上开始。但对于所有后续下载，它使用与锁定应用程序的 UI 相同的线程。

我已经完成了我的作业，阅读了相关材料，因此我无法理解这种行为，确定我做错了什么以及如何解决它。任何帮助，提示，指针，解释表示赞赏。谢谢。

我正在从调试模式附加示例代码和输出窗口文本。

```
private void btnNew_Click(object sender, RoutedEventArgs e)
{
// do some work and prepare transfer state object(my custom object)
...
..
  iTaskFactory = new TaskFactory
          (TaskCreationOptions.LongRunning | TaskCreationOptions.AttachedToParent,
           TaskContinuationOptions.None);

// call transfer manager
this.ManageTransfer(null, iDownloadState);
}

private void ManageTransfer(Task antecedent, TransferState ts)
{
  if(antecedent == null)
  // this is the first invocation of the task from GetNew / Upload methods
  {
    ts.IsActive = true;
    // some code....
  }
  else if(antecedent.IsFaulted)       // check exception on previous task executed
  // if there is a fault, then retry the page again
  {

    // do some error logging....
    //retry transferring the same page again
    pageToTranfer = ts.PagesTransferred + 1;
  }
  else
  // if the page was successfully transferred
  {
    //increment transfer count
    ts.PagesTransferred += 1;

    // update UI.... (as running on UI Thread)

    // if all pages are transferred, then exit method. No further tasks to queue
    if(ts.PagesTransferred == ts.Pages)
    {          
      return;
    }

    pageToTranfer = ts.PagesTransferred + 1;
  }

  Task transferTask;     // should run in background thread
                         // **Problem is that afer first execution**, 
                         // **this also runs on UI Thread!!**
  Task continuationTask; // should run in UI thread

    localFile = "someName.txt";  //..... work out next file to transfer
    serverFile = "someName.txt"; //..... work out next file to transfer

  time = DateTime.Now.ToString("hh:mm:ss.ffff"); //.ToShortTimeString();    
  Debug.WriteLine(time + "starting download :" + pageToTranfer.ToString() 
                  + " This is Thread: " 
                  + Thread.CurrentThread.ManagedThreadId.ToString());

  transferTask = iTaskFactory.StartNew(() => Download(serverFile, localFile));

  continuationTask = transferTask.ContinueWith((t1Task) => ManageTransfer(t1Task, ts)
                     , TaskScheduler.FromCurrentSynchronizationContext());

}

public bool Download(string aCloudPath, string aLocalPath)
{

  time = DateTime.Now.ToString("hh:mm:ss.ffff"); //.ToShortTimeString();
  Debug.WriteLine(time + " in background for downloading " 
                 + aCloudPath + " using thread:" 
                 + Thread.CurrentThread.ManagedThreadId.ToString());

  // code to transfer file... no access to UI or any shared variable

  return true;
} 
```

输出窗口：

> 10:37:53.2629 开始下载：1 这是线程：8
> 
> 10:37:55.2720 在后台使用线程：15 下载 file-01.txt
> 
> 10:37:56.4120 开始下载：2 这是线程：8
> 
> 10:38:00.4143 在后台使用线程：8 下载 file-02.txt
> 
> 10:38:01.2413 开始下载：3 这是线程：8
> 
> 10:38:05.2445 在后台使用线程：8 下载 file-03.txt
> 
> 10:38:05.8606 开始下载：4 这是线程：8
> 
> 10:38:09.8618 在后台使用线程：8 下载 file-04.txt

如您所见，**第一次下载功能按预期在后台运行。但之后它继续在 UI 线程中运行！** 我期望 ManagerTranfer 在同一个线程中运行，而另一个线程用于下载功能。

我也用简单的任务（即没有TaskFactory）尝试过这个，但行为是一样的。我已经设置了TaskCreationOptions.LongRunning，所以无论如何TPL都应该启动一个新线程！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:22:23.960

您正在使用的调度程序是在 currentSync 上下文中运行任务的调度程序，它将依次在 UI 线程上运行您的任务以及在同一调度程序上调度的其他任务。为了在单独的线程上运行您的任务，您应该使用另一个调度程序来实现任务调度程序类并相应地创建线程。

**[在这篇文章](https://stackoverflow.com/questions/3836584/lowering-priority-of-task-factory-startnew-thread)**中使用了一个类似的调度器，但是你也必须对你的调度器进行一定程度的定制，因为我可以看到你也在使用 currentthread，这在实现你自己的调度器时可能不是那么容易. 另一方面，您总是可以使用一些有用的[ParallelTask](http://code.msdn.microsoft.com/ParExtSamples) ​​Extensions和[QueuedtaskScheduler](http://blogs.msdn.com/b/pfxteam/archive/2010/04/09/9990424.aspx)提供了一些可以在这方面使用的有用实现。

# mysql - MySQL SQL order join 多条记录

> ID：12775760
> 
> 赞同：0
> 
> 时间：2012-10-08T05:25:02.287
> 
> 标签：mysql, sql

所以我有2张桌子：

1.  顾客
2.  文件

我如何进行连接以显示最新记录，即由 created_on DESC

例如

```
SELECT customers.name, files.last_file_submission 
```

如果我有：

```
customer A
 - File 1, created_on 10-10-2012
 - File 2, created_on 11-10-2012 
```

我想为每个客户返回一行：

```
customer A, 11-10-2012 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T05:28:48.987

每个文件：

```
SELECT c.name, f.submit_date
FROM files f, customers c
WHERE f.submitter = c.id
ORDER BY f.submit_date DESC 
```

每个用户：

```
SELECT DISTINCT c.name, MAX(f.submit_date)
FROM files f, customers c
WHERE f.submitter = c.id
ORDER BY MAX(f.submit_date) DESC
GROUP BY c.id 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T05:45:08.057

无论客户是否有任何文件记录，它将带来所有客户及其最新的文件日期。

```
SELECT DISTINCT customer.id, customer.name, MAX(file.submit_date)
FROM customer LEFT JOIN file ON customer.id = file.submitter
GROUP BY customer.id, customer.name 
```

您可以更改`LEFT`为`INNER`以限制仅在文件表上有参考的客户之间的连接。

# android - 我试图将值从一个页面传递到另一个页面，但它不起作用？

> ID：12775762
> 
> 赞同：0
> 
> 时间：2012-10-08T05:25:27.807
> 
> 标签：android, android-layout, android-intent, android-widget

我想将值从一页传递到另一页我的代码是：

```
public class main extends Activity implements OnClickListener {

private static final String TAG = "AskMeShowMe2";
private String choice = null;
private String fname = null;
private Menu myMenu = null;
 final static int START =0;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    Log.i(TAG,"Main - onCreate() ...");
    setContentView(R.layout.activity_main);

    View promptButton = findViewById(R.id.submit_button);
    promptButton.setOnClickListener((OnClickListener) this);
}

public void onClick(View v) {
    RadioGroup radioGroup = (RadioGroup) findViewById(R.id.greetingsRadioGroup);
    int checkedRadioButton = radioGroup.getCheckedRadioButtonId();

    switch (checkedRadioButton) {
    case R.id.mrButton : 
      choice = "Mr.";
      break;
  case R.id.mrsButton : 
      choice = "Mrs.";
      break;
  case R.id.msButton: 
      choice = "Ms.";
      break;
  case R.id.drButton: 
      choice = "Dr.";
      break;
    }
    switch(v.getId()){
    case R.id.submit_button:
        Intent j = new Intent(this, Info.class);
        j.putExtra("choice", choice); 
        startActivity(j);
        fname=String.valueOf(R.id.firstname);
        Intent t = new Intent(this, Info.class);
        j.putExtra("fname", fname); 
        startActivity(t);

        break;
    }
} 
```

以及其他 Info.Class ：

```
public class Info extends Activity {
private static final String TAG = "Info";

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.info);

    Intent myIntent = getIntent(); 
    Bundle b = myIntent.getExtras(); 
    String choice = b.getString("choice"); 
    String fname = b.getString("fname");

   Log.i(TAG,"selection: " + choice); 
   TextView textView = (TextView) findViewById(R.id.showmeText); 
   textView.append(": " + choice); 
   TextView textView1 = (TextView) findViewById(R.id.fname); 
   textView1.append(": " + fname); 

}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.my_menu, menu);
    return true;
} 
```

}

当我运行这个程序时，当我单击提交按钮时，我的 Info.class 页面不显示，你能帮我解决它吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T05:27:51.070

利用

```
Intent j = new Intent(this, Info.class);
j.putExtra("choice", choice); 
fname=String.valueOf(R.id.firstname);
j.putExtra("fname", fname); 
startActivity(j); 
```

代替

```
 Intent j = new Intent(this, Info.class);
    j.putExtra("choice", choice); 
    startActivity(j);
    fname=String.valueOf(R.id.firstname);
    Intent t = new Intent(this, Info.class);
    j.putExtra("fname", fname); 
    startActivity(t); 
```

因为目前您第一次调用 startActivity `intent j`，第二次调用 startActivity ，`intent t`所以删除一个并将选择和 fname 放在一个意图中，并且只调用一次 startActivity 。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T05:28:48.347

将 Switch 块更改为以下内容：

```
switch(v.getId()){
    case R.id.submit_button:
        Intent j = new Intent(this, Info.class);
        j.putExtra("choice", choice); 
        fname=String.valueOf(R.id.firstname);
        j.putExtra("fname", fname); 
        startActivity(j);

        break;
    } 
```

当您启动 Activity Info 两次时，将附加内容仅添加到一个更早开始的意图中。

# java - AChartEngine中的条形图绘制慢

> ID：12775764
> 
> 赞同：3
> 
> 时间：2012-10-08T05:25:35.443
> 
> 标签：java, android, bar-chart, achartengine, stackedbarseries

我正在开发一个 android 应用程序并使用 AChartEngine 作为图表库。我希望当绘制条形图时它会缓慢绘制，这样它会给我们一种外观和感觉，它正在使用某种动画进行绘制。如何实现这种行为？

```
 values.add(0, InCycleDuration);
    values.add(1, UnknownDowntimeDuration);
    int[] colors = new int[EqSDLenght] ;
     colors[0] = Color.parseColor("#008000");
    colors[1] = Color.parseColor("#FFFF00");

              for(int j = EqSDLenght - 1 ; j >= 0;j--)
              {

              if(EquipmentRKey[j].equals("EquipmentStatusTypeName.UnknownDowntime"))
                 {

                  titles [j] =  "Unknown Downtime" ;

                 }

                 if(EquipmentRKey[j].equals("EquipmentStatusTypeName.InCycle"))
                 {

                      titles [j] =  "In Cycle" ;
                 }
               }

             renderer = buildBarRenderer(colors);
            setChartSettings(renderer, "Comparison Chart", "", "Total Time Consumed", 0,
                6, 0, 100, Color.DKGRAY, Color.DKGRAY);
            for(int i=0 ; i < titles.length; i++)
            {
                x.add(new double[]{ 1,2,3,4,5});
            }

            for(int i=0;i<name.length;i++)
            {
                renderer.addTextLabel(i+1, name[i]);

            }

            renderer.setXLabels(0);

            renderer.setLabelsTextSize(12);

            renderer.getSeriesRendererAt(0).setDisplayChartValues(false);
            renderer.getSeriesRendererAt(1).setDisplayChartValues(false);
            renderer.setShowGridX(true);
            renderer.setGridColor(Color.parseColor("#359ACD32"));
            final int orientation = this.getResources().getConfiguration().orientation;
            if (orientation == Configuration.ORIENTATION_PORTRAIT)   
            {
            renderer.setYLabels(11);
            }
            if (orientation == Configuration.ORIENTATION_LANDSCAPE)   
            {
            renderer.setYLabels(6);
            }
            renderer.setXLabelsAlign(Align.CENTER);
            renderer.setYLabelsAlign(Align.CENTER);
            renderer.setXLabelsColor(Color.DKGRAY);
            renderer.setYLabelsColor(0, Color.DKGRAY); 
            renderer.setPanEnabled(false, false);
            renderer.setZoomRate(1.1f);
            renderer.setBarSpacing(0.8f);
            renderer.setMargins( new int []{55, 40, 35, 30});
            renderer.setApplyBackgroundColor(true);

            renderer.setBackgroundColor(Color.WHITE);
            renderer.setMarginsColor(Color.WHITE);    
            renderer.setLegendHeight(40);

            renderer.setChartTitleTextSize(30);
            renderer.getXTextLabelLocations();
            renderer.setClickEnabled(true);

            mChartView =  ChartFactory.getBarChartView(SalesBar.this, buildBarDataset(titles, values), renderer,
                org.achartengine.chart.BarChart.Type.STACKED);

           layout.addView(mChartView, LayoutParams.FILL_PARENT , LayoutParams.FILL_PARENT);
             renderer.setSelectableBuffer(100);

             mChartView.setOnTouchListener(new OnTouchListener() {

                    public boolean onTouch(View v, MotionEvent event) {
                         if (MotionEvent.ACTION_DOWN == event.getAction()) {
                            xaxis =  event.getRawX();
                                yaxis =  event.getRawY(); 
                              xx = (int) xaxis;
                            yy = (int) yaxis;
                        } else if (MotionEvent.ACTION_UP == event.getAction()) {
                            xaxis =  event.getX();
                              yaxis =  event.getY(); 
                              xx = (int) xaxis;
                            yy = (int) yaxis;
                        }
                        else{}

                        return false;
                    }
                });

             mChartView.setOnClickListener(new View.OnClickListener() {
                 Toast test;
                public void onClick(View v) {
                  SeriesSelection seriesSelection = mChartView.getCurrentSeriesAndPoint();

                  if (seriesSelection != null) {

                      int status_index = seriesSelection.getSeriesIndex();
                      int equipment_index = seriesSelection.getPointIndex();
                      double duration_value = seriesSelection.getValue();

                      if(status_index == 0)
                      {
                          if(equipment_index == 0)
                          {
                              duration_value = EquipmentHoursDuration[0][1];
                          }
                          if(equipment_index == 1)
                          {
                              duration_value = EquipmentHoursDuration[1][1];
                          }
                          if(equipment_index == 2)
                          {
                              duration_value = EquipmentHoursDuration[2][1];
                          }
                          if(equipment_index == 3)
                          {
                              duration_value = EquipmentHoursDuration[3][1];
                          }
                          if(equipment_index == 4)
                          {
                              duration_value = EquipmentHoursDuration[4][1];
                          }
                          String final_status = titles[status_index];
                         String final_equipment = EquipmentNamePartial[equipment_index];
                        test = Toast.makeText(
                                SalesBar.this,
                                  "Status: " + final_status + '\n'
                                + "Equipment: " + final_equipment + '\n'
                                + "Duration: " + duration_value + " hours", Toast.LENGTH_SHORT);
                       ((TextView)((LinearLayout)test.getView()).getChildAt(0))
                      .setGravity(Gravity.LEFT);

                         test.setGravity(Gravity.TOP|Gravity.LEFT, xx, yy);

                          test.show();
                      }

                      else
                      {
                     String final_status = titles[status_index];
                     String final_equipment = EquipmentNamePartial[equipment_index];
                     if(equipment_index == 0)
                  {
                      duration_value = EquipmentHoursDuration[0][0];
                  }
                  if(equipment_index == 1)
                  {
                      duration_value = EquipmentHoursDuration[1][0];
                  }
                  if(equipment_index == 2)
                  {
                      duration_value = EquipmentHoursDuration[2][0];
                  }
                  if(equipment_index == 3)
                  {
                      duration_value = EquipmentHoursDuration[3][0];
                  }
                  if(equipment_index == 4)
                  {
                      duration_value = EquipmentHoursDuration[4][0];
                  }

                    test = Toast.makeText(
                            SalesBar.this,
                              "Status: " + final_status + '\n'
                            + "Equipment: " + final_equipment + '\n'
                            + "Duration: " + duration_value + " hours", Toast.LENGTH_SHORT);

                         test.setGravity(Gravity.TOP|Gravity.LEFT, xx, yy);
                        ((TextView)((LinearLayout)test.getView()).getChildAt(0))
                          .setGravity(Gravity.LEFT);

                          test.show();
                      }
                  }
                }
              });

    protected XYMultipleSeriesRenderer buildBarRenderer(int[] colors) {
                XYMultipleSeriesRenderer renderer = new XYMultipleSeriesRenderer();
                renderer.setAxisTitleTextSize(16);
                renderer.setChartTitleTextSize(20);
                renderer.setLabelsTextSize(15);
                renderer.setLegendTextSize(15);
                int length = colors.length;
                for (int i = 0; i < length; i++) {
                  SimpleSeriesRenderer r = new SimpleSeriesRenderer();
                  r.setColor(colors[i]);
                  renderer.addSeriesRenderer(r);
                }
                return renderer;
              }

    protected void setChartSettings(XYMultipleSeriesRenderer renderer, String title, String xTitle,String yTitle, double xMin, double xMax, double yMin, double yMax, int axesColor, int labelsColor) {
                renderer.setChartTitle(title);
                renderer.setXTitle(xTitle);
                renderer.setYTitle(yTitle);
                renderer.setXAxisMin(xMin);
                renderer.setXAxisMax(xMax);
                renderer.setYAxisMin(yMin);
                renderer.setYAxisMax(yMax);
                renderer.setAxesColor(axesColor);
                renderer.setLabelsColor(labelsColor);
              }

          protected XYMultipleSeriesDataset buildBarDataset(String[] titles, List<double[]> values) {
                XYMultipleSeriesDataset dataset = new XYMultipleSeriesDataset();
                int length = titles.length;
                for (int i = 0; i < length; i++) {
                  CategorySeries series = new CategorySeries(titles[i]);
                  double[] v = values.get(i);
                  int seriesLength = v.length;
                  for (int k = 0; k < seriesLength; k++) {
                    series.add(v[k]);
                  }
                  dataset.addSeries(series.toXYSeries());
                }

                return dataset;
              }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T06:21:06.637

您可以使用一些值显示初始视图，然后逐渐更改这些值，直到它们达到最终值。在此期间，您将使用新值修改数据集并调用`mChartView.repaint()`一个单独的线程，该线程确实会休眠 100 毫秒左右。

它应该很简单：

```
new Thread(new Runnable() {
  public void run() {
    while (!stopped) {
      try {
        Thread.sleep(100);
      } catch (Exception e) {
        // ignore
      }
      // modify the contents of your series here
      ...
      mChartView.repaint();
    }
  }
}).start(); 
```

# jquery - 淘汰赛 JS：停止绑定到可见的 div：从屏幕上闪烁

> ID：12775766
> 
> 赞同：24
> 
> 时间：2012-10-08T05:25:45.553
> 
> 标签：jquery, knockout.js, knockout-2.0

我正在开发一个单页应用程序，它有一堆隐藏的 div，绑定（或绑定？）到 KnockoutJS 与`visible:`. 当页面加载时，它们都会在屏幕上瞬间闪烁。我曾尝试将我的 JS 移动到 中`<head></head>`，但这没有任何效果，因此在页面底部加载 JS 并不是导致它的原因。

不幸的是，`visible:`绑定不会传播到 CSS`display`属性，所以我不能`display: none;`在页面加载时使用，或者`visible:`根本不起作用。除非...我加载页面，`display: none;`然后在第一次向用户显示 div 时更改它。

但是有没有更优雅的方法来实现这一点？

* * *

## 回答 #1

> 赞同：57
> 
> 时间：2012-10-08T05:31:42.747

使用 KnockoutJS，我通过定义一个名为`hidden`with的 CSS 类来解决这个问题`display:none`，然后我将添加这个类并绑定到闪烁的容器：

```
class="hidden" data-bind="css: { hidden: false }" 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-15T15:05:11.347

我通过将我的“华丽”内容放在脚本模板中解决了这个问题，并在变量由另一个虚拟元素设置时使用 ko 的虚拟元素加载模板。

例如：

```
<!-- ko if: myVariable -->
<!-- ko template: { name: 'myTemplate' } --><!-- /ko -->
<script type="text/html" id="myTemplate">
    <ul data-bind="foreach: blah...">
        <li></li>
    </ul>
</script>
<!-- /ko --> 
```

因此，当 myVariable 设置时，脚本容器的内容将被放置在模板虚拟元素的位置。使用这种方法，您不会看到任何闪烁的内容 :-)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-07-08T08:48:35.103

我最终编写了一个自定义绑定来使用而不是默认的`visible`.

```
function isHidden(el) {
    var style;

    style = window.getComputedStyle(el);

    return (style.display === 'none')
}

ko.bindingHandlers['cssVisible'] = {
    'update': function (element, valueAccessor) {
        var value,
            isCurrentlyVisible;

        value = ko.utils.unwrapObservable(valueAccessor());
        isCurrentlyVisible = !isHidden(element);

        if (value && !isCurrentlyVisible) {
            ko.utils.toggleDomNodeCssClass(element, 'ko-visible', true);
        }
        else if ((!value) && isCurrentlyVisible) {
            ko.utils.toggleDomNodeCssClass(element, 'ko-visible', false);
        }
    }
} 
```

然后是一些 CSS 来处理可见性

```
[data-bind*="cssVisible"]:not(.ko-visible) {
    display: none;
} 
```

用法同`visible`绑定

```
<div data-bind="cssVisible: true"></div> 
```

# httpwebrequest - 下载网页时应用程序转到冻结

> ID：12775767
> 
> 赞同：-1
> 
> 时间：2012-10-08T05:25:56.480
> 
> 标签：httpwebrequest

我写了一个下载网页的功能：功能如下：

```
public string GetWebPage(string sURL)
    {
        System.Net.WebResponse objResponse = null;
        System.Net.WebRequest objRequest = null;
        System.IO.StreamReader objStreamReader = null;
        string sResultPage = null;
        try
        {
            objRequest = System.Net.HttpWebRequest.Create(sURL);
            objResponse = objRequest.GetResponse();
            objStreamReader = new System.IO.StreamReader(objResponse.GetResponseStream());
            sResultPage = objStreamReader.ReadToEnd();
            return sResultPage;
        }
        catch (Exception ex)
        {
            return "";
        }
    } 
```

但我的问题是。当这个功能在那个时候工作的应用程序转到冻结（不响应）并且那个时候我不能做任何事情。我怎么解决这个问题。下载时用户可以在我的应用程序中做其他事情。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T05:48:37.367

欢迎来到阻塞 IO 的世界。

考虑以下：

您希望您的程序下载一个网页，然后返回它在源 html 中找到的前 10 个字母。您的代码可能如下所示：

```
...
string page = GetWebPage("http://example.com"); // download web page
page = page.Substring(0, 10);
Console.WriteLine(page);
.... 
```

当您的程序调用 GetWebPage() 时，它必须等待网页完全下载，然后才能尝试调用 Substring() - 否则它可能会在实际下载字母之前尝试获取子字符串。

现在考虑你的程序。你有很多代码——可能是一个 GUI 界面正在运行——而且它一次一行地执行一条指令。当您的代码调用 GetWebPage() 时，它不可能继续执行其他代码，直到该请求完全完成。您的整个程序正在等待该请求完成。

这个问题可以通过几种不同的方式来解决，最好的解决方案取决于你对代码所做的事情。理想情况下，您的代码需要*异步*执行。c# 有可以为您处理很多此类问题的方法，但无论哪种方式，您都需要开始一些工作 - 下载您的情况下的网页 - 然后继续执行代码，直到您的主线程*收到*通知网页已完全下载。然后你的主线程可以开始解析返回值。

我假设既然您已经问过这个问题，那么您通常对线程和并发非常陌生。你有很多工作要做。这里有一些资源供您阅读有关 C# 中的线程和实现并发的信息：

[C#线程介绍](http://www.codeproject.com/Articles/18044/Simple-Introduction-to-Threads-in-C-for-Beginners)

[.NET 异步 IO 设计](http://www.codeproject.com/Articles/60097/The-NET-Asynchronous-I-O-Design-Pattern)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-11T13:31:42.180

最好的是使用线程

```
new Thread(download).Start(url); 
```

如果您的下载页面很大，请使用块逻辑。

```
HttpWebRequest ObjHttpWebRequest = (HttpWebRequest)HttpWebRequest.Create(Convert.ToString(url));
                ObjHttpWebRequest.AddRange(99204);
                ObjHttpWebRequest.Timeout = Timeout.Infinite;
                ObjHttpWebRequest.Method = "get";
                HttpWebResponse ObjHttpWebResponse = (HttpWebResponse)ObjHttpWebRequest.GetResponse();
                Stream ObjStream = ObjHttpWebResponse.GetResponseStream();
                StreamReader ObjStreamReader = new StreamReader(ObjStream);
                byte[] buffer = new byte[1224];
                int length = 0;

                while ((length = ObjStream.Read(buffer, 0, buffer.Length)) > 0)
                {
                    downloaddata += Encoding.GetEncoding(936).GetString(buffer); 
```

# java - 在这种情况下，如何正确实现 List 的 Comparable？

> ID：12775772
> 
> 赞同：1
> 
> 时间：2012-10-08T05:26:43.667
> 
> 标签：java, list, comparable

我想要做的是使用 compareTo() 方法比较removedItemFromList1 和removedItemFromList2，然后将较小的值插入modifiedList3 并将两个removedFromList 1 或2 中较大的一个放回其原始列表中。如果我有足够长的头发可以拉，它现在已经被拉了......我没有正确铸造吗？我如何正确地使用 compareTo() 方法来完成这个？

```
public class List<Integer> implements Comparable 
{
    private ListNode<Integer> firstNode;
    private ListNode<Integer> lastNode;

    public void insertAtBack (Integer insertItem)
    {
        if ( isEmpty())
            firstNode = lastNode = new ListNode<Integer>(insertItem);
        else 
            lastNode = lastNode.nextBasket = new ListNode<Integer>( insertItem );
    }

    public Integer removeFromBack() 
    {   
        Integer removedItem = (Integer) lastNode.topBucketInBasket;

        if ( firstNode == lastNode)
            firstNode = lastNode = null;
        else
        {
            ListNode<Integer> current = firstNode;

            while ( current.nextBasket != lastNode)
                current = current.nextBasket;

            lastNode = current;
            current.nextBasket = null;
        }

        return removedItem;
    }

    public boolean isEmpty()
    {
        return firstNode == null;
    }

    public List<Integer> merge(List<Integer> list1, List<Integer> list2)
    {
        List<Integer> modifiedList3 = new List<Integer>();

         Integer removedItemFromList1 = (Integer) list1.removeFromBack();
         Integer removedItemFromList2 = (Integer) list2.removeFromBack();

          ((Comparable) removedItemFromList1).compareTo( removedItemFromList2);

         int comparison = compareTo(removedItemFromList2);

         if ( comparison == 1)
            modifiedList3.insertAtBack(removedItemFromList2); 
            list1.insertAtBack(removedItemFromList1);

         if ( comparison == -1)
             modifiedList3.insertAtBack(removedItemFromList1);
            list2.insertAtBack(removedItemFromList2);

        return modifiedList3;   
    }
    @Override
    public int compareTo(Integer itemToCompare)
    {
        final int BEFORE = -1;
        final int AFTER = 1;
        if (this.removedItemFromList1 < list2.removedItemFromList2) return BEFORE;
        if (this.removedItemFromList1 > list2.removedItemFromList2) return AFTER;
    }

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T05:30:34.373

您应该实现通用版本`Comparable<Integer>`而不是原始版本`Comparable`。

另外，在下面

```
public class List<Integer> implements Comparable 
```

那`Integer`不一样`java.lang.Integer`。实际上，在这种情况下，它被称为形式类型参数。

您可能想将其更改为

```
//List is kind of ambiguous with java.util.List
public class MyList<E> implements Comparable<Integer> { 
```

或者可能是其他东西而不是`MyList`.

如果你实施`Comparable`它应该是

```
@Override
public int compareTo(Object itemToCompare) { 
```

如果`Comparable<Integer>`（我猜这是你想要的那个），它应该是

```
@Override
public int compareTo(Integer itemToCompare) 
```

不同之处在于参数类型 -`Object`和`Integer`.

这有点混乱，不太清楚你想要实现什么。

但是你的`List`类实现的点`Comparable`表明你想将一个实例`List`与另一个实例进行比较。如果是这样的话，那么它应该像这样 -

```
public class MyList<E> implements Comparable<MyList> {

    @Override
    public int compareTo(MyList other) {
        //compare and return result
    } 
```

但是参数类型的事实`Integer`表明您实际上要比较的是`Integer`s，在这种情况下`Integer`已经是`Comparable`.

```
((Comparable) removedItemFromList1).compareTo( removedItemFromList2); 
```

你不需要做所有这些

```
removedItemFromList1.compareTo(removedItemFromList2); 
```

足够的。如果这就是您所需要的，那么您根本不需要实施`Comparable`，因此也可以删除该`compareTo`方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T05:51:28.240

Comparable 接口是这样的

```
public interface Comparable<T> {

  public int compareTo(T t){

  }

} 
```

你应该使用`Type Parameter`. **可比**是类型参数化。

所以试试这个方法...

```
public class mList<Integer> implements Comparable<Integer>{

......

     public int compareTo(Integer itemToCompare){

        .....

    }

} 
```

# matlab - Matlab：使用来自多个 uicontrols 的值来绘制图形

> ID：12775782
> 
> 赞同：1
> 
> 时间：2012-10-08T05:28:25.740
> 
> 标签：matlab, user-interface, plot, radio-button, uicontrol

我正在尝试组合来自多个 UI 控件的值以选择特定的图形输出。这是代码：

首先我们打开图：

```
figure('position',[100 100 700 350]); 
```

第 1 部分：Popup UI 控件输入值：

```
pullDown = uicontrol('style','popup',...
            'position',[10 680 180 10],...
            'string','Displacement|Velocity|Acceleration',...
            'callback',@function1); 
```

第 2 部分：单选按钮 UI 控件：

```
radioButtonGroup = uibuttongroup('visible','off',...
            'units','pixels','position',[0 0 1 2],'backgroundcolor','white');
        radio1 = uicontrol('Style','radiobutton','String','Computed',...
            'position',[250 20 100 30],'parent',radioButtonGroup);
        radio2 = uicontrol('Style','radiobutton','String','Recorded',...
            'position',[400 20 100 30],'parent',radioButtonGroup); 
```

所以，我想做的是写一个 if-elseif 来帮助我做这样的事情（我只是用伪代码写）：

```
if pullDown == 'Displacement' AND radio == 'Computed'
   plot(graph1,x);
else if pullDown == 'Displacement' AND radio = 'Recorded'
   plot(graph2,x);
... 
```

等等。有任何想法吗？

提前致谢！

纳克斯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:05:41.593

您必须按照以下方式做一些事情：

对于单选按钮组，使用 'SelectionChangeFcn' 。您可以使用单选按钮上的选择来选择要显示的图（[方法](http://www.mathworks.com/help/matlab/ref/uibuttongroupproperties.html#bqxp5rd)如下：在 radioButtonGroup 定义的末尾，添加 'SelectionChangeFcn',@plotComputedOrRecorded）：

```
function plotComputedOrRecorded(source,eventdata)
    switch get(eventdata.NewValue,'String')
        quantity = QuantityStrs{get(pullDown,'value')};
             %QuantityStrs = {'Displacement','Velocity','Acceleration'}
        case 'Computed'
            plotComputed(quantity);
        case 'Recorded'
            plotRecorded(quantity);
    end
end 
```

然后，您可以使用两个函数 @plotComputed 和 @plotRecorded 在适当的轴上绘制相关数量。

# linux - 使用grep，将两行视为一条？

> ID：12775783
> 
> 赞同：3
> 
> 时间：2012-10-08T05:28:40.327
> 
> 标签：linux, bash, grep

假设我有一个配置文件可以是下面两种格式之一（简短的例子，但基本上第一种格式是一个太长的行，你必须使用行继续符，而第二种格式只是一个很长的没有续行的行）

```
data1=x data2=y data3=z \
datakey 
```

第二种格式

```
data=1 data2=y data3=z datakey 
```

我想`data1=x data2=y data3=x datakey`为这两种情况匹配确切的行。有没有简单的方法来做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T06:17:11.477

`read`解释`\`为行继续符：

```
while read line ; do
    if [[ $line == 'data=1 data2=y data3=z datakey' ]] ; then
        echo "$line"
    fi
done 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T06:11:08.077

也许 grep 不是解决此类问题的最佳工具。

您可以加入所有以结尾的行`\`，然后像往常一样 grep 该输出：

假设你有一个文件：

```
$> cat text
1
2
fasdfasdf
data1=x data2=y data3=z \
datakey
fasfd
sdf 
```

所以你可以加入所有以 结尾的行`\`：

```
$> awk '{line = $0}; /.*\\/ {split($0,tmp,"\\"); line = tmp[1]; getline; line = line $0}; { print line }' text
1
2
fasdfasdf
data1=x data2=y data3=z datakey
fasfd
sdf 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T07:10:43.827

我会使用 sed 创建一个没有结尾的输出`\`：

```
sed -e ':begin;/\\$/{N;bbegin};s/\\\n//g' your_file 
```

然后你可以grep它：

```
sed -e ':begin;/\\$/{N;bbegin};s/\\\n//g' your_file | grep your_pattern 
```

你甚至可以在 sed 中完成这一切：

```
sed -n -e ':begin;/\\$/{N;bbegin};s/\\\n//g;/your_pattern/p' your_file 
```

**更新**：

上面解释一下：

*   `:begin`设置一个标签，我可以使用命令分支（转到）`b`。
*   `/\\$/{N;bbegin}`如果当前行以`\`( `/\\$/`) 结尾，则将下一行附加到缓冲区 ( `N`) 并转到开始 ( `bbegin`)。
*   然后，当行不以 a 结尾时`\`，删除所有的`\`和换行符（`the`s/\\n//g`）。
*   然后`-n`选项告诉 sed no 打印脚本末尾的行。
*   `/your_pattern/p`如果匹配，则打印该行`your_pattern`。

**更新2**：

我们甚至可以做得更好并显示文件的原始行：

```
sed -n -e ':begin;/\\$/{N;bbegin};h;s/\\\n//g;/your_pattern/{g;p}' your_file 
```

这样做是在删除 `\`和换行符之前，它将数据保存在保持空间（`h`）中，如果行匹配，它会打印保存的数据（`g`将保持空间复制到打印的模式空间）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-08T06:24:23.840

```
awk -v i="data1=x data2=y data3=z datakey" '{x=x" "$0}END{y=match(x," "i);if(y) print "yes its a match"}' temp 
```

测试如下：

```
> cat temp
data1=x data2=y data3=z
datakey
> awk -v i="data1=x data2=y data3=z datakey" '{x=x" "$0}END{y=match(x," "i);if(y) print "yes its a match"}' temp
yes its a match
> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-10-09T16:15:59.763

我喜欢上面的 sed 示例，并没有注意到已经提交的 awk 示例。这是 awk (nawk) 版本，它保留格式并处理多个续行和文件结尾。

```
nawk -v re="search-string" \
'{ls=ls""$0;lp=lp""$0}
/\\$/{ls=substr(ls,1,length(ls)-1);lp=lp"\n";next}
ls~re{print lp}
{lp=ls=""}
END{if (ls ~ re)print substr(lp,1,length(lp)-1)}' input-file 
```

解释：

1.  **re=search-string**设置要查找的正则表达式。
2.  **ls=ls""$0**将新行连接到 ls（行搜索），还将原始行存储到 lp（行打印），如上面的 sed 示例。
3.  **/\\$/**检查输入是否有连续字符，如果有，substr() 会从 ls 中删除多余的字符，lp 会附加一个换行符以保持原始格式。最后**next** 导致 awk 读取下一行并从第一条规则开始。
4.  **ls~i**在 line-search 中搜索 re ，如果它匹配 prints *lp*，如果愿意，可以添加一个开关来 print *ls*。
5.  最后（不是倒数第二个）在没有续行时重置 ls & lp。
6.  END 是特殊规则，在这里用于检测**ls**仍然有分配的值，这意味着续行在 EOF 处。搜索正则表达式，当它匹配时，它会切断上面添加的额外换行符。

现在，没有人会在一行的末尾写“\”，不是吗？

# javascript - 是否可以使用 cloneNode 克隆多个 div？

> ID：12775786
> 
> 赞同：0
> 
> 时间：2012-10-08T05:28:53.807
> 
> 标签：javascript, clone

我正在尝试克隆到 div 并将它们附加到其他 div（它们的父母）。我为此使用了clonenode，但它似乎不起作用。它克隆第一个函数中的 div 并将其附加到第二个函数中 div 的父级！不知道我做错了什么。这是代码（* *EDIT:* *var added）：

```
function cloneQ() {
    //Cloning questions and shit
    cloneQ.id = (cloneQ.id || 0) + 1;
    var question = document.getElementById("question");
    var clone = question.cloneNode(true);
    var numberOfQuestions = $('.question').length;
    var id = "questioncon" + cloneQ.id;
    clone.id = id;
    question.parentNode.appendChild(clone);
    var inid = "question" + cloneQ.id;
    var optionid = "optionsdiv" + cloneQ.id;
    $('#' + id + ' ' + '.' + 'questionin').attr('id', inid);
    $('#' + id + ' ' + '.' + 'options').attr('id', optionid);
    $('#' + id + ' h2').html('Question ' + cloneQ.id);

    //Question Cloned
    }

function cloneforPrint() {
    cloneforPrint.id = (cloneforPrint.id || 0) + 1;
    var questionprint = document.getElementById("questionprint");
    var cloneprint = questionprint.cloneNode(true);
    var printid = "questionprint" + cloneforPrint.id;
    cloneprint.id = printid;
    questionprint.parentNode.appendChild(clone);
    var printinid = "thequestionprint" + cloneforPrint.id;
    $('#' + printid + ' ' + '.' + 'thequestionprint').attr('id', printinid);
} 
```

住在这里：[http ://bit.ly/R8hB2m](http://bit.ly/R8hB2m)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T05:44:03.273

编辑：全局变量是问题所在。

您没有将 var 放在变量前面，使它们成为全局变量。cloneForPrint 函数正在获取 cloneQ 中定义的变量。

正确初始化所有变量，你会得到一些错误，指出问题出在哪里。

CloneQ 确实附加到问题父级，但 cloneForPrint 然后将其移动到其他地方。

——老答案——

这里还不足以解决问题所在。我的第一个猜测是该元素与该`question`元素具有相同的父`questionprint`级。

根据给出的代码，`cloneQ`绝对应该附加到`question`父级。因此，要给出您指定的 DOM 外观，它可能看起来不像您所期望的那样。

# php - 如何将 red5 默认应用程序发布者与 WAMP 服务器上的 php 网页集成？

> ID：12775789
> 
> 赞同：0
> 
> 时间：2012-10-08T05:29:06.083
> 
> 标签：php, red5

我需要将实时视频从网络摄像头广播到我的 PHP 应用程序网页。我已成功安装并运行 red5 默认应用程序“发布者”。现在，我需要将我的 PHP 网页与 red5 发布者应用程序集成。

在red5发布者页面上，即： `localhost:5080/demos/publisher.html`

我需要将服务器的位置更改`"rtmp://localhost/oflaDemoset"`为我在 WAMP 服务器中的 PHP 网页。比方说`"http://www.myapp.com/home" but whenever i changed this it shows blank page.`。

只是想知道如何在red5默认发布者APP中更改位置。

没有人知道...多么奇怪..！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T12:50:01.603

是的，没有人知道，因为这个问题很烦人。您不能简单地将 rtmp URL 与您的 PHP 交换。您需要在运行您网站的机器上安装 Red5 服务器。或其他一些“在线”服务器。简单地将 URL 从 localhost 更改为您的 PHP 主机是行不通的。

塞巴斯蒂安

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-12T10:40:56.007

客户端需要连接到 RTMP 服务器才能观看视频。所以 RTMP 服务器必须在公共 IP 或网站上。本地主机指向自己的计算机，因此如果您离开该设置，用户将不会连接到服务器。

# c++ - 被覆盖函数的默认参数

> ID：12775791
> 
> 赞同：3
> 
> 时间：2012-10-08T05:29:22.890
> 
> 标签：c++, overloading

> **可能重复：**
> [虚函数默认参数行为](https://stackoverflow.com/questions/6464404/virtual-function-default-arguments-behaviour)

```
class Human{ virtual void print(int height =72){ cout << "Human: " << height << endl; }};
class Child:public Human{ void print(int height =48){ cout << "Child: " << height << endl; }};

int main()
{
 Human * brother = new Child();
 brother->print();
} 
```

结果是这个

```
Child: 72 
```

为什么它从基类获取默认参数，从派生类获取函数定义？期待与 C++ 标准相关的解释。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-08T05:33:45.617

传递给函数的参数由调用函数的代码决定。函数的行为，一旦被调用，就取决于类。如果您需要这种行为，请创建一个不带参数的虚函数。

获取派生函数的默认参数是不可能的，因为调用代码甚至不一定能看到该函数的原型。

考虑：

```
void someFunction(Human *h)
{
    h->print();
} 
```

此代码可能不知道存在一个派生自该类的类，该类`Human`具有`print`默认值为 48 的函数。而且，无论如何，它无法知道实际传递该值。

这段代码编译很久之后，它可能会链接到这样的代码：

```
class BasketBallPlayer : public Human
{
    void print(int height = 84);
}

Human *j = new BasketBallPlayer();
someFunction(j); 
```

见 8.3.6.10：

> 虚函数调用使用虚函数声明中的默认参数，由表示对象的指针或引用的静态类型确定。派生类中的覆盖函数不会从它覆盖的函数中获取默认参数。

# python - 用 Python 修改 .iso 文件

> ID：12775792
> 
> 赞同：2
> 
> 时间：2012-10-08T05:29:32.510
> 
> 标签：python, cd, dvd-burning

我有一个想要分发的 ISO 映像。但是，为了使用户的设置更容易，我想为每个 .iso 文件添加一个唯一的 .config 文件。

有没有办法使用python修改iso文件？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T05:44:09.103

有一些使用 Python 库浏览或解析 ISO 文件的已知方法（请参阅[此问题](https://stackoverflow.com/questions/6636761/parse-iso-files-in-python)），但将文件添加到 ISO 将需要修改文件系统——这绝对不是微不足道的。

您可以尝试在文件系统上挂载 ISO，从 Python 修改它，然后再次卸载它。一个可以在 Ubuntu 下运行的非常简单的示例：

```
ISO_PATH = "your_iso_path_here"

# Mount the ISO in your OS
os.system("mkdir /media/tmp_iso")
os.system("mount -o rw,loop %s /media/tmp_iso" % ISO_PATH)

# Do your Pythonic manipulation here:
new_file = open("/media/tmp_iso/.config", 'w')
new_file.write(data)
new_file.close() 

# Unmount
os.system("umount /media/tmp_iso")
os.system("rmdir /media/tmp_iso") 
```

除其他外，您将希望使用`subprocess`而不是`os.system`，但这是一个开始。

# python - 对返回生成器对象的函数进行单元测试

> ID：12775794
> 
> 赞同：13
> 
> 时间：2012-10-08T05:29:44.763
> 
> 标签：python

标题几乎总结了它：我尝试使用 assertEqual 来测试一个返回生成器对象的函数，但结果是：

> AssertionError: 生成器对象geneexpr> at 0x2e70c80> != (1,2,...)

除了迭代函数并为每个单独的输出运行 assertEqual 之外，是否有一种聪明的方法可以做到这一点？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-10-08T05:34:35.273

```
assertEqual(tuple(generator_object), (1, 2, ...)) 
```

如果它是一个无限生成器，或者您`n`出于某种原因只想查看第一个结果，您可以将其与`itertools.islice`

```
assertEqual(tuple(islice(generator_object, n)), (1, 2, ...)) 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2016-12-12T00:00:19.077

`next()`在生成器对象上使用。

```
assertEqual(next(generator_object), (1, 2, ...)) 
```

# android - phonegap 设备就绪功能没有被调用

> ID：12775796
> 
> 赞同：2
> 
> 时间：2012-10-08T05:29:53.263
> 
> 标签：android, cordova

我对 PhoneGap Android 比较陌生，我有一个 iPhone 应用程序，需要迁移到 Android 应用程序我已经将 iPhone 应用程序中的 www 添加到我的 Android 应用程序，并添加了清单的权限，甚至复制了带有配置的 XML 文件夹.xml 和 cordova.xml 但问题是我的设备就绪功能没有被调用

这是我的 index.html 代码

```
 <!DOCTYPE html>
     <html>
     <head>

          <meta name="viewport" content="width=device-width, initial-scale=1" />
         <meta name="apple-mobile-web-app-capable" content="yes" />

      <link
      href="http://code.jquery.com/mobile/1.0rc2/jquery.mobile-1.0rc2.min.css"
       rel="stylesheet" />
       <script src="scripts/jquery-1.7.1.min.js" type="text/javascript"></script>

    <link href="css/style.css" type="text/css" rel="stylesheet" />
     <link href="css/index.css" type="text/css" rel="stylesheet" />
    <script src="scripts/app.js" type="text/javascript"></script>
     <script type="text/javascript"
src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
   <script type="text/javascript"
src="http://code.jquery.com/mobile/1.0rc2/jquery.mobile-1.0rc2.min.js"></script>
 <script src="scripts/gallery_handler.js" type="text/javascript"></script>
 <script src="scripts/itpoverlay.js" type="text/javascript"></script>
   <script src="scripts/sqlite.js" type="text/javascript"></script>
    <script src="scripts/jquery.exif.js" type="text/javascript"></script>

    </head>
       <body id="body">
         <div class="app" style="display: none;">
      <div id="deviceready">
        <p class="status pending blink">Connecting to Device</p>
        <p class="status complete blink hide">Device is Ready</p>
    </div>
</div>
<div data-role="page" id="gallerypage" data-theme="a">
    <div data-role="header">
        <h1 class="headtitle">NG DESIIGNS</h1>
    </div>

    <div data-role="content" id="pagecontent">
        <ul id="gallery" class="gallery">

        </ul>
    </div>
</div>
<script type="text/javascript" src="cordova-2.0.0.js"></script>
<script type="text/javascript" src="js/index.js"></script>
<script type="text/javascript">
alert("app to be initialized");
    app.initialize();
    document.addEventListener('deviceready', function() {
        alert("device ready called");
        db.transaction(queryDB, errorCB, successCB);
    }, false);
    document.addEventListener("offline", function() {
        alert("Your Device is offline");
    }, false);
</script>
      </body>
     </html> 
```

这是 index.js

```
 var app = {
    initialize: function() {
    alert("index.js bind");
    this.bind();
   },
    bind: function() {
    alert("index.js bind function calld device ready");
    document.addEventListener('deviceready', this.deviceready, false);
   },
   deviceready: function() {
    alert("device ready");
    // note that this is an event handler so the scope is that of the event
    // so we need to call app.report(), and not this.report()
    app.report('deviceready');
    },
    report: function(id) { 
    console.log("report:" + id);
    // hide the .pending <p> and show the .complete <p>
    document.querySelector('#' + id + ' .pending').className += ' hide';
    var completeElem = document.querySelector('#' + id + ' .complete');
    completeElem.className = completeElem.className.split('hide').join('');
      }
    }; 
```

另见 logcat

```
0-08 10:46:32.294: I/dalvikvm(763): threadid=3: reacting to signal 3
10-08 10:46:32.414: I/dalvikvm(763): Wrote stack traces to '/data/anr/traces.txt'
10-08 10:46:32.664: D/CordovaLog(763): Found preference for phonegap-version=2.0.0
10-08 10:46:32.673: D/CordovaLog(763): Found preference for orientation=default
10-08 10:46:32.673: D/CordovaLog(763): Found preference for target-device=universal
10-08 10:46:32.683: D/CordovaLog(763): Found preference for fullscreen=false
10-08 10:46:32.703: D/JsMessageQueue(763): Set native->JS mode to 1
10-08 10:46:32.803: I/dalvikvm(763): threadid=3: reacting to signal 3
10-08 10:46:32.873: I/dalvikvm(763): Wrote stack traces to '/data/anr/traces.txt'
10-08 10:46:32.934: W/webcore(763): java.lang.Throwable: EventHub.removeMessages(int what = 107) is not supported before the WebViewCore is set up.
10-08 10:46:32.934: W/webcore(763):     at android.webkit.WebViewCore$EventHub.removeMessages(WebViewCore.java:1683)
10-08 10:46:32.934: W/webcore(763):     at android.webkit.WebViewCore$EventHub.access$7900(WebViewCore.java:926)
10-08 10:46:32.934: W/webcore(763):     at android.webkit.WebViewCore.removeMessages(WebViewCore.java:1795)
10-08 10:46:32.934: W/webcore(763):     at android.webkit.WebView.sendOurVisibleRect(WebView.java:2917)
10-08 10:46:32.934: W/webcore(763):     at android.webkit.ZoomManager.setZoomScale(ZoomManager.java:593)
10-08 10:46:32.934: W/webcore(763):     at android.webkit.ZoomManager.access$1700(ZoomManager.java:49)
10-08 10:46:32.934: W/webcore(763):     at android.webkit.ZoomManager$PostScale.run(ZoomManager.java:984)
10-08 10:46:32.934: W/webcore(763):     at android.os.Handler.handleCallback(Handler.java:605)
10-08 10:46:32.934: W/webcore(763):     at android.os.Handler.dispatchMessage(Handler.java:92)
10-08 10:46:32.934: W/webcore(763):     at android.os.Looper.loop(Looper.java:137)
10-08 10:46:32.934: W/webcore(763):     at android.app.ActivityThread.main(ActivityThread.java:4424)
10-08 10:46:32.934: W/webcore(763):     at java.lang.reflect.Method.invokeNative(Native Method)
10-08 10:46:32.934: W/webcore(763):     at java.lang.reflect.Method.invoke(Method.java:511)
10-08 10:46:32.934: W/webcore(763):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
10-08 10:46:32.934: W/webcore(763):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
10-08 10:46:32.934: W/webcore(763):     at dalvik.system.NativeStart.main(Native Method)
10-08 10:46:32.964: D/gralloc_goldfish(763): Emulator without GPU emulation detected.
10-08 10:46:33.823: D/dalvikvm(763): GC_CONCURRENT freed 115K, 3% free 6838K/7047K, paused 4ms+4ms
10-08 10:46:41.603: I/SqliteDatabaseCpp(763): sqlite returned: error code = 14, msg = cannot open file at line 27701 of [8609a15dfa], db=/data/data/com.example.phonegapapp/databases/webview.db
10-08 10:46:41.603: I/SqliteDatabaseCpp(763): sqlite returned: error code = 14, msg = os_unix.c: open() at line 27701 - "" errno=2 path=/CachedGeoposition.db, db=/data/data/com.example.phonegapapp/databases/webview.db
10-08 10:46:41.994: E/Cordova(763): Error loading url gap://ready
10-08 10:46:41.994: E/Cordova(763): android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.VIEW dat=gap://ready }
10-08 10:46:41.994: E/Cordova(763):     at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1512)
10-08 10:46:41.994: E/Cordova(763):     at android.app.Instrumentation.execStartActivity(Instrumentation.java:1384)
10-08 10:46:41.994: E/Cordova(763):     at android.app.Activity.startActivityForResult(Activity.java:3190)
10-08 10:46:41.994: E/Cordova(763):     at android.app.Activity.startActivity(Activity.java:3297)
10-08 10:46:41.994: E/Cordova(763):     at org.apache.cordova.CordovaWebViewClient.shouldOverrideUrlLoading(CordovaWebViewClient.java:222)
10-08 10:46:41.994: E/Cordova(763):     at android.webkit.CallbackProxy.uiOverrideUrlLoading(CallbackProxy.java:224)
10-08 10:46:41.994: E/Cordova(763):     at android.webkit.CallbackProxy.handleMessage(CallbackProxy.java:324)
10-08 10:46:41.994: E/Cordova(763):     at android.os.Handler.dispatchMessage(Handler.java:99)
10-08 10:46:41.994: E/Cordova(763):     at android.os.Looper.loop(Looper.java:137)
10-08 10:46:41.994: E/Cordova(763):     at android.app.ActivityThread.main(ActivityThread.java:4424)
10-08 10:46:41.994: E/Cordova(763):     at java.lang.reflect.Method.invokeNative(Native Method)
10-08 10:46:41.994: E/Cordova(763):     at java.lang.reflect.Method.invoke(Method.java:511)
10-08 10:46:41.994: E/Cordova(763):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
10-08 10:46:41.994: E/Cordova(763):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
10-08 10:46:41.994: E/Cordova(763):     at dalvik.system.NativeStart.main(Native Method)
10-08 10:46:43.553: E/libEGL(763): call to OpenGL ES API with no current context (logged once per thread)
10-08 10:46:43.553: D/ShaderProgram(763): couldn't load the vertex shader!
10-08 10:46:43.553: E/libEGL(763): call to OpenGL ES API with no current context (logged once per thread)
10-08 10:46:43.553: D/ShaderProgram(763): couldn't load the vertex shader!
10-08 10:46:43.553: E/libEGL(763): call to OpenGL ES API with no current context (logged once per thread)
10-08 10:46:43.553: D/ShaderProgram(763): couldn't load the vertex shader!
10-08 10:46:43.553: E/libEGL(763): call to OpenGL ES API with no current context (logged once per thread)
10-08 10:46:43.553: D/ShaderProgram(763): couldn't load the vertex shader!
10-08 10:46:43.553: E/libEGL(763): call to OpenGL ES API with no current context (logged once per thread)
10-08 10:46:43.553: D/ShaderProgram(763): couldn't load the vertex shader!
10-08 10:51:48.393: I/dalvikvm(828): threadid=3: reacting to signal 3
10-08 10:51:48.413: I/dalvikvm(828): Wrote stack traces to '/data/anr/traces.txt'
10-08 10:51:48.674: D/CordovaLog(828): Found preference for phonegap-version=2.0.0
10-08 10:51:48.694: D/CordovaLog(828): Found preference for orientation=default
10-08 10:51:48.694: D/CordovaLog(828): Found preference for target-device=universal
10-08 10:51:48.694: D/CordovaLog(828): Found preference for fullscreen=false
10-08 10:51:48.704: D/JsMessageQueue(828): Set native->JS mode to 1
10-08 10:51:48.893: I/dalvikvm(828): threadid=3: reacting to signal 3
10-08 10:51:48.934: W/webcore(828): java.lang.Throwable: EventHub.removeMessages(int what = 107) is not supported before the WebViewCore is set up.
10-08 10:51:48.934: W/webcore(828):     at android.webkit.WebViewCore$EventHub.removeMessages(WebViewCore.java:1683)
10-08 10:51:48.934: W/webcore(828):     at android.webkit.WebViewCore$EventHub.access$7900(WebViewCore.java:926)
10-08 10:51:48.934: W/webcore(828):     at android.webkit.WebViewCore.removeMessages(WebViewCore.java:1795)
10-08 10:51:48.934: W/webcore(828):     at android.webkit.WebView.sendOurVisibleRect(WebView.java:2917)
10-08 10:51:48.934: W/webcore(828):     at android.webkit.ZoomManager.setZoomScale(ZoomManager.java:593)
10-08 10:51:48.934: W/webcore(828):     at android.webkit.ZoomManager.access$1700(ZoomManager.java:49)
10-08 10:51:48.934: W/webcore(828):     at android.webkit.ZoomManager$PostScale.run(ZoomManager.java:984)
10-08 10:51:48.934: W/webcore(828):     at android.os.Handler.handleCallback(Handler.java:605)
10-08 10:51:48.934: W/webcore(828):     at android.os.Handler.dispatchMessage(Handler.java:92)
10-08 10:51:48.934: W/webcore(828):     at android.os.Looper.loop(Looper.java:137)
10-08 10:51:48.934: W/webcore(828):     at android.app.ActivityThread.main(ActivityThread.java:4424)
10-08 10:51:48.934: W/webcore(828):     at java.lang.reflect.Method.invokeNative(Native Method)
10-08 10:51:48.934: W/webcore(828):     at java.lang.reflect.Method.invoke(Method.java:511)
10-08 10:51:48.934: W/webcore(828):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
10-08 10:51:48.934: W/webcore(828):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
10-08 10:51:48.934: W/webcore(828):     at dalvik.system.NativeStart.main(Native Method)
10-08 10:51:48.954: D/gralloc_goldfish(828): Emulator without GPU emulation detected.
10-08 10:51:48.954: I/dalvikvm(828): Wrote stack traces to '/data/anr/traces.txt'
10-08 10:51:49.764: D/dalvikvm(828): GC_CONCURRENT freed 119K, 3% free 6839K/7047K, paused 4ms+3ms
10-08 10:52:10.864: I/SqliteDatabaseCpp(828): sqlite returned: error code = 14, msg = cannot open file at line 27701 of [8609a15dfa], db=/data/data/com.example.phonegapapp/databases/webview.db
10-08 10:52:10.874: I/SqliteDatabaseCpp(828): sqlite returned: error code = 14, msg = os_unix.c: open() at line 27701 - "" errno=2 path=/CachedGeoposition.db, db=/data/data/com.example.phonegapapp/databases/webview.db
10-08 10:52:11.233: E/Cordova(828): Error loading url gap://ready
10-08 10:52:11.233: E/Cordova(828): android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.VIEW dat=gap://ready }
10-08 10:52:11.233: E/Cordova(828):     at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1512)
10-08 10:52:11.233: E/Cordova(828):     at android.app.Instrumentation.execStartActivity(Instrumentation.java:1384)
10-08 10:52:11.233: E/Cordova(828):     at android.app.Activity.startActivityForResult(Activity.java:3190)
10-08 10:52:11.233: E/Cordova(828):     at android.app.Activity.startActivity(Activity.java:3297)
10-08 10:52:11.233: E/Cordova(828):     at org.apache.cordova.CordovaWebViewClient.shouldOverrideUrlLoading(CordovaWebViewClient.java:222)
10-08 10:52:11.233: E/Cordova(828):     at android.webkit.CallbackProxy.uiOverrideUrlLoading(CallbackProxy.java:224)
10-08 10:52:11.233: E/Cordova(828):     at android.webkit.CallbackProxy.handleMessage(CallbackProxy.java:324)
10-08 10:52:11.233: E/Cordova(828):     at android.os.Handler.dispatchMessage(Handler.java:99)
10-08 10:52:11.233: E/Cordova(828):     at android.os.Looper.loop(Looper.java:137)
10-08 10:52:11.233: E/Cordova(828):     at android.app.ActivityThread.main(ActivityThread.java:4424)
10-08 10:52:11.233: E/Cordova(828):     at java.lang.reflect.Method.invokeNative(Native Method)
10-08 10:52:11.233: E/Cordova(828):     at java.lang.reflect.Method.invoke(Method.java:511)
10-08 10:52:11.233: E/Cordova(828):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
10-08 10:52:11.233: E/Cordova(828):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
10-08 10:52:11.233: E/Cordova(828):     at dalvik.system.NativeStart.main(Native Method)
10-08 10:52:12.824: E/libEGL(828): call to OpenGL ES API with no current context (logged once per thread)
10-08 10:52:12.824: D/ShaderProgram(828): couldn't load the vertex shader!
10-08 10:52:12.824: E/libEGL(828): call to OpenGL ES API with no current context (logged once per thread)
10-08 10:52:12.824: D/ShaderProgram(828): couldn't load the vertex shader!
10-08 10:52:12.824: E/libEGL(828): call to OpenGL ES API with no current context (logged once per thread)
10-08 10:52:12.824: D/ShaderProgram(828): couldn't load the vertex shader!
10-08 10:52:12.834: E/libEGL(828): call to OpenGL ES API with no current context (logged once per thread)
10-08 10:52:12.834: D/ShaderProgram(828): couldn't load the vertex shader!
10-08 10:52:12.834: E/libEGL(828): call to OpenGL ES API with no current context (logged once per thread)
10-08 10:52:12.834: D/ShaderProgram(828): couldn't load the vertex shader! 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-19T13:55:15.480

您必须将 www 文件夹中的 cordova.js 更改为 android cordova.js 之一

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T05:57:31.140

这是导致错误的地方：

```
10-08 10:46:41.994: E/Cordova(763): android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.VIEW dat=gap://ready } 
```

系统无法通过调用 deviceReady() 函数找到将处理数据显示的意图。这让我相信你的项目设置可能有错误。

[仔细检查您是否使用本指南](http://docs.phonegap.com/en/2.1.0/guide_getting-started_android_index.md.html#Getting%20Started%20with%20Android)设置了所有内容

在将代码从 ios 迁移到 android 时，请确保您已经撤消了您可能对设置文件等所做的任何 iphone 特定更改。

# c# - 从静止图像创建视频

> ID：12775800
> 
> 赞同：1
> 
> 时间：2012-10-08T05:30:55.687
> 
> 标签：c#

我正在开发一个应用程序，我可以从 IP 摄像机获取一系列图像。

现在我想从这些图像中制作视频。谁能帮助我使用 C# 从静止图像创建任何格式的视频？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T05:32:10.537

你可以[`ffmpeg`](http://ffmpeg.org/)在幕后使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T05:41:23.860

使用 ffmpeg， http: [//ffmpeg.org/](http://ffmpeg.org/)

> FFmpeg 是一个完整的跨平台解决方案，用于录制、转换和流式传输音频和视频。

还...

> FFmpeg 是在 LGPL 或 GPL 下获得许可的免费软件，具体取决于您选择的配置选项。如果您使用 FFmpeg 或其组成库，则必须遵守相关许可条款。您可以在我们的许可和法律注意事项页面上找到基本的合规信息并获得许可帮助。

从文档中：

```
For creating a video from many images:

ffmpeg -f image2 -i foo-%03d.jpeg -r 12 -s WxH foo.avi 
```

# qt - 在 QListView 上为 indexWidgets 安装 eventFilter

> ID：12775803
> 
> 赞同：0
> 
> 时间：2012-10-08T05:31:08.130
> 
> 标签：qt, mouseevent, qwidget, qlistview, qt-events

我有一个带有一些组件（combobox、lineEdit、labels..etc）的 customWidgets，这个 customWidget 是使用 setIndexWidget(QModelIndex,QWidget) 添加到 QListView 的，我的要求是当我单击 customWidget 上的任何组件时，QListView 项目应该得到选择/聚焦。

如何从 cutomWidget 到 QListView 安装EventFilter，我已经为 customWidget 安装了事件过滤器。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T07:38:18.613

这在QObject的[文档](http://qt-project.org/doc/qt-4.8/qobject.html#installEventFilter)中有很好的描述。

你可以试试：

```
customWidget::installMyFilters()
{
    listView->installEventFilter(this);
} 
```

# python - 在终端中运行 python 文件时，返回命令不会被执行吗？

> ID：12775805
> 
> 赞同：2
> 
> 时间：2012-10-08T05:31:14.963
> 
> 标签：python, terminal

例如，我试图了解如何在终端中运行 python 文件与通过 IDLE 运行它可能会改变代码的解释方式。我不认为会有任何区别，但我注意到当代码在 mac 终端上运行时，代码中的任何“返回”命令都会被忽略。为什么会这样？

例如，采用如下简单的代码：

```
def talk(arg): 
    return arg

talk("Hello!") 
```

现在，如果我在终端中运行它，我希望它打印出“Hello！”，因为它会在给定的 arg“Hello！”上运行函数 talk。并返回它。如果我将最后一行更改为 print talk("Hello!")，我确实得到了预期的结果，然后它就可以工作了。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T05:33:45.053

这些命令*确实*会被执行，但**与 REPL 不同的是，脚本中的返回值不会自动打印**。您需要使用`print`/`print()`才能实际获得任何输出。

# node.js - 'db.collection' 与 'new mongo.Collection' 之间的区别

> ID：12775807
> 
> 赞同：3
> 
> 时间：2012-10-08T05:31:16.440
> 
> 标签：node.js, mongodb

方法 1 和 2 之间是否有任何区别（除了方法 1 是异步的）以获得对下面显示的 mongodb 集合的引用？

```
var mongo = require('mongodb');
var db= new mongo.Db('blog', new mongo.Server(host, port, {auto_reconnect: true}, {}));
db.open(function(){
    //Method 1
    db.collection('articles', function(err, result){
        var collection1 = result;
    });

    //Method 2
    var collection2 = new mongo.Collection(db, 'articles');
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-21T04:44:44.350

我只是按照“方法 1”的方式完成了它——就像做梦一样！（而且，就像你说的，是异步的——这是必须的）

# asp.net - Visual Studio 不断替换我在 Designer.cs 中的自定义控件命名空间

> ID：12775811
> 
> 赞同：0
> 
> 时间：2012-10-08T05:31:33.797
> 
> 标签：asp.net, asp.net-customcontrol

我尝试创建一个继承自 GridView 的自定义控件（使用 tut [http://msdn.microsoft.com/en-us/library/yhzc935f(v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/yhzc935f(v=vs.100).aspx)）。每次构建后，Visual Studio 都会在 Default.aspx.designer.cs 中将我对自定义命名空间的引用替换为它自己的引用

```
protected global::System.Web.UI.WebControls.WebParts.GridViewCustom GridView1; 
```

每次我放

```
protected GridViewCustom.GridViewCustom GridView1; 
```

为什么 ？

在 assembly.cs 我添加了

```
using System.Web.UI;
...
[assembly: TagPrefix("GridViewCustom", "GridViewCustom")] 
```

在 default.aspx 我有：

```
 <asp:GridViewCustom ID="GridView1" runat="server">
    </asp:GridViewCustom> 
```

这是我的控件源代码（源文件在 App_Code 中）：

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Text;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;

namespace GridViewCustom
{
    [DefaultProperty("Text")]
    [ToolboxData("<{0}:GridViewCustom runat=server></{0}:GridViewCustom>")]
    public class GridViewCustom : System.Web.UI.WebControls.GridView
    {
        [Bindable(true)]
        [Category("Appearance")]
        [DefaultValue("")]
        [Localizable(true)]
        public string Text
        {
            get
            {
                String s = (String)ViewState["Text"];
                return ((s == null) ? String.Empty : s);
            }

            set
            {
                ViewState["Text"] = value;
            }
        }

        protected override void RenderContents(HtmlTextWriter output)
        {
            output.Write(Text);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T14:35:31.003

我有同样的问题。 [自动生成的设计器文件建议了一个选项](http://bytes.com/topic/asp-net/answers/532249-wap-vs2005-keeps-changing-my-user-control-types)——从文件中删除声明`.designer.cs`并在代码隐藏文件中显式声明它。

否则，您可能会尝试查看此问题中概述的解决方案：[Visual Studio 2010 keep changed my winforms control](https://stackoverflow.com/questions/3498506/visual-studio-2010-keeps-changing-my-winforms-control)。

**更新：** 在[文件中](http://weblogs.asp.net/scottgu/archive/2006/11/26/tip-trick-how-to-register-user-controls-and-custom-controls-in-web-config.aspx)[全局注册了我的控件后`web.config`](http://weblogs.asp.net/scottgu/archive/2006/11/26/tip-trick-how-to-register-user-controls-and-custom-controls-in-web-config.aspx)，我只是尝试将`tagPrefix`声明更改为独特的东西，而不是其他自定义控件共享的现有前缀，突然一切都很好。奇怪的是，我不再在设计器文件中看到声明，但它仍然有效。

还是很混乱。

# android - 如何在android中使用不同的父节点解析xml

> ID：12775812
> 
> 赞同：0
> 
> 时间：2012-10-08T05:31:38.727
> 
> 标签：android, android-layout, android-intent, android-emulator, android-xml

在我的 xml 文件中，我有两个或多个父节点，例如：-

> //父节点pizza //属性是1 Veg Pizza
> //父节点burger
> //属性是1 Veg Burger,

每当用户单击比萨`listview`项目时，用户应该只能查看另一个活动中的比萨项目列表`listview`。我知道如何调用下一个活动等等，但我想知道如何在我的 java 类中使用不同的父节点，我需要在我的 java 类中做哪些更改，请看这个链接，我正在使用本教程，但这里他们只使用一个父节点歌曲，但我想添加更多，我已经添加到我的 xml 文件中，但不知道我需要在 java 类中做哪些更改。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:34:58.900

```
carrier.xml ile contains below xml contents
<?xml version="1.0" encoding="utf-8"?>
<carrier>
    <vehicle>
        <vehicle
            cid="1"
            cname="TAXI" />
        <vehivle
            cid="0"
            cname="AUTO" />
   </vehicle> 
```

```
// In your code 
XmlPullParser xpp=null;
int eventType = 0;
XmlPullParserFactory factory =null;
BufferedReader bufr=null;   
StringBuilder total ="";
     try{           
    bufr = new BufferedReader(new FileReader("/carrier.xml"));
    total = new StringBuilder();
    String line=""; 
    while ((line = bufr.readLine()) != null)
    {     
    total.append(line);
    }                       
    factory = XmlPullParserFactory.newInstance();  
    factory.setNamespaceAware(true);   
    xpp = factory.newPullParser();   
    xpp.setInput(new StringReader(new String(total)));                  
    eventType = xpp.getEventType();             
    }catch(XmlPullParserException e){
    // Log.v("xmlpullparser"," "+e);
    e.printStackTrace();
    }catch(IOException ie){
    // Log.v("IOException"," "+ie);
    ie.printStackTrace();
    }

    try{
    while (eventType != XmlPullParser.END_DOCUMENT){                    
    if(eventType == XmlPullParser.START_TAG){ 
    String Scid="",Scname="";
    int acount=xpp.getAttributeCount();             
    if(acount!=-1){
    for(int x=0;x<acount;x++){                                              
                        if(xpp.getAttributeName(x).equalsIgnoreCase("cid")){
                            Scid=xpp.getAttributeValue(x);                                                                                  
                        }if(xpp.getAttributeName(x).equals("cname")){
                            Scname=xpp.getAttributeValue(x);
                        }
                    }               
    }   
    }       
    eventType = xpp.next();  
    }                               
    }catch(Exception e){        
            e.printStackTrace();
    }

After this you can use the Scid Scname etc in your code as per your convenience 
```

# enterprise-library - 企业库：如何将数据添加到 Windows 事件日志条目中的任务类别？

> ID：12775817
> 
> 赞同：2
> 
> 时间：2012-10-08T05:32:14.920
> 
> 标签：enterprise-library, event-log

在使用 Microsoft Enterprise Library 5.0 时，我们如何让 Logging Block 将数据输入到事件日志条目的任务类别字段中，而无需专门在代码中创建事件日志条目？

我的企业库类别显示得很好，但这不是我们过滤 Windows 事件日志的内容，因此任务类别条目会很好。

但我也想在代码中使用通用日志调用，而不是专门实例化 Windows 日志条目，即我想保留：

```
// Create a LogWriter object.
LogWriter writer = EnterpriseLibraryContainer.Current.GetInstance<LogWriter>();

// Use the LogWriter object.
writer.Write("My message", "kicks"); 
```

但不知何故，任务类别字段也完成了。

![在此处输入图像描述](../Images/65fa608bbbe976495b886c79bcf746f4.png)

# jboss - JBOSS 7.1.1 中 DLL 的路径设置

> ID：12775827
> 
> 赞同：4
> 
> 时间：2012-10-08T05:33:00.483
> 
> 标签：jboss, jboss7.x

我们有一些与`Java,VB`. 中`Joss 4.X`，我们习惯放在 Application Server 下的 bin 目录下。

我们迁移到`JBOSS 7.1.1`当我从 bin 目录中删除并将它们放在 .lib 下的库文件夹中时`C:\jboss-as-7.1.1.Final\modules\com\correction\main\libraries`。

我得到了这个例外

```
java.lang.UnsatisfiedLinkError: no xxxJavaWrapper in java.library.path
java.library.path = C:\Program Files\Java\jdk1.6.0_24\bin;.;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\apache-maven-3.0.4;C:\apache-maven-3.0.4\bin;C:\Python27;C:\Program Files\Java\jdk1.6.0_24;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem
java.lang.UnsatisfiedLinkError: com.xxxJavaWrapperJNI.new_xxx()J 
```

模块.xml

```
<?xml version="1.0" encoding="UTF-8"?>
    <module xmlns="urn:jboss:module:1.0" name="com.correction">
        <resources>
            <resource-root path="xxx.jar"/>
            <resource-root path="xyz.jar"/>
            <resource-root path="libraries"/>
        </resources>
        <dependencies>
            <system export="true">
                <paths>
                    <path name="libraries"/>
                </paths>
                <exports>
                    <include-set>
                        <path name="libraries"/>
                    </include-set>
                </exports>
            </system>
        </dependencies>
    </module> 
```

但是我将相同的dll放在bin文件夹中，它工作正常。我想将它们放在模块文件夹中并从那里设置路径而不是 bin，以便我可以将所有与应用程序相关的 jar、属性和 dll 文件放在一个地方，以便于维护。

另外我想知道如何在 jboss 7.1.1 中设置 txt 和属性文件的路径

问候斯里尼

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-09T04:36:29.283

Configure **module.xml** as below:

```
<module xmlns="urn:jboss:module:1.1" name="com.correction">
    <resources>
        <resource-root path="xxx.jar"/>
        <resource-root path="xyz.jar"/>
        <resource-root path="lib/win-x86_64"/>
    </resources>

   <dependencies>
       <module name="sun.jdk"/>
    </dependencies>
</module> 
```

Put the DLLs into the directory **lib/win-x86_64**. Check the another dependencies of your project.

In **WEB-INF** of your application creating the file **jboss-deployment-structure.xml** and put the content below:

```
<jboss-deployment-structure>
  <deployment>
     <dependencies>
        <module name="com.correction"/>
     </dependencies>
  </deployment>
</jboss-deployment-structure> 
```

That's all.

Another Question: How can you make these properties files accessible to applications deployed on JBoss 7?

create a custom module where you put your properties files and put **jboss-deployment-structure.xml** to your application archive **(WAR/EAR)** to use that custom module.

Create the new module directory under **$JBOSS_HOME/modules**(using app/conf in this example)

```
mkdir -p $JBOSS_HOME/modules/app/conf/main/properties/ 
```

Put your properties files in **$JBOSS_HOME/modules/app/conf/main/properties/**

Create a module.xmlhere **$JBOSS_HOME/modules/app/conf/main/module.xml**

```
<module xmlns="urn:jboss:module:1.1" name="app.conf">
   <resources>
      <resource-root path="properties"/>
   </resources>
</module> 
```

put the following **jboss-deployment-structure.xml** in **WEB-INF**:

```
<?xml version="1.0" encoding="UTF-8"?>
<jboss-deployment-structure>
   <deployment>
      <dependencies>
            <module name="app.conf" />
   </dependencies>
   </deployment>
</jboss-deployment-structure> 
```

Then you can access your properties files using thecode below (example assumes you have a example.propertiesfile in **$JBOSS_HOME/modules/app/conf/main/properties/**)

```
Thread.currentThread().getContextClassLoader().getResource("example.properties"); 
```

Ps: I used JBoss AS 7.1.2 ( JBoss EAP 6 )

Regards Mauricio Magnani

# cxf - CXF OutInterceptor 使用错误的 SoapPartImpl 类导致 org.w3c.dom.DOMException: HIERARCHY_REQUEST_ERR 异常

> ID：12775831
> 
> 赞同：0
> 
> 时间：2012-10-08T05:33:32.723
> 
> 标签：cxf, axis2, wsdl2java

我有一个 J2EE 应用程序（出于遗留原因），它同时具有 Axis2 和 CXF 库，用于应用程序使用的不同提供程序端点。

我已经实现了一个新的客户端端点，它通过 CXF 连接到第三方提供商。端点要求将身份验证详细信息放入 SoapHeaders（而不是 HTTP 标头）中。

弹簧配置如下：

```
<jaxws:client id="fareSearchServicePort" serviceClass="org.openaxisgroup.axisschemadocs.v1r1_va.AxisPort"
              address="${endpoint}faresearch">
    <jaxws:features>
        <ref bean="gzipFeature"/>

        <ref bean="fastInfosetFeature"/>
        <!--<ref bean="loggingFeature"/>-->

    </jaxws:features>
    <jaxws:properties>
        <entry key="org.apache.cxf.binding.soap.messageFactoryClassName" value="com.sun.xml.internal.messaging.saaj.soap.SOAPPartImpl" />
    </jaxws:properties>
    <jaxws:outInterceptors>
        <ref bean="outPasswordInterceptor" />
    </jaxws:outInterceptors>
</jaxws:client>

<bean id="outPasswordInterceptor" class="org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor">
    <constructor-arg>
        <map>
            <entry key="action" value="UsernameToken" />
            <entry key="passwordType" value="PasswordText" />
            <entry key="signaturePropFile" value="..."/>
            <entry key="passwordCallbackRef" value-ref="myPasswordCallback"/>
        </map>
    </constructor-arg>
</bean> 
```

如果没有 outInterceptors，连接工作正常，只是无法进行身份验证。

在包含拦截器的情况下，代码被委托给 Axis2 库，从而导致“org.w3c.dom.DOMException: HIERARCHY_REQUEST_ERR”。甚至在密码回调方法被触摸之前。堆栈跟踪：

```
org.w3c.dom.DOMException: HIERARCHY_REQUEST_ERR: An attempt was made to insert a node where it is not permitted. 
    at org.apache.axiom.om.impl.dom.ParentNode.insertBefore(ParentNode.java:224)
    at org.apache.axiom.om.impl.dom.NodeImpl.appendChild(NodeImpl.java:240)
    at org.apache.axis2.saaj.SOAPPartImpl.appendChild(SOAPPartImpl.java:979)
    at org.apache.cxf.staxutils.W3CDOMStreamWriter.setChild(W3CDOMStreamWriter.java:114)
    at org.apache.cxf.staxutils.W3CDOMStreamWriter.newChild(W3CDOMStreamWriter.java:104)
    at org.apache.cxf.staxutils.W3CDOMStreamWriter.writeStartElement(W3CDOMStreamWriter.java:132)
    at org.apache.cxf.binding.soap.interceptor.SoapOutInterceptor.writeSoapEnvelopeStart(SoapOutInterceptor.java:122)
    at org.apache.cxf.binding.soap.interceptor.SoapOutInterceptor.handleMessage(SoapOutInterceptor.java:81)
    at org.apache.cxf.binding.soap.interceptor.SoapOutInterceptor.handleMessage(SoapOutInterceptor.java:61)
    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:244)
    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:516)
    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:313)
    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:265)                                                                                                           
    at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:73)                                                                                                      
    at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:124)                                                                                                  
    at $Proxy144.axisTransaction(Unknown Source) 
```

如何指定要使用的 SOAPPartImpl？（即 com.sun.xml.internal.messaging.saaj.soap.SOAPPartImpl）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T18:59:19.987

您没有提到使用的 CXF 版本。一定要尝试使用最新版本（现在是 2.6.2，尽管现在正在对 2.6.3 进行投票）。最近有一些工作使各种较旧的 SAAJ 实现可用。只是更新到最新的 CXF 可能会修复它。

如果这没有帮助，您可以将“org.apache.cxf.binding.soap.messageFactoryClassName”和/或“org.apache.cxf.binding.soap.soapFactoryClassName”的系统属性设置为适当的 Sun 类名，然后应该工作。

# c - 从 C 中的输入文件中读取 CJK 字符

> ID：12775835
> 
> 赞同：0
> 
> 时间：2012-10-08T05:33:49.030
> 
> 标签：c, unicode, utf-8, cjk, wchar

我有一个文本文件，其中可以包含中文、日文、韩文 (CJK) 和英文字符。我必须验证文件中的英文字符。仅当行以“$”字符开头时，该文件才可以包含 CJK 字符，该字符代表我的文本文件中的注释。通过网络搜索，我发现我可以使用`fgetws()`和`wchar_t`类型来读取宽字符。

Q1）但我想知道 CJK 字符将如何存储在我的文本文件中 - 什么字节顺序等。

Q2) 如何循环遍历 CJK 字符。由于 Unicode 字符可以有 1 到 6 个字节，所以我不能使用 i++。

任何帮助，将不胜感激。

非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T12:08:44.630

您需要将 UTF-8 文件作为 UTF-32 代码点序列读取。例如：

```
std::shared_ptr<FILE> f(fopen(filename, "r"), fclose);
uint32_t c = 0;
while (utf8_read(f.get(), c))
{
    if (is_english_char(c))
        ...
    else if (is_cjk_char(c))
        ...
    else
        ...
} 
```

哪里`utf8_read`有签名：

```
bool utf8_read(FILE *f, uint32_t &c); 
```

现在，`utf8_read`可能会读取 1-4 个字节，具体取决于第一个字节的值。请参阅[http://en.wikipedia.org/wiki/UTF-8](http://en.wikipedia.org/wiki/UTF-8)，谷歌搜索算法或使用您已经可用的库函数。

使用 UTF-32 代码点，您现在可以检查范围。对于英语，您可以检查它是 ASCII ( `c < 0x7F`) 还是`Latin`字符（包括对从例如法语导入的单词的重音字符的支持）。您可能还想排除不可打印的控制字符（例如`0x01`）。

对于`Latin`和/或`CJK`字符检查，您可以检查字符是否在给定的代码块中（有关代码点范围，请参见[http://www.unicode.org/Public/UNIDATA/Blocks.txt ）。](http://www.unicode.org/Public/UNIDATA/Blocks.txt)这是最简单的方法。

如果您正在使用支持 Unicode 且具有书写脚本检测功能的库（例如 glib 库），您可以使用脚本类型来检测字符。或者，您可以从[http://www.unicode.org/Public/UNIDATA/Scripts.txt](http://www.unicode.org/Public/UNIDATA/Scripts.txt)获取数据：

```
Name     : Code      : Language(s)
=========:===========:========================================================
Common   : Zyyy      : general punctuation / symbol characters
Latin    : Latn      : Latin languages (English, German, French, Spanish, ...)
Han      : Hans/Hant : Chinese characters (Chinese, Japanese)
Hiragana : Hira      : Japanese
Katakana : Kana      : Japanese
Hangul   : Hang      : Korean 
```

注意：脚本代码来自[http://www.iana.org/assignments/language-subtag-registry](http://www.iana.org/assignments/language-subtag-registry) ( `Type == 'script'`)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T05:47:36.573

您需要了解[UTF-8](http://en.wikipedia.org/wiki/Utf-8)并使用一些 UTF8 处理库（或自己编写代码）。仅供参考， [Glib](http://developer.gnome.org/glib/stable/glib-Unicode-Manipulation.html)（来自 GTK）具有 UTF-8 处理函数，能够处理可变长度的 UTF-8 字符和字符串。还有其他 UTF-8 库，例如[iconv](http://en.wikipedia.org/wiki/Iconv) - 在 GNU libc 中 - 以及[ICU](http://site.icu-project.org/)和许多其他库。

UTF-8 确实定义了多字节UTF8 字符（例如中文字符）的字节顺序和内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T09:17:05.113

我正在粘贴一个示例程序来说明 wchar_t 处理。希望它可以帮助某人。

```
#include <stdio.h>
#include <locale.h>
#include <wchar.h>
#define BUFLEN 1024
int main() {
  wchar_t *wmessage=L"Lets- beginめん（下）　震災後、保存-食で-脚光-（経済ナビゲーター）-lets- end";
  wchar_t warray[BUFLEN + 1];
  wchar_t a = L'z';
  int i=0;
  FILE *fp;
  wchar_t *token = L"-";
  wchar_t *state;
  wchar_t *ptr;
  setlocale(LC_ALL, "");
  /* FIle in current dirrctory containing CJK chars */
  fp = fopen("input", "r");
  if (fp == NULL) {
      printf("%s\n", "Cannot open file!!!");
      return (-1);
  }
  fgetws(warray, BUFLEN, fp);
  wprintf(L"\n *********************START reading from file*******************************\n");
  wprintf(L"%ls\n",warray);
  wprintf(L"\n*********************END reading from file*******************************\n");
  fclose(fp);
  wprintf(L"printing character %lc = <0x%x>\n", a, a);
  wprintf(L"\n*********************START Checking string for Japanese*******************************\n");
  for(i=0;wmessage[i] != '\0';i++) {
      if (wmessage[i] > 0x7F) {
          wprintf(L"\n This is non-ASCII <0x%x> <%lc>", wmessage[i],  wmessage[i]);
      } else {
          wprintf(L"\n This is ASCII <0x%x> <%lc>", wmessage[i],  wmessage[i]);
      }
  }
  wprintf(L"\n*********************END Checking string for Japanese*******************************\n");
  wprintf(L"\n*********************START Tokenizing******************************\n");
  state = wcstok(warray, token, &ptr);
  while (state != NULL) {
      wprintf(L"\n %ls", state);
      state = wcstok(NULL, token, &ptr);
  }
  wprintf(L"\n*********************END Tokenizing******************************\n");
  return 0;
} 
```

# java - 错误：WindowText 不是抽象的，并且不会覆盖 java.awt.event.MouseListener 中的抽象方法 mouseExited(java.awt.event.MouseEvent)

> ID：12775840
> 
> 赞同：1
> 
> 时间：2012-10-08T05:34:02.383
> 
> 标签：java, awt, textfield

我编写了一个程序来显示一个带有标签、文本字段和按钮的窗口。当鼠标单击文本字段时，应该调用程序 VirtualKeyboardTest.java。

```
import java.awt.*;
import java.awt.event.*;

class WindowText implements MouseListener
{
    public static void main(String[] args) 
    {
        Frame f=new Frame("New Window");
        f.setSize(500,300);
        f.setVisible(true);
        f.addWindowListener(new WindowAdapter(){
            public void windowClosing(WindowEvent e){
                System.exit(0);
            }
        });
        Panel p = new Panel();
        Panel p1 = new Panel();
        Label lb = new Label("Click on textfield");
        TextField tf = new TextField(20);
        tf.addMouseListener(new MouseAdapter(){
            public void mouseClicked(MouseEvent e)
            {
                new VirtualKeyboardTest();
            }
            public void mousePressed(MouseEvent e){}
            public void mouseEntered(MouseEvent e){}
            public void mouseExited(MouseEvent e){}
            public void mouseReleased(MouseEvent e){}
        });

        p.setLayout(new FlowLayout());
        p.add(lb);
        p.add(tf);

        Button Submit=new Button("Submit");
        p.add(Submit);
        p1.add(p);
        f.add(p1,BorderLayout.CENTER);
    }
} 
```

但是当我尝试编译这个程序时，我得到了一个错误

```
 WindowText.java:4: WindowText is not abstract and does not override abstract method mouseExited(java.awt.event.MouseEvent) in java.awt.event.MouseListener
    class WindowText implements MouseListener
    ^
    1 error 
```

我不明白为什么我会得到这个错误，即使我已经覆盖了 MouseListener 中的每个方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T05:38:21.817

您需要实现 MouseListener 具有的方法。

```
 public void mousePressed(MouseEvent e){}
                public void mouseEntered(MouseEvent e){}
                public void mouseExited(MouseEvent e){}
                public void mouseReleased(MouseEvent e){} 
```

必须在 MouseText 中被覆盖。但是由于您有一个匿名适配器，因此 MouseText 实现 MouseListener 似乎是多余的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T05:39:45.903

```
class WindowText implements MouseListener 
```

这意味着`WindowTest`应该为接口中声明的每个*方法定义一个主体`MouseListener`

错误说明很清楚： `mouseExited(java.awt.event.MouseEvent)`尚未在您的课程中实现。因此，您应该实现该方法以成功编译。

(*) 如果实现类是抽象的，它可能不定义主体，并且可能将方法标记为`abstract`. 现在它应该由它的派生类来实现。我希望这可以清除错误声明中使用的抽象词。

# python - Django - order_by 如何工作？

> ID：12775844
> 
> 赞同：8
> 
> 时间：2012-10-08T05:34:48.387
> 
> 标签：python, django, postgresql, sql-order-by

`order_by`如果一组记录的给定`order_by`字段的值相同，我想知道 Django 的工作原理。考虑我`score`在 DB 中有一个字段，我正在使用`order_by('score')`. 具有相同 score 值的记录将如何排列自己？

每次，它们都会在具有相同分数的记录子集中随机排序，这会破坏客户端的分页。有没有办法覆盖它并以一致的顺序返回记录？

我正在使用 Django 1.4 和 PostgreSQL。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-10-08T07:17:28.413

正如其他答案正确解释的那样，`order_by()`接受多个参数。我建议使用类似的东西：

```
qs.order_by('score','pk') #where qs is your queryset 
```

在这些情况下，我建议使用`'pk'`(or `'-pk'`) 作为最后一个参数，因为每个模型都有一个`pk`字段，并且它的值对于 2 条记录永远不会相同。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-10-08T05:45:54.653

`order_by`可以有多个参数，我认为`order_by('score', '-create_time')`总是会返回相同的查询集。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-08T05:45:22.517

如果我理解正确，我认为您每次都需要一致排序的结果集，您可以使用类似的东西`order_by('score','id')`首先按分数排序，然后按具有相同值的自动增量排序，因此您的输出是一致的`id`。`score`文档在[这里](https://docs.djangoproject.com/en/dev/ref/models/querysets/#django.db.models.query.QuerySet.order_by)。如果您想每次都获取正确的结果集，则需要在 order_by 中明确，使用“id”是其中一种方法。

# sql - 在sql server中保留单个数据的正确方法？

> ID：12775845
> 
> 赞同：0
> 
> 时间：2012-10-08T05:34:51.980
> 
> 标签：sql, sql-server, tsql

我有一个包含很多列和行的表 (myData)，还有另一个表 (myFileNo) 单个值，这意味着单行、单列、单个单元格 (FileNo)，

我编写了一个 sql 查询，它通过检查 myFileNo 来更新 myData，并在进程结束后更改 FileNo 的值。

将单值数据保存在表中对我来说没有多大意义，这是正确的做法吗？

编辑：FileNo 的目的

它充当标识号，但不像主键那样创建。一个例子（之前和之后）：

**前**

```
myData, FileNo
A, NULL
A, NULL
B, NULL
C, NULL
A, NULL
D, NULL
D, NULL 
```

档案编号：15

**后**

```
myData, FileNo
A, 16
A, 16
B, 17
C, 18
A, 16
D, 19
D, 19

FileNo: 19 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:14:23.943

如果 fileNo 被多个表和进程引用，然后将其存储在表中就可以了，您可以研究扩展属性，但我会将其保存在表中。

如果你只需要这个表并且你只需要能够确定下一次加载的最大值+1，我建议你在插入之前只检查 Max(FileNo)，前提是这不会导致性能问题，基于表的大小。

# c# - 如何获取模型中的数据列表？

> ID：12775850
> 
> 赞同：1
> 
> 时间：2012-10-08T05:35:49.623
> 
> 标签：c#, asp.net-mvc

我有仪式模型，它有 id，日期。

我想获得日期<=今天的仪式。

这是我在服务类中的功能。

```
 public virtual IList<Ceremony> GetAllCeremonyByDate(DateTime currentDate)
        {

            var query = from c in _ceremonyRepository.Table
                        where c.ceremony_date >= currentDate
                        select c;
            var countries = query.ToList();
            return countries;

        } 
```

这是我的控制器。

```
 public ActionResult DetailForm()
            {

                Ceremony model = new Ceremony();

                var ceremonyDate = _ceremonyService.GetAllCeremonyByDate(DateTime.Now);
                if (ceremonyDate.Count == 0)
                    return Content("No ceremony can be loaded");

                if (ceremonyDate.Count > 0)
                {

                    foreach (var c in ceremonyDate)
                       // My problem

                }

                return View(model);

            } 
```

我不知道如何为模型赋值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T05:42:22.067

视图期望的类型是什么？

如果是`IEnumerable<Ceremony>`（或类似的），那么您的控制器只需要：

```
public ActionResult DetailForm()
{
    var model = _ceremonyService.GetAllCeremonyByDate(DateTime.Now);

    if (model.Count == 0)
    {
        return Content("No ceremony can be loaded");
    }
    else
    {
        return View(model);
    }
} 
```

如果视图需要一个`Ceremony`，那么您需要决定发送回哪个视图。如果您只想要第一个有效的，那么您可以执行以下操作：

```
public ActionResult DetailForm()
{
    var ceremonies = _ceremonyService.GetAllCeremonyByDate(DateTime.Now);

    if (ceremonies.Count == 0)
    {
        return Content("No ceremony can be loaded");
    }
    else
    {
        return View(ceremonies.First());
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T05:42:26.730

由于您要返回一个`IList<Ceremony>`视图，因此您的视图应该接受与此类型兼容的模型。例如：

**控制器**

```
var ceremonies = _ceremonyService.GetAllCeremonyByDate(DateTime.Now);

if (ceremonies.Count == 0)
{
   return Content("No ceremony can be loaded");
}
else
{
    return View(ceremonies);
} 
```

**看法**

```
@model IEnumerable<Ceremony> 
```

然后你可以像这样在视图中列举你的仪式：

```
@foreach (var ceremony in Model)
{
  ...
} 
```

我也认为你需要纠正你的逻辑。而不是`>=`使用`<=`.

```
var query = from c in _ceremonyRepository.Table
            where c.ceremony_date <= currentDate
            select c; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T05:41:58.557

您只需在 foreach 循环内将值分配给模型。例如，

```
model.id = c.id;
model.date=c.date; 
```

# asp.net-mvc-3 - 不包含“IdCriterion”的定义

> ID：12775860
> 
> 赞同：0
> 
> 时间：2012-10-08T05:37:25.387
> 
> 标签：asp.net-mvc-3, linq-to-sql

我在以下位置有一个 ViewModel：RolesMVC3.Area.Asesor.Models.ListNotesViewModel

如下：

```
public class ListNotesViewModel
    {
           public decimal IdTime { get; set; }

           public decimal IdArea { get; set; }

           public decimal IdCriterion { get; set; }

           public decimal Notes { get; set; }

           public decimal IdEstudent { get; set; }
    } 
```

我有一个使用这个 ViewModel 的控制器。

如下：

```
public ActionResult EstudentsQualification()
   {

    var newItems = (from n in db.Qualification
                    join a in db.AREA on n.IdArea equals a.IdArea
                    join e in db.ESTUDENT on n.IdEstudent equals e.IdEstudent
                    join p in db.TIME on n.IdTime equals p.IdTime
                    join c in db.CRITERION on n.IdCriterion equals c.IdCriterion
                    where n.IdArea == 1 
                    select new ListNotesViewModel { IdCriterion = c.IdCriterion, IdTime = p.IdTime, Notes=n.Note, IdEstudent==e.IdEstudent }).ToList();

     var estu = (from n in db.Qualification
                 join e in db.ESTUDENT on n.IdEstudent equals e.IdEstudent
                 where n.IdArea == 1
                 select e).Distinct().ToList();

     ViewBag.Estudents = estu;
     ViewBag.Time = db.TIME;
     ViewBag.Criterion = db.CRITERION;
     ViewBag.Notes = newItems;

     return View();
 } 
```

相关的视图是：

```
@{
    ViewBag.Title = "Index";
}

<table border="1">

@foreach (var item4 in ViewBag.Estudents)
{
    <tr>
        <td>
             @item4.CodEstudents - @item4.NameEstudents 
        </td>
         @foreach (var item2 in ViewBag.Time)
         {
             foreach (var item3 in ViewBag.Criterion)
             {
                <td>

                 @if (ViewBag.Notes.IdCriterion == item3.IdCriterion && ViewBag.Notes.IdTime == item2.IdTime && ViewBag.Notes.IdEstudent == item4.IdEstudent)
                 {
                     @ViewBag.Notes.Note 
                 }
                 else
                 {
                     @:nothing
                 }    
               </td>                                                                                                                                                                       

             }
         }

    </tr>
}

</table> 
```

我收到以下错误：

```
'System.Collections.Generic.List<RolesMVC3.Area.Asesor.Models.ListNotesViewModel>' does not contain a definition for 'IdCriterion' 
```

我无法弄清楚问题是什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T05:54:05.290

认为这条线导致了它`ViewBag.Notes.IdCriterion`

```
@if (ViewBag.Notes.IdCriterion == item3.IdCriterion && ViewBag.Notes.IdTime == item2.IdTime && ViewBag.Notes.IdEstudent == item4.IdEstudent) 
```

`ViewBag.Notes`是 的集合`Note`。您需要访问`Notes`例如`ViewBag.Notes[0].IdCriterion`或`ViewBag.Notes[i].IdCriterion`或中的项目`foreach(noteItem in ViewBag.Notes)`

# java - 主机名验证和与 DNS 主机名的区别

> ID：12775865
> 
> 赞同：0
> 
> 时间：2012-10-08T05:38:23.927
> 
> 标签：java, ip-address, hostname

我有一个关于要在用户可以输入 Ip/HostName 的文本框中进行的验证的问题。主要问题是关于句号 (.)。这在主机名中是否允许？

此外，如果主机名中允许使用句点，那么为什么我的 Windows 操作系统会抱怨：

![在此处输入图像描述](../Images/514ab013cf978d6dcc36cb1be77a02bd.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T07:26:40.527

主机名由[RFC 952管理并由](https://www.rfc-editor.org/rfc/rfc952)[RFC 1123](https://www.rfc-editor.org/rfc/rfc1123#page-13)修订，您可以在其中看到主机名可以具有 abc.def.ghi 的形式：

```
<names> ::= ... <official hostname> ...
<official hostname> ::= <hname>
<hname> ::= <name>*["."<name>]
<name>  ::= <let>[*[<let-or-digit-or-hyphen>]<let-or-digit>] 
```

（我已经在上面的 RFC952 中提取了语法的相关部分 - RFC1123 也允许第一个字符是数字）

我相信您看到的警告框是关于 Windows（WINS？）不允许在**计算机**名称中使用点。

干杯，

# ant - 无法使用 ANT 脚本删除符号链接

> ID：12775869
> 
> 赞同：4
> 
> 时间：2012-10-08T05:38:32.287
> 
> 标签：ant, symlink, delete-file

我正在尝试使用以下行删除符号链接：

```
<symlink action="delete"  link="/path/of/link/symlink"/> 
```

它抛出一个错误说：

```
Could not create tempfile in /directory/where/symlink/points 
```

/directory/where/symlink/points 应该是只读的。有没有办法可以删除符号链接？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-08T06:08:14.137

[`<delete>`](http://ant.apache.org/manual/Tasks/delete.html)可以使用Ant 任务删除指向只读资源的符号链接。

```
<target name="delete-symlink">
  <delete file="/path/of/link/symlink" followsymlinks="false"
          removenotfollowedsymlinks="true" />
</target> 
```

来自`<delete>`Ant 任务文档：

```
removeNotFollowedSymlinks  是否是符号链接（不是文件/目录
                           他们链接到）应该被删除，如果他们还没有
                           由于 followSymlinks 为 false 或
                           最大符号链接数太大。自从
                           蚂蚁 1.8.0

```

# grails - XML 请求中与多个域类的数据绑定

> ID：12775872
> 
> 赞同：1
> 
> 时间：2012-10-08T05:38:40.223
> 
> 标签：grails, grails-orm, grails-domain-class

我在用户文档中注意到可以拆分用于不同域类的 URL 参数，如下所示：

```
/book/save?book.title=The%20Stand&author.name=Stephen%20King 
```

然后您可以像这样传递其预期域类的值：

```
def b = new Book(params.book)
def a = new Auther(params.author) 
```

我计划用 Grails 构建一个 Web 服务 API，并且想知道如果我在请求正文中使用 XML 请求而不是通过 URL 参数传递参数，这将如何工作。在这种情况下，XML 主体会是什么样子？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T09:08:00.300

```
def s = '<xml><book title="The Stand" /><author name="Stephen King"/></xml>'
def x = new XmlSlurper().parseText(s)

x.book.each{b-> new Book(b.attributes()).save()}
x.author.each{a-> new Author(a.attributes()).save()} 
```

Grails在Controller中增强了HttpServletRequest，所以可以使用

```
request.XML 
```

这是 XmlSlurper 的 GPathResult 类的实例，它允许解析传入的 XML 请求。

参考： http: [//grails.org/doc/2.1.0/ref/Servlet%20API/request.html](http://grails.org/doc/2.1.0/ref/Servlet%20API/request.html)

# c++ - ORM ODB for C++ 可以从数据库生成代码吗

> ID：12775873
> 
> 赞同：7
> 
> 时间：2012-10-08T05:38:42.663
> 
> 标签：c++, orm, odb

我对这个库和 ORM 相当陌生。我知道像 EntityFramework 这样的工具可以从数据库生成代码。C++ 的 ODB 可以完成这项工作吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T05:43:26.707

我不这么认为。查看项目的[主页](http://www.codesynthesis.com/products/odb/)，有一个如何使用 ODB 的示例。似乎您只需要`pragmas`在这里和那里添加一些：

```
#pragma db object
class person
{
  ...
private:
  friend class odb::access;
  person () {}

  #pragma db id
  string email_;

  string name_;
  unsigned short age_;
}; 
```

但是你在已经存在的代码上这样做，所以不，它不会产生任何东西。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-09T06:01:27.107

QxORM[可能](http://www.qxorm.com/qxorm_en/home.html)会帮助您完成这项工作。这个库用于 Qt 框架。

# java - 在 For 循环和外部循环中声明的变量之间的区别

> ID：12775878
> 
> 赞同：-1
> 
> 时间：2012-10-08T05:39:09.213
> 
> 标签：java, scope

jvm如何管理和的`i`内存`j`？除了它们的范围之外`i`，还有什么区别？`j`

```
int i;
for(i=0;i<5;i++)
{
    System.out.println(i)
}
for(int j=0;j<5;j++)
{
    System.out.println(j)
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T05:41:45.843

它基本上是一样的。唯一的区别是在第一种情况下声明发生在循环之前，而在第二种情况下它发生在循环执行之前。

关于JVM的内存管理，基本上都是这样管理的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T05:45:59.663

除了变量的范围之外，没有任何区别。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T05:47:28.450

等效代码如下：

```
int i;
for(i=0;i<5;i++)
{
     System.out.println(i)
}
{
    int j;
    for(j=0;j<5;j++)
    {
        System.out.println(j)
    }
} 
```

# asp.net-mvc-3 - Asp.net mvc3 网站扩展

> ID：12775881
> 
> 赞同：1
> 
> 时间：2012-10-08T05:39:28.310
> 
> 标签：asp.net-mvc-3

想要实现这个功能但是怎么做？

我们知道堆栈溢出是用[什么构建的堆栈溢出在 asp.net mvc3 中编写的？](https://blog.stackoverflow.com/2008/09/what-was-stack-overflow-built-with/).

当我在这里时，我从未注意到 URL 中的 .aspx 扩展名，但它应该存在，因为所有 asp.net 网站都有它。这可能是一个愚蠢的问题。但我很想知道如何准确隐藏 asp.net 网站的扩展名。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T05:42:48.127

在 ASP.NET MVC 中，您可以映射路由；这基本上意味着您可以将任何传入请求映射到给定操作的 URL...查看[此处](http://www.asp.net/mvc/tutorials/controllers-and-routing/creating-custom-routes-cs)以了解更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T05:43:00.140

您必须阅读有关 URL 重写 [http://msdn.microsoft.com/en-us/library/ms972974.aspx](http://msdn.microsoft.com/en-us/library/ms972974.aspx)

或使用此重写软件 [http://www.helicontech.com/isapi_rewrite/](http://www.helicontech.com/isapi_rewrite/)

另一个很好的博客可以访问 [http://weblogs.asp.net/scottgu/archive/2007/02/26/tip-trick-url-rewriting-with-asp-net.aspx](http://weblogs.asp.net/scottgu/archive/2007/02/26/tip-trick-url-rewriting-with-asp-net.aspx)

如果您使用的是 ASP.NET 4.0，您可能会考虑通过 [http://www.codeproject.com/Articles/77199/URL-Routing-with-ASP-NET-4-0](http://www.codeproject.com/Articles/77199/URL-Routing-with-ASP-NET-4-0)

# vba - Excel-VBA：Range函数中的“&”是什么意思

> ID：12775883
> 
> 赞同：1
> 
> 时间：2012-10-08T05:39:32.503
> 
> 标签：vba, excel

下面这段代码中“&”的含义和用法是什么？

```
Set Rng = Range("a1", Range("h" & Rows.Count).End(xlUp)) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T05:52:37.487

`&`是 VBA 中的字符串连接运算符。所以 if `Rows.Count`= 10 then`"h" & Rows.Count`会产生一个包含“h10”的字符串。

# tridion - 我收到错误：登录 Tridion 时出现 8000401a

> ID：12775886
> 
> 赞同：4
> 
> 时间：2012-10-08T05:39:51.647
> 
> 标签：tridion, tridion-2011

登录 Tridion 时出现以下错误。请你帮助我好吗。

```
Error: Retrieving the COM class factory for component with CLSID {9926D1CF-F158-418F-A9A2-B653B497D982} failed due to the following error: 
8000401a The server process could not be started because the configured identity is incorrect. 
Check the username and password. (Exception from HRESULT: 0x8000401A).

System.Runtime.InteropServices.COMException (0x8000401A): Retrieving the COM class factory for component with CLSID {9926D1CF-F158-418F-A9A2-B653B497D982} failed due to the following error: 
8000401a The server process could not be started because the configured identity is incorrect. 
Check the username and password. (Exception from HRESULT: 0x8000401A). 
at Tridion.Web.UI.Models.TCM54.TDSEWrapper.get_TDSE() 
at Tridion.Web.UI.Models.TCM54.TcmAuthorizationModule.context_AuthorizeRequest(Object sender, EventArgs e) 
at System.Web.HttpApplication.SyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute() 
at System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously) 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-08T06:19:42.237

可能是您的系统用户（默认为 MTSuser）被锁定。

请检查 Tridion Content Manager COM+ 应用程序的身份属性，然后再次尝试使用该用户登录。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T06:15:18.483

The identity of the user running the Tridion Content Manager COM+ application is correct. Check if the user exists and the password is correct.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T05:45:48.183

尝试重新启动 CMS Server 上的 COM 服务或重新启动 CMS Server（这将自动重新启动服务）。谢谢

# asp.net-mvc - Asp.net Mvc 4 和 Web Api 中的路由

> ID：12775887
> 
> 赞同：37
> 
> 时间：2012-10-08T05:39:51.693
> 
> 标签：asp.net-mvc, asp.net-mvc-4, asp.net-mvc-routing, asp.net-web-api

我可以同时使用以下两个路由规则吗？

```
config.Routes.MapHttpRoute(
    name: "ActionApi",
    routeTemplate: "api/{controller}/{action}/{id}",
    defaults: new { id = RouteParameter.Optional } );

config.Routes.MapHttpRoute(
    name: "DefaultApi",
    routeTemplate: "api/{controller}/{id}",
    defaults: new { id = RouteParameter.Optional }
); 
```

控制器说是= `FruitApiController:ApiController`，我希望有以下

1.  `List<Fruit> Get()`=`api/FruitApi/`

2.  `List<Fruit> GetSeasonalFruits()`=`api/FruitApi/GetSeasonalFruit`

3.  `Fruit GetFruits(string id)`=`api/FruitApi/15`

4.  `Fruit GetFruitsByName(string name)`=`api/FruitApi/GetFruitsByName/apple`

请帮助我。谢谢

* * *

## 回答 #1

> 赞同：57
> 
> 时间：2012-10-08T07:01:50.460

你可以有几条路线：

```
public static class WebApiConfig
{
    public static void Register(HttpConfiguration config)
    {
        config.Routes.MapHttpRoute(
            name: "ApiById",
            routeTemplate: "api/{controller}/{id}",
            defaults: new { id = RouteParameter.Optional },
            constraints: new { id = @"^[0-9]+$" }
        );

        config.Routes.MapHttpRoute(
            name: "ApiByName",
            routeTemplate: "api/{controller}/{action}/{name}",
            defaults: null,
            constraints: new { name = @"^[a-z]+$" }
        );

        config.Routes.MapHttpRoute(
            name: "ApiByAction",
            routeTemplate: "api/{controller}/{action}",
            defaults: new { action = "Get" }
        );
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-04-21T06:24:27.233

```
config.Routes.MapHttpRoute(
            name: "ApiByName",
            routeTemplate: "api/{controller}/{action}/{name}",
            defaults: null,
            constraints: new { name = @"^[a-z]+$" }
        ); 
```

# iphone - AVPlayerItem removeObserver:forKeyPath 获取错误

> ID：12775889
> 
> 赞同：0
> 
> 时间：2012-10-08T05:40:11.830
> 
> 标签：iphone, objective-c, ios

```
 if (mPlayerItem){
    [mPlayerItem removeObserver:self forKeyPath:kStatusKey];

    [[NSNotificationCenter defaultCenter] removeObserver:self
                                                    name:AVPlayerItemDidPlayToEndTimeNotification
                                                  object:mPlayerItem];
}

//create AVPlayerItem
NSURL *url = [self getUrlWithROAudio:audioFile];

mPlayerItem = [AVPlayerItem playerItemWithURL:url];
[mPlayerItem    addObserver:self
                forKeyPath:kStatusKey
                options:NSKeyValueObservingOptionInitial | NSKeyValueObservingOptionNew
                context:nil];

[[NSNotificationCenter defaultCenter] addObserver:self
                                         selector:@selector(playerItemDidReachEnd:)
                                             name:AVPlayerItemDidPlayToEndTimeNotification
                                           object:mPlayerItem]; 
```

当我创建一个新的 AVPlayerItem 时，我将检查最后一个是否存在，并且 removeObserver 但我得到了
-[AVPlayerItem removeObserver:forKeyPath:]: message sent to deallocated instance

有谁知道为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T06:20:43.657

在某些时候， 指向的对象`mPlayerItem`正在被释放，但`mPlayerItem`没有被设置为`nil`。寻找可能保留不足或过度释放播放器实例的地方。

# sql-server - 完成后如何自动导出 SQL Server 作业日志

> ID：12775890
> 
> 赞同：0
> 
> 时间：2012-10-08T05:40:22.550
> 
> 标签：sql-server, sql-server-job

当每天在特定时间运行时，我创建了一个 SQL Server 2008 作业。作业完成后，我可以手动导出作业日志，如下链接所示：

[http://www.websense.com/support/article/kbarticle/How-do-I-exporting-SQL-logs-and-job-history](http://www.websense.com/support/article/kbarticle/How-do-I-exporting-SQL-logs-and-job-history)

有没有办法在完成时自动导出此作业日志。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:23:57.873

您可以在最后创建一个 CMDEXEC 作业步骤，该步骤使用 QUERYOUT 选项运行 BCP，以将 MSDB.dbo.sysjobhistory 的内容导出到平面文件。

或者，您可以有一个 TSQL 作业步骤，它针对同一个表运行查询，然后使用 DB Mail 将其通过电子邮件发送。

第三种选择是我的偏好，但可能有点矫枉过正，那就是执行 SSIS 包步骤。然后，您可以拥有一个简单的 SSIS 包，它查询上表，然后将其写入文件、通过电子邮件发送或两者兼而有之。

# codeigniter - 如何在 Codeigniter 中使用 ORM 从连接在一起的两个表中进行选择？

> ID：12775891
> 
> 赞同：-1
> 
> 时间：2012-10-08T05:40:27.437
> 
> 标签：codeigniter, orm

我想实现与 Codeigniter 的 ORM 中显示的 SQL 代码相同的东西（它有效）：

```
SELECT question.`id`,`title`,`question`,`answer` FROM answer LEFT JOIN question ON answer.question_id = question.id WHERE question.`id` = 1 
```

我做了以下代码：

```
$this->db->select('question.id, question.title, question.question, answer.answer')->from('answer')->join('question', 'answer.question_id = question_id')->where('question.id',1);
$query = $this->db->get(); 
```

它不起作用，而不是 select `question.id = 1`，它得到了所有答案，似乎 where 子句根本不起作用

我提供下面的表格结构

```
CREATE TABLE `question` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `title` varchar(128) NOT NULL DEFAULT '',
  `question` text NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=latin1;

CREATE TABLE `answer` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `question_id` int(11) unsigned NOT NULL,
  `answer` text NOT NULL,
  PRIMARY KEY (`id`),
  KEY `question_id` (`question_id`),
  CONSTRAINT `answer_ibfk_1` FOREIGN KEY (`question_id`) REFERENCES `question` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=latin1; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T06:57:29.940

您应该知道活动记录不是 ORM。如果您想通过活动记录获得此信息，您可以这样做。有关详细信息，请阅读 Codeigniter 的用户指南

```
$data   =   array(
                answer.question_id,
                answer.title,
                question.question,
                answer.answer ,
                question.id,
            );
$this->db->select($data); 
$this->db->from('answer'); 
$this->db->join('question','answer.question_id = question.id ','left'); 
$this->db->where('question.id',1); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-08T06:58:26.187

我发现我的问题出在哪里：

```
$this->db->select('question.id, question.title, question.question, answer.answer')->from('answer')->join('question', 'answer.question_id = question_id')->where('question.id',1);
$query = $this->db->get(); 
```

应该：

```
$this->db->select('question.id, question.title, question.question, answer.answer')->from('answer')->join('question', 'answer.question_id = **question.id**')->where('question.id',1);
$query = $this->db->get(); 
```

# perl - 在同一行上匹配子字符串

> ID：12775894
> 
> 赞同：0
> 
> 时间：2012-10-08T05:40:33.883
> 
> 标签：perl

我有一个看起来像这样的文件：

```
a_12_3_5- k_3_4_6-a_12_3_5-
q_1_5_7_9- q_1_5_7_9-
a_9_4_5-c_3_4_6- c_3_4_6-r_4_5_7-
b_1_1_3- v_1_5_7-
d_12_4_5-e_4_5_6- g_5_6_7-d_6_8_6-
b_1_1_7-f_3_8_7_8-d_4_1_4- d_4_1_5-b_1_1_7-f_3_8_3
b_1_1_7-f_3_8_7_8-d_4_1_4- e_3_3_1-f_3_8_7-f_21_3_1-b_1_1_7-a_1_1_1- 
```

这是一个以空格分隔的文件。出现在空格前后的字符串由较小的子字符串组成，即 b_1_1_3- 、 k_3_4_6- 、 b_12_4_5- 等。我必须检查空格左侧的较小子字符串中有多少包含在出现在空间的右侧。例如：第一行的子字符串 a_12_3_5- 出现在右侧的字符串中。第二行显示与右侧完全匹配。然而，第 3 行显示左侧只有一个子字符串 (c_3_4_6-)，它包含在右侧的字符串中。第 4 行和第 5 行表示左侧的子字符串不包含在右侧的字符串中的情况。下一行显示只有一个子字符串 (b_1_1_7-) 包含在右侧的字符串中。最后一行显示有 2 个子字符串 b_1_1_7- 和 f_3_8_7- 包含在右侧的字符串中。因此，有效地，我想看看有多少左侧的子字符串包含在右侧的字符串中。我试图以以下方式获取输出，这样我的文件中的每一行都附加三个数字，即左侧的子字符串数，右侧的子字符串数，左侧的子字符串数包含在右侧。

```
a_12_3_5- k_3_4_6-a_12_3_5- 1 2 1 
q_1_5_7_9- q_1_5_7_9- 1 1 1
a_9_4_5-c_3_4_6- c_3_4_6-r_4_5_7- 2 2 1
b_1_1_3- v_1_5_7- 1 1 0
d_12_4_5-e_4_5_6- g_5_6_7-d_6_8_6- 2 2 0
b_1_1_7-f_3_8_7_8-d_4_1_4- d_4_1_5-b_1_1_7-f_3_8_3- 3 3 1
b_1_1_7-f_3_8_7_8-d_4_1_4- e_3_3_1-f_3_8_7-f_21_3_1-b_1_1_7-a_1_1_1- 3 5 2 
```

到目前为止，我已经能够获得上述输出，但似乎无法到达该行的最后一部分。我尝试过使用 perl pos 和 index 函数。请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:45:59.127

请试试这个 perl 代码。

```
#!/usr/bin/perl
use warnings;
use strict;

while ( <DATA> ) {
    my $line = $_;
    chomp $line;
    my ( $left, $right ) = split / /, $line;
    #print "$left\n\t$right\n";
    my @lefts = split /-/, $left;
    my @rights = split /-/, $right;
    my $total = 0;
    foreach ( @rights ) {
        $total++ if $left =~ /$_/;
    }
    print $line, " ", scalar @lefts, " ", scalar @rights, " ", $total, "\n";
}

__DATA__
a_12_3_5- k_3_4_6-a_12_3_5-
q_1_5_7_9- q_1_5_7_9-
a_9_4_5-c_3_4_6- c_3_4_6-r_4_5_7-
b_1_1_3- v_1_5_7-
d_12_4_5-e_4_5_6- g_5_6_7-d_6_8_6-
b_1_1_7-f_3_8_7_8-d_4_1_4- d_4_1_5-b_1_1_7-f_3_8_3
b_1_1_7-f_3_8_7_8-d_4_1_4- e_3_3_1-f_3_8_7-f_21_3_1-b_1_1_7-a_1_1_1- 
```

# wpf - 是否可以在 WPF DataGrid 中隐藏特定的 ColumnHeader？

> ID：12775897
> 
> 赞同：0
> 
> 时间：2012-10-08T05:41:12.237
> 
> 标签：wpf, wpfdatagrid, datatemplate, controltemplate

我想知道是否可以在 DataGrid 中隐藏特定的列标题，例如我想隐藏第 2 列的标题，因为我需要在其中放置一个 Contol，并且不再需要标题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T06:21:33.530

不确定我是否理解正确。是的，您可以通过执行以下操作来隐藏它：

您可以将任何您想要的内容放入 column2 的标题中，据我所知，它只需要 UIElement。您可以将计算器等放在那里。根据您的需要进行切换。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:34:09.870

尝试应用 DataGridColumnHeader 样式

```
 <Style x:Key="CustomHeader" TargetType="{x:Type DataGridColumnHeader}">
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="DataGridColumnHeader">
                <Grid  >
                    <!-- Put the code for the controller here -->
                </Grid>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style> 
```

如果您不想显示列标题，请不要`<ContentPresenter />`在样式中包含标签

# machine-learning - 在神经网络开始在训练数据上表现可接受之前的隐藏层数、隐藏层中的单元数和历元数

> ID：12775899
> 
> 赞同：11
> 
> 时间：2012-10-08T05:41:17.887
> 
> 标签：machine-learning, artificial-intelligence, neural-network, data-mining, pybrain

我正在尝试使用神经网络解决这个[Kaggle 问题。](http://www.kaggle.com/c/titanic-gettingStarted)我正在使用 Pybrain Python 库。

这是一个经典的监督学习问题。在以下代码中：“数据”变量是 numpy 数组（892*8）。7 个字段是我的特征，1 个字段是我的输出值，可以是“0”或“1”。

```
from pybrain.datasets import ClassificationDataSet
from pybrain.supervised.trainers import BackpropTrainer
from pybrain.tools.shortcuts import buildNetwork

dataset = ClassificationDataSet(7,1)
for i in data:
    dataset.appendLinked(i[1:],i[0])
net = buildNetwork(7,9,7,1, bias = True,hiddenclass = SigmoidLayer, outclass = TanhLayer)
trainer = BackpropTrainer(net, learningrate = 0.04, momentum = 0.96, weightdecay = 0.02, verbose = True)
trainer.trainOnDataset(dataset, 8000)
trainer.testOnData(verbose = True) 
```

在训练我的神经网络之后，当我在训练数据上对其进行测试时，它总是为所有输入提供一个输出。喜欢：

```
Testing on data:
out:     [  0.075]
correct: [  1.000]
error:  0.42767858
out:     [  0.075]
correct: [  0.000]
error:  0.00283875
out:     [  0.075]
correct: [  1.000]
error:  0.42744569
out:     [  0.077]
correct: [  1.000]
error:  0.42616996
out:     [  0.076]
correct: [  0.000]
error:  0.00291185
out:     [  0.076]
correct: [  1.000]
error:  0.42664586
out:     [  0.075]
correct: [  1.000]
error:  0.42800026
out:     [  0.076]
correct: [  1.000]
error:  0.42719380
out:     [  0.076]
correct: [  0.000]
error:  0.00286796
out:     [  0.076]
correct: [  0.000]
error:  0.00286642
out:     [  0.076]
correct: [  1.000]
error:  0.42696969
out:     [  0.076]
correct: [  0.000]
error:  0.00292401
out:     [  0.074]
correct: [  0.000]
error:  0.00274975
out:     [  0.076]
correct: [  0.000]
error:  0.00286129 
```

我尝试更改 learningRate、weightDecay、动量、隐藏单元数、隐藏层数、隐藏层类、输出层类以解决它，但在每种情况下，如果输入来自训练，它会为每个输入提供相同的输出数据。

我认为我应该运行它超过 8000 次，因为当我为“XOR”构建神经网络时，它至少需要 700 次迭代才能开始给出纳米级的错误。'XOR' 上的训练数据大小仅为 4，而在本例中为 892。所以我在 10% 的原始数据上运行了 8000 次迭代（现在训练数据的大小为 89），即使这样它为每个输入提供相同的输出在训练数据中。由于我想将输入分类为“0”或“1”，如果我使用输出层的类作为 Softmax，那么它总是给出“1”作为输出。

无论我在“异或”中使用哪种配置（隐藏单元的数量、输出层的类别、学习率、隐藏层的类别、动量），它在每种情况下都或多或少地开始收敛。

有可能有一些配置最终会产生较低的错误率。至少进行一些配置，以便它不会为训练数据中的所有输入提供相同的输出。

我运行了 80,000 次迭代（训练数据大小为 89）。输出样本：

```
Testing on data:
out:     [  0.340]
correct: [  0.000]
error:  0.05772102
out:     [  0.399]
correct: [  0.000]
error:  0.07954010
out:     [  0.478]
correct: [  1.000]
error:  0.13600274
out:     [  0.347]
correct: [  0.000]
error:  0.06013008
out:     [  0.500]
correct: [  0.000]
error:  0.12497886
out:     [  0.468]
correct: [  1.000]
error:  0.14177601
out:     [  0.377]
correct: [  0.000]
error:  0.07112816
out:     [  0.349]
correct: [  0.000]
error:  0.06100758
out:     [  0.380]
correct: [  1.000]
error:  0.19237095
out:     [  0.362]
correct: [  0.000]
error:  0.06557341
out:     [  0.335]
correct: [  0.000]
error:  0.05607577
out:     [  0.381]
correct: [  0.000]
error:  0.07247926
out:     [  0.355]
correct: [  1.000]
error:  0.20832669
out:     [  0.382]
correct: [  1.000]
error:  0.19116165
out:     [  0.440]
correct: [  0.000]
error:  0.09663233
out:     [  0.336]
correct: [  0.000]
error:  0.05632861 
```

平均误差：0.112558819082

（'最大误差：'，0.21803000849096299，'中值误差：'，0.096632332865968451）

它提供范围内的所有输出（0.33、0.5）。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-08T10:40:46.027

还有另一个神经网络指标，你没有提到 - 自适应权重的数量。我从这个开始答案，因为它与隐藏层的数量和其中的单元有关。

为了更好的泛化，权重的数量必须比 Np/Ny 少得多，其中 Np 是模式的数量，Ny 是净输出的数量。究竟什么是“多”是可以讨论的，我建议相差几倍，比如 10。对于您的任务中大约 1000 个模式和 1 个输出，这将意味着 100 个权重。

使用 2 个隐藏层是没有意义的。对于大多数涉及非线性的任务，1 就足够了。在您的情况下，额外的隐藏层只会通过影响整体性能来发挥作用。因此，如果使用 1 个隐藏层，其中的神经元数量可以近似为权重数量除以输入数量，即 100/7 = 14。

我建议在所有神经元中使用相同的激活函数，无论是 Hypertanh 还是 Sigmoid。您的输出值实际上已经针对 Sigmoid 进行了标准化。无论如何，您可以通过输入数据归一化以适应所有维度的 [0,1] 来提高 NN 性能。当然，请自行规范化每个特征。

如果您可以使用 Pybrain 库，则以更大的学习率开始学习，然后与当前步骤成比例地平滑减小`(LR * (N - i)/N)`，其中 i 是当前步骤，N - 是限制，LR - 初始学习率。

正如@Junuxx 建议的那样，每 M 步输出当前错误（如果可能的话），以确保您的程序按预期工作。如果连续步骤中的错误差异小于阈值，则停止学习。只是为了开始和粗略估计适当的 NN 参数选择，将阈值设置为 0.1-0.01（“纳米尺度”中不需要）。

以 80000 步在 89 种模式上运行网络并获得您所拥有的结果的事实很奇怪。请仔细检查您将正确的数据传递给 NN，并检查您提供的错误值是什么意思。显示的错误或输出可能来自错误的位置。我认为 10000 步必须足够远才能获得 89 次模式的可接受结果。

至于具体任务，我认为 SOM net 可能是另一种选择（可能比 BP 更适合）。

作为旁注，我不熟悉 Pybrain，但用 C++ 和其他语言编写了一些 NN，所以你的时间看起来非常大。

# html - 我的 HTML 电子邮件中的图像未在客户的收件箱中打开

> ID：12775901
> 
> 赞同：1
> 
> 时间：2012-10-08T05:41:25.533
> 
> 标签：html, email, html-email, newsletter

我有一个用 HTML 创建并嵌入图像的电子邮件。我需要将其批量发送给我的客户。

但大多数电子邮件服务（如 gmail、ymail 和 Outlook）都会阻止图像并要求用户下载/显示图像。**（图片在hotmail中打开）** 因为这是一封促销邮件，没有人会说下载或显示图片，所以我的邮件没有用处。

有没有什么破解的过程。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T02:39:05.717

不自动下载图像是大多数主要电子邮件客户端上的安全设置。话虽如此，从发件人的角度来看，您无法真正触发某些事情以绕过它。

您可以考虑在您的电子邮件中鼓励他们将您的“发件人”电子邮件地址添加到他们的地址簿中。许多电子邮件客户端会认为您是安全的发件人，然后会自动为该特定收件人下载您的图像。

否则，您可以考虑使用 base64 编码来插入图像（这允许您插入不需要下载的图像内容）。但是，您可以自行查看哪些电子邮件客户端实际支持插入这些类型的图像。您很可能会发现大多数电子邮件客户端都不支持它。如果有一种简单的方法可以绕过安全设置以强制下载图像，那么您不认为垃圾邮件发送者现在会滥用它吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-12T01:04:47.637

这是我在处理这些问题时总是返回的链接。它让您尽可能多地了解哪个客户端做了什么以及如何解决它。

[http://www.campaignmonitor.com/blog/post/3574/](http://www.campaignmonitor.com/blog/post/3574/)

# iphone - ABAddressBookRef 在 iOS 6 上获得 0 个联系人

> ID：12775907
> 
> 赞同：3
> 
> 时间：2012-10-08T05:42:12.177
> 
> 标签：iphone, ios, objective-c, xcode, abaddressbook

我有这个代码：

```
 CFArrayRef contactsList = ABAddressBookCopyArrayOfAllPeople(addressBookRef); 

   CFMutableArrayRef peopleMutable = CFArrayCreateMutableCopy(kCFAllocatorDefault, CFArrayGetCount(contactsList), contactsList);

   CFArraySortValues(peopleMutable, CFRangeMake(0, CFArrayGetCount(peopleMutable)), (CFComparatorFunction) ABPersonComparePeopleByName, (void*) ABPersonGetSortOrdering());

   CFIndex personCount = ABAddressBookGetPersonCount(addressBookRef); 
```

在以前的 iOS 上它可以工作，但是当我将我的 xcode 升级到最新版本并将我的设备升级到最新的 iOS 时，我得到了零回报。我的项目不在 ARC 中。

这里发生了什么？以及通讯录如何返回 0？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-14T01:12:19.873

我有同样的问题，我找到了原因和解决方案。原因是 iOS 6 不允许访问联系人。

您可以找到解决方案：

[iOS 6 地址簿不工作？](https://stackoverflow.com/questions/12517394/ios-6-address-book-not-working)

[以编程方式请求访问联系人](https://stackoverflow.com/questions/12648244/programmatically-request-access-to-contacts-in-ios-6)

# javascript - 如何使用javascript从列表框中获取多个选定的值和项目

> ID：12775912
> 
> 赞同：17
> 
> 时间：2012-10-08T05:42:40.560
> 
> 标签：javascript, html

```
<!DOCTYPE html>
<html>
<script>
function getValue()
{
  var x=document.getElementById("sel");
  for (var i = 0; i < x.options.length; i++) {
     if(x.options[i].selected ==true){
          alert(x.options[i].selected);
      }
  }
}
</script>
</head>
<body>
<select multiple="multiple" id="sel">
  <option value="volvo">Volvo</option>
  <option value="saab">Saab</option>
  <option value="opel">Opel</option>
  <option value="audi">Audi</option>
</select>
<input type="button" value="Get Value" onclick="getValue()"/>
</body>
</html> 
```

这是我的代码。我如何使用javascript从列表框中获取所有选定的值。上面的代码显示所有选定值的显示为真。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-10-08T05:45:39.827

代替

```
 if(x.options[i].selected ==true){
      alert(x.options[i].selected);
  } 
```

和

```
 if(x.options[i].selected){
      alert(x.options[i].value);
  } 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-08T05:45:47.667

我建议你像这样使用 jQuery：

```
var selected = $('#sel option:selected'); 
```

如果您不想使用 jQuery，请忽略此答案并参考其他答案。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2017-02-15T16:59:29.770

使用***selectedOptions***

```
for (var i = 0; i < x.selectedOptions.length; i++) {
    alert(x.selectedOptions[i].value);
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-04-14T10:47:35.793

具有相同示例的解决方案

```
 <!DOCTYPE html>
<html>
<script>
function getValue()
{
  var x=document.getElementById("sel");
  for (var i = 0; i < x.options.length; i++) {
     if(x.options[i].selected ==true){
          alert(x.options[i].value);
      }
  }
}
</script>
</head>
<body>
<select multiple="multiple" id="sel">
  <option value="volvo">Volvo</option>
  <option value="saab">Saab</option>
  <option value="opel">Opel</option>
  <option value="audi">Audi</option>
</select>
<input type="button" value="Get Value" onclick="getValue()"/>
</body>
</html> 
```

# android - android 应用内购买订阅购买令牌返回空值

> ID：12775914
> 
> 赞同：1
> 
> 时间：2012-10-08T05:42:55.230
> 
> 标签：android

我已经在我的应用程序中实现了应用程序购买模块，我希望我的应用程序为用户执行自动续订订阅，因为我有很好的代码。

问题是，当我购买订阅时，谷歌播放向我发送了一个 notifyid，我通过它获取购买历史记录，但在该购买历史记录中，我得到购买响应“null”。有没有办法获得订阅的购买响应并让我知道自动续订订阅后谷歌播放如何通知我们。

我附上了下面的代码，我得到 JSON 格式的购买响应。

```
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import com.surfwise.inapppurchase.Constans.PurchaseState;
import com.surfwise.inapppurchase.util.Base64;
import com.surfwise.inapppurchase.util.Base64DecoderException;

import android.text.TextUtils;
import android.util.Log;

import java.security.InvalidKeyException;
import java.security.KeyFactory;
import java.security.NoSuchAlgorithmException;
import java.security.PublicKey;
import java.security.SecureRandom;
import java.security.Signature;
import java.security.SignatureException;
import java.security.spec.InvalidKeySpecException;
import java.security.spec.X509EncodedKeySpec;
import java.util.ArrayList;
import java.util.HashSet;

/**
 * Security-related methods. For a secure implementation, all of this code
 * should be implemented on a server that communicates with the application on
 * the device. For the sake of simplicity and clarity of this example, this code
 * is included here and is executed on the device. If you must verify the
 * purchases on the phone, you should obfuscate this code to make it harder for
 * an attacker to replace the code with stubs that treat all purchases as
 * verified.
 */
public class Security {
    private static final String TAG = "Security";

    private static final String KEY_FACTORY_ALGORITHM = "RSA";
    private static final String SIGNATURE_ALGORITHM = "SHA1withRSA";
    private static final SecureRandom RANDOM = new SecureRandom();

    /**
     * This keeps track of the nonces that we generated and sent to the server.
     * We need to keep track of these until we get back the purchase state and
     * send a confirmation message back to Android Market. If we are killed and
     * lose this list of nonces, it is not fatal. Android Market will send us a
     * new "notify" message and we will re-generate a new nonce. This has to be
     * "static" so that the {@link BillingReceiver} can check if a nonce exists.
     */
    private static HashSet<Long> sKnownNonces = new HashSet<Long>();

    /**
     * A class to hold the verified purchase information.
     */
    public static class VerifiedPurchase {
        public PurchaseState purchaseState;
        public String notificationId;
        public String productId;
        public String orderId;
        public long purchaseTime;
        public String developerPayload;
        public String purchaseToken;

        public VerifiedPurchase(PurchaseState purchaseState,
                String notificationId, String productId, String orderId,
                long purchaseTime, String developerPayload,String purchaseToken) {
            this.purchaseState = purchaseState;
            this.notificationId = notificationId;
            this.productId = productId;
            this.orderId = orderId;
            this.purchaseTime = purchaseTime;
            this.developerPayload = developerPayload;
            this.purchaseToken=purchaseToken;
        }
    }

    /** Generates a nonce (a random number used once). */
    public static long generateNonce() {
        long nonce = RANDOM.nextLong();
        sKnownNonces.add(nonce);
        return nonce;
    }

    public static void removeNonce(long nonce) {
        sKnownNonces.remove(nonce);
    }

    public static boolean isNonceKnown(long nonce) {
        return sKnownNonces.contains(nonce);
    }

    /**
     * Verifies that the data was signed with the given signature, and returns
     * the list of verified purchases. The data is in JSON format and contains a
     * nonce (number used once) that we generated and that was signed (as part
     * of the whole data string) with a private key. The data also contains the
     * {@link PurchaseState} and product ID of the purchase. In the general
     * case, there can be an array of purchase transactions because there may be
     * delays in processing the purchase on the backend and then several
     * purchases can be batched together.
     * 
     * @param signedData
     *            the signed JSON string (signed, not encrypted)
     * @param signature
     *            the signature for the data, signed with the private key
     */
    public static ArrayList<VerifiedPurchase> verifyPurchase(String signedData,
            String signature) {
        if (signedData == null) {
            //Log.e(TAG, "data is null");
            return null;
        }
        if (Constans.DEBUG) {
            //Log.i(TAG, "signedData: " + signedData);
        }
        boolean verified = false;
        if (!TextUtils.isEmpty(signature)) {
            /**
             * Compute your public key (that you got from the Android Market
             * publisher site).
             * 
             * Instead of just storing the entire literal string here embedded
             * in the program, construct the key at runtime from pieces or use
             * bit manipulation (for example, XOR with some other string) to
             * hide the actual key. The key itself is not secret information,
             * but we don't want to make it easy for an adversary to replace the
             * public key with one of their own and then fake messages from the
             * server.
             * 
             * Generally, encryption keys / passwords should only be kept in
             * memory long enough to perform the operation they need to perform.
             */
            String base64EncodedPublicKey = "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAuKgldGQPL/xV9WKLmY62UVgEm7gsPI/T/nQxRKpYN17m8Sq3gO9nWD17wXew4oNaHmMAmArS7s7eFi3Z+XiyWil1iZvEOdBOdZD502BzujPoBa4Fu9eITPBO9tzBEdvNLXf8amnsRj53TA4bcxB2O6OcXrQIv3t3n5Dg5Nn+rJpoKSNUv7NEzJagG/2NhyjIysAObbvQ5SBQ5NgRtZlvhsTeQJPMLhRAoRcTK/+47VkhrxM3PppeGjoNRryn6d+RhMjs/nydvoQtP2V76UcUu4m+daDnK3PxOnwLt50hNtQhNf3VgixVrSKfHUWp240uEz9MHstjj8BWPH9BFF/TewIDAQAB";
            PublicKey key = Security.generatePublicKey(base64EncodedPublicKey);
            verified = Security.verify(key, signedData, signature);
            if (!verified) {
                //Log.w(TAG, "signature does not match data.");
                return null;
            }
        }

        JSONObject jObject;
        JSONArray jTransactionsArray = null;
        int numTransactions = 0;
        long nonce = 0L;
        try {
            jObject = new JSONObject(signedData);

            // The nonce might be null if the user backed out of the buy page.
            nonce = jObject.optLong("nonce");
            jTransactionsArray = jObject.optJSONArray("orders");
            if (jTransactionsArray != null) {
                numTransactions = jTransactionsArray.length();
            }
        } catch (JSONException e) {
            return null;
        }

        if (!Security.isNonceKnown(nonce)) {
            //Log.w(TAG, "Nonce not found: " + nonce);
            return null;
        }

        ArrayList<VerifiedPurchase> purchases = new ArrayList<VerifiedPurchase>();
        try {
            for (int i = 0; i < numTransactions; i++) {
                JSONObject jElement = jTransactionsArray.getJSONObject(i);
                System.out.println("response--------------->"+jElement);
                int response = jElement.getInt("purchaseState");
                PurchaseState purchaseState = PurchaseState.valueOf(response);
                String productId = jElement.getString("productId");
                String packageName = jElement.getString("packageName");
                long purchaseTime = jElement.getLong("purchaseTime");
                String orderId = jElement.optString("orderId","");
                String notifyId = null;
                String purchaseToken=jElement.optString("purchaseToken",null);
                if (jElement.has("notificationId")) {
                    notifyId = jElement.getString("notificationId");
                }
                String developerPayload = jElement.optString(
                        "developerPayload",null);

                // If the purchase state is PURCHASED, then we require a
                // verified nonce.
                if (purchaseState == PurchaseState.PURCHASED && !verified) {
                    continue;
                }
                purchases.add(new VerifiedPurchase(purchaseState, notifyId,
                        productId, orderId, purchaseTime, developerPayload,purchaseToken));
            }
        } catch (JSONException e) {
            //Log.e(TAG, "JSON exception: ", e);
            return null;
        }
        removeNonce(nonce);
        return purchases;
    }

    /**
     * Generates a PublicKey instance from a string containing the
     * Base64-encoded public key.
     * 
     * @param encodedPublicKey
     *            Base64-encoded public key
     * @throws IllegalArgumentException
     *             if encodedPublicKey is invalid
     */
    public static PublicKey generatePublicKey(String encodedPublicKey) {
        try {
            byte[] decodedKey = Base64.decode(encodedPublicKey);
            KeyFactory keyFactory = KeyFactory
                    .getInstance(KEY_FACTORY_ALGORITHM);
            return keyFactory
                    .generatePublic(new X509EncodedKeySpec(decodedKey));
        } catch (NoSuchAlgorithmException e) {
            throw new RuntimeException(e);
        } catch (InvalidKeySpecException e) {
            //Log.e(TAG, "Invalid key specification.");
            throw new IllegalArgumentException(e);
        } catch (Base64DecoderException e) {
            //Log.e(TAG, "Base64 decoding failed.");
            throw new IllegalArgumentException(e);
        }
    }

    /**
     * Verifies that the signature from the server matches the computed
     * signature on the data. Returns true if the data is correctly signed.
     * 
     * @param publicKey
     *            public key associated with the developer account
     * @param signedData
     *            signed data from server
     * @param signature
     *            server signature
     * @return true if the data and signature match
     */
    public static boolean verify(PublicKey publicKey, String signedData,
            String signature) {
        if (Constans.DEBUG) {
            //Log.i(TAG, "signature: " + signature);
        }
        Signature sig;
        try {
            sig = Signature.getInstance(SIGNATURE_ALGORITHM);
            sig.initVerify(publicKey);
            sig.update(signedData.getBytes());
            if (!sig.verify(Base64.decode(signature))) {
                //Log.e(TAG, "Signature verification failed.");
                return false;
            }
            return true;
        } catch (NoSuchAlgorithmException e) {
            //Log.e(TAG, "NoSuchAlgorithmException.");
        } catch (InvalidKeyException e) {
            //Log.e(TAG, "Invalid key specification.");
        } catch (SignatureException e) {
            //Log.e(TAG, "Signature exception.");
        } catch (Base64DecoderException e) {
            //Log.e(TAG, "Base64 decoding failed.");
        }
        return false;
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T13:33:52.810

在 RELEASE 模式下运行您的应用程序，并且在 Manisfest 文件中将调试模式设置为 false。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-04-29T15:58:29.240

当您尝试购买产品时，您的购买产品流程应该是这样的：

```
mHelper.launchPurchaseFlow(this, sku, 1001,mPurchaseFinishedListener,finalBase64); 
```

当您尝试购买订阅时，您的购买流程应该是这样的

```
mHelper.launchSubscriptionPurchaseFlow(this, sku, 1002,
                mPurchaseFinishedListener,finalBase64); 
```

# android - 价值 我有在服务器中发布数据的代码，这是我的代码 List <namevaluepair>params = new ArrayList<namevaluepair>(); params.a 问问题 问问题 2012-10-08T05:43:05.980 4171 次 This question shows research effort; it is useful and clear 1 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. 我有在服务器中发布数据的代码，这是我的代码 List <namevaluepair>params = new ArrayList<namevaluepair>(); params.add(new BasicNameValuePair("phone", mPhoneNumber)); params.add(new BasicNameValuePair("prod_title", nama)); params.add(new BasicNameValuePair("prod_desc", des)); JSONObject json = jsonParser.makeHttpRequest(Constants.url_create_product, "POST", params); // check log cat from response Log.d("Create Response", json.toString()); try { int success = json.getInt(Constants.TAG_SUCCESS); if (success == 1) { // successfully created user Intent i = new Intent(getApplicationContext(), shoop3Activity.class); i.putExtra("phone", mPhoneNumber); startActivity(i); // closing this screen finish(); } else { // failed to create user Toast.makeText(getApplicationContext(),"Gagal bikin user", Toast.LENGTH_LONG).show(); } } catch (JSONException e) { e.printStackTrace(); } return null; } 但它显示这样的错误 10-08 12:36:11.857: INFO/ActivityManager(59): Displayed activity shoop3.android.edu/.Activity3: 1074 ms (total 1074 ms) 10-08 12:36:16.037: ERROR/JSON Parser(881): Error parsing data org.json.JSONException: Value

#### A PHP Error was encountered

Severity: Notice

Message: Undefined offset: 2

Filename: dingdong_loop/Abc.php

Line Number: 559

Backtrace:

File: /********************/********/*******/******/*****/******/*****/jaabong/dondon/Api.php
Line: 559
Function: dingdong_loop_handler

File: /********************/********/*******/******/*****/******/*****/mycontroller.php
Line: 793
Function: call_dingdon_loop_firay

File: //********************/********/*******/******/*****/******/*****/ /sample.php
Line: 315
Function: dingdong_loop_once

#### A PHP Error was encountered

Severity: Notice

Message: Undefined offset: 1

Filename: dingdong_loop/Api.php

Line Number: 559

Backtrace:

File: /********************/********/*******/******/*****/******/*****/Api.php
Line: 559
Function: dingdong_loop_handler

File: /********************/********/*******/******/*****/******/*****/ /sleep.php
Line: 793
Function: call_dingdong_loop_array

File: //********************/********/*******/******/*****/******/*****/wakeup.php
Line: 315
Function: dingdong_loop_once

{"isSuccess":true,"message":"Inserted successfully.","data":[]} 我设法将服务器响应作为字符串获取，然后将其解析为 JSONObject。 我联系了网络服务团队，他们修复了它。 有时是别人的错。 于 2019-01-31T13:12:11.003 回答 Related 1 mysql - 带有 Mac OS X 和 mysql2 的 Rails - LoadError: dlsym symbol not found 1 java - Hibernate SessionFactory getCurrentSession 在没有活动事务的情况下无效 1 arrays - 如何将一系列列值存储在二维数组中 5 jquery - 如何在 jQuery 中选择：#menu ul li:hover > ul？ 1 php - Internet Explorer 在加载 PHP 网页时返回错误：404？ 3 jquery - 如何防止效果在jquery中重复出现？ 1 jquery - JS 树 - select_node 不工作 1 matrix - 修改矩阵的元素 2 bundler - Nokogiri 已安装但在使用 nanoc 时未找到 0 git - Git 权限错误似乎无缘无故开始发生 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641</namevaluepair></namevaluepair></namevaluepair></namevaluepair>

> ID：12775917
> 
> 赞同：1
> 
> 时间：
> 
> 标签：android

我有在服务器中发布数据的代码，这是我的代码

```
List<NameValuePair> params = new ArrayList<NameValuePair>();
                    params.add(new BasicNameValuePair("phone", mPhoneNumber));
                    params.add(new BasicNameValuePair("prod_title", nama));
                    params.add(new BasicNameValuePair("prod_desc", des));

                    JSONObject json = jsonParser.makeHttpRequest(Constants.url_create_product, "POST", params);

                    // check log cat from response
                    Log.d("Create Response", json.toString());
                    try {
                       int success = json.getInt(Constants.TAG_SUCCESS);

                        if (success == 1) {
                            // successfully created user

                            Intent i = new Intent(getApplicationContext(), shoop3Activity.class);
                            i.putExtra("phone", mPhoneNumber);                      
                            startActivity(i);
                                // closing this screen
                            finish();
                        } else {
                            // failed to create user
                            Toast.makeText(getApplicationContext(),"Gagal bikin user", Toast.LENGTH_LONG).show();
                        }
                    } catch (JSONException e) {
                        e.printStackTrace();
                    }    
                    return null;
                } 
```

但它显示这样的错误

```
10-08 12:36:11.857: INFO/ActivityManager(59): Displayed activity shoop3.android.edu/.Activity3: 1074 ms (total 1074 ms)
10-08 12:36:16.037: ERROR/JSON Parser(881): Error parsing data org.json.JSONException: Value <div of type java.lang.String cannot be converted to JSONObject
10-08 12:36:16.037: DEBUG/Create Response(881): {"status":1}
10-08 12:36:16.127: INFO/ActivityManager(59): Starting activity: Intent { cmp=shoop3.android.edu/.setupstoreActivity (has extras) }
10-08 12:36:17.507: INFO/ActivityManager(59): Displayed activity shoop3.android.edu/.setupstoreActivity: 1191 ms (total 1191 ms) 
```

请问有什么解决办法吗？？它显示错误解析数据...字符串无法转换为 JSonObject

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T05:46:04.790

服务器正在响应 HTML 数据，而您正尝试将其解析为 JSON 数据。这行不通。您应该检查您传递给服务器的参数到底是什么，并在浏览器中进行测试。也许您需要登录/验证，但您没有传递 cookie 或其他什么？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:13:57.297

发生这种情况是因为您可能错过了任何 JSon 标记或将 JSonArray 提到为 JSonObject，反之亦然。再次检查并告知问题是否仍然存在

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-01-31T13:12:11.003

在我的应用程序中，由于服务器响应，我收到此错误。它返回成功，但添加了不必要的信息：

```
<div style="border:1px solid #990000;padding-left:20px;margin:0 0 10px 0;">

<h4>A PHP Error was encountered</h4>

<p>Severity: Notice</p>
<p>Message:  Undefined offset: 2</p>
<p>Filename: dingdong_loop/Abc.php</p>
<p>Line Number: 559</p>

<p>Backtrace:</p>
<p style="margin-left:10px">
File: /********************/********/*******/******/*****/******/*****/jaabong/dondon/Api.php<br />
Line: 559<br />
Function: dingdong_loop_handler </p>

<p style="margin-left:10px">
File: /********************/********/*******/******/*****/******/*****/mycontroller.php<br />
Line: 793<br />
Function: call_dingdon_loop_firay   </p>

<p style="margin-left:10px">
File: //********************/********/*******/******/*****/******/*****/ /sample.php<br />
Line: 315<br />
Function: dingdong_loop_once    </p>

</div>
<div style="border:1px solid #990000;padding-left:20px;margin:0 0 10px 0;">

<h4>A PHP Error was encountered</h4>

<p>Severity: Notice</p>
<p>Message:  Undefined offset: 1</p>
<p>Filename: dingdong_loop/Api.php</p>
<p>Line Number: 559</p>

<p>Backtrace:</p>
<p style="margin-left:10px">
File: /********************/********/*******/******/*****/******/*****/Api.php<br />
Line: 559<br />
Function: dingdong_loop_handler </p>

<p style="margin-left:10px">
File: /********************/********/*******/******/*****/******/*****/ /sleep.php<br />
Line: 793<br />
Function: call_dingdong_loop_array  </p>

<p style="margin-left:10px">
File: //********************/********/*******/******/*****/******/*****/wakeup.php<br />
Line: 315<br />
Function: dingdong_loop_once    </p>

</div>{"isSuccess":true,"message":"Inserted successfully.","data":[]} 
```

我设法将服务器响应作为字符串获取，然后将其解析为 JSONObject。

我联系了网络服务团队，他们修复了它。

有时是别人的错。

# c - 在c中包括自定义的头文件

> ID：12775918
> 
> 赞同：1
> 
> 时间：2012-10-08T05:43:10.543
> 
> 标签：c, header-files

我只是想在 C 中实现我自己的头文件。首先，我有一个文件 INC2.h

```
void diffadd(int b[], int n);
int diffcheck(int m); 
```

然后我制作一个文件 INC2.cpp

```
void diffadd(int b[], int n)
     {
     int i=0;
     for (i=0; i < n; i++)
          {
          b[i]=b[i]+1;
          printf("\n%d",b[i])
           }
      }
 int diffcheck(int m)
     {
      return (m*5);
      } 
```

然后在主文件 LETS.cpp

```
 #include"inc2.h" 
  void main()
      {
       clrscr();
       int a[5]={1,2,3,4,5};
       diffadd(a,5);
       int t=diffcheck(5);
       printf("t=%d",t);
       getch();
       } 
```

现在我编译inc2.cpp。美好的！

然后我编译lets.cpp。

我收到以下错误：

模块 LETS.cpp 中未定义的符号 diffcheck(int)

模块 LETS.cpp 中未定义的符号 diffadd(int near*, int)

有趣的是，如果我在 LETS.cpp 中包含 inc2.cpp，它可以工作。

如果我创建一个单独的头文件 HEAD.h 并在此处定义所有函数，则它可以工作。

请解释这里发生了什么！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T06:05:01.963

您应该在 Internet 上查找有关*程序链接*的一些教程。

当您编译单个`.c/.cpp`文件时，编译器通常会为您执行链接工作，并且您在其输出中拥有完整的可执行文件。但是当你有多个源文件时，事情就变得复杂了：每个源文件（不是`.h`头文件！）都被编译成一个中间文件，*目标文件*，其中包含一个*符号*列表（函数/变量名称/内存中的地址- 所有驻留在内存中且对外部文件可见的文件提供的文件以及文件所需的单独符号列表。这个阶段称为`compilation`自身。然后你有一堆目标文件，可以与一个特殊的程序*链接器*组合成你想要的可执行文件——这被称为`linking`一个程序。链接器获取所有文件的必需/提供符号列表，并查找是否可以在所有目标文件的给定符号集中找到所有必需符号，然后*将*提供的函数链接到需要它们的位置。

头文件只是包含在源文件（.c/.cpp）中的文本存根，它们不是编译的主题（有一些例外）。

因此：将您编译`inc2.cpp`成一个目标文件，编译`lets.cpp`成另一个目标文件，然后让链接器将它们组合成可执行文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T06:37:48.307

当我第一次定义自己的头文件时，我也遇到了同样的错误。然后我定义了一个带有函数定义的头文件，这对我有用。

你只需要做的就是。定义头文件如

```
//inc2.h
void diffadd(int b[], int n)
 {
 int i=0;
 for (i=0; i < n; i++)
      {
      b[i]=b[i]+1;
      printf("\n%d",b[i])
       }
  } 
```

int diffcheck(int m) { return (m*5); }

之后调用主文件中的函数，如

```
//Lets.cpp
#include"inc2.h" 
void main()
  {
   clrscr();
   int a[5]={1,2,3,4,5};
   diffadd(a,5);
   int t=diffcheck(5);
   printf("t=%d",t);
   getch();
   } 
```

它也可能对你有用。

您也可以编写头文件，例如名称#include“inc2.pp”，这也可以。

# c - 在 C 中查找范围

> ID：12775919
> 
> 赞同：1
> 
> 时间：2012-10-08T05:43:15.820
> 
> 标签：c, function, range

因此，在我的程序中，我编写了一个函数来查找一组数字的范围，不幸的是它似乎无法正常工作。而不是给我最小数字和最大数字之间的差异，而是给我这个：

```
(3) Range
(4) Restart/Exit
3
7900455959466841600000000000000000.0 
```

我浏览了整个互联网，虽然我找到了几个有用的例子来说明如何做到这一点，但它们似乎并没有解决这个问题。这是我的功能，如果有人需要查看整个代码，请告诉我。

```
 float range(float numbers[], int amount)
 {
  int i;
  float diff=0;
  for (i=1;i<=amount;i++){

      diff=numbers[amount]-numbers[1];
  }

      printf("%.1f",diff);

      return diff;
   } 
```

我已经尝试了所有我能想到的，任何建议

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-08T05:53:21.153

你想要这样的东西：

```
float range(float numbers[], int amount)
{
    int i;
    float min, max, diff;
    min = numbers[0];
    max = numbers[0];
    for (i=1; i < amount; i++)
    {
        if (numbers[i] < min) min = numbers[i];
        if (max < numbers[i]) max = numbers[i];
    }

    diff = max - min;

    printf("%.1f",diff);

    return diff;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T05:57:54.583

如果您的数组是有序的，则问题简化为：

```
/* assuming ammount point to the last position of the array */
return numbers[ammount] - numbers[0] 
```

如果数组未排序，则必须构建一个循环以获取数组的最大和最小元素以返回其差值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T06:06:15.243

您的金额变量最好命名为highestIndex

为了修复您的代码，我可以看到您可能会做的两件事：

1）。了解您当前的代码在做什么。尝试“桌面检查”。在纸上（或在您的脑海中）为此功能发明一些输入。

```
 numbers = [ 2, 17, 4, 10];  amount = 3;

 i = 1, is 1 <=3 ? yes, OK go into the body

 diff = numbers[3] - numbers[1] which is 10 - 17, so diff is now -7

 increment i, i = 2, is 2 <=3 ? yes, OK go into the body

 diff = numbers[3] - numbers[2] which is 10 - 4, so diff is now 6

 increment i, i = 3, is 3 <=3 ? yes, OK go into the body

 diff = numbers[3] - numbers[2] which is 10 - 10, so diff is now 0

 increment i, i = 4, is 3 <=3 ? no. so leave the loop

 print diff ... hmmm it's 0 at the moment 
```

这里的诀窍是选择一个小的示例集，看看处理是否有意义。显然，除非输入数组已排序，否则这永远无法找到范围，但在这种情况下，您需要循环，只需减去 numbers[highestIndex] 和 numbers[0]。

2）。现在你需要做什么？范围是列表中最大数字和最小数字之间的差。因此，您的代码需要查看列表并找到最大和最小的数字。尝试这样开始

初始化候选值，注意如果你的列表只有一个成员这是正确的，那么最大和最小是相同的，列表中唯一的值

```
 float biggest = numbers[0];
  float smallest = numbers[0]; 
```

然后循环查看是否有任何其他数字大于或小于您当前的最大和最小。

```
 for ( int i = 1; i <= highestIndex; i++ ) {

         is numbers[i] bigger than biggest
               set new biggest value

         do the same sort of thing for smallest

  }

  print biggest - smallest 
```

然后为了获得额外的信用，看看如果所有数字都是负数会发生什么以及在特殊情况下会发生什么，请阅读浮点数可以保持的值。

# c++ - 将整数行读入向量

> ID：12775920
> 
> 赞同：5
> 
> 时间：2012-10-08T05:43:19.447
> 
> 标签：c++, vector, while-loop, std

请看下面的代码

```
int main()
{
    cout << "Enter numbers (-1 to stop entering; -2 to exit)" << endl;

    while(cin>>enterNumber)
    {
     numbers.push_back(enterNumber);
    }

    for(size_t size=0;size<numbers.size();size++)
    {
        cout << numbers[size] << endl;
    }
} 
```

我在这里尝试做的是这样的

1.  输入数字列表（例如：1 2 3 4 5 6 7 8 9 0 11）
2.  将它们全部读入向量中
3.  打印它们

在这里，当我按下回车键时，什么都没有发生！似乎循环没有退出。当我按下回车键时如何打印值？

**更新**

我按照答案中给出的建议编辑了代码。

```
int main()
{
    cout << "Enter numbers (-1 to stop entering; -2 to exit)" << endl;

    std::string line;
getline(std::cin, line);
std::istringstream iss(line);
while (iss >> enterNumber)
{
    numbers.push_back(enterNumber);
}

    for(size_t size=0;size<numbers.size();size++)
    {
        cout << numbers[size] << endl;
    }
} 
```

但它现在给出了另一个错误

```
"/usr/bin/make" -f nbproject/Makefile-Debug.mk QMAKE= SUBPROJECTS= .build-conf
make[1]: Entering directory `/cygdrive/c/Users/yohan/Documents/NetBeansProjects/Excersice 6'
"/usr/bin/make"  -f nbproject/Makefile-Debug.mk dist/Debug/Cygwin-Windows/excersice_6.exe
make[2]: Entering directory `/cygdrive/c/Users/yohan/Documents/NetBeansProjects/Excersice 6'
mkdir -p build/Debug/Cygwin-Windows
rm -f build/Debug/Cygwin-Windows/Multiple.o.d
g++    -c -g -MMD -MP -MF build/Debug/Cygwin-Windows/Multiple.o.d -o build/Debug/Cygwin-Windows/Multiple.o Multiple.cpp
Multiple.cpp: In function `int main()':
Multiple.cpp:22: error: variable `std::istringstream iss' has initializer but incomplete type
Multiple.cpp:60:3: warning: no newline at end of file
make[2]: *** [build/Debug/Cygwin-Windows/Multiple.o] Error 1
make[1]: *** [.build-conf] Error 2
make: *** [.build-impl] Error 2
nbproject/Makefile-Debug.mk:78: recipe for target `build/Debug/Cygwin-Windows/Multiple.o' failed
make[2]: Leaving directory `/cygdrive/c/Users/yohan/Documents/NetBeansProjects/Excersice 6'
nbproject/Makefile-Debug.mk:61: recipe for target `.build-conf' failed
make[1]: Leaving directory `/cygdrive/c/Users/yohan/Documents/NetBeansProjects/Excersice 6'
nbproject/Makefile-impl.mk:39: recipe for target `.build-impl' failed

BUILD FAILED (exit value 2, total time: 1s) 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-10-08T05:46:37.993

使用 将 cin 中的一行读入字符串[`getline`](http://en.cppreference.com/w/cpp/string/basic_string/getline)。然后将该字符串放入`istringstream`. 然后从`istringstream`你现在使用的地方读取`cin`。

```
std::string line;
getline(std::cin, line);
std::istringstream iss(line);
while (iss >> enterNumber)
{
    numbers.push_back(enterNumber);
} 
```

# php - 如何检查 URL 是否是 PHP 中的有效 RSS 提要

> ID：12775921
> 
> 赞同：8
> 
> 时间：2012-10-08T05:43:24.627
> 
> 标签：php, rss

我有以下代码：

```
 function parse() {
        $content = file_get_contents($this->feed);        
        $rss = new SimpleXmlElement($content);
        $rss_split = array();
        $i = 0;
        foreach ($rss->channel->item as $item) {
            $title = (string) $item->title; // Title
            $link = (string) $item->link; // Url Link            
            $content = $item->children('content', true)->encoded;
            preg_match('/<img.+src=[\'"](?P<src>.+)[\'"].*>/i', $content, $image);
            $image = substr($image['src'], 0, strpos($image['src'], '"'));
            $rss_split[$i]['title'] = $title;
            $rss_split[$i]['link'] = $link;
            $rss_split[$i]['image'] = $image;
            $i++;
        }
        return $rss_split;
    } 
```

在这里，`$this->feed`包含 RSS 提要的 URL。问题是我不知道如何验证 URL 以确保它是有效的 RSS 提要。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-10-08T05:56:05.043

要验证它是 XML：

```
function parse()
{
    $content = file_get_contents($this->feed); 
    try { $rss = new SimpleXmlElement($content); }
    catch(Exception $e){ /* the data provided is not valid XML */ return false; }
    // rest of your function goes here 
```

确认它是 XML 后，您有几个选择：

1.  您可以检查以确保`isset($rss->channel->item)`存在并且`$rss->channel->item->count()`> 0。
2.  您可以使用`count($rss->xpath(/channel/item)) > 0`.

我个人会使用 xpath，因为我在阅读代码时发现它更明显一些。

* * *

## 边注：

严重地？您已经获得了 XML 对象。你为什么使用正则表达式？

不要这样做：

```
preg_match('/<img.+src=[\'"](?P<src>.+)[\'"].*>/i', $content, $image); 
```

当这是一个有效选项时：

```
$g = $item->xpath('//img'); $g[0]->attributes()->src; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T05:49:51.563

愿这对你有所帮助。

```
?php

function validateFeed( $sFeedURL )
{

$sValidator = 'http://feedvalidator.org/check.cgi?url=';

if( $sValidationResponse = @file_get_contents($sValidator . urlencode($sFeedURL)) )
{
    if( stristr( $sValidationResponse , 'This is a valid RSS feed' ) !== false )
    {
        return true;
    }
    else
    {
        return false;
    }
}
else
{
    return false;
}
}

?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T05:49:41.577

用这个

```
$rss = new SimpleXmlElement($content);
if($rss)
{
     //your code
}
else
{ return false; } 
```

# windows-8 - 如何在屏幕中设置控件以适应 Windows 8 中的所有分辨率？

> ID：12775930
> 
> 赞同：1
> 
> 时间：2012-10-08T05:44:36.407
> 
> 标签：windows-8

任何人请告诉我如何设计适合所有分辨率的屏幕。Windows 8 中有不同的分辨率屏幕。任何 9 补丁工作需要做或解决这个问题。请告诉我解决方案？如何为此编写代码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T13:03:01.010

您的 UI 必须设计为根据屏幕分辨率动态缩放。

以下快速入门中提供了技术细节：[使用 C#/VB/C++ 和 XAML 定义布局](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/Hh465337.aspx)（这里是[JavaScript 和 HTML 版本](http://msdn.microsoft.com/en-us/library/windows/apps/hh465343.aspx)）。

您还应该阅读构建 Windows 8 中的以下博客文章：[缩放到不同的屏幕](http://blogs.msdn.com/b/b8/archive/2012/03/21/scaling-to-different-screens.aspx)。它提供了很多背景信息。

# google-apps-script - 谷歌应用程序脚本使用 jdbc 将日期插入表

> ID：12775932
> 
> 赞同：2
> 
> 时间：2012-10-08T05:44:48.447
> 
> 标签：google-apps-script

我试图在我的一个 Oracle 表中插入一个日期，我尝试使用 setTimestamp、setDate 甚至 setObject，但这些方法都不起作用。任何人都知道插入日期值的正确方法是什么？

```
var stmt = conn.prepareStatement("insert into blob_table (filename,blob_field,date_insert) values (?,?,?)");
var date_insert=new Date();

stmt.setString(1, mess.getAttachments()[0].getName());
stmt.setBytes(2, mess.getAttachments()[0].getBytes());
//stmt.setTimestamp(3,(JdbcTimestamp)date_insert.getTime);
stmt.setObject(3, date_insert);
//stmt.setDate(3,date_insert.getDate() ); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2016-02-04T00:50:13.113

您应该使用该`Jdbc.newTimestamp`方法来创建`JdbcTimestamp`对象，如[文档](https://developers.google.com/apps-script/reference/jdbc/jdbc#newTimestamp(Integer))中所述。

例子：

```
var date_insert = new Date();
var jdbc_timestamp = Jdbc.newTimestamp(date_insert.getTime());
...
stmt.setTimestamp(x, jdbc_timestamp); 
```

同样的原则适用于`JdbcDate`和`JdbcTime`。

在你的情况下：

```
var stmt = conn.prepareStatement("insert into blob_table (filename,blob_field,date_insert) values (?,?,?)");

var date_insert = new Date();
var timestamp = Jdbc.newTimestamp(date_insert.getTime());

stmt.setString(1, mess.getAttachments()[0].getName());
stmt.setBytes(2, mess.getAttachments()[0].getBytes());
stmt.setTimestamp(3, timestamp); 
```

如果您需要处理特定的时区，您可以使用另一种方法。在此示例中，我使用与正在处理的电子表格相同的时区：

```
var ss = SpreadsheetApp.getActiveSpreadsheet();
var js_date = new Date();
var date_str = Utilities.formatDate(js_date, ss.getSpreadsheetTimeZone(), 'yyyy-MM-dd HH:mm:ss');
var timestamp = Jdbc.parseTimestamp(date_str);
stmt.setTimestamp(x, timestamp); 
```

希望能帮助到你 ：）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-06-15T09:06:22.973

首先通过以下方式将您的日期转换为字符串：

```
var stringDate=Utilities.formatDate(new Date(date_insert), "GMT+05:30", "yyyy-MM-dd h:mm:ss ");
Logger.log("stringdate  "+stringDate); 
```

现在使用设置对象：

```
stmt.setObject(3,stringDate); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T12:05:00.557

我不是 Oracle 专家，但在过去，我实际上将当前时间计算推送到 Oracle/DB 中，而不是在应用层（此处为应用脚本）中执行此操作。Oracle（与其他数据库一样）具有“当前时间”计算宏/特殊功能。因此，如果您像这样重新编写 INSERT 语句 - 从 -

> 插入 blob_table (filename,blob_field,date_insert) 值 (?,?,?)

至 -

> 插入 blob_table (filename,blob_field,date_insert) 值 (?,?, **CURRENT_TIMESTAMP** )

然后您不再需要从 Apps 脚本中传递时间。您可以在 Oracle 文档中看到更多关于[格式化](http://docs.oracle.com/cd/B19306_01/server.102/b14200/functions037.htm)和时区处理的方法。这也将使您的代码更简单几行。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-24T00:54:53.877

我开发了一个库来处理 JDBC 数据库（和电子表格），它可以轻松处理 MySQL 数据库中的日期/时间。您想尝试一下并告诉我它在 Oracle 中是否同样有效吗？

[http://www.harryonline.net/scripts/objdb-storing-data-with-google-apps-script/482](http://www.harryonline.net/scripts/objdb-storing-data-with-google-apps-script/482)

# java - 静态变量怎么会被序列化？

> ID：12775938
> 
> 赞同：7
> 
> 时间：2012-10-08T05:45:09.467
> 
> 标签：java, serialization, static-members

```
public class MySerializable implements Serializable{

    private int x=10;
    private static int y = 15;
    public static void main(String...args){
        AnotherClass a = new AnotherClass();
        AnotherClass b;
        //Serialize
        try {
            FileOutputStream fout = new FileOutputStream("MyFile.ser");
            ObjectOutputStream Oout = new ObjectOutputStream(fout);
            Oout.writeObject(a);
            System.out.println( a.toString());
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

        //De-serialize
        try {
            FileInputStream fis = new FileInputStream("MyFile.ser");
            ObjectInputStream  Oin = new ObjectInputStream (fis); 
            b = (AnotherClass) Oin.readObject();
            System.out.println( b.toString());
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }catch (ClassNotFoundException e){
            e.printStackTrace();
        }

    }
}

class AnotherClass  implements Serializable{  

    transient int x = 8;  
    static int y = 9;  

    @Override  
    public String toString() {  
        return "x : " + x + ", y :" + y;  
    }  
} 
```

你能告诉我静态变量是如何序列化的吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-08T05:56:12.513

显然，静态变量可以序列化（但你不应该这样做），因为**序列化**是**保存类***实例*状态的过程，并且静态变量对所有实例都是通用的。他们没有说任何关于实例的状态，所以，它根本没有意义。

假设您被允许序列化一个静态变量。然后，当您反序列化实例时，您将获得该变量的旧副本，从那时起可能已更改。由于静态变量在类的所有实例之间共享，因此任何实例对变量的更改都必须反映在该实例中。

因此，它们不应该被序列化，因为在这些条件下的变量可能会违反其作为静态变量的合同。

**序列化**： -

*   不应该序列化静态变量..

**反序列化**： -

*   实例将获得与类一起加载的静态字段。因此，可能对该变量所做的任何更改也将对该实例负责。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-08T07:37:40.360

MySerializable 类的当前输出如下

```
x : 8, y :9
x : 0, y :9 
```

在这种情况下，静态变量在调用**toString() 方法**后被打印出来，此时它将从类级变量中读取值。

尝试这个：

在 MySerializable 类中添加这行代码在`//Serialize`block之后

```
AnotherClass.y = 5; 
```

输出是：

```
x : 8, y :9
x : 0, y :5 
```

这意味着静态变量没有存储在文件中，它将通过 toString() 方法动态读取。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T05:59:34.133

**-** `Serialization`用于在序列化过程中保存**对象的状态**，因此在反序列化过程中，可以使用保存的状态来恢复堆上的相同对象。

**-** **是** `static`的变量可以，`serialized`但它**没有任何意义**.....

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-09-08T17:08:16.283

静态变量不能也不能序列化。

您的问题似乎是基于这样一个事实，即您在序列化之后从静态变量中看到与序列化之前相同的值，但这不是因为值被序列化和恢复。

这种行为是因为该静态变量的静态初始化程序将其设置为 9，并且它永远不会更改。

要验证静态变量是否未序列化，您可以执行 NPKR 的建议更改，在序列化和反序列化之间修改静态字段，或者您可以执行以下操作：

运行这个程序，然后注释掉执行序列化的位。结果，您将在磁盘上拥有旧的序列化版本。

然后将静态字段的静态初始化器更改为`y = 5`，再次运行程序：您将得到 'x: 0 y: 5 `as the output, because the value`9` of the static field was not restores。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-02-01T17:19:16.743

```
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.io.Serializable;

class TestJava implements Serializable{
    public static int k = 10;
    public int j=5;
public static void main(String[] args) {

    TestJava tj1= new TestJava();
    TestJava tj2;

        try{ //serialization
            FileOutputStream fos = new FileOutputStream("myclass.ser");
            ObjectOutputStream oos = new ObjectOutputStream(fos);
            oos.writeObject(tj1);
            oos.close();
            fos.close();
            System.out.println("object serielized 1..."+tj1.j);
            System.out.println("object serielized 2..."+tj1.k);
            System.out.println("object serielized 3..."+k);
            k=++k; // 'k' value incrementd after serialization
          } catch(FileNotFoundException fnfe){
             fnfe.printStackTrace();
          } catch(IOException ioex){
             ioex.printStackTrace();
          }

          try{ //deserialization
              FileInputStream fis = new FileInputStream("myclass.ser");
              ObjectInputStream ois = new ObjectInputStream(fis);
              tj2 = (TestJava) ois.readObject();
              ois.close();
              fis.close();
              System.out.println("object DEEEEserielized 1..."+tj2.j);
              System.out.println("object DEEEEserielized 2..."+tj2.k); 
              System.out.println("object DEEEEserielized 3..."+k); 
            // in deserialization 'k' value is shown as incremented. 
            // That means Static varialbe 'K' is not serialized.
            // if 'K' value is serialized then, it has to show old value before incrementd the 'K' value.
            } catch(FileNotFoundException fnfe){
              fnfe.printStackTrace();
            } catch(IOException ioex){
              ioex.printStackTrace();
            } catch(ClassNotFoundException CNFE){
              CNFE.printStackTrace();                   
           }
      }
}

/* Output of the above program

object serielized 1...5
object serielized 2...10
object serielized 3...10
object DEEEEserielized 1...5
object DEEEEserielized 2...11
object DEEEEserielized 3...11

*/
```

# ember.js - emberjs 处理 dom 事件

> ID：12775944
> 
> 赞同：2
> 
> 时间：2012-10-08T05:45:43.920
> 
> 标签：ember.js

emberjs 新手，在阅读了一些文章后，我对 emberjs dom 句柄机制感到困惑。

从幻灯片：[http](http://www.lukemelia.com/blog/archives/2012/08/23/architecting-ember-js-apps/) ://www.lukemelia.com/blog/archives/2012/08/23/architecting-ember-js-apps/第 41 页：我们现在有 3 种选择来处理 dom 事件：1\. ember 调度事件，如：mouseDown。2\. 动作助手 3\. 在 didInsertElement 或其他回调中并在响应文档的浏览器事件部分：http://emberjs.com/api/classes/Ember.View.html[我们](http://emberjs.com/api/classes/Ember.View.html)事件有事件管理器。

我的理解是 1\. 当动作会导致应用程序状态更改或获取数据时，我们应该使用动作助手 2\. 使用 didInsertElement 集成其他库，例如 flexslider(initialize) 3\. 否则使用 ember 调度事件

我的理解正确吗？这是处理 dom 事件的 ember 祝福方式吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-22T07:22:42.920

这应该可以帮助您更多地了解[概念](https://github.com/emberjs/website/blob/doc-refactor/source/guides/getting-started/core-concepts.md)

# java - 如何重新调整 Barbecue API 生成的文本大小？

> ID：12775947
> 
> 赞同：3
> 
> 时间：2012-10-08T05:45:47.930
> 
> 标签：java, resize, barcode, barbecue

我正在尝试使用 Barbecue API 生成条形码。我面临的问题是，当我尝试重新调整条码的大小时，打印在条码下方的文本形式的代码保持相同的大小。我也需要减少它的一面。我尝试了以下代码：

第 1 部分：原始尺寸条码

```
Barcode b = BarcodeFactory.create2of7("4561");
b.setBarHeight(5);
b.setBarWidth(1);
PrinterJob job = PrinterJob.getPrinterJob();
job.setPrintable(b);
if (job.printDialog())
{
        job.print();
} 
```

第 2 部分：调整大小的代码

```
Barcode b = BarcodeFactory.create2of7("4561");
b.setBarHeight(5);
b.setBarWidth(1);
PrinterJob job = PrinterJob.getPrinterJob();
job.setPrintable(b);
if (job.printDialog())
{
job.print();
} 
```

下面是条形码的输出图像：

![两部分的输出](../Images/c8d95d98a6ec730267572f1857142f89.png)

如您所见，代码大小保持不变。我怎样才能减小它的大小？请帮帮我。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-07-27T21:26:25.233

条形码 b;

b.setFont(null);

这将帮助您将字体大小设置为 0。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-08T07:16:05.657

`BarCodeBuilder`如果`Barcode` 只是喜欢， 请改用类

```
 BarCodeBuilder b=new BarCodeBuilder();
  b.setCodeText("abc123");
  b.setSymbologyType(Symbology.Codabar);
  b.setResolution(new Resolution(50f,40f,ResolutionMode.Graphics)); 
```

这个对我有用...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-12T09:45:09.190

我想，你应该使用 Barcode.setFont() 方法来设置字体大小

[参考](http://barbecue.sourceforge.net/apidocs/net/sourceforge/barbecue/Barcode.html#setFont%28java.awt.Font%29)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-11-11T13:42:10.377

由于**net.sourceforge.barbecue.Barcode**的 getFont() 返回一个很好的旧 null，您要么必须构造一个**Font**对象，要么从某个地方获取一个，并根据自己的喜好更改其大小，然后将其分配给**带有**.设置字体（）。

它适用于我的代码：

```
Graphics2D g2d = (Graphics2D) graphics;
Barcode b = BarcodeFactory.createCode128("Hello");
Font deriveFont = g2d.getFont().deriveFont(8.5f); //copy of original Font with given size
b.setFont(deriveFont); 
```

**字体**大小不是以像素为单位的！我相信它的维度是点。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-06-14T13:46:03.057

我试过了，它奏效了：

```
 Barcode barcode;
    barcode = BarcodeFactory.createCode128B(Integer.toString("my barcode"));
    barcode.setBarHeight(40);
    barcode.setBarWidth(2);
    barcode.setFont(new Font(Font.SANS_SERIF, Font.PLAIN, 10)); 
```

# css - 访问 Css3 媒体中的嵌套 Div

> ID：12775957
> 
> 赞同：0
> 
> 时间：2012-10-08T05:46:29.233
> 
> 标签：css, responsive-design

我想根据屏幕大小调整图像大小[使用 css3 @media 800,900]

代码如下：

```
<div id="content-area">
<div class="view-contnet">
<div class="view_view_develop">
<div class="content_viewing">

<img scr="c:regelis\a.png" width="670" height="880" title="hi" >
@media and (max -width:880)
{
.content_viewing img
{
width=50%
}

The image is not resizing when i resize my browser

} 
```

# java - 如何在java中将复杂的字符串解析为日期

> ID：12775966
> 
> 赞同：-1
> 
> 时间：2012-10-08T05:47:29.707
> 
> 标签：java

> **可能重复：**
> [如何在 java 中解析日期？](https://stackoverflow.com/questions/999172/how-to-parse-date-in-java)
> [如何在 Java 中将 2010-12-15T16:26:49.841-08:00 转换为 GregorianCalendar？](https://stackoverflow.com/questions/4457108/how-do-i-convert-2010-12-15t162649-841-0800-to-a-gregoriancalendar-in-java)

示例字符串：

```
2009-06-04T11:17:14-07:00 
```

我不确定如何为此构造格式化程序字符串。任何人都可以帮忙吗？谢谢！:)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T06:06:52.820

对我来说，这看起来像是一个完全正常的 ISO-8601 日期/时间。您应该能够[`SimpleDateFormat`](http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html)使用内置 API 或[`DateTimeFormatter`](http://joda-time.sourceforge.net/apidocs/org/joda/time/format/DateTimeFormatter.html)在[Joda Time](http://joda-time.sf.net)中使用模式`"yyyy-MM-dd'T'HH:mm:ssX"`(SimpleDateFormat) 或`"yyyy-MM-dd'T'HH:mm:ssZ"`( `DateTimeFormatter`) 来解析它。请注意，“X”格式符号仅在 Java 7 中引入；如果您需要在 Java 6 或更早版本中执行此操作，您可能需要去除偏移文本中的冒号（因此`-07:00`会变成`-0700`）。

就个人而言，我建议您无论如何都使用 Joda Time - 它解决了 Java 版本问题，而且它通常是更好的 API。

# android - Android 手机作为回收站工作

> ID：12775967
> 
> 赞同：2
> 
> 时间：2012-10-08T05:47:33.257
> 
> 标签：android, android-intent, broadcastreceiver

我是 Android 开发的新手。

![在此处输入图像描述](../Images/a92a2f206e3e1433dfba9a8cdd9082f6.png) 我的问题是当我们从 Android 设备中删除一个项目时。我想恢复我们从手机中删除的任何内容。就像计算机中的回收站。我无法遵循这个`BroadcastReceiever`流程。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-08T11:27:40.660

> 我的问题是当我们从 Android 设备中删除一个项目时。

Android中有一个通用“项目”的概念，更不用说删除一个了。

> 我无法关注此 BroadcastReceieverflow。

那是因为没有发送与删除操作相关的广播。

# vim - 在 OS X Mountain Lion 上编译 VIM

> ID：12775972
> 
> 赞同：1
> 
> 时间：2012-10-08T05:48:22.133
> 
> 标签：vim, osx-mountain-lion

在 Mountain Lion 上编译 VIM 对我不起作用。我按以下顺序编译 VIM：

```
hg clone https://vim.googlecode.com/hg/ vim
cd vim
./configure --enable-rubyinterp --with-features=huge -prefix=/usr
make 
```

然后我尝试使用 启动编译的二进制文件`src/vim`，但它会像这样崩溃：

```
$ src/vim
Vim: Caught deadly signal SEGV
Vim: Finished.
Segmentation fault: 11 
```

我在这里想念什么？

* * *

## 回答 #1

> 赞同：-5
> 
> 时间：2012-10-08T07:05:46.717

**不要在 MAC OS X 上编译 Vim。**

这完全是浪费时间。

在 Mac OS X 上运行 Vim 最简单、最可靠的方法是下载并安装[MacVim](http://code.google.com/p/macvim/)。一些优点是：

*   您将在比运行时间更短的时间内启动并运行`./configure`，

*   它包含您需要的所有功能，

*   它可以与任何 Python 或 Ruby 一起工作，

*   它不会触及任何系统文件，

*   它比您最终能够自己构建的任何东西都要快得多。

您甚至可以使用包含的`mvim`脚本在终端中运行它。

Vim 也可以通过[MacPorts](http://www.macports.org/)或[Homebrew](https://github.com/mxcl/homebrew)获得。

当然，除非你*真的*想弄乱源代码。在这种情况下，您可能应该查看`configure`: 也许您缺少一些库的输出。

# java - JPA 中的最大可能日期

> ID：12775978
> 
> 赞同：1
> 
> 时间：2012-10-08T05:48:57.003
> 
> 标签：java, database, hibernate, date, jpa

有没有办法在 JPA 中表示最大（和最小）可能的日期而不是特定于数据库的？JPA 实现应该能够根据使用的方言将其转换为正确的值。

如果不是 JPA，Hibernate 特定的解决方案也可以。

**编辑**

在我们使用的应用程序中，有几个命名查询用于测试日期是否在给定范围内

```
SELECT ... FROM ... WHERE somedate BETWEEN startdate AND end date 
```

如果范围是开放的（只有开始日期，或者只有结束日期），那么使用最大和最小日期会更容易，只需进行一次比较即可进行不同的查询（这将需要对现有应用程序进行一些更改，我想避免）。

**编辑 2**

对于*不是真正问题*的选民：问题是：

可以以与数据库无关的方式查询最大可能日期吗？

**编辑 3**

该应用程序存储日期`java.util.Date`如下

```
@Temporal( TemporalType.TIMESTAMP )
private java.util.Date someDate; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T10:05:37.463

我相信（还）没有这样的功能可以以 DB 中立的方式获取最大/最小日期。

我建议您根据要使用的 DBMS，在 Java 和 DB 存储函数中定义相应的常量。

因此，您可以执行以下操作：

```
Query query = session.createQuery("from Foo where date between :fromDate and :toDate");
query.setParameter("fromDate", DateConstants.MIN_DATE);
query.setParameter("toDate", DateConstants.MAX_DATE); 
```

（我曾经称它为 FOREVER 和 EPOCH :P）

甚至有这样的 HQL（如果您在 DB 中创建了存储函数）

`from Foo where date between MaxDate() and MinDate()`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T17:21:24.660

一种选择是定义一个为您提供该信息的数据库函数。为您计划使用的每个数据库供应商定义它。然后使用该函数获取“当前使用的”数据库的最大日期。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-08T06:06:04.137

看看[在java中获得最大日期值的最佳方法？](https://stackoverflow.com/questions/1743985/best-way-to-get-maximum-date-value-in-java). 只要您使用 Date 作为 java 类型，使用 JPA 或 Hibernate 应该没有区别。示例：

```
import java.util.Date;

@Entity
public class Foo {

   @Id
   @GeneratedValue
   long id;

   Date Bar;

   public void  setBar(Date bar) {
      this.bar = bar;
   }

   public Date getBar() {
      return bar;
   }
}

...

// An Entity
Foo foo;

// set minimum date
foo.setBar(new Date(0));

// set maximum date
foo.setBar(new Date(Long.MAX_VALUE)); 
```

# linux - 内核模块 Rpi 中的周期性任务

> ID：12775983
> 
> 赞同：1
> 
> 时间：2012-10-08T05:49:25.840
> 
> 标签：linux, module, kernel, raspberry-pi

我目前正在为自定义协议开发一个基于 gpio 的内核模块。根据协议的要求，我必须通过 gpio 将数据、时钟和使能信号发送到输出设备。该数据是 16 位的。为了发送任何新数据，使能信号首先变高。然后，在时钟的每个下降沿（从高到低）发送数据 1 个 1 位。发送完所有 16 位后，时钟信号停止，使能信号变为低电平。

我已经用 FriendlyARM mini2440 成功开发了这个协议。那时我已经使用了一个计时器并设置了它的 irq。在其服务程序中，我已将数据 1 逐位发送。

我目前在 Raspberry pi 中做同样的事情。我已经阅读了 BCM2825 的数据表，上面说它有 4 个系统定时器。但是，通过 Rpi 论坛搜索，我发现 Rpi 使用系统计时器 0、2 和 3。因此，我想使用的只有一个系统计时器 1。我不知道如何在 Rpi 上设置系统计时器。有人在内核模块中使用过它吗？那么请帮忙。

而不是编写内核模块，如果我用 xenomai 补丁来修补 linux 内核，那么设置一个周期性定时器并通过它的定时器中断例程发送数据会很容易吗？

有什么建议么？提前致谢。

# python - Python字符串到列表对象

> ID：12775984
> 
> 赞同：0
> 
> 时间：2012-10-08T05:49:36.560
> 
> 标签：python

我有这个字符串（代表一个 JSON 值）：

```
BABEL_JSON = "{
    'BD': u'Bangladesh', 
    'WF': u'Wallis y Futuna', 
    'BF': u'Burkina Faso'
}" 
```

我需要转换成这样的 List 对象：

```
BABEL_LIST = [
    ("BD", u"Bangladesh"),
    ("WF", u"Wallis y Futuna"),
    ("BF", u"Burkina Faso")
] 
```

什么是最好的方法？首先我尝试过：

```
import json
BABEL_LIST = json.loads(str(BABEL_JSON)) 
```

但我有这个错误：

```
TypeError: 'NoneType' object is not callable 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T06:13:46.750

您需要使用文字 eval，因为您的内容不是有效的 JSON，它是作为字符串的 python 字典。

文字 eval 安全地评估有效的 python 对象。

```
import ast

BABEL_JSON = """{                                                               
    'BD': u'Bangladesh',                                                        
    'WF': u'Wallis y Futuna',                                                   
    'BF': u'Burkina Faso'                                                       
}"""

myDict = ast.literal_eval(BABEL_JSON)
print(myDict.items()) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T06:13:18.717

您没有有效的 json 字符串。在 json 中，字符串是用`"`. 字符串前面的`u`也不允许。您必须将初始的类似 json 的字符串转换为有效的字符串：

```
import json
BABEL_JSON ="""{
    'BD': u'Bangladesh', 
    'WF': u'Wallis y Futuna', 
    'BF': u'Burkina Faso'
}"""
s = BABEL_JSON.replace(": u", ": ").replace("'", '"')
print json.loads(s).items() 
```

见[http://ideone.com/OxPml](http://ideone.com/OxPml)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-08T06:14:35.753

```
import json
a = json.loads(l)
zip(a.keys(),a.values()) 
```

其他方式

```
import ast
a = ast.literal_eval(l)
zip(a.keys(),a.values()) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-08T06:46:53.240

或者像这样使用正则表达式：

```
import re

BABEL_JSON = """{
    'BD': u'Bangladesh', 
    'WF': u'Wallis y Futuna', 
    'BF': u'Burkina Faso'
}"""

print re.findall(r"'([^']+)': u'([^']+)'", BABEL_JSON) 
```

输出：

```
[('BD', 'Bangladesh'), ('WF', 'Wallis y Futuna'), ('BF', 'Burkina Faso')] 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-30T09:16:50.247

这是我发现的最好和最快的方法

```
BABEL_JSON = "{
    'BD': u'Bangladesh', 
    'WF': u'Wallis y Futuna', 
    'BF': u'Burkina Faso'
}"

BABEL_LIST = [(key, countries[key]) for key in BABEL_JSON] 
```

如果您想按名称对它们进行排序。

```
BABEL_LIST.sort(key=lambda tup: tup[1]) 
```

# c# - C# 和 LabWindows/CVI 的区别

> ID：12775996
> 
> 赞同：1
> 
> 时间：2012-10-08T05:50:47.683
> 
> 标签：c#, labwindows

我是 LabWindows/CVI 的新手。谁能解释一下，LabWindows/CVI 和 C# 之间的主要区别是什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-08T05:56:06.460

据我所知，它们*完全*不同。

C# 是一种*语言*，主要由 Microsoft 开发，通常针对 .NET 框架。

LabWindows/CVI 是（根据[文档](http://www.ni.com/lwcvi/whatis/)）：

> LabWindows/CVI 是经过验证的 ANSI C 测试和测量开发环境，可提高工程师和科学家的工作效率。

换句话说，它是针对不同语言 (C) 的 IDE，以及特别适合工程师和科学家的工具和库。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T06:02:31.767

**LabWindows/CVI**是经过验证的 ANSI C 测试和测量开发环境，可提高工程师和科学家的工作效率。它具有编写数据采集程序的强大工具。

另一方面， **[C# (C Sharp)是 Microsoft 的一种面向对象编程 (.NET) 语言。](http://en.wikipedia.org/wiki/C_Sharp_%28programming_language%29)**它旨在成为一种简单、现代、通用、面向对象的编程语言。