# StackOverflow 问答 14576000-14576999

# matlab - 如何将矩阵的大小加倍并在 Matlab 中传播其元素？

> ID：14576007
> 
> 赞同：2
> 
> 时间：2013-01-29T05:06:11.817
> 
> 标签：matlab, matrix, size, vectorization

假设我有一个这样的矩阵：

```
a = 
    1    2
    3    4 
```

我想将矩阵的大小加倍并创建如下内容：

```
aa = 
     1    1    2    2
     1    1    2    2
     3    3    4    4
     3    3    4    4 
```

这样，第一个矩阵中的每个元素都会传播到更大矩阵中的四个元素。

```
a(i,j) == aa(2*i-1, 2*j-1)
       == aa(2*i  , 2*j-1)
       == aa(2*i-1, 2*j)
       == aa(2*i  , 2*j) 
```

是否有任何预定义的功能可以做到这一点？

绝对可以通过两个循环来做到这一点，但我想要最简单和最干净的方法！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-29T05:18:58.097

使用[`kron`](http://www.mathworks.com/help/matlab/ref/kron.html)- Kronecker 张量积：

```
kron(a,ones(2))

ans =
 1     1     2     2
 1     1     2     2
 3     3     4     4
 3     3     4     4 
```

# css - 使用 zurb 基础在 ipad 上水平滚动

> ID：14576008
> 
> 赞同：0
> 
> 时间：2013-01-29T05:06:16.027
> 
> 标签：css, ipad, grid, responsive-design, zurb-foundation

我第一次使用 Zurb Foundation 框架构建响应式站点。

到目前为止进展顺利，但是在 iPad 上进行纵向测试时，我得到了一些水平滚动条。

我检查了我的宽度，我认为它们没问题，我错过了什么？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T22:53:59.257

看起来可能是 .row 类

尝试向其添加 maxWidth 属性

# xml - JPA 和 Tomcat 配置

> ID：14576009
> 
> 赞同：0
> 
> 时间：2013-01-29T05:06:16.800
> 
> 标签：xml, tomcat, jpa, persistence

我无法让 JPA 和 Tomcat 的配置正常工作。

conf/persistence.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<persistence version="2.0" xmlns="http://java.sun.com/xml/ns/persistence"     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"     xsi:schemaLocation="http://java.sun.com/xml/ns/persistence     http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd">
<persistence-unit name="thingPU" transaction-type="RESOURCE_LOCAL">
<provider>org.eclipse.persistence.jpa.PersistenceProvider</provider>
<non-jta-data-source>jdbc/thing</non-jta-data-source>
<class>list of classes</class>
<exclude-unlisted-classes>true</exclude-unlisted-classes>
<validation-mode>NONE</validation-mode>
<properties>
  <property name="eclipselink.logging.level" value="SEVERE"/>
</properties> 
```

META-INF/context.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<Context antiJARLocking="true" path="/thing">
<Resource name="jdbc/thing"
          auth="Container"
          type="javax.sql.DataSource"
          username="thing"
          password="thing"
          driverClassName="com.mysql.jdbc.Driver"
          url="jdbc:mysql://localhost:3306/thing"
          maxActive="25"
          maxIdle="3"/>
</Context> 
```

当我尝试运行它时，我得到了这个：

```
SEVERE: Servlet.service() for servlet [spring] in context with path [/thing] threw     exception [Request processing failed; nested exception is java.lang.NullPointerException]     with root cause
java.lang.NullPointerException
    at thing.model.businessLayer.center.CenterMgr.getList(CenterMgr.java:145)
    at thing.controller.LoginController.login(LoginController.java:77)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at     sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
at org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:219)
at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)
at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:100)
at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:604)
at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:565)
at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)
at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)
at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)
at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)
at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)
at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)
at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:54)
at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)
at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:183)
at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:105)
at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)
at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)
at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)
at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:259)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1822)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
at java.lang.Thread.run(Thread.java:722) 
```

CenterMgr.java：

```
@PersistenceContext(unitName = "thingPU")
private EntityManager manager;
.
.
.

    @Override
public List<Center> getList() {
    System.out.println("manager: " + manager);
    query = manager.createNamedQuery("Center.findAll");
    List<Center> centerList = (List<Center>) query.getResultList();
    return centerList;
} 
```

在控制台输出中，我看到“manager: null”。

中心.java：

```
@Entity
@Table(name = "Center")
@XmlRootElement
@NamedQueries({
@NamedQuery(name = "Center.findAll", query = "SELECT c FROM Center c"), 
```

在我的应用程序的部署中：

```
Checking data source definitions for missing JDBC drivers... 
```

不过，它会将部署运行到完成。

我看不出我做错了什么。我的意思是，Resource 中数据源的名称与 persistence.xml 上的名称匹配。我很困惑。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T14:36:39.403

空指针出现在，

在 thing.model.businessLayer.center.CenterMgr.getList(CenterMgr.java:145)

这个方法有什么作用？

通常在 Tomcat 中您将使用非 jta 数据源，Tomcat 不支持 JTA。

最好打开日志以进行调试。

# sql - 无论类型如何，如何对所有列进行 md5

> ID：14576010
> 
> 赞同：13
> 
> 时间：2013-01-29T05:06:18.167
> 
> 标签：sql, postgresql, md5, plpgsql

我想创建一个 sql 查询（或 plpgsql），它将 md5() 所有给定的行，无论类型如何。但是，在下面，如果一个为空，则哈希为空：

```
UPDATE thetable 
    SET hash = md5(accountid || accounttype || createdby || editedby); 
```

我稍后使用散列来比较唯一性，因此空散列不适用于此用例。

问题在于它处理连接空值的方式。例如：

```
thedatabase=# SELECT accountid || accounttype || createdby  || editedby 
                 FROM thetable LIMIT 5;  

1Type113225  
<NULL>
2Type11751222 
3Type10651010 
4Type10651 
```

如果我知道类型，我可以使用 coalesce 或 CASE 语句；但是，我有很多表，我不会提前知道每一列的类型。

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2013-01-29T06:02:10.367

对此有更优雅的解决方案。

在 Postgres 中，`SELECT`允许使用表名 in 并且它的类型为`ROW`. 如果将其强制转换为 type `TEXT`，它会将所有列以字符串形式连接在一起，实际上是 JSON。

有了这个，您可以获得`md5`所有列，如下所示：

```
SELECT md5(mytable::TEXT)
FROM mytable 
```

如果您只想使用某些列，请使用`ROW`构造函数并将其转换为`TEXT`：

```
SELECT md5(ROW(col1, col2, col3)::TEXT)
FROM mytable 
```

这个解决方案的另一个不错的特性是，它与空字符串`md5`不同。`NULL`

强制性[SQLFiddle](http://www.sqlfiddle.com/#!15/ab4bb/1)。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2016-01-06T16:45:03.250

您也可以使用其他类似于 mvp 的解决方案。而不是使用 Amazon Redshift 不支持的 ROW() 函数...

> 无效操作：目标列表中不支持隐式或显式 ROW 表达式；

我的建议是使用 NVL2 和 CAST 函数将不同类型的列转换为 CHAR，只要根据[文档](http://docs.aws.amazon.com/redshift/latest/dg/r_Type_conversion.html)该类型与所有 Redshift 数据类型兼容。下面是一个如何在 Redshift 中实现*null proof* MD5 的示例。

```
SELECT md5(NVL2(col1,col1::char,''), 
           NVL2(col2,col2::char,''), 
           NVL2(col3,col3::char,''))
FROM mytable 
```

这可能会在不将第二个 NVL2 函数参数转换为 char 的情况下工作，但如果您尝试从具有空值的日期列中获取 md5，它肯定会失败。我希望这对某人有帮助。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-29T05:23:11.723

您是否尝试过使用[CONCAT()](http://www.postgresql.org/docs/9.1/static/functions-string.html)？我刚刚在我的 PG 9.1 安装中尝试过：

```
SELECT CONCAT('aaaa',1111,'bbbb');     => aaaa1111bbbb
SELECT CONCAT('aaaa',null,'bbbb');     => aaaabbbb 
```

因此，您可以尝试：

```
SELECT MD5(CONCAT(column1, column2, column3, column_n))    => md5_hash string here 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-04-27T03:56:04.863

选择 MD5(cast(p as text)) from accounting_cfop as p

# android - Android：如何等待 facebook 头像下载？

> ID：14576012
> 
> 赞同：1
> 
> 时间：2013-01-29T05:06:20.507
> 
> 标签：android, facebook, download, profile, image

我的目标是等待个人资料图片下载，以便开始制作使用该图片的视频。

我正在使用提供的 facebook 小部件： ProfilePictureView 来显示图片。

我正在等待 executeMeRequestAsync() 的 onComplete ，但这似乎在等待仅包含图片 ID 的 GraphUser。当我执行 ProfilePictureView 的 setProfileId() 时，它开始下载图片。

有没有可能有类似 onComplete() 的东西等待使用 ProfilePictureView 下载？或者我需要去获取位图或其他东西，但是如何进行回调以报告文件下载已完成？

从 FB 和 onComplete 获取信息的代码显示了将启动视频的按钮

```
Request.executeMeRequestAsync(session, new Request.GraphUserCallback() {
    public void onCompleted(GraphUser user, Response response) {
        showStartButton();                  
    }               
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-08-30T12:52:19.470

您还可以像这样设置用户个人资料图像：

```
<com.facebook.widget.ProfilePictureView
android:id="@+id/friendProfilePicture"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:gravity="center_horizontal"
android:padding="5sp"
facebook:preset_size="small" /> 
```

facebook:preset_size: small/normal/large/custom.（根据您的需要）在代码中设置 facebook 用户 ID：

```
ProfilePictureView profilePictureView = (ProfilePictureView) findViewById(R.id.friendProfilePicture);
profilePictureView.setProfileId(userId)`; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T17:58:02.873

您不需要使用 ProfilePictureView（除非您想将视图对象直接嵌入到动画中，在这种情况下，您应该在 onCompleted 回调中调用 setProfileId）。如果您只想获取个人资料图片，在您的 onCompleted 中，您可以执行以下操作：

```
String id = user.getId();
Uri uri = Uri.parse("http://graph.facebook.com/" + id + "/picture"); 
```

然后使用该 uri 创建位图（请参阅此处有关如何执行此操作的[答案）。](https://stackoverflow.com/questions/3879992/get-bitmap-from-an-uri-android)

如果你想要不同的尺寸，你也可以在uri中指定一个“类型”，或者一个“高度”/“宽度”参数。有关参数值的更多信息，请参阅[此页面](https://developers.facebook.com/docs/reference/api/user/)（并搜索“用户的个人资料图片”）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-02T20:23:52.440

为了实现我想要的：在进入下一个屏幕之前下载 facebook 个人资料图片我使用了[由 Ming Li](https://stackoverflow.com/questions/3879992/get-bitmap-from-an-uri-android)在 AsyncTask 的 doInBackground 方法中链接的 loadBitmap 方法。

onComplete 方法看起来像这样

```
public void onCompleted(GraphUser user, Response response) {
    String id = user.getId();
    String url = "http://graph.facebook.com/" + id + "/picture?type=normal";
    ImageLoader il = new ImageLoader(getActivity());//this class extends AsyncTask<String, Integer, Bitmap>
    il.execute(url);
    showStartButton();                  
} 
```

因此，我通过使用 ProgressDialog 来阻止用户继续，当调用 AsyncTask onPostExecute() 方法时该对话框将消失，这意味着下载已完成。

# javascript - JQuery Draggable - 奇怪的行为

> ID：14576022
> 
> 赞同：1
> 
> 时间：2013-01-29T05:07:02.210
> 
> 标签：javascript, jquery, jquery-ui, draggable, jquery-ui-draggable

我有一个可拖动的元素，我正在创建它的克隆并拖动到放置区。我希望可拖动元素在正确放置在放置区域后可以重新拖动。

当我将可拖动的 div 封装在另一个 div 中时，奇怪的行为开始发挥作用。封装的时候不会将clone元素设置为可拖动，所以不能重新拖动元素。但是，如果在 jFiddle 中，您从可拖动 div 周围删除 div，则一切正常。

在职的：

```
<div id="draggable"></div> 
```

不工作：

```
<div><div id="draggable"></div></div> 
```

我需要知道为什么封装在玩这个。似乎很难用这样的问题构建一个有意义的东西，因为我希望有一个包含多个与这些类似的可拖动的侧边栏。由于构建侧边栏需要将所有这些可拖动元素封装在另一个 div 中，您可以看到我遇到的难题。

下面的 jFiddle 链接包含 Jquery 等。

这是无法正常工作的 jFiddle：[here](http://jsfiddle.net/9pXzN/3/)。
而且，这是正常工作的 jFiddle：[here](http://jsfiddle.net/9pXzN/4/)。

唯一的区别是不起作用的：圆顶类 div 被另一个 div 封装。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T05:21:25.957

您需要删除 blah 上的可拖动对象并将可拖动对象添加到附加在停止块中的克隆中。尝试这个：

```
$(function() {
    var i=1;
    var indexP;
    var blah

    $(".dome").draggable({
        revert: 'invalid',
        helper: 'clone',
        start: function(event, ui) {
            var newId = i;
            $(ui.helper).attr("id",newId);
            indexP = $(ui.helper).attr('id');
            blah = "#" + indexP;
        },
        stop: function(event, ui) {
            $(ui.helper).append("<br><span>"+blah+"</span>");
            $(ui.helper).clone().appendTo('#cont').draggable();

            i++;
        },

    });

    $("#cont").droppable({

    });     
});
function updateStatus (x,y,i) {
    var xPos = "#x" + i;
    var yPos = "#y" + i;
    $(xPos).text(x);
    $(yPos).text(y);
} 
```

# sencha-touch - Map Sencha Touch 模型与列表项有很多关联

> ID：14576024
> 
> 赞同：0
> 
> 时间：2013-01-29T05:07:12.287
> 
> 标签：sencha-touch, sencha-touch-2

我在员工最爱之间有一个 hasMany 关系。我可以让商店填充数据结构，但我的问题是有一种方法可以让子元素（在这种情况下为收藏夹）成为列表项模板的项目。

我可以使用 tpl 进行声明，但所有项目都在一个列表项元素中。我需要每个项目元素一个。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T15:15:23.357

没有开箱即用的解决方案。正如您所指出的，显示关联的唯一方法是使用`tpl`循环它们的自定义。

这是因为 List 是 Store 支持的组件，而 Store 目前只支持 1 种模型。

# javascript - 如何检测是否发生了对外部 JavaScript 文件的调用？

> ID：14576025
> 
> 赞同：1
> 
> 时间：2013-01-29T05:07:12.317
> 
> 标签：javascript, http

我正在尝试创建一个沙箱，我可以在其中检查跟踪像素是否已成功执行。

本质上，成功的像素触发会创建对外部 JavaScript 文件的请求。当此脚本正确运行时，它会创建以下内容：

```
<script async="true" type="text/javascript" src="a.adroll.com/j/roundtrip.js"></script> 
```

我该如何检测呢？有什么建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T05:19:56.560

如果您尝试检测是否已将跟踪像素添加到您的页面并成功加载，您可以在 DOM 中找到它并使用该`.complete`属性检查图像是否已完成加载。

如果您尝试检测是否已调用某些外部 javascript，则不能直接执行此操作，除非代码留下一些状态，您可以询问它已被调用，或者可能在调用有问题的代码替换它之前破解它使用您自己的函数，该函数可以记录被调用的函数，然后调用原始函数。

如果没有关于您的问题的更多详细信息（实际代码和 HTML），我们无法提供更多细节。

* * *

我看到您在评论中添加了更多信息。如果您想知道是否已加载特定脚本，那么您可以查看该脚本并查看它定义了哪些全局符号并测试这些全局符号之一是否存在。如果它们没有被定义，那么脚本还没有被加载。如果它们被定义，那么它已经定义了。

例如，如果脚本 (roundtrip.js) 定义了一个名为的全局函数`__adroll`（它看起来像该脚本所做的那样），您可以使用以下命令测试它的存在：

```
if (window.__adroll) {
    // symbol __adroll is defined
} 
```

* * *

要测试此变量是否存在于与您的主机页面位于同一域的 iframe 中，您必须获取该 iframe 的窗口对象。使用`id="iframe"`您的代码示例，您可以这样做：

```
var iframe = document.getElementById("iframe_");
var iframWin = iframe.contentWindow || iframe.contentDocument;
if (iframeWin && iframeWin.__adroll) {
    // symbol __adroll is defined in the iframe
} else {
    // symbol __adroll is either not defined in the iframe or
    // the iframe window is not accessible for cross-domain security reasons
} 
```

# css - 根据高度在侧边栏中显示更多/更少的内容

> ID：14576034
> 
> 赞同：0
> 
> 时间：2013-01-29T05:08:09.723
> 
> 标签：css

我有一个包含主要内容和侧边栏的博客。大多数帖子都有包含 30 多张照片的照片库。在边栏中，我显示缩略图和“更多”链接。默认情况下，我显示 6 个缩略图。如果有足够的内容使侧边栏足够长以支持它们，我想显示所有 30 个。

我已经找到并提出了自己的 javascript 解决方案，但我真的很想知道是否存在仅 CSS 的方法（即使它需要不完全支持的 CSS 技术）。

也许某种nth-child之类的东西？

**编辑：**我不希望侧边栏比内容长。这就是为什么我只会在房间可用的情况下显示更多。

# c++ - 从消息队列中拉出所有项目

> ID：14576036
> 
> 赞同：2
> 
> 时间：2013-01-29T05:08:19.437
> 
> 标签：c++, sockets, message-queue

有一个连接到多个套接字的应用程序。它有两个线程，接收线程和处理线程。所以在它们之间，我创建了一个消息队列。由于不需要对消息一一处理，因此可以将所有消息从队列中拉出，然后更新内部数据结构。最后，开始处理。目前，我创建了自己的消息队列。我只是想知道是否有更好的选择。ps性能很关键

编辑：更好意味着良好的性能、易于使用和保证交付。可选：使用 zeromq 这样做。

# java - java.net.SocketException：使用 TelnetOutputStream 重置连接

> ID：14576037
> 
> 赞同：0
> 
> 时间：2013-01-29T05:08:20.390
> 
> 标签：java, socketexception

> **可能重复：**
> [是什么导致我的 java.net.SocketException：连接重置？](https://stackoverflow.com/questions/585599/whats-causing-my-java-net-socketexception-connection-reset)

```
public void sendJobs(String hostname, int port, String username, String password, String folderName, Collection<File> files) throws Exception {
        FtpClient ftp = new FtpClient(hostname, port);
        ftp.login(username, password);
        ftp.binary();
        //ftp.cd("FTP_Hiring"); // this is for testing in Accel FTP. comment for other FTP
        if(folderName != "") {
              ftp.cd(folderName);
        }

        try {           
            for(File file : files) {
                FileInputStream fos = new FileInputStream(file);
                TelnetOutputStream tos = (TelnetOutputStream) ftp.put(file.getName());
                try {
                    //ftp.cd(file.getName().substring(0, file.getName().lastIndexOf(".")));
                    DataOutputStream dos = new DataOutputStream(tos);
                    byte[] buffer = new byte[1024 * 1024];
                    for (int length; (length = fos.read(buffer)) > 0;) {
                        dos.write(buffer, 0, length);
                    }

                    System.out.println("success");
                    tos.flush();
                    tos.close();
                    fos.close();    
                    ftp.cdUp();
                } catch(Exception e) {
                    hsLogger.error(e);
                    e.printStackTrace();
                } finally {
                    tos.close();
                    fos.close();    
                }
            }
        } catch(Exception e) {
            hsLogger.error(e);
            e.printStackTrace();
        }       
    } 
```

上面给出了我的代码。我在调度程序中运行它。但在一线

`TelnetOutputStream tos = (TelnetOutputStream) ftp.put(file.getName());`我得到以下异常

```
java.net.SocketException: Connection reset
    at java.net.SocketInputStream.read(SocketInputStream.java:168)
    at java.io.BufferedInputStream.fill(BufferedInputStream.java:218)
    at java.io.BufferedInputStream.read(BufferedInputStream.java:237)
    at sun.net.TransferProtocolClient.readServerResponse(TransferProtocolClient.java:49)
    at sun.net.ftp.FtpClient.readReply(FtpClient.java:217)
    at sun.net.ftp.FtpClient.issueCommand(FtpClient.java:193)
    at sun.net.ftp.FtpClient.openDataConnection(FtpClient.java:383)
    at sun.net.ftp.FtpClient.put(FtpClient.java:594)
    at com.hiringsteps.ats.util.net.service.impl.JobXMLManagerService.sendJobs(JobXMLManagerService.java:1883)
    at com.hiringsteps.ats.util.net.service.impl.JobXMLManagerService.postJobs(JobXMLManagerService.java:273)
    at com.hiringsteps.ats.job.facade.impl.JobFacade$2.jobPosting(JobFacade.java:2031)
    at com.hiringsteps.ats.job.facade.impl.JobFacade$2.run(JobFacade.java:1935)
    at com.hiringsteps.ats.util.scheduler.service.impl.Scheduler$SchedulerTimerTask.run(Scheduler.java:20)
    at java.util.TimerThread.mainLoop(Timer.java:512)
    at java.util.TimerThread.run(Timer.java:462) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T05:17:49.513

此异常可能意味着在网络的底层（即 TCP 层）发生错误。

TCP 数据包没有从服务器收到 ACK 信号。

[这需要使用Wire Shark](http://www.wireshark.org/)等网络数据包分析工具进一步分析网络数据包

或者

尝试实现重试机制（但我仍然建议从网络层找到根本原因）

另一项观察，当错误读取`Connection Reset`而不是`connecton reset by peer`。怀疑错误导致它在客户端。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T05:26:27.240

此异常有多种原因，但最常见的是您写入了已被对等方关闭的连接，这导致对等方发送 TCP RST 段（重置）。换句话说，应用程序协议错误。

# php - PHP中的Wordwrap单词分隔符

> ID：14576041
> 
> 赞同：0
> 
> 时间：2013-01-29T05:08:32.817
> 
> 标签：php

我想了解一下自动换行功能的内部机制：

```
string wordwrap ( string $str [, int $width = 75 [, string $break = "\n" [, bool $cut = false ]]] ) 
```

如果您使用 $cut = false wordwrap 只会在找到单词分隔符的地方拆分。我假设这是基于此示例的空格字符：

```
$str = wordwrap("--------------  ------", '5', 'b', false);
echo $str;
//Result: --------------b ------ 
```

我的问题是这个函数如何决定在哪里中断？它只会搜索最接近宽度位置的最近空格字符吗？是否有其他角色可以休息？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T07:25:31.383

这没有记录，但它使用空格字符，即`' '`，来确定单词边界。它找到的第一个空格字符`$width`被该`$break`字符替换。

也可以看看：[`ext/standard/string.c`](http://git.php.net/?p=php-src.git;a=blob;f=ext/standard/string.c;h=e245ce3fb6ddafb54b2730fa3d7fa144e931725e;hb=HEAD#l913)

### 2015-04-22 更新

这已在文档中[解决](http://svn.php.net/viewvc/phpdoc/en/trunk/reference/strings/functions/wordwrap.xml?r1=336614&r2=336613&pathrev=336614)，基于[此错误报告](https://bugs.php.net/bug.php?id=64092)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T05:11:02.080

[为什么在PHP 网站](http://php.net/manual/en/function.wordwrap.php)上看不到精美的文档？

使用字符串分隔符将字符串包装成给定数量的字符。

```
<?php
$text = "The quick brown fox jumped over the lazy dog.";
$newtext = wordwrap($text, 20, "<br />\n");

echo $newtext;
?> 
```

这输出：

```
The quick brown fox<br />
jumped over the lazy<br />
dog. 
```

# android - 单击数字七或某些特殊字符应用程序正在退出

> ID：14576042
> 
> 赞同：0
> 
> 时间：2013-01-29T05:08:53.617
> 
> 标签：android, cordova

我在 android phone gap 中开发了一个应用程序，该应用程序工作正常，但是当我在文本字段中输入 7 时，应用程序正在退出（在没有任何对话框的情况下强制关闭）。这个问题只出现在android 4.2版本，我的phonegap版本是1.7，

如果发现添加

```
appView.getSettings().setNavDump(true); 
```

但我的关系没有区别

我的日志猫是

```
 02-27 17:45:15.796: D/webcoreglue(3554):       RenderBlock {DIV} at (0,0) size 320x0
02-27 17:45:15.796: D/webcoreglue(3554): layer at (0,0) size 320x460
02-27 17:45:15.796: D/webcoreglue(3554):   RenderBlock (positioned) {DIV} at (0,0) size 320x460
02-27 17:45:15.796: D/webcoreglue(3554): layer at (0,0) size 320x460
02-27 17:45:15.796: D/webcoreglue(3554):   RenderBlock (positioned) zI: 1 {DIV} at (0,0) size 320x460
02-27 17:45:15.796: D/webcoreglue(3554): layer at (0,0) size 320x460
02-27 17:45:15.796: D/webcoreglue(3554):   RenderBlock (positioned) zI: 2 {DIV} at (0,0) size 320x460
02-27 17:45:15.796: D/webcoreglue(3554):     RenderBlock {FORM} at (0,0) size 320x0
02-27 17:45:15.796: D/webcoreglue(3554):       RenderBlock (floating) {SECTION} at (0,0) size 320x435
02-27 17:45:15.796: D/webcoreglue(3554):         RenderBlock (floating) {DIV} at (0,85) size 320x80
02-27 17:45:15.796: D/webcoreglue(3554):           RenderText {#text} at (0,0) size 4x15
02-27 17:45:15.796: D/webcoreglue(3554):             text run at (0,0) width 4: " "
02-27 17:45:15.796: D/webcoreglue(3554):         RenderBlock (floating) {DIV} at (22,200) size 275x225
02-27 17:45:15.796: D/webcoreglue(3554):           RenderBlock {H3} at (0,0) size 275x16 [color=#A7A7A7]
02-27 17:45:15.796: D/webcoreglue(3554):             RenderText {#text} at (115,0) size 45x16
02-27 17:45:15.796: D/webcoreglue(3554):               text run at (115,0) width 45: "SIGN IN"
02-27 17:45:15.796: D/webcoreglue(3554):           RenderTextControl {INPUT} at 
02-27 17:45:15.796: A/libc(3554): Fatal signal 11 (SIGSEGV) at 0x0000000c (code=1), thread 3569 (WebViewCoreThre) 
```

# javascript - 加载 DOM/HTML 时未执行 Javascript 浏览器缓存

> ID：14576048
> 
> 赞同：0
> 
> 时间：2013-01-29T05:09:38.543
> 
> 标签：javascript, performance, browser-cache, etag

我正在使用 ETAG 缓存动态内容。标签中有javascript，它又位于body标签的末尾。此脚本标记对 DOM 元素进行更改。但是当从浏览器缓存加载 DOM/HTML 时，javascript 不会被执行。

任何解决方法可以使这项工作？

我还观察到缓存在 Chrome 和 mozilla 上运行良好，但在 OPERA 上却不行。歌剧中是否有任何特定原因/错误导致此问题？

# c++ - 如何防止 main() 在单独的线程访问变量时更改变量

> ID：14576055
> 
> 赞同：1
> 
> 时间：2013-01-29T05:10:28.920
> 
> 标签：c++, multithreading, c++11, mutex

我的程序基于在 main( ）。main() 处理“世界”本身的更新，而函数 updateDisplay() 在监视器上显示“世界”的内容。updateDisplay() 由单独的 C++11 线程（在 main() 中启动）运行，并通过传递的引用访问“世界”。

我的问题是我遇到了罕见的崩溃，因为在下面 updateDisplay() 的（简化）代码摘录中，向量 world.m_grid[i][j].m_rabbit 偶尔会在“ if (!world.m_grid[i][j].m_rabbit.empty())" 签入 updateDisplay()，但在后续访问 m_rabbit[0] 向量成员之前，导致“向量下标超出范围”错误。

```
for (int i = 0; i < rows; ++i)
{
    for (int j = 0; j < columns; ++j)
    {

        if (!world.m_grid[i][j].m_rabbit.empty())
        {
            s_rabbit_64.setScale(absTileScale * world.m_grid[i][j].m_rabbit[0].m_size, absTileScale * world.m_grid[i][j].m_rabbit[0].m_size);
            s_rabbit_64.setPosition(x * k + (12 * absTileScale), y * (i - winFocus.y) + (12 * absTileScale));
            window.draw(s_rabbit_64);
        }
    }
} 
```

我的问题是，如何锁定 world.m_grid[i][j].m_rabbit 向量，以便 main() 在 updateDisplay() 线程访问它时无法更改它？我认为这是通过使用 std::mutex 实现的，但我一直无法找到一个指南，让我对此有足够的理解，以便将其应用到我的程序中。我希望这足够清楚理解（程序比这个摘录大得多，我不想做大量的文本转储），请要求澄清你需要的任何点。

感谢您的关注。

[编辑] 拼写

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T05:19:58.297

欢迎来到多线程的狂野和毛茸茸的世界。坐下；你会在这里*很长时间*。比如，*你剩下的编程生涯*有点长。这很可怕，充满了背叛和微妙的错误，如果你能做对的话，也会得到很好的回报**:-)**

实际上，在这种情况下，您在识别特定错误方面做得非常好。您需要的是有一个互斥锁来保护线程之间共享的所有访问和状态突变。在您的情况下：在清除向量之前将互斥锁锁定在主线程中，并在完成后解锁互斥锁。同样，在访问之前将互斥锁锁定在处理线程中，并在完成后将其解锁。在这种特殊情况下，您可能最终会锁定整个双 for 循环。

[这个答案](https://stackoverflow.com/questions/34524/what-is-a-mutex)很好地解释了互斥锁在做什么。

* * *

是的，有更快、更优雅的做事方式，但现在让我们坚持正确性。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T05:44:01.970

您需要识别代码的关键部分。从您上面发布的内容来看，似乎任何修改 world.m_grid[i][j].m_rabbit 的操作都是关键部分。

然后，您需要某种同步技术，以便在任何时候只有一个线程可以进入特定的关键部分（例如互斥锁）。

你需要在网上搜索一些好的阅读材料——或者更好地找到一本好的编程书籍并花一些时间阅读并发章节。

# android - 锁屏上的相机预览

> ID：14576060
> 
> 赞同：2
> 
> 时间：2013-01-29T05:10:47.537
> 
> 标签：android, camera, preview, lockscreen

我想在锁屏中添加拍照功能，我需要在屏幕上打开预览，但它一直失败，logcat说错误是关于“setPreviewWindow - Null ANativeWindow传递给setPreviewWindow”和“startPreview - 预览未启动。预览进行中标志集"

在数字时钟视图后的 keyguard_screen_tab_unlock.xml 中，把

```
<FrameLayout
        android:id="@+id/mPreview"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" /> 
```

在 LockScreen.java 构造函数中：

```
FrameLayout mFrameLayout = (FrameLayout)findViewById(R.id.mPreview);
SurfacePreview preview = new SurfacePreview(mContext);
preview.setZOrderOnTop(true);
mFrameLayout.addView(preview); 
```

SurfacePreview 类：

```
public class SurfacePreview extends SurfaceView implements SurfaceHolder.Callback {

    private SurfaceHolder mSurfaceHolder;

    SurfacePreview(Context context) {
        super(context);
        mSurfaceHolder = this.getHolder();
        mSurfaceHolder.addCallback(this);
        mSurfaceHolder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);
    }

    public void surfaceCreated(SurfaceHolder holder) {
        mCamera = Camera.open(CameraInfo.CAMERA_FACING_BACK);
        try {
            mCamera.setPreviewDisplay(holder);
        } catch (IOException e) {
            e.printStackTrace();
        }
        mCamera.startPreview();
    }

    public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {
        Camera.Parameters parameters = mCamera.getParameters();
        mCamera.setParameters(parameters);
        mCamera.setDisplayOrientation(90);
    }

    public void surfaceDestroyed(SurfaceHolder holder) {
        mCamera.release();
    }
} 
```

任何人都知道如何解决此问题并在 LockScreen 上启动 prview？非常感谢。

# php - 本地 PC 和服务器中 jQuery.load 函数的不同行为

> ID：14576065
> 
> 赞同：0
> 
> 时间：2013-01-29T05:11:10.600
> 
> 标签：php, jquery, ajax

我使用 jQuery.load 函数来生成一些动态页面。我使用 POST 方法发送一些数据。问题是，在我的本地 PC（带有 Apache/php 服务器的 Windows）中，一切正常，但是当我将它上传到 Internet 上的托管服务器（带有 Apache/php 的 Linux）时，它会自动在我的字符串中添加斜杠。jQuery 在不同的操作系统中有不同的行为吗？

```
$("#fetch").click(function(){
    klist ="'a','b','c'";
    nlist ="'x','y','z'";
    $("#mydiv").load("tor.php", {n: nlist, k: klist},function(){
    $("#div2").hide();
}); 
```

tor.php 中 $_POST['n'] 的输出是：

> 本地服务器：“'x','y','z'”
> 互联网托管服务器：“\'x\',\'y\',\'z\'”

其他变量也一样。

为什么会发生这种情况以及如何避免这种情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T05:13:12.707

与其深入探讨应该如何在本地计算机上安装 Linux，不如说问题在于远程服务器`magic_quotes_gpc`启用了 ini 设置。禁用此设置或仅调用`stripslashes`所有`$_POST`值。

# email - 在 Magento 的自定义模块中发送订单确认邮件

> ID：14576067
> 
> 赞同：3
> 
> 时间：2013-01-29T05:11:15.470
> 
> 标签：email, customization, magento-1.7

我在 Magento 中创建了一个自定义模块，它执行从选择产品、注册客户到使用该产品结帐的整个过程。整个过程的代码是通过这个模块的indexcontroller中的代码来完成的。一切正常，但新订单未发送电子邮件。我认为 Magento 会自动发送有关创建新订单的电子邮件，即使该过程是以编程方式完成的。但事实并非如此。谁能告诉我如何连接到默认的销售订单电子邮件并在通过自定义模块下订单时发送邮件？

在保存客户后，我已经能够向新客户发送邮件，从而从这行代码中创建：

```
$customer->sendNewAccountEmail(); 
```

有谁知道是否也有这样的代码来发送新的订单电子邮件？任何帮助深表感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-30T05:40:42.297

试试这个。您需要通过订单对象使用这些方法：

```
$order->getSendConfirmation(null);
$order->sendNewOrderEmail(); 
```

# xml - XSLT 外部文档查找

> ID：14576071
> 
> 赞同：2
> 
> 时间：2013-01-29T05:11:28.103
> 
> 标签：xml, xslt

我有一个 file.xml

```
<?xml version="1.0"?>
<Report>
      <row>
            <field1>test1</field1>
            <field2>test2</field2>
            <field3>test3</field3>
      </row>
      <row>
            <field1>test4</field1>
            <field2>test5</field2>
            <field3>test6</field3>
      </row>
</Report> 
```

还有一个lookup.xml

```
<?xml version="1.0"?>
<lookup>
      <field1>fieldA</field1>
      <field2>fieldB</field2>
      <field3>fieldC</field3>
</lookup> 
```

我正在尝试获得以下输出

```
<?xml version="1.0"?>
<Report>
      <row>
            <fieldA>test1</fieldA>
            <fieldB>test2</fieldB>
            <fieldC>test3</fieldC>
      </row>
      <row>
            <fieldA>test4</fieldA>
            <fieldB>test5</fieldB>
            <fieldC>test6</fieldC>
      </row>
</Report> 
```

到目前为止，我想出了以下 transform.xsl

```
<xsl:stylesheet
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  version="1.0">

  <xsl:strip-space elements="*"/>
  <xsl:output indent="yes"/>

  <xsl:variable name="lookupDoc" select="document('lookup.xml')"/>

  <xsl:template match="Report">
    <Items>
      <xsl:apply-templates/>
    </Items>
  </xsl:template>

  <xsl:template match="row">
    <Item>
      <xsl:apply-templates/>
    </Item>
  </xsl:template>

  <xsl:template match="row/*">
    <xsl:variable name="this" select="."/>
    <xsl:variable name="lookup">
      <xsl:for-each select="$lookupDoc">
        <xsl:key name="k1" match="local-name()" use="text()"/>
        <xsl:value-of select="key('k1', local-name($this))"/>
      </xsl:for-each>
    </xsl:variable>
    <fieldName name="{$lookup}">
      <xsl:value-of select="."/>
    </fieldName>
  </xsl:template>

</xsl:stylesheet> 
```

Xsl 的新手，因此不确定为什么会出现编译器错误

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-29T05:33:43.257

看起来您的想法是正确的（并且是一个新颖的想法），但有些地方需要修复。请试试这个：

```
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform"  version="1.0">

  <xsl:strip-space elements="*"/>
  <xsl:output indent="yes"/>

  <xsl:key name="k1" match="*" use="local-name()"/>

  <xsl:variable name="lookupDoc" select="document('lookup.xml')"/>

  <xsl:template match="@* | node()">
    <xsl:copy>
      <xsl:apply-templates select="@* | node()" />
    </xsl:copy>
  </xsl:template>

  <xsl:template match="row/*">
    <xsl:variable name="newName">
      <xsl:apply-templates select="$lookupDoc/lookup">
        <xsl:with-param name="nameToMatch" select="local-name()" />
      </xsl:apply-templates>
    </xsl:variable>
    <xsl:element name="{$newName}">
      <xsl:value-of select="."/>
    </xsl:element>
  </xsl:template>

  <xsl:template match="lookup">
    <xsl:param name="nameToMatch" />
    <xsl:value-of select="string(key('k1', $nameToMatch))"/>
  </xsl:template>
</xsl:stylesheet> 
```

为了在 DOM`key()`中定位值`$lookupDoc`，`key()`需要在该 DOM 的上下文中使用，这就是最后一个模板的用途。当这在您的示例输入上运行时，结果是您请求的输出：

```
<Report>
  <row>
    <fieldA>test1</fieldA>
    <fieldB>test2</fieldB>
    <fieldC>test3</fieldC>
  </row>
  <row>
    <fieldA>test4</fieldA>
    <fieldB>test5</fieldB>
    <fieldC>test6</fieldC>
  </row>
</Report> 
```

通过一些修改，也可以使用`for-each`您尝试使用的方法，因为这是进入`$lookupDoc`DOM 的另一种方法。下面的 XSLT 应该与上面的结果相同，并且更类似于您最初的尝试：

```
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">

  <xsl:strip-space elements="*"/>
  <xsl:output indent="yes"/>

  <xsl:key name="k1" match="*" use="local-name()"/>

  <xsl:variable name="lookupDoc" select="document('lookup.xml')"/>

  <xsl:template match="@* | node()">
    <xsl:copy>
      <xsl:apply-templates select="@* | node()" />
    </xsl:copy>
  </xsl:template>

  <xsl:template match="row/*">
    <xsl:variable name="this" select="." />
    <xsl:variable name="lookup">
      <xsl:for-each select="$lookupDoc">
        <xsl:value-of select="key('k1', local-name($this))"/>
      </xsl:for-each>
    </xsl:variable>
    <xsl:element name="{$lookup}">
      <xsl:value-of select="."/>
    </xsl:element>
  </xsl:template>

</xsl:stylesheet> 
```

# sql - 列上的左连接不在两个表之间的关系中

> ID：14576073
> 
> 赞同：6
> 
> 时间：2013-01-29T05:11:41.510
> 
> 标签：sql, database, postgresql, left-join

我有 2 张桌子：

```
CREATE TABLE plans
    (id int, benefit varchar(5), clip_state int);

INSERT INTO plans
    (id, benefit, clip_state)
VALUES
    (1, 'A', 1),
    (2, 'A', 0),
    (3, 'B', 0),
    (4, 'C', 0);

CREATE TABLE clip_states
    (state varchar(2), clip_state int);

INSERT INTO clip_states
    (state, clip_state)
VALUES
    ('LA', 1),
    ('FL', 0); 
```

请注意`clip_state`是 0 或 1 并且数据模型允许从 2 信息中查询表中的**一个或没有**计划： & 。首先，使用条件，我们最多可以将表过滤为 2 行，1 行= 0，1 行 = 1。然后通过使用和连接表，我们可以通过检查将结果减少到一行（或零）：`plans``benefit``state``benefit``plans``clip_state``state``clip_states`

*   如果`state`在`clip_states`表中，请确保`clip_state`在 2 个表之间匹配。如果不匹配，则不返回任何结果。
*   如果`state`中不存在`clip_states`，则仅与`plans`表中`clip_state`= 0 的行匹配。

这是我的查询，可以解决问题：

```
SELECT id, p.clip_state, benefit
FROM plans p
LEFT JOIN clip_states cs ON STATE IN ('LA')
WHERE benefit = 'A' AND
(p.clip_state = cs.clip_state OR (p.clip_state = 0 AND cs.clip_state IS NULL)); 
```

如您所见，*左连接*很奇怪，因为它没有连接两个表之间的关系。所以，我的问题是：

*   有这样的加盟是正常的吗？
*   有没有更好的解决方案（清洁和性能）？

您可以在以下位置查看我的解决方案：[http ://sqlfiddle.com/#!1/8912d/53](http://sqlfiddle.com/#!1/8912d/53)

更新1：我已经更新了上面问题的文字。

更新 2：更多信息

1.  如果 a`state`不在`clip_states`表中，则其`clip_state`隐式等于 0。否则，它`clip_state`在表中。
2.  从两个给定的 info:`benefit`和中，在table where = of that given`state`中找到一行。当然，如果不匹配，则不会返回任何行。`plans``plans.clip_state``clip_state``state`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T12:39:43.673

### 更新问题的更新答案：

```
SELECT p.*
FROM   plans p
WHERE  p.benefit = 'A'
AND    NOT  EXISTS (
  SELECT 1
  FROM   clip_states cs
  WHERE  cs.state = 'LA'
  AND    cs.clip_state <> p.clip_state
  )
ORDER  BY p.clip_state
LIMIT  1; 
```

[-> sqlfiddle](http://sqlfiddle.com/#!1/8912d/205)

这可能是定义：

1.  `plans`查找表中给定的所有行`benefit`。

2.  消除与给定`clip_state`的表中的同一列不匹配的行。`clip_states``state`

3.  从剩余的行中，返回 中具有最低值的行`clip_state`。

另外，由于

> `clip_state`是 0 或 1

您应该使用数据类型[`boolean`](http://www.postgresql.org/docs/current/interactive/datatype-boolean.html)而不是`int`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T19:37:18.200

完全不同的方法：

1.  如果该状态尚未在表中，则使用 0将所需状态“添加”到`clip_states`表中。`clip_state`

2.  将结果集内连接到`plans`on `clip_state`，另外过滤 on `state`。

这可能是这样的：

```
SELECT p.*
FROM plans p
INNER JOIN (
  SELECT state, clip_state FROM clip_states
  UNION ALL
  (
  SELECT 'LA', 0
  EXCEPT
  SELECT state, 0 FROM clip_states
  )
) cs
ON p.clip_state = cs.clip_state
WHERE p.benefit = 'A'
  AND cs.state = 'LA'
; 
```

这是这个查询“在行动”：[http ://sqlfiddle.com/#!1/b0feb/7](http://sqlfiddle.com/#!1/b0feb/7)

似乎符合您的要求，除非我再次错过了什么。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-29T08:11:49.193

的确，`LEFT JOIN`这里看起来很奇怪。

1.  `plans`我看不到和`clip_states`表之间的连接条件；
2.  您不使用`clip_state`SELECT 列表中的任何列，因此您无法获得`NULL`目标值。

我建议按照以下方式进行（也在[SQL-Fiddle](http://sqlfiddle.com/#!12/8912d/7)上）：

```
SELECT id, p.benefit, coalesce(cs.clip_state, 0) clip_state
FROM plans p
LEFT JOIN clip_states cs ON cs.clip_state=p.clip_state AND cs.state IN ('LA')
WHERE p.benefit = 'A'; 
```

1.  我已经将连接条件从查询部分移到并简化了它`WHERE`；`FROM`
2.  我已将`clip_states`表中的列添加到 SELECT 列表中，`NULL`以防万一没有匹配的行；
3.  `cs.clip_state`什么时候`NULL`，我把它变成0，正如预期的那样。

我认为这可以满足您的需求。

请看一下这个[关于连接的视觉解释](http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html)，我觉得它非常有用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-29T10:03:18.053

考虑到它可以解决问题：

*   有这样的加盟是正常的吗？

这不是通常的做法。但在我看来，JOIN 只是在 ON 之后接受一个条件，它可以是任何条件。

*   有没有更好的解决方案（清洁和性能）？

它看起来是这里可用的最短解决方案，我不明白为什么它会损害性能。

如果您从此查询创建 VIEW 并在选定字段中包含 STATE 字段，则可以从该视图进行查询，如下所示：

```
SELECT * FROM stateview WHERE state='FL' 
```

*顺便说一句，巧合的是我猜，vyegorov提供的解决方案正是我在sql-fiddle中输入的做一些测试。但认为它不正确，所以在那之后的某个时候将其删除。*

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-30T20:40:48.203

我想我必须使用以下查询作为解决方案。我检查了查询计划，发现它比我在问题中的查询好一步。这个想法是首先缩小计划，然后加入 clip_states 表。

```
SELECT *
FROM (
    SELECT DISTINCT id, clip_state, benefit
    FROM plans
    WHERE benefit = 'A') p
LEFT JOIN clip_states cs ON state IN ('LA')
WHERE (p.clip_state = cs.clip_state OR (p.clip_state = 0 AND cs.clip_state IS NULL)); 
```

谢谢大家。

# php - 按首字母分组，按字母顺序，最好的方法？

> ID：14576075
> 
> 赞同：2
> 
> 时间：2013-01-29T05:11:47.183
> 
> 标签：php, mysql

这是我的代码：

```
<div class="widgeter-content no-padding">
    <ul id="contacts">
        <?php
        while ($r = mysql_fetch_array($q)){
            $currentletter = substr($name,0,1);
            if ($currentletter != $lastletter){
            ?>
            <!-- start li data group for specific alphabetic letter -->
            <li data-group="<?=$currentletter;?>">
                <a class="title"><?=strtoupper($currentletter);?></a>
            <?
            }
            ?>
                <ul>
                    <li>
                        <a href="#">
                            <span><?=$name;?></span>
                        </a>
                    </li>
                </ul>
            <?
            if ($currentletter != $lastletter){
            ?>
            </li>
            <!-- end data group (not currently working, ends on first result) -->
            <?
            }
            $lastletter = $currentletter; 
        }
        ?>
    </ul>
</div> 
```

我正在尝试做的事情：

```
A:

Alfred
Annie

B:

Bob
Billy 
```

如您所见，数据被包装在一个 li 数据组中。

代码的第一部分完美运行，但最后一部分（我试图将结束 li 标签放在结束注释之前，显示在每个循环的第一个结果之后，它需要显示在每个字母的末尾结果）。

最好的方法是什么？我确信我想要实现的目标非常明显，但我想不出一种合乎逻辑的方式来让代码按照我想要的方式构建。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T05:16:05.780

```
 $res      = array();
    while ($r = mysql_fetch_array($q)){
      $currentletter = substr($name,0,1);
      $res[$currentletter][]  = $name;
    }

    foreach($res as $key=>$val){
       /// here you add your li
       /// here $key will give you letter and $val will give you name
       echo $key;
       foreach($val as $reqvals){
          echo $reqvals;
          echo "<br>";
       }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T05:15:42.390

> 最好的方法是什么？

如果您从数据库中获取行，为什么不能在那里进行 GROUP BY 并获取记录。这是首选的方法。

假设列名是`first_name`

```
group by substr(first_name,1,1) 
```

# mysql - ORDER BY 翻译的字段

> ID：14576076
> 
> 赞同：2
> 
> 时间：2013-01-29T05:11:49.477
> 
> 标签：mysql

我有两张桌子：`posts`和`post_translations`。一篇文章可以翻译成多种语言，其翻译存储在`post_translations`表中。并非所有帖子都提供所有语言版本。

## `posts`：

```
+----+------+
| id | hits |
+----+------+
|  1 |   12 |
+----+------+
|  2 |   34 |
+-----------+ 
```

## `post_translations`：

```
+----+---------+--------+---------------+------+
| id | post_id | locale | title         | body |
+----+---------+--------+---------------+------+
|  1 |       1 |     en | Hello, world! | Hey. |
+----+---------+------------------------+------+
|  2 |       1 |     es | ¡Hola, mundo! | Olé. |
+----+---------+--------+---------------+------+
|  3 |       2 |     en |  How are you? | Meh. |
+----+---------+--------+---------------+------+ 
```

我想`SELECT`全部`posts`按西班牙语排序-但是，由于并非所有帖子都以西班牙语提供，因此如有必要`title`，我还想回退到英语。`title`也就是说，`ORDER BY title_with_fallbacks`在哪里`title_with_fallbacks = [spanish title] || [english title]`。

我想我可以使用依赖子查询：

```
SELECT * FROM posts ORDER BY (SELECT name FROM post_translations
                              WHERE post_id = posts.id
                              ORDER BY FIELD(locale, 'es', 'en')
                              LIMIT 1) 
```

但如果有数千个结果，这可能会很快变得令人讨厌。关于如何通过连接两个表或类似的东西来获得相同结果的任何聪明的想法？

（作为参考，我正在使用 Rails 插件[globalize3](http://rubygems.org/gems/globalize3)，但我无法找到任何内置机制来完成这项工作。）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T05:26:53.480

这个查询用两个来完成条件排序`left joins`……一个是西班牙语翻译，另一个是英文翻译……

然后`ORDER BY`使用该`IFNULL`函数按西班牙标题排序，如果西班牙标题是`NULL`，则按英文标题排序。

```
SELECT p.id, p.hits, IFNULL(es_pt.title, en_pt.title) AS locale_title
FROM posts p
LEFT JOIN post_translations es_pt
    ON p.id = pt.post_id AND es_pt.locale = 'es'
LEFT JOIN post_translations en_pt
    ON p.ID = pt.post_id AND en_pt.locale = 'en'
ORDER BY IFNULL(es_pt.title, en_pt.title) 
```

# c++ - 我无法从 QMetaObject 获取方法，方法偏移量和计数相等

> ID：14576078
> 
> 赞同：5
> 
> 时间：2013-01-29T05:11:56.997
> 
> 标签：c++, qt, metaobject

我有一个继承自 QObject 并具有 Q_OBJECT 宏的类：

```
class SomeClass: public QObject
{
    Q_OBJECT
public:
    SomeClass(QObject *parent = 0);
    void method1();
    void method2();
    ...
}; 
```

在同一个标​​题的另一个类中，我创建了该类的一个实例，然后我尝试从“SomeClass”获取所有方法并将其存储在 QMap 中：

```
this->someclass = new SomeClass(); // in constructor. 
```

...

```
cout<<"init some class methods"<<endl;
    const QMetaObject *metaobj = dynamic_cast<QObject*>(this->someclass)->metaObject();
    cout<<"offset "<<metaobj->methodOffset()<<endl;
    for(int i = metaobj->methodOffset();i < metaobj->methodCount();i++){
        QMetaMethod metamethod = metaobj->method(i);
        //if(metamethod.methodType() == QMetaMethod::Method){
            QString methodname = QString(metamethod.signature());
            methodname = methodname.replace(QRegExp("\\(.*\\)"),"");
            controlmethods.insert(methodname,metamethod);
            cout<<"added method: "<<metamethod.signature()<<" as "<<methodname.toAscii().data()<<endl;
        //}
    } 
```

但这并没有向我显示任何添加的方法，因为方法偏移量等于方法计数，为什么可以？我不明白原因，谢谢任何帮助。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-29T07:27:13.983

您需要为`Q_INVOKABLE`要在`QMetaObject`.

[从文档中](http://qt-project.org/doc/qt-5.0/qtcore/qobject.html#Q_INVOKABLE)：

> **Q_INVOKABLE**
> 
> 将此宏应用于成员函数的声明，以允许通过元对象系统调用它们。宏写在返回类型之前，如下例所示：
> 
> ```
> class Window : public QWidget {
>     Q_OBJECT
> 
> public:
>     Window();
>     void normalMethod();
>     Q_INVOKABLE void invokableMethod(); }; 
> ```
> 
> invokableMethod() 函数使用 Q_INVOKABLE 进行标记，使其注册到元对象系统并使其能够使用 QMetaObject::invokeMethod() 调用。由于 normalMethod() 函数没有以这种方式注册，因此无法使用 QMetaObject::invokeMethod() 调用它。

您也可以使用`slots`宏。不过，我认为`Q_INVOKABLE`可能会更小。

QMetaObject 只知道信号、槽、属性和其他可调用的成员函数，有时称为“元方法”作为一个组。

* * *

此外，对于您示例的第一行，您应该（可能）只调用

```
const QMetaObject *metaobj = someClass->metaObject(); 
```

这不仅仅是化妆品。这`dynamic_cast`会将类型检查移至运行时，如果您在编译时知道它`someClass`是指向 -`QObject`派生类的指针，则这不是必需的。（`dynamic_cast`ing to`QObject*`会起作用，并且会因为虚拟继承而为您提供正确的 QMetaObject ，但这是不必要的，不太安全且不清楚。）

您实际上不需要类的实例来获取元对象：

```
const QMetaObject *metaobj = SomeClass::staticMetaObject(); 
```

这是可能的，因为每个类有一个 QMetaObject，而不是每个对象。

对于任何想了解更多元对象系统的人，我推荐咖啡和 [文档](http://qt-project.org/doc/qt-5.0/qtcore/metaobjects.html#meta-object-system)。通常您不需要直接处理 QMetaObject 实例，除非您正在编写脚本引擎或类似的“元”。无意中复制 Qt 已经提供的功能很容易。

* * *

还有，`Q_DECLARE_METATYPE`不是你想要的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-29T07:02:04.143

[官方文档](http://qt-project.org/doc/qt-5.0/qtcore/qmetaobject.html)中存在某种歧义。

首先我们看到：

> method() 和 methodCount() 提供有关类的元方法（信号、槽和其他**可调用**成员函数）的信息。

但后来：

> int QMetaObject::methodCount() const 返回此类中方法的数量，包括每个基类提供的属性数量。这些包括信号和槽以及**正常**的成员函数。

但实际上我们无法通过 Qt MetaObject System 访问“正常”方法。

因此，要访问您的方法，您应该使用`Q_INVOKABLE`宏声明它们：

```
Q_INVOKABLE void method1();
Q_INVOKABLE void method2(); 
```

# bigdata - 有人可以解释概率计数是如何工作的吗？

> ID：14576083
> 
> 赞同：3
> 
> 时间：2013-01-29T05:13:03.407
> 
> 标签：bigdata

特别是围绕日志日志计数方法。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-25T10:04:41.733

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T05:27:36.787

它不完全适用于对数计数方法，但我认为它可以帮助你，使用莫里斯算法，计数器代表实际计数的“数量级估计”。近似值在数学上是无偏的。为了增加计数器，使用伪随机事件，使得增加是概率事件。为了节省空间，只保留指数。例如，以 2 为底，计数器可以估计计数为 1、2、4、8、16、32 以及所有 2 的幂。内存要求只是保持指数。例如，要从 4 增加到 8，将生成一个伪随机数，这样 0.25 的概率会在计数器中产生正变化。否则，计数器保持在 4\. 来自 wiki

# c++ - 有效的容器，可保持秩序并快速从任何位置删除元素

> ID：14576087
> 
> 赞同：1
> 
> 时间：2013-01-29T05:13:29.997
> 
> 标签：c++, optimization, containers

我正在寻找满足我以下需求的 C++ 容器：

*   我需要按索引删除元素。
*   在我删除一个元素后，我将在前面插入另一个元素（总是！！！！！！）
*   除此之外，尺寸没有变化。
*   它需要被索引。
*   存储在容器中的值是唯一的，作为索引。
*   一个索引应该分配给一个值。除非我删除或添加一个值。然后应该调整索引。

对于另一组与该容器并行工作的数据，我需要一个具有这些功能和这些附加功能的数据：

*   这需要在两个方向上工作：由于它存储一个唯一值，我需要能够非常快速地通过实际值（100% 唯一）访问索引，因为这种情况会发生很多次。

我不能授权，任何值类型都支持运算符，`<`如`<=``==``!=`

如果有问题，请继续提问。如果有不清楚的地方，我会进一步解释。

编辑：

既然我被要求，这背后的实际问题就来了：

我正在编写一个由模板容器类组成的库，它能够存储一定数量的对象。所有这些对象都是同一类型。（嗯，当然......）这些对象的另一个非常重要的属性必须是，它们可以通过唯一索引重新创建。这个索引也可以是任何东西。在这种情况下，一个示例是二维空间，您可以在其中创建平面上的对象，并且可以通过为对象类提供坐标来重新创建所有属性（在这种情况下作为单个对象）。现在，当容器达到最大容量时，它会删除最后使用的对象。我的想法是在这里，你给容器唯一的索引。如果仍存储所需的对象，则该函数返回对象上的指针并将其在内部容器内移动到前面。

我需要这个，因为我有一个程序可以轻松使用我所有的 RAM 甚至更多。好吧，我每次都可以生成和销毁对象，但这对我来说似乎是在浪费计算能力。所以我想出了这个只删除对象的容器，如果它没有被使用很长时间的话。这在我的特殊情况下非常有用（在**巨大**的地图上寻找路径）

我希望这会有所帮助！

**编辑2：**

好的。我要更清楚地说明这一点。

让我们从一个简单的数据缓存开始：

```
[0] d1  [1] d2  [2] d3  [3] d4 
```

现在假设我使用了 d3。结构现在应该如下所示：

```
[0] d3  [1] d1  [2] d2  [3] d4 
```

现在我向容器 (d5) 添加一个全新的元素。

```
[0] d5  [1] d3  [2] d1  [3] d2 
```

这就是背后的想法。现在代替`int`-values 作为索引，我允许有一个自定义索引类，它能够恢复每个可能被删除的对象（这不是问题。只是我的类工作的要求）。

让我们从开头的陈述开始。第一种情况看起来像这样：

```
[0] i1  [1] i2  [2] i3  [3] i4
[i1] 0  [i2] 1  [i3] 2  [i4] 3 
```

第二个示例如下所示：

```
[0] i3  [1] i1  [2] i2  [3] i4
[i1] 1  [i2] 2  [i3] 0  [i4] 3 
```

最后最后一个状态是这样的：

```
[0] i5  [1] i3  [2] i1  [3] i2
[i1] 2  [i2] 3  [i3] 1  [i5] 0 
```

我希望这更清楚。对于第二个，可能有多个容器。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T05:43:47.540

抱歉 - 我觉得你的问题有点含糊 - 但我会说明我认为你的要求必须是什么，然后讨论数据结构的需求......

所以，我们有像这样的索引数据（索引在括号中）：

```
[0] a  [1] h  [2] b  [3] q 
```

您的主要操作是删除/插入 - 假设我们确实删除了元素 2 并插入值 x，我们将拥有：

```
[0] x  [1] a  [2] h  [3] q 
```

因此，如果我们将要删除的元素索引称为*n*，假设我们实际上所做的是将 [0..n-1] 沿一个位置移动，然后用额外的值覆盖 [0] 。

讨论

如果使用向量执行此操作，则移动操作可以任意大且相对较慢。但是，如果您使用其他一些容器，例如关联容器（地图、无序地图），则无论如何您都必须更新所有这些“移动”元素的键。其他常见的容器不提供 O(log2N) 或更好的索引，所以没有希望，所以让我们坚持使用向量，看看如何最小化痛苦。除了移动是 O(N) 之外，它还涉及移动任意大的对象：在对象比指针大得多的情况下，您可以拥有一个指向对象的数组，并且只需移动数组的指针而不移动对象：这可能会快得多（它对于不喜欢被移动的对象也很有用，

我想不出比这种矢量方法更好的方法了。

回到您的问题的模糊性-如果您将“索引”与“键”混淆，并且只需要一个键控容器但不需要对象在每次删除/插入操作时移动其键，那么映射或无序映射就很重要了更好的选择。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-29T08:32:17.650

让我们看看您的要求：

*   按位置访问
*   按元素访问
*   在任意位置删除
*   元素的单一性

如何 ？

*   您需要带有随机访问的东西来支持“按位置访问”，或者至少接近随机访问 O(log N) 可能就足够了
*   鉴于元素可能不支持排序，唯一性将需要使用哈希集

我认为这可以使用 Boost.MultiIndex 轻松实现。[示例](http://www.boost.org/doc/libs/1_52_0/libs/multi_index/doc/index.html)部分已经给出了 MRU 缓存实现，您已经足够接近了。我建议结合：

*   随机[访问索引](http://www.boost.org/doc/libs/1_52_0/libs/multi_index/doc/reference/rnd_indices.html#synopsis)：按位置产生访问和删除
*   带有[哈希索引](http://www.boost.org/doc/libs/1_52_0/libs/multi_index/doc/reference/hash_indices.html#synopsis)：产生按元素访问和唯一性检查

这意味着类似：

```
typedef multi_index_container<
  T,
  indexed_by<
    random_access<>,
    hashed_unique</*...*/>
  > 
> cache_type; 
```

注意：要使散列*索引*起作用，您需要同时支持`==`（或专门化`std::equal<T>`）*和*散列函子。如果类型尚不支持后者，则用户可以在容器声明时提供后者。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-29T07:24:12.280

如果您使用的是 boost c++ 库，请查看多索引容器。

[http://www.boost.org/doc/libs/1_52_0/libs/multi_index/doc/index.html](http://www.boost.org/doc/libs/1_52_0/libs/multi_index/doc/index.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-29T06:47:34.237

好的。谢谢大家，但我找到了一个非常有效的解决方案：

由于我的问题需要以下数据结构；

```
[0] d1  [1] d2  [2] d3  [3] d4
[0] i1  [1] i2  [2] i3  [3] i4
[i1] 0  [i2] 1  [i3] 2  [i4] 3 
```

我决定使用这些容器：

1.  `list`
2.  `list`
3.  `map`

通过一些研究，我发现了`std::advance`和`std::next`，这使我能够有效地访问`list`. 要更新地图，我将只运行一个简单的 for 循环，它应该会非常有效。

如果您有更好的想法，请在此处发布！

再次感谢你！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-06-30T16:42:06.783

只是想指出 multi_index_container 解决方案与使用向量支持随机访问具有同样的低效率：删除的成本与数据结构的大小成线性关系。在内部，random_access 索引使用类似于指针向量的数据结构。

没有那么多的数据结构允许在优于线性的时间内随机访问和删除任何元素。AFAIK std::deque 具有线性时间删除，除非该项目接近序列的末端之一。

这给我们留下了平衡的二叉树（和变体，如跳过列表）。自平衡二叉树可以以固定开销保持任何节点下方的子树的大小，并通过这种“增强”实现 O(log n) 中的随机访问。不幸的是，std::map 的默认实现通常没有这个特性。因此，使用 std::map 和 std::advance 可为您提供线性时间随机访问。您无法在 std::map 的“顶部”实现有效的随机访问，因为您的用户代码不知道 std::map 在内部完成的树操作。

您可以自己滚动（AVL 树相对容易实现）。除非您愿意接受随机访问查找或删除+插入操作的性能不佳，否则想不出任何更简单的方法。不涉及树的“最坏”解决方案可能是使用 std::deque

编辑：我提到的增强树数据结构被称为[http://en.wikipedia.org/wiki/Order_statistic_tree](http://en.wikipedia.org/wiki/Order_statistic_tree)。

# extjs - 使用 JSON Reader 映射数组内的数组

> ID：14576088
> 
> 赞同：0
> 
> 时间：2013-01-29T05:13:31.290
> 
> 标签：extjs, sencha-touch

我的 JSON 如下所示：

```
{
    "records": [
        {
            "_id": "5106f97bdcb713b818d7f1f1",
            "cn": "lsacco",
            "favorites": [
                {
                    "fullName": "Friend One",
                    "uid": "friend1"
                },
                {
                    "fullName": "Friend Two",
                    "uid": "friend2"
                }
            ]
        }
    ]
} 
```

当我尝试使用 records.favorites 作为我的 JSON 阅读器的根时，我没有将任何结果填充到我的模型中。有没有办法做到这一点而不必求助于使用关联？请注意，在我的情况下，记录将只有一个元素，尽管它显示了一个数组。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T06:50:17.733

`records.favorites`无效，因为该属性不存在。

你要：

`records[0].favorites`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T11:05:28.150

***records***已被声明为数组，因此***records.favorites***将指向 json 数据文件中的任何内容。

在记录中使用索引应该可以解决问题。

# android - 来自字符串值的 PDF 视图

> ID：14576090
> 
> 赞同：0
> 
> 时间：2013-01-29T05:13:48.137
> 
> 标签：android

我的要求是，我需要为我的应用程序以 pdf 格式显示内容。我正在通过 HTTP 调用获取文件的 InputStream。如何将此 InputStream 转换为 PDF 视图而不存储在 SD 卡中？

我可以使用下面的代码：

```
 Intent intent = new Intent(Intent.ACTION_VIEW);
     intent.setDataAndType(Uri.fromFile(new File(File Path)), "application/pdf");
     intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
      startActivity(intent); 
```

但是有没有其他方法可以在 PDF 中显示？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:09:28.570

还有另一种在 android 应用程序中显示 PDF 的方法，即使用来自的支持将 PDF 文档嵌入到**android webview**`http://docs.google.com/viewer`

伪

```
String doc="<iframe src='http://docs.google.com/viewer?url=+location to your PDF File+' 
              width='100%' height='100%' 
              style='border: none;'></iframe>"; 
```

示例如下所示

```
 String doc="<iframe src='http://docs.google.com/viewer?url=http://www.iasted.org/conferences/formatting/presentations-tips.ppt&embedded=true' 
              width='100%' height='100%' 
              style='border: none;'></iframe>"; 
```

代码

```
 WebView  wv = (WebView)findViewById(R.id.webView); 
    wv.getSettings().setJavaScriptEnabled(true);
    wv.getSettings().setPluginsEnabled(true);
    wv.getSettings().setAllowFileAccess(true);
    wv.loadUrl(doc);
    //wv.loadData( doc, "text/html",  "UTF-8"); 
```

并在清单中提供

```
<uses-permission android:name="android.permission.INTERNET"/> 
```

看到[**这个**](https://stackoverflow.com/a/11718742/1450401)

注意：我不知道各种 android 版本的兼容性问题

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-29T05:38:26.770

试试这种方式：

> ```
>  File m_file=new File("/sdcard/myPdf.pdf");
>    Uri m_uri=Uri.fromFile(m_file);
> 
> try
>   {
>     Intent intentUrl = new Intent(Intent.ACTION_VIEW);
>      intentUrl.setDataAndType(m_uri, "application/pdf");
>      intentUrl.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
>      startActivity(intentUrl);
>    }
> catch (ActivityNotFoundException e)
> {
>     Toast.makeText(m_context, "No PDF Viewer Installed", Toast.LENGTH_LONG).show();
> } 
> ```

# android - 如何使用 Eclipse 将 Asp.net mvc 3 移动 Web 应用程序转换为 Android 应用程序？

> ID：14576096
> 
> 赞同：1
> 
> 时间：2013-01-29T05:14:13.790
> 
> 标签：android, eclipse, asp.net-mvc-3, cordova, xamarin.android

我正在使用 Asp.net mvc 3、jquery mobile、jquery 开发移动 Web 应用程序，它在 android、iPhone 中运行良好。

如何使用 Eclipse 将此应用程序转换为 Android 应用程序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T05:59:20.187

首先，我不想转换它们。因为如果您直接转换，则无法利用本机 UI。但它在移动设备中看起来就像在移动浏览器中运行一样。但是，如果您想尝试，仍然可以使用[phonegap](http://phonegap.com/)。

如果你想用 native 做事，我强烈推荐[mono for android](http://xamarin.com/monoforandroid)。因此，您的后端将保留在 asp.net mvc 应用程序中，而其他内容将转移到本机应用程序。而且您只能使用 C# 编写代码。

如果需要任何其他信息，请告诉我。

# android - 来自在单独进程中运行的服务的访问变量

> ID：14576097
> 
> 赞同：1
> 
> 时间：2013-01-29T05:14:31.833
> 
> 标签：android, service, process

我在我的 android 项目中创建了一项服务，当我在清单中声明它时，它在进程中单独运行，例如，

```
android:process=":MyService" 
```

我知道，一旦你在单独的进程中创建服务；你不能从服务中访问任何变量。但在我的情况下，我想要两者，

1）在单独的进程中运行服务并且

2）从此服务访问变量。

我怎样才能做到这一点？

这样做有诀窍吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T05:21:46.053

我不认为有任何直接的沟通。虽然您可以使用广播接收器。

[从该服务发送广播](http://developer.android.com/reference/android/content/Context.html#sendBroadcast%28android.content.Intent%29)，然后在另一个服务中[注册广播接收器](http://developer.android.com/reference/android/content/BroadcastReceiver.html)

也看看这个答案

[Andoird中不同进程上运行的服务之间的通信？](https://stackoverflow.com/a/12745068/1626878)

# php - PHPExcel将字符串写入每个单元格

> ID：14576098
> 
> 赞同：0
> 
> 时间：2013-01-29T05:14:32.633
> 
> 标签：php, arrays, string, phpexcel

我只是使用 PHPExcel 并想从名称到从 L14 开始的每个单元格写入一个字符串并向右（M14，N14，..），我的代码如下：

```
$length = strlen($name)

for ($i =0; $i<$length; $i++) {
    $char = $name[$i];
    $rowID = 14;
    $columnID = 'L';
    $objPHPExcel->getActiveSheet()
                ->setCellValue($columnID.$rowID,$huruf);
    $columnID++;
} 
```

但结果只是写到 L14 的最后一个字符，有人知道我的问题吗？

非常感谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T07:33:05.137

因为您要在循环**内**重置 $rowID 和 $columnID (PHP 101)：

```
$length = strlen($name)

$rowID = 14;
$columnID = 'L';
for ($i =0; $i<$length; $i++) {
    $char = $name[$i];
    $objPHPExcel->getActiveSheet()
                ->setCellValue($columnID.$rowID,$huruf);
    $columnID++;
} 
```

# android - Android：执行 INNER JOIN 时如何从光标访问结果？

> ID：14576100
> 
> 赞同：6
> 
> 时间：2013-01-29T05:14:40.400
> 
> 标签：android, sqlite, android-sqlite

我在我的 SQLite 数据库中的两个表 table1 和 table2 上使用 INNER JOIN。如何从游标访问结果（两个表的列）？这两个表有 2 列同名。

```
 String query = SELECT * FROM table1 INNER JOIN table2 ON table1.id=table2.id WHERE name like '%c%';
        Cursor c = newDB.rawQuery(query, null); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-29T06:20:54.393

您可以指定列名而不是使用“*”。

```
String query = SELECT table1.id AS ID,table2.column2 AS c2,...... FROM table1 INNER JOIN table2 ON table1.id=table2.id WHERE name like '%c%'; 
```

然后使用列名 ID、c2 等访问。

```
while (cursor.moveToNext()) {
  String c2 = cursor.getString(cursor.getColumnIndex("c2"));
  int id = cursor.getInt(cursor.getColumnIndex("ID"));
  ..............
  .............
} 
```

编辑断开的链接：检查 rawQuery 方法在这里[http://www.vogella.com/tutorials/AndroidSQLite/article.html](http://www.vogella.com/tutorials/AndroidSQLite/article.html) 和这里[http://www.codota.com/android/methods/android.database.sqlite.SQLiteDatabase/](http://www.codota.com/android/methods/android.database.sqlite.SQLiteDatabase/rawQuery)不同示例的[rawQuery](http://www.codota.com/android/methods/android.database.sqlite.SQLiteDatabase/rawQuery)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-29T06:16:20.293

```
Cursor c=databseobject.functionname() //where query is used
if(c.movetofirst()) {
    do {
        c.getString(columnindex);
    } while(c.movetoNext());
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-29T06:19:28.007

您可以像访问任何其他查询一样访问结果。唯一的区别是有可能发生名称冲突，两个表上的列名相同。为了解决这些冲突，您需要使用表名作为前缀。

例如

```
Long id = c.getLong(c.getColumnIndex(tableName1 + "." + idColumnName)); 
```

如果这种方法不起作用。您应该按如下方式编写查询：

```
String query = SELECT table1.id AS table1_id FROM table1 INNER JOIN table2 ON table1.id=table2.id WHERE name like '%c%';
Cursor c = newDB.rawQuery(query, null); 
```

还有一个一般注意事项，最好不要使用“Select *...”，最好明确写出您要选择的列。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-29T05:58:37.317

我使用以下内容进行内部连接：

```
public Cursor innerJoin(Long tablebId) {
    String query = SELECT * FROM table1 INNER JOIN table2 ON table1.id=table2.id WHERE name like '%c%';
    return database.rawQuery(query, null);
} 
```

你可以迭代你的光标如下：

> ```
> Cursor cursor = innerJoin(tablebId);
>   String result = "";
>   int index_CONTENT = cursor.getColumnIndex(KEY_CONTENT);
>   cursor.moveToFirst();
>   do{
>      result = result + cursor.getString(index_CONTENT) + "\n";
>     }while(cursor.moveToNext()); 
> ```

希望这对你有用

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-29T05:59:08.610

如果您知道列名，那么您可以在下面找到它，

```
long id = cursor.getLong(cursor.getColumnIndex("_id"));
String title = cursor.getString(cursor.getColumnIndex("title")); 
```

如果您只想查看返回游标的所有列名，则可以使用[String[] getColumnNames()](http://developer.android.com/reference/android/database/Cursor.html#getColumnNames%28%29)方法检索所有列名。

希望这会给你一些提示。

# php - 使用简单 xml 的 XML 到 PHP ARRAY

> ID：14576101
> 
> 赞同：-1
> 
> 时间：2013-01-29T05:14:43.500
> 
> 标签：php, xml, arrays

> **可能重复：**
> [将 XML 解析为数组](https://stackoverflow.com/questions/3428908/parsing-xml-into-array)

如何将我的 xml 文件转换为 php 数组，这是我的 xml 文件：

```
<?xml version="1.0" standalone="yes"?>
<EKG_DS>
  <EKG_PASIEN>
    <DOKTER>1</DOKTER>
    <NO_RM>0007</NO_RM>
    <NAMA>DONI</NAMA>
    <UMUR>36</UMUR>
    <ALAMAT>JAKARTA</ALAMAT>
    <TANGGAL>28/01/2013</TANGGAL>
  </EKG_PASIEN>
  <EKG>
    <ID_IRAMA_DSR>2</ID_IRAMA_DSR>
    <DENYUT_JNTG>2</DENYUT_JNTG>
    <ID_REG_DENYUT_JNTG>2</ID_REG_DENYUT_JNTG>
    <ID_GLMBG_P>2</ID_GLMBG_P>
    <ID_BENTUK_GLMBG_P>2</ID_BENTUK_GLMBG_P>
    <ID_REG_GLMBG_P>1</ID_REG_GLMBG_P>
  </EKG>
</EKG_DS> 
```

我尝试使用此代码，但只是字符串...我需要一个数组..

```
if (file_exists('C:/download/171_EKG.xml')) {
    $xml = simplexml_load_file('C:/download/171_EKG.xml');
     print"<pre>";
    print_r($xml);
} 
```

请帮我...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T05:25:07.100

使用 xpath 命令，它在创建数组时效果很好。

例如，要创建所有标签的数组，名为：A

$xml = new SimpleXMLElement("NameOfTheXMLFiles"); $arr=$xml->xpath("A");

然后获取任何带有标签 A 的元素作为数组：$arr[0]、$arr[1] 等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T05:45:19.473

我尝试了相同的代码，它返回了一个完美的对象数组，这很明显。

这是我尝试过的

```
if (file_exists('test.xml')) {
    $xml = simplexml_load_file('test.xml');
    print_r($xml);
    $xml->EKG_PASIEN->ALAMAT; //Returns JAKARTA
} 
```

在上面的代码中，您还可以找到如何从对象数组访问单个记录。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-29T05:46:36.727

试试这个：

```
$xml2Array = array();
if (file_exists('C:/download/171_EKG.xml')) {
    $xml = simplexml_load_file('C:/download/171_EKG.xml');
    foreach( $xml->children() as $key => $value ) {
        $nodes = array();
        foreach( $value->children() as $k => $v ) {
            $nodes[ ( string ) $v->getName() ] = ( string ) $v;
        }

        $node = ( string ) $value->getName();
        $xml2Array[ $node ][] = $nodes;
    }
}
print_r($xml2Array); 
```

希望这可以帮助。

# mysql - 比较同一行

> ID：14576103
> 
> 赞同：0
> 
> 时间：2013-01-29T05:14:53.347
> 
> 标签：mysql

我有一个表 - user_tracking - 存储 user_id、购买 sku 和事件 time_created。每次用户返回购买原始 user_id 时都会引用一个新的时间戳：

```
User_ID    Sku             Time_Created
  1       1234          2012-10-01 01:00:00
  2       2345          2012-10-02 02:00:00
  3       6789          2012-10-02 01:00:00
  2       5432          2012-10-04 04:00:00 
```

我想衡量退货客户的使用情况，但仅适用于在初次购买后 7-60 天内退货的客户。目前我的查询看起来像：

```
SELECT
  total_purchases.user_id             as user_1_id,
  total_purchases.time_created        as time_1_created,
  total_purchases.total_purchases     as total_original_purchases,
  total_return.user_id                as user_2_id,
  total_return.time_created           as time_2_created,
  total_return.total_return_purchases as total_return_purchases
FROM (SELECT
    user_tracking.user_id                as user_id,
    user_tracking.time_created           as time_created,
    COUNT(DISTINCT user_tracking.sku)    as total_purchases
      FROM user_tracking
      WHERE user_tracking.time_created BETWEEN "2012-10-01 00:00:00"
      AND "2012-10-15 00:00:00") AS total_purchases
  LEFT JOIN (SELECT
           user_tracking.user_id                as user_id,
           user_tracking.time_created           as time_created,
           COUNT(DISTINCT user_tracking.sku)    as total_return_purchases
         FROM user_tracking
         WHERE user_tracking.time_created BETWEEN "2012-10-01 00:00:00"
         and "2012-12-15 00:00:00") AS total_return
    ON total_purchases.user_id = total_return.user_id 
```

我怎样才能确保我只衡量原始用户在 7-60 天内的购买情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T05:37:20.673

您可以使用间隔

```
AND datecolumn BETWEEN (datecolumn, INTERVAL 7 DAYS) AND (datecolumn, INTERVAL 60 DAYS) 
```

# c# - 使用命名空间从 XML 加载对象

> ID：14576106
> 
> 赞同：0
> 
> 时间：2013-01-29T05:15:07.917
> 
> 标签：c#, linq-to-xml

我环顾四周，无法为我需要的解决方案。如果这似乎是一个重复的问题，我深表歉意。

我正在查询一个 IDOL 服务，需要从 xml 响应加载一个对象。

给出示例 xml：

```
<autnresponse xslns:autn="http://schemas.autonomy.com/aci/">
  <action>QUERY</action>
  <response>SUCCESS</response>
  <responsedata>
    <autn:numhits>2</autn:numhits>
    <autn:totalhits>2</autn:totalhits>
    <autn:totaldbdocs>2</autn:totaldbdocs>
    <autn:totaldbsecs>2</autn:totaldbsecs>
    <autn:hit>
      <autn:reference>http://blah</autn:reference>
      <autn:title>my title</autn:title>
    </autn:hit>
    <autn:hit>
      <autn:reference>http://blah</autn:reference>
      <autn:title>my title</autn:title>
    </autn:hit>        
  </responsedata>
</autnresponse> 
```

我正在尝试使用 linq to XML 加载自定义对象的列表。

这是我尝试过的代码，但我总是没有得到任何结果。

```
 var namespaceManager = new XmlNamespaceManager(new NameTable());
 namespaceManager.AddNamespace("autn", "http://schemas.autonomy.com/aci/"); 
```

...加载 Xelemet .....

```
IEnumerable<XElement> urls = raw.Elements(IDOLModule.GetNamespace()+ "hit");
            foreach (var single in urls)
            {
                var t = new url();
                t.Title="";
                t.Url="";
                listURL.Add(t);
            } 
```

**urls**变量总是空的。我只需要定位 autn:hits 节点并将它们的数据加载到对象中。

干杯，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T07:34:59.700

***你可以尝试这样的事情：***

```
XElement doc = XElement.Parse(@"<autnresponse xmlns:autn=""http://schemas.autonomy.com/aci/"">
                                  <action>QUERY</action>
                                  <response>SUCCESS</response>
                                  <responsedata>
                                    <autn:numhits>2</autn:numhits>
                                    <autn:totalhits>2</autn:totalhits>
                                    <autn:totaldbdocs>2</autn:totaldbdocs>
                                    <autn:totaldbsecs>2</autn:totaldbsecs>
                                    <autn:hit>
                                      <autn:reference>http://blah</autn:reference>
                                      <autn:title>my title</autn:title>
                                    </autn:hit>
                                    <autn:hit>
                                      <autn:reference>http://blah</autn:reference>
                                      <autn:title>my title</autn:title>
                                    </autn:hit>
                                  </responsedata>
                                </autnresponse>");
XNamespace ns = ("http://schemas.autonomy.com/aci/");
//Console.WriteLine(doc.Descendants(ns + "numhits").First().Value);
IEnumerable<XElement> hits=doc.Descendants(ns + "hit");
foreach (XElement h in hits){
    Console.WriteLine(String.Format("{0} - {1}",h.Name.ToString(),h.Elements().First().Value));
}; 
```

# git - 如何仅删除远程存储库中的文件？

> ID：14576109
> 
> 赞同：22
> 
> 时间：2013-01-29T05:15:22.847
> 
> 标签：git

> **可能重复：**
> [Git：从存储库中删除文件而不从本地文件系统中删除它](https://stackoverflow.com/questions/1143796/git-remove-a-file-from-the-repository-without-deleting-it-from-the-local-filesy)

我希望从远程存储库中删除文件而不从本地副本中删除文件。有没有办法在 git 中做到这一点？

原因是：我正在做一个早期的项目。我提交了一些不应该在存储库中的文件，所以我将这些文件添加到`.gitignore`. 如果我从本地副本中删除这些文件，该程序将无法运行。

谢谢大家。这个问题是重复“[从 Git 存储库中删除文件而不从本地文件系统中删除它](https://stackoverflow.com/questions/1143796/git-remove-a-file-from-the-repository-without-deleting-it-from-the-local-filesy)”

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2013-01-29T05:21:05.590

使用此命令

```
git rm --cached <filename>
git rm --cached -r <dir_name>
git commit -m "Removed folder from repository"
git push origin master 
```

这会从索引中删除***文件名***，而不会触及您的工作树。

# bash - bash 和 sh 在执行下一个命令之前是否都等待命令终止？

> ID：14576119
> 
> 赞同：1
> 
> 时间：2013-01-29T05:16:26.273
> 
> 标签：bash, shell, sh, execution

在执行下一个命令之前同时执行`bash`并`sh`等待命令终止？

当我期望命令一个接一个地执行时（即不同行上的命令），我已经运行了一些脚本，但它似乎并没有那样工作。我无法立即记住确切的脚本，但我将命令与`&&`符号分开。

如果您从如何将脚本中的行剪切并粘贴到终端中，是否可以保证较早的行将在以下行之前完成？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-29T05:22:22.530

如果您有管道`|`或后台作业`&`，那么评估可能是非顺序的，否则它会一个接一个地评估事物。

但是，如果输出在不同的流中，它们可能会乱序进入控制台。例如，如果您同时打印到 STDOUT 和 STDERR，则每个流中的行将按顺序排列，但它们可能以不反映代码中打印顺序的方式交错。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-29T05:20:53.530

是的。只要命令在前台执行。即命令行末尾没有“&”字符。

可能是你的“&&”里面的一个空间

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-29T05:21:56.290

是的，它按顺序执行...但是如果您使用 & 在后台运行作业，则它可能无法按预期工作。因为这些作业将在后台运行。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-29T05:20:35.760

在一般情况下，是的。一个命令将执行，它的返回值将在命令完成时变为可用，然后下一个命令将运行。

可以通过向作业添加 a`&`来引导 shell 启动后台作业，例如：

```
somecommand &
anothercommand 
```

在这种情况下，`somecommand`将在后台执行并且`anothercommand`可能在完成之前启动（也可能完成）`somecommand`。

# maven - 有没有更好的方法在 Nexus 中配置存储库？

> ID：14576124
> 
> 赞同：0
> 
> 时间：2013-01-29T05:16:51.100
> 
> 标签：maven, repository, nexus

我有 Nexus 服务器和团队内共享的 Maven 用户设置，其中包含

```
 <mirrors>
      <mirror>
      <!--This sends everything else to /public 
      http://www.sonatype.com/books/nexus-book/reference/maven-sect-single-group.html
      -->
      <id>nexus</id>
      <mirrorOf>*</mirrorOf>
      <url>http://192.168.16.232:8081/nexus/content/groups/public</url>
    </mirror>    
  </mirrors> 
```

这就是在 pom.xml 中定义的所有存储库（包括默认的 Maven Central）都由 Nexus 提供服务。

在 Nexus 中，新的存储库被添加到公共组中。

![Nexus 公共组](../Images/bd9cadc8b0bb44f27e4e2a2a452b3931.png)

问：有没有更好的方法？目前其他开发人员不了解 Nexus+Maven 交互，并且当 pom.xml 中定义了新的存储库（不是由 Nexus 代理）时，maven 只会说“无法获取工件”。但不是“配置你的 Nexus 服务器” :) 其次，我发现一些公共存储库也从其他一些存储库缓存，所以最后，我不能确定这个 jar 到底来自哪里。

更新：我正在寻找最漂亮、简单、易于解释和理解的解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T16:28:03.997

我将根据我最近的经验给出一些想法，但我的感觉是，您应该确保您对构建以及各个组与它的交互有明确的要求，并推动构建环境的设计从那些真正的要求。

提示。

1）我不会把镜像放在 CI 构建服务器上的任何地方。通知开发人员，他们可以从他们想要的本地开发框中的任何地方提取，但是当他们签入时，如果无法从 CI 引用的关系中找到依赖项，那么他们必须与您一起处理。这将责任推给了他们。

2）这是很多存储库。我会考虑不正式引用这么多公共回购。我对那些回购特别了解不多，但有很多东西。听起来你正在经历重复。但是，您的公共组配置会告诉您 jar 来自何处；该配置中存储库的顺序将确定 jar 的来源。所以，它总是从它找到它的第一个地方拉。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-30T15:43:59.690

这实际上是我们在我工作的地方完成它的确切方式。我们镜像了大约 30 个公共回购，这是最简单的方法。开发人员都使用我们的 nexus 安装作为一站式购物，当我们需要添加东西时，它只会显示在公共存储库中。这样做还可以让我们更好地控制人们正在使用的工件，因为我们只包括我们想要允许的东西，而不是世界上的所有东西。

不过，我们确实有一个区别，我们有一个“仅发布”和“仅快照”存储库，而不是一个巨大的公共存储库。主要原因是我们可以有不同的缓存策略，但它在组织上也更好一些。

我在设置中遇到的唯一问题是，如果您尝试在不在网络（办公室或 vpn）上的情况下进行构建，则没有任何效果。我通过在本地保留 2 个 settings.xml 文件并在我需要的极少数情况下切换来解决这个问题。

# blackberry - 以编程方式备份 黑莓应用程序数据

> ID：14576125
> 
> 赞同：1
> 
> 时间：2013-01-29T05:16:53.803
> 
> 标签：blackberry, backup, messenger, memo

我正在黑莓中开发一个应用程序来备份其数据、BBM 聊天、备忘录、任务、日历笔记、密码管理器数据等，这些数据可以与其他黑莓手机同步（以防用户购买新的黑莓设备）。我该如何进行？请给我一些想法/代码来备份上述数据。另外，我知道 BBM 不允许访问其聊天。我们如何访问密码管理器数据以及如何备份所有这些数据？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T14:50:34.170

很简单，您将无法做到。出于安全原因，BBM 不允许访问，并且无论如何都应该绑定到 BlackBerry 帐户。

我应该认为密码管理员的情况类似。

# php - 如何查看自动增量字段的最后插入值

> ID：14576126
> 
> 赞同：0
> 
> 时间：2013-01-29T05:17:00.150
> 
> 标签：php, mysql, auto-increment

在我的数据库中，我有一个称为`spaj_per`自动增量主键的字段。

如何在字段中显示最新插入的值`spaj_per`。我试过这个。

```
<?php
    $con = mysql_connect("localhost", "SuperAdmin", "***");
    if (!$con) {
        die('Could not connect: ' . mysql_error());
    }

    $db_selected = mysql_select_db("sistem_pengurusan_fail",$con);

    $q = "SELECT MAX(id) AS spaj_per FROM unit_pengambilan"; 
    $result = mysql_query($q); 
    $row = mysql_fetch_array($result); 

?>
<?php echo $row['spaj_per']; ?> 
```

但它不会起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T05:20:21.107

您可以使用

```
SELECT id FROM mytable ORDER BY id DESC LIMIT 1; 
```

或喜欢

```
$last_id = mysql_insert_id(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T05:20:22.083

尝试这个，

```
$q = "SELECT MAX(spaj_per) AS spaj_per FROM unit_pengambilan"; 
$result =mysql_query($q); 
$row = mysql_fetch_row($result); 

echo $row[0]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-29T05:20:51.753

尝试[`mysql_insert_id`](http://php.net/manual/en/function.mysql-insert-id.php)

```
For more reference use following link
http://php.net/manual/en/function.mysql-insert-id.php 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-29T05:22:15.360

尝试以下

```
<?
$q = "SELECT MAX(spaj_per) AS last_spaj_per FROM unit_pengambilan"; 
$result =mysql_query($q); 
$row = mysql_fetch_array($result); 

 echo $row['last_spaj_per']; 
?> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-29T05:22:33.043

`$row = mysql_fetch_array($result);`更改`$row = mysql_fetch_assoc($result);`并尝试

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-29T05:19:32.470

使用PHP的`mysql_insert_id()`函数

# javascript - 错误---Access-Control-Allow-Origin不允许Origin null

> ID：14576127
> 
> 赞同：0
> 
> 时间：2013-01-29T05:17:48.233
> 
> 标签：javascript, android, jquery, cordova

> **可能重复：**
> [XmlHttpRequest 错误：Access-Control-Allow-Origin 不允许 Origin null](https://stackoverflow.com/questions/3595515/xmlhttprequest-error-origin-null-is-not-allowed-by-access-control-allow-origin)

我正在开发在浏览器中运行良好的天气应用程序。但是，当我尝试在我的 android 手机中进行部署时，它无法正常工作并且会抛出错误。XML 响应为空。请帮我。

```
<html>
 <head>
    <title>Calling Web Service from jQuery</title>
    <script type="text/javascript" charset="utf-8" src="cordova-2.2.0.js"></script>
    <script type='text/javascript' src='xmlObject.js'></script>
    <script type='text/javascript' src='jquery-1.8.2.min.js'></script>
    <script type="text/javascript" src="json2.js"></script>  
    <script type="text/javascript">

        $(document).ready(function () {
            $("#btnCallWebService").click(function (event) {
                alert('click' + $("#cityName").val());

                var xmlhttp = new XMLHttpRequest();     
                xmlhttp.open("POST", "http://www.webservicex.net/globalweather.asmx?op=GetWeather",true);
                xmlhttp.onreadystatechange = function () 
                {
                    if (xmlhttp.readyState == 4) 
                    {   
                        var myXML=xmlhttp.responseXML;
                        alert("Response XML in getWeatherInformation : ");
                        alert(myXML);                                                                        

                        var json = XMLObjectifier.xmlToJSON(xmlhttp.responseXML);                                                
                        var body=JSON.stringify(json.Body[0]);
                        var result = json.Body[0].GetWeatherResponse[0].GetWeatherResult[0].Text;

                        var myXML2=XMLObjectifier.textToXML(result);                        
                        var json2 = XMLObjectifier.xmlToJSON(myXML2);                       
                        var body2=json2;
                        var location=body2.Location[0].Text;
                        var time=body2.Time[0].Text;
                        var temperature=body2.Temperature[0].Text;
                        var pressure=body2.Pressure[0].Text;
                        alert("location"+location+"..."+time+".."+temperature+".."+pressure);

                    }
                }
                xmlhttp.setRequestHeader("Content-Type", "text/xml");
                var xml ='<?xml version="1.0" encoding="utf-8"?>'+
                            '<soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">'+
                            '<soap:Body>'+
                            '<GetWeather xmlns="http://www.webserviceX.NET">'+
                            '<CityName>'+ $("#cityName").val() +'</CityName>'+
                            '<CountryName>India</CountryName>'+
                            '</GetWeather>'+
                            '</soap:Body>'+
                            '</soap:Envelope>';

                alert("Request XML : ");
                alert(xml);
                xmlhttp.send(xml);  

                            });

        });

        function processSuccess(data, status, req, xml, xmlHttpRequest, responseXML) {
            alert('success' + status + ">>" +typeof $(req.responseXML));
            var myObj = new Array();
            $(req.responseXML)
             .find('GetWeatherResult')
                    .each(function(){
                        alert($(this));
                      myObj.push($(this)); 

                    });
            $(myObj).each(function(){
                var x = $(this).find('Location').text();
                alert('loc'+ x + $(this).find('Location'));
                var p = $(this).find('Location');
                for (var key in p) {
                        alert(key + " -> " + p[key]);
                    }
                });
        }

        function processError(data, status, req) {
            alert(req.responseText + " " + status);
            console.log(data);
            console.log(status);
            console.log(req);
        }  

    </script>
</head>
<body>
    <h3>
        Weather Report
    </h3>
    Enter your city name:
    <input id="cityName" type="text" />
    <input id="btnCallWebService" value="GetInformation" type="button" />

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T11:02:25.787

[您需要允许对http://www.webservicex.net](http://www.webservicex.net)的跨域调用

看到这篇文章： [Cordova 1.9.0 Ajax not retrieving](https://stackoverflow.com/questions/11340082/cordova-1-9-0-ajax-not-retrieving)

编辑 res 文件夹中的 xml 以包含以下行：

```
<access origin="http://www.webservicex.net*"/> 
```

或者，如果它的 Phonegap-Build 将该行添加到 config.xml

# ruby-on-rails-3.1 - 在 Rails 3 中设置选择框的宽度

> ID：14576131
> 
> 赞同：1
> 
> 时间：2013-01-29T05:18:05.970
> 
> 标签：ruby-on-rails-3.1, drop-down-menu

我需要为表单上的选择框输入指定最小宽度，使用`form_for(@project)`.

我有`<%= f.select(:category, "", html_options{:size => 30} ) %>`，但我在 ActionController 中得到一个 SyntaxError。

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T05:24:51.517

`select`助手接受四个参数。如果您想将属性添加到它生成的 HTML 标记，则在第四个参数中提供。你会想做这样的事情：

```
<%= f.select(:category, "", {}, {:size => 30}) %> 
```

您在 Rails API 中看到的`html_options`名称只是 Rails 用来将这些哈希值应用于它生成的标签的内部参数名称。您只需为其提供一个哈希值。

此外，`size`选择框的 没有设置宽度或最小宽度，它描述了垂直可见的元素数量（参见这个[jsFiddle](http://jsfiddle.net/qnFSk/)的例子）。所以你实际上可能正在寻找更像这样的东西：

```
<%= f.select(:category, "", {}, {:style => "min-width: 100px;"}) %> 
```

# scala - List 上的模式匹配与子类条目

> ID：14576132
> 
> 赞同：0
> 
> 时间：2013-01-29T05:18:06.687
> 
> 标签：scala, map, polymorphism, pattern-matching

我创建了一个抽象基类，如下所示：

```
abstract class parent 
```

然后我继续创建了两个从父类继承的案例类：

```
case class child1(name:String,category:String) extends parent

case class child2(name:String,category1:String,category2:String) extends parent 
```

然后，我创建了一个父类型列表并将 child1 和 child2 附加到它：

```
val childList = List[parent]()

scala> child1("Child","One") :: child2("Child","Two","dhshs")::childList
res2: List[parent] = List(child1(Child,One), child2(Child,Two,dhshs)) 
```

到目前为止一切顺利， List[Parent] 中有两个子类型。

现在，我想遍历 List 并根据孩子的基础类型，为该特定类型做一些特殊的事情。所以我这样做：

```
scala> res2 map {case child1 => "Child1";case child2 => "Child2"} 
```

我希望看到一个`List[String]("Child1","Child2")`，而不是我得到以下内容：

```
<console>:15: error: unreachable code
              res2 map {case child1 => "Child1";case child2 => "Child2"} 
```

现在为了更多的踢球，我做了以下事情：

```
scala> res2 map {r => r match {case child1 => "Child1"}}
res8: List[java.lang.String] = List(Child1, Child1)

scala> res2 map {case child1 => "Child1"}
res9: List[java.lang.String] = List(Child1, Child1) 
```

如您所见，我将“Child1”作为我的列表条目，即使对于“child2”，我也得到了 Child1。

很困惑，谁能告诉我这是怎么回事？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-29T05:36:54.430

问题出在这里：child1 和 child2 是为容纳结果而创建的新变量。

```
res2 map {case child1 => "Child1";case child2 => "Child2"} 
```

尝试这个：

```
res2 map {case x:child1 => "Child1";case y:child2 => "Child2"} 
```

`x`和`y`分别是具有关联类型`child1`和的变量`child2`。

# c++ - 每次按键时从零开始计数

> ID：14576133
> 
> 赞同：0
> 
> 时间：2013-01-29T05:18:15.360
> 
> 标签：c++, algorithm, events

我有一个程序，我在屏幕上绘制图像。这里的绘制函数是按帧调用的，其中我有所有的绘图代码。

我编写了一个图像排序器，它从图像索引中返回相应的图像。

```
void draw()
{
sequence.getFrameForTime(getCurrentElapsedTime()).draw(0,0); //get current time returns time in float and startson application start
} 
```

在按键时，我从第一张图像 [0] 开始序列，然后继续。因此，每次我按下一个键时，它都必须从 [0] 开始，这与上面的代码不同，它基本上使用 currentTime%numImages 来获取帧（这不是图像的起始 0 位置）。

我正在考虑编写一个自己的计时器，基本上可以在每次按下键时触发，以便时间始终从 0 开始。但在此之前，我想问是否有人对此有更好/更简单的实现想法？

编辑
为什么我不只使用计数器？我的 ImageSequence 中也有帧率调整。

```
Image getFrameAtPercent(float rate)
{
float totalTime = sequence.size() / frameRate;
float percent = time / totalTime;
return setFrameAtPercent(percent);
}

int getFrameIndexAtPercent(float percent){
if (percent < 0.0 || percent > 1.0) percent -= floor(percent);
    return MIN((int)(percent*sequence.size()), sequence.size()-1);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T05:21:34.777

```
void draw()
{
    sequence.getFrameForTime(counter++).draw(0,0); 
}

void OnKeyPress(){ counter = 0; } 
```

有理由这样做不够吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T05:45:40.493

您应该做的是将“currentFrame”增加为 a`float`并将其转换为 a`int`以索引您的框架：

```
void draw()
{
    currentFrame += deltaTime * framesPerSecond; // delta time being the time between the current frame and your last frame
    if(currentFrame >= numImages)
        currentFrame -= numImages;
    sequence.getFrameAt((int)currentFrame).draw(0,0);
}

void OnKeyPress() { currentFrame = 0; } 
```

这应该可以优雅地处理具有不同帧率的机器，甚至是单台机器上的帧率变化。

此外，当您循环时，您不会跳过部分帧，因为剩余的减法被保留。

# php - 如何将 joomla 2.5.6 中的文章 url 修改为更简单的 url

> ID：14576136
> 
> 赞同：1
> 
> 时间：2013-01-29T05:18:19.560
> 
> 标签：php, joomla2.5

我有一个文章链接，我希望这个链接缩短并有意义，所以我怎样才能在 joomla 2.5.6 中实现这一点。

这是实际的网址：

```
 www.example.com/index.php?option=com_content&view=article&id=11 
```

我想拥有这样的

```
 www.example.com/some-link 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T05:53:39.830

安装 joomsef 组件并根据需要自定义组件。Joomsef 是一个免费的 joomla 组件，非常有用。

# asp.net - Microsoft.VisualBasic.Financial.Rate 出现“无法使用提供的参数计算利率”错误

> ID：14576138
> 
> 赞同：3
> 
> 时间：2013-01-29T05:18:43.350
> 
> 标签：asp.net, .net, vb.net, exception-handling, finance

因此，我们的 ASP.NET4 Web 应用程序中有一个费率计算器类，它使用 Microsoft.VisualBasic.Financial.Rate 来计算名义费率（基于输入参数）。

我们注意到，对于较高的 NPer 值（付款期总数，例如 50 年 x 每月付款 = 600），该函数会抛出异常：无法使用提供的参数计算利率。

四处搜索我们没有找到任何解决方案，所以我在这里发布解决方案。我们的一个要求是维护一个尽可能接近实现与上述相同算法的函数，因为我们需要产生完全相同的输出。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-29T05:18:43.350

回答我自己的问题，对于遇到此问题的任何未来编码人员 - 我们使用 dotPeek 反编译模块，生成以下内容：

```
public static double Rate(double NPer, double Pmt, double PV, double FV = 0.0, DueDate Due = DueDate.EndOfPeriod, double Guess = 0.1)
{
  if (NPer <= 0.0)
    throw new ArgumentException(Utils.GetResourceString("Rate_NPerMustBeGTZero"));
  double Rate1 = Guess;
  double num1 = Financial.LEvalRate(Rate1, NPer, Pmt, PV, FV, Due);
  double Rate2 = num1 <= 0.0 ? Rate1 * 2.0 : Rate1 / 2.0;
  double num2 = Financial.LEvalRate(Rate2, NPer, Pmt, PV, FV, Due);
  int num3 = 0;
  do
  {
    if (num2 == num1)
    {
      if (Rate2 > Rate1)
        Rate1 -= 1E-05;
      else
        Rate1 -= -1E-05;
      num1 = Financial.LEvalRate(Rate1, NPer, Pmt, PV, FV, Due);
      if (num2 == num1)
        throw new ArgumentException(Utils.GetResourceString("Financial_CalcDivByZero"));
    }
    double Rate3 = Rate2 - (Rate2 - Rate1) * num2 / (num2 - num1);
    double num4 = Financial.LEvalRate(Rate3, NPer, Pmt, PV, FV, Due);
    if (Math.Abs(num4) < 1E-07)
      return Rate3;
    double num5 = num4;
    num1 = num2;
    num2 = num5;
    double num6 = Rate3;
    Rate1 = Rate2;
    Rate2 = num6;
    checked { ++num3; }
  }
  while (num3 <= 39);
  throw new ArgumentException(Utils.GetResourceString("Financial_CannotCalculateRate"));
}

private static double LEvalRate(double Rate, double NPer, double Pmt, double PV, double dFv, DueDate Due)
{
  if (Rate == 0.0)
    return PV + Pmt * NPer + dFv;
  double num1 = Math.Pow(Rate + 1.0, NPer);
  double num2 = Due == DueDate.EndOfPeriod ? 1.0 : 1.0 + Rate;
  return PV * num1 + Pmt * num2 * (num1 - 1.0) / Rate + dFv;
} 
```

我们可以看到如果超过 num3 就会抛出错误，因为它的硬限制是 39。我们稍微整理了代码，并将限制增加到 100：

```
private static double CalculateUpfrontNominalRate(double numberOfPeriods, double payment, double presentValue, double futureValue = 0.0, DueDate Due = DueDate.EndOfPeriod, double Guess = 0.1)
    {
        if (numberOfPeriods <= 0.0)
        {
            throw new ArgumentException("CalculateUpfrontNominalRate: Number of periods must be greater than zero");
        }

        var rateUpperBoundary = Guess;
        var lEvalRate1 = LEvalRate(rateUpperBoundary, numberOfPeriods, payment, presentValue, futureValue, Due);
        var rateLowerBoundary = lEvalRate1 <= 0.0 ? rateUpperBoundary * 2.0 : rateUpperBoundary / 2.0;
        var lEvalRate2 = LEvalRate(rateLowerBoundary, numberOfPeriods, payment, presentValue, futureValue, Due);

        for (var i = 0; i < 100; i++)
        {
            if (lEvalRate2 == lEvalRate1)
            {
                if (rateLowerBoundary > rateUpperBoundary)
                    rateUpperBoundary -= 1E-05;
                else
                    rateUpperBoundary -= -1E-05;

                lEvalRate1 = LEvalRate(rateUpperBoundary, numberOfPeriods, payment, presentValue, futureValue, Due);
                if (lEvalRate2 == lEvalRate1)
                {
                    throw new ArgumentException("CalculateUpfrontNominalRate: Inputs will cause a divsion by zero");
                }
            }

            double temporaryRate = rateLowerBoundary - (rateLowerBoundary - rateUpperBoundary) * lEvalRate2 / (lEvalRate2 - lEvalRate1);
            double lEvalRate3 = LEvalRate(temporaryRate, numberOfPeriods, payment, presentValue, futureValue, Due);

            if (Math.Abs(lEvalRate3) < 1E-07)
            {
                return temporaryRate;
            }

            lEvalRate1 = lEvalRate2;
            lEvalRate2 = lEvalRate3;
            rateUpperBoundary = rateLowerBoundary;
            rateLowerBoundary = temporaryRate;
        }

        throw new ArgumentException("CalculateUpfrontNominalRate: The maximum number of iterations has been exceeded, unable to calculate rate");
    }

    private static double LEvalRate(double Rate, double NPer, double Pmt, double PV, double dFv, DueDate Due)
    {
        if (Rate == 0.0)
            return PV + Pmt * NPer + dFv;
        double num1 = Math.Pow(Rate + 1.0, NPer);
        double num2 = Due == DueDate.EndOfPeriod ? 1.0 : 1.0 + Rate;
        return PV * num1 + Pmt * num2 * (num1 - 1.0) / Rate + dFv;
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-02T04:30:11.837

更改迭代计算的计数并不能解决所有情况的问题

对于您发布的示例计算，速率算法在 40 次迭代中找不到正确到小数点后 7 位的速率（精确到小数点后 7 位）

这是你反编译的vb.net金融函数的编程代码吗

如果是这样，程序员在使用 Secant 方法对 RATE 函数进行编码方面做得很差

有比糟糕的正割法更好的算法来计算利率

如果您认为通过将迭代次数更改为 100 已经解决了问题，请尝试使用各种数据测试代码，看看是否可以在所有情况下获得 RATE

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-08-14T08:51:25.743

我在使用 Rate 函数时遇到了同样的问题。发现您的“猜测”对于确保收敛非常重要 - 如[文档中的备注中所述](https://support.office.com/en-us/article/rate-function-9f665657-4a7e-4bb7-a030-83fc59e748ce)：

> **备注**：
> 
> 确保您对用于指定guess 和nper 的单位保持一致。如果您以 12% 的年利率每月支付四年期贷款，请使用 12%/12 进行猜测，使用 4*12 进行 nper。如果您对同一笔贷款进行年度还款，请使用 12% 的猜测值和 4 的 nper。

# html - HTML中主表头内的表头

> ID：14576145
> 
> 赞同：0
> 
> 时间：2013-01-29T05:19:34.220
> 
> 标签：html, html-table

我怎样才能实现这种表：

![在此处输入图像描述](../Images/66b204a73e956ab7bae865b94c1048f5.png)

在 Schedule 列内，有子列（Jan、Feb 等）。

我试过`<th></th>`里面`<th></th>`

但它不起作用。

看我的小提琴：http: [//jsfiddle.net/TAJzY/1/](http://jsfiddle.net/TAJzY/1/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T05:29:09.273

*   解决方案是`colspan=""`和`rowspan=""`：
    *   `colspan="12"`在“活动计划/里程碑”单元格中 使用。
        *   并删除同一`<tr>`行中的 12 个空尾随单元格。
    *   `rowspan="2"`在“估计预算”单元格中 使用。
        *   并从下面删除单个空的初始`<th>`单元格`<tr>`。
*   不要忘记使用显式`<thead>`、、`<tbody>`和可选`<tfoot>`部分。
    *   虽然您*可以*使用没有显式部分的 HTML 表格，但通过这种方式使用 CSS 设置 HTML 表格样式要容易得多且有效，并且您可以使用`thead { position: sticky; }`Excel 样式的“冻结”行之类的技术，否则这些技术很难实现 - 或者只是乏味 - 实现除此以外。

* * *

### 第1步：

首先，制作一个表格，没有任何单元格的拆分/合并，所以你有这样的东西（点击下面的“运行代码片段”按钮查看表格）：

```
table { border: 1px outset #bbb; }
table > * > tr > * { border: 1px inset #bbb; }

thead { background-color: #7ACABD; text-align: center; }
tbody { background-color: #e0fffa; }
tfoot { background-color: #39c4ae' }
```

```
<table>
    <thead>
        <tr>
            <th>Estimated Budget</th>
            <th>Schedule/Milestone of Activities</th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
        </tr>
        <tr>
            <th></th>
            <th>Jan</th>
            <th>Feb</th>
            <th>Mar</th>
            <th>Apr</th>
            <th>May</th>
            <th>Jun</th>
            <th>Jul</th>
            <th>Aug</th>
            <th>Sep</th>
            <th>Oct</th>
            <th>Nov</th>
            <th>Dec</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>$123</td>
            <td>j</td>
            <td>f</td>
            <td>m</td>
            <td>a</td>
            <td>m</td>
            <td>j</td>
            <td>j</td>
            <td>a</td>
            <td>s</td>
            <td>o</td>
            <td>n</td>
            <td>d</td>
        </tr>
         <tr>
            <td>$456</td>
            <td>j</td>
            <td>f</td>
            <td>m</td>
            <td>a</td>
            <td>m</td>
            <td>j</td>
            <td>j</td>
            <td>a</td>
            <td>s</td>
            <td>o</td>
            <td>n</td>
            <td>d</td>
        </tr>
    </tbody>
    </table>
```

### 第2步：

然后使“活动计划/里程碑”单元格跨越所有剩余的 12 列（总共 13 列），`colspan="12"`这也意味着删除与单元格现在表示`<th></th>`的相同的空尾随元素：`<tr>``<th colspan="12">`

```
table { border: 1px outset #bbb; }
table > * > tr > * { border: 1px inset #bbb; }

thead { background-color: #7ACABD; }
tbody { background-color: #e0fffa; }
tfoot { background-color: #39c4ae' }
```

```
<table>
    <thead>
        <tr>
            <th>Estimated Budget</th>
            <th colspan="12">Schedule/Milestone of Activities</th>
        </tr>
        <tr>
            <th></th>
            <th>Jan</th>
            <th>Feb</th>
            <th>Mar</th>
            <th>Apr</th>
            <th>May</th>
            <th>Jun</th>
            <th>Jul</th>
            <th>Aug</th>
            <th>Sep</th>
            <th>Oct</th>
            <th>Nov</th>
            <th>Dec</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>$123</td>
            <td>j</td>
            <td>f</td>
            <td>m</td>
            <td>a</td>
            <td>m</td>
            <td>j</td>
            <td>j</td>
            <td>a</td>
            <td>s</td>
            <td>o</td>
            <td>n</td>
            <td>d</td>
        </tr>
         <tr>
            <td>$456</td>
            <td>j</td>
            <td>f</td>
            <td>m</td>
            <td>a</td>
            <td>m</td>
            <td>j</td>
            <td>j</td>
            <td>a</td>
            <td>s</td>
            <td>o</td>
            <td>n</td>
            <td>d</td>
        </tr>
    </tbody>
    </table>
```

### 第 3 步：

要使“估计预算”单元格跨越这 2 行，`<thead>`添加`rowspan="2"`并删除`<th></th>`第二行中的空首字母`<tr>`（因为该空`<th>`单元格的“槽”现在由`<th rowspan="2">`前一行中的“槽”占用）。

像这样：

```
table { border: 1px outset #bbb; }
table > * > tr > * { border: 1px inset #bbb; }

thead { background-color: #7ACABD; }
tbody { background-color: #e0fffa; }
tfoot { background-color: #39c4ae; }

/* Right-align budget numbers in the first column: */
table > tbody > tr > td:first-child { text-align: right; }
```

```
<table>
    <thead>
        <tr>
            <th rowspan="2">Estimated Budget</th>
            <th colspan="12">Schedule/Milestone of Activities</th>
        </tr>
        <tr>
            <th>Jan</th>
            <th>Feb</th>
            <th>Mar</th>
            <th>Apr</th>
            <th>May</th>
            <th>Jun</th>
            <th>Jul</th>
            <th>Aug</th>
            <th>Sep</th>
            <th>Oct</th>
            <th>Nov</th>
            <th>Dec</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>$123</td>
            <td>j</td>
            <td>f</td>
            <td>m</td>
            <td>a</td>
            <td>m</td>
            <td>j</td>
            <td>j</td>
            <td>a</td>
            <td>s</td>
            <td>o</td>
            <td>n</td>
            <td>d</td>
        </tr>
         <tr>
            <td>$456</td>
            <td>j</td>
            <td>f</td>
            <td>m</td>
            <td>a</td>
            <td>m</td>
            <td>j</td>
            <td>j</td>
            <td>a</td>
            <td>s</td>
            <td>o</td>
            <td>n</td>
            <td>d</td>
        </tr>
    </tbody>
    </table>
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T05:23:04.887

您使用`colspan`Schedule 上的属性`th`。它将使它跨越许多列。

用于`rowspan`预算`th`将对行产生相同的影响。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-29T05:26:50.050

试试这个（注意使用 colspan）：

```
<table border="1">
  <tr>
    <td>budget</td>
    <td colspan="3">header</td>
  </tr>
  <tr>
    <td></td>
    <td>1</td>
    <td>2</td>
    <td>3</td>
  </tr>
  <tr>
    <td>a</td>
    <td>b</td>
    <td>c</td>
    <td>d</td>
  </tr>
</table> 
```

如果您需要更复杂的表格布局，可以使用我的[http://blocknote.net编辑器。](http://blocknote.net)表格编辑器很方便。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-01-29T05:37:04.093

```
<table>
<tr>
    <td>foo</td>
    <td colspan="3">Header</td>
  </tr>
  <tr>
    <td></td>
    <td>Content</td>
    ...
  </tr>
  <tr>
    <td>foo1</td>
    <td>foo2</td>
    ...
  </tr>
</table> 
```

# javascript - jQuery 从 PHP 控制器发送值的问题 $this->input->post('id', TRUE);

> ID：14576146
> 
> 赞同：0
> 
> 时间：2013-01-29T05:19:34.657
> 
> 标签：javascript, codeigniter

视图.php

```
$(document).ready(function() { 
    $('.buttons > a').livequery("click",function(e){
        var parent  = $(this).parent();
        var getID   =  parent.attr('id').replace('button_','');
        var url = '<?php echo site_url('cart/price');?>';
        $.post(url+"?id="+getID, {}, function(response){
            $('#button_'+getID).html($(response).fadeIn('slow'));
        });
    }); 
});

<span class="buttons" id="button_5"><a class="btn-following" href="javascript: void(0)"></a></span> 
```

控制器：

```
$gid = $this->input->post('id', TRUE);
$this->Product_model->following($gid); 
```

模型：

```
function following($gid){       
    mysql_query("INSERT INTO tf_followers (following_id) VALUES('".$gid."')");        
} 
```

从这里我得到空值到数据库，这是通过 jQuery 传递值的正确方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T05:47:43.270

如果您想正确地将数据传递给`$.post`，请使用其 3 参数重载：

```
$.post(url, {id: getID}, function(response){
    $('#button_'+getID).html($(response).fadeIn('slow'));
}); 
```

如果你想用 GET 传递它（就像你一样），你不能在服务器上的 POST 变量集合中得到它。

# iphone - 如何将 Youtube URL 获取到 iPhone 应用程序中

> ID：14576151
> 
> 赞同：0
> 
> 时间：2013-01-29T05:19:53.867
> 
> 标签：iphone, ios5, uiwebview

我正在开发一个应用程序，如果我想从 iPhone 中的 youtube 应用程序将 youtube 视频 url 导入我的应用程序。每当用户点击 youtube 应用程序中的视频时，该视频的链接应直接检索到我的应用程序中。是否有可能做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T07:11:05.317

您无法将数据从其他应用程序获取到您的应用程序...IOS 不允许。所有应用程序都有自己独立的文档目录。只能访问手机中的媒体文件/联系人。

阅读本文您可能会有所了解：[是否可以跨 2 个不同的 iOS 应用程序访问数据？](https://stackoverflow.com/questions/8920181/is-it-possible-to-access-data-across-2-different-ios-apps)

# python - 如何在 Python 中标记收缩？

> ID：14576158
> 
> 赞同：2
> 
> 时间：2013-01-29T05:20:13.707
> 
> 标签：python, regex, tokenize

我有要标记的句子，包括标点符号。但是我需要处理缩略词，以便将“不能”之类的单词标记为“ca”和“n't”，其中拆分是撇号前的一个字符，其余的缩略词拆分在像“you've”和“It's”这样的撇号变成“you”“'ve”和“It”和“'s”。这就是我卡住的地方。基本上大致相当于 NKTL 的 TreebankWord Tokenizer 的行为方式： [NLTK Word Tokenization Demo](http://text-processing.com/demo/tokenize/)

我一直在使用这里提出的解决方案之一，它不能按照我想要的方式处理收缩：

```
re.findall("'\w+|[\w]+|[^\s\w]", "Hello, I'm a string! Please don't kill me? It's his car.") 
```

我得到了这个结果：

> ['Hello', ',', 'I', "'m", 'a', 'string', '!', 'Please', 'don', "'t", 'kill', 'me' , '?', 'It', "'s", 'his', 'car', '.']

哪个可以正确处理撇号，除非它应该是“do”和“n't”。有谁知道如何解决这个问题？

我只能使用标准库，所以在这种情况下 NLTK 不是一个选项。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-08-19T19:51:23.410

**正则表达式：**

```
\w+(?=n't)|n't|\w+(?=')|'\w+|\w+ 
```

**用法**

```
match_list = re.findall(r"\w+(?=n't)|n't|\w+(?=')|'\w+|\w+","you've it's couldn't don't", re.IGNORECASE | re.DOTALL) 
```

**火柴：**

```
['you', "'ve", "it", "'s", 'could', "n't", "do", "n't"] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T08:32:44.590

赶上`n't`和`\w+(?=n't)`之前`\w+`

```
r"'\w+|n't|\w+(?=n't)|\w+|[^\s\w]" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-29T05:22:44.123

尝试：

```
r"[n]'[\w]+|[\w]+(?!')(?:[A-Za-mo-z](?='))?|(?<=\s)[\w](?=')|[^\s\w']" 
```

这匹配字符后跟`'`更多字符，即使它能够匹配其他模式，也会*首先匹配。*

# google-analytics - 收入、税收和运费在谷歌分析跟踪代码中不起作用！怎么做？

> ID：14576161
> 
> 赞同：1
> 
> 时间：2013-01-29T05:20:30.467
> 
> 标签：google-analytics, tracking

这是我的 php 代码：

```
 <?php
$gaorder="<script type='text/javascript'> ";
$gaorder=$gaorder."var _gaq = _gaq || []; ";
$gaorder=$gaorder."_gaq.push(['_setAccount', 'UA-32542684-1']); ";
$gaorder=$gaorder."_gaq.push(['_trackPageview']); ";
$tax=($totalCost/100)*5;
$gaorder=$gaorder."_gaq.push(['_addTran','".$code_order."','haxata.com','".$totalCost."','".$tax."','0','ThanhPho','Tinh','VietNam']); ";
global $db;
$db->getConnect();
while($row = mysql_fetch_array($result))
{
$gaorder=$gaorder."_gaq.push(['_addItem','".$code_order."','".$row[Product]."','".$row[Name]."','".$row[Name]."','".$row[Cost]."','".$row[Number]."']); ";
}
$db->closeConnect();
$gaorder=$gaorder."_gaq.push(['_trackTrans']); ";
$gaorder=$gaorder."(function() {";
    $gaorder=$gaorder."var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ";
    $gaorder=$gaorder."ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';";
    $gaorder=$gaorder."var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);";
$gaorder=$gaorder."})();";
$gaorder=$gaorder."</script>";
echo $gaorder;
?> 
```

交易 ID 和数量有效！但是税收，运输和收入不起作用！

# c# - 为什么 XDocument.Load(url) 抛出异常？

> ID：14576163
> 
> 赞同：1
> 
> 时间：2013-01-29T05:20:39.787
> 
> 标签：c#, xml, linq, windows-phone-7, url-parsing

我是 C# 新手，我正在尝试从 URL 读取 xml。xml 看起来像这样

```
<posts>
   <post>
      <title>title1</title>
      <des>des1</des>
   </post>
   <post>
      <title>title2</title>
      <des>des2</des>
   </post>
 .....
</posts> 
```

这就是我用来解析它的。

```
 String uri = "url";
 XDocument books = XDocument.Load(uri); 
```

当调试命中`XDocument`行时，它会引发异常并跳过它。

我怎样才能避免这种情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T05:23:26.520

我认为您的 XML 的 URI 缺少导致问题的文件的扩展名。请尝试使用：

```
String uri = PATH + "url.xml"; 
XDocument books = new XDocument();
books.Load(uri); 
```

要解析从 URL 获得的 XML，您可以使用：

```
string strURL = "http://<some-server>/<some-uri-path>";
string xmlStr;

WebClient wc = new WebClient();
xmlStr = wc.DownloadString(strURL);

XmlDocument xmlDoc = new XmlDocument();
xmlDoc.LoadXml(xmlStr); 
```

# c# - LINQ 查询中的左外连接

> ID：14576172
> 
> 赞同：0
> 
> 时间：2013-01-29T05:21:22.550
> 
> 标签：c#, linq

> **可能重复：**
> [LINQ 中的 LEFT OUTER JOIN](https://stackoverflow.com/questions/3404975/left-outer-join-in-linq)

如何使用左外连接进行 LINQ 查询？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-29T05:23:17.833

您可以使用[Enumerable.DefaultIfEmpty](http://msdn.microsoft.com/en-us/library/vstudio/system.linq.enumerable.defaultifempty.aspx)方法进行左外连接。

您可能会看到：[How to: Perform Left Outer Joins (C# Programming Guide) - MSDN](http://msdn.microsoft.com/en-us/library/vstudio/bb397895.aspx)

考虑以下来自 MSDN 的示例，

```
class Person
{
    public string FirstName { get; set; }
    public string LastName { get; set; }
}

class Pet
{
    public string Name { get; set; }
    public Person Owner { get; set; }
} 
```

左外连接查询可以是：

```
var query = from person in people
            join pet in pets on person equals pet.Owner into gj
            from subpet in gj.DefaultIfEmpty()
            select new { person.FirstName, PetName = (subpet == null ? String.Empty : subpet.Name) }; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-29T05:25:37.537

```
 var query = (from t1 in Context.Table1
              join t2temp in Context.Table2 on t1.Id equals t2.Id into tempJoin
              from t2 in tempJoin.DefaultIfEmpty()
              select ...); 
```

# java - JOptionPane 灰出一键

> ID：14576196
> 
> 赞同：4
> 
> 时间：2013-01-29T05:23:19.833
> 
> 标签：java, swing, joptionpane

我需要使用 a`JOptionPane`给用户两个选项。尽管可能需要禁用其中一个按钮，但取决于先前的操作。

是否可以`JOptionPane`将任一按钮设置为禁用或启用？

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T22:14:42.250

如果您使用 JButtons，这很容易：

```
 public class Test
{
    public static void main(String[] args)
    {
        final JButton option1 = new JButton("option1");
        final JButton option2 = new JButton("option2");
        option1.setEnabled(false);
        // option2.setEnabled(false);
        option1.addActionListener(new ActionListener()
        {
            @Override
            public void actionPerformed(ActionEvent arg0)
            {
                // code here
            }
        });
        option2.addActionListener(new ActionListener()
        {
            @Override
            public void actionPerformed(ActionEvent e)
            {
                // code here
            }
        });
        JOptionPane.showOptionDialog(null, "hello", "The Title", JOptionPane.NO_OPTION, JOptionPane.PLAIN_MESSAGE, null, new JButton[]
        { option1, option2 }, option1);
    }
} 
```

# automated-tests - Pex可以处理带有类类型参数的接口吗

> ID：14576199
> 
> 赞同：2
> 
> 时间：2013-01-29T05:23:28.973
> 
> 标签：automated-tests, pex

我已经安装了学术版的 pex 和角色。

我在 Visual Studio 2010 中编写了以下代码。但是 pex 只是给出了一个空指针作为输入。pex 不支持类类型吗？请帮我。

测试接口是Test。

源代码：

```
public class ClassForPex
{

public int a;
public int b;
ClassForPex(int x, int y)
{
    a = x;
    b = y;
}
};

public static class StringExtensions
{

public static int Test(ClassForPex cjh)
{
    if (cjh.a > cjh.b)
        return cjh.a;
    else
    {
        return cjh.b;
    }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-02T03:47:25.577

您需要使用工厂将 ClassForPex 实例提供给测试。看看这篇文章，看看如何做到这一点。

在 Pex 中使用工厂 - [http://developers.de/blogs/damir_dobric/archive/2009/04/13/using-of-factory-in-pex.aspx](http://developers.de/blogs/damir_dobric/archive/2009/04/13/using-of-factory-in-pex.aspx)

# html - 这个html5表单元素有什么区别？

> ID：14576201
> 
> 赞同：1
> 
> 时间：2013-01-29T05:23:32.140
> 
> 标签：html

我正在学习 HTML5，我想知道为什么这些元素的关闭方式不同，第一个输入以 > 结尾，第二个以 /> 结尾，这有什么区别？

```
<input name = "howtosite" type = "radio"
              value = "search engine" checked> 
```

* * *

```
<input type = "color" autofocus /> 
              (Hexadecimal code such as #ADD8E6) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T05:35:49.007

简而言之，一些术语：令人困惑的是，“HTML”现在意味着两件事：

*   构成我们在网页等中使用的各种元素的定义。这就是告诉我们有一个名为的元素`div`及其用途。
*   它的两个*序列化*之一（书面形式），它告诉我们我们编写`div`这样的元素：`<div>content</div>`.

HTML 的另一个序列化是 XHTML。这两个序列化的地方不同，因为 XHTML 是 XML。

HTML 定义了一些没有内容的元素，例如`<br>`，而在 HTML 序列化中它们通常是这样写的，`<br>`. 在 XHTML 序列化中这是一个问题，因为 XML 要求所有标签都被关闭并且`<br>`只是一个开始标签。将斜杠（“solidus”）放在结尾`>`关闭标记之前，因此在 XHTML 中，`<br>`变为`<br/>`. 在HTML 序列化中`/`是*可以容忍*的，但它没有任何作用。它仅在 XHTML 中起作用。（请注意，在非常非常古老的浏览器中，您可能需要在固线之前有一个空格，例如`<br />`，但我们确实在谈论非常古老的内容。）

这**仅适用**于[void 元素](http://www.w3.org/TR/html5/syntax.html#void-elements)`<br>`，例如`<input>`永远没有任何内容的元素和[外来元素](http://www.w3.org/TR/html5/syntax.html#foreign-elements)（MathML 和 SVG）。`<div/>`例如，即使`div`是空的，你也永远不会写。空的正确形式`div`总是`<div></div>`（无论是在 HTML 还是 XHTML 序列化中）。

[规范](http://www.w3.org/TR/html5/)中的全部细节，特别是[§8.1.2.1](http://www.w3.org/TR/html5/syntax.html#start-tags)。

因此，关于您的两个具体示例：第一个仅在 HTML 序列化中有效。第二种在 HTML 序列化中也有效，如果`autofocus`属性有值，则在 XHTML 序列化中也有效（在 XML 中，属性必须有值，所以你必须写`autofocus="autofocus"`）。

# javascript - 在jquery中获取多个div选择值

> ID：14576207
> 
> 赞同：4
> 
> 时间：2013-01-29T05:24:41.190
> 
> 标签：javascript, jquery

我在两列中显示记录。我需要根据 div 的选择执行常见操作（例如删除）。如果用户一次选择 div idsparticipant_1 **、participant_4、participant_6**，那么我需要获取这三个 id。有什么方法可以在 JQuery 中实现这一点。如果用户一起选择了三个 id，那么我想删除它`in one time not one by one`。任何帮助将不胜感激。

```
 <div class="left_column">
        <div class="record_row" id="participant_1"> 
        ----
        ----
        </div>
        <div class="record_row" id="participant_3"> 
        ----
        ----
        </div>
        <div class="record_row" id="participant_5"> 
        ----
        ----
        </div>
    </div>
    <div class="right_column">
        <div class="record_row" id="participant_2"> 
        ----
        ----
        </div>
        <div class="record_row" id="participant_4"> 
        ----
        ----
        </div>
        <div class="record_row" id="participant_6"> 
        ----
        ----
        </div>
    </div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T05:25:51.360

您可以将 click 事件与类选择器绑定，并使用 this.id 来获取它的当前元素。`this`是源对象。

**[现场演示](http://jsfiddle.net/rajaadil/Yvcnn/3/)**

```
 $('.record_row').click(function () {
      $(this).toggleClass('selected');  
 });

$('#btn').click(function () {
    $('.selected').each(function(){
        alert(this.id);
    });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T09:49:42.847

这是您的问题的解决方案：-

```
 $('.record_row').click(function () {
      $(this).toggleClass('selected');  
 }); 
```

我添加了获取所有 ID 的按钮

```
 var ids = new Array();
    $('#btn').click(function () {

    var selected_activities =$('.selected');
    var ids = new Array();
    selected_activities.each(function(){
          var id_str   =  $(this).attr("id");
          var id_arr      =  id_str.split("_");
          var selval       =  id_arr[1];
        if(selval!='undefined' && selval!='' && selval!=null){
            ids.push(selval);
        }
    });
    alert(ids);
}); 
```

在此处查看演示[现场演示代码](http://jsfiddle.net/zDvMW/20/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-29T06:03:32.893

> 如果用户一起选择了三个ID，那么我想一次删除它而不是一个一个

是的，添加一个类`selected`：

```
var css_class = '.record_row';
$(css_class).click(function(){
    $(this).addClass('selected');

    if ($('.selected').length == 3) 
      // delete 

    // to get all three ids
    var listID = $.map($('.selected'), function(elem){ return $(elem).attr('id') });
}); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-01-29T05:29:37.123

要么将`onclick`事件绑定到每个 div

```
<div class="record_row" id="participant_1" onclick="doyoursutff(this.id);"> 
```

或者您可以将事件绑定为

```
$('.left_column').find('div').click(function(){
do your stuff...
})

$('.right_column').find('div').click(function(){
    do your stuff...
    }) 
```

或者干脆这样做

```
$('.record_row').click(function(){
           do your stuff here ...
}) 
```

# actionscript-3 - 为什么不触发此单击事件？

> ID：14576209
> 
> 赞同：0
> 
> 时间：2013-01-29T05:24:47.880
> 
> 标签：actionscript-3, flash, mouseevent

为什么不触发 myMouseClick 事件？

```
myMC:TestMC = new TestMC();
myMC.addEventListener(MouseEvent.CLICK, myMouseClick);
addChild(myMC);

function myMouseClick(e:MouseEvent):void {
    trace("clicked");
} 
```

据我从看过的教程中可以看出，这应该可行。有那么一瞬间，我想，既然我要在 myMC 中添加事件侦听器，我需要在 myMC 类中添加事件函数，但这不起作用。刚刚给出了关于访问未定义属性的错误。

如果有帮助的话，TestMC 是一个单独的扩展影片剪辑的 .as 文件。

我只是想这样做，所以当单击影片剪辑本身时，它会做一些事情。影片剪辑本身将跟随鼠标。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T07:28:25.117

我试图点击的对象是在垂直线上组成的。显然，整个影片剪辑不是对撞机......只是其中的像素，所以当我点击时，我不会打够它。把它改成一个盒子就行了。如果我想要相同的设计，我可能可以嵌套它，但这很好。

# qmake - 如何使用带有 qmake 额外编译器的预编译头文件？

> ID：14576211
> 
> 赞同：1
> 
> 时间：2013-01-29T05:24:55.387
> 
> 标签：qmake

当使用默认的 qmake 编译器（通过`SOURCES`变量）时，我可以像这样使用预编译的头文件：

```
CONFIG += precompile_header
PRECOMPILED_HEADER = stable.h
SOURCES = main.c 
```

但是，我想使用自定义编译器（通过`QMAKE_EXTRA_COMPILERS`）。我试过这个：

```
CONFIG += precompile_header
PRECOMPILED_HEADER = stable.h
MY_SOURCES = main.c

my.input = MY_SOURCES
my.output = ${QMAKE_FILE_IN_BASE}.o
my.commands = clang $$QMAKE_CFLAGS_USE_PRECOMPILE -c ${QMAKE_FILE_IN} -o ${QMAKE_FILE_OUT}
QMAKE_EXTRA_COMPILERS += my 
```

...并且预编译头文件已构建，但我的自定义编译器失败，因为`QMAKE_CFLAGS_USE_PRECOMPILE`不包含预编译头文件的路径。（它被定义为`-Xclang -include-pch -Xclang ${QMAKE_PCH_OUTPUT}`，显然`${QMAKE_PCH_OUTPUT}`是空的。）

如何获取生成的预编译头文件的名称，以便将其作为参数传递给我的自定义编译器？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T05:41:06.887

查看 qmake 源代码，预编译的标头处理似乎被硬编码`UnixMakefileGenerator::init()`为仅适用于内置 C、CXX、OBJC 和 OBJCXX 编译器。

`QMAKE_PCH_OUTPUT`，对于 GCC 和 Clang 样式的预编译头文件，是通过组合`PRECOMPILED_DIR`, `TARGET`，`c`/ `c++`/ `objective-c`/`objective-c++`和`QMAKE_PCH_OUTPUT_EXT`. 因此，在问题的第二个示例中，以下命令行应该可以工作：

```
my.commands = clang -Xclang -include-pch -Xclang $$TARGET/c$$QMAKE_PCH_OUTPUT_EXT -c ${QMAKE_FILE_IN} -o ${QMAKE_FILE_OUT} 
```

# iphone - iOS 6 的界面方向不起作用

> ID：14576218
> 
> 赞同：1
> 
> 时间：2013-01-29T05:25:45.930
> 
> 标签：iphone, ios, objective-c, xcode, orientation

我有一个要以纵向模式显示的应用程序。但我只想在两种模式下显示一个视图。

我已经为 iOS5 做了这个。但在 iOS6 中，我无法做到这一点。

我也尝试了很多代码来解决它。

**我在我的应用程序中使用导航并且在 ios6 中无法在两种模式下仅旋转一个视图。您要么固定旋转以查看视图，要么旋转整个应用程序。我对吗？**

**我怎么解决这个问题？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T05:30:48.770

在 ios6 中，您是否尝试在 plist 中使用此功能，如下图所示：-

![在此处输入图像描述](../Images/9d7d6fd6a55201174c6d626b51b206d8.png)

你也可以在 xcode->projectname->summary 中设置：-

![在此处输入图像描述](../Images/eb7d395b0489b90200ce370ca7a02ac6.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T05:32:28.267

来自 Apple 的 iOS 6 SDK 发行说明：

> iOS 6 中的自动旋转正在发生变化。在 iOS 6 中，不推荐使用 UIViewController 的 shouldAutorotateToInterfaceOrientation: 方法。取而代之的是，您应该使用 supportedInterfaceOrientationsForWindow: 和 shouldAutorotate 方法。
> 
> ```
> More responsibility is moving to the app and the app delegate. Now, iOS containers (such as UINavigationController) do not consult 
> ```
> 
> 他们的孩子来决定他们是否应该自动旋转。默认情况下，应用程序和视图控制器支持的界面方向设置为 iPad 惯用语的 UIInterfaceOrientationMaskAll 和 iPhone 惯用语的 UIInterfaceOrientationMaskAllButUpsideDown 。
> 
> ```
> A view controller’s supported interface orientations can change over time—even an app’s supported interface orientations can change 
> ```
> 
> 随着时间的推移。每当设备旋转或视图控制器以全屏模式呈现样式呈现时，系统都会向最顶层的全屏视图控制器（通常是根视图控制器）询问其支持的界面方向。此外，仅当此视图控制器从其 shouldAutorotate 方法返回 YES 时，才会检索支持的方向。系统将视图控制器支持的方向与应用支持的方向（由 Info.plist 文件或应用委托的 application:supportedInterfaceOrientationsForWindow: 方法确定）相交以确定是否旋转。
> 
> ```
> The system determines whether an orientation is supported by intersecting the value returned by the app’s 
> ```
> 
> supportedInterfaceOrientationsForWindow：方法，其返回值由最顶层全屏控制器的 supportedInterfaceOrientations 方法返回。setStatusBarOrientation:animated: 方法并未完全弃用。它现在仅在最顶层全屏视图控制器的 supportedInterfaceOrientations 方法返回 0 时才有效。这使调用者负责确保状态栏方向一致。
> 
> ```
> For compatibility, view controllers that still implement the shouldAutorotateToInterfaceOrientation: method do not get the new 
> ```
> 
> 自转行为。（换句话说，它们不会回退到使用应用程序、应用程序委托或 Info.plist 文件来确定支持的方向。）相反，shouldAutorotateToInterfaceOrientation: 方法用于合成将由 supportedInterfaceOrientations 方法返回的信息.
> 
> 如果您希望整个应用程序旋转，那么您应该将 Info.plist 设置为支持所有方向。现在，如果您希望特定视图仅是纵向的，则必须执行某种子类并覆盖自动旋转方法以仅返回纵向。

请参阅此示例[How to force a UIViewController to Portraitorientation in iOS 6](https://stackoverflow.com/questions/12520030/how-to-force-a-uiviewcontroller-to-portait-orientation-in-ios-6/12522119#12522119)

**编辑：**

解决方案：

```
@implementation UINavigationController (Rotation_IOS6)

-(BOOL)shouldAutorotate
{
    return [[self.viewControllers lastObject] shouldAutorotate];
}

-(NSUInteger)supportedInterfaceOrientations
{
    return [[self.viewControllers lastObject] supportedInterfaceOrientations];
}

- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation
{
    return [[self.viewControllers lastObject] preferredInterfaceOrientationForPresentation];
}

@end 
```

# javascript - 检查图像的灰白色背景

> ID：14576220
> 
> 赞同：1
> 
> 时间：2013-01-29T05:25:53.327
> 
> 标签：javascript, image, html, canvas, html5-canvas

我正在编写一个工作脚本，我们有一堆 200x200 的珠宝图像，脚本获取页面上的所有图像并创建一个画布，然后检查边缘上的像素是否变色（它们应该是纯白色），因为它们没有被正确编辑。

我开始检查左上角和右上角的准确性，但现在我遇到了项链的一部分或任何东西可以一直走到角落或侧面的物品，这使得这不准确。

你建议我怎么做？我现在正在做的是检查两个像素的 rgba 值的总和是否为 1020，如果不是，则图像不是纯白色。

图像有两个可能的缺陷：整体背景变色和边缘周围的灰色边框。如果项目延伸到角落/边，检查角落像素适用于灰色边框但不适用于背景。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T08:23:53.703

检查图像的所有 4 个角。如果 4 个角中至少有 1 个是`white / 255,255,255 / #FFFFFF`，则图像*可能*没问题。（整个图像的变色应该是一致的，对吧？）

除此之外，您无法检查变色情况。但是，[您可以计算图像中的颜色，并检查出现最多的颜色是否实际上是白色](http://jsbin.com/ululal/15/edit)：

```
<canvas id="canvas" width="300px" height="300px"></canvas> 
```

```
var canvas = document.getElementById("canvas"),
    canvasWidth = canvas.width,
    canvasHeight = canvas.height,
    c = canvas.getContext("2d"),
    img = new Image();

img.src = '/images/favicon.png';
img.onload = drawImage;

function drawImage(){
  // Prepare the canvas
  var ptrn = c.createPattern(img, 'repeat'); 
  c.fillStyle = "white";
  c.fillRect(0,0,canvasWidth,canvasHeight);
  c.fillStyle = ptrn;
  c.fillRect(0,0,canvasWidth,canvasHeight);

  // Get img data
  var imgData = c.getImageData(0, 0, canvasWidth, canvasHeight),
      data = imgData.data,
      colours = {};

  // Build an object with colour data.
  for (var y = 0; y < canvasHeight; ++y) {
    for (var x = 0; x < canvasWidth; ++x) {
      var index = (y * canvasWidth + x) * 4,
          r = data[index],   // Red
          g = data[++index], // Green
          b = data[++index], // Blue
      //  a = data[++index], // Alpha
          rgb = rgbToHex(r,g,b);

      if(colours[rgb]){
        colours[rgb]++;
      }else{
        colours[rgb] = 1;
      }
    }
  }

  // Determine what colour occurs most.
  var most = {
    colour:'',
    amount:0
  };
  for(var colour in colours){
    if(colours[colour] > most.amount){
      most.amount = colours[colour];
      most.colour = colour;
    }
  }
  console.log("Highest occurence:",most,
              "\nColours:        ",colours);
}

function rgbToHex(r, g, b) {
  return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
} 
```

# ruby-on-rails - 当用户访问 www.xxxxxxxxxx.com 时，如何删除子域？

> ID：14576221
> 
> 赞同：0
> 
> 时间：2013-01-29T05:25:58.197
> 
> 标签：ruby-on-rails, ruby-on-rails-3, routing

现在在我的应用程序中，用户可以访问两者`www.xxxxxxxxxx.com`，`xxxxxxxxxx.com`
但我不想使用`www.xxxxxxxxxx.com`
如何让用户重定向到`xxxxxxxxxx.com`？

我的路由是这样的

**路线.rb**

```
constraints(:subdomain => /^(|www)$/) do
    root :to => "top#index" 
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T08:13:35.817

我同意，在 Web 服务器中执行此操作会更好，但是如果您无法编辑虚拟主机配置，您可以在 ApplicationController 中创建如下过滤器：

```
 def strip_www
    if request.env["HTTP_HOST"] == "www.url.com"
      redirect_to "http://url.com#{request.request_uri}"
    end
  end 
```

# regex - 如何在正则表达式中回溯

> ID：14576222
> 
> 赞同：1
> 
> 时间：2013-01-29T05:26:13.263
> 
> 标签：regex, backtracking, lookahead, negative-lookahead

**我正在尝试验证最后在.com**之前不包含**登录**名的 url ，但是[这里](http://rubular.com/r/eRdZwvxYIq)的正则表达式没有正确验证 url。

 **我已经使用了惰性量词，但它仍然在移动到部分之前消耗**登录**字符串`(?!login)`，并且它不是回溯。谁能告诉我我做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T05:34:30.797

[这](http://rubular.com/r/vUVc1FCfTa)是一个修改后的版本，上面写着“匹配一些字符；紧接在结尾之前的是*not* `"login"`，紧随其后*的是* `".com"`.

你的问题是：你有两个前瞻，从同一个位置向前看。上面写着：“一些字符串，后面跟着一些*同时*不是`"login"`和是的东西`".com"`。确实，`".com"`不是`"login"`，所以这就是你匹配的。**

# c# - 使用计时器在 NUNIT 中运行应用程序

> ID：14576224
> 
> 赞同：0
> 
> 时间：2013-01-29T05:26:14.353
> 
> 标签：c#, .net, nunit

在 Nunit 中，作为测试的一部分，我必须启动一个应用程序让它运行 1 分钟而不是停止它，然后它从文件中读取结果并断言值是否正确。我可以使用 Process.Start("app.exe"); 启动和停止应用程序；但是我不确定如何让它在 [Test] 中运行 x 秒。知道该怎么做吗？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T05:30:15.313

```
[Test]
void TestFiles()
{
    using(var process = Process.Start("app.exe"))
    {
        Thread.Sleep(1000);
        process.Kill();
        process.WaitForExit();
    }

    // Check your files now
} 
```

# .net - Windows 上的 Quickfix 无法按预期工作？

> ID：14576236
> 
> 赞同：0
> 
> 时间：2013-01-29T05:27:04.177
> 
> 标签：.net, visual-c++, dll, quickfix

我正在使用从[quickfix.org](http://quickfix.org)下载的“quickfix_net.dll”和“quickfix_net_messages.dll” 。

我正在使用 Visual C++ 2010 Express 并在完全托管的环境中进行开发。

当我收到一条消息`fromApp()`并调用`crack()`该消息时，任何`onMesssage()`都不会被调用并且在控制台上它说：

> NewOrderSingle 的消息类型“D”不受支持。

但是我已经`onMessage()`为`QuickFix42::NewOrderSingle`. 另外，我调试了一下，发现里面`QuickFix::Message^`得到的引用`fromApp()`包含`NewOrderSingle^`引用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T07:49:57.840

看起来很奇怪。我从来没有遇到过这个问题。请看一下这个答案：

[为什么使用 quickfix 的 FIX 字段为空？](https://stackoverflow.com/questions/13364570/why-fix-fields-using-quickfix-are-null/13365292#13365292)

让我知道。

# linux - 生成文件中的错误：*** 缺少分隔符。停止

> ID：14576237
> 
> 赞同：36
> 
> 时间：2013-01-29T05:27:05.117
> 
> 标签：linux, makefile, centos

我在 CentOS 6.02 64 位的 make 文件中遇到错误。我需要知道应该怎么做才能使生成文件可用。任何建议都会非常有帮助。我的make文件粘贴在下面：-

```
#

.SUFFIXES: .cc $(.SUFFIXES)

ALL = libpal.a

#all = $(ALL)

all: $(ALL)

.cpp.o:

            $(C++) -o $@ -c $(PROF) $(CFLAGS) $*.cpp

.cc.o:

            $(C++) -o $@ -c $(PROF) $(CFLAGS) $*.cc

.c.o:

            $(CC) -o $@ -c $(PROF) $(CFLAGS) $*.c

top_srcdir = ..

OPENSSL_LIB_DIR = ../../ThirdPartyLibs/openssl-0.9.8e/include
BOOST_DIR = ../../ThirdPartyLibs/boost/stage/lib

BOOST_INCLUDE_DIR = ../../ThirdPartyLibs/boost

CC = gcc

C++ = g++

CCOPT = -Os -Wall -Wno-deprecated

CCOPT_DEBUG = -Wall -g -Wno-deprecated

PROF = 

STATIC = -static

INCLUDE = \
 -I./usr/include/sys

 -I./Headers \

 -I$(top_srcdir)/PAL/Headers \

 -I$(top_srcdir)/BaseMulti/Headers \

 -I$(top_srcdir)/NetworkMulti/Headers \

 -I$(top_srcdir)/RTP/Headers \

 -I$(BOOST_INCLUDE_DIR) \

 -I$(OPENSSL_LIB_DIR) \

LIBDIRS = \

    -L$(BOOST_DIR) \

#XXX NLAYER define / MB_DEBUG

DEFINE =  -D_LINUX -DDEBUGLOG -D_INDENT_DB_PRINT -fsigned-char -fno-inline -D_REENTRANT -D_POSIX_PTHREAD_SEMANTICS -D_POSIX_PER_PROCESS_TIMER_SOURCE -D_PTHREADS -DUNICODE #-DDISABLE_LOG

SHLIB_SUFFIX   = .so

SHLIB_LD       = gcc -shared

SHLIB_LD_LIBS  = 

SHLIB_CFLAGS   = -fPIC

BFLAGS = $(DEFINE) $(INCLUDE)

CFLAGS = $(CCOPT) $(BFLAGS)

OBJ_C =

OBJ_CC = \

    ./Sources/PALsystime.o \

    ./Sources/PALdebug.o \

    ./Sources/PALdebuglog.o \

    ./Sources/PALthread.o \

    ./Sources/PALcritsec.o \

    ./Sources/PALprofiler.o \

    ./Sources/PALserializable.o \

    ./Sources/PALinet.o \

    ./Sources/PALnetwork.o \

    ./Sources/PALsocket.o \

    ./Sources/PALlocalhostUdpEvent.o \

    ./Sources/PALpollarray.o \

    ./Sources/PALrandom.o \

OBJS = $(OBJ_C) $(OBJ_CC) 

SRCS = $(OBJ_C:.o=.c) $(OBJ_CC:.o=.cc)

debug: DEFINE += -DDEBUG

debug: BFLAGS = $(DEFINE) $(INCLUDE)

debug: CFLAGS = $(CCOPT_DEBUG) $(BFLAGS)

debug: $(OBJS)

    ar crsu libpal_debug.a $(OBJS)

libpal.a: $(OBJS)

    ar crsu libpal.a $(OBJS)

cleandeps:  

    $(RM) ./Sources/*.o .depend* core

clean: cleandeps    

    $(RM) ./libpal.a ./libpal_debug.a

    $(RM) $(ALL) 
```

结果错误是：

```
Makefile:34: *** missing separator.  Stop. 
```

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2013-01-29T06:01:39.950

[您可以在附录 B 由 Make 生成的](http://www.gnu.org/software/make/manual/make.html#Error-Messages)错误中找到对此错误的解释。

配方中的每一行都必须以制表符开头。`$(C++)`从文件顶部开始和靠近文件顶部的食谱`$(CC)`似乎不是以制表符开头的。

此外，该部分

```
INCLUDE = \
    -I./usr/include/sys
    -I./Headers \ 
```

之后似乎缺少反斜杠，`sys`并且同一部分（以及更多部分）有多余的空行。

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2013-06-12T07:45:39.343

在 vim 中而不是在 gedit 等编辑器中打开您的 make 文件。配方中的每一行都必须以制表符开头。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2016-08-05T21:54:54.457

这个答案适用于其他`Make`新手，比如我自己，他们从谷歌搜索中发现了这个问题并被卡住了，因为他们正在修改一个大型的预先存在的 Makefile，没有以空格字符开头的行。我的问题发生是因为父makefile调用了带有空格而不是制表符*的子目录中的makefile，我错误地认为存在问题。*

一旦我在子目录中修复了makefile，一切都像一个魅力。

# javascript - 在 Node.js 和其他 2 个 node.js 问题中安装 Postgres 模块时出错

> ID：14576240
> 
> 赞同：0
> 
> 时间：2013-01-29T05:27:36.713
> 
> 标签：javascript, node.js, postgresql, knockout.js, express

我在为 Node.js 安装 Postgres 数据库模块时遇到问题，每次运行命令“npm install pg”时都会出现以下错误：
`C:>npm install pg
npm http GET [https://registry.npmjs.org/pg](https://registry.npmjs.org/pg)
npm http 200 [https://registry.npmjs.org/pg](https://registry.npmjs.org/pg)
npm http GET [https://registry.npmjs.org/pg/-/pg-0.12.1.tgz](https://registry.npmjs.org/pg/-/pg-0.12.1.tgz)
npm http 200 [https://registry.npmjs.org/pg/-/pg-0.12.1.tgz](https://registry.npmjs.org/pg/-/pg-0.12.1.tgz)
npm http GET [https://registry.npmjs.org/generic-pool/2.0.2](https://registry.npmjs.org/generic-pool/2.0.2)
npm http 200 [https://registry.npmjs.org/generic-pool/2.0.2](https://registry.npmjs.org/generic-pool/2.0.2)
npm http GET [https://registry.npmjs.org/generic-pool/-/generic-pool-2.0.2.tgz](https://registry.npmjs.org/generic-pool/-/generic-pool-2.0.2.tgz)
npm http 200 [https://registry.npmjs.org/generic-pool/-/generic-pool-2.0.2.tgz](https://registry.npmjs.org/generic-pool/-/generic-pool-2.0.2.tgz)` 

 `> pg@0.12.1 install C:\node_modules\pg
> node-gyp rebuild || (exit 0)` 

`C:\node_modules\pg>node "C:\Program Files\nodejs\node_modules\npm\bin\node-gyp-b
in\....\node_modules\node-gyp\bin\node-gyp.js" rebuild
'pg_config' is not recognized as an internal or external command,
operable program or batch file.
gyp: Call to 'pg_config --libdir' returned exit status 1\. while trying to load b
inding.gyp
gyp ERR! configure error
gyp ERR! stack Error: `gyp` failed with exit code: 1
gyp ERR! stack at ChildProcess.onCpExit (C:\Program Files\nodejs\node_module
s\npm\node_modules\node-gyp\lib\configure.js:420:16)
gyp ERR! stack at ChildProcess.EventEmitter.emit (events.js:99:17)
gyp ERR! stack at Process._handle.onexit (child_process.js:678:10)
gyp ERR! System Windows_NT 5.1.2600
gyp ERR! command "node" "C:\Program Files\nodejs\node_modules\npm\node_modu
les\node-gyp\bin\node-gyp.js" "rebuild"
gyp ERR! cwd C:\node_modules\pg
gyp ERR! node -v v0.8.17
gyp ERR! node-gyp -v v0.8.2
gyp ERR! not ok
pg@0.12.1 node_modules\pg
└── generic-pool@2.0.2` 

这个错误发生在我的工作机器（linux/windows box）和我家的个人机器（windows）上。有任何想法吗？

另外我应该提到我已经安装了 Python 2.7.3。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-29T07:47:05.450

您在 Windows 上：

```
'pg_config' is not recognized as an internal or external command, operable program or batch file. 
```

所以我建议您获取 pg 模块的预构建二进制文件。在 Windows 上编译东西……很有趣。

直接的错误是`pg_config`可执行文件不在 . `PATH`，但是在你修复它之后会有更多。除非您计划进行探索和宣誓之旅，否则获取预构建的可执行文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-08-18T10:24:44.030

安装 postgres db ( [https://www.postgresql.org/download/](https://www.postgresql.org/download/) ) 并确保其 bin 文件夹路径存在于环境变量中

[![在此处输入图像描述](../Images/d9588b0fc264a0364a6ccaa67baefa90.png)](https://i.stack.imgur.com/fmmBn.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-04-11T22:05:17.910

在 PATH 变量中指定 Postgres bin 文件夹，然后不要忘记以管理员权限重新启动 cmd.exe

# xslt - 更改列表顺序

> ID：14576242
> 
> 赞同：0
> 
> 时间：2013-01-29T05:27:44.453
> 
> 标签：xslt, sharepoint-2010, sharepoint-designer

当前列表

[当前列表](http://i.stack.imgur.com/viUHq.jpg)

```
Access     Autocad     Burger 

Layout     Photoshop   Sandwich

VisualStudio 
```

我使用了盒装视图并编辑了如下所示的源以获得三列

```
<xsl:when test="$Position mod 3 = 0"> 
```

但是所需物品的顺序是这样的

```
 Access       Layout       VisualStudio 
 Autocad      Photoshop 
 Burger       Sandwich 
```

有人可以建议一种方法来实现这一目标吗？

这是 xml 的一部分

```
<xsl:template name="NewTRJumbo" ddwrt:ghost="">
    <xsl:param name="Position" select="1"/>
    <xsl:param name="Collapse" select="."/>
    <xsl:choose>
        <xsl:when test="$Position mod 3 = 0">
            <xsl:text disable-output-escaping="yes">&lt;/tr&gt;</xsl:text>
            <xsl:call-template name="NewTR">
                <xsl:with-param name="Collapse" select="$Collapse"/>
                <xsl:with-param name="EmptyLine" select="1"/>
            </xsl:call-template>
            <xsl:text disable-output-escaping="yes">&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;</xsl:text>
            <xsl:call-template name="NewTR">
                <xsl:with-param name="Collapse" select="$Collapse"/>
            </xsl:call-template>
  </xsl:when>
        <xsl:otherwise>
    <td width="1.5%">

    </td>
  </xsl:otherwise>
    </xsl:choose> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-30T07:39:46.597

我假设你有一个元素的 XML 文档，例如，像这样

```
<items>
   <item>Access</item>
   <item>Autocad</item>
   <item>Burger</item>
   <item>Layout</item>
   <item>Photoshop</item>
   <item>Sandwich</item>
   <item>VisualStudio</item>
</items> 
```

并且您希望将它们分组为 3 列，但项目首先从上到下运行，而不是从左到右。您当前的测试`$Position mod 3 = 0`部分沿着正确的路线进行，但实际上您在这里每行开始一个新行，因此最终从左到右。

需要提及的一件事是您对这行代码的使用

```
<xsl:text disable-output-escaping="yes">&lt;/tr&gt;</xsl:text> 
```

看起来您只是在遍历元素，并尝试在每三个元素之后输出一个结束**tr标记。**XSLT 是一种函数式语言，因此您需要以不同的思维方式进行处理，并以与普通程序语言不同的方式做事。

首先，您需要找到要输出的行数

```
<xsl:param name="columns" select="3"/>
<xsl:variable name="items" select="count(/*/item)"/>
<xsl:variable name="rows" select="ceiling($items div $columns)"/> 
```

即行数是项目总数除以列数。

然后，您需要选择每行的第一项，这很简单，因为这些将是列表中的前“n”项（注意使用**模式**，因为最终的 XSLT 将有两个模板匹配**项**元素)

```
 <xsl:apply-templates select="item[position() &lt;= $rows]" mode="row"/> 
```

在匹配起始项目的模板中，您需要输出当前项目，以及该行中的以下兄弟项目

```
 <xsl:apply-templates select=".|following-sibling::item[position() mod $rows = 0]"/> 
```

唯一要考虑的另一件事是在某些行的末尾添加一个空白单元格。这可以通过计算剩余项目与总项目的数量来完成

```
 <xsl:variable name="lastItem" select="(position() + $rows * ($columns - 1) - $items)" />
 <xsl:if test="$lastItem > 0">
     <td colspan="{ceiling($lastItem div $rows)}"></td>
 </xsl:if> 
```

尝试以下 XSLT

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
    <xsl:output method="xml" indent="yes"/>
    <xsl:param name="columns" select="3"/>
    <xsl:variable name="items" select="count(/*/item)"/>
    <xsl:variable name="rows" select="ceiling($items div $columns)"/>

    <xsl:template match="/*">
        <table>
            <xsl:apply-templates select="item[position() &lt;= $rows]" mode="row"/>
        </table>
    </xsl:template>

    <xsl:template match="item" mode="row">
        <tr>
            <xsl:apply-templates select=".|following-sibling::item[position() mod $rows = 0]"/>
            <xsl:variable name="lastItem" select="(position() + $rows * ($columns - 1) - $items)" />
             <xsl:if test="$lastItem > 0">
                 <td colspan="{ceiling($lastItem div $rows)}"></td>
             </xsl:if>
        </tr>
    </xsl:template>

    <xsl:template match="item">
        <td>
            <xsl:value-of select="."/>
        </td>
    </xsl:template>
</xsl:stylesheet> 
```

当应用于问题开头显示的 XML 时，输出如下

```
<table>
   <tr>
       <td>Access</td>
       <td>Layout</td>
       <td>VisualStudio</td>
   </tr>
   <tr>
       <td>Autocad</td>
       <td>Photoshop</td>
       <td colspan="1"></td>
   </tr>
   <tr>
       <td>Burger</td>
       <td>Sandwich</td>
       <td colspan="1"></td>
   </tr>
</table> 
```

# jquery - 具有动态高度的简单内容滑块

> ID：14576244
> 
> 赞同：1
> 
> 时间：2013-01-29T05:27:46.463
> 
> 标签：jquery, jquery-ui, css

我正在开发一个简单的内容滑块。但是，当新内容滑入时，容器不会扩展。我认为这是因为内容项的位置设置为绝对。但是，如果它们不是绝对定位，则内容项不会正确排列。

因此，我的问题是：如何让容器 (#triv_cont) 在下一个内容项滑入时展开？如果解决方案不是绝对定位内容项，那么如何让内容项对齐？我试过垂直对齐：顶部没有运气。

测试代码在这里-> [http://codepen.io/lukeocom/pen/mHyBv](http://codepen.io/lukeocom/pen/mHyBv)

内容项的 CSS 选择器是：

```
#promos .trivia #triv_cont div 
```

容器是：

```
#promos .trivia #triv_cont 
```

我已经审查了一些关于此的问题，但似乎无法找到解决方案......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-30T03:45:03.010

我通过在按下下一个按钮时将容器的高度设置为下一个内容项的高度来解决这个问题。

```
thisHeight = $('#' + selx).height() + 20; 
```

进而

```
$('#triv_cont').animate({height: (thisHeight + 'px')}, 1000, 'swing'); 
```

简单的...

# jquery - 动态锚标记上的Jquery ajax弹出onclick

> ID：14576247
> 
> 赞同：0
> 
> 时间：2013-01-29T05:28:06.427
> 
> 标签：jquery

我有一些动态锚标签，如下所示，

这个锚标记在一个循环中。单击任何链接时，我希望它是一个 jquery ajax 帖子，并且 div 应该作为弹出 div 出现。我怎样才能做到这一点？

```
 <script language="javascript" type="text/javascript"                                    
      src="ttps://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.js"></script?
      <script type="text/javascript">

 $(document).ready(function()
  {
   $('#details').click(function()
   {   
    var dataString = $(this).serialize();   
    $.ajax({
        type: 'POST',
        url:      

   'http://beta.himayat.in/ilfsspringnew/trainingcentre_view/HimayatTracking/details.php',        

        data: dataString,

        success: function(response)
        { 

            $('#popupdiv').html(response);
        },
        error: function()
        {

        alert('There was an error in AJAX call!');
        }
    });
    return false;
   });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T05:54:10.563

在锚标记单击事件和 ajax 成功使用 jquery 对话框时触发 ajax 调用。

```
$('.anchor-class').click(function(){
        $.ajax({
                url: 'action_url',
                data: {'name': 'My name'},
                success: function(data) {
                     $('#dialog-div-id').dialog();
                }
        });}); 
```

# sql - teradata：过滤字母数字和仅字母

> ID：14576249
> 
> 赞同：0
> 
> 时间：2013-01-29T05:28:32.197
> 
> 标签：sql, regex, teradata

我在其中一列中有数据，看起来像

列数据：

1.A123BDG

2.ADGHKKL

3.12HJKLL

4.78GHUBD

5.GHJKUIP

6.KGJHGJG

现在我必须以一种我已经检测到哪个是字母数字并且只有字母的方式过滤掉数据

选择

```
 case when <condition for detecting alphanumneric>
          then column_data
          end column1 ,
  case when <condition for detecting alphabets>
          then column_data
         end  column2 
```

来自 source_table

column1 中的数据应该是

1.A123BDG

3.12HJKLL

4.78GHUBD

column2 中的数据应该是

2.ADGHKKL

5.GHJKUIP

6.KGJHGJG

任何人都可以通过编写过滤字母数字和字母的条件来帮助我

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T05:52:40.117

`Regex_INSTR(Column,'[[:digit:]]')`将返回字符串中第一个数字的位置，以便您可以使用它来确定您的字符串（或作为参数传递给函数的记录字段值）是否包含数字。将此转移到您的示例中，它看起来像：

```
case when Regex_INSTR(Column,'[[:digit:]]') > 0
          then column_data
          end column1 ,
  case when Regex_INSTR(Column,'[[:digit:]]') <= 0
          then column_data
         end  column2 
```

请注意，这不是您给出的最佳示例，因为不需要进行双重选择，您可以简单地使用`CASE WHEN <contains_numerals> THEN <do_something> ELSE <do_something_else> END`block 代替。

# image-processing - 使用 EC2 按需调整存储在 S3 上的图像大小

> ID：14576251
> 
> 赞同：27
> 
> 时间：2013-01-29T05:28:42.570
> 
> 标签：image-processing, amazon-web-services, amazon-s3, amazon-ec2

我们需要在我们的应用程序中以多种可能的尺寸提供相同的图像。该库包含数十张将存储在 S3 上的数千张图像，因此以所有可能的大小存储相同的图像似乎并不理想。我在 Google 上看到过一些提及 EC2 可用于动态调整 S3 图像的内容，但我很难找到更多信息。任何人都可以向我指出更多信息的方向，或者理想情况下，一些代码示例？

**提示**

起初对我们来说并不明显，但从不直接从 S3 向应用程序或网站提供图像，强烈建议使用 CloudFront。有3个原因：

1.  成本 - CloudFront 更便宜
2.  性能 - CloudFront 更快
3.  可靠性 - 当频繁查询时，S3 偶尔不会为资源提供服务，即每秒超过 10-20 次。这花了我们很长时间来调试，因为资源将随机不可用。

以上不一定是 S3 的失败，因为它是一种存储而不是内容交付服务。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-29T23:03:23.617

假设您不是在谈论数百种不同的可能尺寸，为什么不存储所有图像尺寸？存储成本最低。然后，您还可以通过 Cloudfront（或直接从 S3）提供图像，这样您就不必使用应用程序服务器来动态调整图像大小。如果您提供大量此类图像，则无需在 Web 服务器中动态调整图像大小和处理图像请求所节省的处理成本（即 CPU 周期、内存需求等）可能很容易抵消存储成本。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-29T05:51:15.793

你需要的是一个图像服务器。是的，它可以托管在 EC2 上。这些链接应该有助于开始：[https://github.com/adamdbradley/foresight.js/wiki/Server-Resizing-Images](https://github.com/adamdbradley/foresight.js/wiki/Server-Resizing-Images) [http://en.wikipedia.org/wiki/Image_server](http://en.wikipedia.org/wiki/Image_server)

# xslt - 如何在 Oracle SOA 套件中操作 xml 数据？

> ID：14576252
> 
> 赞同：1
> 
> 时间：2013-01-29T05:28:45.713
> 
> 标签：xslt, jdeveloper, bpel, oracle-soa

```
<Employees manager="101" xmlns:ns1="http://www.example.org" xmlns="http://www.example.org">
            <ns1:person ssn="101">
                <ns1:firstName>Lakshminarayana</ns1:firstName>
                <ns1:lastName>medikoda</ns1:lastName>
            </ns1:person>
            <ns1:person ssn="102">
                <ns1:firstName>narasimha</ns1:firstName>
                <ns1:lastName>mannepalli</ns1:lastName>
            </ns1:person>

            <ns1:person ssn="103">
                <ns1:firstName>venu</ns1:firstName>
                <ns1:lastName>ponakala</ns1:lastName>
            </ns1:person>
</Employees> 
```

我想在 oracle soa 中附加新记录并从此文件中删除一些记录

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-28T00:28:20.727

您不应该使用 XSLT 进行此调整，而应该在 Assign 活动中使用 BPELX 函数。要将新记录附加到列表中，您应该执行以下操作

bpelx:附加

分配活动中的 bpelx:append 扩展使 BPEL 流程能够将一个变量、表达式或 XML 片段的内容附加到另一个变量的内容。

```
<bpel:assign> 
   <bpelx:append>
      <bpelx:from ... /> 
      <bpelx:to ... /> 
   </bpelx:append> 
</bpel:assign> 
```

以下示例将向您展示如何在您的示例中实现这一点。

```
<bpel:assign>
    <bpelx:append>
          <from variable="variableFrom" 
                query="variableFromQuery" />
          <to variable="variableTo"
                query="/ns1:Employees/ns1:person" />
    </bpelx:append> 
</bpel:assign> 
```

要从队列中删除它，您应该

分配活动中的 bpelx:remove 扩展使 BPEL 流程能够删除变量。

```
<bpel:assign> 
    <bpelx:remove>
       <bpelx:target variable="variableName" part="Employee" query="query to match node you want to remove" />
    </bpelx:remove> 
</bpel:assign> 
```

# iphone - 如何在iphone应用程序的字典中存储数组值

> ID：14576253
> 
> 赞同：0
> 
> 时间：2013-01-29T05:28:53.230
> 
> 标签：iphone, arrays, nsdictionary, arc4random

我在我的一个应用程序中遇到了麻烦。我有 36 个图像和 36 个声音和 36 个文本，所有名称都相同现在我想声明这一切的数组意味着图像数组文本数组和声音数组，现在随机希望在按钮标签和上显示 9 个图像相同的第 9 页声音与文本一一播放并识别该图像。

所以在这里我声明图像数组和文本数组我也完成了 arc4random 并获取图像，但现在的问题是我如何在这里使用字典，以便我可以将数据存储在这个字典中，所以我怎么能做到这一点请帮助我 ontis .

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T05:38:49.830

您应该创建一个字典对象数组，每个字典对象包含一个图像、一个声音和一个文本对象（同名对象）。所以数组将包含 36 个字典对象，每个字典对象将包含 3 个对象。

```
NSMutableArray *combinedArray = [[NSMutableArray alloc] init];
for(i=0;i<36;i++) {
    NSDictionary *dict = [[NSDictionary dictionaryWithObjectsAndKeys:[imageArray objectAtIndex:i], @"image", [textArray objectAtIndex:i], @"text", [soundArray objectAtIndex:i], @"sound", nil]];
    [combinedArray addObject:dict];
} 
```

现在您可以在 combineArray 上使用 arc4Random，您将在所选随机索引处拥有所有 3 个对应对象。希望这可以帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T05:35:29.930

如果要将数组存储到字典中，请编写以下代码。您要做的是创建 3 个不同的数组，然后创建 for 循环。

```
 for(int i=0;i<some value:i++)
          {
            dictMut=[[NSMutableDictionary alloc]init];
            [dictMut setObject:[dataArrayA objectAtIndex:w] forKey:@"A"];
            [dictMut setObject:[dataArrayB objectAtIndex:w] forKey:@"B"];
            [dictMut setObject:[dataArrayC objectAtIndex:w] forKey:@"C"];
          } 
```

让我知道它是否有效！

快乐编码！！！！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-29T09:32:12.707

好的，我看到了...现在您所做的是创建了 textarray、soundarray 和 imagearray。

现在创建这 3 个数组后，编写如下代码..

```
 for(int i=0;i<36:i++)
      {
        dictMut=[[NSMutableDictionary alloc]init];
        [dictMut setObject:[textarray objectAtIndex:w] forKey:@"A"];
        [dictMut setObject:[soundarray objectAtIndex:w] forKey:@"B"];
        [dictMut setObject:[imagearray objectAtIndex:w] forKey:@"C"];
      } 
```

并且您的数组值将存储在字典中。

让我知道它是否有效！！！！

快乐编码！！！！

# c++ - 编译 wxWidgets 的错误

> ID：14576262
> 
> 赞同：0
> 
> 时间：2013-01-29T05:29:42.830
> 
> 标签：c++, graphics, wxwidgets

我正在尝试运行[此处](http://zetcode.com/gui/wxwidgets/firstprograms/)显示的示例代码。我使用 MinGW 从源代码构建 wxWidgets，使用以下命令：mingw32-make -f makefile.gcc SHARED=1 UNICODE=0 BUILD=debug。在我的 Eclipse 设置中，我添加了 -Iwx288/include、-Lwx288/lib、-lwxbase28d_gcc_custom 和 -lwxmsw28d_core_gcc_custom。由于编译方法的数量和链接器的经验不足，我感到非常困惑。我收到这些错误，我做错了什么？我什至没有在我的程序中引用 wxMutex。

```
23:15:19 **** Incremental Build of configuration Debug for project A ****
Info: Internal Builder is used for build
g++ "-IC:\\Files\\Programming\\C++\\A\\include" -O0 -g3 -Wall -c -fmessage-length=0 -o "include\\wx\\thrimpl.o" "..\\include\\wx\\thrimpl.cpp" 
..\include\wx\thrimpl.cpp:18:1: error: 'wxMutex' does not name a type
..\include\wx\thrimpl.cpp:29:1: error: 'wxMutex' does not name a type
..\include\wx\thrimpl.cpp:34:6: error: 'wxMutex' has not been declared
..\include\wx\thrimpl.cpp:34:22: error: non-member function 'bool IsOk()' cannot have cv-qualifier
..\include\wx\thrimpl.cpp: In function 'bool IsOk()':
..\include\wx\thrimpl.cpp:36:12: error: 'm_internal' was not declared in this scope
..\include\wx\thrimpl.cpp:36:26: error: 'NULL' was not declared in this scope
..\include\wx\thrimpl.cpp: At global scope:
..\include\wx\thrimpl.cpp:39:1: error: 'wxMutexError' does not name a type
..\include\wx\thrimpl.cpp:47:1: error: 'wxMutexError' does not name a type
..\include\wx\thrimpl.cpp:55:1: error: 'wxMutexError' does not name a type
..\include\wx\thrimpl.cpp:224:1: error: 'wxCondition' does not name a type
..\include\wx\thrimpl.cpp:235:1: error: 'wxCondition' does not name a type
..\include\wx\thrimpl.cpp:240:6: error: 'wxCondition' has not been declared
..\include\wx\thrimpl.cpp:240:26: error: non-member function 'bool IsOk()' cannot have cv-qualifier
..\include\wx\thrimpl.cpp: In function 'bool IsOk()':
..\include\wx\thrimpl.cpp:240:6: error: redefinition of 'bool IsOk()'
..\include\wx\thrimpl.cpp:34:6: error: 'bool IsOk()' previously defined here
..\include\wx\thrimpl.cpp:242:12: error: 'm_internal' was not declared in this scope
..\include\wx\thrimpl.cpp:242:26: error: 'NULL' was not declared in this scope
..\include\wx\thrimpl.cpp: At global scope:
..\include\wx\thrimpl.cpp:245:1: error: 'wxCondError' does not name a type
..\include\wx\thrimpl.cpp:253:1: error: 'wxCondError' does not name a type
..\include\wx\thrimpl.cpp:261:1: error: 'wxCondError' does not name a type
..\include\wx\thrimpl.cpp:269:1: error: 'wxCondError' does not name a type
..\include\wx\thrimpl.cpp:281:1: error: 'wxSemaphore' does not name a type
..\include\wx\thrimpl.cpp:291:1: error: 'wxSemaphore' does not name a type
..\include\wx\thrimpl.cpp:296:6: error: 'wxSemaphore' has not been declared
..\include\wx\thrimpl.cpp:296:26: error: non-member function 'bool IsOk()' cannot have cv-qualifier
..\include\wx\thrimpl.cpp: In function 'bool IsOk()':
..\include\wx\thrimpl.cpp:296:6: error: redefinition of 'bool IsOk()'
..\include\wx\thrimpl.cpp:34:6: error: 'bool IsOk()' previously defined here
..\include\wx\thrimpl.cpp:298:12: error: 'm_internal' was not declared in this scope
..\include\wx\thrimpl.cpp:298:26: error: 'NULL' was not declared in this scope
..\include\wx\thrimpl.cpp: At global scope:
..\include\wx\thrimpl.cpp:301:1: error: 'wxSemaError' does not name a type
..\include\wx\thrimpl.cpp:309:1: error: 'wxSemaError' does not name a type
..\include\wx\thrimpl.cpp:317:1: error: 'wxSemaError' does not name a type
..\include\wx\thrimpl.cpp:325:1: error: 'wxSemaError' does not name a type
..\include\wx\thrimpl.cpp: In function 'bool IsOk()':
..\include\wx\thrimpl.cpp:299:1: warning: control reaches end of non-void function [-Wreturn-type]
..\include\wx\thrimpl.cpp: In function 'bool IsOk()':
..\include\wx\thrimpl.cpp:243:1: warning: control reaches end of non-void function [-Wreturn-type]
..\include\wx\thrimpl.cpp: In function 'bool IsOk()':
..\include\wx\thrimpl.cpp:37:1: warning: control reaches end of non-void function [-Wreturn-type]

23:15:20 Build Finished (took 657ms) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T07:58:48.447

我猜你要么在你的包含路径中丢失了一些东西，要么是`wxWidgets`为了`wxWidgets Header-Files`正确处理而需要的一些定义

WX 带有一个名为（如果您的构建成功`wx-config`，应该位于某处）的工具`wxWidgets/bin`

`wx-config`是一个shell脚本，你可以使用`mingw-msys`

`wx-config --cxxflags`生成编译目标文件所需的所有包含路径和定义。 `wx-config --libs`负责链接程序所需的一切

我建议`wx-config`在您的`makefile/builder/...`. 或检查它产生的输出并将其与您的构建过程进行比较

我当前安装的示例：

`$ wx-config --cxxflags --static=no --debug=yes --unicode=no -I/wx/lib/wx/include/msw-ansi-debug-2.8 -I/wx/include/wx-2.8 -D_*WXDEBUG*_ -DWXUSINGDLL -D_*WXMSW*_ -mthreads`

`$ ./wx-config --libs --static=no --debug=yes --unicode=no -L/wx/lib -mthreads -Wl,--subsystem,windows -mwindows -lwx_mswd_richtext-2.8 -lwx_mswd_aui-2.8 -lwx_mswd_xrc-2.8 -lwx_mswd_qa-2.8 -lwx_mswd_html-2.8 -lwx_mswd_adv-2.8 -lwx_mswd_core-2.8 -lwx_based_xml-2.8 -lwx_based_net-2.8 -lwx_based-2.8`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T19:41:05.090

你为什么要编译`include/wx/thrimpl.cpp`？它不是你的文件，它是 wxWidgets 的一部分，它不应该被编译为你的项目的一部分。只需将其从项目文件列表中删除即可。

# uiview - UIImageView 的触摸事件不适用于 iOS 中的所有图像

> ID：14576264
> 
> 赞同：0
> 
> 时间：2013-01-29T05:30:08.630
> 
> 标签：uiview, ios6, uiimageview, touch

我如下放置图像。

在 ListView.m

```
-(void)viewDidLoad()
 {
        int j=5;
        for (int i=0; i<[po_id_array count]; i++) {

                ViewForTickImage *tickimage=[[ViewForTickImage alloc]initWithFrame:CGRectMake(5, j, 35, 35)];

                NSLog(@"----------%d",j);
                j=j+17;
                [tickimage setTick:FALSE];
                [tickimage setTag:i];
               // [tickimage setDelegate:self];
                [self.view addSubview:tickimage];

            }

        } 
```

在 ViewForTickImage.h 文件中代码如下：

```
@interface ViewForTickImage : UIView
{
    BOOL ticked;
    NSMutableArray *list_selected;
    id delegate;
    UIImageView *currentImg;
    AppDelegate *appdelegate;

}
//@property(nonatomic,readwrite)BOOL ticked;
@property(nonatomic,readwrite,getter=isTicked,setter=setTick:)BOOL ticked;
@property(nonatomic,retain) UIImageView *currentImg;
-(void)checkTickVisiblilityForListAllView; 
```

在 ViewForTickImage.m 文件中的代码是::

```
- (id)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    if (self) {

        currentImg = [[UIImageView alloc]initWithFrame:frame];
        [currentImg setContentMode:UIViewContentModeScaleAspectFit];
        UIImage *img=[UIImage imageNamed:@"image_unselect.png"];
        [currentImg setImage:img];
        [self addSubview:currentImg];
    }
    return self;
}

    -(void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event{

   NSLog(@"image selected");

} 
```

它显示图像列。触摸事件仅适用于第一张图像。如何为所有图像触发触摸事件。请给出解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T05:36:09.063

而不是使用 imageView 尝试使用 UIbutton 并将图像添加到按钮的图像属性。您可以通过简单的方式识别点击。使用按钮的标签属性，您可以识别单击了哪个按钮。

```
 UIButton *imageButton1;
   imageButton1.tag=buttonIdentifier;
   [imageButton1 addTarget:self action:@selector(imageSelected:) forControlEvents:UIControlEventTouchUpInside]; 
```

# ruby - 什么是 Rails 中的 Unobtrusive JavaScript？

> ID：14576269
> 
> 赞同：1
> 
> 时间：2013-01-29T05:30:22.940
> 
> 标签：ruby, ujs

我想在我的 rails 3 应用程序中使用 Ujs。任何人都可以向我解释一下 Rails 中突兀和不突兀的 javascripts 吗？为什么rails 3之前的版本不支持ujs？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T07:57:50.913

Rails 从早期版本开始就有 javascript 助手。

自 Rails 3 以来的不同之处在于它现在不显眼，不显眼意味着功能与内容分离。

例如以下：

```
<%= link_to "Delete", resource_path(@resource), :method => "delete", :confirm => "Are you sure?" %> 
```

将渲染前 Rails 3

```
<a href="/resource/1" onclick="//lots and lots of inline javascript code here">Delete</a> 
```

使用 Rails 3 UJS

```
<a href="/resource/1" data-method="delete" data-confirm="Are you sure?">Delete</a> 
```

不同之处在于，不显眼的 javascript 是在视图中没有内联代码的情况下处理的，并通过“数据”属性传递，并在后台与您的应用程序中的其他默认 JS 一起处理，该 JS 获取此数据属性并运行相应的 JS 代码.

UJS 也常用于使用`:remote => "true"`or进行远程 (AJAX) 调用`link_to_remote`。

更多信息：[AJAX on Rails](http://guides.rubyonrails.org/ajax_on_rails.html)

* * *

基本上，UJS 意味着 Rails 中包含的 javascript 帮助程序（例如确认和 AJAX 等）与视图代码 (HTML) 分离。

UJS 助手也可以轻松切换，例如，如果您更喜欢使用 Prototype，您可以轻松地从 jQuery 切换，同时保留助手功能。

为什么 Rails 旧版本不支持 UJS，是因为它当时没有内置，所以它是用内联 JS 完成的。

# python - ctypes，函数返回指向结构的指针

> ID：14576270
> 
> 赞同：3
> 
> 时间：2013-01-29T05:30:24.820
> 
> 标签：python, ctypes

我的 C 代码返回一个指向结构的指针，这就是我在`python`

```
class CONTEXT(ctypes.Structure):
  _fields_ = [
                ("sockfd", ctypes.c_int), 
                ("eidSeq", ctypes.c_longlong)
             ]
# API
# connect
PY_connect=NativeDll.gf_connect
# connect input and output parameter declaration
PY_connect.argtype = [ 
                          ctypes.c_char_p, 
                          ctypes.c_char_p, 
                          ctypes.POINTER(ctypes.c_int)
                        ]
PY_connect.restype = [
                          ctypes.POINTER(CONTEXT)
                        ] 
```

但我收到以下错误`restype`

`TypeError: restype must be a type, a callable, or None`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-29T07:55:43.727

正如 DaveP 在评论中已经正确猜到的那样，`restype`一定不是类型列表。

```
PY_connect.restype = ctypes.POINTER(CONTEXT) 
```

另请注意，参数类型由`argtypes`属性设置，而不是`argtype`.

# css - 我的 不会停留在页面底部

> ID：14576274
> 
> 赞同：0
> 
> 时间：2013-01-29T05:30:32.597
> 
> 标签：css, html

我的`<footer>`标签似乎不会留在我的页面底部。我尝试了几种不同的技术来修复它，但都没有奏效。

我在下面包含了指向我的工作站点的链接。

[http://stage.bmdigitalgroup.com/recipes.html](http://stage.bmdigitalgroup.com/recipes.html)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T05:46:19.223

根据您的屏幕截图，您的显示器的高度看起来比您网站的内容要大，或者您已经缩小了很多，所以您看到的是完全正常的。在较小的显示器中，它看起来会很好。您可以将`min-height:`规则添加到您的站点容器，以便将页脚向下推到指定值，但您需要找出对您和您的用户有意义的最小高度。

如果您真的想让页脚始终粘在底部而不管显示器的高度或缩放级别，那么您可以添加以下规则 - 请记住，在没有太多内容的页面中，您最终会如果用户需要进入页脚，则强制用户无缘无故向下滚动：

```
/* 
 This rule is already in your stylesheet. 
 I added it here just for reference. 
*/
html, body {
  height: 100%;
}

/* 
  This is the container that holds your whole site. 
  You should use an id like "#container" or "#site" so this rule 
  applies only to your site's main container. 
*/
.container_12 {
  min-height: 100%;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T11:01:54.653

我认为您想将页脚放在任何分辨率的页面底部，如果我是对的，那么这里就是答案。

```
.footer {
position:absolute;
border:0px;
} 
```

有关更多提示、技巧和教程，请访问 - [blog.klassicweb.com](http://blog.klassicweb.com)

# ruby-on-rails-3 - 带有多个条目的 Rails 嵌套表单

> ID：14576277
> 
> 赞同：0
> 
> 时间：2013-01-29T05:31:09.197
> 
> 标签：ruby-on-rails-3, forms, associations, nested-forms, multiple-select

我有一个`Sezzion`模型：

```
attr_accessible  :description
has_many :session_instructors, :dependent => :destroy
has_many :instructors, :through => :session_instructors
accepts_nested_attributes_for :session_instructors
accepts_nested_attributes_for :instructors 
```

`Instructor`模型：

```
attr_accessible :bio
has_many :sezzions, :through => :session_instructors
has_many :session_instructors, :dependent => :destroy 
```

`SessionInstructor`模型：

```
attr_accessible :instructor_id, :sezzion_id
belongs_to :sezzion
belongs_to :instructor 
```

最后，`User`型号：

```
has_many :sezzions
has_many :instructors 
```

我正在尝试为`Sezzion`嵌套表单创建一个表单，`SessionInstructor`该表单具有多个选择选项`Instructors`。

我该如何执行以下操作：

1.  嵌套形式`SessionInstructor`
2.  使用多项选择选项来获取所有选定`Instructor`的`instructor_id`
3.  隐藏字段以传递`session_id`每个选择的讲师创建/更新的内容

到目前为止，我有以下代码：

```
<%= form_for(@sezzion) do |f| %>

    <%= f.label :description %>
    <%= f.text_area :description %>

    <%= f.label :instructors %>
    <%= fields_for :session_instructors do |f| %>
      <select multiple>
        <% current_user.instructors.each do |instructor| %>
          <option><%= instructor.name %></option>
        <% end %>
      </select>
    <% end %>

    <%= f.submit %>

<% end %> 
```

非常感谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-29T19:00:28.420

这在 Rails 中似乎很难做到。

我认为这样的事情可能会奏效：

```
<%= f.fields_for :session_instructors do |si| %>
  <%= si.collection_select :instructor_ids, current_user.instructors, :id, :name, multiple: true>
<% end %> 
```

这应该创建一个表单元素，它将设置 sezzion[session_instructors_attributes][instructor_ids]。

虽然我不确定这是否真的是你想要的。我从来没有尝试过使用多选。如果它不起作用，您也可以尝试摆脱`fields_for`并仅使用`f.collection_select`. 如果您愿意使用复选框，我可以肯定地向您展示如何做到这一点。

我希望这会有所帮助。

**编辑：**

以下是我通常使用 a 的方式`check_box`：

```
<%= f.fields_for :session_instructors do |si| %>
  <%= si.hidden_field "instructor_ids[]" %>
  <% current_user.instructors.each do |i| %>
    <%= si.check_box "instructor_ids[]", i.id, i.sezzions.include?(@sezzion), id: "instructor_ids_#{i.id}" %>
    <%= label_tag "instructor_ids_#{i.id}", i.name %>
  <% end %>
<% end%> 
```

有几个“陷阱！” 用这种方法。编辑模型时，如果取消选中所有复选框，则根本不会发送参数。这就是为什么`hidden_field`是必要的。此外，您需要确保每个表单元素都有一个唯一的`id`字段。否则只发送最后一个条目。这就是我自己手动设置值的原因。

我复制粘贴然后编辑。希望我的语法足够接近，你可以让它工作。

**最终编辑：**

根据 Sayanee 在下面的评论，答案比我想象的要简单一些：

```
<%= f.collection_select :instructor_ids, current_user.instructors, :id, :name, {}, {:multiple => true} %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T13:02:07.103

@Sayanee，您能发布一下您的讲师、sezzions 表的样子吗？另请注意，您无法从 Instructor 对象获取instructor_ids，因此您会收到“未定义的方法”错误。使用您共享的当前关联，您可以从 Sezzion 对象获取instructor_ids。所以你需要遍历 current_user.sezzions 而不是 current_user.instructors。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-12-29T08:20:18.543

这是一种在 has_many :through 关联的情况下使用 html multiple_select 实现 fields_for 嵌套表单的方法。通过做这样的事情来解决它。表单视图：

```
<%= form_for(@sezzion) do |f| %>
...

    <%= fields_for :session_instructors do |g| %>
        <%= g.label :instructor, "Instructees List (Ctrl+Click to select multiple)" %>:
        <%= g.select(:instructor_id, Instructor.all.collect { |m| [m.name, m.id] }, {}, { :multiple => true, :size => 5 }) %>
        <%= g.hidden_field :your_chosen_variable_id, value: your_chosen.id %>
    <% end %>
...
<%= f.submit %>

<% end %> 
```

注意：由于在生成表单时不会保存 @sezzion，因此您无法通过该表单传递该 id (@sezzion.id) 来代替 your_chosen.id。您可以在控制器中处理该保存。

确保您的控制器在生成表单时初始化变量：您的 def new 可能如下所示：

```
def new
  @sezzion = Sezzion.new
  @sezzion.session_instructor.build
  @sezzion.instructors.build
end 
```

现在创建控制器必须能够接受多选所需的强参数，所以 sezzion_params 方法可能看起来像这样：

```
def sezzion_params
    params.require(:sezzion).permit(:description, :any_other_fields,
                                 :session_instructors_attributes  => 
                                     [:instructor_id => [], :your_chosen_id => Integer])
end 
```

在 create 函数中，第一个 session_instructor 变量通过我们的新函数链接到 @sezzion 实例变量。如果您想将创建的@sezzion.id 传递给每个选择讲师，则必须在保存 Sezzion 实例后构建我们的多选中的其他 session_instructors。.

```
def create
    @sezzion = Sezzion.new(sezzion_params)
    @startcount=1 #The first element of the array passed back from the form with multiple select is blank
    @sezzion.session_instructors.each do |m|
      m.instructor_id = sezzion_params["session_instructors_attributes"]["0"]["instructor_id"][@startcount]
      m.your_chosen_variable_id = your_chosen.id
      @startcount +=1
    end

    if @sezzion.save
        sezzion_params["session_instructors_attributes"]["0"]["instructor_id"].drop(@startcount).each do |m|
        @sezzion.session_instructors.build(:instructor_id => sezzion_params["session_instructors_attributes"]["0"]["instructor_id"][@startcount],
                                 :your_chosen_variable_id => your_chosen.id).save
        @startcount += 1
      end
      flash[:success] = "Sezzion created!"
      redirect_to root_url
    else
      flash[:danger] = "There were errors in your submission"
      redirect_to new_sezzion_path
    end
end 
```

# mongodb - Symfony2.1 通过 EmbedMany 将 ArrayCollection() 集合持久化到 MongoDB

> ID：14576280
> 
> 赞同：2
> 
> 时间：2013-01-29T05:31:24.150
> 
> 标签：mongodb, symfony, doctrine

我正在尝试使用 Doctrine (symfony2.1) 将一些数据保存到 MongoDB。这是我的实体：

```
// src/Acme/ReportsBundle/Entity/ReportCore.php
namespace Acme\ReportsBundle\Entity;
use Doctrine\ODM\MongoDB\Mapping\Annotations as MongoDB;
use Doctrine\Common\Collections\ArrayCollection;
/**
 * @MongoDB\Document(collection="registeredReports")
 */
class ReportCore {

/**
* @MongoDB\Id
*/
protected $id;

/**
* @MongoDB\String
*/
protected $title;

/**
* @MongoDB\String
*/
protected $description;

/**
* @MongoDB\String
*/
protected $reference;

/**
* @MongoDB\Date
*/
protected $created;

/**
* @MongoDB\Date
*/
protected $createdBy;

/**
* @MongoDB\EmbedMany(targetDocument="ReportFields")
*/
protected $fields = array();

public function __construct () {
    $this->fields = new ArrayCollection();
}
// Setters, getters
} 
```

这是嵌入式文档：

```
// src/Acme/ReportsBundle/Entity/ReportFields.php
namespace Acme\ReportsBundle\Entity;
use Doctrine\ODM\MongoDB\Mapping\Annotations as MongoDB;
/**
 *  @MongoDB\EmbeddedDocument
 */
class ReportFields {
/**
 * @MongoDB\Id
 */
protected $id;

/**
 * @MongoDB\String
 */
protected $title;

/**
 * @MongoDB\String
 */
protected $description;

/**
 * @MongoDB\String
 */
protected $name;

/**
 * @MongoDB\String
 */
protected $type;

    //Setters-getters...
} 
```

这是控制器：

```
// src/Acme/ReportsBundle/Controller/ReportsController.php
namespace Acme\ReportsBundle\Controller;
use Acme\ReportsBundle\Entity\ReportCore;
use Acme\ReportsBundle\Entity\ReportFields;
use Acme\ReportsBundle\Form\Type\ReportCoreType;
use Symfony\Component\HttpFoundation\Request;
use Symfony\Bundle\FrameworkBundle\Controller\Controller;
class ReportsController extends Controller {
    public function newAction (Request $request) {
$report = new ReportCore();
$fields1 = new ReportFields();
$report->getFields()->add($fields1);
$form = $this->createForm(new ReportCoreType(), $report);
    if ( $request->isMethod('POST') ) {
    $form->bind($request);
    if ( $form->isValid() ) {
        $dm = $this->get('doctrine_mongodb')->getManager();
    $dm->persist($report);
    $dm->flush();
    }
}
return $this->render('AcmeReportsBundle:Report:new.html.twig', array(
            'form' => $form->createView()
        ));
} 
```

我的问题是 - 当我尝试将数据持久保存到数据库时，我得到

```
The class 'Acme\ReportsBundle\Entity\ReportCore' was not found in the chain configured namespaces FOS\UserBundle\Document 
```

由于我对 Symfony 和 Doctrine 还很陌生 - 我无法弄清楚它与 FOSUserBundle 有什么关系，以及我做错了什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T09:46:08.840

您的 MongoDb-Schemas 应该在 Document 命名空间内

`namespace Acme\ReportsBundle\Document;`

# ios - 是什么导致我的 segues 延迟？

> ID：14576284
> 
> 赞同：1
> 
> 时间：2013-01-29T05:31:41.137
> 
> 标签：ios, performance, instruments, autolayout, uistoryboardsegue

当我点击返回按钮时，我的一个视图冻结了几秒钟。

此外，当我点击此视图中的一个项目时，它会显示一个弹出窗口（自定义，而不是`UIPopoverController`）。这个弹出窗口看起来很快，但是当我“翻转”弹出窗口以查看它的背面时，会出现同样长的延迟。

我怀疑原因与视图的复杂性有关。正如您在下面的屏幕截图中看到的，它是一个集合视图，它有一个背景，并且一些子视图是旋转的（[UIViewEdgeAntialiasing](http://developer.apple.com/library/ios/#documentation/general/Reference/InfoPlistKeyReference/Articles/iPhoneOSKeys.html)已打开）。

![隐藏文本的白条不是应用程序的一部分](../Images/3a20ff74dc0cb0cf67f87e45fd977c70.png)

我使用 Instruments 中的 Time Profiler 来弄清楚发生了什么，但我被卡住了。

![选择的时间段是当我按下后退按钮并发生冻结时](../Images/ae72064b3cfe42ac5d8950e54bdb389f.png)

除非我取消选择“隐藏系统库”，否则我看不到任何有用的东西：

![包括系统库](../Images/6f50f9ba60763d264fa008804385f756.png)

如果我查看方法名称，我认为它们与自动布局有关。这表明它试图在 segue 期间渲染一些东西。但是没有调用诸如之类的方法`cellForItemAtIndexPath`。

这个应用程序还有一个 iPhone 版本，我根本没有遇到这个问题。它使用 tableview 而不是 collectionview。它也有背景和旋转的图片。

我使用模拟器进行了这些测量；在我的 iPad Mini 上情况更糟；动画开始前最多可能需要 20 秒。

**更新-感谢您的回答，我尝试过的事情：**

*   关闭`UIViewEdgeAntialiasing`：对性能没有影响

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T05:37:12.133

我认为这可能是由于 UIViewEdgeAntialiasing 标志。看起来你的主视图（有很多轻微旋转的图片）有很多抗锯齿边缘，因此对 iPad 的 GPU 非常不利。当您的弹出框旋转时（即背景再次显示时），绘图性能会减慢这一事实给出了一些可信度。

尝试将其关闭，看看性能是否有所提高。它看起来怎样？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:30:22.083

旋转是这里的坏人。每个`UICollectionViewCell`都有一个`UIView`作为容器视图，其中是一个`UIImageView`. 我像这样旋转它：

`container.transform = CGAffineTransformMakeRotation(M_PI * someRandomFloat);`

删除那条线，一切都很活泼。

我在 iPhone 上使用了相同的技术，但显然这种旋转对性能的影响`UITableViewCell`比在`UICollectionViewCell`.

我尝试子类`UICollectionViewFlowLayout`化来旋转单元格本身而不是一个子视图。不幸的是，这会导致类似的性能问题。

# ios - 从 CLGeocoder 获取当前城市和国家？

> ID：14576289
> 
> 赞同：10
> 
> 时间：2013-01-29T05:32:03.310
> 
> 标签：ios, ios6, nsstring, clgeocoder, currentlocation

我一直在互联网上试图找出如何从`CLGeocoder`. 我可以轻松获得经度和纬度，但我需要城市和国家/地区信息，而且我不断遇到不推荐使用的方法等，有什么想法吗？它基本上需要获取位置，然后有一个`NSString`国家和`NSString`城市，所以我可以用它们来查找更多信息或将它们放在标签上等。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-01-29T06:07:49.183

您需要稍微修改一下您的术语——CLGeocoder（和大多数地理编码器）本身不会给你一个“城市”——它使用诸如“行政区”、“子行政区”等术语。CLGeocoder 对象将返回一组 CLPlacemark 对象，然后您可以查询所需的信息。您初始化 CLGeocoder 并使用位置和完成块调用 reverseGeocodeLocation 函数。这是一个例子：

```
 if (osVersion() >= 5.0){

    CLGeocoder *reverseGeocoder = [[CLGeocoder alloc] init];

    [reverseGeocoder reverseGeocodeLocation:self.currentLocation completionHandler:^(NSArray *placemarks, NSError *error)
     {
         DDLogVerbose(@"reverseGeocodeLocation:completionHandler: Completion Handler called!");
         if (error){
             DDLogError(@"Geocode failed with error: %@", error);
             return;
         }

         DDLogVerbose(@"Received placemarks: %@", placemarks);

         CLPlacemark *myPlacemark = [placemarks objectAtIndex:0];
         NSString *countryCode = myPlacemark.ISOcountryCode;
         NSString *countryName = myPlacemark.country;
         DDLogVerbose(@"My country code: %@ and countryName: %@", countryCode, countryName);

     }];
    } 
```

现在请注意，CLPlacemark 没有“城市”属性。可以在此处找到完整的属性列表：[CLPlacemark 类参考](http://developer.apple.com/library/ios/#documentation/CoreLocation/Reference/CLPlacemark_class/Reference/Reference.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-10-01T18:06:42.367

你可以使用这个（Swift 5）获取城市、国家和 iso 国家代码：

```
private func getAddress(from coordinates: CLLocation) {
    CLGeocoder().reverseGeocodeLocation(coordinates) { placemark, error in
        guard error == nil,
            let placemark = placemark
        else
        {
            // TODO: Handle error
            return
        }

        if placemark.count > 0 {
            let place = placemark[0]
            let city = place.locality
            let country = place.country
            let countryIsoCode = place.isoCountryCode
        }
    }
} 
```

# iframe - 如何指定具有本地硬盘文件夹路径的 iframe 默认图标视图？

> ID：14576294
> 
> 赞同：1
> 
> 时间：2013-01-29T05:32:47.240
> 
> 标签：iframe, view, icons, default, local

我有一个指向本地磁盘文件夹的 iframe，因此它可以像 Windows 资源管理器一样工作。例如：

```
iframe name="Folder" width="1440" height="600" src="..\Media\Icons\OG\" 
```

我一直将其用作我的某些 PC 的个人文件浏览器，以便轻松访问某些程序/文件，并且自 Windows XP 以来我只在我自己的计算机上本地执行此操作，但最近我已将它们全部迁移到Windows 7。我现在遇到的问题是 iframe 在加载时默认将文件/图标显示为“详细信息”视图。

在 Windows XP 上运行时，如果文件不多，iframe 会将文件/图标显示为“Tiles”，而如果目标文件夹包含许多文件，它将显示为“Icons”（现在在 Win7 中称为中等图标）。我以前没有研究过它，因为我认为“瓷砖”或“图标”都可以，但现在“细节”视图使它变得不切实际和丑陋。任何人都知道如何控制这种行为？

# ios - iOS UIImageView 里面的 UIScrollView

> ID：14576296
> 
> 赞同：0
> 
> 时间：2013-01-29T05:33:03.527
> 
> 标签：ios, objective-c, uiscrollview, uiimageview

我有具有这种结构的 Xcode 4.5 Mat-Detail 应用程序： ![在此处输入图像描述](../Images/a2c996306b6743556e48f3f2bec0cd56.png)

如果您单击主视图中的某个单元格，您会在详细视图中看到该图像。一切正常。但我想滚动我的图像，因为有时它们比屏幕大。

我将 ImageView 嵌入到 ScrollView 中。比我将 UIScollView 与代码中的属性连接起来：

MainStoryBoard.storyboard - DetailViewController.h ![在此处输入图像描述](../Images/54a480ad78a7fc581715227debfae187.png)

为了检查滚动条的内容大小问题，我把它做得很大：

细节视图控制器.m

```
- (void)viewDidLoad
{
    [super viewDidLoad];

    [self.scrollView setContentSize:CGSizeMake(self.scrollView.frame.size.width+1000,
    self.scrollView.frame.size.height+1000)];

    [self configureView];
}
//edit:
- (void)configureView
{
    // Update the user interface for the detail item.
    if (self.detailItem) {
        self.title = self.detailItem.data.title;
        self.imageView.image = self.detailItem.fullImage;
    }
} 
```

但它不起作用。为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T07:27:17.597

你有没有尝试增加你的尺寸

```
UIView 
```

您可以在 Simulated Metrics -> Size 下将其设置为自由形式，然后分别更改大小或以编程方式更改它，因为您的滚动视图嵌套在您的视图中

# tcp - 如何确定 websocket 连接的 Ping 间隔

> ID：14576298
> 
> 赞同：23
> 
> 时间：2013-01-29T05:33:17.257
> 
> 标签：tcp, websocket, ping

我了解 Ping 是为了帮助防止代理关闭空闲连接。是否有任何关于多久 ping 一次的指导方针？每秒一次？10秒？分钟？这还重要吗？初步的谷歌搜索没有给我任何信息，[websocket 规范](https://www.rfc-editor.org/rfc/rfc6455#section-5.5.2)只说明了 ping 是什么，而不是你应该多久执行一次

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2014-08-11T04:30:07.417

我知道这是一个老问题，但我也一直在寻找答案。上一个答案没有提到区间，所以我搜索了一些流行的websocket框架的一些代码。并不是说这是官方的，但至少它给出了一个起点：[这个 repo](https://github.com/Worlize/WebSocket-Node/blob/master/lib/WebSocketServer.js)使用了 20 秒的间隔。我不确定这是否 100% 正确，但它比“经常”或“有点频繁”要好。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-29T09:00:40.507

以下 SO 线程的已接受答案似乎很好地回答了您的问题：
[Sending websocket ping/pong frame from browser](https://stackoverflow.com/questions/10585355/sending-websocket-ping-pong-frame-from-browser)

听起来您可以经常 ping（使用您自己的自定义 ping/pong 字符串），除非有大量客户端连接到您的 WebSocket 服务器，否则系统上的负载将相当小。

# c# - 当复选框列表只有一行和多列时无法选择项目

> ID：14576303
> 
> 赞同：0
> 
> 时间：2013-01-29T05:33:52.723
> 
> 标签：c#, winforms, c#-4.0, checkboxlist

![复选框列表只有一行时无法选择项目](../Images/c0677a564e0a3c3e34698ebd1ae7695c.png) ![当复选框列表有滚动条或多于一行时可以选择项目](../Images/c7eecee8b8c162e9217c63b5ef0195b0.png)

在 c# winform 应用程序中，当复选框列表只有一行时，我无法选择复选框，如果我使用拖动复选框列表有多行或有一行带有滚动条，那么我可以选择复选框。

复选框列表有bug吗？</p>

# bash - 为什么 bash 变量“不同”？

> ID：14576311
> 
> 赞同：0
> 
> 时间：2013-01-29T05:34:29.420
> 
> 标签：bash, shell, variables

bash“变量”与其他“普通”编程语言中的变量有什么不同吗？

是因为它们是由先前程序的输出设置还是必须由某种文字文本设置，即它们必须由某些程序的输出或通过标准输入/输出输出文本的东西设置，或者控制台之类的？

我不知道如何使用正确的词汇，但是任何人都可以理解我想说的话，也许可以使用正确的词，或者向我指出一些我可以更好地理解 bash 变量概念的文档。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T06:52:01.493

在大多数语言中，变量可以包含不同类型的值。例如，在 Python 中，变量可以是可以对 ( `a-1`) 进行算术运算的数字、可以拆分的数组或字符串 ( `a[3:]`) 或自定义的嵌套对象 ( `person.name.first_name`)。

在 bash 中，您不能直接执行任何操作。如果我理解你的话，你问为什么会这样。

您不能在 bash 中做同样的事情有两个原因。

一：环境变量（通常）是简单的 key=value 字符串，原始的 sh 是 Unix 进程模型之上的一个非常薄的包装器。出于技术和兼容性原因，Bash 的工作方式相同。由于所有变量都是（基于）字符串，因此您不能真正拥有丰富的嵌套类型。

这也意味着您不能在您调用的子shell/下标中设置变量。该变量不会在父脚本中设置，因为这不是环境变量的工作方式。

二：原始的 sh 没有分离代码和数据，因为这使得交互工作更容易。Sh 将所有非特殊字符视为文字。即被`find / -name foo`认为是四个文字字符串：一个命令和三个参数。

Bash 不能仅仅决定`find / -name`现在意味着“变量 find 的值除以变量 name 的否定值”，因为这意味着每个人的 find 命令都会开始中断。这就是为什么你不能拥有其他语言的简单解引用语法。

甚至`$name-1`不能用于减法，因为它可以很容易地用作`$name-1-12-2012.tar.gz`带有时间戳的文件名的一部分。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T05:59:34.350

我会说它与 Bash 函数有关。Bash 函数不能返回值，只能返回状态码。

所以使用 Bash 你可以拥有一个功能

```
foo ()
{
  grep bar baz
} 
```

但是如果你尝试“保存”函数的返回值

```
quux=$? 
```

它只是保存退出状态，而不是任何值。与 Javascript 等语言相比，函数实际上可以返回值。

```
foo ()
{
  return document.getElementById("dog").getAttribute("cat");
} 
```

并像这样保存

```
quux = foo(); 
```

# css - 超链接不适用于 IE 或 Chrome 中的嵌入标签

> ID：14576312
> 
> 赞同：1
> 
> 时间：2013-01-29T05:34:30.703
> 
> 标签：css, html, hyperlink, cross-browser

```
<param id="movie" name="movie" value='<%= Me.ResolveUrl(Me.BannerPath)%>'> 

    <a  href='http://<%= BannerTargetUrl%>' target="_blank">

           <embed  wmode="transparent" src='<%= Me.ResolveUrl(Me.BannerPath)%>' align="middle" Width="468px" Height="60px" />

    </a> 
```

在此代码标记链接在 Mozilla 中正常工作，但超链接在 IE 或 Chrome 中不起作用

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T05:39:02.810

`<embed>`标签是块级元素，标签`<a>`是内联元素。尝试给出 HTML 5 Doctype：

```
<!doctype html> 
```

并给出块显示`<a>`：

```
a {display: block;} 
```

# mysql - 如何在不使用脚本的情况下进行 Mysql 备份？

> ID：14576323
> 
> 赞同：0
> 
> 时间：2013-01-29T05:36:20.530
> 
> 标签：mysql, backup

是否可以对 DB 中的特定表进行每日备份（仅每天记录）。备份完成后，需要从表中删除这些记录。

这种情况是否可以在不使用 php、perl 等脚本语言的情况下工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T05:57:58.000

最简单的方法是使用脚本

1) 选择你需要的记录

2）把它们放在某种形式的转储中

3）使用您需要的参数从表中运行删除

恕我直言，其他构造（使用存储过程或其他触发器）最终会射你一脚

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:07:25.183

```
 mysqldump -u root -p db_name > db_backup.sql 
```

使用上面的命令我们可以备份数据库，如果你想备份一个已选择的表，你可以使用：`mysqldump -c -u -p db_name table_name > table_backup.sql` 并删除数据库使用`drop database db-name`并删除特定表使用`drop table table-name`

# iphone - 在 iPhone 中转换日期时间格式的时间

> ID：14576324
> 
> 赞同：1
> 
> 时间：2013-01-29T05:36:20.920
> 
> 标签：iphone, ios, objective-c

对所有人：

有人可以帮我了解如何将时间`(HH:mm)`格式转换为`datetime(yyyy/mm/dd HH:mm:ss)`格式吗？我需要帮助。

我已经尝试将此[字符串转换为格式 yyyy-MM-dd HH:mm:ss Iphone](https://stackoverflow.com/questions/7332164/string-to-a-format-yyyy-mm-dd-hhmmss-iphone/7332518#7332518)链接，但我有这种格式的字符串，`HH:mm`我想将其转换为`yyyy/mm/dd HH:mm:ss`

提前致谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T06:47:43.167

*@Neelz*说对了如果在 DB 中您只保存小时和分钟值，那么这将取决于您使用哪个日期来获取格式化日期。我做了与*@Neelz*说的相同但方式不同的事情。下面我展示了通过考虑今天的日期来获取所需的日期时间

```
 //get the today's date
    NSDate* date = [NSDate date];
    //Create the dateformatter object
    NSDateFormatter* formatter = [[[NSDateFormatter alloc] init] autorelease];
    [formatter setLocale:[[NSLocale alloc]initWithLocaleIdentifier:@"en_US"]];
    //Set the required date format to get the todays date
    [formatter setTimeZone:[NSTimeZone timeZoneWithName:@"UTC"]];
    [formatter setDateFormat:@"yyyy-MM-dd"];
    [formatter setTimeZone:[NSTimeZone systemTimeZone]];
    NSString* cCurrentDateStamp = [formatter stringFromDate:date];
    NSLog(@"%@",cCurrentDateStamp);

    //now get the hours & minute you saved in DB.I considered 11:08
    NSString *strYOurTime=@"11:08";

    //create the date time string by appending date & time
    NSString *str=[NSString stringWithFormat:@"%@ %@:00",cCurrentDateStamp,strYOurTime];

     //set the formatter
    [formatter setDateFormat:@"yyyy-MM-dd HH:mm:ss"];
    NSDate *FinalDateTime=[formatter dateFromString:str];
    NSLog(@"%@",FinalDateTime); 
```

FinalDateTime 是您想要的最终日期。现在要获取两个日期之间的天数，请参阅以下链接：

[iPhone - 获取两个日期之间的天数](https://stackoverflow.com/questions/3075356/iphone-get-number-of-days-between-two-dates)

# php - Zend：标签标签的自定义装饰器

> ID：14576327
> 
> 赞同：0
> 
> 时间：2013-01-29T05:36:42.190
> 
> 标签：php, html, zend-framework, zend-form

我目前有以下代码来生成表单元素（文本框）：

```
$this->addElement('text', 'username', array(
        'label' => 'Username',
        //'multiOptions' => $this->getOptions(),
        'filters' => array(
            'StringTrim',
        ),
        'validators' => array(
            array('StringLength', 
                false, 
                array(0, 50)),
        ),
        'decorators' => array(
            array('ViewHelper'), 
            array('Label', array(
                'tag' => 'label',
                'placement' => 'prepend',
                )
            ),
            array('HtmlTag', array(
                'tag' => 'input',
                )
            ),
        ),
    )); 
```

这会在 HTML 中输出以下内容：

```
<dt id="username-label"><label for="username" class="optional">Username</label></dt>
<dd id="username-element">
<input type="text" name="username" id="username" value="" class="input"></dd> 
```

但是，我希望它输出这个：

```
<dt id="username-label"><label for="username" class="**label**">Username</label></dt>
<dd id="username-element">
<input type="text" name="username" id="username" value="" class="input"></dd> 
```

为什么即使我告诉它在装饰器定义中使用标签类，标签也不采用标签类？我在这里做错了吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T08:42:50.353

渲染元素标签的代码

**$this->form->name->renderLabel() ;**

# jquery - Rails 3.2 标签和标签在渲染部分时被剥离

> ID：14576329
> 
> 赞同：1
> 
> 时间：2013-01-29T05:36:56.773
> 
> 标签：jquery, ruby-on-rails, html, ruby-on-rails-3.2

我有一个嵌套表单，其中显示了一些用于 has_many 关系的字段。当我渲染包含字段的部分时，我的 tr 和 td 标记被删除。然而， div 标签不是。我可以做些什么来确保标签没有被剥离？

_form.html.erb

```
<%= form_for @invoice do |f>
.
.
.
<table>
  <th>Qty</th>
  <th>Description</th>
  <th>Price</th>
  <th>EA/C</th>
  <th>Amount</th>

  <%= f.fields_for :invoice_line_items do |builder| %>
    <%= render 'invoice_line_item_fields', :f => builder %>
  <% end %>
</table>

<% end %> 
```

在浏览器源代码中查看的 table 标记仅包含标题并在呈现嵌套表单部分之前关闭。部分完全剥离所有 tr 和 td 元素。

_invoice_line_item_fields

```
<div>
  <tr>
    <td>
      <%= f.text_field :qty %>
    </td>
    <td>
      <%= f.text_field :description %>
    </td>
    <td>
      <%= f.text_field :price %>
    </td>
    <td>
      <%= f.text_field :ea_c %>
    </td>
    <td>
      <%= text_field_tag :amount %>
    </td>
    <td>
      <%= f.hidden_field :_destroy %>
      <%= link_to "remove", "#", :class => "remove_line_items" %>
    </td>
  </tr>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T08:03:33.617

As others have pointed out in the comments your markup is incorrect and what the browser shows you might be highly modified due to it trying to guess what you actually meant.

A correct structure for a table would be:

```
<table>
  <thead>
    <th>Header1</th>
    <th>Header1</th>
  </thead>
  <tbody>
    <tr>
      <td>You can have divs here ...</td>
      <td>You can have divs here ...</td>
    </tr>
  </tbody>
</table> 
```

Don't mix in other HTML elements except inside your `<td>...</td>`-tags and you should be fine...

# php - 请继续收到 jQuery 语法错误

> ID：14576332
> 
> 赞同：0
> 
> 时间：2013-01-29T05:37:15.853
> 
> 标签：php, jquery, ajax

我的代码一直在完美运行，但是从星期四开始，我在 firebug 中遇到语法错误，并且 uplodify 无法正常工作，错误显示为，

> SyntaxError: missing ) 在参数列表 [Break On This Error] 之后
> 
> });
> 
> jquery.min.js（第 2 行，第 4 列）

我不知道出了什么问题，它在 jQuery 上给出了错误，而不是在我的代码中我用原来的代码替换了我更改的代码，但仍然得到这个错误。我正在使用 GOOGLE 链接，我降级到它是否有效，但它一遍又一遍地没有同样的错误。

下面是我使用 jQuery 的脚本，

```
<?php

/**
 * @author SiNUX
 * @copyright 2013
 */

include ('lId.php');
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
<script type="text/javascript" src="Upl/jquery.uploadify.min.js"></script>

<script type="text/javascript">
$(function() {
    $(function() {
        $('#imgUpload').uploadify({
            'auto'     : false,
            'swf'      : 'Upl/uploadify.swf',
            'uploader' : 'Upl/uploadify.php',
            'height'   : 20,
            'width'    : 200,
            'fileTypeDesc' : 'Image Files',
            'fileTypeExts' : '*.gif; *.jpg; *.png',
    }
        // Put your options here
    });
});
</script>

<script type="text/javascript">
 $(document).ready(function(){
  $("#save_data").click(function(){
    var name  = document.getElementById("Name").value;
    var desc = document.getElementById("Descrip").value;
    var con = document.getElementById("ConInfo").value;

    var dataString = 'Name='+name+'&Descrip='+desc+'&ConInfo='+con;
    $.ajax({
      type:'POST',
      data:dataString,
      url:'AddPoiPro.php',
      success:function(data){
       if(data="Data inserted") {
          //alert("Data  Success");
          document.getElementById('msg').innerHTML= "<div style=\"background-color:#0F0; text-align:center; color: #060\">Data Saved</dive>";
          $('#msg').delay(1500).fadeOut();
        } else {
          //alert("Not Inserted");
          document.getElementById('msg').innerHTML= "<div style=\"background-color:#0F0; text-align:center; color: red\">Data Not Saved</div>";
          $('#msg').delay(1500).fadeOut();
        }
     } 
   });
  });
});
</script>

<link rel="stylesheet" type="text/css" href="Upl/uploadify.css" />

<title>AddPOI</title>
</head>

<body>
<form method="post" enctype="multipart/form-data" name="form1" id="form1">
  <p>
    <label for="poiid">ID :</label>
    <input type="text" name="poiid" id="poiid" readonly="readonly" style="width:70px;" value="<?php echo $tId; ?>" />
  </p>
  <p>
    <label for="Name">POI Name :</label>

    <input type="text" name="Name" id="Name" />
  </p>
  <p>
    <label for="Descrip" style="alignment-adjust:middle">POI Description :</label>
    <textarea name="Descrip" id="Descrip" cols="45" rows="5"></textarea>
  </p>
  <p>
    <label for="ConInfo">Contact Infomation :</label>
    <textarea name="ConInfo" id="ConInfo" cols="45" rows="5"></textarea>
  </p>
  <p>
    <label for="Img">POI Image</label>
    <input type="file" name="imgUpload" id="imgUpload" />
  </p>
  <p><div id="msg"></div></p>
  <p>  
  <div align="center">
    <input type="button" name="Submit" id="sendData" value="Submit" onclick="$('#imgUpload').uploadify('upload','*');" style="width:100px;" />
    <input type="reset" name="reset" id="reset" value="Rest Data" style="width:100px;" />
  </div>
  </p>
</form>
</body>
</html> 
```

请帮助我，我坚持下去。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T05:40:01.437

这里：

```
$(function() {
    $('#imgUpload').uploadify({
        'auto'     : false,
        'swf'      : 'Upl/uploadify.swf',
        'uploader' : 'Upl/uploadify.php',
        'height'   : 20,
        'width'    : 200,
        'fileTypeDesc' : 'Image Files',
        'fileTypeExts' : '*.gif; *.jpg; *.png' // No comma here. Will break older IE
    }); // <-------- Missing paren here.
}); 
```

此外，就像我的示例一样，您不需要像这样嵌套 DOM 就绪事件。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-29T05:40:15.047

你不见了**）**附近

```
};
            // Put your options here 
```

添加并尝试

```
<script type="text/javascript">
$(function() {
    $(function() {
        $('#imgUpload').uploadify({
            'auto'     : false,
            'swf'      : 'Upl/uploadify.swf',
            'uploader' : 'Upl/uploadify.php',
            'height'   : 20,
            'width'    : 200,
            'fileTypeDesc' : 'Image Files',
            'fileTypeExts' : '*.gif; *.jpg; *.png',
    });
        // Put your options here
    });
});
</script> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-29T05:41:29.850

而不是这个

```
 'fileTypeExts' : '*.gif; *.jpg; *.png',
} 
```

用这个，`);`不见了

```
 'fileTypeExts' : '*.gif; *.jpg; *.png'
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-29T05:40:56.440

```
$('#imgUpload').uploadify({
            'auto'     : false,
            'swf'      : 'Upl/uploadify.swf',
            'uploader' : 'Upl/uploadify.php',
            'height'   : 20,
            'width'    : 200,
            'fileTypeDesc' : 'Image Files',
            'fileTypeExts' : '*.gif; *.jpg; *.png',
   } 
```

我可以想到一个............删除上面代码中* .png之后的最后一个“，”......可能会有所帮助

另一个缺少“）；” 最后在上面的片段中

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-29T05:43:56.987

你犯了一个小错误

```
$(function() {
$('#imgUpload').uploadify({
    'auto'     : false,
    'swf'      : 'Upl/uploadify.swf',
    'uploader' : 'Upl/uploadify.php',
    'height'   : 20,
    'width'    : 200,
    'fileTypeDesc' : 'Image Files',
    'fileTypeExts' : '*.gif; *.jpg; *.png'
  }
 );    //Here you need to add this 
```

});

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-29T05:45:06.480

你需要的只是这个：

```
$(function() { // <---------------------------just one doc ready handler
    $('#imgUpload').uploadify({
        'auto'     : false,
        'swf'      : 'Upl/uploadify.swf',
        'uploader' : 'Upl/uploadify.php',
        'height'   : 20,
        'width'    : 200,
        'fileTypeDesc' : 'Image Files',
        'fileTypeExts' : '*.gif; *.jpg; *.png' //<-----removed ","
     }); //<--------------------------------------); added this
    // Put your options here
}); 
```

无需`doc ready`两次调用处理程序并进行一些修改，这些可能是您的错字。

# python - 在 MATLAB（或 Python 或 C）中对 3D 数据进行插值和求导

> ID：14576339
> 
> 赞同：0
> 
> 时间：2013-01-29T05:38:18.893
> 
> 标签：python, matlab, interpolation, spline, derivative

我有三个 3D 矩阵 X、Y 和 Z，它们在一些 3D 空间上定义了相同大小的矩阵 V。矩阵有规律地间隔。现在，我正在尝试执行插值并计算每个像素的 V ie 的空间偏导数，计算 V 如何随 x、y 和 z 变化。我读过用样条插值和计算导数会产生良好的结果。例如，我以前使用过 splinefit 和 ppdiff ( [http://www.mathworks.com/matlabcentral/fileexchange/13812-splinefit](http://www.mathworks.com/matlabcentral/fileexchange/13812-splinefit) )

如何将样条用于我拥有的数据集？是否有一些代码最好在 MATLAB 中可用（Python 和 C 也可以）来执行这些计算？

假设我只想要 X、Y 和 Z 定义的采样位置的导数，我可以对每个维度进行 1D 样条近似并以这种方式计算偏导数吗？也许这应该是数学交流的问题。这可能需要一段时间，但它应该可以正常工作吗？

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T05:50:45.500

尝试使用 [`interp3`](http://www.mathworks.com/help/matlab/ref/interp3.html)matlab 的 3-D 数据插值函数，它支持“样条曲线”以及其他方法。[文档](http://www.mathworks.com/help/matlab/ref/interp3.html)中的更多信息...

# java - 自定义 Metal LookAndFeel 的主题

> ID：14576346
> 
> 赞同：3
> 
> 时间：2013-01-29T05:38:42.437
> 
> 标签：java, swing, look-and-feel, uimanager

目前我的应用程序在 Windows 环境下运行，根据新要求，我们需要 Linux 上的端口。

但是我的应用程序使用的是仅在 Windows 平台上受支持的 Windows 外观，当我在 Linux 上运行它时出现下面列出的异常。

当我计划继续使用 GTK 外观时，我面临着组件尺寸不匹配和按钮颜色等问题。

然后我用我自己的主题去金属外观和感觉，但应用程序仍然抛出相同的异常。

```
MetalLookAndFeel.setCurrentTheme(MyTheme());
UIManager.setLookAndFeel("javax.swing.plaf.metal.MetalLookAndFeel");

public class MyTheme extends DefaultMetalTheme {

    public String getName() {
        return "MyTheme";
    }
    ColorUIResource primary1 = new ColorUIResource(0, 78, 115);
    ColorUIResource primary2 = new ColorUIResource(102, 193, 122);
    ColorUIResource primary3 = new ColorUIResource(153, 244, 173);
    ColorUIResource secondary1 = new ColorUIResource(196, 172, 134);
    ColorUIResource secondary2 = new ColorUIResource(209, 192, 163);
    ColorUIResource secondary3 = new ColorUIResource(223, 211, 190);
    private final FontUIResource controlFont = new FontUIResource("Dialog", 0, 11);

    protected ColorUIResource getPrimary1() {
        return primary1;
    }

    protected ColorUIResource getPrimary2() {
        return primary2;
    }

    protected ColorUIResource getPrimary3() {
        return primary3;
    }

    protected ColorUIResource getSecondary1() {
        return secondary1;
    }

    protected ColorUIResource getSecondary2() {
        return secondary2;
    }

    protected ColorUIResource getSecondary3() {
        return secondary3;
    }

    public FontUIResource getControlTextFont() {
        return controlFont;
    }
}

INFO   | jvm 1    | main    | 2013/01/21 15:14:23.995 | Exception in thread "AWT-EventQueue-0" java.lang.NullPointerException
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.995 |     at javax.swing.plaf.basic.BasicButtonUI.getMinimumSize(BasicButtonUI.java:352)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.995 |     at javax.swing.JComponent.getMinimumSize(JComponent.java:1714)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.995 |     at java.awt.BorderLayout.minimumLayoutSize(BorderLayout.java:651)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.995 |     at java.awt.Container.minimumSize(Container.java:1651)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.995 |     at java.awt.Container.getMinimumSize(Container.java:1636)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at javax.swing.JComponent.getMinimumSize(JComponent.java:1716)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.FlowLayout.minimumLayoutSize(FlowLayout.java:448)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.Container.minimumSize(Container.java:1651)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.Container.getMinimumSize(Container.java:1636)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at javax.swing.JComponent.getMinimumSize(JComponent.java:1716)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.GridBagLayout.GetLayoutInfo(GridBagLayout.java:1094)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.GridBagLayout.getLayoutInfo(GridBagLayout.java:893)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.GridBagLayout.ArrangeGrid(GridBagLayout.java:2052)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.GridBagLayout.arrangeGrid(GridBagLayout.java:2008)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.GridBagLayout.layoutContainer(GridBagLayout.java:789)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.Container.layout(Container.java:1421)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.Container.doLayout(Container.java:1410)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.Container.validateTree(Container.java:1507)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.Container.validateTree(Container.java:1513)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.Container.validateTree(Container.java:1513)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.Container.validateTree(Container.java:1513)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.Container.validateTree(Container.java:1513)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.Container.validate(Container.java:1480)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at javax.swing.RepaintManager.validateInvalidComponents(RepaintManager.java:669)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at javax.swing.SystemEventQueueUtilities$ComponentWorkRequest.run(SystemEventQueueUtilities.java:124)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:642)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.EventQueue.access$000(EventQueue.java:85)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.EventQueue$1.run(EventQueue.java:603)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.EventQueue$1.run(EventQueue.java:601)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.security.AccessController.doPrivileged(Native Method)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:87)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.EventQueue.dispatchEvent(EventQueue.java:612)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)
INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.EventDispatchThread.run(EventDispatchThread.java:122) 
```

# c# - 如何将 Google Chrome 插件从我的网站添加到浏览器

> ID：14576352
> 
> 赞同：0
> 
> 时间：2013-01-29T05:39:12.127
> 
> 标签：c#, asp.net-mvc, google-chrome, plugins, google-chrome-extension

我创建了一个插件。在那我已经拿了一个文件夹，该文件夹包含一个`HTML page`,`manifest file`和`image`一个`.js`文件。然后我从 Google Chrome 扩展设置中加载解压的扩展来加载扩展。然后将插件添加到 Chrome。

然后我打包了扩展，我得到了一个`.crx`文件和`.pem`文件。我已将该文件拖到 Chrome 文件夹中，并且它也将其添加到 Chrome。

我将该文件包含在我网站上的下载链接中，例如：

```
 <a href="@Url.Content("../test.crx")" target="_blank">Download</a> 
```

并在文件中添加了 mime 文件类型扩展名，`web.config`例如：

```
 <system.webServer>   
    <staticContent>
       <mimeMap fileExtension=".crx" mimeType="application/x-chrome-extension" />
    </staticContent>
 </system.webServer> 
```

现在文件在链接按钮点击下载，它得到一个错误： `Apps,extensions and user scripts cannot be added from this website.` 我的网站还没有上线，我只使用本地主机。我该如何纠正这个问题？

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T08:41:38.847

您不能通过触发安装`<a href="@Url.Content("../test.crx")"`

*   你应该有一个链接标签`<link rel="chrome-webstore-item" href="https://chrome.google.com/webstore/detail/apdfllckaahabafndbhieahigkjlhalf">`
*   您可以通过触发安装`chrome.webstore.install(url, successCallback, failureCallback)`

有关更多信息，请查看[文档](https://developers.google.com/chrome/web-store/docs/inline_installation)。

# css - 具有 3 个随机大小的列和底部的 div 模板

> ID：14576354
> 
> 赞同：1
> 
> 时间：2013-01-29T05:39:33.793
> 
> 标签：css, templates, html

我用这个模板

```
<style>
    #block_center{
        position: absolute;
        right: 210px;
        left: 210px;
        text-align: left;
        border: 1px solid #000;
        overflow: auto;
        height: auto;
    }
    #block_right{
        width: 200px;
        border: 1px solid #000;
        position: relative;
        right: 3px;     
        text-align: left;
        float: right;   
    }
    #block_left{
        position: relative;
        left: 3px;
        width: 200px;
        border: 1px solid #000;
        text-align: left;
        float: left;
    }        
    #block_content{
        clear: both;
        float: none;
        width: 100%;
        text-align: center;
        overflow-y:auto;
        overflow-x:auto;
        height: auto;
      /* margin-bottom: -50px; */
        margin: auto;

    }
    #block_buttom { 
        background-color: blue;
       /* z-index:  -10; */
        width: 100%;

        height: 50px;
        clear: both;
        }

    .clear {
        clear:both;
        overflow:hidden;
           }  

</style>

<div id="block_content">
    <div id="block_center"> ARTICLE <br> article_ajax_content </div>
    <div id="block_right"> Artile links </div>
    <div id="block_left"> banner </div>
    <div class="clear"></div>
</div>
<div class="clear"></div>
<div id="block_buttom"> some text info about site and 31px height img </div> 
```

我遇到的问题是，文章不仅可以是随机高度大小，而且还有随机大小内容的 ajax 块跟随它，我根本不能绝对坚持底部 div 在所有关于浏览器窗口大小、内容的内容之后留在底部大小，ajax 块大小...

任何人都可以帮助我了解 css（我不想使用 jQuery 将底部块固定到固定 y 坐标）对于我的使用模式应该是什么样的吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-30T06:15:12.503

这是目前我想要的

```
<style>
     #block_buttom { 
        margin-top: 10pt;
       /* z-index:  -10; */
        width: 100%;
        display: inline-block;
        height: auto;
        clear: both;
        }

    .page-buffer {
        padding-top: 50px inherit;
        height: 50px;
        clear: both;
        width: 100%;
    }      

    .clear {
        clear:both;
        font-size:0;
        overflow:hidden; 
           }  

#block_content {
    width:100%;
    text-align:center;
}

#block_left {
    position: relative;
    top: 0px;
    text-align: left;
    float:left;
    width: 10%;
    min-width:210px;
    height: auto;
    padding:  3px;
}

#block_center {
    text-align: left;
    display: inline-block;
    margin:0 auto;
    width:70%;
    min-width: 640px;
    height: auto;
    padding:  3px;
}

#block_right {
    position: relative;
    text-align: left;
    float:right;
    width: 10%;
    min-width:210px;
    height: auto;
    padding:  3px;
}

</style> 
```

在高分辨率下它看起来非常好，在较低分辨率下 - 仍然需要一些调整以找到中心块大小和固定大小左\右块之间的空间的平衡

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:06:45.393

使所有块相对定位并使用百分比而不是像素给出高度和宽度。

确保所有高度百分比的总和为 100%（以防你想覆盖整个屏幕）。

这可确保您的页面内容覆盖整个屏幕，而与屏幕分辨率无关。

每个块的相对大小在所有分辨率下也保持相同。

**关键是使用 PERCENTAGE 值而不是 PIXEL 值。**

为了解决动态大小的文章数据，只需 CSS 文章 div 有一个滚动条。

# wpf - 在“TextBox”类型中找不到可附加属性“IsEnabled”

> ID：14576356
> 
> 赞同：1
> 
> 时间：2013-01-29T05:39:55.847
> 
> 标签：wpf, visual-studio, attached-properties, isenabled

根据我对附加属性的理解，我相信我可以设置一个属性值，该值将应用于与类型匹配的容器的所有子项。例如，如果我在 StackPanel 中有多个 TextBox，那么我可以通过在 StackPanel 的声明中将 TextBox.IsEnabled 属性设置为 false 来禁用它们：

```
<StackPanel TextBox.IsEnabled="False" Orientation="Horizontal">
...
</StackPanel> 
```

我在 Visual Studio 中尝试了这个，Xaml 设计器完全按照预期将 StackPanel 中的 TextBoxes 灰显，但是当我尝试编译时，我遇到了错误：

> 在“TextBox”类型中找不到可附加属性“IsEnabled”

我是否误解了附加属性？他们只是从祖先到孩子吗？如果是这样，有没有办法做我正在尝试的事情，即将所有 child `TextBox`es`IsEnabled`属性设置为 false？

感谢您的任何指点

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T08:34:17.267

是的，附加属性允许在父级上设置属性值，子级继承该值。另一方面`TextBox.IsEnabled`，它不是附属财产，因此您无法做自己想做的事。

也许可以通过一些自定义面板和/或自定义附加属性编程来获得您想要的东西。

但是，如果需要，您也可以使用`Style`其中还可以将 IsEnabled 属性绑定到自定义逻辑的方式获得相同的结果。

```
<StackPanel Width="200" Height="50" >
     <StackPanel.Resources>
         <Style TargetType="TextBox">
             <Setter Property="IsEnabled" Value="False" />
         </Style>
     </StackPanel.Resources>
        <TextBox Text="one" />
        <TextBox Text="two" />
</StackPanel> 
```

# jquery - JQuery UI 动态选项卡 - 自动选择

> ID：14576358
> 
> 赞同：5
> 
> 时间：2013-01-29T05:39:57.680
> 
> 标签：jquery, jquery-ui, dynamic, tabs, jquery-tabs

我试图在单击按钮时添加一个动态选项卡。我成功地完成了它。现在我希望在创建动态选项卡时自动选择它。

这是我的代码：

```
$(document).ready(function(){

    var tabs = $("#container-1").tabs();
    $('#add_tab').click( function(){
            var ul = tabs.find( "ul" );
            $( "<li><a href='#newtab'>New Tab</a></li>" ).appendTo( ul );
            $( "<div id='newtab'>Name :<input type='text'></input></div>" ).appendTo( tabs );
            tabs.tabs( "refresh" );
            tabs.tabs("select", 1);
        });
}); 
```

我按顺序使用 CDN 链接：

```
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.0/themes/base/jquery-ui.css" />
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.0/jquery-ui.min.js"></script> 
```

问题是我的动态选项卡没有被自动选中

我得到的错误是：

```
Error: no such method 'select' for tabs widget instance
http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js
Line 2 
```

我该如何解决？

注意：我的代码在 jsfiddle 中工作：http: [//jsfiddle.net/StDbH/](http://jsfiddle.net/StDbH/)

但不在我的系统上：Fedora 16 + Firefox 18.0.1

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-29T05:59:20.707

刷新后添加这一行：

```
tabs.tabs( "option", "active", -1 ); 
```

[http://jsfiddle.net/StDbH/1/](http://jsfiddle.net/StDbH/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T05:54:29.987

尝试选项卡的[show()](http://api.jqueryui.com/tabs/#option-show)选项

```
$( ".selector" ).tabs({ show: { effect: "blind", duration: 800 } }); 
```

# ios - 如何以编程方式创建 NSComboBox

> ID：14576359
> 
> 赞同：0
> 
> 时间：2013-01-29T05:40:00.823
> 
> 标签：ios, jcombobox, nscombobox

我有一个看法。如何以编程方式创建 NSComboBox

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T06:31:07.860

像 Mac OS X 这样的 ComboBox 在 iOS X 中是不可能的。你可以做一个解决方法。使用图像作为背景（如组合框背景）和用户在其上的其他控件，如文本字段、按钮等。

# android - pushwoosh init(); 给我错误

> ID：14576361
> 
> 赞同：0
> 
> 时间：2013-01-29T05:40:05.653
> 
> 标签：android, jquery, cordova, init

我正在使用 phonegap pushwoosh 进行通知。我按照说明进行操作，但我在某个地方堆叠。

我现在按照指示做了我必须将下面的代码放在某个地方

```
function init() {
document.addEventListener("deviceready", initPushwoosh, true);

//rest of the code
} 
```

任何人都可以给我一些示例如何放置代码。我检查了 pushwoosh 的样本，但他们正在使用

```
 <script type="text/javascript">
        app.initialize();
    </script> 
```

不是身体`onload=init();`现在我很困惑....

我是 android 和 phonegap 和 pushwoosh 的新手。请帮帮我。

请帮我。谢谢马苏

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T06:03:13.027

你可以这样做：

```
$(function() {
   document.addEventListener("deviceready", init, true);
}); 
```

# html - ASP 未终止的字符串常量错误

> ID：14576363
> 
> 赞同：1
> 
> 时间：2013-01-29T05:40:15.240
> 
> 标签：html, asp-classic

我收到以下错误，但我不明白如何修复它。

错误：

```
Microsoft VBScript compilation error '800a0409'

Unterminated string constant

/junk/airsearch/search.htm, line 118

response.write("
----------------^ 
```

ASP代码负责：

```
 <% if con("notes") = "" then
  response.write("")
  else
  response.write("
  <tr>
    <td colspan='8'><strong>Notes:</strong> con('notes')</td>
  </tr>")
  endif
  %> 
```

整个页面代码：

```
<%@CODEPAGE=65001%> 
<%
pagetitle="Aircraft and Simulator Multi-use List 06/074"
%>
<!--#INCLUDE VIRTUAL="/_lib/include/header.htm"-->
<!--#INCLUDE VIRTUAL="/_lib/include/menu.htm"-->
<script>
$(document).ready(function() {
    $("#state").change(function () {
    this.form.submit();
})
$('#supplier_name, #aircraft_type').focus()
$("#supplier_name").val($("#supplier_name").val());
$("#aircraft_type").val($("#aircraft_type").val());
var typingTimer;                
var doneTypingInterval = 800;  

$('#supplier_name, #aircraft_type').keyup(function(){
    clearTimeout(typingTimer);
    if ($('#supplier_name, #aircraft_type').val) {
        typingTimer = setTimeout(doneTyping, doneTypingInterval);
    }
});

function doneTyping () {
    $("form").submit();
}

});
</script>
<div class="twoColumnRow">
<div class="twoColumnContent">
<p class="breadCrm"><a href="/index.htm">Home</a> <span>&gt;</span> <a href="/tools/index.htm">Tools of the Trade</a> <span>&gt;</span> <a href="/tools/finance/index.htm">Finance and Purchasing</a><span>&gt;</span> <a href="/tools/finance/procurement/index.htm">Procurement and Contracts information</a></p>
<div class="contentPad">
<!-- Start of main content -->

<p class="imageRight">&nbsp;</p>
<h1><%=pagetitle%></h1>

<%
        Dim connectString, connect, conDB, sconDB, lDB, con, scon, lcon, src_ccn, src_state
        connectString = "Driver={Microsoft Text Driver (*.txt; *.csv)}; DBQ=" & Server.MapPath("data")
              src_supplier_name = Request.QueryString("supplier_name")
              src_aircraft_type = Request.QueryString("aircraft_type")
              src_state = Request.QueryString("state")
        set connect = Server.CreateObject("ADODB.connection")
        connect.open connectString

        if src_state = "" then
            conDB = "SELECT * FROM mul.csv WHERE ucase(supplier_name) LIKE ucase('%"+src_supplier_name+"%') AND ucase(aircraft_type) LIKE ucase('%"+src_aircraft_type+"%')"   
            lDB = "SELECT * FROM mul.csv WHERE ucase(supplier_name) LIKE ucase('%"+src_supplier_name+"%')" 
        elseif src_state = "any" then
            conDB = "SELECT * FROM mul.csv WHERE ucase(supplier_name) LIKE ucase('%"+src_supplier_name+"%') AND ucase(aircraft_type) LIKE ucase('%"+src_aircraft_type+"%')"   
            lDB = "SELECT * FROM mul.csv WHERE ucase(supplier_name) LIKE ucase('%"+src_supplier_name+"%') AND ucase(aircraft_type) LIKE ucase('%"+src_aircraft_type+"%')" 
        else 
            conDB = " SELECT * FROM mul.csv WHERE ucase(state) LIKE ucase('%"+src_state+"%') AND ucase(supplier_name) LIKE ucase('%"+src_supplier_name+"%') AND ucase(aircraft_type) LIKE ucase('%"+src_aircraft_type+"%')"
            lDB = " SELECT * FROM mul.csv WHERE ucase(state) LIKE ucase('%"+src_state+"%') AND ucase(supplier_name) LIKE ucase('%"+src_supplier_name+"%') AND ucase(aircraft_type) LIKE ucase('%"+src_aircraft_type+"%')"
        end if

        sconDB = "SELECT * FROM mul.csv"    

        set con = connect.execute(conDB)
        set scon = connect.execute(sconDB)
        set lcon = connect.execute(lDB)
%>
<h2>Search results</h2>
<% if not con.BOF then %>
<div style="margin-top:1em">

  <form id="searchf" action="search.htm" method="get">

      <p>Supplier name: <input id="supplier_name" name="supplier_name" type="text" value="<%=src_supplier_name%>"> Aircraft type: <input id="aircraft_type" name="aircraft_type" type="text" value="<%=src_aircraft_type%>"> </p>
     <p>State or Territory:<br/>
      <select style="width: 497px;" id="state" name="state">
        <option class="group" label="Any state or territory" value="any" <%if request.querystring("state") = "any" then response.write("selected") %>></option>
        <option class="group" label="Australian Capital Territory" value="ACT" <%if request.querystring("state") = "ACT" then response.write("selected") %>></option>
        <option class="group" label="New South Whales" value="NSW" <%if request.querystring("state") = "NSW" then response.write("selected") %>></option>
        <option class="group" label="Northern Territory" value="NT" <%if request.querystring("state") = "NT" then response.write("selected") %>></option>
        <option class="group" label="Queensland" value="QLD" <%if request.querystring("state") = "QLD" then response.write("selected") %>></option>
        <option class="group" label="South Australia" value="SA" <%if request.querystring("state") = "SA" then response.write("selected") %>></option>
        <option class="group" label="Tasmania" value="TAS" <%if request.querystring("state") = "TAS" then response.write("selected") %>></option>
        <option class="group" label="Victoria" value="VIC" <%if request.querystring("state") = "VIC" then response.write("selected") %>></option>
        <option class="group" label="Western Australia" value="WA" <%if request.querystring("state") = "WA" then response.write("selected") %>></option>
        <option class="group" label="Other" value="other" <%if request.querystring("state") = "other" then response.write("selected") %>></option>
      </select>

    <input type="submit" value="Search" /></p>
  </form>
  <br />

<table style="font-size:.9em;" class="contentTable">
  <tr>
    <th width="25%">Supplier</th>
    <th width="5%">State</th>
    <th width="20%">Aircraft type</th>
    <th width="10%">Variant</th>
    <th width="10%">Hourly cost</th>
    <th width="10%">Rental basis</th>
    <th width="10%">Timing method</th>
    <th width="10%">Insurance excess</th>

  </tr>
  <% con.Movefirst() %>
  <% while (NOT con.EOF) %>
  <tr>
    <td><a href="searchcomp.htm?ccn=<%=con("ccn")%>"><%=con("supplier_name")%></a></td>
    <td><%=con("state")%></td>
    <td><%=con("aircraft_type")%></td>
    <td><%=con("variant")%></td>
    <td><%=con("cost_hr")%></td>
    <td><%=con("rental_basis")%></td>
    <td><%=con("timing_method")%></td>
    <td><%=con("insurance_excess")%></td>
  </tr>
  <% if con("notes") = "" then
  response.write("")
  else
  response.write("
  <tr>
    <td colspan='8'><strong>Notes:</strong> con('notes')</td>
  </tr>")
  endif
  %>
  <%
    con.MoveNext()
    Wend
  %>
</table>

</div>
<% else %>
    <% scon.Movefirst() %>
  <form id="searchf" action="search.htm" method="get">

      <p>Supplier name: <input id="supplier_name" name="supplier_name" type="text" value="<%=src_supplier_name%>"> Aircraft type: <input id="aircraft_type" name="aircraft_type" type="text" value="<%=src_aircraft_type%>"> </p>
     <p>State or Territory:<br/>
      <select style="width: 497px;" id="state" name="state">
        <option class="group" label="Any state or territory" value="any" <%if request.querystring("state") = "any" then response.write("selected") %>></option>
        <option class="group" label="Australian Capital Territory" value="ACT" <%if request.querystring("state") = "ACT" then response.write("selected") %>></option>
        <option class="group" label="New South Whales" value="NSW" <%if request.querystring("state") = "NSW" then response.write("selected") %>></option>
        <option class="group" label="Northern Territory" value="NT" <%if request.querystring("state") = "NT" then response.write("selected") %>></option>
        <option class="group" label="Queensland" value="QLD" <%if request.querystring("state") = "QLD" then response.write("selected") %>></option>
        <option class="group" label="South Australia" value="SA" <%if request.querystring("state") = "SA" then response.write("selected") %>></option>
        <option class="group" label="Tasmania" value="TAS" <%if request.querystring("state") = "TAS" then response.write("selected") %>></option>
        <option class="group" label="Victoria" value="VIC" <%if request.querystring("state") = "VIC" then response.write("selected") %>></option>
        <option class="group" label="Western Australia" value="WA" <%if request.querystring("state") = "WA" then response.write("selected") %>></option>
        <option class="group" label="Other" value="other" <%if request.querystring("state") = "other" then response.write("selected") %>></option>
      </select>
    </p>
    <input type="submit" value="Search" />
  </form>
  <br /><hr />
<p>No records match your query.</p>
<p><a href="dbtest.htm">Return to search page</a></p>
<%
  end if
  con.close
%>

<!-- End of main content -->
</div> <!-- end contentPad div -->
</div> <!-- end twocolumncontent div -->
<div class="twoColumnLinks">

<!--<div class="relatedLinks">
<h3>Related Links</h3>
<ul>
<li><a href="/index.htm">Related link 1</a></li>
</ul>
</div>--> <!-- end relatedlinks div -->
<!--#INCLUDE VIRTUAL="/_lib/include/quicklinks.htm"-->
<!--#INCLUDE VIRTUAL="/_lib/include/mylinks.htm"-->
</div> <!-- end twocolumnlinks div -->
</div> <!-- end twocolumnrow div -->
<!--#INCLUDE VIRTUAL="/_lib/include/footer.htm"--> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-29T05:41:48.257

你不能在多行上有字符串。

要么将字符串全部放在一行上，要么在行尾结束字符串并将其与下一行的字符串连接起来，依此类推。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-29T16:12:43.950

至少有三种不同的方式来格式化你的代码来达到你想要的效果：

```
<% Dim con_notes : con_notes = con("notes") %>

<% if con_notes = "" then
response.write("")
else
response.write("<tr>")
response.write("  <td colspan='8'><strong>Notes:</strong> " & con_notes & "</td>")
response.write("</tr>")
end if
%> 
```

或者

```
<% if con_notes <> "" then %>
<tr>
  <td colspan="8"><strong>Notes:</strong> <%=con_notes %></td>
</tr>
<% end if %> 
```

或者

```
<%
if con_notes <> "" then
  response.write "<tr>" & _
                   "<td colspan='8'><strong>Notes:</strong> " & _
                   con_notes & _
                   "</td>" & _
                 "</tr>"
end if
%> 
```

我更喜欢第二种格式化我的代码的方式。

# php - php - 如何防止字符串中大写首字母缩写词的断字

> ID：14576366
> 
> 赞同：0
> 
> 时间：2013-01-29T05:40:39.023
> 
> 标签：php, codeigniter

我有如下的话：

```
$string1 = ucwords("bookingID");
substr(preg_replace("/([A-Z])/", ',\\1', $string1), 1)) 
```

输出如下：`Booking I D`

但如果有两个连续的大写字母，我想避免插入空格。

预期输出：`booking ID`

如果我输入像 bookingAmountReceived 这样的词，那么预期的输出是：`Booking Amount Received`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T05:42:50.677

使用量词：

```
preg_replace("/[A-Z]+/", ",$0", $string1); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T05:47:16.277

```
$String = 'bookingAmountReceived';
$Words = preg_replace('/[A-Z][a-z]+/', ' $0 ', ucfirst($String));
echo $Words; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-29T05:44:59.747

```
preg_replace("/[A-Z]+/", " $0", $string1); 
```

# xml - 将数据表或数据集添加到现有 XML 节点

> ID：14576376
> 
> 赞同：0
> 
> 时间：2013-01-29T05:41:47.533
> 
> 标签：xml, vb.net, xmlreader, xmlwriter

我有一个这样的 XML；

```
<?xml version="1.0" standalone="yes"?>
<Claim.Submission>
  <Header>
    <SenderID>DHA123</SenderID>
    <ReceiverID>A002</ReceiverID>
    <TransactionDate>2012-07-05T15:00:00+05:30</TransactionDate>
    <RecordCount>3</RecordCount>
    <DispositionFlag>PRODUCTION</DispositionFlag>
  </Header>
  <Claim>
    <ID>123</ID>
    <MemberID>m01254</MemberID>
    <PayerID>A002</PayerID>
    <ProviderID>DHA123</ProviderID>
    <EmiratesIDNumber>111-1111-1111111-1</EmiratesIDNumber>
    <Gross>100</Gross>
    <PatientShare>0</PatientShare>
    <Net>100</Net>
  </Claim>
 </Claim.Submission> 
```

但我想在`<Claim>`节点中动态添加一个数据表。IE; 我想要 XML 作为

```
<?xml version="1.0" standalone="yes"?>
<Claim.Submission>
  <Header>
    <SenderID>DHA123</SenderID>
    <ReceiverID>A002</ReceiverID>
    <TransactionDate>2012-07-05T15:00:00+05:30</TransactionDate>
    <RecordCount>3</RecordCount>
    <DispositionFlag>PRODUCTION</DispositionFlag>
  </Header>
  <Claim>
    <ID>123</ID>
    <MemberID>m01254</MemberID>
    <PayerID>A002</PayerID>
    <ProviderID>DHA123</ProviderID>
    <EmiratesIDNumber>111-1111-1111111-1</EmiratesIDNumber>
    <Gross>100</Gross>
    <PatientShare>0</PatientShare>
    <Net>100</Net>
  <Encounter>
    <FacilityID>DHA123</FacilityID>
    <Type>3</Type>
    <PatientID>1245</PatientID>
    <Start>2012-01-01T12:00:00+05:30</Start>
    <End>2012-01-05T15:00:00+05:30</End>
    <StartType>1</StartType>
    <EndType>1</EndType>
  </Encounter>
 </Claim>
</Claim.Submission> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T05:55:24.727

您可以尝试使用 XmlTextWriter 类写入 XML 文件：

[http://msdn.microsoft.com/en-us/library/system.xml.xmltextwriter.aspx](http://msdn.microsoft.com/en-us/library/system.xml.xmltextwriter.aspx)

如果您将写入现有文件，它将用您指定的内容替换文件内容，因此请确保正确更新记录，否则您可能会丢失存储的信息。

# facebook - 有效保持 Facebook 好友信息最新的策略（可扩展）

> ID：14576379
> 
> 赞同：3
> 
> 时间：2013-01-29T05:41:57.283
> 
> 标签：facebook, facebook-graph-api, real-time, updates

我创建了一个应用程序来导入你所有的朋友和他们的数据。我缓存这些数据并在渲染应用程序时使用缓存的数据，因此我不必在每次加载时都从 facebook 导入。

我希望有人能给我一个可靠的策略来有效地让我的朋友信息保持最新（或至少在 24 小时内保持最新）——实时更新只是告诉我朋友集合/对象是否有为用户而改变，而不是哪些朋友或哪些数据。

当然，我可以每天重新导入每个用户的朋友数据，但这似乎有点矫枉过正。

**我希望能够：**

*   检查是否添加了新朋友（然后导入新朋友）
*   检查是否有朋友被删除
*   检查是否有朋友更新了他们的信息，以及更新了哪些信息（然后去获取更新的信息）

注意：该应用程序有成千上万的用户，以及数百万缓存的朋友，所以暴力破解它不会很好地扩展

有没有人有任何关于保持用户朋友信息最新而无需不断 ping FB 以重新导入每个朋友的有效方法的好信息？

也会对此感兴趣的任何 3rd 方 SaaS 选项。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T17:05:46.790

我最近尝试获取有关用户朋友的实际信息，但我发现只有一个解决方案 - 每次都获取有关所有朋友的完整数据。我在 JS 的客户端执行此操作，并将结果发送到我们的服务器。

# assembly - 有什么理由使用 0007 而不是 7？（16 基地）

> ID：14576383
> 
> 赞同：1
> 
> 时间：2013-01-29T05:42:34.613
> 
> 标签：assembly, coding-style, hex

我正在阅读旧程序的源代码，包括操作系统等几乎都是汇编语言。

他们使用例如：

```
MOV BX,0007 
```

注意`0007`

我看到这种做法对于汇编程序员来说非常普遍（在这个时代？）为什么不只使用 7 呢？有什么特殊原因吗？我认为这是为了可读性..也许？

顺便说一句，这种汇编语言的所有数字（直到我看到，不是文档）都假定为 16 进制。

另外，我确定标签。如果我错了，请为我编辑。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T05:44:38.180

没有技术原因，但快速识别 8 位、16 位和 32 位数字在代码中的位置会很有帮助。

# jquery-jtable - 在 JQuery-Jtable 中动态添加字段

> ID：14576385
> 
> 赞同：1
> 
> 时间：2013-01-29T05:43:05.023
> 
> 标签：jquery-jtable

如何在 Jtable 中动态添加字段。我想为 Cities 设置多个值请参考所附图片

谢谢![在此处输入图像描述](../Images/dfe756400b02ae841acc4304ef2b67fb.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T14:48:18.653

不，它不是用 jTable 制作的。您可以使用输入选项（[http://jtable.org/ApiReference#fopt-input](http://jtable.org/ApiReference#fopt-input)）和这个： http: [//jqueryui.com/autocomplete/#multiple](http://jqueryui.com/autocomplete/#multiple)或者您可以创建自己的对话框。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-01-16T00:53:18.580

是的，这不是 jQuery jTable 内置的。为了解决这个问题，我创建了一个用于相同目的的脚本。这处理（a）添加更多控件或控件组和（b）删除控件。

这是脚本：

```
//add '.add_more' class to
$(".add_more").on('click', function () {

    // creates unique id for each element
    var _uniqueid_ = +Math.floor(Math.random() * 1000000);
    var new_ele_id = $(this).attr("data-clone-target") + _uniqueid_;

    var cloneObj = $("#" + $(this).attr("data-clone-target"))
    .clone()
    .val('')
    .attr("id", new_ele_id);

    // if the control is grouped control
    if ($(this).hasClass('group_control') == true) {
        $($(cloneObj).children()).each(function () {
            $(this).attr("id", $(this).attr("id") + _uniqueid_).val("");
        });
    }

    $(cloneObj).insertBefore($(this));

    //creates a 'remove' link for each created element or grouped element
    $("<a href='javascript:void(0);' class='remove_this' data-target-id='" + new_ele_id + "'></a>")
    .on('click', function () {
        if ($(this).is(":visible") == true) {
            if (confirm("Are you sure?")) {
                $("#" + $(this).attr("data-target-id")).remove();
                $(this).remove();
            }
        }
        else {
            $("#" + $(this).attr("data-target-id")).remove();
            $(this).remove();
        }

    }).insertBefore($(this));
    $("#" + new_ele_id).focus();

});

//remove element script
$(".remove_this").on('click', function () {
    if ($(this).is(":visible") == true) {
        if (confirm("Are you sure?")) {
            $("#" + $(this).attr("data-target-id")).remove();
            $(this).remove();
        }
    }
    else {
        $("#" + $(this).attr("data-target-id")).remove();
        $(this).remove();
    }
}); 
```

**用法：单元素** [http://jsfiddle.net/vkscorpion1986/ktbn4qLg/2/](http://jsfiddle.net/vkscorpion1986/ktbn4qLg/2/)

```
<input class="" id="<ELEMENT-ID>" type="text" name="input1">
<a href="javascript:void(0);" data-clone-target="<ELEMENT-ID>" title="Add More" class="add_more">Add More</a> 
```

**用法：分组元素** [http://jsfiddle.net/vkscorpion1986/ktbn4qLg/4/](http://jsfiddle.net/vkscorpion1986/ktbn4qLg/4/)

```
<div id="<ELEMENT-ID>">
    <input class="" id="input1" type="text" name="input1">
    <input class="" id="input2" type="text" name="input2">
</div>
<a href="javascript:void(0);" data-clone-target="<ELEMENT-ID>" title="Add More" class="add_more group_control">Add More</a> 
```

**属性**

```
href = javascript:void(0); // just to disable the anchor tag default behaviour 
data-clone-target = id of the target element 
```

**CSS类**

```
.add_more = to implement the add more/remove controls functionality
.group_control  = for indicating that this is group of elements which have to be repeted 
```

希望这对你有用。

# jquery - 向下和向上滚动时需要在圆圈中填充颜色吗？

> ID：14576386
> 
> 赞同：-2
> 
> 时间：2013-01-29T05:43:04.657
> 
> 标签：jquery, css, canvas, html5-canvas

当我们在浏览器中上下移动滚动条时，我需要为一个圆圈填充颜色。上下移动页面。

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:11:12.167

使用 jquery 和 jquery ui 您可以使用鼠标滚轮事件。

`$('#...').bind('mousewheel', function(e) { });`

这是一个示例，应该可以帮助您入门：

[JSFiddle](http://jsfiddle.net/RFmQu/)

更多信息：

[JavaScript 的 onmousewheel 事件](http://www.javascriptkit.com/javatutors/onmousewheel.shtml)

# perl - Mojo::CookieJar - 如何从文件中加载 cookie

> ID：14576387
> 
> 赞同：2
> 
> 时间：2013-01-29T05:43:05.613
> 
> 标签：perl, cookies, mechanize, mojolicious, mojo

如何从 Mojo 中的文件加载 cookie，如下代码：

```
my $mech = WWW::Mechanize->new();
$mech->cookie_jar(HTTP::Cookies->new());

if (-e "cookie.txt") {
    print q[Cookie file: cookie.txt found!\n];

    $mech->cookie_jar(HTTP::Cookies->new(
        file => q[cookie.txt],
    ));

    $mech->get(qq[$cfg->{'url'}/login]) or die qq[invalid request\n];
} else {
    print q[Cookie file: cookie.txt NOT found!\n];

    $mech->get(qq[$cfg->{'url'}/login]) or die qq[invalid request\n];

    $mech->submit_form(
        form_name => 'login',
        fields => {
            'email'     => $cfg->{'email'},
            'password'  => $cfg->{'password'},
        },
    );
    die qq[ERROR: Failed to login!\n] unless ($mech->success);

    $mech->cookie_jar->save("cookie.txt");
} 
```

除非有 cookie.txt，否则脚本会使用用户名和密码，并将生成的 cookie 保存在 cookie.txt 文件中并下次使用此文件。

我正在尝试在不使用 Mechanize 的情况下重写此代码，并且在保存和加载 cookie 文件时遇到问题。

```
my $ua = Mojo::UserAgent->new;
$ua->cookie_jar(Mojo::CookieJar->new);
and then I do not know how to continue :) 
```

PS对不起我的英语和perl :)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-30T00:07:49.040

据我所知，Mojolicious 不支持此功能，但您可以通过以下方式使用 Storable 模块的存储和检索功能：

```
use Mojo::Base -strict;

# uncomment to be sure
#BEGIN { $ENV{MOJO_USERAGENT_DEBUG} = 1; }

use Mojo::UserAgent;
use Storable;

my $cookie_path = 'my.cookie';
my $req_str     = 'http://www.google.com/';

SAVE: {
  my $ua1 = Mojo::UserAgent->new;
  $ua1->get($req_str);
  store $ua1->cookie_jar, $cookie_path;
}

my $ua2 = Mojo::UserAgent->new;

# load
$ua2->cookie_jar(retrieve($cookie_path));

# make a request with loaded cookie
$ua2->get($req_str); 
```

# php - 在codeIgniter中连接表后无法显示完整数据

> ID：14576391
> 
> 赞同：2
> 
> 时间：2013-01-29T05:43:33.833
> 
> 标签：php, codeigniter, mysqli

这是我`PROCEDURE`的模型：

```
CREATE DEFINER=`root`@`localhost` PROCEDURE `service_tasks_read`(
IN i_user_id    INT(255))
BEGIN
SELECT * FROM tasks LEFT JOIN projects ON tasks.project_id = projects.id WHERE projects.manage_user_id = i_user_id; 
END 
```

这是运行示例结果： ![在此处输入图像描述](../Images/eadec2b76bb27d5ad7052926d8d96d6e.png)

这是存储过程的模型：

```
public function service_tasks_read($aUserId)
{
    $r_result = $this->db->query("CALL service_tasks_read('".$aUserId."')");

    return $r_result;
} 
```

所以，当我像这样在我的控制器中打印它时：

```
 $aData = $CI->storedprocedure->service_tasks_read($aUserId);

    for($i = 0; $i < $aData->num_rows(); $i++)
    {
        echo('$i    '.$i.': ');
        print_r($aData->_fetch_assoc($i));
        echo('<br/>');
    } 
```

结果如下：

```
$i 0: Array (
    [id] => 3
    [project_id] => 3
    [name] => #SYS#_DEFAULT
    [status] => 0
    [due_datetime] => 2013
    [manage_user_id] => 47
) 
$i 1: Array (
    [id] => 3
    [project_id] => 3
    [name] => #SYS#_DEFAULT
    [status] => 0
    [due_datetime] => 2013
    [manage_user_id] => 47
) 
$i 2: Array (
    [id] => 3
    [project_id] => 3
    [name] => #SYS#_DEFAULT
    [status] => 0
    [due_datetime] => 2013
    [manage_user_id] => 47
) 
$i 3: Array (
    [id] => 3
    [project_id] => 3
    [name] => #SYS#_DEFAULT
    [status] => 0
    [due_datetime] => 2013
    [manage_user_id] => 47
) 
```

它无法向我显示`id,project_id,name, status,due_datetime`任务表中的内容。我做错了什么？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T06:20:17.703

您可以简单地以对象格式返回结果

```
public function service_tasks_read($aUserId)
{
    $r_result = $this->db->query("CALL service_tasks_read('".$aUserId."')");

    return $r_result->result(); // for array $r_result->result_array();
} 
```

# android - Android：MapActivity 给出 Nullpointerexception

> ID：14576397
> 
> 赞同：1
> 
> 时间：2013-01-29T05:43:57.977
> 
> 标签：android, nullpointerexception, android-mapview, mapactivity

当我第一次加载我的应用程序时，mapActivity 正在调用并且我可以看到地图，现在当我关闭网络连接并再次打开时，更改屏幕并返回到 mapactivity 地图显示为 null，在这一行新`MapUtils().drawMap(this);`出现nullpointer 异常`onResume()`方法。

```
@Override
protected void onResume() {
    Utils utils = new Utils();
    manager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);
    listener = new ManageLocation();

    listener.setSucessCallBack(this, "setLocation");
    listener.setFailureCallBack(this, "setNoLocation");

    manager.requestLocationUpdates(
            utils.getCurrentPlaceLocationProvider(manager), 0, 0,
            listener);
    super.onResume();

    Log.d(TAG, "Constants.isDataLoadedPAB " + Constants.isMaptobeLoaded
            + " Constants.isDataLoadedPAB : " + Constants.isDataLoadedPAB);
    if (Constants.isMaptobeLoaded) {
        if (Constants.isDataLoadedPAB) {
            try {
                new MapUtils().drawMap(this);
            } catch (Exception e) {
                Log.e(TAG, "Error", e);
            }
        } else {
            if (Constants.currentLocation != null
                    && Constants.searchLocation != null) {
                if (Constants.searchResultData == null) {
                    Constants.searchResultData = new ArrayList<AttractionData>();
                }

                new MapUtils().drawMap(this);

            }
            }
    }
    ((ImageView) activity.findViewById(R.id.left)).setEnabled(true);
    ((ImageView) activity.findViewById(R.id.right)).setEnabled(true);   
    ((ImageView) findViewById(R.id.searchicon)).setEnabled(true);

    ((ImageView) activity.findViewById(R.id.facebookintegration)).setEnabled(true);
} 
```

我试图再次调用它，`onResume()`但仍然为空。我很震惊，不确定我在哪里做错了。感谢任何帮助

我的日志

```
01-29 11:23:36.325: E/AndroidRuntime(6668): Caused by: java.lang.NullPointerException
01-29 11:23:36.325: E/AndroidRuntime(6668):     at org.appright.myneighborhood.maps.MapUtils.drawMap(MapUtils.java:59)
01-29 11:23:36.325: E/AndroidRuntime(6668):     at org.appright.myneighborhood.activity.CityAttractions.onResume(CityAttractions.java:505)
01-29 11:23:36.325: E/AndroidRuntime(6668):     at android.app.Instrumentation.callActivityOnResume(Instrumentation.java:1199)
01-29 11:23:36.325: E/AndroidRuntime(6668):     at android.app.Activity.performResume(Activity.java:5280)
01-29 11:23:36.325: E/AndroidRuntime(6668):     at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2606)
01-29 11:23:36.325: E/AndroidRuntime(6668):     ... 10 more 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T06:29:37.863

问题在于这条线

```
FrameLayout topLayout = (FrameLayout) activity.findViewById(R.id.map_container);
                    topLayout.removeAllViews(); 
```

在`MapUtils().drawMap(this);`

您正在做的是从容器中删除所有视图，即`FrameLayout map_container` 当`network connection`不可用时。

当网络再次出现时，您正在访问`MapView`您已从**布局层次结构中删除的**内容，它不会找到`defaultmapView`this 并 throw `NullPionterException`。

尝试注释`else`块中的所有代码并仅显示敬酒。希望它会奏效。或者尝试一些不同的逻辑。

# android - OnWindowFocusChanged 和 onCreate - Android

> ID：14576400
> 
> 赞同：8
> 
> 时间：2013-01-29T05:44:21.080
> 
> 标签：android

我正在尝试以编程方式设置 UI 元素。
我可以在**onWindowFocusChanged**方法中设置 UI 元素吗？
我想问的问题是 - 我应该在**onCreate**方法还是**onWindowFocusChanged**中设置 UI 元素？编码 -

```
@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.baselayout);
} 
```

和

```
@Override
public void onWindowFocusChanged(boolean hasFocus) {
    // TODO Auto-generated method stub
    super.onWindowFocusChanged(hasFocus);
    if (hasFocus) {
        res = getResources();
        inflater = (LayoutInflater) getSystemService(LAYOUT_INFLATER_SERVICE);
        setUpBackgroundImage();// setting up the background image
        setUpTopMenu(); // Setting up the menu on top
        setUpLogo(); // Setting up the Logo
    }
} 
```

上述方法是否正确？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-29T05:52:53.887

请注意，一些新设备能够显示多个窗口，`onWindowFocusChanged()`这不是初始化布局的理想场所。用于`onCreate()`膨胀布局和设置视图变量。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-29T06:11:50.027

`onCreate()` 这是您设置 UI 的地方

`onWindowFocusChanged()` 当您的所有布局或 UI 已成功加载或正确创建时调用。

# php - if else 条件不适用于 php 中的数组值

> ID：14576404
> 
> 赞同：4
> 
> 时间：2013-01-29T05:45:03.453
> 
> 标签：php, if-statement, conditional-statements

我遇到了这个奇怪的问题。

我从数组中获取值并尝试比较它，但它不起作用。

代码 1

```
<?php
echo $data->item[0]['promocode'].'<br>';
echo $data->item[1]['promocode']; 
?> 
```

输出 1

```
inhouse
inhouse 
```

* * *

现在让我们尝试 if else 条件，如果两个值相同或不同 Code-2

```
<?php
if(($data->item[0]['promocode']) == ($data->item[1]['promocode'])){
echo "both values are same";
} else {
echo "both values are NOT same";
}?> 
```

输出 2

```
both values are NOT same 
```

**很奇怪**

## 我不明白我做错了什么。

让我们尝试上面的例子，指定变量 Code-3

```
<?php
$data0=$data->item[0]['promocode'];
$data1=$data->item[1]['promocode'];
if($data0 == $data1){
echo "both values are same";
} else {
echo "both values are NOT same";
}?> 
```

输出 3

```
both values are NOT same 
```

我现在正在拔头发。

* * *

现在在变量中硬编码值

代码 4

```
<?
$data0='inhouse';
$data1='inhouse';
if($data0 == $data1){
echo "both values are same";
} else {
echo "both values are NOT same";
}?> 
```

输出 4

```
both values are same 
```

* * *

所以我的问题是为什么会这样？

我有元素数组，如果尝试然后做某事，我想用当前值检查以前的值。

谢谢你的时间。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-29T05:51:49.623

假设两个条目都是字符串（如您的第一个代码示例所示），我的猜测是您的条目具有不相等的前导和/或尾随空格。尝试先规范化它们，例如

```
if (trim($data->item[0]['promocode']) == trim($data->item[1]['promocode'])) 
```

要查看发生了什么，请尝试将您的第一个示例修改为

```
<?php
    printf('<pre>"%s"%s"%s"</pre>',
        $data->item[0]['promocode'],
        PHP_EOL,
        $data->item[1]['promocode']);
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T05:49:56.657

像这样试试

```
<?php
   if(($data->item[0]['promocode']) === ($data->item[1]['promocode'])){
     echo "both values are same";
   } else {
     echo "both values are NOT same";
   }
?> 
```

或者你可以使用

```
strcmp($data->item[0]['promocode'],$data->item[1]['promocode']); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-29T06:12:51.573

我也使用 strlen($var) 进行调试...

```
<?php
if( strlen($data->item[0]['promocode']) == strlen($data->item[1]['promocode']) ){
  if(($data->item[0]['promocode']) == ($data->item[1]['promocode'])){
    echo "both values are same";
  }
  else {
    echo "both values are NOT same";
  }
}
else{
 echo 'ther are different because 
 strlen($data->item[0]["promocode"]='.strlen($data->item[0]['promocode']).' and 
 strlen($data->item[1][|promocode"]) = '. strlen($data->item[1]['promocode']);
}
?> 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-01-29T05:53:03.400

尝试使用非类型转换条件语句 === 来查看它们是否是相同的类型。或者为了调试目的显示变量类型以确保您不会意外地拥有一些 NULL 对象或其他奇怪的数据类型。

```
if($data0 !== $data1) echo gettype($data0).' !== '.gettype($data1); 
```

这应该可以帮助您找出您实际比较的内容。另一种选择是用于`var_dump($data);`实际显示所有变量。查看数据类型是否存在差异。它应该可以帮助您确定您的对象是否实际填充正确。

# visual-c++ - Visual Studio 2012，vc++ - 错误 LNK1181：无法打开输入文件 '*\dllmain.obj'

> ID：14576405
> 
> 赞同：0
> 
> 时间：2013-01-29T05:45:03.967
> 
> 标签：visual-c++, visual-studio-2012

当我尝试构建项目时收到此错误消息。我认为指定的路径中有一个空格。我对 VS 2012 完全陌生。这个问题可能很简单，但是。请告诉我如何删除路径中的空间？(xxx\ _*空间*_dllmain.obj)。或者还有其他原因导致我的构建失败

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T05:48:53.577

你读过[这个](http://msdn.microsoft.com/en-us/library/y6b12xkc.aspx)吗？正如文档中所引用的::

**LNK1181 的另一个可能原因是带有嵌入空格的长文件名没有用引号引起来。在这种情况下，链接器只能识别到第一个空格的文件名，然后假定文件扩展名为 .obj。这种情况的解决方法是用引号将长文件名（路径加文件名）括起来。**

# c++ - 添加整数字符串

> ID：14576411
> 
> 赞同：3
> 
> 时间：2013-01-29T05:45:26.907
> 
> 标签：c++, string, integer

我正在尝试为一个更大的项目编写一个算法，该算法将采用两个都是大整数的字符串（为了这个演示，仅使用 10 位数字）并将它们加在一起以产生一个准确表示总和的最终字符串两个原始字符串。我意识到从一开始就有可能更好的方法来解决这个问题，但我应该专门使用大整数字符串而不是长整数。

我的想法是取两个原始字符串，将它们反转，以便它们的个位，十位等都正确排列以进行添加。然后一次一个位置，将字符串中的字符转换为单个整数并将它们加在一起，然后将该总和用作最终字符串的位置或其他位置，一旦完成也将反转回正确的字符顺序.

我遇到麻烦的地方我认为是在为字符串中相应位置的两个整数相加的总和大于 9 的事件做准备，然后我会将一些余数结转到下一个位置。例如，如果我的一个位置有 7 和 5 会加到 12，所以我会保留 2 并在十位位置循环后将 1 加到十位位置操作。

我没有得到任何准确的结果，并且在花费大量时间绊倒自己试图纠正我的算法之后，我不确定我需要做什么来解决这个问题。

希望我的预期过程很清楚，有人能够指出我正确的方向或纠正我在程序中可能遇到的一些错误。

提前致谢。

```
#include <iostream>
#include <cstdlib>
#include <string>

using namespace std;

int main()
{
    string str1 = "1234567890", str2 = "2345678901"; //Two original strings of large integers
    string rev_str1, rev_str2;
    int int1 = 0, int2 = 0;
    string final; //Final product string, sum of two original strings
    int temp_int = 0, buffer_int, remainder = 0;
    string temp_str = "", buffer_str;
    char buffer[100] = {0};

    cout << "str1 = " << str1 << endl;
    cout << endl;
    cout << "str2 = " << str2 << endl;
    cout << endl;

    rev_str1 = string(str1.rbegin(), str1.rend());
    rev_str2 = string(str2.rbegin(), str2.rend());

    for (int i = 0; i < 10; i++)
    {
        buffer_str = rev_str1.at(i);
        int1 = atoi(buffer_str.c_str());
        buffer_str = rev_str2.at(i);
        int2 = atoi(buffer_str.c_str());
        buffer_int += (int1 + int2 + remainder);
        remainder = 0;

        while (buffer_int > 9)
        {
            buffer_int -= 10;
            remainder += 10;
        }

        temp_str = itoa(buffer_int, buffer, 10);
        final += temp_str;
    }

    final = string(final.rbegin(), final.rend());

    cout << "final = " << final << endl;
    cout << endl;
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-29T08:44:39.987

这就是我想出的。它只适用于两个求和；如果你有更多，你将不得不稍微调整一下，特别是进位，然后可以大于 19，以及结果字符串的分配方式：

```
#include <iostream>
#include <string>

using namespace std;

int main()
{
    // Two original strings of large integers
    string str1 = "1234567890",
           str2 = "2345678901234";

    // Zero-padd str1 and str2 to the same length
    size_t n = max(str1.size(), str2.size());
    if (n > str1.size())
        str1 = string(n-str1.size(), '0') + str1;
    if (n > str2.size())
        str2 = string(n-str2.size(), '0') + str2;

    // Final product string, sum of two original strings.
    // The sum of two integers has at most one digit more, for more inputs make
    // below reverse_iterator a back_insert_iterator, then reverse the result
    // and skip the removal of the padding.
    string final(n+1, '0');

    // The carry
    char carry = 0;

    // Iterators
    string::const_reverse_iterator s1 = str1.rbegin(), e = str1.rend(),
                                   s2 = str2.rbegin();
    string::reverse_iterator f = final.rbegin();

    // Conversion
    for (; s1 != e; ++s1, ++s2, ++f)
    {
        // Bracketing to avoid overflow
        char tmp = (*s1-'0')+(*s2-'0') + carry;
        if (tmp > 9)
        {
            carry = 1;
            tmp -= 10;
        }
        else
        {
            carry = 0;
        }
        *f = tmp + '0';
    }
    final[0] = carry + '0';

    // Remove leading zeros from result
    n = final.find_first_not_of("0");
    if (n != string::npos)
    {
        final = final.substr(n);
    }

    cout << "str1 = " << str1 << endl
         << "str2 = " << str2 << endl
         << "final = " << final << endl;
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-29T07:18:02.990

你的问题是你携带的是 10s 而不是 1s。当您添加 时`19 + 5`，您会在单位位置获得 4，并在 10s 位置添加额外的 1。您不会在 10s 位置添加额外的 10。

您只需将这一行：更改`remainder += 10;`为`remainder += 1;`.

此外，`while`如果您有两个以上的加数，则不需要该循环。事实上，当您一次只添加两个数字时，您可以拥有的最大加数是`9 + 9`，它只携带 1。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2017-03-08T20:35:28.683

```
#include<iostream> 
```

使用命名空间标准；主要的（）{

```
int sum =0;
int a;
int reminder;
cout<<"Enter the Number :"<<endl;
cin>>a;
while(a>0){
    reminder=a%10;
    sum=r+sum;
    a=a/10;`enter code here`

}
cout<<"Additon is :"<<sum<<endl; 
```

}

# cookies - 在 Internet Explorer 中删除单个 cookie

> ID：14576412
> 
> 赞同：0
> 
> 时间：2013-01-29T05:45:29.660
> 
> 标签：cookies, internet-explorer-9

我目前使用的是 IE9（Internet Explorer 9）。在 IE9 中，我可以通过以下过程查看特定的 cookie 详细信息。

1）当IE打开时按F12。这样开发者工具栏在底部打开
2）点击缓存
3）点击查看cookie信息
4）然后我可以在IE中打开的下一个选项卡中看到每个cookie的详细信息

现在我的要求是我想从列表中删除特定的 cookie。请为我提供相同的解决方案。

提前致谢..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T07:10:56.980

当您看到查看 cookie 信息页面时

检查该页面的网址下面的某行

```
%LOCALAPPDATA%\Microsoft\Windows\Temporary Internet Files\Low\Content.IE5\coocke_xml_file.xml 
```

转到本地计算机上的该位置并编辑`<value>`特定 Cooke 名称的节点或删除该节点

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T05:55:24.973

这可能会帮助你

你需要为此安装 IE 插件

[http://download.cnet.com/IECookiesView/3000-2381_4-10457038.html](http://download.cnet.com/IECookiesView/3000-2381_4-10457038.html)

# java - 如何从跨平台 Java 访问 USB？

> ID：14576414
> 
> 赞同：2
> 
> 时间：2013-01-29T05:45:35.610
> 
> 标签：java, netbeans, usb, usb-drive

我需要将一些文件从 PC 复制到笔式驱动器中。我访问了 JUSB 包描述，但它仅适用于 Windows。那么，是否有任何简单且独立于平台的方法可以使用 Java 将文件从计算机复制到 USB 驱动器？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T08:40:47.740

您无需担心它是 USB 驱动器这一事实；当用户插入设备时，它会被操作系统识别并显示为文件系统中的已安装驱动器。然后你可以使用 java.io.File 和朋友来访问它。附加提示：使用 org.apache.commons.io.FileUtils 作为一个方便的工具包，使许多常见的文件相关任务更容易。

如果您需要在 Java 中自动检测新的 USB 设备，那就有点棘手了。看到[这个](https://stackoverflow.com/questions/5847376/identify-a-new-device-in-java)问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T12:35:51.980

您可以查看[libUsb Java Bindings](https://github.com/trygvis/javax-usb-libusb1) a javabinding for [libUsb](http://libusb.org/)。顺便提一句。jUSB API 似乎也支持 Linux（包：）`usb.linux`，也许这篇文章可以帮助你：[从 Java 应用程序访问 USB 设备](http://www.ibm.com/developerworks/library/j-usb/)

# opencms - Opencms Spring 集成

> ID：14576416
> 
> 赞同：3
> 
> 时间：2013-01-29T05:46:05.657
> 
> 标签：opencms

谁能帮助我如何将 OpenCMS 与 Java Spring Web 应用程序集成。已经用谷歌搜索并浏览了很多网站，但没有用。所以，请帮助我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-17T00:41:45.830

我认为将 SpringMVC 与 OpenCMS 集成有两种方法：

1) 两个独立的应用程序，一个 SpringMVC 应用程序和一个标准 OpenCMS 安装。SpringMVC 应用程序通过在 OpenCMS 中实现的 web 服务从 OpenCMS 获取内容。更多细节可以在这里找到：http: [//lists.opencms.org/pipermail/opencms-dev/2012q3/037154.html](http://lists.opencms.org/pipermail/opencms-dev/2012q3/037154.html)。如果您正在开始一个新项目或扩展现有 SpringMVC 站点以添加内容管理，则此方法很好。它允许 SpringMVC 和内容管理之间的清晰分离。

2) 将 SpringMVC 与标准 OpenCMS 安装集成。这意味着在部署 opencms.war 后，修改 web.xml 以添加 SpringMVC 调度程序 servlet 和自定义视图解析器。控制器是 SpringMVC，视图是 OpenCMS 资源。如果您已经有一个现有的 OpenCMS 站点并希望扩展该站点以具有 MVC 功能，则此方法很好。有关此方法的详细说明，请查看[http://blog.shinetech.com/2013/04/09/integrating-springmvc-with-opencms/](http://blog.shinetech.com/2013/04/09/integrating-springmvc-with-opencms/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-12T06:31:18.033

将 REST-API 添加到您的 Spring 应用程序并直接通过该 API 从 OpenCms jsps 获取数据。

这是一个如何使用 Jackson 获取数据以将 JSON 转换为对象的示例：

```
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" session="true"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions"%>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt"%>
<%@ taglib prefix="cms" uri="http://www.opencms.org/taglib/cms" %>
<%@ page import="org.codehaus.jackson.map.ObjectMapper" %>
<%@ page import="org.codehaus.jackson.type.TypeReference" %>
<%@ page import="java.util.*, java.net.*" %>
<%

ObjectMapper mapper = new ObjectMapper();

List<Map<String, Object>> result = mapper.readValue(new URL("https://server/api/rest/employeesOrderedByDepartment"), new TypeReference<List<Map<String, Object>>>() {} );

pageContext.setAttribute("result", result);

%>

<div class="span10">
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Name</th>
                <th>Department</th>
                <th>Function</th>
                <th>Phone & Email</th>
            </tr>
        </thead>
        <tbody id="staffbody">
        <c:forEach items="${result}" var="person" varStatus="status">
            <tr>
                <td>${person.lastName}&nbsp;${person.firstName}</td>
                <td>${person.department.name}</td>
                <td>${person.function}</td>
                <td>${person.phone}<br /><a href='mailto:${person.email}'>${person.email}</a></td>
            </tr>
        </c:forEach>
        </tbody>
    </table>
</div> 
```

# rest - 如何使用RESTFUL将参数从jsp传递给java类

> ID：14576421
> 
> 赞同：0
> 
> 时间：2013-01-29T05:46:22.473
> 
> 标签：rest

我已经创建了一个 jsp 页面，我从中获取一些值并在提交时应该使用 rest 将参数传递给 java 类。

> <form id="payment" method="post" action="addtogroup">
> 
> <ol style="padding: 0;">
> 
> <li><label for="groupId">组id：</label>
> 
> < input type="text" id="groupId" name="groupId"/>
> 
> <br />
> 
> <li><label for="vendorId">个人资料ID：</label>
> 
> < input type="text" id="vendorId" name="vendorId"/>
> <li> < input type="submit" value="Submit"/> <br /></ol>
> </form>

Java代码是：

> @RequestMapping(value = "/addtogroup/{groupId}/{vendorId}",method = RequestMethod.POST)

```
public String addtoGroup(@ModelAttribute("groupId") String groupId,@ModelAttribute("vendorId") String profileId){       
    Authentication auth = SecurityContextHolder.getContext().getAuthentication();
     String username = auth.getName();
     System.out.println("group id is="+groupId);
     System.out.println("profileId  is="+profileId);
     System.out.println("username  is="+username);
     grpDao.addToGroup(groupId,profileId,username);

    return "addtogroup";
} 
```

> 当我直接在地址栏中键入 [http://localhost:8080/biznex/rest/addtogroup/2/13] 时，代码被执行。但是当我单击jsp中的提交按钮时，我得到页面未找到错误。请帮帮我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T06:03:30.797

`< form id="payment" method="post" action="addtogroup">`此语句表示使用 POST 方法将 FORM 数据提交到 url "currentpath"/"addtogroup"

但是，您的 RESTFUL 服务器端组件需要`/addtogoup/{groupid}/{vendorid}`GET 方法中的 url

我建议您使用 JavaScript 方法将表单字段转换为 URI 路径 - 使用 jQuery 或纯 JavaScript

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-03-05T00:16:24.473

正如thewhiterabbit 所写，您必须通过groupid 和vendorid 传递完整的REST url。

为了构建它你不需要使用 JS，它就足够了 spring 标签库。在这里，它是如何工作的：

```
 <spring:url value="/addtogoup/${form.groupid}/${form.vendorid}" var="actionURL"/>

 <form:form method="POST" action="${actionURL}"  modelAttribute="form"> 
```

# cryptography - 鉴于我只有 p、q、d 和 u，如何使用 RSACryptoServiceProvider 解密？

> ID：14576424
> 
> 赞同：1
> 
> 时间：2013-01-29T05:46:51.530
> 
> 标签：cryptography, rsa, public-key-encryption, encryption-asymmetric, rsacryptoserviceprovider

我正在创建一个简单的客户端应用程序来试验[Mega](http://mega.co.nz)，但我无法理解 RSA 的使用方式。让我们以会话 ID 的解密为例——这是登录时必须完成的第一件事。

API 为我提供了以下 RSA 数据：

*   p（1024 位）
*   q（1024 位）
*   d（2044 位）
*   u（1024 位）

首先，我不知道“u”代表什么。我从代码中看到它是通过以下方式计算的`modinverse(p, q)`- 这就是通常所说的 qInverse 吗？

这比我以前使用的私钥的 RSA 数据要少得多，所以我不太确定该怎么做。但是，我了解到 RSACryptoServiceProvider 使用的一些 RSA 数据只是出于优化目的而预先计算的数据，所以也许不需要其余的？

使用这些数据，站点的 JavaScript 使用以下函数解密会话 ID：

```
// Compute m**d mod p*q for RSA private key operations.

function RSAdecrypt(m, d, p, q, u)
{
 var xp = bmodexp(bmod(m,p), bmod(d,bsub(p,[1])), p);
 var xq = bmodexp(bmod(m,q), bmod(d,bsub(q,[1])), q);

 var t=bsub(xq,xp);
 if(t.length==0)
 {
  t=bsub(xp,xq);
  t=bmod(bmul(t, u), q);
  t=bsub(q,t);
 }
 else
 {
  t=bmod(bmul(t, u), q);
 } 
 return badd(bmul(t,p), xp);
} 
```

我想在 .NET 中使用 RSACryptoServiceProvider 执行此操作，但如果我给它我拥有的 4 条数据（假设 u == qInverse），则密钥在导入期间被拒绝，并出现“错误数据”异常。

我应该对数据做更多的事情吗？RSACryptoServiceProvider 在这种情况下是否可用？

我正在测试的参数和加密数据示例如下。

```
 var p = Convert.FromBase64String("1AkMwy3SPbJtL/k2RUPNztBQKow0NX9LVr5/73+zR3cuwgUToYkVefKdzlTgeri9CAVUq/+jU6o+P7sUpPUN+V97quZa00m3GSIdonRMdaMrDDH5aHnkQgOsCjLJDWXU6+TQBqLumR3XMSat3VO09Dps+6NcMc+uMi5atC3tb+0=");
 var q = Convert.FromBase64String("qtnlmPbATJajNdihw1K6cwSormySATp7g75vYfilYx6RXN3xpNCZR/i8zFbx/lDh+n1a2rdHy1nWyuaD3UmE26d1xUkmsPDfBc72WXt88UqWE/gF7NJjtgTxS2Ui+2GGKUCloi5UA/pOI7R5TBvGI8zna00SH78bctyE0dcAcwM=");
 var d = Convert.FromBase64String("CFL4QPQ8zLzrf2bUzCVX8S2/eALzo/P2cvQsW9lft7uelHYfC1CvHP+z4RvQgXABpgT8YTdU+sgdMHrhHT1vxeUaDRkcQv9lV0IP6YtAcD+gk5jDQkXk4ruYztTUF3v4u8rlMuZ8kAKKWKw+JH6grLWD/vXjMv2RybxPqq3fKI6VJaj/Y/ZnDjD5HrQmJopnCbOrZrPysNb/rGrN3ad9ysaZwBvQtIE0/tQvmL+lsI+PfF9oGKeHkciIo0D4N2abOKT2fiazNm1U9LnrQih687ge0aeAlP2OO8c0h/nbEkMbNg83n1GGEt3DNojIWbT5uHaj12M6G81leS77mfLvSQ==");
 var u = Convert.FromBase64String("CNlUzgCf6Ymd/qeWiv3ScCIXYCwjP3SNLHxRgozIbNg2JEKpJn2M3vO72qLI+FT34xckaAGIcKWMkmpoaKy6PYF4jsAz2atLEClLimbMEPvpWxK7b/I5yvXMT7i2r5hr0OjjplL0wFQYL1IS2M8DTrL99rd9zXCoCWg5Tax6zQM=");

 var encryptedData = Convert.FromBase64String("CABt/Qp7ZODvweEk5RY9JNMXoyFfUwMnc53zbP5jB4jnwWXibLLvjc+Dv5CwQAtUYRme+vRd80++178BiWl0YSOKKhQaDQKoeOUONn3KbZVWyCtyWyQZNtASPoQfizay/Dw3yP5BKsJmDpEv47awdEZzh8IqTcTKeQbpHFL+3uL5EjIENpxMh15rJUsY9w+jq6Yax+379tq67EPMUON0aYkRQ3k1Rsp9fOL6qrgoqOPmOc0cIQgx76t6SFB9LmDySkyBhtK+vcEkdn9GwzZqc6n/Jqt9K8a+mbBv3K7eO3Pa37SDncsaxEzlyLwQ2om1+bK2QwauSQl+7QwQS1a9Ejb9");

 var rsa = new RSACryptoServiceProvider();

 // Throws exception saying "Bad data"
 rsa.ImportParameters(new RSAParameters
 {
      D = d,
      P = p,
      Q = q,
      InverseQ = u
  }); 
```

**附录 2 月 2 日**

我已经在链接的 StackOverflow 答案中进行了挖掘，并且已经达到了我认为我已经确定如何生成缺少的组件的地步。但是，现在我得到了一个“坏键”异常，这让我很困惑。

我将编写我用来生成缺失组件的代码——也许你可以在某处发现错误？

我还手动计算了 InverseQ 和 D，并且这些值与我的输入数据中的值匹配。下面是我仅基于 q、p 和 e 生成所需数据的函数。

```
private static RSAParameters CalculateRsaParameters(BigInteger p, BigInteger q, BigInteger e)
{
    var modulus = BigInteger.Multiply(p, q);

    var phi = BigInteger.Multiply(BigInteger.Subtract(p, BigInteger.One), BigInteger.Subtract(q, BigInteger.One));

    BigInteger x, y;
    // From http://www.codeproject.com/Articles/60108/BigInteger-Library
    // Returns 1 with my test data.
    ExtendedEuclidGcd(e, phi, out x, out y);

    var d = BigInteger.Remainder(x, phi);

    var dp = BigInteger.Remainder(d, BigInteger.Subtract(p, BigInteger.One));
    var dq = BigInteger.Remainder(d, BigInteger.Subtract(q, BigInteger.One));

    BigInteger x2, y2;
    // Returns 1 with my test data.
    ExtendedEuclidGcd(q, p, out x2, out y2);

    // y2 since it matched the pre-generated inverseQ data I had and x2 was some negative value, so it did not seem to fit. I have no idea what the logic behind which to pick really is.
    var qInverse = BigInteger.Remainder(y2, p);

    return new RSAParameters
    {
        D = ToBigEndianByteArray(d, 256),
        DP = ToBigEndianByteArray(dp, 128),
        DQ = ToBigEndianByteArray(dq, 128),
        InverseQ = ToBigEndianByteArray(qInverse, 128),
        Exponent = ToBigEndianByteArray(e, 1),
        Modulus = ToBigEndianByteArray(modulus, 256),
        P = ToBigEndianByteArray(p, 128),
        Q = ToBigEndianByteArray(q, 128)
    };
} 
```

我的输入数据是：

```
e = 17
p = 148896287039501678969147386479458178246000691707699594019852371996225136011987881033904404601666619814302065310828663028471342954821076961960815187788626496609581811628527023262215778397482476920164511192915070597893567835708908996890192512834283979142025668876250608381744928577381330716218105191496818716653
q = 119975764355551220778509708561576785383941026741388506773912560292606151764383332427604710071170171329268379604135341015979284377183953677973647259809025842247294479469402755370769383988530082830904396657573472653613365794770434467132057189606171325505138499276437937752474437953713231209677228298628994462467 
```

以下是我如何使用生成的结构：

```
var rsa = new RSACryptoServiceProvider(2048);
rsa.ImportParameters(CalculateRsaParameters(p, q, e)); 
```

该`ImportParameters`调用会引发异常，提示“Bad key”。我究竟做错了什么？

**如果我切换 Q 和 P 会发生什么？**

显然，它使 RSACryptoServiceProvider 接受数据！但这究竟意味着什么？

`ExtendedEuclidGcd`我从我必须在我的生成代码中使用的方式得到这个想法。不得不为两个实例使用不同的输出让我很困扰，所以我进行了这个实验。

一件事是`u != qInverse`- 这是正确的吗？我不了解原始 JavaScript 函数中的数学运算，所以我不确定它的含义是什么。我是否正确猜测原始中的 u 值实际上是一些内部快捷方式而不是 QInverse？

接下来的进一步测试（即数据的实际解密）。一旦有了任何新的发展，我都会编辑这个问题。

**使用此参数集解密失败**

我拥有的加密测试数据是（base64 编码）：

```
/TYSvVZLEAztfglJrgZDtrL5tYnaELzI5UzEGsudg7Tf2nM73q7cb7CZvsYrfasm/6lzajbDRn92JMG9vtKGgUxK8mAufVBIeqvvMQghHM055uOoKLiq+uJ8fcpGNXlDEYlpdONQzEPsutr2++3HGqarow/3GEsla16HTJw2BDIS+eLe/lIc6QZ5ysRNKsKHc0Z0sLbjL5EOZsIqQf7INzz8sjaLH4Q+EtA2GSRbcivIVpVtyn02DuV4qAINGhQqiiNhdGmJAb/Xvk/zXfT6nhlhVAtAsJC/g8+N77Js4mXB54gHY/5s851zJwNTXyGjF9MkPRblJOHB7+Bkewr9bQ==
or
bf0Ke2Tg78HhJOUWPSTTF6MhX1MDJ3Od82z+YweI58Fl4myy743Pg7+QsEALVGEZnvr0XfNPvte/AYlpdGEjiioUGg0CqHjlDjZ9ym2VVsgrclskGTbQEj6EH4s2svw8N8j+QSrCZg6RL+O2sHRGc4fCKk3EynkG6RxS/t7i+RIyBDacTIdeayVLGPcPo6umGsft+/bauuxDzFDjdGmJEUN5NUbKfXzi+qq4KKjj5jnNHCEIMe+rekhQfS5g8kpMgYbSvr3BJHZ/RsM2anOp/yarfSvGvpmwb9yu3jtz2t+0g53LGsRM5ci8ENqJtfmytkMGrkkJfu0MEEtWvRI2/Q== 
```

由于我不确定字节顺序，因此给出了两种选择。两个字符串中的数据相同。

这两种情况的解密都失败了，但在第一种情况下会出现“错误数据”和“没有足够的存储空间来处理此命令”的异常。在第二种情况下（MSDN 声称这可能意味着密钥与加密数据不匹配）。我告诉 RSACryptoServiceProvider 使用了 PKCS 填充，尽管我也尝试了 OAEP（它只是给出了一个关于未能解码填充的错误）。

原始的 JavaScript 可以毫无问题地解密数据，尽管它的“p”和“q”是从我的转换过来的。

现在，我的问题是：

*   P 和 Q 切换是有效的操作吗？
*   我的推理是有效的还是我在某个地方犯了错误？
*   接下来我应该怎么做才能成功解密我的测试数据？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T06:03:05.443

RsaParameters 有八个字段。我认为您需要在创建私钥时初始化所有这些。

看看[http://msdn.microsoft.com/en-us/library/system.security.cryptography.rsaparameters.aspx](http://msdn.microsoft.com/en-us/library/system.security.cryptography.rsaparameters.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-03T16:34:34.383

在使用 .NET BigIntegers 和 RSA 参数时，可能会遇到许多可能的陷阱。可能影响您的两个是字节顺序和领先的零抑制。

[`System.Numerics.BigInteger`](http://msdn.microsoft.com/en-us/library/system.numerics.biginteger.aspx)类从 .NET 4.0 开始可用，它的[`ToByteArray()`](http://msdn.microsoft.com/en-us/library/system.numerics.biginteger.tobytearray.aspx)方法和[`new BigInteger(byte [])`](http://msdn.microsoft.com/en-us/library/dd268207.aspx)构造函数使用 litte-endian 格式。

不幸的是，该[`RSAParameters`](http://msdn.microsoft.com/en-us/library/system.security.cryptography.rsaparameters.aspx)结构期望其字节数组字段为大端顺序。还有另一个必须考虑的不兼容性。A`System.Numerics.BigInteger`可以是正数或负数，该`ToByteArray()`方法通过使用二进制补码表示的变体来解决此问题。实际上，这意味着其字节数组表示的高位字节 >= 128 的正 BigInteger 将在最高位位置放置一个额外的零字节。但是，`RSAParameter`假定这些字段都是正数，因此前导零会因“错误数据”CryptographicException 而被无故拒绝。您必须在它们出现的地方删除这些前导零。

以下是显示这些操作的简单示例代码片段：

```
 static BigInteger ExtGCD(BigInteger a, BigInteger b, out BigInteger lastx, out BigInteger lasty)
    {
        var x = BigInteger.Zero;
        lastx = BigInteger.One;
        var y = BigInteger.One;
        lasty = BigInteger.Zero;
        while (!b.IsZero)
        {
            BigInteger remainder;
            BigInteger q = BigInteger.DivRem(a, b, out remainder);
            a = b;
            b = remainder;
            var t = x;
            x = lastx - q * x;
            lastx = t;
            t = y;
            y = lasty - q * y;
            lasty = t;
        }

        return a;
    }

    static BigInteger inverse(BigInteger a, BigInteger n)
    {
        BigInteger d, x, y;
        d = ExtGCD(a, n, out x, out y);
        if (d.IsOne)
        {
            // Always return the least positive value
            return (x + n) % n;
        }
        else
        {
            throw new ArgumentException("the arguments must be relatively prime, i.e. their gcd must be 1");
        }
    }

    static byte[] ToByteArrayBE(BigInteger b)
    {
        var x = b.ToByteArray(); // x is little-endian
        Array.Reverse(x);        // now it is big-endian
        if (x[0] == 0)
        {
            var newarray = new byte[x.Length - 1];
            Array.Copy(x, 1, newarray, 0, newarray.Length);
            return newarray;
        } else
        {
            return x;
        }
    }
    static RSAParameters CalculateRsaParameters(BigInteger p, BigInteger q, BigInteger e)
    {
        // Given p, q, and e (the RSA encryption exponent) compute the remaining parameters

        var phi = (p - 1) * (q - 1);

        var d = inverse(e, phi);
        var dp = d % (p - 1);
        var dq = d % (q - 1);
        var qInv = inverse(q, p);

        var RsaParams = new RSAParameters
        {
            Modulus = ToByteArrayBE(p * q),
            Exponent = ToByteArrayBE(e),
            P = ToByteArrayBE(p),
            Q = ToByteArrayBE(q),
            D = ToByteArrayBE(d),
            DP = ToByteArrayBE(dp),
            DQ = ToByteArrayBE(dq),
            InverseQ = ToByteArrayBE(qInv)
        };
        return RsaParams;
    }

    static void Main(string[] args)
    {
        BigInteger p = BigInteger.Parse("148896287039501678969147386479458178246000691707699594019852371996225136011987881033904404601666619814302065310828663028471342954821076961960815187788626496609581811628527023262215778397482476920164511192915070597893567835708908996890192512834283979142025668876250608381744928577381330716218105191496818716653");
        BigInteger q = BigInteger.Parse("119975764355551220778509708561576785383941026741388506773912560292606151764383332427604710071170171329268379604135341015979284377183953677973647259809025842247294479469402755370769383988530082830904396657573472653613365794770434467132057189606171325505138499276437937752474437953713231209677228298628994462467");
        BigInteger e = new BigInteger(17);
        RSAParameters RsaParams = CalculateRsaParameters(p, q, e);
        var Rsa = new RSACryptoServiceProvider();
        Rsa.ImportParameters(RsaParams);
    }
} 
```

# c - 在C中的文件中写入字符数组

> ID：14576429
> 
> 赞同：1
> 
> 时间：2013-01-29T05:47:26.897
> 
> 标签：c

我想 `char array="some text"` 在文件中写入一个字符数组，这是最简单的方法`C`。实际上我正在编写一个设备驱动程序，所以我必须在 C 中为设备驱动程序编写代码。而且我必须从用户空间读取一个来自用户空间的字符，还在内核空间中编写了一个字符数组，但我是 C 的新手，所以这就是我问这个问题的原因。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-29T06:03:04.313

```
// Char arrays are declared like so:
char array[] = "YOUR TEXT HERE";

// Open a file for writing. 
// (This will replace any existing file. Use "w+" for appending)
FILE *file = fopen("filename", "w");

int results = fputs(array, file);
if (results == EOF) {
    // Failed to write do error code here.
}
fclose(file); 
```

编辑：

*   有`fputs`倒退的论据。

*   `fputs`不返回写入的字节数。只是一个错误代码。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-29T05:52:44.307

```
FILE * file = fopen("/path/of/file","w+");
int return_val = fputs(array,file);

if (return_val >= o )
    printf("Success");

else 
    printf("failed"); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-29T06:01:19.603

让我们在一条线上完成！

```
struct FILE* fopen(const char*, const char*); int fprintf(struct FILE*, const char*, ...); int main(int argc, char** argv) { return !fprintf(fopen("/path/to/file", "w+"), "some text");} 
```

* * *

我向 $DEITY 发誓，我在这里的文本框中写了这个，复制到一个文件中，然后用`gcc -Wall`. 它第一次正确构建并正确运行。知道我平时有多马虎，这*太棒*了。

# python - 通过 Twilio 以 SMS 形式发送 MySql 数据

> ID：14576430
> 
> 赞同：0
> 
> 时间：2013-01-29T05:47:37.103
> 
> 标签：python, mysql, sms, twilio

我想收到我已提交到数据库的 SMS 提醒（通过 Web 表单，而不是通过 SMS）。例如（在 python 中）：

```
 message = client.sms.messages.create(to"---phone number1---", from_="---phone number2---", body="message text yay!") 
```

发送“消息文本耶！” 从 Twilio 号码到“电话号码 2”。

我想发送 MySql 数据库中列出的信息，而不是如上所示的单个文本项。（解决方案不必仅在 Python 中。）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T06:15:33.393

如果我正确理解您的问题，最好的方法可能是从数据库中获取 SMS 信息，然后在应用程序层中使用 Twilio 发送 SMS 消息。例如，[这里](http://dev.mysql.com/doc/connector-python/en/myconnpy_example_cursor_select.html)有一些将 MySQL 数据库中的数据转换为 Python 变量的指南。

然后，您可以使用[twilio-python SMS 库](https://github.com/twilio/twilio-python)来发送 SMS 消息。

# django - 十进制的无效文字：u'3,982.75'

> ID：14576433
> 
> 赞同：0
> 
> 时间：2013-01-29T05:47:49.607
> 
> 标签：django

我在本地化表单字段不接受本地化输入时遇到问题。输入带有逗号作为小数分隔符的数字会触发验证错误。如何修复它？如何使该值对十进制字段有效？

这是我的示例models.py

```
class BankAccount(models.Model):
    balance = models.DecimalField(max_digits=10,
        decimal_places=2, default="0.00") 
```

在我的views.py中，错误触发：

```
def manual_opening(request):
    if request.method == 'POST':
       opening_bal = request.POST.get('opening_bal')
       form = AddBankAccountForm(request.POST)
       if form.is_valid():
           form.cleaned_data['balance'] = Decimal(opening_bal)
           ..... 
```

当我的用户输入一个值时，例如。3,485.78，为他们的 opening_bal。系统触发错误提示 Decimal 函数不允许操作，因为该数字有逗号。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T05:53:05.273

google一搜，真相大白！ [格式本地化](https://docs.djangoproject.com/en/1.4/topics/i18n/formatting/)

```
revenue = forms.DecimalField(max_digits=4, decimal_places=2, localize=True) 
```

# c# - VBScript 中的共享打印机打印命令

> ID：14576436
> 
> 赞同：0
> 
> 时间：2013-01-29T05:48:16.197
> 
> 标签：c#, .net, vb.net, vbscript

我正在尝试创建一个批处理文件（使用 VB 脚本）以打印 doc 文件，但我面临的问题是，打印机是我们办公室的共享打印机，当我运行以下代码时，它显示“Windows由于当前打印机设置存在问题而无法打印”。这是我的代码

```
Set objWord = CreateObject("Word.Application")
Set objDoc = objWord.Documents.Open("C:\Users\Iqbaltaj\Downloads\Test.docx")

objDoc.PrintOut()
objWord.Visible        = False
objWord.ScreenUpdating = False
objWord.ActiveDocument.PrintOut False
objWord.ActiveDocument.Close 0 
objWord.Quit
Set objWord = Nothing 
```

我的共享打印机的位置是“\\cap003\HP LaserJet P3005 PCL6”。请告诉我应该添加哪一行代码才能打印文档。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T17:26:13.040

如果我发现的这个[示例代码](http://www.emacswiki.org/emacs/PrintUsingWordVbs)是正确的，那么看起来语法是......

```
objWord.WordBasic.FilePrintSetup "HP LaserJet P3005 PCL6", , , 1 
```

好吧，如果这根本没有帮助，这里还有更多可以尝试的东西......

```
Set WshNetwork = WScript.CreateObject("WScript.Network")
Set oPrinters = WshNetwork.EnumPrinterConnections

strPrinterName = "HP LaserJet P3005 PCL6"
strPrinterPath = "\\cap003\" & strPrinterName
bIsMapped = False

For i = 0 to oPrinters.Count - 1 Step 2
    If strPrinterName = oPrinters.Item(i+1) Then
        bIsMapped = True
        Exit For
    End If
Next

WScript.Echo "Mapped: " & bIsMapped

If Not bIsMapped Then
    WshNetwork.AddWindowsPrinterConnection strPrinterPath
End If 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:08:41.783

尝试做`objWord.PrintOut()`而不是`objDoc.PrintOut()`.
您还可以添加打印机设置，试试这个：

```
Set objWord = CreateObject("Word.Application")
Set objDoc = objWord.Documents.Open("C:\Users\Iqbaltaj\Downloads\Test.docx")

objWord.WordBasic.FilePrintSetup(Printer:="HP LaserJet P3005 PCL6", DoNotSetAsSysDefault:=1)
objWord.PrintOut()
...
objWord.Documents.Close()
objWord.Quit() 
```

这是假设“HP LaserJet P3005 PCL6”是这台打印机的名称（当然）。[您可以通过PrinterSettings.InstalledPrinters](http://msdn.microsoft.com/en-us/library/system.drawing.printing.printersettings.installedprinters.aspx#Y500)
检查安装的打印机。

# windows-services - 在同步框架上应用更改需要多长时间？

> ID：14576438
> 
> 赞同：0
> 
> 时间：2013-01-29T05:48:26.983
> 
> 标签：windows-services, microsoft-sync-framework

所以，我一直在将数据库从 azure 同步到本地 SQL。考虑到我的数据库中有 200 多个表和无数行，我已经在 45 分钟内同步了 azure 数据库，这一点也不差。

问题是当我同步到本地时，它需要很多时间。我实际上已经坐了三个小时，但`sqlServerProv.Apply()`功能还没有完成。

关于这需要多长时间的任何想法？

这是我的示例代码，或者它的一部分。

```
SqlSyncScopeProvisioning sqlServerProv = new SqlSyncScopeProvisioning(sqlServerConn, myScope);

// Apply the scope provisioning.
 sqlServerProv.Apply(); 
```

此外，它是一个 Windows 服务，所以如果抛出任何错误，除了创建日志文件之外，我无法真正调试，到目前为止，还没有触发任何错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T06:18:23.397

该代码正在配置......这不是同步......它只是创建同步框架所需的对象（表、触发器、存储过程等......）

配置时，Sync Fx 会填充跟踪表...因此，如果您的同步范围内有一个包含 10M 行的表，它将在跟踪表中插入 10M 行。

你的数据库有多大？

# php - 在 Cake PHP 上仅使用 URL 查找控制器文件的简单方法

> ID：14576439
> 
> 赞同：0
> 
> 时间：2013-01-29T05:48:36.573
> 
> 标签：php, cakephp

作为 PHP 上的 Cake 新手，我正在尝试确定是否有 URL，找到它的控制器代码的最简单方法是什么？

我本地机器上的 URL 类似于： **[http://foofoofoo.local/protected/admin/org/edit/1](http://foofoofoo.local/protected/admin/org/edit/1)**

我已经确定该文件的视图位置在我机器上的这个位置： **/var/www/MyApp/protected/app/views/org/admin_edit.ctp**

我想我要做的是在整个代码库中搜索任何引用 admin_edit.ctp 的内容。我找到了两个条目，并更改了它们以查看是否找到了调用视图的点，但是尽管更改了这些条目上的文件名 - 当我访问 URL 时，该应用程序仍然有效：**[http://foofoofoo.local/受保护/管理/组织/编辑/1](http://foofoofoo.local/protected/admin/org/edit/1)**

我只想查看在站点内调用 admin_edit.ctp 文件的位置。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T08:28:56.687

网址：[http://foofoofoo.local/protected/admin/org/edit/1](http://foofoofoo.local/protected/admin/org/edit/1)

这意味着我可以假设您在`/app/Config/routes.php`. 由于我们无权访问此文件，因此无法说出这指向的位置。

为什么我可以假设您已将其添加到您的路线中？因为发布的 URL 不符合[CakePHP 约定](http://book.cakephp.org/2.0/en/getting-started/cakephp-conventions.html)，该约定明确指出控制器应该以复数形式定义。由于 URL 将直接通过 Controller 访问 Controller，除非指定了路由，否则我知道`OrgController`不存在。为什么？

试试`Inflector::pluralize('Org')`。它会将“组织”返回给您。因此意味着应该调用控制器`OrgsController`，并且您应该通过以下 URL 访问此控制器。

> [http://foofoofoo.local/protected/admin/orgs/edit/1](http://foofoofoo.local/protected/admin/orgs/edit/1)

在此`OrgsController`应该有一个名为 的操作（函数）`admin_edit()`，因为您在`org`Admin 前面添加了前缀，它是一个前缀。

该部分也可能`/protected`是 URL 的一部分，但不知道您的 main`/App`位于何处以及 URL 的哪一部分指向`/app/webroot/index.php`文件。

可以在 中找到视图`/app/View/Orgs/*.ctp`。

如果您仍然无法找到您的文件。请从Cake Community 编写的[博客教程开始。](http://book.cakephp.org/2.0/en/tutorials-and-examples/blog/blog.html)本教程描述了所有巧妙的内置技巧，并将让您的第一个应用程序立即运行。请先阅读！

如果您仍然遇到问题，请随时更新您的问题并添加`/app/Config/routes.php`文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T08:58:14.320

在 Cake 1.3 下，如果你的应用程序有一个 AppController（检查文件是否`app/app_controller.php`存在），你可以把这段代码放在`beforeFilter`方法中：

```
 debug($this->params); 
```

当您处于调试模式时，它将在您的应用程序页面上打印一个数组，其中包含控制器的名称和使用的操作。

```
Array
(
  ...
  [controller] => controller_name
  [action] => action_name
  ...
) 
```

如果 AppController 不包含任何`beforeFilter`方法，您可以创建它：

```
function beforeFilter()
{
    debug($this->params);
} 
```

# iphone - 将带有控制器的视图添加到带有控制器的视图中-正确的方法？

> ID：14576447
> 
> 赞同：1
> 
> 时间：2013-01-29T05:49:18.990
> 
> 标签：iphone, ios, objective-c, model-view-controller, uiviewcontroller

我必须将几个视图（每个都有自己的控制器）添加到主视图（带有控制器）。我正在关注 MVC。添加这些子视图的代码应该写在视图类还是控制器类中？另外，什么是正确的方法，

```
MyViewController1 *myViewController1 = [[MyViewController1 alloc] init];
[myMainViewController.view addSubview:myViewController1.view]; 
```

或者，其他方式？

还有另一种选择 - 容器视图控制器（带有`addChildViewController`方法），但这很难管理，所以我需要简单的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T05:54:02.387

如果您将视图控制器添加到另一个视图控制器的视图中，那么您需要使用容器包含。您可以在 IB 中使用容器视图执行此操作。这比在代码中制作自定义容器控制器更容易。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T05:56:13.370

绝对最好的方法是根据视图控制器的功能来维护它们（例如，一个可能是`dashboardView`一个可能是`settingsView`）。现在，当从一个视图控制器移动到另一个视图控制器时，使用`navigationController`.

我遵循的做法是`navigationController`在`appDelegate`您的应用程序启动时声明一个，然后继续重用它。例子 -

```
YourAppDelegate *delegate=(YourAppDelegate *)[[UIApplication sharedApplication] delegate];
MyViewController1 *myVC = [[ FLOHome alloc ]initWithNibName:@"MyViewController1" bundle:[NSBundle mainBundle]];
[delegate.navigationController pushViewController:myVC animated:NO]; 
```

这绝对是处理 viewController 的最佳方式。`navigationController`处理很多事情，比如内存管理、缓存视图以使它们变得活泼。当您退出视图控制器时，您可以继续推动视图控制器并弹出它们......

# javascript - 有没有将图像放在源中的替代方法？

> ID：14576448
> 
> 赞同：-1
> 
> 时间：2013-01-29T05:49:24.510
> 
> 标签：javascript, html, css, image, effects

我一直在研究Tesla Motors 网站上的[这个页面](http://www.teslamotors.com/goelectric#range)，因为它有一些非常酷且复杂的 JavaScript/CSS 效果，我正在努力理解这些效果。向下滚动，您会在滚动时看到我在说什么。

但是，我遇到了一个基本障碍——页面上的所有图像都不是源代码。它们都只作为 div 存在。所有图像来自哪里？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T05:51:26.460

它们是背景图像。

来自 CSS 的示例：

```
#charging-title {

    position: relative;
    background: url(images/Charging_Title.jpg) 0 0 no-repeat;
    height: 647px;
    overflow: hidden;
    width: 960px;
    margin: 0 auto;

} 
```

# networking - 什么是本地每个流状态

> ID：14576451
> 
> 赞同：4
> 
> 时间：2013-01-29T05:49:43.287
> 
> 标签：networking, routing

我正在阅读一篇与网络安全相关的论文，他们提到了由路由器维护的称为本地每个流状态的东西。我没明白这是什么意思。我用谷歌搜索了一段时间，但无法得到一个像样的答案。有什么建议么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-29T17:03:06.627

流是在某个时间点从源到某个目的地（如果网络协议支持，它可以是单播、多播或广播目的地）的**一系列数据包。**细节取决于上下文，特别是网络和传输协议。例如，对于 TCP 和 IP，特定的数据包流由协议 (TCP)、源和目标端口号以及源和目标 IP 地址标识。如果应用了安全性（例如 IPSec），那么它可能会使事情变得更加复杂，因为它可能会引入例如隧道，它基本上在流中创建流。

您提到的，*路由器上的每个流状态*意味着路由器存储这些数据（通常是一段时间）以便能够识别数据包流。路由器通常这样做是为了例如连接跟踪或能够做出过滤决定（例如拒绝不属于由内部网络上的计算机建立的流的传入数据包）。

例如，当我打开一个新的浏览器窗口并输入`www.google.com`它时，这将创建一个具有以下参数的新流程：

*   传输协议：`TCP`
*   源端口：分配给网络浏览器的源 TCP 端口，例如`12345`
*   目的端口：`80`
*   源IP：我的电脑的IP地址，例如`1.2.3.4`
*   目标 IP：IP 地址`www.google.com`被解析为，例如`173.194.44.17`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-28T06:12:08.473

例如，语音呼叫由许多连续的数据包组成，这些数据包都是同一通信的一部分。我们将此数据包序列称为流。更具体地说： 流：属于同一端到端通信的数据报的集合，例如 TCP 连接。

每个流状态不由路由器/交换机维护，它们只是单独路由数据包。尽管它们可能会到达相同的目的地，但它们将每个数据包视为唯一的，因此，不会维护每个流状态

# xcode - 源代码管理 xcode 中缺少推送选项

> ID：14576452
> 
> 赞同：0
> 
> 时间：2013-01-29T05:49:48.333
> 
> 标签：xcode, git, push, xcode4.5

我已经使用终端窗口从 BigBucket 克隆了一个 xcode 项目。然后我对其中一个文件进行了更改。当我去提交更改时，我在源代码管理中得到了一个选项作为提交。成功提交后，当我想将该更改推送到远程服务器时，我没有找到任何推送更改的选项。源代码管理中缺少推送选项。

在我的管理器窗口-> 存储库中，我检查了是否添加了遥控器，但这绝对没问题。

我的设置中缺少什么？一定有什么我错过了。

提前致谢！！

![在此处输入图像描述](../Images/2efca3bd3ce6138b7862b882d0fe1870.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T08:31:20.343

提交后，您首先必须从服务器中提取可能的更改。只有这样你才能推动你的改变。换句话说，只要你在提交后没有拉取，那么推送是不可用的。

# c# - 为什么在存在 MEF 时使用 ServiceLocator？

> ID：14576454
> 
> 赞同：2
> 
> 时间：2013-01-29T05:49:59.977
> 
> 标签：c#, mef, prism-4, common-service-locator

我开始学习后一直在思考一个问题......如果我们必须满足所有所需的导入，`Prism`为什么我们需要使用a 。`Service locator``MEF`

[MEF 的通用服务定位器链接](http://commonservicelocator.codeplex.com/wikipage?title=MEF%20Adapter&referringTitle=Home)

如果两者共存，我无法理解它的用途。

它是否允许`Attributeless` `Imports`（我相信必须使用 Exports 完成导出）？？

我还在通用服务定位器上阅读了[此](http://codebetter.com/glennblock/2009/02/09/commonservicelocator-for-mef-a-service-is-a-service/)链接，但如果机器人共存，我并没有完全了解它们的用法。

对此 regads 的任何帮助都会有所帮助... :)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T06:02:01.153

有[依赖注入](http://en.wikipedia.org/wiki/Dependency_injection)和[服务定位器](http://en.wikipedia.org/wiki/Service_locator_pattern)模式。两种模式都可以与 MEF 一起使用。使用`[Import]`or`[ImportingConstructor]`时，您正在使用依赖注入。另一方面，当你的代码中有这样的东西时：

```
var someObject = exportProvider.GetExportedValue<ISomeType>(); 
```

您正在使用服务位置。

你可以选择，哪一个更适合你。实际上，实际应用程序经常混合这两种模式。

AFAIK，Prism 至少为引导程序使用服务位置，但 Prism 不直接使用任何 DI 框架，因为它希望独立于特定的 DI 框架（默认情况下支持 MEF 和 Unity）。这就是 Prism 使用适配器进行 DI/服务定位的原因——它们只是另一个抽象级别。

# salesforce - 无法让 Salesforce Apex 地图列出

> ID：14576455
> 
> 赞同：0
> 
> 时间：2013-01-29T05:50:03.763
> 
> 标签：salesforce, apex-code

看到我无法解决的奇怪行为。任何建议表示赞赏。我有一张绝对填充了键值对的地图。然后，我尝试在更新之前将地图值传递给每个提供的地图方法的列表。我立即这样做，由于某种原因，我丢失了刚刚传递给列表的记录中的值，进而无法更新它。代码和调试日志如下；

代码（已删除调试行）：

```
if(!posMap.isEmpty()){
   List<Position__c> posUpdates = new List<Position__c>();
   posUpdates = posMap.values();
   update posUpdates;
} 
```

调试日志：

```
 USER_DEBUG|[403]|DEBUG|posUpdate record -->Position__c:{Affiliation_Final__c=a03N0000000mQEKIA2, Position_Type__c=Warden, Id=a07N0000000iA6lIAE}
11:21:17.825 (825365000)|SYSTEM_METHOD_EXIT|[403]|System.debug(ANY)
11:21:17.825 (825386000)|SYSTEM_METHOD_ENTRY|[404]|String.valueOf(Object)
11:21:17.825 (825402000)|SYSTEM_METHOD_EXIT|[404]|String.valueOf(Object)
11:21:17.825 (825413000)|SYSTEM_METHOD_ENTRY|[404]|System.debug(ANY)
11:21:17.825 (825418000)|USER_DEBUG|[404]|DEBUG|id ->null
11:21:17.825 (825422000)|SYSTEM_METHOD_EXIT|[404]|System.debug(ANY)
11:21:17.825 (825439000)|SYSTEM_METHOD_ENTRY|[405]|String.valueOf(Object)
11:21:17.825 (825453000)|SYSTEM_METHOD_EXIT|[405]|String.valueOf(Object)
11:21:17.825 (825464000)|SYSTEM_METHOD_ENTRY|[405]|System.debug(ANY)
11:21:17.825 (825468000)|USER_DEBUG|[405]|DEBUG|Affiliation_Final__c ->null
11:21:17.825 (825472000)|SYSTEM_METHOD_EXIT|[405]|System.debug(ANY)
11:21:17.825 (825516000)|DML_BEGIN|[406]|Op:Update|Type:Position__c|Rows:2
11:21:17.826 (826821000)|DML_END|[406]
11:21:17.826 (826971000)|EXCEPTION_THROWN|[406]|System.DmlException: Update failed. First exception on row 0; first error: MISSING_ARGUMENT, Id not specified 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T08:18:32.107

该错误表明您在 posMap 中的记录尚未从数据库中检索或插入到数据库中。

upsert 操作将插入尚未在数据库中的那些并更新那些在数据库中的。

```
upsert posMap.values(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T07:17:57.530

如果数据库中存在记录，则`update posMap.values();`无需检查 map 是否为空，否则将 update 更改为 insert 或 upsert

# javascript - 如何在javascript中为至少一个字符编写正则表达式？

> ID：14576456
> 
> 赞同：3
> 
> 时间：2013-01-29T05:50:06.613
> 
> 标签：javascript, regex

我对正则表达式的要求很小，这里我至少需要一个字母，然后是数字和特殊字符。我尝试了以下正则表达式，但没有得到解决方案。

```
/^[a-zA-Z0-9\-\_\/\s,.]+$/ 
```

和

```
/^([a-zA-Z0-9]+)$/ 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-29T06:01:16.843

> 我需要至少一个字母

```
[a-z]+ 
```

> 然后是数字和特殊字符。

```
[0-9_\/\s,.-]+ 
```

结合在一起你会得到这个：

```
/^[a-z]+[0-9_\/\s,.-]+$/i 
```

添加 /i 修饰符以匹配不区分大小写的字母字符。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-29T05:51:43.133

试试这个正则表达式：

```
/^[a-z][\d_\s,.]+$/i 
```

为了澄清这是做什么的：

```
^[a-z] // must start with a letter (only one) add '+' for "at least one"
[\d_\s,.]+$ // followed by at least one number, underscore, space, comma or dot.
/i // case-insensitive 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-29T05:53:41.217

您需要将其他字符选择分开。我对“数字和特殊字符”的含义感到困惑，但请尝试：

```
/^[a-z]+[^a-z]+$/i 
```

# javascript - 谁能解释一下以下代码的作用以及它是如何工作的？

> ID：14576457
> 
> 赞同：0
> 
> 时间：2013-01-29T05:50:12.617
> 
> 标签：javascript, bit-manipulation

我的老师说如果有帮助的话是javascript

```
function mystery(x) { 
  x--; 
  x|= x>> 1; 
  x|= x>> 2; 
  x|= x>> 4;
  x|= x>> 8; 
  x|= x>> 16; 
  x++; 
  return x; 
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T06:03:15.593

它找到大于或等于 的 2 的最低幂`x`。或者，之后`x--`的所有内容都会找到`x-1`.

例如，如果您`x - 1`有

```
00010100111010100001010011101010 
```

那么`mystery(x)`将是

```
00100000000000000000000000000000 
```

它首先通过将 1 向右折叠来填充 1 之后的所有 0；在第一次操作之后，每个人都会有一个跟随它。然后我们折叠两位组：现在每两个组将变为四个。然后我们弃牌四，然后弃八。然后我们拿出大锤子，十六位。

```
00010100111010100001000000001100  // x - 1
00011110111111110001100000001110  // after folding one bit
00011111111111111101111000001111  // after 2
00011111111111111111111111101111  // after 4
00011111111111111111111111111111  // after 8, and every step thereafter 
```

在这里，`x++`将所有 1 切换为零，使一个进位到下一列：

```
00100000000000000000000000000000  // after x++ 
```

一开始奇怪的递减是我们 catch`<=`而不是 strict `<`。例如，如果我们从

```
00000000000000000000000000000100  // x
00000000000000000000000000000011  // after x--
00000000000000000000000000000011  // after folding, unchanged - they're all ones anyway
00000000000000000000000000000100  // after x++ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-30T17:19:39.317

该函数`mystery(x)`，得到一个数的下一个最高的 2 次方`x`。`x--`如果数字已经是 2 的幂，则初始递减语句 ( ) 使函数返回相同的值。当接近 时，对于有符号整数的`mystery(x)`行为会*很有趣*`INT_MAX_VALUE`。

您可以通过绘制较小值的函数值来得出这个答案`x`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-29T05:55:57.770

该声明

```
x>> 1; 
```

*   将二进制表示中的 x 右移 1 位，丢弃移开的位

`x|= x>> 1;`

*   `x >> 1`对with的结果执行按位或并将结果`x`存储在`x`

# html - 如何将表格的 textlink 右端与 td 元素对齐

> ID：14576458
> 
> 赞同：0
> 
> 时间：2013-01-29T05:50:24.190
> 
> 标签：html, css, styles, text-align

```
<table>   
<tr>
<td style="text-align:right">
<div style="float:right;">
  <span class="style5 style6">
  <span class="style8">
  <a href="">Forget Password?</a>
  </span>
 </span>
  </div>
  </td>
  </tr>
  </table> 
```

如何在页面右上角对齐链接忘记密码

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:02:48.937

您的表格宽度不够宽，无法在右侧设置链接。将表格宽度设置为 100%，您的代码将正常工作。

```
<table width="100%">   
<tr>
<td style="text-align:right;">
<div style="float:right;">
  <span class="style5 style6">
  <span class="style8">
  <a href="">Forget Password?</a>
  </span>
 </span>
  </div>
  </td>
  </tr>
  </table> 
```

# html - HTML5 + CSS3 与标准 HTML 4

> ID：14576463
> 
> 赞同：3
> 
> 时间：2013-01-29T05:50:50.990
> 
> 标签：html, css

环顾互联网时，我无法找到 HTML5 和标准 HTML4 的所需比较。我知道 HTML5 的一些优点，比如多媒体和新组件等。但我正在寻找这两者的一个很好的比较。例如，我有以下问题。

*   HTML5 与标准 HTML4 相比的主要优势是什么（我知道很多）
*   使用 HTML5 有什么缺点（IE9 之前不行）
*   使用带有 CSS3 的 HTML5 与带有 CSS 的标准 HTML4 相比有哪些优点和缺点。

在这里，我正在寻找使用 HTML5 和 CSS3 的优点和缺点。

谢谢你的时间。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-29T06:59:49.170

简而言之：

**优点：**

*   支持互动媒体
*   改进的语义
*   更直观的开发

**缺点：**

*   仅在现代浏览器上受支持

首先，重要的是要记住语言本身并没有被认为是完成的。因此，HTML5 是早期版本的延续，被认为是语言的改进。

正如您在问题中提到的那样，HTML5 的主要缺点是它仅受现代浏览器支持（请参阅[http://html5test.com/](http://html5test.com/)）。因此，如果您的目标受众无法使用现代浏览器，那么 HTML5 肯定会是一个劣势。这也是使用 CSS3 的主要缺点。

优点肯定大于缺点。这是一个很好的资源，它概述了使用 HTML5 的许多差异和优势 - [http://dev.w3.org/html5/html4-differences/](http://dev.w3.org/html5/html4-differences/) 这个站点具有 CSS3 优于 CSS 的主要优势 - [http://www。 magentojunction.com/blog/advantages-of-css3-over-css/](http://www.magentojunction.com/blog/advantages-of-css3-over-css/)

# cuda - Runge-Kutta 4 与 CUDA Fortran

> ID：14576470
> 
> 赞同：3
> 
> 时间：2013-01-29T05:51:21.660
> 
> 标签：cuda, fortran, fortran90

我正在尝试将此 FORTRAN 程序（钟摆运动）转换为 CUDA FORTRAN，但我只能使用 1 个块和两个线程。有什么办法可以使用超过 2 个线程....

```
MODULE CB
    REAL :: Q,B,W
END MODULE CB

PROGRAM PENDULUM
    USE CB
    IMPLICIT NONE
    INTEGER, PARAMETER :: N=10,L=100,M=1
    INTEGER :: I,count_rate,count_max,count(2)
    REAL :: PI,H,T,Y1,Y2,G1,G1F,G2,G2F
    REAL :: DK11,DK21,DK12,DK22,DK13,DK23,DK14,DK24

    REAL, DIMENSION (2,N) :: Y

    PI = 4.0*ATAN(1.0)
    H  = 3.0*PI/L
    Q  = 0.5
    B  = 0.9
    W  = 2.0/3.0
    Y(1,1) = 0.0
    Y(2,1) = 2.0

    DO I = 1, N-1
        T  = H*I
        Y1 = Y(1,I)
        Y2 = Y(2,I)
        DK11 = H*G1F(Y1,Y2,T)
        DK21 = H*G2F(Y1,Y2,T)
        DK12 = H*G1F((Y1+DK11/2.0),(Y2+DK21/2.0),(T+H/2.0))
        DK22 = H*G2F((Y1+DK11/2.0),(Y2+DK21/2.0),(T+H/2.0))
        DK13 = H*G1F((Y1+DK12/2.0),(Y2+DK22/2.0),(T+H/2.0))
        DK23 = H*G2F((Y1+DK12/2.0),(Y2+DK22/2.0),(T+H/2.0))
        DK14 = H*G1F((Y1+DK13),(Y2+DK23),(T+H))
        DK24 = H*G2F((Y1+DK13),(Y2+DK23),(T+H))
        Y(1,I+1) = Y(1,I)+(DK11+2.0*(DK12+DK13)+DK14)/6.0
        Y(2,I+1) = Y(2,I)+(DK21+2.0*(DK22+DK23)+DK24)/6.0

        ! Bring theta back to the region [-pi,pi]
        Y(1,I+1) = Y(1,I+1)-2.0*PI*NINT(Y(1,I+1)/(2.0*PI))

    END DO

    call system_clock ( count(2), count_rate, count_max )

    WRITE (6,"(2F16.8)") (Y(1,I),Y(2,I),I=1,N,M)

END PROGRAM PENDULUM

FUNCTION G1F (Y1,Y2,T) RESULT (G1)
    USE CB
    IMPLICIT NONE
    REAL :: Y1,Y2,T,G1
    G1 = Y2
END FUNCTION G1F

FUNCTION G2F (Y1,Y2,T) RESULT (G2)
    USE CB
    IMPLICIT NONE
    REAL :: Y1,Y2,T,G2
    G2 = -Q*Y2-SIN(Y1)+B*COS(W*T)
END FUNCTION G2F 
```

* * *

程序的 CUDA FORTRAN 版本

* * *

```
MODULE KERNEL

    CONTAINS  
    attributes(global) subroutine mykernel(Y_d,N,L,M)

    INTEGER,value:: N,L,M
    INTEGER ::tid
    REAL:: Y_d(:,:)
    REAL :: PI,H,T,G1,G1F,G2,G2F
    REAL,shared :: DK11,DK21,DK12,DK22,DK13,DK23,DK14,DK24,Y1,Y2

    PI = 4.0*ATAN(1.0)
    H  = 3.0*PI/L
    Y_d(1,1) = 0.0
    Y_d(2,1) = 2.0
    tid=threadidx%x

    DO I = 1, N-1
        T  = H*I
        Y1 = Y_d(1,I)
        Y2 = Y_d(2,I)

        if(tid==1)then
            DK11 = H*G1F(Y1,Y2,T)
        else
            DK21 = H*G2F(Y1,Y2,T)
        endif

        call syncthreads ()

        if(tid==1)then
            DK12 = H*G1F((Y1+DK11/2.0),(Y2+DK21/2.0),(T+H/2.0))
        else
            DK22 = H*G2F((Y1+DK11/2.0),(Y2+DK21/2.0),(T+H/2.0))
        endif

        call syncthreads ()

        if(tid==1)then
            DK13 = H*G1F((Y1+DK12/2.0),(Y2+DK22/2.0),(T+H/2.0))
        else
            DK23 = H*G2F((Y1+DK12/2.0),(Y2+DK22/2.0),(T+H/2.0))
        endif

        call syncthreads ()

        if(tid==1)then
            DK14 = H*G1F((Y1+DK13),(Y2+DK23),(T+H))
        else
            DK24 = H*G2F((Y1+DK13),(Y2+DK23),(T+H))
        endif

        call syncthreads ()

        if(tid==1)then
            Y_d(1,I+1) = Y1+(DK11+2.0*(DK12+DK13)+DK14)/6.0
        else
            Y_d(2,I+1) = Y2+(DK21+2.0*(DK22+DK23)+DK24)/6.0
        endif

        Y_d(1,I+1) = Y_d(1,I+1)-2.0*PI*NINT(Y_d(1,I+1)/(2.0*PI))

        call syncthreads ()

    END DO

end subroutine mykernel

attributes(device) FUNCTION G1F (Y1,Y2,T) RESULT (G1)
    IMPLICIT NONE
    REAL :: Y1,Y2,T,G1
    G1 = Y2
END FUNCTION G1F

attributes(device) FUNCTION G2F (Y1,Y2,T) RESULT (G2)
    IMPLICIT NONE
    REAL :: Y1,Y2,T,G2
    G2 = -0.5*Y2-SIN(Y1)+0.9*COS((2.0/3.0)*T)
END FUNCTION G2F

END MODULE KERNEL

PROGRAM PENDULUM

    use cudafor
    use KERNEL

    IMPLICIT NONE
    INTEGER, PARAMETER :: N=100000,L=1000,M=1
    INTEGER :: I,d,count_max,count_rate

    REAL,device :: Y_d(2,N)
    REAL, DIMENSION (2,N) :: Y
    INTEGER :: count(2)

    call mykernel<<<1,2>>>(Y_d,N,L,M)

    Y=Y_d

    WRITE (6,"(2F16.8)") (Y(1,I),Y(2,I),I=1,N,M)

END PROGRAM PENDULUM 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-04-19T18:41:40.280

通过对原始串行代码进行数据依赖性分析，您可以看到只有两个独立的执行线程是可能的。最容易将其视为“外部”和“内部”部分。

“外部”部分是对 on 的`Y(1:2,i+1)`依赖`Y(1:2,i)`。在每个时间步，您需要使用 的值`Y(1:2,i)`来计算`Y(1:2,i+1)`，因此不可能并行执行多个时间步的计算，这仅仅是因为串行依赖结构——您需要知道时间发生了什么`i`来计算什么发生在 time `i+1`，您需要知道 time 发生了什么`i+1`来计算time 发生了什么`i+2`，等等。您希望做的最好的事情就是并行计算`Y(1,i+1)`，`Y(2,i+1)`这正是您所做的。

“内部”部分基于 Runge-Kutta 方案中的中间值、代码中的 、 等值之间的依赖`DK11`关系`DK12`。计算时`Y(1:2,i+1)`，每一个都`DK[n,m]`依赖于`Y(1:2,i)`和`m > 1`，每一个都`DK[n,m]`依赖于`DK[1,m-1]`和`DK[2,m-1]`。如果您绘制这些依赖关系的图表（我的 ASCII 艺术技能还不够好！），您会发现在计算的每个步骤中只有两个可能的子计算可以并行执行。

所有这一切的结果是，对于这个计算，你不能比两个并行线程做得更好。正如上面的一位评论者所说，如果您要模拟具有多个独立自由度的粒子系统或其他机械系统，您当然可以做得更好，然后您可以并行集成。

# android - 如何在 Android 应用程序中使用谷歌阅读器提要？

> ID：14576480
> 
> 赞同：1
> 
> 时间：2013-01-29T05:51:56.350
> 
> 标签：android, rss-reader

我正在开发一个应用程序，我必须在我的应用程序中使用谷歌阅读器 RSS 提要。有人知道我如何接收用户订阅的谷歌阅读器标题，然后在片段中显示它吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T05:56:34.677

看看[谷歌提要 API](https://developers.google.com/feed/v1/)。此外，[JSON 格式](https://developers.google.com/feed/v1/jsondevguide)更易于使用。

# ruby-on-rails - 仅使用 Rack 不使用 Rails 创建 RestApi

> ID：14576482
> 
> 赞同：1
> 
> 时间：2013-01-29T05:52:08.597
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, rack

我必须使用葡萄[链接](https://github.com/intridea/grape/wiki)创建一个rest api。在rest api中我不想使用Rails gem，它可以使用简单的gem创建。

1.  我的第一个问题是这是使应用程序轻量级的好方法。
2.  如果我必须创建用户模型，如何仅使用 rake in rails 创建模型或数据库对象，然后我使用此命令

    ```
    rails generate model User name:string email:string 
    ```

当我只使用 Rack 时，还有什么选择。请提供一些有用的链接以仅使用 rails 创建数据库应用程序。我必须使用postgresql！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T07:35:54.337

Grape 非常适合 REST API。它不会为您构建模型。

你用的是数据库，比如sqlite、mysql、postgres等吗？

我真的很喜欢用于数据库连接的“续集”gem。

这是来自续集页面的好信息：

```
require "rubygems"
require "sequel"

# connect to an in-memory database
DB = Sequel.sqlite

# create an items table
DB.create_table :items do
  primary_key :id
  String :name
  Float :price
end

# create a dataset from the items table
items = DB[:items]

# populate the table
items.insert(:name => 'abc', :price => 100)
items.insert(:name => 'def', :price => 120)
items.insert(:name => 'ghi', :price => 150)

# print out the number of records
puts "Item count: #{items.count}"

# print out the average price
puts "The average price is: #{items.avg(:price)}" 
```

有关续集的更多信息，请参见[http://sequel.rubyforge.org/](http://sequel.rubyforge.org/)

# c++ - 这是克鲁斯卡尔算法的正确实现吗？

> ID：14576484
> 
> 赞同：0
> 
> 时间：2013-01-29T05:52:15.040
> 
> 标签：c++, algorithm, kruskals-algorithm

我编写了以下代码作为 UVA OnlineJudge 问题 #10034 的解决方案：

```
// problem 10034

#include <iostream>
#include <vector>
#include <algorithm>
#include <cmath>
#include <iomanip>

using namespace std;

class tree;

class vertex {
public:
    double x,y;
    tree* mTree;
};

class tree {
public:
    tree(tree* last,vertex* v);

    int size();
    void assimilate(tree* other);

    tree* prev;
    tree* next;
    vector<vertex*> vertices;
};

tree::tree(tree* last,vertex* v) {
    prev = last;
    next = NULL;
    vertices.push_back(v);
    v->mTree = this;

    if(last != NULL) {
        last->next = this;
    }
}

int tree::size() {
    return vertices.size();
}

void tree::assimilate(tree* other) {
    int c;

    if(other->prev != NULL) {
    other->prev->next = other->next;
    }

    if(other->next != NULL) {
    other->next->prev = other->prev;
    }

    for(c = 0;c < other->vertices.size();c++) {
        this->vertices.push_back(other->vertices[c]);

        other->vertices[c]->mTree = this;
    }

    delete other;
}

class edge {
public:
    edge() {
        v1 = NULL;
        v2 = NULL;
        weight = 0;
    }

    edge(vertex* a,vertex* b,double w) {
        v1 = a;
        v2 = b;
        weight = w;
    }

    bool operator<(const edge& rhs) const {
        return this->weight < rhs.weight;
    }

    vertex* v1;
    vertex* v2;
    double weight;
};

double dist(double x1,double y1,double x2,double y2) {
    double dx;
    double dy;

    dx = x2 - x1;
    dy = y2 - y1;

    return sqrt((dx*dx) + (dy*dy));
}

int main() {
    int ncases;
    int ccase;
    int c;
    int nverts;
    int nedges;
    edge* edges;
    vertex* vertices;
    tree* lasttree;
    double cost;
    tree* t1;
    tree* t2;
    bool treeexists;
    int cedge;
    int cc;

    cin>>ncases;

    for(ccase = 0;ccase < ncases;ccase++) {
        cin>>nverts;
        nedges = (nverts*(nverts-1)) / 2;

        treeexists = false;
        lasttree = NULL;

        vertices = new vertex[nverts];
        edges = new edge[nedges];
        cedge = 0;

        for(c = 0;c < nverts;c++) {
            cin>>vertices[c].x;
            cin>>vertices[c].y;
            lasttree = new tree(lasttree,&vertices[c]);
        }

        for(c = 0;c < nverts;c++) {
            for(cc = c+1;cc < nverts;cc++) {
                edges[cedge] = edge(vertices+c,vertices+cc,dist(vertices[c].x,vertices[c].y,vertices[cc].x,vertices[cc].y));
                cedge++;
            }
        }

        sort(edges,edges+nedges);

        cost = 0;

        for(c = 0;c < nedges;c++) {
            //cout<<"edge with length "<<edges[c].weight<<endl;

            if(edges[c].v1->mTree != edges[c].v2->mTree) {
                //cout<<"using"<<endl;

                cost += edges[c].weight;

                t1 = edges[c].v1->mTree;
                t2 = edges[c].v2->mTree;

                if(t1->size() > t2->size()) {
                    t1->assimilate(t2);
                } else {
                    t2->assimilate(t1); 
                }
            }
        }

        if(ccase > 0) {
            cout<<endl;
        }

        cout<<fixed<<setprecision(2)<<cost;

        delete vertices[0].mTree;
        delete[] vertices;
        delete[] edges;
    }

    return 0;
} 
```

它适用于问题提供的测试用例和我在这里找到的更大的测试用例：http: //online-judge.uva.es/board/viewtopic.php?p= [21939#p21939](http://online-judge.uva.es/board/viewtopic.php?p=21939#p21939)

但是，当我将其提交给 UVA 时，我收到了错误的答案信息。我对 Krukal 算法的实现是否正确？我究竟做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:27:21.337

首先，为什么不使用[联合查找数据结构](http://en.wikipedia.org/wiki/Disjoint-set_data_structure)而不是对指针结构进行复杂的操作？

其次，这个问题似乎有一个讨厌的把戏。你不只是想要最小生成树。考虑案例

```
4
0.0 0.0
1.0 0.0
1.0 1.0
0.0 1.0 
```

我只需要 2 sqrt(2) 单位的墨水来连接所有的点；我将两行长度为 sqrt(2) 的 X 设为我们。但是，最小生成树的长度为 3。

# android - Mono for Android 中的 API 级别特定布局

> ID：14576488
> 
> 赞同：0
> 
> 时间：2013-01-29T05:52:33.433
> 
> 标签：android, mono

如果布局文件夹中的 XML 文件之一可用，我想使用 API 级别 11 的功能。因此，我有文件夹结构

布局——myview.xml

布局-v11 -- myview.xml

其中 layout/myview.xml 包含（在 LinearLayout 中）一个简单的

```
<TextView 
           android:id="@+id/value" 
           style="@style/MyStyle" /> 
```

         而对于 API 级别 >= 11，我想在 layout-v11/myview.xml 中添加 textIsSelectable 属性： 

```
<TextView 
           android:id="@+id/value" 
           android:textIsSelectable="true" 
           style="@style/MyStyle" /> 
```

         但是，在 MonoDevelop 中将 Target 平台设置为 API 级别 8 的构建过程中，我得到了`Error: No resource identifier found for attribute 'textIsSelectable' in package 'android'`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:07:57.383

在清单文件中使用 targetSDKVersion(>=11) 和 minSDKVersion=8 标记来解决此错误。

# java - 这是一个正确的单例实现吗？

> ID：14576497
> 
> 赞同：-1
> 
> 时间：2013-01-29T05:53:05.510
> 
> 标签：java, singleton

> **可能重复：**
> [在 Java 中实现单例模式的有效方法是什么？](https://stackoverflow.com/questions/70689/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java)

我是设计模式和学习阶段的新手。最近我了解了单例模式，并在我工作的地方查看了我们公司的代码。我发现下面的代码片段根据 Singleton 规则看起来不正确，即我们不应该同步一个方法，而是同步一个块。并且线程应该在进入块之前始终检查“ïinstance”变量的值是否为空。我的理解是正确的还是有一些逻辑以下列方式编码？

```
public class CustomLogger {

private static CustomLogger instance;

private CustomLogger(){
    some code here....
}

public static synchronized CustomLogger getInstance(){
    if (instance == null){
        instance = new CustomLogger();
    }
    return instance;
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T05:58:57.397

您的方法是正确的，因为您的 getInstance() 方法是同步的。但仅在第一次调用 getInstance() 时才需要同步。也就是说，当我们创建单例对象时。所有其他情况我们需要已经创建的实例，而这并不不需要同步访问。

另一种方法是单独同步单例创建部分。但是这种方法（双重锁定）有很多问题。请参考：[http ://www.ibm.com/developerworks/java/library/j-dcl/index.html](http://www.ibm.com/developerworks/java/library/j-dcl/index.html)

从 Java 5 开始，创建单例的最佳方法是使用 Enums。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T06:01:34.773

如果您必须使用单例，只需急切地构建它们，而不要使用同步进行所有有趣的业务。那是：

```
public class CustomLogger {
  private static CustomLogger instance = new CustomLogger();

  public static CustomLogger instance() { return instance;
} 
```

类中的单例实例的延迟初始化很少有任何好处——实例将在加载相关类以供主动使用时构造，这通常是在`instance()`被调用时，它本身应该是无论如何都会发生延迟实例化的时候。

我怀疑您显示代码的原因是由于老 C++ 程序员对加载顺序持谨慎态度；在 Java 中不是问题的东西（在 JLS 中很好地指定了加载顺序）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-29T05:58:11.640

> 我们不应该同步一个方法，而是同步一个块。

错误的。两者都很好，但是使块同步是一种更好的方法。

> 在进入块之前检查“ïinstance”变量的值是否为空

这就是这条线正在做的事情

```
if (instance == null) 
```

# javascript - 如果在浏览器中禁用 Javascript，Javascript 函数会返回任何内容吗？

> ID：14576498
> 
> 赞同：-1
> 
> 时间：2013-01-29T05:53:10.187
> 
> 标签：javascript, browser

我想知道如果我编写一个验证按钮单击事件的 javascript 会发生什么。如果我在浏览器中禁用了 javascript，我的 javascript 函数会返回什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-29T05:54:51.303

如果禁用 javascript，则不会发生任何事情。甚至`<script>`标签也被完全忽略

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T05:57:13.353

如果关闭 javascript，则`<script>`标记将被忽略，反之，`<noscript>`禁用 javascript 时标记不会被忽略，因此用作：

```
<noscript>
You need to turn on javascript.
</noscript> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-29T05:57:43.810

使用`<noscript>`标签。这将在禁用 JavaScript 时显示。否则里面的任何东西`<script>`都会被完全忽略。

更多信息：http: [//www.w3schools.com/tags/tag_noscript.asp](http://www.w3schools.com/tags/tag_noscript.asp)

# ruby-on-rails - 使用地址城市和州的 Rails 地理编码

> ID：14576500
> 
> 赞同：3
> 
> 时间：2013-01-29T05:53:19.330
> 
> 标签：ruby-on-rails, geocoding

我正在使用 rails geocoder gem，并且在我的位置模型中有以下内容

```
geocoded_by :address 
```

但我的位置还有其他属性，例如影响输出地址的城市、州和国家/地区。

如何通过所有 4 个输入进行地理编码？我已经尝试创建一个包含所有四个属性的 full_address 变量，但我不知道它实际上在哪里。

谢谢！

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-01-29T06:42:06.203

除了变量，您可以使用将这些属性整理成单个字符串的方法，例如：

```
def full_street_address
  [address, city, state, country].compact.join(', ')
end 
```

然后，您可以将 geocoded_by 行更改为：

```
geocoded_by :full_street_address 
```

# iphone - 在 UIWebview 中重新加载 gif 图像

> ID：14576501
> 
> 赞同：1
> 
> 时间：2013-01-29T05:53:20.140
> 
> 标签：iphone, ios, objective-c

我正在加载 gif 图像`UIWebView`。我有一个刷新按钮来刷新`UIWebView`. 但是当我点击时，什么都不会发生。如何重新加载相同的 gif 图像`UIWebView`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T06:08:44.367

```
[webView loadRequest:[NSURLRequest requestWithURL:theURL]] 
```

这将使用 gif 图像刷新页面

# selenium - 如何安装 Selenium RC？

> ID：14576503
> 
> 赞同：3
> 
> 时间：2013-01-29T05:53:38.333
> 
> 标签：selenium, automated-tests, selenium-rc, selenium-ide, qa

我是这个工具的新手。无论如何，我去了 Selenium RC 的下载页面并下载了文件“selenium-server-standalone-2.28.0 jar”。将其复制到 D: 然后运行以下命令：

```
java -jar selenium-server-standalone-2.28.0.jar 
```

我得到无法访问 jarfile selenium-server-standalone-2.28.0.jar 错误任何人都可以通过指导如何安装 Selenium RC 来帮助我。我确实已经在 FF 中为 Selenium IDE 安装了插件。

另外，一旦我成功安装了 RC，接下来应该做什么？如何验证 RC 是否已正确安装？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T06:45:41.940

您无需安装 RC，而是使用`java -jar <jarname>`您指定的命令从命令行运行它。

在您的情况下，您可能需要以管理员身份运行命令提示符才能启动服务器。您还可以更改 jar 文件权限以允许它在没有提升提示的情况下运行。

在任何情况下，您都需要以您选择的语言设置项目，然后记录然后从 IDE 导出，或者从头开始编写您自己的测试。

本教程可以帮助您入门：[http ://www.qaautomation.net/?p=17](http://www.qaautomation.net/?p=17)

还值得注意的是，RC 是一种已弃用的技术，如果您愿意，您应该真正考虑使用 WebDriver。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T05:04:27.263

如果您转到命令行并输入“java -version”，您会得到列出的 java 版本吗？如果没有，那么您需要更新您的环境变量以告诉它 java 的可执行文件在哪里（您可能也需要为您想要使用的浏览器执行此操作）。

[http://www.computerhope.com/issues/ch000549.htm](http://www.computerhope.com/issues/ch000549.htm)

此外，您需要提供“.jar”文件的确切路径，因此如果您有它/inside/a/folder/，您需要告诉它在您的命令中的位置:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-30T06:39:48.733

您根本不需要运行 Selenium 服务器。由于您是 Selenium 的新手，我建议您下载并安装 Eclipse，如果您在 Java 中执行此操作，请启动一个新项目并将 jar 文件添加到您的构建路径。

看看下面的链接

[http://seleniumhq.org/docs/03_webdriver.jsp](http://seleniumhq.org/docs/03_webdriver.jsp)

跳过 Maven 部分，只需安装 Eclipse，创建一个新项目，将 jar 添加到构建路径（项目属性 -> 构建路径）复制示例并运行它。这应该让您对 selenium webdriver 的工作原理有一个很好的了解。除非您已经熟悉 maven、testng、junit、ant 等工具，否则我会远离它们，直到您更好地掌握 Selenium，然后再使用这些工具。

# android - Android 如何像这样在 webview 中显示链接？

> ID：14576507
> 
> 赞同：7
> 
> 时间：2013-01-29T05:53:44.960
> 
> 标签：android, url, webview

有谁知道像这样在 webview 中显示 URL 的方法

![在此处输入图像描述](../Images/f4aef039652c64d42c09d5a0c8e9adb4.png)

但是在这里我得到这样的结果，这里没有焦点，没有点击选项不起作用，请给我一些建议。

![在此处输入图像描述](../Images/07a2b0893132832e2c17255aa21828f0.png)

此代码使用 webview 中的显示数据

```
 webview.getSettings().setJavaScriptEnabled(true);
 webview.loadDataWithBaseURL(null, string, "text/html", "utf-8", null); 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-29T06:05:07.640

使用[`Linkify`](http://developer.android.com/reference/android/text/util/Linkify.html).

```
Spannable sp = new SpannableString(Html.fromHtml(string));
Linkify.addLinks(sp, Linkify.ALL);
final String html = "<body>" + Html.toHtml(sp) + "</body>";
webView.loadData(html, "text/html", "utf-8"); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-01-29T06:15:39.820

String str="你的文字放在这里... `http://stackoverflow.com/questions/14576507/android-how-to-display-links-in-webview-like-this`";

```
ArrayList<String> myArray = new ArrayList<String>();

myArray.add( "<!DOCTYPE HTML><!-- created HTML PAGE -->");
myArray.add("<head> ");
myArray.add("<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"  width=100%>");
myArray.add("<meta name=\"viewport\" content=\"width=device-width\">");
myArray.add("<style>");
myArray.add("   p { font-family:Arial, Helvetica, sans-serif;}");
myArray.add("</style>");
myArray.add("</head> ");
myArray.add("<body style=\"background-color: transparent; margin-left:5%; margin-right:5%; \">");

myArray.add("<div >");
Spannable sp = new SpannableString(str);
Linkify.addLinks(sp, Linkify.ALL);
str = Html.toHtml(sp) ;
myArray.add(str);

String myFullString = myArray.toString().replace("[", "").replace("]", "").replace(",", "\n").replace("&lt;", "<").replace("&gt;", ">");

mWebView.loadDataWithBaseURL("about:blank", myFullString ,"text/html", "utf-8", null); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-29T05:58:36.960

示例代码：

爪哇：

```
 TextView t2 = (TextView) findViewById(R.id.text2);
 t2.setMovementMethod(LinkMovementMethod.getInstance()); 
```

安卓：

```
<TextView android:layout_width="wrap_content"
android:layout_height="wrap_content" android:text="@string/yourid"
android:id="@+id/yourid"
android:layout_below="@+id/yourid" android:layout_centerInParent="true"
android:layout_marginTop="20dp"></TextView> 
```

Android WebView：更改webview[的自动链接显示](https://stackoverflow.com/questions/4829247/android-webview-change-auto-link-display)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-29T06:06:30.230

试试这个：

```
 String header = "< ?xml version=\"1.0\" encoding=\"UTF-8\" ?>";
  String data = "< html>< body>< a href='tel:555-5599'>508-776-5510
  " "< /body>< /html>";
  mWebView.loadData(header+data,  "text/html", "UTF-8"); 
```

如果要将一串 html 文本加载到 webView 中，则可以使用：

```
mWebView.loadData(header+data,  "text/html", "UTF-8"); 
```

如果你有一个 html 文件，那么你可以使用：

```
webView.loadUrl("file:///android_asset/mypage.html"): 
```

**注意：**不要忘记将您的 html 文件放在您的资产文件夹中。

干杯！！！:D

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2018-01-17T06:59:04.043

请在您的 TextView 中添加 android:autoLink="web"

```
 <TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:id="@+id/tv_text"
        android:autoLink="web"  
        android:textColorLink="@color/link"
        android:text="click here to load www.fb.com"
        android:textColor="@color/black" /> 
```

# css - 列表的最后一个子伪类不起作用

> ID：14576510
> 
> 赞同：3
> 
> 时间：2013-01-29T05:54:06.670
> 
> 标签：css, css-selectors, pseudo-class

我在列表中使用的 last-child 伪类不起作用。JSFiddle：http: [//jsfiddle.net/yuvLk/](http://jsfiddle.net/yuvLk/)

HTML：

```
<ul class="categories">
    Categories
    <li>{category_name}</li>
    <li>{category_name}</li>
    <li>{category_name}</li>
    <li>{category_name}</li>
<ul> 
```

CSS：

```
ul.categories {
   text-align: center;
}

ul.categories li {
    list-style-type: none;
    background: #E6E6E6;
    width: 250px;
    height: 40px;
}

ul.categories li:first-child{
    -webkit-border-radius: 25px 25px 0 0;
    border-radius: 25px 25px 0 0;
}

ul.categories li:last-child {
    -webkit-border-radius: 0px 0px 32px 32px;
    border-radius: 0px 0px 32px 32px;
} 
```

我在 Google 上搜索了一下，并在 StackOverflow 上看到了一些关于跨浏览器问题的帖子。我不是在询问跨浏览器问题，我使用的是 Chrome v23，last-child 应该可以工作。

我忽略了什么/做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T06:20:28.107

简单的错字：你写`<ul>`的不是`</ul>`，所以最后一个`<li>`并不是最后一个孩子。

更正示例：http: [//jsfiddle.net/yuvLk/1/](http://jsfiddle.net/yuvLk/1/)

# javascript - 在 Javascript 中使用简单的地图

> ID：14576513
> 
> 赞同：0
> 
> 时间：2013-01-29T05:54:18.760
> 
> 标签：javascript

我正在按如下方式创建地图：

```
 var employeeMap = new Object();
   addElement(employeeMap , 1, "ABC");
   addElement(employeeMap , 2, "ABCD");

    alert(getElement(employeeMap,1)); // ABC

    function addElement(map,key,value){
        map[key] = value;
        return map;
    }

    function getElement(map,key){
        return map[key];
    } 
```

如何从地图中删除键值对？设置 map[key] = null 是唯一的选择吗？

谢谢， 希哈

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T05:57:21.793

要实际删除键/值对，请使用`delete`：[https ://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/delete](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/delete)

所以你可以创建一个函数来删除元素：

```
function deleteElement(map, key)) {
    if (map.hasOwnProperty(key) {
        delete map[key];
    }
} 
```

并称它为：

```
deleteElement(employeeMap, 2); 
```

**更新：**

但正如我正在阅读的那样，如果它成功，并且只有当它不能被删除（有几个原因）时才会`delete`返回。所以我想真正的版本将是另一个答案：`true``false`

```
function deleteElement(map, key)) {
    return (delete map[key]);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T05:57:14.183

使用`delete`：

```
delete employeeMap[1] 
```

要遵循您的功能模式：

```
function deleteElement(map,key){
    return delete map[key];
}

deleteElement(employeeMap, 1); 
```

# xcode - 如何将 IBOutlet 连接到 UIView？

> ID：14576515
> 
> 赞同：5
> 
> 时间：2013-01-29T05:54:24.573
> 
> 标签：xcode, uiview, ios6, uistoryboard, iboutlet

我正在尝试在看到动画后切换视图：

```
[UIView beginAnimations: @"Fade Out" context:nil];
[UIView setAnimationDelay:1.0];
[UIView setAnimationDuration:0.25];
splash.alpha = 0.0;
[UIView commitAnimations];
[self.view addSubview : view]; 
```

在`[self.view addSubview : view];`我必须为要添加的视图添加一个名称，所以我做了一个`IBOutlet`这样的：（在第一个视图控制器的 .h 文件上）

```
IBOutlet UIView *main; 
```

但是当我尝试连接`*main` `UIView`到故事板上的视图时，它不会让我......非常感谢大家。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-29T07:55:59.027

您的混淆点是在代码中创建 UI 对象与使用界面生成器/情节提要以图形方式创建它们之间。

一条线索是您使用了预处理器提示“IBOutlet”。IB 用于 Interface Builder == 图形创建（使用故事板或 xib 文件）。

*如果在情节提要中创建...*

*   像您一样创建一个 IBOutlet 属性，尽管完整正确的语法是
    `@property (nonatomic, weak) IBOutlet UIView *main;`

*   将“自定义视图”视图从对象库拖到情节提要场景中。

*   按住 CTRL 键从视图拖动到 viewController。您应该会看到一个适合连接的项目列表。您的 IBOutlet 应该在列表中。选择它。

IBOutlet 的全部目的是为您提供故事板场景中可以在代码中使用的项目的引用。

你不需要这样做：

```
 [self.view addSubview : view]; 
```

因为它已经创建并添加到您的故事板中。确保它在视图层次结构中的位置与您期望的一样。

*如果在代码中创建...*

在 @interface 中声明一个属性

```
 @property (nonatomic, strong) UIView *main; 
```

（不需要，`IBOutlet`因为您没有在情节提要中将其链接起来。声明为“强”而不是“弱”，以防您不立即将其分配给视图层次结构）。

在添加此行之前

```
 [self.view addSubview : view]; 
```

您需要考虑：您是否添加了故事板/xib 中不存在的新视图？如果是这样，则在创建之前无法添加它。（在情节提要中添加 IS 视图没有意义，因为它已经存在于情节提要场景中）。

因此 - 正如您似乎在代码中执行此操作一样 - 您需要在添加视图之前创建视图。

```
 UIView* myView = [[UIView alloc] init]; 
```

设置它的 frame 属性，以便我们知道当您将它添加到视图层次结构时它会出现在哪里

```
 myView.frame = CGRectMake (CGFloat x, CGFloat y, CGFloat width, CGFloat height); 
```

将新创建的视图分配给属性

```
 self.main = myView; 
```

将其添加到您的视图层次结构中

```
 [self.view addSubview : myView]; 
```

现在您可以使用 self.main 在代码中引用它。这就像您将它添加到 IB/storyboard 中并且 CRTL 将参考链接拖到您的 IBOutlet 中一样。

如果您在代码中创建视图并立即将其添加到视图层次结构中，则声明属性的替代方法是在视图上设置（数字）标记属性，然后您可以使用它的超级视图`viewWithTag:`方法来引用视图

*您不能*做的一件事是在代码中创建视图，然后使用情节提要对其进行操作。

我希望这一切都是有用的，我担心我可能会进一步混淆你！

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-01-03T09:52:08.630

我迟到了。但无论如何，让我发布我最近发现的内容。

我有这种情况：

1) BaseViewController 包含 MenuView(自定义 UIView)

2) MenuView 包含 menuTable 包含所有菜单项

3) 在 StoryBoard 上，我有带有 MenuView 和 MenuTableView 的 BaseViewController 场景

我可以通过将故事板上的表格拖到 BaseViewController.h 来获得对 menuTable 的 IBOutlet 引用。但我希望自定义 MenuView 负责将 MenuTable 填充为分离问题。为此，我需要从 MenuView.h 到情节提要上的菜单表的 IBOutlet 参考连接。

所以这就是我所做的：

1）首先在MenuView.h中创建表的IBOutlet属性 @property (weak,nonatomic) IBOutlet UITableView *menuTable;

2) 创建属性后，属性声明左侧有一个小圆圈，表示这是 IBOutlet 变量。

3) 现在打开 StoryBoard 并在 XCode 的 Assistant Editor 中打开 MenuView.h，我可以单击圆圈并将其拖到情节提要上的表格中。（注意：如果我尝试将表格从 StoryBoard 拖到 MenuView.h ，它不会让我这样做。请注意原因）

而已。现在我已经建立了从自定义 UiView 到 StoryBoard 的 IBOutlect 连接。

注意：我正在使用 XCode 7 并针对 iOS 7 及更高版本的设备。（如果这有什么不同）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-29T06:40:24.487

如果您是 Xcode 或 Storyboards 的新手，那么您应该看看这个基本教程：

[在 iOS 5 第 1 部分中开始故事板](http://www.raywenderlich.com/5138/beginning-storyboards-in-ios-5-part-1)

[在 iOS 5 第 2 部分中开始故事板](http://www.raywenderlich.com/5191/beginning-storyboards-in-ios-5-part-2)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-29T06:45:57.610

您是否将视图声明为属性？

语法应该是这样的：

```
@property (nonatomic, weak) IBOutlet UIView *main; 
```

# java - 为电子邮件确认创建一个唯一 ID

> ID：14576516
> 
> 赞同：2
> 
> 时间：2013-01-29T05:54:28.737
> 
> 标签：java, passwords

我需要为电子邮件确认创建一个唯一 ID，因此当客户单击链接时，它会将他们带到一个页面以输入他们的电子邮件，一旦他们输入了他们的电子邮件，就会向他们发送一封电子邮件。电子邮件中包含一个链接，通过进入该链接，他们可以更改密码。它的过程，但我需要你确认我的步骤，首先我生成一个随机数并将其添加到与用户 ID 关联的数据库中，如果打开该页面，那么我允许他们更改密码对吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T06:39:50.103

为此使用 java.util.UUID。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-29T08:27:46.940

你的程序几乎是正确的。不过，您应该注意以下几点：

1）使密钥不可预测，这样即使知道代码，也没有人可以创建自己的有效密钥。由于无论如何您都将密钥存储在数据库中，因此您可以创建一个“真正随机”的密钥，这比使用已知值（如电子邮件和用户 ID）要好得多。密码重置功能通常是 Web 应用程序安全性中最薄弱的环节。

```
// this (untested) code reads from the OS random source to create a random id
function createRandomKey($length)
{
  $buffer = mcrypt_create_iv($length, MCRYPT_DEV_URANDOM);
  $encodedBuffer = base64_encode($buffer);
  return substr($encodedBuffer, 0, $length);
} 
```

2）不要将此随机密钥直接存储在数据库中，而是像密码一样处理它并从中存储哈希值。这有助于防止攻击者读取您的数据库（SQL 注入），即使这样他也不会免费获得所有密钥。

3) 给每个密钥一个有效期，这样“被遗忘”的密钥就不能再使用了。

4) 密码重置密钥在使用后应该被删除，所以在成功更改密码后将其从数据库中删除。

编辑：

抱歉，我错过了您问题中的 Java 标记，而我的示例是 PHP 中的。不幸的是，我无法提供 Java 示例，但原理是相同的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-29T06:02:17.997

我为此使用了 PHP。我通常会创建某种跟踪信息的哈希值，以便稍后验证。就像在电子邮件地址或用户 ID 上使用 MD5 或 SHA1 哈希一样。或者，如果您愿意，可以将两者结合起来：

Java 脚本：`hex_md5(random_number + user_id + something_else);`

PHP：`md5($email.$userID.$unique_server_key);`

这应该为您提供一个唯一的密钥来跟踪它们。将此以及用于生成它的变量保存在您的数据库中，以便您以后可以跟踪它。我强烈建议使用 PHP 版本，因为它的服务器端将有助于防止恶意用户知道您的令牌生成算法。

JavaScript 哈希库： http: [//pajhome.org.uk/crypt/md5/](http://pajhome.org.uk/crypt/md5/)

编辑：对不起，我也假设了错误的语言。对于 java，您需要使用加密库来生成哈希。试试这个代码（未经测试，我只是输入它）

```
import java.security.*;
.....
string hash = unique_salt_key.concat(user_id).concat(email);
byte[] hashBytes = hash.getBytes("UTF-8");
MessageDigest md = MessageDigest.getInstance("MD5");
byte[] emailCrypt = md.digest(hashBytes);
string emailToken = new String(emailCrypt) 
```

我相信那是MD5的正确使用。我只使用变量 user_id 和 email，因为它们已经保存在您的数据库中。最好使用数据库中的一个以上常量。对不起，如果我对我的 java 有点生疏。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-09-06T07:16:34.240

```
import java.security.*;
.....
string hash = unique_salt_key.concat(user_id).concat(email);
byte[] hashBytes = hash.getBytes("UTF-8");
MessageDigest md = MessageDigest.getInstance("MD5");
byte[] emailCrypt = md.digest(hashBytes);
string emailToken = new String(emailCrypt)

How to decrypt it again to get user_id and email? 
```

# linux - 5 基本 MMAP 相关查询

> ID：14576518
> 
> 赞同：-1
> 
> 时间：2013-01-29T05:54:32.510
> 
> 标签：linux, mmap

你能帮我理解下面提到的关于 LINUX 上的 MMAP 的几点吗：-

a) 为什么 KMALLOC 和 DMA_ALLOC_COHERENT 返回的内存必须是 PAGE_ALLIGNED 才能用于 MMAP

b) krnl_area=(int *)((((unsigned long)krnl_ptr) + PAGE_SIZE - 1)&PAGE_MASK); 通过一些搜索，我可以找出上面的代码，但我仍然不清楚它是如何完成的。

c）我如何确认我已经完成 MMAP 然后保留的 PAGE 以便它们不会使用 SetPageReserved 交换，已由 kernel 正确完成。

即，如果我正在为 MMAPED 的 4 页执行 SetPageReserved，我如何确认调度程序不会像我在这些页面上执行 SetPageReserved 那样交换这些页面。

d) 是否有任何功能可以 UN_RESERVED 页面，我尝试了 SetUnPageReserved 但无法找出该功能的头文件

e）有什么区别，即（1）和（2）中的哪一个是在 remap_pfn_range 中提供物理地址的正确方法...

(1) (virt_to_phys((void *)krnl_ptr) >> PAGE_SHIFT)

```
 or 
```

(2) (vma->vm_pgoff)

因为我已经看到使用 (1) 或 (2) 的示例代码，但无法理解它们是相同还是不同？如果不同，何时使用哪种形式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T08:26:52.643

对于点 (d) 取消保留 PAGE 的解决方案，正确的函数是 ClearPageReserved(page)....

我仍在尝试理解其他观点。任何人都可以指导一下吗

阿什米什拉

# c++ - 通过引用传递指向 long 的指针

> ID：14576519
> 
> 赞同：1
> 
> 时间：2013-01-29T05:54:36.820
> 
> 标签：c++, pointers, reference, declaration

我一直在努力寻找答案并让它工作一段时间，所以我想我会在这里检查。我正在尝试通过引用传递指向 long 的指针。我使用的语法是：

```
int Hex2Loong(long*& bytebuff, int& len, const std::string Hexbuff); 
```

每当我尝试声明函数时都会出现错误。令人惊讶的是，定义本身似乎没有问题。我`int*&`在`Hex2Int`fcn 中使用与 a 相同的语法，并且没有问题。任何想法我搞砸了什么？

我得到的错误是： 错误：在传递 Hex2Loong(long int*&,int &,const std::string); 的参数 1 中

在相关的说明中，如果我有一个`unsigned long *`我认为没有办法转换它，所以我可以将它传递给`Hex2Loong`函数，对吗？我将不得不创建临时`long *` 变量并传递给它们？

Ty 任何答案，Drf

编辑：嗯好的，所以回答一些评论。我传递了一个引用，因为该函数将一个可能很长的十六进制字符串转换为一个 long 数组。（即认为 2^1000 左右的数字写为十六进制字符串），我需要将数字作为长数组传回（我可能会将其重写为无符号长整数，因为没有强制转换使其很麻烦）。

HexString 被声明为 const ，因为它应该是（不应仅修改为只读）。

最后你是对的，错误与声明无关，而是与用法有关。我试图通过`(long *) num1`num1 所在的位置的事实把`unsigned long *`一切都搞砸了。我仍然不明白为什么错误出现在头文件中，而不仅仅是我实际使用错误参数调用函数的地方。

Edit2：哦，我刚刚意识到您所说的传递是什么意思`const std::string&`。当然，你是完全正确的。我也会改变它。这是我用java写太多的东西。我没有意识到字符串实际上会被复制。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T06:01:20.187

您应该可以通过以下方式调用该函数：

```
long lvar;
long *plvar = &lvar;
int rc = Hex2Loong (plvar, some_int, some_string); 
```

你*不能*做的是传递 long 的地址，因为你需要一个真正的参考。换句话说，不要尝试：

```
long lvar;
int rc = Hex2Loong (&lvar, some_int, some_string); 
```

请参阅以下示例代码：

```
void Fn (long * &p1) {}

int main (void) {
    long lvar;
    long *plvar = &lvar;
    Fn (plvar);
    //Fn (&lvar);
    return 0;
} 
```

这可以编译，但是当您取消注释该`&lvar`行时会抱怨。

* * *

关于您的第二个问题，不，您需要一个可以作为参考传递的实际变量，仅仅是因为该函数可能会尝试更改它。因此，您需要在某处制作临时副本。

但是，请记住，除非您确实需要*更改*要传入的变量的值（以便此类更改反映在调用代码中），否则无需传递引用。您可以按值传递它并在函数中使用该值。

如果您这样做（即，如果您不需要更改它），则可以在函数调用中使用`&lvar`或使用临时对象。`(long*)(unsigned_long_ptr_variable)`

# ruby-on-rails - 在 Rails 3 中使用多个可选的 where 条件（子句）进行查询？

> ID：14576520
> 
> 赞同：3
> 
> 时间：2013-01-29T05:54:37.223
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.2

如何通过 Rails 3.2 中每个可选的多个参数进行搜索/过滤？通过以下设置，我目前收到以下错误。任何帮助是极大的赞赏。

```
undefined method `paginate' for nil:NilClass

Application Trace | Framework Trace | Full Trace
app/controllers/contacts_controller.rb:50:in `index' 
```

这是我的 contacts_controller 中的索引操作：

```
def index
  city = params[:city]
  state = params[:state]
  zip = params[:zip]
  @contacts = Contact.search(city,state,zip).paginate(:page => params[:page], :per_page => items_per_page)
end 
```

这是我的联系人模型中的搜索方法：

```
def self.search(city, state, zip)
  joins(:profile => :addresses)
  .where("city like ?", "%#{city}%") unless city.blank?
  .where("state = ?", state) unless state.blank?
  .where("zip like ?", "%#{zip}%") unless zip.blank?
end 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-29T05:59:23.290

尝试更明确地返回，例如：

```
def self.search(city, state, zip)
  query_obj = joins(:profile => :addresses)
  query_obj = query_obj.where("city like ?", "%#{city}%") unless city.blank?
  query_obj = query_obj.where("state = ?", state) unless state.blank?
  query_obj = query_obj.where("zip like ?", "%#{zip}%") unless zip.blank?

  query_obj
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:06:53.377

```
def self.search(city, state, zip)
  conditions = {:"city like %?%" => city, :state => state, :"zip like %?%" => zip}
  conditions.delete_if {|key,val| val.blank? }
  self.joins(:profile => :addresses)
  .where(conditions)
end 
```

并且您的函数 Contact.search(city,state,zip) 返回**nil**，这就是它给出 nil.paginate 错误的原因。

# iphone - 如何在 iphone Web 应用程序的 html5 视频播放器上删除播放图像

> ID：14576524
> 
> 赞同：1
> 
> 时间：2013-01-29T05:55:17.493
> 
> 标签：iphone, web-applications, html5-video, tapestry

我正在使用挂毯为智能手机开发 Web 应用程序。我的播放器页面中有 html5 视频标签。在我的视频播放器中，它在第一个快照时在播放器上显示默认播放图像。

这是我的视频代码

```
<video id="video" width="100%" height="180px;" style="margin:0px; padding:0px;">
<source src="${videoUrl}" type="video/mp4" />
Your browser does not support the video tag.
</video> 
```

我想从播放器中删除此播放图像。请任何人说我怎么能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T20:48:17.400

您可以指定一些海报图像，例如它可以是一个空图像：

```
<video id="video" width="100%" height="180px;" 
       style="margin:0px; padding:0px;" 
       poster="${posterUrl}">
    <source src="${videoUrl}" type="video/mp4" />
    Your browser does not support the video tag.
</video> 
```

# java - 基本小程序的 Java 安全漏洞

> ID：14576525
> 
> 赞同：1
> 
> 时间：2013-01-29T05:55:22.590
> 
> 标签：java, security, browser, applet

我是Java编程的初学者，我是第一次练习小程序。我的第一个小程序显示错误，如果不单击“操作”就无法查看小程序

我是Java编程的初学者，我是第一次练习小程序。我试图在我的浏览器 (firefox) 中查看我的小程序，但网页显示一个包含以下消息的框：

```
This plugin has security vulnerabilities.  
Click here to activate the Java(TM) Platform SE 7 U Plugin. 
```

我的问题是：这是什么意思，为什么会发生以及如何摆脱盒子？这是否意味着我的代码有问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T05:58:01.470

你的代码没有问题。在浏览器中运行小程序的 Java 插件最近出现了一些安全问题，制作 Firefox 的人决定默认禁用该插件。只需单击该框，您的小程序就会运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T05:24:00.400

地址栏中的 www 以西应该有一个小图标...单击它>“激活所有插件”下拉菜单单击“始终为此站点激活”...从另一个站点窃取此...

[https://service.parachat.com/knowledgebase/280/I-see-This-plugin-has-security-vulnerabilities-Click-here-to-activate-Java-display.html](https://service.parachat.com/knowledgebase/280/I-see-This-plugin-has-security-vulnerabilities-Click-here-to-activate-Java-display.html)

# iphone - iOS：未显示 UITableView 重新排序控件

> ID：14576530
> 
> 赞同：0
> 
> 时间：2013-01-29T05:55:43.120
> 
> 标签：iphone, ios, uitableview

我正在设置所有必需的属性以`UITableView`在我的 iOS 应用程序中为 a 实现重新排序控件，但是未显示重新排序控件。这是代码：

```
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{

    return 1;
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{

    return 4;

}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"DragAndDrop";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier forIndexPath:indexPath];
    if (cell == nil) {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
    }

    cell.textLabel.text=[[NSString alloc]initWithFormat:@"Row %d", indexPath.row];
    cell.showsReorderControl=YES;
    return cell;
}

- (BOOL)tableView:(UITableView *)tableView canMoveRowAtIndexPath:(NSIndexPath *)indexPath
{
    return YES;
}

-(void)tableView:(UITableView *)tableView didDeselectRowAtIndexPath:(NSIndexPath *)indexPath
{
    [tableView setEditing:YES animated:YES];
}

-(void)tableView:(UITableView *)tableView moveRowAtIndexPath:(NSIndexPath *)sourceIndexPath toIndexPath:(NSIndexPath *)destinationIndexPath
{
         [tableView reloadData];
} 
```

我已经实现了所有必需的方法。为什么不显示？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T06:17:44.683

为此，您需要从一开始就设置 UITableView 的“编辑”属性。

希望对您有所帮助。

干杯!

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:33:35.943

我忘记将故事板中的委托链接到表格视图。现在一切都很好！！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-04T09:46:31.157

试试这个 。. .this 将在编辑模式下的简单表格视图的情况下处理单元格的排列和更新

```
- (BOOL)tableView:(UITableView *)tableView canMoveRowAtIndexPath:(NSIndexPath *)indexPath
{
  return YES;
}

- (void)tableView:(UITableView *)tableView moveRowAtIndexPath:(NSIndexPath *)sourceIndexPath toIndexPath:(NSIndexPath *)destinationIndexPath
{
     [tableData insertObject: [tableData objectAtIndex:sourceIndexPath.row] atIndex:destinationIndexPath.row];
     [tableData removeObjectAtIndex:(sourceIndexPath.row + 1)];
} 
```

# jquery - 如何让 ui-sortable 仅在 CSS 中的特定 id 上工作？

> ID：14576531
> 
> 赞同：0
> 
> 时间：2013-01-29T05:55:45.040
> 
> 标签：jquery, css, jquery-ui, jquery-ui-sortable

我有一个可排序的 .column 类元素。我在该列中有两个 id：

```
<div id="column1" class="column ui-sortable">
<div id="column2" class="column ui-sortable"> 
```

我希望鼠标悬停时有一只张开的手，仅在 column1 上拖动时有一只闭合的手。如果我的 CSS 看起来像这样：

```
.ui-sortable{
    cursor: grab;
    cursor:-webkit-grab;
    cursor:-moz-grab;
    cursor: url(https://mail.google.com/mail/images/2/openhand.cur), default !important;
}
#column1 .ui-sortable-helper{
    cursor: grabbing;
    cursor:-webkit-grabbing;
    cursor:-moz-grabbing;
    cursor: url(https://mail.google.com/mail/images/2/closedhand.cur), default !important;
} 
```

然后张开的手显示在 column1 和 column2 上，闭合的手显示在正在拖动的 column1 上。但由于我只想在 column1 上张开手，我尝试了：

```
#column1 .ui-sortable{
    cursor: grab;
    cursor:-webkit-grab;
    cursor:-moz-grab;
    cursor: url(https://mail.google.com/mail/images/2/openhand.cur), default !important;
} 
```

但这对 column1 没有任何作用。我得到一个默认光标。为什么添加 id 对 .ui-sortable-helper 有效，但对 ui-sortable 无效？如何让张开的手只出现在 column1 上？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:04:03.287

您需要的 CSS 规则是：

```
#column1.ui-sortable 
```

因为您要指定具有“ui-sortable”类的*id*为“#column1”的元素，而不是“#column1”的子*类*“ui-sortable”的任何元素。

由于下面的讨论，我添加了一些关于 CSS 类和元素的基本信息：

```
<div id="column1" class="column ui-sortable"> 
```

这个元素有一个 ID 'column1'，你在 CSS 中通过 # 符号 + IDname 引用一个 ID，所以在本例中是 '#column1'。这个元素也有两个类'column'和'ui-sortable'。在您的情况下，您只想将 CSS 规则应用于此特定元素。您可以使用 ID-Selector 进行简单操作：

```
#column1 { } 
```

在您的问题中，您使用了：

```
#column1 .ui-sortable { } 
```

这将被解释为*通过 ID '#column1' 和该父级的所有嵌套元素（具有类 'ui-sortable' ）查找元素*。不匹配 - 因为 Element 本身有类，而不是子类。如果删除 CSS-Selector 的空格：

```
#column1.ui-sortable { } 
```

它被解释为*通过 ID '#column1' 找到一个具有类 'ui-sortable' 的元素*这可能有点过重，因为 id 应该是唯一的，但它解决了你的问题。类 'ui-sortable-helper' 的元素是 div#column1 的子元素，所以在这里你需要空间。

```
<div id="column1" class="column ui-sortable">
    <div class="ui-sortable-helper">
    </div>
</div> 
```

所以选择器必须有一个空格：

```
#column1 .ui-sortable-helper { } 
```

# mysql - 访问关系数据库中的结果时出错

> ID：14576532
> 
> 赞同：3
> 
> 时间：2013-01-29T05:55:50.343
> 
> 标签：mysql, sql, select, join

我有一个表格设置如下

![在此处输入图像描述](../Images/c20af5990f84adbde93dad5e34eb980c.png)

我正在尝试编写一个查询来返回状态=1 确认=1 和用户ID=指定的结果。我希望结果显示用户 ID、与该用户 ID 关联的名称、好友 ID 以及与该好友 ID 关联的名称。到目前为止，在网络上遵循教程我想出了以下查询

```
SELECT `freinds.User ID`, `freinds.Freind ID`, `users.User`, `users.User` FROM `freinds` WHERE `User ID`= 6 INNER JOIN `users` on `users.ID`=6 AND `users.ID`=`freinds.Freind ID` 
```

但是，我收到此查询的 sql 错误。我认为我应该做的是两次内部加入用户表，但我不确定如何去做

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T05:58:43.120

问题是你已经用反引号将表名和列名作为一个整体包装起来。您需要将其分开，或者如果名称不在“MySQL 保留关键字”上，请删除反引号。

您还需要加入表`User`两次，以便获取 table 上每个 ID 的名称`Freinds`。

```
SELECT  a.`User ID`, 
        a.`Freind ID`, 
        b.User FriendName,
        c.User UserName
FROM    `freinds` a
        INNER JOIN `users` b 
            ON b.ID = a.`Freind ID`
        INNER JOIN users c
            ON c.id = a.`user ID`
WHERE   `User ID`= 6 
```

作为旁注，如果其中一个`ID`为*nullable*，`LEFT JOIN`则比`INNER JOIN`.

要全面了解联接，请访问以下链接：

*   [SQL 连接的可视化表示](http://www.codeproject.com/Articles/33052/Visual-Representation-of-SQL-Joins)

# java - UI 在子窗口关闭后冻结，直到第一次单击

> ID：14576533
> 
> 赞同：7
> 
> 时间：2013-01-29T05:55:52.480
> 
> 标签：java, swing, jwindow, jcolorchooser

我正在编写一个带有工具栏颜色的下拉组件。所以我从“Swing hacks”一书中吸取了一些想法，稍微改变了概念，并将 Swing 的标准 JColorChooser 添加到下拉列表中。行为应该如下：我单击一个按钮，然后出现一个带有颜色选择器的窗口；我选择一种颜色，下拉窗口关闭，按钮的文本将颜色更改为选择的颜色。总的来说，一切正常，但有一个令人不快的错误。在这些操作之后，用户界面冻结，按钮甚至不接受鼠标事件，如“鼠标悬停”。这会发生，直到我点击。然后 UI 的行为如所愿。

这是带有概念的代码。

```
import java.awt.AWTEvent;
import java.awt.Color;
import java.awt.MouseInfo;
import java.awt.Point;
import java.awt.Rectangle;
import java.awt.Toolkit;
import java.awt.event.AWTEventListener;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.MouseEvent;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;

import javax.swing.AbstractButton;
import javax.swing.JButton;
import javax.swing.JColorChooser;
import javax.swing.JComponent;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JWindow;
import javax.swing.SwingConstants;
import javax.swing.SwingUtilities;
import javax.swing.colorchooser.AbstractColorChooserPanel;
import javax.swing.event.AncestorEvent;
import javax.swing.event.AncestorListener;
import javax.swing.event.ChangeEvent;
import javax.swing.event.ChangeListener;
import javax.swing.plaf.metal.MetalComboBoxIcon;

class DropDownComponent2 {
    private JWindow _window;
    private boolean _windowShouldBeShown = false;
    private JComponent _component;
    private AbstractButton _button;
    private JFrame _ownerFrame;

    public DropDownComponent2(JFrame ownerFrame, JComponent component, AbstractButton button) {
        _ownerFrame = ownerFrame;
        _component = component;
        _button = button;
        _button.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent e) {
                _window.setVisible(false);
                Point pt = _button.getLocationOnScreen();
                pt.translate(0, _button.getHeight());
                _window.setLocation(pt);
                showWindow();
                _windowShouldBeShown = true;
            }
        });

        _button.addAncestorListener(new AncestorListener() {
            public void ancestorAdded(AncestorEvent event){
                _window.setVisible(false);
            }
            public void ancestorRemoved(AncestorEvent event){
                _window.setVisible(false);
            }
            public void ancestorMoved(AncestorEvent event){
                if (event.getSource() != _window) {
                    System.out.println("Ansestor moved");
                    _window.setVisible(false);
                }
            }
        });

        Toolkit.getDefaultToolkit().addAWTEventListener(
                new AWTEventListener() { 
                    public void eventDispatched(AWTEvent event) {
                        if (event.getID() == MouseEvent.MOUSE_CLICKED) {
                            if ( !_window.getBounds().contains( MouseInfo.getPointerInfo().getLocation() )) {
                                if (_windowShouldBeShown)
                                    _windowShouldBeShown = false;
                                else {
                                    _window.setVisible(false);
                                }
                            }
                        }
                    }            
                }, AWTEvent.MOUSE_EVENT_MASK);

        _window = new JWindow(_ownerFrame);
        _window.getContentPane().add(component);
        _window.addWindowFocusListener(new WindowAdapter() {
            public void windowLostFocus(WindowEvent evt) {
                System.out.println("window lost focus");
                _window.setVisible(false);
            }
        });
        _window.pack();        
    }

    private Rectangle getScreenRect() {
        return new Rectangle(java.awt.Toolkit.getDefaultToolkit().getScreenSize());
    }

    public void showWindow() {
        Rectangle screenRect = getScreenRect();
        Rectangle windowRect = _window.getBounds();

        int sx1 = screenRect.x;
        int sx2 = screenRect.x + screenRect.width;
        int sy1 = screenRect.y;
        int sy2 = screenRect.y + screenRect.height;

        int wx1 = windowRect.x;
        int wx2 = windowRect.x + windowRect.width;
        int wy1 = windowRect.y;
        int wy2 = windowRect.y + windowRect.height;

        if (wx2 > sx2) {
            _window.setLocation(wx1-(wx2-sx2), _window.getY());
        }
        if (wx1 < sx1) {
            _window.setLocation(0, _window.getY());
        }
        if (wy2 > sy2) {
            _window.setLocation(_window.getX(), wy1-(wy2-wy1));
        }
        if (wy2 < sy1) {
            _window.setLocation(_window.getX(), 0);
        }

        _window.setVisible(true);
    }

    public void hideWindow() {
        _window.setVisible(false);
    }  
}

public class DropDownFrame extends JFrame {
    JButton _button;
    JColorChooser _colorChooser;
    DropDownComponent2 _dropDown;
    JWindow _window;

    public DropDownFrame() {
        _colorChooser = new JColorChooser();
        _colorChooser.setPreviewPanel(new JPanel());
        _colorChooser.setColor(Color.RED);

        // Remove panels other than Swatches
        AbstractColorChooserPanel[] panels = _colorChooser.getChooserPanels();
        for (int i=0; i<panels.length; i++) {
            if (!panels[i].getDisplayName().equals("Swatches"))
                _colorChooser.removeChooserPanel(panels[i]);
        }
        _colorChooser.getSelectionModel().addChangeListener(new ChangeListener() {
            // ### I think the key point is there
            @Override
            public void stateChanged(ChangeEvent e) {
                _dropDown.hideWindow();
                _button.setForeground(_colorChooser.getColor());
            }

        });            

        _button = new JButton("Show JWindow");
        _button.setIcon(new MetalComboBoxIcon());
        _button.setHorizontalTextPosition(SwingConstants.LEFT);
        this.getContentPane().add(_button);

        _dropDown = new DropDownComponent2(DropDownFrame.this, _colorChooser, _button);

        pack();
        setVisible(true);        
    }

    public static void main(String args[]) {
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                new DropDownFrame();
            }
        });
    }
} 
```

我确定 JColorChooser 和选择模型有一些东西。但我无法理解这个想法。我尝试了 requestFocus() 和 requestFocusInWindow()。没有成功。我尝试使用 JDialog 而不是 JWindow。当我在对话框上按 [x] 时，一切都如愿以偿，但是当我选择颜色时，UI 也会冻结！

还有一点！如果我在下拉窗口中使用标签而不是颜色选择器并单击标签，一切正常：窗口关闭，并且没有冻结！

我将 _dropDown.hideWindow() 放在 SwingUtilities.invokeLater() 中。并且没有成功。

我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-16T15:07:53.373

就像您对问题的其他评论一样，我无法重现 UI 的冻结。我在 Windows 7、Sun JDK 7 和 Linux Mint、OpenJDK 7 上尝试了您的代码。但是，我认为您的代码需要改进。首先，它试图做的事情似乎很冗长。其次，您正在使用一些最好避免的方法。

在您的第一段中，您说您的 UI 冻结，直到您单击某个位置。这听起来很矛盾。如果它冻结，您应该无法单击以使其再次工作。所以我假设你只是有一个焦点问题？如我错了请纠正我。实际上，在选择颜色后，按钮失去焦点，因此您必须单击两次才能再次打开颜色选择器。因此，您的更改侦听器应如下所示：

```
public void stateChanged(ChangeEvent ce) {
    button.setForeground(colorChooser.getColor());
    DropDownWindow.this.setVisible(false);
    // the drop down window had the focus while being displayed
    // so after it closes, return focus to the button
    button.requestFocus();
} 
```

其次，您直接在 AWT 事件调度线程上注册一个侦听器以捕获一些鼠标事件。我不明白您为什么要这样做，而不是使用 UI 组件的普通鼠标侦听器。AWT 事件线程应该仅用于观察事件以用于分析、测试和调试等目的。你永远不应该用它来改变你的 UI 状态或向它推送昂贵的代码。对于 UI 更改，您总是在 UI 组件上使用特定的事件侦听器，或者`SwingWorkers`进行更昂贵的计算。

根据您使用的平台或 Java 运行时实现，您对 AWT 事件线程的使用可能会导致 UI 变得有些迟钝，因为您正在从中更改窗口的可见性状态。

此外，您使用`invokeLater`创建下拉窗口不会改变任何内容，因为这只是将代码放在 AWT 事件线程中，无论如何它都会结束。这些方法`invokeLater`及其友`invokeAndWait`元用于将 Java 的所谓初始线程（其中一个执行`main`方法，因此称为“主”线程）与事件分派线程同步。您不使用它们从 UI 线程异步运行代码。例如，如果您运行一个 main 方法来创建这样的窗口或框架

```
public static void main (String[] args) {
    new JFrame().setVisible(true);
} 
```

您始终可以将其视为 Java 运行时环境将其推迟到事件线程。所以基本上发生的事情是这样的：

```
public static void main (String[] args) {
    // JRE 'starts' Swing by creating an event thread and then
    SwingUtilities.invokeLater(new Runnable() {
    public void run (Runnable r) {
        new JFrame().setVisible(true);
    });
} 
```

因此，您的主要方法将该代码封装在另一个`Runnable`基本上具有相同效果并且不能解决您的问题的代码中。

我已经重写了你的程序并缩短了一点。我不确定它是否完全符合您的要求。我已经在 Windows 和 Linux 上尝试过这段代码，没有任何问题。无论您是否打开颜色选择器，您都可以看到按钮上的鼠标事件仍在处理中。

```
import java.awt.Point;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;

import javax.swing.JButton;
import javax.swing.JColorChooser;
import javax.swing.JFrame;
import javax.swing.JWindow;
import javax.swing.colorchooser.AbstractColorChooserPanel;
import javax.swing.event.ChangeEvent;
import javax.swing.event.ChangeListener;

class DropDownWindow extends JWindow {
    static void setColorChooserPanels (JColorChooser jcc, String name) {
        for (AbstractColorChooserPanel p : jcc.getChooserPanels()) {
            if (!p.getDisplayName().equals(name)) {
                jcc.removeChooserPanel(p);
            }
        }
    }

    final JColorChooser colorChooser;

    DropDownWindow (JFrame ownerFrame, final JButton button) {
        super(ownerFrame);

        colorChooser = new JColorChooser();
        setColorChooserPanels(colorChooser, "Swatches");
        colorChooser.setVisible(true);
        colorChooser.getSelectionModel().addChangeListener(new ChangeListener() {
            public void stateChanged(ChangeEvent ce) {
                button.setForeground(colorChooser.getColor());
                DropDownWindow.this.setVisible(false);
                button.requestFocus();
            }
        });

        add(colorChooser);
        setSize(colorChooser.getPreferredSize());
        pack();

        button.addActionListener(new ActionListener() {
            public void actionPerformed (ActionEvent e) {
                Point pt = button.getLocationOnScreen();
                pt.translate(0, button.getHeight());
                DropDownWindow.this.setLocation(pt);
                DropDownWindow.this.setVisible(true);
            }
        });
    }
}

class MyFrame extends JFrame {
    final JButton button;

    MyFrame () {
        super();

        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setSize(300, 100);
        setLocation(500, 300);

        button = new JButton("Choose Color");

        button.addMouseListener(new MouseAdapter() {
            public void mouseEntered (MouseEvent event) {
                System.out.println("mouse entered at: (" + event.getXOnScreen() +
                        ", " + event.getYOnScreen() + ")");
            }
        });

        button.addMouseListener(new MouseAdapter() {
            public void mouseExited (MouseEvent event) {
                System.out.println("mouse exited at: (" + event.getXOnScreen() +
                        ", " + event.getYOnScreen() + ")");
            }
        });

        add(button);

        DropDownWindow ddw = new DropDownWindow(this, button);

        setVisible(true);
    }
}

public class Test {
    public static void main(String[] args) {
        new MyFrame();
    }
} 
```

请尝试此代码并告诉我您的问题是否消失。如果没有，请进一步详细说明您所经历的影响。UI真的冻结了吗？你有反应问题吗？或者它只是一个焦点问题，需要你点击比你想要的更多。

# ant - 使用 Ant 构建 SOA 组合应用程序

> ID：14576534
> 
> 赞同：3
> 
> 时间：2013-01-29T05:55:53.200
> 
> 标签：ant, soa

我正在尝试编写一个 ant 脚本来构建 SOA 复合应用程序。

我编写的脚本如下 -

```
<project name="SOA-Build" default="sca-package" basedir=".">
<description> Automated Build file for SOA composite application </description>

<!-- import global properties for this build -->
<property file="build.properties"/>

<target name="init">
    <delete dir="./${sca_name}/deploy" />
    <delete dir="./logs" />
    <mkdir dir="./${sca_name}/deploy" />
    <mkdir dir="./logs" />
</target>

<target name="sca-compile" depends="init">
    <ant antfile="${soa_home}/bin/ant-sca-compile.xml" inheritAll="false">
        <property name="wl_home" value="${weblogic_home}"/>
        <property name="scac.input" value="./${sca_name}/composite.xml"/>
        <property name="scac.output" value="./logs/out.xml" />
        <property name="scac.error" value="./logs/out.err" />
        <property name="scac.application.home" value="."/>
    </ant>
</target>

<target name="sca-package" depends="sca-compile">
    <ant antfile="${soa_home}/bin/ant-sca-package.xml" inheritAll="false">
        <property name="compositeDir" value="./${sca_name}"/>
        <property name="compositeName" value="${sca_name}"/>
        <property name="revision" value="${rev_id}"/>
        <property name="sca.application.home" value="."/>
    </ant>
</target>

</project> 
```

build.properties 文件包含

```
sca_name=my_processes
rev_id=1.0
weblogic_home=C:\\Oracle\\Middleware\\home_ps2
soa_home=C:\\Oracle\\Middleware\\home_ps2\\Oracle_SOA1 
```

在运行 ant 时，我在 ant-sca-package.xml 中出现以下错误

```
 [scac]  error: BPM-71504: Unexpected error parsing 'oramds:/soa/shared/work
 flow/TaskEvidenceService.xsd'.  Cause: oracle.mds.exception.MDSException: MDS-00
 054: The file to be loaded oramds:/soa/shared/workflow/TaskEvidenceService.xsd d
 oes not exist..  Action: Verify that file is valid and accessible

 [scac]  error: BPM-71504: Unexpected error parsing 'oramds:/soa/shared/work
 flow/WorkflowCommon.xsd'.  Cause: oracle.mds.exception.MDSException: MDS-00054:
 The file to be loaded oramds:/soa/shared/workflow/WorkflowCommon.xsd does not ex
 ist..  Action: Verify that file is valid and accessible

 [scac]  error: BPM-71504: Unexpected error parsing 'oramds:/soa/shared/work
 flow/WorkflowTask.xsd'.  Cause: oracle.mds.exception.MDSException: MDS-00054: Th
 e file to be loaded oramds:/soa/shared/workflow/WorkflowTask.xsd does not exist.
 .  Action: Verify that file is valid and accessible 
```

有人可以帮我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T08:23:25.090

看来我已经解决了这个问题。

如果您在从 build.xml 脚本调用**ant-sca-package.xml时遇到类似问题**

1.  打开**ant-sca-package.xml**

2.  修改**scac-validate**任务并**删除/注释掉**

    ```
    < antcall target="scac" inheritall="true"/> 
    ```

3.  运行你的构建脚本

这可能会解决问题。

谢谢，

阿潘

# sql - 在另一个表上使用条件 WHERE 时从一个表返回不同行的 SQL 查询

> ID：14576535
> 
> 赞同：2
> 
> 时间：2013-01-29T05:55:55.163
> 
> 标签：sql, join, rows

我有这两张表：

**法图拉**

```
 FacturaID (PK) int
    Fecha date
    Total money 
```

**FacturaDetalle**

```
 FacturaDetalleID (PK) int
    FacturaID int FK on Factura.FacturaID
    ProductoID char(10) FK on Producto.ProductoID
    Precio money 
```

**产品**

```
 ProductoID (PK) char(10)
    Descripcion char(50) 
```

现在添加一些数据：

```
INSERT INTO Producto (ProductoID, Descripcion) VALUES ('1', 'soda')
INSERT INTO Producto (ProductoID, Descripcion) VALUES ('2', 'papas')
INSERT INTO Producto (ProductoID, Descripcion) VALUES ('3', 'pan')

INSERT INTO Factura (Fecha, Total) VALUES ('Some Date', 100) SELECT SCOPE_IDENTITY() //Returns FacturaID = 1

INSERT INTO FacturaDetalle (FacturaID, ProductoID, Precio) VALUES (1, '1',  30)
INSERT INTO FacturaDetalle (FacturaID, ProductoID, Precio) VALUES (1, '1',  30)
INSERT INTO FacturaDetalle (FacturaID, ProductoID, Precio) VALUES (1, '1',  30)
INSERT INTO FacturaDetalle (FacturaID, ProductoID, Precio) VALUES (1, '2',  10) 
```

我想要的是一个发送 FacturaDetalle 上可用的所有 4 行的查询......但我只需要`FacturaDetalle.Precio`and `Producto.Descripcion`。

然而我一直做不到。。

我试过这样的事情：

```
SELECT 
   Producto.Descripcion, FacturaDetalle.Precio 
FROM Producto 
INNER JOIN FacturaDetalle ON FacturaDetalle.ProductoID = Producto.ProductoID 
WHERE FacturaDetalleID.FacturaID = 1 
```

我得到了这个例外

> *无法绑定多部分标识符“FaturaDetalle.ProductoID”。
> 无法绑定多部分标识符“Prodcuto.ProductoID”。
> 无法绑定多部分标识符“FacturaDetalleID.FacturaID”。*

我究竟做错了什么？

提前致谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-29T06:17:14.647

为避免拼写错误，您可以提供`ALIAS`tableNames。

```
SELECT  a.Descripcion, 
        b.Precio 
FROM    Producto a
        INNER JOIN FacturaDetalle b
            ON b.ProductoID = a.ProductoID 
WHERE   b.FacturaID  = 1 
```

顺便说一句，在您的原始查询中，您使用`FacturaDetalleID`了而不是`FacturaDetalle`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-29T06:16:03.190

只需在 where 条件下将 FacturaDetalleId 更改为 FacturaDetalle

```
SELECT 
Producto.Descripcion, FacturaDetalle.Precio 
FROM Producto 
INNER JOIN FacturaDetalle ON FacturaDetalle.ProductoID = Producto.ProductoID 
WHERE FacturaDetalle.FacturaID = 1 
```

# selenium - 使用 selenium Web 驱动程序 java 验证自动填充的文本框

> ID：14576540
> 
> 赞同：2
> 
> 时间：2013-01-29T05:56:05.590
> 
> 标签：selenium, web, driver

我有一个场景，其中有一个文本框，当我在该文本框中键入内容时，它会自动填充。我需要跟踪自动填充的值并验证它是否包含我在文本字段中输入的字符串。有人可以帮我解决这个问题吗？提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T06:22:12.287

尝试这样的事情

下面的代码用于获取谷歌网站的自动填充结果。

```
driver.get("http://www.google.co.in");
driver.findElement(By.id("lst-ib")).sendKeys("Test");
List<WebElement> autoPopulatedList=driver.findElements(By.cssSelector("tr>td>span"));
for(WebElement ele:autoPopulatedList)
{
      System.out.println(ele.getText());
      if(ele.getText().contains("Test"))
      {
             System.out.println("Your case passed..!!");
      }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-06T05:08:28.393

只需发送文本抛出 Sendkey ，然后像这样获取字段值：

```
 driver.findElement(By.id("field ID here")).sendkeys("ABC");
    String strActualValue = driver.findElement(By.id("field ID here")).getAttribute("value");
    System.out.println("Field value is = "+strActualValue +""); 
```

它将打印您通过发送键发送的值以及在字段中自动填充的值。

```
 Result : ABC1234
    ABC is your value 1234 is auto-populated value. 
```

请享用！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-16T10:20:35.723

```
driver.get(URL); // URL = http://www.google.co.in;

driver.findElement(By.id(id_of_the_element)).sendKeys(value); //Value for the field

List autoPopulatedList=driver.findElements(auto_populate_element_path);

int autoPopulateSize = autoPopulatedList.length(); // Take the auto populate size to compare

int testedSize = 0; //initialize a variable for testing

for(WebElement element : autoPopulatedList){

     if(element.getText().contains(value)) //Checking the autopopulated list with the value

     {

           testedSize++;  // this will add 1 if the autopopulate contains the value

     }

}

if(autoPopulateSize == testedSize){

     System.out.println("Autopopulate contains the values");
}else{

 System.out.println("Fail");
} 
```

# haskell - 为什么应用函子可以有副作用，但函子不能？

> ID：14576543
> 
> 赞同：17
> 
> 时间：2013-01-29T05:56:20.567
> 
> 标签：haskell, monads, side-effects, applicative

问这个问题我感觉很傻，但我一直在想这个问题，但我找不到任何答案。

所以问题是：为什么应用函子可以有副作用，但函子不能？

也许他们可以，而我只是从未注意到...？

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-01-29T10:57:04.187

`Functor`s 没有效果是不正确的。每个`Applicative`（和每个`Monad`through [`WrappedMonad`](http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Applicative.html#t:WrappedMonad)）都是一个`Functor`. 主要区别在于它`Applicative`为`Monad`您提供了如何使用这些效果、如何组合它们的工具。大致

*   `Applicative`允许您对效果进行排序并在其中组合值。
*   `Monad`此外，您还可以根据前一个效果的结果确定下一个效果。

但是`Functor`只允许你修改里面的值，它不给工具做任何效果。因此，如果某事是 just`Functor`和 not `Applicative`，并不意味着它没有效果。它只是没有一种机制如何以这种方式组合它们。

**更新：**例如，考虑

```
import Control.Applicative

newtype MyF r a = MyF (IO (r, a))

instance Functor (MyF r) where
    fmap f (MyF x) = MyF $ fmap (fmap f) x 
```

这显然是一个`Functor`带有效果的实例。只是我们没有办法定义符合这些效果的操作 `Applicative`。除非我们对 施加一些额外的约束`r`，否则无法定义`Applicative`实例。

* * *

## 回答 #2

> 赞同：25
> 
> 时间：2013-01-29T10:15:41.290

这个答案有点过于简单化了，但是如果我们将副作用定义为受先前计算影响的计算，很容易看出`Functor`类型类不足以解决副作用，因为没有办法链接多个计算。

```
class Functor f where
    fmap :: (a -> b) -> f a -> f b 
```

函子唯一能做的就是通过一些纯函数来改变计算的最终结果`a -> b`。

但是，应用函子添加了两个新函数，`pure`并且`<*>`.

```
class Functor f => Applicative f where
    pure   :: a -> f a
    (<*>)  :: f (a -> b) -> f a -> f b 
```

这`<*>`是这里的关键区别，因为它允许我们链接两个计算：（ `f (a -> b)`产生函数`f a`的计算）和提供应用函数的参数的计算。使用`pure`并且`<*>`可以定义例如

```
(*>) :: f a -> f b -> f b 
```

它只是链接两个计算，丢弃第一个计算的最终结果（但可能应用“副作用”）。

所以简而言之，它是链接计算的能力，这是对计算中可变状态等效果的最低要求。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-30T01:43:50.013

这里的其他答案正确地表明，仿函数不允许副作用，因为它们不能组合或排序，这在很大程度上是正确的，但是有一种方法可以对仿函数进行排序：向内。

让我们写一个有限的 Writer 函子。

```
data Color    = R    | G    | B
data ColorW a = Re a | Gr a | Bl a deriving (Functor) 
```

然后对其应用 Free monad 类型

```
data Free f a = Pure a | Free (f (Free f a))

liftF :: Functor f => f a -> Free f a
liftF = Free . fmap Pure

type ColorWriter = Free ColorW

red, blue, green :: a -> ColorWriter a
red   = liftF . Re
green = liftF . Gr
blue  = liftF . Bl 
```

当然，通过 free 属性，这形成了一个 monad，但效果确实来自函子的“层”。

```
interpretColors :: ColorWriter a -> ([Color], a)
interpretColors (Pure a) = ([], a)
interpretColors (Free (Re next)) = let (colors, a) = interpretColors next
                                   in (R : colors, a)
... 
```

所以，这是一种诡计。真正的“计算”是由自由*单子*引入的，但计算的材料，隐藏的上下文，只是由一个函子引入的。事实证明，您可以使用任何数据类型执行此操作，它甚至不必是 Functor，但 Functor 提供了一种清晰的构建方法。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-29T07:40:29.427

让我们首先将*副作用*重命名为*effects*。各种价值观都会产生影响。仿函数是一种允许您将函数映射到由该效果产生的任何内容的类型。

当函子不适用时，它不允许您为效果使用某种组合风格。让我们选择一个（人为的）示例：

```
data Contrived :: * -> * where
    AnInt :: Int -> Contrived Int
    ABool :: Bool -> Contrived Bool
    None  :: Contrived a 
```

这很容易成为一个函子：

```
instance Functor Contrived where
    fmap f (AnInt x) = AnInt (f x)
    fmap f (ABool x) = ABool (f x)
    fmap _ None      = None 
```

但是，对于 没有合理的实现`pure`，所以这种类型不是应用函子。相似之处`Maybe`在于它具有可能没有结果值的效果。但是你不能使用应用组合器来组合它。

# qt - 如何防止模糊的 QtGraphicalEffects 被截断？

> ID：14576547
> 
> 赞同：6
> 
> 时间：2013-01-29T05:56:35.553
> 
> 标签：qt, qml, qt-quick

![带有截止阴影的 qml 窗口](../Images/5e6ff400a5ba08fb3afb4c38b814f4c9.png)

我正在尝试使用带有 QtGraphicalEffects 的 QtQuick 2 为我的项目添加效果，但我不太明白如何调整真正模糊的效果以使其看起来正确。

在这种情况下，投影的大小很差，并且在完全消失之前会在边缘被剪裁。我怎样才能让它很好地融入而不被切断？

这是窗口的代码：

```
import QtQuick 2.0
import QtGraphicalEffects 1.0

Item {
    width: 250
    height: 75

    Text {
        id: textItem
        x: 10; y: 10
        text: "how can I fix my shadow?"
    }

    DropShadow {
        id: shadowEffect
        anchors.fill: textItem
        source: textItem

        radius: 8
        samples: 16

        horizontalOffset: 20
        verticalOffset: 20
    }
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-26T14:05:44.260

您必须允许原始项目（将由效果复制）周围有足够的空间以允许完全绘制效果，我会这样做：

```
import QtQuick 2.0
import QtGraphicalEffects 1.0

Item {
    width: 320;
    height: 240;

    Text {
        id: textItem;
        anchors.centerIn: parent;
        text: "how can I fix my shadow?";

        /* extend the bounding rect to make room for the shadow */
        height: paintedHeight + (shadowEffect.radius * 2);
        width: paintedWidth + (shadowEffect.radius * 2);

        /* center the text to have space on each side of the characters */
        horizontalAlignment: Text.AlignHCenter;
        verticalAlignment: Text.AlignVCenter;

        /* hide the original item because the Graphical Effect duplicates it anyway */
        visible: false;
    }
    DropShadow {
        id: shadowEffect;
        anchors.fill: source;
        source: textItem;
        radius: 8;
        samples: 16;
        horizontalOffset: 20;
        verticalOffset: 20;
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-21T07:24:35.527

Qt 图形效果绑定到它们所应用的项目的边界矩形。使边界矩形足够大（可能使用最小尺寸或任何丑陋的解决方案），所以你没有那种“截断”的外观

# iphone - 第一次加载应用程序后不想显示启动图像

> ID：14576548
> 
> 赞同：0
> 
> 时间：2013-01-29T05:56:37.023
> 
> 标签：iphone, xcode

我不想在第一次加载应用程序后显示启动图像。有时我的应用程序长时间被启动图像击中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:03:37.253

启动图像显示直到时间控制在`application didFinishLaunchingWithOptions`

我猜你正在做一些繁重的工作尝试在后台做一些事情，这将在短时间内显示启动图像。

如果要在第二次启动应用程序后显示，请在 userdefaults 中设置相应的布尔值

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:04:00.670

由于 firstviewcontroller 的 viewdidload 方法中的数据加载过多，您的应用程序被击中。要显示加载屏幕的时间更短，请在另一种方法中添加您在 viewdidload 中完成的内容，并在几秒钟后调用它，例如

```
 [self performSelector:@selector(loaddata) withObject:nil afterDelay:3.0];

-(void)loaddata
{
   write you viewdidload stuff here
} 
```

# linux - ld.so 替代品

> ID：14576551
> 
> 赞同：5
> 
> 时间：2013-01-29T05:56:52.790
> 
> 标签：linux, dynamic-linking

我需要让我的 linux 可执行文件“编译一次，到处运行”。理论上这是可能的，因为我的程序只使用非常基本的系统调用（网络 IO 和文件 IO 的系统调用）。在实践中，这是一个不同的故事：

我的开发平台是 Ubuntu 12.04，它有相当新的内核、glibc 和工具链。我首先尝试静态链接我的可执行文件，但该可执行文件拒绝在 centos 5（内核版本 2.6.18）上运行。如果可执行文件是动态链接的，则动态加载程序 (ld.so) 拒绝加载我的可执行文件。我什至试图发布一个修改过的动态加载器（我修改它以忽略内核版本），libc、libgcc_s 仍然无法工作，因为修改后的加载器总是试图从系统加载 libc 并忽略与我一起提供的 libc可执行。

我需要一个动态加载器，它会盲目地加载我想要加载的所有内容。有人知道 linux 上有这样一个动态加载器吗？我不确定我是否朝着正确的方向前进，所以欢迎任何建议。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-18T10:08:59.500

请检查

```
http://sourceforge.net/projects/html5remote/ 
```

在这个项目中，我使用了 patchElf、LD_PRELOAD 和 LD_LIBRARY_PATH。

有一些技巧可以使相对路径起作用。经过一些实验，我得出的结论是不需要修补目标二进制文件，因为 ld.so 可用于直接从命令行加载目标程序，例如：

**$ /lib64/ld-linux-x86-64.so.2 [选项]... EXECUTABLE-FILE [ARGS-FOR-PROGRAM...]**

在这种情况下，写入目标二进制文件的 elf 标头中的解释器将被忽略，例如：

**$ ldd /usr/bin/mysql**

```
 linux-vdso.so.1 =>  (0x00007fff3fde0000)
    libpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f72f89ea000)
    libreadline.so.6 => /lib/x86_64-linux-gnu/libreadline.so.6 (0x00007f72f87a8000)
    libz.so.1 => /lib/x86_64-linux-gnu/libz.so.1 (0x00007f72f8590000)
    libdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f72f838c000)
    libm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007f72f8090000)
    libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f72f7cd0000)
    /original/path/to/ld.so (0x00007f72f9187000) ** ignored **
    libtinfo.so.5 => /lib/x86_64-linux-gnu/libtinfo.so.5 (0x00007f72f7aa9000) 
```

选项：

**--库路径**

告诉 ld.so 加载器在哪里搜索共享库（例如：libc.so 等）

我希望这可以帮助:)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-29T06:23:34.077

尝试使用 CentOS 5 作为您的构建机器，并在较新的平台上运行该可执行文件，而不是相反。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-18T10:38:12.663

只是让你的二进制文件更便携。

你可以，

*   目标 Linux 软件基础 (LSB) ABI：
    *   [http://www.linuxfoundation.org/collaborate/workgroups/lsb](http://www.linuxfoundation.org/collaborate/workgroups/lsb)
    *   [https://wiki.linuxfoundation.org/en/Book/BinaryCompatibility](https://wiki.linuxfoundation.org/en/Book/BinaryCompatibility)
*   使用具有您想要支持的最旧 Linux 发行版的虚拟机
    *   [https://stackoverflow.com/a/2079757/611560](https://stackoverflow.com/a/2079757/611560)
*   制作你的二进制文件
    *   [http://stevehanov.ca/blog/index.php?id=97](http://stevehanov.ca/blog/index.php?id=97)
    *   [http://www.evanjones.ca/portable-linux-binaries.html](http://www.evanjones.ca/portable-linux-binaries.html)
    *   [http://www.pixelbeat.org/programming/linux_binary_compatibility.html](http://www.pixelbeat.org/programming/linux_binary_compatibility.html)

问候。

# javascript - IE不显示内容

> ID：14576552
> 
> 赞同：0
> 
> 时间：2013-01-29T05:57:01.030
> 
> 标签：javascript, jquery, internet-explorer

在我的网站上，我有一个由按钮单击触发的弹出窗口，并且工作正常。此弹出窗口包含一个注册表单和以下 js：

```
<script type="text/javascript">
<!--
jQuery(function () {
    jQuery("input#submit").click(function () {
        jQuery('#response p').empty().append("<img src='ajax-loader.gif' />");
        var name = jQuery("#name").val();
        var email = jQuery("#email").val();
        var dataString = '&name=' + name + '&email=' + email;
        jQuery.ajax({
            url: "popupmailer.php",
            data: dataString,
            type: "GET",
            success: function (responseText) {
                jQuery('#response p').empty().append(responseText);
            }
        });
        return false;
    });
});
-->
</script> 
```

这似乎工作正常，但是一旦我在 IE 中尝试这个，弹出窗口根本不会出现。我试图解决这个问题，一旦我删除了上面提到的代码，弹出窗口就会再次出现在 IE 中。

有人能够帮助我并确定这里出了什么问题以便完成这项工作吗？谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T06:14:04.520

你应该尝试`form submit`

```
<script type="text/javascript">

jQuery(function () {
   jQuery("form").submit(function (e) {
     jQuery('#response p').empty().append("<img src='ajax-loader.gif' />");

     var dataString = $('form').serialize(); //<---just serialize the form this will make a dataString you want.

     jQuery.ajax({
        url: "popupmailer.php",
        data: dataString,
        type: "GET",
        success: function (responseText) {
            jQuery('#response p').html(responseText); //<--use .html() here
        }
     });
     return false;
  });
});

</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:07:06.380

尝试这个

```
jQuery('#response p').empty().html(responseText); 
```

代替

```
jQuery('#response p').empty().append(responseText); 
```

# macos - 如何在 MAMP Pro 上安装 Magento

> ID：14576560
> 
> 赞同：0
> 
> 时间：2013-01-29T05:57:38.050
> 
> 标签：macos, magento, magento-1.7, magento-1.6

我正在尝试在 MAMP pro 上安装 Magento。它给了我以下错误。

![在此处输入图像描述](../Images/8e56f23c32be2a8140ec4a14eb35ef80.png)

我尝试将主机更改为`localhost:8888`，`localhost:8889`但它不起作用。鉴于我在我的数据库中创建了一个名为 magento 的数据库。

我怎样才能解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T06:17:28.980

1.  在 MAMP PRO 中设置新环境
2.  使用网络浏览器访问它。验证它是否正常工作。`(http://localhost:8888)`
3.  访问您的 PhpMyAdmin
4.  创建一个数据库并可选择导入示例数据。
5.  再次浏览您的站点，将显示安装向导。`(http://localhost:8888/mymegento)`

棘手的部分是正确提供数据库名称。用户名和密码都应该是`root`.

# hibernate - 如何使用 JPA 2 中的示例对象获取数据

> ID：14576561
> 
> 赞同：0
> 
> 时间：2013-01-29T05:57:40.390
> 
> 标签：hibernate, jpa-2.0, criteria-api, query-by-example

我正在使用 Hibernate 3.5.6 和 JPA 2。

这是我的代码：

```
 public List<Route> searchRoutesEndingAt(GeoLocation destinationLocation,
        int destinationRangeInMeters, RouteUserPref routeUserPref) {
    Query query = entityManager.createNamedQuery("searchRoutesEndingAt");
    query.setParameter("lat1", destinationLocation.getLatitude());
    query.setParameter("lng1", destinationLocation.getLongitude());
    query.setParameter("destinationRangeInMeters", destinationRangeInMeters);
    try {
        return query.getResultList();
    } catch (NoResultException ex) {
        return null;
    }
} 
```

在上面的代码中，我想根据具有各种属性的 routeUserPref 过滤结果集。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:27:18.140

您可以使用 Criteria API 尝试以下代码

```
Criteria criteria = session.createCriteria(RouteUserPref.class).add(routeUserPref);
return criteria.list(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T15:57:04.443

您将无法使用 EntityManager afaik 执行此操作，因为它不包含在标准中。

但是我认为所有供应商都实现了它，对你来说它将是这样的：

休眠

并使用 Hibernate 的 Criteria API：

```
// get the native hibernate session
Session session = (Session) getEntityManager().getDelegate();
// create an example from our customer, exclude all zero valued numeric properties 
Example customerExample = Example.create(customer).excludeZeroes();
// create criteria based on the customer example
Criteria criteria = session.createCriteria(Customer.class).add(customerExample);
// perform the query
criteria.list(); 
```

摘自：

[JPA - FindByExample](https://stackoverflow.com/questions/2880209/jpa-findbyexample)

顺便说一句，他来自 openjpa 的例子是不完整的。如果您想要更好的版本，请在评论中联系我。

# maven - 如何将 apache velocity 添加到我的 pom.xml？

> ID：14576563
> 
> 赞同：1
> 
> 时间：2013-01-29T05:57:50.907
> 
> 标签：maven

我在这里尝试了这个建议：http: [//mvnrepository.com/artifact/org.apache.velocity/velocity/1.6.4](http://mvnrepository.com/artifact/org.apache.velocity/velocity/1.6.4)

我 pom.xml 现在根据 eclipse 有一个错误。删除速度线，一切都很好。我的 pom.xml 中有其他 apache 库，eclipse 下载它们没有问题。

除了手动将文件放入我的本地 maven 存储库之外，还有其他想法吗？

谢谢！:)

**我的 pom.xml**

```
<project xmlns="http://maven.apache.org/POM/4.0.0" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 
    http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>com.myapps.issu</groupId>

    <artifactId>issu</artifactId>

    <packaging>war</packaging>

    <version>0.0.1-SNAPSHOT</version>

    <name>issu</name>

    <url>http://maven.apache.org</url>

    <properties>
        <org.springframework.version>3.1.3.RELEASE</org.springframework.version>
    </properties>

    <dependencies>

        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>3.8.1</version>
            <scope>test</scope>
        </dependency>

        <dependency>
            <groupId>commons-dbcp</groupId>
            <artifactId>commons-dbcp</artifactId>
            <version>1.4</version>
        </dependency>

        <dependency>
            <groupId>org.hibernate</groupId>
            <artifactId>hibernate-core</artifactId>
            <version>4.1.8.Final</version>
        </dependency>

        <dependency>
            <groupId>org.codehaus.jackson</groupId>
            <artifactId>jackson-mapper-asl</artifactId>
            <version>1.9.9</version>
        </dependency>

        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>jstl</artifactId>
            <version>1.2</version>
        </dependency>

        <dependency>
            <groupId>javax.mail</groupId>
            <artifactId>mail</artifactId>
            <version>1.4.3</version>
        </dependency>

        <dependency>
            <groupId>com.oracle</groupId>
            <artifactId>ojdbc6</artifactId>
            <version>11.2.0.3</version>
        </dependency>

        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-orm</artifactId>
            <version>${org.springframework.version}</version>
        </dependency>

        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-webmvc</artifactId>
            <version>${org.springframework.version}</version>
        </dependency>

        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-log4j12</artifactId>
            <version>1.5.8</version>
        </dependency>

        <dependency>
            <groupId>org.antlr</groupId>
            <artifactId>stringtemplate</artifactId>
            <version>4.0.2</version>
        </dependency>

        <dependency>
            <groupId>org.apache.tiles</groupId>
            <artifactId>tiles-jsp</artifactId>
            <version>2.2.2</version>
        </dependency>

        <dependency>
            <groupId>taglibs</groupId>
            <artifactId>standard</artifactId>
            <version>1.1.2</version>
        </dependency>

        <dependency>
            <groupId>org.apache.velocity</groupId>
            <artifactId>velocity</artifactId>
            <version>1.6.4</version>
        </dependency>
    </dependencies>

    <build>
        <finalName>issu</finalName>
    </build>
</project> 
```

# java - Java：ArrayLists 帮助、参考

> ID：14576574
> 
> 赞同：1
> 
> 时间：2013-01-29T05:58:42.070
> 
> 标签：java

**A 类：** 包含一个填充的 Employee 对象数组列表，每个对象都包含employeeName 和employeeNumber

**B 类**是否可以创建一个引用 A 类的 Employee 对象数组列表的变量？我只需要搜索那个数组列表。也许打印出来。不改变其中的任何东西。

我可以如何做到这一点的任何策略或示例？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T10:57:38.223

```

    包 p1;

    导入 java.util.ArrayList；
    导入 java.util.Collections；
    导入 java.util.List；

    公共类 ArrayReference {
        公共静态无效主要（字符串[]参数）{
            新的 BB().method();
        }
    }

    AA类{
        私有列表列表 = new ArrayList();

        公共列表 getEmpList() {
            返回 Collections.unmodifiableList(list);
        }

    }

    BB类{
        公共无效方法（）{
            List list = new AA().getEmpList();
            list.add(new Emp()); // 这里运行时异常会发生，如果我们
            // 尝试在列表中添加对象。
            // java.lang.UnsupportedOperationException 是 add 的异常
            // 列表中的方法

        }
    }

    类 Emp {

    }

```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T06:03:51.950

我认为这就是你要找的：

```
Class A {
   private List<Employees> empList = new ArrayList<Employees>();

   //Setters
   //Getters

   //Load data to empList
}

Class B {

  void empList() {
      A empClass = new A();

      List<Employees> empListFromClassA = new ArrayList<Employees>();
      empListFromClassA.addAll(getEmpList()); //Getter from class A
} 
```

希望能帮助到你

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-29T06:04:44.753

如果您只想在列表中搜索，请使用：

类 A { 列出我的列表 ...;

```
public List<Employee> getEmployees() { 
    return myList.clone();
} 
```

}

这将返回您列表的克隆。如果您更改克隆原始列表保持不变

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-29T06:13:35.550

在 A 类中创建一个公共 getter 方法并通过 B 类访问相同的方法。

```
class A{
  private List<Employee> employees;

  public List getEmployees(){ return this.employees;}
}

class B{
  private List<Employee> employees;

  public B(){ 
  A a  = new A();
  employees = a.getEmployees();
 }

} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-29T06:17:56.597

您试图实现的现象是“封装”。在 java 中，我们可以通过实现 Getter 和 setter 方法来实现这一点，即普通 java 对象。getter 和 setter 在 java 应用程序开发中扮演着非常重要的角色。

您可以实施这样的解决方案

```
import java.util.ArrayList;
import java.util.List;

class A {
    private List<String> empList = new ArrayList<String>();
    A(){
        empList.add("Employee 1");
        empList.add("Employee 2");
        empList.add("Employee 3");
        empList.add("Employee 4");
        empList.add("Employee 5");

    }
    public List<String> getEmpList() {
        return empList;
    }

    public void setEmpList(List<String> empList) {
        this.empList = empList;
    }
}

class B {
    void empList() {
        A empClass = new A();
        List<String> empListFromClassA = empClass.getEmpList();     
        System.out.println("This is what you need ? "+ empListFromClassA.toString());
    }
}

public class TEST{
    public static void main(String Args[]){
        B classb = new B();
        classb.empList();
    }
} 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-01-29T06:00:54.510

在 A 类上编写一个 getter 方法，该方法公开`ArrayList`并简单地从 B 类调用 getter

```
class A { 
    List myList...;

    public List<Employee> getEmployees() { 
    ...
    }
}

class B { 
    A handleToA;

    public void search() { 
        handleToA.getEmployees()...
    }

} 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-01-29T06:01:56.727

当然，您只需要允许`Class A`与`ArrayList`. `Class B`您可以通过创建一个`public` *getter*方法来做到这一点，该方法`Class A`将 .return`ArrayList`给任何其他请求它的类。

```
Class A
{
   private List<Employee> employees;

   public A() {
     this.employees = new ArrayList<>();
   }

   public List<Employee> getEmployees(){ return this.employees; } 
} 
```

现在可以通过电话`Class B`询问员工`ArrayList``getEmployees()`

```
Class B
{
   private A a;

   public B() {
     this.a = new A();

     // fill the list ...

     List<Employee> fromA = a.getEmployees();  
   }
} 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2013-01-29T06:02:51.490

在 A 类中有一个吸气剂，不需要在 B 类中复制相同的吸气剂

```
class A {
    List<Employee> employeeList = new ArrayList<Employee>();

    public List<Employee> getEmployeeList() {
        return employeeList;
    }   
} 
```

# sql - SQL Server：查询将特定列的所有行值转换为单独的列

> ID：14576576
> 
> 赞同：0
> 
> 时间：2013-01-29T05:58:47.980
> 
> 标签：sql, sql-server, database

我有一个包含大量行的表。我想选择一个特定列的所有值并为每个唯一值创建单独的列。

例如 ：

![在此处输入图像描述](../Images/2c1f58bf203041f07655cca1256d8de9.png)

变成这样的东西：

![在此处输入图像描述](../Images/efbc2699b4791a9120eef4daad9fd587.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T08:58:22.493

```
SELECT 
  left_side  = RTRIM(SUBSTRING(col, 1, CHARINDEX('->', col)-2)),
  right_side = LTRIM(SUBSTRING(col, CHARINDEX('->', col) + 2, 4000))
FROM dbo.table; 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-29T06:24:47.730

嗨，您可以使用内置函数 Left、Right 或 CHARINDEX 等。

希望这个例子能有所帮助

[示例一](http://blog.sqlauthority.com/2008/05/25/sql-server-t-sql-script-to-devide-one-column-into-two-column/)

[示例二](https://stackoverflow.com/questions/7561346/split-a-value-in-one-column-to-two-columns)

谢谢

# c# - MVC4 .net4 模型在更新前刷新？

> ID：14576577
> 
> 赞同：2
> 
> 时间：2013-01-29T05:58:56.100
> 
> 标签：c#, sql-server, asp.net-mvc, entity-framework-4, asp.net-mvc-4

我有一个 EDM。当基于 Current 字段的布尔值显示模型时，我将模型传递给视图（只有一条记录是当前的）：

```
public ActionResult Index()
{
    myEDM db = new MyEDM();
    MyEDMModel model = db.MyEDMTable.Where(g => g.Current == 1).First();
    return View(model);
} 
```

该表有 10 列

```
fld1 fld2 fld3 ...... 
```

出于比较原因（我无法与 Null 比较），每个字段都使用默认值 emptystring '' 创建。

在视图中，我根据每个字段的内容显示背景图像和 HTML.Actionlink：

```
@if (Model.fldNo1 == "")
{
    <td class="number">
        @Html.ActionLink("1", "TakeNumber", "Numbers", new { Model, number = 1 })
    </td>
}
else
{
    <td class="numberTaken">
        @Html.ActionLink("1", "NumberTaken", "Home", new { Model, number = 1 })
    </td>
} 
```

每个字段都可以由用户获取和保留。每个字段只有一个用户（显然），如果字段 != '' 那么我什么都不做。该字段由其他人保留。如果可用，该字段将填充用户 ID。

这就是我的问题所在。我已经从 EDM 的页面加载中传递了模型。如果用户随后浏览视图例如 5 分钟，然后选择保留特定号码。为了检查其他用户是否在 5 分钟的浏览时间内保留了此字段，我需要从 EDM 刷新模型还是动态更新传递的模型？IE

我这样做：

```
myEDM db = new MyEDM();
Int32 muser = (Int32)Membership.GetUser().ProviderUserKey;
String user = muser.ToString();

if (number == 1 && model.fldNo1 == "")
{
    model.fldNo1 = user;
    UpdateModel(model);
    db.SaveChanges();
}
elseif ........... 
```

或者我必须首先调用或刷新模型以确保在用户浏览期间（例如 5 分钟）没有输入特定字段中的条目：

```
myEDM db = new MyEDM();
myEDMModel updateEDMModel = db.MyEDMTable.Where(g => g.id == model.id).First 
Int32 muser = (Int32)Membership.GetUser().ProviderUserKey;
String user = muser.ToString();

if (number == 1 && updateEDMModel.fldNo1 == "")
{
    updateEDMModel.fldNo1 = user;
    UpdateModel(updateEDMModel);
    db.SaveChanges();
}
elseif ........... 
```

不幸的是，我是一个单人乐队，我很难测试这个。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T06:06:41.130

从实体框架填充并传递给您的视图的模型不再附加。即使您从视图中进行了 EF 调用（不好的做法，不要），也不会附加呈现的值。

所以，***不，您显示的值不会随着数据库值的变化而变化***

为了创建您想要的行为，您需要使用 Ajax 方法。

我非常喜欢的一个是使用`@Html.Action()`部分。如果在一个

```
<script type="text/javascript">
            window.setInterval(
                $.get('@Url.Action("StillOnline", "Account")'), 10000);
</script> 
```

# jquery - 实现自定义按钮时如何在 JQGrid 中显示默认警报消息？

> ID：14576580
> 
> 赞同：0
> 
> 时间：2013-01-29T05:59:15.323
> 
> 标签：jquery

在 jqgrid 中的表单编辑中，如果我们不选择任何行来编辑消息框，则会自动显示要求选择任何行进行编辑。

我想通过在我的 jqgrid 中实现自定义按钮来在执行一些自定义功能时显示相同的消息窗口？

有没有办法调用任何方法或实现任何事件来显示消息窗口？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:59:09.433

我可以通过使用以下代码来实现它

```
var alertIDs = {themodal: 'alertmod', modalhead: 'alerthd', modalcontent: 'alertcnt'};
$.jgrid.viewModal("#" + alertIDs.themodal,
{gbox: "#gbox_" + $.jgrid.jqID(this.p.id), jqm: true});
 $("#jqg_alrt").focus(); 
```

# asp.net - 如何读取简单 HTML 文件中的配置设置？

> ID：14576584
> 
> 赞同：0
> 
> 时间：2013-01-29T05:59:21.333
> 
> 标签：asp.net, html

我的 ASP.net Web 应用程序中有一个简单的 HTML 页面。有没有办法从 HTML 页面读取配置设置而不在 aspx 页面中转换它？

# java - 在 Pemohon 类中找不到符号

> ID：14576588
> 
> 赞同：0
> 
> 时间：2013-01-29T05:59:32.783
> 
> 标签：java, jakarta-ee

我有一个类，它的功能是在将输入插入另一个数据库之前验证数据库的输入......它看起来像这样：1\. 使用 oracle 9i 的数据库 Penduduk 2\. 使用 MySQL 的数据库 Pemohon

这是我用来验证的类

此类在称为 Oracle 9i 数据库的 data.KTP 中

```
public class KTP {

public KTP (){

}

private Connection connection;
private String sql;

public KTP(Connection connection) {
    this.connection = connection;
}

public boolean CekNikPadaKtp(String nikPemohon) throws Exception {
    PreparedStatement ps = null;
    try {
        boolean cekNik = true;
        String nikKtp = "";
        sql = "SELECT NIK, TGL_BERLAKU FROM SIAKOFF.VW_KTP_WNI A, DUAL B "
                + "where TGL_BERLAKU < to_char(sysdate, 'DD-MM-YYYY') AND NIK=?";
        ps = connection.prepareStatement(sql);
        ps.setString(1, nikPemohon);
        ResultSet rs = ps.executeQuery();
        while (rs.next()) {
            nikKtp = rs.getString("nik");
        }
        rs.close();
        if (nikKtp.equals("")) {
            cekNik = false;
        }
        return cekNik;
    } finally {
        ConnectionUtil.closePreparedStatement(ps);
    }
} 
```

}

这个是从上面调用的另一个

```
public class Pemohon {

private Connection connection;
private String sql;

public Pemohon(Connection connection) {
    this.connection = connection;
}

public String savePemohon(TblPemohon tp) throws Exception {
    PreparedStatement ps = null;
    try {
        if (CekNikPadaKtp(tp.getKtpPemohon())) {
            sql = "insert into pemohon"
                + "(noktp_pemohon,nama_depan,nama_belakang,tempat_lahir_pemohon,tgl_lahir_pemohon,sex,"
                + "agama,status_perkawinan,pekerjaan_pemohon,nama_jalan_pemohon,rt_pemohon,rw_pemohon,kelurahan_pemohon,"
                + "kecamatan_pemohon,kab_ko_pemohon,provinsi_pemohon,pos_pemohon,telp_pemohon,kewarganegaraan_pemohon) "
                + "values("
                + "?,?,?,?,?,"
                + "?,?,?,?,?,"
                + "?,?,?,?,?,"
                + "?,?,?,?,?)";
        ps = connection.prepareStatement(sql);
        ps.setString(1, tp.getKtpPemohon());
        ps.setString(2, tp.getNamaDepanPemohon());
        ps.setString(3, tp.getNamaBelakangPemohon());
        ps.setString(4, tp.getTempatLahirPemohon());
        ps.setString(5, tp.getTanggalLahirPemohon());
        ps.setString(6, tp.getJenisKelamin());
        ps.setString(7, tp.getAgamaPemohon());
        ps.setString(8, tp.getStatusPerkawinan());
        ps.setString(9, tp.getPekerjaanPemohon());
        ps.setString(10, tp.getNamaJalanPemohon());
        ps.setString(11, tp.getRtPemohon());
        ps.setString(12, tp.getRwPemohon());
        ps.setString(13, tp.getKelurahanPemohon());
        ps.setString(14, tp.getKecamatanPemohon());
        ps.setString(15, tp.getKabupatenPemohon());
        ps.setString(17, tp.getProvinsiPemohon());
        ps.setString(18, tp.getKodePosPemohon());
        ps.setString(19, tp.getTelpPemohon());
        ps.setString(20, tp.getKewarganegaraanPemohon());
        ps.execute();
        return "success";
        } else {
            return "Info : nik pemohon belum ada di tabel ktp !";
        }
    } finally {
        ConnectionUtil.closePreparedStatement(ps);
    }
} 
```

}

请帮帮我...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:04:08.573

`public boolean CekNikPadaKtp(String nikPemohon)`是你的类中的一个实例方法，`KTP`现在你想在你的类中调用它`Pemohon`

那么首先你需要创建一个`KTP`类的实例，然后调用该方法，比如  

```
 try{
 KTP k = new KTP(connection); // edited
 if (k.CekNikPadaKtp(tp.getKtpPemohon())) {
 ... remaining code.... 
```

如果不创建该类的实例/对象，就不能调用其他类的实例方法。

我认为你对java中的类、对象、实例方法、静态方法等以及其他各种概念还不够清楚。

所以最好先清除这些，然后尝试，你会发现它很容易。

# symfony - 在 Symfony2 中找不到 NotBlank？

> ID：14576590
> 
> 赞同：0
> 
> 时间：2013-01-29T05:59:42.730
> 
> 标签：symfony

我是 Symfony2 的新手。

当我使用

```
use Symfony\Component\Validator\Constraint\NotBlank; 
```

它给出了错误

```
Fatal error: Class 'Symfony\Component\Validator\Constraint\NotBlank' not found in /var/www/Symfony/src/Blogger/BlogBundle/Entity/Enquiry.php on line 19 
```

请建议如何在 symfony 中添加 NotBlank 约束，因为我检查了 Symfony 的文档，但我什么都不懂。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-29T06:13:11.037

我相信`Symfony\Component\Validator\Constraint\NotBlank`应该是`Symfony\Component\Validator\Constraints\NotBlank`。

# grails - 域类的 Grails 视图生成不包括所有属性

> ID：14576591
> 
> 赞同：0
> 
> 时间：2013-01-29T05:59:48.727
> 
> 标签：grails

我正在尝试将一个较旧的 java 项目设置并重新设计为 grails。我使用 GGTS 3.1.0.Release 并配置了我的域模型。我的问题是，当我使用自动生成控制器和视图时（右键单击项目->新建->生成控制器和视图），它确实生成了文件，但属性并不全部包含在内！我认为这个脚手架可以提供一个包含我的域类的所有属性的视图。我错了吗？

副班：

```
package com.trading.core

class Associate {

    Integer id
    String name
    String address
    Prefecture prefecture
    SubPrefecture subPrefecture
    Municipal municipal
    String city
    BigDecimal minDiscount
    String zipcode
    User insUser
    Date insDatetime
    User updtUser
    Date updtDatetime

    static mapping = {
        table "associate"
        id generator: 'identity'
        minDiscount column:"min_discount"
        insUser column: "ins_user"
        insDatetime column: "ins_datetime"
        updtUser column: "updt_user"
        updtDatetime column: "updt_datetime"

        municipal column: "municipal"
        subPrefecture column: "sub_prefecture"
        prefecture column: "prefecture"

        version false
    }       

    static constraints = {
    }
} 
```

list.gsp（生成）

```
<%@ page import="com.trading.core.Associate" %>
<!DOCTYPE html>
<html>
    <head>
        <meta name="layout" content="main">
        <g:set var="entityName" value="${message(code: 'associate.label', default: 'Associate')}" />
        <title><g:message code="default.list.label" args="[entityName]" /></title>
    </head>
    <body>
        <a href="#list-associate" class="skip" tabindex="-1"><g:message code="default.link.skip.label" default="Skip to content&hellip;"/></a>
        <div class="nav" role="navigation">
            <ul>
                <li><a class="home" href="${createLink(uri: '/')}"><g:message code="default.home.label"/></a></li>
                <li><g:link class="create" action="create"><g:message code="default.new.label" args="[entityName]" /></g:link></li>
            </ul>
        </div>
        <div id="list-associate" class="content scaffold-list" role="main">
            <h1><g:message code="default.list.label" args="[entityName]" /></h1>
            <g:if test="${flash.message}">
            <div class="message" role="status">${flash.message}</div>
            </g:if>
            <table>
                <thead>
                    <tr>

                        <g:sortableColumn property="name" title="${message(code: 'associate.name.label', default: 'Name')}" />

                        <g:sortableColumn property="address" title="${message(code: 'associate.address.label', default: 'Address')}" />

                        <g:sortableColumn property="city" title="${message(code: 'associate.city.label', default: 'City')}" />

                        <g:sortableColumn property="insDatetime" title="${message(code: 'associate.insDatetime.label', default: 'Ins Datetime')}" />

                        <th><g:message code="associate.insUser.label" default="Ins User" /></th>

                        <g:sortableColumn property="minDiscount" title="${message(code: 'associate.minDiscount.label', default: 'Min Discount')}" />

                        <th><g:message code="associate.municipal.label" default="Municipal" /></th>

                    </tr>
                </thead>
                <tbody>
                <g:each in="${associateInstanceList}" status="i" var="associateInstance">
                    <tr class="${(i % 2) == 0 ? 'even' : 'odd'}">

                        <td><g:link action="show" id="${associateInstance.id}">${fieldValue(bean: associateInstance, field: "address")}</g:link></td>

                        <td>${fieldValue(bean: associateInstance, field: "city")}</td>

                        <td><g:formatDate date="${associateInstance.insDatetime}" /></td>

                        <td>${fieldValue(bean: associateInstance, field: "insUser")}</td>

                        <td>${fieldValue(bean: associateInstance, field: "minDiscount")}</td>

                        <td>${fieldValue(bean: associateInstance, field: "municipal")}</td>

                    </tr>
                </g:each>
                </tbody>
            </table>
            <div class="pagination">
                <g:paginate total="${associateInstanceTotal}" />
            </div>
        </div>
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T06:51:59.447

脚手架默认只显示一些属性 - 我以为是 6。要更改它，请运行命令

```
grails install-templates 
```

然后往里看，`src/templates/scaffolding`你会看到`list.gsp`

您可以编辑该文件并删除或修改视图的生成方式（`i < 6`在此问题的代码中查找）。然后下次生成视图时，将使用该模板并显示您设置的任意数量的属性。

# ios - 不响应选择器 image:didFinishSavingWithError:contextInfo:

> ID：14576594
> 
> 赞同：1
> 
> 时间：2013-01-29T06:00:14.113
> 
> 标签：ios, cocoa-touch, uiimagepickercontroller

感谢您的阅读，这是我的问题。我正在尝试保存一张图片（我使用 UIImagePickerController 方法拍摄的），尽管我有一个错误。错误是“不响应选择器图像：didFinishSavingWithError:contextInfo :)

我在其他地方读到这与将实例方法更改为类方法有关（但我是菜鸟，不知道这意味着什么。）这是我的代码：D。

```
-(void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info {

// Access the uncropped image from info dictionary
UIImage *image = [info objectForKey:@"UIImagePickerControllerOriginalImage"];

// Save image 
UIImageWriteToSavedPhotosAlbum(image, self, @selector(image:didFinishSavingWithError:contextInfo:), nil);
} 
```

我被告知这与 UIImageWriteToSavedPhotosAlbum 方法中的“Self”有关。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-05T07:50:40.590

使用此代码保存您选择的图像：

```
 -(void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info 
{
 UIImage *image = [info objectForKey:@"UIImagePickerControllerOriginalImage"];
 UIImageWriteToSavedPhotosAlbum(image,self,  
                                   @selector(image:finishedSavingWithError:contextInfo:),
                                   nil);
} 
```

并添加此功能。

```
- (void)image:(UIImage *)image didFinishSavingWithError:(NSError *)error contextInfo: (void *)contextInfo
{
if (error != nil) 
 {
    NSLog(@"Image Can not be saved");
 } 
 else 
 {
    NSLog(@"Successfully saved Image");
 }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-29T07:02:16.123

您的班级（自我）不响应选择器**image:didFinishSavingWithError:contextInfo:**。你应该实现这个选择器。像这样的东西

```
- (void)image:(UIImage *)image didFinishSavingWithError:(NSError *)error contextInfo:(void *)contextInfo
{
    if (error != nil) {
        NSLog(@"Couldn't save image");
    } else {
        NSLog(@"Saved image");
    }
} 
```

# entity-framework - 如何在实体框架中获取子实体？

> ID：14576595
> 
> 赞同：1
> 
> 时间：2013-01-29T06:00:23.143
> 
> 标签：entity-framework

我有两个表 A,B ，它们的关系是 1 对 1，我有一个方法来获取 A 的信息，

并且实体A中有一个属性B，但是在我使用方法分离（A）之后，发现

实体 A 的属性 B 为空，我只想将分离的实体返回给客户端。

你能帮我如何让一个分离的实体A包含属性B吗？

代码片段

```
var a = Context.A.Include('B').Where(i.id=1) //the property B of entity a is not null
Context.Detach(a) ;// after executing this method the property B of entity a is null 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T06:07:27.387

根据丹尼尔西蒙斯@http : [//social.msdn.microsoft.com/Forums/pl/adodotnetentityframework/thread/6c0aa93e-7fdf-475c-86ea-d5caac918329](http://social.msdn.microsoft.com/Forums/pl/adodotnetentityframework/thread/6c0aa93e-7fdf-475c-86ea-d5caac918329)：

> 分离图表在后方是一个很大的痛苦。坦率地说，除非你的图表很浅，否则我什至不会尝试。您必须将图形从底部向上分离，然后重新附加内存中的实体。Microsoft 没有为我们提供执行此操作的模式，并且他们没有在下一个版本中为我们提供方法。

或者，看看[这个可能对你有帮助的答案](https://stackoverflow.com/a/1357601/290343)，或者[那个](https://stackoverflow.com/a/8502467/290343)答案。

# php - 谷歌如何处理具有不同值的两个相同的 URL 参数？

> ID：14576597
> 
> 赞同：0
> 
> 时间：2013-01-29T06:00:37.860
> 
> 标签：php, get

只要看看这个网址，你就会明白我的意思。

```
https://www.google.com/search?q=site%3Aphpjs.org&q=date 
```

当我转到那个网址时，谷歌搜索栏中的搜索词是`site:phpjs.org date`.

Google 如何将这两个参数“变形”在一起，以及如何在 PHP 中做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-29T06:06:41.457

Google 没有对空间进行编码，而是使用相同的`q`变量来完成相同的事情。

不幸的是，PHP 没有内置的能力来做到这一点，因为相同的查询字符串参数的连续出现将覆盖第一个，除非使用`[]`后缀。

你需要这样的东西：

```
$params = array();
foreach (explode('&', $_SERVER['QUERY_STRING']) as $param) {
    list($name, $value) = explode('=', $param, 2);
    $params[] = array(urldecode($name) => urldecode($value));
} 
```

内容`$params`：

```
array(
    array('q' => 'site:phpjs.org'),
    array('q' => 'date'),
); 
```

或者，您可以将循环体更改为：

```
$params[urldecode($name)][] = urldecode($value); 
```

这将变为`$params`：

```
array('q' => array('site:phpjs.org', 'date')); 
```

这将使做起来更容易：

```
join(' ', $params['q']);
// "site:phpjs.org date" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:07:08.743

它将始终使用提供的 url 中最后一个变量的值。这更像是一种标准方式，不仅仅是谷歌以这种方式处理它。您可以通过`index.php`在根目录中创建一个名为的页面来自己尝试。然后通过 访问页面`http://example.com/index.php?q=John&q=Billy`。在 index.php 里面添加这个：`<?php echo $_GET['q']; ?>`。

所以会发生什么是最后一个值被使用，除了谷歌剥离 URL 并将变量的值连接在一起。我希望这是有道理的！

# php - UnixODBC 多个数据源不起作用

> ID：14576600
> 
> 赞同：0
> 
> 时间：2013-01-29T06:00:48.657
> 
> 标签：php, sql-server, linux, unixodbc

我使用 unixODBC 通过 odbc 连接到 mssql 数据库。问题是无论我在 odbc.ini 中添加多少数据源，它总是使用列表中的第一个数据库。

```
odbcinst.ini
[ODBC]
Trace           = Yes
TraceFile       = /tmp/sql.log
ForceTrace      = Yes
Pooling         = Yes
[SQLSERVER]
Description     = SQLSERVER
Driver          = /usr/local/freetds/lib/libtdsodbc.so
Setup           = /usr/local/freetds/lib/libtds.so
CPTimeout       = 5
CPReuse         = 5
#FileUsage       = 1

odbc.ini
[DNS1]
Driver          = SQLSERVER
Description     = SQLSERVER
Server          = 192.168.1.10
Database        = fr_boatsdata
Port            = 2300
[INTERPOLICY]
Driver          = SQLSERVER
Description     = SQLSERVER
Server          = 192.168.1.10
#Database       = inter_policy
Port            = 2300 
```

我的代码：

```
@include(S_ROOT.'./source/lib/adodb5/adodb.inc.php');
$this->link = &ADONewConnection('odbc_mssql');
$ADODB_FETCH_MODE = ADODB_FETCH_ASSOC;
$dns="Driver={SQL Server};Server={$dbhost};Database={$connInfo['Database']};";
//$dns="DNS=INTERPOLICY";
@$this->link->Connect($dsn,$connInfo['UID'],$connInfo['PWD']); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T11:00:43.483

有了那个 odbcinst,ini 我会尝试

$dns="驱动程序={SQLSERVER};服务器={$dbhost};数据库={$connInfo['Database']};";

或者

$dns="DSN=INTERPOLICY";

# ios5 - uisearchbar 性能问题 textDidChange

> ID：14576602
> 
> 赞同：0
> 
> 时间：2013-01-29T06:00:59.043
> 
> 标签：ios5, uisearchbar, uisearchbardelegate

我正在我的应用程序中处理搜索功能，我有基于谓词的项目列表，我正在编写搜索操作。搜索将基于每个字符，虽然执行此搜索键盘响应很晚，

我在委托方法中做搜索功能，

*   (void)searchBar:(UISearchBar *)searchBar textDidChange:(NSString *)searchText{

任何人都可以建议我如何解决这个问题。

问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T22:47:03.650

UI（这里是键盘）总是在主线程上更新，如果搜索任务很慢，它可能会变得迟钝。因此，您应该在单独的线程上执行它；例如由`performSelectorInBackground`. 然后主线程将有足够的资源用于键盘。

有关示例，请参阅[线程编程指南](https://developer.apple.com/library/ios/#documentation/Cocoa/Conceptual/Multithreading/Introduction/Introduction.html#//apple_ref/doc/uid/10000057i)。

# sql - 同时执行多个 PL SQL 块

> ID：14576617
> 
> 赞同：0
> 
> 时间：2013-01-29T06:02:27.127
> 
> 标签：sql, oracle, plsql

我需要同时执行几个块/功能；我不能按顺序执行它们，因为会涉及睡眠功能，这将花费很多时间。请指教。

```
**Pseudo Code:**
begin
loop outer
begin
     do x;
     sleep (3 sec);
     do y;

end;

begin

     do Z;
     sleep (3 sec);
     do A;

end;
end outer loop
end; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-05T10:48:52.013

我建议你通过`parallel_enable`和`pipelined`条款，作为我提供给你的一个很好的信息来源问汤姆，当然还有 Stackowerflow））

# python - Xpath 中的 `.` 是什么意思？

> ID：14576620
> 
> 赞同：0
> 
> 时间：2013-01-29T06:02:48.973
> 
> 标签：python, xml, elementtree

我遇到了这样的 Xpath：

```
from xml.etree import ElementTree

with open('podcasts.opml', 'rt') as f:
    tree = ElementTree.parse(f)

for node in tree.findall('.//outline'):
    pass 
```

我知道那是什么`//`意思`any matches`，但是`.`之前的`//`意思是什么？那是什么意思`relative path`？但是`current path`代码中的内容是什么？是根路径吗？那么它可以写成`///outline`吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T06:09:13.603

> 位置步长`.`是 的缩写`self::node()`。这在结合使用时特别有用，`//.` 例如，位置路径`.//para` 是缩写`self::node()/descendant-or-self::node()/child::para`，因此将选择上下文节点的所有 para 后代元素。

引自[http://www.w3.org/TR/xpath/](http://www.w3.org/TR/xpath/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T06:10:00.597

> 但是 . //之前是什么意思？

它的意思是“当前节点”。

> 但是代码中的**当前路径**是什么？是根路径吗？那么可以写成 ///outline 吗？

**Current path** is the node you're searching from. It's not necessary the root (but for `tree` in the above example it is).

# actionscript-3 - 如何为自定义 mxml 组件工作 registerClassAlias() 方法

> ID：14576627
> 
> 赞同：1
> 
> 时间：2013-01-29T06:03:11.373
> 
> 标签：actionscript-3, apache-flex, flex4.6

我有 flex mxml 自定义组件（图形）。根据要求需要将它们复制为复制或剪切操作**。但是 registerClassAlias() 方法中的问题，它将如何用于自定义图形或 Group（或 UIComponents）组件。**

```
var className:String = getQualifiedClassName(zorder.getItemAt(0));
            _saveIn.clear();

            registerClassAlias(className, zorder.getItemAt(0) as Class);
            _saveIn   =     SharedObject.getLocal("save");
            _saveIn.data.value1 = new ByteArray();
            _saveIn.data.value1.writeObject(zorder.getItemAt(0));
            _saveIn.data.value1.position = 0;
            _saveIn.flush(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T09:14:34.767

不可能通过 ByteArray 使用`registerClassAlias->writeObject->readObject`方法制作任何显示对象的完整副本。它仅适用于简单对象，例如数据对象（如 TextFormat、值对象等）。在任何情况下，您都必须为每种类型的对象测试复制方法，以确保它正常工作。

应对示例`Shape`，最简单的展示对象：

```
package
{
import avmplus.getQualifiedClassName;

import flash.display.DisplayObject;
import flash.display.MovieClip;
import flash.display.Shape;
import flash.net.registerClassAlias;
import flash.utils.ByteArray;
import flash.utils.getDefinitionByName;

public class astest extends MovieClip
{
    public function astest()
    {
        init();
    }

    private function init():void
    {
        var sh:Shape = new Shape();

        sh.graphics.beginFill(0xFF0000);
        sh.graphics.drawEllipse(100, 100, 100, 70);
        sh.graphics.endFill();

        addChild(sh);

        registerObject(sh);

        var ba:ByteArray = new ByteArray();
        ba.writeObject(sh);
        ba.position = 0;
        var obj:Object = ba.readObject();
        var shCopy:DisplayObject = obj as DisplayObject;

        if(shCopy)
        {
            shCopy.x = shCopy.y = 100;
            addChild(shCopy);
        }

    }

    private function registerObject(obj:Object):void
    {
        try
        {
            var qname:String = getQualifiedClassName(obj);
            var cname:String = qname.split("::").join(".");
            var classs:Class = getDefinitionByName(cname) as Class;
            registerClassAlias(qname, classs);
        }catch(error:Error)
        {
            trace(error.message);
        }
    }
}
} 
```

输出：

```
 TypeError: Error #1034: Type Coercion failed: cannot convert Object@eae09b9 to flash.geom.Transform. 
```

因此，您可以尝试`flash.geom.Transform`在应对之前注册：

```
registerObject(sh.transform); 
```

但这会导致另一个错误：

```
ArgumentError: Error #1063: Argument count mismatch on flash.geom::Transform(). Expected 1, got 0 
```

实际上，`DisplayObject`应对是老话题，您可以通过我上面提到的错误（尤其是最后一个）在谷歌上搜索很多关于此的帖子，但答案是：*您无法通过 ByteArray 复制显示对象，您需要编写自定义用于创建给定 TextField、Sprite 或 VBox 的副本并手动复制所有属性的方法。*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T08:43:41.743

好的，这篇[博文](http://www.actionscriptdeveloper.co.uk/getting-the-class-of-an-object-in-as3/)有一个简单的解决方案......你使用`getDefinitionByName()`：

所以在你的代码中是这样的：

```
var className:String = getQualifiedClassName(zorder.getItemAt(0));
            _saveIn.clear();

            registerClassAlias(className, getDefinitionByName(className) as Class);
            _saveIn   =     SharedObject.getLocal("save");
            _saveIn.data.value1 = new ByteArray();
            _saveIn.data.value1.writeObject(zorder.getItemAt(0));
            _saveIn.data.value1.position = 0;
            _saveIn.flush(); 
```

# grails - 未注入 grails 父服务依赖项

> ID：14576634
> 
> 赞同：1
> 
> 时间：2013-01-29T06:03:46.487
> 
> 标签：grails

我发现当我们在 grails 应用程序的服务中继承时，注入在父类中没有正确发生。例如：ParentService->ChildService ParentService 具有需要注入的属性 XXX。

只要属性在 ChildService 中就没有问题...

我读到默认情况下 spring 也不会自动连接父级，所以我需要重新声明 resources.groovy 中的每个服务并提及 parent="name of Parent Service Class" 吗？

没有注释可以做同样的事情吗？

# javascript - 使用 express 提供静态文件的最简单方法是什么？

> ID：14576644
> 
> 赞同：13
> 
> 时间：2013-01-29T06:04:37.750
> 
> 标签：javascript, node.js, express

我正在使用一种相当丑陋的方法：

```
var app = require('express')(),
    server = require('http').createServer(app),
    fs = require('fs');
server.listen(80);

path = "/Users/my/path/";

var served_files = {};
["myfile1.html","myfile2.html","myfile3.html"].forEach(function(file){
    served_files["/"+file] = fs.readFileSync(path+file,"utf8");
});

app.use(function(req,res){
    if (served_files[req.path]) 
        res.send(files[req.path]);
}); 
```

正确的方法是什么？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-01-29T06:08:03.350

Express 有一个内置的中间件。[它是connect](https://github.com/senchalabs/connect)的一部分， express 是建立在它之上的。中间件本身使用[send](https://github.com/visionmedia/send)。

```
// just add the middleware to your app stack via `use`
app.use(express.static(yourpath)); 
```

在回答您的评论时，不，没有办法手动选择文件。尽管默认情况下中间件会忽略前缀为 的文件夹，因此不会提供`.`名为的文件夹。`.hidden`

`static`要手动隐藏文件或文件夹，您可以在请求到达之前插入自己的中间件以过滤掉路径。以下内容将阻止从名为 的文件夹中提供任何文件`hidden`：

```
app.use(function(req, res, next) {
  if (/\/hidden\/*/.test(req.path)) {
    return res.send(404, "Not Found"); // or 403, etc
  };
  next();
});
app.use(express.static(__dirname+"/public")); 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-01-29T06:13:44.617

如果您想在不使用 Express 的情况下获得解决方案（正如您明确要求“简单”），请查看[node-static](https://github.com/cloudhead/node-static)模块。

它允许您像 Express 的适当中间件一样为文件夹提供服务，但它也允许您仅提供特定文件。

在最简单的情况下，它只是：

```
var http = require('http'),
    static = require('node-static');

var folder = new(static.Server)('./foo');

http.createServer(function (req, res) {
    req.addListener('end', function () {
        folder.serve(req, res);
    });
}).listen(3000); 
```

如果您需要一些示例，请查看 GitHub 项目页面，其中有几个。

PS：您甚至可以全局安装 node-static 并将其用作 CLI 工具，只需从您希望服务的文件夹中的 shell 运行它：

```
$ static 
```

而已 ：-）！

PPS：关于您的原始示例，最好在此处使用带有流的管道，而不是以同步方式加载所有文件。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-11-05T22:47:25.343

正如[这个问题](https://stackoverflow.com/questions/16333790/node-js-quick-file-server-static-files-over-http)的公认答案中提到的，我建议使用[http-server](https://github.com/nodeapps/http-server)。

它可以通过命令行启动，无需任何配置

```
cd /path/to/directory
http-server 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-11-06T09:52:20.093

就我个人而言，我更喜欢来自 nginx 的服务器文件（我也将它用于 gzip 编码、缓存、SSL 处理和负载平衡），并且节点只提供 API。也许不是您正在寻找的答案，但它提供了有趣的选择。也许您可以看看这种方法并发现您喜欢它；）

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-29T15:52:25.360

如果您想要一种非常简单的方法，那么我想向您展示我的模块（它不仅适用于静态文件）[simpleS](http://micnic.github.com/simpleS/)，请使用`npm install simples`.

将所有文件放在一个文件夹中，例如`files`.

这是魔术：

```
var simples = require('simples');

var server = simples(80);

server.serve('files');

/* if you want to catch the acces to a folder and to do something, try this:
server.serve('files', function (connection, files) {
    // Your application logic
    // For example show the files of the folder
});
*/ 
```

您不需要关心文件的内容类型，它会自动从文件扩展名中检测到它

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2016-04-26T06:42:33.767

我对索引 html 中的文件进行了以下更改以自动包含文件。这样当您在文件夹中添加文件时，它将自动从文件夹中提取，而无需将文件包含在 index.html 中

```
//// THIS WORKS FOR ME 
///// in app.js or server.js

var app = express();

app.use("/", express.static(__dirname));
var fs = require("fs"),

function getFiles (dir, files_){
    files_ = files_ || [];
    var files = fs.readdirSync(dir);
    for (var i in files){
        var name = dir + '/' + files[i];
        if (fs.statSync(name).isDirectory()){
            getFiles(name, files_);
        } else {
            files_.push(name);
        }
    }
    return files_;
}
//// send the files in js folder as variable/array 
ejs = require('ejs');

res.render('index', {
    'something':'something'...........
    jsfiles: jsfiles,
});

///--------------------------------------------------

///////// in views/index.ejs --- the below code will list the files in index.ejs

<% for(var i=0; i < jsfiles.length; i++) { %>
   <script src="<%= jsfiles[i] %>"></script>
<% } %> 
```

# c# - 在 C# 窗口应用程序中打印多个文档

> ID：14576649
> 
> 赞同：0
> 
> 时间：2013-01-29T06:05:11.383
> 
> 标签：c#, winforms, printing, system.drawing

在 c# 窗口应用程序中，当文档超过 1 页时，我无法打印文档。请参阅我用于打印文档的以下代码及其工作正常，而有一个小文档，即只有一页。

在打印按钮的点击事件上

```
 private void button1_Click(object sender, EventArgs e)
    {
        PrintDialog pd = new PrintDialog();
        PrintDocument doc = new PrintDocument();
        pd.Document = doc;
        doc.PrintPage += new PrintPageEventHandler(doc_PrintPage);
        DialogResult res = pd.ShowDialog();
        if (res == System.Windows.Forms.DialogResult.OK)
        {
            doc.Print();
        }
    } 
```

PrintPageEventHandler 如下。

```
 void doc_PrintPage(object sender, PrintPageEventArgs e)
    {
    //Fetching data from DB

        BillingApplicationEntities ent = new BillingApplicationEntities();
        List<tbCustBill> BillData = ent.tbCustBills.Where(s => s.BillId == 20133).ToList();

   //Printing doc

        Graphics grp = e.Graphics;

        Font fnt = new Font("Courier New", 12);
        float fontH = fnt.GetHeight();

        int startX = 10;
        int StartY = 10;
        int offset = 40;
        foreach (tbCustWorkDet d in WorkData)
        {
            string Pare = d.WorkName.PadRight(30);
            string pp = string.Format("{0:c}", d.Price).PadRight(30);

            string pl = Pare + pp;

            grp.DrawString(pl, fnt, new SolidBrush(Color.Black), startX, StartY + offset);

            offset += (int)fontH + 5;
           if (offsetY >= pageHeight)
           {
                e.HasMorePages = true;
                offsetY = 0;
                return; // you need to return, then it will go into this function again
           }
           else {
                 e.HasMorePages = false;
            }
        }
        offset += 20;
        // And cont with other data to print
    } 
```

这种方法运行良好，并给了我所需的 o/p，但是当数据变得更大并且需要更多页来打印时，在 o/p 中它只给我一页。

我认为对于多个页面，我们必须将以下属性设置为 true

```
 e.HasMorePages = true; 
```

但我不知道在哪里以及如何放置这个值......

简而言之，我想知道如何从上面的代码中打印多个文档？

在此代码`return`将返回到函数并重新开始整个执行，依此类推，这将成为无限循环。请告诉我如何防止这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T06:55:51.240

`e.HasMorePages = true;`如果要打印更多页面，请添加printpage 处理程序。这会导致再次调用处理程序。由处理程序输出正确的页面。

# android - 具有按比例缩放的图像和图像右侧的 TextView 的加权垂直 LinearLayout

> ID：14576650
> 
> 赞同：0
> 
> 时间：2013-01-29T06:05:18.700
> 
> 标签：android, android-layout, android-linearlayout, android-imageview, textview

如何在具有权重的 LinearLayout 中根据比例缩放图像，然后在图像右侧放置标签？下面的示例显示了 3 行等高，每行都需要将 TextView 定位在它们的右侧。简而言之：左边是图像，右边是文本。

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    tools:context=".MainActivity" >

    <RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1" >

        <ImageView
            android:id="@+id/a1"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:background="#33B5E5"
            android:contentDescription="@string/app_name"
            android:scaleType="fitStart"
            android:src="@android:drawable/star_big_on" />

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_toRightOf="@id/a1"
            android:text="@string/app_name" />
    </RelativeLayout>

    <RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1" >

        <ImageView
            android:id="@+id/a2"
            android:layout_width="wrap_content"
            android:layout_height="match_parent"
            android:background="#AA66CC"
            android:contentDescription="@string/app_name"
            android:scaleType="fitXY"
            android:src="@android:drawable/star_big_on" />

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_toRightOf="@id/a2"
            android:text="@string/app_name" />
    </RelativeLayout>

    <RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1" >

        <ImageView
            android:id="@+id/a3"
            android:layout_width="wrap_content"
            android:layout_height="match_parent"
            android:background="#FF4444"
            android:contentDescription="@string/app_name"
            android:scaleType="fitStart"
            android:src="@android:drawable/star_big_on" />

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_toRightOf="@id/a3"
            android:text="@string/app_name" />
    </RelativeLayout>

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T08:16:45.057

ImageViews 的宽度和高度对于您想要实现的目标大多不正确。

试试这个，然后比较两者以找出问题所在：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    tools:context=".MainActivity" >

    <RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:background="#33B5E5" >

        <ImageView
            android:id="@+id/a1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentLeft="true"
            android:layout_alignParentTop="true"
            android:background="#33B5E5"
            android:contentDescription="@string/app_name"
            android:scaleType="fitStart"
            android:src="@android:drawable/star_big_on" />

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentTop="true"
            android:layout_toRightOf="@id/a1"
            android:text="@string/app_name" />
    </RelativeLayout>

    <RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:background="#AA66CC" >

        <ImageView
            android:id="@+id/a2"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:contentDescription="@string/app_name"
            android:scaleType="fitXY"
            android:src="@android:drawable/star_big_on" />

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_toRightOf="@id/a2"
            android:text="@string/app_name" />
    </RelativeLayout>

    <RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:background="#FF4444" >

        <ImageView
            android:id="@+id/a3"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:contentDescription="@string/app_name"
            android:scaleType="fitStart"
            android:src="@android:drawable/star_big_on" />

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_toRightOf="@id/a3"
            android:text="@string/app_name" />
    </RelativeLayout>

</LinearLayout> 
```

请注意，这在 ADT 工具图形布局中无法正确显示 - 但在设备上却可以。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T09:30:58.887

对于您要查找的内容，我建议您使用水平线性布局而不是相对布局。这使您可以使用权重进行水平放置，从而为您提供所需的：

```
<LinearLayout
    android:layout_width="match_parent"
    android:layout_height="0dp"
    android:layout_weight="1" >

    <ImageView
        android:id="@+id/ImageView03"
        android:layout_width="0dp"
        android:layout_height="match_parent"
        android:layout_weight="1"
        android:background="#FF4444"
        android:contentDescription="@string/app_name"
        android:scaleType="fitStart"
        android:src="@android:drawable/star_big_on" />

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_weight="0"
        android:text="@string/app_name" />

</LinearLayout> 
```

这将使您的 TextView 仅占用它需要的空间（在右侧），而图像将占用水平布局的所有剩余空间（在左侧）。水平布局将均匀地占用垂直布局内的可用空间。

注意：这会给你一个“嵌套权重不利于性能”的警告，但是因为这是一个简单的布局，并且嵌套权重对于垂直和水平是分开的，所以它不应该对性能有任何明显的影响。如果您在重复视图上使用它或布局复杂得多，我会推荐其他东西。

# cloud - Cloud Foundry 是否支持在 Application Server 中部署应用程序？

> ID：14576651
> 
> 赞同：0
> 
> 时间：2013-01-29T06:05:20.110
> 
> 标签：cloud, cloud-foundry

我想在 JBOSS 或 glassfish 等应用服务器上开发和部署应用程序。Cloud Foundry 支持哪些应用服务器？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-31T21:12:03.260

如果您有自己的 CF 服务器，这应该是默认列表：

1.  java_web
2.  春天
3.  电梯
4.  架子
5.  导轨3
6.  节点
7.  圣杯
8.  wsgi
9.  django
10.  php
11.  独立的
12.  玩
13.  辛纳特拉
14.  otp_rebar

# php - 如何将数组值从一个集合移动到另一个集合？

> ID：14576653
> 
> 赞同：0
> 
> 时间：2013-01-29T06:05:43.270
> 
> 标签：php, arrays, mongodb, collections

我在一个集合中有一个数组值。我想将数组值从一个集合移动到另一个集合。

```
fruits : [ 
           { "apple","banana" } 
         ] 
```

如何将此数组值从一个集合移动到另一个集合？

我想这样做，从一个集合中获取值，将其存储在一个临时变量中，然后更新另一个集合以添加这个临时变量。但我知道这不是简单的方法。

所以，我想知道有什么简单的方法可以做到这一点吗？

希望我对我的问题很清楚。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T10:22:11.117

> 我想这样做，从一个集合中获取值，将其存储在一个临时变量中，然后更新另一个集合以添加这个临时变量。但我知道这不是简单的方法。

正如@sergio 指出的那样。这很可能是最简单的方法。

MongoDB 没有交叉集合更新，允许您在单个更新调用中完成所有这些操作（与 SQL 不同）。

当然，据说 MongoDB 并非不可能做到这一点，而是它还没有实现。

当然，建议不要经常做这种事情，否则你可能会遇到很大的性能问题，特别是如果这些文档需要从当前的记录分配转移到新的记录分配（由于大小差异）。

考虑到您希望推送到另一个集合的是子文档，我也不建议使用聚合框架来创建可以轻松保存到替代集合中的数据“显示”。这是因为数据已经预先形成，使用聚合框架只会使事情复杂化。

相反，我只会迭代源文档，取出值并将它们简单地推送到目标集合中的文档。

如果这些文档是新文档并且您正在寻找一种聚合类型，您也可以使用 Map Reduce。我应该警告您，MR 并不是真正设计用于跨文档移动值，而是更多地用于制定聚合文档并将它们保存到集合中。

# php - 用于日志记录的 PHP 设计模式

> ID：14576654
> 
> 赞同：1
> 
> 时间：2013-01-29T06:06:06.610
> 
> 标签：php, design-patterns

我有一个类，它每次调用其中一个函数时都会将记录记录到文件中。

我想避免将日志记录代码包含到每个函数中。我不认为这是一个好的编码习惯。

```
class Foo {
   function foo1() {
       file_put_contents("log","Foo1 has been called");
       // do something
   }
   function foo2() {
       file_put_contents("log","Foo2 has been called");
       // do something
   }
   function foo3() {
       file_put_contents("log","Foo3 has been called";
       // do something
   }
} 
```

我想从每个函数中取出 file_put_contents() 但仍然在调用函数时写入日志！。有没有设计模式可以做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T06:29:21.427

听起来您正在寻找[观察者模式](http://en.wikipedia.org/wiki/Observer_pattern)。

这是一篇博客文章，其中包含一个在概念上足够相似的示例来解决您的问题 [http://labelmedia.co.uk/blog/posts/php-design-patterns-observer-pattern.html](http://labelmedia.co.uk/blog/posts/php-design-patterns-observer-pattern.html)

# javascript - 在 drupal 块中自定义 window.print()

> ID：14576655
> 
> 赞同：3
> 
> 时间：2013-01-29T06:06:14.420
> 
> 标签：javascript, drupal-7

我使用了一个块来添加打印页面的选项。块的内容是 `<a onclick='window.print();' style='cursor:pointer'>Print this page</a>`

它工作正常，但我需要自定义要打印的内容。如何做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T06:19:18.163

您可以使用特定于媒体的 CSS 自定义打印的内容以及打印内容的外观：

```
<style type="text/css" media="print">
h1 { text-align: center }
</style> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:14:07.107

不幸的是，您不能自定义 window.print()。它将打印聚焦窗口。如果您需要自定义打印区域，则应在单独的窗口中添加要打印的元素。

欲了解更多信息，请访问[这里](http://drupaltroll.wordpress.com/2012/03/01/custom-print-function-using-javascript/)

# php - 如何在jquery中动态创建带有单选按钮的文本框

> ID：14576664
> 
> 赞同：1
> 
> 时间：2013-01-29T06:06:54.737
> 
> 标签：php, javascript, html, jquery-ui

当我单击按钮时，会使用文本框和单选按钮创建一个新行。但是在单击某一行中的单选按钮时，其他行的其他单选按钮将被取消选择。

但是即使单击其他单选按钮，我也希望保持单选按钮处于选中状态。

这是我的代码：

```
<html>
<head>   
    <title>Add More Elements</title>
    <script src="../practice/jquery.min.js"></script>
    <script>
        $(document).ready (function () {
            $('.btnAdd').click (function () {       
                $('.buttons').append('<div><input type="text" name="txt">M<input type="radio" id="m" name="gender">F<input type="radio" id="f" name="gender"><input type="checkbox" name="txt"><br></div>'); // end append

            }); // end click                

        }); // end ready
    </script>
</head>
<body>
    <p>This Is Create Textboxs Dinamically </p>
    <div class="buttons">
         <table><tr><td>Name:</td><td>Gender:</td><td>Choice:</td><td><input type="button" class="btnAdd" value="Click Me To Create TextBox"><br></td></tr>
       <tr> <td><input type="text" name="txt"></td><td>M<input type="radio" id="m" name="gender">F<input type="radio" id="f" name="gender"></td><td><input type="checkbox" name="txt"></td><td></td> </tr>
        </table>     
    </div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T06:09:03.500

如果在单击同一个单选按钮时无法取消选择单选按钮，您也可以使用复选框。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:13:51.883

如果单选按钮具有相同的名称，它们将相互取消选择。尝试为每组单选按钮分配不同的名称

```
M<input type="radio" id="m" name="gender[0]">
F<input type="radio" id="f" name="gender[0]">

M<input type="radio" id="m" name="gender[1]">
F<input type="radio" id="f" name="gender[1]"> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-29T06:13:55.093

你的收音机都是同名的。

您可以通过添加索引键将它们成对分组

```
 <input type='radio' name='grouping[1]' />
 <input type='radio' name='grouping[1]' />
 <input type='radio' name='grouping[2]' />
 <input type='radio' name='grouping[2]' /> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-29T06:14:03.207

您为单选按钮提供了相同的名称，虽然它们的 id 是唯一的，但它们具有相同的名称，所以要么使用不同的名称，要么使用复选框

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-29T06:14:35.583

您正在附加具有相同 name 和 ids 的单选按钮和输入文本`id="m"`。在一个页面中的控件不能有相同的 id。尝试为它们分配不同的 2 个 ID。

```
var count=0;
 $(document).ready (function () {
            $('.btnAdd').click (function () {  
count++;     
                $('.buttons').append('<div><input type="text" name="txt">M<input type="radio" id="m"+count+" name="gender">F<input type="radio" id="f" name="gender"><input type="checkbox" name="txt"><br></div>'); // end append

            }); // end click                

        }); // end ready 
```

在 ID 中使用计数。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-29T06:15:45.497

因为您所有的单选按钮都具有相同的名称属性，所以它们都属于同一组。您必须通过给每个组一个唯一的 id 来使每个组唯一，例如通过一个流水号识别行本身...

HTML：

```
</head>
<body>
    <p>This Is Create Textboxs Dinamically </p>
    <div class="buttons">
         <table><tr><td>Name:</td><td>Gender:</td><td>Choice:</td><td><input type="button" class="btnAdd" value="Click Me To Create TextBox"><br></td></tr>
       <tr> <td><input type="text" name="txt"></td><td>M<input type="radio" id="m" name="gender">F<input type="radio" id="f" name="gender"></td><td><input type="checkbox" name="txt"></td><td></td> </tr>
        </table>

    </div>
</body> 
```

JS：

```
$(document).ready(function () {
    var rowCount = 0;
    $('.btnAdd').click(function () {
        $('.buttons').append('<div id="row"' + rowCount + '><input type="text" name="txt">M<input type="radio" id="m" name="genderForRow"' + rowCount + '>F<input type="radio" id="f" name="genderForRow"' + rowCount + '><input type="checkbox" name="txt"><br></div>'); // end append
        rowCount++;
    }); // end click                

}); // end ready 
```

在此处查看小提琴[链接...](http://jsfiddle.net/)

# servicestack - 如何从字符串“/rockstars/delete/10000”调用正确的ServiceStack服务

> ID：14576666
> 
> 赞同：1
> 
> 时间：2013-01-29T06:07:06.957
> 
> 标签：servicestack

我从数据库中读取了一个类似“/rockstars/delete/10000”的字符串，我应该如何执行它？结果很无趣，如果一个服务想要保存一些东西，它会作为服务的一部分来做，或者触发新的服务。

null in 的任何特殊原因

```
this.ServiceController.Execute(requestdto, null); 
```

不允许，最小的 IRequestContext 是多少？

# python - Calling a URL from another site to a site developed in Django

> ID：14576668
> 
> 赞同：1
> 
> 时间：2013-01-29T06:07:16.613
> 
> 标签：python, django

I have a requirement to display a particular page in a website that is developed in Python/Django from another website. If the user is logged into the python/Django site then display the requested page. Currently i'm using the '**request.user.is_authenticated()**' method to check whether the user is logged in or not . If the user hasn't logged in then should redirect to the /login page and once the user has entered his login credentials correctly redirect to the particular requested page.

The problem is if the user is not logged in then should redirect to login page. In this case the URL gets changed . We need to redirect back to the previous URL once the user is logged in. How can i achieve this? The URL 'm calling is not a static URL. The parameters in the URL changes. I'm searching for some built in methods in Django to achieve this..

Does some have a better idea to solve this.

Thanks in advance.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T06:13:44.757

The default implementation of `login_required` accepts a `next` parameter which will cause the user to redirect to that URL after successful login.

[https://docs.djangoproject.com/en/dev/topics/auth/default/#the-login-required-decorator](https://docs.djangoproject.com/en/dev/topics/auth/default/#the-login-required-decorator)

But of course you can recreate this functionality with a few lines.. in your login view, check for the presence of a `get` parameter called `next` or `redirect_url`, then redirect to it upon successful login.

The view sending the user to the login page should simply append ``'?next=%s' % request.path`

Simple as that.

# php - 使用 jquery ajax 将 php 页面页面输出加载到 html div

> ID：14576671
> 
> 赞同：1
> 
> 时间：2013-01-29T06:07:26.487
> 
> 标签：php, ajax, jquery

我想将php页面的输出呈现到html div中。这意味着在php页面中有很多jquery东西。假设我使用当前的jquery ajax来加载一个php页面。它错过了加载jquery文档准备好的东西。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-29T06:13:30.370

如果您想使用 jquery 和 ajax 将 php 页面的输出放到 html 页面中。你可以这样做。

```
$(document).ready(function(){
    $("#div1").load("demo_test.php");
}); 
```

div1 是要使用 php 内容更新的 div。此链接可能会对您有所帮助。

[http://www.w3schools.com/jquery/jquery_ajax_intro.asp](http://www.w3schools.com/jquery/jquery_ajax_intro.asp)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:15:22.347

这是一个简短的例子。[jQuery API 文档](http://api.jquery.com/jQuery.ajax/)

**html**

```
 <div id="content"></div>
 <input type="button" id="btnLoad" value="Load" /> 
```

**jQuery**

```
$("#btnLoad").click(function(){

    $.ajax({
        type: 'POST',
        url: 'page1.php',
        success: function(data){
                 if(data != null) $("#content").text(data)
         }
     });
}); 
```

**page1.php**

```
<?php

  echo "This is the sample data to be printed for request from AJAX";

 ?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-29T06:17:18.793

你可以使用ajax`observe`方法

**[cakephp ajax 助手](http://www.cakephp.4uk.pl/)**

```
<?php echo $form->create( 'Post' ); ?>
<?php $titles = array( 1 => 'Tom', 2 => 'Dick', 3 => 'Harry' ); ?>  
<?php echo $form->input( 'title', array( 'options' => $titles ) ) ?>
<label for="something">This checkbox will be send (and it will trigger Ajax reqest)  </label>
<input id="something" type="checkbox" name='data[Post][something]' value='1' />
</form>

<?php
echo $ajax->observeForm( 'PostAddForm', 
    array(
        'url' => array( 'action' => 'edit' ),
        'complete' => 'alert(request.responseText)'
    ) 
); ?> 
```

# jquery - 使用 jquery validate 插件进行多字段验证

> ID：14576676
> 
> 赞同：0
> 
> 时间：2013-01-29T06:08:06.760
> 
> 标签：jquery, jquery-validate

我有两个输入复选框，如下所示：

```
<input type="checkbox" value="1" name="items[test1]" id="items_test1">
<input type="checkbox" value="1" name="items[test2]" id="items_test2"> 
```

我希望至少检查其中一个。为此，我添加了 jquery validate 插件代码，如下所示：

```
 $.validator.addMethod("checkTest", function(value) {
    return false; // return false just to check whether it triggers error
}, 'Please check atleast one');

 $(document).ready(function() {
     $("form").validate({
         groups: {
            checkTest: 'items[test1] items[test2]'
         },
         errorPlacement: function(error, element) {
              console.log(error);
     });
 }); 
```

永远不会触发此检查。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T07:55:59.743

我知道您想使用 validate 插件来执行此操作，但是以防万一您想手动进行，则可以使用此方法。

**HTML**

```
<form>
    Checkbox 1: <input type="checkbox" value="1" name="items[test1]" id="items_test1">
    <br>
    Checkbox 2: <input type="checkbox" value="1" name="items[test2]" id="items_test2">

    <br>
    <input type='submit' value='Submit' />
</form> 
```

**JS**

```
$(document).ready(function() {
    $(document).on('submit', 'form', function() {
        if($('#items_test1').is(':checked') || $('#items_test2').is(':checked')) {
             alert('done. valid form submission.');   
        } else {
             alert('invalid form submission, check atleast one checkbox.');   
        }
        return false; 
    });
}) 
```

您可以在[此处的 jsfiddle](http://jsfiddle.net/5CBqH/1/)上找到它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T08:08:42.143

您已设置组，但尚未在复选框中添加任何验证规则。我会使用插件附加方法文件中的 require_from_group 方法。在准备好的文件中：

```
// add a class to the checkboxes in the group, here I have added to all
$('[type=checkbox]').addClass('test_checkboxes');

// set up a rule for the class
$.validator.addClassRules("test_checkboxes", {
    require_from_group: [1, ".test_checkboxes"]
});

$("form").validate({
    groups: {
        checkTest: 'items[test1] items[test2]'
    }
}); 
```

[在这里摆弄](http://jsfiddle.net/k75Za/1/)

# ruby-on-rails - 如何在 Rails 3 中更新表中的多个条目

> ID：14576680
> 
> 赞同：1
> 
> 时间：2013-01-29T06:08:42.740
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我有一个 Rails 应用程序试图在用户表中一次更新多个用户。我尝试提供多个用 ',' 分隔的 id，但失败并出现“无路由匹配”之类的错误，我创建了一个自定义方法“assign”，路由指定为，

```
"assign/:id" => "users#assign" , :via => [:put] 
```

我正在尝试通过 POSTMAN REST Client 进行更新。

我的 PUT 请求，

```
http://localhost:3000/assign/6,7,8    ---   PUT 
```

数据：

```
{
   "users":[
    {
       "trainerid":4
    },
    {
       "trainerid":5
    },
    {
       "trainerid":6
    }
    ]
} 
```

亩控制器

```
def assign
    @ids = params[:id].split(",")
    @users = params[:users]
    @ids.each_with_index do |i|
      @user = User.find(i)
      @user.updateattributes(@users[index])
    end
    render :json => { :status => :ok, :message => "User Updated Successfully"}.to_json 
end 
```

在这里，我试图`trainerid`在用户表中更新`id: 4 ,5 ,6`

是否可以通过其他方式更新。

任何帮助表示赞赏......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T06:36:44.223

为什么要将 ID 放在 URL 中？拆分字符串感觉不对。为什么不只是有一个更简单的路线，只是给用户/分配？然后在您的 JSON 中，您可以拥有：

```
{ "users":[
  { "id":6, "trainer_id":4 },
  { "id":7, "trainer_id":5 },
  { "id":8, "trainer_id":6 }
]} 
```

并这样处理它：

```
def assign
  params[:users].each do |hash|
    User.find(hash['id']).update_attributes hash
  end
end 
```

显然它需要错误处理等，但这是基本方法。请注意，[update_attributes 只会更新标记为 attr_accessible 的那些属性](http://apidock.com/rails/ActiveRecord/Base/update_attributes#185-Only-attr-accessible-attributes-will-be-updated)，因此您不必担心 ID 在哈希中的存在。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T06:38:59.107

我已经测试了你的路线，它没有给我一个路由错误。这是我所拥有的：

```
match "assign/:id" => "users#assign" , :via => [:put] 
```

使用此路由，将请求`assign/1,2,3`正确路由到`assign`控制器的操作。那时，您需要拆分`params[:id]`（就像您所做的那样）。

但是，您不需要使用实例变量，也不需要`each_with_index`：

```
def assign
  ids = params[:id].split(",")
  users = params[:users]
  ids.each do |i|
    user = User.find(i)
    user.update_attributes(users[index])
  end
  render :json => { :status => :ok, :message => "User Updated Successfully"}.to_json
end 
```

但是，我发布这个答案只是为了说这*可以*做到。不过老实说，我同意@micapam 的观点，即你真的不需要像这样拆分 id。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-29T06:24:50.963

路线

```
"assign/:id" => "users#assign" , :via => [:put] 
```

一次只能获取一个 id.. 你不能为这条路线传递多个 id..

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-29T06:56:18.153

更新路线以使用 edit_multiple 和 update_multiple 操作：

```
resources :users do
  get edit_multiple, :on => :collection
  post update_multiple, :on => :collection
end 
```

现在创建使用要更新的用户数据设置 @users 实例变量的 edit_multiple 操作：

```
def edit_multiple
  @users = User.all #get the users with specified criteria.
end 
```

在您的 edit_multiple.html.erb 中：

```
<%= form_tag :action => "update_multiple" do %>
  <% @users.each_with_index do |user, index| %>
    <%= fields_for "user[#{index}]", user do |f| %>
      <%= f.hidden_field :id, :value => user.id %>
      <div class="field">
        <%= f.label :name %><br />
        <%= f.text_field :name %>
      </div>
      <div class="field">
        <%= f.label :dob %><br />
        <%= f.date_select :dob %>
      </div>
    <% end %>
  <%end%> 
  <div class="actions">
    <%= submit_tag "submit" %>
  </div>
<% end %> 
```

在控制器中：

```
def update_multiple
  @users = {}
  error_count = 0

  params[:users].values.each do |user_params|
    user = User.find(user_params[:id])
    unless user.update_attributes(user_params)
      error_count += 1 #increment error count if fails to update
    end
    @users << user #add user to @users array to render the edit if fails
  end

  if error_count == 0
    redirect_to users_path, :notice => 'Users saved successfully'
  else
    render :edit_multiple #@users will play its role here
  end
end 
```

这可能不是最好的方法。希望这会有所帮助。您也可以使用 JSON 响应。

# ios - 我该如何更新？Xcode iOS

> ID：14576690
> 
> 赞同：-3
> 
> 时间：2013-01-29T06:09:31.410
> 
> 标签：ios, xcode

所以是的，我是新手，我需要一些帮助。我有 2 个文本字段，上面有文本，我希望在我的数据库中更新这 2 个字符串（用户名、密码）。我不知道如何问它，因为我不知道这东西是如何工作的。对 Xcode 来说是全新的。请理解。谢谢！顺便说一句，这是我的代码 atm。

```
@interface ViewController4 ()

@end

@implementation ViewController4

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {
        // Custom initialization
    }
    return self;
}

- (void)viewDidLoad
{
    self.lbName.text=self.strName;
    self.lbUser.text = self.strUsername;

    [self openDB];
    NSString *sql = [NSString stringWithFormat:@"SELECT username,password FROM SUMMARY8 WHERE name = '%s' and theuser = '%s'",[self.lbName.text UTF8String],[self.lbUser.text UTF8String]];

    sqlite3_stmt *statement;
    if (sqlite3_prepare(account, [sql UTF8String], -1, &statement, nil)==SQLITE_OK)
    {
        while (sqlite3_step(statement)==SQLITE_ROW){
        char *field1=(char *) sqlite3_column_text(statement, 0 );
        self.tbUsername.text=[[NSString alloc]initWithUTF8String:field1];
            char *field2=(char *) sqlite3_column_text(statement, 1 );
            self.tbPassword.text=[[NSString alloc]initWithUTF8String:field2];

    }
    }

    [super viewDidLoad];
    // Do any additional setup after loading the view.
}

-(void) openDB
{
    if (sqlite3_open([[self filePath] UTF8String], &account) !=SQLITE_OK){
        sqlite3_close(account);
        NSAssert(0,@"Database failed to open");

    }
    else
    {
        NSLog(@"database opened");
    }
}
-(NSString *) filePath {
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    return [[paths objectAtIndex:0]stringByAppendingPathComponent:@"account.sql"];
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

- (IBAction)btnEdit:(id)sender {
    self.btnEdit.enabled=NO;
    self.tbUsername.enabled=YES;
    self.tbPassword.enabled=YES;
    self.btnUpdate.hidden=FALSE;

}
- (IBAction)btnReturn:(id)sender {
   FlipsideViewController *FVC = [self.storyboard instantiateViewControllerWithIdentifier:@"FlipsideViewController"];
     FVC.modalTransitionStyle = UIModalTransitionStyleCrossDissolve;
    FVC.strUsername=self.strUsername;
    [self presentViewController:FVC animated:YES completion:nil];
}

- (IBAction)btnUpdate:(id)sender {

    [self openDB];
    NSString *sql = [NSString stringWithFormat:@"UPDATE SUMMARY8 SET username='1',password='2' WHERE name = '%s' and theuser = '%s'",[self.lbName.text UTF8String],[self.lbUser.text UTF8String]];
    sqlite3_stmt *statement;
    if (sqlite3_prepare(account, [sql UTF8String], -1, &statement, nil)==SQLITE_OK)
    {

    }

}

-(void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event
{
    [super touchesBegan:touches withEvent:event];
    [[self tbUsername]resignFirstResponder];
    [[self tbPassword]resignFirstResponder];

}
-(BOOL)textFieldShouldReturn:(UITextField *)textField
{
    return [textField resignFirstResponder];
}
@end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T10:44:52.963

这就是我要做的（相应地改变它）：

```
-(void)updateStatus:(NSString *)queryString {
    NSString    *docsDir;
    NSArray     *dirPaths;
    dirPaths    = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    docsDir     = [dirPaths objectAtIndex:0];

    strDatabasePath         = [NSString stringWithString:[docsDir stringByAppendingPathComponent:@"database.db"]];
    NSFileManager *filemgr  = [NSFileManager defaultManager];

    if ([filemgr fileExistsAtPath: strDatabasePath] == YES)
    {
        const char *dbpath = [strDatabasePath UTF8String];
        if (sqlite3_open(dbpath, &sqlDatabase) == SQLITE_OK)
        {
            const char* beginString = "BEGIN;";
            sqlite3_stmt *compiledstatement;
            sqlite3_prepare_v2(sqlDatabase, beginString, -1, &compiledstatement, NULL);
            if (sqlite3_step(compiledstatement) == SQLITE_DONE) {}
            else DLog(@"Failed!");
            sqlite3_finalize(compiledstatement);

            DLog(@"QUERY : %@",queryString);

            const char *selectStatement = [queryString UTF8String];

            sqlite3_prepare_v2(sqlDatabase, selectStatement, -1, &compiledstatement, NULL);
            //sqlite3_bind_text(compiledstatement,1,[statusString UTF8String],-1,SQLITE_TRANSIENT);

            if (sqlite3_step(compiledstatement) == SQLITE_DONE) {}
            else DLog(@"Failed!");
            sqlite3_finalize(compiledstatement);

            const char* endString="END;";
            sqlite3_prepare_v2(sqlDatabase, endString, -1, &compiledstatement, NULL);
            if (sqlite3_step(compiledstatement) == SQLITE_DONE) {}
            else DLog(@"Failed!");
            sqlite3_finalize(compiledstatement);

            sqlite3_close(sqlDatabase);
        }
        else DLog(@"Failed to open table");
    }
}

NSString *queryString;
queryString = [NSString stringWithFormat: @"UPDATE SUMMARY8 SET username='1',password='2' WHERE name = '%s' and theuser = '%s'",[self.lbName.text UTF8String],[self.lbUser.text UTF8String]];
[self updateStatus:queryString]; 
```

我希望你明白.. 将查询字符串（更新 sql 语句）传递给将接触数据库进行更新的函数。下次，您有相同的更新语句，只需创建 queryString 并将其传递给函数。

# c++ - 链表 C++ Seg 错误

> ID：14576694
> 
> 赞同：3
> 
> 时间：2013-01-29T06:10:36.893
> 
> 标签：c++, linked-list

我正在尝试从头开始制作一个由另一个类使用的简单链表。错误似乎是有时 Head 未设置为 NULL。我有时会说，它不会一直出现故障。它没有段错误的时间，它转到 else 语句。注意我只添加了 1 个字符串。也许你们可以发现我没有看到的东西，干杯！

链表.h：

```
#include <string>
#include "Link.h"

using namespace std;

class LinkedList {
  Link *head;

public:
  LinkedList();
  void addFront(string key);
  void printList();
  //void addBack(string *);     

}; 
```

链表.cpp：

```
#include <cstring>
#include <string>
#include <iostream>
#include <cstdlib>
#include <cstdio>
#include "LinkedList.h"

using namespace std;

LinkedList::LinkedList() {
   head = NULL;
}

void LinkedList::addFront(string key) {
  //creates the new list segment                                                
  Link *l = new Link(key);

  cout << "Made new Link " << key << endl;
  // if the list is empty                                                 
  if (head == NULL){
    cout << "Going to set Head " << key << endl;
    head = l;
    cout << "Set Head to new link " << key << endl;
 }                                            
  else {             
     cout << "Else statement " << key << endl;                  
    l->setNext(head);

    head = l;
  }

}

void LinkedList::printList() {
 //Check if list is empty
  if(head == NULL)
   cout << "NULL" << endl;
  else {
   Link *l = head; 

   for(;l != NULL; l=l->getNext())
     cout << l->getValue() << endl;
  }

}

// void LinkedList::addBack(string *f) {
//   Link *l = new Link(f);

// } 
```

链接.h

```
#include <cstdlib>
#include <cstring>
#include <string>

using namespace std;

class Link {
string key;
Link *next;

public:
    Link(string key);

    void setValue(char);
    void setNext(Link *next);
    string getValue();
    Link *getNext();
    void printList();

}; 
```

链接.cpp

```
#include <cstdlib>
#include <string>
#include <iostream>
#include "Link.h"

using namespace std;

Link::Link(string key) {
    this->key = key;
next = NULL;

}

void Link::setNext(Link *l) {
cout << "setting new link "<<endl;
next = l;

cout<< "New link was set" << endl;
}

string Link::getValue() {
return key;

}

Link *Link::getNext() {
return next;
} 
```

哈希.h

```
#include <iostream>
#include <cstring>
#include <string>
#include "LinkedList.h"

using namespace std;

class Hash{
    //100 slot array for hash function
    LinkedList *hashFN[100];

    //preset prime number                                                               
  int prime = 101;
    int key;
  unsigned int location;

public:
    //Note: Both the key & values are the same 
    void insert(string key, string value);
    // void deleteItem(int key);
    // char* find(int key);

}; 
```

哈希.cpp：

```
#include <iostream>
#include <cstring>
#include <string>
#include "Hash.h"

using namespace std;

void Hash::insert(string k, string v){
    //Get Hash for argv[2] aka value                                                  
  size_t key = std::hash<string>()(k);
   unsigned int location;

//check 1                                                                         
  cout << "Hash: " << key << endl;

  //Find location
  location = key % prime;

  //check 2                                                                         
  cout << "Mod 101 Hash: " << location << endl;

    hashFN[location]->addFront(k);
    cout << "Success!" << endl;

}

// void Hash::deleteItem(int key){
//  return;

// }

// char* Hash::find(int key){
//  return;

// } 
```

主文件

```
#include <iostream>
#include <functional>
#include <string>
#include <cstring>
#include <cstdlib>
#include <cstdio>
#include "Hash.h"                                                                   

using namespace std;

int main(int argc, char *argv[]) {

  Hash HashTable;                                                                   

  string Insert = string("insert");
  string Delete = string("delete");
  string Find   = string("find");
  string Argv(argv[2]);  //Makes the argv[2] into string type

  // check for Request & string parameters                                            
  if(argc != 3) {
    cout << "Run program with 2 parameters. [Lower Case]" << endl;
    cout << "[1] insert, find, or delete" << endl;
    cout << "[2] string" << endl;
    exit(1);
  }

  //Check for "insert"                                                                
  if(strcmp(argv[1], "insert") == 0) {

  HashTable.insert(Argv, Argv);                                                

  }

  return 0;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T06:43:40.883

您的直接问题：哈希表中的链表数组是*指针数组*。声明为：

```
LinkedList *hashFN[100]; 
```

您似乎从未*分配*任何这些对象。所以你只有一个包含 100 个指向垃圾的不确定指针的指针数组。要么分配它们，要么更好的是，直接实例化它们：

```
LinkedList hashFn[100]; 
```

这将要求您更改对它们的引用，例如

```
hashFN[location]->addFront(k); 
```

变成这样：

```
hashFN[location].addFront(k); 
```

接下来，您将使用非常量成员变量`prime`作为散列函数的模数。由于这是硬编码为`101`，因此您的表需要具有相同的大小。（事实上​​，我会完全丢失成员变量，而在你的 Hash.cpp 文件中只是一个静态常量）。但除此之外，问题仍然存在。你的桌子太小了一个槽。您的模数可以来自`0..100`，这意味着您需要一个`[101]`大小的表来处理所有这些插槽。请记住，C/C++ 中`[0...(n-1)]`的数组是针对大小数组寻址的`n`

所以至少像这样声明你的表：

```
LinkedList hashFN[101]; 
```

我要发布的最后一件事。你的链表像泰坦尼克号一样泄露。当列表被销毁时，您需要清理所有这些节点。在你的类中声明一个析构函数：

```
virtual ~LinkedList(); 
```

并在您的 .cpp 文件中像这样实现它：

```
LinkedList::LinkedList()
{
    while (head)
    {
        Link *victim = head;
        head = head->getNext();
        delete victim;
    }
} 
```

好的。我撒了谎。还有一件事，在您能够轻松阅读*和*理解[三法则之前](http://en.wikipedia.org/wiki/Rule_of_three_%28C++_programming%29)，您应该使您的课程不可复制。将以下内容放在 LinkedList 类声明的私有部分中：

```
class LinkedList
{
   ... other code...

private:
    LinkedList(const LinkedList&);
    LinkedList& operator =(const LinkedList&);
}; 
```

*这将隐藏可能导致您出现重大*问题的事情，直到您准备好正确实施它们。如果您发现自己出现“无法访问私有成员`LinkedList(const LinkedList&)`”的“错误”，那么您正在尝试制作副本，并且没有适当保护您的头指针，那就是不行。**阅读三法则**。

剩下的交给你。

`std::vector<>`注意：使用标准库（ 、等）有很多方法可以更轻松地完成这些工作`std::unordered_map<>`。事实上，它是***所有这些的***`std::unordered_map<>`替代品。但是，如果您只是对使用该语言再次熟悉该语言感兴趣，那么深入了解一下裸机也不错。只需专注于重新学习，然后学习使用*标准库必须提供的**所有****漂亮代码。***

# java - 在数组列表中查找一系列相似元素

> ID：14576702
> 
> 赞同：-1
> 
> 时间：2013-01-29T06:10:52.223
> 
> 标签：java

我有一个整数类型的数组列表。该列表包含一些值。
在某些时候，列表将连续包含相似的值（3 个值）。
我需要找到 3 个相似元素出现的位置。

例如：

```
ArrayList<Integer> int_values=new ArrayList<Integer>();
int_values.add(10);
int_values.add(20);
int_values.add(30);
int_values.add(10);
int_values.add(10);
int_values.add(10); 
```

从位置 3 到 5 可以看出，存在相似的值。
所以我需要检索位置 5。
这一系列类似的元素重复只会出现一次。

我希望我能够解释这个场景。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T06:34:29.193

您可以执行以下操作，

```
public static List<Integer> findConsequtive3(ArrayList<Integer> int_values) {

        Integer[] arrayItems = (Integer[]) int_values.toArray(new Integer[0]);

        List<Integer> consequetive = new ArrayList<Integer>();
        int count = 1;
        for (int i = 1; i < arrayItems.length; i++) {
            if (arrayItems[i - 1] == arrayItems[i]) {
                count++;
                if (count == 3) {
                    consequetive.add(i + 1); // Since array is zero indexed adding 1
                    count = 0; // resetting count
                }
            }
        }
        return consequetive;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:25:38.440

```
public static void main(String[] args) {
    ArrayList<Integer> int_values = new ArrayList<Integer>();
    int_values.add(10);
    int_values.add(20);
    int_values.add(30);
    int_values.add(10);
    int_values.add(10);
    int_values.add(10);
    int count = 0;
    for (int i = 0; i < int_values.size() - 2; i++) {
        if (int_values.get(i) == int_values.get(i + 1))
            if (int_values.get(i + 1) == int_values.get(i + 2))
                System.out.println(i+2);
    }
} 
```

# hadoop - Hadoop MapReduce 输入键错误

> ID：14576703
> 
> 赞同：0
> 
> 时间：2013-01-29T06:11:01.120
> 
> 标签：hadoop

我想传递一个浮点数组作为映射器中的键，

```
Such as [0.6, 0, 10] 
```

我使用 StringUtils.join 将其转换为字符串，然后编写

```
context.write(new Text(str), value); 
```

但是在减速器类中，我发现我得到的是：

```
"0 0 1" 
```

如何解决？我正在使用 hadoop 1.0.4

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-20T04:00:26.720

您可以使用 . 发出浮点数组`ArrayWritable`。我不确定将数组作为键发出，下面是您如何发出与值相同的值。

```
ArrayWritable does not implement WritableComparable, so it can't currently
be used as a mapper output key - those keys have to be sorted during the
shuffle, and thus the type must be WritableComparable. 
```

通常我们使用自定义的 Writable Comparable Class 来发射键。

为此，您应该在驱动程序类 public class Driver {

```
public static class DoubleArrayWritable extends ArrayWritable {
    public DoubleArrayWritable() {
        super(DoubleWritable.class);
    }
}

public static void main(String[] args) { 
```

在映射器中

```
DoubleArrayWritable pointArray = new DoubleArrayWritable();
DoubleWritable[] data = new DoubleWritable[numAttributes];
for (int k = 0; k < numAttributes; k++) {
    data[k] = new DoubleWritable(point[k]);
}
pointArray.set(data);
context.write(new Text("Array"), pointArray); 
```

希望这在某些方面有所帮助。

# php - Mysql：如何在不同的变量中获取数据库数据

> ID：14576706
> 
> 赞同：0
> 
> 时间：2013-01-29T06:11:30.393
> 
> 标签：php, mysql

```
<?php
  $sql=mysql_query("SELECT description FROM `tbl_news` where `flag`=1 and `show_at`='notice_board'");
  if(mysql_num_rows($sql)>0)
  {
   $i=1;
   while($row=mysql_fetch_array($sql))
   {
?>
    <br/>
    <img src="images1/left_nav_symbol.png" alt="" /> &nbsp;&nbsp;&nbsp;
    <font color="#000000">
    <?php echo $row['description'];?> <img src="images1/new1.GIF" alt=""/>
    </font>
    <?php
    $i=$i+1;    
   }    
 }
 else
 { 
   echo "No records found.";
 } 
```

这是我的代码。我想`description`通过最新值获取列的值，通过突出显示或设置新的按钮图像来显示它。有什么解决办法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:43:31.147

对于最新值，您可以使用`MAX`

```
MAX(description) in select query 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:45:05.273

该表应该有一个`auto_increment`ID 或一个日期时间字段（可能具有默认值`NOW()`），指示插入行的时间。

使用此字段，您可以对查询结果进行排序，例如：

```
SELECT description FROM `tbl_news` where `flag`=1 and `show_at`='notice_board' ORDER BY `stored_at` DESC 
```

# android - Android 中的 Ping 应用程序

> ID：14576710
> 
> 赞同：12
> 
> 时间：2013-01-29T06:11:48.953
> 
> 标签：android, ping

我正在制作一个应用程序，它将实现“ping”命令的某些功能。问题是，我不知道在 ANDROID 中使用哪个库/库。有人知道吗？

我已经访问了这些 stackoverflow 链接，但它们不是很有帮助。

*   [有没有办法让 android 设备回答寻址到广播地址的 icmp ping？](https://stackoverflow.com/questions/13219522/is-there-a-way-to-make-an-android-device-answer-to-icmp-pings-addressed-to-the-b)
*   [https://stackoverflow.com/questions/5601513/problem-to-do-ping-with-android](https://stackoverflow.com/questions/5601513/problem-to-do-ping-with-android)
*   [Android 调试 InetAddress.isReachable](https://stackoverflow.com/questions/2935325/android-debugging-inetaddress-isreachable/2935468#2935468)
*   [如何在android上进行icmp ping](https://stackoverflow.com/questions/7451200/how-to-icmp-ping-on-android)
*   [如何从 Java Android ping 外部 IP](https://stackoverflow.com/questions/3905358/how-to-ping-external-ip-from-java-android)

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-01-29T06:18:30.137

我使用以下代码来ping。

```
public String ping(String url) {
    String str = "";
    try {
        Process process = Runtime.getRuntime().exec(
                "/system/bin/ping -c 8 " + url);
        BufferedReader reader = new BufferedReader(new InputStreamReader(
                process.getInputStream()));
        int i;
        char[] buffer = new char[4096];
        StringBuffer output = new StringBuffer();
        while ((i = reader.read(buffer)) > 0)
            output.append(buffer, 0, i);
        reader.close();

        // body.append(output.toString()+"\n");
        str = output.toString();
        // Log.d(TAG, str);
    } catch (IOException e) {
        // body.append("Error\n");
        e.printStackTrace();
    }
    return str;
} 
```

在 url 中，您需要传递要 ping 的地址。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2016-05-26T09:13:16.653

Thank you for researching the issue. The questions you've linked to (and many others on SO) all lead to the solutions of using either the system's ping executable or trying the dubious [InetAddress.isReachable](https://developer.android.com/reference/java/net/InetAddress.html) method. **There is, however, a third alternative - if you're willing to add a little native code**.

I have recently implemented ICMP Echo (ping) functionality for an Android VPN application. I couldn't use the system "ping" executable as the ICMP packets it sends were caught by my VPN, and at any rate I wanted to be able to forward ICMP packets from my network to the outside world and receive the replies.

The InetAddress.isReachable method didn't work for me at all (always returned false), as has been discussed thoroughly in SO, e.g. [here](https://stackoverflow.com/questions/9922543/why-does-inetaddress-isreachable-return-false-when-i-can-ping-the-ip-address) and [here](https://stackoverflow.com/questions/2935325/android-debugging-inetaddress-isreachable).

The solution I arrived at is using native code to create an ICMP socket, which I used to send and receive [ICMP packets](https://en.wikipedia.org/wiki/Internet_Control_Message_Protocol) (Echo requests and replies for "[ping](https://en.wikipedia.org/wiki/Ping_(networking_utility))"). The Linux kernel supports (since 2011) the creation of [ICMP sockets without any special privileges](http://lwn.net/Articles/443051/). A new ICMP socket is created as a Datagram socket with the protocol PROT_ICMP. A good implementation example in C can be seen in [this answer](https://stackoverflow.com/a/20105379/4154731).

The ICMP socket functionality has been [ported to Android](https://android-review.googlesource.com/#/c/52090/) as well, and even used in the ["ping" program](https://android-review.googlesource.com/#/c/52072/). In fact it has been suggested that it can be used to [fix the implementation of InetAddress.isReachable()](https://code.google.com/p/android/issues/detail?id=20106).

Java API does not support this functionality, but using native code it is possible to open ICMP sockets. I used [JNA](https://github.com/java-native-access/jna) to access the libC functions I needed (socket(), close(), sendto(), recvfrom(), poll(), etc.). I suppose JNI would work just as well.

To get around the VPN limitation, the socket file descriptor needs to be protected using [VpnService.protect(int)](https://developer.android.com/reference/android/net/VpnService.html#protect(int)).

There are a couple of caveats, as explained in the [LWN article](http://lwn.net/Articles/443051/):

*   Remember to verify that your system allows ICMP sockets, by reading (and possibly setting) the contents of "/proc/sys/net/ipv4/ping_group_range".
*   The kernel modifies the "identifier" field in the ICMP header, you will have to reset it (and recompute the checksum) if you intend to forward the reply packet to the original requester.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2019-01-20T20:52:35.843

I implemented "ping" in pure Android Java and hosted it on gitlab. It's has a couple useful features like being able to bind to a given Network.

[https://github.com/dburckh/AndroidPing](https://github.com/dburckh/AndroidPing)

# php - magento 在每个页面中显示一个滑块

> ID：14576712
> 
> 赞同：0
> 
> 时间：2013-01-29T06:11:56.830
> 
> 标签：php, jquery, magento-1.7

我只是[magento](http://www.magentocommerce.com/)的新手。我想在主页上有一个[滑块，所以我刚刚下载了滑块文件。](http://beacon9.ca/labs/jquery-banner-rotator-script)然后我制作了一个名为`slide-banner.phtml`under的文件`/app/design/frontend/themename/default/template/cms`。然后在那个文件中我的代码是这样的

```
<script  src="<?php echo $this->getSkinUrl('js/bannerRotator.js');?>"></script>
<script  src="<?php echo $this->getSkinUrl('js/jquery-1.4.4.min.js');?>"></script>
<script language="javascript">
  jQuery(document).ready(function(){
    bannerRotator('#bannerRotator', 500, 5000, true);
  });
</script>
<div id="bannerRotator">
  <?php echo $this->getLayout()->createBlock('cms/block')->setBlockId('homepageslider')->toHtml(); ?>
</div> 
```

之后，我只是在 cms 下的管理仪表板中创建了一个静态块，并将其命名为`homepageslider`. 在那个静态块中，我刚刚上传了图像，之后我的标记代码是这样的

```
<ul>
<li><a href="#"><img src="{{media url="wysiwyg/15a.jpg"}}" alt="" /></a></li>
<li><a href="#"><img src="{{media url="wysiwyg/11a.jpg"}}" alt="" /></a></li>
<li><a href="#"><img src="{{media url="wysiwyg/12a.jpg"}}" alt="" /></a></li>
</ul> 
```

在那之后，`admin cms>pages>home>content`我将文件称为 `{{block type="core/template" name="b-name" template="cms/slide-banner.phtml"}}` 现在，它可以很好地显示所有 jQuery 工作的横幅图像。现在我想要相同的 jQuery 滑块`product page, checkout page, account page`。那么有人可以告诉我该怎么做吗？如何在每个页面中使用该滑块？任何帮助和建议都将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T07:18:49.450

您可以从后端创建一个小部件并在那里添加静态块并定义您希望它显示的页面。

或者

您可以直接转到相关的 .phtml 文件并在那里添加您的代码。

例如。添加购物车.phtml：

```
<script  src="<?php echo $this->getSkinUrl('js/bannerRotator.js');?>"></script>
<script  src="<?php echo $this->getSkinUrl('js/jquery-1.4.4.min.js');?>"></script>
<script language="javascript">
  jQuery(document).ready(function(){
    bannerRotator('#bannerRotator', 500, 5000, true);
  });
</script>
<div id="bannerRotator">
  <?php echo $this->getLayout()->createBlock('cms/block')->setBlockId('homepageslider')->toHtml(); ?>
</div> 
```

或者

`relevant .xml`您可以在他们的文件中添加静态块。

# embedded - Cortex-a8 上的 NEON 有多少个功能单元？

> ID：14576713
> 
> 赞同：-2
> 
> 时间：2013-01-29T06:11:59.270
> 
> 标签：embedded, arm, simd, neon, cortex-a8

我的问题是 ARM cortex-a8 上的 NEON 单元有多少和所有功能单元？如果我没看错的话，TRM 并没有明确说明 ARM cortex-a8 的 NEON 内核上的功能单元数量。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-29T07:35:13.663

希望下面来自[Cortex-A8 描述性论文](http://www.arm.com/files/pdf/A8_Paper.pdf)（第 6.2 节）的图片可以帮助您

![Cortex A8 NEON 流水线](../Images/a57ec2d1faa1f4495a88d83b5d943b70.png)

# visual-c++ - 什么相当于 VC++ 汇编中的 gcc inline assembler.byte 指令？

> ID：14576716
> 
> 赞同：0
> 
> 时间：2013-01-29T06:12:47.560
> 
> 标签：visual-c++, gcc, assembly

在 gcc 内联汇编中，我可以指定纯字节

。字节

指示。例如

```
.byte 0xcc, 0xcc, 0xcc 
```

像这样。

VC++ 2010 内联汇编（英特尔风格）中的等价物是什么？以下代码给了我错误，字节是保留关键字或其他东西......

```
int _tmain(int argc, char ∗argv[])
{
    _asm{
        .byte 0xcc, 0xcc, 0xcc;
    }

    return EXIT_SUCCESS;
} 
```

先感谢您！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T07:17:26.783

您不能在 MSVC 中使用内联 asm 输出数据流。

但是，如果您只想将一些特定字节输出到您的汇编代码中，则可以使用`_emit`关键字。

```
_asm {
    _emit 0xcc
    _emit 0xcc
    _emit 0xcc
} 
```

# javascript - 是否可以中止数据类型为 json 的 jquery $.ajax 请求？

> ID：14576718
> 
> 赞同：1
> 
> 时间：2013-01-29T06:13:02.107
> 
> 标签：javascript, jquery, ajax

我想在窗口事件上取消数据类型为 json 的 jquery`$.ajax`调用请求。`unload`我试过这样做，它`xhr.abort();`在线抛出错误。

```
var xhr = $.ajax({         
    type: "POST",
    url: serviceUrl,
    dataType: "text json",
    data: ajaxParameters,
    async: true,
    contentType: "application/json; charset=utf-8",
    error: function(request, status, error) {
    },
    complete: function(e, xhr, settings) {                      
    }
});

$(window).onunload = function(){
    xhr.abort();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:27:21.093

试试这个...

```
// Global variable
var xhr;

xhr = $.ajax({         
    type: "POST",
    url: serviceUrl,
    dataType: "text json",
    data: ajaxParameters,
    async: true,
    contentType: "application/json; charset=utf-8",
    error: function(request, status, error) {
    },
    complete: function(e, xhr, settings) {                      
    }
});

$('body').on('beforeunload',function(){
    xhr.abort();
} 
```

# android - 将 hashmap 放入 arraylist

> ID：14576723
> 
> 赞同：1
> 
> 时间：2013-01-29T06:13:32.803
> 
> 标签：android, string, arraylist, textview, hashmap

我是安卓新手。。

如何将哈希图值转换为 ArrayList .. 我的问题是...现在我有一个哈希图，其中包含我的所有数据（问题 ID、问题、带有多个选项的答案）。

现在我想要做的是...我需要在文本视图中显示问题，并根据 questionid 在单选按钮中显示答案，并且我有下一个按钮，用于根据 questionid 显示下一个问题和答案。

所以同时我点击下一个按钮我应该增加问题ID并显示问题和答案，与上一个按钮相同......请帮助我。我是android新手..提前非常感谢...

> 哈希图

```
 String questionid = c.getString(TAG_QUESID);
          String question = c.getString(TAG_QUES);
          String answer = c.getString(TAG_ANSW);
          HashMap<String, String> map = new HashMap<String, String>();
          map.put(TAG_QUESID, questionid);
          map.put(TAG_QUES, question);
          map.put(TAG_ANSW, answer);
          System.out.println("QuestionIDMap:"+map); 
```

> 布局

```
 <TextView
    android:id="@+id/que_txt"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_alignParentTop="true"
    android:layout_marginLeft="59dp"
    android:layout_marginTop="36dp"
    android:text="TextView" />

 <RadioGroup
     android:id="@+id/rdgroup"
     android:layout_width="fill_parent"
     android:layout_height="wrap_content"
     android:layout_alignParentLeft="true"
     android:layout_below="@+id/que_txt"
     android:layout_marginTop="38dp"
     android:orientation="vertical" >

     <RadioButton android:id="@+id/RB1" android:text="button1"/>

     <RadioButton android:id="@+id/RB2" android:text="button2"/>

     <RadioButton android:id="@+id/RB3" android:text="button3"/>

     <RadioButton android:id="@+id/RB4" android:text="button4"/>
 </RadioGroup>

 <TextView
     android:id="@+id/rdtxt"
     android:layout_width="fill_parent"
     android:layout_height="wrap_content"
     android:layout_below="@+id/rdgroup"
     android:layout_marginTop="38dp"
     android:text="Answer: Nothing is picked">

 </TextView>

 <Button
     android:id="@+id/prv_btn"
     android:layout_width="wrap_content"
     android:layout_height="wrap_content"
     android:layout_alignBottom="@+id/nxt_btn"
     android:layout_alignParentLeft="true"
     android:layout_marginLeft="18dp"
     android:text="Previous" />

 <Button
     android:id="@+id/nxt_btn"
     android:layout_width="wrap_content"
     android:layout_height="wrap_content"
     android:layout_alignParentRight="true"
     android:layout_below="@+id/rdtxt"
     android:layout_marginRight="50dp"
     android:layout_marginTop="34dp"
     android:text="Next" /> 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-01-29T07:21:26.513

我担心您的示例可能有点复杂，无法立即获得答案。此外，如果我正确理解了您的问题，我个人认为您的设计存在缺陷。让我们从个别问题和简单答案开始。

> 如何将 hashmap 值转换为 ArrayList[?][...]

Java HashMaps 有一个简单的方法[`values()`](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/HashMap.html#values%28%29)，可以将 HashMap 中的所有值转换为 Collection。当您使用泛型时，假设您的示例中的地图，执行以下操作应该没有问题：

`ArrayList<String> valueList = map.values();`

如果您想知道，存在类似的密钥方法。它被调用[`keySet()`](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/HashMap.html#keySet%28%29)并将返回一个与 Collection 有点不同的 Set。要将其转换为列表，我建议您阅读[“将集合转换为列表而不创建新列表”](https://stackoverflow.com/questions/8892360/convert-set-to-list-without-creating-new-list)。您的问题的另一个相关主题是处理该方法的[“Java Hashmap values to Array” 。](https://stackoverflow.com/questions/3455449/java-hashmap-values-to-array)`values()`

> [...]如何在单独的字符串中获取哈希图值以设置问题的文本视图和答案的无线电文本[？] [...]

你的问题有点不清楚。你想提供多个答案吗？你的例子没有清楚地表明它。另外，我不相信 Android 中存在“radiotext”元素。

> [...]我想在单击下一个按钮时增加（questionid）arrayList。这个怎么做？[...]

这个问题让我觉得你在某个地方预定义了你的问题，并希望用答案填充 HashMap。我将解释我认为如何做到最好。如果不是这种情况，请随时发表评论，提供更准确的需求描述，我会尽快回复您。

在 android 中，您可以使用`strings.xml`文件`res\values`夹中的文件预定义字符串。我建议的是，如果问题没有改变，请在此处定义它们。现在，在创建布局后，您已经可以使用`android:text`元素在布局 XML 文件中设置问题。您可以按如下方式使用它：

```
<TextView
    android:id="@+id/your_text_view"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:text="Your question should go here!" /> 
```

当然，您也可以在使用以下方法初始化视图时以编程方式执行此操作：

```
TextView yourTextView =(TextView) findViewById(R.id.your_text_view);
yourTextView.setText("Your question should go here!"); 
```

为了得到你的答案，你希望用户在每个答案之后或问卷结束时点击一个按钮。[本教程](http://developer.android.com/guide/topics/ui/controls/text.html)向您展示了如何做到这一点。在 的实现中`OnEditorActionListener`，您可以检索每个字段的内容并将其放入数组中。由于您确实为您的字段提供了 ID，因此匹配问题和答案应该没有任何问题。

这给我们留下了一个问题，计算问题，给他们一个 ID，并跟踪 ID。这对您的设计来说有点麻烦。让我们回顾一下：

```
HashMap<String, String> map = new HashMap<String, String>();
map.put(TAG_QUESID, questionid);
map.put(TAG_QUES, question);
map.put(TAG_ANSW, answer); 
```

使用这种设计，您的钥匙必须是独一无二的。这意味着如果键是常量，您始终只能有一个问题和答案。我建议您使用复杂对象来存储问题和答案，并使用`HashMap<String, QuestionnaireItem>`例如其中 String 是您的 Id 而 the`QuestionnaireItem`是您的复杂对象。或者，您可以使用多层 HashMap 但这会很快让人感到困惑；`HashMap<String, HashMap<String, String>`. 至于计数，当您用答案填充地图时，只需保留一个计数器并在每次添加元素时递增它。

如果您能够提供更好的问题描述，我很乐意为您提供帮助。

**更新** 通过改进的描述，我能够提供更多信息。

首先，您应该在布局文件中定义了 a`TextView`和 a 。`RadioGroup`然后，您应该在创建视图时加载了布局。所有基本的Android东西。对于以下示例，我假设您有问题和答案，只需要知道如何设置它们以及如何继续下一组问题和答案。这是你如何做到的。

当您扩展布局时，在退出`onCreate(Bundle savedInstanceState)`方法之前，您要设置初始问题和答案。为此，只需`TextView`分别`RadioButton`使用该`findViewById(R.id.the_views_id)`方法即可。不要忘记演员表。

```
RadioButton radioButton1 = (RadioButton)findViewById(R.id.RB1); 
```

分别

```
TextViewradioButton1 = (TextView)findViewById(R.id.que_txt); 
```

现在你需要做的就是调用方法来设置视图的文本，`setText("Your string!")`

现在，要继续下一个问题，您可以实现[此单选按钮教程](http://developer.android.com/guide/topics/ui/controls/radiobutton.html)中突出显示的以下方法。

```
public void onRadioButtonClicked(View view)
{
    counter++;
    nextQuestion(counter);
} 
```

这假设您有一个静态计数器变量初始化为 0。

```
public void nextQuestion(counter)
{
    // Here you set the values of the buttons and textview to the values in the arrays
    // at the index provided by the counter. Alternatively you can use the 
    // String.parseInt(counter) method to get a string which you could use as the ID
    // of the question and therefore key to your HashMap.
} 
```

# android - 动画不工作

> ID：14576726
> 
> 赞同：3
> 
> 时间：2013-01-29T06:13:42.617
> 
> 标签：android, animation

```
Intent intent = null;
intent = new Intent(this, A.class);
intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP|Intent.FLAG_ACTIVITY_NEW_TASK);          
overridePendingTransition(R.anim.no_animation, R.anim.slide_down_out);  
ClassSelector.this.finish();            
startActivity(intent); 
```

我需要从当前页面过渡到另一个页面，即 A。我添加了代码'intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP|Intent.FLAG_ACTIVITY_NEW_TASK);' 由于此代码已应用，因此应用于 A 的动画也不工作。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T05:02:40.030

两面旗帜

```
Intent.FLAG_ACTIVITY_CLEAR_TOP|Intent.FLAG_ACTIVITY_NEW_TASK 
```

有相反的意图。一个将旧活动放在首位，另一个创建一个新任务，该任务可能会产生无法预测的结果。

```
Intent.FLAG_ACTIVITY_SINGLE_TOP 
```

这可以带来你需要的动画。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-09-01T09:26:24.967

您可以在调用`finish()`之后立即调用您的活动`startActivity()`（并摆脱您的标志），然后在新活动中，在其`onBackPressed()`方法中调用此代码：

```
@Override public void onBackPressed() {
        Intent intent = new Intent(Intent.ACTION_MAIN);
        intent.addCategory(Intent.CATEGORY_HOME);
        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        startActivity(intent);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-29T06:30:12.353

您只需要在 startActivity 之后调用 overridePendingTransition 即可。

前任：

```
 Intent intent = null;
    intent = new Intent(this, A.class);
    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP|Intent.FLAG_ACTIVITY_NEW_TASK); 
    ClassSelector.this.finish();            
    startActivity(intent);          
    overridePendingTransition(R.anim.no_animation, R.anim.slide_down_out); 
```

# javascript - 如何映射用户进行聊天？

> ID：14576731
> 
> 赞同：0
> 
> 时间：2013-01-29T06:13:54.007
> 
> 标签：javascript, jquery, html

我正在使用实时通信服务器构建一个新的聊天应用程序。我可以从服务器发送和接收消息。现在我需要映射用户进行私人实时通信。如何在客户端或服务器端获取它？

我从服务器获取消息如下：

```
味精：“废话”，
参与者：[id1,id99]，
sessionid：“我需要为每个对话创建唯一的 id”（这个 id 是维护用户之间消息的全部内容），

```

用例

1.  我有 100 个用户
2.  我必须从 1 到 55 发送一条消息
3.  现在我需要映射 1 和 55
4.  再来一个 2 到 33
5.  我再次需要映射 2 和 33
6.  同样，我需要将每个用户与其他用户映射。

我的方法有什么问题吗？

请建议使用 JavaScript 构建多用户聊天应用程序的其他方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T10:27:26.407

我不知道我是否正确理解了您的问题，但是如何在后端引入*私人对话的概念。*然后您可以存储该对话的所有参与者（在您的情况下，我猜只有两个）。

通过这种方式，您可以将服务器端设置为负责实现这一切所需的所有细节。客户端只需要传递消息和私人对话的 id（可能会存储在私人对话列表中），然后让服务器完成所有其他工作。

# delphi - Delphi XE中奇怪的SHL操作

> ID：14576733
> 
> 赞同：5
> 
> 时间：2013-01-29T06:13:57.860
> 
> 标签：delphi, bit-shift

有什么问题`v:=v shl b`？我正在尝试计算*mask* = 2 ^(*n*) -1 like `mask:=1 shl n-1`，但对于整数变量 n=64 失败。

```
program UInt64Test;

{$APPTYPE CONSOLE}

var
  u,v,w:uint64;
const
  a=64;
var
  b:integer=a;
  c:integer=a-1;

begin
  u:=1; v:=1; w:=1;
  u:=u shl a;
  v:=v shl b;
  w:=w shl 1 shl c;
  writeln(u);
  writeln(v);
  writeln(w);
  readln;
end. 
```

输出：

```
0
1
0 
```

我也怀疑`v`是零。

解决之类的`2 shl (n-1)-1`。在这种情况下，编译器执行机器`shl`（不是`__llshl`）：

```
function reciprocal(o:uint64;n:byte=64):uint64; // result * o = 1 (mod 2ⁿ)
var
  b,m,t:uint64;
begin
  result:=0;
  t:=2 shl (n-1)-1;
  m:=0; b:=1;
  while b<>0 do begin
    m:=m or b;
    if ((o*result) and m)<>1 then result:=result or b;
    b:=(b shl 1) and t;
  end;
end; 
```

……但是，我不开心。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-29T07:37:20.017

来自[`documentation`](http://docwiki.embarcadero.com/RADStudio/XE3/en/Expressions_%28Delphi%29#Example)：

> 操作 x shl y 和 x shr y 将 x 的值向左或向右移动 y 位，这（如果 x 是无符号整数）相当于将 x 除以 2^y；结果与 x 的类型相同。例如，如果 N 存储值 01101（十进制 13），则 N shl 1 返回 11010（十进制 26）。**请注意，y 的值被解释为以 x 类型的大小为模。因此，例如，如果 x 是整数，则 x shl 40 被解释为 x shl 8 因为整数是 32 位而 40 mod 32 是 8**。

因此 64 位值上的 1 shl 64 被解释为 1 shl 0 即 1。

```
const
  aa = 32;
var
  x,y,z : Cardinal;
...
x := 1;
y := 32;
z := x shl aa; // Gives z = 1
z := x shl 32; // Gives z = 1
z := x shl y;  // Gives z = 1; 
```

因此，当 y 是常量时，似乎存在 64 位值的编译器错误。

注意在 64 位模式下，1 shl 64 结果为 1。

所以这个bug只存在于32位编译器中。

报告为[`QC112261 SHL operations by constant fails`](http://qc.embarcadero.com/wc/qcmain.aspx?d=112261)。

* * *

如果对于 ay 值 >= 64，移位操作的所需结果为 0，则可以使用此函数：

```
function ShiftLeft( AValue : UInt64; bits : Integer) : UInt64; inline;
begin
  if (bits > 63) then 
    Result := 0 // Avoid bits being modified modulo 64
  else
    Result := AValue shl bits;
end; 
```

* * *

**更新**

此编译器错误已在 XE4 版本中得到解决。

# html - 当值基于 SQL 时，如何在 if 语句中使用 ASP 变量

> ID：14576740
> 
> 赞同：0
> 
> 时间：2013-01-29T06:14:41.690
> 
> 标签：html, sql, asp-classic

当我想显示一个变量时，我使用 "<%=con("notes")%>" 但如何在 if 语句中使用它？例如：

```
<% if con("notes") = "" then
  response.write("")
  else
  response.write("<tr><td colspan='8'><strong>Notes:</strong> ") 
  response.write(con("notes"))
  response.write("</td></tr>")
  end if
  %> 
```

似乎不起作用。它不会导致任何错误，但我知道很多注释都是空的，因此 response.write("") 应该在代码中大量使用。

有人有什么想法吗？

完整代码如下：

```
<%@CODEPAGE=65001%> 
<%
pagetitle="Aircraft and Simulator Multi-use List 06/074"
%>
<!--#INCLUDE VIRTUAL="/_lib/include/header.htm"-->
<!--#INCLUDE VIRTUAL="/_lib/include/menu.htm"-->
<script>
$(document).ready(function() {
    $("#state").change(function () {
    this.form.submit();
})
$('#supplier_name, #aircraft_type').focus()
$("#supplier_name").val($("#supplier_name").val());
$("#aircraft_type").val($("#aircraft_type").val());
var typingTimer;                
var doneTypingInterval = 800;  

$('#supplier_name, #aircraft_type').keyup(function(){
    clearTimeout(typingTimer);
    if ($('#supplier_name, #aircraft_type').val) {
        typingTimer = setTimeout(doneTyping, doneTypingInterval);
    }
});

function doneTyping () {
    $("form").submit();
}

});
</script>
<div class="twoColumnRow">
<div class="twoColumnContent">
<p class="breadCrm"><a href="/index.htm">Home</a> <span>&gt;</span> <a href="/tools/index.htm">Tools of the Trade</a> <span>&gt;</span> <a href="/tools/finance/index.htm">Finance and Purchasing</a><span>&gt;</span> <a href="/tools/finance/procurement/index.htm">Procurement and Contracts information</a></p>
<div class="contentPad">
<!-- Start of main content -->

<p class="imageRight">&nbsp;</p>
<h1><%=pagetitle%></h1>

<%
        Dim connectString, connect, conDB, sconDB, lDB, con, scon, lcon, src_ccn, src_state
        connectString = "Driver={Microsoft Text Driver (*.txt; *.csv)}; DBQ=" & Server.MapPath("data")
              src_supplier_name = Request.QueryString("supplier_name")
              src_aircraft_type = Request.QueryString("aircraft_type")
              src_state = Request.QueryString("state")
        set connect = Server.CreateObject("ADODB.connection")
        connect.open connectString

        if src_state = "" then
            conDB = "SELECT * FROM mul.csv WHERE ucase(supplier_name) LIKE ucase('%"+src_supplier_name+"%') AND ucase(aircraft_type) LIKE ucase('%"+src_aircraft_type+"%')"   
            lDB = "SELECT * FROM mul.csv WHERE ucase(supplier_name) LIKE ucase('%"+src_supplier_name+"%')" 
        elseif src_state = "any" then
            conDB = "SELECT * FROM mul.csv WHERE ucase(supplier_name) LIKE ucase('%"+src_supplier_name+"%') AND ucase(aircraft_type) LIKE ucase('%"+src_aircraft_type+"%')"   
            lDB = "SELECT * FROM mul.csv WHERE ucase(supplier_name) LIKE ucase('%"+src_supplier_name+"%') AND ucase(aircraft_type) LIKE ucase('%"+src_aircraft_type+"%')" 
        else 
            conDB = " SELECT * FROM mul.csv WHERE ucase(state) LIKE ucase('%"+src_state+"%') AND ucase(supplier_name) LIKE ucase('%"+src_supplier_name+"%') AND ucase(aircraft_type) LIKE ucase('%"+src_aircraft_type+"%')"
            lDB = " SELECT * FROM mul.csv WHERE ucase(state) LIKE ucase('%"+src_state+"%') AND ucase(supplier_name) LIKE ucase('%"+src_supplier_name+"%') AND ucase(aircraft_type) LIKE ucase('%"+src_aircraft_type+"%')"
        end if

        sconDB = "SELECT * FROM mul.csv"    

        set con = connect.execute(conDB)
        set scon = connect.execute(sconDB)
        set lcon = connect.execute(lDB)
%>
<h2>Search results</h2>
<% if not con.BOF then %>
<div style="margin-top:1em">

  <form id="searchf" action="search.htm" method="get">

      <p>Supplier name: <input id="supplier_name" name="supplier_name" type="text" value="<%=src_supplier_name%>"> Aircraft type: <input id="aircraft_type" name="aircraft_type" type="text" value="<%=src_aircraft_type%>"> </p>
     <p>State or Territory:<br/>
      <select style="width: 497px;" id="state" name="state">
        <option class="group" label="Any state or territory" value="any" <%if request.querystring("state") = "any" then response.write("selected") %>></option>
        <option class="group" label="Australian Capital Territory" value="ACT" <%if request.querystring("state") = "ACT" then response.write("selected") %>></option>
        <option class="group" label="New South Whales" value="NSW" <%if request.querystring("state") = "NSW" then response.write("selected") %>></option>
        <option class="group" label="Northern Territory" value="NT" <%if request.querystring("state") = "NT" then response.write("selected") %>></option>
        <option class="group" label="Queensland" value="QLD" <%if request.querystring("state") = "QLD" then response.write("selected") %>></option>
        <option class="group" label="South Australia" value="SA" <%if request.querystring("state") = "SA" then response.write("selected") %>></option>
        <option class="group" label="Tasmania" value="TAS" <%if request.querystring("state") = "TAS" then response.write("selected") %>></option>
        <option class="group" label="Victoria" value="VIC" <%if request.querystring("state") = "VIC" then response.write("selected") %>></option>
        <option class="group" label="Western Australia" value="WA" <%if request.querystring("state") = "WA" then response.write("selected") %>></option>
        <option class="group" label="Other" value="other" <%if request.querystring("state") = "other" then response.write("selected") %>></option>
      </select>

    <input type="submit" value="Search" /></p>
  </form>
  <br />

<table style="font-size:.9em;" class="contentTable">
  <tr>
    <th width="25%">Supplier</th>
    <th width="5%">State</th>
    <th width="20%">Aircraft type</th>
    <th width="10%">Variant</th>
    <th width="10%">Hourly cost</th>
    <th width="10%">Rental basis</th>
    <th width="10%">Timing method</th>
    <th width="10%">Insurance excess</th>

  </tr>
  <% con.Movefirst() %>
  <% while (NOT con.EOF) %>
  <tr>
    <td><a href="searchcomp.htm?ccn=<%=con("ccn")%>"><%=con("supplier_name")%></a></td>
    <td><%=con("state")%></td>
    <td><%=con("aircraft_type")%></td>
    <td><%=con("variant")%></td>
    <td><%=con("cost_hr")%></td>
    <td><%=con("rental_basis")%></td>
    <td><%=con("timing_method")%></td>
    <td><%=con("insurance_excess")%></td>
  </tr>
  <% if con("notes") = "" then
  response.write("")
  else
  response.write("<tr><td colspan='8'><strong>Notes:</strong> ") 
  response.write(con("notes"))
  response.write("</td></tr>")
  end if
  %>
  <%
    con.MoveNext()
    Wend
  %>
</table>

</div>
<% else %>
    <% scon.Movefirst() %>
  <form id="searchf" action="search.htm" method="get">

      <p>Supplier name: <input id="supplier_name" name="supplier_name" type="text" value="<%=src_supplier_name%>"> Aircraft type: <input id="aircraft_type" name="aircraft_type" type="text" value="<%=src_aircraft_type%>"> </p>
     <p>State or Territory:<br/>
      <select style="width: 497px;" id="state" name="state">
        <option class="group" label="Any state or territory" value="any" <%if request.querystring("state") = "any" then response.write("selected") %>></option>
        <option class="group" label="Australian Capital Territory" value="ACT" <%if request.querystring("state") = "ACT" then response.write("selected") %>></option>
        <option class="group" label="New South Whales" value="NSW" <%if request.querystring("state") = "NSW" then response.write("selected") %>></option>
        <option class="group" label="Northern Territory" value="NT" <%if request.querystring("state") = "NT" then response.write("selected") %>></option>
        <option class="group" label="Queensland" value="QLD" <%if request.querystring("state") = "QLD" then response.write("selected") %>></option>
        <option class="group" label="South Australia" value="SA" <%if request.querystring("state") = "SA" then response.write("selected") %>></option>
        <option class="group" label="Tasmania" value="TAS" <%if request.querystring("state") = "TAS" then response.write("selected") %>></option>
        <option class="group" label="Victoria" value="VIC" <%if request.querystring("state") = "VIC" then response.write("selected") %>></option>
        <option class="group" label="Western Australia" value="WA" <%if request.querystring("state") = "WA" then response.write("selected") %>></option>
        <option class="group" label="Other" value="other" <%if request.querystring("state") = "other" then response.write("selected") %>></option>
      </select>
    </p>
    <input type="submit" value="Search" />
  </form>
  <br /><hr />
<p>No records match your query.</p>
<p><a href="dbtest.htm">Return to search page</a></p>
<%
  end if
  con.close
%>

<!-- End of main content -->
</div> <!-- end contentPad div -->
</div> <!-- end twocolumncontent div -->
<div class="twoColumnLinks">

<!--<div class="relatedLinks">
<h3>Related Links</h3>
<ul>
<li><a href="/index.htm">Related link 1</a></li>
</ul>
</div>--> <!-- end relatedlinks div -->
<!--#INCLUDE VIRTUAL="/_lib/include/quicklinks.htm"-->
<!--#INCLUDE VIRTUAL="/_lib/include/mylinks.htm"-->
</div> <!-- end twocolumnlinks div -->
</div> <!-- end twocolumnrow div -->
<!--#INCLUDE VIRTUAL="/_lib/include/footer.htm"--> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T06:20:26.017

您是否收到一堆带有“注释：”的表格行？有时从数据库中读取数据时，我需要`TRIM`检查结果是否等于“”：

```
if Trim(con("notes") & "") = "" 
```

或者，数据库中的注释字段可能正在存储其他字符，例如换行符——您应该能够查看源代码以查看正在打印的内容。

希望这可以帮助。

祝你好运。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T19:16:22.173

如果 sgeddes 回答没有这样做，我不确定，但我认为 Microsoft 文本驱动程序可能会返回空值。您也可以检查 null （我相信它是 Classic ASP 中的“IsNull(arg)”函数）。

# c# - 共享 Windows Phone 运行时组件

> ID：14576742
> 
> 赞同：2
> 
> 时间：2013-01-29T06:14:56.500
> 
> 标签：c#, c++, visual-studio-2012, windows-runtime, windows-phone-8

我已将功能实现为 Windows Phone 运行时组件 (C++) 项目。目前，该项目是 Windows Phone 8 Visual Studio 解决方案的一部分。

是否可以将 Windows Phone 运行时组件导出/转换为其他 Windows Phone 8 项目可以轻松引用的库，以及如何？我的意思是类似于 C/C++ 中的 library+header 概念。

或者是创建 C++ 库的唯一解决方案，然后为每个解决方案单独创建的 Windows 运行时组件引用该库？

问候，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T19:35:46.250

如果您将项目编译为 WPRTC(C++)，那么它应该输出为 {project_name}.winmd

您可以将 .winmd 文件用作 dll 引用（实际上就是这样......仅附加了元数据）。

这应该以与项目完全相同的方式使用（尽管您将获得对象浏览器的标题信息而不是实际的源代码）。

# spring-security - 如何在匿名用户中获取用户信息可以访问spring security中的页面

> ID：14576743
> 
> 赞同：0
> 
> 时间：2013-01-29T06:15:00.427
> 
> 标签：spring-security

公共页面，如网站首页，所有用户都可以访问，包含匿名用户。所以我在 applicationContext-security.xml 中配置它，如下所示：

```
 <intercept-url pattern="/index" access="permitAll" />
 <intercept-url pattern="/css/**" access="permitAll" />
 <intercept-url pattern="/javascript/**" access="permitAll" /> 
 <intercept-url pattern="/**"
        access="hasAnyRole('ROLE_MANAGER','ROLE_ORGANIZATION')" /> 
```

如果使用登录，我想获取用户信息。我使用以下代码：

```
SecurityContextHolder.getContext()
                .getAuthentication().getPrincipal() 
```

然后即使我有登录，我也会得到空值。

我认为是配置错误。任何人都知道为什么或在哪里？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T09:52:52.073

您的代码没有任何问题。通常在匿名用户的情况下，您的主体将是一个简单的字符串“anonymousUser”。我认为主要问题是**AnonymousAuthenticationFilter.doFilter(...)**没有被调用。**AnonymousAuthenticationFilter**负责将匿名身份验证注入 SecurityContextHolder。确保 HTTP 请求与

```
SecurityContextHolder.getContext().getAuthentication().getPrincipal() 
```

调用由 Spring Security 过滤器链覆盖。在**AnonymousAuthenticationFilter.doFilter()**中设置一个刹车点。如果未调用，请检查您的 web.xml。确保您的过滤器链应用于所有 HTTP 调用：

```
<filter-mapping>
    <filter-name>springSecurityFilterChain</filter-name>
    <url-pattern>/*</url-pattern>
</filter-mapping> 
```

# java - 带参数的单例枚举实现

> ID：14576745
> 
> 赞同：9
> 
> 时间：2013-01-29T06:15:04.950
> 
> 标签：java, design-patterns

我正在尝试使用 Java 枚举实现单例。

但是我也想在第一次初始化时将一些参数传递给构造函数。

我该如何做到这一点？使用带参数的单例是一个好习惯吗？

```
public enum DaoManager {
    INSTANCE;
    private static ILog logger; //for passing the logger;
    private static DatabasePool pool; //passing the Database pool

    public void init(ILog logger, DatabasePool pool){
          this.logger = logger;
          this.pool = pool;   
    }

 } 
```

现在我正在使用 init 方法将记录器和数据库池传递给 DaoManager。

但是，如果客户端未能调用 init() 方法，那么很有可能会失败。

有人可以指导我如何做到这一点吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-29T06:19:01.917

考虑 ：

```
public enum DaoManager {
    INSTANCE(FooManager.getLogger(), BarManager.getDataBasePool());
    private static ILog logger; //for passing the logger;
    private static DatabasePool pool; //passing the Database pool

    private DaoManager (ILog logger, DatabasePool pool){
          this.logger = logger;
          this.pool = pool;   
    }

 } 
```

枚举的伟大之处在于它们与类相似。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:19:12.013

```
public static enum DaoManager {
    INSTANCE;
    private static ILog logger; //for passing the logger;
    private static DatabasePool pool; //passing the Database pool

    public void init(ILog logger, DatabasePool pool){
          this.logger = logger;
          this.pool = pool;   
    }

 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-29T06:22:49.647

> 我可以将 init 方法设为私有吗？

如果对象处于有效状态需要某种初始化逻辑。然后应该有一个工厂在向它请求对象时执行此操作。

有一个`static init`糟糕的设计。

顺便说一句，使用 Singleton 更像是一种用于测试的反模式。拥有全局状态会使对象难以测试。

您不应该限制构造函数，而是使用小“s”使对象**单例。**使用某种上下文对象来访问应用程序范围内的`DaoManager`.

```
applicationContext.getDaoManager() 
```

# c - 递归函数构建

> ID：14576746
> 
> 赞同：0
> 
> 时间：2013-01-29T06:15:09.367
> 
> 标签：c, recursion, tail-recursion, backtracking

我正在尝试编写一个函数来探索所有可能的数字组合，以数组形式给出，希望找到加起来达到一定数量的最小数字组，并将其作为参数传递。

这是我一直在做的事情，这似乎适用于某些但并非所有情况；

我选择一个数字，从总和中减去它，然后将新总和传递给函数，数组的限制保持不变，这让我可以选择重新选择数字，
在第二次调用中我传递新总和，即总和减去当前选择的数字，但我将数组缩小一，这意味着我不会再次选择相同的数字。

但是，我意识到我并没有涵盖所有选择，因为无论如何我假设任何数字对于解决方案都是至关重要的，但我不知道要传递哪些参数才能涵盖第三个选项，这不是选择数字，这意味着我不会从 sum 中减去，并缩小数组的大小。

您的帮助将不胜感激，顺便说一句，我正在用 C 语言编写。

```
 int howManyCoins(int*coins,int size,int sum)
{
    return howManyCoins_aux(coins,size,sum,size-1);
}

int howManyCoins_aux(int*coins,int size, int sum,int chosen)
{
    if (sum==0)return 1;
    if (sum<0)return 0;
    if (chosen==0) return 0;
    if (coins[chosen]>sum) return 0;
    int res1=0,res2=0,best_solution=0;
    for (int i=chosen;i>=0;i--)
    {
        res1+=howManyCoins_aux(coins,size,sum-coins[i],chosen);
        res2+=howManyCoins_aux(coins,size,sum-coins[i],chosen-1);
        if(!(res1+res2)) best_solution=0;
        else if (res1==0) best_solution=res2;
        else if (res2==0) best_solution=res1;
        else best_solution=res2>res1?res1:res2;
    }
    return best_solution;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:36:45.317

如果要检查所有可能的值，可以使用位数组。如果您给定的数组足够短，您可以使用整数（或长整数）作为位数组。现在，让 a 成为您的数组，然后对于每个索引 n: a[n] 在组合中，如果且只有您的位数组的位 n 被设置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:55:57.910

您可以将选择简化为：选择硬币并能够重新选择硬币或不选择硬币（递归将涵盖所有选项）

代替：

```
res1+=howManyCoins_aux(coins,size,sum-coins[i],chosen);
res2+=howManyCoins_aux(coins,size,sum-coins[i],chosen-1); 
```

和

```
res1 = howManyCoins_aux(coins, size, sum-coins[i], chosen);
res2 = howManyCoins_aux(coins, size, sum, chosen-1); 
```

*如果每个硬币只能选1个：（*这是[找零问题](http://en.wikipedia.org/wiki/Change-making_problem)）

```
res1 = howManyCoins_aux(coins, size, sum-coins[i], chosen-1);
res2 = howManyCoins_aux(coins, size, sum, chosen-1); 
```

你的算法有点不清楚，我认为有很多重复。您可以摆脱 for 循环，并将您的功能更改为：（未经测试）

```
int howManyCoins_aux(int *coins, int size, int sum, int chosen, int pos)
{
  if (sum == 0) return chosen;
  if (sum < 0 || pos == size) return 9999999;
  int res1 = 9999999;
  if (coins[pos] >= sum)
    res1 = howManyCoins_aux(coins, size, sum-coins[pos], chosen+1, pos);
  int res2 = howManyCoins_aux(coins, size, sum, chosen, pos+1);
  return min(res1, res2);
} 
```

话虽如此，递归可能不是要走的路（即使在小型数据集上也需要很长时间）。听起来像[整数规划](http://en.wikipedia.org/wiki/Integer_programming)。有几个选项可以在链接中解决它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-30T03:35:28.173

这听起来像是子集和问题的变体。由于您只考虑正数，因此如果您保留另一个数据结构来跟踪总和为每个可能值的数字集，那么像[这里描述的动态编程方法可能会起作用。](https://stackoverflow.com/a/4356000/1115008)

# python - 为什么我不能使用 Xpath `.//node-name` 访问节点？

> ID：14576753
> 
> 赞同：0
> 
> 时间：2013-01-29T06:15:42.987
> 
> 标签：python, xml, xpath, elementtree

xml文件是这样的：

```
<?xml version="1.0" ?>
<?xml-stylesheet type="text/xsl" href="Cistrome.xsl"?>
<motifs>
  <motif id="hPDI060">
  ..........
  </motif>
</motifs> 
```

我的python代码是这样的：

```
 tree = ElementTree.parse(sys.argv[1])
    for node in tree.findall('.//motifs'):
        print("found") 
```

但是，在我运行代码之后，`found`字符串没有显示，换句话说，`.//motifs`没有找到正确的标签。

有人对此有想法吗？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T06:25:02.530

[findall](http://docs.python.org/2/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element.findall)将查找当前标签的所有子元素，而您的当前标签是“motifs”。因此，没有找到任何东西

您可以检查当前标签是什么

```
> tree.tag
> 'motifs' 
```

确定你想要找到的东西，`motifs`或者`motif`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T07:23:54.933

`tree.findall('*')``motif`将在根元素下找到所有内容`motifs`。

# asp.net-mvc - 如果浏览器崩溃或正在关闭，如何保存当前表单？

> ID：14576763
> 
> 赞同：0
> 
> 时间：2013-01-29T06:16:01.603
> 
> 标签：asp.net-mvc, asp.net-mvc-4

我有以下问卷申请表。

[http://contoso2.azurewebsites.net/Test/ExamPreview?content=RTEsNXxEMCw1fFEw](http://contoso2.azurewebsites.net/Test/ExamPreview?content=RTEsNXxEMCw1fFEw)

我正在处理的事情是，如果用户不小心关闭了浏览器，网络应该恢复用户建立的相同数据，直到他完成调查问卷。

我试图使用 OutputCache，但我想我的方法不对。你能推荐我什么来存储所有的用户数据？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T08:19:34.427

首先是绑定到所有输入元素的模糊事件。使用 JQuery：

```
$(input).blur(function(){}); 
```

在函数内部，您可以使用 Web Storage（如果浏览器支持 HTML5）、Cookie 或使用 Ajax 将数据发布到服务器。您还可以使用 Modernizr 之类的库来帮助您检测浏览器功能。

链接：模糊事件：[http ://api.jquery.com/blur/](http://api.jquery.com/blur/)

HTML5 网络存储：[http ://www.w3schools.com/html/html5_webstorage.asp](http://www.w3schools.com/html/html5_webstorage.asp)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:34:08.047

当用户输入数据时，将其存储在一个对象中。当浏览器关闭时，您可以对对象中的数据做任何您想做的事情。据推测，您会将其写入数据库并等到该用户再次出现，使用您的对象中的数据预先填充表单。

# java - 如果运行函数的线程被中断，finally 块是否会执行？

> ID：14576765
> 
> 赞同：23
> 
> 时间：2013-01-29T06:16:03.580
> 
> 标签：java, multithreading, try-catch, interrupt, interruption

如果我有一个带有 try/finally 部分的函数，并且运行它的线程在 try 块中被中断，finally 块会在中断实际发生之前执行吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-29T06:18:21.503

[根据 Java 教程](http://docs.oracle.com/javase/tutorial/essential/exceptions/finally.html)，“如果执行`try`or`catch`代码的线程被中断或杀死，`finally`即使应用程序作为一个整体继续运行，该块也可能不会执行。”

这是完整的段落：

> 该`finally`块*总是*`try`在块退出时执行。这可确保`finally`即使发生意外异常也能执行该块。但`finally`它不仅仅对异常处理有用——它允许程序员避免清理代码意外地被`return`、`continue`或`break`. 将清理代码放在一个`finally`块中始终是一个好习惯，即使没有预料到异常。
> 
> **注意：**`try`如果在执行or`catch`代码时 JVM 退出，则该`finally`块可能不会执行。同样，如果执行`try`or`catch`代码的线程被中断或杀死，`finally`即使应用程序作为一个整体继续运行，该块也可能不会执行。

```
class Thread1 implements Runnable {

    @Override
    public void run() {
        try {
            Thread.sleep(10000);
        } catch (InterruptedException e) {
            e.printStackTrace();
        } finally {
            System.out.println("finally executed");
        }
    }
} 
```

...

```
t1.start();
t1.interrupt(); 
```

*它打印*- 最终执行

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-29T06:22:20.947

Java中的线程中断只是设置一个标志。它不会导致当前执行的代码发生任何特殊情况，也不会影响控制流。

如果您的线程正在从事或尝试进入引发 InterruptedException 的操作，则从调用该方法的位置引发异常，如果它位于 try 块内，则 finally 将在异常离开之前像正常一样执行.

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-10-30T12:51:43.093

在对[答案的](https://stackoverflow.com/a/14576798/3050466)[评论](https://stackoverflow.com/questions/14576765/does-the-finally-block-execute-if-the-thread-running-the-function-is-interrupted#comment28584194_14576798)中，@Risadinha 提出了一个非常有效的问题，即如果我们通过调用恢复块内的中断标志，块中的代码是否会被执行。`finally``catch``Thread.currentThread().interrupt()`

这是要测试的小代码片段：

```
final SomeContext context = new SomeContext();
Thread thread = new Thread() {
    @Override
    public void run() {
        try {
            Thread.sleep(10000);
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        } finally {
            // this code gets executed even though
            // we interrupt thread in catch block.
            context.value = 9;  
        }
    }
};

thread.start();
thread.interrupt();

thread.join(); // need to wait for thread code to complete

assertEquals(context.value, 9); // values are the same! 
```

SomeContext 类代码：

```
class SomeContext {
    public volatile int value = 10;
} 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2015-10-30T16:50:44.520

Oracle 的许多 Java 教程很有帮助（我的答案参考了受保护的块页面和 SAX 介绍），但它们不一定具有权威性，其中一些有错误或不完整。问题中引用的引用将中断与 JVM 退出混为一谈，这令人困惑。

首先，Java 中的线程中断与操作系统级别的中断无关。[共享一个名字会造成混淆，但没有任何联系](https://stackoverflow.com/q/26856242/217324)。

接下来，JVM exit 显然会在没有机会进行任何清理的情况下杀死线程。如果进程在线程到达 finally 块之前就死掉了，那就太糟糕了。但没有什么能与中断相提并论。中断并没有阻止 finally 块完成。

中断的一个设计原则是作用于中断需要被中断线程的配合。被中断的线程自行决定响应，中断不会强迫线程做任何事情。所有调用 Thread#interrupt() 所做的都是在线程上设置一个标志。诸如等待或睡眠之类的阻塞方法检查标志以查看它们是否应该早起。（InterruptedException 是一个经过检查的异常，因此您可以知道谁在何时抛出它，并且您的 Runnable 可以对此进行计划。）此外，任何代码都可以使用 Thread#isInterrupted() 来检查其线程是否已设置标志。

当 Thread#sleep() 识别到设置了中断标志时，它会在抛出 InterruptedException 之前清除该标志。当您的线程捕获到 InterruptedException 时，最好使用 Thread.currentThread().interrupt() 恢复标志，以防万一该线程中运行的任何其他代码需要了解中断。当嵌套同步器遇到更复杂的情况时，这就会发挥作用，例如，一些深度嵌套的组件可能会中断其睡眠，让它保持清除可能会阻止更高层了解中断。在一个简单的玩具示例中，就像此处其他答案中的示例一样，标志是否恢复并不重要，没有任何东西再次检查它并且线程终止。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-29T06:18:19.063

中断的效果是`InterruptedException`在下一次发生阻塞操作时抛出一个（实际上，下一次调用指定它可以抛出一个方法的方法`InterruptedException`），此时 - 像往常一样 -`try/catch`遵循正常的执行流程，它确实在和任何适用的es`finally`之后执行块。`try``catch`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-29T06:29:45.310

它将以与 try 块中的任何其他异常相同的方式执行，而不是在中断之前。

# jquery - 从 html 页面将变量传递给 Jquery 文件

> ID：14576771
> 
> 赞同：0
> 
> 时间：2013-01-29T06:16:34.007
> 
> 标签：jquery, html

我有 1 个 Jquery 和 2 个 html 文件。我创建了一个 html 页面来选择这样的选项。

```
<p class="style1">
        Select your category :
        <select id="selection" name="D1">
            <option value ="football" selected =selected>Football Team</option>
            <option value ="Movie">Movie</option>
        </select></p>

    <p class="style1">
        </p> 
```

我想从选项中获取值并传递给 Jquery 来处理和做某事。

接下来我想将结果显示到另一个 html 页面中。可能吗？

因为我不知道如何将变量传递给我的 Jquery 文件，以及如何执行一个函数，以便在选择我的选项后可以直接到另一个页面。我应该指向我的 jquery 文件（因为我需要先将变量传递给我的 jquery）还是结果 html？

抱歉问菜鸟问题。因为我是菜鸟。:(

**更新：**

```
$.each(json.data, function(i,v){
 pts.push([v.topic, v.audience.length]);
});

Highcharts.getOptions().colors = $.map(Highcharts.getOptions().colors, function(color) {
    return {
        radialGradient: { cx: 0.5, cy: 0.3, r: 0.7 },
        stops: [
            [0, color],
            [1, Highcharts.Color(color).brighten(-0.3).get('rgb')] // darken
    ]
    };
});

    var chart;
    $(document).ready(function() {
        chart = new Highcharts.Chart({
            chart: {
                renderTo: 'container',
                plotBackgroundColor: null,
                plotBorderWidth: null,
                plotShadow: false
            },
            title: {
                text: 'Facebook like'
            },
            tooltip:{
                pointFormat: '{series.name}: <b>{point.percentage}%</b>',
                percentageDecimals: 0
                }

            ,
            plotOptions: {
                pie: {
                    allowPointSelect: true,
                    cursor: 'pointer',
                    point: {
                        events:{
                            click: function (event){
                                //var personame =" ";
                                var id ="10150616324193820";
                                for (var i = 0; i < jsonFB.user1.length; i++) {
                                    for (var k = 0; k < json.data.length; k++) {
                                        for (var j = 0; j < json.data[k].audience.length; j++) {

                                       if (jsonFB.user1[i].id = json.data[k].audience[j].userid) {
                                            var personname = jsonFB.user1[i].name;

                                            var id = jsonFB.user1[i].id;

                                            }

                                       else {

                                           alert("Error!");

                                             }

                                             }

                                            }

                                    alert("Person who like "+this.name +" are "+ personname);
                                    var ans = confirm("Do you want to view this person profile?");
                                    if (ans)
                                      window.location="http://www.facebook.com/people/@/"+id;

                            }
                        }
                        }
                    },
                    showInLegend: true ,
                    dataLabels: {
                        enabled: true,
                        color: '#000000',
                        connectorColor: '#000000',

                        formatter: function() {
                            return '<b>'+ this.point.name +'</b>: '+ Math.round(this.percentage) +'%';
                        }

                    }
                }
            },

            series: [{
                type: 'pie',
                name: 'Likes',
                data: pts

            }]
        });
    });

}); 
```

我想获得“选择”值来执行 if else 语句，但现在我仍然不知道如何获得它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:20:26.750

这是你可以绑定到`onchange`某个`select`方法的

**jQuery**

```
$(document).ready(function(){

    $("#selection").change(function(){

       console.log($(this).val()); //this will return the selected value

     });

}); 
```

# oracle - 查询结果在 Oracle 内存还是 Perl 内存？

> ID：14576772
> 
> 赞同：2
> 
> 时间：2013-01-29T06:16:35.377
> 
> 标签：oracle, perl, memory, dbi

我正在使用[DBI](http://search.cpan.org/dist/DBI/DBI.pm)`select`模块来触发`Oracle`. 使用[DBI](http://search.cpan.org/dist/DBI/DBI.pm)`prepare`的模块，已经准备好查询，然后使用该模块，执行选择查询。`execute`

**我的问题是：**一旦执行查询，结果就会存储在内存中，直到我们使用任何`fetchrow`方法来检索结果。到那时，查询结果是存储在Oracle内存还是Perl内存？

据我了解，应该是在Oracle内存中，我还是想确认一下。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T08:56:21.513

它保存在 Oracle 中，直到您发出第一次提取。但是，您应该知道，一旦您进行第一次 fetch 调用 DBD::Oracle（我假设您正在使用）即使您只要求一个，也可能会一次性取回多行（您可以使用 RowsInCache 查看多少行）。您可以更改与 ora_prefetch_rows、ora_prefetch_memory 和 ora_row_cache_off 一起使用的设置。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T08:58:15.160

在 Oracle 内存中。第一个提示：您无权访问该数据。`execute`您可以在语句之前和之后测试您的 Perl 脚本使用的内存量以确认。

见[http://docstore.mik.ua/orelly/linux/dbi/ch05_01.htm](http://docstore.mik.ua/orelly/linux/dbi/ch05_01.htm)

# c# - 从下拉列表中动态选择项目

> ID：14576776
> 
> 赞同：0
> 
> 时间：2013-01-29T06:17:03.107
> 
> 标签：c#, asp.net, c#-4.0

我想从数据库中动态选择一个项目到下拉列表中。
我可以设置下拉列表的 value 属性，但我无法设置 item 属性，为什么会这样？
我的数据库中存储了文本，因此我必须从下拉列表中选择项目。

添加注释代码

```
 string strGetBooking = travService.SEL_TourManualBooking("", long.Parse(hdtmbid.Value));
  if (strGetBooking != "") 
  {
      DataSet ds = new DataSet(); 
      ds.ReadXml(new StringReader(strGetBooking)); 
      DataTable dt = ds.Tables[0];
      drpTour.SelectedItem = dt.Rows[0]["FKTBID"].ToString(); 
  } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T06:47:40.073

```
SelectedIndex -- > The index number of the selected item 
SelectedItem -->  The text of the selected item (Text And Value)
SelectedValue--> The value of the selected item 
Text-- > The value of the selected item 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:20:24.520

尝试这个 -

```
 // dropDown = Your Dropdown
    //dbValue = your database value(String Value)
    dropDown.SelectedText = dbValue; 
```

**[编辑]**

你可以用另一种方式做到这一点 -

```
dropDown.SelectedIndex = dropDown.Items.IndexOf(dropDown.Items.FindByText(dbValue)); 
```

# php - 获取 Json 输出，在 php 中显示 USING REST PHP

> ID：14576777
> 
> 赞同：0
> 
> 时间：2013-01-29T06:17:09.757
> 
> 标签：php, python, django, json, rest

我已经用 python 编写了 Rest Api。并且输出采用 json 格式。

喜欢[http://api.myserver.com/v0/movies](http://api.myserver.com/v0/movies)

它会给我 json 格式的输出：

```
[
{"id":"1","movie_name":"Toy story","genre":["children","action"]},
{{"id":"2","movie_name":"Jab tak hai jaan","genre":["romance","Drama"]}}
] 
```

现在我想要使用 PHP 以可读格式输出。

听说有REST php的一些概念。它获取输出并将其存储在 $rest 变量中，然后我们可以使用它。所以有人可以告诉我如何解决这个问题。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:18:23.477

使用`json_decode($json_string, true);`which 会给你数组

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T08:43:27.297

采用

`json_decode ( string $json [, bool $assoc = false [, int $depth = 512 [, int $options = 0 ]]]`

$json - 是你的 json 字符串

$assoc = TRUE 时，返回的对象将被转换为关联数组。

文档[在这里](http://php.net/manual/en/function.json-decode.php)

# c# - DevExpress 查找编辑问题

> ID：14576780
> 
> 赞同：1
> 
> 时间：2013-01-29T06:17:16.300
> 
> 标签：c#, winforms, devexpress, lookup

我的 DevExpress.XtraEditors.LookUpEdit 控件不工作

我用以下代码填充组合：

```
void FillCombo() 
{
     cboStep.Properties.DataSource = ProceduresDALC.Fill_StepDetail(" Where StepID = "+_StepID);
     cboStep.Properties.DisplayMember = "Description";
     cboStep.Properties.ValueMember = "StepID";
     cboStep.Properties.Columns.Clear();
     cboStep.Properties.Columns.Add(new DevExpress.XtraEditors.Controls.LookUpColumnInfo("Description", "Step Detail"));
 } 
```

这些值被加载到 LookUpEdit

但是当我从 LookUpEdit 中选择一个值时，它只给我第一个值而不是我的首选值。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-01-27T12:26:39.830

只需确保 StepID 是这里的主键。如果它不是主键，那么它将为您提供更改索引事件的第一个值

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T08:26:44.080

您的代码对我的数据源正常工作：

```
void FillLookUp() {
    lookUpEdit1.Properties.DataSource = new List<StepDetails>{
        new StepDetails(){ StepID = 0, Description = "Step1" },
        new StepDetails(){ StepID = 1, Description = "Step2" },
        new StepDetails(){ StepID = 2, Description = "Step3" },
    };
    lookUpEdit1.Properties.DisplayMember = "Description";
    lookUpEdit1.Properties.ValueMember = "StepID";
    lookUpEdit1.Properties.Columns.Clear();
    lookUpEdit1.Properties.Columns.Add(new LookUpColumnInfo("Description", "Step Detail"));
} 
```

似乎从数据库中检索数据的一些问题导致了这个问题。因此，我建议您联系[DevExpress 支持](http://www.devexpress.com/Support/Center)以进行进一步研究。

# java - 闭包编译器选项

> ID：14576782
> 
> 赞同：2
> 
> 时间：2013-01-29T06:17:19.763
> 
> 标签：java, compression, minify, google-closure-compiler, google-closure

我想使用 Closure Compiler 来缩小/压缩 JS 代码。

问题是它没有像我期望的那样缩小。考虑下面的代码。当我传递字符串时

```
var func = function ( someArgument ) {
  alert ( someArgument ); 
  return someArgument; 
} 
```

我希望缩小的代码将“someArgument”重命名为更短的名称，例如“a”。

是这样还是我做错了什么？TIA

```
public static void Compress( String src ) {

    ByteArrayOutputStream err = new ByteArrayOutputStream();

    CompilerOptions opt = new CompilerOptions();

    CompilationLevel.ADVANCED_OPTIMIZATIONS.setDebugOptionsForCompilationLevel( opt );

    Compiler.setLoggingLevel( Level.OFF );
    Compiler compiler = new Compiler( new PrintStream( err ) );
    compiler.disableThreads();

    List<SourceFile> externs = Collections.emptyList();
    List<SourceFile> inputs = Arrays.asList( SourceFile.fromCode( "javascript-code.js", src) );

    Result result = compiler.compile( externs, inputs, opt );

    System.out.println( "source: " + compiler.toSource() );
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-29T07:05:20.970

你正在使用`setDebugOptionsForCompilationLevel()`，你想要`setOptionsForCompilationLevel()`。从[源头](http://closure-compiler.googlecode.com/svn/trunk/src/com/google/javascript/jscomp/CompilationLevel.java)看，这是`setDebugOptionsForCompilationLevel`在做什么：

```
public void setDebugOptionsForCompilationLevel(CompilerOptions options) {
    options.anonymousFunctionNaming = AnonymousFunctionNamingPolicy.UNMAPPED;
    options.generatePseudoNames = true;
    options.removeClosureAsserts = false;
    // Don't shadow variables as it is too confusing.
    options.shadowVariables = false;
} 
```

虽然这是`setOptionsForCompilationLevel()`正在做的事情：

```
// All the safe optimizations.
options.dependencyOptions.setDependencySorting(true);
options.closurePass = true;
options.foldConstants = true;
options.coalesceVariableNames = true;
options.deadAssignmentElimination = true;
options.extractPrototypeMemberDeclarations = true;
options.collapseVariableDeclarations = true;
options.convertToDottedProperties = true;
options.rewriteFunctionExpressions = true;
options.labelRenaming = true;
options.removeDeadCode = true;
options.optimizeArgumentsArray = true;
options.collapseObjectLiterals = true;
options.protectHiddenSideEffects = true;

// All the advance optimizations.
options.removeClosureAsserts = true;
options.aliasKeywords = true;
options.reserveRawExports = true;
options.setRenamingPolicy(
    VariableRenamingPolicy.ALL, PropertyRenamingPolicy.ALL_UNQUOTED);
options.shadowVariables = true;
options.removeUnusedPrototypeProperties = true;
options.removeUnusedPrototypePropertiesInExterns = true;
options.collapseAnonymousFunctions = true;
options.collapseProperties = true;
options.checkGlobalThisLevel = CheckLevel.WARNING;
options.rewriteFunctionExpressions = true;
options.smartNameRemoval = true;
options.inlineConstantVars = true;
options.setInlineFunctions(Reach.ALL);
options.inlineGetters = true;
options.setInlineVariables(Reach.ALL);
options.flowSensitiveInlineVariables = true;
options.computeFunctionSideEffects = true;

// Remove unused vars also removes unused functions.
options.setRemoveUnusedVariables(Reach.ALL);

// Move code around based on the defined modules.
options.crossModuleCodeMotion = true;
options.crossModuleMethodMotion = true;

// Call optimizations
options.devirtualizePrototypeMethods = true;
options.optimizeParameters = true;
options.optimizeReturns = true;
options.optimizeCalls = true; 
```

从技术上讲， SIMPLE_OPTIMIZATIONS 会给你参数重命名。，以防高级启动导致你的代码出现问题（再次来自源代码）：

```
/**
 * SIMPLE_OPTIMIZATIONS performs transformations to the input JS that do not
 * require any changes to JS that depend on the input JS. For example,
 * function arguments are renamed (which should not matter to code that
 * depends on the input JS), but functions themselves are not renamed (which
 * would otherwise require external code to change to use the renamed function
 * names).
 */ 
```

# php - 创建一个乘法“网格”

> ID：14576783
> 
> 赞同：0
> 
> 时间：2013-01-29T06:17:20.360
> 
> 标签：php, for-loop

我正在尝试在 PHP 中创建一个简单的乘法网格

例如，它应该是 2x2 网格的格式：

```
0 1 2
1 1 2
2 2 4 
```

我的问题是让它从 0 开始。

到目前为止，这是我的嵌套 for 循环：

```
 for($i=0;$i<=$_POST['rows'];$i++)
                {
                        echo "<tr>";
                        for($j=0;$j<=$_POST['columns'];$j++)
                        {
                                if($i==0)
                                {
                                        echo "<td>" . 1*$j . "</td>";
                                }
                                else
                                {
                                        $mult = $i * $j;
                                        echo "<td> $mult </td>";
                                }
                        }
                        echo "</tr>";
                } 
```

但它给出了输出：

```
0   1   2
0   1   2
0   2   4 
```

我需要适当的 0 列。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T06:22:16.143

您获得第一行的方式`0 1 2 3`是通过 X 轴上的特殊情况。对 Y 轴 ( ) 执行类似的特殊情况`$j`：

```
if ($i == 0) {
    ... 1 * $j ...
}
else if ($j == 0) {
    ... $i * 1 ...
}
else {
    ... $i * $j ...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:29:23.570

我不明白你构建网格的方式。您所需要的只是一个行指示器和乘法的数字，而不是嵌套循环。第二：为什么不从 1 开始，而不是在循环中捕获案例。这将是我的乘法“网格”的变体</p>

```
<?php
    $rows = $_POST['rows'];
    $number = $_POST['columns'];

    for( $i=1; $i <= $rows; $i++) {
        $mult = $i * $number;
        echo "<tr>
                <td>" . $i.'*'. $j . "</td>
                <td>".$mult."</td>
            </tr>";
    }
?> 
```

这将是一个简单的网格 (x * y) = 结果。如果你想要一个完整的乘法表，它会是这样的：

```
<?php
    $rows = $_POST['rows'];
    $number = $_POST['columns'];
    echo "<tr><th></th>";
    for( $j=1; $j <= $number; $j++) {
         echo "<th>".$j."</th>";
    }
    echo "</tr>";
    for( $i=1; $i <= $rows; $i++) {
        echo "<tr>";
         echo "<th>".$i."</th>";
         for( $j=1; $j <= $number; $j++) {
                $mult = $i * $j;
                echo "<td>".$mult."</td>";
        }
        echo "</tr>";
    }
?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-29T06:22:39.640

您不仅有`$i==0`特殊情况，还有`$j==0`：

```
if($i==0)
{
    echo "<td>" . 1*$j . "</td>";
}
elseif($j==0)
{
    echo "<td>" . $i*1 . "</td>";
}
else
{
    $mult = $i * $j;
    echo "<td> $mult </td>";
} 
```

# spring - 当我使用spring aop时如何切入休眠？

> ID：14576785
> 
> 赞同：0
> 
> 时间：2013-01-29T06:17:43.103
> 
> 标签：spring, aop, spring-aop

我认为作为会话的入口点，但似乎失败了。是否我的配置？这是我的弹簧配置。

```
<bean id="aspect" class="org.bigbean.common.aop.DaoAspect" />
<aop:config>
    <aop:aspect ref="aspect">       
        <aop:around pointcut="execution(* org.hibernate.SharedSessionContract.createQuery(java.lang.String))"
            method="aroundAdvice" />
    </aop:aspect>
</aop:config> 
```

跟随是我的课

```
 public Object aroundAdvice(ProceedingJoinPoint pjp) throws Throwable {
    System.out.println("aroundAdvice");
    String hql = (String) pjp.getArgs()[0];
    if(hql.indexOf("update") > -1){
        StringBuilder sb = new StringBuilder();
        int temp = hql.indexOf("where");
        if(temp > -1){
            sb.append(hql.subSequence(0, temp));
            sb.append(",updateDate = :updateDate ");
            sb.append(hql.substring(temp));
        }else{
            sb.append(",updateDate = :updateDate ");
        }
        hql = sb.toString();
        mark = true;
    }
    Object retVal = pjp.proceed(new Object[] { hql });
    return retVal;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T10:17:32.150

除非您使用[加载时编织](http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/aop.html#aop-aj-ltw)或[编译时编织](http://www.chrissearle.org/blog/technical/spring_aspects_configurable_and_compile_time_weaving_using_maven)，否则 Spring AOP 是基于代理的。这意味着您只能切入由 Spring 创建的对象（即 Spring bean）。您正在尝试切入一个内部 Hibernate 对象，该对象很可能是使用普通`new SharedSessionContract()`构造在 hibernate 内部创建的。

# css - 使用css将一个圆分成24段

> ID：14576793
> 
> 赞同：3
> 
> 时间：2013-01-29T06:18:05.843
> 
> 标签：css, geometry, segment

我使用 css 创建了一个圆圈。现在我想把它分成24段。如何使用 css 执行此操作。帮我。这是我如何创建圈子的代码：

```
<div class="circle"></div>
.circle{

            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: blue
            } 
```

![最终结果如下所示：](../Images/398bc73354145c16c380c3999c03faf3.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T11:00:32.027

您可以使用可缩放矢量图形更轻松地执行它。

画圆的代码：

```
<svg xmlns="http://www.w3.org/2000/svg" version="1.1">
   <circle cx="150" cy="100" r="50" stroke="blue" stroke-width="2" fill="white"/>
</svg> 
```

你可以画不同的线，这样你就可以把圆分成几段。

行代码：

```
<svg xmlns="http://www.w3.org/2000/svg" version="1.1">
   <line x1="0" y1="0" x2="200" y2="200" style="stroke:rgb(255,0,0);stroke-width:2"/>
</svg> 
```

# c++ - C ++ Windows MFC并发：让线程等到特定状态实现

> ID：14576794
> 
> 赞同：1
> 
> 时间：2013-01-29T06:18:08.513
> 
> 标签：c++, c, windows, concurrency, mfc

在 Windows MFC 并发上，我如何告诉我当前的线程等到达到特定状态？目前我能想到的唯一方法是执行定期睡眠并检查状态——当我们处于预期状态时，然后继续。有没有更好的方法来做到这一点？

```
BOOL achieved = FALSE;

int main (int argc, char** argv) {

  // This function creates a new thread and modifies the 'achieved' global variable at some point in the future
  doSomethingOnAnotherThread();

  // Wait maximum 4 seconds for 'achieved' to be TRUE, otherwise give up
  for(int i=0; i<5; i++) {
    EnterCriticalSection(&CS);
    int localAchieved = achieved;
    LeaveCriticalSection(&CS);

    if (!localAchieved) { 
      if(i==4) { 
        cout << "waited too long .. giving up" << endl; 
        break; 
      }
      Sleep(1000); // let's wait 1 more second and see what happen
    } else {
      cout << "achieved is TRUE, resuming main thread" << endl;
      break;
    }
  }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-29T11:05:14.637

[CEvent 类](http://msdn.microsoft.com/en-us/library/efk30beh%28v=vs.110%29.aspx)：

> 表示一个事件，它是一个同步对象，使一个线程能够通知另一个线程发生了事件。

因此，它是解决问题的合适工具。

让我们来说明一下：

```
void DoSomethingOnAnotherThread(CEvent* event)
{
    // Long-running operation.
    ...

    // Sets the state of the event to signaled, releasing any waiting threads.
    event->SetEvent();

    // TODO: maybe add try/catch and SetEvent() always after the long-running operation???
}

int main (int argc, char** argv)
{
    // Manual-reset event.
    CEvent achieved_event(FALSE, TRUE);

    // This function creates a new thread and modifies the 'achieved' global variable at some point in the future
    DoSomethingOnAnotherThread(&achieved_event);

    // Wait the event to be signalled for 4 seconds!
    DWORD wait_result = WaitForSingleObject(achieved_event, 4000);

    switch (wait_result) {
    case WAIT_OBJECT_0:
        std::cout << "Achieved!" << std::endl;
        break;
    case WAIT_TIMEOUT:
        std::cout << "Timeout!" << std::endl;
        break;
    default: // WAIT_FAILED
        std::cout << "Failed to wait!" << std::endl;
        break;
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-29T06:20:25.797

您要使用的是[事件对象。](http://msdn.microsoft.com/en-us/library/windows/desktop/ms686915%28v=vs.85%29.aspx)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-29T06:20:52.380

您可以使用 WinAPI 代替轮询：请参阅[CreateEvent](http://msdn.microsoft.com/en-us/library/windows/desktop/ms682396%28v=vs.85%29.aspx)和[WaitForSingleObject](http://msdn.microsoft.com/en-us/library/windows/desktop/ms687032%28v=vs.85%29.aspx)

# c# - 在 DataGridView 中以编程方式选择行

> ID：14576803
> 
> 赞同：23
> 
> 时间：2013-01-29T06:18:38.233
> 
> 标签：c#, .net, visual-studio-2010, datagridview

我想在某些事件之后选择先前选择的行，我的代码如下。

```
int currentRow = dgvIcbSubsInfo.CurrentCell.RowIndex;
//code to execute
dgvIcbSubsInfo.Rows[currentRow].Selected = true; 
```

执行代码后，预览将如下所示。但我需要`>`在 id = 1272741 （蓝色选择）中而不是在 1272737 中获取符号

![在此处输入图像描述](../Images/49f647eebf38382c668fd49cded1ab52.png)

* * *

## 回答 #1

> 赞同：54
> 
> 时间：2013-01-29T06:43:43.190

您可能已经看过[DataGridView.CurrentRow 属性](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridview.currentrow.aspx)，它是一个只读属性：

> 获取包含当前单元格的行。

但在备注部分，写着：

> 要更改当前行，您必须将[`CurrentCell`](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridview.currentcell.aspx)属性设置为所需行中的单元格。

此外，从[DataGridView.CurrentCell 属性](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridview.currentcell.aspx)中，我们发现：

> 当您更改此属性的值时，SelectionChanged 事件会在 CurrentCellChanged 事件之前发生。此时访问 CurrentCell 属性的任何 SelectionChanged 事件处理程序都将获得其先前的值。

因此，您无需实际选择`currentRow`它，因为在您设置值时会选择它`CurrentCell`（除非您有一些代码要在`SelectionChanged`和`CurrentCellChanged`事件之间的当前范围内执行）。试试这个：

```
//dgvIcbSubsInfo.Rows[currentRow].Selected = true;
dgvIcbSubsInfo.CurrentCell = dgvIcbSubsInfo.Rows[currentRow].Cells[0]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:36:02.553

我认为您希望突出显示该行。请尝试以下代码，我认为它可能会有所帮助：

```
Color color = dgv.Rows[prevRowIndex].DefaultCellStyle.SelectionBackColor;
dgv.Rows[curRowIndex].DefaultCellStyle.SelectionBackColor = color; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-09-30T03:23:52.193

尝试以下更改当前行。由于 OP 不清楚哪一行应该是新行，我的示例只是显示从当前行移动到上一行（如果有前一行）。第一行代码是可选的。如果您不想使用 FullRowSelect，也可以将 col 硬编码为 0（或其他列）以使用固定列。

```
dataGridView.SelectionMode = DataGridViewSelectionMode.FullRowSelect;
int row = dataGridView.CurrentCell.RowIndex;
int firstRow = dataGridView.Rows.GetFirstRow(DataGridViewElementStates.None);
if (row != firstRow)
{
  row--;
  int col = dataGridView.CurrentCell.ColumnIndex;
  dataGridView.CurrentCell = dataGridView[col, row];
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-09-08T20:06:00.913

我来到这里想学习如何以编程方式选择 DataGridView 控件中的行。以下是如何在名为 dg1 的 DataGridView 控件中选择顶行并“单击”它：

```
dg1.Rows[0].Selected = true;                      

dg1_RowHeaderMouseClick(null, null); 
```

然后这会调用以下事件，该事件需要一个选定的行。

```
private void dg1_RowHeaderMouseClick(object sender, DataGridViewCellMouseEventArgs e)
    {                        
        var selectedRows = dg1.SelectedRows;

        // Make sure we have a single row selected
        int count = selectedRows.Count;

        if (count == 1)
        {                
            tbAssemblyName.Text = dg1.SelectedRows[0].Cells[0].Value.ToString();                
        }
    } 
```

当用户单击他们想要的行时，我一切正常。当只有一条记录可供选择时，我想为用户“单击”它。

# python - 使用python将CSV中的一列转换为html页面中的段落

> ID：14576804
> 
> 赞同：0
> 
> 时间：2013-01-29T06:18:45.107
> 
> 标签：python, csv

我有一个将 CSV 直接转换为 HTML 的代码，因此它看起来像一个 html 网页格式的表格。但是，我希望它采用第一列，然后将第一列转换为 div，第一列中的文本读起来像普通段落。因此，如果：

1 5
2 6
3 7
4 8

那么 div 将是水平的

1 2 3 4

5 6 7 8

所以在某种程度上我是某种转置矩阵......

该文档最终将是大约 100 行乘 4 列。我想最终拉出每一列，并将它们逐个段落。

这是将 csv 转换为 html 表的代码

```
import sys
import csv

if len(sys.argv) < 3:
    print "Usage: csvToTable.py csv_file html_file"
    exit(1)

reader = csv.reader(open(sys.argv[1]))

htmlfile = open(sys.argv[2],"w")

colnum = 0

htmlfile.write('<div style="margin-left:220px;">')

for column in reader: 
    if colnum == 0:
        htmlfile.write('<p>') 
        for row in column:
            htmlfile.write ( row ) 
        htmlfile.write('</p>') 
    else:      
        rownum = 1
        if colnum % 2 == 0:
            htmlfile.write('<p class="color1">')
        else:
            htmlfile.write('<p class="color2">')

htmlfile.write('</div>')
exit(0) 
```

这就是我为了制作段落而重新格式化的内容

```
htmlfile.write('<div style=" position: absolute; margin-

left:520px; top:100px;">')

for column in reader: 
    if colnum == 0:
        htmlfile.write('<p>') 
        for row in column:
            htmlfile.write ( row ) 
        htmlfile.write('</p>') 

htmlfile.write('</div>')
exit(0) 
```

但当然我不工作！我只学习了大约 3 天的 Python，所以即使在翻阅书籍和网站之后我也不知道该怎么做

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T07:29:24.263

[您可以使用csv](http://docs.python.org/2/library/csv.html#csv.reader)将 CSV 文件作为元组列表读取。[阅读器](http://docs.python.org/2/library/csv.html#csv.reader)功能。然后，您可以使用[zip 函数转置](https://stackoverflow.com/questions/19339/a-transpose-unzip-function-in-python)数据。交换行和列后，您可以遍历将它们连接起来的结果行以形成一个段落，并将每一行作为一个 div。

# java - java - 为什么这个for循环会给出一个空指针异常？

> ID：14576807
> 
> 赞同：0
> 
> 时间：2013-01-29T06:19:03.890
> 
> 标签：java, arrays, loops, for-loop, nullpointerexception

嗨，我正在为学校创建一个小游戏，但是当我尝试这样做以填写此数组中的 x 和 y 变量时，我得到了一个 NPE。有人可以帮忙吗？

```
public class mainclass {
    public static void main(String[] args) {
        Gra piece[] = new Gra[10];

        for (int i = 0; i < piece.length; i++) {
            piece[i].x = 50;
            piece[i].y = 50;
        }
    }
}

class Gra{
    public int x = 50;
    public int y = 10;
} 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-29T06:21:50.913

```
Gra piece[] = new Gra[10]; 
```

不初始化数组内部的对象，只创建数组，所以调用构造函数创建`Gra`s

```
for (int i = 0; i < piece.length; i++) {
   piece[i] = new Gra();
   piece[i].x = 50;
   piece[i].y = 50;
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-29T06:25:01.717

该声明

```
Gra piece[] = new Gra[10]; 
```

只会初始化数组。它不会创建`Gra`对象。

在 内部`for loop`，您仍然必须将构造函数调用为

```
for (int i = 0; i < piece.length; i++) {
    piece[i] = new Gra();
    piece[i].x = 50;
    piece[i].y = 50;
} 
```

另外，阅读更多关于`encapsulation`. 它是一个`bad idea`制作`instance variables public`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-29T06:22:00.487

您已经初始化`gra array`但您没有创建`Object`，因此数组内没有 Object 并且默认情况下初始化 null ，因此`piece[i].x`实际上`null.x`是抛出 ​​NPE。

```
 Gra piece[] = new Gra[10];
    for (int i = 0; i < piece.length; i++) {
        piece[i] = new Gra();
        piece[i].x = 50;
        piece[i].y = 50;
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-29T06:22:46.067

您已经创建了一个包含 10 个元素的 Gra 数组。

```
Gra piece[] = new Gra[10]; 
```

但是该数组中的每个元素当前都指向 null。

您需要初始化这些单独的元素，因为 Java 的 Object 的默认值为 null。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-29T06:23:36.047

因为您只是在创建`Gra`By类型的 Array

```
Gra piece[] = new Gra[10]; 
```

所以默认情况下这是`null`.

所以首先像这样初始化它们

```
for (int i = 0; i < piece.length; i++) {
       pirce[i] =  new Gra();
    } 
```

然后做

```
 for (int i = 0; i < piece.length; i++) {
        piece[i].x = 50;
        piece[i].y = 50;
    } 
```

# wampserver - 同一台 PC 上的多个 WAMP 服务器

> ID：14576809
> 
> 赞同：6
> 
> 时间：2013-01-29T06:19:14.317
> 
> 标签：wampserver

我已经在我的 C: 驱动器上安装了 WAMP 服务器，并在它的嵌入式 mysql 实例中创建了几个数据库。后来我在我的 D: 驱动器上安装了另一个 WAMP 服务器实例。现在我可以在我的 D: 驱动器中运行 wamp 服务器实例，我也可以在我的 C: 驱动器上运行另一个 WAMP 服务器实例（一次 1 个实例），但问题是即使我在我的 C 中运行 WAMP 实例：驱动它不显示我的旧数据库和旧别名不起作用！

现在我想切换回 C: 驱动器中的旧 WAMP 服务器实例。我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-26T14:07:44.237

虽然我没有测试过但是你需要改变apache和mysql服务器的端口。

查看[http://www.websysdynamics.com/Web-Tech-Blog/how-to-run-xampp-and-wamp-on-same-machine-in-windows-environment.html](http://www.websysdynamics.com/Web-Tech-Blog/how-to-run-xampp-and-wamp-on-same-machine-in-windows-environment.html)

这可能会有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-27T22:26:18.610

我也是。我成功安装了新版本并移动了一些站点，但后来发现旧版本不再正常工作了。我认为一些全局路径变量可能会被覆盖或其他东西。旧 wamp 现在`localhost`指向新 wamp 的 www 文件夹，实际上`localhost/phpmyadmin`只显示新 wamps 数据库。所以警告未来的读者！

[关于为什么你不应该在这里](https://superuser.com/questions/994013/run-two-wamp-servers-installed-in-different-drives-simultaneously)尝试这样做的更多信息

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-03-18T11:53:08.397

您将尝试为不同版本的 WAMP更新位于**wampmanager.conf的配置。**在那里您可以设置 MySQL 版本、应用程序等。

[安装 32 位和 64 位 WAMP 服务器](http://www.pixelstech.net/article/1489816759-Install-both-32-bit-and-64-bit-WAMP-server)的帖子会给您一些提示。

# java - jdbc url 定义

> ID：14576813
> 
> 赞同：2
> 
> 时间：2013-01-29T06:19:23.117
> 
> 标签：java, oracle, jdbc

我知道这个问题会让我投下很多反对票，但我还是要问！:D 我已经四处搜索，但我的查询仍然存在。.

jdbc 连接 url 是-`jdbc:oracle:thin:hr/hr@localhost:1521/XE`

我将直截了当地提出我的问题：

问题1：为什么我们在url字符串中使用“：”（冒号）？作为约定，“：”用于指定端口号。

问题2：什么是薄？据我所知，瘦指定客户端..即瘦/厚客户端？那实际上是什么？

问题3：什么是XE？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-29T06:27:02.497

> 问题1：为什么我们在url字符串中使用“：”（冒号）？

因为那是 Jdbc url 连接字符串协议来分隔不同的段，如主机、驱动程序、数据库等

> 问题2：什么是薄？

瘦意味着 100% java 驱动，不像 ODBC-JDBC 桥或原生

> 问题3：什么是XE？

XE 是模式名称（数据库实例），在这种情况下，它是 Oracle Express Edition 的默认值

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T07:08:26.630

jdbc 连接 url 是 - jdbc:oracle:thin:hr/hr@localhost:1521/XE

我将直截了当地提出我的问题：

问题1：为什么我们在url字符串中使用“：”（冒号）？作为约定，“：”用于指定端口号。Ans.在jdbc技术中，给出了一些规则来开发jdbc持久化逻辑来连接数据库。所以，这个url模式有字符串类型，但属性用分号分隔来标识与数据库的连接。端口号是用于连接目的的数据库的唯一值，如 oracle 是 1521。

问题2：什么是薄？据我所知，瘦指定客户端..即瘦/厚客户端？那实际上是什么？Ans-thin 驱动程序在内部具有较少的层实现。thin 驱动程序是 java 中最好的驱动程序，因为 Thin 不依赖于数据库的 dsn。thin 驱动程序连接到在其他服务器位置运行的所有数据库。内部有更多层实现的厚驱动程序。它适用于独立应用程序。它依赖于 dsn。

问题3：什么是XE？XE 是 oracle Express 版数据库的服务 ID。它意味着每个数据库都具有唯一的数据库位置标识以与默认情况下具有 XE 的 oracle Express Edition 的数据库连接。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-29T06:25:14.500

`jdbc:oracle:thin:[user/password]@[host][:port]:SID`

**user** - 在 Oracle 服务器中定义的登录用户名。

**密码**- 登录用户的密码。

**host** - 运行 Oracle 服务器的主机名。默认为 127.0.0.1 - localhost 的 IP 地址。

**port** - Oracle 正在侦听连接的端口号。默认值为 1521。

**SID** - Oracle 服务器数据库实例的系统 ID。SID 是必需的值。默认情况下，Oracle 数据库 10g 快捷版会创建一个名为 XE 的数据库实例。

# iphone - 当应用程序在 iPhone 中进入睡眠模式时，我们可以锁定应用程序吗？

> ID：14576815
> 
> 赞同：0
> 
> 时间：2013-01-29T06:19:41.207
> 
> 标签：iphone, ios, objective-c, ios6, locking

我正在使用一个包含锁定选项的应用程序。我的应用程序从密码屏幕开始。如果我输入正确的代码，那么它将导航到下一个屏幕。如果我长时间不使用该应用程序，它将进入睡眠模式。当用户想要现在运行应用程序，应该会出现密码屏幕，并且用户必须再次输入密码。这可能吗？是否有任何教程？如果您已经完成，请不要介意发布相关代码。提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-29T06:23:22.987

是的，当然这是可能的。`applicationDidBecomeActive`您必须在 Application Delegate 中调用的方法中打开屏幕。每次从后台打开应用程序时都会调用此方法。

因此，每当用户启动已经运行的应用程序时，都会调用此方法，然后您可以首先显示密码屏幕，然后再显示相应的屏幕。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T06:35:33.070

在那里检查应用程序委托类的方法`applicationDidEnterForeground`，`applicationDidEnterBackground`并且可以在那里进行编码

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-29T06:24:04.033

您可以使用`UIApplicationDidEnterBackgroundNotification`. 当它发生时，记录日期和时间。当用户打开应用程序备份时，您将收到`UIApplicationWillEnterForegroundNotification`. 收到后，将记录的日期和时间与当前日期和时间进行比较。如果太旧，请显示密码屏幕。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-29T06:54:10.917

我开发了相同类型的应用程序，我已经实现了这些东西，为此我做了一个这样的类

```
@interface CommonUIClass:NSObject

+(void)setCurrentViewController:(id)controller;

+(void)openPassWordProtectedScreen;

@end 
```

和

```
@implementation CommonUIClass

static id currentViewControllerObj;

+(void)setCurrentViewController:(id)controller{ 

  currentViewControllerObj = controller;

}

+(void)openPassWordProtectedScreen{

PROTECTED_CONTROLLER *view = [[PROTECTED_CONTROLLER alloc]init];

if ([currentViewControllerObj respondsToSelector:@selector(presentModalViewController:animated:)]) {
        [currentViewControllerObj presentModalViewController:patternLock animated:NO];
}

}

@end 
```

只需将此类导入每个 ViewController 并将此代码放入

```
-(void)viewWillApear{

[CommonUIClass setCurrentViewController:self];
[super viewWillApear];
} 
```

当应用程序进入后台时

```
-(void)applicationWillResignActive:(UIApplication *)application{

[CommonUIClass openPassWordProtectedScreen];

} 
```

谢谢..

# php - PHP 和 SQLite - 将某些列值相乘

> ID：14576816
> 
> 赞同：1
> 
> 时间：2013-01-29T06:19:47.110
> 
> 标签：php, sqlite

我正在从数据库中检索一些数据，其中的值可能类似于以下内容：

```
Column1 | Column2
-----------------
Bob     | 24
Joe     | 17
Jimmy   | 38
Joe     | 10
Bob     | 5
Sam     | 8 
```

有了这些数据，我想以某种方式选择 Bob 行并将它们相乘。我想对 Column1 中匹配的所有行执行此操作。我不关心在 SQLite 中这样做，但是在 PHP 中解决这个问题的最佳方法是什么？我目前通过执行以下操作将结果添加到 PHP 中的数组中：

`$myArray[$resultRow['Column1']] = $resultRow['Column2'];`

我想知道如何进行导航并找到匹配的键，将它们的值相乘，并输出类似

`Column1 = Column2-a * Column2-b`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T07:41:49.770

考虑这段代码：

```
$results = array();
foreach(array('Bob' => 24, 'Joe' => 17, 'Jimmy' => 38, 'Joe' => 10, 'Bob' => 5, 'Sam' => 8) as $key => $val){
 $results[$key][] = $val;
}
echo  '<pre>';
print_r($results);
echo  '</pre>'; 
```

输出：

```
Array
(
    [Bob] => Array
        (
            [0] => 5
        )

    [Joe] => Array
        (
            [0] => 10
        )

    [Jimmy] => Array
        (
            [0] => 38
        )

    [Sam] => Array
        (
            [0] => 8
        )

) 
```

PHP 忽略重复键，当您从数据库中检索数据时，您必须创建 $results 数组，假设您这样做：

```
while () {
    $col1 = $row["col1"];
    $col2 = $row["col2"];
    $results[$col1][] = $row["col2"];
} 
```

现在结果数组必须是这样的：

```
Array
(
    [Bob] => Array
        (
            [0] => 24
            [1] => 5
        )

    [Joe] => Array
        (
            [0] => 17
            [1] => 10
        )

    [Jimmy] => Array
        (
            [0] => 38
        )

    [Sam] => Array
        (
            [0] => 8
        )

) 
```

现在，很容易像这样搜索 colmun1 名称：

```
$values_for_colmn1 = $results[$column1]; //which is an array 
```

// 对数组乘积使用 array_product() 函数

```
$product_for_column1 = array_product($values_for_colmn1); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T08:04:51.317

首先，只读取 Bob 的值：

```
$stmt = $db->prepare('SELECT Column2 FROM MyTable WHERE Column1 = ?')
$stmt->bindValue(1, 'Bob', SQLITE3_TEXT);
$result = $stmt->execute(); 
```

然后，将它们全部相乘：

```
$value = 1.0;
while ($res = $result->fetchArray()) {
    $value = $value * $res['Column2'];
} 
```

# c# - 在 asp.net 中的 detailsview 内的下拉列表数据绑定

> ID：14576817
> 
> 赞同：1
> 
> 时间：2013-01-29T06:20:08.017
> 
> 标签：c#, asp.net

我有将用于编辑客户记录的详细信息视图。在此详细信息视图中，我有一个显示国家/地区列表的下拉列表。

我有一个名为 CountryList 的表，它会将国家列表填充到上述下拉列表中。

用户可以毫无问题地编辑和保存数据。

但是，假设客户记录的国家/地区选择为“澳大利亚”，如果我从 CountryList 中删除澳大利亚并尝试在详细信息视图中编辑客户，我会遇到以下错误。

```
SelectedValue which is invalid because it does not exist in the list of items 
```

我知道原因是因为

```
SelectedValue='<%# Bind("Country") %>' 
```

它在列表中找不到它。

所以我的问题是，如何克服这个问题？

在网上搜索后，我发现我可以覆盖 Databind 但我不知道该怎么做。不知道如何覆盖，有人可以给我示例代码吗？

还有其他解决方案吗，例如在设置之前验证它？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:35:13.893

您可以在选择值之前调用函数，如下所示：

```
SelectedValue='<%# CheckCountry(Eval("Country"))%>' 
```

在 aspx.cs 文件中创建如下函数，它将检查列表中是否存在国家，如果不存在，则显示默认值

```
public string CheckCountry(string country)
{
   // add your logic to check contry in list 
   //  and return value as per result if it is exist
   // return country name else return default value
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:34:33.300

尝试在绑定之前检查列表中是否存在国家/地区（dataTable，DataSet 等），例如

```
DataTable dtPs=getAvailableCountries();
string countryName = "Australia";
DataRow foundRow = dtPs.Rows.Find(countryName);
if(foundRow != null) {
 //You have it ...
 bindTheDropdown();
}else{
 //You dont have it ...
 dontBindTheDropdown();
} 
```

# android - 无法更新 SQLite 数据库中的选定列 - Android

> ID：14576820
> 
> 赞同：0
> 
> 时间：2013-01-29T06:20:09.927
> 
> 标签：android, android-sqlite

我需要更新数据库中的选定列，但是我无法获取更新的数据。用户单击下一步按钮后，数据应该会更新。表中总共需要更新 12 个字段。

注意：dba 是 DBAdapter，即数据库，myDB 是 SQLiteDatabase

```
 nxt = (Button)findViewById(R.id.btn_nxt);
          nxt.setOnClickListener(new OnClickListener(){

            public void onClick(View v) {

                String b1=t1.getText().toString();
                String b2=goal_website_trying_to_achieve_edttxt.getText().toString();
                String b3=communicate_edttxt.getText().toString();
                String b4=success_look_like_edttxt.getText().toString();
                String b5=usp_insights_edttxt.getText().toString();
                String b6=act_edttxt.getText().toString();
                String b7=market_edttxt.getText().toString();
                String b8=your_current_website_www_edttxt.getText().toString();
                String b9=your_current_website_good_edttxt.getText().toString();
                String b10=your_current_website_bad_edttxt.getText().toString();
                String b11=your_current_website_type_edttxt.getText().toString();
                String b12=your_current_website_update_edttxt.getText().toString();
                String b13=your_current_website_supporting_edttxt.getText().toString();

                if(!validatescreen2()){
                    return;
                }

                else{

                    dba.open();

                    String updatequery = "UPDATE "+ DBAdapter.DATABASE_TABLE+ " SET ";

                    updatequery = updatequery + " KEY_MESSAGE_1 = " + b1 +"WHERE" +"_id"+mRowId +",";
                    updatequery = updatequery + " KEY_MESSAGE_2 = " + b2 +"WHERE" +"_id"+mRowId + ",";
                    updatequery = updatequery + " KEY_MESSAGE_3 = " + b3 +"WHERE" +"_id"+mRowId + ",";
                    updatequery = updatequery + " KEY_MESSAGE_4 = " + b4 +"WHERE" +"_id"+mRowId + ",";
                    updatequery = updatequery + " KEY_MESSAGE_5 = " + b5 +"WHERE" +"_id"+mRowId + ",";
                    updatequery = updatequery + " KEY_MESSAGE_6 = " + b6 + "WHERE" +"_id"+mRowId +"',";
                    updatequery = updatequery + " KEY_YOUR_CURRENT_WEBSITE_1 = " + b7 + "WHERE" +"_id"+mRowId +",";
                    updatequery = updatequery + " KEY_YOUR_CURRENT_WEBSITE_2 = " + b8 +"WHERE" +"_id"+mRowId + ",";
                    updatequery = updatequery + " KEY_YOUR_CURRENT_WEBSITE_3 = " + b9 +"WHERE" +"_id"+mRowId + ",";
                    updatequery = updatequery + " KEY_YOUR_CURRENT_WEBSITE_TYPE = " + b10 + "WHERE" +"_id"+mRowId +",";
                    updatequery = updatequery + " KEY_YOUR_CURRENT_WEBSITE_NEED = " + b11 + "WHERE" +"_id"+mRowId +",";
                    updatequery = updatequery + " KEY_YOUR_CURRENT_WEBSITE_OTHER = " + b12 + "WHERE" +"_id"+mRowId ;

                    try{
                        myDB.execSQL(updatequery);
                    }catch(Exception e){
                        Log("Caught while writing response" + e.getLocalizedMessage());
                    }finally{
                        if(myDB != null)myDB.close();

                    }

                    showDialog(DIALOG_ID);

                    dba.close();
                }

            }

          }); 
```

所做的更改

```
String updatequery = "UPDATE"+ DBAdapter.DATABASE_TABLE+ " SET "+ DBAdapter.KEY_MESSAGE_1 +"= "+ b1 +

                                DBAdapter.KEY_MESSAGE_2  +"= "+ b2 +
                                DBAdapter.KEY_MESSAGE_3  +"= "+ b3 +
                                DBAdapter.KEY_MESSAGE_4  +"= "+ b4 +
                                DBAdapter.KEY_MESSAGE_5  +"= "+ b5 +
                                DBAdapter.KEY_MESSAGE_6 +"= "+ b6+
                                DBAdapter.KEY_YOUR_CURRENT_WEBSITE_1  +"= "+ b7 +
                                DBAdapter.KEY_YOUR_CURRENT_WEBSITE_2  +"= "+ b8 +
                                DBAdapter.KEY_YOUR_CURRENT_WEBSITE_3  +"= "+ b9+
                                DBAdapter.KEY_YOUR_CURRENT_WEBSITE_TYPE  +"= "+ b10 +
                                DBAdapter.KEY_YOUR_CURRENT_WEBSITE_NEED  +"= "+ b11 +               
                                DBAdapter.KEY_YOUR_CURRENT_WEBSITE_OTHER +"= " + b12  + "WHERE" + DBAdapter.KEY_ROWID + "=" + mRowId ;

logcat error file

01-30 12:02:24.136: W/System.err(2645): java.lang.NullPointerException
01-30 12:02:24.136: W/System.err(2645):     at com.example.sales.Newform_Screen2$3.onClick(Newform_Screen2.java:165)
01-30 12:02:24.136: W/System.err(2645):     at android.view.View.performClick(View.java:4084)
01-30 12:02:24.136: W/System.err(2645):     at android.view.View$PerformClick.run(View.java:16966)
01-30 12:02:24.136: W/System.err(2645):     at android.os.Handler.handleCallback(Handler.java:615)
01-30 12:02:24.136: W/System.err(2645):     at android.os.Handler.dispatchMessage(Handler.java:92)
01-30 12:02:24.136: W/System.err(2645):     at android.os.Looper.loop(Looper.java:137)
01-30 12:02:24.136: W/System.err(2645):     at android.app.ActivityThread.main(ActivityThread.java:4745)
01-30 12:02:24.136: W/System.err(2645):     at java.lang.reflect.Method.invokeNative(Native Method) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T06:26:04.947

您的 SQL 查询不正确。它应该是——

```
UPDATE <table>
   SET <field1> = <value1>,
       <field2> = <value2> ...
 WHERE <indexfield> = <id> 
```

此外，您需要转义这些值，因此它是 SET FieldName = 'value'

你最好利用这种[`update`](http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#update%28java.lang.String,%20android.content.ContentValues,%20java.lang.String,%20java.lang.String%5B%5D%29)方法。

如下：

```
String updatequery = "UPDATE"+ DBAdapter.DATABASE_TABLE+ " SET "+ DBAdapter.KEY_MESSAGE_1 +"= '"+ b1 + "'," +

                                DBAdapter.KEY_MESSAGE_2  +"= '"+ b2 + "'," +
                                DBAdapter.KEY_MESSAGE_3  +"= '"+ b3 + "'," +
                                DBAdapter.KEY_MESSAGE_4  +"= '"+ b4 + "'," +
                                DBAdapter.KEY_MESSAGE_5  +"= '"+ b5 + "'," +
                                DBAdapter.KEY_MESSAGE_6 +"= '"+ b6 + "'," +
                                DBAdapter.KEY_YOUR_CURRENT_WEBSITE_1  +"= '"+ b7 + "'," +
                                DBAdapter.KEY_YOUR_CURRENT_WEBSITE_2  +"= '"+ b8 + "'," +
                                DBAdapter.KEY_YOUR_CURRENT_WEBSITE_3  +"= '"+ b9 + "'," +
                                DBAdapter.KEY_YOUR_CURRENT_WEBSITE_TYPE  +"= '"+ b10 + "'," +
                                DBAdapter.KEY_YOUR_CURRENT_WEBSITE_NEED  +"= '"+ b11 + "'," +        
                                DBAdapter.KEY_YOUR_CURRENT_WEBSITE_OTHER +"= '" + b12  + "' " + "WHERE" + DBAdapter.KEY_ROWID + "=" + mRowId ; 
```

这仍然是访问数据库的一种可怕方式。你真正应该做的是——

```
ContentValues values = new ContentValues();
values.put( DBAdapter.KEY_MESSAGE_1, b1 );
values.put( DBAdapter.KEY_MESSAGE_2, b2 );
....
String filter = String.format( "%s = '%s'", DBAdapter.KEY_ROWID, mRowId );
myDB.update( DBAdapter.DATABASE_TABLE, values, filter, null ); 
```

# jquery - 鼠标悬停在表格内时放大图像

> ID：14576822
> 
> 赞同：0
> 
> 时间：2013-01-29T06:20:18.407
> 
> 标签：jquery, css

实际上，我看到了[本](http://jsfiddle.net/uCtHh/367/)教程，用于在鼠标悬停到图像时提供放大效果，这里的图像不在任何表格中，所以我可以通过将图像放在表格中并将图像的位置设置为相对来实现相同的效果吗？

喜欢

```
 <table border = '2'>
     <tr>
      <td>
         <img id="a1" src="http://demos.frnzzz.com/imgZoom/1.jpg" height="50"  width="50">
      </td>
      <td>
         <img id="a2" src="http://demos.frnzzz.com/imgZoom/1.jpg" height="50" width="50">
      </td>
     </tr>
    </table> 
```

当我试图将图像放在表格中时，效果正在发生变化，它也增加了表格的大小，但表格的大小应该保持不变。

我正在使用以下代码为图像提供放大和缩小效果，但它在 mozilla firefox 中运行良好，但在 google chrome 中不起作用。在 chrome 中，它也在扩展表格列大小，（z-index 不起作用），img1 在表格标签内。

```
 function zoomIn(indexNo){
    var zoomin = $('#img1').attr("zoomin");
    if(zoomin == "false")
        {
            $('#img1').css("z-index", 1);
            $('#img1').css("position", "absolute");
            $('#img1').animate({
               height  :    l_imgHeightZoomIn,
               width   :    l_imgWidthZoomIn,
               left    :    l_imgLeftZoomIn,
               top     :    l_imgTopZoomIn
            }, "slow");
            $('#img1').attr("zoomin", "true");
        }
    }
--------------------------------------------------------------
  function zoomOut(indexNo){
    var zoomin = $('#img1').attr("zoomin");
    if(zoomin == "true")
        {
            $('#img1').css("z-index", 0);
            $('#img1').css("position", "static");
            $('#img1').animate({
                height : l_imgHeight,
                width  : l_imgWidth,
                left   : l_imgLeftZoomOut,
                top    : l_imgTopZoomOut
            }, 0);
            $('#img11').attr("zoomin", "false");

        }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T06:54:16.657

当我阅读您的问题时，我认为您正在寻找类似[http://jsfiddle.net/8umD4/4/](http://jsfiddle.net/8umD4/4/)的内容。

```
 img:hover
 {
   margin:0;
   padding:0;
   width:90%;
   height:90%;
 }
.formatTable td
{
width:100px;
height:100px;
text-align:center;
}  
<table border = '2' class='formatTable'>
 <tr><td>
    <img id="a1" src="http://demos.frnzzz.com/imgZoom/1.jpg" height="50" width="50" />
   </td>
   <td>
    <img id="a2" src="http://demos.frnzzz.com/imgZoom/1.jpg" height="50" width="50"/>
   </td>
 </tr>
</table> 
```

一探究竟。如果不符合您的要求，请详细说明您的问题。

# symfony - 在实体类型表单中设置首选选项

> ID：14576831
> 
> 赞同：2
> 
> 时间：2013-01-29T06:20:50.743
> 
> 标签：symfony

我在 symfony2 中有以下实体类型表单元素：

```
 ->add('member_type', 'entity', array(
                    'class' => 'AdminBundle:CustomerTier',
                    'property' => 'tier',
                    'multiple' => true,
                    'expanded' => true,
                    'required' => true,
                        )
                ) 
```

这给出了复选框。在编辑视图中，我想在添加时检查已选择的选项。请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:34:57.050

你的意思是检查视图（树枝）中的复选框吗？

```
{{ form_widget(form.checkme, { 'attr': {'checked': 'checked'} }) }} 
```

# java - 从 JAR 文件访问源文件

> ID：14576833
> 
> 赞同：0
> 
> 时间：2013-01-29T06:20:54.473
> 
> 标签：java, file-io, jar

我有一个关于从 JAR 文件访问资源的小问题。我使用 Netbeans IDE 命名处理器创建了一个 java 类库。它有一个名为的包，该包`proc`又具有名为`toRead.txt`. 现在我有另一个 java 应用程序，它具有`Main.java`使用处理器库的类。

为了获得`InputStream`文本文件，我使用了以下代码

```
ClassLoader cl = ClassLoader.getSystemClassLoader();
InputStream is = cl.getResourceAsStream("proc/toRead.txt"); 
```

在 Main.java 中。

现在我想反过来做。我想在处理器库中获得一个`InputStream`to 。`Main.java`我尝试了上面显示的相同代码，但它不起作用。

我们如何`InputStream`在这个库中获取 Source 本身？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:53:52.767

`SystemClassLoader`不会加载你自己的课程，`application classloader`或者`user classloader`我会加载你自己的课程。

试试这个代码：

```
 public class TestRead{
    public static void main(String [] args){
        InputStream is = TestRead.class.getResourceAsStream("proc/toRead.txt");
    }
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:53:25.100

我的猜测是，当您运行应用程序或将其捆绑在 JAR 中时，Main.java 文件不再存在。这一定是因为大多数 IDE 将类编译在与源代码文件夹不同的文件夹中。请注意，Java 编译器确实保留了其他资源，包括 TXT 和 GIF 文件，这就是为什么程序允许您在运行时读取文本文件的原因。

正如@TechExcahnge 所提到的，如果您**真的**需要阅读 Main.java 文件，您需要手动将其打包到 JAR 中，这可以使用任何支持 ZIP 格式的程序来完成。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-29T07:03:40.273

确保包含资源的 jar 文件位于 ClassPath 中。

尝试这个：

```
public InputStream getResourceUnderJarAsStream(){
InputStream inputStream = Thread.currentThread().getContextClassLoader().getResourceAsStream(fileName);
return inputStream;
} 
```

# jquery - 在页面刷新后维护动态分配的 CSS 类

> ID：14576836
> 
> 赞同：1
> 
> 时间：2013-01-29T06:21:09.477
> 
> 标签：jquery, css, asp.net-mvc-3

问题：

菜单根据 MVC3 中的单击分配了一个选定的类。然而，该类在页面重新加载后被重置。

尝试使用 jQuery cookie 解决它，但未正确分配值..（该类是在该菜单上单击 2-3 次后分配的，而不是在第一次单击时分配的。

菜单示例是：

```
 <div class="wrap-nav">
  <div class="menu">

        <ul>
        <li> @Html.ActionLink("Profile", "Index", "Profile") </li>
                <li>@Html.ActionLink("Search", "Index", "Search") </li>
                <li>@Html.ActionLink("Contacts", "ContactView", "Contact")</li>
                <li>@Html.ActionLink("Log Out", "LogOut", "Profile") </li>

            </ul>
    </div>
</div> 
```

jQuery代码是：

```
$(document).ready(function () {

    $("#Menu .wrap-nav .menu ul li a").click(function () {
        $.cookie("selectedMenu", $(this).text());
});

   $("#Menu .wrap-nav .menu ul li a").each(function () {
        if ($(this).text() == $.cookie("selectedMenu")) {
            $(this).parent().addClass("selected");
            return false;
        }
    });
}); 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:25:42.803

只是

```
$('selector')addClass(); 
```

应该管用？在php中我这样写

```
$('selector').addClass('<?php echo $dynamically_load_classname?>') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-28T18:05:03.360

在菜单点击后打开的页面上使用了 Jquery。

例如。在个人资料页面上，编写了代码来分配个人资料链接类。

# python - 如何在 Python 中创建超过最大大小的列表

> ID：14576838
> 
> 赞同：10
> 
> 时间：2013-01-29T06:21:35.567
> 
> 标签：python, list

据此[，](https://stackoverflow.com/questions/855191/how-big-can-a-python-array-get) 32 位系统上 Python 列表的*最大大小为 536,870,912 个元素*。

有没有可能的方法来初始化一个比这更大的列表？

比方说：

```
list1 = [None]*1000000000 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2014-08-12T22:39:38.073

如此大的列表会占用大量空间，因为列表中的每个元素将占用至少 4 个字节，因此只有一个具有最大允许元素的列表将占用至少 2GB 的 RAM ¹。这甚至没有考虑 64 位系统²。

1.  `4 * 5.4e+8 = 2.1e+9`, 2.1 GB
2.  `8 * 1.2e+18 = 9.2e+18`, 9.2 EB（是的，艾字节）

但是，为了这个问题，让我们假设您有很多 RAM。

* * *

最简单的选项之一是创建您自己的对象来保存和处理大量列表。它基本上会将庞大的列表拆分为较小的列表，然后在需要时相应地访问它们。由于[子类化并没有真正的好处，`list`](https://stackoverflow.com/a/3946763/2801037)因为无论如何您都必须重写所有方法，所以最好只进行子类化`object`然后从那里开始。这里唯一重要的是永远不要合并或复制子列表（因为它们很大），所以[`itertools.chain`](https://docs.python.org/2/library/itertools.html#itertools.chain)在必要时使用循环遍历列表。

这是最简单的列表方法的示例`append`，`extend`,`get/setitem`工作：

```
import sys
from itertools import chain

class largeList(object):
    def __init__(self, mylist=None):
        self.maxSize = sys.maxsize/4
        self.src = [[]]
        self.extend(mylist if mylist is not None else [])

    def __iter__(self):
        return chain(*self.src)

    def __getitem__(self, idx):
        return self.src[int(idx/self.maxSize)][idx%self.maxSize]

    def __setitem__(self, idx, item):
        self.src[int(idx/self.maxSize)][idx%self.maxSize] = item
        # expand set/getitem to support negative indexing.

    def append(self, item):
        if len(self.src[-1]) < self.maxSize:
            self.src[-1].append(item)
        else:
            self.src.append([item])

    def extend(self, items):
        remainder = self.maxSize - len(self.src[-1])
        self.src[-1].extend(items[:remainder])
        for i in xrange(0, len(items[remainder:]), self.maxSize):
            self.src.append(items[remainder:][i:i+self.maxSize])

    def __len__(self):
        return sum(len(l) for l in self.src)

    def __str__(self):
        size = self.__len__()
        if size >= 8:
            first, last = [], []
            for i, ele in enumerate(self.__iter__()):
                if i < 3:
                    first.append(ele)
                if i >= size - 3:
                    last.append(ele)
            return str(first)[:-1] + ', ..., ' + str(last)[1:]
        return str(list(self.__iter__())) 
```

使用示例（**如果您的可用 RAM 少于 4GB 或者您使用的是 64 位系统，请`sys.maxsize`在尝试之前更改！**）：

```
#sys.maxsize = 1000

list1 = largeList(xrange(sys.maxsize/4 + 2))
print len(list1)
# 53687093
print list1
#[0, 1, 2, ..., 536870910, 536870911, 536870912]
print list1.src
#[[0, 1, 2 ..., 536870910], [536870911, 536870912]]
list1.extend([42, 43])
print list1
#[0, 1, 2, ..., 536870912, 42, 43] 
```

结果：在内部，列表被拆分为多个列表，而在使用它们时它们似乎只是一个。`list`通过添加更多方法可以轻松添加更多功能。例如`pop`, `remove`,`insert`和`index`:

```
(...)

    def pop(self, idx):
        listidx = int(idx/self.maxSize)
        itempopped = self.src[listidx].pop(idx%self.maxSize)
        for i in xrange(listidx, len(self.src)-1):
            self.src[i].append(self.src[i+1].pop(0))
        if not self.src[-1]:
            del self.src[-1]
        return itempopped

    def remove(self, item):
        for i, ele in enumerate(self.__iter__()):
            if ele == item:
                self.pop(i)
                break

    def insert(self, idx, item):
        listidx = int(idx/self.maxSize)
        itemtoshift = self.src[listidx].pop(-1)
        self.src[listidx].insert(idx%self.maxSize, item)
        for i in xrange(listidx+1, len(self.src)-1):
            itemremoved = self.src[i].pop(-1)
            self.src[i].insert(0, itemtoshift)
            itemtoshift = itemremoved
        if len(self.src[-1]) < self.maxSize:
            self.src[-1].insert(0, itemtoshift)
        else:
            self.src.append([self.src[-1].pop(-1)])
            self.src[-2].insert(0, itemtoshift)

    def index(self, item):
        for i, ele in enumerate(self.__iter__()):
            if ele == item:
                return i
        return -1 
```

示例使用，继续：

```
#sys.maxsize = 1000

list1 = largeList(xrange(sys.maxsize/4 + 2))
list1.insert(0, 'a')
print list1
#['a', 0, 1, ..., 536870910, 536870911, 536870912]
list1.pop(2)
#1
list1.remove(536870910)
print list1.index('a')
#0
print len(list1)
#536870911
print list1
#['a', 0, 2, ..., 536870909, 536870911, 536870912]
print list.src
#[['a', 0, 2, ..., 536870909, 536870911], [536870912]] 
```

# json - 非 jsonp 支持站点中的 JSONP

> ID：14576840
> 
> 赞同：1
> 
> 时间：2013-01-29T06:21:45.923
> 
> 标签：json, jsonp

我有一个要求，我必须从另一台服务器获取数据。服务器只支持 JSON，不支持 JSONP。如何使用 JSONP 从服务器获取数据？

我在 jquery 中做它..

还有其他解决方案吗？

请帮助我..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T06:37:11.477

JSONP 存在的原因是为了解决 Javascript 的跨域问题。这基本上意味着您的浏览器中的 javascript 不应被允许与与您的 Web 应用程序不在同一个域中的 Web 服务进行通信。

JSONP 使这种跨域集成成为可能，因为您的浏览器和服务器具有“协议”。你给它一个回调，它会给你结果，包含在那个回调中。它希望通过 javascript 调用，因此涉及的安全风险较小。

例子：

```
You call http://www.abccorp.com/index.php?callback=somevalue 
```

如果没有 JSONP，你会得到： { some: 'value' }

使用 JSONP：

```
somevalue({ some: 'value' }); 
```

**如果服务器不支持此回调，则不可能（仅使用 javascript）。**

我建议使用一种服务器端编程语言，它可以帮助你完成这个调用。

例如，您有一个名为 index.php 的 PHP 文件。您的 javascript 将使用 AJAX JSON 请求调用此文件。反过来，它会调用您需要的服务器，获取结果，并将它们转发到 javascript。由于您没有使用 javascript，因此这种服务器端编程不需要像 javascript 那样的回调（或协议）。

# javascript - 如何通过JS动态杀死CKEditor的查找/替换弹出窗口

> ID：14576843
> 
> 赞同：2
> 
> 时间：2013-01-29T06:21:52.017
> 
> 标签：javascript, ckeditor

我想通过我的代码杀死/销毁ckeditor的Find/Replace弹出实例，即当单击弹出窗口的关闭按钮时调用的一段代码

# lua - 在电晕中安排通知

> ID：14576846
> 
> 赞同：2
> 
> 时间：2013-01-29T06:22:03.427
> 
> 标签：lua, coronasdk

我开发了一个提醒应用程序，并使用 timer.performWithDelay 函数来调用我指定要完成的任务的函数。它在模拟器上运行良好。我想在设备上运行它，因为我需要使用 system.scheduleNotification 。我无法理解如何使用它并签入模拟器。我正在分享我编写的代码。

```
local function onComplete( event )
print( "index => ".. event.index .. " action => " .. event.action )

local action = event.action
if "clicked" == event.action then

if 2 == event.index then --pressing snooze and setting snooze time to 1mins
audio.stop()
print("**SNOOZED**")
forAlarm1 = timer.performWithDelay (60*1000, compareTime)

elseif 1==event.index then --pressing ok and setting the alarm to repeat mode
print("**ALARM SET TO REPEAT**")
audio.stop()
end
end 
```

结尾

```
function compareTime()
print("CompareTime is called")
timer.performWithDelay (7*24*3600*1000, compareTime)
audio.play(alarm)
local alert = native.showAlert( "Garbage Collection Reminder", "It's Time", { "OK",     "SNOOZE" },onComplete)

end

forAlarm = timer.performWithDelay (delay*1000, compareTime) 
```

有人可以告诉我应该如何修改我的代码以在设备上运行它吗？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-31T07:24:14.173

我想到了。可以使用以下代码本地选项 = { alert = "Alert!!!", badge = 2, sound = "alarm.caf", }

```
 -- schedule using seconds from now
        local notification = system.scheduleNotification( delay, options )

        local listener = function( event )
                local notification = system.scheduleNotification( 7*24*3600*1000, options )
            local alert = native.showAlert( "Garbage Collection Reminder", "It's Time", { "OK", "SNOOZE" },onComplete)

        end

        Runtime:addEventListener( "notification", listener ) 
```

# vb.net - 错误“来源：系统进程已退出，因此请求的信息不可用”

> ID：14576848
> 
> 赞同：2
> 
> 时间：2013-01-29T06:22:15.453
> 
> 标签：vb.net, process

它可以在我的电脑上运行，但是当我放入另一台机器时出现错误“源：系统进程已退出，因此请求的信息不可用”& exe 没有出来。哪位有经验的大哥可以帮忙？赞赏！

```
 p = New Process
            With p
                .EnableRaisingEvents = True
                .StartInfo.FileName = Application.StartupPath & "\EXE\CDMObjectSelection\CDMObjectSelection.exe"
                .StartInfo.Arguments = strArgs
                .StartInfo.ErrorDialog = True
                .StartInfo.WindowStyle = ProcessWindowStyle.Normal
                .StartInfo.UseShellExecute = True
                .Start()
            End With

            p.WaitForInputIdle()

            While (ginthwnd = IntPtr.Zero)
                System.Threading.Thread.Sleep(100)
                p.Refresh()
                ginthwnd = p.MainWindowHandle
            End While 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-28T04:04:40.407

如果您在调试器中遵循此代码或将其包装在一个`try/catch`块中，您可能会发现异常发生在该行上`p.WaitForInputIdle()`。正如[MSDN 所述](http://msdn.microsoft.com/en-us/library/8d7363e2.aspx?cs-save-lang=1&cs-lang=vb#code-snippet-1)：当进程已经退出时抛出此异常。尝试将您的电话包装在 a 中`try/catch`并处理`InvalidOperationException`.

MSDN 还说“如果进程没有消息循环，WaitForInputIdle 会抛出 InvalidOperationException”。确保你调用的进程有一个消息循环。

有关如何正确关闭进程的信息，[请参阅此答案。](https://stackoverflow.com/a/18479179/28037)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-09-03T08:10:30.887

确保在正确的架构上构建应用程序。例如，如果您将应用程序构建为 64 位应用程序并在 32 位操作系统上运行，您将收到此错误。如果可以，请将您的应用程序构建为 32 位和 64 位（任何 CPU），您无需担心。

# javascript - JSLint-ing requireJS应用程序时如何解决意外返回？

> ID：14576857
> 
> 赞同：1
> 
> 时间：2013-01-29T06:23:00.353
> 
> 标签：javascript, jquery, return, requirejs, jslint

我的应用程序正在运行`requireJS`并使用两个文件进行设置：

`main.js`设置一切并`app.js`“运行”应用程序。

`main.js`看起来像这样：

```
/*jslint browser: true, indent : 2, nomen : true, sloppy : true */
/*global requirejs: false */
(function () {
    "use strict";

    requirejs.config({
        baseUrl: "../js"
      , paths: {
          app:          'app'
        , text:         'text'
        ...
      }
      , shim: {
        'overrides':     { deps: ['jquery'] }
        ...
      }
  });

  // init
  requirejs([ 'overrides',..., 'app'], 
    function( $, overrides, ..., App){
      App.start( $, overrides );
    });
}()); 
```

我的`app.js`：

```
define([], function () {
    'use strict';
    var start = function () {
        require([ 'i18next'... ],
            function (i18n) {
                // stuff

            }
        );
    }
    return {"start": start};
}); 
```

我的问题是`jslint`抱怨`return {"start": start};`as `unexpected return`。但是，省略它会导致我的应用程序无法启动，因为`App being undefined`.

知道如何删除返回语句并仍然触发应用程序吗？或者如何调整以取悦 JSLint？我不想使用 JSHINT，所以请不要建议它。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-29T06:25:50.543

我首先添加缺少的分号：

```
define([], function () {
    'use strict';
    var start = function () {
        require([ 'i18next'... ],
            function (i18n) {
                // stuff

            }
        );
    }   // <============ here
    return {"start": start};
}); 
```

我怀疑这是 jslint 不高兴的真正原因。（我很惊讶这不是它所抱怨的......）

# asp.net-mvc - Telerik mvc 网格清除过滤器选项不起作用

> ID：14576861
> 
> 赞同：0
> 
> 时间：2013-01-29T06:23:21.807
> 
> 标签：asp.net-mvc, telerik, telerik-grid, telerik-mvc

我在我的一个项目中使用[Telerik 的 MVC 网格控件](http://demos.telerik.com/aspnet-mvc/razor/grid)，我的代码看起来像这样

```
@(Html.Telerik().Grid(Model).DataBinding(dataBinding => dataBinding.Ajax()
        .Name("Grid")
        .Columns(columns =>
        {
            columns.Bound(o => o.OrderID).Width(100);
            columns.Bound(o => o.ContactName).Width(200);
            columns.Bound(o => o.ShipAddress);
            columns.Bound(o => o.OrderDate).Format("{0:MM/dd/yyyy}").Width(120);
        })
        .Scrollable(scrolling => scrolling.Enabled((bool)ViewData["scrolling"]))
        .Sortable(sorting => sorting.Enabled((bool)ViewData["sorting"]))
        .Pageable(paging => paging.Enabled((bool)ViewData["paging"]))
        .Filterable(filtering => filtering.Filters(filters => filters.Add(o => o.RoleId)))
) 
```

这里的问题是，当我单击网格列上的清除过滤器按钮时，它不起作用，因为过滤器数据总是发回服务器（即使在清除过滤器上）并且在清除过滤器后我猜过滤器是重新申请。这是 Telerik 控制中的错误还是我做错了什么，是否有解决此问题的方法

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T05:20:07.377

替换最后一行后尝试

```
.Filterable(filtering => filtering.Filters(filters => filters.Add(o => o.RoleId)) 
```

只是 `.Filterable()`（即其中没有任何表达式）。

# jquery - 使用 Jquery 的 Http 请求

> ID：14576865
> 
> 赞同：0
> 
> 时间：2013-01-29T06:23:34.043
> 
> 标签：jquery, httprequest

我正在使用以下代码向 Web 服务器发出 http 请求，但它不起作用。

谁能告诉我原因以及怎么做？

```
$(document).ready(function(){
    $("#AddUser").click(function(){

  alert("Sending");
      $.post("http://10.200.208.18:1897/Channels/HttpChannel/Input",
      {
       CustomerId : "Ram"
       CustomerName : "Ram Kumar"
       AnualIncome : "120000"
       Country : "INDIA"
       Balance : "100"
       DOB : "1980-09-12T12:34:45"
      },
      function(data,status){
        alert("Data: " + data + "\nStatus: " + status);
      });
   });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:39:22.087

**确保**此 url`http://10.200.208.18:1897/Channels/HttpChannel/Input` 返回预期的输出，**否则不会引发异常**。

只是一个建议如何使用它，您的代码将更具可读性

```
$.ajax({
    type: "POST",
    data: {
         CustomerId : "Ram",
         CustomerName : "Ram Kumar",
         AnualIncome : "120000",
         Country : "INDIA",
         Balance : "100",
         DOB : "1980-09-12T12:34:45"
    },
    url: "http://10.200.208.18:1897/Channels/HttpChannel/Input",
    /* this is optional if your data is of json type
    dataType: "json",
    contentType: "application/json; charset=utf-8",
    */
    success: function (data) {
        //manipulate the data
    },
    error: function (error) {
        // show the error details or show a user friendly error message
        alert("Due to unexpected errors we were unable to load data");

    }
}); 
```

请参阅[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)获取文档

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:28:50.753

您需要通过控制台检查 ajax 调用。如果参数发送正确，它们将显示在 Ajax 请求的 POST 选项卡下。URL /Channels/HttpChannel/Input 是本地的还是外部的？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-29T06:26:29.070

将 IP 更改`http://10.200.208.18:1897`为域名`http://example.com:1897`或`http://localhost:1897`.

还要确保**URL**正确且具有可用资源。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-29T06:30:44.193

这部分代码在每行末尾缺少逗号（我添加了所需的逗号），因此它不是有效的 javascript：

```
 {
   CustomerId : "Ram",
   CustomerName : "Ram Kumar",
   AnualIncome : "120000",
   Country : "INDIA",
   Balance : "100",
   DOB : "1980-09-12T12:34:45"
  }, 
```

您可能还存在[同源安全限制](https://developer.mozilla.org/en-US/docs/JavaScript/Same_origin_policy_for_JavaScript)问题，即您无法对与当前网页不同的域进行 ajax 调用。

检查调试器控制台的 javascript 错误控制台以查看可能发生的其他错误。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-29T06:31:16.843

帖子数据部分中每个值后的逗号

```
{
    CustomerId: "Ram",
    CustomerName: "Ram Kumar",
    AnualIncome: "120000",
    Country: "INDIA",
    Balance: "100",
    DOB: "1980-09-12T12:34:45"
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-29T06:31:41.077

试试这个，它可能会帮助你：

```
$.ajax({
  url: "http://10.200.208.18:1897/Channels/HttpChannel/Input",
  data: {
     CustomerId : "Ram",
     CustomerName : "Ram Kumar",
     AnualIncome : "120000",
     Country : "INDIA",
     Balance : "100",
     DOB : "1980-09-12T12:34:45"
  },
  success: successFunction(),
  dataType: "JSON"
}); 
```

# javascript - 如何在 iphone 的警报弹出窗口中自定义警报标题？

> ID：14576867
> 
> 赞同：0
> 
> 时间：2013-01-29T06:23:36.790
> 
> 标签：javascript, iphone, alert

我想在 iphone 的警报弹出窗口中自定义警报标题。现在它在标题中使用 html 页面名称。就像 AddDetail.html 说的：等等。但是，我不想向用户显示我的 html 页面的名称。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:56:22.980

如果我从评论中理解正确，这是一个 Phonegap / Cordova 应用程序。

然后你应该检查：[http ://docs.phonegap.com/en/2.3.0/cordova_notification_notification.md.html#notification.alert](http://docs.phonegap.com/en/2.3.0/cordova_notification_notification.md.html#notification.alert)

句法：`navigator.notification.alert(message, alertCallback, [title], [buttonName])`

# asp.net - asp.net打印页面的页脚

> ID：14576879
> 
> 赞同：0
> 
> 时间：2013-01-29T06:25:09.087
> 
> 标签：asp.net, html, css

我有一个需要打印的 html 页面。

```
<div>content to print</div> 
```

我也有一个页脚内容，比如

```
<div class="divFooter" style="clear: both; text-align: center, font-size: 12px;">
    footer content
</div> 
```

页脚的 CSS 是

```
<style type="text/css">
    @media screen
    {
        div.divFooter
        {
            display: none;
        }
    }
    @media print
    {
        div.divFooter
        {
            position: fixed;
            bottom: 0;
        }
    }
</style> 
```

页脚在 ie 和 firefox 的底部对齐。但在 chrome 浏览器中效果不佳。知道吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:38:56.233

当您使用`@media print`标签时。那么你的页脚将位于底部`print preview`。如果您想在浏览器底部添加页脚，请添加`@media all`.

```
<style type="text/css">
    @media screen
    {
        div.divFooter
        {
            display: none;
        }
    }
    @media all
    {
        div.divFooter
        {
            position: fixed;
            bottom: 0;
        }
    }
</style> 
```

# javascript - jquery中的排序导航菜单

> ID：14576883
> 
> 赞同：1
> 
> 时间：2013-01-29T06:25:23.420
> 
> 标签：javascript, jquery, sorting, menu, html-lists

我想用 jQuery 对导航菜单进行排序。导航菜单的结构是

```
<ul class="menu">
  <li class="item">
     <a class="link">one</a>
  </li>
  <li class="item">
     <a class="link">two</a>
  </li>
  <li class="item">
     <a class="link">three</a>
  </li>
  <li class="item">
     <a class="link">four</a>
  </li>
<ul> 
```

我想根据`a`标签的内部 html 进行排序。jquery中有默认`sort`功能。但它只对字符串进行排序。我如何对菜单进行排序

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T06:44:23.090

```
var items = $('.menu li').get();
items.sort(function(a,b){ 
  var keyA = $(a).find('a').text();
  var keyB = $(b).find('a').text();

  if (keyA < keyB) return -1;
  if (keyA > keyB) return 1;
  return 0;
});
var ul = $('.menu');
ul.empty();
$.each(items, function(i, li){
  ul.append(li);
}); 
```

**[样本](http://jsfiddle.net/3ZtPF/)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T07:48:55.793

```
var sortedList = jQuery('.menu > li').sort(function (a, b) {
    return (a.children[0].innerHTML > b.children[0].innerHTML) ? 1 : -1;
});

jQuery('.menu').html(sortedList); 
```

# c++ - 局部变量的代码块自动完成

> ID：14576887
> 
> 赞同：2
> 
> 时间：2013-01-29T06:25:48.250
> 
> 标签：c++, autocomplete, codeblocks, local-variables

我在 Windows 8 上使用`Code::Blocks` **12.11 。**

我创建了一个新`CPP`文件并在其中声明了一个类。主要功能也位于此`CPP`文件中。

现在，虽然我确实获得了内置项目的自动完成选项，例如`include`，但我没有获得局部变量的自动完成。

我该如何启用它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T23:03:03.173

看起来这是 CodeBlocks 的一个已知问题。解决办法在于回答[其他地方](https://stackoverflow.com/questions/6749769/auto-complete-in-codeblocks)的问题。

# php - MAX() SQL 不工作

> ID：14576892
> 
> 赞同：1
> 
> 时间：2013-01-29T06:26:33.103
> 
> 标签：php, mysql, sql, greatest-n-per-group

你好，我有这个 SQL 女巫应该给我，`max(messages.message_id)` 所以我有记录，其中第一个`message_id`是 7，最后一个`message_id`是 10，但不是给我 10，而是给我 7……它完全忽略了`MAX(messages.message_id)`并给了我首先`message_id`......关于如何解决这个问题的任何建议？

```
SELECT
  profile.first_name,
  profile.last_name,
  conversations.conversation_hash,
  conversations.person_a,
  conversations.person_b,
  messages.conversation_hash,
  MAX(messages.message_id),
  messages.message,
  messages.subject,
  messages.date
FROM conversations
  INNER JOIN messages
    ON conversations.conversation_hash = messages.conversation_hash
  INNER JOIN profile
    ON profile.id = conversations.person_b
WHERE conversations.person_a = '$id'
GROUP BY messages.conversation_hash
ORDER BY messages.message_id DESC 
```

表： 对话：

```
conversation_id | conversation_hash | person_a | person_b | 
```

留言：

```
conversation_hash | from_id | to_id | message_id | subject | message | date 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T06:32:45.180

尝试这样的事情：

```
SELECT
    profile.first_name,
    profile.last_name,
    conversations.conversation_hash,
    conversations.person_a,
    conversations.person_b,
    messages.conversation_hash, 
    messages.message_id,
    messages.message, 
    messages.subject, 
    messages.date
FROM conversations
INNER JOIN (SELECT MAX(message_id) as maxMessageId, conversation_hash 
            FROM messages
            GROUP BY conversation_hash) m 
       ON conversations.conversation_hash=m.conversation_hash
    INNER JOIN messages
        ON conversations.conversation_hash=messages.conversation_hash AND message.message_id = m.maxMessageId
    INNER JOIN profile
       ON profile.id=conversations.person_b
    WHERE conversations.person_a='$id' 
```

祝你好运。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T06:33:58.920

您可以单独从子查询中的`message_id`表中获取最新信息`messages`，然后如果它在两个条件下匹配，则它的结果将与表相结合：`conversation_hash`和`message_id`.

完整查询：

```
SELECT  profile.first_name,
        profile.last_name,
        conversations.conversation_hash,
        conversations.person_a,
        conversations.person_b,
        messages.*
FROM    conversations
        INNER JOIN messages
            ON conversations.conversation_hash = messages.conversation_hash
        INNER JOIN  
        (
            SELECT  conversation_hash, MAX(message_id) max_ID
            FROM    messages
            GROUP   BY conversation_hash
        ) c ON messages.conversation_hash = c.conversation_hash AND
                messages.message_id = c.max_ID
        INNER JOIN profile
            ON profile.id=conversations.person_b
WHERE   conversations.person_a='$id'
ORDER   BY messages.message_id DESC 
```

# mysql - 可能是近似的。请参阅常见问题解答 3.11 phpmyadmin

> ID：14576893
> 
> 赞同：2
> 
> 时间：2013-01-29T06:26:35.727
> 
> 标签：mysql, phpmyadmin

最近，phpmyadmin 在我的数据库记录顶部显示此消息。

此消息的描述是：“InnoDB 表的记录数不正确。phpMyAdmin 使用快速方法获取行数，并且此方法仅在 InnoDB 表的情况下返回近似计数。见 $cfg[' MaxExactCount'] 来修改这些结果，但这可能会对性能产生严重影响。”

我想知道如果我忽略它会进一步影响我的数据库数据吗？或者我应该清除我的数据库并重新创建这些数据？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-12-24T01:24:04.143

> 我想知道如果我忽略它会进一步影响我的数据库数据吗？

如果您忽略它，它不会影响您。

> 或者我应该清除我的数据库并重新创建这些数据？

无需重新创建数据，它不会删除消息。

* * *

所有这些消息都告诉您，“行”列中显示的数字可能不准确。这不是数据或数据库的问题，而只是 phpMyAdmin 为加快显示该页面所做的事情。计算所有行需要很长时间。

# django - Django：如何在模型中使用 get() 方法

> ID：14576895
> 
> 赞同：0
> 
> 时间：2013-01-29T06:26:43.547
> 
> 标签：django, django-models

Django：如何在模型中使用 get() 方法

模型.py

```
class WorkDailyRecord(models.Model):
    user = models.ForeignKey(User)
    date = models.DateTimeField(auto_now_add=True)
    contents = models.TextField()
    check_user = models.ManyToManyField(
                User,
                related_name='checked_user_record_set',
            )
    target_user = models.ManyToManyField(
                User,
                related_name='target_user_record_set',
            )

    ONGOING_OR_END =(
                ('ing', 'ing'),
                ('end', 'end'),
            )

    ongoing_or_end = models.CharField(
                max_length=3,
                choices=ONGOING_OR_END,
                default='ing',
            ) 
```

```
>>>WorkDailyRecord.objects.get(ongoing_or_end='ing')
回溯（最近一次通话最后）：
  文件“”，第 1 行，在
  文件“/usr/lib/python2.7/site-packages/django/db/models/manager.py”，第 131 行，在 get
    返回 self.get_query_set().get(*args, **kwargs)
  文件“/usr/lib/python2.7/site-packages/django/db/models/query.py”，第 368 行，在 get
    % (self.model._meta.object_name, num, kwargs))
MultipleObjectsReturned：get() 返回了多个 WorkDailyRecord —— 它返回了 12 个！查找参数为 {'ongoing_or_end': 'ing'}
```

我只想得到'ing'数据......

我该怎么办？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-30T20:23:00.643

要获取对象列表，请使用`filter`方法。`get`应该返回单个对象或引发异常：

```
WorkDailyRecord.objects.filter(ongoing_or_end='ing') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-12-27T06:54:49.067

使用过滤器检索特定对象

all() 返回的 QuerySet 描述了数据库表中的所有对象。但是，通常您只需要选择完整对象集的一个子集。

要创建这样的子集，您需要优化初始 QuerySet，添加过滤条件。优化 QuerySet 的两种最常见的方法是：

filter(**kwargs) 返回一个新的 QuerySet，其中包含与给定查找参数匹配的对象。exclude(**kwargs) 返回一个新的 QuerySet，其中包含与给定查找参数不匹配的对象。查找参数（上述函数定义中的**kwargs）应采用下面字段查找中描述的格式。

例如，

```
WorkDailyRecord.objects.filter(ongoing_or_end='ing') 
```

使用默认管理器类，它与以下内容相同：

```
WorkDailyRecord.objects.all().filter(ongoing_or_end='ing') 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-12-27T08:15:40.167

get() 方法
查询导致多个对象或没有结果都将导致异常，

请改用 filter()

# c# - 使用 XSLT 和 C# 在 Tridion 中学习模板的源代码

> ID：14576900
> 
> 赞同：9
> 
> 时间：2013-01-29T06:26:51.667
> 
> 标签：c#, templates, xslt, tridion, tridion-2011

我正在开发一个项目，该项目需要用 XSLT 编写 Tridion 组件模板，用 C# 编写页面模板。我了解 XSLT 基础知识，而且对 C# 完全陌生。

任何人都可以指导我学习 Tridion 2011 的 XSLT 和 C# 模板的任何资源。如果可以的话，这将是非常有帮助的。提前致谢！

如果有更好的方法来做模板，欢迎提出建议。我们可以看看我们的客户是否对此感到满意。

问候， 凯尔塔娜

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-29T08:32:54.633

+1 对 Nuno 的观点，说明、示例以及与之前做过的人的联系使培训非常值得。

SDL Tridion 复合页面模板不是单独用 C# 编写*的*，而是使用模板构建块的组合。模板构建块 (TBB) 由布局部分（通常是 DWT）和 C# TBB 组成。

## 备择方案

模板方法取决于开发人员、开发过程和可用技术。我看到程序员在组件模板方面遇到了困难，这不是因为 Tridion，而是因为所涉及的语言。确保为您的客户提供合适的选择。

XSLT 组件模板可能会使 SDL Tridion 的内联编辑功能更难实现。尽管您拥有 XSLT 的灵活性`<template match="">`，但您会失去一些“免费”获得的东西，例如：

*   解析链接和发布二进制文件
*   程序化内容模型和对 Tridion 对象模型的访问（至少在 CT 级别）
*   包裹
*   代码与内容的分离

**另一种选择是复合组件模板（模块化模板）。**但这又取决于您的环境。

## 资源

*   [SDL Live Content](http://sdllivecontent.sdl.com)具有高级背景信息和示例。SDL Tridion 2011 下的第一页和图表显示了全局和扩展点。
*   [SDLTridionWorld.com](http://SDLTridionWorld.com)是另一个很好的示例和描述资源，客户还可以访问 API 文档。**该论坛特别有比 StackOverflow（目前）更多的 XSLT CT 示例。**
*   社区驱动的[Tridion Cookbook](http://code.google.com/p/tridion-practice/)也有示例和解释，但涵盖整个 Tridion API 堆栈。

[通过 SDL.com](http://www.sdl.com/services/education-certification/training-product/web-content-management/)联系培训。

## 基本介绍

我已经为 XSLT CT 和 C# TBB 编写了一些基本介绍和示例，但这些不能替代培训。

*   [基本 XSLT 模板查看组件的源代码](http://www.createandbreak.net/2012/01/inspect-component-details-with-xslt.html)。
*   [相同的想法，但使用 C# TBB](http://www.createandbreak.net/2012/04/inspect-component-xml-with-c.html)。
*   [如何设置 C# 程序集](http://www.createandbreak.net/2011/11/template-building-blocks-via-net.html)（[上传 TBB 而不是 TBB 片段](https://stackoverflow.com/q/11812553/395495)）
*   [载重吨 TBB 示例](http://www.createandbreak.net/2011/12/dreamweaver-syntax-with-fieldpath.html)

您提到熟悉 XSLT，我发现使用[基本 XSLT 函数来帮助理解组件细节](http://www.createandbreak.net/2011/08/develop-xslt-templates-in-three-steps.html)。

我也尝试过[Nuno 描述](http://www.createandbreak.net/2012/01/quickly-start-layout-template-building.html)的练习（包括视频）。

IMO 跳过培训的最大风险是让蓝图或内容模型出错。一定会回来问问题。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-29T07:20:47.600

我不得不建议将培训作为最简单的开始方式。我知道由于培训成本，这并不总是受到合作伙伴或客户的欢迎，但是通过不浪费时间试图弄清楚基础知识，您肯定会很快恢复您的价值。

一旦您了解了基础知识，那么它就像任何其他技术一样：熟能生巧。当人们开始使用 Tridion 时，我曾经要求人们做的一个练习是输出一个简单的页面，比如 google.com 主页，然后开始慢慢地将内容更改为来自组件，添加内联编辑等。

婴儿步骤 - 并在这里提出您的问题！

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-29T06:39:48.323

我认为，您可以在下面的链接中找到一些 C# 模板的最佳示例

[http://yatb.mitza.net/](http://yatb.mitza.net/)

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-01-29T07:36:29.047

同意努诺。您还可以阅读[SDL Live 内容文档](http://sdllivecontent.sdl.com/LiveContent/web/pub.xql?action=home&pub=SDL_Tridion_2011_SPONE&lang=en-US)（需要登录）。

# javascript - 如果 div 没有任何样式属性，如何将 DIV 标签转换为 P 标签？

> ID：14576901
> 
> 赞同：0
> 
> 时间：2013-01-29T06:26:59.257
> 
> 标签：javascript, jquery, html, regex

我正在使用文本编辑器，当页面呈现时，如果标签中没有样式属性，我正在尝试使用以下 javascript 正则表达式将所有`<div>`标签转换为标签。`<p>`（源代码在最后）

```
// if <div> has any attribute then do not convert in <p> tag
str = str.replace(/<div>([\w\W]*?)<\/div>/gi, '<p>$2</p>'); 
```

但是这个正则表达式的输出很奇怪

输出 HTML：请注意`'<p>$2</p>'`结尾处的意外，Zoltan 和祝贺文本丢失。

```
<br>
@abc Semantics
<br>
<a href="http://abc.com">http://abc.com</a>
<br>
xxxx5555
<br>
Mail address:
<a target="blank" href="/abc-abc-semantics">@abc</a>
<br>
<br>
<b>
Sub:
</b>
<br>
<br>
Hi abc,&nbsp;<p>$2</p><p>$2</p>;<p>$2</p><p>$2</p> 
```

//我在其上应用 regx 的原始 HTML

```
<br> 
  @abc Semantics 
<br> 
  <a href="http://abc.com">http://abc.com</a> 
<br> 
  xxxx5555 
<br> 
  Mail address: <a href="/abc-abc-semantics" target="blank">@abc</a> 
<br> 
<br> 
  <b> Sub: </b> 
<br> <br> 
Hi abc,&nbsp;
<div><br></div>

<div>congratulations :D</div>

<div><br></div>
;
<div>Zoltan</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T06:52:51.547

`group 2`你的里面没有`regex`，所以`$2`被当作`$2`唯一的，没有替换它。

你需要使用`$1`： -

```
str = str.replace(/<div>([\w\W]*?)<\/div>/gi, '<p>$1</p>'); 
```

请参阅[http://fiddle.re/v0jb上的演示](http://fiddle.re/v0jb)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T07:19:17.167

尝试使用`$1`and not `$2`，因为您的正则表达式中没有第 2 组。
所以新代码将是：

```
str = str.replace(/<div>([\w\W]*?)<\/div>/gi, '<p>$1</p>'); 
```

# c# - 以降序或升序排列多维数组

> ID：14576903
> 
> 赞同：3
> 
> 时间：2013-01-29T06:27:06.310
> 
> 标签：c#, wpf, arrays, multidimensional-array

我正在尝试将这个多维数组排列为升序或降序。但是，我需要第 1 列和第 2 列之间的关系仍然在一起（这意味着我需要例如 array[0,1] 和 array[0,2] 的数据以某种方式在一起或相关。这是我现在的代码。

```
int[,] time = new int[5,2]{{0,4},{1,5},{5,10},{3,4},{0,2}};
var sorted = from x in Enumerable.Range(0, time.GetLength(0))
                     from y in Enumerable.Range(0, time.GetLength(1))
                     select new{
                         X = x,
                         Y = y,
                         Value = time[x,y]
                    }into point
                    orderby point.Value descending
                    select point; 
```

这可行，但它将我的所有数据分开。有没有办法对它们进行排序，同时保持第 1 列和第 2 列的关系？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-08T13:38:45.190

我很好奇为什么你需要一个多维数组。很明显，您将数据视为“行”的单维集合，而不是“单元”的二维集合。

为什么不简单地制作一个[List(T)](http://msdn.microsoft.com/en-us/library/6sh2ey19.aspx)，其中 T 是某种[元组](http://msdn.microsoft.com/en-us/library/system.tuple.aspx)或自定义结构？

从表面上看，您似乎是在尝试在钉子上使用螺丝刀；确保您为工作选择了正确的工具；）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-05T21:41:45.653

听起来您想将数据存储在多维数组中，但将数组中的每一行保留为单独的原子单元。此外，每个“点”的比较是通过 X，然后是 Y。

```
int[,] time = new int[5, 2] { { 0, 4 }, { 1, 5 }, { 5, 10 }, { 3, 4 }, { 0, 2 } };

var sorted = from x in Enumerable.Range(0, time.GetLength(0))
                     select new Point()
                     {
                         X = time[x,0],
                         Y = time[x,1]
                     } into point
                     orderby point.X ascending , point.Y ascending 
                     select point;

int[,] sortedTime = new int[5,2];
int index = 0;
foreach (var testPoint in sorted)
{
  Point aPoint = (Point) testPoint;
  sortedTime.SetValue(aPoint.X, index, 0);
  sortedTime.SetValue(aPoint.Y, index, 1);

  index++;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-05T19:15:27.647

看起来你可能只是想多了。例如，如果要将点保持在一起，并按第一列排序，只需省略第二列`Enumerable.Range`并手动分配值：

```
int[,] time = new int[5,2]{{0,4},{1,5},{5,10},{3,4},{0,2}};
var sorted = from x in Enumerable.Range(0, time.GetLength(0))
                     select new{
                         X = time[x,0],
                         Y = time[x,1]
                    }into point
                    orderby point.X descending
                    select point; 
```

正如@Haxx 指出的那样，如果第二个值的顺序也很重要，只需添加`, point.Y descending`到子句中。`orderby`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-09T08:11:12.813

我还认为应该将其视为行的集合，因为您希望行始终保持在一起。.NET 有这种`DataTable`类型。例如

```
 int[,] time = new int[5, 2] { { 0, 4 }, { 1, 5 }, { 15, 10 }, { 3, 4 }, { 0, 2 } };

        DataTable dt = new DataTable();

        dt.Columns.Add("x", System.Type.GetType("System.Int32"));
        dt.Columns.Add("y", System.Type.GetType("System.Int32"));

        for (int i = 0; i < time.Length / 2; i++)
        {
            DataRow dr = dt.NewRow();
            dr[0] = time[i, 0];
            dr[1] = time[i, 1];
            dt.Rows.Add(dr);
        }

        dt.DefaultView.Sort = "x" + " " + "ASC";
        dt = dt.DefaultView.ToTable(); 
```

请注意，我需要输入表格列。否则你会得到一个字母排序。我将您的一个数字更改为 15，以证明排序适用于整数（15>3，但按字母顺序“15”<“3”）。如果您真的希望它作为 2D 数组返回，请参阅第一个答案。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-10T20:33:40.647

最快的方法是实现一些排序算法，例如`Quicksort`并将其修改为仅使用`Compare(i, j)`and`Swap(i, j)`函数。然后，您可以为您的多维数组实现这些函数并对其进行排序。这是一个有效的实现：

```
 public static void Main() {
        int[,] time = new int[5, 2] { { 0, 4 }, { 1, 5 }, { 5, 10 }, { 3, 4 }, { 0, 2 } };
        DoSort(time);
    }

    public static void DoSort(int[,] data) {
        Func<int, int, int> comparer = (i, j) => {
            int s1 = Math.Sign(data[i, 0] - data[j, 0]);
            if (s1 != 0) {
                return s1;
            }
            int s2 = Math.Sign(data[i, 1] - data[j, 1]);
            return s2;
        };

        Action<int, int> swapper = (i, j) => {
            var tmp0 = data[i, 0];
            var tmp1 = data[i, 1];
            data[i, 0] = data[j, 0];
            data[i, 1] = data[j, 1];
            data[j, 0] = tmp0;
            data[j, 1] = tmp1;
        };

        int length = data.GetLength(0);
        Quicksort(comparer, swapper, 0, length - 1);
    }

    public static void Quicksort(Func<int, int, int> comparer, Action<int, int> swapper, int left, int right) {
        int i = left, j = right;
        int pivotIdx = (left + right) / 2;

        while (i <= j) {
            while (comparer(i, pivotIdx) < 0) {
                i++;
            }

            while (comparer(j, pivotIdx) > 0) {
                j--;
            }

            if (i <= j) {
                swapper(i, j);
                i++;
                j--;
            }
        }

        // Recursive calls
        if (left < j) {
            Quicksort(comparer, swapper, left, j);
        }

        if (i < right) {
            Quicksort(comparer, swapper, i, right);
        }
    }
} 
```

此代码对数组进行就地排序，因此您不需要额外的内存，最后您会得到一个排序后的多维数组。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-11T21:46:58.740

假设：
1\. 您想保持项目配对，例如想将 {0, 4} 视为一对，{1, 5} 视为另一对。
2\. 预期结果升序为：{{0, 2}, {0, 4}, {1, 5}, {3, 4}, {5, 10}}。

正如 BTownTKD 所建议的，强烈建议使用一些类/结构来表示您的对，而不是使用多维数组。您可以使用以下任一列表/数组：

*   `Tuple<int, int>`
*   `KeyValuePair<int, int>`
*   您自己的结构 IntPair，具有两个属性 X 和 Y。

*这不仅可以帮助您进行排序，还可以轻松进行进一步的操作*。仅当您有非常具体的需要时才使用多维数组。

这是使用元组的示例代码：

```
List<Tuple<int, int>> time = new List<Tuple<int, int>>(){
    new Tuple<int, int>(0,4),
    new Tuple<int, int>(1,5),
    new Tuple<int, int>(5,10),
    new Tuple<int, int>(3,4),
    new Tuple<int, int>(0,2)
};

//Sort Ascending
time.Sort((first, second) =>
    {
        var item1Compare = first.Item1.CompareTo(second.Item1);
        return item1Compare == 0 ? first.Item2.CompareTo(second.Item2) : item1Compare;
    });
//Sort Descending
/*time.Sort((first, second) =>
    {
        var item1Compare = second.Item1.CompareTo(first.Item1);
        return item1Compare == 0 ? second.Item2.CompareTo(first.Item2) : item1Compare;
    });*/ 
```

# asp.net - 可插拔/模块化开发 ASP.net MVC4

> ID：14576906
> 
> 赞同：3
> 
> 时间：2013-01-29T06:27:07.707
> 
> 标签：asp.net, asp.net-mvc

我需要有关使用可插入模块方法开发 ASP.net MVC4 应用程序的帮助。我尝试为此使用区域，但这对于插入两种不同的解决方案来说并不是很方便。我的目标是开发一个可以插入到任何其他 Web 应用程序（X、Y、Z）的模块应用程序 (A)。

我需要一些指导来实现这一目标。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T06:54:15.993

您可以使用[mef](http://mef.codeplex.com/)我们在企业应用程序中使用[mef 。](http://msdn.microsoft.com/en-us/library/dd460648.aspx)

托管可扩展性框架 (MEF) 是 .NET 的组合层，可提高大型应用程序的灵活性、可维护性和可测试性。MEF 可用于第三方插件扩展，或者它可以为常规应用程序带来松散耦合的插件式架构的好处。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T06:28:55.563

您可以查看[`following guide`](http://www.chrisvandesteeg.nl/2010/11/22/embedding-pre-compiled-razor-views-in-your-dll/)说明如何将 Razor 视图作为资源嵌入到类库中的说明。这个想法是编写一个自定义的 VirtualPathProvider ，它将能够从非标准位置（例如嵌入在其他程序集中的视图）为您的视图提供服务。

[`sample application`](https://github.com/davidebbo/MvcApplicationRazorGeneratorSeparateLibrary)这是使用 RazorGenerator 库的一个。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-20T19:24:20.053

这看起来是一种方法。

[http://geekswithblogs.net/cokobware/archive/2013/01/15/asp.net-mvc-4-pluggable-application-modules.aspx](http://geekswithblogs.net/cokobware/archive/2013/01/15/asp.net-mvc-4-pluggable-application-modules.aspx)

它看起来也可以进一步扩展以与 Nuget 一起工作。

# java - 从拖放的excel表中读取

> ID：14576907
> 
> 赞同：2
> 
> 时间：2013-01-29T06:27:11.763
> 
> 标签：java, javascript, html, jsp, struts2

我正在使用hibernate 3开发struts 2。我有一个从excel doc导入的功能。使用以下代码上传文件后，我发现如何从 excel 文件导入。

```
try {
    File uploadToBatch=new File("C:\\Users\\user\\Desktop\\Book2.xls");
    Workbook w;

    w = Workbook.getWorkbook(uploadToBatch);

    Sheet sheet = w.getSheet(0);

    System.out.println(sheet.getName()+"  "+sheet.getColumns()+"  "+sheet.getRows());

    for(int i=0;i<sheet.getRows();i++)
        for(int j=0;j<sheet.getColumns();j++)
            System.out.println(sheet.getCell(j, i).getContents());

} catch (Exception e) {
    e.printStackTrace();
    System.out.println(e.getMessage());
    //addActionError(e.getMessage());

    // return ERROR;

} 
```

现在我想要的是当用户从 excel 文件中拖动一些行并放入网页时，我必须获取值并将其传递给服务器。我不能使用 ActiveX 对象，因为它也必须支持所有操作系统和浏览器。

请给我一些想法。

# objective-c - 推送 Viewcontroller 时保留计数异常行为

> ID：14576908
> 
> 赞同：0
> 
> 时间：2013-01-29T06:27:16.783
> 
> 标签：objective-c, uinavigationcontroller, retaincount

```
 -(void)NewButton
    {
        ApplianceViewController *VC = [[ApplianceViewController alloc] initWithNibName:@"ApplianceViewController" bundle:[NSBundle mainBundle]] ;

        NSLog(@"Retain count before pushViewController:%d",VC.retainCount);//prints1 
        [self.navigationController pushViewController:VC animated:YES];
        NSLog(@"Retain count after pushViewController:%d",VC.retainCount);//prints 7
        [VC release];
        NSLog(@"Retain count after Release:%d",VC.retainCount);// prints 6
    } 
```

在我的代码中，保留计数异常增加。我浪费了很多时间。请提供任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T07:33:23.603

# 对象的绝对retainCount 是没有意义的。

有关详细信息，请参阅： [http ://www.whentouseretaincount.com。](http://www.whentouseretaincount.com)

您看到的保留计数是框架的内部实现细节。它们实际上是毫无意义的。保留计数很可能与该代码中的一样高，因为您将视图控制器与动画纠缠在一起，这需要多个引用和一些复杂的幕后问题。

您发布的代码不是问题。

使用“仅跟踪实时引用”和“跟踪引用计数”的分配工具。然后重现您的泄漏并点击进入相关对象的保留/释放事件清单。这将为您提供对象被保留（和释放）的确切位置的列表，这将告诉您确切为什么它仍在内存中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-01T11:07:47.690

实际上我有一个财产

@property(nonatomic, retain) IBOutLet UITableView myTableView;

我正在从 nib 文件中获取参考。我刚刚用assign替换了retain。并且问题解决了。

# php - 网站 - 连接到 MySQL 数据库

> ID：14576913
> 
> 赞同：0
> 
> 时间：2013-01-29T06:27:35.630
> 
> 标签：php, mysql

我知道这是一个愚蠢的问题，但是要连接到本地服务器上的数据库，我是否通过以下代码进行连接：

```
mysql_connect("localhost","user","pass") 
```

所以使用本地主机连接。这似乎是有道理的，因为它正在向主机发送一条消息以连接到它的本地数据库。

还是我使用这段代码：

```
mysql_connect("Ipaddress","user","pass") 
```

不知何故，这对我来说也很有意义。我将哪一个用于我在家里托管的网站。

编辑：显然我希望它让来自世界各地的人们输入信息，并将其发送到数据库。它不适合我使用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T06:32:15.813

您应该使用本地主机：

你可以这样：

```
<?php
$mysql = mysql_connect("localhost", "user", "pass");
if(!mysql){
die('Could not connect: ' . mysql_error());
}

//code her
mysql_close(mysql) //stops the connection
?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T06:35:13.450

您的数据库很可能与您的程序存储在同一台服务器上，您应该放置 localhost。无论如何，花点时间了解一下 PDO。它更安全、更清洁并且实际上更易于使用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-29T07:18:15.937

一个更好的方法是：

```
<?php
    $mysqli = new mysqli("localhost", "user", "password", "database");
    if ($mysqli->connect_errno) {
        echo "Failed to connect to MySQL: (" . $mysqli->connect_errno . ") " . $mysqli->connect_error;
    };
?> 
```

这是我个人使用的，还有其他方法可以做到这一点。

# ruby - 来自分机触发机架警告的分机呼叫

> ID：14576914
> 
> 赞同：2
> 
> 时间：2013-01-29T06:27:38.640
> 
> 标签：ruby, sinatra, rack, same-origin-policy

我制作了一个 chrome 浏览器扩展，它通过 JS 向我的 sinatra 服务器发出一些简单的 get/post 请求。每次 POST 进来时，我都会看到：

```
attack prevented by Rack::Protection::HttpOrigin 
```

在日志中。正确的响应被发回。

我想这与浏览器的同源策略有关，但我不确定发生了什么。它是否期望缺少一个标题？

# c - 如何在 Mac OS X 上使用 mkmf 编译 C 扩展作为 ruby gem 的一部分？

> ID：14576915
> 
> 赞同：0
> 
> 时间：2013-01-29T06:27:49.527
> 
> 标签：c, ruby, gem

我正在尝试创建一个可以包装的 gem `libpuzzle`，但无法解决这个`flat_namespace`问题：

```
--- personal/sayzame ‹master* M⁇› » gem build sayzame.gemspec && gem install sayzame-0.0.1.gem
  Successfully built RubyGem
  Name: sayzame
  Version: 0.0.1
  File: sayzame-0.0.1.gem
Building native extensions.  This could take a while...
Successfully installed sayzame-0.0.1
1 gem installed
--- personal/sayzame ‹master* M⁇› » pry -rsayzame -Ilib                                       
[1] pry(main)> Sayzame.compare_images :a, :b
dyld: lazy symbol binding failed: Symbol not found: _puzzle_init_dvec
  Referenced from: /usr/local/lib/libpuzzle.dylib
  Expected in: flat namespace

dyld: Symbol not found: _puzzle_init_dvec
  Referenced from: /usr/local/lib/libpuzzle.dylib
  Expected in: flat namespace

[1]    56394 trace trap  pry -rsayzame -Ilib 
```

我的完整源代码在这里：[https ://github.com/neezer/sayzame](https://github.com/neezer/sayzame)

我很确定问题出在我的`ext/puzzle/extconf.rb`文件中，因为我没有正确链接库。我已经在[`ffi/ffi`'s issue tracker](https://github.com/ffi/ffi/issues/246)上发布了关于它的信息，并跟进了这两条线索，但没有成功。

我真的很感激这里的任何帮助；很长一段时间以来，我一直把我的头撞在墙上。

可能相关： - [https://groups.google.com/d/msg/picky-ruby/8kuG8FkATgU/89JLc6U7SrcJ](https://groups.google.com/d/msg/picky-ruby/8kuG8FkATgU/89JLc6U7SrcJ)

# jquery - jQuery Overlay 在 IE8 中不起作用

> ID：14576916
> 
> 赞同：0
> 
> 时间：2013-01-29T06:28:01.720
> 
> 标签：jquery, html, css, user-interface, overlay

抱歉，如果这已在其他地方得到回答，但我找不到任何东西。

我正在使用[jQueryTools Overlay](http://jquerytools.org/documentation/overlay/)。在 chrome 中工作正常，但在 IE-8 中我有这个问题，我的覆盖 Div 像普通 div 一样弹出，在我的表单顶部。

继承人的html：

```
<div id="overlay" >
        <img src="http://www.sanbaldo.com/wordpress/wp-content/bigrotation2.gif" class="img-load" />
    </div> 
```

继承人的CSS：

```
#overlay
{
    background: #DCDCDC;
    border: 5px solid #666;
    display: none;
    height: 50%;
    left: 50%;
    opacity: 0.8;
    position: relative;
    top: 30%;
    width: 50%;
}
.img-load
{
    left: 50%;
    position: relative;
    top: 50%;
} 
```

查询：

```
$(".button_small").click(function () {
    $("#overlay").overlay().load();
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:55:10.137

问题是 IE8 现在遵守标准，这给试图规避 IE8 之前的问题的插件带来了问题。

一种可能的解决方案是使用此元标记强制 IE9 进入 IE8 标准模式：

另一种选择是修复代码：

大多数 UI 插件驻留在 $.browser.msie 上以检查我们是否在 IE 中，但它们不检查版本。在我的情况下，解决方案（jquery.ui.checkbox.js）是用这个变量替换所有 $.browser.msie 调用：

```
var isIEAndVersionIsLowerThan8 = $.browser.msie && (parseInt($.browser.version, 10) < 8); 
```

此解决方案比添加元标记更好，因为它将启用所有 IE8 功能。

# ios - 带有动画的 UITableview reloaddata

> ID：14576921
> 
> 赞同：79
> 
> 时间：2013-01-29T06:28:11.187
> 
> 标签：ios, uitableview, reloaddata

我有一个`UITableView`从数组和下拉列表中填充的内容。
如果我选择下拉列表的任何行，数组将插入新值，并且 tableview 应该重新加载。

如何使用新的数组内容为 tableview 设置动画？

像我想一一显示行的动画。我试过这个方法

```
- (void)reloadRowsAtIndexPaths:(NSArray )indexPaths withRowAnimation:(UITableViewRowAnimation)animation { 
NSIndexPath rowToReload = [NSIndexPath indexPathForRow:[names count] inSection:0];
 NSArray* rowsToReload = [NSArray arrayWithObjects:rowToReload, nil]; 
[tableDetails reloadRowsAtIndexPaths:rowsToReload withRowAnimation:UITableViewRowAnimationNone];
 } 
```

* * *

## 回答 #1

> 赞同：125
> 
> 时间：2014-01-20T16:45:59.057

要添加正确答案，如果您想重新加载您的**所有**部分，您`UITableView`需要执行以下操作：

**对象**

```
NSRange range = NSMakeRange(0, [self numberOfSectionsInTableView:self.tableView]);
NSIndexSet *sections = [NSIndexSet indexSetWithIndexesInRange:range];
[self.tableView reloadSections:sections withRowAnimation:UITableViewRowAnimationAutomatic]; 
```

* * *

**迅速**

```
let range = NSMakeRange(0, self.tableView.numberOfSections)  
let sections = NSIndexSet(indexesIn: range)               
self.tableView.reloadSections(sections as IndexSet, with: .automatic) 
```

这将使用动画重新加载表格视图中的所有内容。如同一位老板。

* * *

## 回答 #2

> 赞同：74
> 
> 时间：2016-07-14T15:43:55.247

**斯威夫特 5：**

```
UIView.transition(with: tableView, duration: 1.0, options: .transitionCrossDissolve, animations: {self.tableView.reloadData()}, completion: nil) 
```

**斯威夫特 3**

```
UIView.transition(with: myTableView, duration: 1.0, options: .transitionCrossDissolve, animations: {self.myTableView.reloadData()}, completion: nil) 
```

* * *

**斯威夫特 2**

```
UIView.transitionWithView(myTableView, duration: 1.0, options: .TransitionCrossDissolve, animations: {self.myTableView.reloadData()}, completion: nil) 
```

我在 Swift 中使用了这个

* * *

## 回答 #3

> 赞同：54
> 
> 时间：2013-01-29T06:43:58.467

使用这种方法，

```
[_tableView reloadSections:[NSIndexSet indexSetWithIndex:0] withRowAnimation:UITableViewRowAnimationFade]; 
```

* * *

## 回答 #4

> 赞同：25
> 
> 时间：2017-01-06T19:44:52.223

在 Swift 3 中，您可以简单地将以下内容添加`extension`到`UITableView`：

```
extension UITableView {
    func reloadData(with animation: UITableView.RowAnimation) {
        reloadSections(IndexSet(integersIn: 0..<numberOfSections), with: animation)
    }
} 
```

* * *

## 回答 #5

> 赞同：23
> 
> 时间：2013-01-29T06:53:17.737

你首先告诉 tableView 期待更新`beginUpdates`。然后更新相关部分（如果您的 tableView 只有一个部分，则只需为部分编号传递零）。在这里您可以指定动画 - 您可以使用它来获得您想要的效果。之后，您调用`endUpdates`tableView。UITableViewRowAnimation 的 typedef 指定：

```
typedef enum {
   UITableViewRowAnimationFade,
   UITableViewRowAnimationRight,
   UITableViewRowAnimationLeft,
   UITableViewRowAnimationTop,
   UITableViewRowAnimationBottom,
   UITableViewRowAnimationNone,
   UITableViewRowAnimationMiddle,
   UITableViewRowAnimationAutomatic = 100
} UITableViewRowAnimation; 
```

到处玩，看看你想要哪一个。即使选择`UITableViewRowAnimationNone`有时也会产生很好的效果。表更新代码如下：

```
 [self.tableView beginUpdates];
    [self.tableView reloadSections:[NSIndexSet indexSetWithIndex:0] withRowAnimation:UITableViewRowAnimationNone];
    [self.tableView endUpdates]; 
```

* * *

## 回答 #6

> 赞同：8
> 
> 时间：2013-01-29T06:38:51.587

你可以使用`reloadSections:withRowAnimation:`函数。检查[UITableView 类参考](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableView_Class/Reference/Reference.html)。

使用已回答您问题的动画检查此[reloadData 。](https://stackoverflow.com/questions/419472/have-a-reloaddata-for-a-uitableview-animate-when-changing)

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2013-12-24T14:11:34.917

tableView 支持以下方法用于动画：

```
- (void)reloadSections:(NSIndexSet *)sections withRowAnimation:(UITableViewRowAnimation)animation NS_AVAILABLE_IOS(3_0); 
```

用法 ：

```
//Reload tableView with animation
[self.tableView reloadSections:[NSIndexSet indexSetWithIndex:0] withRowAnimation:UITableViewRowAnimationRight]; 
```

可用的不同类型的动画是：

```
typedef NS_ENUM(NSInteger, UITableViewRowAnimation) {
UITableViewRowAnimationFade,
UITableViewRowAnimationRight,           // slide in from right (or out to right)
UITableViewRowAnimationLeft,
UITableViewRowAnimationTop,
UITableViewRowAnimationBottom,
UITableViewRowAnimationNone,            // available in iOS 3.0
UITableViewRowAnimationMiddle,          // available in iOS 3.2\.  attempts to keep cell centered in the space it will/did occupy
UITableViewRowAnimationAutomatic = 100  // available in iOS 5.0\.  chooses an appropriate animation style for you    }; 
```

希望这可能会有所帮助！

* * *

## 回答 #8

> 赞同：4
> 
> 时间：2016-02-24T06:02:50.200

我已经尝试过了，我的动画`Table`很`Animated`流畅

//将此代码放在要重新加载表格视图的位置

```
dispatch_async(dispatch_get_main_queue(), ^{
    [UIView transitionWithView:<"TableName"> 
                      duration:0.1f 
                       options:UIViewAnimationOptionTransitionFlipFromRight 
                    animations:^(void) {
                        [<"TableName"> reloadData];
                    } completion:NULL];        
}); 
```

* * *

## 回答 #9

> 赞同：3
> 
> 时间：2016-01-22T19:48:29.990

尝试在重新加载 UITableView 时更改视图时设置动画

```
[UIView transitionWithView:_yourTableView 
                  duration:0.40f 
                   options:UIViewAnimationOptionTransitionCrossDissolve 
                animations:^(void) {[_yourTableView reloadData];}  
                completion:nil]; 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2020-02-20T11:38:23.837

**斯威夫特 5：**

```
let section = 0
tableView.reloadSections([section], with: .automatic) 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2021-09-17T07:29:03.713

在将显示单元格粘贴此代码它将动画添加新单元格到表格视图

```
let rotationTransform = CATransform3DTranslate(CATransform3DIdentity, 0, 50, 0) 
cell.layer.transform = rotationTransform
cell.alpha = 0.0
 UIView.animate(withDuration: 0.05 * indexPath.row) {
           cell.layer.transform = CATransform3DIdentity
           cell.alpha = 1.0
       } 
```

# iphone - 如何在 iphone 应用程序中清除foursquare 的cookies？

> ID：14576922
> 
> 赞同：0
> 
> 时间：2013-01-29T06:28:19.267
> 
> 标签：iphone, foursquare

我在我的应用程序中使用了foursquare，但我无法从我的应用程序中的foursquare 注销。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T06:41:07.090

使用以下代码`remove` `foursquare` `cookie`从应用程序

```
NSHTTPCookie *cookie;
NSHTTPCookieStorage *storage = [NSHTTPCookieStorage sharedHTTPCookieStorage];
for (cookie in [storage cookies])
{
   NSString* domainName = [cookie domain];
   NSRange domainRange = [domainName rangeOfString:@"foursquare"];
   if(domainRange.length > 0)
   {
       [storage deleteCookie:cookie];
   }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:37:00.937

你需要在任何你想要的地方调用它

```
 NSHTTPCookieStorage* cookies = [NSHTTPCookieStorage sharedHTTPCookieStorage];
for (NSHTTPCookie* cookie in [[NSHTTPCookieStorage sharedHTTPCookieStorage] cookies]) {

    if ([cookie.name isEqualToString:@"FourSquare"]) {//its temprory name for your understanding
       [cookies deleteCookie:cookie];
    };

} 
```

# iphone - 在 iOS 中卸载 App 时删除 App 的数据

> ID：14576923
> 
> 赞同：3
> 
> 时间：2013-01-29T06:28:36.017
> 
> 标签：iphone, ios5

我是 iOS 开发的新手，现在我正在创建一个应用程序，它将联系人信息从应用程序存储到地址簿。（当他/她在他们的 iPhone 上安装相同的应用程序并接受您作为他们的朋友时，此应用程序会将您朋友的联系方式，如手机号码和电子邮件等存储在您的地址簿中）。

通过将 note 属性作为应用名称来区分应用联系人与本地联系人。

我的问题是，当您卸载/删除应用程序时，它会清除除应用程序本身存储的联系人之外的所有数据。那么如何删除联系人呢？应用程序目标平台是 iOS 5 及更高版本和 xCode 版本 4.5.2 谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-29T06:29:42.050

你不能。如果您的应用程序将联系人保存到用户的 iPhone 联系人中，则在您的应用程序被删除时无法删除它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T06:34:49.460

无法检测应用程序删除。因此，在删除之前无法删除您的数据。所以答案是否定的。

# asp.net - Jqgrid 过滤器不适用于 Asp.net 中的 Dropdownlist

> ID：14576924
> 
> 赞同：0
> 
> 时间：2013-01-29T06:28:37.680
> 
> 标签：asp.net, jqgrid

嗨伙计们！我在 jqgrid 中使用下拉列表实现了过滤器，但网格没有显示我添加过滤器的列的值，也没有过滤数据。

这是我的代码...

```
<script type="text/javascript">

    var categoriesStr = ":All;1:vikas;2:Ankur";
    $(function () {
        $("#UsersGrid").jqGrid({
            url: 'getGriddahico.ashx',
            datatype: 'json',
            height: 250,
            colNames: ['UserID', 'UserName', 'FirstName', 'MiddleName', 'LastName', 'EmailID'],
            colModel: [
                    { name: 'UserID', index: 'UserID', width: 100, sortable: true, align: 'center' },
                    { name: 'UserName', width: 100, sortable: true, align: 'center' , formatter: 'select', stype: 'select',
                    sorttype: function (cell) { return categories[cell]; },
                    edittype: 'select', editoptions: { value: categoriesStr },
                    searchoptions: { sopt: ['eq'] }
                },
                    { name: 'FirstName', width: 100, sortable: true, align: 'center' },
                    { name: 'MiddleName', width: 100, sortable: true },
                    { name: 'LastName', width: 100, sortable: true, align: 'center' },
                    { name: 'EmailID', width: 150, sortable: true, align: 'center' }
                ],
            rowNum: 10,
            rowList: [10, 20, 30],
            pager: '#UsersGridPager',
            sortname: 'UserID',
            loadonce: true,
            viewrecords: true,
            ignorecase:true,
            sortorder: 'asc',
            autowidth: true,
            toppager: true,
            height: '100%'

        });

        $("#UsersGrid").jqGrid('navGrid', '#UsersGridPager', { edit: false, add: false, del: false, search: false });

        $("#UsersGrid").jqGrid('filterToolbar', { stringResult: true, searchOnEnter: true, defaultSearch: "cn", beforeSearch: function () {
            //alert("verifying the data");
            var postData = grid.jqGrid('getGridParam', 'postData');
            // we use `stringResult: true` so decoding of the search parameters are a little complex
            var searchData = jQuery.parseJSON(postData.filters);
            for (var iRule = 0; iRule < searchData.rules.length; iRule++) {
                if (searchData.rules[iRule].field === "UserName") {
                    var valueToSearch = searchData.rules[iRule].data;
                    if (valueToSearch.length != 5) {
                        alert("The search string MUST de 5 charachters length!");
                        return true;    // error
                    }
                }
            }
            return false;
        }
        });

        //jQuery("#UsersGrid").jqGrid('filterToolbar', { stringResult: true, searchOnEnter: false });
    });

</script> 
```

欢迎任何帮助...

提前感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T07:29:42.503

可能`getGriddahico.ashx`是没有返回排序值。如果能分享一下代码`getGriddahico.ashx`就更好了。

# php - Pinnaclecart 图像滑块仅在主页中

> ID：14576925
> 
> 赞同：0
> 
> 时间：2013-01-29T06:28:42.383
> 
> 标签：php, slider, shopping-cart, pinnacle-cart

我在新的 pinnacle 购物车购物车中添加了一个图像滑块，但显示在所有页面中。我将如何将其仅限制在主页上？

它使用 smarty 模板引擎。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T08:34:55.740

有一个可变的顶峰购物车，你会得到它是当前页面（`$current_page`）。

```
{if $current_page == "Home"}
   /// Slider code goes here
{/if} 
```

如果您希望它显示在其他页面中，请首先查看该`$current_page`特定页面中的值，并相应地编写条件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-24T17:32:29.430

您的`home.html`页面位于，`[cart root]/content/engine/design/templates/pages/site/`因此您可以在此处添加滑块​​。或者您可以使用您的模板 home.html 文件。如果它不存在，您可以手动添加自定义 home.html，因为 pinnaclecart 首先查看 home.html 是否存在于所选模板系统中，如果不存在，则它会在上面的文件夹中查找。因此，模板中自定义 home.html 的正确位置是`[cart root]/content/skins/YOURSKIN/templates/pages/site/`.

# javascript - 按 Enter 不会提交表单 - Javascript

> ID：14576926
> 
> 赞同：1
> 
> 时间：2013-01-29T06:28:42.903
> 
> 标签：javascript, forms, enter

我正在构建一个基本站点，我希望用户能够输入将他们重定向到特定页面的“关键字”。不同的关键字将重定向到不同的页面。

例如，Apple 将重定向到 Apple.com（仅作为示例，不在我的网站上）。

我在另一个网站上找到了另一个人的 Javascript（见下文）。除了一个小细节外，它几乎完美无缺——用户必须单击按钮才能进行重定向。按回车键不起作用。我尝试将输入类型更改为“提交”而不是“按钮”，但仍然没有运气。有人有什么建议吗？

```
<script type="text/JavaScript">
<!--
function Login(){
var done=0;
var keyword=document.enter_keyword.keyword.value;
//keyword=keyword.toLowerCase();
if (keyword=="toms") { window.location="http://www.toms.com"; done=1; }
if (keyword=="apple") { window.location="http://www.apple.com"; done=1; }
if (keyword=="orange") { window.location="http://www.orange.com"; done=1; }
if (done==0) { alert("WARNING:Incorrect keyword you plonker!!!"); }
}
//-->
</script> 

</head>

<body>

<form name=enter_keyword>
<table border="1" cellpadding="2" cellspacing="2" bgcolor="#7B97E0">
<tr>
<td>
<font color="#ffffff"><b>Enter keyword:</b></font>
</td>
<td><input type=text name=keyword>
</td>
</tr>
<tr>
<td colspan=2 align=center>
<input type=button value="Login!" onClick="Login()">
</td>
</tr>
</table>
</form> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T06:35:03.150

如果你可以使用 jquery 使用这个

```
$(document).ready(function() {
  $(window).keydown(function(event){
    if(event.keyCode == 13) {
      event.preventDefault();
      return false;
    }
  });
}); 
```

否则使用这个我将表单设置为 onsubmit="return false" 并这样做

```
<input type="button" value="Submit" onClick="document.Survey.submit()" style="font-size: 1.25em;"> 
```

或使用这个

```
$("#form").submit( function (e) {
    e.preventDefault(); ...} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-29T06:37:00.563

它需要单击，因为唯一调用该函数的是输入`onClick`事件。摆脱`onClick="Login()"`和改变`type="submit"`你的`<input>`并添加`onSubmit="Login()"`到你的`<form>`

```
<script type="text/JavaScript">
<!--
function Login(){
var done=0;
var keyword=document.enter_keyword.keyword.value;
//keyword=keyword.toLowerCase();
if (keyword=="toms") { window.location="http://www.toms.com"; done=1; }
if (keyword=="apple") { window.location="http://www.apple.com"; done=1; }
if (keyword=="orange") { window.location="http://www.orange.com"; done=1; }
if (done==0) { alert("WARNING:Incorrect keyword you plonker!!!"); }
}
//-->
</script> 

</head>

<body>

<form name=enter_keyword onSubmit="Login()">
<table border="1" cellpadding="2" cellspacing="2" bgcolor="#7B97E0">
<tr>
<td>
<font color="#ffffff"><b>Enter keyword:</b></font>
</td>
<td><input type=text name=keyword>
</td>
</tr>
<tr>
<td colspan=2 align=center>
<input type=submit value="Login!">
</td>
</tr>
</table>
</form> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-02-06T01:45:44.687

如前所述，问题在于您依赖`onClick`事件来触发您的javascript函数，因此需要单击。

此外，在文本字段中按“Enter”以触发表单提交的行为取决于：

*   只有一个文本字段，或者
*   一个`<input type='submit'>`（或者也许`<button type='submit'>`，等等，在表格的某个地方。

（可以在此处找到有关该特定行为及其原因的更详细讨论：[Form not submit when press enter](https://stackoverflow.com/questions/4196681/form-not-submitting-when-pressing-enter/35235768#35235768)）

由于表单中只有一个文本字段，因此`submit`在按 Enter 时正确触发了操作；所以你需要捕获`submit()`表单的事件，使用它的`onSubmit=`属性（或者，或者，使用 jQuery 或其他一些 javascript 代码，将相同的事件处理程序添加到表单。jQuery 方式有一些优点，但它是有效的等效于此目的）。

```
<form name="enter_keyword" onSubmit="javascript:redirect(); return false;"> 
```

（我已将函数重命名为，`redirect()`因为看起来这就是我们正在做的事情，而不是在这里登录。此外，`return false;`函数调用之后将阻止表单实际提交任何内容，因为我们正在处理它javascript 函数。（没有`return false;`，默认情况下，表单将提交到 URI 设置为表单的`action=`属性；如果未设置，它们将提交到当前 URL。可以同时使用 javascript 处理表单然后提交数据到服务器端处理程序，以及，在这种情况下它会`return true`（这是默认的）。）

我对此做[了一个工作 jsfiddle](https://jsfiddle.net/adub505/vtq9y13s/)，以及其他一些更改（解释如下）：

```
function redirect() {
  // var done=0;
  var keyword = document.enter_keyword.keyword.value;
  //keyword=keyword.toLowerCase();
  //alert(keyword);

  var keyword_map = {
    'toms': 'toms.com',
    'apple': 'apple.com',
    'orange': 'orange.com'
  }

  var protocol = document.location.protocol; // to handle https://, etc., like here on jsfiddle

  if (keyword in keyword_map) {
    var target_url = protocol + '//' + keyword_map[keyword];
    alert("Attempting to redirect you to: " + target_url);
    window.location = target_url;

  } else {
    alert("WARNING:Incorrect keyword you plonker!!!");
  }

  /*
  if (keyword=="toms") { window.location = protocol + "www.toms.com"; done=1; }
  if (keyword=="apple") { window.location = protocol + "www.apple.com"; done=1; }
  if (keyword=="orange") { window.location= protocol + "www.orange.com"; done=1; }
	if (done==0) { alert("WARNING:Incorrect keyword you plonker!!!"); }
  */

}
```

```
<form name="enter_keyword" onSubmit="javascript:redirect(); return false;">
  <table border="1" cellpadding="2" cellspacing="2" bgcolor="#7B97E0">
    <tr>
      <td>
        <font color="#ffffff"><b>Enter keyword:</b></font>
      </td>
      <td>
        <input type=text name=keyword>
      </td>
    </tr>
    <tr>
      <td colspan=2 align=center>
        <input type=submit value="Go!">
      </td>
    </tr>
  </table>
</form>
```

与其`if (keyword="keyword") { window.location = "location"; done=1; }`对每种情况进行硬编码，不如制作一个字典映射（技术上是 javascript 中的一个对象，但哦，好吧）将所有可用的关键字映射到 url？：

```
 var keyword_map = {
    'toms': 'toms.com',
    'apple': 'apple.com',
    'orange': 'orange.com'
  }; 
```

然后，不是`done=0`在开始时设置，`done=1`在每个分支中，并在最后检查，我们可以这样做：

```
 if (keyword in keyword_map) {
    // redirect to keyword_map[keyword]

  } else {
    alert("WARNING:Incorrect keyword you plonker!!!");
  } 
```

而不是`http://www.`为每个位置键入，只需存储基本 url，然后每次应用协议。

因此，即使在作为 https:// 提供的站点上也可以使用（例如，jsfiddle，如果您已登录），我们可以检查当前页面的协议，并在前面添加：

```
 var protocol = document.location.protocol; // to handle https://, etc., like here on jsfiddle

  if (keyword in keyword_map) {
    var target_url = protocol + '//' + keyword_map[keyword];
    alert("Attempting to redirect you to: " + target_url);
    window.location = target_url;

  } else {
    alert("WARNING:Incorrect keyword you plonker!!!");
  } 
```

现在你有了一个框架，可以更干净、更优雅地做你想做的事情，希望这个解释有助于增加你对正在发生的事情的理解。:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-29T06:32:02.303

嗯，这很正常。您在点击事件上调用了您的函数。为此，您必须收听表单上的“onSubmit”事件。你应该放一个提交而不是一个按钮。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-29T06:35:02.843

此函数将触发`click`按下按钮的事件`enter`

```
$("input[name=keyword]").keyup(function(event){
    if(event.keyCode == 13){
        $("input[type=button]").click();
    }
 }); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-29T06:39:55.790

在表单中使用`onsubmit`event 属性：

```
<form name="enter_keyword"  onsubmit="Login()"> 
```

保持输入类型 = 提交按钮。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-01-29T06:40:03.770

```
$(document).ready(function() {
 $("input[name=keyword]").keydown(function(event) {

                if ( event.keyCode == 13)
                 {
                        //do something
                 }

            });
}); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-01-29T06:40:58.497

尝试更改此行：

`<input type="button" value="Login!" onClick="Login()">`

对此：

`<input type="submit" value="Login!">`

并在表单中添加一个 onSubmit：

`<form name="enter_keyword" onSubmit="Login();">`

这是我更喜欢这样做的方式，它总是对我有用。

# vb.net - 从数据库中检索图像

> ID：14576935
> 
> 赞同：0
> 
> 时间：2013-01-29T06:29:21.970
> 
> 标签：vb.net, picturebox

我正在处理我的项目，该项目显示员工列表。在这里，将显示员工的信息和照片。我的项目现在可以在列表框中显示员工列表，当我双击员工时，他/她的个人资料将显示在文本框中。我的问题是我无法让他们的照片显示在`picturebox`. 我已经将他们的照片连同他们的 ID、姓名和个人资料一起存储在我的数据库中的一个表中。`It only shows the picture of the first employee on the table`. 有谁能够帮助我？

这是我已经完成的：

我填充了列表框：

```
Call Connect() 
    With Me
        STRSQL = "Select employee_name from Employees"
        Try
            myCmd.Connection = myConn
            myCmd.CommandText = STRSQL
            reader = myCmd.ExecuteReader
            If (reader.Read()) Then
                reader.Close()
                adptr.SelectCommand = myCmd
                adptr.Fill(dt)
                lstEmployee.DisplayMember = "employee_name"
                lstEmployee.ValueMember = "employee_id"
                If dt.Rows.Count > 0 Then
                    For i As Integer = 0 To dt.Rows.Count - 1
                        lstEmployee.Items.Add(dt.Rows(i)("employee_name"))
                    Next
                End If
            End If
        Catch ex As Exception
            MsgBox(ex.Message)
        End Try
    End With 
```

这是我在文本框中显示信息的方式

```
Dim FileSize As UInt32
    Dim mStream As New System.IO.MemoryStream()
    Dim arrImage() As Byte = mStream.GetBuffer()
    FileSize = mStream.Length
    Dim cmd As New MySqlCommandBuilder
    Call Connect()
    With Me
        STRSQL = "select employee_name, profile from Employees where employee_id = " & lstEmployee.SelectedIndex
        Try
            myCmd.Connection = myConn
            myCmd.CommandText = STRSQL
            reader = myCmd.ExecuteReader

            If (reader.Read()) Then
                txtName.Text = reader("employee_name")
                txtProfile.Text = reader("profile")
            End If
        Catch ex As Exception
            MsgBox(ex.Message)
        Finally
            myConn.Close()
        End Try
        adptr.SelectCommand = myCmd
        dt = New DataTable
        adptr = New MySqlDataAdapter("select picture from Employees", myConn)
        cmd = New MySqlCommandBuilder
        adptr.Fill(dt)
        Dim lb() As Byte = dt.Rows(0).Item("picture")
        Dim lstr As New System.IO.MemoryStream(lb)
        pix.Image = Image.FromStream(lstr)
        pix.SizeMode = PictureBoxSizeMode.StretchImage
        lstr.Close() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T12:19:27.660

你错过了`where clause`必须像搜索一个员工来查看那里的图像。

```
adptr = _
      New MySqlDataAdapter("select picture from Employees " + _
      "where employee_id = " & lstEmployee.SelectedIndex, myConn)
cmd = New MySqlCommandBuilder
adptr.Fill(dt)
Dim lb() As Byte = dt.Rows(0).Item("picture")
Dim lstr As New System.IO.MemoryStream(lb)
pix.Image = Image.FromStream(lstr)
pix.SizeMode = PictureBoxSizeMode.StretchImage
lstr.Close() 
```

PS：您必须学习[LINQ（语言集成查询）](http://msdn.microsoft.com/en-us/library/vstudio/bb397926.aspx)以获得更好的方法。

# jquery - 选择框更改时的jquery自动完成

> ID：14576937
> 
> 赞同：0
> 
> 时间：2013-01-29T06:29:25.220
> 
> 标签：jquery, codeigniter

我的 HTML

```
Unit : <select name="unit_id" id="unit_id">
    <option value="Select">Select</option>
    <option value="1a">1/A</option>
    <option value="1b">1/B</option>
    <option value="1c">1/C</option>
    <option value="1d">1/D</option>
    </select> 
```

查询：

```
$(function(){ 

$('#unit_id').autocomplete(
{
source: "<?php echo base_url(); ?>index.php/autocomplete/find_customer_name",
select: function(event, ui)
{
document.getElementById('customer_id').value = ui.item.customer_id;
document.getElementById('customer_name').value = ui.item.customer_name;
document.getElementById('customer_name1').value = ui.item.customer_name;
document.getElementById('dsp_due').innerHTML = ui.item.due_balance;
document.getElementById('dsp_custp').innerHTML = ui.item.package_name;

}
}); 
```

});

我想在选择框中使用我的自动完成功能。相同的代码在 input.text 框中工作正常，但我需要它作为选择框。有什么帮助吗？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-17T03:42:03.927

我使用了之前引用的[select 2 3.3](http://ivaynberg.github.com/select2/)，但发现 twitter 的[typeahead](http://twitter.github.com/bootstrap/javascript.html#typeahead)更符合我的喜好。在这种情况下，两者都可以很好地工作。为什么要重新发明轮子？

# android - Android EditText 不是多行

> ID：14576942
> 
> 赞同：10
> 
> 时间：2013-01-29T06:29:59.507
> 
> 标签：android, eclipse, android-edittext, multiline

> **可能重复：**
> [将edittext限制为单行](https://stackoverflow.com/questions/10978038/restrict-edittext-to-single-line)

我有 2 个编辑文本。我的问题是，当我按下键盘上的 enter 按钮时，它会创建另一组线。或者它会在我的编辑文本中创建下一行。我想删除它，我希望它在单行中。即使我在键盘上输入回车键，它仍然不会创建下一行。

你怎么做呢？

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-01-29T06:32:36.110

在你的 EditText xml 中试试这个

```
android:singleLine="true" 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-01-29T06:39:56.787

```
 <EditText
    android:id="@+id/edittextView1"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:maxLines="1"
    android:singleLine="true"/> 
```

尝试在布局中编辑文本

# c# - FileResult 在 mvc3 中没有提示

> ID：14576945
> 
> 赞同：0
> 
> 时间：2013-01-29T06:30:13.753
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-3, jquery, fileresult

我在 vs 2010 中创建 MVC 3 应用程序。我尝试在文件中下载文件。

这是我在 MVC 中的操作。请看我的代码。

```
 //[HttpPost]
    public FileResult Download(string url, string cnt)
    {
        if (!string.IsNullOrEmpty(url) && !string.IsNullOrEmpty(cnt))
        {
            return File(url, cnt);
        }
        else
        {
            return null;
        }

    }

 <input type="button" id="@(Model.ControlID)_bio_view" class="changepasswordbutton" value="View" /> 
```

我在我的 .cshtml 文件中创建了一个 jQuery 函数

```
 function ViewFile(url, cnt) {
    $.post('@(Url.Action("Download"))?url=' + url + '&cnt=' + cnt)
}
 $('#@(Model.ControlID)_bio_view').click(function (e) {

    ViewFile($('#bio_file_url').val(), $('#bio_file_url').attr("cnttype"));

}); 
```

当我单击“下载”按钮时，此功能会正确触发。但是没有提示文件下载窗口。

请帮忙。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T06:31:20.413

不，您不能使用 AJAX 请求下载文件。您需要将浏览器重定向到目标 url 而不是发送 AJAX 请求：

```
function ViewFile(url, cnt) {
    window.location.href = '@(Url.Action("Download"))?' + 
        'url=' +  encodeURIComponent(url) + 
        '&cnt=' + encodeURIComponent(cnt);
} 
```

还要记住，该`File`函数期望文件的绝对物理路径作为第一个参数，例如：

```
public ActionResult Download(string url, string cnt)
{
    if (!string.IsNullOrEmpty(url) && !string.IsNullOrEmpty(cnt) && File.Exists(url))
    {
        return File(url, cnt);
    }
    return HttpNotFound();
} 
```

此外，如果您想提示下载文件，您需要指定文件名（File 函数的第三个参数）：

```
return File(@"c:\reports\foo.pdf", "application/pdf", "foo.pdf"); 
```

# jquery - 无法运行构造函数：TypeError：表达式“cordova.addPlugin”[undefined] 的结果不是函数

> ID：14576946
> 
> 赞同：0
> 
> 时间：2013-01-29T06:30:17.607
> 
> 标签：jquery, cordova, phonegap-plugins

我会尝试在 phonegap 中制作一个代码，但出现一个问题，请帮助解决这个错误。

无法运行构造函数：TypeError：表达式“cordova.addPlugin”[undefined] 的结果不是函数。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T15:18:46.517

该错误仅意味着从未初始化“cordova”。这可能是由于以下可能性之一：

1.  您没有`cordova-X.X.X.js`在`index.html`文件中包含某些版本。
2.  您的 中`cordova-X.X.X.js`引用了该脚本`index.html`，但`cordova-X.X.X.js`您提供的路径中不存在该脚本。
3.  您正在 iOS 上开发并且您正在尝试使用`cordova-X.X.X.js`为 Android 制作的（替换那里的任何平台......关键是您必须使用`cordova-X.X.X.js`为您正在开发的平台制作的）。

如果您使用的是 Cordova 2.3.0，则`cordova-X.X.X.js`上面的所有引用都是`cordova-2.3.0.js`.

这是 Cordova 2.3.0 的完整文档：http: [//docs.phonegap.com/en/2.3.0/index.html](http://docs.phonegap.com/en/2.3.0/index.html)

以下是各种入门指南，针对 Cordova 支持的每个平台：http: [//docs.phonegap.com/en/2.3.0/guide_getting-started_index.md.html#Getting%20Started%20Guides](http://docs.phonegap.com/en/2.3.0/guide_getting-started_index.md.html#Getting%20Started%20Guides)

如果这个答案没有解决您的问题，您需要编辑您的问题并填写一些缺失的信息：平台、Cordova 版本、代码示例。

# jquery - 在 step 内停止 jquery 动画，然后设置动画属性

> ID：14576948
> 
> 赞同：3
> 
> 时间：2013-01-29T06:30:34.617
> 
> 标签：jquery, animation, queue

我正在为移动的块设置动画，并使用 step 选项在每一步检查布尔值是否已切换为 true。如果它确实被切换，我想停止动画并将我正在制作动画的属性设置为某个值。这是我现在拥有的代码

```
$("#block").animate( { bottom: "+=128" },
{ duration:200,
easing: "easeOutCubic",
step: function(){
        if( stopped == true ){
            $("#block").stop().css("bottom", "none");
            $("#block").css("bottom", "5px");
            //setTimeout( function(){ $("#block").css("bottom", "5px"); }, 1);
        }
    },
complete: function(){
        //complete function
    }
} 
```

);

如果我将代码延迟 1 毫秒（注释行），它就可以工作。如果没有其他方法，我愿意使用它，但我更想知道为什么设置 css 属性在 step 选项中不起作用，但在 timeout 函数中起作用。或者，如果我只是在这里遗漏了一些基本的东西。谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2018-12-22T04:25:56.103

迟到的答案，但我想出了如何在一步内停止你的动画。

只需使用`$(this).stop()`. 然后您可以设置最终属性：

```
$("#block").animate( { bottom: "+=128" }, {
    duration:200,
    easing: "easeOutCubic",
    step: function(now, fx) {

        if( stopped == true ) {

            $(this).stop();

            $("#block").css("bottom", "none");
            $("#block").css("bottom", "5px");

        }
    },
    complete: function() {
        //complete function
    }
} 
```

# css - 对 Sencha Touch 应用程序进行风格化的最佳方式是什么？

> ID：14576953
> 
> 赞同：0
> 
> 时间：2013-01-29T06:31:01.150
> 
> 标签：css, mobile, extjs, sencha-touch-2, sass

我是一个新手，我用 jQuery Mobile 设计了一个应用程序，但是当权者告诉我应该使用 Sencha Touch 重做它。我有点难以理解 Sencha Touch。我应该只使用我的开发人员工具并更改他们的大型 CSS 文件吗？我应该向每个 .js 页面添加 html 和类，`cls: 'whatev',`而不是添加我的 css。我应该弄乱 SCSS 文件吗？

我知道我的问题是一个业余问题，但在开始之前我真的很感激任何方向。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:53:01.963

有一个涵盖很多基础知识的主题指南：[http ://docs.sencha.com/touch/2-1/#!/guide/theming](http://docs.sencha.com/touch/2-1/#!/guide/theming)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T18:50:46.643

您可能还想参考这篇内容丰富的帖子：[http ://www.sencha.com/blog/an-introduction-to-theming-sencha-touch](http://www.sencha.com/blog/an-introduction-to-theming-sencha-touch)

# json - 将 JSON 放入 Backbone 中的下划线模板

> ID：14576958
> 
> 赞同：1
> 
> 时间：2013-01-29T06:31:27.757
> 
> 标签：json, backbone.js, underscore.js

刚刚开始使用 Backbone，仍然了解其中的来龙去脉。

我正在尝试使用 Underscore 和 Backbone 简单地显示一些 JSON。我可以使用 Underscore 和 $.getJSON 使其工作，但是当我尝试将它与 Backbone 连接时，我会根据我的尝试得到各种错误。

我还能够通过将值硬编码到模型中来让 Backbone 工作，但是当我尝试将它们组合在一起时，我遇到了困难。任何帮助表示赞赏。

这是我的下划线模板：

```
<script type="text/html" id='trailTemplate'>

    <% _.each(trails,function(trail){ %>

        <%= trail.trailname %><br />

    <% }); %>

</script> 
```

这是我的主干代码：

```
var Trail = Backbone.Model.extend({
    urlRoot: "trails.json"
});

var trail = new Trail({});

var TrailView = Backbone.View.extend({
    el: '.page',

    template: _.template($("#trailTemplate").html(), {trails:trail.fetch()}),

    render: function(){
        this.$el.html(this.template(this.model.toJSON()));
        return this;
    }
});

var trailView = new TrailView({
    model: trail
});

trailView.render(); 
```

如果你需要它，这里是 trails.json

```
[
        {
            "trailhead": "Bear Lake",
            "trailname": "Bear Lake",
            "distance": ".5",
            "gain": "20",
            "level": "easy"
        },

        {
            "trailhead": "Bear Lake",
            "trailname": "Nymph Lake",
            "distance": ".5",
            "gain": "225",
            "level": "fairly easy"
        }
] 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-29T11:13:09.817

您的`trails.json`文件包含一个包含 2 个对象的数组，它们都代表一个“Trail”。所以你应该有一个集合'Trails'而不是一个模型

```
var Trails = Backbone.Collection.extend({
  url: '/trails.json'
});

var trails = new Trails(); 
```

下划线[模板功能](http://underscorejs.org/#template)有两种使用方式：

1.  **_.template(templateString)** - 将 templateString 编译成可以在必要时评估的函数
2.  **_.template(templateString, data)** - 使用给定数据编译并立即评估模板

现在您使用的方式是数字 2（您声明模板的方式）和数字 1（您如何在渲染中使用它）。让我们检查一下模板声明：

```
template: _.template($("#trailTemplate").html(), {trails:trail.fetch()}) 
```

这一切都很好，直到您尝试赋予它 -属性为止`data`。首先，**此时您不需要提供数据**，您只需要创建可以在 View 呈现时进行评估的模板函数。其次，你试图传递的东西`data`根本不是你想象的那样。

`trail.fetch()`不返回 fetch 结果，它返回使用 fetch 进行的 ajax 调用的 ajax 句柄。值得庆幸的是，Backbone 的制作让您不必考虑所有这些痛苦的 ajax 东西，而是您可以信任 Backbone 发出的事件。所以拿出[Backbone Catalog o' Events](http://backbonejs.org/#Events-catalog)并查看`reset`

> **"reset"** (collection, options) — 当集合的全部内容被替换时。

这是您收集后将发出的事件（`sync`我认为也是）。在发出此事件之前，您的集合将是空的，因此在听到此`reset`事件之前对其进行任何操作是没有意义的。所以现在让我们把它们放在一起：

```
var TrailView = Backbone.View.extend({
  el: '.page',

  template: _.template($("#trailTemplate").html()), // no data attribute here

  initialize: function() {
    this.collection.on('reset', this.render);  // render after collection is reset
    this.collection.fetch();  // fetch the collection from the trails.json file
  }

  render: function(){
    // evaluate the template here
    this.$el.html(this.template(this.collection.toJSON())); 
    return this;
  }
});

var trailView = new TrailView({
  collection: trails
});

// trailView.render(); <- No need for this, because it will render itself 
```

希望这可以帮助！

# java - 在java中如何替换不可变对象

> ID：14576959
> 
> 赞同：-2
> 
> 时间：2013-01-29T06:31:29.763
> 
> 标签：java, multithreading, concurrency, immutability

如何

假设我有这门课

```
@ImmutableWannabe
public class ConfigurationHolder {
  @ImmutableButHowToMakeSureNoTwoThreadsOverrideOneEachOtherWhenReplacingReference
  private Map<System, Configuration> mySysConfig  = ImmutableMap.builder<>getSomeConfigurations....build();
  ConfigurationHolder(copy constructor) {
     mySysConfig = ImmutableMap.builder().of(inputSysConfig);
  }
} 
```

现在假设其中一个系统配置已更新，我需要更新此映射，但我需要以线程安全的方式进行。这意味着如果两个线程尝试更新相同系统数据的相同配置，它们应该是一致的，并且它们不应该相互覆盖。

不变性对我有什么帮助？据我所见，如果是的话，我仍然需要锁定如何正确执行？

所以我的一般问题是：任何可以随系统时间更改的 immutableObject 是否都会导致我们需要锁定需要更改其 ImmutableObjectHolder 的代码？我不明白...

有人可以为该 Map 提供一个 ImmutableMap + Holder 的正确示例 + 正确的“客户端”代码，该代码知道用内部 Map 的更新来更新这个 ImmutableMapHolder 吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T06:49:39.380

假设你的地图是一些实例变量，它是最简单的方法`volatile`。或者，为它制作一个 getter 和 setter 并制作它们`synchronized`。即，使用标准技术。请注意，如果客户端试图聪明并将值缓存在局部变量中，这将无济于事。（我已经被这个虫子咬过几次了。）

我想作为替代方案，您可以设置一些 MyImmutableChanged 事件/侦听器。

而且，您是对的，不变性并不能解决所有线程问题。

# jquery - jquery移动研发——如何自定义CSS

> ID：14576964
> 
> 赞同：1
> 
> 时间：2013-01-29T06:32:02.623
> 
> 标签：jquery, css, html, jquery-mobile

我们正在 Zend 框架上运行一个（桌面）电子商务站点，该站点非常大（就编码和不同部分而言）。我们现在正在计划一个针对移动设备优化的网站，并且我们正在研究 Jquery Mobile。

我们正在尝试两件事来决定我们应该选择哪条道路。

1) 使用 Jquery 移动主题来构建我们的 HTML，然后从那里自定义它。

或者

2）建立我们自己的主题。

目前我正在尝试 2) 构建我们自己的主题。

我发现了自定义页面（CSS）的问题。请您回答我的以下问题。我正在关注 Jquery 移动网站上的指南。

1) 是否必须包含默认的 jquery css ( [http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css](http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css) )？

或者

2) 是否可以使用我们的自定义样式更新默认的 jquery css？

另一个问题，我使用以下代码创建了文件，

```
 <div data-role="collapsible" data-inset="false" data-expanded-icon="arrow-d" data-collapsed-icon="arrow-r" data-iconpos="right" data-corners="false" data-theme="inner_menu">

            <h3 class="inner_menu_heading">Section A1</h3>

            <div data-role="collapsible-set" data-inset="false" data-icon="arrow-r" data-iconpos="right" data-corners="false">

                <div data-role="collapsible" data-collapsed="false">

                    <h3 class="sub_menu_heading">Section A1.1</h3>

                    <p>I'm the collapsible set content for section 1.</p>

                </div>

                <div data-role="collapsible" data-collapsed="false">

                    <h3 class="sub_menu_heading">Section A1.2</h3>

                    <p>I'm the collapsible set content for section 2.</p>

                </div>

            </div>

        <!-- section A1 end here-->

        </div> 
```

然而，在页面加载后，它会提供额外的标签。请看下面的代码。

```
<div class="ui-collapsible-content" aria-hidden="false">

    <div data-corners="false" data-iconpos="right" data-icon="arrow-r" data-inset="false" data-role="collapsible-set" class="ui-collapsible-set">

                    <div data-collapsed="false" data-role="collapsible" class="ui-collapsible ui-collapsible-collapsed">

                        <h3 class="sub_menu_heading ui-collapsible-heading ui-collapsible-heading-collapsed ui-li-heading">

                        <a class="ui-collapsible-heading-toggle ui-btn ui-btn-icon-right ui-btn-up-c" href="#" data-corners="false" data-shadow="false" data-iconshadow="true" data-wrapperels="span" data-icon="plus" data-iconpos="right" data-theme="c">

                        <span class="ui-btn-inner"><span class="ui-btn-text">Section A1.1<span class="ui-collapsible-heading-status"> click to expand contents</span></span>

                        <span class="ui-icon ui-icon-shadow ui-icon-plus">&nbsp;</span></span></a></h3>

                        <div class="ui-collapsible-content ui-collapsible-content-collapsed" aria-hidden="true">

                            <p class="ui-li-desc">I'm the collapsible set content for section 1.</p>

                        </div>

                    </div>

                    <div data-collapsed="false" data-role="collapsible" class="ui-collapsible ui-collapsible-collapsed">

                        <h3 class="sub_menu_heading ui-collapsible-heading ui-li-heading ui-collapsible-heading-collapsed">

                        <a class="ui-collapsible-heading-toggle ui-btn ui-btn-icon-right ui-focus ui-btn-up-c" href="#" data-corners="false" data-shadow="false" data-iconshadow="true" data-wrapperels="span" data-icon="plus" data-iconpos="right" data-theme="c">

                        <span class="ui-btn-inner"><span class="ui-btn-text">Section A1.2<span class="ui-collapsible-heading-status"> click to expand contents</span></span>

                        <span class="ui-icon ui-icon-shadow ui-icon-plus">&nbsp;</span></span></a></h3>

                        <div class="ui-collapsible-content ui-collapsible-content-collapsed" aria-hidden="true">

                            <p class="ui-li-desc">I'm the collapsible set content for section 2.</p>

                        </div>

                    </div>

                </div>

<!-- section A1 end here-->

</div> 
```

这些附加标签（例如 new 和 之后的标签）会导致样式问题。是否可以删除/自定义这些标签以避免出现问题？

或者

因为我需要包含 jquery.min CSS 文件，我是否应该只保留 jquery 默认 CSS 文件并创建一个覆盖 CSS 文件以进行自定义？

或者

我应该制作自己的 CSS 文件，复制普通的 jquery CSS，然后自己更改它吗？因此，我总共有一个 CSS 文件。

请帮助/建议我解决上述问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T07:32:53.027

我将尝试解释一些我所知道的关于使用定制的 jquery 移动 css 的事实。

1.当您使用 jquery 自定义页面时，它会尝试以自己的格式重新设计您的整个标记，例如：如果您还没有添加，则将您的整个内容添加到“页面”角色标签中。此外，它还会添加额外的用于样式化元素的标签。这是因为它将“数据角色”属性转换为风格化标记，这不是问题。

2.如果您从 jquery 主题滚轮构建自己的自定义主题，请注意，它将推出一个带有您设计的新色板的 css。如果您只想使用自定义主题设置元素样式，请使用 jquery-mobile .css 是可选的。如果您想使用 jquery css 中的主题并添加您自己的新主题，请创建一个带有 theme="f" 或更高版本的新样本，因为主题“a”到“e”已经在 jquery mobile 中预定义css。将新主题与 jquery mobile css 结合使用将需要修改 jquery css，即只需将新样式粘贴到 jquery css 中。这不会很困难，因为您将使用样本字母制作新样式，例如 ui -bar-f、ui-body-f、ui-button-up-f 等....

我认为你也应该看看 jquery mobile docs。

希望有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T08:39:34.160

这是关于如何自定义 JQM 主题的说明。看看[这个](http://www.netmagazine.com/tutorials/create-custom-theme-jquery-mobile)_

# c# - DateTime.Today 与 DateTime.Now

> ID：14576967
> 
> 赞同：2
> 
> 时间：2013-01-29T06:32:21.507
> 
> 标签：c#, string, datetime, casting

这些给了我不同的日期

```
DateTime.Now.ToUniversalTime().ToString(@"yyyy-MM-dd");
DateTime.Today.ToUniversalTime().ToString(@"yyyy-MM-dd"); 
```

为什么？我假设它与日期时间的“时间部分”有关，可能设置为 0-0-0。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-29T06:37:51.603

该`DateTime.Today`属性实际上返回`DateTime.Now.Date`：它的时间段看起来像`00:00.00000`。而`DateTime.Now`时间段是这样的`10:09.00000`。因此，当您转换`ToUniversalTime`为时，它将取决于当前时间。

```
public static DateTime Today {
  get {
    DateTime now = DateTime.Now;
    return now.Date;
  }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T06:41:02.617

因为 ToUniversalTime()。

来自[MSDN](http://msdn.microsoft.com/en-us/library/system.datetime.touniversaltime.aspx)

> 协调世界时 (UTC) 等于本地时间减去 UTC 偏移量。有关 UTC 偏移的更多信息，请参阅[TimeZone.GetUtcOffset](http://msdn.microsoft.com/en-us/library/system.timezone.getutcoffset.aspx)。转换还考虑了适用于当前 DateTime 对象表示的时间的夏令时规则。

# c# - TypeErrorException 未处理 IronPython

> ID：14576970
> 
> 赞同：1
> 
> 时间：2013-01-29T06:32:36.630
> 
> 标签：c#, python, ironpython, typeerror

我有一个用 python 编写的脚本，我正在使用 C# 中的 IronPython 调用它。但是我一调用方法就遇到异常，它作为异常抛出。

这是我正在调用的脚本：

```
import sys
import ctypes

class EAHashingAlgorithm():

def __init__(self):
    # shift amounts in each round
    self.r1Shifts = [ 7, 12, 17, 22, 7, 12, 17, 22, 7, 12, 17, 22, 7, 12, 17, 22 ]
    self.r2Shifts = [ 5, 9, 14, 20, 5, 9, 14, 20, 5, 9, 14, 20, 5, 9, 14, 20 ]
    self.r3Shifts = [ 4, 11, 16, 23, 4, 11, 16, 23, 4, 11, 16, 23, 4, 11, 16, 23 ]
    self.r4Shifts = [ 6, 10, 15, 21, 6, 10, 15, 21, 6, 10, 15, 21, 6, 10, 15, 21 ]

    self.hexChars = "0123456789abcdef"

def zero_fill_right_shit(self, data, bits):
    return (data & 0xffffffff) >> bits

def num2hex(self, num):
    '''
        Convert a decimal number to hexadecimal
    '''
    temp = ''
    for i in range(0, 4):
        x = self.hexChars[ ( num >> (i * 8 + 4) ) & 0x0F ]
        y = self.hexChars[ ( num >> (i * 8) ) & 0x0F ]
        temp += (x + y)

    return temp

def chunkMessage(self, string):
    # TODO: ctypes.c_int32() in this method
    nblk = (( len(string) + 8) >> 6) + 1
    blks = [0] * (nblk * 16)

    for i in range(0, len(string)):
        blks[i >> 2] |= ord(string[i]) << ((i % 4) * 8)

    i = i + 1

    blks[i >> 2] |= 0x80 << ((i % 4) * 8)
    blks[nblk * 16 - 2] = len(string) * 8

    return blks

def add(self, x, y):
    lsw = (x & 0xFFFF) + (y & 0xFFFF)
    msw = (ctypes.c_int32(x >> 16).value) + (ctypes.c_int32(y >> 16).value) + (ctypes.c_int32(lsw >> 16).value)
    return ctypes.c_int32( (ctypes.c_int32(msw << 16).value) | (lsw & 0xFFFF) ).value

# Bitwise rotate 32bit num to left
def bitwiseRotate(self, x, c):
    return ctypes.c_int32( ctypes.c_int32(x << c).value | self.zero_fill_right_shit(x, 32 - c) ).value

# Basic MD5 operations
def cmn(self, q, a, b, x, s, t):
    z1 = self.add(a, q)
    z2 = self.add(x, t) 
    a1 = self.add(z1, z2)

    x1 = self.bitwiseRotate(a1, s)
    return self.add(x1, b)

def md5_f(self, a, b, c, d, x, s, t):
    return self.cmn( ctypes.c_int32((b & c) | ((~b) & d)).value, a, b, x, s, t )

def md5_g(self, a, b, c, d, x, s, t):
    return self.cmn( ctypes.c_int32((b & d) | (c & (~d))).value, a, b, x, s, t )

def md5_h(self, a, b, c, d, x, s, t):
    return self.cmn( ctypes.c_int32(b ^ c ^ d).value, a, b, x, s, t )

def md5_i(self, a, b, c, d, x, s, t):
    return self.cmn( ctypes.c_int32(c ^ (b | (~d))).value, a, b, x, s, t )

def EAHash(self, string):
    x = self.chunkMessage(string)

    a = 1732584193
    b = -271733879
    c = -1732584194
    d = 271733878

    for i in range(0, 16, 16):
        tempA = a
        tempB = b
        tempC = c
        tempD = d

        # F
        a = self.md5_f(a, b, c, d, x[i+0], self.r1Shifts[0], -680876936)
        d = self.md5_f(d, a, b, c, x[i+1], self.r1Shifts[1], -389564586)
        c = self.md5_f(c, d, a, b, x[i+2], self.r1Shifts[2], 606105819)
        b = self.md5_f(b, c, d, a, x[i+3], self.r1Shifts[3], -1044525330)

        a = self.md5_f(a, b, c, d, x[i+4], self.r1Shifts[4], -176418897)
        d = self.md5_f(d, a, b, c, x[i+5], self.r1Shifts[5], 1200080426)
        c = self.md5_f(c, d, a, b, x[i+6], self.r1Shifts[6], -1473231341)
        b = self.md5_f(b, c, d, a, x[i+7], self.r1Shifts[7], -45705983)

        a = self.md5_f(a, b, c, d, x[i+8], self.r1Shifts[8], 1770035416)
        d = self.md5_f(d, a, b, c, x[i+9], self.r1Shifts[9], -1958414417)
        c = self.md5_f(c, d, a, b, x[i+10], self.r1Shifts[10], -42063)
        b = self.md5_f(b, c, d, a, x[i+11], self.r1Shifts[11], -1990404162)

        a = self.md5_f(a, b, c, d, x[i+12], self.r1Shifts[12], 1804603682)
        d = self.md5_f(d, a, b, c, x[i+13], self.r1Shifts[13], -40341101)
        c = self.md5_f(c, d, a, b, x[i+14], self.r1Shifts[14], -1502002290)
        b = self.md5_f(b, c, d, a, x[i+15], self.r1Shifts[15], 1236535329)

        # G
        a = self.md5_g(a, b, c, d, x[i+1], self.r2Shifts[0], -165796510)
        d = self.md5_g(d, a, b, c, x[i+6], self.r2Shifts[1], -1069501632)
        c = self.md5_g(c, d, a, b, x[i+11], self.r2Shifts[2], 643717713)
        b = self.md5_g(b, c, d, a, x[i+0], self.r2Shifts[3], -373897302)

        a = self.md5_g(a, b, c, d, x[i+5], self.r2Shifts[4], -701558691)
        d = self.md5_g(d, a, b, c, x[i+10], self.r2Shifts[5], 38016083)
        c = self.md5_g(c, d, a, b, x[i+15], self.r2Shifts[6], -660478335)
        b = self.md5_g(b, c, d, a, x[i+4], self.r2Shifts[7], -405537848)

        a = self.md5_g(a, b, c, d, x[i+9], self.r2Shifts[8], 568446438)
        d = self.md5_g(d, a, b, c, x[i+14], self.r2Shifts[9], -1019803690)
        c = self.md5_g(c, d, a, b, x[i+3], self.r2Shifts[10], -187363961)
        b = self.md5_g(b, c, d, a, x[i+8], self.r2Shifts[11], 1163531501)

        a = self.md5_g(a, b, c, d, x[i+13], self.r2Shifts[12], -1444681467)
        d = self.md5_g(d, a, b, c, x[i+2], self.r2Shifts[13], -51403784)
        c = self.md5_g(c, d, a, b, x[i+7], self.r2Shifts[14], 1735328473)
        b = self.md5_g(b, c, d, a, x[i+12], self.r2Shifts[15], -1926607734)

        # H
        a = self.md5_h(a, b, c, d, x[i+5], self.r3Shifts[0], -378558)
        d = self.md5_h(d, a, b, c, x[i+8], self.r3Shifts[1], -2022574463)
        # line below uses self.r2Shifts[2] where as MD5 would use self.r3Shifts[2]
        c = self.md5_h(c, d, a, b, x[i+11], self.r2Shifts[2], 1839030562)
        b = self.md5_h(b, c, d, a, x[i+14], self.r3Shifts[3], -35309556)

        a = self.md5_h(a, b, c, d, x[i+1], self.r3Shifts[4], -1530992060)
        d = self.md5_h(d, a, b, c, x[i+4], self.r3Shifts[5], 1272893353)
        c = self.md5_h(c, d, a, b, x[i+7], self.r3Shifts[6], -155497632)
        b = self.md5_h(b, c, d, a, x[i+10], self.r3Shifts[7], -1094730640)

        a = self.md5_h(a, b, c, d, x[i+13], self.r3Shifts[8], 681279174)
        d = self.md5_h(d, a, b, c, x[i+0], self.r3Shifts[9], -358537222)
        c = self.md5_h(c, d, a, b, x[i+3], self.r3Shifts[10], -722521979)
        b = self.md5_h(b, c, d, a, x[i+6], self.r3Shifts[11], 76029189)

        a = self.md5_h(a, b, c, d, x[i+9], self.r3Shifts[12], -640364487)
        d = self.md5_h(d, a, b, c, x[i+12], self.r3Shifts[13], -421815835)
        c = self.md5_h(c, d, a, b, x[i+15], self.r3Shifts[14], 530742520)
        b = self.md5_h(b, c, d, a, x[i+2], self.r3Shifts[15], -995338651)

        # I
        a = self.md5_i(a, b, c, d, x[i+0], self.r4Shifts[0], -198630844)
        d = self.md5_i(d, a, b, c, x[i+7], self.r4Shifts[1], 1126891415)
        c = self.md5_i(c, d, a, b, x[i+14], self.r4Shifts[2], -1416354905)
        b = self.md5_i(b, c, d, a, x[i+5], self.r4Shifts[3], -57434055)

        a = self.md5_i(a, b, c, d, x[i+12], self.r4Shifts[4], 1700485571)
        d = self.md5_i(d, a, b, c, x[i+3], self.r4Shifts[5], -1894986606)
        c = self.md5_i(c, d, a, b, x[i+10], self.r4Shifts[6], -1051523)
        b = self.md5_i(b, c, d, a, x[i+1], self.r4Shifts[7], -2054922799)

        a = self.md5_i(a, b, c, d, x[i+8], self.r4Shifts[8], 1873313359)
        d = self.md5_i(d, a, b, c, x[i+15], self.r4Shifts[9], -30611744)
        c = self.md5_i(c, d, a, b, x[i+6], self.r4Shifts[10], -1560198380)
        b = self.md5_i(b, c, d, a, x[i+13], self.r4Shifts[11], 1309151649)

        a = self.md5_i(a, b, c, d, x[i+4], self.r4Shifts[12], -145523070)
        d = self.md5_i(d, a, b, c, x[i+11], self.r4Shifts[13], -1120210379)
        c = self.md5_i(c, d, a, b, x[i+2], self.r4Shifts[14], 718787259)
        b = self.md5_i(b, c, d, a, x[i+9], self.r4Shifts[15], -343485551)
        # This line is doubled for some reason, line below is not in the MD5 version
        b = self.md5_i(b, c, d, a, x[i+ 9], self.r4Shifts[15], -343485551)

        a = self.add(a, tempA)
        b = self.add(b, tempB)
        c = self.add(c, tempC)
        d = self.add(d, tempD)

    return self.num2hex(a) + self.num2hex(b) + self.num2hex(c) + self.num2hex(d) 
```

这就是我在类中调用方法的方式：

```
ScriptSource source = engine.CreateScriptSourceFromFile("EAHashingAlgorithm.py");
        ScriptScope scope = engine.CreateScope();
        engine.SetSearchPaths(new[] { "C:/Program Files (x86)/IronPython 2.7/Lib" });
        source.Execute(scope);

        dynamic eaHash = scope.GetVariable("EAHashingAlgorithm");
        dynamic hash = eaHash();
        this.answer = hash.EAHash(_answer); //lets suppose the answer is "123456" 
```

它抛出以下异常：

```
expected signed long, got long 
```

这是堆栈跟踪：

```
at IronPython.Modules.ModuleOps.GetSignedLong(Object value, Object type)
   at IronPython.Modules.CTypes.SimpleType.IronPython.Modules.CTypes.INativeType.SetValue(MemoryHolder owner, Int32 offset, Object value)
   at IronPython.Modules.CTypes.SimpleCData.__init__(Object value)
   at CallSite.Target(Closure , CallSite , CodeContext , Object , Object )
   at System.Dynamic.UpdateDelegates.UpdateAndExecute3[T0,T1,T2,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2)
   at Microsoft.Scripting.Interpreter.DynamicInstruction`4.Run(InterpretedFrame frame)
   at Microsoft.Scripting.Interpreter.Interpreter.Run(InterpretedFrame frame)
   at Microsoft.Scripting.Interpreter.LightLambda.Run4[T0,T1,T2,T3,TRet](T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   at System.Dynamic.UpdateDelegates.UpdateAndExecute3[T0,T1,T2,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2)
   at Microsoft.Scripting.Interpreter.DynamicInstruction`4.Run(InterpretedFrame frame)
   at Microsoft.Scripting.Interpreter.Interpreter.Run(InterpretedFrame frame)
   at Microsoft.Scripting.Interpreter.LightLambda.Run4[T0,T1,T2,T3,TRet](T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   at IronPython.Compiler.PythonCallTargets.OriginalCallTarget3(PythonFunction function, Object arg0, Object arg1, Object arg2)
   at IronPython.Runtime.FunctionCaller`3.Call3(CallSite site, CodeContext context, Object func, T0 arg0, T1 arg1, T2 arg2)
   at IronPython.Runtime.Method.MethodBinding`2.SelfTarget(CallSite site, CodeContext context, Object target, T0 arg0, T1 arg1)
   at System.Dynamic.UpdateDelegates.UpdateAndExecute4[T0,T1,T2,T3,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   at Microsoft.Scripting.Interpreter.DynamicInstruction`5.Run(InterpretedFrame frame)
   at Microsoft.Scripting.Interpreter.Interpreter.Run(InterpretedFrame frame)
   at Microsoft.Scripting.Interpreter.LightLambda.Run8[T0,T1,T2,T3,T4,T5,T6,T7,TRet](T0 arg0, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7)
   at IronPython.Compiler.PythonCallTargets.OriginalCallTarget7(PythonFunction function, Object arg0, Object arg1, Object arg2, Object arg3, Object arg4, Object arg5, Object arg6)
   at IronPython.Runtime.FunctionCaller`7.Call7(CallSite site, CodeContext context, Object func, T0 arg0, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6)
   at System.Dynamic.UpdateDelegates.UpdateAndExecute9[T0,T1,T2,T3,T4,T5,T6,T7,T8,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7, T8 arg8)
   at IronPython.Runtime.Method.MethodBinding`6.SelfTarget(CallSite site, CodeContext context, Object target, T0 arg0, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5)
   at System.Dynamic.UpdateDelegates.UpdateAndExecute8[T0,T1,T2,T3,T4,T5,T6,T7,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7)
   at Microsoft.Scripting.Interpreter.DynamicInstruction`9.Run(InterpretedFrame frame)
   at Microsoft.Scripting.Interpreter.Interpreter.Run(InterpretedFrame frame)
   at Microsoft.Scripting.Interpreter.LightLambda.Run9[T0,T1,T2,T3,T4,T5,T6,T7,T8,TRet](T0 arg0, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7, T8 arg8)
   at IronPython.Compiler.PythonCallTargets.OriginalCallTarget8(PythonFunction function, Object arg0, Object arg1, Object arg2, Object arg3, Object arg4, Object arg5, Object arg6, Object arg7)
   at IronPython.Runtime.FunctionCaller`8.Call8(CallSite site, CodeContext context, Object func, T0 arg0, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7)
   at System.Dynamic.UpdateDelegates.UpdateAndExecute10[T0,T1,T2,T3,T4,T5,T6,T7,T8,T9,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7, T8 arg8, T9 arg9)
   at IronPython.Runtime.Method.MethodBinding`7.SelfTarget(CallSite site, CodeContext context, Object target, T0 arg0, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6)
   at System.Dynamic.UpdateDelegates.UpdateAndExecute9[T0,T1,T2,T3,T4,T5,T6,T7,T8,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3, T4 arg4, T5 arg5, T6 arg6, T7 arg7, T8 arg8)
   at Microsoft.Scripting.Interpreter.DynamicInstruction`10.Run(InterpretedFrame frame)
   at Microsoft.Scripting.Interpreter.Interpreter.Run(InterpretedFrame frame)
   at Microsoft.Scripting.Interpreter.LightLambda.Run3[T0,T1,T2,TRet](T0 arg0, T1 arg1, T2 arg2)
   at IronPython.Compiler.PythonCallTargets.OriginalCallTarget2(PythonFunction function, Object arg0, Object arg1)
   at IronPython.Runtime.FunctionCaller`2.Call2(CallSite site, CodeContext context, Object func, T0 arg0, T1 arg1)
   at System.Dynamic.UpdateDelegates.UpdateAndExecute4[T0,T1,T2,T3,TRet](CallSite site, T0 arg0, T1 arg1, T2 arg2, T3 arg3)
   at CallSite.Target(Closure , CallSite , Object , String )
   at System.Dynamic.UpdateDelegates.UpdateAndExecute2[T0,T1,TRet](CallSite site, T0 arg0, T1 arg1)
   at CallSite.Target(Closure , CallSite , Object , String )
   at System.Dynamic.UpdateDelegates.UpdateAndExecute2[T0,T1,TRet](CallSite site, T0 arg0, T1 arg1)
   at FUTBuyer.FUT.ConnectFUT.work(String _uname, String _password, String _answer, String _platform) in E:\Projects\FUTBuyer\FUTBuyer\FUT\ConnectFUT.cs:line 214
   at FUTBuyer.FUT.ConnectFUT..ctor(String userName, String password, String secretAnswer, String platform) in E:\Projects\FUTBuyer\FUTBuyer\FUT\ConnectFUT.cs:line 58
   at FUTBuyer.Form1.button1_Click(Object sender, EventArgs e) in E:\Projects\FUTBuyer\FUTBuyer\Form1.cs:line 21
   at System.Windows.Forms.Control.OnClick(EventArgs e)
   at System.Windows.Forms.Button.OnClick(EventArgs e)
   at System.Windows.Forms.Button.OnMouseUp(MouseEventArgs mevent)
   at System.Windows.Forms.Control.WmMouseUp(Message& m, MouseButtons button, Int32 clicks)
   at System.Windows.Forms.Control.WndProc(Message& m)
   at System.Windows.Forms.ButtonBase.WndProc(Message& m)
   at System.Windows.Forms.Button.WndProc(Message& m)
   at System.Windows.Forms.Control.ControlNativeWindow.OnMessage(Message& m)
   at System.Windows.Forms.Control.ControlNativeWindow.WndProc(Message& m)
   at System.Windows.Forms.NativeWindow.DebuggableCallback(IntPtr hWnd, Int32 msg, IntPtr wparam, IntPtr lparam)
   at System.Windows.Forms.UnsafeNativeMethods.DispatchMessageW(MSG& msg)
   at System.Windows.Forms.Application.ComponentManager.System.Windows.Forms.UnsafeNativeMethods.IMsoComponentManager.FPushMessageLoop(IntPtr dwComponentID, Int32 reason, Int32 pvLoopData)
   at System.Windows.Forms.Application.ThreadContext.RunMessageLoopInner(Int32 reason, ApplicationContext context)
   at System.Windows.Forms.Application.ThreadContext.RunMessageLoop(Int32 reason, ApplicationContext context)
   at System.Windows.Forms.Application.Run(Form mainForm)
   at FUTBuyer.Program.Main() in E:\Projects\FUTBuyer\FUTBuyer\Program.cs:line 18
   at System.AppDomain._nExecuteAssembly(RuntimeAssembly assembly, String[] args)
   at System.AppDomain.ExecuteAssembly(String assemblyFile, Evidence assemblySecurity, String[] args)
   at Microsoft.VisualStudio.HostingProcess.HostProc.RunUsersAssembly()
   at System.Threading.ThreadHelper.ThreadStart_Context(Object state)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean ignoreSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.ThreadHelper.ThreadStart() 
```

单独使用 python 运行时，代码运行良好。我正在使用 IronPython，版本 2.7.3 ..帮助任何人？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-30T19:56:59.440

问题似乎来自 IronPython 如何`ctypes.c_int32`处理大于最大整数值的长值。这可能是运行时或 ctypes 实现中的一般差异。

为了实现与 CPython 中相同的行为（作为一种解决方法），您必须确保没有大于最大整数大小的参数传递给 c_int32。但是查看您的代码，这可能不是您想要的，因为您似乎只是为了截断流入长范围的移位结果而调用 c_int32。

您是否考虑过掩蔽而不是 c_int32？这可能会影响性能，但这取决于您的用例/算法。代替

```
ctypes.c_int32(x).value 
```

你可以

```
x & 0xffffffff 
```

你的结果应该保持不变。

为了确保您可以使用 IronPython[提交错误](http://ironpython.codeplex.com/workitem/list/basic)，这可能是您找出 IronPython 行为与 CPython 不同的最佳机会。

# sql - 获取最新添加的数据库对象

> ID：14576971
> 
> 赞同：1
> 
> 时间：2013-01-29T06:32:37.337
> 
> 标签：sql, sql-server, database, sql-server-2008

我想获取过去 5 或 6 个月内添加到特定数据库的表和存储过程。

我尝试使用以下命令，但它没有提供正确的数据。

```
select * from sys.objects
where type = 'U' or type = 'P'
and modify_date between '2012-09-01' and '2013-01-29' 
```

请建议哪个命令可以给我这个列表。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T06:38:22.150

如果您正在寻找添加的对象，那么您为什么要查询 modify_date？你不应该看create_date吗？

```
select * from sys.objects
where (type = 'U' or type = 'P')
and create_date between '2012-09-01' and '2013-01-29' 
```

另外，你没有把你`OR`的括号括起来，这意味着无论如何你都会得到不正确的结果。拉吉

# html - 表格元素中允许的表单元素在哪里？

> ID：14576976
> 
> 赞同：2
> 
> 时间：2013-01-29T06:33:19.263
> 
> 标签：html

我想在列标题上方创建一个带有搜索文本框的表格

```
<table>
   <thead>
      <tr><td><input type="text" /></td><td><input type="text" /></td></tr>
      <tr><td>Mother</td><td>Father</td></tr>
   </thead>
   <tbody id="search-results">
      <!-- to be populated by AJAX response -->
   </tbody>
</table> 
```

是否允许这样的表单元素？

```
<form>
  <thead>...</thead>
</form> 
```

或者

```
<thead>
  <form>...</form>
</thead> 
```

或哪种方式？

此外，可以`<input type="hidden" />`绝对放置在表单标签之间的任何位置吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T06:39:42.383

在表格内，a`<form>`只能是内容在表格内的位置，即在 a 、`<td>`、`<thead>`或内。或者整个表格可以在 内，但不是您显示它的任何一种方式。 `<tfoot>``<th>``<caption>``<form>`

如果您不使用内置的表单提交功能，您还可以使用`<input>`标签或其他表单元素等表单元素，`<td>`而无需将它们包含在 a中。`<form>`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-29T06:40:37.427

您应该将整个`<table>`元素包装在 中，除了 inside和元素之外`<form>`，您不能将任何与表格无关的内容放在里面。因此，如果您不想将整个表格放在一个单元格中，您应该将整个表格包裹在.`<table>``<th>``<td>``<caption>``<td>``<form>`

`<input type="hidden">`标签就像任何其他输入标签一样 - 它们必须包含在`<td>`其他内容标签中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-29T06:39:22.873

这是html5的规范，你会发现[这里只允许嵌入表格的表格](http://www.w3.org/TR/html5/)

这是使用 thead 的正确形式：[tad 教程](http://www.html5-tutorials.org/tables/thead-tbody/)。

如果链接被丢弃，则从该链接复制以下内容以保留答案：

> 如果你愿意，你可以像这样离开你的表格，但如果你喜欢高度语义结构化的内容，我很高兴向你介绍这个元素。该元素构成表格中的标题，这告诉浏览器例如每列包含什么。该元素构造了所有内容，以便浏览器知道表格的实际内容是什么。使用与之前相同的示例，the 和元素将像这样使用：

```
<table border="1" width="100%">
        <thead>
                <tr>
                        <td>Row 1, cell 1</td>
                        <td>Row 1, cell 2</td>
                        <td>Row 2, cell 3</td>
                </tr>
        </thead>
        <tbody>
                <tr>
                        <td>Row 2, cell 1</td>
                        <td>Row 2, cell 2</td>
                        <td>Row 2, cell 3</td>
                </tr>
                <tr>
                        <td>Row 3, cell 1</td>
                        <td>Row 3, cell 2</td>
                        <td>Row 3, cell 3</td>
                </tr>
                <tr>
                        <td>Row 4, cell 1</td>
                        <td>Row 4, cell 2</td>
                        <td>Row 4, cell 3</td>
                </tr>
        </tbody>
</table> 
```

您也可以在表单标签的任何地方使用隐藏输入。

# ios - UITableView sectionForSectionIndexTitle 方法不会在 iOS 中滚动 tableview

> ID：14576977
> 
> 赞同：1
> 
> 时间：2013-01-29T06:33:30.250
> 
> 标签：ios, cocoa-touch, uitableview

我正在尝试`UITableView`使用以下代码索引我的

在我的`ViewDidLoad`

```
arrayOfTableView = [[NSArray alloc] initWithObjects:@"1",@"2",@"3",@"4",@"5",@"6",@"7",@"8",@"9",@"10",@"11",@"12",@"13",@"14",@"15",@"16",@"17",@"18",@"19",@"20",@"21",@"22",@"23",@"24",@"25",@"26", nil]; 
```

在我的`sectionIndexTitlesForTableView`方法中

```
- (NSArray *)sectionIndexTitlesForTableView:(UITableView *)tableView
{
    NSArray *tempArray = [[NSArray alloc] initWithObjects:@"1",@"2",@"3",@"4",@"5",@"6",@"7",@"8",@"9",@"10",@"11",@"12",@"13",@"14",@"15",@"16",@"17",@"18",@"19",@"20",@"21",@"22",@"23",@"24",@"25",@"26", nil];
    return tempArray;
} 
```

在我的`sectionForSectionIndexTitle`方法中

```
- (NSInteger)tableView:(UITableView *)tableView sectionForSectionIndexTitle:(NSString *)title atIndex:(NSInteger)index
{
    return index;
} 
```

它出现在我的 tableview 旁边的 IndexBar 。但是，当我点击 IndexBar 时，它并没有滚动到那里。

我已经用`NSLog`, 那个事件进行了测试？是事件。

但不要滚动到 tableView。

请帮我找出答案。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T06:59:51.583

我认为你需要检查你的 `numberOfSectionsInTableView:` 方法。此外，您应该只为具有节索引列表的表视图实现此方法 ( `tableView:sectionForSectionIndexTitle:atIndex:`)，它只能是以普通样式 (UITableViewStylePlain) 创建的表视图。

# bison - flex、bison 和 readline：奇怪的段错误

> ID：14576980
> 
> 赞同：1
> 
> 时间：2013-01-29T06:33:38.873
> 
> 标签：bison, readline, flex-lexer

```
GNU gdb (GDB) 7.5-ubuntu
Copyright (C) 2012 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "i686-linux-gnu".
For bug reporting instructions, please see:
<http://www.gnu.org/software/gdb/bugs/>...
Reading symbols from /path/to/drcalc...(no debugging symbols found)...done.
(gdb) r
Starting program: /path/to/cdrcalc 

Program received signal SIGSEGV, Segmentation fault.
0xb7e606b6 in ?? () from /lib/i386-linux-gnu/libc.so.6
(gdb) 
```

有人可以帮忙吗？我的代码可以在[https://github.com/dramforever/drcalc/](https://github.com/dramforever/drcalc/)分支下载`readline`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T09:40:43.803

**您应该使用-g**标志进行编译，以便 gdb 能够显示更多调试信息。如果你这样做，你会看到程序在函数**inp_readline**中崩溃，当你尝试使用**sh_line**时，它​​是 NULL。

原因是您将**sh_line** 0（将被解释为 NULL 指针）作为其初始值，然后在**inp_readline**中检查**sh_line**是否为非 NULL，在这种情况下释放旧字符串并读取新字符串与**readline**。但如果它是 NULL，它在开始时，什么都不做，所以当你到达**strlen(sh_line)**时它仍然是 NULL，并且**strlen**崩溃。

**编辑：**

在原文中，它说

```
if (sh_line) free(sh_line);sh_line=0; 
sh_line = readline(sh_Prompt); 
```

但是你添加了一些大括号，所以它改为说

```
if (sh_line) {free(sh_line);sh_line=0;
sh_line = readline(sh_Prompt);} 
```

这就是为什么**readline**永远不会被调用的原因。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T11:07:19.083

（我是提问者！）
我对 readline 一无所知。所以一个好的函数定义会起作用。
我选择了[https://github.com/jterrace/craq/blob/master/gmp-4.3.1/demos/calc/calcread.c](https://github.com/jterrace/craq/blob/master/gmp-4.3.1/demos/calc/calcread.c)

# apache-flex - Flex 中的时间线

> ID：14576981
> 
> 赞同：0
> 
> 时间：2013-01-29T06:33:40.297
> 
> 标签：apache-flex, flex4

尝试在 Flex 中构建时间线，当我滑动滑块时有一个水平滑块，折线图上应该有一条线，因为针相对于滑块的值移动，我尝试使用网格线来实现这一点，但网格线是可见的x 轴的所有值，但我只想显示关于滑块值的单个网格线。有没有办法隐藏几条网格线并显示特定的网格线。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-31T19:48:04.673

这是我在大约 30 分钟内创建的东西。这是非常基本的，并且有一些我将留给您解决的问题（或者您可以针对剩余问题发布一个新问题）。无论如何，您很可能需要修改它以适应您的应用程序，所以我没有费心查看剩余的问题。

我假设您使用`Date`对象作为图表的水平轴。因此，您需要将日期对象转换为其相应的数值（以纪元为单位）。这允许您使用滑块组件，该组件需要数字。

如果您还有其他问题，我建议您尝试发布您正在使用的任何代码（或它的简单版本），以便其他人可以运行。这样，您得到的答案将针对您的案例，而不是像这样的通用答案:)

```
<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
               xmlns:s="library://ns.adobe.com/flex/spark" 
               xmlns:mx="library://ns.adobe.com/flex/mx"
               creationComplete="onCreationComplete()">

    <fx:Script>
        <![CDATA[
            import mx.collections.ArrayCollection;

            import spark.primitives.Line;

            [Bindable] private var chartData : ArrayCollection =
                new ArrayCollection(
                    [
                        { sales: 101000, month: new Date( '01/01/2013' ) },
                        { sales: 350000, month: new Date( '02/01/2013' ) },
                        { sales: 475000, month: new Date( '03/01/2013' ) },
                        { sales: 425000, month: new Date( '04/01/2013' ) }
                    ] );

            private var line:Line;

            private function onCreationComplete():void
            {
                line = new Line();
                line.height = chart.height;
                line.stroke = new SolidColorStroke(0x0000FF, 2);
                chartContainer.addElement(line);            }

            private function getDateInEpochTime(date:Date):Number
            {
                return date.time;
            }

            private function dataTipFormatFunction(value:Number):Object
            {
                return new Date(value).toString();
            }

            private function onSliderChange():void
            {
                line.x = convertSliderValueToXCoordinate();
            }

        private function convertSliderValueToXCoordinate():Number
        {
            var min:Number = slider.minimum;
            var max:Number = slider.maximum;
            var adjustedValue:Number = slider.value - min;
            var range:Number = max - min;
            var percentOfRange:Number = adjustedValue/range
            var xCoordinate:Number = slider.width * percentOfRange;
            var thumbWidth:Number = slider.thumb.width;
            if (percentOfRange > .5)
                xCoordinate = xCoordinate - (thumbWidth * (percentOfRange - .5));
            else if (percentOfRange < .5)
                xCoordinate = xCoordinate + (thumbWidth * (.5 - percentOfRange));
            return xCoordinate;
        }

        ]]>
    </fx:Script>

    <s:Group id="chartContainer" width="800" height="600">
        <mx:LineChart id="chart" dataProvider="{chartData}" left="0" right="0" top="0" bottom="20">
            <mx:horizontalAxis>
                <mx:DateTimeAxis id="hAxis" dataUnits="months" alignLabelsToUnits="true" displayLocalTime="true"/>
            </mx:horizontalAxis>
            <mx:series>
                <mx:LineSeries displayName="Sales by Month" yField="sales" xField="month">
                    <mx:lineStroke>
                        <s:SolidColorStroke color="0xFF0000" />
                    </mx:lineStroke> 
                </mx:LineSeries> 
            </mx:series>
        </mx:LineChart>
        <s:HSlider id="slider" left="0" right="0" bottom="0"
                   dataTipFormatFunction="dataTipFormatFunction"
                   minimum="{getDateInEpochTime(chartData.getItemAt(0).month)}"
                   maximum="{getDateInEpochTime(chartData.getItemAt( chartData.length -1 ).month)}"
                   change="onSliderChange()"/>
    </s:Group>
</s:Application> 
```

# android - 如何在 android 应用程序中始终显示或显示缩放控制按钮？

> ID：14576986
> 
> 赞同：1
> 
> 时间：2013-01-29T06:34:13.753
> 
> 标签：android, zooming, pinchzoom

如何在我的应用程序中使这个缩放控制按钮可见而不消失？如果此缩放控制按钮可见，则用户不想对缩放感到困惑。当我尝试滚动或放大时，只会出现这个缩放控制按钮。如果我不尝试捏缩放，这个缩放控制按钮也应该出现在我的应用程序中。我怎样才能做到这一点。有任何想法吗？

注意：我使用的是 Webview 内容和 Android 2.2 版本。

这是我的代码：

```
 WebView wv =new WebView(MainActivity.this); 
  wv.getSettings().setBuiltInZoomControls(true); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T14:38:09.870

试试这个：

```
webView.getSettings().setBuiltInZoomControls(true);
webView.getSettings().setDisplayZoomControls(true); 
```

# windows-phone-7 - 如何从调度程序任务代理 Windows Phone 7.x 调用 MessageBox 之类的 Popup

> ID：14576987
> 
> 赞同：0
> 
> 时间：2013-01-29T06:34:16.213
> 
> 标签：windows-phone-7

我的 Web 服务返回 xml。在 OnInvoke 方法中，我有 xml 数据，它包含时间和一些要在弹出窗口中的给定时间显示的文本。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-28T18:09:18.607

根据后台代理不支持的 API，您不能使用调度代理中的 MessageBox。 [http://msdn.microsoft.com/en-us/library/windowsphone/develop/hh202962(v=vs.105).aspx](http://msdn.microsoft.com/en-us/library/windowsphone/develop/hh202962(v=vs.105).aspx)

显示来自 Schedule Agent 的消息的最佳解决方案是 Toast Notification。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-28T10:00:27.603

正常消息框访问如下

```
MessageBox.Show("Enter your  data here"); 
```

但是我不确定应用程序处于理想状态时的消息框访问权限。

但是您可以显示 Toast 消息，而该应用程序也很理想。

这里是显示 Toast 消息的示例代码

```
 Microsoft.Phone.Shell.ShellToast toast = new Microsoft.Phone.Shell.ShellToast();
            toast.Content = "mydata";
            toast.Title = "title";
            toast.NavigationUri = new Uri("/LocationDealsPage.xaml", UriKind.Relative);
            toast.Show(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-24T16:42:17.570

您可以使用用户控件根据自己的设计制作消息框。然后在要使用它的类上创建该控件的对象。制作一个弹出对象并将控制对象设置为弹出对象的子对象。

```
UserControlName objectname = new UserControlName ();

PopUP popup = new PopUP();
popup.Child = objectname ;
popup.IsOpen = true; 
```

我想它会对你有所帮助。 [http://msdn.microsoft.com/en-us/library/system.windows.controls.primitives.popup.child(v=vs.95).aspx](http://msdn.microsoft.com/en-us/library/system.windows.controls.primitives.popup.child(v=vs.95).aspx)

[http://www.geekchamp.com/tips/how-to-get-user-input-from-a-popup-in-windows-phone](http://www.geekchamp.com/tips/how-to-get-user-input-from-a-popup-in-windows-phone)

# javascript - '+' 或 parseInt() - 在 javascript 中哪一个可以有效地将字符串转换为整数

> ID：14576990
> 
> 赞同：0
> 
> 时间：2013-01-29T06:34:30.527
> 
> 标签：javascript

在 JavaScript 代码中，我看到人们使用“+”字符将字符串转换为整数，如下所示 -

```
var i = +"2"; 
```

另一种方法是使用 parseInt() 方法如下 -

```
var i = parseInt("2"); 
```

我想知道哪个效率高？

对不起，我还应该补充一点，我只处理整数，数据很大，所以即使性能上的一点点差异对我也有好处。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T06:36:43.350

长话短说，不用担心，使用对您和实际情况更方便的任何东西；像这样的微优化是没有用的。`parseInt`我说只要记住，如果您的数字是（或看起来）八进制或其他格式，您可能需要将 radix 参数传入。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-29T10:22:41.310

这取决于浏览器。

我为我知道的一些字符串到数字的转换可能性创建了一个讨厌的小[测试用例](http://jsperf.com/stringtonumber)。

我还增加了转换为浮点数的可能性，就像在 Javascript 中数字就是数字一样，无论它们是否具有浮点数。

一探究竟。更正和建议表示赞赏！

正如这里的其他一些人在问题下面的评论中所说：我也认为最好不要考虑太多，而是专注于可读性..

# azure-web-app-service - windows azure网站中的视频播放问题

> ID：14576996
> 
> 赞同：0
> 
> 时间：2013-01-29T06:34:49.187
> 
> 标签：azure-web-app-service

这是我第一次与`Azure website`. 我已成功将我的网站部署到 Azure 网站云托管空间。一切都工作得很好，并且符合要求。但是我在视频页面中遇到了问题。我提供 2 个网址，托管在同一位置。

1.  [http://masan.azurewebsites.net/video/demo.html](http://masan.azurewebsites.net/video/demo.html)
2.  [http://masan.azurewebsites.net/video/demo1.html](http://masan.azurewebsites.net/video/demo1.html)

在我的文件中添加必要的`mimeMap`标签后，正在播放第一个视频 (.mp4) 。`web.config`首先`demo.html`包含从外部 url 调用的视频。

demo1.html (.mp4) 中的第二个视频包含托管在与页面相同的服务器中的视频，该视频未播放。

有人可以指导我，我应该怎么做才能让我的第二页也开始播放 .mp4 视频

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-30T07:22:18.967

很抱歉打扰大家，只是没有问题，因为demo1.html中的视频格式错误，无法播放。
所以上面的答案是：只需要在 web.config 中添加 mimeMap 标签，就可以无缝运行。谢谢你。