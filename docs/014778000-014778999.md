# StackOverflow 问答 14778000-14778999

# jquery-mobile - 如何防止 JQM 在旋转时调整屏幕大小？

> ID：14778004
> 
> 赞同：1
> 
> 时间：2013-02-08T17:24:35.343
> 
> 标签：jquery-mobile, media-queries

我正在使用 JQM 为智能手机和平板电脑构建一个网站。我有一个使用[gmap3](http://gmap3.net/)显示 Google 地图的页面。我正在使用@media 根据屏幕分辨率定义#map_canvas 的大小。

一切都运行良好，除了当设备的方向改变时，页面被放大（放大）。我怎样才能解决这个问题？

**没有问题的纵向视图（iPhone 4）**

![肖像](../Images/7038165afbea20cad71576d3be6284be.png)

**当手机旋转时，页面会放大。但是当在横向视图中调用页面时，它看起来很好。**

![景观](../Images/3024c72ee469cd5c7a578c27522679f7.png)

这是我的代码。

```
<!DOCTYPE html> 
<html> 
<head> 
<title>Map</title> 
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"> 

<!--JS and CSS links where removed to save space-->

<script type="text/javascript">
 $(function(){
    $('#map_canvas').gmap3({
 marker:{
latLng:[36.491025,-4.951299],
  options:{
  center:[36.491025,-4.951299]
  },
},          
    map:{
  address:"Puerto Banus, Marbella, Spain",
  options:{
    zoom:16,
    mapTypeId: google.maps.MapTypeId.ROADMAP,
    mapTypeControl: true,
    mapTypeControlOptions: {
      style: google.maps.MapTypeControlStyle.DROPDOWN_MENU
    },
    navigationControl: true,
    scrollwheel: true,
    streetViewControl: true
  }
}

    });
  });

</script> 
```

页面结构

```
<body> 
<div data-role="page" data-theme="b">
<div data-role="header"><h1>Map Page</h1></div>
    <div data-role="content" id="map_canvas">
</div> <!-- /content-->
</div> <!-- /page-->

</body> 
```

@媒体查询

```
<style>
#map_canvas {
height: 768px;
width: 1024px;
margin-right:auto;
margin-left:auto;
}

@media only screen
and (min-device-width : 768px)
and (max-device-width : 1024px) {
#map_canvas {
height: 768px;
width: 1024px;
 }
}

/* iPads (landscape) ----------- */
@media only screen
and (min-device-width : 768px)
and (max-device-width : 1024px)
and (orientation : landscape) {
#map_canvas {
height: 768px;
width: 1024px;
  }
}

/* iPads (portrait) ----------- */
@media only screen
and (min-device-width : 768px)
and (max-device-width : 1024px)
and (orientation : portrait) {
#map_canvas {
width: 768px;
height: 1024px;
  }
}

/* iPhone 4 - (portrait) ---------- */
@media
only screen and (-webkit-min-device-pixel-ratio : 2) and (orientation:portrait),
only screen and (min-device-pixel-ratio : 2)  and (orientation:portrait){
   #map_canvas {
width: 300px;
height: 400px;
margin-top: 5px;
margin-right: auto;
margin-bottom: 5px;
margin-left: auto;
 }
}

/* iPhone 4 - (landscape) ---------- */
@media screen and (-webkit-min-device-pixel-ratio : 2) and (orientation:landscape), screen and (min-device-pixel-ratio : 2) and (orientation:landscape){
#map_canvas {
width: 400px;
height: 300px;
margin-top: 5px;
margin-right: auto;
margin-bottom: 5px;
margin-left: auto;
  }
}

/* Smartphones (landscape) ----------- */
@media only screen
and (min-width : 321px)
and (max-width: 480px) {
  #map_canvas {
width: 400px;
height: 300px;
margin-top: 5px;
margin-right: auto;
margin-bottom: 5px;
margin-left: auto;
  }
}

/* Smartphones (portrait) ----------- */
@media only screen
and (max-width : 320px) {
    #map_canvas {
width: 300px;
height: 400px;
margin-top: 5px;
margin-right: auto;
margin-bottom: 5px;
margin-left: auto;
    }
}

</style> 
```

**编辑：**在初始加载时添加了横向视图的照片。

![景观初始](../Images/fd46a1c4f7a1895c22614a6a38df6c2e.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:25:52.653

使用[jquery-ui-map 查看](http://code.google.com/p/jquery-ui-map/)。这可能是比`gmap3`

# c# - 如何在 Windows 8 Metro 界面上方绘制？

> ID：14778006
> 
> 赞同：1
> 
> 时间：2013-02-08T17:24:37.007
> 
> 标签：c#, graphics, windows-8

我想绘制将驻留在所有其他界面之上的图形，包括 Windows 8 新主屏幕。你会怎么做呢？在 Windows 7 及以下版本中，它就像显示一个透明的全屏窗口一样简单，但现在由于桌面与操作系统的其余部分分离，这不再可能了。

原因是我需要显示两个独立于 Windows 鼠标光标的光标。我正在为[Wii Remote](https://en.wikipedia.org/wiki/Wii_Remote)开发一个多点触控模拟软件（使用传感器条指针），目前我只是设置光标位置并通过摇动 +1 和 -1 像素来唤醒它。但它会干扰触摸，所以我在使用触摸模拟时必须禁用它。它目前有效，但我想添加多点触控支持，以便您可以使用 Wii Remote 进行缩放和旋转。触摸功能已准备就绪，但您希望在按住一个触摸点并使用 Wii Remote 选择另一个触摸点时看到光标，并且在按住第一个触摸点时，Windows 光标无法移动到其他任何地方，因为它坚持接触点。

我已经看到如何通过获取屏幕的 Graphics 对象来直接绘制到屏幕上，但它不起作用，因为它完全不受管理，因此图形保持可见，直到其他东西刷新该区域。

那么，有什么建议吗？

涉及的项目称为 Touchmote，可在 touchmote.net 上作为源代码和可安装的测试版获得。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T18:45:41.493

1.  通过在 requestedPrivileges 属性中指定 UIAccess=”true” 来要求[应用程序清单中的 UIAccess 完整性级别。](http://blogs.msdn.com/b/cjacks/archive/2009/10/15/using-the-uiaccess-attribute-of-requestedexecutionlevel-to-improve-applications-providing-remote-control-of-the-desktop.aspx)
2.  使窗口位于最顶层（通过[SetWindowPos](http://msdn.microsoft.com/en-us/library/windows/desktop/ms633545%28v=vs.85%29.aspx)更改位置或在 WinForms/WPF 中设置 TopMost 属性）
3.  [使用链接到本地​​计算机受信任根证书颁发机构证书存储中的受信任根的数字证书对应用程序进行签名](http://blogs.msdn.com/b/winsdk/archive/2009/07/16/setwindowhookex-api-with-wh-journalrecord-this-api-fails-with-access-denied-error-5.aspx)。
4.  [从文件系统中的安全位置](http://technet.microsoft.com/en-us/library/dd834830.aspx)直接运行（即，[不是从调试器](http://social.msdn.microsoft.com/Forums/en-US/windowsaccessibilityandautomation/thread/7a42efab-5ce8-456f-8a58-dfedbc2cefcb)）。之后您可以附加调试器。

请注意，这会使您的应用程序运行提升，[当您需要从较低的完整性级别连接到您的应用程序时，您可能会遇到问题](http://social.msdn.microsoft.com/Forums/en-US/winappswithnativecode/thread/2e34e029-f481-44e5-a04c-5ea9172372ce)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T18:48:49.733

您正在尝试执行的操作已经有一个界面：Touch Injection。您可以指定您有联系人在范围内但不与屏幕接触，屏幕上会出现一个小圆圈。你不需要自己画圆圈；触控系统将为您完成。

# javascript - 想要在第一次加载时在 jQuery mobile 中显示一个对话框消息

> ID：14778008
> 
> 赞同：3
> 
> 时间：2013-02-08T17:24:50.370
> 
> 标签：javascript, jquery, html, css, jquery-mobile

在 jQuery mobile 中，我想在`index.html`第一次加载此页面时在我的主页 ( ) 中显示一条对话框消息。但是，如果用户导航到我网站的不同页面并返回到 my `index.html`，我不想显示显示对话框。

我正在考虑使用`pageshow`或`pagebeforeshow`方法并检查`prevPage`对象。还有其他好方法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-08T17:27:39.697

使用**pageinit**事件，它只会触发一次。再简单不过了。

jsFiddle 示例：http: [//jsfiddle.net/Gajotres/e9RcT/](http://jsfiddle.net/Gajotres/e9RcT/)

```
$(document).on('pageinit', '#index', function(){       
    alert('This event will trigger only once!');
}); 
```

要对其进行测试，请转到第二页，然后返回。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T17:34:46.230

在 DOM 上加载将确保您想要发生的任何事情只发生在第一页初始化时：

```
$(document).ready(function(){
  // do stuff here
}); 
```

来源：http: [//jquerymobile.com/test/docs/api/events.html](http://jquerymobile.com/test/docs/api/events.html)

# java - 以未知高度垂直居中 TextViews/ImageViews - Android

> ID：14778010
> 
> 赞同：1
> 
> 时间：2013-02-08T17:24:57.403
> 
> 标签：java, android, textview, imageview, gravity

截图贴在下面。在每一行中，最后 3 列不在其行中垂直居中。在显示屏幕之前，每行的高度是未知的。我不确定，但我猜我需要在显示所有内容后动态查找行的高度，然后将所有内容居中。那是正确的路线吗？

下面是该类的 XML 代码片段。

```
<ScrollView
        android:layout_width="fill_parent"
        android:layout_height="0dip"
        android:layout_weight="65"
        android:fillViewport="true" >

        <LinearLayout 
            android:layout_width="fill_parent"   
            android:layout_height="wrap_content"
            android:orientation="vertical" > 

            <LinearLayout
                android:layout_width="fill_parent"   
                android:layout_height="wrap_content"
                android:orientation="horizontal" >

                <ImageView 
                    android:id="@+id/q1Image"
                    android:layout_width="10dp"
                    android:layout_height="10dp" /> 

                <TextView 
                    android:id="@+id/q1Question"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:textSize="10sp"
                    android:layout_weight="48"
                    android:paddingLeft="5dp"
                    android:paddingBottom="6dp" /> 

                <TextView 
                    android:id="@+id/q1Answer"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:textSize="10sp"
                    android:layout_weight="27"
                    android:paddingBottom="6dp"  /> 

                <TextView 
                    android:id="@+id/q1Verse"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:textSize="10sp"
                    android:layout_weight="25"
                    android:paddingBottom="6dp"  /> 
            </LinearLayout>

        <View 
            android:layout_width="fill_parent"
            android:layout_height="1dp"       
            android:background="#C2BEBF" />

            <LinearLayout
                android:layout_width="fill_parent"   
                android:layout_height="wrap_content"
                android:orientation="horizontal" >

                <ImageView 
                    android:id="@+id/q2Image"
                    android:layout_width="10dp"
                    android:layout_height="10dp" />

                <TextView 
                    android:id="@+id/q2Question"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:textSize="10sp"
                    android:layout_weight="48"
                    android:paddingLeft="5dp"
                    android:paddingBottom="6dp"
                    android:paddingTop="6dp" /> 

                <TextView 
                    android:id="@+id/q2Answer"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:textSize="10sp"
                    android:layout_weight="27"
                    android:paddingBottom="6dp"
                    android:paddingTop="6dp" /> 

                <TextView 
                    android:id="@+id/q2Verse"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:textSize="10sp"
                    android:layout_weight="25"
                    android:paddingBottom="6dp"
                    android:paddingTop="6dp"  /> 
            </LinearLayout>

        <View 
            android:layout_width="fill_parent"
            android:layout_height="1dp"       
            android:background="#C2BEBF" />

            <LinearLayout
                android:layout_width="fill_parent"   
                android:layout_height="wrap_content"
                android:orientation="horizontal" >

                <ImageView 
                    android:id="@+id/q3Image"
                    android:layout_width="10dp"
                    android:layout_height="10dp" />

                <TextView 
                    android:id="@+id/q3Question"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:textSize="10sp"
                    android:layout_weight="48"
                    android:paddingLeft="5dp"
                    android:paddingBottom="6dp"
                    android:paddingTop="6dp"  />  

                <TextView 
                    android:id="@+id/q3Answer"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:textSize="10sp"
                    android:layout_weight="27"
                    android:paddingBottom="6dp"
                    android:paddingTop="6dp"  /> 

                <TextView 
                    android:id="@+id/q3Verse"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:textSize="10sp"
                    android:layout_weight="25"
                    android:paddingBottom="6dp"
                    android:paddingTop="6dp"  /> 
            </LinearLayout>

//Rows 4-10 code excluded because of repetition. 
```

![在此处输入图像描述](../Images/0d00f1091de01b9d6d17ab75d34f61bf.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T17:29:21.640

在您的文本视图上将 android:layout_gravity 设置为 center_vertical。

基本上，由于您的 layout_height 设置为包装内容，因此您的文本视图如下所示：

```
-------
content
------- 
```

文本视图与其父视图对齐，如下所示：

```
-------
-------
content
-------

------- 
```

您的目标是让视图在父级中垂直居中。属性“layout_gravity”告诉视图如何在其父视图中调整自身。因此，将 layout_gravity 设置为 center_vertical 将告诉视图在其父视图中居中，如下所示：

```
-------

-------
content
-------

------- 
```

另一种可以实现的方法是使用“重力”属性。“gravity”属性告诉父级如何布局其内容（与“layout_gravity”相反，后者定义告诉视图如何位于其父级中）。因此，另一种可能的解决方案是告诉列表视图将其所有内容垂直居中对齐。这是通过在 ViewGroup（在您的情况下为 LinearLayout）上指定 android:gravity="center_vertical" 来完成的。

# java - 将数组列表作为参数传递给方法

> ID：14778013
> 
> 赞同：1
> 
> 时间：2013-02-08T17:25:15.393
> 
> 标签：java, arraylist, arguments

我有一个看起来像这样的方法：

```
public Person(String name, Person mother, Person father, ArrayList<Person> children) {
    this.name=name;
    this.mother=mother;
    this.father=father;
    this.children=children;
} 
```

然而，在尝试创建一个有孩子的新人时，我遇到了问题：

```
Person Toby = new Person("Toby", null, null, (Dick, Chester)); 
```

尽管 Dick 和 Chester 的定义都更进一步。更具体地说，它抱怨 Dick 和 Chester 都不能解析为变量。我是否必须制作一个临时的 ArrayList 并通过它？

谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T17:27:31.180

`Dick`是的，你不会`Chester`像那样传递给构造函数。

你会，假设你确实有两个名为`Dick`and的 Person 对象`Chester`：

```
ArrayList<Person> children = new ArrayList<Person>();
children.add(Dick);
children.add(Chester);

Person Toby = new Person("Toby", null, null, children); 
```

您的构造函数需要一个 ArrayList 对象，因此您必须传递它。像您使用的符号 ,`(Dick, Chester)`在 Java 中没有意义。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-08T17:28:36.077

您可以使用可变参数：

```
public Person(String name, Person mother, Person father, Person... children) {
 ...
 this.children = Arrays.asList(children);
} 

Person p = new Person("Foo", Mother, Father, Dick, Chester); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T17:28:00.783

我会亲自将 Person 构造函数更改为：

```
public Person(String name, Person mother, Person father, Person... children)
{
} 
```

... 基本上意味着构造函数将创建自己的 Person 对象数组，因此对它的调用将是，例如：

```
Person toby = new Person("Toby", null, null, childOne, childTwo, childThree); 
```

或者：

```
Person toby = new Person("Toby", null, null); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T17:28:50.660

您的示例看起来不像 Java 代码。首先，您必须在使用之前定义 Dick 和 Chester。所以他们必须在托比的“上方”被创造出来。其次，圆括号不会为您创建列表。您必须使用以下命令显式创建一个数组列表：

```
new ArrayList<Person>() 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-08T17:47:12.260

如果您无法关注该问题的评论，请尝试以下操作：

```
public Person(String name, Person mother, Person father, List<Person> children) {
    this.name=name;
    this.mother=mother;
    this.father=father;
    this.children=children;
} 
```

在这里，我将签名更改为将最后一个参数作为 List 类型。

```
Person Toby = new Person("Toby", null, null, Arrays.asList(Dick, Chester)); 
```

孩子的签名也必须改变。这里的重点是使用更抽象的类型。

# asp.net-mvc - 验证停止使用 formmethod.post

> ID：14778016
> 
> 赞同：0
> 
> 时间：2013-02-08T17:25:39.980
> 
> 标签：asp.net-mvc, razor

我正在尝试发布外部 URL，例如。(www.msn.com) 按下提交按钮。但是当我这样做时，我的验证都不起作用......它只是在我的外部 url 2 中输入没有任何数据的条目。当我按下提交时它也不会进入控制器按钮。我不知道我是不是做错了什么...

这是我的视图代码：

```
@model n.Models.PopupDemoModel 
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

 @using (Html.BeginForm("Demo","Home", FormMethod.Post, new { @action = "https://www.msn.com?encoding=UTF-8/post" }))
    {
        @Html.ValidationSummary(true)
        <fieldset>   

        <input type=hidden name="oid" value="">
    <input type=hidden name="retURL" value = "test" />
    <input type="hidden" name="debug" value=1 />
<input type="hidden" name="debugEmail" value = "a@test.com" />

    <div class="editor-label grid_2">
        @Html.LabelFor(model => model.first_name)
    </div>
    <div class="editor-field grid_3">
        @Html.TextBoxFor(model => model.first_name, new { @class = "demo-field-longer" })
    </div>
    <div class="grid_3 error long" style="margin-left:250px">
    @Html.ValidationMessageFor(model => model.first_name)
    </div>
    <div class="clear"></div>
    <div class="editor-label grid_2">
        @Html.LabelFor(model => model.email)
    </div>
    <div class="editor-field grid_3">
        @Html.TextBoxFor(model => model.email, new { @class = "demo-field-longer" })
    </div>
    <div class="grid_3 error long" style="margin-left:250px">
    @Html.ValidationMessageFor(model => model.email)
    </div>
    <div class="clear"></div>
    <div class="editor-label grid_2">
        @Html.LabelFor(model => model.phone)
    </div>
    <div class="editor-field grid_3">
        @Html.TextBoxFor(model => model.phone, new { @class = "demo-field-longer" })
    </div>
    <div class="grid_3 error long" style="margin-left:250px">
    @Html.ValidationMessageFor(model => model.phone)
    </div>
    <div class="clear"></div>
    <div class="editor-label grid_2">
        @Html.LabelFor(model => model.company)
    </div>
    <div class="editor-field grid_3">
        @Html.TextBoxFor(model => model.company, new { @class = "demo-field-longer" })
    </div>
    <div class="grid_3 error long" style="margin-left:250px">
    @Html.ValidationMessageFor(model => model.company)
    </div>
    <div class="clear"></div>

    <div class="clear"></div>
    <div class="grid_2 sub-spacer">&nbsp;</div>
    <div class="editor-field grid_2 submit">
        <input type="submit" value="Submit" id="demo-submit-button"/><br />
        @ViewData["DemoMessage"]
    </div>
    </fieldset> 
```

这是我的模型：

```
 public class PopupDemoModel
    {
        [Required]
        [Email]
        [DisplayName("Email address")]
        public string email { get; set; }

        [Required]
        [DisplayName("Phone number")]
        public string phone { get; set; }

        [Required]
        [DisplayName("Contact name")]
        public string first_name { get; set; }

        [Required]
        [DisplayName("Company name")]
        public string company { get; set; }

        public string MessageSent
        {
            get { return "We'll contact you shortly."; }
        }

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T17:29:24.793

它完全按照你的吩咐去做。

HTML标记向属性`<form>`中的 URL 发送 POST 请求。`action`

`Html.BeginForm()`创建一个带有指向您的控制器`<form>`的属性的标签。`action`

当您`action`显式设置属性时，您将替换 MVC 中的值并使其直接转到该 URL。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T18:05:00.443

如果您想在发布到另一个网站之前在服务器端对您的数据做一些事情，请删除该`action`属性，以便您发布到与开始时相同的 URL。在处理`POST`此表单并进行验证的操作中，准备您的数据。准备好后，使用[WebRequest 类](http://msdn.microsoft.com/en-us/library/debx8sh9.aspx)使用方法将此数据发送到另一个网站`POST`。

# r - 在 R 中返回 data.table 或 data.frame 时避免重复内存分配的技巧？

> ID：14778017
> 
> 赞同：5
> 
> 时间：2013-02-08T17:25:42.597
> 
> 标签：r, memory-management, return, data.table

我创建了一个函数，该函数被调用读取然后返回一个 data.table：

```
read.in.data <- function(filename)
{
    library(data.table)
    data.holder<-read.table(filename, skip=1)
    return(data.table(data.holder))
} 
```

我从观察我的 RAM 作为函数过程中注意到，R 似乎分两步处理它（或者至少这是我对正在发生的事情的最佳猜测）。例如，当我加载一个 1.5 GB 的文件（15 列，每行总共 136 个字符）时，R 似乎 1）读取数据并使用 1.5 GB 的 RAM，然后 2）使用另一个 1.5 GB 的 RAM回报。

是否有一些技巧可以创建一个函数来创建一个 data.table （或 data.frame ）并返回 data.table 而无需在内存中重复？或者我必须在创建表的函数中对 data.table 进行所有处理吗？

观察：如果我连续两次运行这段代码，内存没有被清除；由于我只有 8 GB 的 RAM，因此该功能失败。如果我跳过将“read.table”存储在变量中的步骤（如下所示），我不会得到任何好处。我不想以任何方式这样做，因为我希望能够在返回之前清理 data.table 。解决我的问题还可以让我在不耗尽内存的情况下处理更大的文件。

```
short.read.trk <- function(fntrk)
{
    library(data.table)
    return(data.table(read.table(fntrk, skip=1)))
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T23:47:40.520

如果内存节省主要是您所追求的，您可以一次将其转换为一列：

```
library(data.table)
read.in.data <- function(filename)
{
  data.holder <- read.table(filename, skip=1)
  dt <- data.table(data.holder[[1]])
  names(dt) <- names(data.holder)[1]
  data.holder[[1]] <- NULL

  for(n in names(data.holder)) {
    dt[, `:=`(n, data.holder[[n]]) ]
    data.holder[[n]] <- NULL
  }
  return(dt)
} 
```

（未经测试）

它不会更快，实际上它可能更慢。但它应该更少浪费内存。

# string - Haxe Int 转字符串

> ID：14778021
> 
> 赞同：11
> 
> 时间：2013-02-08T17:25:52.973
> 
> 标签：string, haxe

似乎 AS3 有一个`toString()`类`Number`。Haxe 中是否有等价物？我能想出的将 a 转换`Int`为 a的唯一解决方案`String`是如下函数：

```
public function IntToString(i:Int):String {
    var strbuf:StringBuf = new StringBuf();
    strbuf.add(i);
    return strbuf.toString();
} 
```

有没有更好的方法我忽略了？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-02-08T19:44:03.747

您通常不需要手动将 int 转换为字符串，因为转换是自动的。

```
var i = 1;
var s = "" + i; // s is now "1" 
```

将任何值转换为字符串的“正式”方法是使用[`Std.string()`](https://api.haxe.org/Std.html#string)：

```
var s = Std.string(i); 
```

您还可以使用[字符串插值](https://haxe.org/manual/lf-string-interpolation.html)：

```
var s = '$i'; 
```

您编写的功能很好，但绝对是矫枉过正。

# c++ - OpenGL 纹理无法正确显示 - 奇怪的行为

> ID：14778029
> 
> 赞同：4
> 
> 时间：2013-02-08T17:26:12.723
> 
> 标签：c++, opengl, opencv, texture2d

我想用 OpenCV 检测一个标记，然后我想用一个图像覆盖它，用 OpenGL。第一部分还可以（我完美地实现了检测标记），但第二部分有一些问题。

标记是：

![在此处输入图像描述](../Images/15145f70ff6bfbba5582013d555a9461.png)

图像是：

![在此处输入图像描述](../Images/a0b60190d4dca5786e542ec2a0945bfe.png)

但结果是这样的：

![在此处输入图像描述](../Images/59d8378c947b67d210d954b181442227.png)

生成图像纹理的代码是：

```
GLuint *textures = new GLuint[2];
glGenTextures(2, textures);
Mat image = imread("Immagine.png");
glBindTexture(GL_TEXTURE_2D, textures[1]);
glTexParameteri(GL_TEXTURE_2D,GL_TEXTURE_MIN_FILTER,GL_NEAREST);
glTexParameteri(GL_TEXTURE_2D,GL_TEXTURE_MAG_FILTER,GL_NEAREST);
glTexImage2D(GL_TEXTURE_2D, 0, 4,image.cols, image.rows, 0, GL_RGB,GL_UNSIGNED_BYTE, image.data); 
```

并显示我使用的纹理：

```
glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);
glEnable(GL_TEXTURE_2D);
glMatrixMode (GL_PROJECTION);
glLoadIdentity();
gluOrtho2D(0, WIDTH, HEIGHT, 0);
glMatrixMode(GL_MODELVIEW);
glLoadIdentity();

glBindTexture(GL_TEXTURE_2D, textures[1]);
glBegin(GL_QUADS);
glTexCoord2f(0.0f, 0.0f); glVertex2f((GLfloat)(coord[1].x),(GLfloat)(coord[1].y));
glTexCoord2f(1.0f, 0.0f); glVertex2f((GLfloat)(coord[2].x),(GLfloat)(coord[2].y));
glTexCoord2f(1.0f, 1.0f); glVertex2f((GLfloat)(coord[3].x),(GLfloat)(coord[3].y));
glTexCoord2f(0.0f, 1.0f); glVertex2f((GLfloat)(coord[0].x),(GLfloat)(coord[0].y)); 
glEnd(); 
```

我不知道为什么纹理图像如此奇怪。此外，我使用相同的代码显示（在 opengl 窗口上）从网络摄像头捕获的帧，我没有问题。我还注意到，如果我在角落使用没有数字的相同图像，它可以正常工作（即使它不在标记的同一位置/坐标）。

有谁有想法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-08T17:32:12.227

这是一个填充/对齐问题。

您正在加载对 GL 具有不同填充要求的格式（默认情况下，它希望将像素行填充为 4 个字节的倍数）。

可能的解决方法是：

*   告诉 GL 你的纹理是如何打包的，使用（例如）`glPixelStorei(GL_UNPACK_ALIGNMENT, 1);`
*   更改纹理的尺寸，以便填充匹配而不更改任何内容
*   更改纹理的加载，使填充与 GL 期望的一致

# sql - 寻找凌乱的 SQL ISNULL/NULLIF 的替代方案

> ID：14778036
> 
> 赞同：3
> 
> 时间：2013-02-08T17:26:55.930
> 
> 标签：sql, sql-server, sql-server-2012

我在 SQL Server 2012 上运行了一个 SQL 查询，它需要比较一个位值，如果该值为 1，则返回一个字符串，如果该值为 0，则返回一个空字符串。

最初我将它作为这样的 CASE 语句：

```
CASE WHEN myBit = 0 THEN 
 -- do other comparisons etc to build up the return string.
 +'myString' 
ELSE 
-- do other comparisons etc to build up the return string.
'' END 
```

问题是“做其他”部分中的所有代码都是相同的。我想要做的就是如果该位为零，则将一个字符串附加到返回值，如果它是 1，则什么也不做。

所以我将它重构为只有一次公共代码，然后在末尾附加到字符串，如下所示：

```
-- do other comparisons etc to build up the return string. +
ISNULL(NULLIF(Cast(ISNULL(CAST(NULLIF(myBit, 0) AS NVARCHAR), 'myString') AS varchar),'0'),'') 
```

然而，上述内容似乎非常混乱，尤其是因为需要 CAST 语句。

我正在寻找一种干净整洁的方法来做到这一点，但已经没有想法了——有人有更好的方法来实现这一点吗？谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T17:32:37.527

只需内联添加您的 CASE 语句。当mybit=1时不要忘记返回一个空字符串，否则整个返回NULL。

```
Select 
-- do other comparisons etc to build up the return string.
 + Case When @mybit=0 Then mystring else '' End 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-08T17:36:06.323

你也可以在这里使用一个*简单* `case`的；

```
Select 'Your other string ' +  
       Case mybit When 0 then 'mystring' else '' End As Results

--Results will be like
mybit    Results
0        'Your other string mystring'
1        'Your other string ' 
```

***或者***，如果您不想返回任何内容（null），`mybit <> 0`则使用*没有 else*部分的简单案例作为；

```
Select 'Your other string ' +  Case mybit When 0 then 'mystring' End As Results

--Results will be like
mybit    Results
0        'Your other string mystring'
1        null 
```

[](http://sqlfiddle.com/#!6/b61d2/2)**两种情况[**的 SQL-SERVER-DEMO**](http://sqlfiddle.com/#!6/b61d2/2)**

 *** * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-08T17:43:03.637

您也可以在 SQL Server 2012 上使用`IIF`和。`CONCAT`

```
SELECT CONCAT('Start',
              IIF(@mybit=0,'myString',''),
              'End') 
```

`IIF`比 . 更简洁一些`CASE`。`CONCAT`可能是有益的，因为它自动将非字符串类型转换为字符串，并且连接`NULL`被视为与连接空字符串相同。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T17:33:13.960

您可以将公共代码放入子查询中吗？它类似于：

```
select case when myBit = 0 then value else value + 'what you append' end returnvalue
from
(subquery with common code) abc 
```

或者也许是一个函数

```
select case when myBit = 0 then yourfunction() 
else yourfunction + 'what you append' end returnvalue 
```**

# java - 高烫代和低老代

> ID：14778037
> 
> 赞同：0
> 
> 时间：2013-02-08T17:26:55.737
> 
> 标签：java, garbage-collection, jvm, jstat

我们实际上已经将 jvm 的内存增加到 256M，现在老一代看起来非常小，但 Perm 代非常高，接近 80%。通过 jstat 捕获的示例数据如下。高烫发一代在这里说明什么？

```
Timestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       PC     PU    YGC     YGCT    FGC    FGCT     GCT   
       173656.0 1152.0 1216.0 864.0   0.0   84928.0  26778.0   174784.0   11967.6   21248.0 17057.8     62    3.653   0      0.000    3.653
       173671.0 1152.0 1216.0 864.0   0.0   84928.0  27843.4   174784.0   11967.6   21248.0 17057.8     62    3.653   0      0.000    3.653
       173686.1 1152.0 1216.0 864.0   0.0   84928.0  27843.4   174784.0   11967.6   21248.0 17057.8     62    3.653   0      0.000    3.653
       173701.1 1152.0 1216.0 864.0   0.0   84928.0  27843.4   174784.0   11967.6   21248.0 17057.8     62    3.653   0      0.000    3.653
       173716.0 1152.0 1216.0 864.0   0.0   84928.0  27843.4   174784.0   11967.6   21248.0 17057.8     62    3.653   0      0.000    3.653 
```

重启前的样本

```
Timestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       PC     PU    YGC     YGCT    FGC    FGCT     GCT   
       261578.8   0.00  16.89  68.70   8.89  80.74     45    2.551     0    0.000    2.551
       261593.8   0.00  16.89  70.97   8.89  80.74     45    2.551     0    0.000    2.551
       261608.8   0.00  16.89  72.49   8.89  80.74     45    2.551     0    0.000    2.551
       261623.8   0.00  16.89  75.00   8.89  80.74     45    2.551     0    0.000    2.551
       261638.8   0.00  16.89  77.76   8.89  80.74     45    2.551     0    0.000    2.551
       261653.8   0.00  16.89  80.77   8.89  80.74     45    2.551     0    0.000    2.551
       261668.8   0.00  16.89  83.03   8.89  80.74     45    2.551     0    0.000    2.551
       261683.8   0.00  16.89  85.29   8.89  80.74     45    2.551     0    0.000    2.551
       261698.8   0.00  16.89  87.57   8.89  80.74     45    2.551     0    0.000    2.551
       261713.8   0.00  16.89  90.57   8.89  80.74     45    2.551     0    0.000    2.551
       261728.8   0.00  16.89  93.35   8.89  80.74     45    2.551     0    0.000    2.551
       261743.8   0.00  16.89  95.61   8.89  80.74     45    2.551     0    0.000    2.551
       261758.8   0.00  16.89  98.61   8.89  80.74     45    2.551     0    0.000    2.551
       261773.8  20.83   0.00   1.36   8.95  80.74     46    2.685     0    0.000    2.685
       261788.8  20.83   0.00   4.66   8.95  80.74     46    2.685     0    0.000    2.685
       261803.8  20.83   0.00   6.88   8.95  80.74     46    2.685     0    0.000    2.685
       261818.8  20.83   0.00   9.67   8.95  80.74     46    2.685     0    0.000    2.685
       261833.8  20.83   0.00  10.78   8.95  80.74     46    2.685     0    0.000    2.685
       261848.8  20.83   0.00  13.56   8.95  80.74     46    2.685     0    0.000    2.685
       261863.9  20.83   0.00  15.78   8.95  80.74     46    2.685     0    0.000    2.685
       261878.8  20.83   0.00  19.32   8.95  80.74     46    2.685     0    0.000    2.685
       261893.8  20.83   0.00  21.55   8.95  80.74     46    2.685     0    0.000    2.685
       261908.8  20.83   0.00  24.33   8.95  80.74     46    2.685     0    0.000    2.685
       261923.8  20.83   0.00  27.11   8.95  80.74     46    2.685     0    0.000    2.685
       261938.8  20.83   0.00  29.84   8.95  80.74     46    2.685     0    0.000    2.685
       261953.8  20.83   0.00  32.06   8.95  80.74     46    2.685     0    0.000    2.685
       261968.8  20.83   0.00  34.85   8.95  80.74     46    2.685     0    0.000    2.685
       261983.8  20.83   0.00  38.89   8.95  80.74     46    2.685     0    0.000    2.685 
```

重启后的样本

```
Timestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       PC     PU    YGC     YGCT    FGC    FGCT     GCT   
          135.8   0.00   0.00  72.71   0.00  70.88      0    0.000     0    0.000    0.000
          150.8   0.00   0.00  76.71   0.00  70.91      0    0.000     0    0.000    0.000
          165.8   0.00   0.00  78.71   0.00  70.94      0    0.000     0    0.000    0.000
          180.7   0.00   0.00  82.71   0.00  72.79      0    0.000     0    0.000    0.000
          195.8   0.00   0.00  84.71   0.00  72.81      0    0.000     0    0.000    0.000
          210.8   0.00   0.00  88.71   0.00  72.90      0    0.000     0    0.000    0.000
          225.8   0.00   0.00  92.71   0.00  72.93      0    0.000     0    0.000    0.000
          240.8   0.00   0.00  94.71   0.00  72.95      0    0.000     0    0.000    0.000
          255.8   0.00   0.00 100.00   0.00  73.02      0    0.000     0    0.000    0.000
          270.8   0.00  78.72   6.68   0.00  73.49      1    0.286     0    0.000    0.286
          285.8   0.00  78.72  10.66   0.00  73.50      1    0.286     0    0.000    0.286
          300.8   0.00  78.72  14.32   0.00  73.54      1    0.286     0    0.000    0.286
          315.8   0.00  78.72  18.89   0.00  73.57      1    0.286     0    0.000    0.286
          330.8   0.00  78.72  24.85   0.00  73.57      1    0.286     0    0.000    0.286
          345.8   0.00  78.72  30.18   0.00  76.84      1    0.286     0    0.000    0.286
          360.8   0.00  78.72  32.82   0.00  76.86      1    0.286     0    0.000    0.286
          375.8   0.00  78.72  36.04   0.00  76.87      1    0.286     0    0.000    0.286
          390.8   0.00  78.72  40.00   0.00  76.89      1    0.286     0    0.000    0.286
          405.8   0.00  78.72  43.96   0.00  76.91      1    0.286     0    0.000    0.286
          420.8   0.00  78.72  46.61   0.00  76.92      1    0.286     0    0.000    0.286
          435.8   0.00  78.72  47.63   0.00  76.92      1    0.286     0    0.000    0.286
          450.8   0.00  78.72  47.63   0.00  76.92      1    0.286     0    0.000    0.286
          465.8   0.00  78.72  47.63   0.00  76.92      1    0.286     0    0.000    0.286
          480.8   0.00  78.72  47.63   0.00  76.92      1    0.286     0    0.000    0.286
          495.8   0.00  78.72  48.54   0.00  76.93      1    0.286     0    0.000    0.286
          510.8   0.00  78.72  48.54   0.00  76.93      1    0.286     0    0.000    0.286
          525.8   0.00  78.72  48.54   0.00  76.93      1    0.286     0    0.000    0.286
          540.8   0.00  78.72  49.11   0.00  76.93      1    0.286     0    0.000    0.286
          555.8   0.00  78.72  49.11   0.00  76.93      1    0.286     0    0.000    0.286
          570.8   0.00  78.72  49.11   0.00  76.93      1    0.286     0    0.000    0.286
          585.8   0.00  78.72  49.11   0.00  76.93      1    0.286     0    0.000    0.286
          600.8   0.00  78.72  49.11   0.00  76.93      1    0.286     0    0.000    0.286
          615.8   0.00  78.72  49.11   0.00  76.93      1    0.286     0    0.000    0.286
          630.8   0.00  78.72  49.11   0.00  76.93      1    0.286     0    0.000    0.286
          645.8   0.00  78.72  49.98   0.00  76.93      1    0.286     0    0.000    0.286
          660.8   0.00  78.72  49.98   0.00  76.93      1    0.286     0    0.000    0.286
          675.8   0.00  78.72  49.98   0.00  76.93      1    0.286     0    0.000    0.286
          690.8   0.00  78.72  49.98   0.00  76.93      1    0.286     0    0.000    0.286
          705.8   0.00  78.72  49.98   0.00  76.93      1    0.286     0    0.000    0.286
          720.8   0.00  78.72  50.55   0.00  76.93      1    0.286     0    0.000    0.286
          735.8   0.00  78.72  51.12   0.00  76.93      1    0.286     0    0.000    0.286
          750.8   0.00  78.72  51.12   0.00  76.93      1    0.286     0    0.000    0.286
          765.8   0.00  78.72  51.12   0.00  76.93      1    0.286     0    0.000    0.286
          780.8   0.00  78.72  51.12   0.00  76.93      1    0.286     0    0.000    0.286
          795.8   0.00  78.72  51.12   0.00  76.93      1    0.286     0    0.000    0.286
          810.8   0.00  78.72  51.12   0.00  76.93      1    0.286     0    0.000    0.286
          825.8   0.00  78.72  51.69   0.00  76.93      1    0.286     0    0.000    0.286
          840.8   0.00  78.72  51.69   0.00  76.93      1    0.286     0    0.000    0.286
          855.8   0.00  78.72  51.69   0.00  76.93      1    0.286     0    0.000    0.286
          870.8   0.00  78.72  51.69   0.00  76.93      1    0.286     0    0.000    0.286
          885.8   0.00  78.72  52.26   0.00  76.95      1    0.286     0    0.000    0.286
          900.8   0.00  78.72  52.26   0.00  76.95      1    0.286     0    0.000    0.286
          915.8   0.00  78.72  53.12   0.00  76.95      1    0.286     0    0.000    0.286
          930.8   0.00  78.72  53.69   0.00  76.95      1    0.286     0    0.000    0.286
          945.8   0.00  78.72  53.69   0.00  76.95      1    0.286     0    0.000    0.286
          960.8   0.00  78.72  53.69   0.00  76.95      1    0.286     0    0.000    0.286
          975.8   0.00  78.72  53.69   0.00  76.95      1    0.286     0    0.000    0.286
          990.8   0.00  78.72  53.69   0.00  76.95      1    0.286     0    0.000    0.286
         1005.8   0.00  78.72  53.69   0.00  76.95      1    0.286     0    0.000    0.286
         1020.8   0.00  78.72  53.69   0.00  76.95      1    0.286     0    0.000    0.286
         1035.8   0.00  78.72  53.69   0.00  76.95      1    0.286     0    0.000    0.286
         1050.8   0.00  78.72  54.27   0.00  76.95      1    0.286     0    0.000    0.286
         1065.8   0.00  78.72  54.27   0.00  76.95      1    0.286     0    0.000    0.286
         1080.8   0.00  78.72  54.27   0.00  76.95      1    0.286     0    0.000    0.286
         1095.8   0.00  78.72  54.27   0.00  76.95      1    0.286     0    0.000    0.286
         1110.8   0.00  78.72  55.12   0.00  76.97      1    0.286     0    0.000    0.286
         1125.8   0.00  78.72  55.46   0.00  76.97      1    0.286     0    0.000    0.286
         1140.8   0.00  78.72  56.03   0.00  76.97      1    0.286     0    0.000    0.286
         1155.9   0.00  78.72  56.03   0.00  76.97      1    0.286     0    0.000    0.286
         1170.8   0.00  78.72  56.03   0.00  76.97      1    0.286     0    0.000    0.286
         1185.9   0.00  78.72  56.03   0.00  76.97      1    0.286     0    0.000    0.286
         1200.9   0.00  78.72  56.03   0.00  76.97      1    0.286     0    0.000    0.286
         1215.9   0.00  78.72  56.03   0.00  76.97      1    0.286     0    0.000    0.286
         1230.9   0.00  78.72  56.03   0.00  76.97      1    0.286     0    0.000    0.286
         1245.9   0.00  78.72  56.03   0.00  76.97      1    0.286     0    0.000    0.286
         1260.9   0.00  78.72  56.03   0.00  76.97      1    0.286     0    0.000    0.286
         1275.9   0.00  78.72  56.03   0.00  76.97      1    0.286     0    0.000    0.286
         1290.9   0.00  78.72  56.03   0.00  76.97      1    0.286     0    0.000    0.286
         1305.9   0.00  78.72  56.03   0.00  76.97      1    0.286     0    0.000    0.286
         1320.9   0.00  78.72  56.03   0.00  76.97      1    0.286     0    0.000    0.286 
```

使用的类是

```
import java.io.*;
import java.net.*;
import java.util.*;
import java.util.Date;
import java.text.*;
import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.io.IOException;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.Statement;
import java.sql.SQLException;
import java.sql.*;
import java.util.concurrent.LinkedBlockingQueue;
import javax.mail.Message;
import javax.mail.MessagingException;
import javax.mail.PasswordAuthentication;
import javax.mail.Session;
import javax.mail.Transport;
import javax.mail.internet.InternetAddress;
import javax.mail.internet.MimeMessage;
import com.jolbox.bonecp.BoneCP;
import com.jolbox.bonecp.BoneCPConfig; 
```

代码的骨架。

```
public static void main(String[] args) {   

      new sServer7888();

   }
sServer7888() {

    try{
    final ServerSocket serverSocketConn = new ServerSocket(7888);               
    while (true){
    try{
       Socket socketConn1 = serverSocketConn.accept();
          new Thread(new ConnectionHandler(socketConn1)).start();                       
    }
    catch(Exception e){
        e.printStackTrace(System.out);
    }
       }
    } 
    catch (Exception e)     {
         e.printStackTrace(System.out);
    }

}

class ConnectionHandler implements Runnable {

  private Socket receivedSocketConn1;
    ConnectionHandler(Socket receivedSocketConn1) {
      this.receivedSocketConn1=receivedSocketConn1;
    }

    public void run() {

      while ((nextChar=readIn1.read()) != -1) {

         completeMessage += (char) nextChar;     
         if (nextChar == '*')
         {

          //calling of various function depends on the input data
          completeMessage="";

         }
       }   
      }
   }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T22:58:36.273

`-Xmx`flag 是 eden 空间、survivor 空间和老年代使用的大小。PermGen 位于此之上，并配置了`-XX:MaxPermGen`标志。

永久代的默认大小是 64MB（根据 JVM 的实现而有所不同，但大多数是 64MB），因此如果需要更多容量，还有备用容量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T18:54:42.253

您的应用程序正在运行 - 这里没有什么特别的。

*   在这 60 秒内没有运行 GC（既不是小型 GC，也不是完整 GC）
*   似乎生成了最少数量的对象，伊甸园空间略有增加

如果应用程序之前运行过（意味着所有类都已加载），您不必担心`PermGen`空间问题。

否则，如果您可以显示所有与内存相关的系统参数，那就太好了。

**关于第二个和第三个样本：**

第二个示例（重新启动之前）显示*应用程序从未运行过 FullGC*。这意味着，**对象的空间是足够的**。同样从技术上讲*PermGen 空间没有变化*，这意味着**应用程序已经加载了所有需要的类**，没有新的类加载发生。

第三个示例（重新启动后）显示应用程序正在缓慢加载所有必需的类，最后在技术上*几分钟内没有加载新类*。这并不意味着它永远不会发生，它只是意味着应用程序在 20 分钟后**已经加载了所需的类**。因此，**预计不会有新的大幅增长**。

尽管应用程序的某些隐藏部分可能会变为活动状态，并且您将加载许多类，但假设您的空间是实际分配的 5 倍。而且，**它是一个有限的过程**，一个类被加载后，就不会再被加载了。

# ios - NSMutable 数组返回无法识别的值

> ID：14778039
> 
> 赞同：1
> 
> 时间：2013-02-08T17:27:06.573
> 
> 标签：ios, uitableview, nsmutablearray, nsarray

我使用 NSMutable 数组作为 UITableView 的数据源。我正在从数据库中获取值并将其添加到可变数组中。当视图加载时，我用可变数组填充表视图并且加载正常。后来当我单击一个单元格时，它会抛出一个错误，说无法识别的选择器已发送到实例

在数组内部，我存储了一个带有 name 属性的 person 对象。`person.name`当用户单击每个显示错误的单元格时，我尝试取消 person.name 时，我正在加载所有单元格。我就是这样做的

```
Person *per = (Person*)[my arr objectAtIndex:indexPath.row];
NSlog(@"%@",per.name); 
```

在这里它崩溃了。但是我在 cellforRowAtIndexPath 中使用相同的代码来显示人名。

> 有时错误说 Unrecognized selector name sent to NSArray 有时它说 Unrecognized selector name sent to UIDeviceRGBColor

所以这意味着我没有从我的 NSMutable 数组中得到正确的对象

我怎样才能正确地做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T17:55:12.213

这是由于数组被释放。确保正确保留阵列。在ARC中有很强的参考作用。在非 ARC 中确保保留数组（我建议使用属性）。

# php - zen cart SQL - 选择产品并按价格订购

> ID：14778041
> 
> 赞同：1
> 
> 时间：2013-02-08T17:27:13.297
> 
> 标签：php, sql, database, zen-cart

**解决了**

请看下面我的回答。

**背景**

任何熟悉 zen cart 的人都会知道，它配备了世界上最无意义的产品排序选项，也就是 alpha 下拉排序器。

本质上，它的作用是允许您按产品开头的字母/数字选择产品。嗯，当我购物时，一个项目的首字母很少是一个有用的标准，所以我正在尝试创建一个更有用的产品分类器，它将根据添加的日期、价格和产品名称进行分类。然后根据属性类别进行过滤。

**问题**

因此，我设法强制分拣机进行我自己的查询，该查询正在处理除价格之外的所有内容。

这是我当前为降价设置生成的 SQL：

```
SELECT DISTINCT p.products_id, p.products_type, p.master_categories_id
               ,p.manufacturers_id, p.products_price, p.products_tax_class_id
               ,pd.products_description
               ,IF(s.status = 1, s.specials_new_products_price, NULL)
                  AS specials_new_products_price
               ,IF(s.status =1, s.specials_new_products_price, p.products_price)
                  AS final_price
               ,p.products_sort_order
               ,p.product_is_call
               ,p.product_is_always_free_shipping
               ,p.products_qty_box_status

  FROM products p
  LEFT JOIN specials s on p.products_id = s.products_id
  LEFT JOIN products_description pd on p.products_id = pd.products_id
  JOIN products_to_categories p2c on p.products_id = p2c.products_id

  WHERE p.products_status = 1
    and pd.language_id = '1'
    and p2c.categories_id = '1'

  GROUP BY p.products_id
  ORDER BY final_price ASC 
```

如您所见，我正在尝试根据最终价格进行排序，最终价格是正常价格或特价（如果已设置）的别名。这可以通过 phpmyadmin 正常工作。不幸的是，这不适用于 zen cart，我收到 php 错误：

> PHP致命错误：1054：'订单子句'中的未知列'final_price' :: SELECT p.products_id，p.products_price_sorter，p.master_categories_id，p.manufacturers_id FROM products p LEFT JOIN specials on p.products_id = s.products_id LEFT JOIN products_description pd on p.products_id = pd.products_id JOIN products_to_categories p2c on p.products_id = p2c.products_id WHERE p.products_status = 1\r\n and pd.language_id = '1'\r\n and p2c.categories_id = ' 1' GROUP BY p.products_id ORDER BY final_price ASC 在 /var/www/includes/classes/db/mysql/query_factory.php 第 101 行

所以我查看了第 101 行，它引用了数据库抽象类中的错误处理方法。有谁知道这里出了什么问题以及我该如何解决它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:29:26.110

“final_price”实际上不是数据库中的字段；它是购物车对象中每个行项目条目的一部分。您可以使用数据库按基本价格（这也是未按属性定价且没有附加定价属性的产品的最终价格）进行排序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T17:58:59.753

感谢所有看到这个的人。我设法解决了这个问题。不知道为什么，但我从错误消息中注意到别名没有进入 db 抽象类。但是，它在生产 p.products_price_sorter 的过程中的某个地方。所以我设法通过使用对价格进行排序：

```
ORDER BY p.products_price_sorter 
```

希望这可以帮助某人

**更新**

在我花了几天时间让它正常工作和播放之后，Scott Wilson 建议使用这个插件： [http](http://www.zen-cart.com/downloads.php?do=file&id=1612) ://www.zen-cart.com/downloads.php?do=file&id=1612 所以如果你正在阅读这个它可能值得一试 - 它允许在高级搜索和类别页面上对您的产品进行自定义排序。

# python - Pandas DataFrame 索引的自动递增选项

> ID：14778042
> 
> 赞同：12
> 
> 时间：2013-02-08T17:27:14.110
> 
> 标签：python, indexing, append, row, pandas

有没有办法在添加新行时设置一个选项来自动增加 pandas.DataFrame 的索引，或者定义一个函数来管理新索引的创建？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-02-08T17:45:36.803

您可以`ignore_index=True`在[`append`](http://pandas.pydata.org/pandas-docs/dev/generated/pandas.DataFrame.append.html)-ing 时设置：

```
In [1]: df = pd.DataFrame([[1,2],[3,4]])

In [2]: row = pd.Series([5,6])

In [3]: df.append(row, ignore_index=True)
Out[3]: 
   0  1
0  1  2
1  3  4
2  5  6 
```

# wordpress - 防止所有子域被搜索引擎机器人抓取

> ID：14778047
> 
> 赞同：2
> 
> 时间：2013-02-08T17:27:23.377
> 
> 标签：wordpress, apache, .htaccess, robots.txt

我有一个类似*domaindev.com*的域。

我已`robots.txt`将此域上的文件设置为阻止所有内容：

```
User-agent: *
Disallow: / 
```

就这样。这样可以阻止所有内容被抓取。

现在这里是有趣的地方。我们的服务器上还托管了几个 subdomains.domaindev.com，我也想阻止所有这些子域被抓取。我想要一种简单的方法来阻止任何旧子域和任何新子域。有没有可以添加到*www.domaindev.com*的行来阻止 ? 下的任何子域`domaindev.com`？

是设置默认值`robots.txt`并手动将其放入所有子域文件夹的最佳方法。

我真的很想要一个明确的解决方案，这样就不必不断地做同样的事情。

我们使用 WordPress，并在 wp-admin 中将其设置为不让蜘蛛爬取我们的网站。但不知何故，这些网站正在寻找进入谷歌的途径。

我该怎么做？

我搜索了该网站，发现这一行要添加到我的`.htaccess`文件中：

```
Header set X-Robots-Tag "noindex, nofollow" 
```

我也会这样做。

我还看到每个子域都需要自己的`robots.txt`文件是标准的一部分。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T17:52:22.517

`Alias`在任何 VirtualHost 部分之外的 httpd.conf 文件中放置一个指令，以捕获任何“robots.txt”请求。

```
Alias /robots.txt /home/www/robots.txt 
```

# iphone - 如何刷新 UIVIewController 到 NSOperationQueue

> ID：14778050
> 
> 赞同：1
> 
> 时间：2013-02-08T17:27:28.383
> 
> 标签：iphone, ios, uiimageview, nsoperationqueue

我有一个视图，其中显示了一个 UIImageView，它是免费的互联网，我用来带来正确加载的数据 NSXMLparser，问题是我用来使解析器 NSOperationQueue 成为背景，所以我在主视图中刷新图像。不以任何方式刷新它们的图像

我把下面的代码留在这里

```
- (void)viewDidLoad
{
    [Base64 initialize];

    [super viewDidLoad];

    NSOperationQueue *queue = [NSOperationQueue new];
    NSInvocationOperation *operation = [[NSInvocationOperation alloc] initWithTarget:self
                                                                            selector:@selector(loadDataWithOperation)
                                                                              object:nil];
    [queue addOperation:operation];
    [operation release];
}

- (void) loadDataWithOperation {
    getData=NO;
    NSURL *url1 =  [ NSURL URLWithString:[url stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding]];
    NSData *xmlData = [NSData dataWithContentsOfURL:url1];
    NSXMLParser *parser = [[NSXMLParser alloc]initWithData:xmlData];
    [parser setDelegate:self];
    [parser parse];

    [self performSelectorOnMainThread:@selector(showImage)withObject:nil waitUntilDone:NO];
}

-(void)showImage
{
    NSArray *imagen =[[NSArray alloc] initWithArray:xml];
    NSString *hola1 =[[imagen objectAtIndex:5]objectForKey:@"imagen"];
    NSData * dataa = [Base64 decode:hola1];
    img = [UIImage imageWithData:dataa];
    self.images.image = img;
    [images setImage:img];
    [img release];
} 
```

我究竟做错了什么？感谢您的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T17:37:15.227

我没有看到任何明显的东西（尽管显然我们没有看到`xml`数组的构建，也没有确切地知道 XML 本身的样子）。您应该`NSLog`（或设置断点并手动检查）`xml`以及`hola1`和`dataa`结果`showImage`，以准确识别每个步骤发生的情况。

后台操作和下载 XML 有两个可能的问题。这些似乎都不适用这里，但我会提到它以防万一：

1.  但是没有什么可以阻止您在此处演示的 XML 的下载和解析。如果您`NSURLConnection`用于下载 XML（可能出于演示的目的在此处对其进行了简化），则`NSURLConnection`在后台队列中使用会出现问题。但是，如果您使用`dataWithContentsOfURL`（或更好的`NSXMLParser`方法`initWithContentsOfURL`），那将不是问题。

2.  看起来您正在下载单个 XML，但如果您同时下载多个 XML 源，您应该意识到许多服务器对它们允许来自单个客户端的并发连接数施加了限制。您可以使用`NSOperationQueue`属性`maxConcurrentOperationCount`来缓解该问题。四是典型值。

* * *

不相关，但您可能需要查看一些较小的内存管理问题：

*   如果您已经拥有`xml`，则无需创建新的`imagen`；

*   您可能应该在添加之后`release`的对象，或者如果您需要保留它以重用它，您应该将其设为类属性或实例变量；`queue``operation`

*   如果你这样做，你可以完全摆脱`operation`：

    ```
    [queue addOperationWithBlock:^{
        [self loadDataWithOperation];
    }]; 
    ```

*   完成后，您应该`release`使用该`parser`对象；

*   如果你保留`imagen`你的代码，你应该`release`在完成时也这样做；和

*   你不应该对象`release`，`img`因为`imageWithData`返回一个`autorelease`对象

如果您进行静态分析（从“产品”菜单中选择“分析”），可能会向您指出常规内存管理的内容。

最后的观察：

*   我注意到你有：

    ```
    NSData *xmlData = [NSData dataWithContentsOfURL:url1];
    NSXMLParser *parser = [[NSXMLParser alloc]initWithData:xmlData]; 
    ```

    显然这`xmlData`没有必要，因为您也可以这样做：

    ```
    NSXMLParser *parser = [[NSXMLParser alloc] initWithContentsOfURL:url1]; 
    ```

# android - 如何在没有硬编码的情况下制作这种相对布局？

> ID：14778057
> 
> 赞同：1
> 
> 时间：2013-02-08T17:27:59.413
> 
> 标签：android, xml, button, textview, android-relativelayout

所以我在这个布局上有 11 个按钮和 1 个 TextView，它是这样的：

```
：按钮： ：按钮： ：按钮：
：按钮： ：按钮： ：按钮：
：按钮： ：按钮： ：按钮：
：居中的文本视图：
:button: :button: 其中两个填充宽度

```

现在我做到了，使重力居中，但我想要的是用按钮而不是背景填充屏幕的按钮。有没有办法通过相对布局而不是硬编码按钮来做到这一点？

这是我的代码：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:id="@+id/tictactoe"
android:layout_width="fill_parent";
android:layout_height="fill_parent"
android:background="#3399CC"
android:gravity="center"
android:orientation="vertical" >

<RelativeLayout
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    tools:ignore="UselessParent" >

    <Button
        android:id="@+id/top_left"
        android:layout_width="105dp"
        android:layout_height="105dp"
        android:textSize="55dp" />

    <Button
        android:id="@+id/top"
        android:layout_width="105dp"
        android:layout_height="105dp"
        android:layout_toRightOf="@id/top_left"
        android:textSize="55dp" />

    <Button
        android:id="@+id/top_right"
        android:layout_width="105dp"
        android:layout_height="105dp"
        android:layout_toRightOf="@id/top"
        android:textSize="55dp" />

    <Button
        android:id="@+id/left"
        android:layout_width="105dp"
        android:layout_height="105dp"
        android:layout_below="@id/top_left"
        android:textSize="55dp" />

    <Button
        android:id="@+id/center"
        android:layout_width="105dp"
        android:layout_height="105dp"
        android:layout_below="@id/top_left"
        android:layout_toRightOf="@id/left"
        android:textSize="55dp" />

    <Button
        android:id="@+id/right"
        android:layout_width="105dp"
        android:layout_height="105dp"
        android:layout_below="@id/top_left"
        android:layout_toRightOf="@id/center"
        android:textSize="55dp" />

    <Button
        android:id="@+id/bottom_left"
        android:layout_width="105dp"
        android:layout_height="105dp"
        android:layout_below="@id/left"
        android:textSize="55dp" />

    <Button
        android:id="@+id/bottom"
        android:layout_width="105dp"
        android:layout_height="105dp"
        android:layout_below="@id/left"
        android:layout_toRightOf="@id/bottom_left"
        android:textSize="55dp" />

    <Button
        android:id="@+id/bottom_right"
        android:layout_width="105dp"
        android:layout_height="105dp"
        android:layout_below="@id/left"
        android:layout_toRightOf="@id/bottom"
        android:textSize="55dp" />

    <TextView
        android:id="@+id/result"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@id/bottom_left"
        android:layout_centerHorizontal="true"
        android:text="@string/click"
        android:textColor="#99FF00"
        android:textSize="20dp" />

    <Button
        android:id="@+id/exit"
        android:layout_width="160dp"
        android:layout_height="90dp"
        android:layout_below="@id/result"
        android:text="@string/menu"
        android:textSize="20dp" />

    <Button
        android:id="@+id/playagain"
        android:layout_width="160dp"
        android:layout_height="90dp"
        android:layout_below="@id/result"
        android:layout_toRightOf="@id/exit"
        android:text="@string/playAgain"
        android:textSize="20dp" />
</RelativeLayout>
</RelativeLayout> 
```

# file - ipython %run testscript_in_pythonpath.py 返回“找不到文件”错误

> ID：14778060
> 
> 赞同：1
> 
> 时间：2013-02-08T17:28:08.737
> 
> 标签：file, find, ipython, pythonpath

我想使用 %run 魔术命令在 pythonpath 变量中的目录中运行脚本。该脚本读取工作目录中的一些文件。但是，当我尝试使用以下命令运行脚本时：%run "testscript_in_pythonpath.py"，它返回一个错误。我认为解释器可以访问 pythonpath 中的文件，不是吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-10T12:20:39.423

（转发为答案）

`$PYTHONPATH`是 Python 用来查找要导入的模块，而不是要运行的脚本。

要从中运行文件`$PYTHONPATH`，您可以执行`import testscript_in_pythonpath`. 或者，在 IPython 中：

```
%run -m testscript_in_pythonpath 
```

不同之处在于，如果文件有一个`if __name__ == '__main__':`部分，`%run`则会触发该部分。

在系统 shell 中，您可以执行以下操作：

```
python -m testscript_in_pythonpath 
```

# symfony-2.1 - 在 symfony2 中的 EventSubscriber 中将表单元素标记为必需

> ID：14778061
> 
> 赞同：0
> 
> 时间：2013-02-08T17:28:14.313
> 
> 标签：symfony-2.1, symfony-forms

我有一个名为“mediaType”的成员的实体，它告诉我要从另外两个成员中的哪一个中提取数据。当我构建表单以创建实体时，我将 mediaType 作为下拉列表，然后将两个文本字段用于其他两个成员。我想要做的是根据所选的 mediaType 强制要求一个或另外两个字段（或者，如果用户选择 None，则不需要。我将使用 JS 处理隐藏字段）。

由于我在绑定后操作表单，因此我设置了一个 EventSubscriber 来监听 PostBind 事件。我的订阅者触发得很好，但我不知道如何根据需要标记其中一个字段。我可以获得该字段，并且可以检查它是否需要，但我只是不知道如何使其成为必需。

有没有办法做到这一点？或者有比使用 EventSubscriber 更好的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T10:15:40.887

您可以使用验证组[http://symfony.com/doc/current/book/forms.html#book-forms-validation-groups](http://symfony.com/doc/current/book/forms.html#book-forms-validation-groups)请参阅“基于提交数据的组”

# visual-studio-2012 - Visual Studio 2012 MSTest 与 NUnit 的优缺点

> ID：14778063
> 
> 赞同：48
> 
> 时间：2013-02-08T17:28:18.523
> 
> 标签：visual-studio-2012, nunit, mstest

我们必须决定使用哪种技术进行单元测试。目前我们使用 Visual Studio 2010，并且对附带的 MSTest 不满意。它有缺陷，部署不佳（例如无法正确识别测试设置输出目录），并且在尝试测试 32 位和 64 位版本的程序集时存在一些问题。更糟糕的是，MSTest 与我们的 Jenkins 构建系统没有很好的阻抗匹配。因此，我们考虑迁移到 NUnit。但是，我们团队中没有人对 NUnit 有很好的了解。此外，我们将很快进入 Visual Studio 2012。

**我需要知道 Visual Studio 2012 MSTest vs Nunit 最新版本的优缺点**。由于大多数关于堆栈溢出的文章都与旧版本的 VS 相关，因此与我们无关。我猜微软自 2010年以来改进**了**MSTest

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-02-13T14:05:03.680

我现在同时使用 MSTest 和 NUnit。恕我直言 NUnit 仍然是一个更好的解决方案。如果您有 Visual Studio 2012 高级版，那么它实际上非常好，除了您似乎无法将测试组合在一起这一事实。我喜欢它集成到 Visual Studio 中的事实，但缺乏分组以及无需手动选择即可运行测试子集的能力是一个大问题。

Premium 中的覆盖率分析也非常简洁。它速度很快，可以快速为您提供所需的东西。这是一个高级功能。

由于 MSTest 中仍然缺少功能（甚至自 vs2010 以来已删除功能），我仍然建议使用 NUnit 进行单元测试。好处包括按命名空间进行测试分组，添加测试用例注释的能力（使用不同的参数多次运行相同的测试），并且它与 Opencover 和报告生成器一起用于覆盖分析。主要引用的缺点是它不像 MSTest 那样集成，所以它真的取决于对你来说这是否是一个缺点有多重要。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-08-23T12:51:55.693

@Biranchi：您在 Visual Studio 2012（及更高版本）中使用哪个单元测试框架不再重要。请在此处查看我的博文，这是您所指的那篇的续集。 [http://blogs.msdn.com/b/visualstudioalm/archive/2012/11/20/part-2-using-traits-with-different-test-frameworks-in-the-unit-test-explorer.aspx](http://blogs.msdn.com/b/visualstudioalm/archive/2012/11/20/part-2-using-traits-with-different-test-frameworks-in-the-unit-test-explorer.aspx)

你甚至可以混合和匹配来自不同框架的测试，你甚至可以做到方法级别！
这意味着您甚至可以将遗留代码从一个转移到另一个，而不会产生不良副作用。

另请参阅此内容，了解如何使用 Nuget 将 NUnit 适配器安装到解决方案中，让开发人员可以自行安装。 [http://blogs.msdn.com/b/visualstudioalm/archive/2013/06/11/part-3-unit-testing-with-traits-and-code-coverage-in-visual-studio-2012-using- the-tfs-build-and-the-new-nuget-adapter-approach.aspx](http://blogs.msdn.com/b/visualstudioalm/archive/2013/06/11/part-3-unit-testing-with-traits-and-code-coverage-in-visual-studio-2012-using-the-tfs-build-and-the-new-nuget-adapter-approach.aspx)

@Sriwantha：MSTest 是一个比 NUnit 更简单的框架。NUnit（以及 XUnit）为您提供了更大的灵活性，这也导致编写的代码更少。一个例子：如果你正在使用类别（你应该），MSTest 需要一个类别来装饰每个方法。NUnit 允许您装饰类 - 这将对该类中的所有方法生效。NUnit 还允许您使用强类型类别

```
public class Integration : Category {} 
```

这足以声明一个您可以使用的类别，而不是

```
Category("Integration"); 
```

你冒着拼写错误的风险。

NUnit 对数据驱动测试有更好的支持。NUnit 也支持[理论](http://nunit.org/index.php?p=theory&r=2.5)

仅举几例。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-05-22T15:47:16.970

如果您有“更新 1”或更高版本，VS2012 确实允许将测试分类：http: [//msdn.microsoft.com/en-us/library/hh270865.aspx#BKMK_Grouping_and_filtering_the_test_list](http://msdn.microsoft.com/en-us/library/hh270865.aspx#BKMK_Grouping_and_filtering_the_test_list)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-06-09T10:27:40.290

您是否研究过 VS 的 Traits 功能？ [http://blogs.msdn.com/b/visualstudioalm/archive/2012/11/09/how-to-manage-unit-tests-in-visual-studio-2012-update-1-part-1-using-特征单元测试explorer.aspx](http://blogs.msdn.com/b/visualstudioalm/archive/2012/11/09/how-to-manage-unit-tests-in-visual-studio-2012-update-1-part-1-using-traits-in-the-unit-test-explorer.aspx)

与 nunit 相比，mstest（2012 更新 1）中的分组要好得多。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-02-12T16:01:52.577

这里还要补充一件事。看起来 MSTEST 引擎在某些情况下不能很好地与 TFS Build 配合使用。如果您使用的是 TFS 构建，它不会报告跳过的测试（标有 Ignore 属性）。它只会包括 Assert.Inconclusive。如果这是一个问题，您应该使用 NUnit 而不是 MSTest。

# javascript - “这个”使用不当。在javascript中

> ID：14778068
> 
> 赞同：1
> 
> 时间：2013-02-08T17:28:40.880
> 
> 标签：javascript, oop, google-closure-compiler

我正在定义一个简单的对象“浏览器”，它允许显示列表中的“上一个”和“下一个”图像。

```
function Browser(image, elements) {
    this.current = 0;
    this.image = image;
    this.elements = elements;
}
Browser.prototype.next = function () {
    if (++this.current >= this.elements.length) {
         this.current = 0;
    }
    return this.show(this.current);
};
Browser.prototype.prev = function () {
    if (--this.current < 0) {
        this.current = this.elements.length - 1;
    }
    return this.show(this.current);
};
Browser.prototype.show = function (current) {
    this.image.src = this.elements[current];
    return false;
}; 
```

JSlint 几乎喜欢这段代码。但是“高级优化”中的 Google Closure Compiler 并没有对其进行编译。

它说：

```
JSC_USED_GLOBAL_THIS: dangerous use of the global this object at line 3 character 0
this.current = 0;
JSC_USED_GLOBAL_THIS: dangerous use of the global this object at line 4 character 0
this.image = image;
JSC_USED_GLOBAL_THIS: dangerous use of the global this object at line 5 character 0
this.elements = elements; 
```

这告诉我我不懂javascript oop。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-08T17:33:02.430

**JSC_USED_GLOBAL_THIS：**危险使用全局this对象。

此警告意味着您在原型函数或构造函数之外使用了关键字 this。例如，以下代码将产生此警告：

```
// Produces JSC_USED_GLOBAL_THIS warning:
this.foo = 1; 
```

在这种情况下，这实际上是指全局 this 对象。对于标准网页，全局对象与窗口对象是一样的。如果您收到此警告，请确保您确实打算引用全局对象。

请注意，编译器仅将带有 @constructor JSDoc 注释的函数识别为构造函数，如下所示：

```
/**
 * @constructor
 */
function MyFunction() {
  this.foo = 1;
} 
```

[https://developers.google.com/closure/compiler/docs/error-ref](https://developers.google.com/closure/compiler/docs/error-ref)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-08T17:33:10.463

从[文档](https://developers.google.com/closure/compiler/docs/error-ref)：

> 请注意，编译器仅将带有 @constructor JSDoc 注释的函数识别为构造函数，如下所示：

```
/**
 * @constructor
 */
function MyFunction() {
  this.foo = 1;
} 
```

# jquery - 我可以包含alloyUI 库并保留jQuery 库吗？

> ID：14778072
> 
> 赞同：0
> 
> 时间：2013-02-08T17:28:53.450
> 
> 标签：jquery, jquery-ui, plugins

抱歉这个蹩脚的问题，但我们开始吧：

我可以在我的项目中包含 AlloyUI 库并保留 jQuery 库吗？我的意思是，我已经有了 jQuery 的一些功能，但我也想使用alloyUI 组件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T18:52:01.640

您可以使用任意数量的库，购买时必须小心它们的组件，如果它们具有相同的“标签”，您将遇到冲突问题。

# mysql - 在mysql数据库中查找最新值

> ID：14778081
> 
> 赞同：-1
> 
> 时间：2013-02-08T17:29:51.270
> 
> 标签：mysql

我有两个表存储有关上传到站点调用图像和审核的图像的信息。上传图像时，它的路径存储在 image.imageLocation 中，当它用于审计时，auditID 保存到同一个表中。auditID 是用于将表连接在一起的值。

我正在尝试进行查询，该查询将使用审核的日期（即 audit.dateStart）告诉我使用该图像的最新审核。

到目前为止我的查询是......

```
SELECT * FROM (
    SELECT image.imageID AS newest_image, image.userID AS image_userID,
           image.auditID as image_auditID, image.type AS image_type,
           image.imageLocation AS location
    from image
) image
LEFT JOIN audit ON image_auditID = audit.auditID
WHERE image_userID = '$id' AND image_type = 'standard'
      AND dateStart = MAX(dateStart)
GROUP by location 
```

这会引发错误，说明对 GROUP 的使用不当。

任何帮助将不胜感激

这是表结构

```
audit

auditID     varchar(255)        
userID      int(11)     
dateStart       date        
dateEnd     date    
auditName       varchar     
auditDesc       varchar     
imagesUploaded  tinyint 
actionPlan      varchar     
auditComplete   tinyint 
dateComplete    datetime

image

imageID         int(10)     
name            varchar(255)        
auditID         varchar(255)        
imageGrade          int(1)      
exposure            varchar(255)        
positioning         varchar(255)        
patient         varchar(255)        
equipment           varchar(255)        
positioningReason   varchar(255)        
exposureReason  varchar(255)        
patientReason   varchar(255)        
comment         varchar(255)        
auditDate           datetime    
imageLocation   varchar(255)        
thumbnail           text        
xrayType            varchar(10)     
type            varchar(255)        
userID          int(11) 

Some sample data

imageID = 563
name = standard_16.jpg
auditID = 1360318160843025059
imageLocation = upload/2/standards/standard_16.jpg
type = standard
userID = 2

imageID = 565
name = standard_18.jpg
auditID = 1360318160843025059
imageLocation = upload/2/standards/standard_18.jpg
type = standard
userID = 2

imageID = 566
name = standard_18.jpg
auditID = 13603248241777655575
imageLocation = upload/2/standards/standard_18.jpg
type = standard
userID = 2

auditID = 1360318160843025059
userID = 2
dateStart = 2013-02-14

auditID = 13603248241777655575
userID = 2
dateStart = 2013-02-09 
```

如您所见，相同的图像可用于多个审核，我想知道哪个审核最后使用了该图像，在这种情况下，结果将是 auditID 1360318160843025059

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T17:34:06.637

您是否尝试过使用子查询。此子查询将获取`max(dateStart)`每个审计的。然后，您将此结果连接到`audit`表中，以返回具有最大日期的行的所有详细信息：

```
SELECT 
  i.imageID AS newest_image, 
  i.userID AS image_userID, 
  i.auditID as image_auditID, 
  i.type AS image_type, 
  i.imageLocation AS location,
  a1.*
FROM image i
LEFT JOIN audit a1
  on i.auditID = a1.auditID
INNER JOIN 
(
  select auditID, max(dateStart) MaxDate
  from audit
  group by auditID
) a2
  on a1.auditID = a2.auditID
  and a1.dateStart = a2.MaxDate
WHERE i.userID = '$id' 
  AND i.type = 'standard' 
```

编辑，如果您只有最后的图像/审核，那么您可以使用：

```
SELECT i.imageID AS newest_image, 
  i.userID AS image_userID, 
  i.auditID as image_auditID, 
  i.type AS image_type, 
  i.imageLocation AS location,
  a1.*
FROM image i
LEFT JOIN audit a1
  on i.auditID = a1.auditID
INNER JOIN 
(
  select max(dateStart) MaxDate
  from audit
) a2
  on a1.dateStart = a2.MaxDate
WHERE i.type = 'standard'; 
```

请参阅[带有演示的 SQL Fiddle](http://www.sqlfiddle.com/#!2/c0ed7/6)

* * *

只是另一个猜测：

```
SELECT i.imageID AS newest_image, 
  i.userID AS image_userID, 
  i.auditID AS image_auditID, 
  i.type AS image_type, 
  i.imageLocation AS location,
  a.*
FROM image i
  JOIN audit a
    ON i.auditID = a.auditID
  JOIN 
    (
    SELECT i.imageLocation, MAX(a.dateStart) MaxDate
    FROM image i
      JOIN audit a
        ON i.auditID = a.auditID
    WHERE i.userID = '$id' 
      AND i.type = 'standard' 
    GROUP BY i.imageLocation 
    ) g
    ON  g.MaxDate = a.dateStart
    AND g.imageLocation = i.imageLocation
WHERE i.userID = '$id' 
  AND i.type = 'standard' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T17:38:11.877

试试这个

```
 SELECT * FROM (
SELECT image.imageID AS newest_image, image.userID AS image_userID,
       image.auditID as image_auditID, image.type AS image_type,
       image.imageLocation AS location
 from image
 GROUP by location
              ) image
LEFT JOIN audit ON image_auditID = audit.auditID
WHERE image_userID = '$id' AND image_type = 'standard'
  AND dateStart = MAX(dateStart) 
```

编辑。

```
 SELECT image.imageID AS newest_image, image.userID AS image_userID,
   image.auditID as image_auditID, image.type AS image_type,
   image.imageLocation AS location
   from image
  LEFT JOIN audit ON image.userID = audit.auditID
  INNER JOIN 
 (
   select max(dateStart) MaxDate
   from audit
  ) audit2
  on audit.dateStart = audit2.MaxDate
  WHERE  image.type = 'standard'
  GROUP by image.imageLocation 
```

[**SQL 小提琴演示**](http://sqlfiddle.com/#!2/0962a0/18)

# c# - 如何反序列化嵌套对象？

> ID：14778082
> 
> 赞同：0
> 
> 时间：2013-02-08T17:29:55.460
> 
> 标签：c#, json, serialization

我已经设法通过创建数据合同类来创建反序列化（在向客户唠叨一公吨之后）。我的问题是我声明的两个字段都返回空的东西。因此，我查看了它并意识到 JSON 对象是嵌套的，我不清楚如何访问其中的部分。

数据合同是这样的，但我将*Bopp*设为 null（或空字符串，不确定是哪个），并将*Mopp*设为一堆零。

```
[DataContract]
public class Customer
{
  [DataMember(Name = "Beep")]
  public String Bopp;

  [DataMember(Name = "Meep")]
  public Guid Mopp;
} 
```

我**以为**数据在这个表格上。

```
[
  {"Beep":"beep1", "Meep":"meep1"},
  {"Beep":"beep2", "Meep":"meep2"},
  {"Beep":"beep3", "Meep":"meep3"}
] 
```

然而，显然，他们将对象移动到**另一个**对象中，所以它更像这样。

```
[ "root":[
  {
    "A":"some",
    "B":[
      {"Beep":"beep1", "Meep":"meep1"},
      {"Beep":"beep2", "Meep":"meep2"},
      {"Beep":"beep3", "Meep":"meep3"}],
    "C":"some"
  },
  {
    "A":"some",
    "B":[
      {"Beep":"beep1", "Meep":"meep1"},
      {"Beep":"beep2", "Meep":"meep2"},
      {"Beep":"beep3", "Meep":"meep3"}],
    "C":"some"
  }
]] 
```

如何重新设计数据合约以使其访问正确的字段？还是我遗漏了什么，数据成员的名称不能与字段不同（即*Beep*和*Bopp*不起作用）？！

编辑：

根据要求，我正在从字符串中发布（几乎）实时数据。

```
{"CustomerStatuses":[{
  "Information":[{"Guid":"1","Role":"Customer"}],
  "CustomerId":"12345678-1234-1324-1234-123456781234",
  "Status":4},
  "Information":[{"Guid":"5","Role":"Customer"}],
  "CustomerId":"12345678-1234-1324-1234-123456781234",
  "Status":6},
  "Information":[{"Guid":"7","Role":"Seller"}],
  "CustomerId":"12345678-1234-1324-1234-123456781234",
  "Status":6},
  ... 
```

这是实际的数据合同。

```
[DataContract]
public class Customer
{
  [DataMember(Name = "Status")]
  public String Status;

  [DataMember(Name = "CustomerId")]
  public Guid Guid;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T17:35:39.020

您的类结构需要匹配 Json：

```
<DataContract> 
Public Class Customer 

<DataMember(Name:="Status")> 
Public Property Status As Int32 

<DataMember> 
Public Property Information As Object 

<DataMember> 
Public Property CustomerId As String 

End Class 

Public Class Customers 

Public Property CustomerStatuses As List(Of Customer) 

End Class 
```

# class - Coda 函数和类查找

> ID：14778083
> 
> 赞同：2
> 
> 时间：2013-02-08T17:30:01.190
> 
> 标签：class, function, lookup, coda

我用谷歌搜索了一下，似乎找不到任何东西，但我一直在 Coda 中开发前端的东西有一段时间了，但最近我开始研究更复杂的服务器端脚本，并且我现在在一个基于自定义 PHP 框架构建产品的团队中。

我以前使用过eclipse，其中一个非常方便的功能是您可以[cmd]+单击函数/类名，IDE 会为您找到源代码。这在 Coda/2 中是否可能，或者这是开发人员一直在寻找但在 Coda2 推出时没有获得的功能之一？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-01-20T16:34:40.520

如果您突出显示并右键单击函数名称，则可以选择“*在参考书中查找*”，Coda 将打开一个包含相应书籍的新选项卡，同时分析搜索框以查找您突出显示的函数。如果您的图书馆中没有针对该框架或语言的书籍，它可能会失败。

虽然 Coda 中没有键盘快捷键来执行此操作，但您可以定义一个。在这篇文章中[https://panic.com/blog/top-20-secrets-of-coda-2/tip](https://panic.com/blog/top-20-secrets-of-coda-2/) #20 向您展示了如何做到这一点。注意参考书查找命令的名称，因为它必须是完全相同的拼写和字母大小写。

# visual-c++ - 用于实现enter命令的visual c++ 6.0代码

> ID：14778088
> 
> 赞同：0
> 
> 时间：2013-02-08T17:30:22.747
> 
> 标签：visual-c++, mfc, keyboard

如何使用 MFC 应用程序向导 (exe) 在 Visual C++ 6.0 项目中实现“输入”命令？

对以下代码进行一些修改以查找输入字符串的大小：

```
void CCentredView::OnDraw(CDC*pDC)
{
    CCentredDoc* pDoc = GetDocument();
    ASSERT_VALID(pDoc);

    CRect rect;
    GetWindowRect(&rect);

    int x= rect.Width()/2;
    int y= rect.Height()/2;

    CSize size = pDC->GetTextExtent(pDoc->StringData);
    //...
} 
```

现在要获取输入命令的代码，我们必须检查敲击的键是否是回车， `\r`如果是，则通过将文本字符串的高度添加到`y`变量来移动到下一行以跳到屏幕上的下一个文本行.

但是，我不知道如何实现代码！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T11:02:20.960

作业问题？

无论哪种方式，通过在 PreTranslateMessage 中使用 VK_RETURN 过滤 WM_KEYDOWN 来捕获返回键。做你的回车插入那里。

# cocoa - NSCollectionViewItem 视图的子视图总是 nil

> ID：14778089
> 
> 赞同：6
> 
> 时间：2013-02-08T17:30:24.057
> 
> 标签：cocoa, appkit

我有一个非常基本的设置`NSCollectionView`。我有一个子类`NSCollectionViewItem`，用作`itemPrototype`集合视图。集合视图项具有视图。

使用 Interface Builder，我向`NSImageView`集合视图项的视图添加了一个，并将一个连接`IBOutlet`到我的集合视图项子类的实例。`IBOutlet`is的属性用于`retain`其内存管理。

我的目标是在集合视图项的选择状态发生变化时隐藏或显示此图像视图。但是在该`setSelected:`方法中，我的图像视图属性为零，即使我 100% 确定它的插座已连接，但它的属性设置为保留并且我没有取消设置或释放图像视图。

我对集合视图项也有类似的问题，其中添加到视图的活动指示器也总是为零。为什么会发生这种情况，我需要做些什么来解决它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-02-02T23:04:27.943

就我现在而言，指向 nib/xib 文件中非顶级对象的 IBOutlets 应该被定义（弱）。

您确定您已正确更改了 NSCollectionView 项目的类吗？

当闯入 setSelected: 并在调试器控制台中执行 po self 时，您是否看到了您的类的名称？

# java - Java：AbstractSet 与 AbstractList 的 hashCode

> ID：14778091
> 
> 赞同：0
> 
> 时间：2013-02-08T17:30:30.380
> 
> 标签：java

对于 AbstractList，哈希码计算如下：

```
 int hashCode = 1;
 Iterator<E> i = list.iterator();
 while (i.hasNext()) {
     E obj = i.next();
     hashCode = 31*hashCode + (obj==null ? 0 : obj.hashCode());
 } 
```

而对于 AbstractSet，它的计算如下：

```
int h = 0;
Iterator<E> i = iterator();
while (i.hasNext()) {
    E obj = i.next();
    if (obj != null)
        h += obj.hashCode();
} 
```

问题：为什么AbstractList 的hash code 计算不能和AbstractSet 的一样？这与 中可能的元素重复`List`与 中的唯一元素保证有关`Set`，还是`ordered`与`un-ordered`它们的属性有关？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-08T17:32:59.370

绝对地。接口中指定的哈希码计算`List`使得`hashCode()`具有相同元素以不同方式排序的两个列表中的可能会不同。接口中指定的哈希码`Set`保证了两个`Set`相同元素不同顺序的哈希码相同。

`List`这自然对应于和的不同相等概念`Set`。

# javascript - HTML - 多选窃取长表单上的 dom 滚动

> ID：14778100
> 
> 赞同：3
> 
> 时间：2013-02-08T17:31:44.770
> 
> 标签：javascript, jquery, html

我正在开发一个表单系统，一个表单可以有许多具有任何输入类型的字段。这意味着我有文本输入/区域、单选、复选框、选择和选择多个。

我的问题是，如果鼠标进入多选（我假设单选也会这样做）滚动表单时，选择会控制鼠标事件，因此滚动停止。您必须将鼠标移出输入才能重新获得对滚动的访问权限，这可能会令人震惊。

一旦它有焦点滚动选项，我就没有问题将滚动重新绑定到输入，但我不希望它自动假设它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-28T22:04:00.180

以下是我们解决此问题的方法。我们将一个函数附加到监视滚动事件的目标。目标获得一个快速掩码元素，当滚动时会显示掩码，从而防止事件气泡滚动目标。

由于外部元素正在滚动，因此目标元素不会长时间保持滚动事件。附加 500 毫秒的超时将使目标知道您想要滚动目标。

```
function scrollUninterruptable(elem) {
var scrollTimer = null,
scrollMask = $('<div>', { 'style': 'position: absolute; right: 0; left: 0; top: 0; bottom: 0;', 'class': 'scrollMask' }).hide();
elem = $(elem);
elem.append(scrollMask);
elem.parent().off('scroll.uninterruptably').on('scroll.uninterruptably', function() {
    elem.css('position', 'relative');
    scrollMask.show();
    if (scrollTimer) {
        clearTimeout(scrollTimer);
    }
    scrollTimer = setTimeout(function() {
        elem.css('position', '');
        scrollMask.hide();
    }, 500);
});
} 
```

同样，这只是观察滚动事件附加 500 毫秒超时，然后隐藏允许滚动事件在目标上触发的掩码。

# php - 如何在 echo 中使用 htmlspecialchars

> ID：14778105
> 
> 赞同：-1
> 
> 时间：2013-02-08T17:31:56.577
> 
> 标签：php

您可以访问此链接以获取我的问题示例：http: [//jflagher.mystudentsite.net/cmweb241/cmweb241_lab2.html](http://jflaugher.mystudentsite.net/cmweb241/cmweb241_lab2.html)

一切正常，除了我在回声中使用 htmlspecialchars 时遇到问题。我希望实体出现在 echo 而不是 html 字符中。我尝试将 htmlspecialchars 放在 echo 中，但随后出现了段落标签。如何在回声中使用 htmlspecialchar，并在段落标签中显示回声？我在这方面已经有一段时间了，因为我对 PHP 很陌生。

例如，当我输入“&”时，我会得到回显。我希望实体 & 得到回显，而不是“&”。

```
 <?php
  $username = htmlspecialchars(str_replace(array("'", "\""), "", $_POST['username']));
  $password = htmlspecialchars(str_replace(array("'", "\""), "", $_POST['password']));
  $comment = htmlspecialchars(str_replace(array("'", "\""), "", $_POST['comment']));

  echo  "<p> Your Username is: $username .</p> ";
  echo " <p>Your Password is: $password . </p>";
  echo " <p>Your Comment was: $comment . </p>";

 ?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T17:43:53.343

说你进入`&`。
`htmlspecialchars`会把它变成`&amp;`.
`&amp;`是 的 HTML 实体`&`，因此在浏览器中查看结果会显示`&`.

这是 的正常目的`htmlspecialchars`，它通过适当地将其转义为媒体 (HTML) 来保留*可见字符*。

如果要`&`变成可见`&amp;`的，浏览器就需要接收`&amp;amp;`。应用`htmlspecialchars`两次来做到这一点：

```
htmlspecialchars(htmlspecialchars($_POST['username'])) 
```

也许[伟大的逃避现实（或：使用文本中的文本需要知道的内容）](http://kunststube.net/escapism/)可以帮助您更好地理解主题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T17:38:52.650

我不确定这意味着什么：

> > 我希望实体出现在 echo 而不是 html 字符中。

您是说您希望实体显示在您的网页中吗？htmlspecialchars将字符转换*为*实体，但浏览器会将这些实体显示为它们所代表的字符。

如果您想在浏览器中实际*查看实体，可以对这些值进行双重转义：*

```
$username = htmlspecialchars(htmlspecialchars(str_replace(array("'", "\""), "", 
                             $_POST['username']))); 
```

但我真的不认为这是你做练习的目的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T17:40:14.543

如果你想显示实体，你可以申请`htmlspecialchars()`两次，它将全部转入`&`，从而显示实体本身。`&amp;``&amp;amp;`

另一种方法是将输出包装在`<pre></pre>`标签中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T17:46:03.340

试试这个方法：

```
<?php
$string = "<tag>&";

$string = htmlspecialchars($string, ENT_QUOTES, 'UTF-8');
print $string; 
```

它将打印：

`&lt;tag&gt;&amp;`

[如何使用 HTML/PHP 防止 XSS？](https://stackoverflow.com/questions/1996122/how-to-prevent-xss-with-html-php)

# objective-c - 核心数据调试器在为实体赋值时挂起

> ID：14778107
> 
> 赞同：0
> 
> 时间：2013-02-08T17:32:01.807
> 
> 标签：objective-c, core-data, nsmanagedobject

我有一个核心数据实体，我试图从另一个实体分配关系。请参考下面的代码

```
#define kId @"id"

-(NSArray *)fetchObjectsForEntityName:(NSString *)entityName withPredicate:(NSPredicate *)predicate
{
    NSManagedObjectContext *newContext = [Helper generateNewContext];
    NSEntityDescription *entity = [NSEntityDescription entityForName:entityName inManagedObjectContext:newContext];
    NSFetchRequest *request = [NSFetchRequest new];
    [request setEntity:entity];
    if (predicate)
        [request setPredicate:predicate];
    NSError *error = nil;
    NSArray *resultArray = [newContext executeFetchRequest:request error:&error];
    return resultArray;
}

-(void)updateCoreDataEntity
{
    NSArray *objectsArray = [self fetchObjectsForEntityName:@"FirstEntity" withPredicate:nil];

//FirstObjects is a subclass of NSManagedObject class (Custom entity)
//kId is just #define as defined above
//Recasting removed

        for (FirstObjects *firstObject in objectsArray) {
            if ([firstObject.id isEqualToString:[dict valueForKey:kId]]) {
                     secondEntity.firstEntity = firstObject; //debugger hangs here  
        }
    }
} 
```

我正在尝试将属于“FirstEntity”的对象提取到 NSArray

遍历该数组以找到所需的对象。

如果条件匹配，则将“firstObject”分配给 SecondEntity。

但是，由于调试器（和代码）挂在代码的最后一行，我无法使用此代码。

我在做什么错误，任何人都可以帮助使用此代码。

问候，

我明白

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T22:39:23.390

`secondEntity`可能是未定义的。这肯定会导致崩溃。

此外，ID 的逻辑也存在缺陷。似乎比较不是与特定 ID 进行比较，而是与通用字符串“id”进行比较。也许您真的想与动态分配的 id 进行比较？另外，这些字符串 ID 是唯一的吗？（否则，您可能会得到不可预测的结果。）

最后，从代码中不清楚 Helper 是否始终提供**相同**的托管对象上下文。强烈建议这样做 - 单独的上下文主要用于并发。

# python - 连续的问题

> ID：14778111
> 
> 赞同：0
> 
> 时间：2013-02-08T17:32:28.810
> 
> 标签：python

**代码：**

```
import json
import random

questions = json.load(open("questions.json"))

question = random.choice(questions.keys())

answers = questions[question]['answers']
correct_answer = questions[question]['correct_answer']

print question
for n, answer in enumerate(answers):
    print "%d) %s" % (n + 1, answer)

resp = raw_input('answer: ')
if resp == str(correct_answer):
    print "correct!"
else:   
    print "sorry, the correct answer was %s" % correct_answer 
```

**问题.json：**

```
{
  "What are your plans for today?": {
    "answers": ["nothing", "something", "do not know"],
    "correct_answer": 2
  },
  "how are you?": {
    "answers": ["well", "badly", "do not know"],
    "correct_answer": 1
  }
} 
```

我想知道如何让这个程序继续提问，即使答案是对还是错，就像做持续的问题一样，而不停止它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T17:53:59.657

要以随机顺序询问所有问题，您可以使用`random.shuffle`并通过`for`循环询问所有问题。

```
import json
import random

# use items to get a list    
questions = json.load(open("questions.json")).items()
# ... that you can shuffle.
random.shuffle(questions)
# note, we used items() earlier, so we get a tuple.
# and we can ask all questions in random order.
for question, data in questions:
   answers = data['answers']
   correct_answer = data['correct_answer']
   print question
   for n, answer in enumerate(answers):
       print "%d) %s" % (n + 1, answer)
   resp = raw_input('answer: ')
   if resp == str(correct_answer):
       print "correct!"
   else:   
       print "sorry, the correct answer was %s" % correct_answer 
```

# android - 在 Fragment 中使用 TimesSquare 实现

> ID：14778113
> 
> 赞同：1
> 
> 时间：2013-02-08T17:32:32.350
> 
> 标签：android, calendar, android-fragments

我是Android编程的初学者。我正在尝试在片段中添加日历（ [https://github.com/square/android-times-square ）](https://github.com/square/android-times-square)

```
public class CalendarFragment extends Fragment {

private static final String TAG = "CalendarFragment";

View viewer;
  @Override 
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        viewer = (View) inflater.inflate(R.layout.cal, container,
                false);
    Calendar nextYear = Calendar.getInstance();
    nextYear.add(Calendar.YEAR, 1);

    final CalendarPickerView calendar = (CalendarPickerView) findViewById(R.id.calendar);
    calendar.init(new Date(), new Date(), nextYear.getTime());

    Button b = (Button) findViewById(R.id.done_button);
    b.setOnClickListener(new OnClickListener() {

        @Override 
        public void onClick(View view) {
        Log.d(TAG, "Selected time in millis: " + calendar.getSelectedDate().getTime());
        String toast = "Selected: " + calendar.getSelectedDate().getTime();
        Toast.makeText(CalendarFragment.this, toast, LENGTH_SHORT).show();
      }
    });
        return viewer;  

  } 
```

cal.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    >
  <com.squareup.timessquare.CalendarPickerView
      android:id="@+id/calendar"
      android:layout_width="match_parent"
      android:layout_height="0dp"
      android:layout_weight="1"
      android:paddingLeft="16dp"
      android:paddingRight="16dp"
      android:paddingBottom="16dp"
      android:scrollbarStyle="outsideOverlay"
      android:clipToPadding="false"
      android:background="#FFFFFF"
      />

  <Button
      android:id="@+id/done_button"
      android:layout_width="match_parent"
      android:layout_height="wrap_content"
      android:text="Done"
      />

</LinearLayout> 
```

我认为问题出在xml中，java中也很少出错。请帮帮我。谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T18:26:44.050

我已经更新了您的片段的代码。

```
public class CalendarFragment extends Fragment {

private static final String TAG = "CalendarFragment";

View viewer;
  @Override 
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        viewer = (View) inflater.inflate(R.layout.cal, container,
                false);
    Calendar nextYear = Calendar.getInstance();
    nextYear.add(Calendar.YEAR, 1);

    final CalendarPickerView calendar = (CalendarPickerView) viewer.findViewById(R.id.calendar);
    calendar.init(new Date(), new Date(), nextYear.getTime());

    Button b = (Button) viewer.findViewById(R.id.done_button);
    b.setOnClickListener(new OnClickListener() {

        @Override 
        public void onClick(View view) {
        Log.d(TAG, "Selected time in millis: " + calendar.getSelectedDate().getTime());
        String toast = "Selected: " + calendar.getSelectedDate().getTime();
        Toast.makeText(getActivity(), toast, LENGTH_SHORT).show();
      }
    });
        return viewer;  

  } 
```

具体来说，

```
final CalendarPickerView calendar = (CalendarPickerView) findViewById(R.id.calendar); 
```

需要为final CalendarPickerView calendar = (CalendarPickerView) viewer.findViewById(R.id.calendar);

和，

```
Button b = (Button) findViewById(R.id.done_button); 
```

需要是

```
Button b = (Button) viewer.findViewById(R.id.done_button); 
```

最后，

```
Toast.makeText(CalendarFragment.this, toast, LENGTH_SHORT).show(); 
```

需要是

```
Toast.makeText(getActivity(), toast, LENGTH_SHORT).show(); 
```

# java - 将实例变量分配给静态变量

> ID：14778120
> 
> 赞同：3
> 
> 时间：2013-02-08T17:32:49.497
> 
> 标签：java, static

**我有这样的事情：**

```
public class Test {

    public static MyObject o4All = null;

    public MyObject o4This = null;

    public void initialize() {

        // create an instance of MyObject by constructor
        this.o4This = new MyObject(/* ... */);

        // this works, but I am wondering
        // how o4All is internally created (call by value/reference?)
        Test.o4All = this.o4This;

    }
} 
```

我知道，我应该只通过静态方法分配或更改静态变量。但根据 java-docs ( [http://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html](http://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html) )，我可以使用对象引用。

> 类方法**不能**直接访问实例变量或实例方法——它们必须使用对象引用。

如果我更改 o4This 的属性怎么办？o4All 的属性也会间接改变吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-08T17:34:15.030

> 如果我更改 o4This 的属性怎么办？o4All 的属性也会间接改变吗？

**是**的，它会改变。因为现在，`o4All`和`o4This`都指的是同一个实例。您通过以下作业做到了这一点：-

```
Test.o4All = this.o4This; 
```

在上面的分配中，您没有创建由 引用的实例的副本`o4This`，而是在复制引用`o4This`中的值`o4All`。现在，因为`o4This`value 是对 some 的引用`instance`。所以，`o4All`现在引用与 相同的实例`o4This`。因此，您对`instance`使用引用所做的任何更改也将反映在另一个引用中。

# c - sprintf() 负返回值和errno

> ID：14778123
> 
> 赞同：14
> 
> 时间：2013-02-08T17:32:54.597
> 
> 标签：c, printf, errno

根据[http://linux.die.net/man/3/sprintf](http://linux.die.net/man/3/sprintf)和[http://www.cplusplus.com/reference/cstdio/sprintf/](http://www.cplusplus.com/reference/cstdio/sprintf/) `sprintf()`和family返回写入成功的字符数。失败时，返回一个负值。我假设如果格式字符串格式错误可能会发生错误，因此负返回值可能表示`malloc()`错误以外的其他内容。是否`errno`设置为指示错误是什么？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-08T17:39:35.300

`errno`C++ 遵从 C 和 C 在和族的描述中没有要求或提及`sprintf()`（虽然对于某些格式说明符，这些函数被定义为 call `mbrtowc()`，可以设置`EILSEQ`在 中`errno`）

POSIX 要求设置 errno：

> 如果遇到输出错误，这些函数应返回负值并设置`errno`为指示错误。

明确提到了 EILSEQ、EINVAL、EBADF、ENOMEM、EOVERFLOW：http: [//pubs.opengroup.org/onlinepubs/9699919799/functions/fprintf.html](http://pubs.opengroup.org/onlinepubs/9699919799/functions/fprintf.html)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-08T18:01:41.483

当我有这样的问题时，我总是喜欢“试试看”的方法。

```
char buffer[50];
int n, localerr = 0;
n = sprintf(buffer, "%s", "hello");
localerr = errno; // ensure printf doesn't mess with the result
printf("%d chars\nerrno: %d\nstrerror:%s\n", n, localerr, strerror(localerr));

> 5 chars
errno: 0
strerror: Success

n = sprintf(buffer, NULL, NULL);
localerr = errno;
printf("%d chars\nerrno: %d\nstrerror:%s\n", n, localerr, strerror(localerr));

> -1 chars
errno: 22
strerror: Invalid argument 
```

看起来它是在 linux 上使用 gcc 编译时设置的。所以这是很好的数据，并且在它的[手册页](http://linux.die.net/man/3/errno)中`errno`确实提到`printf()`（与 相同的系列`sprintf()`）可能会改变`errno`（在底部的示例中）。

# html - 外部容器的 HTML5 部分或 div

> ID：14778139
> 
> 赞同：2
> 
> 时间：2013-02-08T14:11:35.160
> 
> 标签：html

我需要一个容器来包含打开正文和结束正文标记之间的所有元素。我的问题是，这个容器应该是一个部分还是一个 div。我认为部分将是最明智的决定，因为它是文档的通用部分，但希望获得其他人的意见。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T15:11:08.317

> “我的问题是，这个容器应该是一个部分还是一个 div。”

简而言之：使用`<div>`.

这是规范必须说的：

> “section 元素**不是通用的容器**元素。当一个元素仅用于样式目的或为了方便编写脚本时，鼓励作者**使用 div 元素来代替**。”

如果您想阅读更多关于规格的信息，请点击以下链接：

[http://www.whatwg.org/specs/web-apps/current-work/multipage/sections.html#the-section-element](http://www.whatwg.org/specs/web-apps/current-work/multipage/sections.html#the-section-element)

# php - 需要正则表达式帮助来匹配 Google 图片模式

> ID：14778142
> 
> 赞同：0
> 
> 时间：2013-02-08T17:33:38.693
> 
> 标签：php, regex

我需要 PHP 正则表达式函数来匹配 Goolge Images Urls。实际上，我想从托管在 Google 服务器上的数据库中获取所有图像 URL。

谷歌图片网址看起来像这样。

> [https://lh3.ggpht.com/I5NYwBKCBphMQvQLC7DWgTbMabYxqrwR83wEe2o4IryOJBfcndjz4ZN4cc2rMNPlCA=w124](https://lh3.ggpht.com/I5NYwBKCBphMQvQLC7DWgTbMabYxqrwR83wEe2o4IryOJBfcndjz4ZN4cc2rMNPlCA=w124)

请有人帮我准备 PHP 函数，它以这种模式获取所有 url....

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T17:47:32.150

所以从你提供的我猜

```
/https:\/\/\w\w\d\.\w+\.com\/[\w-]+=w\d{3}/ 
```

应该足够了（简而言之：HTTPS 协议、三级`.com`域、长字母数字路径，后跟等号、字母`w`和像素数）。

# c# - Tesseract 是否需要一个库来检测 PNG 文件？

> ID：14778145
> 
> 赞同：1
> 
> 时间：2013-02-08T17:33:43.690
> 
> 标签：c#, png, ocr, tesseract, leptonica

我正在运行 Tesseract 2.04 来读取 PNG 文件，但出现此错误：-

```
Tesseract Open Source OCR Engine
name_to_image_type:Error:Unrecognized image type:png.png
IMAGE::read_header:Error:Can't read this image type:png.png
Tessedit:Error:Read of file failed:png.png
Signal_exit 31 ABORT. LocCode: 3  AbortCode: 3 
```

我到处搜索并尝试了几件事，但找不到根本原因。有些页面暗示安装一些 Leptonica 库，但没有具体说明。似乎每个人的 Tesseract 版本默认都可以读取 PNG 文件。我会错过什么？

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-11T00:03:32.810

Tesseract 2.04 仅接受 TIFF 格式。太旧了，顺便说一句。尝试 3.0x，它使用 Leptonica 读取其他图像格式，包括 PNG。

# bash - 在无限while循环中从管道输入中读取行

> ID：14778149
> 
> 赞同：0
> 
> 时间：2013-02-08T17:34:00.990
> 
> 标签：bash, shell, named-pipes

我在 bash 中制作了一个简单的脚本来充当 http 代理。

```
#!/usr/bin/env bash

trap "kill 0" SIGINT SIGTERM EXIT  # kill all subshells on exit

port="6000"

rm -f client_output client_output_for_request_forming server_output
mkfifo client_output client_output_for_request_forming server_output  # create named pipes

# creating subshell
(
    cat <server_output |
    nc -lp $port |  # awaiting connection from the client of the port specified
    tee client_output |  # sending copy of ouput to client_output pipe
    tee client_output_for_request_forming # sending copy of ouput to client_output_for_request_forming pipe
) &   # starting subshell in a separate process

echo "OK!"

# creating another subshell (to feed client_output_for_request_forming to it)
(
    while read line;  # read input from client_output_for_request_forming line by line
    do
        echo "line read: $line"
        if [[ $line =~ ^Host:[[:space:]]([[:alnum:].-_]*)(:([[:digit:]]+))?[[:space:]]*$ ]]
        then
            echo "match: $line"
            server_port=${BASH_REMATCH[3]}  # extracting server port from regular expression
            if [[ "$server_port" -eq "" ]]
            then
                server_port="80"
            fi
            host=${BASH_REMATCH[1]}  # extracting host from regular expression
            nc $host $server_port <client_output |  # connect to the server
            tee server_output  # send copy to server_output pipe
            break
        fi
    done

) <client_output_for_request_forming

echo "OK2!"

rm -f client_output client_output_for_request_forming server_output 
```

我在第一个终端启动它。它输出`OK!`

在第二个我输入：

```
netcat localhost 6000 
```

然后开始输入文本行，期望它们显示在第一个终端窗口中，因为有一个循环`while read line`。但什么都没有显示。

我做错了什么？我怎样才能让它工作？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T17:53:17.303

如果没有进程从`client_output`fifo 读取，则后台管道未启动。由于读取的进程`client_output`直到从 读取一行才开始`client_output_for_request_forming`，因此您的进程被阻止。

# c# - 在下拉选择中禁用 MenuStrip 自动隐藏

> ID：14778151
> 
> 赞同：2
> 
> 时间：2013-02-08T17:34:07.277
> 
> 标签：c#, .net, winforms, drop-down-menu, menustrip

当我从菜单条控件的下拉列表中选择任何选项时，其 Click 事件中的代码将被触发并且下拉列表折叠。但我希望下拉菜单必须保持打开状态。

请帮忙

![](../Images/df072d1dc931a7ff2e101638a5d85482.png)

如果我在单击此菜单中的项目时打开一个对话框，则打开的菜单始终保留在对话框的前面。怎么寄回去？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-08T18:08:39.440

如果`Reception`是类型`ToolStripMenuItem`，你可以这样做：

```
Reception.DropDown.AutoClose = false; 
```

您需要为 Lab、Admin .. 执行此操作，如果您希望他们获得相同的效果。

PS：即使失去焦点，菜单也会保持打开状态。所以你需要手动/以编程方式关闭它。

或者（我认为更有效），处理下拉菜单的关闭事件，如果[CloseReason](http://msdn.microsoft.com/en-us/library/system.windows.forms.toolstripdropdownclosereason.aspx)为`ItemClicked`.

```
Reception.DropDown.Closing += new ToolStripDropDownClosingEventHandler(DropDown_Closing);

private void DropDown_Closing(object sender, ToolStripDropDownClosingEventArgs e)
    {
        if (e.CloseReason == ToolStripDropDownCloseReason.ItemClicked || e.CloseReason == ToolStripDropDownCloseReason.AppFocusChange)
           e.Cancel = true;
    } 
```

# microsoft-test-manager - 如何在 C# 测试方法中捕获当前在 MTM 中运行的测试用例 ID

> ID：14778157
> 
> 赞同：1
> 
> 时间：2013-02-08T17:34:20.340
> 
> 标签：microsoft-test-manager, visual-studio-test-runner

如何使用 C# 代码以务实的方式捕获当前在 MTM 中运行的当前测试用例 ID？

感谢和问候，

伍德森

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-26T09:53:25.347

有同样的问题并找到了答案：[how-to-retrieve-the-id-of-the-workitem-that-started-an-automated-test](https://stackoverflow.com/questions/17995330/how-to-retrieve-the-id-of-the-workitem-that-started-an-automated-test/18272068#18272068)

基本上你从`TestContext`with`string tcId = TestContext.Properties["__Tfs_TestCaseId__"].ToString();`

# r - 力导向图绘制：编辑特定节点之间的力（R）

> ID：14778159
> 
> 赞同：4
> 
> 时间：2013-02-08T17:34:31.723
> 
> 标签：r, graph, social-networking, igraph, graph-drawing

我想使用 R 包 statnet 和/或 igraph 来分析社交网络，以参考力导向图形绘图 (kamada.kawai/fruchterman.reingold)。如果可以调整 2 个特定节点之间的“力”，例如考虑 2 个利益相关者之间更大或更小的合作。但是，我不想编辑所有节点之间的一般力

（如此处提议的：）

[如何延长 igraph 网络图中的边缘（布局=fruchterman.reingold）？](https://stackoverflow.com/questions/5968612/how-do-i-lengthen-edges-in-an-igraph-network-plot-layout-fruchterman-reingold)

这样做的想法是获得更真实的社交网络图像，也用于进一步分析。

非常感谢大家，周末愉快！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-09T02:48:34.347

此布局算法支持边缘权重，它基本上用作沿边缘的吸引力的乘数。即具有高权重的边缘往往会更短。这是一个简单的例子

```
library(igraph)

g <- graph.ring(10)

# Edge weights, will be recycled
E(g)$weight <- c(1,4)
coords <- layout.fruchterman.reingold(g, weights=E(g)$weight)

# Eliminate the margin
par(mar=c(0,0,0,0))
plot(g, layout=coords, vertex.color="#E495A5", vertex.size=20) 
```

![阴谋](../Images/58bcaadc7f2204e2ea38cb1c5523bd6a.png)

# php - 解析电子邮件并将附件保存到目录中的问题

> ID：14778161
> 
> 赞同：0
> 
> 时间：2013-02-08T17:34:57.680
> 
> 标签：php

我正在使用此脚本（[http://stuporglue.org/mailreader-php-parse-e-mail-and-save-attachments-php-version-2/](http://stuporglue.org/mailreader-php-parse-e-mail-and-save-attachments-php-version-2/)）将电子邮件附件保存在我的服务器上。您还可以在浏览器上查看完整的脚本：http: [//stuporglue.org/downloads/mailReader.txt](http://stuporglue.org/downloads/mailReader.txt)

一切正常，但这里有两个问题。

1）我保存到目录中的图片文件名不是图片：1360341823_test_jpg

```
How to convert the file name from 1360341823_test_jpg to 1360341823_test.jpg 
in the script? 
```

2) 目录中保存的文件的权限为600。

```
How to make it default 755 or 775? 
```

我相信这是在脚本中转换图像的功能。：

```
function saveFile($filename,$contents,$mimeType){
global $save_directory,$saved_files,$debug;
$filename = preg_replace('/[^a-zA-Z0-9_-]/','_',$filename);

$unlocked_and_unique = FALSE;
  while(!$unlocked_and_unique){
    // Find unique
    $name = time()."_".$filename;
      while(file_exists($save_directory.$name)) {
        $name = time()."_".$filename;
      }

    // Attempt to lock
    $outfile = fopen($save_directory.$name,'w');
      if(flock($outfile,LOCK_EX)){
        $unlocked_and_unique = TRUE;
      } else {
        flock($outfile,LOCK_UN);
        fclose($outfile);
      }
  }

fwrite($outfile,$contents);
fclose($outfile);

  // This is for readability for the return e-mail and in the DB
  $saved_files[$name] = Array(
    'size' => formatBytes(filesize($save_directory.$name)), 
    'mime' => $mimeType
  );
} 
```

有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:45:06.770

原始脚本使用数据存储在数据库中，但我认为您正试图将其保存在文件中。您在此处创建不带扩展名的文件：

```
 // Attempt to lock
    $outfile = fopen($save_directory.$name,'w'); 
```

在该行之后添加 .jpg 为：

```
 #outfile.=".jpg"; 
```

其他方式，如果您不想更改脚本，那么您可以用作：

```
 $contents = file_get_contents($save_directory.$name);
 $outfile = fopen($save_directory.$new_name,'w');
 write($outfile,$contents);
 fclose($outfile); 
```

这将解决您的第一个问题，对于第二个问题，请使用提供的 FTP 或控制面板来访问文件以更改所有权。如果您不知道任何事情，请联系您的虚拟主机服务提供商以分享从 755 到 775 的所有权

# java - 在 iText java pdf 中设置表格单元格宽度

> ID：14778165
> 
> 赞同：13
> 
> 时间：2013-02-08T17:35:02.720
> 
> 标签：java, itext

我正在使用开源[http://itextpdf.com/](http://itextpdf.com/)来创建一些 pdf 。

我可以创建一个表，但所有列的宽度都相同，我需要更改特定列的宽度。

```
PdfPTable table = new PdfPTable(6);
Phrase tablePhrse = new Phrase("Sl n0", normalFontBold);
    PdfPCell c1 = new PdfPCell(tablePhrse);
    c1.setHorizontalAlignment(Element.ALIGN_CENTER);
    table.addCell(c1); 
```

我找不到任何方法来设置列的宽度，请建议一些方法来实现这一点..

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-02-08T18:32:55.740

您可以使用 setWidths() 方法。

```
table.setWidths(new int[]{200,50}); 
```

[公共无效 setWidths(int[] relativeWidths)](http://www.docjar.org/docs/api/com/lowagie/text/pdf/PdfPTable.html#setWidths%28float%29)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2017-04-04T09:13:54.503

尝试这个。

```
float[] columnWidths = new float[]{10f, 20f, 30f, 10f};
table.setWidths(columnWidths); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-12-18T08:01:46.213

`table.setWidths(new int[]{200,50});`如果不起作用 ，这是更正的一个。

```
innertable.setWidthPercentage(50); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-01-28T14:44:49.267

确保设置表格总宽度

```
// Set Column Number
PdfPTable table = new PdfPTable(2);

// Set Table Total Width
table.setTotalWidth(500);

// Set Each Column Width - Make Sure Array is the same number specified in constructor
table.setWidths(new int[]{50, 450}); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2019-04-02T08:58:43.927

```
float[] columnWidths = {1, 5, 5};

// columnWidths = {column1, column2, column3...}

PdfPTable table = new PdfPTable(columnWidths) 
```

# javascript - 将数据从 html/js 返回到 python

> ID：14778167
> 
> 赞同：8
> 
> 时间：2013-02-08T17:35:03.360
> 
> 标签：javascript, python, python-webbrowser

我有一个由 javascript 函数填充的 html 表单。我有另一个 javascript 函数，它获取所有表单元素的值，目前只使用警报将它们显示给用户。html页面通过python显示，代码如下：

```
import webbrowser
new = 2 #open new tab if possible
url = "form.html"
webbrowser.open(url, new=new) 
```

这一切都很好，但是我不想使用警报显示数据，而是想将数据传回 python，但不知道如何。所有的数据都存储在一个 javascript 数组中，所以我基本上只需要传递这一条数据。

编辑：我不能使用任何外部库。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-08T17:51:29.723

```
>>> import json
>>> weird_json = '{"x": 1, "x": 2, "x": 3}'
>>> x = json.loads(weird_json)
>>> x
{u'x': 3}
>>> y = json.loads('["foo", {"bar":["baz", null, 1.0, 2]}]')
>>> y
[u'foo', {u'bar': [u'baz', None, 1.0, 2]}] 
```

您可以获取 HTML 数据，并将其转换为字典，从而使您能够： `print x['x']`

这是起点，在 Python 中创建一个侦听端口的套接字。然后让它接收数据。

在 Javascript 中，打开一个可以连接到端口（Python 侦听的端口）的套接字。使用，比如说：[http ://socket.io/](http://socket.io/)

这是一个纯粹的套接字到套接字相关的问题吗？

## Python 和 Javascript 之间的工作关系（在 80 端口上）：

```
from socket import *
import json
s = socket()
s.bind(('', 80))
s.listen(4)
ns, na = s.accept()

while 1:
    try:
        data = ns.recv(8192)
    except:
        ns.close()
        s.close()
        break

    data = json.loads(data)
    print data 
```

在那里你有一个监听 80 的套接字，连接到它并发送你想要的任何东西。

```
function callPython()
{
var xmlhttp;
if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
xmlhttp.onreadystatechange=function()
  {
  if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
    document.getElementById("myDiv").innerHTML=xmlhttp.responseText;
    }
  }
xmlhttp.open("GET","Form-data",true);
xmlhttp.send();
} 
```

例如，您可以将表单数据作为字符串发送，替换“Form-data”，来自 Python 的响应可以放入“myDiv”:)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T18:01:13.480

像[Ghost.py](http://jeanphix.me/Ghost.py/)这样的东西应该能够做你想做的事。

这允许对 JavaScript 进行评估。

```
result, resources = ghost.evaluate(
    "document.getElementById('my-input').getAttribute('value');") 
```

这应该有帮助。

我使用[PhantomJS](http://phantomjs.org) JS 无头 webkit 浏览器，这是使用 Python 的一个端口和/或改造。

* * *

在我的用例中，我只是从中调用了[PhantomJS](http://phantomjs.org)，`subprocess.call`因为我懒得安装`Ghost`依赖项。

我只是将 JSON 发射到`stdout`它`json.loads`上面。

# module - import cvxopt.base：找不到指定的模块

> ID：14778178
> 
> 赞同：13
> 
> 时间：2013-02-08T17:35:46.667
> 
> 标签：module, python-3.x

我是 Python 新手，刚刚为我的 Python3.3 系统（64 位）安装了 cvxopt 模块。安装成功，但是当我输入`"import cvxopt"`Python命令行时，它返回了一个错误：

> 文件“C:\Program Files (x86)\Python\lib\site-packages\cvxopt__init__.py”，第 33 行，在 import cvxopt.base ImportError: DLL load failed: 找不到指定的模块。

谁能帮我解决这个问题？非常感谢！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2014-06-13T21:26:39.757

在导入 cvxopt 之前需要先导入 numpy。

```
import numpy
import cvxopt 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2018-05-24T18:50:40.280

您需要将 YourPythonPath\Library\bin 添加到 PATH 环境变量中。就我而言，它是 C:\Python36-64\Library\bin

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2017-06-05T02:24:29.063

包 CVXOPT 需要 numpy+mkl，你可以尝试卸载 numpy 包并从[http://www.lfd.uci.edu/~gohlke/pythonlibs/#numpy](http://www.lfd.uci.edu/~gohlke/pythonlibs/#numpy)重新安装 numpy+mkl ，然后导入 CVXOPT，它会工作。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-11-30T09:18:55.613

dll 加载问题的原因很可能是一个非常不同的原因。最新的 Anaconda 版本（例如 Anaconda 5.0.1）具有支持 MKL 的 Numpy。这**不是**问题。我通过使用 conda list 查看已安装的软件包来验证这一点。问题是 cvxopt 需要一些 dll，这些 dll 在目录中

```
C:\Anaconda3\envs\foo\Library\mingw-w64\bin 
```

如果您安装 Anaconda 并且**不在**系统路径上注册 Anaconda python（无论如何这是他们建议的设置），然后使用 Anaconda 提示设置新环境（注意当前版本的 cvxopt 您需要 Python 3.5）

```
conda create -n foo python=3.5
activate foo

conda install cvxopt 
```

并导入 cvxopt

```
(foo) C:\tmp>python
Python 3.5.4 |Anaconda, Inc.| (default, Nov  8 2017, 14:34:30) [MSC v.1900 
64 bit (AMD64)] on win32
Type "help", "copyright", "credits" or "license" for more information.
>>> import cvxopt
>>> 
```

一切都应该正常工作。如果您检查 Anaconda 相关的路径设置，您会发现

```
C:\Anaconda3\envs\foo;
C:\Anaconda3\envs\foo\Library\mingw-w64\bin;
C:\Anaconda3\envs\foo\Library\usr\bin;
C:\Anaconda3\envs\foo\Library\bin;
C:\Anaconda3\envs\foo\Scripts; 
```

如果你现在从路径中删除 C:\Anaconda3\envs\foo\Library\mingw-w64\bin 你又回到了问题

```
C:\tmp>python
Python 3.5.4 |Anaconda, Inc.| (default, Nov  8 2017, 14:34:30) [MSC v.1900 
64 bit (AMD64)] on win32
Type "help", "copyright", "credits" or "license" for more information.
>>> import cvxopt
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "C:\Anaconda3\envs\tf14\lib\site-packages\cvxopt\__init__.py", line 32, in <module>
    import cvxopt.base
ImportError: DLL load failed: The specified module could not be found.
>>> 
```

但是还有另一个与 PyCharm 相关的问题：如何在 PyCharm 中正确使用 Anaconda envs？PyCharm 无法处理环境所需的其他路径。至少不是开箱即用，或者我没有找到正确的方法。欢迎任何建议。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2018-06-05T02:25:25.327

我修好了它。只需将路径 C:\Python36\Library\bin 添加到 PATH 环境变量中，就像 Artashes Khachatryan 所说的那样。当我导入 cvxopt 库时，它运行 base.cp36-win_amd64 文件，该文件需要 bin 文件夹中的 dll。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-07-16T13:14:48.687

cvxopt.base 构建为一个 pyd 文件（本质上是一个 Windows DLL）。它应该位于“C:\Program Files (x86)\Python\lib\site-packages\cvxopt”中。检查此目录是否在您的 PYTHONPATH 中。如果不是，您可以从命令行将目录附加到您的路径，如下所示：

```
import sys
sys.path.append("C:\Program Files (x86)\Python\lib\site-packages\cvxopt") 
```

希望有帮助！

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2018-02-17T04:08:04.477

我在导入 cvxopt 模块时遇到了同样的 ImportError 问题。由于 cvxopt 支持 python 2.7-3.5 版本，我首先使用 python 3.5 创建了一个 conda 虚拟环境，步骤如下：

1.  打开 Anaconda 提示
2.  conda create -n python=3.5
3.  康达激活

在激活的 conda 环境中使用命令安装 cvxopt 包： conda install cvxopt

这将安装 cvxopt 包和所有依赖项。

安装后通过在 Anaconda 提示符下键入 spyder 打开 spyder，这将使用您创建的虚拟环境打开 Spyder。

在此 cvxopt 包将正常工作后，不会出现任何错误。

注意：我一直在尝试在 Pycharm 中打开虚拟环境，但没有成功，最后切换到了 spyder。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2018-03-26T21:10:56.577

我遇到了同样的问题，解决方法是迁移到 python 3.5（通过创建虚拟环境）。请注意，不幸的是 cvxopt 不适用于 python 3.6。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2018-03-30T12:17:03.593

我在 PyCharm 2018.1 中结合 Conda 环境工作时遇到了这个问题。当我从 Anaconda 终端运行以下命令时，一切正常：

```
conda activate cvxopt_test
python -c "import cvxopt" 
```

但是，`import cvxopt`在 PyCharm 中运行时，会引发您描述的错误。正如丹尼尔在他的回答中提到的，这与 windows PATH 变量有关`(os.environ['PATH'])`。PyCharm 在运行代码时不添加 cvxopt 文件夹。对我来说，避免错误的最小工作示例是：

```
import os
# add the folder containing the DLL to the PATH variable
os.environ['PATH'] += r';C:\Anaconda3\envs\foo\Library\mingw-w64\bin' 
```

尽管以相同的方式将 Daniel 提到的所有文件夹添加到 PATH 变量中可能是明智的。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2019-10-28T15:41:40.187

1.  打开“系统属性”窗口，然后单击“高级”选项卡。
2.  单击底部的环境变量按钮。
3.  在用户变量部分中，选择路径并单击编辑。
4.  将包含 mkl_rt.dll 的目录添加到路径中。

# java - 康威的生命过剩游戏？

> ID：14778182
> 
> 赞同：0
> 
> 时间：2013-02-08T17:36:17.523
> 
> 标签：java, simulation

我正在研究康威的生命克隆游戏，因为这是一种很好的做法，但我遇到了问题。我看到有像素删除和重生，但所有像素只是散布在屏幕的最末端，然后其他像素正在重生，但那时它只是空闲。

以下是一些截图： ![](../Images/fff42de309a48cb81403ec4b1d960744.png) ![在此处输入图像描述](../Images/e7eb35b97654ea245cdfa2d4a51bfabb.png)

我将向您展示我的一些代码以了解此逻辑。这一切都在`change`方法中处理：

```
package main;

import java.awt.Color;
import java.awt.Graphics;

public class Functions {

  public static int pixelsize=6,gridwidth=800/6,gridheight=600/6;
  static int[][] pixels = new int[gridwidth][gridheight];
  static boolean first = true;

  public static void change(){

    for(int i = 0; i < gridwidth; i++){
      for(int j = 0; j < gridheight; j++){
        int neighbors = 0;
        //check each cell

        try{

          if(pixels[i+1][j] == 1){neighbors++;}
          if(pixels[i-1][j] == 1){neighbors++;}
          if(pixels[i+1][j-1] == 1){neighbors++;}
          if(pixels[i][j+1] == 1){neighbors++;}
          if(pixels[i][j-1] == 1){neighbors++;}
          if(pixels[i+1][j+1] == 1){neighbors++;}
          if(pixels[i-1][j-1] == 1){neighbors++;}
          if(pixels[i-1][j+1] == 1){neighbors++;}

        }catch(ArrayIndexOutOfBoundsException e){

        }

        if(neighbors == 3 || neighbors == 2 ){
          pixels[i][j] = 1;
        }else if(neighbors < 2 || neighbors >= 4){
          pixels[i][j] = 0;
        }
      }
    }
  }

  public static void render(Graphics g){

    for(int i = 0; i < gridwidth;i++){
      for(int j = 0; j < gridheight; j++){
        if(pixels[i][j] == 1){

          g.setColor(Color.red);
          g.fillRect(i*6, j*6, 6, 6);
        }
      }
    }
  }
} 
```

感谢所有的帮助。可悲的是，它仍然无法正常工作。
现在它正在做同样的事情，但是像这样形成菱形：
![在此处输入图像描述](../Images/d7280f47923495b185cb565fe5a98ac5.png)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-08T17:39:45.823

我在这里看到的主要问题是您在发现值的同时更新它们。

您应该在更新之前缓存整个网格（或至少是邻居计数），否则，当您更新 处的元素时，您正在通过计算当前迭代的结果`(x, y)`来更改连续为 的元素的邻居计数`(x+1,y)`。`(x+1,y+1)``(x,y+1)`

例如，您可以像这样更新一个名为 cachedPixels 的单独数组：

```
for(int i = 0; i < gridwidth; i++){
    for(int j = 0; j < gridheight; j++){
        int neighbors = 0;
        // find the proper boundaries
        int minI = Math.max(0, i - 1);
        int maxI = Math.min(gridwidth, i + 2)
        int minJ = Math.max(0, j - 1);
        int maxJ = Math.min(gridheight, j + 2)

        for (int i2 = minI; i2 < maxI; i2++) {
           for (int j2 = minJ; j2 < maxJ; j2++) {
              if (i2 != i || j2 != j) {
                 if (pixels[i2][j2] == 1) {
                    neighbors++;
                 }
              }
           }
        }

        if (neighbors == 2 || neighbors == 3) {
           cachedPixels[i][j] = 1;
        } else {
           cachedPixels[i][j] = 0; // probably not even necessary as 0 is default value
        }
    }   
} 
```

然后在使用 arraycopy 函数对整个数组集完成此过程后：

```
for (int i = 0; i < length; i++) {
    System.arraycopy(cachedPixels[i], 0, pixels[i], 0, cachedPixels[i].length);
} 
```

简单地设置pixels = cachedPixels 会将“pixels”指向“cachedPixels”数组，因此改变一个会改变另一个，系统就会崩溃。

PS 您用于 GoL 的规则与 John H. Conway 的不同。如果细胞有 3 个邻居，则细胞总是在下一个时间步存活，并且只有在这个时间步还活着的情况下，它们才能与 2 个邻居一起在下一个时间步存活，否则它们会死亡：

```
cachedPixels[i][j] = 0; // Default value - death.
if (neighbors == 3) {
   cachedPixels[i][j] = 1;
} else if (thisCell == 1 && neighbors == 2) {
   cachedPixels[i][j] = 1;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T17:41:49.533

您的新生像素不应被视为*此*移动的邻居，而您的死亡像素*应*被计算在内。它可以通过为新生像素和垂死像素设置另一个值来实现，例如`2`和。`3`处理完该字段后，您通过用 替换新生儿的值和死亡的值来*提交*它的状态。`1``0`

# stored-procedures - SSIS 执行 SQL 查询任务找不到存储过程

> ID：14778184
> 
> 赞同：4
> 
> 时间：2013-02-08T17:36:21.993
> 
> 标签：stored-procedures, ssis, task, executequery

我正在处理现有的 SSIS 包以向其添加自定义日志记录。我正在尝试对其进行测试，并且我有一个未创建的执行 SQL 任务，它出现以下错误。

执行查询

> “ap_pfl_DropProfileTables”

失败并出现以下错误：

> “找不到存储过程 'ap_pfl_DropProfileTables'。”。可能的失败原因：查询有问题，“ResultSet”属性设置不正确，参数设置不正确，或连接未正确建立。

我不知道为什么会收到此错误，因为：

1.  我没有创建或更改它，并且这个包在生产中运行时没有错误。
2.  存储过程只是截断两个表。它没有结果集或参数。
3.  连接工作正常，因为此存储过程与另一个运行数据流任务的线程同时运行，该任务成功运行并使用此包中仅有的两个连接。
4.  我已经对数据库进行了两次和三次检查，以确保存储过程在那里并且拼写正确。我什至检查了存储过程中字母的大小写。

有想法该怎么解决这个吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-11-04T18:38:22.490

是的，这令人沮丧-但可行。关键是不要使用 ADO.NET 连接管理器，而是使用老式的 ADO 连接管理器。第二个关键是不要在执行 SQL 任务编辑器的 SQLStatement 属性中使用 EXEC 或 EXECUTE。只需输入存储过程的名称（也可以使用 3 部分名称约定 database.schema.storedprocedure。）

我还没有在存储过程中使用参数尝试过这个。另外，我还没有尝试过使用 OLE DB 连接管理器。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-06-18T08:54:53.813

我知道这是一个旧线程，但我在 SQL 2008 R2 上使用 SSIS 时遇到了这个问题。

对于使用 ADO.NET 连接的我来说，我实际上必须设置`IsQueryStoredProcedure`为`False`，然后错误就消失了。我用`EXEC`不用都没关系。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-12-10T19:51:39.863

我自己遇到了这个问题，这就是我所做的（使用 ADO.NET 连接）

在 SQLStatement 字段中，我输入了存储过程的名称 (dbo.myStoredProc)。然后我将 IsQueryStoredProcedure 属性设置为“True”

我在想，当 IsQueryStoredProcedure 设置为 true 时，对象会自动在 EXEC 前面添加以识别该命令是存储过程调用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-03-26T01:16:58.310

在遇到同样的问题后，我对此进行了一些调查：

具体我的情况是：

1.  我需要使用 ADO.Net，因为我正在针对 SQL Azure 运行
2.  我想捕获存储过程的返回值

# 首先我尝试了这个：

在*SQLStatement*中，我输入了 proc 名称（没有 EXEC）

```
myschema.MyProc; 
```

在*IsQueryStoredProcedure*我把*False*

在*ResultSet*我放了*None*

在我输入的*参数映射*选项卡中

```
Variable Name      Direction    Data Type    Parameter Name   Parameter Size
User::MyVariable  ReturnValue     Int32            0                 -1 
```

这运行没有错误，但不捕获返回值。

我*假设*如果您将*IsQueryStoredProcedure*设置为 true，它应该正确连接所有这些。但它会返回一个错误。

这[https://technet.microsoft.com/en-us/library/cc280502(v=sql.110).aspx](https://technet.microsoft.com/en-us/library/cc280502(v=sql.110).aspx)表示在使用 ADO.Net 时捕获返回值“Set IsQueryStoreProcedure 设置为 True”。但它返回的错误是 OP

# 作为一种解决方法，我这样做了：

```
DECLARE @R INT
EXEC @R = MySchema.MyProc;
SELECT @R 
```

我*将 IsQueryStoredProcedure 保留*为*False*

我将 ResultSet 设置为单行

我删除了参数映射，而是映射了一个结果集：

```
Result Name  Variable Name
     0          User::MyVariable 
```

# c# - 用于 Windows 的简单 XNA Gui 框架

> ID：14778186
> 
> 赞同：3
> 
> 时间：2013-02-08T17:36:26.157
> 
> 标签：c#, user-interface, frameworks, xna

我搜索了一个简单的 Windows XNA Gui 框架并找到了“Ruminate XNA 4.0 GUI”（[http://xnagui.codeplex.com/](http://xnagui.codeplex.com/)），但它没有列表或表格，我不想写他们自己。

有谁知道一个好的和简单的框架（最好是 sth。就像 Valve 在他们的游戏中使用的，比如 Counter-strike 和 dota）但是 sth。Ruminate FW 也很简单。

我希望找到某事。我在附近的列表中找不到。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-08T17:41:15.563

XNA GUI 框架现在有几个不同的选项，包括：

*   [数字符文](http://www.digitalrune.com/Products/GameEngine/GameUI.aspx)
*   [乌贼](http://www.ionstar.org/?page_id=4%29)
*   [OrbUI](http://www.thespoofnet.com/Downloads)
*   [反刍 XNA 桂](http://xnagui.codeplex.com/)
*   [XNA 用户界面系统](http://xui.codeplex.com/)
*   [核](http://nuclexframework.codeplex.com/wikipage?title=Nuclex.UserInterface&referringTitle=Home)

（请注意，前三个是商业产品。）

# google-maps - 谷歌海拔的河流高度 - 底部或表面？

> ID：14778188
> 
> 赞同：0
> 
> 时间：2013-02-08T17:36:30.730
> 
> 标签：google-maps, google-maps-api-3

伙计们，

我正在开发一个使用 Google Elevation 的 Web 应用程序，现在我想获得河流高度。有人知道 Elevation 返回的高度是来自河底还是河面？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-10T14:14:16.133

以湖为例，它将是顶部。然而，为了证明这一点，您需要沿着一条穿过一条非常深的河流的路径找到海拔高度。

![奇兰湖海拔](../Images/d96a32c327fd33a27993c80099896040.png)

这是穿过深度超过 1400 英尺的奇兰湖的小径上的海拔高度。

# c - NSight VS Edition - 它是否包含在 CUDA 5.0 工具包中以及如何使用它？

> ID：14778190
> 
> 赞同：-1
> 
> 时间：2013-02-08T17:36:41.500
> 
> 标签：c, cuda, nvidia

你能告诉我如何在 VS 2010 中启动 NSight 吗？我已经正确下载并安装了 CUDA 工具包 5.0。有没有关于如何使用 NSight 以及它有什么作用的教程？

PS 有没有关于 CUDA 的书和任何没有一百万错误的 CUDA 版本？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T17:50:58.867

Nsight Visual Studio Edition 是一个单独的下载。当前版本是 Nsight 3.0 RC1。安装程序可以从 NVIDIA 注册开发者计划免费下载。

[Nsight Visual Studio 版主页](https://developer.nvidia.com/nvidia-nsight-visual-studio-edition)包含下载 Nsight的链接以及指向用户指南、入门文档和网络研讨会的链接。

# url-rewriting - 将 AWS URL 转换为更短的内容（无数据库）

> ID：14778191
> 
> 赞同：1
> 
> 时间：2013-02-08T17:36:40.987
> 
> 标签：url-rewriting, amazon-web-services, hex, ascii

我们在我们的网站上提供了一堆实际托管在 AWS 上的图像，它们都被命名为 0E261DDA-CBB7-4B99-B863-6D7640DC2FD8.jpg。为了简单起见，通过我们网站访问这些图像的路径基本上保持图像的相同名称 - 我们只是去掉破折号以使其更短一点。

但由于我们将通过 twitter 分享这些图像的路径，我们希望字符串更短，但我们不想使用数据库来缩短 URL（滚动我们自己的或使用其他人的） . 宁愿只对字符串进行无损压缩方案。

鉴于 AWS 名称显然只使用十六进制字符，似乎将其转换为 ascii（在删除破折号之后）至少会给我们带来一点压缩，并且很容易将查找返回到实际服务器上的路径。

任何人都已经/看过一些代码可以吐出与上述十六进制字符串等效的 URL 安全 ascii 吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T19:00:15.563

使用更高的基数。十六进制是以 16 为基数的。您可以使用更高的基数（36 在 url shortners 中很常见，但您最多可以达到 62（10 个数字，26 个大写字母 26 个小写字母）

你的基数 16 字符串：

```
0E261DDACBB74B99B8636D7640DC2FD8 
```

在基数 36 中：

```
U5LC6FOS2F9E70WW3KAT3KK8 
```

在 base 62 中（不太可靠，区分大小写）：

```
QhJL1gbuZhsyJOIQ3ia0u 
```

# ruby - 如何使用一个参数对方法进行柯里化

> ID：14778192
> 
> 赞同：1
> 
> 时间：2013-02-08T17:36:51.393
> 
> 标签：ruby

这是我的代码：

```
def f x
  x
end

g = method(:f).to_proc.curry.(123)

p g 
```

我想`g`成为一个不带参数并适用`123`于`f`. 相反，`g`包含应用程序的结果。

我这样做是不是很复杂？

编辑：是的，`g = lambda {f 123}`有效，但我在问如何咖喱`f`。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T17:50:01.857

[咖喱](http://www.ruby-doc.org/core-1.9.3/Proc.html#method-i-curry)的文档说

> 如果提供了足够数量的参数，它会将提供的参数传递给原始 proc 并返回结果。

所以在这种情况下，从理论的角度来看，你并没有真正对你的函数进行柯里化，但实际上你已经做到了。这

```
g = lambda {f 123} 
```

似乎更接近返回函数的精神，然后您可以调用该函数进行评估，至少在确定所有参数后。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2016-02-12T19:51:19.617

也许您想将函数包装`f`在 a `lambda`（评估 f）中。然后你可以对`lambda`表达式进行柯里化，如下所示：

```
g = lambda{f 123}.curry
p g[] // or g.call 
```

现在`g`是可调用的，不带参数。

# java - 如何将字符串的值从其他类获取到Android中的类？

> ID：14778196
> 
> 赞同：-2
> 
> 时间：2013-02-08T17:37:09.813
> 
> 标签：java, android, constructor

我的代码是这样的，创建了一个构造函数。我想从 homepage.java 访问字符串到 login.php。但是android给了我一个错误“不允许访问构造函数”..我做错了吗？请帮忙。主页.java

```
public class HomePage extends Activity {

private Button clBtn;
private Button bcBtn;
private Button atBtn;
public String ip="";

 HomePage()
 {
    this.ip = "http://111.111.11.1/sp/";
 }

    public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.home_page);
    }
} 
```

登录.java

```
public class Login extends Activity {

private EditText etFacNo; 
private EditText etPassword;
private Button loginBtn;
HomePage getIP = new HomePage();
String url = getIP.ip;

public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.login_page);

    .
    .
    .
    .
    .
    HttpClient httpclient = new DefaultHttpClient();
    HttpPost request = new HttpPost(url+"loginteacher.php");

}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T17:43:10.800

[http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html](http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html)

您已经声明了`HomePage`没有*修饰符*的构造函数。这意味着只有同一个包中的类才能调用它，这就是您收到该错误的原因。

```
HomePage()
{
    ... 
```

做了`public`

```
public HomePage()
{
    ... 
```

# php - 从 php 文件更新 wordpress 帖子

> ID：14778198
> 
> 赞同：0
> 
> 时间：2013-02-08T17:37:11.187
> 
> 标签：php, wordpress

使用 update_post_meta，我可以调用 php 文件来更新帖子吗？

**updatePost.php**

```
<?php update_post_meta(7789, 'wpcf-ticket-location', 'Location1'); ?> 
```

这在调用 php 文件时不起作用。阅读 wordpress 文档后，我真的不明白这个 update_post_meta 是如何工作的。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T18:18:27.190

您必须调用 wp-config 文件才能在 php 文件中调用 update_post_meta。

# android - 使用屏幕键盘捕获活动屏幕

> ID：14778199
> 
> 赞同：1
> 
> 时间：2013-02-08T17:37:11.513
> 
> 标签：android, screenshot, android-softkeyboard

我正在尝试在 android 上捕获我的活动屏幕。我正在使用下面的代码：

```
View root = this.activity.getWindow().getDecorView().getRootView();

Bitmap b = Bitmap.createBitmap(root.getWidth(), root.getHeight(), Config.RGB_565);
Canvas c = new Canvas(b);
root.draw(c);

if (b != null && !b.isRecycled()) {
    this.screen = Bitmap.createBitmap(b);
} 
```

如果屏幕键盘弹出，那么我只有活动窗口的可见部分，`this.screen`其余部分是空白的。

有什么方法可以获取屏幕键盘下我的应用程序的屏幕截图，包括部分？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T18:51:53.297

很抱歉让您失望了，但如果没有外部援助，这是无法做到的。键盘根本不是应用程序布局的一部分。

您的“最外层”视图是`DecorView`，您已经在捕捉它。就这项技术而言。

**编辑**：我现在不能尝试，但试一试：

```
View topmost = ((ViewGroup)
     ctx.getWindow().getDecorView().findViewById(android.R.id.content)
).getChildAt(0);

topmost.setDrawingCacheEnabled(true);

Bitmap screenshot = topmost.getDrawingCache(); 
```

# php - 无法在 PHP 中注销

> ID：14778201
> 
> 赞同：-1
> 
> 时间：2013-02-08T17:37:18.300
> 
> 标签：php, .htaccess, session, logout

我已经编辑了我的`.htaccess`文件，所以表单的页面`mydomain.com/events.php?slug=1234`变成了`mydomain.com/events/1234`.

以下是来自的代码`events.php`：

我的注销代码在下面`<body>`：

```
 <?php if(isset($_SESSION['id'])){?>
     <a href="?<?php echo $url; ?>&logout" ><button>Log Out</button></a>
 <?php } ?> 
```

而且，在页面的开头，我有：

```
<?php
define('INCLUDE_CHECK',true);
require_once('13/functions/db.php');
session_name('tryst1');
session_set_cookie_params(3*7*24*60*60);
session_start();

$userid = $_SESSION['id'];
$useremail = $_SESSION['email'];
$username = $_SESSION['name'];
    $slug = $_GET['slug'];
    $url="http://mydomain.com/events/".$slug."/";
if(isset($_GET['logout']))
{
    $_SESSION = array();
    session_destroy();
    header('Location: ' . $url);
    exit;
} 
```

但是，我无法注销，显示的 URL 是：`http://www.mydomain.com/events/1234/?http://domain.com/events/1234/&logout`

需要帮忙。我究竟做错了什么？

我的起始`php`代码`events.php`是:: [http://dpaste.com/915935/](http://dpaste.com/915935/)

我的`.htaccess`文件位于：[http ://dpaste.com/915939/](http://dpaste.com/915939/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T17:40:18.767

所以你的链接是

```
href="?http://mydomain.com/events/".$slug."/&logout" 
```

你看到错误了吗？尤其是`?`一开始？将其修复为：

```
href="<?php echo $url; ?>?logout" 
```

# design-patterns - Microsoft Windows 组策略与编程有何关系？

> ID：14778202
> 
> 赞同：0
> 
> 时间：2013-02-08T17:37:18.820
> 
> 标签：design-patterns, group-policy

是继承吗？是装饰器模式吗？复合模式？战略模式？还有什么？

# android - 允许两个 Android 设备交换消息的替代方法是什么？

> ID：14778203
> 
> 赞同：0
> 
> 时间：2013-02-08T17:37:20.487
> 
> 标签：android, scalability

我打算构建一个Android应用程序。在这个应用程序中，用户必须能够在近距离（先验固定距离）时相互交流。我认为实现此模型的最简单方法是使用服务器-客户端架构，其中每条消息都从客户端发送到中央服务器，然后服务器将消息转发到目标客户端。

```
CLIENT A ---M---> SERVER ---M---> CLIENT B 
```

但是这种方式系统无法扩展，并且在有很多客户端的情况下，服务器将成为瓶颈。

我想问有哪些替代方案（在 Android 上）允许两部智能手机在彼此靠近时以双向方式进行通信和交换消息。

```
CLIENT A ---> CLIENT B    CLIENT C ---> CLIENT D
CLIENT A <--- CLIENT B 
```

例如，假设距离足够小，是否有可能基于蓝牙的解决方案？或者可以在两个设备之间打开一个 TCP/UDP 套接字？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T17:46:42.697

您可以使用 NFC（如果设备有）通过蓝牙或 WiFi Direct 配对设备。如果您没有 NFC，没有它的简单蓝牙配对仍然可以工作，NFC 只是让它变得方便。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T17:43:55.903

我使用过这个服务器解决方案，非常棒：[http ://www.rabbitmq.com/](http://www.rabbitmq.com/)

RabbitMQ 是一个消息服务，具有非常棒的 Android 界面。

我无法谈论您将如何实现蓝牙或 TCP/UDP。

# matlab - 单独的 Matlab 编辑器模块？

> ID：14778204
> 
> 赞同：2
> 
> 时间：2013-02-08T17:37:29.360
> 
> 标签：matlab, editor, warnings

是否可以拥有 Matlab 编辑器，而无需拥有整个 Matlab？Matlab 编辑器提供的警告对我编码很有用，但我买不起 Matlab。我怎样才能只使用编辑器？它仍然发出警告吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-10T07:29:29.227

您可以使用[GNU Emacs](http://www.gnu.org/software/emacs/)。配置[Emacs Octave 支持](http://www.gnu.org/software/octave/doc/interpreter/Emacs-Octave-Support.html)。然后 Emacs 中的 M 文件将具有语法高亮和缩进。您不会像在 MATLAB 编辑器中那样出现编辑器内警告。

您可以使用 Octave 来运行和测试您的 M 文件。对于简单的脚本和函数，从 MATLAB 到 Octave 几乎不需要修改，反之亦然。对于实现 GUI 或一些更专业的工具箱的 MATLAB 代码，情况并非如此。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T20:02:31.443

您当然可以使用文本编辑器来编辑 matlab 文件，只要您使用 .m 扩展名保存它们。不幸的是，由于 Matlab 是唯一可以解释该文件的程序，因此您在工作时不会收到警告。

作为替代方案，您可以获得 FreeMat ( [http://freemat.sourceforge.net/](http://freemat.sourceforge.net/) ) 并使用具有适当语法突出显示的 .m 文件。但是，FreeMat 没有 Matlab 拥有的庞大函数库，并且在您编写代码时仍然不会向您提供警告。

也许您可以在您所在机构的图书馆中使用 Matlab（如果您是学生），或者让您的企业为此付费（如果您是专业人士）？

# c++ - 无法安装和定位 libsqlite3.a

> ID：14778207
> 
> 赞同：2
> 
> 时间：2013-02-08T17:37:34.027
> 
> 标签：c++, ubuntu, sqlite

我是一名计算机科学专业的学生，​​目前在 VMware 播放器上运行 Ubuntu 12.10。我的任务要求我将 sqlite 与我的 c++ 程序一起使用，但我无法将它与 netbeans 链接。我读过我需要 libsqlite3.a 将它与我的项目链接。我已经运行了 sudo apt-get install sqlite3 libsqlite3-dev，但是我对查找/下载/制作一无所知。谁能帮我这个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T17:46:45.360

这就是您在已安装包中列出文件的方式：

```
dpkg -L libsqlite3-dev 
```

在我的（Debian）系统上，库位于`/usr/lib/x86_64-linux-gnu/libsqlite3.a`.

# javascript - TypeError: this.element.down(...) is undefined - Timeframe.js 和 Prototype

> ID：14778210
> 
> 赞同：1
> 
> 时间：2013-02-08T17:37:45.930
> 
> 标签：javascript, prototypejs, typeerror

我目前正在使用带有[Prototype javascript 框架的名为](http://prototypejs.org/)[Timeframe.js](http://stephencelis.github.com/timeframe/)的 JS 脚本来创建日历小部件。在我的本地副本中效果很好，但是在我的暂存环境中，我收到以下 javascript 错误：

> 类型错误：this.element.down(...) 未定义
> 
> this.element.down('div#' + this.element.id + '_container').insert(日历);

该错误是指 timeframe.js 库文件中的第 97 行。它是以下方法的一部分：

```
// Scaffolding
createCalendar: function() {
  var calendar = new Element('table', {
    id: this.element.id + '_calendar_' + this.calendars.length, border: 0, cellspacing: 0, cellpadding: 5
  });
  calendar.insert(new Element('caption'));
  var head = new Element('thead');
  var row = new Element('tr');
  this.weekdayNames.length.times(function(column) {
    var weekday = this.weekdayNames[(column + this.weekOffset) % 7];
    var cell = new Element('th', { scope: 'col', abbr: weekday }).update(weekday.substring(0,3));
    row.insert(cell);
  }.bind(this));
  head.insert(row);
  calendar.insert(head);
  var body = new Element('tbody');
  (6).times(function(rowNumber) {
    var row = new Element('tr');
    this.weekdayNames.length.times(function(column) {
      var cell = new Element('td');
      row.insert(cell);
    });
    body.insert(row);
  }.bind(this));
  calendar.insert(body);
  this.element.down('div#' + this.element.id + '_container').insert(calendar);
  this.calendars.push(calendar);
  this.months = this.calendars.length;
  return this;
}, 
```

我还验证了 this.element.id 的内容是有效的。该值最终成为 'div#calendars_container'，它是标记中存在的一个元素，因此 DOM 不会丢失它。

我一直无法确定这个问题的根源，我确保我拥有最新版本的原型和时间框架，但错误仍然存​​在。我已经以这种方式使用这些脚本有一段时间了，之前还没有遇到过这种情况，任何人都可以让我走上正确的轨道吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T17:49:49.360

我认为，您需要分享更多背景信息才能解决此问题。如果代码在本地运行良好，但在您的（可能是非现场的）暂存环境中运行良好，则可能是在执行到达相关行时并非所有代码都已加载。

我似乎您的代码片段在事件处理程序中；即使您的所有代码在到达此行之前已加载，也可能存在时间问题，Prototype 尚未`this.element`使用该函数扩展对象`down()`？

登台环境之间较大的延迟很可能导致一些网络绑定功能一个接一个地执行，这与它通常在本地为您执行的方式相反。

在这一行上放一个断点，看看会发生什么。

# ruby-on-rails - Engine 是 Rails 中的保留字吗？

> ID：14778211
> 
> 赞同：2
> 
> 时间：2013-02-08T17:37:50.517
> 
> 标签：ruby-on-rails, rails-engines

我有一个名为 Engine 的模型，我可以在视图和控制器中毫无问题地使用它。当我在模型中使用它时会出现问题（例如，在回调甚至简单的实例方法中）。

```
#inside the vehicle model
def add_engines
  Engine.all.each do |ngin|
  ...

end 
```

我得到错误：`NoMethodError: undefined method 'all' for #<Some_mounted_engine_name:0x00000103b48828>`

我在网上搜索，但我没有将 Engine 视为保留字。请注意，我们在应用程序中使用已安装的引擎。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T17:41:01.483

我认为您遇到了 Ruby 范围界定问题。尝试`::Engine`而不是`Engine`-您可能是在暗示[`Rails::Engine`](http://api.rubyonrails.org/classes/Rails/Engine.html)

# powershell - Windows Azure PowerShell cmdlet 错误 - 文件已被跳过，因为它已经存在

> ID：14778216
> 
> 赞同：1
> 
> 时间：2013-02-08T17:38:07.820
> 
> 标签：powershell, azure

为 Windows Azure 运行以下 Windows Azure PowerShell cmdlet：`Import-Module 'C:\Program Files (x86)\Microsoft SDKs\Windows Azure\PowerShell\Azure\Azure.psd1'`会生成以下错误。我以提升的权限运行 PowerShell 并`Get-ExecutionPolicy`返回`RemoteSigned`。

这是错误：

> Import-Module：加载扩展类型数据文件时出现以下错误：Microsoft.PowerShell, C:\Program Files (x86)\Microsoft SDKs\Windows Azure\PowerShell\Azure\Microsoft.WindowsAzure.Management.Websites.Types。 ps1xml ：文件已跳过，因为它已经从“Microsoft.PowerShell”中出现。Microsoft.PowerShell, C:\Program Files (x86)\Microsoft SDKs\Windows Azure\PowerShell\Azure\Microsoft.WindowsAzure.Management.SqlDatabase.Types.ps1xml ：文件已跳过，因为它已经存在于“Microsoft.PowerShell”中。
> 在 line:1 char:14 + Import-Module <<<< 'C:\Program Files (x86)\Microsoft SDKs\Windows Azure\PowerShell\Azure\Azure.psd1'
> + CategoryInfo : InvalidOperation: (:) [Import-模块]，
> + FullyQualifiedErrorId : FormatXmlUpateException,Microsoft.PowerShell.Commands.ImportModuleCommand

此错误后脚本未完成。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T13:44:11.283

在坚持了半天之后，我决定继续执行这些步骤，并且它完美无缺。所以我想这只是一个警告，但并没有影响其余的过程。结果我没有任何问题。

# php - 从考虑中排除 5 条最新记录

> ID：14778218
> 
> 赞同：3
> 
> 时间：2013-02-08T17:38:12.737
> 
> 标签：php, mysql, sql

我正在制作一个特色页面，其中列出了不同类别的记录。5 个最新、5 个最少查看、5 个最多查看..

这部分并不难：

最新：`SELECT TOP 5 * ORDER BY ID_Record DESC`

至少：`SELECT * FROM tbl_Name WHERE ORDER BY Hits_Field LIMIT 5`

最多：`SELECT * FROM tbl_Name WHERE ORDER BY Hits_Field DESC LIMIT 5`

这是我的问题.. 因为最新的记录可能是最少查看的，它们可能会出现在两个查询中。我想从考虑中消除 5 条最新记录。如何编写这样的 SQL 语句：

```
SELECT * FROM tbl_Name 
WHERE (NOT THE 5 NEWEST ID_Record BUT ALL OTHERS STILL IN CONSIDERATION) 
ORDER BY Hits_Field LIMIT 5 
```

我知道有一个不考虑，但我是新手，需要帮助为此编写嵌套语句。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T17:40:59.473

尝试

```
SELECT * 
FROM `tbl_Name`
ORDER BY `Hits_Field`
LIMIT 5,5 
```

[`LIMIT`](http://dev.mysql.com/doc/refman/5.1/de/select.html)实际上可以有两个参数：偏移量和记录数量。因此，如果您想删除前 5 条记录并选择接下来的 5 条记录，请使用`LIMIT 5,5`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T18:36:56.807

可能这可以工作：

```
"SELECT * from table_name where Id_Record not in (SELECT Id_Record from table_name order by Hits_Field LIMIT 5) order by Hits_Field LIMIT` 5" 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T17:41:11.397

你可以抵消

```
SELECT * FROM tbl_Name 
ORDER BY Hits_Field LIMIT 5,5 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-08T18:16:26.543

使用限制参数。

1) 消除最新的 5 条记录

```
SELECT * FROM tbl_Name ORDER BY Hits_Field ASC LIMIT 5 [Parameter to display from **5** th record], 1000[Parameter to display up to 1000 record]; 
```

2) 消除 Least-viewed(Oldest) 5 条记录

```
SELECT * FROM tbl_Name ORDER BY Hits_Field DESC LIMIT 5 [Parameter to display from **5** th record], 1000[Parameter to display up to 1000 record]; 
```

希望这会有所帮助。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-08T18:01:52.223

逻辑是抓取最少查看的 10 个（有足够的记录来消除 5 个），删除任何也出现在最新的（最多 5 个，但可能更少），然后将该数量限制为 5

尝试 EXCEPT 或 MINUS，例如

```
SELECT * FROM 
(
SELECT * FROM tbl_Name WHERE ORDER BY Hits_Field LIMIT 10
EXCEPT
SELECT TOP 5 * ORDER BY ID_Record DESC
)
LIMIT 5 
```

# mod-rewrite - 如何使用 mod_rewrite 为重音字符添加内容？

> ID：14778219
> 
> 赞同：0
> 
> 时间：2013-02-08T17:38:15.007
> 
> 标签：mod-rewrite, special-characters

我有一个用户发送了一个要打印的 QR 码，并且嵌入的 URL`é`在末尾包含一个带重音的 e ( )。该链接指向一个清理永久链接的 wordpress 站点（通过删除诸如重音字符之类的内容），因此我不能简单地更改 URL 以包含，`é`因为 wordpress 不允许我这样做。结果是带有 的 URL 与使用`é`的所需永久链接不匹配`e`，并导致 404 结果。

有没有办法`mod_rewrite`识别错误`é`并将其更改为`e`？在这种特殊情况下，`é`只会出现在 url 的末尾，并且只需要切换到`e`，但一般情况下会很有趣。

我试过的是

```
<IfModule mod_rewrite.c>
    Options +FollowSymlinks
    RewriteEngine On
    # if a é is encountered at the end of a URL, switch it to an e
    RewriteRule ^(.+)[é] $1e [NE]
 </IfModule> 
```

但没有运气。我怀疑这与它实际上`é`不是`é`作为编码版本发送的事实有关，`é`但我不确定。

谁能引导我朝着正确的方向前进？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T18:30:17.633

看起来这对我有用”

```
RewriteRule ^(.*)é(.*)$ /$1e$2 [R=301,L] 
```

感谢大家！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T17:47:44.393

问题可能是 Apache 实际上并没有将字符视为`é`其他东西。当我尝试它时，Apache 实际上这个字符是`Ã©`.

试试这个规则：

```
RewriteRule (.*)Ã© $1e 
```

希望能帮助到你。

# indexing - 在 Sphinx 搜索中使用 sql_attr_multi

> ID：14778221
> 
> 赞同：0
> 
> 时间：2013-02-08T17:38:23.947
> 
> 标签：indexing, full-text-search, search-engine, sphinx

我有一些相当大的表（~30M 行），它们具有以下类似的结构：
- item_id - uint
- item_text - varchar(255)
- user_id - uint

没有键，您可以找到具有相同 item_id 和 item_text 但不同 user_id 的记录：

```
item_id, item_text, user_id   
3, text1, 5  
3, text1, 7
4, text2, 5 
```

我正在尝试从 MySQL 转移到 Sphinx 进行文本搜索，那么我该如何翻译：
SELECT * FROM table WHERE user_id=123 AND item_text LIKE '%search_string%'。？！

使用当前的 sphinx 配置设置，索引器的磁盘空间不足：

```
source items
{
    ...
    sql_query_pre = SELECT @id := 0
    sql_query     = SELECT @id := @id + 1, item_id, item_text, user_id FROM items
    sql_attr_uint = user_id
    sql_attr_uint = item_id
}

index items_index
{
    source         = items
    path           = ...
    enable_star    = 1
    min_prefix_len = 0
    min_infix_len  = 3
    min_word_len   = 3
} 
```

有没有办法使用 sql_attr_multi 来存储为每个 item_id 找到的 user_id 值？

谢谢 ！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T19:08:29.133

你可以这样做，

```
source items {
    ...
    sql_query     = SELECT item_id, item_text, GROUP_CONCAT(user_id) AS user_id \
                     FROM items GROUP BY item_id ORDER BY NULL
    sql_attr_multi = uint user_id from field;
} 
```

* * *

还要问自己，如果你真的min_infix_len？这极大地增加了磁盘大小（远远超过重复行）。或者尝试 dict=keywords

# java - 无法从 SuperSU 获得权限提示

> ID：14778224
> 
> 赞同：0
> 
> 时间：2013-02-08T17:38:48.773
> 
> 标签：java, android, su, rooted-device

我有一个应该执行一些根命令的应用程序。SuperSU 版本是 1.04。苏版本是1.02。安卓 4.1.1。设备是三星 Galaxy S3 - 植根。

问题是我无法从 SuperSU 获得许可提示。我尝试了很多东西，但提示从未出现。

对于 RootChecker basic、ADB 和其他应用程序，它会显示出来。这是我的程序-也许我做错了什么。

```
private static String runShellCommand(String command) {
    DataOutputStream os = null;
    Process process = null;
    try {
        String [] env = {"PATH=/sbin:/vendor/bin:/system/sbin:/system/bin:/system/xbin"}; 
        process = Runtime.getRuntime().exec("su", env, Environment.getExternalStorageDirectory() );
        os = new DataOutputStream(process.getOutputStream());

        InputStreamHandler err = new InputStreamHandler(process.getErrorStream(), false);
        InputStreamHandler out = new InputStreamHandler(process.getInputStream(), false);

        os.writeBytes(command + "\n");
        os.flush();

        os.writeBytes(EXIT);
        os.flush();
        os.close();
        Log.d(LOGTAG, "Waiting on: " + process.waitFor());

        String errOut = err.getOutput();
        String stdOut = out.getOutput(); 

        Log.d(LOGTAG, "Exit code: " + process.exitValue());
        Log.d(LOGTAG, command + " erroutput: [" + errOut + "]");
        Log.d(LOGTAG, command + " output: [" + stdOut + "]");
        if (errOut != null && !errOut.equals(""))
            return errOut;
        else if (stdOut != null&& !stdOut.equals(""))
            return stdOut;
        else 
            return null;
    } catch (Exception e) {
        Log.e(LOGTAG, "runShellCommand error: ", e);
        return null;
    } finally {
        try {
            if (os != null) {
                os.close();
            }
            if (process != null) {
                Log.d(LOGTAG, "Exit val: " + process.exitValue());
                process.destroy();
            }
        } catch (Exception ignored) {}
    }
} 
```

InputStream 处理程序是：

```
private static class InputStreamHandler extends Thread {
    private final InputStream stream;
    private final boolean devNull;
    StringBuffer output;

    public String getOutput() {
        return output.toString();
    }

    InputStreamHandler(InputStream stream, boolean devNull) {
        this.devNull = devNull;
        this.stream = stream;
        output = new StringBuffer();
        start();
    }

    @Override
    public void run() {
        try {
            if (devNull) {
                while (stream.read() != -1) {}
            } else {
                BufferedReader br = new BufferedReader(new InputStreamReader(stream));
                while (true) {
                    String line = br.readLine();
                    if (line == null) {
                        Log.d(LOGTAG, "Ended with reading!");
                        br.close();
                        return;
                    }
                    output.append(line);
                }
            }
        } catch (IOException ignored) {
            Log.e(LOGTAG, "Error", ignored);
        }
    }
} 
```

任何人都知道为什么它会阻止它所以它不显示权限窗口？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T21:25:38.280

我不确定为什么这不起作用。让我感到奇怪的第一件事是传递`Environment.getExternalStorageDirectory()`给*exec*。也许这个（路径）不允许（执行）？

为什么不简单地使用专门为执行此任务而编写的[libsuperuser ？](https://github.com/Chainfire/libsuperuser)它是开源的、小巧的、完整的注释、有一个示例项目，甚至还有一个文档，详细说明了您在尝试执行此操作时可能遇到[的常见问题。](http://su.chainfire.eu)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T18:01:05.853

我终于弄明白了。诀窍是在另一个线程中单独创建一个进程（执行 Runtime.getRuntime().exec("su");)。我不确定为什么会这样，但确实如此。在 RootTools 中使用了类似的方法。这解决了我的问题。

# .htaccess - htaccess：将随机字符串添加到 URL

> ID：14778226
> 
> 赞同：0
> 
> 时间：2013-02-08T17:38:57.973
> 
> 标签：.htaccess, random, rewrite

我有一个这样的网址：
`http://www.foobar.com/`

如果用户输入它，我希望用随机字符串扩展 URL，例如

`http://www.foobar.com/f896c0fb0924db5dfeae58d430c2d6ca`
（*在示例中添加了 MD5，但其他任何内容也可以。*）

`.htaccess`是否可以通过一些巧妙的重写规则来做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T17:50:37.230

可以使用 来执行此操作`mod_rewrite`，但需要在服务器配置中定义[编程模式](https://httpd.apache.org/docs/current/mod/mod_rewrite.html#rewritemap)（prg）（您只能在 from 中使用它们`.htaccess`）。您可以使用一长串预定义字符串 (meh) 或使用其他伪随机源。一种选择是组合各种`TIME`服务器变量，例如`TIME_SEC`. 如果有重复且没有分隔符，就不容易注意到这种模式。

# mysql - 从 mysql 完整 .sql 备份恢复特定数据库

> ID：14778227
> 
> 赞同：0
> 
> 时间：2013-02-08T17:39:06.987
> 
> 标签：mysql, sql

我从所有 mysql 数据库中进行了完整备份，问题是我的备份包含默认的**mysql**、**performance_schema**和**information_schema**数据库，这些数据库阻止我恢复备份。

问题是我怎么不能从我的完整备份中删除这个默认数据库？我尝试编辑 .sql 备份文件并删除此数据库的创建和插入，但它在删除注入时出现了一些问题。

有没有一个可视化软件，我可以用它打开我的 .sql 文件，它会显示一个数据库和表格，我选择一些数据库来删除它们..?????!!!

请帮助我，我的数据库非常重要......

**我想要一些东西来虚拟化我的数据库，我从中删除不需要的数据库并保存为结果**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T15:33:53.670

如何执行以下步骤：

1.  重命名 .sql 文件中的默认数据库
2.  恢复您的备份
3.  删除恢复的重命名数据库

# vb.net - 转发控件的所有属性

> ID：14778232
> 
> 赞同：4
> 
> 时间：2013-02-08T17:39:16.667
> 
> 标签：vb.net, winforms, properties, controls, forwarding

我正在制作一个自定义控件（这就是我所做的，我是一名主题设计师）并且我遇到了一些问题。我正在制作的控件是一个自定义 RichTextBox 控件。因为我想在 RichTextBox 周围有一个自定义边框（圆边），所以我只需要一个带有自定义边框的控件和一个实际上是普通 RichTextBox 的子控件。将 BorderStyle 设置为 none 时，它​​看起来像这样：

![我的富文本框控件](../Images/7efae7228d45f8b4533ef14ed13abce5.png)

现在，当然，父控件需要具有普通 RichTextbox 具有的所有属性。我手动完成了常规文本框的所有属性，但是 RichTextBox 具有更多属性，我在问自己，有没有办法将子控件的所有属性“转发”到主控件？

也许我解释得有点奇怪。基本上，当您更改主控件的“Text”属性时，RichTextBox 的 Text 属性也应该更改。这意味着我必须为 RichTextBox 拥有的每个属性编写一个自定义事件，难道没有办法自动为每个属性执行此操作吗？

提前致谢，

玛瓦玛腾。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-07T19:09:39.147

事实证明没有办法做到这一点。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-25T21:36:20.190

> *注意：我在发布的问题中有**WinForms**标签**之前回答了这个问题。**（我实际上是根据他在这里的回复添加的。）不过，如果您使用的是 WPF，这就是您要这样做的方式......*

 **最简单的方法是将 ControlTemplate 替换为您的内部实现。换句话说，您正在替换 RichTextBox 控件的“视觉”部分，但您仍然是 RichTextBox 控件。

例如，这就是我如何替换 TextBox 的视觉效果以完全去除所有 chrome 并使其只剩下一个简单的边框。但它仍然是一个具有所有属性等的完整文本框。

再次，查找控制模板。您可能还想搜索“Lookless Controls”。

```
<Style TargetType="{x:Type glc:EditableTextBlock2}" BasedOn="{StaticResource {x:Type TextBox}}">

    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="MinWidth" Value="20" />

    <Setter Property="Template">
        <Setter.Value>

            <ControlTemplate TargetType="{x:Type glc:EditableTextBlock2}">

                <Border Name="Bd"
                    SnapsToDevicePixels="True"
                    BorderThickness="1"
                    BorderBrush="{TemplateBinding Border.BorderBrush}"
                    Background="{TemplateBinding Border.Background}" >

                    <ScrollViewer Name="PART_ContentHost"
                        SnapsToDevicePixels="True"
                        VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />

                </Border>

            </ControlTemplate>

        </Setter.Value>
    </Setter>

</Style> 
```**

# jquery - 我试图在 JQuery UI 中创建一个货币微调器，但它不起作用，我需要做什么？

> ID：14778233
> 
> 赞同：0
> 
> 时间：2013-02-08T17:39:27.070
> 
> 标签：jquery, jquery-ui

我试图在 JQuery UI 中创建一个货币微调器，但它不起作用，我需要做什么？

```
 $( "#spinner" ).spinner({ min: 0, numberFormat: "C" }); 
```

我还需要做什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-10T19:56:25.643

I'm having the same problem but found a solution (which I'm still implementing).

You need to specify the *culture* of the currency you want to see. Which involves downloading some extra stuff...

Go to: [https://github.com/jquery/globalize](https://github.com/jquery/globalize) and download the project, you'll need to reference *the Globalize.js* file and include the culture you want. Your system can't rightly show a monetary amount without knowing where in the world it's from, right?

I'll be back to update this post when my code is up and running. Hope that helped at least a little!

# apache - Apache 2.4 Require 语句未按预期解析

> ID：14778238
> 
> 赞同：1
> 
> 时间：2013-02-08T17:39:46.720
> 
> 标签：apache

我正在尝试从 Apache 2.2 迁移到 2.4。我遇到的一个问题是让我的 .htaccess 文件之一像在 2.2 中一样工作。本质上，我想要做的是允许我的所有服务器在没有密码的情况下访问该网站，然后当不是来自我的网络或在我们的一个桌面上的人试图访问它时需要一个简单的密码。下面的语句来自 2.2 并按预期工作。拒绝语句是允许的组内 IP 的子集。

```
AuthType 基本
AuthName "开发者密码"
AuthUserFile /path/.htpass
需要用户 devuser命令允许，拒绝

允许来自 xxx.xxx.xx.x/24 xxx.xxx.xx.x/16 xxx.xxx.xxx.x/24
拒绝来自 xxx.xxx.xxx.xxx/25

满足任何
```

然而，这就是我认为我会在 2.4 中做同样事情的方式，但我无法让它工作：

```
要求任何
        要求全部
             要求任何
                  需要 ip 10.0
                  需要 ip 192.168.0
             /RequireAny
             无要求

                  需要 ip 10.0.10
                  需要ip 192.168.0.128/25
             /要求无
         /要求全部

 `AuthType Basic
     AuthName "Dev password"
     AuthUserFile /path/.htpass                
     Require user dev` 

/RequireAny

有人可以告诉我我做错了什么吗？它不要求从我的桌面进行身份验证。

抱歉，它没有显示我的 requireall 和 requireany 标签。所以我没有标记它们。

            回答 #1

赞同：0

时间：2013-08-03T18:10:05.213

你似乎做得对。为 authz 提高 LogLevel：

```
LogLevel authz_core:trace3 
```

看看，每次点击都会记录什么。例如，它可能像 IP 范围规范中的拼写错误一样愚蠢。

```

# node.js - Nodejs 使用 zlib 在 gzip 中发送数据

> ID：14778239
> 
> 赞同：20
> 
> 时间：2013-02-08T17:39:48.123
> 
> 标签：node.js, gzip

我试图用 gzip 发送文本，但我不知道如何。在[示例](http://nodejs.org/docs/latest/api/zlib.html#zlib_examples)中，代码使用 fs，但我不想发送文本文件，只发送一个字符串。

```
const zlib = require('zlib');
const http = require('http');

http.createServer(function (req, res) {
    res.writeHead(200, {'Content-Type': 'text/html', 'Content-Encoding': 'gzip'});

    const text = "Hello World!";
    res.end(text);

}).listen(80); 
```

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2013-02-08T18:00:35.367

你已经成功了一半。我非常同意，文档并不能完全说明如何做到这一点。

```
const zlib = require('zlib');
const http = require('http');

http.createServer(function (req, res) {
    res.writeHead(200, {'Content-Type': 'text/html', 'Content-Encoding': 'gzip'});

    const text = "Hello World!";
    const buf = new Buffer(text, 'utf-8');   // Choose encoding for the string.
    zlib.gzip(buf, function (_, result) {  // The callback will give you the 
        res.end(result);                     // result, so just send it.
    });
}).listen(80); 
```

简化是不使用`Buffer`;

```
http.createServer(function (req, res) {
    res.writeHead(200, {'Content-Type': 'text/html', 'Content-Encoding': 'gzip'});

    const text = "Hello World!";
    zlib.gzip(text, function (_, result) {  // The callback will give you the 
      res.end(result);                     // result, so just send it.
    });
}).listen(80); 
```

...而且它似乎默认发送 UTF-8。但是，当没有比其他人更有意义的默认行为并且我无法立即通过文档确认时，我个人更喜欢安全行事。

同样，如果您需要传递 JSON 对象：

```
const data = {'hello':'swateek!'}

res.writeHead(200, {'Content-Type': 'application/json', 'Content-Encoding': 'gzip'});
const buf = new Buffer(JSON.stringify(data), 'utf-8');
zlib.gzip(buf, function (_, result) {
    res.end(result);
}); 
```

# css - 为什么不使用border-style: double; 使成为？

> ID：14778245
> 
> 赞同：21
> 
> 时间：2013-02-08T17:40:15.417
> 
> 标签：css

我有一个`h1`我定义了以下样式的：

```
h1
  { text-align: center;
    border: double black 1px;
    padding: 1em;
    margin: 1em;
} 
```

这是一个 JSfiddle：http: [//jsfiddle.net/KatieK/Hs3ZQ/](http://jsfiddle.net/KatieK/Hs3ZQ/)

我将边框样式设置为加倍，但我只看到渲染了一个边框。为什么不是双边框渲染？

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2013-02-08T17:43:40.317

`double`显示两条直线，它们加起来等于定义为边框宽度 ( [source](https://developer.mozilla.org/en-US/docs/CSS/border-style) ) 的像素量。

您至少需要使用 3px。

```
h1
  { text-align: center;
    border: double black 3px;
    padding: 1em;
    margin: 1em;
} 
```

[http://jsfiddle.net/Hs3ZQ/6/](http://jsfiddle.net/Hs3ZQ/6/)

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-02-08T17:42:26.090

1px 太薄而无法渲染双边框，您必须使边框更厚。

```
h1
  { text-align: center;
    border: double black 3px;
    padding: 1em;
    margin: 1em;
} 
```

[http://jsfiddle.net/Hs3ZQ/3/](http://jsfiddle.net/Hs3ZQ/3/)

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-02-08T17:42:34.870

对于双边框，您需要设置至少为的边框宽度`3px`才能[看到效果](http://jsfiddle.net/MattiasBuelens/dWfYn/)。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-08T17:45:22.547

从 CSS 中删除 1px 将起作用...

```
h1
  { text-align: center;
    border: double black;
    padding: 1em;
    margin: 1em;
} 
```

see the updated fiddle : [http://jsfiddle.net/Hs3ZQ/5/](http://jsfiddle.net/Hs3ZQ/5/)

# php - PHP - 删除里面的 div 和内容

> ID：14778249
> 
> 赞同：0
> 
> 时间：2013-02-08T17:40:22.100
> 
> 标签：php, regex, preg-replace, strip-tags

**HTML：**

```
<!--a lot of HTML before-->
<div class="quoteheader">
  <div class="topslice_quote"><a href="htsomelink">Some text</a></div>
</div>
<blockquote class="bbc_standard_quote">Some text<br />
</blockquote>
<div class="quotefooter">
  <div class="botslice_quote"></div>
</div>
<br />
<!--a lot of HTML after--> 
```

**我需要：**删除 div.quoteheader 和 first `<br/>`after 之间的所有内容，因此结果应如下所示：

```
<!--a lot of HTML before-->
<!--a lot of HTML after--> 
```

**我试过了：**

```
$message = preg_replace('/<div\sclass=\"quoteheader\">[^<]+<\/div>/i', '', $string) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T17:44:30.517

使用 XML/HTML/DOM 解析器比使用正则表达式更好。[SimpleXML](http://php.net/manual/en/book.simplexml.php)非常简单。

您只需加载带有 SimpleXML 或其他一些 HTML/XML 解析器的 HTML，然后使用 xpath 查找您要查找的节点和/或注释，然后删除它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T17:55:20.293

另一种选择...如果您可以使用注释分隔代码，如下所示：

```
<!--code-->
<div> .. </div>
<!--/code--> 
```

您可以删除这之间的所有内容：

```
$newstr = preg_replace('/<!--code-->.*?<!--\/code-->/is', '', $htmlstring); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T17:47:57.723

我建议使用 HTML 创建一个[DomDocument](http://www.php.net/manual/en/class.domdocument.php)对象，然后使用[RemoveChild](http://www.php.net/manual/en/domnode.removechild.php)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T17:59:12.177

```
preg_replace('/(\<div\ class="quoteheader"\>)(.+)(<br \/>)/si', '', $string) 
```

# scala - Scala调度重启超时

> ID：14778250
> 
> 赞同：1
> 
> 时间：2013-02-08T17:40:24.263
> 
> 标签：scala, asynchronous, future, scala-dispatch

我在我的项目中使用调度重启库版本 0.9.5 ( [http://dispatch.databinder.net/Dispatch.html](http://dispatch.databinder.net/Dispatch.html) )。通过 sbt 我有以下行：

```
libraryDependencies += "net.databinder.dispatch" %% "dispatch-core" % "0.9.5" 
```

在 scala (2.9.2) repl 中（开始使用`sbt console`以获取适当的依赖项）并且独立于我的代码，我运行以下会话：

```
import dispatch._
import java.util.concurrent.TimeUnit._
val spoo = Http.threads(1).waiting( Duration(10, SECONDS ) ) 
```

（我相信第三行设置了我自己的线程池，一个线程，超时10秒）。

然后我重复运行此代码（在粘贴模式下），提交未来以获取特定 url，然后打印状态代码（异步）：

```
spoo(url("http://www.evapcool.com/products/commercial/")).either
    .map {
        case Right(r) => println( "S: " + r.getStatusCode())
        case Left(e)  => println( "E: " + e.toString ) } 
```

每次运行此行时，我都会等待打印状态代码，然后再次运行该行。对于前 20 到 40 个调用，它按预期工作。然后它可靠地无法报告成功的页面回复或异常。我的假设是，如果这是由超时引起的，我应该期望回调在 10 秒后触发，其中包含某种形式的超时异常的`Left`子句。`Either`但我的经验是，这永远不会发生。

谁能帮我告诉我我做错了什么？

### 更新

顺便说一句，我知道这里有一个类似的问题（有答案）[，](https://stackoverflow.com/questions/9676359/scala-dispatch-library-how-to-handle-connection-failure-or-timeout)但我正在寻找官方（即图书馆作者打算）处理超时的方法——在我看来，这就是`waiting`方法专为

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-10T16:12:39.957

所以一个答案，虽然我不太满意 - 因为它涉及忽略相当漂亮的`waiting`方法`Http`并直接使用 async-http-client apis 是这样的（受问题更新中链接的 SO 帖子的启发）：

```
val spoo = Http.threads( 1 ).configure
    { builder =>
        builder.setRequestTimeoutInMs( 10000 )
        builder.setConnectionTimeoutInMs( 10000 )

        builder
    } 
```

我的代码现在按预期运行。哼哼……

# c# - 有没有一种直接的方法来检索浏览器呈现但在实际 html 文件中没有硬编码的文本？

> ID：14778252
> 
> 赞同：2
> 
> 时间：2013-02-08T17:40:29.833
> 
> 标签：c#, javascript, html, parsing

我正在尝试从网页中检索数据，但我无法通过发出 Web 请求并解析生成的 html 文件来做到这一点，因为我尝试检索的实际文本不在 html 文件中！我想这个文本是使用一些脚本提取的，因此它不在 html 文件中。据我所知，我正在查看错误的数据，但假设我的理论是正确的，是否有一种直接的方法来检索浏览器（Firefox 或 IE）显示的任何文本，而不是尝试从 html 中获取文本文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T17:48:27.763

假设您指的是在浏览器中使用 Javascript 生成的文本。

您可以使用 PhantomJS 来实现： http: [//phantomjs.org/](http://phantomjs.org/)

它本质上是一个处理 Javascript 的无头浏览器。

您可能需要将其作为外部程序运行，但我确定您可以通过 C#

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T19:13:41.053

您的另一个选择是在应该执行脚本的 WebBrowser 对象中打开网页，然后您可以获得 HtmlDocument 对象并从那里开始。

看看这个例子……

```
 private void test()
    {
        WebBrowser wBrowser1 = new WebBrowser();
        wBrowser1.DocumentCompleted += new WebBrowserDocumentCompletedEventHandler(wBrowser1_DocumentCompleted);
        wBrowser1.Url = new Uri("Web Page URL");
    }

    void wBrowser1_DocumentCompleted(object sender, WebBrowserDocumentCompletedEventArgs e)
    {
        HtmlDocument document = (sender as WebBrowser).Document;
        // get elements and values accordingly. 
    } 
```

# hyperlink - WordPress 3.5.1 og：图片未显示在 facebook 链接预览中

> ID：14778253
> 
> 赞同：1
> 
> 时间：2013-02-08T17:40:36.757
> 
> 标签：hyperlink, wordpress, facebook-opengraph, preview

从 WordPress 3.5 升级到 3.5.1 后，两个客户立即就这个问题与我联系。我已经发布到 WP 支持论坛，但还没有看到我的问题有任何流量。以为我会在这里尝试，因为它似乎确实在 Facebook 方面。

当我们将 URL 发布到 Facebook 时，预览中没有图像（不是空白的图像方块，但根本没有图像），标题是 URL，描述是 URL。两周前，在升级到 3.5.1 之前，Facebook 链接预览完全符合人们的预期。

我检查了代码-所有相关帖子上的 og:image 标签设置正确。

今天早上，我在这里尝试了调试工具：[https](https://developers.facebook.com/tools/debug) ://developers.facebook.com/tools/debug 。对于有问题的链接之一（[http://dezignlicious.com/blog/2013/02/a-new-york-story-discovering-city-knickerbocker/](http://dezignlicious.com/blog/2013/02/a-new-york-story-discovering-city-knickerbocker/)），og 标签不完整（网址、标题、描述）但是图像标签是正确的，并且预览显示了正确的标题和描述。

问题是：通过调试工具运行 URL 后，我能够成功地发布到 Facebook 并获得完全正确的链接预览。

问题：更新 URL、标题和描述 og 标签会解决这个问题吗？我假设有一个 WordPress 插件可以让我在每个帖子中添加这些额外的标签。谁能推荐一个他们喜欢的插件来实现这个功能？我很想使用“WP Facebook Open Graph 协议”，但没有足够的数据来确认它适用于 WP3.5.1（我本周查看的每个插件都是这种情况！）。

# python - 报告实验室保存位置

> ID：14778256
> 
> 赞同：1
> 
> 时间：2013-02-08T17:40:46.867
> 
> 标签：python, location, save, reportlab

我正在尝试将 reportlab 生成的 PDF 文件保存到特定位置。可能吗？代码将 pdf 创建到它自己的目录中。

```
def myFirstPage(canvas, doc):
    canvas.saveState()
    canvas.setFont('Times-Bold',16)
    canvas.drawCentredString(PAGE_WIDTH/2.0, PAGE_HEIGHT-108, Title)
    canvas.setFont('Times-Roman',9)
    canvas.restoreState()

def create_pdf(sometext):
    doc = SimpleDocTemplate("myfile.pdf")
    Story = [Spacer(1,2*inch)]
    style = styles["Normal"]
    bogustext = ("There is something: %s. " % sometext)
    p = Paragraph(bogustext, style)
    Story.append(p)
    Story.append(Spacer(1,0.2*inch))
    doc.build(Story, onFirstPage=myFirstPage) 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-08T18:05:20.023

是的，这是可能的。我建议使用[`os.path.join`](http://docs.python.org/2/library/os.path.html#os.path.join)来构建路径。例子：

```
import os

def create_pdf(sometext):
    outfilename = "myfile.pdf"
    outfiledir = '/somedir'
    outfilepath = os.path.join( outfiledir, outfilename )
    doc = SimpleDocTemplate( outfilepath )
    # ... 
```

# perl - 使用 HTML::TreeBuilder 提取正文中不属于标签的文本

> ID：14778257
> 
> 赞同：0
> 
> 时间：2013-02-08T17:40:53.623
> 
> 标签：perl, html-tree

我有一些丑陋的 html 通过电子邮件发送到我的程序，如下所示：

```
<html>
    <head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    </head>
    <body>
        Saved search results.<br>
    <br>
    Name: 'Some splunk search' <br>
    Query Terms: 'tag=foo NOT BAR=\&quot;Boom\&quot;' <br>
    Link to results: <a href="https://foo/search/blahblahblah">
    https://foo/search/blahblahblah</a>
    <br>
    <br>
    <table border="1"> 
```

...为简洁起见，将其余部分剪掉。

我可以使用 HTML::TreeBuilder 拉出表格元素，但无法弄清楚如何在不诉诸其他方式的情况下从上方拉出“名称：”和“查询条款”。

上面的 $root->dump 看起来像：

```
<html> @0
  <head> @0.0
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" /> @0.0.0
  <body> @0.1
  <p> @0.1.0 (IMPLICIT)
     " Saved search results. "
     <br /> @0.1.0.1
     <br /> @0.1.0.2
     " Name: 'Some splunk search' "
     <br /> @0.1.0.4
     " Query Terms: 'tag=foo NOT BAR=\"Boom\"" 
```

那么有没有办法在@0.1.0.2 和@0.1.0.4 之间获取裸文本

谢谢！托德

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T19:48:32.977

如果文本有模式，则结合使用 HTML 解析和正则表达式可能会更容易。

```
my $body_text = $body->as_text(skip_dels => 1);

my ($name) = ($body_text =~ m#Name: '([^']+)'#s);
my ($query_terms) = ($body_text =~ m#Query Terms: '([^']+)'#s); 
```

# c# - Oracle ORA-12542: TNS:address 已在 C# 中使用

> ID：14778258
> 
> 赞同：0
> 
> 时间：2013-02-08T17:40:56.843
> 
> 标签：c#, .net, windows, oracle, tns

我有一个与 SQL 和 Oracle 数据库建立许多连接的应用程序。Oracle 连接多次抛出此异常。我进行了搜索并找到了此链接

[http://www.forumtopics.com/busobj/viewtopic.php?p=925784](http://www.forumtopics.com/busobj/viewtopic.php?p=925784)

它看起来像 Windows 中的 .net 问题，如下所述

“[使用中的 ORA-12542 TNS 地址错误] 是由于 Windows 客户端中的可用端口已用尽，并且它试图使用处于 TIME_WAIT 状态的端口，这会导致错误 TNS- 12542：地址已在使用中。”

我的问题是：

1> .NET 中是否可以指定用于建立连接的本地端口范围，例如，一个端口范围专用于 SQL 服务器连接，另一个端口范围用于 Oracle。

2> .Net 中如何将端口分配给连接？因此，不会重新分配 Time_Wait 端口。

3> 对于 oracle 连接，我的本地端口分配的端口号从非常高的数字开始，例如，50000，但是对于 SQL Server 连接，我的本地端口从 5000 开始。这是为什么？

4> 如何解决这个问题？

提前致谢。

编辑：我们还在 SQLServer 连接中遇到超时异常。我认为它们是相关的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T13:06:44.433

如果您关闭了连接池，并且临时端口已用尽，则可能会出现此问题。使用连接池可以减少满足相同请求吞吐量所需的连接数，并且可以解决问题。

本地端口的使用通常被限制在特定范围内，即使对于临时端口也是如此，以便更容易识别流量和管理防火墙规则。

连接池通常用于数据库连接，因为连接是一项相对昂贵的操作。因此，最好重用连接。

至于为什么这会阻止你连接，你可能想看看这个：

*   [http://technet.microsoft.com/en-us/library/cc938196.aspx](http://technet.microsoft.com/en-us/library/cc938196.aspx)

也许 MaxUserPorts 已被修改为非默认值？默认情况下，应该有 3976 个可用端口，允许 3976 个同时连接到相同的远程 IP 地址/端口组合。（仅当远程端相同时，端口才必须是唯一的 - 组合`remoteIP:port plus localIP:port`必须是唯一的）。

或者，一些组件管理它们自己的本地端口分配，而不是委托给操作系统，所以`SqlConnection`.

# php - 在 Wordpress 博客之外查询 Wordpress 数据库以返回最新的博客链接，摘录

> ID：14778260
> 
> 赞同：2
> 
> 时间：2013-02-08T17:40:59.463
> 
> 标签：php, html, mysql, sql, wordpress

我正在编写一些 php 来查询我的 wordpress 博客数据库并在我的主页上显示最新的帖子，该帖子在 wordpress 环境之外。

我不是很精通php，但我已经能够显示最新的博客标题以及帖子内容。我想做的是让缩略图成为帖子的可点击链接。我如何获得帖子的链接？我还想只显示摘录而不是整个帖子，但是以与 post_title、post_content 相同的方式使用 post_excerpt 似乎不起作用。

```
// ...Connect to WP database
$dbc = mysql_connect(XXX,XXX,XXX);
if ( !$dbc ) {
    die( 'Not Connected: ' . mysql_error());
}
// Select the database
$db = mysql_select_db('wrd_2ikhd5ho53');
if (!$db) {
    echo "There is no database: " . $db;
}

  // ...Formulate the query
$query = "
        SELECT post_title,post_content,UNIX_TIMESTAMP(post_date) AS post_date_unix, ID
        FROM `wp_posts`
        WHERE `post_status` = 'publish'
        AND `post_password` = ' '
        AND `post_type` = 'post'
        ORDER BY `wp_posts`.`post_date` DESC
        ";

// ...Perform the query
$result = mysql_query( $query );

// ...Check results of the query and terminate the script if invalid results
if ( !$result ) {
    $message = '<p>Invalid query.</p>' . "\n";
    $message .= '<p>Whole query: ' . $query ."</p> \n";
    die ( $message );
}

// Init a variable for the number of rows of results
$num_rows = mysql_num_rows( $result );
$row = mysql_fetch_array( $result, MYSQL_ASSOC );

// Init var for DATE of the post
$post_date = date( "l, F jS, Y ", $row['post_date_unix'] );  

// Init var for TITLE of the post
$post_title = $row['post_title'];

// Init var for CONTENT of the post
$post_content = $row['post_content'];
$post_excerpt = $row['post_excerpt'];

// Init var for Excerpt of the post

// Print the number of posts
echo "$post_title";
echo "$post_date";

// Free the resources associated with the result set
if ( $result ) {
    mysql_free_result( $result );
    mysql_close();
}

?> 
```

参考网站是[http://www.uniconutrition.com](http://www.uniconutrition.com)

多谢你们

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-08T19:07:59.673

**通过使用WordPress 数据库层**，这比您尝试的要容易得多。请参阅[http://codex.wordpress.org/Integrating_WordPress_with_Your_Website](http://codex.wordpress.org/Integrating_WordPress_with_Your_Website)

基本上：

```
<?php
require('/the/path/to/your/wp-blog-header.php');
?>

<?php
$posts = get_posts('numberposts=1');
foreach ($posts as $post) : start_wp(); ?>
<?php the_date(); echo "<br />"; ?>
<?php the_title(); ?>    
<?php the_excerpt(); ?> 
<?php
endforeach;
?> 
```

或者，**总是有 RSS**可以从 WordPress 中获取一个项目、标题和摘录。

**[开发人员指南 - Google AJAX Feed API - Google 代码](https://developers.google.com/feed/)**

```
<html>
  <head>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">

    google.load("feeds", "1");

    function initialize() {
      var feed = new google.feeds.Feed("http://fastpshb.appspot.com/feed/1/fastpshb");
      feed.load(function(result) {
        if (!result.error) {
          var container = document.getElementById("feed");
          for (var i = 0; i < result.feed.entries.length; i++) {
            var entry = result.feed.entries[i];
            var div = document.createElement("div");
            div.appendChild(document.createTextNode(entry.title));
            container.appendChild(div);
          }
        }
      });
    }
    google.setOnLoadCallback(initialize);

    </script>
  </head>
  <body>
    <div id="feed"></div>
  </body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T18:14:34.767

就摘录而言，您没有`SELECT`在查询中使用它。将查询的开头更改为：

```
SELECT post_title, post_content, post_excerpt,
       UNIX_TIMESTAMP(post_date) AS post_date_unix, ID 
```

至于帖子的链接，我不能 100% 确定您可以在不通过 WordPress 机器的情况下获得“可打印”的链接。`guid`表中的列下提供了一个短链接样式的 URL `wp_posts`，但 WP 文档声称如果禁用漂亮的永久链接，它可能不会显示。由于您知道帖子的 ID（它是您查询的一部分），您可以使用 WordPress 函数来获取链接。有关更多信息，请参阅[get_permalink](http://codex.wordpress.org/Template_Tags/get_permalink)文档页面。

顺便说一句，看看[PDO](http://www.php.net/manual/en/book.pdo.php)或[Mysqli](http://www.php.net/manual/en/book.mysqli.php)作为`mysql_*`函数的替代品。您不应再使用后者。

# database - 创建 db2 非聚集索引

> ID：14778266
> 
> 赞同：1
> 
> 时间：2013-02-08T17:41:15.900
> 
> 标签：database, indexing, db2, non-clustered-index

您能告诉我如何在 DB2 中创建非聚集索引吗？我找不到任何命令。我想在三列上创建一个索引。我试过：

```
CREATE INDEX IX_ACCOUNTNOTES_DATE_TYPE 
ON CPMTD.ACCOUNT_NS (ACCOUNT_ID,CREATED_DATE,NOTE_TYPE);" 
```

它给我的错误是：

```
 DB2 SQL Error: SQLCODE=-104, SQLSTATE=42601, SQLERRMC=;;TED_DATE,NOTE_TYPE );END-OF-STATEMENT,       DRIVER=3.50.152   

    Message: An unexpected token "" was found following "".  Expected tokens may include:  "TED_DATE,NOTE_TYPE )".. SQLCODE=-104, SQLSTATE=42601, DRIVER=3.50.152 
```

此外，创建非聚集索引命令不适用于 db2。

任何帮助将不胜感激。

谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T19:21:49.747

正常[`CREATE INDEX (DB2 for z/OS)`](http://publib.boulder.ibm.com/infocenter/dzichelp/v2r2/topic/com.ibm.db2z9.doc.sqlref/src/tpc/db2z_sql_createindex.htm#db2z_sql_createindex)或 [`CREATE INDEX (DB2 for LUW)`](http://www-01.ibm.com/support/knowledgecenter/SSEPGG_9.7.0/com.ibm.db2.luw.sql.ref.doc/doc/r0000919.html?cp=SSEPGG_9.7.0%2F2-10-6-72&lang=en)命令应该为你工作，

```
CREATE INDEX IX_ACCOUNTNOTES_DATE_TYPE 
ON CPMTD.ACCOUNT_NS (
     ACCOUNT_ID
    ,CREATED_DATE
    ,NOTE_TYPE
) 
```

如果您准确地复制并粘贴了您的命令，那么最后的额外`"`内容可能会把事情搞砸。

此外，DB2 将所有索引都创建为非集群的。例外情况是定义的第一个索引将是集群索引，除非您使用以下`CLUSTER`选项定义新索引：

```
CREATE INDEX IX_ACCOUNTNOTES_DATE_TYPE 
ON CPMTD.ACCOUNT_NS (
     ACCOUNT_ID
    ,CREATED_DATE
    ,NOTE_TYPE
)
CLUSTER 
```

# java - Java中隐藏的char StringTokeneizer / split？

> ID：14778267
> 
> 赞同：0
> 
> 时间：2013-02-08T17:41:17.443
> 
> 标签：java, stringtokenizer

我有一个文本文件，它的每一行都是这样的

```
author-title-kind 
```

我有一个解析这个文件的 Java 程序，它必须只返回作者为`"example"`. 我一次读一行，然后用`StringTokeneizer`or分割字符串`split()`。所以我会得到3个项目：`author, title, kind`。然后我检查第一个项目字符串是否等于“example”。问题是我总是假的，永远不会真。是否有任何隐藏的字符，所以这个比较总是以假结束？也许我应该检查`"example-"`, 或`"-example"`...或其他任何东西？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T17:47:36.440

请记住，String.split() 将正则表达式作为分隔符，而不仅仅是字符串。如果你想用一个简单的字符串进行基本的字符串拆分，我会使用 apache commons StringUtils.split()。

# c++ - c/c++ 中的摆动符号是什么意思？

> ID：14778269
> 
> 赞同：0
> 
> 时间：2013-02-08T17:41:19.787
> 
> 标签：c++, c

```
if (~mask == 0){...} 
```

我在其中一个 .cpp 文件中遇到过这个问题，我想知道 ~ 在 c/c++ 中是什么意思？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-08T17:42:41.780

**它是一个[*波浪号*](http://en.wikipedia.org/wiki/Tilde#Computer_languages)，在 C++ 中它表示[*按位 NOT*](http://en.wikipedia.org/wiki/Bitwise_operation#NOT)。**

`mask`对于使用以下位表示命名的八位无符号整数：

```
0010 1100 
```

的值为`~mask`：

```
1101 0011 
```

注意所有位是如何翻转的。

让您的`if`条件 ( `~mask == 0`) 评估为真：

```
~mask: 0000 0000
 mask: 1111 1111 
```

在这种情况下，`mask`具有价值`255`。

酌情将相同的逻辑应用于不同位宽和符号的整数。

^(（**注意：**实际上，如果你的系统是32位`int`的，`~mask`即使`mask`是8位也是32位的。这是因为`~`执行*积分提升*。但是，对于上面的简单示例，我忽略了这个事实。）)

* * *

这是正式的定义：

> `[C++11: 5.3.1/10]:` **的操作数`˜`应具有整数或非范围枚举类型；结果是其操作数的反码。**进行整体促销。结果的类型是提升的操作数的类型。*unary-expression* 中存在歧义`˜X()`，其中`X`是*class-name*或*decltype-specifier*。歧义得到解决，有利于将`˜`其视为一元补码，而不是`˜X`视为指代析构函数。

正如这段话提醒我们的那样，不要将按*位 NOT*与类析构函数名称中[的前导字符](https://stackoverflow.com/questions/1395506/in-c-what-does-a-tilde-before-a-function-name-signify)混淆。有趣的是，它`~`被选为析构函数；可以说这是因为人们可以将析构函数视为构造函数的相反（即逻辑*NOT*）。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-08T17:42:59.177

有点不是。它反转变量的所有位。在这种情况下，如果“掩码”的所有位均为 1，则您的 if 将为真。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T17:44:03.667

它在 C中称为*按位补码运算符。*

它反转（提升）操作数的所有位（a`0`变为 a`1`并且 a`1`变为 a `0`）。

```
if (~mask == 0){...} 
```

这将检查是否所有位`mask`都设置为`1`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T17:43:41.860

[这是按位不运算。](http://en.wikipedia.org/wiki/Bitwise_operation#NOT)

（它被称为“波浪号”。）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-08T18:09:07.910

它的按位不是......它给出了给定数字的二进制表示的补码！就像你写 b=(~a); 并且 a 等于说 11 其二进制表示为 0000 1011 ...它会以二进制形式给出 ...b=1111 0100

# html-select - 是否可以为特定的选择框禁用 selected.js？

> ID：14778270
> 
> 赞同：1
> 
> 时间：2013-02-08T17:41:20.020
> 
> 标签：html-select, jquery-chosen

给定某个事件（例如，单击按钮），我想为特定选择框禁用 Chosen.js。

这可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-19T18:52:44.470

尽管不需要单击按钮，但我也有类似的要求，我只是想为特定选择框启用/禁用选择。

`select`我的解决方案是对于您不想与 Chosen 一起使用的每个元素，添加 CSS 类`'no-chzn'`。然后在 中`chosen.jquery.js`，将以下行添加到构造函数中（这[在 1.1.0 版本中的第 533 行](https://github.com/harvesthq/chosen/blob/master/chosen/chosen.jquery.js#L340)附近）：

```
$.fn.extend({
    chosen: function(options) {
      if (!AbstractChosen.browser_is_supported()) {
        return this;
      }
      return this.each(function(input_field) {
        var $this, chosen;
        $this = $(this);
        if ($this.parent().hasClass("chosen-disable")) { return; } // Just add this line!
        chosen = $this.data('chosen');
        if (options === 'destroy' && chosen) {
          chosen.destroy();
        } else if (!chosen) {
          $this.data('chosen', new Chosen(this, options));
        }
      });
    }
  }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-12-06T16:18:35.513

例如，您有一个带类的选择，`no-chosen`您可以这样做：

```
$("select:not('.no-chosen')").chosen(); 
```

这意味着它需要所有选择，除了没有选择的类。

# iphone - 防止在 iPhone 上加载 HTML5 视频

> ID：14778271
> 
> 赞同：0
> 
> 时间：2013-02-08T17:41:21.040
> 
> 标签：iphone, ios, html, video, html5-video

我想加载一个视频以在台式机和平板电脑上播放，但阻止它在 iPhone 上加载，因为它只是一个图形元素。

这是我的代码：

```
<video width="980" height="400" poster="/poster.jpg" autoplay loop>
 <source src="/images/front.mp4" type="video/mp4">
 <source src="/images/front.webm" type="video/webm">
 Your browser does not support the video tag.
</video> 
```

如何告诉 iPhone 不加载视频而只显示海报框​​架？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T18:19:08.700

像这样的东西应该工作：

```
<script>
var videoElement = document.getElementsByTagName("video")[0];

if ((navigator.userAgent.match(/iPhone/i)) || (navigator.userAgent.match(/iPod/i))) {
    videoElement.parentNode.removeChild(videoElement);
    videoElement.pause();
}
</script> 
```

这假设您在页面上只有一个`video`元素。

此外，请务必将 JavaScript 放在结束`body`元素之前或将其放在外部 JavaScript 文件中。

# html - 将鼠标悬停在图像上时，我的导航在 IE9 中消失

> ID：14778273
> 
> 赞同：0
> 
> 时间：2013-02-08T17:41:26.257
> 
> 标签：html, css, internet-explorer-9

我开始学习，有点靠我自己，创建一个网站。现在我有一个我无法解决的问题。我已经在互联网上搜索过，但它对我不起作用。当我悬停时，我的导航消失了。在某些页面中，它仅在我将最后一个链接和其他类似页面悬停时才会消失[：](http://www.villadurbuy.be/huisbeschrijving_Septon.html)它会在第二个链接时消失。我开始有点无望找到解决方案。这就是我寻求帮助的原因！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T17:58:32.830

`css/navigatie.css`从样式表中删除 html

这是最后一行，如下所示。

```
/* we need to associate the JavaScript with our main ul*/
<ul id="nav"> 
```

您的 html 中有随机`<tr>`和`<td>`标签，应在第 92、93、155 和 156 行删除，因为没有声明表。

第 140 行`<ol>`看起来像是被关闭了`</ul>`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T16:39:05.500

在评论中我提到间距是你的问题，你想澄清一下，所以这里是。您的导航具有嵌套列表、链接和图像。无论出于何种原因，它们都有不同的高度。为了解决这个问题，我所要做的就是使嵌套`li`的高度固定`23px`，问题就消失了。

老实说，我会重做导航。我看不出有一个很好的理由为什么你有一个名为的类`menu`被应用于导航中的`ul`每一个。`li`改变不同元素的高度应该很容易，但导航设置的方式我认为你会遇到困难。

# c++ - wchar_t 字符数组中的奇怪符号

> ID：14778276
> 
> 赞同：0
> 
> 时间：2013-02-08T17:41:42.830
> 
> 标签：c++, wchar-t

![这是一个带有奇怪符号的 char 数组，它阻止我将它与普通的 wchar_t 数组进行比较。](../Images/f108d33373831a8b1165f703cf0d24f6.png)

是什么导致这个奇怪的符号出现在数组的开头？

它与 Unicode 字符和多字节字符集一起出现。它阻止了我将它与另一个数组进行比较。

编辑：谷歌在研究“比较 Unicode 字符串 c++”时什么也没给我。

我还查看了 wchar_ts 出现的历史上奇怪的符号，它们也很稀疏。

编辑：Visual Studio 2010，Windows 7，代码无法显示。它是结构化存储文件流名称的一部分。

我已经提供了我能提供的所有信息。我正在打开并枚举一个结构化存储文件，一旦枚举了该流，wchar_t 数组就是 pwcsName 值。我正在寻找一种将其与“SummaryInformation”进行比较的方法。那个符号挡住了。

我想到的一个可能的解决方案是从数组中的第二个字符开始创建一个子字符串，但我不确定如何去做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:00:18.490

在此处阅读有关 Windows 结构化存储的信息：

[http://msdn.microsoft.com/en-gb/library/windows/desktop/aa380020(v=vs.85).aspx](http://msdn.microsoft.com/en-gb/library/windows/desktop/aa380020(v=vs.85).aspx)

特别是 name 参数：-

> 指向包含新创建的流名称的以空字符结尾的宽字符 Unicode 字符串的指针。该名称可以稍后用于打开或重新打开流。名称长度不得超过 31 个字符，不包括字符串终止符。**用作流/存储名称的第一个字符的 000 到 01f 字符保留供 OLE 使用。**这是复合文件限制，而不是结构化存储限制。

所以它是某种形式的保留 OLE 名称。不过，我对结构化存储的了解还不够，无法为您提供更多帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T17:43:59.003

该符号用于显示在所选字体中没有字形的代码点。例如，代码点可能是不可打印的，或者它可能是调试器正在使用的字体中未包含的语言中的字符。

从这里无法说出代码点实际上是什么。您将需要编写一些诊断代码，或在调试器中检查以找出它的真正含义。

为了解决问题，您需要追踪这些字符串的来源。然后看看你做错了什么。它看起来更像是代码中的一个错误。换句话说，也许字符串实际上比您的代码认为的晚一个字符开始。

# java - Eclipse 调试断点仅在特定子类的虚拟调用时停止

> ID：14778281
> 
> 赞同：4
> 
> 时间：2013-02-08T17:42:07.607
> 
> 标签：java, eclipse, debugging, virtual-functions

假设我们有一个带有方法 onPoke(..) 的抽象类。

```
abstract class BaseValuePanel{
  void onPoke(int depth){
      //blah, blah, ...
  }
} 
```

*   类 NumberValuePanel、AttributeValuePanel、CategoryValuePanel 扩展 BaseValuePanel。
*   其中，DecimalValuePanel 类扩展了 NumberValuePanel。
*   其中，EstimationValuePanel 类扩展了 DecimalValuePanel。
*   没有一个扩展类覆盖 onPoke(..) 方法。

现在，我希望在 onPoke(..) 上放置一个断点，但仅在通过 EstimationValuePanel 类的对象调用时。

因为现在，如果我在 onPoke(..) 上放置断点，调试器将停止数千个实例（因为 BaseValuePanel 的广泛后代类），其中只有一个是由于调用 EstimationValuePanel 引起的。

为了让调试器仅在通过 EstimationValuePanel 调用该方法时停止，我需要采用什么设置顺序或设置断点策略。

我所说的虚拟断点是什么意思...：
也就是说，在 Java 中，与 C# 相反，非私有、非静态、（可覆盖）方法自然是虚拟的。因此，这里是虚拟调用。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-08T17:51:44.933

当然，您可以覆盖 EstimationValuePanel 类中的方法并仅在此处设置断点。

但是您也可以使用条件断点：转到方法 onPoke() 上的断点属性（右键单击*或*Ctrl + 双击）并选择“条件”。在下面的文本区域中，您可以输入以下条件：

```
this instanceof EstimationValuePanel 
```

这意味着每次输入方法时都会评估条件。因此，如果您遇到性能问题，您应该更愿意覆盖 EstimationValuePanel 中的方法。

# asp.net-mvc - MVC 3 应用程序在 Windows 7 上的 IE 8 上慢，在 Windows XP 上的 IE 8 上快

> ID：14778283
> 
> 赞同：1
> 
> 时间：2013-02-08T17:42:08.400
> 
> 标签：asp.net-mvc, asp.net-mvc-3, internet-explorer-8, authorization, windows-authentication

我正在使用 ASP MVC 3.0 为我的公司开发一个应用程序。它使用 Windows 身份验证来登录用户，并使用`User.IsInRole`方法或`AuthorizeAttribute`.

目前，我遇到了初始加载和响应时间的问题，但仅限于碰巧在 Windows 7 上运行 Internet Explorer 8 的用户。这些用户的加载时间约为 20 秒。所有其他用户在 Windows XP 上的 Internet Explorer 8 上运行时都没有遇到任何问题，并且加载时间不到一秒。

我相当肯定这是 Internet Explorer 8 的问题，因为在 Windows 7 PC 上下载 Google Chrome 具有瞬时加载时间。最令人难以置信的部分是，我正在运行 Windows 7 PC 并拥有 IE 8，并且没有遇到这些问题并且可以即时加载。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-01T19:53:57.910

不幸的是，我无法弄清楚这个问题的根本原因是什么。所以，我想我至少会发布我用来解决它的解决方案。

幸运的是，我们有第二台服务器用于托管。我迁移到这台服务器并将它安置在那里，它似乎工作正常。原始服务器的问题很可能是它的设置、安装方式或我们遇到的某种类型的防火墙问题。

# c++ - 模板实例化问题

> ID：14778284
> 
> 赞同：0
> 
> 时间：2013-02-08T17:42:08.303
> 
> 标签：c++, templates, compiler-errors, instantiation

我正在使用具有模板声明和定义的库文件 Slist.h。库文件在 mypgm.c（cpp 文件）的构造函数中实例化。编译器抛出底部提到的错误。

**列表.h**

```
template <class Object>
class SList;     // fwd declaration.
template <class Object>
class SListItr;  // fwd declaration.
template <class Object>
class SListNode
{
    SListNode( const Object &theElement = Object( ),
               SListNode *n = NULL )
      : element( theElement ), next( n ) { }

    Object     element;
    SListNode *next;
    friend class SList<Object>;
    friend class SListItr<Object>;
};

template <class Object>
class SList
{
  public:
    SList( );
    SList( const SList &rhs );
    ~SList( );
    int isEmpty( ) const;
    void makeEmpty( );
    SListItr<Object> zeroth( ) const;
    SListItr<Object> first( ) const;
    const SList & operator=(  SList &rhs );
    int  IsType() {return LinkedListType;};
  private:
    SListNode<Object> *header;
    Object *ptr_Object;
};

//SList definition
template <class Object>
SList<Object>::SList( )
{
     ptr_Object = new Object();
     header = new  SListNode<Object>; 
}

// Copy constructor.
template <class Object>
SList<Object>::SList( const SList<Object> &rhs )
{
    header = new SListNode<Object>; 
    *this = rhs;
}

// Destructor.
template <class Object>
SList<Object>::~SList( )
{
    makeEmpty( );
    delete ptr_Object;
    delete header;
} 
```

**我的pgm.c**

```
class mypgm
{
public:
    mypgm::mypgm()
    {
    ptr_dead_acc_list= new SList<String>; // ptr_dead_acc_list is of type SList<String>
    }
 }; 
```

**字符串类详细信息供您参考**

```
class String
{
        private:
                char *_text;
                friend class String_Iterator;
        public:
                // ctors and dtor
                explicit String ();                     
                explicit String (char *);
                explicit String (int );
                String (String& );              
                ~String();

                /////////////////
                // conversions:
                /////////////////
                //  to C-like type char *
                operator char *() {return _text;}

                /////////////////
                // overloads:
                /////////////////
                // assignment String = String
                String &operator=(String &);
} 
```

**编译错误：**

```
SList.h: In constructor 'SList<Object>::SList() [with Object = String]':
mypgm.c:131:   instantiated from here
SList.h:85: error: no matching function for call to 'String::String(String)'
String.h:27: note: candidates are: String::String(String&)
SList.h:41: error: in passing argument 1 of 'SListNode<Object>::SListNode(const Object&, SListNode<Object>*) [with Object = String]'
SList.h: In constructor 'SListNode<Object>::SListNode(const Object&, SListNode<Object>*) [with Object = String]':
SList.h:85:   instantiated from 'SList<Object>::SList() [with Object = String]'
mypgm.c:131:   instantiated from here
SList.h:42: error: passing 'const String' as 'this' argument of 'String::operator char*()' discards qualifiers
make: *** [all] 
```

我觉得在即时离子期间参数没有正确传递，我试图解决这个问题，但我的步骤是徒劳的。我是模板概念的新手。你能帮我解决这个问题吗？

感谢您查看这个

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T17:45:44.540

你的问题没有做任何事情的拷贝构造函数`String`应该接受对常量的引用。而不是这个：

```
String (String& ); 
```

签名应如下所示：

```
String(String const&); 
```

`SListNode`正在调用`String`常量对象的构造函数，编译器会抱怨，因为您的复制构造函数接受非常量引用：

```
SListNode( const Object &theElement = Object( ),
           SListNode *n = NULL )
  : element( theElement ), // ERROR: theElement is a reference to const!
    next( n ) { } 
```

另请注意，尽管您的问题源于模板的实例化，但它与模板没有特别相关。在非模板代码中做同样的事情会导致同样的错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T17:47:26.817

该错误与模板无关，它只是在实例化模板时弹出。您的课程`String`很不寻常，因为它不是“CopyConstructible”，这会阻止以许多正常方式使用它。

它可能应该有一个构造函数

```
String(const String&); 
```

代替

```
String(String&); 
```

# cxf - CXF 拦截器预处理传入消息

> ID：14778297
> 
> 赞同：1
> 
> 时间：2013-02-08T17:43:10.643
> 
> 标签：cxf

我有一个操作有这样的输入消息：

输入消息类型

*   消息类型：字符串
*   其他属性...

我想在它到达目标 WS 方法之前修改这个 messageType，我为 Phase.USER_LOGICAL 编写了一个拦截器。但是，如果我尝试在 handleMessage 中执行以下操作：

message.getContent(InputMessageType.class) 它返回 null。

如何获得对 InputMessageType 的引用，更改它的 messageType 属性，然后让 CXF 使用修改后的输入参数调用 WS？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T09:17:26.553

我遇到了和你一样的问题：message.getContent(xxx.class) 返回 null。我不知道为什么，稍后我会检查这种行为。

因此，我改为使用这样的拦截器（我检索 MessageContentsList）：

```
public class ApiSoapActionInInterceptorService extends AbstractPhaseInterceptor<Message> {

public ApiSoapActionInInterceptorService(){
    super(Phase.PRE_INVOKE);
}

@Override
public void handleMessage(Message message) throws Fault {
    MessageContentsList inObjects = MessageContentsList.getContentsList(message);
    if (inObjects != null && !inObjects.isEmpty()){
        for (Iterator<Object> it = inObjects.iterator(); it.hasNext() ;){
            Object ob = it.next();
            if (ob instanceof InputMessageType){
                //TODO
            }
        }
    } else {
        //TODO 
    }
} 
```

}

# stm32 - 省电模式 STM32F205RG

> ID：14778298
> 
> 赞同：0
> 
> 时间：2013-02-08T17:43:14.860
> 
> 标签：stm32, iar

我正在使用 STM32F205RGT6 Cortex-M3 微控制器并使用 IAR Embedded Workbench 进行编码。

我计划在大多数情况下将微控制器保持在省电模式，除非外部组件尝试通过 SPI（STM32 微控制器是 SP 从机）或通过 USB 进行通信。

一个外部组件通过 SPI (PB12-15) 连接，PC 通过 USB (PA11-12) 连接。通信工作正常 - 我已经测试了 SPI 和 USB。我想一旦我完成了 SPI 和 USB 的设置，我将调用一个省电函数并在中断服务例程的末尾添加相同的函数调用。我找到了我尝试使用的 PWR_EnterSTANDBYMode 和 PWR_EnterSTOPMode（在 stm32f2xx_pwr.h 中）。但是，通过这种安排，我无法与微控制器建立任何通信（SPI 或 USB）。

是否需要配置一些额外的东西（例如哪些引脚应该唤醒微控制器）？我使用了错误的功能吗？还是错误的头文件？你能给我举一个类似这种情况的例子吗（我在 ST 的网站上找不到类似的东西）？

欢迎任何建设性的反馈。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T14:20:14.203

与此同时，我发现了应用笔记 AN3430 ( [http://www.st.com/internet/com/TECHNICAL_RESOURCES/TECHNICAL_LITERATURE/APPLICATION_NOTE/DM00033348.pdf](http://www.st.com/internet/com/TECHNICAL_RESOURCES/TECHNICAL_LITERATURE/APPLICATION_NOTE/DM00033348.pdf) )，它在某种程度上更易于理解（只有 38 页），提供了一个很好的概述关于微控制器的节能。

由于我无法访问 PA0-WKUP（唤醒引脚），我不得不放弃使用待机。似乎在主循环中只是一个简单的睡眠模式 - 通过调用 __WMI(); - 在我的情况下应该足够降低电流消耗。如果睡眠模式不够，我可能会考虑停止模式，但我将阅读有关应用程序注释指向的 EXTI 寄存器配置的数据表片段。

# javascript - Angular JS - 模板中的 ngRepeat

> ID：14778300
> 
> 赞同：1
> 
> 时间：2013-02-08T17:43:19.083
> 
> 标签：javascript, angularjs

我正在尝试在指令中使用 ngRepeat - 但我真的不知道该怎么做。我接近了吗？

Mowers 是我的控制器中使用此指令的一个数组。

```
.directive('slider', function() {
return function() {
    template: '<slider><film><frame ng-repeat="mower in mowers">{{mower.series}}</frame></film></slider>';
    replace: true;
        scope: true;
    link: function postLink(scope, iElement, iAttrs) {
            // jquery to animate
        }
    }
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:15:10.380

是的，你很接近，但语法是关闭的。你需要`mowers`在你的范围内分配一些东西。

```
.directive('slider', function() {
return {
    restrict: 'E', //to an element.
    template: '<film><frame ng-repeat="mower in mowers">{{mower.series}}</frame></film>',
    replace: true,
    scope: true, // creates a new child scope that prototypically inherits
    link: function postLink(scope, iElement, iAttrs) {
            scope.mowers = [
               { series: 1 },
               { series: 2 },
               { series: 3 }
            ];
        }
    }
}); 
```

此外，您不需要自己引用`<slider>`。

上面的代码还假设您已经为`<film>`和制定了指令`<frame>`。

最后，如果您想从外部范围传入 mowers 数组，您可以将范围设置更改为：

```
scope: {
   mowers: '='
} 
```

然后你可以像这样设置它：

```
<slider mowers="myMowers"></slider> 
```

where`myMowers`是控制器或父指令范围内的变量。

我希望这会有所帮助。

# php - PHP 将表单响应插入到单独的 MySQL 表/行中

> ID：14778311
> 
> 赞同：0
> 
> 时间：2013-02-08T17:44:03.890
> 
> 标签：php, mysql, survey

我有一个表单，在通过 POST 提交后，需要根据该字段将其插入两个单独的表中。每个字段都需要添加为自己的行。

想象一个调查；总共有四个部分。对于一个部分中的每个问题，用户选择一个介于 1 和 5 之间的值。每个部分的底部还有一个可选的注释文本区域。

每个问题在数据库中的“问题”表中都有自己的唯一 ID。这些问题包含它所属的部分（“部分”表）的 ID 以供参考。

**问题一：**

如何将每个答案作为其自己的行插入名为“答案”的表格中，并带有问题的 ID？

“答案”的结构如下所示：

身份证 (AI) | 问题ID | 值（用户提交，1-5）| response_id

**问题2：**

然后，如何将每个部分的每个注释插入一个名为“notes”的表格中，并带有每个部分的 id？

“笔记”的结构如下：

身份证 (AI) | section_id | 值（用户提交）| response_id

Response_id 是将用户的响应插入到名为“responses”的表中的结果 ID。该表将所有内容联系在一起，以输出每个用户提交的响应的结果。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:10:31.667

你可以做一件事可能是这样。您说您对每个问题都有问题 ID，因此当用户选择答案时，请像这样为每个问题命名

```
name = "question[<?php echo $question_id ?>]"

<select name="cars">
  <option value="volvo">Volvo</option>
  <option value="saab">Saab</option>
  <option value="opel">Opel</option>
  <option value="audi">Audi</option> 
```

对于不只是给简单的名字。当用户提交时，整个 question[$ids] 数组遍历每个 id 并使用问题 id 插入答案表。你需要一点点数组操作。

对于 Notes，您只需在 name 字段中使用 section id 并正常插入数据库。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T18:30:43.047

您可能希望使用数组来跟踪您需要的 id。您的 HTML 块应类似于以下内容：

```
<h3>Question '.$questionId.': Your question title here</h3>
<input type="hidden" name="question_id" value="'.$questionId.'" /> //Not necessary, but just to show you that a hidden field can be useful too 
<input type="text" name="answer['.$questionId.']" /> 
```

然后，您只需将 $_POST 数据用作常规数组、for 循环或大查询（更好的性能取决于您正在处理的字段/数据的数量）。

这篇文章中有关多维数组的更多信息：[使用 php 通过 POST 提交多维数组](https://stackoverflow.com/questions/2433727/submitting-a-multidimensional-array-via-post-with-php)

# c++ - c++ : Vector of references 的替代方案，以避免复制大数据

> ID：14778317
> 
> 赞同：3
> 
> 时间：2013-02-08T17:44:11.983
> 
> 标签：c++, pointers, vector, reference, accessor

我花了一些时间寻找答案，但没有找到任何令人满意的答案。

只是对一些更有经验的 C++ 人如何解决这类问题感兴趣，因为现在我正在做更多与生产相关的编码而不是原型设计。

假设您有一个类，其中包含一个 unordered_map（hashmap），其中包含大量数据，例如 500Mb。您想编写一个以有效方式返回该数据的某个子集的访问器。

采取以下方式，其中 BigData 是一些存储适量数据的类。

```
Class A
{
   private:
      unordered_map<string, BigData> m_map;   // lots of data

   public:

    vector<BigData>   get10BestItems()
    {
        vector<BigData>  results;
        for ( ........  // iterate over m_map and add 10 best items to results
        // ... 
       return results;
    }

}; 
```

访问器 get10BestItems 在此代码中效率不高，因为它首先将项目复制到结果向量，然后在函数返回时复制结果向量（从函数堆栈复制）。

由于各种原因，您不能在 c__ 中拥有引用向量，这将是显而易见的答案：

```
vector<BigData&> results;     // vector can't contain references. 
```

您可以在堆上创建结果向量并传递对它的引用：

```
vector<BigData>&   get10BestItems()    // returns a reference to the vector
    {
        vector<BigData>  results = new vector<BigData>;   // generate on heap
        for ( ........  // iterate over m_map and add 10 best items to results
            // ... 
       return results;   // can return the reference 
    } 
```

但是，如果您不小心，您将遇到内存泄漏问题。它也很慢（堆内存）并且仍然将数据从映射复制到向量。

所以我们可以回顾一下 c 风格的编码，只使用指针：

```
vector<BigData*>   get10BestItems()    // returns a vector of pointers
    {
        vector<BigData*>  results ; // vectors of pointers
        for ( ........  // iterate over m_map and add 10 best items to results
        // ... 
       return results;  
    } 
```

但大多数消息来源说，除非绝对必要，否则不要使用指针。有使用 smart_pointers 和 boost ptr_vector 的选项，但我宁愿尽量避免这些。

我不认为地图将是静态的，所以我不太担心错误的指针。如果代码必须不同来处理指针，这只是一个问题。从风格上讲，这并不令人愉快：

```
const BigData&   getTheBestItem()    // returns a const reference
{
       string bestID;
       for ( ........  // iterate over m_map, find bestID
       // ... 
       return m_map[bestID] ; // return a referencr to the best item
}

vector<BigData*>   get10BestItems()    // returns a vector of pointers
{    
        vector<BigData*>  results ; // vectors of pointers
        for_each ........  // iterate over m_map and add 10 best items to results
        // ... 
       return results;  
 }; 
```

例如，如果您想要一个项目，那么返回参考很容易。

最后的选择是简单地将哈希映射公开并返回一个键向量（在这种情况下为字符串）：

```
Class A
{
      public:

         unordered_map<string, BigData> m_map;   // lots of data

    vector<string>   get10BestItemKeys()
    {
        vector<string>  results;
        for (........  // iterate over m_map and add 10 best KEYS to results
        // ... 
       return results;
    }

};

A aTest;
... // load data to map

vector <string> best10 =  aTest.get10BestItemKeys();
for ( .... // iterate over all KEYs in best10
{
    aTest.m_map.find(KEY);  // do something with item.
    // ...
} 
```

什么是最好的解决方案？速度很重要，但我想要易于开发和安全的编程实践。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T17:51:30.030

如果地图是恒定的，我只会使用指针向量。如果你想避免数据被改变，你总是可以返回 const 指针。

引用在它们起作用时非常有用，但我们仍然有指针是有原因的（对我来说，这属于“必要”的范畴）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T17:51:23.187

我会做类似于以下的事情：

```
Class A
{
private:
    unordered_map<string, BigData> m_map;   // lots of data
    vector<BigData*> best10;

public:
    A()
        : best10(10)
    {
        // Other constructor stuff
    }

    const vector<BigData*>&   get10BestItems()
    {
       // Set best10[0] through best10[9] with the pointers to the best 10
       return best10;
    }

}; 
```

注意几点：

*   向量不是每次都重新分配，而是作为常量引用返回，所以当你调用`get10BestItems`.

*   在这种情况下，指针就可以了。您阅读的有关避免指针的内容可能与堆分配有关，在这种情况下`std::unique_ptr`或`std::shared_ptr`现在是首选。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T17:59:43.450

`boost::ref`这对我来说听起来像是一份工作。只需稍微更改您的原始代码：

```
typedef std::vector<boost::ref<BigData> > BestItems;

BestItems  get10BestItems()
    {
        BestItems  results;
        for ( ........  // iterate over m_map and add 10 best items to results
        // ... 
       return results;
    } 
```

现在，您理论上只返回对返回向量中每个项目的引用，使其复制起来既小又便宜（如果编译器无法完全优化返回副本）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T18:00:16.803

我通常使用[boost::range](http://www.boost.org/doc/libs/1_53_0/libs/range/doc/html/index.html "提升文档")，我发现它在很多情况下都是无价的，尤其是你描述的那个。

您可以保留范围对象并对其进行迭代等。

但我应该提一下，如果您在获取范围和使用范围之间添加/删除对象，我不知道会发生什么，因此您可能需要在使用它之前检查一下。

# windows - 使用 cmd 提示在 google 或其他搜索引擎上搜索单词

> ID：14778318
> 
> 赞同：8
> 
> 时间：2013-02-08T17:44:24.933
> 
> 标签：windows, search, console, cmd

我正在尝试使用编程语言来**搜索**google 或其他指定的搜索引擎。我想使用 windows cmd 提示符来执行此操作，因为指定的编程语言有一个简单的命令来访问 cmd 提示符。

关于如何从 cmd 提示符搜索 google 的任何想法？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-10T11:33:03.480

只需在命令行或运行命令中键入它，它就会打开您的默认浏览器让 Google 搜索`SEARCHTERM`：

```
start www.google.com/search?q=SEARCHTERM 
```

请注意，您必须用加号替换空格，例如

```
start www.google.com/search?q=Use+cmd+prompt+to+search+a+word+on+google+or+other+search+engine 
```

或者，您也可以将此命令放在批处理文件中：

```
@start www.google.com/search?q=%1+%2+%3+%4+%5+%6+%7+%8+%9 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-06-15T16:37:31.347

简单的。

```
@echo off
color a
setlocal ENABLEDELAYEDEXPANSION
echo Google Batch
echo Made By GenoSans
start https://discord.gg/WwRtbBe
timeout -t 5 /nobreak
:a
cls
echo                                            ,,
echo   .g8'''bgd                               `7MM
echo .dP'     `M                                 MM
echo dM'       `   ,pW'Wq.   ,pW'Wq.   .P'Ybmmm  MM  .gP'Ya
echo MM           6W'   `Wb 6W'   `Wb :MI  I8    MM ,M'   Yb
echo MM.    `7MMF'8M     M8 8M     M8  WmmmP'    MM 8M''''''
echo `Mb.     MM  YA.   ,A9 YA.   ,A9 8M         MM YM.    ,
echo   `'bmmmdPY   `Ybmd9'   `Ybmd9'   YMMMMMb .JMML.`Mbmmd'
echo                                  6'     dP
echo                                   Ybmmmd'
echo.
set /p s=Search: 
set word=+
set str=%s%
set str=%str: =!word!%
start http://www.google.com/search?q=%str%
goto a 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-11-22T12:37:19.523

我创建了一个批处理文件“g.bat”并将其添加到我的 PATH 中。它看起来像这样：

```
start www.google.co.uk/search?q=%1+%2+%3+%4+%5 
```

最多支持 5 个单词（当然你可以添加更多）。现在我可以从 CMD 搜索或输入“g query”开始

编辑：感谢 mrt 的灵感

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2016-04-25T02:47:50.510

您可以在 ps1 文件中写入：

```
function googleSearch{start www.google.com/search?q=$args}
set-alias g googleSearch 
```

然后重新启动你的powershell，

```
g whatwhatwhat 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-11-21T14:13:02.543

`doskey`在包含这些行的 .bat 或 .cmd 文件中创建别名：

```
@echo off
title "Foo Bar"
doskey goo=echo off $T echo Googling: $* $T start "" "www.google.com/search?q=$*" $T echo on 
```

我们添加`""`在默认浏览器中启动研究。
但是，如果您想转到另一个搜索引擎，只需将其更改为`browser`. 例如，`iexplorer`对于 Internet Explorer 或者`firefox`如果您更喜欢 Mozilla Firefox。

使用它的示例：

```
goo stack overflow      // it works ! 
```

**弱点：**如果您搜索包含`&`特殊字符的句子，将停止您的研究直到该字符。

例子 ：

```
goo stack& overflow     // it does not work ! 
```

享受 ！=)

**注意：**对于拥有 Cygwin 或 MSYS2 的 Linux 用户，您可以在 .bashrc 文件中添加此函数以执行相同的例程：

```
goo ()
{
    echo "Googling: $@";
    start "" "www.google.com/search?q=$*" $@
} 
```

此致 ！

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-08T17:59:10.610

我想你可以从命令行使用[wget 。](http://gnuwin32.sourceforge.net/packages/wget.htm)

```
wget -U "Firefox/3.0.15" http://www.google.com/search?q=SEARCH+TERMS+HERE -O result.html -q 
```

或`-O- -q`输出到标准输出。但是，从 html 中抓取结果将完全是另一回事。

如果您确实获得了 wget，那么还不如获得[grep](http://gnuwin32.sourceforge.net/packages/grep.htm)，或者只是获得所有[GnuWin32](http://gnuwin32.sourceforge.net/)，因为它非常有用。然后你可以做这样的事情：

```
wget -U "Firefox/3.0.15" "http://www.google.com/search?q=wget+google+search" -O- -q 2>&1 | grep -E -o -e "<cite>[^<]+</cite>" | sed -r -e "s/<[^>]+>//g" 
```

... 从 Google 搜索中获取第一个链接的 URL。天空是极限。发挥创意。

（上面示例命令的输出`isaksen.biz/blog/?p=470`：）

如果你想显示第一个标题和第一个 URL，它会变得有点复杂。

```
@echo off
setlocal enabledelayedexpansion
set search=%1 %2 %3 %4 %5 %6 %7 %8 %9
for /l %%a in (1,1,8) do if "!search:~-1!"==" " set search=!search:~0,-1!
set search=%search: =+%
wget -U "Firefox/3.0.15" "http://www.google.com/search?q=%search%" -O search.html -q 2>NUL
for /f "tokens=*" %%I in ('grep -P -o "<h3 class=.*?</h3>" search.html ^| sed -r -e "s/<[^>]+>//g"') do (
    echo %%I
    goto next
)
:next
set /p I="http://"<NUL
for /f "tokens=*" %%I in ('grep -E -o -e "<cite>[^<]+</cite>" search.html ^| sed -r -e "s/<[^>]+>//g"') do (
    echo %%I
    del /q search.html
    goto :EOF
) 
```

用法：`search.bat up to 9 search terms here`

例子：

```
C:\Users\me\Desktop>search command line google
googlecl - Command line tools for the Google Data APIs - Google ...
http://goosh.org/

C:\Users\me\Desktop> 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2016-05-29T11:39:55.813

也许这个？

```
@echo off
:start
cls
echo.
echo G O O G L E Web Search Version 1.1
echo.
echo Type search terms, and your internet browser will open it.
echo.
set /p Web=
start www.google.com/search?q=%Web%
goto start 
```

将其保存为 .bat 并繁荣！

* * *

## 回答 #8

> 赞同：-2
> 
> 时间：2014-11-07T10:18:49.853

*   打开记事本文件
*   类型`start www.google.com/`
*   然后用 .bat 扩展名保存文件
*   每次打开批处理文件以打开 Google 搜索
*   无需每次都进入 cmd 提示符

# node.js - 云代工 / appfog 上的 mongodb

> ID：14778320
> 
> 赞同：0
> 
> 时间：2013-02-08T17:44:41.420
> 
> 标签：node.js, mongodb, cloud-foundry, appfog

我正在使用 mongodb db 部署 nodejs 应用程序，其中包含集合/数据。我在 data/db 目录下有它。它没有用户名/密码。但是对于 appfog，该服务具有用户名/密码。mongodb 服务如何知道从我部署的数据库开始。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T22:44:23.467

创建 MongoDB 客户端时，您应该将服务器主机/端口和身份验证信息传递给它。

通常在 Heroku 或 Appfog 等托管服务上，此信息在 evncironment 变量中提供，可以使用`process.env.VARIABLE_NAME`

# ruby - 如何使用 Axlsx gem 将图像添加到表格单元格？

> ID：14778322
> 
> 赞同：0
> 
> 时间：2013-02-08T17:44:46.210
> 
> 标签：ruby, excel, axlsx

我正在使用 Axlsx gem 创建一个 excel 文件，我想添加一个图像。我目前能够添加图像，但它似乎以使其浮动在其他内容之上的方式添加图像。

我希望它存在于一个单元格中。这可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-05T13:54:03.490

这是一个古老的问题，但我们永远不知道。

这篇文章中有一个答案：[Adding image to Excel file generated by Axlsx.?](https://stackoverflow.com/questions/10714193/adding-image-to-excel-file-generated-by-axlsx)

您可以使用 image.start_at 指定要从中放置图像的单元格

```
sheet.add_image(:image_src => img, :noSelect => true, :noMove => true,   :hyperlink=>"http://axlsx.blogspot.com") do |image|
  image.width = 7
  image.height = 6
  image.hyperlink.tooltip = "Labeled Link"
  image.start_at 2, 2
end 
```

高温高压

# qt - 这段代码做什么

> ID：14778324
> 
> 赞同：-8
> 
> 时间：2013-02-08T17:44:56.117
> 
> 标签：qt

将此代码转换为Qt的正确方法是什么

```
base64_encode(unsigned char const* bytes_to_encode, unsigned int in_len)
{

 while (in_len--) {
      std::cout<< *(bytes_to_encode++)<<std::endl;
}
} 
```

*(bytes_to_encode++) 是做什么的

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T17:49:05.373

这个表达式`*(bytes_to_encode++)`做了两件事：

`*bytes_to_encode``bytes_to_encode`将读取指针指向的内存位置的字节。

`bytes_to_encode++`将指针`bytes_to_encode`加 1（因为它是一个无符号字符值）。这称为后增量运算符。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T17:49:12.193

由于 Qt 是一个 GUI 框架，我不明白您为什么必须转换该函数（我的意思是 Qt 中的任何内容都不会阻止您按原样使用该函数）。

无论如何：

`bytes_to_encode`是一个字符指针，因此`*bytes_to_encode`将返回 . 指向的字符`bytes_to_encode`。 `bytes_to_encode++`将返回指针然后递增它（即使其指向下一个位置。`*(bytes_to_encode++)`结合两个动作，即它返回所指向的字符`bytes_to_encode`然后递增指针，以便下次返回下一个字符。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T19:19:16.237

我看不出您的功能与 Base64-Encoding 有什么关系。但是，看看[QByteArray](http://qt-project.org/doc/qt-4.8/qbytearray.html#fromBase64) ::fromBase64和[QByteArray::toBase64](http://qt-project.org/doc/qt-4.8/qbytearray.html#toBase64)：

```
const QByteArray bytes_to_encode = "your data";
const QByteArray encoded = bytes_to_encode.toBase64();
std::cout << encoded.constData() << std::endl; 
```

解码：

```
const QByteArray encoded = "eW91cl9kYXRh";
const QByteArray decoded = QByteArray::fromBase64( encoded );
std::cout << decoded.constData() << std::endl; 
```

# c++ - C++：三元运算符中使用的右值引用似乎破坏了现有代码

> ID：14778326
> 
> 赞同：3
> 
> 时间：2013-02-08T17:44:59.823
> 
> 标签：c++, c++11, ternary-operator, move-semantics, rvalue-reference

我目前正在将我使用 Borland C++-Builder 5 和 6 开发多年的项目之一移植到最新的 Embarcadero C++-Builder XE 3 Update 2。XE 3 支持一些新的 C++11-诸如右值引用之类的东西对我来说当然是全新的，因为前者使用了非常旧的编译器。我只需要很少的修改就可以使我的项目可编译，但在运行时我面临一个问题，这似乎是新的右值引用和移动语义的结果。

我有一个类，其类型为 std::wstring 的字段存储一个路径，该路径只能从一个方法中读取，该方法在三元运算符中使用此字段，如下所示：

```
std::wstring retVal = someCondition ? this->classField : Util::doSomething(someArg); 
```

someCondition 只是对 std::wstring.empty() 的调用，而 Util::doSomething 将 std::wstring 作为值返回，没有引用或涉及其他内容，只是复制了数据。

在 XE 3 中，第一次 someCondition 评估为 true 后，retVal 被正确填充 classField 的内容，但之后 classField 的内容为空。使用调试器，我可以跟踪执行到带有右值引用的优化赋值运算符：

```
 #if _HAS_RVALUE_REFERENCES
[...]
    _Myt& operator=(_Myt&& _Right)
        {   // assign by moving _Right
        return (assign(_STD forward<_Myt>(_Right)));
        }

    _Myt& assign(_Myt&& _Right)
        {   // assign by moving _Right
[...] 
```

我读到的关于右值引用的内容可以完美地解释我的问题，我什至发现两条评论解释了为什么我的 classField 被视为右值。

[https://stackoverflow.com/a/8535301/2055163](https://stackoverflow.com/a/8535301/2055163)

[https://stackoverflow.com/a/6957421](https://stackoverflow.com/a/6957421)

我可以使用额外的 classField 手动副本来修复上面的行：

```
std::wstring retVal = someCondition ? std::wstring(this->classField) : Util::doSomething(someArg); 
```

但这并不能解决我需要在没有编译器任何帮助的情况下移植的每个项目中检查三元运算符（混合左值和右值）的每一次使用的问题，因为它是一个运行时问题，可能或可能不会发生。

我不明白的是，我对三元运算符的使用是否有问题或不好的做法？是否有更好的解决方案来检测这些病例？为什么我应该手动复制一些对象只是为了欺骗优化？这真的是预期的行为，并且在您的大多数代码库中都没有问题吗？您如何处理此类问题？

我对现在如何取得进展有点困惑，非常感谢任何建议和/或解释。谢谢！

* * *

我测试了以下两个有效的案例：

[http://ideone.com/mWxxK3](http://ideone.com/mWxxK3)

第一个示例看起来与我的情况相似，预计没有使用类实例来存储全局字符串。dummy2 已正确填充，并且 dummy 保留其内容。

```
std::wstring retVal = someCondition ? this->classField : doSomethingResult; 
```

当我在使用三元运算符之前通过将 Util:... 的结果保存到 std::wstring 来更改上面的行以删除右值时，一切都按预期工作。retVal 有它的内容，this->classField 也有它的内容。

现在的结论是什么？：-/

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T18:11:56.190

看起来像一个编译器错误。该标准的相关部分是 5.16p6：

> [If] 第二个和第三个操作数的类型相同；结果就是那种类型。如果操作数具有类类型，则结果是结果类型的临时纯右值，根据第一个操作数的值从第二个操作数或第三个操作数复制初始化。

* * *

如果`Util::doSomething(someArg)`返回`std::string&&`而不是值，我们需要第 5.16p3 节：

> 否则，如果第二个和第三个操作数具有不同的类型并且具有（可能是 cv 限定的）类类型，或者如果两者都是相同值类别和相同类型（除了 cv 限定）的 glvalue，则尝试转换每个这些操作数的类型到另一个的类型。确定一个类型的操作数表达式是否`E1`可以`T1`转换为匹配一个`E2`类型的操作数表达式的过程`T2`定义如下：
> 
> *   if`E2`是左值：`E1`可以转换为匹配`E2`if`E1`可以隐式转换为“左值引用`T2`”类型，但受制于在转换中引用必须直接绑定到左值的约束。
> *   if`E2`是一个 xvalue：`E1`可以转换为匹配`E2`if`E1`可以隐式转换为类型“rvalue reference to `T2`”，受引用必须直接绑定的约束。
> *   If`E2`是一个右值，或者上面的转换都不能完成，并且至少有一个操作数具有（可能是 cv 限定的）类类型：
>     *   if`E1`和`E2`具有类类型，并且基础类类型相同或一个是另一个的基类：如果该类与 的类的类型相同，或者是其基类，则`E1`可以转换为匹配，并且的 cv 限定与 的cv 限定相同或更高的 cv 限定。如果应用了转换，则通过复制初始化类型的临时值并将该临时值用作转换后的操作数，将其更改为类型的纯右值。`E2``T2``T1``T2``T1``E1``T2``T2``E1`
>     *   否则（即，如果`E1`或`E2`具有非类类型，或者如果它们都具有类类型但基础类不相同或不是另一个的基类）：`E1`可以转换为匹配`E2`if`E1`可以隐式转换为该类型如果将表达式转换为纯右值（或它具有的类型，如果是纯右值） ，则该表达式`E2`将具有。`E2``E2`

第四个项目符号适用，因此应自动制作副本，无需更改源代码。

* * *

在这两种情况下，临时副本都可以在构建时安全地移动`retval`。

# python - 使用python在谷歌浏览器中获取当前活动标签

> ID：14778327
> 
> 赞同：0
> 
> 时间：2013-02-08T17:45:12.497
> 
> 标签：python, google-chrome

我对python很陌生，我希望我能做到这一点。

我希望通过我的 python 代码在我的 google chrome 中获取当前活动选项卡的 url。

有什么简单的方法可以做到这一点？任何库？

提前致谢。

# jquery - 带有附加表单数据的 JQuery 多文件上传

> ID：14778332
> 
> 赞同：3
> 
> 时间：2013-02-08T17:45:27.173
> 
> 标签：jquery, file-upload

有没有人幸运地创建了一个包含一些额外表单数据的多文件上传解决方案。所以在这个例子中，工作流程是这样的。

1.  用户点击添加文件/上传按钮
2.  用户从文件选择器中选择一个或多个文件
3.  几个项目被添加到上传队列
4.  **每个队列项目都有一个附加的用户输入字段。例如图像/视频的标题**
5.  用户点击上传，请求继续发送到服务器

我想要做的大部分事情都可以通过uploadify 或Jquery upload 之类的方法来完成，但有一部分我似乎找不到一个好的解决方案。

造成麻烦的是第4步。在uploadify 中，我注意到您可以设置一个项目模板，这样我实际上可以添加表单元素没有问题。

当表单提交时，问题就开始了，我似乎无法获得事件或任何方式我可以将表单数据设置回任何地方以进行回发。

有没有人解决这个问题或能够帮助解决这个问题。我对任何可行的事情都持开放态度......

提前致谢 ...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-16T10:15:33.073

你完全可以用 JQuery-Upload 来做到这一点，它只需要一些强制。控件触发添加事件，该事件返回用于向服务器提交请求的数据对象。对于添加到队列中的每个项目，都会调用一次 Add。我没有完整的演示，但这里是它的要点......

首先，按照本文中的大部分步骤进行操作：

[https://github.com/blueimp/jQuery-File-Upload/wiki/How-to-submit-additional-form-data](https://github.com/blueimp/jQuery-File-Upload/wiki/How-to-submit-additional-form-data)

现在考虑执行以下操作：

1.  按照文章中的说明自定义行模板。

2.  捕获控件的添加事件，并将添加事件返回的数据项放入列表中。

3.  捕获对表单上按钮的单击，阻止对其执行默认操作，然后为在步骤 2 中捕获的列表中的每个项目调用 data.submit。

所以，像这个咖啡脚本示例......

```
jQuery ->

  queueItems = new Array()

  $('#my_upload').fileupload

    add: (e, data) ->
        # after doing any other processing needed, keep a list of the data objects added
        queueItems.push(data)

    $('#form_submit').click (event) =>

      # don't do the default action
      event.preventDefault()

      for data in queueItems

        # get the inputs from the row associated with this item in the queue
        inputs = data.context.find(':input')

        # get any other general hidden inputs from the page you want associated with the row.
        # merge keeps the jquery search results in a format that works with serializeArray
        inputs = $.merge(inputs, $("#some_field"))

        # set the form data for the request
        data.formData = inputs.serializeArray();

        #submit it
        data.submit()

      # reset the queue so if the user add's more items we don't submit twice
      queueItems.length = 0 
```

# c++ - C++ 处理无效参数

> ID：14778333
> 
> 赞同：0
> 
> 时间：2013-02-08T17:45:28.613
> 
> 标签：c++, parameters, invalid-argument

我正在写一个 C++ 类。它的一些字段是 STL 容器，有些不是。在编写方法时我开始想，我应该如何处理传递给方法的无效值？例如，某些方法或多或少是 STL 容器方法的包装器。当传递无效的迭代器时，许多 STL 方法只是具有“未定义的行为”。我想是这样的，因为它允许 STL 代码忽略这些情况，从而更快。

但是对于更高级别的代码，我该怎么办？当发生意外错误时，我确实会抛出异常，例如开发人员犯的错误导致的错误。但在这种情况下，参数值取决于接口用户，而不是实现者。我可以忽略无效的参数和无效的迭代器等，并将问题“传递”给较低级别​​的函数，这将产生未定义的行为，但我也可以抛出异常或至少找到某种方法来报告错误。

最好的办法是什么？

示例：我有一个表示树节点的类，它有一个 add_child() 方法，它采用 std::shared_ptr 参数。我应该检查该值还是让用户确保没有通过 nullptr？或者对于无效的迭代器，将其传递给 STL 方法或报错？如果我应该报告 - 例外是正确的解决方案吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T18:00:07.693

我认为无法给出一个普遍的答案。太多的事情影响了你没有提到的决定：首先，你是在开发库还是应用程序？

在第一种情况下，应该优先考虑灵活性，最好的选择通常是设计你的界面，让客户做出决定。由于您不知道哪些客户将使用您的课程以及他们将有哪些要求，因此最好尽可能少做假设。例如，如果您的客户有严格的性能要求，他们将不愿意支付额外边界检查的性能损失。基本上，这也是 STL 也不执行绑定检查的原因。

在第二种情况下，它取决于您的应用程序的性能要求以及您的类必须提供的异常安全保证。哪些操作需要不抛出？您是否允许或计划在 STL 容器中使用您的类？是否会在你的应用程序的最关键部分使用它，这样在这个类的算法中小的性能提升会影响你的应用程序的整体执行时间？

没有“普遍最佳的设计”之类的东西。工程就是根据手头的特定情况找到正确的折衷方案，软件工程也不例外。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-08T18:04:50.617

在这种情况下，我会使用如下断言：

```
assert(i < vec.size());
return vec[i]; 
```

这样，如果使用 NDEBUG 标志编译程序，您将获得最高性能并且无需检查。在开发过程中，您可能会在运行时出错并调试您的代码。断言宏可用于#include < cassert >。

# ruby - 工厂 - 将序列作为后备的字段

> ID：14778335
> 
> 赞同：0
> 
> 时间：2013-02-08T17:45:39.923
> 
> 标签：ruby, rspec2, factory-bot

**问题：**我如何在一个字段中同时使用序列和瞬态属性？

**背景：**我有工厂，有一个名字。名称是序列以保持其唯一性。然而，在少数规格中，我需要它设置我选择的名称，以便我可以预测它。这不是 Rails 项目。

在我的脑海里它看起来像`name {attribute_from_create_call||FactoryGirl.generate :name}`。但我不知道如何获取我赋予 create 方法的属性

工厂：

```
FactoryGirl.define do
  sequence :name do |n|
    'Testing Bridge '+n.to_s
  end

  factory :historical_bridge do
    name {FactoryGirl.generate :name}
  end
end 
```

工厂用途：`FactoryGirl.create :historical_bridge, name: 'Bridge from '+Time.now.to_s`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:37:40.437

您可以使用 FactoryGirl 使用序列创建属性哈希，然后合并您想要对该哈希进行的任何更改：

```
new_name = 'Bridge from '+Time.now.to_s
attr = FactoryGirl.attributes_for(:historical_bridge).merge(:name => new_name) 
```

然后你可以做一些事情，比如创建一个具有这些自定义属性的对象：

```
HistoricalBridge.create(attr) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T18:46:38.393

我认为您不应该使用预定义的名称而不是序列，而是检查以下内容：

```
let(:bridge) { create :historical_bridge }

it { HistoricalBridge.something.name.should == bridge.name } 
```

# java - MOXy 不会导入它生成的其他模式

> ID：14778338
> 
> 赞同：1
> 
> 时间：2013-02-08T17:45:46.023
> 
> 标签：java, jaxb, eclipselink, moxy

我按照[此处](http://jaxb.java.net/guide/Invoking_schemagen_programatically.html)的说明为我的注释类生成 XML 模式。我将 MOXy 用于 JAXB 的底层实现，因为我需要它的某些特性`@XmlPath`，比如它如何处理`XmlAdapter`.

上面链接中的代码将模式生成为两个模式文件，即一个包含简单和复杂类型的规则，另一个仅包含枚举类型的模式。理想情况下，我希望它们位于单个模式文件中，但这不是现在的主要问题。

当我使用 JAXB 的 Sun 实现时，它会生成模式并导入另一个模式。但是，当我切换到使用 MOXy 实现时，它不会导入其他模式，请参见下面的示例：

```
<xsd:schema xmlns:ns0="http://my/schema" xmlns:xsd="http://www.w3.org/2001/XMLSchema" targetNamespace="http://my/schema" elementFormDefault="qualified">
    <!-- this bit is missing when MOXy is used -->
    <xsd:import schemaLocation="schema2.xsd"/>
...
</xsd:schema> 
```

有谁知道如何解决这个问题？

这是我使用的一段代码：

```
 JAXBContext context = JAXBContext.newInstance(Person.class, IdentifierType.class);
    SchemaOutputResolver sor = new MySchemaOutputResolver();
    context.generateSchema(sor); 
```

`Person`是标准 POJO 并且`IdentifierType`是枚举。它们都使用 JAXB 注释进行注释，例如`@XmlRootElement`,`@XmlEnum`等。（如果需要，我可以提供更多代码）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:10:27.897

**更新 - 问题已修复**

感谢您为此问题输入以下错误。

*   [http://bugs.eclipse.org/400366](http://bugs.eclipse.org/400366)

这已在 EclipseLink 2.4.2 和 2.5.0 流中得到修复。您可以使用从 2013 年 2 月 12 日开始的夜间下载来尝试修复，如下所示：

*   [http://www.eclipse.org/eclipselink/downloads/nightly.php](http://www.eclipse.org/eclipselink/downloads/nightly.php)

* * *

我无法重现您所看到的问题。以下是我到目前为止所尝试的。

**场景 #1 -`Person`并且`IdentifierType`在相同的命名空间中**

如果 POJO 和 Enum 在同一个命名空间中，那么只会生成一个 XML 模式。

**人 (POJO)**

```
package forum14778338;

import javax.xml.bind.annotation.XmlRootElement;

@XmlRootElement
public class Person {

    private IdentifierType identifierType;

    public IdentifierType getIdentifierType() {
        return identifierType;
    }

    public void setIdentifierType(IdentifierType identifierType) {
        this.identifierType = identifierType;
    }

} 
```

**标识符类型**

```
package forum14778338;

public enum IdentifierType {

    FOO,
    BAR

} 
```

**jaxb.properties**

```
javax.xml.bind.context.factory=org.eclipse.persistence.jaxb.JAXBContextFactory 
```

**演示**

```
package forum14778338;

import java.io.IOException;
import javax.xml.bind.*;
import javax.xml.transform.Result;
import javax.xml.transform.stream.StreamResult;

public class Demo {

    public static void main(String[] args) throws Exception {
        JAXBContext jc = JAXBContext.newInstance(Person.class);

        jc.generateSchema(new SchemaOutputResolver() {

            @Override
            public Result createOutput(String namespaceURI, String suggestedFileName)
                    throws IOException {
                StreamResult result = new StreamResult(System.out);
                result.setSystemId(suggestedFileName);
                return result;
            }

        });
    }

} 
```

**输出**

```
<?xml version="1.0" encoding="UTF-8"?>
<xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema">
   <xsd:complexType name="person">
      <xsd:sequence>
         <xsd:element name="identifierType" type="identifierType" minOccurs="0"/>
      </xsd:sequence>
   </xsd:complexType>
   <xsd:element name="person" type="person"/>
   <xsd:simpleType name="identifierType">
      <xsd:restriction base="xsd:string">
         <xsd:enumeration value="FOO"/>
         <xsd:enumeration value="BAR"/>
      </xsd:restriction>
   </xsd:simpleType>
</xsd:schema> 
```

**场景 #2 -`Person`在`IdentifierType`不同的命名空间中**

如果 POJO 和 Enum 位于不同的名称空间中，则应生成两个 XML 模式。

**标识符类型**

我已将`@XmlType`注释添加到`IdentifierType`枚举中，以将其放在不同的命名空间中。

```
package forum14778338;

import javax.xml.bind.annotation.*;

@XmlEnum
@XmlType(namespace="foo")
public enum IdentifierType {

    FOO,
    BAR

} 
```

**输出**

```
<?xml version="1.0" encoding="UTF-8"?>
<xsd:schema xmlns:ns0="foo" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
   <xsd:import schemaLocation="schema2.xsd" namespace="foo"/>
   <xsd:complexType name="person">
      <xsd:sequence>
         <xsd:element name="identifierType" type="ns0:identifierType" minOccurs="0"/>
      </xsd:sequence>
   </xsd:complexType>
   <xsd:element name="person" type="person"/>
</xsd:schema>
<?xml version="1.0" encoding="UTF-8"?>
<xsd:schema xmlns:ns0="foo" xmlns:xsd="http://www.w3.org/2001/XMLSchema" targetNamespace="foo">
   <xsd:simpleType name="identifierType">
      <xsd:restriction base="xsd:string">
         <xsd:enumeration value="FOO"/>
         <xsd:enumeration value="BAR"/>
      </xsd:restriction>
   </xsd:simpleType>
</xsd:schema> 
```

# php - simple_xml 获取属性的最大值

> ID：14778339
> 
> 赞同：1
> 
> 时间：2013-02-08T17:45:50.000
> 
> 标签：php, xpath, simplexml

我正在尝试获取以下 xml（代码段）中每个项目的选项节点的最大值和最小值：

```
<body>
    <page number="1">
        <itemset name="a">
            <item id="1">
               <option value="0">no</option>
               <option value="1">rarely</option>
               <option value="3">sometimes</option>
               <option value="5">often</option>
               <scale id="ho" />
            </item>
            <item id="2">
                <option value="0">no</option>
                <option value="1">rarely</option>
                <option value="3">sometimes</option>
                <option value="5">often</option>
                <scale id="hi" />
            </item>
        </itemset>
    </page>
</body> 
```

我在 foreach 循环中执行此操作...

```
...

$scid="ho";
$total=0;
$count=0;

foreach ($txml->xpath("//item[scale/@id='$scid']") as $item) {
    $score=$rxml->xpath("//item[@id='".$item['id']."']"); // get a value from another simple_xml-object
$total+=intval($score[0]);
$count++;
// ******* problem starts here...           
$values = $item->option['value'];
// doing sth with $values to get max and min value
    echo '<pre>'; 
    print_r($values); // ******* 
    echo '</pre>';
} // foreach $item

... 
```

我得到的`$values`是

```
SimpleXMLElement Object
(
    [0] => 0
) 
```

`$values = $item->xpath('option[@value]');`相反，我得到...

```
 Array
(
    [0] => SimpleXMLElement Object
    (
        [@attributes] => Array
            (
                [value] => 0
            )

    )

    [1] => SimpleXMLElement Object
    (
        [@attributes] => Array
            (
                [value] => 1
            )

    )

    [2] => SimpleXMLElement Object
    (
        [@attributes] => Array
            (
                [value] => 3
            )

    )

    [3] => SimpleXMLElement Object
    (
        [@attributes] => Array
            (
                [value] => 5
            )

    )

) 
```

我正在寻找一个更直接的解决方案 - 或者如何从那里获得最小值和最大值。

我想得到一些喜欢`$values['max']=5`和`$values['min']=0`

先感谢您，

道

PS：由于我无法使用 simple_xml 进行此操作并且不想切换到 DOM，因此我决定使用一些基本的 PHP 快速而肮脏地完成它：

```
foreach ($item->xpath("//item[@id='".$item['id']."']/option/@value") as $value) {
    $v[]=(int)$value->value;
}
echo max($v);
echo min($v); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T21:21:54.433

在这篇[文章的](https://stackoverflow.com/questions/1128745/how-can-i-use-xpath-to-find-the-minimum-value-of-an-attribute-in-a-set-of-elemen)帮助下，我得到了以下示例：

```
$doc = new DOMDocument();
@$doc->loadHTML($htmlcontent);

$selector = new DOMXPath($doc);

// get max value of item with id 1
$result = $selector->query('//item[@id=1]/option[not(preceding-sibling::option/@value >= @value) and not(following-sibling::option/@value > @value)]/@value');

if(!$result || $result->length < 1) {
    die('error');
}
foreach($result as $item) {
    echo 'max: ', $result->item(0)->value, PHP_EOL;
}

// get min value of item with id 1
$result = $selector->query('//item[@id=1]/option[not(preceding-sibling::option/@value <= @value) and not(following-sibling::option/@value < @value)]/@value');

if(!$result || $result->length < 1) {
    die('error');
}
foreach($result as $item) {
    echo 'min: ' . $result->item(0)->value, PHP_EOL;
} 
```

# c# - 为什么 DOM（文档对象模型）将所有内容加载到主内存中

> ID：14778340
> 
> 赞同：1
> 
> 时间：2013-02-08T17:45:58.177
> 
> 标签：c#, java, dom

文档对象模型（DOM）用于表示`xml`，`html`

但是我无法理解为什么 DOM 将所有内容都加载到主内存中。它是用于使我们能够在其中插入、删除对象还是有其他东西..

还有它的优点是什么，使它的用途如此**广泛**？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T17:50:09.007

因为能够实现诸如

```
document.getElementsByTagName("foo"); 
```

您需要完全解析文档，并将节点树加载到内存中。您可以在每次方法调用时成像重新解析文档，但这会非常低效。

它如此受欢迎的原因在于它是一个标准的 API，受到地球上所有语言的支持，这使得浏览节点和提取所需信息变得相对容易。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T18:05:18.900

XML 文档本质上是一个树结构。一次将整个树加载到内存中很*方便。*对于某些 XML 模式尤其如此，其中某些节点依赖于树的其他部分。这就是完整加载文档的优点。这也意味着应用 XSLT 转换之类的操作得到了简化——并且可以说性能更高，因为文档已经在内存中。不再需要 I/O（而且由于大多数应用程序受 I/O 限制而不是 CPU 限制，这是一件好事。）

缺点包括：

*   速度。在加载整个文档之前，您无法访问它。对于非常大的文档尤其如此。
*   内存使用情况。对于大型文档，消耗的内存量可能是一个问题，增加了系统上的分页。
*   有效性。如果文档在语法上无效或无法针对架构进行验证，那么即使它 95% 有效，它也可能完全无法使用。根据上下文，这可能是也可能不是问题。对于加载可能包含大量语法/模式错误的随机 HTML 文档之类的内容，这是一个问题：正确加载文档需要大量错误处理和内置假设（对于“正确”的某些定义）。

像 SAX 这样的事件驱动解析策略更简单。但是，它要求解析使用者以一种在内存中维护完整文档结构不需要的方式跟踪状态。此外，它几乎是单程操作。如果消费者需要回溯文档以达到预期的效果......消费者将需要维护这样做所需的堆栈。但是，事件驱动的解析使用的内存要少得多，它可能会在解析事件开始引发时立即处理，而且它更简单（因为它会将大量工作传递给消费者）。

我不相信你可以说一个*比*另一个好。它们只是不同的方法。根据上下文，一种或另一种方法可能更适合手头的问题。

有人可能会争辩说，将整个文档加载到内存中的 XML 解析器只是底层事件驱动的 SAX 样式解析器的通用消费者。这是否属实，我不知道，但肯定可以这样做。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T18:05:56.290

DOM 就是这样 - 对象模式，一种访问某些东西的方式。

在大多数情况下，例如在浏览器中加载的 HTML 文档已经加载到内存中，而 DOM 只是让您以易于理解的方式访问它。

当您在文档上实现 DOM 时，对您没有明确的限制。隐含的期望是迭代子节点将是线性的，并且在树中向上/向下将是恒定时间。通常，将整个文档加载到内存中以满足期望是最容易的，但您不必这样做。

# javascript - 计算 TOTAL CONSUMPTION 和 Consumption per person

> ID：14778344
> 
> 赞同：-5
> 
> 时间：2013-02-08T17:46:03.917
> 
> 标签：javascript

我尝试计算计算每人的总消费量和消费量。

相关代码：

```
$(function () {
    $(".items").keyup(function (event) {
        var total = 0;
        $(".items").each(function () {
            var gtotal = 0;
            $(this).find(".targetfields").each(function () {
           var qty = parseInt($(this).find(".quantity").val()||'0');
           var rate = parseInt($(this).find(".rate").val()||'0');
                var subtotal = qty * rate;
                $(this).find(".subtotal").val(subtotal);
                if (!isNaN(subtotal)) gtotal += subtotal;

            });
            $(this).find(".g_total").html(gtotal + "Din");
            total += gtotal;
        });
        $("#total").html(total + "Din");
    });

}); 
```

测试的小提琴：http: [//jsfiddle.net/Odisej/CgeHU/](http://jsfiddle.net/Odisej/CgeHU/)

我被卡住了......这个脚本有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T17:51:26.727

`parseInt('')`给`NaN`. 当你乘以`NaN`一个数字时，你得到`NaN`.

所以我建议更换

```
 var qty = parseInt($(this).find(".quantity").val());
            var rate = parseInt($(this).find(".rate").val()); 
```

和

```
 var qty = parseInt($(this).find(".quantity").val())||0;
            var rate = parseInt($(this).find(".rate").val())||0; 
```

# sql - SQL - 按单词开头搜索

> ID：14778350
> 
> 赞同：14
> 
> 时间：2013-02-08T17:46:26.193
> 
> 标签：sql, extract

我想编写一个 SQL SERVER 语句，该语句在以某字开头的字符串中搜索单词的开头。

例如，如果我在公司记录中搜索“他们”，我应该得到：

艾米丽公司

艾美奖

不是

忘记他们

旅鼠有限责任公司

我可以在 PHP 中通过将字符串提取/切片到一个数组中并搜索每个单词的开头来做到这一点。但是如何在不使用存储过程/函数的情况下在 SQL 服务器中编写这个查询呢？

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-02-08T17:52:55.893

JW 的答案将适用于 Em 位于该字段开头的条目。

如果您还需要检索单词不是字符串中第一个单词的值，请尝试：

```
SELECT * FROM tableName WHERE CompanyName LIKE 'Em%' or CompanyName LIKE '% Em%' 
```

（这是假设所有单词都用空格分隔。）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T17:48:04.363

采用`LIKE`

```
SELECT * FROM tableName WHERE CompanyName LIKE 'Em%' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T17:57:45.403

另一种选择是[`CONTAINS`](http://msdn.microsoft.com/en-us/library/ms187787.aspx)，例如：

```
SELECT ... WHERE CONTAINS(CompanyName, 'Em*'); 
```

* * *

## 回答 #4

> 赞同：-3
> 
> 时间：2021-06-11T16:09:23.247

对于 MS 访问：

```
SELECT * FROM Table1 WHERE Company_Name LIKE 'Word*' 
```

对于更*标准*的DBMS：

```
SELECT * FROM Table1 WHERE Company_Name LIKE 'Word%' 
```

# android - 将字符串添加到 int / 以 String 的形式添加 int

> ID：14778354
> 
> 赞同：0
> 
> 时间：2013-02-08T17:46:35.197
> 
> 标签：android, string, colors, int, addition

我需要知道如何以整数的形式添加字符串，例如，如果我需要使用`setBackgroudColor(int)`它可以是这样的：

```
 String a = "15"; // Here I mean like its user changeable , so the user can change only this part of the int;
 View.setBackgroundColor("0x" + a + "000000"); 
```

为了澄清更多，我希望这两个数字是用户可更改的，这里仍然是一个示例：

```
1 + 1 = 2 // which is I don't want

1 + 1 = 11 // which I want 
```

在这种情况下请帮助我，如果您需要更多信息，请告诉我...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T17:49:46.700

您可以直接在二进制数学中执行此操作。要设置 ARGB，您可以使用以下逻辑：

```
int a = 0x10;
int r = 0x20;
int g = 0x30;
int b = 0x40;

int finalColor = (a << 24) + (r << 16) + (g << 8) + b; 
```

键入 0x（即数字零和字母“X”）表示该数字采用十六进制格式。这意味着你可以这样说：

```
int red = 0xff; // This is valid. 
```

我给您的逻辑允许您以十六进制指定颜色，并获取颜色的 int 值。

操作“<<”是“二进制移位”，它将您的位移动到正确的位置。

例如：

```
int x = 1;
x = x << 1;
// Now x is equal to 2 (since 1 shifted to the left is 10, which is 2 in binary). 
```

我在上面给你的代码正确地改变了所有的颜色。

在您的代码中尝试该逻辑:)

如果您还有任何问题，我随时待命。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T18:34:36.430

虽然上述答案应该可以解决问题，但对于您的情况，您可能会研究该`Color.argb()`方法。不确定您如何获得用户输入，但我们假设它们是`EditText`对象：

```
EditText a, r, g, b;
//initialize them

int aInt, rInt, gInt, bInt;

try {
    aInt = Integer.valueOf(a.getText().toString());
    bInt = Integer.valueOf(b.getText().toString());
    cInt = Integer.valueOf(c.getText().toString());
    dInt = Integer.valueOf(d.getText().toString());
} catch (NumberFormatException ex) {
    //Throw a warning dialog that the user's input was invalid
}

view.setBackgroundColor(Color.argb(aInt, rInt, gInt, bInt)); 
```

这当然是假设您以整数 0-255 的形式获得输入。

编辑：实际上，如果您只是想更改它的 alpha 部分，那就容易多了。您可以从用户那里获取 0-255 的整数形式的输入，验证它，然后执行以下操作：

```
EditText alpha;
String alphaString;

try {
    alphaString = Integer.toHexString(alpha.getText().toString());
} catch (NumberFormatException ex) {
    //Throw warning
}

view.setBackgroundColor(Color.parseColor("#" + alphaString + "000000")); 
```

# c# - 如何将多个对象添加到单个数组？

> ID：14778355
> 
> 赞同：4
> 
> 时间：2013-02-08T17:46:40.920
> 
> 标签：c#, arrays, object

我正在为游戏设计一个非常简单的库存系统。我遇到了一个障碍，我有需要接受多种类型对象的库存（特定类型的数组）。我的代码：

```
IWeapon[] inventory = new IWeapon[5];

public void initialiseInventory(IWeapon weapon, IArmour armour)
{
    inventory[0] = weapon; // Index 0 always contains the equipped weapon
    inventory[1] = armour; // Index 1 always contains the equipped armour
} 
```

我会收到一条错误消息，指出数组无法将盔甲对象转换为武器对象（这是数组类型）。然后我想我可能会创建一个超类（准确地说是接口），IWeapon 和 Iarmour 将从中继承。但后来我遇到了另一个错误......

```
IItem[] inventory = new IItem[5];

public void initialiseInventory(IWeapon weapon, IArmour armour)
{
    inventory[0] = weapon; // Index 0 always contains the equipped weapon
    inventory[1] = armour; // Index 1 always contains the equipped armour

    Console.WriteLine("The weapon name is: " + inventory[0].Name) // Problem!
} 
```

由于数组类型是 IItem，它只包含来自 IItem 的属性和方法，而不是来自 IWeapon 或 Iarmour。因此问题出现了，我无法访问位于子类（子接口）IWeapon 中的武器的名称。有没有办法以某种方式重定向它以在子接口（IWeapon 或 IArmour）而不是超接口（IItem）中查找属性？我是否走在正确的道路上？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-08T17:48:39.807

由于第一项*始终*是武器，第二项*始终*是盔甲，因此您根本不应该使用数组（或任何数据结构）。只需有两个独立的字段，一个包含武器，另一个包含盔甲实例。

```
private IWeapon weapon;
private IArmour armor;

public void initialiseInventory(IWeapon weapon, IArmour armour)
{
    this.weapon = weapon;
    this.armor = armor;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T18:07:19.177

您可以使用`is`运算符来确定变量是否实现了特定接口，然后将该变量强制转换为该接口的实例。

```
 if (inventory[0] is IWeapon)
        {
            IWeapon myWeapon = (IWeapon)inventory[0];
            Console.WriteLine("The weapon name is: " + myWeapon.Name);
        } 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-08T17:53:17.070

这是一个有趣（且常见）的谜题。您已经正确理解了它的第一部分：为了将元素存储在单个数组中，数组类型必须与进入数组的所有元素的共同祖先相匹配。当然，这将功能限制为仅由该共同祖先提供的功能，这在您的情况下显然是不够的。

第二部分（即，将元素全部放入数组后如何处理）有点困难。您需要类型转换或多次调度。类型转换很简单：只需`(IWeapon)`在元素前面添加：

```
((IWeapon)inventory[0]).Name 
```

对于多个项目，您可以使用 LINQ：

```
foreach (IWeapon w in inventory.OfType<IWeapon>()) {
    Console.WriteLine("The weapon name is: " + w.Name);
} 
```

多分派要复杂得多。它使您可以使方法相对于多个对象成为虚拟方法。作为回报，您必须牺牲语言提供的简单性：调用方法需要制作特殊的对象，而不是直接调用方法。查看[*访问者模式*](http://en.wikipedia.org/wiki/Visitor_pattern)，了解如何处理多次调度的一些想法。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-08T17:51:13.827

在父类/接口中，您需要决定哪些常见的操作/属性真正意味着去这里。

可能值得拥有这样的界面：

```
Interface IItem  
{
    string name {get};
    string itemType {get};

} 
```

然后你就可以走了

```
foreach(Iitem anItem in itemArray)
{
    Console.WriteLine("The " + anItem.itemType + " is: " + anItem.Name);
} 
```

它并不完美，并且会引发有关您的模型的问题，但这只是需要考虑的问题。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-08T18:12:55.267

我必须加上我的 2 美分，因为我发现这个问题问得很好，这可能是一个常见问题。

我会用这样的东西：

```
interface IItem
{
    //some common properties / methods
}

interface IWEapon : IItem
{
    string Name { get; set; } //maybe this should go to IItem? depends on your actual objects, of course
    //some other wepaon specific properties / methods
}

interface IArmor : IItem
{
    //some properties / methods
}

class Inventory
{
    public Inventory(IWEapon startWeapon, IArmor startArmor)
    {
        CurrentWeapon = startWeapon;
        CurrentArmor = startArmor;

        //optional:
        m_items.Add(startWeapon);
        m_items.Add(startArmor);
    }

    private List<IItem> m_items = new List<IItem>();
    IEnumerable<IItem> InventoryItems
    {
        get { return m_items; }
    }

    void AddItem(IItem item)
    {
        m_items.Add(item);
    }

    IWEapon CurrentWeapon
    {
        get;
        set;
    }

    IArmor CurrentArmor
    {
        get;
        set;
    }
} 
```

为什么要为库存设计一个类？因为您可以比只有一个`IItem`.

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-08T18:20:05.157

假设您确实需要一个数组来存储不同的库存项目（而不仅仅是两个单独的字段），那么您似乎可以只使用继承。我冒昧地为武器和盔甲添加了不同的属性来阐明用例。

基类：

```
abstract class Item
{
    public string Name { get; set; }
} 
```

派生类型：

```
class Weapon : Item
{
    public int Power { get; set; }
}

class Armor : Item
{
    public int Resistance { get; set; }
} 
```

示例用法：

```
Item[] inventory = new Item[2];
inventory[0] = new Weapon { Name = "Singing Sword", Power = 10 };
inventory[1] = new Armor { Name = "Chainmail Shirt", Resistance = 5 };

// Note below that the Name property is always accessible because it is defined in the base class.

// Traverse only Weapon items
foreach (Weapon weapon in inventory.OfType<Weapon>())
{
    Console.WriteLine(weapon.Power);
}

// Traverse only Armor items
foreach (Armor armor in inventory.OfType<Armor>())
{
    Console.WriteLine(armor.Resistance);
}

// Travers all items
foreach (Item item in inventory)
{
    Console.WriteLine(item.Name);
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-08T17:50:59.507

虽然我完全同意Servy给出的答案：

如果你真的想使用一个数组（或一个`List<IITem>`？），你只需要将 Name 属性添加到`IItem`接口。

```
interface IItem
{
    string Name {get;set;}
} 
```

我怀疑从长远来看它是否会对您有所帮助，所以我会寻求Servy的答案。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-02-08T17:51:05.760

武器和盔甲都有名字，所以这是一个应该进入`IItem`界面的属性。

此外，Servy 所说的有道理，为不同类型的项目设置一个数组并没有多大意义，因为特定位置总是具有相同类型的项目。

如果您想以数组的形式访问它们，您可以创建一个类，该类既具有数组，又允许您访问具有特定类型的装备项：

```
public class Inventory {

  public IWeapon CurrentWeapon { get; }
  public IArmour CurrentArmour { get; }

  private IItem[] _items = new IItem[8];

  public IItem[int idx] {
    get {
      return
        idx == 0 ? CurrentWeapon :
        idx == 1 ? CurrentArmour :
        idx_items[idx - 2];
    }
  }

} 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-02-08T17:53:06.693

我发现接口和类之间有点混淆，但是，您应该非常简单地确保 IItem 具有 Name 属性（如果它是接口，则 IWeapon 和 Iarmour 需要实现），而不是放置 Name 属性在每个子类上（没有“子接口”之类的东西:)）也许你应该发布你的接口/类的代码......

# java - 用于连接 derby 数据库的文件路径格式是什么？

> ID：14778359
> 
> 赞同：0
> 
> 时间：2013-02-08T17:46:55.550
> 
> 标签：java, derby

从[文档](https://db.apache.org/derby/docs/10.7/devguide/cdevdvlp40350.html)中，我并没有真正得到连接到 derby 数据库时必须指定的内容，因为数据库的路径为`java.io.File`.

`path`以下代码中必须包含什么？

```
File dbDirectory;

// ...

String protocol = "jdbc:derby:";
conn = DriverManager.getConnection(protocol + path
                + ";create=true"); 
```

当然，它应该是系统独立的。我是否使用以下其中一项？

*   `dbDirectory.getAbsolutePath()`
*   `dbDirectory.getCanonicalPath()`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T16:52:08.337

我相信 getAbsolutePath 或 getCanonicalPath 都可以。实际上，您也可以提供相对路径，只要您指定的相对路径是相对于 derby.system.home 设置的。

这个问题有一些关于三个路径之间差异的有用信息：[Java 中的 getPath()、getAbsolutePath() 和 getCanonicalPath() 有什么区别？](https://stackoverflow.com/questions/1099300/whats-the-difference-between-getpath-getabsolutepath-and-getcanonicalpath)

Derby 对不同的路径设置非常宽容，并且通常会处理其中的任何设置。

但是，如果我有选择的话，我会使用 getCanonicalPath，因为它是路径中“最干净”的路径，而且受意外重新设置 derby.system.home 的影响最小。

**但是**，如果您**打算**以一种可以在不同计算机上从一个位置移动到另一个位置的方式构建您的应用程序，并且无论如何都使用它的数据库，您可能会发现使用相对路径更方便，因为这样您的应用程序变得更加“独立”，您不必处理驱动器映射、主目录文件夹名称差异等方面的差异。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T17:55:42.163

derby 连接字符串的示例：

[http://db.apache.org/derby/docs/10.7/devguide/rdevdvlp22102.html#rdevdvlp22102](http://db.apache.org/derby/docs/10.7/devguide/rdevdvlp22102.html#rdevdvlp22102)

derby 连接字符串的完整文档：

[http://db.apache.org/derby/docs/10.7/devguide/cdevdvlp17453.html](http://db.apache.org/derby/docs/10.7/devguide/cdevdvlp17453.html)

# android - OpenGL ES 2.0 崩溃（glGetUniformLocation：glError 1281）

> ID：14778360
> 
> 赞同：1
> 
> 时间：2013-02-08T17:47:00.700
> 
> 标签：android

我正在创建一个应用程序，它将读取 stl 文件并使用 OpenGL ES 2.0 显示它们。我已经成功地显示了在 onSurfaceCreated() 方法中硬编码并添加到我的三角形列表中的三角形。我遇到的问题是当我尝试从 stl 文件填充我的三角形对象列表并绘制它们时。尽我所能，顶点的坐标都是有效的并且格式正确。我总是收到主题错误。我在调试这个问题时遇到了麻烦，不知道该怎么做。下面是我的三角形类中出现问题的一段代码。具体来说，错误在代码行上

```
mMVPMatrixHandle = GLES20.glGetUniformLocation(mProgram, "uMVPMatrix");
MyRenderer.checkGlError("glGetUniformLocation");

public void draw(float[] mvpMatrix) {
    // Add program to OpenGL environment
    GLES20.glUseProgram(mProgram);

    // get handle to vertex shader's vPosition member
    mPositionHandle = GLES20.glGetAttribLocation(mProgram, "vPosition");

    // Enable a handle to the facet vertices
    GLES20.glEnableVertexAttribArray(mPositionHandle);

    // Prepare the triangle coordinate data
    GLES20.glVertexAttribPointer(mPositionHandle, COORDS_PER_VERTEX,
                                 GLES20.GL_FLOAT, false,
                                 vertexStride, vertexBuffer);

    // get handle to fragment shader's vColor member
    mColorHandle = GLES20.glGetUniformLocation(mProgram, "vColor");

    // Set color for drawing the facet
    GLES20.glUniform4fv(mColorHandle, 1, color, 0);

    // get handle to shape's transformation matrix
    mMVPMatrixHandle = GLES20.glGetUniformLocation(mProgram, "uMVPMatrix");
    MyRenderer.checkGlError("glGetUniformLocation");

    // Apply the projection and view transformation
    GLES20.glUniformMatrix4fv(mMVPMatrixHandle, 1, false, mvpMatrix, 0);
    MyRenderer.checkGlError("glUniformMatrix4fv");

    // Draw the facet
    GLES20.glDrawArrays(GLES20.GL_TRIANGLES, 0, vertexCount);
    //If edge mode
    //GLES20.glUniform4fv(mColorHandle, 1, edgeColor, 0);
    //GLES20.glLineWidth(2.0f);
    //GLES20.glDrawArrays(GLES20.GL_LINE_STRIP, 0, vertexCount);

    // Disable vertex array
    GLES20.glDisableVertexAttribArray(mPositionHandle);
} 
```

关于如何调试这种情况的任何想法？另外，对于在程序执行期间添加/删除要绘制的对象的最佳方法，我有些不清楚。我保留对象列表并在 onDraw 中循环遍历它们的想法好吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-08-29T09:16:53.707

同样在这里，当我尝试在 OpenGL 线程之外创建我的绘图对象时，我得到了同样的错误。解决方案 -> 对象应该在 OpenGL 线程中创建。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-13T02:53:37.337

我在显示 stl 文件时遇到了完全相同的问题。我猜您遇到了与我相同的问题，即当您尝试创建新三角形时，您的线程错误。您必须确保对 OpenGL 方法的调用在正确的线程上。我自己对这些东西很陌生。我基本上只是改变了我的程序来排队我必须添加的 STL，然后，在 onDraw 方法中，我实例化了新的东西。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-11T01:12:01.233

就我而言，我忘记了初始化着色器。加载顶点和片段着色器解决了这个问题。

```
int vertexShader = loadShader(GLES20.GL_VERTEX_SHADER, vertexShaderCode);
int fragmentShader = loadShader(GLES20.GL_FRAGMENT_SHADER, fragmentShaderCode); 
```

和：

```
public static int loadShader(int type, String shaderCode){
    // create a vertex shader type (GLES20.GL_VERTEX_SHADER)
    // or a fragment shader type (GLES20.GL_FRAGMENT_SHADER)
    int shader = GLES20.glCreateShader(type);

    // add the source code to the shader and compile it
    GLES20.glShaderSource(shader, shaderCode);
    GLES20.glCompileShader(shader);
    return shader;
} 
```

# python - Skype4py 附加不起作用

> ID：14778361
> 
> 赞同：2
> 
> 时间：2013-02-08T17:47:05.703
> 
> 标签：python, windows-7, skype4py

我无法将 Skype4Py 附加到我的 Skype 客户端。我下载了 easy_install 并用它来安装 Skype4Py。我有 64 位 Python 和 Windows 7。当我使用 IDLE 逐行尝试示例脚本（见下文）时，我无法通过`skype.attach()`，似乎没有任何反应。我最终不得不关闭 IDLE 并终止应用程序。如果您有任何想法，请告诉我。我提前道歉。仅仅弄清楚如何下载 Skype4Py 对我来说是一个挑战。Skype 正在运行，我已登录。

```
import Skype4Py

# Create an instance of the Skype class.
skype = Skype4Py.Skype()

# Connect the Skype object to the Skype client.
skype.Attach()

# Obtain some information from the client and print it out.
print 'Your full name:', skype.CurrentUser.FullName
print 'Your contacts:'
for user in skype.Friends:
    print '    ', user.FullName 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-09T14:39:01.130

目前看起来不支持 64 位 Python，因为 Skype 客户端应用程序是 32 位的。

[https://github.com/awahlig/skype4py/issues/6](https://github.com/awahlig/skype4py/issues/6)

使用 32 位 Python。

# javascript - 使用 jQuery 选择所有复选框

> ID：14778364
> 
> 赞同：48
> 
> 时间：2013-02-08T17:47:15.410
> 
> 标签：javascript, jquery

我有以下html代码：

```
 <input type="checkbox" id="ckbCheckAll" />
    <p id="checkBoxes">
        <input type="checkbox" class="checkBoxClass" id="Checkbox1" />
        <br />
        <input type="checkbox" class="checkBoxClass" id="Checkbox2" />
        <br />
        <input type="checkbox" class="checkBoxClass" id="Checkbox3" />
        <br />
        <input type="checkbox" class="checkBoxClass" id="Checkbox4" />
        <br />
        <input type="checkbox" class="checkBoxClass" id="Checkbox5" />
        <br />
    </p> 
```

当用户`ckbCheckAll`选中所有复选框时，必须选中。我也有以下jquery代码：

```
 $(document).ready(function () {
        $("#ckbCheckAll").click(function () {
            $(".checkBoxClass").attr('checked', this.checked);
        });
    }); 
```

当我在浏览器中看到我的页面时，我得到以下结果：在第一次单击时，`ckbCheckAll`所有复选框都被选中（这是正确的）。在第二次单击时，`ckbCheckAll`所有复选框都未选中（这是正确的）。但是在第三次尝试中什么也没发生！同样在第四次尝试中什么也没发生，依此类推。

问题出在哪里？

* * *

## 回答 #1

> 赞同：126
> 
> 时间：2013-02-08T17:50:49.430

使用道具

```
$(".checkBoxClass").prop('checked', true); 
```

或取消选中：

```
$(".checkBoxClass").prop('checked', false); 
```

[http://jsfiddle.net/sVQwA/](http://jsfiddle.net/sVQwA/)

```
$("#ckbCheckAll").click(function () {
    $(".checkBoxClass").prop('checked', $(this).prop('checked'));
}); 
```

更新 JSFiddle 链接：http: [//jsfiddle.net/sVQwA/1/](http://jsfiddle.net/sVQwA/1/)

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2014-08-06T11:35:35.957

这是一个简单的方法：

网页：

```
<input type="checkbox" id="selectall" class="css-checkbox " name="selectall"/>Selectall<br>
<input type="checkbox" class="checkboxall" value="checkbox1"/>checkbox1<br>
<input type="checkbox" class="checkboxall" value="checkbox2"/>checkbox2<br>
<input type="checkbox" class="checkboxall" value="checkbox3"/>checkbox3<br> 
```

jQuery：

```
$(document).ready(function(){
$("#selectall").click(function(){
        if(this.checked){
            $('.checkboxall').each(function(){
                $(".checkboxall").prop('checked', true);
            })
        }else{
            $('.checkboxall').each(function(){
                $(".checkboxall").prop('checked', false);
            })
        }
    });
}); 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-12-13T11:08:38.347

使用下面的代码..

```
 $('#globalCheckbox').click(function(){
            if($(this).prop("checked")) {
                $(".checkBox").prop("checked", true);
            } else {
                $(".checkBox").prop("checked", false);
            }                
        });

        $('.checkBox').click(function(){
            if($(".checkBox").length == $(".checkBox:checked").length) { 
                 //if the length is same then untick 
                $("#globalCheckbox").prop("checked", false);
            }else {
                //vise versa
                $("#globalCheckbox").prop("checked", true);            
            }
        }); 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2018-01-10T16:34:36.063

试试下面的简单代码：

```
$('input[type=checkbox]').each(function() { this.checked = true; }); 
```

资料来源：[如何使用 jQuery 或纯 JS 重置所有复选框？](https://stackoverflow.com/a/6035740/55075)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-08T17:49:43.160

用这个

```
if (this.checked)
   $(".checkBoxClass").attr('checked', "checked");
else
   $(".checkBoxClass").removeAttr('checked'); 
```

你也可以使用`prop`请检查[http://api.jquery.com/prop/](http://api.jquery.com/prop/)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2021-02-07T13:17:26.587

我看过这个问题的很多答案，发现有些答案很长，有些答案有点错误。我使用上述 ID 和类创建了自己的代码。

```
$('#ckbCheckAll').click(function(){
        if($(this).prop("checked")) {
            $(".checkBoxClass").prop("checked", true);
        } else {
            $(".checkBoxClass").prop("checked", false);
        }                
    });

    $('.checkBoxClass').click(function(){
        if($(".checkBoxClass").length == $(".checkBoxClass:checked").length) { 
            $("#ckbCheckAll").prop("checked", true);
        }else {
            $("#ckbCheckAll").prop("checked", false);            
        }
    }); 
```

在上面的代码中，用户单击全选复选框，所有复选框都将被选中，反之亦然，当用户一个接一个地选择复选框时，第二个代码将起作用，然后根据选中的复选框的数量选中或取消选中所有复选框.

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-08T18:03:01.760

尝试这个

```
$(document).ready(function () {
    $("#ckbCheckAll").click(function () {
        $("#checkBoxes input").prop('checked', $(this).prop('checked'));
    });
}); 
```

应该这样做:)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-02-08T17:55:45.050

改用 prop() -

```
$(document).ready(function () {
        $("#ckbCheckAll").click(function () {
            $(".checkBoxClass").each(function(){
                if($(this).prop("checked", true)) {
                    $(this).prop("checked", false);
                } else {
                    $(this).prop("checked", true);
                }                
            });
        });
    }); 
```

但我喜欢@dmk 更简洁的答案，并为它 +1

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-02-08T17:55:57.413

```
$(document).ready(function() {
    $('#ckbCheckAll').click(function() {
        $('.checkBoxClass').each(function() {
            $(this).attr('checked',!$(this).attr('checked'));
        });
    });
}); 
```

或者

```
$(function () {
    $('#ckbCheckAll').toggle(
        function() {
            $('.checkBoxClass').prop('checked', true);
        },
        function() {
            $('.checkBoxClass').prop('checked', false);
        }
    );
}); 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2017-02-09T08:28:11.603

```
$(document).ready(function () {
    $(".class").on('click', function () {
        $(".checkbox).prop('checked', true);
    });
}); 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2018-01-03T06:03:18.837

**让我有以下复选框**

```
 <input type="checkbox" name="vehicle" value="select All" id="chk_selall">Select ALL<br>
        <input type="checkbox" name="vehicle" value="Bike" id="chk_byk">bike<br>
        <input type="checkbox" name="vehicle" value="Car" id="chk_car">car 
        <input type="checkbox" name="vehicle" value="Bike" id="chk_bus">Bus<br>
        <input type="checkbox" name="vehicle" value="scooty" id="chk_scooty">scooty 
```

**这是单击全选复选框时全选和取消全选的简单代码**

```
<script type="text/javascript">
        $(document).ready(function () {
            $("#chk_selall").on("click", function () {

                $("#chk_byk").prop("checked", true); 
                $("#chk_car").prop("checked", true); 
                $("#chk_bus").prop("checked", true); 
                $("#chk_scooty").prop("checked", true); 

            })

            $("#chk_selall").on("click", function () {

                if (!$(this).prop("checked"))
                {
                    $("#chk_byk").prop("checked", false);
                    $("#chk_car").prop("checked", false);
                    $("#chk_bus").prop("checked", false);
                    $("#chk_scooty").prop("checked", false);             

                }
            });

        });
    </script> 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2020-05-31T17:53:56.110

我知道为时已晚，但我正在为即将到来的开发人员发布此内容。

对于全选复选框，我们需要检查三个条件，1\. 单击全选复选框，每个复选框都应该被选中 2\. 如果全部选中，然后单击全选复选框，每个复选框都应该被取消选中 3\. 如果我们取消选择或选择任何一个复选框全选复选框也应该更改。

有了这三件事，我们会得到一个很好的结果。为此，您可以访问此链接[https://qawall.in/2020/05/30/select-all-or-deselect-all-checkbox-using-jquery/](https://qawall.in/2020/05/30/select-all-or-deselect-all-checkbox-using-jquery/) 我从这里得到了我的解决方案，他们提供了带有示例的解决方案。

```
<table>
<tr>
    <th><input type="checkbox" id="select_all"/> Select all</th>
</tr>
<tr>
    <td><input type="checkbox" class="check" value="1"/> Check 1</td>
    <td><input type="checkbox" class="check" value="2"/> Check 2</td>
    <td><input type="checkbox" class="check" value="3"/> Check 3</td>
    <td><input type="checkbox" class="check" value="4"/> Check 4</td>
    <td><input type="checkbox" class="check" value="5"/> Check 5</td>
</tr> 
```

```
<script type="text/javascript">
$(document).ready(function(){
$('#select_all').on('click',function(){
    if(this.checked){
        $('.check').each(function(){
            this.checked = true;
        });
    }else{
         $('.check').each(function(){
            this.checked = false;
        });
    }
});

$('.check').on('click',function(){
    if($('.check:checked').length == $('.check').length){
        $('#select_all').prop('checked',true);
    }else{
        $('#select_all').prop('checked',false);
    }
}); 
```

});

希望这会帮助任何人...... :)

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2016-02-01T07:24:02.637

```
$(document).ready(function(){
$('#ckbCheckAll').click(function(event) { 
            if($(this).is(":checked")) {
                $('.checkBoxClass').each(function(){
                    $(this).prop("checked",true);
                });
            }
            else{
                $('.checkBoxClass').each(function(){
                    $(this).prop("checked",false);
                });
            }   
    }); 
    }); 
```

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2018-09-26T10:05:00.577

checkall 是所有复选框的 id，cb-child 是每个复选框的名称，将根据 checkall 点击事件选中和取消选中

```
$("#checkall").click(function () {
                        if(this.checked){
                            $("input[name='cb-child']").each(function (i, el) {
                                el.setAttribute("checked", "checked");
                                el.checked = true;
                                el.parentElement.className = "checked";

                            });
                        }else{
                            $("input[name='cb-child']").each(function (i, el) {
                                el.removeAttribute("checked");
                                el.parentElement.className = "";
                            });
                        }
                    }); 
```

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2018-12-24T05:50:19.743

```
 jQuery( function($){
    // add multiple select / deselect functionality
    $("#contact_select_all").click(function () {

        if($("#contact_select_all").is(":checked")){
            $('.noborder').prop('checked',true);
        }else
            $('.noborder').prop('checked',false);
    });

    // if all checkbox are selected, check the selectall checkbox
    $(".noborder").click(function(){

    if($(".noborder").length == $(".noborder:checked").length) {
        $("#contact_select_all").attr("checked", "checked");
    } else {
        $("#contact_select_all").removeAttr("checked");
    }

    });

}); 
```

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2020-11-07T04:49:40.133

添加 jquery-2.1.0.min.js 文件

```
<script src="https://code.jquery.com/jquery-2.1.0.min.js"></script> 
```

编写下面给出的代码：

```
<script>
$(document).ready(function () {   
    $("#checkAll").change(function() {
        var checked = $(this).is(':checked'); // Get Checkbox state
        if (this.checked) //If true then checked all checkboxes
           $(".classofyourallcheckbox").prop('checked', true);
        else
           $(".classofyourallcheckbox").prop('checked', false); //or uncheck all textboxes 
    }); 
});
</script> 
```

# migration - 如何从 OpenEp6 升级到 OpenErp7？

> ID：14778367
> 
> 赞同：0
> 
> 时间：2013-02-08T17:47:17.923
> 
> 标签：migration, upgrade, openerp

我是 OpenErp 的新手，我只是在使用 OpenErp6 的基本功能，我想升级到 OpenErp7。
我在Ubuntu11下使用。。有没有工具可以升级到7版本？因为我在谷歌搜索，我发现我必须手动卸载它并重新安装最新版本。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T07:53:58.813

如果你想保留你的数据，你有两种方法：

1.  获得 OpenERP 编辑器的支持：他们以不高的价格[出售迁移解决方案。](http://v6.openerp.com/catalog/146)

2.  与试图构建开源迁移解决方案的[openupgrade](https://launchpad.net/openupgrade-addons)项目取得联系并做出贡献。截至今天，向 7.0 的迁移尚未准备好，因此您需要等待或做出贡献以使其足够好以迁移您的实例。

另一方面，如果您在评论中提到的数据很少，您可以手动迁移创建一个新的 OpenERP 7 实例，并在该实例中手动重新创建您的条目。显然，这是不可扩展的。

# jquery - jQuery - 循环略有不同

> ID：14778375
> 
> 赞同：0
> 
> 时间：2013-02-08T17:47:52.947
> 
> 标签：jquery, cycle

我使用了循环插件和其他各种插件，但我认为它们不会在这个例子中工作。我有一个最新的新闻部分，它是 1 行。例如：

最新消息 - 这是显示的信息

我想循环浏览各种新闻更新。细微的差别是我希望更新到 slideRight（隐藏）然后下一个更新 slideLeft（显示）。这样，宽度会不断变化，并且随着更新折叠和扩展，最新的新闻标题应该左右移动（宽度可变，取决于文本，因为它是内联的）。因此定位绝对和固定宽度解决方案无济于事。

我猜它相当简单，但我不确定如何。我可以从 CSS 开始，只定义要显示的第一个 p。然后在jQuery slideright current，然后next() slideleft？

[http://pastebin.com/2qCQeBMF](http://pastebin.com/2qCQeBMF) [http://pastebin.com/ERU9K8hC](http://pastebin.com/ERU9K8hC)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T19:14:18.433

你可以做一系列动画，然后在最后循环回来

```
/**
 * Method to animate the news feed
 */
function scrollNews() {
    // If latest news is not being hovered upon
    if (!$('.latestnews').hasClass('hover')) {
        // Get the currently visible update
        var currentUpdate = $('.theupdates').find('p').filter(':visible').first();
        // Get the next update
        var nextUpdate = currentUpdate.next();
        // If there are no next updates
        if (nextUpdate.length === 0) {
            // Get the first update and set it as the next update
            nextUpdate = $('.theupdates').find('p').filter(':first-of-type');
        }
        // Animate the current update out
        currentUpdate.hide('slow', function () {
            // Animate the next update in
            nextUpdate.show('slow', function () {
                // Delay a little bit and then recursively call this method
                window.setTimeout(scrollNews, 2000);
            });
        });
    } else {
        // Delay a little bit and then recursively call this method
        window.setTimeout(scrollNews, 2000);
    }
}

// Handle hover over news
$('.latestnews').on({
    'mouseover': function (e) {
        $(this).addClass('hover');
    },
    'mouseout': function (e) {
        $(this).removeClass('hover');
    }
});

// Start animation
scrollNews(); 
```

[jsfiddle](http://jsfiddle.net/9zNrd/1/)

# php - codeigniter 中的错误处理

> ID：14778377
> 
> 赞同：9
> 
> 时间：2013-02-08T17:47:58.160
> 
> 标签：php, codeigniter

在我捕获所有 PHP 错误的项目中，我设置了错误处理机制，如下所示：

1.  我`error_reporting()`在`index.php`文件中设置了覆盖文件中的任何`php.ini`内容
2.  `system/codeigniter/CodeIgniter.php`在using 中设置了一个错误处理程序`set_error_handler`- 此错误处理程序 ,`_exception_handler`位于`system/codeigniter/Common.php`
3.  该`_exception_handler`函数忽略`E_STRICT`错误， `show_php_error`如果严重性是您的函数指定的严重性，则从 Exceptions 系统库调用该函数`error_reporting()`， 并根据您在文件`index.php`中设置的任何内容记录错误`config.php`
4.  `FALSE`在此 PHP 继续处理错误之后，处理程序返回，但它通常会根据您的`error_reporting`级别和`display_errors`设置。

令我困惑的是`E_ERROR`错误，即致命错误似乎根本没有被抓住`_exception_handler`。不仅仅是`show_php_error`没有被调用，看起来函数只是没有被调用。这显然是一个问题，因为这意味着它们没有被处理`show_php_error`或记录。例如，如果我故意输入错误`$this->load->views('foo');`的控制器，处理程序不会被调用。

任何有关错误处理的建议将不胜感激，谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-15T20:45:37.203

现在这是一个相当大的争论：是否应该捕获致命错误。有人说它们是致命的，所以您不知道系统处于哪种情况，但我会选择“如果发生错误，请尝试进行清理”。为了捕获所有致命错误，您需要设置一个 pre_system 挂钩。转到 application/config/hooks.php 并输入

```
$hook['pre_system'][] = array(
'class' => 'PHPFatalError',
'function' => 'setHandler',
'filename' => 'PHPFatalError.php',
'filepath' => 'hooks'
); 
```

之后转到 hooks 目录并添加您对错误的处理：

```
<?php
    class PHPFatalError {

    public function setHandler() {
            register_shutdown_function('handleShutdown');
        }

    }

    function handleShutdown() {
        if (($error = error_get_last())) {
            ob_start();
                echo "<pre>";
            var_dump($error);
                echo "</pre>";
            $message = ob_get_clean();
            sendEmail($message);
            ob_start();
            echo '{"status":"error","message":"Internal application error!"}';
            ob_flush();
            exit();
        }
    } 
```

如您所见，我们正在使用 register_shutdown_function 来运行一个函数，该函数检查是否发生了错误以及是否已通过电子邮件将其发送给开发人员。这个设置在我参与的几个 CI 项目中完美运行了 2 年多。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-19T08:59:54.797

我在另一个问题（[https://stackoverflow.com/a/3675357](https://stackoverflow.com/a/3675357)）下找到了这个答案，我认为它对任何阅读这个问题的人也很有用。**“对于 codeigniter 特定的错误处理，您可以通过在 application/libraries 文件夹中创建My_Exception**类来覆盖其 'Exception' 库类。将原始库函数签名复制到其中并放入您的代码中。它肯定会工作。”

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-10-08T07:20:55.137

> 简单地，您可以在一个文件中处理所有类型的错误，该文件由于 php 错误或任何其他错误不利于显示客户端而显示您的客户端。

*只需将文件 Common_Exceptions.php 放在 core 文件夹中。Common 是我的，因为在配置文件中我声明了 $config['subclass_prefix'] = 'Common_';*

复制 system\core\Exceptions.php 文件并粘贴到 core\Common_Excepions 文件中**（Common_Exceptions 类扩展 CI_Exceptions）**并在此文件中进行更改并根据需要调用视图并在错误出现时显示给客户端。

**注意：$config['log_threshold'] = 1; 在配置文件中启用错误日志写入，并在您看到出现什么错误之后。**

*关于查看文件的另一个建议，即在出现错误时显示的位置时间，因此当您在日志中看到时，然后匹配这个时间并找到那个时间出现的错误*

# responsive-design - 响应式设计和视口无法通过域的“框架集”工作。

> ID：14778378
> 
> 赞同：5
> 
> 时间：2013-02-08T17:47:59.983
> 
> 标签：responsive-design, viewport, frameset

我在一个响应式设计网站上工作，遇到了一个相当大的障碍。我使用了视口代码：

```
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" /> 
```

并使用：

```
@media only screen and (min-width: 501px) and (max-width: 930px)  { 
```

CSS在这里}

如所须。当我将索引页面放在主机服务器上进行检查时，该站点不会响应我的移动设备之间的更改。我试过我的域名网站 - 没有用。原来域名指向我的服务器并在 a 中显示该站点`<frameset>`并取消了我的 CSS 和元。当我转到服务器的本机网址时，它可以正常工作。有没有办法解决？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2014-01-23T19:12:50.227

SOLVED - I have found a solution using a well know hacking technique to inject the relevant code (without actually hacking anything!).

I have my domain name at 123-reg.co.uk and free webspace at freehostingEU, with framed web forwarding on 123-reg.co.uk to maintain my domain name in the free space. To solve the problem of the frame blocking the viewport meta tag on the site, go into the web forwarding options in somewhere like 123-reg.co.uk where you can usually set your meta title, meta desc, meta author etc, and inject the following code into one of the boxes where you are allowed to enter some meta data for your framed page e.g. meta author and insert:-

```
 your-author-name"><meta name="viewport" content="width=device-width, initial-scale=1.0, 
```

which will then put the viewport code into the frame forwarding page straight after the meta author. And it works, because I have just done it on 123-reg and it works great!

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-03-15T05:41:15.307

这个网站终于解释了我怎么能这样对我。现在，当您访问 mydomain.com 时，它会转发到 www.mydomain.com，后者又链接到我的 azure 服务器。该域保留在没有框架/掩码的 url 中，即它显示了我想要购买的 url，而不是 azure 的。

[http://blog.smarx.com/posts/custom-domain-names-in-windows-azure](http://blog.smarx.com/posts/custom-domain-names-in-windows-azure)

从链接：

**添加 CNAME 记录**

第一步是创建一个 CNAME 记录，将“www”子域（如 www.botomatic.com）映射到我的 Windows Azure 应用程序（botomatic.cloudapp.net）

**转发根域**

第二步是使用域转发将根域（botomatic.com）映射到我们已经映射的子域（www.botomatic.com）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-23T03:46:00.210

我建立了一个响应式设计站点，它使用客户端的视口来确定站点的配置方式。原来我的域名是用屏蔽转发的，而 CSS 正在“读取”框架作为视口。避免了灾难。

# java - Guice 如何将单例和非单例注入多个线程

> ID：14778380
> 
> 赞同：3
> 
> 时间：2013-02-08T17:48:02.073
> 
> 标签：java, multithreading, concurrency, singleton, guice

假设我有一堂课：

```
public class MyTask implements Runnable {
    @Inject
    private Fizz fizz;

    // Getters and setters for 'fizz'.

    @Override
    public void run() {
        if(fizz.alleviatesBuzz())
            doA();
        else
            doB();
    }

    private void doA() { ... }

    private void doB() { ... }
} 
```

然后我有另一堂课：

```
public class MyTaskDispatcher {
    @Inject
    private ThreadFactory threadFactory;

    private Executor executor;

    // Getter and setter for 'threadFactory'.

    public void dispatch(MyTask task) {
        if(executor == null)
            executor = Executors.newCachedThreadPool(threadFactory);

        executor.submit(task);
    }
} 
```

所以 Guice 注入`MyTask`了 a `Fizz`，也注入`MyTaskDispatcher`了 a`ThreadFactory`然后用于创建和执行`MyTask`它传递的实例。而且，由于它是一个缓存池，它只在需要但不可用时创建一个新线程。

**我想知道当我们`Fizz`作为单例或非单例注入时，Guice 在多线程环境中的“行为”如何。**

让我们从非单例实例开始：

```
public class MyAppModule extends AbstractModule {
    @Override
    public void configure() {
        bind(Fizz.class).to(FizzImpl.class);

        // I don't think the functionality of MyThreadFactory
        // really matters for the sake of this question.
        bind(ThreadFactory.class).to(MyThreadFactory.class);
    }

    @Provides
    FizzImpl providesFizz() {
        return new FizzImpl(true, Buzz.ALWAYS, 35);
    }

    // I *believe* we always want the ThreadFactory to be singleton,
    // because all of the threads spawn from it and its executor.
    @Provides @Singleton
    ThreadFactory providesThreadFactory() {
        return new MyThreadFactory(12);
    }
} 
```

现在假设应用程序已经运行了一段时间，并且`MyTask`已经提交了3个单独的s，因此存在3个运行线程。由于我们没有要求 Guice 将`Fizz`es 作为单例注入，因此我假设每个线程都有自己的注入副本`FizzImpl`，并且我们不必添加任何`synchronize`-type 代码来防止 3 `FizzImpl`s 碰撞并导致线程问题。

*但是当我们让 Guice`FizzImpl`作为单例注入时会发生什么？！？*现在，在`MyAppModule`：

```
 @Provides @Singleton
    FizzImpl providesFizz() {
        return new FizzImpl(true, Buzz.ALWAYS, 35);
    } 
```

**如果 Guice 只提供 1 个全局的单例实例，那么在 3 个衍生线程中的每个线程中，该“副本”（如果这是正确的词的话）`FizzImpl`的下游分支是什么？`FizzImpl`**有哪些陷阱需要注意？有什么方法可以对抗这些陷阱？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-26T11:56:09.883

不，Fizz 将使用 MyTask 实例创建，并且它将在多个线程调用中持续存在。如果你想为每个线程创建一个 Fizz 副本，你必须以懒惰的方式进行。

```
public class MyTask implements Runnable {
    @Inject
    private Provider<Fizz> fizzProvider;

    // Getters and setters for 'fizz'.

    @Override
    public void run() {
        Fizz fizz = fizzProvider.get();
        if(fizz.alleviatesBuzz())
            doA();
        else
            doB();
    }

    private void doA() { ... }

    private void doB() { ... }
} 
```

但是，如果您将 Singleton 标志放入 Fizz 绑定，则在您调用 fizzProvider.get() 时提供程序将返回相同的实例，因此所有线程将具有相同的实例。你必须保持它不是单例的。

另外你的模块是错误的，你应该使用方法或隐式绑定，而不是两者。你也不能提供实例并注入它的接口。

```
public class MyAppModule extends AbstractModule {
    @Override
    public void configure() {
        bind(Fizz.class).to(FizzImpl.class);
        //or bind(Fizz.class).toInstance(new FizzImpl(true, Buzz.ALWAYS, 35)); //Singleton!!
        //or bind(Fizz.class).toProvider(new Provider<Fizz>() {
        //      @Override
        //      public Subject get() {
        //        return new FizzImpl(true, Buzz.ALWAYS, 35);
        //      }
        //    });

        // I don't think the functionality of MyThreadFactory
        // really matters for the sake of this question.
        bind(ThreadFactory.class).to(MyThreadFactory.class);
    }
} 
```

或者

```
public class MyAppModule extends AbstractModule {
    @Override
    public void configure() {
    }

    @Provides
    Fizz providesFizz() {
        return new FizzImpl(true, Buzz.ALWAYS, 35);
    }

    // I *believe* we always want the ThreadFactory to be singleton,
    // because all of the threads spawn from it and its executor.
    @Provides @Singleton
    ThreadFactory providesThreadFactory() {
        return new MyThreadFactory(12);
    }
} 
```

希望它会有所帮助！

# facebook - Facebook 员工无法登录以批准我的操作类型……现在怎么办？

> ID：14778384
> 
> 赞同：1
> 
> 时间：2013-02-08T17:48:10.947
> 
> 标签：facebook, login, facebook-opengraph

在成功测试我的提要中的操作类型后，我最近提交了两个开放图形操作类型的批准请求。但是，我从 facebook 收到以下消息：

> 需要更改 请在下面进行更改并重新提交以供审核。我们无法使用“使用 Facebook 登录”按钮成功登录您的应用，或者我们无法在您的应用中找到该按钮。请确保您可以使用 Facebook 连接按钮成功登录 Facebook 并重新提交。 [https://developers.facebook.com/docs/authentication](https://developers.facebook.com/docs/authentication)

我似乎可以自己登录并创建一个新帐户，我的朋友也可以，从提交的图片中似乎很明显在哪里单击 facebook 连接登录...我现在可以做些什么来提供更多信息?

万一有人好奇，该网站是：www.bigfunny.com 谢谢！

# javascript - 如果字段等于，则按键（输入）上的 Javascript 函数

> ID：14778385
> 
> 赞同：3
> 
> 时间：2013-02-08T17:48:10.717
> 
> 标签：javascript, html

我需要根据特定字段中的值使输入键将用户带到不同的 url。
这是我到目前为止所拥有的

```
 <script type="text/javascript">  document.onkeyup = KeyPressed;   
     function KeyPressed( e )  {    
         var key = ( window.event ) ? event.keyCode : e.keyCode;         
         switch( key )    {      
             case 13:        
                 if (this.getField("ls").value == 'x') {
                     alert ("its x")
                     window.location="ccamntdue.html"

                 } else if (this.getField("ls").value == ' ') {
                     alert ("its not")

                 } else {

                 }   

</script> 
```

我可以删除参数并让 enterkey 返回一个警报以进行测试，以验证它是否看到了 enter 键。问题似乎在争论中。我已经包含了几个警报来测试论点的任何部分是否有效，但似乎无法让它发挥作用。自从我使用 html/Javascript 以来已经有好几年了，我有点生疏了。
我想让它验证字段 =“a”，然后如果字段等于“b”，则将用户带到“A_url.html”，然后在按下回车键后将用户带到“b_url.html”等。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:17:51.660

我认为您正在使用[DynaForms 对象](http://wiki.processmaker.com/index.php/JavaScript_in_DynaForms)...

试试下面...它会帮助你...

```
<body onkeyup="KeyPressed(event)">

<script>
function KeyPressed(event)
{
switch(event.keyCode)
{
case 13:
    switch (getField("ls").value)
    {
     case "a":
     window.location.assign("https://www.google.com");
     break;
     case "b":
     window.location.assign("http://www.bing.com/");
     break;
     default:
     //Default Statement;
    }
break;
default:
//Default Statement;
}
}
</script> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-08T18:01:56.647

这是应该做的事情。假设您输入的 id 为`ls` [http://jsfiddle.net/GZNYc/](http://jsfiddle.net/GZNYc/)

```
document.onkeyup = function ( e )  {
    var key = ( window.event ) ? event.keyCode : e.keyCode;
    if (key == 13) {
        var value = document.getElementById('ls').value;
        if (value === 'x') {
            window.location = "x.html";            
        } else {
            window.location = "a.html";
        }    
    }
}; 
```

您的代码的主要问题是对象上没有`getField`方法`document`（这是`this`您的处理程序中指向的内容）。它的语法也是无效的，但这似乎不是你的问题。

# objective-c - 为什么 [NSDate distinctPast] 和 [NSDate distinctFuture] 方法返回 id？

> ID：14778386
> 
> 赞同：1
> 
> 时间：2013-02-08T17:48:15.897
> 
> 标签：objective-c, cocoa, nsdate, return-type

我想知道为什么`[NSDate distantPast]`和`[NSDate distantFuture]`方法的返回类型是 type `id`？为什么这些方法不返回`NSDate`指针？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-08T18:32:46.553

因为多态性仅以一种方式有效。

假设您是 NSDate 的子类，并且您想要覆盖该方法。您必须使用相同的签名，以便使用此签名：

```
-(NSDate*) distantPast; 
```

但是您将无法将表达式的结果分配给子类类型的指针，并且您需要将结果向下转换：

```
NSDateSubclass* ptr= (NSDateSubclass*)[someDateSubclassInstance distantPast];
// Downcasting is necessary here, it would give a warning or syntax error otherwise. 
```

即使您确定返回的对象是 NSDate 的子类，您也需要对结果进行向下转换。这就是为什么所有返回创建对象的方法都被声明为返回一个 id。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T17:53:25.523

`NSDate`是一个抽象超类，和`distantPast`/或`distantFuture`返回 的私有子类`NSDate`，而不是`NSDate`本身。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T17:56:20.173

我认为这个问题也像问你应该在一个`init`方法上返回什么？一个 id 或指向我们类的指针。

因为在那种情况下它是相同的，你可以认为它是 Apple 对类方法的某种标准化。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-08T18:12:15.207

这没有什么特别的原因。另一位发帖人指出，这些方法可能会返回 NSDate 的私有子类，但 NSDate 的子类仍然是 NSDate。我猜这些方法已经足够老了（即 NextStep，在 Mac OS 之前），id 返回类型的原因是历史性的，并且“失传于古代”。（如果您在 Mac OS 文档中查看这些方法，就会发现它们是在 Mac OS 10.0 中定义的）

我敢打赌，老派的方法是到处使用匿名对象指针。

# r - 图例项之间的空间

> ID：14778388
> 
> 赞同：2
> 
> 时间：2013-02-08T17:48:16.427
> 
> 标签：r, lattice

我正在使用 R 和`lattice`包来绘制下面的图表。

注意图例中的两个项目，它们之间没有空格。如果我在图表上方（或下方）显示图例，则它们之间会显示一些空格，但如果我显示在右侧则不会。有什么办法可以将这两个项目分开一点吗？

用于生成此图的代码也在下面复制。

![例子](../Images/9f5a27eda5254d063347530b55757ba8.png)

```
barchart(val1 ~ val2, groups=group, tasks, 
         auto.key=list(
           columns=1, 
           space="right", 
           text=c("Data 1","Data 2")
           ), 
         main="Title",
         xlab="Tasks", ylab="Duration",
         par.settings=list(superpose.polygon=list(col=c("firebrick","dodgerblue2"))) 
) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-31T12:59:30.777

我认为 padding.text 是您正在寻找的。我不知道，这是否适用于 auto.key。

```
attach(mtcars)
gear.f<-factor(gear,levels=c(3,4,5),
labels=c("3gears","4gears","5gears"))
cyl.f <-factor(cyl,levels=c(4,6,8),
labels=c("4cyl","6cyl","8cyl"))

densityplot(~mpg|cyl.f,
    main="Density Plot by Number of Cylinders",
    xlab="Miles per Gallon"
   ,par.settings = list(superpose.line = list(col=c(1,2,3)))
   ,key = list(text = list(c("A", "B", "C")),lines = list(col=c("black", "red", "green")),
              columns=1,space="top",padding.text=4
             )
        ) 
```

# c++ - 包含 C 库时，何时应将包含包含在 `extern "C"` 中

> ID：14778390
> 
> 赞同：0
> 
> 时间：2013-02-08T17:48:24.960
> 
> 标签：c++

我知道当您`c`在项目中包含标题时，`c++`您必须将其包装起来，`extern "C"`因为`c++`并且`c`有两种不同的识别功能的方式。`c`将使用名称来标识函数，并且`c++`必须使用名称和参数来满足函数重载。

我不明白的是为什么有些`c`标题不需要像包装`extern "C"`一样`windows.h`？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-08T17:57:15.567

通常，将 C 标头包含在`extern "C"`其中并不是一个好主意。标头可能包含在您执行此操作时中断的其他文件。**设计**用于 C++ 的AC 标头将`extern "C"`适当地处理，而无需您执行任何操作。典型代码：

```
#ifndef MY_HEADER_INCLUDE_GUARD
#define MY_HEADER_INCLUDE_GUARD

#ifdef __cplusplus
extern "C" {
#endif

/* C callable stuff goes here */

#ifdef __cplusplus
}
#endif

#endif /* MY_HEADER_INCLUDE_GUARD */ 
```

# java - 输入对话循环提前结束

> ID：14778392
> 
> 赞同：0
> 
> 时间：2013-02-08T17:48:30.763
> 
> 标签：java, while-loop, joptionpane

当用户在输入对话框中没有输入任何内容时，它会结束下面的循环。我已经调试了代码，当用户什么都不输入时，名称确实是“”。

```
while(name == "" || name == null){
        name = JOptionPane.showInputDialog("Enter your name:");
    } 
```

此外，当包含输入对话框的窗口关闭或取消时，程序不会退出循环。

任何人都可以为我提供一些见解吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T17:49:15.670

不要将字符串与`name == ""`. `"".equals(name)`甚至在您的情况下使用or `name.isEmpty()`（自 Java 6 起可用）。

`==`用于比较引用，而不是对象的值。更多信息[在这里](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)。

将您的代码更改为：

```
while(name == null || name.isEmpty()){
    name = JOptionPane.showInputDialog("Enter you're name:");
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T17:50:43.920

永远不要`==`用来比较`String`s 中的 s `Java`。

使用方法`equals(String)`。

请参阅以下[链接](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T17:51:34.840

使用“==”或“等于”有很大的不同。也尝试使用 equalsIgnoreCase() 来确定

```
while(name == null || name.equalsIgnoreCase("")){
        name = JOptionPane.showInputDialog("Enter you're name:");
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T17:56:22.997

停止比较字符串并开始使用 Apache Commons Lang [StringUtils](http://commons.apache.org/lang/api/org/apache/commons/lang3/StringUtils.html)类。它很好地处理空值并且经过了很好的测试。您将要使用`StringUtils.isBlamk(name)`或`StringUtils.isEmpty(name)`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-04-04T15:43:59.000

窗口关闭不会导致程序退出循环是因为我需要通过使用参数 JFrame.EXIT_ON_CLOSE 调用 JFrame 的 setDefaultCloseOperation 来添加默认关闭操作。这会终止 JFrame 并防止它在窗口关闭后在后台运行。

# wpf - 将 WPF 设计数据与 MVVM 模式一起使用

> ID：14778395
> 
> 赞同：10
> 
> 时间：2013-02-08T17:48:35.737
> 
> 标签：wpf, xaml, mvvm, prism, design-data

我在我们的 WPF 应用程序中使用 MVVM 模式来进行全面的单元测试。MVVM 模式本身运行良好，但是我正在努力适应模式，这意味着我可以使用 WPF 的设计时数据支持。

当我使用 Prism 时，通常会将 ViewModel 实例注入到视图的构造函数中，就像这样

```
public MyView(MyViewModel viewModel)
{
    DataContext = viewModel;
} 
```

然后将 ViewModel 的依赖项注入到构造函数中，就像这样

```
public class MyViewModel
{
    public MyViewModel(IFoo foo, IBar bar)
    {
        // ...
    }

    // Gets and sets the model represented in the view
    public MyModel { get; set; }

    // Read-only properties that the view data binds to
    public ICollectionView Rows { get; }
    public string Title { get; }

    // Read-write properties are databound to the UI and are used to control logic
    public string Filter { get; set; }
} 
```

这通常工作得很好，除非涉及到设计数据 - 我想避免将设计数据特定类编译到我发布的程序集中，所以我选择使用该`{d:DesignData}`方法而不是该`{d:DesignInstance}`方法，但是为了使其正常工作我的ViewModel 现在需要有一个无参数的构造函数。此外，为了能够在 XAML 中设置这些属性，我还经常需要更改其他属性以具有设置器或成为可修改的集合。

```
public class MyViewModel
{
    public MyViewModel()
    {
    }

    public MyViewModel(IFoo foo, IBar bar)
    {
        // ...
    }

    // Gets and sets the model represented in the view
    public MyModel { get; set; }

    // My read-only properties are no longer read-only
    public ObservableCollection<Something> Rows { get; }
    public string Title { get; set; }

    public string Filter { get; set; }
} 
```

这让我很担心：

*   我有一个无参数的构造函数，它永远不会被调用，也没有经过单元测试
*   有一些属性的设置器，只有 ViewModel 本身应该调用
*   我的 ViewModel 现在是应该由视图修改的属性和不应该修改的属性的混合体——这使得一眼就很难判断哪段代码负责维护任何给定的属性
*   在设计时设置某些属性（例如查看`Filter`文本样式）实际上最终会调用 ViewModel 逻辑！（所以我的 ViewModel 还需要容忍在设计时缺少其他强制依赖项）

有没有更好的方法在 WPF MVVM 应用程序中获取设计时数据，并且不会以这种方式损害我的 ViewModel？

或者，我是否应该以不同的方式构建我的 ViewModel，以便它具有更简单的属性，并将逻辑分离到其他地方。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-12-01T13:34:44.233

首先，我建议您看一下[这个视频](https://channel9.msdn.com/Shows/Visual-Studio-Toolbox/MVVM-Best-Practices)，其中 Brian Lagunas 提供了一些关于 MVVM 的最佳实践。Brian - 至少 - 参与了 Prism 的开发，因为他的名字出现在 nuget 包信息中。没有进一步检查。

在我这边，我只使用了一些 Prism，我的 Model 和 ViewModel 总是提供空白构造函数（就像 Brian 展示的那样），数据上下文在视图的 XAML 中分配，我设置的属性值如下：

```
<MyView.DataContext>
  <MyViewModel />
</MyView.DataContext> 
```

和

```
public void BringSomethingNew()
{      
  var myView = new View();
  (myView.DataContext as ViewModel).Model = myModel;

  UseMyView();
} 
```

这种方法的另一个好处是 ViewModel 只创建一次，在设计和运行时具有相同的路径，因此您创建的对象更少并节省了 GC 工作。我觉得这很优雅。

至于设置器，如果您将它们设为私有，设计数据仍然可以使用，例如：

```
public string MyProp { get; private set; } 
```

好的，自定义它以便`NotifyPropertyChange`在您方便时进行管理，但您已经明白了。

现在，我还没有管理`ObesrvableCollection`s 的解决方案（我面临同样的问题，尽管在 XAML 中放置多个值有时会起作用...... ???），是的，我同意你必须在未设置属性，例如在构造函数中设置默认值。

我希望这有帮助。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-08T18:12:29.357

我也曾使用 WPF 和 MVVM 实现进行 NUnit 测试。但是，我的版本与您的相反。您首先创建视图，然后创建模型来控制它。

在我的版本中，我首先创建了 MVVM 模型，并且可以对其进行单元测试，直到奶牛回家，而不用担心任何视觉设计……如果模型坏了，那么视觉实现也会坏掉。

在我的 MVVM 模型中，我有一个“GetTheViewWindow”的方法。因此，当我从我的 MVVM 基线派生时，每个视图模型都有自己负责的视图。所以通过虚拟方法，每个实例在被应用到生产时都会做自己的新视图窗口。

```
public class MyMVVMBase
{
   private MyViewBaseline currentView;

   public MyMVVMBase()
   { // no parameters required }

   public virtual void GetTheViewWindow()
   { throw new exception( "You need to define the window to get"; ) }
}

public class MyXYZInstanceModel : MyMVVMBase
{
   public override void GetTheViewWindow()
   {
      currentView = new YourActualViewWindow();
   }
} 
```

希望这有助于替代您遇到的问题。

# c++ - 如果我将 Visual Studio 版本 2008 更改为 2010，程序将不起作用

> ID：14778398
> 
> 赞同：0
> 
> 时间：2013-02-08T17:48:52.027
> 
> 标签：c++, visual-studio-2010, visual-studio-2008

嗨，我在我的程序中不断收到此错误，它只是在 Visual Studio 2008 中工作，但我使用的是 2010 并且无法正常工作并不断收到此错误消息

```
Error   4   error LNK2019: símbolo externo "public: bool __thiscall C_DSPlib::GeneraCoeficientesCosenoAlzado(float *,short,float,unsigned int,unsigned int)" (?GeneraCoeficientesCosenoAlzado@C_DSPlib@@QAE_NPAMFMII@Z) sin resolver al que se hace referencia en la función __catch$?InicializacionesComunes@C_Serial@@QAEXXZ$0    C:\SilverHeart\Serial.obj   SilverHeart
Error   5   error LNK2019: símbolo externo "public: short __thiscall C_DSPlib::PuntoMedio(long *,int)" (?PuntoMedio@C_DSPlib@@QAEFPAJH@Z) sin resolver al que se hace referencia en la función "public: bool __thiscall C_Serial::DibujaPunto(unsigned int,bool)" (?DibujaPunto@C_Serial@@QAE_NI_N@Z)   C:\SilverHeart\Serial.obj   SilverHeart
Error   6   error LNK2019: símbolo externo "public: bool __thiscall C_DSPlib::ECG_DefineFiltros(float *,float *,float *,float *,float *,float *,float *,float *)" (?ECG_DefineFiltros@C_DSPlib@@QAE_NPAM0000000@Z) sin resolver al que se hace referencia en la función "public: bool __thiscall C_Serial::SetCoeficientesFiltros(float *,float *,float *,float *,float *,float *,float *,float *)" (?SetCoeficientesFiltros@C_Serial@@QAE_NPAM0000000@Z)   C:\SilverHeart\Serial.obj   SilverHeart
Error   9   error LNK2019: símbolo externo _HtmlHelpA@16 sin resolver al que se hace referencia en la función "long __stdcall WndProc(struct HWND__ *,unsigned int,unsigned int,long)" (?WndProc@@YGJPAUHWND__@@IIJ@Z)  C:\SilverHeart\SilverHeart.obj  SilverHeart
Error   10  error LNK2019: símbolo externo "void __cdecl dl_deleteAll(struct s_DLlist *,int)" (?dl_deleteAll@@YAXPAUs_DLlist@@H@Z) sin resolver al que se hace referencia en la función "long __stdcall DlgAbrirECG(struct HWND__ *,unsigned int,unsigned int,long)" (?DlgAbrirECG@@YGJPAUHWND__@@IIJ@Z)    C:\SilverHeart\SilverHeart.obj  SilverHeart 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T17:52:30.690

如果您链接到使用以前版本的 Visual Studio 构建的其他库，则可能会出现这种情况。

您必须使用相同的新工具链重建所有引用的库，以便可以顺利完成链接。

如果它不能解决您的问题，请提供一些代码（例如来自引用函数的代码），因为没有更多信息，有 5000 个可能的原因可能导致链接错误。

# c - C链表searchNode/freeList方法（段错误）

> ID：14778405
> 
> 赞同：1
> 
> 时间：2013-02-08T17:49:21.433
> 
> 标签：c, search, linked-list, free, nodes

我一直在从 Java 过渡到学习 C 的课程。当前的一个练习是为 LinkedList 实现 removeAtFront()、searchNode() 和 freeList() 方法。我从理论上理解它是如何工作的——我会在 Java 中快速完成它，我已经尝试了几个小时并且不明白为什么下面的代码不起作用。

remove 方法似乎可以工作，生成正确的修改列表，直到在删除节点之后调用 search 方法。然后总是产生段故障 11。free 方法也总是产生段错误。

我不是要求人们做我的功课，但如果我能指出正确的方向，那将不胜感激！

给定的 Node* 结构是：

```
typedef struct Node
{
  char  *word;
  struct Node  *next;
} Node; 
```

main() 之外的方法如下所示：

```
void insertAtFront( Node **head, char * key )
{
    Node *new =  malloc( sizeof(Node) );
    if (!new)  fatal("Malloc of new Node failed");
    new->word = key;
    new->next = *head;
    *head = new;
}

void insertAtTail( Node **head, char * word )
{
    if (!(*head)) insertAtFront(head, word);    
    else insertAtTail(&(*head)->next, word);
}

void removeAtFront( Node ** head )
{
    Node *tmp = *head;
    if (!tmp) return;

    *head = tmp->next;
    free(tmp->word);
    free (tmp); 
}

void removeNode( Node ** head, char * key )
{
    Node *tmp = searchNode(*head, key);
    if (tmp) removeAtFront (&tmp);
}

Node * searchNode ( Node * head, char * key )
{   
    if (!head || (strcmp(head->word, key) == 0)) return head;
    return searchNode(head->next, key);
}

void freeList(  Node ** head )
{
    if (!head) return;
if (&(*head)->next) freeList (&(*head)->next);
    removeAtFront(head);
} 
```

**编辑：**其中一条评论解决了我使用 freeList() 方法的问题，但其他人要求提供更多代码。这个分配的问题是我只能修改 insertAtTail()、removeAtFront()、remove()、search() 和 freeList() 方法。不过，我将在下面发布主要方法。我认为单词值在其中被正确分配。

```
Node *searchNode( Node * head, char * key );
void insertAtFront( Node **head, char * key );  // ALREADY WRITTEN FOR YOU 
void insertAtTail( Node **head, char * key );
void removeAtFront( Node ** head );
void removeNode( Node **head, char * key );
void freeList( Node **head );
void printList( Node * head ); // ALREADY WRITTEN FOR YOU
void fatal( char * msg ); // ALREADY WRITTEN FOR YOU

#define BUFFER_CAP 20

int main() 
{
  Node *head = NULL;

  while (1)
  {
    char option;
    printf("\nChoose 'H'ead Insert, 'T'ail insert, 'R'emove, 'S'earch, F'ree,     'Q'uit " );
    fflush( stdout );
    int result = scanf(" %c%*[^\n]", &option); getchar();  // MAGIC BULLET TO CORRECTLY READ A SINGLE CHAR FROM STDIN
    if (result <1) fatal("failure reading from stdin\n");

    if (option == 'H' )
    {
        char * word=malloc(BUFFER_CAP);  // DONT ENTER ANY LONG WORDS!
        printf("Enter a word to insertAtFront: " );
        fflush( stdout );
        char * result = fgets( word, BUFFER_CAP, stdin );
        if (result==NULL) fatal("failure reading from stdin\n");
        strtok(word,"\n"); // overwrites '\n' with  '\0'
        insertAtFront( &head, word ); /* shallow copy string into list   */
        printList( head );
    }
    if (option == 'T' )
    {
        char * word=malloc(BUFFER_CAP);  // DONT ENTER ANY LONG WORDS!
        printf("Enter a word to insertAtTail: " );
        fflush( stdout );
        char * result = fgets( word, BUFFER_CAP, stdin );
        if (result==NULL) fatal("failure reading from stdin\n");
        strtok(word,"\n"); // overwrites '\n' with  '\0'
        insertAtTail( &head, word ); /* shallow copy string into list   */
        printList( head );
    }
        if (option == 'R' )
    {
        char * word=malloc(BUFFER_CAP);  // DONT ENTER ANY LONG WORDS!
        printf("Enter a word to remove: " );
        fflush( stdout );
        char * result = fgets( word, BUFFER_CAP, stdin );
        if (result==NULL) fatal("failure reading from stdin\n");
        strtok(word,"\n"); // overwrites '\n' with  '\0'
        removeNode( &head, word );
        printList( head );
        free( word ); // we were just using it for matching
    }
    if (option == 'S' )
    {
        char * word=malloc(BUFFER_CAP);  // DONT ENTER ANY LONG WORDS!
        printf("Enter a word to find: " );
        fflush( stdout );
        char * result = fgets( word, BUFFER_CAP, stdin );
        if (result==NULL) fatal("failure reading from stdin\n");
        strtok(word,"\n"); // overwrites '\n' with  '\0'
        if (searchNode( head, word ))
            fprintf(stderr, "%s FOUND\n",word );
        else
            fprintf(stderr, "%s NOT FOUND\n",word );
        printList( head );
        free( word ); // we were just using it for matching
    }
    if (option == 'F' ) // free the entire list (remember to set head to NULL)
    {
        freeList( &head );
        printList( head );
    }
    else if (option == 'Q' )
        exit( 0 );
} // END WHILE

return 0;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T17:55:17.470

当您使用 为节点分配内存时`Node *new = malloc( sizeof(Node) );`，您正在为指针分配内存，而不是为数据分配内存。您确实为 char 分配内存也喜欢：（*这只是一个想法*）

```
new->word= malloc(sizeof(char)*(strlen(key) + 1));
strcpy(new->word, key) 
```

否则，您必须使用`key` 动态分配内存。（*因为你这样做`free(tmp->word);`*）

[我认为您应该添加更多代码。你怎么通过`key`？]

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T18:24:48.720

是的，如前面的答案所示，尽管您已经为节点分配了内存，但您并没有在每个节点中为 word 分配内存。有时它可能会起作用，而不会导致段错误，当时您正在使用您尚未声明的“某人”内存，从而导致损坏该内存位置。

# python - 每次导入模块时做一些事情

> ID：14778407
> 
> 赞同：6
> 
> 时间：2013-02-08T17:49:24.050
> 
> 标签：python

**每次**从任何其他模块导入模块时，有没有办法做某事（例如打印“funkymodule import”） ？不仅是第一次导入运行时或重新加载？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-08T17:58:16.497

一种可能性是猴子补丁`__import__`：

```
>>> old_import = __import__
>>> def my_import(module,*args,**kwargs):
...   print module, 'loaded'
...   return old_import(module,*args,**kwargs)
...
>>> __builtins__.__import__ = my_import
>>> import datetime
datetime loaded
>>> import datetime
datetime loaded
>>> import django
django loaded 
```

它在命令行上运行良好（在 Windows XP 上使用 Python 2.7.3），但我不知道是否可以在其他环境中运行。

要访问模块对象（而不仅仅是模块名称 - 所以你可以用它做一些有用的事情）只需拦截返回值而不是参数：

```
>>> def my_import(*args,**kwargs):
...   ret = old_import(*args,**kwargs)
...   print ret
...   return ret
...
>>> __builtins__.__import__ = my_import
>>> import datetime
<module 'datetime' (built-in)>
>>> import django
<module 'django' from 'C:\Python27\lib\site-packages\django\__init__.pyc'> 
```

**更新：**刚刚确认如果在 python 文件中使用它也可以工作 - 尽管在这种情况下，正确的分配方法是`__builtins__['__import__'] = my_import`.

# javascript - 使用 Chrome 扩展将 chrome 中访问的 URL 插入 MySQL 数据库

> ID：14778408
> 
> 赞同：2
> 
> 时间：2013-02-08T17:49:23.463
> 
> 标签：javascript, mysql, google-chrome

我想要一个 Chrome 扩展程序，它将继续将用户访问的 URL 插入 MySQL 表中。

**背景.html**

```
<script>
var myURL = "nourl";

chrome.tabs.getSelected(null, function(tab) {
  myURL = tab.url;
});

dataparam = "url="+myURL;

    $.ajax({
        type: "POST",
        url: "http://domainname.com/insertdb.php",
        data: dataparam,
        error:function() {
                alert("sorry")
        },
        success: function(html) {
            alert(html);
        }
    });

</script> 
```

插入数据库.php

```
<?php
$val=$_REQUEST['url'];

// Inserting $val in the db code goes here.

?> 
```

我是 javascript 新手，这段代码似乎不起作用。任何帮助将不胜感激。提前非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T18:00:30.003

您需要获得跨域权限。

[http://developer.chrome.com/extensions/xhr.html](http://developer.chrome.com/extensions/xhr.html)

# asp.net - 在不重新加载页面 asp.net 的情况下更新 div

> ID：14778416
> 
> 赞同：0
> 
> 时间：2013-02-08T17:49:46.857
> 
> 标签：asp.net, c#-4.0, asp.net-ajax

我正在尝试使用在 Page_Load 加载时存储的对象数据更新 div 中的表，并且我想在不重新加载页面的情况下更新此表以避免不必要的服务器端加载。

```
public partial class MainPage : System.Web.UI.Page
{
        User user = new User();

    protected void Page_Load(object sender, EventArgs e)
        {
            user = getUser(); //return a user object
        }
} 
```

然后在我的 div "side" 我有一个

在其他 div“按钮”中，我有两个，一个用于加载 user.Name，另一个用于加载 user.FullName，两个按钮都从 MainPage.aspx.cs 执行其 OnClick 方法，在此表中添加一行及其各自的数据（姓名和全名）

我想执行这些按钮方法来在这个表中添加一行而不重新加载页面，因为它已经存储在“用户”对象中，所以我只需要获取添加到表中的属性，而不是真正需要到达服务器将这些信息返回给我以进行更新。

我尝试使用 UpdatePanel，但它只接受其中的按钮，它调用 Page_Load，我不想这样做，我也尝试了一些 javascripts/ajax 的东西但没有成功。

我希望你能理解我的需要并帮助我。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T18:09:26.937

如何通过 jquery 向表中添加行：[在 jQuery 中添加表行](https://stackoverflow.com/questions/171027/add-table-row-in-jquery)

如何调用您的字段：[从 JQuery 访问文本框](https://stackoverflow.com/questions/1047493/access-textbox-from-jquery)

# java - 仅显示 10 个 ImageView 中的 1 个 - Android

> ID：14778417
> 
> 赞同：0
> 
> 时间：2013-02-08T17:49:47.373
> 
> 标签：java, android, imageview

我的代码的一部分是`LinearLayout`在`ScrollView`. 有`ScrollView`10 行，每行 4 列。第一列很小`ImageView`（红色“x”或绿色复选标记）。从下图中，`ImageView`由于某种原因，仅显示第一个。我希望为第一列中的每一行显示一个。

这是 XML 代码：

```
<ScrollView
        android:layout_width="fill_parent"
        android:layout_height="0dip"
        android:layout_weight="65"
        android:fillViewport="true" >

        <LinearLayout 
            android:layout_width="fill_parent"   
            android:layout_height="wrap_content"
            android:orientation="vertical" > 

            <LinearLayout
                android:layout_width="fill_parent"   
                android:layout_height="wrap_content"
                android:orientation="horizontal" >

                <ImageView 
                    android:id="@+id/q1Image"
                    android:layout_width="10dp"
                    android:layout_height="10dp" /> 

                <TextView 
                    android:id="@+id/q1Question"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:textSize="10sp"
                    android:layout_weight="48"
                    android:paddingLeft="5dp"
                    android:paddingBottom="6dp" /> 

                <TextView 
                    android:id="@+id/q1Answer"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:textSize="10sp"
                    android:layout_weight="27"
                    android:paddingBottom="6dp"  /> 

                <TextView 
                    android:id="@+id/q1Verse"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:textSize="10sp"
                    android:layout_weight="25"
                    android:paddingBottom="6dp"  /> 
            </LinearLayout>

        <View 
            android:layout_width="fill_parent"
            android:layout_height="1dp"       
            android:background="#C2BEBF" />

            <LinearLayout
                android:layout_width="fill_parent"   
                android:layout_height="wrap_content"
                android:orientation="horizontal" >

                <ImageView 
                    android:id="@+id/q2Image"
                    android:layout_width="10dp"
                    android:layout_height="10dp" />

                <TextView 
                    android:id="@+id/q2Question"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:textSize="10sp"
                    android:layout_weight="48"
                    android:paddingLeft="5dp"
                    android:paddingBottom="6dp"
                    android:paddingTop="6dp" /> 

                <TextView 
                    android:id="@+id/q2Answer"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:textSize="10sp"
                    android:layout_weight="27"
                    android:paddingBottom="6dp"
                    android:paddingTop="6dp" /> 

                <TextView 
                    android:id="@+id/q2Verse"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:textSize="10sp"
                    android:layout_weight="25"
                    android:paddingBottom="6dp"
                    android:paddingTop="6dp"  /> 
            </LinearLayout>

        <View 
            android:layout_width="fill_parent"
            android:layout_height="1dp"       
            android:background="#C2BEBF" />

            <LinearLayout
                android:layout_width="fill_parent"   
                android:layout_height="wrap_content"
                android:orientation="horizontal" >

                <ImageView 
                    android:id="@+id/q3Image"
                    android:layout_width="10dp"
                    android:layout_height="10dp" />

                <TextView 
                    android:id="@+id/q3Question"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:textSize="10sp"
                    android:layout_weight="48"
                    android:paddingLeft="5dp"
                    android:paddingBottom="6dp"
                    android:paddingTop="6dp"  />  

                <TextView 
                    android:id="@+id/q3Answer"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:textSize="10sp"
                    android:layout_weight="27"
                    android:paddingBottom="6dp"
                    android:paddingTop="6dp"  /> 

                <TextView 
                    android:id="@+id/q3Verse"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:textSize="10sp"
                    android:layout_weight="25"
                    android:paddingBottom="6dp"
                    android:paddingTop="6dp"  /> 
            </LinearLayout> 
```

Java 代码

```
ImageView q1Image = (ImageView)findViewById(R.id.q1Image);
        q1Image.setScaleType(ImageView.ScaleType.FIT_CENTER);
        ImageView q2Image = (ImageView)findViewById(R.id.q2Image);
        q2Image.setScaleType(ImageView.ScaleType.FIT_CENTER);
        ImageView q3Image = (ImageView)findViewById(R.id.q3Image);
        q3Image.setScaleType(ImageView.ScaleType.FIT_CENTER);
        ImageView q4Image = (ImageView)findViewById(R.id.q4Image);
        q4Image.setScaleType(ImageView.ScaleType.FIT_CENTER);
        ImageView q5Image = (ImageView)findViewById(R.id.q5Image);
        q5Image.setScaleType(ImageView.ScaleType.FIT_CENTER);
        ImageView q6Image = (ImageView)findViewById(R.id.q6Image);
        q6Image.setScaleType(ImageView.ScaleType.FIT_CENTER);
        ImageView q7Image = (ImageView)findViewById(R.id.q7Image);
        q7Image.setScaleType(ImageView.ScaleType.FIT_CENTER);
        ImageView q8Image = (ImageView)findViewById(R.id.q8Image);
        q8Image.setScaleType(ImageView.ScaleType.FIT_CENTER);
        ImageView q9Image = (ImageView)findViewById(R.id.q9Image);
        q9Image.setScaleType(ImageView.ScaleType.FIT_CENTER);
        ImageView q10Image = (ImageView)findViewById(R.id.q10Image);
        q10Image.setScaleType(ImageView.ScaleType.FIT_CENTER);

        ArrayList<ImageView> ivArray = new ArrayList<ImageView>(10);
        ivArray.add(q1Image);
        ivArray.add(q2Image);
        ivArray.add(q3Image);
        ivArray.add(q4Image);
        ivArray.add(q5Image);
        ivArray.add(q6Image);
        ivArray.add(q7Image);
        ivArray.add(q8Image);
        ivArray.add(q9Image);
        ivArray.add(q10Image);
        for(int i = 0; i < 1; i++) {
            if(qs.get(i).getSelectedAnswer() == qs.get(i).getCorrectAnswer()) {
                ivArray.get(i).setBackgroundResource(R.drawable.green_check_mark);
            } else {
                ivArray.get(i).setBackgroundResource(R.drawable.red_x);
            }
        } 
```

![在此处输入图像描述](../Images/1bbf2458fa3247ab1167f3be90dc5893.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T17:56:17.437

这是您的 Java 代码中的错误：

```
for(int i = 0; i < 1; i++) {
     if(qs.get(i).getSelectedAnswer() == qs.get(i).getCorrectAnswer()) {
         vArray.get(i).setBackgroundResource(R.drawable.green_check_mark);
      } 
// .... 
```

您的循环在 1 处停止`(i < 1)`。尝试将其更改为`(i < 10)`，看看它是否会变得更好。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-08T17:56:42.367

您应该实现 ListView 和 Adapter。如您所见，管理手动将每一行添加到 ScrollView 并手动获取每个 ImageView 引用的代码很痛苦。

请参阅[使用适配器构建布局](http://developer.android.com/guide/topics/ui/declaring-layout.html#AdapterViews)

请发布您的任何问题，我很乐意扩展我的答案。

现在，更直接地回答你的问题......

你的 for 循环只访问索引 0。试试这个：

```
for (int i = 0; i < ivArray.size(); i++) 
```

# gwt - GWT - 在 Java 代码和 UiBinder 文件之间简单地共享字符串和数字常量的最短方法是什么？

> ID：14778419
> 
> 赞同：5
> 
> 时间：2013-02-08T17:49:51.210
> 
> 标签：gwt, constants, sharing, uibinder

有人可以发布一个在 Java 代码和 UiBinder XML 之间共享（最好是静态最终）字符串或数字常量的最短方法示例，我可以在属性中使用该常量：

`<g:TextArea width="...px"/>`

或在一个值中：

`<g:Label>...</g:Label>`

我似乎找不到这样的例子，只有文件中的文本，这是我不想要的。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-09T11:51:21.850

`static`字段（和枚举常量）可以与一个简单的一起使用`<ui:import>`：

```
<ui:import field="com.example.Pojo.CONSTANT" /> 
```

或者

```
<ui:import field="com.example.Pojo.*" /> 
```

然后简单地说：

```
<g:Label text="{CONSTANT}" /> 
```

或者

```
<g:Label><ui:text from="{CONSTANT}"/></g:Label> 
```

请参阅[https://code.google.com/p/google-web-toolkit/source/browse/trunk/user/test/com/google/gwt/uibinder/test/client/WidgetBasedUi.ui.xml#87](https://code.google.com/p/google-web-toolkit/source/browse/trunk/user/test/com/google/gwt/uibinder/test/client/WidgetBasedUi.ui.xml#87)例子。

# magento - 无法离线运行 Magento 站点。DEV 服务器重定向到 live store

> ID：14778426
> 
> 赞同：0
> 
> 时间：2013-02-08T17:50:12.750
> 
> 标签：magento

我有一个在实时电子商务服务器上运行的 Magento 站点。

我下载了整个站点以在开发环境中离线使用。我更改了数据库中的基本 URL 值并编辑了 local.xml 文件，但我的本地开发站点仍然指的是在线商店。

我该如何纠正？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-08T19:07:20.193

通常的问题，改变你的基本 url 和 local.xml 只是等式的一小部分。
`Step 3`将网站移动到开发服务器时错过了。

移动东西实际上非常简单。

1.  一种。tar 旧服务器上的 public_html 目录

    湾。在开发系统上重新安装。

2.  一种。在旧服务器上禁用 Magento 缓存，转储数据库，然后重新启用 Magento 缓存。

    湾。在开发系统上创建一个 mysql 数据库、用户并授予权限。将数据库转储加载到开发系统上的数据库中。

3.  **做大多数人忽略的一件事，去设置你的文件权限和所有权。**

4.  使用 mysql 命令行或 phpMyAdmin 更改您的基本 URL。

5.  去消除 var/ 文件夹中的每个子文件夹，Magento 将重新创建它。

6.  最后，更改您的 local.xml 文件以更改分配给新数据库的数据库访问凭据并启动 Magento。

如果您拥有服务器的完全所有权，请在关闭 Apache 服务器的情况下执行上述步骤，直到您加载了所有数据并进行了权限和文件更正。这可以防止在未准备好的状态下意外启动 Magento，这可以缓存 Magento 的配置，这就是您遇到此问题的原因。

如果您对 var/ 文件夹和子文件夹没有适当的权限，Magento 会将**您的 Magento 临时写入并缓存到系统 temp**，您最终会得到**Mage 神奇地重定向的 Magento**，它永远指向原始网站。

此外，如果您将 local.xml 复制到另一个文件以保存它，请将其命名为 local.xml.sv0，否则如果它以 .xml 结尾，Magento 会自动加载 app/etc/ 中的每个 .xml 文件并尝试将其与local.xml 文件的内容。

**注意：**如果您在移动后第一次运行 Magento 之前没有正确设置文件/文件夹权限，会发生什么情况。

![在此处输入图像描述](../Images/e8c0b9ebb1fdee1f49b4c03fe144b02a.png)

![在此处输入图像描述](../Images/5468db76474de5715d7bee14cfa5d590.png)

# android - 许多带有单选按钮的自定义对话框

> ID：14778427
> 
> 赞同：0
> 
> 时间：2013-02-08T17:50:15.327
> 
> 标签：android

我有一个简单的应用程序，使用对话框进行除法、减法等，操作员循环条件

我的错误

```
02-08 17:29:23.271: W/KeyCharacterMap(744): No keyboard for id 0
02-08 17:29:23.271: W/KeyCharacterMap(744): Using default keymap: /system/usr/keychars/qwerty.kcm.bin
02-08 17:29:24.011: D/dalvikvm(744): GC_EXTERNAL_ALLOC freed 72K, 52% free 2611K/5379K, external 914K/1038K, paused 59ms
02-08 17:29:26.101: W/KeyCharacterMap(744): No keyboard for id 0
02-08 17:29:26.101: W/KeyCharacterMap(744): Using default keymap: /system/usr/keychars/qwerty.kcm.bin
02-08 17:29:30.311: D/AndroidRuntime(744): Shutting down VM
02-08 17:29:30.311: W/dalvikvm(744): threadid=1: thread exiting with uncaught exception (group=0x40015560)
02-08 17:29:30.321: E/AndroidRuntime(744): FATAL EXCEPTION: main
02-08 17:29:30.321: E/AndroidRuntime(744): java.lang.NullPointerException
02-08 17:29:30.321: E/AndroidRuntime(744):  at com.example.dialog_looping.MainActivity$1$1$1.onClick(MainActivity.java:72)
02-08 17:29:30.321: E/AndroidRuntime(744):  at com.android.internal.app.AlertController$ButtonHandler.handleMessage(AlertController.java:159)
02-08 17:29:30.321: E/AndroidRuntime(744):  at android.os.Handler.dispatchMessage(Handler.java:99)
02-08 17:29:30.321: E/AndroidRuntime(744):  at android.os.Looper.loop(Looper.java:123)
02-08 17:29:30.321: E/AndroidRuntime(744):  at android.app.ActivityThread.main(ActivityThread.java:3683)
02-08 17:29:30.321: E/AndroidRuntime(744):  at java.lang.reflect.Method.invokeNative(Native Method)
02-08 17:29:30.321: E/AndroidRuntime(744):  at java.lang.reflect.Method.invoke(Method.java:507)
02-08 17:29:30.321: E/AndroidRuntime(744):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
02-08 17:29:30.321: E/AndroidRuntime(744):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
02-08 17:29:30.321: E/AndroidRuntime(744):  at dalvik.system.NativeStart.main(Native Method)
02-08 17:34:30.490: I/Process(744): Sending signal. PID: 744 SIG: 9 
```

这是我的完整代码使用对话框循环进行减法、除法等......

```
public class MainActivity extends Activity {
    int result=0,i;
    int [] arr;
    int indexArray = 0;
    String Oprtr;
    RadioGroup operator_mode;
    RadioButton rb;
    @Override  
    protected void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
        final LayoutInflater inflater = this.getLayoutInflater();
        final View v=inflater.inflate(R.layout.dialoginput, null);

        operator_mode=(RadioGroup)findViewById(R.id.operator);

        //operator_mode.setOnClickListener(l)(null);

        new AlertDialog.Builder(MainActivity.this)
            .setIcon(R.drawable.ic_launcher)
            .setTitle("Total Operator")
            .setView(v)
            .setPositiveButton("Ok", new DialogInterface.OnClickListener() {

                 public void onClick(final DialogInterface dialog, int whichButton) {
                      EditText op = (EditText)v.findViewById(R.id.operator);
                      arr=new int [Integer.valueOf(op.getText().toString())+1];
                      for (i = 0;i<arr.length;i++){

                            LayoutInflater inflater = MainActivity.this.getLayoutInflater();
                            final View v2=inflater.inflate(R.layout.input, null) ;

                            new AlertDialog.Builder(MainActivity.this)
                                .setIcon(R.drawable.ic_launcher)
                                .setTitle("number:")
                                .setView(v2)
                                .setPositiveButton("Ok", new DialogInterface.OnClickListener() {
                                    public void onClick(DialogInterface dlg, int sumthin) {

                                        EditText number = (EditText)v2.findViewById(R.id.number);
                                        arr[indexArray]= Integer.valueOf(number.getText().toString());
                                        //Log.v ("aa",Integer.toString(arr[indexArray]));

                                        LayoutInflater inflater = MainActivity.this.getLayoutInflater();
                                        final View v3=inflater.inflate(R.layout.operator, null) ;

                                        new AlertDialog.Builder(MainActivity.this)
                                        .setIcon(R.drawable.ic_launcher)
                                        .setTitle("select Operator:")
                                        .setView(v3)
                                        .setPositiveButton("Ok", new DialogInterface.OnClickListener() {
                                            public void onClick(DialogInterface dlg, int sumthin) {
                                                sumthin = operator_mode.getCheckedRadioButtonId();
                                                rb = (RadioButton) findViewById(sumthin);
                                                switch(sumthin){
                                                case R.id.plus:
                                                    Oprtr = "+";
                                                    Log.v ("aa",Oprtr);
                                                    /*
                                                    if (indexArray==0){
                                                        result = arr[indexArray];
                                                        if (result<0){
                                                            new AlertDialog.Builder(MainActivity.this)
                                                                .setTitle("Error")
                                                                .setMessage("result can't negative value")
                                                                .setNeutralButton("Close", new DialogInterface.OnClickListener() {
                                                                    public void onClick(DialogInterface dlg, int sumthin) {
                                                                        finish();
                                                                    }
                                                                })
                                                                .show();
                                                            } else if (result>9999999){
                                                                new AlertDialog.Builder(MainActivity.this)
                                                                .setTitle("Error")
                                                                .setMessage("result can't > 9999999")
                                                                .setNeutralButton("Close", new DialogInterface.OnClickListener() {
                                                                    public void onClick(DialogInterface dlg, int sumthin) {
                                                                        finish();
                                                                    }
                                                                })
                                                                .show();
                                                            }else {
                                                                new AlertDialog.Builder(MainActivity.this)
                                                                .setTitle("result")
                                                                .setMessage(Integer.toString(result))
                                                                .setNeutralButton("Close", new DialogInterface.OnClickListener() {
                                                                    public void onClick(DialogInterface dlg, int sumthin) {
                                                                    }
                                                                })
                                                                .show();
                                                            }
                                                    } else {
                                                            result = result + arr[indexArray];
                                                            if (result<0){
                                                            new AlertDialog.Builder(MainActivity.this)
                                                                .setTitle("Error")
                                                                .setMessage("result can't negative value")
                                                                .setNeutralButton("Close", new DialogInterface.OnClickListener() {
                                                                    public void onClick(DialogInterface dlg, int sumthin) {
                                                                        finish();
                                                                    }
                                                                })
                                                                .show();
                                                            } else if (result>9999999){
                                                                new AlertDialog.Builder(MainActivity.this)
                                                                .setTitle("Error")
                                                                .setMessage("result can't > 9999999")
                                                                .setNeutralButton("Close", new DialogInterface.OnClickListener() {
                                                                    public void onClick(DialogInterface dlg, int sumthin) {
                                                                        finish();
                                                                    }
                                                                })
                                                                .show();
                                                            }else {
                                                                new AlertDialog.Builder(MainActivity.this)
                                                                .setTitle("result")
                                                                .setMessage(Integer.toString(result))
                                                                .setNeutralButton("Close", new DialogInterface.OnClickListener() {
                                                                    public void onClick(DialogInterface dlg, int sumthin) {
                                                                    }
                                                                })
                                                                .show();
                                                            }
                                                    }                                   
                                                    indexArray++;
                                                    */
                                                    break;
                                                case R.id.minus:
                                                    //str="Meeting Mode";
                                                    break;
                                                case R.id.substract:
                                                    //str="Silent Mode";
                                                    break;
                                                case R.id.divide:
                                                    //str="Offline Mode";
                                                    break;
                                            }
                                            }
                                        })
                                        .show();
                                    }
                                })
                                .show();
                        }
                 }
            })

            .setNegativeButton("Cancel", new DialogInterface.OnClickListener() {
              public void onClick(DialogInterface dialog, int whichButton) {
                 finish();
              }
            })
            .show();
    }
} 
```

我的代码哪里出错了？

请帮助我。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T18:05:47.230

你`RadioGroup`是空的，我相信。您需要设置视图

`setContentView(R.layout.your_view)`

然后，如果您需要膨胀视图，请使用：

`operator_mode=(RadioGroup)v.findViewById(R.id.operator);`

代替

`operator_mode=(RadioGroup)findViewById(R.id.operator);`

**编辑**

您可以使用充气机，但您必须执行以下操作：

```
Window window = getWindow();

    window.setContentView(v);` 
```

但你还在打电话`setContentView()`

# ios - iOS App 场景下的安全密钥，安全吗？

> ID：14778429
> 
> 赞同：43
> 
> 时间：2013-02-08T17:50:18.583
> 
> 标签：ios, security, authentication, api-key, secret-key

我试图隐藏我在我的一个应用程序中使用的 2 个秘密。

据我了解，钥匙串是个好地方，但在提交应用程序之前我无法添加它们。

我想到了这个场景——

*   通过将秘密传播到其他实体中以隐藏它们，在我的应用程序的 CoreData 数据库中预先播种秘密。（我已经在那个应用程序中有一个种子数据库）。
*   当应用程序首次启动时，生成密钥并将其移动到钥匙串。
*   从 CoreData 中删除记录。

这是安全的还是黑客可以看到这种情况并获得这些密钥？

*第三次编辑**抱歉没有从一开始就解释这个场景 - 该应用程序有很多级别，每个级别都包含文件（音频、视频、图像）。用户可以购买一个级别（IAP），购买完成后，我需要将文件下载到他的设备上。

对于 iOS6，文件使用 Apple 新的“托管内容”功能存储。对于 iOS5，文件存储在 amazon S3 中。

因此，在所有这些过程中，我有 2 个密钥： 1\. IAP 密钥，用于验证在 Apple IAP 上的购买。2\. S3 密钥，用于为 iOS5 用户从 S3 获取文件：

```
NSString *secretAccessKey = @"xxxxxxxxx";
NSString *accessKey = @"xxxxxxxxx"; 
```

我需要保护这些密钥吗？恐怕人们无需购买关卡就可以从 S3 获取文件。或者黑客将能够构建一个预先下载所有级别的黑客版本。

* * *

## 回答 #1

> 赞同：72
> 
> 时间：2013-02-14T00:12:53.533

让我尝试将您的问题分解为多个子问题/假设：

# 假设：

**a) 钥匙扣是安全的地方**

实际上，它并不那么安全。如果您的应用程序安装在越狱设备上，黑客将能够从钥匙串中获取您的密钥

# 问题：

**a) 有没有办法将一些密钥放入应用程序（从 AppStore 交付的二进制文件）并完全安全？**

简短的回答是否定的。只要您的二进制文件中有内容，就可以对其进行逆向工程。

**b) 混淆会有帮助吗？**

是的。这将增加黑客弄清楚它的时间。如果您在应用程序中拥有的密钥“花费”的时间少于逆向工程所花费的时间 - 一般来说，您很好。

但是，在大多数情况下，通过默默无闻来确保安全是一种不好的做法，它让您感觉自己很安全，但实际上并非如此。

因此，这可能是安全措施之一，但您也需要采取其他安全措施。

**c) 在这种情况下我应该怎么做？***

在不知道您要做什么的背景下，很难为您提供一个好的解决方案。

例如，为什么每个人都应该可以访问相同的 Amazon S3？他们需要只读还是写（正如 Kendall Helmstetter Gein 指出的那样）。

我相信最安全的场景之一是这样的：

*   您的应用程序应受密码保护
*   第一次进入应用程序时，它会要求用户向服务器进行身份验证（输入他的用户名、密码）
*   这会针对您的服务器或其他身份验证提供商（例如 Google）进行身份验证
*   服务器向设备发送一些身份验证令牌（通常是某种类型的 cookie）。
*   您根据应用程序密码的哈希加密此令牌并以这种形式将其保存在钥匙串中
*   现在你可以做以下两件事之一：
    *   将特定密钥从服务器移交给客户端（因此每个客户端都有自己的密钥）并使用应用程序密码的哈希对其进行加密
    *   在服务器上使用 S3 处理所有操作（并要求客户端发送）

这样您就可以免受多种可能的攻击。

**c) 哇哦....我不打算实现你刚刚写的所有这些东西，因为这需要我几个月的时间。有没有更简单的？**

我认为这会很有用，如果您每个客户端都有一组密钥。

如果这太多了，那么从服务器下载加密密钥并将它们以加密形式保存在设备上，并将解密密钥硬编码到您的应用程序中。我会说它是微创的，至少你的二进制文件中没有密钥。

PS Kendall 和 Rob 都是对的。

# 更新 1（基于新信息）

首先，你有没有[在应用购买编程指南中](http://developer.apple.com/library/ios/#documentation/NetworkingInternet/Conceptual/StoreKitGuide/APIOverview/OverviewoftheStoreKitAPI.html#//apple_ref/doc/uid/TP40008267-CH100-SW1)看到。

服务器产品模型下有很好的绘图。这种模式可以防止没有购买新关卡的人。您的应用程序中不会嵌入亚马逊密钥，并且您的服务器端将在收到购买收据时移交关卡。

没有完美的解决方案可以防止购买内容的人（并决定从您的应用程序中窃取它），因为最终您的应用程序会将内容下载到设备上，并且需要以纯格式（未加密的形式） ) 在某个时间点。

如果您真的担心这种情况，我建议您对您的所有资产进行加密，并将其与加密密钥一起从服务器以加密形式移交。应为每个客户端生成加密密钥，并应使用它对资产进行加密。

这不会阻止任何高级黑客，但至少它可以防止有人使用 iExplorer 并复制文件（因为它们将被加密）。

# 更新 2

关于更新 1 的另一件事。您应该存储未加密的文件并将加密密钥存储在某处（例如，在钥匙串中）。

如果您的游戏需要互联网连接，最好不要在设备上存储加密密钥。每次启动应用程序时，您都可以从服务器获取它。

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2013-02-13T23:27:14.973

**不要**在您的应用程序中存储用于写入的 S3 密钥！在短时间内，嗅探流量的人将看到对 S3 的写入调用，在较短的时间内，他们将找到该密钥并做任何他们喜欢的事情。

应用程序可以以任何程度的安全性将内容写入 S3 的唯一方法是通过您控制的服务器。

如果它是用于只读使用的密钥，这意味着您的 S3 无法公开读取，但该密钥可用于只读访问而无法写入，那么您可以将其嵌入应用程序中，但任何人都可以拉取它出去。

为了稍微掩盖预加载的敏感数据，您可以将其加密在一个文件中，应用程序可以将其读入内存并在存储到钥匙串中之前解密。同样，有人将能够获得这些密钥，所以如果他们可以，最好不要紧。

编辑：

根据新信息，您最好将秘密嵌入代码中。使用 iExplorer 之类的工具，普通用户可以轻松访问核心数据数据库或应用程序包中的任何其他内容，但目标文件在某种程度上是加密的。如果他们有越狱设备，他们可以很容易地获得未加密的版本，但仍然很难找到有意义的字符串，也许将它们分成两部分并在代码中重新组合。

同样，它不会阻止一个坚定的黑客，但足以让大多数人远离。

您可能还想添加一些代码，这些代码会尝试询问您的服务器是否可以下载任何覆盖机密。这样，如果机密被泄露，您可以通过更改用于您的应用程序的机密来快速做出反应，同时阻止任何使用复制机密的人。首先将没有覆盖下载。您不希望必须等待应用程序更新才能使用新密钥。

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2013-02-13T23:10:33.790

没有好的方法可以在您发送给攻击者的一段代码中隐藏一个秘密。与大多数此类事情一样，您需要更多地关注如何在密钥泄漏时缓解问题，而不是花费无限时间试图保护它。例如，为每个用户生成不同的密钥允许您在密钥被滥用时禁用它。或者通过中间服务器工作可以让您控制协议（即服务器拥有密钥并且只愿意用它做某些事情）。

做一点混淆不是浪费时间。没关系。但是不要花太多时间在上面。如果它在程序中并且非常有价值，那么它将被黑掉。专注于如何检测何时发生，以及如何在发生时恢复。并尽可能将此类敏感数据移至您控制的其他服务器中。

# jquery - jQuery 表单插件：ajaxForm() 的 IE 问题

> ID：14778434
> 
> 赞同：0
> 
> 时间：2013-02-08T17:50:24.903
> 
> 标签：jquery, jquery-forms-plugin

我在除 IE 之外的所有浏览器中使用此插件上传文件都没有问题。错误如下：

行：483 错误：访问被拒绝。

（jquery表单插件文件为：* jQuery Form Plugin *版本：3.27.0-2013.02.06）

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T18:26:07.657

它的安全问题导致我动态地将 input:files 添加到表单中。制作原始html的输入部分解决了这个问题

# ios - 将一组按钮添加到特定的子视图

> ID：14778437
> 
> 赞同：0
> 
> 时间：2013-02-08T17:50:32.953
> 
> 标签：ios, xcode, uiscrollview, uiimageview, uibutton

我有一个隐藏的子视图，直到用户单击按钮（子视图是 UIScrollview）。我想以编程方式在该视图中添加一个按钮网格。我不确定如何指定将按钮添加到哪个视图。我正在尝试关注[http://www.raywenderlich.com/130/how-to-write-a-custom-image-picker-like-uiimagepicker](http://www.raywenderlich.com/130/how-to-write-a-custom-image-picker-like-uiimagepicker)

滚动视图称为图形视图

这就是我所拥有的

```
 for(int i=0;i<64;i++)
{
UIImage *buttonImage=[UIImage imageNamed:@"image.png"];

    [arrayOfThumbnails addObject:buttonImage];  
}

for(int i = 0; i < arrayOfThumbnails.count; ++i) {

    UIImage *thumb = [arrayOfThumbnails objectAtIndex:i];
    UIButton * button = [UIButton buttonWithType:UIButtonTypeCustom];
    button.frame = CGRectMake(column*100+24, row*80+10, 64, 64);
    [button setImage:thumb forState:UIControlStateNormal];
    [button addTarget:graphicView
               action:@selector(buttonClicked:)
     forControlEvents:UIControlEventTouchUpInside];
    button.tag = i;
    [graphicView addSubview:button];

    if (column == 2) {
        column = 0;
        row++;
    } else {
        column++;
    }

} 
```

* * *

这是本教程中我唯一没有使用的部分......

> [查看 setContentSize:CGSizeMake(320, (row+1) * 80 + 10)]; self.view = 视图；

* * *

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:49:04.180

通过检查 [UIImage imageNamed:@"image.png"] 的返回值来确保 UIImage 有效

检查您的 NSMutableArray 是否已初始化

您的 for 循环看起来不寻常，请尝试更改为快速枚举

```
for (UIImage *thumb in arrayOfThumbnails) {
    // UIImage *thumb = [arrayOfThumbnails objectAtIndex:i]; <-- Not needed
    ...
} 
```

Is graphicView being added as a subview somewhere? Set graphicView.backgroundColor = [UIColor redColor] so you can see at least it's being added.

# c# - 如何使 2 SELECT 语句的 UNION

> ID：14778442
> 
> 赞同：0
> 
> 时间：2013-02-08T17:50:44.123
> 
> 标签：c#, sql, select, union, union-all

这是我的查询：

```
string x1 = "SELECT unos_golub.drzava, unos_golub.spol, unos_golub.broj_goluba as broj, parovi.par_m, parovi.par_z,parovi.broj_para FROM parovi JOIN unos_golub ON (parovi.par_m=unos_golub.ID) WHERE parovi.uzgojni_par=1";
string x2 = "SELECT unos_golub.drzava, unos_golub.spol, unos_golub.broj_goluba as broj2, parovi.par_m, parovi.par_z,parovi.broj_para FROM parovi JOIN unos_golub ON (parovi.par_z=unos_golub.ID) WHERE parovi.uzgojni_par=1 ORDER BY broj_para ASC";
cmd.CommandText = x1+" UNION ALL "+x2; 
```

在我的表“parovi”中有 2 列“par_m”和“par_z”。在第二个表“unos_golub”中有“ID”和其他一些。现在我需要从“par_m”和“par_z”中获取值，在“unos_golub”中匹配并获取一些数据。

例如，如果我得到 par_m=91 和 par_z=92，我需要在“unos_golub”的 ID 中找到这些数字，并获取 91 和 92 的不同数据并显示它。我想也许 UNION ALL 可以提供帮助，但它不起作用。

这是我的桌子

1.  表：parovi
2.  表：unos_golub

![表：parovi](../Images/d4cc25af02c824fe8c30146ceda5a6a2.png)

![表：unos_golub](../Images/69e3e99b67d3ea0fabac7ad7570e3b57.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T18:01:58.120

这种方法将把所有的“M”和“Z”值放在一个单独的行上。请注意，我将 TWICE 加入“unos_golub”表，但别名不同。所以，现在我有一个 parovi 记录同时指向各自的“M”和“Z”版本。并且可以从每个列中提取列，从而为它们提供别名结果列名称，后缀为“M”和“Z”，表示它们各自的来源。

```
SELECT 
      parovi.par_m, 
      parovi.par_z,
      parovi.broj_para,
      unos_M.drzava as drzava_M, 
      unos_M.spol as spol_M, 
      unos_M.broj_goluba as broj_M, 
      unos_Z.drzava as drzava_Z, 
      unos_Z.spol as spol_Z, 
      unos_Z.broj_goluba as broj_Z
   FROM 
      parovi 
         JOIN unos_golub as unos_M
            ON parovi.par_m = unos_M.ID
         JOIN unos_golub as unos_Z
            ON parovi.par_m = unos_Z.ID
   WHERE 
      parovi.uzgojni_par=1"; 
```

根据您想要显示所有行的评论，您的查询应该只需要一个小的更改。执行 UNION 时，查询必须具有相同的列名。您通过以下方式更改了其中一个

```
unos_golub.broj_goluba as broj
vs
unos_golub.broj_goluba as broj2 
```

这会使查询失败。列名不同，因此失败。

# accordion - 使用链接或按钮切换整个手风琴功能

> ID：14778452
> 
> 赞同：0
> 
> 时间：2013-02-08T17:51:08.257
> 
> 标签：accordion, jquery

我有一架手风琴，效果很好。我试图找出一种方法来搜索手风琴的所有襟翼：

[使用 jQuery Accordion 时在页面上查找字符串 (Ctrl+F)](https://stackoverflow.com/questions/14613949/find-string-on-page-ctrlf-when-jquery-accordion-in-use)

我在一个链接上使用了 destroy 方法，然后在另一个链接上重新初始化，但是用一个按钮切换它会很棒。（（（我最初在没有这个解决方案的情况下问了这个问题，所以下面的答案就是这个。我不会接受它，直到我看看是否有更好的解决方案出现））

```
$(document).ready(function() {
    $("#hide").click(function() {
        $(".accordion").accordion("destroy");
    });

    $("#show").click(function() {
        $(".accordion").accordion({
            navigation  : true,
            collapsible : true,
            heightStyle : "fill",
            active      : 
        });
    });
}); 
```

我还可以用 jQuery 切换整个手风琴，`toggle()`但这只会让整个事情消失。我想要的是切换手风琴功能，同时将 div 结构留在后面，使其可见，就像有人在浏览器中禁用了 JavaScript 一样。

因此，上述类型可以满足我的要求，但实际上，更好的解决方案是实际删除该类`.accordion`，因为这会使页面真正看起来像它应该的那样。破坏手风琴实际上会破坏一些东西，这是不可取的。

我认为它会像这样简单，但它不起作用：

```
$(document).ready(function() {
    $("#hide").click(function() {
        $("#accordion").removeClass(".accordion");
    });

    $("#show").click(function() {
        $("#accordion").addClass(".accordion");
    });
}); 
```

这似乎是添加和删除我告诉它的类，但最初的删除不是删除手风琴类来删除手风琴本身。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T20:14:40.123

我在一个链接上使用了 destroy 方法，然后在另一个链接上重新初始化（虽然一个按钮切换会更好）：

```
$(document).ready(function() {
    $("#hide").click(function() {
        $(".accordion").accordion("destroy");
    });

    $("#show").click(function() {
        $(".accordion").accordion({
            navigation  : true,
            collapsible : true,
            heightStyle : "fill",
            active      : 
        });
    });
}); 
```

我不得不编辑一些 CSS 来完成这项工作，但这是我能找到的最好的。

**笔记**

我应该注意到，我最终找到了一种更简单的方法。只需添加重新加载即可将页面恢复到其原始状态：

```
$("#show").click(function() {
    location.reload();
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-14T13:33:02.133

销毁和重新加载是一个非常简单的解决方案。一个按钮方面是通过这个事件解决的，该事件进入文档准备功能：

```
// event to destroy accordion and make it's content searchable
$("#open-1").on("click",function() {

    // if the button says Enable reload to bring the accordion back
    if ($(this).html() == "Enable") {
        location.reload();
    }

    // otherwise destroy the accordion and change the button to Enable
    else {
        $("#accord-1").accordion('destroy');
        $(this).html("Enable");
    }
}); 
```

该按钮最初可以说出您想要的任何内容。关键是它设置为“启用”并测试“启用”以重新加载页面。您也可以制作任何您想要的字符串。这是一个[完整的例子](http://popnowlin.com/testacc.php)。

# python - python json字典直接访问

> ID：14778453
> 
> 赞同：1
> 
> 时间：2013-02-08T17:51:08.303
> 
> 标签：python, json

我很困惑为什么在尝试从 json 文件访问对象数组时必须使用 `.get('key')

```
req = urllib2.Request("http://website.com/entertainment/entertainment_news.json", None)
opener = urllib2.build_opener()
f = opener.open(req)
stories = json.load(f)
for new_story in stories:
    #Why can't I access variables using
    new_story.title

    #I have to do
    new_story.get('title') 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-08T17:52:10.440

您的问题是，当`json`模块解析 JSON 对象时，它返回一个 Python `dict`- 这是 Python 中更适合手头数据的数据结构。

这意味着您不想尝试访问其上的字段，而是访问`dict`. 访问`dict`s （或类似`dict`对象）的项目的 Python 语法是：

```
dict[name] 
```

所以在你的情况下：

```
new_story['title'] 
```

有关更多信息，请参阅[s](http://docs.python.org/3/library/stdtypes.html#mapping-types-dict)[的文档。`dict`](http://docs.python.org/3/library/stdtypes.html#mapping-types-dict)

如果[`dict.get()`](http://docs.python.org/3/library/stdtypes.html#dict.get)密钥`None`不存在（通常这会产生`KeyError`一个问题是，`None`当您尝试使用它时，获得价值并在以后出现错误）。

另请注意，这是该`with`语句的一个很好的用例，可确保正确关闭连接。由于`urllib2`默认情况下不支持上下文管理器，我们使用它[`contextlib.closing()`](http://docs.python.org/3/library/contextlib.html#contextlib.closing)来制作：

```
from contextlib import closing
req = urllib2.Request("http://website.com/entertainment/entertainment_news.json", None)
opener = urllib2.build_opener()
with closing(opener.open(req)) as f:
    stories = json.load(f)
    ... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T17:52:11.613

因为你必须使用 new_story['title']，但是如果这个键不存在，它会抛出异常

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T18:07:50.337

除了*Lattyware 的*回答：为了能够使用`.some_attribute`约定访问字典，您可以使用一个技巧：

```
class Story:
  def __init__(self, **kwargs):
    self.__dict__.update(kwargs)

#...    
stories = [Story(story) for story in json.load(f)]
for new_story in stories:
    # now you can do it!
    new_story.title 
```

...尽管如果您*真的*想坚持使用“点”表示法，它会这样做。它只会给您的程序带来另一个复杂性（除了许多其他缺点，例如`story.title.somethingelse`在没有一些递归初始化的情况下将无法在这个简单的场景中工作）

您也可以考虑使用[namedtuple](http://docs.python.org/2/library/collections.html)。

# android - Android / google maps - 覆盖z-fighting问题？

> ID：14778457
> 
> 赞同：1
> 
> 时间：2013-02-08T17:51:12.283
> 
> 标签：android, maps, overlay, android-mapview

对你来说很奇怪。我有一个地图视图，我在上面画了一些线来链接一些位置，我在最终位置的框中画了一个标签。该框是一个略透明的矩形上的红色轮廓，其中包含红色文本。

在 4.2 上（我还没有在其他版本上测试过）盒子的背景在黑白之间闪烁 - 有点像有故障的灯带一样快速/间歇性地闪烁。看起来盒子的背景有点像z-fighting：

![在这些状态之间交替](../Images/3512127497a3dc5742ce190ca46a4387.png)

不确定代码是否有帮助，但是：

```
// draw (fill) a trans grey box
paint.setStyle(Paint.Style.FILL);
paint.setFlags(Paint.FAKE_BOLD_TEXT_FLAG | Paint.ANTI_ALIAS_FLAG);
paint.setARGB(200, 255, 255, 255);

canvas.drawRect(rBox, paint);

if (colour == 0) // ie one loc only, pin is green/red, label should be red
    paint.setColor (colourRed);
else
    paint.setColor (colour);

// draw the box and text
paint.setStyle(Paint.Style.STROKE);
paint.setStrokeCap(Paint.Cap.ROUND);
//paint.setColor(colour);

canvas.drawRect(rBox, paint);

// draw the text
paint.setStyle(Paint.Style.FILL);
canvas.drawText(sLabel, pt.x, pt.y, paint); 
```

这会和任何人敲响警钟吗？我以前在地图上从未见过类似的东西。这是在 Nexus 4 上。

非常感谢您的任何想法。

巴兹

# git - Git 存储应用和删除

> ID：14778460
> 
> 赞同：48
> 
> 时间：2013-02-08T17:51:20.797
> 
> 标签：git

是否有一个 git 命令既可以应用存储又可以将其删除？

这是一个命令：

```
git stash apply
git stash drop 
```

* * *

## 回答 #1

> 赞同：78
> 
> 时间：2013-02-08T17:54:30.703

你要[`git stash pop`](https://www.kernel.org/pub/software/scm/git/docs/git-stash.html)！

```
pop [--index] [-q|--quiet] [<stash>]
       Remove a single stashed state from the stash list and apply it on
       top of the current working tree state, i.e., do the inverse
       operation of git stash save. The working directory must match the
       index. 
```

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2013-02-08T17:54:21.080

`git stash pop`将获取列表中的第一个存储（或您指定的存储），将其应用于您的`HEAD`，然后将其从存储列表中删除。

# javascript - 将 iframe 发送回 IE

> ID：14778462
> 
> 赞同：1
> 
> 时间：2013-02-08T17:51:22.480
> 
> 标签：javascript, jquery, html, css

我正在构建这个网页，它有一个弹出 div（使用 javascript/jquery）来显示一些文本，但我一直遇到问题。在此弹出窗口后面，有一个 youtube 嵌入视频 (iframe)，仅在 Internet Explorer 上，位于弹出窗口前面。我尝试使用 z-index 属性来修复它，但没有。在 Chrome 上它工作得很好，但 IE 毁了它。我有一些选择，比如用弹出窗口淡化它或将其显示设置为“无”，但它看起来不太好......

关于如何将它发送到后面的任何想法？

坦克给大家，
干杯。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T17:57:31.617

尝试将此添加到您的 iframe 网址`&wmode=opaque`

或者尝试`?wmode=transparent`

说明： [http ://www.scorchsoft.com/news/youtube-z-index-embed-iframe-fix](http://www.scorchsoft.com/news/youtube-z-index-embed-iframe-fix)

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-02-08T17:56:49.073

您是否在 CSS 中设置了 zoom:1 ？IE 需要为 z-index 设置缩放。

# jsf - 价值未知的财产

> ID：14778467
> 
> 赞同：1
> 
> 时间：2013-02-08T17:51:30.597
> 
> 标签：jsf

在我的一些价值观下，我得到了黄线说`unkown property values`

```
<p:spinner min="1" max="50" value="#{printerSettings.p}" size ="1"> <!-- allows the user a choice of up to 50, this is more than enough for any situation, if needed this can be removed or raised -->
                        <p:ajax update="p"/>
                    </p:spinner>
                    <br></br>
                    <br></br>
                    <h:outputText value="Copies that will be printed: &nbsp; #{printerSettings.p}" id="p"/>
                    <br></br>
                    <br></br>

                    Double sided?: 

                    <br></br>
                    <br></br>

                    Paper Size : 
                    <h:selectOneMenu value="#{printerSettings.selectedPaper}">
                        <f:selectItems value="#{printerSettings.selectedPaperValue}" />
                    </h:selectOneMenu> 

                    <br></br>
                    <br></br>

                    What time would you like the printer to print out your work ?, please enter the minutes after midnight :  
                    <br></br>

                    <br></br>
                    <p:inputText id="timeToPrint" value="#{printerSettings.timeToPrint}" />
                    <br></br> 
```

`printerSettings.p`工作得非常好，它们是`printerSettings.selectedPaper`，`printerSettings.selectedPaperValue`并且`printerSettings.timeToPrint`在它们下面有这些黄线，奇怪的是它从 bean 中提取信息，所以我得到一个默认值为 2000 的打印时间，菜单显示三个选项，为什么会这样这样做？有什么不对 ？

这是我的面孔配置

```
 <managed-bean>
        <managed-bean-name>printerSettings</managed-bean-name>
        <managed-bean-class>richard.fileupload.PrinterSettings</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
    </managed-bean> 
```

这是我的豆子

```
public class PrinterSettings {

//@NotNull(message = "Please enter a time to print ")
    private int timeToPrint = 2000;
    private int p = 1; //sets default value
    private int time;
    public String selectedPaper = "A4"; // defualts to A4

    public int gettimeToPrint() {
        return (timeToPrint);
    }

    public void settimeToPrint(int timeToPrint1) {
        this.timeToPrint = timeToPrint1;
    }

    public int getP() {
        return (p);
    }

    public void setP(int p1) {
        this.p = p1;
    }

    public int gettime() {
        return (time);
    }

    public void settime(int time) {
        this.time = time;
    }

    public String getselectedPaper() {
        return selectedPaper;
    }
    private static Map<String, Object> paperValue;

    static {
        paperValue = new LinkedHashMap<String, Object>();
        paperValue.put("A5", "A5"); //right hand side is value, may need to change this later on to make compatable with the printers
        paperValue.put("A4", "A4");
        paperValue.put("A3", "A3");
    }

    public Map<String, Object> getselectedPaperValue() {
        return paperValue;
    }
} 
```

我还注意到在 bean 中我在 paperValue.put 位下得到一条黄线，表示在初始化期间使用了非静态变量

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-10T10:13:53.327

我认为您会`"unknown property in value"`因为 PrinterSettings bean 属性的错误 getter 和 setter 名称而收到警告。对于***selectedPaper***属性，getter 名称应为***getSelectedPaper***，而 setter 名称应为***setSelectedPaper***。对于***selectedPaperValue***属性，getter 名称应为***getSelectedPaperValue***，而 setter 名称应为***setSelectedPaperValue***。对于***timeToPrint***属性，getter 名称应为***getTimeToPrint***，setter 名称应为***setTimeToPrint***。

setter 的名称应该从 set + 属性的名称开始，第一个大写字母。getter 的名称应该从 get + 属性的名称开始，第一个大写字母。

JSF 使用 getter 和 setter 来访问 POJO 的属性。

# highslide - Highslide - 是否可以禁用自动调整图像大小？

> ID：14778474
> 
> 赞同：0
> 
> 时间：2013-02-08T17:51:46.727
> 
> 标签：highslide

我刚刚注意到 Highslide scripe 会调整大图像的大小（使它们更小）以适应屏幕。是否可以禁用此功能？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T19:37:36.123

将此添加到您的 Highslide 设置：

```
hs.allowSizeReduction = false; 
```

Highslide API 参考页面：[http ://highslide.com/ref/hs.allowSizeReduction](http://highslide.com/ref/hs.allowSizeReduction)

# android - 如何将密钥密码恢复到密钥库中？

> ID：14778476
> 
> 赞同：2
> 
> 时间：2013-02-08T17:51:52.343
> 
> 标签：android, keystore, brute-force

我有一个带有两个密钥的密钥库。我记得密钥库密码，但不记得别名 B 的密钥的确切密码。我记得密码的开头，但不记得密码的结尾。任何想法？你知道有什么软件可以恢复吗？

我阅读了一些问题并使用了一些应用程序，但它们只能恢复密钥库密码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T17:55:36.773

我不认为你能做到这一点。这就是使用密钥库来保证安全性的一种方式。

您无法将使用不同密钥签名的同一个应用程序部署到 Play 商店，因此保持当前密钥库信息可用很重要。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-01T11:50:34.940

有一种方法可以克隆它并创建新别名。我用这种方式恢复了它并保存了我的应用程序并发布了我的应用程序的新版本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T17:59:10.377

按照设计，这应该是不可恢复的。如果您有部分密码（并且可以对其余密码进行一些猜测），那么您最好的选择是尝试暴力破解它。

谷歌搜索会为您提供一些特定应用程序的结果（我的快速搜索结果为 TrueCrypt、winrar 等）。不确定 Android 密钥库/密钥加密的详细信息是什么，但我怀疑您可以找到已经构建或适用的东西。根据您记住多少密码，这将或多或少可以实现...注意您已经搜索并尝试了一些东西-我猜您将需要继续寻找并使用适应性强的东西:)

# php - 2 mysql查询中的where语句

> ID：14778481
> 
> 赞同：0
> 
> 时间：2013-02-08T17:52:13.670
> 
> 标签：php, mysql, sql, select

我在创建查询时遇到问题。如何在一个中创建两个选择？

```
select * from messages where id ='1' and where recd = '0' 
```

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-08T17:52:42.840

仅使用一个子句，条件根据您的需要`WHERE`分隔。`AND/OR`

```
SELECT * 
FROM   messages 
WHERE  id ='1' AND recd = '0' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T18:00:51.230

如果**id**和**recd**字段是数值，您可以/应该避免使用**'(single quot)**以获得更好的索引搜索性能。

```
select * from messages where id = 1 and recd = 0; 
```

MySQL 足够先进，可以在当前两种查询情况下管理此字符串/数字转换。

希望这会有所帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T17:52:44.107

尝试这个：：

```
select * from messages where id ='1' and recd = '0' 
```

# java - Java 应用程序中的 D3js

> ID：14778493
> 
> 赞同：20
> 
> 时间：2013-02-08T17:53:06.540
> 
> 标签：java, javascript, swing, web, d3.js

在 Java 应用程序中嵌入[D3js 可视化](http://d3js.org/)的最佳方式是什么？

初步想法：

*   [JWebPane](https://blogs.oracle.com/geertjan/entry/waiting_for_jwebpane) (Vaporware)
*   [Lobo 浏览器](http://www.lobobrowser.org/) （仍然是 HTML 4 和 CSS 2）
*   [DJ Native Swing 项目](http://djproject.sourceforge.net/ns/news/index.html)（自 2011 年起停用）
*   其他想法？

有相关的 SO 问题（[例如 this](https://stackoverflow.com/questions/3064732/using-java-to-create-a-web-browser/3065667#3065667)），我正在寻找特定于支持 D3js 的解决方案。

我对可能不包括完整的网络浏览器集成的想法持开放态度，只是 D3 可视化所需的最小集合。我认为这将包括一个 Javascript 解释器、DOM 操作和一个 HTML/CSS 布局引擎，例如 WebKit。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-18T07:49:14.317

您可以通过 SWT/AWT[桥接器使用 SWT 的浏览器组件](https://gist.github.com/r10r/2305091)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-21T16:04:53.647

为此，我使用了 JavaFX 和 webengine。但我真的很想将 d3 移植到 Java ......

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-05-15T14:52:28.197

[javafx-d3](https://github.com/stefaneidelloth/javafx-d3) - 提供 Java API 以将 JavaScript 库 d3.js 与 JavaFx WebView 一起使用。

到目前为止，这似乎是最好的选择。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-04-08T19:43:00.327

我只是在没有测试的情况下偶然发现了[这个 d3js](https://github.com/gwtd3/gwt-d3-js)。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-04-30T16:08:08.607

到目前为止，我见过的最好的方法是导入 jxBrowser 库并调用您的 html ......或者对 java 应用程序的扩展。后来，你玩 Jfram 改变你想要的大小等等。

# apache-flex - 随机选取一个 XMLList 菜单项

> ID：14778499
> 
> 赞同：0
> 
> 时间：2013-02-08T17:53:27.707
> 
> 标签：apache-flex, actionscript, random, flexbuilder, xmllist

我有这个 XMLList：

```
<fx:XMLList id="Generic List" xmlns="">
        <menuitem label="First entry" url="www.aaa.com"/>
        <menuitem label="Second entry" url="www.bbb.com"/>
        <menuitem label="Third Entry" url="www.ccc.com"/>
</fx:XMLList> 
```

我想在我的组合框中随机选择（代码未显示）随机选择的这些菜单项之一。我正在使用 Flex Builder 4,6。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T19:51:44.607

试试这个：

```
<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
           xmlns:s="library://ns.adobe.com/flex/spark" 
           xmlns:mx="library://ns.adobe.com/flex/mx" minWidth="955" minHeight="600">

<fx:Declarations>
    <fx:XMLList id="genericList" xmlns="">
        <menuitem label="First entry" url="www.aaa.com"/>
        <menuitem label="Second entry" url="www.bbb.com"/>
        <menuitem label="Third Entry" url="www.ccc.com"/>
    </fx:XMLList>
</fx:Declarations>

<fx:Script>
    <![CDATA[
        import mx.collections.XMLListCollection;
    ]]>
</fx:Script>

<s:ComboBox 
    id="cbEntry" 
    dataProvider="{new XMLListCollection(genericList)}" 
    labelField="@label" 
    creationComplete="{cbEntry.selectedIndex = Math.floor(cbEntry.dataProvider.length * Math.random());}"/>

</s:Application> 
```

# http - Go - http.Post 方法返回 400 Bad Request 而 http.Get 似乎工作

> ID：14778504
> 
> 赞同：0
> 
> 时间：2013-02-08T17:53:58.750
> 
> 标签：http, post, go

使用以下代码：

```
//fpCode and fpParams are strings
ingestionBody := strings.NewReader(fpCode+fpParams)
resp, err := http.Post("http://192.168.1.151:8080/ingest?", "text/plain", ingestionBody) 
```

我收到错误消息：“HTTP/1.1 POST /ingest” - 400 Bad Request

我不知道我是否没有正确使用 Post 方法（即使在[这个答案](https://stackoverflow.com/questions/7984931/google-app-engine-go-http-post-byte/8459198#8459198)中，他们似乎也以类似的方式使用它。是我能够找到的唯一示例，不幸的是 Go 文档缺少示例） ，问题出在第二个参数上，它应该有所不同（但我也尝试了“text/*”），或者我遗漏了一些重要的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:03:06.157

如果您正在执行 POST，您可能应该使用`application/x-www-form-urlencoded`or的内容类型`multipart/form-data`。

最终，您需要查看服务器日志以确定请求失败的原因。

您可以尝试[http.PostForm()](http://golang.org/pkg/net/http/#Client.PostForm)代替。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T02:11:16.850

Perhpas 你可以试试 http.PostForm:

```
form := url.Values{}
form.Add("field1", a)
form.Add("field2", b)
http.PostForm("http://192.168.1.151:8080/ingest", form) 
```

# gpu - 使用 GPU 或 FPGA 中的视频内存作为显示的循环缓冲区是个好主意吗？

> ID：14778507
> 
> 赞同：2
> 
> 时间：2013-02-08T17:54:04.397
> 
> 标签：gpu, fpga

循环缓冲区用于在窗口中显示图像。由于读取/写入显示缓冲区需要一些时间，我阅读了一篇关于使用 GPU 视频内存或 FPGA VGA SRAM 作为循环缓冲区的文章。

但是我可以看到的一个问题是，没有简单的方法可以将该视频内存（指针）传递给 UI API，例如 MFC 或 Qt。为此，我们需要将内容复制到失去其用途的普通 RAM 中。

所以我想知道使用GPU或FPGA中的视频内存作为显示的循环缓冲区是否是个好主意。如果是这样，我该如何克服上述问题？经验丰富的开发人员提供的任何线索将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T23:34:04.977

为视频内存使用双缓冲区总是一个好主意。但这取决于您的系统是否有必要的内存带宽。

# java - 如何在从 xml 解析的图像视图中显示数据

> ID：14778511
> 
> 赞同：-1
> 
> 时间：2013-02-08T17:54:30.420
> 
> 标签：java, android

我想通过解析 XML 创建一个应用程序员工详细信息。其中将显示 empid、empname、empcost 等员工详细信息。我想在从 xml 获取一些数据后立即显示可绘制文件夹中的图像。然后我需要当我点击每张图片时，它会显示员工的详细信息：empid、empname、empcost 在另一个活动中。以下是我的 java 代码，它显示了从 ListView 中的 XML 解析的数据：

爪哇：

```
public class XmlVdUI extends ListActivity {

    Document doc;

    private Element getChildEle(Element parentEle, String common) {

        for (Node n = parentEle.getFirstChild(); n != null; n = n
                .getNextSibling()) {
            if (n.getNodeType() == Node.ELEMENT_NODE
                    && n.getNodeName().equals(common)) {
                return (Element) n;
            }
        }
        return null;
    }

    public static Iterable<Element> getChildren(Element common, String group) {
        List list = new ArrayList();

        for (Node n = common.getFirstChild(); n != null; n = n.getNextSibling()) {
            if (n.getNodeType() == Node.ELEMENT_NODE
                    && n.getNodeName().equals(group)) {
                list.add(n);
            }
        }
        return (Iterable<Element>) list;

    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        parseXml();

        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_xml_vd_ui);

        final String _EMPID = "Empid";
        final String _EMPNAME = "Name";
        final String _EMPCOST = "Empcost";

        ArrayList<HashMap<String, String>> menuItems = new ArrayList<HashMap<String, String>>();

        Element commonEle = getChildEle(doc.getDocumentElement(), "Common");

        Iterable<Element> groupEle = (Iterable<Element>) getChildren(commonEle,
                "Group"); // Iterable<Element>
        groupEle = (Iterable<Element>) getChildren(commonEle, "Group");
        System.out.println("hi");

        for (Element e : groupEle) {
            HashMap<String, String> map = new HashMap<String, String>();
            map.put(_EMPID, getValue(e, _EMPID));
            map.put(_EMPNAME, getValue(e, _EMPNAME));
            map.put(_EMPCOST, "Rs." + getValue(e, _EMPCOST));

            // adding HashList to ArrayList menuItems.add(map);
            menuItems.add(map);
        }
        ListAdapter adapter = new SimpleAdapter(this, menuItems,
                R.layout.list_item,
                new String[] { _EMPNAME, _EMPID, _EMPCOST }, new int[] {
                        R.id.name, R.id.id, R.id.cost });

        setListAdapter(adapter);

    }

    private String getValue(Element item, String str) {
        NodeList n = item.getElementsByTagName(str);

        return this.getElementValue(n.item(0));
    }

    public final String getElementValue(Node ele) {
        Node child;
        if (ele != null) {
            if (ele.hasChildNodes()) {
                for (child = ele.getFirstChild(); child != null; child = child
                        .getNextSibling()) {
                    if (child.getNodeType() == Node.TEXT_NODE) {
                        return child.getNodeValue();
                    }
                }
            }
        }
        return "";
    }

    public void parseXml() {

        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
        try {
            DocumentBuilder db = dbf.newDocumentBuilder();
            InputStream in = getResources().openRawResource(R.raw.root1);
            doc = db.parse(in, null);
        } catch (ParserConfigurationException e) {
            e.printStackTrace();
        } catch (SAXException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

    }
} 
```

一旦我从 xml 而不是在 ListView 中获取一些数据，我就需要从可绘制文件夹中显示图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T18:39:28.143

听起来你想为你的 ImageViews 设置一个[onClickListener](https://developer.android.com/reference/android/view/View.OnClickListener.html)，它将启动带有员工信息的第二个 Activity。

如果您还有其他问题，我可以扩展我的答案。

# java - 枚举作为泛型类型并在某些注释中使用

> ID：14778516
> 
> 赞同：-2
> 
> 时间：2013-02-08T17:55:11.650
> 
> 标签：java, generics, enums, annotations, type-parameter

我希望子类将特定的枚举值传递给父类`extends`，以便这些特定的枚举值将在某些注释中的父类中使用。以下是我真正想要实现的目标。

```
public enum SomeEnum {
    VAL1, VAL2;
}

public @interface SomeAnnotation {
    SomeEnum someValue();
}

//below starts all fuzzy things : I want a specific value of enum 
public class parent<FetchType> {// not sure what exactly should write between  < >

    // below,at someValue I want the specific enum passed by child , means
    // the value passed between < and > 
    @SomeAnnotation(someValue = null /* here  should be the specific enum value passed 
    as type parameter of this class */) 
    private String someString;
        //getter-setter
}
//as i said , for child1 , i need SomeEnum.VAL1 to be passed to parent and
// SomeEnum.VAL2 for child2.
public class child1 extends parent<SomeEnum.VAL1>{}
public class child2 extends parent<SomeEnum.VAL2>{} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T18:39:45.570

我会四处走动，建议你不需要`Enum`，`annotations`但也许像下面这样？

```
interface NotEnum  {
  interface Val1 extends NotEnum {}
  interface Val2 extends NotEnum {}
}

class Parent<T extends NotEnum> {...}

class Child1 extends Parent<NotEnum.Val1> {...}
class Child2 extends Parent<NotEnum.Val2> {...} 
```

# android - 为什么在设置 xml backgroundResource 时视图会丢失填充？

> ID：14778520
> 
> 赞同：4
> 
> 时间：2013-02-08T17:55:21.900
> 
> 标签：android, view, background, resources, padding

在 Android 中，您可以通过 xml 设置背景，一切都很好。在某些特殊情况下，我需要在 Java 中设置它（即更改 List-Rows）。可以认为他可以声明：

```
View v = findViewById(R.id.some_view);
v.setBackgroundResource(R.drawable.somedrawable); 
```

但不幸的是，这个特定的视图正在失去它的填充。我有一个这样的设施方法，效果很好：

```
private void applyDifferentBackgroundResource(int resId, View v){
        final int paddingBottom = v.getPaddingBottom();
        final int paddingLeft   = v.getPaddingLeft();
        final int paddingRight  = v.getPaddingRight();
        final int paddingTop    = v.getPaddingTop();
        v.setBackgroundResource(resId);
        v.setPadding(paddingLeft, paddingTop, paddingRight, paddingBottom);
} 
```

但只是出于好奇：是否有原因，为什么 View 失去了填充，或者 Android 代码`setBackgroundResource`不能（或不应该）处理填充本身？

# macos - 为什么 Key Down 事件掩码不起作用，但全部掩码起作用？

> ID：14778522
> 
> 赞同：4
> 
> 时间：2013-02-08T17:55:29.090
> 
> 标签：macos, cocoa, keyboard, keyboard-events, cgeventtap

我正在开发一个基本的击键转换器应用程序。转换适用于以下内容：

```
CFRunLoopSourceRef runLoopSource = NULL;
CFMachPortRef eventTap = CGEventTapCreate(kCGHIDEventTap, kCGHeadInsertEventTap, kCGEventTapOptionDefault, kCGEventMaskForAllEvents, myCGEventCallback, NULL);
runLoopSource = CFMachPortCreateRunLoopSource(kCFAllocatorDefault, eventTap, 0);
CFRunLoopAddSource(CFRunLoopGetCurrent(), runLoopSource, kCFRunLoopCommonModes);
CGEventTapEnable(eventTap, true); 
```

正如您所料，`kCGEventMaskForAllEvents`除了键盘之外，任何鼠标移动或单击都会不断触发，我怀疑会占用系统资源。我尝试替换`CGEventMaskBit(kCGEventKeyDown)`，我可以从[关于事件类型的 Quartz Event 文档](https://developer.apple.com/library/mac/documentation/Carbon/Reference/QuartzEventServicesRef/Reference/reference.html#//apple_ref/c/tdef/CGEventType)中最好地看出这是我想要的，并且会清除鼠标移动和点击。不幸的是，使用它似乎只是吃掉击键，而不是转换它们。

我究竟做错了什么？

以下工作，但我仍然不明白为什么`CGEventMaskBit(kCGEventKeyUp)`它本身不是正确的实现。

```
CGEventMaskBit(kCGEventKeyUp) | CGEventMaskBit(kCGEventKeyDown) | CGEventMaskBit(NX_SYSDEFINED) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-10T16:44:21.553

因为击键*按键*由 keydown 和 key up 组成

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-06-29T03:46:46.190

1.  文档页面的*讨论*部分说：[`CGEventTapCreate`](https://developer.apple.com/documentation/coregraphics/1454426-cgeventtapcreate)

    > 如果以下条件之一为真，则事件轻击会接收按键向上和按键向下事件：
    > 
    > *   当前进程以 root 用户身份运行。
    > *   启用辅助设备访问。在 OS X v10.4 中，您可以使用系统偏好设置、通用访问面板、键盘视图启用此功能。

    以 root 用户身份运行肯定对我有用（MacOS Sierra。）我没有尝试辅助设备方法。

2.  要在 XCode 中以 root 身份运行（我目前有 8.3.3），请选择*Product/Scheme/Edit Scheme.../Run/Info/Debug Process As: root*

    [![XCode 的编辑方案对话框](../Images/f7572fcc95fb8e99fea81b8447dc468f.png)](https://i.stack.imgur.com/ppd6f.png)

3.  在`CGEventTapCreate`调用中，将`kCGEventMaskForAllEvents`参数替换为`CGEventMaskBit(kCGEventKeyDown) | CGEventMaskBit(kCGEventKeyUp)`。现在，大多数按键都会调用您的回调，修改键除外：shift、ctrl、cmd、一些功能键。

    要为修饰键调用回调，请添加`CGEventMaskBit(kCGEventKeyDown) | CGEventMaskBit(kCGEventKeyUp) | CGEventMaskBit(NX_SYSDEFINED)`. 出于某种原因，通过此更改，我还获得了为按下鼠标按钮调用的回调。这可能是罗技鼠标驱动程序工作方式的副作用——我没有调查。但通话量比以前低得多，而且不包括鼠标移动。

    [Dave Keck 对这个 CocoaBuilder 线程的响应](http://www.cocoabuilder.com/archive/cocoa/242438-trouble-with-event-taps.html#242495)因为弄清楚了这一点而受到赞誉。

# sql - 从 sql 存储过程打印快速报告

> ID：14778524
> 
> 赞同：1
> 
> 时间：2013-02-08T17:55:36.887
> 
> 标签：sql, delphi, stored-procedures, delphi-7

我正在尝试通过以下代码从数据库中打印特定记录的详细信息

```
procedure TReportsForm.BitBtn1Click(Sender: TObject);
begin
  if edit1.Text = '' then
  begin
    ShowMessage('Please enter the serial number first');
    Edit1.SetFocus;
  end
  else
  begin
    with AddIndividualsAccountADOQuery do
    begin
      SQL.Clear;
      SQL.Add('Select * from IndividualAccount where [Serial Number]=:Sno');
      Parameters.ParamByName('Sno').Value:=edit1.Text;
      Open;
      Active := True;
      singlememberreportform.QuickRep1.Preview;
    end;

    if AddIndividualsAccountADOQuery.RecordCount = 0 then
    begin
      ShowMessage('Empty Jonathan database to view records.');
    end
  end;
end; 
```

问题是当我运行程序时，快速报告显示数据库中的所有记录，而不是只打印带有 edit1.text 的记录。换句话说，运行的报告类似于只键入

```
procedure TReportsForm.BitBtn1Click(Sender: TObject); 
begin
  singlememberreportform.QuickRep1.Preview;
end; 
```

对这个问题有任何想法吗？

# ruby-on-rails - 从单个 IP 为多个 Rails 应用程序提供服务：找不到静态资产（nginx + 乘客）

> ID：14778525
> 
> 赞同：1
> 
> 时间：2013-02-08T17:55:39.663
> 
> 标签：ruby-on-rails, ruby-on-rails-3, nginx, asset-pipeline, passenger

我在 VPS 上设置了 nginx 和Passenger，从两条不同的路径为两个Rails 应用程序提供服务。这是我的目标——从不同的子 URI 为每个 Rails 应用程序提供服务。

```
123.123.123.123/app1
123.123.123.123/app2 
```

根据Passenger + nginx 文档，我设置了以下内容`nginx.conf`：

```
server {
        listen 80;
        server_name 123.123.123.123;

        location /app1 {
            alias /u/apps/app1_project_name;
            passenger_enabled on;
            passenger_base_uri /app1;
        }

        location /app2 {
            alias /u/apps/app2_project_name;
            passenger_enabled on;
            passenger_base_uri /app2;
        }
    } 
```

我在`/u/apps/app1_project_name`和`/u/apps/app2_project_name`目录中创建了一个符号链接，`app1`并在这两种情况下`app2`分别链接到`./current/public`。

当我访问该站点时，所有*页面*都正确显示，但静态资产似乎都不起作用！如果我查看页面源代码，我会看到指向如下页面的链接：`/app1/home/index`. 如果我单击该链接，则该链接有效。

但是，也有这样的链接：`/app1/assets/application-1b13569e9620782f423d4cd3ce931750.css`用于 .css 和 .js 资产。**但是当我单击链接时找不到它们！**

我的 nginx + 乘客配置有问题，它没有正确路由这些吗？检查`public/assets`文件夹显示文件实际上已正确预编译并且确实出现在那里。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T19:11:46.957

在您的情况下，导致错误的资产应包含在您的`application.js`清单文件中，如下所示：

```
//= require hsv_to_rgb
//= require overlays
//= require initialize 
```

并将其从您的 production.rb 中删除：

```
config.assets.precompile += %w( hsv_to_rgb.js initialize.js overlays.js ) 
```

通常在 deploy 之后，在您`public/assets`的服务器上（在生产环境中），您应该只看到不同版本的`application.js`and `application.css`。

考虑在您的视图模板之前调用外部javascript（最好[在此处解释），如下所示：](http://railsapps.github.com/rails-javascript-include-external.html)`application.js`

```
<%= javascript_include_tag 'https://maps.googleapis.com/maps/api/js?libraries=geometry&sensor=false' %>
<%= javascript_include_tag "application" %> 
```

编辑：@aardvarkk 已经解决了实际问题，只需`production.rb`像这样更改设置：

```
config.serve_static_assets = true 
```

的配置`nginx`包括一个子 URI 设置。

# android - Eclipse 找不到 Snapshot.img

> ID：14778526
> 
> 赞同：1
> 
> 时间：2013-02-08T17:55:40.213
> 
> 标签：android, emulation, android-4.0-ice-cream-sandwich

我正在为 ICS 创建一个新的模拟器，但是如果选中了快照复选框，它会给出一个错误

> “找不到 'C:\Program Files(x86)\Android\android-sdk\tools\lib\emulator\snapshots.img' 文件复制到 AVD 文件夹”。

我认为这是不言自明的。

那么，我能做些什么来避免这种事情，因为我需要它从快照开始。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T18:50:49.277

确保您在 android sdk 管理器中安装了 Android sdk 工具、android sdk 平台工具。

然后检查您是否为您使用的 API 版本安装了任何相应的图像。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-22T04:15:41.363

只是因为您不小心从提供的位置删除了 emulatorsnapshots.img 磁盘文件。尝试从循环箱中检索它。

如果您永久删除它，我也会卡在同一个地方..:-(

# sql - SQL Schema 设计：单个表或海量表

> ID：14778530
> 
> 赞同：1
> 
> 时间：2013-02-08T17:55:42.577
> 
> 标签：sql, database-design, optimization, schema, scalability

就可扩展性而言，更有效的模式设计方法是什么？

如果一个数据库有多个用户，并且每个用户都有对象（由长文本、日期和唯一 ID 中的数据组成），那么（1）创建一个对象的海量表是否更有效，每个对象都有一个用户列，或者 (2) 为每个用户创建单独的对象表？

我在研究时看到了相互矛盾的答案，**数据库规范化**说要为每个用户创建单独的列，而一些帖子提到使用海量表可以提高性能。

编辑：为清楚起见，将“元素”更改为“对象”。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T18:45:12.283

通常，您希望为实体创建单个表，而不是将它们分成单独的表供用户使用。

这使得系统更易于维护。系统上的查询在所有应用程序中都是一致的。它还以数据库优化访问数据的方式构建数据。

在一些特殊情况下，您会将用户数据拆分到单独的表甚至单独的数据库中。这可能是用户要求（“我们的数据不能与其他任何人混合”）。它可能需要支持各种备份和安全策略。但是，一般的方法是围绕实体而不是围绕用户设计表格。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T19:47:06.900

拥有一个带有一列来标识用户的表是正确的关系设计。添加用户时必须添加表听起来很可疑，并且一旦拥有大量用户可能会导致问题。

当单个表变得太大时，大多数数据库产品都支持所谓的分区，它允许根据某些标准将单个逻辑表拆分为磁盘上的多个物理表（例如，保留您的示例，您可以拥有三个物理表分区 1 中的用户 ID 1 - 99999、分区 2 中的 100000 - 199999 和分区 3 中的 200000 - 299999 的数据）。

[这是Oracle](http://docs.oracle.com/cd/B28359_01/server.111/b32024/partition.htm)的概述。

# ruby-on-rails-3 - Nivo Slider，在另一个之上显示图像（没有“滑动”）

> ID：14778534
> 
> 赞同：0
> 
> 时间：2013-02-08T17:55:51.420
> 
> 标签：ruby-on-rails-3, nivo-slider

我正在尝试使用 twitter-bootstrap 在 Rails 应用程序中设置 Nivo Slider，我面临的问题是图像出现在另一个不滑动的顶部，知道如何解决这个问题吗？

这是我的代码：

加载 nivo 滑块：

```
<div class="slider-wrapper theme-default">
    <div id="slider" class="nivoSlider">
        <% @page.images.each_with_index do |img, index| %>      
            <%= image_tag img.url, :title => '#htmlcaption' %> 
      </div>
</div>
    <div id="htmlcaption" class="nivo-html-caption">
    <%=raw @page.caption_for_image_index(index) %>
  </div>  
    <% end %> 
```

_javascript.html.erb

```
<%= javascript_include_tag 'application' %>
<%= javascript_include_tag 'jquery.nivo.slider.pack' %>
<%= javascript_include_tag 'jquery.nivo.slider' %>

<script type="text/javascript">
$(window).load(function() {
    $('#slider').nivoSlider({
        effect: 'fade',
        pauseTime: 5000,
        directionNav:true,
        controlNav:true

    });
});
</script> 
```

应用程序.js

```
//= require jquery
//= require jquery_ujs
//= require twitter/bootstrap
//= require bootstrap 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T18:34:42.087

我相信问题来自`each`循环。如果您注意到循环内部有两个结束`div`标记 - 就在这一行下面`<%= image_tag img.url, :title => '#htmlcaption' %>`。因此，您打开`divs`一次，然后关闭多次。

您可以做的是稍微更改代码，例如：

```
<div class="slider-wrapper theme-default">
  <div id="slider" class="nivoSlider">
    <% @page.images.each do |img| %>      
        <%= image_tag img.url, :title => img.caption_for_image %> 
    <% end %>
  </div>
</div> 
```

看看[Nivo Docs](http://dev7studios.com/nivo-slider/#/documentation)。还有其他替代标题选项的示例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T20:17:29.853

我找到了一个非常容易解决这个问题的方法：

我使用的是旧版 CMS，它在滑块中的一些图像旁边插入图像映射标签（导致空白幻灯片）。简单地忽略不相关的元素似乎效果很好。

在您的`jquery.nivo.slider.js`文件中替换第 36 行 //找到我们的滑块子项

替换这个

```
36 - var kids = slider.children(); 
```

和

```
36 - var kids = slider.children("img,a"); 
```

保存更改，重新加载浏览器并解决问题。

有关更多详细信息，请访问[github gilbitron / Nivo-Slider](https://github.com/gilbitron/Nivo-Slider/pull/206)

# c# - 将双精度导出到 Excel - 小数分隔符问题

> ID：14778535
> 
> 赞同：0
> 
> 时间：2013-02-08T17:55:53.933
> 
> 标签：c#, decimal, export-to-excel, globalization, separator

使用 Microsoft.Office.Interop.Excel 将双格式数据导出到 Excel 时遇到问题。

像这样的数字

-49,65454324566（使用逗号作为小数分隔符）

在代码中导出为

-4965454324566

没有逗号、点或任何小数分隔符。

只有数字像

0,988946533164

即，小于 1，以正确的格式导出。

我尝试过使用 NumberFormat，但我对整数或十进制字符的数量没有任何限制，这意味着我想要像 123,456789 或 123456,789 这样的数字。所以我不知道 NumberFormat 是否符合我的需要。

只是为了表明，我正在做类似的事情：

```
Excel.Range cel = (Excel.Range)excel.Cells[1, 1];
cel[r, c] = table.Rows[r][c]; 
```

我也试过：

```
Excel.Range cel = (Excel.Range)excel.Cells[1, 1];
cel[r, c] = table.Rows[r][c];
cel[r, c].NumberFormat = "#,#"; 
```

NumberFormat 的变体为“0,0”、“#0,#0”...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T18:03:32.023

使用逗号作为小数分隔符，您没有使用 en-US 区域设置。您需要检查以确保 Excel 知道这一点，或者在将数字发送到 Excel 之前将其转换为 en-US 设置。您可以使用 .ToString() 重载中的函数。

```
i.ToString(new System.Globalization.CultureInfo("en-US").NumberFormat); 
```

# javascript - 如何加快多个 YT iframe 加载时间？可以使用 fitvids 的异步方法吗？

> ID：14778538
> 
> 赞同：2
> 
> 时间：2013-02-08T17:56:10.057
> 
> 标签：javascript, jquery, performance, iframe

设置：

> rails 3.2 - 因为还没有 4.0 ;-)
> 
> fitvids ( [http://fitvidsjs.com](http://fitvidsjs.com) ) - 用于响应式 iframe
> 
> highcharts ( [http://www.highcharts.com](http://www.highcharts.com) ) - 对于一些统计...

和一个带有循环的视图，因此有多个 iframe，例如：

```
<%= video.each do |video| %>    
    <div class="video-embed">    
      <iframe src="http://www.youtube.com/embed/<%= video.host_video_id.strip %>?modestbranding=0&amp;autohide=1&amp;rel=0&amp;fs=1&amp;HD=1&amp;showinfo=0&amp;controls=0?wmode=transparent"  title="YouTube video player" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="">
      </iframe>
    </div>
<% end %> 
```

适合视频：

```
$(".video-embed").fitVids(); 
```

当有超过 10 个 iframe 时，页面似乎会在 highcharts 渲染开始之前加载 15 秒。它看起来像打嗝。

我尝试了异步方法：

```
(function(d){
  var iframe = d.body.appendChild(d.createElement('iframe')),
  doc = iframe.contentWindow.document;

// I tried to include the fitvid code here instead of the following line
  iframe.style.cssText = "position:absolute;width:200px;height:100px;left:0px;";

  doc.open().write('<body onload="' + 
  'var d = document;d.getElementsByTagName(\'head\')[0].' + 
  'appendChild(d.createElement(\'script\')).src' + 
  '=\'\/path\/to\/file\'">');

  doc.close(); //iframe onload event happens

  })(document); 
```

它的行为似乎确实有所不同，但显然打破了fitvid。

是否可以将 fitvids 包含到 onload js 中？是否有 b）任何其他方式使其异步（在使用 fitvids 时）加载 iframe 以改善视觉体验？即只渲染可见的iframe，并在滚动事件上渲染更多......使用fitvids？

谢谢你

j

# android - 如何从在 Android 中所有应用程序顶部看到的 Overlay 中获取一些事件

> ID：14778539
> 
> 赞同：0
> 
> 时间：2013-02-08T17:56:10.947
> 
> 标签：android, linux, events, input, android-event

我正在尝试开发一个应用程序，它是一个覆盖在系统中所有应用程序之上的工作，直到那里我没有问题。问题是我的叠加层必须能够管理一些事件，而其他事件只是让它们进入它之下。

例子：

App 必须管理 onFling 事件并做一些操作。应用程序不得管理 onClick 事件，让它们转到位于其下的活动

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-10T13:10:29.340

我找到了一些有关如何执行此操作的信息，尽管您需要具有 root 权限才能在系统或在其上运行的其他应用程序中注入事件。

在这里您可以找到更多信息：

[http://www.pocketmagic.net/2012/04/injecting-events-programatically-on-android/#.UReb1KWIes0](http://www.pocketmagic.net/2012/04/injecting-events-programatically-on-android/#.UReb1KWIes0)

[http://www.pocketmagic.net/2013/01/programmatically-injecting-events-on-android-part-2/#.UReb3aWIes2](http://www.pocketmagic.net/2013/01/programmatically-injecting-events-on-android-part-2/#.UReb3aWIes2)

# node.js - 将数据发布到 node.js 永远不会返回任何内容

> ID：14778547
> 
> 赞同：-1
> 
> 时间：2013-02-08T17:56:48.573
> 
> 标签：node.js

当将数据从 jquery 发布到 node.js 进程时，有时它会工作，有时它不会。这取决于我如何构建代码。这样它的工作原理：

```
http.createServer(router).listen(5000, '127.0.0.1');
console.log('Server running at http://127.0.0.1:5000/');

function router(req, res){
    var page = url.parse(req.url, true);

        switch(page.pathname){
            case '/new-task': tasks.postNewTask(req, res); break;
        }

} 
```

“任务”是我加载的一个模块。里面有postNewTask：

```
function postNewTask(req, res){
    core.postRequest(req, res, function () {
    // lots of stuff inside
    })
} 
```

postRequest 是我从 Stackoverflow “借来”的一个函数。它定义为：

```
function postRequest(request, response, callback) {
    var queryData = "";
    if(typeof callback !== 'function') return null;

if(request.method == 'POST') {
    console.log("it's post");
    request.on('data', function(data) {
        console.log("it's data");
        queryData += data;
        if(queryData.length > 1e6) {
            console("too much stuff");
            queryData = "";
            response.writeHead(413, {'Content-Type': 'text/plain'});
            request.connection.destroy();
        }
    });

    request.on('end', function() {
        console.log("it's end");
        response.post = querystring.parse(queryData);
        callback();
    });

} else {
    console.log("no post");
    response.writeHead(405, {'Content-Type': 'text/plain'});
    response.end();
}
} 
```

这完美运行，并且 tasks.postNewTask 中的代码运行。但是，当我将路由器更改为此：

```
function router(req, res){
 var page = url.parse(req.url, true);

 var session = core.getCookies(req).s;    
if (page.pathname == '/login') {    

core.postLogin(req, res); return; }

 database.query('SELECT * from Members WHERE Session = ?;', [session], function(err, rows, fields) {

     if (err) throw err;
     if (rows.length>0) {

         switch(page.pathname){
             case '/new-task': tasks.postNewTask(req, res); break;
         }

     } else {
         res.writeHead(200, "OK", {'Content-Type': 'application/json'});
         res.end(JSON.stringify('login'));
     };
 });

 } 
```

然后 postRequest 不再起作用。它只会打印“它的帖子”，就是这样。它从不打印数据或到达末尾。当我在浏览器上超时时，它似乎也永远不会返回客户端。

这里的问题是 postRequest 中的“数据”和“结束”事件永远不会被调用，而我唯一改变的是将数据库调用包装在 switch 语句周围。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T21:17:33.703

您在 postRequest 中有 3 个控制台输出

```
it's post
it's data
it's end 
```

第一个被触发，因为 if 条件只检查请求类型，其余两个在请求获取数据和结束信号时异步完成。因此，如果 postNewTask 返回或发送对请求的响应，则它可能无法到达该部分。检查你在做什么`// lots of stuff inside`

同样在搜索你的 mysql 文档[https://npmjs.org/package/mysql](https://npmjs.org/package/mysql)时，我发现：

```
You MUST NOT provide a callback to the query() method when streaming rows. 
```

所以也检查一下。

# excel - Excel - 在另一个工作表中找到具有相同值的单元格并在其左侧输入值

> ID：14778551
> 
> 赞同：21
> 
> 时间：2013-02-08T17:56:57.140
> 
> 标签：excel, excel-formula, spreadsheet, vlookup

我有一个在 Excel 中生成的报告，其中包含员工的编号，但没有他/她的姓名。并非每位员工在任何一天都会出现在此工作表上。

在第二张工作表中，我列出了所有员工的号码和姓名。

我想在第一个工作表中找到一个公式，在第二个工作簿上查找相同的值（员工编号），然后将单元格的值输入到第一个工作簿上那个（员工姓名）的右侧。有没有办法做到这一点？谢谢！

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2013-02-08T17:59:43.870

最简单的方法可能是使用[`VLOOKUP()`](http://office.microsoft.com/en-001/excel-help/vlookup-HP005209335.aspx). ~~这将需要第二个工作表对员工编号列进行排序。~~在较新版本的 Excel 中，显然不再需要排序。

例如，如果您有一个包含两列的“Sheet2” - A = 员工编号，B = 员工姓名，并且您当前的工作表在 D 列中有员工编号，并且您想在单元格 E2 中填写 E 列，您将有：

```
=VLOOKUP($D2, Sheet2!$A$2:$B$65535, 2, FALSE) 
```

然后只需将这个公式填入 D 列的其余部分。

解释：

*   第一个参数`$D2`指定要搜索的值。
*   第二个参数`Sheet2!$A$2:$B$65535`指定要搜索的单元格范围。Excel 将在该范围的第一列中搜索值（在本例中为`Sheet2!A2:A65535`）。注意我假设你在第 1 行有一个标题单元格。
*   第三个参数`2`指定要从搜索范围内返回的列的从 1 开始的索引。的值`2`将返回范围内的第二列`Sheet2!$A$2:$B$65535`，即该`B`列的值。
*   第四个参数`FALSE`表示只返回完全匹配。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-08T18:03:31.837

假设员工编号在第一列，他们的名字在第二列：

```
=VLOOKUP(A1, Sheet2!A:B, 2,false) 
```

# javascript - jQuery 创建一个不是回调的回调？

> ID：14778555
> 
> 赞同：1
> 
> 时间：2013-02-08T17:57:24.263
> 
> 标签：javascript, jquery, callback

好吧，让我们看看我能不能描述一下。

我有一些前一段时间创建的功能，并且可以流畅地工作。然而，有一个新的期望规范，所以不必重写代码库，也不必加倍代码来实现相同的效果，我试图弄清楚如何让一些东西跳跃在同一函数内的代码中返回更高的位置以重复该函数的运行，而不是在下面再次执行相同的代码。

我所拥有的是基于点击的触发器，即：

```
$('.selector').click(function(){}); 
```

在这个函数中有大约 30 行功能来创建一个新元素并相应地填充它。然而不幸的是，在同样的功能中，有条件决定是否应该这样做。

*之前的要求是当它创建的元素是打开并填充时，只需抛出`alert()`一句话，基本上总结你的工作，然后继续下一个。

*现在新的要求就是关闭它并打开一个新元素。
我已经关闭了现有的，并做我想做的一切，除了新元素的数量高于当前条件。

知道 javascript 中没有“转到”类型的逻辑（或者我最后知道的）。我唯一能想到的就是从上面获取相同的代码并将其置于条件下，将代码加倍并具有相同位的 2 个副本。我想避免这种情况，但想不出办法。所以我在这里寻找想法

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T18:07:38.653

> 知道 javascript 中没有“转到”类型的逻辑（或者我最后知道的）。我唯一能想到的就是从上面获取相同的代码并将其置于条件下，将代码加倍并具有相同位的 2 个副本。我想避免这种情况，但想不出办法。所以我在这里寻找想法

你为什么不把这段代码拉到一个函数中呢？如果条件在原始实例中为真，您可以运行该函数，并在您的回调中一直运行它？这是相当少的重构，只需将代码从逻辑中移出到一个单独的函数中，保持原样，并可能将一些引用的变量变成参数。

因此，如果您想运行所有操作而不考虑条件语句，则如下所示：

```
...
if(condition){
  actionA();
}
if(condition2){
  actionB();
}
...

$('.selector').click(function(){
    actionA();
    actionB();
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T18:14:55.153

你对这种模式很熟悉，对吧？

```
var aCallback =  function(){........};
$('.selector').click(aCallback); 
```

# jquery - 在页面加载时自动打开 jQuery ColorBox

> ID：14778561
> 
> 赞同：7
> 
> 时间：2013-02-08T17:57:45.997
> 
> 标签：jquery, colorbox

我已经为我的灯箱使用了 colorbox jQuery 灯箱。但在那一个应该点击按钮。我想在加载窗口时自动弹出。

我的灯箱代码是

```
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
        <script src="../jquery.colorbox.js"></script>
        <script>
            $(document).ready(function(){
                $(".ajax").colorbox();
            });
        </script>
    </head>
    <body>

        <h2>Other Content Types</h2>
        <p><a class='ajax' href="../content/daisy.jpg" title="Homer Defined">Outside HTML (Ajax)</a></p>
</html> 
```

现在我想在加载窗口时自动弹出。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-08T18:00:53.823

使用最新版本的[ColorBox](http://www.jacklmoore.com/colorbox)，您可以使用`$.colorbox({inline:true, href:".ajax"});`

Working demo：http: [//jsfiddle.net/34v22/](http://jsfiddle.net/34v22/)

我还稍微清理了您的代码：

```
<!doctype html>
<head>
    <title>My Automatic ColorBox</title>
    <link rel="stylesheet" type="text/css" href="../link/to/jquery.colorbox.css">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
    <script type="text/javascript" src="../jquery.colorbox.js"></script>
    <script>$(document).ready(function(){$.colorbox({inline:true, href:".ajax"});});</script>
</head>
<body>
    <h2>Other Content Types</h2>
    <div class='ajax' style='display:none'><a href="../content/daisy.jpg" title="Homer Defined">Outside HTML (Ajax)</a></div>
</body> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-05-06T16:54:11.987

它有效，但我无法点击 iframe 页面。我已经在 iframe 中放置了一个表单。

```
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js">
</script>
<script type="text/javascript" src="js/jquery.colorbox.js"></script>
<script>$(document).ready(function(){$.colorbox({inline:true, href:".ajax"});});
</script>

<script>
(function($){
       $(document).ready(function() {
             $.colorbox({innerWidth:600,innerHeight:500,html:'<iframe width=600 height=500 
                    src=masson-form.html>  </iframe>'});
                });
         })(jQuery);
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-19T15:22:17.340

如果你喜欢，你可以直接在 jQuery 调用中添加你的 html

```
(function($){
    $(document).ready(function() {
        $.colorbox({innerWidth:420,innerHeight:315,html:'<iframe width=420 height=315 src=http://www.youtube.com/embed/eh-0knDpn5g frameborder=0 allowfullscreen></iframe>'});
    });
})(jQuery); 
```

# ruby-on-rails - 用 Thin 替换 WEBrick 时要知道的事情

> ID：14778563
> 
> 赞同：8
> 
> 时间：2013-02-08T17:57:58.290
> 
> 标签：ruby-on-rails, ruby-on-rails-3, heroku, thin, webrick

我打算在 Rails 3.2 项目上用**Thin替换****WEBrick** ，因为 WEBrick 处理格式错误的未转义 URI 很糟糕（*坏 URI*错误）。我知道有一些配置技巧可以让 WEBrick 处理未转义的 URI，但只是添加到我的 Gemfile 似乎很容易，这让我想知道：***`gem 'thin'`***

 ****   如果我这样做，是否有可能在我的应用程序中中断或出错？

顺便说一句：我正在部署**Heroku**。如果 Heroku 上的 Thin 存在特定问题，那么我也想知道。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-10-02T11:27:42.830

如果您的 Gemfile 中有 Thin`rails s`应该以 Thin 开头。例如，我正在开发的应用程序在 Gemfile 的开发组中很薄：

```
rails s
=> Booting Thin
=> Rails 3.2.14 application starting in development on http://0.0.0.0:3000
=> Call with -d to detach
=> Ctrl-C to shutdown server 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-08T18:03:38.547

不.. Rails 就是这么简单！:)

只要确保您开始使用：

```
thin start 
```***

# iphone - CoreData 查询

> ID：14778569
> 
> 赞同：0
> 
> 时间：2013-02-08T17:58:24.780
> 
> 标签：iphone, ios, objective-c, xcode, core-data

我创建了一个 CoreData 模型并定义了我的实体和属性。我还创建了一个符合`<NSFetchedResultsControllerDelegate>` 并添加以下对象的 NSObject 类（名为 dbInterface）

```
NSFetchedResultsController *fetchedResultsController;
NSManagedObjectContext *managedObjectContext; 
```

这是我非常迷茫的地方。我现在如何继续从创建的 sqlite3 文件中获取数据？

我的查询（如果使用正确的术语）需要根据条件从我的一个实体中选择某些记录。我不知道如何在 CoreData 中编写查询或任何类似的内容。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-08T18:10:28.197

您可能不想要 NSFetchedResultsController。结果控制器通常与 UITableViewController 一起用作辅助对象来填充表格。

如果这是您想要的，请继续。但是，如果您只想从核心数据上下文中获取实体，则只需要一个 NSFetchRequest。假设您有一个名为 Person 的核心数据对象。假设我们想要所有名为“Ryan”的实体

```
NSFetchRequest *fetch = [NSFetchRequest fetchRequestWithEntityName:@"Person"];

NSString *nameToGet = @"Ryan";
NSPredicate *predicate = [NSPredicate predicateWithFormat:@"name = %@", nameToGet];
[fetch setPredicate:predicate];

NSError *error = nil;
NSArray *results = [[self managedObjectContext] executeFetchRequest:fetch error:&error];
if(results) {
    NSLog(@"Entities with that name: %@", results);
    for(Person *p in results) {
        NSLog(@"person = %@", p);
    }
    return results;
} else {
    NSLog(@"Error: %@", error);
}

return nil; 
```

因此，您创建了一个获取请求。NSPredicate 类似于 SQL 语句的 where 条件。因此，您可以使用格式创建谓词（[创建谓词有很多选项](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/Predicates/predicates.html#//apple_ref/doc/uid/TP40001798-SW1)）。设置请求的谓词，然后告诉您的 managedObjectContext 执行获取请求。请求的任何结果都将在返回的数组中。数组中的每个对象都是 Person 类型的对象。

如果您正在寻找使用 NSFetchedResultsController，它基本上是同一类型的东西。但是，您使用 1 个不可变的获取请求创建控制器，因此它始终获取相同的数据。如果您想要不同的数据，则需要创建另一个控制器。如果您只使用 NSFetchRequests（我从 UI 中分离数据层，因此使用控制器对我来说不是很有用），您可以查询任何您想要的数据并返回结果。

# java - ANTLR 4 $channel = HIDDEN 和选项

> ID：14778570
> 
> 赞同：32
> 
> 时间：2013-02-08T17:58:29.737
> 
> 标签：java, migration, antlr, antlr4

在决定从 v3 切换到 v4 后，我需要 ANTLR 4 语法方面的帮助。我对 ANTLR 不是很有经验，所以如果我的问题很愚蠢，我真的很抱歉；）

在 v3 中，我使用以下代码来检测 Java 样式的注释：

```
COMMENT
    :   '//' ~('\n'|'\r')* '\r'? '\n' {$channel=HIDDEN;}
    |   '/*' ( options {greedy=false;} : . )* '*/' {$channel=HIDDEN;}
    ; 
```

在 v4 中没有特定于规则的选项。动作（移动到隐藏频道）也是无效的。

有人可以给我一个提示如何在 ANTLR v4 中做到这一点吗？

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2013-02-08T18:08:08.473

v4 等效项如下所示：

```
COMMENT
    :   ( '//' ~[\r\n]* '\r'? '\n'
        | '/*' .*? '*/'
        ) -> channel(HIDDEN)
    ; 
```

这会将所有单行和多行评论放在`HIDDEN`频道上。但是，如果您不使用这些`HIDDEN`-tokens 做任何事情，您也可以使用`skip`这些令牌，如下所示：

```
COMMENT
    :   ( '//' ~[\r\n]* '\r'? '\n'
        | '/*' .*? '*/'
        ) -> skip
    ; 
```

请注意，要告诉词法分析器或解析器不贪婪地匹配，您不再使用`options {greedy=false;}`，而是附加 a `?`，类似于许多正则表达式实现。

# ios - UITableViewCell 内的 UILabel 高度

> ID：14778581
> 
> 赞同：1
> 
> 时间：2013-02-08T17:59:16.400
> 
> 标签：ios, objective-c, xcode, uitableview

我正在尝试创建一个表格视图，其中单元格的高度是动态的。

到目前为止，我设法根据我在里面添加的自定义 UILabel 设置单元格的高度。

使用常规的 cell.textLabel 可以正常工作，但是当我使用自己的标签时出现问题。我只看到一半的标签，但是当我上下滚动时，有时标签会延伸并显示所有文本......您可以看到标签应该在图像中结束的位置。

[图片](http://cl.ly/image/1e373o173C1B)

这是里面的文字`cellForRowAtIndexPath`：

```
static NSString *CellIdentifier = @"Cell";

UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
if (cell == nil) {
    cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
}

// Configure the cell.
Car *carForCell = [cars objectAtIndex:indexPath.row];

UILabel *nameLabel = [[UILabel alloc] init];
nameLabel = (UILabel *)[cell viewWithTag:100];
nameLabel.numberOfLines = 0;
nameLabel.text = carForCell.directions;
[nameLabel sizeToFit];

[nameLabel setBackgroundColor:[UIColor greenColor]];

return cell; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:10:45.627

除非您发布的代码中有拼写错误，否则您似乎根本没有将标签添加到单元格中。您似乎每次都在创建一个新标签，然后将`nameLabel`指针的内容替换为单元格的视图（始终为 nil）。

尝试先做这样的事情，然后看看它的样子：

```
static NSString *CellIdentifier = @"Cell";

UILabel *nameLabel;

UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

if (cell == nil) {
    cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];

    nameLabel = [[UILabel alloc] init];
    nameLabel.tag = 100;

    nameLabel.numberOfLines = 0;
    [nameLabel setBackgroundColor:[UIColor greenColor]];

    [cell.contentView addSubview:nameLabel];
}
else {
     nameLabel = (UILabel *)[cell viewWithTag:100];
}

// Configure the cell.
Car *carForCell = [cars objectAtIndex:indexPath.row];

nameLabel.text = carForCell.directions;
[nameLabel sizeToFit];

return cell; 
```

您还需要使用`tableView:heightForRowAtIndexPath:`委托方法告诉 tableView 每个单元格的大小。这将意味着`Car`再次获取相关对象并使用计算高度`sizeWithFont:sizeWithFont:forWidth:lineBreakMode:`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T18:03:19.747

你如何设置单元格的高度？它应该在`- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T18:04:45.633

您应该通过以下方法计算并返回 UITableViewCell 的高度：

```
- (CGFloat) tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath; 
```

在这里，您应该初步计算您的细胞应该有多高。

例如：

```
CGSize textSize = [myString sizeWithFont:[UIFont systemFontOfSize:16] constrainedToSize:CGSizeMake(320, 9999)];
return textSize.height; 
```

# android - 如何在 Android 中使用 .so 和 .h 文件？

> ID：14778588
> 
> 赞同：1
> 
> 时间：2013-02-08T17:59:55.430
> 
> 标签：android, c++, android-ndk, cocos2d-x

我正在使用 C++ 在 Android 中进行编码（特别是我使用的是 cocos2d-x）。

现在，比方说，我有一个`MyClass`带有 .h 和 .cpp 文件的类。我想用这些文件创建一个 .so 。然后，我想将 .so 包含在我的项目中并通过 .so 访问它`#include "MyClass.h"`。可能吗？如果是这样，怎么做？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T19:02:16.370

要为 ARM 构建静态库，您可以使用[NDK 独立工具链](http://www.kandroid.org/ndk/docs/STANDALONE-TOOLCHAIN.html)。

编译完成后，您可以使用[Android NDK 生成文件](http://www.kandroid.org/ndk/docs/ANDROID-MK.html)`.so`(Android.mk)在项目中包含该库，该文件如下所示：

```
LOCAL_PATH := $(call my-dir)  
LOCAL_SRC_FILES := my_module.so  
LOCAL_C_INCLUDES := $(LOCAL_PATH)/include
include $(PREBUILT_SHARED_LIBRARY) 
```

您需要确保在正确的路径中包含标题 (/include)。

不确定您是否打算使用您的代码回到 Android 领域，但如果您希望在 .so/C/C++ 代码和 Java 之间建立一座桥梁，则需要在C，使用映射到 JNI 方法的静态`System.loadLibrary('my_module')`导入和`native`方法声明构建必要的 Java 类。

# mysql - mysql查询遵循模式的每个下一个元素

> ID：14778590
> 
> 赞同：1
> 
> 时间：2013-02-08T18:00:04.617
> 
> 标签：mysql

我有一个表，其中包含记录到表中的事件，可以有很多事件，如“开始”、“a”、“b”、“b”、“a”、.. 等等

我想找到所有具有事件“a”**并且**遵循“开始”事件的**第一个条目。**

 **开始后的事件通常是我正在寻找的事件，但并非总是如此。

所以我得到的是通过自动 ID 标记下一个事件，但不是通过逻辑，这是 90% 正确的，但并非总是如此：

```
SELECT b. *
FROM log AS a
LEFT JOIN log AS b ON a.id = b.id -1
WHERE a.event = 'start' 
```

有没有纯mysql的方式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T19:01:24.123

我猜这不是很优化或性能很好，但它会起作用

```
SELECT a.*
FROM log AS a
WHERE a.event = 'a' && "start" = (SELECT event FROM log WHERE id<a.id ORDER BY id DESC LIMIT 1) 
```**

# batch-file - Windows 批处理文件计数并显示每个循环

> ID：14778592
> 
> 赞同：1
> 
> 时间：2013-02-08T18:00:08.447
> 
> 标签：batch-file, command, cmd

我正在将一批放在一起运行一个支持音频转换器。批处理工作，您将它放入一个文件夹并将您需要转换的每个文件转储到同一个文件夹中，它循环遍历每个文件并将转换后的文件输出到转换后的文件夹名称中。当你运行它时，它会一直待在那里直到完成。我要做的是在每个循环的开头说“正在转换文件 1”“正在转换文件 2”等等，这样用户就可以看到一些进展。我只是不知道如何添加它。这是我到目前为止所拥有的。

```
@echo off
color Fc
echo Remember to put this program and the audio files to convert into the same folder!!!!!
pause
if not exist converted MD converted
for /r . %%f in (*.wav) do "C:\Program Files\Verint\Playback\CommandLineConvertor.exe" "%CD%\%%~nxf" "%CD%\converted\%%~nxf"
echo All files have been converted
pause
end 
```

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T18:02:05.803

您可以将您的更改`DO`为多行，并在循环中回显，如下所示：

```
for /r . %%f in (*.wav) do (
    ECHO Converting %%f . . .
    "C:\Program Files\Verint\Playback\CommandLineConvertor.exe" "%CD%\%%~nxf" "%CD%\converted\%%~nxf"
)
echo All files have been converted 
```

或者，如果您想显示整个路径，只需回显您使用的第一个参数，如下所示：

```
for /r . %%f in (*.wav) do (
    ECHO Converting "%CD%\%%~nxf" . . .
    "C:\Program Files\Verint\Playback\CommandLineConvertor.exe" "%CD%\%%~nxf" "%CD%\converted\%%~nxf"
)
echo All files have been converted 
```

**编辑：**

如果我完全阅读您的要求，这将有所帮助。您可以像这样增加一个数字：

添加`setlocal ENABLEDELAYEDEXPANSION`after`@ECHO OFF`以启用变量的延迟扩展。然后，在循环之前，初始化你的变量：

```
SET /a x=0 
```

然后在你的循环中，增加变量并 ECHO 它，给你这个：

```
@echo off
setlocal ENABLEDELAYEDEXPANSION
color Fc
echo Remember to put this program and the audio files to convert into the same folder!!!!!
pause
if not exist converted MD converted
SET /a x=0
for /r . %%f in (*.wav) do (
    SET /a x=x+1
    ECHO Converting file !x! . . .
    "C:\Program Files\Verint\Playback\CommandLineConvertor.exe" "%CD%\%%~nxf" "%CD%\converted\%%~nxf"
)
echo All files have been converted
pause
end 
```

# r - 用 R 绘制 3D 图形

> ID：14778597
> 
> 赞同：0
> 
> 时间：2013-02-08T18:00:29.423
> 
> 标签：r, 3d

我有 3 个数据范围用于在 R 中绘制：

```
x <- c(1,2,3,4,5)
y <- c(2,4,6,8,10)
z <- c(100,240,480,580,880) 
```

如何使用 R（3d 散点图）中的这些数据绘制 3D 图形？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-08T18:31:38.973

稍微搜索一下，就有很多这样的例子。

一些想法：

```
install.packages("scatterplot3d")
library(scatterplot3d) 

s3d <-scatterplot3d(x,y,z, pch=16, highlight.3d=TRUE,
  type="h", main="3D Scatterplot") 
```

![在此处输入图像描述](../Images/c81b5e1922a3cae8554c86fb7f57ef33.png)

有时如果你可以旋转它会很好：

```
install.packages("rgl")
library(rgl)

plot3d(x, y, z, col="red", size=3) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-18T19:51:32.380

如果您正在寻找另一种选择，您可以使用`plotly`R 的包。

```
library(plotly)

x <- c(1,2,3,4,5)
y <- c(2,4,6,8,10)
z <- c(100,240,480,580,880)

plot_ly(x = x, y = y, z = z, type="scatter3d", mode="markers") 
```

# java - 从列表视图中删除项目

> ID：14778602
> 
> 赞同：0
> 
> 时间：2013-02-08T18:00:42.580
> 
> 标签：java, android, listview, android-arrayadapter

我有包含文本视图和按钮的列表视图。当我删除列表视图项目并尝试向下滚动时，我得到了例外：

```
BuildQueue eile = countryList.get(position); 
```

例外：

```
02-08 19:11:04.279: E/AndroidRuntime(10509): java.lang.IndexOutOfBoundsException: Invalid index 15, size is 15 
```

当我从列表视图中删除项目时，似乎我没有更新某些内容。我想我有 ViewHolder 的问题，但我不知道是什么样的......

我的 ArrayAdapter 代码：

```
public class MyCustomAdapter extends ArrayAdapter<BuildQueue> {

        private ArrayList<BuildQueue> countryList;

        public MyCustomAdapter(Context context, int textViewResourceId,ArrayList<BuildQueue> countryList) {
            super(context, textViewResourceId, countryList);
            this.countryList = new ArrayList<BuildQueue>();
            this.countryList.addAll(countryList);
        }

        private class ViewHolder {
            TextView code;
            TextView field;
            Button del;
        }

        @Override
        public View getView(int position, View convertView, ViewGroup parent) {

            ViewHolder holder = null;

            if (convertView == null) {
                LayoutInflater vi = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
                convertView = vi.inflate(R.layout.queue_buildings, null);

                holder = new ViewHolder();
                holder.code = (TextView) convertView.findViewById(R.id.code);
                holder.field = (TextView) convertView.findViewById(R.id.field_text);
                holder.del = (Button) convertView.findViewById(R.id.del_button);
                convertView.setTag(holder);

                holder.del.setOnClickListener(new View.OnClickListener() {
                    public void onClick(View v) {
                        Button del_button = (Button) v;
                        BuildQueue building = (BuildQueue) del_button.getTag();
                        countryList.remove(building);
                        dataAdapter.notifyDataSetChanged();
                    }
                });
            } else {
                holder = (ViewHolder) convertView.getTag();
            }
            BuildQueue eile = countryList.get(position);
            holder.code.setText(" ( Level: " + eile.getOld_level() + " to "+eile.getNew_level()+")");

            holder.field.setText(eile.getNameSort());
            holder.field.setTag(eile);

            holder.del.setText("Delete");
            holder.del.setTag(eile);

            return convertView;

        }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T18:09:08.207

您在适配器中使用了两个数组，但只更改了其中一个。

每个 Adapter 用于`getCount()`确定应该绘制多少行。ArrayAdapter[`getCount()`](http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.1.1_r1/android/widget/ArrayAdapter.java#ArrayAdapter.getCount%28%29)只是在此处询问您传递给超级构造函数的数组的大小`super(context, textViewResourceId, countryList);`：但是您还使用了第二个本地数组，当您从中删除一个值时，`countryList` `getCount()`不知道这会导致`getView()`抛出 IndexOutOfBoundsException ...

扩展 BaseAdapter，或使用 ArrayAdapter 的方法，如[`getItem()`](https://developer.android.com/reference/android/widget/ArrayAdapter.html#getItem%28int%29)、[`add()`](https://developer.android.com/reference/android/widget/ArrayAdapter.html#add%28T%29)和 ，[`remove()`](https://developer.android.com/reference/android/widget/ArrayAdapter.html#remove%28T%29)并删除您的本地数据集。

# c - printf() 与 scanf() 在同一行

> ID：14778606
> 
> 赞同：0
> 
> 时间：2013-02-08T18:00:58.647
> 
> 标签：c, printf, scanf

所以这是我到目前为止的代码：

```
printf("Input:\t   Radius:\tSurface Area:\t Circumference:\t    Volume:\n\n");
scanf("%lg", &diameter);
printf("%lg%lg\t\t%-12lg\t\t%-12lg\t\t%-12lg\n\n", diameter, calcRadius(diameter), calcSurfaceArea(diameter), calcCircumference(diameter), calcVolume(diameter)); 
```

我的输出如下所示：

```
Input:     Radius:      Surface Area:    Circumference:     Volume:

99
9949.5          30775.1                 310.86                  507790

Press any key to continue . . . 
```

我怎样才能使输出看起来像这样：

```
Input:     Radius:      Surface Area:    Circumference:     Volume:

  99      9949.5          30775.1       310.86             507790

Press any key to continue . . . 
```

简而言之，我意识到在使用 scanf() 并且用户按下回车后， printf() 会自动打印到新行。我怎样才能得到它，以便它会在用户输入数字的同一行上打印，即使用户按下回车键也是如此。

我应该使用不同的函数来获取输入，还是完全不同的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:03:07.557

您可以使用 termios 库将 STDIN 设置为非规范和非回显模式，并自己开始回显字符，以便不打印换行符。此外，如果你想走这条路，你必须使用你自己的 scanf 实现：

[http://www.gnu.org/software/libc/manual/html_node/Noncanon-Example.html](http://www.gnu.org/software/libc/manual/html_node/Noncanon-Example.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T18:04:11.490

你需要查看[curses](http://en.wikipedia.org/wiki/Ncurses)库来做那种事情。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T18:20:00.603

你知道 scanf 会做什么。对于您的程序，您可以在 printf() 中删除打印直径

```
printf("Input:\t   Radius:\tSurface Area:\t Circumference:\t    Volume:\n\n");
scanf("%lg", &diameter);
printf("\t%lg\t\t%-12lg\t\t%-12lg\t\t%-12lg\n\n", calcRadius(diameter), 
calcSurfaceArea(diameter), calcCircumference(diameter), calcVolume(diameter)); 
```

# c# - 在实体框架中使用存储过程

> ID：14778607
> 
> 赞同：2
> 
> 时间：2013-02-08T18:01:04.467
> 
> 标签：c#, entity-framework, stored-procedures

我有一个模型优先的 EF 模型。我刚刚导入了第一个存储过程：`cpas_POIDVendorProjectDate`

我将它作为函数导入。它具有三个输入参数：`@ProjectID(int)`、`@VendorID(int)`、 和`@Workdate(datetime)`，并返回`@POID(int)`。

这是SQL代码：

```
 CREATE PROCEDURE [dbo].[cpas_POIDVendorProjectDate]
    @VendorID int,
    @ProjectID int,
    @WorkDate datetime,
    @PO_ID int OUTPUT
 AS
 BEGIN
    SET NOCOUNT ON;

    DECLARE @RowCount int;

       SELECT @PO_ID = ID FROM tblPO WHERE 
        VendorID = @VendorID
        AND ExpirationDate >= @WorkDate
        AND (ProjectID IS NULL OR ProjectID = @ProjectID)
        AND CapitalExpense = (
          SELECT CapitalExpense FROM tblProjects WHERE ID=@ProjectID)
        AND GroupCode in (1,3,5);

     SET @RowCount = @@RowCount;

     IF (@RowCount != 1)
       SET @PO_ID = -1*@RowCount;

END 
```

我在我的 c# 程序中调用它如下：

```
context.cpas_POIDVendorProjectDate(
    currVendorID, currProjectID, currWorkDate, currPOID); 
```

Intellisense 说我对“上下文”的使用是错误的……它是一个“变量”，我将它用作“方法”。

此外，`currPOID`被拒绝，因为它正在寻找 a `system.data.objects.OjbectParameter`，而不是`int`. Intellisense 对函数名和其他参数很满意（奇怪的是……）

我在这里做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T19:06:30.840

如果没有其他方法，您总是可以这样做：

```
using(var context = new MyDataContext())
{
    using(var cmd = context.Database.Connection.CreateCommand())
    {
        cmd.CommandText = "cpas_POIDVendorProjectDate";
        cmd.CommandType = CommandType.StoredProcedure;
        //if the stored proc accepts params, here is where you pass them in
        cmd.Parameters.Add(new SqlParameter("VendorId", 10));
        cmd.Parameters.Add(new SqlParameter("ProjectId", 12));
        cmd.Parameters.Add(new SqlParameter("WorkDate", DateTimw.Now));
        var poid = (int)cmd.ExecuteScalar();
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-08-30T08:21:12.607

如果您想要一种面向对象的方式，那么[Mindless 乘客](https://mindlesspassenger.wordpress.com/2011/02/02/code-first-and-stored-procedures/) 有一个项目，允许您从这样的实体框架调用存储的过程......

```
using (testentities te = new testentities())
{
    //-------------------------------------------------------------
    // Simple stored proc
    //-------------------------------------------------------------
    var parms1 = new testone() { inparm = "abcd" };
    var results1 = te.CallStoredProc<testone>(te.testoneproc, parms1);
    var r1 = results1.ToList<TestOneResultSet>();
} 
```

...而且我正在开发一个[存储过程框架](https://github.com/dibley1973/StoredProcedureFramework)（[此处](https://github.com/dibley1973/StoredProcedureFramework)），您可以像下面显示的我的测试方法之一那样调用它...

```
[TestClass]
public class TenantDataBasedTests : BaseIntegrationTest
{
    [TestMethod]
    public void GetTenantForName_ReturnsOneRecord()
    {
        // ARRANGE
        const int expectedCount = 1;
        const string expectedName = "Me";

        // Build the paraemeters object
        var parameters = new GetTenantForTenantNameParameters
        {
            TenantName = expectedName
        };

        // get an instance of the stored procedure passing the parameters
        var procedure = new GetTenantForTenantNameProcedure(parameters);

        // Initialise the procedure name and schema from procedure attributes
        procedure.InitializeFromAttributes();

        // Add some tenants to context so we have something for the procedure to return!
        AddTenentsToContext(Context);

        // ACT
        // Get the results by calling the stored procedure from the context extention method 
        var results = Context.ExecuteStoredProcedure(procedure);

        // ASSERT
        Assert.AreEqual(expectedCount, results.Count);
    }
}

internal class GetTenantForTenantNameParameters
{
    [Name("TenantName")]
    [Size(100)]
    [ParameterDbType(SqlDbType.VarChar)]
    public string TenantName { get; set; }
}

[Schema("app")]
[Name("Tenant_GetForTenantName")]
internal class GetTenantForTenantNameProcedure
    : StoredProcedureBase<TenantResultRow, GetTenantForTenantNameParameters>
{
    public GetTenantForTenantNameProcedure(
        GetTenantForTenantNameParameters parameters)
        : base(parameters)
    {
    }
} 
```

如果这两种方法中的任何一种都好？

# jquery - 我该如何过滤 UL 中的 href 值取决于文本框中的值？

> ID：14778609
> 
> 赞同：0
> 
> 时间：2013-02-08T18:01:05.413
> 
> 标签：jquery

```
<ul id="ulclass">
    <li><a href="#">AAA</a></li>
    <li><a href="#">BBB</a></li>
    <li><a href="#">CCC</a></li>
</ul>

var textBoxValue = //value from textbox
$("ul#ulclass").find('li').filter(function() 
{
    if($(this).find("a").val() == textBoxValue)
        return true;
    else
        return false;
}).css('background-color', 'red'); //optional 
```

我基本上是在尝试制作一个基本的自动完成功能。用户写入`"A"`文本框，jQuery 过滤每个`href text`之间`<a>`并`</a>`匹配，响应与自定义 css 样式，但它是可选的。

我在过滤它们时被卡住了。`filter`功能必须固定。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T18:03:25.473

[`.val()`](http://api.jquery.com/val)用于表单输入；锚点没有值，但它们有[`.text()`](http://api.jquery.com/text). 尽管我可以建议一些样式改进，但有关代码的其他所有内容看起来都应该可以工作：

```
var textBoxValue = /* value from textbox */;
$("#ulclass").find('li').filter(function() 
{
    return $(this).find("a").text() === textBoxValue;
}).css('background-color', 'red'); 
```

请注意，在检查是否相等时，您可能需要[`$.trim()`](http://api.jquery.com/jQuery.trim/)这些值，以防 HTML 或用户提供的字符串中存在额外的空白。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T18:06:03.987

基本示例：

```
var $rows = $('#ulclass li');
$('#search').keyup(function() {
    var val = $.trim($(this).val()).replace(/ +/g, ' ').toLowerCase();
    $rows.removeClass('active').filter(function() {
        var text = $(this).text().replace(/\s+/g, ' ').toLowerCase();
        return val && !!~text.indexOf(val);
    }).addClass('active');
}); 
```

在行动：http: [//jsfiddle.net/QkMHB/1/](http://jsfiddle.net/QkMHB/1/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T18:04:39.650

改变这个 -

```
if($(this).find("a").val() == textBoxValue) 
```

对此——

```
if($(this).find("a").text() == textBoxValue) 
```

锚标记没有值。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T18:04:56.187

```
<ul id="ulclass">
    <li><a href="#">AAA</a></li>
    <li><a href="#">BBB</a></li>
    <li><a href="#">CCC</a></li>
</ul>

var textBoxValue = //value from textbox
$("#ulclass").find('li').filter(function() 
{
    return $(this).find('a').text().toLowerCase()==textBoxValue.toLowerCase();
}).css('background-color', 'red'); 
```

如果您想要区分大小写，请删除 toLowerCase。另外，您可以直接使用 id ，因为它们是唯一的。

# vim - 跳转到 Vim 中当前行的快速修复或位置列表中的错误（使用 Syntastic）

> ID：14778612
> 
> 赞同：8
> 
> 时间：2013-02-08T18:01:16.820
> 
> 标签：vim, vim-plugin, syntastic

我开始使用 Vim 的[Syntastic 插件](http://www.vim.org/scripts/script.php?script_id=2736)，它将在当前缓冲区上运行语法检查器，然后指示任何有错误的行。我可以使用 将错误列表作为位置列表打开`:Errors`，然后通过点击 跳转到给定错误的行`Enter`，这将跳转到缓冲区中包含错误的行。

我想知道如何做相反的事情。我想从缓冲区中标记有语法错误的行转到位置列表中的相应条目，以便我可以阅读列表中的完整错误消息。我怎样才能做到这一点？我知道这`:ll [n]`会跳转到`n`列表中的第 th 个错误，但通常我不会确切知道哪个错误号对应于缓冲区中的给定行。但是，我找不到接受行号而不是错误号的命令。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-19T12:11:44.297

没错，没有内置方法可以找出当前光标位置或之后的错误，尽管这通常很有用。我为此编写了[QuickFixCurrentNumber 插件](http://www.vim.org/scripts/script.php?script_id=4449)。

通过`g<C-q>`映射，您可以转到当前光标位置的快速修复/位置列表中的项目（或光标之后的下一个项目）。它还提供`[q`/`]q`映射以跳转到上一个/下一个错误，同时将导航限制为当前缓冲区中的错误。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-08T20:05:08.957

我认为这是不可能的，至少使用默认的 Vim 命令或 Syntastic 是不可能的。

但 Syntastic 实际上会在命令行中回显与当前行相关的错误消息。[默认情况下启用此功能。](https://github.com/scrooloose/syntastic/blob/master/doc/syntastic.txt#L152)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-10-15T10:55:56.503

我刚刚为我的 :Man 查看器创建了这个。它在导航时跟踪“位置列表”窗口中的当前项目：

```
function! s:visibleLoc()
   return len(filter(getwininfo(), {i,v -> v.loclist}))
endfunc

function! s:followLine()
   let curLine = line(".")
   if (exists("b:lastLine") && b:lastLine == curLine) || 0 == s:visibleLoc()
      return
   endif
   let b:lastLine = line(".")
   let ent = len(filter(getloclist("."), {i,v -> v.lnum <= curLine}))
   if ent < 1 || (exists("b:lastEntry") && b:lastEntry == ent)
      return
   endif
   let b:lastEntry = ent
   let pos = [ 0, curLine, col("."), 0 ]
   exe "ll ".ent
   call setpos(".", pos)
endfunc

au CursorMoved <buffer> call <SID>followLine() 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-06-16T22:16:29.213

我试图在[此处](https://github.com/vim-syntastic/syntastic/pull/2267)“使用”此功能，结果是：

**vim-loclist-follow:**
[https://www.vim.org/scripts/script.php?script_id=5799](https://www.vim.org/scripts/script.php?script_id=5799)
[https://github.com/elbeardmorez/vim-loclist-follow](https://github.com/elbeardmorez/vim-loclist-follow)

Nothing fancy, it just ensures the 'nearest' item is selected. Works for me (™️) using either of my Syntastic, or now Ale, setups.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-09-17T14:37:41.287

`:caf` goes to the error after the cursor, which works pretty well if you don't mind shifting your cursor back and then using it.

You could probably make mappings to move your cursor back and then `:caf` but dealing with the edge cases like when error is the first character of the file might make it slightly complex.

# git - 在 git svn 之后使用 PowerShell 将所有 Subversion 分支转换为 Git 标签

> ID：14778617
> 
> 赞同：1
> 
> 时间：2013-02-08T18:01:27.087
> 
> 标签：git, bash, svn, powershell, git-svn

有很多在 Linux 和 Unix 中执行后将Subversion*分支*转换为 Git*标签的示例。*`git svn clone`我能够使用从这篇博客[文章](http://john.albin.net/git/convert-subversion-to-git)到这一步的步骤（[文章](http://john.albin.net/git/convert-subversion-to-git)中的第 6 步）。我需要将脚本移植到 PowerShell。这是Linux版本：

```
git for-each-ref --format='%(refname)' refs/heads/tags |
cut -d / -f 4 |
while read ref
do
  git tag "$ref" "refs/heads/tags/$ref";
  git branch -D "tags/$ref";
done 
```

以下是我目前所拥有的 PowerShell 版本：

```
git for-each-ref --format='%(refname)' refs/heads/tags |
# not sure how to replace "cut"
do {
    git tag "$ref" "refs/heads/tags/$ref";
    git branch -D "tags/$ref";
} while (<# I'm assuming I'm iterating a collection but I'm not sure what or how. should this be a foreach instead? #>)
done 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T20:17:46.363

我对 UNIX 和 git 没有太多经验，所以这几乎是猜测。尝试：

```
& git for-each-ref --format='%(refname)' refs/heads/tags | % {
    #Extract the 4th field from every line
    $_.Split("/")[3]
} | % {
    #Foreach value extracted in the previous loop
    & git tag $_ "refs/heads/tags/$_"
    & git branch -D "tags/$_"
} 
```

# jquery - 使用下划线 memoize 缓存 jquery 选择器结果

> ID：14778621
> 
> 赞同：3
> 
> 时间：2013-02-08T18:01:45.133
> 
> 标签：jquery, caching, underscore.js

我正在寻找优化我的单页应用程序的方法，我目前专注于 jQuery 选择器。

我不是 javascript 专家，但据我了解，将 jquery 选择器的结果存储在变量中以供重复使用比重新查询 dom 的性能要高得多。

因此，例如，而不是这样：

```
$("#myItem").doSomething();
$("#myItem").doSomethingElse(); 
```

这样做更有意义：

```
var result = $("#myItem");
result.doSomething();
result.doSomethingElse(); 
```

此外，据我了解，使用附加到现有 jQuery 对象的 find() 选择器可以显着提高性能，从而减少必要的查询量：

```
$("#myItem").find(".highlighted"); 
```

我有兴趣探索存储我们在应用程序中不断重用的许多选择器的可能性，不仅在局部变量中，而且可能在某个地方的散列或外部函数中。我不知道这是否是最优的，但我很好奇这会收到什么回应。

我尝试（未成功）使用 Underscore.js 的 memoize 函数来执行此操作，但它没有按我预期的方式工作。但是，这个概念看起来像这样：

```
 jquerySelect = function () {
                var elements = _.memoize(function (selection) {
                    return $(selection);
                });
                return elements;
            }; 
```

这里的想法是“return $(selection)”的实际结果工作被执行一次，之后结果被缓存并返回。

我希望能够通过以下方式使用它：

```
utils.jquerySelect(".highlighted").find("span") 
```

在这个简单的例子中，缓存的关键是“.highlighted”，实用函数知道如何访问结果，从而避免了遍历 DOM 的工作再次完成。我的实现目前不起作用，因为每次都会命中“return”语句。

我不确定这种方法是否有缺陷，但我觉得它可能是。但是，请让我知道您是否看到了一种可行的方法，或者您是否看到了更好的方法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T18:12:15.703

这不是一个坏主意，事实上你已经可以找到许多类似的 JQuery 记忆插件。您的方法面临的主要挑战是知道何时可以使用记忆化结果，以及何时由于 DOM 的变化而失效。由于 JQuery 代码在 DOM 中添加、删除和更改节点的可能性与从 DOM 中选择节点的可能性一样大，因此知道何时必须使记忆缓存中的选择器无效是一个非常重要的问题。

memoize 插件解决这个问题的方式通常是提供一些替代语法，例如`$_()`对于您想要被记忆的选择器和/或您想要从中检索记忆结果的选择器。无论如何，这会向选择器添加额外的字符串/哈希查找。那么，最后，与本地缓存相比，它的真正优势是什么？

一般来说，最好了解更多关于 JQuery 本质上是如何为 DOM 提供一元转换（也称为*链接*）的 DSL。

例如，您在问题中的代码可以写成：

```
$("#myItem").doSomething().doSomethingElse(); 
```

您甚至可以使用[`.end()`](http://api.jquery.com/end/)弹出选择器堆栈，因为在链中结果已经在内部记忆：

```
$("#myItem").doSomething().find('a').hide().end().doSomethingElse();
// a in #myItem are hidden, but doSomething() and doSomethingElse() happen to #myItem 
```

此外，大多数 JQuery 选择的成本可能被高估。ID 选择（以 开头的选择器`#`）被传递给快速 DOM 方法，`document.getElementById`而不是 Sizzle 引擎。重复调用解析为单个 DOM 元素的选择器，例如`$(this)`，对速度没有特别的影响。

如果速度*确实*是代码中紧密循环中的关注点，那么几乎可以肯定的是，重构该部分而不完全使用 JQuery 选择引擎是值得的。在我的测试中，您可以从本地选择器缓存中获得 10-50% 的性能提升，具体取决于选择器的复杂性，而原生 DOM 选择器相对于 JQuery 选择器的性能提升 1000%。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T18:25:09.970

我会说这样做更有意义：

```
var myapp={};
myapp.$body=$(document.body);
myapp.$result = myapp.$body.find("#myItem").doSomething().doSomethingElse();
myapp.$result.find("> .whatever") 
```

关于存储大对象，如果您打算在整个会话中重复使用，我一直在研究它并发现本地商店只允许纯静态对象，因此不会接受 myapp.$result 例如，然后我放弃了这个想法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T18:10:34.137

我可以专门谈论 memoize，但我可以说您维护缓存的 jQuery 集合的关联数组的策略是一个好主意。话虽如此，您需要考虑以下几点：

1.  缓存一个只会在前面使用 0 或 1 次的选择器可能并不总是值得的。
2.  如果您尝试计算有关元素集合的动态内容（例如长度），则需要在获取值之前重新选择/重新缓存元素。例如：

    var $div = $("div");

    $div.长度；//说是1

    //...一些向页面添加一些 div 的代码

    $div.长度；//还是1！

3.  我会考虑“及时”进行缓存。换句话说，仅在第一次需要时缓存该项目。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T18:21:28.123

总体思路是好的。正如其他人已经说过的那样，你需要小心你没有缓存特别需要重新查询的东西。

您尝试失败的原因是您使用`_.memoize`不正确。它看起来像这样：

```
var jquerySelect = _.memoize(function (selection) {
                       return $(selection);
                   }); 
```

`memoize`返回一个您将调用的函数。它本质上是围绕处理缓存的函数创建一个包装器。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-02-08T19:21:33.223

缓存是在 jquery 中遵循的最佳实践。

我将缓存分为两类。

**1\. local cahching**：其范围仅在某个函数内。

前任：

```
function doSome(){
var elm=$('selector');
elm.something1().something2()  .... chain it on one
} 
```

*使用时要记住的几点：*

一世。缓存由极少数函数访问或仅由该函数访问的元素。

ii. 当动态添加元素时，您每次都需要重新初始化它，因此本地缓存更好。

iii. 将所有 var 声明与用于缓存的变量一起保留在顶部。

iv. 缓存一次，稍后使用`.filter('selector')`or `.filter(function)` ex 过滤。`elm.filter(':checked').dosomething();`

**2\. 全局缓存**作用域为所有函数

对于全局缓存，声明一个对象并将所有缓存作为该变量中的键值对。

前任：

```
var global={};
$(document).ready(function(){
global.sel1=$('selector1');
global.sel2=$('selector2');
}); 
```

//请记住，如果您在页面顶部声明全局变量，请始终在文档就绪函数中添加 cahin 变量。由于元素不会出现在 dom 中，所以选择器将返回 undefined。

如果您将所有脚本放在我喜欢的页面下方，而不是您可以使用

```
var global={
sel1:$('selector1'),
sel2:$('selector2')
} ; 
```

*要记住的要点*

1.  包装器元素最好在全局缓存中缓存。作为子元素，您可以使用 .find() 找到并且通常不会实际修改。（我建议保留所有带有 id 的包装元素，因为 id 是最快的选择方式。）
2.  仅用于经常使用的元素。不要将它用于稍后将附加的元素的选择器。
3.  在函数中创建全局对象的本地引用，因为访问全局事物比访问本地事物更昂贵。例如：函数 some(){ var elm=global.sel1; //现在用榆树做点什么 }

**用于全局 chaching 的 setter 和 getter 函数**

```
function getGlobal(selector){
//if not present create it .
if(!global[selector]){
global[selector]=$(selector);
}
return global[selector];
}

//to use it
var elm=getGlobal('selector'); 
```

# php - 简单“喜欢”功能的数据库实现

> ID：14778622
> 
> 赞同：0
> 
> 时间：2013-02-08T18:01:48.517
> 
> 标签：php, mysql, sql

我想在 FB 中实现类似于“喜欢它”的功能。

我希望用户能够简单地单击他们喜欢的对象下的按钮。只投赞成票。

问题是我想记住，他们喜欢什么对象，所以我必须将它保存在我的数据库中。假设只有一种类型的对象可以保持简单。

最简单的方法是创建一个将实现多对多关系（用户到对象）的表。

我的问题是：

1.  在性能方面是合理的解决方案吗？像这样的表会很大并且经常使用。;)

2.  有没有更好的方法来做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T18:16:58.970

1) 是的，是的。请记住在两个外键上都保留索引（更好的是，将两个键都作为复合主键）

2) 不是我知道的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T18:22:04.093

1.  是的。删除/更新喜欢的内容不会有任何问题。正如 Arjun Khosla 所说，只是不要忘记添加密钥。

您的数据库结构可能如下所示

**目的**

```
ID  name
1   post
2   status 
```

**like_to_object**

```
ID  objectID    userID  time
1   2           3       1231231231
2   1           5       1231231231 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T18:44:26.913

假设对象是一篇文章，并且有一个文章列表（唯一 id）的表 db，用户有自己的用户列表（唯一 id）表 db。就像 WordPress 一样，为对象（文章）创建一个新的元表。不仅为此目的，您还可以多次将此表用于其他未来目的

```
 ID             object_id           meta_name            value
(unique ID)  (object/article id)   (meta name value)     (meta value) 
```

将类似的数据保存在多个数组数据中，具有唯一的元名称值，例如“user_like”。因此，稍后您只需要从元表中调用当前数据`WHERE object_id == article id`和`meta_name == 'user_like'`.

```
//example saving the data into DB

//get current data
//get a row value from meta table where object_id = article id 
//and meta_name = 'user_like'
$current_data = ....;
$array_data = array();
$array_data[$user_id] = array(
   'user_id' => $user_id
);

if( array_key_exists( $user_id, $current_data ) ){
    //user already like, ignore
}
else {
    //prefer to use + instead of array_merge,
    // in some cases array_merge make array data loose its array keys
    $current_data = $current_data + $array_data;
}

//save it back to meta table row
.... 
```

只是我的观点 ：）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T18:12:58.447

您可以这样做的一种方法...似乎您可能不需要经常访问人们喜欢的内容，因此与其建立多对多关系，不如建立一张桌子`userid`以及在`objectids`哪里`objectids`一个分隔的 id 列表。IOW 而不是

```
userid objectid
1      1
1      2
2      1
2      2 
```

有

```
table user_likes_data
    userid objectids
    1      1,2
    2      1,2 
```

然后

只是有一个列有多少喜欢和`objecti`d 的运行计数。`objectid`向具有或创建单独表的现有表添加列

```
tabe some_table 
    objectid num_likes
    1        2
    2        2 
```

这样，在实践中，您通常只需递增`some_table.num_likes`并附加到`user_likes_data.objectid`列表。总体上使用的行数`user_likes_data`和空间会少得多（与每个喜欢的对象的多行相比，具有单个分隔值单元格的空间和开销应该更少）。实际上，在给定页面上，您只是在选择`some_table.num_likes`而不是尝试从`user_likes_data`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-08T18:30:27.550

添加一个表，说喜欢：

```
Likes
ID     ID_U     ID_O
1      5        7
2      5        9
3      5        11
4      4        7 
```

其中： `ID_U`引用`ID_O`对象的投票者的 id。

# r - 与 R 的多重独立相关性 (Pearson)

> ID：14778629
> 
> 赞同：2
> 
> 时间：2013-02-08T18:02:21.730
> 
> 标签：r, correlation

我有一个表格，其中的列代表气候变量，而行代表每个变量的数据点。我想为每个成对组合设置简单的 Pearson 相关性。我可以手动执行此操作，但如果有一个函数可以自动执行所有这些操作并将结果打印到新的 R 对象，那就太好了。

```
County  temp  gdd  ai  precip
Jackson 
Robinson
Paris
Rose
Wine 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T18:13:12.593

`cor`实际上可以处理矩阵并返回一个矩阵。因此，如果您的`data.frame`is `DF`，您可以运行：

```
DF <- data.frame(temp = rnorm(10), gdd=rnorm(10), ai=rnorm(10), precip=rnorm(10))
cor(as.matrix(DF))

             temp        gdd         ai     precip
temp    1.0000000 -0.5946187 -0.4635090  0.8016484
gdd    -0.5946187  1.0000000  0.2184197 -0.2878479
ai     -0.4635090  0.2184197  1.0000000 -0.2788024
precip  0.8016484 -0.2878479 -0.2788024  1.0000000 
```

如果您`data.frame`包含所有`numeric`列，则可以执行`cor(DF)`. 如果有`character`或`factor`列，您将希望`cor`从`DF`. （现在我想起来了，“ `asmatrix(DF)`”部分有点不必要）。

# paypal - PayPal 的 DoReferenceTransaction API

> ID：14778632
> 
> 赞同：0
> 
> 时间：2013-02-08T18:02:27.477
> 
> 标签：paypal, checkout, paypal-sandbox

DoReferenceTransaction API 是否适用于任何 PayPal 帐户？我正在尝试实现类似于亚马逊中的一键购买选项（不是定期计费）。财务部门仍然必须就我们拥有的账户类型（标准、专业等）回复我。DoReferenceTransaction API 是否适用于所有类型的贝宝账户？

另外，我对 PayPal 的账户类型有点困惑。在 PayPal 的网站上，我只看到网站付款标准和快速结帐。但是我听到了很多关于 Payment Pro 和 Payflow Pro 的讨论。不确定哪个是哪个。

任何输入/指针将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T22:11:21.357

DoReferenceTransaction 适用于标准 PayPal 帐户，但仅适用于 Express Checkout。如果您想直接使用信用卡，则必须使用 Payments Pro。

如果您打算将 DRT 与 EC 一起使用，那么您需要在它可用之前获得 PayPal 的批准，但它不需要任何额外费用。

PayPal 最近对“Payments Pro”进行了一些更改，这引起了很多混乱。“Website Payments Pro”是使用 DoDirectPayment API 的“旧”版本。

“Payments Pro”（开头没有网站）是“新”版本，它适用于 PayFlow 网关。

根据您的帐户的年龄以及您申请 Pro 的方式，您将进入其中一个。他们现在正试图让每个人都使用 PayFlow，但有时他们不能依赖于游戏中的变量。

如果您确实使用了新版本的 Payments Pro，您实际上可以访问 PayFlow 和标准 PayPal 网关上的每个 API，但您必须让它们为您启用一切。

# php - 如何通过选择下拉属性过滤 magento 集合？

> ID：14778634
> 
> 赞同：5
> 
> 时间：2013-02-08T18:02:31.933
> 
> 标签：php, magento, collections, addattribute

在 magento 中，我有一个名为 cl_designer 的属性，它是一个选择下拉选项。我想过滤它上面的产品集合，如下所示：

```
$collection = Mage::getModel('catalog/product')->getCollection();
$collection->addAttributeToFilter('cl_designer', array('like' => $filter)); 
```

但它不起作用！当我使用 $collection->getselect() 打印出查询时，我看到它正在将 $filter 与 catalog_product_entity_int.value 进行比较。但这是错误的，因为对于选择选项，catalog_product_entity_int.value 是 option_id，而不是值。那么如何让它过滤实际的期权价值呢？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-09T09:54:55.213

假设名为的示例下拉属性`size`包含以下选项：

```
id    value
22    'small'
23    'medium'
24    'large' 
```

并且您想按`'medium'`选项过滤您的收藏：

### 按下拉选项值过滤

要按产品（自定义）下拉属性的选项值过滤产品集合：

```
$sAttributeName = 'size';
$mOptionValue = 'medium';
$collection = Mage::getModel('catalog/product')->getCollection()
    ->addAttributeToSelect('*')
    ->addFieldToFilter(
        $sAttributeName,
        array(
            'eq' => Mage::getResourceModel('catalog/product')
                        ->getAttribute($sAttributeName)
                        ->getSource()
                        ->getOptionId($mOptionValue)
        )
    ); 
```

### 按下拉选项 id 过滤

要通过产品（自定义）下拉属性的选项 id 过滤产品集合：

```
$sAttributeName = 'size';
$mOptionId = 23;
$collection = Mage::getModel('catalog/product')->getCollection()
    ->addAttributeToSelect('*')
    ->addFieldToFilter(
        $sAttributeName,
        array('eq' => $mOptionId)
    ); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T18:02:31.933

简而言之，像这样：

```
$collection->
    addAttributeToFilter(
        array(
            array('attribute' => 'cl_designer', 'eq' => ''),
            array('attribute' => 'cl_designer', 'neq' => '')
        ))->
    joinTable(array('cl_designer_value'=>'eav_attribute_option_value'),'option_id = cl_designer', array('cl_designer_value' => 'value'))->
    addAttributeToFilter('cl_designer_value', array('like' => $filter)); 
```

需要第一个 addAttributeToFilter 以使其包含正确的 catalog_product_entity_int 表，并通过 entity_id、attribute_id 和 store_id 正确连接它。接下来我们使用 joinTable 连接到 eav_attribute_option_value。

joinTable 很复杂。第一个参数是要连接的表数组，形式为 alias => tablename。表名可以是原始名称（如这里），或标准的 magento 斜线表示法。第二个参数是“primary=attribute”形式的字符串。假定 = 左侧的任何内容是此表中您要用于连接的列，并且假定 = 后面的任何内容是属性代码。然后它将给定的属性代码转换为适当的 table.column 以在连接中使用，但如果缺少表，它不会添加表 - 这就是我们需要第一个 addAttributeToFilter 的原因。

joinTable 的下一个参数也是必需的，它是一个形式为 alias => column 的数组，其中的每个条目都可以通过其别名进行引用 - 所以我指定了 array('cl_designer_value' => 'value')，这意味着我可以将 cl_designer_value.value (tablealias.column) 称为 cl_designer_value。

joinTable 之后，我现在可以将 cl_designer_value 视为任何其他属性代码，并正常使用它。

请记住，joinTable 通过属性代码连接一个表，而且一旦您连接了一个表，您在字段数组（第三个参数）中指定的属性代码就可以在您的下一个连接中使用。因此，如果需要，您可以将多个对 joinTable 的调用链接在一起，但公平地说，我真的不知道您何时会这样做。

# c# - ActiveMQ 5.7.0 选择器在 C# 中不起作用

> ID：14778638
> 
> 赞同：1
> 
> 时间：2013-02-08T18:02:44.927
> 
> 标签：c#, activemq, nms

我有一个在 C# 中创建的非常简单的 ActiveMQ 消息使用者，如下所示：

```
using(IMessageConsumer consumer = session.CreateConsumer(destination,"NMSCorrelationID='<value of correlation id>'")){

   /* This Receive(..) operation does not retrieve the message with the correlation id which I confirmed to be available on the queue. */
   IMessage message = consumer.Receive(new TimeSpan(1000));

} 
```

但是，如果我在创建消费者时不使用选择器，我会收到消息。目标是 ActiveMQ 代理上的队列。我尝试使用 CorrelationID 和 JMSCorrelationID 作为选择器，但它们都不起作用。ActiveMQ 代理是使用开箱即用的设置安装的。我需要使用任何特殊设置来使选择器工作吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T00:15:54.020

您肯定想使用**JMSCorrelationID**设置选择器。使用 NMSCorrelationID 或仅使用 CorrelationID 将导致它忽略所有消息。我用主题和队列测试了以下内容，一切正常。我在 ActiveMQ 5.8.0 上进行了测试，但我很确定这在 5.7.0 上可以正常工作。

```
IMessageConsumer subscriber = session.CreateConsumer(
                                 "queue://TestCorrelation",
                                 "JMSCorrelationID = 'FOO'",
                                 false); 
```

如果消费者已将第三个参数 (noLocal) 设置为 true，则代理不会将消息从与生产者相同的连接排入消费者队列。您需要有两个单独的连接才能使相关 ID 选择器工作。一个发送消息，另一个连接上的消费者接收消息。如果将 noLocal 设置为**false**，则与生产者处于同一连接上的消费者将收到消息。

如果您想测试，也可以尝试在选择器中使用一些通配符。

```
"JMSCorrelationID LIKE '%FOO%'" 
```

请注意，选择器区分大小写。您的相关 ID 必须完全匹配。

# macos - 如果仅在 Qt 中制作用户界面，则 Qt 应用程序的最小大小

> ID：14778639
> 
> 赞同：0
> 
> 时间：2013-02-08T18:02:46.643
> 
> 标签：macos, qt

我正在编写一个基于 MacOs X 的应用程序，后端全部用 C/C++（非 Qt）编写。我需要为应用程序实现用户界面。因为我在 C++ 方面做得更好，所以我认为 Qt 是我的最佳选择。

该应用程序本身并不庞大，它是一个基于小窗口的应用程序，支持相当简单的功能。

我怀疑的是，如果我使用 Qt，应用程序的占用空间会很大，这是真的吗？如果我使用 Qt，你认为它可以管理在 5MB 以下吗？我只会使用 Qt 库的用户界面，所有 IO 和其他操作都在标准 C++ 中。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:46:47.767

如果您[将应用程序静态链接到 Qt](http://harmattan-dev.nokia.com/docs/library/html/qt4/deployment-mac.html#static-linking)，我认为它可能适合，具体取决于您使用的功能。您可以查看[此 Qt 项目论坛帖子](http://qt-project.org/forums/viewthread/8594)以获取更多信息：

> 在我的例子中，静态 QtCore 库大约 14MB，QtGui 库是 36MB，而一个简单的静态链接 GUI 程序仅消耗 5MB。

但是，我认为这些天应用程序的大小在桌面系统上并不重要，如果您能够节省大量时间/金钱，那么几 MB 大的捆绑包应该没有任何区别。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T01:51:15.607

至少在具有 Vs2010 和 5MB 以下静态链接的 Windows 上肯定是可能的。

我有一个使用 QMainWindow 及其许多功能的应用程序，以及大约 8 个使用 QDialog 的模式对话框。

使用静态链接和使用 UPX，总大小为 4.2 MB。如果没有二进制压缩器，可能很难达到这个目标。只需确保启用链接时间代码生成，以便构建工具链可以删除 Qt 库中未引用的部分。并查看静态链接的许可协议。

另请参阅此问题：

[最小的 Qt 可执行文件大小](https://stackoverflow.com/questions/450455/minimal-qt-executable-size)

# linux - 如何编写 Hello World iWarp 应用程序？

> ID：14778641
> 
> 赞同：2
> 
> 时间：2013-02-08T18:02:55.733
> 
> 标签：linux, infiniband, rdma

我正在尝试编写一个小程序来演示通过 iWarp 进行远程 DMA。我加载了[softiwarp](http://www.gitorious.org/softiwarp) Linux内核模块并编译了用户空间库。

我正在寻找说明设置连接的文档或示例代码，例如，向远程端发送一个简单的数据块（“Hello World！”）让我开始，但我能找到的只是 OpenFabrics 的培训网站网站，这根本没有帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T23:57:19.343

最好的文档和示例可能在 librdmacm 源代码中。它包括有关建立连接的完整手册页（实际上移动数据在 libibverbs 手册页中），以及示例目录下的一些示例程序。最简单的例子是[rping](http://git.openfabrics.org/git?p=~shefty/librdmacm.git;a=blob;f=examples/rping.c;h=1c4688c55f5bbb08814a66a07139e6a3fae48d71;hb=HEAD)。

正如评论所说，尝试编写代码然后提出具体问题更有效率。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-17T03:24:17.227

```
#include <arpa/inet.h>
#include <string.h>
#include <stdio.h>
#include <errno.h>
#include <getopt.h>
#include <stdlib.h>
#include <unistd.h>
#include <rdma/rdma_cma.h>

struct Args {
    char *remote_addr;
    int is_server;
    int port;
};

struct Args args;

int main(int argc, char *argv[])
{
    struct rdma_event_channel *evch;
    struct rdma_cm_id *server_id;
    struct rdma_cm_id *client_id;
    struct rdma_cm_event *event;
    struct rdma_conn_param conn_param;
    struct ibv_pd *pd;
    struct ibv_cq *cq;
    struct ibv_mr *mr;
    struct ibv_send_wr snd_wr;
    struct ibv_recv_wr rcv_wr;
    struct ibv_sge sge;
    struct ibv_wc wc;
    struct ibv_qp_init_attr attr = {
        .cap = {
            .max_send_wr = 32,
            .max_recv_wr = 32,
            .max_send_sge = 1,
            .max_recv_sge = 1,
            .max_inline_data = 64
        },
        .qp_type = IBV_QPT_RC
    };

    char msg[256] = "Hello World";
    int msg_len = strlen(msg) + 1;
    struct sockaddr_in sin;

    args.remote_addr = "0.0.0.0";
    args.is_server = 1;
    args.port = 21234;

    /* Parameter parsing. */
    while (1) {
        int c;

        c = getopt(argc, argv, "c:p:");
        if (c == -1)
            break;

        switch (c) {
        case 'c':
            args.is_server = 0;
            args.remote_addr = optarg;
            break;
        case 'p':
            args.port = strtol(optarg, NULL, 0);
            break;
        default:
            perror("Invalid option");
            exit(-1);
        };
    }

    if (args.is_server) {
        if (!(evch = rdma_create_event_channel())) {
            perror("rdma_create_event_channel");
            exit(-1);
        }

        if (rdma_create_id(evch, &server_id, NULL, RDMA_PS_TCP)) {
            perror("rdma_create_id");
            exit(-1);
        }

        sin.sin_family = AF_INET;
        sin.sin_port = htons(args.port);
        sin.sin_addr.s_addr = htonl(INADDR_ANY);

        if (rdma_bind_addr(server_id, (struct sockaddr *)&sin)) {
            perror("rdma_bind_addr");
            exit(-1);
        }

        if (rdma_listen(server_id, 6)) {
            perror("rdma_listen");
            exit(-1);
        }

        if (rdma_get_cm_event(evch, &event)
            || event->event != RDMA_CM_EVENT_CONNECT_REQUEST) {
            perror("rdma_get_cm_event");
            exit(-1);
        }

        client_id = (struct rdma_cm_id *)event->id;

        if (!(pd = ibv_alloc_pd(client_id->verbs))) {
            perror("ibv_alloc_pd");
            exit(-1);
        }

        if (!(mr = ibv_reg_mr(pd, msg, 256,
                IBV_ACCESS_REMOTE_WRITE |
                IBV_ACCESS_LOCAL_WRITE |
                IBV_ACCESS_REMOTE_READ))) {
            perror("ibv_reg_mr");
            exit(-1);
        }

        if (!(cq = ibv_create_cq(client_id->verbs, 32, 0, 0, 0))) {
            perror("ibv_create_cq");
            exit(-1);
        }

        attr.send_cq = attr.recv_cq = cq;
        if (rdma_create_qp(client_id, pd, &attr)) {
            perror("rdma_create_qp");
            exit(-1);
        }

        memset(&conn_param, 0, sizeof conn_param);
        if (rdma_accept(client_id, &conn_param)) {
            perror("rdma_accept");
            exit(-1);
        }

        rdma_ack_cm_event(event);
        if (rdma_get_cm_event(evch, &event)
            || event->event != RDMA_CM_EVENT_ESTABLISHED) {
            perror("rdma_get_cm_event");
            exit(-1);
        }
        rdma_ack_cm_event(event);

        sge.addr = (uint64_t)msg;
        sge.length = msg_len;
        sge.lkey = mr->lkey;
        snd_wr.sg_list = &sge;
        snd_wr.num_sge = 1;
        snd_wr.opcode = IBV_WR_SEND;
        snd_wr.send_flags = IBV_SEND_SIGNALED;
        snd_wr.next = NULL;
        if (ibv_post_send(client_id->qp, &snd_wr, NULL)) {
            perror("ibv_post_send");
            exit(-1);
        }

        while (!ibv_poll_cq(cq, 1, &wc))
            ;
        if (wc.status != IBV_WC_SUCCESS) {
            perror("ibv_poll_cq");
            exit(-1);
        }
    }

    else {
        if (!(evch = rdma_create_event_channel())) {
            perror("rdma_create_event_channel");
            exit(-1);
        }

        if (rdma_create_id(evch, &client_id, NULL, RDMA_PS_TCP)) {
            perror("rdma_create_id");
            exit(-1);
        }

        sin.sin_family = AF_INET;
        sin.sin_port = htons(args.port);
        sin.sin_addr.s_addr = inet_addr(args.remote_addr);

        if (rdma_resolve_addr
            (client_id, NULL, (struct sockaddr *)&sin, 2000)) {
            perror("rdma_resolve_addr");
            exit(-1);
        }

        if (rdma_get_cm_event(evch, &event)
            || event->event != RDMA_CM_EVENT_ADDR_RESOLVED) {
            perror("rdma_get_cm_event");
            exit(-1);
        }
        rdma_ack_cm_event(event);

        if (rdma_resolve_route(client_id, 2000)) {
            perror("rdma_resolve_route");
            exit(-1);
        }

        if (rdma_get_cm_event(evch, &event)
            || event->event != RDMA_CM_EVENT_ROUTE_RESOLVED) {
            perror("rdma_get_cm_event");
            exit(-1);
        }
        rdma_ack_cm_event(event);

        if (!(pd = ibv_alloc_pd(client_id->verbs))) {
            perror("ibv_alloc_pd");
            exit(-1);
        }

        if (!(mr = ibv_reg_mr(pd, msg, 256,
                IBV_ACCESS_REMOTE_WRITE |
                IBV_ACCESS_LOCAL_WRITE |
                IBV_ACCESS_REMOTE_READ))) {
            perror("ibv_reg_mr");
            exit(-1);
        }

        if (!(cq = ibv_create_cq(client_id->verbs, 32, 0, 0, 0))) {
            perror("ibv_create_cq");
            exit(-1);
        }

        attr.send_cq = attr.recv_cq = cq;
        if (rdma_create_qp(client_id, pd, &attr)) {
            perror("rdma_create_qp");
            exit(-1);
        }

        sge.addr = (uint64_t)msg;
        sge.length = msg_len;
        sge.lkey = mr->lkey;
        rcv_wr.sg_list = &sge;
        rcv_wr.num_sge = 1;
        rcv_wr.next = NULL;
        if (ibv_post_recv(client_id->qp, &rcv_wr, NULL)) {
            perror("ibv_post_recv");
            exit(-1);
        }

        memset(&conn_param, 0, sizeof conn_param);
        if (rdma_connect(client_id, &conn_param)) {
            perror("rdma_connect");
            exit(-1);
        }

        if (rdma_get_cm_event(evch, &event)
            || event->event != RDMA_CM_EVENT_ESTABLISHED) {
            perror("rdma_get_cm_event");
            exit(-1);
        }
        rdma_ack_cm_event(event);

        while (!ibv_poll_cq(cq, 1, &wc)) ;
        if (wc.status != IBV_WC_SUCCESS) {
            perror("ibv_poll_cq");
            exit(-1);
        }

        fprintf(stdout, "Received %s \n", msg);
    }

    fprintf(stdout, "Done \n");
    return 0;
} 
```

# c++ - 带有 LD_PRELOAD 和 boost::interprocess 的 mmap() 不起作用

> ID：14778644
> 
> 赞同：8
> 
> 时间：2013-02-08T18:03:05.970
> 
> 标签：c++, c, boost, glibc, libc

我试图通过 替换`mmap()`预先识别的 fd 上的原始系统调用`LD_PRELOAD`，以便调用它的进程可以读取另一个进程先前创建的共享内存对象`boost::interprocess`。一切都很顺利，除非我最终尝试读取 mmap'ed 内存。在这种情况下，第一个进程会因分段错误而中止。可能是什么原因？我不需要共享内存对象的写权限。

这是预加载库中的代码：

```
void *mmap(void *start, size_t length, int prot, int flags, int fd, off_t offset) {
    static void* (*o_mmap) ( void *, size_t, int, int, int, off_t ) =
       o_mmap = (void*(*)( void *, size_t, int, int, int, off_t )) dlsym(RTLD_NEXT, "mmap");
    if (!o_mmap)
        std::cout << "mmap() preload failed\n";
    if (fd != my_fd)
        return (*o_mmap)( start, length, prot, flags, fd, offset );
    interprocess::shared_memory_object shm (interprocess::open_only, "obj", interprocess::read_only);
    interprocess::mapped_region region(shm, interprocess::read_only, 0, length, start);
    std::cout << "mmap() overridden. addr =" << region.get_address()  << " length: " << region.get_size() << " start: " << start << "\n";
    return region.get_address();
} 
```

创建共享内存对象的程序代码是：

```
 //Create a shared memory object.
  shared_memory_object shm (create_only, "obj", read_write);

  //Set size
  shm.truncate(1000);

  //Map the whole shared memory in this process
  mapped_region region(shm, read_write);

  //Write all the memory to 1
  std::memset(region.get_address(), 1, region.get_size()); 
```

试图读取上面共享内存的程序（段错误）的代码是：

```
 int fd = open(my_file, O_RDONLY);

  void* addr = mmap(0, 1000, PROT_READ, MAP_SHARED, fd, 0); // Okay

  //Check that memory was initialized to 1
  char *mem = static_cast<char*>(addr); 
  for(std::size_t i = 0; i < 1000; ++i)
     if(*mem++ != 1) // SEGFAULT!
        return 1;   //Error checking memory 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-12T15:41:32.543

您的问题是您有效地返回了对本地的引用，但是以一种稍微模糊的方式。您的 mmap() 覆盖在堆栈上有一个`interprocess::shared_memory_object`and `interprocess::mapped_region`，当您返回客户端时它们被销毁。在销毁期间，boost 包装器将取消映射内存区域，因此在您的客户端代码中访问它不再有效。作为一个简单的修复，将这些变量设置为静态可以防止 seg 错误，但根据应用程序的结构，可能需要更复杂的解决方案。

# iphone - 调用 Rest Web 服务 iphone sdk 时出现错误 500

> ID：14778648
> 
> 赞同：0
> 
> 时间：2013-02-08T18:03:16.740
> 
> 标签：iphone

我有两个网络服务的网址：

*   [http://abcd.com/rest/1/loginDetails/resetPassword?email=jitender.k@gmail.com](http://abcd.com/rest/1/loginDetails/resetPassword?email=jitender.k@gmail.com)
*   [http://abcd.com/rest/1/search/nextProfileAttributeUsers?offset=30](http://abcd.com/rest/1/search/nextProfileAttributeUsers?offset=30)

我正在按照这些步骤调用网络服务：

我正在从这些字符串中制作 url。

```
+ Passing url to
+ NSMutableURLRequest * request   
+ [request setValue:[prefrences
valueForKey:@"Cookie"] forHTTPHeaderField:@"Cookie"]   
+ [request setHTTPMethod:@"GET"]   [request setHTTPBody:[jsonPostBody
dataUsingEncoding:NSUTF8StringEncoding allowLossyConversion:YES]];  
+ [request setValue:@"application/json"
forHTTPHeaderField:@"Content-Type"];   
+ [request setValue:postDataLengthString forHTTPHeaderField:@"Content-Length"];
+ [NSURLConnection connectionWithRequest:request delegate:self]; 
```

在此过程中，第一个 url 对我来说工作正常，但第二个 url 给出错误，状态码为 500。

请帮帮我。什么问题是这个 Web 服务相同且类型相同。但是一个工作正常，另一个给我错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T19:01:30.773

500 错误代码通常是 Web 服务的内部错误。所以你必须检查网络服务，看看你是否能从那里得到一个想法。

# c# - 有什么方法可以使用 Visual c# 访问 excel 中的直方图？

> ID：14778651
> 
> 赞同：0
> 
> 时间：2013-02-08T18:03:24.240
> 
> 标签：c#

我刚刚创建、打开并保存数据到一个 excel 文件。但我想在 c# 的帮助下使用 excel 中的数据绘制直方图。任何人请建议我这样做。提前致谢。

# php - if() 中的语法错误

> ID：14778653
> 
> 赞同：0
> 
> 时间：2013-02-08T18:03:30.860
> 
> 标签：php, if-statement

我正在尝试编写代码，但页面上没有任何内容：

```
 <?php
require 'http://bescik.kei.pl/fb2/base.php';
$sqluser = mysql_query("SELECT * FROM users WHERE fbid='123321'");

if($sqluser){
echo 'super';
}
else
{
echo 'dupa';
};
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T18:04:10.103

```
echo 'super';

echo 'dupa'; 
```

你最后少了一个分号。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T18:05:17.963

您需要在以下几行中使用分号：

```
echo 'super' 
```

和

```
echo 'dupa' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T18:18:49.037

如果您依赖：

```
require 'http://bescik.kei.pl/fb2/base.php'; 
```

对于您的数据库连接，您的代码将始终失败/回显`dupa`。

当您包含/需要一个外部文件`http://bescik.kei.pl/fb2/base.php`时，您的脚本将向该服务器发送一个 http 请求以获取该文件，请参阅[`include`](http://www.php.net/manual/en/function.include.php). 该服务器将在发送结果之前解析/执行 php，因此您最终将包含一个没有任何 php 的文件。它最多包含一些 html，具体取决于`base.php`脚本输出的内容。

# iphone - 可重用 UITableViewCells 的子按钮不允许我更新标签

> ID：14778656
> 
> 赞同：0
> 
> 时间：2013-02-08T18:03:32.587
> 
> 标签：iphone, objective-c, xcode

我正在尝试更新可重用 UITableViewCell 中的按钮标签。对于前 5-8 个单元格，设置标签没有问题，因为据我了解，这些单元格尚未“重用”。一旦 UI 确实必须重用一个单元格，它就不再允许我更改标签或设置按钮的标签。我错过了什么？

```
UITableViewCell *cell =[tblPlaces dequeueReusableCellWithIdentifier:@"mainTableViewCell"];

if (cell == nil) {
  cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@"mainTableViewCell"];
}

[[cell viewWithTag:107] setTag:indexPath.section]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:41:42.093

这不起作用，因为您正在使用创建的第一个单元格更改按钮的标签。当您出列一个要重用的单元格时，它的按钮标签已经比以前更改了，所以它不再是 107，它是旧索引的任何内容。

我会考虑继承 UITableViewCell 并将按钮添加为子类的属性。这样您就可以直接访问它并且不需要使用标签。

编辑：

这是您真正需要做的所有事情的一个非常简单的示例：

```
@interface MyTableViewCell : UITableViewCell
@property (nonatomic, retain) UIButton *myButton;
@end

@implementation MyTableViewCell

-(id)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier {
    self = [super initWithStyle:style reuseIdentifier:reuseIdentifier];
    if (self) {
        // Create and add your button in here, or set it equal to the one you create in Interface Builder
    }
    return self;
}

@end 
```

# delphi - 如何防止 Advantage Database 连接超时？

> ID：14778658
> 
> 赞同：3
> 
> 时间：2013-02-08T18:03:42.397
> 
> 标签：delphi, advantage-database-server

我有一个与优势数据库一起使用的 Windows 服务，并且偶尔会进行一些 http 调用。在极少数情况下，这些电话可能会很长。我的数据库连接超时。我没有使用数据模块或任何东西。只需手动创建连接。

我的主要问题是，如果我有一段时间没有使用它，通常什么会阻止连接超时？TAdsComponents 是否会发送一条在后台以某种方式调用的保持活动消息？这是否取决于 vcl，所以我的服务中没有它？不知何故，我想创建一个线程来进行我的 http 调用，并且在主线程中每隔几秒钟检查一次它是否完成会防止连接死亡。这是真的吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-08T19:38:04.070

是的，正如您所料，有一个保活机制。客户端（对于所有通信类型，TCP、UDP、共享内存）每隔一段时间向服务器发送一个“ping”，让服务器知道连接仍然存在。该保活 ping 的频率基于服务器配置参数 CLIENT_TIMEOUT。使用默认设置，我相信每 30 秒发送一次 keepalive ping。

keepalive 逻辑在一个单独的线程中运行，该线程由处理通信的代码启动。换句话说，它不依赖于任何 VCL 组件；如果您有与服务器的连接，那么该线程应该正在运行。

检查连接是否超时的一种方法是查看 Advantage 错误日志。应该有与超时连接对应的 7020 错误。

想到的一些可能导致连接超时的事情包括：

*   客户端进程由于某种原因被挂起，导致 keepalive 线程无法运行。这似乎不太可能。
*   由于某种原因，keepalive 线程被杀死。这似乎也不太可能；你必须竭尽全力才能做到这一点。
*   如果一段时间内没有活动，防火墙可能会关闭连接。不过，我认为 30 秒的间隔足以防止这种情况发生。
*   防火墙可能不允许 UDP keepalive 数据包。防火墙本质上对 UDP 数据包是“可疑的”。您可以确保您使用的是 TCP/IP。

# asp.net - VS2010 自动重建缩小的 .js/.css 文件

> ID：14778660
> 
> 赞同：2
> 
> 时间：2013-02-08T18:03:55.763
> 
> 标签：asp.net, visual-studio-2010, minify, scriptmanager

**问题**：

* * *

我一直在尝试在我们的 VS2010 (.net 4.) 项目中集成 javascript 和 css 文件的缩小。据我所知，.net 4.5 和 VS2012 将在编辑器中构建缩小版，因此只需设置一个标志就可以了。不幸的是，我们仍然在 VS2010 (.net 4.0) 上。

让我解释一下我想做什么和不想做什么。

我不想为了缩小而对类/配置文件/等进行大型设置，因为所有这些东西都必须加载到我们的构建机器上，甚至可能必须修改构建 xml 文件才能使其工作。此外，一旦我们进入 vs2012 和 .net 4.5，所有这些配置/类/等都必须被丢弃，因为 vs2012 将具有内置功能。

这是我认为可能是最好的选择。由于我使用的是 ScriptManager，它已经可以根据构建类型提取 .debug.js（非缩小）或 .js（缩小）脚本，看来我需要做的就是拥有某种（ pre?) build 事件，它将将非缩小的 .js 文件重新构建为缩小的文件。显然，构建事件必须调用一个必须安装在本地计算机上的小型模块（YUI 压缩器看起来非常好）。该模块将更新缩小的 .js 文件。

我一直在读这个，但我有点迷失了。有很多第三方工具带有一堆我不想添加的设置和类。有没有人做了类似我解释的事情？如果不是，下一个最好的简单解决方案是什么？

（顺便说一句，如果你要说迁移到 VS2012/4.5，这不是我们目前的解决方案）

**解决方案**：

* * *

感谢**Parv Sharma**的回答。

我只想解释一下我做了什么，以便将来对某人有所帮助。

1.  我安装了 Microsoft Ajax Minifier
2.  创建了一个批处理文件以将 minifer 添加到 ENVIRONMENT PATH 变量： setx path /m "%PATH%;C:\Program Files\Microsoft\Microsoft Ajax Minifier"
3.  在我的项目中添加了以下预构建事件： ajaxmin $(ProjectDir)Script.js -out $(ProjectDir)Script.min.js -clobber

如果 Script.min.js 不存在，它将由 build 事件创建，但不会添加到项目中（不知道如何通过事件做到这一点）。

添加新脚本文件 mynewscript.js 时，只需创建第二个名为 mynewscript.min.js 的空白文件并为其添加预构建事件。

使用这种方法，您对构建机器唯一要做的就是运行 Microsoft Ajax Minifier 安装包和批处理文件。就是这样，其他所有内容都将成为您的预构建事件的一部分。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T18:09:54.817

您正在寻找的可能是这个
[http://ajaxmin.codeplex.com/documentation](http://ajaxmin.codeplex.com/documentation)
通过使用它，您可以
在下载工具后使用这个第三方工具作为压缩器，您有 2 个选项
1\. 将 MSBUILD 文件编辑为包括根据构建事件构建 js
或 2\. 将此工具附加到 VS 并为其分配一个键组合.. 这样您就可以随时缩小，就像我们做 F5 或 Cntrl-Shift-B

附加到 VS 很容易，只需附加到外部工具和工具菜单中，并使用所需参数添加此工具

# matlab - 使用 MATLAB 查找两个峰值或点之间的局部最大值

> ID：14778663
> 
> 赞同：-2
> 
> 时间：2013-02-08T18:04:25.720
> 
> 标签：matlab, signal-processing

![强度图](../Images/028412b3fb2ada46ecb525c281642a1a.png)

我有在上图中标记为粉红色的强度点，这些强度点存储在变量中并给出为

```
intensity_info =[ 35.9349
   46.4465
   46.4790
   45.7496
   44.7496
   43.4790
   42.5430
   41.4351
   40.1829
   37.4114
   33.2724
   29.5447
   26.8373
   24.8171
   24.2724
   24.2487
   23.5228
   23.5228
   24.2048
   23.7057
   22.5228
   22.0000
   21.5210
   20.7294
   20.5430
   20.2504
   20.2943
   21.0219
   22.0000
   23.1096
   25.2961
   29.3364
   33.4351
   37.4991
   40.8904
   43.2706
   44.9798
   47.4553
   48.9324
   48.6855
   48.5210
   47.9781
   47.2285
   45.5342
   34.2310 ]; 
```

我也有 A、B 和 C 点的信息，其计算方式为：

```
 [maxtab, mintab] = peakdet(intensity_info, 1); % maxtab has A and B information and 
                                                  % mintab has C information 
```

peakdet.m matlab 代码可以在这里找到：（[http://www.billauer.co.il/peakdet.html](http://www.billauer.co.il/peakdet.html)）。我想计算 D 点（强度值的视觉增加，即如果我们从 A 点下来强度降低但在 D 点强度略有增加）。从下图中可以看出，C 点也可以位于 D 点的左侧，在这种情况下，如果我们从 B 点下降，强度会降低，而 D 点的强度会略有增加。下图的强度值如下所示：

```
intensity_info =[29.3424
   39.4847
   43.7934
   47.4333
   49.9123
   51.4772
   52.1189
   51.6601
   48.8904
   45.0000
   40.9561
   36.5868
   32.5904
   31.0439
   29.9982
   27.9579
   26.6965
   26.7312
   28.5631
   29.3912
   29.7496
   29.7715
   29.7294
   30.2706
   30.1847
   29.7715
   29.2943
   29.5667
   31.0877
   33.5228
   36.7496
   39.7496
   42.5009
   45.7934
   49.1847
   52.2048
   53.9123
   54.7276
   54.9781
   55.0000
   54.9781
   54.7276
   53.9342
   51.4246
   38.2512]; 
```

A、B、C 点的计算方法同上。

在这些情况下如何计算 D 点？

![强度图 2，C 位于 D 点左侧](../Images/b5254a129c2da24131301e2557a3d13d.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T18:45:30.847

我不是 MATLAB 识字，但如果“选项卡”是子表，那么也许你可以操纵它们来创建其他子表......就像（我重复一遍，文盲）

```
left_of_graph = part of graph from A to C
right_of_graph = part of graph from C to B

left_delta = some fraction of the difference between A's y-value and C's y-value
right_delta = some fraction of the difference between C's y-value and B's y-value

[left_maxtab,left_mintab] = peakdet(left_of_graph,left_delta)
[right_maxtab,right_mintab] = peakdet(right_of_graph,right_delta) 
```

我*确实*有一些峰值分析的经验，所以我会说这将有助于解决问题，而不是回答问题。你可以找到所有你想要的峰，但这并不意味着这些数据值得仔细观察。噪音和不完美的分辨率是真实存在的。狩猎愉快！

PS您还可以扫描整个波段中高于两个邻居的所有点。保证不会错过任何“真实”最大值，而是给你更多的“虚假”最大值（尽管你的数据看起来很平滑！）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-11T05:09:48.293

您正在寻找的解决方案是一种基于迭代的数值方法，在您的特定情况下，二分法是最适合的方法，因为其他方法（如统一顺序搜索）不会将间隔作为输入。这是二分法的实现：

```
 function [ a, b, L ] = Bisection( f, a, b, e, d )
%[a,b] is the interval for your local maxima; e is the error for the result and d is the step(dx).

L = b - a;
while(L > e)
  xa = ((a + b)/2) - d/2;
  xb = ((a + b)/2) + d/2;

  ya = subs(f,xa);
  yb = subs(f,xb);

  if(ya < yb) 
      a = xa;
  else
      b = xb;
  end
  L = b - a;    
end
end 
```

之前的方法非常有效且易于使用，尽管还有其他更好的方法（在性能方面），例如斐波那契和黄金截面方法。

干杯。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-11T10:54:49.293

我找到了替代解决方案。extrema.m 有助于在以上两个 garphs 中找到 D 点。extrema.m 可以从 ( [http://www.mathworks.com/matlabcentral/fileexchange/12275-extrema-m-extrema2-m](http://www.mathworks.com/matlabcentral/fileexchange/12275-extrema-m-extrema2-m) ) 下载，并以下列方式用于查找点 D：

```
 [ymax,imax,ymin,imin] = extrema(intensity_info);
 figure;plot(x,intensity_info,x(imax),ymax,'g.',x(imin),ymin,'r.'); 
```

# java - 递归中的继续关键字

> ID：14778671
> 
> 赞同：1
> 
> 时间：2013-02-08T18:04:45.313
> 
> 标签：java, recursion

我在搜索一些答案时遇到了以下代码。

```
public static void recurse(Scanner in, HashMap<String, Integer> oldMap) {
    HashMap<String, Integer> map = null;
    if (oldMap == null) 
        map = new HashMap<String, Integer>();
    else
        map = new HashMap<String, Integer>(oldMap);
    while (in.hasNext) {
        String s = in.nextLine();
        if (s.startsWith("[")) {
            recurse(in, map);
            continue;
        }
        if (s.startsWith("]")) {
            break;
        }
        String[] split = s.split(" ");
        if (s.startsWith("print")) {
            System.out.println(map.containsKey(split[1]) ? map.get(split[1]) : 0);
            continue;
        }
        int x = 0;
        try {
            x = Integer.parse(split[1]);
        } catch (Exception e) {
            x = map.containsKey(split[1]) ? map.get(split[1]) : 0;
        }
        map.put(split[0], x);
    }
} 
```

有人可以解释一下，为什么这个人在递归调用之后使用了 continue 。似乎是不会处理 continue ，因为每次都会处理递归调用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T18:07:14.247

确实，递归调用将被处理——但最终，递归调用将返回。（除非它引发异常或进入无限循环，即。）递归调用返回后，`continue`执行该语句。

它可能会帮助您玩一个更简单的递归示例：

```
public void printOneToN(int n) {
    if(n > 1) {
        printOneToN(n - 1);
    }
    System.out.println(n);
} 
```

正如您通过运行 (say) 所看到的`printOneToN(10)`，在每次递归调用之后，控制权都会返回给它的调用者。递归调用不会替换其调用者。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T18:06:43.970

`continue`与递归调用无关；其效果是跳过`while`循环的其余内容并直接返回`in.hasNext()`.

# css - css下拉菜单悬停在所有下拉菜单中

> ID：14778678
> 
> 赞同：2
> 
> 时间：2013-02-08T18:05:02.643
> 
> 标签：css, drop-down-menu, hover

我在小提琴上有这个 css 菜单：http: [//jsfiddle.net/DenErello/pQhpu/](http://jsfiddle.net/DenErello/pQhpu/)

CSS：

```
.Menu {
background-color: #3b69a2;
height: 30px;
}
.Menu, .Menu li {
list-style: none;
padding: 0;
margin: 0;
}
.Menu li {
float: left;
width: 100px;
display: block;
line-height: 30px;
}
.Menu ul {
opacity: 0;
}
.Menu ul li {
line-height: 20px;
background-color: #3b69a2;
}
.Menu li:hover > ul { opacity: 1; } 
```

html:

```
<ul class="Menu">
<li>Test 1
    <ul>
        <li>Test 1.1</li>
        <li>Test 1.2</li>
    </ul>
</li>
<li>Test 2
    <ul>
        <li>Test 2.1</li>
        <li>Test 2.2</li>
        <li>Test 2.3</li>
    </ul>
</li>
</ul> 
```

现在，这很好用。但我想要的是在进入主菜单项之一后查看两个下拉菜单。不太明白，有大神知道怎么弄吗？此外，我希望看到一个完整的 100% 宽度背景和下拉列表的完整高度作为最大的下拉列表。我尝试了背景和 ul 上的所有内容，但似乎它不起作用

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:17:35.133

我不确定我是否真的理解，但是如果你在 .Menu 上使用 hover 属性会怎样？这样当您将鼠标悬停在整个区域上时，您会同时显示两个菜单？

```
.Menu:hover li ul { opacity: 1; } 
```

然后，要获得全宽，我将添加以下规则：

```
.Menu:hover{height:auto;overflow:hidden} 
```

[http://jsfiddle.net/pQhpu/5/](http://jsfiddle.net/pQhpu/5/)

否则，我会第二次 isherwood 并说你需要一些 javascript。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T18:17:50.083

不需要 javascript，将其添加到您的 css 中：

```
.Menu:hover ul { opacity: 1; } 
```

在这里查看[http://jsfiddle.net/pQhpu/4/](http://jsfiddle.net/pQhpu/4/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T18:19:41.163

```
.Menu li.main:hover ~ li > ul {
    opacity:1;
} 
```

[小提琴](http://jsfiddle.net/pQhpu/6/)

我认为您的代码需要一些这样的剂量。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T18:10:40.200

您可以通过以下方式获得触发两个子菜单的第一个顶级项目：

[http://jsfiddle.net/pQhpu/1/](http://jsfiddle.net/pQhpu/1/)

```
.Menu li:hover + li ul { opacity: 1; } 
```

它不适用于第二个顶级项目，因为相邻兄弟选择器仅适用于后续兄弟。为此，您需要 JavaScript。使用 jQuery 很容易。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-08T18:17:39.063

你可以用 jQuery 很容易地做到这一点。除非您有理由`opacity`隐藏和显示下拉菜单，否则我建议您`display`改用。

```
var menuItem = $(".Menu").children("li");

menuItem.on("mouseenter", function() {
  menuItem.children("ul").show();
});

menuItem.on("mouseleave", function() {
  menuItem.children("ul").hide();
}); 
```

见[演示](http://jsfiddle.net/zaknotzak/pQhpu/3/)。

# javascript - __doPostBack 似乎在外部 JS 文件中不起作用

> ID：14778686
> 
> 赞同：0
> 
> 时间：2013-02-08T18:05:35.060
> 
> 标签：javascript, dopostback

正如标题所提到的，我有一个单独的 JS 文件，它与我的 ASP.Net 页面交互。一开始，所有的 JS 函数都在 ASP.Net 页面中，包括 __doPostBack 方法，一切正常。但是，一旦我将 JS 函数移动到一个单独的文件以保持页面清晰，所有函数都正常工作，除了使用 __doPostBack 的函数。

现在我不能从 codebihind 调用我的 C# 函数，因为 __doPostBack 没有执行。

那么，你们中有人知道这种方法是否适用于单独的 JS 文件吗？如果是这样，那么执行它的正确代码是什么？或者我是否需要在我的 ASP.Net 代码所在的同一个文件中维护它？

提前感谢您的帮助问候！

# php - 使用 PHP 和 XML 的树形菜单

> ID：14778691
> 
> 赞同：0
> 
> 时间：2013-02-08T18:06:22.737
> 
> 标签：php, xml

我正在尝试使用 PHP 和 XML 制作树形菜单。

```
 <MARKET>
      <weapons>
        <class title="Bagi Warrior" div="bagi">
          <weapon name="Gauntlet" div="gauntlet">
          </weapon>
        </class>
        <class title="Segita Hunter" div="hunter">
          <weapon name="Bow" div="bow">
          </weapon>
          <weapon name="Crossbow" div="xbow">
          </weapon>
          <weapon name="Dagger" div="dagger">
          </weapon>
        </class>
        <class title="Incar Magician" div="mage">
          <weapon name="Wand" div="wand">
          </weapon>
          <weapon name="Staff" div="staff">
          </weapon>
        </class>
        <class title="Azure Knight" div="ak">
          <weapon name="1h Axe" div="1ha">
          </weapon>
          <weapon name="2h Axe" div="2ha">
          </weapon>
          <weapon name="1h Mace" div="1hm">
          </weapon>
          <weapon name="2h Mace" div="1hm">
          </weapon>
          <weapon name="1h Sword" div="1hs">
          </weapon>
          <weapon name="2h Sword" div="1hs">
          </weapon>
          <weapon name="Shield" div="shield">
          </weapon>
        </class>
        <class title="Vicious Summoner" div="summy">
          <weapon name="Twin Blades" div="tb">
          </weapon>
          <weapon name="Staff" div="staff">
          </weapon>
        </class>
        <class title="Segnale" div="seg">
          <weapon name="Whip" div="whip">
          </weapon>
        </class>
        <class title="Aloken" div="alo">
          <weapon name="Spear" div="spear">
          </weapon>
        </class>
        <class title="Seguriper" div="ripper">
          <weapon name="Scythe" div="scythe">
          </weapon>
        </class>
        <class title="Concerra Summoner" div="concerra">
          <weapon name="Duel Blades" div="db">
          </weapon>
          <weapon name="Staff" div="staff">
          </weapon>
        </class>
        <class title="Black Wizard" div="wizard">
          <weapon name="Orb" div="orb">
          </weapon>
        </class>
        <class title="Half Bagi" div="hb">
          <weapon name="Great Falchion" div="gf">
          </weapon>
          <weapon name="Katar" div="katar">
          </weapon>
        </class>
      </weapons>
    </MARKET> 
```

还有我正在尝试使用的 PHP：

```
<?php $xml = simplexml_load_file('market.xml'); ?>
<ul>
  <?php
    foreach ($xml->weapons->class as $classes) {
      $class = $classes["title"];
      $div = $classes["div"]; 
  ?>
  <li><a onClick="document.getElementById('<?=$div ?>').style.display=(document.getElementById('<?=$div ?>').style.display =='none')?'':'none'"><?=$class?></a></li>
    <div id="<?=$div ?>" class="tree" style="display:none">
      <ul>
        <?php
        foreach ($xml->weapons->$classes->weapon as $cl_weapon) {
          $weapon = $cl_weapon["name"];
          $weap_div = $cl_weapon["div"];
        ?>
        <li><a onClick="document.getElementById('<?=$weapon ?>').style.display=(document.getElementById('<?=$weapon ?>').style.display =='none')?'':'none'"><?=$weapon ?></a></li>
    <li>
      <div id="<?=$weap_div ?>" style="display:none">
        <ul>
          <?php
            foreach ($xml->weapons->$classes->$cl_weapon->item as $item) {
              $name = $item->name;
              $level = $item->level;
              echo "<li><a name='".$name."' level='".$level."'>".$name." (".$level.")</a></li>";
            }
          ?>
        </ul>
      </div>
    </li>
    <? } ?>
  </ul>
</div>
  <? } ?>
</ul> 
```

预期结果应该是：

```
Bagi Warrior
->Gauntlet
--->Item (not in XML yet)
--->Item
Segita Hunter
->Bow
--->Item (not in XML yet)
--->Item
->Crossbow
--->Item
--->Item 
```

到目前为止，它给了我所有主要物品（Bagi、Hunter 等），但是当我点击显示该物品的子项（手套、弓、弩等）时，它给了我这个错误：警告：提供的参数无效对于第 14 行 test.php 中的 foreach()。

我知道这与`$classes`in有关

```
foreach ($xml->weapons->$classes->weapon as $cl_weapon) {` 
```

我只是想不出另一种方法让孩子们只进入那个部分（如果这有意义的话）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T19:04:21.933

我得到了它。我需要从那里开始`$classes`并继续前进。正确编码：

```
<?php $xml = simplexml_load_file('market.xml'); ?>
<ul>
  <?php
    foreach ($xml->weapons->class as $classes) {
      $class = $classes["title"];
      $div = $classes["div"]; 
  ?>
  <li><a onClick="document.getElementById('<?=$div ?>').style.display=(document.getElementById('<?=$div ?>').style.display =='none')?'':'none'"><?=$class?></a></li>
    <div id="<?=$div ?>" class="tree" style="display:none">
      <ul>
        <?php
        foreach ($classes->weapon as $cl_weapon) {
          $weapon = $cl_weapon["name"];
          $weap_div = $cl_weapon["div"];
        ?>
        <li><a onClick="document.getElementById('<?=$weapon ?>').style.display=(document.getElementById('<?=$weapon ?>').style.display =='none')?'':'none'"><?=$weapon ?></a></li>
    <li>
      <div id="<?=$weap_div ?>" style="display:none">
        <ul>
          <?php
            foreach ($cl_weapon->item as $item) {
              $name = $item->name;
              $level = $item->level;
              echo "<li><a name='".$name."' level='".$level."'>".$name." (".$level.")</a></li>";
            }
          ?>
        </ul>
      </div>
    </li>
    <? } ?>
  </ul>
</div>
  <? } ?>
</ul> 
```

# assembly - 如何找到指令计数最少的模式位？

> ID：14778695
> 
> 赞同：0
> 
> 时间：2013-02-08T18:06:52.643
> 
> 标签：assembly, mips

用户的输入是为了确定数字（最多 20 位）是否是回文，但我还需要随后找到模式数字。如果模式数字并列，则应打印具有最大值的数字。

我可以使用基本的分支、负载和运算符，例如除法、乘法和加法。

目前我的数字回文方法只是在找到输入字符串的长度后逐个字符进行比较。

更新：使用计数器数组的想法创建了一个解决方案。在查找字符串长度的计数循环期间，我计算了每个数字的出现次数。在 find_mode 循环中，我稍后会遍历 counters 数组并比较每个出现的次数。可能不是最佳的（最少指令数），但它可以工作。谢谢gusbro的指导！

```
 .data
buf1:   .space  21     # receive original input in this buffer
counters: .byte 0,0,0,0,0,0,0,0,0,0 # counters for digits 0-9 for number of occurrences

# the following are constant strings that you can use for your prompts and messages
msgin:  .asciiz "Enter up to 20 digits without spaces: "
msg1:   .asciiz "\nYour string: "
msg2:   .asciiz " IS a palindrome\n"
msg3:   .asciiz " IS NOT a palindrome\n"
msg4:   .asciiz "\nThe mode digit is: "

# print this string for a newline character
nline:  .asciiz "\n"

    .text
main:
li $v0, 4 
la $a0, msgin
syscall # print msgin
li $v0, 8
la $a0, buf1
la $a1, 20
syscall # read string
li $v0, 4
la $a0, msg1
syscall # print msg1
li $v0, 4
la $a0, buf1
syscall # print user input

la $a1,buf1
add $t3, $0, $0 # counter of input length

count:
lb $t1,($a1)
beq $t1, 10, initialize # branches if it reaches the LF character

#this part is for the mode digit counters
subu $t1, $t1, '0'
lb $t2, counters($t1)
addi $t2, $t2, 1
sb $t2, counters($t1) # update counters(i)

addi $t3, $t3, 1 # increase counter
addi $a1,$a1,1 # traverse the string
b count

initialize:
la $a1, buf1 # sets up pointer going forwards
la $a2, buf1 # sets up pointer going backwards

div $t4, $t3, 2 # get the amount needed to traverse backwards, so that odd number palindromes work too

addi $t3, $t3, -1 # last digit will be at (input length - 1)
add $a2, $a2, $t3 # move the second pointer to the last digit

check:
beq $t4, $0, isPalindrome # if the traverse counter = 0, nothing left to traverse
lb $t1, ($a1) # starting digit
lb $t2, ($a2) # ending digit
bne $t1, $t2, isNotPalindrome
addi $t4, $t4, -1 # reduce amount to traverse by 1
addi $a1,$a1,1 # move pointer forwards
addi $a2,$a2,-1 # move pointer backwards   
b check

isPalindrome:
li $v0, 4
la $a0, msg2
syscall # print is palindrome
b mode

isNotPalindrome:
li $v0, 4
la $a0, msg3
syscall # print not palindrome
b mode

mode:   
addi $t7, $0, 0 # counter for number of occurrences
add $t6, $0, $0 # counter to know if done iterating
addi $t5, $0, 0 # the mode digit
la $a1, counters

find_mode:
beq $t6, 10, print # stops iterating through
lb $t1, ($a1)
bge $t1, $t7, store_mode # number of occurences are higher, go store the new mode digit
addi $t6, $t6, 1 # moves counter forward
addi $a1, $a1, 1 # moves pointer forward
b find_mode

store_mode:
add $t7, $t1, $0 # stores the highest number of occurrences
add $t5, $t6, $0 #stores the actual number
addi $t6, $t6, 1 #moves counter forward
addi $a1, $a1, 1 # moves pointer forward
b find_mode

print:
li $v0, 4
la $a0, msg4
syscall
li $v0, 1
move $a0, $t5 # prints mode digit
syscall

exit:
li $v0,10
syscall 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:41:55.080

您可能有一个由 10 个计数器组成的数组（每个数字一个）。当您计算字符串是否是回文时，您可以更新这些计数器：首先在数据部分声明数组：

```
counters: .byte 0,0,0,0,0,0,0,0,0,0   # counters for 10 digits 
```

然后在检查字符串是否为回文时更新计数器

```
addi $a2,$a2,-1 #move pointer backwards  --- your code
  subu $t1, $t1, '0'
  lb $t2, counters($t1)
  addi $t2, $t2, 2
  sb $t2, counters($t1) # update counters(i)
b check  # --------your code 
```

如果是回文，您仍然必须考虑字符串是偶数还是奇数（如果不考虑中间数字，则计算中间数字）：

```
# This code should go after you print that the string is palindrome
# Update counter if string was odd
  andi $t3, $t3, 1
  bnez $t3, even
  lb $t1, ($a1)
  subu $t1, $t1, '0'
  lb $t2, counters($t1)
  addi $t2, $t2, 1
  sb $t2, counters($t1) # update counters(i)
even: 
```

现在对计数器进行线性搜索以获得模式：

```
 addu $a1, $0, 9
  xor $t2, $t2, $t2
find_mode:
  lb $t1, counters($a1)
  ble $t1, $t2, not_mode
  move $t2, $t1
  move $t3, $a1
not_mode:  
  subu $a1, $a1, 1
  bnez $a1, find_mode 
```

并打印结果...

```
 li $v0, 4
  la $a0, msg4
  syscall
  li $v0, 1
  move $a0, $t3
  syscall 
```

# mysql - 搜索查询 mySQL 的排序结果

> ID：14778696
> 
> 赞同：1
> 
> 时间：2013-02-08T18:07:03.407
> 
> 标签：mysql

我有以下用于搜索功能的 mysql 查询。我的数据中有 3 种不同的帐户类型，需要按特定顺序显示。为此，我使用了`ORDER BY FIELD(profiltype,2,1,3)`. 这很好用，没有问题，但是在这些结果中，我还需要按优先级对不同的列进行排序，例如：

```
1\. name2
2\. a_z_feld1
etc. 
```

但是，这不适用于我下面的查询。它应该保持配置文件类型的顺序，但在此顺序内也具有列的优先级。

```
SELECT * FROM main_users 
WHERE ((name2 LIKE %s) 
OR (a_z_feld1 LIKE %s) 
OR (a_z_feld2 LIKE %s) 
OR (a_z_feld3 LIKE %s) 
OR (city LIKE %s) 
OR (content_stellenvor LIKE %s) 
OR (main_content LIKE %s)) 
AND levelmember <> 1 
ORDER BY FIELD(profiltype,2,1,3) ASC, 
a_z_feld1 ASC, a_z_feld2 ASC, a_z_feld3 ASC 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T18:54:10.673

根据您的评论，您需要包含`name`在`order by`：

```
ORDER BY FIELD(profiltype,2,1,3) ASC, name2, a_z_feld1 ASC, a_z_feld2 ASC, a_z_feld3 ASC 
```

# javascript - JavaScript RegEx 样式

> ID：14778703
> 
> 赞同：2
> 
> 时间：2013-02-08T18:07:19.957
> 
> 标签：javascript, regex

我正在尝试使用正则表达式从元素样式中删除所有“颜色”样式，但我失败了。

样式示例

```
cursor: pointer;background-color: yellow;color: lightgray; 
```

样式应成为的示例

```
cursor: pointer;background-color: yellow; 
```

这是我正在使用的正则表达式`color:[^;]+;`

它捕获背景颜色并删除背景后的部分。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T18:10:21.760

这个正则表达式对我有用：

```
[\s;]color:[^;]+(?=;)|^color:[^;]+; 
```

您会看到它在颜色是第一个参数的情况下的处理方式不同。

```
var style = "cursor: pointer;background-color: yellow;color: lightgray;";
var replaced = style.replace(/[\s;]color:[^;]+(?=;)|^color:[^;]+;/g, '') 
```

请注意，即使在这里使用正则表达式并没有那么糟糕，也可以通过简单的拆分+过滤更有信心地完成此操作：

```
var replaced = style.split(';').filter(function(v){
   return v.split(':')[0].trim()!='color'
}).join(';'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T23:42:51.787

关于解决方案的一点更新。

dystroy，解决方案只有一个小问题，处理带有 base64 输入的背景图像。只是想添加正则表达式来分割样式

```
arr = s.match(/background-image\s*:\s*url\s*\(\s*data:image[^)]+\)?|[a-zA-Z-]+:[^;]+/gi); 
```

那应该给你一个包含所有元素的数组。到目前为止它有效。

# java - JPA2 CriteriaQuery 空结果

> ID：14778706
> 
> 赞同：1
> 
> 时间：2013-02-08T18:07:26.897
> 
> 标签：java, jpa-2.0, criteria-api

此代码使用 JPA2 条件查询返回一个空结果列表：

```
CriteriaBuilder criteriaBuilder = getEntityManager().getCriteriaBuilder();
CriteriaQuery<VwReplPrevia> query = criteriaBuilder.createQuery(VwReplPrevia.class);
Root<VwReplPrevia> root = query.from(VwReplPrevia.class);
query.multiselect(root.get(VwReplPrevia_.codigoCentroCustos), 
            root.get(VwReplPrevia_.numeroCartaoPostagem),
            root.get(VwReplPrevia_.codigoServico),
            root.get(VwReplPrevia_.quantidadeItems),
            root.get(VwReplPrevia_.valorServico));
TypedQuery<VwReplPrevia> typedQuery = getEntityManager().createQuery(query);
String contrato       = StringUtils.trim(paginador.getEntityBean().getContrato());
String centroCustos   = StringUtils.trim(paginador.getEntityBean().getCentroCustos());
String cartaoPostagem = StringUtils.trim(paginador.getEntityBean().getCartaoPostagem());
String servico        = StringUtils.trim(paginador.getEntityBean().getServico());
query.where(criteriaBuilder.equal(root.get(VwReplPrevia_.numeroContrato), contrato));
    if (StringUtils.isNotBlank(centroCustos)) {
        criteriaBuilder.and(criteriaBuilder.equal(root.get(VwReplPrevia_.codigoCentroCustos), "9912231583"));
    }
    if (StringUtils.isNotBlank(cartaoPostagem)) {
        criteriaBuilder.and(criteriaBuilder.equal(root.get(VwReplPrevia_.numeroCartaoPostagem), cartaoPostagem));
    }
    if (StringUtils.isNotBlank(servico)) {
        criteriaBuilder.and(criteriaBuilder.equal(root.get(VwReplPrevia_.codigoServico), servico));
    }

    query.orderBy(criteriaBuilder.asc(root.get(VwReplPrevia_.codigoCentroCustos)));
    query.groupBy(root.get(VwReplPrevia_.codigoCentroCustos), 
            root.get(VwReplPrevia_.numeroCartaoPostagem), 
            root.get(VwReplPrevia_.codigoServico),
            root.get(VwReplPrevia_.quantidadeItems),
            root.get(VwReplPrevia_.valorServico));
List<VwReplPrevia> resultado = typedQuery.getResultList(); 
```

使用本机查询的相同查询返回正确数量的结果。

```
String sql = "SELECT vwreplprev0_.sdan8  AS col_0_0_, " +
   "vwreplprev0_.sdcnid AS col_1_0_, " +
   "vwreplprev0_.sdlitm AS col_2_0_, " +
   "vwreplprev0_.sduorg AS col_3_0_, " +
   "vwreplprev0_.sdaexp AS col_4_0_ "  +
"FROM   sfe_view.vw_f4211_repl_previa vwreplprev0_ " +
"WHERE  vwreplprev0_.sddmct = '9912231583' " +
"GROUP  BY vwreplprev0_.sdan8, " +
      "vwreplprev0_.sdcnid, " +
      "vwreplprev0_.sdlitm, " +
      "vwreplprev0_.sduorg, " +
      "vwreplprev0_.sdaexp " +
"ORDER  BY vwreplprev0_.sdan8 ASC  ";
    Collection<PreviaFaturaBean> result =    getEntityManager().createNativeQuery(sql).getResultList();
    paginador.setColecaoDeRegistros(result); 
```

我不知道有什么问题。我通过 Criteria Query 实现的唯一参考是[http://docs.oracle.com/javaee/6/tutorial/doc/gjivm.html](http://docs.oracle.com/javaee/6/tutorial/doc/gjivm.html)，有人可以给我一个提示吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T18:14:44.933

以下部分看起来错误，并且与本机查询不匹配：

```
query.where(criteriaBuilder.equal(root.get(VwReplPrevia_.numeroContrato), contrato));
if (StringUtils.isNotBlank(centroCustos)) {
    criteriaBuilder.and(criteriaBuilder.equal(root.get(VwReplPrevia_.codigoCentroCustos), "9912231583"));
} 
```

应该是

```
query.where(criteriaBuilder.equal(root.get(VwReplPrevia_.numeroContrato), "9912231583"));
if (StringUtils.isNotBlank(centroCustos)) {
    criteriaBuilder.and(criteriaBuilder.equal(root.get(VwReplPrevia_.codigoCentroCustos), centroCustos));
} 
```

如果这不是问题，请查看您的 JPA 引擎在日志中生成了哪个 SQL 查询，并将其与本机查询进行比较以找出不同之处。

# reporting-services - Reporting Services 图表显示红色 X 而不是图形

> ID：14778711
> 
> 赞同：1
> 
> 时间：2013-02-08T18:07:49.460
> 
> 标签：reporting-services, charts

我开发了一份报告，其中包含一个矩阵和一个图表。该图表使用矩阵中的数据显示折线图。当我预览结果时，一切正常。矩阵包含数据，图表显示相应的线。

当我将报告部署到报告服务的本地实例（在我的 PC 上运行）时，它也可以工作。

但是，在我将报告发布到我们的“真实”报告服务框后，只有矩阵部分有效（它显示了所有正确的数据），图表是空白的，并且在角落显示一个带有小图像的空矩形（运行时来自我的 PC 的报告）或红色 x（当我在本地登录 RS 框时运行报告时）。这似乎是某种设置或安全问题，但我无法弄清楚它是什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-01T16:58:07.727

我认为这可能与报告服务用于将临时文件写入的文件夹有关。示例位置：...\Program Files\Microsoft SQL Server\MSRS11.MSSQLSERVER\Reporting Services\RSTempFiles

我认为存在一个问题，文件可以在使用中被锁定并且只能在此处读取。当您运行报告时，报告服务会尝试在此处写入并失败。因为它包含dll文件，所以它不能编写和使用相关的来显示图形。

我尝试手动移动临时文件，但放弃了尝试获取未使用的文件。简单的方法是重新启动报告服务，这会清除文件夹。这对我有用。显然这不是最好的选择，因为您不想中断服务。如果这真的不是一个选项，最好坚持清理临时文件夹。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T02:42:17.260

正如我怀疑的问题是权限。我最终授予用户对整个 Reporting Services 程序目录的“读取”权限，现在我可以看到我的图表显示了。我将尝试进一步深入研究以缩小需要权限的目录，但至少我知道在哪里查找。

# jquery - 在单击发生之前，键盘事件在页面加载时没有响应（使用 jquery 热键或捕鼠器）

> ID：14778718
> 
> 赞同：3
> 
> 时间：2013-02-08T18:08:11.067
> 
> 标签：jquery, hotkeys, shortcuts

我尝试使用 jquery 热键库 ( [https://github.com/jeresig/jquery.hotkeys](https://github.com/jeresig/jquery.hotkeys) ) 和 mousetrap 库 ( [http://craig.is/killing/mice](http://craig.is/killing/mice) ) 来处理我网站上的键盘快捷键。

但是，就在页面加载时，即使我尝试绑定到文档或窗口，也不会触发任何事件。一旦我单击，事件就会触发。我曾尝试使用 jQuery 作为 hack 来强制点击……但它并没有很好地工作。

键盘事件是否应该在页面加载时立即响应？他们是否只有在用户关注页面后才开始响应？在用户用鼠标点击之前，有没有办法让这些绑定到文档？

我尝试过使用`.focus()`and`.click()`并看到这个[问题](https://stackoverflow.com/questions/11565988/jquery-keyup-not-fired-until-user-clicks-page-first)，但不是运气。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:16:46.007

键盘事件仅在页面上的元素（很可能是输入）被聚焦时触发。

这是一个类似的帖子：

[浏览器键事件是否仅对焦点元素触发（冒泡）？](https://stackoverflow.com/questions/10214547/do-browser-key-events-fire-bubble-only-to-elements-in-focus)

# sql - 组合多个 SELECT 函数，其中两个函数都有 WHERE

> ID：14778719
> 
> 赞同：-1
> 
> 时间：2013-02-08T18:08:18.317
> 
> 标签：sql

我正在尝试规范化我的数据，因为它是从 Excel 工作表输入的。我提取数据的文件有一堆兄弟1_name、兄弟1_age、兄弟1_affected等列，最多有4个兄弟姐妹、4个孩子、4个亲戚等。我想将它们全部输入到一个新表中，其中包含名称、年龄、受影响和关系。我找到了一种正确输入第一个兄弟姐妹的方法（见下文），但我不确定如何添加其他兄弟姐妹。有什么建议吗？

```
INSERT INTO Family
            (ID,
             Name,
             Age,
             Affected,
             Relationship)
SELECT ExcelPatients.id,
       ExcelPatients.sibling1_name     AS Name,
       ExcelPatients.sibling1_age      AS Age,
       ExcelPatients.sibling1_affected AS Affected,
       "Sibling"
FROM   ExcelPatients
WHERE  (( ( ExcelPatients.Sibling1_name ) IS NOT NULL ))
       AND ExcelPatients.id NOT IN (SELECT DISTINCT ID  AND Name
                                    FROM   Family); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:50:27.030

```
INSERT INTO Family
            (ID,
             Name,
             Age,
             Affected,
             Relationship)

SELECoT ExcelPatients.id, ExcelPatients.sibling1_name AS Name, 
ExcelPatients.sibling1_age AS Age, 
ExcelPatients.sibling1_affected AS Affected, "Sibling"
FROM ExcelPatients
WHERE (((ExcelPatients.Sibling1_name) Is Not Null))
AND NOT EXISTS  (SELECT DISTINCT ID FROM Family where family.id =  ExcelPatients.id and Family.name =  ExcelPatients.sibling1_name)

UNION

SELECT ExcelPatients.id, ExcelPatients.sibling2_name AS Name, 
ExcelPatients.sibling2_age AS Age, 
ExcelPatients.sibling2_affected AS Affected, "Sibling"
FROM ExcelPatients
WHERE (((ExcelPatients.Sibling2_name) Is Not Null))
AND NOT EXISTS  (SELECT DISTINCT ID FROM Family where family.id =  ExcelPatients.id and Family.name =  ExcelPatients.sibling2_name)

UNION

SELECT ExcelPatients.id, ExcelPatients.sibling3_name AS Name, 
ExcelPatients.sibling3_age AS Age, 
ExcelPatients.sibling3_affected AS Affected, "Sibling"
FROM ExcelPatients
WHERE (((ExcelPatients.Sibling3_name) Is Not Null))
AND NOT EXISTS  (SELECT DISTINCT ID FROM Family where family.id =  ExcelPatients.id and Family.name =  ExcelPatients.sibling3_name)

UNION 

SELECT ExcelPatients.id, ExcelPatients.sibling4_name AS Name, 
ExcelPatients.sibling4_age AS Age, 
ExcelPatients.sibling4_affected AS Affected, "Sibling"
FROM ExcelPatients
WHERE (((ExcelPatients.Sibling4_name) Is Not Null))
AND NOT EXISTS  (SELECT DISTINCT ID FROM Family where family.id =  ExcelPatients.id and Family.name =  ExcelPatients.sibling4_name) 
```

没有看到数据，我不知道 UNION ALL 或 UNION 是否是正确的选择。如果名称只能在 4 个兄弟列之一中，则使用 UNION ALL，如果可以重复，则使用 UNION。由于您正在清理来自另一个来源的数据，因此 UNION 可能是更安全但更慢的选择。NOT EXISTS 往往是 SQL Server 中最快的比较，这就是我选择它的原因。

# entity-framework - 派生类型中的导航属性

> ID：14778722
> 
> 赞同：4
> 
> 时间：2013-02-08T18:08:36.713
> 
> 标签：entity-framework

我是实体框架和数据库设计的新手，我使用的是数据库优先方法，在 Visual Studio 2012 中默认使用 DbContext API 创建 POCO 类。我试图使 POCO 类尽可能精简，我遇到了一个场景，我想从一个表中生成两种类型。我的问题是我想将导航属性与外键一起移动到派生类型。有谁知道解决这个问题的方法？

注意：我试图发布我正在尝试做的事情的图片，但显然我仍然没有足够的声誉来做到这一点。

编辑：感谢谁给了我足够的声誉来发布图片。我要发布的图像如下。

![TPH 继承](../Images/4b450b811b3e224fd2d627a55466c319.png)

谢谢，

雷蒙德

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-17T13:18:08.380

你有没有解决这个问题？我有类似的结构。我在我的 SQL Server DB 中创建了一个具有 2 个子类型的超类型表，一个与另一个表有关系。EF 只是为我设置了它。但是您应该能够通过右键单击您的实体并添加一个新的导航项来做到这一点。然后您可以创建一个新的关联（也可以通过右键单击）。

问候

# r - 绘制持续时间

> ID：14778724
> 
> 赞同：1
> 
> 时间：2013-02-08T18:08:39.367
> 
> 标签：r, lattice, lubridate

我的一些数据包含以秒为单位的持续时间值。我正在使用包中的`Duration`数据类型`lubridate`。

为了绘制我`barchart()`从`lattice`包中调用的这些数据。问题是这些值会在几秒钟内显示回来。有什么方法可以控制轴标签的格式吗？

这张图显示了我现在得到的：

![当前的](../Images/891801ae4ee4a878e3000571f72d73d7.png)

...我正在生成使用：

```
barchart(val1 ~ val2, groups=group, mydata, 
         auto.key=list(
           columns=1, 
           space="right", 
           text=c("Pilot 1","Pilot 2")
           ), 
         main="Title",
         xlab="Tasks", ylab="Duration"
) 
```

相反，我想要更接近这个的东西（在 y 轴标签方面）：

![故意的](../Images/6490974a08804a6e9ddccaafe0687770.png)

* * *

**更新：**添加一些示例 csv 数据：

```
group,val2,val1
pilot01,t1,429.226015
pilot01,t3,693.795607
pilot02,t1,262.798468
pilot02,t3,325.854107 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T23:34:12.817

在 Lattice 中，`scales`参数控制轴；可能与此未经测试的代码类似：

```
 ..., scales=list(y=list(at=seq.POSIXt(0, 700, length= 6), 
                          labels=format(seq.POSIXt(0, 700, length= 6), "%H:%M:%S:)
                   ), ... 
```

为了得到这个经过测试的形式，我需要将秒转换为 POSIXt 格式：

```
mydata$val1time <- as.POSIXct(mydata$val1, origin="1970-01-01")
barchart(val1time ~ val2, groups=group, mydata, horizontal=FALSE, 
         scales=list( y=list( 
            at=seq.POSIXt(from=as.POSIXct(0, origin="1970-01-01"), 
                          to=as.POSIXct(700, origin="1970-01-01"), length= 12), 
            labels=format( seq.POSIXt(from=as.POSIXct(0, origin="1970-01-01"), 
                    to=as.POSIXct(720, origin="1970-01-01"), length= 12), "%H:%M:%S")
                     )   ), 
       auto.key=list(
           columns=1, 
           space="right", 
           text=c("Pilot 1","Pilot 2")
           ), 
         main="Title", xlab="Tasks", ylab="Duration"
) 
```

![在此处输入图像描述](../Images/061007a54afe1d4fd8cde796e8904073.png)

如果你需要它从 0 向上，你需要添加：

```
 ..., ylim=range( as.numeric( seq.POSIXt(from=as.POSIXct(0, origin="1970-01-01"), 
                                    to=as.POSIXct(700, origin="1970-01-01"),
                                    length= 12))) , 
```

为了显示一整套命令给出了该结果（添加了 'ylim' 参数，我粘贴了我使用数据框名称的代码`dat`：

```
 dat <- read.table(text="group,val2,val1
 pilot01,t1,429.226015
 pilot01,t3,693.795607
 pilot02,t1,262.798468
 pilot02,t3,325.854107", header=TRUE, sep=",")
dat$val1time <- as.POSIXct(dat$val1, origin="1970-01-01")

barchart(val1time ~ val2, groups=group, dat, horizontal=FALSE, 
          scales=list( y=list( at=seq.POSIXt(from=as.POSIXct(0, origin="1970-01-01"), to=as.POSIXct(700, origin="1970-01-01"), length= 12), 
                              labels=format( seq.POSIXt(from=as.POSIXct(0, origin="1970-01-01"), to=as.POSIXct(720, origin="1970-01-01"), length= 12), "%H:%M:%S")
                      )   ), 
        auto.key=list(
            columns=1, 
            space="right", 
            text=c("Pilot 1","Pilot 2")
            ), 
          main="Title", xlab="Tasks", ylab="Duration"
 , ylim=range( as.numeric( seq.POSIXt(from=as.POSIXct(0, origin="1970-01-01"), 
                                    to=as.POSIXct(700, origin="1970-01-01"),
                                    length= 12)))) 
```

# facebook-like - 奇怪的facebook喜欢按钮问题

> ID：14778725
> 
> 赞同：0
> 
> 时间：2013-02-08T18:08:44.463
> 
> 标签：facebook-like

网站： http: [//fraze.it](http://fraze.it)

问题：通过我的 PC 连接到站点时，我看到 251 个赞，但通过我的 IPAD 连接时，我看到 229。两者都使用相同的连接。计数值怎么不一样？

我会欣赏你的想法。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T18:13:23.563

`CAP Theorem`在数据库世界中有一种叫做 a 的东西。我怀疑 facebook 是一个最终一致的系统。因此，即使客户端连接相同，服务内容的服务器也可能不同。因此，您会看到不匹配。我只能说等待，这是最终一致系统的唯一保证。

# c++ - 带升压的平行部分

> ID：14778728
> 
> 赞同：1
> 
> 时间：2013-02-08T18:09:15.383
> 
> 标签：c++, boost, openmp

我正在寻找一种使用 boost 线程并行运行代码块而不创建工作函数或仿函数的方法。我想要类似于 OpenMP 的并行部分构造的东西：

```
#pragma omp parallel sections
{
   #pragma omp section
   {
      ... do some work
   }
   #pragma omp section
   {
      ... do some more
   }
} 
```

有没有办法使用boost来完成这个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-16T07:56:46.073

如果您可以使用 C++11，则*lambda*表达式将很有用。（lambda 实际上是一种仿函数，但下面的代码看起来像 OpenMP 版本？）

```
#include <boost/thread.hpp>

{
  boost::thread th1([&]() {
    // ... do some work (thread#1)
  });
  boost::thread th2([&]() {
    // ... do some more (thread#2)
  });
  // wait for two tasks completion
  th1.join();
  th2.join();
} 
```

或`thread_group`版本：

```
{
  boost::thread_group pool;
  pool.create_thread([&]() {
    // ... do some work (thread#1)
  });
  pool.create_thread([&]() {
    // ... do some more (thread#2)
  });
  // wait for two tasks completion
  pool.join_all();
} 
```

# python - 获取http请求的内容以及单个请求中的响应url

> ID：14778729
> 
> 赞同：0
> 
> 时间：2013-02-08T18:09:26.880
> 
> 标签：python, http, python-3.x, http-headers, urllib2

如何在单个请求中获取 http 响应的内容以及响应 url（不是请求的 url）。

为了得到回应，我使用了：

```
from urllib2 import Request,urlopen
try:
    headers  = { 'User-Agent' : 'Mozilla/5.0 (X11; U; Linux i686; en-US;)' }
    request  = Request(url, data, headers)
    print urlopen(request).read()
except Exception, e:
        raise Exception(e) 
```

如果我只想要标题（标题将具有响应 url），我使用

```
try:
    headers  = { 'User-Agent' : 'Mozilla/5.0 (X11; U; Linux i686; en-US;)' }
    request  = Request(url, data, headers)
request.get_method = lambda : 'HEAD'
    print urlopen(request).geturl()
    except Exception, e:
        raise Exception(e) 
```

我正在发出两个请求以获取内容和网址。我如何在一个请求中同时获得两者。如果我的函数将内容和 url 作为元组返回，那就更好了。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T18:14:40.360

如果将 分配`urlopen(request)`给变量，则可以将这两个属性与单个请求一起使用

```
response = urlopen(request)
request_body = response.read()
request_url  = response.geturl()
print 'URL: %s\nRequest_Body: %s' % ( request_url, request_body ) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T18:18:04.657

我会把你的代码重构成这样的。我不知道你为什么要捕获异常只是为了再次引发它而不对其做任何事情。

```
from urllib2 import Request,urlopen

headers  = { 'User-Agent' : 'Mozilla/5.0 (X11; U; Linux i686; en-US;)' }
request  = Request(url, data, headers)
request.get_method = lambda : 'GET'
response = urlopen(request)
return response.read(), response.get_url() 
```

如果您确实想捕获异常。你应该只把它放在`urlopen`电话周围。

# asp.net - AdminBAL 类信息

> ID：14778733
> 
> 赞同：-2
> 
> 时间：2013-02-08T18:09:45.920
> 
> 标签：asp.net, .net, vb.net

您好，我在网上找到了一些代码，在浏览它时我遇到了 Dim admin As New AdminBAL() 。什么是 adminBAL？该代码最初是在 C# 中，我将其转换为 vb。我找不到太多关于它的信息。我如何访问它？我在哪里找到代码： http: [//www.dotnetfunda.com/articles/article180.aspx](http://www.dotnetfunda.com/articles/article180.aspx)

```
 Private Sub BindCurrentUsers()
    Dim admin As New AdminBAL()
    Try
        GridView1.DataSource = admin.LoadAll()
        GridView1.DataBind()
    Catch ee As Exception
        ' lblError.Text = ThrowError.LogAndThrowError(ee)
    Finally
        admin = Nothing
    End Try
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:19:42.473

文章说

> 我举了一个简单的数据库表的例子，它有 UserName、Password、SuperPassword、UserType、Admin Desc 和 Active 字段。为简单起见，我不会在这里展示数据库操作代码。

AdminBAL 是这个数据库表的 DAO，如果你仔细观察，他只使用

```
GridView1.DataSource = admin.LoadAll(); 
```

和

```
new AdminBAL().Insert(u.Text, p.Text, sp.Text, dT.SelectedValue, ad.Text, 
                      bool.Parse(dA.SelectedValue)); 
```

即，只有两个方法的名称非常清楚它们的作用。应该足够简单，以便为您的数据存储量身定制替代方案......

# objective-c - 无法在 NSTableView 中编辑表格单元

> ID：14778745
> 
> 赞同：1
> 
> 时间：2013-02-08T18:10:43.760
> 
> 标签：objective-c, cocoa, checkbox, nstableview

我有一个充满 NSMutableDictionaries 的 NSMutableArray。所有这些数据都显示在 NSTableView 中。

问题是当我尝试编辑单元格时。我的 tableview 通过数据源绑定绑定到我的类。并编辑单元格的值，我使用以下代码：

```
 -(void)tableView:(NSTableView *)tableView setObjectValue:(id)object forTableColumn:(NSTableColumn *)tableColumn row:(NSInteger)row{

NSMutableDictionary *i = [list objectAtIndex:row];
NSString *identifier = [tableColumn identifier];
[i setValue:object forKey:identifier];

 } 
```

但它抛出一个错误：

```
2013-02-11 20:50:35.960 prog[424:303] Exception detected while handling key input.
2013-02-11 20:50:35.960 prog[424:303] [<__NSDictionaryI 0x105986580>     setValue:forUndefinedKey:]: this class is not key value coding-compliant for the key filename.
2013-02-11 20:50:35.964 prog[424:303] ( 
```

我不明白为什么我会收到这个`NSDictionaryI`错误。我在任何地方都使用 NSMutableDictionary，即使我将字典添加到数组中。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T21:52:42.453

我认为

```
setValue:forUndefinedKey 
```

意味着，您的 tableColumn 标识符有问题。检查 Interface Builder 中的设置标识符和/或设置断点（或仅执行 NSLog(@"%@", tableColumn.identifier);）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T07:01:58.553

我发现了问题！

当我向数组中添加元素时，我使用的是 COPY。删除它使它工作！

`[myNSMutableArray addObject: myNSMutableDictionary];`

在我使用之前

`[myNSMutableArray addObject:copy myNSMutableDictionary];`

# mysql - 我可以在我的 mysql 查询中使用条件逻辑吗？

> ID：14778749
> 
> 赞同：0
> 
> 时间：2013-02-08T18:11:09.770
> 
> 标签：mysql, sql

我一直在与垃圾邮件作斗争，所以我想限制用户每天联系不超过 40 个新的唯一成员。

我当前用于跟踪消息的数据库架构如下所示

```
id   sender receiver content  date                   belong_to
100  5      7        send1    2013-02-08 09:31:36    5  
101  5      7        send1    2013-02-08 09:31:36    7
102  7      5        recevd   2013-02-08 09:32:18    7
103  7      5        recevd   2013-02-08 09:32:18    5 
```

我当前的查询看起来像这样返回过去 24 小时内不同收件人的数量：

```
SELECT COUNT(DISTINCT(receiver)) 
FROM `messages` 
WHERE sender = 5 
AND date >= DATE_SUB(NOW(), INTERVAL 1 DAY) 
```

基于此示例的输出为 1，但由于用户响应，我希望将其排除在计数之外。

根据我的示例数据，我想从我的计数中排除这两个条目，因为接收者已经响应了发送者。我将如何计算过去 24 小时内的唯一收件人，但排除从一开始就回复此发件人的任意数量的收件人？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T18:20:41.427

它看起来像这样：

```
SELECT COUNT(DISTINCT(receiver)) 
FROM `messages` m, 
WHERE sender = X  
AND NOT EXISTS( SELECT * FROM `messages` m2 where receiver = X and sender = m.reciever )
AND date >= DATE_SUB(NOW(), INTERVAL 1 DAY) 
```

看起来您的表格没有任何方式可以消除单个消息的歧义/正在回复的消息，这可能是一个问题。

# amazon-web-services - XMLHttpRequest 无法加载 https://s3.amazonaws.com/。Access-Control-Allow-Origin 不允许来源

> ID：14778752
> 
> 赞同：2
> 
> 时间：2013-02-08T18:11:19.383
> 
> 标签：amazon-web-services, amazon-s3, salesforce, visualforce, resumablejs

我第一次使用 AWS 和 s3 时，我必须将它与 salesforce 集成以上传大文件，当我尝试上传文件时，它给了我错误

```
OPTIONS https://s3.amazonaws.com/ritesh 403 (Forbidden) resumable.js:344
XMLHttpRequest cannot load https://s3.amazonaws.com/ritesh. Origin https://c.ap1.visual.force.com is not allowed by Access-Control-Allow-Origin. 
```

我正在使用[resumable.js（一个用于以块发送大文件的 javascript 库）](https://github.com/23/resumable.js) ，你可以看到我正在从 url [https://c.ap1.visual.force.com](https://c.ap1.visual.force.com)发送文件，然后我尝试发送它

我发送文件的代码段是

```
var r = new Resumable({
            target:'https://s3.amazonaws.com/ritesh',
            chunkSize:1*1024*1024,
            simultaneousUploads:4,
            testChunks:false,
            throttleProgressCallbacks:1,
            query:{ 'key': 'Hello10'  ,'AWSAccessKeyId': '*********' ,'policy':'{!$RemoteAction.S3FormController.getPolicy1}' ,'signature':'{!$RemoteAction.S3FormController.getSignedPolicy1}', 'acl': '{!AWS_S3_Object__c.Access__c}','success_action_status':'201' , 'success_action_redirect':'https://'+'{!$RemoteAction.S3FormController.getServerURL1}'+'/'+'{!AWS_S3_Object__c.id}' ,'Content-Type' :'application/zip'   }

          }); 
```

因为我使用的是现有的 JS 库，这就是为什么它看起来有点奇怪。这段代码意味着我正在向 [https://s3.amazonaws.com/ritesh](https://s3.amazonaws.com/ritesh)发送一个发布请求 ritesh 是我的存储桶名称设置其他发布参数，如密钥、AWSAccessKeyId政策、签名、acl、success_action_status 等所有参数可能都是正确的，为什么我会收到此错误。我的 Cors 配置是

```
<CORSConfiguration>
 <CORSRule>
   <AllowedOrigin>https://c.ap1.visual.force.com/</AllowedOrigin>

   <AllowedMethod>PUT</AllowedMethod>
   <AllowedMethod>POST</AllowedMethod>
   <AllowedMethod>DELETE</AllowedMethod>

   <AllowedHeader>*</AllowedHeader>
 </CORSRule>
 <CORSRule>
   <AllowedOrigin>*</AllowedOrigin>
   <AllowedMethod>GET</AllowedMethod>
 </CORSRule>
</CORSConfiguration> 
```

我只发送参数而不是任何标题我应该发送额外的标题请注意哪些标题!!请帮助如何删除此错误

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T13:50:46.237

您必须使用 SFDC HTTP 代理。为此，您必须将地址[https://s3.amazonaws.com](https://s3.amazonaws.com)定义为“远程站点”-> 设置-> Sec。-> 远程站点。

> 输入远程站点的 URL。所有 s-control、自定义按钮中的 JavaScript OnClick 命令、Apex 和 AJAX 代理调用都可以从 salesforce.com 访问此 Web 地址。

您的新请求应使用端点 url：“https://c.[Instance].visual.force.com/services/proxy”。

在您的请求的标题中，您必须添加 `'Authorization': 'OAuth {!GETSESSIONID()}'`您的 api-endpoint-url`'SalesforceProxy-Endpoint', apiUrl`

# wpf - 如何在所有形式中使用相同的实体？

> ID：14778754
> 
> 赞同：0
> 
> 时间：2013-02-08T18:11:31.803
> 
> 标签：wpf, entity-framework

请原谅我这个问题有问题。

我的应用程序使用实体框架。我的大多数表单都是主-详细-子详细类型。在我的主表单中，我创建了一个实体实例，如下所示：

```
DataTestEntities dbContext = new DataTestEntities(); 
```

我将它用于 linq 查询，如下所示：

```
objRec = dbContext.ProdInfoes.Where(p => p.ProdCode == oProducts.ProdCode).First(); 
```

我可以使用 System.Reflection 将 dbContext 传递到详细信息屏幕。我传递 dbContext 的原因是为了避免一遍又一遍地创建实体的实例。

这是一个好方法吗？它会产生任何性能问题吗？

有没有其他方法可以让我使用通用的 dbcontext？将类库与数据模型一起使用怎么样？

# cordova - PhoneGap + Leaflet + Jquery Mobile

> ID：14778755
> 
> 赞同：2
> 
> 时间：2013-02-08T18:11:39.590
> 
> 标签：cordova, jquery-mobile, leaflet

我正在尝试让 Leaflet 地图与 PhoneGap 应用程序一起使用，但地图不会全屏呈现，我不知道为什么。

**索引.html**

```
<div data-role="content" id="map" style="width:100%;height:70%;position:absolute;">
  var map = new Map();
  var $map = $('#map');
  $map.height( $(window).height() - $map.offset().top ); 
```

**地图.js**

```
function Map() {
var map = L.map('map').setView([51.505, -0.09], 13);

L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);

L.marker([51.5, -0.09]).addTo(map)
.bindPopup('A pretty CSS3 popup. <br> Easily customizable.')
.openPopup();
} 
```

但是我一直在地图最右边的地方得到这个，并且不会在其他任何地方加载：

[http://postimage.org/image/r0e49wgt5/](http://postimage.org/image/r0e49wgt5/)

（不会让我发布有声望的图片）

**更新**

如果我打开应用程序横向，地图将加载，但如果我保持纵向，地图将是灰色的

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T14:39:18.947

`map.invalidateSize();`显示地图后尝试。

# linq - 使用 Linq 查询仅将日期与 DateTime 字段进行比较

> ID：14778758
> 
> 赞同：10
> 
> 时间：2013-02-08T18:11:52.700
> 
> 标签：linq, entity-framework, datetime, entity-framework-4

我只需要比较涉及`datetime`字段的 Linq 查询中的日期。但是，下面的语法会导致以下错误消息

`The specified type member 'Date' is not supported in LINQ to Entities. Only initializers, entity members, and entity navigation properties are supported.`

有谁知道如何从`datetime`字段中提取日期？

```
var duplicate = from a in _db.AgentProductTraining
                where a.CourseCode == course.CourseCode &&
                a.DateTaken.Date == course.DateTaken.Date &&
                a.SymNumber == symNumber
                select a; 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-08T18:19:16.123

这可能看起来有点迂回，但您可以使用 SqlFunctions 类的[DateDiff](http://msdn.microsoft.com/en-us/library/dd487052.aspx)方法来执行此操作。只需传入两个值并使用“Day”来查找它们之间的天数差异（如果它们在同一天，则应该为 0）。

如下所示：

```
from a in _db.AgentProductTraining
                where a.CourseCode == course.CourseCode &&
                SqlFunctions.DateDiff("DAY", a.DateTaken, course.DateTaken) == 0 &&
                a.SymNumber == symNumber
                select a; 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-12-05T09:52:03.577

可以`EntityFunctions.TruncateTime()`在命名空间下使用`System.Data.Objects`

前任。

```
db.Orders.Where(i => EntityFunctions.TruncateTime(i.OrderFinishDate) == EntityFunctions.TruncateTime(dtBillDate) && i.Status == "B") 
```

像魅力一样工作。

**更新**

此函数仅在您通过 LINQ 查询实体时有效。不要在 LINQ-Object 中使用。

对于 EF6，使用 System.Data.Entity 命名空间下的 DbFunctions.TruncateTime()。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2014-06-24T06:46:29.137

你可以这样做：

```
var data1 = context.t_quoted_value.Where(x => x.region_name == "Pakistan" 
                        && x.price_date.Value.Year == dt.Year
                        && x.price_date.Value.Month == dt.Month
                        && x.price_date.Value.Day == dt.Day).ToList(); 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-08-21T19:42:51.530

你必须使用`System.Data.Entity.DbFunctions.TruncateTime`

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-07-01T05:42:17.810

试试这个

```
DateTime dt =course.DateTaken.Date;
var duplicate = from a in _db.AgentProductTraining
                where a.CourseCode == course.CourseCode &&
                a.DateTaken == dt &&
                a.SymNumber == symNumber
                select a; 
```

如果 a.DateTaken 也包含时间，那么请参考这些链接来修改您的日期。
Date 属性不能在 LINQ To 实体中使用。

[使用 LINQ to Entities（实体框架）比较日期](https://stackoverflow.com/questions/13741399/compare-dates-using-linq-to-entities-entity-framework)

[LINQ to Entities 不支持“日期”。仅支持初始化器、实体成员和实体导航属性](https://stackoverflow.com/questions/7083871/date-is-not-supported-in-linq-to-entities-only-initializers-entity-members)

[http://forums.asp.net/t/1793337.aspx/1](http://forums.asp.net/t/1793337.aspx/1)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-04-15T19:04:21.503

这就是我通过进行类似的日期搜索结束的方式，我还必须考虑时间（小时和分钟部分）

```
from x in _db.AgentProductTraining
                where 
                       x.CreatedOn.Year == mydacourse.DateTakente.Year
                    && x.CreatedOn.Month == course.DateTaken.Month
                    && x.CreatedOn.Day == course.DateTaken.Day
                    && x.CreatedOn.Hour == course.DateTaken.Hour
                    && x.CreatedOn.Minute == course.DateTaken.Minute
                select x; 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2015-04-11T18:51:59.997

去掉 .Date 如果字段是 DateTime 它可以与 == 进行比较

```
var duplicate = from a in _db.AgentProductTraining
                where a.CourseCode == course.CourseCode &&
                a.DateTaken == course.DateTaken &&
                a.SymNumber == symNumber
                select a; 
```

# mysql - mysql查询在实际日期未知时比较两种类型的日期

> ID：14778764
> 
> 赞同：0
> 
> 时间：2013-02-08T18:11:57.993
> 
> 标签：mysql, updates

当您不知道任何实际日期时是否可以编写查询？我需要将交易日期与可用资金日期进行比较，并通过在日期上添加一天来更新可用资金日期。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-08T18:28:19.047

我比 MySQL 更了解 MS SQL，但您仍然应该能够使用大于和小于来比较它们。如果要修改该值，则需要使用 DATE_ADD 函数（[日期和时间函数参考](https://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html)）。将交易日期与资金可用日期进行比较将涉及类似的事情`WHERE TransTable.TransDate >= CustTable.FundsAvailDate`，然后在资金可用日期上增加一天将是这样的`SET FundsAvailDate = DATE_ADD(FundsAvailDate, INTERVAL 1 DAY)`

# java - 如何将输出保存到txt文件

> ID：14778776
> 
> 赞同：-5
> 
> 时间：2013-02-08T18:12:56.023
> 
> 标签：java

快问

我有一个循环，可以找到目录中的所有文件，我想做的是在其中添加一行代码，将这些结果写入 txt 文件，我将如何最好地做到这一点

当前代码：

```
public String FilesInFolder() {
        // Will list all files in the directory, want to create a feature on the page that can display this to the user

        String path = NewDestination;
        System.out.println("Starting searching files in directory"); // making sure it is called
        String files;
        File folder = new File(path);
        File[] listOfFiles = folder.listFiles();

        for (int i = 0; i < listOfFiles.length; i++) {

            if (listOfFiles[i].isFile()) {
                files = listOfFiles[i].getName();
                System.out.println(files);
            }
        }
        return "";
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:19:19.150

使用[FileWritter](http://docs.oracle.com/javase/1.4.2/docs/api/java/io/FileWriter.html)和[BufferedWriter](http://docs.oracle.com/javase/1.4.2/docs/api/java/io/BufferedWriter.html)：

```
public String FilesInFolder() {
    // Will list all files in the directory, want to create a feature on the page that can display this to the user

    String path = NewDestination;
    System.out.println("Starting searching files in directory"); // making sure it is called
    String files;
    File folder = new File(path);
    File[] listOfFiles = folder.listFiles();

    File file = new File("output.txt");

    // if file doesnt exists, then create it
    if (!file.exists()) {
        file.createNewFile();
    }
    FileWriter fw = new FileWriter(file.getAbsoluteFile());
    BufferedWriter bw = new BufferedWriter(fw);

    for (int i = 0; i < listOfFiles.length; i++) {

        if (listOfFiles[i].isFile()) {
            files = listOfFiles[i].getName();
            System.out.println(files);
            bw.write(files);
        }
    }

    bw.close();
    return "";
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T18:19:57.310

您可以一起使用[FileWriter](http://docs.oracle.com/javase/1.4.2/docs/api/java/io/FileWriter.html)和[StringWriter](http://docs.oracle.com/javase/1.4.2/docs/api/java/io/StringWriter.html)。

```
 public String FilesInFolder() throws IOException {
    FileWriter fw = new FileWriter("file.txt");
    StringWriter sw = new StringWriter();

    // Will list all files in the directory, want to create a feature on the page that can display this to the user

    String path = NewDestination;
    System.out.println("Starting searching files in directory"); // making sure it is called
    String files;
    File folder = new File(path);
    File[] listOfFiles = folder.listFiles();

    for (int i = 0; i < listOfFiles.length; i++) {

        if (listOfFiles[i].isFile()) {
            files = listOfFiles[i].getName();
            sw.write(files);
            System.out.println(files);
        }
    }
    fw.write(sw.toString());
    fw.close();
    return "";
} 
```

# c# - 检查所有按钮未选中 c# asp.net

> ID：14778779
> 
> 赞同：0
> 
> 时间：2013-02-08T18:13:01.210
> 
> 标签：c#, asp.net

有没有一种方法可以检查我的“检查所有按钮”，然后，当我检查复选框列表中的一个项目时，“检查​​所有按钮”将被取消选中，但这些项目仍然被选中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T18:31:32.580

以下将做的伎俩：

```
<asp:CheckBox ID="CheckAllCheckBox" runat="server" Text="Select All" AutoPostBack="true" />
<br />
<asp:CheckBoxList ID="MyCheckBoxList" runat="server" AutoPostBack="true">
    <asp:ListItem>One</asp:ListItem>
    <asp:ListItem>Two</asp:ListItem>
    <asp:ListItem>Three</asp:ListItem>
</asp:CheckBoxList> 
```

和代码：

```
protected void Page_Load(object sender, EventArgs e)
{
    CheckAllCheckBox.CheckedChanged += CheckAllCheckBox_CheckedChanged;
    MyCheckBoxList.SelectedIndexChanged += MyCheckBoxList_SelectedIndexChanged;
}

void MyCheckBoxList_SelectedIndexChanged(object sender, EventArgs e)
{
    if (MyCheckBoxList.Items.Cast<ListItem>().Where(i => i.Selected).Count() == MyCheckBoxList.Items.Count)
        CheckAllCheckBox.Checked = true;
    else
        CheckAllCheckBox.Checked = false;
}

void CheckAllCheckBox_CheckedChanged(object sender, EventArgs e)
{
    SetCheckedState(CheckAllCheckBox.Checked);
}

private void SetCheckedState(bool setChecked)
{
    foreach (var item in MyCheckBoxList.Items.Cast<ListItem>().Where(i => i.Selected != setChecked))
        item.Selected = setChecked;
} 
```

# python - 如何在不重新启动 Web 服务器的情况下部署 Django 代码

> ID：14778786
> 
> 赞同：-4
> 
> 时间：2013-02-08T18:13:23.267
> 
> 标签：python, django

我决定离开 PHP 并开始使用 Django。我已经在我的网络服务器上成功安装了 Python 和 Django。我怎样才能编写我的 Python/Django 程序，通过 FTP 将其发送到服务器，然后运行它而无需每次都通过 SSH 连接到服务器并重新启动 django 服务器？

运行 Django 代码的方法与我们运行 PHP 代码的方式完全相同（如果可能，让服务器一直运行）？

我的服务器运行 CentOS 5.8 和 Apache。

编辑：好吧，我真的向想要在网络服务器上设置 dJango 的人推荐这个教程，这是我在阅读了很多帖子后的推荐。在 Nginx Web 服务器上使用 dJango 是您可以获得的最强大的性能

[https://code.djangoproject.com/wiki/DjangoAndNginx](https://code.djangoproject.com/wiki/DjangoAndNginx)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-08T18:20:40.750

你不能神奇地让 Django 像 PHP 一样运行。请查看部署文档，因为它是最好的。

[您将看到有关 apache 的分步说明。](https://docs.djangoproject.com/en/dev/howto/deployment/wsgi/)

至于每次加载新代码时不必进行 SSH，这项工作的最佳工具是`fabric`.

[http://docs.fabfile.org/en/1.5/](http://docs.fabfile.org/en/1.5/)

Fabric 是一个了不起的工具，它非常易于安装和配置，它可以让您从本地机器上运行远程机器上的命令。

例如，我只需`fab production deploy`在本地机器上键入...

*   推送 git 更改
*   远程拉取 git 更改
*   运行点安装
*   迁移数据库
*   运行收集静态
*   最后“重新启动” apache - 触摸 wsgi 文件。

我只是想强调一下，fabric 不像那些复杂的部署构建脚本。Fabric 将花费您 10 分钟的时间进行设置。

# ios - 是否可以在我的应用程序中使用内置 iOS 裁剪工具？

> ID：14778788
> 
> 赞同：0
> 
> 时间：2013-02-08T18:13:27.473
> 
> 标签：ios, cocoa-touch, uikit

在相册应用程序中有一个内置的编辑 - > 裁剪工具。是否可以在应用程序中使用该工具而不是自己编写？它是框架的一部分吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T18:20:09.820

不，没有内置的裁剪工具。但是，编写这样的工具并不难。

您需要创建一个控件，让用户在滚动视图中拖动图像并收集坐标。

然后，您将创建一个图形上下文并使用 UIImage 方法 drawInRect: 将图像绘制成一个大于图形上下文的矩形。结果是将图像的裁剪部分绘制到上下文中。然后，您将从图形上下文中提取图像并丢弃图形上下文。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T18:17:55.287

不，这不是 SDK 的一部分，但您可以在 iOS 中轻松裁剪图像。

```
- (UIImage *)resizeImage:(UIImage *)image width:(float)w height:(float)h {
    UIImage *croppedImage = image;

    CGSize size = CGSizeMake(w, h);
    UIGraphicsBeginImageContext(size);
    CGRect rect = CGRectMake(0.0f, 0.0f, size.width, size.height);
    [image drawInRect:rect];

    croppedImage = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();

    return croppedImage;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-01T21:27:44.457

我创建了一个可能适合您需要的裁剪工具。它不是基于滚动视图，而是让用户在他们的图像周围选择一个框架。

[https://github.com/nicholjs/BFCropInterface](https://github.com/nicholjs/BFCropInterface)

# vim - 在 vimscript 中传递一个变量以休眠

> ID：14778789
> 
> 赞同：3
> 
> 时间：2013-02-08T18:13:34.297
> 
> 标签：vim

我使用 vim 的时间已经数不胜数了，但我从来没有真正学好 vimscript。我现在正在努力。

无论如何，我想将可变的时间传递给 sleep 函数。我还想在传递它之前操纵该值。这是一个简单的例子。

```
function! wait(mil)
    let timetowait = mil . "m"
    sleep timetowait
endfunction 
```

即使我尝试在 timetowait 前加上 l: 前缀，它也会显示“无效参数：l:timetowait”。

将变量的值传递给睡眠的正确方法是什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-08T19:48:54.060

有几个问题：

*   您的方法应以大写名称开头
*   你需要访问你的论点`a:`
*   你必须在睡觉和睡觉之间留出空间`m`
*   您必须使用间接执行睡眠`execute`

这是一个如何做到这一点的例子：

```
function! Wait(mil)
    let timetowait = a:mil . " m"
    exe 'sleep '.timetowait
endfunction 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-08T20:14:38.013

大安的回答是正确的；这里有一些更多的背景信息：

Vimscript 的评估与在`:`命令行中键入的 Ex 命令完全一样。中没有变量`ex`，因此无法指定它们。当以交互方式键入命令时，您可能会使用`<C-R>=`插入变量内容：

```
:sleep <C-R>=timetowait<CR>m<CR> 
```

...但在脚本中，`:execute`必须使用。Ex 命令的所有文字部分都必须用引号引起来（单引号或双引号），然后与变量连接：

```
execute 'sleep' timetowait . 'm' 
```

# c++ - 流式传输字符串流是 libstdc++ 扩展吗？

> ID：14778790
> 
> 赞同：1
> 
> 时间：2013-02-08T18:13:40.023
> 
> 标签：c++, stringstream, libstdc++, libc++

流式传输是`stringstream`libstdc++ 扩展吗？该程序使用and编译`gcc-4.2`,`gcc-4.7-2 (using -std=c++03)`和 clang 3.2 （感谢 Andy Prowl，请参阅评论）。它不能使用和编译。`-std=c++11``libstdc++``clang 3.2``-std=c++11``-stdlib=libc++`

```
#include<iostream>
#include<sstream>
int main() {

  std::stringstream s; s << "b";

  std::cout << "ss: " << s << std::endl;

  return 0;
} 
```

通过查看 ofstream 的构造函数，它可以采用 a`std::basic_streambuf<CharT, Traits>*`或 a `basic_ostream& st`。stringstream 是 a `std::basic_istream`，但是两者都是，`std::basic_ios<CharT, Traits>`所以我猜它应该可以工作。

以下更改使代码在 clang 下编译：

```
 std::cout << "ss: " << s.str() << std::endl; 
```

正确的方法是什么？`cout << s;`还是`cout << s.str();`？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-08T18:20:14.320

不，这是 C++03 和 C++11 之间的区别。所有流都有一个转换运算符，可以使用`if (s)`和启用代码`while (s)`。在 C++03 中，这通常是`operator void*()`或类似的。

在 C++11 中，我们有显式运算符，其中 an`explicit operator bool()`适用于`if (s)`，但不适用于`cout << s`。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-08T18:23:32.713

实际上，这*只会*在 C++98 和 C++03 中编译，因为所有流类都隐式转换为`void*`由于`operator void*()`转换函数的存在，因此`s`in`std::cout << s`将`void*`隐式转换为。

然而，在 C++11 中，代码将无法编译，因为 C++11 已将显式化，它可以根据上下文转换为布尔值，而不是`void*`，例如 in`if`和`while`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T18:27:24.020

它应该与所有 C++ 编译器一起编译，但它并没有达到您的预期。所有流都隐式转换为可在布尔表达式中使用的内容：to `void*`或`bool`. `<<`这两种类型都有一个运算符。

当您想将一个流转储到另一个流时，正确的方法是：

```
std::cout << s.rdbuf(); 
```

（这对我来说似乎有点奇怪，这作为格式化插入运算符被重载，因为它复制了 的全部内容`streambuf`，没有任何格式化，甚至忽略了宽度。）

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-08T18:20:35.403

流式传输 std::stringstream 没有重载，但您可以使用

```
std::cout << "ss: " << s.str() << std::endl; 
```

# java - JFrame大小不一致

> ID：14778793
> 
> 赞同：1
> 
> 时间：2013-02-08T15:27:40.347
> 
> 标签：java, swing, netbeans, jframe, layout-manager

我的窗口组件看起来像被裁剪了。运行时的大小和属性中的大小（最小和首选大小）不同。这发生在自由设计或绝对设计中。这些都是我用 Netbeans 7.1.2 完成的。**这是什么问题？你知道这通常有什么问题吗？**是马蒂斯的虫子吗？我不知道会发生什么。**我该如何解决这个问题？**我对错误感到抱歉。谢谢你。

![大小不一致 - 图解](../Images/fd19437ca7e3079545eae8417cae3384.png)

我不知道代码中的错误在哪里，但这是该框架的代码：

```
jButton4.setIcon(new javax.swing.ImageIcon(getClass().getResource("/otodidak/gambar/logomati.png"))); // NOI18N
jButton4.setToolTipText("Tutup Otodidak");
jButton4.addActionListener(new java.awt.event.ActionListener() {
    public void actionPerformed(java.awt.event.ActionEvent evt) {
        jButton4ActionPerformed(evt);
    }
});

setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
setTitle("Otodidak");
setAlwaysOnTop(true);
setLocationByPlatform(true);
setPreferredSize(new java.awt.Dimension(787, 410));
setResizable(false);
getContentPane().setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());
getContentPane().add(jSeparator1, new org.netbeans.lib.awtextra.AbsoluteConstraints(48, 53, 689, -1));

btBack.setIcon(new javax.swing.ImageIcon(getClass().getResource("/otodidak/gambar/backlogo2.png"))); // NOI18N
btBack.setToolTipText("Kembali");
btBack.addMouseListener(new java.awt.event.MouseAdapter() {
    public void mouseClicked(java.awt.event.MouseEvent evt) {
        btBackMouseClicked(evt);
    }
});
btBack.addActionListener(new java.awt.event.ActionListener() {
    public void actionPerformed(java.awt.event.ActionEvent evt) {
        btBackActionPerformed(evt);
    }
});
getContentPane().add(btBack, new org.netbeans.lib.awtextra.AbsoluteConstraints(224, 340, 130, -1));

jButton5.setIcon(new javax.swing.ImageIcon(getClass().getResource("/otodidak/gambar/logomati.png"))); // NOI18N
jButton5.setToolTipText("Tutup Otodidak");
jButton5.addActionListener(new java.awt.event.ActionListener() {
    public void actionPerformed(java.awt.event.ActionEvent evt) {
        jButton5ActionPerformed(evt);
    }
});
getContentPane().add(jButton5, new org.netbeans.lib.awtextra.AbsoluteConstraints(718, 358, 46, -1));

jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/otodidak/gambar/synapticwvdial.png"))); // NOI18N
getContentPane().add(jLabel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(388, 65, 348, 264));

btNext.setIcon(new javax.swing.ImageIcon(getClass().getResource("/otodidak/gambar/nextlogo2.png"))); // NOI18N
btNext.setToolTipText("Lanjut");
btNext.addMouseListener(new java.awt.event.MouseAdapter() {
    public void mouseClicked(java.awt.event.MouseEvent evt) {
        btNextMouseClicked(evt);
    }
});
getContentPane().add(btNext, new org.netbeans.lib.awtextra.AbsoluteConstraints(396, 340, 130, 48));

jLabel10.setFont(new java.awt.Font("Ubuntu", 1, 48)); // NOI18N
jLabel10.setText("1");
getContentPane().add(jLabel10, new org.netbeans.lib.awtextra.AbsoluteConstraints(48, 68, 36, 40));

jLabel2.setFont(new java.awt.Font("Ubuntu", 0, 24)); // NOI18N
jLabel2.setText("Instal Aplikasi wvdial");
getContentPane().add(jLabel2, new org.netbeans.lib.awtextra.AbsoluteConstraints(90, 80, -1, 24));
getContentPane().add(jSeparator2, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 116, 216, 18));

jLabel3.setFont(new java.awt.Font("Ubuntu", 0, 16)); // NOI18N
jLabel3.setText("1) Buka Synaptic.");
getContentPane().add(jLabel3, new org.netbeans.lib.awtextra.AbsoluteConstraints(56, 132, 368, 26));

jLabel4.setFont(new java.awt.Font("Ubuntu", 0, 16)); // NOI18N
jLabel4.setText("3) Klik kanan wvdial, pilih mark for Installation. ");
getContentPane().add(jLabel4, new org.netbeans.lib.awtextra.AbsoluteConstraints(56, 207, 346, -1));

jLabel5.setFont(new java.awt.Font("Ubuntu", 0, 16)); // NOI18N
jLabel5.setText("2) Ketik wvdial. ");
getContentPane().add(jLabel5, new org.netbeans.lib.awtextra.AbsoluteConstraints(56, 170, 346, -1));

jLabel6.setFont(new java.awt.Font("Ubuntu", 0, 16)); // NOI18N
jLabel6.setText("4) Biarkan Synaptic menginstalkan wvdial. ");
getContentPane().add(jLabel6, new org.netbeans.lib.awtextra.AbsoluteConstraints(56, 244, 346, -1));

jLabel7.setFont(new java.awt.Font("Ubuntu", 0, 16)); // NOI18N
jLabel7.setText("Catatan: internet harus menyala.");
getContentPane().add(jLabel7, new org.netbeans.lib.awtextra.AbsoluteConstraints(58, 292, 298, 22));

lbJudul.setFont(new java.awt.Font("Dialog", 1, 24)); // NOI18N
lbJudul.setForeground(new java.awt.Color(254, 254, 254));
lbJudul.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
lbJudul.setText("Cara Menginstal Smartfren AC682");
getContentPane().add(lbJudul, new org.netbeans.lib.awtextra.AbsoluteConstraints(117, 12, 578, -1));

jPanel1.setBackground(new java.awt.Color(1, 1, 1));
getContentPane().add(jPanel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, -2, 788, 50));

pack(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T19:09:31.613

通常 setPreferredSize 应该适用于大多数布局管理器。您的布局管理器将使用组件的首选尺寸以及最小和最大尺寸，然后使用 setSize 和 setLocation 根据布局规则定位这些组件。

但是，如果您尝试将组件放置在太大而无法容纳的位置，布局管理器将自动调整大小以适应该组件，并且可能不会遵守 setPreferredSize 中设置的尺寸。

# python - Yaml 字符串中的反斜杠

> ID：14778797
> 
> 赞同：11
> 
> 时间：2013-02-08T18:14:14.673
> 
> 标签：python, yaml

所以我对一些配置文件使用 yaml 并使用 py yaml 来解析它。对于一个领域，我有类似的东西：

```
host: HOSTNAME\SERVER,5858 
```

但是当它在这里被解析时，我得到的是：

```
{
"host": "HOSTNAME\\SERVER,5858"
} 
```

带有 2 个反斜杠。我尝试了单引号、双引号等的每种组合。正确解析它的最佳方法是什么？谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-08T18:30:48.630

`len("\\") == 1`. 您看到的是字符串作为 Python 字符串文字的表示形式。反斜杠在 Python 文字中具有特殊含义，例如，`"\n"`是单个字符（换行符）。要在字符串中获得文字反斜杠，它应该被转义`"\\"`。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-08T18:29:31.300

你没有得到两个反斜杠。Python 正在显示单个反斜杠，`\\`这样您就不会认为您的字符串中实际上有一个`\S`字符（它不存在......但例如`\n`确实存在，并且 Python 正试图尽可能明确）。这是证据：

```
>>> data = {"host": "HOSTNAME\\SERVER,5858"}
>>> print(data["host"])
HOSTNAME\SERVER,5858
>>> 
```

有关更多背景信息，请查看[`repr()`](http://docs.python.org/2/library/functions.html#repr).

# c# - facebook C# sdk 4.0.1 中的 CanvasAuthorizer.Authorize() 是否损坏？

> ID：14778804
> 
> 赞同：0
> 
> 时间：2013-02-08T18:14:41.910
> 
> 标签：c#, asp.net, facebook, facebook-c#-sdk

我一直在 Facebook 的 Canvas 应用程序（ASP.NET Web 窗体）中使用旧的 Facebook C# SDK（版本 4.0.1）。我在 SDK 中使用的唯一功能是授权用户并获取 Facebook 用户 ID。该 API 适用于安装画布应用程序的用户，但不适用于新用户。

我有以下代码：

```
Dim lFacebookApp As FacebookApp()
Dim lCanvasAuthorizer As CanvasAuthorizer

Dim lFacebookSettings As New FacebookSettings()
Dim lCanvasSettings As New CanvasSettings()

lFacebookSettings.AppId = "XXXXXXXX"
lFacebookSettings.AppSecret = "XXXXXXXXXX"
lFacebookSettings.CookieSupport = True

lCanvasSettings.CanvasPageUrl = "Canvaspageurl"
lCanvasSettings.CanvasUrl = "canvasUrl"
lCanvasSettings.AuthorizeCancelUrl = New Uri("http://www.facebook.com")

lFacebookApp = New FacebookApp(lFacebookSettings)
lCanvasAuthorizer = New CanvasAuthorizer(FacebookApp, lCanvasSettings)
lCanvasAuthorizer.Perms = "user_about_me, publish_stream"

If (lCanvasAuthorizer.Authorize()) Then
 Dim info = lFacebookApp.Get("me")
 Dim userId = info.id
End If 
```

这是如何工作的：当新用户浏览到 时`www.apps.facebook.com/<appname>`，会`lCanvasAuthorizer.Authorize()`自动打开登录对话框，然后打开 OAuth 对话框。

但是，现在它正在抛出以下错误`Dim info = lFacebookApp.Get("me")`

```
(OAuthException) Error validating access token: The session is invalid because the user logged out. 
```

`lCanvasAuthorizer.Authorize()`应该为用户打开 oAuth 对话框，但事实并非如此。旧的 Facebook C# SDK 坏了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T15:55:55.007

Facebook C# SDK 版本 4.0.1 已弃用。使用[最新版本](http://csharpsdk.org/)。

# database - 媒体播放器：从数据库流式传输

> ID：14778806
> 
> 赞同：0
> 
> 时间：2013-02-08T18:14:46.387
> 
> 标签：database, audio, stream, media-player, android-contentprovider

简而言之：我在我的本地 sqlitedatabse 中有一些音频文件，并且想使用 android 的本机媒体播放器进行播放。参考文档，我可以通过将音频文件放在 sd 卡上或从服务器流式传输或通过 URI 播放音频。

无法通过向媒体播放器提供字节数组来播放音频文件。

所以我的解决方案是构建一个 CONTENTPROVIDER 让我的媒体播放器通过 URI 访问数据库中的音频文件。我通过本教程提出了这个想法

[http://www.vogella.com/articles/AndroidSQLite/article.html](http://www.vogella.com/articles/AndroidSQLite/article.html)

这可能吗？有更好的方法来解决我的问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T20:43:02.180

如果我正确理解您的问题，您建议创建一个人工 URL，然后将其传递给要读取的 android 系统，并通过从 SQLite 读取它来提供支持 URL 的数据。这可能会起作用，并且它解决了内容解码的一些问题，但它需要在系统中创建笨拙的 URL 和套接字。所有这些可能都不是最可靠或最有效的方法。

另一种方法是自己将数据解码为 PCM，并通过[Audio Track](http://developer.android.com/reference/android/media/AudioTrack.html)将其提供给 Android 。这会更好，因为您不是试图创建一个被黑（和人工）的 URL 只是为了通过管道传输数据流，但它可能需要您自己解析数据并将其转换为 PCM。根据您在数据库中的格式，这可能很困难且不值得，因为用于此类转换的 Android 库无法访问。所以，哪种方式*最好*取决于你的目标，但我认为这是你的两个选择。

# .htaccess - htaccess - 删除文件扩展名并强制子域

> ID：14778808
> 
> 赞同：0
> 
> 时间：2013-02-08T18:14:54.810
> 
> 标签：.htaccess, mod-rewrite, wildcard-subdomain

如果子域不在我的 URL（或其“www”）中，我会尝试强制使用*下划线*作为子域。我昨天绕着圈子试图理解这一点，这是我到目前为止所拥有的：-

规则1。删除文件扩展名 - 有效，直到我将规则 2 添加到 .htaccess。

```
Options -Multiviews
RewriteBase /
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteCond %{REQUEST_URI} !/$
RewriteRule (.*) $1\.php [L] 
```

规则 #2 如果不存在子域，则自动使用 _ 例如：_.mysite.com

```
RewriteCond %{HTTP_HOST} ^[^.]+\.[^.]+$
RewriteRule ^(.*)$ http://_.%{HTTP_HOST}/$1 [L,R=301] 
```

规则 2 有效，但它将 .php 添加回文件名的末尾？

我已经尝试将“_”规则移到扩展规则之上，但这并没有什么不同。

任何帮助都会很感激=）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-30T12:09:07.333

To remove ".php" extension on second rule you have to add ".php" as a optional parameter:

```
RewriteRule ^(.*)(\.php)|(.*)$ http://_.%{HTTP_HOST}/$1$3 [L,R=301] 
```

This way, no matter your URI have ".php" or not your request will always be redirected without ".php" extension.

# java - Java openGL - 绘制 3D 对象

> ID：14778809
> 
> 赞同：0
> 
> 时间：2013-02-08T18:15:03.670
> 
> 标签：java, opengl

我想在 openGL 中绘制一个 3D 对象，但是最好的方法是什么？我想在 2D 中绘制它的侧面轮廓，然后将其充实为 3D，但这可能吗？我认为这样做会更容易，然后直接进入 3D，但如果你不能，那么我只是在浪费我的时间。

我也不知道如何添加天空，甚至可能是带有反射的大海，这很容易做到吗？

* * *

```
 gl.glClear(GL.GL_COLOR_BUFFER_BIT);
   gl.glColor3f(1.0f, 1.0f, 1.0f);

   gl.glPushMatrix();
   gl.glTranslatef(-1.0f, 0.0f, 0.0f);
   gl.glRotatef((float) shoulder, 0.0f, 0.0f, 1.0f);
   gl.glTranslatef(1.0f, 0.0f, 0.0f);
   // gl.glPushMatrix();
   gl.glScalef(2.0f, 0.4f, 1.0f);
   glut.glutWireCube(1.0f);
   // gl.glPopMatrix();

   gl.glTranslatef(1.0f, 0.0f, 0.0f);
   gl.glRotatef((float) elbow, 0.0f, 0.0f, 1.0f);
   gl.glTranslatef(1.0f, 0.0f, 0.0f);
   // gl.glPushMatrix();
   gl.glScalef(2.0f, 0.4f, 1.0f);
   glut.glutWireCube(1.0f);
   // gl.glPopMatrix();

   gl.glTranslatef(1.0f, 1.0f, 1.0f);
   gl.glRotatef((float) hand, 0.0f, 0.0f, 1.0f);
   gl.glTranslatef(1.0f, 0.0f, 0.0f);
   // gl.glPushMatrix();
   gl.glScalef(2.0f, 0.4f, 1.0f);
   glut.glutWireCube(1.0f);
   // gl.glPopMatrix(); 
```

我一直在尝试随机数来尝试让它工作，但到目前为止还没有这么幸运！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:25:53.733

好的，首先，反射可能很困难，具体取决于您要如何进行。在尝试这样的事情之前，你肯定需要学习更多的 OpenGL。其次，3D 对象需要更多的矩阵内容，这是我在 3D 游戏中的 init 方法的一个示例：

```
private void initGl() {
    glViewport(0, 0, Display.getWidth(), Display.getHeight());
    glMatrixMode(GL_PROJECTION);
    glLoadIdentity();
    GLU.gluPerspective(45.0f, Display.getWidth() / Display.getHeight(), 1.0f, 100.0f);
    glMatrixMode(GL_MODELVIEW);
    glLoadIdentity();
    glClearColor(0.0f, 0.0f, 0.0f, 0.0f);
    glClearDepth(1.0f);
    glDepthFunc(GL_LEQUAL);
    glEnable(GL_DEPTH_TEST);
    glShadeModel(GL_SMOOTH);
    glHint(GL_PERSPECTIVE_CORRECTION_HINT, GL_NICEST);
    glEnable(GL_FOG);
    glFogi(GL_FOG_MODE, GL_EXP2);
    glFogf(GL_FOG_DENSITY, density);
    glHint(GL_FOG_DENSITY, GL_FASTEST);
    glEnable(GL_CULL_FACE);
    glCullFace(GL_BACK);
} 
```

在绘制之前，您还需要像这样清除缓冲区：

```
 glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT); 
```

当您说只是充实一个 2D 对象时，您几乎是正确的。如果我们仍在使用立即模式 ( `glBegin()/glEnd()`)，那么您的方法将是正确的。但是，立即模式现在已被弃用，我们通常使用 VBO。如果您使用 LWJGL，我建议您上 YouTube 并搜索 CodingUniverse，他有一个关于 VBO 和高级渲染的视频，这是我学习它们的方式！

祝你在 3D 世界里好运，这并不容易，但它（在我看来）比 2D 更令人满意。

另外，考虑投资红皮书，这都是关于 LWJGL 的。

# r - ggplot2中的2个因子分面

> ID：14778810
> 
> 赞同：9
> 
> 时间：2013-02-08T18:15:04.620
> 
> 标签：r, ggplot2

我有以下数据集和代码，还显示了 dput() 的输出。我想在 y 轴上绘制 log(N2012$Rate) 列，在 x 轴上绘制 Location 并按 Month 垂直分面，按 Gas 水平分面。该图在视觉上工作，但没有为因子分配正确的数据点。我不确定我做错了什么。对于笨拙的代码，我很抱歉，我是 R 新手，并且已经自学了。

我还希望 N2O 面板为黄色，N2 面板为蓝色。这也没有发生，我不知道为什么。

数据

```
 Location.Month Gas     Rate Month Location log(N2012$Rate)
1   HighBank July  N2    24.00  July HighBank       3.1780538
2   HighBank July  N2   309.00  July HighBank       5.7333413
3   HighBank July N2O    92.00  July HighBank       4.5217886
4   HighBank July N2O    45.00  July HighBank       3.8066625
5    LowBank July  N2   582.00  July  LowBank       6.3664704
6    LowBank July  N2    27.00  July  LowBank       3.2958369
7    LowBank July N2O   299.00  July  LowBank       5.7004436
8    LowBank July N2O    99.00  July  LowBank       4.5951199
9      Basin July  N2   219.00  July    Basin       5.3890717
10     Basin July  N2  1096.00  July    Basin       6.9994225
11     Basin July  N2   151.00  July    Basin       5.0172798
12     Basin July  N2   326.00  July    Basin       5.7868974
13     Basin July  N2   135.00  July    Basin       4.9052748
14     Basin July  N2    29.00  July    Basin       3.3672958
15     Basin July  N2   140.00  July    Basin       4.9416424
16     Basin July N2O   124.00  July    Basin       4.8202816
17     Basin July N2O    97.00  July    Basin       4.5747110
18     Basin July N2O   177.00  July    Basin       5.1761497
19     Basin July N2O   702.00  July    Basin       6.5539334
20     Basin July N2O   202.00  July    Basin       5.3082677
21     Basin July N2O    76.00  July    Basin       4.3307333
22     Basin July N2O    51.00  July    Basin       3.9318256
23   HighBank Aug  N2  2328.00   Aug HighBank       7.7527648
24   HighBank Aug  N2   584.00   Aug HighBank       6.3699010
25   HighBank Aug N2O  1137.00   Aug HighBank       7.0361485
26   HighBank Aug N2O  1438.00   Aug HighBank       7.2710085
27    LowBank Aug  N2   217.00   Aug  LowBank       5.3798974
28    LowBank Aug  N2   947.00   Aug  LowBank       6.8532991
29    LowBank Aug N2O   398.00   Aug  LowBank       5.9864520
30    LowBank Aug N2O   984.00   Aug  LowBank       6.8916259
31      Basin Aug  N2   787.00   Aug    Basin       6.6682282
32      Basin Aug  N2   365.00   Aug    Basin       5.8998974
33      Basin Aug  N2   597.00   Aug    Basin       6.3919171
34      Basin Aug  N2  6125.00   Aug    Basin       8.7201340
35      Basin Aug  N2 13439.00   Aug    Basin       9.5059162
36      Basin Aug  N2  9348.00   Aug    Basin       9.1429177
37      Basin Aug  N2  8679.00   Aug    Basin       9.0686616
38      Basin Aug N2O  1177.00   Aug    Basin       7.0707241
39      Basin Aug N2O   119.00   Aug    Basin       4.7791235
40      Basin Aug N2O   182.00   Aug    Basin       5.2040067
41      Basin Aug N2O   352.00   Aug    Basin       5.8636312
42      Basin Aug N2O  4051.00   Aug    Basin       8.3067190
43      Basin Aug N2O  1921.00   Aug    Basin       7.5606012
44      Basin Aug N2O  2017.00   Aug    Basin       7.6093665
45  HighBank Sept  N2    25.70  Sept HighBank       3.2464910
46  HighBank Sept  N2    28.30  Sept HighBank       3.3428618
47  HighBank Sept N2O    17.70  Sept HighBank       2.8735646
48  HighBank Sept N2O   157.00  Sept HighBank       5.0562458
49   LowBank Sept  N2     6.19  Sept  LowBank       1.8229351
50   LowBank Sept  N2    67.60  Sept  LowBank       4.2136080
51   LowBank Sept N2O     9.51  Sept  LowBank       2.2523439
52   LowBank Sept N2O   244.00  Sept  LowBank       5.4971682
53     Basin Sept  N2  1077.00  Sept    Basin       6.9819347
54     Basin Sept  N2   160.00  Sept    Basin       5.0751738
55     Basin Sept  N2   949.00  Sept    Basin       6.8554088
56     Basin Sept  N2   714.00  Sept    Basin       6.5708830
57     Basin Sept  N2    28.30  Sept    Basin       3.3428618
58     Basin Sept  N2  1838.00  Sept    Basin       7.5164333
59     Basin Sept  N2   249.00  Sept    Basin       5.5174529
60     Basin Sept N2O   397.00  Sept    Basin       5.9839363
61     Basin Sept N2O   197.00  Sept    Basin       5.2832037
62     Basin Sept N2O   366.00  Sept    Basin       5.9026333
63     Basin Sept N2O    27.60  Sept    Basin       3.3178158
64     Basin Sept N2O    44.20  Sept    Basin       3.7887248
65     Basin Sept N2O   112.00  Sept    Basin       4.7184989
66     Basin Sept N2O   171.00  Sept    Basin       5.1416636
67   HighBank Oct  N2     9.43   Oct HighBank       2.2438961
68   HighBank Oct  N2     3.77   Oct HighBank       1.3270750
69   HighBank Oct N2O     3.13   Oct HighBank       1.1410330
70   HighBank Oct N2O    19.10   Oct HighBank       2.9496883
71    LowBank Oct  N2     2.39   Oct  LowBank       0.8712934
72    LowBank Oct  N2     5.66   Oct  LowBank       1.7334239
73    LowBank Oct N2O    40.20   Oct  LowBank       3.6938670
74    LowBank Oct N2O    27.80   Oct  LowBank       3.3250360
75      Basin Oct  N2    55.60   Oct    Basin       4.0181832
76      Basin Oct  N2    20.20   Oct    Basin       3.0056826
77      Basin Oct  N2    55.20   Oct    Basin       4.0109630
78      Basin Oct  N2     8.90   Oct    Basin       2.1860513
79      Basin Oct  N2     3.72   Oct    Basin       1.3137237
80      Basin Oct  N2     9.06   Oct    Basin       2.2038691
81      Basin Oct  N2     8.04   Oct    Basin       2.0844291
82      Basin Oct N2O    25.50   Oct    Basin       3.2386785
83      Basin Oct N2O    29.30   Oct    Basin       3.3775875
84      Basin Oct N2O    16.90   Oct    Basin       2.8273136
85      Basin Oct N2O     5.17   Oct    Basin       1.6428727
86      Basin Oct N2O     6.33   Oct    Basin       1.8453002
87      Basin Oct N2O     7.72   Oct    Basin       2.0438144
88      Basin Oct N2O     7.58   Oct    Basin       2.0255132 
```

数据结构

```
Data <-
structure(list(Location.Month = structure(c(6L, 6L, 6L, 6L, 10L, 
10L, 10L, 10L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
2L, 2L, 5L, 5L, 5L, 5L, 9L, 9L, 9L, 9L, 1L, 1L, 1L, 1L, 1L, 1L, 
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 8L, 8L, 8L, 8L, 12L, 12L, 12L, 
12L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 
7L, 7L, 7L, 7L, 11L, 11L, 11L, 11L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 
3L, 3L, 3L, 3L, 3L, 3L, 3L), .Label = c("Basin Aug", "Basin July", 
"Basin Oct", "Basin Sept", "HighBank Aug", "HighBank July", "HighBank Oct", 
"HighBank Sept", "LowBank Aug", "LowBank July", "LowBank Oct", 
"LowBank Sept"), class = "factor"), Gas = structure(c(1L, 1L, 
2L, 2L, 1L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 
2L, 2L, 2L, 2L, 1L, 1L, 2L, 2L, 1L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 
1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 1L, 1L, 2L, 2L, 1L, 1L, 
2L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
1L, 1L, 2L, 2L, 1L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 
2L, 2L, 2L, 2L, 2L, 2L), .Label = c("N2", "N2O"), class = "factor"), 
    Rate = c(24, 309, 92, 45, 582, 27, 299, 99, 219, 1096, 151, 
    326, 135, 29, 140, 124, 97, 177, 702, 202, 76, 51, 2328, 
    584, 1137, 1438, 217, 947, 398, 984, 787, 365, 597, 6125, 
    13439, 9348, 8679, 1177, 119, 182, 352, 4051, 1921, 2017, 
    25.7, 28.3, 17.7, 157, 6.19, 67.6, 9.51, 244, 1077, 160, 
    949, 714, 28.3, 1838, 249, 397, 197, 366, 27.6, 44.2, 112, 
    171, 9.43, 3.77, 3.13, 19.1, 2.39, 5.66, 40.2, 27.8, 55.6, 
    20.2, 55.2, 8.9, 3.72, 9.06, 8.04, 25.5, 29.3, 16.9, 5.17, 
    6.33, 7.72, 7.58), Month = structure(c(1L, 1L, 1L, 1L, 1L, 
    1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
    1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
    2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L, 3L, 
    3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 
    3L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L, 
    4L, 4L, 4L, 4L, 4L, 4L, 4L, 4L), .Label = c("July", "Aug", 
    "Sept", "Oct"), class = "factor"), Location = structure(c(1L, 
    1L, 1L, 1L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 
    3L, 3L, 3L, 3L, 3L, 3L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 3L, 
    3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 1L, 1L, 
    1L, 1L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 
    3L, 3L, 3L, 3L, 3L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 3L, 3L, 
    3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L), .Label = c("HighBank", 
    "LowBank", "Basin"), class = "factor"), `log(N2012$Rate)` = c(3.17805383034795, 
    5.73334127689775, 4.52178857704904, 3.80666248977032, 6.36647044773144, 
    3.29583686600433, 5.70044357339069, 4.59511985013459, 5.3890717298165, 
    6.99942246750796, 5.01727983681492, 5.78689738136671, 4.90527477843843, 
    3.36729582998647, 4.9416424226093, 4.82028156560504, 4.57471097850338, 
    5.17614973257383, 6.55393340402581, 5.30826769740121, 4.33073334028633, 
    3.93182563272433, 7.75276480885133, 6.36990098282823, 7.03614849375054, 
    7.27100853828099, 5.37989735354046, 6.85329909318608, 5.98645200528444, 
    6.89162589705225, 6.6682282484174, 5.89989735358249, 6.3919171133926, 
    8.72013403541293, 9.50591620654706, 9.14291769565875, 9.06866159364425, 
    7.07072410726028, 4.77912349311153, 5.2040066870768, 5.8636311755981, 
    8.30671904320269, 7.56060116276856, 7.60936653795421, 3.24649099190117, 
    3.34286180464919, 2.87356463957978, 5.05624580534831, 1.8229350866965, 
    4.21360798304892, 2.2523438765573, 5.4971682252932, 6.98193467715639, 
    5.07517381523383, 6.85540879860993, 6.57088296233958, 3.34286180464919, 
    7.51643330291563, 5.51745289646471, 5.98393628068719, 5.28320372873799, 
    5.90263333340137, 3.3178157727231, 3.78872478908365, 4.71849887129509, 
    5.14166355650266, 2.24389609664537, 1.32707500145992, 1.14103300455206, 
    2.94968833505258, 0.871293365943419, 1.73342389221509, 3.69386699562498, 
    3.32503602069659, 4.01818320125654, 3.00568260440716, 4.01096295328305, 
    2.18605127673809, 1.31372366828506, 2.20386912005489, 2.08442908319087, 
    3.23867845216438, 3.37758751602302, 2.82731362192903, 1.64287268852034, 
    1.84530023615608, 2.04381436403668, 2.02551319965428)), .Names = c("Location.Month", 
"Gas", "Rate", "Month", "Location", "log(N2012$Rate)"), row.names = c(NA, 
-88L), class = "data.frame") 
```

代码

```
Data$Location = factor(Data$Location,c("HighBank", "LowBank", "Basin"))
Data$Gas = factor(Data$Gas,c("N2", "N2O"))
colvec<-c("blue", "yellow")
Data$Month = factor(Data$Month,c("July", "Aug", "Sept", "Oct"))
p <- ggplot(Data, aes(factor(Location),log(N2012$Rate), factor(Gas)))
pl <- p + geom_boxplot(fill="blue", width = 0.7) + geom_point()  
plo <- pl + scale_fill_manual(values=colvec) + facet_grid(Gas ~ Month)
plot <- plo + xlab("Location") + ylab("log(N2O ug N2O-N/m2/h)")  
plots <-plot + theme(axis.title.x = element_text(face="bold", colour="Black", size=15),
       axis.text.x  = element_text(angle=50, vjust=0.5, size=12, colour="Black"), 
    axis.title.y = element_text(face="bold", size=13), 
    axis.text.y = element_text(size=12, colour="black"))
plots 
```

谢谢，

-莎拉

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-08T19:54:24.467

给定您的数据集，您不再需要因子转换（因为发布的示例数据已经完成）。

我需要修改一些东西。首先，`log(N2012$Rate)`是一个非标准名称，因此必须在代码中用反引号括起来：``log(N2012$Rate)``. 此外，要获得填充箱线图的不同颜色，您需要分配`Gas`美学`fill`而不是在箱线图中覆盖它。

```
ggplot(Data, aes(Location, `log(N2012$Rate)`, fill=Gas)) +
  geom_boxplot(width = 0.7) + 
  geom_point() +
  facet_grid(Gas ~ Month) +
  scale_fill_manual(values=colvec) +
  xlab("Location") + 
  ylab("log(N2O ug N2O-N/m2/h)") + 
  theme(axis.title.x = element_text(face="bold", colour="Black", size=15),
        axis.text.x  = element_text(angle=50, vjust=0.5, size=12, colour="Black"), 
        axis.title.y = element_text(face="bold", size=13), 
        axis.text.y = element_text(size=12, colour="black")) 
```

![在此处输入图像描述](../Images/998a19eb9d46f7f9aaede904a50d7fc3.png)

# json - 有没有一种简单的方法可以使 GORM 错误变得宁静 api 友好

> ID：14778813
> 
> 赞同：1
> 
> 时间：2013-02-08T18:15:09.923
> 
> 标签：json, parsing, grails, grails-orm

我正在 GRAILS 中开发一个简单的 Restful API，我希望用户能够在我的一个域类上创建一个条目，这样他们就可以点击一个入口点 /rest/v1/create/event?params

在接收控制器中，如果 GORM 条目失败，!event.save()

我有这样的代码：

```
def result = [
    'status'    :   'error',
    'data'      :   event.errors.fieldErrors.toList()
]
render result as JSON 
```

有没有办法让 event.errors.fieldErrors JSON 友好，只有字段错误和消息，或者我必须编写一个解析器方法来处理这个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T20:00:08.940

最终编写了一个简短的方法来解析并产生友好的错误

如果有人觉得这很有用，这里是：

```
def gorm_errors(results) {
        results =  results.fieldErrors.toList()
        def errors = []
        for(error in results) {
            errors.add([
                'type' : 'invalid_entry', 
                'field' : error.field, 
                'rejected_value' : error.rejectedValue, 
                'message' : error.defaultMessage
            ])
        }
        return errors
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-14T19:12:09.187

这是上述示例的更“groovy-er”版本：

```
def gorm_errors(errors) {
    errors.fieldErrors.toList().collect {error ->
        [
            'type': 'invalid_entry', 
            'field': error.field, 
            'rejected_value': error.rejectedValue, 
            'message': error.defaultMessage
        ]
} 
```

# mysql - 在 SQL 中使用 ORDER BY 子句

> ID：14778815
> 
> 赞同：0
> 
> 时间：2013-02-08T18:15:10.847
> 
> 标签：mysql, sql

是否可以使用关键字来按结果在数据表中出现的次数对我的 SELECT QUERY 中的结果进行排序？

MySQL：

```
 SELECT * FROM interests ORDER BY (keyword) 
```

表值：

```
hiking
running
swimming
hiking
photography
swimming
hiking 
```

如果返回它们的顺序基于表中每个值出现的频率，它将是：

```
hiking
hiking
hiking
swimming
swimming
running
photography 
```

如果没有一个特定的关键字，我如何使用 SQL 来实现这一点？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-08T18:16:43.953

```
SELECT COUNT(keyword) AS cnt, keyword
FROM interested
GROUP BY keyword
ORDER BY cnt 
```

会按升序为您提供每个关键字的计数。但是你不会得到 3 个远足条目，2 个游泳，等等......只是`hiking,3`，，`swimming,2`等等......

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-08T18:18:23.897

```
SELECT  a.*
FROM    interests a
        INNER JOIN 
        (
            SELECT  keyword, COUNT(*) totalCount
            FROm    interests
            GROUP BY keyword
        ) b ON a.keyword = b.keyword
ORDER   BY b.totalCount DESC 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/4f937/4)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T19:55:42.840

```
 SELECT 
    t1.*,count(t1.keyword) 
    FROM 
    interests AS t1 INNER JOIN (
     SELECT 
            keyword,count(*) totalcount 
      FROM 
            interests GROUP BY keyword
      )t2 
ON t1.keyword=t2.keyword group by t1.keyword 
   ORDER BY t2.totalcount DESC 
```

[Sql Fiddle 演示](http://www.sqlfiddle.com/#!2/4f937/15)

# ruby - 如何在 Ruby 中获取父类的类名

> ID：14778816
> 
> 赞同：105
> 
> 时间：2013-02-08T18:15:12.310
> 
> 标签：ruby

假设我有一个类`A`并且`B`在哪里`B`继承`A`。如何打印父类名称`B`

```
class A
end

class B < A
end 
```

我尝试过的一些事情

```
>> B.new.class #=> B   #which is correct
>> B.new.parent  #=> Undefined method `parent`
>> B.parent   #=> Object
>> B.parent.class #=> Class 
```

谢谢 ：）

* * *

## 回答 #1

> 赞同：155
> 
> 时间：2013-02-08T18:16:37.677

```
class A
end

class B < A
end

B.superclass # => A
B.superclass.name # => "A" 
```

* * *

## 回答 #2

> 赞同：69
> 
> 时间：2014-09-05T05:26:08.447

如果您想要完整的祖先堆栈，请尝试：

```
object.class.ancestors 
```

例如：

```
> a = Array.new
=> []
> a.class.ancestors
=> [Array, Enumerable, Object, Kernel, BasicObject] 
```

* * *

## 回答 #3

> 赞同：22
> 
> 时间：2015-11-12T19:41:07.530

如果 google 将任何在 Rails 中工作的人带到这里，您可能想要的是`base_class`，因为它`superclass`也将遍历 ActiveRecord 继承结构。

```
class A < ActiveRecord::Base
end

class B < A
end

> A.superclass
=> ActiveRecord::Base
> B.superclass
=> A

> A.base_class
=> A
> B.base_class
=> A 
```

更深入...

```
class C < B
end

> C.base_class
=> A 
```

换句话说，`base_class`为您提供继承树的顶部，但仅限于应用程序的上下文。不过，公平的警告是，就 Rails 而言，“您的应用程序”包括您正在使用的任何 gem，因此如果您有一个模型子类化了 gem 中定义的某些东西，`base_class`则将返回 gem 的类，而不是您的类。

* * *

## 回答 #4

> 赞同：19
> 
> 时间：2014-07-11T20:37:44.797

给定一个对象（实例化类），您可以派生父类

```
>> x = B.new
>> x.class.superclass.name
=>"A" 
```

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2013-02-08T18:16:47.337

您要查找的术语是`superclass`. 事实上，你可以`B.superclass`做得到`A`。（您也可以`B.ancestors`获取它继承自的所有类和模块的列表——例如`[B, A, Object, Kernel, BasicObject]`.）

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2017-06-06T12:19:13.857

> 继承是两个类之间的关系。继承创建类之间的父子关系。它是一种代码重用机制，允许通过公共类和接口对原始软件进行独立扩展。继承的好处是层次结构较低的类可以获得较高层次的特性，但也可以添加它们自己的特定特性.

*在 Ruby 中，一个类只能从一个其他类继承。（即一个类可以从一个类继承自另一个类，而另一个类又继承于另一个类，但一个类不能同时从多个类继承）。BasicObject 类是 Ruby 中所有类的父类。因此，除非显式重写，否则它的方法可用于所有对象。*

> Ruby 通过使用 mixin 立即克服了单类继承。

我将尝试用一个例子来解释。

```
module Mux
 def sam
  p "I am an module"
 end
end
class A
  include Mux
end
class B < A
end
class C < B
end
class D < A
end 
```

您可以使用 class_name.superclass.name 进行跟踪并执行此过程，除非您在此层次结构中找到 BasicOject。BasicObject 是每个类的超类。让我们看看假设我们想要查看 C 类层次结构树。

```
 C.superclass
   => B
 B.superclass
  => A
 A.superclass
  => Object
 Object.superclass
  => BasicObject 
```

您可以看到 C 类的整个层次结构。请注意，使用这种方法您将找不到包含或附加在父类中的模块。

还有另一种方法可以找到包括模块在内的完整层次结构。根据 Ruby 文档的[祖先](https://ruby-doc.org/core-2.3.0/Module.html#method-i-ancestors)。返回 mod 中包含/前置的模块列表（包括 mod 本身）。

```
C.ancestors
 => [C, B, A, Mux, Object, Kernel, BasicObject] 
```

在这里，Mux 和 Kernel 是模块。

[http://rubylearning.com/satishtalim/ruby_inheritance.html](http://rubylearning.com/satishtalim/ruby_inheritance.html) [https://en.wikipedia.org/wiki/Inheritance_(object-oriented_programming)](https://en.wikipedia.org/wiki/Inheritance_(object-oriented_programming))

# javascript - 在 div 中添加 2 个按钮时，只有第二个有效

> ID：14778817
> 
> 赞同：0
> 
> 时间：2013-02-08T18:15:14.043
> 
> 标签：javascript, greasemonkey

使用greasemonkey 添加这两个按钮。我试过颠倒顺序，它总是第二个添加的按钮有效。另一个按钮不会触发 onclick 事件。

```
// Add the click to chat button
mydiv             = document.getElementById("optionalJobinfoData");
var btn           = document.createElement("input");
btn.type          = 'button';
btn.value         = 'Click to Chat';
btn.onclick       = function() { window.open(chatURL); };
mydiv.innerHTML  += "<i>Notify Dispatch</i><br><i>(stuck on job)</i>&nbsp;&nbsp;";
mydiv.appendChild(btn);

// Credentials button
mydiv             = document.getElementById("optionalJobinfoData");
btn               = document.createElement("input");
btn.type          = 'button';
btn.value         = 'Credentials';
btn.onclick       = function() { window.open(credsURL); };
mydiv.innerHTML  += "<br><br><i>DSL Credentials</i> ";
mydiv.appendChild(btn); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T18:24:52.107

问题在于做 mydiv.innerHTML += ...

它类似于这里的答案。 [操作innerHTML 会移除子元素的事件处理程序？](https://stackoverflow.com/questions/5113105/manipulating-innerhtml-removes-the-event-handler-of-a-child-element)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T18:26:14.630

```
// Add the click to chat button
mydiv             = document.getElementById("optionalJobinfoData");
var btn           = document.createElement("input");
btn.type          = 'button';
btn.id            = 'openChat';
btn.value         = 'Click to Chat';
mydiv.innerHTML  += "<i>Notify Dispatch</i><br><i>(stuck on job)</i>&nbsp;&nbsp;";
mydiv.appendChild(btn);

// Credentials button
mydiv             = document.getElementById("optionalJobinfoData");
btn               = document.createElement("input");
btn.type          = 'button';
btn.value         = 'Credentials';
btn.id            = 'openCreds';
mydiv.innerHTML  += "<br><br><i>DSL Credentials</i> ";
mydiv.appendChild(btn);

document.getElementById("openCreds").onclick = function() { window.open(credsURL); };
document.getElementById("openChat").onclick = function() { window.open(chatURL); }; 
```

以上应该可以正常工作。问题是`innerHTML +=`基本上重新创建对象。并且指向 onclick 函数处理程序的指针因此丢失（类型、值等是 HTML 的一部分，但 innerHTML 无法获取指向 onclick 函数的指针）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T18:37:58.883

以下行导致问题：

```
mydiv.innerHTML  += "<br><br><i>DSL Credentials</i> "; 
```

这和这样做是一样的：

```
var oldHTML = mydiv.innerHTML;
var newHTML = oldHTML + "<br><br><i>DSL Credentials</i> ";

// This destroys everything inside the div and re-creates it based on the innerHTML.
mydiv.innerHTML = newHTML; 
```

它基本上是破坏 div 内的任何元素并根据 html 源代码重新创建它们。但是，onclick 代码不包含在 innerHTML 中。

# javascript - 如果文本存在，则重新加载页面

> ID：14778821
> 
> 赞同：0
> 
> 时间：2013-02-08T18:15:36.250
> 
> 标签：javascript, jquery

我正在尝试在页面上搜索文本，如果找到文本，请重新加载页面。

```
<p class="textmedium">These are the droids I'm looking for</p> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T18:17:38.813

这应该这样做：

```
if($('*:contains("These are the droids I\'m looking for")').length > 0) {
    document.href.location = document.href.location; // refresh the page
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T18:18:21.210

我会说：

```
$("p.textmedium").each(function() {
    if ($(this).html == "These are the droids I'm looking for") window.location.reload();
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T18:20:38.510

用户 jquery 的 javascript：

```
<p class="textmedium" id="ptag" >These are the droids I'm looking for</p>

<script type="text/javascript" >

var text = $("#ptag").html();

var isFound = text.search(/word-you-are-searching-for/i);
if(isFound){
    document.href="page you redirect to";
}
</script> 
```

# html - Struts 2 示例不工作

> ID：14778826
> 
> 赞同：0
> 
> 时间：2013-02-08T18:16:06.773
> 
> 标签：html, jsp, struts2

我是struts2的新手。我正在尝试一个小的练习应用程序，但我遇到了一个问题。

我试图直接从 index.jsp 转发到`login.jsp`. 我知道我可以直接转发到 login.jsp 但下面的代码也应该是有效的。我附上了我正在尝试的代码。下面是我正在尝试的代码。

索引.jsp

```
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Home</title>
</head>
<body>
       <jsp:forward page="login.action" />
</body>
</html> 
```

struts.xml

```
<struts>
<include file="example.xml"/>
<!-- Configuration for the default package. -->
<package name="default" extends="struts-default">
    <action name="login">
        <result>/login.jsp</result>
</action>
</package>
</struts> 
```

登录.jsp

```
 <%@page contentType="text/html" pageEncoding="UTF-8"%>
 <%@taglib prefix="s" uri="/struts-tags" %>
<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
         <title>JSP Page</title>
</head>
<body>
    <s:form>
        <s:textfield name="user" label="User Name" />
        <s:password name="passwd" label="Password" />
    </s:form>
</body>
</html> 
```

在 web.xml 中，index.php 页面设置为欢迎页面。假设 XYZ 是上下文名称，当我将`/XYZ/login`其放入登录页面时，但当我放入`/XYZ/`浏览器时，它给出并且找不到资源错误。

当我`<META HTTP-EQUIV="Refresh" CONTENT="0;URL=login.action">`再次使用它工作正常。

我正在使用 tomcat7 作为 Web 服务器。为什么会这样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-11T14:40:48.170

默认情况下，并非所有容器都对非 JSP 资源执行 FORWARD `<jsp:forward/>`- 要说容器执行此操作，请将以下映射添加到 web.xml：

```
<filter-mapping>
    <filter-name>struts2</filter-name>
    <url-pattern>/*</url-pattern>
    <dispatcher>REQUEST</dispatcher>
    <dispatcher>FORWARD</dispatcher>
</filter-mapping> 
```

# javascript - Javascript - 从 HTML 获取动态名称

> ID：14778827
> 
> 赞同：0
> 
> 时间：2013-02-08T18:16:17.973
> 
> 标签：javascript, html

我需要弄清楚如何让我的 javascript 动态地接受选择的名称。我该怎么办？

我试过尝试 var i = getElementsByName() 然后 if (i == "x) ... else .... 没有结果

我的Javascript：

```
function displayResult()
{
   var m=document.getElementsByName("x");
   document.getElementById('divid').innerHTML = m[0].value;
} 
```

我的HTML：

```
 <form>
       <select name = x>
         <option> a </option>
         <option> b </option>
         <option> c </option>
       </select>
       <select name = y>
         <option> 2 </option>
         <option> 3 </option>
         <option> 4 </option>
       </select>
     </form> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T18:20:58.447

最简单的解决方案是使用 jQuery [http://jquery.com](http://jquery.com)

```
var myx = "x";
var elems = $("select[name=" + myx + "]"); 
```

还有使用纯 Javascript 的新浏览器 API：

```
var elems = document.querySelectorAll("select[name=x]") 
```

[https://developer.mozilla.org/en-US/docs/DOM/Document.querySelectorAll](https://developer.mozilla.org/en-US/docs/DOM/Document.querySelectorAll)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T18:28:42.780

所以你需要那个 x 是“动态的”。我不太明白你的意思，但我猜你想在每次调用函数时指定另一个名称。这就是函数参数的用途。
将您的功能更改为：

```
function displayResult(name)
{
   var m=document.getElementsByName(name);
   document.getElementById('divid').innerHTML = m[0].value;
} 
```

现在您可以使用以下方法调用该函数：

```
displayResult("x"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T18:19:33.850

我认为您真正要寻找的是：

```
var nodes = document.getElementsByTagName('select');
var names = new Array();
for(i=0,c=nodes.length;i<c;i++){
    names.push(nodes[i].name);
} 
```

此代码将生成一个数组`names`，其中包含页面上显示的选择名称

# matlab - matlab -- fminsearch 与矩阵的使用

> ID：14778830
> 
> 赞同：-1
> 
> 时间：2013-02-08T18:16:30.780
> 
> 标签：matlab

如果我有一个功能，例如：

```
k=1:100
func=@(s) sum(c(k)-exp((-z(k).^2./s))) 
```

其中 c 和 z 是具有相同大小的矩阵（例如 1x100），有没有办法使用 fminsearch 来查找“s”值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T18:50:32.903

我猜你想找到`argmin`你的符号函数， [在数组中使用最大值和最小值的索引](https://stackoverflow.com/questions/14556733/matlab-argmax-and-argmin)

或者

[Marco Cococcioni 的 ARGMAX/ARGMIN](http://www.mathworks.com/matlabcentral/fileexchange/24210-argmaxargmin/content/argmax.m)：

```
function I = argmax(X, DIM)
%ARGMAX    Argument of the maximum
%   For vectors, ARGMAX(X) is the indix of the smallest element in X. For matrices,
%   MAX(X) is a row vector containing the indices of the smallest elements from each
%   column. This function is not supported for N-D arrays with N > 2.
%
%   It is an efficient replacement to the use of [Y,I] = MAX(X,[],DIM);
%   See ARGMAX_DEMO for a speed comparison.
%
%   I = ARGMAX(X,DIM) operates along the dimension DIM (DIM can be 
%   either 1 or 2).
%
%   When complex, the magnitude ABS(X) is used, and the angle
%   ANGLE(X) is ignored. This function cannot handle NaN's.
%
%   Example:
%       clc
%       disp('If X = [2 8 4; 7 3 9]');
%       disp('then argmax(X,1) should be [2 1 2]')
%       disp('while argmax(X,2) should be [2 3]''. Now we check it:')
%       disp(' ');
%       X = [2 8 4; 
%            7 3 9]
%       argmax(X,1)
%       argmax(X,2)
%
%   See also ARGMIN, ARGMAXMIN_MEX, ARGMAX_DEMO, MIN, MAX, MEDIAN, MEAN, SORT.

%   Copyright Marco Cococcioni, 2009.
%   $Revision: 1.0 $  $Date: 2009/02/16 19:24:01$

if nargin < 2,
    DIM = 1;
end

if length(size(X)) > 2,
    error('Function not provided for N-D arrays when N > 2.');
end

if (DIM ~=1 && DIM ~= 2),
    error('DIM has to be either 1 or 2');
end

if any(isnan(X(:))),
    error('Cannot handle NaN''s.');    
end

if not(isreal(X)),
    X = abs(X);
end

max_NOT_MIN = 1; % computes argmax
I = argmaxmin_mex(X, DIM, max_NOT_MIN); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T18:58:59.340

`fminsearch`在第二个参数中需要一个初始条件，而不是边界条件（尽管某些选项可能支持边界）。

打电话

```
 fminsearch(func,-0.5) 
```

您在向量中看到的示例是跨多个系数的多维搜索，并且向量是每个系数的初始值。不限制搜索空间。

你也可以使用

```
fminbnd(func, -0.5, 1); 
```

它执行约束最小化。

但我认为你应该最小化误差的范数，而不是总和（最小化总和会导致很大的误差幅度——非常非常负）。

如果您有优化工具箱，那么`lsqnonlin`可能会很有用。

# ios - 表视图设计问题

> ID：14778832
> 
> 赞同：1
> 
> 时间：2013-02-08T18:16:42.543
> 
> 标签：ios, uitableview, uiview, uitextfield, storyboard

我的应用程序设计需要一个显示“用户信息”的页面，我目前使用视图控制器中的简单表格视图进行此设置。现在，棘手的是我需要能够向用户提供功能，以便能够在同一个屏幕上编辑它们。所以基本上当用户点击表格视图中的一行时，我希望在行中当前文本的末尾有那个闪烁的小文本行，这样用户就可以编辑当前存在的内容，我还希望一个保存按钮出现在用户开始编辑时的顶部。棘手的部分是，并非我的表格视图中的所有字段都是可编辑的。所以，我需要某些字段是可编辑的，并显示保存按钮，而某些字段不显示。你能告诉我如何修改我现有的设计来实现这个功能吗？如果您认为您可以向我展示我将如何做事，我将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:45:49.270

您可能想要制作一些自定义 UITableViewCells。您可以同时使用各种大小不同、外观不同的不同单元格填充 tableview。我会建议一个自定义 UITableViewCell 将 UITextField 作为子视图之一。在您不希望用户与文本字段交互的单元格上，创建一个使用 UILabel 的新自定义单元格，或者只执行 textfield.userInteractionEnabled = NO。查找一些自定义 uitableviewCell 教程以帮助您入门，然后使用我针对您的问题建议的方法。

# iphone - UIImageView+AFNetworking 经常（但不总是）无法在 UITableViewCell 中加载

> ID：14778838
> 
> 赞同：0
> 
> 时间：2013-02-08T18:16:50.117
> 
> 标签：iphone, objective-c, afnetworking, xcode4.6

UIImageView+AFNetworking 在我的 UITableViewCell 中一直运行良好。图像在滚动时可以巧妙地加载，并且很少无法加载。最近，它停止了正常工作。有没有其他人经历过这个？这个 UIImageView 类别是否从未打算在 UITableView 中工作？

一些细节：我的 UIImageView 位于 Storyboard 中的 UITableViewCell 内。我`setImageWithURL:`从方法内部调用`cellForRowAtIndexPath:`。

当切换到 AFNetworking 1.0 时，问题似乎已经开始，特别是在迁移到 Xcode 4.6 和针对 iOS 6.1 SDK 构建时。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T19:39:04.927

使用[SDWebImage](https://github.com/rs/SDWebImage)，完美替代 AFNetworking 并完美兼容 iOS 6.1。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T19:30:53.873

切换到 AsyncImageView 库，以完全相同的方式（从内部`cellForRowAtIndexPath:`）使用它，从那以后我没有遇到任何问题。可能是 AFNetworking + iOS 6.1 错误...很想知道其他人是否有类似的问题。

# c# - 字符串ctor是转换IEnumerable的最快方法吗 串起来

> ID：14778840
> 
> 赞同：11
> 
> 时间：2013-02-08T18:17:07.040
> 
> 标签：c#, performance

**针对 .Net Core 2.1 的发布进行了编辑**

重复测试.Net Core 2.1的发布，我得到这样的结果

> “Concat”的 1000000 次迭代耗时 842 毫秒。
> 
> “新字符串”的 1000000 次迭代耗时 1009 毫秒。
> 
> “sb”的 1000000 次迭代耗时 902 毫秒。

简而言之，如果您使用的是 .Net Core 2.1 或更高版本，`Concat`则为王。

* * *

我已经**编辑**了这个问题，以纳入评论中提出的有效观点。

* * *

我正在思考[我对上一个问题的回答](https://stackoverflow.com/a/10244306/659190)，我开始怀疑，这是，

```
return new string(charSequence.ToArray()); 
```

将 a转换`IEnumerable<char>`为`string`. 我做了一点搜索，发现这个问题已经[在这里](https://stackoverflow.com/questions/11654190/ienumerablechar-to-string)问过了。该答案断言，

```
string.Concat(charSequence) 
```

是更好的选择。在回答了这个问题之后，`StringBuilder`还建议了一种枚举方法，

```
var sb = new StringBuilder();
foreach (var c in chars)
{
    sb.Append(c);
}

return sb.ToString(); 
```

虽然这可能有点笨拙，但为了完整起见，我将其包括在内。我决定我应该做一个小测试，使用的代码在底部。

当在发布模式下进行优化，并在没有附加调试器的情况下从命令行运行时，我会得到这样的结果。

> “Concat”的 1000000 次迭代耗时 1597 毫秒。
> 
> “新字符串”的 1000000 次迭代耗时 869 毫秒。
> 
> “sb”的 1000000 次迭代耗时 748 毫秒。

据我估计，该方法`new string(...ToArray())`的速度几乎是该方法的两倍`string.Concat`。`StringBuilder`仍然稍微快一点，但是使用起来很尴尬，但可以作为扩展。

我应该坚持`new string(...ToArray())`还是，我错过了什么？

```
using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.Linq;
using System.Text;

class Program
{
    private static void Main()
    {
        const int iterations = 1000000;
        const string testData = "Some reasonably small test data";

        TestFunc(
            chars => new string(chars.ToArray()),
            TrueEnumerable(testData),
            10,
            "new String");

        TestFunc(
            string.Concat,
            TrueEnumerable(testData),
            10,
            "Concat");

        TestFunc(
            chars =>
            {
                var sb = new StringBuilder();
                foreach (var c in chars)
                {
                    sb.Append(c);
                }

                return sb.ToString();
            },
            TrueEnumerable(testData),
            10,
            "sb");

        Console.WriteLine("----------------------------------------");

        TestFunc(
            string.Concat,
            TrueEnumerable(testData),
            iterations,
            "Concat");

        TestFunc(
            chars => new string(chars.ToArray()),
            TrueEnumerable(testData),
            iterations,
            "new String");

        TestFunc(
            chars =>
            {
                var sb = new StringBuilder();
                foreach (var c in chars)
                {
                    sb.Append(c);
                }

                return sb.ToString();
            },
            TrueEnumerable(testData),
            iterations,
            "sb");

        Console.ReadKey();
    }

    private static TResult TestFunc<TData, TResult>(
            Func<TData, TResult> func,
            TData testData,
            int iterations,
            string stage)
    {
        var dummyResult = default(TResult);

        var stopwatch = Stopwatch.StartNew();
        for (var i = 0; i < iterations; i++)
        {
            dummyResult = func(testData);
        }

        stopwatch.Stop();
        Console.WriteLine(
            "{0} iterations of \"{2}\" took {1}ms.",
            iterations,
            stopwatch.ElapsedMilliseconds,
            stage);

        return dummyResult;
    }

    private static IEnumerable<T> TrueEnumerable<T>(IEnumerable<T> sequence)
    {
        foreach (var t in sequence)
        {
            yield return t;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-11T17:55:25.550

值得注意的是，这些结果虽然从纯粹主义者的角度来看对于 IEnumerable 的情况是正确的，但并不总是如此。例如，如果您实际上有一个 char 数组，即使您将其作为 IEnumerable 传递，调用字符串构造函数也会更快。

结果：

```
Sending String as IEnumerable<char> 
10000 iterations of "new string" took 157ms. 
10000 iterations of "sb inline" took 150ms. 
10000 iterations of "string.Concat" took 237ms.
======================================== 
Sending char[] as IEnumerable<char> 
10000 iterations of "new string" took 10ms.
10000 iterations of "sb inline" took 168ms.
10000 iterations of "string.Concat" took 273ms. 
```

编码：

```
static void Main(string[] args)
{
    TestCreation(10000, 1000);
    Console.ReadLine();
}

private static void TestCreation(int iterations, int length)
{
    char[] chars = GetChars(length).ToArray();
    string str = new string(chars);
    Console.WriteLine("Sending String as IEnumerable<char>");
    TestCreateMethod(str, iterations);
    Console.WriteLine("===========================================================");
    Console.WriteLine("Sending char[] as IEnumerable<char>");
    TestCreateMethod(chars, iterations);
    Console.ReadKey();
}

private static void TestCreateMethod(IEnumerable<char> testData, int iterations)
{
    TestFunc(chars => new string(chars.ToArray()), testData, iterations, "new string");
    TestFunc(chars =>
    {
        var sb = new StringBuilder();
        foreach (var c in chars)
        {
            sb.Append(c);
        }
        return sb.ToString();
    }, testData, iterations, "sb inline");
    TestFunc(string.Concat, testData, iterations, "string.Concat");
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T19:32:36.583

好吧，我刚刚写了一个小测试，尝试了 3 种从 IEnumerable 创建字符串的不同方法：

1.  使用`StringBuilder`并重复调用其`Append(char ch)`方法。
2.  使用`string.Concat<T>`
3.  使用`String`构造函数。

生成随机 1,000 个字符序列并从中构建字符串的 10,000 次迭代，我在发布版本中看到以下时间：

*   Style=StringBuilder 经过的时间是 00:01:05.9687330 分钟。
*   Style=StringConcatFunction 已用时间为 00:02:33.2672485 分钟。
*   Style=StringConstructor 经过的时间是 00:04:00.5559091 分钟。

`StringBuilder`明显的赢家。不过，我使用的是静态`StringBuilder`（单例）实例。不知道这是否有很大的不同。

这是源代码：

```
using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.Linq;
using System.Security.Cryptography;
using System.Text;

namespace ConsoleApplication6
{
  class Program
  {

    static readonly RandomNumberGenerator Random = RandomNumberGenerator.Create() ;

    static readonly byte[] buffer = {0,0} ;

    static char RandomChar()
    {
      ushort codepoint ;
      do
      {
        Random.GetBytes(buffer) ;
        codepoint = BitConverter.ToChar(buffer,0) ;
        codepoint &= 0x007F ; // restrict to Unicode C0 ;
      } while ( codepoint < 0x0020 ) ;
      return (char) codepoint ;
    }

    static IEnumerable<char> GetRandomChars( int count )
    {
      if ( count < 0 ) throw new ArgumentOutOfRangeException("count") ;

      while ( count-- >= 0 )
      {
        yield return RandomChar() ;
      }
    }

    enum Style
    {
      StringBuilder = 1 ,
      StringConcatFunction = 2 ,
      StringConstructor = 3 ,
    }

    static readonly StringBuilder sb = new StringBuilder() ;
    static string MakeString( Style style )
    {
      IEnumerable<char> chars = GetRandomChars(1000) ;
      string instance ;
      switch ( style )
      {
      case Style.StringConcatFunction :
        instance = String.Concat<char>( chars ) ;
        break ;
      case Style.StringBuilder : 
        foreach ( char ch in chars )
        {
          sb.Append(ch) ;
        }
        instance = sb.ToString() ;
        break ;
      case Style.StringConstructor :
        instance = new String( chars.ToArray() ) ;
        break ;
      default :
        throw new InvalidOperationException() ;
      }
      return instance ;
    }

    static void Main( string[] args )
    {
      Stopwatch stopwatch = new Stopwatch() ;

      foreach ( Style style in Enum.GetValues(typeof(Style)) )
      {
        stopwatch.Reset() ;
        stopwatch.Start() ;
        for ( int i = 0 ; i < 10000 ; ++i )
        {
          MakeString( Style.StringBuilder ) ;
        }
        stopwatch.Stop() ;
        Console.WriteLine( "Style={0}, elapsed time is {1}" ,
          style ,
          stopwatch.Elapsed
          ) ;
      }
      return ;
    }
  }
} 
```

# c# - wpf中的神秘msChart

> ID：14778848
> 
> 赞同：0
> 
> 时间：2013-02-08T18:17:36.223
> 
> 标签：c#, wpf, charts

当我在**Chart.Axes中****滚动****滚轮**时，我想缩放**图表**。但有时滚动不起作用。前任：******![在此处输入图像描述](../Images/3241cac5b5c0db320f8883cb3b5a3ac1.png)******

 *******位置 1：*我滚动滚轮，我的图表缩放但是！ *位置 2：*我滚动了整个世界，图表没有缩放！

为什么？我能做些什么 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T09:26:11.967

当我们创建 msChart (XAML) - 在 LinearAxis 中，我们将属性背景设置为透明******

# python - Curve_fit 不收敛意味着......？

> ID：14778852
> 
> 赞同：0
> 
> 时间：2013-02-08T18:17:43.547
> 
> 标签：python, curve-fitting

我需要将天文坐标列表与不同的目录进行交叉匹配，并且我想确定交叉匹配的最大半径。这将避免我的列表和目录之间的不匹配。

为此，我计算列表中每个对象的最佳匹配与目录之间的分离。我的初始列表应该是一个已知对象的位置，但它可能会在目录中未检测到，并且我的坐标可能会受到小偏移的影响。

他们计算最大半径的方法是通过用高斯拟合分离的高斯核密度，并使用中心 + 3sigmas 值。该方法适用于大多数情况，但是当我的列表的一小部分子样本有偏移时，我有两个高斯。在这些情况下，我将以不同的方式指定最大半径。

我的问题是，当这种情况发生时，curve_fit 通常不能用一个高斯拟合。对于科学出版物，我需要证明 curve_fit 中的“不适合”，在这种情况下使用“不同的方式”。有人可以帮我了解这在数学上的含义吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T19:54:33.187

您可以根据不同的长度来证明这个或那个合适的 ansatz ---这在很大程度上取决于您的具体案例的细节（例如：您为什么希望高斯首先工作？您需要什么深度/想深入研究为什么某个拟合程序会失败以及究竟什么是失败等）。

如果问题真的是关于 curve_fit 及其无法收敛的问题，那么请向我们展示一些代码和一些输入数据来证明该问题。

如果问题是关于如何评估拟合优度，你最好还是回到图书馆挑选一本关于统计学的好书。

如果您要寻找的只是证明为什么在某种情况下高斯不是一个很好的拟合 ansatz 的方法，那么一种方法是计算矩：对于高斯分布，第 1、第 2、第 3 和更高的矩彼此[相关](http://en.wikipedia.org/wiki/Normal_distribution#Moments)一个非常精确的方法。如果您可以证明对于您的基础数据，矩之间的关系非常不同，那么这些数据不能用高斯拟合听起来是合理的。

# java - 为什么当 set 为空时 set1 为空？

> ID：14778855
> 
> 赞同：0
> 
> 时间：2013-02-08T18:17:52.950
> 
> 标签：java, database, jdbc

在下面的代码片段中，我执行一个查询并将结果集传递给`set`. 然后将`set`分配给`set1`。之后有一个 while 循环，一直持续到`set.next`返回`false`。是否如果`set.next`在循环后返回 false ，`set1`也会返回 false ？

```
ResultSet set = statement.executeQuery();
ResultSet set1 = set;
while (set.next()) {
    if (set.getString(1).equalsIgnoreCase(keyword)) { 
        // If the search matches the exact keyword
        list.put(set.getString(2), set.getString(1));
        // Where key is the name of the node and value is, name of the file
    }
} 
```

我问这个是因为：

```
while (set1.next()) {
    System.out.println("@@@Inside the while statement@@@");
    if (set1.getString(1).contains(keyword) 
    && set1.getString(1).compareToIgnoreCase(keyword) !=0) { 
        // If the search contains the keyword but does not exactly match
        list.put(set.getString(2), set.getString(1));
        // Where key is the name of the node and value is, name of the file
        System.out.println("@@@Inside the if statement of second while loop !@@@");
    }
} 
```

这种`while`构造永远不会起作用。是这个原因吗？如果是这样，我该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:55:50.720

您有两个主要错误：

1.  分配`set`给`set1`不会复制 - 它是同一组
2.  `String.contains()`区分*大小写*（您的代码与您的注释不匹配）

修复方法是：

1.  不要使用两个循环 - 只使用一个循环
2.  使用``toLowerCase()`with`contains()`实现“不区分大小写的包含”测试
3.  此外，如果您的第一个测试是真的，那么您的第二个测试也是如此，所以无论如何您都不需要两个测试/循环

试试这个代码：

```
 ResultSet set = statement.executeQuery();
   while(set.next()) {
       if(set.getString(1).toLowerCase()
              .contains(keyword.toLowerCase)) {
           list.put(set.getString(2), set.getString(1));
       }
   } 
```

另外，不要将地图称为“列表” - 将其称为“地图”，否则只会让代码的读者感到困惑。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T18:28:20.530

> *是否如果`set.next`在循环后返回 false ，`set1`也会返回 false ？*

**是**的。因为指的`set1`是指的是同一个对象。因此，被引用的对象所表现出的任何行为也将被反映。在你的第一个while循环中，被引用的对象在迭代所有记录后完全耗尽（使用set.next()）。此后，无论哪个变量（set 或 set1）尝试读取更多内容，都将得到.`Resultset``set``ResultSet``set``set1``ResultSet``set``.next()``false`

如果在您的第​​一个 while 循环构造中，我使用变量检查并`.next()`使用`set`变量获取结果，`set1`它仍然可以工作。试试这个代码而不是你的第一个构造，你会看到输出和你在第一个 while 构造中写的一样：

```
ResultSet set = statement.executeQuery();
       ResultSet set1 = set;
       while(set.next()) {
           if(set1.getString(1).equalsIgnoreCase(keyword)) { // If the search matches the exact keyword
               list.put(set1.getString(2), set1.getString(1));
               // Where key is the name of the node and value is, name of the file
           }
       } 
```

如果您仍想`set1`返回结果，您应该`ResultSet`使用以下方法重建一个新对象：

```
set1 = stat.executeQuery() 
```

在哪里，`stat`是`Statement/PreparedStatement`您在代码中使用的任何内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T18:25:38.780

`set1`是对指向的同一个对象的引用`set`。如果你想再次迭代`ResultSet`，你需要使用类似的方法将迭代器光标再次移动到开头：

```
set.beforeFirst(); 
```

在 Java 中，将变量分配给对象不会复制对象，它只会引用内存中的对象。如果你想独立工作`set`，你必须明确地制作一个对象的副本。`set1`

在您的特定用例中，我认为这不是您想要的，只是移动迭代光标似乎更好。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T18:23:32.030

你可以尝试这样做。

```
 ResultSet set1 = statement.executeQuery(); 
```

# java - 对 Java 中的扩展类感到困惑

> ID：14778861
> 
> 赞同：-1
> 
> 时间：2013-02-08T18:18:09.337
> 
> 标签：java, class, abstract, extends

我对扩展课程有些困惑。我认为解释我想做的最好的方法是使用一些骨架代码：

```
abstract class Player
{
  public int solve()
  { // One method of solving problem
  }
}

class otherPlayer extends Player
{ 
  public char solve(int num)
  { //Different method of solving same problem
  }
}

// I suspect this is a wrong way to create Player
Player first = new otherPlayer;
// Because this gives me an error...
first.solve(5)'
// And this uses the super class's method of solving problem
first.solve();
// I don't want to do this though...
otherPlayer first = new otherPlayer;

// Because I actually define the Players in a method
// that returns a type Player():
private Player genPlayer()
{ // Take input from keyboard
  Player newPlayer;
  if (specific set of answers)
    newPlayer = new otherPlayer();
  else newPlayer = new Player();

  return newPlayer;
} 
```

我对扩展类的理解是有限的。如果我说“TypeA var = new TypeB”，而 TypeB 扩展了 TypeA，那么 var 似乎只能访问 TypeA 类中的方法。它是做什么的，那么说它是一个新的TypeB？为什么这甚至是实例化变量的合法方式？你会如何建议我重组这个程序以便让它工作（我宁愿保留这个方法，这样我每次创建播放器时都不必弄得一团糟）？

我真的只是想知道如何创建一个扩展类，就好像我是一个知道自己在做什么的人一样。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:21:24.203

的重点`TypeA a = new TypeB()`是对合同进行编程。这意味着您可以更改`TypeB`为任何其他类型，`extends TypeA`并保证不必更改任何其他代码行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T18:26:09.730

您需要执行以下操作：

```
abstract class Player {
    abstract void solve(int num);
}

class OtherPlayer extends Player {
    void solve(int num) {
        //...
    }
} 
```

也就是说，要通过 type 的变量调用方法`Player`，至少必须在该类上声明其签名 - 并且必须在所有子类中实现。无法使用超类类型的变量调用子类中可能存在或不存在的方法。

想象一下你可以这样做：

```
class Player {
    // ...
}

class FooPlayer extends Player {
    void solveInt(int num) { 
        // ... 
    }
}

class BarPlayer extend Player {
    void solveString(String s) {
        // ...
    }
}

Player[] players = new[] {new FooPlayer(), new BarPlayer()};
// this is the sort of code you want to work
for (Player p : players) {
    p.solveInt(123);
} 
```

调用该方法时应该发生什么`BarPlayer`？如您所见，允许这样做没有多大意义。

虽然明确地做不是很有用`Player player = new FooPlayer()`，但它确实让您不必知道`Player`值的确切子类型。忽略了查看子类型之间不同的方法的要点——多态性的要点是*相同的方法*（即具有相同的签名）在子类之间以*不同的方式*实现：

```
class Player {
    abstract String greet();
}

class EnglishPlayer extends Player {
    String greet() {
        return "Hello";
    }
}

class JapanesePlayer extends Player {
    String greet() {
        return "Konnichi wa";
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T18:22:55.153

首先，您在实例化语法中遇到错误。应该是`new otherPlayer()`。java中的类也应该大写。我假设代码在一个方法中，否则它不会编译。最后，回答您为什么要扩展一个类的问题，如果 otherPlayer 有自己的实现`solve()`（无参数），那么将调用哪个方法将取决于您使用的实例化，而不是变量类型。换句话说，first.solve() 将在 otherPlayer 中调用该方法，而不是在 player 中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T18:23:25.913

扩展是关于超类和子类的。

如果 typeA 是 typeB 的子类，那么你可以说

typeA继承了typeB，typeA继承了typeB的所有方法

它只有一种方式，有点像孩子可以从父母那里继承特征，但父母不会从孩子那里继承任何东西

如果您希望子类中的方法与父类中的方法行为不同，只需编写一个具有相同名称/参数的新方法。子类方法自动覆盖超类方法。那么，如果你想使用方法的超类版本，你可以使用 super 关键字

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-08T18:23:30.650

继承是在你扩展一个类时发生的事情，你需要找出你想要在你的类和子类中使用的通用方法，并在你的子类中定义任何替代方法。

查看更多信息：[http ://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html](http://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-08T18:25:49.423

您将“first”声明为引用 otherPlayer 对象的 Player 引用。这是合法的，但如果你想要 otherPlayer 行为，你将不得不 typecat 'first': ((otherPlayer)first).solve(5)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-08T18:50:36.810

首先，你不能实例化抽象类，所以你不能编码`newPlayer = new Player();`。

`ClassA a = new ClassB();`然后，只要 ClassB 是 ClassA 的子类并且 ClassB 不是抽象类，写类似的东西是完全合法的。

如果您在 ClassB 中有一个方法覆盖 ClassA 的方法，该方法的调用取决于对象的动态类型，实际上是您用于实例化该对象的类型，这称为多态性。网上有很多关于这方面的资料（面向对象编程和 Java），但我认为一个很好的起点是 Bruce Eckel 的 Thinking in Java 一书，他在他的网站上免费提供了第三版（[http ://www.mindview.net/Books/TIJ/](http://www.mindview.net/Books/TIJ/)）。

# sql - 启动蟾蜍智能感知

> ID：14778864
> 
> 赞同：5
> 
> 时间：2013-02-08T18:18:23.210
> 
> 标签：sql, intellisense, toad

在 Toad 中输入查询时，它通常会弹出一个智能感知滚动框来帮助我输入。

但有时这不会出现。是否有捷径（如在 Visual Studio 中）来启动它？

**编辑**我发现键映射是 CTRL+。

对于像这样的查询

```
SELECT * FROM Person AS P
WHERE P. -- I expect intellisense to show me the columns. 
         -- Sometimes it does not and pressing the CTRL+. does nothing 
```

按 CTRL+。远离查询会带来很长的列表，例如 -

> @@CONNECTIONS @@CPU_BUSY @@CURSOR_ROWS @@DATEFIRST @@DBTS @@ERROR

我有正确的快捷键吗？

是不是上面的查询中 Toad 无法弄清楚列名的问题？

**编辑 2**

非常奇怪的行为

如果我有

```
USE DB1
SELECT * FROM Person AS P
WHERE P.--I get the intellisense 
```

但是，如果我在编辑器中有以下内容 -

```
USE DB1
SELECT * FROM Person AS P
WHERE P.--I get the intellisense

USE DB2 
SELECT * FROM Company AS C
WHERE C. -- No intellisense 
```

**我自己的答案中的以下解决方案**

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-08T18:48:15.380

我建议你使用`CTRL+T`组合。我使用它并且它有效。[戴尔官方支持](https://support.quest.com/SolutionDetail.aspx?id=SOL47923)也同意[这里](https://support.quest.com/SolutionDetail.aspx?id=SOL6776)。Toad 并不是提供最佳用户体验的最佳软件 :)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-10T17:44:26.517

It seems if there is a second USE on the page intellisense will not work with queries below the second USE!

If I have

```
USE DB1
SELECT * FROM Person AS P
WHERE P.--I get the intellisense 
```

BUT if I have the following in the editor -

```
USE DB1
SELECT * FROM Person AS P
WHERE P.--I get the intellisense

USE DB2 
SELECT * FROM Company AS C
WHERE C. -- No intellisense 
```

It seems if there is a second USE on the page intellisense will not work with queries below the second USE!

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T18:35:22.890

CTRL-TAB 会为你带来它。

希望这可以帮助！

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2016-09-29T13:21:19.780

您必须完成第一个查询才能在第二个查询中获得智能感知。因此，如果您完成第一个查询，即

```
USE DB1
SELECT * FROM Person AS P
WHERE P.FirstName = ‘Sanket’ 
```

然后只有你可以在第二个查询中获得智能感知。

```
USE DB2 
SELECT * FROM Company AS C
WHERE C. --Get the intellisense 
```

# javascript - 在 Javascript 中触发 DOMContentLoaded 时，如何找出正在执行的内容？

> ID：14778866
> 
> 赞同：3
> 
> 时间：2013-02-08T18:18:25.013
> 
> 标签：javascript, document-ready, domcontentloaded

有没有办法获取在触发 DOMContentLoaded 或 jQuery 的 $(document).ready() 函数时将执行的所有代码。

我正在尝试优化我的网站，通过速度测试，我发现页面加载时间的 2 秒用于处理触发 DOMContentLoaded 时的事件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T18:21:00.233

我强烈推荐 Chrome profiler 来完成这个任务：

[http://www.youtube.com/watch?v=OxW1dCjOstE](http://www.youtube.com/watch?v=OxW1dCjOstE)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T18:25:24.113

尝试这个：

```
console.log($(document).data("events").ready); 
```

基于 John Resig 的帖子：http: [//forum.jquery.com/topic/list-event-listeners](http://forum.jquery.com/topic/list-event-listeners)

另外，检查[`listHandlers`插件。](http://james.padolsey.com/javascript/debug-jquery-events-with-listhandlers/)

如果一切都失败了，您可以临时编辑核心 jQuery 文件：

```
ready: function( fn ) {    
    //create a wrapper function so we can step into the debugger
    var fn2 = function() {
        var args = [].slice.call(arguments);
        debugger; // <-- start debugging each handler as it fires
        return fn.apply(this, args);
    }

    // Attach the listeners
    jQuery.bindReady();

    // Add the callback
    readyList.add( fn2 );

    return this;    
}, 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T23:27:01.267

根据[Chrome Developer Tools 文档中的网络面板信息，](https://developers.google.com/chrome-developer-tools/docs/network)一旦`DomContentLoaded`出现蓝线，就会启动。FWIW，`load`一旦出现红线，就会启动。

# arduino - Arduino 电容式传感器库

> ID：14778868
> 
> 赞同：9
> 
> 时间：2013-02-08T18:18:28.197
> 
> 标签：arduino

我一直在使用Arduino 平台上的[CapacitiveSensor 库。](http://playground.arduino.cc//Main/CapacitiveSensor?from=Main.CapSense)我想建立一个滑块。看看下面引用的文字。

> 滚轮（好吧，无论如何都要滑动锅）
> 
> 使用滑罐式线性传感器的实验仅使用两个引脚和一个电阻梯就成功了。基本布局显示在 Quantum Scrollwheel 传感器数据表中。代码使用这种类型的排列 CapacitiveSensor Left32 = CapacitiveSensor(3, 2); // 从引脚 2 到电阻梯左侧的接线\ CapacitiveSensor Right23 = CapacitiveSensor(2, 3); //从引脚3连接到电阻梯的右侧引脚切换其发送和接收位置的位置。使用线性电阻梯，靠近发送引脚的手指将报告较低的值，因为电容下游的电阻基本上不在电路中。因此，以这种方式，当手指从一个引脚移动到另一个引脚时，对 CapacitorSensorRaw 的两次调用将向它们报告具有近似恒定值的互补值。

有人知道源代码以及引脚和电阻梯的原理图吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-24T07:33:45.140

不知道如何帮助来源，但这是电阻梯的样子：

![电阻梯](../Images/972453c21ece2a61eadb086dfedd8dd3.png)

# javascript - 'ui' 配置选项的可用值是什么

> ID：14778871
> 
> 赞同：0
> 
> 时间：2013-02-08T18:19:00.807
> 
> 标签：javascript, sencha-touch-2

在 Sencha Touch 2 中，每个组件都有一个配置选项`ui`。仅在示例中`dark`，`plain`此处使用了值。我想知道其他选择是什么？

另外我怎样才能添加我自己的选项？像`ui: 'mytheme'`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:24:15.503

“ui”选项有不同的值，具体取决于您使用它的位置。例如，在 a`xtype:button`中可以是["back"、"confirm"、"normal" 等](http://docs.sencha.com/touch/2-1/#!/api/Ext.Button-cfg-ui)，但对于 a`xtype:panel`你只有["light" 或 "dark"](http://docs.sencha.com/touch/2-1/#!/api/Ext.tab.Panel-cfg-ui)。

正如@sajawikio 评论的那样，如果您要为整个应用程序设置主题，请查看[构建主题](http://docs.sencha.com/ext-js/4-1/#!/guide/command_theme)的文档。

# windows - Chrome DNS 查找时间本地地址

> ID：14778886
> 
> 赞同：5
> 
> 时间：2013-02-08T18:19:49.987
> 
> 标签：windows, google-chrome, dns

我正在使用 WAMP 在 Windows 7 中开发一个本地站点，其域为 sitename.local。我的主机文件中有 sitename.local 指向 127.0.0.1。我在 chrome 中的 DNS 查找时间约为 6 秒。如果我立即重新加载页面，它是即时的，但如果我等待一分钟并重新加载它，我必须再等待 6 秒才能进行 DNS 查找。

我的问题，如果它是我的主机文件中列出的本地地址，为什么必须进行 DNS 查找？有什么办法可以减少这个时间吗？

一些额外的信息，使用 chrome://net-internals 我可以看到缓存只有一分钟长，当这个缓存过期时，这就是导致查找时间过长的原因。但这真的会影响任何事情，因为它不需要查找任何内容吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-03T11:00:03.343

您的问题可能与`.local`域有关。它有特殊的行为。我不是 DNS 专家，但前段时间和朋友一起调试了一个相关问题，我很“高兴”。它归结为尝试`.local`通过网络中的多播来解析域。在此处查看[快速说明](http://en.wikipedia.org/wiki/.local)。

尝试更改为`sitename.com`以使用 hosts 文件强制解决。

# asp.net-mvc-3 - 死亡之魂 Sitefinity MVC 小部件控制器困扰着我

> ID：14778887
> 
> 赞同：3
> 
> 时间：2013-02-08T18:19:53.877
> 
> 标签：asp.net-mvc-3, sitefinity-5

我们最近采用了 Sitefinity 并开始创建 MVC 小部件。总的来说，这一直像宣传的那样工作。然后，在测试了我的新小部件后，我意识到我把它命名错了！然后我将控制器名称从 MyWidgletController 更改为 MyWidgetController。进行更改后，我开始收到异常*“无法解析名称为 'MySitefinityApp.Mvc.Controllers.MyWidgletController' 的控制器”*。挠我的头。再次构建... 还是一样的问题。回收应用程序池。同样的问题。

这是我正在使用的控制器（名称已更改以保护所涉及小部件的身份）：

```
[ControllerToolboxItem(Name = "MyWidget", Title = "My Widget", SectionName = "My Custom Widget Section")]
public class MyWidgetController : Controller
{
    public ActionResult Index()
    {
        return View("Default");
    }
} 
```

问题：**当 MyWidgletController 不再存在时，为什么 Sitefinity 仍在寻找它？**

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-08T18:55:25.350

事实证明，Sitefinity 将控制器的名称保存到其数据库中。如果你遇到这个问题，你可以在这里找到你的亡灵控制器：

```
select top 10 * from sf_control_properties where name = 'ControllerName' 
```

啊。这太可怕了。Sitefinity，你应该感到羞耻。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-07-22T06:59:16.593

大声笑，我遇到了同样的情况，我用 mvc 创建了自定义小部件。另一种解决方法是转到 >> /Sitefinity/Administration/Settings/Advanced

然后在 ToolBoxes>>PageControls>>Sections 下面找到你的模块，然后删除必要的死小部件

# google-app-engine - 发件人地址被拒绝：未找到域

> ID：14778890
> 
> 赞同：1
> 
> 时间：2013-02-08T18:20:03.537
> 
> 标签：google-app-engine, email, smtp, gmail

通过谷歌应用程序邮件通过 smtp 发送邮件时，我收到以下错误。谁能看到我为什么会收到此错误？据我所知，我的域存在！

```
THIS IS A WARNING MESSAGE ONLY.

YOU DO NOT NEED TO RESEND YOUR MESSAGE.

Delivery to the following recipient has been delayed:

     a.kozikowski@tutek.pl

Message will be retried for 2 more day(s)

Technical details of temporary failure:
Google tried to deliver your message, but it was rejected by the server for the recipient domain tutek.pl by mx.maxus.pl. [213.241.89.166].

The error that the other server returned was:
450 4.1.8 <aquarius@aquariusprams.co.uk>: Sender address rejected: Domain not found 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T20:45:23.147

此错误意味着收件人邮件服务器无法解析 MX（和 A）记录`aquariusprams.co.uk`。它在这里工作正常，因此它可能是接收方的一般 dns 问题或接收方与您的名称服务器 ns1.console-covers.com / ns2.console-covers.com 之间的路由问题。

# .htaccess - .htaccess 使用保留文件名和参数将域重定向到子域

> ID：14778892
> 
> 赞同：0
> 
> 时间：2013-02-08T18:20:05.583
> 
> 标签：.htaccess, redirect

我想使用 .htaccess 重定向这些示例：

```
example.com
example.com/forum
www.example.com
www.example.com/forum 
```

对此：

```
forum.example.com 
```

我写这个：

```
RewriteCond %{HTTP_HOST} !^forum\.example\.com$ [NC]
RewriteRule ^ http://forum.example.com [R=301,L] 
```

这很好，但我想在 url 中保留文件名和参数。所以我把它改成这样：

```
RewriteCond %{HTTP_HOST} !^forum\.example\.com$ [NC]
RewriteRule ^(.*)$ http://forum.example.com/$1 [R=301,L] 
```

没关系，例如当我转到这个网址时：

```
http://example.com/viewforum.php?f=2 
```

重定向到：

```
http://forum.example.com/viewforum.php?f=2 
```

但是当我这样做时：

```
http://example.com/forum/viewforum.php?f=2 
```

重定向到这个：

```
http://forum.example.com/forum/viewforum.php?f=2 
```

但这个目标网址不正确，必须是这样的：

```
http://forum.example.com/viewforum.php?f=2 
```

如何解决？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:31:43.540

像这样的东西怎么样：

```
RewriteCond %{HTTP_HOST} !^forum\.example\.com$ [NC]
RewriteRule ^(?:forum\/)?(.*)$ http://forum.example.com/$1 [R=301,L] 
```

# android - ImageLoader 与 Android 通用图像加载器

> ID：14778902
> 
> 赞同：10
> 
> 时间：2013-02-08T18:20:27.237
> 
> 标签：android, image-loading

有没有人有过他们可以推荐的 Android 网络图像加载器库的经验？具体来说，我在研究中看到了这两个，但不确定是否更好或更广泛使用。谁能强调两者之间的差异或优缺点？

[https://github.com/novoda/ImageLoader](https://github.com/novoda/ImageLoader)

或者

[https://github.com/nostra13/Android-Universal-Image-Loader](https://github.com/nostra13/Android-Universal-Image-Loader)

# r - 用于计算部分决定系数的R包？

> ID：14778908
> 
> 赞同：2
> 
> 时间：2013-02-08T18:20:45.430
> 
> 标签：r, asbio

有人知道用于在多元回归中计算部分 R^2 的 R 包吗？我已经尝试了 asbio 包中的命令 partial.R2，但即使使用提供的文档中的示例，它也会给出错误消息。

非常感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T21:44:42.620

我发现 lmSupport 包中的命令 lm.sumSquares 通过部分和半部分相关提供。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T23:25:47.393

来自 John Neter、Michael H Kutner、William Wasserman、Christopher J. Nachtsheim 的“应用线性统计模型”的数据

第 274 页中的第 7.4 节：

```
# body fat example from Neter et al.  via rhelp archives:

bf.dat <- read.table(text="x1 x2 x3 y
1 19.5 43.1 29.1 11.9
2 24.7 49.8 28.2 22.8
3 30.7 51.9 37.0 18.7
4 29.8 54.3 31.1 20.1
5 19.1 42.2 30.9 12.9
6 25.6 53.9 23.7 21.7
7 31.4 58.5 27.6 27.1
8 27.9 52.1 30.6 25.4
9 22.1 49.9 23.2 21.3
10 25.5 53.5 24.8 19.3
11 31.1 56.6 30.0 25.4
12 30.4 56.7 28.3 27.2
13 18.7 46.5 23.0 11.7
14 19.7 44.2 28.6 17.8
15 14.6 42.7 21.3 12.8
16 29.5 54.4 30.1 23.9
17 27.7 55.3 25.7 22.6
18 30.2 58.6 24.6 25.4
19 22.7 48.2 27.1 14.8
20 25.2 51.0 27.5 21.1 ", header=TRUE)

library(rms)  # will also load Hmisc
fit <- ols(y ~ x1 + x2, data=bf.dat) 

plt <- plot(anova(fit), what='partial R2')
plt
#         x2          x1 
#0.066955220 0.007010427 
```

# firefox - 错误请求 - 请求太长 HTTP 错误 400。请求标头的大小太长

> ID：14778910
> 
> 赞同：35
> 
> 时间：2013-02-08T18:20:51.613
> 
> 标签：firefox, cookies

我的一些用户在请求我网站的某些页面时有时会收到以下错误：错误请求 - 请求太长 HTTP 错误 400。请求标头的大小太长

它似乎只发生在 Firefox 中。

删除用户 cookie 确实有帮助。

我不明白的是：我认为 cookie 会附加到每个请求中。为什么我的页面中只有一两个显示此错误，而大多数都没有？

它也不依赖于服务器页面。如果用户请求 [http://example.com/user/Myname](http://example.com/user/Myname) ，他可能会收到错误消息。如果他只是更改 URL 的大小写，它会再次起作用（例如[http://example.com/user/myname](http://example.com/user/myname)）。（我正在运行不太关心大小写的 IIS）。

对于浏览器来说，这两个 URL 是不同的，而对于服务器来说它们是不同的。

知道发生了什么吗？

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2013-02-24T13:09:35.653

看来饼干毕竟太多了。我确保没有那么多，它现在正在工作。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2014-02-04T19:23:31.460

对于我们在 IIS 中托管的一些 Intranet 站点，我们的一些用户在 IE 8 上也遇到了同样的异常。该问题与使用 Kerberos 身份验证有关，其中用户属于许多活动目录组。

我们从以下 Microsoft 支持文章中找到了解决方案：

*   [HTTP 400 - 错误请求（请求标头太长）“Internet 信息服务 (IIS) 中的错误](http://support.microsoft.com/kb/2020943)
*   [用户属于多个组时的 Kerberos 身份验证问题](http://support.microsoft.com/kb/327825)

我们的解决方法是使用增加的值设置以下注册表项和/或在它们不存在时创建它们：

*   HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\HTTP\Parameters\MaxFieldLength DWORD（32 位）- 赋值数据 32000（十进制）
*   HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\HTTP\Parameters\MaxRequestBytes DWORD（32 位）- 赋值数据 8777216（十进制）

> [HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\services\HTTP\Parameters] "MaxFieldLength"=dword:00007d00 "MaxRequestBytes"=dword:0085ee00

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2013-11-28T06:13:39.073

**解决方案 1**

从您的浏览器中删除所有域 cookie

在火狐 53 中

1.  Alt -> 工具 ->**页面信息**
2.  安全
3.  查看 Cookie
4.  移除所有

[![在此处输入图像描述](../Images/aa0b17d2c23d942f4d6e7339a7ff5a8f.png)](https://i.stack.imgur.com/A3uLE.png)

在 Chrome 中检查[这个超级用户解决方案](https://superuser.com/a/548097/57836) [![在此处输入图像描述](../Images/ed04b13f3d7c6a077dbca51fbb838f34.png)](https://i.stack.imgur.com/PAiEn.png)

**解决方案 2**

1.  安装**Web Developer**扩展（[Firefox](http://chrispederick.com/work/web-developer/download/firefox/)、[Chrome](http://chrispederick.com/work/web-developer/download/chrome/)、[Opera](http://chrispederick.com/work/web-developer/download/opera/)）
2.  转到 cookie 选项卡 -> 删除**域 Cookie**，如下图所示

[![在此处输入图像描述](../Images/fff82f8edf4614e1891ca211714ccbdf.png)](https://i.stack.imgur.com/sQ8Xk.png)

**解决方案 3**

*   使用隐身模式，看看它是否适合你

**更多细节：**

我在 Chrome 中遇到了同样的问题，并使用了 SharePoint 中的列表。

在使用 Chrome 开发人员仪表板的网络选项卡进行诊断后。我检查了标题并找到以名称**WSS_exp开头的****大 cookie并从****chrome cookie 管理器**中删除所有这些都解决了我的问题

 ***** * *

## 回答 #4

> 赞同：9
> 
> 时间：2015-10-26T14:08:02.683

问题是由于 cookie 已损坏。简单的解决方案是删除所有 cookie，但这是解决该特定问题的最佳方法，我为 Firefox、Chrome 和 Internet Explorer 创建了自定义指南。见这里：[http ://timourrashed.com/how-to-fix-the-400-bad-request-error-message-from-a-website/](http://timourrashed.com/how-to-fix-the-400-bad-request-error-message-from-a-website/)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2021-04-09T14:17:58.517

此错误的另一个原因是用户位于过多的活动目录组中。更现代的 SSRS 版本没有这个问题。

似乎 AD 组列表在 HTTP 标头中传递。旧版本的 SQL Server Reporting Services 具有标头大小限制。因此，如果用户在过多的组中，最简单的解决方法是删除不需要的组。

如果删除组不是一个选项，您应该能够编辑 web.config 文件并增加限制。你可以在这里看到如何做到这一点...... [https://www.mssqltips.com/sqlservertip/4688/resolving-the-maximum-request-length-exceeded-exception-in-sql-server-reporting-services/](https://www.mssqltips.com/sqlservertip/4688/resolving-the-maximum-request-length-exceeded-exception-in-sql-server-reporting-services/)

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2020-04-13T13:38:52.947

我使用**ViewData**而不是**TempData**，问题解决了。****

# php - 如果 URL 与此相等，请执行此操作？

> ID：14778914
> 
> 赞同：0
> 
> 时间：2013-02-08T18:21:04.890
> 
> 标签：php, url

我在一个网站上有一个 PHP，它根据 URL 的含义更改信息，例如：

`?gw=hello` `http://mywebsite.com/?gw=hello`

然后我有这个 div，我想用 Php 像这样隐藏它。如果`?gw=`有的话，那么 div 是隐藏的。

我的问题是，我不知道该怎么做。如果`?gw=`在 url 中的任何位置，我希望 php 隐藏 div。

希望我的问题有意义！在此先感谢您的帮助！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T18:22:53.837

您可以通过使用[`isset()`](http://php.net/manual/en/function.isset.php)并检查`gw`设置来做到这一点

```
if( isset($_GET['gw'] )){
  //hide the div.
} 
```

你可以这样写

```
if( !isset($_GET['gw'] )){
  // your div code here 
  // so if gw is set it wont include 

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T18:25:43.973

```
if (isset($_GET['gw'])){
    echo "<div>";
} 
```

# makefile - Automake：仅配置子目录

> ID：14778915
> 
> 赞同：0
> 
> 时间：2013-02-08T18:21:06.630
> 
> 标签：makefile, autotools, configure

这涉及一个外部项目，其中一个*OneLibrary.c*和*SomeLibraries.am*被修改；

会很高兴 `./configure --please-configure-only-this-subdirectory=./SomeLibrariesSubdirectory`

类似于`make -C ./SomeLibrariesSubdirectory`

因为当只修改了两行时，整个“./configure”需要 5 分钟；）

# unix - 如何使用 tee 将所有输出发送到 stdout 并将 grepped 输出发送到文件？

> ID：14778917
> 
> 赞同：5
> 
> 时间：2013-02-08T18:21:11.803
> 
> 标签：unix, logging, grep, tee

我可以使用 tee 将输出发送到标准输出和文件，如下所示：

```
./process.sh | tee output.log 
```

如何将完整的输出发送到标准输出并将 grepped 输出发送到文件？

这个不起作用，因为 tee 需要第二个文件参数：

```
./process.sh | tee | grep foo > output.log 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-08T18:25:21.497

你可以试试：

```
./process.sh | { tee /dev/tty | grep foo > output.log; } 
```

这不会将输出发送到标准输出，而是发送到 tty。也许这已经足够好了。

或者你可以这样做：

```
./process.sh | awk '/foo/{ print > "output.log"} 1' 
```

它将所有输出打印`process.sh`到标准输出，并将匹配`foo`的行写入文件。

此外，您可以执行以下操作：

```
mkfifo fifo
./process.sh | { cat fifo & tee fifo | grep foo > output.log; }
rm fifo 
```

这可以通过`/proc`文件系统更干净地完成：

```
./process.sh | { tee /proc/self/fd/6 | grep foo > output.lot; } 6>&1 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-08T18:29:29.100

除了将输出重定向到的另一个答案之外`/dev/tty`，如果您使用支持`bash`-style 进程替换的外壳（和操作系统），您可以这样做：

```
./process.sh | tee >(grep foo > output.log) 
```

# html - 让视频在 IE 和 FF 中显示

> ID：14778918
> 
> 赞同：0
> 
> 时间：2013-02-08T18:21:15.533
> 
> 标签：html, video, html5-video

我正在设置 oneweekfatloss.com，但无法显示视频。

它适用于 Chrome 和 Safari，但不适用于 IE 和 FF。我创建了一个 mp4 和 .ogv 文件。

我的html做错了吗？

```
 <video width="720px" height="420px" autoplay>
    <source src="https://s3.amazonaws.com/paleojumpstart/paleovideos/Paleo+Sales+Video.mp4" type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"'>
    <source src="https://s3.amazonaws.com/paleojumpstart/paleovideos/Paleo_Sales_Video-OGV.ogv" type='video/ogg; codecs="theora, vorbis"'>
    <object data="https://s3.amazonaws.com/paleojumpstart/paleovideos/Paleo+Sales+Video.mp4" width="720px" height="420px">
        <embed type="application/x-shockwave-flash" src="https://s3.amazonaws.com/paleojumpstart/paleovideos/Paleo_Sales_Video-Flash.flv" width="720px" height="420px">
    </object>
</video> 
```

编辑：我意识到我没有在 Amazon s3 上正确设置权限。这解决了FF问题。不过，IE 仍然无法正常工作。

EDIT2：如果我在本地打开页面，IE 将播放视频，但不是从我的服务器。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T18:25:05.507

有关格式兼容性，请参阅以下页面：[WebM](http://caniuse.com/#feat=webm)、[Mp4](http://caniuse.com/#feat=mpeg4)和[Ogg](http://caniuse.com/#feat=ogv)。FireFox 仅支持 WebM 和 Ogg。IE 不支持标准`<source`标签。以下是 MSDN 的代码摘录：

```
<video width="400" height="300" poster="frame.png" autoplay controls loop>
    <source src="video.ogv" type='video/ogg; codecs="theora,
     vorbis"'>
    <source src="video.mp4" type='video/mp4; codecs="avc1.42E01E,
     mp4a.40.2"'>
 </video> 
```

您可以在此页面上测试视频格式的兼容性：http: [//ie.microsoft.com/testdrive/Graphics/VideoFormatSupport/Default.html](http://ie.microsoft.com/testdrive/Graphics/VideoFormatSupport/Default.html)

# type-conversion - 将任何 RDF 序列化转换为 RDF/XML

> ID：14778920
> 
> 赞同：2
> 
> 时间：2013-02-08T18:21:24.747
> 
> 标签：type-conversion, rdf, jena, turtle-rdf, n3

我见过一些例子，其中有可能在 RDF/XML 中转换已知的序列化，但是当输入格式（例如 XML/Turtle/N3）未知时，有什么方法可以实现转换？

我正在编写一个以不同序列化（Turtle/xml/n3）接收 RDF 的工具，但是当我调用

```
 model.read(InputStream in, "", "") 
```

Jena的 Class 方法`Model`，也有例外。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T21:28:09.420

这是一个输入流——你必须告诉它格式。 `model.read(in, base, "TURTLE")`. 它不嗅探流。您可以在 try-catch 中执行一系列 model.read 每个，直到其中一个不会导致异常。

# visual-studio - 分享所有 Resharper 代码格式化/检查选项

> ID：14778921
> 
> 赞同：6
> 
> 时间：2013-02-08T18:21:25.460
> 
> 标签：visual-studio, resharper, code-analysis

如[本文所述](http://blogs.jetbrains.com/dotnet/2012/09/save-or-save-to-in-resharper-options/ "JetBrains 博客")， ReSharper 的*.sln.DotSettings*文件仅包含那些值从默认值更改的设置。有没有办法将*所有*代码编辑和代码检查设置存储在团队共享层中，而不管值是更改还是默认值？

我看到的唯一方法是更改​​每个值并将其切换回来（因此所有这些值最终都在*.sln.DotSettings*文件中），但这似乎是一项相当耗时的任务。

我试图避免的问题如下：

假设一个团队有 2 个开发人员，比如 Jessika 和 John，他们认为他们可以接受 Resharper 的默认设置，即在私有字段前加上下划线：

```
int _myPrivateField = 1; 
```

因此，他们不会更改“C# 命名样式”部分下的“ *Instance fields(private) ”设置并检查**.sln.DotSettings*文件。然而，当 Jessica 在她的家用笔记本电脑上查看源代码时，Resharper 仍然建议使用

```
 int myPrivateField = 1; 
```

因为她的电脑设置改成了没有前缀，保存为“*保存到这台电脑*”。正如 Resharper 的文档中所指出的，如果“此计算机”层具有设置值，而其他层则不会应用该值（请参见这张图片中的中间绿色设置：http: [//blogs.jetbrains.com /dotnet/wp-content/uploads/2012/08/layers3.png](http://blogs.jetbrains.com/dotnet/wp-content/uploads/2012/08/layers3.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-03-05T13:25:56.913

遗憾的是，目前我们除了一个一个地更改选项并将它们保存在必要的层中之外，别无选择。我们知道这种方法不方便，并且正在讨论如何最好地处理这个问题。

# joomla - 如何将 joomla 1.5.18 迁移到 1.5.20 - 被黑了

> ID：14778924
> 
> 赞同：-6
> 
> 时间：2013-02-08T18:21:48.727
> 
> 标签：joomla, backup, joomla1.5

嗨，有人入侵了我的 joomla 网站，

我无法访问“administrator/index.php?option=com_config”，出现 404 错误。黑客“被 s13doeL 攻击”，他在整个网络文件中添加了“joomla.class.php 和 index.old.php”。

我认为只有一个解决方案，重新安装一切。有人可以帮助从 1.5.18 迁移到 1.5.20。我不想更改为 2.5，因为 2.5 不支持该模板。

复制所有数据库然后链接到它就足够了吗？它是否复制所有旧文章？还是我必须手动复制一个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T20:14:25.333

很抱歉这么说，但这真的是你自己的错。您不仅使用了不受支持的 Joomla 版本，而且还使用了该系列中的旧版本。Joomla 1.5 系列的最新版本是 1.5.26，所以应该没有理由不使用它。

我回答了一个关于被黑的问题，并给出了一些建议以及推荐的扩展使用。这家伙使用的是 Joomla 2.5，但它仍然可以适用于 Joomla 1.5。

[Joomla！2.5.4 被黑：诊断有问题](https://stackoverflow.com/questions/11036763/joomla-2-5-4-hacked-having-trouble-with-diagnosis/11037642#11037642)

所以请记住，在未来，保持最新，否则对您不利。

**更新：**

要从 Joomla 1.5 升级到 2.5，请安装此扩展程序。这将更新 Joomla 的核心内容和数据库表。请记住，它不会升级 3rd 方扩展，因此您需要自己上传 2.5 兼容版本。

# javascript - 使用 jquery 或 javascript 在两个 SSI 之间切换

> ID：14778926
> 
> 赞同：0
> 
> 时间：2013-02-08T18:21:59.070
> 
> 标签：javascript, jquery, html, static, include

使用服务器端包含的静态 html 页面出现问题。

ssi 的 html 有一个结束的 head 标签和开始的 body 标签

<-- ssi 开始

等等等等等等

</头>

<正文>

-->

有没有办法在标签像这样跨越边界的两个不同的 SSI 之间切换。我需要能够在移动和桌面之间切换，并且不能编辑 SSI。这是静态 HTML，所以如果有的话，唯一的方法是使用 javascript？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T18:40:54.903

You can use AJAX to load the page, parse/replace the ssi tags, and then insert the body in a div element. Current mobile frameworks do that to achive page transitions, for example [https://github.com/dgileadi/zepto-page-transitions](https://github.com/dgileadi/zepto-page-transitions)

# ruby-on-rails - 转储 Heroku 数据库以在本地 seed.rb 中使用的最简单方法？

> ID：14778932
> 
> 赞同：3
> 
> 时间：2013-02-08T18:23:18.350
> 
> 标签：ruby-on-rails, ruby-on-rails-3, heroku, seeding, database-dump

我可以使用 .dump 转储 Heroku 数据库`$ heroku pgbackups:capture`。此外，[这篇 SO 帖子](https://stackoverflow.com/questions/4393246/create-seed-file-from-data-already-in-the-database)显示，有一些工具可以获取*开发*数据库并将其转储到 seed.rb。

我想知道是否有一种简单的方法可以将这两个过程结合起来，有效地将生产 Heroku 数据库中的数据转储到我本地的seeds.rb 中，以进行更现实的开发测试。

如果这是可能的，那么最干净的方法是什么？

**更新：**

基于 dB' 的深刻回答，我可能会考虑在本地使用 PGSQL。但是，如果有办法轻松做到这一点，我仍然对问题的 seed.rb 方面感兴趣。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-15T19:38:09.553

有几种方法可以完成这样的事情。@dB' 概述了其中之一 - 使用[PG Backups 插件导出您的数据库](https://devcenter.heroku.com/articles/heroku-postgres-import-export)。这是一个很好的选择，但涉及一些（微不足道的）手动命令。

我建议使用[pg:transfer Heroku CLI 插件](http://www.higherorderheroku.com/articles/pgtransfer-is-the-new-taps/)一步来传输数据。在幕后，它仍然与使用 PG Backups 发生的事情非常相似，但它的包装更好一些，并且有一些有用的默认值。

`pg:transfer`从您的应用程序目录中，通过安装插件并执行命令，将您的生产数据库复制到本地（假设是本地 PG 数据库） 。

```
$ heroku plugins:install https://github.com/ddollar/heroku-pg-transfer
$ heroku pg:transfer 
```

您还可以设置几个选项。有关更多详细信息，请参阅[我的文章](http://www.higherorderheroku.com/articles/pgtransfer-is-the-new-taps/)。

希望有帮助！是的，请[在开发期间使用与生产中相同的数据库](http://12factor.net/dev-prod-parity)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T23:15:15.407

不确定这是否是您要查找的内容，但您是否尝试过使用 pgbackups:capture 和 pg_restore 将数据库复制到本地计算机？这种方法不使用seeds.rb，但仍会在本地计算机上重新创建生产数据库。它看起来像这样。

```
$ heroku pgbackups:capture
$ curl -o latest.dump `heroku pgbackups:url`
$ pg_restore --verbose --clean --no-acl --no-owner -h localhost -U myuser -d mydb latest.dump 
```

[（这段代码是从Heroku 开发中心的解释中大量](https://devcenter.heroku.com/articles/heroku-postgres-import-export)复制的。）

# xcode - 非基于文档的应用程序是否应该使用应用程序模式对话框或工作表？

> ID：14778933
> 
> 赞同：0
> 
> 时间：2013-02-08T18:23:20.113
> 
> 标签：xcode, macos, cocoa

我有一个基于单个窗口的可可应用程序。它没有任何文件等。本质上它是一个实用程序。我需要显示一个模式对话框，基本上是一个连接框，其中有一个 ip、端口、连接控件。

我在某处读到不建议在基于可可的应用程序中使用模态对话框。那是对的吗 ？那么我应该使用基于文档的对话框吗？我对此感到很困惑，对此主题的任何指导将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:41:08.453

Modal dialogs can get lost in presentation (showing up on the wrong desktop/space, full screen issues, etc). Sheets tie into the window, so they always display properly.

Full guidance is available in the Human Interface Guidelines [https://developer.apple.com/library/mac/#documentation/UserExperience/Conceptual/AppleHIGuidelines/Windows/Windows.html#//apple_ref/doc/uid/20000961-TP9](https://developer.apple.com/library/mac/#documentation/UserExperience/Conceptual/AppleHIGuidelines/Windows/Windows.html#//apple_ref/doc/uid/20000961-TP9)

# actionscript-3 - ActionScript 3 的错误输出 #1034 类型强制失败

> ID：14778938
> 
> 赞同：0
> 
> 时间：2013-02-08T18:23:33.507
> 
> 标签：actionscript-3, oop, type-coercion

我想创建一个角色的控件。不幸的是，我遇到了错误 #1304。

这是输出错误：

```
TypeError: Error #1034: Type Coercion failed: cannot convert class_Boy$ to 
flash.display.MovieClip.
    at class_Boy/mainJump()
    at class_Boy/class_Boy_Move() 
```

闪光灯可以运行，但是当我按空格键时，错误不断重复并且闪光灯停止。

我认为罪魁祸首是由`MovieClip(boy_Class)`class_Boy的班级引起的。如果您能找到任何解决方案，请帮助我。谢谢。

这是主要课程：

```
package 
{
import flash.display.*;
import flash.text.*;
import flash.events.*;
import flash.utils.Timer;
import flash.text.*;

public class experimentingMain extends MovieClip 
{
    var count:Number = 0;
    var myTimer:Timer = new Timer(10,count);

    var classBoy:class_Boy;

    var leftKey, rightKey, spaceKey, stopAnimation:Boolean;

    public function experimentingMain() 
    {
        myTimer.addEventListener(TimerEvent.TIMER, scoreUp);
        myTimer.start();

        classBoy = new class_Boy();
        addChild(classBoy);

        stage.addEventListener(KeyboardEvent.KEY_DOWN, pressTheDamnKey);
        stage.addEventListener(KeyboardEvent.KEY_UP, liftTheDamnKey);
    }

    public function pressTheDamnKey(event:KeyboardEvent):void
    {
        if (event.keyCode == 37)
        {
            leftKey = true;
            stopAnimation = false;
        }

        if (event.keyCode == 39)
        {
            rightKey = true;
            stopAnimation = false;
        }

        if (event.keyCode == 32)
        {
            spaceKey = true;
            stopAnimation = true;
        }
    }

    public function liftTheDamnKey(event:KeyboardEvent):void
    {
        if (event.keyCode == 37)
        {
            leftKey = false;
            stopAnimation = true;
        }

        if (event.keyCode == 39)
        {
            rightKey = false;
            stopAnimation = true;
        }

        if (event.keyCode == 32)
        {
            spaceKey = false;
            stopAnimation = true;
        }
    }

    public function scoreUp(event:TimerEvent):void 
    {
        scoreSystem.text = String("Score : "+myTimer.currentCount);
    }

  }
} 
```

这是 class_Boy 的类：

```
package 
{
import flash.display.*;
import flash.events.*;

public class class_Boy extends MovieClip
{
    var leftKeyDown:Boolean = false;
    var upKeyDown:Boolean = false;
    var rightKeyDown:Boolean = false;
    var downKeyDown:Boolean = false;
    var mainSpeed:Number = 5;
    var mainJumping:Boolean = false;
    var jumpSpeedLimit:int = 40;
    var jumpSpeed:Number = 0;

    var theCharacter:MovieClip;

    var currentX, currentY:int;

    public function class_Boy()
    {
        this.x = 600;
        this.y = 500;

        addEventListener(Event.ENTER_FRAME, class_Boy_Move);
    }

    public function class_Boy_Move(event:Event):void 
    {
        currentX = this.x;

        if (MovieClip(parent).leftKey)
        {
            currentX += mainSpeed;

        }

        if (MovieClip(parent).rightKey)
        {
            currentX -= mainSpeed;
        }

        if (MovieClip(parent).spaceKey)
        {
            mainJump();
        }

        this.x = currentX;
        this.y = currentY;
    }

    public function mainJump():void
    {
        currentY = this.y;

        if(!mainJumping)
        {
            mainJumping = true;
            jumpSpeed = jumpSpeedLimit*-1;
            currentY += jumpSpeed;
        } else {
            if(jumpSpeed < 0){
                jumpSpeed *= 1 - jumpSpeedLimit/250;
            if(jumpSpeed > -jumpSpeedLimit/12){
                jumpSpeed *= -2;
                }
            }
        }
        if(jumpSpeed > 0 && jumpSpeed <= jumpSpeedLimit)
        {
            jumpSpeed *= 1 + jumpSpeedLimit/120;
        }
        currentY += jumpSpeed;
        if(currentY >= stage.stageHeight - MovieClip(class_Boy).height)
        {
            mainJumping = false;
            currentY = stage.stageHeight - MovieClip(class_Boy).height;
        }
      }
   }    
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T19:10:35.747

而不是`MovieClip(class_Boy)`，它应该是简单的`this`，它是引用当前运行代码的实例的对象。`class_Boy`是类本身，用于实例化新对象。

`parent`当使用以小写 ( )开头的变量和方法命名以及以大写 ( ) 开头的类的通用编码标准时，可以避免此类问题`Sprite`。然后，当您看到`MovieClip(ClassBoy)`很明显存在错误时，因为`ClassBoy`是一种类。

其他几件事也可能对您有所帮助：

*   如果您遵循以大写开头的类名的标准，则不要以 开头`class`，您可以将其命名`Boy`

*   方法不必以类名 ( `class_Boy_Move`) 开头。事实上，如果它们不这样做会更好，所以你不会与构造函数混淆，它们最终会更短

# objective-c - 从 Xib 返回到 StoryBoard 中的不同 ViewController

> ID：14778939
> 
> 赞同：0
> 
> 时间：2013-02-08T18:23:33.683
> 
> 标签：objective-c, xib, viewcontroller

我的项目中有 StoryBoard 和 xib。我知道如何从情节提要转到 xib，这是代码：

```
ChosenPlacesViewController *cpvc = [[ChosenPlacesViewController alloc]initWithNibName:@"ChosenPlacesViewController" bundle:nil];
    [cpvc setModalTransitionStyle:UIModalTransitionStyleFlipHorizontal];
[self presentModalViewController:cpvc animated:NO]; 
```

但是如何从 xib 转到 StoryBoard 中的不同 ViewController？

我知道我可以使用：

```
[self dismissViewControllerAnimated:NO completion:NO]; 
```

但我想去不同的 ViewController(TabBar StoryBoard)，而不是最后一个。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T19:42:20.243

您应该了解有关导航视图控制器的更多信息。这取决于您的视图控制器层次结构。有一个 viewControllers 属性。您可以设置控制器的新顺序，最后一个将可见。

更多信息：http: [//developer.apple.com/library/ios/#documentation/uikit/reference/UINavigationController_Class/Reference/Reference.html](http://developer.apple.com/library/ios/#documentation/uikit/reference/UINavigationController_Class/Reference/Reference.html)

# java - 用java解析solr json

> ID：14778940
> 
> 赞同：1
> 
> 时间：2013-02-08T18:23:37.987
> 
> 标签：java, json, solr, hashmap, object-object-mapping

我正在通过 solr 进行搜索。它给了我 json 的响应。如下所示：

```
 {response
 {numfound:# , docs{
  [
   {
    id="#"
    model="#"
   }
   {
    id="#"
    model="#"
   }
  ]
  }
  } 
```

我想从中提取 id 并从中制作 java 数组列表。

有人可以告诉我如何用编码语言做到这一点吗？

问题：如果我在java中使用hashmap或objectmapper，如何从子字符串中提取id然后转换为java数组列表？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:50:48.950

如果您想转换成 java 对象，您可以使用 Solr 客户端[Solrj](https://wiki.apache.org/solr/Solrj)
Solrj 将为您提供查询 Solr 和读取 xml 以转换成 java 对象的简单选项
对于 JSON，您可以使用 jackson 库来解析 Solr 响应。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-10-25T13:57:42.103

这是一个使用 Gson 库读取数据的小程序。

```
@Test
public void testRead() throws IOException {
    final String testUrl = "http://localhost:8983/solr/collection1/select?q=*%3A*&wt=json&indent=true";
    String out = new Scanner(new URL(testUrl).openStream(), "UTF-8").useDelimiter("\\A").next();
    SolrResult result = new Gson().fromJson(out, SolrResult.class);
    List<String> ids = new ArrayList<String>();
    for (Doc doc : result.response.docs) {
        ids.add(doc.id);
    }
    System.err.println(ids);
} 
```

它使用以下三个小类作为响应的 Java 表示：

```
public class SolrResult {
    public Response response;
}

class Response {
    public int numFound;
    public int start;
    public List<Doc> docs;
}

class Doc {
    public String id;
} 
```

我希望这有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-09T08:44:14.657

正如 Jayendra 指出的那样，如果您使用 Java 查询 Solr，则可以使用[SolrJ 。](http://wiki.apache.org/solr/Solrj)由于 XML 解析开销，我不建议使用 XML 作为响应格式。**SolrJ 支持开箱即用的 java 二进制对象编码（使用 commons-codec），并且默认情况下在查询上**。

要在更新中使用它，您必须使用手动设置它

```
server.setRequestWriter(new BinaryRequestWriter()); 
```

您还必须在服务器上启用 BinaryUpdateHandler ，使用：

```
 <requestHandler name="/update/javabin" class="solr.BinaryUpdateRequestHandler" /> 
```

如果您不想使用 SolrJ，您可以使用[GSON](http://code.google.com/p/google-gson/)解析它。[在这里](https://stackoverflow.com/questions/5490789/json-parsing-using-gson-for-java)你有和例子。

# java - 我们可以将字符串传递给期望向量参数的方法吗？

> ID：14778942
> 
> 赞同：0
> 
> 时间：2013-02-08T18:23:50.183
> 
> 标签：java, vector

我有一种方法可以发送签名为

```
sendemail(Vector addr, String subject, String body) 
```

zvector addr 包含电子邮件必须发送到的电子邮件地址。

如果我们有多个分开的电子邮件地址，那么我们将每个地址添加到 Vector 并传递它。但现在我只想将电子邮件发送到 1 个地址。

> 那么我可以将字符串电子邮件地址直接传递给方法还是需要将单个字符串也添加到向量？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T18:26:21.633

您将需要创建一个单一元素`Vector`。这是创建单项向量的方法：

```
public <T> Vector<T> singletonVector(T item) {
    Vector<T> v = new Vector<T>(1);
    v.add(item);
    return v;
} 
```

如果您将`sendemail`方法更改为采用 a `java.util.List`，则可以使用该`Collections.singletonList`方法来创建您的 one-item `List`。并且由于`Vector`实现`List`了，您不必更改任何现有的调用`sendemail`.

```
sendemail(Collections.singletonList(emailAddress), mySubject, myBody); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T18:27:28.567

您肯定需要实例化一个新`vector<String>`的并将其添加`String`到其中。

另一种解决方案是使用不同的签名重载函数：

```
sendemail(Vector<String> addr, String subject, String body) {
  ..
}

sendemail(String addr, String subject, String body) {
  Vector<String> vaddr = new Vector<String>();
  vaddr.add(addr);
  sendemail(vaddr, subject, body);
} 
```

这样一个新`Vector`的仍然被实例化，但至少你可以使用你喜欢的一个签名。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T18:27:41.790

您需要将单个字符串添加到向量中。

如果您可以修改 sendemail，您可以将其定义为：

```
public void sendemail(String subject, String body, String ... addr) 
```

然后你不需要构造一个向量，你只需传递地址。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-02-15T04:01:12.310

```
sendemail(String...addr, String subject, String body)
{

    //addr.length(): The number of email address
    //addr[0]: 1st email adrdess 
    //addr[1]: 2nd email adrdess 
    .
    .
    .
    //addr[addr.length-1]: last email adrdess 

} 
```

我建议你这样写：

```
sendemail(String...addr)
{

    subject=addr[addr.lentgh-2];
    body=addr[addr.lentgh-1];
    addr[0]..addr[addr.length-3]: email addresses.

} 
```

# java - 用 Java 创建一个独立的应用程序

> ID：14778945
> 
> 赞同：-4
> 
> 时间：2013-02-08T18:24:01.873
> 
> 标签：java, mysql

我想使用 Java 创建一个软件。我已经使用 Java Swing 对应用程序进行了编码，并将后端用作 MySQL 服务器 5.05。

如何创建可以安装在 Windows 上并像其他软件一样运行的应用程序？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T18:26:35.457

将其编译为 JAR 并在 Windows JRE 中运行。

# android - 从 gui 中选择资源而不是使用 XML

> ID：14778947
> 
> 赞同：1
> 
> 时间：2013-02-08T18:24:11.087
> 
> 标签：android

我可以使用`@android:color/black`etc 在 xml 中选择 android 提供的颜色，但我无法`android`在 GUI 中找到选项。`Reference Chooser`有没有办法？

我记得我`android`在某个时候在参考选择器中找到了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:40:28.267

我不相信有办法使用参考选择器 GUI 来做到这一点。

您可以做的是访问 xml 视图中的字段，键入“@android:”作为您要编辑的特定条目的值，然后在 mac 上按 CMD+SPACE 或在 Windows 上按 CTRL+SPACE 以显示自动完成选项。在这里，您将能够浏览可用的资源。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T18:45:08.920

如果你想要默认的 Android，那么你可以在这个路径下查看 Android SDK：

> `platforms\android-<API Level>\data\res\values\colors.xml.`

你也可以看看我不久前给出的[这个答案。](https://stackoverflow.com/a/10382463/1333975)

# task - 为什么我在解决 greenhopper 中有故事点的子任务后看不到燃尽图下降？

> ID：14778949
> 
> 赞同：1
> 
> 时间：2013-02-08T18:24:41.247
> 
> 标签：task, jira, jira-agile, user-stories, burndowncharts

我们将一个更大的故事细分为更多的子任务。但是如果我们关闭子任务对燃尽图没有影响，这是令人沮丧的。任何想法如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T21:55:13.630

您如何在燃尽图中跟踪工作——按故事点或记录的小时数。要看到减少，您需要有原始估计或估计故事点。然后您将不得不记录小时数或有一个工作流在您关闭子任务时将剩余估计设置为 0

# eclipse - JTable 未从 Window Builder Eclipse 中显示

> ID：14778954
> 
> 赞同：1
> 
> 时间：2013-02-08T18:24:55.647
> 
> 标签：eclipse, jframe, jtable

我刚刚开始使用 Eclipse Window Builder 插件为我的程序创建一个 JFrame，但是在添加一个 JTable 时它只是没有显示出来。该程序就像它在那里一样，但不会显示它。

```
public class Stock extends JFrame {

private static final long serialVersionUID = -4904110593143929972L;
private JPanel contentPane;
private JTable table;

/**
 * Launch the application.
 */
public static void main(String[] args) {
    EventQueue.invokeLater(new Runnable() {
        public void run() {
            try {
                Stock frame = new Stock();
                frame.setVisible(true);

            } catch (Exception e) {
                e.printStackTrace();
            }
        }
    });
}

/**
 * Create the frame.
 */
public Stock() {
    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    setBounds(100, 100, 450, 300);

    JMenuBar menuBar = new JMenuBar();
    setJMenuBar(menuBar);

    JMenu mnNewMenu = new JMenu("Add");
    menuBar.add(mnNewMenu);

    JMenu mnNewMenu_1 = new JMenu("Delete");
    menuBar.add(mnNewMenu_1);

    JMenu mnNewMenu_2 = new JMenu("Edit");
    menuBar.add(mnNewMenu_2);
    contentPane = new JPanel();
    contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));
    setContentPane(contentPane);
    contentPane.setLayout(null);

    table = new JTable();
    table.setBounds(10, 230, 414, -221);
    contentPane.add(table);

    loadTable();
}

public void loadTable() {
    String[] columnNames = {"Key",
            "Name",
            "Quantity",
            "Price per unit"};

    Object[][] data = {
            {"1","Name","10","�2.40"}};

    table = new JTable(data, columnNames);
    contentPane.add(table);
}

} 
```

就像我说的，我才刚刚开始使用 Window Builder，所以它可能很简单，但我无法弄清楚。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T19:20:25.580

抱歉，问题是这一行，“ contentPane.setLayout(null);” 不知道它是如何到达那里的。嗯，至少它的工作原理:)

# ssl - 将自签名证书导入 Netty

> ID：14778958
> 
> 赞同：4
> 
> 时间：2013-02-08T18:25:07.967
> 
> 标签：ssl, openssl, netty

我需要为我打算使用自签名证书的 Netty 服务器设置 SSL。我想知道这样做的步骤是什么？

1.  使用 openssl 获取 .key & .csr 文件。我需要将 .csr 文件转换为 pem 吗？

2.  如何在密钥库中导入证书？那是在Linux机器上的cacerts吗？

3.  我是否还需要将密钥导入密钥库？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-04T22:21:17.130

本教程展示了使用由 StartSSL 签名的证书的步骤：

[http://blog.hintcafe.com/post/33709433256/https-server-in-java-using-netty-and-keystore](http://blog.hintcafe.com/post/33709433256/https-server-in-java-using-netty-and-keystore)

我认为可以修改这些步骤以使用您的自签名证书（或者您可以使用 StartSSL 免费签名。

# vim - 如何在单独的选项卡/窗口中打开 vim 命令输出？

> ID：14778971
> 
> 赞同：2
> 
> 时间：2013-02-08T18:25:48.080
> 
> 标签：vim, ruby-test

我正在使用[vim-rubytest](https://github.com/janx/vim-rubytest)从 MacVim 中执行测试。

这会在 vim 的命令输出窗口中打印输出。问题是，在我切换到编辑器后，此输出不可滚动或消失。

是否可以将此输出发送到 Vim 中的单独选项卡/窗口？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:54:29.290

我不使用 vim-rubytest 插件，但查看文档在我看来，默认情况下 vim-rubytest 会将内容放入 quickfix 列表中。要打开快速修复窗口，请发出以下命令：

```
:copen 
```

`:cnext`您可以通过和导航快速修复列表`:cprevious`。

我相信快速修复方法是首选方法，但要回答您的问题，您可以将输出重定向到寄存器中，然后粘贴到新缓冲区中。

```
:redir @" 
```

然后执行`<leader>T`. 看着这一切过去。然后结束重定向并创建一个包含内容的新缓冲区。

```
:redir END
:new|pu|0d_ 
```

如需更多帮助，请参阅

```
:h quickfix
:h :cnext
:h :redir
:h :new
:h :put
:h :delete 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-15T18:03:51.160

默认情况下`vim-rubytest`，`let g:rubytest_in_quickfix = 0`这将执行终端上的所有内容并回显结果。

为了“在新窗口中打开”，您应该设置

`let g:rubytest_in_quickfix = 1`然后输出将运行并应用于快速修复。这将打开一个单独的快速修复窗口，您可以使用该窗口查看所有故障并允许您跳转到文件。

[我在 github（参考](https://github.com/janx/vim-rubytest/issues/24)）上提交的 quickfix 使用存在问题，不允许您打开第一个错误。在这个问题中，我发布了一个可能的修复并应用了我自己的 fork + 一些其他小的调整，以使在我自己的 TDD 工作流程中使用 quickfix 更加理想。

# javascript - 如何调整剑道 ui 组合框的大小？

> ID：14778976
> 
> 赞同：5
> 
> 时间：2013-02-08T18:25:57.343
> 
> 标签：javascript, jquery, html, css, kendo-ui

如何更改 kendo ui 组合框的宽度？我使用版本：2012.3.1114 我试过了：

```
#options {
    padding: 30px;
}
#options h3 {
    font-size: 1em;
    font-weight: bold;
    margin: 25px 0 8px 0;
}
.k-combobox{
    width:60px;  } 
```

Javascript：`$("#select").kendoComboBox();`

html:

```
<select id="select">
    <option value="null">nada</option>
    <option value="true">ON</option>
    <option value="false">OFF</option>
</select> 
```

使用文件它可以工作，但不能在 jsfiddle 中：[示例](http://jsfiddle.net/vicenrele/Thxtr/46/)

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-08T18:29:00.517

试试这个 ：

```
$(document).ready(function() {

                $("#select").kendoComboBox();
                $("#select").parent().css('width',"300px");

            }); 
```

你也可以这样做：

```
$(document).ready(function() {
            $("#select").width(400).kendoComboBox();
                }); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-02-28T15:56:18.927

您可以使用 !important css 声明：

```
.k-combobox{
   width: 125px !important;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-07-01T08:56:46.833

其他有用的方式：`.HtmlAttributes(new { style = "width: 200px;"})` 通过[https://stackoverflow.com/a/25725406/1923256](https://stackoverflow.com/a/25725406/1923256)

# java - 如何在不提取Java的情况下读取压缩文件的内容

> ID：14778980
> 
> 赞同：5
> 
> 时间：2013-02-08T18:26:16.117
> 
> 标签：java, unzip, zipfile

我的文件名称如`ex.zip`. 在本例中，Zip 文件仅包含一个同名文件（即 `ex.txt'），该文件非常大。我不想每次都提取 zip 文件。因此我需要在不提取 zip 文件的情况下读取文件的内容（ex.txt）。我尝试了一些类似下面的代码但我只能读取变量中的文件名。

如何读取文件的内容并将其存储在变量中？

先感谢您

```
fis=new FileInputStream("C:/Documents and Settings/satheesh/Desktop/ex.zip");
ZipInputStream zis = new ZipInputStream(new BufferedInputStream(fis));
ZipEntry entry;

while((entry = zis.getNextEntry()) != null) {
    i=i+1; 
    System.out.println(entry);
    System.out.println(i);
    //read from zis until available
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-08T18:28:31.343

您的想法是将 zip 文件原样读取到字节数组中并将其存储在变量中。稍后当您需要 zip 时，您可以按需提取它，从而节省内存：

*首先在字节数组zipFileBytes*中读取Zip文件的内容

 *如果您有 Java 1.7：

```
Path path = Paths.get("path/to/file");
byte[] zipFileBytes= Files.readAllBytes(path); 
```

否则使用 Appache.commons 库

```
byte[] zipFileBytes;
zipFileBytes = IOUtils.toByteArray(InputStream input); 
```

现在您的 Zip 文件存储在一个变量 zipFileBytes 中，仍然是压缩形式。

然后当你需要提取一些东西时使用

```
ByteArrayInputStream bis = new ByteArrayInputStream(zipFileBytes));
ZipInputStream zis = new ZipInputStream(bis); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-08T18:32:48.553

尝试这个：

```
 ZipFile fis = new ZipFile("ex.zip");

        int i = 0;
        for (Enumeration e = zip.entries(); e.hasMoreElements();) {
            ZipEntry entry = (ZipEntry) e.nextElement();
            System.out.println(entry);
            System.out.println(i);

            InputStream in = fis.getInputStream(entry);

        } 
```

例如，如果文件包含文本，并且您想将其打印为字符串，您可以像这样读取 InputStream：[Read/convert an InputStream to a String](https://stackoverflow.com/questions/309424/read-convert-an-inputstream-to-a-string)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-08T18:38:40.813

我认为在您的情况下，zipfile 是一个可以容纳许多文件的容器（因此每次打开它时都会迫使您导航到正确的包含文件），这会使事情变得非常复杂，因为您声明每个 zipfile 只包含一个文本文件。也许只 gzip 文本文件要容易得多（gzip 不是容器，只是数据的压缩版本）。而且使用起来非常简单：

```
GZIPInputStream gis = new GZIPInputStream(new FileInputStream("file.txt.gz"));
// and a BufferedReader on top to comfortably read the file
BufferedReader in = new BufferedReader(new InputStreamReader(gis) ); 
```

制作它们同样简单：

```
GZIPOutputStream gos = new GZIPOutputStream(new FileOutputStream("file.txt.gz")); 
```*

# perl - 如何将环境变量传递给 AutoLoaded mod_perl 处理程序，以便在模块加载时使用？

> ID：14778981
> 
> 赞同：1
> 
> 时间：2013-02-08T18:26:18.127
> 
> 标签：perl, apache, mod-perl2

我有一个 mod_perl 的 HTTP 请求处理程序，它需要`%ENV`在模块加载时从 读取环境变量。[`PerlSetEnv`](http://perl.apache.org/docs/2.0/user/config/config.html#C_PerlSetEnv_)使用指令将环境变量从 Apache 配置传递到 mod_perl 。

这工作得很好，直到我们出于性能原因将 Apache 配置更改为在启动时自动[加载处理程序。](http://perl.apache.org/docs/2.0/user/config/config.html#C_AutoLoad_)当模块像这样自动`PerlSetEnv`加载时，在模块加载时不会生效，我们需要的变量只能`%ENV`在处理程序方法内部的请求时获得。

**有没有办法继续使用 AutoLoad，但仍然在 Apache 配置中设置一个环境变量，该变量在`%ENV`模块加载时在 Perl 中可用？**

## 最小的例子：

这是一个精简的测试用例来说明问题。

**未**启用自动加载的 Apache 配置：

```
PerlSwitches -I/home/day/modperl
<Location /perl>
    SetHandler modperl
    PerlSetEnv TEST_PERLSETENV 'Does it work?'
    PerlResponseHandler ModPerl::Test
    Allow from all
</Location> 
```

/home/day/modperl/ModPerl/Test.pm 的内容：

```
package ModPerl::Test;

use strict;
use warnings;

use Apache2::RequestRec ();
use Apache2::RequestIO ();
use Apache2::Const qw(OK);

my %ENV_AT_MODULE_LOAD = %ENV; # Take a copy

sub handler {
    my $r = shift;
    $r->content_type('text/plain');

    $r->print("ENV:\n");
    foreach my $key (sort keys %ENV) {
        $r->print("  $key: $ENV{$key}\n");
    }   

    $r->print("ENV_AT_MODULE_LOAD:\n");
    foreach my $key (sort keys %ENV_AT_MODULE_LOAD) {
        $r->print("  $key: $ENV_AT_MODULE_LOAD{$key}\n");
    }   

    return OK;
}   
1; 
```

在浏览器中查看 localhost/perl 时，我看到：

```
ENV:
  MOD_PERL: mod_perl/2.0.5
  MOD_PERL_API_VERSION: 2
  PATH: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
  TEST_PERLSETENV: Does it work?
ENV_AT_MODULE_LOAD:
  MOD_PERL: mod_perl/2.0.5
  MOD_PERL_API_VERSION: 2
  PATH: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
  TEST_PERLSETENV: Does it work? 
```

*万岁！* `TEST_PERLSETENV`如我们所愿，在模块加载时可用。

**但是**当我们更改 Apache 配置以启用 Autoload 时（通过在 PerlResponseHandler 中使用 + 像这样）：

```
 PerlResponseHandler +ModPerl::Test 
```

我得到以下输出：

```
ENV:
  MOD_PERL: mod_perl/2.0.5
  MOD_PERL_API_VERSION: 2
  PATH: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
  TEST_PERLSETENV: Does it work?
ENV_AT_MODULE_LOAD:
  MOD_PERL: mod_perl/2.0.5
  MOD_PERL_API_VERSION: 2
  PATH: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin 
```

*嘘！* `TEST_PERLSETENV`在模块加载时不再可用:(如何在保持 AutoLoad 行为的同时取回它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T18:38:14.600

啊，发布此问题 30 秒后，我找到了答案。谢谢[橡皮鸭](http://www.codinghorror.com/blog/2012/03/rubber-duck-problem-solving.html)。

将to 移到包含指令`PerlSetEnv`的块之前，它再次起作用！`<Location>``PerlResponseHandler`

即像这样：

```
PerlSwitches -I/home/dbarr/modperl
PerlSetEnv TEST_PERLSETENV 'Does it work?'
<Location /perl>
    SetHandler modperl
    PerlResponseHandler +ModPerl::Test
    Allow from all
</Location> 
```

# objective-c - 优化这个 for 循环

> ID：14778985
> 
> 赞同：2
> 
> 时间：2013-02-08T18:26:22.937
> 
> 标签：objective-c, xcode, optimization, for-loop, nsdateformatter

我在仪器中运行时间分析器。我已经尽可能地简化了代码，以将所有内容归结为确切的问题。循环内具有 checkInString =[_formatter stringFromDate:[checkInArrayCopy objectAtIndex:i]]; 的代码行 占用了 90% 以上的处理时间。关于如何优化此代码的任何想法？

```
 NSDateFormatter *format = [[NSDateFormatter alloc]init];
[format setTimeZone:[NSTimeZone timeZoneWithAbbreviation:@"GMT"]];
[format setDateFormat:@"MM/dd/YYYY"];
NSString *checkInString;
for (int x=0; x<100; x++) { 
    for (int i=0; i<checkInArray.count; i++) { //CheckInArray is a NSMutableArray of NSDates, with about 100 objects inside
        checkInString =[_formatter stringFromDate:[checkInArray objectAtIndex:i]]; //**90% of processing time
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-08T19:13:45.287

老实说，我认为任何重大改进都将是超出我们在此处实际建议的范围的算法更改（例如，减少您需要执行的循环量，或消除获取所有日期字符串的需要）。

您可以进行一些微优化，但我不认为它们会产生巨大的影响。基本上，您可以通过使用 IMP 缓存和 NSArray 的枚举方法而不是 C 的 for 循环来减少消息发送的数量，这应该会带来一点提升。

```
NSDateFormatter *format = [[NSDateFormatter alloc]init];
[format setTimeZone:[NSTimeZone timeZoneWithAbbreviation:@"GMT"]];
[format setDateFormat:@"MM/dd/YYYY"];
__block NSString *checkInString;
id (*stringFromDateIMP)(id, SEL, id) = [_formatter methodForSelector:@selector(stringFromDate:)];
for (int x=0; x<100; x++) { 
    [checkInArray enumerateObjectsUsingBlock:^(NSDate *date, NSUInteger i, BOOL *stop) { //CheckInArray is a NSMutableArray of NSDates, with about 100 objects inside
        checkInString = stringFromDateIMP(_formatter, @selector(stringFromDate:), date);
    }];
} 
```

（写在浏览器中，所以*警告编译*器。）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T19:42:55.963

明显的免责声明可能是我完全错过了一些东西，当前代码执行相同的日期转换 100 次。

如果这是正确的，你应该能够通过只进行一次转换来获得很多。以下代码展示了原理，但请注意它未经测试，因此请在阅读时使用您的常识：

```
NSDateFormatter *format = [[NSDateFormatter alloc]init];
[format setTimeZone:[NSTimeZone timeZoneWithAbbreviation:@"GMT"]];
[format setDateFormat:@"MM/dd/YYYY"];

NSMutableArray *dates = [NSMutableArray array];
for (int i=0; i<checkInArray.count; i++) { //CheckInArray is a NSMutableArray of NSDates, with about 100 objects inside
    NSString *cis =[format stringFromDate:[checkInArray objectAtIndex:i]]
    [dates addObject: cis];
}

NSString *checkInString;
for (int x=0; x<100; x++) { 
    for (int i=0; i<checkInArray.count; i++) { 
        checkInString = [dates objectAtIndex:i]; 
    }
} 
```

该代码维护您对 的使用`objectAtIndex:`，您可能希望使用 a`foreach`或块来执行循环，但这是一个细节。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T18:30:01.800

您的 for 循环非常简单。你真正想要的是对 stringFromDate 方法本身的优化......

看一下这个

[NSDateFormatter 的 stringFromDate 有哪些可能的优化？](https://stackoverflow.com/questions/4221732/what-are-some-possible-optimizations-for-nsdateformatters-stringfromdate)

我不认为有什么太多你可以做的。格式化操作将占用一些 CPU...除非您可以根据您对输入值做出的任何假设来设计自己的算法

# c# - 类库中的剃刀，缺少智能感知

> ID：14778987
> 
> 赞同：6
> 
> 时间：2013-02-08T18:26:37.220
> 
> 标签：c#, asp.net, razor, asp.net-mvc-4, intellisense

我正在尝试将 razor (cshtml) 文件包含在类库中，以包含在单独的 MVC4 项目中。我已经使一切正常，除了某些类型似乎缺少智能感知，特别是`System.Web.Helpers.Json`，尽管可能还有其他我还没有发现。我的问题可能与[Razor 视图有关：Intellisense not working with C# 3 for class library](https://stackoverflow.com/q/9817803/1715579)但它并不完全相同。这是我的剃刀观点的示例：

```
@model dynamic
@{
    // ... some code ...
    var options = new global::System.Web.Mvc.SelectListItem[] 
    {
        new global::System.Web.Mvc.SelectListItem() 
        {
            Text = "No",
            Value = global::System.Web.Helpers.Json.Encode(false)
        },
        new global::System.Web.Mvc.SelectListItem() 
        {
            Text = "Yes",
            Value = global::System.Web.Helpers.Json.Encode(true)
        }
    };
}
@(global::System.Web.Mvc.Html.SelectExtensions.DropDownList(this.Html, string.Empty, options)) 
```

当我最初打开一个剃刀文件时，我会看到几个警告几种类型的错误：

*   找不到类型或命名空间名称“动态”（您是否缺少程序集引用？）
*   不能使用功能“隐式类型局部变量”，因为它不是 ISO-2 C# 语言规范的一部分
*   无法使用功能“对象初始化器”，因为它不是...
*   命名空间“System.Web.Helpers”中不存在类型或命名空间名称“Json”（您是否缺少程序集引用？）

当我构建项目时，前两种三种类型的错误消失了，但最后一种会持续存在。当我键入`System.Web.Helpers.`仅包含`Antiforgery`、`UnvalidatedRequestValues`和时，会出现智能感知`Validation`。当我在 .cs 文件中输入相同的代码时，我会看到`Json`以及我希望看到的所有其他选项。当我将这些文件复制到我的实际 MVC 项目中时，它不会在编辑器中显示任何错误并且运行良好。

这是我添加到我的项目中的 Web.config 文件，以使其工作到此为止：

```
<configuration>
  <configSections>
    <sectionGroup name="system.web.webPages.razor" type="System.Web.WebPages.Razor.Configuration.RazorWebSectionGroup, System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35">
      <section name="host" type="System.Web.WebPages.Razor.Configuration.HostSection, System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" />
      <section name="pages" type="System.Web.WebPages.Razor.Configuration.RazorPagesSection, System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" />
    </sectionGroup>
  </configSections>

  <system.web.webPages.razor>
    <host factoryType="System.Web.Mvc.MvcWebRazorHostFactory, System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
    <pages pageBaseType="System.Web.Mvc.WebViewPage">
      <namespaces>
        <add namespace="System.Web.Mvc" />
        <add namespace="System.Web.Mvc.Ajax" />
        <add namespace="System.Web.Mvc.Html" />
        <add namespace="System.Web.Routing" />
        <add namespace="System.Web.Helpers" />
      </namespaces>
    </pages>
  </system.web.webPages.razor>

  <appSettings>
    <add key="webpages:Enabled" value="false" />
  </appSettings>

  <system.web>
    <compilation targetFramework="4.0">
      <assemblies>
        <add assembly="System.Web.Abstractions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"/>
        <add assembly="System.Web.Routing, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"/>
        <add assembly="System.Data.Linq, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/>
        <add assembly="System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" />
        <add assembly="System.Web.WebPages, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
      </assemblies>
    </compilation>

    <httpHandlers>
      <add path="*" verb="*" type="System.Web.HttpNotFoundHandler"/>
    </httpHandlers>
    <pages
        validateRequest="false"
        pageParserFilterType="System.Web.Mvc.ViewTypeParserFilter, System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"
        pageBaseType="System.Web.Mvc.ViewPage, System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"
        userControlBaseType="System.Web.Mvc.ViewUserControl, System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35">
      <controls>
        <add assembly="System.Web.Mvc, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" namespace="System.Web.Mvc" tagPrefix="mvc" />
      </controls>
    </pages>
  </system.web>
  <system.webServer>
    <validation validateIntegratedModeConfiguration="false" />
    <handlers>
      <remove name="BlockViewHandler"/>
      <add name="BlockViewHandler" path="*" verb="*" preCondition="integratedMode" type="System.Web.HttpNotFoundHandler" />
    </handlers>
  </system.webServer>
</configuration> 
```

我如何获得智能感知来识别这个类？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-26T20:07:07.597

使用*动态*时，您将失去 Intellisense 的好处。您应该尝试使用强类型视图。在控制器中，尝试通过传入模型实例的 View 方法的重载来指定模型。这会将 ViewData.Model 属性的值设置为传递给 View 方法的值。然后向视图指示使用 @model 声明的模型类型。您可能需要提供模型类型的完全限定类型名称。

# javascript - 使用浏览器 XMLSerializer() 生成没有 XHTML 实体的 XML

> ID：14778988
> 
> 赞同：4
> 
> 时间：2013-02-08T18:26:42.087
> 
> 标签：javascript, xml, dom, xmlserializer

我正在使用 XMLSerializer() 来输出内存中的 XML 文档，但是它似乎使用 XHTML 标准实体（如   ）来“实体化”元素。. **我想生成一个没有 XHTML 实体的 XML 文档**。

我的目标 DTD 没有定义这些实体，因此如果用户碰巧输入了带有相应 XHTML 实体的字符，则序列化文档的格式不正确（引用了一个未定义的实体，如 &nsbp;）

也许我错误地构建了 DOM 树？或者是否有另一种方法可以避免 XMLSerializer() 表现得像 XHTMLSerializer()？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-01-19T16:23:41.843

Firefox 38 中的工作表：

```
new XMLSerializer().serializeToString(document.createRange()
    .createContextualFragment('<div foo="bar&quot;bar">&nbsp;&uuml;</div>')) 
```

结果：

```
"<div xmlns="http://www.w3.org/1999/xhtml" foo="bar&quot;bar"> ü</div>" 
```

只有标准 XML 实体和 utf-8。

# javascript - 如何限制所选 HTML 标记的显示或高度

> ID：14778992
> 
> 赞同：1
> 
> 时间：2013-02-08T18:26:57.423
> 
> 标签：javascript, jquery, html, css

我想知道他们是否可以限制选择标签的显示或高度。

这是我希望它看起来像的图像

![http://i192.photobucket.com/albums/z73/shut2kill/1-4_zpsa7388db7.png](../Images/caf1ac744e239509b965b0c6747c2883.png)

我不介意它是 Javascript、Jquery、CSS，还是只是我需要知道的列表。这个怎么做。或者可以给我一个样品。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T18:33:49.520

如果您最终需要对选择下拉菜单进行一点样式设置，我建议您寻找 jQuery 插件。我使用[选择](http://harvesthq.github.com/chosen/)的，但我现在要警告你，做任何事情都很痛苦。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T18:35:31.943

尝试这个 ：

```
 <select size="5"> 
```

或者你想要的任何尺寸：希望这对你有用

# jquery - 如何在此列表中选择 i 元素的类？

> ID：14778994
> 
> 赞同：2
> 
> 时间：2013-02-08T18:27:03.123
> 
> 标签：jquery

我需要使用 jquery 在此列表项中选择元素的类

列表项在这里：-

```
<li><a href="#" title="general news"><i class="icon-rss"></i> news</a></li> 
```

我试过了，但不高兴，它说未定义：-

```
 $(".btn-group li").click(function () {
    var className = $(this).children("i").attr('class');
    alert(className);
 }); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-08T18:29:07.370

`i`不是元素的子`li`元素，它是元素的子`a`元素，因此`$(this).children("i")`返回一个空集。

您可以改用[`.find` *^([docs])*](http://api.jquery.com/find/)，它将搜索任何后代：

```
$(this).find('i').attr('class'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T18:29:20.047

```
 $(this).find("i").attr('class'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T18:29:54.903

`$(this).find("i").attr('class')`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-08T18:31:53.463

这将为您完成：

```
 $(".btn-group li").click(function () {
   $(this).find('i').attr('class');
 }); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-08T18:32:47.393

问题是它`$(this).children("i")`不返回任何东西，将其替换为`$('i', this)`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-08T18:34:14.263

试试这个

```
$('li').click(function(){
  var className = $(this).find('i').attr('class')
  alert('className is: ' + className)
}); 
```

演示：http: [//jsfiddle.net/y6nP7/](http://jsfiddle.net/y6nP7/)

# ruby-on-rails - 将 Rails 3.0 升级到 3.1 时路由停止工作

> ID：14778995
> 
> 赞同：0
> 
> 时间：2013-02-08T18:27:06.220
> 
> 标签：ruby-on-rails, ruby-on-rails-3.1, routes, view-helpers, url-for

我正在使用带有 Rails 3.1 的 Ruby 1.8.7。我的应用程序在 Rails 3.0 中运行良好，但是当我将它升级到 Rails 3.1.4 时，我所有的 url 助手都坏了！

在过去两天像疯子一样谷歌搜索之后，我已经放弃了，是时候寻求帮助了。我不认为问题出在我的 routes.rb 文件上，而是在视图/助手方面。

我的 routes.rb 中有以下内容：

```
resources :sessions 
```

在我的主页视图中，我有以下link_to，它出错了：

```
<%= link_to "Login", new_session_path %> 
```

当我执行 rake 路由时，我得到以下输出，因此路径存在：

```
 sessions GET    /sessions(.:format)          {:controller=>"sessions", :action=>"index"}
                   POST   /sessions(.:format)          {:controller=>"sessions", :action=>"create"}
       new_session GET    /sessions/new(.:format)      {:controller=>"sessions", :action=>"new"}
      edit_session GET    /sessions/:id/edit(.:format) {:controller=>"sessions", :action=>"edit"}
           session GET    /sessions/:id(.:format)      {:controller=>"sessions", :action=>"show"}
                   PUT    /sessions/:id(.:format)      {:controller=>"sessions", :action=>"update"}
                   DELETE /sessions/:id(.:format)      {:controller=>"sessions", :action=>"destroy"} 
```

当我在浏览器中转到 /sessions/new 时，页面再次加载，路由存在，但在基于 _path 的 url 上出错：

```
<%= form_tag sessions_path, :method => :post do -%> 
```

我得到的错误如下：

```
ActionView::Template::Error (undefined local variable or method `sessions_path' for #<#<Class:0x109cb8900>:0x109cab840>): 
```

由于路由确实存在，因此它必须与 url_for 助手有关。我还应该寻找什么？

更新 1：

我在 application_helper.rb 中添加了以下内容：

```
include Rails.application.routes.url_helpers 
```

现在，当我收到以下错误时：

```
In order to use #url_for, you must include routing helpers explicitly. For instance, `include Rails.application.routes.url_helpers 
```

这不是我刚刚做的吗？

更新 2：

以下工作按照 Yoshiji 先生的建议：

```
Rails.application.routes.url_helpers.sessions_path 
```

更新 3：

通过删除供应商目录中的一些旧 Rails 2 插件，我让 session_path 再次工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T20:29:00.960

在 vendor/plugins 中删除了一些 Rails 2 插件就可以了。

# c# - 如何在 linq to sql 中忽略违反主键约束

> ID：14778996
> 
> 赞同：3
> 
> 时间：2013-02-08T18:27:08.597
> 
> 标签：c#, linq-to-sql, exception-handling

我有一个表，其中两个字段（`idLocation, zipcode`）都用作主键：

```
CREATE TABLE [dbo].[locationZipCode](
    [idLocation] [int] NOT NULL,
    [zipcode] [char](5) NOT NULL,
    [state] [char](2) NULL,
    CONSTRAINT [locationZipCode_pk_idLocation_zipcode] PRIMARY KEY CLUSTERED ([idLocation], [zipcode])
 ) 
```

在我的应用程序中，我正在调用：

```
context.InsertAllOnSubmit(entities);
context.SubmitChanges(ConflictMode.ContinueOnConflict); 
```

并在尝试插入重复记录时出现重复键违规。这是意料之中的。如果任何记录重复，则不插入任何记录。 **无论如何要忽略重复键异常并继续插入任何不违反主键约束的记录？**

我意识到我可以在调用`InsertAllOnSubmit()`我的应用程序之前验证重复，但如果我能抓住错误并继续插入，那将是理想的。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-08T18:29:47.947

对于 SQL Server`IGNORE_DUP_KEY`标志，使数据库引擎忽略键违规。如果密钥存在，数据库中没有任何变化。

```
 CREATE UNIQUE CLUSTERED INDEX [locationZipCode_idx] ON locationZipCode
 (
    [idLocation] ASC, [zipcode] ASC
 ) WITH ( IGNORE_DUP_KEY = ON ) 
```

不要忘记先删除当前的PK。