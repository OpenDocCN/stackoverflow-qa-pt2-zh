# StackOverflow 问答 12928000-12928999

# mysql - MySQL子查询选择特定列

> ID：12928000
> 
> 赞同：0
> 
> 时间：2012-10-17T05:57:33.043
> 
> 标签：mysql

我有一个返回 3 列的子查询。我无法摆脱它们。我只想将其中一列用于父查询。

例如。

```
SELECT * FROM table_a WHERE id = (SELECT a,id,b FROM table_b LIMIT 1); 
```

我只想`id`从`table_b`.

我正在寻找类似的东西：

```
SELECT * FROM table_a WHERE id = (SELECT a,id,b FROM table_b LIMIT 1)[id]; 
```

我将如何做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-17T06:39:04.327

怎么样：

```
SELECT * FROM table_a WHERE id =
(select id from
 (SELECT a,id,b FROM table_b LIMIT 1)a); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T06:00:58.087

```
SELECT * 
FROM table_a 
WHERE id IN
    (
        SELECT a FROM tableB limit 1
        UNION
        SELECT id FROM tableB limit 1
        UNION
        SELECT b FROM tableB limit 1
    ) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T06:03:47.273

```
SELECT * FROM table_a, (SELECT a,id,b FROM table_b LIMIT 1) temp_b where table_a.id = temp_b.id; 
```

这个结果符合你的想法吗？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-17T06:10:06.897

我认为实现这一目标的最佳方法是：

```
SELECT * 
FROM table_a
inner join 
 (
       SELECT a as id FROM tableB
        UNION
        SELECT id FROM tableB
        UNION
        SELECT b as id FROM tableB
) tempB on (table_a.id=tempB.id) 
```

# flash - 如何将 Flash 窗口本身捕获为 Flash 中的视频源？

> ID：12928003
> 
> 赞同：0
> 
> 时间：2012-10-17T05:57:46.933
> 
> 标签：flash, actionscript, video-capture

我有带有按钮和绘图板的 Flash GUI，并希望将所有发生在其上的动作作为视频进行流式传输。

我知道有可能将 UIComponent 保存为图像：

```
public class DrawingArea extends UIComponent
    public function getArray(): ByteArray {
        var bd:BitmapData = new BitmapData(width, height);
        bd.draw(this);

        var ba:ByteArray = (new PNGEncoder()).encode(bd);
        return ba;
    }
} 
```

但我想将 UIComponent 的图形表示捕获为 VideoStream 并将其发布到某个地方以便保存。

Flash 中是否有任何内置功能可以从我的 UIComponent 创建视频源，然后将其附加到 NetStream 以便发布？

如果不是 - 我可以使用哪些附加软件来将我的 Flash GUI 区域作为视频处理？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T03:42:29.133

没有内置方法，这意味着您将无法利用`NetStream`该类的视频编码能力。但是您总是可以提出自己的协议来在服务器端保存图像或视频流。有关更多详细信息，请参阅[此帖子](https://stackoverflow.com/questions/12326337/as3-is-it-possible-to-capture-stage-elements-or-bitmap-data-into-a-netstream/)。

# php - 查找对话次数和每次对话的总时间

> ID：12928004
> 
> 赞同：0
> 
> 时间：2012-10-17T05:57:53.387
> 
> 标签：php, mysql

```
$query=mysql_query("SELECT @rownum := @rownum + 1 AS id,t.convo_id,t.body_xml,FROM_UNIXTIME(t.timestamp) FROM messages t,(SELECT @rownum := 0) r WHERE t.convo_id='137'");

$recordset = array(); 

$i = 0;

while ($row = mysql_fetch_array($query))

{

       $recordset[$i] = $row;
    if ($i > 0) 
    { 
        $recordset[$i-1]['nextid'] = $row['0']; 
        $datetime1 = new DateTime($recordset[$i-1][3]);
        $datetime2 = new DateTime($recordset[$i][3]);

        $interval = $datetime1->diff($datetime2);
        $hours   = $interval->format('%h');
        $minutes = $interval->format('%i');
        $seconds = $interval->format('%s');
        ?>
        <tr>
            <td><?php echo $row[0];?></td>
            <td><?php echo $row[1];?></td>
            <td><?php echo $row[2];?></td>
            <td><?php echo $row[3];?></td>
            <td><?php echo  $hours .":".$minutes.":".$seconds ?></td>
           <?php

     }

    $i++;

} 
```

```
输出
-------------------------------------------------- ---------------------------------
SL.No Convo 消息日期持续时间
         ID
-------------------------------------------------- ---------------------------------
  2 137 你好 2012-08-30 10:29:59 0:0:21
  3 137 你好吗？2012-08-30 10:30:39 0:0:40
  4 137 罚款 2012-08-30 10:31:05 0:0:26
  5 137 美国广播公司 2012-08-30 15:05:50 2:16:49
  6 137 xyz 2012-08-30 15:07:03 0:1:13
  7 137 密件抄送 2012-08-30 15:07:39 0:0:36

```

如果持续时间超过 10 分钟，则视为新对话，并记下先前对话的开始时间和结束时间。

我需要找到没有。对话的总时间和每次对话的总时间。

```
-------------------------------------------------- --------------------------------------
开始结束总时间
-------------------------------------------------- --------------------------------------
2012-08-30 10:29:59 2012-08-30 10:31:05 0.1.37

```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:37:47.973

```
 SELECT @rownum := @rownum + 1 AS id,t.convo_id,t.body_xml,
         str_to_date(min(t.timestamp),'%y%m%d')as
         start,str_to_date(max(t.timestamp),'%y%m%d') as 
end,sum(str_to_date(t.timestamp),'%i')as    duration FROM
         messages t,(SELECT @rownum := 0) r WHERE t.convo_id='137' group by t.convo_id 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T06:12:58.513

使用以下查询

```
 SELECT conversation_id, MIN( `startDate` ) as START, MAX( `endDate` ) as END, SUM(`duration`) as TOTALTIME
    FROM `conversation_details`
    GROUP BY conversation_id 
```

# android - 选择语言和翻译

> ID：12928006
> 
> 赞同：0
> 
> 时间：2012-10-17T05:57:55.570
> 
> 标签：android

我正在开发一个应用程序，用户可以选择一种语言，它会显示一条消息，例如用不同的语言说“你好”。

我创建了一个微调器。用户将选择他/她想要翻译“你好”的任何语言。

这是我在微调器上选择项目的代码。我不知道下一步该做什么。如何从文件夹 values-es(Spanish)、values-fi(Finnish) 等中获取值。

```
public void onItemSelected(AdapterView<?> parent, View view, int pos,
        long id) {
    int position = parent.getSelectedItemPosition();
    switch (position) {
    case 0: // English

        break;
    case 1:// Spanish
                     //Display the value on  values-es/strings.xml
        break;
    case 2:// Finnish
                     //Display the value on  values-fi/strings.xml
        break;
    case 3:// French
                     //Display the value on  values-fr/strings.xml
        break;
    case 4:// Protuguese
                     //Display the value on  values-pt/strings.xml
        break;
    default:
        break;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:04:41.650

使用以下代码

```
Locale locale2 = new Locale("fr"); 
Locale.setDefault(locale2);
Configuration config2 = new Configuration();
config2.locale = locale2;
getBaseContext().getResources().updateConfiguration(config2,       context.getResources().getDisplayMetrics());

 /** Update activity or restart application in order to update resources.**/ 
```

# sublimetext2 - 在 Sublime Text 2 上集中 Packages 文件夹

> ID：12928011
> 
> 赞同：2
> 
> 时间：2012-10-17T05:58:25.260
> 
> 标签：sublimetext2

嗨，我正在运行 2 份 sublime text 2。一份在 windows 盒子上，另一份在运行 ubuntu 的笔记本电脑上。我想知道是否可以将 sublime packages 文件夹移动到共享位置。我在任何给定时间只使用一台机器，但如果包/片段等在两个环境中保持一致，那就太好了。有人对此有任何运气吗？

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T08:39:20.187

Sublime Text 2 可能会对设置文件的文件保持写锁定，因此如果您尝试*同时*从多个位置使用它们，共享文件可能无法按预期工作。

但是，可以共享设置，并且在 UNIX 上，用户可以通过符号链接（Windows 上的 mklink）进行共享。我很确定你不能从 Sublime 本身设置配置文件的路径，所以你需要做一些文件系统技巧。

但作为推荐的方法，我会使用一些文件共享服务，如 Dropbox，它也会自动保留文件的备份，以防你在 Sublime Text 2 中意外破坏它们：

[http://opensourcehacker.com/2012/05/24/sync-and-back-up-sublime-text-settings-and-plug-ins-using-dropbox-on-linux-and-osx/](http://opensourcehacker.com/2012/05/24/sync-and-back-up-sublime-text-settings-and-plug-ins-using-dropbox-on-linux-and-osx/)（有关于OSX、Linux、Windows）

另外我不确定这些配置中是否有特定的操作系统，但如果您使用相同的操作系统，我可以确认它可以 100% 工作。

# activemq - ActiveMQ 主/从对与代理网络

> ID：12928012
> 
> 赞同：0
> 
> 时间：2012-10-17T05:58:28.330
> 
> 标签：activemq

我能够建立具有存储和转发策略的经纪人网络并且工作正常。我现在得到了更大的机器，并想在经纪人网络中设置主/从对。我了解 Masters 不需要任何配置更改，但 Slaves 应使用 URI 指示其对应的 master。但是，我不太清楚在客户端中指定什么 uri。我正在使用 5.6 版本。

例如：两台机器，MasterA、SlaveB 在一台机器上，MasterB、SlaveA 在另一台机器上。主机和从机之间没有网络连接器，但 MasterA 和 MasterB 之间没有网络连接器。我希望到目前为止我是对的。客户端uri呢？我目前在客户端使用 nio 协议，例如`failover:(nio:localhost1:61616,nio:localhost2:61616)?randomize=true`. 我指定 randomize=true 来平衡代理之间的负载。

请建议我应该使用什么客户端 URI？我应该包含所有代理 URI 还是只包含主 URI？我还能使用 nio 协议吗？我更喜欢使用`randomize=true`，以便负载平衡。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-22T12:08:54.213

在最简单的情况下，客户端 uri 应该包含 4 个代理，都是一对主/从 uri。对于网络连接器，它们需要准备好将主节点桥接到主节点或主节点到从节点，这都是可用的。5.6 中有一个新的主从：发现代理，它简化了网络连接器的配置。 [http://activemq.apache.org/networks-of-brokers.html#NetworksofBrokers-MasterSlaveDiscovery](http://activemq.apache.org/networks-of-brokers.html#NetworksofBrokers-MasterSlaveDiscovery)

# java - Struts 2 不调用动作类 execute() 方法

> ID：12928017
> 
> 赞同：3
> 
> 时间：2012-10-17T05:58:46.563
> 
> 标签：java, struts2

我是 Struts2 的新手，并在 struts 中创建了一个简单的 HelloWorld 应用程序，但问题是当我单击提交按钮时没有调用我的操作类，控制台上也没有任何异常。这是我的代码，

**`web.xml`**

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://java.sun.com/xml/ns/javaee" 
xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" 
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd" 
id="WebApp_ID" version="3.0">

  <welcome-file-list>
      <welcome-file>index.jsp</welcome-file>
   </welcome-file-list>
    <filter>
        <filter-name>struts2</filter-name>
        <filter-class>org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter</filter-class>
    </filter>

    <filter-mapping>
        <filter-name>struts2</filter-name>
        <url-pattern>/*</url-pattern>
    </filter-mapping>
</web-app> 
```

**`struts.xml`**

```
<?xml version="1.0" encoding="UTF-8"?>

<struts>
    <constant name="struts.enable.DynamicMethodInvocation"
        value="false" />
    <constant name="struts.devMode" value="true" />

    <package name="default" extends="struts-default" namespace="/">
        <action name="helloAction"
            class="com.tutorial.struts2.HelloWorldAction">
            <result name="success">helloworld.jsp</result>
        </action>
    </package>
</struts> 
```

**`index.jsp`**

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
<%@ taglib prefix="s" uri="/struts-tags" %>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Insert title here</title>
</head>
<body>
    <h1>Welcome to Struts</h1>
     <form action="/helloAction">
      <label for="name">Please enter your name</label><br/>
      <input type="text" name="userName"/>
      <input type="submit" value="Say Hello"/>
   </form>
   </body>
</html> 
```

**`HelloWorldAction`**

```
package com.tutorial.struts2;

public class HelloWorldAction {

    public String userName;

    public String execute() throws Exception{
        System.out.println(userName);
        return "success";
    }

    public String getUserName() {
        return userName;
    }

    public void setUserName(String userName) {
        this.userName = userName;
    }
} 
```

**`helloworld.jsp`**

```
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<%@ taglib prefix="s" uri="/struts-tags" %>

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Insert title here</title>
</head>
<body>
     Hello World, <s:property value="userName"/>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T06:58:41.503

**helloworld.jsp**

```
<s:property value="name"/> 
```

财产在哪里`name`？？您在哪个行动类别中声明了`name`财产？

它应该是 `<s:property value="userName"/>`

请记住，struts 会尝试通过将`get+YourProperty()`

在您的情况下，它会尝试找出`getName()`您的操作类中不可用的方法。

**编辑：**

您的 url`helloAction`未正确映射尝试在浏览器中运行它，

```
http://yourIp:port/yourApplicationName/yourNameSpace/yourAction 
```

这将成为您的项目

```
http://yourIp:8080/HelloWorldStruts/testNameSp/helloAction 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-21T07:21:53.060

我认为您需要对代码进行两次更改

```
public class HelloWorldAction extends Action 
```

是第一个和第二个，用户 struts 属性用于表单发布操作

```
<s:form action="helloAction"> 
```

希望能帮到你。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T06:02:08.113

`Action`你应该在你的动作类中扩展：

```
public class HelloWorldAction extends Action { 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-17T06:22:08.863

尝试通过扩展`com.opensymphony.xwork2.ActionSupport`类并覆盖这样的执行方法

```
import com.opensymphony.xwork2.ActionSupport;

public class HelloWorldAction extends ActionSupport{

    public String execute() {
        System.out.println(userName);
        return "success";
    }

} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-06-27T14:57:17.393

当心：**它适用于 Struts 1**

我有同样的问题，但我已经通过删除`forward`属性解决了我的问题`action-mappings`

这个是对的：

```
<action-mappings>
    <action input="/user_list.jsp" name="UserAddFormBean" path="/userAdd" 
            scope="request" 
            type="com.minetronics.struts.UserAdd" validate="true" forward="/user_add.jsp">
            <forward name="success" path="/user_add.jsp"/>
    </action>
</action-mappings> 
```

但这将跳过调用`execute`并直接转到`forward`

```
<action-mappings>
    <action input="/user_list.jsp" name="UserAddFormBean" path="/userAdd" 
            scope="request" 
            type="com.minetronics.struts.UserAdd" validate="true">
            <forward name="success" path="/user_add.jsp"/>
    </action>
</action-mappings> 
```

# android - 如何在低版本中运行高版本应用程序？

> ID：12928018
> 
> 赞同：0
> 
> 时间：2012-10-17T05:58:53.880
> 
> 标签：android

我开发了一个在 android 4.0(icecream Sandwhich) 中正常运行但在 2.3.3(ginger Bread) 中无法正常运行的应用程序。

它显示了类似进程 example.app_name 在 2.3.3 中意外停止但在 4.0.3 中工作正常的错误。

有人知道应用程序必须在 2.3.3 版本上运行吗？

提前致谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T06:01:50.717

试试这个可能有用

将此行添加到 AndroidManifest.xml 中的代码中

```
<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="15" /> 
```

将此添加为标签的子`<manifest>`标签并根据您的需要更改值

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T06:12:22.523

首先，您需要[支持库](http://developer.android.com/tools/extras/support-library.html)

支持包包含静态“支持库”，您可以将其添加到 Android 应用程序中，以便使用旧平台版本不可用的 API，或者提供不属于框架 API 的“实用程序”API。目标是通过提供更多可以与应用程序捆绑的 API 来简化您的开发，从而减少对平台版本的担忧。

完成**设置项目以使用库的步骤**

并设置**最小值。清单中的 SDK 版本**，否则您将无法将应用程序安装到设备

# windows-phone-7 - 在 Windows Phone 和 Windows 8 之间共享远程设置

> ID：12928019
> 
> 赞同：1
> 
> 时间：2012-10-17T05:58:56.380
> 
> 标签：windows-phone-7, windows-8

我目前有一个可以在 Windows 8 和 Windows Phone 7 上运行的应用程序。我想做的是能够访问我在 Windows Phone 7 版本上用于 Windows 8 的 RoamingSettings。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:41:39.900

没有内置任何东西。

您可以通过基本上自己漫游来自己完成 - 您将数据保存到中央位置并让用户登录（您自己的登录或实时登录，或 Facebook 等）。

# soapui - 如何通过soapUI将参数作为对象分配给Web服务API？

> ID：12928024
> 
> 赞同：0
> 
> 时间：2012-10-17T05:59:21.323
> 
> 标签：soapui

我正在使用soapUI 来测试我的Web 服务API，但是一些字段/参数是一个对象而不是标准数据类型，例如

```
<soapenv:Envelope xml>
   <soapenv:Header/>
   <soapenv:Body>
      <api:test>
         <api:giveMeSomeText>BEEF1234567890</api:giveMeSomeText>
         <api:giveMeJavaURLObject>??????</api:giveMeJavaURLObject>
      </api:test>
   </soapenv:Body>
</soapenv:Envelope> 
```

如何通过soapUI将参数作为对象分配给Web服务API？我可以使用 CDATA 字符串来捆绑我的对象，怎么做？

```
<![CDATA[??????]]> 
```

![在此处输入图像描述](../Images/188213ed2d3780b542cd5eb494939446.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T15:04:04.187

您可以使用 CDATA，请参阅以下示例

```
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:sam="http://www.example.org/sample/">
   <soapenv:Header/>
   <soapenv:Body>
      <sam:searchResponse>
         <sam:searchResponse>
            <item><id>1234</id><description><![CDATA[<item><width>123</width><height>345</height>
<length>098</length><isle>A34</isle></item>]]></description><price>123</price>
            </item>
         </sam:searchResponse>
      </sam:searchResponse>
   </soapenv:Body>
</soapenv:Envelope> 
```

# c# - 使用 Regex 和 C# 返回部分文本

> ID：12928028
> 
> 赞同：0
> 
> 时间：2012-10-17T05:59:37.373
> 
> 标签：c#, regex

我试图找到具有特定关键字的文本的某个部分。我做到了，但我认为可能有更好的方法来做到这一点。

这是我的代码，

```
 /// <summary>
    /// Return String containing the search word
    /// </summary>
    /// <param name="strInput">Raw Input</param>
    /// <param name="searchWord">Search Word</param>
    /// <param name="minLength">Output Text Length</param>
    /// <returns></returns>
    public static String StringHavingSearchPattern(String strInput, String searchWord, Int32 minLength)
    {
        //considering the return string empty
        String rtn = String.Empty;
        //
        if (String.IsNullOrEmpty(strInput))
        {
            return rtn;
        }
        // consider the raw input as return;
        //rtn = strInput;
        int length = strInput.Length;

        //if the rawinput length is greater||equal than/to the min length
        if (length >= minLength)
        {
            int currentSearchIndex = -1;
            searchWord = String.Format(@"{0}", searchWord);
            //currentSearchIndex = strInput.IndexOf(searchWord,StringComparison.InvariantCultureIgnoreCase);
            Match m = Regex.Match(strInput, searchWord, RegexOptions.Multiline | RegexOptions.IgnoreCase);
            if (m.Success)
            {
                currentSearchIndex = m.Index;
                if (currentSearchIndex >= 0)
                {
                    if (currentSearchIndex > 9)
                    {
                        if ((length - currentSearchIndex - 1) >= minLength)
                        {
                            rtn = strInput.Substring((currentSearchIndex - 9), minLength);
                        }
                        else
                        {
                            rtn = strInput.Substring((currentSearchIndex - 9), length - currentSearchIndex - 1);
                        }
                    }
                    else
                    {
                        rtn = strInput.Substring(0, minLength);
                    }
                }
                else
                {
                    rtn = strInput.Substring(0, minLength);
                }
            }
        }
        rtn = Regex.Replace(rtn, searchWord, String.Format("<span style='color:yellow;background-color:blue;'>{0}</span>", searchWord), RegexOptions.IgnoreCase | RegexOptions.Multiline);

        //rtn = rtn.Replace(searchWord, String.Format("<span style='color:yellow;background-color:blue;'>{0}</span>", searchWord));
        return rtn;
    } 
```

寻找你的好建议来改进它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:08:34.883

你的预感是对的；您可以使用一个简单的正则表达式来实现这一点：

```
Match m = Regex.Match(strInput, "(.{0," + minLength.ToString() + "}" + searchWord + ".*)", ... 
```

例如，这将为`searchWord`“关键字”和`minLength`10 创建以下正则表达式，

```
(.{0,10}keyword.*) 
```

这意味着，“最多捕获 10 个字符，后跟‘关键字’和文本的其余部分。” 然后，您可以抓取捕获的组：

```
m.Groups[1].Value 
```

`minLength`请注意，在搜索词之前有少于字符的情况被覆盖。

# iphone - 如何从 xml 中获取图像？

> ID：12928029
> 
> 赞同：6
> 
> 时间：2012-10-17T05:59:53.230
> 
> 标签：iphone, ios, xml

我是 iPhone 的新手开发人员。我正在做简单的 xml 解析演示。我想我怎样才能得到遵循 xml 代码的图像？？？

```
<item> 
      <title>Rain washes out England qualifier</title>  
      <description>England's World Cup qualifier against Poland is postponed because of a waterlogged pitch and is rescheduled for 16:00 BST on Wednesday.</description>  
      <link>http://www.bbc.co.uk/sport/0/football/19941036</link>  
      <guid isPermaLink="false">http://www.bbc.co.uk/sport/0/football/19941036</guid>  
      <pubDate>Tue, 16 Oct 2012 21:18:26 GMT</pubDate>  
      <media:thumbnail width="66" height="49" url="http://news.bbcimg.co.uk/media/images/63530000/jpg/_63530879_016250328-1.jpg"/>  
      <media:thumbnail width="144" height="81" url="http://news.bbcimg.co.uk/media/images/63529000/jpg/_63529179_016250328-1.jpg"/> 
    </item> 
```

我怎样才能得到图像？

我已经使用以下代码获得了标题或描述。

```
- (void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName
{

    if([elementName  isEqualToString:className])
    {
        [items addObject:item];
        [item release];
        item = nil;
    }
    else
    {
        if([currentNodeContent length] != 0)
        {

            if([className  isEqualToString:@"item"])
            {

                if([elementName  isEqualToString:@"title"]|| [elementName  isEqualToString:@"description"] || [elementName isEqualToString:@"url"])
                {
                    [item setValue:currentNodeContent forKey:currentNodeName];

                    if ([elementName isEqualToString:@"media:thumbnail"])
                    {
                         [item setValue:currentNodeContent forKey:@"url"];
                    }

                }

                else
                {

                }

            }
        }
            else
            {
            }

        }

    [currentNodeContent release];
    currentNodeContent = nil;
    [currentNodeName release];
    currentNodeName = nil;

} 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T06:12:42.540

要从 url 获取图像，请使用此方法返回图像

```
UIImage * imageFromURL = [self getImageFromURL:imageurlstring];

-(UIImage *) getImageFromURL:(NSString *)fileURL {
  UIImage * result;

  NSData * data = [NSData dataWithContentsOfURL:[NSURL URLWithString:fileURL]];
  result = [UIImage imageWithData:data];

  return result;
} 
```

要保存图像，请使用此方法

```
[self saveImage:imageFromURL withFileName:[fileComponents objectAtIndex:0] ofType:[fileComponents objectAtIndex:1] inDirectory:documentsDirectoryPath];

-(void) saveImage:(UIImage *)image withFileName:(NSString *)imageName ofType:(NSString *)extension inDirectory:(NSString *)directoryPath {
   imageName = [imageName stringByReplacingOccurrencesOfString:@"%20" withString:@" "];
   [UIImagePNGRepresentation(image) writeToFile:[directoryPath stringByAppendingPathComponent:[NSString stringWithFormat:@"%@.%@", imageName, extension]]options:NSAtomicWrite error:nil];       
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T06:22:53.833

您可以将 .h 文件中的 imageLink 声明为 NSString。

```
- (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI  qualifiedName:(NSString *)qName attributes:(NSDictionary *)attributeDict
{
  if([elementName isEqualToString:@"media:thumbnail"]) {
    NSLog(@"attributes1: %@", attributeDict);
    imageLink = [attributeDict objectForKey:@"url"];
  }
} 
```

使用上面的代码，您可以获取图像 url，然后使用以下代码显示图像。

```
NSData* imageData = [NSData dataWithContentsOfURL:[NSURL urlWithString:imageLink]];
UIImage* image = [UIImage imageWithData:imageData]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T06:08:30.603

您的 xml 在服务器上只有一个图像的 url，因此在解析时将此 url 保存在字符串中。当您需要在屏幕上显示图像时，请使用从 url 获取图像

```
NSData* imageData = [NSData dataWithContentsOfURL:[NSURL urlWithString:your_url]];
UIImage* image = [UIImage imageWithData:imageData]; 
```

要异步加载图像，Git Hub 上有很多可用的示例，请使用 asyncImage 之一，它会缓存最近下载的图像。

# java - javax.naming.NameNotFoundException：名称 [jdbc/eswastha] 未绑定在此上下文中。找不到 [jdbc]

> ID：12928030
> 
> 赞同：2
> 
> 时间：2012-10-17T06:00:03.567
> 
> 标签：java, tomcat7, jndi

我将首先描述环境

**环境**：：`Netbeans 7.2 and Tomcat 7.0.27.0 is configured with Netbeans ID`

当我单独进行构建并将其放在`webapps`文件夹中并运行时，没有问题，但是当我在 IDE 本身中运行应用程序时，我得到`javax.naming.NameNotFoundException: Name [jdbc/eswastha] is not bound in this Context. Unable to find [jdbc].`了这个异常。

conf/context.xml

```
<Resource name="jdbc/eswastha" auth="Container" type="javax.sql.DataSource"
               maxActive="100" maxIdle="30" maxWait="10000"
               url="jdbc:mysql://localhost:3306/eswastha"
               driverClassName="com.mysql.jdbc.Driver"
               username="root" password="r14@17*" /> 
```

和 web.xml

```
<resource-ref>
      <description>DB Connection</description>
      <res-ref-name>jjdbc/eswastha</res-ref-name>
      <res-type>javax.sql.DataSource</res-type>
      <res-auth>Container</res-auth>
  </resource-ref> 
```

和java类：

```
import java.sql.Connection;
import javax.naming.Context;
import javax.naming.InitialContext;
import javax.sql.DataSource;

public class JDBCManager {

    public Connection mysqlConnection()  {
        Connection dbConnection = null;
        try {

            Context initContext = new InitialContext();
            Context envContext  = (Context)initContext.lookup("java:/comp/env");
            DataSource ds = (DataSource)envContext.lookup("jdbc/eswastha");
            dbConnection = ds.getConnection();

        } catch (Exception e) {
            e.printStackTrace();
        }
        return dbConnection;

    }
} 
```

请帮我确定问题。

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:04:21.863

它失踪了吗？查看

```
 <res-ref-name>jjdbc/eswastha</res-ref-name>
 and
 <Resource name="jdbc/eswastha"..../> 
```

* * *

根据您的评论：无法为连接 URL 'null' 创建类 '' 的 JDBC 驱动程序

* * *

确保您的`JDBC Driver`和复制驱动程序 jar 文件在`tomcat-home/lib`.

将为您提供参考。[这里](https://stackoverflow.com/questions/9332276/cannot-create-jdbc-driver-of-class-for-connect-url-null-tomcat-sql-serv)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-02-14T10:21:11.717

您可能想尝试以完整的 JNDI 名称访问数据源，例如：“java:comp/env/jdbc/test” 来源： http: [//www.coderanch.com/t/442367/Tomcat/jdbc-bound-语境](http://www.coderanch.com/t/442367/Tomcat/jdbc-bound-Context)

第二点，我注意到您在 web.xml 中定义**了 jjdbc**而不是**jdbc**：

```
<res-ref-name>jjdbc/eswastha</res-ref-name> 
```

# php - phpthumb 可以为渐进式浏览器显示生成交错图像吗？

> ID：12928031
> 
> 赞同：2
> 
> 时间：2012-10-17T06:00:10.560
> 
> 标签：php, image-processing, phpthumb

是否可以使用 phpthumb 生成隔行扫描图像？即使 phpthumb 不生成交错图像，是否有一种安全的方法可以在使用 phpthumb 进行图像处理的 web 应用程序上实现这一点？

我试着找出 phpthumb 是否有这个功能，我能想到的只是`phpThumb.config.php`文件中的这个配置指令：

```
$PHPTHUMB_CONFIG['output_interlace'] = true;   // if true: interlaced output for GIF/PNG, progressive output for JPEG; if false: non-interlaced for GIF/PNG, baseline for JPEG. 
```

我将我的设置为 true，它仍然没有生成隔行扫描图像。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-28T17:30:28.877

我自己想知道这一点，并检查[phpthumb 源](http://phpthumb.sourceforge.net/index.php?source=phpthumb.class.php)看起来像 GD 库它仅在 (1) 调用 OutputThumbnail() 方法和 (2) 使用 ImageMagick、ImageMagickThumbnailToGD() 方法时进行隔行扫描。据我所知，当您使用该类并调用 GenerateThumbnail() 时，它不会被调用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-31T14:25:05.210

已推送补丁来解决此问题 - 现在，如果启用该设置，OutputThumbnail 和 RenderToFile 都将生成正确隔行扫描的 JPEG (true)

# mysql - 获取所有值？

> ID：12928034
> 
> 赞同：0
> 
> 时间：2012-10-17T06:00:26.170
> 
> 标签：mysql

因此，假设我的数据库中有一个名为 cash 的列。一个用户得到了 1000 个，另一个用户得到了 150 个。我如何将所有这些放在一起？所以我可以显示所有用户获得了多少现金？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-17T06:01:24.227

你的意思是你只想对列的所有结果求和？

```
SELECT Sum(Cash) FROM YourTable 
```

? 如果你想通过用户 ID 或类似的东西来汇总现金，你需要一个 GROUP BY 子句。有关更多信息，请参阅[MySQL 文档](http://dev.mysql.com/doc/refman/5.6/en/group-by-functions.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T06:01:31.400

使用`SUM`并按用户分组，例如

```
SELECT user, SUM(cash)
FROM tableName
GROUP BY user 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-17T06:01:33.017

假设您有一个包含以下数据的表：

```
现金 | 用户名
1000 英尺
150 巴
100 巴兹
200 巴兹

```

您可以使用`SUM`总结所有行。此查询将返回具有值的单行`1450`：

```
SELECT SUM(cash) AS totalCashForAllUsers
FROM myTable 
```

* * *

如果你想显示*每个*用户的总和，你应该`GROUP BY`是用户。例如：

```
SELECT SUM(cash) AS totalCash, userName
FROM myTable
GROUP BY userName 
```

这将给出以下结果：

```
总现金 | 用户名
1000 英尺
150 巴
300 巴兹

```

# perl - 在 perl 脚本命令行中添加一个选项

> ID：12928035
> 
> 赞同：-2
> 
> 时间：2012-10-17T06:00:27.197
> 
> 标签：perl

假设这是 file.txt

```
Name:Lab1:Lab2:Lab3:Lab4:Lab5:Lab6:Exam1:Exam2:Final

Annette Adams :8:24:19:24:10:12:43:35:98
Mary Beard:9:30:19:23:10:14:29:39:87
Antoinette Brown:9:16:18:22:9:12:19:31:79
.
.
. 
```

是否可以`Perl`编写带有一些选项的脚本，用户可以将这些选项传递给命令行并获得结果。

例如 `getAverage.pl -l 3 file.txt`打印 Lab3 Marks 的平均值。

如果可能的话，整个过程是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T06:04:47.610

尝试[http://perldoc.perl.org/Getopt/Long.html](http://perldoc.perl.org/Getopt/Long.html) 从文档中：

> Getopt::Long 模块实现了一个名为 GetOptions() 的扩展 getopt 函数。此函数遵循 POSIX 命令行选项语法，带有 GNU 扩展。一般来说，这意味着选项有长名称而不是单个字母，并以双破折号“--”引入。提供了对命令行选项捆绑的支持，就像更传统的单字母方法一样，默认情况下不启用。

有关在 Perl 中访问命令行选项的一般信息，请阅读`perlvar`文档： http: [//perldoc.perl.org/perlvar.html#$ARGV](http://perldoc.perl.org/perlvar.html#%24ARGV)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-17T06:42:17.263

我在 python 中组合了一个快速而肮脏的解决方案。应该很容易将其移植到 perl。

```
import sys
lines = open("file.txt",'r').readlines()
if len(sys.argv) > 2 and sys.argv[1] == "-l":
    try:
        number = int(sys.argv[2])
    except:
        print "Input a number after the -l switch."

    average = 0

    for i in lines:
        try:
            average += int(i.split(":")[number])
        except:
            pass

    average /= 3

    print "The average score for %s is %d" \
    %(lines[0].split(":")[number], average)

else:
    print "Computer says no." 
```

# ruby-on-rails - 当我推送到 Heroku 时，Rails custom.css.scss 更改未显示

> ID：12928042
> 
> 赞同：1
> 
> 时间：2012-10-17T06:00:54.917
> 
> 标签：ruby-on-rails, heroku

在本地，我的 CSS 更改工作正常，但是当我推送到 Heroku 时，我看不到更改 - 当我检查元素并查看 application.css 时，我找不到我创建的类名，所以我不认为他们由于某种原因被推到 Heroku。

我已经运行了 rake db:migrate，重新启动了 Heroku，基本上我能想到的所有其他事情 - 无济于事。

如果您想看看，我正在尝试对[http://theplayr.com](http://theplayr.com)进行修改- 在底部，分页 CSS 在本地看起来并不像那样。当“上一个”和“下一个”不可点击时，我隐藏了它们，并将分页与以下 CSS 对齐：

```
.next_page.disabled {
display:none;
}
.previous_page.disabled {
    display:none;
}
.pager{
text-align:right;
} 
```

在本地它可以工作，在我推送到 Heroku 后它不会在现场网站上工作。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-17T08:59:20.593

你应该预编译你的资产`bundle exec rake assets:precompile`

# grails - 服务器启动时过期的activiti作业抛出异常 - Grails

> ID：12928044
> 
> 赞同：3
> 
> 时间：2012-10-17T06:00:57.200
> 
> 标签：grails, jobs, activiti

这与 grails 应用程序中的 activiti 工作流计时器作业有关。

在启动具有过期作业的 grails 应用程序时，会为正常的 grails 功能（例如日志和域类的方法）引发异常。

例如：

```
Caused by: groovy.lang.MissingPropertyException: No such property: log for class: com.service.common.UtilityService
    at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:49)
    at org.codehaus.groovy.runtime.callsite.PogoMetaClassGetPropertySite.getProperty(PogoMetaClassGetPropertySite.java:50)
    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callGroovyObjectGetProperty(AbstractCallSite.java:239)
    at com.service.common.UtilityService.insertToQueue(UtilityService.groovy:370)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.activiti.engine.impl.javax.el.BeanELResolver.invoke(BeanELResolver.java:479)
    ... 71 more 
```

这发生在从 Spring STS 运行应用程序的开发环境中。我们正在为 grails (1.3.6) 使用 activiti 插件 5.8.2

网络应用程序完全启动后，作业（调度到启动后的某个时间）正常运行，并且没有抛出缺少属性的异常。

尽管我们可以通过使用`private static final log = LogFactory.getLog(this)`来解决 log 的缺少属性问题，但是对域类的任何引用都会引发错误，例如使用 get 或 find 方法。

例如：

```
Caused by: groovy.lang.MissingMethodException: No signature of method: static com.domain.wr.WorkRequest.read() is applicable for argument types: (java.lang.String) values: [44700]
Possible solutions: getId(), getAt(java.lang.String), setId(java.lang.Long), grep(java.lang.Object), each(groovy.lang.Closure), find(groovy.lang.Closure)
    at groovy.lang.MetaClassImpl.invokeStaticMissingMethod(MetaClassImpl.java:1357)
    at groovy.lang.MetaClassImpl.invokeStaticMethod(MetaClassImpl.java:1343)
    at groovy.lang.ExpandoMetaClass.invokeStaticMethod(ExpandoMetaClass.java:1082)
    at org.codehaus.groovy.runtime.callsite.StaticMetaClassSite.call(StaticMetaClassSite.java:50)
    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:40)
    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:116)
    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:124)
    at com.service.common.UtilityService.insertToQueue(UtilityService.groovy:373)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.activiti.engine.impl.javax.el.BeanELResolver.invoke(BeanELResolver.java:479)
    ... 71 more 
```

活动配置

配置文件

```
// Added by the Grails Activiti plugin:
activiti {
      processEngineName = "activiti-engine-default"
      databaseType = "oracle"
      deploymentName = appName
      history = "audit" // "none", "activity", "audit" or "full"
      sessionUsernameKey = "username"
      useFormKey = true
      deploymentResources = ["classpath:activiti/escalation/WorkRequest.bpmn20.xml"]

} 
```

配置属性

```
activiti.processEngineName =activiti-engine-default
activiti.databaseSchemaUpdate =true 
activiti.jobExecutorActivate =true
activiti.mailServerHost = "mail1.net"
activiti.mailServerPort = 25
activiti.mailServerUsername = ""
activiti.mailServerPassword = ""
activiti.mailServerDefaultFrom = "" 
```

这正在杀死我的应用程序，因为停机时间会使工作流程无法用于计时器任务。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T09:47:13.500

我或多或少有同样的问题，在我们的例子中是由 Activiti 在 Spring 注入完成之前启动作业执行引起的。这就是它只在启动时发生的原因：该作业正在访问尚不存在的属性。

您可以通过在应用程序完成引导后增加 ACT_RU_JOB 表中的 RETRIES_ 来确认您处于相同的情况，并查看作业是否成功执行。

如果这是您的情况，我认为唯一的选择是升级插件，如果仍然失败，请创建一个错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-26T08:46:25.463

这个问题得到了解决。
1）编辑Config.groovy，启动时禁用activiti

```
 activiti {
          processEngineName = "activiti-engine-default"
          databaseType = "oracle"
          disabled = true
          deploymentName = appName
          sessionUsernameKey = "username"
          useFormKey = true
          deploymentResources = []
    } 
```

2）在User BootStrap的init方法中添加Activiti Objects的初始化

```
def init = { servletContext ->

    org.springframework.context.ApplicationContext ctx = ServletContextHolder.getServletContext().getAttribute(GrailsApplicationAttributes.APPLICATION_CONTEXT)
    def bb = new grails.spring.BeanBuilder(ctx)
    bb.beans {
        //println "Activiti Process Engine Initialization..."
        customDbIdGenerator(com.mycompany.activiti.customDbIdGenerator){
            idBlockSize=CH.config.activiti.idBlockSize?:100
        }
        processEngineConfiguration(org.activiti.spring.SpringProcessEngineConfiguration) {
            processEngineName = CH.config.activiti.processEngineName?:ActivitiConstants.DEFAULT_PROCESS_ENGINE_NAME
            databaseType = CH.config.activiti.databaseType?:ActivitiConstants.DEFAULT_DATABASE_TYPE
            databaseSchemaUpdate = CH.config.activiti.databaseSchemaUpdate ? CH.config.activiti.databaseSchemaUpdate.toString() : ActivitiConstants.DEFAULT_DATABASE_SCHEMA_UPDATE
            deploymentName = CH.config.activiti.deploymentName?:ActivitiConstants.DEFAULT_DEPLOYMENT_NAME
            deploymentResources = CH.config.activiti.deploymentResources?:ActivitiConstants.DEFAULT_DEPLOYMENT_RESOURCES
            jobExecutorActivate = CH.config.activiti.jobExecutorActivate?:ActivitiConstants.DEFAULT_JOB_EXECUTOR_ACTIVATE
                  history = CH.config.activiti.history?:ActivitiConstants.DEFAULT_HISTORY
            mailServerHost = CH.config.activiti.mailServerHost?:ActivitiConstants.DEFAULT_MAIL_SERVER_HOST
            mailServerPort = CH.config.activiti.mailServerPort?:ActivitiConstants.DEFAULT_MAIL_SERVER_PORT
            mailServerUsername = CH.config.activiti.mailServerUsername
            mailServerPassword = CH.config.activiti.mailServerPassword
            mailServerDefaultFrom = CH.config.activiti.mailServerDefaultFrom?:ActivitiConstants.DEFAULT_MAIL_SERVER_FROM
            dataSource = ref("dataSource")
            transactionManager = ref("transactionManager")
            idGenerator= ref("customDbIdGenerator")
        }

          processEngine(org.activiti.spring.ProcessEngineFactoryBean) {
              processEngineConfiguration = ref("processEngineConfiguration")
          }

        runtimeService(processEngine:"getRuntimeService")
        repositoryService(processEngine:"getRepositoryService")
        taskService(processEngine:"getTaskService")
        managementService(processEngine:"getManagementService")
        identityService(processEngine:"getIdentityService")
        historyService(processEngine:"getHistoryService")
        formService(processEngine:"getFormService")

        activitiService(org.grails.activiti.ActivitiService) {
            runtimeService = ref("runtimeService")
            taskService = ref("taskService")
            identityService = ref("identityService")
            formService = ref("formService")
        }
    }
    println "## Registering Beans ##";
    bb.registerBeans(ctx);
    ctx.getBean("processEngine");

    println "Bean Count2 "+ctx.getBeanDefinitionCount();
} 
```

请注意，使用的 DB Id Generator 是自定义的，可以替换为默认的。

# c# - 如何在datagrid wpf上双击查找标题或行

> ID：12928049
> 
> 赞同：3
> 
> 时间：2012-10-17T06:01:13.443
> 
> 标签：c#, wpf, datagrid

我在 wpf 应用程序中添加了一个数据网格。

```
<DataGrid ItemsSource="{Binding Projects}" SelectedItem="{Binding SelectedProject}" MouseDoubleClick="DataGrid_MouseDoubleClick" /> 
```

这是我的代码

```
private void DataGrid_MouseDoubleClick(object sender, System.Windows.Input.MouseButtonEventArgs e)
{
    if selected row is header
        then do this
    else
        do this
} 
```

现在的问题是我是如何知道哪个是双击的。它是标题或行。我怎么能找到它。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-17T09:06:41.293

不是在 DataGrid 中添加双击事件，而是为 DataGridRow 和 DataGridColumnHeader 添加单独的事件。更新的 XAML：

```
<DataGrid ItemsSource="{Binding Projects}" SelectedItem="{Binding SelectedProject}" MouseDoubleClick="DataGrid_MouseDoubleClick"> 
    <DataGrid.Resources>
        <Style TargetType="DataGridRow">
            <EventSetter Event="MouseDoubleClick" Handler="DataGridRow_MouseDoubleClick" />
        </Style>
    </DataGrid.Resources>
    <DataGrid.Resources>
        <Style TargetType="DataGridColumnHeader">
            <EventSetter Event="MouseDoubleClick" Handler="DataGridColumnHeader_MouseDoubleClick" />
        </Style>
    </DataGrid.Resources>
</DataGrid> 
```

这是后面的代码。

```
private void DataGridRow_MouseDoubleClick(object sender, System.Windows.RoutedEventArgs e)
{
    // This is when a row is double clicked.
}

private void DataGridColumnHeader_MouseDoubleClick(object sender, System.Windows.RoutedEventArgs e)
{
    // This is when header is double clicked.
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T06:30:59.593

您可以使用 VisualTreeHelper：

```
private void DataGrid_MouseDoubleClick(object sender, System.Windows.Input.MouseButtonEventArgs e)
{
        var dep = e.OriginalSource as DependencyObject;
        //go up the tree until you find the header
        while (dep != null && !(dep is DataGridRowHeader)) {
            dep = VisualTreeHelper.GetParent(dep);
        }
        //header found
        if (dep is DataGridRowHeader)
            //do this
        else //header not found
            //do that
} 
```

# ruby - 为什么即使没有执行该代码路径，Ruby 似乎也会从 case 语句中提升变量声明？

> ID：12928050
> 
> 赞同：25
> 
> 时间：2012-10-17T06:01:15.340
> 
> 标签：ruby

我们定义一个函数 foo：

```
def foo(s)
  case s
  when'foo'
    x = 3
    puts x.inspect
  when 'bar'
    y = 4
    puts y.inspect
  end
  puts x.inspect
  puts y.inspect
end 
```

然后我们这样称呼它：

```
1.9.3p194 :017 > foo('foo')
in foo scope
3
in outer scope
3
nil
 => nil 

1.9.3p194 :018 > foo('bar')
in bar scope
3
in outer scope
nil
3
 => nil 
```

为什么函数在这两种情况下都不会抛出关于未注册局部变量的错误？在第一种情况下，该变量`y`似乎不应该存在，因此您不能`inspect`在外部范围内调用它；在`x`第二种情况下也是如此。

这是另一个类似的例子：

```
def test1
  x = 5 if false
  puts x.inspect
end

def test2
  puts x.inspect
end 
```

接着：

```
1.9.3p194 :028 > test1
nil
 => nil 

1.9.3p194 :029 > test2
NameError: undefined local variable or method `x' for main:Object 
```

这里发生了什么？看起来 Ruby 正在将变量声明提升到外部范围，但我不知道这是 Ruby 所做的事情。（搜索“ruby 提升”只会找到关于 JavaScript 提升的结果。）

* * *

## 回答 #1

> 赞同：62
> 
> 时间：2012-10-17T06:17:28.157

> 当 Ruby 解析器看到序列标识符、等号、值时，就像在这个表达式中一样
> 
> ```
> x = 1 
> ```
> 
> 它为名为 的局部变量分配空间`x`。变量的创建——不是给它赋值，而是变量的内部创建——总是作为这种表达式的结果发生，即使代码没有被执行！考虑这个例子：
> 
> ```
> if false
>   x = 1
> end
> p x # Output: nil
> p y # Fatal Error: y is unknown 
> ```
> 
> `x`未执行分配到，因为它包含在失败的条件测试中。但是 Ruby 解析器看到了这个序列 `x = 1`，并从中推断出程序涉及一个局部变量`x`。解析器不关心是否`x`曾经被赋值。它的工作只是搜索需要分配空间的局部变量的代码。结果是它`x`栖息在一种奇怪的可变边缘。它已经产生并初始化为`nil`. 在这方面，它不同于根本不存在的变量。正如您在示例中看到的，检查 `x`会为您提供 value `nil`，而尝试检查不存在的变量`y`会导致致命错误。但是虽然`x`存在，它在程序中没有发挥任何作用。它仅作为解析过程的产物存在。

**扎实的 Rubyist**第 6.1.2 章

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-17T06:08:38.113

ruby 解析器遍历每一行并设置为 nil all `variable =`。实际执行的代码与否无关紧要。

请参阅[为什么我可以引用从未运行过的 if/unless/case 语句之外的变量？](https://stackoverflow.com/questions/12614805/weird-ruby-behaviour)

# iphone - 如何将注释标题传递给另一个视图控制器

> ID：12928053
> 
> 赞同：0
> 
> 时间：2012-10-17T06:01:24.993
> 
> 标签：iphone, ios, objective-c, ipad

我是 iOS 编程新手，在视图控制器之间传递数据时遇到了麻烦。

我有一个视图控制器，它对地图视图上的注释进行地理编码，并将地址设置为注释视图的标题。注释视图有一个标注按钮，可将另一个视图推送到堆栈，该堆栈有一个标签，我希望地理编码的地址显示为标签。这是一些代码：

这是我放下别针的地方：

```
-(void)press:(UILongPressGestureRecognizer *)recognizer
{
    CGPoint touchPoint = [recognizer locationInView:worldView];
    CLLocationCoordinate2D touchMapCoordinate = [worldView convertPoint:touchPoint toCoordinateFromView:worldView];

    geocoder = [[CLGeocoder alloc]init];
    CLLocation *location = [[CLLocation alloc]initWithCoordinate:touchMapCoordinate
                                                    altitude:CLLocationDistanceMax
                                          horizontalAccuracy:kCLLocationAccuracyBest
                                            verticalAccuracy:kCLLocationAccuracyBest
                                                   timestamp:[NSDate date]];
    [geocoder reverseGeocodeLocation:location
                   completionHandler:^(NSArray *placemarks, NSError *error) {
                       NSLog(@"reverseGeocoder:completionHandler: called");
                       if (error) {
                          NSLog(@"Geocoder failed with error: %@", error);
                       }
                       if (placemarks && placemarks.count > 0)
                       {
                           CLPlacemark *place = [placemarks objectAtIndex:0];
                           _address = [NSString stringWithFormat:@"%@ %@, %@ %@", [place subThoroughfare], [place thoroughfare], [place locality], [place administrativeArea]];

                           if (UIGestureRecognizerStateBegan == [recognizer state]) {
                               _addressPin = [[MapPoint alloc]initWithCoordinate:touchMapCoordinate
                                                                        title:_address];
                           [worldView addAnnotation:_addressPin];
                       }
                   }
               }];
} 
```

这是我希望显示地址的视图的代码：

```
#import <UIKit/UIKit.h>
@class MapPoint;

@interface PinViewController : UIViewController <UINavigationControllerDelegate,     UIImagePickerControllerDelegate,UITextFieldDelegate>

{
    __weak IBOutlet UILabel *addressLabel;
}

@property (weak, nonatomic) IBOutlet UIImageView *imageView;
@property (strong, nonatomic) MapPoint *pin;

-(void)takePicture:(id)sender;
-(void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event;

@end

#import "PinViewController.h"
#import "MapPoint.h"

@interface PinViewController ()

@end

@implementation PinViewController

@synthesize imageView, pin;
-(void)viewWillAppear:(BOOL)animated
{
    [super viewWillAppear:animated];

    [addressLabel setText:[pin title]];

} 
```

MapPoint 类具有 title 属性和 subtitle 属性。当 PinViewController 被推到堆栈顶部时，我尝试将标签的文本设置为引脚的标题，但标签不显示任何文本。有人可以帮助我并告诉我我错过了什么吗？非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T06:12:08.753

您必须为此问题分享更多代码块:)。而不是你必须更多地了解**面向对象程序中的通信**

[您可以在此处](http://gregorykaiser.wordpress.com/2009/05/13/385/)阅读有关在视图类之间传递数据的好教程

[在此处](http://forums.macrumors.com/showthread.php?t=1158293)阅读在两个视图之间传递对象的最佳方法

我在 Developer.apple 中找到了一个关于[CommunicatingWithObjects的好文档](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CocoaFundamentals/CommunicatingWithObjects/CommunicateWithObjects.html)

您也可以[在这里观看精彩的视频](http://www.youtube.com/watch?v=ZFGgMPcwYjg)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T06:29:50.920

只需为标签创建属性并从标注点击方法传递标签文本

```
- (void)mapView:(MKMapView *)mapView annotationView:(MKPinAnnotationView *)view calloutAccessoryControlTapped:(UIControl *)control {

    Details *det=[[Details alloc]init];
    det.label.text=annotation.title;
    [self.navigationController pushViewController:det animated:YES];
    [det release];
} 
```

# c - 输入数字太大时AC程序不工作

> ID：12928060
> 
> 赞同：2
> 
> 时间：2012-10-17T06:01:40.870
> 
> 标签：c, algorithm, memory, memory-management, types

我用 C 语言编写了一个程序，它打印表示输入数字（逐位）的英文，例如，当您输入 时`938`，它会打印出`nine three eight` 当输入太大（超过 9 位）时它不起作用。谁能向我解释为什么会这样？我尝试使用 unsigned int 而不是 int 作为变量，但它仍然不起作用。

```
#include <stdio.h>
/**
10/17/2012
Programming in C
Ch6 no. 6
Program doesn't work when number gets too large (>9 digits)
Print english that represents input number (digit by digit)
*/

int main(void){

int digit;//use to hold digit

int number;//hold input number

int revNumber = 0; //the reversed digit of the input number

int no_zero = 0;//number of zero needed to be printed at the end

int i = 1;//hold how many digits does the number have (+1 = i*10)

printf("Please enter a number\n");

scanf("%u", &number);

int testing = number;//a copy of input number for

//counts how many digits does the number have (+1 = i*10)

for(; testing != 0;i *= 10){

    testing /= 10;

}

//make the reversed number

do{

    i /= 10;

    digit = number % 10;

    if(digit == 0)

        no_zero++;

    revNumber += (digit*i);

    number /= 10;

}while(number != 0);

//print the result using the reversed number

do{

    digit = revNumber % 10;

    revNumber /= 10;

    switch(digit)

    {

     case 0:

     printf("zero ");

     no_zero--; //minus zero not at the end

     break;

     case 1:

     printf("one ");

     break;

     case 2:

     printf("two ");

     break;

     case 3:

     printf("three ");

     break;

     case 4:

     printf("four ");

     break;

     case 5:

     printf("five ");

     break;

     case 6:

     printf("six ");

     break;

     case 7:

     printf("seven ");

     break;

     case 8:

     printf("eight ");

     break;

     default:

     printf("nine ");

    }

}while(revNumber != 0);

//add back the ending zero

for(;no_zero!=0;no_zero--)

printf("zero ");

return 0;

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-17T06:06:00.110

C中 s 的标准表示`int`是有限的。基本上，您有`8 * sizeof (int)`可用的位（比如说`32`）。有了`32`可用的位，an`unsigned int`可以与任何大于此的数字一样`2^32 - 1`大`4294967295`。

您可以尝试，`unsigned long long`但这仍然是有限的。或者，您可以尝试使用[BigNum](http://gmplib.org/)库。

**但是**，对于您的具体问题，将数字作为字符串读取并作用于该字符串的每个字母就足够了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T06:32:23.097

根据我收集的信息，您实际上并不需要将其存储在`int`. 将其存储为字符串`(char[])`，然后显示每个数字。

您实际上可以完全删除数组，并在输入每个数字时打印每个数字的单词表示，然后丢弃它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-17T06:04:54.900

一个`int`罐头（通常）只能保存一个 32 位数字，因此它仅限于存储范围内的数字`[-2147483648, 2147483647]`。因此，它适用于任何 9 位数字，但对大多数 10 位数字无效。

与其将数字放在 中`int`，不如只读取每个数字一次（例如，使用`getc`）并分别处理它们？然后您可以轻松处理任何大小的数字，而无需使用字符串。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-17T06:03:46.877

一个整数由 32 位组成。如果输入大于 2^32 的数字，它将不起作用。尝试从用户那里获取字符串而不是整数。

您还可以使用*unsigned long long int*，它是一个 64 位变量。

# java - 在同一个循环中递增和递减的有效方法

> ID：12928062
> 
> 赞同：8
> 
> 时间：2012-10-17T06:01:49.207
> 
> 标签：java, for-loop, increment, decrement

假设存在一些您希望在同一个 for 循环中增加和减少值的情况。在这组情况下，在某些情况下，您可以利用情况的性质“欺骗”这一点——例如，反转字符串。

由于构建字符串的性质，我们实际上不必操作迭代或添加额外的计数器：

```
public static void stringReversal(){
    String str = "Banana";
    String forwardStr = new String();
    String backwardStr = new String();

    for(int i = str.length()-1; i >= 0; i--){
        forwardStr = str.charAt(i)+forwardStr;
        backwardStr = backwardStr+str.charAt(i);
    }

    System.out.println("Forward String:  "+forwardStr);
    System.out.println("Backward String: "+backwardStr);   
} 
```

但是，假设存在另一种情况，我们只想打印从初始值到 0 的递减值和从 0 到初始值的递增值。

```
public static void incrementAndDecrement(){

   int counter = 0;

   for(int i = 10; i >= 0; i--){
       System.out.println(i);
       System.out.println(counter);
       counter++;
   } 
} 
```

这工作得很好，但是必须创建第二个计数器来增加似乎很乱。是否有任何涉及 for 循环的数学技巧或技巧可以使用，这会变得`counter`多余？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-17T06:03:35.723

好吧，*看起来*你只是想要：

```
for(int i = 10; i >= 0; i--){
    System.out.println(i);
    System.out.println(10 - i);
} 
```

是这样吗？就我个人而言，我通常会将其写为一个*递增*的循环，因为我发现更容易考虑这一点：

```
for (int i = 0; i <= 10; i++) {
    System.out.println(10 - i);
    System.out.println(i);
} 
```

请注意，顺便说一下，您的字符串示例*确实*效率低下 - 远不止引入一个额外的变量。鉴于您知道开始涉及的长度，您可以从两个`char[]`正确大小的开始，并每次填充正确的索引。然后从每个之后创建一个字符串。同样，我会通过*增加*循环来做到这一点：

```
char[] forwardChars = new char[str.length()];
char[] reverseChars = new char[str.length()];
for (int i = 0; i < str.length(); i++) {
    forwardChars[i] = str.charAt(i);
    reverseChars[reverseChars.length - i - 1] = str.charAt(i);
}
String forwardString = new String(forwardChars);
String reverseString = new String(reverseChars); 
```

（当然，无论如何，在这种情况下`forwardString`将等于......）`str`

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-17T06:07:28.203

`for`您可以在一个循环中有多个变量和增量器。

```
for(int i = 10, j = 0; i >= 0; i--, j++) {
    System.out.println(i);
    System.out.println(j);
} 
```

# android - 如何在安卓中打开 Facebook 和 Twitter

> ID：12928078
> 
> 赞同：2
> 
> 时间：2012-10-17T06:02:54.027
> 
> 标签：android, android-intent

```
 Intent i = new Intent(Intent.ACTION_SEND);    
  i.setType("text/html");  
  String str = et.getText().toString(); 
  i.putExtra(android.content.Intent.EXTRA_TEXT,str);  
  startActivity(Intent.createChooser(i,"Share using")); 
```

我无法在 Android 中使用此代码打开 Facebook 和 Twitter，但其他应用程序（如 Gmail 和 Skype）已成功打开。为什么？以及如何打开 Facebook 和 Twitter？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-17T11:55:37.270

你可以试试这个代码：

```
private void facebooktaPaylas() {
    try {
        String facebookUri = "http://m.facebook.com/sharer.php?u=";
        String marketUri = "your sharing text");
        Intent shareOnFacebookIntent = new Intent(Intent.ACTION_VIEW,
                Uri.parse(facebookUri + marketUri));
        startActivity(shareOnFacebookIntent);
    } catch (Exception e) {
        e.printStackTrace();
    }
}

private void twitterdaPaylas() {
    try {
        String facebookUri = "http://mobile.twitter.com/home?status=";
        String marketUri = "your sharing text";
        Intent shareOnFacebookIntent = new Intent(Intent.ACTION_VIEW,
                Uri.parse(facebookUri + marketUri));
        startActivity(shareOnFacebookIntent);
    } catch (Exception e) {
        e.printStackTrace();
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T06:15:03.413

如何将`MIME`类型更改为`"text/*"`？

似乎 Facebook 和 Twitter 可以处理`"text/plain"`而不是`"text/html"`.

# r - 基于不同矩阵相似度的层次聚类

> ID：12928080
> 
> 赞同：0
> 
> 时间：2012-10-17T06:03:03.520
> 
> 标签：r, matrix

> **可能重复：**
> [如何使用 R 应用分层或 k 均值聚类分析？](https://stackoverflow.com/questions/5648383/how-to-apply-a-hierarchical-or-k-means-cluster-analysis-using-r)

考虑这四个列数相同但行数不同的矩阵

```
library(gtools)

m1 <- matrix(sample(c(-1, 0, 1), 15, replace=T), 3)
m2 <- matrix(sample(c(-1, 0, 1), 25, replace=T), 5)
m3 <- matrix(sample(c(-1, 0, 1), 25, replace=T), 5)
m4 <- matrix(sample(c(-1, 0, 1), 30, replace=T), 6)   
rownames(m1) <- c(1:3)
rownames(m2) <- c(4:8)
rownames(m3) <- c(9:13)
rownames(m4) <- c(14:19) 
```

`hclust()`当按以下格式排列时，我想应用于这四个矩阵：

```
mat <- list(m1, m2, m3, m4)

unite <- rbind(m1,m2,m3, m4)
rownames(unite) <- c(1:19)
distUnite <- as.matrix(dist(unite, method="manhattan"))

## empty matrix for storing the distance between pairwise matrices
dist4m <- matrix(0, nrow=4, ncol=4)
indices <- combinations(4,2)
distance <- apply(indices, 1,
                  function(pair){
                      print(pair)
                      s1=pair[1]
                      s2=pair[2] 
                      pairmean <- mean(distReads[which(m$Sample==samples[s1]), which(m$Sample==samples[s2])])

                      dist4m[s1,s2] <<- pairmean
                      dist4m[s2,s1] <<- pairmean
                  })

print(dist4m)
## then use hclust(), and plot() 
```

上面的脚本应该可以工作，但我想知道是否有更有效和可靠的方法来解决？

谢谢你的建议。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-17T06:42:31.260

将它们分组（我假设您要 cbind 和填充）：

```
m.list <- list(m1,m2,m3,m4)
n <- max(sapply(m.list, nrow))
m.all <- do.call(cbind, lapply(m.list, function (x)
rbind(x, matrix(, n-nrow(x), ncol(x))))) 

m.dist <- dist(m.all)
m.hclust <- hclust(m.dist)
plot(m.hclust) 
```

![在此处输入图像描述](../Images/93068ce99d31987082b06fc6a3151382.png)

个别：

```
m1 <- matrix(sample(c(-1, 0, 1), 15, replace=T), 3) 
m2 <- matrix(sample(c(-1, 0, 1), 25, replace=T), 5)
m3 <- matrix(sample(c(-1, 0, 1), 25, replace=T), 5)
m4 <- matrix(sample(c(-1, 0, 1), 30, replace=T), 6)

m1.dist <- dist(m1)
m2.dist <- dist(m2)
m3.dist <- dist(m3)
m4.dist <- dist(m4)

m1.hclust <- hclust(m1.dist)
m2.hclust <- hclust(m2.dist)
m3.hclust <- hclust(m3.dist)
m4.hclust <- hclust(m4.dist)

plot(m1.hclust)
plot(m2.hclust)
plot(m3.hclust)
plot(m4.hclust) 
```

![在此处输入图像描述](../Images/1479a39098004fff1e2771c96adc0d82.png) ![在此处输入图像描述](../Images/92768d14d766e829cc3f3094d91d2c0e.png) ![在此处输入图像描述](../Images/ca88b4183b3574b1fea8388d6a120c95.png) ![在此处输入图像描述](../Images/0fd56244b9f296eeb4340f6911fd5ac2.png)

# objective-c - 我是否以最好的方式解析 html 源代码？

> ID：12928081
> 
> 赞同：1
> 
> 时间：2012-10-17T06:03:10.877
> 
> 标签：objective-c, parsing, nsstring, performance

我想从[网页](http://www.laloyolan.com/news/breaking_news/anchorman-star-david-koechner-named-comedy-for-a-cause-headliner/article_21bbe7e4-158f-11e2-af04-0019bb30f31a.html)中提取正文段落并将它们存储到字符串中。

首先，我使用

```
NSString *sourceCode = [NSString stringWithContentsOfURL:[NSURL URLWithString:currentLink] encoding:NSUTF8StringEncoding error:&error]; 
```

正文段落开始于之后`<!-- (START) Pagination Content Wrapper -->`，结束于之前`<!-- (END) Pagination Content Wrapper -->`

所以我打算像这样拆分字符串

```
NSString *startingPt = @"<!-- (START) Pagination Content Wrapper -->";
NSString *endingPt = @"<!-- (END) Pagination Content Wrapper -->";

NSString *sub = [sourceCode substringFromIndex:NSMaxRange([str rangeOfString:startingPt])];
sub = [sourceCode substringToIndex:[s rangeOfString:endingPt].location; 
```

然后我会`stringByReplacingOccurrencesOfString:withString:`用`@""`

有没有更好的方法来实现我的目标？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T07:13:43.827

获取子字符串去掉START & END后，可以简单的使用[NSString+HTML分类](http://github.com/mwaterfall/MWFeedParser/blob/master/Classes/NSString+HTML.m)来转义html标签，是实现html编码、解码等非常好的分类，主要是你可以在你的NSString实例中使用它无需为此目的创建单独的对象。

[Objective C HTML escape/unescape](https://stackoverflow.com/questions/659602/objective-c-html-escape-unescape)在这里你可以找到更多关于它的讨论。

这些是该帖子中建议的可用方法，我喜欢它。

```
- (NSString *)stringByConvertingHTMLToPlainText;
- (NSString *)stringByDecodingHTMLEntities;
- (NSString *)stringByEncodingHTMLEntities;
- (NSString *)stringWithNewLinesAsBRs;
- (NSString *)stringByRemovingNewLinesAndWhitespace; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T20:56:24.913

在删除 HTML 标签之前，您必须先找到它们。除非您知道该系统需要使用的标签数量有限，否则您不应该在代码中硬编码它们的列表。使用 -stringByReplacingOccurrences...，您需要一个精确的字符串，以及所有参数 ID 和类标签等，这使得它更容易发生变化。

除非您打算使用 vishy 建议的第三方扩展，它看起来可以满足您的需求，否则您将不得不执行以下操作：

1) 查找字符串中第一次出现的“<”

2）查看“<”是否被转义。

3）如果没有，找到下一个“>”。

4）看看是否逃脱了。

5）如果没有，为标签创建一个 NSRange（从“<”到“>”）并使用 -stringByReplacingCharactersInRange 摆脱它。

6) 重复直到找不到任何未转义的“<”。

这将为您留下去 HTML 化的文本，但不是纯文本。您仍然会看到 HTML 转义，同样重要的是，不能保证一旦 HTML 被删除，空格（在 HTML 中被忽略）将有意义。

# javascript - 固定标题隐藏垂直滚动条

> ID：12928082
> 
> 赞同：0
> 
> 时间：2012-10-17T06:03:20.157
> 
> 标签：javascript, css, jquery-plugins, twitter-bootstrap

我正在尝试将这个 jquery 插件 - [https://gist.github.com/3819758](https://gist.github.com/3819758)合并到一个表中，以便它可以有一个固定的标题。在我的情况下，表格太宽，因此生成的标题隐藏了垂直滚动条 - [http://jsfiddle.net/NWV73/4/](http://jsfiddle.net/NWV73/4/)

我无法解决这个问题。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T07:29:45.917

您可以使用 JavaScript 同步 div 滚动：

```
$(".table-content").scroll(function(){
    var $this = $(this),
        $header = $(".header-fixed");

    $header.css("margin-left", 0 - $this.scrollLeft() )
}); 
```

另请参阅更新的 jsfiddle：http: [//jsfiddle.net/NWV73/21/](http://jsfiddle.net/NWV73/21/)

# jquery - 基于 Web 的 3D 散点图

> ID：12928088
> 
> 赞同：2
> 
> 时间：2012-10-17T06:03:53.257
> 
> 标签：jquery, charts, dojo

是否有任何 java 脚本库可以让您创建 3D 散点图？最好是让用户与之交互的一种（平移、旋转、缩放等）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T07:21:24.827

你看到[http://www.canvasxpress.org/scatter3d.html](http://www.canvasxpress.org/scatter3d.html)了吗？

主页是[http://www.canvasxpress.org/](http://www.canvasxpress.org/)

我希望它有所帮助。

# c - 多处理

> ID：12928090
> 
> 赞同：0
> 
> 时间：2012-10-17T06:04:00.967
> 
> 标签：c, multiprocessing

一个进程 pid 有两个子进程，分别称为 pid1 和 pid2，现在根据一定的条件，在运行时需要将一些工作分配给 pid1，一些工作需要分配给 pid2。

```
while(1)
{
 if(x is even)
  {
    send data to pid1 ;
  }
 else
  {
    send data to pid2 ;
  }
 } 
```

我们需要在运行时从父进程向那些子进程发送一些消息。有没有办法做到这一点？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T06:20:48.413

您可以创建两个线程而不是子进程。Parent 应根据数据类型（偶数/奇数）插入两个不同的队列，例如`EvenDataQ`& `OddDataQ`。

1.  一个线程来处理**甚至 x 个**数据；它从中挑选数据`EvenDataQ`
2.  另一个处理**奇数 x**数据的线程；它从中挑选数据`OddDataQ`

为每个队列使用两个互斥锁。队列的实现取决于你。

PS： - 线程比进程轻。- 易于实施您的方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T06:28:17.643

假设：：您知道两个子进程的 PID。

你总是可以这样做::

```
while(1)
{
 if(x is even && PID_Of_pid1 == PID_Of_First_Child(xxx))
  {
    send data to pid1 ;
  }
 else
  {
    send data to pid2 ;
  }
 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T06:07:22.367

您可以利用套接字编程或共享内存进行进程消息传递。

# android - ActionbarSherlock：在显示选项卡时隐藏操作栏

> ID：12928092
> 
> 赞同：3
> 
> 时间：2012-10-17T06:04:05.493
> 
> 标签：android, actionbarsherlock

我的 UI 使用带有选项卡 ( `ActionBar.NAVIGATION_MODE_TABS`) 的 ABS，并为每个选项卡加载了一堆片段布局。

有一个选项卡，我需要在其中*隐藏*UI 的 ActionBar（以回收一些屏幕空间），但调用`getSupportActionBar().hide();`会将选项卡与 ActionBar 一起删除。

我想知道是否有什么地方可以隐藏操作栏而不影响选项卡？

编辑：实际上，想想看，Actionbar 除了显示应用程序品牌/图标之外什么都不做。所以我不介意完全隐藏 ActionBar 并只显示选项卡。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-17T06:18:51.653

这称为“折叠的操作栏”。如果您不显示标题和主页图标，它将自动隐藏：

```
 getSupportActionBar().setDisplayShowHomeEnabled(false);
 getSupportActionBar().setDisplayShowTitleEnabled(false); 
```

如果您想同时拥有选项卡和操作，您可以使用拆分操作栏并将操作（菜单）放在底部。

# c - 如何锁定 SQLite 数据库？

> ID：12928093
> 
> 赞同：2
> 
> 时间：2012-10-17T06:04:12.570
> 
> 标签：c, sqlite

我不想在特定上下文中触发的表上有一个触发器。

为了做到这一点，我计划：

1.  锁定数据库
2.  放下触发器
3.  执行我的操作
4.  添加触发器
5.  解锁数据库

锁定数据库是必要的，这样其他线程尝试执行的任何操作都会停止，直到触发器恢复到位。如何从 C 代码中执行此操作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T07:08:03.657

使用和SQL在[事务](http://www.sqlite.org/lang_transaction.html)中执行您的工作：`BEGIN TRANSACTION``COMMIT TRANSACTION`

```
BEGIN TRANSACTION;
DROP TRIGGER dbname.triggername;
(do other stuff)
CREATE TRIGGER ...;
COMMIT TRANSACTION; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T10:34:31.377

使用[`sqlite3_db_config()`](http://www.sqlite.org/c3ref/db_config.html)with[`SQLITE_DBCONFIG_ENABLE_TRIGGER`](http://www.sqlite.org/c3ref/c_dbconfig_enable_fkey.html)临时禁用触发器。

# python - 使用字典作为调用

> ID：12928098
> 
> 赞同：0
> 
> 时间：2012-10-17T06:04:43.227
> 
> 标签：python, list, dictionary, matching

假设我创建了一个字典并存储了以下键和值：

bod = {“Test1”：12345，“Test2”：1323242，...}

现在，如果我创建一个新列表并具有以下值

bof = [“Test3”、“Test1”、“Test4”、“Test2”]

是否可以使用 dict 变量作为调用以将其与列表匹配并使用以下代码（伪）在新变量中分配匹配键的值

```
for l in bof:
    newbof = line.split()
      try:
        newvalues = bod[values]
        print newvalues 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-17T06:09:39.480

```
>>> bod = { "Test1" : 12345, "Test2" : 1323242 }
>>> bof = ["Test3", "Test1", "Test4", "Test2"]
>>> [bod.get(x) for x in bof]
[None, 12345, None, 1323242] 
```

其他变体

```
>>> [bod.get(x, 0) for x in bof]
[0, 12345, 0, 1323242]
>>> [bod[x] for x in bof if x in bod]
[12345, 1323242] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T06:10:56.910

不能完全理解你的问题，据我所知，

```
newvalues=[]
for i in bof:
  if bod.get(i):
    newvalues.append(bod[i])
print newvalues 
```

优化，

```
newvalues=[bod[i] for i in bof if bod.get(i)] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T06:12:08.527

据我所理解：

```
In [325]: bod = { "Test1" : 12345, "Test2" : 1323242}

In [326]: bof = ["Test3", "Test1", "Test4", "Test2"]

In [327]: [bod[i ]for i in bof if i in bod]
Out[327]: [12345, 1323242] 
```

或者，如果您想将值保留在 bod 中：

```
In [332]: [bod[x] if x in bod else x for x in bof]
Out[332]: ['Test3', 12345, 'Test4', 1323242] 
```

或者

```
[bod.get(x,x) for x in bof]
Out[333]: ['Test3', 12345, 'Test4', 1323242] 
```

另请注意，虽然 using`get`更简洁，但 using`in`更快：

```
In [337]: % timeit [bod[x] if x in bod else x for x in bof]
1000000 loops, best of 3: 1.39 us per loop

In [338]: % timeit [bod.get(x,x) for x in bof]
100000 loops, best of 3: 1.88 us per loop 
```

# java - Hadoop：reducer 的数量不等于我在程序中设置的数量

> ID：12928101
> 
> 赞同：2
> 
> 时间：2012-10-17T06:04:53.183
> 
> 标签：java, hadoop, mapreduce

我已将 mapred.tasktracker.reduce.tasks.maximum 设置为 10 in `mapred-site.xml`，并且我也在`jobConf.setNumReduceTasks(5)`我的工作中写作。

如果我在 Shell 中运行作业，一切都很好。

但是当我通过 Eclipse 运行相同的作业时，只启动了一个减速器。

我尝试在 Eclipse 中编辑 Map/Reduce Locations，并设置`mapred.reduce.tasks`为 10。但这仍然不起作用。

我可以在eclipse中调整其他参数吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-17T17:45:12.200

在 Eclipse 中运行它似乎使用本地作业运行器。它只支持 0 或 1 个减速器。如果您尝试将其设置为使用多个减速器，它会忽略它并只使用一个。

# iphone - SDWebImage 在缓存之前处理图像

> ID：12928103
> 
> 赞同：9
> 
> 时间：2012-10-17T06:05:01.047
> 
> 标签：iphone, ios, cocoa-touch, sdwebimage

我从网上获取了很多图片，它们都有不同的尺寸——它们可以很大，也可以很小等等。

因此，当我在单元格中显示它们时，我可以调整它们的大小，但这效率低下。最好在 SDWebImage 下载它们并将它们调整大小后调整它们的大小，而不是将大图像存储在磁盘上并为每个单元调整它们的大小。

那么我如何使用 SDWebImage 来做到这一点，或者我必须对课程进行一些修改？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-03-13T18:25:01.803

[SDWebImage 开发人员 Olivier Poitrey在这里](https://github.com/rs/SDWebImage/issues/330#issuecomment-14854936)为我回答了这个问题。

您必须实现 SDWebImageManagerDelegate 协议，然后将其设置为共享管理器的委托，如下所示：

```
SDWebImageManager.sharedManager.delegate = self;

using the imageManager:transformDownloadedImage:withURL: instance method. 
```

[更多信息。](http://hackemist.com/SDWebImage/doc/Protocols/SDWebImageManagerDelegate.html#//api/name/imageManager%3atransformDownloadedImage%3awithURL%3a)

非常适合我。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-17T07:21:34.780

我和你有同样的问题，并尝试先调整 SDWebImage，但最终构建了我自己的组件来解决问题。你可以在这里看看：[https ://github.com/adig/RemoteImageView](https://github.com/adig/RemoteImageView)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-10-17T15:27:39.403

SDWebImage 3.8.2

如果使用 UIImageView 类别`sd_setImageWithURL`。我创建了另一个 UIImageView 类别（扩展）

```
func modifiedImageFromUrl(url: NSURL?) {
    self.sd_setImageWithURL(url) { (image, error, cacheType, url) in
        if cacheType == SDImageCacheType.None && image != nil {
            dispatch_async(dispatch_get_global_queue(QOS_CLASS_USER_INITIATED, 0)) {
                let modifiedImage = // modify image as you want

                dispatch_async(dispatch_get_main_queue()) {
                    SDWebImageManager.sharedManager().saveImageToCache(modifiedImage, forURL: url)

                    self.image = modifiedImage
                }
            }
        }
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-02-08T22:58:26.820

扩展 MaeSRo 在**Swift 3**中的答案：

```
myImageView.sd_setImage(with: imageUrl){ (image, error, cacheType, url) in
    guard let image = image, cacheType == .none else { return }

    DispatchQueue.global(qos: .userInitiated).async {
        let modifiedImage = myImageProcessor(image)
        SDWebImageManager.shared().saveImage(toCache: modifiedImage, for: imageUrl)
        DispatchQueue.main.async {
            myImageView.image = modifiedImage
            myImageView.setNeedsDisplay()
        }
    }
} 
```

# java - Java Jlist 不更新

> ID：12928106
> 
> 赞同：2
> 
> 时间：2012-10-17T06:05:11.123
> 
> 标签：java, swing, jlist

我有一个大型 gui 中的 JList，我删除了所有其他不相关的代码。我可以初始化列表，但是当我使用按钮时，我无法从中添加/删除项目。我读过的所有内容都说使用 DefaultListModel。然后它会在您重新初始化列表时自动更新列表。
我也尝试过重新聚焦和重新绘制面板和框架，但这也不起作用。

```
public static void main(String[] args) {
        Play worker=new Play();
        worker.GUI();
    }

    public void GUI(){
        frame=new JFrame();
        mainPanel=new JPanel(new GridBagLayout());
        filePanel=new JPanel(new GridBagLayout());
        allFilePanel=new JPanel(new GridBagLayout());
        fileInputLabel=new JLabel("Enter the directory of the csv file:");
        fileNameField=new JTextField(25);

        readFileButton=new JButton("Read File");
        ReadFileButtonListener buttonListener=new ReadFileButtonListener();
        readFileButton.addActionListener(buttonListener);

        addItem(filePanel,fileInputLabel , 0, 0, 1, 1, GridBagConstraints.CENTER);
        addItem(filePanel,fileNameField , 1, 0, 2, 1, GridBagConstraints.CENTER);
        addItem(filePanel,readFileButton , 3, 0, 1, 1, GridBagConstraints.CENTER);

        allFileLabel=new JLabel("List of all Data");    
        String [] name={"joe"};
        allFileList=new JList<String>(name);
        allFileList.setVisibleRowCount(10);

        addItem(allFilePanel,allFileLabel , 0, 0, 1, 1, GridBagConstraints.CENTER);
        addItem(allFilePanel,allFileList , 0, 1, 1, 1, GridBagConstraints.CENTER);

        addItem(mainPanel, filePanel, 0, 0, 4, 1, GridBagConstraints.CENTER);
        addItem(mainPanel, allFilePanel, 1, 2, 1, 1, GridBagConstraints.CENTER);

        frame.setSize(1000,800);
        frame.add(mainPanel);
        frame.setVisible(true); 
    }

    /**configures the panels
     * @param p
     * @param c
     * @param x
     * @param y
     * @param width
     * @param height
     * @param align
     */
    private void addItem(JPanel p,JComponent c, int x, int y , int width,int height, int align){
        GridBagConstraints gc=new GridBagConstraints();
        gc.gridx=x;
        gc.gridy=y;
        gc.gridwidth=width;
        gc.gridheight=height;
        gc.weightx=100;
        gc.weighty=100;
        gc.insets=new Insets(5,5,5,5);
        gc.fill=GridBagConstraints.NONE;
        p.add(c,gc);
    }

        private class ReadFileButtonListener implements ActionListener{

        @Override
        public void actionPerformed(ActionEvent arg0) {
            generateAllFileList();
        }

    }

    public void generateAllFileList(){
        DefaultListModel<String> list=new DefaultListModel<String>();
        list.addElement("Fred");
        allFileList=new JList<String>(list);    
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-17T06:11:40.967

使用您当前的代码，您不是在更新 JList 的列表模型，而是在创建一个新的 JList。然后你只需将这个新的 JList 分配给`allFileList`对面板没有影响的成员。显示在面板上的 JList 实例不受此操作的影响。

粗略地说（未经测试），它应该是这样的：

```
public void generateAllFileList(){
    DefaultListModel<String> list = allFileList.getModel();
    list.addElement("Fred"); 
} 
```

（当然，您必须使用默认列表模型而不是数组来创建 JList）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-17T06:11:21.493

您不应该重新初始化`JList`并且`DefaultListModel`每次添加元素时，您都会丢失旧元素。保持对 的引用`DefaltListModel`，只需调用`addElement()`，它将通过侦听模型生成的事件来自动更新列表。

# framebuffer - uvesafb帧缓冲下的mplayer播放视频前会显示黑屏

> ID：12928113
> 
> 赞同：0
> 
> 时间：2012-10-17T06:05:51.913
> 
> 标签：framebuffer, mplayer

我正在尝试使用`mplayer`在帧缓冲区下播放视频，并且我正在`uvesafb`用作帧缓冲区驱动程序。板子是[威盛 EPIA-N800](http://www.viaembedded.com/en/products/boards/1030/1/EPIA-N800.html)

grub 引导设置为：

```
/boot/vmlinuz-2.6.32 root=UUID=7ece6c10-7255-4f21-8cd8-edb096233969 ro quiet console=tty2 nomodeset video=uvesafb:mode_option=1920x1080-16,mtrr=3,scroll=ywrap 
```

但是当我用 播放视频时`mplayer`，屏幕会变黑一段时间，好像在播放视频之前重置或重新初始化屏幕。命令是这样的：

```
mplayer -vo fbdev /opt/1.avi 
```

输出是

```
root@ytmp:/opt/ytmp# mplayer -vo fbdev /opt/1.avi   
MPlayer 1.0rc3-4.4.4 (C) 2000-2009 MPlayer Team
mplayer: could not connect to socket
mplayer: No such file or directory
Failed to open LIRC support. You will not be able to use your remote control.

Playing /opt/1.avi.
AVI file format detected.
[aviheader] Video stream found, -vid 0
[aviheader] Audio stream found, -aid 1
VIDEO:  []  720x576  24bpp  25.000 fps  5459.1 kbps (666.4 kbyte/s)
Clip info:
 Software: MEncoder 1.0rc3-4.4.4
==========================================================================
Opening video decoder: [mpegpes] MPEG 1/2 Video passthrough
VDec: vo config request - 720 x 576 (preferred colorspace: Mpeg PES)
Could not find matching colorspace - retrying with -vf scale...
Opening video filter: [scale]
The selected video_out device is incompatible with this codec.
Try appending the scale filter to your filter list,
e.g. -vf spp,scale instead of -vf spp.
VDecoder init failed :(
Opening video decoder: [ffmpeg] FFmpeg's libavcodec codec family
Unsupported PixelFormat -1
Selected video codec: [ffmpeg2] vfm: ffmpeg (FFmpeg MPEG-2)
==========================================================================
==========================================================================
Opening audio decoder: [mp3lib] MPEG layer-2, layer-3
AUDIO: 48000 Hz, 2 ch, s16le, 224.0 kbit/14.58% (ratio: 28000->192000)
Selected audio codec: [mp3] afm: mp3lib (mp3lib MPEG layer-2, layer-3)
==========================================================================
AO: [pulse] Init failed: Connection refused
Failed to initialize audio driver 'pulse'
AO: [alsa] 48000Hz 2ch s16le (2 bytes per sample)
Starting playback...
VDec: vo config request - 720 x 576 (preferred colorspace: Planar YV12)
Could not find matching colorspace - retrying with -vf scale...
Opening video filter: [scale]
VDec: using Planar YV12 as output csp (no 0)
Movie-Aspect is 1.33:1 - prescaling to correct movie aspect.
[swscaler @ 0xb5f167a0]using unscaled yuv420p -> rgb565 special converter
VO: [fbdev] 720x576 => 768x576 BGR 16-bit 
A:  75.0 V:  75.0 A-V:  0.000 ct:  0.024 1875/1875 19%  1%  0.7% 0 0 

MPlayer interrupted by signal 2 in module: sleep_timer
A:  75.0 V:  75.0 A-V:  0.000 ct:  0.024 1876/1876 19%  1%  0.7% 0 0 
Exiting... (Quit) 
```

如果我像这样更改 grub 引导设置：

```
/boot/vmlinuz-2.6.32 root=UUID=7ece6c10-7255-4f21-8cd8-edb096233969 ro quiet console=tty2 vga=0x317 
```

问题没有出现。我确实比较了两个 mplayer 输出，但输出是相同的。有没有办法解决这个问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-17T07:36:19.957

In the first case (argument=nomodeset video=uvesafb:mode_option=1920x1080-16), you disabled KMS(Kernel Mode Settings), and use uvesafb instead. If KMS is disabled, when you switch between virtual terminal and X11/framebuffer, the screen will turn black for a while. In the second case you just set the resolution and KMS works. So you can switch between terminal and framebuffer without any problems.

# amazon-web-services - 我可以对 AWS IAM 用户隐藏一些托管区域吗？

> ID：12928114
> 
> 赞同：6
> 
> 时间：2012-10-17T06:05:58.550
> 
> 标签：amazon-web-services, amazon-route53, amazon-iam

我是否可以限制我的 AWS IAM 用户仅列出我希望他们使用 AWS IAM 策略看到的选定托管区域？

假设我有三个托管区域 A、B 和 C，并且我想对我的 AWS IAM 用户隐藏 A。我需要在这项政策中做哪些改变 -

```
{
"Statement":[{
"Effect":"Allow",
"Action":["route53:GetHostedZone",
"route53:ListResourceRecordSets"],
"Resource":"arn:aws:route53::123456789012:change/*"
},
{
"Effect":"Allow",
"Action":,
"Resource":"*"
}
]
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-17T21:44:30.323

试试这个：

```
arn:aws:route53:::hostedzone/YOURHOSTEDZONEID 
```

where`YOURHOSTEDZONEID`替换为您的托管区域 ID。

将每个托管区域添加为应允许您的 IAM 用户访问的单独资源。

另请参阅：[https ://serverfault.com/questions/364264/how-do-i-determine-the-arn-of-my-amazon-route53-hosted-zone](https://serverfault.com/questions/364264/how-do-i-determine-the-arn-of-my-amazon-route53-hosted-zone)

# javascript - 如何使用 FileSystemObject 在 JavaScript 中读取文件

> ID：12928117
> 
> 赞同：7
> 
> 时间：2012-10-17T06:06:05.150
> 
> 标签：javascript, file-io, filesystemobject

我想用 FileSystemObject 读取文件。我的代码如下：

```
<!DOCTYPE html>
<html lang="en">
<head>
<title>Read json</title>
</head>

<body>
<script type="text/javascript">

function readFile(filename){
    var fso = new ActiveXObject("Scripting.FileSystemObject");
    var ForReading = 1;
    var f1 = fso.OpenTextFile(filename, ForReading);
    var text = f1.ReadAll();
    f1.close();
    return text;
}

myJSONText = "text.txt";
var myObject = readFile(myJSONText);//eval('(' + myJSONText + ')');

document.write(myObject.name);
</script>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-08-08T15:52:51.240

首先，让我重复上面的一些评论。**我从来没有见过使用 ActiveXObject 客户端被称赞为*应该*做的事情。**

现在，让我说我正在尝试自己学习如何做到这一点。这里有一些关于这个问题的想法（和有用的链接，见底部）。

根据 MSDN[脚本诊所专栏](http://msdn.microsoft.com/en-us/library/ms974559.aspx)上的“Much ADO about Text Files”，总体布局是：

1.  创建对象。
2.  使用第一个对象创建另一个对象，该对象使用第一个对象的方法（例如获取文件）。
3.  对文件做一些事情。
4.  关闭文件。

你如何开始？根据 IE Dev Center（[在此处](http://msdn.microsoft.com/en-us/library/ie/7sw4ddf8(v=vs.94).aspx)链接），在 Javascript 中使用 ActiveXObject，如下所示：

```
newObj = new ActiveXObject(servername.typename[, location]) 
```

当您`fso`在代码中声明时，您就知道了。这个“servername”的东西呢，不是本地访问的文件吗？而不是“服务器名称等”你已经放入`Scripting.FileSystemObject`. 这实际上很好，如果主机 PC 上的 HKEY_CLASSES_ROOT 注册表项支持它（参见上面的参考）。

一旦 ActiveXObject 被成功声明，并且浏览器允许（仅限 IE），并且最终用户同意弹出的任何警告（“此页面上的 ActiveX 控件可能不安全与页面的其他部分交互。 ..”等），*那么*该对象允许您使用与该对象关联的任何方法。这就是 Windows Scripting FileSystemObject 发挥作用的地方。

现在可以使用任何 FileSystemObject (fso) 方法，顾名思义，这意味着本地计算机上的文件（和目录）交互。不仅仅是阅读，因为你的问题是关注的，还有*写作*和*删除*。[此处](http://msdn.microsoft.com/en-us/library/6tkce7xa(v=vs.84).aspx)的 MSDN 提供了方法和属性的完整列表。使用后，使用`.close()`方法关闭文件。

因此，出于显而易见的原因，这是危险的。但起初对我来说并不明显的是，这些与文件系统的交互可能会*无形*地发生。很有可能无论您做什么，从读取文件到删除目录树，都不会出现警告或命令提示符来让您知道由于您的几行代码而发生的事情。

最后让我评论一下上面的最后一段代码。将 JSON 与从 FileSystemObject 提取的数据结合使用提供了一种允许 JavaScript 交互的好方法（立即想到[JSON .parse 和 .stringify ）。](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON)有了这个，数据可以存储在本地，也许可以作为 HTML5 本地存储的替代方案（参考[这个 SO 线程](https://stackoverflow.com/q/4692245/2658159)，它更深入地介绍了这个概念，以及我在[这里](https://stackoverflow.com/q/24211963/2658159)提出的另一个 SO 问题）。

以下是一些进一步阅读的链接：
[IE Dev Center、JavaScript Objects、ActiveXObject](http://msdn.microsoft.com/en-us/library/ie/7sw4ddf8(v=vs.94).aspx)
[MSDN JScript Windows Scripting](http://msdn.microsoft.com/en-us/library/bstcxhf7(v=vs.84).aspx)（包括 FileSystemObject 方法等）
[MSDN Scripting Clinic](http://msdn.microsoft.com/en-us/library/dn641131.aspx)（较早的文章，许多断开的链接，但仍然有很多关于这些东西的好信息）

# eclipse - Webpoller 在 http://localhost:8080 发现了一个正在运行的服务器

> ID：12928119
> 
> 赞同：3
> 
> 时间：2012-10-17T06:06:27.470
> 
> 标签：eclipse, jboss

我是 jboss 的新手。目前，当我尝试在调试模式下运行它时，我的 jboss 处于运行状态，我收到如下图所示的错误提示。即使我点击停止按钮，它也会停止但再次点击开始按钮它说它已经在运行。

请帮忙

问候， 马尼什![在此处输入图像描述](../Images/ded8834f5f72cc4c8003a298a357d5a4.png)

# javascript - 如何将 iframe 与 100% 高度和页面滚动条集成

> ID：12928127
> 
> 赞同：0
> 
> 时间：2012-10-17T06:07:26.023
> 
> 标签：javascript, jquery, html, css, iframe

我想将 iframe 插入到具有以下要求的网页中：

1.  iframe 高度必须为 100% - 它应该使用其内容拉伸高度。
2.  iframe 滚动条不应可见，但页面滚动条应与 iframe 内容的高度相关。
3.  iframe 源来自不同的域。

集成 iframe 后，网页应该是单个普通网页。我已经设置了页面和 iframe 源页面的样式以相互匹配。

我通过搜索尝试了不同的解决方案，但到目前为止还没有运气。

请帮帮我

谢谢你

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T06:10:29.487

使用 css 作为

```
iframe{
height: 250px; // whatever you want
} 
```

[链接演示](http://jsfiddle.net/r9yQm/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T06:23:54.970

试试这个代码...

```
<!DOCTYPE html>
<html>
<head>
<title>iframed site</title>
<style>
.restricted{
    width:100%; 
    height:100%; 

    overflow-x: hidden;

    -ms-overflow-x: hidden; 

}
</style>
</head>

<body>
<iframe src="http://www.mukhesh-blog.blogspot.com" class="restricted"></iframe>
</body>
</html> 
```

或这个....

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
 <head>
  <title>iframe example</title>
  <style type="text/css">
   html, body, div, iframe { margin:0; padding:0; height:100%; }
   iframe { display:block; width:100%; border:none; }
  </style>
 </head>
 <body>
  <div>
   <iframe src="http://example.org/">
    <p><a href="http://example.org/">example.org</a></p>
   </iframe>
  </div>
 </body>
</html> 
```

# extjs - Ext JS 模型：一对一的关联

> ID：12928131
> 
> 赞同：-1
> 
> 时间：2012-10-17T06:07:35.607
> 
> 标签：extjs, model

建立一对一关系的最佳方式是什么？这就是我想要的：

```
Ext.define('MyApp.model.Post', {
    extend : 'Ext.data.Model',
    fields : [ 'id', {
        name : 'author',
        type : 'MyApp.model.Author'
    }, {
        name : 'content',
        type : 'string'
    } ],
    hasMany : {
        model : 'MyApp.model.Comment',
        name : 'comments'
    }
}); 
```

据我所见，`author`将被视为对象文字属性而不是 Ext JS 模型，这意味着它不能用作记录。此外，`getAuthor()`不可用。

另一种选择是：

```
Ext.define('MyApp.model.Post', {
    extend : 'Ext.data.Model',
    fields : [ 'id', 'authorID', {
        name : 'content',
        type : 'string'
    } ],
    hasMany : {
        model : 'MyApp.model.Comment',
        name : 'comments'
    }
}); 
```

获取作者信息现在需要在某处进行另一个加载调用。

哪种做法最好，两者的优缺点是什么？使用第一个版本并存储重要信息（如作者姓名）并仅在将用作记录时才对完整作者对象进行进一步加载调用是否有利？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T19:59:35.003

使用 hasOne 或 belongsTo 关系

[http://extjs-tutorials.blogspot.ca/2012/05/extjs-belongsto-association-rules.html](http://extjs-tutorials.blogspot.ca/2012/05/extjs-belongsto-association-rules.html)

# asp.net - 网站数据库设计 (CMS) 对数据库驱动菜单的考虑和建议

> ID：12928132
> 
> 赞同：8
> 
> 时间：2012-10-17T06:07:36.070
> 
> 标签：asp.net, sql-server, database-design, data-structures, content-management-system

这个问题是参考我[之前的问题](https://stackoverflow.com/questions/12912342/database-design-for-magazine-website-with-flexible-horizontal-menus)。根据我的要求，我对数据库进行了一些更正，但我仍然不确定如何创建子菜单（需要从另一个表而不是主`pg_Pages`表创建。

我将页面信息保存`pg_Pages`在我可以创建菜单的地方。我的问题是我可以轻松地为“关于我们”和“多媒体”创建子菜单，因为我将这些页面存储在`pg_Pages`表中，但我需要`News`从`News Category`表中创建子菜单并将它们链接到正确的页面处理程序。&`magazine`表中的问题。

**菜单示例** ![在此处输入图像描述](../Images/82dfec35c0c9c0e40120b3a6365191be.png)

样本数据

```
pg_Pages Table
PageID  PageName    LangID  PagePositionNo  PageURL     PageInheritance
1   Home        1   10      Default.aspx    0
2   About Us    1   20      Page.aspx   0
3   PageOne     1   10      Page.aspx   2
4   PageTwo     1   20      Page.aspx   2
5   Multimedia  1   30      Page.aspx   0
6   Video       1   10      Videos.aspx 5
7   PhotoGallery    1   20      Gallery.aspx    5
8   News        1   40      News.aspx   0
9   Issues      1   50      #       0
10  Publication 1   60      Page.aspx   0
11  SpanishHome 2   10      Default.aspx    0
12  SpanisAbout Us  2   20      Page.aspx   0
------------------------------------------------------------------------------
Magazine
MagazineID  MagazineIssueCode   LangID  MagazineTitle   MagazineLiveIssue(CurrentIssue)
1       101         1   Mag Title       0
2       102         1   Mag Title       1
3       101         2   SpanisgMag Title    0
4       102         2   Mag Title       1
------------------------------------------------------------------------------

art_Article Table
ArticleID   ArticleTitle    ArticleCatID    MagazineID  Language   TYPE 
1       Article one 100     1       1   Artile
2       Article two 100     1       1   Artile
3       Article three   200     1       1   Artile
4       Article four    300     1       1   Artile
5       Article Five    100     2       1   Artile
6       EditorMessage   300     2       1   EditorMessage
7       Article seven   200     2       2   Somthing
------------------------------------------------------------------------------ 
```

我希望我的设计足够灵活，可以从不同的表格中读取菜单。我应该采取/采取哪些方法/更改来正确完成它，而不是为所有菜单创建一个单独的表格并将它们链接到页面？请为这种情况提出最佳方法。

我希望系统非常灵活，可以直接从数据库中读取菜单信息，而不是创建静态链接并基于`IssueID`其他 ID 触发查询。

`News Menu`基本上显示文章的类别，此外，我需要一个查询，它只显示`News`菜单下的类别，其中包含针对该特定问题的文章。假设如果第 102 期没有任何与***文化***相关的文章，那么文化子菜单不应该出现在新闻下。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-05T22:53:24.447

对于通用 CMS，应该有一个单独的 Menus 表和一个相关的 MenuItems 表。

可以有不同种类的菜单 -**顶部/主菜单**、**左内菜单**、**站点页脚**等……您应该在菜单表中定义它们。

比你应该有一个递归**MenuItems**表，它可以有无限数量的**子菜单项**。

菜单表至少应该有这些列：

*   菜单 ID（整数）
*   说明 (nvarchar(...))
*   CreateDate、CreatedBy、ModifyDate.... - 记录列...

MenuItems 表应至少包含以下列：

*   菜单项 ID (int)
*   MenuID (int) - 与哪个菜单相关？？？
*   标题 (nvarchar(...))
*   LanguageID（int 或其他）
*   ParentMenuItemID (int)**用于递归**
*   链接 (nvarchar(...)) 链接到的任何内容（页面、外部站点、无...）。最后，一切都必须归结为一个链接......
*   IsExternalLink（通常对于外部链接，您可能会禁用 SEO 抓取并在另一个选项卡上打开 - 所以知道它可能很好）
*   SortOrder (int) 排序
*   CreateDate、CreatedBy、ModifyDate.... - 记录列...

希望能帮助到你...

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-03T16:19:16.503

您的任务是将站点实例映射到菜单实例。这可以通过 View 轻松完成。

因此，例如，`viewMenu`使用以下列进行创建：`MenuItemId`、`MenuItemName`、`MenuItemLevel`、`MenuItemParent`、`MenuItemUrl`。您可以操纵这些属性以在代码中创建菜单。您还可以使用 SQL 查询创建初始视图来操作当前数据库结构或任何未来结构中的数据。

至于现在，您可以将三个不同查询的结果合并到您的三个表中。将来，您可以向菜单更改视图添加功能。以及在向数据库添加新表时向菜单添加新项目。

# c++ - 返回对象时ctor/dtor的顺序

> ID：12928133
> 
> 赞同：0
> 
> 时间：2012-10-17T06:07:38.500
> 
> 标签：c++, visual-studio-2010

**这个 dtor/ctor 顺序是否正常，如果是，为什么？**

在下面的简单函数中

```
TemporaryObject SimpleFunction();
{
    TemporaryObject obj = MakeObj();

    // ...

    return obj;   // Stepping through at this point we hit TemporaryObject::dtor, MyObject::ctor
}

// At call site
MyObject obj = SimpleFunction(); 
```

在返回语句中，我希望调用 MyObject ctor，然后调用 TemporaryObject dtor。（可能会首先复制 TemporaryObject，但 RVO 在这里很典型）。

在 VS2010（调试构建）中发生的是首先调用 TemporaryObject dtor，然后使用被破坏的对象调用 MyObject 构造函数。查看内存地址可以确认传入的是被破坏的对象，如果有任何疑问，析构函数的副作用是显而易见的。

（为了完整起见，MyObject ctor 在 TemporaryObject 中设置了一个标志，标记它已被复制。TemporaryObject dtor 断言该标志已设置，这就是我意识到在这种情况下的“复制”之前发生破坏的方式）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:53:03.223

**最小的，完整的例子，有答案**

是的，在复制构造`dtor` *函数*之前调用了，但不是出于您似乎认为的原因。

关键的观察是`MyObject::dtor`被调用了两次（在两个不同的对象上，以防我们仍然倾向于跳到疯狂的编译器错误结论）。因此，我们猜测副本正在幕后发生，而且确实如此，尽管您可能听说过编译器*确实会*生成一个副本构造函数，即使您提供了不同的构造函数也是如此。

因此，如果您取消注释下面的复制构造函数，您将获得一些更好地描述正在发生的事情的输出，并且还可以正确处理`mActive`标志

```
struct TemporaryObject
{
    TemporaryObject()
        :
    mActive(true)
    { 
        std::cout << "TemporaryObject::ctor mActive = " << mActive << ", this = " << (void*)this << std::endl;
    }

   /* TemporaryObject(const TemporaryObject& obj)
        :
    mActive(obj.mActive)
    { 
        obj.mActive = false;
        std::cout << "TemporaryObject::copy_ctor mActive = " << mActive << ", this = " << (void*)this << std::endl;
    }*/

    ~TemporaryObject()
    {
        std::cout << "TemporaryObject::dtor mActive = " << mActive << ", this = " << (void*)this << std::endl;
        // assert(!mActive);
    }

    mutable bool mActive;
};

struct MyObject
{
    MyObject(const TemporaryObject& obj)
    {
        std::cout << "MyObject::ctor obj.mActive = " << obj.mActive << ", &obj = " << (void*)(&obj) << std::endl;
        obj.mActive = false;
    }
};

TemporaryObject SimpleFunction()
{
    TemporaryObject obj;

    // Do stuff

    return obj;
}

int main()
{
    MyObject obj = SimpleFunction();
} 
```

输出：

```
TemporaryObject::ctor mActive = 1, this = 00EFF4AB
TemporaryObject::dtor mActive = 1, this = 00EFF4AB
MyObject::ctor obj.mActive = 1, &obj = 00EFF4D7
TemporaryObject::dtor mActive = 0, this = 00EFF4D7 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T07:02:46.970

当然，您会在调试版本中看到这一点。由于在调试版本中，从函数返回没有优化，它具有以下规则：

```
TemporaryObject::ctor    // Copy constructor
TemporaryObject::dtor    // of function local value that reach end of its scope!
MyObject::ctor           // Create MyObject from returned value
TemporaryObject::dtor    // of function return value 
```

# javascript - jquery的就绪功能在我的笔记本电脑上不起作用

> ID：12928135
> 
> 赞同：0
> 
> 时间：2012-10-17T06:07:45.130
> 
> 标签：javascript, jquery

我在“000webhost”免费服务器上运行这个简单的代码：

```
<!DOCTYPE html>

<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script>
$(document).ready(function(){
    alert("something");
});
</script>
</head>
</html> 
```

问题是，如果在 localhost 上运行，这段代码运行得非常好。另一个奇怪的事情是，这个代码可以在我的手机上运行，​​也可以在我家里的电脑上运行。只有在我的笔记本电脑上运行（运行 Windows 8）时，它才会卡在“等待 stats.hosting24.com”上，我尝试在最新的 FF、chrome、IE 上运行它。- 每个浏览器上的结果相同。

感觉就像页面永远不会在我的笔记本电脑上完成加载。

关于什么可能导致此问题的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T06:12:30.387

工具 > 选项 > 在任何浏览器中启用 JavaScript；

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T06:23:53.400

检查您的互联网连接.. 由于您从谷歌 CDN 引用 jquery，如果连接断开，则页面可能在加载其内容时出现问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T06:56:40.007

你试过这个：

```
 <!DOCTYPE html>

    <html>
    <head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script>
    $(function(){
                alert("something");
            });
    </script>
    </head>
    </html>​ 
```

自从

```
 $(function(){

    }); 
```

和

```
 $(document).ready(function() { 

    }); 
```

是一样的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-12-02T11:03:30.783

我遇到了同样的问题。也在 000webhost 上。我很确定这是该主机的问题。他们可能正在运行自己的未完成的脚本或其他东西（我真的没有调查过）。

无论如何，这个问题似乎只发生在 000webhost 上，而且只在某些时候发生，在其他时候我的 javascript 运行良好，这让我相信这是他们最后的问题。

# sorting - 如何对图的链表表示中的每个链接进行最佳排序？

> ID：12928136
> 
> 赞同：1
> 
> 时间：2012-10-17T06:07:49.517
> 
> 标签：sorting, graph, linked-list

像列表形式的图表：

```
1 : 2 -> 3
2 : 3 -> 4 -> 1
3 : 2 -> 1 -> 4
4 : 3 -> 2 
```

whew 1 : 2 -> 3 表示节点 1 连接到节点 2 和 3。

所以输出应该是每个节点列表排序：

```
1 : 2 -> 3
2 : 1 -> 3 -> 4
3 : 1 -> 2 -> 4
4 : 2 -> 3 
```

因此，这可以通过对每个列表进行排序在 n * O(log n) 时间内完成，但是对于这个问题的最佳算法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T08:51:05.267

对所有单独的列表进行排序将是获得所需内容的最简单方法。但是，如果您有 n 个节点，则必须对 n 个列表进行排序。每个列表可以有 n-1 个条目。对 n-1 个条目的 1 个列表进行排序将具有复杂性 O(n*log(n))。您的总复杂度为 O(n²*log(n))。

您可以尝试通过按顺序对列表进行排序并利用该信息来解决此问题。从您的示例中，我假设您的图是无向的，这允许进行以下优化。

先举个例子：

1.  您首先对第一个列表进行排序，这将产生 2->3。然后你的第一个列表就完成了。然后，您可以将“1”添加到节点 2 和 3 的列表中（因为 1 将作为第一项出现在它们的列表中）。这将为您提供这些列表的开始。然后您转到节点 2 的列表。
2.  看到您已经知道它的开始 (1)，您可以在排序期间跳过所有该节点。您可以快速浏览您的链接列表并从集合中删除 1。然后你对其余的进行排序（这将给出 3->4）并将其附加到你已经拥有的 1 上。与 1 一样，您现在拥有 2 的完整排序列表，您可以将“2”添加到 3 和 4 的列表中。
3.  然后您继续执行 3，快速通过以删除您已经知道的所有节点，并对其余节点进行排序。这将为您提供 4，然后将其附加到您已经获得的 1->2->4 中。将 3 添加到节点 4 的列表中。
4.  节点 4 的列表已经完成，因为列表中没有 id > 4 的节点。

更正式地说：

```
initialize the final sorted list of every node to null;
for(i=1;i<=nrNodes;i++){
    remove all nodes with id<i from linked list;
    A:=sort remainder of list
    append A to the final sorted list of i;
    for (every node n in A){
        append i to final sorted list of node n
    }
} 
```

这应该比顺序排序所有列表更快，因为要排序的列表更小。

# java - Java 在“.”上拆分字符串 和 ”？”

> ID：12928138
> 
> 赞同：1
> 
> 时间：2012-10-17T06:07:52.267
> 
> 标签：java

```
public static void main(String[] args){
    String testStr = "Test test. Test 2\. Test3?";
    String[] newStr = testStr.split(".?");
    System.out.print(newStr[0]);
} 
```

我得到一个 Array Index Out of Bounds 异常运行这个，newStr 的长度是 0。我想把句子分解成“。”上的标记。和 ”？”。我犯了什么错误？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-17T06:09:23.667

您必须转义这些字符。使用`"\\."`和`"\\?"`。这是因为`String#split`接收到一个正则表达式，而这两个字符都是正则表达式中的特殊字符。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-17T06:09:59.080

你需要逃脱`.`和`?`。利用 ：

```
String[] newStr = testStr.split("\\.|\\?"); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-10-17T06:09:59.517

[`String#split`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split%28java.lang.String%29)将正则表达式作为参数进行拆分。`.`并且`?`在正则表达式中有特殊含义。

您可以使用字符类来拆分它们中的任何一个：

```
testStr.split("[.?]"); 
```

在字符类中，您不需要转义它们，因为特殊字符在字符类中失去了意义。

如果将其与普通管道一起使用`|`，则需要对其进行转义：-

```
testStr.split("\\.|\\?"); 
```

**更新**： - 如果你想保留你的分隔符：

```
testStr.split("(?<=[.?])") 
```

# jquery - 如何使用 jquery 从 IFrame 本身更改 IFrame 样式？

> ID：12928139
> 
> 赞同：1
> 
> 时间：2012-10-17T06:07:53.917
> 
> 标签：jquery, html, css, iframe, cross-browser

我有一个 iframe，它将使用以下脚本动态插入父页面（*我无法控制此域）...*

```
var _hf_iFrame = document.createElement("iframe");
_hf_iFrame.setAttribute("id", "_hf_iFrame");
_hf_iFrame.setAttribute("name", "_hf_iFrame");
_hf_iFrame.setAttribute("style", "height: 354px; width: 445px; border: 0; margin-left: -400px; top: 23%; position: fixed;");
document.body.appendChild(_hf_iFrame);
_hf_iFrame.setAttribute("src", "http://anotherdomain.com/frame.html"); 
```

我想从 iframe 本身更改 iframe 的 css 属性。有可能实现这一目标吗？我在 iframe 中使用 JQuery。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T06:28:14.147

不幸的是，不可能做到这一点跨域。我试图以多种方式操纵它，但都失败了。如果您有一个愿意使用用户脚本的社区，那可能是一个选择。如果没有，你所问的就是不可能的。

**用户脚本**

用户脚本是 javascript 中的脚本（可能是它附带的任何库）。用户可以选择在浏览器中安装一个。FireFox 和 Opera 完全支持它，尽管 FireFox 需要一个名为 Greasemonkey 的扩展。Chrome 有一个小例外：如果库在页面上不活动，您需要将库和代码添加到文档本身。如果是，您可以像使用任何其他浏览器一样使用它。我不确定 Safari 和 IE 根本不支持它。

这是有关用户脚本的信息：[单击](http://www.1stwebdesigner.com/design/user-scripts-guide/)。如本指南所示： Safari 支持附加组件，IE 也支持，但它没有说明 IE 9/10。要查看随机用户脚本的想法，请访问[userscripts.org](http://userscripts.org/)。

当域相同时，请参见下文。

**旧答案**

可以从 iFrame 中访问顶级文档。这是纯javascript。由于 iFrame 是动态创建的，因此一页上可能会有更多内容。这个脚本也得到了正确的框架：

```
var arrFrames = parent.document.getElementsByTagName("iframe");
for (var i = 0; i < arrFrames.length; i++) {
    if (arrFrames[i].contentWindow === window) alert("yay!");
    {
        arrFrames[i].contentWindow.style.border = "1px solid lime";
    }
} 
```

在 jQuery 中：

```
parent.$("iframe").each(function(iel, el) {
    if(el.contentWindow === window)
    {
        $(this).css({"border" : "1px solid lime"});
    }
}); 
```

这不是我的代码。这个原件是在[这里](https://stackoverflow.com/questions/935127/how-to-access-parent-iframe-from-javascript)找到的，我刚刚为 CSS 部分编辑了它。下一次可能会搜索更多，因为答案总是在那里！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T06:37:26.403

你不能这样做。

你有两个文件。父母和被诬陷。iframe 元素存在于父级中，因此要修改它，您需要修改父级文档。

您的代码在框架文档中运行，该文档位于不同的域中，因此[同源策略](http://en.wikipedia.org/wiki/Same_origin_policy)会阻止您访问父文档来修改它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T06:33:45.620

如果我对您的理解正确，您想在框架中发生某些事情时更改框架的样式。

您可以使用 jQuery 选择器和 .on 函数将函数绑定到框架中的每个元素：

```
$('#myFrame).contents().find('myButton').on('click',function(){
    $('#myFrame).contents().find('myDiv').attr('style','background-color:red'); 
}); 
```

请注意，如果您正在执行此代码，则在加载框架之前，您应该使用以下绑定技术：

```
$('#myFrame).contents().find('myButton').on('click','#myFrame',function(){
    $('#myFrame).contents().find('myDiv').attr('style','background-color:red'); 
}); 
```

它将绑定元素未呈现的事件事件。无论如何，我想在帧加载事件上绑定事件。

以上要求在您的文档中加载 jQuery。

# c# - 创建一个set get类并在构造函数中传递参数

> ID：12928144
> 
> 赞同：2
> 
> 时间：2012-10-17T06:08:17.690
> 
> 标签：c#, asp.net

我是 asp.net 的新手并尝试创建一个对象，但出现语法错误

```
public class pair
{

    private string key;
    private string value;

    public pair(string key, string value)
    {
        this.key = this.setKey(key);
        this.value = this.setValue(value);
    }

    private void setKey (string key) {
        this.key = key;
    }

    public string getKey()
    {
        return this.key;
    }

    private void setValue(string value)
    {
        this.value = value;
    }

    public string getValue()
    {
        return this.value;
    }

} 
```

这两行

```
this.key = this.setKey(key);
this.value = this.setValue(value); 
```

有问题，有人知道问题吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-17T06:11:00.183

您在这里只需要两个属性或只使用

```
public class Pair
{
    public string Key { get; private set; }
    public string Value { get; private set; }

    public Pair(string key, string value)
    {
        this.Key= key;
        this.Value = value;
    }   
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-17T06:13:53.320

您不需要创建自己的类，.NET 已支持 2 个类似的内置类。所以你可以使用`KeyValuePair<string, string>`or`Tuple<string, string>`代替

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-17T06:29:47.460

每个人都提供了解决方案，但没有人回答实际问题。问题是赋值的右侧是一个`void`方法，但它需要具有与赋值目标相同的类型，或者隐式转换为赋值目标类型的类型。由于`string`是密封的，因此在这种情况下，表达式的右侧必须是字符串表达式。

```
string M1() { return "Something"; }
object M2() { return new object(); }
void M3() { }

string s = "Something"; //legal; right side's type is string
string t = M1(); //legal; right side's type is string
string u = M2(); //compiler error; right side's type is object
string v = M2().ToString(); //legal; right side's type is string
string w = (string)M2(); //compiles, but fails at runtime; right side's type is string
string x = M3(); //compiler error; right side's type is void 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-17T06:11:26.437

您不需要使用方法，只需使用构造函数参数：

```
public class pair
{

    private string key;
    private string value;

    public pair(string key, string value)
    {
        this.key = key;
        this.value = value;
    }

    private string Key 
    {
        get { return key; }
        set { key = value; }
    }

    public string Value
    {
        get { return this.value; }
        set { this.value = value; }
    }
} 
```

# apache - IIS 中 Apache 的 ProxyPass 和 ProxyPassReverse 等效项

> ID：12928147
> 
> 赞同：6
> 
> 时间：2012-10-17T06:08:31.920
> 
> 标签：apache, iis, mod-proxy, proxypass

IIS 中是否有 Apache 的 mod_proxy 等效项？

我的 Apache 的 httpd.conf 中有以下配置（启用了 mod_proxy）：

```
Header add Set-Cookie "ROUTEID=hej.%{BALANCER_WORKER_ROUTE}e; path=/;" env=BALANCER_ROUTE_CHANGED
<Proxy balancer://openfire>
    BalancerMember http://server2:7070/http-bind/ route=1
    ProxySet stickysession=ROUTEID
</Proxy>

ProxyPass /project1/http-bind balancer://openfire nofailover=Off
ProxyPassReverse /project1/http-bind balancer://openfire 
```

我需要为 IIS 做类似的配置。我尝试了 ARR（应用程序请求路由），但无法正常工作。

有人可以帮助我实现这一目标吗？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-07-15T10:33:00.877

我相信您正在寻找[Application Request Routing](http://www.iis.net/downloads/microsoft/application-request-routing)。例如，StackOverflow 上已经有很多，比如[这个](https://stackoverflow.com/questions/5353861/rewrite-rules-for-response-headers-in-iis-7-replacing-the-cookie-path)。

# 3d - 3D：让 A 点看 B 点

> ID：12928152
> 
> 赞同：0
> 
> 时间：2012-10-17T06:09:03.947
> 
> 标签：3d, orientation, space, points

给定 3D 空间中已经存在的两个点，A 点和 B 点，我怎么知道给 A 点提供什么方向，以便它可以看到 B 点？

有没有一种简单的方法可以只使用欧拉角来做到这一点？

# ruby-on-rails - 在此上下文中将参数传递给 ruby 函数

> ID：12928155
> 
> 赞同：1
> 
> 时间：2012-10-17T06:09:24.597
> 
> 标签：ruby-on-rails, ruby

**免责声明**我对 Ruby / Rails 很陌生

我正在使用[RPH::Navigation](https://github.com/rpheath/navigation)创建我的导航菜单。我现在要做的是添加一些子导航项目，我这样做是这样的：

```
 suboptions.each do |group|
    def relpath
      link(group[:link], group[:args]).
    end 
    sub_menu.item group[:name], :path => :relpath
  end 
```

`link`只是一个方法，它返回`"#{link}?#{query_string}"`从哈希`query_string`构建的位置。`args`

我最初想做的是

```
 sub_menu.item group[:name], :path => link(group[:link], group[:args]) 
```

但是将返回值放入，然后调用它，返回方法未找到错误。

我目前的方法存在的问题`group`不在`relpath`. 我也尝试过使用`Proc.new`and `lambda`，但由于它们不像普通函数那样被调用，它也会阻塞它们。

我能做些什么来纠正这个问题？什么是正确的方法？

**编辑**

如果我做

```
suboptions.each do |group|
  def relpath(group)
    link(group[:link], group[:args]).
  end 
  sub_menu.item group[:name], :path => relpath(group)
end 
```

然后我得到的错误是：

```
undefined method `mylink?myarg=1' for #<#<Class:0x007fd8068acd58>:0x007fd8068b07f0> 
```

**编辑 2**

这是更广泛的代码示例。

```
menu.item MyTestsController, :text => 'Test', :if => Proc.new { |view| view.can? :read, MyTest } do |sub_menu|
  suboptions = [{:link => "tests", :name => "All Systems", :args => {:system_id => 0}},
                {:link => "tests", :name => "System A", :args => {:system_id => 1}}]
  suboptions.each do |group|
    def relpath(group)
      link(group[:link], group[:args]).
    end 
    sub_menu.item group[:name], :path => relpath(group)
  end 
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T07:48:17.153

我没有使用相关导航库的经验，但是查看[https://github.com/rpheath/navigation](https://github.com/rpheath/navigation)上的文档，您似乎应该将 Rails 命名路由助手的名称作为路径参数 - 而不是实际的 URL 路由。“未定义方法”的生成只是因为 RPH::Navigation 尝试通过 :path 参数中定义的名称调用辅助方法，在这种情况下，Rails 找不到名为“mylink?myarg=1”的命名路由辅助方法. 所以基本上，您需要做的是创建一个命名路由，并将其用作路径。

# sql - SQL 查询耗时 3 多分钟才得到 100 条记录

> ID：12928157
> 
> 赞同：1
> 
> 时间：2012-10-17T06:09:36.693
> 
> 标签：sql, sql-server, sql-server-2008

谁能告诉我为什么这个查询需要几分钟才能执行？

```
Select  
   d.DocumentID, d.IsReEfiled, d.IGroupID, d.ITypeID, d.RecordingDateTime, 
   d.IDate, d.InstrumentID, d.DocumentStatusID,ig.Abbreviation as IGroupAbbreviation, 
   u.Username, j.JDAbbreviation, inf.DocumentName,
   it.Abbreviation as ITypeAbbreviation, d.DocumentDate, 
   ds.Abbreviation as DocumentStatusAbbreviation 
From Documents d 
Inner Join IGroupes ig On d.IGroupID = ig.IGroupID 
Left Join ITypes it On d.ITypeID = it.ITypeID 
Left Join Users u On u.UserID = d.UserID 
Left Join DocumentStatuses ds On d.DocumentStatusID = ds.DocumentStatusID 
Left Join InstrumentFiles inf On d.DocumentID = inf.DocumentID                         
Inner Join Jurisdictions j on j.JurisdictionID = d.JurisdictionID 
Where 
    d.DocumentID IN
      (SELECT DocumentID 
       FROM (SELECT ROW_NUMBER() OVER (Order By DocumentID desc) peta_rn, peta_query.* 
             From (Select d.DocumentID
                   From Documents d) as peta_query) peta_paged 
       WHERE peta_rn > 92000 AND peta_rn <= 92100) 
```

子查询：

```
SELECT DocumentID 
FROM (SELECT 
         ROW_NUMBER() OVER (Order By DocumentID desc) peta_rn, peta_query.* 
      FROM
         (SELECT d.DocumentID
          FROM Documents d) as peta_query) peta_paged 
WHERE peta_rn > 92000 AND peta_rn <= 92100 
```

本身需要 0 秒，但整个查询需要几分钟，我什至没有那么多联接。在我看来，几乎没有 6-7 个连接不会造成太多问题，因为这些所有外键都有索引。有人可以建议可能是什么问题吗？

**编辑：**

这太棒了。请参阅在 0 秒内执行的此查询：

```
Select  d.DocumentID, d.IsReEfiled, d.IGroupID, d.ITypeID, d.RecordingDateTime, 
        d.IDate, d.InstrumentID, d.DocumentStatusID, u.Username, j.JDAbbreviation, inf.DocumentName,
        it.Abbreviation as ITypeAbbreviation, d.DocumentDate, ds.Abbreviation as DocumentStatusAbbreviation 
            From Documents d 
                Inner Join IGroupes ig On d.IGroupID = ig.IGroupID 
                Left Join ITypes it On d.ITypeID = it.ITypeID 
                Left Join Users u On u.UserID = d.UserID  
                Left Join DocumentStatuses ds On d.DocumentStatusID = ds.DocumentStatusID 
                Left Join InstrumentFiles inf On d.DocumentID = inf.DocumentID                         
                Inner Join Jurisdictions j on j.JurisdictionID = d.JurisdictionID 
                    Where d.DocumentID IN
                        (
                            SELECT DocumentID FROM (SELECT 
                                ROW_NUMBER() OVER (Order By DocumentID desc) peta_rn, peta_query.* From 
                                (
                                        Select   d.DocumentID
                                                From Documents d 

                                ) as peta_query) peta_paged WHERE peta_rn>92000 AND peta_rn<=92100
                        ) 
```

如您所见，它只是`ig.Abbreviation IGroupAbbreviation,`从查询中删除。我一放`ig.Abbreviation IGroupAbbreviation,`它就开始需要几分钟。这不是荒谬的高度吗？您认为会导致这种情况的原因是什么？

**编辑2：**

又多了几分诡异。更改`Inner Join IGroupes ig` 为`Left Join IGroupes ig`在 0 秒内执行查询。您能否建议为什么 Inner Join 会占用几分钟？这是我的问题，这是 SQL Server 中的一些错误吗？现在唯一剩下的就是用头撞墙。我浪费了4个多小时。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:17:54.423

试试这个版本的查询：

```
SELECT  DocumentID 
INTO    #temp
FROM    (
        SELECT  ROW_NUMBER() OVER (Order By DocumentID desc) peta_rn
                , d2.DocumentID
        FROM    Documents d2 
        ) peta_paged
WHERE   peta_rn > 92000 AND peta_rn <= 92100

Select  d.DocumentID, d.IsReEfiled, d.IGroupID, d.ITypeID, d.RecordingDateTime, 
        d.IDate, d.InstrumentID, d.DocumentStatusID,ig.Abbreviation as IGroupAbbreviation, u.Username, j.JDAbbreviation, inf.DocumentName,
        it.Abbreviation as ITypeAbbreviation, d.DocumentDate, ds.Abbreviation as DocumentStatusAbbreviation 
            From Documents d 
                Inner Join IGroupes ig On d.IGroupID = ig.IGroupID 
                Left Join ITypes it On d.ITypeID = it.ITypeID 
                Left Join Users u On u.UserID = d.UserID 
                Left Join DocumentStatuses ds On d.DocumentStatusID = ds.DocumentStatusID 
                Left Join InstrumentFiles inf On d.DocumentID = inf.DocumentID                         
                Inner Join Jurisdictions j on j.JurisdictionID = d.JurisdictionID 
                INNER JOIN #temp ON d.DocumentID = #temp.DocumentID 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T06:26:02.770

我只能看到一个问题。根据用户表中有多少记录，此行将返回所有用户： Left Join Users u On u.UserID = d.UserID

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T08:21:10.977

这看起来像是 SQL Server 查询优化器无法在超时之前评估所有可能的选择并最终选择一个糟糕的执行计划的情况。通过重新运行查询以给优化器另一个机会，或者通过对其进行足够的更改以便它可以提出一个好的计划，这会导致您的查询随后立即运行。

我认为您最好的选择是查看执行计划以查看所有时间都花在了哪里，然后查看更改您的查询，例如使用查询提示，或更改您的数据库，例如添加适当的索引。

[这篇文章](http://www.sommarskog.se/query-plan-mysteries.html)有一些关于 SQL Server 如何工作的好信息。

# javascript - 选择标签栏以跟随数字键

> ID：12928159
> 
> 赞同：1
> 
> 时间：2012-10-17T06:09:41.967
> 
> 标签：javascript, html, ruby-on-rails, ruby-on-rails-3, haml

我有一个时间选择标签。

```
 = select_tag "depart-minute", options_for_select('00'..'59', dep_minute), :include_blank => true' 
```

当此选择字段处于焦点并且我按两次 5 时，它显示 51，即列表中的第二项以 5 开头。

我想要的是，当我按两次 5 时，它应该显示 55。

有可能吗？

# android - 如何将敬酒返回到在 EditText 上键入的任何内容，但特定单词？

> ID：12928170
> 
> 赞同：1
> 
> 时间：2012-10-17T06:10:08.887
> 
> 标签：android, android-edittext, toast

我目前正在开发我的第一个 android 应用程序，这实际上是我第一次接触 java。因此，我想这个问题对于有经验的开发人员来说有一个明显的答案，但我在 SO 或其他任何地方都找不到任何东西。

下面的 EditText 有两个祝酒词（我不确定这听起来是否正确）。如果用户键入特定的单词，`Please`则会显示一个（在这种情况下，如果用户键入`Magic word`并按下按钮，则会显示）。如果用户在单击按钮时键入除该单词以外的任何其他内容（除“魔术词”之外的任何内容），我希望出现另一个 toast。

```
EditText editText1 = (EditText) findViewById(R.id.editText1);
{

if(editText1.getText().toString().trim().equals("Magic word"))
{
    Toast.makeText(MainActivity.this,
        "Please", Toast.LENGTH_LONG).show();
}                                                                                                                                        
} 
else if (editText1.getText().toString().trim().equals())
{
Toast.makeText(MainActivity.this,
    "You didn't say the magic word", Toast.LENGTH_LONG).show();
}
}
}
}); 
```

我为我糟糕的英语道歉。希望我让自己明白了。

非常感谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T07:37:02.643

以下代码为您提供解决方案：

```
final EditText editText1=(EditText)findViewById(R.id.editText1);        
    Button btn=(Button)findViewById(R.id.button1);

    btn.setOnClickListener(new View.OnClickListener()
    {
        @Override
        public void onClick(View v)
        {
            // TODO Auto-generated method stub
            final String edittext=editText1.getText().toString();
            if(edittext.trim().equals("Magic word"))
            {
                    Toast.makeText(MainActivity.this,
                    "Please", Toast.LENGTH_LONG).show();
            }  

            else
            {
                    Toast.makeText(MainActivity.this,
                    "You didn't say the magic word", Toast.LENGTH_LONG).show();
            }
        }
    }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-05-22T14:11:02.347

更简单的方法！！

```
String hello = editText1.getText().toString(); 
```

进而，

```
Toast.makeText(MainActivity.this, "The text is" +hello , Toast.LENGTH_SHORT).show(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T07:52:03.407

更准确地说，“魔法词”不是一个词，它的两个有空格。第一个 if 语句将要求 EditText 中的文本与该语句完全一致。如果您实际上打算将“魔术词”仅仅放在键入 EditText 的文本中的某个位置以显示一个说请的 Toast，请考虑使用 String.contains() 或正则表达式进行第一次比较。

对于所有其他条件，无需检查 EditText 的值。换句话说，如果只是按照 Luksprog 提到的那样保留 else，则删除第二个。

# php - HTTP 查询字符串和 []

> ID：12928173
> 
> 赞同：2
> 
> 时间：2012-10-17T06:10:43.743
> 
> 标签：php, http, uri, query-string, urlencode

PHP`[]`在查询参数名称中使用以确保参数的多次出现都存在于`$_GET`超全局变量中。（否则只有最后一次出现。）（任何其他软件可以做到这一点？）

但是从[RFC 3986](https://www.rfc-editor.org/rfc/rfc3986)（以及其他）看来，查询字符串中既不允许`[`也`]`不允许。

然而，我对各种浏览器的实验表明，没有浏览器对这些字符进行编码，它们就在 URI 中......

这是现实生活中的练习吗？还是我测试不正确？我在 IIS 7 上使用 PHP 5.3.17 进行了测试。使用 Internet Explorer、Firefox 和 Chrome。然后我比较了`$_SERVER['QUERY_STRING']`和中的内容`$_GET`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:21:37.803

这是常见的做法。这是一种将数组传递到后端脚本的方法，并且适用于 ASP 和 PHP（从未在 ASP.net 上测试过，但在我在 2004 年使用 ASP 时很常见）。`.join`据我所知，除非您使用 javascript或类似的东西，否则没有其他方法可以将数组传递给您的脚本。

您可以查看[http://www.thefutureoftheweb.com/blog/use-arrays-with-html-form-inputs](http://www.thefutureoftheweb.com/blog/use-arrays-with-html-form-inputs)作为如何在 HTML 表单中使用数组以传递到后端的参考之一。不过，公平地说，大多数时候它们与“POST”而不是“GET”一起使用。

# iphone - UILabel 文本换行在 iPhone 中不起作用？

> ID：12928176
> 
> 赞同：1
> 
> 时间：2012-10-17T06:11:01.350
> 
> 标签：iphone, xcode, word-wrap

我有一个 UILabel，它应该显示文本它将是多长时间。所以 UILineBreakModeWordWrap 的概念已经消失，但它对我不起作用..如果文本不适合该行，那么它应该自动出现在下一个线

```
UILabel *lblMyLable = [[[UILabel alloc] initWithFrame:CGRectMake(10,118, 600, 40)]autorelease];
    lblMyLable.lineBreakMode = UILineBreakModeWordWrap;
    lblMyLable.numberOfLines = 0;//Dynamic
    lblMyLable.tag=1301;
    lblMyLable.backgroundColor = [UIColor clearColor];
    lblMyLable.text = [NSString stringwithformat:@"%@ %@ %@ %@ %@ %@",id,name,address,city,state,country];
    [self.view addSubview:lblMyLable]; 
```

但是在这里显示 id ，名称和地址后，剩余部分被剪切了..我看不到它..我正在搜索这样一种方式，如果不适合一行，那么它应该从停止的地方自动跳转到下一行在第一行。我该怎么做？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-17T06:21:28.563

```
NSString *str = @"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sh";
NSString *str1 = @"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sh";
NSString *str2 = @"xyz";
NSString *str3 = @"xyz";
NSString *str4 = @"xyz";
NSString *str5 = @"xyz";
NSString *str6 = @"xyz";
NSString *str7 = @"xyz";   

UILabel *lblMyLable = [[UILabel alloc] initWithFrame:CGRectMake(10,10, 200, 40)];

lblMyLable.numberOfLines = 0;

lblMyLable.backgroundColor = [UIColor clearColor];

lblMyLable.text = [NSString stringWithFormat:@"%@,%@,%@,%@,%@,%@,%@,%@",str,str1,str2,str3,str4,str5,str6,str7];

[lblMyLable sizeToFit];

[self.view addSubview:lblMyLable]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T06:19:28.513

你的高度`UILable`太小，看不到线条

将高度设置为大于`40`

```
UILabel *lblMyLable = [[UILabel alloc] initWithFrame:CGRectMake(10,118, 600, 240)]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T06:16:55.193

这将帮助你

```
lblMyLable.numberOfLines = 0;
lblMyLable.text = [NSString stringwithformat:@"%@ %@ %@ %@ %@ %@",id,name,address,city,state,country];
[lblMyLable sizeToFit]; 
```

# hashtable - 用双散列函数填满整个开放地址苛刻表

> ID：12928179
> 
> 赞同：0
> 
> 时间：2012-10-17T06:11:22.210
> 
> 标签：hashtable, double-hashing

双重哈希能否在基于质数的开放地址哈希中填充哈希表中的所有条目？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T06:12:37.637

微不足道，是的。如果哈希表有`n`桶，只需插入`n`元素。

必须设计双散列探测序列以使其命中每个桶（如果没有，那将是该方案的缺陷）。特别是，这意味着第二个散列函数决不能计算为 0 mod n，如果否则为 0，则可以通过将其强制为 1 来保证这一点。

# jquery - Ajax 表单帖子未使用文件发布输入类型

> ID：12928186
> 
> 赞同：2
> 
> 时间：2012-10-17T06:11:47.467
> 
> 标签：jquery, ajax

“我有简单的表格并使用 ajax 发布，但我无法在 php 脚本中获取 $_FILES”

```
<form id="submitForm" method="post" enctype="multipart/form-data" >
     <input type="file" name="file"  />
     <input type="text" name="name" />
    </form> 
```

下面是ajax代码，告诉我我错在哪里

```
$.ajax({
                url: '<?php echo base_url(); ?>getter/addItemRow',
                type:"POST",
                data:$('#submitForm').serialize(),
                context: $('#table')
                }).done(function(data) {
                  this.prepend(data);
                }); 
```

下面是php代码行

```
print_r(var_dump($_FILES)); 
```

这是返回空数组；

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-17T06:19:10.603

### 您不能使用 AJAX / JavaScript 来传输文件！

**AJAX**只是**JavaScript**，无法访问存储在文件系统中的文件并将其传输到服务器。您可以使用隐藏的 iframe 来执行此操作。有一个很好的[jquery 表单插件](http://jquery.malsup.com/form/)，它可以让你的表单看起来和感觉像是 AJAX，它也[支持文件上传](http://jquery.malsup.com/form/#file-upload)。

### 这个插件使用的代码非常简单：

```
$(function() {
    $('#formid').bind("submit", function(){
        $(this).ajaxForm(function(result) {
            alert('the form was successfully posted!');
        });
    });
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-17T06:17:24.250

无法通过 ajax 上传文件。您可以使用 IFrame 上传文件，而无需刷新页面。您可以在此处查看更多详细信息：

[http://www.ajaxf1.com/tutorial/ajax-file-upload-tutorial.html](http://www.ajaxf1.com/tutorial/ajax-file-upload-tutorial.html)

XHR2 支持通过 AJAX 上传文件。例如通过 FormData 对象，但不幸的是，所有/旧浏览器都不支持它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-18T07:44:39.223

```
<script src="http://malsup.github.com/jquery.form.js"></script> 

$(function() { 
    $('#submitForm').ajaxForm(function(result) {
                    $("#HiddenRowsa").hide();
                    $('#table').prepend(result);
                }).submit();
         }); 
```

我得到的所有答案都是相同且**正确**的，这是可以工作的简单 jquery 代码，此处提供的所有链接都缺少 ajaxForm 中的 .submit() 函数，所以所有其他正在寻找的人对于这种问题，首先在头中包含上面的文件，然后编写上面的代码

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-17T06:15:35.723

jQuery 无法使用简单的 AJAX 处理 PHP 文件，因为 $_FILES 是一个全局 PHP 变量，与 javascript 完全无关。你可以使用这样的插件：[jQuery File Upload](http://blueimp.github.com/jQuery-File-Upload/)，或者更多。只需[在 google 上搜索和查找](http://www.google.nl/search?client=opera&rls=nl&q=jquery+file+upload&sourceid=opera&ie=utf-8&oe=utf-8&channel=suggest#hl=nl&client=opera&hs=Eqi&rls=nl&channel=suggest&sclient=psy-ab&q=jquery+file+uploader&oq=jquery+file+uploader&gs_l=serp.3...76685.76740.0.77131.2.2.0.0.0.0.0.0..0.0...0.0...1c.1.YGILz80S40E&pbx=1&bav=on.2,or.r_gc.r_pw.r_qf.&fp=da33171a4440e23e&bpcl=35277026&biw=1920&bih=991)。

您也可以使用 iFrames，但我不推荐它，因为在 IE 中它会像页面已更改一样提供令人讨厌的*点击。*

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-17T06:18:10.823

这是另一种解决方案，如果您想立即上传文件，请使用 ajaxForm 这样做，在以下链接中您会发现[ajaxForm not callingBack](https://stackoverflow.com/questions/12814590/ajaxform-not-callingback/12815294#12815294)

这是 ajaxForm 的链接，以了解有关方法的更多信息：： http: [//jquery.malsup.com/form/#ajaxForm](http://jquery.malsup.com/form/#ajaxForm)

# symfony - 在 Sonata Admin Bundle 中处理多对一异常

> ID：12928187
> 
> 赞同：1
> 
> 时间：2012-10-17T06:11:56.037
> 
> 标签：symfony, sonata-admin

我有 2 个具有多对一关系的表。

```
class Parent
{
  /**
     * @var integer $id
     *
     * @ORM\Column(name="id", type="integer", nullable=false)
     * @ORM\Id
     * @ORM\GeneratedValue(strategy="IDENTITY")
     */
    private $id;

    /**
     *
     * @ORM\OneToMany(cascade={"persist"},targetEntity="Child", mappedBy="parent")
     */

    private $child;

  // getters and setters
}

class child{

     /**
     * @var integer $id
     *
     * @ORM\Column(name="id", type="integer", nullable=false)
     * @ORM\Id
     * @ORM\GeneratedValue(strategy="IDENTITY")
     */
    private $id;

    /**
     * @var Parent
     *
     * @ORM\ManyToOne(cascade={"persist"},targetEntity="Parent")
     * @ORM\JoinColumns({
     * @ORM\JoinColumn(name="parent_id", referencedColumnName="id")
     * })
     *
     */
    private $parent;

   // getters and setters

} 
```

1.  现在如何处理删除父表的一行时产生的异常？

2.  如何在 Sonata Admin Generator 表单中显示消息？

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-17T10:17:56.310

1：现在如何处理父表的一行被删除时产生的异常？

Sol：以下步骤应该可以解决问题

1.  覆盖由 Sonata 管理包提供的 CRUDController。确保覆盖的 CRUDController 与原始 CRUDController 位于同一位置。即.YourProject/AdminBundle/Controller/CRUDController.php

2.  将 deleteAction 和 batchActionDelete 从原始控制器复制到您的 Overridden 控制器。IE

    公共函数 deleteAction($id) {

    ```
     $id     = $this->get('request')->get($this->admin->getIdParameter());

        $object = $this->admin->getObject($id);

       if (!$object) {
            throw new NotFoundHttpException(sprintf('unable to find the object with id : %s', $id));
        }

        if (false === $this->admin->isGranted('DELETE', $object)) {
            throw new AccessDeniedException();
        }

        if ($this->getRequest()->getMethod() == 'DELETE') {

         try {

                $this->admin->delete($object);

                $this->get('session')->setFlash('sonata_flash_success', 'flash_delete_success');

            } catch (\Exception $e) {

                $this->get('session')->setFlash('sonata_flash_error', sprintf('Cannot Delete because it has Dependeny'));
            }
             return new RedirectResponse($this->admin->generateUrl('list'));
           }

        return $this->render($this->admin->getTemplate('delete'), array(
            'object' => $object,
            'action' => 'delete'
        ));
    } 
    ```

3.  try catch 块应该负责其余的工作。

2.如何在 Sonata Admin Generator 表单中显示消息？

sol：缓存块中的消息将显示在奏鸣曲管理捆绑形式中

IE。

```
try {

                    $this->admin->delete($object);

                    $this->get('session')->setFlash('sonata_flash_success', 'flash_delete_success');

                } catch (\Exception $e) {

                    $this->get('session')->setFlash('sonata_flash_error', sprintf('Cannot Delete because it has Dependeny'));
                } 
```

笔记 。确保导入所有必要的文件

# qt - 在 QGraphicsView 的 ScrollHandDrag 模式下，如何停止 QGraphicsItems 在场景中的移动？

> ID：12928190
> 
> 赞同：7
> 
> 时间：2012-10-17T06:12:10.230
> 
> 标签：qt, qt4, qgraphicsview, qgraphicsitem, qgraphicsscene

我在场景中有多个`QGraphicsItem`s 分布在场景的不同部分。在应用程序中有不同的模式，其中一种模式用户可以滚动场景（手掌拖动模式）。为了实现滚动场景，**我****设置`dragMode`为`QGraphicsView``ScrollHandDrag`**.

但问题是当用户尝试通过拖动 (`MousePress`和`MouseMove`)`QGraphicsItem`来滚动场景时，它会移动而不是滚动场景`QGraphicsItem`。

如何**停止移动`QGraphicsItem`并滚动场景**，但我仍想选择`QGraphicsItem`s？

任何解决方案或任何指针都会有所帮助。

**注意：**有非常多的`QGraphicsItem`s 并且是各种类型的。所以无法在`QGraphicsItem`s 上安装事件过滤器。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-22T15:07:38.643

我没有修改项目标志，而是在 ScrollHandDrag 模式下将整个视图设置为不交互。问题是，您需要有一个额外的交互类型（即控制键、其他鼠标按钮等）来启用它。

```
setDragMode(ScrollHandDrag);
setInteractive(false); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T13:22:44.987

解决了 ！！

请参考我在 Qt 论坛上提出的问题：[点击这里](http://www.qtcentre.org/threads/51335-Stop-movement-of-QGraphicsItems-on-scene-in-ScrollHandDrag-mode-of-QGraphicsView?highlight=how%20to%20stop)

解决方案/示例：

```
void YourQGraphicsView::mousePressEvent( QMouseEvent* aEvent )
{
    if ( aEvent->modifiers() == Qt::CTRL ) // or scroll hand drag mode has been set - whatever condition you like :)
    {
        QGraphicsItem* pItemUnderMouse = itemAt( aEvent->pos() );
        if ( pItemUnderMouse )
        {
            // Track which of these two flags where enabled.
            bool bHadMovableFlagSet = false;
            bool bHadSelectableFlagSet = false;
            if ( pItemUnderMouse->flags() & QGraphicsItem::ItemIsMovable )
            {
                bHadMovableFlagSet = true;
                pItemUnderMouse->setFlag( QGraphicsItem::ItemIsMovable, false );
            }
            if ( pItemUnderMouse->flags() & QGraphicsItem::ItemIsSelectable )
            {
                bHadSelectableFlagSet = true;
                pItemUnderMouse->setFlag( QGraphicsItem::ItemIsSelectable, false );
            }

            // Call the base - the objects can't be selected or moved by this click because the flags have been un-set.
            QGraphicsView::mousePressEvent( aEvent );

            // Restore the flags.
            if ( bHadMovableFlagSet )
            {
                pItemUnderMouse->setFlag( QGraphicsItem::ItemIsMovable, true );
            }
            if ( bHadSelectableFlagSet )
            {
                pItemUnderMouse->setFlag( QGraphicsItem::ItemIsSelectable, true );
            }
            return;
        }
    }

    // --- I think This is not required here
    // --- as this will move and selects the item which we are trying to avoid.
    //QGraphicsView::mousePressEvent( aEvent );

} 
```

# php - 使用命名空间从 xml 标记获取属性

> ID：12928200
> 
> 赞同：0
> 
> 时间：2012-10-17T06:12:45.100
> 
> 标签：php, xml, xml-parsing, simplexml

> **可能重复：**
> [PHP 命名空间 simplexml 问题](https://stackoverflow.com/questions/2098170/php-namespace-simplexml-problems)

我有一部分 xml 为：

```
<item>
    <source url="eurosport.com">Eurosport</source>
    <media:content url="http://media.zenfs.com/en_GB/Sports/Eurosport/900589-15042881-640-360.jpg" type="image/jpeg" width="130" height="86" />
</item> 
```

我正在使用 SimpleXMLElement() 将文本 xml 数据转换为 SimpleXML 元素对象。这样我就可以访问`item`as `$item`。

我必须获得`url`of`media:content`并且无法做到。谁能帮我吗？

PS：试过这个，但它没有帮助..

```
foreach ($item->{'media:content'}->attributes() as $key => $val) {
        return (string)$val; 
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:29:50.163

使用 SimpleXMLElement() 的 xPath() 方法

```
var_export($item->xpath('media:content')); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T13:51:07.843

您需要使用该`->children()`方法来选择正确的命名空间：

```
foreach ($item->children('media', true)->content->attributes() as $key => $val) {
        return (string)$val; 
} 
```

# android - android中带有删除操作菜单的可检查列表视图

> ID：12928203
> 
> 赞同：0
> 
> 时间：2012-10-17T06:13:06.830
> 
> 标签：android, android-listview

我有一个列表视图，当我长按一个复选框时，每个列表项上应该出现一个复选框，我想检查该项目，检查后我选择删除操作菜单，以便在列表视图中删除选中的项目并且列表应该被刷新. 我需要帮助来创建可检查的列表视图和操作菜单。请帮我...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:16:51.840

从下面的链接中，您可以找到带有复选框的列表视图

[http://samir-mangroliya.blogspot.in/2012/09/android-multiple-select-listview.html](http://samir-mangroliya.blogspot.in/2012/09/android-multiple-select-listview.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T06:24:37.903

您可以在长按列表视图的项目时使复选框可见

```
list.setOnItemLongClickListener(new OnItemLongClickListener() {

  Checkbox.setVisible(View.VISIBLE);

    }); 
```

# java - java中的RegularTimePeriod创建或转换

> ID：12928205
> 
> 赞同：1
> 
> 时间：2012-10-17T06:13:38.813
> 
> 标签：java, jfreechart

我想创建一个带有小时、分钟、秒的RegularTimePeriod 对象，如何做到这一点我用谷歌搜索并得到了[http://www.jfree.org/jfreechart/api/javadoc/org/jfree/data/time/RegularTimePeriod。 html](http://www.jfree.org/jfreechart/api/javadoc/org/jfree/data/time/RegularTimePeriod.html)但我似乎不明白 RegularTimePeriod 包含什么创建一个。

简而言之，假设我有 02:33:54 我已将其分解为 h=02,m=33,s=54 现在我可以使用 h,m,s 创建一个常规时间段对象吗？如果可以

如果不是，哪个对象可以传递给 jfreechart 中的 TimeSeries 以沿 x 轴获取 hh:mm:ss 格式

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T11:10:35.523

您可以覆盖日期格式。相关示例可在[此处](https://stackoverflow.com/a/10028000/230513)和[此处](https://stackoverflow.com/a/12481509/230513)找到。

```
axis.setDateFormatOverride(DateFormat.getTimeInstance()); 
```

# php - CakePhp 选择查询..使用 findall()

> ID：12928209
> 
> 赞同：0
> 
> 时间：2012-10-17T06:13:57.517
> 
> 标签：php, mysql, cakephp

**代码**

```
$records = $this->User->find('all', array( 
'conditions' => array('User.email' => 'prakashgupta3@gmail.com'))); 
```

**数据库**

```
database fields(id,username,email,img_name,password)
 table name is signup 
```

这是我的选择查询..在 cakephp 中使用 find all ..查询运行良好。

在此之下，我想访问数据库中 email='prakashgupt3@gmail.com 的行。

上面有明确的定义，cakephp 用户很容易理解。我现在是 cakephp 的新手。

告诉我如何显示存储在记录变量中的数据，因为记录正在返回一个数组，当我打印 $record 时输出是“数组”......您的回复非常受欢迎。....谢谢.....

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T06:32:15.247

cakephp`find('all')`将返回这样的数组

```
 Array
(
[0] => Array
    (
        [ModelName] => Array
            (
                [id] => 83
                [field1] => value1
                [field2] => value2
                [field3] => value3
            )

        [AssociatedModelName] => Array
            (
                [id] => 1
                [field1] => value1
                [field2] => value2
                [field3] => value3
            )

    )
) 
```

所以你需要像访问它一样`$records[0]['User']['email'], $records[1]['User']['email']... $records[key]['User']['email']`

还

```
foreach ($records as $k => $v) {
       echo $v['User']['email'];
    } 
```

# web-services - HTTP查询字符串分号参数分隔

> ID：12928215
> 
> 赞同：1
> 
> 时间：2012-10-17T06:14:24.443
> 
> 标签：web-services, http, query-string, http-get

HTML 4.01 规范（[B.2.2 URI 属性值](http://www.w3.org/TR/html4/appendix/notes.html#h-B.2.2)中的 & 符号）建议 HTTP 服务器接受分号 ( `;`) 作为参数分隔符（其中`&`使用 & 符号）。

有服务器支持吗？有人用这个吗？在考虑允许的 Web 服务查询字符串格式时是否值得为此烦恼？

# makefile - Makefile 检查列表中变量的存在

> ID：12928216
> 
> 赞同：2
> 
> 时间：2012-10-17T06:14:24.287
> 
> 标签：makefile

我有一个 Makefile：

```
#Build Configurations
CONFIGS = Debug Release Profile

#Config flags
Debug_Flags=dasd
Release_Flags=

.SECONDEXPANSION:

#Debug_safety_check Release_safety_check Profile_safety_check targets
$(addsuffix _safety_check,$(CONFIGS)):
#Check existence of variable
ifeq '$(origin $(subst safety_check,FLAGS,$@))' 'undefined'
    $(error $(subst safety_check,FLAGS,$@) variable undefined)
endif 

#How to make our configurations (do corresponding safety_checks)
$(CONFIGS): $$@_safety_check 
```

此行不正确：

```
ifeq '$(origin $(subst safety_check,FLAGS,$@))' 'undefined' 
```

我认为，这是因为在调用相应的安全检查时发生**了 $@**扩展。但是 ifeq 扩展“立即”发生，所以，事实上，我们得到这样的行：

```
ifeq '$(origin ' ') 'undefined' 
```

是否存在某种从列表中检查变量定义的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T15:45:26.830

呃，明白了。

```
#Build Configurations
CONFIGS = Debug Release Profile

#Config flags
Debug_Flags=dasd
Release_Flags=
#Profile_Flags=

#Adds _flags suffix for each variable, 
#get it's origin ('undefined' for undefined variables).
#If $(findstring) a lookup for the word 'undefined' succeeds, 
#adds to the result variable
undef_flags = $(foreach c, $(CONFIGS), \
                $(if $(findstring undefined, $(origin $c_Flags)), $c))

#Count words for undefined configs, must be not '0'
ifneq ($(words $(undef_flags)),0)
#strip because if flag is undefined we'll get the trash spaces
$(error Flags ($(strip $(undef_flags))) must be defined)
endif 
```

# android - 检查我的应用程序是否从后台启动或不在android中启动？

> ID：12928218
> 
> 赞同：-1
> 
> 时间：2012-10-17T06:14:34.553
> 
> 标签：android, background-process, onresume, onpause

假设如果我正在使用我的 android 应用程序并且我在说`xyz`活动中单击主页按钮。现在此时应用程序正在后台运行，现在如果再次启动应用程序，`xyz`活动将被带到前面，这很好，但我想检查应用程序是从后台调用还是现在调用。如果它必须与方法做某事`onResume()`但不知道确切的解决方案，我会有些困惑。任何人都请帮我解决这个话题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T06:35:13.540

请阅读[这篇](http://developer.android.com/reference/android/app/Activity.html#ActivityLifecycle)文章。如果您创建活动，您将通过`onCreate`-> `onStart`-> `onResume`，如果您返回活动，您将通过`onRestart`-> `onStart`-> `onResume`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T07:02:20.100

如果你想知道你的应用程序是否使用了 onResume()，你可以在你的活动中实现类似的东西，并在你回到主页时检查日志。

```
@Override
public void onResume() {
   super.onResume();
   Log.d(“Test”, “onResume”);
} 
```

如果您还实现了 onPause、onStop 和 onStart 然后按主页按钮，您应该在日志中看到类似的内容：

```
12-09 04:18:47.696: D/Test(2995): onPause
12-09 04:18:50.346: D/Test(2995): onStop 
```

当您再次启动应用程序时：

```
12-09 04:20:08.726: D/Test(2995): onStart
12-09 04:20:08.766: D/Test(2995): onResume 
```

# ruby-on-rails - 在表单中选择多个类别（rails）

> ID：12928224
> 
> 赞同：0
> 
> 时间：2012-10-17T06:14:53.680
> 
> 标签：ruby-on-rails, forms, nested-forms, fields-for

我有这个tripbuilder，我想为其分配类别。因此，我将模型设置为旅行可以在我的数据库的类别表中包含任何（或更多）类别。然而; 我不知道如何设置允许用户通过复选框选择类别的表单。由于在这种情况下 fields_for 听起来不是一个可靠的方法（因为我想用复选框查看所有类别并选择我想要的尽可能多的类别）。谁能帮我吗？

我试过这种形式：

```
<%= form_for @trip, :html => {:multipart => true} do |a| %> 
    <%= a.label :title, "Routetitel" %>
    <%= a.text_field :title %>

    <%= a.label :description, "Omschrijving" %>
    <%= a.text_area :description %>

    <%= a.fields_for :categories do |cat| %>
        <%= cat.check_box :name %>
    <% end %>

    <%= a.submit 'Verstuur' %>
<% end %> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T07:20:32.737

首先，您需要像这样设置行程和类别之间的关系：

```
class Trip < ActiveRecord::Base
  has_and_belongs_to_many :categories
end 
```

然后你可以像这样构建表单：

```
<%= form_for @trip, :html => {:multipart => true} do |a| %> 
    <%= a.label :title, "Routetitel" %>
    <%= a.text_field :title %>

    <%= a.label :description, "Omschrijving" %>
    <%= a.text_area :description %>

    <% Category.all.each do |cat| %>
        <%= check_box_tag "trip[category_ids][]", cat.id, @trip.catergory_ids.include?(cat.id)
    <% end %>

    <%= a.submit 'Verstuur' %>
<% end %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T06:22:52.480

是的，可以通过使用选择标签和选择标签`multiple`的属性来完成。

```
 <% = a.select :categories, Category.all.collect {|c| [c.name, c.id]}, :include_blank => true', :multiple => "multiple" %> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T06:48:37.610

请按如下所述修改您的 fields_for 并检查！！！！

```
<%= a.fields_for "categories[]" do |cat| %>
    <%= cat.check_box :name %>
<% end %> 
```

# hadoop - 对 HDFS、HBase 和 Hive 的一些疑惑

> ID：12928225
> 
> 赞同：0
> 
> 时间：2012-10-17T06:14:54.663
> 
> 标签：hadoop, hive, hdfs

我对 Hadoop 生态系统有几个疑问。渴望很好地理解这些概念。

1.  Hive 表在哪里存储数据？
2.  对于 Datawarehouse，我们是否需要在 Hive 和 Hbase 表中都有相同的数据。
3.  我们如何从 Hbase 插入、更新、读取数据。
4.  HDFS 可以存储除 csv 之外的所有文件格式。
5.  我们可以在 Hbase 上有 PIG 吗？
6.  如果我有 Hive，我可以省略 Hbase 表吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T00:01:28.977

答案，按顺序：

1.  Hive 通常将数据存储在其配置的文件系统目录下的以表命名的目录中，通常是 的 HDFS 目录`/user/hive/warehouse`，可通过 的`hive-site.xml`属性进行调整`hive.metastore.warehouse.dir`。
2.  Hive 和 HBase 是两个不同的表存储概念。前者没有记录或随机读/写的概念。它们之间唯一的共同点是连接器 Hive 必须读取存储在 HBase 的服务器/格式下的表数据。
3.  [HBase 参考指南](http://hbase.apache.org/book.html)详细介绍了这一点。最简单的方法是使用`hbase shell`.
4.  HDFS 是一个普通文件系统（仅分布式），类似于您的 Unix 或 Windows 文件系统，因此不关心您存储在其上的数据类型。你可以存储任何你想要的东西，前提是你还有读写器逻辑可供以后消化它。
5.  Pig 确实提供了[HBaseStorage](http://pig.apache.org/docs/r0.10.0/api/org/apache/pig/backend/hadoop/hbase/HBaseStorage.html)内置存储访问方法作为其核心的一部分，让您可以在 Pig 脚本中访问和表示 HBase 行数据。
6.  见（2）。除非您希望它们相互关联，否则两者都是不相关的，因此答案是肯定的。

# java - jtable 按钮渲染器的按钮编辑器

> ID：12928231
> 
> 赞同：0
> 
> 时间：2012-10-17T06:15:30.483
> 
> 标签：java, swing, editor, jtable, renderer

我有`Jtable`一个按钮渲染器。我已经成功地在其中一列中呈现了按钮。但是，我也希望编辑按钮，为此我使用了按钮编辑器。

单击按钮后，将执行业务逻辑并禁用按钮。

问题是如果有多个记录，则在单击其中一个记录的按钮时，该单元格中的按钮被禁用（应该如此）。但是尝试单击另一条记录的按钮，会禁用之前的按钮执行业务逻辑并启用先前记录中的按钮。

现在按钮在这两条记录之间切换，我无法单击第二条记录的按钮。

我对导致这个问题的原因一无所知。

这是我面临的问题的SSCCE。

下面是 UI 类的代码

```
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JScrollPane;
import javax.swing.JTable;

public class TableUI  extends JFrame
{
JTable j = null;
JScrollPane scp = null;

public TableUI()
{
    j = new JTable();
    j.setModel(new Tablemodel());

    j.setDefaultRenderer(JButton.class, new ButtonRenderer());
    j.getColumn("Column1").setCellEditor(new ButtonEditor());

    scp = new JScrollPane(j);

    add(scp);
    pack();
    setVisible(true);
}

public static void main(String[] args) 
{
    new TableUI();
}
} 
```

下面是渲染器和编辑器类的代码

```
 import java.awt.Component;
 import java.awt.event.ActionEvent;
 import java.awt.event.ActionListener;
 import java.awt.event.MouseEvent;
 import java.util.EventObject;
 import javax.swing.AbstractCellEditor;
 import javax.swing.JButton;
 import javax.swing.JTable;
 import javax.swing.table.TableCellEditor;
 import javax.swing.table.TableCellRenderer;

class ButtonRenderer implements TableCellRenderer 
{     
JButton button;     
boolean enabled = true; 

public ButtonRenderer() 
{     
    button = new JButton();     
}     

public Component getTableCellRendererComponent(JTable table,     
        Object value,     
        boolean isSelected,     
        boolean hasFocus,     
        int row, int column) 
{   

    button.setText("Install");     
    button.setEnabled(enabled);     
    return button;     
}     

public void setEnabled(boolean enabled) 
    {     
    this.enabled = enabled;     
}     
}     

class ButtonEditor extends AbstractCellEditor implements   
TableCellEditor,ActionListener 
{     
JButton button;    
private JTable cwwObjTblMainTable = null;
boolean enabled = true;     
int clickCountToStart = 1;     

public ButtonEditor() 
{     
    button = new JButton();     
    button.addActionListener(this);     
}     

public Component getTableCellEditorComponent(JTable table,     
        Object value,     
        boolean isSelected,     
        int row, int column) {     

    cwwObjTblMainTable=table;
    button.setText("Install");     
    button.setEnabled(enabled);     
    return button;     
}     

public void setEnabled(boolean enabled) {     
    this.enabled = enabled;     
}     

public Object getCellEditorValue() {     
    return button.getText();     
}     

public boolean isCellEditable(EventObject anEvent) {     
    if (anEvent instanceof MouseEvent) {     
        return ((MouseEvent)anEvent).getClickCount() >= clickCountToStart;     
    }     
    return true;     
}     

public void actionPerformed(ActionEvent e) 
{  
    enabled=false;
    button.setEnabled(false);
    //Business logic execution 
    System.out.println("Clicked");

}     
} 
```

下面是表格模型类的代码

```
 import javax.swing.JButton;
 import javax.swing.table.AbstractTableModel;

public class Tablemodel extends AbstractTableModel
{
private static final Class[] columnClasses = {JButton.class,Integer.class};

public int getColumnCount()
{
    return 2;
}

public int getRowCount()
{
    return 2;
}

@Override
public Object getValueAt(int pRow, int pCol) 
{
    return 1;
}

public String getColumnName(int pColumn)
{
   String[] colheads = 
      { "Column1" , "Column2"}; 

   return colheads[pColumn];
}

public Class getColumnClass(int col) 
 {
        return columnClasses[col];
 }

public boolean isCellEditable(int rowIndex, int columnIndex) {
    return true;
}

public void removeRow(int pRow)
{
    fireTableRowsDeleted(pRow,pRow);
    fireTableDataChanged();
}
} 
```

对此的任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:59:32.547

每个表列只有一个编辑器实例。这意味着，第 1 行使用的编辑器与第 2 行的编辑器相同（以及该列的每隔一行）

您需要在`getTableCellEditorComponent`被调用时设置按钮状态。

这可能需要您在模型中执行一些逻辑，以便在调用该方法时进行询问以确定应该执行的操作，或者更好的是，让模型返回列/行的值，这样您可以使用该`value`参数来确定按钮的状态。您当然需要在表模型中设置值；）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T07:38:28.787

1.  `JButton.class`没有永远放`JComponents`的`JTables Cell`，

2.  放入for ，正确工作`String value`_`XxxTableModel``JButtons Renderer and Editor``String value``JButtons Components`

3.  使用[@camickr 的表格按钮列](http://tips4java.wordpress.com/2009/07/12/table-button-column/)

4.  在这个[Great Code Depots 上搜索合适的 AbstractTableModel](http://tips4java.wordpress.com/?s=tablemodel)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-01-20T20:14:55.627

你应该试试这个代码它对我有用希望它有用

```
public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int row, int column) {
    ta = table;
    r = row;
    c = column;
    if (ta.getValueAt(r, c) == "clicked") {
        button.setEnabled(false);
    } else {

        button.setEnabled(true);
    }

    return button;

} 
```

# ruby-on-rails-3 - Rails - 为自定义回形针网址设置路线

> ID：12928240
> 
> 赞同：1
> 
> 时间：2012-10-17T06:16:12.243
> 
> 标签：ruby-on-rails-3, routes, paperclip

我设置了一个自定义回形针路径和网址，如下所示：

```
path: ":rails_root/storage/:rails_env/photos/:id/:style/:basename.:extension",
url: "/storage/:rails_env/photos/:id/:style/:basename.:extension" 
```

但现在我需要弄清楚如何创建一条路线，以便我可以使用带有 URL 的附件（例如）访问模型的每个实例的每张照片：

```
http://0.0.0.0:3000/storage/development/photos/1/original/_MG_7918.JPG 
```

到目前为止，我尝试过的所有事情都以同样的错误结束：

```
No route matches [GET] "/storage/development/photos/1/original/_MG_7918.JPG" 
```

有人可以帮助我了解我的路线需要采用什么结构才能访问此目录结构中的文件吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T12:31:18.587

您可以为附件创建自定义控制器。您需要创建一个控制器方法和路由：

```
# config/routes.rb
match "/storage/*path" => "attachments#show"

#app/controllers/attachments_controller.rb
class AttachmentsController
  def show
    # ...
  end
end 
```

您可以查看[此答案](https://stackoverflow.com/questions/2752497/how-to-store-private-pictures-and-videos-in-ruby-on-rails/2752585#2752585)，注意我的评论以使其有效。

另一种解决方案是创建从`public`dir 到`storage`dir 的符号链接。

# html - 多个选项卡上的 Webkit 通知

> ID：12928242
> 
> 赞同：14
> 
> 时间：2012-10-17T06:16:13.630
> 
> 标签：html, google-chrome, webkit, notifications, html5-notifications

我正在为我的应用程序使用**WebKit 通知**。假设我正在使用此代码：

```
var n = window.webkitNotifications.createNotification(
   'icon.png',
   'New Comment',
   'Praveen commented on your post!'
);
n.onclick = function(x) { window.focus(); this.cancel(); };
n.show(); 
```

***PS 1：****前五行实际上是单行。只是为了可读性，我以这种方式发布。*

***PS 2：****有关完整代码，请参阅：[Unable to show Desktop Notifications using Google Chrome](https://stackoverflow.com/questions/12193953/unable-to-show-desktop-notifications-using-google-chrome)。*

我的问题是，如果我打开了多个标签怎么办？

说当我的应用程序上出现新评论时，这是否会被解雇。如果我打开了多个标签怎么办？这会产生很多通知吗？说，我`10 - 15`打开了标签，我收到了两个通知。将生成多少个通知，`20 - 30`？

如果是这种情况，如何防止为每个打开的选项卡多次生成单个通知？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-06-26T07:30:52.917

您只需要指定通知的“标签”选项。即使打开了许多标签，标签中具有相同值的通知也只会显示一次。

例如：

```
var notification = new Notification('Hey!', {
    body : 'So nice to hear from you',
    tag : 'greeting-notify',
    icon : 'https://mysite.com/my_funny_icon.png'
}); 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2014-04-14T16:28:43.260

[MDN 文档站点上](https://developer.mozilla.org/en-US/docs/WebAPI/Using_Web_Notifications#Dealing_with_repeated_notifications)提供了标记通知的详细说明，因此仅显示最后一个通知

代码摘录[以防万一文档失效]

的HTML

```
<button>Notify me!</button> 
```

JS

```
window.addEventListener('load', function () {
  // At first, let's check if we have permission for notification
  // If not, let's ask for it
  if (Notification && Notification.permission !== "granted") {
    Notification.requestPermission(function (status) {
      if (Notification.permission !== status) {
        Notification.permission = status;
      }
    });
  }

  var button = document.getElementsByTagName('button')[0];

  button.addEventListener('click', function () {
    // If the user agreed to get notified
    // Let's try to send ten notifications
    if (Notification && Notification.permission === "granted") {
      for (var i = 0; i < 10; i++) {
        // Thanks to the tag, we should only see the "Hi! 9" notification
        var n = new Notification("Hi! " + i, {tag: 'soManyNotification'});
      }
    }

    // If the user hasn't told if he wants to be notified or not
    // Note: because of Chrome, we are not sure the permission property
    // is set, therefore it's unsafe to check for the "default" value.
    else if (Notification && Notification.permission !== "denied") {
      Notification.requestPermission(function (status) {
        if (Notification.permission !== status) {
          Notification.permission = status;
        }

        // If the user said okay
        if (status === "granted") {
          for (var i = 0; i < 10; i++) {
            // Thanks to the tag, we should only see the "Hi! 9" notification
            var n = new Notification("Hi! " + i, {tag: 'soManyNotification'});
          }
        }

        // Otherwise, we can fallback to a regular modal alert
        else {
          alert("Hi!");
        }
      });
    }

    // If the user refuses to get notified
    else {
      // We can fallback to a regular modal alert
      alert("Hi!");
    }
  });
}); 
```

# iphone - iPhone中的文字转语音？

> ID：12928244
> 
> 赞同：1
> 
> 时间：2012-10-17T06:16:21.807
> 
> 标签：iphone, ios, text, speech

> **可能重复：**
> [iPhone 上的文字转语音](https://stackoverflow.com/questions/416064/text-to-speech-on-iphone)

我在 iPhone 应用程序中工作，使用 UITextView 从用户输入文本，然后我设置了播放按钮，当用户选择播放按钮时，文本从 UITextView 读取到语音。但我不知道这个概念，如何从 UITextView 读取文本到语音？请帮我

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T06:33:35.130

看看下面的示例代码，

[https://github.com/goelay/mycode/tree/75d2ef5284f335c31748ea61c5ff1ff3205829a4/sfoster-iphone-tts-a6502c779cd3](https://github.com/goelay/mycode/tree/75d2ef5284f335c31748ea61c5ff1ff3205829a4/sfoster-iphone-tts-a6502c779cd3)

# less - 覆盖 LESS 变量是不好的做法吗？

> ID：12928246
> 
> 赞同：41
> 
> 时间：2012-10-17T06:16:30.213
> 
> 标签：less

我目前在一个项目上使用 Twitter Bootstrap，包括 LESS 文件并使用我们编写的一些额外的 LESS 代码进行编译。

最新版本意味着我们需要覆盖一些 Bootstrap LESS 变量。这里的一个选择是维护一个修改后的 Bootstrap 副本，我们会在每个版本中对其进行修补。

但我注意到，可以通过在 import 语句*之后*`@import`重新声明变量来覆盖 LESS 文件中定义的变量。

 *例如：

```
@import "twitter-bootstrap/bootstrap.less";
// Restore base font size to pre 2.1.1 defaults
@baseFontSize:          13px;
// Add some custom LESS code here 
```

这是不好的做法吗？它是 LESS 编译器工作方式的产物，还是它的预期部分？尽管我确实找到了以下两个参考资料，但我找不到太多关于此的信息：

> 由于 Less 编译器中的错误，您可以通过在最初声明变量后更改它来覆盖变量的“常量”值。
> 
> [http://rubysource.com/how-to-customize-twitter-bootstrap%E2%80%99s-design-in-a-rails-app](http://rubysource.com/how-to-customize-twitter-bootstrap%E2%80%99s-design-in-a-rails-app)

和

> 通过覆盖这三个变量（在声明 grid.less 导入之后）自定义列和装订线。
> 
> [http://semantic.gs/](http://semantic.gs/)

LESS 网站本身说变量是“常量”：

[http://lesscss.org/](http://lesscss.org/)

> 请注意，LESS 中的变量实际上是“常量”，因为它们只能定义一次。

但后来我看到其他网站使用这种方法。这肯定比维护供应商分支更容易，而且似乎与 less.js 一起工作得很好。

希望有任何关于这是否是一件坏事的想法！

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2012-12-11T04:01:56.940

行！上述问题之一引发了对预期行为的讨论，结果证明覆盖 LESS 变量很好。

> 您的声明将在 CSS 的同一范围内相互覆盖；LESS 也是如此。
> 
> [https://github.com/cloudhead/less.js/issues/297](https://github.com/cloudhead/less.js/issues/297)

就像在 CSS 中一样，在范围内覆盖是使用 LESS 的一种预期方式。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-10-03T07:43:13.467

没关系！

我通常使用“组件”和具有默认值的变量创建一个较少的文件。然后我导入一个具有相同变量但“客户”值的文件，覆盖默认值。这样，我只需更改一些值即可为每个客户创建新设计。

没关系，非常有用。*

# clojure - Midje 和 Speclj 如何比较？

> ID：12928250
> 
> 赞同：10
> 
> 时间：2012-10-17T06:16:45.767
> 
> 标签：clojure

两者看起来都相当不错。我想了解每个库特别擅长或缺乏什么，特别是对于测试 Web 应用程序。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-10-18T22:59:34.883

我没用过speclj，我是Midje的第一作者。其他人没有提到的一点是，Midje 试图利用函数式语言和面向对象语言之间的差异。

一个区别是不变性。因为大多数函数只依赖于它们的输入，而不依赖于包含的状态，所以你对它们所做的真实陈述在感觉上与面向对象的对应物不同。在 OO 测试中，您可以制作以下形式的示例：“鉴于此历史记录和这些输入，此方法会产生某某。”

函数式语言中的示例似乎只是更简单的示例：“给定这些输入，此函数返回某某”。但我认为这不太对。我认为系统中的*其他功能*起着类似于状态/历史的作用：它们是您试图通过智力控制的事情之一。函数及其关系是您希望测试帮助您清晰思考的内容。

出于这个原因，Midje 的编写假设一个甜蜜的开发过程涉及到：

*   我想对这个功能做什么？在系统的世界里，有什么好的方法来思考这个函数的作用？
*   在这样做的过程中，还有哪些其他功能有用——将捕获领域的重要部分——以及我想对它们做出什么样的真实陈述？

然后，在典型的 mockist 风格中，你大致自上而下或由外而内地开发，当你从错误中恢复或有更好的想法时，允许不可避免的迭代。

最终结果是一大堆函数，它们的相互关系由测试记录，或者（正如 Midje 所说的）关于函数和它们所依赖的函数的“事实”。许多人评论说，Midje 有一种 Prolog/逻辑编程的感觉，这不是偶然的。与往常一样，测试只是示例，但 Midje 试图让它们读起来更像是事实陈述。这就是它唯一真正创新的特性元常数的理由。这是他们的一个例子：

```
(fact "right changes the direction, but not the position"
  (right (snapshot north ...position...)) => (snapshot west ...position...)
  (right (snapshot east ...position...)) => (snapshot north ...position...)
  (right (snapshot south ...position...)) => (snapshot east ...position...)
  (right (snapshot west ...position...)) => (snapshot south ...position...)) 
```

在这种情况下，实际位置与 function 的真实情况无关`right`，只是它永远不会改变。元常数的想法是，它是一个除了测试中明确说明的值外，*一无所知的值。*在测试中，很难区分什么是必要的，什么是偶然的。这有许多不好的影响：理解、可维护性等。元常量提供了清晰性。如果值是包含 key 值的映射或记录很`3`重要`:a`，您可以明确地说：

```
(fact
  (full-name ..person..) => "Brian Marick"
  (provided
     ..person.. =contains=> {:given-name "Brian", :family-name "Marick"})) 
```

这个测试明确了关于人的事情——也明确了*不重要*的事情（除了两个名字之外的任何东西）。

在数学术语中，Midje 试图让您做出诸如“for all x where x...”之类的陈述，同时仍然是一个测试工具而不是定理证明者。

[这种方法的灵感来自于《 Growing Object-Oriented Software](http://www.growing-object-oriented-software.com/)》中描述的那种“伦敦风格”的模拟重度 TDD ，这是我在编写 Ruby 代码时通常使用的方法。但事实证明它有一种完全不同的感觉，以一种难以描述的方式。但感觉需要更多的工具支持而不仅仅是`with-redefs`.

结果是，Midje 在某种程度上是在尝试寻找一种功能性 TDD 风格，而不仅仅是 OO TDD 的移植。它也试图成为一个通用工具，但它是半固执的软件。正如亚伯拉罕·林肯所说：“那些喜欢这种东西的人会发现这是他们喜欢的东西。”

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-10-18T16:21:20.973

我肯定会选择[Speclj](http://speclj.com/)。

Speclj 易于集成和使用。它的语法没有 Midje 的那么华丽。Speclj 基于 RSpec，为您提供 Ruby 程序员习惯的所有舒适性，同时又不会失去 Clojure 的特质。

Speclj 中的自动跑步者很棒。

```
lein spec -a 
```

一旦你使用了一段时间，你会想知道当你不得不手动运行测试时你是如何完成工作的。

模拟不是问题，因为您可以简单地使用 with-redefs。@rplevy 在 Speclj 中的示例看起来像这样。

```
(ns foo.core-spec
  (:require [speclj.core :refer :all ]
            [foo.core :as base]))

(describe "Core"
  (it "contrives 100"
    (let [message-params (atom nil)]
      (with-redefs [base/timestamp (fn [] 1350526304739)
                    base/important-message #(reset! message-params [%1 %2])]
        (should= {:x 100 :timestamp 1350526304739} (base/contrived 100))
        (should= 100 (first @message-params)))))) 
```

这种简单的模拟方法是中肯的。没有误导。

至于测试网络应用程序，Speclj 工作正常。事实上，Speclj 支持内置于[Joodo](http://joodoweb.com/)中。

*免责声明：我写了 Speclj*

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2012-10-18T02:35:59.797

使用 Midje 的最大好处是它提供了用于测试事物的集中抽象，而无需测试它们的所有部分，而这些部分通常会拖累整个世界。

如果您的函数涉及调用辅助函数以生成时间戳、将某些内容放入数据库或消息队列、发出 API 请求、缓存某些内容、记录某些内容等，您想知道这些涉及世界的函数调用发生了（有时它们发生了多少次），但是实际执行它们与您正在测试的函数无关，并且被调用的函数通常应该有自己的单元测试。

假设你的代码中有这个：

```
 (defn timestamp [] (System/currentTimeMillis))

(defn important-message [x y] (log/warnf "Really important message about %s." x))

(defn contrived [x & y]
  (important-message x y)
  {:x x :timestamp (timestamp)}) 
```

以下是使用 midje 进行测试的方法：

```
 (ns foo.core-test
  (:require [midje.sweet :refer :all]
            [foo.core :as base]))

(fact
 (base/contrived 100) => {:x 100 :timestamp 1350526304739}
 (provided (base/timestamp) => 1350526304739
           (base/important-message 100 irrelevant) => anything :times 1)) 
```

这个例子只是对 midje 可以做什么的快速一瞥，但展示了它擅长的本质。在这里，您可以看到需要表达的无关复杂性非常少：

1.  函数应该产生什么（尽管每次调用函数时时间戳函数会产生不同的结果），
2.  调用了时间戳函数和日志记录函数，
3.  日志记录函数只被调用一次，
4.  日志记录函数收到了预期的第一个参数，并且
5.  你不在乎它收到的第二个参数是什么。

我试图用这个例子说明的要点是，它是一种非常简洁和紧凑的方式，可以用简单的部分来表达复杂代码的测试（我所说的复杂是指它具有可以分离的嵌入部分），而不是尝试测试所有内容一次全部。一次测试所有东西都有它的位置，即在集成测试中。

我承认有偏见，因为我积极使用 midje，而我只看过 speclj，但我的感觉是，speclj 可能对使用过类似 Ruby 库并发现[这种思考测试](http://betterspecs.org/)理想方式的人最有吸引力，基于经验。这是选择测试框架的一个完全合理的理由，并且可能还有其他关于它的好东西，希望其他人可以评论。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-10-18T20:49:31.013

我想说 Midje 特别擅长创建用于表达存根和模拟的 DSL。如果您关心存根和模拟，并且想经常使用它，我会选择 Midje 而不是 Speclj，因为它具有用于表达那些比 slagyr 在他的答案中提供的方法更简洁的测试类型的抽象。

如果您想要更轻量级的方法，另一种选择是打算与 clojure.test 一起使用的[Conjure存根/模拟库。](https://github.com/amitrathore/conjure)

Speclj 的亮点在于它很像 RSpec，包含“描述”和“它”……Midje 实际上可以支持嵌套事实，但不如 Speclj 优雅。

*免责声明：我是 Midje 和 Conjure 的贡献者。:)*

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-17T06:28:59.663

我会建议 Midje 而不是 Speclj
对于 speclj，我不认为它是否对模拟有很好的支持，与 Midje 相比，文档看起来也很稀疏。

Midje 的语法也更好：

```
(foo :bar) => :result compared to (should= (foo :bar) :result) 
```

# spring - Spring Data Neo4J @Indexed(unique = true) 不工作

> ID：12928251
> 
> 赞同：6
> 
> 时间：2012-10-17T06:16:47.567
> 
> 标签：spring, spring-data-neo4j

我是 Neo4J 的新手，我有，可能是一个简单的问题。

我的应用程序中有 NodeEntity，属性（名称）用 @Indexed(unique = true) 注释以实现唯一性，就像我在 JPA 中使用 @Column(unique = true) 所做的那样。

我的问题是，当我坚持一个名称已经存在于我的图表中的实体时，它无论如何都可以正常工作。但我预计这里会出现某种异常......？！这是我的基本代码的概述：

```
@NodeEntity
public abstract class BaseEntity implements Identifiable
{
    @GraphId
    private Long entityId;
    ...
}

public class Role extends BaseEntity
{
    @Indexed(unique = true)
    private String name;
    ...
}

public interface RoleRepository extends GraphRepository<Role>
{
    Role findByName(String name);
}

@Service
public class RoleServiceImpl extends BaseEntityServiceImpl<Role> implements 
{
    private RoleRepository repository;

    @Override
    @Transactional
    public T save(final T entity) {
    return getRepository().save(entity);
    }
} 
```

这是我的测试：

```
@Test
public void testNameUniqueIndex() {
    final List<Role> roles = Lists.newLinkedList(service.findAll());
    final String existingName = roles.get(0).getName();
    Role newRole = new Role.Builder(existingName).build();
    newRole = service.save(newRole);
} 
```

这就是我预计会出错的地方！如何在不自己检查的情况下确保属性的唯一性？

PS：我正在使用 neo4j 1.8.M07、spring-data-neo4j 2.1.0.BUILD-SNAPSHOT 和 Spring 3.1.2.RELEASE。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-07T22:56:56.857

我走进了同样的陷阱……只要您创建新实体，您就不会看到异常-最后的*save()*动作赢得了战斗。

不幸的是，只有在更新现有实体的情况下才会引发*DataIntegrityViolationException ！*

可以在此处找到该行为的详细描述：http: [//static.springsource.org/spring-data/data-graph/snapshot-site/reference/html/#d5e1035](http://static.springsource.org/spring-data/data-graph/snapshot-site/reference/html/#d5e1035)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-12-25T15:12:27.940

如果您使用的是 SDN 3.2.0+，请使用 failOnDuplicate 属性：

```
public class Role extends BaseEntity
{
    @Indexed(unique = true, failOnDuplicate = true)
    private String name;
    ...
} 
```

# nhibernate - 数据库“删除级联”映射

> ID：12928257
> 
> 赞同：1
> 
> 时间：2012-10-17T06:17:18.923
> 
> 标签：nhibernate, fluent-nhibernate

任何人都知道是否可以使用流利的 NHibernate 来生成具有“on delete cascade”的键，当使用 NHibernate 的 XML 映射时，它被称为“on-delete='cascade'”。

我想要这个的原因是我的映射的另一端有一个大斑点，所以如果它只是“消失”会很方便

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T12:31:02.277

这很简单：

```
HasMany(x => x.YourCollection).Inverse().ForeignKeyCascadeOnDelete(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T06:30:59.393

在列上，使用`Cascade.Delete()`，还有其他选项。

# java - 如何在线程安全执行中编写 util.logger？

> ID：12928262
> 
> 赞同：1
> 
> 时间：2012-10-17T06:17:27.920
> 
> 标签：java, logging, thread-safety, java.util.logging, filehandler

我有 MyLogger 类，其中包含：

```
public class MyLogger {

    private final static Logger logger = Logger.getLogger(MyLogger.class.getName());
    private static FileHandler fileHandler;
    private static String loggerFileName;

    public MyLogger() { 
    }

    public static void createMyLogger(String filename){
        loggerFileName = filename;
        try {
            File loggerFile = new File(filename);
            boolean fileExists = loggerFile.exists();
            if(fileExists){
                loggerFile.delete();
                File lockFile = new File(filename+".lck");
                if(lockFile.exists())
                    lockFile.delete();
            }
            fileHandler = new FileHandler(filename,true);

        } catch (IOException e) {
            e.printStackTrace();
        }
        logger.addHandler(fileHandler);
        SimpleFormatter simpleFormatter = new SimpleFormatter();
        fileHandler.setFormatter(simpleFormatter);
    }

    public static void log(String msg) {
        logger.log(Level.INFO, msg);
    }

    public static void log(Exception ex) {
        logger.log(Level.SEVERE, "Exception",ex);
    }

    public static String getLoggerFileName() {
        return loggerFileName;
    }

    public static void setLoggerFileName(String loggerFileName) {
        MyLogger.loggerFileName = loggerFileName;
    } 
```

而且我正在线程中进一步执行，即当我启动第一个进程时，会创建记录器文件并记录日志，但是当我启动另一个进程时，会再次创建不同的线程并创建新的记录器文件，但由于静态方法和参考它混合了两个记录器文件中的两个进程日志......

当我为每个线程启动进程时，调用以下方法：

```
 public void start(String process) {
            try{
                String filename = process.replace(".com", "");
                MyLogger.createXPathLogger(filename.concat(WordUtils.capitalize(type))+ ".log");
                MyLogger.log("got parameters ===>> process : "+process);
                }catch (Exception e) {
                         MyLogger.log("Exception In main() method....");
                         MyLogger.log("*****"+process+" process failed In main() method.*****");
                         MyLogger.log(e);
              }
        } 
```

那么我该怎么做呢，我可以做线程安全日志记录吗？提前致谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T18:56:37.710

这里的想法不会真的奏效。创建了一个记录器，然后将每个处理程序添加到记录器。

您真正需要的是日志上下文的概念。您需要在每个线程的基础上隔离记录器的创建，这是您无法使用 JUL 完成的 AFAIK

这是使用 JBoss 日志管理器执行此操作的一个非常粗略的示例：

```
import java.io.File;
import java.io.IOException;
import java.util.logging.FileHandler;
import java.util.logging.Level;
import java.util.logging.Logger;
import java.util.logging.SimpleFormatter;

import org.jboss.logmanager.LogContext;
public class MyLogger {

    private static final ThreadLocal<MyLogger> LOCAL_LOGGER = new ThreadLocal<MyLogger>();

    private final Logger logger;

    private MyLogger(final Logger logger) {
        this.logger = logger;
    }

    public static MyLogger createMyLogger(final String filename) {
        MyLogger result = LOCAL_LOGGER.get();
        if (result == null) {
            final LogContext logContext = LogContext.create();
            final Logger logger = logContext.getLogger(MyLogger.class.getName());
            final FileHandler fileHandler;
            try {
                final File loggerFile = new File(filename);
                if (loggerFile.exists()) {
                    loggerFile.delete();
                    File lockFile = new File(filename + ".lck");
                    if (lockFile.exists())
                        lockFile.delete();
                }
                fileHandler = new FileHandler(filename, true);

            } catch (IOException e) {
                throw new RuntimeException("Could not create file handler", e);
            }
            logger.addHandler(fileHandler);
            fileHandler.setFormatter(new SimpleFormatter());
            final MyLogger myLogger = new MyLogger(logger);
            LOCAL_LOGGER.set(myLogger);
            result = myLogger;
        }
        return result;
    }

    public void log(String msg) {
        logger.log(Level.INFO, msg);
    }

    public void log(Exception ex) {
        logger.log(Level.SEVERE, "Exception", ex);
    }
} 
```

# java - 正则表达式 - 使用 Case INSENSITIVE 搜索一个单词并用相同的单词替换它

> ID：12928265
> 
> 赞同：2
> 
> 时间：2012-10-17T06:17:57.377
> 
> 标签：java, string, search, replace, case-insensitive

> **可能重复：**
> [正则表达式替换所有忽略大小写](https://stackoverflow.com/questions/5568081/regex-replace-all-ignore-case)

如何获得所需的输出？

输入字符串 -

```
"Software Industry. software Industry. SOFTWARE INDUSTRY. software industry. " 
```

要搜索的词 -

```
"software industry" 
```

输出 -

```
"*Software Industry*. *software Industry*. *SOFTWARE INDUSTRY*. *software industry*. " 
```

简而言之，我必须找到一个短语并用开始和结束星号 (*) 替换相同的短语，忽略案例..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-17T06:25:08.533

您可以为此使用模式匹配 (Regex)。

首先使用组提取短语并存储在字符串或任何其他数据结构中。然后使用替换功能来实现你的输出。

你可以参考这篇文章：[http ://www.vogella.com/articles/JavaRegularExpressions/article.html](http://www.vogella.com/articles/JavaRegularExpressions/article.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-17T06:25:21.897

您可以使用`replaceAll`with `(?i)`which will do `case-insensitive`replace。

```
String str = "Software Industry. software Industry. SOFTWARE INDUSTRY. "+
                                                    "software industry. "
str = str.replaceAll("(?i)(software industry)", "\\*$1\\*"); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-17T06:27:30.507

您也可以尝试以下方法：

```
String str=new String("Software Industry. software Industry. SOFTWARE INDUSTRY. software industry.");
str=Pattern.compile("(software industry)",Pattern.CASE_INSENSITIVE).matcher(str).replaceAll("*$1*"); 
```

# java - 在 java 代码中设置 job.properties 文件以启动 oozie 操作

> ID：12928272
> 
> 赞同：1
> 
> 时间：2012-10-17T06:18:23.490
> 
> 标签：java, hadoop, workflow, oozie

我正在尝试使用 java 代码启动一个 oozie 操作。使用命令行时，我们通过“-config job.properties”指定属性文件，它知道选择哪个工作流。我们如何在 java 代码中定义“job.properties”文件来完成同样的任务？

```
 conf.setProperty(OozieClient.APP_PATH,"hdfs://clusterdb05.com:8020/user/apps/merge-logs/workflow.xml");
    conf.setProperty("jobTracker", "jobtracker.com:8021");
    conf.setProperty("nameNode", "hdfs://namenode.com:8020");
    conf.setProperty("queueName", "jobtracker.com:8021");
    conf.setProperty("appsRoot", "hdfs://namenode.com:8020/user/apps");

    try {
        String jobId = wc.run(conf);

        System.out.println("Workflow job submitted");

        while (wc.getJobInfo(jobId).getStatus() == WorkflowJob.Status.RUNNING) {
            System.out.println("Workflow job running ...");
            Thread.sleep(10 * 1000);
        }
        System.out.println("Workflow job completed ...");
        System.out.println(wc.getJobInfo(jobId));
    } catch (OozieClientException oozieClientException) {
        oozieClientException.printStackTrace();
    } catch (InterruptedException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T06:36:40.310

它是`ResourceBundel`. 尝试与您的程序集成。

```
public class BundleTest {
    private ResourceBundle bundle;

    public BundleTest() {
        bundle = ResourceBundle.getBundle("job");
    }

    public String getMessage(String id, Object... params) {
        String text = null;
        try {
            text = bundle.getString(id);
        } catch (MissingResourceException e) {
            text = "!! key " + id + " not found !!";
        }
        if (params != null) {
            MessageFormat mf = new MessageFormat(text);
            text = mf.format(params, new StringBuffer(), null).toString();
        }
        return text;
    }

    public static void main(String[] args) {
      BundleTest test = new BundleTest();
        String jobTracker = test.getMessage("jobTracker");
        String nameNode = test.getMessage("nameNode");
        String queueName = test.getMessage("queueName");
        String appsRoot = test.getMessage("appsRoot");
        System.out.println(jobTracker);
        System.out.println(nameNode);
        System.out.println(queueName);
        System.out.println(appsRoot);

        String message2 = test.getMessage("JOB_KEY_2", "Your First");
        System.out.println(message2);
    }
} 
```

工作属性

```
jobTracker=jobtracker.com:8021
nameNode=hdfs://namenode.com:8020
queueName=jobtracker.com:8021
appsRoot=hdfs://namenode.com:8020/user/apps;
#With Parameter
JOB_KEY_2= {0} Job 
```

输出 ：

```
jobtracker.com:8021
hdfs://namenode.com:8020
jobtracker.com:8021
hdfs://namenode.com:8020/user/apps;
Your First Job 
```

# wordpress - 是否可以在buddypress中制作自定义页面

> ID：12928273
> 
> 赞同：1
> 
> 时间：2012-10-17T06:18:25.423
> 
> 标签：wordpress, buddypress

是否可以为 buddypress 制作一个自定义页面，其网址如下：[http](http://domain.com/custom_page) ://domain.com/custom_page ？我通过搜索谷歌找到了一些答案，但它没有创建自定义页面。我有一个代码，我在其中一个博客中找到。

定义（“BP_FUN_SLUG”，“有趣”）；

功能 bp_show_fun_page() {

```
global $bp, $current_blog;

if ( $bp->current_component == BP_FUN_SLUG && $bp->current_action == '' ) {
    // The first variable here must match the name of your template file below
    bp_core_load_template( 'fun', true );
} 
```

}

add_action（'wp'，'bp_show_fun_page'，2）；

但是这段代码不起作用......有没有人知道如何做到这一点？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-26T07:29:42.867

是的，可以在 Buddypress 中创建新页面。在 Buddypress 中，您必须创建一个新插件或在主题函数文件中创建一个函数。

**首先，您必须使用bp_core_new_nav_item()**函数在导航菜单中添加一个新页面链接（您已经使用 bp_core_new_subnav_item() 函数创建了子菜单**）**。

以上两个函数将屏幕函数名称作为参数传递给此名称，当您单击自定义页面链接调用此屏幕函数时使用此名称。在您的 functions.php 文件中创建与屏幕函数名称相同的新函数。**在此函数中使用bp_core_load_template()**函数调用您的自定义模板文件。

然后完成，添加更多逻辑来创建一个新函数并在模板文件中调用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-04T05:48:31.000

如果有人想知道如何将自定义页面集成到用户配置文件中（使其看起来像活动流、组等）。

我最近做的一件事是定义一个插件（functions.php 也可以），使用 bp_core_new_nav_item 或 bp_core_nav_subnav_item 注册一个自定义 slug，并在这些 slug 的处理程序中加载 member/single/plugins.php 模板。您可以在该页面上绑定许多操作，例如 bp_template_title 和 bp_template_content。

这可以给你很大的控制权。

这是 plugins.php 源的链接：[http ://phpxref.ftwr.co.uk/buddypress/nav.html?readme.txt.source.html](http://phpxref.ftwr.co.uk/buddypress/nav.html?readme.txt.source.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-20T16:29:00.253

另一种方法是添加一个允许在帖子中使用 php 的插件。例如[http://wordpress.org/extend/plugins/allow-php-in-posts-and-pages/](http://wordpress.org/extend/plugins/allow-php-in-posts-and-pages/)

然后创建一个页面并将其添加到其中：

```
[php] locate_template( array( 'some-template-folder/something.php' ), true ); [/php] 
```

# sql - 根据日期列上的间隔（天）组计算记录

> ID：12928274
> 
> 赞同：0
> 
> 时间：2012-10-17T06:18:30.823
> 
> 标签：sql, sql-server, sql-server-2008, date

**计算区间之间的数据，区间取决于记录的年龄**

我有一个名为的表`complaint`，其中有很多列`ComplaintDate`，我想显示**记录数取决于间隔**。

以下间隔将用于分类记录：

1.  10 天前的投诉数量。
2.  10-20 天前的投诉数量。
3.  20-30 天前的投诉数量。
4.  超过 30 天的投诉数量。

我尝试过这样的事情

```
select SUM(CASE WHEN ComplaintDate BETWEEN DATEADD (dd,-10,getdate())AND   GETDATE()  THEN 1 ELSE 0 END) As '0-10',
       SUM(CASE WHEN ComplaintDate BETWEEN  DATEADD (dd,-20,getdate()) AND DATEADD (dd,-10,getdate()) THEN 1 ELSE 0 END) AS '10-20',
       SUM(CASE WHEN ComplaintDate BETWEEN DATEADD (dd,-30,getdate()) AND DATEADD (dd,-20,getdate()) THEN 1 ELSE 0 END) AS '20-30'       
 FROM Complaint 
```

**我也希望包含在 0-10 天间隔内的那一天不应计入 10-20 或 20-30 天间隔内，同样适用于其他其他间隔。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T07:52:17.043

```
select 
SUM(CASE WHEN ComplaintDate > DATEADD (dd,-10,getdate()) AND   ComplaintDate <= GETDATE()  THEN 1 ELSE 0 END) As '0-10',

SUM(CASE WHEN ComplaintDate > DATEADD (dd,-20,getdate()) AND ComplaintDate<=DATEADD (dd,-10,getdate()) THEN 1 ELSE 0 END) AS '10-20',

SUM(CASE WHEN ComplaintDate > DATEADD (dd,-30,getdate()) AND ComplaintDate <=DATEADD (dd,-20,getdate()) THEN 1 ELSE 0 END) AS '20-30'    

FROM Complaint 
```

# c# - 扩展方法无法识别，怎么回事？

> ID：12928275
> 
> 赞同：0
> 
> 时间：2012-10-17T06:18:44.273
> 
> 标签：c#

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.CompilerServices;
using System.Web;
using System.Web.Mvc;

namespace MvcMusicStore.Controllers
{
    public class StoreController : Controller
    {
        //
        // GET: /Store/

        public string Index()
        {
            // ERROR call extension method here
            return GetMemberName();
        }
    }

    public static class Utilities
    {
        public static string GetMemberName(this Controller caller, [CallerMemberName] string memberName = "")
        {
            return caller.GetType().FullName + "." + memberName;
        }
    }
} 
```

我的扩展方法无法识别，怎么回事？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-17T06:19:31.290

在呼叫前加上`this`：

```
public class StoreController : Controller
{
    //
    // GET: /Store/

    public string Index()
    {
        return this.GetMemberName();
    }
} 
```

# artificial-intelligence - 关于人工智能的演讲幻灯片

> ID：12928278
> 
> 赞同：-1
> 
> 时间：2012-10-17T06:19:04.957
> 
> 标签：artificial-intelligence, pseudocode

下面是一张关于人工智能的演讲幻灯片。我认为这是关于某事的伪代码。
但我不知道这些符号是什么意思。我什至无法理解这张幻灯片的要点。
请帮我。谢谢 ：）

![在此处输入图像描述](../Images/ca0f43d6241f751bacc48cc61dc7d66e.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-22T01:41:23.443

这不是伪代码。请查看 Norvig 和 Russell，“人工智能：一种现代方法”。这看起来像是反射代理的动作效果，但您至少需要上一张幻灯片，可能还需要前几张幻灯片来确定这一点。它还可以以某种方式处理框架问题。

无论如何，假设给定一个具有前提条件 p 和效果 e 和状态 s 的动作，效果集是四个逻辑语句：x、非 x、x 和非 x。当 x 在效果 e 中为 1 时，前两个逻辑语句说 x，以此类推。第三和第四个逻辑语句说 x 如果在逻辑子句 phi 集合中，则 x 在效果 e 中具有值 1，并且状态 s 蕴含(|=) 一组逻辑子句 phi。

所以一对前提条件，效果在状态 s 中是可执行的当且仅当 s 包含 p 并且 s 中的效果集是一致的。

但正如我所说，实际上需要更多信息。

# android - android 市场没有显示我在 android 2.2、android 4.0.4 设备中发布的应用程序？

> ID：12928283
> 
> 赞同：3
> 
> 时间：2012-10-17T06:19:15.950
> 
> 标签：android, android-layout

我开发了一个应用程序，它在 2 天前在 android 市场上发布，但它仍然没有显示 android 2.2 设备标记和 android 4.0.4 设备市场我不知道为什么这会发生在我身上，我以前的应用程序都出现在所有手机上，只有这个应用程序未显示在 android 2.2、4.0.4 设备市场中

我的 manifest.xml 文件：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.android.project"
    android:versionCode="3"
    android:versionName="1.0" >

       <uses-sdk android:minSdkVersion="7"  android:targetSdkVersion="16"/>

    <supports-screens
            android:largeScreens="true" 
            android:normalScreens="true" 
            android:smallScreens="true" 
            android:anyDensity="true" />

    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE"></uses-permission>
    <uses-permission android:name="android.permission.UPDATE_DEVICE_STATS"></uses-permission>
    <uses-permission android:name="android.permission.CHANGE_WIFI_STATE"></uses-permission>
    <uses-permission android:name="android.permission.WAKE_LOCK"></uses-permission>

    <uses-permission android:name="android.permission.CAMERA" />
     <uses-feature android:name="android.hardware.camera" />
     <uses-feature android:name="android.hardware.camera.autofocus" />

   <uses-permission android:name="android.permission.GET_TASKS" />
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission android:name="android.permission.WRITE_INTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.WRITE_SETTINGS" />
    <uses-permission android:name="android.permission.GET_ACCOUNTS" />
    <uses-permission android:name="android.permission.READ_PHONE_STATE" />    
    <uses-permission android:name="android.permission.WAKE_LOCK" />

   <uses-permission android:name="android.permission.KILL_BACKGROUND_PROCESSES" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_LOCATION_EXTRA_COMMANDS" />    
    <uses-permission android:name="android.permission.INTERNET" />   
    <uses-permission android:name="android.permission.READ_PHONE_STATE" />
    <uses-permission android:name="android.permission.VIBRATE" />
    <uses-permission android:name="android.permission.WAKE_LOCK" />   
    <uses-permission android:name="com.android.launcher.permission.INSTALL_SHORTCUT" />
    <uses-permission android:name="com.android.browser.permission.WRITE_HISTORY_BOOKMARKS"/>    
    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />

    <application
        android:icon="@drawable/dog"
        android:label="@string/app_name" >

        <activity
            android:name=".firstactivty"
            android:label="@string/app_name"
             android:screenOrientation="portrait"
            android:configChanges="orientation|keyboardHidden" 
            android:theme="@android:style/Theme.Black.NoTitleBar">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
             <intent-filter>
                <action android:name="android.intent.action.CHOOSER" />
                <category android:name="android.intent.category.DEFAULT" />
                <data android:mimeType="image/*" />
            </intent-filter>
            <intent-filter>
                <action android:name="android.intent.action.SEND" />
                <category android:name="android.intent.category.DEFAULT" />
                <data android:mimeType="image/*" />
            </intent-filter>
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />
                <category android:name="android.intent.category.DEFAULT" />
                <data android:mimeType="image/*" />
            </intent-filter>
        </activity>

         <activity
            android:name=".second activity"
            android:label="@string/app_name" 
            android:screenOrientation="portrait"
            android:configChanges="orientation|keyboardHidden" 
            android:theme="@android:style/Theme.Black.NoTitleBar"></activity>

    </application> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T06:24:43.503

你应该改变你的 targetSdkVersion，16 是 4.1，因为你的 minSdkVersion 是 7，你应该可以减少它，但可能不会显示 Holo 主题。更多信息在这里：http: [//developer.android.com/guide/topics/manifest/uses-sdk-element.html](http://developer.android.com/guide/topics/manifest/uses-sdk-element.html)

# java - 如何在使用java启动服务时写入日志文件

> ID：12928290
> 
> 赞同：1
> 
> 时间：2012-10-17T06:19:49.443
> 
> 标签：java, jsp

大家好，我创建了一个 java 文件，在该 java 中，我编写了一个用于启动、停止和重新启动 Windows 服务的代码，因为我想创建一个日志文件并将窗口服务的输出写入控制台，如果有人知道，请给出建议我用代码停止服务

```
 public static void stopService(String serviceName) throws IOException,
        InterruptedException {

    String executeCmd = "cmd /c net stop \"" + serviceName + "\"";
    Process runtimeProcess = Runtime.getRuntime().exec(executeCmd);
    int processComplete = runtimeProcess.waitFor();

    System.out.println("processComplete: " + processComplete);

    if (processComplete == 1) {// if values equal 1 process failed
        System.out.println("Service failed");
    }

    else if (processComplete == 0) {
        System.out.println("Service Success");
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:44:50.893

实现这一点的最佳方法可能是 Log4J。如果您在它看起来很霸道之前没有使用过它，但是如果您需要的话，有很多很好的教程可供您挑选。将 LogFactory 放入您的类定义中，然后弹出 log.info.println("service starting") 之类的行。另一个需要关注的关键字是 FileAppender。（抱歉没有更好的参考资料，用我的手机写！）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T06:52:04.673

最好的解决方案是使用一些日志记录 API 看看[http://www.vogella.com/articles/Logging/article.html](http://www.vogella.com/articles/Logging/article.html)教程。或者另一个简单的选项是重定向在某个文本文件中执行命令的输出。更改命令

`String executeCmd = "cmd /c net stop \" + serviceName + "\"+" >> "+ fileName"`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T20:05:13.477

为了获得命令的输出，您可以这样做：

```
 String lineSeparator = System.getProperty("line.separator");
    stderr = runtimeProcess.getErrorStream();
    stdout = runtimeProcess.getInputStream();

    // clean up if any output in stdout
    BufferedReader brCleanUp =
            new BufferedReader(new InputStreamReader(stdout));
    StringBuilder output = new StringBuilder();
    String line;
    while ((line = brCleanUp.readLine()) != null) {
        output.append(line).append(lineSeparator);
    }
    brCleanUp.close();

     // clean up if any output in stderr
    brCleanUp =
            new BufferedReader(new InputStreamReader(stderr));
    StringBuilder error = new StringBuilder();
    while ((line = brCleanUp.readLine()) != null) {
        error.append(line).append(lineSeparator);
    }
    brCleanUp.close(); 
```

现在在输出和错误字符串中，您拥有执行过程的“标准输出”和“标准错误”。

# c - SQLite DB 中的 -shm 和 -wal 文件

> ID：12928294
> 
> 赞同：19
> 
> 时间：2012-10-17T06:20:15.450
> 
> 标签：c, sqlite, unix, sqlite-journal-mode

在运行 wal_checkpoint(FULL) 后，我正在使用 cp 命令备份 SQLite DB。该数据库正在 WAL 模式下使用，因此我的文件夹中还有其他文件，例如 -shm 和 -wal。当我运行 wal_checkpoint(FULL) 时，WAL 文件中的更改将提交到数据库。我想知道 -wal 和 -shm 文件在运行检查点后是否会被删除。如果不是，那么它们包含什么？

我知道我的备份过程不好，因为我没有使用 SQLite 备份 API。这是我的代码中的一个错误。

任何人都可以建议运行检查点后 -shm 和 -wal 文件包含哪些内容。

提供的任何链接都会有所帮助。

谢谢

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-10-18T06:00:03.187

在搜索了许多来源之后，我相信以下内容是正确的：

1.  该`-shm`文件包含该文件的索引`-wal`。该`-shm`文件提高了读取`-wal`文件时的性能。
2.  如果`-shm`文件被删除，它会在下次访问数据库时再次创建。
3.  如果`checkpoint`运行，则`-wal`可以删除该文件。

要执行安全备份：

1.  建议您使用 SQLite 备份功能进行备份。SQLite 库甚至可以对在线数据库进行备份。
2.  如果您不想使用 (1)，那么最好的方法是关闭数据库句柄。这确保了数据库文件的干净和一致的状态，并删除了`-shm`和`-wal`文件。然后可以使用`cp`等进行备份`scp`。
3.  如果打算通过网络传输 SQLite 数据库文件，**则应**在`checkpoint`. 这消除了数据库文件中的碎片，从而减小了它的大小，因此您通过网络传输的数据更少。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-10-17T09:53:56.013

该`-shm`文件不包含任何永久数据。

当最后一个连接关闭时，数据库会自动设置检查点，`-wal`然后删除文件。这意味着在检查点之后，如果不存在其他连接，则该`-wal`文件不包含任何重要数据。

如果可能，您应该在进行备份之前关闭连接。

# url - URI 中的国家字符

> ID：12928295
> 
> 赞同：2
> 
> 时间：2012-10-17T06:20:15.730
> 
> 标签：url, encoding, uri, urlencode, url-encoding

作者应该如何发布（通过 URI）名称包含非 ASCII（例如国家）字符的资源？

考虑到所有各方（HTML 代码、浏览器发送请求、浏览器保存文件磁盘、服务器接收和处理请求以及服务器存储文件）都（可能）使用各种编码，似乎几乎不可能让它始终如一地工作。或者至少我从来没有成功过。

当涉及到网页时，我已经习惯了，并且总是用相应的拉丁语基本字符替换国家字符。

但是，当涉及到外部文件（PDF、图像……）时，“降级”名称会“感觉不对”。特别是如果希望用户将这些文件保存在磁盘上。如何处理这个问题？

# c# - 实体框架数据排序

> ID：12928296
> 
> 赞同：0
> 
> 时间：2012-10-17T06:20:18.547
> 
> 标签：c#, entity-framework

我正在使用实体框架为 UserStream（如 fb）开发一个项目，我已经成功实现了它，我想要这样的功能，如果有人对状态/帖子发表评论，则状态/帖子应该显示在顶部，（如在 FB 中）现在最新的帖子显示在顶部，但我无法根据评论进行排序，下面是我的数据库表结构

```
tblPosts:                 tblUsers                     tblUserPosts:          tblPostComments
PostId bigint PK          UserId bigint PK             UserPostID bigint PK   CommentID bigint PK
Desc  text                Username  varchar(200)       UserID   bigint FK     PostId bigint FK
Type bingint              Password varchar(100)        PostId   bigint FK     Comment varchar(200)
URL  varchar(200)                                                             Commentedby bigint FK
Privacy varchar(50)                                                           Postedon datetime
Postedon datetime 
```

在我的 cs 代码中，我正在检索 tblUserPosts 列表，然后根据 tblPosts Posteddate 对其进行排序，但我没有关于 tblPostComments 的任何信息，我如何也可以根据评论对记录进行排序

这就是我对记录进行排序的方式

```
List<tblUserPosts> objlst = new List<tblUserPosts>();
//Adding items to objlst
      UserStreamViewModel model = new UserStreamViewModel
                {
//I am not having d.tblPostComments or d.tblPosts.tblComments.PostedOn
                    propResourcesList = objlst.OrderBy(d=>d.tblPosts.PostedOn);

                }; 
```

# magento - 使用设置脚本在 Magento 中添加自定义产品属性

> ID：12928298
> 
> 赞同：7
> 
> 时间：2012-10-17T06:20:34.727
> 
> 标签：magento, magento-1.7

我正在使用模块设置脚本来添加新的属性组、属性集和属性。我能够创建属性集、属性组并将产品添加到组/集。但我很难设置*is_filterable*、*is_visible*、*is_visible_on_front*和*is_html_allowed_on_front*参数。

```
$installer->addAttribute('catalog_product', 'offer_type', array(
        'backend'       => '',
        'frontend'      => '',
        'class' => '',
        'default'       => '',
        'label' => 'Offer type',
        'input' => 'text',
        'type'  => 'int',
        'source'        => '',
        'global'        => Mage_Catalog_Model_Resource_Eav_Attribute::SCOPE_STORE,
        'visible'       => 1,
        'required'      => 1,
        'searchable'    => 0,
        'filterable'    => 1,
        'unique'        => 0,
        'comparable'    => 0,
        'visible_on_front' => 1,
        'is_html_allowed_on_front' => 1,
        'user_defined'  => 1,
));

$installer->addAttributeToSet('catalog_product', $sSetId, $groupName, 'offer_type'); 
```

我看到 offer_type 被添加到 Magento 和属性集（$sSetID）和组（$groupname）。虽然当我从 magento 管理 UI（目录->属性->管理属性）查看属性时，我看到 is_filterable、is_visible、is_visible_on_front 和 is_html_allowed_on_front 参数设置为否。我尝试了各种组合但没有运气。我正在使用 Magento CE 1.7.0.2。我不确定我的安装脚本中缺少什么。为此，我参考了[http://blog.chapagain.com.np/magento-adding-attribute-from-mysql-setup-file/](http://blog.chapagain.com.np/magento-adding-attribute-from-mysql-setup-file/)。我错过了什么吗？提前致谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-17T09:56:16.683

您是否在 config.xml 中正确配置了安装程序？magento 安装程序的标准类是，`Mage_Eav_Model_Entity_Setup`但是在处理产品时，您需要使用它`Mage_Catalog_Model_Resource_Setup`。为什么 ？看看他们的方法，你就会明白什么是授权属性（产品比标准的 eav_objects 有更多的选项，你可以在比较表和`_prepareValues()`时看到）`eav_attribute``catalog_eav_attribute`

要指出好的安装程序类，请查看标准`Mage_Catalog` `config.xml`并将其调整为您的模块：

```
<resources>
    <catalog_setup>
        <setup>
            <module>Mage_Catalog</module>
            <class>Mage_Catalog_Model_Resource_Setup</class><!-- that line !-->
        </setup>
    </catalog_setup>
</resources> 
```

ps：请注意，`_prepareValues()`只有在添加属性时才会调用该方法……如果要更新属性，则需要使用完整的选项名称（“is_visible”，而不仅仅是“visible”）……

另一个技巧是在之后添加这些属性，但这不是很漂亮：

```
// adding atribute :
// [...]

//getting the new attribute with full informations
$eavConfig = Mage::getSingleton('eav/config');
$installer->cleanCache();
$attribute = $eavConfig->getAttribute('catalog_product', $attributeCode);
$attribute->addData(array(
    'is_visible' => 1
));
$attribute->save() 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2016-03-31T09:24:09.120

`'visible_on_front' => 1`在`addAttribute`通话中使用,。

# javascript - 使用javascript批量加载数组

> ID：12928302
> 
> 赞同：0
> 
> 时间：2012-10-17T06:20:56.017
> 
> 标签：javascript, jquery, math

> **可能重复：**
> [等到所有 jquery ajax 请求完成？](https://stackoverflow.com/questions/3709597/wait-until-all-jquery-ajax-request-are-done)

我有一个 N 大小的数组。数组的每个元素都需要使用 jquery 通过 ajax 加载。我已经完成了加载逻辑，我现在只是想弄清楚如何一次只加载 10 个（公式应该能够处理更改此值），当 10 个项目通过 ajax 完成加载时，加载接下来的 10 个。这里是我的例子。

我有一个数组的 100 个元素，需要加载前 0-9 个项目，当这 10 个项目完成后，10-19，然后是 20-29 等等。我试图让它尽可能高效，谢谢寻求任何帮助。

尽管这可能完全不对，但我希望我能表达我的观点以获得任何帮助。

```
//Formula calculation
while(wait till count is complete){

}
function LoadBatch(array){
$.each(array,function(i,item){
$.ajax({
success:function(){
//Maybe a counter here to let loop know when to kick off next batch.
}
});
});
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T07:25:37.620

使用控制流库将使您的生活更轻松。 [Aysnc.queue()](https://github.com/caolan/async#queue)看起来很合适。它将确保一次不超过 10 个请求处于活动状态。在开始下一次加载之前，它不会等待前 10 个完成。这应该最大限度地减少加载时间，同时限制并发请求。

这是一个例子：

```
var results = [];
var concurrency = 10;

var q = async.queue(function (task, done) {
  var item = task.item;
  $.ajax({
    success: function(result) {
      // Store results in array with indicies matching the original array.
      // If you don't care about the order of the results you could just 
      // push them on.
      results[task.index] = result;
      done();
  });
}, concurrency);

// push all the array items into the queue, keeping track of the index
$.each(array, function(i, item) {
  q.push({
    index: i,
    item: item
  });
});

// drain will be called when all the requests are done
q.drain = function() {
  console.log(results); // results has all the responses
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T07:22:32.243

执行以下操作：

```
function loadArray(array, batchSize, callback) {
    var length = array.length
    batchSize = length < batchSize ? length : batchSize; // minimum
    var batch = array.slice(0, batchSize); // the current batch
    array = array.slice(batchSize); // the rest of the array

    loadBatch(batch, function (results) {
        if (array.length) { // there are more batches to process
            // load the rest of the array
            loadArray(array, batchSize, function (nextResults) {
                // merge the results - recursion handles the rest
                callback(results.concat(nextResults));
            });
        } else callback(results); // last batch
    });
} 
```

`loadBatch`功能如下：

```
function loadBatch(batch, callback) {
    var completed = 0;
    var length = batch.length;
    var results = new Array(length); // the array of results

    $.each(array, function (index, element) {
        $.ajax(element, {
            complete: function (xhr, status) {
                // save the results
                results[index] = {
                    xhr: xhr,
                    status: status
                };

                if (++completed === length) callback(results); // done
            }
        });
    });
} 
```

现在您可以按如下方式加载资源：

```
loadArray(["a.json", "b.txt", ...], 10, function (results) {
    var a = JSON.parse(results[0]);
    var b = results[1];
    // and so on
}); 
```

就是这样。如果您有任何问题，请告诉我。

# android - Android 如何检查目录中的文件数

> ID：12928303
> 
> 赞同：8
> 
> 时间：2012-10-17T06:21:01.617
> 
> 标签：android, android-file

我正在设备的内部存储器中创建一个目录，用于存储应用程序使用的文件。我正在使用：

```
File dir = context.getDir(userfavorites, Context.MODE_PRIVATE); 
```

如果目录不存在，上面的代码将创建一个新目录，如果已经创建目录，则返回现有文件对象。我要检查的是该目录包含的文件的数量和名称。如何使用此文件对象来完成这个任务。

注意：我不想使用设备的外部存储器。而且我也无法避免创建目录，因为目录中的文件必须与不在目录中的其他文件分开。

更新代码：

```
private static boolean IsFoldercontainsFiles(Context context) {
        // TODO Auto-generated method stub
        File dir = context.getDir(USER_FAV, Context.MODE_PRIVATE);
        if (dir.exists()) {
                    if (dir.listFiles() == null){
                     return false;} //it never execute this line even though its null
                    else{
            File childfile[] = dir.listFiles();
            Log.i("file no is ", Integer.toString(childfile.length));
            if (childfile.length == 0) {
                return false;
            } else {
                return true;
            }
                }
        } else {
            return false;
        }
    } 
```

提前致谢

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-17T06:24:59.750

检查[`listFiles`](http://developer.android.com/reference/java/io/File.html#listFiles%28%29)方法[`File`](http://developer.android.com/reference/java/io/File.html)会给你孩子的名单。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2014-07-09T07:20:40.927

```
 File file=new File("/mnt/sdcard/yourfolder");
        File[] list = file.listFiles();
        int count = 0;
        for (File f: list){
            String name = f.getName();
            if (name.endsWith(".jpg") || name.endsWith(".mp3") || name.endsWith(".some media extention"))
               count++;
            System.out.println("170 " + count);
        } 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-10-17T06:38:04.677

尝试这个

```
File childfile[] = dir .listFiles();
for (File file2 : childfile) {
    Log.v("file name is ", file2.getName());
} 
```

这里 listFiles() 返回“dir”的所有子文件并迭代这将帮助您获取子文件的名称

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2017-09-18T11:37:16.153

简单的：

```
File dir = new File(path); // "/mnt/sdcard/yourfolder"

long totalNumFiles = dir.listFiles().length; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-12-22T08:08:49.063

尝试此代码示例以获取目录中的文件数

```
private int getNumberOfFiles() throws FileNotFoundException {
    File outFile = new File(outFolder);
    if (!outFile.exists())throw new FileNotFoundException();
    int numberofFiles = outFile.listFiles(new FileFilter() {
        @Override
        public boolean accept(File file) {
            return (file.getPath().startsWith("frame_")&&(file.getPath().endsWith(".jpg")||file.getPath().endsWith(".jpeg")));
        }
    }).length;
    return numberofFiles;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-04-01T07:25:33.887

该类的[`listFiles`](https://developer.android.com/reference/java/io/File#listFiles())方法[`File`](https://developer.android.com/reference/java/io/File)返回*一个 File 对象数组，每个文件或目录对应一个目录*。

可以使用递归来查找目录及其子目录中的所有文件。

```
fun File.getFileCountRecursively(): Int {
    var fileCount = 0

    if (exists() && isDirectory) {
        listFiles()?.forEach { child ->
            fileCount += if (child.isDirectory) child.getFileCountRecursively() else 1
        }
    }

    return fileCount
} 
```

# perl - Perl 哈希脚本

> ID：12928304
> 
> 赞同：0
> 
> 时间：2012-10-17T06:21:02.677
> 
> 标签：perl

我在 Perl 中的问题是这样的：

从标准输入中读取一系列员工编号和每日工作时间，一组 perl 行。员工编号和工作时间应用空格分隔。使用哈希计算总工作小时数和每个工作周期的平均小时数。按排序的员工编号、工作时段数、工作总小时数和每个工作时段的平均小时数打印报告。假设一些员工是兼职的，并且工作的天数或小时数与普通员工不同。

我的脚本是：

```
#!/usr/bin/perl
use strict;
use warnings;

my @series = qw(41234 9 67845 8 32543 10 84395 7 57543 9 23545 11);
my $workper = 3;
my %empwork;

while (my $series = shift @series) {

    my $nums = shift @series;
    $empwork{$series} += $nums;
}

my $tot;
foreach (sort keys %empwork) {

    $tot += $empwork{$_};
}

my $avg = $tot/$workper;
print "Sorted Employee Numbers:\n";
foreach my $empnum(sort keys %empwork) {

    print "$empnum\n";
}
print "The number of work periods is $workper\n";
print "Total number of hours is $tot\n";
print "Average number of hours per work period is $avg\n"; 
```

我的输出是：

```
Sorted Employee Numbers:
23545
32543
41234
57543
67845
84395
The number of work periods is 3
Total number of hours is 54
Average number of hours per work period is 18 
```

谁能告诉我我是否在脚本中做错了什么。如果是，请帮忙。提前致谢。

如果我像这样使用循环 %empwork 一次：

```
foreach my $empnum(sort keys %empwork) {

    $tot += $empwork{$_};
    print "$empnum\n";
} 
```

然后我将得到输出：

```
Sorted Employee Numbers:
23545
32543
41234
57543
67845
84395
The number of work periods is 3
Total number of hours is 0
Average number of hours per work period is 0
Use of uninitialized value in hash element at /tmp/135043087931085.pl line 16.
Use of uninitialized value in addition (+) at /tmp/135043087931085.pl line 16.
Use of uninitialized value in hash element at /tmp/135043087931085.pl line 16.
Use of uninitialized value in addition (+) at /tmp/135043087931085.pl line 16.
Use of uninitialized value in hash element at /tmp/135043087931085.pl line 16.
Use of uninitialized value in addition (+) at /tmp/135043087931085.pl line 16.
Use of uninitialized value in hash element at /tmp/135043087931085.pl line 16.
Use of uninitialized value in addition (+) at /tmp/135043087931085.pl line 16.
Use of uninitialized value in hash element at /tmp/135043087931085.pl line 16.
Use of uninitialized value in addition (+) at /tmp/135043087931085.pl line 16.
Use of uninitialized value in hash element at /tmp/135043087931085.pl line 16.
Use of uninitialized value in addition (+) at /tmp/135043087931085.pl line 16. 
```

我尝试了如下程序。但它不起作用。

```
#!/usr/bin/perl
use strict;
use warnings;
my @series = qw(41234 9 67845 8 32543 10 84395 7 57543 9 23545 11 23545 1 23545 2 23545 6);
my $total_periods = 0;
my $total_hours = 0;
my %empwork;
while (my $series = shift @series) 
{
 my $nums = shift @series;
 $empwork{$series} += $nums;
}
print "Sorted Employee Numbers:\n";
foreach my $empnum(sort keys %empwork) 
{
 my $periods=0;
 $periods++;
 my $hours = 0;
 $hours += $empwork{$empnum}; 
 my $avg = $hours/$periods;
 $total_periods += $periods;
 $total_hours += $hours;
 print "$empnum\n$periods periods\n$hours hours\n$avg average\n\n";
}
my $grand_avg = $total_hours/$total_periods;
print "The number of work periods is $total_periods\n";
print "Total number of hours is $total_hours\n";
print "Average number of hours per work period is $grand_avg\n"; 
```

我哪里错了？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T09:52:49.477

这段代码有问题：

```
foreach my $empnum(sort keys %empwork) {

    $tot += $empwork{$_};
    print "$empnum\n";
} 
```

您正在`$empnum`用作循环迭代器变量，但随后引用`$empwork{$_}`. 这就是你得到错误的原因。只需将其替换为即可`$empwork{$empnum}`。

您在上面显示的其余代码工作正常。不过，有几点建议：

您的源数组中是否会有重复的员工编号？示例数据未显示任何内容。如果没有重复，您可以简单地执行此操作来填充哈希，并取消您的`while`循环：

```
%empwork = @series; 
```

另外，在这部分：

```
foreach (sort keys %empwork) {

    $tot += $empwork{$_};
} 
```

当您不执行与顺序相关的操作时，没有理由对键进行排序。它只会让解释器做不必要的工作。在这种情况下，您甚至不需要密钥；您只对将这些值相加感兴趣。所以，你可以这样做，这更有效：

```
foreach (values %empwork)
{
    $tot += $_;
} 
```

（当然，您可以将这两个循环组合起来）。

**更新：**这是完整的更正代码，我相信它将满足您的所有要求。

```
#!/usr/bin/perl
use strict;
use warnings;
use List::Util qw/sum/;

my @series = qw(41234 9 67845 8 32543 10 84395 7 57543 9 23545 11 23545 1 23545 2 23545 7);
my $total_periods = 0;
my $total_hours = 0;
my %empwork;
while (my $series = shift @series) {
    #For each employee, save a list of the number of times they worked
    push @{$empwork{$series}}, shift @series;
}

print "Sorted Employee Numbers:\n";
foreach my $empnum(sort keys %empwork) {
    my $periods = @{ $empwork{$empnum} };
    my $hours   = sum(@{ $empwork{$empnum} });
    my $avg = $hours/$periods;
    $total_periods += $periods;
    $total_hours += $hours;
    print "$empnum\n$periods periods\n$hours hours\n$avg average\n\n";
}

my $grand_avg = $total_hours/$total_periods;

print "The number of work periods is $total_periods\n";
print "Total number of hours is $total_hours\n";
print "Average number of hours per work period is $grand_avg\n"; 
```

# css - 为什么 SASS Build 在 Sublime Text 2 中不起作用？

> ID：12928305
> 
> 赞同：1
> 
> 时间：2012-10-17T06:21:12.900
> 
> 标签：css, sublimetext2, sass

当我尝试构建 scss 文件时，没有任何反应。

Sublime 控制台中的错误消息：

```
Running sass --update C:\Users\Administrator\Dropbox\Open Server\html\print-service.loc\www\css\sourse.scss:C:\Users\Administrator\Dropbox\Open Server\html\print-service.loc\www\css/sourse.css
Traceback (most recent call last):
  File ".\sublime_plugin.py", line 337, in run_
  File ".\exec.py", line 154, in run
  File ".\exec.py", line 45, in __init__
UnicodeDecodeError: 'ascii' codec can't decode byte 0xc0 in position 919: ordinal not in range(128) 
```

为什么会发生这种情况？

# android - 安卓; 手动挂载后触发 volume_mounted: 事件

> ID：12928306
> 
> 赞同：0
> 
> 时间：2012-10-17T06:21:15.757
> 
> 标签：android, linux, unix

所以，我手动安装一些东西，例如到“/mnt/extsd”。这在 shell 中工作正常，但 Android UI 似乎想要被告知这一点，否则它不会显示在各种应用程序中，比如内置文件管理器的应用程序。

通常情况下，我猜你插入新媒体会发生什么，ueventd 会告诉 vold，vold 会挂载设备，并在 /dev/socket/vold 上发送“volume_mounted:”事件。

但是，我自己安装它；

```
# zfs set mountpoint=/mnt/extsd mypool
# df
/mnt/private            15M     4K    15M   4096
/mnt/sdcard            939M     5M   934M   4096
/mnt/secure/asec       939M     5M   934M   4096
/mnt/extsd               1G    18M     1G   131072 
```

在这种情况下，文件管理器将显示“sdcard”作为选项，但不会显示 /mnt/extsd。

由于 /etc/vold.fstab 已安装 sdcard：

> dev_mount sdcard /mnt/sdcard auto /devices/virtual/block/nandk

从长远来看，将“zfs”添加到vold 可能是答案，但通常池是自动挂载的，所以如果我可以简单地发送卷已挂载的事件会很好。

# javascript - localStorage 安全吗？我可以从其他应用程序访问它吗？

> ID：12928307
> 
> 赞同：4
> 
> 时间：2012-10-17T06:21:16.677
> 
> 标签：javascript, cordova, jquery-mobile, local-storage

我正在制作一个 jQuery Mobile 和 PhoneGap 应用程序。

我即将将一些数据保存到本地存储。我想知道它在移动浏览器（Android、iOS 和 Windows）上是否安全。在 PC 上，我可以检查 FireBug 中的值。在移动设备上是否有可能？我可以在应用 B 指定的应用 A 中访问数据吗？

感谢帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T06:37:12.430

至少在 iOS 中，如果它是一个 phonegap 应用程序，则 localStorage 只能从该应用程序访问。

要在开发时检查值，可以尝试[调试 phonegap](http://debug.phonegap.com/)。（仅适用于 webkit 浏览器）。如果您在此处输入名称，它会创建一个脚本标记以包含在您的索引中。如果您在索引中包含该脚本标记并执行应用程序，您可以看到您的应用程序的远程 Web 检查器。

# android - 什么是 Android 中的 Airbrake 通知程序？

> ID：12928322
> 
> 赞同：0
> 
> 时间：2012-10-17T06:22:46.577
> 
> 标签：android, exception, airbrake, exception-notifier

我在应用程序中遇到了 AirBrakeNotifier 的代码。但是，在此之前我应该​​知道它的作用。我所知道的是它跟踪错误。我找不到关于它的文档。谁能告诉我？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T23:29:33.620

它指的是这个库

[https://github.com/airbrake/airbrake-android](https://github.com/airbrake/airbrake-android)

原始所有者现在在[https://bugsnag.com/](https://bugsnag.com/)上工作，这可能是另一个跟踪您的 android 应用程序中的错误的工具。如果您有 API 密钥，我们应该能够找到该帐户，因为我们可能已经对您的应用程序有错误。

来自 Airbrake 的本。

# php - 使用 php 代码修改 zend configuration.ini 值的值

> ID：12928327
> 
> 赞同：0
> 
> 时间：2012-10-17T06:23:00.577
> 
> 标签：php, zend-framework, configuration-files

了解我们可以使用 Zend_Config_Writer 将新值写入 zend coiguration 文件，但我想知道在我们运行的环境下修改配置中存在的现有值是否可行，如果可行，您可以详细说明一下一些代码

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:33:17.757

您需要在这里了解所有信息：http: [//devzone.zend.com/1792/manipulating-configuration-data-with-zend_config/](http://devzone.zend.com/1792/manipulating-configuration-data-with-zend_config/)包括代码示例。

# c# - 将值绑定到与 mvc3 中下拉列表中选择的值对应的列表框

> ID：12928328
> 
> 赞同：0
> 
> 时间：2012-10-17T06:23:06.737
> 
> 标签：c#, asp.net-mvc-3

在这里，我有一个下拉列表和一个列表框。我已经使用 DbContext 检索数据并使用控制器中的 Viewbag 为下拉列表绑定数据并显示。直到这里它工作正常。

我的控制器..

```
public ActionResult Index()
        {
            ViewBag.StudentList = new SelectList(db.Students, "StudentID", "StudentName");          
            return View();
        } 
```

我的观点..

```
@using (Html.BeginForm())
{    
    @Html.ValidationSummary(true)
    <div>
     @Html.DropDownList("StudentList", "-Select-")
     <br/>
      @Html.ListBox("StudentMarks", new SelectList(""))
     <p>
          <input type="submit" value="Save" />
     </p>
    </div>
} 
```

现在的问题是我需要根据下拉列表选择值中选择的值将数据绑定到列表框。最初，这里是一个空的列表框。

任何人都可以帮助我。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T06:29:57.947

您应该在“onchange”事件中从 StudentList 中获取选定的键，然后将其传递给服务器并获取列表框值，然后使用 javascript 为列表框的选择创建“选项”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T08:31:46.207

首先为下拉列表编写一个更改事件，例如，

```
$('#StudentList').change(function(){

var selecteditem=$('#StudentList').val();
$.ajax({
url:'Controller/Action',
type:'POST',
data:{id:selecteditem},
cache:false,
success:function(data){
var lstItems=[];
foreach(var i=0;i<data.length;i++)
{
lstItems.push('<option value="'+data.Field1+'">data.Field2</option>');
}
$('#StudentMarks').empty();
$('#StudentMarks').append(lstItems);
}
});
}); 
```

你的动作看起来像，

```
[HttpPost]
public ActionResult Action(string id)
{
// get all data by the student id.
return Json(listMarks,JsonRequestBehavior.Allow.Get);
} 
```

这对你有用。

# javascript - Select 不适用于 android (< 4.x) 中的 flexslider

> ID：12928329
> 
> 赞同：1
> 
> 时间：2012-10-17T06:23:18.737
> 
> 标签：javascript, html, css, webkit, flexslider

在我的移动网站中使用 flexslider 时，我似乎遇到了显示和选择下拉菜单的问题。 [在这里](https://stackoverflow.com/questions/10403439/cant-activate-select-using-flexslider-swipejs-on-android-gingerbread)，列出了类似的问题。但解决方案对我不起作用。我确实使用了 useCSS:false，不知何故这对我也不起作用。我使用 Android GingerBread。

我可以提交按钮、输入文本、使用复选框，但不能使用下拉菜单。欢迎任何建议。

==编辑==

我在这里发现了一个类似的报告问题：[https](https://github.com/woothemes/FlexSlider/issues/82) ://github.com/woothemes/FlexSlider/issues/82 即使它是与 webkit 相关的问题，任何人都可以为此提出任何解决方案吗？

有时会显示其他幻灯片的下拉列表，尽管有 backface-visibility:hidden。

# jquery - jQuery表单验证无法使用页面中的选项卡

> ID：12928331
> 
> 赞同：12
> 
> 时间：2012-10-17T06:23:28.613
> 
> 标签：jquery, validation, tabs, twitter-bootstrap

所以基本上我有一个简单的 POST 表单，它正在使用来自 jquery 的 Validate 库进行验证，并且一切正常，但是我使用 bootstrap 和许多其他库中的 tabs 函数将表单分成两个不同的选项卡。现在的问题是验证只发生在打开（可见）选项卡上，而不管隐藏选项卡中其他输入字段的条件如何。有什么可能的建议吗？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-10-18T10:26:07.300

我认为您的问题可能是默认情况下 jquery 只会验证可见字段。所以你需要做的是告诉 jquery 不要忽略你的隐藏字段（其他选项卡）。这可以按如下方式完成：

```
$("#form1").validate({
    ignore: ""
}); 
```

默认情况下`ignore: ":hidden"`。
请参阅[此答案](https://stackoverflow.com/questions/7952181/jquery-validation-plugin-validating-hidden-inputs-and-not-visible)和[此文档](http://docs.jquery.com/Plugins/Validation/validate)（选项-> 忽略）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-11-30T09:38:10.090

请参阅上面接受的答案，这真的很有帮助。
万一使用`unobtrusive validation`，那么接受的答案将不起作用，这是解决方案。

```
$("#form1").data("validator").settings.ignore = ""; 
```

[看到这个](https://stackoverflow.com/a/11053251/4390133)

# sql - LINQ 中的 GETDATE()

> ID：12928332
> 
> 赞同：5
> 
> 时间：2012-10-17T06:23:30.523
> 
> 标签：sql, linq

`GETDATE()`LINQ中的替代品是什么？

我从以下帖子中得到了一些解决方法：

*   [**如何在 Linq to SQL 表达式中使用 SQL 的 GETDATE() 和 DATEADD()？**](https://stackoverflow.com/questions/200617/how-do-i-use-sqls-getdate-and-dateadd-in-a-linq-to-sql-expression)

有没有***更好***的方法？其中，不需要一个`ExecuteQuery`或单独的函数调用？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-17T14:12:08.830

据我所见，使用 linq to sql 你所指的帖子是要走的路。我看不出有什么比这更好的了。这是一个非常优雅的解决方案。

有了实体框架，就有可能使用[`SqlFunctions.CurrentTimestamp`](http://msdn.microsoft.com/en-us/library/system.data.objects.sqlclient.sqlfunctions.currenttimestamp.aspx). 除此之外，即使您`DateTime.Now`在 linq to 实体（而不是 linq to sql）中使用它，它也会被转换为`GetDate`：

```
context.Companies.Select (c => DateTime.Now); 
```

翻译：

```
SELECT 
GetDate() AS [C1]
FROM [dbo].[Company] AS [Extent1] 
```

如果您*只想*获取数据库日期，那就另当别论了。在那种情况下，我看不出有什么能胜过执行查询`SELECT GetDate()`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-17T10:34:02.027

来自 VB

> 私有函数 GetServerDate() As DateTime
> 
> ```
>  Using context As New DirectEDISQLEntities
>  Dim Query = context.Reports_MailList.[Select](Function(c) DateTime.Now).FirstOrDefault
>         Return Query
>     End Using
> 
> End Function 
> ```

并且等于

> 从 [dbo].[Reports_MailList] 作为 [Extent1] 选择 SysDateTime() AS [C1]

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-10-10T03:13:38.303

你可以试试这个：

```
using (DataContext dboContext = new DataContext())
                {
                    var dQuery = dboContext.Database.SqlQuery<DateTime>("SELECT getdate()");
                    return dQuery.AsEnumerable().First();
                } 
```

# c# - 如何将参数表单按钮单击传递给 Jquery 函数

> ID：12928333
> 
> 赞同：1
> 
> 时间：2012-10-17T06:23:29.907
> 
> 标签：c#, jquery

```
protected void Button3_Click(object sender, EventArgs e)
    {

            string val = TextBox1.Text;
            string location = Server.MapPath(".");
            SqlCommand cmd = new System.Data.SqlClient.SqlCommand("SELECT ISNULL(MAX(MODIFIED_NO),0) FROM FORM_NAME WHERE FRM_NME='" + TextBox1.Text + "'", con);
            con.Open();
            object modifyno = cmd.ExecuteScalar();
            con.Close();

    } 
```

在这里，我想将“modifyno”作为参数传递给 Jquery 函数

```
function check(modifyno ) {

    if (modifyno == "1") {
        document.getElementById('Autolbl').value = "100";
        document.getElementById('Autotxt').value = "100";
    }
    if (modifyno == "2") {
        document.getElementById('Autolbl').value = "200";
        document.getElementById('Autotxt').value = "200";
    }

} 
```

我如何通过传递 modifyno 的参数来调用该函数...请尽快帮助我..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T06:29:36.430

RegisterClientScriptBlock("调用检查", "check(" + modifyno + ");");

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T06:31:42.750

设置 modifyno 变量后，您可以使用[RegisterClientScriptBlock](http://msdn.microsoft.com/en-us/library/bahh2fef.aspx)在客户端定义变量。

```
Page.ClientScript.RegisterClientScriptBlock(Page.GetType, "initVar", string.Format("var modifynoclientvar={0};", modifyno), true); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T08:54:12.137

最简单的方法是使用 hiddenField。因为您可以非常轻松地在 jquery 和 C# 中使用 hiddenfield。

--- 如果我的回答确实回答了您的问题，请单击已回答。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-18T06:10:22.813

我得到了答案

在按钮 Click 中，只需编写此代码，在编写此代码之前，请注意该控件不应位于 ajax 的更新面板中。

ClientScript.RegisterStartupScript(GetType(), "调用检查", "check("+modifyno+")", true);

# adobe - 在服务器启动时调用进程

> ID：12928334
> 
> 赞同：0
> 
> 时间：2012-10-17T06:23:32.070
> 
> 标签：adobe, livecycle

我有一个过程，我将在 prod 环境中首次手动调用。问题是，当服务器关闭或服务器停止时，该过程停止。在这种情况下，我将无法每次都手动调用该流程，因为它将在生产环境中并且也不可行。所以我需要知道服务器启动后如何自动调用进程？听说一种方法是使用livecycle实现类编写一个自定义组件来启动进程。请让我知道该怎么做？

非常感谢您对此的任何帮助！

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T17:09:05.290

至少有两种方法可以做到这一点。

*   首先是自定义组件路由。您在组件生命周期开始时调用该过程，以确保每次部署组件时都会发生调用。
*   其次是servlet路由。您在 servlet 初始化时调用该过程，确保服务器已启动。

servlet 实现更适合目的，唯一的缺点是，您需要单独打包和部署它，因为它不会成为 LCA 的一部分。

您可以在 adobe 文档上找到有关如何使用 API 调用 LC 流程的代码示例。您可以使用 Java API、WS API 或 Rest，无论您更喜欢哪一个。

[http://help.adobe.com/en_US/livecycle/9.0/programLC/help/index.htm](http://help.adobe.com/en_US/livecycle/9.0/programLC/help/index.htm)

# android - 无法设置动态创建的搜索栏的最小宽度

> ID：12928338
> 
> 赞同：5
> 
> 时间：2012-10-17T06:23:54.190
> 
> 标签：android, width, seekbar, css

这是我用来生成视图对象的代码：

```
 // creates the seekBar
        sBGauge = new SeekBar(this);
        sBGauge.setMax(depthL - 1);
        sBGauge.setMinimumWidth(150);
        sBGauge.setId(2000 + i);
        sBGauge.setOnSeekBarChangeListener(this); 
```

不管我设置了什么 sBGauge.setMinimumWidth(); 它总是看起来只有大约 20 宽。

有什么想法吗？谢谢

编辑：为了提供更多信息，我在 tablerow 中的两个 textViews 之间使用了这个 seekbar。

撞

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T19:02:02.673

@Amit Hooda 你的解决方案没有解决我的问题，但它确实引导我找到了解决方案。

为了解决这个问题，我必须做的是在我的 TableLayout 中从动态创建的 TableRow 更改为 LinearLayout。然后我能够得到我的屏幕宽度并减去我的文本视图，然后用结果数字设置我的搜索栏宽度。

```
// gets the width of the screen to set the seekbar width
    Display display = getWindowManager().getDefaultDisplay(); 
    int width = display.getWidth();
width = width - 170;

LinearLayout lL = new LinearLayout(this);
// creates the seekBar
        sBGauge = new SeekBar(this);
        sBGauge.setMax(depthL - 1);
        sBGauge.setId(2000 + i);
        sBGauge.setLayoutParams(new LinearLayout.LayoutParams(width, 50, 1f));
        sBGauge.setOnSeekBarChangeListener(this); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T06:28:35.610

试试这个

```
 LayoutParams lp = new LayoutParams(150, 150);
    sBGauge.setLayoutParams(lp); 
```

您可以根据需要更改值 150 和 150。

# nginx - 最大文件上传限制

> ID：12928342
> 
> 赞同：0
> 
> 时间：2012-10-17T06:24:07.890
> 
> 标签：nginx, php

我有一个带有文件上传器的表单我只想在文件太大时显示一条包含文件大小错误消息的消息，但我有以下情况：

当最大文件超过`nginx`它时，它会自动响应 nginx 错误消息，而当我通过 ajax 上传它时，我什么也不能显示

我尝试增加`nginx`文件限制并限制`php.ini`大小限制它非常完美，因为 php 返回一个描述错误的状态代码，我可以从中显示我自己的消息，这种方式的问题是 php.ini 有以下两个属性：

```
post_max_size  = 15M
upload_max_filesize = 10M 
```

如果超过 max_post_size (16M) 文件将被忽略并且后端不知道它是空文件还是被忽略，而如果它仅超过 upload_max_filesize (12M) 则错误状态可用

那么我怎样才能通过 max_post_size 呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T08:50:07.397

通过执行以下操作解决了...

```
if(!$file && Yii::app()->request->isPostRequest && !$_POST){
    return $this->render('upload_error', array('errors'=>"File too large. Maximum file size is 10 MB)"));
  } 
```

在应用层

# javascript - Firefox 和 safari 中的 javascript 日期时间戳问题，适用于 chrome

> ID：12928351
> 
> 赞同：1
> 
> 时间：2012-10-17T06:24:57.440
> 
> 标签：javascript

我有一个我无法解决的简单问题。下面的代码在 chrome 中运行良好，但在其他浏览器中出现 NaN 错误......

```
function chkdate()
{

  var todayDate=new Date();
  var date=todayDate.getDate();
  if( date<10)
  {
  date= "0"+date;
   }
  var month=todayDate.getMonth()+1;
 if( month<10)
 {
  month= "0"+month;
  }

 var year=todayDate.getFullYear();

 var hours=todayDate.getHours();
if( hours<10)
{
hours= "0"+hours;
}

 var curdate =  year+"-"+month+"-"+date+"  "+hours+":00:00"  ;

 alert(curdate);
 var curtime= new Date(curdate).getTime();
 alert("current timestamp = "+  curtime) ;      //   <----     **This gives NaN error .** 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T06:29:06.473

为什么不使用[`Date()`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date)'s 构造函数之一构造日期？

```
var curtime = new Date(year, month, date, hours).getTime(); 
```

这应该是跨浏览器的，因为您不依赖字符串解析来构造日期对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T06:56:34.417

尝试获取当前时间时格式不正确

```
var curdate =  year+"-"+month+"-"+date;

 alert(curdate);
 var curtime= new Date(curdate).getTime();
 alert("current timestamp = "+  curtime) ;      //   <----     **This will not give you NaN error .** 
```

# android - 与 Menu 中的 Fragment 通信并更新 Fragment UI？

> ID：12928355
> 
> 赞同：1
> 
> 时间：2012-10-17T06:25:12.677
> 
> 标签：android, fragment

我正在尝试实现一个相当基本的 UI。

我有一个活动，其中有一个片段，它执行 HTTP 获取并更新片段中的一些值。

这很好用，现在我想要一个菜单​​来刷新它 - 菜单包含在 Activity 中。

我遇到的问题是我不确定如何处理方法调用。基本上，当我从菜单处理程序更新片段时，我发现片段中的 getActivity() 返回 null 。

所以我在 Activity 中有这段代码

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    try {
        handler = new GetData();
    } catch (Exception e) {
        Log.e("FFF", "Exception: " + Log.getStackTraceString(e));
    }

} 
```

GetData() 是我的活动 java 类

现在在我的 onOptionsItemSelect 事件中，如果我使用上面的处理程序（使处理程序成为全局变量）它可以工作，但 getActivity() 在片段中为空。

在 onOptionsItemSelected 事件中调用时，使用下面的代码返回 null

```
GetData handler = (GetData) getFragmentManager().findFragmentById(R.layout.verticalwetherlayout); 
```

有没有解释这部分的教程？或者我只是做错了？

克里斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T06:39:38.753

我发现了我的问题。

我使用的是片段的实际 ID，而不是活动中定义的片段实例的 ID。

所以片段的 id 是 R.layout.verticalwetherlayout

但活动中片段的实际 ID 是 GetData1

```
<fragment
        android:id="@+id/GetData1"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        class="com.example.testapp1.GetData" /> 
```

克里斯

# wpf - WPF ListView 中部分显示项目的烦人自动滚动

> ID：12928356
> 
> 赞同：12
> 
> 时间：2012-10-17T06:25:14.220
> 
> 标签：wpf, listview, scroll

我在**WPF**中有一个**ListView**，我的问题是如果一个项目部分显示并且我单击项目，列表将自动滚动，因此整个项目将可见。

 **如何禁用此**自动滚动**功能？

谢谢

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2014-03-04T15:15:51.697

有同样的问题，我发现了一个问题:)

在 Xaml 中，您使用此 EventSetter 为 ListViewItem 定义样式：

```
<ListView.ItemContainerStyle>
    <Style TargetType="{x:Type ListViewItem}">
         <EventSetter Event="RequestBringIntoView" Handler="ProjectListView_OnRequestBringIntoView"/>
    </Style>
</ListView.ItemContainerStyle> 
```

在后面的代码中：

```
private void ProjectListView_OnRequestBringIntoView(object sender, RequestBringIntoViewEventArgs e)
{
    e.Handled = true;
} 
```

希望这对你也有用:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T07:01:03.800

我找到了解决方法，我的 ListView 正在 MVVM 中显示照片项目

```
private void lv_PreviewMouseDown(object sender, MouseButtonEventArgs e)
    {
        var p=e.OriginalSource as FrameworkElement;
        if (p != null && p.DataContext is **Photo**)
        {
            lv.SelectedItem = p.DataContext;
            e.Handled = true;
        }
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-17T06:33:35.433

ListView 的默认行为`BringIntoView()`是点击后调用。您可以将事件处理程序添加到`PreviewMouseDown`event 并通过 set 处理它`e.Handled = true;`。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-09-06T13:22:47.557

按照 Ekk 的回答，您必须在子事件中而不是在父 listView 上处理 bringIntoView 事件。例如，在我的特殊情况下，我的 listBox 有一些运行时代码创建元素。这些基本上可以是文本框的堆栈面板，或者最后是按钮的堆栈面板。

[![在此处输入图像描述](../Images/810d84cfbd67d814776c7002c44bc7d2.png)](https://i.stack.imgur.com/s3N3y.png)

尽管这些是如何制作的，但我只是添加了

```
btnOk.RequestBringIntoView += (s,e) => { e.Handled = true; }; 
```

对其中的每一个，效果是，在单击后，它们并没有被带到视野中，但与它们中的每一个相关的动作被立即执行。

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2016-02-06T07:38:42.813

设置`ScrollViewer.VerticalScrollBarVisibility="Auto"`列表视图有帮助。**

# php - 如何在 .htaccess 文件中禁用 mod_security？

> ID：12928360
> 
> 赞同：40
> 
> 时间：2012-10-17T06:25:41.043
> 
> 标签：php, apache, .htaccess

我们如何通过在 Apache 服务器上`mod_security`使用文件来禁用？`.htaccess`

我在我的个人域上使用 WordPress 并发布了一个内容有一些代码块的帖子，并且根据我的托管服务提供商所说`mod_security`的给出了一个错误，并且我的 IP 已进入防火墙，因为`mod_security`.

所以我想`mod_security`通过使用`.htaccess`文件来禁用。

* * *

## 回答 #1

> 赞同：57
> 
> 时间：2012-10-17T06:29:40.023

可以这样做，但很可能您的主机实施`mod_security`是有原因的。确保他们同意您为自己的网站禁用它。

也就是说，应该这样做；

```
<IfModule mod_security.c>
  SecFilterEngine Off
  SecFilterScanPOST Off
</IfModule> 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2016-09-01T02:30:08.200

在*某些*服务器和 Web 主机上，可以通过 禁用 ModSecurity `.htaccess`，但请注意，您只能打开或关闭它，不能禁用个别规则。

但是，仍然可以确保您的网站安全的一个好做法是仅在特定 URL 上禁用它，而不是在整个网站上禁用它。您可以通过以下语句中的正则表达式指定要匹配的 URL `<If>`...

```
### DISABLE mod_security firewall
### Some rules are currently too strict and are blocking legitimate users
### We only disable it for URLs that contain the regex below
### The regex below should be placed between "m#" and "#" 
### (this syntax is required when the string contains forward slashes)
<IfModule mod_security.c>
  <If "%{REQUEST_URI} =~ m#/admin/#">
    SecFilterEngine Off
    SecFilterScanPOST Off
  </If>
</IfModule> 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2014-12-03T19:18:17.700

只是为了更新 mod_security 2.7.0+ 的这个问题 - 他们关闭了通过 htaccess 缓解 modsec 的能力，除非你用`--enable-htaccess-config`标志编译它。大多数主机不使用此编译器选项，因为它允许过于宽松的安全性。相反，httpd.conf 中的虚拟主机是您控制 modsec 的首选选项。

即使您使用 htaccess 缓解编译 modsec，可用的指令也较少。`SecRuleEngine`例如，不能再在那里使用。如果允许，以下是默认情况下可在 htaccess 中使用的列表（请记住，主机可能会进一步限制此列表`AllowOverride`）：

```
 - SecAction
    - SecRule

    - SecRuleRemoveByMsg
    - SecRuleRemoveByTag
    - SecRuleRemoveById

    - SecRuleUpdateActionById
    - SecRuleUpdateTargetById
    - SecRuleUpdateTargetByTag
    - SecRuleUpdateTargetByMsg 
```

[有关官方 modsec wiki 的更多信息](https://github.com/SpiderLabs/ModSecurity/wiki/Reference-Manual#start-apache-httpd)

作为 2.x 用户的附加说明：`IfModule`现在应该寻找`mod_security2.c`而不是旧的`mod_security.c`

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2015-03-11T17:21:08.830

*对于包括NameCheap*在内的一些网络主机，无法使用`.htaccess`. 唯一的选择是联系技术支持并要求他们为您更改配置。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2013-08-09T16:43:23.503

当上述解决方案不起作用时，请尝试以下操作：

```
<IfModule mod_security.c>
  SecRuleEngine Off
  SecFilterInheritance Off
  SecFilterEngine Off
  SecFilterScanPOST Off
  SecRuleRemoveById 300015 3000016 3000017
</IfModule> 
```

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2015-04-30T06:40:59.357

在站点根目录的 .htaccess 文件中编辑以下行：

```
<ifmodule mod_security.c>

SecFilterEngine Off
SecFilterScanPOST Off

</ifmodule>

<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
</IfModule>
```

只需将 SecFilterEngine 之类的 mod_security 规则和部件彼此分开即可。它适用于 apache 服务器

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-07-30T15:12:17.487

对于任何只想绕过错误页面以在共享主机上显示内容的人。您可能想尝试在 .htaccess 文件中使用重定向。如果是说 406 错误，在 UnoEuro 上它似乎并不能简单地停用安全性。所以我改用这个：

```
ErrorDocument 406 / 
```

然后您可以随时使用 PHP 更改错误状态。但请注意，在我的情况下，这样做意味着我在绕过 WAF 时打开了 SQL 注入的大门。因此，您需要确保您有自己的安全措施或尽快再次启用安全性。

# django - 尝试通过子进程模块将键值对传递给 perl 脚本

> ID：12928361
> 
> 赞同：0
> 
> 时间：2012-10-17T06:25:47.920
> 
> 标签：django, perl

我正在尝试通过 sub-process module 将 key:value 对发送到 perl 脚本。我只是尝试了一个简单的例子，它工作正常。如何将键：值对传递给 perl 脚本.....？

Ans还如何将多个输入字段值发送到perls脚本>下面是我的代码

视图.py

```
from django.http import HttpResponseRedirect, HttpResponse
from django.shortcuts import get_object_or_404, render_to_response
from django.template import RequestContext
from subprocess import Popen, PIPE, sys
import subprocess 

def ex(request):
   myName = 'Pervez'
   if 'firstname' in request.POST:
     myName = (request.POST['firstname'])
   p = Popen(['/home/pervez/Desktop/simplepage/simplepage/templates/ex.pl', myName],stdin=PIPE, stdout=PIPE)
    p.stdin.close()
    result = p.stdout.read()
return render_to_response('ex.html', {'name': result},context_instance=RequestContext(request)) 
```

ex.html

```
{{ name }}
<FORM METHOD="POST" ACTION="" NAME="SIGNUPFORM">
{% csrf_token %}
<fieldset>
<legend>Signup Form</legend>
<table>
<tr><td>First Name</td><td><INPUT SIZE=20 NAME="firstname"> </td></tr>
<tr><td>Last Name</td><td><INPUT SIZE=20 NAME="lastname"></td></tr>
<tr><td>User Name</td><td><INPUT SIZE=20 NAME="username"></td></tr>
<tr><td>Password</td><td><INPUT SIZE=20 NAME="password"></td></tr>
<tr><td>Verify Password</td><td><INPUT SIZE=20 NAME="vpass"></td></tr>
<tr><td>Your E-mail</td><td><INPUT SIZE=20 NAME="email_id"></td></tr>
<tr><td align="right">&nbsp;</td>
<td><input type="submit" value="Submit">
    <input type="Reset" value="Clear Form">
</td>
</tr>
</table>
</fieldset>
</form> 
```

例

```
#!/usr/bin/perl

$|=1; # Flush immediately.

print "Content-Type: text/plain\n\n";
read STDIN, $form, $ENV{'CONTENT_LENGTH'};

foreach $pair (split('&', $form)) {

    if ($pair =~ /(.*)=(.*)/) {  # found key=value;

        ($key, $value) = ($1, $2);              # get key, value.
        $value =~ s/\+/ /g;                     # substitute spaces for + signs.
        $value =~ s/%(..)/pack('c',hex($1))/eg;
        $inputs{$key} = $value;                 # Create Associative Array.
    }
}

foreach $item (keys(%inputs)) {

    print "$item - $inputs{$item}\n"; 
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T14:40:06.587

您提供的 Perl 脚本是一个基本的 CGI 脚本。

正如 anydot 所提到的，它需要来自 STDIN 的数据。但`$ENV{CONTENT_LENGTH}`大小。

如果你想得到这个 Perl 脚本的任何输出，你应该对所有数据进行 uri 转义，使用 '=' 字符连接所有键及其值，然后使用 '&' 字符连接对。

然后将环境变量设置`CONTENT_LENGTH`为您获得的字符串的长度，运行 ex.pl 并将数据打印到它的标准输入。

以下 Python 代码将执行此操作：

```
from subprocess import Popen, PIPE
import os

os.environ["CONTENT_LENGTH"]="26";

p = Popen(['./ex.pl'], stdin=PIPE, stdout=PIPE);
p.stdin.write('foo=bar&baz=var+with+space\n');

p.stdin.close();
result = p.stdout.read();

print(result); 
```

可能很脏，但我不是 Python 编码器。

# regex - 用 sed 指向斜线

> ID：12928362
> 
> 赞同：1
> 
> 时间：2012-10-17T06:25:52.010
> 
> 标签：regex, sed

我有这种格式的文本文件：

```
...
SomeText.any_text/ch SomeText2.any_3/ch 5.6e-5
SomeText.any_text/ch something.else.point.separated/ch4 5.4e5
... 
```

在行中，我有三个元素：两个 - 字母数字下划线斜线字符串和一个 - 浮点数。

我只需要在字符串处将点替换为斜线。

我曾尝试将 sed 与这样的正则表达式一起使用

```
sed 's/\([\w_]\+\)\(\.\)/\1\//g' 
```

并且没有积极的结果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:54:57.907

您的元素看起来像字段。因此，我首选的方法是使用`awk`：

```
awk '{ for (i=1; i<=2; i++) gsub(/\./, "/", $i) }1' file.txt 
```

结果：

```
SomeText/any_text/ch SomeText2/any_3/ch 5.6e-5
SomeText/any_text/ch something/else/point/separated/ch4 5.4e5 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T07:32:06.810

这可能对您有用（GNU sed）：

```
sed 's/[^ ]*$/\n&/;h;y/./\//;G;s/\n.*\n//' file 
```

解释：

*   `s/[^ ]*$/\n&/`在最后一个字段之前插入换行符
*   `h`将模式空间 (PS) 复制到保持空间 (HS)
*   `y/./\//`将PS 中的all `.`'s 翻译成's`/`
*   `G`将换行符然后 HS 添加到 PS
*   `s/\n.*\n//`删除第一个和最后一个换行符之间的所有内容，即删除旧字符串

这个成语可以用来简化行的一部分，而不需要求助于复杂的正则表达式

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T07:02:39.387

您可以`sed`使用几个循环以经典表示法执行此操作，一个用于修复第一个字段中的点，一个用于修复第二个字段中的点。

```
sed -e ':f1' -e 's/^\([^ .]*\)\./\1\//'                  -e 't f1' \
    -e ':f2' -e 's/^\([^ ][^ ]*\) \([^ .]*\)\./\1 \2\//' -e 't f2' 
```

锚对于`^`正常工作至关重要。是的，您可以在一个参数中将所有内容写在一行上`sed`；当脚本如此复杂时，我更喜欢单独参数的清晰性。一个典型的`sed`脚本足够高深莫测，不会增加任何额外的理解障碍。

```
sed ':f1;s/^\([^ .]*\)\./\1\//;t f1;:f2;s/^\([^ ][^ ]*\) \([^ .]*\)\./\1 \2\//;t f2' 
```

对于您的输入样本（两行），输出为：

```
SomeText/any_text/ch SomeText2/any_3/ch 5.6e-5
SomeText/any_text/ch something/else/point/separated/ch4 5.4e5 
```

如果您使用的是 GNU `sed`，则可能需要添加`--posix`选项，尽管它似乎表现正确（因此它可能认识到我没有使用任何非 POSIX 表示法，因此坚持使用 POSIX）。

`sed`在带有 BSD和 GNU的 Mac OS X 10.7.5 上测试`sed`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-17T07:08:32.890

```
awk '{gsub(/\./,"",$1);;gsub(/\./,"",$2);print}' your_file 
```

# javascript - 焦点在 Mozilla Firefox 中不起作用

> ID：12928365
> 
> 赞同：1
> 
> 时间：2012-10-17T06:26:02.970
> 
> 标签：javascript, jquery, asp.net, focus

我正在尝试使用 jquery 验证日期。如果用户输入了无效的日期，那么它应该在同一个控件中设置焦点。我写了下面的代码，它在所有浏览器中都可以正常工作，但在 Mozilla 中它不起作用。

### JavaScript 代码：

```
function CheckDate(txt) {
    var isValid = false;
    var txtDate = $('input[id$=' + txt + ']').val();
    if (txtDate.length == 0) {
        isValid = true;
    }
    else {
        if (isDate(txtDate)) {
            isValid = true;
        }
        else {
            isValid = false;
            $('#' + txt).focus();
        }
    }

    //alert(txtControl);
} 
```

我在文本框的 onBlur 事件上调用此函数。我对此没有任何解决方案。如果有人知道，请帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:42:12.150

尝试`.trigger('focus')`而不是简单`.focus()`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T06:37:02.543

您可以使用此代码

```
$('#' + txt).attr('value'); 
```

并使用它

```
$('#' + txt).focus(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T06:31:48.700

在您的代码中，我觉得选择器有问题。我们需要看到 的价值`txt`。那么你可以改变你的这部分代码：

```
$('#' + txt).focus(); 
```

至：

```
$('input[id$=' + txt + ']').focus(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-10-22T17:46:04.367

它与 setTimeOut 内的焦点一起工作：http: [//www.echoknowledge.com/javascript-focus-is-not-working-in-firefox/](http://www.echoknowledge.com/javascript-focus-is-not-working-in-firefox/)

# python - Python：使用 glib.timeout_add 运行异步函数而不锁定 UI

> ID：12928366
> 
> 赞同：1
> 
> 时间：2012-10-17T06:26:11.403
> 
> 标签：python, gtk

我正在编写一个需要用户登录的 UI。登录本身最多可能需要 10 秒。登录后，对下载和填充 TreeView 的函数进行了长时间调用。我尝试使用`glib.timeout_add()`as 在调用登录名和函数时不锁定 UI，`populatelist()`但 gtk.main() 仍将其锁定。

```
def connect(self, widget, data):
    self.debug("Logging in")
    glib.timeout_add(500, self.login)
    self.debug("Logged in")

def login(self):
    self.debug("Starting self.gm.doLogin")
    logged_in = self.gm.doLogin(self.email, self.password)
    self.debug("Finsished self.gm.doLogin")
    if self.gm.logged_in:
        if self.connect_button.get_label() == "Connecting":
            self.debug("Getting SongWin")
            glib.timeout_add(500, self.populateSongWin)
            self.debug("Getting playLists")
            glib.timeout_add(500, self.populatePlaylists)
            self.action = "Getting songs"
            self.status_label.set_label("Status: %s; Songs: %s; Playlists: %s" %\
                                        (self.gm.logged_in, 
                                         len(self.gm.library),
                                         len(self.gm.playlists)))
            self.connect_button.set_label("Disconnect")
            self.connect_button.set_sensitive(True)
    self.action = "None"
    return False 
```

我知道这以某种方式起作用，因为我可以看到：

```
DEBUG: Logging in
DEBUG: Logged in
DEBUG: Starting self.gm.doLogin 
```

谁能告诉我我做错了什么？本质上，应用程序需要按以下顺序运行：

1.  self.gm.doLogin()
2.  self.populateSongWin()
3.  self.populatePlaylists()

这三个都很耗时，需要按顺序运行，并且不会阻塞 UI。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-17T07:35:26.763

看起来应用程序被阻止了，但它正在处理事件。其中一个事件必须终止循环。[您可以在 Wikipedia](https://en.wikipedia.org/wiki/Event_loop)中查看事件循环背后的想法。

不过，在您的代码中，您使用的是局部变量来获取登录状态，但您使用的是实例变量来验证状态。

```
def login(self):
    self.debug("Starting self.gm.doLogin")
    logged_in = self.gm.doLogin(self.email, self.password)
    self.debug("Finsished self.gm.doLogin")
    if self.gm.logged_in:                                   <=
        [...] 
```

而不是`self.gm.logged_in`你应该在语句`logged_in`的条件中使用。`if`

# eclipse - 如何减少 Eclipse 中的构建器时间？

> ID：12928370
> 
> 赞同：4
> 
> 时间：2012-10-17T06:26:33.570
> 
> 标签：eclipse, eclipse-plugin

我正在使用 eclipse 。当 Eclipse 重新启动/打开时，我无法工作，直到构建器、构建工作区或完成。我怎样才能减少这个时间？

请看截图。

![在此处输入图像描述](../Images/cbaad345aaa366328978ac6d6afae30c.png)

有时我的日食因此而被绞死。我无法继续我的工作流程。它不仅发生在重新启动时。对于 eclipse 项目打开/关闭。有什么解决方案吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T06:38:39.837

一种好方法是在 eclipse 中创建新工作空间时暂停所有验证，这将减少 eclipse 启动时的一些时间

为此，请到`window --> preferences`那里搜索`validation`并检查`suspend all validators` 查看图片以获取更多详细信息 ![在此处输入图像描述](../Images/132f9057d7eb2c822f355dc4bc449939.png)

希望它会帮助你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T17:35:10.417

Eclipse 工作区构建器*仅*在资源更改时触发。因此，如果它在启动 Eclipse 后立即开始构建，则工作区内容发生了变化。这可能是

*   同一 Eclipse 实例中的另一个插件或
*   Eclipse 之外的一个工具，它在 Eclipse 未运行期间修改了工作区文件。

在您的情况下，这可能与 Mercurial 有关，从消息中的“hg cache”字符串判断。因此，请检查您是否有一些版本控制文件的自动更新。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-17T06:43:49.183

我遇到过这种问题。我不会说这是问题的完整解决方案。但我所做的是：

查找安装在您的 eclispe 中且未在您的项目中使用的插件。从 Eclipse 中卸载它们。

另请查看您的代码。可能有一些代码试图引用某种可能被跳过/删除的脚本或插件。

这将减少一些构建工作空间的时间。希望这对您有所帮助。

# android - ANDROID 在地图视图上显示最近的 10 个位置

> ID：12928371
> 
> 赞同：1
> 
> 时间：2012-10-17T06:26:36.880
> 
> 标签：android, json, google-maps

我正在开发一个 POI 定位器应用程序。我正在解析一个包含 1600 多个位置的 JSON 文件。如何有效地将此列表与当前用户位置进行比较并获得最接近的 10 个？

**编辑** 该应用程序没有使用服务器，因为我想使用本地 JSON 文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T05:48:01.757

我通过使用 for 循环并测量位置和用户位置之间的距离来修复它。

```
distance = locationA.distanceTo(locationB); 
if (distance <= 1000 * 10) //finding all within 10km Radius.{
 ADD GEOPOINT HERE 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T06:35:04.213

如果您可以将 1600 个位置存储在支持地理空间查询的数据库（如 mongodb）中，那就更好了。您可以直接查询数据库以确定与用户给定纬度和经度最近的 N 个位置。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T06:54:07.907

我们也在编写这种应用程序，并在 MySQL 和 MongoDB 上进行了一些性能测试。因为 MongoDB 是基于文档的，并且以 json 格式存储其数据，所以基于位置的查询（例如离用户最近的餐馆）可以非常快地完成并返回。据我所知，它比 MySQL 快大约 10 倍。因此，即使您的应用程序当前不使用 no-sql 数据库，我强烈建议您使用 MongoDB，即使只是用于项目的位置计算部分。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-17T06:37:59.190

如果您要通过鸟瞰方法查找距离，您只需查询您的位置并使用位于[此处](http://www.movable-type.co.uk/scripts/latlong.html)的公式检查距离。但是，如果您要考虑道路（图表），恐怕您需要使用某种寻路服务，例如[谷歌地图](https://developers.google.com/maps/)或自己滚动。（据我所知，Android 中没有内置机制。）

# django - django url 模式匹配以显示不同的页面

> ID：12928379
> 
> 赞同：0
> 
> 时间：2012-10-17T06:27:24.343
> 
> 标签：django, django-views, django-urls

我是 django 的新手，我对如何使用 django 的 url 模式匹配有点困惑。

这是我的意图。我有一个网站的 4 页。根据链接，他们将使用 url 来查找要呈现给用户的信息。url 也知道用户在哪个页面上。

所以这个人会根据链接选择建筑物。然后该人将选择他们希望继续的楼层。最后这个人会选择一个房间。

> 前任。格式：aaa.com/buildingname/floornumber/roomnumber
> 
> step0 aaa.com/
> 
> step1 aaa.com/django/
> 
> step2 aaa.com/django/2/
> 
> 第三步 aaa.com/django/2/201

因此，根据 url 模式，网站每次都应该以不同的方式加载。

这是我应该如何使用 url 模式匹配吗？我真的很想在这方面得到一些帮助。url 模式应该是什么样的？截至目前，我能想到的只是将 url 匹配到具有视图的不同应用程序中。我只是不知道如何将它们链接在一起。

我有一个带有建筑物、楼层和房间号的 MySQL 数据库。

提前谢谢大家。我感谢你的努力。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:37:25.707

定义指向不同视图的 url 模式如下：

```
urlpatterns = patterns('your_app.views', 
                   (r'^/(?P<building_name>\w+)/$','function1'),
                   (r'^/(?P<building_name>\w+)/(?P<floor>\d+)/$','function2'),
                   (r'^/(?P<building_name>\w+)/(?P<floor>\d+)/(?P<room>\d+)/$','function3'),
                   ) 
```

使用此模式，它将调用不同的视图，并且在每个视图中您可以使用不同的模板。或者，如果您想使用相同的视图函数检查 URL 中的可用值并呈现您需要的任何模板。您可以在视图中获取 URL 值，如下所示：

```
def function1(request, building_name = None):
    print building_name 
```

同样为其他视图也这样做。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T06:38:18.813

如果您希望它们在同一视图中处理，您可以将参数传递给同一视图，

```
r('/(?P<building>\w+)/','views.view1')
r('/(?P<building>\w+)/(?P<flat>\w+)/','views.view1')
r('/(?P<building>\w+)/(?P<flat>\w+)/(?P<room>\w+)/','views.view1') 
```

你的看法，

```
def view1(buidling="",flat="",room=""):
 return [] 
```

# ruby-on-rails - 验证请求中的参数并加入 Thinking Sphinx 搜索过滤器的结果请求

> ID：12928383
> 
> 赞同：-1
> 
> 时间：2012-10-17T06:27:44.040
> 
> 标签：ruby-on-rails, ruby

我是 ruby​​ on rails 的新手）好的，我有带索引操作的控制器：

```
 def index
     condition = ['fulltime','parttime','remote','forone']. select{ |t|  params.has_key?(t.to_sym) }.join(' | ')
 Advert.search params[:search],:order => :created_at, :sort_mode => :desc,  :conditions => {:employment_type=>condition} 
```

但它的代码和平：

```
 ['fulltime','parttime','remote','forone']. select{ |t|  params.has_key?(t.to_sym) } 
```

返回零

为什么？：））

我不想编写带有一堆检查的代码，例如：

```
 if !fulltime.nil? && !fulltime.blank?
      condition = "fulltime"
    end

    if !parttime.nil? && !parttime.blank?
      if !condition.nil? && !condition.blank?
          condition = condition + " | parttime"
      else
        condition ="parttime"
      end

end 
```

但是我使用 array.select 方法的方式不起作用:(

你能给我一些建议吗？）谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T07:01:11.553

我在 irb 上尝试了您的代码，如下所示：

```
> params = { :fulltime => "1" }
=> {:fulltime=>"1"}
> ['fulltime','parttime','remote','forone']. select{ |t|  params.has_key?(t.to_sym) }.join(' | ')
=> "fulltime" 
```

所以它工作正常。如果您从该代码中得到 nil，则参数被设置为 nil，或者参数没有 ['fulltime','parttime','remote','forone'] 作为键。

查看[Rails 参数解释？](https://stackoverflow.com/questions/6885990/rails-params-explained)线; 可能会给出如何正确设置参数的想法。

# c++ - VC++ - 如何获得在 NTFS 引导扇区上写入的权限？

> ID：12928389
> 
> 赞同：2
> 
> 时间：2012-10-17T06:28:26.547
> 
> 标签：c++, visual-c++, c++-cli, ntfs-mft

我进行了很多搜索以获得对引导扇区（主文件表）的写访问权限。我使用`CreateFile`了带有写访问参数的函数，如`GENERIC_WRITE`. 然后用`SetFilePointer`and`WriteFile`来写一个特定的内存地址。但我总是得到的是`System.AccessViolationException`（Windows 7）。我在这里做错了吗？

我想知道是否有任何替代 CreateFile-WriteFile 函数来获得对引导扇区的 wrtie 访问权限？

或者我在想是否有任何方法可以使用中断服务程序在 VC++ (C++/Cli) 中的特定磁盘扇区上写入？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-17T07:08:33.747

根据[Microsoft KB](http://support.microsoft.com/kb/100027)，您必须`CreateFile`使用`FILE_SHARE_READ`and `FILE_SHARE_WRITE`on调用`"\\.\PhysicalDriveN"`，其中`N`是从零开始的物理驱动器索引。然后，您可以将整个驱动器作为一个大文件访问。您必须是您机器上的**管理员**才能使用此功能！

> 您可以使用具有这些设备名称的应用程序编程接口 (API) 打开物理或逻辑驱动器，`CreateFile()` 前提是您对驱动器具有适当的访问权限（即，您必须是管理员）。您必须同时使用 `CreateFile()` `FILE_SHARE_READ`和`FILE_SHARE_WRITE`标志才能访问驱动器。
> 
> 一旦打开了逻辑或物理驱动器，您就可以对整个驱动器上的数据执行直接 I/O。执行直接磁盘 I/O 时，必须在设备扇区大小的倍数和扇区边界上查找、读取和写入。使用 IOCTL_DISK_GET_DRIVE_GEOMETRY 调用 DeviceIoControl() 以获取每个扇区的字节数、扇区数、每个磁道的扇区等等，以便您可以计算所需的缓冲区大小。

**更新：**我做了一些研究，我发现启动 Vista 你必须获得卷上的锁或卸载它。否则写入将失败。微软在[文档中说：](http://msdn.microsoft.com/en-us/library/aa365747%28VS.85%29.aspx)

> 如果您直接写入具有已安装文件系统的卷，则必须首先获得对该卷的独占访问权限。否则，您可能会导致数据损坏或系统不稳定，因为您的应用程序的写入可能会与来自文件系统的其他更改发生冲突，并使卷的内容处于不一致的状态。为防止出现这些问题，在 Windows Vista 及更高版本中进行了以下更改：
> 
> 如果卷没有挂载的文件系统，或者如果以下条件之一为真，则对卷句柄的写入将成功：
> 
> *   要写入的扇区是引导扇区。
> *   要写入的扇区位于文件系统空间之外。
> *   `FSCTL_LOCK_VOLUME`您已使用或显式锁定或卸载卷`FSCTL_DISMOUNT_VOLUME`。
> *   该卷没有实际的文件系统。（换句话说，它安装了一个 RAW 文件系统。）
> 
> 如果以下条件之一为真，则磁盘句柄上的写入将成功：
> 
> *   要写入的扇区不在卷的范围内。
> *   要写入的扇区属于已安装的卷，但您已使用`FSCTL_LOCK_VOLUME`或明确锁定或卸载该卷`FSCTL_DISMOUNT_VOLUME`。
> *   要写入的扇区属于除 RAW 之外没有挂载文件系统的卷。

# qt - 如何在 main.cpp 中调用“pushButton”？

> ID：12928392
> 
> 赞同：1
> 
> 时间：2012-10-17T06:28:44.320
> 
> 标签：qt

主窗口.h：

```
#ifndef MAINWINDOW_H
#define MAINWINDOW_H

#include <QMainWindow>

namespace Ui {
class MainWindow;
}

class MainWindow : public QMainWindow
{
    Q_OBJECT

public:
    explicit MainWindow(QWidget *parent = 0);
    ~MainWindow();

private:
    Ui::MainWindow *ui;
};

#endif // MAINWINDOW_H 
```

主窗口.cpp

```
#include "mainwindow.h"
#include "ui_mainwindow.h"

MainWindow::MainWindow(QWidget *parent) :
    QMainWindow(parent),
    ui(new Ui::MainWindow)
{
    ui->setupUi(this);
}

MainWindow::~MainWindow()
{
    delete ui;
} 
```

主文件

```
#include <QtGui/QApplication>
#include "mainwindow.h"

int main(int argc, char *argv[])
{
    QApplication a(argc, argv);
    MainWindow w;
    w.show();

    QObject::connect(pushButton, SIGNAL(clicked()),
            &a, SLOT(quit()));

    return a.exec();
} 
```

所有代码都在上面给出。在一般的 Qt GUI 程序中，我在 UI 窗体上放置了一个 pushButton，并尝试在 main.cpp 中使用它。但是给出了以下错误：

```
main.cpp:10: Error:'pushButton' was not declared in this scope 
```

你能给我一个解决方案吗？如何在 main.cpp 中调用它？谢谢！

***补充1***：

主窗口.cpp

```
#include "mainwindow.h"
#include "ui_mainwindow.h"

MainWindow::MainWindow(QWidget *parent) :
    QMainWindow(parent),
    ui(new Ui::MainWindow)
{
    ui->setupUi(this);

    QObject::connect(ui->pushButton, SIGNAL(clicked()),
            QCoreApplication::instance(), SLOT(close()));
}

MainWindow::~MainWindow()
{
    delete ui;
} 
```

如果我这样做，那么程序可以运行但不能关闭整个应用程序。我猜那是因为 QCoreApplication::instance() 在构造函数阶段返回 null ， QApplication 不存在，对吧？

***补充2***：

主窗口.cpp

```
void MainWindow::on_pushButton_clicked()
{
    close();
} 
```

一种解决方案是在 mainwindow.cpp 中添加新的 pushButton 插槽，如上所示。但我仍然希望知道如何按照我的方式去做（这篇文章的主要部分）？

***补充3：***

Alberto 的代码通过使用**QWidget**可以正常工作，如下所示。

```
ui->setupUi(this);
connect(ui->pushButton,SIGNAL(clicked()),this,SLOT(close())); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T10:43:12.440

您的第一种方法行不通，因为正如编译器所说，您没有在 main.cpp 范围内定义 QPushButton 。所以编译器找不到它。

正确的方法是你的最后一个。您开发一个 .ui 文件，在其中添加一个 QPushButton ，然后在处理您的 .ui 文件（在您的示例中为 QMainWindow 子类）的 c++ 代码中，将其与插槽连接。但是您的连接呼叫是错误的。这是我的代码：

```
//widget.h:
#ifndef WIDGET_H
#define WIDGET_H

#include <QWidget>

namespace Ui {
class Widget;
}

class Widget : public QWidget
{
    Q_OBJECT

public:
    explicit Widget(QWidget *parent = 0);
    ~Widget();
private:
    Ui::Widget *ui;
};

#endif // WIDGET_H

//widget.cpp:
#include "widget.h"
#include "ui_widget.h"

#include <QtGui>

Widget::~Widget()
{
    delete ui;
}

Widget::Widget(QWidget *parent) :
    QWidget(parent),
    ui(new Ui::Widget)
{
    ui->setupUi(this);
    connect(ui->pushButton,SIGNAL(clicked()),this,SLOT(close()));
}

//widget.ui:
<?xml version="1.0" encoding="UTF-8"?>
<ui version="4.0">
 <class>Widget</class>
 <widget class="QWidget" name="Widget">
  <property name="geometry">
   <rect>
    <x>0</x>
    <y>0</y>
    <width>93</width>
    <height>41</height>
   </rect>
  </property>
  <property name="windowTitle">
   <string>Widget</string>
  </property>
  <layout class="QVBoxLayout" name="verticalLayout">
   <item>
    <widget class="QPushButton" name="pushButton">
     <property name="text">
      <string>PushButton</string>
     </property>
    </widget>
   </item>
  </layout>
 </widget>
 <layoutdefault spacing="6" margin="11"/>
 <resources/>
 <connections/>
</ui>

//main.cpp:
#include <QtGui/QApplication>
#include "widget.h"

int main(int argc, char *argv[])
{
    QApplication a(argc, argv);
    Widget w;
    w.show();
    return a.exec();
} 
```

与：connect（ui->pushButton，SIGNAL（clicked（）），this，SLOT（close（）））；我们可以这样简化：connect(1,2,3,4);

当因为用户在 1 上做了某事而发出 2 时，在 3 上做 4。

翻译：当用户单击 pushButton（定义到 ui 文件中）时，请关闭此（QMainWindow 子类）。如果您查看您的 main.cpp 代码，MainWindow 是您向用户显示的主要小部件。所以你要关闭整个应用程序。

# java - 做什么 我见过如下所示的方法： protected <t extends="" abc="">T save( T Acd, boolean en) { 它有什么作用？这些在 Java 中调用的方法声明类型是什么？</t>

> ID：12928393
> 
> 赞同：51
> 
> 时间：2012-10-17T06:28:48.197
> 
> 标签：java, generics

我见过如下所示的方法：

```
protected <T extends ABC> T save( T Acd, boolean en) { 
```

它有什么作用？这些在 Java 中调用的方法声明类型是什么？

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2012-10-17T06:31:20.520

它被称为泛型方法。这整个概念在 Java 中称为“泛型”。该声明意味着 T 可以是任何类型的 ABC 的子类。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2012-10-17T06:53:25.993

有界类型参数：

有时您可能想要限制允许传递给类型参数的类型种类。例如，对数字进行操作的方法可能只想接受 Number 或其子类的实例。这就是有界类型参数的用途。

要声明有界类型参数，请列出类型参数的名称，后跟 extends 关键字，然后是其上限。例子：

以下示例说明了如何在一般意义上使用扩展来表示“扩展”（如在类中）或“实现”（如在接口中）。此示例是返回三个 Comparable 对象中最大的一个的通用方法：

```
public class MaximumTest
{
   // determines the largest of three Comparable objects
   public static <T extends Comparable<T>> T maximum(T x, T y, T z)
   {                      
      T max = x; // assume x is initially the largest       
      if ( y.compareTo( max ) > 0 ){
         max = y; // y is the largest so far
      }
      if ( z.compareTo( max ) > 0 ){
         max = z; // z is the largest now                 
      }
      return max; // returns the largest object   
   }
   public static void main( String args[] )
   {
      System.out.printf( "Max of %d, %d and %d is %d\n\n", 
                   3, 4, 5, maximum( 3, 4, 5 ) );

       System.out.printf( "Maxm of %.1f,%.1f and %.1f is %.1f\n\n",
                   6.6, 8.8, 7.7, maximum( 6.6, 8.8, 7.7 ) );

       System.out.printf( "Max of %s, %s and %s is %s\n","pear",
         "apple", "orange", maximum( "pear", "apple", "orange" ) );
   }
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-10-17T06:32:09.787

这是一个`generic`保存方法，它除了参数 T 和布尔类型，其中 T 必须是 ABC 类的上限。ABC类或任何子类将被接受。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2019-05-22T10:05:30.740

```
protected <T extends ABC> T save( T Acd, boolean en) {
    // ...
} 
```

在这个函数中，有两个地方需要注意

*   **有界类型参数**：`<T extends ABC>`
*   **返回类型**：`T`

基于这些，我可以回答您的问题如下

> 它有什么作用？

`save()`是返回类型值的泛型方法`T`。`T`是泛型类型，仅限于`ABC`. 的范围`T`仅限于`save()`。

> 这些在 Java 中调用的方法声明类型是什么？

IMO，答案应该是**有界类型参数**，而不是**泛型**。**有关 Java 中的泛型**的更多信息，您可以在[此处](https://docs.oracle.com/javase/tutorial/java/generics/index.html)找到。

我想自己补充一个问题：***为什么我们想要这样的东西？***

> 有时您可能想要限制可用作参数化类型中的类型参数的类型。例如，对数字进行操作的方法可能只想接受 Number 或其子类的实例。这就是[[1]](https://docs.oracle.com/javase/tutorial/java/generics/bounded.html)的有界类型参数。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-10-17T06:31:38.680

这是泛型。具有类型边界的泛型！

[请参阅此处以供参考](http://docs.oracle.com/javase/tutorial/java/generics/bounded.html)

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2016-06-10T15:42:50.770

这在 Java 中称为泛型。

[官方解释](https://docs.oracle.com/javase/tutorial/java/generics/why.html)：

> 简而言之，泛型使类型（类和接口）在定义类、接口和方法时成为参数。就像在方法声明中使用的更熟悉的形式参数一样，类型参数为您提供了一种通过不同输入重用相同代码的方法。区别在于形式参数的输入是值，而类型参数的输入是类型。

非正式地：

像 Java 这样的强类型语言会导致更多错误出现在编译时而不是运行时。这是一件好事。但它会导致代码重复。为了缓解这种情况，Java 中添加了泛型。

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2012-10-17T06:30:50.170

这意味着您**必须**发送一个`ABC`对象或 的孩子`ABC`，不允许其他类。此外，您的`Acd`变量可以使用包含该方法的`ABC`类可见的类中的`save`方法。

`T`当您的类扩展接口时，这很有用。例如，您正在创建一个处理对象数组排序的类，并且该类**必须**实现 tne`Comparable`接口，否则将不允许该数组：

```
class Class1 implements Comparable<Class1> {
    //attributes, getters and setters...
    int x;

    //implementing the interface...
    public int compareTo(Class1 c1) {
        //nice implementation of compareTo
        return (this.x > c1.x)? 1 : (this.x < c1.x) ? 0 : -1;
    }
}

class Class2 {
    int x;
}

public class Sorter<T extends Comparable<T>> {

    public static void insertionSort(T[] array) {
        //good implementation of insertion sort goes here...
        //just to prove that you can use the methods of the Comparable interface...
        array[0].compareTo(array[1]);
    }

    public static void main(String[] args) {
        Class1[] arrC1 = new Class1[5];
        Class2[] arrC2 = new Class2[5];
        //fill the arrays...
        insertionSort(arrC1); //good!
        insertionSort(arrC2); //compiler error!
    }
} 
```

# reverse-proxy - Varnish 3.0 是如何处理 gzip 的？

> ID：12928394
> 
> 赞同：2
> 
> 时间：2012-10-17T06:28:47.640
> 
> 标签：reverse-proxy, varnish, varnish-vcl

Varnish 会将压缩的 obj 保存在缓存中，但是当客户端不支持 gzip 时。

Varnish 如何处理它？它是否也将其他未压缩的 obj 保存在 Cache 中，或者解压缩压缩的 obj？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-18T19:43:27.533

Varnish 3.0 支持 Gzip，如官方教程的[“压缩”](https://www.varnish-cache.org/docs/3.0/tutorial/compression.html)一章中所述。对后端的所有 HTTP 请求都将包含对 gzip 内容的请求，因此默认情况下，所有对象都存储在 gzip 的内存中。

如果后端不支持 gzip，你可以通过设置`beresp.do_gzip`in让 Varnish 在存储之前压缩响应`vcl_fetch`。

如果来自不支持 gzip 的客户端的请求，Varnish 将在交付之前对存储的对象进行压缩。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-17T08:35:55.363

Varnish 2.x 不压缩或解压缩：如果客户端支持 Gzip，它将在缓存中保存一个 gzip 版本的页面。如果客户端不支持它，则将在缓存中放置另一个副本以用于纯内容，而不进行压缩。

所以是的：根据 Accept-Encoding 标头（应该标准化），对于每个支持的压缩算法，一个页面的多个版本将保存在缓存中。

*更新：为清楚起见进行了编辑，以上仅适用于 Varnish 2.0 或 2.1。Varnish 3.x 支持 gzip，如上所述。

# java - Hibernate @LazyCollection 注解有什么用

> ID：12928402
> 
> 赞同：37
> 
> 时间：2012-10-17T06:29:32.583
> 
> 标签：java, performance, hibernate, orm, lazy-loading

我有 2 个实体作为父和子作为 OneToMany 关系

```
@Entity
public class Parent {

@Id
@GeneratedValue(strategy = GenerationType.AUTO)
private Integer id;

private String name;

@OneToMany(mappedBy = "parent", fetch = FetchType.LAZY)
@IndexColumn(name = "index", base = 1)
@Cascade(org.hibernate.annotations.CascadeType.ALL)
@LazyCollection(LazyCollectionOption.EXTRA)
private List<Child> childs = new ArrayList<Child>();
// getter and setter

} 
```

那么这里**@LazyCollection(LazyCollectionOption.EXTRA)**的用途是什么，它什么时候会出现，比如对于子列表的哪个操作，这将是有益的？

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2013-09-11T10:22:20.157

**EXTRA** = .size() 和 .contains() 不会初始化整个集合

**TRUE** = 在首次访问时初始化整个集合

**FALSE** = 急切加载

* * *

## 回答 #2

> 赞同：27
> 
> 时间：2016-10-19T12:59:01.127

实际上没有理由使用`@LazyCollection`.

`TRUE`不需要和值，`FALSE`因为可以使用 JPA`FetchType.LAZY`或`FetchType.EAGER`.

该`EXTRA`值在 JPA 中没有等效值，并且专为非常大的集合而设计。当您`EXTRA`第一次访问惰性集合时，该集合并未完全加载，任何 JPA 集合通常都是这种情况。

相反，每个元素都是使用辅助的`SELECT`. 这听起来像是一种优化，但这并不是因为`EXTRA`惰性集合容易出现 N+1 查询问题。

请注意，这仅适用于有序集合，或者`List`(s) 带有`@OrderColumn`或`Map`(s) 注释。`List`对于包（例如，不保留任何特定顺序的常规实体），其[`@LazyCollection(LazyCollectionOption.EXTRA)`](https://vladmihalcea.com/hibernate-extra-lazy-collections/)行为与任何其他`LAZY`集合一样（该集合在第一次访问时完全获取）。

如果你有一个非常大的集合，那么你根本不应该映射它。相反，您应该只映射`@ManyToOne`一侧，而不是父端集合，您应该使用分页的 JPQL 查询。

JPQL 查询更容易调整，因为您可以应用任何过滤条件，并且可以对结果集进行分页。

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2012-10-17T07:21:45.500

给你一个提示，主要是出于性能原因，你可以开始阅读以下链接：

[二级缓存](http://www.javalobby.org/java/forums/t48846.html)

[休眠文档](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/performance.html)

# c# - 如何在windows应用程序c#中放置联系我们页面

> ID：12928415
> 
> 赞同：2
> 
> 时间：2012-10-17T06:30:27.167
> 
> 标签：c#, visual-studio-2010, email

> **可能重复：**
> [是否可以在不使用任何实际电子邮件帐户的情况下以编程方式发送电子邮件](https://stackoverflow.com/questions/12747065/is-it-possible-to-send-an-email-programmatically-without-using-any-actual-email)

我想在我的 Windows 应用程序中放置一个联系我页面。我对这一切都很陌生，我已经开始工作了[如何在联系我们页面中发送带有用户电子邮件的电子邮件？](https://stackoverflow.com/questions/2047916/how-to-send-an-email-with-user-email-in-contact-us-page)但这还不够，主要原因是我知道使用我的应用程序的人可以从 .exe 文件中获取密码，如果他们真的想要的话。还有其他选择吗？

# php - 有人知道修复名称案例的优雅功能吗？

> ID：12928416
> 
> 赞同：15
> 
> 时间：2012-10-17T06:30:29.430
> 
> 标签：php

幼儿园 101 教导我们中的一些人：“你名字中的字母应该小写，首字母大写。” 然而在这个后文学时代，人们如何在网络表单中输入他们的名字似乎取决于他们的心情，或者太阳耀斑或诸如此类：全大写，全小写，混合，颠倒......

从哲学上讲，我随便说！占用你的名字，谁在乎。但我有强迫症客户，他们更喜欢看到数据标准化、标准化、可预测。所以我问你们，如果你见过任何经过深思熟虑的 PHP 函数来解决大小写问题，这些函数考虑到了各种可能`ucwords()`会完全破坏的异常，例如：

*   斯文-亚历克斯·克朗佩
*   罗纳尔多麦克唐纳
*   Boopsie O'Brien
*   JR鲍勃·多布斯
*   弗朗西斯卡德洛斯加托斯
*   李永成

有什么功能可以尝试容纳这些字母表叛逆者吗？

**更新**
从 Robin v. G. 的观点来看，不可能有任何脚本来统治他们。但我已经确定完全以小写或大写形式输入的名称可能适合进行良好的擦洗。所以对于这些，我会做...

```
 if ($name == strtoupper($name) || $name == strtolower($name)) {
        $name = ucwords(strtolower($name));
    } 
```

修改它以修复一些可能的异常很容易：破折号、撇号、“McD”等。会犯错误，但谁会抱怨？不是用小写字母输入名字的温顺混蛋。

哦，等等，我的名字是小写的……

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-17T06:35:46.447

这简直是​​不可能的。

正如您在问题中显示的那样，名称的拼写因国家/地区而异。最简单的方法是找到最常见的拼写方式，即将每个“单词”的每个首字母大写，即每个字符串前面都有空格、连字符、点或撇号。

这并不能解决您的所有问题（YungCheng，McDonaldo），并且还会给您留下其他问题，但这与您将得到的一样接近。

比较：

*   Alex Van Halen（美国拼写）
*   Alex van Halen（正确的荷兰语拼写）

没有算法可以解决这个问题。

[这篇文章](http://en.wikipedia.org/wiki/Van_%28Dutch%29#Collation_and_capitalisation)很好地说明了荷兰名字的问题，而这只是一种语言。世界上每种语言可能都有这样的文章。;)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-17T07:17:59.303

这是一个尝试

```
$names=array();
$names[]="sven-alex crumpet";
$names[]="RONALDO McDonalDO";
$names[]="Boopsie o'Brien";
$names[]="j.r. BOB DOBBS";
$names[]="francesca DE LOS gatOS";
$names[]="yungcheng LI";
$names[]="mr hankey";
$names[]="santas little helper";
$names[]="j.r.r. tolkien";

$splitters=array(' ','.',"'",'-'); //more to come
$fixedNames=array();

foreach($names as $name) {
    $fixed='';
    $blank=str_replace($splitters,'?',$name);
    $n=explode('?',$blank);
    foreach($n as $f) $fixed.=ucfirst(strtolower($f)).' ';
    for ($i=0;$i<strlen($fixed);$i++) {
        if ($fixed[$i]==' ') {
            if ($blank[$i]=='?') {
                $fixed[$i]=$name[$i];
            }
        }
    }
    $fixedNames[]=substr_replace($fixed,'', -1);
}

echo '<pre>';
print_r($fixedNames);
echo '<pre>'; 
```

输出

```
Array
(
    [0] => Sven-Alex Crumpet
    [1] => Ronaldo Mcdonaldo
    [2] => Boopsie O'Brien
    [3] => J.R. Bob Dobbs
    [4] => Francesca De Los Gatos
    [5] => Yungcheng Li
    [6] => Mr Hankey
    [7] => Santas Little Helper
    [8] => J.R.R. Tolkien
) 
```

如果没有考虑区域/文化习俗的算法和庞大的名称数据库进行比较，就不可能“纠正”像永成这样的名称。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-05-08T13:07:20.627

虽然这是一个相当老的问题，但是：

```
function titleCase($string, $delimiters = array(" ", "-", ".", "'", "O'", "Mc", "Mac"), $exceptions = array("and", "to", "of", "das", "dos", "de", "do", "da", "los", "von", "van", "I", "II", "III", "IV", "V", "VI", "VII", "VIII", "IX", "X")) {
    /*
     * Exceptions in lower case are words you don't want converted
     * Exceptions all in upper case are any words you don't want converted to title case
     *   but should be converted to upper case, e.g.:
     *   king henry viii or king henry Viii should be King Henry VIII
     */
    $string = mb_convert_case($string, MB_CASE_TITLE, "UTF-8");
    foreach ($delimiters as $dlnr => $delimiter) {
        $words = explode($delimiter, $string);
        $newwords = array();
        foreach ($words as $wordnr => $word) {
            if (in_array(mb_strtoupper($word, "UTF-8"), $exceptions)) {
                // check exceptions list for any words that should be in upper case
                $word = mb_strtoupper($word, "UTF-8");
            } else if (in_array(mb_strtolower($word, "UTF-8"), $exceptions)) {
                // check exceptions list for any words that should be in lower case
                $word = mb_strtolower($word, "UTF-8");
            } else if (!in_array($word, $exceptions)) {
                // convert to uppercase (non-utf8 only)
                $word = ucfirst($word);
            }
            array_push($newwords, $word);
        }
        $string = join($delimiter, $newwords);
    } //foreach
    return $string;
} 
```

它不适用于永成，但它几乎适用于其他任何东西。唯一的问题是，如果`$string`只有像“do Carmo”这样的姓氏，那么它将返回“Do Carmo”。它真的是为全名而构建的，所以如果你`$string = "frederick do carmo";`它会返回“Frederick do Carmo”。希望这会有所帮助。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2014-11-30T02:52:57.253

我找到了一个不错的库来处理用 python 编写的不同格式的各种人名，称为[nameparser](https://pypi.python.org/pypi/nameparser/0.3.3)。它仍然不能处理上面列出的所有名称，但是通过一些[配置](http://nameparser.readthedocs.org/en/latest/customize.html)，您可能能够接近。

我还写了一篇简短的[博客](http://stevenandrewhunt.com/blog/misc/parse-human-names-with-python)，描述了如何让名称解析器库从终端运行。也许它会帮助某人。

这是基本的python脚本：

```
import sys
import json
from nameparser import HumanName

rawname = ' '.join(sys.argv[1:]).lower().strip()

name = HumanName(rawname)

# attempt to fix name title case
name.capitalize()

print json.dumps({
    'fullname': name.__str__(),
    'title': name.title,
    'first': name.first,
    'middle': name.middle,
    'last': name.last,
    'suffix': name.suffix,
    'nickname': name.nickname
}) 
```

# c++ - 在 OpenGL 中使用 GL_LINES 进行裁剪

> ID：12928419
> 
> 赞同：0
> 
> 时间：2012-10-17T06:30:40.317
> 
> 标签：c++, opengl, clipping

我想在 3D 空间中实现具有动态裁剪体积的 Cohen-Sutherland 算法。（即有 27 个地区）。假设我有这样的事情：

```
glBegin(GL_LINES);
glVertex3f(x1, y1, z1);
glVertex3f(x2, y2, z2);
glEnd(); 
```

1.  剪裁是否默认自动完成？如果是，我该如何停用它？
2.  我在 3D 空间中找不到 Sutherland 的实现。你知道我在哪里可以找到它吗？

原则上任何算法都可以，只要它可以进行 3D 裁剪。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T13:45:25.630

好的，我完全不明白您要达到的目标。但这里是基本的纲要，openGL 会自动剪裁**不可见的**线条。你认为它会如何在屏幕外渲染线条？

如果要实现任意 3D 空间的裁剪，则必须自己进行数学运算并计算起点和终点。你可以输入openGL，它不会渲染不在屏幕上的位。

# visual-c++ - 比较两个包含版本号的 CString

> ID：12928420
> 
> 赞同：2
> 
> 时间：2012-10-17T06:30:40.880
> 
> 标签：visual-c++, mfc, compare, cstring

在一个代码中，我有 2 个`CString`包含版本号的一部分，第一个 exe 包含版本 1.1234.3.1，第二个 exe 包含版本 1.2.3.1。

代码应该是这样的

认为

```
CString MinVreg,MinFref;

if(MinVreg<MinFref) //when MinVreg="1234" and MinFref="2"

{
    //it enters in if loop.
    //Update registry
}
elseif(MinVreg>MinFref)
{
   //Show message box..
} 
```

我认为运营商只检查第一个数字。所以请告诉我如何将其作为数字进行比较

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T08:19:33.733

您必须解析字符串以将版本表示为整数数组，然后执行字典比较。

```
bool ParseVersionString(unsigned digits[4], const CString& i_version)
  {
  return sscanf(i_version, "%d.%d.%d.%d", &digits[0], &digits[1], 
                &digits[2], &digits[3]) == 4;
  }

int CompareVersions(unsigned ver1[4], unsigned ver2[4])
  {
  for (int i = 0; i != 4; ++i)
    {
    if (ver1[i] < ver2[i])
      return -1;
    if (ver1[i] > ver2[i])
      return 1;
    }

  return 0;
  } 
```

用法：

```
 CString MinVreg("1.1234.3.1"), MinFref("1.2.3.1");
  unsigned ver1[4], ver2[4];
  if (ParseVersionString(ver1, MinVreg) &&
      ParseVersionString(ver2, MinFref) &&
      CompareVersions(ver1, ver2) < 0)
  {
  //Update registry
  } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T06:39:20.390

试试这个：

```
 if ( atoi((char*)(LPCTSTR)MinVreg) <  atoi((char*)(LPCTSTR)MinFref)
    {
    //Do the Stuff
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-17T07:01:32.413

您应该使用[strstr](http://msdn.microsoft.com/en-us/library/z9da80kz%28v=vs.71%29.aspx)函数来检查是否`character`存在。

```
if( NULL != strstr(MinVreg, MinFref) )
{
    //enter the loop
} 
```

**编辑**:: 如果你想将它们比较为`int`，你需要将它们转换为`int`.

```
if( atoi(MinVreg) < atoi(MinFref) )
{
    //MinVreg < MinFref, Do something
}
elseif( atoi(MinVreg) > atoi(MinFref) )
{
    //MinVreg > MinFref, Do something
}
else
{
     //MinVreg = MinFref, Do something
} 
```

**更新**:: 问题数据编辑后`MinVreg = 1.1234.3.1 and MinFref = 1.2.3.1`

```
int a ;
a = strcmp( MinVreg, MinFref ) ;
if( a < 0 )
{
    //MinVreg < MinFref, Do something
}
elseif( a > 0 )
{
    //MinVreg > MinFref, Do something
}
else
{
     //MinVreg = MinFref, Do something
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-17T11:46:05.067

为什么首先使用字符串？这是我跟踪版本的方式。

```
BOOL GetProductVersion(VS_FIXEDFILEINFO &fixedFileInfo, LPCTSTR szFileName)
{
    DWORD dwHandle = 0;
    DWORD dwLen = GetFileVersionInfoSize(szFileName, &dwHandle);
    if (dwLen == 0)
        return FALSE;

    LPSTR lpVI = new CHAR[dwLen];
    if (!lpVI)
        return FALSE;

    ZeroMemory(lpVI, dwLen);

    GetFileVersionInfo(szFileName, dwHandle, dwLen, lpVI);

    DWORD dwBufSize;
    VS_FIXEDFILEINFO* lpFFI;
    if (VerQueryValue(lpVI, "\\", (LPVOID*)&lpFFI, (PUINT)&dwBufSize))
    {
        fixedFileInfo = *lpFFI;
        delete [] lpVI;

        return TRUE;
    }

    delete [] lpVI;

    return FALSE;
}

CString GetProductVersionAsString(LPCTSTR szFileName)
{
    CString version;

    VS_FIXEDFILEINFO ffi;
    if (GetProductVersion(ffi, szFileName))
    {
        stringstream ss;
        ss << HIWORD(ffi.dwProductVersionMS) << '.';
        ss << LOWORD(ffi.dwProductVersionMS) << '.';
        ss << HIWORD(ffi.dwProductVersionLS);

        UINT beta = LOWORD(ffi.dwProductVersionLS);
        if (beta)
            ss << " beta" << beta;

        version = ss.str().c_str();
    }

    return version;
}

DWORD GetProductVersionAsInteger(LPCTSTR szFileName)
{
    DWORD version = 0;

    VS_FIXEDFILEINFO ffi;
    if (GetProductVersion(ffi, szFileName))
    {
        // Apply your number logic here!
        // This code is suitable for x.y.z
        version += 100 * HIWORD(ffi.dwProductVersionMS);
        version += 10 * LOWORD(ffi.dwProductVersionMS);
        version += HIWORD(ffi.dwProductVersionLS);
    }

    return version;
} 
```

因此，“1.0.2”变为 102。显然，更大的版本号需要其他乘数。

# java - 可能在清除 Jtable（运行时）之前删除 ListSelectionListener？

> ID：12928429
> 
> 赞同：1
> 
> 时间：2012-10-17T06:31:23.707
> 
> 标签：java, swing, file-io, jtable, listselectionlistener

我为我的 jTable 编写了一个 ListSelectionEvent。

它可以从特定单元格中获取值并将值放入对应于 jTextField 的单元格中。

因此，我将 CSV 文件上传到 jTable。它加载。

我单击底部标有“清除表”的按钮。表格被清除并创建了一个新的空白行（我无法绕过这样做。否则它不会让我加载另一个 CSV 文件）

我的问题 :: 我加载了另一个 CSV 文件。它加载。我选择一行，listSelectionEvent 触发，并按应有的方式执行。我单击“清除表”并引发此异常。

线程“AWT-EventQueue-0”中的异常 java.lang.ArrayIndexOutOfBoundsException：-1

在此之后，程序开始出现问题并需要关闭。调整窗口大小时，jTable 会清除。

在此先感谢您的帮助。

JB

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T07:28:23.143

在使用 对模型进行任何调用之前`table.getSelectedRow()`，应首先检查此值是否 >= 0。

# c# - C#阻塞等待响应

> ID：12928435
> 
> 赞同：2
> 
> 时间：2012-10-17T06:31:45.823
> 
> 标签：c#, .net, multithreading, events, blocking

我多次偶然发现这个问题，主要是用黑客解决它，但希望看到一个“适当”的方法来做到这一点。

我正在编写一个通信协议，与 RPC 非常相似，我的端点询问“查询”，他们收到“回复”。

现在......我想实现一个名为 SendCommand 的函数，它会发送一个查询，等待对该问题的答复，然后返回它。

所以我可以做类似的事情

```
int outside_temp = SendCommand(What is the temperature outside).ToInt(); 
```

这样做的问题是消息是异步发送和接收的，并且我会收到新消息到达的事件通知，以及它是什么。我需要阻塞线程，直到对上述查询的回复到达，提取其数据内容，并将其返回给调用者。

我的问题是阻塞线程。阻塞线程不是问题，我们说的是多线程应用程序，所以 UI 不会冻结等，但问题是实现这一点的正确方法是什么？

我正在考虑在 SendCommand 函数中初始化一个信号量，等待它，然后在收到的消息事件处理程序中释放信号量（在检查它是正确的消息之后）？

问候， axos88

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-17T09:55:12.400

所以你的问题是关于阻塞当前线程并等待答案？我会使用 ManualResetEvent 来同步调用者和回调。

假设您可以通过接受回调方法的对象的 Send 方法发送您的 rpc 调用，您可以`SendCommand`像这样编写您的方法：

```
int SendCommand(int param)
{
    ManualResetEvent mre = new ManualResetEvent(false);

    // this is the result which will be set in the callback
    int result = 0;

    // Send an async command with some data and specify a callback method
    rpc.SendAsync(data, (returnData) =>
                       {
                           // extract / process your return value and 
                           // assign it to an outer scope variable
                           result = returnData.IntValue;
                           // signal the blocked thread to continue
                           mre.Set();
                       });

    // wait for the callback
    mre.WaitOne();
    return result;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T06:35:15.917

您可以做的是，旋转一个调用 SendCommand(..) 的新线程，然后等待线程休眠，直到您的 SendCommand 发送信号。

例如：

```
volatile bool commandCompleted=false;
Thread sendCommandThread=new Thread(()=>{
   SendCommand(...,()=>{
 commandCompleted=true;
})

 while(!commandCompleted)
{

  Thread.Sleep(100);
}
}); 
```

# unit-testing - Visual Studio 2012 单元测试中的 .runsettings 文件是否有任何 xsd 架构可用？

> ID：12928436
> 
> 赞同：1
> 
> 时间：2012-10-17T06:31:45.727
> 
> 标签：unit-testing, configuration, xsd, visual-studio-2012, mstest

根据这篇 msdn 文章[http://msdn.microsoft.com/en-us/library/jj635153.aspx](http://msdn.microsoft.com/en-us/library/jj635153.aspx)，在 Visual Studio 2012 中，您需要使用名为 .runsettings 的 xml 文件来配置部署、代码覆盖率、框架设置等.

乍一看，这看起来很棒，因为您可以从任何测试适配器中挂钩适配器设置，例如 NUnit、MSTest、MBUnit 等。但是在我安装的 Visual Studio 2012 Premium 中，没有用于创建此文件的 xsd 架构，但当然有VS2010 .testsettings 文件的旧模式。（xmlns="http://microsoft.com/schemas/VisualStudio/TeamTest/2010" 又名 %programfiles%\Microsoft Visual Studio 11.0\Xml\Schemas\vstst.xsd）

除了上面链接中的示例之外，有没有人找到任何其他东西来创建运行设置文件？

您是否还找到了如何从 .runsettings 文件中引用旧版 VS2010 .testsettings 文件，因为在“SettingsFile”节点中没有具体说明它应该是相对的还是绝对的？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-31T11:15:24.350

我们还没有 .runsettings 文件的公共 xsd。

从 .runsettings 引用 .testsettings 文件的方法如下所示。您可以使用此文件的绝对路径和相对路径。

`<RunSettings> <MSTest> <SettingsFile>my.testsettings</SettingsFile> <ForcedLegacyMode>true</ForcedLegacyMode> </MSTest> </RunSettings>`

# python - 发送一行到打开的 CMD 窗口

> ID：12928440
> 
> 赞同：1
> 
> 时间：2012-10-17T06:31:49.633
> 
> 标签：python, windows, command-line, bcrypt

我在 .txt 文件中得到了一个假释列表，其中一个是`bcrypt`ed 文件的密钥。问题是，你不能只输入

```
bcrypt.exe somefile.bfe anotherfile.se key 
```

输出看起来像这样

```
bcrypt.exe somefiile.bfe anotherfile.se
Encryption key: 
```

顺便说一句，它应该是解密密钥，但没关系。

我可以通过 WINAPI 找到这个 CMD 窗口，但我不知道如何将字符串传递给它。

# java - 空指针异常。无法读取流

> ID：12928442
> 
> 赞同：2
> 
> 时间：2012-10-17T06:32:05.357
> 
> 标签：java, android

我正在尝试发出 http 请求以连接应用程序并执行身份验证程序。但我得到**NullpointerException**。连接对象无法获取流数据。这导致空指针异常。这是我的代码

```
String api="URL of the application";
    String query="format=json";

    //Necessary Variables
    String publicKey=publickey;
    String privateKey=privatekey;
    String email=uemail;
    String password=upassword;
    String algo="HmacSHA1";
    //identify Application
    long time=System.currentTimeMillis() / 1000;
    SecretKeySpec sks=new SecretKeySpec(privateKey.getBytes(),algo);
    try {
        Mac mac=Mac.getInstance(algo);
        mac.init(sks);
        String hash="";
        byte[] digest=mac.doFinal((query+time).getBytes());
        for (byte b : digest) {
            hash +=String.format("%02x", b);

        }
        //Make the request
        String url=api+"?"+query+"&apikey="+publicKey+"&hash="+hash+"&t="+time;
        Log.d("URL", "url: "+url);

        try {
            HttpsURLConnection c=(HttpsURLConnection) new URL(url.trim()).openConnection();
            c.setRequestProperty("Authorization","Basic "+DatatypeConverter.printBase64Binary((email+":"+password).getBytes()));
            InputStream iStream=null;
            try {

                ***iStream=c.getInputStream();***
            } catch (Exception e) {

                iStream=c.getErrorStream();
            }

            InputStreamReader iStreamReader=new InputStreamReader(iStream);
            BufferedReader bReader=new BufferedReader(iStreamReader);
            String result="";
            String line="";
            while ((line=bReader.readLine())!=null) {
                result +=line+"\n"; 
            }

        } catch (MalformedURLException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

    } catch (NoSuchAlgorithmException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (InvalidKeyException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } 
```

这是例外。

```
10-17 11:09:38.127: E/AndroidRuntime(864): FATAL EXCEPTION: main
10-17 11:09:38.127: E/AndroidRuntime(864): java.lang.NullPointerException
10-17 11:09:38.127: E/AndroidRuntime(864):  at libcore.net.http.HttpEngine.writeRequestHeaders(HttpEngine.java:646)
10-17 11:09:38.127: E/AndroidRuntime(864):  at libcore.net.http.HttpEngine.readResponse(HttpEngine.java:800)
10-17 11:09:38.127: E/AndroidRuntime(864):  at libcore.net.http.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:274)
10-17 11:09:38.127: E/AndroidRuntime(864):  at libcore.net.http.HttpURLConnectionImpl.getErrorStream(HttpURLConnectionImpl.java:100)
10-17 11:09:38.127: E/AndroidRuntime(864):  at libcore.net.http.HttpsURLConnectionImpl.getErrorStream(HttpsURLConnectionImpl.java:124)
10-17 11:09:38.127: E/AndroidRuntime(864):  at com.arc.distimoapp.LoginScreen.loginDistimo(LoginScreen.java:113)
10-17 11:09:38.127: E/AndroidRuntime(864):  at com.arc.distimoapp.LoginScreen$1.onClick(LoginScreen.java:62)
10-17 11:09:38.127: E/AndroidRuntime(864):  at android.view.View.performClick(View.java:4084)
10-17 11:09:38.127: E/AndroidRuntime(864):  at android.view.View$PerformClick.run(View.java:16966)
10-17 11:09:38.127: E/AndroidRuntime(864):  at android.os.Handler.handleCallback(Handler.java:615)
10-17 11:09:38.127: E/AndroidRuntime(864):  at android.os.Handler.dispatchMessage(Handler.java:92)
10-17 11:09:38.127: E/AndroidRuntime(864):  at android.os.Looper.loop(Looper.java:137)
10-17 11:09:38.127: E/AndroidRuntime(864):  at android.app.ActivityThread.main(ActivityThread.java:4745)
10-17 11:09:38.127: E/AndroidRuntime(864):  at java.lang.reflect.Method.invokeNative(Native Method)
10-17 11:09:38.127: E/AndroidRuntime(864):  at java.lang.reflect.Method.invoke(Method.java:511)
10-17 11:09:38.127: E/AndroidRuntime(864):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
10-17 11:09:38.127: E/AndroidRuntime(864):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
10-17 11:09:38.127: E/AndroidRuntime(864):  at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T04:56:12.117

我的代码中的一些修改使我达到了目的地。首先，我在 catch 正文中添加 e.printstacktrack。

```
try {
      Log.d(TAG, "Trying to get the input stream..");
      iStream=c.getInputStream();
    } catch (Exception e) {
      e.printStackTrace();
      iStream=c.getErrorStream();
} 
```

这让我知道了新的异常。这是

```
 android.os.NetworkOnMainThreadException .............. 
```

这个异常是通过把你的代码放在一个线程中来解决的

```
 Thread t = new Thread(){
            @Override
            public void run() {
                // TODO Auto-generated method stub
                try {
                    HttpsURLConnection c=(HttpsURLConnection) new URL(url.trim()).openConnection();

                    Log.d(TAG, "Parameter value is " + "Basic " + DatatypeConverter.printBase64Binary((email+":"+password).getBytes()));

                    c.setRequestProperty("Authorization","Basic "+DatatypeConverter.printBase64Binary((email+":"+password).getBytes()));
                    InputStream iStream=null;
                    try {
                        Log.d(TAG, "Trying to get the input stream..");

                        iStream=c.getInputStream();
                    } catch (Exception e) {

                        e.printStackTrace();

                        iStream=c.getErrorStream();
                    }

                    Log.d(TAG, "Trying to read...");
                    InputStreamReader iStreamReader=new InputStreamReader(iStream);

                    Log.d(TAG, "Buffering...");
                    BufferedReader bReader=new BufferedReader(iStreamReader);
                    String result="";
                    String line="";

                    Log.d(TAG, "About to parse results...");
                    while ((line=bReader.readLine())!=null) {
                        Log.d(TAG, "Line is " + line);
                        result +=line+"\n"; 

                    }

                    Log.d(TAG, "Output is:  " + result);

                } catch (MalformedURLException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                } catch (IOException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }                   

                super.run();
            }

        };

        t.start(); 
```

现在它工作正常。

# python - 折叠嵌套的数组数组

> ID：12928447
> 
> 赞同：1
> 
> 时间：2012-10-17T06:32:27.230
> 
> 标签：python, numpy

我想获取一个形状`(N,)`为 和`dtype=object`的数组，这些数组都具有相同的形状 ，`shape`，并创建一个具有 的数组`shape == (N,) + shape`。我想知道是否有人知道这样做的最佳方法。这是一个例子。

```
import numpy as np
array = np.empty(4, dtype=object)
array[:] = [np.ones([3, 2])]
array = np.array(array.tolist())
print array.dtype
# float64
print array.shape
# (4, 3, 2) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-22T09:47:54.557

如果您已经知道内部数组的形状（此处为`(3,2)`），则可以将整个过程简化为

```
subshape = (3,2)
a = np.empty(tuple([N,]+list(subshape)), dtype=object)
a[:] = np.ones(subshape) 
```

这将使您避免不必要的与列表之间的转换。

* * *

现在，假设您有一个`(N,)`对象数组`a`，其中每个元素都是一个`subshape`浮点数组，您可以这样做：

```
a = np.vstack(a)
a.shape = [N,] + list(subshape) 
```

或更简单地说：

```
a = np.array(a.tolist(), dtype=float) 
```

但是，`.tolist`转换可能不是很有效。

# c++ - “W”打印出 W，“W”打印出 $。为什么？

> ID：12928448
> 
> 赞同：-1
> 
> 时间：2012-10-17T06:32:47.670
> 
> 标签：c++, c, codeblocks

我是初学者。我不知道为什么？我正在使用 Code::Blocks。请阅读以下代码：

![在此处输入图像描述](../Images/968ddfa8b7c63a2a5b9cf0142ccbf37c.png)
![在此处输入图像描述](../Images/e06935e80f482fbf994d19339bb7357c.png)
![在此处输入图像描述](../Images/1f6f2a42423f22cedd03f14b47ec7292.png)
![在此处输入图像描述](../Images/60126c506af49909c19e9aeef841e4db.png)

如果 q= **'** W **'**，它会打印出**W**。
如果 q= **"** W **"**，它会打印出**$**。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-17T06:35:40.070

文字`"W"`不是单个，而是由和`char`组成的以空字符结尾的字符串。`'W'``'\0'`

通过分配给 a`const char*`并使用打印来获得所需行为的一种方法`%s`

```
const char* q = "W";
printf("%s", q); 
```

正如评论中所指出的，您可以通过提高编译器的警告级别来捕获此类错误。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-17T06:40:38.080

陈述

```
char q = "W"; 
```

接受字符串字面*量的地址，并将地址的值*`"W"`转换为，即，将地址的最低有效字节分配给。*`char``c`*

 *在您的情况下，的地址`"W"`可能是 eg `0x12345624`，并且它被转换为`0x24`，即`'$'`。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-17T06:36:06.787

```
char q = "W"; 
```

打开警告级别，你的编译器应该抱怨这个。`'W'`不是一个字符，它是一个字符串文字，它的类型是 char[2]（两个字符的数组，一个 'W' 和 '\0'。）它衰减到指向它的第一个字符的指针，然后转换为`char`，恰好转换为'$'的ascii值。

要打印字符串文字，正确的格式说明符是`%s`.*

# java - 使用方法在 Java 列表中搜索匹配项

> ID：12928451
> 
> 赞同：3
> 
> 时间：2012-10-17T06:32:53.130
> 
> 标签：java, string, list, methods

我正在尝试创建一个程序，该程序将使用名为“防弹”的程序包从用户那里获取输入（完成，工作正常），但是当我找到匹配项时出现无限循环错误。我有点不知所措，我觉得我不太理解我的代码为什么不起作用。我不是在寻找直接的答案，因为我正在努力学习这一点，但任何帮助都将不胜感激。谢谢，我的代码如下。

--edit-- 我得到了程序的工作。谢谢大家的帮助，你们太棒了。

```
import bulletproof.*;

public class A26_1 {
public static void main(String[] args) {
    BPScanner kb = new BPScanner();
    String reservedWordToCheck = kb.getStringFromUser("Enter a word to see if it's reserved or enter leave: ");

    System.out.println(ReservedWordChecker(reservedWordToCheck));
}

public static String ReservedWordChecker(String reservedWordToCheck) {
    String[] table = {
            "abstract", "assert", "boolean", "break", "byte", "case", "catch", "char", "class", "const",
            "continue", "default", "do", "double", "enum", "extends", "final", "finally", "float",
            "for", "goto", "if", "implements", "import", "instanceof", "int", "interface", "long", "native",
            "new", "package", "private", "protected", "public", "return", "short", "static", "strictfp", "super",
            "switch", "synchronized", "this", "throw", "throws", "transient", "try", "void", "volatile", "while"
        };

    while (true) {                      
        if (reservedWordToCheck.equalsIgnoreCase("leave"))
            break;                
        boolean found = false;

        for (int i=0; i < table.length; i++) {
            if (reservedWordToCheck.equalsIgnoreCase(table[i])) {
                found = true;
                break;
            }               
            if (found)
                System.out.println("Yeah, " + reservedWordToCheck + ", is reserved as a Java identifier.");
            else
                System.out.println("Nope, the word " + reservedWordToCheck + ", isn't reserved. Go hog wild.");                      
        }      
        System.out.println("OK BYE");
    } return reservedWordToCheck;
} 
```

}

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-17T06:38:41.453

我认为最简单的方法是 -

```
public static boolean ReservedWordChecker(String reservedWordToCheck) {
    String[] table = {
            "abstract", "assert", "boolean", "break", "byte", "case", "catch", "char", "class", "const",
            "continue", "default", "do", "double", "enum", "extends", "final", "finally", "float",
            "for", "goto", "if", "implements", "import", "instanceof", "int", "interface", "long", "native",
            "new", "package", "private", "protected", "public", "return", "short", "static", "strictfp", "super",
            "switch", "synchronized", "this", "throw", "throws", "transient", "try", "void", "volatile", "while"
        };

       for (String data : table) {
            if (reservedWordToCheck.equalsIgnoreCase(data)) {
                return true;
            }
        }
      return false;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T06:36:51.593

您需要在`for`循环之外编写以下代码，因为`for`当您获得匹配时您会中断但您的`while`循环继续运行

```
 if (found){
            System.out.println("Yeah, " + reservedWordToCheck + ", is reserved as a Java identifier.");
            break;
 }
 else{
            System.out.println("Nope, the word " + reservedWordToCheck + ", isn't reserved. Go hog wild.");
            break;
 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T06:37:22.950

找到匹配项后，您并没有退出 while 循环：-

您应该将您的`if-else`移出`for-loop`并添加 break 到您的`if`，这将破坏您`while`是否找到匹配项：-

```
for (int i=0; i < table.length; i++) {
    if (reservedWordToCheck.equalsIgnoreCase(table[i])) {
        found = true;
        break;
    }
} 
if (found) {
     System.out.println("Yeah, " + reservedWordToCheck + 
                        ", is reserved as a Java identifier.");
     break;
} else {
     System.out.println("Nope, the word " + reservedWordToCheck + 
                        ", isn't reserved);
     break;
} 
```

但我不明白，为什么你需要一个`while`循环。它有点毫无意义。你`for-loop`足够做你想做的事。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-17T06:37:25.067

内循环不打破循环`break`。因此，while 循环无限继续。`for``for``while`

查看更改，我已经完成了，它应该可以正常工作。

```
while (true) 
{
    .......
    .......

for (int i=0; i < table.length; i++) 
{                
    if (reservedWordToCheck.equalsIgnoreCase(table[i])) 
    {                    
        found = true; 
        break; // remove break from here          
    }

    if (found)                    
    {
        System.out.println("Yeah, " + reservedWordToCheck + ", is reserved as a Java identifier.");
        break;
    }                                  
} // end for
if(found)
{
    System.out.println("OK BYE");
}
else                    
{
    System.out.println("Nope, the word " + reservedWordToCheck + ", isn't reserved. Go hog wild.");
}
break;
} // end while 
```

但是，您不需要`while(true)`构造来检查这一点。只有`for`意志就足够了。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-17T06:48:22.490

那是因为您未标记的 break 仅完成 for 语句，但 while(true) 将继续迭代。

解决方案可以使用如下标记的中断：

```
 search: 
  while (true) {                      
        if (reservedWordToCheck.equalsIgnoreCase("leave"))           
           break;                
        boolean found = false;

        for (int i=0; i < table.length; i++) {
            if (reservedWordToCheck.equalsIgnoreCase(table[i])) {
                found = true;
                break search;
            }               
            if (found)
                System.out.println("Yeah, " + reservedWordToCheck + ", is reserved as a Java identifier.");
            else
                System.out.println("Nope, the word " + reservedWordToCheck + ", isn't reserved. Go hog wild.");                      
        }      
        System.out.println("OK BYE");
    } return reservedWordToCheck; 
```

欲了解更多信息，请阅读：[http ://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-17T06:42:53.663

你没有在正确的位置打破：

```
for (int i=0; i < table.length; i++) {
    if (reservedWordToCheck.equalsIgnoreCase(table[i])) {
        found = true;
        break; <--
    }               
    if (found)
        System.out.println("Yeah, " + reservedWordToCheck + ", is reserved as a Java identifier.");
    else
        System.out.println("Nope, the word " + reservedWordToCheck + ", isn't reserved. Go hog wild.");                      
} 
```

当找到这个词时，你跳出 for 循环，除了 . 之外什么都不显示`OK BYE`。

此外，我不明白你为什么在那里放一个无限循环？

像这样的东西会起作用：

```
public static String ReservedWordChecker(String reservedWordToCheck) {
    String[] table = { ... };

    if (reservedWordToCheck.equalsIgnoreCase("leave")) {
        break;
    }

    boolean found = false;
    for (String entry : table) {
        if (entry.equalsIgnoreCase(reservedWordToCheck)) {
            found = true;
            break;
        }
    }

    if (found) {
        System.out.println("Yeah, " + reservedWordToCheck + ", is reserved as a Java identifier.");
    } else {
        System.out.println("Nope, the word " + reservedWordToCheck + ", isn't reserved. Go hog wild.");                      
    }
    System.out.println("OK BYE");
    return reservedWordToCheck;
} 
```

}

# android - nutiteq 地图：奇怪的地图触摸行为在 ScrollView 容器中

> ID：12928454
> 
> 赞同：2
> 
> 时间：2012-10-17T06:33:24.580
> 
> 标签：android, android-maps

我正在使用[nutiteq](https://github.com/nutiteq/hellomap3d)地图。我使用这张地图制作了一个示例应用程序，它可以正常工作。
但是，当我将地图放入 ScrollView 容器中时，它的行为会变得很奇怪，就像我触摸地图进行导航时一样，它会意外地缩小和放大等等。
只有当我将地图放入滚动视图容器时才会发生这种情况。在另一种观点中，它可以正常工作。
我想将它与滚动视图容器一起使用，但由于这个问题我不能。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-21T07:52:08.433

ScrollView 有一些特殊的触摸事件和状态（如取消触摸），在早期版本中没有处理，但如果您使用最新版本，则会处理。

您可能会得到的另一个 ScrollView 问题是，在某些平移后取消滚动，因为 View/Layout 控制器认为用户想要滚动整个视图，因此 MapView 没有获得必要的事件，它只是取消了触摸。也许这可以通过 Android 视图参数来解决。

# android - mvn 包可以从零开始生成 Android .apk 吗？

> ID：12928456
> 
> 赞同：2
> 
> 时间：2012-10-17T06:33:30.957
> 
> 标签：android, maven-3

我希望能够检查我的 Android 应用程序项目并执行“mvn 包”并获得一个 .apk 而不必：

1.  手动“android更新sdk”，和
2.  在我的本地 maven 存储库中手动粘贴 jar。

有没有可以做到这一点的插件（或插件）？

目前，我必须先做各种“android update sdk”，然后使用[https://github.com/mosabua/maven-android-sdk-deployer](https://github.com/mosabua/maven-android-sdk-deployer)将 jar 文件粘贴到我的本地 repo 中，以便 Maven 找到它们。

（这似乎是一个以前应该问过很多次的问题，但我的搜索失败了。）

编辑：对不起，我的错。我现在应该知道没有源代码的问题是不完整的。是的，有地图依赖项。此外，据我所知，罐子的选择相当有限。例如，这里似乎没有 4.0.3 jar：[http ://search.maven.org/#search|gav|1|g%3A%22com.google.android%22%20AND%20a%3A%22android %22](http://search.maven.org/#search|gav|1|g%3A%22com.google.android%22%20AND%20a%3A%22android%22)

我当前的依赖项：

```
 <dependency>
        <groupId>android</groupId>
        <artifactId>android</artifactId>
        <version>4.0.3_r3</version>
        <scope>provided</scope>
    </dependency>

    <dependency>
        <groupId>com.google.android.maps</groupId>
        <artifactId>maps</artifactId>
        <version>15_r2</version>
        <scope>provided</scope>
    </dependency> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:39:35.503

除非您的目标是 Honeycomb，否则这不是必需的。最新版本的 SDK 库已在中央存储库中提供。甚至 SDK 部署者 README 也是这么说的：

> ATTENTION! Currently some android.jar artifacts are available in Maven central and unless you use maps or usb related dependencies, android 3.0+, the compatibility library jar files or insist on using the original jar files from the local SDK install, you might not need this tool anymore.

# session - SMPP 会话序列 ID 最大值

> ID：12928460
> 
> 赞同：2
> 
> 时间：2012-10-17T06:34:02.027
> 
> 标签：session, networking, tcp, smpp

我有一个 SMPP 适配器，它将 24/7 连接到消息传递网关，并且会话序列号按顺序增加。

这个序列 id 是否有最大值？达到最大值后会发生什么？会自动归零吗？

或者我是否需要重置连接来控制这个序列 ID。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T11:43:59.347

我总是给自己提出同样的问题。

在 SMPP 中，序列号的范围可以从`0x00000001`( `0x7FFFFFFF`1 到 32767) - 它相当于一个带正符号的 16 位整数。

对于每个提交的 SMPP 请求，序列号应单调增加，如果达到最大值，则应将其重置为`0x00000001`.

有关更多详细信息，您可以查看[SMPP v3.4 规范](http://docs.nimta.com/SMPP_v3_4_Issue1_2.pdf)- 第 5.1.4 章和[SMPP v5.0 规范](http://docs.nimta.com/smppv50.pdf)- 第 4.7.24 章。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-08-26T12:39:51.417

规范指出，*SMPPP 3.4*和*SMPP 3.5*的序列号范围可能在**1**和**2147483647 之间**。一旦 sequence_number 达到最大值，它应该从最小值重新开始。

规范规定序列号用 4 个八位字节定义，因此理论上（和实践中）运算符可以使用大于 2147483647 *(2^31 -1)*的数字，将其推到指定范围之外。

根据*SMMPP 3.4*和*SMPP 5.0*规范：

> sequence_number 的范围可以是：0x00000001 到 0x7FFFFFFF。
> 
> **序列号**
> 
> *   八位字节大小：4
>     
>     
> *   类型：整数
>     
>     
> 
> 对于如何设置 sequence_number 没有具体要求。但是，建议序列号是单调递增的数字。

# typescript - 为什么打字稿编译器会在以哈希字符开头的 .ts 文件上静默退出？

> ID：12928461
> 
> 赞同：2
> 
> 时间：2012-10-17T06:34:01.663
> 
> 标签：typescript

如果我编译以下文件

**测试.ts**

```
#   
class Test {
} 
```

和

```
tsc test.ts 
```

不产生输出文件，编译器不给出任何警告或错误。在打开调试的情况下运行编译器

```
tsc --debug test.ts 
```

产生以下输出：

```
Reading code from /usr/local/share/npm/lib/node_modules/typescript/bin/lib.d.ts
Found code at /usr/local/share/npm/lib/node_modules/typescript/bin/lib.d.ts
Reading code from /tmp/ts/directives/test.ts
Found code at /tmp/ts/directives/test.ts 
```

如果我将哈希线放在类声明之后

**测试2.ts**

```
class Test {
}
# 
```

编译器不报告错误并生成输出文件

**test2.js**

```
var Test = (function () {
    function Test() { }
    return Test;
})(); 
```

这里发生了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-17T16:09:58.147

这只是一个错误。如您所料，这应该是一个错误。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-17T17:09:22.597

这已在开发人员分支 (0.8) 上修复。@ 或# 等字符不再阻塞编译。请检查最新的编译器。

# sql-server - 有时使用 Linq to EF 得到 Timeout expired 异常，并且在重新启动服务器后，它工作正常

> ID：12928463
> 
> 赞同：2
> 
> 时间：2012-10-17T06:34:02.973
> 
> 标签：sql-server, asp.net-mvc, linq, entity-framework, sql-server-2008-r2

我在 rackspace 云服务器上托管了我的网站。

有时我在从数据库中获取记录时遇到以下异常。奇怪的是，在重新启动后的几天内一切正常，而且我只在少数地方而不是所有地方都得到了这个异常。

```
Exception: Timeout expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.

Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code.

Exception Details: System.Data.SqlClient.SqlException: Timeout expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.

Stack Trace:

[SqlException (0x80131904): Timeout expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.]
   System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection) +404
   System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning() +412
   System.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj) +1363
   System.Data.SqlClient.SqlDataReader.ConsumeMetaData() +59
   System.Data.SqlClient.SqlDataReader.get_MetaData() +118
   System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString) +6387937
   System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async) +6389506
   System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, DbAsyncResult result) +538
   System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method) +28
   System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method) +256
   System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior) +19
   System.Data.EntityClient.EntityCommandDefinition.ExecuteStoreCommands(EntityCommand entityCommand, CommandBehavior behavior) +553

[EntityCommandExecutionException: An error occurred while executing the command definition. See the inner exception for details.]
   DataAccessLayer.dbCustomer.CompanyCustomerByLocationId(String sortExpression, Boolean asc, String nameSearchString, Int32 startRowIndex, Int32 maximumRows, Int32& TotalRecord, Int64 companyId) in D:\Dotnet Projects\FutureZoom\FutureZoom\DataAccessLayer\dbCustomer.cs:508
   BusinessLogic.Customer.CompanyCustomerByLocationId(String sortExpression, Boolean asc, String nameSearchString, Int32 startRowIndex, Int32 maximumRows, Int64 CompanyId) in D:\Dotnet Projects\FutureZoom\FutureZoom\BusinessLogic\Customer.cs:431
   FutureZoom.Areas.Admin.Controllers.CompanyController.CustomerPaging(Int32 StartIndex, Int32 PageSize, String SortExp, Boolean Asc, String SearchExp, String Where) in D:\Dotnet Projects\FutureZoom\FutureZoom\FutureZoom\Areas\Admin\Controllers\CompanyController.cs:552
   lambda_method(Closure , ControllerBase , Object[] ) +362
   System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters) +248
   System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters) +39
   System.Web.Mvc.<>c__DisplayClass15.<InvokeActionMethodWithFilters>b__12() +125
   System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodFilter(IActionFilter filter, ActionExecutingContext preContext, Func`1 continuation) +640
   System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodWithFilters(ControllerContext controllerContext, IList`1 filters, ActionDescriptor actionDescriptor, IDictionary`2 parameters) +312
   System.Web.Mvc.ControllerActionInvoker.InvokeAction(ControllerContext controllerContext, String actionName) +691
   System.Web.Mvc.Controller.ExecuteCore() +162
   System.Web.Mvc.ControllerBase.Execute(RequestContext requestContext) +305
   System.Web.Mvc.<>c__DisplayClassb.<BeginProcessRequest>b__5() +62
   System.Web.Mvc.Async.<>c__DisplayClass1.<MakeVoidDelegate>b__0() +20
   System.Web.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute() +469
   System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously) +375 
```

下面提到了我的 Linq 查询

```
query = context.Customers.Include("Company").Include("Company.EmailCampaignerStatus")
                                           .OrderBy(m => m.EmailCampaignerStatus.FirstOrDefault().CreatedOn)                                           
                                           .Where(m => m.FirstName.StartsWith(name) || m.LastName.StartsWith(name) || m.Email.StartsWith(name) || (m.FirstName + " " + m.LastName).StartsWith(name))
                                           .Where(m => m.CompanyId == companyId)
                                           .Where(m => m.CompanyLocationId == locationId)
                                           .Skip(startRowIndex == 0 ? startRowIndex : startRowIndex - 1)
                                           .Take(maximumRows)
                                           .ToList(); 
```

此查询的执行时间在我的本地计算机上甚至不是 1 秒，并且在重新启动后在服务器端也是相同的，但是执行时间每天都在增加，并且在几天后无法执行（有时会失败，有时会给出结果）。

我观察到它花费了 31.05 秒并且失败了，它花费了 51.09 秒并且失败了。有时需要超过 2 分钟并给出结果。

我与 rackspace 的人交谈过，但他们无法追踪相同的实际原因。

编辑 1：我在 SQL Profiler 中看到以下针对我的分页查询的查询

```
SELECT 
[Project3].[Id1] AS [Id], 
[Project3].[C1] AS [C1], 
[Project3].[Id] AS [Id1], 
[Project3].[CompanyId] AS [CompanyId], 
[Project3].[CompanyLocationId] AS [CompanyLocationId], 
[Project3].[FirstName] AS [FirstName], 
[Project3].[LastName] AS [LastName], 
[Project3].[Email] AS [Email], 
[Project3].[Address1] AS [Address1], 
[Project3].[Address2] AS [Address2], 
[Project3].[City] AS [City], 
[Project3].[State] AS [State], 
[Project3].[Country] AS [Country], 
[Project3].[Zip] AS [Zip], 
[Project3].[Phone] AS [Phone], 
[Project3].[SaleDate] AS [SaleDate], 
[Project3].[Notes] AS [Notes], 
[Project3].[Cost] AS [Cost], 
[Project3].[CreatedOn] AS [CreatedOn], 
[Project3].[ModifiedOn] AS [ModifiedOn], 
[Project3].[PrimaryReviewSiteId] AS [PrimaryReviewSiteId], 
[Project3].[Id2] AS [Id2], 
[Project3].[SubscriptionTypeId] AS [SubscriptionTypeId], 
[Project3].[PlanFeeAmount] AS [PlanFeeAmount], 
[Project3].[LoginId] AS [LoginId], 
[Project3].[IndustryTypeId] AS [IndustryTypeId], 
[Project3].[CompanyName] AS [CompanyName], 
[Project3].[NumberOfLocations] AS [NumberOfLocations], 
[Project3].[LogoImageName] AS [LogoImageName], 
[Project3].[WebsiteUrl] AS [WebsiteUrl], 
[Project3].[blsActive] AS [blsActive], 
[Project3].[Pending] AS [Pending], 
[Project3].[ExpiryDate] AS [ExpiryDate], 
[Project3].[C2] AS [C2], 
[Project3].[Id3] AS [Id3], 
[Project3].[UploadTicketId] AS [UploadTicketId], 
[Project3].[UploadStatus] AS [UploadStatus], 
[Project3].[CompanyId1] AS [CompanyId1], 
[Project3].[CompanyLocationId1] AS [CompanyLocationId1], 
[Project3].[CustomerId] AS [CustomerId], 
[Project3].[CreatedOn2] AS [CreatedOn1]
FROM ( SELECT 
    [Limit2].[Id] AS [Id], 
    [Limit2].[CompanyId] AS [CompanyId], 
    [Limit2].[CompanyLocationId] AS [CompanyLocationId], 
    [Limit2].[FirstName] AS [FirstName], 
    [Limit2].[LastName] AS [LastName], 
    [Limit2].[Email] AS [Email], 
    [Limit2].[Address1] AS [Address1], 
    [Limit2].[Address2] AS [Address2], 
    [Limit2].[City] AS [City], 
    [Limit2].[State] AS [State], 
    [Limit2].[Country] AS [Country], 
    [Limit2].[Zip] AS [Zip], 
    [Limit2].[Phone] AS [Phone], 
    [Limit2].[SaleDate] AS [SaleDate], 
    [Limit2].[Notes] AS [Notes], 
    [Limit2].[Cost] AS [Cost], 
    [Limit2].[CreatedOn] AS [CreatedOn], 
    [Limit2].[ModifiedOn] AS [ModifiedOn], 
    [Limit2].[PrimaryReviewSiteId] AS [PrimaryReviewSiteId], 
    [Limit2].[Id1] AS [Id1], 
    [Limit2].[CreatedOn1] AS [CreatedOn1], 
    [Limit2].[Id2] AS [Id2], 
    [Limit2].[SubscriptionTypeId] AS [SubscriptionTypeId], 
    [Limit2].[PlanFeeAmount] AS [PlanFeeAmount], 
    [Limit2].[LoginId] AS [LoginId], 
    [Limit2].[IndustryTypeId] AS [IndustryTypeId], 
    [Limit2].[CompanyName] AS [CompanyName], 
    [Limit2].[NumberOfLocations] AS [NumberOfLocations], 
    [Limit2].[WebsiteUrl] AS [WebsiteUrl], 
    [Limit2].[blsActive] AS [blsActive], 
    [Limit2].[Pending] AS [Pending], 
    [Limit2].[ExpiryDate] AS [ExpiryDate], 
    [Limit2].[LogoImageName] AS [LogoImageName], 
    [Limit2].[C1] AS [C1], 
    [Extent4].[Id] AS [Id3], 
    [Extent4].[UploadTicketId] AS [UploadTicketId], 
    [Extent4].[UploadStatus] AS [UploadStatus], 
    [Extent4].[CompanyId] AS [CompanyId1], 
    [Extent4].[CompanyLocationId] AS [CompanyLocationId1], 
    [Extent4].[CustomerId] AS [CustomerId], 
    [Extent4].[CreatedOn] AS [CreatedOn2], 
    CASE WHEN ([Extent4].[Id] IS NULL) THEN CAST(NULL AS int) ELSE 1 END AS [C2]
    FROM   (SELECT TOP (20) [Project2].[Id] AS [Id], [Project2].[CompanyId] AS [CompanyId], [Project2].[CompanyLocationId] AS [CompanyLocationId], [Project2].[FirstName] AS [FirstName], [Project2].[LastName] AS [LastName], [Project2].[Email] AS [Email], [Project2].[Address1] AS [Address1], [Project2].[Address2] AS [Address2], [Project2].[City] AS [City], [Project2].[State] AS [State], [Project2].[Country] AS [Country], [Project2].[Zip] AS [Zip], [Project2].[Phone] AS [Phone], [Project2].[SaleDate] AS [SaleDate], [Project2].[Notes] AS [Notes], [Project2].[Cost] AS [Cost], [Project2].[CreatedOn] AS [CreatedOn], [Project2].[ModifiedOn] AS [ModifiedOn], [Project2].[PrimaryReviewSiteId] AS [PrimaryReviewSiteId], [Project2].[Id1] AS [Id1], [Project2].[CreatedOn1] AS [CreatedOn1], [Project2].[Id2] AS [Id2], [Project2].[SubscriptionTypeId] AS [SubscriptionTypeId], [Project2].[PlanFeeAmount] AS [PlanFeeAmount], [Project2].[LoginId] AS [LoginId], [Project2].[IndustryTypeId] AS [IndustryTypeId], [Project2].[CompanyName] AS [CompanyName], [Project2].[NumberOfLocations] AS [NumberOfLocations], [Project2].[WebsiteUrl] AS [WebsiteUrl], [Project2].[blsActive] AS [blsActive], [Project2].[Pending] AS [Pending], [Project2].[ExpiryDate] AS [ExpiryDate], [Project2].[LogoImageName] AS [LogoImageName], [Project2].[C1] AS [C1]
        FROM ( SELECT [Project2].[Id] AS [Id], [Project2].[CompanyId] AS [CompanyId], [Project2].[CompanyLocationId] AS [CompanyLocationId], [Project2].[FirstName] AS [FirstName], [Project2].[LastName] AS [LastName], [Project2].[Email] AS [Email], [Project2].[Address1] AS [Address1], [Project2].[Address2] AS [Address2], [Project2].[City] AS [City], [Project2].[State] AS [State], [Project2].[Country] AS [Country], [Project2].[Zip] AS [Zip], [Project2].[Phone] AS [Phone], [Project2].[SaleDate] AS [SaleDate], [Project2].[Notes] AS [Notes], [Project2].[Cost] AS [Cost], [Project2].[CreatedOn] AS [CreatedOn], [Project2].[ModifiedOn] AS [ModifiedOn], [Project2].[PrimaryReviewSiteId] AS [PrimaryReviewSiteId], [Project2].[Id1] AS [Id1], [Project2].[CreatedOn1] AS [CreatedOn1], [Project2].[Id2] AS [Id2], [Project2].[SubscriptionTypeId] AS [SubscriptionTypeId], [Project2].[PlanFeeAmount] AS [PlanFeeAmount], [Project2].[LoginId] AS [LoginId], [Project2].[IndustryTypeId] AS [IndustryTypeId], [Project2].[CompanyName] AS [CompanyName], [Project2].[NumberOfLocations] AS [NumberOfLocations], [Project2].[WebsiteUrl] AS [WebsiteUrl], [Project2].[blsActive] AS [blsActive], [Project2].[Pending] AS [Pending], [Project2].[ExpiryDate] AS [ExpiryDate], [Project2].[LogoImageName] AS [LogoImageName], [Project2].[C1] AS [C1], row_number() OVER (ORDER BY [Project2].[CreatedOn1] ASC) AS [row_number]
            FROM ( SELECT 
                [Filter1].[Id] AS [Id], 
                [Filter1].[CompanyId] AS [CompanyId], 
                [Filter1].[CompanyLocationId] AS [CompanyLocationId], 
                [Filter1].[FirstName] AS [FirstName], 
                [Filter1].[LastName] AS [LastName], 
                [Filter1].[Email] AS [Email], 
                [Filter1].[Address1] AS [Address1], 
                [Filter1].[Address2] AS [Address2], 
                [Filter1].[City] AS [City], 
                [Filter1].[State] AS [State], 
                [Filter1].[Country] AS [Country], 
                [Filter1].[Zip] AS [Zip], 
                [Filter1].[Phone] AS [Phone], 
                [Filter1].[SaleDate] AS [SaleDate], 
                [Filter1].[Notes] AS [Notes], 
                [Filter1].[Cost] AS [Cost], 
                [Filter1].[CreatedOn] AS [CreatedOn], 
                [Filter1].[ModifiedOn] AS [ModifiedOn], 
                [Filter1].[PrimaryReviewSiteId] AS [PrimaryReviewSiteId], 
                [Limit1].[Id] AS [Id1], 
                [Limit1].[CreatedOn] AS [CreatedOn1], 
                [Extent3].[Id] AS [Id2], 
                [Extent3].[SubscriptionTypeId] AS [SubscriptionTypeId], 
                [Extent3].[PlanFeeAmount] AS [PlanFeeAmount], 
                [Extent3].[LoginId] AS [LoginId], 
                [Extent3].[IndustryTypeId] AS [IndustryTypeId], 
                [Extent3].[CompanyName] AS [CompanyName], 
                [Extent3].[NumberOfLocations] AS [NumberOfLocations], 
                [Extent3].[WebsiteUrl] AS [WebsiteUrl], 
                [Extent3].[blsActive] AS [blsActive], 
                [Extent3].[Pending] AS [Pending], 
                [Extent3].[ExpiryDate] AS [ExpiryDate], 
                [Extent3].[LogoImageName] AS [LogoImageName], 
                1 AS [C1]
                FROM    (SELECT [Extent1].[Id] AS [Id], [Extent1].[CompanyId] AS [CompanyId], [Extent1].[CompanyLocationId] AS [CompanyLocationId], [Extent1].[FirstName] AS [FirstName], [Extent1].[LastName] AS [LastName], [Extent1].[Email] AS [Email], [Extent1].[Address1] AS [Address1], [Extent1].[Address2] AS [Address2], [Extent1].[City] AS [City], [Extent1].[State] AS [State], [Extent1].[Country] AS [Country], [Extent1].[Zip] AS [Zip], [Extent1].[Phone] AS [Phone], [Extent1].[SaleDate] AS [SaleDate], [Extent1].[Notes] AS [Notes], [Extent1].[Cost] AS [Cost], [Extent1].[CreatedOn] AS [CreatedOn], [Extent1].[ModifiedOn] AS [ModifiedOn], [Extent1].[PrimaryReviewSiteId] AS [PrimaryReviewSiteId]
                    FROM [dbo].[Customer] AS [Extent1]
                    WHERE (([Extent1].[FirstName] LIKE @p__linq__0 ESCAPE N'~') OR ([Extent1].[LastName] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Email] LIKE @p__linq__2 ESCAPE N'~') OR ([Extent1].[FirstName] + N' ' + [Extent1].[LastName] LIKE @p__linq__3 ESCAPE N'~')) AND ([Extent1].[CompanyId] = @p__linq__4) AND ([Extent1].[CompanyLocationId] = @p__linq__5) ) AS [Filter1]
                OUTER APPLY  (SELECT TOP (1) 
                    [Extent2].[Id] AS [Id], 
                    [Extent2].[CreatedOn] AS [CreatedOn]
                    FROM [dbo].[EmailCampaignerStatus] AS [Extent2]
                    WHERE [Filter1].[Id] = [Extent2].[CustomerId] ) AS [Limit1]
                LEFT OUTER JOIN [dbo].[Company] AS [Extent3] ON [Filter1].[CompanyId] = [Extent3].[Id]
            )  AS [Project2]
        )  AS [Project2]
        WHERE [Project2].[row_number] > 0
        ORDER BY [Project2].[CreatedOn1] ASC ) AS [Limit2]
    LEFT OUTER JOIN [dbo].[EmailCampaignerStatus] AS [Extent4] ON [Limit2].[CompanyId] = [Extent4].[CompanyId]
)  AS [Project3]
ORDER BY [Project3].[CreatedOn1] ASC, [Project3].[Id1] ASC, [Project3].[Id] ASC, [Project3].[Id2] ASC, [Project3].[C2] ASC

SELECT 
[GroupBy1].[A1] AS [C1]
FROM ( SELECT 
    COUNT(1) AS [A1]
    FROM [dbo].[Customer] AS [Extent1]
    WHERE (([Extent1].[FirstName] LIKE @p__linq__0 ESCAPE N'~') OR ([Extent1].[LastName] LIKE @p__linq__1 ESCAPE N'~') OR ([Extent1].[Email] LIKE @p__linq__2 ESCAPE N'~') OR ([Extent1].[FirstName] + N' ' + [Extent1].[LastName] LIKE @p__linq__3 ESCAPE N'~')) AND ([Extent1].[CompanyId] = @p__linq__4) AND ([Extent1].[CompanyLocationId] = @p__linq__5)
)  AS [GroupBy1]

SELECT 
CASE WHEN ( EXISTS (SELECT 
    1 AS [C1]
    FROM [dbo].[CompanyReviewSites] AS [Extent1]
    WHERE [Extent1].[CompanyLocationId] = @p__linq__0
)) THEN cast(1 as bit) WHEN ( NOT EXISTS (SELECT 
    1 AS [C1]
    FROM [dbo].[CompanyReviewSites] AS [Extent2]
    WHERE [Extent2].[CompanyLocationId] = @p__linq__0
)) THEN cast(0 as bit) END AS [C1]
FROM  ( SELECT 1 AS X ) AS [SingleRowTable1]

SELECT 
1 AS [C1], 
[Extent1].[Id] AS [Id], 
[Extent1].[RiviewSiteId] AS [RiviewSiteId], 
[Extent1].[URL] AS [URL], 
[Extent1].[CompanyId] AS [CompanyId], 
[Extent1].[CompanyLocationId] AS [CompanyLocationId], 
[Extent2].[Id] AS [Id1], 
[Extent2].[ReviewSiteName] AS [ReviewSiteName], 
[Extent2].[ImageName] AS [ImageName]
FROM  [dbo].[CompanyReviewSites] AS [Extent1]
INNER JOIN [dbo].[ReviewSites] AS [Extent2] ON [Extent1].[RiviewSiteId] = [Extent2].[Id]
WHERE [Extent1].[CompanyLocationId] = @p__linq__0 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T06:06:22.130

这可能有很多原因：

*   来自失败事务的锁
*   索引问题
*   如果它是共享服务器，则来自另一个应用程序的资源竞争
*   备份不清除事务日志
*   相关磁盘空间问题

您是否能够获取 SQL 服务器日志、查看活动监视器或运行 SQL 分析器。根据我的经验，这样的问题很难追查，所以只能祝你好运

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-06T21:57:35.523

当我遇到类似的问题时；我们的服务器实际上是在索引每个查询之后。此外，在整个公司大量使用之后，它随机出现了类似的问题。我通过以下方式解决了它：

处理临时对象/包装在 using 语句中。这使我可以保留内存中存储的任何对象、查询或任何数据以进行转储。

另一个问题；我们的一位开发人员在整个应用程序中不断打开/关闭连接。我试图创建用法；打开它一次，然后一次完成所有需要的任务。它可能会强制进行一些重新设计；但它使它更健壮。甚至不在每个单独的班级中打开/关闭；但是，当您准备好提交它，然后在课程开放时添加那些所需的课程也可能会有所帮助。

下一个难题是验证所有缓存的项目都已清除。因此，您不必经常存储它。

另一个项目是更改我们的 Windows 虚拟机索引。

处置/使用的示例：http: [//msdn.microsoft.com/en-us/library/fs2xkftw.aspx](http://msdn.microsoft.com/en-us/library/fs2xkftw.aspx)

```
public void SqlTransactionHere()
{
       SqlTransaction tran = myConnection.BeginTransaction();
       tran.Dispose();
} 
```

帮助维护连接的示例；然后进行调用，我们使用了类似于以下的模式：

[http://msdn.microsoft.com/en-us/magazine/cc947917.aspx](http://msdn.microsoft.com/en-us/magazine/cc947917.aspx)

我们对服务器也做了一些调整；当我们的服务器开始分页并在内存中存储太多数据时，这也陷入了困境。

您可以监控您的服务器；通过执行以下步骤：

1.  Windows 键 + R（运行）
2.  电源外壳
3.  然后输入：

    strComputer = "-" Set objWmiService = GetObject("winmgmts:\" & strComputer & "\root\cimv2") Set colPageFiles = objWMIService.ExecQuery("Select * from Win32_PageFileSetting")

    对于 colPageFiles 中的每个 objPageFile objPageFile.InitialSize = 384 objPageFile.MaximumSize = 1152 objPageFile.Put_ Next

以上适用于 256 mb 内存；“微软最佳”。我们实际上把我们的初始大小缩小到 50；最大大小为 384。我们的服务器在开始时确实标记了一个错误，指出我们将虚拟内存设置得太低。然而; 我们的服务器性能和我们的应用程序一样提高了。您实际上可以监控它的内存使用情况/虚拟内存使用情况来帮助计算。

如果您也想编写应用程序，请为您监视和记录；或者想使用微软的内置控件：http: [//msdn.microsoft.com/en-us/library/system.diagnostics.process.virtualmemorysize64.aspx](http://msdn.microsoft.com/en-us/library/system.diagnostics.process.virtualmemorysize64.aspx)

1.  开始
2.  管理工具（如果没有，控制面板 --> 管理工具）
3.  系统监视器
4.  PageFile 和其他要监视的组件。%Usage 然后添加
5.  应该开始为您跟踪。

您也可以在注册表中更改它：

```
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Session Manager\Memory Management 
```

您还可以清除缓存。这可以通过利用来完成：

*   DBCC 删除缓冲区
*   检查点

它们可以帮助清除一些与缓存相关的问题；重新启动 SQL Server 或 Windows 完成同样的事情。这就是为什么它可以解决您的问题。但再次发生；如果它太长。

这是一篇关于 SQL 性能脚本的精彩文章：

[http://sqlcat.com/sqlcat/b/toolbox/archive/2008/02/21/scripts-and-tools-for-performance-tuning-and-troubleshooting-sql-server-2005.aspx](http://sqlcat.com/sqlcat/b/toolbox/archive/2008/02/21/scripts-and-tools-for-performance-tuning-and-troubleshooting-sql-server-2005.aspx)

这篇文章非常适合帮助解决或查找性能问题：http: [//support.microsoft.com/kb/298475](http://support.microsoft.com/kb/298475)

或者，如果您不想这样做，因为它正在工作，但在使用几天和大量使用后确实会引发异常。您可以简单地创建一个 powershell 脚本；和：

脚本：“按时间安排设置”重新启动计算机 -ComputerName localhost

然后只需转到您的注册表：

```
HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon 
```

1.  双击默认用户名
2.  输入服务器登录
3.  双击默认密码
4.  输入你的密码。
5.  将 AutoAdminLogin 值更改为 1

您也可以编辑或添加字符串值。如果它不存在。

希望这些对您有所帮助；这些是我们为了解决我们的问题而必须做的一些事情。你可能只需要做一个，或者什么都不做。但我确实希望这有助于或为社区提供一些想法，以帮助更好地解决您的问题。

但对我来说，这听起来像是您的服务器内存陷入困境，数据过多并且由于机器陷入困境而无法解析或运行命令。我假设您使用的是 Windows Server，否则那些 Powershell 脚本命令就没用了。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-06-16T17:42:40.843

如果其他人来这里寻找这个问题的答案，我有同样的问题，我的问题是 SQL Server 正在缓存结果。

我必须添加`OPTION (RECOMPILE)`到我的 SQL 查询的末尾。

我问了同样的问题，可以在我的问题的答案中找到解释：[EntityCommandExecutionException Timeout Expired Only Some Some](https://stackoverflow.com/questions/44593941/entitycommandexecutionexception-timeout-expired-only-sometimes/44594484#44594484)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-01T14:01:54.597

我认为这是索引和刷新所有索引临时数据的问题。这称为统计数据，当 SQL 服务器收集所有可能的缓存变化时，它会将它们用作索引服务的现金。因此更新 SQL 数据库中的统计数据可能会有所帮助

```
DECLARE @SQL VARCHAR(1000)  
DECLARE @DB sysname  

DECLARE curDB CURSOR FORWARD_ONLY STATIC FOR  
   SELECT [name]  
   FROM master..sysdatabases 
   WHERE [name] NOT IN ('model', 'tempdb') 
   ORDER BY [name] 

OPEN curDB  
FETCH NEXT FROM curDB INTO @DB  
WHILE @@FETCH_STATUS = 0  
   BEGIN  
       SELECT @SQL = 'USE [' + @DB +']' + CHAR(13) + 'EXEC sp_updatestats' + CHAR(13)  
       PRINT @SQL  
       FETCH NEXT FROM curDB INTO @DB  
   END  

CLOSE curDB  
DEALLOCATE curDB 
```

然后执行该查询...

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-02T16:45:48.087

有几件事浮现在脑海。您是否进行过负载测试？它可能在您的机器和服务器上单独工作，但几天后有几千次点击，那么它可能会有所不同。这似乎是您提到的行为。

也许第一个查询只有 200 行，但第三天的相同查询必须搜索 200 万行，这会使事情变慢一点。

正如其他人所建议的那样。看看改进您的数据库表上的索引（如果这是一个选项）。

是否可以重新编写您的 Linq 查询。也许它的编写方式是防止 SQL 将查询执行计划缓存在 RAM 中。

服务器本身是否正在备份？当托管公司通过拍摄我们的数据库所在的虚拟机的快照来影响工作时，我有过实例，而不是基于云的服务器。

# java - Maven 多模块构建中的生命周期阶段

> ID：12928465
> 
> 赞同：2
> 
> 时间：2012-10-17T06:34:05.847
> 
> 标签：java, maven, lifecycle, tycho

我已经定义了一个 Maven 多模块构建，其中一个模块仅用于生成源。它不会编译、测试或打包，也不会创建除了生成源文件之外的任何工件。

`generate-sources`无论我在启动多模块构建时指定的阶段如何，我还没有找到一种仅在生成器模块上执行阶段的方法。有一些解决方案可以跳过不需要的阶段，但这不是一个真正的选择，因为其中有很多。

对于那些想知道*为什么*我想要它的人：构建使用 tycho 和 fornax oaw 插件，因此我不得不将构建拆分为两个单独的 pom 文件并使用多模块构建文件“一起”执行它们。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T15:06:50.363

在看到您的[最新问题](https://stackoverflow.com/questions/13064624/maven-disable-dedicated-goals-for-modules-in-multi-module-build/13065966#13065966)后，我想我可能会为您提供解决方案。

我猜你所有的`../projectN/generate/pom.xml`都有顶级 pom 作为它的父级，但我建议你创建一个特殊的`generate-parent`pom，它有一个特殊的插件管理，它将为你跳过所有阶段。

`generate-parent`在顶层创建一个额外的文件夹：

```
<modules>
    <module>../generate-parent/pom.xml</module> <!-- NEW FOLDER WITH POM -->
    <module>../project1/generate/pom.xml</module>
    <module>../project1/pom.xml</module>
    <module>../project2/generate/pom.xml</module>
    <module>../project2/pom.xml</module>
    <!-- and many more projects with or without generate sub modules -->
</modules> 
```

这个新的 pom 将照常继承父 pom，但只添加一些额外的插件管理：

```
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <parent>
        <groupId>your-group</groupId>
        <artifactId>your-parent-pom-artifact-id</artifactId>
        <version>your-parent-version</version>
    </parent>

    <artifactId>generate-parent</artifactId>
    <packaging>pom</packaging>

    <name>${project.artifactId}-${project.version}</name>

    <build>
        <pluginManagement>
            <plugins>
                <plugin>
                    <artifactId>maven-resources-plugin</artifactId>
                    <version>2.4.3</version>
                    <executions>
                        <execution>
                            <id>default-resources</id>
                            <phase>none</phase>
                        </execution>
                        <execution>
                            <id>default-testResources</id>
                            <phase>none</phase>
                        </execution>
                    </executions>
                </plugin>
                <plugin>
                    <artifactId>maven-compiler-plugin</artifactId>
                    <version>2.3.2</version>
                    <executions>
                        <execution>
                            <id>default-compile</id>
                            <phase>none</phase>
                        </execution>
                        <execution>
                            <id>default-testCompile</id>
                            <phase>none</phase>
                        </execution>
                    </executions>
                </plugin>
                <plugin>
                    <artifactId>maven-surefire-plugin</artifactId>
                    <version>2.7.2</version>
                    <executions>
                        <execution>
                            <id>default-test</id>
                            <phase>none</phase>
                        </execution>
                    </executions>
                </plugin>
                <plugin>
                    <artifactId>maven-jar-plugin</artifactId>
                    <version>2.3.1</version>
                    <executions>
                        <execution>
                            <id>default-jar</id>
                            <phase>none</phase>
                        </execution>
                    </executions>
                </plugin>
                <plugin>
                    <artifactId>maven-install-plugin</artifactId>
                    <version>2.3.1</version>
                    <executions>
                        <execution>
                            <id>default-install</id>
                            <phase>none</phase>
                        </execution>
                    </executions>
                </plugin>
                <plugin>
                    <artifactId>maven-deploy-plugin</artifactId>
                    <version>2.5</version>
                    <executions>
                        <execution>
                            <id>default-deploy</id>
                            <phase>none</phase>
                        </execution>
                    </executions>
                </plugin>
            </plugins>
        </pluginManagement>
    </build>
</project> 
```

现在有了这个 pom，所有的默认阶段都被禁用了。

现在在所有生成项目中使用这个 pom。上面的 pom 继承了父 pom 中的**所有**好东西，但只是添加了这些特殊的插件管理部分，这些部分会禁用`generate-sources`.

`project1/generate/pom.xml`

```
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <parent>
        <groupId>your-group</groupId>
        <artifactId>generate-parent</artifactId>
        <version>your-parent-version</version>
        <relativePath>../../generate-parent</relativePath>
    </parent>

    ...
    The rest of your pom
    ...
</project> 
```

这将有效地做你想要的，它`generate-parent`是为这些生成项目添加你想要的所有插件管理的中间人。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T17:05:44.230

据我了解，这是关于使用 Xtext 创建一个在 Maven 构建中调用的代码生成器。我认为您需要更多地拆分您的项目。当您更改语法时，您只需要构建生成器。因此，最好有一个包含生成器的独立项目（而不是模块）。您构建生成器并将其部署到 Maven 存储库。在您的正常构建中，您使用 fornax-oaw-m2 插件在`generate-sources`阶段生成您的源代码，就像您现在所做的那样。您只需要包含生成器作为 fornax-oaw-m2 插件的依赖项。

**编辑：**
所以回到你想要构建的多模块项目：我建议有一个模块只包含你从中生成源的资源，而不是其他任何东西。其他 java sourcec 应该包含在它们自己的模块中。然后我可以建议使用生成器的两种替代方案：

1.  在包含您从中生成源的资源的模块中运行生成器并适当地设置相对路径
2.  在应该包含生成的源的模块中运行生成器，并将具有资源的模块包含为依赖项（您可能需要在生成资源之前解压缩该依赖项）

你仍然总是在灵态中生成`generate-sources`。在第二种选择中，fornax-oaw-m2 插件的配置将被复制，如果您需要为一组不同的模块生成源。但我认为这更像是 maven 方式，因为您只更改当前正在构建的项目。在第一个替代方案中，您必须声明来自模块的依赖关系，其中源代码生成到执行源代码生成的模块中。这似乎有点尴尬。

# file-upload - ASP VB 上传文件，不要使用原始文件名！使用 URL Scheme 命名上传的文件。

> ID：12928466
> 
> 赞同：2
> 
> 时间：2012-10-17T06:34:15.160
> 
> 标签：file-upload, asp-classic, vbscript

今天是个好日子！

我正在研究我在网上免费找到的 ASP VB 脚本。它在我的 Web 服务器上运行良好，但该解决方案将仅使用原始文件名保存到 Web 服务器的目录。

我正在寻找可以传递 URL 的 ASP 文件上传器解决方案：

[http://globalbanke.com/uploadFiles.asp?CustomName=Red](http://globalbanke.com/uploadFiles.asp?CustomName=Red)

然后上传页面打开，用户可以加载文件，然后文件在服务器上保存为“红色”

我的网页托管：

#

```
<%@ Language=VBScript %>
<% 
option explicit 
Response.Expires = -1
Server.ScriptTimeout = 600
' All communication must be in UTF-8, including the response back from the request
Session.CodePage  = 65001
%>

<!-- #include file="freeaspupload.asp" -->
<%

  ' ****************************************************
  ' Change the value of the variable below to the pathname
  ' of a directory with write permissions, for example "C:\Inetpub\wwwroot"
  ' ****************************************************

  Dim uploadsDirVar
  uploadsDirVar = "c:\inetpub\wwwroot\Test" 

  ' Note: this file uploadTester.asp is just an example to demonstrate
  ' the capabilities of the freeASPUpload.asp class. There are no plans
  ' to add any new features to uploadTester.asp itself. Feel free to add
  ' your own code. If you are building a content management system, you
  ' may also want to consider this script: http://www.webfilebrowser.com/

function OutputForm()
%>
    <form name="frmSend" method="POST" enctype="multipart/form-data" accept-charset="utf-8" action="uploadTester.asp" onSubmit="return onSubmitForm();">
    <B>File names:</B><br>
    File 1: <input type="file" name="attach1" id="photo_input" data-sigil="photo-input"><br>
    <br> 
    <input type="text" id="data" name="enter_a_number"><br>
    <input style="margin-top:4" type=submit value="Upload">
    </form>
<%
end function

function TestEnvironment()
    Dim fso, fileName, testFile, streamTest
    TestEnvironment = ""
    Set fso = Server.CreateObject("Scripting.FileSystemObject")
    if not fso.FolderExists(uploadsDirVar) then
        TestEnvironment = "<B>Folder " & uploadsDirVar & " does not exist.</B><br>The value of your uploadsDirVar is incorrect. Open uploadTester.asp in an editor and change the value of uploadsDirVar to the pathname of a directory with write permissions."
        exit function
    end if
    fileName = uploadsDirVar & "\test.txt"
    on error resume next
    Set testFile = fso.CreateTextFile(fileName, true)
    If Err.Number<>0 then
        TestEnvironment = "<B>Folder " & uploadsDirVar & " does not have write permissions.</B><br>The value of your uploadsDirVar is incorrect. Open uploadTester.asp in an editor and change the value of uploadsDirVar to the pathname of a directory with write permissions."
        exit function
    end if
    Err.Clear
    testFile.Close
    fso.DeleteFile(fileName)
    If Err.Number<>0 then
        TestEnvironment = "<B>Folder " & uploadsDirVar & " does not have delete permissions</B>, although it does have write permissions.<br>Change the permissions for IUSR_<I>computername</I> on this folder."
        exit function
    end if
    Err.Clear
    Set streamTest = Server.CreateObject("ADODB.Stream")
    If Err.Number<>0 then
        TestEnvironment = "<B>The ADODB object <I>Stream</I> is not available in your server.</B><br>Check the Requirements page for information about upgrading your ADODB libraries."
        exit function
    end if
    Set streamTest = Nothing
end function

function SaveFiles
    Dim Upload, fileName, fileSize, ks, i, fileKey

    Set Upload = New FreeASPUpload
    Upload.Save(uploadsDirVar)

    ' If something fails inside the script, but the exception is handled
    If Err.Number<>0 then Exit function

    SaveFiles = ""
    fileName = "real"
    ks = Upload.UploadedFiles.keys
    if (UBound(ks) <> -1) then
        SaveFiles = "<B>Files uploaded:</B> "
        for each fileKey in Upload.UploadedFiles.keys
            SaveFiles = SaveFiles & Upload.UploadedFiles(fileKey).FileName & " (" & Upload.UploadedFiles(fileKey).Length & "B) "
        next
    else
        SaveFiles = "No file selected for upload or the file name specified in the upload form does not correspond to a valid file in the system."
    end if
end function
%>

<HTML>
<HEAD>
<TITLE>Test Free ASP Upload 2.0</TITLE>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style>
BODY {background-color: white;font-family:arial; font-size:12}
</style>
<script>
function onSubmitForm() {
    var formDOMObj = document.frmSend;
    if (formDOMObj.attach1.value == "" && formDOMObj.attach2.value == "" && formDOMObj.attach3.value == "" && formDOMObj.attach4.value == "" )
        alert("Please press the Browse button and pick a file.")
    else
        return true;
    return false;
}
</script>

</HEAD>

<BODY>

<br><br>
<div style="border-bottom: #A91905 2px solid;font-size:16">Upload files to your server</div>
<%
Dim diagnostics
if Request.ServerVariables("REQUEST_METHOD") <> "POST" then
    diagnostics = TestEnvironment()
    if diagnostics<>"" then
        response.write "<div style=""margin-left:20; margin-top:30; margin-right:30; margin-bottom:30;"">"
        response.write diagnostics
        response.write "<p>After you correct this problem, reload the page."
        response.write "</div>"
    else
        response.write "<div style=""margin-left:150"">"
        OutputForm()
        response.write "</div>"
    end if
else
    response.write "<div style=""margin-left:150"">"
    OutputForm()
    response.write SaveFiles()
    response.write "<br><br></div>"
end if

%>

</BODY>
</HTML> 
```

#

我正在使用 upload.save() 方法。这一行在这里：

filePath = path & request.querystring("CustomName")

这给了我一个服务器错误，但如果我将它更改为“test.txt”，它会保存它。

所以我的问题是，如何使用 URL 查询作为服务器的文件名？

这是 ASP 类方法

```
<%
'  For examples, documentation, and your own free copy, go to:
'  http://www.freeaspupload.net
'  Note: You can copy and use this script for free and you can make changes
'  to the code, but you cannot remove the above comment.

'Changes:
'Aug 2, 2005: Add support for checkboxes and other input elements with multiple values
'Jan 6, 2009: Lars added ASP_CHUNK_SIZE
'Sep 3, 2010: Enforce UTF-8 everywhere; new function to convert byte array to unicode string

const DEFAULT_ASP_CHUNK_SIZE = 200000

const adModeReadWrite = 3
const adTypeBinary = 1
const adTypeText = 2
const adSaveCreateOverWrite = 2

Class FreeASPUpload
    Public UploadedFiles
    Public FormElements

    Private VarArrayBinRequest
    Private StreamRequest
    Private uploadedYet
    Private internalChunkSize

    Private Sub Class_Initialize()
        Set UploadedFiles = Server.CreateObject("Scripting.Dictionary")
        Set FormElements = Server.CreateObject("Scripting.Dictionary")
        Set StreamRequest = Server.CreateObject("ADODB.Stream")
        StreamRequest.Type = adTypeText
        StreamRequest.Open
        uploadedYet = false
        internalChunkSize = DEFAULT_ASP_CHUNK_SIZE
    End Sub

    Private Sub Class_Terminate()
        If IsObject(UploadedFiles) Then
            UploadedFiles.RemoveAll()
            Set UploadedFiles = Nothing
        End If
        If IsObject(FormElements) Then
            FormElements.RemoveAll()
            Set FormElements = Nothing
        End If
        StreamRequest.Close
        Set StreamRequest = Nothing
    End Sub

    Public Property Get Form(sIndex)
        Form = ""
        If FormElements.Exists(LCase(sIndex)) Then Form = FormElements.Item(LCase(sIndex))
    End Property

    Public Property Get Files()
        Files = UploadedFiles.Items
    End Property

    Public Property Get Exists(sIndex)
            Exists = false
            If FormElements.Exists(LCase(sIndex)) Then Exists = true
    End Property

    Public Property Get FileExists(sIndex)
        FileExists = false
            if UploadedFiles.Exists(LCase(sIndex)) then FileExists = true
    End Property

    Public Property Get chunkSize()
        chunkSize = internalChunkSize
    End Property

    Public Property Let chunkSize(sz)
        internalChunkSize = sz
    End Property

    'Calls Upload to extract the data from the binary request and then saves the uploaded files
    Public Sub Save(path)
        Dim streamFile, fileItem, filePath

        if Right(path, 1) <> "\" then path = path & "\"

        if not uploadedYet then Upload

        For Each fileItem In UploadedFiles.Items
            filePath = path & request.querystring("CustomName")
            Set streamFile = Server.CreateObject("ADODB.Stream")
            streamFile.Type = adTypeBinary
            streamFile.Open
            StreamRequest.Position=fileItem.Start
            StreamRequest.CopyTo streamFile, fileItem.Length
            streamFile.SaveToFile filePath, adSaveCreateOverWrite
            streamFile.close
            Set streamFile = Nothing
            fileItem.Path = filePath
         Next
    End Sub

    public sub SaveOne(path, num, byref outFileName, byref outLocalFileName)
        Dim streamFile, fileItems, fileItem, fs

        set fs = Server.CreateObject("Scripting.FileSystemObject")
        if Right(path, 1) <> "\" then path = path & "\"

        if not uploadedYet then Upload
        if UploadedFiles.Count > 0 then
            fileItems = UploadedFiles.Items
            set fileItem = fileItems(num)

            outFileName = fileItem.FileName
            outLocalFileName = GetFileName(path, outFileName)

            Set streamFile = Server.CreateObject("ADODB.Stream")
            streamFile.Type = adTypeBinary
            streamFile.Open
            StreamRequest.Position = fileItem.Start
            StreamRequest.CopyTo streamFile, fileItem.Length
            streamFile.SaveToFile path & outLocalFileName, adSaveCreateOverWrite
            streamFile.close
            Set streamFile = Nothing
            fileItem.Path = path & filename
        end if
    end sub

    Public Function SaveBinRequest(path) ' For debugging purposes
        StreamRequest.SaveToFile path & "\debugStream.bin", 2
    End Function

    Public Sub DumpData() 'only works if files are plain text
        Dim i, aKeys, f
        response.write "Form Items:<br>"
        aKeys = FormElements.Keys
        For i = 0 To FormElements.Count -1 ' Iterate the array
            response.write aKeys(i) & " = " & FormElements.Item(aKeys(i)) & "<BR>"
        Next
        response.write "Uploaded Files:<br>"
        For Each f In UploadedFiles.Items
            response.write "Name: " & f.FileName & "<br>"
            response.write "Type: " & f.ContentType & "<br>"
            response.write "Start: " & f.Start & "<br>"
            response.write "Size: " & f.Length & "<br>"
         Next
    End Sub

    Public Sub Upload()
        Dim nCurPos, nDataBoundPos, nLastSepPos
        Dim nPosFile, nPosBound
        Dim sFieldName, osPathSep, auxStr
        Dim readBytes, readLoop, tmpBinRequest

        'RFC1867 Tokens
        Dim vDataSep
        Dim tNewLine, tDoubleQuotes, tTerm, tFilename, tName, tContentDisp, tContentType
        tNewLine = String2Byte(Chr(13))
        tDoubleQuotes = String2Byte(Chr(34))
        tTerm = String2Byte("--")
        tFilename = String2Byte("filename=""")
        tName = String2Byte("name=""")
        tContentDisp = String2Byte("Content-Disposition")
        tContentType = String2Byte("Content-Type:")

        uploadedYet = true

        on error resume next
            ' Copy binary request to a byte array, on which functions like InstrB and others can be used to search for separation tokens
            readBytes = internalChunkSize
            VarArrayBinRequest = Request.BinaryRead(readBytes)
            VarArrayBinRequest = midb(VarArrayBinRequest, 1, lenb(VarArrayBinRequest))
            Do Until readBytes < 1
                tmpBinRequest = Request.BinaryRead(readBytes)
                if readBytes > 0 then
                    VarArrayBinRequest = VarArrayBinRequest & midb(tmpBinRequest, 1, lenb(tmpBinRequest))
                end if
            Loop
            StreamRequest.WriteText(VarArrayBinRequest)
            StreamRequest.Flush()
            if Err.Number <> 0 then 
                response.write "<br><br><B>System reported this error:</B><p>"
                response.write Err.Description & "<p>"
                response.write "The most likely cause for this error is the incorrect setup of AspMaxRequestEntityAllowed in IIS MetaBase. Please see instructions in the <A HREF='http://www.freeaspupload.net/freeaspupload/requirements.asp'>requirements page of freeaspupload.net</A>.<p>"
                Exit Sub
            end if
        on error goto 0 'reset error handling

        nCurPos = FindToken(tNewLine,1) 'Note: nCurPos is 1-based (and so is InstrB, MidB, etc)

        If nCurPos <= 1  Then Exit Sub

        'vDataSep is a separator like -----------------------------21763138716045
        vDataSep = MidB(VarArrayBinRequest, 1, nCurPos-1)

        'Start of current separator
        nDataBoundPos = 1

        'Beginning of last line
        nLastSepPos = FindToken(vDataSep & tTerm, 1)

        Do Until nDataBoundPos = nLastSepPos

            nCurPos = SkipToken(tContentDisp, nDataBoundPos)
            nCurPos = SkipToken(tName, nCurPos)
            sFieldName = ExtractField(tDoubleQuotes, nCurPos)

            nPosFile = FindToken(tFilename, nCurPos)
            nPosBound = FindToken(vDataSep, nCurPos)

            If nPosFile <> 0 And  nPosFile < nPosBound Then
                Dim oUploadFile
                Set oUploadFile = New UploadedFile

                nCurPos = SkipToken(tFilename, nCurPos)
                auxStr = ExtractField(tDoubleQuotes, nCurPos)
                ' We are interested only in the name of the file, not the whole path
                ' Path separator is \ in windows, / in UNIX
                ' While IE seems to put the whole pathname in the stream, Mozilla seem to 
                ' only put the actual file name, so UNIX paths may be rare. But not impossible.
                osPathSep = "\"
                if InStr(auxStr, osPathSep) = 0 then osPathSep = "/"
                oUploadFile.FileName = Right(auxStr, Len(auxStr)-InStrRev(auxStr, osPathSep))

                if (Len(oUploadFile.FileName) > 0) then 'File field not left empty
                    nCurPos = SkipToken(tContentType, nCurPos)

                    auxStr = ExtractField(tNewLine, nCurPos)
                    ' NN on UNIX puts things like this in the stream:
                    '    ?? python py type=?? python application/x-python
                    oUploadFile.ContentType = Right(auxStr, Len(auxStr)-InStrRev(auxStr, " "))
                    nCurPos = FindToken(tNewLine, nCurPos) + 4 'skip empty line

                    oUploadFile.Start = nCurPos+1
                    oUploadFile.Length = FindToken(vDataSep, nCurPos) - 2 - nCurPos

                    If oUploadFile.Length > 0 Then UploadedFiles.Add LCase(sFieldName), oUploadFile
                End If
            Else
                Dim nEndOfData, fieldValueUniStr
                nCurPos = FindToken(tNewLine, nCurPos) + 4 'skip empty line
                nEndOfData = FindToken(vDataSep, nCurPos) - 2
                fieldValueuniStr = ConvertUtf8BytesToString(nCurPos, nEndOfData-nCurPos)
                If Not FormElements.Exists(LCase(sFieldName)) Then 
                    FormElements.Add LCase(sFieldName), fieldValueuniStr
                else
                    FormElements.Item(LCase(sFieldName))= FormElements.Item(LCase(sFieldName)) & ", " & fieldValueuniStr
                end if 

            End If

            'Advance to next separator
            nDataBoundPos = FindToken(vDataSep, nCurPos)
        Loop
    End Sub

    Private Function SkipToken(sToken, nStart)
        SkipToken = InstrB(nStart, VarArrayBinRequest, sToken)
        If SkipToken = 0 then
            Response.write "Error in parsing uploaded binary request. The most likely cause for this error is the incorrect setup of AspMaxRequestEntityAllowed in IIS MetaBase. Please see instructions in the <A HREF='http://www.freeaspupload.net/freeaspupload/requirements.asp'>requirements page of freeaspupload.net</A>.<p>"
            Response.End
        end if
        SkipToken = SkipToken + LenB(sToken)
    End Function

    Private Function FindToken(sToken, nStart)
        FindToken = InstrB(nStart, VarArrayBinRequest, sToken)
    End Function

    Private Function ExtractField(sToken, nStart)
        Dim nEnd
        nEnd = InstrB(nStart, VarArrayBinRequest, sToken)
        If nEnd = 0 then
            Response.write "Error in parsing uploaded binary request."
            Response.End
        end if
        ExtractField = ConvertUtf8BytesToString(nStart, nEnd-nStart)
    End Function

    'String to byte string conversion
    Private Function String2Byte(sString)
        Dim i
        For i = 1 to Len(sString)
           String2Byte = String2Byte & ChrB(AscB(Mid(sString,i,1)))
        Next
    End Function

    Private Function ConvertUtf8BytesToString(start, length)    
        StreamRequest.Position = 0

        Dim objStream
        Dim strTmp

        ' init stream
        Set objStream = Server.CreateObject("ADODB.Stream")
        objStream.Charset = "utf-8"
        objStream.Mode = adModeReadWrite
        objStream.Type = adTypeBinary
        objStream.Open

        ' write bytes into stream
        StreamRequest.Position = start+1
        StreamRequest.CopyTo objStream, length
        objStream.Flush

        ' rewind stream and read text
        objStream.Position = 0
        objStream.Type = adTypeText
        strTmp = objStream.ReadText

        ' close up and return
        objStream.Close
        Set objStream = Nothing
        ConvertUtf8BytesToString = strTmp   
    End Function
End Class

Class UploadedFile
    Public ContentType
    Public Start
    Public Length
    Public Path
    Private nameOfFile

    ' Need to remove characters that are valid in UNIX, but not in Windows
    Public Property Let FileName(fN)
        nameOfFile = fN
        nameOfFile = SubstNoReg(nameOfFile, "\", "_")
        nameOfFile = SubstNoReg(nameOfFile, "/", "_")
        nameOfFile = SubstNoReg(nameOfFile, ":", "_")
        nameOfFile = SubstNoReg(nameOfFile, "*", "_")
        nameOfFile = SubstNoReg(nameOfFile, "?", "_")
        nameOfFile = SubstNoReg(nameOfFile, """", "_")
        nameOfFile = SubstNoReg(nameOfFile, "<", "_")
        nameOfFile = SubstNoReg(nameOfFile, ">", "_")
        nameOfFile = SubstNoReg(nameOfFile, "|", "_")
    End Property

    Public Property Get FileName()
        FileName = nameOfFile
    End Property

    'Public Property Get FileN()ame
End Class

' Does not depend on RegEx, which is not available on older VBScript
' Is not recursive, which means it will not run out of stack space
Function SubstNoReg(initialStr, oldStr, newStr)
    Dim currentPos, oldStrPos, skip
    If IsNull(initialStr) Or Len(initialStr) = 0 Then
        SubstNoReg = ""
    ElseIf IsNull(oldStr) Or Len(oldStr) = 0 Then
        SubstNoReg = initialStr
    Else
        If IsNull(newStr) Then newStr = ""
        currentPos = 1
        oldStrPos = 0
        SubstNoReg = ""
        skip = Len(oldStr)
        Do While currentPos <= Len(initialStr)
            oldStrPos = InStr(currentPos, initialStr, oldStr)
            If oldStrPos = 0 Then
                SubstNoReg = SubstNoReg & Mid(initialStr, currentPos, Len(initialStr) - currentPos + 1)
                currentPos = Len(initialStr) + 1
            Else
                SubstNoReg = SubstNoReg & Mid(initialStr, currentPos, oldStrPos - currentPos) & newStr
                currentPos = oldStrPos + skip
            End If
        Loop
    End If
End Function

Function GetFileName(strSaveToPath, FileName)
'This function is used when saving a file to check there is not already a file with the same name so that you don't overwrite it.
'It adds numbers to the filename e.g. file.gif becomes file1.gif becomes file2.gif and so on.
'It keeps going until it returns a filename that does not exist.
'You could just create a filename from the ID field but that means writing the record - and it still might exist!
'N.B. Requires strSaveToPath variable to be available - and containing the path to save to
    Dim Counter
    Dim Flag
    Dim strTempFileName
    Dim FileExt
    Dim NewFullPath
    dim objFSO, p
    Set objFSO = CreateObject("Scripting.FileSystemObject")
    Counter = 0
    p = instrrev(FileName, ".")
    FileExt = mid(FileName, p+1)
    strTempFileName = left(FileName, p-1)
    NewFullPath = strSaveToPath & "\" & FileName
    Flag = False

    Do Until Flag = True
        If objFSO.FileExists(NewFullPath) = False Then
            Flag = True
            GetFileName = Mid(NewFullPath, InstrRev(NewFullPath, "\") + 1)
        Else
            Counter = Counter + 1
            NewFullPath = strSaveToPath & "\" & strTempFileName & Counter & "." & FileExt
        End If
    Loop
End Function 

%> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T07:53:32.077

在“uploadTester.asp”中，将查询字符串添加到操作部分：

```
action="uploadTester.asp?customname=<%=Request.Querystring("customname")%>" 
```

并在类文件的“保存”子中，进行如下更改：

```
'Calls Upload to extract the data from the binary request and then saves the uploaded files
Public Sub Save(path)
    Dim streamFile, fileItem, filePath
    Dim sFileName
    if Right(path, 1) <> "\" then path = path & "\"

    if not uploadedYet then Upload

    For Each fileItem In UploadedFiles.Items
        sFileName = request.QueryString("customname")
        if(trim(sFileName)="") then
            sFileName=fileItem.FileName
        end if
        filePath = path & sFileName
        'Response.Write filePath
        'Response.end
        Set streamFile = Server.CreateObject("ADODB.Stream")
        streamFile.Type = adTypeBinary
        streamFile.Open
        StreamRequest.Position=fileItem.Start
        StreamRequest.CopyTo streamFile, fileItem.Length
        streamFile.SaveToFile filePath, adSaveCreateOverWrite
        streamFile.close
        Set streamFile = Nothing
        fileItem.Path = filePath
     Next
End Sub 
```

# android - 从 Android 中的 Google 日历中检索事件

> ID：12928468
> 
> 赞同：-2
> 
> 时间：2012-10-17T06:34:22.867
> 
> 标签：android, google-calendar-api, android-calendar

> **可能重复：**
> [Android google calendar API](https://stackoverflow.com/questions/11960560/android-google-calendar-api)

如何从**`Android Calendar`**in中检索事件**`android 2.3`**？有这方面的教程吗？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T06:39:58.667

在编写代码时，我建议您查看下一页底部的代码段：

Google Calendar API V3 事件列表：

[https://developers.google.com/google-apps/calendar/v3/reference/events/list](https://developers.google.com/google-apps/calendar/v3/reference/events/list)

我用过它，它对我来说效果很好。

祝你好运

# asp.net - 单击 Facebook 注销按钮时从该浏览器注销

> ID：12928471
> 
> 赞同：-1
> 
> 时间：2012-10-17T06:34:40.247
> 
> 标签：asp.net, facebook, c#-4.0

我已将 facebook 集成到我的 asp.net 网站中，并从后面的代码登录。我拍摄了一个图像按钮并在其 onclick 事件上执行代码。

**当我单击注销时，它会从我的网站注销，但仍然在该浏览器中登录 Facebook。谁能告诉我有关 Facebook 注销代码的信息？**

登录代码类似于：-

```
protected void fbimgbtn_Click(object sender, ImageClickEventArgs e)
{
   var root = "http://" + HttpContext.Current.Request.Url.Authority + HttpContext.Current.Request.ApplicationPath;
   string path = "https://www.facebook.com/dialog/oauth?client_id=abcdefgh&redirect_uri=" + root + "/User/Loggingin.aspx";
   path += "&scope=email,publish_stream,user_about_me,user_birthday,user_location,user_hometown,user_work_history&response_type=token";
   Response.Redirect(path);
} 
```

请帮帮我..提前谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T07:06:06.963

您将要使用：

```
https://www.facebook.com/logout.php?access_token=ACCESS_TOKEN&confirm=1&next=REDIRECT 
```

使用所需的适当访问令牌和您的重定向。

否则，如果您使用的是 FB Connect，则只需调用：

```
FB.Connect.logout(doOnUserLogout()); return(false); 
```

# c++ - QTGraphicsScene 中的 QtGraphicsView 大小

> ID：12928472
> 
> 赞同：0
> 
> 时间：2012-10-17T06:34:43.443
> 
> 标签：c++, qt, user-interface, coding-style, qt4

我无法让我的 QtGraphicsView 占用我正在工作的窗口的 100%。有没有办法将视图大小设置为占用创建的图形窗口的 100%？

```
QApplication app(argc, argv);

QGraphicsScene * scene = new QGraphicsScene();

int counter = 1000;

scene->setSceneRect(0, 0, counter, counter);//scene size

QGraphicsEllipseItem * item = new QGraphicsEllipseItem(0, scene);

item->setRect(0,0, 1000.0, 1000.0);

QGraphicsView view(scene);

view.setRect(100, 100);
view.setRenderHints(QPainter::Antialiasing);
view.show(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:50:09.943

`QGraphicsView`应该有一个方法（插槽）调用，`showFullScreen`因为它继承`QWidget` ，它应该做你想要的。

# collections - Backbone - 限制集合中显示的项目数量

> ID：12928473
> 
> 赞同：4
> 
> 时间：2012-10-17T06:34:55.583
> 
> 标签：collections, backbone.js, limit, mustache

我有一个下拉框，它将更改要在页面上显示的集合的项目数...

```
{{#each myCollection}}
<div id="{{this.Name}}">{{this.Name}} </div>
{/each}}
<select id="ddpFilter" >
<option value="10">Show 10</option>
<option value="50">Show 50</option>
</select> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-17T07:14:03.890

查看[Backbone Collections中的](http://backbonejs.org/#Collection-Underscore-Methods)[first()](http://documentcloud.github.com/underscore/#first) Underscore 方法。这是一个如何与模板结合的示例：`first()`

```
Backbone.View.extend({

  // Number of items to show from the collection.  Set this and re-render when you 
  // want to show 50.
  limit: 10, 

  // Notice I switched myCollection to items.  Backbone collections aren't directly
  // iterable, but their underscore methods (like first(n)) return vanilla 
  // iterable Arrays
  template: Handlebars.compile("{{#each items}} {{this.Name}} {/each}}"),

  render: function() {
    this.$el.html(this.template({
      // Pass a truncated Array into the template to keep it logicless and Mustachy
      items: myCollection.first(this.limit)
    }));
  }
}); 
```

# joomla - joomla 加载表单数据

> ID：12928475
> 
> 赞同：2
> 
> 时间：2012-10-17T06:35:03.897
> 
> 标签：joomla, joomla2.5

如何在一个视图中显示 3 个表中的数据，因为使用 JTable 我只能显示绑定到该 JTable 的数据，请帮我解决这个问题。

到目前为止我的代码（不工作）在模型中：

```
public function getEntireProject(){
    $item_id = $this->getItem()->id;

    $db =& JFactory::getDBO();
    $query = $db->getQuery(true);
    $query->select('*');
    $query->from('#__project_part_1 AS a');
    $query->leftJoin('#__project_part_2 AS u ON a.uuid = u.uuid');
    $query->leftJoin('#__project_part_3 AS y ON a.uuid = y.uuid');
    $query->where('a.id = '. (int) $item_id);
    $db->setQuery($query);
    return $db->loadResult();
}

protected function loadFormData()
{
    // Check the session for previously entered form data.
    $data = JFactory::getApplication()->getUserState('com_web_projects.edit.webproject.data', array());

    if (empty($data)) {
        $data = $this->getEntireProject();
    }

    return $data;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-17T07:11:30.813

尝试覆盖 getItem 函数。如果您在视图中调用 get('Item')，这也会很有帮助。-

```
public function getItem($pk = null){
    if ($item = parent::getItem($pk)) {
        $db =& JFactory::getDBO();
        $query = $db->getQuery(true);
        $query->select('*');
        $query->from('#__project_part_1 AS a');
        $query->leftJoin('#__project_part_2 AS u ON a.uuid = u.uuid');
        $query->leftJoin('#__project_part_3 AS y ON a.uuid = y.uuid');
        $query->where('a.id = '. (int) $item->id);
        $db->setQuery($query);          
        $item =  $db->loadAssoc();
    }   
    return $item;
}

protected function loadFormData()
{
    // Check the session for previously entered form data.
    $data = JFactory::getApplication()->getUserState('com_web_projects.edit.webproject.data', array());

    if (empty($data)) {
    $data = $this->getItem();
    }

    return $data;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T06:40:13.347

对于多行结果，使用 loadRowList()、loadAssocList()、loadAssocList($key)、loadObjectList()、loadObjectList('key')。$db->loadResult() 只加载一个结果。***[阅读更多](http://docs.joomla.org/Accessing_the_database_using_JDatabase)***。

如果我正确理解您的问题，这应该可以解决您的问题。如果你不问。

# cordova - Cordova 2.1.0 应用程序无法在 Xcode 4.5.1 中运行

> ID：12928477
> 
> 赞同：0
> 
> 时间：2012-10-17T06:35:08.137
> 
> 标签：cordova, xcode4.5

我创建了一个 Cordova 2.1.0 应用程序，它正在使用终端命令 (~/cordova/emulate) 在模拟器上构建和运行良好。但是，当我尝试从 Xcode 运行它时，它构建得很好，但不会运行。我正在使用 Xcode 4.5.1。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T20:43:45.113

好的。对于我试图追查同样的问题所经历的所有步骤，我觉得自己像个白痴。我不必要地卸载并重新安装了很多东西。我打赌这是你的问题。

Xcode 窗口左上角附近的“scheme”下拉菜单栏实际上是两个下拉菜单，即使看起来不是这样。现在它可能会说“CordovaLib>iPhone 6.0 Simulator”或类似的东西（取决于您尝试部署到哪个模拟器或设备）。通常，您单击下拉菜单并获得可供选择的模拟器和设备列表。

您（和我）从未注意到的是，过去它总是说“yourProject>iPhone 6.0 Simulator”，其中 yourProject 是目标（即您的项目名称）。单击文本的“CordovaLib”部分，它将为您提供一个不同的下拉菜单来选择您的项目。然后单击下拉菜单的模拟器部分以选择要部署到的设备。点击运行，它应该可以正常工作。

# database - 如何在数据库中设计相似的实体

> ID：12928480
> 
> 赞同：1
> 
> 时间：2012-10-17T06:35:12.303
> 
> 标签：database, database-design

我的系统中有 3 个实体。我们称它们为实体 A、B 和 C。实体 A 变为实体 B，而实体 B 又变为实体 C。我必须保留所有 3 个实体的副本。

我的困境是如何在关系数据中表示它们。所有 3 个实体都有相似的字段。但是，有些字段适用于某些实体，有些则不适用。

在这种情况下推荐的方法是什么。我应该使用一个表然后创建一个“类型”字段吗？这种方法的问题是某些字段对于某些实体来说是空的。或者我应该创建单独的表？

任何关于最佳实践的建议将不胜感激

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-17T07:56:11.260

这听起来像是经理 -> 人员类型的分层设计。每个实体可能有单独的表。但是，如果当您想要获取所有人的列表时它们具有相同的基本类型，那么您必须合并所有表。如果您将层次结构列与单个表方法一起使用，则必须将表与其自身连接起来。在选择一种解决方案时考虑这两个选项。两者都是对的，但也有各自的困难。

# c++ - LNK2001 basic_istream、basic_ostream 上的错误

> ID：12928482
> 
> 赞同：0
> 
> 时间：2012-10-17T06:35:16.560
> 
> 标签：c++, visual-studio

我正在尝试解决这些链接错误：

```
error LNK2001: unresolved external symbol "__declspec(dllimport) public void __thiscall std::basic_ostream(char,struc std::char_traits<char>>::_0sfx(void)" 
```

我使用 Visual Studio C++ 2010，并尝试使用 Visual Studio C++ 6.0，但仍然出现相同的错误。

找到了目标文件，所以我怀疑它找不到std库的实现？我在一些库（libc.lib、libcmt.lib、msvcrt.lib 等）上尝试了 /nodefaultlib 选项，但根本没有改善这种情况。

有人可以解释为什么会发生错误以及我应该看哪里吗？

尝试了其他类似问题中建议的解决方案，但它们要么不适用，要么无法解决问题。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T06:50:11.040

您应该删除 /nodefaultlib 选项。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T08:38:38.503

如果您的某些库是静态链接而其他动态链接，则可能会出现此问题。

基本上，如果您同时使用`CRT`（即编译器开关`/MT`和`/MTd`）的静态版本和`CRT`（开关`/MD`，`/MDd`）的动态版本编译了两个代码。你可以看到你的项目正在使用什么`Project Properies - c++ - Code Generaion - Runtime Library`）

确保所有库都使用与项目相同的开关进行编译。

# php - PHP try/catch 和致命错误

> ID：12928487
> 
> 赞同：28
> 
> 时间：2012-10-17T06:35:37.200
> 
> 标签：php, try-catch, fatal-error

我正在使用以下脚本来使用使用 PHP 的数据库：

```
try{
    $db = new PDO('mysql:host='.$host.';port='.$port.';dbname='.$db, $user, $pass, $options);
}
catch(Exception $e){
    $GLOBALS['errors'][] = $e;
} 
```

现在，我想使用此数据库句柄使用以下代码执行请求：

```
try{
    $query = $db->prepare("INSERT INTO users (...) VALUES (...);");
    $query->execute(array(
        '...' => $...,
        '...' => $...
    ));
}
catch(Exception $e){
    $GLOBALS['errors'][] = $e;
} 
```

这是问题所在：

*   当与数据库的连接正常时，一切正常，
*   当连接失败但我不使用数据库时，我有`$GLOBALS['errors'][]`数组，之后脚本仍在运行，
*   当与数据库的连接失败时，我收到以下致命错误：

> 注意：未定义变量：第 32 行 C:\xampp\htdocs[...]\test.php 中的 db
> 
> 致命错误：第 32 行 C:\xampp\htdocs[...]\test.php 中的非对象调用成员函数 prepare()

*注意：*第 32 行是`$query = $db->prepare(...)`指令。

也就是说，脚本崩溃了，try/catch 好像也没用了。您知道为什么第二次尝试/捕获不起作用以及如何解决吗？

谢谢您的帮助！

**编辑：**有一些非常好的回复。我已经验证了一个不完全是我想做的，但这可能是最好的方法。

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2012-10-17T06:55:10.023

`try`/`catch`块仅适用于抛出的异常（`throw Exception`或`Exception`必须调用的子类）。您无法使用`try`/捕获致命错误`catch`。

如果您的数据库连接无法建立，我认为这是致命的，因为您可能需要您的数据库在页面上做任何有意义的事情。

`PDO`如果无法建立连接，将抛出异常。您的具体问题是`$db`当您尝试使用它调用方法时未定义它，因此您得到一个致命的空指针（有点）。而不是像其他人建议的那样跳过`if ($db == null)`箍，您应该只修复您的代码以确保`$db`始终在您需要它时定义它，或者有一种不那么脆弱的方式来确保在使用它的代码中可以使用数据库连接。

如果您真的想“捕获”致命错误，请使用`set_error_handler`，但这仍然会停止脚本执行致命错误。

* * *

## 回答 #2

> 赞同：33
> 
> 时间：2018-08-04T17:29:49.810

在 PHP7 中，我们现在可以通过简单的工作[使用 try catch 致命错误](https://www.php.net/manual/en/language.errors.php7.php)

```
try {
   do some thing evil
} catch (Error $e) {
   echo 'Now you can catch me!';
} 
```

但是通常情况下，我们应该避免使用catch Error，因为它涉及错过属于程序员责任的代码:-)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-01-21T10:48:23.007

`$db`如果为空，我不会报告已经写过的关于测试的内容。只需添加一个“干净”的解决方案是如果与数据库的连接失败，则人为地创建一个异常：

```
if ($db == NULL) throw new Exception('Connection failed.'); 
```

将上一行插入`try - catch`如下：

```
try{

    // This line create an exception if $db is empty
    if ($db == NULL) throw new Exception('Connection failed.');

    $query = $db->prepare("INSERT INTO users (...) VALUES (...);");
    $query->execute(array(
        '...' => $...,
        '...' => $...
    ));
}
catch(Exception $e){
    $GLOBALS['errors'][] = $e;
} 
```

希望这对其他人有帮助！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-17T06:46:20.557

如果数据库连接失败，`$db`则从您的第一个`try .. catch`块开始将为空。这就是为什么以后你不能在你的情况下使用非对象的成员`$db->prepare(...)`。在使用此添加之前

```
if ($db) {
    // other try catch statement
} 
```

这将确保您有数据库实例可以使用它。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-10-17T06:45:26.690

尝试添加以下 if 语句：

```
if ($db) {
    $query = $db->prepare("INSERT INTO users (...) VALUES (...);");
    $query->execute(....);
}
else die('Connection lost'); 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-10-17T06:49:50.993

```
try{
if(!is_null($db))
{
    $query = $db->prepare("INSERT INTO users (...) VALUES (...);");
    $query->execute(array(
        '...' => $...,
        '...' => $...
    ));
}
}
catch(Exception $e){
    $GLOBALS['errors'][] = $e;
} 
```

# vb.net - Datagridview 不清除或替换 previos 数据 vb.net

> ID：12928492
> 
> 赞同：1
> 
> 时间：2012-10-17T06:35:58.673
> 
> 标签：vb.net

找不到用新数据替换以前数据的方法....

我使用一个按钮在 dgv 中查看我的表格。当我单击按钮两次查看我的表格时，它只显示下一个数据和上一个数据

这是我正在使用的代码

```
Private Sub cmdview_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles cmdview.Click

    connetionstring = "Integrated Security = SSPI; data source= DELL-PC;Initial catalog=Library System"
    connection = New SqlConnection(connetionstring)
    sql = "select * from dbo.tblbook"

    Try

        connection.Open()
        adapter = New SqlDataAdapter(sql, connection)
        adapter.Fill(ds)
        connection.Close()
        dtg1.DataSource = ds.Tables(0)
        Return
    Catch ex As Exception
        MsgBox(ex.ToString)
    End Try

End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T06:59:21.613

[http://msdn.microsoft.com/en-us/library/bh8kx08z.aspx](http://msdn.microsoft.com/en-us/library/bh8kx08z.aspx) “表和列仅在它们不存在时才创建；否则 Fill 使用现有的 DataSet 架构。”意思是如果您的数据集中有数据如果您使用填充，它不会被覆盖。所以在你的适配器之前试试这个。填充线：

```
ds.Clear() 
```

# android - 由于 java.lang.NullPointerException 导致 Android 应用程序关闭

> ID：12928493
> 
> 赞同：0
> 
> 时间：2012-10-17T06:36:01.700
> 
> 标签：android

这是一个似乎已被广泛涵盖的主题，但我无法弄清楚是什么导致了我的问题。我在我的应用程序上使用选项卡布局，它们都可以正常工作，除了一个抛出这个：

```
E/AndroidRuntime(1190): Caused by: java.lang.NullPointerException
E/AndroidRuntime(1190): at com.package.Example.onCreate(clas.java:62)
 E/AndroidRuntime(1190): at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047) 
```

我找到了导致问题的行（62），但我很困惑，因为我在其他 5 个实例中以相同的方式进行了编码。我发现 java.lang.NullPointerException 是在未引用某些内容时调用它，但事实并非如此，因为我在我的 onCreate 中引用了它。这是我的课程，粗体线是导致我的问题的课程。感谢您的帮助！

```
public class Example extends Activity implements OnClickListener{

    ImageButton image1;
    ImageButton glow1;
    WebView webview1;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.examplelayout);

        final ImageButton image1 = (ImageButton)findViewById(R.id.webgoogle);
        final ImageButton glow1 = (ImageButton)findViewById(R.drawable.googleglow);
        final WebView webview1 = (WebView)this.findViewById(R.id.webView6);
        final MediaPlayer sound = MediaPlayer.create(Youtube.this, R.raw.appsound);

        image1.setOnClickListener(new View.OnClickListener() {

            public void onClick(View v) {
                // TODO Auto-generated method stub
                webview1.loadUrl("http://www.google.com");
                if(sound.isPlaying()){
                image1.setVisibility(ImageButton.VISIBLE);
                glow1.setVisibility(ImageButton.GONE);

            }else {
                sound.start();
                image1.setVisibility(ImageButton.GONE);
                glow1.setVisibility(ImageButton.VISIBLE);

            }
            }
        });

        **glow1.setOnClickListener(new View.OnClickListener() {**

            public void onClick(View v) {
                // TODO Auto-generated method stub
            webview1.loadUrl("http://www.google.com");
            if(sound.isPlaying()){
            glow1.setVisibility(ImageButton.GONE);
            image1.setVisibility(ImageButton.VISIBLE);

        }else {
            sound.start();
            glow1.setVisibility(ImageButton.VISIBLE);
            image1.setVisibility(ImageButton.GONE);
        }
        }
        }); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-17T06:38:09.810

发现你的问题，

```
 final ImageButton glow1 = (ImageButton)findViewById(R.drawable.googleglow); 
```

这应该是，

```
 final ImageButton glow1 = (ImageButton)findViewById(R.id.googleglow); 
```

您使用 Drawable 和 id 错误地投射 res。

# ruby-on-rails - 控制器之间的rails变量

> ID：12928499
> 
> 赞同：0
> 
> 时间：2012-10-17T06:36:29.440
> 
> 标签：ruby-on-rails, ruby, variables, activerecord, parameters

颜（又一个新人）

使用 rails，我有一个“学生”控制器和一个“联系人”控制器，当然还有一个学生模型和联系人模型。contact belongs_to student 和 student has_many 联系人。我有一个学生索引页面，其中列出了每个学生，可以选择为每个学生单击“添加联系人”。当我尝试调用联系人的“新”操作以及随后的“新”视图时，我失去了它。我如何/在哪里初始化学生和/或联系人，以便联系人知道 student_id。现在，我将学生传递给 new_contact_path，但是我必须在联系人控制器中将 student_Id 称为 params(:format) 才能使其工作。这显然不是最好的方法。任何想法下面的代码片段：

```
ContactsController:
def new
    @contact = Contact.new
    @student = Student.find(params[:format])
end

students index:
<% @students.each do |student| %>
  <tr>          
    <td><%= link_to 'Contacts', new_contact_path(student) %></td>
  </tr>
<% end %> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:53:10.247

您可以在 new_contact_path 链接中传递 student_id。

```
<%= link_to 'Contacts', new_contact_path(student, :student_id => student.id) %> 
```

并在控制器中

```
class ContactsController
  def new
    @student = Student.find(params[:student_id])
  end
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T10:55:42.330

当你需要找到学生时

```
@student = Student.find(params[:format]) 
```

你的路线肯定有问题。

你的路线应该是这样的：

```
resources :students do
  resources :contacts
end 
```

你的代码应该是：

```
@student = Student.find(params[:student_id]) 
```

如果您正确初始化@students，您发布的索引视图应该可以正常工作。

# version-control - 在软件开发过程中，我应该什么时候开始使用版本控制？

> ID：12928500
> 
> 赞同：5
> 
> 时间：2012-10-17T06:36:29.043
> 
> 标签：version-control

这不是“我为什么要使用版本控制”的问题 :-)

到目前为止，我一直在我编写的每个项目的第一行代码中使用版本控制。然而昨天我提出了一个我找不到答案的问题（也许是一个愚蠢的问题）：在软件开发过程中什么时候应该真正开始版本控制？它应该从第一行代码开始，就像我一生都在做的那样，还是应该从你真正拥有代码的可操作版本开始？换句话说：是否应该在您的软件的**第一个**版本之前使用版本控制？（我的意思是版本控制，当然不是源备份！）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T10:10:41.720

无需版本控制的预开发；但是您需要的是某种形式的协作机制来跟踪规范和文档的更改。

一些团队在此阶段部署版本控制。就我个人而言，我在这里没有发现它的价值，wiki/trello 或类似的东西更有价值，更有意义；因为你正在跟踪很多抽象的想法。

一旦你开始编写代码——你应该开始版本控制过程；在部署之前的整个开发阶段，您将继续使用版本控制；这是您开始从中获得*价值*的地方。特别是如果您正在与他人一起发展。如果你是一个单独的开发者，版本控制可能看起来像是无用的额外工作；这是有争议的，但是当你在一个团队中工作时，这是*必不可少*的。

项目部署后；修订控制是**关键**和**强制性**的。您根本无法承受没有它 - 版本控制为您在部署后承担的工作类型提供了很多好处。错误修复、自动化测试、部署——这些可以很容易地从您的版本控制系统中自动化。如果你在开发过程中没有使用版本控制；现在是部署它的最佳时机，因为您有可靠的代码库作为参考点。

如今，使用 mercurial/git 及其在线托管服务，版本控制非常简单，无需花费任何费用即可开始使用；好处远远超过任何缺点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T07:06:42.227

这个问题很抽象。所以，一个同样抽象的答案。

我认为您应该在特定项目开始增加价值时立即对它使用版本控制。

如果您可以区分两个阶段 - 概念证明/原型等，以及产品代码，我认为您应该将两者的代码库分开。您可以同时使用版本控制工具（首先是源备份，然后是真正的版本控制），只是避免将生产存储库与早期的东西混在一起。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T07:02:00.997

如果您仅对代码使用版本控制，您可以问这个问题。
但理想情况下，版本控制应该可以帮助您**重现**构建，这意味着配置文件和其他设置可能与您的第一行代码一样重要。

参见例如“[`.classpath`和`.project`- 是否检查版本控制？](https://stackoverflow.com/questions/2818239/classpath-and-project-check-into-version-control-or-not/2819639#2819639)。

这是一种有助于*协作*的数据，因为其他开发人员将很快启动并运行（即能够*构建您的程序）。*

# android - 是否可以在新的 BlackBerry 10 上将 Android 应用程序与 BBM 集成？

> ID：12928504
> 
> 赞同：0
> 
> 时间：2012-10-17T06:36:45.883
> 
> 标签：android, blackberry-10, bb-messenger

有可能将原生 Android Java 应用程序“转换”为 BlackBerry（BlackBerry Runtime for Android），但有没有办法将该应用程序连接到 BlackBerry 10 BBM？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T15:14:22.660

不，不是此刻。正如评论中所发布的，您可以随时查看[到达板/路线图](http://developer.blackberry.com/android/tools/roadmap/)，尽管尚未提及 BBM 集成。

# ios5 - 如何在 IOS 中创建具有不同 TableViewCell 的 TableView？

> ID：12928505
> 
> 赞同：0
> 
> 时间：2012-10-17T06:36:48.550
> 
> 标签：ios5, uitableview

嗨，在我的应用程序中，我想基于值动态创建 tableview 我需要添加具有不同控件的 UItableView 单元格，例如（带有标签的单元格 1、标签 2）、（带有标签的单元格 2、文本字段 2）、（带有标签 1 的单元格 3、段 1）等。我创建了我的 Xib 中的 UItableViewCell。但我无法动态加载它们。如果有人知道回复我谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:44:12.447

您必须在 cellForRowAtIndexPath 方法上执行此操作。像这样的东西。

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

    if (indexPath.row == 0) {
       return cell0;
    } else if (indexPat.row == 1) {
        return cell1;
    } else if (indexPat.row == 2) {
        return cell2;
    } else if (indexPat.row == 3) {
        return cell3;
    }

} 
```

cell0、cell1、cell2、cell3 是您在界面生成器上创建并与 IBOutlet 链接的单元格。

# ios - 在 NSDocumentDirectory 上禁用数据备份时，CFURLSetResourcePropertyForKey 失败

> ID：12928509
> 
> 赞同：31
> 
> 时间：2012-10-17T06:37:03.480
> 
> 标签：ios, nsdocumentdirectory

我正在尝试下载图像文件并存储在`NSDocumentDirectory`. 为此，我必须关闭 iCloud 和 iTunes 上的数据备份。以下是我的代码：

```
+(void)saveData:(NSData*)thedata:(NSString*)fileName
{
   NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
   NSString *documentsDirectory = [paths objectAtIndex:0];
   NSString *localFilePath = [documentsDirectory stringByAppendingPathComponent:fileName];
   NSFileManager *fileManager = [NSFileManager defaultManager];
   [fileManager createFileAtPath:localFilePath contents:thedata attributes:nil];
   //prevent files from backup on iCloud or iTune
   NSURL *fileURL = [NSURL URLWithString:localFilePath];
   [self addSkipBackupAttributeToItemAtURL:fileURL];
} 
```

对于我的 addskipbackupattributetoitematurl：

```
+(BOOL)addSkipBackupAttributeToItemAtURL:(NSURL *)fileURL
{
   if (![[NSFileManager defaultManager] fileExistsAtPath:[fileURL path]])
   {
       NSLog(@"File %@ doesn't exist!",[fileURL path]);
       return NO;
   }
   NSString *currSysVer = [[UIDevice currentDevice] systemVersion];    
   if ([currSysVer isEqualToString:@"5.0.1"])
   {
       const char* filePath = [[fileURL path] fileSystemRepresentation];
       const char* attrName = "com.apple.MobileBackup";
       u_int8_t attrValue = 1;
       int result = setxattr(filePath, attrName, &attrValue, sizeof(attrValue), 0, 0);
       NSLog(@"Excluded '%@' from backup",fileURL);
       return result == 0;
   }
   else if (&NSURLIsExcludedFromBackupKey)
   {
       NSError *error = nil;
       BOOL result = [fileURL setResourceValue:[NSNumber numberWithBool:YES] forKey:NSURLIsExcludedFromBackupKey error:&error];
       if (result == NO)
       {
           NSLog(@"Error excluding '%@' from backup. Error: %@",fileURL, error);
           return NO;
       }
       else
       { 
           NSLog(@"Excluded '%@' from backup",fileURL);
           return YES;
       }
   }
   else
   {
       return YES;
   }
} 
```

但是，`BOOL result = [fileURL setResourceValue:[NSNumber numberWithBool:YES] forKey:NSURLIsExcludedFromBackupKey error:&error];`创建了以下消息

> CFURLSetResourcePropertyForKey 失败，因为它通过了这个没有方案的 URL：/var/mobile/Applications/CF69D567-1D37-4053-BFA8-5D0FCBD9C2B2/Documents/coffee.jpg

我只是想知道有没有人遇到过这个问题？？

* * *

## 回答 #1

> 赞同：135
> 
> 时间：2012-10-17T12:40:10.563

解决了。一旦我改变

```
NSURL *fileURL = [NSURL URLWithString:localFilePath]; 
```

到

```
NSURL *fileURL = [NSURL fileURLWithPath:localFilePath]; 
```

一切正常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-09-12T09:17:16.847

**斯威夫特**：

```
let fileURL = URL(fileURLWithPath: somepath) 
```

# php - PHP 表单中的 Javascript 函数不可预测的结果

> ID：12928510
> 
> 赞同：0
> 
> 时间：2012-10-17T06:37:06.420
> 
> 标签：php, javascript, function, drop-down-menu

我正在尝试使用一系列 Javascript 函数在不同的 PHP 页面上返回下拉结果。我得到了不可预测的结果。

下面是一个函数的示例。我在我的 PHP 页面的正文 onLoad 语句中调用它（位于单独的文件中）。

这是函数（我使用包含文件建立数据库连接）：

```
function SelectMonth(){
<?php
$sqlMonthSelect = mysql_query("SELECT * FROM ListValues");

while ($month= mysql_fetch_array($sqlMonthSelect)){
echo "addOption(document.form1.BMonth, '$month[ListValue]', '$month[ListValue]');";
echo "addOption(document.form1.AltBMonth, '$month[ListValue]', '$month[ListValue]');";
}?>
} 
```

如果我在页面上的 form1 中有两个字段，我将在两个列表中看到值。但是，如果我在页面上的 form1 中只有 BMonth 字段（对于快速输入版本），我看不到 BMonth 列表中的值。

我希望使用相同的功能来填充同一页面上存在的不同下拉列表，并在某些下拉列表存在时填充它们。我无法在网上找到任何可以重用这样相同功能的东西，但在我看来它应该可以工作。这是 JS 的问题，还是我有某种逻辑/语法错误？

预先感谢您的协助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T06:43:39.383

如果文档中没有 document.form1.AltBMonth，则 addOption() 应该失败，因为 NULL 不能有值。检查浏览器中的 javascript 控制台并查看错误。

# c# - 如何阻止 oracledatareader 读取

> ID：12928519
> 
> 赞同：2
> 
> 时间：2012-10-17T06:37:33.057
> 
> 标签：c#, oracle, c#-4.0, datareader

我创建了一个软件来从 Oracle DB 读取数据，通过 SMS 发送它，但是当我按下键盘上的 C 键时，我想阻止 datareader 读取，但是当我这样做时，我收到以下异常消息：

```
Operation is not valid due to the current state of the object 
```

堆栈跟踪：

```
at Oracle.DataAccess.Client.OracleDataReader.Read()
   at Test_SMS_AT_Command.Program.OnTimer(Object obj, EventArgs args) 
```

这是我的代码：

```
 oraCommand.ExecuteNonQuery();

                OracleDataAdapter oraDataAdapter = new OracleDataAdapter(oraCommand);
                Oracle.DataAccess.Types.OracleRefCursor refCursor = (Oracle.DataAccess.Types.OracleRefCursor)oraParameter.Value;
                OracleDataReader reader = refCursor.GetDataReader();
                while (reader.Read())
                {
                    if (cki.Key == ConsoleKey.C)
                    {
                        cancel();                     

                        if (reader != null)
                        {
                            reader.Close(); //Closed
                        }

                        break;

                    }

                    if (sms.sendSms(reader["MOBILE_NO"].ToString(), reader["TEXT"].ToString()))
                    {
                        Console.WriteLine("Message successfully sent to " + reader["MOBILE_NO"].ToString() + ": " + DateTime.Now);
                        setStatus(Convert.ToInt32(reader["GORANNET_SMS_ID"]));
                        writeToFile(reader["TEXT"] + " sent to " + reader["MOBILE_NO"] + " at: " + DateTime.Now);
                    }
                    else
                    {
                        Console.WriteLine("Message was not sent");
                    }
                    System.Threading.Thread.Sleep(15000);
                } 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T07:03:34.873

调用 reader.Close(); 在while语句之后...

# android - 如何在 Android contentprovider 查询中选择要接受的 SQLite 列？

> ID：12928522
> 
> 赞同：0
> 
> 时间：2012-10-17T06:37:49.040
> 
> 标签：android, sqlite

我一直在兜兜转转。如果我将列选择设置为 null 一切正常。当我尝试选择列时，出现致命错误“投影中的未知列”。我已经验证了列名是正确的。

这是列选择代码：

```
String[] MyColumns = new String[] { MyTable.COLUMN_ID, MyTable.COLUMN_A, 
    MyTable.COLUMN_B, MyTable.COLUMN_C };
Uri Myuri = MyContentProvider.CONTENT_URI; //specify the content provider location (Uri)
Cursor Mycursor = getContentResolver().query(Myuri, MyColumns, null, null, null); 
```

我还尝试将新字符串放入查询中，而不是 MyColumns 变量。那也失败了。帮助！有什么建议么？

@Yul，@Praful Bhatnagar：这是所要求的表创建代码（注意：这是 contentprovider 数据库）：

```
public class MyTable {
// Define Database table and column names
public static final String TABLE_NAME = "MyTable";
public static final String COLUMN_ID = "_id";
public static final String COLUMN_A = "test1";
public static final String COLUMN_B = "test2";
public static final String COLUMN_C = "test3"; 
```

// 创建数据库的sql语句

```
private static final String DATABASE_CREATE = "create table " +TABLE_NAME+ "(" + 
    COLUMN_ID + " integer primary key autoincrement, " +
    COLUMN_A + " text not null," +
    COLUMN_B + " long not null," +
    COLUMN_C + " real);";

public static void onCreate(SQLiteDatabase database) {
    database.execSQL(DATABASE_CREATE);
} 
```

# java - 框架是样本吗？

> ID：12928523
> 
> 赞同：0
> 
> 时间：2012-10-17T06:37:50.773
> 
> 标签：java, frame, sample, wave

我正在使用 Java 中的声音文件来完成家庭作业（仅处理*波形文件*）。我已经阅读了很多关于波形文件和标题的文章和信息，我唯一感到困惑的是一个框架（用于读取/处理/或操纵声音数据）。

任何人都可以帮助我澄清框架的概念吗？我一直在阅读 Frame 与 Sample 是可互换的术语。但是我在两者之间感到困惑，或者是否有任何区别。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:43:19.217

一帧包含音频文件中每个通道的一个样本。对于单声道 WAV 文件，样本大小仅为一个样本。对于立体声 WAV，每一帧将有两个样本，一个用于左声道，一个用于右声道。相同的逻辑适用于更多通道（5.1 等）

[此页面](http://www.blitter.com/~russtopia/MIDI/~jglatt/tech/wave.htm)上有更多说明，请参阅“示例点和示例框架”部分）

# url - URL地址中'//'的含义是什么

> ID：12928527
> 
> 赞同：1
> 
> 时间：2012-10-17T06:38:11.530
> 
> 标签：url

我遇到了一个 URL (http://www.someurl.com//books/category:10000/)，我在其中遇到了“//”作为 URL 的一部分。

URL中的'//'是什么意思。还请提供一些进行此类条目的用例。如果可能的话，请提供一些资源，让我可以阅读更多关于 URL 结构的信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:45:44.533

多个连续的斜杠通常会被忽略，尽管一些 Web 服务器可能会对其进行特殊处理。它可能是特定于实现的。如果它是标准的一部分，那么它就会被松散地遵循。

这个问题：[URL地址中'//'的含义是什么](https://stackoverflow.com/questions/12928527/what-is-the-meaning-of-in-a-url-address/12928627#12928627)

这个问题带有一些额外的斜线：[https ://stackoverflow.com//////questions//////12928527///what-is-the-meaning-of-in-a-url-address/ 12928627#12928627](https://stackoverflow.com//////questions//////12928527///what-is-the-meaning-of-in-a-url-address/12928627#12928627)

[这是关于网站管理员堆栈交换网站上额外斜线的重要性的问题。](https://webmasters.stackexchange.com/questions/8354/what-does-the-double-slash-mean-in-urls)

# java - 使用 sa 帐户但不适用于其他帐户的代码

> ID：12928528
> 
> 赞同：1
> 
> 时间：2012-10-17T06:38:14.063
> 
> 标签：java, spring, sql-server-2008

我有一个 jdbc 属性文件

```
database.username=mfuser
database.password=mfuser 
```

如果我将其更改为 user/pass --> sa/pass 那么我的 Web 应用程序可以完美运行，但使用 mfuser 可以。我已经在 SQL Server 安全性中创建了一个名为 mfsuer 和密码 mfuser 的用户，但它仍然无法正常工作......

我需要如何创建用户`mfuser`才能使其正常工作？我需要为此用户提供任何特殊权限吗？我想要它一样`sa`

这是我在使用 mfuser 时遇到的错误

```
org.springframework.dao.PermissionDeniedDataAccessException: PreparedStatementCallback; SQL [select lm.login_id,lm.login_name,lm.login_password,lm.full_name, lm.email_address,lm.phone,lm.notes,lm.delete_status,lm.create_date,lm.create_by,lm.modify_date,lm.modify_by FROM Login_Master lm where lm.login_id=(select lm1.login_id from Login_master lm1 where lm1.login_name=? and lm1.login_password =?) ]; The SELECT permission was denied on the object 'Login_Master', database 'MCData', schema 'dbo'.; nested exception is java.sql.SQLException: The SELECT permission was denied on the object 'Login_Master', database 'MCData', schema 'dbo'. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T06:44:34.473

看起来用户 mfuser 无权访问您的应用程序需要访问的表。

如果您使用 sa 用户创建了数据库模式，则必须授予对 mfuser 的访问权限。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-17T06:45:35.347

用户`mfuser`没有足够的权限来更改表、架构或数据库中的数据。您应该使用该用户访问您的 SQL Server 2008，`sa`并授予`mfuser`.

请按照本文中的步骤[解决](https://stackoverflow.com/q/3998634/1065197)您的问题。

# ubuntu - haproxy运行错误？

> ID：12928540
> 
> 赞同：0
> 
> 时间：2012-10-17T06:38:50.353
> 
> 标签：ubuntu, haproxy

我正在使用 HA-Proxy 版本 1.3.22 和 Ubuntu 10.04。这是我的配置文件。

```
global
        maxconn     25000  
        daemon
        nbproc      4 

defaults
        mode        http
        clitimeout  60000
        srvtimeout  30000
        contimeout  4000
        timeout http-request 5s  
        option      httpclose 

listen  http_proxy *:80
        #bind *:80
        balance roundrobin 
        option httpchk
        option forwardfor 
        use_backend bk_web_static if { path_end .jpg .png .gif .css .js }
        default_backend bk_web 

backend bk_web  

        balance roundrobin ## change to URL hashing

        server server1 0.0.0.0:3002 weight 1 maxconn 512 check
        server server2 0.0.0.0:3003 weight 1 maxconn 512 check
        server server3 0.0.0.0:3004 weight 1 maxconn 512 check

backend bk_web_static
  balance roundrobin
        server server1 0.0.0.0:3002 weight 1 maxconn 1000 check
        server server2 0.0.0.0:3006 weight 1 maxconn 1000 check
        server server3 0.0.0.0:3007 weight 1 maxconn 1000 check 
```

运行 haproxy 时出现以下错误。我在网上找到了这个配置代码。我猜该代码是针对某些最新版本的。请告诉我为了运行 haproxy 服务器我做了哪些更改。

```
 [ALERT] 290/100612 (2745) : parsing [/etc/haproxy/haproxy.cfg:24] : error detected while parsing switching rule.
[ALERT] 290/100612 (2745) : Error(s) found in configuration file : /etc/haproxy/haproxy.cfg
[ALERT] 290/100612 (2745) : Fatal errors found in configuration. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T11:32:16.290

在您的收听会话中尝试使用此配置：

```
listen  http_proxy *:80
        balance roundrobin 
        option httpchk
        option forwardfor 

        acl is_static path_end -i .jpg .png .gif .css .js 
        use_backend bk_web_static if is_static

        default_backend bk_web 
```

# regex - 如何确保用户始终在输入文件中添加特定令牌？

> ID：12928542
> 
> 赞同：0
> 
> 时间：2012-10-17T06:38:55.363
> 
> 标签：regex, yacc

输入文件：
parameter1 abc
parameter2 123
parameter3 xyz
如果parameter2是强制定义的，而用户忘记了，可以用yacc报告这个缺失的变量吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T12:45:51.740

我将扩展我的评论并尝试做出正确的回答。yacc是一个做句法分析的工具，也就是分析单词或记号的语法排列。使用 yacc 生成的解析器将一串标记识别为有效，例如

```
a = b + 2 
```

并拒绝一个无效的字符串，如

```
2 b a = + 
```

存在相同的标记，但以不同的非语法顺序存在。

相反，像 grep 这样使用一些简单正则表达式的简单字符串匹配工具似乎是您的选择。正则表达式

```
/^parameter2/ 
```

匹配以字符串“parameter2”和正则表达式开头的任何行

```
/^parameter[0-9]\s*[0-9]+$/ 
```

匹配包含从 0 到 9 编号的参数、一些空格和一串数字组成的任何行。您还有其他选项可用于跨行匹配、不区分大小写匹配等。

* * *

现在，如果您的特定问题包括验证分配给参数的值的类型信息，例如，`parameter2`必须采用整数而不是字符串，那么 yacc 可能会很有用。但是，正如我所写的，我认为要设置很多设备来解决看似简单的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T13:10:27.027

您可以创建一个语法规则，规定`parameter2`必须在输入中恰好出现一次：

```
valid_file: opt_param_list param2 opt_param_list
    ; 
```

然后，语法将仅将包含`param2`某处的文件识别为语法上有效的文件。

但是，您所追求的更多的是语义检查而不是句法检查。您可能会更好地在操作中而不是在语法中实施规则：

```
valid_file: opt_param_list
    {   if (param2_specified())
            YYACCEPT;
        else
        {
            err_report("No specification for parameter2");
            YYABORT;
        }
    }
    ; 
```

# c# - 如何获得从今天开始的 x 天数？

> ID：12928547
> 
> 赞同：0
> 
> 时间：2012-10-17T06:39:28.367
> 
> 标签：c#, date

我正在尝试获取今天的日期并找到未来 x 天的日期。因此，例如，我想找到从现在起 30 天后的日期 - 我应该考虑使用哪个库？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-17T06:42:34.957

您可以使用[`DateTime`](http://msdn.microsoft.com/en-us/library/system.datetime.aspx) and[`TimeSpan`](http://msdn.microsoft.com/en-us/library/system.timespan.aspx)结构。

```
DateTime in30Days = DateTime.Today.AddDays(30); 
```

或者

```
TimeSpan days30 = TimeSpan.FromDays(30);
DateTime in30Days = DateTime.Today + days30; 
```

如果您需要`DateTime`大量需要和时间段计算，您应该查看我可以推荐 [的 .NET（开放许可证）的时间段库。](http://www.codeproject.com/Articles/168662/Time-Period-Library-for-NET)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-17T06:41:58.167

采用`DateTime`

```
DateTime _x = DateTime.Today.AddDays(30); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-17T06:42:28.993

您不需要库，.NET DateTime 结构拥有您所需要的一切。

有关解释和示例，请参阅[http://msdn.microsoft.com/en-us/library/system.datetime.adddays.aspx ！](http://msdn.microsoft.com/en-us/library/system.datetime.adddays.aspx)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-17T06:45:15.843

System.DateTime 是您需要的结构。

例子：

```
DateTime.Today.AddDays(30); //30 days forwards
DateTime.Today.AddDays(-30); //30 days backwards. 
```

# dart - 为什么使用 Dart 作为前端开发人员？

> ID：12928549
> 
> 赞同：12
> 
> 时间：2012-10-17T06:39:35.383
> 
> 标签：dart

我只是想了解为什么应该使用 DART 而不是 JS，特别是如果您在前端工作；Dart VM 甚至没有内置在 Chrome 中。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-10-17T08:11:46.497

不用担心 Chrome，当稳定版 1.0 发布时，它会在 Chrome 中发布。

您可能希望选择 Dart 而不是纯 JavaScript 进行前端开发的几个原因：

*   [更好的 DOM API](http://www.dartlang.org/articles/improving-the-dom/)
*   [更有生产力](http://www.dartlang.org/#productive-tools)
*   更简单更清晰的语义
*   词汇闭包
*   库和包管理器
*   可选的静态类型
*   从字面上看，大量的小细节使它成为一个更好的体验（命名参数、箭头函数等）

您可能想阅读本章，因为它解释了 Dart 可以做的各种事情：[http ://www.dartlang.org/docs/dart-up-and-running/ch02.html](http://www.dartlang.org/docs/dart-up-and-running/ch02.html)

你也可以阅读这个问题的答案[“ *Dart 对 Web 开发人员有什么有用的功能吗？* ”](https://softwareengineering.stackexchange.com/questions/164273/does-dart-have-any-useful-features-for-web-programmers/164304#164304)

# mysql - 对子查询中的多个值重复主查询

> ID：12928553
> 
> 赞同：0
> 
> 时间：2012-10-17T06:39:58.127
> 
> 标签：mysql

我的桌子是

```
 login_table
    {
    varchar: User_id//primary key
    //other stuff
    }
   token_table
   {
    varchar token_table;//primary key
    varchar user_id
   }
   token_messages
   {varchar: Mes_id
   varchar: token_id;
    } 
```

现在我想获取某个用户下每个令牌的消息计数；像 ：

```
token_id Mes_count
1          5
5          12
6          0
7          4 
```

这里 1 5 6 7 是说用户的令牌：deepu

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T06:43:25.913

试试这个：

```
 SELECT tm.token_id, COUNT(t.user_id) `Mes_count`
 FROM token_messages tm
 INNER JOIN token_table t ON tm.token_id = t.token_id
 INNER JOIN login_table l ON t.user_id = l.user_id
 WHERE l.user_name = 'deepu'
 GROUP BY tm.token_id 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T07:14:12.600

试试这个：

```
select tm.token_id,count(*) as msg_cnt from 
token_messages tm inner join token_table t
on tm.token_id=t.token_id and t.user_id in(select user_id from login_table where user_name = 'deepu')
group by tm.token_id 
```

# c++ - 计算快速排序算法中组件明智比较的数量。

> ID：12928556
> 
> 赞同：1
> 
> 时间：2012-10-17T06:40:11.930
> 
> 标签：c++, algorithm, quicksort

我正在尝试计算我的快速排序算法对数组大小为 500 的比较次数。我知道快速排序与分区的最佳情况是 nlogn-n+1。因此，对于 500 的数组大小，组件比较的最佳情况数约为 3983。但是，当我运行我的代码时，我得到了 2400 次左右的比较，具体取决于随机函数生成的数组。我计算组件明智比较的数量是否错误？请帮忙。

```
#include <iostream>
    #include <string>
    #include <stdlib.h>
    using namespace std;

    int count_500 = 0;

    int partition(int *S,int l, int u);
    void swap(int &val1, int &val2);
    void Quicksort(int S[],int low, int hi);
    void exchange(int list[], int p, int q);
    int median_of_3(int list[], int p, int r);
    void Quicksort_M3(int S[], int low, int hi);

    int main()
    {
            int S1_500[500];
            int S2_500[500];
            int S3_500[500];

            int S1_200[200];
            int S2_200[200];
            int S3_200[200];

            int S1_8[8];
            int S2_8[8];
            int S3_8[8];

            srand ( time(NULL) );

            for(int i=0; i<500; i++)
            {
                    S1_500[i] = rand()%1000;
                    S2_500[i] = rand()%1000;
                    S3_500[i] = rand()%1000;
            }

            for(int i=0; i<200; i++)
            {
                    S1_200[i] = rand()%500;
                    S2_200[i] = rand()%500;
                    S3_200[i] = rand()%500;
            }

            for(int i=0; i<8; i++)
            {
                    S1_8[i] = rand()%100;
                    S2_8[i] = rand()%100;
                    S3_8[i] = rand()%100;
            }

            Quicksort(S1_500,0,499);
            for(int i=0; i<500; i++)
            {
                    cout << S1_500[i] << endl;
            }

            cout << "Number of component wise comparisons is: " << count_500 << endl;

    }

    int partition(int *S,int l, int u)
    {
            int x = S[l];
            int j = l;
            for(int i=l+1; i<=u; i++)
            {
                    if(S[i] < x)
                    {       
                            count_500++; // Count the component wise comparison
                            j++;
                            swap(S[i],S[j]);
                    }
            }
            int p = j;
            swap(S[l],S[p]);
            return p;
    }

    void swap(int &val1, int &val2)
    {
            int temp = val1;
            val1 = val2;
            val2 = temp;
    }

    void Quicksort(int S[],int low, int hi)
    {
            if (low < hi)
            {
                    int p = partition(S,low,hi);
                    Quicksort(S,low,p-1);
                    Quicksort(S,p+1,hi);
            }
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-17T06:43:07.690

你想要`count_500++;`外面的`if`声明。你只计算比较，结果是`true`.

改变

```
 if(S[i] < x) 
                {        
                        count_500++; // Count the component wise comparison 
                ...
                } 
```

到

```
 count_500++; // Count the component wise comparison 
                if(S[i] < x) 
                {        
                ...
                } 
```

# javascript - 谷歌地图方向线

> ID：12928559
> 
> 赞同：0
> 
> 时间：2012-10-17T06:40:24.087
> 
> 标签：javascript, google-maps

我有这段代码允许用户输入两个城市，并显示给定输入的位置。但我想要的是展示从第一个城市到另一个城市的方向。怎么做？

这是我的练习代码：

```
<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
      html { height: 100% }
      body { height: 100%; margin: 0; padding: 0 }
      #map_canvas { height: 100% }
    </style>
    <script type="text/javascript"
      src="http://maps.googleapis.com/maps/api/js?key=AIzaSyBQ8OCC8En5vNHod25Ov3Qs5E1v7NPRSsg&sensor=true">
    </script>
    <script type="text/javascript">
        var geocoder;
        var map;
        function initialize1() {

        var mapOptions = {
          center: new google.maps.LatLng(-34.397, 100.644),
          zoom: 8,
          mapTypeId: google.maps.MapTypeId.ROADMAP  
        };
        var map = new google.maps.Map(document.getElementById("map_canvas"),
            mapOptions);
      }

        function initialize() {
            // add mapOptions here to the values in the input boxes.
            var mapOptions = {
                center: new google.maps.LatLng(-34.397, 100.644),
                zoom: 12,
                mapTypeId: google.maps.MapTypeId.ROADMAP  
            };
            map = new google.maps.Map(document.getElementById("map_canvas"),mapOptions);
            geocoder = new google.maps.Geocoder();
            addAddress(document.getElementById('from').value);
            addAddress(document.getElementById('to').value);
        }

        function addAddress(place) {
            var address = place;
            geocoder.geocode( { 'address': address}, function(results, status) {
                if (status == google.maps.GeocoderStatus.OK) {
                    map.setCenter(results[0].geometry.location);
                    var marker = new google.maps.Marker({
                    map: map,
                    position: results[0].geometry.location
                });
                } else {
                    alert('Geocode was not successful for the following reason: ' + status);
                }
            });
        }
    </script>
  </head>
  <body>

    From: <input id="from" type="text" name="From"><br>
    To: <input id="to" type="text" name="To"><br>

    <button type="button" onclick="initialize()">View example (map-simple.html)</button>

    <div id="map_canvas" style="width:100%; height:100%"></div>
  </body>
</html> 
```

谢谢

杰森

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T08:42:38.080

说明：起初我创建了两个不同位置和不同数据的标记，然后在任何标记的拖动之后都会有显示地址的信息窗口和两个按钮开始和结束。我想你已经完成了这部分。因此，在此之后，我使用了两个文本框，它们将根据单击的开始按钮或完成按钮来填充。在此之后，如果用户单击查找按钮，则此文本框值用于查找两个标记之间的方向注意：“在这里，您可以为 from 或 to 的任何标记，您必须维护的唯一区别是更改单击的按钮即开始或完成......” “你甚至可以直接在文本框中给出地址并找到它们之间的方向” 这里对于整个操作我使用 gmap3 这里是下面的代码，可能对你有帮助

```
<script type="text/javascript">
    window.onload = clear;
    function clear() {
        $("#from").val(null)
        $("#destination").val(null)
    }

    $(document).ready(function () {
        var starting = "";
        var finishing = "";
        $("#find").click(function () {
            starting = $("#from").val();
            finishing = $("#destination").val();
            $("#map").gmap3(
            {
                action: 'getRoute',
                options: {
                    origin: starting,
                    destination: finishing,
                    travelMode: google.maps.DirectionsTravelMode.DRIVING
                },
                callback: function (results) {
                    if (!results) {
                        alert("returning")
                        return
                    };
                    $(this).gmap3(
                    {
                        action: 'addDirectionsRenderer',
                        options: {
                            preserveViewport: true,
                            draggable: false,
                            directions: results

                        }
                    }
                    );
                }
            })
        })
        $("#map").gmap3({

            action: 'addMarkers',
            markers: [ //markers array
                {lat: 22.74, lng: 83.28, data: 'madhu' },
                { lat: 17.74, lng: 82.28, data: 'raghu' }
            ],
            map: { // this is for map options not for any markers
                center: [17.74, 83.28],
                zoom: 5
            },
            marker: {
                options: {
                    draggable: true
                },

                events: {// marker events
                    dragend: function (marker, event, data) {
                        var contentString = '<div id="main content">'
                            + '<input type="button" id="start" value="start" />'
                            + '<input type="button" id="finish" value="finish" />'
                            + '</div>';
                        //get address on click event
                        $(this).gmap3({
                            action: 'getAddress',
                            latLng: marker.getPosition(),
                            callback: function (results) {
                                var map = $(this).gmap3('get'),
                                infowindow = $(this).gmap3({ action: 'get', name: 'infowindow' })
                                if (infowindow) {
                                    content = results && results[1] ? results && results[1].formatted_address : 'no address';
                                    infowindow.open(map, marker);
                                    infowindow.setContent(content + contentString);
                                }
                                else {
                                    content = results && results[1] ? results && results[1].formatted_address : 'no address';
                                    $(this).gmap3({
                                        action: 'addinfowindow',
                                        anchor: marker,
                                        options: { content: content + contentString },
                                        events: {
                                            domready: function () {
                                                $("#start").click(function () {
                                                    alert("start clicked  " + content);
                                                    $("#from").val(content);
                                                    starting = content; 
                                                    check();
                                                })
                                                $("#finish").click(function () {
                                                    alert("finish clicked  " + content);
                                                    $("#destination").val(content);
                                                    finishing = content;
                                                })
                                            }
                                        }
                                    });
                                }

                            }

                        });
                    },
                }
            },
        });
    });
</script> 
```

这是上面的html部分

```
 <div id="headinput">
            <input type="text" value="enter from" id="from" />
            <input type="text" value="enter destination" id="destination" />
            <input type="button" value="find" id="find" />
        </div>
        <br />
        <div id ="map"style="width: 100%; top: auto; left: auto; position: relative; height: 600px; float:left" ></div> 
```

这是完美的工作，我在 Firefox 浏览器中检查了它........：D

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T07:30:37.213

如果您的意思是“位置”是指地址，您可以使用如下所示的方向渲染器来获取方向。首先将两个标记的位置地址存储到两个文本框中，如果要显示带有 id 的 #from 和 #destination 的往返地址，然后按照下面的代码

```
 $("#find").click(function () {
            starting = $("#from").val();
            finishing = $("#destination").val();
            $("#map").gmap3(
            {
                action: 'getRoute',
                options: {
                    origin: starting,
                    destination: finishing,
                    travelMode: google.maps.DirectionsTravelMode.DRIVING
                },
                callback: function (results) {
                    if (!results) {
                        alert("returning")
                        return
                    };
                    $(this).gmap3(
                    {
                        action: 'addDirectionsRenderer',
                        options: {
                            preserveViewport: true,
                            draggable: false,
                            directions: results

                        }
                    }
                    );
                }
            })
        }) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T13:22:05.287

使用[Google Maps API v3 中的 DirectionsService](https://developers.google.com/maps/documentation/javascript/directions)。这是文档中的一个示例：

[https://google-developers.appspot.com/maps/documentation/javascript/examples/directions-simple](https://google-developers.appspot.com/maps/documentation/javascript/examples/directions-simple)

并带有文字说明：

[https://google-developers.appspot.com/maps/documentation/javascript/examples/directions-panel](https://google-developers.appspot.com/maps/documentation/javascript/examples/directions-panel)

# c# - 如何在 WPF 中获取索引属性的 PropertyType

> ID：12928562
> 
> 赞同：0
> 
> 时间：2012-10-17T06:40:41.993
> 
> 标签：c#, wpf, reflection, viewmodel

我正在使用 DataGrid 中的 DataBinding。我有一个视图模型，它有一个名为**MyDataSource**的 List 类型的属性。Class1 有一个名为**MyList**的属性，类型为 List。Class2 有一个名为**MyProperty**的字符串类型的属性。

**我的 DataGrid xaml 看起来像。**

```
<DataGrid ItemsSource="{Binding MyDataSource}">
        <DataGrid.Columns>
            <DataGridTextColumn Header="MyValue" Binding="{Binding Path=MyList[0].MyProperty}"/>
        </DataGrid.Columns>
</DataGrid> 
```

在这里，我可以在代码中访问 PropertyPath **MyList[0].MyProperty**和 MyDataSource。现在我想通过在 GetProperty 方法中传递**MyList[0].MyProperty**来找出**MyProperty的 PropertyType。**

 **我遵循以下链接中描述的方法。但是这里 MyList[0] 的 PropertyInfo 为空。 [http://www.java2s.com/Code/CSharp/Reflection/Getsapropertysparentobject.htm](http://www.java2s.com/Code/CSharp/Reflection/Getsapropertysparentobject.htm)

编辑：

我还尝试了以下代码：

```
PropertyInfo pInfo = MyDataSource.GetType().GetProperty(MyList[0].MyProperty) 
```

但是 pInfo 在这里返回 null 。

有人可以建议我一个解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T09:14:48.340

不确定您想要实现什么，但您可以使用 ValueConverter，例如：

```
 class MyConverter : IValueConverter
  {
    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)
    {
      var typeName = ((Class2)value).GetType().GetProperty((string) parameter);
      return typeName.ToString();
    } 
```

和 XAML 绑定：

```
<Window x:Class="ThemeTest.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:conv="clr-namespace:ThemeTest"
        Title="MainWindow" Height="350" Width="525">
    <Window.Resources>
        <conv:MyConverter x:Key="propertyToParentTypeConverter"/>
    </Window.Resources> 
```

...

```
 <DataGrid ItemsSource="{Binding MyDataSource}">
        <DataGrid.Columns>
            <DataGridTextColumn Header="MyValue">
                <DataGridTextColumn.Binding>
                    <Binding Converter="{StaticResource propertyToParentTypeConverter}"  ConverterParameter="MyProperty" Path="MyList[0]" />
                </DataGridTextColumn.Binding>
            </DataGridTextColumn>
        </DataGrid.Columns>
    </DataGrid> 
```

* * *

如果您需要遍历一个属性是一个集合的属性链，那么您可以通过以下方式使用反射：

```
 PropertyInfo pInfo = myObject.GetType().GetProperty("MyDataSource");
  if (pInfo != null && pInfo.PropertyType.FullName.StartsWith("System.Collections"))
  {
    foreach (object obj in ((IEnumerable)pInfo.GetValue(myObject, null)))
    {
      PropertyInfo pInfoElement = obj.GetType().GetProperty("MyList");
    }
  } 
```**

# batch-file - 如果条件未在批处理文件的 for 循环中执行

> ID：12928567
> 
> 赞同：1
> 
> 时间：2012-10-17T06:41:14.150
> 
> 标签：batch-file

我们在批处理文件中调用 msbuild 命令。

我们已经通过批处理文件的for循环传递了参数。

```
FOR %%C in (
    CommonInfrastructure
    CommonUtilities
    ) do ( 
        msbuild /t:%BuildCmdType% %BuildFile%  /p:Group=%%C %msbuildLogger% /p:Configuration=Release
        if %ERRORLEVEL% NEQ 0 (
        msbuild /t:SendFailureMail /p:ErrorLogFileName=%ErrorLog% %BuildFile%
        set ErrorBuild=1
        )
    ) 
```

当我分析日志文件时，我看到 If 块中的代码没有被执行。

由于该通知邮件没有被发送。

如何使其执行 if 条件？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-17T08:08:06.943

它是批处理文件的解析类型。
块中的所有百分比，括号内的任何内容，在解析时而不是在执行时扩展。
因此，在您的块中运行任何命令之前，您的 %errrorlevel% 将被扩展一次。所以它*通常*总是为零。

为了避免这种情况，存在延迟扩展，请改用它。

`!errorlevel!`而不是`%errorlevvel%` 并且您需要先激活它才能使用它（最好在批处理脚本的第二行中）。

```
setlocal EnableDelayedExpansion 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-17T11:56:07.980

jeb 正确诊断了您的问题并提供了一个很好的解决方案。你还有其他选择。

`IF ERRORLEVEL 1 ...`（没有百分比）检查 ERRORLEVEL 是否大于或等于 1。只要 msbuild 从不返回负的 ERRORLEVEL，这应该可以工作。

```
FOR %%C in (
    CommonInfrastructure
    CommonUtilities
) do ( 
    msbuild /t:%BuildCmdType% %BuildFile%  /p:Group=%%C %msbuildLogger% /p:Configuration=Release
    if ERRORLEVEL 1 (
        msbuild /t:SendFailureMail /p:ErrorLogFileName=%ErrorLog% %BuildFile%
        set ErrorBuild=1
    )
) 
```

您可以通过使用变量和 IF (NOT) DEFINED 来测试任何非零值，而无需使用扩展

```
set "success="
FOR %%C in (
    CommonInfrastructure
    CommonUtilities
) do ( 
    msbuild /t:%BuildCmdType% %BuildFile%  /p:Group=%%C %msbuildLogger% /p:Configuration=Release
    if errorlevel 0 if not errorlevel 1 set success=1
    if not defined success (
        msbuild /t:SendFailureMail /p:ErrorLogFileName=%ErrorLog% %BuildFile%
        set ErrorBuild=1
    )
) 
```

我首选的解决方案是`||`仅在先前的命令失败时才使用运算符有条件地执行命令。（注意——还有`&&`操作符在成功时有条件地执行）

```
FOR %%C in (
    CommonInfrastructure
    CommonUtilities
) do ( 
    msbuild /t:%BuildCmdType% %BuildFile%  /p:Group=%%C %msbuildLogger% /p:Configuration=Release || (
        msbuild /t:SendFailureMail /p:ErrorLogFileName=%ErrorLog% %BuildFile%
        set ErrorBuild=1
    )
) 
```

# ajax - 来自外部 csv 文件的 Wp 电子商务产品变化价格

> ID：12928572
> 
> 赞同：0
> 
> 时间：2012-10-17T06:41:23.600
> 
> 标签：ajax, wordpress

我正在处理的电子商务网站需要从 CSV 文件更新价格。该文件有两个字段：价格和 SKU。在产品页面上，我插入了以下代码，以便根据 SKU 显示价格。（它可能看起来很粗糙，但那是我的 php 级别）

```
 <?php 
$mysku = wpsc_product_sku(wpsc_the_product_id());
  $data = 'path to the csv file.csv' ; //Obvious
    $pricelist = array();
    if (($handle = fopen($data, "r")) !== FALSE) {
      while (($data = fgetcsv($handle, 1000, ",")) !== FALSE) {
        $pricelist[$data[3]] = $data[0];
        $pricecaption = "Price" ;
      }
      fclose($handle);
    }
    $myprice = $pricelist[$mysku]; 
    if (!$myprice == ' ') {
    echo " " ;
    }else {
    echo $pricecaption." : " .$myprice.".00" ; 
    }
  ?> 
```

这将替换产品页面上的价格。问题在于单个产品页面。那里有变化。因此，当您从下拉列表中选择变体时，它只会显示数据库中的价格。

我知道 Ajax 请求正在从数据库中获取变化价格。但我不知道如何防止这种情况发生并根据所选变体的 SKU 显示价格。

任何帮助将不胜感激。我认为工作必须在 ajax.functions.php 中的 wpsc_update_product_price() 函数上完成

谢谢大家！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T08:45:27.113

尝试使用这个钩子：`add_action( 'wpsc_update_variation_product', 'yourFunction')`在你的主题 functions.php 中并编辑变体以操纵 wpsc_update_product_price 的后续步骤

但我不明白为什么不能将 CSV 导入 wpsc 以使用商店的原始功能......？

# javascript - 如何使用 jQM 和 PhoneGap 安全地存储密码？

> ID：12928575
> 
> 赞同：0
> 
> 时间：2012-10-17T06:41:33.587
> 
> 标签：javascript, cordova, jquery-mobile

我正在制作一个 jQM 和 PhoneGap 应用程序。

我想知道如何安全地存储一些我需要在多个会话中多次使用的数据。除了 localStorage 或 Database 还有其他可能性吗？哪种方式最有效？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T08:21:05.060

我的直觉反应是 localStorage 不安全，而另一个答案似乎证实了这一点：

[https://stackoverflow.com/a/3719435/1751392](https://stackoverflow.com/a/3719435/1751392)

我认为克里希南的结论是正确的：

"*如果需要安全，最好不要将其发送给客户。不受您控制的东西永远不会安全。* "

我不确定您正在处理哪些安全数据，但您是否有机会通过 Web 服务在服务器端应用程序上执行操作？这可能是最安全的选择。底线是客户端应用程序永远不会完全安全（至少在我看来）。

我无法评论 PhoneGap 数据库解决方案的安全性，因为我在该部门没有足够的经验。

# ruby - 在 Mountain Lion 上安装 Ruby 时出现问题 - ruby 1.9.3 无法编译

> ID：12928581
> 
> 赞同：11
> 
> 时间：2012-10-17T06:42:09.250
> 
> 标签：ruby, macos, gcc, rvm, osx-mountain-lion

我之前看过很多关于这方面的帖子，并按照他们的指示进行操作，但没有任何效果。我将在下面概述我所做的事情，以及我遵循的说明 - 将不胜感激任何建议！

我已遵循以下安装说明： http: [//pragmaticstudio.com/blog/2010/9/23/install-rails-ruby-mac](http://pragmaticstudio.com/blog/2010/9/23/install-rails-ruby-mac)

我已经下载了 OSX Mountain Lion 的 X-code，并安装了 gcc 编译器：

```
$ gcc --version
i686-apple-darwin11-llvm-gcc-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2336.11.00)
Copyright (C) 2007 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. 
```

然后我按照指示完成并安装了最新版本的git

```
$ git --version
git version 1.7.10.2 (Apple Git-33) 
```

并通过命令行对 rvm 进行同样的操作：

```
$ rvm --version
rvm 1.16.13 (stable) by Wayne E. Seguin <wayneeseguin@gmail.com>, Michal Papis <mpapis@gmail.com> [https://rvm.io/] 
```

然后当我尝试使用 RVM 安装 ruby​​ 时，我得到以下信息：

```
$ rvm install 1.9.3
No binary rubies available for: osx/10.8/x86_64/ruby-1.9.3-p286.
Continuing with compilation. Please read 'rvm mount' to get more information on binary rubies.
Installing Ruby from source to: /Users/mondemoo/.rvm/rubies/ruby-1.9.3-p286, this may take a while depending on your cpu(s)...
ruby-1.9.3-p286 - #downloading ruby-1.9.3-p286, this may take a while depending on your connection...
ruby-1.9.3-p286 - #extracted to /Users/mondemoo/.rvm/src/ruby-1.9.3-p286 (already extracted)
ruby-1.9.3-p286 - #configuring
Error running 'env LDFLAGS=-L/opt/sm/pkg/active/lib CFLAGS=-I/opt/sm/pkg/active/include CPATH=/opt/sm/pkg/active/include -L/Users/mondemoo/.rvm/usr/lib ./configure --enable-shared --disable-install-doc --prefix=/Users/mondemoo/.rvm/rubies/ruby-1.9.3-p286', please read /Users/mondemoo/.rvm/log/ruby-1.9.3-p286/configure.log
There has been an error while running configure. Halting the installation. 
```

使用备用命令行，虽然有一些额外的位，但我得到了类似的输出：

```
$ rvm install 1.9.3 --with-gcc=clang
-bash: -dumpversion: command not found
-bash: --version: command not found
-bash: --version: command not found
Installing Ruby from source to: /Users/mondemoo/.rvm/rubies/ruby-1.9.3-p286, this may take a while depending on your cpu(s)...
ruby-1.9.3-p286 - #downloading ruby-1.9.3-p286, this may take a while depending on your connection...
ruby-1.9.3-p286 - #extracted to /Users/mondemoo/.rvm/src/ruby-1.9.3-p286 (already extracted)
ruby-1.9.3-p286 - #configuring
Error running 'env LDFLAGS=-L/opt/sm/pkg/active/lib CFLAGS=-I/opt/sm/pkg/active/include CPATH=/opt/sm/pkg/active/include -L/Users/mondemoo/.rvm/usr/lib ./configure --enable-shared --disable-install-doc --prefix=/Users/mondemoo/.rvm/rubies/ruby-1.9.3-p286 --with-gcc=clang', please read /Users/mondemoo/.rvm/log/ruby-1.9.3-p286/configure.log
There has been an error while running configure. Halting the installation.
-bash: --version: command not found 
```

查看configure.logs，我得到以下信息：

```
$ less /Users/mondemoo/.rvm/log/ruby-1.9.3-p286/configure.log
[2012-10-17 07:39:15] env LDFLAGS=-L/opt/sm/pkg/active/lib CFLAGS=-I/opt/sm/pkg/active/include CPATH=/opt/sm/pkg/active/include -L/Users/mondemoo/.rvm/usr/lib ./configure --enable-shared --disable-install-doc --prefix=/Users/mondemoo/.rvm/rubies/ruby-1.9.3-p286 --with-gcc=clang
checking build system type... x86_64-apple-darwin12.2.0
checking host system type... x86_64-apple-darwin12.2.0
checking target system type... x86_64-apple-darwin12.2.0
checking whether the C compiler works... no
configure: error: in `/Users/mondemoo/.rvm/src/ruby-1.9.3-p286':
configure: error: C compiler cannot create executables
See `config.log' for more details 
```

我现在对自己做错了什么感到非常困惑-有人可以提供帮助吗？c编译器（gcc？）似乎存在问题，我是否正确解释它？如果是这样，我该如何解决？另外，如何访问上面 configure.log 中提到的“config.log”？

谢谢！

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-10-17T07:13:45.043

这是 RailsInstaller OSX 1.0.3 中的一个错误 - [https://github.com/railsinstaller/railsinstaller-nix/issues/10](https://github.com/railsinstaller/railsinstaller-nix/issues/10)

您需要更改`/etc/rvmrc`以包含以下内容：

```
umask g+w
export -a rvm_configure_env
rvm_configure_env=('LDFLAGS=-L/opt/sm/pkg/active/lib' 'CFLAGS=-I/opt/sm/pkg/active/include' 'CPATH=/opt/sm/pkg/active/include') 
```

当二进制 ruby​​ 可用于 2.0.0 时，我将准备新版本的安装程序。

更新：对于新版本的 RVM`1.19+` `/etc/rvmrc`应更改为：

```
umask g+w
export rvm_autolibs_flag=smf 
```

并运行`rvm get stabel #OR: head`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-17T17:40:12.187

不确定我是否以“正确”的方式进行操作，但我只是删除了 RVM (rvm implode)，然后重新安装了它 (\curl -L [https://get.rvm.io](https://get.rvm.io) | bash -s stable --ruby) 并安装了它而且现在运行最新版的ruby 1.9.3-p327 没问题。

# ajax - Ajax 形式完美，直到进入另一个页面

> ID：12928584
> 
> 赞同：0
> 
> 时间：2012-10-17T06:42:21.350
> 
> 标签：ajax, jquery

我有一个使用 ajax 提交评论表单的页面，将其添加到数据库，然后重新显示页面，希望无需重新加载页面。

如果我自己访问脚本，它会很好用，但是当我将它加载到另一个页面时，它不会添加数据并且还会刷新提交时的页面，我想避免这种情况，这就是这样做的全部意义方法。

无论如何，这是我加载页面的方式：

```
<div id="wall_comments" class="msgs_holder"></div>

<script type="text/javascript">

    $('#wall_comments').load('/pages/comment.php', { wl_id:"<?=$wl_id?>" });

</script> 
```

然后页面本身带有 jquery 代码：

```
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js" type="text/javascript"></script>

<div style="width:100%; overflow:auto;">

<form method=post>

    <input type="text" class="inp" name="comment" id="comment"> 
    <input type=submit value="do it" name="action" onclick="update()">

    <input type=hidden name="wl_id" value="<?=$_REQUEST[wl_id]?>" id="wl_id">
    <input type=hidden name="user_id" value="<?=$userfromcookie?>" id="user_id">

</form>

</div>

<script type="text/javascript">

function update(){

    var wl_idVal = $("#wl_id").val();
    var commentVal = $("#comment").val();
    var user_idVal = $("#user_id").val();

    $.ajax({
      type: "POST",
      url: "/pages/comment.php",
      cache: false,
      data: { submit: "", wl_id: wi_idVal, comment: commentVal, user_id: user_idVal }
    });

}

</script> 
```

最后将信息输入db（我知道这应该是mysqli，它会是）

```
if(isset($_POST['action'])){ 

$wl_id = mysql_real_escape_string($_POST['wl_id']);
$comment = mysql_real_escape_string($_POST['comment']);
$user_id = mysql_real_escape_string($_POST['user_id']);

$addcomment = mysql_query("insert into list_wall (
            event_id, 
            user_id,
            comment
            ) VALUES (
            '$wl_id',
            '$user_id',
            '$comment'
            )   ",$db);

if(!$addcomment) { echo 'result error add comment'; echo mysql_error(); exit; } // debug

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:48:53.663

问题是当您单击提交按钮时，页面已提交并且功能更新无法工作。您必须使用**return false 取消默认提交机制；**

```
<input type=submit value="do it" name="action" onclick="update() return false;"> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T06:53:33.377

另一件事。

如果提交是在未单击按钮的情况下引起的，则提交按钮上的 onclick 将无法按预期工作。

例如，iPhone 上的移动 safari 可以直接提交表单而无需触发按钮。

如果您将 UmairP 的 onclick 版本作为 onsubmit 方法添加到表单元素，据我所知，您应该在每个平台上获得相同的结果。

您可以在我自己关于另一个问题的问题中查看有关 iPhone 表单的更多详细信息。

[如何防止 iPad/iPhone 上的 Go 按钮发布表单](https://stackoverflow.com/questions/9614589/how-can-i-prevent-the-go-button-on-ipad-iphone-from-posting-the-form)

# coffeescript - 加载requirejs配置的常用地方

> ID：12928585
> 
> 赞同：3
> 
> 时间：2012-10-17T06:42:26.653
> 
> 标签：coffeescript, requirejs

我正在使用 SPA 和 Mvc 3 制作一个混合应用程序。现在我需要的是在骨干网中加载具有条件配置的不同页面。

我已经像这样加载了我的主文件

```
require
paths:
    jquery:'Libs/jquery/jquery-1.8.0.min'
    underscore:'Libs/Underscore/underscore.min'
    backbone:'Libs/Backbone/backbone-min'
    text:'Libs/Requirejs/text'
    bootstrap:'Libs/Bootstrap/bootstrap.min'
    jqValidation:'Libs/jquery/jquery.validate.min'
    jqValUnobtrusive : 'Libs/jquery/jquery.validate.unobtrusive.min'

shim:
    'underscore':
        exports : '_'
    'backbone':
        deps: ["underscore"]
        exports:'Backbone'
    'bootstrap': 
        deps : ['jquery']
        exports : 'jquery'
    'jqValidation':
        deps : ['jquery']
        exports: 'jQuery.fn.validate'
    'jqValUnobtrusive':
        deps: ['jquery', 'jqValidation']
        exports: 'jQuery.fn.validate.unobtrusive'

require ["App/app","backbone",'bootstrap'] ,(App,Backbone)->
app = new App()
Backbone.history.start() 
```

现在其他文件也需要同样的配置集。现在如何在我需要的每个 main.coffee 文件中加载这个配置？我不希望这个配置是多余的。只是一个地方我想放它然后调用它到其他地方。怎么做 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-30T17:50:39.873

从单个共享模块加载您的需求配置是一个非常好的计划。

这是我使用的方法。不同的页面和我的构建系统都使用相同的配置文件。权衡是你必须嵌套你的 require 依赖项，但这对我来说是值得的。

### Index.html 或任何其他页面

```
<script>
    require(['require_config'], function () {
        require(['core'], function (core) {
            window._app = core.start();
        });
    })
</script> 
```

### require_config.coffee

```
define [], () ->
  require.config
    packages: [
      'core'
      'dashboard/widgets/base'
    ]
    paths:        
      # 3rd Party Bower Libraries
      handlebars: "bower_components/require-handlebars-plugin/Handlebars"
      underscore: "bower_components/underscore-amd/underscore"
      jqueryui: "bower_components/jquery-ui/jqueryui"
    shim:
      bootstrap:
        deps: [ 'jquery' ]
        exports: 'jquery'
      markdown:
        exports: 'markdown' 
```

# emacs - 在 emacs23 状态栏中显示 cpu 负载

> ID：12928592
> 
> 赞同：8
> 
> 时间：2012-10-17T06:42:49.560
> 
> 标签：emacs, cpu-usage, emacs23

我曾经在我的 .emacs 文件中有一个设置，它在我的 emacs23 状态栏中启用了 cpu 负载。但是我似乎再也找不到命令了。它曾经在 emacs.wiki 上，但不知何故我找不到它。有任何想法吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-17T07:12:15.003

系统负载显示在状态栏中的时间旁边。您可以显示将变量设置为 的`display-time-mode`时间`t`。

您可以设置一些选项，尤其是`Display Time Load Average Threshold`（设置为 0.1，因此负载超过 0.1 时不会显示）。您可以通过以下方式轻松设置这些选项`M-x customize-group RET display-time RET`

还有一些用于进一步定制的[软件包。](http://idorobots.org/2012/10/10/emacs-mode-line/)

# html - 警告：此页面要求使用前缀 [html tag] 声明的 XML 命名空间，但该命名空间不存在标签库

> ID：12928595
> 
> 赞同：3
> 
> 时间：2012-10-17T06:42:53.737
> 
> 标签：html, jsf, jsf-2

我知道这个问题已经被问过好几次了，但我似乎无法找到我的代码有什么问题，所以我再次要求它 - 抱歉:-)。

我目前正在Glassfish 上部署的JavaEE6 框架上开发JSF2.1。对于引发此错误的页面，我有一个 baseTemplate，其中包括页眉和页脚。然后我有一个继承baseTemplate的页面，基本上它们是：BaseTemplate：

```
<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core">
<f:view>
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title></title>
        <link rel="shortcut icon" href="" />
        <h:outputStylesheet library="css" name="site.css" target="head"></h:outputStylesheet>
        <ui:insert name="head" />
    </h:head>
    <h:body>
        <div id="wrapper" class="rounded-box">content... 
```

标题

```
<?xml version='1.0' encoding='UTF-8' ?>
<f:view xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core">

    <div class="header"> 
```

页脚只包含纯 html 标签。

和实际的页面，这是一个登录。

```
<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    template="/shared/page/_twoColumn.xhtml">

    <ui:define name="head"></ui:define>
    <ui:define name="leftContent">
        </ui:define>
    <ui:define name="content">........... 
```

可能是什么问题呢？请注意，我已经有了 xmlns:h="http://java.sun.com/jsf/html" 命名空间。

谢谢，
czetsuya

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-17T10:41:02.173

> *页脚只包含纯 html 标签。*

您还需要`http://www.w3.org/1999/xhtml`在根元素中声明默认的 XML 命名空间。您最好`<ui:composition>`在所有包含和模板文件中用作 XML 根元素（也是标题；`<f:view>`根本不属于那里）。

`/WEB-INF/footer.xhtml`

```
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
>
    <div>Plain HTML</div>
</ui:composition> 
```

`[html tag]`您在警告消息中看到的是出现在页脚中的第一个纯 HTML 标记。

### 也可以看看：

*   [如何使用 JSF 2.0 Facelets 在 XHTML 中包含另一个 XHTML？](https://stackoverflow.com/questions/4792862/how-to-include-another-xhtml-in-xhtml-using-jsf-2-0-facelets/4793959#4793959)

# android - 在谷歌地图上显示正确的位置

> ID：12928598
> 
> 赞同：0
> 
> 时间：2012-10-17T06:43:13.310
> 
> 标签：android, google-maps, google-maps-api-3, geolocation, locationmanager

我试图实现谷歌定位应用程序来显示用户在谷歌地图上的位置。我在 Stack Overflow 上找到了这段代码，但这段代码的问题是，它显示距离我的正确位置 500 米或 1000 米。有谁知道如何用确切的位置修复它？任何帮助将不胜感激。

这是我的代码

```
public class GoogleMapsActivity extends MapActivity {
public static final String TAG = "GoogleMapsActivity";
private MapView mapView;
private LocationManager locationManager;
Geocoder geocoder;
Location location;
LocationListener locationListener;
CountDownTimer locationtimer;
MapController mapController;
MapOverlay mapOverlay = new MapOverlay();

@Override
protected void onCreate(Bundle icicle) {
    super.onCreate(icicle);
    setContentView(R.layout.googlemap);
    initComponents();
    mapView.setBuiltInZoomControls(true);
    mapView.setSatellite(true);
    mapController = mapView.getController();
    mapController.setZoom(16);
    locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);
    if (locationManager == null) {
        Toast.makeText(GoogleMapsActivity.this,
                "Location Manager Not Available", Toast.LENGTH_SHORT)
                .show();
        return;
    }
    location = locationManager
            .getLastKnownLocation(LocationManager.GPS_PROVIDER);
    if (location == null)
        location = locationManager
                .getLastKnownLocation(LocationManager.NETWORK_PROVIDER);
    if (location != null) {
        double lat = location.getLatitude();
        double lng = location.getLongitude();
        Toast.makeText(GoogleMapsActivity.this,
                "Location Are" + lat + ":" + lng, Toast.LENGTH_SHORT)
                .show();
        GeoPoint point = new GeoPoint((int) (lat * 1E6), (int) (lng * 1E6));
        mapController.animateTo(point, new Message());
        mapOverlay.setPointToDraw(point);
        List<Overlay> listOfOverlays = mapView.getOverlays();
        listOfOverlays.clear();
        listOfOverlays.add(mapOverlay);
    }
    locationListener = new LocationListener() {
        @Override
        public void onStatusChanged(String arg0, int arg1, Bundle arg2) {
        }

        @Override
        public void onProviderEnabled(String arg0) {
        }

        @Override
        public void onProviderDisabled(String arg0) {
        }

        @Override
        public void onLocationChanged(Location l) {
            location = l;
            locationManager.removeUpdates(this);
            if (l.getLatitude() == 0 || l.getLongitude() == 0) {
            } else {
                double lat = l.getLatitude();
                double lng = l.getLongitude();
                Toast.makeText(GoogleMapsActivity.this,
                        "Location Are" + lat + ":" + lng,
                        Toast.LENGTH_SHORT).show();
            }
        }
    };
    if (locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER))
        locationManager.requestLocationUpdates(
                LocationManager.GPS_PROVIDER, 1000, 10f, locationListener);
    locationManager.requestLocationUpdates(
            LocationManager.NETWORK_PROVIDER, 1000, 10f, locationListener);
    locationtimer = new CountDownTimer(30000, 5000) {
        @Override
        public void onTick(long millisUntilFinished) {
            if (location != null)
                locationtimer.cancel();
        }

        @Override
        public void onFinish() {
            if (location == null) {
            }
        }
    };
    locationtimer.start();
}

public MapView getMapView() {
    return this.mapView;
}

private void initComponents() {
    mapView = (MapView) findViewById(R.id.googleMapview);
}

@Override
protected boolean isRouteDisplayed() {
    return false;
}

class MapOverlay extends Overlay {
    private GeoPoint pointToDraw;

    public void setPointToDraw(GeoPoint point) {
        pointToDraw = point;
    }

    public GeoPoint getPointToDraw() {
        return pointToDraw;
    }

    @Override
    public boolean draw(Canvas canvas, MapView mapView, boolean shadow,
            long when) {
        super.draw(canvas, mapView, shadow);

        Point screenPts = new Point();
        mapView.getProjection().toPixels(pointToDraw, screenPts);

        Bitmap bmp = BitmapFactory.decodeResource(getResources(),
                R.drawable.pingreen);
        canvas.drawBitmap(bmp, screenPts.x, screenPts.y - 24, null);
        return true;
    }
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T06:49:59.620

最简单的方法是使用 MyLocationOverlay

[https://developers.google.com/maps/documentation/android/reference/index?com/google/android/maps/MyLocationOverlay.html](https://developers.google.com/maps/documentation/android/reference/index?com/google/android/maps/MyLocationOverlay.html)

创建并添加到地图叠加层，它将标记准确地定位在用户所在的位置。

就像是

```
 MyLocationOverlay myOvly = new MyLocationOverlay( this, mapView );
    listOfOverlays.add( myOvly );
    myOvly.enableMyLocation(); 
```

自动缩放到位置

```
 myOvly.runOnFirstFix( new Runnable()
            { 
             public void run()
             { 
               mapController.animateTo( myOvly.getLocation() );
             }
            } ); 
```

# php - Does Wordpress have any wrapper classes for $_POST, $_GET and $_REQUEST?

> ID：12928603
> 
> 赞同：2
> 
> 时间：2012-10-17T06:43:39.420
> 
> 标签：php, wordpress, post, get, request

There are many frameworks that will provide a helper object for dealing with these variables i.e. symfony has a `sfRequest` object that has a member function `getParameter(`) that can get used to get `$_POST` and `$_GET` variables.

I'm wondering if Wordpress has something similar to this? I've seen [this solution](https://wordpress.stackexchange.com/questions/37682/passing-post-data-from-one-wp-post-to-another) that seems to append the new variables to the `query_vars` action, however some articles mention it will only work with GET. I was unable to get this to work with a form using both `$_POST` and `$_GET` myself, and certainly wouldn't think this is ideal to use if you have many variables that can be passed this way.

Is using plain old $_REQUEST, $_POST and $_GET the standard way to do work with request variables in Wordpress? Or is there a better way (specifically using the functions provided by Wordpress, rather than other libraries) to handle this?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T04:14:00.387

The closest thing I could find was the [HTTP API](http://codex.wordpress.org/HTTP_API), but that's only for *sending* requests. There's no wrapper class for dealing with such superglobals that's specific to WordPress.

# objective-c - 在 iOS 6.0 中为不同的视图控制器支持不同的方向

> ID：12928607
> 
> 赞同：6
> 
> 时间：2012-10-17T06:44:28.703
> 
> 标签：objective-c, ios6, uiinterfaceorientation

我在我的应用程序中有一个带有主控制器和详细控制器的自定义拆分视图控制器。

```
- (id)initWithMasterController:(UIViewController*)aMasterController
            detailedController:(UIViewController*)aDetailedController; 
```

为主控制器和细节控制器提供的控制器是 UINavigationController。

作为我的应用程序的一部分，方向处理有两种可能的情况：

1.  当主控制器和细节控制器使用六种控制器组合时，应用程序支持所有方向。
2.  当仅在 details 控制器上有 StudentDetailsViewController 时，只能支持两种可能的方向。（景观）

当设备的方向发生变化时，iOS 6.0 以下的版本会发生以下情况

1.  该`-shouldAutorotateToInterfaceOrientation:`方法被调用。该方法的实现如下： 在运行时，我将请求转发到主控制器和细节控制器，并使用相同的调用。

    ```
    - (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
    {   
        BOOL res = [masterController shouldAutorotateToInterfaceOrientation:interfaceOrientation]
                   && [detailedController shouldAutorotateToInterfaceOrientation:interfaceOrientation];
        return res;
    } 
    ```

2.  masterController`-shouldAutorotateToInterfaceOrientation`将返回 TRUE。StudentViewController 中方法的实现如下。

    ```
    - (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
    {
        return (IS_IPAD) ? UIInterfaceOrientationIsLandscape(interfaceOrientation)
                         : UIInterfaceOrientationIsPortrait(interfaceOrientation);
    } 
    ```

获取有关要更改的新方向的信息的能力有助于我决定是否应启用旋转。

使用 iOS 6.0：

当设备的方向发生变化时，iOS 6.0 版本中会发生以下情况

1.  拆分视图控制器的方法`-shouldAutorotate`被调用。它的实现如下

    ```
    - (BOOL)shouldAutorotate {
        BOOL res = [masterController shouldAutorotate]
                   && [detailedController shouldAutorotate];
        return res;
     } 
    ```

2.  detailController 的 shouldAutorotate 调用了 navigationController。StudentsController 中自动旋转功能的实现：

    ```
    - (BOOL)shouldAutorotate {
        return YES;
    }

    - (NSUInteger)supportedInterfaceOrientations {
        return (UIInterfaceOrientationMaskLandscapeLeft
                | UIInterfaceOrientationMaskLandscapeRight);
    } 
    ```

但是在 iOS 6.0 中，我无法控制方向。即使调用了supportedInterfaceOrientations 方法，当调用StudentDetailsController 的shouldAutorotate 方法时，从detailsController 的shouldAutorotate 方法中，shouldAutorotateMethod 也不遵守supportedInterfaceOrientations 方法中提到的选项。

**更新：**

我阅读了文档，文档中提供了以下[注释](http://developer.apple.com/library/ios/featuredarticles/ViewControllerPGforiPhoneOS/RespondingtoDeviceOrientationChanges/RespondingtoDeviceOrientationChanges.html#//apple_ref/doc/uid/TP40007457-CH7-SW17)。

> 有时您可能希望动态禁用自动旋转。例如，当您想在短时间内完全抑制旋转时，您可能会这样做。您必须暂时禁用想要手动控制状态栏位置的方向更改（例如当您调用 setStatusBarOrientation:animated: 方法时）。
> 
> 如果您想暂时禁用自动旋转，请避免操作方向蒙版来执行此操作。相反，覆盖最顶层视图控制器上的 shouldAutorotate 方法。在执行任何自转之前调用此方法。如果它返回 NO，则旋转被抑制。

是否可以根据当前方向暂时禁用自动旋转？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-10T17:10:43.613

在您的应用程序委托类中定义以下方法，此方法在应用程序中的任何其他旋转方法之前被调用。

创建一个标志（isRotationEnabled），它将决定您的应用程序的方向。

```
- (NSUInteger) application:(UIApplication *)application supportedInterfaceOrientationsForWindow:(UIWindow *)window {    

return self.isRotationEnabled ?
    UIInterfaceOrientationMaskAll :
    UIInterfaceOrientationMaskPortrait;
} 
```

使用以下代码根据您应用中的不同条件更改此标志

```
MyAppDelegate *appDelegate = (MyAppDelegate *)[[UIApplication sharedApplication] delegate];
appDelegate.isRotationEnabled = NO; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-31T01:43:13.727

我相信这是 iOS 中的某种类型的问题，其中 rootViewController 不会咨询 childViewController 的首选方向。但是，您应该尝试以下方法：

```
 if (self.interfaceOrientation != UIInterfaceOrientationPortrait) 
{
    [[UIDevice currentDevice] performSelector:NSSelectorFromString(@"setOrientation:") withObject:(id)UIInterfaceOrientationPortrait];
} 
```

将给定视图的方向更改回纵向。

# javascript - 按标题更改宽度

> ID：12928611
> 
> 赞同：0
> 
> 时间：2012-10-17T06:44:44.670
> 
> 标签：javascript

我想让固定大小的元素的宽度为 300 像素。代码有什么问题？

```
<script type="text/javascript">
    $().ready(function () { 
    $('@title="Title Name"').css("width", "300px");
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T06:49:01.760

您为 td 设置 id 或类，然后使用此代码

```
$(document).ready(function(){
   $("#tdID").css({width:"300px"})
}) 
```

或者你使用内联样式

例如

```
<td style="width:300px"></td> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T06:46:22.313

去掉 the`@`和无用的括号。

如果你的 td 有一个名为的属性`title`，你可以这样做：

```
$.ready(function () { 
   $('td [title~="Title Name"]').parent().css("width", "300px");
}); 
```

# magento-1.6 - Magento onepage 订单审查步骤 5 上的第一个循环格式 - 第一个产品列表数据与列不一致

> ID：12928612
> 
> 赞同：0
> 
> 时间：2012-10-17T06:44:46.020
> 
> 标签：magento-1.6

任何人都可以协助编辑此格式，以使第一个呈现的产品不会与表格列不一致吗？

**截图：** [http ://awesomescreenshot.com/099jf0d1f](http://awesomescreenshot.com/099jf0d1f)

**我将源文件定位如下，**但看到这是 Magento 并不是那么简单。

app/design/frontend/base/default/template/checkout/onepage/review/totals.phtml

```
<?php if ($this->getTotals()): ?>
<tfoot>
    <?php $_colspan = $this->helper('tax')->displayCartBothPrices() ? 5 : 3; ?>
    <?php echo $this->renderTotals(null, $_colspan); ?>
    <?php echo $this->renderTotals('footer', $_colspan); ?>
    <?php if ($this->needDisplayBaseGrandtotal()):?>
    <tr>
        <td class="a-right" colspan="<?php echo $_colspan; ?>">
            <small><?php echo $this->helper('sales')->__('Your credit card will be charged for') ?></small>
        </td>
        <td class="a-right">
            <small><?php echo $this->displayBaseGrandtotal() ?></small>
        </td>
    </tr>
    <?php endif?>
</tfoot>
<?php endif; ?> 
```

**我进一步隔离了该区域的完整格式：**

app/design/frontend/base/default/template/checkout/onepage/review/item.phtml

```
<?php $_item = $this->getItem()?>
<tr>
<!-- ##################### -->
    <td><h3 class="product-name"><?php echo $this->htmlEscape($this->getProductName()) ?></h3></td>
        <?php if ($_options = $this->getOptionList()):?>
        <dl class="item-options">
            <?php foreach ($_options as $_option) : ?>
            <?php $_formatedOptionValue = $this->getFormatedOptionValue($_option) ?>
            <dt><?php echo $this->htmlEscape($_option['label']) ?></dt>
            <dd<?php if (isset($_formatedOptionValue['full_view'])): ?> class="truncated"<?php endif; ?>><?php echo $_formatedOptionValue['value'] ?>
                <?php if (isset($_formatedOptionValue['full_view'])): ?>
                <div class="truncated_full_value">
                    <dl class="item-options">
                        <dt><?php echo $this->htmlEscape($_option['label']) ?></dt>
                        <dd><?php echo $_formatedOptionValue['full_view'] ?></dd>
                    </dl>
                </div>
                <?php endif; ?>
            </dd>
            <?php endforeach; ?>
        </dl>
        <?php endif;?>
        <?php if ($addtInfoBlock = $this->getProductAdditionalInformationBlock()):?>
            <?php echo $addtInfoBlock->setItem($_item)->toHtml() ?>
        <?php endif;?>
    </td>

 <!-- ##################### -->  

    <?php if ($this->helper('tax')->displayCartPriceExclTax() || $this->helper('tax')->displayCartBothPrices()): ?>

     <!-- ##################### -->     

    <td class="a-right">

        <?php if (Mage::helper('weee')->typeOfDisplay($_item, array(1, 4), 'sales') && $_item->getWeeeTaxAppliedAmount()): ?>
            <span class="cart-tax-total" onclick="taxToggle('eunit-item-tax-details<?php echo $_item->getId(); ?>', this, 'cart-tax-total-expanded');">
        <?php else: ?>
            <span class="cart-price">
        <?php endif; ?>

           <?php if (Mage::helper('weee')->typeOfDisplay($_item, array(0, 1, 4), 'sales') && $_item->getWeeeTaxAppliedAmount()): ?>
                <?php echo $this->helper('checkout')->formatPrice($_item->getCalculationPrice()+$_item->getWeeeTaxAppliedAmount()+$_item->getWeeeTaxDisposition()); ?>
            <?php else: ?>
                <?php echo $this->helper('checkout')->formatPrice($_item->getCalculationPrice()) ?>
            <?php endif; ?>

        </span>
        <?php if (Mage::helper('weee')->getApplied($_item)): ?>
            <div class="cart-tax-info" id="eunit-item-tax-details<?php echo $_item->getId(); ?>" style="display:none;">
                <?php if (Mage::helper('weee')->typeOfDisplay($_item, 1, 'sales') && $_item->getWeeeTaxAppliedAmount()): ?>
                    <small>
                    <?php foreach (Mage::helper('weee')->getApplied($_item) as $tax): ?>
                        <span class="nobr"><?php echo $tax['title']; ?>: <?php echo Mage::helper('checkout')->formatPrice($tax['amount'],true,true); ?></span><br />
                    <?php endforeach; ?>
                    </small>
                <?php elseif (Mage::helper('weee')->typeOfDisplay($_item, 2, 'sales') && $_item->getWeeeTaxAppliedAmount()): ?>
                    <?php foreach (Mage::helper('weee')->getApplied($_item) as $tax): ?>
                        <span class="nobr"><small><?php echo $tax['title']; ?>: <?php echo Mage::helper('checkout')->formatPrice($tax['amount_incl_tax'],true,true); ?></small></span><br />
                    <?php endforeach; ?>
                <?php elseif (Mage::helper('weee')->typeOfDisplay($_item, 4, 'sales') && $_item->getWeeeTaxAppliedAmount()): ?>
                    <small>
                    <?php foreach (Mage::helper('weee')->getApplied($_item) as $tax): ?>
                        <span class="nobr"><?php echo $tax['title']; ?>: <?php echo Mage::helper('checkout')->formatPrice($tax['amount_incl_tax'],true,true); ?></span><br />
                    <?php endforeach; ?>
                    </small>
                <?php endif; ?>
            </div>
            <?php if (Mage::helper('weee')->typeOfDisplay($_item, 2, 'sales') && $_item->getWeeeTaxAppliedAmount()): ?>
                <div class="cart-tax-total" onclick="taxToggle('eunit-item-tax-details<?php echo $_item->getId(); ?>', this, 'cart-tax-total-expanded');">
                    <span class="nobr"><?php echo Mage::helper('weee')->__('Total'); ?>:<br /> <?php echo $this->helper('checkout')->formatPrice($_item->getCalculationPrice()+$_item->getWeeeTaxAppliedAmount()+$_item->getWeeeTaxDisposition()); ?></span>
                </div>
            <?php endif; ?>
        <?php endif; ?>
    </td>
         <!-- ##################### -->  

    <?php endif; ?>

        <?php if ($this->helper('tax')->displayCartPriceInclTax() || $this->helper('tax')->displayCartBothPrices()): ?>
    <td>
        <?php $_incl = $this->helper('checkout')->getPriceInclTax($_item); ?>
        <?php if (Mage::helper('weee')->typeOfDisplay($_item, array(1, 4), 'sales') && $_item->getWeeeTaxAppliedAmount()): ?>
            <span class="cart-tax-total" onclick="taxToggle('unit-item-tax-details<?php echo $_item->getId(); ?>', this, 'cart-tax-total-expanded');">
        <?php else: ?>
            <span class="cart-price">
        <?php endif; ?>
            <?php if (Mage::helper('weee')->typeOfDisplay($_item, array(0, 1, 4), 'sales') && $_item->getWeeeTaxAppliedAmount()): ?>
                <?php echo $this->helper('checkout')->formatPrice($_incl+$_item->getWeeeTaxAppliedAmount()); ?>
            <?php else: ?>
                <?php echo $this->helper('checkout')->formatPrice($_incl-$_item->getWeeeTaxDisposition()) ?>
            <?php endif; ?>
        </span>
        <?php if (Mage::helper('weee')->getApplied($_item)): ?>
            <div class="cart-tax-info" id="unit-item-tax-details<?php echo $_item->getId(); ?>" style="display:none;">
                <?php if (Mage::helper('weee')->typeOfDisplay($_item, 1, 'sales') && $_item->getWeeeTaxAppliedAmount()): ?>
                    <small>
                    <?php foreach (Mage::helper('weee')->getApplied($_item) as $tax): ?>
                        <span class="nobr"><?php echo $tax['title']; ?>: <?php echo Mage::helper('checkout')->formatPrice($tax['amount'],true,true); ?></span><br />
                    <?php endforeach; ?>
                    </small>
                <?php elseif (Mage::helper('weee')->typeOfDisplay($_item, 2, 'sales') && $_item->getWeeeTaxAppliedAmount()): ?>
                    <?php foreach (Mage::helper('weee')->getApplied($_item) as $tax): ?>
                        <span class="nobr"><small><?php echo $tax['title']; ?>: <?php echo Mage::helper('checkout')->formatPrice($tax['amount_incl_tax'],true,true); ?></small></span><br />
                    <?php endforeach; ?>
                <?php elseif (Mage::helper('weee')->typeOfDisplay($_item, 4, 'sales') && $_item->getWeeeTaxAppliedAmount()): ?>
                    <small>
                    <?php foreach (Mage::helper('weee')->getApplied($_item) as $tax): ?>
                        <span class="nobr"><?php echo $tax['title']; ?>: <?php echo Mage::helper('checkout')->formatPrice($tax['amount_incl_tax'],true,true); ?></span><br />
                    <?php endforeach; ?>
                    </small>
                <?php endif; ?>
            </div>
            <?php if (Mage::helper('weee')->typeOfDisplay($_item, 2, 'sales') && $_item->getWeeeTaxAppliedAmount()): ?>
                <div class="cart-tax-total" onclick="taxToggle('unit-item-tax-details<?php echo $_item->getId(); ?>', this, 'cart-tax-total-expanded');">
                    <span class="nobr"><?php echo Mage::helper('weee')->__('Total incl. tax'); ?>:<br /> <?php echo $this->helper('checkout')->formatPrice($_incl+$_item->getWeeeTaxAppliedAmount()); ?></span>
                </div>
            <?php endif; ?>
        <?php endif; ?>
    </td>
    <?php endif; ?>
    <td class="a-center"><?php echo $_item->getQty() ?></td>
    <?php if ($this->helper('tax')->displayCartPriceExclTax() || $this->helper('tax')->displayCartBothPrices()): ?>
    <td class="a-right">
        <?php if (Mage::helper('weee')->typeOfDisplay($_item, array(1, 4), 'sales') && $_item->getWeeeTaxAppliedAmount()): ?>
            <span class="cart-tax-total" onclick="taxToggle('esubtotal-item-tax-details<?php echo $_item->getId(); ?>', this, 'cart-tax-total-expanded');">
        <?php else: ?>
            <span class="cart-price">
        <?php endif; ?>
            <?php if (Mage::helper('weee')->typeOfDisplay($_item, array(0, 1, 4), 'sales') && $_item->getWeeeTaxAppliedAmount()): ?>
                <?php echo $this->helper('checkout')->formatPrice($_item->getRowTotal()+$_item->getWeeeTaxAppliedRowAmount()+$_item->getWeeeTaxRowDisposition()); ?>
            <?php else: ?>
                <?php echo $this->helper('checkout')->formatPrice($_item->getRowTotal()) ?>
            <?php endif; ?>
        </span>
        <?php if (Mage::helper('weee')->getApplied($_item)): ?>
            <div class="cart-tax-info" id="esubtotal-item-tax-details<?php echo $_item->getId(); ?>" style="display:none;">
                <?php if (Mage::helper('weee')->typeOfDisplay($_item, 1, 'sales') && $_item->getWeeeTaxAppliedAmount()): ?>
                    <small>
                    <?php foreach (Mage::helper('weee')->getApplied($_item) as $tax): ?>
                        <span class="nobr"><?php echo $tax['title']; ?>: <?php echo Mage::helper('checkout')->formatPrice($tax['row_amount'],true,true); ?></span><br />
                    <?php endforeach; ?>
                    </small>
                <?php elseif (Mage::helper('weee')->typeOfDisplay($_item, 2, 'sales') && $_item->getWeeeTaxAppliedAmount()): ?>
                    <?php foreach (Mage::helper('weee')->getApplied($_item) as $tax): ?>
                        <span class="nobr"><small><?php echo $tax['title']; ?>: <?php echo Mage::helper('checkout')->formatPrice($tax['row_amount_incl_tax'],true,true); ?></small></span><br />
                    <?php endforeach; ?>
                <?php elseif (Mage::helper('weee')->typeOfDisplay($_item, 4, 'sales') && $_item->getWeeeTaxAppliedAmount()): ?>
                    <small>
                    <?php foreach (Mage::helper('weee')->getApplied($_item) as $tax): ?>
                        <span class="nobr"><?php echo $tax['title']; ?>: <?php echo Mage::helper('checkout')->formatPrice($tax['row_amount_incl_tax'],true,true); ?></span><br />
                    <?php endforeach; ?>
                    </small>
                <?php endif; ?>
            </div>
            <?php if (Mage::helper('weee')->typeOfDisplay($_item, 2, 'sales') && $_item->getWeeeTaxAppliedAmount()): ?>
                <div class="cart-tax-total" onclick="taxToggle('esubtotal-item-tax-details<?php echo $_item->getId(); ?>', this, 'cart-tax-total-expanded');">
                    <span class="nobr"><?php echo Mage::helper('weee')->__('Total'); ?>:<br /> <?php echo $this->helper('checkout')->formatPrice($_item->getRowTotal()+$_item->getWeeeTaxAppliedRowAmount()+$_item->getWeeeTaxRowDisposition()); ?></span>
                </div>
            <?php endif; ?>
        <?php endif; ?>
    </td>
    <?php endif; ?>
    <?php if ($this->helper('tax')->displayCartPriceInclTax() || $this->helper('tax')->displayCartBothPrices()): ?>
    <td>
        <?php $_incl = $this->helper('checkout')->getSubtotalInclTax($_item); ?>
        <?php if (Mage::helper('weee')->typeOfDisplay($_item, array(1, 4), 'sales') && $_item->getWeeeTaxAppliedAmount()): ?>
            <span class="cart-tax-total" onclick="taxToggle('subtotal-item-tax-details<?php echo $_item->getId(); ?>', this, 'cart-tax-total-expanded');">
        <?php else: ?>
            <span class="cart-price">
        <?php endif; ?>
            <?php if (Mage::helper('weee')->typeOfDisplay($_item, array(0, 1, 4), 'sales') && $_item->getWeeeTaxAppliedAmount()): ?>
                <?php echo $this->helper('checkout')->formatPrice($_incl+$_item->getWeeeTaxAppliedRowAmount()); ?>
            <?php else: ?>
                <?php echo $this->helper('checkout')->formatPrice($_incl-$_item->getWeeeTaxRowDisposition()) ?>
            <?php endif; ?>
        </span>
        <?php if (Mage::helper('weee')->getApplied($_item)): ?>
            <div class="cart-tax-info" id="subtotal-item-tax-details<?php echo $_item->getId(); ?>" style="display:none;">
                <?php if (Mage::helper('weee')->typeOfDisplay($_item, 1, 'sales') && $_item->getWeeeTaxAppliedAmount()): ?>
                    <small>
                    <?php foreach (Mage::helper('weee')->getApplied($_item) as $tax): ?>
                        <span class="nobr"><?php echo $tax['title']; ?>: <?php echo Mage::helper('checkout')->formatPrice($tax['row_amount'],true,true); ?></span><br />
                    <?php endforeach; ?>
                    </small>
                <?php elseif (Mage::helper('weee')->typeOfDisplay($_item, 2, 'sales') && $_item->getWeeeTaxAppliedAmount()): ?>
                    <?php foreach (Mage::helper('weee')->getApplied($_item) as $tax): ?>
                        <span class="nobr"><small><?php echo $tax['title']; ?>: <?php echo Mage::helper('checkout')->formatPrice($tax['row_amount_incl_tax'],true,true); ?></small></span><br />
                    <?php endforeach; ?>
                <?php elseif (Mage::helper('weee')->typeOfDisplay($_item, 4, 'sales') && $_item->getWeeeTaxAppliedAmount()): ?>
                    <small>
                    <?php foreach (Mage::helper('weee')->getApplied($_item) as $tax): ?>
                        <span class="nobr"><?php echo $tax['title']; ?>: <?php echo Mage::helper('checkout')->formatPrice($tax['row_amount_incl_tax'],true,true); ?></span><br />
                    <?php endforeach; ?>
                    </small>
                <?php endif; ?>
            </div>
            <?php if (Mage::helper('weee')->typeOfDisplay($_item, 2, 'sales') && $_item->getWeeeTaxAppliedAmount()): ?>
                <div class="cart-tax-total" onclick="taxToggle('subtotal-item-tax-details<?php echo $_item->getId(); ?>', this, 'cart-tax-total-expanded');">
                    <span class="nobr"><?php echo Mage::helper('weee')->__('Total incl. tax'); ?>:<br /> <?php echo $this->helper('checkout')->formatPrice($_incl+$_item->getWeeeTaxAppliedRowAmount()); ?></span>
                </div>
            <?php endif; ?>
        <?php endif; ?>
    </td>
    <?php endif; ?>
</tr> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T20:33:41.727

据我所知解决了..

我花了大约 5 个小时来研究为什么“订单审查”部分的第一个项目显示有问题。有问题的主要文件：

app/design/frontend/base/default/template/checkout/onepage/review/info.phtml

在这个文件中，关于我删除的第 29 行，我替换了这个：

有了这个

你会看到我刚刚取消了身份证。此 id 可能与同一页面上的 decorateTable() 方法相关联，但我目前无法确定这一点。

# c - 在 TCP 服务器套接字上接收 C 中的数据

> ID：12928614
> 
> 赞同：2
> 
> 时间：2012-10-17T06:44:52.223
> 
> 标签：c, sockets, networking, tcp

我一直在尝试使用以下代码从客户端接收服务器套接字上的数据，

服务器.c

```
int startServer(uint16_t myPort)
{
  int listenFd = 0, connfd = 0;
  struct sockaddr_in serv_addr;

  listenFd = socket(AF_INET, SOCK_STREAM, 6);
  if (listenFd == -1) {
    perror("socket");
    return EXIT_FAILURE;
  }

  memset(&serv_addr, '0', sizeof(serv_addr));

  serv_addr.sin_family = AF_INET;
  serv_addr.sin_addr.s_addr = htonl(INADDR_ANY);
  serv_addr.sin_port = htons(myPort);

  if (-1 == bind(listenFd, (struct sockaddr*)&serv_addr, sizeof(serv_addr))) {
    perror("bind");
    return EXIT_FAILURE;
  }

  if (-1 == listen(listenFd, 10)) {
    perror("listen");
    return EXIT_FAILURE;
  }

  printf("Server listening on %d\n", myPort);

  int n = 0, k;
  char recvBuff[1024];
  struct sockaddr_in conn_addr;
  unsigned int len = sizeof(conn_addr);

  while(1)
  {
     connfd = accept(listenFd, (struct sockaddr*)NULL, NULL);

     n = recv(connfd, &recvBuff, 1023, 0);
     printf("Recd: %d bytes\n",n);
     for (k=0; k<16; ++k) { printf("%d: 0x%02X, ", k, recvBuff[k]); }

     sleep(1);
   }
} 
```

在client.c中

```
int main(int argc, char *argv[])
{
    int sockfd = 0, n = 0;
    struct sockaddr_in serv_addr; 

    if(argc != 2)
    {
        printf("\n Usage: %s <ip of server> \n",argv[0]);
        return 1;
    } 

    if((sockfd = socket(AF_INET, SOCK_STREAM, 0)) < 0)
    {
        printf("\n Error : Could not create socket \n");
        return 1;
    } 

    memset(&serv_addr, '0', sizeof(serv_addr)); 

    serv_addr.sin_family = AF_INET;
    serv_addr.sin_port = htons(5000); 

    if(inet_pton(AF_INET, argv[1], &serv_addr.sin_addr)<=0)
    {
        printf("\n inet_pton error occured\n");
        return 1;
    } 

    if( connect(sockfd, (struct sockaddr *)&serv_addr, sizeof(serv_addr)) < 0)
    {
       printf("\n Error : Connect Failed \n");
       return 1;
    } 

    uint32_t dataVal = 0xa0b0c0d0;
    int res = write(sockfd, (void*)&dataVal, sizeof(dataVal));
    printf("%d bytes sent\n", res);
    close(sockfd);
    return 0;
} 
```

但是，有了这个，我看到服务器说它收到了字节，但是打印字节之后的行（在 for 循环中）似乎从未被执行过。有谁知道我在这里做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-17T07:35:24.167

在 for 循环之后添加`printf("\n");`，或在 for 循环内的 printf 中添加“\n”。

`printf`写入`stdout`，这是缓冲的。这意味着在缓冲区被填充、刷新或发送换行符之前不会显示输出。因此，通过发送换行符来确保输出是最简单的。

# java - Java 扫描器最佳实践

> ID：12928616
> 
> 赞同：1
> 
> 时间：2012-10-17T06:45:03.180
> 
> 标签：java, logic

*问：* 我有一个方法可以用 BufferedReader 实例化一个新的 Scanner 类，并返回 Scanner 类本身。据我了解，Java 将返回 Scanner 类 - 作为对象的“副本”（按值传递），而不是我们在 C++ 中调用的引用或指针。如果逻辑是正确的——这是否意味着，在我调用的方法中实例化的 Scanner 将继续保持打开状态，因此永远不会被垃圾收集？

例如：（裸骨）

```
private Scanner getDataFromWebService(String url)
{
    URLConnection sc = null;
    URL test = null;
    Scanner scanner = null;

    test = new URL(url);
    sc = test.openConnection();
    in = new BufferedReader(new InputStreamReader(sc.getInputStream());

    scanner = new Scanner(in);

    return scanner;
}

// Sample Call

Scanner newScanner = getDataFromWebService(url); 
```

其次，如果您愿意提供帮助；然后 URLConnection 和 BufferedReader 会发生什么，因为如果我在 getDataFromWebService 方法中返回 Scanner 之前关闭它们 - 它将“取消”返回的 Scanner。也许这个问题的答案在于第一个问题。

这里的最佳实践是什么，永远不要返回一个复杂的对象......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-17T06:46:36.250

你会得到一份参考资料。因此，您仍将使用相同的对象实例。

# android - Android Fragment点击事件问题

> ID：12928621
> 
> 赞同：0
> 
> 时间：2012-10-17T06:45:16.407
> 
> 标签：android, android-fragments, onclicklistener

我正在尝试`FragmentActivity`而不是 TabActivity 中的`Android 2.2`. 以下是页面的测试布局。

![布局](../Images/d11e3fd20bddb45deeb7ae56dd6fb50c.png)

我正在使用`FrameLayout`作为容器加载片段运行时。假设单击**B1**按钮我正在加载 Fragment **F1**，单击**F1** Fragment 中的按钮会在 FrameLayout 容器中加载另一个 Fragment **F2 。**现在的问题是在 Fragment **F2**中并单击 Fragment 的空白 UI 时，我正在获取放置在 Fragment F1 中的确切单击位置的按钮事件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T07:03:57.640

实际上我在添加新片段时犯了错误，我使用`Add()`了`FragmentTrasaction`类的方法。我们应该使用方法而不是这种`Replace()`方法。因为`Add()`方法会将您的片段添加到包含活动的生命周期中。这样做的结果是，如果您将一个片段添加到另一个片段之上，那么之前的片段将收到点击事件。

# java - 项目 'PrjName' 缺少必需的库：'E:/arul/Android/libs/android-viewbadger.jar' PrjName

> ID：12928623
> 
> 赞同：-1
> 
> 时间：2012-10-17T06:45:25.700
> 
> 标签：java, android

我已经在 Mac 系统上的 Eclipse 中导入了 android 项目，

我收到错误，因为“项目 'PrjName' 缺少必需的库：'E:/workspace/Android/libs/android-viewbadger.jar' PrjName”

在此之前，该项目创建并在 Windows OS 系统上运行，

请给出任何想法来清除该错误....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:47:55.847

检查您的项目设置，我会说构建路径引用了您的 E: 驱动器上的某些内容，该驱动器在该位置的 mac 上不存在。

# php - WSO2 WSF/PHP 安装问题（需要 C 开发人员帮助）

> ID：12928626
> 
> 赞同：0
> 
> 时间：2012-10-17T06:45:35.333
> 
> 标签：php, c, soap, wso2, wsh

我正在尝试安装 WSO2 WSF/PHP 扩展以将 SOAP 与 WSSE 一起使用。我在编译源代码时遇到了问题，我需要从他们的存储库中检出主干（而不是标签 2.1），有几次我修复了源代码中的 php 5.4 兼容性问题，最后一切都编译成功

但是当我尝试启用这个扩展时，我得到一个错误：

```
user@centos:~/wsf$ php -i | grep "wsf"                                                                                     
PHP Warning:  PHP Startup: Unable to load dynamic library '/usr/lib/php5/20100525+lfs/wsf.so' - /usr/lib/php5/20100525+lfs/wsf.so: undefined symbol: rampart_context_set_prv_key in Unknown on line 0
/etc/php5/cli/conf.d/20-wsf.ini,                                                                                                                     
PWD => /home/user/wsf                                                                                                                                
_SERVER["PWD"] => /home/user/wsf 
```

我在来源上做了 grep 并发现了这个：

```
user@centos:~/wsf$ grep -r "rampart_context_set_prv_key" .                                                                         
./src/.svn/text-base/wsf_policy.c.svn-base:             rampart_context_set_prv_key(rampart_context, env, Z_STRVAL_PP(token_val));                   
./src/.svn/text-base/wsf_policy.c.svn-base:     if (rampart_context_set_prv_key_type (rampart_context, env, AXIS2_KEY_TYPE_PEM) == AXIS2_SUCCESS)    
Binary file ./src/modules/wsf.so matches
./src/wsf_policy.c:             rampart_context_set_prv_key(rampart_context, env, Z_STRVAL_PP(token_val));                                           
./src/wsf_policy.c:     if (rampart_context_set_prv_key_type (rampart_context, env, AXIS2_KEY_TYPE_PEM) == AXIS2_SUCCESS)                            
Binary file ./src/.libs/wsf.soT matches
Binary file ./src/.libs/wsf.so matches
Binary file ./src/.libs/wsf_policy.o matches
Binary file ./wsf_c/rampartc/src/util/.libs/librampart.so.0 matches
Binary file ./wsf_c/rampartc/src/util/.libs/librampart.a matches
Binary file ./wsf_c/rampartc/src/util/.libs/librampart.so.0.3.0 matches
Binary file ./wsf_c/rampartc/src/util/.libs/rampart_context.o matches
Binary file ./wsf_c/rampartc/src/util/.libs/librampart.so matches
./wsf_c/rampartc/src/util/rampart_context.c:rampart_context_set_prv_key(rampart_context_t *rampart_context,                                          
./wsf_c/rampartc/src/util/rampart_context.c:rampart_context_set_prv_key_type(rampart_context_t *rampart_context,                                     
./wsf_c/rampartc/src/util/rampart_context.c:rampart_context_set_prv_key_password(rampart_context_t *rampart_context,                                 
Binary file ./wsf_c/rampartc/src/util/rampart_context.o matches
./wsf_c/rampartc/include/rampart_context.h:    rampart_context_set_prv_key(rampart_context_t *rampart_context,                                       
./wsf_c/rampartc/include/rampart_context.h:    rampart_context_set_prv_key_type(rampart_context_t *rampart_context,                                  
./wsf_c/rampartc/include/rampart_context.h:    rampart_context_set_prv_key_password(rampart_context_t *rampart_context, 
```

所以基本上我只找到了 1 个文件 wsf_policy.c，它使用了rampart_context_set_prv_key，但包含看起来正确，我不知道如何解决它。有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T21:51:50.097

同样的问题。[尝试在 wsf/php 2.1 中运行安全示例时以与错误](https://stackoverflow.com/questions/8854420/error-when-trying-to-run-security-examples-in-wsf-php-2-1)相同的方式解决：

```
sudo apt-get install gcc-4.4 
```

然后通过运行配置 wsf/php

```
./configure CC=gcc-4.4 
```

遵循其余的正常安装步骤，它应该可以工作。

您还可以通过执行检查 wsf.so 库以查看它是否具有链接的壁垒库

```
ldd /usr/lib/php5/20090626/wsf.so 
```

此外，以防万一您还没有找到它，这里是使用 PHP 5.4 编译 WSF 的步骤 [https://wso2.org/jira/browse/WSFPHP-477](https://wso2.org/jira/browse/WSFPHP-477)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-22T18:45:30.883

在我的安装中，符号“rampart_context_set_prv_key”是在库 ${wsf.home}/lib/librampart.so 中定义的，由于 RPATH 变量，它可以从 wsf.so 直接访问。

# opengl-es - 在opengl es中缩放3D模型时如何保证高质量的纹理

> ID：12928628
> 
> 赞同：2
> 
> 时间：2012-10-17T06:45:45.847
> 
> 标签：opengl-es, zooming, textures

我在使用opengl ES中对图像二维图像进行纹理放大3d模型时，在确保质量纹理方面遇到了一些麻烦，同时决定寻求帮助！

我已经加载了 .obj 格式的文本文件并按 1024*1024 图像纹理化。我可以用纹理任意旋转和缩放 3d 模型。但是当缩放到一定程度时，纹理显示质量低。

我怎样才能确保高质量的质地？有什么好的方法可以解决这个问题？

任何指针将不胜感激。

谢谢！

# c# - ASP.Net C# UTC/GMT 日期时间

> ID：12928629
> 
> 赞同：0
> 
> 时间：2012-10-17T06:46:01.210
> 
> 标签：c#, datetime, utc, gmt

我想获得 UTC 0 时间，即格林威治标准时间 (GMT)。

我尝试 DateTime.UtcNow 和 DateTime.Now.ToUniversalTime() 但它返回错误的时间。它返回 22:40 而不是 06:40

如何在 C# 中获取 UTC/GMT 时间。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-17T06:47:35.270

> 我尝试`DateTime.UtcNow`但`DateTime.Now.ToUniversalTime()`它返回错误的时间。

不，真的没有。（我强烈建议使用前者而不是后者。一般来说，由于夏令时转换，从本地时间转换为 UTC 可能会模棱两可。我相信在这种特殊情况下它*可能会*做正确的事情，但`UtcNow`更好方法。）

`DateTime.UtcNow` *确实*返回当前的 UTC 时间。如果它给你错误的结果，那么你的系统时钟是错误的 - 或者你正在某处对值进行其他转换（例如，将其转换为本地时间作为格式化的一部分）。

基本上，您使用的是正确的属性，因此您需要诊断结果到底哪里出错了。

我建议您从一个小型*控制台*应用程序开始：

```
class ShowTimes
{
    static void Main()
    {
        Console.WriteLine("Local time: {0}", DateTime.Now);
        Console.WriteLine("UTC time: {0}", DateTime.UtcNow);
    }
} 
```

这显示了什么，你在哪个时区？

# css - IE中的图像边框错误

> ID：12928630
> 
> 赞同：0
> 
> 时间：2012-10-17T06:46:01.167
> 
> 标签：css, internet-explorer

在我的网站中，徽标在 Firefox 和 chrome 中显示良好，但在 IE 中，出现蓝色边框。![在此处输入图像描述](../Images/8800c6ffe2c0e12617e783317034f92c.png)

```
<img src="images/logo.png" style = "position:relative; top:40px;"> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:48:30.383

添加“边框样式：无；” 到图像

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T06:52:54.203

在你的CSS中添加这个代码

```
img{
border-style:transparent;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-17T06:53:02.023

在您的`style`属性中，添加：

```
border: none; 
```

IE 为链接中的图像添加蓝色边框。这是一件坏事。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-17T06:54:41.597

在您的 CSS 中，添加：

```
img {border: 0;}
a img, a:active img, a:focus img {outline: 0;} 
```

# ruby-on-rails - Heroku javascript包含问题

> ID：12928635
> 
> 赞同：1
> 
> 时间：2012-10-17T06:46:24.443
> 
> 标签：ruby-on-rails, heroku, ruby-on-rails-3.2

我目前正在使用 farbtastic-rails gem 在我的 rails 网站上嵌入颜色选择器。为此，我添加了

```
//= require farbtastic 
```

到我的 application.js 文件，

当我使用 rails 3.2.x 时，必要的 javascripts 来自 gem 目录中的资产管道。

需要的 javascripts 包含在本地服务器上，但我在 heroku 服务器上看不到该库。我不了解实际问题。

有什么方法可以在 heroku 上设置像生产这样的本地环境，以便我可以更深入地研究问题。

提前致谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T16:06:38.963

这是一篇有用的博文，处理 Heroku / Asset Pipeline 的所有问题：http: [//neilmiddleton.com/heroku-asset-pipeline-faq/](http://neilmiddleton.com/heroku-asset-pipeline-faq/)可能有助于找出问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T07:26:48.063

在生产模式下运行

```
rails server -e production 
```

# java - GWT 使用小部件和事件

> ID：12928636
> 
> 赞同：0
> 
> 时间：2012-10-17T06:46:30.817
> 
> 标签：java, gwt

我正在使用 GWT 2.4 开发一个新应用程序。我制作了一个docklayoutpanel，并在它的西部插入了一个单元格列表。我需要创建一个事件，每次用户单击页面西侧的单元列表元素时，都会在停靠布局面板的内容中加载特定的小部件。

有什么建议么？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T07:54:27.800

下面的例子应该是不言自明的

```
// Create a cell to render each value.
TextCell textCell = new TextCell();

// Create a CellList that uses the cell.
CellList<String> cellList = new CellList<String>(textCell);
cellList.setKeyboardSelectionPolicy(KeyboardSelectionPolicy.ENABLED);

// Add a selection model to handle user selection.
final SingleSelectionModel<String> selectionModel = new SingleSelectionModel<String>();
cellList.setSelectionModel(selectionModel);
selectionModel.addSelectionChangeHandler(new SelectionChangeEvent.Handler() {
  public void onSelectionChange(SelectionChangeEvent event) {
    String selected = selectionModel.getSelectedObject();
    if (selected != null) {
      Window.alert("You selected: " + selected);
    }
  }
}); 
```

而不是`Window.alert("You selected: " + selected);`您需要更改面板东侧显示的小部件。

这可以通过多种方式完成，其中一种是通过将面板声明为类的字段（不是类的构造函数中的局部变量）或最终的局部变量，将 Dockpanel 暴露给选择更改事件在构造函数中。

另一种方法是通过事件处理来做到这一点。MVP 设计模式上的 eventBus 方法是完成所有这些的正确方法，请参阅[此处](https://developers.google.com/web-toolkit/doc/latest/DevGuideMvpActivitiesAndPlaces)以获取更多信息。

# jquery - Jquery 对象中的 ASP.NET MVC 客户端验证结果

> ID：12928641
> 
> 赞同：1
> 
> 时间：2012-10-17T06:46:56.623
> 
> 标签：jquery, asp.net-mvc-2, data-annotations

我正在使用 MVC2.0，DataAnnotation 进行客户端验证。

我的问题是如何获取客户端验证结果，例如在 MVC2.0 中单击提交按钮时表单验证是否返回 TRUE 或 FALSE。

我的场景是，我想在使用 JQuery 单击提交按钮时在新选项卡中打开一个弹出窗口。但如果验证为假，则不应打开弹出窗口。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T08:00:43.267

我将内置的 javascript 验证库 jquery.validate.js 与我的模型一起使用，并根据模型规则检查表单是否有效，我执行以下操作以在客户端上进行验证：

```
var FormID = $("#FormID");
$(FormID).submit(function(e) {
    if (FormID.valid()) {
        alert("Form is valid");
    }
    else {
        alert("Form is invalid");
    }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T04:58:08.910

最后我得到了我的问题的解决方案。

```
        功能doPost（形式）{
            var myForm = $("#form0");
            var formContext = myForm[0]['__MVC_FormValidation'];
            变量错误；
            如果（表单上下文）{
                错误 = formContext.validate("提交");
            }
            if (!formContext || errors.length == 0) {
                //把你的自定义JS代码放在这里
            }            
        }

```

# jsp - 如何在按钮操作后更新jsp中的值以显示新值

> ID：12928642
> 
> 赞同：1
> 
> 时间：2012-10-17T06:46:59.930
> 
> 标签：jsp, jsf-2

我使用 an`outputText`来显示计算值。我添加了一个`commandButton`来重置值。

```
 <h:outputText id="lost" value="#{calculation.lost}" ></h:outputText>
 <h:commandButton id="resetLost" value="Reset" action="#{calculation.setLost(0.0)}"></h:commandButton> 
```

该`setLost`方法只执行这样的代码插入：`lost=lost`.

我假设`outputText`会自动更新，但值不会改变。我也尝试自动刷新页面但没有效果。我也尝试使用javascript。

是否有可能`commandButton`不执行该操作？为什么？这段代码有什么问题？

# android - 错误请求作为响应

> ID：12928644
> 
> 赞同：0
> 
> 时间：2012-10-17T06:47:08.827
> 
> 标签：android, facebook

我试图获取`facebook`墙数据。我通过使用获取了访问令牌

```
accesstoken=Login.mFacebook.getAccessToken();
Log.e("accesstoken",accesstoken); 
```

但是打电话的时候

```
String wallres=UrltoValue.getValuefromUrl("https://graph.facebook.com/me/feed?     access_token=accesstoken");
Log.e("wall res",wallres); 
```

我收到错误请求作为响应

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-14T15:54:50.603

我已经有这样的问题了。尝试删除空格或将其转换为 %20。

```
String wallres=UrltoValue.getValuefromUrl("https://graph.facebook.com/me/feed?access_token=accesstoken");
Log.e("wall res",wallres); 
```

问候，雨果佩德罗萨

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T07:19:50.617

通过调用此代码，您可以说 accesstoken 实际上是 URL 的一部分。

```
String wallres=UrltoValue.getValuefromUrl("https://graph.facebook.com/me/feed?     access_token=accesstoken"); 
```

我认为您打算这样做，以便使用先前定义的变量`accesstoken`：

```
String wallres=UrltoValue.getValuefromUrl("https://graph.facebook.com/me/feed?     access_token=" + accesstoken); 
```

# c# - 如何在 MVC4 中的 @Url.Action 中传递查询字符串值

> ID：12928646
> 
> 赞同：2
> 
> 时间：2012-10-17T06:47:20.323
> 
> 标签：c#, asp.net, asp.net-mvc-4

我在 _Layout.cshtml 页面中传递了一个查询字符串值

```
 <li>@Html.ActionLink("Contact", "Contact", "Home")</li>
 <li>@Html.ActionLink("Shopping", "Index1", new { controller = "Shopping", UserID = "Admin" })</li> 
```

**如何在查看Index1.cshtml页面中传递值**

```
 <a href="@Url.Action("Delete","Shopping", new { id = Request.QueryString["UserID"] })">
 <img alt="removeitem" style="vertical-align: middle;" height="17px" src="~/Images/remove.png" title="remove" />
 </a> 
```

我没有在我的控制器中获取查询字符串值

```
public ActionResult Delete()
{
    string id = Request.QueryString["UserID"];
    int records = DeleteItem(id);
    if (records > 0)
    {
        return RedirectToAction("Index", "Shopping");
    }
    else
    {
        ModelState.AddModelError("", "Can Not Delete");
        return View("Index");
    }
}

public int DeleteItem(string id)
{
    con.Open();          
    SqlCommand cmd = new SqlCommand("delete from Cpecial_Shopping_Cart_tbl where [User ID]='" + id + "'", con);         
    return cmd.ExecuteNonQuery();
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-17T06:52:31.413

您的删除操作方法需要一个名为 id 的参数

```
Public ActionResult Delete(string id){
     //delete the Request.QueryString line
} 
```

# c# - 比较 Nullable DateTime 变量的默认值

> ID：12928653
> 
> 赞同：5
> 
> 时间：2012-10-17T06:47:44.967
> 
> 标签：c#, datetime, nullable

在我的 C# 代码中，我有一个`DateTime?`变量。从数据库中获取值时，它可以是`null`或可以具有一些日期/时间值。

在前端，我不想获得默认值（01-01-1900 12:00:00 am）。比较此默认日期的日期变量的最佳方法是什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-17T07:16:11.060

您可以创建一个常量：

```
static readonly DateTime DefaultDateTime = new DateTime(1900, 1, 1, 0, 0, 0); 
```

然后这样比较：

```
DateTime? myVariable = returnedFromDb == DefaultDateTime ? default(DateTime?) : returnedFromDb; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-17T07:28:06.607

你可以有一个扩展方法，像这样：

```
public static class DateTimeExtensions
{
    static DateTime SQL_DEFAULT = new DateTime(1900, 1, 1);

    public static bool IsDefaultValue(this DateTime dateTime)
    {
        return dateTime == SQL_DEFAULT;
    }
} 
```

然后只需测试该值：

var isDefault = myDate.IsDefaultValue();

# java - 跟踪实例属性更改

> ID：12928654
> 
> 赞同：4
> 
> 时间：2012-10-17T06:47:48.020
> 
> 标签：java, class, attributes, rmi

我们正在开发一个使用 RMI 进行 RPC 的多进程项目。

我们面临的问题是必须在进程之间传递的主要对象非常大（当序列化时），这大大降低了代码的性能。

因为，没有一个过程改变整个对象，只改变了它的一小部分，我们决定只通过 RMI 传递“修改”。

但我发现没有合适的方法来实现这样的概念。第一个想法是跟踪主实例的所有变化。但这似乎并不[容易](https://stackoverflow.com/questions/12897150/log-all-the-attribute-changes-of-a-class)。

我需要一种方法，我们可以：

*   快速发展
*   执行速度快

有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T04:41:02.027

只需将此“主对象”设为实现远程接口的远程对象，然后将其导出，而不是前后序列化。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-30T13:01:33.953

我认为最好的方法是自定义您的序列化，这样您就可以只发送更改。您可以通过实现 private
void writeObject(java.io.ObjectOutputStream stream) 的私有方法来实现，当然也可以从另一端读取对象。那么，你应该在这个函数中做什么？我建议您管理所有已更改成员的位图并仅在序列化中发送它们，只需将未更改的成员更改为 null 以序列化方式发送对象，然后返回值。在另一边阅读位图，然后你就会知道如何

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-18T08:34:20.770

看看[http://docs.oracle.com/javase/tutorial/uiswing/events/propertychangelistener.html](http://docs.oracle.com/javase/tutorial/uiswing/events/propertychangelistener.html)

```
public class Test {
    PropertyChangeSupport pcs = new PropertyChangeSupport(this);
    private String name;
    private int age;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        String oldName = this.name;
        this.name = name;
        pcs.firePropertyChange("name", oldName, name);
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        int oldAge = this.age;
        this.age = age;
        pcs.firePropertyChange("age", oldAge, age);

    }

    public void addPropertyChangeListener(PropertyChangeListener listener) {
        pcs.addPropertyChangeListener(listener);
    }

    public void removePropertyChangeListener(PropertyChangeListener listener) {
        pcs.removePropertyChangeListener(listener);
    }

    public Test(){

    }
    public static void main (String[] args){
        Test myTestObject = new Test();
        myTestObject.addPropertyChangeListener(new MyPropertyChangeListener());
        myTestObject.setAge(12);
        myTestObject.setName("Rick");
        myTestObject.setName("Andrew");
    }
    private static class MyPropertyChangeListener implements  PropertyChangeListener {
        @Override
        public void propertyChange(PropertyChangeEvent event) {
            String clazz = event.getSource().getClass().getName();
            System.out.println(clazz+"::"+event.getPropertyName()+" changed from "+event.getOldValue()+" to "+event.getNewValue());
        }
    }
} 
```

这是一个简单的示例，但使用这种方法，您可以创建不同的 PropertyChangeListener 并在其方法 propertyChange 中提供不同的逻辑。也可以只对一小组属性而不是所有属性触发更改（不存储 oldValue 也不触发 PropertyChangeSupport 的 firePropertyChange 方法）。

当然，您可以使用 AOP，但也许您正在寻找上面介绍的解决方案。我希望这有帮助。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-10-17T07:12:30.900

第一次你需要传递整个对象。

在对象上使用 PropertyChangeListener，这将生成一个 PropertyChangeEvent。

您可以传递 PropertyChangeEvent。它具有 getSource()，您可以通过它识别对象。如果这还不够，如果您需要 IOR 或任何其他类型的引用，请创建一个包装器并将其发送过去..

-麦迪

# android - 垂直线性布局中的权重

> ID：12928658
> 
> 赞同：3
> 
> 时间：2012-10-17T06:47:57.840
> 
> 标签：android

我对垂直线性布局中的重量感到困惑。我可以在水平线性布局中很好地使用权重，但如何在垂直线性布局中使用它。我有一个相对布局，其中包含一个具有一些文本视图和文本字段的衬垫布局（垂直）。我想要以下安排。 ![](../Images/504edcbb4d7a14bbbd61fa019021aef4.png)

红线=相对布局，绿线=线性布局（垂直），蓝色=textview，黄色=texfields

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:gravity="center" >
    <LinearLayout
        android:id="@+id/linearLayout1"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <TextView
            android:id="@+id/textView1"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="Large Text"
            android:textAppearance="?android:attr/textAppearanceLarge" />

        <EditText
            android:id="@+id/editText2"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:ems="10"
            android:inputType="numberDecimal" />
    </LinearLayout>
</RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T07:00:09.913

如果你使用 layout_weigth 参数，你应该有与 match_parent 上的线性布局方向相关的参数

所以：

```
 android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_weight="1" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T07:00:10.617

**-**首先你可以在**不**`Relative layout` **使用**.`LinearLayout`

**-**其次，如果您想在 中使用子布局`Relative layout`，那么最好`TableRow`在您的中使用`Relative layout`，并安排其中的元素，就像您所展示的那样。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-17T07:49:59.953

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:gravity="center" >
     <LinearLayout
        android:id="@+id/linearLayout1"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical" 
        android:layout_margin="10dp">
    <LinearLayout
        android:id="@+id/linearLayout1"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <TextView
            android:id="@+id/textView1"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="Large Text"
            android:textAppearance="?android:attr/textAppearanceLarge" />

        <EditText
            android:id="@+id/editText1"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:ems="10"
            android:inputType="numberDecimal" />

    </LinearLayout>
    <LinearLayout

        android:id="@+id/linearLayout2"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <TextView
            android:id="@+id/textView2"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="Large Text"
            android:textAppearance="?android:attr/textAppearanceLarge" />

        <EditText
            android:id="@+id/editText2"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:ems="10"
            android:inputType="numberDecimal" />

    </LinearLayout>
     <LinearLayout

        android:id="@+id/linearLayout3"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <TextView
            android:id="@+id/textView3"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="Large Text"
            android:textAppearance="?android:attr/textAppearanceLarge" />

        <EditText
            android:id="@+id/editText3"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:ems="10"
            android:inputType="numberDecimal" />

    </LinearLayout>
     <LinearLayout

        android:id="@+id/linearLayout4"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <TextView
            android:id="@+id/textView4"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="Large Text"
            android:textAppearance="?android:attr/textAppearanceLarge" />

        <EditText
            android:id="@+id/editText4"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:ems="10"
            android:inputType="numberDecimal" />

    </LinearLayout>
    </LinearLayout>
</RelativeLayout> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-07-30T09:09:17.233

就我而言，在经历了一些垂直权重问题的游戏之后，我了解到 android 会环绕 ViewGroup 的内容，即使你设置的权重比其内容的大小更大，它也会环绕内容并给出其他视图的额外空间。

**解决方案是根据您的需要添加边距顶部或底部。**

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-11-06T11:09:40.363

我建议`TableLayout`为此使用 a 。如果我做对了，那么您正在尝试水平应用权重，以便在`LinearLayout`. 假设这是对的，那么你永远不会这样做。

`LinearLayout`在其内部水平或垂直排列所有元素。它不能双管齐下。因此，无论如何您都需要一个单独的行容器来实现您的目标。

`TableLayout`不仅使用该固有的行容器设计，而且还为这种布局提供了内置的列支持，而无需权重来管理。

# c# - 将不同格式的 DateTime 转换为特定的 String 格式

> ID：12928660
> 
> 赞同：1
> 
> 时间：2012-10-17T06:48:17.970
> 
> 标签：c#, c#-4.0, datetime, datetime-format

我 `System.datetime.now`从不同的机器获取。每个系统都有不同的日期时间格式，如下所示

```
16-Oct-12 7:25:22 PM
16/10/2012 7:10:47 PM [DD/MM/YYYY]
10/16/2012 7:10:51 PM [MM/DD/YYYY] 
```

如何将不同的格式转换`DateTime`为特定的字符串格式？

```
string sDateTime = DateTime.Now.ToString("dd/MM/yyyy hh:mm:ss tt"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T06:49:51.913

Google 搜索的第一个结果：[来自 MSDN 的自定义日期时间格式字符串](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx)

返回日期时间时，您必须使用您在其他机器上明确提供的代码行：

```
string sDateTime = DateTime.Now.ToString("dd/MM/yyyy hh:mm:ss tt");] 
```

然而，这不知道时区！如果您的应用程序跨越多个时区，您也应该考虑到这一点！

或者，更好的是，您可以将 Unix 时间（从 1970 年 1 月 1 日开始的毫秒数）作为长返回，当然还有时区信息，如果机器之间的时间不同......（注意，.NET expoch 时间是从 0001-01-01 开始！）

[返回纪元时间](https://stackoverflow.com/questions/2883576/how-do-you-convert-epoch-time-in-c)

*   我建议**不要**使用 tryParse：只有当月份大于 12 时，您才能可靠地确定日期是否在`[DD/MM/YYYY]`or中……这会导致神秘错误。`[MM/DD/YYYY]`相信我，去过那里，做到了（调试部分）......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T06:52:28.497

尝试Datetime 类的[TryParse方法](http://msdn.microsoft.com/en-us/library/ch92fbc1.aspx)

链接中的示例：

```
string[] dateStrings = {"05/01/2009 14:57:32.8", "2009-05-01 14:57:32.8", 
                        "2009-05-01T14:57:32.8375298-04:00", 
                        "5/01/2008 14:57:32.80 -07:00", 
                        "1 May 2008 2:57:32.8 PM", "16-05-2009 1:00:32 PM", 
                        "Fri, 15 May 2009 20:10:57 GMT" };
DateTime dateValue;

Console.WriteLine("Attempting to parse strings using {0} culture.", 
                  CultureInfo.CurrentCulture.Name);
foreach (string dateString in dateStrings)
{
   if (DateTime.TryParse(dateString, out dateValue)) 
      Console.WriteLine("  Converted '{0}' to {1} ({2}).", dateString, 
                        dateValue, dateValue.Kind);
   else
      Console.WriteLine("  Unable to parse '{0}'.", dateString);
} 
```

请注意，在示例中它不适用于所有给定的字符串日期

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T07:02:13.390

您的示例的问题是最后两种格式`16/10/2012 7:10:47 PM [DD/MM/YYYY]`和`10/16/2012 7:10:51 PM [MM/DD/YYYY]`. 如果值是`10/11/2012 7:20:10 PM`你怎么知道它是 2012 年 10 月 11 日还是 2012 年 11 月 10 日？

```
var input = new string []{ "16-Oct-12 7:25:22 PM",
                "16/10/2012 7:10:47 PM",
                "10/16/2012 7:10:51 PM"};

foreach (var date in input)
{
    var result = DateTime.MinValue;

    if (DateTime.TryParse(date, out result))
    {
        Console.WriteLine("Date value: {0}", result);
    }
    else
    {
        Console.WriteLine("Cannot parse value {0}", date);
    }
} 
```

如您所见，`"16/10/2012 7:10:47 PM"`无法解析。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-18T06:12:33.467

```
 if (DateTime.TryParse(DateTime.Now.ToString("MM/dd/yyyy hh:mm:ss tt"), out result))
                    sDateTime = DateTime.Now.ToString("MM/dd/yyyy hh:mm:ss tt");
                else
                {
                    if (System.Threading.Thread.CurrentThread.CurrentCulture.DateTimeFormat.ShortDatePattern.Equals("dd-MMM-yy")) sDateTime = DateTime.Now.ToString("MM/dd/yyyy hh:mm:ss tt");
                    else sDateTime = DateTime.Now.Month +"/" + DateTime.Now.Day+ "/" + DateTime.Now.Year + " " +  DateTime.Now.ToString("hh:mm:ss tt");
                } 
```

# database - 规范化和关系

> ID：12928661
> 
> 赞同：0
> 
> 时间：2012-10-17T06:48:20.447
> 
> 标签：database, database-design

我有一个具有详细实体 DetailB 的主实体 MasterA。我有一个单独的实体 DetailC，它具有 DetailB 的外键。

在我的查询中，我查询了很多 DetailC 列表，但我必须查询与 MasterA 相关的 DetailC。在这种情况下，在 DetailC 和 MasterA 之间建立外键关系以加快查询速度是否有意义。（而不是与 DetailB 进行连接）。在应用程序层，我会确保 DetailC 中的 FK 是同步的（与 DetailB 中指定的内容）。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T10:19:30.833

您可以向 DetailC 添加一个字段，该字段将是 MasterA 的外键。但是如果 DetailC 与 DetailB 有关系，而 DetailB 与 MasterA 有关系，那么这个额外的字段将是多余的。严格归一化会说不应该有这样的字段，但是你应该可以放宽归一化规则，只要你能保证数据不会有差异。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T07:05:24.300

我认为这取决于您的数据。

如果您认为 DetailC 和 MasterA 有关联，我认为这样做是有意义的。

或者，如果您担心效率，我认为在设计中总是会发生权衡。在这种情况下，您必须增加数据大小以适应您的速度（或方便）。

# java-me - 根据屏幕大小调整屏幕元素 j2me

> ID：12928668
> 
> 赞同：0
> 
> 时间：2012-10-17T06:48:59.307
> 
> 标签：java-me

我在 j2me 中开发了一个应用程序，它应该可以在诺基亚、三星等不同的手机上运行。支持 .jar 文件，它可以完美运行，但是对于某些三星设备，屏幕比诺基亚的手机扩展得更多，所以我想要要做的是在开始时以某种方式获取屏幕属性，以便我可以根据它调整我的文本和图像以使其适合所有类型的设备，知道我该怎么做吗？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T07:51:07.557

如果您担心绘制自己的文本和图像，那么我猜您的应用程序是基于画布的，对吧？在这种情况下，您可以调用 Canvas 的[`getWidth`](http://docs.oracle.com/javame/config/cldc/ref-impl/midp2.0/jsr118/javax/microedition/lcdui/Displayable.html#getWidth%28%29)和[`getHeight`](http://docs.oracle.com/javame/config/cldc/ref-impl/midp2.0/jsr118/javax/microedition/lcdui/Displayable.html#getHeight%28%29)方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T17:06:32.250

如果您正在使用`Canvas`，您应该在方法中获取您的屏幕属性[`sizeChanged`](http://docs.oracle.com/javame/config/cldc/ref-impl/midp2.0/jsr118/javax/microedition/lcdui/Canvas.html#sizeChanged%28int,%20int%29)，但请注意，有些手机不能正确调用它，一个简单的 hack 会有所帮助：

```
class MainCanvas extends Canvas {

  int lastWidth, lastHeight;

  protected void sizeChanged(int w, int h) {
    lastWidth = w;
    lastHeight = h;
    // adjust your user interface to the
    // new width and height
    // ...
  }

  protected void paint(Graphics g) {
    if (super.getWidth() != lastWidth
        || super.getHeight() != lastHeight) {
      sizeChanged(super.getWidth(), super.getHeight());
    }
    // paint your user interface
    // ...
  }
} 
```

我已经在[http://smallandadaptive.blogspot.com.br/2011/04/sizechanged-not-called.html上写过这个博客](http://smallandadaptive.blogspot.com.br/2011/04/sizechanged-not-called.html)

# android - 放置图像后，为什么不获取图像视图的圆角？

> ID：12928671
> 
> 赞同：1
> 
> 时间：2012-10-17T06:49:14.037
> 
> 标签：android, android-layout, android-selector

这是我的布局代码：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/white"
    android:orientation="vertical" >

        <TableLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:layout_margin="5dp"
            android:gravity="center" >

            <TableRow
                android:id="@+id/tableRow1"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:layout_weight="1" >

                <ImageView
                    android:id="@+id/imageView1"
                    android:layout_width="fill_parent"
                    android:layout_height="fill_parent"
                    android:layout_margin="5dp"
                    android:layout_weight="1"
                    android:background="@drawable/round"
                    android:scaleType="fitXY" />

                <ImageView
                    android:id="@+id/imageView2"
                    android:layout_width="fill_parent"
                    android:layout_height="fill_parent"
                    android:layout_margin="5dp"
                    android:layout_weight="1"
                    android:background="@drawable/roundp" 
                    android:scaleType="fitXY"/>
            </TableRow>

            <TableRow
                android:id="@+id/tableRow2"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:layout_weight="1" >

                <ImageView
                    android:id="@+id/imageView3"
                    android:layout_width="fill_parent"
                    android:layout_height="fill_parent"
                    android:layout_margin="5dp"
                    android:layout_weight="1"
                    android:background="@drawable/roundp"
                    android:scaleType="fitXY" />

                <ImageView
                    android:id="@+id/imageView4"
                    android:layout_width="fill_parent"
                    android:layout_height="fill_parent"
                    android:layout_margin="5dp"
                    android:layout_weight="1"
                    android:scaleType="fitXY" />
            </TableRow>
        </TableLayout>

    </LinearLayout> 
```

roundp.xml

```
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android" 
    android:shape="rectangle">
    <corners 
        android:topRightRadius="0dp"
        android:bottomLeftRadius="25dp"
        android:topLeftRadius="25dp"
        android:bottomRightRadius="0dp"/>

   <stroke 
       android:width="2dp"
       android:color="@color/red" />
   <solid 
       android:color="@color/white"/>

</shape> 
```

圆形.xml

```
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android" 
    android:shape="rectangle">
    <corners 
        android:topRightRadius="25dp"
        android:bottomLeftRadius="0dp"
        android:topLeftRadius="0dp"
        android:bottomRightRadius="25dp"/>

   <stroke 
       android:width="2dp"
       android:color="@color/red" />
   <solid 
       android:color="@color/white"/>

</shape> 
```

如果我没有在 ImageView 中放置任何图像，我可以看到带有圆角的空 ImageView，在放置图像圆角后，正常的矩形形状与图像一起显示。如何解决这个问题？

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T08:14:31.023

您一直在使用 layout_weight 属性，但没有在任何地方使用 weight_sum 属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T09:20:19.947

将渐变放入形状 xml..

```
<gradient
        android:angle="270"
        android:endColor="#fddd"
        android:startColor="#ffff" /> 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-17T07:21:17.820

对于**回合**，你可以添加**android:padding**来显示边界。

但是，对于**roundp**，除非通过代码 java 处理图像，否则我不知道要修复它。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-10-17T08:37:05.457

有为图像添加圆角的代码

```
public static Bitmap toRoundCorner(Bitmap bitmap, int pixels) {  

    Bitmap output = Bitmap.createBitmap(bitmap.getWidth(), bitmap.getHeight(), Config.ARGB_8888);  

    Canvas canvas = new Canvas(output);  

    final int color = 0xff424242;  

    final Paint paint = new Paint();  

    final Rect rect = new Rect(0, 0, bitmap.getWidth(), bitmap.getHeight());  

    final RectF rectF = new RectF(rect);  

    final float roundPx = pixels;  

    paint.setAntiAlias(true);  

    canvas.drawARGB(0, 0, 0, 0);  

    paint.setColor(color);  

    canvas.drawRoundRect(rectF, roundPx, roundPx, paint);  

    paint.setXfermode(new PorterDuffXfermode(Mode.SRC_IN));  

    canvas.drawBitmap(bitmap, rect, rect, paint);  <br>
    return output;  

} 
```

# ruby-on-rails - 如何将用户限制为仅执行特定操作并在需要时进行修改？

> ID：12928674
> 
> 赞同：2
> 
> 时间：2012-10-17T06:49:42.803
> 
> 标签：ruby-on-rails, ruby-on-rails-3, roles

我正在使用设计进行身份验证，并且我只希望名为`admin`有权编辑或删除所有帖子的用户。其他用户可以查看特定于任何项目的所有帖子。只有与该项目对应的用户才能编辑帖子。此外，我们应该能够将用户从一个项目更改为另一个项目。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T06:59:48.883

我想你想要一个授权解决方案。检查[并](https://www.ruby-toolbox.com/categories/rails_authorization)选择一个。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T06:59:55.410

Cancan gem 用于授权，这个 gem 可以帮助你[https://github.com/ryanb/cancan](https://github.com/ryanb/cancan)

# php - 模态框上的 JQuery Checked Selector 并在页面上返回它

> ID：12928677
> 
> 赞同：4
> 
> 时间：2012-10-17T06:49:57.653
> 
> 标签：php, jquery, jquery-selectors, checkbox, checked

我想要做的是，将模式框上每个复选框上选中的值返回到文本框。[这个问题与这个](https://stackoverflow.com/questions/11952407/how-can-i-pass-the-chosen-value-on-a-modal-box-to-php)问题非常相似，但问题的目的不同。所以请看看他们两个。:)

我有初始化模态框的代码：

```
<script>
var grid_modal_options = {
    height: 'auto',
    width: '80%',
    modal: true
};
function showProductsModalBox() {
    $("#products_modal_box").dialog(grid_modal_options);
    $("#products_modal_box").parent().appendTo('form:first');
}
</script>

<div id="products_modal_box" title="Products" style="display: none;">
  <div class="in">
    <div class="grid-12-12">
      <form id="products_modal_box_form" action="#" method="post">
        <a href=\"javascript:;\" onclick=\"$('#products_id_textbox').val(\"input[name='checkedID[]']:checked\");$('#products_modal_box').dialog('close')();\">Submit</a>
         <table>
          <thead>
            <tr>
              <th>&nbsp;</th>
              <th>Product</th>
            </tr>
          </thead>
          <!-- Query for read mysql goes here (I skipped this line because it's not the main thing I'm gonna ask since it's run well) /-->
          <tbody>
          <?php
            //read the results
            while($fetch = mysqli_fetch_array($r)) {                
              print "<tr>";
              print "  <td><input type='checkbox' name='checkedID' value='" . $fetch[0] . "' /></td>"; //--> How to get the value of $fetch[0], collect it and return to a textbox?
              print "  <td>" . $fetch[0] . "</td>"; //$fetch[0] == Product ID
              print "</tr>";
            }
          ?>
          </tbody>
        </table>
      </form>
    </div>
  </div>
</div> 
```

正如您在上面看到的，我正在尝试使用[伪选择器](http://docs.jquery.com/Selectors/checked)函数：`input[name='checkedID[]']:checked`但未能返回值。还是我错过了代码？

这是返回在模式框上检查的值的文本框：

```
<input type='text' id='products_id_textbox' name='products_id_textbox' />
<a href='#' onclick='showProductsModalBox(); return false;'>Choose products</a> 
```

能够显示模态框的代码。但是如何将用户从每个文本框中选择的“产品”返回到文本框`products_id_textbox`？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-20T05:16:52.973

使用此代码解决的问题：

```
<script>
$("input#checkedID").change(function () {
  var str = "";
  $("input:[name='checkedID[]']:checked").each(function () {
        str += $(this).val() + ", ";
  });
  $("input#products_id_textbox").val(str);
})
.trigger('change');
</script> 
```

以及仅用于关闭模式框的按钮的修改：

```
<a href=\"javascript:;\" onclick=\"$('#products_modal_box').dialog('close')();\">Submit</a> 
```

该函数称为**[:checked Selector](http://api.jquery.com/checked-selector/)**。

非常感谢您，希望对您有所帮助... :)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T07:03:41.503

您从 php 输出的内容是 checkedID 而不是 checkedID[] 更改

```
print "  <td><input type='checkbox' name='checkedID' value='" . $fetch[0] . "' /></td>"; 
```

到

```
print "  <td><input type='checkbox' name='checkedID[]' value='" . $fetch[0] . "' /></td>"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T09:53:09.370

请尝试以下代码：

```
 myCheckbox is a class which you need to assign your checkboxes..

    var checkboxValues = $('.myCheckbox:checked').map(function() {
        return $(this).val();
    }).get();

Then you can assign that values into your textbox....

$('#products_id_textbox').val(checkboxValues); 
```

希望对你有帮助...

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-19T10:30:12.690

你的选择器应该看起来像，

```
$("input[name='checkedID[]']:checked") 
```

它为您提供了所有名称为“checkedID[]”的复选框被选中。你必须循环它来获取所有的值。

希望这可以帮助 ！

# java - java.lang.NoClassDefFoundError：即将出现在 java servlet 中

> ID：12928678
> 
> 赞同：0
> 
> 时间：2012-10-17T06:49:58.430
> 
> 标签：java, jsp, servlets

这是我的 servlet 类

```
package com.zaggle;

import java.io.IOException;

import javax.servlet.RequestDispatcher;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

/**
 * Servlet implementation class FirstServlet
 */
public class FirstServlet extends HttpServlet {
private static final long serialVersionUID = 1L;

/**
 * @see HttpServlet#HttpServlet()
 */
public FirstServlet() {
    super();
    // TODO Auto-generated constructor stub
}

/**
 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)
 */
protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    // TODO Auto-generated method stub
}

/**
 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)
 */
protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    // TODO Auto-generated method stub
    String[] data;String val=null,name;
    name=request.getParameter("excelsheet");
    System.out.println(name);
        response.setContentType("text/html");
         UploadExcel ex= new UploadExcel();
         data=ex.procedure(name);
     System.out.println(name);

    request.setAttribute("val", data);
    System.out.println(val);

    String destination="/NewFile1.jsp";
    RequestDispatcher rd=getServletContext().getRequestDispatcher(destination);
    //doGet(request, response);
    rd.forward(request, response);

}

} 
```

这是我在 servlet 类中使用的普通 java 类

```
package com.zaggle;

import java.io.FileInputStream;
import java.io.IOException;
import java.util.Iterator;
import java.util.Scanner;
import java.util.Vector;
import javax.swing.plaf.basic.BasicInternalFrameTitlePane.RestoreAction;
import org.apache.poi.hssf.record.formula.functions.Goto;
import org.apache.poi.hssf.usermodel.HSSFCell;
import org.apache.poi.hssf.usermodel.HSSFRow;
import org.apache.poi.hssf.usermodel.HSSFSheet;
import org.apache.poi.hssf.usermodel.HSSFWorkbook;
import org.apache.poi.poifs.filesystem.POIFSFileSystem;

 public class UploadExcel {
public String[] procedure(String filename) {
    //  Scanner scanner = new Scanner(System.in);
      //System.out.println("Please enter a filename with extention to upload");

    String fileName = "C:\\"+filename;//+scanner.nextLine();
    String[] dataHolder = ReadCSV(fileName);
   // printCellDataToConsole(dataHolder);
    return dataHolder;
}

public static void printCellDataToConsole(Vector dataHolder) {
    // TODO Auto-generated method stub
    for(int i=0;i<dataHolder.size();i++)
    {
        Vector column=(Vector)dataHolder.elementAt(i);
        for (int j = 0; j < column.size(); j++) {
            HSSFCell myCell = (HSSFCell) column.elementAt(j);
            String stringCellValue = myCell.toString();

            System.out.print(stringCellValue + "\t");
    }
    System.out.println();

    }
}

public static String[] ReadCSV(String fileName) {
    // TODO Auto-generated method stub
     Vector cellVectorHolder = new Vector();
     String[] col = null;
     try {
         FileInputStream myInput = new FileInputStream(fileName);

         POIFSFileSystem myFileSystem = new POIFSFileSystem(myInput);

         HSSFWorkbook myWorkBook = new HSSFWorkbook(myFileSystem);

         HSSFSheet mySheet = myWorkBook.getSheetAt(0);

         Iterator rowIter = mySheet.rowIterator();

         while (rowIter.hasNext()) {
                 HSSFRow myRow = (HSSFRow) rowIter.next();
                 Iterator cellIter = myRow.cellIterator();
                 Vector column = new Vector();
                 while (cellIter.hasNext()) {
                         HSSFCell myCell = (HSSFCell) cellIter.next();
                         column.addElement(myCell);

                 }
                  col=column.toString().split(" ");
                 cellVectorHolder.addElement(column);
         }
 } catch(IOException ie)
 {
     System.err.println("Please enter a valid input");

 }
     catch (Exception e) {
         e.printStackTrace();
 }
 //return cellVectorHolder;
     return col;
}

} 
```

当我运行时，我收到这样的错误

类型异常报告

信息

描述 服务器遇到一个内部错误 () 阻止它完成这个请求。

例外

javax.servlet.ServletException：Servlet 执行引发异常

根本原因

```
java.lang.NoClassDefFoundError: org/apache/poi/poifs/filesystem/POIFSFileSystem
com.zaggle.UploadExcel.ReadCSV(UploadExcel.java:52)
com.zaggle.UploadExcel.procedure(UploadExcel.java:24)
com.zaggle.FirstServlet.doPost(FirstServlet.java:42)
javax.servlet.http.HttpServlet.service(HttpServlet.java:637)
javax.servlet.http.HttpServlet.service(HttpServlet.java:717) 
```

为什么我会收到此错误。谁能帮我？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-17T06:53:47.047

您似乎忘记在其中包含POI**库**`CLASSPATH`（例如，您的 Web 应用程序没有引用它）。您可以将此库包含在`WEB-INF/lib`（在您的 WAR 存档中或以展开的目录格式中），或者它可以位于您的应用程序`server/web`服务器的其他位置`CLASSPATH`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T06:54:07.653

你在这一行得到了例外

```
POIFSFileSystem myFileSystem = new POIFSFileSystem(myInput); 
```

您正在尝试使用项目中未包含的库。确保该`import org.apache.poi`库在`web-inf/lib`目录中

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-17T06:54:09.950

您的 POI jar 不在类路径中。您可以在**WEB-INF/lib 下包含此库。**.

还要检查您的 jar 版本是否与预期的不同。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-17T07:03:20.963

确保`apache-poi.jar`在 WEB-INF/lib 下。

可选：根据您的 Web 服务器或应用程序服务器，放入`apache-poi.jar`/ `server-home`lib（取决于服务器）。这不是最好的解决方案。

* * *

**笔记**

现在，您正在开发 Web 应用程序，不要使用具有特定路径的上传文件（例如：C:\....）。如果是这样，程序会发现本地机器上的上传文件`Web Server`正在运行。首先，您必须将文件上传为`byte[]`或`InputStream`使用其他第三方库。在那之后，你必须改变`HSSFWorkbook`。

# ejb - 通过 CDI 生成具有扩展持久性上下文的 Entitymanager

> ID：12928685
> 
> 赞同：1
> 
> 时间：2012-10-17T06:50:45.983
> 
> 标签：ejb, cdi, entitymanager, multi-tenant, stateful

我们正在尝试构建一个系统，该系统根据登录用户（多租户类型）“生成”一个实体管理器。因此，我们实现了一个这样的无状态 ejb：

```
@Stateless
@TransactionAttribute(TransactionAttributeType.SUPPORTS)
public class CustomEntityManagerFactory {

  @PersistenceContext(unitName = "EM1")
  private EntityManager em1;

  @PersistenceContext(unitName = "EM2")
  private EntityManager em2;

  @Produces
  @RequestScoped
  public EntityManager getEntityManager() {
    // check which entitymanager to return
  }
} 
```

实体管理器是这样注入的：

```
@Stateless
public class EmployeeService {

  @Inject
  private EntityManager em;

  ...

} 
```

只要只需要一个没有扩展持久性上下文的实体管理器（在无状态 ejb 中），这个生产者就可以工作。不幸的是，我们也有一些有状态的 ejb，它们需要扩展的持久性上下文。有没有办法为此目的实现 CDI 生产者，或者这种方法仅适用于带有事务实体管理器的无状态 ejb？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-10-17T18:33:40.587

我猜你需要这个：在这里创建两个工厂：

```
@ApplicationScoped
public class EntityManagerFactoryProducer {

    private static EntityManagerFactory factory;
    private static EntityManagerFactory factory2;

    @Produces
    public EntityManagerFactory getEntityManagerFactory(InjectionPoint ip) {
    // if the field is named exactly factory2 then factory2 is produced
    if (ip.getMember().getName().equals("factory2")) {

        if (factory2 == null) {
        factory2 = Persistence.createEntityManagerFactory("EM2");
        }
        return factory2;
    }

    else {
        if (factory == null) {
        factory = Persistence.createEntityManagerFactory("EM1");
        }
        return factory;
    }
    } 
```

使用工厂创建EntityManagers

```
public class EntityManagerProducer {
    @Inject
    private EntityManagerFactory factory;

    @Inject
    private EntityManagerFactory factory2;

    @Produces
    @RequestScoped
    public EntityManager getEntityManager() {
        return factory.createEntityManager();
    }

    @Produces
    @RequestScoped
    @MyCustomQualifier
    public EntityManager getEntityManager2() {
        return factory2.createEntityManager();
    }

} 
```

用于实体管理器之间不同的限定符

```
@Qualifier
@Retention(RUNTIME)
@Target({FIELD })
public @interface MyCustomQualifier {
    @Nonbinding
    public String value() default "";
} 
```

最终用途：

```
@Inject
EntityManager em;

@Inject
@MyCustomQualifier
EntityManager em2; 
```

当然，您可以使用限定符来区分工厂，而不是检查字段的名称。我只是想更深入地了解答案。

# iphone - 如何以编程方式从应用商店了解应用信息

> ID：12928686
> 
> 赞同：1
> 
> 时间：2012-10-17T06:50:46.840
> 
> 标签：iphone

我正在开发一个应用程序。在那我想知道一些 X 应用程序在 AppStore 中是否可用或不是以编程方式。所以请告诉我如何以编程方式访问和获取应用商店的信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T07:18:45.730

您可以为此目的使用[iTunes Search API](http://www.apple.com/itunes/affiliates/resources/documentation/itunes-store-web-service-search-api.html)。有许多不同的过滤器，您可以通过它们从 iOS App Store 和 Mac App Store 中找到应用程序。

> Search API 允许您在您的网站中放置搜索字段，以在 iTunes Store、App Store、iBookstore 和 Mac App Store 中搜索内容。您可以搜索各种内容；包括应用程序、电子书、电影、播客、音乐、音乐视频、有声读物和电视节目。您还可以调用基于 ID 的查找请求来创建内容库和数字目录之间的映射。条款和条件适用。
> 
> 联盟计划允许您从您的网站或应用程序发起的点击进入 iTunes Store、App Store、iBookstore 和 Mac App Store 所产生的合格收入中赚取佣金。有关联盟计划的更多信息，请参阅[http://www.apple.com/itunes/affiliates](http://www.apple.com/itunes/affiliates)。

# vb.net - 从 VB.Net 中的 app.config 获取动态更新的连接字符串

> ID：12928689
> 
> 赞同：3
> 
> 时间：2012-10-17T06:51:07.760
> 
> 标签：vb.net, app-config

我在 app.config 中有如下连接字符串

```
<add name="CONN" connectionString="SERVER=SERVER\SQLEXPRESS;DATABASE=TRIAL_LINK;uid=sa;pwd=trial"
        providerName="System.Data.SqlClient" /> 
```

我有一个名为 DBLinker 的表单，我在其中为用户提供了一个选择其他服务器和数据库的选项。例如，我将服务器名称选择为“MAILSERVER”，将数据库选择为“Actual”。我正在使用以下代码覆盖 app.config 文件。

```
Dim config As System.Configuration.Configuration = ConfigurationManager.OpenExeConfiguration(ConfigurationUserLevel.None)

Dim mySection As ConnectionStringsSection = DirectCast(config.GetSection("CONN"),ConnectionStringsSection)
Dim conStr As String = "SERVER=MAILSERVER;DATABASE=Actual;uid=sa;pwd=trial"

config.ConnectionStrings.ConnectionStrings("CONN").ConnectionString = conStr
config.Save(ConfigurationSaveMode.Full)

ConfigurationManager.RefreshSection(config.AppSettings.SectionInformation.Name) 
```

在此代码之后，我试图打开应用程序的登录表单。但是当我试图在这里访问连接字符串时，它正在获取以前的字符串而不是更新的字符串。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T07:14:57.870

[如何以编程方式覆盖 web.config 设置](https://stackoverflow.com/questions/1573492/how-to-programmatically-override-web-config-settings)

看起来您无法在运行时更改 web.config 并使其在应用程序运行时生效。您可以通过将设置作为字符串的基本部分来解决此问题，然后使用用户选择来构建其余部分。您可以随时将新字符串保存在 Session、cookie 或 Db 中，以便在需要时方便使用，具体取决于您的需要。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T10:56:15.040

```
 Public Sub updateConfigFile(ByVal con As String)
        'updating config file
        Dim XmlDoc As New XmlDocument()
        'Loading the Config file
        XmlDoc.Load(AppDomain.CurrentDomain.SetupInformation.ConfigurationFile)
        For Each xElement As XmlElement In XmlDoc.DocumentElement
            If xElement.Name = "connectionStrings" Then
                'setting the coonection string
                xElement.FirstChild.Attributes(2).Value = con
            End If
        Next
        'writing the connection string in config file
        XmlDoc.Save(AppDomain.CurrentDomain.SetupInformation.ConfigurationFile)
    End Sub 
```

我用这段代码来解决这个问题。

# c# - 为什么在从被扩展类的方法中调用扩展方法时必须显式指定“this”？

> ID：12928690
> 
> 赞同：4
> 
> 时间：2012-10-17T06:51:21.510
> 
> 标签：c#, .net, this, extension-methods

```
public class StoreController : Controller
{
    public string Index()
    {
        // implicitly specified instance does not work
        //return GetMemberName();

        // must specify this explicitly
        return this.GetMemberName();
    }
}

public static class Utilities
{
    public static string GetMemberName(this Controller caller,
        [CallerMemberName] string memberName = "")
    {
        return caller.GetType().FullName + "." + memberName;
    }
} 
```

为什么在`this`扩展类的方法中调用扩展方法时必须显式指定？

在我的心智模型中，我们通常可以省略`this`例如在初始化字段时。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-17T07:02:58.603

扩展方法在技术上不是附加到您的类的方法。

`yourClass.ExtensionMethod()`不一样`yourClass.ClassMethod()`。

基本上，您正在做的是获得一种方便的方法：

```
ExtensionMethod(YourClass yourClass) {
    //do something
    return yourClass;
} 
```

这就是我对扩展方法的理解。这是针对您无法更改的类调用方法的便捷方式。所以，这就是为什么你不能在没有`this.`它的情况下调用它，它不是一个类方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-17T07:12:49.580

扩展方法只是调用静态方法的语法糖。这行代码`return this.GetMemberName();`实际上转换为对静态方法的调用，例如`Utilities.GetMemberName(this);`

如您所见，您必须发送`this`到静态方法，这就是您需要`this`关键字的原因。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-18T09:06:38.680

如果没有出席决定这一点的设计委员会会议，很难说为什么会这样。

在本文中，我在与特定对象实例关联的函数的意义上使用方法或实例方法，并在数学意义上使用函数。一个函数接收许多参数并创建一个结果（这可能是无效的）

如果我们不考虑更复杂的虚拟方法，因为要调用的实际函数是在运行时确定的，那么**任何和所有**方法调用都是语法糖。如果我们在下面定义了两种方法

```
internal static class Extensions {
  public static string FooEx(this MyClass self){
     return self.ToString();
  }
}

internal class MyClass {
  public string Bar(){
     var s1 = Foo();
     var s2 = this.FooEx();
  }

  private string Foo(){
      return ToString();
  }
} 
```

然后两者都将被转换为函数调用，其中第一个（也是唯一的）参数在**这两种**情况下都是由 标识的对象`this`。如果您对此表示怀疑，请查看为任何对实例方法的调用生成的 IL，您会注意到与代码中的声明相比，有一个额外的参数。这个参数是`this`引用，它**总是**作为第一个参数传递给实例方法。

因此，在实例方法的情况下，编译器仍然需要确定将哪个对象作为第一个参数传递给函数。如果您调用扩展方法而没有这完全一样，这**也**意味着这不是您必须在扩展方法前面`this`使用的真正原因。`this`

在[Marvin](http://fullOO.info)的编译器中，一个构建在 Mono 编译器之上的编译器我不得不做一个与 C# 对扩展方法类似的技巧，并想知道为什么规范需要在扩展方法之前`this` 编译器强制你使用的真正原因是`this`规格是这样说的。该决定背后的原因是需要像@EricLippert这样的人注意，当他们决定该要求时，他们可能在哪里

# java - 使用触发器生成 ID 与手动创建 ID

> ID：12928692
> 
> 赞同：0
> 
> 时间：2012-10-17T06:51:30.227
> 
> 标签：java, sql, oracle, hibernate

如果我们有一个序列来为表生成唯一 ID 字段，那么这两种方法中的哪一种更有效：

1.  在插入时创建一个触发器，通过从序列中获取 nextval 来填充 ID 字段。
2.  在将对象（或元组）插入数据库之前，在应用层中的序列上调用 nextval。

编辑：应用程序执行大量上传。因此，假设每次应用程序运行时要插入数千或数百万行。来自 #1 的触发器会比在 #2 中提到的在应用程序中调用序列更有效吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T07:11:13.953

如果您只关心性能，那么在 Oracle 上，使用 INSERT 语句中的序列填充 ID 通常会更快一些，而不是使用触发器，因为触发器会增加一些开销。

但是（正如 Justin Cave 所说），除非您一次插入数百万行，否则性能差异可能微不足道。测试一下看看。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-17T07:13:25.793

由于您要插入大量行，因此最有效的方法是将 包含`sequence.nextval`为 SQL 语句本身的一部分，即

```
INSERT INTO table_name( table_id, <<other columns>> )
  VALUES( sequence_name.nextval, <<bind variables>> ) 
```

或者

```
INSERT INTO table_name( table_id, <<other columns>> )
  SELECT sequence_name.nextval, <<other values>>
    FROM some_other_table 
```

如果您使用触发器，您将针对您插入的每一行强制将上下文从 SQL 引擎转移到 PL/SQL 引擎（然后再返回）。如果您单独获得 nextval，您将强制为每一行额外往返于数据库服务器。如果您执行一次或两次，这些都不会特别昂贵。但是，如果您将它们执行数百万次，则毫秒加起来就是实时的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T07:02:04.990

什么是钥匙？唯一标识记录的一个或多个字段应该是最终的，并且在申请过程中永远不会改变。

我区分了技术密钥和业务密钥。技术密钥在数据库上定义并生成（序列、uuid 等）；业务密钥由您的域模型定义。

这就是为什么我建议

*   始终在数据库上生成带有序列/触发器的技术 PK
*   切勿在您的应用程序中使用此 PK 字段（提示：标记 getId() setId() @Deprecated ）
*   定义唯一标识您的实体的业务字段并在 equals/hashcode 方法中使用这些字段

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-17T07:15:06.763

我会说如果你已经使用了休眠，那么让它控制如何使用`@SequenceGenerator`and创建 id `@GeneratedValue`。它将更加透明，并且 Hibernate 可以为自己保留 id，因此它可能比手动或从触发器更有效。

# excel - 想使用c#根据行和列在excel中获取数据

> ID：12928693
> 
> 赞同：0
> 
> 时间：2012-10-17T06:51:41.993
> 
> 标签：excel, c#-4.0, excel-2007, excel-interop

> 嗨，我想通过互联网了解我的解决方案。考虑到我的 excel 表作为数组，我想根据行和列索引获取数据，我该怎么做。我没有线索来实现这个我的 excel 表如下所示

![](../Images/f88ce00e0929327468393a60f62069c7.png)

> 请帮忙。我对尝试不同的方法感到很生气。
> 
> 我的要求是如果我在控制台中给出 R3,C2，我应该得到 4 作为我的答案。我正在使用 Excel.interop 来获得这个，你也可以通过其他方法提出解决方案。感谢你在期待。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T10:05:29.337

一种解决方案是调用 Excel 工作表函数 INDEX 和 MATCH（基本 Excel 公式为 =INDEX($B$2:$D$4,MATCH("R3",$A$2:$A$4,0),MATCH(" C2",$B$1:$D$1,0))

或者您可以将数据检索到对象数组中，在第一行查找 C2，在第一列查找 R3。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T17:28:36.047

```
using System;
using Excel=Microsoft.Office.Interop.Excel;

namespace ReadingExcelBasedOnRowColumn
{

    class Program
    {
        static void Main(string[] args)
        {
            Excel.Application xlApp = new Excel.Application();
            Excel.Workbook xlWorkbook = xlApp.Workbooks.Open(@"C:\Users\SaiKiran\Desktop\MyExcl2.xlsx");
            Excel._Worksheet xlWorksheet = xlWorkbook.Sheets[1];
            Excel.Range xlRange = xlWorksheet.UsedRange;
            Console.WriteLine("enter x and y value:");
            int x = Convert.ToInt32(Console.ReadLine());
            int y = Convert.ToInt32(Console.ReadLine());
            if (xlRange != null)
            {
                int nRows = xlRange.Rows.Count;
                int nCols = xlRange.Columns.Count;
                for (int iRow = 1; iRow <= nRows; iRow++)
                {

                    for (int iCount = 1; iCount <= nCols; iCount++)
                    {   

                        xlRange = (Microsoft.Office.Interop.Excel.Range)xlWorksheet.Cells[x, y];
                        Console.WriteLine(xlRange.Text);
                        Console.ReadLine();
                    }
                }

            }

        }
    }
} 
```

我得到了答案..经过两天的挣扎

# c# - 如何使用 GROUP BY 从 ADO.NET 数据表中获取一列数据？

> ID：12928697
> 
> 赞同：1
> 
> 时间：2012-10-17T06:52:02.587
> 
> 标签：c#

我有一个如下的数据表

```
ID  ITEM_Code  
1   1001  
2   1002  
3   1003  
4   1002  
5   1003  
6   1004  
7   1005  
8   1006  
9   1007  
10  1006 
```

现在我想得到`ITEM_CODE`它只存在一次。从数据库中，我可以使用 group by 获取数据，如下所示

```
SELECT ITEM_Code 
FROM ITEM_TABLE 
GROUP BY ITEM_Code  
HAVING COUNT(ITEM_Code) = 1 
```

结果：

```
ITEM_CODE  
1001  
1004  
1005  
1007 
```

我`ITEM_TABLE`在 ADO.NET 数据表中有数据

我想`ITEM_CODE`从 ADO.NET 中获取仅存在一次的`Datatable`变量。

我怎样才能以最佳方式做到这一点？

# java - 线程局部区域 (TLA) 和线程堆栈大小 (Xss) 有什么区别？

> ID：12928699
> 
> 赞同：5
> 
> 时间：2012-10-17T06:52:17.680
> 
> 标签：java, multithreading, gcc, parameters

正如我读到的：

[http://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/geninfo/diagnos/tune_app_thruput.html#wp998772](http://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/geninfo/diagnos/tune_app_thruput.html#wp998772)

TLA 是：*线程局部区域 (TLA) 是用于对象分配的空闲内存块。TLA 从堆中保留并按需提供给 Java 线程，以便 Java 线程可以分配对象，而不必为每个对象分配与其他 Java 线程同步。*

我认为线程堆栈区域用于此目的（并且还保留了卡住的调用）。

究竟有什么区别？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-17T06:58:28.697

正如定义所说，**线程局部区域**是堆的一部分，每个线程都可以在其中分配对象。所有线程访问同一个堆：线程 1 可以访问线程 2 创建的对象，反之亦然；**TLA**只为对象分配分离堆：每个线程只能在该区域分配对象，但可以访问堆中的任何对象。

线程栈是栈的一部分；每个线程都有自己的堆栈，**线程堆栈大小**提到堆栈的大小。一个线程不能访问其他线程的堆栈。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-17T06:54:29.043

TLA 是堆的一部分。堆栈不在堆上。

如果您不了解堆栈和堆之间的区别，请参阅[另一个问题。](https://stackoverflow.com/questions/79923/what-and-where-are-the-stack-and-heap)

# php - 通过 ftp 在配置/测试 IP 上更新文件

> ID：12928700
> 
> 赞同：0
> 
> 时间：2012-10-17T06:52:20.740
> 
> 标签：php, ftp, sftp

我正在将文件从一台服务器移动到另一台服务器。我们的新托管公司为我们提供了每个域/子域的临时 IP（我用 + 转储的 dns 修改了我的主机文件）。此外，他们还为这些用于 ftp/ssh 的“假”IP 提供了用户名/密码。虽然，当我尝试通过 IP 连接到这些服务器时，出现连接错误，从“找不到主机”到“用户名/密码不正确”。我尝试过 WinSCP、FileZilla 和 Dreamweaver。有什么我想念的吗？我要'厚'问我的托管公司（称之为自我）出了什么问题。

问题：如果我获得了域的临时 IP/用户名/密码，是否还有其他要求才能连接到域以修改文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T06:55:32.833

嗯..继承人你的选择。

1.  您公司/房屋中的防火墙阻止了 sftp（端口 22）
2.  他们的意思是 FTP 而不是 sftp
3.  你能ping通IP吗（也取决于防火墙）

对于您使用的用户名/密码被拒绝的时间，因为至少可以联系，或者错误具有误导性..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-18T14:34:49.580

答：提供我 IP 的公司没有将我的 IP 添加到他们的防火墙中，所以我不被允许访问。

# apache - 适合初学者的好 apache http 服务器教程

> ID：12928703
> 
> 赞同：26
> 
> 时间：2012-10-17T06:52:34.250
> 
> 标签：apache, http

我刚刚在我的系统上安装了 apache 服务器。现在对apache的了解非常有限。我打算用它来**编写脚本，这些脚本可以从****给定的 url** “获取”给定的数据，并在**处理**后将其“发布”到**不同的 url**。

我只是想知道是否有任何特定的书籍或教程可以让我了解一些关于 apache 的知识并让我能够编写脚本来完成我的预期任务。

PS：我用谷歌搜索了它，但没有找到任何真正好的来源。我不想从最终对我毫无用处的事情开始

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-10-17T11:44:13.350

[apache 配置](http://httpd.apache.org/docs/2.4/)包含一个用户指南部分，它可以为您提供一些非常有价值的起点（在文档 url 上检查您的 apache 版本）；如果您需要更多详细信息，这不仅仅是一个配置选项列表，而是带有指向文档其他部分的链接的真实指南。

我将从：

*   [配置文件](http://httpd.apache.org/docs/2.4/configuring.html)
*   [配置部分](http://httpd.apache.org/docs/2.4/sections.html)
*   [URL 和文件系统映射](http://httpd.apache.org/docs/2.4/urlmapping.html)
*   [虚拟](http://httpd.apache.org/docs/2.4/vhosts/)主机，尤其是基于名称的虚拟主机

然后你可以看看这 3 个主题：

*   [mod_rewrite](http://httpd.apache.org/docs/2.4/rewrite/)，但从[什么时候开始不使用 mod rewrite](http://httpd.apache.org/docs/2.4/rewrite/avoid.html)来获得一个很好的替代更简单解决方案的列表
*   [安全](http://httpd.apache.org/docs/2.4/misc/security_tips.html)
*   [优化](http://httpd.apache.org/docs/2.4/misc/perf-tuning.html)

还有我自己的建议，不要相信网上的 .htaccess 和 mod_rewrite 技巧（但在 Stack Overflow 上你可以）。它们中的大多数是由从未阅读过文档的人编写的，并且这些技巧中的大多数都是偶然的。

# algorithm - 跟踪某些偏好的用户的“推荐项目”算法

> ID：12928705
> 
> 赞同：0
> 
> 时间：2012-10-17T06:52:36.730
> 
> 标签：algorithm, customization, tracking, preferences, personalization

是否有任何众所周知的算法来确定网站经常使用的“推荐项目”？在一个新项目中，我目前正在跟踪他们查看、购买、搜索、收藏等的内容。我很好奇利用所有这些信息智能地给出有意义的建议的最佳方式是什么。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-17T07:09:47.440

推荐你两本书：

1.  **编程集体智能**

    托比·塞加兰 (ISBN: 978-0-596-52932-1)
    [http://shop.oreilly.com/product/9780596529321.do](http://shop.oreilly.com/product/9780596529321.do)

    　在本书中，“第 2 章。提出建议”涵盖：

    *   协同过滤
    *   收集偏好
    *   寻找相似用户
    *   推荐项目等。

2.  **集体智慧在行动**

    Satnam Alag (ISBN: 1933988312)
    [http://www.manning.com/alag/](http://www.manning.com/alag/)

    在本书中，“第 12 章。构建推荐引擎”涵盖：

    *   推荐引擎基础
    *   基于内容的分析
    *   协同过滤

我希望它对你有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T07:01:33.767

我认为这`easyrec`将是您跟踪此类用户交互的一个很好的起点。您只需在您的页面中包含一些 javascript 代码，剩下的就交给它了。

[http://easyrec.org/recommendation-engine](http://easyrec.org/recommendation-engine)

您还可以查看此处列出的其他推荐引擎 [https://stackoverflow.com/questions/4469281/recommendation-engine#](https://stackoverflow.com/questions/4469281/recommendation-engine#) 但问题是这些框架中的大多数针对用户评分预测而不是协同过滤。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-17T07:03:54.530

1.  有诸如“购买此商品的人也购买了”之类的机制。
2.  类别顶部：如果有人正在查看“计算机/存储设备”，则显示该类别中最畅销的产品。
3.  以前的搜索：使用用户在以前的会话中浏览过的（非攻击性的）项目。（有一种方法可以通过 cookie 跟踪未登录用户）
4.  促销项目：展示促销项目，使大企业受益。但是，不要因此而动摇，展示一两个促销项目以保持观众的兴趣。

有推荐引擎，但作为开发人员的业务需求推动了推荐的创建。所以，很多时候我发现最好破解一些 SQL 脚本来获取它们。

# android - Android java.lang.IllegalStateException：无法初始化光标窗口

> ID：12928708
> 
> 赞同：2
> 
> 时间：2012-10-17T06:52:49.303
> 
> 标签：android, database, cursor, android-sqlite, illegalstateexception

我在 google play 崩溃报告中有这个错误，不知道如何修复它：

```
java.lang.IllegalStateException: Couldn't init cursor window
at android.database.CursorWindow.native_init(Native Method)
at android.database.CursorWindow.<init>(CursorWindow.java:41)
at android.database.sqlite.SQLiteCursor.fillWindow(SQLiteCursor.java:276)
at android.database.sqlite.SQLiteCursor.getCount(SQLiteCursor.java:268)
at android.database.AbstractCursor.moveToPosition(AbstractCursor.java:171)
at android.database.AbstractCursor.moveToFirst(AbstractCursor.java:248)
at com.jim2.UpdateService.restaureNotifications(UpdateService.java:274)
at com.jim2.helpers.Globals.updateWidgets(Globals.java:1011)
at com.jim2.helpers.Globals.onReceive(Globals.java:746)
at com.jim2.UpdateService$5.onSignalStrengthsChanged(UpdateService.java:747)
at android.telephony.PhoneStateListener$2.handleMessage(PhoneStateListener.java:387)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:130)
at android.app.ActivityThread.main(ActivityThread.java:3693)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:507)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:907)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:665)
at dalvik.system.NativeStart.main(Native Method) 
```

这是我崩溃的代码：

```
 DataBaseHelper d = new DataBaseHelper(context);
    Cursor c = d.getNotifications(false);
    SharedPreferences preferences;
    String ns = Context.NOTIFICATION_SERVICE;

    NotificationManager mNotificationManager = (NotificationManager)context.getSystemService(ns);

    CharSequence tickerText = "";

    if(c!=null && c.moveToFirst()){ // CRASH HERE :(

        do{
                       ....
       while(c.moveToNext());
       if(c!=null && !c.isClosed()) {
                c.close();c = null;
       }
    }
    d.close(); 
```

这是从 getNotifications 获取光标的代码：

```
public Cursor getNotifications(boolean all) {
        //removeAllNotifications();
        Cursor c;
        String fields[] = new String[] { "id", "ordre", "is_active"};
        String where = "is_active = 1";
        if(all)where = "";
        c = myDataBase.query(TABLE, fields, where, null, null, null, "ordre");

        return c;
    } 
```

我的问题是我无法重现崩溃，因此很难修复我的设备上的原因都可以正常工作。

已经看到这篇文章[Android: Couldn't init Cursor Window](https://stackoverflow.com/questions/9862696/android-couldnt-init-cursor-window)但我它在 moveToFirst 上崩溃了，我已经在答案中添加了代码。

非常感谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-18T10:53:11.517

此异常由本机代码引发。（参考[这个](https://github.com/android/platform_frameworks_base/blob/3f2821425f1ab6eddb76a8725e3f2c3edb5d8b07/core/jni/android_database_CursorWindow.cpp)）

主要是由于未能为正在创建的新游标分配内存。所以我的猜测是，您获取的数据有时会太多（内存中几乎超过 1M），或者您在没有关闭它们的情况下打开了大量游标，直到您用完内存来分配新的缓冲区。

1.  仔细检查您的代码并确保您关闭`finally`子句中的所有游标。
2.  如果从数据库中获取的数据可能太大，请将它们放在单独的块中（例如拉取数据列表中的更多数据）。

让我知道这是否有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T07:07:16.980

不确定，但不应该

```
 c = myDataBase.query(TABLE, fields, where, null, null, null, "ordre DESC") 
```

# sql - 来自@Parameter 的值

> ID：12928714
> 
> 赞同：0
> 
> 时间：2012-10-17T06:53:04.597
> 
> 标签：sql, parameters, casting

我正在尝试这样做

```
SELECT     CAST(date AS datetime) + CAST(time AS datetime) AS NewDT, variable, value
FROM         batch
WHERE     (NewDT <= @BatchStartDate) 
```

但我收到错误“无效的列名 NewDT”问题是日期和时间在数据库的两个列中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T06:59:50.427

猜测您正在使用 MS SQL Server。您不能在`WHERE`子句上引用别名，您应该使用完整的别名`CAST(date AS datetime) + CAST(time AS datetime)`：

```
SELECT CAST(date AS datetime) + CAST(time AS datetime) AS NewDT, variable, value
  FROM batch
 WHERE (CAST(date AS datetime) + CAST(time AS datetime) <= @BatchStartDate) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T07:04:03.147

（也猜你用的是SQL Server）

您不能在 where 子句中使用别名，因此您可以使用整个表达式（如 Yaroslav 的答案），或者您可以将原始选择包装为子查询，如下所示：

```
select * from 
(
   SELECT CAST(date AS datetime) + CAST(time AS datetime) AS NewDT, variable, value
   FROM batch
)
WHERE NewDT <= @BatchStartDate 
```

# user-interface - 什么是 Twitter Bootstrap UI？

> ID：12928716
> 
> 赞同：6
> 
> 时间：2012-10-17T06:53:14.623
> 
> 标签：user-interface, twitter-bootstrap, development-environment, user-experience

我最近遇到了这个术语，我想知道是否有人可以启发这个概念以及它如何适合应用程序开发？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-17T06:58:20.337

# 推特引导

你可能指的是`Twitter Bootstrap`. 不要与 normal 混淆`bootstrap`，这是另一回事。

Twitter bootstrap 是一个小型（前端）css/js“框架”，您可以使用它构建流畅的网页。所以这仅适用于网页设计。

这意味着当您调整浏览器的大小时，所有元素也会调整大小，因此它甚至可以在移动设备上很好地显示所有内容。

有关示例和更多信息，请查看他们的 github 页面：http: [//twitter.github.com/bootstrap/](http://twitter.github.com/bootstrap/)

# 什么是自举？（引导）

Bootstrap（或引导程序）是不同的。引导程序是机器（或应用程序）首次启动时运行的一段代码。引导文件包含各种标准配置来配置自身。

整个引导故事背后实际上有更多细节，因此有关更多信息，请阅读维基百科文章：

[http://en.wikipedia.org/wiki/Bootstrap](http://en.wikipedia.org/wiki/Bootstrap)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-08T17:37:39.823

## 引导程序（又名 Twitter 引导程序）

*   它是一个***强大的前端（CSS，JS）框架***，用于更快、更轻松的 Web 开发。

*   它包含用于排版、表单、按钮、导航和其他界面组件***的基于 HTML 和 CSS 的设计模板***，以及可选的***JavaScript 扩展***。

*   它与从移动到桌面平台***的所有浏览器兼容。***

*   从 2.0 版开始，它还支持***响应式设计***。这意味着***网页的布局会动态调整***，同时考虑到所使用设备（PC、平板电脑、手机）的特性。

它的***开源***并托管在[GitHub 上](https://github.com/twbs/bootstrap)

了解[更多](http://getbootstrap.com/getting-started/)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2015-04-09T11:59:38.887

实际上，给出先前答案的人自己并不了解该术语，并错误地向您提供了*“更流行”的*东西。

**Bootstrap UI**也称为***Angular UI***。这是一个 JavaScript 库，用于增强项目中使用的功能 - Bootstrap + Angular。它在分页和其他内容方面在它们之间同步。它对于主要使用 Angular 的项目很有用。

在这里查看更多详细信息：

[https://angular-ui.github.io/bootstrap/](https://angular-ui.github.io/bootstrap/)

[https://scotch.io/tutorials/how-to-correctly-use-bootstrapjs-and-angularjs-together](https://scotch.io/tutorials/how-to-correctly-use-bootstrapjs-and-angularjs-together)

谢谢哥们！

# netty - Netty 4 - EventLoopGroup - EventLoop - EventExecutor - 线程亲和性

> ID：12928723
> 
> 赞同：20
> 
> 时间：2012-10-17T06:54:03.003
> 
> 标签：netty

我正在研究 Netty 4.0.0.Alpha5 代码，以了解如何处理线程。我还在[http://netty.io/wiki/new-and-noteworthy-in-4.0.html#wiki-h2-34](http://netty.io/wiki/new-and-noteworthy-in-4.0.html#wiki-h2-34)阅读了 Netty 4 新线程模型的介绍。

据我了解，目标是：

*   线程亲和性，将 Channel 粘贴到单个线程（EventLoop）。我想这种方法是为了减少缓存未命中并改善 NUMA 硬件的情况。

所以，我想知道我的解释是否正确。如果我是对的，那么就会出现以下问题：

*   在 ChannelPipeline 中有一个可能长时间运行的 ChannelHandler（例如数据库操作）可能会阻塞 EventLoop（线程），因此会阻塞分配给同一 EventLoop（线程）的所有其他 Channel。这种解释是真的吗？
*   为了避免这个问题，我可以为长时间运行的 ChannelHandler 使用 EventExecutor，但是根据文档（参见上面的链接），Channel 再次卡在 EventExectuor 中的单个线程上，因此可能会再次阻塞分配相同的其他 Channel线程（在 EventExecutor 内）。我错过了什么还是这是真的？

我只是想了解为什么事情是这样的，并获取有关 Netty 4 设计意图的一些信息。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-18T16:27:42.660

对这两个问题都是正确的。通过将处理程序分配给非 I/O 事件组，您可以防止 I/O 线程被长时间运行的操作（例如数据库访问）阻塞。`EventExecutorGroup`您可以根据处理程序的作用指定大尺寸的。它与通常的线程池所做的并没有太大的不同。如果线程池很忙，任何执行长时间运行任务的尝试都将排队。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-01-21T10:52:39.987

您的两点对于 Netty 3 也是如此。

Netty 3 有老板和工作线程的概念。老板线程负责接受新连接，然后将其卸载到工作线程。创建`NioServerSocketChannelFactory`.

现在 Netty 4 已经分别用父事件循环和子事件循环替换了这些老板和工作线程。但核心思想保持不变：为了摆脱*每个连接的线程*模型，您必须为一个线程分配多个连接。
因此，当您创建服务器时，将有一个固定的 N 个线程池，专用于处理连接。如果连接数低于 N，则每个线程不会有超过一个连接。另一方面，如果您有超过 N 个连接，则某些线程将管理多个连接。这是以循环方式完成的，请查看[MultithreadEventExecutorGroup.next()](https://github.com/netty/netty/blob/netty-4.0.15.Final/common/src/main/java/io/netty/util/concurrent/MultithreadEventExecutorGroup.java#L102)

# jquery - JQuery Validator 插件 Chrome 日期格式

> ID：12928731
> 
> 赞同：0
> 
> 时间：2012-10-17T06:54:31.570
> 
> 标签：jquery, validation

我有一个 Datepicker 字段，格式如下：

```
$("input.date").datepicker({
    dateFormat : 'dd/mm/yy',
    onSelect : function() {
    $(this).keyup();
    }
}); 
```

我使用 JQuery 验证器 1.9，在 Mozilla 中一切正常。但是，在 Chrome 22.0.1229.94 m 中，当我选择一个日期超出`12`（最大月份数）的日期时，它会抛出一个无效的日期。

例如： **11/09/2012**工作正常，但 **26/10/2012**抛出无效日期。在我的情况下，Chrome 似乎不理解 dd/mm/yyyy 格式，我该如何解决？

# c++ - 使用枚举成员值检查变量值的优化方法

> ID：12928733
> 
> 赞同：5
> 
> 时间：2012-10-17T06:54:41.913
> 
> 标签：c++, c, enums

您好，我有以下代码：

```
enum {a, b, c, d, ..., z} abc;

int main()
{
  int val = 20;
  if (val == a || val == b ||val == c||val == d..... || val == z)
  {
    /*Do something*/
  }
} 
```

有没有其他方法可以让我们跳过该`OR`操作，因为如果有 1000 个枚举成员，那么我们如何提前检查所有成员。请帮忙。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-17T07:56:24.967

如果在您的情况下，如果表达式的值在编译时已知，则现代编译器应该能够优化此类代码。对于可读性和错误检查，我认为使用 a`switch`会更好：

```
switch (val)  {
 case a:;
 case b:;
 ....
 // your code goes here
} 
```

如前所述，性能方面应该没有太大差异，如果合适的话，编译器会将其转换为表查找（或其他聪明的东西），或者如果`val`在编译时已知，则完全优化它。

但是您可以在此处获得错误检查编译器的优势。如果您没有`default`案例，大多数编译器会在您省略枚举常量之一时警告您。另外我认为这更清楚，因为它不会重复`val`所有地方的评估。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T20:34:13.397

其他（更快）解决方案如下

```
bool isInenum (int val)
{
    bool retVal = false
        switch(val)

    {
        case a:
        case b:
        case c:
        case d:
            {
                retVal = true;
            }

    }
    return retVal;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T06:57:43.890

由于枚举器的值是按顺序分配的，因此使用这样的 if 语句就足够了：

如果（val<=z）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-17T07:34:36.777

您可以在 C++ 中使用地图。使用地图，您可以编写紧凑的测试，而无需大量`==`和`||`.

但是您首先需要初始化一个地图，我不确定您是否可以以紧凑的方式为任意枚举执行此初始化。

```
#include <iostream>
#include <map>

using namespace std;

enum abc { a = 1, b = -1, c = 3, d = 0 };

int main()
{
  map<int, int> m;
  m[a] = m[b] = m[c] = m[d] = 1;
  cout << "b is " << ((m.find(b) == m.end()) ? "NOT " : "") << "in m" << endl;
  cout << "3 is " << ((m.find(3) == m.end()) ? "NOT " : "") << "in m" << endl;
  cout << "10 is " << ((m.find(10) == m.end()) ? "NOT " : "") << "in m" << endl;
  return 0;
} 
```

输出（[ideone](http://ideone.com/tihqq)）：

```
b is in m
3 is in m
10 is NOT in m 
```

# mysql - 更新整数列中的特定位

> ID：12928736
> 
> 赞同：25
> 
> 时间：2012-10-17T06:54:49.433
> 
> 标签：mysql, bitmask

我有一个 mysql 表，其中用户权限存储为位掩码：

```
|user   | permissions |
| Admin | 31          |
| User  | 13          |

           16 8  4  2  1
Admin ->   1  1  1  1  1  -> 16 + 8 + 4 + 2 + 1 -> 31
User  ->   0  1  1  0  1  ->  8 + 4 + 1 -> 13 
```

现在我想使用 sql 查询为每个用户添加一个权限。假设我想为每个人添加权限 16 而不修改其他位。

```
 UPDATE users SET permission = ???? 
```

我该怎么做呢？

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2012-10-17T07:06:47.867

要添加权限 16，您只需说

```
UPDATE users SET permission = permission | 16; 
```

按位或运算符将打开位。要关闭它们，请使用 AND 操作与您想要关闭的位的补码：

```
UPDATE users SET permission = permission & ~16 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-17T07:05:37.213

您应该查看[MySQL 的 SET](http://dev.mysql.com/doc/refman/5.0/en/set.html)。它可能会让你的生活更轻松。您可以创建一个集合并让 MySQL 为您执行二进制逻辑，而不是这种时髦的二进制逻辑。这将限制可能的程序员错误、调试问题的数量，并使您的代码更具可读性。

但是，如果您对使用整数一无所知，请查看[Bit Functions](http://dev.mysql.com/doc/refman/5.0/en/bit-functions.html)。例如，查看是否设置了权限 16：

```
SELECT permission<<4 & 1 FROM users 
```

如果你想添加权限：

```
UPDATE users SET permission = permission | 16 
```

# java - 我们如何在 SWT 中自动调整组件的大小？

> ID：12928741
> 
> 赞同：11
> 
> 时间：2012-10-17T06:55:02.053
> 
> 标签：java, layout, resize, swt

在我的 SWT 应用程序中，我在 SWT shell 中有某些组件。

现在我如何根据显示窗口的大小自动重新调整这些组件的大小。

```
Display display = new Display();

Shell shell = new Shell(display);
Group outerGroup,lowerGroup;
Text text;

public test1() {
    GridLayout gridLayout = new GridLayout();
    gridLayout.numColumns=1;
    shell.setLayout(gridLayout);

    outerGroup = new Group(shell, SWT.NONE);

    GridData data = new GridData(1000,400);
    data.verticalSpan = 2;
    outerGroup.setLayoutData(data);    

    gridLayout = new GridLayout();

    gridLayout.numColumns=2;
    gridLayout.makeColumnsEqualWidth=true;
    outerGroup.setLayout(gridLayout);

    ...
} 
```

即当我减小窗口的大小时，它里面的组件应该按照那个出现。

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-10-17T08:04:22.303

这听起来很可疑，就像您没有使用布局一样。

布局的整个概念使担心调整大小变得不必要。布局将处理其所有组件的大小。

**我建议阅读[有关布局的 Eclipse 文章](http://www.eclipse.org/articles/article.php?file=Article-Understanding-Layouts/index.html)**

您的代码很容易被纠正。不要设置单个组件的大小，布局将决定它们的大小。如果您希望窗口具有预定义的大小，请设置外壳的大小：

```
public static void main(String[] args) {
    Display display = new Display();
    Shell shell = new Shell(display);
    shell.setLayout(new GridLayout(1, false));

    Group outerGroup = new Group(shell, SWT.NONE);

    // Tell the group to stretch in all directions
    outerGroup.setLayoutData(new GridData(SWT.FILL, SWT.FILL, true, true));
    outerGroup.setLayout(new GridLayout(2, true));
    outerGroup.setText("Group");

    Button left = new Button(outerGroup, SWT.PUSH);
    left.setText("Left");

    // Tell the button to stretch in all directions
    left.setLayoutData(new GridData(SWT.FILL, SWT.FILL, true, true));

    Button right = new Button(outerGroup, SWT.PUSH);
    right.setText("Right");

    // Tell the button to stretch in all directions
    right.setLayoutData(new GridData(SWT.FILL, SWT.FILL, true, true));

    shell.setSize(1000,400);
    shell.open();

    while (!shell.isDisposed()) {
        if (!display.readAndDispatch())
            display.sleep();
    }
    display.dispose();
} 
```

调整大小之前：

![调整大小之前](../Images/89a353bbdf5dfc7232c491188546850a.png)

调整大小后：

![调整大小后](../Images/24a5a418cb42cec90db1b203bddf9ac1.png)

# asp.net-mvc - 如何在asp.net mvc的客户端Kendo UI网格中实现服务器端分页

> ID：12928744
> 
> 赞同：30
> 
> 时间：2012-10-17T06:55:20.733
> 
> 标签：asp.net-mvc, kendo-ui

谁能告诉我如何使用客户端 Kendo UI Grid 实现服务器端分页？

* * *

## 回答 #1

> 赞同：63
> 
> 时间：2012-10-17T07:29:56.527

> 更新：我们[发布](http://blogs.telerik.com/kendoui/posts/14-01-02/kendo-ui-open-sources-dynamic-linq-helpers)了一个开源 .NET 库，它使分页、排序和过滤变得更加容易。

一旦您设置为，网格将发送电流`pageSize`和。在服务器端，您应该使用提供的信息对数据进行分页，并将其与项目总数一起返回。这是一个代码片段：`skip``serverPaging``true`

### 行动

```
public ActionResult Products(int pageSize, int skip) 
{
     using (var northwind = new NorthwindDataContext())
     {
        var products = northwind.Products;
        // Get the total number of records - needed for paging
        var total = products.Count();

        // Page the data
        var data = products.Skip(skip).Take(pageSize).ToList();

        // Return as JSON - the Kendo Grid will use the response
        return Json(new { total = total, data = data });
     }
} 
```

### 看法

```
$("#grid").kendoGrid({
    dataSource: {
        transport: {
            read: {
               url: "home/products",
               dataType: "json",
               type: "POST"
            }
        },
        schema: {
            data: "data", // records are returned in the "data" field of the response
            total: "total" // total number of records is in the "total" field of the response
        },
        serverPaging: true // enable server paging
    }
}); 
```

## 参考

### 使用 LINQ 进行分页

*   [Take() 和 Skip()](http://beyondrelational.com/modules/1/justlearned/0/tips/9313/take-and-skip-methods-makes-paging-simplified-in-linq.aspx)

### 数据源配置设置

*   [服务器分页](http://docs.telerik.com/kendo-ui/api/framework/datasource#configuration-serverPaging)
*   [架构.数据](http://docs.telerik.com/kendo-ui/api/javascript/data/datasource#configuration-schema.data)
*   [架构总数](http://docs.telerik.com/kendo-ui/api/javascript/data/datasource#configuration-schema.total)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2019-01-24T16:48:07.927

接受的答案没有 UI 解决方案；只提供一个 jQuery 答案。如果它对其他人有帮助，这里是适用于我们在 UI 中的剑道网格的解决方案：

控制器的代码片段

```
 DataSourceResult result = new DataSourceResult()
        {
            Data = dataSet,
            Total = recordCount
        };

        return Json(result, JsonRequestBehavior.AllowGet); 
```

查看代码片段

```
 .DataSource(dataSource => dataSource                
            .Ajax()
            .Read(read => read.Action("*<our method>*", "*<our controller>*")
        ) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-04-26T16:19:00.600

要实现服务器分页，应该从服务器返回正确的格式。对于服务器端分页 JSON 格式将类似于以下 JSON：-

```
{ "mytotal":1069, "mydata": [{ ProductID : 1, ProductName : "Chai"}, { ProductID : 2, ProductName : "Chang" }]} 
```

告诉剑道网格从 mytotal 对象中选择记录总数，并从模式中的 mydata 中选择数据行

```
schema: {
    data: "mydata"
    total: "mytotal" // total is returned in the "total" field of the response
  } 
```

[在此处](http://www.letmeknows.com/2017/04/24/implement-serverpagination-in-kendo-grid-jquery-required-json-string/)查看详细示例

# internet-explorer-10 - IE 10 Beta - window.showModalDialog 在打开包含框架集的窗口时忽略 dialogHeight 和 dialogWidth

> ID：12928745
> 
> 赞同：2
> 
> 时间：2012-10-17T06:55:23.227
> 
> 标签：internet-explorer-10

注意：问题仅出现在 IE 10 Beta 版本中

场景：a.html有showModalDialog打开b.html： `window.showModalDialog(b.html, self, 'dialogHeight=800px;dialogWidth=900px');`

b.html 中有框架集： `<%@ Page Language="vb" AutoEventWireup="false" Codebehind="somefile.aspx.vb"> <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN"> <HTML> <HEAD> Some Title </TITLE> </HEAD> <frameset rows="40px,*" border="0" frameSpacing="0" frameBorder="0"> <frame src="myfile.aspx" noresize height="100%" width="100%" scrolling="no"> </frameset> </HTML>`

问题：当我尝试使用 a.html 中的 window.showModalDialog 打开 b.html 时，虽然我提供了 dialogHeight 和 dialogWidth，但弹出窗口出现在一个小窗口中。这只发生在 IE10 上。我正在使用测试版。请帮忙。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-03T16:22:35.190

我已经能够通过在 frameest 页面中指定[文档兼容模式来解决此问题：](http://msdn.microsoft.com/en-us/library/jj676915%28v=vs.85%29.aspx)

```
<meta http-equiv="x-ua-compatible" content="IE=7" > 
```

# installation - 从脚本运行 Installjammer 设置

> ID：12928747
> 
> 赞同：2
> 
> 时间：2012-10-17T06:55:24.097
> 
> 标签：installation

我的 InstallJammer 设置创建被卡住了。让我解释一下我需要什么。我已经使用 InstallJammer 创建了一个模板项目设置。我希望为我的团队创建的所有项目使用相同的模板。实际上我需要的是从一个脚本运行 Installjammer 设置，我可以在其中提供应用程序 name.exe、所有相关文件的公共路径，包括帮助、自述文件、许可证、jar(exe) 和图标。通过虚拟文本或一些脚本。我怎样才能做到这一点？

我应该从哪里开始？我已经参考了 InstallJammer 用户指南，但仍然不知道这样的事情。请尽快提供帮助。

在此先感谢 Stack Overflow 团队。

# javafx-2 - 按下按钮时更改场景 Fxml

> ID：12928751
> 
> 赞同：2
> 
> 时间：2012-10-17T06:55:39.080
> 
> 标签：javafx-2, fxml

我有 2 个 fxml 文件 mainFxml.fxml 和 second.fxml。主 fxml 有一个带有 fx:id="change" 的按钮。单击更改按钮时，我想更改场景。mainFxml控制器代码

```
public void onChangeButtonAction(event e){
  Node node=(Node) event.getSource();
  Stage stage=(Stage) node.getScene().getWindow();
  Parent root = FXMLLoader.load(getClass().getResource("second.fxml"));/* Exception */
  Scene scene = new Scene(root);
  stage.setScene(scene);
  stage.show();

} 
```

但是当我按下按钮更改时，它会抛出异常，因为没有指定资源。帮我..

堆栈跟踪

```
No resources specified.
file:/E:/Projects/javaFx/demo/dist/demo.jar!/demo/sucess.fxml:14
  at javafx.fxml.FXMLLoader$Element.processPropertyAttribute(FXMLLoader.java:305)
  at javafx.fxml.FXMLLoader$Element.processInstancePropertyAttributes(FXMLLoader.java:197)
  at javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:588)
  at javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2430)
  at javafx.fxml.FXMLLoader.load(FXMLLoader.java:2136)
  at javafx.fxml.FXMLLoader.load(FXMLLoader.java:2028)
  at javafx.fxml.FXMLLoader.load(FXMLLoader.java:2742)
  at javafx.fxml.FXMLLoader.load(FXMLLoader.java:2721)
  at javafx.fxml.FXMLLoader.load(FXMLLoader.java:2707)
  at javafx.fxml.FXMLLoader.load(FXMLLoader.java:2694)
  at javafx.fxml.FXMLLoader.load(FXMLLoader.java:2683)
  at demo.myFirstFxmlController.onSuccess(myFirstFxmlController.java:130)
  at demo.myFirstFxmlController.OnSubmitAction(myFirstFxmlController.java:53) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T10:58:17.880

它在类路径上，所以它应该是资源应该以正斜杠开头，即 /second.fxml

那是假设它不在包装中。确保您的构建系统也将其与您的类文件一起复制到输出目录。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T21:37:09.597

“啊，那你需要/demo/second.fxml作为资源路径。话说，我很困惑为什么错误消息说的是sucess.fxml而不是second.fxml。如果上面的建议不起作用，你可以发布fxml ?——安迪·蒂尔”

Andy Till 的这条评论就是这个问题的答案。谢谢安迪。你解决了我的问题:) 竖起大拇指！！！

包括包名称。例如：

> /package_name/fxml_file_name.fxml

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T07:18:26.297

很可能您的文件与的控制器 java 文件`second.fxml`不在同一个文件夹中。`mainFxml.fxml`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-09-10T20:52:15.093

导入 java.io.IOException；

我通过使用 try/catch 块包围负载（getClass ...）或仅导入 java.io.IOException 来使其工作。

享受 ：）

# validation - 验证动态创建的表单（AngularJS）

> ID：12928752
> 
> 赞同：1
> 
> 时间：2012-10-17T06:55:41.007
> 
> 标签：validation, angularjs

我尝试使用验证制作嵌套表单。一切正常，但是当我删除其中一个嵌套表单时，验证继续使用已删除的表单。我做了jsfiddle示例[http://jsfiddle.net/sokolov_stas/VAyXu/](http://jsfiddle.net/sokolov_stas/VAyXu/)

示例运行时，表单有效。如果单击“+”按钮，将添加嵌套表单，valid 为 false。然后点击“-”按钮，valid 还是 false。

问题是：如何从验证处理中删除动态创建的表单。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T18:47:59.887

好吧，一方面， a 的[`<form>`内部`<form>`是无效的 HTML](https://stackoverflow.com/questions/555928/is-it-valid-to-have-a-html-form-inside-another-html-form)。

其次，您不应该从控制器内部进行 DOM 操作。控制器用于“业务”逻辑。[请参阅此处的控制器部分](http://docs.angularjs.org/guide/concepts)

对于您正在做的事情，您可能最好使用一种形式，其中包含 ng-repeat，并向数组添加其他元素：

```
<form name="myForm" ng-controller="FormCtrl" ng-submit="doSomething()">
   <div ng-repeat="item in items">
      <input ng-model="item" type="text" required/>
   </div>
   <a ng-click="addItem()">+</a>
   <a ng-click="removeItem()">-</a>
   <button type="submit">Submit</button>
   <div>Form valid: {{myForm.$valid}}</div>
</form> 
```

和控制器：

```
function FormCtrl($scope) {
   $scope.items = [];
   $scope.addItem = function() { 
       $scope.items.push(null);
   };
   $scope.removeItem = function() {
       $scope.items.pop();
   };
   $scope.doSomething = function () {
       //your submission stuff goes here.
   };
} 
```

# joomla - 如何在 joomla 2.5 中以 pdf 格式下载文章内容？

> ID：12928755
> 
> 赞同：-2
> 
> 时间：2012-10-17T06:55:53.813
> 
> 标签：joomla

除了 Phoca PDF 是否有任何扩展名。我想通过提供将内容保存为 pdf 文件的任何链接来下载文章内容。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-20T11:13:42.607

您可以下载[phocapdf ，也可以按照](http://www.phoca.cz/phocapdf)[此处](http://docs.joomla.org/Creating_PDF_views)的建议为此创建视图

# java - 使用 Maven 预填充 MongoDB 数据库

> ID：12928756
> 
> 赞同：2
> 
> 时间：2012-10-17T06:56:00.780
> 
> 标签：java, mongodb, maven

我想在 Maven Java 项目中使用一些数据预先填充 MongoDB 数据库以用于集成测试。我可以通过手动（）在 mongo shell 中执行脚本来轻松实现这一点`./mongo server:port/database --quiet my_script.js`，但是如何使用 Maven 来做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-17T08:50:08.190

MongoDB 数据库是否在运行测试之前运行？或者您是否将服务器作为测试的一部分启动？

无论哪种情况，我认为都可以使用 dbunit maven 插件来加载带有 testdata 的外部文件。看看[http://mojo.codehaus.org/dbunit-maven-plugin/operation-mojo.html](http://mojo.codehaus.org/dbunit-maven-plugin/operation-mojo.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T10:17:07.323

您可以使用[Mongo Java API](http://www.mongodb.org/display/DOCS/Java+Tutorial)通过该方法将脚本运行到数据库中[`DB.doEval()`](http://api.mongodb.org/java/current/com/mongodb/DB.html#doEval%28java.lang.String,%20java.lang.Object...%29)。如果您已经有一个正在运行的数据库，那么连接和运行脚本可以作为测试设置的一部分来完成。

也就是说，对于我的一些项目，我使用 Maven 和[embedmongo](https://github.com/flapdoodle-oss/embedmongo.flapdoodle.de) Maven 插件，它允许动态创建 mongo 数据库以进行集成测试。那，结合您的脚本可能是一个替代解决方案，它不依赖于现有的 Mongo 数据库来运行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-10-21T19:23:00.307

您现在可以使用[embedmongo-maven-plugin](https://github.com/joelittlejohn/embedmongo-maven-plugin)来实现这一点。它的`mongoimport`目标是运行 mongoimport 或`mongo-scripts`评估任意 js 脚本。

# django - Django social_auth 自定义用户模型 FacebookBackend 解释

> ID：12928757
> 
> 赞同：1
> 
> 时间：2012-10-17T06:56:07.467
> 
> 标签：django, django-models, django-socialauth, django-facebook

我第一次尝试使用 social_auth (omab)，我发现没有工作示例如何存储基本的 facebook 用户数据。`gender`身份验证有效，并且用户创建没有问题，正如 social_auth 文档中所解释的那样，但我还需要存储`locale`。它们都属于基本的 facebook 用户数据，因此它们一直在 facebook 响应中。

我正在使用 Django 1.4、Python2.7 和最新的 social_auth。所以我尝试`SOCIAL_AUTH_USER_MODEL = 'myapp.UserProfile'`在 settings.py 文件中使用，而 model.py 是：

```
#!/usr/bin/python
#-*- coding: UTF-8 -*-
from django.db import models
from django.contrib.auth.models import User
from django.db.models import signals
import datetime
from datetime import timedelta
from django.db.models.signals import post_save
from social_auth.signals import pre_update
from social_auth.backends.facebook import FacebookBackend

class CustomUserManager(models.Manager):
    def create_user(self, username, email):
        return self.model._default_manager.create(username=username)

class UserProfile(models.Model):
    gender = models.CharField(max_length=150, blank=True)
    locale = models.CharField(max_length=150, blank=True)
    #social_auth requirements
    username   = models.CharField(max_length=150)
    last_login = models.DateTimeField(blank=True)
    is_active  = models.BooleanField()

    objects = CustomUserManager()

    class Meta:
        verbose_name_plural = 'Profiles'

    def __unicode__(self):
        return self.username

    def get_absolute_url(self):
        return '/profiles/%s/' % self.id

    def facebook_extra_values(sender, user,response, details, **kwargs):     
        profile = user.get_profile()
        current_user = user 
        profile, new = UserProfile.objects.get_or_create(user=current_user)

        profile.gender = response.get('gender')
        profile.locale = response.get('locale')
        profile.save()
        return True

    pre_update.connect(facebook_extra_values, sender=FacebookBackend, weak = False, dispatch_uid = 'facebook_extra_values_user') 
```

在 settings.py 我定义管道

```
SOCIAL_AUTH_PIPELINE = (
    'social_auth.backends.pipeline.social.social_auth_user',
    #'social_auth.backends.pipeline.associate.associate_by_email',
    'social_auth.backends.pipeline.user.create_user',
    'social_auth.backends.pipeline.social.associate_user',
    'social_auth.backends.pipeline.social.load_extra_data',
    'social_auth.backends.pipeline.user.update_user_details',
    'social_auth.backends.pipeline.misc.save_status_to_session',
) 
```

但上面我得到错误`AssertionError: ForeignKey(None) is invalid. First parameter to ForeignKey must be either a model, a model name, or the string 'self'`

我也尝试`AUTH_PROFILE_MODULE = 'myapp.UserProfile'`像以前一样使用扩展 user.model，它运行良好，但不明白如何在创建 UserProfile 时填充所需的数据。有没有人可以为这个问题放置工作代码？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T15:06:31.180

有几种存档方法，当然，哪种更适合您的项目取决于您，以下是可用选项列表：

1.  定义此设置`FACEBOOK_EXTRA_DATA = ('gender', 'locale')`，这些值将在`UserSocialAuth`实例中可用，以获取它们只需执行`user.social_auth.get(provider='facebook').extra_data['gender']`或`['locale']`。这是可能的，因为信息在基本用户数据响应中可用。

2.  使用用户配置文件来存储这些数据（查看[django 文档](https://docs.djangoproject.com/en/1.4/topics/auth/#storing-additional-information-about-users)）。然后只需添加一个[管道条目](http://django-social-auth.readthedocs.org/en/latest/pipeline.html)，将值存储在您的配置文件实例中。

3.  创建一个自定义用户模型，`SOCIAL_AUTH_USER_MODEL = 'myapp.CustomUser'`然后再次添加一个自定义管道条目，将值存储在您的用户实例中。

1 号并不是 IMO 的最佳解决方案，因为一个用户可以连接多个 Facebook 帐户，这可能会造成混乱。2 号适用于 Django 1.4 及更低版本，但从 Django 1.5 开始已弃用，需要考虑到这一点。3 号有点乱 IMO。

# android - 使用 ksoap2 的带有 WCF Web 服务的 Android - 错误 SoapFault - 故障代码：'a:InternalServiceFault'

> ID：12928759
> 
> 赞同：3
> 
> 时间：2012-10-17T06:56:13.603
> 
> 标签：android, .net, wcf, web-services, ksoap2

我做了一个简单的项目来使用 ksoap2 调用 wcf web 服务。但是当它调用信封.getResponse(); 它给出了错误说法

*错误：SoapFault - 故障代码：'a:InternalServiceFault' faultstring：'由于内部错误，服务器无法处理请求。有关错误的更多信息，请在服务器上打开 IncludeExceptionDetailInFaults（来自 ServiceBehaviorAttribute 或来自配置行为）以便将异常信息发送回客户端，或根据 Microsoft .NET Framework 3.0 SDK 文档打开跟踪并检查服务器跟踪日志。faultactor：'null' 详细信息：null*

```
package testing.wcf;
import java.io.IOException;
import org.ksoap2.SoapEnvelope;
import org.ksoap2.serialization.SoapObject;
import org.ksoap2.serialization.SoapPrimitive;
import org.ksoap2.serialization.SoapSerializationEnvelope;
import org.ksoap2.transport.HttpTransportSE;
import org.xmlpull.v1.XmlPullParserException;
import org.xmlpull.v1.XmlSerializer;

import android.os.Bundle;
import android.os.StrictMode;
import android.widget.TextView;
import android.annotation.SuppressLint;
import android.app.Activity;

public class MainActivity extends Activity 
{
    private static final String strNAMESPACE = "http://www.testing.co.in/TestingService/";
    private static final String strURL = "http://www.testing.co.in/TestingService/UserDetails.svc";
    private static final String strSOAP_ACTION = "http://testing.co.in/TestingService/UserDetails/LoginDetails";
    private static final String strMETHOD_NAME = "LoginDetails";
    TextView tv;
    StringBuilder sb;
    String strInputXML;

      @Override
    public void onCreate(Bundle savedInstanceState) 
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        tv = (TextView)findViewById(R.id.testing);
        sb = new StringBuilder();       
            Call();
        tv.setText(sb.toString());
        //setContentView(tv);

    }
    public void Call()
    {
         try 
         {
             SoapObject request = new SoapObject(strNAMESPACE, strMETHOD_NAME);

            String inputxml = "<?xml version="+"\""+"1.0"+"\""+" encoding="+"\""+"utf-8"+"\""+" ?>" +"<MOB> \n  <PIN>0000</PIN> \n  <LOGINID>TEST</LOGINID> \n  <PNUMBER>112233</pNUMBER> \n  <REQUESTID>LoginVal</REQUESTID> \n </MOB>";

            request.addAttribute("strInputXML", inputxml);
            request.addAttribute("strOutputXML","");

                   SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
             envelope.dotNet = true;
             envelope.setOutputSoapObject(request);

             HttpTransportSE androidHttpTransport = new HttpTransportSE(strURL);
             androidHttpTransport.call(strSOAP_ACTION, envelope);
             SoapPrimitive result = (SoapPrimitive)envelope.getResponse();

             String resultData = result.toString();
             sb.append(resultData + "\n");
         }
         catch(Exception e)
         {
             sb.append("Error:\n" + e.getMessage() + "\n");
         }       
    }
} 
```

在这里我想发送这样的请求

```
<?xml version="1.0" encoding="utf-8" ?> 
<PhoneData>
<PINNO>0000</PINNO>
<LOGINID>HELLO</LOGINID>
<PASSWORD>1234</PASSWORD>
<REQID>0</REQID>
</PhoneData> 
```

我的响应 XML 应该是

```
<?xml version="1.0" encoding="utf-8" ?> 
<PhoneData>
<OTA>1234</OTA>
</PhoneData> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-18T13:17:20.193

我发布了使用 WCF 的工作代码（WCF 的绑定必须是 basicHttpBinding！）：

```
private static final String NAMESPACE = "http://tempuri.org/";
private static String URL="your url";

private static final String SOAP_ACTION_VALIDATION = "IValidateUser_wcf/ValidateUser";
private static final String VALIDATION_METHOD = "ValidateUser";

public boolean validateUser_WCF(String username, String password){

    SoapSerializationEnvelope envelope = null;
    SoapObject request = null;
    HttpTransportSE httpTransportSE = null;

    try {
        request = new SoapObject(NAMESPACE, VALIDATION_METHOD);
        request.addProperty("username", username);
        request.addProperty("password", password);

        envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
        envelope.dotNet = true; 
        envelope.setOutputSoapObject(request);

            //////////////////////////////                               
            // here you can add a HEADER element if you want
        Element[] header = new Element[1];  

        header[0] = new Element().createElement(NAMESPACE_INFOCAD, "a1");                
        header[0].addChild(Node.TEXT, "HeaderTextContent");

        envelope.headerOut = header;
            //////////////////////////////                               

        httpTransportSE = new HttpTransportSE(URL+VALIDATION_URI, 10*10000); // second parameter is timeout
        httpTransportSE.debug = true;
        httpTransportSE.setXmlVersionTag("<?xml version=\"1.0\" encoding=\"utf-8\"?>");
        httpTransportSE.call(NAMESPACE+SOAP_ACTION_VALIDATION, envelope);

            // if response is a simple text result, you can call SoapPrimitive, if not, you have to call SoapObject result and navigate in response's tree like an xml file
        SoapPrimitive result = (SoapPrimitive)envelope.getResponse();

        //To get the data.
        String textResult = result.toString();
        Log.i("textResult", textResult); 

                    return true;

    } catch (Exception e) {
        // TODO: handle exception
        e.printStackTrace();
    }finally{
                 // here you can see in LOG what is request you send and what is response received
                Log.i(getClass().getSimpleName(),"requestDump : "+httpTransportSE.requestDump);
                Log.i(getClass().getSimpleName(),"responseDump : "+httpTransportSE.responseDump);
    }

    return false;
} 
```

希望我的代码可以帮助你:)。它工作在 100%

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-18T07:26:58.313

我认为您应该研究一下名为`FaultContract`. 如果服务抛出异常，错误消息将永远不会到达客户端。所以这就是`FaultContract`进来的地方。例如，对服务的调用将导致服务异常，客户端应该如何知道捕获的错误？

这是一个关于如何实现的示例`FaulContract`：

```
//An interface for your service
[ServiceContract()]
    public interface IMultiply
    {
        [OperationContract()]
        int Multiply(int number1, int number2);
    } 
```

您的“服务类”中的方法应该`implement`这样`interface`

```
//Service implementation

public  class DoSomeMath: IMultiply
{
   public int Multiply(int number1, int number2)
   {
     try 
     {
        int k = number1 * number2;
     } 
     catch (Exception e)
     {
       MyFaultException theFault = new MyFaultException();
       theFault.Reason = "Some Error " + e.Message.ToString();
       throw new FaultException<MyFaultException>(theFault);
     }      
     return k;     
   }
} 
```

在客户端，您现在可以捕获异常。如需进一步阅读，我建议您阅读：

[使用故障契约在 WCF 中处理异常](http://www.c-sharpcorner.com/uploadfile/ankithakur/exception-handling-in-wcf-using-fault-contract/)

我希望这将为您指明正确的方向。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-11T18:20:42.483

对于 android Emulator 使用这个 ip:10.0.2.2 否则它将无法工作！！私有最终字符串 SOAP_URL="http://10.0.2.2:15398/Service1.svc";

# php - 从句子中替换具有不同值的单词

> ID：12928765
> 
> 赞同：2
> 
> 时间：2012-10-17T06:56:37.887
> 
> 标签：php

我有这样一句话：

```
{pattern} test {pattern} how r u {pattern} 
```

如何`{pattern}`用不同的值替换，例如

```
{AAA} test {BBB} how r u {CCC} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-17T07:11:56.187

如果您希望每次都用其他东西替换相同的模式，您可以考虑使用`preg_replace_callback()`. 在每次匹配时，都会执行一个函数，并且您可以在每次调用时返回不同的字符串：

```
$s = '{pattern} test {pattern} how r u {pattern}';

// this gets called at every match    
function replace_pattern($match)
{
    // list of replacement strings $a and a looping counter $i
    static $a = array('AAA', 'BBB', 'CCC');
    static $i = 0;

    // return current replacement string and increase counter
    return $a[$i++ % count($a)];
}

echo preg_replace_callback('/{pattern}/', 'replace_pattern', $s); 
```

此解决方案循环替换字符串，因此它将替换为 AAA、BBB、CCC、AAA（再次）等。您希望采用的确切策略可能不同。

第二个参数`preg_replace_callback()`也可以是一个闭包（> = 5.3）

此外，与使用带有`static`声明的常规函数​​不同，使用对象进行状态管理可能更合适。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-17T07:10:19.593

您可以使用以下代码：

```
$str = '{pattern} test {pattern} how r u pattern {pattern}';
$repl = array('AAA', 'BBB', 'CCC');
$tok = preg_split('~(?<={)pattern(?=})~', $str);
$out = '';
for ($i=0; $i<count($tok); $i++)
   $out .= $tok[$i] . $repl[$i];
var_dump($out); 
```

### 输出

```
string(38) "{AAA} test {BBB} how r u pattern {CCC}" 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-17T07:13:52.800

```
$values = array(
  'aaa', // first match
  'bbb', // second match
  'ccc'  // third match
);

$subject = '{pattern} test {pattern} how r u {pattern}';

$replaced = preg_replace_callback('/\{(.*?)\}/', function($matches) use ($values) { static $i = 0; return $values[$i++];  }, $subject);

echo $replaced; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-17T07:00:52.083

使用[`str_replace`](http://php.net/str-replace)：

```
$haystack  = "{patternA} test {patternB} how are you {patternC}";
$search_for = array("{patternA}","{patternB}","{patternC}");
$replace_with   = array("{AAA}", "{BBB}", "{CCC}");

$new_string = str_replace($search_for, $replace_with, $haystack); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-17T07:03:43.600

显然有多种方法可以实现这一点，但最推荐的方法是使用正则表达式。它们非常值得学习，但如果您现在没有时间学习，您只需查看备忘单并在相对较短的时间内制作适合您特定任务需求的备忘单。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-17T06:59:23.470

如果您熟悉正则表达式，请查看 preg_replace。 [http://php.net/manual/en/function.preg-replace.php](http://php.net/manual/en/function.preg-replace.php)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-17T07:00:39.570

```
$pattern =array("{pattern1}","{pattern2}","{pattern3}");
$replace=array("aaaaa","bbbbb","ccccc");
$string="{pattern1} test {pattern2} how r u {pattern3}";
$replaceme=str_replace($pattern,$replace,$string); 
```

# android - Android 服务 onStartCommand 从未调用过

> ID：12928767
> 
> 赞同：5
> 
> 时间：2012-10-17T06:56:53.900
> 
> 标签：android, android-service

我注意到这`Service.START_STICKY`不起作用，当我仔细观察时，我看到 onCreate() 正在运行，但没有调用 onStartCommand。

任何想法为什么？

```
 @Override
public void onCreate() {

    mGlobalData = GlobalData.getInstance();
    mNotificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);

    if (mTimer == null)
        mTimer = new Timer();

    Log.e(TAG, "onCreate()");
}

@Override
public int onStartCommand(Intent intent, int flags, int startId) {
    int t = START_STICKY;
    Log.e(TAG, "call me redundant BABY!  onStartCommand service");

    // We want this service to continue running until it is explicitly
    // stopped, so return sticky.
    return t;
} 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2015-12-04T16:17:10.740

如果您遇到与我相同的情况，我的`Service`启动和运行都很好（`onCreate()`并且`onServiceConnected()`都被调用）但从`onStartCommand(Intent,int)`未被调用。我发现这是因为系统启动了我`Service`而不是我明确地启动了`Service`in 代码。根据[文档](http://developer.android.com/reference/android/app/Service.html#onStartCommand(android.content.Intent,%20int,%20int))：

> [`onStartCommand(Intent,int)`是] 每次客户端通过调用显式启动服务时由系统调用`startService(Intent)`

所以我必须`startService(new Intent(context, MyService.class))`在代码中显式调用`onStartCommand(Intent,int)`才能触发。请注意，这样做不会重新启动系统创建的服务，也不会创建该服务的新实例。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-23T13:04:27.867

尝试`android.os.Debug.waitForDebugger();`在`onCreate()`. 在我这样做之前，调试器没有达到`onStartCommand()`我的断点。

# jquery - jquery，从td单元格中的文本动态创建链接

> ID：12928769
> 
> 赞同：0
> 
> 时间：2012-10-17T06:56:57.140
> 
> 标签：jquery, text, hyperlink, cell, html-table

我目前有一个问题： [扫描图像，从内容创建链接（希望是 php）](https://stackoverflow.com/questions/12890512/scan-image-create-links-from-content-php-hopefully)

由于我在 ms 发布者工作，我可以删除地图图像并保留 #'d 框。仅将那些保存为 .htm 我最终得到以下代码：

```
<!--[if gte vml 1]><![if mso | ie]><v:shape id="_x0000_s1039" type="#_x0000_t201" style='position:absolute;left:311.27pt;top:110.81pt;width:11.34pt;height:9pt; z-index:7;mso-wrap-distance-left:2.88pt;mso-wrap-distance-top:2.88pt; mso-wrap-distance-right:2.88pt;mso-wrap-distance-bottom:2.88pt' stroked="f" strokecolor="black [0]" insetpen="t" o:cliptowrap="t">
<v:stroke color2="white [7]">
<o:left v:ext="view" color="black [0]" color2="white [7]" weight="0"/>
<o:top v:ext="view" color="black [0]" color2="white [7]" weight="0"/>
<o:right v:ext="view" color="black [0]" color2="white [7]" weight="0"/>
<o:bottom v:ext="view" color="black [0]" color2="white [7]" weight="0"/>
<o:column v:ext="view" color="black [0]" color2="white [7]"/>
</v:stroke>
<v:shadow color="#ccc [4]"/>
<v:textbox inset="0,0,0,0">
</v:textbox>
</v:shape><![endif]><![endif]-->

<table v:shapes="_x0000_s1039" cellpadding=0 cellspacing=0 width=15 height=12 border=0 dir=ltr style='width:11.34pt;height:9.0pt;border-collapse:collapse; position:absolute;top:110.81pt;left:311.27pt;z-index:7'>
<tr>
<td width=15 height=12 bgcolor=white style='width:11.3385pt;height:9.0pt; padding-left:.1417pt;padding-right:.1417pt;padding-top:.1417pt;padding-bottom:.1417pt;background:white;border:solid blue .25pt'>
<p class=MsoNormal style='text-align:center;text-align:center'><span lang=en-US style='font-size:5.0pt;font-family:Arial;language:en-US'><span dir=ltr></span>185</span></p>
</td>
</tr>
</table> 
```

我正在寻找（如上一个问题）从单元格中的＃创建链接（在本例中为 185。我有太多无法持续手动执行此操作，所以正在寻找一种方法用代码来做。

我用 jQuery 找到了这段代码，它应该从以下位置获取文本：

```
 $('#myTable tr').each(function() {
     var 
    $tds = $(this).find('td');
     if($tds.length != 0) {
     var 
    $currText = $tds.eq(0).text();

    alert('Curr Source Language: ' + $currText);

     }
     }); 
```

我也不太确定如何实现上面的 jQuery。我希望整个表格成为一个链接（不仅仅是内部的#）。因此，如果“获取文本”有效，那么我想用以下内容包装整个表格： [-- 中间的所有内容，如上面的代码 --](http://gotothislink_185.jpg)

我希望这有点道理。感谢您的任何建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T07:04:36.387

您需要一种使用`lang=en-US`选择器在表中查找值的方法。然后你需要建立一个url并改变页面

```
$(function (){
        // Assign click event on any table
        $('table').click(function(){
           // Get Value
           var val = $(this).find('[lang=en-US]').text();
           // Change Page
           window.location.href = "http://gotothislink_" + val + ".jpg"
        });
}); 
```

工作示例 [http://jsfiddle.net/blowsie/tSMnd/](http://jsfiddle.net/blowsie/tSMnd/)

# c# - 带有变音符号的 RenderPage()

> ID：12928773
> 
> 赞同：1
> 
> 时间：2012-10-17T06:57:06.933
> 
> 标签：c#, webmatrix, diacritics

我正在使用 WebMatrix C# (Razor) 开发网页。我有一个包含布局和所有内容的 _SiteLayout.cshtml、一个包含起始页内容的 index.cshtml 和一组包含附加信息的 .cshtml 文件。这些文件使用 RenderPage("x.cshtml") 呈现到 index.cshtml 文件中。

现在这些文件包含，因为我来自瑞士，所以像 ö、ä、ü 这样的“元音变音”。在 index.cshtml 文件中写 Umlaute 没有问题，但是子文件中的那些没有正确渲染。它们显示为 Ã¼ (ü)。用 html 变音符号 (ü) 重写子文件将是一项巨大的努力，它们很大并且不断被人类更改，人们不愿意转换每个变音符号。

我认为html语言设置有问题，但我不确定。在我指定的 _SiteLayout.cshtml 中`<html lang="de">`，但不知何故它没有应用于子文件。

非常感谢您的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T07:26:30.880

格鲁兹！我不熟悉 Razor，但这似乎是一个编码问题。我更喜欢使用 Unicode，因为它涵盖了从 Schwitzerdütsch 到 Suaheli 的所有语言。 [在这里](http://www.microsoft.com/web/post/web-development-101-part-4-using-layout)，我找到了这一行：

```
<meta charset="utf-8" /> 
```

也许它有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T14:13:04.187

我解决了这个问题。将语言规范添加到 web.config 文件很有帮助。我在 system.web 部分添加了以下内容：

```
<globalization requestEncoding="utf-8" responseEncoding="utf-8" fileEncoding="utf-8" culture="de" uiCulture="de"/> 
```

感谢 Peter Stock 带领我朝着正确的方向前进。

# javascript - jstree 获取选中和未选中的节点

> ID：12928779
> 
> 赞同：3
> 
> 时间：2012-10-17T06:57:33.173
> 
> 标签：javascript, jquery, checkbox, jstree

我想从我的 jstree 中获取 2 个单独的数组中的已检查节点和未检查节点。

我已经看到`.get_checked`并`.get_unchecked`运行了，但它们返回给我当前选中和未选中的所有节点。（即如果一个节点未选中并且我没有取消选中它，那么我仍然使用它来获取它`.get_unchecked`。我想防止这种情况发生）。我也准备对 api 进行重大更改。有什么方向吗？

我可以获取复选框的更改事件吗？我也尝试过`change_state`，但这仅适用于单击的一个节点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T02:10:45.320

据我了解，几乎不可能不重写 jstree 的复选框插件）来处理复选框的单个事件，因为它们只是在每个选中/取消选中事件上重绘单击文件夹的所有父项和子项。

这里是简单的[演示](http://jsfiddle.net/HFtjE/)：

一切都为我工作，

HTML

```
<div id="demo1" class="demo">
    <ul>
        <li id="phtml_1">
            <a href="#">Root node 1</a>
            <ul>
                <li id="phtml_2" class="jstree-checked">
                    <a href="#">Child node 1</a>
                </li>
                <li id="phtml_3">
                    <a href="#">A Child node 2</a>
                </li>
            </ul>
        </li>
        <li id="phtml_4">
            <a href="#">Root node 2</a>
             <ul>
                <li id="phtml_2" >
                    <a href="#">Child node 1</a>
                </li>
                <li id="phtml_3">
                    <a href="#">A Child node 2</a>
                </li>
            </ul>
        </li>
    </ul>
</div>​ 
```

JS

```
$(function() {
    var tree = $("#demo1").jstree({
        "plugins": ["themes", "html_data", "checkbox", "sort", "ui"]
    });
    tree.bind("open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree", function(e) {
        console.log("Event", e);
        console.log('Cheked:', tree.jstree('get_checked'));
        console.log('Uncheked:', tree.jstree('get_unchecked'));
    });
});​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-05-04T18:56:06.217

这个或其他帖子上的答案都没有对我有用，但找到了一种扫描节点并维护一组未检查项目的方法。

[我的方法是首先迭代地获取所有节点的列表，然后我从这个答案](https://stackoverflow.com/a/56618663/820754)中引用代码来获取节点列表（我自己的调整以递归地遍历整个树，因为 OP 没有进入嵌套级别，加上我只想要ID）。

然后我得到了一个带有过滤功能的 li 标签，用于所有单击和未确定的项目以及一个 for 循环，在其中我从我之前检索的主列表中删除了这些。

```
$("#getUnchecked").bind("click", function () {

  //get a list of all nodes in the entire tree recursively - function in fiddle.
  ids = get_jstree_order('#tree > ul');

  var selNodes = $('li').filter(function () {
      //Find nodes that have jstree-clicked - or clicked items and
      //Find nodes that are undetermined
      return $(this).children('a.jstree-clicked').length
          || $(this).children('a').children('i.jstree-undetermined').length;
  });
  selNodes.each(function () {
      //find the position of the checked or undetermined id 
      let pos = ids.indexOf(this.id);
      //remove it from the master list, as we are filtering it down to just the unchecked ones
      ids.splice(pos, 1);
  })

  console.log(ids);
}); 
```

对于一个工作示例，请在此处查看[小提琴](http://jsfiddle.net/Azerax/f46j7gmd/70/)。

# python - 正则表达式：验证没有查询参数的 URL 路径

> ID：12928781
> 
> 赞同：8
> 
> 时间：2012-10-17T06:57:58.360
> 
> 标签：python, regex, url, path

我不是正则表达式专家，我正在尝试做一个看起来非常简单且适用于 python 2.7 的方法：验证没有查询字符串的 URL 的路径（无主机名）。换句话说，以 / 开头的字符串允许字母数字值，并且不允许任何其他特殊字符，除了这些：`/`, `.`, `-`

我发现这篇[文章](https://stackoverflow.com/questions/11469882/validate-the-path-of-an-url)与我需要的非常相似，但对我来说根本不起作用，例如我可以测试`aaa`它，即使它不以 . 开头，它也会返回 true `/`。

我正在使用的当前正则表达式是这个：

```
[^/+a-zA-Z0-9.-] 
```

但它不适用于不以 . 开头的路径`/`。例如：

*   `/aaa`-> 是的，这没关系
*   `/aaa/bbb`-> 是的，这没关系
*   `/aaa?q=x`-> false，这没关系
*   `aaa`-> 是的，这不行

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-17T07:08:01.710

您定义的正则表达式是一个字符类。相反，请尝试：

```
^\/[/.a-zA-Z0-9-]+$ 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-17T07:26:10.740

> 换句话说，以 / 开头的字符串允许使用字母数字值，并且不允许使用除这些以外的任何其他特殊字符：/、.、-

您缺少一些在 URL 中有效的字符

```
import string
import urllib
import urlparse

valid_chars = string.letters + string.digits + '/.-~'
valid_paths = []

urls = ['http://www.my.uni.edu/info/matriculation/enroling.html',
    'http://info.my.org/AboutUs/Phonebook',
    'http://www.library.my.town.va.us/Catalogue/76523471236%2Fwen44--4.98',
    'http://www.my.org/462F4F2D4241522A314159265358979323846',
        'http://www.myu.edu/org/admin/people#andy',
        'http://www.w3.org/RDB/EMP?*%20where%20name%%3Ddobbins']

for i in urls:
   path = urllib.unquote(urlparse.urlparse(i).path)
   if path[0] == '/' and len([i for i in path if i in valid_chars]) == len(path):
        valid_paths.append(path) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T07:07:45.277

试试这个：

^(?:/[a-zA-Z0-9.-&&[^/]]*)+$

似乎工作。看图片： ![在此处输入图像描述](../Images/1fa37a52f36a93d93a436a33b9098e0d.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-17T07:08:20.797

尝试发布更多代码。我无法从你的问题中弄清楚你是如何使用你的正则表达式的。令我困惑的是，您的 re 表达`[^/+a-zA-Z0-9.-]`基本上是说：

如果是，则匹配单个字符：

不是 a`/` 或 az（大写和小写）或 0-9 或点或破折号

如果不知道您如何使用它，这对我来说不太有意义，因为它只匹配单个字符而不是整个 URL 字符串。

我不确定我理解为什么你不能以`/`.

# javascript - HTML 和 JavaScript 中的月份选择下拉菜单

> ID：12928785
> 
> 赞同：11
> 
> 时间：2012-10-17T06:58:26.390
> 
> 标签：javascript, html, drop-down-menu

我在 HTML 中有 2 个下拉菜单，都代表月份。所以我想要一个像下面这样的验证。

如果我选择第一个下拉月份为四月，那么下一个下拉菜单应该从四月开始。如果第一个更改为六月，则第二个应更改为六月。

```
<div id="head2" style="width:15%;float:right;margin-left:5px;">
    <select id='gMonth2' onchange="show_month()">
    <option value=''>--Select Month--</option>
    <option selected value='1'>Janaury</option>
    <option value='2'>February</option>
    <option value='3'>March</option>
    <option value='4'>April</option>
    <option value='5'>May</option>
    <option value='6'>June</option>
    <option value='7'>July</option>
    <option value='8'>August</option>
    <option value='9'>September</option>
    <option value='10'>October</option>
    <option value='11'>November</option>
    <option value='12'>December</option>
    </select> 
    </div>

<div id="head1" style="width:15%;float:right;margin-left:5px;">
        <select id='gMonth1'>
    <option value=''>--Select Month--</option>
    <option selected value='1'>Janaury</option>
    <option value='2'>February</option>
    <option value='3'>March</option>
    <option value='4'>April</option>
    <option value='5'>May</option>
    <option value='6'>June</option>
    <option value='7'>July</option>
    <option value='8'>August</option>
    <option value='9'>September</option>
    <option value='10'>October</option>
    <option value='11'>November</option>
    <option value='12'>December</option>
    </select> 
    </div> 
```

该功能将是：

```
function show_month()
{
//
} 
```

我应该如何编写该函数？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-17T07:01:28.127

使用 jQuery 很容易：

```
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js" type="text/javascript"></script>

<script>
$(function(){
  $('#gMonth2').change(function(){
    var month = $(this).val();
    $('#gMonth1').val(month);
  });
 });
 </script> 
```

并在第一个选择中跳过 onChange 事件...

这里的工作示例：http: [//jsfiddle.net/sCnEZ/1/](http://jsfiddle.net/sCnEZ/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T07:13:54.110

你的 JS 函数可能是这样的：

```
function show_month(obj) {
    document.getElementById('gMonth1').selectedIndex = obj.selectedIndex;
} 
```

你应该`onchange="show_month()"`改变`onchange="show_month(this)"`

看看这个[jsfiddle](http://jsfiddle.net/2Msft/)

# windows-8 - 在 Metro Style App 中手动创建带有分组的 GridView

> ID：12928791
> 
> 赞同：2
> 
> 时间：2012-10-17T06:58:45.827
> 
> 标签：windows-8, winrt-xaml, windows-store-apps

何不可以在不使用模板的情况下在 XAML 中定义 grouing 吗？

我喜欢在 GridView 中定义我的 GridViewItems，例如：

```
 <GridView>
     <GroupItem>
      <GridViewItem/>
      <GridViewItem/>
     <GridViewItem/>
    </GroupItem>
   <GridView> 
```

但这似乎是不可能的。我的 GridViewItems 的大小并不完全相同，所以我喜欢获得流畅的布局，而不是手动将所有内容放入 StackPanels :)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-08T06:37:06.537

哦，伙计，我希望。自从我第一次看到分组以来，我就一直想要。

您必须在后面使用`CollectionViewSource`w/code。对于那个很抱歉。

伟大的头脑，虽然。;)

祝你好运！

# java - 如何解决在 Oracle XE 中使用 Java 6 程序时遇到的 UnsatisfiedLinkError？

> ID：12928793
> 
> 赞同：1
> 
> 时间：2012-10-17T06:59:19.597
> 
> 标签：java, oracle

在使用版本的机器`Java 6`上运行编译的程序时，我面临以下异常。`Windows 2008 64 bit``oracle database 11g express`

```
Caused by: java.lang.UnsatisfiedLinkError: C:\oraclexe\app\oracle\product\11.2.0\server\bin\ocijdbc11.dll: Can't load IA 32-bit .dll on a AMD 64-bit platform
    at java.lang.ClassLoader$NativeLibrary.load(Native Method)
    at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1807)
    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1732)
    at java.lang.Runtime.loadLibrary0(Runtime.java:823)
    at java.lang.System.loadLibrary(System.java:1028)
    at oracle.jdbc.driver.T2CConnection$1.run(T2CConnection.java:3535) 
```

我检查了没有 64 位版本的 Oracle 11g XE。

你能告诉我这个问题的解决方案吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T07:05:04.170

上述错误`OCI driver version`与您的 Windows 版本的兼容性有关。检查您的 OCI 驱动程序是否与`32 bit`架构兼容，或者是否适用于 64 位（以及因此错误）。

# regex - 在 Mvc 4 Razor View 的 cshttml 页面中使用正则表达式进行 jquery 电子邮件验证

> ID：12928796
> 
> 赞同：2
> 
> 时间：2012-10-17T06:59:30.257
> 
> 标签：regex

我的用于电子邮件验证的 Jquery 正则表达式引发语法错误。错误：“意外字符 \”。下面是我的代码。请任何人给我正确的解决方案。

```
function validateEmail(sEmail) {
    var filter = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
    if (filter.test(sEmail)) {
        return true;
    }
    else {
        return false;
    }
}​ 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-18T12:19:15.923

您必须使用两个 @@ 来转义 @ 符号，这样：

```
var filter = /^([\w-\.]+)@@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T08:27:39.750

尝试

```
var filter = /^([-\w\.]+)@... 
```

注意`-`前期而不是`\w-\.`

`-`in between 表示范围与`[a-z]`此处的 `\w' 一样，它没有意义。

顺便说一句`\[`，`\]`之后发生了什么`@`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-02-03T13:03:31.777

尝试这个：

```
(?:.*)@(?:.*).(?:.*) 
```

# sql - 这个 JDBC 片段实现了什么？

> ID：12928798
> 
> 赞同：0
> 
> 时间：2012-10-17T06:59:33.247
> 
> 标签：sql, oracle, jdbc

```
String q = "SELECT attr FROM students foo =? AND bar = ?";
PreparedStatement s= connection.prepareStatement(q);
s.setString(1,"a");
s.setString(2."b");
ResultSet rs = s.executeQuery();
if(rs.next())
{
 System.out.println("aba");
}
else
{
 System.out.println("zab");
} 
```

我不完全确定，但我的解释是它执行查询以从“students”中找到“attr”，其中 foo 是某物，bar 是某物。如果查询结果成功，则打印出 aba，否则将打印出 zab。

如果我错了，请纠正我。s.setStrings(1,"a") 是干什么用的？问号到底代表什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T07:10:20.960

你是对的。如果表**中至少有**一行`students`，带有字段`foo='a'`and `bar='b'`，则打印出`aba`，如果不存在这样的行，则打印出`zab`

问号和the0`.setString(1,"a")`语句密切相关。表示查询的`?`参数（占位符，如果这样更方便掌握的话），`s.set<datatype>()`方法“填充这些”。第一个参数指定要填写的参数，第二个指定值。

推荐阅读：[使用 PreparedStatements](http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T07:05:42.517

查询中的问号表示稍后要添加的值。它们充当占位符。

因此，您准备一次查询，然后只需使用例如设置值，

```
s.setString(1,"a"); 
```

这会将第一个值（也就是第一个问号）设置为`a`. 其他类型有各自的功能，例如`setInt()`或`setLong()`。

# delphi - 如何查找窗口中的所有文本字段？

> ID：12928799
> 
> 赞同：1
> 
> 时间：2012-10-17T06:59:41.867
> 
> 标签：delphi, winapi

我有一个窗口，里面有两个文本字段。

如何使用 WinAPI 调用获取**两个文本字段的句柄？**

注意：两个文本框属于不同的应用程序（我在应用程序 A 中进行 WinAPI 调用，文本框位于应用程序 B 中）。

**更新1：**

`Invalid window handle`调用时收到消息`GetClassName`。

我想我的回调函数声明有问题。

`EnumChildWindows`从以下方法之一调用`TMyClass`：

```
EnumChildWindows(handle, @TMyClass.CBList, 0); 
```

这是回调函数的代码。

```
function TMyClass.CBList(Win: THandle; lp: LPARAM): Boolean; stdcall;
var
  ClassName:array [1..1024] of Char;
begin
  GetClassName(Win, PChar(@ClassName), 1024);
  OutputDebugString(PChar('SysErrorMessage(GetLastError): '));

  result := true;
end; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-17T07:26:19.963

1.  使用 FindWindow 或 EnumWindows 查找目标应用程序的顶级窗口。
2.  调用 EnumChildWindows 枚举顶级窗口的所有子级。
3.  在枚举回调中，使用 GetClassName 检查所需的窗口类。例如，对于原始 Win32 编辑窗口，它将是 EDIT。

使用 Spy++ 之类的工具来了解目标应用程序的结构，并找出它使用的精确窗口类名称。

* * *

你在评论中关于如何打电话的问题`GetClassName`让我思考。如果您使用的是 XE3，您可以编写一个简单的类型记录帮助器，`HWND`以便在语法上更清晰地获取类名：

```
type
  THWNDHelper = record helper for HWND
  private
    function GetClassName: string;
  public
    property ClassName: string read GetClassName;
  end;

function THWNDHelper.GetClassName: string;
var
  Buffer: array [0..255] of Char;
begin
  if Winapi.Windows.GetClassName(Self, @Buffer, Length(Buffer))=0 then
    RaiseLastOSError;
  Result := Buffer;
end; 
```

然后你可以写`hwnd.ClassName`来获取窗口类名。当然，如果你不使用 XE3，你可以这样做：

```
function GetWindowClassName(hwnd: HWND): string;
var
  Buffer: array [0..255] of Char;
begin
  if GetClassName(hwnd, @Buffer, Length(Buffer))=0 then
    RaiseLastOSError;
  Result := Buffer;
end; 
```

请注意，我使用的缓冲区长度为 256，因为窗口类名称长度被限制为不超过该长度。

* * *

关于更新中的代码，您不能使用实例方法进行回调。回调必须像这样声明：

```
function EnumChildWindowsCallback(hwnd: HWND; lParam: LPARAM): BOOL; stdcall;
begin
  OutputDebugString(PChar(GetWindowClassName(hwnd)));
  Result := True;
end; 
```

[这在文档](http://msdn.microsoft.com/en-us/library/windows/desktop/ms633493.aspx)中有明确说明。不幸的是`EnumChildWindows`in的声明`Windows.pas`完全放弃了回调函数的类型安全。所以你必须在没有编译器帮助的情况下把它做好。

还要注意`HWND`和`THandle`不是一回事。不要把它们混在一起。

# c# - 如何在 EF 中指定左连接？

> ID：12928803
> 
> 赞同：5
> 
> 时间：2012-10-17T06:59:50.863
> 
> 标签：c#, entity-framework, orm

我的模型：

```
public partial class history_builds
{
    public int ID { get; set; }
    public int build { get; set; }
    public int br { get; set; }
    public int tag { get; set; }
    public string line { get; set; }
    public int rev { get; set; }
    public int user_ID { get; set; }
    public string distrib_path { get; set; }
    public string setup_path { get; set; }
    public System.DateTime build_date { get; set; }
    public string product { get; set; }
}

public partial class history_uploads
{
    public int ID { get; set; }
    public int ID_user { get; set; }
    public string Line { get; set; }
    public int Build { get; set; }
    public string Distrib { get; set; }
    public System.DateTime Time_upload { get; set; }
    public int Status { get; set; }
}

public partial class user
{
    public int ID { get; set; }
    public string Name { get; set; }
    public int ID_group { get; set; }
} 
```

语境：

```
public DbSet<history_builds> history_builds { get; set; }
public DbSet<history_uploads> history_uploads { get; set; }
public DbSet<user> users { get; set; } 
```

我尝试像这个[实体框架左连接一样做左连接](https://stackoverflow.com/questions/5537995/entity-framework-left-join)

```
var items = entities.history_builds
    .Join(
        entities.users.DefaultIfEmpty(),
        hb => hb.user_ID,
        u => u.ID,
        (hb, u) =>
            new {
                hb.distrib_path,
                hb.setup_path,
                hb.build_date,
                hb.build,
                User = (u == null ? String.Empty : u.Name),
                hb.rev
            }
    )
    .Join(entities.history_uploads.DefaultIfEmpty(),
        hb => hb.build,
        hu => hu.Build,
        (hb, hu) =>
            new HistoryBuidItem {
                Revision = hb.rev,
                Build = hb.build,
                DistribPath = hb.distrib_path,
                SetupPath = hb.setup_path,
                BuildDate = hb.build_date,
                User = hb.User,
                IsUpload = (hu == null ? true : false)
            }
    )
    .Where(x => ids.Contains(x.Revision))
    .ToList(); 
```

**但是不行，EF还是发出inner join sql代码，怎么回事？**

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-17T07:04:23.157

您应该为此使用[GroupJoin](http://msdn.microsoft.com/en-us/library/bb397905.aspx)。

看看这个例子：

```
var customers = db.Customer
                  .GroupJoin(db.SpecialCustomer, c => c.ID, g => g.CustomerId, (f, b) => new { f, b })
                  .SelectMany(z => z.b.DefaultIfEmpty(), (z, g) => new { z, g }); 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-10-17T08:06:15.170

左外连接示例：</p>

```
from c in table0
join o in table1 on c.sno equals o.sno into ps
from o in ps.DefaultIfEmpty()
select new { c.name, o.number} 
```

渲染SQL：</p>

```
SELECT [t0].[name], [t1].[number] AS [number]
FROM [table0] AS [t0]
LEFT OUTER JOIN [table1] AS [t1] ON ([t0].[sno]) = [t1].[sno] 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-11-06T15:47:00.583

唐春浩回答的更简单的版本：

```
from c in table0
from o in table1.Where(x => c.sno == x.sno).DefaultIfEmpty()
select new { c.name, o.number } 
```

# android - 如何在 android 中不可编辑邮件编辑器？

> ID：12928806
> 
> 赞同：0
> 
> 时间：2012-10-17T07:00:03.187
> 
> 标签：android, android-intent

我通过使用意图启用邮件编写器，它转到本机应用程序。没关系，我的问题是，我的核心是抄送、主题和正文消息，它工作正常，我的问题是正文消息是可编辑的，那么是否可以禁用正文消息（不可编辑）？

有任何想法吗 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T07:05:59.510

这是不可能的。仅当您编写（或找到）一个电子邮件应用程序时，该应用程序具有用于接收意图的触发器，该触发器在使正文消息不可编辑的额外数据中具有特定标志。但我从未听说过任何这样的电子邮件应用程序。唯一的另一种方法是直接发送电子邮件，但是您必须事先设置所有其他字段。

# javascript - 在 Lightbox 中使用 Kendo UI 上传小部件

> ID：12928807
> 
> 赞同：0
> 
> 时间：2012-10-17T07:00:04.567
> 
> 标签：javascript, jquery, lightbox, kendo-ui

我正在尝试在灯箱窗口中使用 Kendo UI Upload 小部件。然而，在我选择了一个文件之后，文件名在“选择”按钮下方重复了四次（当然它应该只出现一次）。

我曾尝试使用 Kendo Window 小部件和 Fancybox 作为我的灯箱库，但使用它们中的任何一个都得到相同的结果。

我还验证了当我不将上传小部件放在灯箱内时，它可以正常工作。（但我真的需要它在灯箱内工作！）

以前有人遇到过这个吗？

[http://demos.kendoui.c​​om/web/upload/index.html](http://demos.kendoui.com/web/upload/index.html)

谢谢。

# python - 在 webpy 中使用 Flask-Cache。我有错误 在 xx 在请求上下文之外工作

> ID：12928812
> 
> 赞同：0
> 
> 时间：2012-10-17T07:00:17.567
> 
> 标签：python, caching, web.py

初始缓存对象代码如下：

```
pageCache = Cache()
cacheDir = os.path.join(path.dirname(path.dirname(__file__)),'pageCache')
pageCache.init_app(flaskApp,config={'CACHE_TYPE': 'filesystem','CACHE_THRESHOLD':1>>10>>10,'CACHE_DIR': cacheDir }) 
```

我使用 pageCache 如下：

```
class CodeList:
    """
    show code list
    """
    @pageCache.cached(timeout=60)
    def GET(self):
        i = web.input()
        sort = i.get('sort','newest')
        pageNo = int(i.get('page','1'))
        if i.get('pageSize'):
            pageSize = int(i.get('pageSize'))
        else:
            pageSize = DEFAULT_LIST_PAGE_SIZE
        if pageSize > 50:
            pageSize = 50
        items = csModel.getCodeList(sort=sort,pageNo=pageNo,pageSize=pageSize)
        totalCount = csModel.getCodeCount()
        pageInfo = (pageNo,pageSize,totalCount)
        return render.code.list(items,pageInfo) 
```

当我请求此页面时，出现异常：

> 在 /code-snippet/ 处输入“exceptions.RuntimeError”，在请求上下文之外工作
> 
> Python C:\Python27\lib\site-packages\flask-0.9-py2.7.egg\flask\globals.py 在 >_lookup_object，第 18 行

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T07:01:45.293

顾名思义，Flask-Cache 是一个 Flask 扩展。所以如果你不使用 Flask 就不能正确使用它。

您可以[`werkzeug.cache`](http://werkzeug.pocoo.org/docs/contrib/cache/)改用 - Flask-Cache 也在使用它。但是，根据您的需要，直接使用 memcached 可能是一个更好的主意 - 当使用包装器时，`werkzeug.cache`您会丢失缓存引擎的所有高级功能，因为它是用相当简单/简约的 API 包装的。

# android - Android ViewPagerIndicator 选项卡

> ID：12928814
> 
> 赞同：1
> 
> 时间：2012-10-17T07:00:26.620
> 
> 标签：android, android-viewpager, foursquare, android-tabs, viewpagerindicator

我被杰克沃顿困住了`ViewPagerIndicator`。

问题是，当我尝试制作时`Tab indicator`- 我得到的结果与我需要的结果截然不同，我无法对其进行样式设置或使其表现应有的样子。

所以，我要求的是两件事：
1）当我说它`TabIndicator`是 Foursquare-like时我是对的`ViewPagerIndicator`吗？（当所有选项卡都显示在屏幕上时）
2) 谁能给我提供一些使用这种类型的教程或示例的链接`ViewPagerIndicator`，因为 JWs 网站上的示例不想正常工作。

非常感谢您的关注！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T07:18:42.150

Jake Wharton 提供了很多例子。你检查过吗？ [https://github.com/JakeWharton/Android-ViewPagerIndicator](https://github.com/JakeWharton/Android-ViewPagerIndicator)

您可以预览安装此 apk： [https ://play.google.com/store/apps/details?id=com.viewpagerindicator.sample&hl=es](https://play.google.com/store/apps/details?id=com.viewpagerindicator.sample&hl=es)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T07:34:26.993

moskis 是对的`ViewPagerIndicator`。当我第一次开始使用它时，安装该 APK 对我有很大帮助，它是一个很棒的库。

但是，要回答您问题的第一部分以及我认为您一般要问的问题，我认为`ViewPagerIndicator`这不是您解决这个特定问题所需要的。Foursquare 顶部的选项卡是标准的 Android 选项卡，如[http://developer.android.com/design/building-blocks/tabs.html](http://developer.android.com/design/building-blocks/tabs.html)所示。

标准的 Android 选项卡是使用`TabHost`和实现的`TabWidget`。[在http://developer.android.com/guide/topics/ui/layout/tabs.html](http://developer.android.com/guide/topics/ui/layout/tabs.html)有一个关于创建标签界面的官方教程

Foursquare 通过为选项卡提供状态列表可绘制对象来实现自定义外观，您可能希望提供自己的以获取您想要的应用程序样式。

请注意，我无权访问 Foursquare 实现，但我正在使用该应用程序时观察到的内容。但是，我在过去的项目中为 Android 实现了一个选项卡式界面。

# android - 意图 putString putData 差异

> ID：12928827
> 
> 赞同：0
> 
> 时间：2012-10-17T07:01:11.647
> 
> 标签：android, android-intent, communication, put

当与 Intent 一起使用以将信息从一个活动传递到另一个活动时，putString 和 putData 之间的主要区别是什么。在我看到的许多代码示例中，我经常看到以相同方式使用相同的两种方法。一个比另一个有什么优势？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T07:08:52.050

在这里您可以获得有关意图的所有信息：

[http://developer.android.com/reference/android/content/Intent.html](http://developer.android.com/reference/android/content/Intent.html)

# javascript - AngularJS：服务 $broadcast 和 $watch 没有在接收控制器上触发

> ID：12928840
> 
> 赞同：25
> 
> 时间：2012-10-17T07:02:16.157
> 
> 标签：javascript, angularjs

AngularJS 菜鸟在这里，在我通往 Angular 启蒙的道路上 :)

情况如下：

我在我的模块“app”中实现了一个服务“AudioPlayer”，并像这样注册：

```
 app.service('AudioPlayer', function($rootScope) {

     // ...

     this.next = function () {
         // loads the next track in the playlist
         this.loadTrack(playlist[++playIndex]);     
     };

     this.loadTrack = function(track) {
         // ... loads the track and plays it
         // broadcast 'trackLoaded' event when done
         $rootScope.$broadcast('trackLoaded', track); 
     };
 } 
```

这是“接收器”控制器（主要用于 UI / 表示逻辑）

```
app.controller('PlayerCtrl', function PlayerCtrl($scope, AudioPlayer) {

    // AudioPlayer broadcasts the event when the track is loaded

    $scope.$on('trackLoaded', function(event, track) {
        // assign the loaded track as the 'current' 
        $scope.current = track;
    });

    $scope.next = function() {
        AudioPlayer.next();
    };
} 
```

在我看来，我会像这样显示当前的曲目信息：

```
<div ng-controller="PlayerCtrl">
    <button ng-click="next()"></button>
    // ...
    <p id="info">{{current.title}} by {{current.author}}</p>
</div> 
```

next() 方法在 PlayerCtrl 中定义，它只是在 AudioPlayer 服务上调用相同的方法。

**问题**

当有手动交互时（即当我单击 next() 按钮时），这工作正常 - 流程如下：

1.  PlayerCtrl 拦截点击并触发它自己的 next() 方法
2.  进而触发 AudioPlayer.next() 方法
3.  它在播放列表中寻找下一个曲目并调用 loadTrack() 方法
4.  loadTrack() $broadcasts the 'trackLoaded' 事件（发送轨道本身）
5.  PlayerCtrl 监听广播事件并将轨道分配给当前对象
6.  视图正确更新，显示 current.title 和 current.author 信息

但是，当从“背景”中的 AudioService 中调用 next() 方法时（即，当轨道结束时），从 1 到 5 的所有步骤都会发生，但视图不会收到更改通知在 PlayerCtrl 的“当前”对象中。

我可以清楚地看到在 PlayerCtrl 中分配的新轨道对象，但就好像视图没有收到更改通知。我是菜鸟，我不确定这是否有帮助，但我尝试的是在 PlayerCtrl 中添加一个 $watch 表达式

```
$scope.$watch('current', function(newVal, oldVal) {
    console.log('Current changed');
}) 
```

仅在“手动”交互期间打印出来...

同样，就像我说的，如果我像这样在 $on 监听器中添加一个 console.log(current) ：

```
$scope.$on('trackLoaded', function(event, track) {
    $scope.current = track;
    console.log($scope.current);
}); 
```

这始终正确打印。

我究竟做错了什么？

（ps 我正在将 AudioJS 用于 HTML5 音频播放器，但我认为这不是应该归咎于这里的……）

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-10-17T13:28:49.907

当您有点击事件时， $scope 会更新，如果没有事件，您将需要使用 $apply

```
$scope.$apply(function () {
    $scope.current = track;
}); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-29T09:04:27.723

由于窥视摘要内部是不安全的，因此最简单的方法是使用`$timeout`：

```
$timeout(function () {
    $scope.current = track;
}, 0); 
```

回调总是在良好的环境中执行。

编辑：事实上，应该包装在应用阶段的功能是

```
 this.loadTrack = function(track) {
     // ... loads the track and plays it
     // broadcast 'trackLoaded' event when done
     $timeout(function() { $rootScope.$broadcast('trackLoaded', track); });
 }; 
```

否则会错过直播。

~~~~~~

实际上，替代方案可能更好（至少从语义的角度来看），并且它在摘要循环内部或外部同样有效：

```
$scope.$evalAsync(function (scope) {
    scope.current = track;
}); 
```

*   关于以下方面的优势`$scope.$apply`：您不必知道自己是否处于摘要循环中。
*   优势方面`$timeout`：您并不真正想要超时，并且您可以在没有额外`0`参数的情况下获得更简单的语法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-12T10:43:32.700

```
// apply changes
$scope.current = track;
try {
 if (!$scope.$$phase) {
  $scope.$apply($scope.current);
 }
} catch (err) {
 console.log(err);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-03-22T18:27:21.860

尝试了一切，它对我有用`$rootScope.$applyAsync(function() {});`

# c# - 在一个会话中生成不同的验证码

> ID：12928844
> 
> 赞同：0
> 
> 时间：2012-10-17T07:02:26.450
> 
> 标签：c#, asp.net, sharepoint-2010, captcha

我想如何在一个会话中生成一个彼此不同的验证码？

例如：在用户可以继续下一步之前，我有一个带有验证码的申请表。问题是，如果我在新的窗口选项卡中打开另一个相同的申请表，它将生成与第一个申请表相同的验证码。我需要的是不同的验证码值。

请帮我解决这个问题...tq

我正在使用 asp.net。

这里是示例代码

生成代码

```
private string GenerateRandomCode()
{
    string s = "";
    for (int i = 0; i < 6; i++)
        s = String.Concat(s, random.Next(10).ToString());
    return s;
} 
```

生成验证码图像

```
namespace OneStepContactMe.Layouts.OneStepContactMe
{
    public partial class captchapage : UnsecuredLayoutsPageBase
    {
        protected void Page_Load(object sender, EventArgs e)
        {
            if (!IsPostBack)
            {
                if (Session["Map"] == null)
                { 
                    Session["Map"] = GenerateRandomCode();      
                }
                // Create a CAPTCHA image using the text stored in the Session object.
                CaptchaImage ci = new CaptchaImage(this.Session["Map"].ToString(), 200, 50, "Century Schoolbook");

                // Change the response headers to output a JPEG image.
                this.Response.Clear();
                this.Response.ContentType = "image/jpeg";

                // Write the image to the response stream in JPEG format.
                ci.Image.Save(this.Response.OutputStream, ImageFormat.Jpeg);

                // Dispose of the CAPTCHA image object.
                ci.Dispose(); 
            }
            else {
            }
        }

        /// <summary>
        /// generate random 6 digit
        /// </summary>
        /// <returns> string of 6 digits </returns>
        private string GenerateRandomCode()
        {
            Random random = new Random();
            string s = "";
            for (int i = 0; i < 6; i++)
                s = String.Concat(s, random.Next(10).ToString());
            return s;
        }

        //to allow anonymous access to this pages
        protected override bool AllowAnonymousAccess
        {
            get
            {
                return true;
            }
        }

        protected override void OnPreInit(EventArgs e)
        {
            base.OnPreInit(e);
            this.MasterPageFile = "/_catalogs/masterpage/MyCorridor.MemberArea.v1.master";
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T07:44:16.007

将随机局部变量更改为成员字段。例如

```
public partial class captchapage : UnsecuredLayoutsPageBase
{
    private Random random = new Random();
} 
```

# tabs - 从 Titanium.Media.openPhotoGallery 切换到下一个屏幕

> ID：12928847
> 
> 赞同：0
> 
> 时间：2012-10-17T07:02:44.553
> 
> 标签：tabs, window, titanium, titanium-mobile, photo-gallery

我正在使用钛制作一个小应用程序，我可以在其中单击窗口中的“图库”按钮并打开照片库。在选择照片时，它应该移动到下一个窗口。但它的作用是，它首先关闭相册，然后我可以看到我的第一个（按钮）屏幕，然后打开下一个窗口。

我不希望它显示上一个窗口。有办法吗？？

我正在将窗口添加到选项卡。下面是我的代码。

```
cameraButton.addEventListener('click',function(e){
            chooseImageFromGallery();
        }); 

function chooseImageFromGallery(){

        var capturedImg;

        //TODO     Titanium.Media.showCamera({
        Titanium.Media.openPhotoGallery({
            success : function(event) {

                capturedImg = event.media;

                /* Condition to check the selected media */
                if (event.mediaType == Ti.Media.MEDIA_TYPE_PHOTO) {
                        var window1 = MyWindows.init(capturedImg, docImgModel, previous_win);

                                MyCommon.addWindowToTabGroup(window1);
                        win.close();
                }
            },
            cancel : function() {
                //While cancellation of the process
                activityInd.hide();
                        win.remove(activityInd);
            },
            error : function(error) {
                /* called when there's an error */
                var a = Titanium.UI.createAlertDialog({
                    titleid : 'camera'
                });
                if (error.code == Titanium.Media.NO_CAMERA) {
                    a.setMessage(L('camera_not_available'));
                } else {
                    a.setMessage('Unexpected error: ' + error.message);
                }
                a.show();
                activityInd.hide();
                win.remove(activityInd);

            }
        });

    } 
```

init 方法只是创建一个新窗口并返回它。

addWindowToTabGroup 方法将其添加到当前选项卡

```
addWindowToTabGroup(window){
    // tabGroup is a tab at global level declared in app.js
    // activeTab returns the current tab
    tabGroup.activeTab.open(window, {
                animated : true
            });
} 
```

非常感谢 ....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T11:07:49.557

您可以这样做： 1- 点击按钮触发一个全局事件，该事件将打开您的照片库，然后关闭您当前的窗口。

2-现在成功回调照片库（选择照片时）为您编写打开要向用户显示的新窗口的代码...

# php - 无法从 joomla 2.5 框架在 mysql 的 blob 字段中正确上传 zip 文件

> ID：12928849
> 
> 赞同：0
> 
> 时间：2012-10-17T07:02:51.933
> 
> 标签：php, joomla2.5

我在 joomla 中制作了一个组件，以便将文件上传并保存为数据库中的 blob。该文件似乎正在正常上传，但是当我尝试下载它时出现错误：

> 7-Zip [64] 9.20 版权所有 (c) 1999-2010 Igor Pavlov 2010-11-18 p7zip 版本 9.20 (locale=en_US.UTF-8,Utf16=on,HugeFiles=on,8 CPUs)
> 
> ```
> Error: /tmp/payeddownloadsvisits-17.zip: Can not open file as archive
> 
> Errors: 1 
> ```

在视图中，这是我尝试过的

```
<div id="dialog" title="Basic dialog" style="display:none;">    
   <form enctype="multipart/form-data" action="index.php?option=com_virtuemart&view=payeddownloads&task=uploadfile" method="post">
        <table>
            <tr><td>Product</td><td><select id="product" name="product"></td></tr>
            <tr><td>File</td><td><input name="file" type="file" id="file"/></td></tr>
            <tr><td></td><td><input name="upload" type="submit" id="upload" value=" Upload "></td></tr>
            <tr><td></td><td></td></tr>
        </table>
        <input type="hidden" name="MAX_FILE_SIZE" value="2000000">          

    </form>
    <progress style="display:none;" id="progress"></progress>   
</div> 
```

这是控制器功能

```
function uploadfile()
     {      
        $payeddownloadsModel = VmModel::getModel('payeddownloads');
        $payeddownloads = $payeddownloadsModel->uploadfile();

        JRequest::setVar('view', 'payeddownloads');
        JRequest::setVar('layout','default');        
        parent::display();                                      
     } 
```

这是模型函数

```
public function uploadfile(){       
         $input = new Jinput;
         $virtuemart_product_id = $input->get('product');

         $fileName = $_FILES['file']['name'];
         $tmpName =  $_FILES['file']['tmp_name'];
         $fileSize = $_FILES['file']['size'];
         $fileType = $_FILES['file']['type'];
         $fp = fopen($tmpName, 'r');
         $content = fread($fp, filesize($tmpName));
         $content = addslashes($content);
         fclose($fp);

         if(!get_magic_quotes_gpc())
         {
         $fileName = addslashes($fileName);
         }

         $data =new stdClass();
         $data->id = null;
         $data->virtuemart_product_id = $virtuemart_product_id; 
         $data->file_size = $fileSize;
         $data->file_name = $fileName;
         $data->file_type = $fileType;
         $data->file_blob = $content;
         $data->reg_date = date("Y-m-d H:i:s");

         $db = JFactory::getDBO();
         $db->insertObject( '#__virtuemart_payeddownload_productfiles', $data, 'id' );

    } 
```

该文件被插入到具有以下结构的表中

```
CREATE TABLE `ivf27_virtuemart_payeddownload_productfiles` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `virtuemart_product_id` varchar(45) DEFAULT NULL,
  `file_blob` blob,
  `file_size` varchar(45) DEFAULT NULL,
  `file_name` varchar(200) DEFAULT NULL,
  `file_type` varchar(45) DEFAULT NULL,
  `reg_date` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=31 DEFAULT CHARSET=utf8$$ 
```

但是当我尝试下载它时：

```
public function getfile(){

        $jinput = JFactory::getApplication()->input;        
        $file_id = $jinput->get('file_id','','INT');        

        $sql = "select * from #__virtuemart_payeddownload_productfiles where id=$file_id";
        $db = JFactory::getDBO();       
        $db->setQuery($sql);
        $results = $db->loadObjectList();
        $file_size = $results[0]->file_size;
        $file_type = $results[0]->file_type;
        $file_name = $results[0]->file_name;
        $file_blob = $results[0]->file_blob;

        header('Content-Description: File Transfer');           
        header("Content-Type: $file_type");
        header("Content-Disposition: attachment; filename= $file_name");
        header('Expires: 0');
        header('Cache-Control: must-revalidate, post-check=0, pre-check=0');
        header('Pragma: public');
        header('Content-Length: ' . strlen($file_blob));

        ob_clean();
        flush();

        echo $file_blob;
        exit;
    } 
```

我从浏览器收到以下消息：

```
7-Zip [64] 9.20  Copyright (c) 1999-2010 Igor Pavlov  2010-11-18
p7zip Version 9.20 (locale=en_US.UTF-8,Utf16=on,HugeFiles=on,8 CPUs)

Error: /tmp/payeddownloadsvisits-17.zip: Can not open file as archive

Errors: 1 
```

但是我在 joomla 框架之外创建了一个 test.php 文件，然后像这样再次上传文件：

```
<?php         
 include("config.php");

 $fileName = $_FILES['userfile']['name'];
 $tmpName =  $_FILES['userfile']['tmp_name'];
 $fileSize = $_FILES['userfile']['size'];
 $fileType = $_FILES['userfile']['type'];
 $fp = fopen($tmpName, 'r');
 $content = fread($fp, filesize($tmpName));
 $content = addslashes($content);
 fclose($fp);

 if(!get_magic_quotes_gpc())
 {
 $fileName = addslashes($fileName);
 }

 $query = "INSERT INTO ivf27_virtuemart_payeddownload_productfiles set file_name='".$fileName."', file_size='".$fileSize."', file_type='".$fileType."', file_blob='".$content."'";        
 mysql_query($query) ;    
?> 
```

该文件按预期成功上传+当我返回并从joomla下载它时，我可以打开它 - 解压缩并正常阅读。

所以只有当我从 joomla 2.5 框架上传文件时才会出现问题。我可以下载文件，但无法解压缩。如果我从 joomla 外部上传文件，我可以正常下载文件并解压缩。

是什么原因造成的，我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T07:07:46.467

在保存到数据库之前，您已经在内容中添加了斜线，但在检索到内容后没有去除它们。出于安全目的停止使用addlashes，使用数据库功能，您不会破坏自己的数据

# matlab - 与模拟输入功能一起使用其他功能

> ID：12928850
> 
> 赞同：1
> 
> 时间：2012-10-17T07:02:56.610
> 
> 标签：matlab, parallel-processing

我有一个模拟输入对象（winsound）在 MATLAB 中采样并执行音频任务。

```
set(AI, 'SamplesAcquiredFcnCount',num_samples)
set(AI, 'SamplesAcquiredFcn',{@function1,AI,num_samples}) 
```

我的理解是，模拟输入对象只是不断地采样，因此当样本达到设定的数量时， **function1会一直被调用。**所以***它具有“优先级”。***

现在我有另一个函数（**function2**），我想**连续处理****function1**更新的（全局）变量。我的问题是，在我当前的实现中，function2 不会“回来”并查看来自模拟输入的更新变量。

我想在一定的持续时间或条件下连续调用 function2 ，但是**如何让它看到来自模拟输入 function1 的更新变量**？（它们已经是全局的，但是一旦 function2 开始，它就不会获得更新的变量，只有在它开始时才会如此）。

我试图研究并行计算工具箱中的东西来帮助我，但没有找到任何东西。我真的很感激任何帮助！这真的会把我的项目拼凑在一起

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T15:36:50.320

最后，确保良好的并行操作的最佳方法就是在 function1 中调用 function2。由于 function1 在模拟输入对象中被很好地控制为回调，因此这是最安全的方法。

# php - Websocket 握手错误

> ID：12928852
> 
> 赞同：0
> 
> 时间：2012-10-17T07:03:06.903
> 
> 标签：php, jquery, websocket, xampp

我正在尝试在我的 xampp 安装上执行此操作。

[http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/](http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/)

当我进入 shell 并输入 php -q htdocs\socket\server\startDeamon.php 我得到这个......

```
2012-10-17 08:42:11 System: Socket Resource id #7 created.
2012-10-17 08:42:11 System: Socket bound to localhost:8000.
2012-10-17 08:42:11 System: Start listening on Socket.

Strict Standards: Only variables should be passed by reference in C:\xampp\htdoc
s\socket\server\socketWebSocket.class.php on line 35

Strict Standards: Only variables should be passed by reference in C:\xampp\htdoc
s\socket\server\socketWebSocket.class.php on line 35
2012-10-17 08:42:31 WebSocket: Resource id #8 disconnected!

Strict Standards: Only variables should be passed by reference in C:\xampp\htdoc
s\socket\server\socketWebSocket.class.php on line 35

Strict Standards: Only variables should be passed by reference in C:\xampp\htdoc
s\socket\server\socketWebSocket.class.php on line 35 
```

可能是什么问题，代码是否旧？

这是 socketWebSocket.class.php 的第 35 行

```
$num_sockets = socket_select($changed_sockets,$write=NULL,$exceptions=NULL,NULL); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T07:19:33.660

尝试：

```
$write=NULL;
$exceptions=NULL;
$num_sockets = socket_select($changed_sockets,$write,$exceptions,0); 
```

# iphone - 在应用程序中访问 MSN 邮件帐户

> ID：12928853
> 
> 赞同：4
> 
> 时间：2012-10-17T07:03:08.433
> 
> 标签：iphone, api, email, msn

我想在应用程序中访问 MSN 帐户访问权限。

这个怎么做。

请建议，我可以从 MSN 获得网络服务吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-17T07:11:32.083

你的问题有点含糊，不过我还是会尽量回答。目前，我所知道的使用 Objective C 提供对 Windows Live 服务的访问的唯一 API 是[适用于 iOS 的 Live SDK](https://github.com/liveservices/LiveSDK-for-iOS)

> Live SDK for iOS 库旨在帮助开发人员轻松地将 SkyDrive 和 Hotmail 联系人和日历集成到他们的 iOS 应用程序中。
> 
> 这里的存储库包括：
> 
> Live SDK 库源 (src/LiveSDK/Library) Live SDK 框架 (bin/LiveSDK.framework.zip) 示例 (src/samples)

[您可以从Live Connect 开发人员中心](http://msdn.microsoft.com/en-us/library/live/hh875197.aspx)获取文档和其他帮助。

# bash - 忽略 Solaris“查找”输出中的空格

> ID：12928857
> 
> 赞同：0
> 
> 时间：2012-10-17T07:03:26.203
> 
> 标签：bash, find, spaces, sunos

我正在尝试删除所有超过 2 天的空文件。我也忽略了隐藏文件，从点开始。我正在使用以下代码进行操作：

```
find /u01/ -type f -size 0 -print -mtime +2 | grep -v "/\\." | xargs rm 
```

它工作正常，直到文件名中有空格。我怎样才能让我的代码忽略它们？

操作系统是 Solaris。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T07:19:40.320

### 选项1

在适当的位置（不是）安装 GNU`find`和 GNU并使用：`xargs``/usr/bin`

```
find /u01/ -type f -size 0 -mtime +2 -name '[!.]*' -print0 | xargs -0 rm 
```

`-print`（请注意，我从您的选项中删除了（我认为是）一个流浪者`find`。显示的选项删除了 2 天前修改的空文件，其中名称不以 a 开头`.`，这是您的原始文件`grep`似乎处理的情况。 )

### 选项 2

问题主要`xargs`是定义为在空格处拆分其输入。另一种方法是编写您自己的`xargs`代理项，该代理项的行为在名称中带有空格；我已经做到了。然后，只有文件名包含换行符（文件系统允许）时，您才会遇到问题。使用 NUL ( `'\0'`) 终止符可以保证安全；它是唯一不能出现在路径名中的字符（这就是 GNU 选择将它与`-print0`etc 一起使用的原因）。

### 选项 3

最后一个更好的选择可能是：

```
find /u01/ -type f -size 0 -mtime +2 -name '[!.]*' -exec rm {} \; 
```

这完全避免了使用`xargs`并正确处理所有文件名（路径名）——代价是`rm`为找到的每个文件执行一次。如果您每次运行时只处理几个文件，那并不会太痛苦。

POSIX 2008 引入了符号`+`来代替 the `\;`，然后的行为类似于`xargs`，在运行命令之前收集尽可能多的参数，以便方便地放入它为命令行分配的空间：

```
find /u01/ -type f -size 0 -mtime +2 -name '[!.]*' -exec rm {} + 
```

我使用的 Solaris 版本不支持这种表示法，但我知道我使用的是 Solaris 的古董版本。GNU`find`确实支持`+`标记，因此不需要使用`-print0`and`xargs -0`变通方法。

# windows - 在 Windows 上编译 RInside 程序

> ID：12928863
> 
> 赞同：0
> 
> 时间：2012-10-17T07:03:42.987
> 
> 标签：windows, r, makefile, rinside

> **可能重复：**
> [在 Windows 下编译 RInside 示例时出现问题](https://stackoverflow.com/questions/5650063/problem-with-compiling-rinside-examples-under-windows)

**在 Windows XP 上：**

```
> sessionInfo()
R version 2.15.1 (2012-06-22)
Platform: i386-pc-mingw32/i386 (32-bit)

locale:
[1] LC_COLLATE=English_United States.1252 
[2] LC_CTYPE=English_United States.1252   
[3] LC_MONETARY=English_United States.1252
[4] LC_NUMERIC=C                          
[5] LC_TIME=English_United States.1252    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     
> 
```

**我尝试编译 Dirk 编写的最简单的程序：**

```
#include <RInside.h>                    // for the embedded R via RInside

int main(int argc, char *argv[]) {

    RInside R(argc, argv);              // create an embedded R instance

    R["txt"] = "Hello, world!\n";   // assign a char* (string) to 'txt'

    R.parseEvalQ("cat(txt)");           // eval the init string, ignoring any returns

    exit(0);
} 
```

**环境变量 PATH 全部包含以下内容：**
`%SystemRoot%\system32;%SystemRoot%;%SystemRoot%\System32\Wbem;C:\R\batchfiles_0.6-6;C:\R\Rtools\bin;C:\R\Rtools\MinGW\bin;C:\Program Files\GnuWin32;C:\"Program Files"\R\R-2.15.1\;`

**我从 Windows XP 中 RInside 的现有 R 示例中复制了这个 Makefile。**

```
## -*- mode: make; tab-width: 8; -*-
##
## Simple Makefile
##
## TODO: 
##  proper configure for non-Debian file locations,   [ Done ]
##  allow RHOME to be set for non-default R etc

## comment this out if you need a different version of R, 
## and set set R_HOME accordingly as an environment variable
R_HOME :=       C:\"Program Files"\R\R-2.15.1\

sources :=      $(wildcard *.cpp)
programs :=         $(sources:.cpp=)

## include headers and libraries for R 
RCPPFLAGS :=        $(shell $(R_HOME)/bin/R CMD config --cppflags)
RLDFLAGS :=         $(shell $(R_HOME)/bin/R CMD config --ldflags)
RBLAS :=        $(shell $(R_HOME)/bin/R CMD config BLAS_LIBS)
RLAPACK :=      $(shell $(R_HOME)/bin/R CMD config LAPACK_LIBS)

## if you need to set an rpath to R itself, also uncomment
#RRPATH :=      -Wl,-rpath,$(R_HOME)/lib

## include headers and libraries for Rcpp interface classes
RCPPINCL :=         $(shell echo 'Rcpp:::CxxFlags()' | $(R_HOME)/bin/R --vanilla --slave)
RCPPLIBS :=         $(shell echo 'Rcpp:::LdFlags()'  | $(R_HOME)/bin/R --vanilla --slave)

## include headers and libraries for RInside embedding classes
RINSIDEINCL :=      $(shell echo 'RInside:::CxxFlags()' | $(R_HOME)/bin/R --vanilla --slave)
RINSIDELIBS :=      $(shell echo 'RInside:::LdFlags()'  | $(R_HOME)/bin/R --vanilla --slave)

## compiler etc settings used in default make rules
CXX :=          $(shell $(R_HOME)/bin/R CMD config CXX)
CPPFLAGS :=         -Wall $(shell $(R_HOME)/bin/R CMD config CPPFLAGS)
CXXFLAGS :=         $(RCPPFLAGS) $(RCPPINCL) $(RINSIDEINCL) $(shell $(R_HOME)/bin/R CMD config CXXFLAGS)
LDLIBS :=       $(RLDFLAGS) $(RRPATH) $(RBLAS) $(RLAPACK) $(RCPPLIBS) $(RINSIDELIBS)

all:            $(programs)
            @test -x /usr/bin/strip && strip $^

run:            $(programs)
            @for p in $(programs); do echo; echo "Running $$p:"; ./$$p; done

clean:
            rm -vf $(programs)
            rm -vrf *.dSYM

runAll:
            for p in $(programs); do echo "Running $$p"; ./$$p; done 
```

这是我在 C 盘中的 R 文件夹： ![在此处输入图像描述](../Images/c8f58c29b4fb8c6cf22d8359344adfde.png)

我看到了[这个线程](https://stackoverflow.com/a/5650694/462608)`site-library`，但我在 R 文件夹中没有类似的东西。

我将 更改`R_HOME`为`C:\"Program Files"\R\R-2.15.1`，导致以下错误：

![在此处输入图像描述](../Images/6ceb20453c30ddb9b97f62e5760d3747.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-17T12:27:50.827

它失败了，因为您安装了 R，`C:\Program Files\R`即使[Windows 上 R 的常见问题解答](http://cran.r-project.org/bin/windows/base/rw-FAQ.html)告诉您**不要将 R 安装在带有空格的路径中**。请参阅“问题 2.2：如何为 Windows 安装 R”：

> 如果您希望能够从源代码构建包，我们建议您选择不包含空格的安装路径。

Rcpp / RInside 文档重复了该建议。*不要将 R 安装在带有空格的路径中。* 如果必须，您必须修复 Makefile 以避免路径扩展中断。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T07:09:47.303

你的路径对我来说是完全错误的：为什么你使用你的 R 主路径是简单`C:\R\Rtools\bin`的？如果您的 R 文件夹是您在屏幕截图中显示的内容，顺便说一句，您的类路径也是完全错误的！`R_HOME``C:\R`

# android - Android：当手机迷失方向时计算汽车的加速度

> ID：12928864
> 
> 赞同：3
> 
> 时间：2012-10-17T07:03:47.980
> 
> 标签：android

在以下情况下如何测量加速度值：将手机放在车上，手机可能在我的口袋里或其他地方，方向不完美。我的问题是如何测量汽车的线性和角加速度。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T07:55:44.370

如果没有陀螺仪，您将不会获得角加速度（并非每部手机都配备了陀螺仪）对于线性加速度，您可以使用：

[https://github.com/ko5tik/accmeter](https://github.com/ko5tik/accmeter)

这是完整的示例：

[https://github.com/ko5tik/accanalyser](https://github.com/ko5tik/accanalyser)

如果您没有陀螺仪，您可以尝试从矢量方向变化和磁传感器中获取角加速度 - 但精度将不是最佳的。

# asp.net - 如何使用asp.net检查网格视图的第一行和第一列

> ID：12928866
> 
> 赞同：-1
> 
> 时间：2012-10-17T07:04:00.247
> 
> 标签：asp.net

我有一个两列的gridview。我想检查第一行和第一列应该是强制性的。如果第一列是空白的，它不应该允许保存，它应该显示消息为

> 一排应该是强制性的。

如何检查这个？

我的保存按钮点击编码如下

```
Dim row As GridViewRow 
For Each row In GridView1.Rows 
If row.RowType = DataControlRowType.DataRow Then 
    Dim t1 As String = CType(row.FindControl("TextBox2"), TextBox).Text 
    Dim dd As String = CType(row.FindControl("DropDownList3"), DropDownList).SelectedItem.Text 
    If Trim(t1) = "" Or (Trim(dd)= "" then 
        label6.Text = "HospNo,Date,SurgeryCode/Method are Mandatory" 
    End If 
```

但这会检查所有网格列，我只想检查第一行和第一列。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T07:22:00.947

```
For Each row In GridView1.Rows 
 If row.RowType = DataControlRowType.DataRow Then 
 Dim t1 As String = CType(row.FindControl("TextBox2"), TextBox).Text 
 Dim dd As String = CType(row.FindControl("DropDownList3"),DropDownList).SelectedItem.Text 
If Trim(t1) = "" Or (Trim(dd)= "" then 
    label6.Text = "HospNo,Date,SurgeryCode/Method are Mandatory" 
End If
 Exit For
 End For 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T07:35:21.460

您可以使用`GridView1.Rows(0)`获取第一行：

```
Dim firstRow = GridView1.Rows(0)
Dim TextBox2 = DirectCast(firstRow.FindControl("TextBox2"), TextBox)
Dim DropDownList3 = DirectCast(firstRow.FindControl("DropDownList3"), DropDownList)
If TextBox2.Text.Trim.Length = 0 OrElse DropDownList3.SelectedIndex = -1 Then
    label6.Text = "HospNo,Date,SurgeryCode/Method are Mandatory"
End If 
```

但这不是您应该在 ASP.NET 中使用的方法。而是使用[`RequiredFieldValidator`](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.requiredfieldvalidator%28v=vs.100%29.aspx)which can ven validate 在客户端。

例如：

```
<asp:GridView ID="GridView1" OnSelectedIndexChanged="Grid1_SelectedIndexChanged"  AutoGenerateSelectButton="true" AutoGenerateColumns="false" runat="server" Width="300">
        <RowStyle  CssClass="GridViewRowStyle" />
        <AlternatingRowStyle CssClass="GridViewAlternatingRowStyle" />
        <HeaderStyle CssClass="GridViewHeaderStyle" />
        <SelectedRowStyle BackColor="Aqua" />
        <Columns>
            <asp:TemplateField HeaderText="Column 1" HeaderStyle-HorizontalAlign="Left">
               <ItemTemplate>
                    <asp:TextBox runat="server" ID="TxtColumn1" Text='<%# Bind("Column1") %>'></asp:TextBox>
                    <asp:RequiredFieldValidator id="RequiredFieldValidator1"
                        EnableClientScript="true"
                        ControlToValidate="TxtColumn1"
                        Display="Static"
                        ErrorMessage="HospNo,Date,SurgeryCode/Method are Mandatory" 
                        runat="server"/> 
                </ItemTemplate>
            </asp:TemplateField>
        </Columns>
   </asp:GridView> 
```

# java - 在java中一次设置属性文件中的所有属性

> ID：12928873
> 
> 赞同：2
> 
> 时间：2012-10-17T07:04:50.007
> 
> 标签：java, hadoop, workflow, oozie

我正在尝试为`oozieclient`从属性文件中读取的 java 中的属性设置属性。属性文件有 10 个奇怪的属性。有没有一种方法可以一次设置这些属性，而不必从文件中读取每个键值对然后将它们设置为`oozieclient`？

```
OozieClient wc = new OozieClient(http://something:1100/oozie);

Properties conf = wc.createConfiguration();
conf.setProperty("jobTracker",....);
conf.setProperty("nameNode",......);
.
.
. 
```

取而代之的是，有没有一种方法可以让我从属性文件中读取这些值并一次设置所有值？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-17T07:08:33.053

您可以读取另一个属性文件并合并两者：

```
OozieClient wc = new OozieClient("http://something:1100/oozie");

Properties conf = wc.createConfiguration();
Properties p = new Properties();
FileInputStream fis = new FileInputStream("myfile.properties");
p.load(fis);
conf.putAll(p);
fis.close(); // you still need to close the stream 
```

使用**myfile.properties**文件，例如：

```
jobTracker=foo
nameNode=bar 
```

查看属性的[Javadoc](http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T07:11:32.717

查看以下 API：[Oracle 文档](http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html#load%28java.io.InputStream%29)。属性上的 load() 操作可以引用 .properties FileInputSteam 或 FileInputReader ，它将所有键值对读入您的属性对象。

# c# - c#中的json反序列化

> ID：12928876
> 
> 赞同：1
> 
> 时间：2012-10-17T07:05:13.940
> 
> 标签：c#, json

我正在尝试反序列化 C# 中的 json 字符串。以下是我使用的 jsonstring 和类。但是在反序列化之后它给出了空值。那我怎么了？

```
 string jsonString = @"{'status':1,'data':[{'report_date':'2012-10-16','subid':'000ebc7d-d9fc-4822-923e-c7ac6027f5cd','revenue':'0.00','clicks':'0'},{'report_date':'2012-10-16','subid':'0013eeb2-54e3-4ef1-9fff-9bc5c146858e','revenue':'0.00','clicks':'0'},{'report_date':'2012-10-16','subid':'002c3efc-cf82-466e-a94b-994f548c27fc','revenue':'0.00','clicks':'0'},{'report_date':'2012-10-16','subid':'003bac5b-81a7-4042-8e4c-b882c4d31534','revenue':'0.00','clicks':'0'},{'report_date':'2012-10-16','subid':'00626129-c888-45c0-8401-c44f64d0e1c2','revenue':'0.00','clicks':'0'},{'report_date':'2012-10-16','subid':'007da905-e053-48e5-800a-9815d3da6a34','revenue':'0.00','clicks':'0'},{'report_date':'2012-10-16','subid':'ff8011fb-0dfd-4336-b3f3-0a915100767d','revenue':'0.00','clicks':'0'},{'report_date':'2012-10-16','subid':'ff855a9e-3f39-48fd-b27b-5eb15221acbd','revenue':'0.00','clicks':'0'}],'messages':[],'errors':[],'code':200,'time':{'click':1350456414}}";

     System.Web.Script.Serialization.JavaScriptSerializer serializer = new System.Web.Script.Serialization.JavaScriptSerializer();
     PM.AdknowledgeRevenue.Entities.RevenueList collection = serializer.Deserialize<PM.AdknowledgeRevenue.Entities.RevenueList>(jsonString); 
```

我使用的课程

```
 public class Revenue
        {
            #region private members
            string _reportDate; 
            Guid subId; 
            Decimal revenue; 
            int clicks;
            int status;

            #endregion

            #region public members
            public int Status
            {
                get { return status; }
                set { status = value; }
            }
            public string ReportDate
            {
                get { return _reportDate; }
                set { _reportDate = value; }
            }
            public Guid SubId
            {
                get { return subId; }
                set { subId = value; }
            }
            public Decimal Revenue1
            {
                get { return revenue; }
                set { revenue = value; }
            }
            public int Clicks
            {
                get { return clicks; }
                set { clicks = value; }
            }
            #endregion
     }

    public class RevenueList
   {
     public IEnumerable<Revenue> RevenueCollection { get; set; }
   } 
```

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-17T07:13:31.050

我认为`json`格式不正确。字符串应该用双引号括起来。

[您可以在此处](http://jsonformatter.curiousconcept.com/)验证您的 json 。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T07:14:41.570

下面的代码有效..

```
var result = new JavaScriptSerializer().Deserialize<Result>(jsonString);

public class Result
{
    public int status;
    public List<Item> data;
}

public class Item
{
    public string report_date;
    public string subid;
    public string revenue;
    public string clicks;
} 
```

或使用[Json.Net](http://json.codeplex.com/)

```
var result = JsonConvert.DeserializeObject<Result>(jsonString);

public class Result
{
    [JsonProperty("status")]
    public int Status;
    [JsonProperty("data")]
    public List<Item> Data;
}

public class Item
{
    [JsonProperty("report_date")]
    public string ReportDate;
    [JsonProperty("subid")]
    public string SubId;
    [JsonProperty("revenue")]
    public string Revenue;
    [JsonProperty("clicks")]
    public string Clicks;
} 
```

# java - 如何在 JSF 中发送包含密码详细信息的电子邮件

> ID：12928879
> 
> 赞同：-2
> 
> 时间：2012-10-17T07:05:25.033
> 
> 标签：java, security, email

假设用户忘记了他的密码并且他想知道他的密码。他必须为他的安全问题提供一个答案。提供正确答案后，我想向用户的电子邮件地址发送一封包含密码详细信息的电子邮件。

那么，我应该在 jsf 中进行哪些邮件配置，以便与各个用户的多个电子邮件地址进行交互？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T10:14:12.407

那么，您的真正问题是什么？

*   如何使用 JSF 发送邮件？
*   为用户提供新登录名的安全解决方案是什么？

我认为您最好开始研究一些解决方案，如[Javamail API - FAQ](http://www.oracle.com/technetwork/java/faq-135477.html)。有几种方法可以建立连接以发送邮件。

就个人而言，我不会发送包含密码的电子邮件。这只是自找麻烦。如何发送一个带有**resetpassword.xhtml?hash=xxxxxxxxxxxxxx**之类的位置的链接，以将用户重定向到可以设置新密码的表单？这个散列只需要为这个用户生成，一个随机散列就可以了。当他使用正确的用户名/电子邮件和正确的哈希提交表单时，可以提交新密码。

# debugging - 如何找出在 Ruby 中使用 at_exit 方法注册的回调？

> ID：12928882
> 
> 赞同：3
> 
> 时间：2012-10-17T07:05:33.053
> 
> 标签：debugging, rspec2, ruby-1.9, minitest

我有一个带有遗留测试/单元（minitest）测试和 RSpecs 的 Rails 3.2.8 项目。虽然我们让 Jenkins 运行持续集成，但我们已经有一段时间没有注意到失败了。原因是某些东西似乎在测试失败时覆盖退出代码并返回退出代码 0，无论是否存在失败的测试或规范。

我已经进行了一些挖掘，但想深入了解 Kernel#at_exit 堆栈以查看哪些 gem/plugins 正在注册一个 proc。我知道这是用 C 实现的语言特性。

所以，我正在寻求帮助给这只牦牛剃毛：

*   为什么我的失败测试返回退出代码 0？
*   假设某事正在向 at_exit 添加 proc/callback，我如何进入查看回调是什么？
    *   我知道它是用 C 编写的，并且查看了源代码。我没有看到任何红宝石挂钩。是否可以添加第 3 方扩展，或者是否有人知道 ruby​​ 的补丁可以在那里获得一些可见性？
    *   dtrace 能进去看看吗？

我做过的一些事情：

*   我已经找到了 gems 和已安装的库，`at_exit`但没有发现任何可疑之处。
*   在我的 Rails 应用程序中使用相同的 gemset，如果我创建一个具有单一规范的新应用程序并运行它，它会按预期工作（通过测试返回退出代码 0，失败返回 1）
*   寻找有助于提供可见性的 ruby​​ 补丁/扩展`at_exit`

我还没有做的一些事情：

*   尝试学习 DTrace（我在 Mac 上） - 我看过演示如何使用它，但我还没有尝试过。
*   从我的项目中删除每个 gem 以查看可能导致它的原因 - 它似乎确实是特定于项目的。

提前感谢您的帮助！

PS：这里是这个项目的 Gemfile 中的 gem：

```
gem 'rails', '~> 3.2.8'
gem 'acts-as-taggable-on', '~> 2.3.1'
gem "akamai_api", :path => "vendor/git/akamai_api"
gem 'dalli'
gem "gabba"
gem "googlecharts", :require => "gchart"
gem "hpricot"
gem 'jquery-rails'
gem 'linkscape'
gem "logging", "1.4.3"
gem 'machinist', '>= 2.0.0.beta2'
gem "mysql2"
gem 'newrelic_rpm'
gem "premailer-rails3"
gem 'rack-cache'
gem "rack-ssl-enforcer"
gem 'sendgrid'
gem "tokyocabinet", "1.29"
gem 'twitter-bootstrap-rails', :git => 'git://github.com/seyhunak/twitter-bootstrap-rails.git'
gem "useragent"
gem "yajl-ruby", :require => "yajl"

group :assets do
  gem 'coffee-rails'
  gem 'sass-rails'
  gem 'uglifier'
end

group :no_rake do
  gem "vanity"
end

group :development, :test do
  gem 'debugger'
  gem 'thin'
  gem 'rspec-rails'
end

group :test do
  gem 'vanity'
  gem 'minitest-rails'
  gem 'mocha'
end 
```

作为更新，我在 Gemfile 中进行了二叉树搜索（关闭一半，运行测试，关闭另一半……重复），直到测试正确失败。日志记录 gem 导致 rspec 返回非零，而 googlecharts gem 正在搞乱测试/单元。在这一点上，我不知道为什么。

我还没有深入了解库的哪些行为（或我的应用程序中的依赖代码）正在影响测试。使用 Kernel#at_exit 快速 grep 没有返回任何内容，并且快速浏览每个源的源代码也没有发现任何内容。我会继续挖掘，但这就是我到目前为止所发现的。

我还没有提交错误报告，因为我还不知道问题是什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T12:58:29.550

你必须爱红宝石:)

```
alias original_at_exit at_exit
def at_exit(*args, &block)
  puts "registered at exit: #{caller * "\n"}"
  original_at_exit *args, &block
end 
```

# jsp - HTTP 状态 404：servlet 配置？

> ID：12928883
> 
> 赞同：0
> 
> 时间：2012-10-17T07:05:35.080
> 
> 标签：jsp, servlets, web.xml

我做了一个 webapp，我想知道我的文件夹的配置以及 web.xml 文件。webapp 使用 MVC 架构，但我在 apache tomcat 上运行它并没有多大成功。我不知道问题是我构建文件夹的方式，我的 web.xml 文件中缺少某些内容，还是我在我的 jsp 文件中引用它的方式。

举个例子：我在我的jsp文件中引用它的方式是

```
<form id="loginform" action="/servlet/ControllerServlet" method="post">
<input type="button" onclick="<% response.sendRedirect("/servlet/ControllerServlet?action=register");%>"></input>
<a href="servlet/ControllerServlet?action=upload" id="upload"><span>Upload a profile photo</span></a> 
```

我的文件夹结构是：

新应用程序（目录）{

新应用程序/图像（目录）

新应用程序/临时（目录）

newApp/（所有 .jsp 文件）

newApp/WEB-INF(目录){

WEB-INF/web.xml

WEB-INF/lib(目录){

lib/org.apache.commons.jar

WEB-INF/类（目录）{

类/（所有类，包括控制器 servlet）

我的 web-inf 文件如下所示：

```
<web-app xmlns="http://java.sun.com/xml/ns/j2ee"
xmlns:xsi="http://www.w3.org/2001/XMLSchemainstance"
xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee
http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"
version="2.4">
<display-name>AssignmentForum</display-name>
    <servlet>
        <description>
        </description>
        <display-name>ControllerServlet</display-name>
        <servlet-name>ControllerServlet</servlet-name>
        <servlet-class>itc357.ControllerServlet</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>ControllerServlet</servlet-name>
        <url-pattern>/ControllerServlet</url-pattern>
    </servlet-mapping>

    <welcome-file-list>
        <welcome-file>index.html</welcome-file>
        <welcome-file>index.htm</welcome-file>
        <welcome-file>index.jsp</welcome-file>
        <welcome-file>default.html</welcome-file>
        <welcome-file>default.htm</welcome-file>
        <welcome-file>default.jsp</welcome-file>
    </welcome-file-list>

<context-param> 
    <description>Location to store uploaded file</description> 
    <param-name>file-upload</param-name> 
    <param-value>
         c:\apache-tomcat-5.5.29\webapps\data\
     </param-value> 
</context-param>
</web-app> 
```

当我尝试访问 jsp 页面时，tomcat 给我的消息是

类型状态报告

消息 /servlet/ControllerServlet

描述 请求的资源 (/servlet/ControllerServlet) 不可用。

为你们能给予的任何帮助欢呼，邦迪

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T09:18:11.537

你的代码应该是这样的

```
<script language="javascript">
 function submitForm() {
       document.getElementById("loginForm").submit();
 }
</script>

<form id="loginform" action="/servlet/ControllerServlet" method="post"> 
  <input type="button" onclick="submitForm();"></input> 
          <a href="servlet/ControllerServlet?action=upload" id="upload">
              <span>Upload a profile photo</span>
          </a>
</form> 
```

# java - Android 变量应用程序

> ID：12928885
> 
> 赞同：0
> 
> 时间：2012-10-17T07:05:38.680
> 
> 标签：java, android, variables

这是我的代码的一部分。

```
public void onCreate(Bundle savedInstanceState) {  
    super.onCreate(savedInstanceState);  
    setContentView(R.layout.main);  
    IntentFilter intent = new IntentFilter();
    intent.addAction(BluetoothDevice.ACTION_ACL_CONNECTED);

    registerReceiver(searchDevices, intent);  

    private BroadcastReceiver searchDevices = new BroadcastReceiver() {  
        public void onReceive(Context context, Intent intent) {
            String a="1";
        }
    }

    class ClickEvent implements View.OnClickListener {  
        public void onClick(View v) {
           // here , how to get Variables in a , I can't direct use of a
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T07:07:19.617

声明为`final String a="1";`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T07:08:46.070

`String a="1"`; 改变

```
public final String a="1"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T07:09:01.610

定义一个类成员，然后所有内部类，即监听器都可以访问它。

在顶层定义

```
 private String a; 
```

然后在其他类中就像任何其他成员变量一样使用，即

```
 a="1"; 
```

# jasper-reports - Jasper 报告 +ZK 异常？

> ID：12928887
> 
> 赞同：0
> 
> 时间：2012-10-17T07:05:47.540
> 
> 标签：jasper-reports, zk

我正在将 JasperReport(jasperreports-4.5.0.jar) 与 Zk Framework(6.0.2) 一起使用，当我尝试在模型窗口中显示 Jasper 报告时，我遇到了异常。

> > HTTP 状态 410 - 无法加载 /view/z_ghu/t_257/bbi/0/core/report/Report.pdf 原因：net.sf.jasperreports.engine.JRException：从 InputStream 加载对象时出错
> 
> 类型状态报告
> 
> 消息无法加载 /view/z_ghu/t_257/bbi/0/core/report/Report.pdf 原因：net.sf.jasperreports.engine.JRException：从 InputStream 描述加载对象时出错 请求的资源（无法加载 /view/ z_ghu/t_257/bbi/0/core/report/Report.pdf 原因：net.sf.jasperreports.engine.JRException：从 InputStream 加载对象时出错）不再可用，并且不知道转发地址。
> 
> Apache Tomcat/6.0.35

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T06:12:14.373

我在我正在使用的构建路径中发现了这个问题

> itext-2.1.4.jar

这就是我更新的上述异常的原因

> itext-2.1.7.jar

[我的代码运行良好。我在此处](http://zkframeworkhint.blogspot.in/2012/10/integrate-zk-with-jasper-report.html)添加了一个带有异常的示例代码

# ruby-on-rails - 无法将方法推送到rabbitmq队列

> ID：12928890
> 
> 赞同：2
> 
> 时间：2012-10-17T07:06:07.480
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3.1, rabbitmq, amqp

我正在研究rabbitmq并尝试将方法从我的ruby on rails应用程序推送到队列，并且我正在运行服务器端ruby脚本来读取队列并执行在有效负载中发送的方法。这是我的客户端代码。

```
module Rabbitesh
  require 'amqp'
  #debugger
  def self.call_rabbits(payload,queue_name)
    AMQP.start(:host => "localhost") do |connection|
      channel = AMQP::Channel.new(connection)
      queue = channel.queue(queue_name)
      channel.default_exchange.publish(payload, :routing_key => queue.name)
      #EM.add_timer(0.01) do
        connection.close do

        #end
      end
    end
  end

end 
```

这就是我现在调用的 Rabbitmq 函数

```
Rabbitesh::call_rabbits(obj,"welcome_mail") 
```

其中“welcome_mail”是 queue_name

这是服务器端脚本

```
require 'rubygems'
require 'amqp'
require 'daemons'

options = { :backtrace => true, :dir => '.', :log_output => true}

Daemons.run_proc('raabbitmq_daemon',options) do
  AMQP.start(:host => "localhost") do |connection|
    channel = AMQP::Channel.new(connection)
    queue = channel.queue("welcome_mail")

    Signal.trap("INT") do
      connection.close do
        EM.stop { exit }
      end
    end

    puts " [*] Waiting for messages. To exit press CTRL+C"

    queue.subscribe do |body|
      UserMailers.welcome_organic(body).deliver
    end
  end
end 
```

问题是当我的 rails 应用程序调用 rabbitmq 函数时，控制台会停在那里说“更新客户端属性”，虽然我将运行我的服务器端 ruby​​ 脚本，但它不会读取队列并执行该过程。我无法理解代码有什么问题，请帮助我。

# php - 在 codeigniter 控制器中使用语言键

> ID：12928891
> 
> 赞同：0
> 
> 时间：2012-10-17T07:06:23.780
> 
> 标签：php, codeigniter

我在 Codeigniter 框架中构建了一个应用程序。它具有多语言的功能。它可以正常工作以转换每一行。**但是对于从控制器设置的警报消息，我尝试使用语言键但未能以多语言显示消息。**

这是消息中的控制器代码已设置为在视图中显示：-

控制器设置消息的功能：

```
function serial_coupon()
    {
     $admin_session_data= $this->session->userdata('user_logged_in');
     $key=$this->input->post('serial');
     $res=explode("000",$key);
     $key=$res[1];
     $result['coupon']=$this->provider_model->get_coupon($key);
          if(empty($result['coupon']))
           {
                       $msg=$this->lang->line('language_srch_msg');
               $this -> session -> set_flashdata('message',$msg);//if no search found than set the message.
               redirect('/provider/');//provider is controller
           }
           else
           {

               $this->load->view('header',$admin_session_data);
               $this->load->view('show_coupon',$result);
               $this->load->view('footer',$admin_session_data);
           }
    } 
```

因此，提供者控制器的索引函数在视图上发送消息：-

```
function index()
        {
            $msg=$this->session->flashdata('message');//get the message 
            $result['msg']=$msg;and set to the array to send in view

                $result['rows']=$this->session->userdata('provider_detail');
        $user_id=$result['rows'][0]['id'];
            $result['coupons']=$this->provider_model->show_coupons($user_id);
            $this->load->view('header');
            $this->load->view('provider_interface',$result);
        $this->load->view('footer');

    } 
```

所以消息应该显示在视图中：

```
<p><?php echo $msg; ?></p> 
```

以及我使用语言键的其他行，例如：对于名称：

```
<?php echo $this->lang->line('language_name');?>

Now please Let me know how can i use the above language key for message in controller?? 
```

提前致谢，如有任何疑问，请随时提问。

简短描述：问题不在于显示 falshdata 消息。我希望消息应该是用户选择的特定语言。我的应用程序采用多语言，用户可以从下拉框中选择语言。以及整个转换为所选语言的内容。但是警报消息来自控制器，那么我如何将它们转换为所选语言？

我更改了函数 search_coupon 中的代码，但它仅适用于英语而不适用于葡萄牙语。这是我的提供程序控制器的构造函数代码：

```
public function __construct()
        {
            parent::__construct();
            $this->load->helper('url');
            $this->load->helper('form');
            $this->load->library('session');
            $this->load->model('provider_model');

            $lng=$this->session->userdata('about_language');

                 if($lng=='' ) 
                 {

                $this->load->language('language','english');

                 }
                 else
                 {

                $this->load->language('language',$lng);

                 }

            if($this->session->userdata('provider')=="")
            {
              redirect('/login/', 'refresh');   
            }

        } 
```

选择使用ajax的语言的代码：

```
<script type="text/javascript">
         jQuery(document).ready(function() {
          jQuery('#port').click(function(){
                                    var dummy = 2;
                                    $.ajax({
                                            type: "POST",
                                            url: "<?php echo BASE_PATH; ?>/session/sessions",
                                        data: "&ID="+dummy+ "&lang="+'portuguese',
                                            success: function(response)
                                                {

                                                    if (response == false)
                                                        {   
                                                            location.reload();

                                                        }  
                                                }
                                           });

                                   });

            jQuery('#eng').click(function(){
                                        var dummy = 1;
                                        $.ajax({
                                                    type: "POST",
                                                    url: "<?php echo BASE_PATH; ?>/session/sessions",
                                                 data: "&ID="+dummy+ "&lang="+'english',
                                                    success: function(response)
                                                        {

                                                            if (response == false)
                                                                {
                                                                    location.reload();
                                                                }
                                                        }
                                                });

                                         });
         });
          </script> 
```

这是会话控制器：

```
function sessions(){

         $value=  $this->input->post('ID');
         $lang=  $this->input->post('lang');

         $lang=$this->session->set_userdata('about_language',$lang);
         return $lang;
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T08:33:32.193

一种可能不是最好的解决方案是将消息密钥而不是消息存储在 flash var 中。此时您正在存储：

```
$this -> session -> set_flashdata('message','No Search Found Of This Serial Number');//if no search found than set the message. 
```

然后你正在加载消息：

```
$msg=$this->session->flashdata('message');//get the message 
$result['msg']=$msg; 
```

并在视图中显示：

```
<p><?php echo $msg; ?></p> 
```

我向您提出了这个解决方案：

```
$this -> session -> set_flashdata('message','message_key');//if no search found than set the message. 
```

* * *

```
$msg_key = $this->session->flashdata('message');//get the message key
$result['msg_key'] = $msg_key; 
```

在视图中：

```
<p><?php echo $this->lang->line('msg_key'); ?></p> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T08:26:27.813

好的，然后这样做：每次更改语言时，将其设置为会话。根据您的语言会话值加载您的语言文件。然后你将把所有的信息都变成你改变的语言。

```
$this->lang->load('filename', $this->session->userdata('user_lang')); 
```

# vb.net - 堆叠的 DataGridView 标题 - VB.NET

> ID：12928893
> 
> 赞同：1
> 
> 时间：2012-10-17T07:06:24.440
> 
> 标签：vb.net, datagridview, header, c#-to-vb.net

我需要将列标题堆叠起来，例如合并标题单元格。与此图像中的相同。

![图片](../Images/0e0a160fa9e0d4fbc23126b59f97f2b3.png)

请参考此链接。它是用 C# 完成的。它正是我需要的。 [http://www.codeproject.com/Articles/474418/DataGridViewplus-e2-80-93plusStackedplusHeader](http://www.codeproject.com/Articles/474418/DataGridViewplus-e2-80-93plusStackedplusHeader)

但问题是，我正在研究 vbproj，它不能包含这个 C#。我使用了一些代码转换器，并在引发事件等时出现了一些错误。

有没有办法在 VB.NET 中得到这个

或者有没有其他方法可以制作这个堆叠的标题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-04T02:21:51.863

这并不能直接回答您关于转换的问题，但最简单的解决方案是将 C# 中的代码保留为单独的项目，然后将其作为项目引用添加到您的 VB.NET 项目中。

# c - c中char数组的分段错误

> ID：12928894
> 
> 赞同：0
> 
> 时间：2012-10-17T07:06:28.147
> 
> 标签：c, segmentation-fault, runtime-error

请告诉我为什么这段代码给我分段错误？
我想将命令拆分为令牌，但我不知道为什么它会给我分段错误！

```
char command[500]="asdadas asdasdas asdadas";   
int i,j,k;
char tokens[4][200];

for(i=0,j=0,k=0;  i<strlen(command);  i++)
{
    if(command[i]==' ') 
    {
        tokens[j][k]='\0';
        k=0;
        j++;
        continue;
    }

    tokens[j][k]=command[i];
    k++;
}
tokens[j][k]='\0'; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T07:16:31.903

`command`未初始化。这意味着`strlen(command)`调用可能会超过 500 字节，从而导致分段错误。

在使用它之前初始化你的`command`数组。例如与`memset`.

除此之外，没有任何边界检查和一些任意数组长度。这注定会失败。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T07:22:21.133

你有问题`tokens`。您正在递增`j`，并且`k`在每次迭代中都没有任何检查。

无论如何，你知道已经存在可以做你想做的事情的功能吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-17T08:01:39.170

要将更多添加到其他人的答案中，您可以使用 strsep。看下面的示例代码：

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main ()
{
char * command=NULL, *tok=NULL;

command =strdup("asdadas asdasdas asdadas");
while ((tok = strsep(&command, " ")) != NULL )
{
  printf ("..%s..\n", tok);
} 
```

希望能帮助到你。;)

# java - 项目“PrjName”缺少必需的库：“libs/android-viewbadger.jar”PrjName

> ID：12928896
> 
> 赞同：2
> 
> 时间：2012-10-17T07:06:38.413
> 
> 标签：java, android

> **可能重复：**
> [项目 'PrjName' 缺少所需的库：'E:/arul/Android/libs/android-viewbadger.jar' PrjName](https://stackoverflow.com/questions/12928623/project-prjname-is-missing-required-library-e-arul-android-libs-android-vie)

在 Android 项目中出现错误，因为项目`PrjName`缺少必需的库：`/libs/android-viewbadger.jar` `PrjName`

我们需要下载`android-viewbadger.jar`吗？还是包含在里面`android-sdk`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T07:12:12.153

由于项目页面说，

```
Author: Jeff Gilfelt

The code in this project is licensed under the Apache Software License 2.0\. 
Copyright (c) 2011 readyState Software Ltd. 
```

我不认为它在 Android sdk 中。这是[链接](https://github.com/jgilfelt/android-viewbadger)

# c# - 如何在 .net C# 中使用 ldap

> ID：12928900
> 
> 赞同：0
> 
> 时间：2012-10-17T07:06:47.633
> 
> 标签：c#, email, ldap

我有一个可以发送电子邮件的应用程序。现在被要求在电子邮件的字段中使用 ldap。我对这个概念非常陌生。我得到了一个 ldap 链接。不知道如何继续。任何文章或点击都会有很大帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T07:20:25.637

如果您使用 .NET 3.5 及更高版本并使用 Microsoft 的**Active Directory**作为您的 LDAP 存储，您应该检查`System.DirectoryServices.AccountManagement`(S.DS.AM) 命名空间。在这里阅读所有相关信息：

*   [在 .NET Framework 3.5 中管理目录安全主体](http://msdn.microsoft.com/en-us/magazine/cc135979.aspx)
*   [System.DirectoryServices.AccountManagement 上的 MSDN 文档](http://msdn.microsoft.com/en-us/library/system.directoryservices.accountmanagement.aspx)

基本上，您可以定义域上下文并在 AD 中轻松找到用户和/或组：

```
// set up domain context
PrincipalContext ctx = new PrincipalContext(ContextType.Domain);

// find a user
UserPrincipal user = UserPrincipal.FindByIdentity(ctx, "SomeUserName");

if(user != null)
{
   // do something here, e.g. get the user's e-mail address(es)
} 
```

新的 S.DS.AM 使得在 AD 中与用户和组一起玩变得非常容易！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T07:11:24.753

我使用的大部分功能都在 System.DirectoryServices 中。

查看此链接以获取更多信息： http: [//lozanotek.com/blog/articles/149.aspx](http://lozanotek.com/blog/articles/149.aspx)

LDAP 链接基本上是对目录服务器（例如 Active Directory）的引用，例如，如果您有用户名，它将为您提供电子邮件地址。我会先阅读上面的文章，然后用一个小测试程序进行试验

# reporting-services - 为什么 SSRS 2005 PDF 输出 UI 不同

> ID：12928902
> 
> 赞同：0
> 
> 时间：2012-10-17T07:06:58.607
> 
> 标签：reporting-services, reportingservices-2005

我使用 SSRS 2005 (BIDS) 创建了报告（大约 30 个报告），其中包括一些图表和表格，此报告的渲染输出是 PDF，我已将其部署在我的本地机器服务器以及其他一些 SSRS 服务器（客户端端服务器），问题是当我在客户端 ssrs 服务器中获取输出 pdf 文件时，它显示了一些 UI 问题，如对齐、字体、页面制动、图例切断等......但在我的本地环境中它工作正常（两者本地部署和投标）以及我们使用 SSRS 2005 的所有地方，

# php - 数组操作 - PHP

> ID：12928904
> 
> 赞同：1
> 
> 时间：2012-10-17T07:07:02.407
> 
> 标签：php, arrays

```
$region_array = array( 

                                1 => 'Region 01', 
                                2 => 'Region 02',
                                3 => 'Region 03'
        ); 
```

我正在尝试的是

`array_slice($region_array, $index);`&`array_splice($region_array, $index);`两者都没有给我所需的输出。

所需的输出是

1.  如果传递 2 作为索引，则应该只留下第一个两个元素。如果我通过 3 第一个三个元素应该留下。我该怎么做？

2.  然后无论输出数组是什么，我都想添加 0 => 'Select Region' 作为输出数组的第一个选项。我试过了`array_push`。它将元素添加到数组的末尾。我该如何解决？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-17T07:11:28.257

要首先回答第 2 点，请使用`array_unshift`-> [http://us3.php.net/manual/en/function.array-unshift.php](http://us3.php.net/manual/en/function.array-unshift.php)

要第 1 点，请使用`array_slice($region_array, 0, $index);`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-17T07:29:31.350

```
`<?php 
    $region_array = array( 
        1 => 'Region 01', 
        2 => 'Region 02',
        3 => 'Region 03'
    );
    $array = array_slice($region_array, 0, 2);
    array_unshift($array, 'Select Region');
    echo '<pre>';
    print_r($array);
 ?>` 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-17T07:09:47.260

```
$array = array_slice($region_array, 0, $index)
array_unshift($array, 'Select Region'); 
```

阅读[array_slice](http://php.net/array_slice)和[array_unshift的文档](http://php.net/array_unshift)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-17T07:35:30.180

由于您的数组索引大于零，您也可以使用这个单线：

```
$result = array('Select region') + array_slice($region_array, 0, $index, true); 
```

该`+`运算符处理数组并连接第二个数组（仅键不与第一个相交的项）。

# sql - 如何更新两个连接表？

> ID：12928909
> 
> 赞同：1
> 
> 时间：2012-10-17T07:07:20.503
> 
> 标签：sql, sql-server, stored-procedures

我打算在 SqlServer 中编写一个可以更新连接表的过程，在我的情况下，我有两个表（HowzeEducation 和 HowzeDegree），所以我编写了以下查询，但它有错误并且无法正常工作。这是我的代码：

```
declare 
@HowzeEducationId int,
@DegreeId int,
@FieldName nvarchar(50),
@FinishLevelDate date,
@Average decimal(4,2),
@SchoolName nvarchar(50),
@StudyCityDescribtion nvarchar(100),
@ThesisTitle nvarchar(200),
@Describtion nvarchar(600)

update (
  select he.FieldName,
     he.Average,
     he.Describtion,
     he.FinishLevelDate,
     he.SchoolName,
     he.StudyCityDescribtion,
     he.ThesisTitle,
     hd.DegreeId
from HowzeEducation he inner join HowzeDegree hd on 
     he.HowzeEducationId=hd.HowzeEducationId
   )
 set he.FieldName=@FieldName ,
he.Average=@Average,
he.Describtion=@Describtion,
he.FinishLevelDate=@FinishLevelDate,
he.SchoolName=@SchoolName,
he.StudyCityDescribtion=@StudyCityDescribtion,
he.ThesisTitle=@ThesisTitle,
hd.DegreeId=@DegreeId

where he.HowzeEducationId=@HowzeEducationId 
```

如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T07:13:29.237

您不能使用一个更新语句更新两个表，您必须使用两个更新，如下所示：

```
declare 
@HowzeEducationId int,
@DegreeId int,
@FieldName nvarchar(50),
@FinishLevelDate date,
@Average decimal(4,2),
@SchoolName nvarchar(50),
@StudyCityDescribtion nvarchar(100),
@ThesisTitle nvarchar(200),
@Describtion nvarchar(600)

update HowzeEducation 
set Average=@Average,
    Describtion=@Describtion,
    FinishLevelDate=@FinishLevelDate,
    SchoolName=@SchoolName,
    StudyCityDescribtion=@StudyCityDescribtion,
    ThesisTitle=@ThesisTitle,
    FieldName=@FieldName
where HowzeEducationId=@HowzeEducationId

update HowzeDegree
set   DegreeId=@DegreeId
where HowzeEducationId=@HowzeEducationId 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T07:18:19.137

您可以通过视图修改多个表，尝试类似：

```
create view HowzeView as
select he.FieldName,
     he.Average,
     he.Describtion,
     he.FinishLevelDate,
     he.SchoolName,
     he.StudyCityDescribtion,
     he.ThesisTitle,
     hd.DegreeId
from HowzeEducation he inner join HowzeDegree hd on 
     he.HowzeEducationId=hd.HowzeEducationId

update HowzeView
set FieldName=@FieldName,
Average=@Average,
Describtion=@Describtion,
FinishLevelDate=@FinishLevelDate,
SchoolName=@SchoolName,
StudyCityDescribtion=@StudyCityDescribtion,
ThesisTitle=@ThesisTitle,
DegreeId=@DegreeId 
```

# javascript - 使用js时在ajaxtoolkit tabcontainer的选项卡中找不到html元素

> ID：12928915
> 
> 赞同：0
> 
> 时间：2012-10-17T07:07:43.830
> 
> 标签：javascript, html, canvas, tabcontainer

我正在使用 Asp.net 4 C# 2010。我有两个使用 ajaxtoolkit tabcontainer 的选项卡，我想使用 javascript 来处理里面的元素。

```
<asp:ScriptManager ID="ScriptManager1" runat="server">
</asp:ScriptManager>

<ajaxToolkit:TabContainer runat="server" ScrollBars="Auto" ActiveTabIndex="0"        
    OnDemand="true" AutoPostBack="false" TabStripPlacement="Top"
    CssClass="ajax__tab_xp" VerticalStripWidth="120px" ID="TabContainer">

        <ajaxToolkit:TabPanel ID="canvas1Tab" runat="server" Enabled="true"
    ScrollBars="Auto" OnDemandMode="Once">
     <ContentTemplate>

   <canvas id="canvas1" width="300" height="300" />
    Your browser doesn't support html 5 or Canvas. Please upgrade to the lasted 
             </canvas>

    </ContentTemplate>
</ajaxToolkit:TabPanel>

        <ajaxToolkit:TabPanel ID="canvas2Tab" runat="server" Enabled="true"
    ScrollBars="Auto" OnDemandMode="Once">
     <ContentTemplate>

   <canvas id="canvas2" width="300" height="300" />
    Your browser doesn't support html 5 or Canvas. Please upgrade to the lasted 
             </canvas>

    </ContentTemplate>
</ajaxToolkit:TabPanel>
</ajaxToolkit:TabContainer> 
```

现在我想使用 javaScript 在选项卡内的画布上绘制一些东西。页面加载时，第一个选项卡是已选择的选项卡。

我尝试在 $(document).ready 上处理这两个画布。

每当使用 JavaScript 命令`document.getElementById`时，都会找到第一个画布（选择了选项卡的画布），但另一个画布（canvas2）出现错误。

只是为了记录，我已经使用 asp-control 检查了这个东西（虽然它不是我需要的）。我尝试将 asp:TextBox 添加到第二个选项卡，然后使用`document.getElementById("<%=TextBox1.ClientID%>")`，但它给了我

> 未捕获的 ReferenceError：未定义 MainContent_TabContainer_canvas2Tab_TextBox1

我希望我说清楚了。

我能做些什么来完成这项工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T08:08:20.720

我想我找到了一次加载所有标签的方法。ajaxToolkit:TabContainer 有一个属性 OnDemand。

```
OnDemand - Whether to render/load tabs onDemand or all at page load 
```

如果将 OnDemand 设置为 true，则可以向每个选项卡添加属性 OnDemandMode

```
OnDemandMode - When container's onDemand is true then whether to load tab - Always, Once, None 
```

关键是设置

> OnDemand=false 这使得所有选项卡一次加载，而不是通过单击它们

# datepicker - 如何设置 bootstrap-datepicker-rails？

> ID：12928918
> 
> 赞同：11
> 
> 时间：2012-10-17T07:07:46.883
> 
> 标签：datepicker, ruby-on-rails-3.2, jquery-ui-datepicker, twitter-bootstrap-rails

有人知道如何设置 gem bootstrap-datepicker-rails 吗？我遵循了[http://rubydoc.info/gems/bootstrap-datepicker-rails/0.6.21/frames](http://rubydoc.info/gems/bootstrap-datepicker-rails/0.6.21/frames)中的步骤，基本上：

1.  我设置`twitter-bootstrap-rails`宝石
2.  我将此添加到 gemfile`gem 'bootstrap-datepicker-rails', '>= 0.6.21'`
3.  将此行添加到 app/assets/stylesheets/application.css

    ```
    *= require bootstrap-datepicker 
    ```

4.  将此行添加到 app/assets/javascripts/application.js

    ```
    //= require bootstrap-datepicker 
    ```

5.  将此行添加到 app/assets/javascripts/controllername.js.coffee

    ```
    $('.datepicker').datepicker() 
    ```

6.  最后在视图中使用:)

    ```
    <input type="text" data-behaviour='datepicker' > 
    ```

但它不起作用！有人让它工作吗？它应该工作得很好，如下所示：http:
[//jsfiddle.net/2Gg5k/43/](http://jsfiddle.net/2Gg5k/43/)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-07-16T05:13:38.783

查看第 5 步和第 6 步，您`.datepicker`在 javascript 中的选择类，但不是`input field`

尝试这个

关于视图（例如表单）

```
<%= f.text_field :mydate, 'data-behaviour' => 'datepicker' %>

<script type="text/javascript">
  $('[data-behaviour~=datepicker]').datepicker();
</script> 
```

或作为组件：

```
<div class="input-append date datepicker" data-date="12-02-2012" data-date-format="dd-mm-yyyy">
    <%= f.text_field :mydate, 'data-behaviour' => 'datepicker', :disabled => 'disable' %><span class="add-on"><i class="icon-th"></i></span>
</div>

<script type="text/javascript">
  $('.datepicker').datepicker();
</script> 
```

`date`如果属性使用类型，则首先是示例。如果属性使用类型，则可以使用[bootstrap-datetimepicker-rails](https://github.com/lubieniebieski/bootstrap-datetimepicker-rails) gem`datetime`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-28T12:58:28.110

```
In the view, try this:
<div class="field">
  <%= f.label 'Trade Date: ' %>
  <%= f.text_field :trade_date, 'data-behaviour' => 'datepicker' %><br />
</div>  
In your application.js, use:
$(document).on("focus", "[data-behaviour~='datepicker']", function(e){
    $(this).datepicker({"format": "yyyy-mm-dd", "weekStart": 1, "autoclose": true})
});
instead of 
$('.datepicker').datepicker() 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-05T17:59:07.813

我做了同样的事情，但我更改了代码：

> $('.datapicker').datapicker()

通过此代码：

> $('[数据行为~=datepicker]').datepicker()

我尝试使用“datapicker”类但未找到。

这是我的示例，我使用 HAML 和咖啡脚本

events.js.coffe

> $->
> 
> $('[数据行为~=datepicker]').datepicker()

_form.haml

> = simple_form_for @event, :html => {:class => "form-horizo​​ntal well"} 做 |f|
> 
> .field（也一样）
> 
> ```
> = f.input :date, :input_html => { "data-behaviour" => "datepicker" } 
> ```
> 
> .form-动作
> 
> ```
> = f.button :submit, 'Create Event' ,:class => 'btn btn-success btn-large' 
> ```

# c++ - 在 C++ 中包含两次头文件

> ID：12928919
> 
> 赞同：17
> 
> 时间：2012-10-17T07:07:48.007
> 
> 标签：c++, header-files

如果我`iostream`在我的文件中包含两次或任何其他头文件会怎样？我知道编译器不会抛出错误。

代码会被添加两次还是内部会发生什么？

当我们包含头文件时实际发生了什么？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-10-17T07:09:12.997

[包含保护](http://en.wikipedia.org/wiki/Include_guard)防止文件的内容被编译器实际看到两次。

包含保护基本上是一组预处理器的条件指令，位于头文件的开头和结尾：

```
#ifndef SOME_STRING_H
#define SOME_STRING_H

//...

#endif 
```

`SOME_STRING_H`现在，如果您两次包含该文件，则未定义第一次循环宏，因此编译器会处理和查看文件的内容。`#ifdef`但是，由于定义了is之后的第一件事`#define`，`SOME_STRING_H`并且下一轮编译器看不到头文件的内容。

为了避免冲突，包含保护中使用的宏的名称取决于头文件的名称。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-17T07:11:23.253

头文件是简单的野兽。当您`#include <header>`发生的所有事情时，`header`基本上都是将内容复制粘贴到文件中。为了阻止头被多次包含，`include guards`使用了，这就是为什么在大多数头文件中你会看到类似于

```
#ifndef SOME_HEADER_FILE_GUARD 
#define SOME_HEADER_FILE_GUARD

//Contents of Header

#endif 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-17T07:10:14.513

由于以下几行的预处理器代码，它只是被跳过了：

```
#ifndef MY_HEADER_H
#define MY_HEADER_H

<actual header code here>

#endif 
```

因此，如果您包含两次，则 then`MY_HEADER_H`已经定义，并且预处理器会跳过`#ifndef`and之间的所有内容。`#endif`

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-17T08:51:58.863

这取决于。除了 之外`<assert>`，该标准要求标准标头的第二个（和更高版本）包含为无操作。然而，这是标题的一个特征；每次遇到包含时，编译器都会（至少在概念上）读取并包含所有标题文本。

在这种情况下避免多重定义的标准做法是使用包含保护：标头中的所有 C++ 代码都将包含在如下内容中：

```
#ifndef SPECIAL_NAME
#define SPECIAL_NAME
//  All of the C++ code here
#endif SPECIAL_NAME 
```

显然，每个标题都需要不同的名称。在应用程序中，您通常可以根据文件名和位置建立约定；之类`subsystem_filename`的，在 C++ 符号中使用不合法的字符（如果您在文件名中使用它们）映射（并且通常所有内容都大写）。对于图书馆来说，最好的做法是生成一个相当长的随机字符序列；更频繁（尽管从实现质量的角度来看肯定较差）是确保每个这样的符号都以记录的前缀开头。

当然，系统库可以在此处使用保留符号（例如，以下划线后跟大写字母的符号），以保证没有冲突。或者它可以使用一些完全不同的、依赖于实现的技术。例如，微软使用编译器扩展`#pragma once`；g++ 使用包含始终以开头的守卫`_GLIBCXX`（这不是用户代码中的合法符号）。这些选项不一定对您可用。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-09-19T06:13:07.820

包含头文件时，其所有内容都会复制到放置“#include”指令的行。这是由预处理器完成的，是编译过程中的一个步骤。

对于存储在本地目录中的标准文件（如 iostream）或用户制作的“.h”文件，此过程是相同的。但是，语法略有不同。

我们`#include <filename>`用于存储在库中的“iostream”之类的文件。而对于本地目录中的头文件，我们使用`#include "filename.h"`.

**现在，如果我们包含两次头文件会怎样：**

理想情况下，内容应该被复制两次。但...

1.  许多头文件使用提到的现代做法，`#pragma once`它指示预处理器只复制一次内容，无论头文件包含多少次。

2.  一些非常古老的代码使用了一个名为“include gaurds”的概念。我不会解释它，因为其他答案做得很好。

使用`pragma once`是一种简单且现代的方法，但是，包含防护以前使用过很多，并且是解决此问题的相对复杂的方法。

# java - 从 Java 运行时无法使用文档 javascript 对象

> ID：12928921
> 
> 赞同：0
> 
> 时间：2012-10-17T07:08:00.853
> 
> 标签：java, javascript

我有以下从 java 运行的 javascript 代码：

```
var doc = document.implementation.createDocument('http://www.w3.org/1999/xhtml', 'html',  null);
doc.documentElement.innerHTML = xmlResponse; 
```

我收到以下错误：

```
Caused by: sun.org.mozilla.javascript.internal.EcmaError: ReferenceError: "document" is not defined. (<Unknown source>#13)
    at sun.org.mozilla.javascript.internal.ScriptRuntime.constructError(ScriptRuntime.java:3773)
    at sun.org.mozilla.javascript.internal.ScriptRuntime.constructError(ScriptRuntime.java:3751)
    at sun.org.mozilla.javascript.internal.ScriptRuntime.notFoundError(ScriptRuntime.java:3836)
    at sun.org.mozilla.javascript.internal.ScriptRuntime.name(ScriptRuntime.java:1762)
    at sun.org.mozilla.javascript.internal.Interpreter.interpretLoop(Interpreter.java:1790)
    at sun.org.mozilla.javascript.internal.Interpreter.interpret(Interpreter.java:854)
    at sun.org.mozilla.javascript.internal.InterpretedFunction.call(InterpretedFunction.java:164)
    at sun.org.mozilla.javascript.internal.ContextFactory.doTopCall(ContextFactory.java:429)
    at com.sun.script.javascript.RhinoScriptEngine$1.superDoTopCall(RhinoScriptEngine.java:116)
    at com.sun.script.javascript.RhinoScriptEngine$1.doTopCall(RhinoScriptEngine.java:109)
    at sun.org.mozilla.javascript.internal.ScriptRuntime.doTopCall(ScriptRuntime.java:3163)
    at sun.org.mozilla.javascript.internal.InterpretedFunction.exec(InterpretedFunction.java:175)
    at sun.org.mozilla.javascript.internal.Context.evaluateReader(Context.java:1159)
    at com.sun.script.javascript.RhinoScriptEngine.eval(RhinoScriptEngine.java:210)
    ... 16 more 
```

你知道如何解决它吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T07:12:57.343

根据[文档](http://www.w3schools.com/jsref/obj_window.asp)：

> window 对象表示浏览器中打开的窗口。

由于您没有在浏览器中执行脚本，因此未定义 window 对象。

您可以使用 URL/URLConnecion 类读取 URL，并将其提供给 ScriptEngine。[这里有一个教程](http://download.oracle.com/javase/tutorial/networking/urls/readingWriting.html)。

# knockout.js - KnockoutJS - 向服务器提交表单

> ID：12928923
> 
> 赞同：1
> 
> 时间：2012-10-17T07:08:04.363
> 
> 标签：knockout.js

如果我使用 Knockout 呈现一个表单，该表单将接受需要回发到服务器的客户输入数据，那么推荐的方法是什么。

我是否采用将表单提交到服务器的传统路线？如果我这样做，我必须为所有表单元素赋予唯一的名称。我如何在淘汰赛中做到这一点？

或者我是否通过 Ajax 调用将视图模型发送回服务器，如果成功则使用 window.location.replace(...) 进行重定向。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T14:13:51.967

无论哪种方式都可以，这取决于您的需求。

在许多情况下，将表单提交到服务器效果很好，因为它很简单。

如果你想做一些预处理，执行 AJAX 调用可能是要采取的路线。

要回答你中间的子问题 - 如何`name`使用 Knockout 设置属性 - 使用`attr`数据绑定，如：

```
<input data-bind="value: firstname, attr: { name: 'firstName' }" /> 
```

# c# - 添加 NUnit 2.6.1 参考 Visual Studio 2012

> ID：12928924
> 
> 赞同：4
> 
> 时间：2012-10-17T07:08:11.800
> 
> 标签：c#, frameworks, reference, nunit, visual-studio-2012

我正在使用 Visual Studio 2012，并且我已经下载了 NUnit 2.6.1 以在代码上运行单元测试。我在需要它的解决方案项目中添加了对 nunit.framework 的引用。

问题是，由于某种原因，当我尝试包含名称空间时它不起作用。它看起来像这样：

```
using System;
using System.Collections.Generic;
using System.Text;
using System.Threading.Tasks;
using NUnit.Framework;  //This is not working here

namespace SomeNamespace
{
    [TestFixture]  //This is not recognized..
    public class SomeClassTest
    {
        [Test]  //Neither recognized..
        public void SomeMethodTest()
        {
            //Ok some implementation goes here..
        }
    }
} 
```

关于为什么它不起作用的任何想法？提前致谢！

PS：我使用 ReSharper 作为 VS2012 的扩展......这可能是问题的根源吗？

编辑：我尝试使用 NUGet 安装它几次，但是当 NUGet 完成安装时我得到同样的错误：

```
Exception from HRESULT: 0x80029C4A (TYPE_E_CANTLOADLIBRARY))
Successfully uninstalled 'NUnit 2.6.1'.
Install failed. Rolling back...
Failed to add reference to 'nunit.framework'. 
```

它会进行某种回滚？我正在阅读，人们谈到 GAC 并手动添加参考资料。我对此了解不多，但可能有助于回答这个问题。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-17T07:57:55.173

当我从 NUGet 安装它时，我有 3 到 4 次同样的问题。我通过卸载并从 NUGet 重新安装它来解决它。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-17T07:21:58.773

[**通过 NUGet 添加 NUnit 引用**](http://byatool.com/add-on/add-nunit-reference-through-nuget-visual-studios-2010/)。

该链接为 VS2010 提供了指导，但在 VS2012 中几乎相同。

# vbulletin - vBulletin 语言管理器

> ID：12928927
> 
> 赞同：2
> 
> 时间：2012-10-17T07:08:27.457
> 
> 标签：vbulletin

我已经为我自己的语言（土耳其语）编辑了默认（en）vBulletin 语言，但是当我想将它用于具有相同版本（4.2.0）的其他论坛/当我下载 vbulletin-language.xml 以供以后使用时，然后我正在重新加载它，但是有些短语变成了默认样式，尽管我已经对其进行了编辑并将其翻译成我的语言。

1-返回默认样式 2-为什么它的 textarea 比编辑过的长一点？请帮助我几天来一直试图解决这个问题

[截屏]

![在此处输入图像描述](../Images/870c5e515b5edd4fbc45585b5f20b294.png)

我的问题可能在上图中看到

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-21T05:36:18.493

转到：admincp -> 语言和短语 -> 下载和上传语言

在下载部分选择您的语言，然后有 2 个其他选项：

包括自定义短语和仅获取短语（如果选择“是”，则不包括任何语言设置）

“语言设置”是指您在语言管理器中单击 [编辑设置] 链接时看到的设置。如果该语言只是翻译的短语并且没有自定义设置，那么您可以在此处选择“**是**”。否则，您应该选择“否”以保持语言的完整性。

在 vbulletin 主手册中，对此选项没有很好的描述：[vbulletin 手册](http://www.vbulletin.com/docs/html?manualversion=40202500)

# python - web.py 中的分块编码问题

> ID：12928930
> 
> 赞同：0
> 
> 时间：2012-10-17T07:08:29.210
> 
> 标签：python, web.py, chunked-encoding

我的 web.py 应用程序正在运行。它接收来自外部的 POST 请求。请求标头包含`transfer-encoding: chunked`. 当我尝试读取数据时`web.data()`，进程开始消耗大量内存，几分钟后服务器死机。

`transfer-encoding`我对这种类型有疑问。有没有人遇到过同样的问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-28T15:27:23.243

实际上，这是因为只有少数被视为请求的 Web 服务器具有带有块的主体。在这种情况下，python 内部的 SimpleHTTPServer 会崩溃。龙卷风还可以，但无法使用 wsgi.input 获取正文。gevent 很好，但是 webpy 处理不正确。您可以使用这些代码解决此问题。

```
def data():
    if 'data' not in ctx:
        if ctx.env.get('HTTP_TRANSFER_ENCODING') == 'chunked':
            ctx.data = ctx.env['wsgi.input'].read()
        else:
            cl = intget(ctx.env.get('CONTENT_LENGTH'), 0)
            ctx.data = ctx.env['wsgi.input'].read(cl)
    return ctx.data 
```

当然，您应该将这些代码与 gevent 一起使用。

# c++ - Visual Studio 2012 中的 initializer_list

> ID：12928931
> 
> 赞同：4
> 
> 时间：2012-10-17T07:08:31.660
> 
> 标签：c++, visual-c++, c++11, visual-studio-2012, initializer

我发现MSVC 2012不支持initializer_list。但是它（initializer_list）可以以某种方式在VS中使用（例如在Boost库的帮助下）。如果可以，请提供样品。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-17T07:11:19.887

[Boost::assign](http://www.boost.org/libs/assign/)尽可能接近。

更具体地说，[assign::list_of](http://www.boost.org/libs/assign/#list_of)可能与您正在寻找的行为相似。

```
// Examples from the documentation:
const list<int> primes = list_of(2)(3)(5)(7)(11);
const stack<string> names = list_of( "Mr. Foo" )( "Mr. Bar")( "Mrs. FooBar" ).to_adapter();
map<int,int> next = map_list_of(1,2)(2,3)(3,4)(4,5)(5,6); 
```

# filepicker.io - 使用 filepicker.io 取消正在进行的上传的最佳方法是什么？

> ID：12928937
> 
> 赞同：3
> 
> 时间：2012-10-17T07:08:41.123
> 
> 标签：filepicker.io

我`filepicker.makeDropPane`用来玩一些简单的上传。[我在 filepicker.io 的web 文档](https://developers.filepicker.io/docs/web)的文档中找不到的一件事是一种取消正在进行的上传的方法。

直觉上我觉得应该给`onStart`函数传递一个额外的参数。表示上传的对象，该对象具有`cancel()`在调用时会立即取消文件上传的功能。像这样的东西似乎不可用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-18T06:11:11.173

我们实际上还没有这个功能，但它是有道理的。我会看看在这些方面添加一些东西并让你知道

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-18T15:16:21.180

这是我想出的一个丑陋的黑客攻击，以防止不需要的返回文件以及其他一些关于进度和多个文件等的花哨的东西。你肯定想使用静态 js 文件包含，这样它就不会在你身上改变并破坏它。

在您的进度处理程序中使用它：

```
var event = event || window.event;

// For firefox, go and grab the XHR progress event object.                                                                                                                                                                                
if (typeof event == 'undefined' || event == null) {
    if (typeof arguments.callee.caller.arguments[0] == 'object') {
        event = arguments.callee.caller.arguments[0];
    }
    else {
        event = arguments.callee.caller.arguments.callee.caller.arguments.callee.caller.arguments[0];
    }
}

var sUploadId;

     if (event.type.toLowerCase() == 'progress') {
        // if we haven't already tagged this XHR object (one per file), tag it now                                                                                                                                                 
        // if we receive further progress from this file, it will already have been tagged                                                                                                                                                

        if (!('id' in event.currentTarget)) {
            sUploadId = goUploadProgress.files.length;
            event.currentTarget.id = sUploadId;
            goUploadProgress.files.push({id: sUploadId, total:event.total});
        }
        else {
            sUploadId = event.currentTarget.id;
        }

        // get the loaded bytes for this file                                                                                                                                                                                             
        goUploadProgress.files[sUploadId].loaded = event.loaded;
    }
    else {
        // ignore readystatechange events                                                                                                                                                                                                  
        return;
    } 
```

我对此进行了修改以使其对上下文更有意义，因此我可能犯了一个逻辑错误，但这是要点。您可以通过查找调用堆栈在 Firefox 中获取事件，并且可以将 id 附加到每个文件的 XHR 上传对象，该对象将一直存在直到完成。

我再说一遍，这是一个黑客！不要相信它不会破裂。

# javascript - javascript和http会话

> ID：12928939
> 
> 赞同：0
> 
> 时间：2012-10-17T07:08:47.950
> 
> 标签：javascript

我们可以使用 javascript 在 HTTP 会话中设置变量吗？

一种好的方法，它将具有三种基本方法-

添加密钥，删除密钥并读取密钥。

这不应该是 cookie，而是实际的 http 会话。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-17T07:11:27.210

不，HTTP 会话位于服务器端，并且只能在那里访问。在客户端，您（最多）可以访问会话密钥（作为 cookie），这还不够。

为了修改 HTTP 会话，您必须向服务器（普通或 AJAX）发送描述修改性质的 HTTP 请求。请求将由服务器处理，执行所需的会话突变。

要读取会话密钥，您还必须调用服务器，但这次要求服务器从 HTTP 会话中读取。响应应包含会话密钥值。

# string - 如何从 Erlang C 节点返回字符串？

> ID：12928943
> 
> 赞同：0
> 
> 时间：2012-10-17T07:08:53.777
> 
> 标签：string, erlang

我希望能够将字符串 - 列表 - 传递给 Erlang 的 C 节点，并在经过一些计算后将字符串返回给 Erlang 进程。

```
result = function(input_string), 
```

其中 input_string 的类型为 ETERM *

我对字符串的计算使用 char * 变量作为字符串。

请让我知道这是否有足够的信息继续下去。

[erl_interface 教程中的 C 节点示例使用 C 节点的整数输入和输出]

TIA，
BR，
谢伦

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T00:09:16.303

用于`erl_iolist_to_string`输入（每个 Erlang “字符串”也是一个 iolist）。

使用`erl_mk_string`而不是`erl_mk_int`输出。

[http://erlang.org/doc/man/erl_eterm.html#erl_iolist_to_string](http://erlang.org/doc/man/erl_eterm.html#erl_iolist_to_string)

[http://erlang.org/doc/man/erl_eterm.html#erl_mk_string](http://erlang.org/doc/man/erl_eterm.html#erl_mk_string)

# jquery - 无法使用 WebApplicationException 的响应，因为响应已经提交。重新抛出到 HTTP 容器

> ID：12928945
> 
> 赞同：2
> 
> 时间：2012-10-17T07:08:57.540
> 
> 标签：jquery, ajax, timeout, jersey

我有基于 Jersey 的 REST Resource 类，其中包含多个资源，每个资源都提供一个 JSON 对象。我有一个简单的 HTML+Javascipt 接口，其中通过 jquery ajax 调用获取来自每个 REST 资源的数据，并将返回的 JSON 呈现为 ExtJS 网格。

根据用户选择的内容（多个复选框），进行多个 ajax 调用，success 方法将 json 呈现为网格。

一个 Ajax 调用大约需要一分钟，而其他调用大约需要 4-10 秒。

有时，我在服务器端看到这个“超时”错误（下面粘贴了堆栈跟踪），然后调用了 Ajax 的错误方法。**仅当我在工作中使用无线网络时才会发生这种情况，但是当我使用有线连接时可以正常工作。**

我不知道这里发生了什么：

```
if(//Checkbox-1 is selected){
    $.ajax({
             url: url,
             type: 'GET',
             timeout: '120000',
             dataType: 'json',
             success: function(data){
                 displayExtJsGrid1(data); //this displays the grid 1 in div1 element.
             },
             error: function(){
                 $("#div1").html("Error: Couldn't get results of analysis");
             }
          });
}
if (//checkbox-2 is selected){
    $.ajax({
             url: url,
             type: 'GET',                        
             timeout: '120000',
             dataType: 'json',
             success: function(data){
                 displayExtJsGrid2(data); //this displays the grid 2 in div2 element.
             },                        
             error: function(){
                $("#div2").html("Error: Couldn't get results of analysis");
             }
     });
}
if (//checkbox-3 is selected){
  .....
  .....similar to above call....
} 
```

在服务器端，我的 jax-rs (jersey) 资源如下所示：

```
@GET
@Produces( { "application/json","application/xml"})
@Path("/{data}
public List<Result> getAnalysisOne(@PathParam("data") String data){
    try {           
        //Invokes a DAO class that does some computations

    } catch (Exception e) {
        throw new WebApplicationException(Response.status(
                Status.BAD_REQUEST).type("application/xml").entity(
                "<error>Error</error>").build());
    }
    return results;
}

@GET
@Produces( { "application/json","application/xml"})
@Path("/two/{data}
public List<Result> getAnalysisTwo(@PathParam("data") String data){
    try {           
        //Invokes a DAO class that does some computations

    } catch (Exception e) {
        throw new WebApplicationException(Response.status(
                Status.BAD_REQUEST).type("application/xml").entity(
                "<error>Error</error>").build());
    }
    return results;
} 
```

奇怪的是，当我在无线连接上（这不是很好）时，我得到以下错误，并且在有线连接上工作得很好（所有网格都被渲染）**。**在客户端，当我收到此错误时，将调用 Ajax 的 Error 方法。大多数时候，是第一个 ajax 调用（大约需要一分钟才能返回）给出错误，而其他调用成功并显示网格。

我正在使用 jetty-maven-plugin 的 mvn jetty:run 来启动 Jersey 资源和 webapp。我使用 JAXB 根​​据请求类型（xml 或 json）来封送数据。

服务器端的错误：

```
Oct 17, 2012 12:20:07 AM com.sun.jersey.server.impl.application.WebApplicationImpl _handleRequest
SEVERE: The response of the WebApplicationException cannot be utilized as the response is already committed. Re-throwing to the HTTP container
javax.ws.rs.WebApplicationException: javax.xml.bind.MarshalException
 - with linked exception:
[javax.xml.stream.XMLStreamException: org.eclipse.jetty.io.EofException: timeout]
    at com.sun.jersey.core.provider.jaxb.AbstractListElementProvider.writeTo(AbstractListElementProvider.java:266)
    at com.sun.jersey.spi.container.ContainerResponse.write(ContainerResponse.java:306)
    at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1451)
    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1363)
    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1353)
    at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:414)
    at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)
    at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:708)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:648)
    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:455)
    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)
    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:559)
    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)
    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1072)
    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:382)
    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)
    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1006)
    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)
    at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)
    at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)
    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)
    at org.eclipse.jetty.server.Server.handle(Server.java:365)
    at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:485)
    at org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:926)
    at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:988)
    at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:635)
    at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
    at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)
    at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:627)
    at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:51)
    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)
    at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)
    at java.lang.Thread.run(Thread.java:662)
Caused by: javax.xml.bind.MarshalException
 - with linked exception:
[javax.xml.stream.XMLStreamException: org.eclipse.jetty.io.EofException: timeout]
    at com.sun.xml.bind.v2.runtime.MarshallerImpl.write(MarshallerImpl.java:327)
    at com.sun.xml.bind.v2.runtime.MarshallerImpl.marshal(MarshallerImpl.java:177)
    at com.sun.jersey.json.impl.provider.entity.JSONListElementProvider.writeList(JSONListElementProvider.java:145)
    at com.sun.jersey.core.provider.jaxb.AbstractListElementProvider.writeTo(AbstractListElementProvider.java:264)
    ... 33 more
Caused by: javax.xml.stream.XMLStreamException: org.eclipse.jetty.io.EofException: timeout
    at com.sun.jersey.json.impl.writer.JsonXmlStreamWriter.writeStartElement(JsonXmlStreamWriter.java:443)
    at com.sun.xml.bind.v2.runtime.output.XMLStreamWriterOutput.beginStartTag(XMLStreamWriterOutput.java:118)
    at com.sun.xml.bind.v2.runtime.output.XmlOutputAbstractImpl.beginStartTag(XmlOutputAbstractImpl.java:102)
    at com.sun.xml.bind.v2.runtime.output.NamespaceContextImpl$Element.startElement(NamespaceContextImpl.java:496)
    at com.sun.xml.bind.v2.runtime.XMLSerializer.endNamespaceDecls(XMLSerializer.java:291)
    at com.sun.xml.bind.v2.runtime.XMLSerializer.childAsSoleContent(XMLSerializer.java:594)
    at com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.serializeRoot(ClassBeanInfoImpl.java:328)
    at com.sun.xml.bind.v2.runtime.XMLSerializer.childAsRoot(XMLSerializer.java:498)
    at com.sun.xml.bind.v2.runtime.MarshallerImpl.write(MarshallerImpl.java:320)
    ... 36 more
Caused by: org.eclipse.jetty.io.EofException: timeout
    at org.eclipse.jetty.http.AbstractGenerator.blockForOutput(AbstractGenerator.java:520)
    at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:170)
    at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:107)
    at com.sun.jersey.spi.container.servlet.WebComponent$Writer.write(WebComponent.java:305)
    at com.sun.jersey.spi.container.ContainerResponse$CommittingOutputStream.write(ContainerResponse.java:134)
    at sun.nio.cs.StreamEncoder.writeBytes(StreamEncoder.java:202)
    at sun.nio.cs.StreamEncoder.implWrite(StreamEncoder.java:263)
    at sun.nio.cs.StreamEncoder.write(StreamEncoder.java:106)
    at sun.nio.cs.StreamEncoder.write(StreamEncoder.java:116)
    at java.io.OutputStreamWriter.write(OutputStreamWriter.java:203)
    at java.io.Writer.write(Writer.java:140)
    at com.sun.jersey.json.impl.writer.JsonXmlStreamWriter$WriterAdapter.write(JsonXmlStreamWriter.java:78)
    at com.sun.jersey.json.impl.writer.JsonXmlStreamWriter.writeStartElement(JsonXmlStreamWriter.java:438)
    ... 44 more
2012-10-17 00:20:07.352:WARN:oejs.ServletHandler:/resources/ARX%3ALRP2%3AMED12%3AOFD1%3AZEB2%3AAHI1%3ACREBBP%3AFGFR1%3AFGFR2%3AHESX1%3AKIF7%3APAX6%3AARL13B%3AATRX%3ACC2D2A%3ACEP290%3ADCX%3ANFIB%3ANPHP1%3ANSD1%3ANTN1%3APAFAH1B1%3APEX13%3ARELN%3ATSC1%3ATSC2%3AFOXP2%3AOXTR%3ARELN%3ADLX2%3AFEZF2%3AFEZF2%3APCDH9%3APITX1%3ASLC6A4%3ADAB1%3ADLX1%3AROBO1%3AROBO1%3ADRD1%3ADRD2%3AERBB4%3AGAD1%3ARELN%3ARPGRIP1L%3ARPGRIP1L%3ASLC6A4%3ACCKAR%3AFOXP2%3AGRIN1%3AGSK3B%3ANR4A2%3ANUMBL%3ANUMBL%3ASLC1A2%3AAHI1%3ADPYSL2
javax.ws.rs.WebApplicationException: javax.xml.bind.MarshalException| - with linked exception:|[javax.xml.stream.XMLStreamException: org.eclipse.jetty.io.EofException: timeout]
    at com.sun.jersey.core.provider.jaxb.AbstractListElementProvider.writeTo(AbstractListElementProvider.java:266)
    at com.sun.jersey.spi.container.ContainerResponse.write(ContainerResponse.java:306)
    at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1451)
    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1363)
    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1353)
    at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:414)
    at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)
    at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:708)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:648)
    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:455)
    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)
    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:559)
    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)
    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1072)
    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:382)
    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)
    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1006)
    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)
    at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)
    at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)
    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)
    at org.eclipse.jetty.server.Server.handle(Server.java:365)
    at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:485)
    at org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:926)
    at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:988)
    at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:635)
    at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
    at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)
    at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:627)
    at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:51)
    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)
    at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)
    at java.lang.Thread.run(Thread.java:662)
Caused by: 
javax.xml.bind.MarshalException| - with linked exception:|[javax.xml.stream.XMLStreamException: org.eclipse.jetty.io.EofException: timeout]
    at com.sun.xml.bind.v2.runtime.MarshallerImpl.write(MarshallerImpl.java:327)
    at com.sun.xml.bind.v2.runtime.MarshallerImpl.marshal(MarshallerImpl.java:177)
    at com.sun.jersey.json.impl.provider.entity.JSONListElementProvider.writeList(JSONListElementProvider.java:145)
    at com.sun.jersey.core.provider.jaxb.AbstractListElementProvider.writeTo(AbstractListElementProvider.java:264)
    at com.sun.jersey.spi.container.ContainerResponse.write(ContainerResponse.java:306)
    at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1451)
    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1363)
    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1353)
    at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:414)
    at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)
    at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:708)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:648)
    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:455)
    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)
    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:559)
    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)
    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1072)
    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:382)
    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)
    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1006)
    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)
    at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)
    at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)
    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)
    at org.eclipse.jetty.server.Server.handle(Server.java:365)
    at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:485)
    at org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:926)
    at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:988)
    at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:635)
    at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
    at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)
    at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:627)
    at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:51)
    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)
    at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)
    at java.lang.Thread.run(Thread.java:662)
Caused by: 
javax.xml.stream.XMLStreamException: org.eclipse.jetty.io.EofException: timeout
    at com.sun.jersey.json.impl.writer.JsonXmlStreamWriter.writeStartElement(JsonXmlStreamWriter.java:443)
    at com.sun.xml.bind.v2.runtime.output.XMLStreamWriterOutput.beginStartTag(XMLStreamWriterOutput.java:118)
    at com.sun.xml.bind.v2.runtime.output.XmlOutputAbstractImpl.beginStartTag(XmlOutputAbstractImpl.java:102)
    at com.sun.xml.bind.v2.runtime.output.NamespaceContextImpl$Element.startElement(NamespaceContextImpl.java:496)
    at com.sun.xml.bind.v2.runtime.XMLSerializer.endNamespaceDecls(XMLSerializer.java:291)
    at com.sun.xml.bind.v2.runtime.XMLSerializer.childAsSoleContent(XMLSerializer.java:594)
    at com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.serializeRoot(ClassBeanInfoImpl.java:328)
    at com.sun.xml.bind.v2.runtime.XMLSerializer.childAsRoot(XMLSerializer.java:498)
    at com.sun.xml.bind.v2.runtime.MarshallerImpl.write(MarshallerImpl.java:320)
    at com.sun.xml.bind.v2.runtime.MarshallerImpl.marshal(MarshallerImpl.java:177)
    at com.sun.jersey.json.impl.provider.entity.JSONListElementProvider.writeList(JSONListElementProvider.java:145)
    at com.sun.jersey.core.provider.jaxb.AbstractListElementProvider.writeTo(AbstractListElementProvider.java:264)
    at com.sun.jersey.spi.container.ContainerResponse.write(ContainerResponse.java:306)
    at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1451)
    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1363)
    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1353)
    at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:414)
    at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)
    at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:708)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:648)
    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:455)
    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)
    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:559)
    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)
    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1072)
    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:382)
    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)
    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1006)
    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)
    at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)
    at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)
    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)
    at org.eclipse.jetty.server.Server.handle(Server.java:365)
    at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:485)
    at org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:926)
    at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:988)
    at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:635)
    at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
    at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)
    at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:627)
    at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:51)
    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)
    at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)
    at java.lang.Thread.run(Thread.java:662)
Caused by: 
org.eclipse.jetty.io.EofException: timeout
    at org.eclipse.jetty.http.AbstractGenerator.blockForOutput(AbstractGenerator.java:520)
    at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:170)
    at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:107)
    at com.sun.jersey.spi.container.servlet.WebComponent$Writer.write(WebComponent.java:305)
    at com.sun.jersey.spi.container.ContainerResponse$CommittingOutputStream.write(ContainerResponse.java:134)
    at sun.nio.cs.StreamEncoder.writeBytes(StreamEncoder.java:202)
    at sun.nio.cs.StreamEncoder.implWrite(StreamEncoder.java:263)
    at sun.nio.cs.StreamEncoder.write(StreamEncoder.java:106)
    at sun.nio.cs.StreamEncoder.write(StreamEncoder.java:116)
    at java.io.OutputStreamWriter.write(OutputStreamWriter.java:203)
    at java.io.Writer.write(Writer.java:140)
    at com.sun.jersey.json.impl.writer.JsonXmlStreamWriter$WriterAdapter.write(JsonXmlStreamWriter.java:78)
    at com.sun.jersey.json.impl.writer.JsonXmlStreamWriter.writeStartElement(JsonXmlStreamWriter.java:438)
    at com.sun.xml.bind.v2.runtime.output.XMLStreamWriterOutput.beginStartTag(XMLStreamWriterOutput.java:118)
    at com.sun.xml.bind.v2.runtime.output.XmlOutputAbstractImpl.beginStartTag(XmlOutputAbstractImpl.java:102)
    at com.sun.xml.bind.v2.runtime.output.NamespaceContextImpl$Element.startElement(NamespaceContextImpl.java:496)
    at com.sun.xml.bind.v2.runtime.XMLSerializer.endNamespaceDecls(XMLSerializer.java:291)
    at com.sun.xml.bind.v2.runtime.XMLSerializer.childAsSoleContent(XMLSerializer.java:594)
    at com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.serializeRoot(ClassBeanInfoImpl.java:328)
    at com.sun.xml.bind.v2.runtime.XMLSerializer.childAsRoot(XMLSerializer.java:498)
    at com.sun.xml.bind.v2.runtime.MarshallerImpl.write(MarshallerImpl.java:320)
    at com.sun.xml.bind.v2.runtime.MarshallerImpl.marshal(MarshallerImpl.java:177)
    at com.sun.jersey.json.impl.provider.entity.JSONListElementProvider.writeList(JSONListElementProvider.java:145)
    at com.sun.jersey.core.provider.jaxb.AbstractListElementProvider.writeTo(AbstractListElementProvider.java:264)
    at com.sun.jersey.spi.container.ContainerResponse.write(ContainerResponse.java:306)
    at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1451)
    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1363)
    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1353)
    at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:414)
    at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)
    at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:708)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:648)
    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:455)
    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)
    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:559)
    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)
    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1072)
    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:382)
    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)
    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1006)
    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)
    at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)
    at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)
    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)
    at org.eclipse.jetty.server.Server.handle(Server.java:365)
    at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:485)
    at org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:926)
    at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:988)
    at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:635)
    at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
    at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)
    at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:627)
    at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:51)
    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)
    at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)
    at java.lang.Thread.run(Thread.java:662) 
```

将不胜感激任何帮助/建议：

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T07:18:12.377

好吧，我认为您应该添加：

`timeout: <number of miliseconds>`,

在`$.ajax({})`.

此外，`cache: false`, 可以在少数情况下提供帮助。

[更多信息](http://docs.jquery.com/Ajax/jQuery.ajax#toptions)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T07:45:57.340

增加服务器超时。您正在使用 Jetty 服务器。所以看看这个帖子。

[如何为码头服务器设置连接/请求超时？](https://stackoverflow.com/questions/5445006/how-to-set-connection-request-timeout-for-jetty-sever)

# python - 如何在 Python 中找到与谓词匹配的序列中的第一个元素？

> ID：12928946
> 
> 赞同：4
> 
> 时间：2012-10-17T07:08:58.900
> 
> 标签：python, python-3.x, functional-programming

> **可能重复：**
> [Python：查找与谓词匹配的序列中的第一个元素](https://stackoverflow.com/questions/8534256/python-find-first-element-in-a-sequence-that-matches-a-predicate)

Python标准库中是否有封装以下控制流模式的高阶函数？

```
>>> def find(pred, coll):
...   for x in coll:
...     if pred(x):
...       return x
... 
>>> find(lambda n : n % 2 == 0, [3, 5, 8, 9, 6])
8
>>> find(lambda n : n % 2 == 0, [3, 5, 7, 9, 6])
6
>>> find(lambda n : n % 2 == 0, [3, 5, 7, 9, 1]) 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-17T07:11:37.817

您可以组合`ifilter`并`islice`获得第一个匹配的元素。

```
>>> list(itertools.islice(itertools.ifilter(lambda n: n % 2 == 0, lst), 1))
[8] 
```

但是，我不会认为这比您发布的原始代码更具可读性或更好。包裹在一个函数中会更好。由于[`next`](http://docs.python.org/library/functions.html#next)只返回一个元素，因此不再需要`islice`：

```
def find(pred, iterable):
    return next(itertools.ifilter(pred, iterable), None) 
```

`None`如果没有找到元素，则返回。

但是，您仍然在每个循环中调用谓词函数的速度相当慢。请考虑改用列表推导式或生成器表达式：

```
>>> next((x for x in lst if x % 2 == 0), None)
8 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-17T07:12:11.687

[`itertools.ifilter()`](http://docs.python.org/library/itertools.html#itertools.ifilter)可以做到这一点，如果你只是抓住结果迭代的第一个元素。

```
itertools.ifilter(pred, col1).next() 
```

同样，生成器对象也可以（同样，从生成的生成器中取出第一项）：

```
(i for i in col1 if i % 2 == 0).next() 
```

由于这两个都是惰性求值的，因此您将只求出满足谓词的第一个元素所需的可迭代输入。请注意，如果没有与谓词匹配，您将获得`StopIteration`异常。您可以通过使用`next()`内置来避免这种情况：

```
next((i for i in col1 if i % 2 == 0), None) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-17T07:16:10.543

我不知道有这样的功能，但您可以使用生成器表达式并获取第一个结果。

```
x = (x for x in [3,5,8,9,6] if (lambda n: n % 2 == 0)(x))
y = x.next() 
```

要不就

```
y = (x for x in [3,5,8,9,6] if (lambda n: n % 2 == 0)(x)).next() 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-17T07:16:20.567

```
(x for x in coll if pred(x)).next() 
```

Raises `StopIteration` if the item isn't found (which might be preferable to returning `None`, especially if `None` is a valid return value).

# jqote - ReferenceError：未定义 JQOTE2_TMPL_EXEC_ERROR

> ID：12928951
> 
> 赞同：0
> 
> 时间：2012-10-17T07:09:26.500
> 
> 标签：jqote

我正在为我的项目使用 Jqote2。每当我尝试通过 $.jqote 调用特定的 lambda 时，都会显示“ReferenceError：未定义 JQOTE2_TMPL_EXEC_ERROR”

与 lambda 对应的模板是合理的，并且我传递给 lambda 的参数在逻辑和语法上都是正确的。我在加载模板时正在进行同步 ajax 调用，因此没有机会不加载模板。

我使用的模板是

```
<div class="facet"><h4><%=decodeURI(this.attributes.label)%></h4>
    <%if("true"===decodeURI(this.attributes.autoExpand)){%>
        <ul style="display:block">
    <%}else{%>
        <ul style="display:none">
    <%}%>
    <%=window.createonline.service.FacetService.buildFacet(this.item)%>
</ul></div> 
```

我尝试移动元素，但徒劳无功。

可能是什么错误？请帮忙！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T15:09:37.920

好像这没有答案。现在，我的项目的规格已经改变，不再需要。

# mongodb - MongoDB 批量 csv 导入（充满 csv 的文件夹）

> ID：12928956
> 
> 赞同：4
> 
> 时间：2012-10-17T07:09:57.290
> 
> 标签：mongodb, csv, import

我尝试使用 mongoimport 使用 mongoimport -d mydb -c things --type csv --file locations.csv --headerline 在 mongodb 中导入单个 csv 文件。它就像一个魅力。我的问题是我想在 mongodb 中导入一个充满 csv(s) 的文件夹。我搜索了，但找不到任何东西。我还尝试使用通配符 (*) 提供文件夹路径，但它不接受。一个示例路径是 /home/user/event_files/* 其中 event_files 是包含 csv 文件的文件夹。如何在 mongodb 中导入一个充满 csv(s) 的文件夹？

谢谢你，莫辛

编辑：

```
#!bin/bash
    FILES="/root/event_files/*"
    for f in $FILES
    do
        mongoimport -d mydb -c events --type csv --file "$f" --headerline
    done 
```

我制作了这个脚本来完成这项工作。在“FILES”变量中替换您自己的文件夹路径。在 mongoimport 命令中（在 do 和 done 之间），“mydb”是您的数据库名称，“events”是您的集合名称。您将需要更换东西以满足您的需要。

谢谢你，莫辛。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2018-08-24T20:09:55.033

这对我有用。遍历 event_files 中的文件，并使用标题行作为 mongo 中的数据字段导入每个 csv。

```
#!bin/bash
FILES="/root/event_files/*"
for f in $FILES
do
    mongoimport -d mydb -c events --type csv --file "$f" --headerline
done 
```

# php - Preg_match_all 没有停止它应该在的地方

> ID：12928959
> 
> 赞同：4
> 
> 时间：2012-10-17T07:10:04.920
> 
> 标签：php, search, curl, preg-match-all

## 更新雅虎错误

好的，所以我一切正常，但是 preg_match_all 对雅虎不起作用。如果您看一下： [http](http://se.search.yahoo.com/search?p=random&toggle=1&cop=mss&ei=UTF-8&fr=yfp-t) ://se.search.yahoo.com/search?p=random&toggle=1&cop=mss&ei=UTF-8&fr=yfp-t 那么您可以在他们的 html 中看到，他们有 `<span class="url" id="something random"> the actual link </span>` 但是当我尝试 preg_match_all，我不会得到任何结果。

```
preg_match_all('#<span class="url" id="(.*)">(.+?)</span>#si', $urlContents[2], $yahoo); 
```

有人有想法吗？

## 更新结束

我正在尝试 preg_match_all 使用 cURL curl_multi_getcontent 方法从 Google 获得的结果。

我已成功获取该站点等，但是当我尝试获取链接的结果时，它需要的太多了。

我目前正在使用： `preg_match_all('#<cite>(.+)</cite>#si', $urlContents[0], $links);`

这从它应该在的地方开始，但它并没有停止，它只是继续前进。例如，检查 HTML，`www.google.com/search?q=random`您会看到所有链接都以 . 开头和结尾。

有人可以帮助我如何检索这些信息吗？我只需要每个结果的实际链接地址。

## 更新整个 PHP 脚本

```
public function multiSearch($question)
{
    $sites['google'] = "http://www.google.com/search?q={$question}&gl=sv";
    $sites['bing'] = "http://www.bing.com/search?q={$question}";
    $sites['yahoo'] = "http://se.search.yahoo.com/search?p={$question}";

    $urlHandler = array();

    foreach($sites as $site)
    {
        $handler = curl_init();
        curl_setopt($handler, CURLOPT_URL, $site);
        curl_setopt($handler, CURLOPT_HEADER, 0);
        curl_setopt($handler, CURLOPT_RETURNTRANSFER, 1);

        array_push($urlHandler, $handler);
    }

    $multiHandler = curl_multi_init();
    foreach($urlHandler as $key => $url)
    {
        curl_multi_add_handle($multiHandler, $url);
    }

    $running = null;
    do
    {
        curl_multi_exec($multiHandler, $running);
    }
    while($running > 0);

    $urlContents = array();
    foreach($urlHandler as $key => $url)
    {
        $urlContents[$key] = curl_multi_getcontent($url);
    }

    foreach($urlHandler as $key => $url)
    {
        curl_multi_remove_handle($multiHandler, $url);
    }

    foreach($urlContents as $urlContent)
    {
        preg_match_all('/<li class="g">(.*?)<\/li>/si', $urlContent, $matches);
        //$this->view_data['results'][] = "Random";
    }
    preg_match_all('#<div id="search"(.*)</ol></div>#i', $urlContents[0], $match);
    preg_match_all('#<cite>(.+)</cite>#si', $urlContents[0], $links);
    var_dump($links);

} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-17T07:13:48.820

**在U** -ngready 模式下运行正则表达式

```
preg_match_all('#<cite>(.+)</cite>#siU 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-17T07:19:51.360

正如在 Darhazer 的回答中一样，您可以*使用*模式修饰符为整个正则表达式打开不贪婪模式，或者通过跟随它`U`使模式本身变得不贪婪（或*惰性*`?`） ：

```
preg_match_all('#<cite>(.+?)</cite>#si', ... 
```

# android - 我们可以放大缩小我们在 Canvas android 上绘制的绘图吗

> ID：12928966
> 
> 赞同：2
> 
> 时间：2012-10-17T07:10:31.050
> 
> 标签：android

我正在尝试制作一个应用程序，我可以在其中放大并在图像上绘制一些东西，我使用以下链接制作可缩放的图像视图，该视图正在 [为图像提供良好的缩放功能](https://stackoverflow.com/questions/2537238/how-can-i-get-zoom-functionality-for-images)

现在的问题是，当我在画布上绘制的内容被缩小时，我不知道如何缩放和转换为图像大小。以下是 onDraw() 函数。我已经记录了将它们添加到列表中的接触点，并且在我的视图的这个 onDraw() 函数中，我正在检索这些点，但这些点是相对于屏幕的。我必须根据图像操作来翻译和缩放它（在放大/缩小图像的情况下）。

```
 protected void onDraw(Canvas canvas) {
super.onDraw(canvas);

if(mMarkers!=null)
{
for(Marker m : mMarkers) {
    // draw the marker
     Log.v("IP","position"+ m.x+"    "+ m.y);
    Paint paint=new Paint();
    paint.setARGB(255, 2, 255, 2);
    canvas.drawText("O", m.x, m.y, paint);

    if(x!=-1){
         Log.v("IP","LINE"+x+"   " + y+ "  "+ m.x+"    "+ m.y);
    canvas.drawLine(x, y,m.x, m.y, paint);
    }
    x=m.x;
    y=m.y;
}
x=y=-1; 
```

}

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-15T12:48:14.963

请尝试此代码

```
public boolean onTouchEvent(MotionEvent env) {
float x = env.getX() / mScaleFactor + rect.left;
float y = env.getY() / mScaleFactor + rect.top;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-15T13:43:47.113

使用此代码

```
public boolean onTouchEvent(MotionEvent env) {
float x = env.getX() / mScaleFactor + rect.left;
float y = env.getY() / mScaleFactor + rect.top;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-29T08:08:29.883

您可以从矩阵中获得 9 点数组，其中包含 x 和 y 中的相对 x、y 和比例因子，使用它将当前`x,y`（相对于屏幕）转换为原始图像上的 x、y 并在再次绘制之前重新转换它在不同的缩放级别。

# flexpaper - 无法在 FlexPaper 中加载 swf 文件

> ID：12928967
> 
> 赞同：1
> 
> 时间：2012-10-17T07:10:31.417
> 
> 标签：flexpaper

我正在尝试使用 FlexPaper 来显示 Pdf 文件。我也将pdf转换为swf，并通过按下按钮将其加载到flexpaper控件中。它显示 100% 并且文档无法在 FlexPaper 控件中显示。

```
protected function button1_clickHandler(event:MouseEvent):void
{
    myViewer.SwfFile="test1.swf";
}

<s:Button x="84" y="491" label="Button"  click="button1_clickHandler(event)"/>
<flexpaper:FlexPaperViewer id="myViewer" x="10" y="26" width="892" height="284"  >
</flexpaper:FlexPaperViewer> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-20T09:50:43.010

你的代码对我有用。我认为问题可能出在 test1.swf 文件上。

请参考以下网址并将pdf正确转换为swf。

[http://flexpaper.devaldi.com/docs_converting.jsp](http://flexpaper.devaldi.com/docs_converting.jsp)

如果你有任何问题问我。

# c# - 使用运行时生成的控件保存控件窗口并重新加载为以前的状态

> ID：12928969
> 
> 赞同：2
> 
> 时间：2012-10-17T07:10:42.323
> 
> 标签：c#, wpf, runtime, save

我用你的控制按钮创建了项目。AddButton 创建运行时按钮控件并将其添加到 canvas1 中。当我右键单击运行时生成的控件时，会弹出新窗口。我想保存此窗口并以与我离开时相同的状态重新加载它。我使用 xml 序列化，它加载但单击该按钮不起作用。

这是我的代码：

```
private void AddButton_Click(object sender, RoutedEventArgs e)
{

                Button b = new Button();
                b.MinHeight = 23;
                b.MinWidth = 73;             
                b.SetValue(Canvas.LeftProperty, e.GetPosition(this).X);
                b.SetValue(Canvas.TopProperty, e.GetPosition(this).Y);
                b.Content = i.ToString();          
                canvas1.Children.Add(b);      
                b.MouseRightButtonUp += new MouseButtonEventHandler(NewButton_Click);

}

 private void NewButton_Click(object sender, EventArgs e)
        {
            Button btn = (Button)sender;

            ContextMenu pMenu = new ContextMenu();
            MenuItem item1 = new MenuItem();
            item1.Header = "Properties";           
            pMenu.Items.Add(item1);
            btn.ContextMenu = pMenu;
            item1.Click += new RoutedEventHandler(item1_Click);
        }

 private void item1_Click(object sender, EventArgs e)
        {
            MenuItem btn = (MenuItem)sender;
         ControlProp c = new ControlProp();
         c.ShowDialog();  

        }     

  private void Save_Click(object sender, RoutedEventArgs e)
        {
            StringBuilder outstr = new StringBuilder();

            XmlWriterSettings settings = new XmlWriterSettings();
            settings.Indent = true;
            settings.OmitXmlDeclaration = true;
            settings.NewLineOnAttributes = true;

            XamlDesignerSerializationManager dsm = new XamlDesignerSerializationManager(XmlWriter.Create(outstr, settings));
            dsm.XamlWriterMode = XamlWriterMode.Expression;

            XamlWriter.Save(this.canvas1, dsm);
            string savedControls = outstr.ToString();

            //Show Dialog Box
            Microsoft.Win32.SaveFileDialog dlg = new Microsoft.Win32.SaveFileDialog();
            dlg.FileName = "Document"; // Default file name
            dlg.DefaultExt = ".xaml"; // Default file extension
            dlg.Filter = "Xaml documents (.xaml)|*.xaml"; // Filter files by extension

            // Show save file dialog box
            Nullable<bool> result = dlg.ShowDialog();

            // Process save file dialog box results
            if (result == true)
            {
                // Save document
                string filename = dlg.FileName;
                File.WriteAllText(filename, savedControls);
            }

        }

        private void OpenFile_Click(object sender, RoutedEventArgs e)
        {
            //Open FileDialog
            string filename;
            Microsoft.Win32.OpenFileDialog dlg = new Microsoft.Win32.OpenFileDialog();
            dlg.FileName = "Document"; // Default file name
            dlg.DefaultExt = ".xaml"; // Default file extension
            dlg.Filter = "Xaml documents (.xaml)|*.xaml"; // Filter files by extension

            // Show save file dialog box
            Nullable<bool> result = dlg.ShowDialog();

            // Process save file dialog box results
            if (result == true)
            {
                // Save document
                 filename = dlg.FileName;

                //Open Xaml
                 StreamReader sR = new StreamReader(filename);
                 string text = sR.ReadToEnd();
                 sR.Close();

                 StringReader stringReader = new StringReader(text);
                 XmlReader xmlReader = XmlReader.Create(stringReader);

                 Canvas wp = (Canvas)System.Windows.Markup.XamlReader.Load(xmlReader);

                 canvas1.Children.Clear(); // clear the existing children

                 foreach (FrameworkElement child in wp.Children) // and for each child in the WrapPanel we just loaded (wp)
                 {
                     canvas1.Children.Add(CloneFrameworkElement(child)); // clone the child and add it to our existing wrap panel
                 }      
            }

        }

        FrameworkElement CloneFrameworkElement(FrameworkElement originalElement)
        {
            string elementString = XamlWriter.Save(originalElement);

            StringReader stringReader = new StringReader(elementString);
            XmlReader xmlReader = XmlReader.Create(stringReader);
            FrameworkElement clonedElement = (FrameworkElement)XamlReader.Load(xmlReader);

            return clonedElement;
        } 
```

简而言之，我想保存用户在运行时创建的项目，然后像 mspaint 一样使用保存项目和打开项目工具重新打开它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T07:33:54.747

您可以使用 XamlWriter ( [MSDN](http://msdn.microsoft.com/en-us/library/system.windows.markup.xamlwriter.aspx) )

# java - Thread.interrupt() 和 Thread.interrupted() 究竟是如何工作的？

> ID：12928970
> 
> 赞同：0
> 
> 时间：2012-10-17T07:10:42.303
> 
> 标签：java, multithreading, interrupt

从设置线程状态的角度来看，这两种方法我不太清楚。

Java Docs 说 Thread.interrupt() 设置线程中断状态标志，调用 Thread.interrupted() 方法给出线程的状态并清除标志。

当这在实际场景中使用时..??

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-17T07:31:29.853

当其他一些线程调用 Thread.interrupt() 时，该方法将 Thread 的中断状态标志（最初为 false）设置为 true。如果线程处于阻塞方法中，例如 Thread.sleep()、Thread.join() 或 Object.wait()，它会解除阻塞并抛出 InterruptedException。

Thread.interrupted() 是一个静态方法，可用于检查中断状态标志的当前值，真或假。它还清除中断状态，将标志设置为假。那就是连续调用它两次，即使它第一次返回true，第二次也可能返回false（除非线程再次被中断，在第一次调用后将中断状态标志设置为true）

注意第三种方法 Thread.isInterrupted() 可以在不重置的情况下检查中断状态。

典型用例：

1.  从阻塞操作中异常中断
2.  确定是否需要在某个逻辑保存/停止点继续执行一长串指令
3.  确定是否需要在开始长时间运行的任务之前继续执行一系列指令
4.  停止执行一个迭代过程，否则该过程会一直持续下去（`while(true)`不好，`while(!Thread.interrupted())`更好）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T07:32:04.107

您可以使用 Thread.interrupt() 告诉线程停止。当该线程执行一些阻塞操作或检查标志时，它会触发它抛出 InterruptedException 以唤醒线程或停止它。

虽然 interrupt() 的目的通常是停止线程，但这并不意味着它会。可以长时间忽略中断或完全忽略中断。如果它触发了 InterruptedException，则可以捕获并记录（或忽略）而不是停止线程。

注意：对于 ExecutorService 中的线程，中断任务会中断线程，并且 ExecutorService 会根据设计捕获这一点并且不会关闭线程。

# java - JAXB 通用适配器

> ID：12928971
> 
> 赞同：3
> 
> 时间：2012-10-17T07:10:44.827
> 
> 标签：java, xml, jaxb, xjc, moxy

假设我有类人：

```
class Person{
  String firstName;
  String lastName;
  String email;
} 
```

XML 具有以下格式：

```
<person>
 <firstName value="asd" /> 
 <lastName value="bcd" />
 <email value="qwe" />
</person> 
```

我可以为 FirstNameAdapter、LastNameAdapter、EmailAdapter 中的每个字段使用自己的 XmlAdapter 实现来解组/编组此类。如您所见，每个字段都以类似的方式表示 - 字段名称作为 xml 元素，字段值作为元素的属性。是否可以创建“通用”适配器，我可以将字段名称传输到该适配器并提取该字段的值？

PS 我知道 MOXy JAXB 实现，但我想知道是否可以通过参考 JAXB 实现来实现。

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-17T08:49:47.610

你可以使用[`XmlAdapter`](http://docs.oracle.com/javase/7/docs/api/javax/xml/bind/annotation/adapters/XmlAdapter.html)这样的：

```
import java.io.*;
import javax.xml.bind.*;
import javax.xml.bind.annotation.*;
import javax.xml.bind.annotation.adapters.*;

@XmlType
class Valued {
    @XmlAttribute(name="value")
    public String value;
}

class ValuedAdapter extends XmlAdapter<Valued, String> {
    public Valued marshal(String s) {
        Valued v = new Valued();
        v.value = s;
        return v;
    }
    public String unmarshal(Valued v) {
        return v.value;
    }
}

@XmlRootElement
class Person {

    @XmlJavaTypeAdapter(ValuedAdapter.class)
    @XmlElement
    String firstName;

    @XmlJavaTypeAdapter(ValuedAdapter.class)
    @XmlElement
    String lastName;

}

class SO12928971 {
    public static void main(String[] args) throws Exception {
        Person p = new Person();
        p.firstName = "John";
        p.lastName = "Doe";
        JAXBContext jc = JAXBContext.newInstance(Person.class);
        StringWriter sw = new StringWriter();
        jc.createMarshaller().marshal(p, sw);
        String xml = sw.toString();
        System.out.println(xml);
        StringReader sr = new StringReader(xml);
        p = (Person)jc.createUnmarshaller().unmarshal(sr);
        assert "John".equals(p.firstName);
        assert "Doe".equals(p.lastName);
    }
} 
```

这里的想法是 XML Schema 以及 JAXB 在*元素名称*和*内容类型之间有明显的区别，*尽管许多文档在这两者之间具有明确的一一对应关系。所以在上面的代码中，*类型* `Valued`描述了具有`value`属性的东西，而不考虑元素名称。您要序列化的成员被注释为该注释中`@XmlElement`不包含名称。因此，它们将生成名称源自成员名称的元素。注释将`@XmlJavaTypeAdapter`导致序列化程序将这些成员视为它们的类型 vere `Valued`。这就是他们的 XML 内容类型。

上述代码的架构如下所示：

```
<xs:schema version="1.0" xmlns:xs="http://www.w3.org/2001/XMLSchema">

  <xs:element name="person" type="person"/>

  <xs:complexType name="person">
    <xs:sequence>
      <xs:element name="firstName" type="valued" minOccurs="0"/>
      <xs:element name="lastName" type="valued" minOccurs="0"/>
    </xs:sequence>
  </xs:complexType>

  <xs:complexType name="valued">
    <xs:sequence/>
    <xs:attribute name="value" type="xs:string"/>
  </xs:complexType>
</xs:schema> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T10:18:48.867

**注意：** 我是[**EclipseLink JAXB (MOXy)**](http://www.eclipse.org/eclipselink/moxy.php)负责人，也是**[JAXB (JSR-222)](http://jcp.org/en/jsr/detail?id=222)**专家组的成员。

> PS 我知道 MOXy JAXB 实现，但我想知道是否可以通过参考 JAXB 实现来实现。

为了比较起见，我添加了如何使用 EclipseLink JAXB (MOXy) 的`@XmlPath`扩展来完成此操作。

**人**

```
package forum12928971;

import javax.xml.bind.annotation.*;
import org.eclipse.persistence.oxm.annotations.XmlPath;

@XmlRootElement
@XmlAccessorType(XmlAccessType.FIELD)
class Person{

    @XmlPath("firstName/@value")
    String firstName;

    @XmlPath("lastName/@value")
    String lastName;

    @XmlPath("email/@value")
    String email;

} 
```

**jaxb.properties**

要将 MOXy 指定为您的 JAXB 提供程序，您需要添加一个`jaxb.properties`在与您的域模型相同的包中调用的文件，其中包含以下条目：

```
javax.xml.bind.context.factory=org.eclipse.persistence.jaxb.JAXBContextFactory 
```

**演示**

```
package forum12928971;

import java.io.File;
import javax.xml.bind.*;

public class Demo {
    public static void main(String[] args) throws Exception {
        JAXBContext jc = JAXBContext.newInstance(Person.class);

        Unmarshaller unmarshaller = jc.createUnmarshaller();
        File xml = new File("src/forum12928971/input.xml");
        Person person = (Person) unmarshaller.unmarshal(xml);

        Marshaller marshaller = jc.createMarshaller();
        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);
        marshaller.marshal(person, System.out);
    }

} 
```

**输入.xml/输出**

```
<?xml version="1.0" encoding="UTF-8"?>
<person>
   <firstName value="asd"/>
   <lastName value="bcd"/>
   <email value="qwe"/>
</person> 
```

# php - jQuery 自动完成功能已停止工作

> ID：12928976
> 
> 赞同：3
> 
> 时间：2012-10-17T07:11:10.490
> 
> 标签：php, jquery, wordpress, jquery-ui

我有一个很长的注册表单，我在一个以前工作过的字段上自动完成。该网站在 WordPress 上，我在 main.js 中加载了 jQuery UI，它显示在页面的源代码上。它包含在 jQuery 之后。这是支持自动完成的代码段。

```
jQuery(document).ready(function($) {var kurssit = [<?php echo file_get_contents("http://xxx.xxx", "r");?>];
$("#kurssi").autocomplete({
source: kurssit
});
}); 
```

php 会像这样加载它：

```
jQuery(document).ready(function($) {var kurssit = [
"Taaperokurssi",
"Junnukurssi",
"Yhteiseloa myötäkarvaan",
"Lapsi ja koira",
"Pentutoko",
"Aktivoi tokolla",
"Rallytoko",
"Näyttelyyn tutustumiskurssi",
"Ratkaisuja pulmalliseen ohitukseen",
"Ratkaisuja pulmalliseen ohitukseen - jatkokurssi",
"Hihna-, kontakti- ja luoksetulokurssi",
"Naksutin",
"Lupa koskea",
"Sienikurssi",
"Mejä",
"Mejä jatkokurssi",
"Puuhakurssi",
"Koiranhoidon ABC",
"Hieronta",];
    $("#kurssi").autocomplete({
    source: kurssit
    });
}); 
```

它应该工作，为什么它不起作用？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T08:12:16.847

在您的代码中，您有两个具有相同 id 的元素

```
id="kurssi" 
```

# playframework - 如何处理 Play 框架中缺少的静态文件？

> ID：12928988
> 
> 赞同：1
> 
> 时间：2012-10-17T07:11:40.413
> 
> 标签：playframework, playframework-1.x, static-files

我曾经在 Play 1.2.5 模板中使用以下代码声明我的静态资源：

```
<img src="@{'/public/images/team/myTeam.png'}"/> 
```

我的问题是当指定的文件丢失时，视图崩溃......我怎样才能避免这个问题？我更喜欢显示缺少图像的视图，而不是根本没有视图！

我的上下文：我在 Google App Engine 上使用 Play 1.2.5。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T11:42:14.307

`<img>`是一个 HTML 标记，并具有一个[alt](http://www.w3schools.com/tags/att_img_alt.asp)属性，当图像不可用时，该属性可用于显示而不是图像。此外，如果您在调试模式下工作，您可能会看到由 play 框架生成的错误页面。尝试切换到 prod 模式并检查结果

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T13:46:31.477

虽然这不是一个直接的答案，但也许它会以某种方式帮助你。

一般来说，我会建议从应用程序中删除公共的静态资源，例如图像到某个 CDN（我不知道 Google 的引擎，但快速搜索告诉我人们会这样做），因此您将避免显示错误页面。（注意显示丢失文件的自定义错误页面没有意义，因为您不单独显示图像但带有`<img>`标签）

此外，CDN 可以为您带来更多收益，比如在离客户端更近的距离缓存文件，同时从另一个域的 CDN 获取文件，浏览器不会发送完整的冗余内容，如 cookie 等。最后您可以替换资源而无需重新- 部署应用程序。

# objective-c - 强制我的视图纵向

> ID：12928993
> 
> 赞同：0
> 
> 时间：2012-10-17T07:11:59.400
> 
> 标签：objective-c, xcode, uiinterfaceorientation, device-orientation, uideviceorientation

我正在研究基于 ARC 的项目。我的项目是针对 iOS 4.3 我想强制

纵向到我的观点之一。以下似乎对我不起作用。

```
[[UIDevice currentDevice] performSelector:NSSelectorFromString(@"setOrientation:") withObject:(id)UIInterfaceOrientationPortrait]; 
```

对此有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T07:32:45.150

首先，需要支持方向的 viewController 必须实现以下传递支持的方向的方法。

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation 
```

稍后手动旋转视图直接使用设置设备方向

```
[[UIDevice currentDevice] setOrientation:UIInterfaceOrientationPortrait]; 
```

如果这不起作用，请使用

```
[[UIApplication sharedApplication] setStatusBarOrientation:UIInterfaceOrientationPortrait animated:YES]; 
```

请记住，如果您为设置方向返回 NO，则`shouldAutoRotate`可能无法正常工作。还要在 ios5 和 ios6 中检查这一点，我在 ios5 中尝试过。

**编辑：**对于`setOrientation`不存在的 iOS5 或 iOS6

```
[[UIDevice currentDevice] performSelector:NSSelectorFromString(@"setOrientation:") withObject:(id)UIInterfaceOrientationPortrait]; 
```

这很好用，但这现在可能是一个私有 api。

# ios - 我正在尝试将框架/内核集成到 ios 中的简单 .h 和 .m 文件中？

> ID：12928997
> 
> 赞同：2
> 
> 时间：2012-10-17T07:12:22.173
> 
> 标签：ios, xcode, aurasma

我正在尝试将框架/内核集成到 ios 中的简单 .h 和 .m 文件中。完整的代码说明如下。我想要一个按钮，按下时会启动视图控制器

1.  例如，我会将其放在 viewdid 负载下的哪个位置？

    +(AKViewController*)aurasmaViewControllerWithDelegate: (id)delegate;

我如何呈现视图控制器以及在哪里。

嵌入 Aurasma 内核：代码

只需几行代码并设置适当的构建选项，Aurasma 内核就可以轻松嵌入到您自己的应用程序中。整个 Aurasma 内核由单个视图控制器 AKViewController 控制 - 只需要实例化和呈现该视图控制器即可。可以使用 AKViewController.h 中提供的以下便利创建器来创建 AKViewController： +(AKViewController*)aurasmaViewControllerWithDelegate: (id)delegate; 以模态方式呈现返回的 ViewController 将运行 Aurasma。Aurasma 内核需要一个实现单个方法的委托： - (void)aurasmaViewControllerDidClose:(AKViewController*)aurasmaViewController; 每当 Aurasma 视图控制器希望将程序控制权返回给主机应用程序时，都会调用此委托方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-29T10:28:47.063

我相信 Aurasma 内核是随 AKTest 应用程序一起分发的，该应用程序正是证明了这一点。

在按钮方法上，您需要使用以下代码：

```
if( !self.aurasmaController )
{
    self.aurasmaController = [AKViewController aurasmaViewControllerWithDelegate:self];
}
self.aurasmaController.showsCloseButton = showCloseButton;
self.aurasmaController.delayGuide = YES;
[self presentModalViewController:self.aurasmaController animated:animated]; 
```

模型还需要自行实现 AKViewControllerDelegate，如 AKViewController.h 中定义的那样

# ios - iphone 3g 越狱 ios5 使用 whitedoor

> ID：12928998
> 
> 赞同：-1
> 
> 时间：2012-10-17T07:12:25.883
> 
> 标签：ios, ios5, app-store, jailbreak

我已经使用whitedoor教程将我的iphone 3g越狱到ios5，之后我遇到了两个问题：

1.  设置>关于中的版本显示为3.1.1，但它具有icloud，UI等所有ios5功能所以想知道这有什么问题吗？
2.  而且我无法从 istore 或 cydia 安装任何应用程序，所以请帮助我建议现在可以做什么？acctually 我想下载和使用talk atone 应用程序，但不能这样做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T08:06:44.343

Whited00r 在修改后的 iOS3 中包含 iOS5 功能，因此它不是真正的 iOS5，您无法安装 iOS5 应用程序