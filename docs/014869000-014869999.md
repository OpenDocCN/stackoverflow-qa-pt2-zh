# StackOverflow 问答 14869000-14869999

# java - 如何使用 Apache POI 按名称获取 excel 表

> ID：14869004
> 
> 赞同：0
> 
> 时间：2013-02-14T06:29:54.610
> 
> 标签：java, excel, apache-poi, poi-hssf

我有一个 .xls 文件，它是通过某些过程自动生成的。工作簿中只有 1 张工作表（带有名称）。当我使用以下代码时，它没有抓住工作表

```
HSSFSheet sheet = workbook.getSheetAt(0); 
```

但是，当我将该工作表的内容复制到工作表 1 中的新 .xls 文件中，然后重新运行代码时，它工作正常。我的假设是，它必须抓住索引 0 处存在的任何工作表，那么为什么它在前一种情况下不能工作而在后一种情况下工作正常呢？有任何想法吗？

# powershell - IIS 8下的ServerManager

> ID：14869005
> 
> 赞同：0
> 
> 时间：2013-02-14T06:29:56.937
> 
> 标签：powershell, iis-8

移至 Windows 8，我正在尝试在 powershell 中运行以下命令

```
# Load the Web Management and Administration Assembly
[System.Reflection.Assembly]::LoadWithPartialName("Microsoft.Web.Management")
[System.Reflection.Assembly]::LoadWithPartialName("Microsoft.Web.Administration")

$ServerManager = New-Object Microsoft.Web.Administration.ServerManager
$defaultSite = $ServerManager.Sites["Default Web Site"]; 
```

Sites 数组为空

跑步

```
appcmd.exe list sites 
```

给

```
SITE "Default Web Site" (id:1,bindings:http/*:80:,state:Started) 
```

这适用于带有 Windows 7 的 IIS 7

谢谢，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-18T02:26:38.227

Well lots of trawling through the web produced the following solution

Using

```
$computer = gc env:computername
$ServerManager = [Microsoft.Web.Administration.ServerManager]::OpenRemote($computer.ToLower())
$defaultSite = $ServerManager.Sites["Default Web Site"]; 
```

Produced the desired result. Hope this helps someone else in the future.

# tsql - T-SQL 查询以批量处理数据而不破坏组

> ID：14869010
> 
> 赞同：1
> 
> 时间：2013-02-14T06:30:19.817
> 
> 标签：tsql, batch-processing

我正在使用 SQL 2008 并尝试批量处理表中的数据，但是有一个问题。数据被分成组，当我进行处理时，我必须确保一个组将始终包含在一个批次中，或者换句话说，该组永远不会被拆分到不同的批次中。假设批量大小总是比组大小大得多。这是说明我的意思的设置（代码使用 Jeff Moden 的数据生成逻辑：[http](http://www.sqlservercentral.com/articles/Data+Generation/87901) ://www.sqlservercentral.com/articles/Data+Generation/87901 ）

```
DECLARE @NumberOfRows INT = 1000,
    @StartValue   INT = 1,
    @EndValue     INT = 500,
    @Range        INT

SET @Range = @EndValue - @StartValue + 1

IF OBJECT_ID('tempdb..#SomeTestTable','U') IS NOT NULL
DROP TABLE #SomeTestTable;

SELECT TOP (@NumberOfRows)
GroupID = ABS(CHECKSUM(NEWID())) % @Range + @StartValue
INTO #SomeTestTable
FROM sys.all_columns ac1
CROSS JOIN sys.all_columns ac2 
```

这将创建一个表，其中包含大约 435 组记录，每组包含 1 到 7 条记录。现在，假设我想分批处理这些记录，每批 100 条记录。如何确保我的 GroupID 不会在不同批次之间拆分？如果每批不完全是 100 条记录，我很好，它可能会多一点或少一点。

我很感激任何建议！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:54:28.827

这将导致批次略小于 100 个条目，它将删除所有未完全在选择中的组；

```
WITH cte AS (SELECT TOP 100 * FROM (
  SELECT GroupID, ROW_NUMBER() OVER (PARTITION BY GroupID ORDER BY GroupID) r
  FROM #SomeTestTable) a
  ORDER BY GroupID, r DESC)
SELECT c1.GroupID FROM cte c1
  JOIN cte c2
    ON c1.GroupID = c2.GroupID
   AND c2.r = 1 
```

It'll select the groups with the lowest GroupID's, limited to 100 entries into a common table expression along with the row number, then it'll use the row number to throw away any groups that aren't entirely in the selection (row number 1 needs to be in the selection for the group to be, since the row number is ordered descending before cutting with TOP).

# python - DataFrame的复杂过滤

> ID：14869012
> 
> 赞同：4
> 
> 时间：2013-02-14T06:30:30.457
> 
> 标签：python, pandas

我刚刚开始使用 Pandas，我正在尝试确定它是否是解决我问题的正确工具。

我有一个数据集：

```
date, sourceid, destid, h1..h12 
```

我基本上对每个 H1..H12 列的总和感兴趣，但是，我需要从数据集中排除多个范围。

例如：

> 排除 sourceid = 4944 的 H4、H5、H6 数据，排除目的地 = 481981 的 H8、H9-H12 和 ...

...这可以持续到许多过滤器，因为我们不断删除数据以接近我们的最终模型。

我想我在一个解决方案中看到了我可以构建一个我想要的过滤器列表，然后创建一个函数来测试，但我还没有找到一个很好的例子来工作。

我最初的想法是创建 df 的副本，然后删除我们不想要的数据，如果我们需要它回来 - 我们可以从原始 df 复制回来，但这似乎是错误的道路。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-14T08:19:54.073

通过使用掩码，您不必从数据框中删除数据。例如：

```
mask1 = df.sourceid == 4944
var1 = df[mask1]['H4','H5','H6'].sum() 
```

或者直接做：

```
var1 = df[df.sourceid == 4944]['H4','H5','H6'].sum() 
```

如果有多个过滤器，您可以将布尔掩码与布尔运算符组合：

```
totmask = mask1 & mask2 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T03:53:16.580

您可以使用`DataFrame.ix[]`将数据设置为零。

首先创建一个虚拟 DataFrame：

```
N = 10000    
df = pd.DataFrame(np.random.rand(N, 12), columns=["h%d" % i for i in range(1, 13)], index=["row%d" % i for i in range(1, N+1)])
df["sourceid"] = np.random.randint(0, 50, N)
df["destid"] = np.random.randint(0, 50, N) 
```

然后对于您的每个过滤器，您可以调用：

```
df.ix[df.sourceid == 10, "h4":"h6"] = 0 
```

因为你有 600k 行，所以创建一个掩码数组`df.sourceid == 10`可能很慢。您可以创建将值映射到 DataFrame 索引的 Series 对象：

```
sourceid = pd.Series(df.index.values, index=df["sourceid"].values).sort_index()
destid = pd.Series(df.index.values, index=df["destid"].values).sort_index() 
```

然后排除 h4,h5,h6 where sourceid == 10 by:

```
df.ix[sourceid[10], "h4":"h6"] = 0 
```

查找 sourceid == 10 和 destid == 20 的行 ID：

```
np.intersect1d(sourceid[10].values, destid[20].values, assume_unique=True) 
```

查找 10 <= sourceid <= 12 和 3 <= destid <= 5 的行 ID：

```
np.intersect1d(sourceid.ix[10:12].values, destid.ix[3:5].values, assume_unique=True) 
```

sourceid 和 destid 是具有重复索引值的 Series，当索引值有序时，Pandas 使用 searchsorted 查找索引。它是 O(log N)，比创建 O(N) 的掩码数组更快。

# phpmailer - 服务器不接受 PHPmailer 数据：421

> ID：14869016
> 
> 赞同：0
> 
> 时间：2013-02-14T06:30:54.207
> 
> 标签：phpmailer

如果我使用 PHPmailer 发送单行消息，则不会出现任何错误。

但是如果我发送大消息（10 行），我会收到以下错误 ::.

```
SMTP -> FROM SERVER:250 2.5.0 Address Ok.
SMTP -> FROM SERVER:250 2.1.5 <toaddress>@gmail.com OK.
SMTP -> FROM SERVER:354 Enter mail, end with a single ".".
SMTP -> FROM SERVER:421 4.4.2 Timeout while waiting for command.
SMTP -> ERROR: DATA not accepted from server: 421 4.4.2 Timeout while waiting for command.
SMTP Error: Data not accepted. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T12:44:05.480

那是关于你的`timeout`价值。在您的 class.phpmailer.php 中找到以下代码

`var $Timeout = 10;`

然后将该值更改为更高的值。

# iphone - Uialertview 中的 Uistepper

> ID：14869020
> 
> 赞同：0
> 
> 时间：2013-02-14T06:31:07.490
> 
> 标签：iphone, objective-c, ios6

我怎样才能`UIStepper`显示`UIAlertView`？`UIStepper`还建议我在弹出窗口中显示任何其他替代方案。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-14T06:45:57.800

试试这个..希望它会帮助你

```
 UIStepper *stepper = [[UIStepper alloc] initWithFrame:CGRectMake(120, 20, 0, 0)];

    UIAlertView *alert =[[UIAlertView alloc]init];// you can set your frame according to ypur requirment
    [alert addSubview:stepper];
    [alert show]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T06:47:49.073

插入视图的更好方法是将`UIAlertView`它们添加为子视图

尝试以下

```
UIAlertView *alert = [[UIAlertView alloc]initWithTitle:nil message:@"\n\n" delegate:nil  cancelButtonTitle:@"OK" otherButtonTitles: nil];
    UIStepper* stepper = [[UIStepper alloc] init];
    stepper.frame = CGRectMake(12.0, 5.0, 100, 10);
    [alert addSubview:stepper];
    [alert show]; 
```

# ruby-on-rails - 获取 ruby 项目根目录的路径

> ID：14869021
> 
> 赞同：1
> 
> 时间：2013-02-14T06:31:12.923
> 
> 标签：ruby-on-rails, path

我的 ruby​​ 项目如下所示：

```
my_dir
   - app
       + controllers
       + views
       + models
           * foo.rb
   - doc
       + dummy.txt 
```

在里面`foo.rb`，我有一个常量，如下所示

```
PATH_TO_DUMMY="../../doc/dummy.txt"
def bar(path=PATH_TO_DUMMY)
   # do something
end 
```

“../../doc/dummy.txt”是定义路径的正确方法`<my_dir>/doc/dummy.txt`吗？它看起来不太好，因为那只是从`app/models`

有没有办法获得我的项目目录的绝对路径，所以我可以这样做：

```
PATH_TO_DUMMY=File.jon(PROJECT_ROOT, "doc/dummy.txt") 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T07:34:40.973

```
File.join(Rails.root, "doc", "dummy.txt") 
```

或者

```
Rails.root.join("doc", "dummy.txt") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:26:13.740

用于`Rails.root`获取项目目录的路径。在你的情况下，它将是

`PATH_TO_DUMMY=File.join(Rails.root, "doc/dummy.txt")`

# selenium - 在鼠标指针物理移动之前，fancybox 不会打开

> ID：14869024
> 
> 赞同：0
> 
> 时间：2013-02-14T06:31:21.330
> 
> 标签：selenium, selenium-webdriver

**设想：**

我有画廊页面，其中不同的图像粘贴在屏幕上，当我单击图像时，带有下一个和上一个按钮的花式框打开，用户可以下一个和返回以查看花式框中的所有图像

**问题**

直到我在测试运行期间将鼠标指针物理移动到选定图像上或将鼠标指针设置在测试运行前将显示选定图像的屏幕上之前，花式框才会打开

```
 WebElement el = driver.findElement(By.xpath("//div[2]/p/a/span"));
    Actions builder = new Actions(driver);
    builder.moveToElement(el).click();
    builder.perform();
    driver.manage().timeouts().implicitlyWait(2000, TimeUnit.SECONDS);

    // following code add to move mouse pointer physically but its also not working

    Point coordinates = driver.findElement(By.xpath("//div[2]/p/a/span")).getLocation();
    Robot robot = new Robot();
    robot.mouseMove(coordinates.getX(),coordinates.getY()+120); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:03:35.367

Webdriver 可以在不使用`Actions`. 试试下面的代码片段是否适合你。

```
WebElement el = driver.findElement(By.xpath("//div[2]/p/a/span"));
el.click(); 
```

如果没有，请验证您的 xpath 一次并发布您得到的错误。

此外，您在执行点击操作后添加了隐式等待。这不会引入对 click 命令本身的任何等待。隐式等待与`driver`变量的生命周期相关联，理想情况下应在`driver`实例化时添加。

如果您需要为每个操作定制的等待，请尝试使用`Explicit Waits`.

# sql - 需要从两个表查询中获取数据的解决方案

> ID：14869029
> 
> 赞同：2
> 
> 时间：2013-02-14T06:32:07.890
> 
> 标签：sql

以下是 IPL 匹配数据库关系：

1.  `Player (playerId, name, playsfor)`：每个球员和他效力的球队的详细信息。Playsfor 在 Team 表中引用 teamid。
2.  `Team (Teamid, Name)`: 团队详情。
3.  `PlayerBat (Playerid, matchid, Runscored, Teamid)`：球员在每场比赛中的得分。仅当玩家在比赛中上场时才会为该玩家排一排。
4.  `PlayerBowl (Playerid, matchid, WicketTaken, teamid)`：球员在每场比赛中取得的三柱门。仅当玩家在比赛中上场时才会为该玩家排一排。
5.  `PlayerMatchDetails (Playerid, Matchid)`：包含参加比赛的球员的姓名。

您需要编写一个 SQL 查询来获取在比赛 IPL11 中由 Team id T02 得分的总跑数 注 1：要在结果或输出中显示的列应仅为 totalRun。

任何人都可以帮助我，我是 sql 新手。如何从两条或多条记录中获取数据？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:37:16.717

由于您只查找总运行次数，因此无需加入其他表，您只需执行以下操作：

```
SELECT 
  SUM(Runscored) AS TotalRuns
FROM PlayerBat
WHERE teamid = 'T02'
  AND matchid = 'IPL11'; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T06:44:44.383

```
select
  sum(Runscored) as totalRun 
  from `PlayerBat`
  where  Teamid = 'T02' and matchid = 'IPL11' 
```

# php - 未捕获的 SoapFault 异常：服务器无法处理请求。---> System.ApplicationException

> ID：14869030
> 
> 赞同：1
> 
> 时间：2013-02-14T06:32:09.680
> 
> 标签：php, web-services, soapexception

直到昨天，我的 php 代码一直运行良好，直到今天。我开始收到这个错误。我没有更改我的代码，也不知道它是如何发生的。

```
Fatal error: Uncaught SoapFault exception: [soap:Server] System.Web.Services.Protocols.SoapException: Server was unable to process request. ---> System.ApplicationException: Error putting together artwork object from Lieberman's code and item number while generating on the fly image. ---> System.Exception: Publisher Code: "" is invalid at FulcrumGallery.Gallery.Lob.Artwork.PrivateGetByLiebermansNumber(String publisherCode, String publisherItemNumber) at FulcrumGallery.Gallery.Lob.Artwork.GetByLiebermansNumber(String publisherCode, String publisherItemNumber) at FulcrumGallery.Gallery.Lob.RootArtwork.ArtworkGetByLiebermansNumber(String publisherCode, String publisherItemNumber) at Metaverse.Chameleon.Web.Services.V2.LiebermansService.GetDataFeedImages(ProductIdentifier[] productIdentifiers) --- End of inner exception stack trace --- at Metaverse.Chameleon.Web.Services.V2.LiebermansService.GetDataFeedImages(ProductIdentifier[] productIdentifiers) --- End of inner exception stack trace --- in /home/wacti in /home/wactive/public_html/dev/poptart/orioleintellect_webservices/get_GetDataFeedImages.php on line 53 
```

任何帮助都会很棒！

# c# - 同步方向未按预期工作

> ID：14869031
> 
> 赞同：0
> 
> 时间：2013-02-14T06:32:12.767
> 
> 标签：c#, microsoft-sync-framework

我有一个使用 Microsoft Sync Framework 的项目。除同步方向外，一切正常。我根据用户的选择设置同步协调器的同步方向是上传还是下载。

编辑：

我上传了一份文件以更好地解释情况：

[谷歌文档链接](https://docs.google.com/file/d/0BzNIZTJXVnAWbVZSWU5mNEx3eFk/edit?usp=sharing)

代码：

```
private void RunSynch()
{
    SqlConnection sqlServer = new SqlConnection(GetServerConnectionString());
    SqlConnection sqlClient = new SqlConnection(GetClientConnectionString());

    SyncOrchestrator syncOrchestrator = new SyncOrchestrator();
    syncOrchestrator.LocalProvider = new SqlSyncProvider(strScopeName, sqlClient);
    syncOrchestrator.RemoteProvider = new SqlSyncProvider(strScopeName, sqlServer); 

    switch(iButtonState) // int constant
    {
        case STATE_UPLOAD:

            syncOrchestrator.Direction = SyncDirectionOrder.Upload;
            break;

        case STATE_DOWNLOAD:

            syncOrchestrator.Direction = SyncDirectionOrder.Download;
            break;
    }

    ((SqlSyncProvider)syncOrchestrator.RemoteProvider).ApplyChangeFailed += new EventHandler<DbApplyChangeFailedEventArgs>(RemoteProvider_ApplyChangeFailed);
    ((SqlSyncProvider)syncOrchestrator.LocalProvider).ApplyChangeFailed += new EventHandler<DbApplyChangeFailedEventArgs>(LocalProvider_ApplyChangeFailed);

    syncStats = syncOrchestrator.Synchronize();
}

private void RemoteProvider_ApplyChangeFailed(object sender, DbApplyChangeFailedEventArgs e)
{

    if (rdoConflict.SelectedIndex == 0)// server wins option
    {
        e.Action = ApplyAction.Continue;
    }
    else
    {
        e.Action = ApplyAction.RetryWithForceWrite;
    }
}

private void LocalProvider_ApplyChangeFailed(object sender, DbApplyChangeFailedEventArgs e)
{
    if (rdoConflict.SelectedIndex == 0) // server wins option
    {
        e.Action = ApplyAction.RetryWithForceWrite;
    }
    else
    {
        e.Action = ApplyAction.Continue;
    }
} 
```

这里的问题是服务器数据库会被客户端更改更新，即使同步方向只是下载。

固定的：

我现在终于可以正常工作了。同步框架完全没有问题，但它是分配方向的开关部分，我调试并发现程序没有通过开关盒，这就是为什么方向总是双向的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:48:32.913

我终于明白了原因：

第一次同步数据库时发生了什么。

如果他们两个都有不同的数据，那么所有的行都会发生冲突。

并且在默认情况下始终默认服务器获胜（您可以将其更改为远程获胜）也

所以所有的变化都来自远程，这就是为什么你想知道 Sync Framework 是错误的。

原因：

稍后当通过同时更改远程和中央数据库发生一些冲突时，服务器获胜

更新：

与您的提供商一起使用：

```
localProvider.ApplyChangeFailed += new EventHandler<DbApplyChangeFailedEventArgs>(LocalProvider_ApplyChangeFailed);
remoteProvider.ApplyChangeFailed += new EventHandler<DbApplyChangeFailedEventArgs>(RemoteProvider_ApplyChangeFailed);

private void LocalProvider_ApplyChangeFailed(object sender, DbApplyChangeFailedEventArgs e)
    {

     // Need to right your conditions like 
        e.Action = ApplyAction.Continue;

    } 
```

# gwt - GWT Composite 与 liferay portlet

> ID：14869035
> 
> 赞同：0
> 
> 时间：2013-02-14T06:32:24.310
> 
> 标签：gwt, liferay

我只想通过 gwt 项目创建一个 gwt 组合。然后将此复合材料制成罐子。然后想在我的liferay项目的lib文件夹中添加我的每个protlet都可以使用这个gwt组合。

我该怎么做？

* * *

到目前为止我做了什么：

*   创建 gwt 复合，删除入口点并重新编写 .gwt.xml 并创建我的类扩展复合。
*   然后创建罐子。
*   然后复制 jar liferay lib 文件夹
*   然后用jar附加源（java构建路径>库>选择jar并附加源意味着gwt复合项目）[我正在使用eclipse]。
*   然后继承 portlet .gwt.xml 文件，如：
*   然后创建复合类的实例并得到这个错误

`[javac] Compiling 1 source file to /home/bglobal/liferay-sdk/portlets/data-grid-portlet/docroot/WEB-INF/classes
[javac] /home/bglobal/liferay-sdk/portlets/data-grid-portlet/docroot/WEB-INF/src/com/prolexic/portlet/datagrid/client/DataGridServiceEntryPoint.java:9: package com.prolexic.commonCompositeWidget.client does not exist
[javac] import com.prolexic.commonCompositeWidget.client.CommonCompositeWidget;
[javac] ^
[javac] /home/bglobal/liferay-sdk/portlets/data-grid-portlet/docroot/WEB-INF/src/com/prolexic/portlet/datagrid/client/DataGridServiceEntryPoint.java:17: cannot find symbol
[javac] symbol : class CommonCompositeWidget
[javac] location: class com.prolexic.portlet.datagrid.client.DataGridServiceEntryPoint
[javac] CommonCompositeWidget mycomposite = new CommonCompositeWidget("This is the GWT Composite portlet.");
[javac] ^
[javac] /home/bglobal/liferay-sdk/portlets/data-grid-portlet/docroot/WEB-INF/src/com/prolexic/portlet/datagrid/client/DataGridServiceEntryPoint.java:17: cannot find symbol
[javac] symbol : class CommonCompositeWidget
[javac] location: class com.prolexic.portlet.datagrid.client.DataGridServiceEntryPoint
[javac] CommonCompositeWidget mycomposite = new CommonCompositeWidget("This is the GWT Composite portlet.");
[javac] ^
[javac] 3 errors` 

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:43:44.337

Gwt 也需要源代码才能在其他项目中使用。因此，在构建 gwt 复合之后，还要在 jar 中包含源文件。然后将其复制到 lib 文件夹中。然后按照这个

*   右键单击项目
*   点击构建路径
*   单击配置构建路径
*   在库中添加 jar
*   并按顺序选择jar并导出
*   在 .gwt.xml 文件中添加继承

上面的 jar 有一个 .gwt.xml 文件，因为它是 gwt 项目，否则创建一个 .gwt.xml 文件并在其中包含源路径。

（这两个项目都是 GWT，那么您可以直接在 build bath 中添加项目并在 liferay 项目的 .gwt.xml 中继承）

如果您不想在 GWT 项目中使用它，然后配置为 maven 然后构建项目，那么您将获得 jar 并在其他项目中重用它

# python - 从 SQLServer 解析 XML 文件

> ID：14869037
> 
> 赞同：0
> 
> 时间：2013-02-14T06:32:36.423
> 
> 标签：python, sql-server, xml, ms-access, xml-parsing

我收到了一个“xml”文件，尽管它看起来并不像 XML。我知道它是从 Microsoft Access 或 SQLServer 导出的。该文件看起来像这样：

```
>>> contents[:1000]
'\xef\xbb\xbf<?xml version="1.0"?><Report xmlns="Ascent_x0_Metadata_x0020_Report_x0020__x002ted" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="Ascent_x0020_Me0_Repo29__x0020_updated http://reportserver?
%2fAsata+Report+(by+Title+Letter)+updated&amp;rs%3aFormat=XML&amp;rc%3aSchema=True" 
Name="Ascent Report (by Title Letter) updated">
    <table1>
        <Detail_Collection>
            <Detail ISOCountry="AR" TitleSort="A Very Brady Sequel" 
                ReleaseYear="1996" TitleKind="N/A" TitleType="N/A"... 
```

此外，我什至无法打开这个文件`TextMate`——每次我尝试它都会使程序崩溃。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T06:41:33.130

第一个十六进制字符是 UTF-8 字节顺序标记 ( [http://en.wikipedia.org/wiki/Byte_order_mark0xEF,0xBB,0xBF](http://en.wikipedia.org/wiki/Byte_order_mark0xEF,0xBB,0xBF) )。

这只是意味着您收到的内容被编码为 UTF-8，您应该通过设置用于读取它的编码来处理它。就 XML 而言，文件的其余部分看起来还不错。

Textmate 应该可以使用 UTF-8，但文件可能太大了。

# java - 为什么Java中没有@Implements注解？

> ID：14869039
> 
> 赞同：13
> 
> 时间：2013-02-14T06:32:52.277
> 
> 标签：java, annotations

在我的派生类中重写一些超类方法时，我发现`@Override`注释非常有用。基本上，编译器会尽早检测到我的程序中的缺陷，这总是一件好事。但是为什么Java中没有@Implements注解呢？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-02-14T06:34:01.567

因为您也使用`@Override`接口定义的方法。

（是的，您是在“实现”而不是“覆盖”......但`@Override`两者都使用）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T06:43:04.663

从 Java 6 开始，您可以在实现接口中定义的方法的类方法上使用 @Override

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-14T06:41:58.893

为了实现我们使用的接口`implements`，如果该接口中存在任何方法，那么我们将覆盖这些方法以提供实现。

所以只有`@Override`注释，因为在这两种情况下（类或接口）我们总是覆盖。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-14T06:35:23.687

要实现接口，关键字已经存在：`implements`. 但是对于覆盖，不存在这样的关键字。`@Override`不是关键字，但作用相似。

# sql - 对多个表进行 SQL 查询，其中一个是联结表

> ID：14869041
> 
> 赞同：3
> 
> 时间：2013-02-14T06:33:02.943
> 
> 标签：sql, join, junction-table

我有一个相当简单的数据库，由 4 个表组成：

```
Table 1: USERS
Columns:  userID, user_name

Table 2: GROUPS
Columns:  groupID, group_name

Table 3 (Junction Table): GROUP_MATRIX
Columns:  userID, groupID

Table 4: Messages
Columns: messageID, message, userID, groupID 
```

我想查询所有消息，结果格式如下：

```
user_name, message 
```

我形成了这样的查询：

```
SELECT USERS.user_name, MESSAGES.message
FROM GROUP_MATRIX
JOIN USERS on GROUP_MATRIX.userID = USERS.userID
JOIN MESSAGES on GROUP_MATRIX.userID = MESSAGES.userID 
```

它有点工作，但我得到了一些重复的结果。似乎如果一个 user_ID 多次出现在 GROUP_MATRIX 中，那就是当我得到该用户的重复结果时。显然我不明白我正在尝试做的 JOIN，有人可以帮我理解我做错了什么吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T07:07:58.913

`DISTINCT`在`SELECT`子句中使用关键字，如下所示：

```
SELECT DISTINCT USERS.user_name, MESSAGES.message
FROM GROUP_MATRIX
JOIN USERS on GROUP_MATRIX.userID = USERS.userID
JOIN MESSAGES on GROUP_MATRIX.userID = MESSAGES.userID; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T06:53:52.617

由于您只需要用户名和消息，因此您不想使用组和联结表。

```
Select 
   us.user_name, msg.message 
   from Messages as msg 
   LEFT JOIN USERS as us ON (msg.userID = us.userID)
   groupby msg.messageID 
```

# winforms - 什么是默认的自动滚动间隔和步长？

> ID：14869047
> 
> 赞同：2
> 
> 时间：2013-02-14T06:33:22.847
> 
> 标签：winforms, winapi, scroll, custom-controls

我正在从头开始编写自定义树控件，并且我还实现了 Windows 控件的大部分默认行为。我的最后一项更改涉及添加所谓的自动滚动功能：如果您开始进行矩形选择并在控件下方或上方拖动鼠标，它会开始自动滚动，这样您就可以选择比当前可见的更多的元素。

我希望我的控件的行为尽可能与其他 Windows 控件相似，所以我的问题是：自动滚动间隔和滚动步骤（例如要滚动的像素）是否在 WinAPI 中的某处定义？距控制边界的不同距离是否有不同的滚动速度，如果有，它们是否也在某个地方定义？

# java - 用于开发中型 Java 应用程序的资源

> ID：14869049
> 
> 赞同：2
> 
> 时间：2013-02-14T06:33:32.473
> 
> 标签：java, design-patterns, user-interface, architecture

所以我已经完成了所有关于编程、算法等的课程，并且做了很多编码和一些小项目。现在，我可能会开始做一个真正的项目，真正的带有 gui 的 Java SE 程序和所有东西，虽然不大，但比一般的学校项目要复杂得多。我的经验表明，当我的项目中有更多类（比如 10 个）时，很难决定应该从哪里调用这个构造函数，是应该在这里传递这个参数还是稍后创建它，**以及整个事情如何应该一起工作。**

你能给我推荐一些这方面的资源吗？我应该走学习设计模式的道路，还是如何设计具有良好架构的应用程序？开发具有大量类和 gui 等的应用程序时的程序是什么？多谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:56:36.317

对于设计模式：[Head First Design Patterns](https://rads.stackoverflow.com/amzn/click/com/0596007124) & [Design Patterns: Elements-Reusable-Object-Oriented](https://rads.stackoverflow.com/amzn/click/com/0201633612)

有效的编程指南：推荐阅读[Joshua Bloch 的 Effective Java](https://rads.stackoverflow.com/amzn/click/com/0321356683)

我个人喜欢采用 TDD 方法，并且喜欢阅读[Misko Hevery 的博客 Writing Testable Code](http://misko.hevery.com/code-reviewers-guide/)。它解释了我们应该如何专注于使代码松耦合和可测试。

最后，继续探索开源库和项目，它们将使您了解最新趋势和编码风格。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T06:44:04.880

设计模式通常有助于使应用程序更易于维护，也更灵活。尽管使用哪种设计模式基本上取决于您遇到的问题类型。

我确实读过[这](https://rads.stackoverflow.com/amzn/click/com/0596007124)本书，它为我提供了一种快速简单的方法来掌握设计模式是什么以及它们是如何工作的。

由于您正在处理与 GUI 相关的应用程序，我唯一的建议是尝试将您的 GUI 和逻辑分开。这应该会减少混乱并使您的代码更易于理解，因为每个类都处理与其层相关的项目（GIU 或逻辑）。

分解事物还可以使您的应用程序更加灵活和可重用。[内聚与耦合](http://www.agile-code.com/blog/cohesion-vs-coupling-separate-concerns/)也应该是你应该记住的另一件事。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T08:26:25.267

对于应用程序设计，请先阅读《设计模式》甚至是《四人帮》的原始设计模式书（如果你是那种喜欢更直接理论的人），我认为对你有一些企业设计模式的知识可能会很有用（Hohpe 和 Wolf 的企业集成模式）将帮助您了解如何在小型 SE 项目中实现灵活的通信。（即使这些系统有时也需要某种进程间通信）。

此外，Narendra 和 npinti 的回答也是非常好的建议。

玩得开心！

# java - 第 1000 条中的休眠标准分手

> ID：14869054
> 
> 赞同：17
> 
> 时间：2013-02-14T06:33:54.747
> 
> 标签：java, hibernate, database-performance

嗨，我有这个大型 oracle hibernate web 应用程序，它似乎给出了这个错误

`ORA-01795: maximum number of expressions in a list is 1000`

我需要一个由某人测试的 java 代码作为休眠用户定义的组件，以便尽可能容易地添加到我的屏幕中的搜索 java 类中，有人可以拥有这样的测试组件吗？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-02-14T06:37:29.660

[我从链接](http://mpujari.blogspot.com/2010/11/hibernate-criterion-in-clause-1000.html)中尝试了下面的代码，它似乎工作得很好，我将粘贴代码以防将来链接被破坏。

保持简单保持微笑:)

```
 /**
    * An utility method to build the Criterion Query IN clause if the number of parameter
    * values passed has a size more than 1000\. Oracle does not allow more than
    * 1000 parameter values in a IN clause. Doing so a {@link SQLException} is
    * thrown with error code, 'ORA-01795: maximum number of expressions in a list is 1000'.
    * @param propertyName
    * @param values
    * @return
    */
import java.util.List;
import org.hibernate.criterion.Restrictions;

/**
 *
 * @author 2796
 */
public class SplitHibernateIn {

    private static int PARAMETER_LIMIT = 999;

    public static org.hibernate.criterion.Criterion buildInCriterion(String propertyName, List values) {
        org.hibernate.criterion.Criterion criterion = null;

        int listSize = values.size();
        for (int i = 0; i < listSize; i += PARAMETER_LIMIT) {
            List subList;
            if (listSize > i + PARAMETER_LIMIT) {
                subList = values.subList(i, (i + PARAMETER_LIMIT));
            } else {
                subList = values.subList(i, listSize);
            }
            if (criterion != null) {
                criterion = Restrictions.or(criterion, Restrictions.in(propertyName, subList));
            } else {
                criterion = Restrictions.in(propertyName, subList);
            }
        }
        return criterion;
    }
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2016-06-15T05:33:43.603

相同的想法，但使用 javax Predicate。

```
private static int PARAMETER_LIMIT = 999;

private static Predicate createInStatement(CriteriaBuilder cb, Path fieldName, List values) {
    int listSize = values.size();
    Predicate predicate = null;
    for (int i = 0; i < listSize; i += PARAMETER_LIMIT) {
        List subList;
        if (listSize > i + PARAMETER_LIMIT) {
            subList = values.subList(i, (i + PARAMETER_LIMIT));
        } else {
            subList = values.subList(i, listSize);
        }
        if (predicate == null) {
            predicate = fieldName.in(subList);
        } else {
            predicate = cb.or(predicate, fieldName.in(subList));
        }
    }
    return predicate;
} 
```

以及用法

```
public List<Bean> getBeanList(List<Long> pkList) {
    CriteriaBuilder cb = entityManager.getCriteriaBuilder();
    CriteriaQuery<Bean> query = cb.createQuery(Bean.class);
    Root<Bean> root = query.from(Bean.class);

    // "Bean_" is a @StaticMetamodel(Bean.class)
    Predicate inStatement = createInStatement(cb, root.get(Bean_.pk), pkList);

    query.select(root).where(inStatement);
    return entityManager.createQuery(query).getResultList();
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-01-20T17:33:22.237

虽然目前的答案很好，但我认为这个答案更容易实现和理解：

```
private <T> Disjunction restrictionPropertyIn(String property, ArrayList<T> list) {
    Disjunction criterion = Restrictions.disjunction();
    for (List<T> idSubset : Lists.partition(list, 1000)) {
        criterion.add(Restrictions.in(property, idSubset));
    }
    return criterion;
} 
```

*   `Restrictions.disjunction()`相当于`Criteria`使用`Restrictions.or()`.
*   `Lists`是来自 Guava 的实用程序类；`partition(list, limit)`拆分`list`为 size 的子列表`limit`。

返回`Criterion`的可以在任何`Criterion`预期 a 的地方按原样使用，例如：

```
List<Long> fiveThousandIds = Arrays.asList(1, 2, 3, ..., 999, 1000, 1001, ..., 5000);
Criteria crit = session.createCriteria(Employee.class);
crit.add(restrictionPropertyIn("employeeId", fiveThousandIds));
crit.list(); 
```

如果您需要支持具有不同`IN`子句限制的不同数据库，您可以将硬编码`1000`转换为参数。

# python - 在python中排列列表列表

> ID：14869059
> 
> 赞同：0
> 
> 时间：2013-02-14T06:34:02.190
> 
> 标签：python, list

我有一些输入数据格式，它就像一棵树。并包含列表列表的列表。输入就像

```
in_put = [[['shop_id', '=', 1]],
           [['shop_id', '=', 1],['product_id', '=', 16]],
           [['shop_id', '=', 1],['product_id', '=', 8]],
           [['shop_id', '=', 1],['product_id', '=', 4]],
           [['shop_id', '=', 1],['product_id', '=', 6]],
           [['shop_id', '=', 1],['product_id', '=', 16],['so', '=', 1]],
           [['shop_id', '=', 1],['product_id', '=', 8],['so', '=', 1]],
           [['shop_id', '=', 1],['product_id', '=', 4],['so', '=', 1]],
           [['shop_id', '=', 1],['product_id', '=', 6],['so', '=', 1]],
           [['shop_id', '=', 1],['product_id', '=', 16],['so', '=', 2]],
           [['shop_id', '=', 1],['product_id', '=', 8],['so', '=', 2]],
           [['shop_id', '=', 1],['product_id', '=', 4],['so', '=', 2]],
           [['shop_id', '=', 1],['product_id', '=', 6],['so', '=', 2]],
           [['shop_id', '=', 1],['product_id', '=', 16],['so', '=', 1],['state', '=', u'draft']],
           [['shop_id', '=', 1],['product_id', '=', 8],['so', '=', 1],['state', '=', u'draft']],
           [['shop_id', '=', 1],['product_id', '=', 4],['so', '=', 1],['state', '=', u'draft']],
           [['shop_id', '=', 1],['product_id', '=', 6],['so', '=', 1],['state', '=', u'draft']],
           [['shop_id', '=', 1],['product_id', '=', 16],['so', '=', 2],['state', '=', u'draft']],
           [['shop_id', '=', 1],['product_id', '=', 8],['so', '=', 2],['state', '=', u'draft']],
           [['shop_id', '=', 1],['product_id', '=', 4],['so', '=', 2],['state', '=', u'draft']],
           [['shop_id', '=', 1],['product_id', '=', 6],['so', '=', 2],['state', '=', u'draft']],
           ] 
```

我想以以下格式排列数据。

```
output = [   
    [['shop_id', '=', 1]],
    [['shop_id', '=', 1],['product_id', '=', 16]],
    [['shop_id', '=', 1],['product_id', '=', 16],['so', '=', 1]],
    [['shop_id', '=', 1],['product_id', '=', 16],['so', '=', 2]],
    [['shop_id', '=', 1],['product_id', '=', 16],['so', '=', 1],['state', '=', u'draft']],
    [['shop_id', '=', 1],['product_id', '=', 16],['so', '=', 2],['state', '=', u'draft']],
    [['shop_id', '=', 1],['product_id', '=', 8]],
    [['shop_id', '=', 1],['product_id', '=', 8],['so', '=', 1]],
    [['shop_id', '=', 1],['product_id', '=', 8],['so', '=', 2]],
    [['shop_id', '=', 1],['product_id', '=', 8],['so', '=', 1],['state', '=', u'draft']],
    [['shop_id', '=', 1],['product_id', '=', 8],['so', '=', 2],['state', '=', u'draft']],
    [['shop_id', '=', 1],['product_id', '=', 4]],
    [['shop_id', '=', 1],['product_id', '=', 4],['so', '=', 1]],
    [['shop_id', '=', 1],['product_id', '=', 4],['so', '=', 2]],
    [['shop_id', '=', 1],['product_id', '=', 4],['so', '=', 1],['state', '=', u'draft']],
    [['shop_id', '=', 1],['product_id', '=', 4],['so', '=', 2],['state', '=', u'draft']],
    [['shop_id', '=', 1],['product_id', '=', 6]],
    [['shop_id', '=', 1],['product_id', '=', 6],['so', '=', 1]],
    [['shop_id', '=', 1],['product_id', '=', 6],['so', '=', 2]],
    [['shop_id', '=', 1],['product_id', '=', 6],['so', '=', 1],['state', '=', u'draft']],
    [['shop_id', '=', 1],['product_id', '=', 6],['so', '=', 2],['state', '=', u'draft']],
] 
```

我如何实现这样的数据排列。python中有没有可用的短方法，

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-14T07:25:21.363

你应该使用`sorted`：

```
sorted(in_put, key=lambda x: (
                    x[0][2],
                    {16:1,8:2,4:3,6:4}[x[1][2]] if len(x)>1 else None,
                    x[3][2] if len(x)>3 else None,
                    x[2][2] if len(x)>2 else None
                    )) 
```

如果 product_id 需要排序为 16/8/6/4 （而不是在您的示例中的顺序），那么您可以使用

```
sorted(in_put, key=lambda x: (
                    x[0][2],
                    1.0/x[1][2] if len(x)>1 else None,
                    x[3][2] if len(x)>3 else None,
                    x[2][2] if len(x)>2 else None
                    )) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T06:37:27.323

一般来说，我会`sorted`用来获取根据某些标准排序的列表副本。

在您的特定情况下，它不会立即适用。相反，我们可以这样做：

```
output = [in_put[0]] + in_put[1::4] + in_put[2::4] + in_put[3::4] + in_put[4::4] 
```

根据需要重新排列列表。（更短一点，您可以使用`zip`）。

# python - 如果按下键盘序列，则在 python 中继续循环

> ID：14869064
> 
> 赞同：0
> 
> 时间：2013-02-14T06:34:33.737
> 
> 标签：python, keyboard-events

我有一个 Python 脚本，它执行一个 for 循环，该循环运行用于执行测量不同物理现象的科学实验的模块。我想创建一个程序识别的键盘序列，它将继续 for 循环（跳过当前测量）并开始下一个测量序列。

```
 measurement = EXPERIMENT()
    for m in measurement:

        SciExpMeasure(value1,value2, value3) 
```

我希望用户能够输入一些键盘序列（例如“Ctrl+n”），这样

```
 measurement = EXPERIMENT()
    for m in measurement:
        if keyboardSequence: continue

        SciExpMeasure(value1, value2, value3) 
```

如果用户监控数据采集能够跳过错误的测量并继续下一个测量的想法。我已经研究了“按任意键继续”示例，并且认为这些选项在此应用程序中对我不起作用，因为它们似乎在继续之前等待“按任意键”。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:26:27.093

[查看msvcrt](http://docs.python.org/2/library/msvcrt.html#console-i-o)的控制台 I/O 部分。具体来说：

[`msvcrt.kbhit()`](http://docs.python.org/2/library/msvcrt.html#msvcrt.kbhit)：

> 如果按键正在等待读取，则返回 true。

然后 [`msvcrt.getch()`](http://docs.python.org/2/library/msvcrt.html#msvcrt.getch)：

> 读取按键并返回结果字符。控制台没有回显任何内容。如果按键不可用，此调用将阻塞，但不会等待 Enter 被按下。如果按下的键是特殊功能键，则返回 '\000' 或 '\xe0'；下一次调用将返回键码。使用此功能无法读取 Control-C 按键。

# unix - 如何在命令行格式化输出文件？

> ID：14869065
> 
> 赞同：0
> 
> 时间：2013-02-14T06:34:35.977
> 
> 标签：unix, sed, awk, grep

我正在使用 grep 在日志文件的时间戳之后检索所有日志。

```
grep -A 100 "2013/02/13 19*" log.out > newfile.txt 
```

有没有办法在命令行对其进行格式化，以便文本文件的新行从特定文本开始？例如，我希望“信息”从新行开始。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:41:53.347

使用 sed 从 grep 的输出中删除 \r 和 \n 字符，然后使用 sed 将“特定文本”替换为“特定文本\n”字符。我想它应该可以工作。

# c# - 在电子邮件上自动设置日期时间格式

> ID：14869067
> 
> 赞同：0
> 
> 时间：2013-02-14T06:34:52.033
> 
> 标签：c#

我正在创建一个模块，用于发送有关他们在系统上的交易的消息。

但是，当我尝试包含 Datetime`(DateTime.Now.ToShortDateString())`输出时，它会自动格式化。（例如，我输入的代码是 02142013_023345，在我的电子邮件中它变成了 02/14/20132:33 PM）

在处理电子邮件上的 DateTime 时，我需要考虑哪些格式？

*   编辑 *

*非常感谢帮助的家伙。我所做的是，遵循您的建议并重新格式化我的 Datetime 变量。此外，我重新检查了通过电子邮件功能传递的“日期时间变量”的最终值。正确地重新格式化它，在那里，我的问题得到了解决。也感谢您提供的链接和指南，我已将它们添加到我的参考中。*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:42:00.173

`DateTime.Now.ToShortDateString()`将根据您当前线程的文化信息向您返回一个格式化的字符串。

如果您有关于您的用户文化的信息，您可以使用它来编辑当前文化信息。

按照这个链接：

[http://msdn.microsoft.com/en-us/library/system.datetime.toshortdatestring.aspx](http://msdn.microsoft.com/en-us/library/system.datetime.toshortdatestring.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T06:38:17.943

使用[`DateTime.ToString(string format)`](http://msdn.microsoft.com/en-us/library/zdtaw1bw.aspx). [这篇文章](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx)也可能会有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T06:39:19.610

这取决于您的要求，您想为您的电子邮件使用哪种格式。如果您的代码有`02142013_023345`，*（首先是月份，然后是日期，然后是年份）*，那么您可以使用在`ToString`

```
DateTime.Now.ToString("MM/dd/yyyy"); 
```

有关更多格式，请参阅：[自定义日期和时间格式字符串](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx)

# opengl - 关于 glClearBufferiv 中的 drawBuffer

> ID：14869068
> 
> 赞同：1
> 
> 时间：2013-02-14T06:34:52.627
> 
> 标签：opengl, opengl-3

我在非默认 FBO 上渲染几何图形，并将其作为整数纹理应用到在默认 FBO 上渲染的几何图形。要清除非默认 FBO 上的颜色，我正在使用 glClearBufferiv() 调用。在我的情况下，我没有得到什么是 drawBuffer （第二个参数）。我尝试使用 0，但它不起作用。它不会清除颜色。

```
GLint cl[]={32000,32000,32000,32767};
glClearBufferiv(GL_COLOR, 0, cl);

glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT); 
```

我的碎片着色器：

```
out ivec4 fragColor;

void main()
{
fragColor = ivec4(0,32767,0,32767);
} 
```

有了这个，它呈现绿色几何，但外部颜色是黑色。

我有 1 个深度和颜色附件。我调用drawbuffers如下：

```
GLenum buffers[] = { GL_COLOR_ATTACHMENT0};
glDrawBuffers(1,buffers);
GLint cl[]={32000,32000,32000,32767};
glClearBufferiv(GL_COLOR, 0, cl); or
 glClearBufferiv(GL_COLOR, GL_DRAW_BUFFER0, cl) 
```

但仍然是同样的错误。

# html - 如何在 CSS 中将绝对定位的项目居中

> ID：14869070
> 
> 赞同：0
> 
> 时间：2013-02-14T06:35:03.093
> 
> 标签：html, css, css-position

我一直在寻找我的问题的答案，但我大多找到了一个看起来相似但仍然不同的问题的答案。

我有一个图像，我试图在其上放置几个其他较小的图像。我将较大的图像放在 a 中，这样我就可以在较小的图像上使用“位置：继承”，这很好用：我的图像完美地放置在它们的背景上。

我的问题是，为了工作，这需要将我的较大图像设置为“位置：绝对”。因此，我无法将我的整个装置移动到页面上的任何位置，但它当前所在的左上角。

HTML 文件：

```
<html>
<head>
<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<div id="Map">

<img id="X0001Y0001" src="blue_brick.png">

</div>
</body>
</html> 
```

CSS文件：

```
#Map {
background-image:url('CoreMini.png');
height:128px;
width:256px;
position:absolute;
}

#X0001Y0001{position:inherit;top:0px; left:9px} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:40:43.540

将您的 div 包装`#Map`在父 div 中，并为父 div 提供以下内容：

```
#parent {
  position: relative;
  margin: 0 auto;
  width: 256px;
} 
```

见[演示](http://jsfiddle.net/zaknotzak/UW97s/1/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T06:59:50.470

由于您`#Map`是`absolute`为了定位您需要使用的图像`left`和`top`. 这将帮助您定位图像

# iphone - UISplitView 在左窗格中选择特定的相关应显示在右窗格中

> ID：14869073
> 
> 赞同：0
> 
> 时间：2013-02-14T06:35:23.877
> 
> 标签：iphone

**我有一个疑问**，但我对特定查询一无所知。
在 Split View Controller 中，
**如何在左窗格中选择时在右窗格中显示相关信息。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:30:47.200

看看这个教程[http://www.raywenderlich.com/1040/ipad-for-iphone-developers-101-uisplitview-tutorial](http://www.raywenderlich.com/1040/ipad-for-iphone-developers-101-uisplitview-tutorial)。希望这会有所帮助。

# javascript - 为什么有些人写一个像 $(function( $ ) 这样的函数

> ID：14869076
> 
> 赞同：5
> 
> 时间：2013-02-14T06:35:28.273
> 
> 标签：javascript, jquery

我知道类似的代码`$(function( $ )`没有任何意义，但是我在包括[todomvc](http://todomvc.com/architecture-examples/backbone/js/views/app.js)在内的各个地方都找到了这种代码。

`jQuery(function( $ )`编写函数喜欢解决`$`任何其他库使用的任何潜在冲突是有原因的，但不是`$function($)`.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-14T06:42:23.043

没有理由使用

```
$(function($))... 
```

如果你在行的开头使用美元符号，你就认为它是一个 jQuery 对象，所以如果你稍后将 jQuery 对象作为参数传递以避免冲突，你为什么不首先使用它呢？现在说这些也太晚了……

使用它的正确方法是：

```
(function($){ // The dollar variable is a parameter.
   $(function(){ // You use the $ variable only inside the function.
   });
})(jQuery); // jQuery is passed as a parameter.

$.somePrototypeFunctionHere(); // Here the dollar variable can be something else. 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-14T06:41:53.060

**没用的**

这种形式根本没有用：

```
$(function($) {
}); 
```

只有当没有其他库可以覆盖`$`（例如原型）时，它才会起作用。

**它如何有用**

由于 jQuery 将自身作为第一个参数传递给 DOM 就绪事件处理函数，因此您可以通过以下方式充分利用它：

```
jQuery(function($) {
    // this === document
    // $ === jQuery
}); 
```

这种行为的[证明](http://jsbin.com/izexun/1/)也可以在[源代码](https://github.com/jquery/jquery/blob/master/src/core.js#L385)中找到：

```
readyList.resolveWith( document, [ jQuery ] ); 
```

它映射`this`到`document`您的 ready 函数的第一个参数和`jQuery`. 代码看起来有点不明显的原因是因为 ready 事件是使用`Deferred`.

**等效的**

有点等价的符号是这样的：

```
(function($) {
  $(function() {
  }
}(jQuery)); 
```

如果您在准备好的处理程序之外做更多的事情，这将是首选，这实际上比您想象的更频繁地发生。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-14T06:37:24.170

当 DOM 准备就绪时，您可以通过多种方式为 DOM 初始化 jQuery 脚本。流行的方法是：

```
$(document).ready(function(){}); 
```

同样的简写是：

```
$(function(){}); 
```

* * *

### 更新#1：`$()`对战`jQuery()`！

出于询问`jQuery`vs.`$`的原因，原因是大多数库`$`用作访问库中函数的更短的方式。比如说，MooTools 和 Prototype JS。因此，为避免冲突，它们可能会替换`$`为`jQuery`.

jQuery 有一个名为的函数[`jQuery.noConflict();`](http://api.jquery.com/jQuery.noConflict/)，它放弃了 jQuery 对`$`变量的控制，使`$`jQuery 无法工作。希望这可以解决您的问题。

在 Prototype.JS[文档](http://api.prototypejs.org/dom/dollar/)中，该`$`符号返回文档中具有匹配 ID 的元素；否则返回传递的元素。

此外，`$`功能是 Prototype 的基石。它不仅为 提供了一个方便的别名`document.getElementById`，它还允许您将 ID（字符串）或 DOM 节点引用无差别地传递给您的函数。

* * *

### 更新#2：对于您`$`作为参数的问题...

没有人使用：

```
$(function($){}) 
```

它是

```
(function($){})(jQuery); 
```

或者

```
$(function(){}); 
```

请检查。:)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-14T06:38:46.190

```
$(function( $ ) 
```

是简写

```
$(document).ready(function() { 
```

你是对的： `Jquery(function( $ )`在可能与 jquery 和其他 js 库发生冲突的情况下使用

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-14T06:38:58.503

是的，因为您可能知道原型也使用`$`所以这里`jQuery`变得很棒，即使 $ 由其他一些库保留，我们也可以使用 jQuery。

[**检查这里**](http://api.jquery.com/jQuery.noConflict/)

[**将 jQuery 与其他库一起使用**](http://docs.jquery.com/Using_jQuery_with_Other_Libraries)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-02-14T06:38:29.173

大多数写作的人`$(function(){})`都这样做是因为他们是用户。即他们选择使用jquery 而不是任何有冲突的库。因此使用它是安全的。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-14T06:39:26.367

这是解决以下任何潜在冲突的更好方法`$`：

```
(function($){
   $(function(){
      // all the code stuff here....
   });
})(jQuery); 
```

您的编辑：
`My question is actually misunderstood by many giving answers. I want to know about the dollar as an argument in the function.`

这只是为了保护`$`符号的简写，`jQuery`并且还有许多其他库也使用该`$`符号，因此经常有机会遇到麻烦。

从文档中阅读此处：

> 将 jQuery 传递给将其映射到美元符号的 IIFE（立即调用函数表达式）是一种最佳实践，因此它不能在其执行范围内被另一个库覆盖。

```
(function($) {
     // all other things    
})(jQuery); 
```

> 现在在这个闭包中，我们可以随意使用美元符号代替 jQuery。

**更多[在这里阅读](http://docs.jquery.com/Plugins/Authoring)**

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-02-14T07:02:23.170

你的问题不清楚。传递`JQuery`对象使其成为本地范围（据我所知，对于模块）。它被用作性能增强。

```
(function($) {
  // Code in here
})(jQuery); 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-02-14T06:58:58.293

从[准备（） | jQuery](http://api.jquery.com/ready/)

**给 jQuery 命名空间起别名**

当使用另一个 JavaScript 库时，我们可能希望调用`$.noConflict()`以避免命名空间困难。调用此函数时，`$`快捷方式不再可用，迫使我们`jQuery`每次正常写时都要写`$`。但是，传递给`.ready()`方法的处理程序可以接受一个参数，该参数传递给全局`jQuery`对象。这意味着我们可以在`.ready()`处理程序的上下文中重命名对象，而不会影响其他代码：

```
jQuery(document).ready(function($) {
  // Code using $ as usual goes here.
}); 
```

这是在 DOM 完全加载时指定要执行的函数的其他方法。它可以在 jQuery 中以三种方式完成 -

以下所有三种语法都是等效的：

```
jQuery(document).ready(function($){})

jQuery().ready(function($){}) //(this is not recommended)

jQuery(function($){}) 
```

解决冲突的另一种方法是 -

```
(function($) { /* some code that uses $ */ })(jQuery) 
```

您可能喜欢阅读[此](http://docs.jquery.com/Using_jQuery_with_Other_Libraries)内容。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2013-02-14T06:45:19.743

```
$(function() { 
  // Do your code here...
}); 
```

确保文档和脚本已完全下载。

```
(function($){ 
  // Do your code here...
})(jQuery); 
```

允许在函数中使用 $ 符号，而不会与其他库冲突，这赋予 $ 符号不同的含义。

因此，您可以同时使用上述两种方法。

```
(function($){ 
   $(function() { 
      // Do your code here... 
   }); 
})(jQuery); 
```

# java - 使用多个服务还是在单个服务中执行所有操作哪个更可取？

> ID：14869079
> 
> 赞同：0
> 
> 时间：2013-02-14T06:35:47.730
> 
> 标签：java, android, multithreading, sockets

我正在开发一个基于套接字的应用程序，在该应用程序中，我不断更新房间的状态，例如打开和关闭了多少灯。我有 7 个这种房间，我需要更新每个房间的状态。

所以我的问题是我应该为每个房间创建一个单独的服务还是应该在单一服务中执行所有操作？就性能而言，哪种方式更方便。

这是我的单人间服务课程。

```
public class UpdateUiService extends Service 
{
    @Override
    public void onCreate() {
        super.onCreate();
        intent = new Intent(BROADCAST_ACTION);
        try {
            s = new Socket("192.168.1.19,502);
            i = s.getInputStream();
            o = s.getOutputStream();
            System.out.println("connected");
        } catch (UnknownHostException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }

    @Override
    public void onStart(Intent intent, int startId) {
        handler.removeCallbacks(sendUpdatesToUI);
        handler.postDelayed(sendUpdatesToUI, 1000); // 1 second

    }

    private Runnable sendUpdatesToUI = new Runnable() {
        public void run() {
            DisplayLoggingInfo();
            handler.postDelayed(this, Integer.parseInt(interval_dinning));
        }
    };

    private void DisplayLoggingInfo() {
        try {
            byte[] data1 = new byte[1024], packet1 = 
            { 
                (byte) 0x00,(byte) 0x00,(byte) 0x00, 
                (byte) 0x00,(byte) 0x00,(byte) 0x06, 
                (byte) 0x01,(byte) 0x01,(byte) 0x00,
                (byte) 0x00,(byte) 0x00,(byte) 0x19
            };

            o.write(packet1);
            i.read(data1, 0, 1024);

            byte_to_hex = ConversionMethods.bytesToHex(data1).substring(18, 26);

            char[] arr = byte_to_hex.toCharArray();
            for (int i = 0; i < arr.length - 1; i += 2) {
                char temp = arr[i];
                arr[i] = arr[i + 1];
                arr[i + 1] = temp;
            }

            swapped_result = new String(arr);
            result = ConversionMethods.hexStringToNBitBinary(swapped_result, 32);
            int counter_ = 0;
            for( int i=0; i<result.length(); i++ ) 
            {
                if( result.charAt(i) == '1' )
                {
                    counter_++;        
                }  
            }
            status=Integer.toString(counter_);

        } catch (UnknownHostException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

        intent.putExtra("counter", String.valueOf(++counter));
        intent.putExtra("status", status);
        sendBroadcast(intent);
    } 
} 
```

我正在启动此服务并在我想显示此值的活动中获得广播意图。[这是从后台服务更新 UI](http://www.websmithing.com/2011/02/01/how-to-update-the-ui-in-an-android-activity-using-data-from-a-background-service/)的参考链接。

我如何使用多线程来实现这一点。我的最终目标是读取套接字并获得状态结果就是这样。

请指出正确的方向。任何建议和想法将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T23:52:47.747

**问题**

a）从您的代码中，您的服务启动的内容并不明显。是启动一次还是多次。

根据当前的代码，看起来它会向 ip 发送一些东西，读取结果，发送一个广播，就是这样。

那么，问题是，您需要只更新一次灯光状态还是需要不断/定期更新它们？

**想法**

a) 在这种情况下，如果您只需要更新一次灯光状态并且它是从 UI 触发并更新 UI，那么使用专门为此设计的[AsyncTask](http://developer.android.com/reference/android/os/AsyncTask.html)会更好。

由您决定是否要拥有 7 个并发 AsyncTask（如果您想并行更新灯光状态），或者您可以拥有一个 AsyncTask，它将连续更新灯光状态并在每个灯光更新后向 UI 线程报告。

b）在这种情况下，如果您需要持续跟踪灯的状态，那么您最好使用服务。但是，您需要在此服务中有一个长时间运行的线程。所以，你应该在 onStart 中启动一个线程。

通常，它应该（假设每 10 秒一次）调用一些会导致所有通信的方法等等。

在该方法中，您可以启动 X 个线程（每个房间一个），并在这些线程中执行所有操作（写入套接字、读取、解析等），或者您可以在第一个线程中执行所有这些操作。您在这里可以选择与 AsyncTask 相同的选择来并行或串行执行此操作。

c) 此外，当您需要更新灯光状态时，您可能希望保持所有套接字处于活动状态并重用它们以不每 5 秒重新连接一次。

**普通的留言**

a）您正在使用已弃用的 onStart() 。你应该使用 onStartCommand()

b）我知道它可能是一个原型，但是您展示的这段代码质量很低。如果你不清理它，你将来会有很多错误要追逐：

你有代码：

*   很多神奇的数字
*   命名错误的函数（例如 DisplayLoggingInfo，它不显示任何内容，而是读/写套接字，进行一些转换并发送广播）
*   长方法（DisplayLoggingInfo）

*更新 1*

这是适合您的示例应用程序。请注意，这是一个原型。您可能有兴趣添加更多检查，将其分离到更多类等等。

我的服务.java

```
package com.example.servicesample;

import android.app.Service;
import android.content.Intent;
import android.os.IBinder;
import java.lang.Thread;
import android.support.v4.content.LocalBroadcastManager;

public class MyService extends Service implements Runnable {
    public static final String ROOM_STATUS_BROADCAST = "com.example.room_status_broadcast";
    public static final String ROOM_STATUS_BROADCAST_EXTRA_ROOM_NUMBER = "roomnumber";
    public static final String ROOM_STATUS_BROADCAST_EXTRA_STATUS = "status";

    static final int NUM_ROOMS = 7;
    static final int TIME_FOR_A_REST = 5000; //ms

    Thread mThread = null;
    Boolean mRunning = false;

    @Override
    public void onCreate() {
    }

    @Override
    public IBinder onBind(Intent intent) {
        return null;
    }

    @Override
    public int onStartCommand(Intent intent, int flags, int startId) {
        start();

        return  START_STICKY;
    }

    @Override
    public void onDestroy() {
        stop();
    }

    private synchronized void start()
    {
        if (mThread != null)
            return;

        mRunning = true;
        mThread = new Thread(this);
        mThread.start();
    }

    private synchronized void stop()
    {
        if (mThread == null)
            return;

        mRunning = true;

        try
        {
            mThread.join();
        } catch (InterruptedException e) {}
        mThread = null;
    }

    public void run()
    {
        while (mRunning)
        {
            for (int i = 0; i < NUM_ROOMS; i++)
                updateRoomStatus(i);

            try
            {
                Thread.sleep(TIME_FOR_A_REST);
            } catch (InterruptedException e) {}             
        }
    }

    Boolean getRoomStatus(int roomNumber)
    {
        // Do real communication here (instea of just assigning true)
        // It makes sense to move all communication to a separate class from here
        Boolean newRoomStatus = true;

        return newRoomStatus;
    }

    void updateRoomStatus(int roomNumber)
    {
        Boolean newRoomStatus = getRoomStatus(roomNumber);
        broadcastRoomStatus(roomNumber, newRoomStatus);
    }

    void broadcastRoomStatus(int roomNumber, Boolean newRoomStatus)
    {
        Intent intent = new Intent(ROOM_STATUS_BROADCAST);
        intent.putExtra(ROOM_STATUS_BROADCAST_EXTRA_ROOM_NUMBER, roomNumber);
        intent.putExtra(ROOM_STATUS_BROADCAST_EXTRA_STATUS, newRoomStatus);
        LocalBroadcastManager.getInstance(this).sendBroadcast(intent);
    }

} 
```

我的活动.java

```
package com.example.servicesample;

import android.os.Bundle;
import android.app.Activity;
import android.content.Intent;
import android.support.v4.content.LocalBroadcastManager;
import android.util.Log;
import android.view.Menu;
import com.example.servicesample.MyService;
import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.IntentFilter;

public class MainActivity extends Activity {

    private IntentFilter mIntentFilter = new IntentFilter(MyService.ROOM_STATUS_BROADCAST);

    private BroadcastReceiver mReceiver = new BroadcastReceiver() {

        @Override
        public void onReceive(Context context, Intent intent) {
            MainActivity.this.receivedBroadcast(intent);       
        }
    };

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        startMyService();
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }   

    void startMyService()
    {
        // You can move this code to be executed on a button click or something else
        // It will start a service
        startService(new Intent(this, MyService.class));
    }   

    @Override
    protected void onResume()
    {
        super.onResume();

        LocalBroadcastManager.getInstance(this).registerReceiver(mReceiver, mIntentFilter);
    }

    @Override
    protected void onPause()
    {
        LocalBroadcastManager.getInstance(this).unregisterReceiver(mReceiver);

        super.onPause();
    }   

     private void receivedBroadcast(Intent i) {
         Integer roomNumber = i.getIntExtra(MyService.ROOM_STATUS_BROADCAST_EXTRA_ROOM_NUMBER, 0);
        Boolean roomStatus = i.getBooleanExtra(MyService.ROOM_STATUS_BROADCAST_EXTRA_STATUS, false);

        // Let's do here whatever we want with received status (as example, update UI)
        Log.d("SomeTag", "Room number "+roomNumber.toString() + " got new status " + roomStatus.toString());
     }  

} 
```

AndroidManifest.xml

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.servicesample"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="16" />

    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name="com.example.servicesample.MainActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

        <service android:name=".MyService"/>

    </application>

</manifest> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-27T21:24:25.970

如果您询问`Service`每个房间配备一个或`Service`所有房间配备一个之间的性能 - 我会认为 7 项服务非常过分。您需要了解的一件事是 a`Service`不是新的`Thread`. 服务与您的`Activity`. 您要做的是让一个服务侦听多个套接字上的连接，然后为每个已建立的连接（房间）创建一个新线程。正如其他人所建议的那样， an`AsyncTask`是处理后台进程的好方法，因为它提供了对主线程的回调。但是，它确实有限制——例如它可以处理的线程数。如果我们在每个房间谈论一个线程 - 这应该不是问题。如果不是这种情况，请考虑为每个房间连接使用阻塞线程。

# iphone - 由于 Error Domain=ADErrorDomain Code=3，bannerview 没有收到任何横幅“操作无法完成

> ID：14869081
> 
> 赞同：2
> 
> 时间：2013-02-14T06:36:10.743
> 
> 标签：iphone, ios, xcode

当我在 ipod touch 中测试我的 iphone iad 应用程序时，iad 没有显示并且发生了以下错误。（bannerview 没有收到任何横幅，因为 Error Domain=ADErrorDomain Code=3 “操作无法完成。广告库存不可用” UserInfo=0x192b70 {ADInternalErrorCode=3, NSLocalizedFailureReason=广告库存不可用）在模拟器中它正在工作。我怎么解决这个问题。请帮助我..

# c - 从 C 中的函数返回指针地址

> ID：14869083
> 
> 赞同：1
> 
> 时间：2013-02-14T06:36:30.740
> 
> 标签：c, pointers

修复：问题在于递归而不是指针。当它通过每次递归返回时，它会将返回的 VAR 重置为旧的主树。通过制作一个全局 VAR 并在返回之前设置它然后使整个函数返回无效来修复。没有内存泄漏。

我正在尝试将 malloc 的指针地址传递给 main() 中的指针变量。

该代码在一定程度上起作用。它没有将指针地址从 FinalTree 传递回 main，而是创建了一个新副本，这意味着我无法释放（）在 FinalTree（）中 malloc 的内存。当我进行内存检查时，我留下了一些未释放的内存。

这是到目前为止的代码：

```
Tree* FinalTree(Forest** forest, int FinalFreq)
{

    Tree* maintree = mktree(); //this function calls malloc and have to use it
    Tree* tree1 = pick(*forest);
    Tree* tree2 = pick(*forest);

    maintree->frequency = tree1->frequency + tree2->frequency;
    maintree->left = tree1;
    maintree->right = tree2;

    //Make sure forest isnt barren
    if (maintree->frequency != FinalFreq)
    {
        plant(*forest, maintree);
        FinalTree(forest, FinalFreq);
    }

    return maintree;
} 
```

这是从 main() 调用的：

```
Tree* tfinal = FinalTree(&finit, header.checksum); 
```

指针让我发疯。我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:48:24.847

如果我不完全理解您的问题，请原谅我，但根据评论，我想我知道您现在指的是什么。

该函数创建树，但只返回顶级根节点的地址。你的问题是，如果你是那个`free()`，树的其余部分仍然被分配，对吗？如果是这样，我认为解决此问题的方法是编写一个专用`FreeTree(Tree *)`函数，该函数遍历树和`free()`备份途中的各个叶节点。

类似的东西（未测试）：

```
void FreeTree(Tree *tree) {
  if (tree == NULL)
    return;

  FreeTree(tree->left);
  FreeTree(tree->right);
  free(tree);                                                                                                            
} 
```

**更新**：啊，好吧。这确实很奇怪。我在函数中看不到任何会改变创建它的东西的`maintree`东西`mktree()`。除非`plant`引用指针：

```
void plant(Forest forest, Tree *&tree) 
```

然后`plant()`可以修改指针`maintree`指向的。否则，它看起来确实应该返回根节点。

# android - Phonegap Capture 不适用于果冻豆

> ID：14869085
> 
> 赞同：1
> 
> 时间：2013-02-14T06:36:36.370
> 
> 标签：android, cordova, android-4.2-jelly-bean

我面临有关 Phonegap Capture 图像功能的问题。虽然这个问题以前被问过很多次，但我没有找到解决办法。所以我又在这里问了。我正在尝试使用 phonegap 捕获图像并将其设置在我的 HTML 页面中。这是我的代码：

```
function captureImage() {
navigator.device.capture.captureImage(captureSuccess, captureError, {limit: 1,
quality:100,
correctOrientation: true,
destinationType : Camera.DestinationType.FILE_URI, 
targetWidth: 800,
targetHeight: 800,
saveToPhotoAlbum: true });
}

function captureSuccess(mediaFiles) {
var i, len;
for (i = 0, len = mediaFiles.length; i < len; i += 1) {
uploadFile(mediaFiles[i]);
       }       
}

function captureError(error) {
var msg = 'An error occurred during capture: ' + error.code;
$("#errorNot1").fadeIn();
$("#errorMsg").text("Unable to capture image.");
}

function uploadFile(mediaFile) {
$(".contentdiv").css("display","none");
$("#takePhoto").css("display","block");
$("#fromLib").css("display","none");
path = mediaFile.fullPath,
name = mediaFile.name;
$('.largeImage').attr("src",path);
} 
```

问题是，它的启动相机和捕获图像。但是当尝试在 HTML 页面中设置时，应用程序崩溃了。

这是我的 logcat 输出（我的 sdk 没有更新，我正在尝试使用 Android 4.1.1 测试应用程序，因此 logcat 输出可能达不到标准）：

```
??-?? ??:??:??.???: INFO/<unknown>(<unknown>): FATAL EXCEPTION: main
??-?? ??:??:??.???: INFO/<unknown>(<unknown>): java.lang.RuntimeException: Unable to resume activity {com.infy.qure/com.infy.qure.AndroidQuREActivity}: java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=1, result=-1, data=null} to activity {com.infy.qure/com.infy.qure.AndroidQuREActivity}: java.lang.NullPointerException
??-?? ??:??:??.???: INFO/<unknown>(<unknown>):     at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2616)
??-?? ??:??:??.???: INFO/<unknown>(<unknown>):     at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:2644)
??-?? ??:??:??.???: INFO/<unknown>(<unknown>):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2130)
??-?? ??:??:??.???: INFO/<unknown>(<unknown>):     at android.app.ActivityThread.access$600(ActivityThread.java:140)
??-?? ??:??:??.???: INFO/<unknown>(<unknown>):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1227)
??-?? ??:??:??.???: INFO/<unknown>(<unknown>):     at android.os.Handler.dispatchMessage(Handler.java:99)
??-?? ??:??:??.???: INFO/<unknown>(<unknown>):     at android.os.Looper.loop(Looper.java:137)
??-?? ??:??:??.???: INFO/<unknown>(<unknown>):     at android.app.ActivityThread.main(ActivityThread.java:4898)
??-?? ??:??:??.???: INFO/<unknown>(<unknown>):     at java.lang.reflect.Method.invokeNative(Native Method)
??-?? ??:??:??.???: INFO/<unknown>(<unknown>):     at java.lang.reflect.Method.invoke(Method.java:511)
??-?? ??:??:??.???: INFO/<unknown>(<unknown>):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1006)
??-?? ??:??:??.???: INFO/<unknown>(<unknown>):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:773)
??-?? ??:??:??.???: INFO/<unknown>(<unknown>):     at dalvik.system.NativeStart.main(Native Method)
??-?? ??:??:??.???: INFO/<unknown>(<unknown>): Caused by: java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=1, result=-1, data=null} to activity {com.infy.qure/com.infy.qure.AndroidQuREActivity}: java.lang.NullPointerException
??-?? ??:??:??.???: INFO/<unknown>(<unknown>):     at android.app.ActivityThread.deliverResults(ActivityThread.java:3182)
??-?? ??:??:??.???: INFO/<unknown>(<unknown>):     at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2603)
??-?? ??:??:??.???: INFO/<unknown>(<unknown>):     ... 12 more
??-?? ??:??:??.???: INFO/<unknown>(<unknown>): Caused by: java.lang.NullPointerException
??-?? ??:??:??.???: INFO/<unknown>(<unknown>):     at org.apache.cordova.DroidGap.onActivityResult(DroidGap.java:850)
??-?? ??:??:??.???: INFO/<unknown>(<unknown>):     at android.app.Activity.dispatchActivityResult(Activity.java:5368)
??-?? ??:??:??.???: INFO/<unknown>(<unknown>):     at android.app.ActivityThread.deliverResults(ActivityThread.java:3178) 
```

我已经尝试了提供的所有这些解决方案：

[PhoneGap：拍摄人像照片时应用程序崩溃](https://stackoverflow.com/questions/13068764/phonegap-application-crash-taking-portrait-picture)

[代码在果冻豆中不起作用](https://stackoverflow.com/questions/13171435/code-not-working-in-jelly-beans)

[Phonegap|Android 4 - 从 PHOTOLIBRARY 拍照时，应用程序有时会崩溃](https://stackoverflow.com/questions/11470442/phonegapandroid-4-app-sometimes-crashes-when-taking-picture-from-photolibrary)

但所有这些都无济于事。我在尝试从照片库获取图像并在 HTML 中设置时面临同样的问题。

我想在这里提到的主要一点是，上面的代码在三星 Galaxy sIII (Android 4.0.4) 中运行良好，但在 Galaxy sIII (Android 4.1.1) 中无法运行。可能是什么问题？我做错了吗？任何输入都会有所帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-13T13:25:08.420

我之前遇到过同样的问题，我发现问题出在我的设置中，而不是我的应用程序中。只需确保在设置 -> 开发人员选项 -> 应用程序 -> 下并取消选中“不保留活动”，因为一旦启动相机就会杀死应用程序并且它无法再次恢复它。希望对你有帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:24:53.690

尝试使用 android sdk 2.3.0。这应该适用于两种手机类型。

# pdo - 使用 PDO 连接 Mysql 数据库不起作用

> ID：14869086
> 
> 赞同：8
> 
> 时间：2013-02-14T06:36:42.880
> 
> 标签：pdo, database-connection

我正在尝试在我的 PHP 代码中使用 PDO 模块来连接到数据库。我已经阅读并搜索了类似的主题，但我无法弄清楚我做错了什么。请帮我解决问题。

1.  Apache版本：Apache/2.2.21 (Win32) PHP/5.3.10

2.  在 php.ini 文件中，我取消注释该行：extension=php_mysql.dll

    2a. phpinfo 函数显示“加载的配置文件”位置是 C:\php\php.ini

    2b。phpinfo 函数显示的 PDO 驱动程序信息：在 PDO 部分下：PDO 驱动程序-->Mysql (enabled) 在 PDO Driver for MySQL 部分下：客户端 API 版本-->mysqlnd 5.0.8-dev - 20102224 - $Revision: 321634 $ (启用)

我用来连接数据库的代码

```
$db_user = "uid";
$db_pass = "pd";

$db_connect = new PDO('mysql:host=locahost; dbname=practice; charset=UTF-8', $db_user, $db_pass);
if($db_connect){
    print "connected to the db " . "<br />";
} else{
    print "error connects to the db. " . mysql_error();
} 
```

我收到的错误消息：

*   警告：PDO::__construct() [pdo.--construct]: php_network_getaddresses: getaddrinfo failed: 没有这样的主机是已知的。在第 14 行的 C:\server\htdocs\html-exer\handle_reg3.php
*   警告：PDO::__construct() [pdo.--construct]: [2002] php_network_getaddresses: getaddrinfo failed: 没有这样的主机是已知的。（尝试通过 tcp://locahost:3306 连接）在第 14 行的 C:\server\htdocs\html-exer\handle_reg3.php
*   致命错误：未捕获的异常 'PDOException' 带有消息 'SQLSTATE[HY000] [2002] php_network_getaddresses: getaddrinfo failed: No such host is known。' 在 C:\server\htdocs\html-exer\handle_reg3.php:14 堆栈跟踪：#0 C:\server\htdocs\html-exer\handle_reg3.php(14): PDO->__construct('mysql:host =loca...', 'root', 'password') #1 {main} 在第 14 行的 C:\server\htdocs\html-exer\handle_reg3.php 中抛出

编辑：添加了答案，要求提供更多信息，这些信息无疑将很快被删除：

您好您的常识：感谢您的代码片段。它帮助我解决了这个问题。看来字符集可能是原因。这是我连接到数据库的代码

```
$dsn= 'mysql:host=localhost; dbname=practice; charset=utf8';
$db_user = "root";
$db_pass = "mypd";

 $db_connect = new PDO($dsn, $db_user, $db_pass);
 if($db_connect){
     print "connected to the db " . "<br />";
 } 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-14T06:38:11.343

看来您的服务器只是配置错误，而不是在 DSN 中
使用。`127.0.0.1``localhost`

```
$dsn = 'mysql:host=127.0.0.1; dbname=practice; charset=utf8';
$pdo = new PDO($dsn, $db_user, $db_pass, $opt); 
```

您需要阅读错误消息。
它说您的 PDO 在连接到 localhost 时遇到问题。因此，您需要更改 PDO 连接字符串的地址。

另外你使用了错误的字符集名称，我已经更正了

此外，`mysql_error()`对 PDO 也没用。不需要调用这个函数，你已经抛出了一个错误

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-02-09T11:15:19.407

以防万一其他人从谷歌登陆这里。我有完全相同的问题并重新启动apache修复了它。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-03-16T18:27:12.270

如果以上所有答案都不能解决您的问题，请尝试为您的 DSN 指定端口号：

```
$this->con = new PDO("mysql:host=localhost;port=3306;dbname=my_db","root","secret"); 
```

这里我使用了 3306，因为它是 Mysql 的默认端口号。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-12-15T10:31:34.213

首先要做的是仔细检查配置文件中的连接参数

这似乎很明显，但由于我刚刚使用“正确的值”配置了 Symfony 项目的 parameters.yml，所以我没有立即考虑，并认为问题出在其他地方。
我的数据库名是错误的！

# android - 为android项目设置依赖库

> ID：14869087
> 
> 赞同：1
> 
> 时间：2013-02-14T06:36:43.860
> 
> 标签：android, ant, build, dependencies

我对 android 和 android 都很陌生。

如果我愿意，我希望建立我的项目`ant release`。

由于我的依赖库未添加到路径中，我收到一个错误。

但是当我添加：

```
android.library.reference.1=lib/android-support-v4.jar 
```

像这样`local.properties`我收到这样的错误：

```
 lib/android-support-v4.jar resolve to a path with no project.properties file for project /home/ubuntu/test 
```

我在哪里犯错误。提前致谢。

# php - 在php中将数组写入文件并获取数据

> ID：14869104
> 
> 赞同：12
> 
> 时间：2013-02-14T06:37:32.627
> 
> 标签：php

我有一个数组，使用后如下所示`print_r`

```
Array ( [0] => Array ( [0] => piklu [name] => piklu ) [1] => Array ( [0] => arindam [name] => arindam ) [2] => Array ( [0] => shyamal [name] => shyamal ) [3] => Array ( [0] => arko [name] => arko ) [4] => Array ( [0] => pamela [name] => pamela ) [5] => Array ( [0] => dodo [name] => dodo ) [6] => Array ( [0] => tanmoy [name] => tanmoy ) [7] => Array ( [0] => jitu [name] => jitu ) [8] => Array ( [0] => ajgar [name] => ajgar ) ) 
```

现在我想将此数组直接写入文件，我使用该`file_put_contents`方法，但我不知道如何从文件中获取数据，它们看起来与原始数据完全相同。有什么办法解决这个问题吗？

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2013-02-14T06:41:45.383

您目前的问题基本上是您只能将字符串写入文件。所以为了使用`file_put_contents`你首先需要将你的数据转换为字符串。

对于这个特定的用例，有一个名为[serialize](http://php.net/serialize)的函数，它将任何 PHP 数据类型转换为字符串（资源除外）。

这是一个如何使用它的示例。

```
$string_data = serialize($array);
file_put_contents("your-file.txt", $string_data); 
```

您可能还想稍后提取数据。只需使用反[序列化](http://php.net/unserialize)将字符串数据从文件转换回数组。

这就是你的做法：

```
$string_data = file_get_contents("your-file.txt");
$array = unserialize($string_data); 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-02-14T06:41:10.577

这里有两种方法：

(1) 将数组对象的 JSON 表示形式写入文件。

```
$arr = array( [...] );
file_put_contents( 'data.txt', json_encode( $arr ) ); 
```

然后后来...

```
$data = file_get_contents( 'data.txt' );
$arr = json_decode( $data, true ); 
```

(2) 将数组对象的序列化表示写入文件。

```
$arr = array( [...] );
file_put_contents( 'data.txt', serialize( $arr ) ); 
```

然后后来...

```
$data = file_get_contents( 'data.txt' );
$arr = unserialize( $data ); 
```

我更喜欢 JSON 方法，因为它不像序列化那样容易损坏。您可以打开数据文件并对内容进行编辑，它会编码/解码回来而不会让人头疼。序列化数据不能轻易更改或损坏，否则 unserialize() 将不起作用。每个变量都由类型和长度定义，并且这些值必须随着您所做的实际更改而更新。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-14T06:42:29.063

**file_put_contents**将字符串写入文件，而不是数组。[http://php.net/manual/en/function.file-put-contents.php](http://php.net/manual/en/function.file-put-contents.php)

如果您想将您在 print_r 中看到的内容写入文件，您可以试试这个：

```
ob_start();
print_r($myarray);
$output = ob_get_clean();
file_put_contents("myfile.txt",$output); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2021-03-09T17:23:37.090

如果这是静态内容，更高效的方法是：

```
$filePath = 'path/to/file.php';

//Saving
file_put_contents($filePath, '<?php '.PHP_EOL.'return '.var_export($array, true).';');

//Retrieving data
$array = include $filePath; 
```

这也将保存在 OPcode 缓存中，甚至可以预加载。但是，如果您使用 OPcode 缓存或预加载，这将不会在部署之间重新加载。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-14T06:41:40.187

我不确定，但也许是这样的。您想在写入时序列化（）数组。它会将您的数组放入 test.txt

```
file_put_contents('test.txt', serialize($array)); 
```

# android - Android 2.1 手机和 Windows 7 PC 之间的 USB 通信

> ID：14869112
> 
> 赞同：3
> 
> 时间：2013-02-14T06:38:11.847
> 
> 标签：android, usb

有没有办法通过 USB 将数据从 Android 2.1 手机发送到 Windows 7 PC？我找到了 Android USB API，但 Android 2.1 不支持它。我可以从 PC 发送数据，但我不知道如何在移动端执行此操作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T17:15:59.347

您将需要通读[此](http://developer.android.com/guide/topics/connectivity/usb/index.html)开发者网站。

Android 在 API 12 及更高版本 (3.1 Honeycomb) 上支持 USB 主机模式。

Android 在 API 10 及更高版本（2.3.4 Gingerbread）上支持 USB 附件模式。

主机与附件模式的区别在于哪个设备提供电源。我不确定您要使用哪一个，但如果 Android 是主机（主机模式），那么它将为计算机供电（可能不是您想要的）。在附件模式下，Android 将从计算机获取电力。

不幸的是，我认为你根本无法在 2.1 上做到这一点。

# php - Apache 服务器子目录页面未显示

> ID：14869113
> 
> 赞同：1
> 
> 时间：2013-02-14T06:38:13.813
> 
> 标签：php, apache, webserver, lamp

我`LAMP`在我的 ubuntu 12.04 系统上使用。当我浏览位于我的 /var/www/ 文件夹内的任何子目录或子页面时，它显示为

```
Not Found
The requested URL /directory/subdirectory/filename was not found on this server.

Apache/2.2.22 (Ubuntu) Server at localhost Port 80 
```

但是该文件已经存在于该子目录中。那么有人可以告诉我为什么我会收到这个错误吗？任何帮助和建议都将不胜感激。谢谢

我的`/etc/apache2/sites-available/default`文件是这样的

```
<VirtualHost *:80>
    ServerAdmin webmaster@localhost

    DocumentRoot /var/www
    <Directory />
        Options FollowSymLinks
        AllowOverride All
    </Directory>
    <Directory /var/www/>
        Options Indexes FollowSymLinks MultiViews
        AllowOverride All
        Order allow,deny
        allow from all
    </Directory>

    ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/
    <Directory "/usr/lib/cgi-bin">
        AllowOverride All
        Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch
        Order allow,deny
        Allow from all
    </Directory>

    ErrorLog ${APACHE_LOG_DIR}/error.log

    # Possible values include: debug, info, notice, warn, error, crit,
    # alert, emerg.
    LogLevel warn

    CustomLog ${APACHE_LOG_DIR}/access.log combined

    Alias /doc/ "/usr/share/doc/"
    <Directory "/usr/share/doc/">
        Options Indexes MultiViews FollowSymLinks
        AllowOverride None
        Order deny,allow
        Deny from all
        Allow from 127.0.0.0/255.0.0.0 ::1/128
    </Directory>

</VirtualHost> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2020-05-14T08:24:42.947

可能是因为子文件夹的访问权限，试试

```
chmod -R 775 /var/www/html/subfolder 
Or 
chmod -R 775 /var/www/subfolder 
```

根据您的文件夹结构

# gis - 如何使用多边形 id 访问 shapefile 中的特定多边形？

> ID：14869114
> 
> 赞同：0
> 
> 时间：2013-02-14T06:38:15.730
> 
> 标签：gis, shapefile, polygons, qgis

我有一个由 QGIS 创建的 shapefile，它有 25 个多边形。我需要使用多边形 ID 访问每个多边形。我正在使用 java 应用程序来访问这些多边形。请让我知道任何好的教程开始。

在此先感谢，哈萨拉。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-17T06:48:29.037

如果你想自己处理它，你必须阅读 ESRI 为 shapefile 提供的规范。[在这里你可以找到它](http://www.esri.com/library/whitepapers/pdfs/shapefile.pdf)。但请记住 shapefile 可能不是有意义的字节的连续流，因此要找出第 i 个多边形（或任何其他形状）的信息在 .shp 文件中的位置，您必须首先查看 .shx 文件。

# magento - 如何使用产品的完整 url 导出产品 csv

> ID：14869118
> 
> 赞同：2
> 
> 时间：2013-02-14T06:38:22.327
> 
> 标签：magento, csv, export

我想导出带有完整产品 url 的产品 CSV，即包括基本 url（我不想手动执行）。

是否可以自定义代码以使产品导出具有完整的 url？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-18T11:50:17.907

```
<?php

// Load the Magento core

require_once 'app/Mage.php';
umask(0);
Mage::app()->setCurrentStore(Mage_Core_Model_App::ADMIN_STORE_ID);
$userModel = Mage::getModel('admin/user');
$userModel->setUserId(0);

// Load the product collection

$collection = Mage::getModel('catalog/product')
 ->getCollection()
 ->addAttributeToSelect('*') //Select everything from the table
 ->addUrlRewrite(); //Generate nice URLs

/*
 For this example I am generating a CSV file,
 but you can change this to suit your needs.
*/

echo "title,sku,id,url\n" ."<br>";

foreach($collection as $product) {
 //Load the product categories
 $categories = $product->getCategoryIds();
 //Select the last category in the list
 $categoryId = end($categories);
 //Load that category
 $category = Mage::getModel('catalog/category')->load($categoryId);

 echo '"'.$product->getTitle().'","'.
  $product->getSku().'",'.
  $product->getId().',"'.
  //This will the proper URL, the base url is optional, though make sure you remove the trailing export.php (or whatever you name this file)
  str_replace('export.php/','',Mage::getBaseUrl()).$product->getUrlPath($category).'"'.
  "\n" ."<br>";
}

?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T09:55:34.337

```
Create export.csv on root ..write a code to export csv the new thing is that you have to hardcode base url in the path of the product..

for example ..existing path category/product/

base url/category/product/

But remember to keep the code correct.. 
```

# c++ - 编译 wxMathPlot 时出错

> ID：14869123
> 
> 赞同：0
> 
> 时间：2013-02-14T06:38:39.263
> 
> 标签：c++, windows, visual-studio-2010, wxmathplot

这是从之前发布的这个问题开始的：

[如何为 win32 构建 wxmathPlot？](https://stackoverflow.com/questions/1500495/how-to-build-wxmathplot-for-win32)

最好的答案是只需将 mathplot.h 和 mathplot.cpp 文件添加到您的项目中，然后它就可以工作了。

但是，在我将这 2 个文件添加到 Visual Studio 2010 中的项目后（通过右键单击我的项目->添加->现有项目并选择 2 个文件）并尝试编译，我收到以下错误：

```
1>  mathplot.cpp
1>mathplot.cpp(133): warning C4100: 'event' : unreferenced formal parameter
1>mathplot.cpp(133): warning C4100: 'w' : unreferenced formal parameter
1>mathplot.cpp(278): warning C4100: 'event' : unreferenced formal parameter
1>mathplot.cpp(278): warning C4100: 'w' : unreferenced formal parameter
1>mathplot.cpp(2239): warning C4996: 'wxImage::SaveFile': was declared deprecated
1>mathplot.cpp(2610): error C2589: 'if' : illegal token on right side of '::'
1>mathplot.cpp(2610): error C2143: syntax error : missing ';' before '::'
1>mathplot.cpp(2610): error C2143: syntax error : missing ';' before '{'
1>mathplot.cpp(2610): error C2181: illegal else without matching if
1>mathplot.cpp(2749): error C2589: 'if' : illegal token on right side of '::'
1>mathplot.cpp(2749): error C2143: syntax error : missing ';' before '::'
1>mathplot.cpp(2749): error C2143: syntax error : missing ';' before '{'
1>mathplot.cpp(2749): error C2181: illegal else without matching if
1>mathplot.cpp(2750): error C2589: 'if' : illegal token on right side of '::'
1>mathplot.cpp(2750): error C2143: syntax error : missing ';' before '::'
1>mathplot.cpp(2750): error C2143: syntax error : missing ';' before '{'
1>mathplot.cpp(2750): error C2181: illegal else without matching if
1>mathplot.cpp(2751): error C2589: 'if' : illegal token on right side of '::'
1>mathplot.cpp(2751): error C2143: syntax error : missing ';' before '::'
1>mathplot.cpp(2751): error C2143: syntax error : missing ';' before '{'
1>mathplot.cpp(2751): error C2181: illegal else without matching if
1>mathplot.cpp(2763): error C2589: 'if' : illegal token on right side of '::'
1>mathplot.cpp(2763): error C2143: syntax error : missing ';' before '::'
1>mathplot.cpp(2763): error C2143: syntax error : missing ';' before '{'
1>mathplot.cpp(2763): error C2181: illegal else without matching if
1>mathplot.cpp(2847): error C2589: 'if' : illegal token on right side of '::'
1>mathplot.cpp(2847): error C2143: syntax error : missing ';' before '::'
1>mathplot.cpp(2847): error C2143: syntax error : missing ';' before '{'
1>mathplot.cpp(2847): error C2181: illegal else without matching if
1>mathplot.cpp(2877): error C2589: 'if' : illegal token on right side of '::'
1>mathplot.cpp(2877): error C2143: syntax error : missing ';' before '::'
1>mathplot.cpp(2877): error C2143: syntax error : missing ';' before '{'
1>mathplot.cpp(2877): error C2181: illegal else without matching if 
```

我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T17:06:27.330

在 mathplot.cpp 文件中，我已将所有 **::wxLogError**更改为**wxLogError**

并注释掉**#define new DEBUG_NEW**行，然后编译成功。

# android - 制作 Vcard 时在 Android ICS 中出现错误

> ID：14869124
> 
> 赞同：3
> 
> 时间：2013-02-14T06:38:44.363
> 
> 标签：android, vcf-vcard

在 android 2.1 中运行良好

**代码**

```
String vfile ="POContactsRestore.vcf";
                String VCard = null;
                File vfile = new File("/sdcard/POContactsRestore.vcf");
                if(vfile.exists()){
                    vfile.delete();
                }
                FileOutputStream mFileOutputStream = null;
                 Cursor phones = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null,null, null, null);

                 phones.moveToFirst();
                   for(int i =0;i<phones.getCount();i++)
                   {
                      String lookupKey =  phones.getString(phones.getColumnIndex(ContactsContract.Contacts.LOOKUP_KEY));
                     Uri uri = Uri.withAppendedPath(ContactsContract.Contacts.CONTENT_VCARD_URI, lookupKey);

                    AssetFileDescriptor fd;
                     try 
                     {
                         fd = getContentResolver().openAssetFileDescriptor(uri, "r");
                         FileInputStream fis = fd.createInputStream();
                         byte[] buf = new byte[(int) fd.getDeclaredLength()];
                         fis.read(buf);
                         VCard = new String(buf);
                         String path = Environment.getExternalStorageDirectory().toString() + File.separator + vfile;
                          mFileOutputStream = new FileOutputStream(path, false);

                         phones.moveToNext();                           
                         Log.d("Vcard",  VCard);
                     } 
                     catch (Exception e1) 
                     {
                          // TODO Auto-generated catch block
                          e1.printStackTrace();
                     }

                 }

                    try {
                        mFileOutputStream.write(VCard.toString().getBytes());
                        mFileOutputStream.close();
                    } catch (IOException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    } 
```

**日志错误**

```
 02-14 06:03:26.724: E/AndroidRuntime(862): java.lang.NullPointerException
    02-14 06:03:26.724: E/AndroidRuntime(862):  at com.example.com.example.contactbackup.Contact$1.onClick(Contact.java:148)
   02-14 06:55:38.183: E/AndroidRuntime(1066): FATAL EXCEPTION: main
       02-14 06:55:38.183: E/AndroidRuntime(1066): java.lang.NullPointerException
     02-14 06:55:38.183: E/AndroidRuntime(1066):    at com.example.com.anthem.contactbackup.Contact$1.onClick(Contact.java:101)
   02-14 06:55:38.183: E/AndroidRuntime(1066):  at  android.view.View.performClick(View.java:4084)
     02-14 06:55:38.183: E/AndroidRuntime(1066):    at  android.view.View$PerformClick.run(View.java:16966)
     02-14 06:55:38.183: E/AndroidRuntime(1066):    at android.os.Handler.handleCallback(Handler.java:615)
     02-14 06:55:38.183: E/AndroidRuntime(1066):    at android.os.Handler.dispatchMessage(Handler.java:92)
     02-14 06:55:38.183: E/AndroidRuntime(1066):    at android.os.Looper.loop(Looper.java:137)
   02-14 06:55:38.183: E/AndroidRuntime(1066):  at android.app.ActivityThread.main(ActivityThread.java:4745)
    02-14 06:55:38.183: E/AndroidRuntime(1066):     at java.lang.reflect.Method.invokeNative(Native Method)
    02-14 06:55:38.183: E/AndroidRuntime(1066):     at java.lang.reflect.Method.invoke(Method.java:511)
02-14 06:55:38.183: E/AndroidRuntime(1066):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
       02-14 06:55:38.183: E/AndroidRuntime(1066):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
     02-14 06:55:38.183: E/AndroidRuntime(1066):    at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T09:22:33.243

试试这个，问题出在 FileInputStream fis = fd.createInputStream();

```
package com.example.temp;

import java.io.File;
import java.io.FileDescriptor;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.InputStream;
import java.util.ArrayList;

import android.app.Activity;
import android.content.Context;
import android.content.res.AssetFileDescriptor;
import android.database.Cursor;
import android.net.Uri;
import android.os.Bundle;
import android.os.Environment;
import android.provider.ContactsContract;
import android.util.Log;

public class MainActivity extends Activity {
    Cursor cursor;
    ArrayList<String> vCard;
    String vfile;
    static Context mContext;

    @Override
        public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.activity_main);
            mContext = MainActivity.this;
            getVCF();
        }

        public static void getVCF() {
            final String vfile = "POContactsRestore.vcf";
            Cursor phones = mContext.getContentResolver().query(
            ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null, null, null, null);
            phones.moveToFirst();
            for (int i = 0; i < phones.getCount(); i++) {
                String lookupKey = phones.getString(phones.getColumnIndex(ContactsContract.Contacts.LOOKUP_KEY));
                Uri uri = Uri.withAppendedPath(ContactsContract.Contacts.CONTENT_VCARD_URI, lookupKey);
                AssetFileDescriptor fd;
                try {
                    fd = mContext.getContentResolver().openAssetFileDescriptor(uri, "r");
                    FileDescriptor fdd = fd.getFileDescriptor();
                    InputStream in = new FileInputStream(fdd);
                    //FileInputStream fis = fd.createInputStream();
                    Log.d("BLA BLA", "Len is :: " + (int) fd.getDeclaredLength());
                    byte[] buf = new byte[(int) fd.getDeclaredLength()];
                    in.read(buf);
                    fd.close();
                    String VCard = new String(buf);
                    String path = Environment.getExternalStorageDirectory().toString() + File.separator + vfile;
                    FileOutputStream mFileOutputStream = new FileOutputStream(path, true);
                    mFileOutputStream.write(VCard.toString().getBytes());
                    mFileOutputStream.close();
                    in.close();
                    phones.moveToNext();
                    Log.d("Vcard", VCard);

                } catch (Exception e1) {
                    // TODO Auto-generated catch block
                    e1.printStackTrace();
                }
            }
        }
    } 
```

# c++ - 读取/写入超过 100000 条消息时提升 asio 错误

> ID：14869128
> 
> 赞同：1
> 
> 时间：2013-02-14T06:38:57.800
> 
> 标签：c++, boost-asio

当我读取和写入超过 100000 条消息时，我收到了以下`handleRead()`函数异常。`boost::asio::read()`

```
terminate called after throwing an instance of
'boost::exception_detail::clone_impl<boost::exception_detail::error_info_injector<boost::system::system_error> >'
what():  asio.ssl error 
```

实现如下

## 读取功能

```
void start()
{
boost::asio::async_read(_socket,
boost::asio::buffer(_messageHeader, 8),
    _strand.wrap(
      boost::bind(
        handleRead,
        shared_from_this(),
        boost::asio::placeholders::error,
        boost::asio::placeholders::bytes_transferred
        )
      )
    );
}

void handleRead(const boost::system::error_code& e,
   std::size_t bytesTransferred)
{
  if (!e) 
  {

   BOOST_STATIC_ASSERT( sizeof(MessageHeader) == 8 );

   Message message;
   message.header.fromString(
      std::string(_messageHeader.data(),
        sizeof(MessageHeader)
        )
      );

    boost::asio::read(_socket,
       boost::asio::buffer(_buffer, message.header.length));

   message.body = std::string(_buffer.data(), message.header.length);

   this->start();
  }
  else {
   this->close();
  }
} 
```

## 实现消息队列以写入消息

```
void sendResponse(const Message& response)
{
  std::string stringToSend(response.toString());

  boost::system::error_code error;
  boost::asio::ip::tcp::endpoint endpoint = socket().remote_endpoint(error);

  if ( error ) {
  this->close();
  }

  _strand.post(
     boost::bind(
       writeImpl,
       shared_from_this(),
       stringToSend
       )
    );
}

void writeImpl(const std::string &message)
{
  _outbox.push_back( message );
  if ( _outbox.size() > 1 ) {
    return;
  }
  this->write();
}

void write()
{
 const std::string& message = _outbox[0];
 boost::asio::async_write(
    _socket,
    boost::asio::buffer( message.c_str(), message.size() ),
    _strand.wrap(
      boost::bind(
        writeHandler,
        shared_from_this(),
        boost::asio::placeholders::error,
        boost::asio::placeholders::bytes_transferred
        )
      )
    );
}

void writeHandler(
     const boost::system::error_code& e,
     const size_t bytesTransferred
     )
{
  _outbox.pop_front();

  if ( e ) {
  this->close();
  }
  if ( !_outbox.empty() ) {
   this->write();
 }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T14:44:11.103

看起来这是一个客户端应用程序？如果这是一个服务器，那么您可能需要重新考虑在 HandleRead 中完成的同步读取，并使一切异步。但是，对于客户端应用程序或连接很少的服务器来说，这可能没问题。

100,000 是一个非常有趣的数字——对人来说，而不是对计算机来说。这个数字表明某个地方有人设置了人为的限制。因此，如果您的应用程序是客户端，则检查服务器代码以确保在 100,000 条消息后它没有关闭套接字连接，反之亦然，如果您的应用程序是服务器。也许某处有一个尺寸为 100,000 的硬编码数组，并在达到限制时抛出错误，这具有关闭套接字连接的副作用。

无论您在哪里测试 ASIO 操作的错误条件，都应在检测到错误时添加一些日志记录信息。至少，将一些调试数据写入控制台。例如，在您的 handleRead 方法中，在调用 close 方法之前，添加一些调试日志记录。在我的应用程序中，我有一个将其写入控制台和日志文件的类。

# neo4j - 在 neo4j 中创建等效的数据库

> ID：14869131
> 
> 赞同：1
> 
> 时间：2013-02-14T06:39:09.583
> 
> 标签：neo4j

我是neo4j的新手。我需要针对单个 neo4j 实例运行多个不同的应用程序。

例如，在 MySQL 世界中，如果我有一个 petstore 应用程序、一个 wordpress 博客和一个日历应用程序，我会简单地：

```
create database petstore;
grant all privileges on petstore.* to 'petstore'@localhost identified by 'sompass'

create database mywrodpressite;
grant all privileges on mywrodpressite.* to 'mywrodpressite'@localhost identified by 'sompass';

create database mycalendar;
grant all privileges on mycalendar.* to 'mycalendar'@localhost identified by 'sompass'; 
```

我的三个应用程序将彼此隔离。

问题：如何使用 Neo4j 完成这个场景？

[这里](https://stackoverflow.com/questions/4498523/how-to-delete-create-databases-in-neo4j)有一个类似的问题，但我认为答案与我正在尝试做的事情无关。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T08:57:58.147

Neo4J 不强制数据级别的安全性。

但是，您可以实现 a[`SecurityRule`](http://components.neo4j.org/neo4j-server/stable/apidocs/org/neo4j/server/rest/security/SecurityRule.html)并将其注册到服务器上。

有关这方面的更多信息，请参阅 Neo4J 手册的[安全章节](http://docs.neo4j.org/chunked/stable/security-server.html)。

# asp.net-mvc - MVC架构中jqGrid的文件上传

> ID：14869139
> 
> 赞同：0
> 
> 时间：2013-02-14T06:39:30.767
> 
> 标签：asp.net-mvc, file-upload, jqgrid

任何人都可以指向我使用 MVC 架构在 jqGrid 中上传文件的演示。我一直在寻找文件上传的帖子，但大多数帖子都是针对 php 的。

这是我添加的 colModel

```
[
 colModel: [{ name: 'expenseDate', index: 'expenseDate', align: "center", sorttype: "date" },
        { name: 'customerProject', index: 'customerProject', align: "center", sorttype: "string" },
        { name: 'accountType', index: 'accountType', align: "center"},
        { name: 'expenseDetails', index: 'expenseDetails', align: "left" },
        { name: 'expenseAmount', index: 'expenseAmount', align: "right" },
        { name: 'reimbursibleExpense', index: 'reimbursibleExpense', align: "center" },
        { name: 'billableExpense', index: 'billableExpense', align: "center" },
        **{
            name: 'receipt', index: 'receipt', align: 'left', editable: true, edittype: 'file'
            , editoptions: { enctype: "multipart/form-data" }
            , align: 'center', search: false, width: 500}
        },**
        { name: 'clas', index: 'clas', editable: true, hidden: true, editrules: { edithidden: true } },
        { name: 'merchant', index: 'merchant', editable: true, hidden: true, editrules: { edithidden: true } },
        { name: 'Id', index: 'Id', editable: true, hidden: true, editrules: { edithidden: true } },
        { name: 'ExpId', index: 'ExpId', editable: true, hidden: true, editrules: { edithidden: true } } 
```

但我不知道如何在选择图像后发布图像。单击浏览后，我会弹出一个选择文件。选择文件后，我可以在输入标签中显示物理路径。但是现在如何将此图像发布回我的控制器？

# c++ - C++滥用字符串连接

> ID：14869141
> 
> 赞同：2
> 
> 时间：2013-02-14T06:39:41.577
> 
> 标签：c++, string

因此，在过去的几个月里，我已经生成了一些代码，也许更多，我使用 C++ 字符串库来连接字符串。像这样：

```
template< typename T >
string tostr( const T & val ); // implmented wherever

void somelibraryfunction( const char * );

// begin actual code

somelibraryfunction( ( "foo" + tostr( 5 ) ).c_str( ) ); 
```

这可以编译并正常工作。我担心的是创建的临时字符串在获取地址后被销毁`c_str`，我只是依靠读取最近释放但未清除的内存。有什么想法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-14T06:42:05.023

在整个语句完成之前，临时字符串不会被销毁，直到库函数返回之后。只要该函数不将该地址的副本保存在某处以供以后使用，您的代码就可以了。*（存储字符串内容*的副本很好；它只是不应该存储`char*`指针值，当临时字符串消失时，指针值变得无效。）

# asp.net-mvc - 将 {api} 更改为 {#} ASP.net Web API

> ID：14869142
> 
> 赞同：2
> 
> 时间：2013-02-14T06:39:44.033
> 
> 标签：asp.net-mvc, asp.net-web-api

这只是一个**为什么**的问题，因为它可能是一个错误的概念:(

以下是 ASP.net Web Api Project 中默认的 Web API 配置

```
public static class WebApiConfig
{
    public static void Register(HttpConfiguration config)
    {
        config.Routes.MapHttpRoute(
            name: "DefaultApi",
            routeTemplate: "api/{controller}/{id}",
            defaults: new { id = RouteParameter.Optional }
        );
    }
} 
```

我试着改变

> **api** / {控制器} / {id}

至

> **#** / {控制器} / {id}

**不**工作，雄心勃勃的部分是它被忽略（**NO** 404），好像我正在路由到我的**主页**，但是其他消费完全像

> **-** / {控制器} / {id}

似乎是编码问题的概念错误部分，有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:50:51.523

“#”符号被浏览器解释为书签，通常不会发送到服务器。我建议运行诸如 Fiddler 之类的工具或浏览器的开发工具（例如 IE 中的 F12 工具），然后查看实际发送到服务器的请求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T06:51:29.723

`#`是错误的选择。此部分仅在客户端上相关，并允许滚动到名称等于散列后部分的元素

检查这个答案： [https ://stackoverflow.com/a/967659/1679310](https://stackoverflow.com/a/967659/1679310)

提炼：

> ...恐怕不会，因为哈希（包括＃的字符串）永远不会传递给服务器，它只是浏览器的行为属性。但是，$_SERVER['REQUEST_URI'] 变量将包含其余部分。

因此，虽然（包括）之后的`#`部分永远不会发送到服务器，但您不能将其用作路由的一部分

# java - java.lang.IllegalArgumentException：使用 setResultTransformer（休眠）的参数类型不匹配

> ID：14869143
> 
> 赞同：1
> 
> 时间：2013-02-14T06:39:48.210
> 
> 标签：java, hibernate

好吧，我正在尝试将我的对象列表转换为一个类，并且我收到了上面的错误（下面的完整错误详细信息）。我环顾四周并尝试了建议，但看不到任何问题。我尝试在 POJO 类中设置断点，但没有成功。我猜断点在 Web 应用程序中不起作用。

我正在检索的字段 ( `instance_id`) 在 Oracle 11GR2 DB 中声明为数字。

你能帮忙吗？

**我的本机查询（在我的 hbm 文件中定义，我已经尝试过使用和不使用返回标量）**

```
<sql-query name="getEventSessionsForFab1">
    <return-scalar column="instanceId" type="long" />

    <![CDATA[select eventInstance.instance_id as "instanceId" from events event, event_instances eventInstance where event.event_id = eventInstance.event_id and eventInstance.start_date_time > sysdate and (eventInstance.register_cutoff_date >= sysdate or eventInstance.register_cutoff_date is null) and (lower(event.event_name) like :eventName or event.event_id = 1)]]>
</sql-query> 
```

**我的java代码**

```
List<EventSession> eventSessionList1 = sessionFactory.getCurrentSession()
                        .getNamedQuery("getEventSessionsForFab1")
                        .setParameter("eventName", "%" + (lovList.size() > 0 ? lovList.get(0).getCode().toLowerCase() : "general") + "%")
                        .setResultTransformer(Transformers.aliasToBean(EventSession.class))
                        .list(); 
```

**我的java类（这里曾经有更多的字段，但我只保留了1个用于测试）**

```
package com.myapps.issu.models.database;

public class EventSession {
    private Integer instanceId;

    public Integer getInstanceId() {
        return instanceId;
    }
    public void setInstanceId(Integer instanceId) {
        this.instanceId = instanceId;
    }

} 
```

**Eclipse 控制台中显示的完整错误消息**

```
Feb 14, 2013 5:01:06 PM org.apache.catalina.core.StandardWrapperValve invoke
SEVERE: Servlet.service() for servlet [spring] in context with path [/issu] threw exception [Request processing failed; nested exception is org.hibernate.PropertyAccessException: IllegalArgumentException occurred while calling setter of com.myapps.issu.models.database.EventSession.instanceId] with root cause
java.lang.IllegalArgumentException: argument type mismatch
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.hibernate.property.BasicPropertyAccessor$BasicSetter.set(BasicPropertyAccessor.java:65)
    at org.hibernate.transform.AliasToBeanResultTransformer.transformTuple(AliasToBeanResultTransformer.java:95)
    at org.hibernate.hql.internal.HolderInstantiator.instantiate(HolderInstantiator.java:95)
    at org.hibernate.loader.custom.CustomLoader.getResultList(CustomLoader.java:395)
    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2227)
    at org.hibernate.loader.Loader.list(Loader.java:2222)
    at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:331)
    at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:1783)
    at org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:231)
    at org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:156)
    at com.myapps.issu.dao.IssuDaoImpl.getEventSessionsForFab(IssuDaoImpl.java:122)
    at com.myapps.issu.services.IssuServiceImpl.getEventSessionsForFab(IssuServiceImpl.java:125)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:319)
    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)
    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
    at $Proxy13.getEventSessionsForFab(Unknown Source)
    at com.myapps.issu.controllers.IssuController.getEventSessions(IssuController.java:120)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:219)
    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)
    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:100)
    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:604)
    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:565)
    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)
    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:680) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T18:07:19.973

我查看了上面的代码，如果将返回标量从 long 更改为 integer，错误应该会消失。

```
<sql-query name="getEventSessionsForFab1">
    <return-scalar column="instanceId" type="integer" />
    ... 
```

希望这可以帮助。

# python - 自定义 matplotlib 图形的默认工具栏图标图像

> ID：14869145
> 
> 赞同：1
> 
> 时间：2013-02-14T06:40:08.090
> 
> 标签：python, matplotlib

我想更改*matplotplib*的默认图标图像。即使我从图像位置替换了具有相同名称和大小的图像，即*C:\Python27\Lib\site-packages\matplotlib\mpl-data\images\home.png* 它仍然使用相同的默认图像绘制图形.

如果我需要更改任何文件中图像位置的代码，请引导我查看代码和代码段。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T14:45:54.427

我怀疑您将要做什么将取决于您的 gui 工具包。您想要查看的代码在其中，`matplotlib/lib/matplotlib/backends`并且您想要找到`NavigationToolbar2`您正在使用的后端的子类的类。

# javascript - Microsoft JScript 运行时错误：“DeleteRowFromCart”未定义

> ID：14869146
> 
> 赞同：1
> 
> 时间：2013-02-14T06:40:10.250
> 
> 标签：javascript, asp.net

我最近一直面临这个“函数未定义错误”，它有点令人沮丧。

我有一个 Web 应用程序，我正在尝试使用代码隐藏中的类动态构建我的*java 脚本*页面。`StringBuilder`在我的代码隐藏中，我`OnClick`为锚标记关联了一个事件。

click 事件似乎永远不会触发。

我总是收到错误消息：

> 脚本块 0x800a1391 中的第 794 行第 1 列未处理的异常 - Microsoft JScript 运行时错误：“DeleteRowFromCart”未定义

**Javascript代码：**

脚本包括

```
<link href="Styles/jquery.mobile-1.2.0.min.css" rel="stylesheet" 
    type="text/css" />
<script src="Scripts/jquery.min.js" type="text/javascript"></script>
<script src="Scripts/jquery.mobile-1.2.0.min.js" type="text/javascript" >
</script>

<script type="text/javascript">
    function DeleteRowFromCart(tableID) {
        // Function Logic             
    }
</script> 
```

**后面**的代码 :: 动态构建页面

```
StringBuilder cartString = new StringBuilder(string.Empty);
cartString.Append(@"<tr><td></td><td align='right'>
    <a data-role='button' data-mini='true' data-icon='delete' data-theme='a' 
    onclick='DeleteRowFromCart("+ product.TableId+");'>Delete</a></td></tr>");
cartString.Append("</table></li>");
CartPanel.Controls.Add(new LiteralControl(cartString.ToString())); 
```

这里的 CartPanel 是一个 ASP 面板

```
<asp:Panel runat="server" ID="CartPanel" /> 
```

我不知道这里可能有什么问题。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:59:14.087

单引号可能是一个问题尝试替换以下 -

```
onclick='DeleteRowFromCart("+ product.TableId+");' to onclick=DeleteRowFromCart('"+ product.TableId+'"); 
```

更新 - 在函数之前添加 javascript。

```
string TableID="Table01";

 StringBuilder cartString = new StringBuilder(string.Empty);
 cartString.Append(@"<tr><td></td><td align='right'>
 <a data-role='button' data-mini='true' data-icon='delete' data-theme='a'
 onclick=javascript:DeleteRowFromCart('" + TableID + "');>Delete</a></td></tr>");
 cartString.Append("</table></li>");
 CartPanel.Controls.Add(new LiteralControl(cartString.ToString())); 
```

# jquery - jQuery 移动轮播 - 链接 jQuery UI

> ID：14869149
> 
> 赞同：0
> 
> 时间：2013-02-14T06:40:50.283
> 
> 标签：jquery, jquery-ui, jquery-mobile

我一直在寻找 jquery 移动图像幻灯片，发现这个链接很有趣[https://github.com/blackdynamo/jQuery-Mobile-Carousel](https://github.com/blackdynamo/jQuery-Mobile-Carousel)我已经下载了所有的 js 文件并插入了它。但它仍然无法正常工作.. 请在下面找到代码。

```
<!DOCTYPE html>
<head>
<meta charset="utf-8" />
<title>Home</title>
<!-- Meta viewport tag is to adjust to all Mobile screen Resolutions-->
<meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1" />

<link rel="stylesheet" type="text/css" href="Css/style.css" />
<link rel="stylesheet" type="text/css" href="Css/Jstyle.css" />
<link rel="stylesheet" type="text/css" href="Css/pag.css" />
<script type="text/javascript" src="Javascript/jquery1.js"></script>
<script type="text/javascript" src="Javascript/jquery2.js"></script>

<script type="text/javascript" src="Css/jquery-ui-1.8.7.custom.min.js"></script>
<script type="text/javascript" src="Css/jquery.mobile.carousel.js" ></script>
<script type="text/javascript" src="Css/jquery.ui.ipad.js" ></script>

<script type="text/javascript" src="css/pag.js"></script>
<script type="text/javascript">

(function($) {
    $("#carousel1").carousel();
})(jQuery);

</script>

</head>
<body>

<div data-role="page">
Horizontal
<div style="height: 300px; width: 500px">
    <ul data-role="listview" id="carousel1" style="display: none;">
        <li><div style="width: 100%; height: 100%; background-color:blue;">Page 1</div></li>
        <li><div style="width: 100%; height: 100%; background-color:#837;">Page 2</div></li>
        <li><div style="width: 100%; height: 100%; background-color:#999;">Page 3</div></li>

    </ul>
</div>

</div>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:14:03.897

下面的链接是github。

[https://github.com/blackdynamo/jQuery-Mobile-Carousel](https://github.com/blackdynamo/jQuery-Mobile-Carousel)

实际上**jquery.mobile.carousel.js**是幻灯片效果的库文件。

但这个库使用 jQuery UI 的可拖动功能并模拟鼠标事件的触摸。

所以，如果你想使用这个库。您应该在 html 中包含所有 js 文件。

**添加**

以下部分是错误的

```
 <body onload=(function($) {
       $("#carousel1").carousel();

   })(jQuery);> 
```

修复如下

```
(function($) {
    $("#carousel1").carousel();
})(jQuery); 
```

并且 javascript 应该在 <script> 标记中定义。

错误案例：

```
<link rel="stylesheet" type="text/css" href="Css/jquery-ui-1.8.7.custom.min.js" />
<link rel="stylesheet" type="text/css" href="Css/jquery.mobile.carousel.js" />
<link rel="stylesheet" type="text/css" href="Css/jquery.ui.ipad.js" /> 
```

正确的案例：

```
<script type="text/javascript" src="Css/jquery-ui-1.8.7.custom.min.js" />
<script type="text/javascript" src="Css/jquery.mobile.carousel.js" />
<script type="text/javascript" src="Css/jquery.ui.ipad.js" /> 
```

# ruby-on-rails-3 - Rails 3：覆盖 Rails 约定以适应定制的 FK 和 PK

> ID：14869157
> 
> 赞同：-1
> 
> 时间：2013-02-14T06:41:20.063
> 
> 标签：ruby-on-rails-3, activerecord, foreign-keys, associations, has-many

我正在尝试将数据插入到使用外键关联引用表 A 的表 B 中。
这是我的代码。

模型.rb

```
class StudentStatusReport < ActiveRecord::Base
attr_accessible :student_id, :mark
belongs_to :student_details, :class_name => "StudentDetails", :foreign_key => "student_id"
end

class StudentDetails < ActiveRecord::Base
attr_accessible :student_id, :name
has_many :student_status_reports
end 
```

和 Migrations.rb 如下

```
 class CreateStudentDetails < ActiveRecord::Migration
  def change
  create_table :student_details, {:id => false} do |t|
    t.string :student_id
    t.string :name
    t.timestamps
  end
  execute "ALTER TABLE student_details ADD PRIMARY KEY (reg_no);"
 end
end

class CreateStudentStatusReports < ActiveRecord::Migration
  def change
    create_table :student_status_reports do |t|
     t.string  :student_id
     t.integer :mark
     t.timestamps
   end
 end
end 
```

现在我使用以下查询将数据插入到 Rails 控制台上的 StudentStatusReport 模型中。

```
e = StudentDetails.find("UG10001")
f = e.student_status_reports.create!(:mark => 40) 
```

但我在控制台上收到以下错误 -

```
ActiveRecord::UnknownAttributeError: unknown attribute: student_details_id 
```

对此可能的解决方案是什么？
我已经在模型和数据库中定义了外键和主键，我不知道我哪里出错了。发送..！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T19:16:18.017

我认为问题是你的外键。在`StudentStatusReport`模型中，您将其定义为表`student_id`中的列`student_status_reports`，但在`StudentDetails`模型中（隐式）定义为`student_details_id`（Rails 猜测它是关联名称 +`_id`除非您明确定义它）。因此，应该通过在 parent_model 中指定正确的 foreign_key 来修复错误：

```
class StudentStatusReport < ActiveRecord::Base
  attr_accessible :student_id, :mark
  belongs_to :student_details, :class_name => "StudentDetails", :foreign_key => "student_id"
end

class StudentDetails < ActiveRecord::Base
  attr_accessible :student_id, :name
  has_many :student_status_reports, :foreign_key => "student_id"
end 
```

请注意，表中的`student_id`列`student_details`实际上并未在关联中使用，因此您可以考虑将其删除以使关联更清晰。

最后，坚持 Rails 中的默认约定通常是一个好主意（整数自动增量主键名为`id`，单数模型名称）。但有时你就是不能... :S

# android - 屏幕旋转后，片段在其他片段内时不保存 ViewPager 的当前项目

> ID：14869158
> 
> 赞同：0
> 
> 时间：2013-02-14T06:41:21.220
> 
> 标签：android, android-viewpager, fragment

我有一个问题。旋转屏幕后，当 ViewPager 位于其他片段内时，保存当前项时出现问题。我做了演示项目。

[https://docs.google.com/file/d/0BxIpMptddSJsWHJTYS1tUXlPVTQ/edit?usp=sharing&pli=1](https://docs.google.com/file/d/0BxIpMptddSJsWHJTYS1tUXlPVTQ/edit?usp=sharing&pli=1)

# hibernate - 这个插入是否调用泄漏连接

> ID：14869160
> 
> 赞同：0
> 
> 时间：2013-02-14T06:41:37.523
> 
> 标签：hibernate, jpa, database-connection, connection-pooling

这个插入是否调用泄漏连接

```
EntityManagerFactory emf = Persistence.createEntityManagerFactory("foo");
EntityManager em = emf.createEntityManager();
transaction = em.getTransaction();
transaction.begin();

try {
    transaction.begin();
     // insert call goes here
    em.flush();
    transaction.commit();
} catch (Exception e) {
    if (transaction != null && transaction.isActive()) {
        transaction.rollback();
    }
} finally {
    if (em != null) {
        em.close();
        emf.close();
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T10:26:48.230

连接泄漏是因为创建任何连接并保持这些连接打开，您的代码对我来说似乎是正确的。

考虑一下： finally 并不总是被执行。以下情况不执行。

1.  当执行 try catch 块时 JVM 退出时。
2.  如果执行 try catch 块的线程被中断或杀死。

# r - 由 readHTMLTable 解析的因子列的子集不返回结果

> ID：14869163
> 
> 赞同：2
> 
> 时间：2013-02-14T06:41:47.627
> 
> 标签：r

我遇到了一个奇怪的子集问题。问题是我可以对一列进行子集化，但不能对另一列进行子集化。两列似乎都已被 readHTMLTable 以相同的方式解析。

要复制的代码

```
require(XML)
theurl <- "http://en.wikipedia.org/wiki/List_of_stock_exchanges"
html <- htmlParse(theurl)
seData <- readHTMLTable(html)[[2]]
names(seData) = c("Rank","EX","Economy","HQ","MarketCap","TradeValue")
seData = transform(seData,MarketCap = as.numeric(gsub(",","",MarketCap)))
seData = transform(seData,TradeValue = as.numeric(gsub(",","",TradeValue))) 
```

我想为印度证券交易所子集，所以我使用了：

```
> subset(seData,seData$Economy == "India")
[1] Rank       EX         Economy    HQ         MarketCap  TradeValue
<0 rows> (or 0-length row.names)
> subset(seData,seData$Economy == " India")
[1] Rank       EX         Economy    HQ         MarketCap  TradeValue
<0 rows> (or 0-length row.names) 
```

尽管已验证有两行应满足条件，但我没有返回任何行，但我可以轻松地对另一列“EX”执行相同的操作：

```
> subset(seData,seData$EX == "JSE Limited")
   Rank          EX      Economy           HQ MarketCap TradeValue
17   17 JSE Limited  SouthAfrica Johannesburg       903        287 
```

我已经运行了其他功能，两列看起来完全一样..

```
> sapply(seData,class)
      Rank         EX    Economy         HQ  MarketCap TradeValue 
  "factor"   "factor"   "factor"   "factor"  "numeric"  "numeric" 
> levels(seData$Economy)
 [1] " Australia"             " Brazil"                " Canada"               
 [4] " China"                 " Germany"               " Hong Kong"            
 [7] " India"                 " Japan"                 " Russia"               
...
> levels(seData$EX)
 [1] "Australian Securities Exchange"   "BME Spanish Exchanges"           
 [3] "BM&F Bovespa"                     "Bombay Stock Exchange"           
 [5] "Deutsche BÃ¶rse"                  "Hong Kong Stock Exchange"        
 [7] "JSE Limited"                      "Korea Exchange"                  
 ... 
```

我错过了什么？我使用的子集命令有什么问题？:(

```
subset(seData,seData$Economy == " India") 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T06:56:44.420

正如我在评论中提到的，这个问题的发生主要是由于数据中的非标准字符，我猜这是由于字符编码设置。

`subset`您可能希望使用标准`[`子集而不是使用`grepl` `grepl`将为您提供逻辑值向量，然后您可以使用它来对数据框进行子集化。这使您可以进行部分匹配以及额外的奖励

```
> seData[grepl('India', seData$EX),]
   Rank                               EX Economy     HQ MarketCap TradeValue
11   11 National Stock Exchange of India Â India Mumbai      1234        442 
```

**编辑**

`grepl`也将在函数内部`subset`工作

```
> subset(seData,  grepl('India', seData$EX) )
   Rank                               EX Economy     HQ MarketCap TradeValue
11   11 National Stock Exchange of India Â India Mumbai      1234        442 
```

# php - 如何在 PHP 中使用 TCPDF 创建马拉雅拉姆语 PDF？

> ID：14869173
> 
> 赞同：1
> 
> 时间：2013-02-14T06:42:25.613
> 
> 标签：php, pdf, fonts, tcpdf, fpdf

我正在尝试使用 TCPDF 创建马拉雅拉姆语 pdf。根据手册，我已经转换了字体（使用[http://fonts.snm-portal.com/](http://fonts.snm-portal.com/)）并添加了它们。它正在工作，但工作不正常。

诸如“ന്യൂഡല്ഹി, ഉത്തരവിട്ടെന്നും, എത്രയും”之类的词。显示为“ന^യൂഡല്ഹി, ഉത^തരവിട^ടനെനും, എത^രയും”。

我现在正在使用“kartika.ttf”字体，并尝试了其他一些马拉雅拉姆语字体。数据库、表格、字段和站点采用“utf-8”格式。

这个问题有什么解决办法吗？是否可以使用印度字体显示/保存为 pdf 格式？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T07:33:12.360

划掉我最后的评论。据我所知，TCPDF 不支持印度语脚本。有关更多信息，请参阅此博客文章的评论[http://thottingal.in/blog/2011/05/07/language-ecosystem-sourashtra/](http://thottingal.in/blog/2011/05/07/language-ecosystem-sourashtra/)

Python 的 PyPDFLib [http://savannah.nongnu.org/projects/pypdflib](http://savannah.nongnu.org/projects/pypdflib)应该能够正确呈现您提供的示例文本。

我想测试作为 PyPDFLib 基础的 pango 是否可以处理您在上面提供的字符串。所以我使用了另一个基于它的包。我用 rsvg 渲染它。[http://rrbits.com/malayalam.pdf](http://rrbits.com/malayalam.pdf) [注意：文本应该以 Kartika 字体显示，由于我缺乏知识，我无法确定它是否 100% 正确，但我知道它很多比我从 TCPDF 中提取的任何东西都更接近。我的 pango 版本也很古老。]

# ruby-on-rails - RSpec 找不到动态创建的：title

> ID：14869174
> 
> 赞同：0
> 
> 时间：2013-02-14T06:42:26.847
> 
> 标签：ruby-on-rails, capybara, railstutorial.org

我正在阅读 railstutorial.org 的书，但我被卡住了。就像标题所说的那样，RSpec 没有找到标题标签。在重构之前，我做了一个检查，它通过了......在底部我只添加了一个页面，但创建了另外两个页面。他们都是一样的减去标题。

cmd RSpec 输出：

> 失败的例子：
> 
> rspec ./spec/requests/static_pages_spec.rb:40 # 静态页面应该有标题 'About Us' rspec ./spec/requests/static_pages_spec.rb:11 # 静态页面主页应该有标题 'Home' rspec ./ spec/requests/static_pages_spec.rb:25 # 静态页面帮助页面应该有标题“帮助”

宝石文件：

```
source 'https://rubygems.org'

gem "rails", "~> 3.2.12"

# Bundle edge Rails instead:
# gem 'rails', :git => 'git://github.com/rails/rails.git'

group :development, :test do    gem 'sqlite3', '~> 1.3.7'   gem 'rspec-rails', '~> 2.12.2' end

# Gems used only for assets and not required
# in production environments by default. group :assets do   gem 'sass-rails',   '~> 3.2.4'   gem 'coffee-rails', '~> 3.2.2'

  # See https://github.com/sstephenson/execjs#readme for more supported runtimes   # gem 'therubyracer', :platforms => :ruby

  gem "uglifier", "~> 1.3.0" end

gem "jquery-rails", "~> 2.2.1"

group :test do  gem "capybara", "~> 2.0.2" end

group :production do    gem "pg", "~> 0.14.1" end

# To use ActiveModel has_secure_password
# gem 'bcrypt-ruby', '~> 3.0.0'

# To use Jbuilder templates for JSON
# gem 'jbuilder'

# Use unicorn as the app server
# gem 'unicorn'

# Deploy with Capistrano
# gem 'capistrano'

# To use debugger
# gem 'debugger' 
```

路线：

```
SampleApp::Application.routes.draw do
  get "static_pages/home"

  get "static_pages/help"

  get "static_pages/about"
end 
```

规格.rb：

```
require 'spec_helper'

describe "Static Pages" do

    describe "Home page" do
        it "should have the h1 'Sample App'" do
            visit '/static_pages/home'
            page.should have_selector('h1', :text => 'Sample App')
        end

        it "should have the title 'Home'" do
            visit '/static_pages/home'
            page.should have_selector('title',
                        :text => "Ruby on Rails Tutorial Sample App | Home")
        end
    end

    describe "Help page" do

        it "should have the h1 'Help'" do
            visit '/static_pages/help'
            page.should have_selector('h1', :text => 'Help')
        end

        it "should have the title 'Help'" do
            visit '/static_pages/help'
            page.should have_selector('title',
                        :text => "Ruby on Rails Tutorial Sample App | Help")
        end
    end

    describe "About page" do

        it "should have the h1 'About Us'" do
            visit '/static_pages/about'
            page.should have_selector('h1', :text => 'About Us')
        end
    end

    it "should have the title 'About Us'" do
        visit '/static_pages/about'
        page.should have_selector('title',
                    :text => "Ruby on Rails Tutorial Sample App | About Us")
    end
end 
```

应用程序.html.erb：

```
<!DOCTYPE html>
<html>
<head>
  <title>Ruby on Rails Tutorial Sample App | <%= yield(:title) %></title>
  <%= stylesheet_link_tag    "application", :media => "all" %>
  <%= javascript_include_tag "application" %>
  <%= csrf_meta_tags %>
</head>
<body>

<%= yield %>

</body>
</html> 
```

home.html.erb：

```
<% provide(:title, "Home") %>

<h1>Sample App</h1>
<p>
This is the home page for the
<a href="http://railstutorial.org/">Ruby on Rails Tutorial</a>
sample application.
</p> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T13:52:48.330

它不起作用的原因是因为您`~> 2.0.2`安装了 Capybara 版本而不是`1.1.2`教程使用的 .

默认情况下，版本`2.0.0`和更高版本的标签中的文本不再`title`可见（Hartl 确保在他的**Gemfile**`page`中直接指定 gem 版本是有原因的：对于可能出现的此类问题）。

 **More details in the [Github issue](https://github.com/jnicklas/capybara/issues/844), with a workaround to the issue is in [this StackOverflow Q&A](https://stackoverflow.com/q/13573525/567863) (though I would recommend that you just stick with the gem versions the tutorial has specified for now, and perhaps come back to this as a refactoring exercise).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T12:28:14.290

我去了网站，复制并粘贴到他的 gemfile 中，现在所有的工作......奇怪的是我从 RubyGems.org 手动复制了所有的 gem，所以我不知道为什么这些没有工作......**

# apache-flex - 如何转换 Flex MX 组件以在 Flex Mobile 中使用

> ID：14869176
> 
> 赞同：1
> 
> 时间：2013-02-14T06:42:29.720
> 
> 标签：apache-flex, flash-builder, flex-mobile, flex-mx, flex-spark

我有一个现有的 Flex Air 应用程序，它是 MX 和 spark 组件的组合，我需要它在 android 设备上运行。现在，我尝试使用编译`adt -package -target apk-emulator -storetype`，当我在 android 设备上安装时出现黑屏。

创建一个新的移动 flex 项目并导入现有的东西，我有很明显与 flex mobile 4.6 不兼容的 mx 东西。有没有其他方法可以解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T14:50:40.667

您有几个选项，按复杂程度排列（从最简单到最难）：

1.  将 MX.swc 添加到移动项目的库路径中。然后，您可以在移动项目中使用 MX 库。预期bo表现惨淡。
2.  重新编写代码以将 MX 组件替换为 Spark 组件；如果存在替代品。
3.  仅使用支持移动设备的组件重建您的应用程序

# ruby-on-rails - 获取has_many关系中的索引

> ID：14869177
> 
> 赞同：0
> 
> 时间：2013-02-14T06:42:33.977
> 
> 标签：ruby-on-rails, model

我想在 has_many 关系中获取实例的索引。例如，`A`有很多`B`s，并且有一个`b`(`B`的实例) 属于一个`a`。如果我们`b`按它们的 id 对所有 s 进行排序，`b`将是 Xth `B`in `a.bs`。我想买X。

甚至有可能不遍历所有内容`a.bs`吗？如果我必须创建一个新列来存储这个索引，如何避免竞争条件？

**编辑**：我想出的解决方案是：

```
class B < ActiveRecord::Base
  before_create :add_extra_index

  def add_extra_index
     self.extra_index = self.a.bs.count
  end
end 
```

但显然存在竞争条件。

# iphone - 访问数据库时应用程序崩溃

> ID：14869178
> 
> 赞同：2
> 
> 时间：2013-02-14T06:42:38.270
> 
> 标签：iphone, ios, memory-management

在我的应用程序中，我在后台访问数据库并将数据发送到服务器。为此，我们使用`NSThread`方法

```
[NSThread detachNewThreadSelector:@selector(repeatedMethod) toTarget:self withObject:nil]; 
```

这会导致应用程序崩溃并出现以下错误： `malloc: error for object 0xc53c200: double free set a breakpoint in malloc_error_break to debug`

# android - AsyncTask 类中的 Android Intent 给出错误

> ID：14869181
> 
> 赞同：1
> 
> 时间：2013-02-14T06:42:59.323
> 
> 标签：android, android-intent, android-asynctask

我是 Android 编程的新手，并试图学习这些概念，当然是在我的 Stackoverflow 用户的帮助下。

**我想要做什么**：从登录页面，我试图从位于服务器上的 json 文件中获取登录凭据。解析 json 文件并验证登录凭据后，我开始对我的应用程序（主页）的下一页进行新的意图。

**问题**：按照stackoverflow用户的建议，我已经使用AsyncTask成功完成了所有网络操作并在后台线程上进行了解析。但是，在验证登录凭据后，当我尝试在 AsyncTask 类的 postExecute 方法中启动新意图时，它给了我以下错误。请提出问题所在。

**错误**：

```
The constructor Intent(LoginActivity.RetreiveDataAsynctask, Class<HomeActivity>) is undefined 
```

**行错误：**

```
Intent intent = new Intent(this,HomeActivity.class); 
```

**代码**：

```
private class RetreiveDataAsynctask extends AsyncTask<String,Void,JSONObject> {

        @Override
        protected JSONObject doInBackground(String... loginURL) {
            JSONObject obj = getJSONfromURL(loginURL[0]);
            return obj;
        }

        @Override
        protected void onPostExecute(JSONObject obj) {
             //Do all ur UI related stuff as this will be executing in ui thread

            super.onPostExecute(obj);

            TextView loginStatus = (TextView) findViewById(R.id.login);
            TextView userId = (TextView) findViewById(R.id.userId);

            //if login successful, then go to the next page.

            try {
                loginStatus.setText(obj.getString("LOGIN"));
                userId.setText(obj.getString("userId"));

                AlertDialog.Builder adb = new AlertDialog.Builder(
                        LoginActivity.this);
                        adb.setTitle("Login Service");
                        adb.setPositiveButton("Ok", null);

                if(obj.getString("LOGIN").equalsIgnoreCase("TRUE") && !obj.getString("userId").equalsIgnoreCase("")){
                    //call next page
                     adb.setMessage("Login Success...!!");

                     Intent intent = new Intent(this,HomeActivity.class); **//THIS LINE SHOWS ERROR**
                     startActivity(intent);

                }else{//login unsuccessful
                    adb.setMessage("Login Failed...!!");

                }

                adb.show(); 

            } catch (JSONException e) {
                Log.e("log_tag", "JSONException  "+e.toString());
            } 
        }

        @Override
        protected void onPreExecute() {

            TextView loginStatus = (TextView) findViewById(R.id.login);
            TextView userId = (TextView) findViewById(R.id.userId);
            loginStatus.setText("Not Fetched"); 
            userId.setText("Not Fetched"); 

        }

        @Override
        protected void onProgressUpdate(Void... values) {

        }
    } 
```

寻找解决方案。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T06:45:07.563

```
Intent intent = new Intent(this,HomeActivity.class); 
```

在上一行中，`this`指的是**AsyncTask 的实例**，并`Intent`使用 Application 或 Activity Context 作为 Constructor 参数。

所以应该是这样的，

```
Intent intent = new Intent(<Your_Calling_Activity_Name.this>,HomeActivity.class); 
```

在你的情况下，

```
Intent intent = new Intent(LoginActivity.this,HomeActivity.class); 
```

或者

```
Intent intent = new Intent(mContext,HomeActivity.class); 
```

这`mContext`是一个正在调用的活动上下文`AsyncTask`。您可以将此上下文传递给 AsyncTask 的构造函数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T06:48:17.173

尝试这个

```
 Intent intent = new Intent(getApplicationContext(),HomeActivity.class);
  startActivity(intent); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T06:47:55.940

问题就在这里——

```
Intent intent = new Intent(this,HomeActivity.class); 
```

在上面的代码中 -**这**指的是 AsyncTask 类。

相反，您可以使用**LoginActivity.this**或 context 。

```
Intent intent = new Intent(LoginActivity.this,HomeActivity.class); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-11-23T13:20:13.577

尝试这个

```
startActivity(new Intent(LoginActivity.this, HomeActivity.class)); 
```

# ios - 切换视图控制器

> ID：14869183
> 
> 赞同：0
> 
> 时间：2013-02-14T06:43:02.863
> 
> 标签：ios, views, switch-statement, viewcontroller

我在 iOS 上的应用程序出现问题。我试图在一些 ViewControllers 之间切换，但它不能正常工作。

现在我有三个 ViewController，第一个是启动图像，在特定时间会切换到第二个 ViewController，但此时第一个 View 使用一个按钮来执行此操作。第二个 View 将是一个登录屏幕，但现在它是一个假登录，带有一个切换到第三个 ViewController 的按钮，它将执行一些复杂的操作。

我的问题是在从第一个 ViewController 切换到第二个 ViewController 的过程中。如果我使用附加到按钮的 IBAction，它可以正常工作，但如果我使用 NSTimer 或类似 performSelector/PerformSelectorOnMainThread 的东西，它就不能正常工作（应用程序方向发生变化，第二个 ViewController 中的按钮不起作用）。

ViewController1.m

```
#import "ViewController.h"
#import "LoginViewController.h"

@interface ViewController ()

@end

@implementation ViewController

- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.
    float timer=5.0;
    [self performSelector:@selector(startAfterInterval) withObject:nil afterDelay:timer];
}

- (void) startAfterInterval {
    LoginViewController * loginViewController = [self.storyboard instantiateViewControllerWithIdentifier:@"LoginViewController"];

    [[[self view] window] addSubview:loginViewController.view];
}

- (IBAction)NextView:(id)sender {
    LoginViewController * loginViewController = [self.storyboard instantiateViewControllerWithIdentifier:@"LoginViewController"];

    [[[self view] window] addSubview:loginViewController.view];
}
@end 
```

有人可以帮我吗？感谢您的建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:23:19.323

我尝试了您的代码，得到了不同的结果，但它们不稳定。有时，单击 LoginViewController 中的按钮会起作用，有时会导致崩溃。原因是 LoginViewController 正在被释放。您正在将其视图添加到窗口，而不是控制器 - 这不是应该完成的方式。如果您只想更改控制器而不使用导航控制器或模式表示，那么您应该更改窗口的根视图控制器而不是添加视图：

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.
    float timer=5.0;
    [self performSelector:@selector(startAfterInterval) withObject:nil afterDelay:timer];
}

- (void) startAfterInterval {
    LoginViewController * loginViewController = [self.storyboard instantiateViewControllerWithIdentifier:@"LoginViewController"];
    self.view.window.rootViewController = loginViewController;
}

- (IBAction)NextView:(id)sender {
    LoginViewController * loginViewController = [self.storyboard instantiateViewControllerWithIdentifier:@"LoginViewController"];
     self.view.window.rootViewController = loginViewController;
} 
```

如果你这样做，这两种方法都可以正常工作。

# php - 表单可以对php有两个动作吗？

> ID：14869186
> 
> 赞同：0
> 
> 时间：2013-02-14T06:43:05.130
> 
> 标签：php, forms, fopen, fwrite

我只是在玩表单动作和 php。我不擅长它们，刚开始学习，最近我在玩 fopen、fwrite 和 fclose。还玩弄基本的表单填充，然后 php 调用填充的内容。

我想知道的是，我知道可以调用 fopen、fwrite 来打开/创建一个 txt 文件并将简单的数据输入到 txt 文件中，但是如果我想这样做并让用户看到他们输入的内容。

不太好解释。比方说

a.html --> 让我们在这个 html 中说

```
<form action="a.php" method="get">
<input type="text" name="name">
<input type="submit"> 
```

a.php -->点击a.html中的提交后，这个a.php会有如下代码

```
echo "My name is $_GET["name"]"; 
```

单击 a.html 中的提交后将显示 My name is xxxxx 但是如果我还希望 a.html 中的提交进入另一个假设 b.php 和 b.php 将具有如下编码

```
$filehandle = fopen("text.txt","a+") or die ("sorry error");
fwrite($filehandle, $_GET["name"]);
fclose($filehandle); 
```

我知道如果从 a.html 只进入 a.php 或 b.php 之一，那么它会起作用，但是是否可以通过单击 a.html 来使 a.php 和 b.php 都起作用？

*不想涉及javascripts和那些更高级的，因为我还没有达到那个水平，但我只是在想是否有一种简单可行的方法*

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:53:25.413

在**a.php 中**：

```
<?php
    $name = $_GET['name'];   // use post as the form method is better

    // then give it to **b.php**:

    header('location: b.php?name='.$name);

    // or

    echo "<a href='b.php?name='".$name.">Link to Page B</a>";
?> 
```

**您可以通过以下方式在b.php**中获取此值：

```
<?php
      $new_name = $_GET['name'];   // get from the query string
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T06:50:21.833

你需要包括`b.php`在内`a.php`

```
<form action="a.php" method="get">
<input type="text" name="name">
<input type="submit"> 
```

在您的`a.php`文件中，您需要包括

```
require_once "b.php"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T06:47:40.907

最好为此使用javascript。AFAIK，当您提交表单时，它将加载您的目标页面，并传递表单中指定的表单变量。

您可以 1) 使用 javascript 来实现 ajax 以您想要的顺序调用您的 php 脚本

或 2)

在您的表单目标页面上，在 PHP 中调用您需要执行的任何其他 PHP 代码

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-14T06:48:06.503

您可以简单地为此定义两个不同的函数。

```
function echoUsername($username) {
   echo "My name is $_GET["name"]";
}
function writeNameToFile($username) {
   $filehandle = fopen("text.txt","a+") or die ("sorry error");
   fwrite($filehandle, $_GET["name"]);
   fclose($filehandle);
} 
```

现在只需将它们放入一个名为 的文件`functions.php`中，将其包含到`a.php`/ `b.php`using 中`include("functions.php");`并调用如下函数：

```
echoUsername($username);
writeNameToFile($username); 
```

如果你真的想调用这两个页面，没有办法绕过 javascript，但它仍然是一个糟糕的解决方案。

# apache - 禁用缓存链接问题

> ID：14869187
> 
> 赞同：2
> 
> 时间：2013-02-14T06:43:08.090
> 
> 标签：apache, webserver, centos5

我有一个下载文件的站点（.pdf、.rar、.jpg、...）。我的服务器有一个大问题，我认为它与 apache 有关：

例如我链接到 12.pdf 下载它：

```
<a href="12.pdf">book</a> 
```

它工作正常，但问题：我用另一个同名的文件更改了 12.pdf。下载新的 12.pdf 时，会下载以前的文件。即使我从服务器中删除 12.pdf 并在我的页面中按 Ctrl+F5，当单击上面的链接时，12.pdf 下载开始并完全下载文件！！而服务器上不存在名称为 12.pdf 的文件。什么是问题？apache会缓存我的链接吗？如何解决这个问题？我的服务器操作系统是 CentOS。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-17T12:50:50.443

一些没有特定顺序的解决方案可能会有所帮助。

1.  创建一个哈希：

    > 更好的方法是通过引入一个哈希值来修改文件路径（或名称），该哈希值会在文件被修改时发生变化；然后在 apache 配置中，您可以剥离该值以获得正确的文件路径（或名称）。见这里： [https ://developers.google.com/speed/docs/best-practices/caching?hl=es-419#LeverageBrowserCaching](https://developers.google.com/speed/docs/best-practices/caching?hl=es-419#LeverageBrowserCaching)

    通过[http://www.immense.net/force-update-cached-files-images-favicon/#comment-18489](http://www.immense.net/force-update-cached-files-images-favicon/#comment-18489)

2.  服务器标头。缓存也可以根据响应头在服务器端进行控制。

    > 例如，要强制缓存文件不超过 1 天，您可以发送：
    > 
    > ```
    > Cache-Control: max-age=86400, must-revalidate 
    > ```
    > 
    > 对于测试版，如果您想强制用户始终获取最新版本，您可以使用：
    > 
    > ```
    > Cache-Control: no-cache, must-revalidate 
    > ```

    通过[https://stackoverflow.com/a/84846/1085891](https://stackoverflow.com/a/84846/1085891)

3.  使用`GET`变量。添加版本号或任何值，这将强制浏览器提取最新文件。例子：

    ```
    <a href="12.pdf?ver=1.1">book</a> 
    ```

    许多人不建议将这种技术用于任何可能需要缓存的文件（CSS、JavaScript 等）。

4.  [`<FilesMatch>`指示](http://httpd.apache.org/docs/2.2/mod/core.html#filesmatch)

    > 在指令中包含这些`.htaccess`行。`<FilesMatch>`例如，这些行将阻止缓存以“.htm”或“.html”结尾的文件名，同时允许正常缓存 JPEG 文件：
    > 
    > ```
    > <FilesMatch "\.(htm|html)$">
    >   ExpiresActive On
    >   ExpiresDefault A1
    >   Header append Cache-Control must-revalidate
    > </FilesMatch> 
    > ```

    通过[http://support.tigertech.net/prevent-caching](http://support.tigertech.net/prevent-caching)

**资源**

*   缓存指南 - Apache HTTP 服务器：[http ://httpd.apache.org/docs/2.2/caching.html](http://httpd.apache.org/docs/2.2/caching.html)
*   [如何强制客户端刷新 JavaScript 文件？](https://stackoverflow.com/questions/32414/how-can-i-force-clients-to-refresh-javascript-files)
*   如何强制更新缓存文件、图像、图标：[http ://www.immense.net/force-update-cached-files-images-favicon/](http://www.immense.net/force-update-cached-files-images-favicon/)
*   如何防止 Web 浏览器缓存我的页面？： http: [//support.tigertech.net/prevent-caching](http://support.tigertech.net/prevent-caching)

# objective-c - 选择键盘还是选择器？

> ID：14869189
> 
> 赞同：0
> 
> 时间：2013-02-14T06:43:07.083
> 
> 标签：objective-c

我试图根据所选单位显示选择器或键盘。

对于公制，它是一个键盘，因此用户可以输入 300 克，而对于英制，它是一个选择器，因此用户可以选择 3 2/3 杯。

选择器显示，但我无法让键盘不显示。resignFirstResponder 不起作用 - 因为我认为它不是第一响应者。

```
- (BOOL)textFieldShouldBeginEditing:(UITextField *)textField {

switch (_Unit) {
    case 1: // metric - show the keyboard
        [self unitHidePicker:nil];
        break;

    case 2: // oz & fl/oz

        [self unitShowPicker];
        [textField resignFirstResponder];
        break;

    case 3: // US Cups
        [self unitShowPicker];
        [textField resignFirstResponder];
        break;
}

return YES;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:49:03.053

最简单的方法，在显示 UIPickerview 时使用按钮，否则显示 textField。键盘显示隐藏是一团糟。您可以添加按钮和文本字段并切换显示它们并完成工作

或设置要在其中使用选择器`Return NO;` **的 case 循环内部**

# actionscript-3 - AS3 混合模式添加

> ID：14869190
> 
> 赞同：0
> 
> 时间：2013-02-14T06:43:08.003
> 
> 标签：actionscript-3

我可以使用一些关于对符号应用更改的帮助。我可以在诸如 display/BlendMode/Properties/ADD 之类的提示中看到，例如，可以在符号属性中直接更改相同的内容。我真的不知道规则，在哪里输入哪一个。我尝试了“Object01.display.BlendMode.Properties.ADD = true”和“Object01.draw(BlendMode.ADD)”...我只找到了人们在使用 AS3 绘图时使用它的示例。我需要将它应用于现有的符号（实例）。当然是通过函数。请。

如果（myWill = true）{“change_blending_properties_code”}

^_^

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T06:53:25.473

您可以在代码中很容易地分配任何 DisplayObject 的[**flash.display.DisplayObject.blendMode ：**](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/display/DisplayObject.html#blendMode)

```
import flash.display.BlendMode;

myDisplayObject.blendMode = BlendMode.ADD; 
```

[**flash.display.BlendMode**](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/display/BlendMode.html)只是一类常量，例如`BlendMode.ADD`. 或者，您可以编写以下内容，但我不建议这样做：

```
myDisplayObject.blendMode = "add"; 
```

# ruby-on-rails - 跟随模型的条件链接

> ID：14869198
> 
> 赞同：0
> 
> 时间：2013-02-14T06:43:46.943
> 
> 标签：ruby-on-rails, associations

我有自我参照协会工作。我的问题是在用户/节目上，我想根据用户与当前用户的关系显示不同的文本。

目前，如果用户 = 当前用户，我将其设置为不显示任何内容。如果用户不是当前用户并且不是当前用户的朋友，我想显示一个链接来关注用户。最后，如果用户不是当前用户并且已经是当前用户的朋友，我想显示文本说“朋友”。

友谊.rb

```
belongs_to :user
belongs_to :friend, :class_name => "User" 
```

用户.rb

```
has_many :friendships
has_many :friends, :through => :friendships
has_many :inverse_friendships, :class_name => "Friendship", :foreign_key => "friend_id"
has_many :inverse_friends, :through => :inverse_friendships, :source => :user 
```

用户/节目

```
<% unless @user == current_user %>
  <%= link_to "Follow", friendships_path(:friend_id => @user), :method => :post %>
<% end %> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T15:32:44.680

首先，我将在用户模型上定义一个方法，我们可以使用它来确定用户是否与另一个用户成为朋友。看起来像这样：

```
class User < ActiveRecord::Base
  def friends_with?(other_user)
    # Get the list of a user's friends and check if any of them have the same ID
    # as the passed in user. This will return true or false depending.
    friends.where(id: other_user.id).any?
  end
end 
```

然后我们可以在视图中使用它来检查当前用户是否是给定用户的朋友：

```
<% unless @user == current_user %>
  <% if current_user.friends_with?(@user) %>
    <span>Friends</span>
  <% else %>
    <%= link_to "Follow", friendships_path(:friend_id => @user), :method => :post %>
  <% end %>
<% end %> 
```

# c - 对数组进行二进制搜索的 C 程序中的分段错误

> ID：14869200
> 
> 赞同：0
> 
> 时间：2013-02-14T06:43:53.313
> 
> 标签：c, arrays, sorting, binary, segmentation-fault

在这个 C 程序中，我正在对作为 data.txt 读入的数组进行二进制搜索

首先，我尝试将 data.txt 作为数组扫描。其次，我使用插入排序算法对其进行排序。第三，我正在对数组进行二进制搜索。我是 C 新手，我不知道我的代码哪里出了问题，感谢您帮助我知道我做错了什么。

```
#include <stdio.h>
#include <stdint.h>
#include <stdlib.h>

int main ()
{
int v, t, low, high, mid, search;
int n = 20, array[20];
int p = 0;
FILE *infile;
infile = fopen(“data.txt”,”r”);

while(!feof(infile))
{
    fscanf(infile,”%d”, &array[p]);
    p++;
}

for (p = 0; p < n; p++) {
    scanf("%d", &array[p]);
}

for (p = 1 ; p <= n - 1; p++) {
    v = p;

    while ( v > 0 && array[v] < array[v-1]) {
    t          = array[v];
    array[v]   = array[v-1];
    array[v-1] = t;

    v--;
    }
  }
for (p = 0; p <= n - 1; p++) {
    printf("%d\n", array[p]);

printf("Please enter a value (-1 = done)>\n");
scanf("%d",&search);

low = 0;
high = n - 1;
mid = (low+high)/2;

while( low <= high )
{
    if ( array[mid] < search )
        low = mid + 1;    
    else if ( array[mid] == search ) 
    {
        printf("%d is located at %d in the array.\n", search, mid+1);
        break;
    }
    else
        high = mid - 1;

    mid = (low + high)/2;
}
if ( low > high )
  printf("-1\n");

return 0;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:43:55.743

1）。用某个值 2) 初始化 n。在插入排序之后（我猜）有一个 printf 来打印数组。在 printf 之后添加另一个大括号。如果你不让这个程序继续运行（除非你输入一个破坏 prog 的字符）但现在它可能会工作，因为你在它可以循环之前返回但它仍然是一个主要问题..

# oracle10g - oracle中的多个LEFT JOIN

> ID：14869206
> 
> 赞同：0
> 
> 时间：2013-02-14T06:44:35.267
> 
> 标签：oracle10g

嗨，我正在构建查询。添加第二个左连接后会产生问题：-在添加第二个连接之前它工作正常。你能解决这个问题吗

```
SELECT   u.dept_name AS deptname, u.user_name AS username,
 u.user_id AS userid, u.single_id AS singleid,
 u.email_address AS emailaddress, to_char(m.cur_week_hits) AS empno,
 to_char(m.prev_week_hits) AS mobiletelno,r.role_id , r.role_name 
 to_char(m.cur_week_hits - m.prev_week_hits) AS comptelno
FROM tn_cf_user u
     LEFT JOIN
     (
     SELECT
          SUM (cur_week_hits) AS cur_week_hits,
           SUM (prev_week_hits) AS prev_week_hits,
           user_id
      FROM  pp
         GROUP BY user_id   ) m
     ON u.user_id = m.user_id

      LEFT JOIN
        (
        SELECT ur.role_id , rn.role_name , ur.user_id
            FROM tn_cf_user_role ur , tn_cf_role rn
            WHERE   ur.role_id = rn.role_id
        ) r,
     ON u.user_id = r.user_id 

   AND u.single_id IS NOT NULL
   AND u.user_type IS NULL 
```

谢谢

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-14T06:50:16.703

请试试这个：在你第二次加入时，更改为 m.user_id = r.user_id

# ruby-on-rails - 为电子邮件确认栏分配受保护的属性

> ID：14869220
> 
> 赞同：0
> 
> 时间：2013-02-14T06:45:53.927
> 
> 标签：ruby-on-rails, ruby-on-rails-3, protected

有几个问题可以解决非常相似的问题，但是我误解了解决方案或提问者的情况存在细微差别。

该属性`confirmed`受到保护，因此我无法批量分配它。经过研究，似乎以下解决方案应该有效。我可以同时查看`token`（也受保护的）和`confirmed`闪存中的，但我无法在其下方设置“已确认”。我究竟做错了什么？

```
 if !@user.confirmed && params[:token] == @user.token
    flash[:success] = @user.token, @user.confirmed
    @user.confirmed = true
    @user.save
  end 
```

谢谢阅读！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T05:38:07.110

我已经在我的一个测试应用程序中复制了您的场景，并且可以将已发布（在您的情况下已确认）设置为 true。

**移民**

```
def up
    create_table :posts do |t|
      t.string :title
      t.boolean :published, :default => false
      t.string :token
      t.timestamps
end 
```

**模型**

```
 class Post < ActiveRecord::Base
  attr_protected :published

  before_create :generate_token

  def generate_token
    self.token = Time.now().to_i
  end

end 
```

**控制器**

```
class PostsController < ApplicationController

  def publish
    @post = Post.find_by_token(params[:token])
    if !@post.published && params[:token] == @post.token # The second condition is not necessary in this case.
      @post.published = true
      @post.save
    end
  end
end 
```

**创建数据库记录表单控制台**

```
1.9.3-p0-perf :001 > p = Post.new({:title => "Protests against Violence"})
 => #<Post id: nil, title: "Protests against Violence", published: false, token: nil, created_at: nil, updated_at: nil> 
1.9.3-p0-perf :002 > p.save
   (0.2ms)  BEGIN
  SQL (7.3ms)  INSERT INTO "posts" ("created_at", "published", "title", "token", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", Thu, 14 Feb 2013 07:41:58 UTC +00:00], ["published", false], ["title", "Protests against Violence"], ["token", 1360827718], ["updated_at", Thu, 14 Feb 2013 07:41:58 UTC +00:00]]
   (7.5ms)  COMMIT
 => true 
1.9.3-p0-perf :003 > p.reload
  Post Load (1.2ms)  SELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT 1  [["id", 2]]
 => #<Post id: 2, title: "Protests against Violence", published: false, token: "1360827718", created_at: "2013-02-14 07:41:58", updated_at: "2013-02-14 07:41:58"> 
```

点击 /publish/1360827718 后 - 这是控制台的输出

```
#<Post id: 2, title: "Protests against Violence", published: true, token: "1360827718", created_at: "2013-02-14 07:41:58", updated_at: "2013-02-14 07:45:33"> 
```

我正在使用 postgresql、rails 3.2.11 和 ruby​​ 1.9.3 运行此代码，并且控制器中的发布操作设置了 published=true

有时将有效的代码与无助于识别问题的代码进行比较，这就是这个答案背后的意图。

希望这可以帮助您识别问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:45:45.613

将这些属性添加到模型中的 attr_accessible。

并阅读此内容以获取详细信息： [http ://api.rubyonrails.org/classes/ActiveModel/MassAssignmentSecurity/ClassMethods.html](http://api.rubyonrails.org/classes/ActiveModel/MassAssignmentSecurity/ClassMethods.html)

# git - 为什么 git 将文件显示为已删除和新文件而不是 diff？

> ID：14869223
> 
> 赞同：2
> 
> 时间：2013-02-14T06:46:09.090
> 
> 标签：git

不知何故，在提交更改时，git 将文件显示为“已删除”，并将相同的文件显示为“添加”，而不是显示差异。例如 ：

(-)文件.txt

```
- hello world
- this is amazing
- some more text 
```

(+)文件.txt

```
+ hello world
+ this is amazing 
```

而不是显示

(+-) 文件.txt

```
hello world
this is amazing
- some more text 
```

你知道是什么原因造成的吗？我不确切知道这个提交是如何提交的，但看起来它以某种方式丢失了增量。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:52:43.873

这是因为不同的行尾而发生的。您需要告诉 git 处理这些差异：

`$ git config --global core.autocrlf input`
`# Set this setting on OSX or Linux`

`$ git config --global core.autocrlf true`
`# Set this setting on Windows`

# cocos2d-iphone - Cocos2d+ViewController=EXC_BAD_ACCESS

> ID：14869224
> 
> 赞同：1
> 
> 时间：2013-02-14T06:46:12.133
> 
> 标签：cocos2d-iphone, exc-bad-access, viewcontroller

我有个问题。我称这个函数为：

```
- (void)createComposeViewController:(NSString *)serviceType {
__block SLComposeViewController *controller = [SLComposeViewController composeViewControllerForServiceType:serviceType];

if (controller == nil) return;

[controller setInitialText:@"I like appname!")];
[controller addURL:[NSURL URLWithString:@"http://appstore.com/appname"]];
[controller addImage:[UIImage imageNamed:@"Icon.png"]];
controller.completionHandler = ^(SLComposeViewControllerResult result) {
if (result == SLComposeViewControllerResultCancelled) {
NSLog(@"Cancelled");
} else {
NSLog(@"send message to social");
}

[controller dismissViewControllerAnimated:YES completion:nil];
};

[[CCDirector sharedDirector] presentViewController:controller animated:YES completion:nil];
} 
```

它工作正常。但是，如果我不关闭消息字段并最小化应用程序，那么我会在 CCGLView.m 的 275-st 行中获得 EXC_BAD_ACCESS：

```
if(![context_ presentRenderbuffer:GL_RENDERBUFFER]) 
```

我不知道为什么。我在 iPad 3 上遇到此错误。我没有其他设备。

我在模拟器中得到了这个：

```
<Error>: CGImageCreate: invalid image size: 0 x 0. 
```

但一个应用程序工作。

其他 ViewController 也是如此，例如 GKLeaderboardViewController

如果创建新项目，那么所有工作都在相同的条件下没有任何错误。我做错了什么？

cocos2d v2.1-beta4 IOS6.1

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T11:18:17.360

使用应用程序委托而不是主管

```
SLComposeViewController*fvc = [SLComposeViewController
                                       composeViewControllerForServiceType:SLServiceTypeFacebook];
        [fvc setInitialText:desc];
        [fvc addImage:[UIImage imageNamed:imgPath]];
        [fvc setCompletionHandler:^(SLComposeViewControllerResult result) {
            [myDelegate.navController dismissModalViewControllerAnimated:YES];

        }];

        AppController * myDelegate = (((AppController*) [UIApplication sharedApplication].delegate));

        [myDelegate.navController presentViewController:fvc animated:YES completion:^{
        }]; 
```

# php - php - 正则表达式用大括号和引号替换字符串

> ID：14869225
> 
> 赞同：0
> 
> 时间：2013-02-14T06:46:13.270
> 
> 标签：php, regex, wordpress, notepad++

我在这里看到很多关于正则表达式的问题，但问题是它们通常（像我的一样）非常本地化，如果不是正则表达式专家，很难推断出来。

我的字符串包含引号和大括号之类的字符，它们以使正则表达式变得更加困难而闻名。

我想知道执行此任务所需的表达式字符串（搜索、替换）。

换句话说，在：

```
 ereg_replace (string pattern, string replacement, string subject) 
```

我将需要`string pattern`and`string replacement`表达式。

我的字符串是

```
array('val' => 'something', 'label' => 'someword'), 
```

我需要更改最后一部分：

```
'label' => 'someword'), 
```

到

```
'label' => __('someword','anotherstring')), 
```

我将为此使用 php，但我也想使用 Notepad ++ 对其进行测试（并在其他情况下使用）。（我不知道它是否真的改变了搜索和替换字符串）。

请注意，字符串`someword`也可以是`SomeWord`或`SOMEWORD`什`Some word`至或大小写`Some_Word`，这意味着它可以包含空格、下划线或实际上几乎任何来自内部的字符......）

**编辑一：**忘了说这`__()`部分当然是用于翻译的 wordpress 文本域功能。例如`__('string','texdomain')`

**编辑二：**

很抱歉，如果我在评论中过于苛刻或要求太高，我确实会尝试**理解**，而不仅仅是复制粘贴在其他情况下可能对我不起作用的解决方案.. :-)

**编辑三：**

[在这个](http://gskinner.com/RegExr/)工具的帮助下，我了解到我的基本误解是在 regex 中使用 VARIABLES 的可能性。这`$1`实际上是我更好理解所需要的。

在记事本++中也可以使用的（非常简单的）模式

```
Pattern: 'label' => ('.*')

Replace: 'label' => __(\1,'textdomain') 
```

（在记事本++中，它被称为标签区域（不是var），它被标记为`\1`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:13:20.883

如果您一直在寻找`label`密钥，您应该能够执行以下操作：

```
$pattern = "/array\((.*), 'label' => '(.*)'/U";
$added_string = 'anotherstring';
$replacement = 'array($1, ' . "'label' => __('" . '$2' . "','$added_string'";
$final_string = preg_replace($pattern, $replacement, $original_string); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T07:27:23.210

对于有问题的给定输入和输出模式：`'label' => ('.*')`足以匹配字符串并执行替换。此模式匹配字符串中的以下部分：'label' =>*之间的任何字符`'`*。大括号中的部分模式将分组*之间的任何字符`'`*，以后可以使用`$1`. 例如：

```
$str = "array('val' => 'something', 'label' => 'some testing string_with\$specialchars\/'),";
$str = preg_replace('/\'label\' => (\'.*\')/', '\'label\' => __($1, \'some other string\')', $str);
echo $str;
//Outputs:
//   array('val' => 'something', 'label' => __('some testing string_with$specialchars\/', 'some other string')), 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T07:01:13.410

```
<?php
$strings = array('some word', 'some Word', 'SOMEword', 'SOmE_Word', 'sOmE_ WOrd');
$pattern = '/([a-z]+)([^a-z]*)([a-z]+)/i';
foreach($strings as $v){
 echo preg_replace($pattern, 'otherword', $v)."<br>";
}
?> 
```

输出：

```
otherword
otherword
otherword
otherword
otherword 
```

编辑：

```
$pattern = "/('label'\s=>\s')(([a-z]+)([^a-z]*)([a-z]+))('\),)/i";
$otherword = 'otherword';
$replacement = "'label' => __('$2','$otherword')),";
echo preg_replace($pattern, $replacement, "'label' => 'someword'),"); 
```

输出：

'标签' => __('someword','otherword')),

[演示](http://phpfiddle.org/main/code/4ip-20f)

# php - PHP SimpleXML 解析问题

> ID：14869227
> 
> 赞同：1
> 
> 时间：2013-02-14T06:46:21.870
> 
> 标签：php, xml, simplexml

我从正在使用的 api 返回以下内容。但是使用 SIMPLEXML 我无法访问这些值：

```
<?xml version="1.0" encoding="utf-16"?>
<Response Version="1.0">
   <DateTime>2/13/2013 10:37:24 PM</DateTime>
   <Contact_ID>151-233-DD</Contact_ID>
   <Quote_ID>ojc332-ewied-23e3ed</Quote_ID>
   <Status>Failure</Status>
   <Reason>Incorrect Contact ID</Reason>
</Response> 
```

我正在设置这个：

```
$variable = new SimpleXMLElement($results); 
```

SIMPLEXML 给了我以下内容，而不是我期望的 $variable->DateTime：

```
SimpleXMLElement Object ( [0] => 2/13/2013 10:37:24 PM 151-233-DD 0jc332-ewied-23e3ed Failure Incorrect Contract ID ) 
```

任何帮助深表感谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-14T06:58:03.210

似乎是编码类型的原因，`utf-16`而内容有`utf-8`.

所以你需要改变你的编码类型，

```
$string = '<?xml version="1.0" encoding="utf-16"?>
  <Response Version="1.0">
  <DateTime>2/13/2013 10:37:24 PM</DateTime>
  <Contact_ID>151-233-DD</Contact_ID>
  <Quote_ID>ojc332-ewied-23e3ed</Quote_ID>
  <Status>Failure</Status>
  <Reason>Incorrect Contact ID</Reason>
 </Response>'; 
$xml = simplexml_load_string(preg_replace('/(<\?xml[^?]+?)utf-16/i', '$1utf-8', $string)); 
```

[键盘演示](http://codepad.org/5i75PoAm)。

也可以使用`utf8_encode`,

```
$xml = simplexml_load_string(utf8_encode($string)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:04:30.380

您只构建了一个 XML 元素（提示类名）。您需要将整个字符串加载为 XML 文档。方法如下：

```
<?php

$result= <<<XML
<?xml version="1.0" encoding="utf-8"?>
<Response Version="1.0">
   <DateTime>2/13/2013 10:37:24 PM</DateTime>
   <Contact_ID>151-233-DD</Contact_ID>
   <Quote_ID>ojc332-ewied-23e3ed</Quote_ID>
   <Status>Failure</Status>
   <Reason>Incorrect Contact ID</Reason>
</Response>
XML;

$dom= new DOMDocument();
$dom->loadXML($result, LIBXML_NOBLANKS); 
```

然后可以使用 DOM 接口访问文档中的各个组件。

例如

```
$dates = dom->getElementsByTagName('DateTime'); 
```

`DateTime`这将获取一个包含所有元素的数组。

**编辑**

糟糕 -`$dates`将成为`DOMNodeList`.

然后，您可以使用各种方法访问节点并获取属性。

# java - 启动线程时程序崩溃

> ID：14869231
> 
> 赞同：0
> 
> 时间：2013-02-14T06:46:35.053
> 
> 标签：java, multithreading, user-interface

我正在尝试用 Java 编写一个 SlotMachine 小程序。代码第一次运行，但是当我第二次尝试点击开始按钮时，程序崩溃了。我知道这是线程中断和 Thread.start(); 的问题。我试图实现一个布尔值“isRunning”而不是中断，但这不起作用。如何停止线程然后重新开始？一些见解将非常有帮助。谢谢！

```
import java.awt.*;
import java.awt.event.*;
import java.util.Random;

@SuppressWarnings("serial")
public class SlotMachine extends Frame {
private TextField textWindow1, textWindow2, textWindow3, resultWindow;
private int count1 = 0, count2 = 0, count3 = 0, result1, result2, result3;
private Button toggleButton;
public static final int HEIGHT = 150;
public static final int WIDTH = 100;

box1Thread counter1Thread = new box1Thread();
box2Thread counter2Thread = new box2Thread();
box3Thread counter3Thread = new box3Thread();

public static void main(String[] args) {
    SlotMachine counterWindow = new SlotMachine();
    counterWindow.setVisible(true);

}// main

public SlotMachine() {
    setSize(WIDTH, HEIGHT);

    addWindowListener(new WindowDestroyer());
    setTitle("Slot Machine");
    setBackground(Color.orange);

    setLayout(new FlowLayout());

    textWindow1 = new TextField(1);
    add(textWindow1);
    textWindow1.setText("*");

    textWindow2 = new TextField(1);
    add(textWindow2);
    textWindow2.setText("*");

    textWindow3 = new TextField(1);
    add(textWindow3);
    textWindow3.setText("*");

    toggleButton = new Button("Start");
    toggleButton.addActionListener(new ToggleButtonListener());
    add(toggleButton);

    resultWindow = new TextField(10);
    add(resultWindow);
    resultWindow.setText("");       

}

private class box1Thread extends Thread {

    Random generator1 = new Random();

    public void run() {
        while (true) {
            try {
                Thread.sleep(50);
                result1 = ((count1++) % 4);
                textWindow1.setText(Integer.toString(result1));
            } catch (InterruptedException e) {
                // System.err.println("Interrupted.");
                int randomInt1 = generator1.nextInt(75);
                for (int i = 0; i < randomInt1; i++) {
                    try {
                        Thread.sleep(50);
                    } catch (InterruptedException e1) {
                        System.err.println("Interrupted.");
                    }
                    result1 = (count1++) % 4;
                    textWindow1.setText(Integer.toString(result1));
                }
                break;

            }
        }
    }
}

private class box2Thread extends Thread {

    Random generator2 = new Random();

    public void run() {
        while (true) {
            try {
                Thread.sleep(50);
                result2 = ((count2++) % 4);
                textWindow2.setText(Integer.toString(result2));
            } catch (InterruptedException e) {
                // System.err.println("Interrupted.");
                int randomInt2 = generator2.nextInt(75);
                for (int i = 0; i < randomInt2; i++) {
                    try {
                        Thread.sleep(50);
                    } catch (InterruptedException e1) {
                        System.err.println("Interrupted.");
                    }
                    result2 = (count2++) % 4;
                    textWindow2.setText(Integer.toString(result2));
                }
                break;
            }
        }
    }
}

private class box3Thread extends Thread {

    Random generator3 = new Random();

    public void run() {
        while (true) {
            try {
                Thread.sleep(50);
                result3 = ((count3++) % 4);
                textWindow3.setText(Integer.toString(result3));
            } catch (InterruptedException e) {
                // System.err.println("Interrupted.");
                int randomInt3 = generator3.nextInt(75);
                for (int i = 0; i < randomInt3; i++) {
                    try {
                        Thread.sleep(50);
                    } catch (InterruptedException e1) {
                        System.err.println("Interrupted.");
                    }
                    result3 = (count3++) % 4;
                    textWindow3.setText(Integer.toString(result3));
                }
                break;
            }
        }
    }
}

private class ToggleButtonListener implements ActionListener {

    public void actionPerformed(ActionEvent e) {
        if (e.getActionCommand().equals("Stop")) {

            counter1Thread.interrupt();
            counter2Thread.interrupt();
            counter3Thread.interrupt();
            toggleButton.setLabel("Wait");
            try {
                counter1Thread.join();
                counter2Thread.join();
                counter3Thread.join();
            } catch (InterruptedException e1) {
                System.err.println("Interrupted.");
            }
            if ((result1 == result2) && (result2 == result3)) {
                resultWindow.setText("You Win!");
            } else {
                resultWindow.setText("Sorry, You Lose!");
            }
            toggleButton.setLabel("Start");

        }

        else if (e.getActionCommand().equals("Start")) {

            counter1Thread.start();
            counter2Thread.start();
            counter3Thread.start();

            toggleButton.setLabel("Stop");
            resultWindow.setText("");

        }
    }
}

} 
```

这是我收到的错误：

```
Exception in thread "AWT-EventQueue-0" java.lang.IllegalThreadStateException
at java.lang.Thread.start(Unknown Source)
at SlotMachine$ToggleButtonListener.actionPerformed(SlotMachine.java:166)
at java.awt.Button.processActionEvent(Unknown Source)
at java.awt.Button.processEvent(Unknown Source)
at java.awt.Component.dispatchEventImpl(Unknown Source)
at java.awt.Component.dispatchEvent(Unknown Source)
at java.awt.EventQueue.dispatchEventImpl(Unknown Source)
at java.awt.EventQueue.access$200(Unknown Source)
at java.awt.EventQueue$3.run(Unknown Source)
at java.awt.EventQueue$3.run(Unknown Source)
at java.security.AccessController.doPrivileged(Native Method)
at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)
at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)
at java.awt.EventQueue$4.run(Unknown Source)
at java.awt.EventQueue$4.run(Unknown Source)
at java.security.AccessController.doPrivileged(Native Method)
at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)
at java.awt.EventQueue.dispatchEvent(Unknown Source)
at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)
at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)
at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)
at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
at java.awt.EventDispatchThread.run(Unknown Source) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T06:57:37.503

> 如何停止线程然后重新开始？

你不能。当一个线程终止时，它不能被重新启动。

您需要创建一个新线程并启动它......或者不要让前一个线程停止。有关更完整的答案，请参阅链接的问题...

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T07:04:01.637

在您执行的操作中执行以下操作。

```
else if (e.getActionCommand().equals("Start"))
  {
    counter1Thread = new box1Thread();
    counter2Thread = new box2Thread();
    counter3Thread = new box3Thread();
    counter1Thread.start();
    counter2Thread.start();
    counter3Thread.start();

    toggleButton.setLabel("Stop");
    resultWindow.setText("");

  } 
```

因为一旦线程停止，你就不能再统计了。因此，您要么不让线程停止，要么创建新线程。

在以前的代码中，我正在创建新线程。

# android - 如果按下列表项，请避免 Listview 内的 ImageView 悬停状态

> ID：14869236
> 
> 赞同：1
> 
> 时间：2013-02-14T06:46:49.623
> 
> 标签：android, android-listview

我在最左边的位置有一个`ImageView`内部。它具有所有状态（按下、选定、聚焦、正常）。如果我单击但不是在某些设备中，则调用悬停状态（选定、聚焦、按下）。所以我想知道如何避免这种情况。`listview``imageView``listView``ListView``ImageView``ImageView`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T18:30:22.827

以下是解决此问题的步骤。创建一个`NoParentPressImageView`使用以下代码调用的类：

```
public class NoParentPressImageView extends ImageView {

    public NoParentPressImageView(Context context) {
        this(context, null);
        this.setFocusable(false);
    }

    public NoParentPressImageView(Context context, AttributeSet attrs) {
        super(context, attrs);
        this.setFocusable(false);
    }

    @Override
    public void setPressed(boolean pressed) {
        // If the parent is pressed, do not set to pressed.
        if (pressed && ((View) getParent()).isPressed()) {
            return;
        }
        super.setPressed(pressed);
    }
} 
```

请注意，构造函数中的 与添加到布局文档`setFocusable(false)`中的效果相同。这允许行是可点击的。override 方法解决了您在此处提到的问题，即（父）中的按下事件波及（子）。`android:focusable="false"``xml``ListView``onPressed``ListView``ImageView`

一旦你定义了这个类，你可以`ImageView`在你的`xml`布局中用`com.MYCOMPANY.MYAPP.NoParentPressImageView`. 编译并运行，`ListView`现在应该按预期运行，`ImageView`按下事件仅在您实际单击图像时触发，而不是在您单击行中的其他位置时触发。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-14T07:19:28.423

尝试添加`android:focusable="false"`到`ImageView`您的布局文件中。

# python - MySQL查询接口错误

> ID：14869237
> 
> 赞同：0
> 
> 时间：2013-02-14T06:46:50.757
> 
> 标签：python, mysql, sql, database, mysql-connector

在 MySQL 5.5.23 服务器上执行 SQL 查询时出现以下错误。我正在使用从 MySql 站点下载的 MySQl 连接器

`mysql.connector.errors.InterfaceError: 2013: Lost connection to MySQL server during query`

相同的查询 id 在 Win 7 上工作，但在 Win XP 上不工作

任何人有任何想法...？

我将 MySql 连接器 1.0.5 与 Python 2.6 和 PyQt 一起使用。

有时它的工作，有时我得到这个错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:55:05.487

您建议您在一个环境中成功执行查询，而不是在另一个环境中？

还有，你用的是什么语言？你可以发布你的代码吗？我猜是java吗？仅使用错误消息而没有外围详细信息很难回答您的问题。

作为一种预感（以及一种狂野的预感） - 在与您的数据库相同的服务器上执行代码时，您是否成功连接到您的数据库？仅当您在与数据库服务器不同的服务器上执行代码时才会失败？如果是这样，请进入 my.cnf 并注释掉该行：

```
bind-address=..... 
```

然后重启mysql

只是一个狂野的刺，但请为您的问题添加更多详细信息

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T04:37:51.753

根据 MySQL Connector/Python 1.0.8 的发行说明，这是一个驱动程序错误。这在 Connector/Python 1.0.8 中得到解决。

```
Intermittent errors could occur on Windows systems: InterfaceError(errno=2013).
The cause was incorrect handling of sock.recv() library calls that returned less
data than was requested. (Bug #14829471, Bug #67303) 
```

但是1.0.8版本使用了一些windows函数进行网络IP地址转换，只有Windows Vista及以上版本才有，Win XP没有。

MySql Connector/Python 1.0.8 中的这个 bug 已在[此处](http://bugs.mysql.com/bug.php?id=68065)报告，并将在 1.0.9 中修复

# android - 安卓设置壁纸

> ID：14869239
> 
> 赞同：1
> 
> 时间：2013-02-14T06:47:10.897
> 
> 标签：android, wallpaper

我正在使用`WallpaperManager`将图像设置为墙纸。

问题是图像会自动放大和设置（即整个图像不会出现在屏幕上）。

我努力了

*   设置非常小的图像，
*   也尝试过缩小图像并设置它们，但它们都不起作用。

似乎图像已缩放和设置。

有没有办法解决这个问题？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:58:29.560

您可以使用[createScaledBitmap](http://developer.android.com/reference/android/graphics/Bitmap.html#createScaledBitmap%28android.graphics.Bitmap,%20int,%20int,%20boolean%29)来缩放图像。

# javascript - javascript中最简单的继承？

> ID：14869242
> 
> 赞同：2
> 
> 时间：2013-02-14T06:47:39.607
> 
> 标签：javascript, jquery

我正在尝试在 javascript 中使用 OOP。我正在尝试的是，

我有 2 节课说`classA`和`classB`。我在classB中继承classA。像 ：

```
 function classA(){
    this.propA = "somevalue of A";
 }

 function classB(){
    classB.prototype = new classA();              //inheriting
    classB.prototype.constructor = classB;        //updating constructor defination
    this.propB = "somevalue of B";
 } 
```

现在我创建了 classB 的对象：

```
var classBObject = new classB(); 
```

而不是尝试使用以下方法访问基类属性值：

```
alert(classBObject.propA);      //here i am expecting "somevalue of A" 
```

但警报显示我是空的。谁能告诉我我在这里做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T06:50:49.380

将 classB 的原型赋值移到构造函数之外：

```
function classA(){
    this.propA = "somevalue of A";
 }

 function classB(){
    // classB.prototype.constructor = classB;
    // ^ no need for this, constructor will be overwritten
    //   by classB.prototype = new classA
    this.propB = "somevalue of B";
 }

 classB.prototype = new classA; // assing prototype for classB here 
```

# java - 仅使用 logback 归档旧日志

> ID：14869251
> 
> 赞同：1
> 
> 时间：2013-02-14T06:48:09.273
> 
> 标签：java, logging, slf4j, logback

是否可以仅使用日志归档旧文件？

例如，我需要将日志存储为文本 14 天，然后归档？

当前使用的附加程序：

```
<appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
  <file>../log/mylog.log</file>
  <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
    <fileNamePattern>../log/mylog.%d{yyyy-MM-dd}.%i.log.gz</fileNamePattern>
    <timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
      <maxFileSize>50MB</maxFileSize>
    </timeBasedFileNamingAndTriggeringPolicy>
    <maxHistory>50</maxHistory>
  </rollingPolicy>

  <encoder>
    <pattern>%d{yyyy.MM.dd HH:mm:ss} %-5level %logger{36} - %msg%n</pattern>
  </encoder>

</appender> 
```

他在更改日志文件之后立即归档文件。

**slf4j-1.7.2 / logback-1.0.9**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T03:41:39.043

滚动日志文件是 logback 中归档日志文件的别名，因此滚动意味着归档。

> 我需要将日志存储为文本 14 天，然后存档

然后不要对滚动策略设置最大文件限制。但是，我认为没有必要将其作为文本。据我所知，logback 将日志归档为 .gz 格式。您可以使用一堆命令直接查看 .gz 格式的日志。比如zcat、zgrep，可以直接用less来看看gz-format的日志。

您可以编写一个简单的 shell 程序将 14 天的日志从目录移动到另一个地方（这才是真正的归档）。通过设置一个 cron 作业，该 shell 每天只需要运行一次。

# linux - 如何忽略git中任何文件夹中的目录

> ID：14869260
> 
> 赞同：0
> 
> 时间：2013-02-14T06:48:59.690
> 
> 标签：linux, git

我在 git 的根目录中有很多文件夹。

每个文件夹和子目录都会有文件夹调用`mytemp`和`.hg`

我如何忽略这两个目录中的所有文件和子文件夹。

我不能提及路径，因为它们将在许多文件夹中

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:55:07.173

使用以下两种模式在项目的根目录中添加一个 .gitignore 文件：

```
mytemp/
.hg/ 
```

# vb.net - 如何使用 vb.net 递增“0000”并循环到“9999”

> ID：14869262
> 
> 赞同：0
> 
> 时间：2013-02-14T06:49:01.330
> 
> 标签：vb.net

我是 vb.net 的新手并且已经搜索过它，但我无法为 vb.net 找到一些东西。

我想增加“0000”直到它达到“9999”然后循环直到我得到所需的输出。

我的计划是这样的：

```
if number = "0000" then 'result end if
if number = "0001" then 'result end if 
```

但是会需要很长时间。我知道有一种更好、更短的方法可以做到这一点。有人能帮我吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-14T06:50:16.563

只需将其保留为整数（从 0 开始），您可以将其递增 - 然后使用以下方法*格式化*该整数：

```
Dim text = counter.ToString("0000") 
```

为了使 9999 循环到 0000，您可以使用以下代码来增加计数器：

```
counter = (counter + 1) Mod 10000 
```

编辑：如果您*只想*计数而不从 9999 循环回 0000，则可以使用`For`循环。例如...

```
For counter = 0 To 9999
    Console.WriteLine(counter.ToString("0000"))
Next 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T07:02:29.733

对你`Enumerable.Range`有用吗？[http://msdn.microsoft.com/en-au/library/system.linq.enumerable.range.aspx?cs-save-lang=1&cs-lang=vb#code-snippet-1](http://msdn.microsoft.com/en-au/library/system.linq.enumerable.range.aspx?cs-save-lang=1&cs-lang=vb#code-snippet-1)

```
 ' Generate a sequence of integers from 1 to 9999  
    Dim numbers = Enumerable.Range(1, 9999)

    For Each num As Integer In numbers
        Console.WriteLine(num)
        ' or use this like Jon num.ToString("0000")
    Next 
```

我的意思是这可能不是那么方便，除非您想稍后在您编写的代码中查看数字列表。如果你没有一个简单的 for 循环就足够了。

您甚至可以生成所需格式的数字列表：

```
Dim numbers = Enumerable.Range(1, 9999).Select(Function(x) x= x.ToString("0000"))

For Each num As String In numbers
    If num = "0500" Then
       ' Do something
    End If
Next 
```

编辑：根据要求

```
Public Function IsValidNumber(Byval input As String) As Boolean ' Yes/No

  Dim numbers= Enumerable.Range(1, 9999).Select(Function(x) x= x.ToString("0000"))

  Return numbers.Contains(input)
  ' Which is the same as below
  'For Each num As String In numbers
  '    If num = input Then
  '      Return True
  '    End If
  'Next 

  'Return False

End Function

' Usage
Dim isCorrect1 = IsValidNumber("0567") ' Will return True or Yes
Dim isCorrect2 = IsValidNumber("10500") ' Will return False or No 
```

# c - 二元矩阵两点之间的最短路径

> ID：14869271
> 
> 赞同：0
> 
> 时间：2013-02-14T06:49:37.633
> 
> 标签：c, algorithm

我想找到二进制矩阵的两点之间的最短路径。

矩阵的来源和目的地由用户给出。我们只能选择矩阵中为 1 的位置，并且还可以沿对角线、左、右、上和下移动。

如果移动是对角线，则成本为根 2，否则为 1。所以我想要一个如何找到它的算法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T07:14:21.127

您正在寻找的是单源最短路径算法，这意味着您在图中选择一个源节点（例如）并找到所有或一个节点的最短路径。为此目的存在几种算法 -

*   [Dijkstra 算法](http://en.wikipedia.org/wiki/Dijkstra%27s_algorithm)

*   [贝尔曼福特算法](http://en.wikipedia.org/wiki/Bellman%E2%80%93Ford_algorithm)

*   [一种星搜索算法](http://en.wikipedia.org/wiki/A%2a_search_algorithm)

*   [Floyd Warshall 算法](http://en.wikipedia.org/wiki/Floyd%E2%80%93Warshall_algorithm)

*   [约翰逊算法](http://en.wikipedia.org/wiki/Johnson%27s_algorithm)

我的建议是您阅读这些内容并选择适合您目的的内容。

# image - 如何通过java中的TCP套接字发送图像

> ID：14869272
> 
> 赞同：-1
> 
> 时间：2013-02-14T06:49:39.403
> 
> 标签：image, sockets, tcp

朋友们！我想在我的电脑中获取远程电脑屏幕！我试过用UDP写，现在我想用TCP协议写，但是有一些问题！如果有人能告诉我什么是我将不胜感激的问题......这是我的代码：Server.java

```
public Server(int port){
    this.G_PORT = port;
}
void sendMessage() throws IOException, AWTException{
    servSocket = new ServerSocket(G_PORT);
    System.out.println("Waiting...");
    cSocket = servSocket.accept();
    System.out.println("Server has connected to " + cSocket.getRemoteSocketAddress() + " on " + cSocket.getPort() +" port");

        BufferedOutputStream buffOS = new BufferedOutputStream(cSocket.getOutputStream());
        Dimension d = Toolkit.getDefaultToolkit().getScreenSize();
        Rectangle r = new Rectangle(d);

        KeyStroke keyStr = KeyStroke.getKeyStroke("ESCAPE");

        FileInputStream fileIN = null;
        OutputStream out = null;

    //while(keyStr.getKeyCode() != 27){
        bot = new Robot();
        buffIMG = bot.createScreenCapture(r);
        ImageIO.write(buffIMG, "jpeg", new File("D:\\ScreenShots\\test.jpeg"));
        fileIN = new FileInputStream(new File("D:\\ScreenShots\\test.jpeg"));
        out = cSocket.getOutputStream();
        int read, readTotal = 0;
        byteToIMG = new byte[BUFF_SIZE];

        while((read =  fileIN.read())!= -1){
            out.write(byteToIMG,0,read);
            System.out.println("IMG sended");
        }
    //}
    out.close();
    fileIN.close();
    cSocket.close();        
} 
```

和 Client.java

```
void recievMessage(long starTime) throws UnknownHostException, IOException{
    cSocket = new Socket(InetAddress.getByName(G_HOST), G_PORT);
    System.out.println("Connected");
    JFrame frame = new JFrame("My frame");
    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    frame.setVisible(true);
    JLabel label = new JLabel();
    ImageIcon icon;

    InputStream in = cSocket.getInputStream();
    byteToIMG = new byte[BYTE_SIZE];
    int read;
    int readTotal = 0;
        while((read = in.read(byteToIMG)) != -1){
            readTotal += read;
            InputStream imgIN = new ByteArrayInputStream(byteToIMG);
            buffIMG = ImageIO.read(imgIN);
            icon = new ImageIcon();
            icon.setImage(buffIMG);
            label.setIcon(icon);
            frame.getContentPane().add(label, BorderLayout.CENTER);
            frame.pack();
            System.out.println("IMG recieved");
        }
} 
```

请帮忙解决这个问题！如果您有其他解决方案建议！谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T01:14:37.960

您假设套接字上的每次读取都会提供一个完整的图像。你不能这样假设。它可能只提供一个字节。

幸运的是，它比这简单得多：

```
buffImg = Imageio.read(in); 
```

在发件人处也简单得多。您不需要该文件。打电话

```
ImageIO.write(buffImg, "jpeg", out); 
```

# mysql - 返回计数和结果集

> ID：14869273
> 
> 赞同：0
> 
> 时间：2013-02-14T06:49:41.853
> 
> 标签：mysql, sql, sql-server, sql-server-2008, oracle11g

我想要一列的唯一计数以及结果集。例如，如果结果集是这样的

```
 ID      Name
               2       A
               2       B
               4       C
               5       D
               1       A
               1       B 
```

我想从数据库返回：

```
 Count  ID   Name
              4      2    A
              4      2    B
              4      4    C
              4      5    D
              4      1    A
              4      1    B 
```

您可以清楚地看到 4 是 ID 列的唯一计数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T06:51:14.603

对于 MySQL 和 SQL Server，您可以在相关子查询中执行此操作，如下所示：

```
SELECT
  (SELECT COUNT(DISTINCT Name)
   FROM tablename) AS 'Count',
  ID,
  Name
FROM tablename; 
```

[MySQL 小提琴演示](http://www.sqlfiddle.com/#!2/a499e/3)。

[SQL Server 小提琴演示](http://www.sqlfiddle.com/#!3/7c961/1)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T06:51:19.440

这将适用于几乎所有 RDBMS。

```
SELECT  b.totalCount, a.ID, a.name 
FROM    tableName a 
        CROSS JOIN 
        (SELECT COUNT(DISTINCT Name) totalCount 
         FROM tableName) b 
```

*   [SQLFiddle 演示](http://sqlfiddle.com/#!2/a499e/4)

# linq-to-sql - 将 Join SQL 转换为 LINQ-to-SQL 方法语法

> ID：14869275
> 
> 赞同：0
> 
> 时间：2013-02-14T06:49:47.417
> 
> 标签：linq-to-sql

我有一个 MVC 4 Web API 的存储库，可以使用 Linq 到 SQL 方法语法从数据库中检索数据。到目前为止，我对 a 实用程序的代码（不多）：

```
public IQueryable<Vehicle> Vehicles(int driverId_Vehicles)
{
    ...?...
} 
```

我整理了一个 SQL 查询，可以从数据库中获取数据：

```
SELECT VEHICLE.*
FROM Vehicle
INNER JOIN DriverHabit
ON VEHICLE.Id=DriverHabit.VehicleId
WHERE DriverHabit.Id = driverId 
```

我需要帮助将此查询转换为 LINQ 方法语法以返回 IQueryable。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T09:31:35.530

看起来关联`Vehicle`-`DriverHabit`是 1:n。`DriverHabits`你的班级应该有一个导航属性`Vehicle`，所以你不必加入。只需访问导航属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T06:58:08.383

SELECT VEHICLE.* FROM Vehicle INNER JOIN DriverHabit ON VEHICLE.Id=DriverHabit.VehicleId WHERE DriverHabit.Id = driverId

```
var vehicle = from v in _context.vehicle              
          join dh in _context.driverhabit on v.Id equals dh.VehicleId
          where dh.Id = driverId
          select { v, dh }

return vehicle.ToList(); 
```

# jsf-2 - JSF2 preRenderView 未触发

> ID：14869276
> 
> 赞同：0
> 
> 时间：2013-02-14T06:49:50.493
> 
> 标签：jsf-2

当我尝试执行以下场景时，未触发 preRenderView 事件有人可以建议我如何实现这一点吗？

试图从页面 A 导航到页面 B。（preRenderView 事件被触发而没有问题）页面 B 没有任何命令按钮，并且在预处理本身中使用 ConfigurableNavigationHandler 试图导航到页面 C。我面临的问题
是否正在调用页面 C，但未触发 preRenderEvent。

以下是第 2 页的代码片段。

```
<h:form>
    <f:metadata>
        <f:event type="preRenderView" listener="#{pageBeanB.preProcess}" />
    </f:metadata>
</h:form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T08:33:10.793

尝试删除`<f:metadata></f:metadata>`，这不是该标签的地方。阅读[该标签的文档](http://docs.oracle.com/javaee/6/javaserverfaces/2.1/docs/vdldocs/facelets/f/metadata.html)。

> 这必须是 . 此标记必须位于给定 viewId 的顶级 XHTML 文件中，或者位于模板客户端中，但不能位于模板中。

`f:event`可以在外面使用`f:metadata`，所以尽量只`f:event`在这里使用。

# javascript - 关闭多级 jquery 下拉菜单

> ID：14869277
> 
> 赞同：1
> 
> 时间：2013-02-14T06:49:52.347
> 
> 标签：javascript, jquery, html, css

我有一个下拉菜单，可以在点击时展开而不是悬停。问题是当我打开子菜单时，当我将鼠标从当前子菜单移动到它的父菜单时，我无法关闭它们。一旦我离开它的任何子菜单并将鼠标悬停在页面主体上，它应该一直隐藏上一个菜单直到导航栏（顶部）并隐藏所有菜单。

小提琴：http: [//jsfiddle.net/WjE9y/11/](http://jsfiddle.net/WjE9y/11/)

HTML：

```
<!-- <LINK REL="SHORTCUT ICON" HREF="favicon.ico"> -->
<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="includes/menu.js"></script></script>
    <link type="text/css" href="includes/menu.css" rel="stylesheet" />
</head>
<body>
    <div style="z-index:100;width:100%;position:fixed;top:0;left: 0;min-width:1000px;">
        <div id="menuJQ">
            <ul class="menuJQ">
                <li class="parent"><a href="#"><span>Home</span></a></li>
                <li><a class="parent" href="#"><span>Product View</span></a> 
                    <div>
                        <ul>
                            <li><a href="#"><span>DevTask Search</span></a></li>
                            <li><a href="#"><span>Active Machines</span></a></li>
                        </ul>
                    </div>
                </li>
                <li class="parent"><a href="#"><span>Request Tool</span></a></li>
                <li><a href="#" class="parent"><span>Search</span></a>
                    <div>
                        <ul>
                            <li><a href="#"><span>DevTask Search</span></a></li>
                            <li><a href="#"><span>Active Machines</span></a></li>
                            <li><a href="#"><span>Integrity Query</span></a></li>
                            <li><a href="#"><span>Internal DevTasks</span></a></li>
                            <li><a href="#" class="parent"><span>Results</span></a>
                                <div>
                                    <ul>
                                        <li><a href="#" target='_blank'><span>Latest Smoke Results</span></a></li>
                                        <li><a href="#" target='_blank'><span>Latest Smoke Results</span></a>
                                            <div>
                                                <ul>
                                                    <li><a href="#"><span>DevTask Search</span></a></li>
                                                    <li><a href="#"><span>Active Machines</span></a></li>
                                                    <li><a href="#"><span>Integrity Query</span></a></li>
                                                </ul>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </li>
                            <li><a href="#"><span>Issues for Stability Team</span></a></li>
                        </ul>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</body>
</html> 
```

JS：

```
$(document).ready(function(){
    $(function() {
            $('#menuJQ > ul li').click(function(e) {
                e.preventDefault();
                $('ul:first', this).show();
            });
        });

    var submenu_active = false;
     $('#menuJQ ul').mouseenter(function() {
        submenu_active = true;      
     });

    $('#menuJQ ul').mouseleave(function() {
        submenu_active = false;
        setTimeout(function() { 
            if (submenu_active === false) $('ul', this).hide("fast");});
    });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T08:46:48.113

我会给`div`包含任何子菜单的 s 一个类，例如`submenu`：

```
 ...
 <li><a href="#" class="parent"><span>Search</span></a>
     <div id="submenu">
        <ul>
           ... 
```

然后你可以做这样的事情：

```
$(document).ready(function(){
    $(function() {
            $('#menuJQ > ul li').click(function(e) {
                e.preventDefault();
                $('ul:first', this).show();
            });
        });

    $('.submenu').mouseleave(function() {
        $('ul', this).hide("fast");
    });
}); 
```

[在这里拉小提琴](http://jsfiddle.net/mccannf/J7xXG/1/)。

# xml - 是否有来自 DTD（不是 XSD）的 xml 生成器？

> ID：14869281
> 
> 赞同：1
> 
> 时间：2013-02-14T06:49:57.213
> 
> 标签：xml, generator, dtd

我的实验需要一些 XML 文档。
我有 DTD 文件。我使用谷歌搜索生成器。
XSD 有许多 XML 生成器。但我无法从 DTD 中找到 XML 生成器。
是否有来自 DTD 的 XML 生成器？我需要这个生成器可以设置参数，比如文件大小。感谢您的回答

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:21:35.310

我不知道它是否能完全满足您的需求，但是使用[oXygen XML Editor](http://oxygenxml.com/)，您可以先将 DTD 文件转换为 XSD 模式文件（**工具**>**生成/转换模式**），然后从该 XSD 生成示例 XML 文件架构文件（**工具**>**生成示例 XML 文件...**）。

据我所知，它不允许您直接控制文件大小，但您可以设置其他直接影响文件大小的选项（例如重复次数、最大递归级别等）。

# spring - Spring Batch 的 PropertyPlaceHolderConfigurer

> ID：14869283
> 
> 赞同：0
> 
> 时间：2013-02-14T06:50:02.647
> 
> 标签：spring, spring-batch

我有一个 Spring Batch 项目，我将它捆绑为 jar 包。我有一些属性文件，我想将其外部化到我的 jar 包之外。

为此，我正在使用环境变量来解析属性占位符的位置属性中给出的路径。正如我在日志中看到的那样，它已成功解决

**从 xyz 位置加载属性**

但是当谈到解析我在 bean 定义中指定的占位符时，它无法解析它并且应用程序在那里失败。

如果正确加载属性文件，怎么会发生这种情况。我听说如果我们的应用程序中存在两个 PropertyPlaceHolderConfigurer，就会发生这种情况，但我不明白这一点。

谁能给我一些见解，为什么会这样？

# java - android 显示来自非 UI 或非活动类的警报对话框

> ID：14869284
> 
> 赞同：2
> 
> 时间：2013-02-14T06:50:06.903
> 
> 标签：java, android, android-dialog

嗨Android程序员，

这个问题以前被问过。但是没有答案。所以我需要解决方案。实际上我正在尝试显示来自（非活动）`Mainactivity.java`呼叫的警报框。`test.java`

***如果他们没有 UI 编码，那就可以正常工作。如果该代码依赖于 UI 意味着它的抛出错误。***

活动课：

```
public class Mainactivity extends Activity
{
    public void message()
    {
        Log.i("Success : Call from non-UI & non activity class");//Upto this line working if i called message() function from other non-activity class
        DialogInterface.OnClickListener dialogClickListener = new DialogInterface.OnClickListener()
        {
        public void onClick(DialogInterface dialog, int which)
        {
             switch (which)
             {
                //Code
            }
         }
     };
     AlertDialog.Builder builder = new AlertDialog.Builder(this);
     builder.setTitle("FMS Status Message :- ");
     builder.setMessage(msg)
     .setPositiveButton("OK",dialogClickListener).show();

    }
} 
```

非活动类：

```
public class test extends BroadcastReceiver
{
    Mainactvity in = new Mainactvity();   

    @Override   
    public void onReceive(Context context, Intent intent)
    {
       in.message();
    }
} 
```

如果解决了，那么我的项目的主要目标将完成。请你们中的任何人帮助我。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T06:52:39.907

首先，Android 的不良编程习惯，

```
Mainactvity in = new Mainactvity(); 
```

您不能创建 Activity 类的构造函数。

其次，您试图在没有引用 Activity 的 Dialog 中显示 UI 元素`BroadcastReceiver`。使用Activity 的**上下文**（如果它与 UI 有关）或 Application 在 BroadcastReceiver 中显示对话框。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-15T12:25:14.303

创建一个`Constructor`，您可以在其中获取 Activity。像这样 -

```
Activity activity;
public test (Activity activity){
         this.activity = activity;
} 
```

现在，用这个`activity`作为论据——

`AlertDialog.Builder adb=new AlertDialog.Builder(activity);`

因为对话框不能仅使用`context`. 你需要为此提供一个`Activity`。

[我在这里](https://stackoverflow.com/a/26382502/609782)回答了一个

# sql - SQL 语句不起作用 - “操作数类型冲突：float 与日期不兼容”

> ID：14869293
> 
> 赞同：1
> 
> 时间：2013-02-14T06:50:41.850
> 
> 标签：sql, stored-procedures

我是这个领域的新手，我在执行这个过程时遇到问题，它给了我这个错误：“操作数类型冲突：浮点数与日期不兼容”

```
create proc store.checks_pro

(
@book_id int ,
@check_no int,
@check_date date ,
@check_status tinyint ,
@check_amount float,
@check_funder_name varchar (30),
@check_cash_type tinyint,
@check_cash_checkno varchar (20),
@check_notes varchar(100),
@check_userid int ,
@insertion_userid int ,
@insertiondate datetime 
)
as
begin
insert into  checks (book_id,check_amount,check_cash_checkno,check_cash_type,check_date,check_funder_name,check_no,check_notes,check_status,check_userid,insertion_userid,insertiondate)
values (@book_id,@check_no,@check_date,@check_status,@check_amount,@check_funder_name,@check_cash_type,@check_cash_checkno,@check_notes,@check_userid,@insertion_userid,@insertiondate)

end 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T07:18:17.243

检查你的`INSERT`陈述。您正在插入`@check_date`列`check_cash_checkno`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T07:17:29.850

有了修改后的错误，你的问题就很明显了。这些值与您的列不匹配。您正在插入`@check_date`该列`check_cash_checkno`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-14T07:18:56.757

仅按列和变量名称，您提供参数的顺序似乎存在相当大的不匹配：

```
insert into  checks (
book_id,check_amount,check_cash_checkno,check_cash_type,check_date,check_funder_name,
check_no,check_notes,check_status,check_userid,insertion_userid,insertiondate)
values (
@book_id,@check_no,@check_date,@check_status,@check_amount,@check_funder_name,
@check_cash_type,@check_cash_checkno,@check_notes,@check_userid,@insertion_userid,@insertiondate) 
```

例如`@check_date`与`check_cash_checkno`列`@check_notes`对齐，与 对齐`check_status`等。

我猜它应该重写为：

```
insert into  checks (
book_id,check_amount,check_cash_checkno,check_cash_type,check_date,check_funder_name,
check_no,check_notes,check_status,check_userid,insertion_userid,insertiondate)
values (
@book_id,@check_amount,@check_cash_checkno,@check_cash_type,@check_date,@check_funder_name,
@check_no,@check_notes,@check_status,@check_userid,@insertion_userid,@insertiondate) 
```

这是 SQL 未能实现我们应该按名称而不是按序号位置引用列（属性）的关系理想的那些不幸的地方之一 - 您必须以`VALUES`匹配的顺序在子句中提供参数或值您为`INSERT`语句的列给出的顺序。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-14T07:18:21.907

按照顺序插入值。

```
 insert into  checks
    (
    book_id,
    check_amount,
    check_cash_checkno,
    check_cash_type,
    check_date,
    check_funder_name,
    check_no,
    check_notes,
    check_status,
    check_userid,
    insertion_userid,
    insertiondate
    )
    values
    (
    @book_id,
    @check_amount,
    @check_cash_checkno,
    @check_cash_type,
    @check_date,
    @check_funder_name,
    @check_no,
    @check_notes,
    @check_status,
    @check_userid,
    @insertion_userid,
    @insertiondate
    ) 
```

重现您的错误的简单示例：

```
create table test
(
sdate date,
roll nvarchar(50)
)
insert into test(sdate,roll) values(1,'2008-2-2') --false

insert into test(sdate,roll) values('2008-2-2',1) --true 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-14T07:23:20.417

```
INSERT INTO 
checks (book_id,check_amount,check_cash_checkno,check_cash_type,check_date,check_funder_name,check_no,check_notes,check_status,check_userid,insertion_userid,insertiondate)
VALUES    
(@book_id,@check_amount,@check_cash_checkno,@check_cash_type,@check_date,@check_funder_name,@check_no,@check_notes,@check_status,@check_userid,@insertion_userid,@insertiondate) 
```

许多插入的值与选定的列顺序不匹配。

# ruby - Object.extend 方法

> ID：14869300
> 
> 赞同：0
> 
> 时间：2013-02-14T06:51:10.463
> 
> 标签：ruby, module, extend

我正在阅读*ruby​​ 编程语言*。在本书的第 251 页，有以下代码：

```
countdown = Object.new # A plain old object
def countdown.each # The each iterator as a singleton method
    yield 3
    yield 2
    yield 1
end
countdown.extend(Enumerable) # Now the object has all Enumerable methods
print countdown.sort # Prints "[1, 2, 3]" 
```

我不明白。数字 ( `1`, `2`, `3`) 是从哪里来的？`yield`方法接收它们。但那些不是成员变量，是吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:06:16.103

1.  实际上，如果您查看[Object#extend](http://ruby-doc.org/core-1.9.3/Object.html#method-i-extend "对象#扩展")的定义，您会看到它*“将每个模块的**实例**方法作为参数**添加**到 obj 中***” 。在内部，它调用`Module.extend_object`模块的实例方法并将其添加到 Ruby 对象的单例类中。**

***   Yield 方法不接收，它... yield :-) 为了使 Enumerable 工作，`each`方法应该产生对象的连续元素 - 这正是它所做的。如果您要像这样将块传递给此方法：

    countdown.each { |x| 放 x }

    您会看到 3 2 1 作为输出。排序仅用于`each`获取条目的完整列表，然后对它们进行排序。** 

 *** * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:08:44.327

不，它们不是成员/实例变量。如果我理解您的要求，`Enumerable`是一个模块，它定义了许多方便的收集方法，例如`sort`. 您将它添加到一个类中，它会带来所有这些方法。它唯一需要*您*做的就是定义一个名为`each`. 它应该接受一个块，然后将集合的每个成员“屈服”回该块。`sort`（或其他）将调用`each`然后对返回的成员执行某些操作。

在这种情况下，对象是荒谬的，成员被硬编码到`each`方法中。你可以说这是一种混淆的形式：

```
`print [3, 2, 1].sort` 
```**

# vb.net - 重复控件组 - 示例代码？

> ID：14869301
> 
> 赞同：1
> 
> 时间：2013-02-14T06:51:11.510
> 
> 标签：vb.net, winforms, user-interface

我想在具有以下行为的 VB .NET（使用 VS 2012）中创建一个 Windows 窗体：

1.  它是用于数据输入的独立桌面应用程序
2.  所有数据都存储在本地 CSV 文件中 - 没有数据库，也没有编辑以前的数据
3.  该表单允许用户在字段行中输入数据 - 文本框、组合框、日期
4.  每行是一组数据，对应CSV文件中的一行数据
5.  用户可以通过单击 [+] 或 [-] 按钮添加或删除行 - 每行一对

我可以轻松构建满足 1 - 4 的应用程序。今天，我可以构建我的应用程序，一次只输入和保存一行。

我现在要做的是将应用程序增强到上面的第 5 位：

*   将字段组合在一起（在面板中？） - 我不喜欢为此使用 DataGrid；使用一组重复的简单控件看起来更好
*   添加一组字段（到面板列表？）
*   删除特定行（字段组）

当用户单击[保存]时，我将收集表单上收集的所有数据并将其保存到 CSV 文件中，每组字段一个文件行。

有没有人有一些示例代码来展示如何做这样的事情？

有人可以建议对字段进行分组以便重复它们的最佳方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T09:01:42.520

将每一行控件分组在 a 中`Panel`，因此您可以在需要时轻松将它们全部删除，并且我建议您`Panel`使用滚动条将另一行中的所有行分组，因此当行数超过高度时不会创建超出边界形式。

对于控件的创建和删除，您必须动态地进行，添加所有需要的属性和处理程序（事件）`AddHandler`。您只需要知道新行的位置，只需获取最后`Panel`添加的并添加与顶部的距离即可。

删除一行时，只需删除`Panel`并减少后面面板其余部分的顶部（例如，假设您的表单上只有面板（行））：

```
Form1.Controls.RemoveAt(iPos)

For i As Integer = iPos To Panel1.Controls.Count - 1
    Form1.Controls(i).Top -= iDistBetween
Next 
```

我希望这可以指导你。

# prolog - 起止号码

> ID：14869306
> 
> 赞同：1
> 
> 时间：2013-02-14T06:51:19.877
> 
> 标签：prolog

如何在 Prolog 中找到从起始编号到结束编号​​的序列。我的功能应该看起来

```
findSequence(-4,-6,Z)---> Z=-4;Z=-5;Z=-6 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T17:49:00.167

这是一个简单的程序

```
findSequence(N, N, N) :- !.
findSequence(S, E, N) :-
    S < E, (N = S ; T is S + 1, findSequence(T, E, N)).
findSequence(S, E, N) :-
    S > E, (N = S ; T is S - 1, findSequence(T, E, N)). 
```

对于任何实际用途，您应该检查/3[之间](http://www.swi-prolog.org/pldoc/doc_for?object=between/3)是否可以工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T08:08:02.763

考虑使用递归谓词，您可以在其中累积（在列表中）从起始值 (-4) 到结束值 (-6) 的值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T13:59:38.237

这应该有效。这考虑了From<=To。如果要检查是否可以编写更复杂的代码

```
findSequence(X,X,[X]):-!.
findSequence(From,To,[From|Rest]):-SuccFrom is From +1, findSequence(SuccFrom ,To, Rest). 
```

这将返回一个列表，即：

```
?-findSequence(1,3,List).
List=[1,2,3].
yes 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-14T17:29:42.870

这是一个有趣的案例，你问的问题并不是特别难，但你设法以一种迂回的方式问它，以至于我们花了很多时间试图弄清楚你想要什么。你根本不想要一个序列（即一个列表），你想要连续的答案。并且您希望它与所有整数一起工作，而不仅仅是自然数 - 这在您的示例中是隐含的，但没有说明。此外，您的示例不适用于简单的解决方案，因为 -4 大于 -6，这与通常编写此谓词的方式相反。

为了处理所有这些，我有信心的最简单的事情需要图书馆`clpfd`：

```
:- use_module(library(clpfd)). 
```

我们需要一些辅助谓词：

```
min(X, Y, Z) :- X < Y -> Z = X ; Z = Y.
max(X, Y, Z) :- X < Y -> Z = Y ; Z = X. 
```

这些只是找到最小值和最大值；我通常会用两行来写它们，但这更方便。现在解决方案：

```
findSequence(X, Y, Z) :- 
  min(X, Y, Low),
  max(X, Y, High),
  Z in Low..High,
  label([Z]). 
```

这会照顾您的用例和明显的用例。

# jquery - JQuery-Ajax 脚本在第二次点击时无法在 ie 中运行，但在第二次点击时在 FF 和 Chrome 中运行

> ID：14869308
> 
> 赞同：1
> 
> 时间：2013-02-14T06:51:26.547
> 
> 标签：jquery, ajax, internet-explorer, get

我还有另一个奇怪的小 jquery-ajax 问题。下面的脚本在 FF 和 chrome 中多次单击时完美运行，但仅在 ie 中第一次单击时有效。我在萤火虫中看过它，没有问题。我有类似的 jq 脚本可以无限重复，但不知道为什么这个不会。

现在我想到了其他脚本是 POST 请求，仅供参考。有任何想法吗？

jQuery-AJAX 脚本如下：

```
$('.activity').on('click', '.tip', function(e){
    e.preventDefault();
    var tip = $(this);
    var class_tips = tip.parent();
    var actID = class_tips.find('.value').val();
    $.ajax({
        type: "GET",
        data: "captip=" + actID,
        url: "includes/tips.php",
        success: function(msg){
            class_tips.find('.tips_right').html(msg);
        }
    });
    return false;
}) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:01:48.793

我认为如果你成功返回 true 它应该重置`e.preventDefault();`

```
$('.activity').on('click', '.tip', function(e){
    e.preventDefault();
    var tip = $(this);
    var class_tips = tip.parent();
    var actID = class_tips.find('.value').val();
    $.ajax({
        type: "GET",
        data: "captip=" + actID,
        url: "includes/tips.php",
        success: function(msg){
            class_tips.find('.tips_right').html(msg);
            return true;
        }
    });
    return false;
}) 
```

# windows - 在 Windows 上启动/停止和重新启动 Jenkins 服务

> ID：14869311
> 
> 赞同：115
> 
> 时间：2013-02-14T06:51:39.050
> 
> 标签：windows, command-line, console, jenkins, command-prompt

[我已经从http://jenkins-ci.org/content/thank-you-downloading-windows-installer](http://jenkins-ci.org/content/thank-you-downloading-windows-installer)下载了“jenkins-1.501.zip” 。

我已经提取了 zip 文件并成功在 Windows 7 上安装了 Jenkins。詹金斯跑得`http://localhost:8080/`很好。我想从控制台停止 Jenkins 服务。我怎样才能做到这一点？通过控制台/命令行启动和重启的方法是什么？

* * *

## 回答 #1

> 赞同：223
> 
> 时间：2013-02-14T06:58:23.613

打开控制台/命令行 --> 转到您的 Jenkins 安装目录。分别执行以下命令：

**停止：**
`jenkins.exe stop`

**开始：**
`jenkins.exe start`

**重启：**
`jenkins.exe restart`

* * *

## 回答 #2

> 赞同：51
> 
> 时间：2017-01-31T20:35:40.623

**停止 Jenkins** 请避免关闭 Java 进程或 Windows 服务。这些不是通常的命令。仅当您的 Jenkins 引起问题时才使用它们。

使用 Jenkins 的方式来阻止数据丢失。

```
http://[jenkins-server]/[command] 
```

其中 [command] 可以是以下任何一项

*   出口
*   重新开始
*   重新加载

示例：如果我的本地 PC 在端口 8080 上运行 Jenkins，它将是

```
http://localhost:8080/exit 
```

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2018-03-22T09:50:16.717

所以默认情况下你可以打开CMD并写

```
java -jar jenkins.war 
```

但是如果你的 8080 端口已经在使用中，那么你必须更改 Jenkins 端口号，因此在 Program File 中打开 Jenkins 文件夹并打开 Jenkins.XML 文件并更改端口号，例如**8088**

现在打开 CMD 并写入

```
java -jar jenkins.war --httpPort=8088 
```

* * *

## 回答 #4

> 赞同：12
> 
> 时间：2017-01-04T06:49:58.733

**从命令行启动 Jenkins**

1.  打开命令提示符
2.  转到放置您的war文件的目录并运行以下命令：

    java -jar jenkins.war

**停止**

Ctrl + C

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2018-07-19T06:00:44.097

```
 jenkins.exe stop
       jenkins.exe start
       jenkins.exe restart 
```

仅当您以管理员权限运行 CMD 时，这些命令才能从 cmd 运行

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2020-07-21T07:57:12.113

**通过命令行启动 Jenkins**

1.  使用管理员运行 CMD

2.  您可以运行以下命令

    "net start servicename" 启动

    "net restart servicename" 重启

    "net stop servicename" 停止服务

更多参考 [https://www.windows-commandline.com/start-stop-service-command-line/](https://www.windows-commandline.com/start-stop-service-command-line/)

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2019-12-27T12:12:30.053

日常工作的小提示。

创建一个 bat 文件，为其命名并用于精确运行/停止/重启 Jenkins 服务

```
#!/bin/bash
# go to Jenkins folder
cd C:\Program Files (x86)\Jenkins

#to stop:
jenkins.exe stop

#to start:
#jenkins.exe start

#to restart:
#jenkins.exe restart 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2020-05-17T04:08:20.417

> 步骤01：需要为环境变量添加jenkins，然后可以使用jenkins命令
> 
> `"C:\Program Files (x86)\Jenkins"`步骤 02：使用管理员提示符转到
> 
> 步骤 03：选择您的选项：`jenkins.exe stop / jenkins.exe start / jenkins.exe restart`

# c# - 让派生类实现属性的最佳实践？

> ID：14869313
> 
> 赞同：0
> 
> 时间：2013-02-14T06:51:51.420
> 
> 标签：c#, inheritance, abstract-class

给定一个简单的类层次结构，其中每个类都派生自一个抽象基类。每个派生类都需要以某种方式提供基类将在某些基方法中使用的枚举“值”。
例如

基类：

```
public abstract class AbstractFoo
{
  bool SaveFoo()
  {
    switch (BarType){...}
  }

} 
```

和派生类

```
public class BananaFoo:AbstractFoo
{
  //barttype = fruit;
}

public class WhaleFoo:AbstractFoo
{
  //barttype = mammal;
} 
```

有很多方法可以确保从 AbstractFoo 派生的所有类都实现属性“枚举 BarType”

```
public abstract BarType BarType{get;} 
```

然后，在每个派生类中，我可以实现 BarType 以返回正确的类型，或者添加一个抽象方法来执行非常相似的操作。

```
public BarType BarType{get{return _bartype;}} 
```

或者添加一个具体的方法来返回一个字段 - 然后我需要记住添加该字段，但是打字要少得多（C＆P）？

推荐的方法是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-14T07:24:49.747

另一种选择是强制派生类将 Foo 的值传递给基类：

```
public abstract class A {
  private readonly BarType _foo;

  protected A(BarType foo) {
    _foo = foo;
  }

  // Does Foo need to be public or is it only used internally by A?
  public BarType Foo { get { return _foo; } }
}

public class B : A {

  public B() : base(BarType.Value1) {
  }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T06:57:47.323

我无法评论执行此操作的正确方法是什么，但我一直在基类型上使用抽象属性（强制实现），然后从子类型属性返回一个常量。

例如：

```
public BarType BarType{get{return BarType.WhaleFoo ;}} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-14T06:58:57.493

假设您只为每个子类返回一个枚举值，我知道的最好方法是在基类中实现一个抽象属性，然后在每个子类中实现它。

```
public abstract class A {
    public BarType Foo;

    public enum BarType {
        Value1,
        Value2
    }
}

public class B : A {
    public BarType Foo { get { return BarType.Value1; } }
} 
```

# android - 输出 jar 是空的。您是否指定了正确的“-keep”选项？

> ID：14869315
> 
> 赞同：6
> 
> 时间：2013-02-14T06:51:57.817
> 
> 标签：android, android-build

我正在尝试从 ant 构建一个发布 APK 文件，这就是我在控制台中得到的

```
D:\AndroidSDK\android-sdk_r18-windows\android-sdk-windows\tools\ant\build.xml:595: The following error occurred while executing this line:D:\AndroidSDK\android-sdk_r18windows\android-sdk-windows\tools\ant\build.xml:864: The output jar is empty. Did you specify the proper '-keep' options? 
```

这是什么错误，我该如何解决它..M 使用最新的 SDK（API-17）和修订版 21.1 所有 java_home，Ant_home 都已设置

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-06-12T09:52:21.630

对于库项目，我需要向`-dontshrink`proguard 配置文件添加选项 - proguard 正在缩小我所有的类。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-11-02T12:06:23.960

使用 gradle 构建系统时，无需修改`proguard-rules.pro`.

就在指定的`buildType`定义内`minifyEnabled false`。例子：

```
buildTypes {
    release {
        minifyEnabled false
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T11:35:27.700

Ohkk 我自己得到了答案..我用作库的 jar 项目的清单文件中存在问题..创建了 lib 项目，对其进行了更新并将其引用到我的主要代码中。就像在这个链接中一样。 .它工作:-) [在这里](http://developer.android.com/tools/projects/projects-cmdline.html)

# arm - QEMU 中的 ARM 中断处理

> ID：14869317
> 
> 赞同：5
> 
> 时间：2013-02-14T06:51:59.103
> 
> 标签：arm, qemu, interrupt-handling

我试图了解 QEMU 如何处理 ARM 处理器的中断。我有一个为 ARM1176 构建的裸机二进制 blob（即，不是 linux——只是一些汇编代码）。在 QEMU 中运行时，在初始化期间二进制 blob 中的代码设置 CPSR 的第 13 位，指示中断向量表位于`0xFFFF0000`. 连接 GDB 并将指令转储到该地址，我确实可以看到相应的中断向量表。在 IRQ 上，它跳转到`0xFFFF0018`，它只是跳转到`0xFFFF00070`，它包含第一个 irq_handler 的代码，并最终跳转到第二个 irq_handler。

这很好，但是当我查看在 QEMU 中连接中断时，我发现的每个引用都在连接我自己的 irq_handler。如果你分配一个 irq，我需要提供一个`qemu_irq_handler`在 IRQ 被触发时被调用的。但在这种情况下，我不希望我自己的处理程序被调用。例如，我假设 QEMU 会模拟 ARM 处理器并跳转到`0xFFFF0018`当我调用`qemu_set_irq()`并开始在那里运行代码时。

我确定我的理解有些欠缺，但是有没有办法让 QEMU 在触发中断时跳转到中断向量表并在那里运行代码，例如，使用`qemu_set_irq()`?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T15:47:27.613

我认为 QEMU 正在为 ARM使用[准虚拟化。](http://en.wikipedia.org/wiki/Paravirtualization)PC 上的 ARM 设备没有**中断控制器**。我认为这`qemu_irq_handler`是一种处理中断的**半虚拟化技术。****中断**将来自哪里？请参阅：特别是[QEMU 技术文档，](http://qemu.weilnetz.de/qemu-tech.html)

> 2.11 硬件中断
> 
> 为了更快，QEMU 不会检查每个基本块是否有硬件中断未决。相反，用户必须异步调用特定函数来告知中断正在挂起。此函数重置当前执行的基本块的链接。它确保执行将很快在 CPU 模拟器的主循环中返回。然后主循环可以测试中断是否挂起并处理它。

QEMU 可能带有一些模拟设备的代码。但是，如果您想使用自己的设备，则需要进行一些自定义操作。它不是*真正*的ARM 处理器。大多数**虚拟化**技术[都存在](http://infocenter.arm.com/help/topic/com.arm.doc.dto0013b/DTO0013B_tzic_sp890_r0p0_to.pdf)中断问题；即使虚拟化由与目标相同的 CPU 托管。

# javascript - 我的鼠标事件不起作用

> ID：14869318
> 
> 赞同：0
> 
> 时间：2013-02-14T06:51:59.967
> 
> 标签：javascript, html, canvas, html5-canvas

我不确定我是否正确使用鼠标事件，因为这是我第一次使用它。我想要做的是，如果我将鼠标悬停在我绘制的一个对象上，我想显示一个说明它是哪个城市、人口和他们市中心的图像等。

```
<script>
function startCanvas() {
  var c = document.getElementById("myCanvas");
  var ctx = c.getContext("2d");
  //first circle
  var one = c.getContext("2d");
  //second circle
  var two = c.getContext("2d");
  //third cirle
  var three = c.getContext("2d");
  //fourth circle
  var four = c.getContext("2d");
  //fifth cirle
  var five = c.getContext("2d");
  // new image
  var image = new Image();
  image.onload = function () {
    ctx.drawImage(image, 69, 50);
    //draw a circle
    one.beginPath();
    one.arc(180, 90, 10, 0, Math.PI * 2, true);
    one.closePath();
    one.fill();
    two.beginPath();
    two.arc(155, 138, 10, 0, Math.PI * 2, true);
    two.closePath();
    two.fill();
    three.beginPath();
    three.arc(160, 180, 10, 0, Math.PI * 2, true);
    three.closePath();
    three.fill();
    four.beginPath();
    four.arc(257, 210, 10, 0, Math.PI * 2, true);
    four.closePath();
    four.fill();
    five.beginPath();
    five.arc(238, 235, 10, 0, Math.PI * 2, true);
    five.closePath();
    five.fill();
  };
  image.src = 'denmark.jpg';
  //function hover over circle one, give alert
  var startlisten = new mouseEvent.Listen({canvas:document.getElementById('myCanvas')});
  var circle = new mouseEvent.Register({
    type: 'mouseover',
    name: 'test',
    x: [180],
    y: [90],
    callback: function () { alert('this is a test'); }
  });
  startlisten.add(test);
}
</script>
</head>
<body onload="startCanvas()">
  <canvas id="myCanvas" width="600" height="600";">
    Your browser does not support the HTML5 canvas tag.
  </canvas>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T09:46:34.247

你的问题是这段代码：

```
var startlisten = new mouseEvent.Listen({canvas:document.getElementById('myCanvas')});
var circle = new mouseEvent.Register({
    type: 'mouseover',
    name: 'test',
    x: [180],
    y: [90],
    callback: function () { alert('this is a test'); }
}); 
```

那不是原生JS。试试这个：

```
c.addEventListener( // Since your code defince `c` as `document.getElementById("myCanvas")`
    'mouseover',
    function(e){
        e = e || window.event;
        alert('this is a test');
    }
); 
```

# sencha-touch-2 - 使用sencha touch2销毁一个视图后如何显示另一个视图

> ID：14869319
> 
> 赞同：0
> 
> 时间：2013-02-14T06:52:17.377
> 
> 标签：sencha-touch-2

我的主视图包含以下代码

```
items: [
            {
                xtype:'headerpage',
                docked:'top'
            },
            {  // this is the content area...
                id: 'launchscreen',
                cls : 'card',
                scrollable: true,
               xtype:'informationpage'
            },
            {
                docked:'left',
                xtype:'page1',
                store: 'page1'
            }

        ], 
```

在商店我有 2 个按钮 page1，page2。

当我单击 page2 按钮时，它应该显示 page2 视图，我尝试了以下操作

```
 control: {
       '#page2id':{
                tap:function(){
                    Ext.getCmp('launchscreen').destroy();
                    Ext.Viewport.add(Ext.create('App.view.page2'));
                   // Ext.Viewport.add('App.view.Page2');
                }
            }
} 
```

通过使用上面的启动屏幕被破坏，但第2页没有显示在lauchscreen的位置。任何人都可以帮助我......提前谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:56:50.613

目前您刚刚在 中添加了新视图`viewport`，您还需要使用[setActiveItem](http://docs.sencha.com/touch/2-1/#!/api/Ext.Viewport-method-setActiveItem)来显示您的`page2`视图：

```
Ext.getCmp('launchscreen').destroy();
var page2 = Ext.Viewport.add(Ext.create('App.view.page2'));
Ext.Viewport.setActiveItem(page2); 
```

或者您可以使用[animateActiveItem](http://docs.sencha.com/touch/2-1/#!/api/Ext.Viewport-method-animateActiveItem)为您`viewport`指定动画，例如：

```
Ext.Viewport.animateActiveItem(page2, {type: 'slide', direction: 'right'}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T08:40:56.360

向放置启动屏幕的容器添加一个 ID：

```
id: 'mainContainer',
items: [
            {
                xtype:'headerpage',
                docked:'top'
            },
            {  // this is the content area...
                id: 'launchscreen',
                cls : 'card',
                scrollable: true,
               xtype:'informationpage'
            },
            {
                docked:'left',
                xtype:'page1',
                store: 'page1'
            }

        ], 
```

然后您可以将第二页添加到您的容器中：

控制器代码：

```
 control: {
           '#page2id':{
                    tap:function(){
                        Ext.getCmp('launchscreen').destroy();
                        var page2 = Ext.getCmp('mainContainer').add(Ext.create('App.view.page2'));
                        Ext.getCmp('mainContainer').setActiveItem(page2); 
                    }
                }
    } 
```

# python - 有没有办法将 pyplot.imshow() 对象转换为 numpy 数组？

> ID：14869321
> 
> 赞同：8
> 
> 时间：2013-02-14T06:52:36.830
> 
> 标签：python, opencv, numpy, matplotlib

我需要可视化一个 2D numpy 数组。我为此使用 pyplot。这是代码：

```
import cv2 as cv
import numpy as np
from matplotlib import pyplot

img = pyplot.imshow( radiance_val )
#radiance_val is a 2D numpy array of size = ( 512, 512 ) 
#filled with np.float32 values

pyplot.show() 
```

我得到了预期的输出。

现在我的问题是，有什么方法可以将上述代码中的“img”从 pyplot 类型转换为 numpy 类型。我需要这个，以便我可以将可视化加载为 opencv 图像并对其进行进一步处理。我正在使用 32 位的 python 2.7。

请帮助

谢谢

* * *

编辑 1：在 Thorsten Kranz 的解决方案之后

```
import numpy as np
import cv2 as cv
import matplotlib.pyplot as plt
import PIL
from cStringIO import StringIO

frame1 = plt.gca()
frame1.axes.get_xaxis().set_visible(False)
frame1.axes.get_yaxis().set_visible(False)
plt.imshow(np.random.random((10,10)))

buffer_ = StringIO()
plt.savefig( buffer_, format = "png", bbox_inches = 'tight', pad_inches = 0 )
buffer_.seek(0)

image = PIL.Image.open( buffer_ )

ar = np.asarray(image)
cv.imshow( 'a', ar )
cv.waitKey(0)
cv.destroyAllWindows() 
```

在这里，程序终止后，我从 MS VC++ 运行时库中收到运行时错误。我更好的猜测是，这是因为开放的“buffer_”。但我得到了所需的输出。

* * *

编辑2：使用关闭缓冲区

```
buffer_.close() 
```

没有解决运行时错误

* * *

**最后编辑**：[***解决方案***](https://stackoverflow.com/questions/14880766/pyplot-cm-instance-is-producing-different-results-for-same-values-but-different)[](https://stackoverflow.com/questions/14880766/pyplot-cm-instance-is-producing-different-results-for-same-values-but-different)

 ** * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-14T14:30:24.913

除非你真的需要标记刻度等，

```
im._rgba_cache 
```

让您可以直接访问`numpy`作为颜色映射数据的 MxNx4 数组。

如果您只想要颜色映射数据，您可以`imshow`完全直接传递自己的颜色映射数据（请参阅选择颜色映射的[指南）](http://matplotlib.org/users/colormaps.html)

```
my_cm = maplotlib.cm.get_cmap('Reds')
normed_data = (data - np.min(data)) / (np.max(data) - np.min(data))
mapped_data = my_cm(normed_data) 
```

这将为您返回一个映射在`0`and之间的 MxNx4 数组`1`，

```
mapped_datau8 = (255 * my_cm(normed_data)).astype('uint8') 
```

或者

```
mapped_data = my_cm(normed_data, bytes=True) 
```

将其转换为无符号整数。

`matplotlib`包括一系列规范化代码，[请参见此处](http://matplotlib.org/api/colors_api.html?highlight=lognorm#matplotlib.colors.Normalize)。

[`get_cmap`文档](http://matplotlib.org/api/cm_api.html#matplotlib.cm.get_cmap)和[颜色图库](http://www.loria.fr/~rougier/teaching/matplotlib/#colormaps)

[编辑：在https://stackoverflow.com/a/14880947/380231](https://stackoverflow.com/a/14880947/380231)指出的固定监督

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-14T08:04:57.370

您确定要转换方法的返回值还是整个情节？

对于后者，您应该尝试：

*   使用将绘图保存到 StringIO 缓冲区图像`savefig`
*   使用 PIL 或 opencv 从此缓冲区加载图像
*   将其转换为 numpy 数组

请参阅下面的示例：

```
import numpy as np
import matplotlib.pyplot as plt
import PIL
from cStringIO import StringIO

plt.imshow(np.random.random((20,20)))
buffer_ = StringIO()
plt.savefig(buffer_, format = "png")
buffer_.seek(0)
image = PIL.Image.open(buffer_)
ar = np.asarray(image)
buffer_.close() 
```

查看`savefig`-`*args`以及`**kwargs`更多选项，例如 dpi、背景颜色、透明度、填充等。

如果您只想要彩色编码图像，没有轴、标签等，我仍然会这样做，只需使用

```
plt.subplots_adjust(0,0,1,1) 
```

将轴延伸到整个图形。照顾好`aspect`你的情节，否则 mpl 可能会再次缩小你的轴。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-09-11T16:07:54.633

受@Thorsten Kranz启发的更新答案

```
import numpy as np
import matplotlib.pyplot as plt
from PIL import Image
import io
plt.imshow(np.random.random((20,20)))
with io.BytesIO() as buffer:
    plt.savefig(buffer, format = "png")
    buffer.seek(0)
    image = Image.open(buffer)
    ar = np.asarray(image)
print(ar.shape) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-09-16T14:57:32.163

在这里，我找到了更多将数组转换为 rgba 的示例，我想使用岩浆 cmap 将频谱图转换为 rgb 图像，这就是我所做的；

```
import matplotlib.cm as cm
sm = cm.ScalarMappable(cmap='magma')
sm.set_clim(spect.min(), spect.max())
im = sm.to_rgba(spect)

plt.imshow(im)
plt.title(im.shape) 
```

[![在此处输入图像描述](../Images/a1e5f7e0acc48d057b37e18bb0355c2c.png)](https://i.stack.imgur.com/dariT.png)*

# android - 视图层次结构之外的 ID 用作 FragmentTabHost.setup() 的容器？

> ID：14869324
> 
> 赞同：0
> 
> 时间：2013-02-14T06:52:50.523
> 
> 标签：android, android-view, fragment-tab-host

我正在查看 support v4 包的示例项目，偶然发现了一些奇怪的东西：

**R.id.fragment1**在**FragmentNestingTabsSupport.java**中设置期间用作**mTab​​Host**的容器。它不应该是与视图层次结构内的视图相对应的 id 吗？**`FragmentActivity`**

 **我所看到的是它的视图层次结构是由单个`FragmentTabHost`.

顺便说一句：fragment1 存在于内部`fragment_hide_show_support.xml`，这是另一个演示的一部分。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T09:20:41.777

> 它不应该是与 FragmentActivity 的视图层次结构中的视图相对应的 id 吗？

不完全的。如果您查看`FragmentTabHost`该类的源代码，您会发现**只有在包含内容的容器不存在时**`FragmentTabHost`才会使用提供的 id 。这在该示例中不会发生，因为调用私有方法的构造函数具有构建布局（包括上述内容容器）文件的任务，如果不包含.**`FragmentTabHost``FragmentTabHost``TabWidget`**

 **因此，在该示例中，`FragmentTabHost`不包含`TabWidget`触发要构建的布局的 a 。拥有这个内置布局意味着提供给该`setup()`方法的 id 将被忽略。他们还不如简单地调用`mTabHost.setup(this, getSupportFragmentManager());`.****

# c# - 如何在 Visual Studio 运行时查看静态变量的值

> ID：14869325
> 
> 赞同：17
> 
> 时间：2013-02-14T06:52:52.740
> 
> 标签：c#, visual-studio-2010, runtime, static-members

这个问题几乎解释了我想要做什么。我在 c# 中有几个项目构成了解决方案，我想在 Visual Studio 中查看运行时静态变量的值。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-02-14T06:57:09.893

调试 -> Windows -> 立即 -> 键入代码以访问您的成员：

```
[>] MyClass.MyStaticValue [ENTER] 
```

或将它们放在监视窗口中。

笔记：

*   更多信息可以在 MSDN -[即时窗口上找到](https://msdn.microsoft.com/en-us/library/f177hahy.aspx)
*   `global::`如果仅通过提供命名空间 ( ) 找不到您的类，您可能需要使用前缀`global::MyClass.MyStaticValue`。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-14T07:13:50.933

一种方法是使用`Immediate Window`@Alexei 说的。

第二种方法是如下使用`QuickWatch`窗口：在要评估静态或任何其他变量/字段/属性的类中放置一个*断点并运行应用程序。*然后当断点被*击中*时，右键单击类中的任何变量/字段/属性并选择`QuickWatch`。现在，`ClassName.StaticVarName`在 QuickWatch 窗口文本框中输入 < > 并按回车，您应该能够看到如下屏幕截图所示的值：

![快看](../Images/2b83d1cc70c72f2a7efba3076d0e6793.png)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2018-09-26T10:01:34.187

**在 Visual Studio 2017 中，当您中断代码执行时，当您将鼠标悬停在源代码中的声明上**时，您可以看到静态变量的值，会出现如下所示的小弹出窗口：

[![在此处输入图像描述](../Images/42cca2b81d171716cf1b746c77edbe30.png)](https://i.stack.imgur.com/5VFtA.png)

1.  您可以**右键单击**此弹出窗口并将变量添加到观察窗口。
2.  您可以**单击图钉**以防止变量弹出窗口消失。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-05-01T02:22:48.170

你有 Costura.Fody 安装吗？我在一个项目中遇到了同样的问题，发现它导致静态类变量不显示，并且每次都必须重新构建项目。

# typo3 - pi_list_browseresults() 的问题

> ID：14869327
> 
> 赞同：0
> 
> 时间：2013-02-14T06:53:05.397
> 
> 标签：typo3

我正在使用 pi_list_browseresults() 的typo3 中构建一个扩展。

我的sql查询是：

```
 *$query='SELECT * FROM tx_jobs_messages 
   LEFT OUTER JOIN tx_jobs_messages_user_mm ON tx_jobs_messages.uid=tx_jobs_messages_user_mm.uid_local  
   WHERE  tx_jobs_messages_user_mm.uid_foreign ='. intval($feUserId) .'';* 
```

我不知道使用**"pi_exec_query"**执行上述查询。

我给出了如下所示的代码。但它显示 0 个结果

```
 $res= $this->pi_exec_query('',1,'','','','',$query);

  list($this->internal['res_count']) = $GLOBALS['TYPO3_DB']->sql_fetch_row($res);

  // Make listing query, pass query to SQL database: 

  $res=$this->pi_exec_query('',0,'','','','',$query);

  $this->internal['currentTable'] = 'tx_jobs_messages'; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:08:42.413

请遵循以下 pi_exec_query 语法：

```
pi_exec_query ($table, $count=0, $addWhere='', $mm_cat='', $groupBy='', $orderBy='', $query=''); 
```

参考链接：[http ://doxygen.frozenkiwi.com/typo3/html/df/d32/classtslib__pibase.html#a014ebbab057051507a8c92ecd919ed3e](http://doxygen.frozenkiwi.com/typo3/html/df/d32/classtslib__pibase.html#a014ebbab057051507a8c92ecd919ed3e)

# javascript - jQuery UI Slider - 在函数中使用默认值

> ID：14869328
> 
> 赞同：3
> 
> 时间：2013-02-14T06:53:13.657
> 
> 标签：javascript, jquery, uislider

我需要一些关于 jQuery UI 滑块的帮助，我已经设置了初始值，但我似乎找不到在页面加载时显示它的方法。我还需要能够将两个滑块值调用到一个函数来进行计算，然后将其显示到屏幕上。

你可以在这里查看我的 Fiddle 测试 > [http://jsfiddle.net/cC3Qh/](http://jsfiddle.net/cC3Qh/)

**jQuery**

```
$(function() {
    $( "#slider1").slider({ 
        max: 2500,
        value: 1000,
        slide: function( event, ui ) { $( "#slider-result1" ).html( ui.value ); },
        change: function(event, ui) { calPrice(ui.value); }
    });

    $( "#slider2").slider({ 
        max: 30,
        value: 12,
        slide: function( event, ui ) { $( "#slider-result2" ).html( ui.value ); },
        change: function(event, ui) { calDays(ui.value); }
    });
  });

  function calDays(sliderval){
    var day = sliderval;
    day = day * 100;
    document.getElementById('price2').innerHTML = day;
    var price = document.getElementById('price1').innerHTML;
    price = price * day;
    document.getElementById('price3').innerHTML = price;
  }

  function calPrice(sliderval){
    var price = sliderval;
    price = price * 100;
    document.getElementById('price1').innerHTML = price;
  } 
```

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T06:59:54.713

将此添加到您的就绪函数中：

```
// display slider value on load
$("#slider-result1").html($("#slider1").slider("value"));
$("#slider-result2").html($("#slider2").slider("value"));

// perform calculations on load
calPrice($("#slider1").slider("value"));
calDays($("#slider2").slider("value")); 
```

[http://jsfiddle.net/samliew/cC3Qh/1/](http://jsfiddle.net/samliew/cC3Qh/1/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-14T07:09:59.940

向滑块添加`create`事件处理程序：

```
$("#slider1").slider({
    max: 2500,
    value: 1000,
    slide: function (event, ui) {
        $("#slider-result1").html(ui.value);
    },
    change: function (event, ui) {
        calPrice(ui.value);
    },
    create: function (event, ui) {
        $("#slider-result1").html($(this).slider("value"));
    }
}); 
```

# android - 如何在 itemclick 中获取 id 并移至 Android 中的下一个活动？

> ID：14869329
> 
> 赞同：0
> 
> 时间：2013-02-14T06:53:22.640
> 
> 标签：android, web-services, android-listview, android-arrayadapter

我正在尝试从 Listview 获取 id。我使用了arrayadapter 并使用了itemclick。我想单击特定列表项并移至下一个活动，以便我可以访问其中的子文件夹。我正在使用（ksoap）.net Web 服务。

```
 SoapObject dataresponse = (SoapObject)envelope.getResponse();

                Log.i("myData", dataresponse.toString());

                datalist = new String[dataresponse.getPropertyCount()];
                for(int i=0; i< dataresponse.getPropertyCount(); i++)

                datalist[i] = dataresponse.getProperty(i).toString();

                treedata = (ListView)findViewById(R.id.treedata);

                ArrayAdapter<String> adapter = new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, datalist);

                treedata.setAdapter(adapter);

                treedata.setOnItemClickListener(new OnItemClickListener()
                {
                    @Override
                    public void onItemClick(AdapterView<?> parent, View v, int position, long id) {
                        // TODO Auto-generated method stub
// After clicking on list item I have subfolders into it, how can i get those subfolders.

                    //  Intent intent = new Intent(getApplicationContext(), Files_Folders_Activity.class);

                    //  int item_Id = (Integer) treedata.getAdapter().getItem(position);

                    //  intent.putExtra("item_Id", item_Id);

                    //  startActivity(intent);  
                    }
                }); 
```

下一个活动：

```
 @Override
  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.files_folders_layout);

    Intent intent = getIntent();

    subfolderTreedata();

}

public void subfolderTreedata(){
    try {

 SoapObject subfolderrequest = new SoapObject(NAMESPACE, SUBFOLDERTREEDATA_METHOD);

 subfolderrequest.addProperty("FolderID", FolderID);
 subfolderrequest.addProperty("UserID", UserID);

 SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
 envelope.dotNet = true;
 envelope.setOutputSoapObject(subfolderrequest);

 HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);
 androidHttpTransport.debug = true;

 androidHttpTransport.call(SOAP_ACTION_SUBFOLDERTREEDATA , envelope);

 SoapObject dataresponse = (SoapObject)envelope.getResponse();

 Log.i("subfoldersData", dataresponse.toString());

 subfolderslist = new String[dataresponse.getPropertyCount()];
 for(int i=0;i< dataresponse.getPropertyCount(); i++)

 subfolderslist[i] = dataresponse.getProperty(i).toString();

 subfolderstreedata = (ListView)findViewById(R.id.subfolderstreedata);

 ArrayAdapter<String> adapter = new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, subfolderslist);

 subfolderstreedata.setAdapter(adapter);

 } 
```

网页服务：

```
 POST /InterLogicsMobile/InterLogics.asmx HTTP/1.1
  Host: 192.168.1.5
  Content-Type: text/xml; charset=utf-8
  Content-Length: length
  SOAPAction: "http://tempuri.org/TreeDataSubFolder"

 <?xml version="1.0" encoding="utf-8"?>
 <soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"     
xmlns:xsd="http://www.w3.org/2001/XMLSchema"   
    xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
  <soap:Body>
<TreeDataSubFolder xmlns="http://tempuri.org/">
  <FolderID>string</FolderID>
    <UserId>string</UserId>
  </TreeDataSubFolder>
</soap:Body>
</soap:Envelope>
HTTP/1.1 200 OK
Content-Type: text/xml; charset=utf-8
Content-Length: length

<?xml version="1.0" encoding="utf-8"?>
<soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"     xmlns:xsd="http://www.w3.org/2001/XMLSchema"   xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
  <soap:Body>
    <TreeDataSubFolderResponse xmlns="http://tempuri.org/">
      <TreeDataSubFolderResult>
        <FileFolderDetails>
          <ID>int</ID>
          <Name>string</Name>
          <SubjectType>string</SubjectType>
        </FileFolderDetails>
        <FileFolderDetails>
          <ID>int</ID>
          <Name>string</Name>
          <SubjectType>string</SubjectType>
        </FileFolderDetails>
      </TreeDataSubFolderResult>
    </TreeDataSubFolderResponse>
  </soap:Body>
</soap:Envelope> 
```

请建议单击 itemclick 侦听器后如何获取子文件夹。我试图从过去 4 天得到答案。

我无法将子文件夹放入下一个活动中，我必须将 FolderId 和 UserId 都传递给 soapobject pas 参数。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:49:48.617

单击项目以获取子文件夹时，是否需要将参数传递给 Web 服务？如果是这样，它是索引号还是父文件夹的名称？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:21:11.667

![在此处输入图像描述](../Images/c2410bfef100c45f674ac39abad1bfce.png)

试试这个：我希望这对你有帮助..如果你需要你使用这个..

```
listview.setOnItemClickListener(new OnItemClickListener() {

        public void onItemClick(AdapterView<?> arg0, View arg1,
                int arg2, long arg3) {
            Object o = listview.getItemAtPosition(arg2);
            String des = o.toString();              
            Intent myIntent = new Intent(arg1.getContext(), Next_Activity.class);
            myIntent.putExtra("id", des);
                startActivity(myIntent);

    }
    }); 
```

这用于获取先前活动的意图值：

```
 Bundle b = new Bundle();
    b = getIntent().getExtras();
    String id_backup= b.getString("id"); 
```

# vba - ="" 在 excel-vba 中有什么作用

> ID：14869333
> 
> 赞同：-1
> 
> 时间：2013-02-14T06:53:44.053
> 
> 标签：vba, excel, excel-2010

这会做什么？

```
If Dir(path) = " " Then  
    path = " " 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T07:08:21.930

引号之间有不必要的空格

代码基本上试图做的是检查相关文件、目录或文件夹是否存在。请参阅此示例，该示例检查文件是否存在。

```
Option Explicit

Sub Sample()
    Dim sPath As String

    sPath = "C:\Temp\MyFile.xls"

    If Dir(sPath) = "" Then
        MsgBox "File not found"
    Else
        MsgBox "File found"
    End If
End Sub 
```

更多关于`DIR` [这里](http://msdn.microsoft.com/en-us/library/dk008ty4%28v=vs.80%29.aspx)

# ef-code-first - EF 4.4 Code First - 自动生成创建两个数据库实例

> ID：14869334
> 
> 赞同：1
> 
> 时间：2013-02-14T06:53:47.860
> 
> 标签：ef-code-first, entity-framework-5

我最近从 EF 4.3.1 升级到 4.4 并且开始发生一些奇怪的事情。自升级以来我已经接触过代码，所以我不能 100% 肯定地说是导致这个问题的原因。

无论如何，当我删除现有数据库并从 PM 控制台调用 Update-Database 时，它​​会创建一个数据库，但使用我的上下文的完全限定名称。即，MyProject.Data.MyContext。以前，它只是创建了一个名为 MyContext 的数据库。我可以初始化数据库中的一堆数据用于测试目的，但是当应用程序运行时，它说数据库中没有任何内容。

当我查看数据库时，我看到现在有另一个名为 MyContext 的数据库（就像过去一样）。当我在该数据库中初始化测试数据时，应用程序运行得很好并且可以看到数据。

我正在覆盖 OnModelCreating 方法。基本上它看起来像这样：

```
 protected override void OnModelCreating(DbModelBuilder modelBuilder)
        {//My modelBuilder stuff.
base.OnModelCreating(modelBuilder);} 
```

这种方法没有太大变化，所以我认为这不是罪魁祸首。有没有人遇到过这个问题？如果您希望我发布更多代码，请告诉我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-24T16:06:18.843

好的，事实证明我需要删除我的 app.config 文件，因为我使用的是 EF Code-First。 *我开始使用数据库优先方法*，但后来将其更改为 Code-First。一旦我删除了 app.config 文件，它就可以正常工作 - 只使用 update-database 命令创建一个数据库并在我的代码中使用相同的数据库。

哦，我可以在上下文构造函数中设置我的数据库名称，如下所示：

```
MyContext() : base("MyDatabase") { } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-16T15:02:03.957

搜索您的代码以确保没有两个类正在实现 DbContext - 我在使用脚手架时遇到了这个问题。

打开您的上下文，并尝试使用连接字符串显式设置它，例如：

```
 public myContext()
        : base("name=DefaultConnection")
    {
    } 
```

检查您的 web.config 以查看您的 EF 设置和连接字符串是否看起来很奇怪。

# c - 读取 C 变量的串行输入

> ID：14869338
> 
> 赞同：1
> 
> 时间：2013-02-14T06:54:07.283
> 
> 标签：c, input, serial-port, arduino

您好我正在尝试从 C 程序读取串行输入（来自 Arduino）。我可以使用向 Arduino 发送数据

```
system("echo -n \"data\" > /dev/ttyUSB0"); 
```

但我不知道如何从同一个Arduino获取输入到c程序中的字符串（将在程序中处理）。我该怎么做呢？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-14T07:11:02.793

调用系统进行这种通信是没有意义的。`open`您可以使用函数、和访问串行端口`read`，就像访问文件一样。`write` `ioctl``close`

只需传递`/dev/ttyUSB0`open 作为要打开的文件。如果您想修改连接设置（如波特率或奇偶校验或其他东西），您只需要 ioctl

您可以查看[http://www.tldp.org/HOWTO/Serial-Programming-HOWTO/index.html](http://www.tldp.org/HOWTO/Serial-Programming-HOWTO/index.html)了解详细信息。

# android - ListView 在返回活动时不更新

> ID：14869339
> 
> 赞同：2
> 
> 时间：2013-02-14T06:54:11.817
> 
> 标签：android, android-listview, listviewitem

我正在开发一个应用程序，并且我在一个屏幕中有一个列表视图，因为我正在使用类传递值。在`listview`的项目单击事件上，它会打开用于选择值的活动。我将这个值保存到`SharedPrefrence`我想要这些数据到另一个活动中。它将值存储到`SharedPreference`. 但它不会`listview`在返回活动时更新。但我正在更新 List `onCreate()`。

```
try{
            selectedParentMessage = ParentMessageListActivity.parentMsgSharedPref.getString("SelectedParentMessage", "None");

            System.out.println("Selected Parent Message:"+selectedParentMessage);

        }catch (Exception e) {
            // TODO: handle exception
            e.printStackTrace();

        }

        items.add(new Setting_ActivitySectionItem("Sounds"));
        //items.add(new Setting_ActivityEntryItem("Cartoon's Voice", ""));
        items.add(new Setting_ActivityEntryItem("Record Parent's Message", ""+selectedParentMessage));
        items.add(new Setting_ActivityEntryItem("Import Lullaby", ""));

        items.add(new Setting_ActivitySectionItem("Alerts"));
        items.add(new Setting_ActivityEntryItem("Phone Number", ""));
        items.add(new Setting_ActivityEntryItem("Email Id", ""));
        items.add(new Setting_ActivityEntryItem("Send Notification", ""));
        //items.add(new EntryItem("Item 7", "This is item 2.4"));

        items.add(new Setting_ActivitySectionItem("Baby's Noise Level"));
        items.add(new Setting_ActivityEntryItem("High", ""));
        items.add(new Setting_ActivityEntryItem("Medium", ""));
        items.add(new Setting_ActivityEntryItem("Low", ""));
        //items.add(new EntryItem("Item 11", "This is item 3.4"));
        //items.add(new EntryItem("Item 12", "This is item 3.5"));

        items.add(new Setting_ActivitySectionItem("Set Auto-silent"));
        items.add(new Setting_ActivityEntryItem("Auto Silent", ""));

        items.add(new Setting_ActivitySectionItem("Set Battery reminder"));
        items.add(new Setting_ActivityEntryItem("Battery Reminder", ""));

        adapter = new Setting_ActivityEntryAdapter(this, items);
        adapter.notifyDataSetChanged();
        setListAdapter(adapter); 
```

我`notifydatasetchange()`也在`onResume`申请`onRestart()`

```
public void onRestart(){
        super.onRestart();
        System.out.println("onrestart");
        try{
            selectedParentMessage = ParentMessageListActivity.parentMsgSharedPref.getString("SelectedParentMessage", "None");

            System.out.println("Selected Parent Message:"+selectedParentMessage);

        }catch (Exception e) {
            // TODO: handle exception
            e.printStackTrace();

        }
        getListView().invalidateViews();
        adapter.notifyDataSetChanged();
    } 
```

和同样的`onPause()`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T10:46:17.647

**解决了**

```
@Override
    public void onResume(){
    super.onResume();
        adapter.clear();
        addItem();
    } 
```

`addItem()`是将列表项添加到类并生成适配器并设置列表视图的函数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T07:27:43.077

如何使用您在适配器中使用的相同变量创建适配器的新实例并再次将适配器设置在列表中。

在 onResume 上试试这个：

```
adapter = new Setting_ActivityEntryAdapter(this, items);
setListAdapter(adapter); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T06:58:02.053

称它为`yourlistView.invalidateViews();`

试试这个 。

```
ListAdapter la = listView.getAdapter();
                        if( la != null){
                            ((BaseAdapter)la).notifyDataSetChanged();

                } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-14T07:00:33.790

为你`notifydatasetchange()`的适配器做`listview`in`onStart()`

# java - 显示画布和上下文创建错误的 java 3d 错误

> ID：14869344
> 
> 赞同：2
> 
> 时间：2013-02-14T06:54:29.980
> 
> 标签：java, 3d

```
DefaultRenderingErrorListener.errorOccurred:
CONTEXT_CREATION_ERROR: Renderer: Error creating Canvas3D graphics context
graphicsDevice = Win32GraphicsDevice[screen=0]
canvas = javax.media.j3d.Canvas3D[canvas0,10,10,380x450]
Java 3D ERROR : Canvas3D_createNewContext: Failed in SetPixelFormat - The pixel format is invalid.

Java Result: 1
BUILD SUCCESSFUL (total time: 18 seconds) 
```

该代码在我的 PC 中运行。但它在我的笔记本电脑中不起作用，我已经重新安装了所有仍然我不知道要对我的代码进行哪些更改。

# caching - Azure 缓存辅助角色在几分钟后终止（超时）

> ID：14869345
> 
> 赞同：1
> 
> 时间：2013-02-14T06:54:45.023
> 
> 标签：caching, azure

我正在使用 Azure 缓存工作者角色，升级到 Windows 8 和 Visual Studio 2012 后，当我在 1 到 10 分钟后运行应用程序时缓存对象超时，我尝试创建一个小项目并测试场景，它发生在应用也。当它死时，我必须重新启动应用程序或刷新网页几次，直到缓存活跃起来。有人可以帮我吗？谢谢， 阿兰

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T08:01:06.860

你可以尝试的事情

1) 确保您已启用缓存服务器和缓存客户端的诊断。按照[http://msdn.microsoft.com/en-us/library/windowsazure/hh914135.aspx中的链接](http://msdn.microsoft.com/en-us/library/windowsazure/hh914135.aspx)

2) 我假设问题仅发生在 devfabric 部署中。您可以检查 devfabric 控制台中的缓存角色日志以确定报告的任何问题。Windows Azure 通道或应用程序服务器通道中的事件日志也会有所帮助。

3）您可以在云中部署您的测试项目，看看问题是否在那里重现。

# android - onPostExecute 在异步任务中的 doInBackground 之前执行

> ID：14869347
> 
> 赞同：1
> 
> 时间：2013-02-14T06:54:52.873
> 
> 标签：android, android-asynctask

找了很久，通过下面的链接，明白了，

[http://developer.android.com/reference/android/os/AsyncTask.html#cancel(boolean)](http://developer.android.com/reference/android/os/AsyncTask.html#cancel%28boolean%29)

[AsyncTask 从不执行 onPostExecute](https://stackoverflow.com/questions/8219115/asynctask-never-executes-onpostexecute)

但我想对服务器进行一些 API 访问，在获取所有数据后，我想从 Splashscreen 移至我的主要活动，下面是我的代码。. . .

```
class Startsyntask extends AsyncTask<Void, Void, Void> 
    {

         @Override
         protected Void doInBackground(Void... arg0) 
         { 
            raw_data = new File(Environment.getExternalStorageDirectory() + "/.MyFoldernew");
            if(raw_data.exists())
            {
                Log.e("directory exists", " already ");
                new read_syntask().execute();
            }
            else
            {
                Log.e("directory created", " newly ");
                raw_data.mkdirs();
                new write_syntask().execute();
            }
            return null;    
         }

         @Override
         protected void onPostExecute(Void unused) 
         {
             if( i == 6)
             {
                finish();
                startActivity(new Intent("com.sample.app.Tabbar"));
             }
         }
    } 
```

并且在代码`read_synctask`中`write_synctask`是另一个与某些特定操作有关的异步任务，在这些异步任务中，它在 doinBackground 之后调用 onPostexecute 。

实际上它移动到 Tabbar Activity 并且 API 点击继续，我在 Tabbar Activity 中从服务器读取数据。只有在完成 doinBackground 中的异步任务后，我才能实现它，应该调用 onProgress 。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:00:32.343

实际上，

```
new read_syntask().execute(); 
```

和

```
new write_syntask().execute(); 
```

两者都有**异步调用**，不等待完成任务并执行下一个执行步骤，因此您的执行`onPostExecute()`在完成之前进行`AsyncTask`。

你要做的是，

使用 `new read_syntask().execute().get();`和`new write_syntask().execute().get();`

现在`get()`方法 from`AsyncTask`将等待 AsyncTask 完成，然后`onPostExecute()`执行。（但我认为它会阻塞 UI 线程）。

**更新：（**最佳方法）

其实不需要`Startsyntask` AsyncTask，可以直接在Activity的方法中写**if-else条件**，也可以自己的启动代码`raw_data``Tabbar`

```
finish();
startActivity(new Intent("com.sample.app.Tabbar")); 
```

应该在`read_syntask`or `write_syntask`'s`onPostExecute()`中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:18:13.577

引用“只有在完成 doinBackground 中的异步任务后，我才能实现它，应该调用 onProgress 。”

我知道的不多。但也许使用 Handler 可以提供帮助。在异步任务的 onPostExecute 和处理程序的 handleMessage 之后发送消息，做你想做的事。

[http://developer.android.com/reference/android/os/Handler.html](http://developer.android.com/reference/android/os/Handler.html)

# ruby-on-rails - 如何在 Ruby 中使用 '？

> ID：14869350
> 
> 赞同：2
> 
> 时间：2013-02-14T06:55:04.690
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我不能`'`在里面使用`''`

这会出现语法错误：（假设@post.user.nickname 是`John`

```
@message = @post.user.nickname + ''s post' 
```

它一定要是`John's post`

我该如何使用`'`？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-14T06:57:47.650

尝试

```
@message = @post.user.nickname + "'s post" 
```

或者

```
@message = @post.user.nickname + '\'s post' 
```

# android - 如果我离开蓝牙范围，我可以捕捉事件吗

> ID：14869352
> 
> 赞同：2
> 
> 时间：2013-02-14T06:55:11.447
> 
> 标签：android, bluetooth

如果我离开蓝牙范围并再次进入范围时，我如何捕捉事件。

当一对连接的设备超出范围时，我试图制作一种警报应用程序。当蓝牙设备超出范围时，我很难检测到。你们能猜到吗？

# c# - 动态添加超链接到 RichTextBox 文本中的选定文本 c#

> ID：14869354
> 
> 赞同：0
> 
> 时间：2013-02-14T06:55:20.557
> 
> 标签：c#, .net, richtextbox

我想将超链接添加到选定的特定文本。我正在使用richtextbox 在电子邮件中发送格式化文本，但无法添加到特定文本的超链接。就像我的richtextbox 包含文本“有关更多信息，请单击此处”，我想添加超链接以动态单击此处。提前致谢

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2013-02-14T07:15:42.900

**您可以将“单击此处”**动态替换为

`<a href="your link">click here</a>`

希望能帮助到你 ：）

# c# - 读取文件时无限循环

> ID：14869355
> 
> 赞同：0
> 
> 时间：2013-02-14T06:55:21.960
> 
> 标签：c#, infinite-loop, readfile

我从文件中得到一个随机行：

```
using (FileStream ifs = new FileStream(path, FileMode.Open, FileAccess.Read)) {
    using (StreamReader sr = new StreamReader(ifs, Encoding)) {
        long lastPos = ifs.Seek(0, SeekOrigin.End);
        long rndPos = 0;
          do {
              rndPos = (long)(Random.NextDouble() * lastPos);// Random is property
              ifs.Seek(rndPos, SeekOrigin.Begin);
              sr.ReadLine();
              line = sr.ReadLine();
          } while (string.IsNullOrWhiteSpace(line));
    }
} 
```

但有时事实证明，这条线总是空的，而循环是无限的。请问，我哪里错了？

此函数被调用 1000 次（例如）。前100次调用成功，但随后主流的位置是最后一个位置，seek没用。

ps：我想在文件中获得一个随机位置。然后通读该位置所在的行到末尾，并作为结果返回下一行。循环获取大文件的随机字符串是最快的算法。是的，我知道这个函数永远不会返回第一行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T06:59:03.083

好吧，如果该行为空，并且您的条件为 string.IsNullOrWhiteSpace(line)，这将是一个无限循环。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T06:59:14.680

```
public string ReturnRandomLine(string path, ref Random r)
{
    string[] lines = File.ReadAllLines(path);
    string randomLine = String.Empty;
    int randomLineNumber;

    do
    {
        randomLineNumber = r.Next(0, lines.Length - 1);
        randomLine = lines[randomLineNumber];
    } while (String.IsNullOrWhiteSpace(randomLine));

    return @"Line #" + randomLineNumber + " " + randomLine;
} 
```

# c# - 如何根据更新语句中的表值更新表值？

> ID：14869357
> 
> 赞同：2
> 
> 时间：2013-02-14T06:55:27.053
> 
> 标签：c#, mysql, sql, database

我正在为 db 使用 mqsql 并从 C# 连接数据库。现在我想通过添加**表字段 + 我的当前值**来更新表字段。

我做过，

首先我使用 select 语句获取字段，然后将我的当前值添加到现有值。最后通过将新值设置为表字段来更新表...

那么，有没有办法在`UPDATE`不使用`SELECT`语句的情况下在语句中做到这一点？

请指导我摆脱这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T06:56:57.887

由于它是同一个表，因此您可以`UPDATE`直接使用`WHERE`子句仅对您想要的字段值执行此操作，而不是`SELECT`.

像这样的东西：

```
UPDATE Tablename
SET Somefield = Somefield + 'Some value'
WHERE SomeField = 'Some other value'; 
```

**请注意：**也不需要先获取字段值，然后将当前值添加到现有值中，最后进行更新，*但是*，您可以直接使用：`SET Somefield = Somefield + 'Some value'`。

# eclipse - ubuntu 中树形视图的字体大小

> ID：14869360
> 
> 赞同：2
> 
> 时间：2013-02-14T06:55:43.830
> 
> 标签：eclipse, ubuntu

如何在 Ubuntu 上的 Eclipse Juno 上更改 Package Explorer 视图中树视图的字体大小？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-25T13:33:11.663

在 Juno 及更高版本上，您可以通过 CSS 调整该字体。

查找`eclipse/plugins/org.eclipse.platform_4.2.x.vy/css`当前样式表的文件（可能`e4_default_gtk.css`），然后添加以下规则：

```
#org-eclipse-jdt-ui-PackageExplorer Tree,
#org-eclipse-ui-navigator-ProjectExplorer Tree {
  font-size: 10px; /* <-- Desired font size */
} 
```

专业提示：下次您需要为 UI 的一部分查找 CSS Id 时，请使用*CSS Spy*，您可以使用`SHIFT`- `ALT`-打开`F5`它（安装后）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-27T08:20:59.523

供参考：

来自 Eclipse Luna(4.4)

看起来css文件不再在旧文件夹中：

```
`eclipse/plugins/org.eclipse.platform_4.x.x.vy/css`, 
```

它们被移动到新文件夹：

`eclipse/plugins/org.eclipse.ui.themes_x.x.x.vxxxxx/css`

您必须在菜单中选择一个主题来应用它

`[Windows]==>[Prefrence]==>[General]==>[Appearance]`

# sharepoint - Sharepoint 日期时间控件

> ID：14869361
> 
> 赞同：1
> 
> 时间：2013-02-14T06:55:49.057
> 
> 标签：sharepoint, sharepoint-2010, sharepoint-designer

在我的一个页面中，我有一个 Sharepoint DateTimeControl。

```
SharePoint:DateTimeControl ID="dtpStartTime" runat="server" SelectedDate="" AutoPostBack="true" OnDateChanged="dtpStartTime_OnChanged" />

protected void dtpStartTime_OnChanged(object sender, EventArgs e)
    {

        if (dtpStartTime != null)
        {

            DateTime min = Convert.ToDateTime(dtpStartTime.SelectedDate.ToString());
            dtpEndTime.ClearSelection();
            Appointment objMgr = new Appointment ();
            objMgr.ManagerID = ddlMgr.SelectedValue;
            objMgr = objMgr.GetManagerByID(objMgr.ManagerID);
            dtpEndTime.SelectedDate = min.AddMinutes(objMgr.Duration);
        }

    } 
```

但是， OnChanged 事件会在日期更改时触发，但我也需要该事件在时间更改时触发。有没有办法解决这个问题？任何解决方法....

提前致谢....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T08:26:03.480

当时间更改时，控件[不会自动回](https://stackoverflow.com/questions/4893300/sharepoint-datetimecontrol-not-doing-post-back-when-the-time-is-changed-it-does)发，因此您将无法将事件附加到它。您必须使用第三方控件（例如 Telerik 控件非常好）或编写您自己的代码。

# c++ - 洛基：Typelist.h

> ID：14869362
> 
> 赞同：0
> 
> 时间：2013-02-14T06:55:55.707
> 
> 标签：c++, template-meta-programming, loki

我正在尝试 Typelist 的示例，并阅读以下链接中给出的示例。 [类型列表访问者模式示例](https://stackoverflow.com/questions/5578607/typelists-visitor-pattern-example)

但在那个例子中，他们没有使用 loki 提供的**Typelist.h**。我的问题是我们如何使用该头文件来创建类型列表，或者我们必须从头开始编写。

# java - 没有在 JSF 中获取 .bmp 文件

> ID：14869367
> 
> 赞同：0
> 
> 时间：2013-02-14T06:56:13.940
> 
> 标签：java, jakarta-ee, jsf-2, seam

在上传“.jpg/.jpeg”之类的图像时，“.png”文件 <s:graphicImage> 标签采用这些文件类型，但不采用“.bmp”类型文件。任何人都可以帮助指导解决这个问题吗？

```
private boolean chkImageUpload(){
    log.info("chkImageUpload started");
    boolean chk = false;
    long fileSize = 0;
    String contentType = null;
    FacesContext context = FacesContext.getCurrentInstance();
    try {
        if(object.getTempPhotoGraph() != null){
            contentType = object.getInefFileType();
            if (!((contentType.contains("jpeg"))||(contentType.contains("jpg"))||(contentType.contains("gif"))||(contentType.contains("tiff"))||(contentType.contains("bmp")))){
                facesMessages.add("JPG/JPEG/GIF/TIFF/BMP type of images are allowed");
                return chk;
            }                   
        }   
    } catch (Exception e) {
        log.error(e);
    }
    log.info("chkImageUpload ended");
    return chk;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:30:34.713

这是一个错误，一个 isuue 记录在这里 [Bug](https://issues.jboss.org/browse/JBPAPP-5766?page=com.atlassian.jira.plugin.system.issuetabpanels%3aall-tabpanel)。不支持 BMP 文件。

您可以通过另一种方式解决它尝试下面的代码。

```
<h:graphicImage> instead of <s:graphicImage>. 
```

# api - 有没有办法在 Volusion API 中以编程方式重置导出的订单？

> ID：14869368
> 
> 赞同：4
> 
> 时间：2013-02-14T06:56:36.187
> 
> 标签：api, volusion

我有一个小的 python 脚本，它反复向 Volusion API 发出请求以从 Orders 表中提取列。

我反复发送我的 HTTP 请求，因为 Volusion 每次只返回前 200 条记录。我一直发送，直到收到一个空的 XML 响应——告诉我我已获得所有记录。

现在为了再次运行相同的查询，我必须***手动***登录 Volusion 并在“Volusion API：Run Generic\Orders”中“重置”运行。你知道如何通过他们的 API 重置它吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-07-23T19:47:39.547

**稍微**澄清一下这个问题......我认为 volusion 实际上一次只返回 100 条记录。**每次调用他们的 api，都会为您提供接下来的 100 条记录，使之前的 100 条记录不可用。最终，您将到达记录集的末尾，而 api 将不会返回任何内容。要再次开始从生成并保存在其 product/import-export/api 部分中的 api 调用中获取结果，您必须手动登录并重置导出。注意：重置实际上不会删除任何记录。这让我在第一次重置我的 api 时感到畏缩。**

 ****为了回答**您的问题，我已就此联系 Volusion 并被告知“不”。我不确定我是否曾与任何认识的人交谈过。每个人似乎都处于技术支持的低端。但是，如果通过 Volusion 店面通过更多销售添加新记录，它们将在您的代码下一次调用 api 时返回。太棒了，虽然这并不理想，但它适用于初始导入。

**解决方法：**您可以全天使用条件（例如 orderID = 2344、2345 等）进行 api 调用。因此，将您的 orderID 导入本地数据库，使用它们循环并使用条件进行 api 调用。它很慢。我设置了一个在晚上运行的作业，并更新我的本地数据库，获取一些返回的项目信息和其他订单修改。

**请注意：** Volusion 通常会在晚上将其站点关闭以进行维护（意料之中）。他们的 API 集成很慢（也是意料之中的）。它不会使通过 API 调用获得的所有通过手动导出可用的数据（例如返回的数量）。我认为这很严重。在我看来，没有退货细节的销售数据是不完整的。我会说 Volusion 的 API 集成缺乏必要的文档，并且确实重新宣传了他们的 API 集成广告。

他们的合作伙伴能够调用未通过 api 向公众提供的数据。我不知道确切的细节。我不确定 Volusion 是否为合作伙伴制作自定义模式，或者他们是否已经找到了 URL hack。我非常感谢有关如何通过 Volusion 的 api 获取退货数量的信息。**

# c++ - 未解析的令牌，未解析的外部符号

> ID：14869372
> 
> 赞同：0
> 
> 时间：2013-02-14T06:56:57.533
> 
> 标签：c++, visual-studio, linker, clr, unresolved-external

我得到了如下所示的这些错误。我该如何修复它们？

> Transporter.obj : 错误 LNK2028: 未解析的令牌 (0A0003E1) "public: __thiscall FTP::FTP(void)" (??0FTP@@$$FQAE@XZ) 在函数 "public: __clrcall Transporter::Transporter(void) " (??0Transporter@@$$FQ$AAM@XZ) 1>Transporter.obj : 错误 LNK2019: 无法解析的外部符号 "public: __thiscall FTP::FTP(void)" (??0FTP@@$$FQAE@XZ ) 在函数 "public: __clrcall Transporter::Transporter(void)" (??0Transporter@@$$FQ$AAM@XZ) 中引用

# css - 缩略图未排列

> ID：14869374
> 
> 赞同：0
> 
> 时间：2013-02-14T06:56:59.333
> 
> 标签：css

我无法排列缩略图（4 个块）。最后一个街区突破到了第二行。它是div内容器的宽度吗？如果我将浏览器最小化，块排列得很好，但它们之间没有间隙。[http://magnixsolutions.com/dev/test/test.html](http://magnixsolutions.com/dev/test/test.html)。

另外为什么光标在文本字段中居中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:04:45.923

是的。你的`thumbnails`容器比你的`thumbnail`总和短，它们的长度和它们的间隙。

尝试这样的事情：

```
.thumbnails {
   margin-left: -15px;
   ...
}

.thumbnails li {
   margin-left: 15px;
   ...
}

.thumbnail {
   width: 220px;
   ...
} 
```

这是对引导 css 文件的修改。因此，如果它没有任何效果，请应用 !important 来强制执行它们。

更新：

你忘了申请：

```
.thumbnails > li {
    margin-left: 15px !important
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:06:54.500

要将光标定位在文本字段的左侧，您可以使用以下命令：

```
.fname, .lname, .zipcode
{
    text-align: left;
} 
```

# c# - 绑定一个列表框

> ID：14869375
> 
> 赞同：0
> 
> 时间：2013-02-14T06:57:02.273
> 
> 标签：c#, asp.net, .net, visual-studio-2010

我有 4 个列表框，我有一个作为 EMP 的数据库，其中包含表 tab1 和列 Name、EmpId、Salary ...

所以我想在其中一个列表框中显示薪水。我该怎么做？？？

```
SqlConnection con = new SqlConnection(connec);
string insert_query = "select Salary from tab1";
con.Open();
try
{
    SqlCommand cmd = new SqlCommand(insert_query, con);
    int exe = cmd.ExecuteNonQuery();
    SqlDataAdapter da = new SqlDataAdapter(cmd);
    DataSet ds = new DataSet();
    da.Fill(ds);
    ListBox3.DataSource = ds;
    ListBox3.DataBind();
 } 
```

是这样吗？我有一些问题，比如项目没有显示在列表框中。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-14T07:00:43.433

```
ListBox3.DataSource = ds;
ListBox3.DataTextField = "Salary";
ListBox3.DataValueField = "EmpID";
ListBox3.DataBind(); 
```

您需要在此之前指定。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-14T07:05:22.543

你的代码是正确的，但你需要在绑定之前包含一些这样的东西..

```
Listbox3.Datasource=ds; 
Listbox.DataTextField="Salary"
Listbox.DataValueField="EmpId"
Listbox3.Databind(); 
```

# zend-framework2 - 如何在 zend 框架 2 (zf2) 中使用不同的模块

> ID：14869376
> 
> 赞同：0
> 
> 时间：2013-02-14T06:57:03.110
> 
> 标签：zend-framework2

我在项目中有 2 个不同的模块 1) 专辑 2) 用户

我想在“相册”模块中使用一些用户模块类。

请帮助我如何配置它。

谢谢和问候， Ashish

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:55:59.143

服务类应该可以通过`ServiceManager`. 如果类在那里可用，无论是`factories`还是`invokables`，您应该可以`Controller`像这样调用它们：

```
$this->getServiceLocator()->get('name-of-your-service'); 
```

否则，如果它只是您需要使用的类，您可以简单地导入并使用它们

```
namespace Othermodule;

use My\Module\Class\Name;

class OtherModuleClass {
    public function someAction()
    {
        new Name();

        // Or fully qualified inline
        new \Third\Module\Class\Name();
    }
} 
```

# url-rewriting - 为 liferay 上的博客文章页面添加扩展

> ID：14869377
> 
> 赞同：2
> 
> 时间：2013-02-14T06:57:04.137
> 
> 标签：url-rewriting, liferay, blogs, liferay-6

我的问题是我想在我的每篇博文中添加“.html”扩展名。例如，现在我有一个博客文章 url ' [http://www.indu.com/blog/-/blogs/creating-a-custom-portlet-in-liferay](http://www.indu.com/blog/-/blogs/creating-a-custom-portlet-in-liferay) '，而我想要的是' [http://www .indu.com/blog/-/blogs/creating-a-custom-portlet-in-liferay.html](http://www.indu.com/blog/-/blogs/creating-a-custom-portlet-in-liferay.html) '

如果有人可以提供帮助，我将不胜感激？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T15:57:17.880

我想知道你为什么要这个。

无论如何，我认为您可以更改`urlTitle`字段`BlogsEntry`并附`.html`加到字符串。可以使用 service-wrapper-hook 来附加`.html`到`urlTitle`任何时候创建或更新博客。

或者，您甚至可以使用 a `ModelListener`if it exists for BlogsEntry 钩子`urlTitle`通过使用`onCreate`&`onUpdate`方法来更新博客。

**编辑**

该`urlTitle`字段存在于`BlogsEntry`表中。

您可以使用以下方法在 java 中访问它：

```
BlogsEntry blog = BlogsEntryLocalServiceUtil.getBlogsEntry(90989); // retrieves the blog-entry

String blogUrlTitle = blog.getUrlTitle(); 

blog.setUrlTitle(blogUrlTitle + ".html"); // this would set the string 
```

您可以检查一下，`blogUrlTitle`以免重复`.html`附加到字符串：

```
if (!blogUrlTitle.contains(".html")) { // append only if the title does not contain `.html`
    blog.setUrlTitle(blogUrlTitle + ".html");
} 
```

您可以根据需要改进代码，以上只是一个指导方针。

作为旁注，我总是会尝试与客户推理他们为什么想要某样东西，这不仅有助于抵御糟糕的更改请求，还有助于为客户提供替代方案（这对像我们这样的开发人员**;-)** )。在大多数情况下，这有助于更好地了解客户的业务并提供更好的回报。

# android - 为什么 facebook 登录在开发期间有效，但在部署期间无效？

> ID：14869380
> 
> 赞同：0
> 
> 时间：2013-02-14T06:57:16.980
> 
> 标签：android, facebook

当我通过 Eclipse 通过 ADB 安装我的应用程序时，facebook 登录以及发布到用户的墙都可以工作（使用 facebook SDK 3.0），但是当我打包我的应用程序然后安装该应用程序时，facebook 登录不会工作。我得到带有登录按钮的片段，当我按下登录按钮时，它会显示应用程序想要访问我的公共个人资料和好友列表的对话框。当我单击确定时，它会返回带有登录按钮的片段。

我的问题是：我应该改变什么才能使 facebook SDK 集成在部署期间也能正常工作？

我的片段代码（删除了不相关的部分）：

```
public class Fragment_shareFacebook extends SherlockFragment {
Context context;    //context and fields:
View v;
private Button shareButton;
private MainActvityCommunicatorIntentBasedLeaveManagement intentleaveset;
private EditText toshareText;
private TextView textInstructionsOrLink, sharedText, fb_share_title_preview, fb_share_text_preview, sharesubsubtitle;
private ViewSwitcher switcher; 
private LinearLayout fb_preview_keeper, mainlayoutholderfbshare, loggedinscreen;
String subject, content;
private boolean switched;
private UiLifecycleHelper uiHelper;
private static final int REAUTH_ACTIVITY_CODE = 100;
private UserSettingsFragment usersetting;
private static final List<String> PERMISSIONS = Arrays.asList("publish_actions");
private Session.StatusCallback callback = 
    new Session.StatusCallback() {
    @Override
    public void call(Session session, 
            SessionState state, Exception exception) {
        onSessionStateChange(session, state, exception);
    }
};

/**
 * empty constructor
 */
public Fragment_shareFacebook(){

}

@Override
/**
 * initialize the intentleaveset to inform main that we have an intent based leave standing by
 */
public void onAttach(Activity activity) {
    super.onAttach(activity);
    context = getActivity();
    intentleaveset=(MainActvityCommunicatorIntentBasedLeaveManagement) context;
}

@Override
/**
 * get the content that needs to be shared, also retrieve the pendingPublishReauthorization if necessary
 */
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    this.setHasOptionsMenu(true);
    uiHelper = new UiLifecycleHelper(this.getActivity(), callback);
    uiHelper.onCreate(savedInstanceState);
    subject = getArguments().getString("subject");
    content = getArguments().getString("text");

}
@Override
public void onResume() {
    super.onResume();
    uiHelper.onResume();
    Session session = Session.getActiveSession();
    this.onSessionStateChange(session, session.getState(), null);
}

@Override
public void onPause() {
    super.onPause();
    uiHelper.onPause();
}

@Override
public void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);
    if(requestCode==REAUTH_ACTIVITY_CODE){
        uiHelper.onActivityResult(requestCode, resultCode, data);
    }
}

@Override
public void onDestroy() {
    super.onDestroy();
    uiHelper.onDestroy();
}

@Override 
public void onDestroyView(){
    //note: we have to remove the fragment again!
    try{
        FragmentTransaction transaction = this.getActivity().getSupportFragmentManager().beginTransaction();
        transaction.remove(usersetting);
        transaction.commit();
    }catch(Exception e){

    }
    super.onDestroyView();
}

@Override
public void onSaveInstanceState(Bundle outState) {
    super.onSaveInstanceState(outState);
    uiHelper.onSaveInstanceState(outState);
}
//hvg: dze even disecten.
public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {
    v = inflater.inflate(R.layout.fragment_facebook_share, container, false);
    textInstructionsOrLink = (TextView) v.findViewById(R.id.textInstructionsOrLink);
    fb_share_title_preview= (TextView) v.findViewById(R.id.fbsharetitlepreview);
    fb_share_text_preview= (TextView) v.findViewById(R.id.fbsharetextpreview);
    sharesubsubtitle=(TextView) v.findViewById(R.id.sharesubsubtitle);
    loggedinscreen=(LinearLayout) v.findViewById(R.id.loggedinscreen);
    usersetting=(UserSettingsFragment) this.getActivity().getSupportFragmentManager().findFragmentById(R.id.userSettingsFragment);
    //authButton = (LoginButton) v.findViewById(R.id.authButton);
    shareButton = (Button) v.findViewById(R.id.shareButton);
    //usernamefield= (TextView) v.findViewById(R.id.selection_user_name);
    toshareText = (EditText) v.findViewById(R.id.toshareText);
    fb_preview_keeper= (LinearLayout) v.findViewById(R.id.fb_preview_keeper);
    mainlayoutholderfbshare = (LinearLayout) v.findViewById(R.id.mainlayoutholderfbshare);
    switcher=(ViewSwitcher)v.findViewById(R.id.fb_switcher);
    mainlayoutholderfbshare.setOnTouchListener(new View.OnTouchListener() {

            @Override
            public boolean onTouch(View v, MotionEvent event) {
                // TODO Auto-generated method stub
                if(toshareText.isFocused()){

                    Log.i("Focussed", "--" + event.getX() + " : " + event.getY() + "--");

                    if (toshareText.isFocused()) {
                        Rect outRect = new Rect();
                        toshareText.getGlobalVisibleRect(outRect);
                        if (!outRect.contains((int)event.getRawX(), (int)event.getRawY())) {
                            toshareText.clearFocus();
                            InputMethodManager imm = (InputMethodManager) v.getContext().getSystemService(Context.INPUT_METHOD_SERVICE); 
                            imm.hideSoftInputFromWindow(v.getWindowToken(), 0);
                        }
                    }
                }
                Log.i("X-Y coordinate", "--" + event.getX() + " : " + event.getY() + "--");
            //Toast.makeText(getBaseContext(), "Clicked", Toast.LENGTH_SHORT).show();
                return false;
            }
        });
    //toshareText.setText(content);
    switcher=(ViewSwitcher) v.findViewById(R.id.fb_switcher);
    sharedText=(TextView) v.findViewById(R.id.sharedText);
    if(switcher.getDisplayedChild()==0){
        switched=false;
    }else{
        switched=true;
    }
    //note that we need a custom onclicklistener to share the story to fb 
    shareButton.setOnClickListener(new OnClickListener(){

        @Override
        public void onClick(View v) {
            intentleaveset.setIntentleave(true);
            publishStory();

        }

    });
   //note to main: we are leaving with an intent!
    intentleaveset.setIntentleave(true);
    Log.d("fsf: leaveintent","settrue");

    Session session = Session.getActiveSession();
    SessionState state = Session.getActiveSession().getState();
    onSessionStateChange(session, state, null);
    return v;
}

private void onSessionStateChange(Session session, SessionState state, Exception exception) {
    // Only make changes if the activity is visible
    intentleaveset.setIntentleave(true);
    Log.d("switcher-init", Integer.toString(switcher.getDisplayedChild()));
    if (state.isOpened()) {
        // If the session state is open:
        // Show the authenticated fragment
        shareButton.setVisibility(View.VISIBLE);
        toshareText.setVisibility(View.VISIBLE);
        fb_preview_keeper.setVisibility(View.VISIBLE);

        LayoutParams params = fb_preview_keeper.getLayoutParams();
        params.height=LayoutParams.WRAP_CONTENT;
        params.width=LayoutParams.MATCH_PARENT;
        fb_preview_keeper.setLayoutParams(params);

        params=shareButton.getLayoutParams();
        params.height=LayoutParams.WRAP_CONTENT;
        params.width=LayoutParams.MATCH_PARENT;
        shareButton.setLayoutParams(params);
        params=toshareText.getLayoutParams();
        params.width=LayoutParams.MATCH_PARENT;
        params.height=LayoutParams.WRAP_CONTENT;
        toshareText.setLayoutParams(params);
        toshareText.setMinLines(3);
        toshareText.setScroller(new Scroller(context));
        toshareText.setVerticalScrollBarEnabled(true);
        fb_share_title_preview.setText(subject);
        fb_share_text_preview.setText(getString(R.string.facebook_share_subtitle).concat("\n \n").concat(content));
        if(!switched){
            textInstructionsOrLink.setText(getString(R.string.facebookexplanationafterlgoong));
        }else{
            textInstructionsOrLink.setText(getString(R.string.facebookexplanationaftershared));
            if(switcher.getDisplayedChild()!=1){
                switcher.showNext();
            }

            /*
            if(switcher.getDisplayedChild()==1){
                switcher.showPrevious();
            }else{
                switcher.showNext();
            }
            */
        }
        params=loggedinscreen.getLayoutParams();
        params.height=LayoutParams.WRAP_CONTENT;
        loggedinscreen.setLayoutParams(params);
        sharesubsubtitle.setFocusable(true);
        sharesubsubtitle.requestFocus();
    } else {
        // If the session state is closed:
        // Show the login fragment
        if(switcher.getDisplayedChild()==1){
            switcher.showPrevious();
        }

        switched=false;
        shareButton.setVisibility(View.INVISIBLE);
        //shareButton.setHeight(0);
        toshareText.setVisibility(View.INVISIBLE);
        //toshareText.setHeight(0);
        //LayoutParams params = switcher.getLayoutParams();
        //params.height=0;
        //params.width=params.MATCH_PARENT;
        //switcher.setLayoutParams(params);
        //fb_preview_keeper.setVisibility(View.INVISIBLE);
        //params = fb_preview_keeper.getLayoutParams();
        //params.height=0;
        //params.width=params.MATCH_PARENT;
        //fb_preview_keeper.setLayoutParams(params);
        LayoutParams params=loggedinscreen.getLayoutParams();
        params.height=0;
        loggedinscreen.setLayoutParams(params);
        sharedText.setText("");
        textInstructionsOrLink.setText(this.getResources().getString(R.string.facebookexplainbeforelogon));

    }
}

private void publishStory() {
    Session session = Session.getActiveSession();

    if (session != null){

        // Check for publish permissions    
        List<String> permissions = session.getPermissions();
        if (!isSubsetOf(PERMISSIONS, permissions)) {
            Session.NewPermissionsRequest newPermissionsRequest = new Session
                    .NewPermissionsRequest(this, PERMISSIONS)
                    .setRequestCode(REAUTH_ACTIVITY_CODE);
            session.requestNewPublishPermissions(newPermissionsRequest);
            //session.reauthorizeForPublish(newPermissionsRequest);
            return;
        }

        Bundle postParams = new Bundle();
        postParams.putString("name", subject);
        postParams.putString("caption", getString(R.string.facebook_share_subtitle));
        postParams.putString("description", content);
        if(toshareText.getText()!=null){
            postParams.putString("message",  toshareText.getText().toString());
        }else{
            postParams.putString("message",  " ");
        }
        postParams.putString("link", "http://www.thewonderweeks.com");
        postParams.putString("picture", "www.thewonderweeks.com/apple-touch-icon-114x114.png");

        Request.Callback callback= new Request.Callback() {
            public void onCompleted(Response response) {
                JSONObject graphResponse;
                try{
                    graphResponse = response
                                           .getGraphObject()
                                           .getInnerJSONObject();
                }catch (Exception e){
                    if(e.getMessage()!=null){
                        Log.d("errorinFBcallback", e.getMessage());
                    }
                    return ;
                }
                String postId = null;
                try {
                    postId = graphResponse.getString("id");
                } catch (JSONException e) {
                    Log.i("errormessagefacebookfragmenthtingy",
                        "JSON error "+ e.getMessage());
                }
                FacebookRequestError error = response.getError();
                if (error != null) {
                    Toast.makeText(getActivity()
                         .getApplicationContext(),
                         error.getErrorMessage(),
                         Toast.LENGTH_SHORT).show();
                    } else {
                        Log.d("post id of posted material", postId);
                        shareButton.setVisibility(View.INVISIBLE);
                        if(switcher.getDisplayedChild()!=1){
                            switcher.showNext();
                        }
                        switched=true;
                        sharedText.setText(getString(R.string.successhare).concat(" ").concat(toshareText.getText().toString()));
                        textInstructionsOrLink.setText(getString(R.string.facebookexplanationaftershared));
                }
            }
        };

        Request request = new Request(session, "me/feed", postParams, 
                              HttpMethod.POST, callback);

        RequestAsyncTask task = new RequestAsyncTask(request);
        task.execute();
    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T07:34:49.927

我假设您遵循了 facebook 开发人员教程。如果是这样，您使用此命令生成您的密钥

```
keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | openssl sha1 -binary | openssl base64 
```

您还必须使用发布密钥库创建一个密钥并将其注册到 facebook。

# django - 在模块内运行每个 TestCase

> ID：14869381
> 
> 赞同：1
> 
> 时间：2013-02-14T06:57:21.160
> 
> 标签：django, django-testing

如何`TestCase`在测试包下的特定模块中运行所有类的测试？

在一个 Django 项目中，我在 tests/ 下拆分了 tests.py
每个文件（模块）有几个 TestCase 类，每个类都有几个测试方法。 **init** .py 导入它们中的每一个。

我已经知道我可以做到这些：

1.  运行所有测试：

    ```
    ./manage.py test myapp 
    ```

2.  或者运行特定的TestCase：

    ```
    ./manage.py test myapp.OneOfManyTestCase 
    ```

3.  或者从 TestCase 类运行非常具体的测试方法：

    ```
    ./manage.py test myapp.OneOfManyTestCase.test_some_small_method 
    ```

但是，我无法弄清楚如何从特定模块运行每个 TestCases。
比如说，`OneOfManyTestCase`class is from `tests/lot_of_test.py`，还有其他的测试用例。
Django 似乎并不关心带有 TestCases 的模块。

我怎样才能在里面运行所有的测试用例`lot_of_test`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T14:48:05.040

我认为要实现这一点，您需要从[DjangoTestSuiteRunner 继承](https://github.com/django/django/blob/master/django/test/simple.py#L238)您自己的 TestRunner并覆盖`build_suite`方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-15T18:25:40.673

我最终[写下了我自己的 TestSuiteRunner](https://gist.github.com/jangxyz/4962222)，就像[@sneawo](https://stackoverflow.com/users/1885757/sneawo)说的那样。

在 Django-style 失败后，尝试照常导入 python-style。

要修复的[一行：](https://github.com/django/django/blob/1.4.3/django/test/simple.py#L261)

```
suite.addTest(build_test(label)) 
```

进入

```
try:
    suite.addTest(django.test.simple.build_test(label))
except ValueError:
    # change to python-style package name
    head, tail = label.split('.', 1)
    full_label = '.'.join([head, django.test.simple.TEST_MODULE, tail])
    # load tests
    tests = unittest.defaultTestLoader.loadTestsFromName(full_label)
    suite.addTests(tests) 
```

`TEST_RUNNER`并设置`settings.py`：

```
TEST_RUNNER='myapp.tests.module_test_suite_runner.ModuleTestSuiteRunner' 
```

# ios - 当我点击 UITextView 时，如何让我的 iOS 应用程序显示东方阿拉伯小数点？

> ID：14869383
> 
> 赞同：2
> 
> 时间：2013-02-14T06:57:29.133
> 
> 标签：ios, localization, arabic, iphone-keypad

我有一个使用 IB 在 XIB 上创建的 UITextView。我将“键盘”属性设置为“小数点”，但无论我如何更改 iOS 偏好设置，它都不会显示带有[东方阿拉伯数字](http://en.wikipedia.org/wiki/Eastern_Arabic_numerals)的键盘（٠‎ ١‎ ٢‎ ٣‎ ٤‎ ٥‎ ٦‎ ٧‎ ٨ ٩‎)。

如何设置我的 iPhone 首选项或者我需要在 IB 中做什么或我的代码在用户设置阿拉伯语区域设置时让 iPhone 显示阿拉伯语键盘？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2018-09-03T11:28:08.877

我想您需要添加一种新的键盘语言。转到设置 -> 常规 -> 键盘 -> 键盘 -> 添加新键盘，然后选择所需的键盘。如果您想要阿拉伯语优先级，请单击“编辑”按钮并通过拖动来更改优先级。这将使阿拉伯语键盘首先打开。

# vba - 解释VBA中的编码

> ID：14869385
> 
> 赞同：-3
> 
> 时间：2013-02-14T06:57:37.337
> 
> 标签：vba

```
 Dim fdg As FileDialog
    Set fdg = Application.FileDialog(msoFileDialogFilePicker)
    fdg.Filters.Add "Text Documents", "*.dat", 1

    While fdg.Filters.Count > 1
        fdg.Filters.Delete 2
    Wend

    With fdg
        .AllowMultiSelect = False
        .InitialFileName = "c:\"
        .InitialView = msoFileDialogViewDetails
        If .Show = -1 Then
            For Each vrtSelectedItem In .SelectedItems    'onby be 1
                strSelectedFile = vrtSelectedItem
            Next vrtSelectedItem
        Else
        End If
    End With
    Set fd = Nothing
    If Not IsEmpty(strSelectedFile) Then
        Filenametxt = strSelectedFile
    End If 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T07:05:08.337

这段代码似乎允许用户打开`*.dat`文件并通过所选文件的路径分配`Filenametxt`变量。

但在我看来，您应该自己学习，而不仅仅是要求我们向您解释。

# jquery - 在 FB iframe 选项卡上的 jquery 灯箱库的视点有问题

> ID：14869386
> 
> 赞同：0
> 
> 时间：2013-02-14T06:57:38.873
> 
> 标签：jquery, lightbox, facebook-iframe, prettyphoto

我在我的一个 FB iframe 选项卡中使用 prettyPhoto 灯箱库，由于某种原因，它的行为与页面源上的不同。问题是页面又窄又长，并且灯箱在页面中间打开，位于视点上。此问题仅发生在 FB iframe 选项卡上。

链接到 iframe 选项卡：[https ://www.facebook.com/f2f.co.il/app_224451324266028](https://www.facebook.com/f2f.co.il/app_224451324266028)

链接到来源： http: [//fbstorage.co.il/f2f/portfolio/](http://fbstorage.co.il/f2f/portfolio/)

将不胜感激任何帮助，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T00:17:45.980

同样的问题...

几个小时后，找到了使用 prettyphoto changepicture 回调的解决方案：

```
changepicturecallback: function(){
    FB.Canvas.getPageInfo(
        function(info) {
            $(".pp_pic_holder").css('top', Math.max(parseInt(info.scrollTop) - parseInt(info.offsetTop), 0));
        }
    );
} 
```

问候。

# nginx - Nginx#ngx_http_limit_req_module：超过速率后多久返回503？

> ID：14869390
> 
> 赞同：6
> 
> 时间：2013-02-14T06:57:55.510
> 
> 标签：nginx

说我设置

```
limit_req_zone $binary_remote_addr zone=one:10m rate=1r/s;

server {
    location / {
        limit_req zone=one burst=5 nodelay;
    } 
```

然后*5 秒*，我每秒发送*10 个请求。*

哪个请求应该看到 a `200`，哪个应该看到 a `503`？
它会是每 10 个请求中的第一个吗？

或者是否`nginx`跟踪*不良用户*不断发送请求，在这种情况下，只有 50 个请求中的第一个会得到`200`?

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-16T16:43:20.267

正如文档中所述：http: [//nginx.org/en/docs/http/ngx_http_limit_req_module.html](http://nginx.org/en/docs/http/ngx_http_limit_req_module.html) nginx 使用“漏桶”算法，该算法在网络领域很简单且很常见。你可以在维基百科上阅读它：[http ://en.wikipedia.org/wiki/Leaky_bucket](http://en.wikipedia.org/wiki/Leaky_bucket)

至于你的问题（`rate=1r/s burst=5 nodelay`），实际上它会是这样的：

```
要求# | 时间（秒）| 回复
   1 0 200 正常
   2 0.1 200 正常
   3 0.2 200 正常
   4 0.3 200 正常
   5 0.4 200 正常
   6 0.5 200 正常
   7 0.6 503
   8 0.7 503
   9 0.8 503
  10 0.9 503
  11 1.0 200 正常
  12 1.1 503
  13 1.2 503
  14 1.3 503
  15 1.4 503
  16 1.5 503
  17 1.6 503
  18 1.7 503
  19 1.8 503
  20 1.9 503
  21 2.0 200 正常
  22 2.1 503
  23 2.2 503
  24 2.3 503
  25 2.4 503
  26 2.5 503
  27 2.6 503
  28 2.7 503
  29 2.8 503
  30 2.9 503
  31 3.0 200 正常
  32 3.1 503
  33 3.2 503
  34 3.3 503
  35 3.4 503
  36 3.5 503
  37 3.6 503
  38 3.7 503
  39 3.8 503
  40 3.9 503
  41 4.0 200 正常
  42 4.1 503
  43 4.2 503
  44 4.3 503
  45 4.4 503
  46 4.5 503
  47 4.6 503
  48 4.7 503
  49 4.8 503
  50 4.9 503

```

# javascript - 在 javascript 对象中使用参数调用函数

> ID：14869396
> 
> 赞同：0
> 
> 时间：2013-02-14T06:58:09.853
> 
> 标签：javascript, javascript-objects

我想打印任何对象。我希望你明白，我想要什么。我是新的。下面是我的代码，

```
function abhi(x)
{
    var abhi = new Object();
    abhi.first_name = "abhijit";
    abhi.last_name = "Das";
    abhi.age = 22;
    document.getElementById("name").innerHTML = abhi.x ;
}
</script>
<p id="name"></p>
<input type="submit" name="submit" value="Name" onclick="abhi(age)"/>
</body> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T07:01:27.770

在 HTML 中，您需要传递一个字符串：

```
onclick="abhi('age')" 
```

如果`age`是包含 的变量`"age"`，则可以。

然后你可以像这样在脚本中使用它：

```
document.getElementById("name").innerHTML = abhi[x]; 
```

[您可以在MDN](https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Working_with_Objects#Objects_and_properties)阅读有关括号符号和对象的更多信息。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T07:01:46.507

您必须使用方括号表示法通过传递字符串来访问对象的属性。

```
document.getElementById("name").innerHTML = abhi[x];
...
<input type="submit" name="submit" value="Name" onclick="abhi('age')"/> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T07:10:28.807

```
<script type="text/javascript">
function getAbhi(x) {

    var abhi = {
        first_name: "abhijit",
        last_name: "Das",
        age: 22
    };

    document.getElementById("name").innerHTML = abhi[x];
}
</script>

<p id="name"></p>
<input type="submit" name="submit" value="Name" onclick="getAbhi('age')" /> 
```

[http://jsfiddle.net/samliew/H7Zs9/7/](http://jsfiddle.net/samliew/H7Zs9/7/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-14T07:07:52.080

你必须使用这条线

```
document.getElementById("name").innerHTML = abhi[x] ; 
```

# python - 正则表达式中的 Python 宏

> ID：14869400
> 
> 赞同：0
> 
> 时间：2013-02-14T06:58:32.187
> 
> 标签：python, macros, python-2.7

在以下情况下，我使用`"|"`条件匹配多个搜索模式并将所有搜索模式替换为该值。它工作得很好。但是 python 是否有任何 MACRO 类型的东西，我可以在其中编写所有模式并在搜索模式中调用它？并一次替换所有模式。因为我必须编写近 20 到 30 个搜索模式。请帮助我实现这一点。

提前致谢。

```
import re

st = '''<h5>Reglar</h5>
<h5>Lateral</h5>
<h5>Daily</h5>
<h5>Weekly</h5>
<h5>Monthly</h5>
<h5>Quaterly</h5>
<h5>Yearly</h5>
<h5>Halfyearly</h5>'''

vr = re.sub(r'(?i)<h5>(Lateral|Halfyearly|Monthly)</h5>', "<h5>FINAL</h5>", st)
print vr 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T07:07:30.080

Python 没有宏。

我不确定你在追求什么，但是：

可以通过编程方式构建包含正则表达式的字符串：

```
frequncy_str = ('Lateral', 'Daily', 'Weekly', 'Monthly')
re_str = '(?i)<h5>(' + '|'.join(frequency_str) + ')</h5>' 
```

为了获得更好的性能，如果要执行多次匹配，则应编译正则表达式：

```
 re_pat = re.compile(re_str) 
```

# matlab - 在 MATLAB 图中查找自动调整轴的范围

> ID：14869402
> 
> 赞同：2
> 
> 时间：2013-02-14T06:58:56.747
> 
> 标签：matlab, matlab-figure

我正在创建一个 2d MATLAB 图。我正在设置 x 轴的限制，并让我的 y 轴自动调整（通过将其限制设置为 [-inf inf]）。创建绘图后，我需要检查我的 y 轴已自动调整为什么（因为我将创建一个热图放在我的绘图下）。

不幸的是，ylim（和类似的函数）只产生 [-inf inf]，而不是轴调整到的任何东西。

重现此问题的一些代码（比我的实际代码简单得多）是：

```
function createplot(xbounds)
x = xbounds(1):0.5:xbounds(2);
y = x.^2;
plot(x,y);
axis([xbounds,-inf,inf]);

createplot([0,10]) 
```

这会产生一个 y 限制 = [0,100] 的抛物线图。但是，ylim = [-inf, inf]。

任何帮助，将不胜感激！

/ 威尔伯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T07:55:40.227

正如@Shai 建议的那样，`axis`可以提供有关 ylimits 的信息，而无需将它们设置为`[-inf,inf]`或使用 axis 来设置 x 轴边界：

```
xbounds=[1 10]
x = xbounds(1):0.5:xbounds(2);
y = x.^2;
plot(x,y);
xlim([xbounds(1) xbounds(2)]);
v=axis 

v =
     1    10     0   100 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T08:08:35.593

看着[@natan 的回答](https://stackoverflow.com/a/14870186/1714410)，我认为您的问题的解决方案是

## 不要`[-inf inf]`用于自动调整轴限制。

如果您希望 Matlab 自动调整您的某些轴限制并手动设置其他轴，那么您应该使用`xlim`,`ylim`或`zlim`用于您希望设置的特定轴并**保持所有其他轴不变**，以便 Matlab 可以自动设置它们。这样您就不会覆盖 Matlab 分配给这些轴的值，
并且您将能够使用`axis`、或读取它们。`xlim``ylim``zlim`

请参阅@natan 的答案以获取更正的代码。

# ruby-on-rails-3 - 如何使用架构创建重复行

> ID：14869406
> 
> 赞同：0
> 
> 时间：2013-02-14T06:59:02.200
> 
> 标签：ruby-on-rails-3, indexing, schema, duplicates

在 Rail 中，我有这个模式（用于汽车和用户 habtm 之间的连接表）

```
 create_table "cars_users", :id => false, :force => true do |t|
    t.integer "user_id"
    t.integer "car_id"
  end

  add_index "cars_users", ["car_id", "user_id"], :name => "index_cars_users_on_car_id_and_user_id"
  add_index "cars_users", ["user_id", "car_id"], :name => "index_cars_users_on_user_id_and_car_id" 
```

但由于一些错误，我在这个表中有重复的行。

不应该`index`处理吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:11:01.403

尝试：

```
add_index :cars_users, [ :user_id, :car_id ], :unique => true, :name => 'by_user_and_car' 
```

它会引发异常，但您可以添加自己的验证

```
class User < ActiveRecord::Base
  has_and_belongs_to_many :cars, :before_add => :validates_car
  def validates_car(car)
    errors.add(:car, "already created" ) if self.cars.include? car
  end
end 
```

# windows-8 - 如何在 Win Phone 8 的 LongListSelector 中支持多项选择

> ID：14869410
> 
> 赞同：1
> 
> 时间：2013-02-14T06:59:11.803
> 
> 标签：windows-8, windows-phone-8

我想在我的 win phone8 应用程序中的 LongListSelector 中添加多个选择，但我找不到办法做到这一点？

1.是否支持？

2.如果（1.）结果是“否”，那么如何实现呢？

(Win phone8 + XAML +C# )

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-14T09:34:51.117

使用[Windows Phone Toolkit](http://phone.codeplex.com/)`LongListMultiSelector`中的控件

# iphone - Iphone 无线读取和显示串行数据流

> ID：14869415
> 
> 赞同：1
> 
> 时间：2013-02-14T06:59:18.283
> 
> 标签：iphone, ios, bluetooth, serial-port, wifi

我有一个通过串行端口提供恒定输出数据流的设备。我想使用这些数据并在应用程序中有用地显示它。我对蓝牙或 WiFi 连接都开放。我宁愿使用蓝牙，但从我目前所阅读的内容来看，没有 MFI 程序，蓝牙是一个非入门者，所以我的重点主要放在 wifi 连接上。我之前没有在任何应用程序中使用过任何串行 I/O。

该产品作为一种简单的传输解决方案引起了我的注意。该产品能否达到我希望使用的目的？我有更好的选择吗？

[http://www.usconverters.com/index.php?main_page=product_info&products_id=404](http://www.usconverters.com/index.php?main_page=product_info&products_id=404)

总的来说，我的 ios 开发经验和编程非常有限，在这里我可能有点过头了，但急于推进该项目。我感谢任何有用的信息。

# ios - 如何为 iOS 原生应用制作 Adob e Air Extension

> ID：14869416
> 
> 赞同：0
> 
> 时间：2013-02-14T06:59:21.070
> 
> 标签：ios, air

我在互联网上搜索但没有找到任何答案。

问题 1# 是否可以在原生 iOS 应用程序中使用 Adob​​e air 应用程序？？

让我解释一下，我将开发一个 iOS 应用程序，我必须在其中播放 flv 文件。我在 adobe air 中创建了一个应用程序，它在 iOS 中播放 flv 文件，但我想在我的本机应用程序中播放 flv 而不离开该本机应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T10:32:30.110

我只是想告诉你，如果你在IOS中播放adobe AIR FLV文件，它不会播放，因为IOS不支持FLV，我不确定你是否将FLV放在IOS原生应用程序中并播放它，但它是独立的不会玩，所以先在没有native的情况下测试它，然后尝试在native中实现它。

# html - 无法设置默认文本框值

> ID：14869421
> 
> 赞同：0
> 
> 时间：2013-02-14T06:59:49.967
> 
> 标签：html, css, twitter-bootstrap, angularjs, angularjs-directive

这是我的`angularjs`应用程序的html代码

```
<input type="text" class="input-xlarge" id="user_name" ng-model="myModel.text1" 
   name="user_name" rel="popover" data-content="Enter your first and last name."
   data-original-title="Full Name"> 
```

这是构造函数代码

```
 function MyCtrl2($scope) {
         var initial = {text1: 'initial value'};
         var ini = {text2: 'initialvalue'};
         $scope.myModel = angular.copy(initial);
         $scope.myModel = angular.copy(ini);
}

MyCtrl2.$inject = ['$scope']; 
```

只有一个文本框中的默认值`usr_email`被填充。但不能在`user_name` 任何一点可能有问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:29:04.870

您不能使用**[angular.copy](http://docs.angularjs.org/api/angular.copy)**，因为它会在第二次使用时覆盖 $scope.myModel（复制 init 时）。改用**[angular.extend](http://docs.angularjs.org/api/angular.extend)**将 ini 和 initial 的所有属性复制到模型中：

```
function MyCtrl2($scope) {
     var initial = {text1: 'initial value'};
     var ini = {text2: 'initialvalue'};
     $scope.myModel = {};
     angular.extend($scope.myModel, initial, ini);
} 
```

# jquery - 通过 Javascript 更改 HTML5 视频标签的宽度和高度

> ID：14869424
> 
> 赞同：5
> 
> 时间：2013-02-14T06:59:56.973
> 
> 标签：jquery, html, html5-video

我在客户端 JS 中有以下代码：

```
$(function() {
  $("#player1").html(
    '<video width=' + width + ' height=' + height + ' autoplay>' +
      '<source src=' + curPlayListHrefs[0] + ' type="video/youtube"></source>' +
    '</video>'
  );
}); 
```

我试过：

```
 var video = document.getElementsByTagName("video")[0];
  video.videoHeight = 300;
  video.videoWidth = 700; 
```

我可以更改视频标签的宽度/高度吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-14T07:05:28.907

尝试设置它的宽度和高度属性

```
var video = document.getElementsByTagName("video")[0];
video.setAttribute('height', '300');
video.setAttribute('width', '700'); 
```

或设置其宽度和高度属性

```
var video = document.getElementsByTagName("video")[0];
video.height = 300;
video.width = 700; 
```

# android - 安卓的多种屏幕尺寸支持？

> ID：14869425
> 
> 赞同：0
> 
> 时间：2013-02-14T07:00:14.163
> 
> 标签：android

我正在`layout`使用一些自定义按钮（不是 android 默认提供的按钮）在 android 中创建一个简单的按钮。图像在 2.7 到 5.1 的屏幕尺寸上显示正确。但是`buttons`在屏幕尺寸 5.4 和更大尺寸（尝试到屏幕尺寸 7）上出现拉伸。我制作了四个相同的图像，以不同的密度命名它们，并将它们相应地放置在文件夹中`ldpi,mdpi,hdpi,xhpi`。我需要知道我是否需要`layouts`为不同的屏幕创建不同的图像？或者 android 会自动从相应的文件夹中获取图像？一些人请指导我，因为我是 android 新手，因为我正在努力创建`layouts`针对 android 移动设备的目标。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-14T07:05:29.203

如果您始终如一地设计布局，则无需定义不同的`layout`文件夹（`layout-land`、、、 ）。将负责（关于显示）。您唯一需要做的就是 在您的和下面 添加：`layout-large``layout-small``Android OS``images``<support-screens>``manifest``<support-screens>`

```
 <supports-screens android:resizeable=["true"| "false"]
              android:smallScreens=["true" | "false"]
              android:normalScreens=["true" | "false"]
              android:largeScreens=["true" | "false"]
              android:xlargeScreens=["true" | "false"]
              android:anyDensity=["true" | "false"]
              android:compatibleWidthLimitDp="integer"
              android:largestWidthLimitDp="integer"/> 
```

创建一致布局的提示：

1.  不要硬编码任何`layout`参数，例如`width`，`height`等。
2.  不要使用“ `px`” 。使用“ `sp`”作为文本大小，使用“ `dp`”作为`layout-width`等`layout-height`。
3.  使用`RelativeLayout`和`LinearLayout`不使用`AbsoluteLayout`，因为它已被弃用。
4.  `ScrollView`在需要的地方使用，因为`layouts`它支持单视图。

有关更多信息，请查看[Support Multiple Screens](http://developer.android.com/guide/practices/screens_support.html)的 Android 开发人员文档。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-14T07:18:55.167

您应该采用为不同的屏幕尺寸编写不同的布局xml并将它们放入res文件夹中。

对于由于 Android 版本而接近不同的密度，可以这样进行

```
res/layout/mylayout.xml       # Default layouts
res/layout-v4/mylayout.xml    # Android 1.6 layouts
res/layout-v11/mylayout.xml   # Android 3.0 layouts 
```

而对于不同的屏幕尺寸，您需要一些像这样的布局：

```
res/layout/main_activity.xml           # For handsets (smaller than 600dp available width)
res/layout-sw600dp/main_activity.xml   # For 7” tablets (600dp wide and bigger)
res/layout-sw720dp/main_activity.xml   # For 10” tablets (720dp wide and bigger) 
```

可以在[此处找到有关这些不同布局（限定符）的更多信息。](http://developer.android.com/guide/practices/screens_support.html#NewQualifiers)

也通过这个[问题及其答案](https://stackoverflow.com/questions/5633792/android-app-support-for-multiple-tablet-screen-resolutions)。

注意：在处理不同的屏幕尺寸时始终使用相对布局；这是一个加号。

## 编辑

要了解有关资源限定符的更多信息，这些链接很好。

*   [Nexus 7 的尺寸](http://android-developers.blogspot.in/2012/07/getting-your-app-ready-for-jelly-bean.html)
*   [了解 Android 资源选择器](http://www.vogella.com/articles/AndroidDifferentScreensize/article.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-14T07:01:46.953

以下链接将帮助您了解在 android 中支持多个屏幕：http: [//developer.android.com/guide/practices/screens_support.html](http://developer.android.com/guide/practices/screens_support.html)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-14T07:06:20.820

如果你在所有的密度文件夹中有不同的图片，android会自动从对应的文件夹中取。确保您在密度文件夹中使用九个补丁图像。

看看 [**在 Android 中支持多屏**](http://developer.android.com/guide/practices/screens_support.html)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-14T07:10:30.050

在 manifest.xml 中使用它

```
<supports-screens 
   android:resizeable="true" 
   android:smallScreens="true" 
   android:normalScreens="true" 
   android:largeScreens="true" 
   android:anyDensity="true"/> 
```

[如何解决不同移动设备的Android屏幕尺寸？](https://stackoverflow.com/questions/9029170/how-to-solve-android-screen-size-for-different-mobile-devices/9029215#9029215)

[http://developer.android.com/guide/practices/screens_support.html](http://developer.android.com/guide/practices/screens_support.html)

# java - PaintComponent 中带有 BorderFactory 的图形工件

> ID：14869426
> 
> 赞同：1
> 
> 时间：2013-02-14T07:00:16.570
> 
> 标签：java, swing, graphics, jpanel, visual-artifacts

我有一些我正在编写的拼字游戏代码（实际上是重写），到目前为止它分为 3 个类。当`Tile`该类被放入窗口时，它似乎正在生成一个 BorderFactory 工件。为什么会出现这个神器，我该如何消除它？

*如果您没有看到工件，请尝试慢慢调整窗口大小。

这是`Scrabble`课程。

```
import javax.swing.JFrame;
import java.awt.BorderLayout;
public class Scrabble extends JFrame implements Runnable
{
  public Board board;
  public Scrabble()
  {
    super("Scrabble!");
    board = new Board();
    addBorderLayoutObjects();
  }
  public void run()
  {
    makeSettings();
    setVisible(true);
  }
  public void makeSettings()
  {
    setSize(850, 900);
    setDefaultCloseOperation(EXIT_ON_CLOSE);
    //this.setResizable(false);
  }
  public void addBorderLayoutObjects()
  {
    getContentPane().add(BorderLayout.CENTER, board);
  }
  public static void main(String[] args)
  {
    Scrabble s = new Scrabble();
    javax.swing.SwingUtilities.invokeLater(s);
  }
} 
```

这是`Board`课程。

```
import javax.swing.JPanel;
import java.awt.Point;
import java.awt.Color;
import java.awt.GridLayout;
public class Board extends JPanel
{
  public Tile [][] board;
  public Board()
  {
    super(new GridLayout(15, 15));
    board = new Tile[15][15];
    makeBoard();
  }
  public void makeBoard()
  {
    for(int k = 0; k < 225; k++)
    {
      board[k/15][k%15] = new Tile(new Color(0xCBC4A8), Color.BLACK);
    }
    for(int a = 0; a < 15; a++)
      {
        for(int l = 0; l < 15; l++)
        {
          add(board[a][l]);
        }
      }
  }
} 
```

和`Tile`班级。

```
import javax.swing.JPanel;
import javax.swing.BorderFactory;
import java.awt.Point;
import java.awt.Color;
import java.awt.Graphics;
import java.awt.event.MouseListener;
import java.awt.event.MouseEvent;
public class Tile extends JPanel implements MouseListener
{
  private Color color;
  private Color border;
  public Tile(Color _color, Color _border)
  {
    color = _color;
    border = _border;
  }
  public void mouseEntered(MouseEvent e){}
  public void mouseExited(MouseEvent e){}
  public void mousePressed(MouseEvent e){}
  public void mouseReleased(MouseEvent e){}
  public void mouseClicked(MouseEvent e){}
  @Override
  public void paintComponent(Graphics g)
  {
    g.setColor(color);
    setBorder(BorderFactory.createLineBorder(border, 2));
  }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:54:38.127

这是您的第一个问题（可能是您的第二个问题）

```
public void paintComponent(Graphics g)
{
    g.setColor(color);
    setBorder(BorderFactory.createLineBorder(border, 2));
} 
```

首先，您必须致电`super.paintComponent`或对其行为负责。这将清除并准备`Graphics`进一步绘画的背景。

其次，您不应该从`paintXxx`可能导致其无效或重绘的方法中修改任何 UI 组件。这样做会结束你烧CPU的无限循环......

在构造函数中设置边框或根据程序需要更改它，不要在`paint`方法中这样做......

**更新了其他示例**

当您需要更改边框时，只需调用`setBorder`您要更改的标题的实例......

```
public Tile(Color _color, Color _border)
{
    color = _color;
    border = _border;
    setBorder(BorderFactory.createLineBorder(border, 2));
} 
```

或者

```
Title tile = new Tile(Color.RED, Color.BLUE);
//...
title.setBorder(BorderFactory.createLineBorder(Color.GREEN, 2)); 
```

查看[如何使用边框](http://docs.oracle.com/javase/tutorial/uiswing/components/border.html)了解更多信息...

# c++ - 缓冲区帮助中的 Int16 (BE)

> ID：14869433
> 
> 赞同：0
> 
> 时间：2013-02-14T07:00:51.450
> 
> 标签：c++, short

好吧，这是我的问题。我从一个文件中读取了两个字节。

假设这些字节是“FD 37”-应该是：64823

我正在阅读大端，所以我尝试了数组反转小端，然后尝试位移动。我确实需要帮助，因为我无法得到这个。任何帮助表示赞赏。

（是的，我知道这是一个贫民窟阵列反向..）

```
static void Reverse(BYTE* &buffer, long length)
{
    BYTE *obuff = new BYTE[length];
    for(int i=0; i<length; i++)
        obuff[length-i-1] = buffer[i];
    obuff[length] = '\0';
    buffer = obuff;
}

typedef signed short int Int16;

Int16 ReadInt16()
{
    Int16 val;
    BYTE* bytes = new BYTE[2];
    Read(bytes, 0, 2); //just stores 2 bytes into bytes and advances buffer 2 positions.
    Array::Reverse(bytes,2);
    val = bytes[0] | (bytes[1] << 8);
    return val;
} 
```

我使用该方法的结果是 -753

有任何想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T07:07:03.027

如果你想要一个无符号数，你应该使用无符号类型而不是有符号类型。

# magento - 表费率在 Magento 中没有给出正确的运费值？

> ID：14869434
> 
> 赞同：0
> 
> 时间：2013-02-14T07:00:58.753
> 
> 标签：magento, shipping

我已经实现了表率，它看起来像![图片链接](../Images/646c6072b1aae643d94980a817d55232.png)

如果我的订单总数是 350 或 500 或 800 全部情况下，我得到 35 作为运费

我选择了条件作为“价格与目的地”。

所以请指教

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-19T07:45:39.700

所有字段都是正确的，只需让订单（小计）先写 500，然后写 200，最后写 0 相同的运费。这肯定会解决你的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-05-12T13:52:51.783

运输订单小计不包括税率。检查您是否有包含费率的价格并更新表中的值以检查不含费率的值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-01-15T17:13:09.453

问题在于从示例数据继承的设置。它实际上是一条促销规则，对 500 美元以上的订单适用免费送货。

要解决此问题：促销 > 购物车价格规则

# sorting - 在 lucene.net 结果中设置优先级

> ID：14869437
> 
> 赞同：1
> 
> 时间：2013-02-14T07:01:04.010
> 
> 标签：sorting, lucene.net

我正在使用这样的`Lucene.Net`查询

```
(PropertyID:1 OR PropertyID:25 OR PropertyID:5 OR PropertyID:10 OR PropertyID:15) 
```

我想要`Lucene.Net`按顺序排列的结果`PropertyId`。例如，我通过的第一条记录应该是`PropertyId`25 的 1 秒和 5 的第三条记录。但目前`Lucene.Net`以不同的方式排列结果集。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T18:33:29.500

查询中字段的顺序对排序没有影响。

有两种方法可以实现您正在寻找的排序：

1.  在查询中使用[提升。](https://stackoverflow.com/questions/9829161/lucene-how-to-boost-some-specific-field)您可以将 PropertyID:1 提高到高于其他匹配项，以便这些匹配项得分更高，从而首先出现在结果中，然后将 PropertyID:2 得分第二高，等等。例如： `(PropertyID:1^5 OR PropertyID:25^4 OR PropertyID:5^3 OR PropertyID:10^2 OR PropertyID:15)`这很容易实现，但如果您可能无法正常工作'在您的查询中包含其他标准，因为其他标准会影响评分。

2.  通过您自己的 Comparator 类实现自定义排序。这可能需要相当多的工作，特别是考虑到网络上缺乏用于执行此操作的资源，但是它可以让您最大程度地控制您的排序。这是[一个自定义比较器的示例，](http://blog.tremend.ro/2007/05/17/a-z-0-9-custom-sorting-in-lucene/)用于按字母顺序对字符串值进行排序，这可能是您开始的好地方。

# types - 无开销的切换接口实现

> ID：14869440
> 
> 赞同：4
> 
> 时间：2013-02-14T07:01:32.653
> 
> 标签：types, interface, go, implementation

给定一个接口和两个（或更多）实现，我很难在扩展功能时轻松切换实现。

例如，假设有接口 INumber 支持 Inc 和 String 以及两个实现 NumberInt32 和 NumberInt64 以及它们的明显实现。假设我想在 INumber 之上实现一个 EvenCounter。EvenCounter 只有一个 IncTwice 并且应该调用 Inc 两次。我很难在不使用 EvenCounter 中 INumber 周围的额外结构的情况下获得正确的类型。

```
type INumber interface {
    Inc() 
    String() string
}

type NumberInt32 struct {
    number int32
}

func NewNumberInt32() INumber {
    ret := new(NumberInt32)
    ret.number = 0
    return ret
}

func (this *NumberInt32) Inc() { 
    this.number += 1
}

func (this *NumberInt32) String() string {
    return fmt.Sprintf("%d", this.number)
}

// type NumberInt64.... // obvious 
```

这里是我挣扎的地方

```
type EvenCounter1 INumber // nope, additional methods not possible 
type EvenCounter2 NumberInt32 // nope
func (this *EvenCounter2) IncTwice() {  
for i:=0; i < 2; i+=1 {
    // this.Inc() // Inc not found
    // INumber(*this).Inc() // cannot convert       
    // in, ok := *this.(INumber) // cannot convert
    // v, ok := this.(INumber) // cannot convert
    // a concrete conversion a) does not work and b) won't help
    // here it should be generic
    // v, ok := this.(NumberInt32) 
    // How do I call Inc here on this?
    }
} 
```

只需嵌入结构中即可...

```
type EvenCounter3 struct {
    n INumber
}

func (this *EvenCounter3) IncTwice() {
    n := this.n // that is a step I want to avoid
    n.Inc() // using this.n.Inc() twice makes it slower
    n.Inc()
}

func (this *EvenCounter3) String() string {
    return this.n.String()
} 
```

我可以忍受为每种方法手动实现委托的需要，但显然我想依赖 INumber 而不是具体的实现（这意味着要改变很多地方来尝试另一种实现，但是，我想避免额外的间接和（很可能？）额外的空间。有没有办法避免结构并直接说 EvenCounter 是一个（特定的）INumber 与其他方法？

顺便说一句，真正的例子是一组整数和一个整数到整数的映射，数百万个实例都交织在一起（不，只是 map[int]bool 是不够的——太慢了，bitset 很有趣，取决于用例等。 ) 并通过更改代码中的 2-3 行来轻松测试集合和映射的不同实现（理想情况下，只是类型，可能是实例的通用创建和复制）

任何帮助表示赞赏，我希望这还没有被问到......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-14T07:22:52.027

您使用嵌入的变体实际上并未嵌入。[嵌入字段是匿名的，然后 Go 会自动委托](http://golang.org/ref/spec#Struct_types)。

这将您的示例简化为：

```
type EvenCounter3 struct {
    INumber
}

func (this *EvenCounter3) IncTwice() {
    this.Inc() // using this.n.Inc() twice makes it slower
    this.Inc()
} 
```

请注意，String() 是自动委托的（在 Go 语言中为“提升”）。

至于调用 Inc() 两次使其变慢，嗯，这是使用接口的限制。接口的重点是不公开实现，因此您无法访问其内部数字变量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:22:12.760

我不确定我是否正确理解了您要达到的目标。也许是这样的？

```
package main

import "fmt"

type Num interface {
        Inc()
        String() string
}

type Int32 struct {
        int32
}

func (n *Int32) Inc() {
        (*n).int32++
}

func (n Int32) String() string {
        return fmt.Sprintf("%d", n.int32)
}

type EventCounter interface {
        Num
        IncTwice()
}

type Event struct {
        Num
}

func (e Event) IncTwice() {
        e.Inc()
        e.Inc()
}

func main() {
        e := Event{&Int32{42}}
        e.IncTwice()
        fmt.Println(e)
} 
```

（也在[这里](http://play.golang.org/p/mwAdLvsOH2)）

* * *

输出

```
44 
```

# java - 使用 java mail api 读取 .msg 文件 ..请建议我

> ID：14869441
> 
> 赞同：3
> 
> 时间：2013-02-14T07:01:36.847
> 
> 标签：java

我正在尝试使用 Java 邮件 API 本身从 Java 应用程序中的本地系统读取 .MSG 文件。我搜索了它，但建议使用其他一些库。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2017-03-13T13:08:55.013

**编辑 20-12-2019：**电子邮件转换逻辑已移至专用开源库：[outlook-message-parser](https://github.com/bbottema/outlook-message-parser)（Simple Java Mail 中的 EmailConverter 类仍然存在）。

* * *

**原始答案：** [Simple Java Mail](http://www.simplejavamail.org)是一个通过 SMTP 发送电子邮件的开源库，它有一个[`EmailConverter`](https://github.com/bbottema/simple-java-mail/blob/master/src/main/java/org/simplejavamail/converter/EmailConverter.java)类可以直接读取 Outlook 消息并将其转换为 MimeMessage、Email 或 EML。

在引擎盖下，它使用[msgparser](https://github.com/bbottema/msgparser)（[Outlook 消息解析器](https://github.com/bbottema/outlook-message-parser)）的一个分支，而后者又使用[Apache POI](http://poi.apache.org/poifs/)。

从[功能页面](http://www.simplejavamail.org/#/features)：

```
// from Outlook .msg
Email email =             EmailConverter.outlookMsgToEmail(readToString("yourMessage.msg"));
Email email =             EmailConverter.outlookMsgToEmail(new File("yourMessage.msg"));
Email email =             EmailConverter.outlookMsgToEmail(getInputStream("yourMessage.msg"));
String eml =              EmailConverter.outlookMsgToEML(readToString("yourMessage.msg"));
String eml =              EmailConverter.outlookMsgToEML(new File("yourMessage.msg"));
String eml =              EmailConverter.outlookMsgToEML(getInputStream("yourMessage.msg"));
MimeMessage mimeMessage = EmailConverter.outlookMsgToMimeMessage(readToString("yourMessage.msg"));
MimeMessage mimeMessage = EmailConverter.outlookMsgToMimeMessage(new File("yourMessage.msg"));
MimeMessage mimeMessage = EmailConverter.outlookMsgToMimeMessage(getInputStream("yourMessage.msg")); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T07:12:47.507

如果您要解析 Outlook .msg 文件，那么[msgparser](http://auxilii.com/msgparser/)是小型开源 Java 库，它使用 Java 对象提供内容，它使用[Apache POI](http://poi.apache.org/poifs/)来解析文件。

# php - Lamp+mediawiki 遇到过的最奇怪的问题

> ID：14869445
> 
> 赞同：0
> 
> 时间：2013-02-14T07:01:49.570
> 
> 标签：php, apache, networking, mediawiki

好的，所以我已经在我的机器上安装了 lamp 和 mediawiki，路径为`http://localhost/mw/`. 然后我继续在虚拟机上安装 Windows，以便我可以使用 Internet Explorer 测试 mediawiki 安装。因此，我将适当的 $wgServer 设置设置为可从 virtualbox 客户端访问的主机 IP 地址。

首先，我访问`http://x.x.x.x/`并获得了一个目录列表，是的，它可以工作。对吗？....不..

然后我继续访问`http://x.x.x.x/mw/`（mediawiki 路径），令我惊讶的是，IE 刚刚加载接收。几个小时过去了，仍然 IE 正在加载页面...没有连接超时，没有接收超时。只是加载..永远永远...

当试图调查这里到底发生了什么时，我下载了 cli 实用程序 cURL。并继续执行命令：`curl -v http://x.x.x.x/mw/index.php/Main_Page`。我能够检索该页面，但结果令人震惊！

首先，mediawiki 报告该页面的渲染速度非常快（从收到的 html 源代码中读取）

```
Served in 0.356 secs. 
```

另一方面卷曲;

```
* 14542 bytes transfered in 764.580 seconds (19 bytes/sec). 
```

这向我表明，由于某种原因，路径`/mw/...`的传输速率非常慢。所有其他网站都可以正常工作，但不是`/mw/`

而且由于我从未在 IE 中遇到连接超时或接收超时，我猜测我正在以非常慢的速度逐字节接收，并且它对我试图获取的页面上的所有资源都执行此操作。

更有趣的是，主机可以`/mw/`毫无问题地访问。我还尝试与网络上的另一台计算机（不是虚拟机）连接，它也遇到了同样的问题，无休止的加载。

关于这里发生了什么的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-30T21:10:59.263

当配置为自动连接时，问题似乎可以追溯到 xdebug 模块。

`xdebug.xdebug.remote_connect_back`在 xdebug 配置中删除解决了这个问题。

# c# - 从 Stream 读取大量“计数”字节然后将它们复制到新数组中是否安全？

> ID：14869454
> 
> 赞同：2
> 
> 时间：2013-02-14T07:03:14.773
> 
> 标签：c#, encryption, stream

我很抱歉这个令人困惑的标题，老实说，我不知道该怎么称呼它！我在考虑这是否属于安全/加密交换网站之一，但由于这主要是一个编程问题，我将在此处发布。随意移动它！

我有一个 AES 加密流，并且当 AES 用块填充原始数据时，生成的加密数据几乎总是与原始未加密数据的大小不同。解密时，您需要知道要从加密流中读取多少字节（有多少未加密的字节）。我原本打算在数据包中发送原始的、未加密的数据长度，但后来我想到了另一种方法。如果我只是从 Crypto Stream 中读取 4096 个字节并存储读取了多少实际字节，那么我可以将正确数量的字节复制到一个新数组并使用它。

这样做安全吗？我的代码如下：

```
using (ICryptoTransform crypt = AES.CreateDecryptor())
{
    using (MemoryStream memStrm = new MemoryStream(data))
    {
        using (CryptoStream cryptStrm = new CryptoStream(memStrm, crypt, CryptoStreamMode.Read))
        {
            byte[] bytes = new byte[size];
            int read = cryptStrm.Read(bytes, 0, 4096);
            byte[] temp = new byte[read];
            Array.Copy(bytes, temp, read);
            return temp;
        }
    }
} 
```

我的意思是安全的，它总是会产生正确的解密数据吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T08:12:56.513

你为什么要跳过这么多圈？MemoryStream、CryptoStream、临时数组...

```
return crypt.TransformFinalBlock(data, 0, data.Length); 
```

为了使您的加密安全，您还应该为每次加密使用随机 IV，与密文一起存储。在 encrypt-then-mac 结构中添加 MAC（例如 HMAC-SHA-256）可以防止许多主动攻击，包括填充预言。

# md5 - md5能否唯一识别一亿个字符串

> ID：14869459
> 
> 赞同：1
> 
> 时间：2013-02-14T07:03:37.943
> 
> 标签：md5

给定数亿个平均长度为几百个的唯一字符串，md5 可以唯一地代表它们中的每一个吗？会发生碰撞吗？安全性不是问题，但唯一性是问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-14T07:56:20.207

如果 MD5 沿 2^128 空间均匀分布其结果（它没有，但非常接近），您可以计算大小为***n***的集合中两个值发生碰撞的几率。这通常被称为[“生日问题”](http://en.wikipedia.org/wiki/Birthday_Paradox)。

其中一些数学可能看起来令人困惑，所以我会尽可能地解释它。

设***M***为 MD5 范围的大小（2^128，因为 MD5 是 128 位散列函数）

让***n***是这个范围内的随机值的数量（你说 100,000,000）

我们可以计算 p，即至少发生一次碰撞的概率，其中：

![方程](../Images/b72b560062f5d8930c44c9fe985e4e60.png)

使用您提供的值：

![方程](../Images/d5fb5c5a80b745f8538dc0a461311cb4.png)

感谢[Dukeling](https://stackoverflow.com/users/1711796/dukeling)提供了上述等式的答案，`1.46E-23`得到`0.0000000000000000000000146`。[您可以在此处](https://web.archive.org/web/20140102193829/http://blog.shay.co/hash-collision-probability/)阅读有关公式的更多信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T07:09:25.373

对于任何类型的散列函数，例如 MD5，存在 2 个散列到相同值的字符串。因此，给定任何一组唯一字符串，除非您深入分析它们或将它们全部散列，否则您不能确定其中 2 个不会散列到相同的值。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-14T07:23:33.163

如果您担心攻击者恶意构造冲突字符串，则不能使用 MD5。如果这不是问题，MD5 很可能足以满足您的应用程序，在实际用例中的典型故障率约为每百万年发生一次意外碰撞。

但是，我建议选择更可靠的东西，这样您就不必担心了。如果不出意外，您将始终必须捍卫您使用 MD5 的决定，因为它“已知已损坏”。

例如，您可以使用[MD160](http://en.wikipedia.org/wiki/RIPEMD)获取 160 位散列，使用 SHA-1 获取 168 位散列，或使用 SHA-256 获取 256 位散列。尽管努力试图找到它们，但所有这些算法都没有已知的冲突。意外碰撞的可能性比小行星撞击失败的可能性小数十亿倍。

最佳选择取决于您的优先事项。碰撞的后果是什么？你必须抵抗恶意攻击吗？性能有多重要？哈希大小有多重要？给我们一些更多的细节，我们可以给你更好的建议。

# android - 如何判断片段是重新创建还是保留

> ID：14869470
> 
> 赞同：4
> 
> 时间：2013-02-14T07:04:33.513
> 
> 标签：android, android-fragments, android-lifecycle

我有一个片段，它有`setRetainInstance(true)`. 在父 Activity 中，我首先使用在实例化和附加新 Fragment 之前`onCreate()`检查 Fragment 是否已附加到 Activity 。`FragmentManager.findFragmentById(id)`

对于由返回的非空值`findFragmentById(id)`，有什么方法可以判断返回的 Fragment 是从先前被杀死的 Activity 中重新创建还是保留？

# jquery - 如何使 jquery 触发器单击处理 2 种事件类型

> ID：14869472
> 
> 赞同：0
> 
> 时间：2013-02-14T07:04:37.033
> 
> 标签：jquery, slideshow

我正在使用 cloudzoom (CZ) 脚本在 WP 网站上为我的图像添加漂亮的效果。所以我们有多个缩略图和一个更大的图像，上面有缩放效果。点击拇指，替换大图。见这里： http: [//www.starplugins.com/cloudzoom](http://www.starplugins.com/cloudzoom) 但由于 CZ 没有幻灯片，我决定为这个功能添加我自己的脚本。我所做的只是创建一些可以完成工作的功能，然后在最后触发点击，因此也应用了 cloudzoom 效果。这意味着下一个、上一个、播放 - 都基于点击触发器。到目前为止一切顺利，但问题是如果单击缩略图，我想停止幻灯片放映，但我无法在单击时添加停止事件，因为在这种情况下，上一个和下一个也会在一张幻灯片移动后触发它。我怎么能绕过这个？

请注意，我是 jquery 和编码的新手，所以我的脚本可能未优化:) 这里是：

```
jQuery(document).ready(function() {
    /* onclick change the current slide */
    /* this is the problematic part */
    jQuery('#vb-thumbs a').click(function() {
        jQuery('.current').removeClass('current');
        jQuery(this).addClass('current');
        /* next comes the slideshow stop event but commented because next and prev also triggers it */
        /*
        if (jQuery(intervalID).length) {
            clearInterval(intervalID);
        }
        */
    });

    /* we set up the manual button navigation */
    function prevImage(){
        var current = jQuery('.current');
        if(jQuery(current).prev().is('a')) {
            jQuery(current).prev('a').trigger('click').addClass('current');
            jQuery(current).removeClass('current');
        }
        else { //if there is no thumb before, jump to the end of the list
            jQuery('#vb-thumbs a').last().trigger('click').addClass('current');
            jQuery(current).removeClass('current');
        }
    };
    function nextImage(){
        var current = jQuery('.current');
        if(jQuery(current).next().is('a')) {
            jQuery(current).next('a').trigger('click').addClass('current');
            jQuery(current).removeClass('current');
        }
        else { //if there is no thumb after, jump to the beginning of the list
            jQuery('#vb-thumbs a').first().trigger('click').addClass('current');
            jQuery(current).removeClass('current');
        }
    };

    /* the button functions */
    jQuery('a.prev').click(function(){
        prevImage();
        clearInterval(intervalID);
    });
    jQuery('a.next').click(function(){
        nextImage();
        clearInterval(intervalID);
    });

    jQuery('a.start').click(function(){
        intervalID = setInterval(nextImage, 3000);
    });
    jQuery('a.stop').click(function(){
        clearInterval(intervalID);
    });
}); 
```

编辑这是 HTML 部分

按钮：

```
<a class="prev"><img src="/wp-includes/images/icon-prev.jpg" width="10" height="10" alt="Previous" /></a>
<a class="start"><img src="/wp-includes/images/icon-play.jpg" width="10" height="10" alt="Play" /></a>
<a class="stop"><img src="/wp-includes/images/icon-stop.jpg" width="10" height="10" alt="Stop" /></a>
<a class="next"><img src="/wp-includes/images/icon-next.jpg" width="10" height="10" alt="Next" /></a> 
```

缩略图部分如下所示：

```
<div id="vb-thumbs">
 <a href="hreftobigimageforclouzoom_1" class="cloudzoom-gallery>thumb image 1</a>
 <a href="hreftobigimageforclouzoom_2" class="cloudzoom-gallery>thumb image 2</a>
 and so on
</div> 
```

有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:22:16.893

最近的一篇文章让我写了这个答案。它可能已过时，但可能有效。

[这里的 .divClicked 是什么？](https://stackoverflow.com/questions/14868881/what-is-divclicked-here/14868942#14868942)

这里是：

您可以使用命名空间来绑定多个点击事件：

喜欢：（从链接复制）

```
$(el).bind('click', function() { alert('click 1'); };

$(el).bind('click.divClick', function() { alert('click 2'); };

$(el).unbind('click.divClick'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T08:15:19.003

那么你可以使用两种不同的绑定。您可以绑定`click`用户单击和`dbclick`setInterval 内的双击。双击将

1.  在 setInterval 时间之后播放下一张幻灯片。

在用户点击时，我们做两件事。

1.  播放下一张幻灯片
2.  清除间隔

这样它就会停止动画。

**编辑：**

我正在寻找，我发现的另一个可能的解决方案是寻找 event.originalEvent 的存在

```
$("#vb-thumbs a").click(function(e){
if(e.hasOwnProperty('originalEvent'))
    // User Mouse Click
else
    // Triggered through jQuery/javascript
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T14:02:42.847

行。我为你创造了一个小提琴。这就是它可能对您有用的方式。

[小提琴](http://jsfiddle.net/7HdHV/)

我在此使用了参数触发。

```
$('#foo').trigger('custom', ['Custom', 'Event']); 
```

# javascript - XMLHttpRequest 不适用于 chrome 版本 23 及更高版本

> ID：14869478
> 
> 赞同：0
> 
> 时间：2013-02-14T07:05:05.210
> 
> 标签：javascript, gwt, google-chrome-extension

我已经创建了 chrome 扩展并将 crx 文件添加到 chrome 扩展部分。这个 .crx 文件是使用 javascript 和 manifest.json 文件创建的。从 java 脚本，我每 10 秒时间间隔后向我的 java servlet 提供 XMLHttpRequest。我已经在 chrome 版本 18 和 19 上对此进行了测试，它工作正常，但是当我尝试在 chrome 版本 23 中添加 .crx 文件时，XMLHttpRequest 不起作用。JavaScript 代码是：-

```
try{

    var xmlhttp;
    if (window.XMLHttpRequest){
      xmlhttp=new XMLHttpRequest();
      }
    else{
      xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
      }
    xmlhttp.onreadystatechange=function()
      {
      if (xmlhttp.readyState==4 && xmlhttp.status==200){
       /* document.getElementById("myDiv").innerHTML=xmlhttp.responseText;*/
       // alert(xmlhttp.responseText);
          if(xmlhttp.responseText!="?"){
              chrome.browserAction.setBadgeText({text : xmlhttp.responseText});
              chrome.browserAction.setIcon({path:"images/IconGreen.png"});
              chrome.browserAction.setBadgeBackgroundColor({color : [ 208, 0, 24, 255 ]});
          }
          else{
              chrome.browserAction.setBadgeText({text :"?"});
              chrome.browserAction.setIcon({path:"images/IconGrey.png"});
              chrome.browserAction.setBadgeBackgroundColor( {color:[190, 190, 190, 230]});
          }
        }
      };
    xmlhttp.open("GET"," http://127.0.0.1:8888 /engile/realTimeUpdateCountServlet",true);
    xmlhttp.send();

} catch (err) {
    alert(err.message);

} 
```

& manifest.json 是

```
{

  "name": "A Chrome Extension",
  "version": "4.4.0", 
  "background": { "scripts": ["background.js"] },
  "permissions": [
     "tabs",
    "webNavigation", 
    "http://*/*",
    "chrome.action"
  ],
  "web_accessible_resources": [
    "278CB17EDF811DAFF4CBD7790CBE8C06.cache.html"
  ],  
  "browser_action": {
    "name": "Make this page red",
    "default_icon": "images/IconGrey.png"

  },
  "manifest_version": 2
} 
```

请给我任何建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:13:04.660

代码中的问题

*   `"browser_action": { "name": "Make this page red"`, 没有名为**name**的参数，它必须是`"default_title"`
*   `"permissions": ["tabs","webNavigation", "http://*/*", "chrome.action"],`没有权限称为从**[文档](https://developer.chrome.com/extensions/declare_permissions.html)**`chrome.action`中添加相关权限。

# database - oracle数据库中的日期格式保持不变

> ID：14869481
> 
> 赞同：1
> 
> 时间：2013-02-14T07:05:13.227
> 
> 标签：database, oracle

```
INSERT INTO DELLL (
DATETIMEMY) 
SELECT    to_date(to_char(SU_MODIFYDATE, 'YYYY/MM/DD'),'YYYY/MM/DD') AS DATETIMEMY
FROM SER_TBLSERVICES WHERE SVE_SERVICEID=422 
```

**SU_MODIFYDATE = 01/18/2013**

但插入 DELLL 日期 (DATETIMEMY) 格式后仍然相同

**日期时间我 = 01/18/2013**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T07:44:04.290

您没有为`DATE`. 它们在内部存储为数字，没有格式。当您要选择日期时，格式就会出现。所以在你的情况下，你应该这样做：

首先只需按原样插入日期，不要尝试将其转换为 char 并再次返回：

```
SQL> INSERT INTO DELLL (
  2  DATETIMEMY) SELECT SU_MODIFYDATE
  3  FROM SER_TBLSERVICES WHERE SVE_SERVICEID=422;

1 row created. 
```

现在要以特定格式选择它，您可以使用`TO_CHAR`它来格式化它。

```
SQL> select * from delll;

DATETIMEMY
----------
01/18/2013 <-- which isn't what you want to see, you wanted to see yyyy/mmm/dd. so...

SQL> select to_char(DATETIMEMY,'yyyy/mm/dd') DATETIMEMY from DELLL
  2  /

DATETIMEMY
----------
2013/01/18 
```

或者，要应用于该会话中具有`date`数据类型的所有选择，您可以更改默认显示格式：

```
SQL> alter session set nls_date_format='yyyy/mm/dd';

Session altered.

SQL> select * from delll;

DATETIMEMY
----------
2013/01/18 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:10:52.997

您示例中的 INSERT 或 SELECT 不会修改日期的存储方式。当您选择日期时，日期会被格式化，使用您当前的连接格式首选项/区域设置。

您正在使用 TO_DATE，选择返回值与任何其他日期相同，它将根据区域设置进行格式化。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T09:18:15.927

DazzaL 的回答是正确的，他讨论了日期的格式、存储和检索。

我想讨论一下您在代码中所做的事情。

Oracle 存储的日期精确到一秒。`MM/DD/YYYY HH24:MI:SS`简单来说，您可以按格式检索日期。

通过发布`to_date(to_char(SU_MODIFYDATE, 'YYYY/MM/DD'),'YYYY/MM/DD')`，您实际上是将日期截断为日期部分。因此，当您尝试检索此值时，该`HH24:MI:SS`部分将具有`00:00:00`，因为您已截断了日期。

如果您希望将所有详细信息（从年、月、日到小时、分钟和秒）`SU_MODIFYDATE`插入到 in 的列中`DELLL`，您应该使用

```
INSERT INTO DELLL (
DATETIMEMY) 
SELECT SU_MODIFYDATE AS DATETIMEMY
FROM SER_TBLSERVICES WHERE SVE_SERVICEID=422 
```

这将确保列中日期的所有部分`SU_MODIFYDATE`都插入到新列中。

如果你想截断日期，例如，使用到分钟`to_date(to_char(SU_MODIFYDATE, 'YYYY/MM/DD HH24:MI'),'YYYY/MM/DD HH24:MI')`

同样，您可以根据您的选择将日期从年份部分截断到第二部分。

如果要插入截断的日期，则应使用已有的查询。如果要插入包含所有部分的日期，请避免使用`to_char`and截断`to_date`。

# android - 我们可以像 wamp 中的 phpAdmin 那样在行和列中显示数据库吗？（DDMS 中的数据库）

> ID：14869487
> 
> 赞同：0
> 
> 时间：2013-02-14T07:05:43.440
> 
> 标签：android, database, eclipse, sqlite, ddms

我从设备（DDMS）中提取了文件数据库，但我不知道如何像行和列一样显示它。

任何人有想法，请告诉我。

像这样

![在此处输入图像描述](../Images/5a00bc3b06bc01bac2d620bab3b9e618.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T07:10:41.657

如果您只想浏览数据库文件。您可以使用[http://sourceforge.net/projects/sqlitebrowser/](http://sourceforge.net/projects/sqlitebrowser/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T07:37:00.953

要浏览从设备中提取的 sqlite 数据库，您可以使用 Mozilla FireFox 浏览器的插件，如下所示：-

```
 Click on the **FireFox** --> **Web Developer** --> **Sqlite Manager**. 
```

Sqlite Manager 将打开，然后单击“**数据库”菜单中的“****连接数据库**”项以包含您的数据库以进行浏览。

 *** * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T13:44:07.680

虽然这些程序可用于查看 SQLite 数据库文件，但 Android 上更大的问题是，如果您想将文件实际拉入计算机，则需要 root 手机或使用模拟器。**

# c# - 如何获取和设置 CMYK 格式的像素颜色？

> ID：14869493
> 
> 赞同：2
> 
> 时间：2013-02-14T07:06:38.660
> 
> 标签：c#, image-processing, rgb, cmyk

我可以使用 CMYK 格式在位图图像中设置像素的颜色吗？或者我必须将颜色转换为 RGB 值吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-01T16:35:24.897

您需要先转换。以防您想知道它是如何完成的：

R、G、B 值在 0..255 范围内给出。红色 (R) 颜色是根据青色 (C) 和黑色 (K) 颜色计算得出的：

```
 R = 255 × (1-C) × (1-K) 
```

绿色 (G) 由品红色 (M) 和黑色 (K) 颜色计算得出：

```
 G = 255 × (1-M) × (1-K) 
```

蓝色 (B) 由黄色 (Y) 和黑色 (K) 颜色计算得出：

```
 B = 255 × (1-Y) × (1-K) 
```

# matlab - 相机校准的疑点

> ID：14869497
> 
> 赞同：6
> 
> 时间：2013-02-14T07:07:09.773
> 
> 标签：matlab, opencv, computer-vision, camera-calibration

我正在做一个基于机器视觉的项目。正在使用带有高分辨率针孔相机的广角镜头。

工作距离：相机与物体之间的距离。

分辨率将接近 10MP。图像大小可以是 3656 像素宽和 2740 像素高。项目要求如下

1.  我的工作距离必须接近 5 米。
2.  相机需要倾斜 13 度角。

为了避免相机镜头失真，我使用 OpenCV 进行相机校准。

下面提到的是我对这个相机校准的疑问

1.  由于工作距离是 5 米，相机校准是否也应该在相同的距离下进行？

2.  由于相机在应用程序中倾斜了 13 度角，是否需要在相机倾斜相应角度时也进行校准？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-14T15:58:57.947

我对第一个问题的回答是“也许”，对第二个问题回答“否”。

虽然确实没有必要在与被摄体相同或附近的距离处校准目标，但实际上只有当你有足够的景深时才有可能（特别是，如果你专注于无限远），并使用固定光圈。

原因是相机校准的第二条规则：“校准期间或校准后不得触摸镜头”。特别是，您可能不会重新对焦或更改 f-stop，因为对焦和光圈都会影响非线性镜头失真和（尽管影响较小，取决于镜头）视野。当然，您可以完全自由地更改曝光时间，因为它根本不会影响镜头几何形状。

有关一般性评论，另请参阅我的[另一个答案](https://stackoverflow.com/questions/12794876/how-to-verify-the-correctness-of-calibration-of-a-webcam/12821056#12821056)。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-14T08:52:53.937

这两个问题的答案都是否定的。相机标定本质上是在假设针孔相机模型时找到焦距与像素平面的关系；和可选的（由于您的广角镜头需要），径向失真。这些关系与相机在世界中的位置无关。

顺便说一句，我看到您将其标记为`matlab`：我可以推荐[适用于 MATLAB 的相机校准工具箱](http://www.vision.caltech.edu/bouguetj/calib_doc/)作为校准相机的一种非常简单的方法。它可以很好地指导您完成整个过程。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-09-23T15:11:05.077

相机的那个角度不是问题，但您确实希望在距相机大致工作距离处使用校准目标来校准相机。理论上，距离应该无关紧要。但实际上，如果你在 1 米处校准，然后尝试在 5 米外进行测量，则会有更大的误差。

此外，请查看作为 MATLAB 计算机视觉系统工具箱一部分的[CameraCalibrator应用程序。](http://www.mathworks.com/help/vision/ug/find-camera-parameters-with-the-camera-calibrator.html)

# ios - IBAction 导致 EXC_BAD_ACCESS 错误

> ID：14869498
> 
> 赞同：0
> 
> 时间：2013-02-14T07:07:29.200
> 
> 标签：ios, objective-c, button, exc-bad-access, ibaction

我加载一个xib，然后我需要用一个按钮关闭它。我正在使用这个：

```
- (IBAction)donePressed:(id)sender {
    printf("Done\n");
    [self check_result];
    printf("Removing View\n");
   [self.view removeFromSuperview];
} 
```

我像这样加载XIB：

```
AFUserFeedbackController *moviePlayer_af = [[AFUserFeedbackController alloc] initWithNibName:@"UserFeedback" bundle:nil];
UIWindow *backgroundWindow = [[UIApplication sharedApplication] keyWindow];
moviePlayer_af.view.frame = backgroundWindow.frame;
[backgroundWindow addSubview:moviePlayer_af.view]; 
```

这就是我映射它的方式：

![http://i.picresize.com/images/2013/02/13/T2AHc.png](../Images/7bbeee24de29f124da6179f395dca88b.png)

但是在按下按钮后，我得到的只是`EXC_BAD_ACCESS`错误，我得到了这个输出：

```
(lldb) 
```

和`EXC_BAD_ACCESS`错误。我该如何解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T13:32:22.797

```
-(IBAction)donePressed:(id)sender
{
printf("Done\n");
printf("Removing View\n");
[moviePlayer_af.view removeFromSuperview];
} 
```

# php - PHP获取函数不抓取参数

> ID：14869500
> 
> 赞同：4
> 
> 时间：2013-02-14T07:07:29.557
> 
> 标签：php, url, get

所以......我有以下非常简单的代码：

```
<?php echo $_GET["base_grant_url"] ?> 
```

目前，这仅用于测试。我遇到了问题...当以下 URL 测试时：

```
http://localhost/?base_grant_url=htt%3A%2F%2Fn00.test.com
http://localhost/?base_grant_url=http%3A%2F%2Fn00 
```

参数打印正确。请注意第一个中缺少“p”而没有“。” 第二个参数中的字符。当以下 2 个 URL 被传递时：

```
http://localhost/?base_grant_url=http%3A%2F%2Fn00.test.com
http://localhost/?base_grant_url=http%3A%2F%2Fn00. 
```

这两个地址都没有打印出来……我花了很长时间才把我的问题缩小到这个范围，因为这是更大场景的一小部分，但这是我目前正在尝试纠正的。为什么当参数不正确但有 HTTP 和“.”时我无法获取参数 其中的字符... $_GET 函数失败？是否有一些我遗漏的通用约定或对此问题的一些简单解决方法？

编辑：所以在本地测试服务器上测试后它工作正常。我将联系我的托管服务提供商以尝试找出问题所在。

至于 print_r 的输出...这里是代码和输出：

代码：

```
echo "Base Grant URL = ";
echo $_GET["base_grant_url"];
echo " -=- GET = ";
print_r($_GET); 
```

测试 1（如果 http 不在参数中，则参数中没有“.”也有效）：

```
URL: http://testserver.com/?base_grant_url=https%3A%2F%2Fexamplecom%2Fsplash%2Flogin%2F%3Fmauth%3DABCDEFG123456
OUTPUT: Base Grant URL = https://examplecom/splash/login/?mauth=ABCDEFG123456 -=- GET = Array ( [base_grant_url] => https://examplecom/splash/login/?mauth=ABCDEFG123456 ) 
```

测试 2（使用正确的 URL）：

```
URL: http://testserver.com/?base_grant_url=https%3A%2F%2Fexample.com%2Fsplash%2Flogin%2F%3Fmauth%3DABCDEFG123456
OUTPUT: Base Grant URL = -=- GET = Array ( ) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T10:36:06.993

我遇到了同样的问题，我的网站托管公司在服务器上启用了一些 mod 安全规则，以防止他们所谓的“通用 PHP 代码注入”。不确定我是否同意存在风险，但他们禁用了它并且我的脚本开始工作。

# php - jquery @mentions 输入 ajax 函数

> ID：14869501
> 
> 赞同：2
> 
> 时间：2013-02-14T07:07:30.617
> 
> 标签：php, jquery, ajax, json

我正在尝试使用[http://podio.github.com/jquery-mentions-input/](http://podio.github.com/jquery-mentions-input/)将@mentions 功能添加到我的网站。我正在尝试 ajax 从查询数据库的 .php 文件中获取 JSON 响应`onkeyup`，但我不知道在代码中的何处放置 ajax 调用。

我知道我要求人们基本上为我做这项工作，但我快死了，我已经尝试了大约 2-3 天了

这是插件中的两个 JavaScript 函数，我只是一个示例 ajax 函数，它将链接到我的 PHP 脚本来搜索用户`%LIKE%`的查询。

插件的基本示例

```
$(function () {
$('textarea.mention').mentionsInput({
onDataRequest:function (mode, query, callback) {
var data = [
{ id:1, name:'Kenneth Auchenberg', 'avatar':'http://cdn0.4dots.com/i/customavatars/avatar7112_1.gif', 'type':'contact' },
{ id:2, name:'Jon Froda', 'avatar':'http://cdn0.4dots.com/i/customavatars/avatar7112_1.gif', 'type':'contact' },
{ id:3, name:'Anders Pollas', 'avatar':'http://cdn0.4dots.com/i/customavatars/avatar7112_1.gif', 'type':'contact' },
{ id:4, name:'Kasper Hulthin', 'avatar':'http://cdn0.4dots.com/i/customavatars/avatar7112_1.gif', 'type':'contact' },
{ id:5, name:'Andreas Haugstrup', 'avatar':'http://cdn0.4dots.com/i/customavatars/avatar7112_1.gif', 'type':'contact' },
{ id:6, name:'Pete Lacey', 'avatar':'http://cdn0.4dots.com/i/customavatars/avatar7112_1.gif', 'type':'contact' },
{ id:7, name:'kenneth@auchenberg.dk', 'avatar':'http://cdn0.4dots.com/i/customavatars/avatar7112_1.gif', 'type':'contact' },
{ id:8, name:'Pete Awesome Lacey', 'avatar':'http://cdn0.4dots.com/i/customavatars/avatar7112_1.gif', 'type':'contact' },
{ id:9, name:'Kenneth Hulthin', 'avatar':'http://cdn0.4dots.com/i/customavatars/avatar7112_1.gif', 'type':'contact' }
];
data = _.filter(data, function(item) { return item.name.toLowerCase().indexOf(query.toLowerCase()) > -1 });
callback.call(this, data);
}
});
$('.get-syntax-text').click(function() {
$('textarea.mention').mentionsInput('val', function(text) {
alert(text);
});
});
$('.get-mentions').click(function() {
$('textarea.mention').mentionsInput('getMentions', function(data) {
alert(JSON.stringify(data));
});
}) ;
}); 
```

AJAX 示例（我不知道如何从 .php 文件中获取 JSON）

```
$(function () {
$('textarea.mention-example2').mentionsInput({
onDataRequest:function (mode, query, callback) {
$.getJSON('assets/data.json', function(responseData) {
responseData = _.filter(responseData, function(item) { return item.name.toLowerCase().indexOf(query.toLowerCase()) > -1 });
callback.call(this, responseData);
});
}
});
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T18:27:46.370

我想通了，我只是添加了一个带有查询值的变量查询，并将其发送到我的脚本，然后搜索数据库并发回结果

```
$('textarea.mention-example2').mentionsInput({
onDataRequest:function (mode, query, callback) {
    var myquery = 'query='+query;
  $.getJSON('data.php', myquery, function(responseData) {
    responseData = _.filter(responseData, function(item) { return item.name.toLowerCase().indexOf(query.toLowerCase()) > -1 });

    callback.call(this, responseData);
  });
} 
```

});

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T12:32:38.383

我已经阅读了一些关于[Gitpage](https://github.com/podio/jquery-mentions-input)上的插件，我不确定你有什么，但这是你需要让它工作：

jQuery js 文件和插件脚本。

JS代码：

```
$(function () {  
    $('textarea.mention-example2').mentionsInput({    
        onDataRequest:function (mode, query, callback) { 
            $.getJSON('assets/data.json', function(responseData) {        
                responseData = _.filter(responseData, function(item) { 
                    return item.name.toLowerCase().indexOf(query.toLowerCase()) > -1 });                   callback.call(this, responseData);      
            });
        }  
    });
}); 
```

文件夹 assets 中的 JSON 文件，文件名为 data.json 'assets/data.json'：

```
[
    {        
        "id": 1,
        "name": "Kenneth Auchenberg",
        "avatar": "http://cdn0.4dots.com/i/customavatars/avatar7112_1.gif",
        "type": "contact"    
    }
] 
```

现在你只需要一个带有类mention-example2 的textarea。您可能还需要包含一些 css 文件。但是试试这个，然后回来反馈。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-02-03T06:41:58.907

这就是我在codeigniter中所做的

创建一个将为我获取数据的函数

```
function getDataMention(mode, query, callback){
          var path = '<?=site_url()?>users/get_user_search_string/'+query;
          $.ajax({
            url: path,
             dataType: 'json', // Choosing a JSON datatype
          }).done(function(retdata) {
           var data = retdata;
           data = _.filter(data, function(item) {return item.name.toLowerCase().indexOf(query.toLowerCase()) > -1 });
           callback.call(this, data);
          });                      
}//end getDataMention(); 
```

然后在准备好文档时调用库

```
$('textarea.mention').mentionsInput({
        onDataRequest:getDataMention,
        minChars: 1,
        templates:{
          wrapper: _.template('<div class="mentions-input-box"></div>'),
          autocompleteList: _.template('<div class="mentions-autocomplete-list"></div>'),
          autocompleteListItem: _.template('<li data-ref-id="<%= id %>" data-ref-type="<%= type %>" data-display="<%= display %>"><%= content %></li>'),
          autocompleteListItemAvatar : _.template('<img src="<%= avatar %>" />'),
          autocompleteListItemIcon: _.template('<div class="icon <%= icon %>"></div>'),
          mentionsOverlay: _.template('<div class="mentions"><div></div></div>'),
          mentionItemSyntax: _.template('@[<%= value %>](<%= type %>:<%= id %>)'),
          mentionItemHighlight: _.template('<a target="__blank" class="mlink" href="<?=site_url()?>users/profile/profile_id=<%= id %>"><%= value %></a>')
        }
      }); 
```

# performance - CUDA 中的分歧 - 从内核中的线程退出

> ID：14869513
> 
> 赞同：6
> 
> 时间：2013-02-14T07:09:07.103
> 
> 标签：performance, cuda, gpgpu, nvidia

我想知道如何从线程索引很大的线程退出。我看到两种可能性：

```
int i = threadIdx.x;
if(i >= count)
    return;
// do logic 
```

或者

```
int i = threadIdx.x;
if(i < count) {
    // do logic
} 
```

我知道，两者都是正确的，但是哪一个对性能的影响更大？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-14T08:33:12.880

虽然两者在性能上是一样的，但是你应该考虑到第一个不推荐。

返回内核中的线程可能会导致其余代码出现意外行为。

我所说的意外行为是指与分组在一个扭曲中的最小线程单元相关的任何问题。例如，如果您`if / else`的内核中有一个块，这种情况称为线程发散，在正常情况下，它会导致线程保持空闲而其他线程执行一些指令。

CUDA by Example Book，第 5 章，线程协作：

> 但在 __syncthreads() 的情况下，结果有些悲惨。CUDA 体系结构保证在块中的每个线程都执行完 __syncthreads() 之前，没有线程会前进到超出 __syncthreads() 的指令

因此，它主要与内核中的线程同步有关。你可以在这里找到关于这个主题的一个很好的问题/答案：[Can I use __syncthreads() after has dropped threads？](https://stackoverflow.com/questions/6666382/can-i-use-syncthreads-after-having-dropped-threads)

正如我最后指出的那样，我也使用了这种*不好的做法*，没有出现任何问题，但不能保证将来会出现问题。这是我不推荐的东西

# javascript - 函数声明是在闭包内定义函数的唯一正确方法吗？

> ID：14869514
> 
> 赞同：1
> 
> 时间：2013-02-14T07:09:18.583
> 
> 标签：javascript, jquery

我正在开发一个 Web 应用程序，我们正在使用 Java Script 代码的闭包设计模式。我们也在使用 JQuery。我想知道尽管有更多接受的函数声明，但使用函数表达式是否有任何缺点。

闭包中带有函数声明的普遍接受的模式。请参阅**anImportantMethod**的函数定义：

```
var homePage = (function(){

  var x = 0;
  var y = 0;

  $(function() {// On Load Jquery

     // Some init stuff
  });

  function anImportantMethod() {

     // Some important client side stuff
  }

})(); 
```

闭包中具有函数表达式的另一种模式。参见 anImportantMethod 的函数**定义**：

```
var homePage = (function(){

  var x = 0;
  var y = 0;

  $(function() {// On Load Jquery

     // Some init stuff
  });

  var anImportantMethod = function () {

      // Some important client side stuff
  }

})(); 
```

通常，匿名函数表达式或命名函数表达式被认为是最佳实践。我想知道在 Closure 的上下文中使用哪一个？

# ruby-on-rails - form_for remote true 在 ruby on rails 中不起作用

> ID：14869521
> 
> 赞同：1
> 
> 时间：2013-02-14T07:09:47.967
> 
> 标签：ruby-on-rails, ruby, ajax, ruby-on-rails-3, erb

我想通过将 ajax 与 loader 一起使用来创建任务。这是我的观点-

```
<%= form_for(@task, :remote => "true") do |f| %>
<center><h3>Organize Your Tasks</h3></center>
<table class="table table-bordered table-condensed table-striped">
<tr>
<td> 
     <%= f.select :taskcategory, options_for_select(["Money/Career", "Relationship", "Safety", "Health Care", "God", "Hobbies", "Society"]), {}, {:multiple => false} %>
    </td>
    <td style="width:120px;">
   <%= f.text_field :taskname, :placeholder => "Task Name" %>
</td>
<td>
  <%= f.select :importance, options_for_select(["Highly Important", "Important", "Less Important"]), {}, {:multiple => false} %></center>           
    </td>   
<td  style="width:120px;">
       <%= f.text_field :startdate , :id => "from", :placeholder => "Start Date", :value => "#{Date.today.strftime("%d/%m/%Y") }" %>   
    </td>   
<td  style="width:120px;">
      <%= f.text_field :targetdate , :id => "to", :placeholder => "End Date", :disabled => "ture"%>   
     </td>
    <td>                     
     <%= f.submit "Create", class: "btn"%> 
    </td>                
   </tr>     
</table>  
<% end %> 
```

这是我的控制器 -

```
def create
  @task= current_user.tasks.build(params[:task])   
  respond_to do |format|
    if @task.save 
      flash[:success] = "Task created!"
      format.html {redirect_to root_url }
      format.js { redirect_to}
    else         
      format.html { render 'static_pages/index'}
    end
  end
end 
```

在这里我写了一个代码来显示所有的任务

```
<div class="tabbable" style="margin-left:-50px" >
   <ul class="nav nav-tabs span10" id="myTab" style="margin-left:50px">
     <li class="active"><a href="#tab1">All Tasks(<%=   current_user.tasks.where(:status => 'active').count %>)</a></li>
     <li ><a href="#tab2">Dreams(<%= current_user.tasks.where(:importance => 'Highly Important', :status => 'active').count %>)</a></li>
     <li ><a href="#tab3" >Today's Tasks(<%= current_user.tasks.where(:targetdate => Date.today.to_s, :status => 'active').count %>)</a></li>
     <li ><a href="#tab4" >Imp Tasks(<%= current_user.tasks.where(:importance => 'Important', :status => 'active').count %>)</a></li>
     <li id="fat-menu" class="dropdown aa">
     <a href="#" class="dropdown-toggle" data-toggle="dropdown">Others</a>
     <ul class="dropdown-menu">
    <li><a href="#tab5" >Postpone(<%= current_user.tasks.where(:status => 'postpone').count %>)</a></li>
    <li><a href="#tab6" >Satisfied(<%= current_user.tasks.where(:status => 'satisfied').count%>)</a></li>
    <li><a href="#tab7" >Unsatisfied(<%= current_user.tasks.where(:status => 'unsatisfied').count%>)</a></li>
    <li><a href="#tab8" >Closed(<%= current_user.tasks.where(:status => 'closed').count%>)</a></li>
     </ul>
  </li>
</ul>
 <div class="tab-content span10" >
  <div class="tab-pane active" id="tab1">    
<%= render 'shared/feed' %> 
  </div>
  <div class="tab-pane" id="tab2">
   <%= render 'shared/feed_dream' %> 
  </div>
  <div class="tab-pane" id="tab3">
     <%= render 'shared/feed_urgent' %> 
  </div>
  <div class="tab-pane" id="tab4">
     <%= render 'shared/feed_important' %> 
  </div>
  <div class="tab-pane" id="tab5">
     <%= render 'shared/feed_postpone' %> 
  </div>
  <div class="tab-pane" id="tab6">
    <%= render 'shared/feed_satisfied' %> 
  </div>
  <div class="tab-pane" id="tab7">
     <%= render 'shared/feed_unsatisfied' %> 
  </div>
  <div class="tab-pane" id="tab8">
    <%= render 'shared/feed_closed' %> 
  </div>
</div> 
```

这是我的 create.js.ejb ---

```
page.replace_html('index' , redirect_to root_url) 
```

当我提交我的任务时，它会在数据库中创建但页面没有更新。当我再次刷新页面时，就会显示任务。我知道 create.js.ejb 文件中的问题。如何在我的表中显示更新任务？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T07:18:00.967

首先确保您已将 jquery 和 jquery_ujs 包含到您的 application.js 文件中。

从视图重定向是一个坏习惯。做了`format.js { redirect_to root_url}`

并使用`*.js.erb`模板代替`rjs`模板。

在`create.js.erb`你可能会做这样的事情

```
$("#some_div").append("some HTML content that is related to created record") 
```

希望这可以帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T08:45:27.287

```
page.replace_html('index' , redirect_to root_url) // this is invalid 
```

“page.replace_html”不再适用于 rails 3

**在 create.js.erb**

```
alert("record created");
// or update div with id some_div_id
$("#some_div_id").html("<%= escape_javascript(render :partial => 'some_partial') %>"); 
```

# dojo - 使用 dojo 将堆积的列添加到聚类图表

> ID：14869522
> 
> 赞同：2
> 
> 时间：2013-02-14T07:09:50.297
> 
> 标签：dojo

我正在尝试使用 dojo 图表构建图表。

我们为每个部门提供了四次培训课程。我们希望显示每个部门中每个测试的“通过、未尝试、失败”数字。

理想情况下，我想向我的用户展示一个集群柱形图，每列对应于一次培训。然后同一列显示通过/失败的堆叠数字。每个部门将四列组合在一起。

这可能使用道场图表吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T09:56:55.857

您可以添加情节两次，例如

```
chart.addPlot("sttt",  {
    type: "StackedLines",
    markers: true,
    tension:"S"
});

chart.addPlot("default", {
    type: ClusturedColumns,
    markers: true,
    gap: 5,
    htmlLabels: false
}); 
```

[小提琴中的例子](http://jsfiddle.net/vusan/Kt9pE/)。

# shell - 在 cron 中运行包含 sudo 的脚本

> ID：14869523
> 
> 赞同：0
> 
> 时间：2013-02-14T07:09:52.683
> 
> 标签：shell, unix, ubuntu, crontab, sudo

```
#!/bin/bash
value=$(<man.txt)
echo "$value"

if [ "$value" == "true" ]; then
    echo "startedif_manthan"
      ps -ef|grep sym |awk '{ print $2 }'|sudo  xargs kill -9;
      sleep 30;
    sudo sh /var/www/symmetric-ds-3.1.6/bin/sym --port 8082 --server;
fi 
```

我需要在 cron 中运行上面的脚本。它会在没有密码的情况下在 cron 中执行吗？

有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:16:00.667

您可以使用`/etc/sudoers`来选择哪些命令可以作为 sudo 运行而无需密码。

警告：不要手动编辑，使用`visudo`.

# javascript - IE9 内存泄漏

> ID：14869524
> 
> 赞同：0
> 
> 时间：2013-02-14T07:09:56.880
> 
> 标签：javascript, jquery, internet-explorer-9, signalr

我似乎在 IE9 中有内存泄漏。它在 Chrome 中运行良好。内存泄漏在客户端计算机上。我让这个页面在 chrome 中打开了好几天，没有泄漏。

使用 jquery 1.9.0，信号器 rc2

此页面使用信号器，并使用来自服务器的内容每 5 秒刷新一次其内容。

我有四个选项卡/div 可以做到这一点。

```
proxy.on('newRequests', function (data, updatetime) {
    newrequestupdatetime.text('Last updated: ' + updatetime);
    numberofnewrequests.text('Number of cases found: ' + data.length);
    numberofnewrequeststab.text('(' + data.length + ')');
    var h = '';
    $.each(data, function (i, val) { h += '<li><a href="/requests/' + val.Ref + '">' + val.Ref + '</a> ' + val.Type + '</li>'; });
    newrequests.html(h);
}); 
```

newrequests 是我这样初始化的页面上的 ul

`var newrequests = $('#newrequests');`

在

`$(function () {});`

不确定是什么原因。

我可以通过这样做使情况变得更糟。

```
 newrequests.empty();
    $.each(data, function (i, val) { newrequests.append('<li><a href="/requests/' + val.Ref + '">' + val.Ref + '</a> ' + val.Type + '</li>'); }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T07:28:04.767

我猜它与最后一行代码有关，它将新的 html 放在 ul 标记中。尝试将行更改为此（旧代码）：

```
document.getElementById('newrequests').innerHTML = h; 
```

另请参阅：[jQuery - Internet Explorer 内存泄漏](https://stackoverflow.com/questions/6691080/jquery-internet-explorer-memory-leaks)

# python - Python代码中的奇怪行为

> ID：14869529
> 
> 赞同：0
> 
> 时间：2013-02-14T07:10:08.520
> 
> 标签：python, tree, depth-first-search

我正在尝试编写一个简单的方法来以这种方式将树的节点链接在一起：

*   每片叶子都链接到树中的前一个和下一个叶子
*   每个非叶子都链接到树中的前一个叶子和下一个叶子

例如，如果我们有这棵树：

```
 A
  / |  \
 B  C    D
   / \  / \
  E  F  G  H
        |
        I 
```

这应该是该方法的结果：

*   B.nextToken = E
*   C.prevToken = B
*   E.nextToken = F
*   E.prevToken = B
*   F.nextToken = I
*   C.nextToken = I
*   H.prevToken = I

下面是方法代码：

```
prevToken = None
def depthFirstTraverseTokenLinking(tree):
    global prevToken
    if len(tree.children) == 0:
        tree.prevToken = prevToken
        if prevToken != None :
            prevToken.nextToken = tree # Is something wrong with this line?
        prevToken = tree
        return

    for c in tree.children:
        depthFirstTraverseTokenLinking(c)

    tree.prevToken = tree.children[0].prevToken
    tree.nextToken = tree.children[-1].nextToken 
```

出于某种奇怪的原因，非叶子没有链接到下一个叶子，例如：

*   C.nextToken = 无

虽然

*   F.nextToken = I

我想知道为什么会这样？递归函数末尾的最后几行应该允许父级的 next 与其最后一个子级相同！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:29:30.570

问题是，当你访问 C 时，你只遍历了它的子 E & F。

“我”还没有被访问过，所以`C.children[-1].nextToken == None`因为只有访问“我”才会设置`F.nextToken`

解决方案：您必须先在所有叶子上运行，然后在内部节点上运行第二次。

例如：

```
prevToken = None
def depthFirstTraverseTokenLinking(tree):
    depthFirstTraverseTokenLinkingPhase1(tree)
    depthFirstTraverseTokenLinkingPhase2(tree)

def depthFirstTraverseTokenLinkingPhase1(tree):
    global prevToken
    if len(tree.children) == 0:
        tree.prevToken = prevToken
        if prevToken != None :
            prevToken.nextToken = tree # Is something wrong with this line?
        prevToken = tree
        return

    for c in tree.children:
        depthFirstTraverseTokenLinkingPhase1(c)

def depthFirstTraverseTokenLinkingPhase2(tree):
    if len(tree.children) == 0:
        return

    for c in tree.children:
        depthFirstTraverseTokenLinkingPhase2(c)

    if tree.children[0].prevToken is not None:
        tree.prevToken = tree.children[0].prevToken
    else:
        tree.prevToken = tree.children[0]

    if tree.children[-1].nextToken is not None:
        tree.nextToken = tree.children[-1].nextToken
    else:
        tree.nextToken = tree.children[-1] 
```

还要注意内部节点`prevToken`/的变化。`nextToken`如果您希望它们链接到实际的第一片/最后一片叶子，则需要这样做。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T08:51:53.737

或者，使用生成器作为实例检查循环

如果该节点没有子节点，则生成器将该节点作为基本情况生成，否则另一个生成器将沿着树向下移动。这里需要注意的是 node.children 是从左到右排序的。

```
def leafs(node):
    if len(node.children) == 0:
        yield node
    else:
        for child in node.children:
            yield leafs(child) 
```

...和一个带有一堆生成器的循环...当我写它时，这变得更丑了-我认为您可以稍微清理一下并摆脱 while True...

```
current_node = leafs(a)
stack = []
last_node = None
while True:
    if isinstance(current_node, types.GeneratorType):
        stack.append(current_node)
        current_node = current_node.next()
    else:
        if last_node and last_node != current_node:
            last_node.nextToken = current_node
            current_node.prevToken = last_node
            last_node = current_node
        try:
            current_node = stack[-1].next()
        except StopIteration:
            stack.pop()
        except IndexError:
            break 
```

# php - 在 php + mysql 中调用超过 1 个存储过程

> ID：14869530
> 
> 赞同：1
> 
> 时间：2013-02-14T07:10:09.173
> 
> 标签：php, mysql, stored-procedures

```
DELIMITER $$

USE `test`$$

DROP PROCEDURE IF EXISTS `sp_update_NotifyTrainerStatus_in_notification_table`$$

CREATE DEFINER=`root`@`%` PROCEDURE `sp_update_NotifyTrainerStatus_in_notification_table`(IN email VARCHAR(50), IN id BIGINT)
BEGIN

 SELECT @employee_id := `Employee_Id` FROM `employee_profile` WHERE `Email_Id` = email;

 UPDATE notification_status_table SET NotifyTrainerStatus=1 WHERE Employee_Id    =@employee_id AND Training_Id = id;

END$$

DELIMITER ; 
```

这是我的 mysql 查询，我必须在 id=6 时运行它。我有我的 php 代码，如下所示

```
if ( $id == 6 ) {
    // echo $trainingid;
    // echo "Inside id=6";
    mysql_query("call update_notify_trainer_in_status_table(" . $trainingid  . ")");
    $n = count( $to );
    // echo "count : ".$n;
    // foreach( $to as $values ) {
    for( $i = 0; $i < $n; $i++ ) {
        // echo $values;
        $trainer_mail = $to[$i];
        echo $trainer_mail;
        //echo $trainingid;
        mysql_query("call  sp_update_NotifyTrainerStatus_in_notification_table('".$trainer_mail."' , " . $trainingid . ")")  or die( mysql_error() );
    }
} 
```

我的问题是这个查询对第一个 $trainer_mail 运行良好，而对第二个 $trainer_mail 没有运行。有什么建议么。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:32:50.840

您需要在每次调用存储过程后清理连接。试试这个：

```
function mysqli_clean_connection($dbc) {
    while(mysqli_more_results($dbc)) {
        if (mysqli_next_result($dbc)) {
            $result = mysqli_use_result($dbc);
            if ($result!=NULL) {
                mysqli_free_result($result);
            }
        }
    }
} 
```

我使用mysqli，但你可以调整它

# ruby-on-rails - 检查数组中条件的有效方法

> ID：14869534
> 
> 赞同：-2
> 
> 时间：2013-02-14T07:10:29.050
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我有一个客户端模型，在下面的实例变量中我收集了所有标识符。

```
@all_clients = Client.all.collect{|a| a.identifier} 
```

这返回`["client123", "client234", "client567", "client789"]`

此外，我有一个变量@create_id =“client123”，我正在检查集合中是否存在@create_id 的值，方法是`@all_clients.include? @create_id` 如果返回true，我将像这样将“_1”附加到它：`@create_id<<"_1"`并保存`@create_id`稍后创建客户端通过那个ID。

我再次检查`@create_id`集合中是否存在最新的“client123_1”，如果是，我添加_2并进一步检查并最终保存。这是我所知道的最糟糕的检查任何东西的方法，因为我是编程新手。

有人可以帮我找到一种有效的方法来做到这一点。

> 我需要做的就是首先检查集合是否存在我的变量，如果不存在，然后将 _1 附加到它，然后检查 string_1 是否已经存在并进一步移动到 _2 或 _3 以及更远。下划线和整数根据检查集合保持递增。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T07:34:41.653

您可以将 AR 查询限制为仅包含与您的前缀匹配的记录`@create_id`

```
clients=Client.arel_table
matching_clients = Client.where( clients[:identifier].matches( "#{@create_id}%" ) ) 
```

如果`matching_clients`为空，则还没有具有该标识符前缀的客户端。否则，现在您可以提取整数后缀片段并找出下一个可用的 id 是什么。

```
last_suffix = matching_clients.
  map(&:identifier).
  map { |s| (s.split('_',2)[1] || 0).to_i }.
  max 
```

如果标识符字段由索引支持，这应该是相当有效的。

如果您的方案使用的后缀格式允许对后缀进行正确的词法排序（例如，始终将后缀填充到固定宽度），那么您可以通过仅要求最大的索引将更多的工作推入带有索引的数据库中匹配的标识符。

请注意，如果您有多个并发进程可能想要创建新的唯一标识符，则整个方法会受到竞争条件的影响。如果您的数据库模式具有唯一索引`clients.identifier`（也支持查询效率），那么当您尝试使用您制造的新标识符保存记录时，数据库将引发唯一性约束错误，在这种情况下您可以继续尝试重新选择并派生新的候选标识符，直到您再次成功。

# silverlight - Silverlight 为 TabControl 创建控件模板

> ID：14869537
> 
> 赞同：0
> 
> 时间：2013-02-14T07:10:34.027
> 
> 标签：silverlight, tabcontrol, controltemplate

我使用`Silverlight 5`并且想要使用控制模板`TabControl`。怎么能做到。在`WPF`您可以使用以下代码作为控制模板`TabControl`

```
<Style TargetType="{x:Type TabControl}">
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="{x:Type TabControl}">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="20"/>
                    </Grid.ColumnDefinitions>
                    <TabPanel Grid.Column="1" Name="HeaderPanel" IsItemsHost="True"/>
                    <ContentPresenter Grid.Column="0" ContentSource="SelectedContent"/>
                </Grid>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style> 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:18:41.887

到目前为止，自定义 TabControl 模板的最简单方法是使用 Expression Blend。

但是，Silverlight TabControl 的 ControlTemplate 应该与您的示例大致相同。虽然有几个显着的差异。

`TargetType`语法不同

```
TargetType="TabControl" 
```

也没有`ContentSource`财产`ContentPresenter`

# jenkins - 关于 Jenkins 中的分支和主干

> ID：14869538
> 
> 赞同：-1
> 
> 时间：2013-02-14T07:10:39.580
> 
> 标签：jenkins, continuous-integration

jenkins中的trunk和branch有什么区别？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T11:49:45.360

听起来您只是对与源代码控制相关的术语主干和分支感兴趣。主干通常是指一个软件源的“主”版本，分支是从这个主线（通常是临时的）转移，通常用于处理然后合并回主干的功能。

详细信息取决于您使用的版本控制系统，但这里是与 SVN 相关的描述：

*   [https://stackoverflow.com/a/16163/206297](https://stackoverflow.com/a/16163/206297)

> **主干**将是开发的主体，从项目开始到现在。
> 
> **分支**将是从主干中某个点派生的代码副本，用于对代码进行重大更改，同时保持主干中代码的完整性。如果主要更改按计划进行，它们通常会合并回主干。

由于它与 Jenkins 有关，您可能对持续集成过程应该构建的软件版本感兴趣。我经常建议它是主干，因为这是规范版本，并且最有可能成为发布的候选版本。但是您可能有旧版本等的分支，这些分支也可能需要构建。但这当然取决于任何给定公司/项目的流程。

# javascript - 视频播放时如何使页面变暗？

> ID：14869545
> 
> 赞同：3
> 
> 时间：2013-02-14T07:11:15.157
> 
> 标签：javascript, html, css, html5-video

我已经见过几次这样做了，在播放视频时整个页面会变暗或变黑。我想知道如何使用 HTML CSS 或 Javascript 来做到这一点。

这是我的意思的一个例子：http: [//allmyvideos.net/vc0uqldjebnz](http://allmyvideos.net/vc0uqldjebnz)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T07:17:48.083

创建一个覆盖整个屏幕并且是深色或黑色的覆盖 div。将其设置为不显示。确保您的视频具有更高的 z-index。然后在播放视频时，将覆盖 div 设置为显示，它应该使页面变暗。

例如，像这样设置一个 div：

```
<div id="overlay" style="display:none;position:fixed;width:100%;height:100%;top:0;left:0;opacity:0.6;">&nbsp;</div> 
```

页面加载时，您将看不到叠加层。然后当视频播放时，将显示设置为任何内容，但没有将显示覆盖（使用 jQuery 的示例）

```
$("#overlay").show(); 
```

# uitableview - UIWebView 中的多个 URL 调用

> ID：14869546
> 
> 赞同：0
> 
> 时间：2013-02-14T07:11:28.630
> 
> 标签：uitableview, ios6, uiwebview, xcode4.5, master-detail

我有一个正在构建的**主/详细视图应用程序。**`UIWebView`基本上它在主视图的表中有一个列表，当用户选择一个项目时，它将在详细视图中显示一个网页。将需要加载大约 6 个不同的网站以响应表中的 6 个对象。我的代码工作到一定程度，但是它正在为表中的每个项目加载相同的网页。我认为最好编写一个 switch case 语句来告诉它要加载哪个网页等。我使用以下代码在以下位置启动我的网页`WebView`：

```
//create the UIWeb objects
NSString *standardForm = @"http://jeremy.atkin.id.au";
NSString *csiroForm = @"http://www.csiro.gov.au";
NSString *kpmgForm = @"http://www.kpmg.com.au";
NSString *pacbrandsForm = @"http://www.pacbrands.com.au";
NSURL *url = [NSURL URLWithString:standardForm];
NSURLRequest *requestObj = [NSURLRequest requestWithURL:url];
[_formView loadRequest:requestObj]; 
```

然后，我尝试将 switch case 语句放在一起，但似乎做出了错误的声明并不断出错......

```
switch (_formNumber)
{
    case 0:
        standardForm.url = standardForm;
        break;
    case 2:
        url.URLWithString = csiroForm;
        break;
    case 3:
        url.URLWithString = kpmgForm;
        break;
    case 4:
        url.URLWithString = pacbrandsForm;
        break;
} 
```

任何帮助和指导以使其正常工作将不胜感激。我以前从未构建过**主/详细**应用程序，所以我想我直接跳到了最深处！！干杯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:15:47.843

您只需更改 UITableView Didselectmethod 中的 URL。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:45:14.057

将链接添加到一个 NSArray ，然后根据 tableviewCell 选择的索引创建 url 并使用请求加载您的 webview。

1）在master中为urlList创建一个属性

```
@property (nonatomic, retain) NSArray *urlList; 
```

然后在实现中综合。

```
@synthesize urlList; 
```

2）在你的 init 或 viewDidLoad 中初始化数组

```
self.urlList = [[NSArray alloc]initWithObjects:@"http://jeremy.atkin.id.au",@"http://www.csiro.gov.au", @"http://www.kpmg.com.au",@"http://www.pacbrands.com.au",nil]; 
```

3）在 didSelectRowAtIndexPath:index 创建请求并加载您的网络视图。

```
NSURLRequest * request = [[NSURLRequest alloc]initWithURL:[[NSURL alloc]initWithString:[urlList objectAtIndex:indexPath]]];
[_formView loadRequest:request]; 
```

不要忘记在 dealloc 中释放（保留对象）。如果使用 arc，则将属性中的保留更改为强。

# wpf - 根据用户数量在窗口加载事件上加载按钮

> ID：14869547
> 
> 赞同：-1
> 
> 时间：2013-02-14T07:11:29.843
> 
> 标签：wpf, wpf-controls, wpfdatagrid, wpftoolkit

![在此处输入图像描述](../Images/83fa52647e8364aa1a1a2d56d16ab4e1.png)我们有 WPF 应用程序，我们想要如下功能。我想要一个表单，其中将包含**用户名**和每个用户前面的**一个按钮。**意思是如果数据库有 10 个用户，当窗口加载时它会带来这 10 个用户，并且在每个用户的前面会有一个显示按钮。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:34:14.310

您可以使用`ListBox`并创建一个`DataTemplate`包含您的`Label`和`Button`

例子：

xml:

```
<Window x:Class="WpfApplication16.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:WpfApplication16"
        Title="MainWindow" Height="350" Width="525" Name="UI">
    <Window.Resources>

        <!-- DataTemplate for User object -->
        <DataTemplate DataType="{x:Type local:User}" >
            <Border CornerRadius="3" BorderBrush="Black" BorderThickness="1" Margin="2" >
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="{Binding UserName}" Width="100"/>
                    <Button Content="Show User" Width="100" Margin="2"/>
                </StackPanel>
            </Border>
        </DataTemplate>
    </Window.Resources>

    <Grid DataContext="{Binding ElementName=UI}">
        <!-- The ListBox -->
        <ListBox ItemsSource="{Binding Users}" />
    </Grid>
</Window> 
```

代码：

```
public partial class MainWindow : Window
{
    private ObservableCollection<User> _users = new ObservableCollection<User>();

    public MainWindow()
    {
        InitializeComponent();

        // Load users
        for (int i = 0; i < 10; i++)
        {
            Users.Add(new User { UserName = "User " + i });
        }
    }

    public ObservableCollection<User> Users
    {
        get { return _users; }
        set { _users = value; }
    }
}

public class User
{
    public string UserName { get; set; }
} 
```

结果

![在此处输入图像描述](../Images/b74e46a88f800fd2fac60639f9e9e40b.png)

# javascript - 不使用 GWT 的 Google Maps API

> ID：14869550
> 
> 赞同：-1
> 
> 时间：2013-02-14T07:11:35.493
> 
> 标签：javascript, google-maps

我是 JavaScript 新手，我需要在我的应用程序中显示谷歌地图 v2 或 v3（V3 更好）而不使用 gwt。请帮忙...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:15:18.040

您可以通过这种方式嵌入地图：

*   [http://maps.google.com.sg/help/maps/getmaps/plot-one.html](http://maps.google.com.sg/help/maps/getmaps/plot-one.html)

或者，如果您想以编程方式执行此操作，请阅读文档：

*   [https://developers.google.com/maps/](https://developers.google.com/maps/)
*   [https://developers.google.com/maps/documentation/javascript/tutorial](https://developers.google.com/maps/documentation/javascript/tutorial)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:30:49.743

这取决于您的需要。如果你需要绘制很多区域，你可以在谷歌地图中使用 kml。您可以从形状文件本身创建一个 kml 文件。

# ruby-on-rails - 提交表单时调用操作

> ID：14869551
> 
> 赞同：1
> 
> 时间：2013-02-14T07:11:37.630
> 
> 标签：ruby-on-rails, simple-form

在我的 Rails 应用程序中，我使用`simple_form`. `edit`当我在视图中提交表单时，我想从 UsersController 调用一个操作。

代码：

*编辑.html.erb*

```
<div>
  <%= simple_form_for @user do |f| %>
    <%= f.input :name %>
    <%= f.input :profile_image %>
    <%= f.submit %> // I want to call "confirm" action from UsersController here
  <% end %>
</div> 
```

我认为用替换提交行`<%= f.submit 'submit', :input_html => { :action => "confirm" } %>`会起作用，但它没有；属性已更新，但未调用“确认”操作。

我认为我的问题是我试图`update`同时`confirm`在 UsersController 中调用两个动作。但是，我不确定如何解决问题。

我想要实现的是，如果用户更改了他的电子邮件，我想发送一封确认电子邮件来验证它。因此，当用户通过发送表单更新他的电子邮件属性时，我会调用该`confirm`操作来发送一封带有包含参数的链接的电子邮件。当用户单击链接时，他会被定向到带有参数的应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:16:37.013

这段代码可能会对您有所帮助，但您知道这是不是最好的主意吗？

```
 <%=  simple_form_for( @user, :url => { :action => "confirm" }) do |f| %> 
```

但是此代码仅`confirm`在提交表单时调用用户控制器的操作。如果您想在提交表单之前检查某些条件，那么您可以`jquery`用作客户端验证。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:38:55.273

在控制器内部做业务逻辑是个坏主意。让控制器只处理渲染和重定向。你可以在回调或 ActiveRecord::Observer 的帮助下做到这一点。这是回调示例

```
class User < ActiveRecord::Base
  after_save :check_for_email_edits

  def check_for_email_edits
    if email_changed?
      MyMailer.send_confirmation_instructions(self)
    end
  end

end 
```

# ruby - 如何使用ajax将json对象传递给控制器 ？

> ID：14869552
> 
> 赞同：1
> 
> 时间：2013-02-14T07:11:43.527
> 
> 标签：ruby, ajax, ruby-on-rails-3, json, ruby-on-rails-3.2

我有一个 json 对象。我想通过传递这个值来创建一个新学生。如何在 ruby​​ on rails 中使用 ajax 将该对象的值传递给控制器​​？这是我用于传递对象的代码。

```
self.save = function() {
       var dataToSave = {
                    Name: self.firstName(),
                    _age: self.Age()
                 }
       alert(JSON.stringify(dataToSave))
         $.ajax({
        url: '/students/new',
        dataType: 'json',
        type: 'PUT',
        data: {total_changes: JSON.stringify(dataToSave)},
        success: function(data) {
            alert("Successful");
          },
          failure: function() {
            alert("Unsuccessful");
          }
        });
       // TODO send request
  };

} 
```

i 终端有一些错误。表明

```
Parameters: {"id"=>"new", "total_changes"=>"{\"Name\":\"hu\",\"_age\":\"7\"}"} 
```

id 被视为 new.Rake 路由

```
[nithinv@ast297 jquery_country]$ rake routes
     students GET    /students(.:format)          students#index
              POST   /students(.:format)          students#create
  new_student GET    /students/new(.:format)      students#new
 edit_student GET    /students/:id/edit(.:format) students#edit
      student GET    /students/:id(.:format)      students#show
              PUT    /students/:id(.:format)      students#update
              DELETE /students/:id(.:format)      students#destroy 
```

控制器是

```
def new
    @student = Student.new

    respond_to do |format|
      format.html # new.html.erb
      format.json { render :json => @student }
    end
  end 
```

我怎样才能在控制器中创建功能？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-21T12:42:05.393

试试这个网址：

```
 alert(JSON.stringify(dataToSave))
     $.ajax({
    url: '/students',
    dataType: 'json',
    type: 'PUT',
    data: {total_changes: JSON.stringify(dataToSave)},
    success: function(data) {
        alert("Successful");
      },
      failure: function() {
        alert("Unsuccessful");
      }
    }); 
```

将网址更改为 /students

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:19:26.627

它完全按照您的要求执行 - 将 JSON 对象转换为有效的字符串表示形式。

现在您需要解析这个 JSON 字符串：

[如何使用 Ruby on Rails 解析 JSON？](https://stackoverflow.com/questions/1826727/how-do-i-parse-json-with-ruby-on-rails)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T07:52:35.867

我认为你的 routes.rb 有错误的路由，这就是你得到`id`as的原因`new`。

它应该是：

**路线.rb**

```
resources "students" 

match "/students/new" => "students#new" 
```

这将在您的控制器中调用`new`操作。`students`所以这取决于你的`new`动作在`students`控制器中有什么代码。

您的其余代码似乎是正确的。但是，如果您仍然收到错误，则比显示您收到的错误消息以及`new`进一步的操作代码。

# java - 一个主题的多个持久订阅者中的事务管理

> ID：14869558
> 
> 赞同：3
> 
> 时间：2013-02-14T07:12:05.760
> 
> 标签：java, jms, publish-subscribe, tibco, jms-topic

我在 Tibco MoM 上阅读（并已实现示例）JMS 主题订阅者。这些是我指的链接：[Link1](http://docs.oracle.com/javaee/1.3/jms/tutorial/1_3_1-fcs/doc/jmsj2ee.html)

但是，我不清楚如何通过多个订阅者管理事务。我`DefaultMessageListenerContainer`用作容器和持久订阅。

通常，当`onMessage`订阅者完成时，事务被提交。`How does it happen over multiple subscribers?`

现在，假设 Subscriber1 收到了消息并根据它处理了一个动作（该动作不能逆转）。后来 Subscriber2 活跃起来并尝试处理此消息。出了点问题，现在必须回滚事务 - 消息将被放回主题中。

*接下来，Subscriber1 会再次看到 Message 吗？它是否必须再次使用该消息？这是分布式事务的情况吗？什么时候提交？*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T11:59:15.917

每个订阅者在自己的事务中接收其消息，并且如果事务成功提交，则单个订阅者将不会再次看到该消息。在订阅者事务回滚时，消息将仅重新传递给失败的订阅者（假设代理不限制重新传递）。

# c# - 为 WCF 库创建接口

> ID：14869560
> 
> 赞同：0
> 
> 时间：2013-02-14T07:12:21.763
> 
> 标签：c#, asp.net, wcf

我最近开始使用 WCF 设计，将消息从网页安全地发送到应用程序。

到目前为止，我已经成功创建了一个运行的 WCF 库，以及一个当前链接到该服务的网页，发送一条消息并接收回复。

不幸的是，由于我采用了非常新的方法，并且我读过的教程有些过时，我不知道如何（或不知道正确的方法）向这个库添加服务器端接口（如果可能的话）所以我可以看到服务器正在做什么的一些输出。

谁能告诉我如何正确添加一个界面让我看到？

在`ObfuscationService`

```
public class ObfuscationService : IObfuscation
    {
        public string Message(string msg)
        {
            return "Your message is: " + msg;
        }
    } 
```

在网络应用程序上：

```
private void ServerService()
    {
        ObfuscationClient obfuClient = new ObfuscationClient();
        Response.Write(obfuClient.Message(@txtInput.Text));
    } 
```

我现在所做的就是发送一条消息并返回它。

不过，我需要详细说明字符串的方法，并且我需要服务器上的 UI，以便我可以在屏幕上打印过程，显示连接了多少用户等。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:48:52.830

根据评论

请参阅此链接：

[wcftestclient 失败，但仅在远程计算机上](https://stackoverflow.com/questions/3982990/wcftestclient-fails-but-only-on-remote-machine)

您可能需要填写完整的 IP 地址

# json - 骨干我如何仅将部分 json 文件加载到集合中

> ID：14869561
> 
> 赞同：0
> 
> 时间：2013-02-14T07:12:26.633
> 
> 标签：json, parsing, backbone.js, collections, fetch

嗨，我有一个如下所示的 json 文件：

```
{
"links_1": [
    {
        "navn": "somename",
        "link": "http://www.domane.com"
    },
    {
        "navn": "somename",
        "link": "http://www.domane.com"
    },
    {
        "navn": "somename",
        "link": "http://www.domane.com"
    }
],
"links_2": [
    {
        "navn": "someothername",
        "link": "http://www.domane.com"
    },
    {
        "navn": "someothername",
        "link": "http://www.domane.com"
    },
    {
        "navn": "someothername",
        "link": "http://www.domane.com"
    }
]   
} 
```

然后我有我的收藏课。现在我想创建一个只包含 json 文件中的 links_1 数组的新集合。还有另一个包含 json 文件中的 links_2 数组的新集合。

我如何做到这一点？

```
var col = new Collection( Collection.prototype.parse = function(response){
return response.links_1;
} 
```

为了进一步说明，我希望我的 fetch 获取特定的 json 数据对象。

```
var col = new Collection();
col.fetch(links_1);  //  here i only want to get links_1 json data

var col2 = new Collection();
col2.fetch(links_2); //  here i only want to get links_2 json data 
```

任何帮助都会很棒。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:38:56.270

你在试图覆盖的正确轨道上`parse`，你只是做错了。尝试：

```
//define a collection class
var Link1Collection = Backbone.Collection.extend({
  parse:function(response) {
    return response.links_1
  }
});

//initialize a new instance of your collection class and fetch
var collection = new Link1Collection();
collection.fetch(); 
```

**编辑：**要选择要逐个实例提取的字段，您可以在选项中传递自定义选项`fetch`。选项传递给`parse`：

```
//define a collection class
var LinkCollection = Backbone.Collection.extend({
  parse:function(response, options) {
    return options.parseField ? response[options.parseField] : response;
  }
});

//initialize a new instance of your collection class and fetch
var collection = new LinkCollection();
collection.fetch({parseField:'links_1'}); 
```

# c# - 扩展方法编译器优先级

> ID：14869563
> 
> 赞同：1
> 
> 时间：2013-02-14T07:12:33.237
> 
> 标签：c#, .net

我的客户提出了一个奇怪的要求，即对于项目代码中的每个 .ToString() 调用，我们都应该进行自定义操作（例如在 db 中添加一行）

我觉得扩展方法对我很有用，如果它为我提供了压倒一切的设施。

为什么微软不允许扩展方法覆盖类方法的现有行为？

我听说编译器将扩​​展方法的优先级低于类方法。有没有办法将编译器修改为优先于扩展方法而不是类方法？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-14T07:14:58.317

> 有没有办法将编译器修改为优先于扩展方法而不是类方法？

不，你不能。

我会从类似的[问题](https://stackoverflow.com/questions/4982479/how-to-create-extension-method-for-tostring)中引用 Eric Lippert 的话：

> 扩展方法的目的是扩展类型上可用的方法集，而不是覆盖现有方法；这就是为什么它们被称为“扩展方法”

来自[MSDN - 扩展方法](http://msdn.microsoft.com/en-us/library/vstudio/bb383977.aspx)：

> 您可以使用扩展方法**来扩展类或接口，但不能覆盖它们**。永远不会调用与接口或类方法具有相同名称和签名的扩展方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T07:35:50.007

实际上，扩展本身存在问题。因为实例的 ToString() 方法将具有扩展性。

[Microsoft Developer Network 上](http://social.msdn.microsoft.com/forums/en-US/csharplanguage/thread/e42f1511-39e7-4fed-9e56-0cc19c00d33d)有一个很好的解释。

简而言之：

```
class Program
{
    static void Main(string[] args)
    {
        try
        {
            string value = "test";
            Console.WriteLine(value.ToString());
        }
        catch (Exception ex)
        {
            Console.WriteLine(ex);
        }
        Console.WriteLine("End");
        Console.Read();
    }
}
public static class StaticExtensions
{
    public static string ToString(this Object obj)
    {
        if (obj == null)
            return "";
        else
            return obj.GetType().FullName + obj.ToString() ;
    }
} 
```

将返回测试。

您可能应该尝试另一种方式。也许是代理对象或那个方向的东西。

# java - 不同jar的包命名

> ID：14869566
> 
> 赞同：1
> 
> 时间：2013-02-14T07:12:45.943
> 
> 标签：java, jar, naming-conventions, packages

假设我`A`在 Eclipse 中有一个项目，它产生`jar1`. 并`B`在产生`jar2`.
两个项目使用相同的包命名是不是一个坏主意？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:17:43.963

如果您完全确定这些项目将始终相互独占使用，那么没关系。如果将来这两个项目被第三个项目引用，那么就会出现模棱两可的情况。此外，如果项目 A 引用项目 B 或反之亦然，则也可能出现模棱两可的情况。所以在创建项目时最好有不同的包命名（以保持它们的唯一性）

# wpf - 在 ControlTemplate 中更改 WPF 文本框前景色

> ID：14869568
> 
> 赞同：4
> 
> 时间：2013-02-14T07:12:48.710
> 
> 标签：wpf, controltemplate, foreground

我有样式化的文本框，它使用控制模板根据视觉状态（鼠标悬停、禁用等）设置背景颜色。代码取自 MS 的[TextBox 模板](http://msdn.microsoft.com/en-us/library/ms752068.aspx)页面。

我想要做的也是根据视觉状态改变前景（字体）颜色。例如，在鼠标悬停时，我想让文本颜色突出，而在禁用时，我想让它变灰

我的 xaml（我已经删除了 'Normal' 和 'Disabled' 的 VisualState 标签以及 Border 的几个 <Border.Blah> 子项）：

```
<Color x:Key="EditableControlHiLightColor">Ivory</Color>
<Color x:Key="EditableControlHiLightTextColor">Pink</Color>

<Style TargetType="{x:Type TextBox}">
  <Setter Property="MinWidth" Value="100" />
  <Setter Property="MinHeight" Value="20" />
  <Setter Property="Template">
    <Setter.Value>
      <ControlTemplate TargetType="{x:Type TextBoxBase}">
        <Border Name="Border"
            CornerRadius="4"
            Padding="2"
            BorderThickness="1">
          <VisualStateManager.VisualStateGroups>
            <VisualStateGroup x:Name="CommonStates">
              <VisualState x:Name="MouseOver" >
                <Storyboard>
                  <ColorAnimationUsingKeyFrames Storyboard.TargetName="Border" Storyboard.TargetProperty="(TextBox.Background).Color">
                    <EasingColorKeyFrame KeyTime="0" Value="{StaticResource EditableControlHiLightColor}" />
                  </ColorAnimationUsingKeyFrames>
                </Storyboard>
              </VisualState>
            </VisualStateGroup>
          </VisualStateManager.VisualStateGroups>
          <ScrollViewer Margin="0" x:Name="PART_ContentHost" />
        </Border>
      </ControlTemplate>
    </Setter.Value>
  </Setter>
</Style> 
```

我首先尝试在 Storyboard 标记中添加一个新的 <ColorAnimationUsingKeyFrames> 来改变前景，所以它看起来像：

```
<Storyboard>
  <ColorAnimationUsingKeyFrames Storyboard.TargetName="Border" Storyboard.TargetProperty="(TextBox.Background).Color">
    <EasingColorKeyFrame KeyTime="0" Value="{StaticResource EditableControlHiLightColor}" />
  </ColorAnimationUsingKeyFrames>
  <ColorAnimationUsingKeyFrames Storyboard.TargetName="Border" Storyboard.TargetProperty="(TextBox.Foreground).Color">
    <EasingColorKeyFrame KeyTime="0" Value="{StaticResource EditableControlHiLightTextColor}" />
  </ColorAnimationUsingKeyFrames>
</Storyboard> 
```

但这没有效果 - 文本颜色保持不变。

我认为这是由于 <ControlTemplate> 顶部的 <Border> 造成的，因此我尝试将 <Foreground ...> 标记设置为 ControlTemplate 的子项。Visual Studio 没有这些。（*未找到类型 Foreground。验证您没有丢失程序集引用并且所有引用的程序集都已构建。*）

我已经查看了 SO，似乎与[模板绑定设置​​的无法更改的属性有关](https://stackoverflow.com/questions/3644969/problem-setting-foreground-with-visual-state-manager)，但在我的情况下，它在我试图进行更改的模板中。

那么，如何使用视觉状态更改控件模板中文本框的前景（字体）颜色？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2019-01-09T08:22:08.143

看来我们只能通过改变TextBox Foreground来改变ScrollViewer Foreground。为此，您可以使用触发器：

```
 <ControlTemplate.Triggers>
        <Trigger Property="IsEnabled" Value="False">
            <Setter Property="Foreground">
                <Setter.Value>
                    <SolidColorBrush Color="{StaticResource ControlDisabledForeground}"/>
                </Setter.Value>
            </Setter>
        </Trigger>
        <Trigger Property="IsReadOnly" Value="True">
            <Setter Property="Foreground">
                <Setter.Value>
                    <SolidColorBrush Color="{StaticResource ControlReadOnlyForeground}"/>
                </Setter.Value>
            </Setter>
        </Trigger>
    </ControlTemplate.Triggers>
</ControlTemplate> 
```

您可以在此处查看完整代码： [https ://gist.github.com/Javad-Amiry2/5897049](https://gist.github.com/Javad-Amiry2/5897049)

# mysql - 在sql中将BLOB转换为文本

> ID：14869572
> 
> 赞同：3
> 
> 时间：2013-02-14T07:13:17.537
> 
> 标签：mysql, sql, sql-server, blob

我的数据库表中有一个字段，其数据类型为。如何使用 中的查询`BLOB`查看内容。内容是`text/string``SELECT``SQL``MIMETYPE``'text/xml charset=UTF8'`

我试过这个，我不确定我的语法是否正确

```
SELECT 
CAST((SELECT column FROM myTable WHERE ID='56')AS CHAR(10000) CHARACTER SET utf8) 
```

并且

```
SELECT 
CONVERT(VARCHAR(max), CAST((SELECT column FROM myTable WHERE ID='56') 
as binary)) from BIZDOCCONTENT 
```

非常感谢

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-02-14T07:16:57.463

尝试：

```
SELECT CONVERT(object USING utf8)
FROM tablename 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-14T07:17:58.537

试试这个查询 -

```
SELECT CONVERT(column USING utf8) FROM myTable WHERE ID=56 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-08-28T17:54:40.797

我有同样的问题 - 我只是更改了 phpmyadmin 中的字段类型！我所看到的：

ALTER TABLE `pages`CHANGE `content` `content`TEXT NULL DEFAULT NULL
（'content' - 我的字段是 BLOB 类型）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-06-11T11:41:53.457

```
CREATE OR REPLACE FUNCTION HASTANE.getXXXXX(p_rowid in rowid) RETURN VARCHAR2
AS
    l_data long;
BEGIN
    SELECT XXXXXX INTO l_data FROM XXXXX WHERE rowid = p_rowid;
    RETURN substr(l_data, 1, 4000);
END getXXXXXX; 
```

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2013-02-14T07:26:37.400

在 php 中设置您的内容类型：

```
header("Content-type: image/jpg"); //Send the content Type here.
print $data['blob_data']; 
```

# wpf - 保存文件后绑定到 WPF DataGrid 消失

> ID：14869573
> 
> 赞同：0
> 
> 时间：2013-02-14T07:13:20.433
> 
> 标签：wpf, binding, datagrid

我有一个`WPF`数据网格：

```
<DataGrid SelectedIndex="{Binding SelectedXIndex,Mode=TwoWay}" DataContext="{Binding MyViewModel}" ItemsSource="{Binding XList}" AutoGenerateColumns="False">
...
</DataGrid> 
```

`ItemSource`绑定到位于我的 ViewModel 中的列表。

```
 private ObservableCollection<X> _xList= new ObservableCollection<X>();
    public ObservableCollection<X> XList
    {
        get
        {
            return _xList;
        }
        set
        {
            _xList= value;
            NotifyPropertyChanged("XList");
        }
    } 
```

X 类包含 Name(string) 和 Value(int)。

按下时我有一个按钮，它将充满详细信息（名称和值）的列表项保存在文件中。

保存后，与 DataGrid 的绑定在 ItemSource 中不起作用，我有几个与 XList 不同的项目。

这是保存功能：

```
 public void SaveToFile(string path)
    {
        XList= FilterCommands();//Return the full value commands
        List<X> serlist = new List<X>();

        for (int i = 0; i < XList.Count; ++i)
        {
            if (!string.IsNullOrEmpty(XList[i].Name))
            {
                serlist.Add(XList[i]);
            }
        }
        XmlSerializer serializer = new XmlSerializer(typeof(List<X>));
        TextWriter textWriter = new StreamWriter(path);
        serializer.Serialize(textWriter, serlist);
        textWriter.Close();
    } 
```

我不明白为什么会这样。

（在我看来问题可能是打开对话框保存，但如何解决呢？）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-17T20:16:52.337

看起来 FilterCommands 方法正在替换 ObservableCollection 的内容。

该方法究竟是做什么的？是在改变收藏吗？

# visual-c++ - 即使调用 DeleteEnhMetaFile()，CopyEnhMetaFile() 也不会释放句柄

> ID：14869578
> 
> 赞同：1
> 
> 时间：2013-02-14T07:13:32.043
> 
> 标签：visual-c++

我有一个示例代码，它将一个元文件复制到另一个位置。第一次成功，但随后的试验失败，说“该进程无法访问该文件，因为它正在被另一个进程使用”。请看我的代码

HENHMETAFILE hemf = GetEnhMetaFile(L"C:\Temp\MyMeta.emf");

CopyEnhMetaFile(hemf, L"C:\Temp\MyMetaCopy.emf"))

DeleteEnhMetaFile(hemf);

# javascript - IE中的Jquery堆栈溢出

> ID：14869582
> 
> 赞同：1
> 
> 时间：2013-02-14T07:13:41.387
> 
> 标签：javascript, jquery, internet-explorer, overflow

我在 IE8 中得到“第 2 行的堆栈溢出”。错误行是：

```
return typeof f!="undefined"&&(!a||f.event.triggered!==a.type)?f.event.dispatch.apply(i.elem,arguments):b 
```

在 jQuery 中。任何的想法？！这是页面：

[http://www.compexlogistics.net/services](http://www.compexlogistics.net/services)

尝试在第二页中的“阿联酋内部”和“国际”之间切换。它也不会渲染项目的背景。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:19:18.843

自己解决了

这是一个递归调用。我不知道为什么它在 IE 中是递归的，但无论如何。

# java - MAC OSX 到 JAVE 的错误权限

> ID：14869585
> 
> 赞同：1
> 
> 时间：2013-02-14T07:13:50.933
> 
> 标签：java, macos, permissions, processing

我想创建一个将视频转换为音频的软件。我为此使用 PROCESSING (JAVA) 和 JAVE。我的问题是“ `it.sauronsoftware.jave.InputFormatException`”，此代码可以运行，`Windows`但不能在`OSX`.

我认为这可能是权限问题。

```
String pathVideo="/Users/nouv/Desktop/video1";
String pathAudioTmp="/Users/nouv/Desktop/son";

void setup() {
  size(200, 200);

 try {
    File source = new File(pathVideo);
    File target = new File(pathAudioOutput);
    AudioAttributes audio = new AudioAttributes();
    audio.setCodec("libmp3lame");
    audio.setBitRate(new Integer(128000));
    audio.setChannels(new Integer(2));
    audio.setSamplingRate(new Integer(44100));
    EncodingAttributes attrs = new EncodingAttributes();
    attrs.setFormat("mp3");
    attrs.setAudioAttributes(audio);
    Encoder encoder = new Encoder();
    encoder.encode(source, target, attrs); 

  }
  catch (Exception e)
  {
    e.printStackTrace();
    println(e);
  } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:39:42.340

在这种情况下，您需要阅读文档！

> **it.sauronsoftware.jave.InputFormatException**
> 
> 源文件无法解码。当解码器不支持源文件容器、视频流格式或音频流格式时会发生这种情况。您可以检查支持的容器和调用编码器方法的插入解码器

从[这里](http://www.sauronsoftware.it/projects/jave/manual.php)引用。

在这种情况下，此错误导致未安装任何解码器。

JAVE 使用 ffmpeg，并包含适用于 Windows 和 Linux 的二进制文件。使用 OSX，您需要安装 ffmpeg，并将 JAVE 指向它。

[使用替代的 ffmpeg 可执行文件](http://www.sauronsoftware.it/projects/jave/manual.php#7)

# c# - 将 XElement 转换为没有 JSON 的 JObject - 或 - 为空元素配置 SerializeXNode

> ID：14869596
> 
> 赞同：2
> 
> 时间：2013-02-14T07:14:43.100
> 
> 标签：c#, xml, json, json.net, xelement

我正在使用 Json.NET[将 XML 转换为 JSON](http://james.newtonking.com/projects/json/help/)的能力，并且效果很好。我说“非常好”是因为它将空 XML 节点映射到`null`而不是`{}`（空 JSON 对象）。但是，因为这个 Web 服务结果*驱动*了一个 knockout.js 绑定，所以我需要映射到空 XML 元素以`{}`维护绑定结构¹。

当前的方法如下所示：

```
// Json.NET XML->JSON
// Can I specify any custom converters for this?
var json = Newtonsoft.Json.JsonConvert.SerializeXNode(xDoc);

// JSON->JObject
var jObject = Newtonsoft.Json.JsonConvert.DeserializeObject(json);

// Update all `null` values to `{}`
// This "works reliably" because XML properties can never be null, but is
// hackish in its own right.
ConvertNullToEmptyObject(jObject as JContainer);

// And we're back at JSON, but I'd like to avoid such
// a complicated XML->JSON->JObject(Fixup)->JSON route.
// Performance isn't an issue, but it just feels dirty.
var finalJson = Newtonsoft.Json.JsonConvert.SerializeObject(jObject); 
```

那么（问题！）；

1.  如何*避免*通过 JSON 的迂回之旅？
2.  有没有更好的方法将 XElement 转换为 JSON（应用特殊规则）？

笔记：

*   我知道我可以编写*自己的* `XElement->JObject`转换函数（使用与 Json.NET 相同的规则，甚至代码），但如果可能，我想重用库支持。如果您认为我应该一开始就这样做，请发表评论说。
*   我想坚持使用 Json.NET，但只要它们是免费的、小型的并且在 .NET 3.5 中工作，就不会被劝阻查看替代或补充库。

* * *

¹的一般方法`knockout<-JSON<-WS(XML)->JSON->knockout`工作得很好。这里的问题是标准的 knockout.js 模板绑定（与 结合使用`ko.mapping`）*不会*“自动激活”结构，即使绑定到不存在的属性（在现有结构内）效果很好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T19:48:11.827

如果您有更好的答案，请写下来。接受的答案可以更改。

* * *

好吧，我要说这对于 Json.NET “不太可能”。

我破解了[Json.NET 的 XmlNodeConverter](http://json.codeplex.com/SourceControl/changeset/view/69709#128123)，它只与 JsonReader 和 JsonWriter 进行外部接口。

虽然可能*会*编写 JObjectReader 和 JObjectWriter，但这将涉及比我目前愿意投资更多的工作。

或者，我可以复制*所有*XmlNodeConverter 代码（其中大部分是私有的/内部的）并根据我的要求对其进行修改——但是这种复制粘贴批量复制让我错了。

我现在所拥有的效果很好，即使看起来很浪费。

# java - Java中的可扩展列表列表

> ID：14869598
> 
> 赞同：1
> 
> 时间：2013-02-14T07:15:03.837
> 
> 标签：java, arraylist

我有一个 GUI 应用程序，它允许用户为特定部分创建部分和子部分。用户可以随时添加新部分并将新子部分添加到部分。最后，我有一个列表查看器，每次单击“刷新”按钮时都会显示全部内容。

对于部分部分，我创建了一个字符串列表：

```
public static ArrayList<String> sections = new ArrayList<String>(); 
```

对于小节部分，我想创建一个列表列表，它将创建所有部分的列表。我使用过类似的东西，但问题是我无法使用部分名称唯一标识每个列表：

```
public static ArrayList<ArrayList<String>> subsections = new ArrayList<ArrayList<String>>(); 
```

我想要一个数据结构，它可以让我根据部分名称创建一个列表，还可以让我随时在其中添加字符串。有什么帮助吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T07:18:06.003

您需要[`Map`](http://docs.oracle.com/javase/1.6/docs/api/java/util/Map.html)它是键值对的集合。

```
public static Map<String,List<String>> subsections = new HashMap<String,List<String>>(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T07:19:48.797

使用**哈希映射**

```
Map<String, List<String>> section = new HashMap<String, List<String>>(); 
```

# objective-c - Datepicker 单元格的通知

> ID：14869601
> 
> 赞同：0
> 
> 时间：2013-02-14T07:15:21.140
> 
> 标签：objective-c, cocoa, nstableview, nsdatepicker

我必须根据我从日期选择器中选择的日期和时间，用数据库中的值填充 nstableview。当我从“截止日期”日期选择器中选择日期和时间时，表格必须填充值。为此，我使用了通知。在从笔尖醒来的虚无中，

```
 NSNotificationCenter *center = [[NSNotificationCenter alloc] init];
    [center addObserver:self selector:@selector(controlTextDidChange:) name:NSControlTextDidChangeNotification object:_toDate]; //_toDate is an ivar 
```

和，

```
 -(void)controlTextDidChange:(NSNotification *)obj
  { //populating tableview with datas } 
```

我已将日期选择器单元格的代表连接到文件所有者。问题是它根本没有进入 controlTextDidChange: 方法。如果我从日期选择器中选择日期和时间，请帮助我填充一次 nstableview。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:56:45.730

您需要像这样发布通知：

[[NSNotificationCenter defaultCenter] postNotificationName:NSControlTextDidChangeNotification object:_toDate];

在您的选择器选择方法中编写此代码，它将为您工作。

# c#-4.0 - 将 WSSE SOAP 标头添加到 Web 参考

> ID：14869602
> 
> 赞同：8
> 
> 时间：2013-02-14T07:15:36.510
> 
> 标签：c#-4.0, soap, web-reference

我正在尝试将 WSSE SOAP 标头添加到我的服务调用中，但大多数示例都集中在 WCF 上。我没有使用 WCF。我添加了一个 Web 参考 (WSDL)。

我尝试了各种方法都没有成功，比如 - 覆盖 GetWebRequest 方法：

```
 protected override System.Net.WebRequest GetWebRequest(Uri uri)
    {
        string user = "username";
        string pwd = "password";

        System.Net.WebRequest request = base.GetWebRequest(uri);

        string auth = string.Format("Basic {0}", Convert.ToBase64String(System.Text.Encoding.Default.GetBytes(string.Format("{0}:{1}", user, pwd))));
        request.PreAuthenticate = true;
        request.AuthenticationLevel = System.Net.Security.AuthenticationLevel.MutualAuthRequested;
        request.Headers.Add(HttpRequestHeader.Authorization, auth);

        return request;
    } 
```

WSSE 安全标头应类似于以下内容：

```
<Security xmlns="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">
         <UsernameToken>
            <Username>username</Username>
            <Password>password</Password>
         </UsernameToken>
      </Security> 
```

提前谢谢了！亲切的问候，

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-14T11:01:13.920

请参考以下内容：

~~[http://underthehood.ironworks.com/2010/01/why-doesnt-my-generated-proxy-class-build-wsse-elements-into-the-soap-request-header.html](http://underthehood.ironworks.com/2010/01/why-doesnt-my-generated-proxy-class-build-wsse-elements-into-the-soap-request-header.html)~~

[如何向 SOAP 消息添加安全标头？](https://stackoverflow.com/questions/5833539/how-to-add-security-header-to-a-soap-message)

这提供了答案！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-04-29T03:22:39.773

尝试添加评论，但它太长了......

第二个链接还可以吗？无论如何，这里不是链接，而是我认为的关键信息（以防链接消失） - 将 System.Web.Services.Protocols.SoapHttpClientProtocol 的引用替换为 Microsoft.Web.Services2.WebServicesClientProtocol （或 Microsoft.Web. Services3.WebServicesClientProtocol，如果这对你有用 - 我通过 nuget 找到了 services2）。我们需要更改类，因为 SoapHttpClientProtocol 中的请求方法是受保护的，因此很难（不可能？）调整任何请求细节。如果您使用 WCF 生成代码，我假设更改类会为您提供所有可能性。如果您要添加用户名，那么您可能需要添加所有其他 SOAP 安全值，因此[正确的方式为 SOAP webservice 传达 WSSE Usernametoken](https://stackoverflow.com/questions/5836685/correct-way-communicate-wsse-usernametoken-for-soap-webservice)是一个方便的参考。

# html - 具有兄弟姐妹的容器内的最大化元素

> ID：14869603
> 
> 赞同：0
> 
> 时间：2013-02-14T07:15:41.917
> 
> 标签：html, css

我的页面上有一个`<div>`元素，大致如下：[http://jsfiddle.net/vWBqB/2/](http://jsfiddle.net/vWBqB/2/)。
我希望`<select>`元素具有最大化的宽度，因此它会占用容器中带有红色边框的所有可用空间。
设置`width: 100%`使其宽度等于父容器，忽略左侧的浮动元素。`display: block`完全没有效果。
`Label:`里面的文本`<label>`可能会改变（通过 JavaScript）。
有没有办法在不设置静态`width`像素的情况下解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-17T10:30:42.910

[http://jsfiddle.net/vWBqB/4/](http://jsfiddle.net/vWBqB/4/)

```
.left {
    display: table-cell;
}
.right {
    width: 100%;
    display: table-cell;
}
.right>.select {
    width: 100%;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T13:31:33.703

```
.left {
    float:left;
    width:20%;

}

.select {

    /* width: 100%; */
    width:80%;
    float:right;
} 
```

这能解决你的问题吗？

# linux - 如何使用 wget 从网站只下载 .exe 文件？

> ID：14869605
> 
> 赞同：2
> 
> 时间：2013-02-14T07:15:45.023
> 
> 标签：linux, ubuntu, wget, mirroring

我只想从 example.com 下载 .exe 文件，我使用了 wget -mk [http://example.com](http://example.com) / 但它下载了网站的所有文件.. 我也想避免像 /fr ， /jp 这样的文件夹网站 。怎么做 ..？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:21:08.287

下载所有 exe 的使用 *

```
wget http://example.com/*.exe 
```

# android - 调整自定义菜单项的大小

> ID：14869608
> 
> 赞同：0
> 
> 时间：2013-02-14T07:15:48.013
> 
> 标签：android, customization, android-menu

我需要帮助来重新调整当前菜单项的大小。我创建了一个自定义菜单，其中包含以编程方式添加的项目`TableLayout`。这是我目前的菜单：

![这是我目前的菜单](../Images/58ac8caf355897d94cd1e1dd1d9b1f7a.png)

我需要更改第一个菜单的高度。现在的问题是，当我改变第一个菜单项的高度时，整个菜单都会改变它的高度。我想要这样的菜单：

![我想要这样的菜单](../Images/2f9f64280b7eba725a003ffa663ffada.png)

有没有办法重新调整我当前项目的大小？

```
public synchronized void show(View v) {
    mIsShowing = true;
    boolean isLandscape = false;
    int itemCount = mMenuItems.size();
    if (itemCount<1) return; //no menu items to show
    if (mPopupWindow != null) return; //already showing
    Display display = ((WindowManager) mContext.getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();
    if (display.getWidth() > display.getHeight()) isLandscape = true;
    View mView= mLayoutInflater.inflate(R.layout.custom_menu, null);
    mPopupWindow = new PopupWindow(mView,LayoutParams.FILL_PARENT,LayoutParams.WRAP_CONTENT, false);
    mPopupWindow.setAnimationStyle(android.R.style.Animation_Dialog);
    mPopupWindow.setWidth(display.getWidth());
    mPopupWindow.showAtLocation(v, Gravity.BOTTOM, 0, 0);

    int divisor = mItemsPerLineInPortraitOrientation;
    if (isLandscape) divisor = mItemsPerLineInLandscapeOrientation;
    int remainder = 0;
    if (itemCount < divisor) {
        mRows = 1;
        remainder = itemCount;
    } else {
        mRows = (itemCount / divisor);
        remainder = itemCount % divisor;
        if (remainder != 0) mRows++;
    }
    TableLayout table = (TableLayout)mView.findViewById(R.id.custom_menu_table);
    table.removeAllViews();

    for (int i=0; i < mRows; i++) {
        TableRow row = null;
        TextView tv = null;
        ImageView iv = null;

        row = new TableRow(mContext);
        row.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT));
        for (int j=0; j< divisor; j++) {
            if (i*divisor+j >= itemCount) break;
            final CustomMenuItem cmi = mMenuItems.get(i*divisor+j);
            View itemLayout = mLayoutInflater.inflate(R.layout.custom_menu_item, null);
            if  (j==0)
            {
                itemLayout.setBackgroundResource(R.drawable.current_menu);
                itemLayout.setPadding(5, 5, 5, 5);
            }

            tv = (TextView)itemLayout.findViewById(R.id.custom_menu_item_caption);
            tv.setText(cmi.getCaption());
            iv = (ImageView)itemLayout.findViewById(R.id.custom_menu_item_icon);
            iv.setImageResource(cmi.getImageResourceId());
            itemLayout.setOnClickListener( new OnClickListener() {
               @Override
               public void onClick(View v) {
                    mListener.MenuItemSelectedEvent(cmi);
                    if (mHideOnSelect) hide();
               }
            });
            row.addView(itemLayout);
        }
        table.addView(row);
    }
} 
```

如果我为整行提供背景而不是结果 ![](../Images/2d8eb5aba42efe2b00a118995eddebab.png) 如果通过此行为布局（每个菜单项）提供背景 itemLayout.setBackgroundResource(R.drawable.menubackground); ![在此处输入图像描述](../Images/8dbb96270b4ba68e46997c4cf72e8d36.png)

但我想看起来像这个菜单 ![在此处输入图像描述](../Images/e694ec92bbefa2673ad1b24ae5597b97.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:38:02.330

做你想做的一个简单的方法是让菜单`TableLayout`比正常的大一点（它应该和选定的菜单高度一样高）并为任何其他菜单项添加一些顶部填充或边距当前选择的一个。因此，一件物品总是比所有其他物品高，顶部会有一点空间。

编辑：请使用正确的，`LayoutParams`尤其是在使用`TableLayout`and时`TableRow`：

```
row = new TableRow(mContext);
row.setLayoutParams(new TableLayout.LayoutParams(TableLayout.LayoutParams.FILL_PARENT, TableLayout.LayoutParams.WRAP_CONTENT));
// ...
View itemLayout = mLayoutInflater.inflate(R.layout.custom_menu_item, row, false); 
```

尝试使用边距而不是填充：

```
//...
for (int j=0; j< divisor; j++) {
   if (i*divisor+j >= itemCount) break;
   final CustomMenuItem cmi = mMenuItems.get(i*divisor+j);
   View itemLayout = mLayoutInflater.inflate(R.layout.custom_menu_item, row, false);
   TableRow.Layoutparams lp = (TableRow.LayoutParams)itemLayout.getLayoutParams(); 
   if  (j==0) {
     lp.topMargin = 0; 
     itemLayout.setBackgroundResource(R.drawable.current_menu);
     itemLayout.setPadding(5, 5, 5, 5);
   } else {
     lp.topMargin = 12;
   }
   // ...
   itemLayout.setOnClickListener( new OnClickListener() {
       @Override
       public void onClick(View v) {
             mListener.MenuItemSelectedEvent(cmi);
             if (mHideOnSelect) hide();
             TableRow parent = (TableRow) v.getParent();
             final int count = parent.getChildCount();
             for (int i = 0; i < count; i++) {
                 final View child = parent.getChild(i);  
                 final TableRow.LayoutParams lp = (TableRow.LayoutParams) child.getLayoutParams();
                 if (child == v) {
                      lp.topMargin = 0;
                 } else {
                      lp.topMargin = 12;
                 }       
             } 
       }
    }); 
```

关于单元格之间的空间，我看不到这一点，甚至在您的图像中也看不到。

# html - 在 CSS 格式的链接中使用 :before 时避免换行

> ID：14869609
> 
> 赞同：0
> 
> 时间：2013-02-14T07:15:58.397
> 
> 标签：html, css, line-breaks

我使用 :before 在 CSS 中将图像添加到我网站上的某些链接

```
a.ext:before {
    content:            url(./_img/ext.png);
} 
```

不幸的是，如果空间不大，图像和文本是分开的。

![带换行符](../Images/0ac35f2be305dec3423bfefca5e09147.png) 对比 ![没有换行符](../Images/467e4a21768415d17717956c10e1d3a5.png)

如果图像绑定到链接中的第一个单词（在 HTML 中我会使用`&nbsp;`它），那就太好了。CSS中有类似的可能吗？

编辑： ![JSFiddle 截图](../Images/b82d50947e9108fe21022b19d859001e.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:18:11.857

尝试这个：

```
a.ext {
    padding-left: 15px;
    position: relative;
    white-space: nowrap; /* use this if you don't want the text to wrap */
}
a.ext:before {
    content: " ";
    background: url("https://www.azdes.gov/uploadedImages/icon_external_link.png") center center no-repeat transparent;
    display: block;
    width: 15px;
    height: 1.2em;
    left: 0;
    top: 0;
    position: absolute;
} 
```

### 截屏

![](../Images/281d47e971f2666cc3736d7b6ac0bcac.png)

![](../Images/256c61c0677bb38c418568de05d0c42b.png)

在 Chrome 24 和 Firefox 18.0.2 中截取的屏幕截图。在 IE 7、8、9 中需要更多内容？:P

### 小提琴：http: [//jsfiddle.net/praveenscience/TXPJE/1/](http://jsfiddle.net/praveenscience/TXPJE/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T08:32:57.310

如果我理解您的问题，如果元素不够宽以容纳它们，您会尝试不让图像包裹在文本下。

溢出和空白的组合：nowrap 可能会得到您正在寻找的结果。

# performance - R vs. Matlab：解释 rnorm、qnorm 和 pnorm 函数的速度差异

> ID：14869610
> 
> 赞同：9
> 
> 时间：2013-02-14T07:15:59.310
> 
> 标签：performance, r, matlab, runtime, rcpp

我比较了内置 R 函数的性能`rnorm`，`qnorm`以及`pnorm`等效的 Matlab 函数。

似乎`rnorm`and`pnorm`函数在 R 中比在 Matlab 中慢 3-6 倍，而`qnorm`函数是 ca。在 R 中快 40%。我尝试使用 Rcpp 包通过使用相应的 C 库来加速 R 函数，这导致运行时减少了约 30%，这仍然比 Matlab for `rnorm`and慢得多`pnorm`。

是否有可用的包提供一种更快的方法来模拟 R 中的正态分布随机变量（除了使用标准`rnorm`函数）？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-14T14:20:10.997

我在这里看到两个不同的问题，每个段落中都有一个：

*   是的，R 和 Matlab 等语言/系统之间存在差异。部分原因与解释器、循环速度、函数调用速度等有关。Rcpp 可以在具有真正 JIT 编译器的 Matlab 方面提供帮助。在最近关于 RcppArmadillo 的论文中，我们对卡尔曼滤波器的 Matlab、R 和 R+Rcpp 进行了比较。

*   底层编译代码也存在差异，是的，R 并不总是具有更快的实现，因为 R Core（恕我直言）首先追求精度。（而且 Rcpp 本身并没有帮助：我们只是在内部调用 R 的内容。）这已经出现了，例如 Darren Wilkinson 开始的 MCMC 的 Gibbs Sampler 示例。我注意到 R`rgamma()`比其他系统慢得多。因此，要以更快的方式解决您关于 N(0,1) 绘制的问题：我认为我们需要一个贡献的 Ziggurat 实现。这是目前速度更快的 N(0,1) 生成器之一，其他一些系统也使用它。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-02-14T15:09:19.020

将我的评论推广到一个答案：是的，有。

`library("sos"); findFn("Ziggurat")`在包中找到 [rziggurat](http://finzi.psych.upenn.edu/R/library/SuppDists/html/ziggurat.html)函数`SuppDists`；它是用C（或C++？）实现的，它的文档说

> 在 R 中运行的这个实现大约是 rnorm() 的三倍。

要注意的另一点在实践中可能会产生同样大或更大的差异，那就是在 R 中选择大块随机数比一个接一个地选择它们`rnorm(1e6)`要快得多......即比`vapply(seq(1e6),function(i) rnorm(1),numeric(1))`

```
 library("SuppDists")
 library("rbenchmark")
 n <- 1e5
 benchmark(rziggurat(n),
          rnorm(n),
          vapply(seq(n),function(x) rnorm(1),numeric(1)))

##           test   elapsed   relative user.self
## 2     rnorm(n)     1.138     13.233     1.140
## 1 rziggurat(n)     0.086      1.000     0.088
## 3  vapply(...)    29.043    337.709    29.046 
```

# android - 发现后如何连接到蓝牙设备？

> ID：14869614
> 
> 赞同：0
> 
> 时间：2013-02-14T07:16:27.363
> 
> 标签：android, bluetooth

我扫描设备，如果它在范围内或使用我的 android 设备启用，我想连接到另一台设备“HC-07”。我尝试了一些但未连接...有什么帮助吗？我使用 uuid 串行连接到另一个蓝牙设备...

```
 private final BroadcastReceiver ActionFoundReceiver = new BroadcastReceiver(){

    @Override
    public void onReceive(Context context, Intent intent) {
        // TODO Auto-generated method stub
        String action = intent.getAction();
        if(BluetoothDevice.ACTION_FOUND.equals(action)) {
             device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);

            short rssi = intent.getShortExtra(BluetoothDevice.EXTRA_RSSI, Short.MIN_VALUE);//find rssi dBm

            int pair_state = device.getBondState();

            if(device.getName()=="HC-07"){
                try {
                openBT();
                Toast.makeText(getBaseContext(),"HC-07 found", Toast.LENGTH_SHORT).show();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
                    }
                }

            if (pair_state == 12){ pair_str="Paired";

            btArrayAdapter.add("Dev name: "+ device.getName() + "\n" + "Mac: " + device.getAddress() + "\n" + "Signal RSSI: " + rssi + "dBm" + "\n"+pair_str);

            }

            btArrayAdapter.notifyDataSetChanged();

        }
    }};

     void openBT() throws IOException
    {
        UUID uuid = UUID.fromString("00001101-0000-1000-8000-00805f9b34fb"); 
        mmSocket = device.createRfcommSocketToServiceRecord(uuid);       
        mmSocket.connect();
        mmOutputStream = mmSocket.getOutputStream();
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:28:01.540

您是否仔细查看了提供的 BluetoothChat 示例？这将向您展示如何扫描和连接到蓝牙设备以及如何使用 API 来执行此操作。 [http://developer.android.com/resources/samples/BluetoothChat/index.html](http://developer.android.com/resources/samples/BluetoothChat/index.html)

检查这个例子：

[蓝牙基础](http://developer.android.com/guide/topics/wireless/bluetooth.html)

[http://developer.android.com/resources/samples/BluetoothChat/index.html](http://developer.android.com/resources/samples/BluetoothChat/index.html)

[Android蓝牙编程的代码示例](https://stackoverflow.com/questions/5619850/code-samples-for-android-bluetooth-programming)

[http://marakana.com/forums/android/examples/50.html](http://marakana.com/forums/android/examples/50.html)

# php - 在 Grocery Crud 中集成 Fancy Box CSS

> ID：14869616
> 
> 赞同：1
> 
> 时间：2013-02-14T07:16:37.407
> 
> 标签：php, codeigniter, fancybox, grocery-crud

我正在整合花式盒子。

按照这个链接[如何在杂货杂货中添加精美的盒子](http://www.grocerycrud.com/forums/topic/355-answered-how-to-add-fancybox-in-grocery-crud/)

虽然一切都运行良好，除了花哨的盒子 css 似乎没有链接。默认情况下，list_template.php(assets\grocery_crud\themes\flexigrid\views) 文件链接了 fancybox css 和 js。

这是控制器代码

```
 function customers_management()
{
        $crud = new grocery_CRUD();
                    $crud->set_js('assets/grocery_crud/js/jquery-1.8.2.js');
                    $crud->set_js('assets/grocery_crud/js/custom.js');
        $crud->set_table('customers');
        $crud->callback_column('test',array($this,'_callback_test_function'));
        $crud->display_as('salesRepEmployeeNumber','from Employeer')
             ->display_as('customerName','Name');

        $crud->set_subject('Customer');
        $crud->set_relation('salesRepEmployeeNumber','employees','lastName');

        $output = $crud->render();
        $this->_example_output($output);
} 
```

回调函数

```
function _callback_test_function($value, $row)
{
     $attributes = array(

        'width'      => '500',
        'height'     => '500',
        'scrollbars' => 'no',
        'status'     => 'yes',
        'resizable'  => 'yes',
        'screenx'    => '0',
        'screeny'    => '0',
        'class'      => 'various fancybox.ajax'

    );

    return anchor_popup('examples/test_content/'.$row->customerNumber,'Click Here', $attributes);

} 
```

自定义js文件

```
$(document).ready(function() {
$(".various").fancybox(); 
```

});

主题 - flexigrid 和杂货杂货 v 1.3.3

请指导如何解决这个问题。以下是上述代码的输出![在此处输入图像描述](../Images/dd36f63134004716caaae377fde190be.png)

# android - 转换集 到蓝牙设备[]

> ID：14869618
> 
> 赞同：1
> 
> 时间：2013-02-14T07:16:48.850
> 
> 标签：android

这是我的程序的两个部分

1.

```
Set<BluetoothDevice> pairedDevices;
BluetoothDevice[] pairedDevicesArray; 
```

2.

```
pairedDevices = btAdapter.getBondedDevices();
//pairedDevicesArray = (BluetoothDevice[]) pairedDevices.toArray(); 
```

问题出在注释行上。取消注释会使我的应用停止。是否无法将上面的内容转换`Set`为，`array`以便我可以随机访问`BluetoothDevice`对象。`array`

Java 和 Android 新手

更新：使用`pairedDevicesArray = pairedDevices.toArray(new BluetoothDevice[0]);`而不是上面的注释行解决了问题。有什么区别？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:28:07.653

可以`Set`按照您的尝试将内容作为数组获取。您需要检查返回的值`getBondedDevices`是否为非空。根据文档，如果出现错误，[`BluetoothAdapter.getBondedDevices()`](http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#getBondedDevices%28%29)可以返回`null`。

```
pairedDevices = btAdapter.getBondedDevices();
if(null != pairedDevices){
    pairedDevicesArray = (BluetoothDevice[]) pairedDevices.toArray();
} 
```

# ios - ios6中用于tabbarcontroller的UIViewControllerHierarchyInconsistency问题

> ID：14869619
> 
> 赞同：0
> 
> 时间：2013-02-14T07:16:49.233
> 
> 标签：ios, ios6, uitabbarcontroller

我的应用程序在 iOS5 中运行良好，但是当我切换到 iOS6 时，它由于 UIViewControllerHierarchyInconsistency 而崩溃。

错误如下所示：

```
UIViewControllerHierarchyInconsistency', reason: 'A view can only be associated with at most one view controller at a time! View <UILayoutContainerView: 0xa148de0; frame = (0 0; 320 480); autoresize = W+H; layer = <CALayer: 0xa148ea0>> is associated with <UITabBarController: 0xa64af30>. Clear this association before associating this view with <lkViewController: 0xa33faa0>.' 
```

我查看了一些关于 stackoverflow 的解决方案，它告诉我删除视图控制器。但是当我删除 tabbarcontroller 时，视图显示不正确。

我的 xib 文件如下所示：

![在此处输入图像描述](../Images/bef877d569d52ae4a8fd5d16ce6a1398.png)

需要一些指导..谢谢...

编辑：

崩溃出现在 lkViewController 中的这一行：

```
self.view = m_tabBarController.view; 
```

当 m_tabBarController 是 UITabBarController 时。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:51:30.760

改变

```
self.view = m_tabBarController.view; 
```

到

```
[self.view addSubview:m_tabBarController.view]; 
```

会解决问题...

# c++ - 安全模式调用dll

> ID：14869620
> 
> 赞同：0
> 
> 时间：2013-02-14T07:16:56.347
> 
> 标签：c++, dll, exception-handling

在我的项目中，我需要调用许多第三方应用程序。我正在寻找一种以安全方式调用该部分的方法。

如果我在单独的进程中调用它们，我可以将我的主应用程序与第三方应用程序故障隔离开来。但我想找到一种方法在调用这些 DLL 时实现这种隔离。也许我可以在沙箱中调用 DLL（但我不知道如何，如果你帮助我如何：d）。

我想到了 .Net AppDomain，但我的项目是用 C++ 编写的，我在 C++ 中找不到 AppDomain 的任何概念。

如果您能帮助我找到实现此目标的有效方法，我将很高兴。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T09:02:27.230

有一个现有的 Windows 机制，COM。使用该设置`CLSCTX_LOCAL_SERVER`，在 COM 代理进程中加载​​一个 DLL COM 组件`DllHost.EXE`，并在您的进程中创建一个 COM 代理。DllHost.EXE 是您的沙箱；那里的任何故障都不会使您的进程中的代理崩溃。

如果第三方组件使用非 COM 接口，您可能需要自己添加一个精简的 COM 包装器。

# c# - 从 C# 调用的带有后台作业的 Powershell 脚本

> ID：14869622
> 
> 赞同：0
> 
> 时间：2013-02-14T07:17:01.517
> 
> 标签：c#, powershell, asynchronous

我从一个程序中调用一个 Powershell 脚本`c#`，返回一个集合`PSObjects`作为`pipeline.Invoke()`. 作为 PS 脚本的一部分，使用 Net.Mail.SmtpClient 发送电子邮件。但是，发送电子邮件需要一些时间，所以我将电子邮件发送代码移动到使用`Start-Jon -ScriptBlock`...执行的脚本块中，问题就从这里开始：电子邮件未发送。当我从命令行执行脚本时，它会发送一封电子邮件。

可能是什么原因？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T16:57:33.583

实际上，在添加`Wait-Job`到代码（使其同步）之后，它又可以工作了。我想我明白了。我在终止主机的代码末尾调用`runspace.Close()`，因此 Powershell 后台作业没有机会执行。不幸的是，我找错地方了。

# javascript - 3D 旋转算法

> ID：14869625
> 
> 赞同：0
> 
> 时间：2013-02-14T07:17:14.063
> 
> 标签：javascript, 3d, coffeescript, three.js, matrix-multiplication

所以我正在尝试学习一些 3D 编程，并尝试做一些实验来更好地理解事物是如何工作的。

我正在尝试的一件事是（使用threejs）画一条线并随机旋转它。

我从来都不是矩阵专家，我总是以“在我脑海中有意义”的方式在 2D 中做事

```
# CoffeeScript
get_angle:->
  Math.atan2(@props.velocity[1],@props.velocity[0])
rotate:(amount)->
    ang = @get_angle()
    mag = @get_speed()
    # props is a velocity vector, [0] is x and [1] is y
    @props.velocity[0] = Math.cos(ang+amount)*mag
    @props.velocity[1] = Math.sin(ang+amount)*mag 
```

传入的数量是随机的......生成随机“行走”

我现在想知道如何在 3d 中做同样的事情？现在应用程序运行良好（我看到了我的线路），但它是“平坦的”。没有深度（由于 Z 组件没有被修改）这就是我想做的事情，这会是一个聪明的方法吗？

# 咖啡脚本

```
get_angle:->
    Math.atan2(@props.velocity[1],@props.velocity[0])
get_angle2:->
    # not sure about this, but I feel like I need to be finding the angle from the z now and something else.
rotate:(amount)->
    ang = @get_angle()
    ang2 = @get_angle2()
    mag = @get_speed()
    # props is a velocity vector, [0] is x and [1] is y
    @props.velocity[0] = Math.cos(ang+amount)*mag
    @props.velocity[1] = Math.sin(ang+amount)*mag
    @props.velocity[2] = # I have a feeling here I would do something with ang2 and amount? 
```

我知道从技术上讲，我可能想传递两个组件的旋转，但我想也许我可以尝试让所有三个组件旋转相同。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:31:29.330

3d 中的旋转比 2d 中的旋转要复杂一些，因为您必须绕线旋转，或者使用四元数，而不是点 (2d)。[在这里](http://www.siggraph.org/education/materials/HyperGraph/modeling/mod_tran/3drota.htm)查看旋转矩阵的不同组合，具体取决于您旋转的线。3d 变换涉及四乘四矩阵来创建齐次坐标，并且需要矩阵的三乘三部分来创建旋转。

您还可以使用[四元数](http://nl.wikipedia.org/wiki/Quaternion)（一种特殊的数字）来计算旋转，这在 3d 应用程序中使用起来非常方便，因为它解决了与“[云台锁定](http://en.wikipedia.org/wiki/Gimbal_lock)”有关的一些问题。

# vim - 我想在 Vim 中重复一段文字

> ID：14869627
> 
> 赞同：2
> 
> 时间：2013-02-14T07:17:20.583
> 
> 标签：vim

我想在 Vim 中重复一段文本。

我想复制以下行：

```
truncate `Portal20`.`client_types` 
```

并重复 x 次。

示例：5 次

```
truncate `Portal20`.`client_types`
truncate `Portal20`.`client_types`
truncate `Portal20`.`client_types`
truncate `Portal20`.`client_types` 
truncate `Portal20`.`client_types` 
```

我做了一些研究，但找不到好的资源。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-14T07:19:12.917

将光标移动到要复制的行，然后按

```
yy 
```

然后，按：

```
5p 
```

另一个不错的技术（也适用于复制多行）是将光标移动到要复制的行，然后按

`Shift`+`v`

按`y`复制行（或在复制前使用方向键上下移动选择更多行）。

然后按`5``p`上述方法将复制的块粘贴 5 次。

有关可视模式的更多文档，请参见以下文档：http: [//vimdoc.sourceforge.net/htmldoc/visual.html](http://vimdoc.sourceforge.net/htmldoc/visual.html)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-14T07:39:53.753

在[正常模式下](http://vimdoc.sourceforge.net/htmldoc/intro.html#Normal)，将光标放在要复制的行上的任意位置：

`Y``5``p`

[（第 3 杆）](http://www.vimgolf.com/)

**说明**（键是在线的超链接[`:help`](http://vimdoc.sourceforge.net/htmldoc/helphelp.html#%3ahelp)）：

*   [`Y`](http://vimdoc.sourceforge.net/htmldoc/change.html#Y): 拉线
*   [`5`](http://vimdoc.sourceforge.net/htmldoc/intro.html#%5bcount%5d): 次
*   [`p`](http://vimdoc.sourceforge.net/htmldoc/change.html#p)：将被拉出的文本放在光标之后

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-14T07:19:49.223

你试过`y``y``5``p`吗？它复制您的光标所在的行，并在其下方粘贴 5 次。

# android - 如何在运行时从 sdcard 上的特定文件夹中检索图像到 android 中的可绘制文件夹？

> ID：14869628
> 
> 赞同：0
> 
> 时间：2013-02-14T07:17:20.310
> 
> 标签：android

我们如何在运行时从 sdcard 中的特定文件夹检索或复制图像到可绘制文件夹。基本上我想显示与给定链接相同的幻灯片，但问题是他们正在从可绘制文件夹中检索所有图像，而我想从某个 sdcard 文件夹中检索。我是android的初学者，所以请帮助我。

```
here is the link : 

http://www.edumobile.org/android/android-development/image-gallery-example-in-android/ 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:36:36.763

res/drawable 文件夹中的资源被编译和优化。请查看 [http://www.linuxtopia.org/online_books/android/devguide/guide/topics/resources/android_resources-i18n_CreatingResources.html](http://developer.android.com/reference/java/io/File.html)。

如果您想在 sdcard 上使用图像，则必须从文件中加载它们。简单的例子是：

```
Bitmap bitmap = BitmapFactory.decodeFile(imageFile.getAbsolutePath());
jpgView.setImageDrawable(bitmap); 
```

简而言之。可绘制文件夹以特殊方式处理。

参数 imageFile 是类 File 的对象。 [http://developer.android.com/reference/java/io/File.html](http://developer.android.com/reference/java/io/File.html)

变量 jpgView 是类 ImageView 的一个实例。但这只是一个例子。 [http://developer.android.com/reference/android/widget/ImageView.html](http://developer.android.com/reference/android/widget/ImageView.html)

就您的循环而言，您将不得不遍历文件夹中的文件。请查阅相关文档。

# php - 未定义的属性：CI_Loader::$pagination

> ID：14869637
> 
> 赞同：2
> 
> 时间：2013-02-14T07:17:55.960
> 
> 标签：php, codeigniter

我正在为我的网站开发分页功能我正在使用**Codeigniter**，但我不断收到一条错误消息，我无法修复它让我头疼:D 有人可以看看我的代码并告诉我哪里出错了。我只是一个大人物。

错误是`Undefined property: CI_Loader::$pagination`，也是`Fatal error: Call to a member function create_links() on a non-object in C:\....`tnx 为您提供帮助

```
view.php

<!doctype html>
<html>
    <head>

        <meta charset=utf-8>
        <meta name=description content="">
        <meta name=viewport content="width=device-width, initial-scale=1">
        <title>Untitled</title>
        <link rel=stylesheet href="css/style2.css">
        <link rel=author href="humans.txt">

     </head>
   <body>

            <h1>Answer</h1>
            <?php if (isset($records)) : foreach($records as $row) : ?>

      <div = 'container'>
         <!--pagination -->
         <?php echo $this->pagination->create_links(); ?>

          <ul>
              <h1><?php  echo  $row->question; ?></h1>
             <li><?php  echo  $row->answer1; ?></li>
               <li><?php  echo  $row->answer2; ?></li>
               <li><?php  echo  $row->answer3; ?></li>
               <li><?php  echo  $row->answer4; ?></li>
               <li><?php  echo  $row->answer5; ?></li>
               <li><?php  echo  $row->answer6; ?></li>
          <ul>
       </div>
          <?php endforeach; ?>
          <?php else : ?>
          <h2>no records were returned</h2>
          <?php endif; ?>
    </body>
</html> 
```

控制器：

```
<?php

class Survay extends CI_Controller{

    function index()
    {
        $data = array(
            'question' => $this->input->post('question'),
            'answer1' => $this->input->post('answer1'),
            'answer2' => $this->input->post('answer2'),
            'answer3' => $this->input->post('answer3'),
            'answer4' => $this->input->post('answer4'),
            'answer5' => $this->input->post('answer5'),
            'answer6' => $this->input->post('answer6'),
        );

        if($query = $this->membership_model->get_records())
        {
            $data['records'] = $query;
        }

        $this->load->view('survay_view', $data);

    }

    function page()
    {
        //pagination
        $this->load->library('pagination');

        $config['base_url'] = 'http://localhost/admin/index.php/survay';
        $config['total_rows'] = $this->db->get('save_survay')->num_rows();
        $config['per_page'] = 1;
        $config['num_links'] =20;

        $this->pagination->initialize($config);

        $data['records'] = $this->db-get('save_survay', $config['per_page'], $this->uri->segment(3));
        $this->load->view('survay_view', $data);
    } 
}
?> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-14T07:42:58.627

在您的控制器中，`$this->load->view...`在行之前，您应该这样做：

```
$data['pagination'] = $this->pagination->create_links(); 
```

在视图中，替换`echo $this->pagination->create_links()`为

```
echo $pagination; 
```

**更新**

*资料来源：见下面 Jeemusu 的评论*

我错过了这部分，您在两个控制器方法中使用相同的视图，并且您没有在一个视图中添加分页。

`echo $pagination;`因此，您应该添加以下内容，而不仅仅是添加：

```
// check if $pagination variable is existing
if (isset($pagination))
{
    echo $pagination;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-11T07:49:24.800

您需要自动加载分页库...仅将其加载到函数中是行不通的。

# c++ - 从二进制 dll 文件中删除 C++ 类名

> ID：14869639
> 
> 赞同：8
> 
> 时间：2013-02-14T07:17:59.660
> 
> 标签：c++, visual-studio-2010, dll, linker, obfuscation

我在 Visual Studio 2010 下有一个 C++ 项目，它编译成一个 dll。我的项目中定义了几个专用于实现的私有类，例如`CMyClass`. 此类不是从 dll 或任何接口函数导出的。但是，当我检查生成的 dll 文件时，其中存储了一个字符串“CMyClass”。这是一个发布版本，我不希望这个字符串出现在 dll 文件中。此 dll 已交付给客户，我希望将我在项目中使用的所有名称从 dll 文件中删除，因此没有人能够获得如此简单的线索来了解我们在 dll 中使用的算法。

我使用发布配置。在项目属性中，链接器选项卡下的“生成调试信息”选项被关闭，C/C++选项卡下的“调试信息格式”设置为“程序数据库（/Zi）”。我试图为“调试信息格式”设置空字符串，但没有成功。

在 dll 中找到的字符串看起来像`.?AVCMyClass@@`并且位于 dll 文件的最末尾。它是 dll 文件中唯一出现的“CMyClass”字符串。但是，这个字符串几乎是为我所有的内部类提供的。

如何摆脱这些提及？

**更新**

请注意，我不想*混淆*源代码本身。提供的链接无关紧要。我只是看不出为什么类名存储在 dll 文件中。我总是可以在构建之前重命名我的类，但这不是很直接的解决方案。

**更新2**

我不同意社区关闭这个问题，因为这不是重复的。[Tyler Gill](https://stackoverflow.com/users/960081/tyler-gill)在评论中给出了答案。感谢他，也为别人感到羞耻。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-14T21:34:15.807

由于我从评论中的猜测似乎是正确的，因此我将其重新发布为答案。

类名的字符串是为已编译的二进制文件启用 RTTI（运行时类型信息）的结果。启用 RTTI 后，编译器会创建对象，这些对象存储有关编译到二进制文件中的类型的信息，其中一个属性是类型的名称。

请注意，某些使用`dynamic_cast`并`typeid`需要 RTTI，因此禁用将使您失去 C++ 的这些功能。

为了在 Visual Studio 中禁用 RTTI，请使用`/GR-`开关（参见[http://msdn.microsoft.com/en-us/library/we6hfdy0(v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/we6hfdy0%28v=vs.100%29.aspx)，如 Mikhail 所发布的那样。）

要在 GCC 中禁用它，请使用`-fno-rtti`开关。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T11:57:04.497

正如[Tyler Gill](https://stackoverflow.com/users/960081/tyler-gill)在评论中提到的那样，由于 RTTI，这个字符串是由编译器留下的，因为它`CMyClass`实际上是继承`IMyClass`的并且是多态的。通过使用开关[禁用 RTTI](http://msdn.microsoft.com/en-us/library/we6hfdy0%28v=vs.100%29.aspx)可以轻松解决我的问题。`/GR-`谢谢。

# java - 如何使用 java 绘制 3d 形状，没有其他库或框架或任何东西

> ID：14869640
> 
> 赞同：0
> 
> 时间：2013-02-14T07:17:59.920
> 
> 标签：java, 3d, shape

我想要学习的是在 JFrame 中绘制 3D 形状。

我只想用我的 IDE 来做这件事。如果有人可以帮助如何绘制任何像正方形这样的 3d 形状，如果可能的话，如何旋转它。或者有人可以提供一个资源链接，用于学习如何仅使用 java 绘制 3d 形状，就像我上面说的那样。如果有人需要更多详细信息，请询问。（如果可以这样做，请不要要求我以不同的方式这样做）。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T07:28:43.090

Java 有一个 3-D 包，它可能符合也可能不符合您“没有其他库或框架或任何东西”的标准：

*   [http://www.oracle.com/technetwork/java/javase/tech/index-jsp-138252.html](http://www.oracle.com/technetwork/java/javase/tech/index-jsp-138252.html)

如果是这样，那么您*仍然*必须至少使用*2D* Java 包：

*   [http://docs.oracle.com/javase/tutorial/2d/index.html](http://docs.oracle.com/javase/tutorial/2d/index.html)

问：您如何使用 2D 图元绘制 3D 对象？

A：不一定难，看你想走多深。在这个最简单的，只是：

a) 定义一个 3d 坐标系（归一化点 0.0 - 1.0 总是好的）

b) 编写函数将 3D 模型转换为 2D 坐标

很多书籍（和教程），包括：

*   [弗利和范达姆](https://rads.stackoverflow.com/amzn/click/com/0201848406)

*   [赫恩和贝克](https://rads.stackoverflow.com/amzn/click/com/0131615300)

我假设您的目标是“学习基础知识”。

# django - 用 django 记录芹菜

> ID：14869650
> 
> 赞同：2
> 
> 时间：2013-02-14T07:18:23.027
> 
> 标签：django, celery

我正在`celery`使用`django`. 很长一段时间以来，一切都运行良好，但最近我在`celery`. 现在我的日志配置有以下内容：

```
LOGGING = {
    'version': 1,
    'disable_existing_loggers': False,
    'formatters': {
        'verbose': {
            'format': '[%(levelname)s %(asctime)s %(thread)d] %(module)s:%(funcName)s - %(message)s'
        },
        'simple': {
            'format': '%(levelname)s %(message)s'
        },
        },
    'filters': {
        'require_debug_false': {
            '()': 'django.utils.log.RequireDebugFalse'
        }
    },
    'handlers': {
        'mail_admins': {
            'level': 'ERROR',
            'filters': ['require_debug_false'],
            'class': 'django.utils.log.AdminEmailHandler'
        },
        'mail_admins_critical': {
            'level': 'CRITICAL',
            'filters': ['require_debug_false'],
            'class': 'django.utils.log.AdminEmailHandler'
        },
        'file': {
            'level': 'DEBUG',
            'class': 'logging.handlers.TimedRotatingFileHandler',
            'formatter': 'verbose',
            'filename': '/tmp/django.log',
            'when' : 'midnight',
            'interval' : 1
        },
        'celery': {
            'level': 'DEBUG',
            'class': 'logging.handlers.TimedRotatingFileHandler',
            'formatter': 'verbose',
            'filename': '/tmp/celery.log',
            'when' : 'midnight',
            'interval' : 1
        },
        'console': {
            'level': 'DEBUG',
            'formatter': 'verbose',
            'class': 'logging.StreamHandler'
        },
    },
    'loggers': {
        'main.logger': {
            'handlers': ['file', 'console', 'mail_admins_critical'],
            'level': 'INFO',
            'propagate': True,
        },
        'celery.logger': {
            'handlers': ['celery', 'console', 'mail_admins_critical'],
            'level': 'INFO',
            'propagate': True,
        },
        'django.request': {
            'handlers': ['mail_admins'],
            'level': 'ERROR',
            'propagate': True,
        },
    }
} 
```

对于所有`celery`文件，我将以下内容放在顶部：`logger = get_task_logger('celery.logger')`

我注意到 celery 的日志文件有用户`www-data`，并且在首次创建日志文件（celery.log）时没有写权限。如何更改权限，以便默认情况下可以？直到最近我才开始遇到这个问题......

我阅读了以下内容：

[https://groups.google.com/forum/?fromgroups=#!topic/celery-users/wUHlE1piHu8](https://groups.google.com/forum/?fromgroups=#!topic/celery-users/wUHlE1piHu8)

[http://docs.celeryproject.org/en/latest/reference/celery.app.log.html](http://docs.celeryproject.org/en/latest/reference/celery.app.log.html)

**编辑**

当我将记录的行更改为此：

`logger = get_task_logger(__name__)`

并放入`CELERYD_HIJACK_ROOT_LOGGER = False`我的settings.py，它仍然劫持我的主记录器（main.logger）。有没有办法阻止它？然后它将需要对该日志文件的权限，否则......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T16:26:27.337

celery git repo 中的通用初始化脚本为此使用了一个专用目录，例如：

```
/var/log/celery/worker1.log
/var/log/celery/worker2.log
/var/log/celery/beat.log 
```

然后，您可以授予`www-data`在此目录中创建和读取文件的权限：

```
sudo chmod 755 /var/log/celery
sudo chown www-data:www-data /var/log/celery 
```

您不应该为非特权用户授予对 /var/log 顶级目录的写访问权，因此使用子目录是一种很好的做法。

# c# - Parallel.ForEach 期间使用的线程数

> ID：14869651
> 
> 赞同：1
> 
> 时间：2013-02-14T07:18:24.340
> 
> 标签：c#, multithreading, threadpool

我只是做了一个简单的实验，使用下面的代码显示进程中的线程总数。

```
Console.WriteLine("Total Number of Threads: {0}", Process.GetCurrentProcess().Threads.Count);

Parallel.ForEach(
            names,
            new ParallelOptions  {MaxDegreeOfParallelism = Environment.ProcessorCount },
            name =>
            {
                Console.WriteLine(name);
            });
Console.Read();
Console.WriteLine("Total Number of Threads: {0}", Process.GetCurrentProcess().Threads.Count); 
```

我在parallel.foreach 之前有12 个线程，在parallel.foreach 之后有17 个线程。

问题：

1.  为什么 Parallel.Foreach 中使用的 5 个线程在循环后继续运行？这是否意味着如果我有其他 Parallel.Foreach 在此之后会有更多的线程继续增加？
2.  为什么 Parallel.Foreach 之前不使用 12 个线程？是不是因为这12个线程正在被其他人使用？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-14T07:23:36.750

从外部看来，这种行为是不确定的。

Parallel 类使用线程池。有一些关于何时创建新线程和何时使用旧线程的决定。这也为您提供了性能并减少了所需的内存量。

在并行 foreach 之后，一些线程可能（暂时）仍然存在，可用于线程池活动。但据我所知，您无法预测，是否或有多少线程将继续存在。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2021-09-10T19:09:51.320

我的理解也是，您无法预测将运行多少线程。我遇到了线程数高于我想要的线程数的问题，我使用 AutoResetEvent 进行了处理。

# c# - 从文本文件创建 2 个数组

> ID：14869657
> 
> 赞同：0
> 
> 时间：2013-02-14T07:18:58.673
> 
> 标签：c#, arrays, file-io

我有一个巨大的文本文件（33 mb，编码为 Unicode，FSO 为“TristateTrue”）），我想将其放入两个不同的 C# 数组中。

文本文件中的行是这样形成的：

```
 40 TAB 10 TAB 15 TAB 7 TAB 8
 65 TAB 2  TAB 9  TAB 3 TAB 6
 30 TAB 89 TAB 11 TAB 5 TAB 14 
```

然后**第一个**C# 数组应读取以下内容：

```
 int[] outputs=new int[iLineCount+1];    
 outputs[0] = 40;
 outputs[1] = 65;
 outputs[2] = 30; 
```

**另一个**C# 数组应该是这样的：

```
 int[][] inputs = new int[3][];
 inputs[0] = new int[5];
 inputs[1] = new int[5];
 inputs[2] = new int[5];

 inputs[0][0] = 10;
 inputs[0][1] = 15;
 inputs[0][2] = 7;
 inputs[0][3] = 8;

 inputs[1][0] = 2;
 inputs[1][1] = 9;
 inputs[1][2] = 3;
 inputs[1][3] = 6;

 inputs[2][0] = 89;
 inputs[2][1] = 11;
 inputs[2][2] = 5;
 inputs[2][3] = 14; 
```

我觉得这真的很难。如果有人可以提供帮助，我将不胜感激。

非常感谢！

**注意**：TAB 代表制表符，行由 NewLine 字符“分隔”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T07:32:50.490

只是为了让你去：

```
 using (FileStream fileStream = new FileStream("filename", FileMode.Open, FileAccess.Read, FileShare.Read))
        {
            using (StreamReader streamReader = new StreamReader(fileStream))
            {
                while (streamReader.Peek() > -1)
                {
                    string line = streamReader.ReadLine();
                    string[] parts = line.Split('\t');

                    outputs[lineCounter] = int.Parse(parts[0]);

                    inputs[lineCounter] = new int[4];
                    inputs[lineCounter][0] = int.Parse(parts[1]);
                    inputs[lineCounter][1] = int.Parse(parts[2]);
                    inputs[lineCounter][2] = int.Parse(parts[3]);
                    inputs[lineCounter][3] = int.Parse(parts[4]);

                    lineCounter++;
                }
            }
        } 
```

请记住，此代码不会捕获异常或检查有效数据。我会把它留给你。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T07:24:28.280

看看方法[`File.ReadAllLines`](http://msdn.microsoft.com/en-us/library/s2tte0y1.aspx)和[`String.Split`](http://msdn.microsoft.com/en-us/library/b873y76a.aspx)。
总之，他们应该给你一个很好的起点。

# sql - T-SQL：如何根据其增量变化构造最新的对象状态？

> ID：14869658
> 
> 赞同：0
> 
> 时间：2013-02-14T07:19:01.277
> 
> 标签：sql, sql-server, tsql, grouping

情况如下：
有一些表存储对象的初始状态，然后对其状态进行增量更改。嗯。像这样：

```
...ID...|...Date...|....Field1...|...Field2..|...Field3..|  
...1....|..Today...|....value1...|...NULL....|...NULL....|  
...2....|..date1...|....xxx......|...NULL....|...NULL....|  
...1....|..date2...|....NULL.....|...value2..|...NULL....|  
...1....|..date3...|....init1....|...init2...|...init3...| 
```

所以问题是如何为所有类似于
1 的对象构造最新状态；今天; 值1；值2；初始化3？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:25:26.093

```
WITH latestDate
AS
(
SELECT  ID, DATE, Field1, Field2, Field3,
        DENSE_RANK() OVER (ORDER BY DATE DESC) x
FROM    tableName
)
SELECT ID, DATE, Field1, Field2, Field3
FROM    latestDate
WHERE x = 1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T08:11:03.103

如果您的字段数量有限，您可以试试这个。

否则，您将不得不构建一个动态查询

[SQL小提琴](http://sqlfiddle.com/#!3/bbbee/21)

**MS SQL Server 2008 架构设置**：

```
Create table Test (ID int, 
                   data datetime,
                   field1 varchar(50), 
                   field2 varchar(50), 
                   field3 varchar(50))

insert into test select 1,'2013-02-14','value1',NULL,NULL
insert into test select 2,'2013-02-12','xxx',NULL,NULL
insert into test select 1,'2013-02-10',NULL,'value2',NULL 
insert into test select 1,'2013-02-04','init1','init2','init3' 
```

**查询 1**：

```
;WITH MinDate AS (
  SELECT ID, MIN(DATA) AS DATA, MAX(DATA) AS Lastdate
  FROM Test
  GROUP BY id
  )-- Date of the initial state of each id
, D1 AS (
  SELECT ID, Field1, ROW_NUMBER() OVER (ORDER BY DATA DESC) AS RowNumber
  FROM TEST
  WHERE Field1 IS NOT NULL
  ) --Last date when Field 1 was changed
, D2 AS (
  SELECT ID, Field2, ROW_NUMBER() OVER (ORDER BY DATA DESC) AS RowNumber
  FROM TEST
  WHERE Field2 IS NOT NULL
  )
, D3 AS (
  SELECT ID, Field3, ROW_NUMBER() OVER (ORDER BY DATA DESC) AS RowNumber
  FROM TEST
  WHERE Field3 IS NOT NULL
  )
SELECT T.ID, M.LastDate
, ISNULL(D1.Field1, T.Field1) AS Field1
, ISNULL(D2.Field2, T.Field2) AS Field2
, ISNULL(D3.Field3, T.Field3) AS Field3
FROM Test T
JOIN MinDate M ON T.id=M.id AND T.data=M.data
LEFT OUTER JOIN D1 ON T.ID=D1.ID AND D1.RowNumber=1
LEFT OUTER JOIN D2 ON T.ID=D2.ID AND D2.RowNumber=1
LEFT OUTER JOIN D3 ON T.ID=D3.ID AND D3.RowNumber=1 
```

**[结果](http://sqlfiddle.com/#!3/bbbee/21/0)**：

```
| ID |                        LASTDATE | FIELD1 | FIELD2 | FIELD3 |
-------------------------------------------------------------------
|  1 | February, 14 2013 00:00:00+0000 | value1 | value2 |  init3 |
|  2 | February, 12 2013 00:00:00+0000 |    xxx | (null) | (null) | 
```

# php - 如何诊断 APC 缓存问题？

> ID：14869668
> 
> 赞同：0
> 
> 时间：2013-02-14T07:19:44.737
> 
> 标签：php, apc, cloudfiles

我最近在一个使用 Rackspace Cloudfiles PHP API 库的网站上打开了 APC。昨天，上传到 Cloudfiles 的过程失败了，我认为这是由于 APC 缓存了过期的令牌。有没有办法诊断这个问题，还是我应该阻止所有 cloudfiles 库代码与`apc.filters`配置一起缓存？

编辑：我怀疑 APC 缓存是问题所在，因为我只添加了一行记录令牌的代码就更新了相关文件。更新文件后，上传过程再次开始工作。

Edit2：这是在不断运行的后台脚本中发生的。该值被存储在脚本中并且没有被更新。我忘记了在进行允许更新令牌的更改后重新启动了脚本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:27:48.963

就其自身而言，APC 仅缓存 PHP 源文件的编译内容——它不会（也不能！）缓存 API 令牌。您的问题可能出在其他地方。

# plsql - PL/SQL 用调用子程序编译匿名块

> ID：14869670
> 
> 赞同：0
> 
> 时间：2013-02-14T07:19:47.520
> 
> 标签：plsql

抱歉，这个问题可能很简单，但我只是 PL/SQL 的新手。

我有一个文件，其中第一行是匿名块，下一个过程和文件末尾的一个函数。从函数调用过程，从匿名块调用函数。如何确保首先编译过程和函数，然后编译并执行匿名块？

非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T08:48:58.550

您必须拥有一个包含所有这些任意块、过程和函数的 SQL 文件。

您必须首先考虑到 PL/SQL 匿名块永远不会被编译和保存，而是被编译和执行。您没有为这些块指定对象名称，这就是它们被称为匿名的原因。您不能在数据定义模式视图中对您运行的匿名块有任何引用。您可以在数据定义模式视图中获取存储过程和函数的信息，例如`user_procedures`、`user_objects`等。

第二件要考虑的事情是，当您的大量过程或函数存在依赖关系时，您必须首先尝试编译独立的过程或函数。

步骤如下：

1.  在您的情况下，独立对象似乎是您的程序。先编译它。
2.  现在您的函数是依赖于您的过程的依赖对象。因此，在编译您的过程后，编译该函数。
3.  现在，您可以执行引用该函数的匿名块。

您只需在 SQL 文件中安排代码，使过程在前，函数在后，匿名块在最后。然后，您只需要执行该脚本。

# sharepoint - ClientHelper：CmisConnectionException：无法初始化 Web 服务服务对象

> ID：14869673
> 
> 赞同：0
> 
> 时间：2013-02-14T07:19:51.463
> 
> 标签：sharepoint, sharepoint-2013, cmis, opencmis

在`http://192.168.0.20/_vti_bin/cmissoapwsdl.aspx`作为 Web 服务登录到我的启用 CMIS 的 SharePoint 2013 标准时，[CMIS 工作台](http://chemistry.apache.org/java/developing/tools/dev-tools-workbench.html)说：

```
ClientHelper: CmisConnectionException: Cannot initalize Web Services service object 
```

[这是端点的响应（pastebin，因为 StackOverflow 限制为 30k 个字符）](http://pastebin.com/vNFDnp4e)，在我看来还可以，那么问题出在哪里？

```
Full CMIS Workbench log:
> 16:59:01 DEBUG dings.spi.webservices.CmisWebServicesSpi: Initializing Web Services SPI...
> 16:59:01 DEBUG ngs.spi.webservices.AbstractPortProvider: Initializing Web Service org.apache.chemistry.opencmis.binding.webservices.RepositoryService...
> 16:59:01 ERROR hemistry.opencmis.workbench.ClientHelper: CmisConnectionException: Cannot initalize Web Services service object [org.apache.chemistry.opencmis.binding.webservices.RepositoryService]: 2 counts of InaccessibleWSDLException.

org.apache.chemistry.opencmis.commons.exceptions.CmisConnectionException: Cannot initalize Web Services service object [org.apache.chemistry.opencmis.binding.webservices.RepositoryService]: 2 counts of InaccessibleWSDLException.

    at org.apache.chemistry.opencmis.client.bindings.spi.webservices.AbstractPortProvider.initServiceObject(AbstractPortProvider.java:288)
    at org.apache.chemistry.opencmis.client.bindings.spi.webservices.AbstractPortProvider.getPortObject(AbstractPortProvider.java:206)
    at org.apache.chemistry.opencmis.client.bindings.spi.webservices.AbstractPortProvider.getRepositoryServicePort(AbstractPortProvider.java:109)
    at org.apache.chemistry.opencmis.client.bindings.spi.webservices.RepositoryServiceImpl.getRepositoryInfos(RepositoryServiceImpl.java:57)
    at org.apache.chemistry.opencmis.client.bindings.impl.RepositoryServiceImpl.getRepositoryInfos(RepositoryServiceImpl.java:85)
    at org.apache.chemistry.opencmis.client.runtime.SessionFactoryImpl.getRepositories(SessionFactoryImpl.java:109)
    at org.apache.chemistry.opencmis.client.runtime.SessionFactoryImpl.getRepositories(SessionFactoryImpl.java:96)
    at org.apache.chemistry.opencmis.workbench.model.ClientSession.connect(ClientSession.java:186)
    at org.apache.chemistry.opencmis.workbench.model.ClientSession.<init>(ClientSession.java:105)
    at org.apache.chemistry.opencmis.workbench.LoginDialog.createClientSession(LoginDialog.java:547)
    at org.apache.chemistry.opencmis.workbench.LoginDialog$1.actionPerformed(LoginDialog.java:154)
    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)
    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)
> 16:59:01 ERROR hemistry.opencmis.workbench.ClientHelper: Error code: 0 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T08:09:57.427

可能存在身份验证问题。尝试使用 Web 浏览器将 WSDL 下载到本地磁盘，然后使用 file:// URL 在 Workbench 中引用它。

如果可行，请检查 SharePoint 端的身份验证配置。OpenCMIS 无法处理受保护的 WSDL。

# c# - 在 C# 中使用 Linq 从 Xelement List 迭代到 XML 时没有返回最后一个节点

> ID：14869675
> 
> 赞同：2
> 
> 时间：2013-02-14T07:20:18.173
> 
> 标签：c#, linq

我正在尝试使用 linq to XML 从 XML 文件中获取值，所有节点都被返回，期望最后一个。例如这里它的样本数据

```
<lista>
- <servizio>
  <idservizio>29</idservizio> 
  <idfascia>0</idfascia> 
  <nomeservizio>Shuttle service/ Taxi - Fiumicino Airport a Hotel</nomeservizio> 
- <descrizioneservizio>
- <![CDATA[ From Fiumicino (FCO) Airport to City Guest House Hotel. Up to 3 people.
  ]]> 
  </descrizioneservizio>
  <prezzoservizio>50.0</prezzoservizio> 
  <numerodisponibile>1000</numerodisponibile> 
  </servizio>
- <servizio>
  <idservizio>30</idservizio> 
  <idfascia>0</idfascia> 
  <nomeservizio>Shuttle service/ Taxi - Ciampino a Hotel</nomeservizio> 
- <descrizioneservizio>
- <![CDATA[ From Ciampino Airport to City Guest House Hotel. Price for up to 3 people.
  ]]> 
  </descrizioneservizio>
  <prezzoservizio>35.0</prezzoservizio> 
  <numerodisponibile>1000</numerodisponibile> 
  </servizio>
      </lista> 
```

并且它没有返回 idservizio=30 的节点 servizio。谁能帮助我我做错了什么？下面是我的代码

```
var ds1 = from XElement e in _resource.Descendants("lista")
                  select e;
        int eCnt = 0;
        foreach (XElement e in ds1)
        {
            XElement elm;

            elm = e.Elements("servizio").ElementAt(eCnt).Descendants("idservizio").FirstOrDefault();
            int idservice = elm != null ? elm.Value.ToInt32() : 0;

            if (idservice == 0) continue;

            //HH_dispService service = listService.SingleOrDefault(x => x.service_idservizio == idservice);

            HH_dispService service = new HH_dispService(idservice);

            elm = e.Elements("servizio").ElementAt(eCnt).Descendants("nomeservizio").FirstOrDefault();
            service.service_nomeservizio = elm != null ? elm.Value : "";

            elm = e.Elements("servizio").ElementAt(eCnt).Descendants("descrizioneservizio").FirstOrDefault();
            service.service_descrizioneservizio = elm != null ? elm.Value : "";

            elm = e.Elements("servizio").ElementAt(eCnt).Descendants("prezzoservizio").FirstOrDefault();
            service.service_prezzoservizio = elm != null ? elm.Value.Replace(".", ",").objToDecimal() : 0;
            listService.Add(service);

            eCnt++;
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:28:57.107

您的代码当前正在遍历每个`lista`元素......但随后使用索引作为获取`servizio`元素的一种方式。这是一种非常奇怪的做事方式。看起来你也在以`decimal`一种奇怪的方式转换。

这是我要做的：

```
foreach (var element in _resource.Descendants("lista").Elements("servizio"))
{
    // Consider *only* skipping if the element is missing, not
    // if it has a value of 0
    int id = (int?) element.Element("idservizio") ?? 0;
    if (id == 0)
    {
        continue;
    } 
    HH_dispService service = new HH_dispService(id);
    service.service_nomeservizio =
        (string) element.Element("nomeservizio") ?? "";
    service.service_descrizioneservizio = 
        (string) element.Element("descrizioneservizio") ?? "";
    service.service_prezzoservizio = 
        (decimal?) element.Element("prezzoservizio") ?? 0m;
    listService.Add(service);
} 
```

（我还建议更改您的变量/属性名称...为什么要`service_`在本质上与 a 相关的类型中添加 on 变量的前缀`service`？）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:30:17.710

那个代码真的很奇怪。

您遍历列表`lista`但访问子节点`servizio`。结果应该是第一个`servizio`节点的第一个`lista`节点，第二个`servizio`节点的第二个`lista`节点等等。

我会这样做（假设这`lista`不是根标签）：

```
var listaNodes = _resource.Descendants("lista");
foreach(var listaNode in listaNodes)
{
    foreach(var serviceNode in listaNode.Elements("servizio"))
    {
        var id = serviceNode.Element("idservizio");
        // ...
    }
} 
```

# c# - XML 到数据库并再次生成具有更新数据库值的 XML

> ID：14869676
> 
> 赞同：0
> 
> 时间：2013-02-14T07:20:18.470
> 
> 标签：c#, xsd

我有将 XML 导入数据库的要求，在使用应用程序后，将对这些数据进行一些处理，并且需要使用这些更新的值再次生成 XML。

我有需要导入和生成的 xml 的 XSD。两种 XML 的 XSD 将保持不变。

所以请建议我最好的方法来做到这一点。

**书本.xsd**

```
<?xml version="1.0" encoding="utf-8"?>
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://www.contoso.com/books" xmlns:xs="http://www.w3.org/2001/XMLSchema">
<xs:element name="bookstore">
<xs:complexType>
<xs:sequence>
<xs:element maxOccurs="unbounded" name="book">
                <xs:complexType>
                    <xs:sequence>
                        <xs:element name="title" type="xs:string" />
                        <xs:element name="author">
                            <xs:complexType>
                                <xs:sequence>
                                    <xs:element minOccurs="0" name="name" type="xs:string" />
                                    <xs:element minOccurs="0" name="first-name" type="xs:string" />
                                    <xs:element minOccurs="0" name="last-name" type="xs:string" />
                                </xs:sequence>
                            </xs:complexType>
                        </xs:element>
                        <xs:element name="price" type="xs:decimal" />
                    </xs:sequence>
                    <xs:attribute name="genre" type="xs:string" use="required" />
                    <xs:attribute name="publicationdate" type="xs:date" use="required" />
                    <xs:attribute name="ISBN" type="xs:string" use="required" />
                </xs:complexType>
            </xs:element>
        </xs:sequence>
    </xs:complexType>
</xs:element>
</xs:schema> 
```

**Book.xml（已导入）**

```
<?xml version="1.0" encoding="utf-8"?>
<bookstore xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://www.contoso.com/books">
  <book genre="Religious" publicationdate="2013-02-13" ISBN="SampleISBN">
    <title>Live and Let Live</title>
     <author>
      <name>Donald Allen</name>
      <first-name>Allen</first-name>
      <last-name>Donald</last-name>
    </author>
    <price>150</price>
  </book>
</bookstore> 
```

***现在假设在对上述 xml 数据进行一些处理后，特定书籍的价格更新为 180，现在如果我再次将其导出为 xml，那么更新后的价格应该如下示例 XML***

**Book.xml（需要生成）**

```
<?xml version="1.0" encoding="utf-8"?>
<bookstore xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://www.contoso.com/books">
  <book genre="Religious" publicationdate="2013-02-13" ISBN="SampleISBN">
    <title>Live and Let Live</title>
     <author>
      <name>Donald Allen</name>
      <first-name>Allen</first-name>
      <last-name>Donald</last-name>
    </author>
    <price>180</price>
  </book>
</bookstore> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T08:30:32.517

您有 2 条主要路径：

1.  使用 XSD 使用 xsd.exe 创建 C# 类，然后使用 XmlSerializer 将 xml 与 .NET 对象“转换”。查看[文档](http://msdn.microsoft.com/en-us/library/system.xml.serialization.xmlserializer.aspx)

    `xsd.exe yourxsd.xsd /classes`

2.  或者使用 LINQ to Xml 读取 Xml，进行更新并将 Xml 写回存储。（实际上不需要 XSD） [文档](http://msdn.microsoft.com/en-us/library/bb387098.aspx)

如果您只更新价格，我建议 2，如果您需要访问更多字段，那么 1\. 组合也是可能的。

# python-2.7 - 运行空闲（python GUI）

> ID：14869679
> 
> 赞同：0
> 
> 时间：2013-02-14T07:20:36.897
> 
> 标签：python-2.7

当我加载 IDLE（python GUI）时，它显示如下错误消息

```
IDLE's subprocess didn't make connection. Either IDLE can't start a subprocess or personal firewall is blocking the connection. 
```

我有我禁用的 Windows Defender，但错误仍然是原样。这里有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:45:21.407

删除 Python。重新启动计算机。右键单击设置并单击**Run As Adminstrator**。

# c# - 某些字段插入的 FK 错误

> ID：14869680
> 
> 赞同：0
> 
> 时间：2013-02-14T07:20:37.660
> 
> 标签：c#, sql

这是我的`option_table`：

```
OptionID  QuestionID  optionName OptionStatus  count Questioncount  percentage
  30          33          a          1            4      8             50
  31          33          b          1            4      8             50    <-----
  71          48          k          1            3      7             42
  72          48          p          1            4      7             58    <----- 
```

在这里，我试图将一些值插入到`voting_table`.

很好的插入

```
insert into Voting_Table (QuestionID,OptionID)values('33','31') 
```

（1 行受影响）

试图插入另一个与上面相同的

```
insert into Voting_Table (QuestionID,OptionID)values('48','72') 
```

但它显示错误

> 消息 547，级别 16，状态 0，第 1 行 INSERT 语句与 FOREIGN KEY 约束“FK__Voting_ta_ *Optio* _67B44C51”冲突。冲突发生在数据库“webdhabaordering_10-10-12”、表“sqldbrv2008.Options_table”、列“OptionID”中。该语句已终止。

我怎样才能摆脱这个问题？您的宝贵意见将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:43:08.253

不是说sqldbrv2008中的OptionID。Options_table冲突意味着不存在换句话说。可能您还没有将最后一行提交给选项表吗？如果发生这种情况，它在视图中是可见的，但基础数据库表在您提交之前没有得到该值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T07:35:35.900

似乎您有一些名为**Options_table**的选项表，它没有主键，可能被命名为“选项 ID”值为 72。

这就是为什么会出现错误。

更多地研究主键和外键。

[http://www.w3schools.com/sql/sql_foreignkey.asp](http://www.w3schools.com/sql/sql_foreignkey.asp)

# database - 带有 where 子句行为的分层查询“START WITH”

> ID：14869681
> 
> 赞同：4
> 
> 时间：2013-02-14T07:20:46.597
> 
> 标签：database, oracle, hierarchy, connect-by

我在工作期间遇到了一个查询，无法弄清楚它是如何工作的。查询的作用是查找今天是其父母的人的所有父母。

现在这里的技巧是每个父子关系都有一个有效的持续时间。

以此数据集为参考：

> 从 01-01-2012 到 02-02-2015 GrandParent 是父亲的父母
> 
> 从 01-01-2012 到 02-02-2011 父亲是孩子的父母
> 
> 孩子只是最底层的人
> 
> NewFather 是 Child 从 01-01-2012 到 02-02-2014 的父母

现在，今天对孩子有效的父母名单应该只包括`NewFather`

为了获取列表，之前我们使用了这个 SQL：

```
SELECT connect_by_root per_id2 AS per_id2,
       per_id1,
       LEVEL                   AS per_level,
       n.entity_name
FROM   ci_per_per pp,
       ci_per_name N
WHERE  N.per_id = per_id1
       AND start_dt <= SYSDATE
       AND ( end_dt IS NULL
              OR end_dt >= SYSDATE )
START WITH per_id2 = :personID
CONNECT BY NOCYCLE PRIOR per_id1 = per_id2; 
```

哪里`personID`是绑定变量

此查询不起作用，因为 where 子句的行为是它首先获取所有记录，然后检查非连接条件（检查开始日期和结束日期）。这导致它给出的父母名单`NewFather, GrandParent`是完全错误的！

因此，查询更改为以下内容：

```
SELECT connect_by_root per_id2 AS per_id2,
       per_id1,
       LEVEL                   AS per_level,
       n.entity_name
FROM   ci_per_per pp,
       ci_per_name N
WHERE  N.per_id = per_id1
       AND start_dt <= SYSDATE
       AND ( end_dt IS NULL
              OR end_dt >= SYSDATE )
START WITH per_id2 = (SELECT per_id
                      FROM   ci_acct_per
                      WHERE  per_id = :personID
                             AND pp.start_dt <= SYSDATE
                             AND ( pp.end_dt IS NULL
                                    OR pp.end_dt >= SYSDATE ))
CONNECT BY NOCYCLE PRIOR per_id1 = per_id2; 
```

现在我不明白的是：

> start with 子句中的 where 条件如何以这种方式影响查询的行为？

我不喜欢这个查询的另一件事是它使用了一个完全不相关的表，该表名为`ci_acct_per`，其中`per_id`每个人在`ci_per_per`.

> 我们能做得更好吗？是否有更清洁的方法可用于修复原始查询？

**更新**

此查询仅在层次结构中较高且在我们正在寻找孩子时才有效。但是，此查询从不寻找孩子，也不应该这样做。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T11:08:26.387

我不确定我是否理解你的正确，但为什么不：

```
SELECT connect_by_root per_id2 AS per_id2,
       pp.per_id1,
       LEVEL                   AS per_level,
       n.entity_name
FROM   (select * 
        from ci_per_per
       where start_dt <= SYSDATE
       AND ( end_dt IS NULL
              OR end_dt >= SYSDATE )) pp join
       ci_per_name N on N.per_id = pp.per_id1         
START WITH per_id2 = 1
CONNECT BY NOCYCLE PRIOR pp.per_id1 = pp.per_id2; 
```

[这是一个 sqlfiddle 演示](http://www.sqlfiddle.com/#!4/1c092/1)

* * *

**更新**感谢@user1395[示例](http://www.sqlfiddle.com/#!4/d3973/1)：

很难解释奇怪的查询是如何工作的，因为它没有......

真正发生的是该`START WITH`子句使用 per_id2 这是“父亲”列，因此如果有多个（一个与 sysdate 无关），您仍然不需要**从**它开始。
换句话说，它不是从“孩子”开始，而是从“孩子”父亲开始——“父亲”和“新父亲”。

因此，要么使用@user1395 建议在两个`connect by`子句中包含日期逻辑以在父亲不相关时停止，并`start with`使用仅使相关父亲可用的子句，或者首先删除所有不相关的父亲（如我之前的建议) 或“从”“孩子”而不是“父亲”开始：

```
select * from (
SELECT connect_by_root per_id1 AS per_id2,
       per_id1,
       LEVEL                   AS per_level,
       n.entity_name
FROM   ci_per_per pp,
       ci_per_name N
WHERE  N.per_id = per_id1       
START WITH per_id1 = 1
CONNECT BY NOCYCLE PRIOR per_id1 = per_id2 AND start_dt <= SYSDATE
       AND ( end_dt IS NULL
              OR end_dt >= SYSDATE ))
where per_id1 <> per_id2; 
```

[另一个 sqlfiddle 演示](http://www.sqlfiddle.com/#!4/d3973/17)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T09:11:33.613

您可以在 connect by 子句中使用日期逻辑。

```
SELECT connect_by_root per_id2 AS per_id2,
       per_id1,
       LEVEL                   AS per_level,
       n.entity_name
FROM   ci_per_per pp,
       ci_per_name N
WHERE  N.per_id = per_id1
START WITH per_id2 = :personID AND 
                         SYSDATE BETWEEN start_dt AND NVL(end_dt,SYSDATE)
CONNECT BY NOCYCLE PRIOR per_id1 = per_id2 AND 
                         SYSDATE BETWEEN start_dt AND NVL(end_dt,SYSDATE); 
```

当当前日期没有有效的父母时，这将停止爬升。

# android - 单击下一步按钮后如何将列表项在 ListView 中显示限制为 10 和下一个 10

> ID：14869682
> 
> 赞同：9
> 
> 时间：2013-02-14T07:20:49.343
> 
> 标签：android, android-listview, android-button

我有一个包含 100 个项目的列表视图，我想显示前 10 个项目，单击下一个按钮我必须显示下一个 10，即从 11 到 20，我有获取前 10 个项目的代码

```
public int getCount() {
        return 10;
    } 
```

但是如何单独获得接下来的 10 个项目等等。任何想法

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-14T08:17:15.457

一种方法是，

1）不要用所有数据填充您的 ArrayList。而是将它们保存在单独的 ArrayList ( `al1`) 中，并使用`al2`具有最多 10 个值的 ArrayList ( ) 与 BaseAdapter 一起使用。

2) 最初，

*   al2 = al1[0] 到 al1[9]
*   BaseAdatper（上下文，数据）

3) 保持 BaseAdapter 不变，但要改变

```
 @Override
 public int getCount() {
 return 10;
} 
```

至

```
 @Override
 public int getCount() {
 return data.size();
} 
```

这不是必须的，但它是一种很好的做法。现在您将只显示 10 个项目，因为这就是您传递给适配器的所有项目。还要在扩展的 BaseAdatper 类中编写一个公共函数来设置`data`变量。

4) 在下一个按钮单击事件中，获取下一个 10 项`al1`并分配给`al2`。使用您编写的公共函数`data`用`al2`.

5) [BaseAdapter 有一个名为 notifyDataSetChanged 的​​方法](https://developer.android.com/reference/android/widget/BaseAdapter.html#notifyDataSetChanged%28%29)，调用它。这样做是告诉适配器从上到下刷新。由于`data`在刷新发生时您已用新数据覆盖，您将看到新数据。而已。

我认为您想出一种方法来跟踪`al1`您当前显示的索引到哪个索引并不困难。:)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-14T07:26:26.533

如果您有 100 个项目，那么只需为您的适配器获取前 10 个项目，当用户按下下一步时，获取下一个 10，依此类推。

编辑：根据代码请求，我可以提供一个关于如何进行分页的简单示例。

```
int totalItems = 100;
int currentPage = 0;
int pageSize = 10;
int numPages = (int) Math.ceil((float) totalItems/pageSize);

ArrayList<String> items = new ArrayList<String>(totalItems);

List<String> page = items.subList(currentPage, pageSize); 
```

查看上面的示例，给定项目数和所需的页面大小，您可以计算需要显示多少页，然后您可以从 ArrayList 中选择一个子列表。每次用户按下 next 时，增加 currentPage 并使用新的子列表刷新适配器。

# embedded - Neon VLD 消耗的周期比预期的要多？

> ID：14869693
> 
> 赞同：2
> 
> 时间：2013-02-14T07:21:49.823
> 
> 标签：embedded, arm, simd, neon, cortex-a8

我有一个简单的 asm 代码，它加载 NEON 的 12 个四元寄存器，并具有并行的成对添加指令以及加载指令（以利用双问题能力）。我在这里验证了代码：

[http://pulsar.webshaker.net/ccc/sample-d3a7fe78](http://pulsar.webshaker.net/ccc/sample-d3a7fe78)

可以看到，代码大约需要 13 个周期。但是当我在板上加载代码时，加载指令似乎每次加载需要超过一个周期，我验证并发现 VPADAL 需要 1 个周期，但 VLD1 需要超过一个周期。这是为什么？

我已经处理了以下内容：

1.  地址是 16 字节对齐的。
2.  在指令中提供了对齐提示`vld1.64 {d0, d1} [r0,:128]!`
3.  在某些地方尝试了预加载指令`pld [r0, #192]`，但这似乎增加了周期，而不是实际减少了延迟。

有人可以告诉我我做错了什么，为什么会出现这种延迟？

其他详情：

*   参考cortex-a8
*   arm-2009q1 交叉编译工具链
*   汇编中的编码

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T21:21:07.667

您的代码执行速度比预期的要慢得多，因为它目前正在编写，它导致了管道停顿的完美风暴。在任何具有流水线架构的现代 CPU 上，指令可以在理想条件下在一个周期内执行。理想的条件是指令不等待内存并且没有任何寄存器依赖性。您编写代码的方式不允许延迟从内存读取并使下一条指令依赖于读取的结果。这会导致最糟糕的性能。另外，我不确定您为什么要将成对添加累积到多个寄存器中。尝试这样的事情：

```
 veor.u16 q12,q12,q12     @ clear accumulated sum
top_of_loop:
    vld1.u16 {q0,q1},[r0,:128]!
    vld1.u16 {q2,q3},[r0,:128]!
    vpadal.u16 q12,q0
    vpadal.u16 q12,q1
    vpadal.u16 q12,q2
    vpadal.u16 q12,q3
    vld1.u16 {q0,q1},[r0,:128]!
    vld1.u16 {q2,q3},[r0,:128]!
    vpadal.u16 q12,q0
    vpadal.u16 q12,q1
    vpadal.u16 q12,q2
    vpadal.u16 q12,q3
    subs r1,r1,#8
    bne top_of_loop 
```

在执行加法之前尝试不同数量的加载指令。关键是您需要在使用目标寄存器之前留出时间进行读取。

**注意：使用 Q4-Q7 是有风险的，因为它们是非易失性寄存器。在 Android 上，您会在这些（尤其是 Q4）中随机出现垃圾。**

# c# - 为什么没有检索到指定的日期事件？

> ID：14869694
> 
> 赞同：0
> 
> 时间：2013-02-14T07:21:56.097
> 
> 标签：c#, .net, datetime, wmi

以下代码在 timewritten <='20130215' 时有效。

```
 WqlObjectQuery query = new WqlObjectQuery("select * from win32_NTLogEvent where logfile='Application'  and type='information' and **timewritten<='20130214'** and eventcode='1022'");*emphasized text*
        ManagementObjectSearcher searcher = new ManagementObjectSearcher(query);
        foreach(ManagementObject mo in searcher.Get())
        {

            Console.WriteLine("Log file: " + mo["logfile"]);
            Console.WriteLine("Event type: "+mo["type"]);
            Console.WriteLine("Event Code: " + mo["eventcode"]);
            Console.WriteLine("Time generated: " + mo["timegenerated"]);
            Console.WriteLine("Event Source: "+mo["Sourcename"]);
 } 
```

当按如下方式测试 timewritten 时将不起作用，

```
 timewritten <='20130214' 
   timewritten ='20130214' 
```

你能告诉我它发生的原因吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:35:02.250

[`timewritten`](http://msdn.microsoft.com/en-gb/library/windows/desktop/aa394226%28v=vs.85%29.aspx)是一个`datetime`值——它有一个时间分量。如果您未在转换为 a 的文字中指定时间组件`datetime`，则会在当天开始时获得午夜。

`timewritten ='20130214'`会询问14 日午夜*发生*的任何事件。

`timewritten <='20130214'`*询问在 14 日之前*或*正好*在 14 日午夜发生的任何事件。

如果您没有任何符合这些描述的事件，您将不会获得任何结果。

如果，正如我怀疑的那样，你想要所有发生在 14 日的事件，无论何时，你最好`timewritten >= '20130214' and timewritten < '20130215'`

# ios - 如何使 UITextView 在底部滚动

> ID：14869695
> 
> 赞同：1
> 
> 时间：2013-02-14T07:21:58.290
> 
> 标签：ios, objective-c, ios6, scroll, uitextview

当我遇到 UITextView 的问题时，我正在编程，我想要的是让它锚定在 UITextView 的底部，因为我的应用程序自动添加行和文本，所以我需要 UITextView 保持在底部，因此用户可以在它们通过时阅读它们。现在我找到了一种方法来做到这一点，但它使用滚动，它无法跟上应用程序输入的速度，或者它跳到很远，然后你看不到任何东西，它看起来很乱，所以这里是代码

```
 CGPoint scrollPoint = self.codeBox.contentOffset; // initial and after update

scrollPoint = CGPointMake(0, scrollPoint.y +1); // makes scroll
[self.codeBox setContentOffset:scrollPoint animated:NO]; 
```

所以就像我说的那样，我想找到一种方法来拥有 UITextView，这样它就可以保持在底部而不会出现任何混乱的滚动。任何帮助将不胜感激，PS我是Objective-C的新手

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:34:04.343

尝试调用`- (void)scrollRectToVisible:(CGRect)rect animated:(BOOL)animated`（UIScrollView 的一种方法，UITextView 是它的子类）或 `- (void)scrollRangeToVisible:(NSRange)range`更特定于 UITextView

# drupal - 将现有显示模板分配给 Drupal 视图

> ID：14869696
> 
> 赞同：2
> 
> 时间：2013-02-14T07:22:07.500
> 
> 标签：drupal, drupal-6, drupal-views, drupal-theming

如何将现有模板文件（另一个视图的模板文件）分配给 Drupal 视图。我已经有一个模板`views-view--search-issue.tpl.php`供`search_issue`查看。有没有办法为另一个视图使用相同的模板`archive_issue`？或者是否有必要为此创建一个新模板？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T11:19:52.947

转到您的archive_issue 视图并选择模板文件名。从archive_issue 创建一个同名的模板文件，并从views-view--search-issue.tpl.php 中复制内容，用于您的search_issue。将其粘贴到该存档的模板文件中。由于模板更改而清除缓存，您将获得与 search_issue 中相同的模板。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T16:00:07.387

然后你可能想要实现一些预处理钩子，让你添加一些建议。像这样的东西（它没有经过测试，也许你需要一个不同的钩子，但要得到一个想法）：

```
function phptemplate_preprocess_views_view (&$vars) {

  $view = $vars['view'];
    if ($view->name == 'archive_issue') {
      $vars['template_files'] = 'views-view--search-issue';   
    }

} 
```

但就像 Aniruddhsinh 所说，最简单的方法是复制粘贴您需要的代码到相应的模板中。也许你觉得你违反了 DRY manta（不要重复你自己），但在这种情况下，最好不要打破视图模板的模式。只需使用 Aniruddhsinh 解决方案即可。

来源：[建议的视图模板文件](http://groups.drupal.org/node/18276)

# c# - C# 命名空间分隔符 (.) 是否在某处定义？

> ID：14869697
> 
> 赞同：14
> 
> 时间：2013-02-14T07:22:08.700
> 
> 标签：c#, .net, system.reflection

C# 中的全名分隔符是句点字符 ( `.`)。例如`System.Console.Write`。

这是在某个地方定义的`Path.PathSeperator`，还是在 .NET 反射类中硬编码？

（例如被`Type.FullName`实施为`Type.Namespace + "." + Type.Name`假设它不会改变？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-14T07:27:00.447

基本上：语言规范。但实际上，`Type.FullName`使用 BCL 定义，而不是 C# 定义 - 有趣的*是，他们不同意*。例如：

```
namespace X {
    public class Y {
        public class Z {}
    }
} 
```

对于 C#，`Z`是`X.Y.Z`; 对 BCL 来说是`X.Y+Z`。泛型的表示也发生了变化——BCL 使用反引号和数字而不是尖括号。我*相信*BCL 使用 CLI 的类型格式（它有一个单独的规范），但如果你考虑一下：它不需要这样做（反射发射期间除外）。

AFAIK，这些分隔符没有通过任何类似的方式公开`Path.PathSeparator`- 但正如您所说，它们硬编码到`Type`etc 类中。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-10-03T18:21:33.233

类型与其命名空间之间的分隔符在[`Type.Delimiter`](http://msdn.microsoft.com/en-us/library/system.type.delimiter.aspx)字段的 BCL 中定义。您将看到反射 API 中使用了此值，并且可以可靠地用于连接类型及其命名空间。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-09-05T07:57:27.853

根据[它](http://referencesource.microsoft.com/mscorlib/R/a1b9dd8989d160b8.html)在参考资料中的使用位置，@Paul's`Type.Delimiter`是您主要问题的答案，但您的 eg 的答案是 yes,`'.'`以及`'+'`@Marc 的答案中提到的 ，是[硬编码](https://github.com/dotnet/coreclr/blob/775003a4c72f0acc37eab84628fcef541533ba4e/src/vm/typestring.cpp#L347 "虽然我必须承认我实际上并没有完全遵循曲折的小子程序的迷宫来明确确认这是实现 <code>Type.Namespace + 等价物的实际代码")的。

# javascript - 在 IE9 中动态添加脚本时找不到全局数组

> ID：14869698
> 
> 赞同：0
> 
> 时间：2013-02-14T07:22:10.123
> 
> 标签：javascript, dynamic, cross-browser, load, internet-explorer-9

我有两个 JavaScript 文件：“一个”和“两个”。“一”文件正在动态添加“二”，如下所示：

```
scriptNode = document.createElement('script');
scriptNode.type = 'text/javascript'
scriptNode.src = '/JavaScript/Two.js';
document.getElementsByTagName("head")[0].appendChild(scriptNode); 
```

然后，在加载“Two”文件后，“One”文件正在使用它的功能。情况是这样的：

1.  “一”文件加载“二”文件。
2.  在“Two”文件中，全局数组在加载时被声明。
3.  在“一”文件中调用“二”文件中的函数来填充全局数组。

填充全局数组的“Two”文件中的函数如下所示：

```
GlobalArray=new Array();

function Init(name){
    this.name=name;
}

function PopulateGlobalArray(name){
    var temp=new Init(name);
    GlobalArray.push(temp);

    console.log(GlobalArray.length); // returns "1"
    OtherStuff();
}

function OtherStuff(){
    console.log(GlobalArray.length); // returns "0" only in IE9
} 
```

在“一个”文件中，我调用 PopulateGlobalArray() 函数。

在每个浏览器（Opera、Firefox、Ghrome、IE7、IE8、IE10）`OtherStuff()`中`console.log()`返回`1`. 在 IE9 中，它返回`0`- 数组只是空的。

我花了很多时间，但最后我发现如果我在 HTML 中包含“Two”文件作为

```
<script src="/JavaScript/Two.js"></script> 
```

或者不使用 JavaScript 加载它，它也适用于 IE9。

我的问题是有人知道为什么会这样吗？

编辑：我很确定这与 DOCTYPE 有关。我使用的是 Strict Doctype，但 Browse Mode:IE9 with Dicument Mode: Quirks 不会导致错误。

# c# - iOS中的重复后台任务

> ID：14869701
> 
> 赞同：0
> 
> 时间：2013-02-14T07:22:17.320
> 
> 标签：c#, ios, objective-c, xamarin.ios, background-process

我想制作一个应用程序，它可以定期、不定期地自动从用户定义的站点列表中下载一些数据，然后它可以根据这些数据分析和显示历史图表和其他报告。

如果我要在 Windows 中执行此操作，我会使用系统任务计划程序；如果我在 Unix 中，我会使用 cron；如果我在 Android 中，我会使用服务。我想知道如何在iOS中做到这一点。

就我的研究而言，这在 iOS 中并不是微不足道的，因为没有公共接口可以做到这一点。但是，有一些解决方法可以完成此操作：

*   应用唤醒时拉取历史数据：不可能，因为我不是数据的提供者，而且我将支持的大多数数据提供者不存储或提供对历史数据的访问。

*   自己下载数据，让客户在醒来时拉取数据：不可取。这不仅需要我方面额外昂贵的基础设施（这意味着我打算向我的用户收取我打算成为免费应用程序的费用），而且一些内容提供商还需要登录凭据。我宁愿不要求我的用户的登录信息来访问他们自己可以获得的信息。

*   如果时间戳过期，则在用户将应用程序置于前台时保存上次更新的时间戳并下载数据：这不符合我的目的，因为数据可能（并且预计会）及时快速变化。此应用程序的全部目的是定期自动下载此数据，以便用户再次打开应用程序后所有历史数据都可用。

*   使用本地通知：与以前几乎相同。它需要用户交互来启动应用程序，应用程序的全部意义在于即使用户不使用设备也能获取这些数据。

*   使用推送通知：由于这些只是需要用户交互才能唤醒应用程序的通知，因此它们不能用于与本地通知相同的原因。一旦应用程序唤醒，您似乎可以处理所有待处理的推送通知，但我读到您无法为这些通知定义自定义字段。

*   使用后台任务：从技术上讲，这似乎是所有选项中最有前途的，但这仅适用于非常特定类型的应用程序。我想“报亭应用程序”是我能得到的最接近的应用程序，它实际上是为了在后台下载数据。然而，正如它的名字一样，它是用来下载“杂志或报纸问题”的。我想做的事情是否可以归类为这完全取决于应用程序审查者，我宁愿不制作可能会因技术性而被拒绝的应用程序。

所以，我的问题是：还有其他我不知道的方法吗？是否有任何应用程序已经做了类似的事情？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:35:49.093

你的评估是正确的。您唯一的两个选择是托管您自己的定期下载数据的服务（您的第二个要点）或使用 Newstand。对于Newstand，您的应用可能符合定义；它可能只取决于您如何描述应用程序。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T16:19:41.530

你在 iOS 中唯一的选择就是使用服务器端基础设施。不怕向用户收费；如果你提供的服务真的有用，人们就会付钱。我确实知道这是很多额外的工作，等等，但这确实是唯一的方法。

报亭应用程序每天只能下载一次数据，并且它们仍然需要服务器端推送通知才能开始下载，因此您必须建立一些基础设施。不过，更重要的是，Apple 实际上对报刊亭非常严格。我已经经历过几次：您不一定必须是杂志/期刊，但您的应用程序应该主要用于内容分发。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-14T20:49:51.313

我认为您还有另一种选择，即基于位置的更新，但这取决于您的用户是否定期四处走动。

参见例如[http://blog.instapaper.com/post/24293729146](http://blog.instapaper.com/post/24293729146)和[http://blog.news.me/post/21643399885/introducing-paper-boy-automatically-download-your-news](http://blog.news.me/post/21643399885/introducing-paper-boy-automatically-download-your-news)

# android - 如何在自定义对话框上获取选中的单选按钮？

> ID：14869703
> 
> 赞同：1
> 
> 时间：2013-02-14T07:22:24.333
> 
> 标签：android, dialog, radio-button

我怎么可能得到在自定义对话框中选中的单选按钮。我有一个自定义对话框，其中包含 2 个单选按钮，但每次单击单选按钮时，都会发生空指针异常。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:25:13.207

在初始化单选按钮时使用`RadioButton rb = (RadioButton)dialog.findViewById(R.id.radiobutton);`而不是`RadioButton rb = (RadioButton)findViewById(R.id.radiobutton);`

# ios - 自定义单元格未出现在表格视图中

> ID：14869705
> 
> 赞同：0
> 
> 时间：2013-02-14T07:22:39.013
> 
> 标签：ios, objective-c, xcode, uitableview

我使用故事板。我在情节提要中为我的 Cell 创建了新类，我用 Reuse Identifier “userFullCell” 编写。我的细胞类.h

```
#import <UIKit/UIKit.h>

@interface UsefullLinksCell : UITableViewCell

@property (weak, nonatomic) IBOutlet UIImageView *image;
@property (weak, nonatomic) IBOutlet UILabel *shortTitle;

@end 
```

.m 默认

```
#import "UsefullLinksCell.h"

@implementation UsefullLinksCell

- (id)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier
{
  self = [super initWithStyle:style reuseIdentifier:reuseIdentifier];
  if (self) {
    // Initialization code
}
return self;
}

- (void)setSelected:(BOOL)selected animated:(BOOL)animated
{
  [super setSelected:selected animated:animated];

// Configure the view for the selected state
} 
```

属性**图像**和短标题在情节**提要**中与单元格中的 UILabel 和 UIImageView 连接

然后在我的 UITableView 类中，我导入“UseFullLinksCell.h”并在 viewDidLoad 中写道：

```
[self.tableView registerClass:[UsefullLinksCell class] forCellReuseIdentifier:@"userFullCell"]; 
```

tableView 是我的出路：

```
@property (weak, nonatomic) IBOutlet UITableView *tableView; 
```

然后我尝试创建单元格：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:  (NSIndexPath *)indexPath
{
  static NSString *CellIdentifier = @"userFullCell";
  UsefullLinksCell *cell = (UsefullLinksCell *)[tableView dequeueReusableCellWithIdentifier:CellIdentifier];
  NSDictionary *info = resourceArray[indexPath.row];
  if(info){
    cell.image.image = info[@"logo"];
    cell.shortTitle.text = info[@"title"];
  }
  return cell;
} 
```

因此，单元格初始化，但未分配图像和文本，并且在方法结束后返回单元格的 0x0000000。如果我用这种方法为标准单元格代码创建，我的意思是 UITableViewCell *cell，一切都很好。我在哪里会犯错？PS对不起，我不能提供故事板的截图，因为我不是用我的电脑写的，如果你愿意，我稍后会提供图片

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-14T07:34:51.563

您应该在您创建自定义单元格的地方注册 xib 文件（使用 registerNib:forCellReuseIdentifier:），而不是类。另外，我不知道这是否会有所作为，但请替换它：

```
UsefullLinksCell *cell = (UsefullLinksCell *)[tableView dequeueReusableCellWithIdentifier:CellIdentifier]; 
```

有了这个（注意 forIndexPath: 在方法的末尾）：

```
UsefullLinksCell *cell = (UsefullLinksCell *)[tableView dequeueReusableCellWithIdentifier:CellIdentifier forIndexPath:indexPath]; 
```

**编辑后：**

如果在情节提要的表格视图中添加了一个自定义单元格，并为其指定了标识符“userFullCell”，那么您不需要注册任何东西——事实上，注册您的类会使它不起作用。所以，只需注释掉该 register 语句，看看它是否有效。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T07:27:29.947

你错过了一些东西：

```
 NSArray *objects=[[NSBundle mainBundle]loadNibNamed:@"UsefullLinksCell" owner:self options:nil];
 UsefullLinksCell *cell =[objects objectAtIndex:0]; 
```

这将为您提供自定义单元格的对象。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T07:52:41.183

我认为您必须执行以下操作

```
- (id)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier
 {
     self = [super initWithStyle:style reuseIdentifier:reuseIdentifier];
     if (self) {
      // Initialization code

          image=[[UIImageView alloc] initWithFrame:CGRectMake(0,0,50.0,50.0)];
          shortTitle=[[UILabel alloc] initWithFrame:CGRectMake(60.0,0.0,200.0,50.0)];
     }
     return self;
} 
```

否则一切都应该工作..问题是你的组件没有在任何地方初始化，要么它应该从 xib 加载，要么你必须手动初始化它们。

希望这可以帮助。

# javascript - 同样，如何从回调中获取数据？

> ID：14869707
> 
> 赞同：2
> 
> 时间：2013-02-14T07:22:52.117
> 
> 标签：javascript, jquery

我有这个代码

```
var children;
$.ajax({
    url: Routing.generate('snmp_ajax_get_children', {dev: root}),
    async: true, type: "GET"
}).done(function(data) {
    var children = Array(); 
    for(var i in data) {
        children[i] = data[i].split('|');
        for (var j in data[i]) {
            children[i][j] = $.trim(data[i][j]);
        }
    }
    localStorage.setItem('children', children);
});
children = localStorage.getItem(children);
localStorage.removeItem('children'); 
```

我使用localStorage（丑陋，我知道）从回调中获取数据，因为任何其他方法都不适合我（我不知道为什么），有什么建议吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T07:30:49.220

由于您使用异步 ajax，因此在 done 真正完成之前，您不能请求响应的结果。要实现这样的目标，您可以执行以下操作：

```
// receiving data
function getData( callback ) {
    $.ajax({
        url: Routing.generate('snmp_ajax_get_children', {dev: root}),
        async: true, type: "GET"
    }).done(function(data) {
        // is async, so it takes some time until this is triggered...
        // I don't know your response but I think children should be 
        // an object: 
        // var children = {};
        var children = Array(); 
        for(var i in data) {
            children[i] = data[i].split('|');
            for (var j in data[i]) {
                children[i][j] = $.trim(data[i][j]);
            }
        }
        // calling your data handler with the data
        callback( children );
    });
}

// your data handler
function handleData( data ) {
    // do whatever

} 

// call the action, setting the callback
getData ( handleData ); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:28:44.977

因为 'children' 变量定义了 2 次。

如您所知，函数有自己的局部变量上下文。**如果您使用var**定义变量，则它属于函数上下文（即使您使用相同的名称......）

```
}).done(function(data) {
    var children = Array(); 
    // ... 
```

在这种情况下，**children**变量将在回调结束时关闭。让我们删除用于访问外部“孩子”的第二个**var语法。**

```
}).done(function(data) {
    children = Array(); 
    // ... 
```

# amazon-web-services - 在 EC2 和 Amazon S3 之间传输大量小文件

> ID：14869708
> 
> 赞同：1
> 
> 时间：2013-02-14T07:22:57.563
> 
> 标签：amazon-web-services, amazon-s3, amazon-ec2

我正在构建一个浏览器游戏，当玩家执行一些关键操作时，我有很多小文件需要在我的 EC2 实例和 S3 之间传输。

虽然传输单个大文件相当快，但传输多个小文件却非常慢。我正在使用亚马逊的 PHP SDK。

有没有办法克服 S3 中的这个弱点？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:45:51.463

看起来结合以下两种解决方案是可行的方法。

[http://improve.dk/archive/2011/11/07/pushing-the-limits-of-amazon-s3-upload-performance.aspx](http://improve.dk/archive/2011/11/07/pushing-the-limits-of-amazon-s3-upload-performance.aspx) [http://gearman.org/](http://gearman.org/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T15:24:10.443

如果必须从 EC2 实例到 S3 进行此传输，那么您可以尝试使用 s3fuse ，它基本上会将您的 s3 驱动器安装到 EC2 实例的存储卷上。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-16T02:32:37.893

S3 的性能不是恒定的，有时会很慢。如果您需要共享对象的实时性能，我会看看 AWS memcached 服务，尽管我没有使用它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-08-30T14:53:35.240

你究竟是如何上传文件的？SDK中有多线程方法吗？我问是因为我必须实现自己的方法来比 SDK 更快地下载东西。

您需要立即阅读这些文件吗？你每秒有多少事件，你需要订购它们吗？

我的第一个想法是创建一个本地缓冲区，每隔一段时间上传一次批次。

然后，如果这太慢了，我会先将它们存储在一个快速缓冲区中，而不是 S3，然后每隔一段时间刷新一次。我的选择是简单的东西，比如 SQS 或 Redis。SQS 理论上对于随机队列具有无限吞吐量，对于 FIFO 队列具有每秒 300 批（1 批 = 1..10 条消息 = 0..256kb）的吞吐量 - 您可以进一步增加。

然后你就有了流、Lambda 等等。

# asp.net - 如何在网页中添加“不喜欢”按钮？

> ID：14869710
> 
> 赞同：0
> 
> 时间：2013-02-14T07:23:02.053
> 
> 标签：asp.net, facebook, facebook-like, facebook-app-requests

我正在开发 Windows 8 应用程序，我需要在其中显示一个带有 facebook“喜欢/不喜欢”选项的网页。下面是我为 Like 添加的代码。我也需要添加 Like 选项。有人可以解释一下如何完成这项工作吗？

```
 @section AdditionalHeaderContent {

        <script type="text/javascript" src="http://connect.facebook.net/en_US/all.js#xfbml=1"></script>
    }
@section ContentFooter
 {
    <div id="fb-root">
    <fb:like ref="@Url.RequestContext.HttpContext.Request.Url.ToString().EnsureTrailing("/")" show_faces="true" width="450"></fb:like>        
    </div>
} 
```

如何显示“不喜欢”按钮？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T08:05:45.553

Facebook like 按钮也是您的 Facebook 不同按钮。Facebook 按钮知道您是否已经喜欢该页面。

因此，当您再次单击它时，您将再次“不喜欢”它。

**更新** *（所以你不必检查评论）*

此按钮使用由 facebook 托管的 Javascript，您无法对其进行编辑。

**- - - 你可以做什么 - -**

如果可以自定义单独的“喜欢”和“不喜欢”按钮，这将是这样做的方法。

使用 c# Facebook SDK 自己为 Facebook 编写代码。
( [http://csharpsdk.org/](http://csharpsdk.org/) )

您可以在此处查找 Facebook API。（[https://developers.facebook.com/docs/reference/apis/](https://developers.facebook.com/docs/reference/apis/)）

# r - 如何在 ubuntu 12.04 中安装 R 的预测包？

> ID：14869711
> 
> 赞同：5
> 
> 时间：2013-02-14T07:23:10.560
> 
> 标签：r, ubuntu, ubuntu-12.04

我尝试了以下代码进行安装

```
>install.packages("forecast") 
```

错误发生如下：

```
ERROR: dependency ‘Rcpp’ is not available for package ‘RcppArmadillo’
* removing ‘/root/R/x86_64-pc-linux-gnu-library/2.14/RcppArmadillo’
ERROR: dependencies ‘Rcpp’, ‘RcppArmadillo’ are not available for package ‘forecast’
* removing ‘/root/R/x86_64-pc-linux-gnu-library/2.14/forecast’

The downloaded packages are in
‘/tmp/RtmpJqQfrh/downloaded_packages’
Warning messages:
1: In install.packages("forecast") :
installation of package ‘RcppArmadillo’ had non-zero exit status
2: In install.packages("forecast") :
installation of package ‘forecast’ had non-zero exit status 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-17T15:00:58.623

[您的 R 版本对于预测](http://cran.r-project.org/package=forecast)所依赖的软件包的当前版本来说太旧了。

[您可以尝试通过从CRAN 上的 Archive/ 部分](http://cran.r-project.org/src/contrib/Archive/forecast/)下载来手动安装较旧版本的[预测](http://cran.r-project.org/package=forecast)包。一个不错的选择是与您的 R 安装年龄大致相同的版本。

如果您将 R 升级到当前版本，则 Rcpp、RcppArmadillo、... 都可以正常安装，最新版本的预测也是如此。由于您在 Ubuntu 上，实际上获取这些更新版本非常容易，[只需阅读此处的 README](http://cran.r-project.org/bin/linux/ubuntu)并按照描述添加 apt 存储库信息。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-08-18T18:19:26.407

如果更新 CRAN 不起作用，您可能缺少 gcc-fortran。这是 quadprog 所需要的，而时间序列又是 CRAN 预测包所需要的。

要在 Arch Linux 上安装 gcc-fortran 软件包，请执行：

```
# pacman -S gcc-fortran 
```

要在 Ubuntu 上安装 fortran 编译器，请执行：

```
# apt-get install gfortran 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-19T04:37:08.377

我将我的问题解决为：首先，我已将我的 CRAN 添加到 /etc/apt/sources.list。之后，我从终端执行了以下命令

```
sudo apt-get update 
```

接着

```
sudo apt-get upgrade 
```

升级成功后，在 R 控制台中给出命令

```
install.packages("forecast") 
```

这解决了我的问题。有关这方面的详细信息，您可以访问 cran.r-project.org/bin/linux/ubuntu。

我感谢 Dirk Eddelbuettel 的好意建议。

# python - postgres ：即使在删除数据库之后也存在关系

> ID：14869718
> 
> 赞同：0
> 
> 时间：2013-02-14T07:23:26.783
> 
> 标签：python, django, postgresql

我删除了我之前为 django 创建的数据库，使用：
`dropdb <database>`

但是当我转到 psql 提示并说`\d`时，我仍然看到那里的关系：

如何从 postgres 中删除所有内容，以便我可以从头开始做所有事情？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T17:39:56.860

很可能在某个地方，您在 template1 数据库（或旧版本的 postgres 数据库）中创建了对象，并且每次创建新数据库时，我都会在其中包含所有这些对象。您可以删除 template1 / postgres 数据库并重新创建它，或者连接到它并手动删除所有这些对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T08:10:22.637

您可能一开始就没有在正确的模式中创建表。要么那个，要么你`dropdb`没能完成。

尝试再次删除数据库并查看它的内容。如果这似乎可行，则进入 postgres 并键入`\l`，将输出放在这里。

# asynchronous - 异步数据传输 CUDA

> ID：14869719
> 
> 赞同：1
> 
> 时间：2013-02-14T07:23:28.823
> 
> 标签：asynchronous, cuda

考虑下面的 cuda 代码：

```
CudaMemCpyAsync(H2d, data1...., StreamA);
KernelB<<<..., StreamB>>>(data1,...);
CudaMemCpyAsync(D2H, output using data1, ...., StreamA); 
```

“CudaMemCpyAsync(D2H ....., StreamA);”什么时候出现 在代码中开始？它是否在 KernelB 执行结束后开始？我是否替换“CudaMemCpyAsync（D2H .....，StreamA）；” 使用“CudaMemCpy（D2H .....，StreamA）；” 如果我必须将 KernelB 的输出复制回主机？

此外，在异步数据传输中是否绝对需要固定内存使用？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T07:46:41.687

用户创建的 CUDA 流相对于彼此和相对于主机是异步的。发布给同一 CUDA 流的任务被序列化。因此，在您的情况下，`cudaMemCpyAsync(D2H, output using data1, ...., StreamA);`将等待先前的内存副本完成。但是不能保证当这个内存复制启动时，内核会完成它的执行。因为`StreamA`和`StreamB`是异步的。

此外，主机不会等待这些流完成执行。

如果您希望主机等待流，您可以使用`cudaDeviceSynchronize`或`cudaStreamSynchronize`。

[如果不使用固定内存，内存副本将不会与内核执行重叠。](https://stackoverflow.com/a/14094079/1231073)

# python - 如何在while循环中添加所有用户输入？

> ID：14869722
> 
> 赞同：0
> 
> 时间：2013-02-14T07:23:44.203
> 
> 标签：python, input, sum, average

```
x=input("Do you want to enter number Y/N:")
numbersEntered= 0
while x == "Y":
    number = int(input("Enter number :"))
    numbersEntered=numbersEntered+1
    y=input("Do you want to continue entering new numbers: Y/N:")
    if y == "N":
        break
average=/numbersEntered

print(average) 
```

使用 Python。这是我目前所拥有的。一旦用户输入“N”，我需要将所有用户输入添加在一起。我只是不知道该怎么做。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:29:05.700

*本质*上，一旦用户输入“N”，您就不需要将所有用户输入添加在一起。

创建一个新变量，`total`（不要调用它[`sum`](http://docs.python.org/2/library/functions.html#sum)，这是 Python 内置的），将其初始化并在每次迭代时`0`添加到它。`number`您将按照与当前计算的方式大致相同的方式执行此操作`numbersEntered`。

然后，您需要更正您的`average`计算以将`total`其考虑在内。

# c# - 如何在 GridView 中添加 Like/Unlike 功能？

> ID：14869725
> 
> 赞同：0
> 
> 时间：2013-02-14T07:24:01.137
> 
> 标签：c#, asp.net, sql-server-2008

如果我在数据库中手动输入值，那么我可以在墙上查看它，但我不知道如何在单击“喜欢”时以编程方式插入值。我想在单击“喜欢”时触发的查询（在 msg 下面的每一行中）是 `"insert into tbl_like (ScrapId,FromId,LikeStatus) values(A*,sessionUserID,1)";`

A* = 这必须是点击喜欢的特定行的 Scrapid。

数据库表：Scrap_Table：ScrapId | FromId | ToId | 味精

Like_table：

点赞 | 废料 ID | FromId | 喜欢状态

源代码：

```
 <asp:GridView ID="GridViewUserScraps" ItemStyle-VerticalAlign="Top" AutoGenerateColumns="False"
                GridLines="None" Width="100%" ShowHeader="False" runat="server" AlternatingRowStyle-BackColor="#A5A5A5"
                CellPadding="4" ForeColor="#333333" DataKeyNames="ScrapId" 
                OnItemCommand="CommandLinkClicked">
                <Columns>
                    <asp:TemplateField>
                        <ItemTemplate>
                            <table align="left" cellpadding="1" cellspacing="2">
                                <tr>
                                    <td>
                                        <a href='<%#getUserHREF(Container.DataItem)%>'>
                                            <img align="middle" src='<%#getSRC(Container.DataItem)%>' border="0" width="50px" /></a>
                                    </td>
                                    <td>
                                        &nbsp;</td>
                                </tr>
                            </table>
                            <div align="justify">
                                <%#DataBinder.Eval(Container.DataItem, "Message")%>
                                <br />
                                <br />
                            </div>
                            <span class="SmallBlackText">Posted On: &nbsp;</span>
                            <asp:Label ID="lblSendDate" runat="server" Text='<%#DataBinder.Eval(Container.DataItem,"SendDate")%>'></asp:Label>
                            </span>
                            <br />
                           <%-- <asp:LinkButton ID="lnklike" runat="server" 
                                CommandArgument="<%# ((GridViewRow) Container).RowIndex %>" 
                                CommandName="LikeCmd">Like</asp:LinkButton>
                            &nbsp;&nbsp;&nbsp;
                            <asp:LinkButton ID="lnkunlike" runat="server">unlike</asp:LinkButton>--%>

                            <asp:LinkButton ID="lnklike" runat="server" CommandName="like" CommandArgument='<%# Eval("ScrapId")%>'>Like</asp:LinkButton>
    <asp:LinkButton ID="lnkunlike" runat="server"  CommandName="unlike" CommandArgument='<%# Eval("ScrapId")%>'>unlike</asp:LinkButton>

                            &nbsp;&nbsp;
                            <asp:Label ID="lbllike" runat="server" Text="likes:"></asp:Label>
                           <%-- <asp:Label ID="lbllikecount" runat="server" Text="0"></asp:Label>--%>

                        <asp:Label ID="Label1" runat="server" Text='<%# Controls_GetUserScraps.abc((int)Eval("ScrapId")) %>' />
                          <%--<asp:Label ID="Label1" runat="server" Text='<%# WebPageName.StaticMethodName((int)Eval("ScrapId")) %>' />--%>

                        </ItemTemplate>
                    </asp:TemplateField>
                </Columns>
                <RowStyle BackColor="#EFF3FB" />
                <FooterStyle BackColor="#507CD1" Font-Bold="True" ForeColor="White" />
                <PagerStyle BackColor="#2461BF" ForeColor="White" HorizontalAlign="Center" />
                <SelectedRowStyle BackColor="#D1DDF1" Font-Bold="True" ForeColor="#333333" />
                <HeaderStyle BackColor="#507CD1" Font-Bold="True" ForeColor="White" />
                <EditRowStyle BackColor="#2461BF" />
                <AlternatingRowStyle BackColor="White" />
            </asp:GridView> 
```

代码背后：

```
DataBaseClass dbClass = new DataBaseClass();
public DataTable dt;

protected void Page_Load(object sender, EventArgs e)
{
    if (!Page.IsPostBack)
    {

        GetUserScraps(int.Parse(Request.QueryString["Id"].ToString()));
    }
}
public void GetUserScraps(int Id)
{

    string getUserScraps = "SELECT u.Id as UserId,u.firstname,u.ImageName,s.FromId,s.ToId,s.Message,s.SendDate,s.ID as ScrapId FROM [User] as u, Scrap as s WHERE u.Id=s.FromId AND s.ToId='" + Request.QueryString["Id"].ToString() + "'";
  //string getlikes = "select COUNT(*) from tbl_like inner join Scrap on tbl_like.scrapid=Scrap.Id where tbl_like.likestatus=1 and tbl_like.scrapid='"+<%#DataBinder.Eval(Container.DataItem,"ScrapId")%>+"'";
  //  <%#DataBinder.Eval(Container.DataItem,"ScrapId")%>

    dt = dbClass.ConnectDataBaseReturnDT(getUserScraps);
    if (dt.Rows.Count > 0)
    {
        GridViewUserScraps.DataSource = dt;
        GridViewUserScraps.DataBind();
    }
}

public string getUserHREF(object sURL)
{
    DataRowView dRView = (DataRowView)sURL;
    string Id = dRView["UserId"].ToString();
    return ResolveUrl("~/UserDetails.aspx?Id=" + Id);
}

public string getSRC(object imgSRC)
{
    DataRowView dRView = (DataRowView)imgSRC;
    string ImageName = dRView["ImageName"].ToString();
    if (ImageName == "NoImage")
    {
        return ResolveUrl(@"~/Site_Images/image_missing.jpg");
    }
    else
    {
        return ResolveUrl("~/UserImage/" + dRView["ImageName"].ToString());
    }
}

public static int abc(int scrpid)
{

    string getlikes = "select COUNT(*) from tbl_like inner join Scrap on tbl_like.scrapid=Scrap.Id where tbl_like.likestatus=1 and tbl_like.scrapid='"+scrpid+"'";

    dboperation dbo = new dboperation();
    int a = dbo.GetLikesMethod(getlikes);

    return a;
}

protected void CommandLinkClicked(object sender, DataGridCommandEventArgs e)
{
    var scrapId = Int32.Parse(e.CommandArgument.ToString());
    switch (e.CommandName)
    {
        case "like":
            var con = new SqlConnection(System.Configuration.ConfigurationManager.ConnectionStrings["constr"].ConnectionString); //your connection string
            var cmd = new SqlCommand("insert into tbl_like (ScrapId,FromId,LikeStatus) values(@scrapId,@sessionUser,1)");
            cmd.Parameters.AddWithValue("@scrapId", scrapId);
            cmd.Parameters.AddWithValue("@sessionUser", Session["UserId"]);
            cmd.Connection = con;
            con.Open();
            cmd.ExecuteNonQuery();
            break;
        case "unlike":
            //do stuff
            break;
    }
}

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:31:27.463

您必须将`OnItemCommand`事件添加到网格中以处理对链接按钮的点击。两个链接按钮也必须具有`CommandName`并`CommandArgument`设置。

更改您的 html 如下：

```
<asp:GridView .... OnRowCommand="GridViewRowCommand">

    <asp:LinkButton ID="lnklike" runat="server" CommandName="like" CommandArgument='<%# Eval("ScrapId")%>'>Like</asp:LinkButton>
    <asp:LinkButton ID="lnkunlike" runat="server"  CommandName="unlike" CommandArgument='<%# Eval("ScrapId")%>'>unlike</asp:LinkButton>

</asp:GridView> 
```

这是后面代码中的事件：

```
protected void GridViewRowCommand(Object sender, GridViewCommandEventArgs e)
{
    var scrapId = Int32.Parse(e.CommandArgument.ToString());
    switch (e.CommandName)
    {
        case "like" : 
                using (var con = new SqlConnection("connection_string")) //your connection string
                {
                   var cmd = new SqlCommand("insert into tbl_like (ScrapId,FromId,LikeStatus) values(@scrapId,@sessionUser,1)");
                   cmd.Parameters.AddWithValue("@scrapId", scrapId);
                   cmd.Parameters.AddWithValue("@sessionUser", Session[User]); 
                   cmd.Connection = con;
                   con.Open();
                   cmd.ExecuteNonQuery();
                }
                break;
        case "unlike" : 
                //do stuff
                break;
    }
} 
```

# html - 当图像出现在悬停时如何映射图像

> ID：14869726
> 
> 赞同：0
> 
> 时间：2013-02-14T07:24:06.703
> 
> 标签：html, css

我使用悬停效果来更改图像。当我将鼠标悬停在第一张图像上时，它会显示另一个图像，其中我想链接的名称很少，但因为该图像在 Dreamweaver 中不可见，所以我无法映射它。

这是用于此的CSS：

```
div#content .promo{
    display:block;
    position:relative;
    width:170px;
    height:170px;
/*  border:1px solid #f00;*/
    float:left;
    margin:10px;
/*  border-radius:100px;*/

    }

#content .promo .mask {
    height: 100%;
    width: 100%;
    left: 0;
    top: 0;
    opacity: 1.0;
    position: absolute;
    transition: opacity 0.45s ease-in 0s;
    z-index: 1; 
    background-color:#FFFFFF;
/*  border-radius:100px;*/
}

#content .promo:hover .mask {
    opacity: 0;
    filter:alpha(opacity=0); 
} 
```

这是div中图像的代码：

```
<div id="content">
<div class="promo">
 <img src="http://pearlacademy.com/wp-content/uploads/2013/02/Circles-back-01.png" />
    <div class="mask">
        <img src="http://pearlacademy.com/wp-content/uploads/2013/02/style.png"/>
    </div>
</div>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:55:26.133

给你...

### HTML

```
<div class="map">
    <img src="http://pearlacademy.com/wp-content/uploads/2013/02/Circles-back-01.png" alt="Pearl" />
    <a href="http://www.google.com" class="link link1"></a>
    <a href="http://www.yahoo.com" class="link link2"></a>
    <a href="http://www.microsoft.com" class="link link3"></a>
</div> 
```

### CSS

```
.map {position: relative;}
.link {position: absolute; width: 150px; height: 40px;}
.link.link1 {top: 20px; left: 10px;}
.link.link2 {top: 60px; left: 10px;}
.link.link3 {top: 100px; left: 10px; height: 50px;} 
```

### 小提琴：http: [//jsfiddle.net/praveenscience/6uwRP/](http://jsfiddle.net/praveenscience/6uwRP/)

* * *

你想要这样的东西吗？

### HTML

```
<div class="promo">
    <img src="http://pearlacademy.com/wp-content/uploads/2013/02/Circles-back-01.png" />
    <img src="http://pearlacademy.com/wp-content/uploads/2013/02/style.png" class="hover" />
</div> 
```

### CSS

```
.promo img.hover,
.promo:hover img {display: none;}
.promo:hover img.hover {display: inline;} 
```

### 小提琴：http: [//jsfiddle.net/praveenscience/dYExh/](http://jsfiddle.net/praveenscience/dYExh/)

# sql - 在 for 循环中排序 (SQL UDF)

> ID：14869728
> 
> 赞同：1
> 
> 时间：2013-02-14T07:24:23.643
> 
> 标签：sql, db2, user-defined-functions

我想使用 SQL UDF 聚合一些行。我想首先选择按其 id 排序的行，然后将它们连接到逗号分隔的列中。我的函数中的 order by 子句有错误，因为它位于 for 循环内。有没有办法在不删除 order by 子句的情况下运行它？我的数据库是 DB2

```
CREATE FUNCTION mySchema.getDates(recId INTEGER)
RETURNS VARCHAR(1024)
LANGUAGE SQL
    BEGIN ATOMIC
        DECLARE STR VARCHAR(1024);
        SET STR = '' ;
        LOOP1 : FOR ROW AS (select replace(char(myDate,EUR),'.','/') as myDate from myTable.BookingDates where recId=recId order by rec_crt-id)
        DO
            IF ROW.myDate IS NOT NULL THEN
                SET STR = STR || CAST ( ROW.myDate AS VARCHAR ( 20 ) ) || ', ' ;
            END IF ;
        END FOR;
    RETURN STR ;
END 
```

> ```
> SQL State: 42601
> Vendor Code: -199
> Message: [SQL0199] Keyword ORDER not expected. Valid tokens: ) UNION EXCEPT. Cause . . . . . :   The keyword ORDER was not expected here. 
> ```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-15T08:24:53.660

这是行不通的：

```
where recId=recId 
```

DB2 不会意识到您希望其中一个作为函数参数而另一个作为列名。它将对两者使用相同的，具有返回所有行的效果。您需要将函数参数命名为与列名不同的名称。

除此之外，类似于上面的代码对我来说很好。

您是编写函数的新手吗？一个常见错误是将 SQL 编辑器的语句分隔符设置为`;`. 这将使它尝试将函数分解为语句，而不是将整个内容作为单个命令发送。它会导致很多语法错误，例如上面的（对不起，如果你已经知道了，但我花了一段时间才弄清楚！）。

# r - 标量成为矩阵而不问R

> ID：14869730
> 
> 赞同：0
> 
> 时间：2013-02-14T07:24:47.587
> 
> 标签：r, matrix, scalar

我正在用 R 编写一个 chi-sq 统计测试，我的标量 chisq 正在转换为矩阵，我不知道为什么。

这里使用的变量包括

k 是一个标量

f 是一个 kxk 矩阵

n 是正在评估的数据点的数量

chisq 是一个标量，但每次我运行这段代码时都会变成一个矩阵。

任何帮助，将不胜感激

```
for(i in 1:k){
    for(j in 1:k){
        chisq<-chisq+(f[i,j]-(n/(k^2)))^2
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T08:27:20.020

这是一段可重现的代码：

```
chisq=0
k=3
f=matrix(runif(k*k),k,k)
n=3
for(i in 1:k){
    for(j in 1:k){
        chisq<-chisq+(f[i,j]-(n/(k^2)))^2
    }
} 
```

并`chisq`以标量形式出现。如果我从`chisq`一个矩阵开始，我会得到一个矩阵：

```
 chisq = matrix(0,1,1) 
```

所以，我怀疑你正在做后者，尽管你说了什么。您和我们都可以使用可重复的示例。

# html - 突出显示选定的选项卡/菜单

> ID：14869732
> 
> 赞同：1
> 
> 时间：2013-02-14T07:24:53.113
> 
> 标签：html, css, menu

网上有很多 tuts 解释如何构建好看的菜单/标签。jQuery中有很多菜单插件。

但是我不知道当我在与单击的菜单相对应的特定页面上时如何保持单击的菜单突出显示。

我希望在普通的 html/css/JS 和单个头文件中执行此操作，以便对文件进行的任何样式更改都将显示更新的菜单。

例如，假设有三个菜单（没有子菜单）Home、Tuts、Contact Us。我可以`<ul>`使用 CSS 创建它们并设置样式。我可以有`<a>`inside `ul`s，这样我就可以将点击定向到不同的页面。我将整个文件放在`<ul>`单独的文件 header.jsp 中，并将该文件包含在每个页面的顶部，以便对 header.jsp 的任何更改都会反映到所有页面。但是我怎样才能确保当我单击菜单并打开页面时，该菜单以某种方式（比如背景色）保持突出显示，从而了解该页面属于哪个菜单。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:28:45.807

比如说，如果你在服务器上运行 PHP，并且 URL 指向是这样的：

```
http://localhost/?tab=new 
```

您最初以这种方式拥有代码：

```
<ul class="tabs">
    <li>New</li>
    <li>Old</li>
    <li>Bye</li>
</ul> 
```

而在 PHP 中，您需要根据单击的值执行的操作，您需要提供以下内容：

```
<ul class="tabs">
    <li<?php if ($_GET["tab"] == "new") echo ' class="active"'; ?>>New</li>
    <li>Old</li>
    <li>Bye</li>
</ul> 
```

在`.active`课堂上，写下规则。

* * *

完整的代码是这样的：

```
<ul class="tabs">
    <li<?php if ($_GET["tab"] == "new") echo ' class="active"'; ?>><a href="/?tab=new">New</a></li>
    <li<?php if ($_GET["tab"] == "old") echo ' class="active"'; ?>><a href="/?tab=new">Old</a></li>
    <li<?php if ($_GET["tab"] == "bye") echo ' class="active"'; ?>><a href="/?tab=new">Bye</a></li>
</ul> 
```

这是在 PHP 的情况下。根据您的语言更改它。

* * *

如果你想在同一个页面中做，那么你可以使用 jQuery tabs 之类的东西。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T07:30:40.067

试试这个

HTML

```
 <ul>
  <li id="lnkHome">Home
  </li>
  </ul> 
```

脚本

```
<script>
        $(document).ready(function (event) {
            $("#lnkHome").addClass("highlight");
     });

    </script> 
```

CSS

```
.highlight
{
    color: Black;
    -moz-box-shadow: inset 0 0 20px #000000;
    -webkit-box-shadow: inset 0 0 20px #000000;
    box-shadow: inset 0 0 20px #000000;
} 
```

# java - 如何在过滤器映射中排除 url

> ID：14869734
> 
> 赞同：11
> 
> 时间：2013-02-14T07:25:02.290
> 
> 标签：java, servlet-filters, web.xml, url-pattern

web.xml

```
<filter>
    <filter-name>SessionCheckFilter</filter-name>
    <filter-class>filter.SessionCheckFilter</filter-class>
</filter>
<filter-mapping>
    <filter-name>SessionCheckFilter</filter-name>
    <url-pattern>/faces/app/admin/*</url-pattern>
</filter-mapping> 
```

我试图排除`/faces/app/admin/index.xhtml`唯一的，有没有办法做到这一点？

如果 web.xml 中没有排除 url 模式，也许我可以操纵该`doFilter()`方法来排除 url？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-06-03T10:11:17.757

```
 public void doFilter(ServletRequest servletRequest,
                     ServletResponse servletResponse,
                     FilterChain filterChain) throws IOException,
                                                     ServletException {
        HttpServletRequest request=(HttpServletRequest)servletRequest;

           String path = request.getPathInfo();
          if ((path != null) && (!path.equals("your path")){
         // write filter logic
            }
     } 
```

试试上面的代码。

# java - javah 在 Linux 中发出 Android Ndk

> ID：14869735
> 
> 赞同：2
> 
> 时间：2013-02-14T07:25:04.817
> 
> 标签：java, android, android-ndk, javah

我正在使用 Ubuntu Linux 32 位系统，在终端中它显示没有指定类

> sanidhya09@sanidhya09:~/workspace/NdkFooActivity$ javah -jni -classpath adt-bundle-linux-x86/sdk/platforms/android-4.2/android.jar;bin/classes/ -d jni/ com.example.NdkFooactivity 错误：没有指定类 bash: bin/classes/: 是一个目录

即使我试过这个

```
sanidhya09@sanidhya09:~/workspace/NdkFooActivity/bin/classes$ javah
-jni -classpath adt-bundle-linux-x86/sdk/platforms/android-4.2/android.jar; com.example.NdkFooactivity.NdkFooActivity Error: no classes specified com.example.NdkFooactivity.NdkFooActivity: command not found 
```

甚至我尝试了外部工具配置，在我写的参数部分

```
-d /home/sanidhya09/workspace/NdkFooActivity/jni -classpath /home/sanidhya09/adt-bundle-linux-x86/sdk/platforms/android-4.2/android.jar:/home/sanidhya09/workspace/NdkFooActivity/bin/classes com.example.NdkFooactivity 
```

即使在日食中，我也会收到错误提示：

> [HelloJni] 错误 127 HelloJni C/C++ 问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T21:46:37.887

```
sanidhya09@sanidhya09:~/workspace/NdkFooActivity$ javah -jni -classpath bin/classes:~/adt-bundle-linux-x86/sdk/platforms/android-16/android.jar com.example.NdkFooactivity.NdkFooActivity 
```

应该没问题，假设您的应用程序包是 com.example.NdkFooactivity 并且您感兴趣的类是 NdkFooActivity。

请注意，您必须将路径传递给`android.jar`您实际用于编译的路径。在我的 SDK 中，该目录被称为`android-16`，而不是`android-4.2`. 此外，您需要在**classpath**`bin/classes`中有目录。您的类路径中可能需要更多**jar**。

 ***** * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-15T07:19:42.780

但我还想补充一件事。（这占用了我早上的大部分时间来解决这个问题）

在指定类路径时 = 避免使用 .`/bin/classes:~/ProjectFolder/bin/classes ( the tilde representing the Home directory)`

但是使用“../../”来切换目录。由于某种原因，javah 无法识别主目录的波浪号运算符。

还有一件事，如果该类依赖于其他项目，那么您在类路径中也需要它

```
user@laptop:~/SomeProject javah -classpath ./bin/classes:../<Whereever the path is>/SomeOtherDependentProject:../<Path to android-sdk>/android.jar <Qualified class path> 
```****

# javascript - 在 Jade 中内联 Javascript，同时保持缩进

> ID：14869736
> 
> 赞同：1
> 
> 时间：2013-02-14T07:25:10.070
> 
> 标签：javascript, html, pug, templating, jade4j

有没有办法`script`在保持缩进的同时在 Jade 标签中内联 Javascript 代码？

删除缩进是可行的，但它使代码极难阅读和修改。

另一种选择是将 Javascript 放在单独的文件中，但是我们需要将一些参数从模板传递给脚本。是否可以在“单独的文件”方法中做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T08:48:04.803

从 Jade 用户文档的[*标签文本*](https://github.com/visionmedia/jade#a6-3)部分，有两种方法可以在标签中包含大块文本。以下示例演示了“脚本”标签的两种方式。Jade 可以很好地处理缩进的代码。

```
script.
  console.log("One way to preserve indentation");
  if (true) {
     console.log("This is indented");
  }
  console.log("Different indentation");

script
  console.log("Another way to preserve indentation");
  if (true) {
     console.log("This is indented");
  }
  console.log("Different indentation"); 
```

# iphone - 如何将核心绘图图形视图连接到按钮

> ID：14869738
> 
> 赞同：0
> 
> 时间：2013-02-14T07:25:13.833
> 
> 标签：iphone, objective-c, xcode, core-plot

我正在根据这个coreplot教程[http://www.gilthonwe.com/2012/06/09/stacked-bar-chart-coreplot-ios/#comment-23](http://www.gilthonwe.com/2012/06/09/stacked-bar-chart-coreplot-ios/#comment-23)做一个项目 实际上，它在uiview上工作正常，但是当我使用模态转场或自定义转场来显示视图时，它不起作用，只是停在一个点上。但推动 segue 工作正常。谁能告诉我如何使用按钮（模态segue）来启动graphview？非常感谢！泽

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-16T21:12:44.583

您可以尝试使用另一个带有按钮的视图控制器，并使用绘图对视图进行segue。因此，在按下按钮（将操作与按钮关联）时，您可以执行 segue。

# jquery - Jqgrid - 更大的标题栏

> ID：14869739
> 
> 赞同：2
> 
> 时间：2013-02-14T07:25:14.797
> 
> 标签：jquery, css, jqgrid

我有一个 Jqgrid 表，我想要一个更大的标题栏。我尝试了一切哦，我的 ui.jqgrid.css 文件，但没有任何效果。我在该文件中有正常设置，例如：

```
 /*Grid*/
   .ui-jqgrid {position: relative;}
   .ui-jqgrid .ui-jqgrid-view {position: relative;left:0px; top: 0px; padding: .0em;  font-size:25px; }

   /* caption*/

    .ui-jqgrid .ui-jqgrid-titlebar {padding: .3em .2em .2em .3em; position: relative; border-left: 0px none;border-right: 0px none; border-top: 0px none; }
    .ui-jqgrid .ui-jqgrid-title { float: left; margin: .1em 0 .2em; }
    .ui-jqgrid .ui-jqgrid-titlebar-close { position: absolute;top: 50%; width: 19px; margin: -10px 0 0 0; padding: 1px; height:18px;}.ui-jqgrid .ui-jqgrid-titlebar-close span { display: block; margin: 1px; }
    .ui-jqgrid .ui-jqgrid-titlebar-close:hover { padding: 0; }

    /* header*/
    .ui-jqgrid .ui-jqgrid-hdiv {position: relative; margin: 0em;padding: 0em; overflow- x: hidden; border-left: 0px none !important; border-top : 0px none !important; border-right  : 0px none !important; height: 30px;}

   .ui-jqgrid .ui-jqgrid-hbox {float: left; padding-right: 20px;}
   .ui-jqgrid .ui-jqgrid-htable {table-layout:fixed;margin:0em;}
   .ui-jqgrid .ui-jqgrid-htable th {height:22px;padding: 0 2px 0 2px;}
   .ui-jqgrid .ui-jqgrid-htable th div {overflow: hidden; position:relative; height:17px;}
   .ui-th-column, .ui-jqgrid .ui-jqgrid-htable th.ui-th-column {overflow: hidden;white-space: nowrap;text-align:center;border-top : 0px none;border-bottom : 0px none;}
   .ui-th-ltr, .ui-jqgrid .ui-jqgrid-htable th.ui-th-ltr {border-left : 0px none;}
   .ui-th-rtl, .ui-jqgrid .ui-jqgrid-htable th.ui-th-rtl {border-right : 0px none;}
   .ui-first-th-ltr {border-right: 1px solid; }
   .ui-first-th-rtl {border-left: 1px solid; }
   .ui-jqgrid .ui-th-div-ie {white-space: nowrap; zoom :1; height:17px;}
   .ui-jqgrid .ui-jqgrid-resize {height:20px !important;position: relative; cursor :e-resize;display: inline;overflow: hidden;}
   .ui-jqgrid .ui-grid-ico-sort {overflow:hidden;position:absolute;display:inline; cursor: pointer !important;}
   .ui-jqgrid .ui-icon-asc {margin-top:-3px; height:12px;}
   .ui-jqgrid .ui-icon-desc {margin-top:3px;height:12px;}
   .ui-jqgrid .ui-i-asc {margin-top:0px;height:16px;}
   .ui-jqgrid .ui-i-desc {margin-top:0px;margin-left:13px;height:16px;}
   .ui-jqgrid .ui-jqgrid-sortable {cursor:pointer;}
   .ui-jqgrid tr.ui-search-toolbar th { border-top-width: 1px !important; border-top- color: inherit !important; border-top-style: ridge !important }
   tr.ui-search-toolbar input {margin: 1px 0px 0px 0px}
   tr.ui-search-toolbar select {margin: 1px 0px 0px 0px} 
```

![Jqgrid](../Images/cb1b7575cca08fd67c16bd40fe034156.png)

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T10:27:25.787

[您已经包含了来自ui.jqgrid.css](https://github.com/tonytomov/jqGrid/blob/v4.4.4/css/ui.jqgrid.css)的两条 CSS 行

```
.ui-jqgrid .ui-jqgrid-htable th div {overflow: hidden; position:relative; height:17px;}
.ui-jqgrid .ui-th-div-ie {white-space: nowrap; zoom :1; height:17px;} 
```

因此，要增加列标题的高度，您可以使用另一个固定`height`值，例如

```
.ui-jqgrid .ui-jqgrid-htable th div { height: 23px; }
.ui-jqgrid .ui-th-div-ie { height: 23px; } 
```

或使用`height: auto`风格：

```
.ui-jqgrid .ui-jqgrid-htable th div { height: auto; }
.ui-jqgrid .ui-th-div-ie { height: auto; } 
```

# java - Java - 日历/日期差异 - 查找差异到秒

> ID：14869742
> 
> 赞同：0
> 
> 时间：2013-02-14T07:25:25.863
> 
> 标签：java, date, calendar, gregorian-calendar, java.util.date

试图用Java制作一个小倒计时程序。

我正在寻找应用程序的日期部分之间的差异，出于某种原因，我只得到了日期。

我想要天、小时、分钟和秒。我不确定为什么我的计算只是被四舍五入到一个偶数......在这个例子中是 163，而不是 163.xx？

这是我的代码：

```
import java.util.Date;
import java.util.Calendar;
import java.util.GregorianCalendar;

public class CalcData {

    Calendar cal1;
    Date today;

    public CalcData() {

        cal1 = new GregorianCalendar();
        today = new GregorianCalendar().getTime();

    }

    public String calcDiff() {

        cal1.set(2013, 6, 27, 7, 15, 0);
        double theDays = calcDays(cal1.getTime(), today);
        return "" + theDays;

    }

    public double calcDays(Date d1, Date d2) {

        double theCalcDays = (double) ((d1.getTime() - d2.getTime()) / (1000 * 60 * 60 * 24));
        return theCalcDays;

    }
} 
```

正如我所说，当我运行它时，我得到了结果：163.0

我想，如果它使用毫秒，那将是某种小数。我确信这是我想念的简单东西，但就是找不到！

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:31:00.187

您正在将一个整数除以另一个整数。在进行除法之前，您需要将它们转换为双打。像这样

```
double theCalcDays = ((double) (d1.getTime() - d2.getTime())) / (1000 * 60 * 60 * 24); 
```

# c# - 无法从 C# 类访问 ColdFusion Web 服务

> ID：14869743
> 
> 赞同：2
> 
> 时间：2013-02-14T07:25:29.523
> 
> 标签：c#, .net, coldfusion

我必须在我的项目中使用 ColdFusion 网络服务。我已经在我的项目中添加了服务引用，它已成功加载，但在我的 Web 应用程序中无法访问服务。

我所做的是假设我有一个 url `http://www.server/service.cfc?wsdl`- 我添加了上述服务引用并将服务引用名称指定为`MyServiceReference`.

当我`MyServiceReference`在我的类文件中访问时，它是不可访问的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-12T15:38:09.510

本周我在使用 Coldfusion 网络服务时遇到了类似的问题。为了解决它，我建议您可以：

### 1\. 使用旧的“添加 Web 引用”（如 .NET 2.0）而不是使用“添加服务引用”来使用 WS

就我而言，问题是 web 服务的方法是使用 return void 生成的，并且它们没有参数，但是当我使用这种技术添加服务时，代理已正确生成。这篇[文章](http://edanan.wordpress.com/2012/03/07/add-coldfusion-web-service-using-web-reference-instead-of-service-reference/)帮助了我。

### 2.尝试使用Visual Studio Developer Command Tools中的WSDL.exe，看看服务描述是否有错误

如果有可能您将无法正确生成代理，您应该要求开发人员更正服务。
我提到的工具可以在“开始菜单\程序\Microsoft Visual Studio 2012\Visual Studio Tools\Developer Command Prompt for VS2012”中找到（也适用于 VS2010）。就我而言，我看到了以下错误：

> “此 Web 参考不符合 WS-I Basic Profile v1.1.R2706：描述中的 wsdl:binding 必须为所有 soapbind:body、soapbind:fault、soapbind 中的 use 属性使用“literal”值： header 和 soapbind:headerfault 元素。”

# .htaccess - 将 htaccess 文件转换为 web.config 以在 IIS 7 上运行 Php

> ID：14869747
> 
> 赞同：0
> 
> 时间：2013-02-14T07:25:44.707
> 
> 标签：.htaccess, iis, iis-7, web-config, url-rewrite-module

我需要将 .htaccess 转换为 web.config 以便在 iis 7 上运行 php。有什么想法吗？

```
Options +FollowSymLinks +SymLinksIfOwnerMatch
RewriteEngine On
RewriteBase /test
RewriteCond %{SCRIPT_FILENAME} !-f
RewriteCond %{SCRIPT_FILENAME} !-d
RewriteRule ^(.*)$ index.php 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T08:18:39.793

来自 .htaccess 向导的 URL 重写模块的导入规则生成了以下规则：

```
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
  <system.webServer>
    <rewrite>
      <rules>
        <rule name="non-existent paths to index.php">
          <match url="^test/(.+)$" />
          <conditions>
            <add input="{REQUEST_FILENAME}" matchType="IsFile" negate="true" />
            <add input="{REQUEST_FILENAME}" matchType="IsDirectory" negate="true" />
          </conditions>
          <action type="Rewrite" url="test/index.php" appendQueryString="true" />
        </rule>
      </rules>
    </rewrite>
  </system.webServer>
</configuration> 
```

该请求`/test/`将导致 IIS 触发`/test/index.php`，因此`(.*)`是不必要的并且`(.+)`更合适。

# android - Android：地图叠加自定义信息显示在气球叠加上

> ID：14869757
> 
> 赞同：0
> 
> 时间：2013-02-14T07:26:27.407
> 
> 标签：android, google-maps, overlay

我需要在地图上显示自定义信息作为 Pin 上的用户磁带。我正在起诉 Balloon 地图叠加，我需要显示的信息来自 Web 服务，例如虚拟信息如下 - 时间 - 名称 - 电池状态 - 以及其他一些信息 在此先感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:50:56.380

这对我有用，请记住更改包名称，如果您有任何错误，请询问

```
 package com.utility;

    import java.util.ArrayList;

    import android.content.Context;
    import android.graphics.Canvas;
    import android.graphics.drawable.Drawable;

    import com.google.android.maps.MapView;
    import com.google.android.maps.OverlayItem;

    public class MyItemizedOverlay extends BalloonItemizedOverlay<OverlayItem> {

        private ArrayList<OverlayItem> m_overlays = new ArrayList<OverlayItem>();
        private Context c;
        private Drawable marker;
        private String mFlag;

        public MyItemizedOverlay(Drawable marker, MapView mapView, String mFlag) {
            super(boundCenter(marker), mapView);
            this.marker = marker;
            c = mapView.getContext();
            this.mFlag = mFlag;
        }

        public void addOverlay(OverlayItem overlay) {
            m_overlays.add(overlay);
            populate();
        }

        @Override
        protected OverlayItem createItem(int i) {
            return m_overlays.get(i);
        }

        @Override
        public void draw(Canvas canvas, MapView mapView, boolean shadow) {
            super.draw(canvas, mapView, shadow);

            boundCenterBottom(marker);
        }

        public void removeOverlay(OverlayItem overlay) {
            m_overlays.remove(overlay);
            populate();
        }

        public void clear() {
            m_overlays.clear();
            populate();
        }

        @Override
        public int size() {
            return m_overlays.size();
        }

        @Override
        protected boolean onBalloonTap(int i) {

            return true;
        }

    }

MyItemizedOverlay mItemizedOverlay = new MyItemizedOverlay(marker1, mMapView, "AnyName"); //here marker1 is your pin in drawable like - getResources().getDrawable(R.drawable.pin_red);

//here mMapView is your mapview object that you have defined in your xml

List<Overlay> mapOverlays = mMapView.getOverlays();

//now when you get response from server put this code

GeoPoint newPoint = new GeoPoint(
                                (int) (Double.parseDouble(mLat) * 1E6),
                                (int) (Double.parseDouble(mLong) * 1E6));
                        Geocoder geoCoder = new Geocoder(getBaseContext(),
                                Locale.getDefault());
                        String _destinationAdd = ConvertPointToLocation(newPoint);

                        if (!mUserInfo.mLat.equals("null")
                                || mUserInfo.mLat != null
                                && !mUserInfo.mLong.equals("null")
                                || mUserInfo.mLong != null) {

                            OverlayItem overlayItem = new OverlayItem(
                                    newPoint,

                                            "Location : " + _destinationAdd,
                                    null);
                            itemizedOverlay.clear();

                            itemizedOverlay.addOverlay(overlayItem);
                            mapOverlays.add(itemizedOverlay);

                            mMapView.getController()
                                    .animateTo(
                                            getPoint(
                                                    Double.parseDouble(mUserInfo.mLat),
                                                    Double.parseDouble(mUserInfo.mLong)));
                            mMapView.getController()
                                    .setCenter(
                                            getPoint(
                                                    Double.parseDouble(mUserInfo.mLat),
                                                    Double.parseDouble(mUserInfo.mLong)));
                            mMapView.getController().setZoom(15);
                        }
                        mMapView.invalidate(); 
```

# c# - 使用 jQuery 附加值时分页在 GridView 中不起作用

> ID：14869758
> 
> 赞同：0
> 
> 时间：2013-02-14T07:26:36.343
> 
> 标签：c#, jquery, asp.net, ajax

这里我有一个gridview，我使用jquery 将检索到的数据附加到它。我想在gridview 中使用分页。但它不起作用。我不知道为什么..因为当我在其他应用程序中使用相同的方法时它工作得非常好，这些应用程序通常在没有 jquery 的情况下绑定网格。请检查我的代码并告诉我出了什么问题

这是我的网格，

```
<form runat="server">
   <asp:GridView ID="GridView1" ClientIDMode="Static" runat="server" AutoGenerateColumns="False" AllowPaging="True" PageSize="5" GridLines="None" CellSpacing="10" >

   </asp:GridView> 
```

这是我将值（绑定）附加到网格的 jquery 代码，

```
$("#search-user")
       .button()
       .click(function () {
           $.ajax({
               contentType: "application/json; charset=utf-8",
               url: "MyHandler.ashx",
               data: {
                   'user': "" + $("#txtsearch").val(),
                   'method': 'search'
               },
               dataType: "json",
               success: updateGrid,
               error: function (result) { alert("Error- Inside user Searching "); }
                });
       });

function updateGrid(data) {
        var i = 0;
        var content;
        $("#GridView1").html('');  // clearing the old data in grid
        $("#GridView1").append("<tr><th>" + "Name" + "</th><th>" + "Gender" + "</th><th>" + "Date of Birth" + "</th><th>" + "Role" + "</th><th>" + "Password" + "</th><th>" + "Email" + "</th></tr>"); 

 while (data[i] != null)
        {  // appending the retrieved data to grid
            $("#GridView1").append("<tr><td>" + data[i].name + "</td><td>" + data[i].gender + "</td><td>" + data[i].dob + "</td><td>" + data[i].role + "</td><td>" + data[i].password + "</td><td>" + data[i].email + "</td></tr>");
            i++;
        }
    } 
```

# android - 在 Android 4.2.1 的 Galaxy Nexus 中使用 GCM 未接收推送通知

> ID：14869759
> 
> 赞同：1
> 
> 时间：2013-02-14T07:26:36.887
> 
> 标签：android, google-cloud-messaging, android-notifications, galaxy-nexus

现在我正在使用 3 台设备进行测试：Samsung S7500、Galaxy Mexus、HTC explore。如果设备处于活动状态，那么我会在所有三个设备中收到推送通知。如果它处于空闲状态（锁定/睡眠），那么我也会在所有三个设备中收到推送通知。但是，如果在发送推送消息时它处于脱机状态，那么我上线的时间应该会根据文档收到所有待处理的通知。但在这种情况下，我没有在所有设备中收到通知。特别是在 Galaxy Nexus 中，有时我会收到它是否处于空闲状态，有时不是。我哪里错了？谁能帮我？

从第三方服务器（.Net）端发布到 GCM 服务器的字符串：其中“i”是当前时间。

```
String postdata= "collapse_key=score_update"+i+"&time_to_live=2419200&delay_while_idle=1&data.message=‌​"+ message + "&data.time=" + System.DateTime.Now.ToString()
                    + "&registration_id=" + deviceToken + ""; 
```

根据包括 Wakelock 在内的文档，在清单中提到了所有必需的权限。这是我在 GCMIntentService 类中的通知代码：

```
 int icon = R.drawable.notif;
        long when = System.currentTimeMillis();
            NotificationManager notificationManager =(NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE); 
        Notification notification = new Notification();
        Intent notificationIntent = new Intent(context, DemoActivity.class);
        notificationIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP
                | Intent.FLAG_ACTIVITY_SINGLE_TOP);
        PendingIntent intent = PendingIntent.getActivity(context, (int) when,
                notificationIntent,0);
           RemoteViews contentView = new RemoteViews(getPackageName(),R.layout.notify);
        contentView.setImageViewResource(R.id.ImageViewpnotify, icon);
        contentView.setTextViewText(R.id.TextViewpnotify, message);
        notification.contentView = contentView;
        notification.contentIntent= intent;
        notification.icon = icon;   
        notification.flags |= Notification.FLAG_AUTO_CANCEL;       
            notification.defaults |= Notification.DEFAULT_SOUND;       
            notification.defaults |= Notification.DEFAULT_VIBRATE;      
        notification.ledARGB = 0xffff0000;
        notification.flags |= Notification.FLAG_SHOW_LIGHTS;
        notification.ledOnMS = 100; 
        notification.ledOffMS = 100;
        notificationManager.notify((int)when, notification); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-25T06:54:39.470

我知道现在回答你的问题已经很晚了，但我遇到了同样的问题，我设法使用以下链接解决了这个问题：

[https://gist.github.com/mgartner/7092333](https://gist.github.com/mgartner/7092333)

这是服务进入空闲状态并停止接收任何通知的某些设备中的一个错误，解决方案是强制它每 5 分钟重新启动一次。您也可以使用以下链接来帮助您自定义 gcmreceiver：

[http://code.google.com/p/gcm/source/browse/gcm-client/src/com/google/android/gcm/GCMBaseIntentService.java?r=8094cc6410b7dc2db452eb19cc9274fda1b2d6a2](http://code.google.com/p/gcm/source/browse/gcm-client/src/com/google/android/gcm/GCMBaseIntentService.java?r=8094cc6410b7dc2db452eb19cc9274fda1b2d6a2)

# javascript - JS正则表达式将6位数字转换为dd-dd-dd

> ID：14869762
> 
> 赞同：0
> 
> 时间：2013-02-14T07:26:59.060
> 
> 标签：javascript, regex

如何使用替换 api 将 201656（可以是任何 6 位数字）转换为 20-16-56

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T08:20:38.520

这将满足您的需求：

```
"124578".replace(/(.{2})(?!$)/g,"$1-") 
```

[演示](http://jsfiddle.net/5CXJf/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T07:30:48.707

```
'201656'.replace(/(?!\d{2}$)\d{2}/g, '$&-') 
```

# marklogic - MarkLogic：查找相关文章

> ID：14869764
> 
> 赞同：1
> 
> 时间：2013-02-14T07:27:00.260
> 
> 标签：marklogic

我有一个庞大的记录数据库。当我查看某个记录时，我需要找到与该特定记录相关的记录并将其列出。您可能已经在许多网站上看到了这一点，例如他们提供“推荐网站”或“推荐文章”或“您可能也对……感兴趣”等等。您能帮我看看如何使用 MarkLogic 实现这一目标吗？我正在使用 ML6.0.2。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T14:39:50.330

如果您的记录文档包含`hard-coded`指向其他记录文档的链接（即嵌入相关记录文档的文档 URI），您可以搜索这些文档 URI，从这些记录文档中提取元素以进行列表。

作为硬编码链接的替代方法，您可以使用 in或in`return-similar`选项构建类似记录文档的即时列表。`search:search()``cts:similar-query()``cts:search()`

另一种选择是将查询嵌入到与相似记录文档匹配的每个记录文档中。显示记录文档时去掉嵌入查询，执行嵌入查询查找相关记录文档。为了获得更高的选择性，您可以使用匹配技术，方法是将嵌入式查询与检索到的记录文档上的反向查询相匹配，以匹配相关记录文档中的嵌入式查询。

# android - 使用 Novoda / ImageLoader 未加载图像

> ID：14869769
> 
> 赞同：0
> 
> 时间：2013-02-14T07:27:07.737
> 
> 标签：android, image, android-gridview, support-image-loader

我正在尝试使用 ImageLoader 库将来自 Internet 的图像加载到网格视图中。但是，在`imageManager.getLoader().load(fView.pic);`.

有人可以告诉我我错在哪里。

StartApp 类：

```
public class StartApp extends Application {

    private static ImageManager imageManager;

    @Override
    public void onCreate() {
        super.onCreate();
        LoaderSettings settings = new LoaderSettings();

        settings.setDisconnectOnEveryCall(true);
        settings.setCacheManager(new LruBitmapCache(this));

        imageManager = new ImageManager(this, settings);
        // // To clean the file cache
        // imageManager.getFileManager().clean();

    }

    public static ImageManager getImageLoader() {
        return imageManager;
    }
} 
```

活动类：

```
public class MainActivity extends Activity {
    private GridView gridview;

    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.grid_layout);

        gridview = (GridView) findViewById(R.id.gridview);
        gridview.setPadding(10, 10, 10, 10);
        gridview.setAdapter(new GridImageAdapter(this));

    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }

} 
```

扩展 BaseAdapter 的 GridView 适配器类：

```
public class GridImageAdapter extends BaseAdapter {
    private Context context;
    private int width = 270;
    private int height = 270;
    private int textFactor = 35;
    private LayoutInflater layoutInflater;

    private String[] nameEvents = {"image1","image2"};
    private String[] urls = {"http://api.androidhive.info/images/sample.jpg","http://api.androidhive.info/images/sample.jpg" };
    ImageManager imageManager;
    ImageTagFactory imageTagFactory;

    public GridImageAdapter(Context mContext) {
        context = mContext;
        layoutInflater = LayoutInflater.from(context);

        /*Image Loader*/
        imageManager = StartApp.getImageLoader();
        imageTagFactory = ImageTagFactory.newInstance(context,  R.drawable.ic_launcher);
        imageTagFactory.setErrorImageId(R.drawable.not_found);
    }

    public int getCount() {

        return nameEvents.length;
    }

    public Object getItem(int position) {

        return position;
    }

    public long getItemId(int position) {

        return position;
    }

    public View getView(int position, View convertView, ViewGroup parent) {

        FriendView fView = new FriendView();
        int imagePadding = 10;
        if (convertView == null) {
            convertView = new View(context);
            convertView = layoutInflater.inflate(R.layout.grid_cell_layout,
                    null);
            // convertView.setBackgroundColor(Color.DKGRAY);
            convertView.setPadding(3, 0, imagePadding - 1, imagePadding);
            convertView.setBackgroundResource(R.drawable.background_shadow);
            convertView
                    .setLayoutParams(new GridView.LayoutParams(width, height));

        } else {
            fView = (FriendView) convertView.getTag();

        }
        fView.pic = (ImageView) convertView.findViewById(R.id.image);
        /* height has to be reduced to display the text */
        fView.pic.setLayoutParams(new LinearLayout.LayoutParams(width, height
                - textFactor));
        fView.pic.setAdjustViewBounds(true);
        fView.pic.setScaleType(ImageView.ScaleType.FIT_XY);

        //((StartApp) context.getApplicationContext()).getImageLoader().getLoader().load(imageView);
        fView.name = (TextView) convertView.findViewById(R.id.title);
        fView.name.setTextColor(Color.BLACK);
        convertView.setTag(fView);

        fView.name.setText(nameEvents[position]);
    //  GridImageAdapter.imageLoader.DisplayImage(urls[position], fView.pic);
        ((ImageView) fView.pic).setTag(imageTagFactory.build(urls[position],context));
        imageManager.getLoader().load(fView.pic);

        return convertView;
    }

    static class FriendView {
        TextView name;
        ImageView pic;
    }
} 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T16:26:46.800

首先，不要在适配器中创建另一个 imagemanager 对象。做 StartApp.getImageLoader().getLoader().load(fView.pic);

其次，可以通过添加一些空检查和/或记录是否为空来轻松找到空指针。之后我们可以判断什么对象是空的。

例子：

```
if(StartApp.getImageLoader().getLoader() != null) {
    StartApp.getImageLoader().getLoader().load(fView.pic);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-03T20:42:13.663

看起来您没有正确设置应用程序类确保在清单中声明应用程序类，如：

```
 <application android:name="class" ... 
```

You should verify that the onCreate it is executed, maybe put some log. You should never check for the ImageManager to be null, if it is null there is something wrong

# javascript - 如何用html表格制作游戏？

> ID：14869770
> 
> 赞同：1
> 
> 时间：2013-02-14T07:27:08.307
> 
> 标签：javascript, html, html-table

我基本上是在尝试制作一个涉及网格的游戏。这是我到目前为止所拥有的（在我解释我需要发生的事情之前先看看比赛会有所帮助）：

Javascript（见 jsfiddle 的 html ）：

```
var score = 0;
var points = function(val, box) {
    var noise = Math.round(Math.round(0.1*val*Math.random()*2) - 0.1*val);
    score = score + (val + noise);
    var square = document.getElementById(box);
    square.innerHTML = val + noise;
    square.style.display='block';
    setTimeout(function() {
       square.style.display='none'; 
    }, 400);
    document.getElementById("out").innerHTML = score;
} 
```

[http://jsfiddle.net/stefvhuynh/aTQW5/1/](http://jsfiddle.net/stefvhuynh/aTQW5/1/)

网格左下角的四个红色方块需要作为游戏的起点。当您单击其中一个框时，您可以通过单击相邻框沿网格移动。基本上，我需要让玩家只能从他们刚刚点击的框上、下、左和右移动。当玩家点击他们不应该点击的框时，我不希望调用 points 函数。

此外，我需要让玩家在 400 毫秒后才能点击另一个框。

我对编程比较陌生，所以任何帮助都会很棒。如果有办法做到这一点，我也会感谢有关如何使程序更高效的提示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:47:27.960

## 大概的概念：

我建议为您的所有盒子设置一个类似的 id，例如`box_x_y`，并存储一个字符串列表，比如说`allowedSquares`.

然后，您将能够编写一个函数，该函数在单击一个框时会检查它的 id 是否在`allowedSquares`，如果是，则调用`points(val, box)`然后更新内容`allowedSquares`以反映位置的变化。

对所有盒子使用标准 id 约定的要点是，您可以编写`getPosition(box)`并`getBox(intX, intY)`解析 id 字符串以返回盒子位置，反之亦然。

您甚至可以使该`updateAllowedSquares(clickedBox)`功能更改相邻框的颜色以显示它们被允许进行下一步。

## 编辑：一些示例代码：

免责声明：这些不是您要查找的代码行。

这只是一个适合您的起始套件，它假定一个 3x3 网格，起始位置为右下角的一个正方形。您将不得不稍微调整此代码。另外，我预测出界会出问题。我会让你思考一下，因为在这些情况下，我更喜欢提供思考而不是完整的解决方案......

```
var allowedSquares = ["box_2_2"]; // Initial list

function decodePositionFromID(boxId) {
  return boxId.split("_").slice(1,2);
}

function getIDfromXY(x, y) {
  return "box_" + x + "_" + y;
}

function updateAllowedSquaresList(boxID) {
  // 1 - We clear the array.
  allowedSquares.length = 0; 

  // 2 - We get the adjacent boxes IDs.
  var xyArray = decodePositionFromID(boxId);
  var upperBoxID = getIDfromXY(xyArray[0], xyArray[1]-1);
  // Rince, repeat, and add some gameboard boundaries checks.

  // 3 - We add the new IDs to the list.
  allowedSquares.push(upperBoxID, ...);
} 

function boxClick(val, boxID) {
  // We check if the box is a valid square to play.
  if (allowedSquares.indexOf(boxID) != -1) {
    points(val, boxID);
    updateAllowedSquaresList(boxID);
  }
} 
```

# eclipse - 如何在保存时在 Eclipse 中运行注释处理器

> ID：14869771
> 
> 赞同：10
> 
> 时间：2013-02-14T07:27:15.860
> 
> 标签：eclipse, maven, save, code-generation, annotation-processing

目前我在eclipse中为一个项目生成带有注释处理器的文件

```
Right click on project > Run As > Maven Clean
Right click on project > Run As > Maven install 
```

这是相当耗时的。如何设置 Eclipse 以使其在保存时运行注释处理器？

我有“自动构建”功能集，但它似乎忽略了注释处理器。顺便说一句，我正在使用带有“自动配置 JDT APT 激活”的 m2e apt 插件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2017-08-30T20:12:18.140

我在 Eclipse 中为我的一些项目进行了注释处理；对我来说，它正在保存，我不必这样做`mvn install`（它的工作方式与 Maven 不同，因为 Eclipse 运行它自己的编译器）。

我也在`m2e-apt`为此使用插件。如上所述，Eclipse 运行自己的编译器；这意味着它的输出可能与 Maven 略有不同（当您“右键单击项目 > 运行方式 > Maven 清理/安装”时，您调用的是 Maven，而不是 Eclipse）。我之所以提到这一点，是因为您的处理器完全有可能在 Maven 中出现问题并且在 Eclipse 中无法工作（尽管大多数情况下它们确实产生相同的输出；我已经看到了一些差异，但非常小）。如果我是你，我会密切关注 Eclipse 的错误日志（因为那是注释处理错误被写入的地方）。

所以这是我的建议：

*   在 Eclipse 中发布带有 Maven / 注释处理设置的图片（即使您似乎确实激活了正确的选项）。
*   发布带有`Java/Compiler`设置的图片（那里有一个需要激活的复选标记；没有它就无法工作）。
*   奇怪的是，发布您的`pom.xml`意愿会有所帮助。特别是如果您有自定义配置`maven-compiler-plugin`。其中一些配置由 解释`m2e-apt`，例如编译器参数。
*   查找一个名为`.factorypath`. 这是`m2e-apt`保存它扫描注释处理的 jar 列表的地方（你会在那里找到项目的所有 jar，即使它们实际上并不包含处理器；也就是说，除非你`maven-compiler-plugin`被配置为只考虑一个处理器的具体列表）。如果包含您的处理器的 jar 不在 中`.factorypath`，它将无法工作。
*   最后但并非最不重要的一点是，还有另一件事可能会导致问题。如果包含实际注释处理器的项目（因此不是“客户端”）与“客户端”项目位于同一工作区，那么`m2e-apt`将简单地忽略您的注释处理器；我不知道为什么。在这种情况下，关闭您的注释处理器项目就足够了（您不必从工作区中删除它）。

编辑：忘了说，如果您*确实*通过 Maven 运行注释处理（并且您调用 Maven 只是为了处理注释），那么`mvn compile`就足够了。此外，您不需要单独运行它（先`mvn clean`然后`mvn compile`）。`mvn clean compile`您可以使用;一次性运行它 它应该具有完全相同的效果。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-08-31T18:42:37.823

确保您的 Java 项目设置（可通过右键单击 project 访问`> Java compiler > Annotation processors`）启用注释处理并且设置符合您的期望。

对于 Maven 项目，m2e 应该根据 pom.xml 内容正确配置这些设置。但是，对于所有 Maven 插件来说，这并不是很顺利（有些会被支持“开箱即用”，有些则需要特定的插件......）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-08-30T14:05:37.463

我认为你需要一个触发器来运行 Maven 目标，所以：

**您必须添加有效的 Maven 生命周期操作**

*[由maven install plugin](https://maven.apache.org/plugins/maven-install-plugin/)**在本地自动部署的 jar 示例*：

```
<build>
    <!-- ... -->

    <pluginManagement>
        <plugins>
            <plugin>
                <groupId>org.eclipse.m2e</groupId>
                <artifactId>lifecycle-mapping</artifactId>
                <version>1.0.0</version>
                <configuration>
                    <lifecycleMappingMetadata>
                        <pluginExecutions>

                            <pluginExecution>
                                <pluginExecutionFilter>
                                    <groupId>org.apache.maven.plugins</groupId>
                                    <artifactId>maven-jar-plugin</artifactId>
                                    <versionRange>[2.0,)</versionRange>
                                    <goals>
                                        <goal>jar</goal>
                                    </goals>
                                </pluginExecutionFilter>
                                <action>
                                    <execute>
                                        <runOnConfiguration>true</runOnConfiguration>
                                        <runOnIncremental>true</runOnIncremental>
                                    </execute>
                                </action>
                            </pluginExecution>

                            <pluginExecution>
                                <pluginExecutionFilter>
                                    <groupId>org.apache.maven.plugins</groupId>
                                    <artifactId>maven-install-plugin</artifactId>
                                    <versionRange>[2.5.0,)</versionRange>
                                    <goals>
                                        <goal>install</goal>
                                    </goals>
                                </pluginExecutionFilter>
                                <action>
                                    <execute>
                                        <runOnConfiguration>true</runOnConfiguration>
                                        <runOnIncremental>true</runOnIncremental>
                                    </execute>
                                </action>
                            </pluginExecution>

                        </pluginExecutions>
                    </lifecycleMappingMetadata>
                </configuration>
            </plugin>
        </plugins>
    </pluginManagement>
</build> 
```

[提示：每次更改源文件（GWT）时都会调用](https://stackoverflow.com/questions/8564872)与Maven Project Builder 相关的内容，并作为警告：如果您已将测试包含在正常的 Maven 构建周期中，则安装通常包括测试

# javascript - window.location 和 href 的区别？

> ID：14869772
> 
> 赞同：0
> 
> 时间：2013-02-14T07:27:18.010
> 
> 标签：javascript

这个词和动作有什么区别？

```
<script>
window.location.href = 'index.php';
window.location = 'index.php';
</script> 
```

因为在某些情况下，单击按钮后会有一个毫秒，那就是看到更改页面的方式..那是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:29:57.600

`window.location.href`返回当前页面的位置，同时`window.location`返回一个 Location 对象，该对象包含有关文档 URL 的信息并提供更改该 URL 的方法。您还可以分配给此属性以加载另一个 URL。

[在这里检查](https://developer.mozilla.org/en-US/docs/DOM/window.location)

# ruby-on-rails - 尝试运行迁移时出现heroku错误

> ID：14869778
> 
> 赞同：0
> 
> 时间：2013-02-14T07:27:39.557
> 
> 标签：ruby-on-rails, heroku, ruby-on-rails-3.2

第一次使用 heorku。代码部署到heroku，非数据库页面渲染良好。我收到此错误，但不确定原因：

```
irb(main):004:0> heroku run rake db:migrate
NameError: undefined local variable or method `migrate' for main:Object
    from (irb):4 
```

我目前还不清楚 heroku 是否运行了迁移，因为任何简单的事情

```
User.first 
```

给我这样的错误：

```
irb(main):005:0> User.first
PG::Error: ERROR:  relation "users" does not exist
LINE 5:              WHERE a.attrelid = '"users"'::regclass
                                        ^
:             SELECT a.attname, format_type(a.atttypid, a.atttypmod), 
```

提前谢谢任何帮助。调试这个的下一步是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T07:30:23.690

您不应该在 Rails 控制台中运行该命令。您可以将该命令运行到项目目录中的 shell 中。

`heroku run rake db:migrate --app my_awsome_app`

`--app`是可选的

# php - 在通过ajax调用调用的页面上执行其他服务器脚本

> ID：14869782
> 
> 赞同：0
> 
> 时间：2013-02-14T07:27:44.670
> 
> 标签：php, ajax, remote-server

我有一个情况；

我通过 AJAX 调用 PHP 页面，这需要在具有电子邮件服务器权限的其他服务器上执行脚本。在数据库中输入数据后，为了更具体地了解 PHP 页面，我必须使用查询字符串中的某些参数访问电子邮件服务器。

在 index.php 页面上，我有提交按钮，该按钮通过 AJAX 调用在数据库中输入数据，然后必须向用户发送电子邮件以获取信息。但是对于电子邮件，我需要在具有电子邮件服务器访问权限的其他服务器上执行 PHP 脚本。

客户端

```
$.ajax({
          url:'vpms/server/updating.php',
          type:'POST',
          data:formvalues,
          success: function(data) {  

                  closelightbox('black_overlay','vendorfeedback',ref-1,'CLOSE');
                  }
          });

IN updating.php
enter code here

 if($_POST['Type']=='SUBMITRATING')
   {

$sql->Query("INSERT INTO vpms_procurement(`prno`,`vn`,`category`,`paymentterms`,`c1`,`delivery`,`c2`,`communication`,`c3`,`dated`,emaildate ) VALUES('$_POST[PRNO]','$_POST[$vendor]','$_POST[$category]','$_POST[$payment]','$_POST[$payment_txt]','$_POST[$delivery]','$_POST[$delivery_txt]','$_POST[$response]','$_POST[$response_txt]',NOW(),'$_POST[$date]')");

}
$enc=Autoloader::encrypt(serialize($array));     
 // Sending request to other server for email   
 header("Location: 10.89.6.2/managerConfirmation.php?token=$enc"); //      This is not possible through ajax call
 //OR 
 exec("10.89.6.2/managerConfirmation.php?token=$enc")   
 } 
```

我可能想到的选项。

1.  使用 exec("PHP 脚本？q=value");
2.  或者在 Ajax 调用成功时通过 JSONP 再次调用以访问远程服务器。

但我不知道这些选项有多实用，因为我也在查询字符串中使用加密数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T08:21:03.033

您的代码容易受到 sql 注入的影响 您需要转义所有 get 和 post

在成功返回第一个 ajax 调用时发送使用 ajax 调用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T08:09:56.380

在第一次成功的 ajax 响应上使用第二次 Ajax 调用。

```
$.ajax({
      url:'vpms/server/updating.php',
      type:'POST',
      data:formvalues,
      success: function(return_data) {  

              //Make 2nd ajax call here and run the remote script
              enc = return_data ;
                 $.ajax({
                  url:'10.89.6.2/managerConfirmation.php?token='+enc,
                  type:'POST',
                  data:anything,
                  success: function(data) {  

                          closelightbox('black_overlay','vendorfeedback',ref-1,'CLOSE');

                          }
                  });

              }
      }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T11:31:41.013

最终我不得不选择另一个 ajax 调用，但我想分享一个奇怪的案例。它可能会帮助某人。

我使用了没有回调的 Ajax 调用，每个请求也有失败消息

**“XMLHttpRequest 无法加载‘远程服务器地址’来源[http://mystuff.local](http://mystuff.local)不允许 Access-Control-Allow-Origin”**

但奇怪的是，每个请求也随着电子邮件的发送而成功..

# android - 单选按钮中的问题

> ID：14869783
> 
> 赞同：0
> 
> 时间：2013-02-14T07:27:48.697
> 
> 标签：android, radio-button

我是安卓新手。。

我遇到了单选按钮的问题..请指导我。

我有一个广播组。第一次显示未选中。当用户第一次选择该选项时，我没有遇到任何问题。与此同时，我有一个下一步按钮。当用户单击下一步按钮时，第二个问题的选项未选中。就像用户给出下一个问题的方式一样。之后它可以正常工作多达 4 或 5 个问题，而在处理下一个问题时会引发错误。请指导我....我做错了什么？

提前非常感谢。

> ```
>  btn_practicerg.setOnCheckedChangeListener(new OnCheckedChangeListener(){
>             @Override
>             public void onCheckedChanged(RadioGroup group, int checkedId) { 
>                 switch(btn_practicerg.getCheckedRadioButtonId()){
>                 case R.id.RB1:
>                     if (btn_practice1.isChecked()){
>                         btn_practice2.setChecked(false);
>                         btn_practice3.setChecked(false);
>                         btn_practice4.setChecked(false);
>                     }
>                     break;
>                 case R.id.RB2:
>                     if (btn_practice2.isChecked()){
>                         btn_practice1.setChecked(false);
>                         btn_practice3.setChecked(false);
>                         btn_practice4.setChecked(false);
>                     }
>                     break;
>                 case R.id.RB3:
>                     if (btn_practice3.isChecked()){
>                         btn_practice1.setChecked(false);
>                         btn_practice2.setChecked(false);
>                         btn_practice4.setChecked(false);
>                     }
>                     break;
>                 case R.id.RB4:
>                     if (btn_practice4.isChecked()){
>                         btn_practice1.setChecked(false);
>                         btn_practice2.setChecked(false);
>                         btn_practice3.setChecked(false);
>                     }
>                     break;
>                 }
>                 RadioButton radioButton = (RadioButton)group. findViewById(checkedId);
>                 String temp = radioButton.getText().toString();
>                 crrtans=new ArrayList<String>(new ArrayList<String>(crrtans));
>                 if (temp.equals(crrtans.get(l))){
>                 TextView txtRadio = (TextView) findViewById(R.id.rdtxt); 
>                 txtRadio.setText("" + radioButton.getText() + " IS CORRECT");
>                        }else{
>                 TextView txtRadio = (TextView) findViewById(R.id.rdtxt); 
>             txtRadio.setText("" + radioButton.getText() + "is INCORRECT");
>                      }
>      });
>     Button nextBtn = (Button) findViewById(R.id.nxt_btn);
>     nextBtn.setOnClickListener(new Button.OnClickListener(){
>     public void onClick(View v){ 
>          TextView txtRadio = (TextView) findViewById(R.id.rdtxt); 
>          txtRadio.setText("Nothing is picked");
>          txtRadio.setTextColor(Color.parseColor("#CCEEFF"));
>           if (j == ques1.size() -1) {
>                 showAlert1();
>             }
>           else{ 
>             ++j;
>             ++num;
>             TextView txtque = (TextView) findViewById(R.id.que_txt); 
>             txtque.setText("Q" + num +ques1.get(j));
>             btn_practice1.setChecked(false);
>              btn_practice2.setChecked(false);
>              btn_practice3.setChecked(false);
>              btn_practice4.setChecked(false);
>             ++k;
>             btn_practice1.setText(answ1.get((k*4)+0));
>             btn_practice2.setText(answ1.get((k*4)+1));
>             btn_practice3.setText(answ1.get((k*4)+2));
>             btn_practice4.setText(answ1.get((k*4)+3));
>           }
>          // btn_practice1.setChecked(false);
>           //btn_practice2.setChecked(false);
>          // btn_practice3.setChecked(false);
>          // btn_practice4.setChecked(false);
>           btn_practicerg.setOnCheckedChangeListener(new OnCheckedChangeListener() {
>                 @Override
>                 public void onCheckedChanged(RadioGroup group, int checkedId) { 
>                     int selectedId = group.getCheckedRadioButtonId();
>                     RadioButton radioButton = (RadioButton)group. findViewById(checkedId);
>                     String temp = radioButton.getText().toString();
>                     switch(btn_practicerg.getCheckedRadioButtonId()){
>                     case R.id.RB1:
>                         if (btn_practice1.isChecked()){
>                             btn_practice2.setChecked(false);
>                             btn_practice3.setChecked(false);
>                             btn_practice4.setChecked(false);
>                         }
>                         break;
>                     case R.id.RB2:
>                         if (btn_practice2.isChecked()){
>                             btn_practice1.setChecked(false);
>                             btn_practice3.setChecked(false);
>                             btn_practice4.setChecked(false);
>                         }
>                         break;
>                     case R.id.RB3:
>                         if (btn_practice3.isChecked()){
>                             btn_practice1.setChecked(false);
>                             btn_practice2.setChecked(false);
>                             btn_practice4.setChecked(false);
>                         }
>                         break;
>                     case R.id.RB4:
>                         if (btn_practice4.isChecked()){
>                             btn_practice1.setChecked(false);
>                             btn_practice2.setChecked(false);
>                             btn_practice3.setChecked(false);
>                         }
>                         break;
>                     }
>                     l++;
>         if (temp.equals(crrtans.get(l))){
>         TextView txtRadio = (TextView) findViewById(R.id.rdtxt); // line 407 
>         txtRadio.setText("" + radioButton.getText() + " IS CORRECT");
>                     }else{
>             TextView txtRadio = (TextView) findViewById(R.id.rdtxt); 
>         txtRadio.setText("" + radioButton.getText() + " IS INCORRECT");
>                    }      
>          }); 
> ```

日志猫

```
 E/AndroidRuntime(597): FATAL EXCEPTION: main
       E/AndroidRuntime(597): java.lang.IndexOutOfBoundsException: Invalid index 3, size is 3
       E/AndroidRuntime(597):   at 
     java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:257)
       E/AndroidRuntime(597):   at java.util.ArrayList.get(ArrayList.java:311)
       E/AndroidRuntime(597):   at   
     com.example.finalpractice.Question$LoadQuestions$2$1.onCheckedChanged(Question.java:407)
       E/AndroidRuntime(597):   at 
     android.widget.RadioGroup.setCheckedId(RadioGroup.java:172)
       E/AndroidRuntime(597):   at android.widget.RadioGroup.access$600(RadioGroup.java:52)
       E/AndroidRuntime(597):   at 
     android.widget.RadioGroup$CheckedStateTracker.onCheckedChanged(RadioGroup.java:342)
       E/AndroidRuntime(597):   at 
     android.widget.CompoundButton.setChecked(CompoundButton.java:127)
       E/AndroidRuntime(597):   at 
     android.widget.CompoundButton.toggle(CompoundButton.java:86)
       E/AndroidRuntime(597):   at android.widget.RadioButton.toggle(RadioButton.java:72)
       E/AndroidRuntime(597):   at 
     android.widget.CompoundButton.performClick(CompoundButton.java:98)
       E/AndroidRuntime(597):   at android.view.View$PerformClick.run(View.java:9080)
       E/AndroidRuntime(597):   at android.os.Handler.handleCallback(Handler.java:587)
       E/AndroidRuntime(597):   at android.os.Handler.dispatchMessage(Handler.java:92)
       E/AndroidRuntime(597):   at android.os.Looper.loop(Looper.java:123)
       E/AndroidRuntime(597):   at android.app.ActivityThread.main(ActivityThread.java:3683)
       E/AndroidRuntime(597):   at java.lang.reflect.Method.invokeNative(Native Method)
       E/AndroidRuntime(597):   at java.lang.reflect.Method.invoke(Method.java:507)
       E/AndroidRuntime(597):   at 
     com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
       E/AndroidRuntime(597):   at 
     com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
       E/AndroidRuntime(597):   at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:31:45.950

也许你`IndexArrayOfBounds`在这一行

```
answ1.get((k*4)+0) 
```

因为首先你增加`k`并且使用和数组从`0`.

# sql - SQL：选择列的总和满足条件的行

> ID：14869784
> 
> 赞同：0
> 
> 时间：2013-02-14T07:27:48.713
> 
> 标签：sql, sql-server

在 [mytable] 上：

```
[id] AS INT -- UNIQUE
[price] AS MONEY 
```

在按 [id] 排序的集合上，我需要选择 [price] 的总和满足某些条件的那些 [id]

例如：

```
[id]    [price]
   1       2.0
   2       4.7
   3       3.2
   4       2.8
   5       6.2
   6       1.5
   7       4.2
   8       3.3 
```

对于给定的数字“10.0”：

```
[id]  [price] [r_total]
   1     2.0        2.0
   2     4.7        6.7
   3     3.2        9.9
   4     2.8       12.7 <-- here the criteria meets for 10.0
   5     6.2       18.9
   6     1.5       20.4
   7     4.2       24.6
   8     3.3       27.9 
```

期望的结果是一组 [id]s ：

```
[id]
   1
   2
   3
   4 
```

使用 Running Total 解决了问题，但主要问题是我想避免先计算所有集合的运行总计，然后找到条件满足的点，原因是表包含超过 100.000。 000 行，并且给定的数字与 [price] 的总和相比通常非常小（例如： 1250.14 ），预期结果勉强丰富 100-150 行！

有没有其他方法可以计算并获得所需的行而不干扰那些 100.000.000 行？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T07:54:10.877

请尝试使用 CTE：

```
;with  CTE1 as 
(
    SELECT 
        ID, Price, Price as CUM_SUM 
    FROM YourTable 
    WHERE ID=1

    UNION ALL

    SELECT 
        c.ID, c.Price, c.Price+c1.CUM_SUM as CUM_SUM 
    FROM CTE1 c1 INNER JOIN 
        YourTable c on c.ID=c1.ID+1
    WHERE 10 >c1.CUM_SUM
)
select * from CTE1 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T21:24:09.653

你不会相信这一点，但是随着所涉及的行数的增长（例如，一个大的运行总阈值），到目前为止，解决这个问题的最有效方法是使用**CURSOR！** 对真的！ [在这里查看](http://www.sqlteam.com/article/calculating-running-totals)。顺便说一句，递归 CTE 方法可能会遇到递归级别限制（如堆栈溢出）。

# magento - 添加按钮以在管理部分 magento 的自定义表单中添加字段？

> ID：14869801
> 
> 赞同：1
> 
> 时间：2013-02-14T07:28:55.790
> 
> 标签：magento

我需要在管理部分的自定义模块表单中添加一个按钮，例如 magento 在产品选项和属性部分中的按钮。一个按钮，通过单击它们会增加输入字段。

# ios - ios processing.js 准系统模板

> ID：14869803
> 
> 赞同：0
> 
> 时间：2013-02-14T07:28:57.927
> 
> 标签：ios, webview, processing.js

我想在 iOS 应用程序上尝试 processing.js，

我已经检查了 [http://procoding.audiocommander.de/](http://procoding.audiocommander.de/)和 [http://luckybite.com/iprocessing/上的项目](http://luckybite.com/iprocessing/)

但他们都没有一个实际的工作示例，所以我去创建一个......

所以...我创建了一个项目并上传到 [https://github.com/mako34/processing_iOS](https://github.com/mako34/processing_iOS)

我的理解是，我需要的只是 html5 画布和 js 的包装器，用于

> 处理-1.4.1.js

去工作？？

我的 index.html 在浏览器中运行良好，而不是在设备上！

我的画布可以很好地在这个测试模板上画一条线

我的 js 在这个测试模板上运行良好

但不适用于 iphone 实际网页视图，

那么让草图工作缺少什么？

多谢！

这是我的 index.html

```
<!doctype html>
<head>
    <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">

      <link rel="stylesheet" href="style.css">

      <script src="jquery-1.6.2.min.js"></script>
      <script defer src="script.js"></script>
      <script src="processing-1.4.1.js"></script>

</head>
<body id="body">
  <div id="container">

    <div id="main" role="main">
        <a href="/" class="js">jQuery Alert</a><br />
        <a href="objc://message">Objective-C Alert</a><br />
        <a href="objc://takePicture">Take a picture</a><br />
    </div><!-- #main -->

      <canvas data-processing-sources="example.pde" style="border: 1px solid black;"></canvas>

    <img id="testImage" src="iphonebattery.jpeg" />

      <canvas id="myCanvas" width="320" height="200"></canvas>
      <script>
          var canvas = document.getElementById('myCanvas');
          var context = canvas.getContext('2d');

          context.beginPath();
          context.moveTo(100, 150);
          context.lineTo(450, 50);
          context.stroke();
          </script>

  </div><!-- #container -->
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-11T01:25:07.590

首先——你不想有两个画布标签。我建议查看实际的 ProcessingJS 网站以获得更好的实施： http: [//processingjs.org/](http://processingjs.org/)

我有一些关于设置处理以编译到 iOS 和准备你的 iDevice 的教程： http: [//ericmedine.com/processing-for-ios/](http://ericmedine.com/processing-for-ios/)

希望这可以帮助！

# java - 如何等待非用户输入？

> ID：14869807
> 
> 赞同：0
> 
> 时间：2013-02-14T07:29:22.907
> 
> 标签：java, oop, sockets

我正在尝试创建一个服务器来发送基于另一个类的计算结果的消息。

我的问题是，由于计算结果来自另一个类，我如何让服务器暂停直到结果准备好，我应该如何将结果传递给我的服务器类并发送结果？

```
public class MyServer {
    ServerSocket providerSocket;
    Socket connection = null;
    static ObjectOutputStream out;
    ObjectInputStream in;
    String message;
    public static String myServerSend;

    BufferedReader data = new BufferedReader(data);

    MyServer() {}

    void run() {
        try {
        providerSocket = new ServerSocket(2013, 10);
        System.out.println("Waiting for connection");

        connection = providerSocket.accept();

        out = new ObjectOutputStream(connection.getOutputStream());
        out.flush();
        in = new ObjectInputStream(connection.getInputStream());

        do {
            try {
                message = (String) in.readObject();
                System.out.println("server receive>" + message);

                // HERE IS MY QUESTION
                // myServerSend is the result from other class, 
                                    //How can I pause the server here till myServerSend is ready???????
                sendMessage(myServerSend);

            } catch (ClassNotFoundException classnot) {
                System.err.println("Data received in unknown format");
            }
        } while (!message.equals("bye"));

    } catch (IOException ioException) {
        ioException.printStackTrace();
    }

}

    //write msg into ObjectOutputStream
public static void sendMessage(String msg) {
    try {
        out.writeObject(msg);
        out.flush();
        System.out.println("server send>" + msg);
    } catch (IOException ioException) {
        ioException.printStackTrace();
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:33:01.147

利用

```
 Thread.sleep(30000); // Milli secs - 30 secs -- Put your sleep time
sendMessage(myServerSend); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:48:39.447

你有几个选择来实现这一点：

`Thread`1-为您的计算创建一个并调用`join`以使您的服务器等待线程完成

```
Thread thread = new Thread() {
   public void run(){
      // Call your calculation class
   }
}
thread.start();

thread.join(); // surround with try and catch

// or you can use to timeout if the calculation took long
// thread.join(MAX_TIME_MILLIS);

sendMessage(myServerSend); 
```

2-在您和班级`wait/notify`之间的共享对象上使用`server``calculation`

3-使用`semaphore`初始化的对象`0`并`acquire`在您的服务器类中调用以等待并`release`在您完成计算后调用，请参阅[我的答案](https://stackoverflow.com/questions/14782579/waiting-for-soundpool-to-load-before-moving-on-with-application/14782648#14782648)作为示例

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T07:37:38.507

如果没有关于您尝试过的内容以及为什么放弃尝试过的内容的更具体信息，我在这里看到了几个选项。

1.  直接调用其他类并等待结果准备好。如果计算时间太长，这可能不是一个好主意，但如果不是，这是最简单的方法。

2.  您可以应用轮询并让服务器休眠一段时间，以免在等待答案时耗尽资源。

3.  通过等待和通知方法使用同步对象和并发。一些有用的链接：[1](https://stackoverflow.com/questions/886722/how-to-use-wait-and-notify-in-java) [2](http://www.java-samples.com/showtutorial.php?tutorialid=306) [3](http://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html)

# css - 树形图中的间距

> ID：14869808
> 
> 赞同：0
> 
> 时间：2013-02-14T07:29:27.263
> 
> 标签：css, html, tree, geometry

![我的树现在的样子](../Images/23d73f96cf4e367affd0b1af1034cc00.png)

编辑：上图是树现在的样子。我想让它看起来像一棵普通的树，每个父母都在它的两个孩子之间。

如何计算包含图像中每个块周围的边距，以便每个父级直接位于其两个子级的上方和之间？

我正在尝试在 HTML 中显示二叉树的表示形式，其中每一代都有自己的 div（用破折号分隔）。每个块在设置为 的生成 div 中也是它自己的 div `display: inline-block;`。这些块是居中的，因为每一代都有`text-align: center;`

为了使每个父级在其两个子级之间对齐，间距因代而异。我如何计算这个间距？此外，在 HTML 中执行此操作是否有比像我现在正在做的那样向单个块添加填充更简单的方法？

谢谢！

# ios - 在 Air iOS 中，.fla 文件夹上方的包含文件夹的路径是什么？

> ID：14869813
> 
> 赞同：0
> 
> 时间：2013-02-14T07:29:45.483
> 
> 标签：ios, flash, air, path, flash-cs6

我在 .fla 文件所在的“src”文件夹上方有“assets”文件夹。资产文件夹是通过 Adob​​e Flash CS6 Professional 中的 Air iOS 发布设置包含的，但我无法访问它。

目录结构如下所示。Main.as 是我项目的文档类。

```
c:\
  project
    assets
    bin
    lib
    src
      Main.as
      Main.fla 
```

现在，如果该项目是一个动作脚本项目，我通常可以使用“../assets”之类的路径访问资产文件夹。但是在 Air for iOS 项目中，它说该文件夹不存在。

在 Air iOS 发布设置窗口中，它说包含的文件夹路径是“c:\project\assets”，而当我将 assets 文件夹移动到 src 文件夹下时，它只显示“assets”，然后只需使用路径就可以访问它像“\资产”。

有谁知道包含的文件夹放在哪里？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-16T20:07:33.660

该文件夹放置在 File.applicationDirectory 中。如果您的 SWF 正在发布到 bin 文件夹，您可以通过将 assets 文件夹放在 bin 文件夹中来简化测试。

然后，访问 assets 文件夹中的文件：

```
var myFile:File = File.applicationDirectory.resolvePath("assets/SomeFile.jpg");
trace(myFile); 
```

# jquery - Java Jax-RS (Jersey) 后端和 jQuery 前端 -> 安全性 + 会话

> ID：14869816
> 
> 赞同：4
> 
> 时间：2013-02-14T07:30:13.907
> 
> 标签：jquery, authentication, tomcat, jersey, jax-rs

我目前正在使用服务器端的 Jax-RS（部署在 tomcat 7 容器上）和前端的 HTML5、CSS3 和 jQuery 开发一个轻量级 Web 应用程序。

连接工作正常。我不知道如何保护应用程序。我的想法是用户可以通过前端注册并分配给默认角色（例如用户）。

从那时起，用户可以登录到该网站并能够例如注册课程或类似的东西。

如何以安全的方式实现这一目标？最好使用tomcats身份验证（DIGEST或FORM）？还是有其他方法？例如在每个请求中将用户和密码作为 MD5 哈希传输？

如果我可以在 Ressource 类中使用 @RolesAllowed Annotation 来注释应该只能用于特定组的方法，那就太好了。

以及如何将用户数据存储在客户端上？这样用户就不需要在每次请求后登录？我必须为此使用cookies吗？

我不确定的另一件事是如何存储购物车中的数据。在我为特定用户存储所有购物车内容的服务器上使用数据库表是个好主意吗？我如何识别那里的用户？登录用户和表中的购物车条目之间的映射如何？

我希望有人可以帮助我:-)。

提前致谢

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T17:45:05.847

我已经在使用会话 cookie 的几个系统中做到了这一点。简单的方法是`@Context HttpServletRequest`在每个服务器端 Jersey-fied 方法上添加一个参数，它将在那里获取会话。在我的情况下，我有一个安全处理程序（类似于 Shiro，但没有它的包袱），它将包装的用户会话作为 Tomcat 过滤器放置在线程上下文中，所以我不使用`@Context HttpServletRequest`注释。如果用户尝试通过他们不可用的 ID 访问 RESTful 资源，他们不会得到任何响应。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T16:19:28.537

我会按照您的建议使用 FORM 身份验证。您可以使用角色注释生成上下文安全约束。

要像篮子一样存储用户信息，请将其保存在会话对象中，然后在到期时序列化到磁盘或数据库以进一步持久化。

# sql - 提高Sql过程的性能

> ID：14869818
> 
> 赞同：1
> 
> 时间：2013-02-14T07:30:16.057
> 
> 标签：sql, sql-server-2008-r2

我有一个 Sql 过程，它从表中选择记录，如果它匹配插入到不同的表。如下

```
 CREATE PROCEDURE [dbo].[MarkCopyData] 
@copyDataOperationId int,
@countryCode nvarchar(50),
@batchCount int,@batchId int,@jobId int
    AS
    BEGIN
DECLARE @TableObjectId AS Int;
SET @TableObjectId = OBJECT_ID('Table1');
INSERT INTO  
    Table2(
            TableObjectId, 
            SourcePrimaryKey, 
            DestinationCopyOperationId, 
            IsModifiedAftertCopied,IsDeleted,BatchId,JobId)

    SELECT TOP (@batchCount) @TableObjectId, tbl1.pkid, @copyDataOperationId,      0,0,@batchId,@jobId
    FROM [dbo].[Table1] AS tbl1
    Inner join [dbo].[Country] AS C on C.CountryId =  tbl1.fkid
    LEFT OUTER JOIN Table2 tbl2 on (tbl2 .SourcePrimaryKey = tbl1.pkid and tbl2 .TableObjectId = @TableObjectId)
    WHERE C.CountryCode = @countryCode AND tbl2.DestinationCopyOperationId IS NULL
    SELECT @@ROWCOUNT
    END
    GO 
```

任何人都可以请提出提示以提高此过程的性能

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:42:53.693

如果没有看到基础表的结构，就不可能提供帮助。尝试使用 CTRL+L 查看估计的执行计划。您可能想要注释掉这些`CREATE PROCEDURE`内容，这将使计划更易于阅读。

通常，这将是创建一个或两个索引的情况。

您可能会发现将`C.CountryCode = @countryCode`from`WHERE`子句移到 the`INNER JOIN`可能会有所帮助。通常，您希望在开始执行外部联接之前过滤结果集。

```
SELECT TOP (@batchCount) @TableObjectId, tbl1.pkid, @copyDataOperationId,0,0,@batchId,@jobId
FROM [dbo].[Table1] AS tbl1
Inner join [dbo].[Country] AS C on C.CountryId =  tbl1.fkid AND C.CountryCode = @countryCode
LEFT OUTER JOIN Table2 tbl2 on (tbl2 .SourcePrimaryKey = tbl1.pkid and tbl2 .TableObjectId = @TableObjectId)
WHERE tbl2.DestinationCopyOperationId IS NULL 
```

# java - 如何最小化容器内的面板

> ID：14869821
> 
> 赞同：3
> 
> 时间：2013-02-14T07:30:27.370
> 
> 标签：java, swing, jpanel, layout-manager, flowlayout

我有三个按钮关闭，最小和最大。
当我想最大化它时，它将采用主容器的形状并重叠所有面板，当我关闭它时，只有那个面板受到影响。但是当我点击最小按钮时，它会最小化到我不想要的任务栏。
当您单击最小化按钮时，我希望它像 internalFrame 一样在容器内，然后它在主框架内被最小化。

这是代码

```
package Project;

import java.awt.Color;
import java.awt.Frame;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;
import javax.swing.JButton;
import javax.swing.JComponent;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.SwingUtilities;
import javax.swing.border.LineBorder;

public class MinPanel {

    public MinPanel() {
        createAndShowGui();
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                new MinPanel();
            }
        });
    }

    private void createAndShowGui() {
        JFrame frame = new JFrame();
        frame.setSize(300, 500);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        final JPanel mainPanel = new JPanel(new GridLayout(2, 2));

        for (int i = 0; i < 4; i++) {
            final int num = i;
            OmniPanel op = new OmniPanel(mainPanel, frame) {
                @Override
                public JPanel createPanel() {
                    JPanel p = createSimplePanelInterface();
                    p.add(new JLabel("Panel " + (num + 1)));
                    return p;
                }

                @Override
                void toPanel() {
                    super.toPanel();
                    System.out.println("Frame requested to be brought to panel");
                }
            };
            mainPanel.add(op.getPanel());
        }

        frame.add(mainPanel);

        //frame.pack();
        frame.setVisible(true);
    }
}

abstract class OmniPanel {

    protected JFrame frame;
    protected JPanel panel;
    boolean maximized = false;
    private final JComponent owner;
    private final JFrame ownerFrame;

    public OmniPanel(JComponent owner, JFrame con) {
        this.owner = owner;
        initOmniPanel();
        this.ownerFrame = con;
    }

    private void initOmniPanel() {
        panel = createPanel();
        createFrame();
        frame.addWindowListener(new WindowAdapter() {
            @Override
            public void windowDeiconified(WindowEvent we) {
                super.windowDeiconified(we);
                toPanel();
            }
        });
    }

    public JPanel getPanel() {
        return panel;
    }

    public JFrame getFrame() {
        return frame;
    }

    public boolean goFrame() {
        frame.add(panel);
        frame.pack();
        frame.setState(JFrame.ICONIFIED);
        frame.setVisible(true);
        return true;
    }

    protected void createFrame() {
        frame = new JFrame();
        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
    }

    void toPanel() {
        frame.remove(panel);
        frame.dispose();
        owner.add(panel);
        owner.revalidate();
        owner.repaint();
    }

    public JPanel createSimplePanelInterface() {
        JPanel p = new JPanel();
        JButton close = new JButton("X");
        JButton minimize = new JButton("_");
        JButton maximize = new JButton("[]");
        p.add(close);
        p.add(minimize);
        p.add(maximize);
        close.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent ae) {
                if (maximized) {
                    maximized = false;
                    ownerFrame.setGlassPane(new JComponent() {
                    });
                    ownerFrame.revalidate();
                    ownerFrame.repaint();
                } else {
                    removePanelFromOwner();
                    getFrame().dispose();
                }
            }
        });
        minimize.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent ae) {
                if (maximized) {
                    maximized = false;
                   ownerFrame.setGlassPane(new JComponent() {
                    });

                    owner.add(panel);
                    owner.revalidate();
                    owner.repaint();
                    ownerFrame.revalidate();
                    ownerFrame.repaint();
                } else {
                    removePanelFromOwner();
                    goFrame();

                frame.setState(Frame.ICONIFIED);
                }
            }
        });
        maximize.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent ae) {
                if (maximized) {
                    return;
                }
                maximized = true;
                removePanelFromOwner();
                ownerFrame.setGlassPane(panel);
                ownerFrame.revalidate();
                ownerFrame.repaint();
                panel.setVisible(true);//
            }
        });
        p.setBorder(new LineBorder(Color.black));
        return p;
    }

    private void removePanelFromOwner() {
        owner.remove(getPanel());
        owner.revalidate();
        owner.repaint();
    }

    abstract JPanel createPanel();
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T08:22:03.073

我建议您创建一个内部框架，然后添加按钮。如果您不想添加按钮，那么您将内部框架参数设为 true

```
import java.awt.Dimension;
import java.awt.GridLayout;
import java.awt.HeadlessException;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.beans.PropertyVetoException;
import javax.swing.JButton;
import javax.swing.JDesktopPane;
import javax.swing.JFrame;
import javax.swing.JInternalFrame;
import javax.swing.SwingUtilities;
import javax.swing.plaf.basic.BasicInternalFrameTitlePane;
import javax.swing.plaf.basic.BasicInternalFrameUI;

public class MinPanel {

    public MinPanel() throws HeadlessException, PropertyVetoException {
        createAndShowGUI();
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    new MinPanel();
                } catch (HeadlessException ex) {
                } catch (PropertyVetoException ex) {
                }

            }
        });
    }

    private void createAndShowGUI() throws HeadlessException, PropertyVetoException {
        JFrame frame = new JFrame();
        frame.setResizable(true);
        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);

        final JDesktopPane jdp = new JDesktopPane() {
            @Override
            public Dimension getPreferredSize() {
                return new Dimension(400, 400);
            }
        };

        frame.setContentPane(jdp);
        frame.pack();

        createAndAddInternalFrame(jdp, 0, 0);
        createAndAddInternalFrame(jdp, 200, 0);

        frame.setVisible(true);
    }

    private void createAndAddInternalFrame(final JDesktopPane jdp, int x, int y) throws PropertyVetoException {
        final JInternalFrame jInternalFrame = new JInternalFrame("Test1", false, false, false, false);
        jInternalFrame.setLocation(x, y);

        jInternalFrame.setLayout(new GridLayout(2, 2));
        jInternalFrame.setSize(200, 200);//testing
        JButton jb = new JButton("min");
        jInternalFrame.add(jb);
        jb.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent ae) {
                try {
                    jInternalFrame.setIcon(true);
                } catch (PropertyVetoException ex) {
                }

            }
        });
        BasicInternalFrameTitlePane titlePane = (BasicInternalFrameTitlePane) ((BasicInternalFrameUI) jInternalFrame.getUI()).getNorthPane();
        jInternalFrame.remove(titlePane);

        jInternalFrame.setVisible(true);
        jdp.add(jInternalFrame);
    }
} 
```

# iphone - 如何在按钮单击时向上移动视图

> ID：14869822
> 
> 赞同：0
> 
> 时间：2013-02-14T07:30:28.337
> 
> 标签：iphone, uibutton

当我单击按钮时，它会显示选择器视图并隐藏按钮，用户不知道选择器视图后面发生了什么。

任何解决方案： -

就像我们有文本字段的解决方案一样，视图会在使用 animateTextField 选择文本字段时上升。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T08:28:52.413

您可以使用方法 animate view up 向上移动视图，也可以使用以下方法向下移动视图：

```
 -(void)animateViewUpward
     {
       [UIView beginAnimations: @"upView" context: nil];
       [UIView setAnimationDelegate: self];
       [UIView setAnimationDuration: 0.4];
       [UIView setAnimationCurve: UIViewAnimationCurveEaseInOut];
       self.view.frame = CGRectMake(0,-110, 320,460);
       [UIView commitAnimations];
     }

   -(void)animateViewDownward
    {
       [UIView beginAnimations: @"downView" context: nil];
       [UIView setAnimationDelegate: self];
       [UIView setAnimationDuration: 0.4];
       [UIView setAnimationCurve: UIViewAnimationCurveEaseInOut];
       self.view.frame = CGRectMake(0,0, 320,460);
       [UIView commitAnimations];
   } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T08:44:55.917

您可以在视图上添加 UIKeyboardScrollView。每当您单击按钮或其他任何内容时，它都会向上移动组件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T07:54:07.693

在按钮单击时使用动画

```
[UIView animateWithDuration:2.0
                    animations:^{ 
                        self.view.frame = CGRectMake(0,-30,320,400);
                    } 
                    completion:^(BOOL finished){
                        ;
                    }]; 
```

当您按完成或取消工具栏或您完成选择器选择时

```
[UIView animateWithDuration:2.0
                    animations:^{ 
                        self.view.frame = CGRectMake(0,0,320,400);
                    } 
                    completion:^(BOOL finished){
                        ;
                    }]; 
```

# c++ - 推力::transform_reduce 如何访问一元运算中的迭代器？

> ID：14869831
> 
> 赞同：1
> 
> 时间：2013-02-14T07:31:00.053
> 
> 标签：c++, stl, functor, thrust

我正在尝试对结构向量执行变换归约。该结构包含两个数字。我希望一元函数对这两个数字做一些事情，并为我的向量中的每个结构返回一个值，并用这些值的总和进行归约。如何编写我的仿函数来访问结构中的值？

例如，函数中 mystruct.value1 的正确语法是什么？：

```
struct unary_op
{
    float operator()()
    {
        return mystruct.value1 + mystruct.value2; //function is a lot more complex 
    }
} 
```

所以我可以这样做：

```
unary_op uop1;
thrust::transform_reduce(myvec.begin(), myvec.end(), uop1, 0, thrust::add) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T07:48:03.970

*免责声明：* 由于您显然没有发布真正的代码，并且您的示例看起来像一些不相关的代码行，因此我的答案可能不是您想要的 - [SSCCE](http://sscce.org)会很好。

如果我理解正确，您想将`MyStruct`s 的向量转换为所有结构成员值的总和。为此，您需要二进制加法 ( `thrust::add`) 和一元运算，采用 a`MyStruct`并返回其成员值的加法：

```
struct MyStruct {
  float value1;
  float value2;
};
std::vector<MyStruct> myvec;

/* fill myvec */

//C++11 with lambdas:
auto result = thrust::transform_reduce(begin(myvec), end(myvec), 
  [](MyStruct const& ms) { //unary op for transform
    return ms.value1 + ms.value2;
  },
  0, thrust::add);

//C++03 with a functor:
struct MyStructReducer {
  float operator()(MyStruct const& ms) {
    return ms.value1 + ms.value2;
  }
};

float result = thrust::transform_reduce(myvec.begin, myvec.end(), 
  MyStructReducer(), 0, thrust::add); 
```

您也可以使用免费函数而不是 Reducer 类。

```
//C++03 with a function:
float reduceMyStruct(MyStruct const& ms) {
  return ms.value1 + ms.value2;
}

/* ... */
float result = thrust::transform_reduce(myvec.begin, myvec.end(), 
  reduceMyStruct, 0, thrust::add); 
```

高温高压

# ajax - 为什么 p:dialog 不向 bean 提交值

> ID：14869839
> 
> 赞同：0
> 
> 时间：2013-02-14T07:31:17.947
> 
> 标签：ajax, forms, jsf-2, primefaces

我有一个小的 jsf/primefaces 应用程序，它带有一个显示（订单）项目的 datgrid。现在我想在对话期间添加项目。

1.  我通过单击按钮打开对话框。- 作品
2.  我想将对话框中的值提交到 bean 并更新数据网格。如果我使用默认值（不是来自对话框）它可以工作。该项目显示在数据网格中，对话框关闭。这意味着。-addItem 功能有效 -update 有效

但是如果我想从对话框中添加值，我会得到一个空指针异常。所以我的值不会在 bean 中设置。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">
    <p:fieldset legend="Positionen" toggleable="true" toggleSpeed="500" styleClass="mbsFieldSet">
        <h:form id="form_positions">

        <p:growl id="messages" showDetail="true" /> 
        <!-- Add position mask -->

        <!-- Button to open the open position mask -->
        <p:commandButton id="btOpenAddPositionMask" value="Position via Dialog" onclick="dlg.show();">
        </p:commandButton>

        <p:dataTable var="banfPosition" value="#{banfPositionBean.lsBanfPositions}"
            id="tableBanfPositions" editable="true" >
            <f:facet name="header">Positionen</f:facet>

            <!-- AJAX Events for editing position values -->
            <p:ajax event="rowEdit" listener="#{banfPositionBean.onEdit}"
                update=":form_positions:messages"/>

            <p:ajax event="rowEditCancel" listener="#{banfPositionBean.onCancel}"
                update=":form_positions:tableBanfPositions"  />

            <p:column headerText="Menge" style="width:50px">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{banfPosition.amount}" />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{banfPosition.amount}" style="width:100%" />
                    </f:facet>
                </p:cellEditor>
            </p:column>

            <p:column headerText="Matr. / Lager-Nr." style="width:125px">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{banfPosition.stockNumber}" />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{banfPosition.stockNumber}" style="width:100%" />
                    </f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Artikel" style="width:125px">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{banfPosition.article}" />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{banfPosition.article}" style="width:100%" />
                    </f:facet>
                </p:cellEditor>
            </p:column>

            <p:column headerText="Preis/Einheit" style="width:125px">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{banfPosition.price}" />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{banfPosition.price}" style="width:100%" />
                    </f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Gesamtpreis" style="width:125px">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{banfPosition.sum}" />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{banfPosition.sum}" style="width:100%" />
                    </f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Etat-Nr" style="width:125px">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{banfPosition.etat}" />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{banfPosition.etat}" style="width:100%" />
                    </f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Anlagen-Nr" style="width:125px">
                <p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{banfPosition.complex}" />
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText value="#{banfPosition.complex}" style="width:100%" />
                    </f:facet>
                </p:cellEditor>
            </p:column>

            <p:column headerText="Ändern" style="width:20px; text-align:center">
                <p:rowEditor />
            </p:column>
            <p:column headerText="Löschen" style="width:20px; text-align:center" >
                <p:commandButton id="deletePos" actionListener="#{banfPositionBean.deletePos(banfPosition)}" 
                 update=":form_positions:tableBanfPositions" ajax="true" icon="ui-icon ui-icon-close" iconPos="center"
                title="Löscht den Eintrag in dieser Zeile." />
            </p:column>
        </p:dataTable>

        </h:form>
    </p:fieldset>

    <p:dialog header="Neue Position hinzufügen" widgetVar="dlg"
        resizable="false">
        <h:panelGrid columns="2" style="margin-bottom:10px">

                <h:outputLabel value="Artikel:" />
                <p:selectOneMenu id="selectArticleForPosition"
                    value="#{banfPositionBean.selectedArticle}" var="art"
                    panelStyle="width:150px" style="width:260px" effect="fade"
                    filterMatchMode="starts" filter="true">
                    <f:selectItems value="#{dataBean.lsArticle}" var="article"
                        itemLabel="#{article.name}" itemValue="#{article}" />
                    <p:column>
                #{art.id} - #{art.name}
            </p:column>
                </p:selectOneMenu>
            </h:panelGrid>

            <p:commandButton id="btAddPosition" value="Position einfügen"
                actionListener="#{banfPositionBean.addPos()}"
                update=":form_positions:tableBanfPositions" oncomplete="dlg.hide();"
                ajax="true" process="@all" type="submit">
            </p:commandButton>

    </p:dialog>
</ui:composition> 
```

我尝试使用 h:form-Tag，如[http://www.primefaces.org/showcase/ui/dialogForm.jsf](http://www.primefaces.org/showcase/ui/dialogForm.jsf)所示，但如果我添加这个。

```
<p:dialog header="Neue Position hinzufügen" widgetVar="dlg"
        resizable="false">
        <h:form id="form_dialog">
        <h:panelGrid columns="2" style="margin-bottom:10px">

                <h:outputLabel value="Artikel:" />
                <p:selectOneMenu id="selectArticleForPosition"
                    value="#{banfPositionBean.selectedArticle}" var="art"
                    panelStyle="width:150px" style="width:260px" effect="fade"
                    filterMatchMode="starts" filter="true">
                    <f:selectItems value="#{dataBean.lsArticle}" var="article"
                        itemLabel="#{article.name}" itemValue="#{article}" />
                    <p:column>
                #{art.id} - #{art.name}
            </p:column>
                </p:selectOneMenu>
            </h:panelGrid>

            <p:commandButton id="btAddPosition" value="Position einfügen"
                actionListener="#{banfPositionBean.addPos()}"
                update=":form_positions:tableBanfPositions" oncomplete="dlg.hide();"
                ajax="true" process="@all" type="submit">
            </p:commandButton>
            </h:form>
    </p:dialog> 
```

页面重新加载，但我的 bean 也不会被调用。

有谁知道我做错了什么？感谢帮助。

**-------------------------------------------------------** **编辑** **---- --------------------------------------**

我尝试使用 p:inputText 而不是 selectOneMenu 来调用 bean。

```
<p:dialog header="Neue Position hinzufügen" widgetVar="dlg"
        resizable="false" appendToBody="true">
        <h:form id="form_dialog">
        <h:panelGrid columns="2" style="margin-bottom:10px">
                <h:outputLabel for="inputTxt" value="Artikel:" />
                <p:inputText id="inputTxt" value="#{banfPositionBean.testStr}"></p:inputText>
            </h:panelGrid>

            <p:commandButton id="btAddPosition" value="Position einfügen"
                actionListener="#{banfPositionBean.addPos()}"
                update=":form_positions:tableBanfPositions" oncomplete="dlg.hide();">
            </p:commandButton>
        </h:form>
    </p:dialog> 
```

所以我只需要找出为什么它不适用于selectOneMenu。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T09:52:16.917

首先我不知道什么是属性类型，我猜它与(in ) 属性`selectedArticle`的类型相同。您应该定义转换器，或者另一方面，您应该将 of 绑定为与 相同的类型，并设置为。`article``itemValue``value``selectOneMenu``article.id``itemValue``#{article.id}`

# json - 如何使用 WCF 和实体框架获取嵌套的 JSON 回复

> ID：14869843
> 
> 赞同：0
> 
> 时间：2013-02-14T07:31:32.060
> 
> 标签：json, entity-framework

我有 2 个模型，一个订单标题和订单详细信息。

我想最终得到来自服务器的 JSON 回复，如下所示：

```
--OrderHeader 1
  |
   --OrderDetails 1
--OrderHeader 2
  |
   --Order Detail 2 
```

我会使用实体框架创建某种子查询棒并通过我的 WebGet 返回它，还是我会运行单独的查询并在获得结果后整合格式？

这是我的视图模型：

```
 public class OpenOrderHeader
{
    public int CustomerID { get; set; }
    public int OrderID { get; set; }
    public int OrderUniqueNumber { get; set; }
    public int NumberOfProductsOnOrder { get; set; }
    public DateTime OrderDateCreated { get; set; }
    public DateTime OrderDateUpdated { get; set; }
    public string OrderLocalOnline { get; set; }
    public int BranchID { get; set; }
    public string PaymentMethod { get; set; }
    public int OrderStatus { get; set; }
    public string OrderCurrency { get; set; }
    public decimal OrderConversionRate { get; set; }
    public decimal SubTotalInclTax { get; set; }
    public decimal SubTotalExclTax { get; set; }
    public decimal DiscountInclTax { get; set; }
    public decimal DiscountExclTax { get; set; }
    public decimal ShippingInclTax { get; set; }
    public decimal ShippingExclTax { get; set; }
    public decimal PaymentFeeInclTax { get; set; }
    public decimal PaymentFeeExclTax { get; set; }

}

public class OpenOrderProducts
{
    public int OrderID { get; set; }
    public string ProductSKUName { get; set; }
    public int ProductSKUID { get; set; }
    public string ProductSKUStockCode { get; set; }
    public DateTime ProductAddedToOrder { get; set; }
    public int QtyOfProductsOnOrder { get; set; }
    public decimal UnitPriceinclTax { get; set; }
    public decimal UnitPriceExclTax { get; set; }
    public decimal UnitDiscountInclTax { get; set; }
    public decimal UnitDiscountExclTax { get; set; }
    public decimal LineItemTotalIncludingTax { get; set; }
    public decimal LineItemExclTax { get; set; }
    public decimal LineItemShippingCost { get; set; }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T08:58:10.463

`Orderdetails`只需在`OrderHeader`实体上创建一个导航属性。然后就可以查询了

```
var data = db.OrderHeaders.Include(h => h.Orderdetails).ToList(); 
```

并将数据序列化为 JSON。

我认为在你展示的课程中`OpenOrderHeader`会有一个集合`OpenOrderProducts`？

```
public virtual ICollection<OpenOrderProduct> OpenOrderProducts { get; set; } 
```

（如您所见，我会更改类的名称`OpenOrderProduct`，不要复数）

# jsf - BeanELResolver @Override getValue(ELContext context, Object base, Object property)

> ID：14869851
> 
> 赞同：1
> 
> 时间：2013-02-14T07:32:26.780
> 
> 标签：jsf, jakarta-ee, el

我有

```
public class ExtendedBeanELResolver extends BeanELResolver {
private static final Pattern regExpDn = Pattern.compile("PLMN-PLMN/\\w+.\\d+(.*)");
@Override
public Object getValue(ELContext context, Object base, Object property)
   try {

    // remake DIST.NAME appearance
    if (property.equals("dn") && base instanceof Alarm && ((Alarm) base).getCustomer().getNameEng().equalsIgnoreCase("mts")) {

    String dn = null;
    try {
        dn = ((Alarm) base).getDn();
        Matcher mtch = regExpDn.matcher(dn);
        mtch.find();
        ((Alarm) base).setDn(mtch.group(1));
    } catch (Throwable e) {
        // logger.error("error in dn - " + dn);
    } finally {
        return super.getValue(context, base, property);
    }
    }
} 
```

根据某些条件更改对象中的某些可见值。如果这是从 jsf 调用的，我不想更改值`<ui:param name="fullDistName" value="#{alarm.dn}" />` 我如何获取该 EL 调用的组件的 ID？对不起我的英语不好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T11:17:47.340

您可以通过以编程方式评估`#{component}`或调用[`UIComponent#getCurrentComponent()`](http://docs.oracle.com/javaee/6/api/javax/faces/component/UIComponent.html#getCurrentComponent%28javax.faces.context.FacesContext%29).

```
UIComponent component = UIComponent.getCurrentComponent(FacesContext.getCurrentInstance();
// ... 
```

请注意，这会将您的 EL 解析器与 JSF 紧密耦合。

# spring - apache 瓦片源目录 - 它必须是 WEB-INF 吗？

> ID：14869854
> 
> 赞同：0
> 
> 时间：2013-02-14T07:32:35.340
> 
> 标签：spring, jakarta-ee, tiles

我正在尝试在春季项目中使用 Apache Tiles（版本 3）。据我所知，所有瓦片文件都应该放在 WEB-INF 目录下的某个地方。我不确定，这只是我的观察：当我设置`war/WEB-INF/tiles/*.jsp`它时，当我设置`war/tiles/*.jsp`（并将我的 tiles-defs.xml 更改为指向新目录）时，我得到

```
org.apache.tiles.request.render.CannotRenderException: ServletException including path '/tiles/basic.jsp'. 
```

我在网上找到的所有教程都显示，tiles 目录位于`WEB-INF\`. 有人可以弄清楚tiles目录是否必须在WEB-INF下（或者其他jsp文件是否也必须在那里）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T07:46:54.473

不，不一定非要在 WEB-INF 中，但它实际上是推荐的方式，而且这绝对不是 Tiles 特定的，这是一般的 JSP/Java EE 推荐。（出于安全原因，WEB-INF文件夹不能直接访问）

例如[，这里是](http://shivasoft.in/blog/java/jsp/tutorial-of-simple-jsp-tiles-application-without-struts/)一个示例，其中 jsps 我们的外部 WEB-INF。

# python - 在 Fedora 上安装新的 Python 发行版

> ID：14869861
> 
> 赞同：0
> 
> 时间：2013-02-14T07:33:01.923
> 
> 标签：python, linux

我有一个 Fedora 虚拟机。它预装了 Python。我读过卸载它不是一个好主意。我想安装不同版本的 Python，Enthought Python。我应该尝试卸载现有的 Python 安装吗？我该怎么做？我应该将 Enthought Python 安装到新目录吗？这会是现有 Python 安装的问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T07:40:54.430

不要尝试卸载预装的 Python。

并排安装其他 Python 解释器（在不同的目录中）。

您可能会遇到为您的系统选择默认 Python 解释器的选项。不要更改预装的，因为这可能会破坏系统使用的一些重要脚本。仅为您的用户定制默认 Python 解释器，而不是为整个系统定制。（我手头没有 Fedora，所以不知道它是如何工作的。）

还可以查看`virtualenv`多个独立的 Python 环境及其独立的 Python 模块集合，以及`pythonbrew`安装多个 Python 解释器。

# opencv - 旋转不变检测器的最佳解决方案是什么？

> ID：14869862
> 
> 赞同：8
> 
> 时间：2013-02-14T07:33:07.590
> 
> 标签：opencv, image-processing, computer-vision, object-detection, haar-wavelet

我想创建一个基于级联分类器的对象检测器，唯一的问题是 LBP 和 Haar 特征不是旋转不变的。我首先想到的是以不同的角度旋转训练样本，但我怀疑生成的分类器是否具有良好的质量，此外，对象可能具有拉伸比例。旋转不变检测器有很多，比如iPhone可以实时识别任意方向的人脸，不知道他们是怎么做到的呢？我更愿意为此使用 OpenCV。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-02-14T14:39:18.817

查看[https://github.com/nenadmarkus/pico](https://github.com/nenadmarkus/pico)上提供的对象检测框架。

该框架使您能够学习自定义对象检测器（例如，用于查找正面、直立的面部），然后在运行时使用它进行旋转不变检测。

这是通过使用旋转版本的对象检测器在多个不同方向扫描图像来实现的。请注意，这可以在没有级联重新训练或图像重采样的情况下完成，并且它应该在现代机器上实时工作（提供的人脸检测演示可以）。

详细信息在[http://arxiv.org/abs/1305.4537](http://arxiv.org/abs/1305.4537)上的论文中给出。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-14T17:29:48.720

傅立叶描述符是旋转不变量（以及平移和缩放不变量）；然后的想法是在傅里叶描述符结果上训练您喜欢的任何分类器（傅里叶描述符上的 PCA，与 SVM 相关联似乎是一个合乎逻辑的选择）。

参见[傅立叶描述符 (Wolfram)](http://demonstrations.wolfram.com/FourierDescriptors/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-14T13:50:34.627

对于匹配的徽标，我认为这是您需要的：[http ://www.ijera.com/papers/Vol2_issue5/JW2517421747.pdf](http://www.ijera.com/papers/Vol2_issue5/JW2517421747.pdf)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-14T12:14:10.040

一些简单的解决方案怎么样......

[使用 SURF 进行对象检测](http://blog.achuwilson.in/2011/08/surf-in-opencv.html)

# c++ - 使用 boost::sregex_token_iterator 时出错

> ID：14869863
> 
> 赞同：1
> 
> 时间：2013-02-14T07:33:07.933
> 
> 标签：c++, iterator, boost-regex

我想搜索一个正则表达式并用颜色打印它。我使用 boost::sregex_token_iterator 来做到这一点。这是我的代码

```
 boost::regex re("ab.");
    string s="";
    string buf;
    string infile("retest.txt");
    //string color="green";
    ifstream in(infile.c_str());
    int lcount=0;
    while (getline(in,buf))
    {
       boost::sregex_token_iterator p(buf.begin(), buf.end(), re, 0);
       boost::sregex_token_iterator end;
       lcount++;
       cout <<"line : "<<lcount<<endl;
       for (;p != end;++p)
       {
           string m(p->first, p->second);
           cout<< m <<endl;
           //cout <<*(p->first)<<endl;
           //cout <<*(p->second)<<endl;
           //unsigned int pos = buf.find(m);
           buf = buf.insert(p->first,"\e[0;32m");
           buf = buf.insert(p->second+m.length()+7,"\e[0m");
       }
       cout<<"\n";
       s.append(buf);
       s.append("\n");
     }
   in.close();
   cout <<"s is:  "<<s<<endl;
    return 0;
  } 
```

但我收到此错误：

> 来自/usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/bits/ios_base.h:43，来自 /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/ios:43，来自 /usr/ local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/ostream:40，来自/usr/local/lib/ gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/iostream:40，来自 main3.cc:1: /usr/local/ lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/bits/basic_string.h:1182:7：注意：void std ::basic_string<_CharT, _Traits, _Alloc>::insert(std::basic_string<_CharT, _Traits, _Alloc>::iterator, std::basic_string<_CharT, _Traits, _Alloc>::size_type, _CharT) [with _CharT =字符；_Traits = std::char_traits; _Alloc = std::allocator; 标准:: basic_string<_CharT, _Traits, _Alloc>::iterator = __gnu_cxx::__normal_iterator >; 类型名 _Alloc::rebind<_CharT>::other::pointer = char*; std::basic_string<_CharT, _Traits, _Alloc>::size_type = unsigned int] /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../.. /include/c++/4.7.2/bits/basic_string.h:1182:7：注意：候选人需要 3 个参数，提供 2 个 /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/。 ./../../../include/c++/4.7.2/bits/basic_string.h:1199:9: 注意：模板无效 std::basic_string::insert(std::basic_string<_CharT, _Traits, _Alloc>::iterator, _InputIterator, _InputIterator) [with _InputIterator = _InputIterator; _CharT = 字符；_Traits = std::char_traits; _Alloc = std::allocator] /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/bits/ basic_string.h:1199:9：注意：43，来自/usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/ios:43，来自/ usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/ostream:40，来自/usr/local/ lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/iostream:40，来自 main3.cc:1: /usr/ local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/bits/basic_string.h:1230:7：注意： std::basic_string<_CharT, _Traits, _Alloc>& std::basic_string<_CharT, _Traits, _Alloc>::insert(std::basic_string<_CharT, _Traits, _Alloc>::size_type, const std::basic_string<_CharT, _Traits, _Alloc>&) [with _CharT = char; _Traits = std::char_traits; _Alloc = std::allocator; std::basic_string<_CharT, _Traits, _Alloc> = std::basic_string; 标准:: basic_string<_CharT, _Traits, _Alloc>::size_type = unsigned int] /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/ c++/4.7.2/bits/basic_string.h:1230:7：注意：没有已知的参数 1 从âconst __gnu_cxx::__normal_iterator >â 到âstd::basic_string::size_type {aka unsigned int}â /usr/local 的转换/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/bits/basic_string.h:1252:7：注意：std ::basic_string<_CharT, _Traits, _Alloc>& std::basic_string<_CharT, _Traits, _Alloc>::insert(std::basic_string<_CharT, _Traits, _Alloc>::size_type, const std::basic_string<_CharT, _Traits , _Alloc>&, std::basic_string<_CharT, _Traits, _Alloc>::size_type, std::basic_string<_CharT, _Traits, _Alloc>::size_type) [with _CharT = char; _Traits = std::char_traits; _Alloc = std::allocator; 标准:: basic_string<_CharT, _Traits, _Alloc> = std::basic_string; std::basic_string<_CharT, _Traits, _Alloc>::size_type = unsigned int] /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../.. /include/c++/4.7.2/bits/basic_string.h:1252:7：注意：候选人需要 4 个参数，提供 2 个在 /usr/local/lib/gcc/i686-pc-linux-gnu/4.7 包含的文件中.2/../../../../include/c++/4.7.2/string:55:0，来自/usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2 /../../../../include/c++/4.7.2/bits/locale_classes.h:42，来自/usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2 /../../../../include/c++/4.7.2/bits/ios_base.h:43，来自/usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2 /../../../../include/c++/4.7.2/ios:43，来自 /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../ ../../../include/c++/4.7.2/ostream:40, 来自 /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/iostream:40，来自 main3.cc :1: /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/bits/basic_string.tcc: 361:6: 注意：std::basic_string<_CharT, _Traits, _Alloc> & std::basic_string<_CharT, _Traits, _Alloc>::insert(std::basic_string<_CharT, _Traits, _Alloc>::size_type, const _CharT *, std::basic_string<_CharT, _Traits, _Alloc>::size_type) [with _CharT = char; _Traits = std::char_traits; _Alloc = std::allocator; std::basic_string<_CharT, _Traits, _Alloc>::size_type = unsigned int] /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../.. /include/c++/4.7.2/bits/basic_string.tcc:361:6：注意：候选人需要3个参数，_Traits, _Alloc>& std::basic_string<_CharT, _Traits, _Alloc>::insert(std::basic_string<_CharT, _Traits, _Alloc>::size_type, const _CharT*) [with _CharT = char; _Traits = std::char_traits; _Alloc = std::allocator; std::basic_string<_CharT, _Traits, _Alloc> = std::basic_string; std::basic_string<_CharT, _Traits, _Alloc>::size_type = unsigned int] /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../.. /include/c++/4.7.2/bits/basic_string.h:1293:7：注意：没有已知的参数 1 从âconst __gnu_cxx::__normal_iterator >â 到âstd::basic_string::size_type {aka unsigned int}â / usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/bits/basic_string.h:1316:7:注意：std::basic_string<_CharT, _Traits, _Alloc>& std::basic_string<_CharT, _Traits, _Alloc>::insert(std:: basic_string<_CharT, _Traits, _Alloc>::size_type, std::basic_string<_CharT, _Traits, _Alloc>::size_type, _CharT) [with _CharT = char; _Traits = std::char_traits; _Alloc = std::allocator; std::basic_string<_CharT, _Traits, _Alloc> = std::basic_string; std::basic_string<_CharT, _Traits, _Alloc>::size_type = unsigned int] /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../.. /include/c++/4.7.2/bits/basic_string.h:1316:7：注意：候选人需要 3 个参数，提供 2 个 /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/。 ./../../../include/c++/4.7.2/bits/basic_string.h:1334:7: 注意：std::basic_string<_CharT, _Traits, _Alloc>::iterator std::basic_string< _CharT, _Traits, _Alloc>::insert(std::basic_string<_CharT, _Traits, _Alloc>::iterator, _CharT) [with _CharT = char; _Traits = std::char_traits; _Alloc = 标准:: 分配器；std::basic_string<_CharT, _Traits, _Alloc>::iterator = __gnu_cxx::__normal_iterator >; typename _Alloc::rebind<_CharT>::other::pointer = char*] /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../.. /include/c++/4.7.2/bits/basic_string.h:1334:7：注意：参数 1 从 âconst __gnu_cxx::__normal_iterator >â 到 âstd::basic_string::iterator {aka __gnu_cxx::__normal_iterator > 没有已知转换}â main3.cc:37:51: error: no matching function for call to âstd::basic_string::insert(__gnu_cxx::__normal_iterator >, const char [5])â main3.cc:37:51: 注意：候选是：在 /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/string:54 包含的文件中:0，来自 /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/bits/locale_classes.h :42, 来自/usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/bits/ios_base.h:43，来自 /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/ios:43，来自 /usr/ local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/ostream:40，来自/usr/local/lib/ gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/iostream:40，来自 main3.cc:1: /usr/local/ lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/bits/basic_string.h:1182:7：注意：void std ::basic_string<_CharT, _Traits, _Alloc>::insert(std::basic_string<_CharT, _Traits, _Alloc>::iterator, std::basic_string<_CharT, _Traits, _Alloc>::size_type, _CharT) [with _CharT =字符；_Traits = std::char_traits; _Alloc = std::allocator; 标准:: basic_string<_CharT, _Traits, _Alloc>::iterator = __gnu_cxx::__normal_iterator >; 类型名 _Alloc::rebind<_CharT>::other::pointer = char*; std::basic_string<_CharT, _Traits, _Alloc>::size_type = unsigned int] /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../.. /include/c++/4.7.2/bits/basic_string.h:1182:7：注意：候选人需要 3 个参数，提供 2 个 /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/。 ./../../../include/c++/4.7.2/bits/basic_string.h:1199:9: 注意：模板无效 std::basic_string::insert(std::basic_string<_CharT, _Traits, _Alloc>::iterator, _InputIterator, _InputIterator) [with _InputIterator = _InputIterator; _CharT = 字符；_Traits = std::char_traits; _Alloc = std::allocator] /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/bits/ basic_string.h:1199:9：注意：*分配>::长度，std::分配器>())))。*/include/c++/4.7.2/iostream:40，来自 main3.cc:1：/usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../ ../include/c++/4.7.2/bits/basic_string.h:1230:7: 注意：std::basic_string<_CharT, _Traits, _Alloc>& std::basic_string<_CharT, _Traits, _Alloc>::insert( std::basic_string<_CharT, _Traits, _Alloc>::size_type, const std::basic_string<_CharT, _Traits, _Alloc>&) [with _CharT = char; _Traits = std::char_traits; _Alloc = std::allocator; std::basic_string<_CharT, _Traits, _Alloc> = std::basic_string; std::basic_string<_CharT, _Traits, _Alloc>::size_type = unsigned int] /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../.. /include/c++/4.7.2/bits/basic_string.h:1230:7：注意：没有已知的参数 1 从 â__gnu_cxx::__normal_iterator >â 到 âstd::basic_string:: 的转换 size_type {aka unsigned int}â /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/bits/ basic_string.h:1252:7: 注意：std::basic_string<_CharT, _Traits, _Alloc>& std::basic_string<_CharT, _Traits, _Alloc>::insert(std::basic_string<_CharT, _Traits, _Alloc>:: size_type, const std::basic_string<_CharT, _Traits, _Alloc>&, std::basic_string<_CharT, _Traits, _Alloc>::size_type, std::basic_string<_CharT, _Traits, _Alloc>::size_type) [with _CharT =字符；_Traits = std::char_traits; _Alloc = std::allocator; std::basic_string<_CharT, _Traits, _Alloc> = std::basic_string; std::basic_string<_CharT, _Traits, _Alloc>::size_type = unsigned int] /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../.. /include/c++/4.7.2/bits/basic_string.h:1252:7：注意：候选人需要 4 个参数，_Traits, _Alloc>& std::basic_string<_CharT, _Traits, _Alloc>::insert(std::basic_string<_CharT, _Traits, _Alloc>::size_type, const _CharT*, std::basic_string<_CharT, _Traits, _Alloc> ::size_type) [with _CharT = char; _Traits = std::char_traits; _Alloc = std::allocator; std::basic_string<_CharT, _Traits, _Alloc>::size_type = unsigned int] /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../.. /include/c++/4.7.2/bits/basic_string.tcc:361:6：注意：候选人需要 3 个参数，提供 2 个在 /usr/local/lib/gcc/i686-pc-linux-gnu/4.7 包含的文件中.2/../../../../include/c++/4.7.2/string:54:0，来自 /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2 /../../../../include/c++/4.7.2/bits/locale_classes.h:42，来自/usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2 /../../../../include/c++/4.7\. 2/bits/ios_base.h:43，来自 /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7。 2/ios:43，来自/usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/ostream： 40，来自 /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/iostream:40，来自 main3 .cc:1：/usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/bits/basic_string。 h:1293:7: 注意：std::basic_string<_CharT, _Traits, _Alloc>& std::basic_string<_CharT, _Traits, _Alloc>::insert(std::basic_string<_CharT, _Traits, _Alloc>::size_type, const _CharT*) [with _CharT = char; _Traits = std::char_traits; _Alloc = std::allocator; std::basic_string<_CharT, _Traits, _Alloc> = std::basic_string; std::basic_string<_CharT, _Traits, _Alloc>::size_type = unsigned int] /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/ bits/basic_string.h:1293:7: 注意：没有已知的参数 1 从â__gnu_cxx::__normal_iterator >â 到âstd::basic_string::size_type {aka unsigned int}â /usr/local/lib/gcc/i686-的转换pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/bits/basic_string.h:1316:7: 注意：std::basic_string<_CharT, _Traits , _Alloc>& std::basic_string<_CharT, _Traits, _Alloc>::insert(std::basic_string<_CharT, _Traits, _Alloc>::size_type, std::basic_string<_CharT, _Traits, _Alloc>::size_type, _CharT ) [with _CharT = char; _Traits = std::char_traits; _Alloc = std::allocator; std::basic_string<_CharT, _Traits, _Alloc> = std::basic_string; std::basic_string<_CharT, _Traits, _Alloc>:: size_type = unsigned int] /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/c++/4.7.2/bits/basic_string。 h:1316:7：注意：候选人需要 3 个参数，提供 2 个 /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../../include/ c++/4.7.2/bits/basic_string.h:1334:7: 注意：std::basic_string<_CharT, _Traits, _Alloc>::iterator std::basic_string<_CharT, _Traits, _Alloc>::insert(std:: basic_string<_CharT, _Traits, _Alloc>::iterator, _CharT) [with _CharT = char; _Traits = std::char_traits; _Alloc = std::allocator; std::basic_string<_CharT, _Traits, _Alloc>::iterator = __gnu_cxx::__normal_iterator >; typename _Alloc::rebind<_CharT>::other::pointer = char*] /usr/local/lib/gcc/i686-pc-linux-gnu/4.7.2/../../../.. /include/c++/4.7.2/bits/basic_string.h:1334:7：注意：

我知道类型`p->first`不是插入函数接受的类型。但我不知道如何将它们相互转换。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-10-16T13:50:29.320

问题可能是您对[`std::string::insert`](http://en.cppreference.com/w/cpp/string/basic_string/insert). 在众多重载中，我看不到 insert(iterator, string) 版本。

您可能想通过明确说明 char 数组的长度来调用所需的版本：

```
void insert (iterator p, size_t n, char c) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-27T09:11:31.183

问题似乎是 boost 配置为与不同版本的编译器一起使用，而不是您当前使用的编译器。

您能否添加有关如何编译它的详细信息？

# php - 如何使用 appcelerator Titan 和 php 将数据从 sqllite 数据库插入到远程 mysql 数据库

> ID：14869867
> 
> 赞同：1
> 
> 时间：2013-02-14T07:33:30.137
> 
> 标签：php, mysql, sqlite, appcelerator-mobile

我尝试使用以下代码。但它不起作用。我有一个临时 sqllite 表，我需要将临时数据库中的所有数据插入到远程 mysql 服务器。

```
var url = "http://bmcagro.com/manoj/insertopinion.php";
    var xhr = Ti.Network.createHTTPClient({
           onload: function(e) {
           // this.responseText holds the raw text return of the message (used for JSON)
           // this.responseXML holds any returned XML (used for SOAP web services)
           // this.responseData holds any returned binary data
           Ti.API.debug(this.responseText);
           var json = this.responseText;  
           var response = JSON.parse(json); 

           if (response.logged == "true") {
             var newtoast = Titanium.UI.createNotification({
                          duration: 1000,
                          message: "Inserted"
           });
           newtoast.show();
           } else {  
                   var toast = Titanium.UI.createNotification({
                   duration: 2000,
                   message: "False"
           });
           toast.show();
    }
    },
    onerror: function(e) {
        Ti.API.debug(e.error);
         var toast = Titanium.UI.createNotification({
                   duration: 2000,
                   message: "Error in Connection!!"
       });
       toast.show();
    },
    timeout:5000 });

    xhr.open("POST", url);
    xhr.send({names: names});   
 }); 
```

而php代码是

```
<?php
    $con = mysql_connect("MysqlSample.db.8189976.hostedresource.com","MysqlSample","xszZ@123ddlj");  
    if (!$con) {
        echo "Failed to make connection.";
        exit;
    }
    $db = mysql_select_db("MysqlSample",$con);
    if (!$db) {
        echo "Failed to select db.";
        exit;
    }  
    $names = $_POST['names'];
    foreach ($names as $name) {
    mysql_query("INSERT INTO seekopinion(uid,gid,opiniondescription,date,postedto) VALUES (" + $name.gid + "," + $name.tempid + "," + $name.gid + ",NOW()," + $name.gid + ")");
    }
    if($query)   {  
         $sql = "SELECT * FROM MysqlSample.seekopinion";  
         $q= mysql_query($sql); 
         $row = mysql_fetch_array($q);       
         $response = array(  
            'logged' => true, 
            'seekopinion' => $row['seekopinion']        
         );
        echo json_encode($response);  
     } else {  
             $response = array(  
                'logged' => false,  
                'message' => 'User with same name exists!!'  
            );  
        echo json_encode($response);    
    }
?> 
```

实际上我是 php 和钛的初学者...任何人请帮帮我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T08:37:06.637

最后我找到了出路....我在appcelerator中使用分隔符'-'将整行更改为字符串，然后将参数传递给php代码...从代码使用explode拆分然后使用for插入环形

用于将表从 sqllite 数据库发布到 mysql 数据库的 appcelerator 代码。

```
postbutton.addEventListener('click', function(e) 
{
var names = [];
var datarow ="";
var db = Ti.Database.open('weather');
var rows = db.execute('SELECT tempid,gid,name,email FROM postedto');
while (rows.isValidRow())
{
datarow=datarow+"-"+rows.fieldByName('tempid')
rows.next();
}
db.close();
var params = {  
                 "uid": Ti.App.userid,       
                 "opiniondescription": question2.text, 
                 "database": datarow.toString()
                   };  

var url = "http://asdf.com/as/asd.php";
var xhr = Ti.Network.createHTTPClient({
           onload: function(e) {
           // this.responseText holds the raw text return of the message (used for JSON)
           // this.responseXML holds any returned XML (used for SOAP web services)
           // this.responseData holds any returned binary data
           Ti.API.debug(this.responseText);
           var json = this.responseText;  
           var response = JSON.parse(json); 
if (response.logged ==true) 
{
var seekopinion11=require('seekopinion2');
var seekop11 = new seekopinion11();
var newWindow = Ti.UI.createWindow({
                //fullscreen : true,
                backgroundImage : 'images/background.jpg',
                });
                newWindow.add(seekop11);
                newWindow.open({
                //animated : true
});
}
else  
{  
   var toast = Titanium.UI.createNotification({
               duration: 2000,
               message: response.message
   });
   toast.show();
}  
},
onerror: function(e) {
Ti.API.debug("STATUS: " + this.status);
Ti.API.debug("TEXT:   " + this.responseText);
Ti.API.debug("ERROR:  " + e.error);
var toast = Titanium.UI.createNotification({
            duration: 2000,
            message: "There was an error retrieving data.Please try again"
   });
   toast.show();
},
timeout:5000
});

 xhr.open("GET", url);
 xhr.send(params);
}); 
```

使用explode破坏字符串的php代码

```
 <?php  
$con = mysql_connect("MysqlSample.db.hostedresource.com","MysqlSample","xszZ@");  
if (!$con)  
{  
    echo "Failed to make connection.";  
    exit;  
}  
$db = mysql_select_db("MysqlSample",$con);  
if (!$db)  
{  
    echo "Failed to select db.";  
    exit;  
}  
$uid= $_GET['uid'];  
$opiniondescription= $_GET['opiniondescription']; 
$database= $_GET['database']; 
$insert = "INSERT INTO seekopinion(uid,opiniondescription,date) VALUES ('$uid','$opiniondescription',NOW())";  
$query= mysql_query($insert);  
$rows = explode("-", $database);
$arrlength=count($rows);
for($x=0;$x<$arrlength;$x++)
{
$insert = "INSERT INTO seekopinionuser(sid,postedto) VALUES ((SELECT MAX(sid) FROM seekopinion),$rows[$x])";  
$query= mysql_query($insert);  
}
    if($query)  
    {  
     $sql = "SELECT s.sid,s.opiniondescription,s.uid,u.postedto FROM seekopinion  s left join seekopinionuser u on s.sid=u.sid WHERE uid=$uid AND s.sid=(SELECT MAX(sid) FROM seekopinion) ";  
     $q= mysql_query($sql); 
     $row = mysql_fetch_array($q);       
     $response = array(  
        'logged' => true, 
        'opiniondescription' => $row['opiniondescription'],
        'uid' => $row['uid'] ,
        'sid'=>$row['sid']

        );  
    echo json_encode($response);  

    }  
    else  
    {  
         $response = array(  
        'logged' => false,  
        'message' => 'Seek opinion insertion failed!!'  
    );  
    echo json_encode($response);    
    }  
?> 
```

# universal-image-loader - 在gridview中使用通用图像加载器时出现OutOfMemoryError

> ID：14869885
> 
> 赞同：0
> 
> 时间：2013-02-14T07:34:59.560
> 
> 标签：universal-image-loader

我在 drwable 的 gridview 中显示了大约 53 张图像。但是我在这样做的时候变得很糟糕。所以我开始使用通用图像加载器将这些图像缓存到磁盘上并从那里拉出来..！但我还是越来越好。这是我的配置

```
 imageLoader =ImageLoader.getInstance();
                if (android.os.Environment.getExternalStorageState().equals(android.os.Environment.MEDIA_MOUNTED))
                    cacheDir=new File(android.os.Environment.getExternalStorageDirectory(),"icons");
                else
                    cacheDir=mContext.getCacheDir();
                if(!cacheDir.exists())
                    cacheDir.mkdirs();
                config= new ImageLoaderConfiguration.Builder(mContext)
                .memoryCache(new WeakMemoryCache())
                .denyCacheImageMultipleSizesInMemory()
                .threadPoolSize(2)
                .offOutOfMemoryHandling()
            .discCache(new UnlimitedDiscCache(cacheDir))
                .enableLogging()
                .build();
                imageLoader.init(config);

options = new DisplayImageOptions.Builder()
                .cacheOnDisc()
                .bitmapConfig(Bitmap.Config.RGB_565)
                .imageScaleType(ImageScaleType.IN_SAMPLE_INT)
                .build(); 
```

这是我的 BaseAdapter 的 getview()

```
public View getView(int position, View convertView, ViewGroup parent) {     

        if(convertView==null)
        {
            ViewHolder holder=new ViewHolder();
            inflator = mContext.getLayoutInflater();
            convertView = inflator.inflate(R.layout.imagelayout, null);
            holder.imageView=(ImageView)convertView.findViewById(R.id.imgDet);
            convertView.setTag(holder);

        }
        ViewHolder hold=(ViewHolder)convertView.getTag();

        try
        {

            imageLoader.displayImage("drawable://" +mThumbIds[position], hold.imageView, options,new ImageLoadingListener() {

                @Override
                public void onLoadingStarted(String arg0, View arg1) {
                    // TODO Auto-generated method stub

                }

                @Override
                public void onLoadingFailed(String arg0, View arg1, FailReason arg2) {
                    // TODO Auto-generated method stub

                }

                @Override
                public void onLoadingComplete(String arg0, View arg1, Bitmap arg2) {
                    // TODO Auto-generated method stub

                }

                @Override
                public void onLoadingCancelled(String arg0, View arg1) {
                    // TODO Auto-generated method stub

                }
            });

        }catch(OutOfMemoryError oom)
        {
            oom.printStackTrace();
        }
        catch(Exception ex)
        {
            ex.printStackTrace();
        }

        return convertView;
    } 
```

请帮我解决一下这个。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-12T13:40:54.713

始终考虑首先加载可绘制对象的本机方式。

`ImageView.setImageResource(...)`而不是使用 of `ImageLoader`。

# javascript - 如何在 iOS 的 UIWebView 的文档目录中使用 Javascript？

> ID：14869887
> 
> 赞同：0
> 
> 时间：2013-02-14T07:35:05.693
> 
> 标签：javascript, ios, cocoa-touch, uiwebview

在我的应用程序中，我必须更改从在线加载的网页的字体。

首先，我将我的 CustomJava.js 文件存储在在线托管中，然后我使用该文件来更改我的 iOS 应用程序中的字体。

这是我的一些代码。

```
- (void)webViewDidFinishLoad:(UIWebView *)webView
{  
    NSString *js = [NSString stringWithFormat:@"var script = document.createElement('script');"
                    "script.type = 'text/javascript';"
    "script.src = 'http://www.gustohei.com/SYjs/customJava.js';"];

    js = [NSString stringWithFormat:@"%@ document.getElementsByTagName('head')[0].appendChild(script);", js];
    [self.webViewOfBrowser stringByEvaluatingJavaScriptFromString:js];

    UIApplication *app = [UIApplication sharedApplication];
    app.networkActivityIndicatorVisible = NO;
} 
```

很好，可以正确更改字体。

就我而言，我想将该 JS 文件保留在我的文档目录中，并希望使用文档目录中的该文件。我不想从网上使用。

所以我写了以下代码。

```
- (void)webViewDidFinishLoad:(UIWebView *)webView
{
    NSString *jsPath = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:@"customJava.js"];

    NSString *js = [NSString stringWithFormat:@"var script = document.createElement('script');"
                    "script.type = 'text/javascript';"
                    "script.src ='%@'",jsPath];

    js = [NSString stringWithFormat:@"%@ document.getElementsByTagName('head')[0].appendChild(script);", js];
    [self.webViewOfBrowser stringByEvaluatingJavaScriptFromString:js];

    UIApplication *app = [UIApplication sharedApplication];
    app.networkActivityIndicatorVisible = NO;
} 
```

然而它不起作用。怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:55:54.083

1.  在 Xcode 的项目导航器（左列）中，单击蓝色项目图标。
2.  在主窗口中选择“构建阶段”选项卡
3.  打开“编译源”部分
4.  在列表中找到您的 Javascript 文件并将其删除。
5.  打开“复制捆绑资源”部分
6.  将您的 Javascript 文件添加到列表中

然后使用以下代码加载js文件

```
[[NSBundle mainBundle] pathForResource:@"script.js" ofType:nil]; 
```

更新：Xcode 4.5 现在会在您将 javascript 文件添加到您的项目而不将其从“编译源”部分中删除时创建警告：

**警告：没有规则为架构 armv7 处理 sourcecode.javascript 类型的文件“ *FILEPATH ”***

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T08:36:20.040

将 javascript 文件和 HTML 保存在文档目录中的同一文件夹中，只需将 javascript 包含在您通过 webview 加载的 HTML 中

```
<script src = "CustomJava.js" type="application/javascript"></script> 
```

然后像这样在代码中调用 javascript 函数：（例如“changeFont();”是您要通过 webview 调用的函数的名称）

```
 NSString *javascriptFunctionCall = [NSString stringWithFormat:@"changeFont('%@');",self.fontSize];

   [bookWebView stringByEvaluatingJavaScriptFromString:javascriptFunctionCall]; 
```

# html - 固定顶部而不是上方的标题

> ID：14869888
> 
> 赞同：0
> 
> 时间：2013-02-14T07:35:07.183
> 
> 标签：html, css

我试图在页面顶部获得一个固定的标题，但由于某种原因，它一直在容器顶部。当我使用`margin-bottom`or`margin-top`然后它仍然粘在容器上。

**索引.css**

```
html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video {
        margin: 0;
        padding: 0;
        border: 0;
        font-size: 100%;
        font: inherit;
        vertical-align: baseline; 
}
.full-container {
    width:100%;
}
.boxborder {
    -webkit-box-shadow:inset 0px 0px 0px 10px black;
    -moz-box-shado:inset 0px 0px 0px 1px black;
    box-shadow:inset 0px 0px 0px 1px black;
}
.header {
    height: 150px;
    margin-bottom: 20px;
    position: fixed;
}
.container {
    position: relative;
    margin-left: auto;
    margin-right: auto;
    width: 800px;
    height: 1200px;
} 
```

**索引.html**

```
<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <link rel="stylesheet" href="index.css">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>
    <body>
        <div class="full-container header boxborder"></div>
        <div class="container boxborder"></div>
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-14T07:36:21.713

你需要在你的css中定义`top`和`left``.header`

# c++ - STL练习题

> ID：14869893
> 
> 赞同：0
> 
> 时间：2013-02-14T07:35:28.867
> 
> 标签：c++, stl

我最近浏览了 C++ 中 STL 的概念。我想提高我使用 STL 的技能。我请求是否有人可以将我引导到一本书或链接，在那里我可以找到足够的问题来学习如何应用 STL。如果有很少分析的解决方案，那将有更大的帮助。非常感谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T07:39:26.487

一个优秀的在线资源是[cppreference.com](http://en.cppreference.com/w/)。您偶尔会听到[cplusplus.com](http://cplusplus.com/)的消息，但这是不可靠的，而且是出了名的错误，因此我建议您不要这样做。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T07:49:25.153

您可以在 Topcoder 练习室从简单的开始。大多数问题都可以使用 STL 解决。

# android - 完成 AsyncTask 后 ListView 更新

> ID：14869895
> 
> 赞同：0
> 
> 时间：2013-02-14T07:35:37.497
> 
> 标签：android, android-asynctask, android-view

我想使用 AsyncTask 更新 TextView 的文本。

我有列表视图，其中有两个 TextView，一个是 ImageView

当用户按下 ImageView 按钮时，歌曲将从服务器端播放。所以我把代码放在 AsyncTask 任务中

这是一个自定义适配器，我在下面调用 ImageView 的点击事件是我的代码示例，如下所示

```
 public View getView(final int position, View convertView,
            ViewGroup parent) {

     holder.imgPlay.setOnClickListener(new View.OnClickListener() {

                @Override
                public void onClick(View v) { 
```

和 onclick 事件我在 asynctask 中传递 textview，我想在从 Internet 获取数据后进行更改，所以下面是我的代码

```
 new MetadataTask2().execute(holder.txtMetadata); 
```

现在 AsyncTask 的代码如下

```
 class MetadataTask2 extends AsyncTask<TextView, Void, IcyStreamMeta> {
    TextView txtView;

    @Override
    protected IcyStreamMeta doInBackground(
            TextView... arg0) {
                    //SOME OPERATION
        txtView = arg0[0];
        return streamMeta;
    }

    @Override
    protected void onPostExecute(IcyStreamMeta result) {
            txtView.setText("Hiiiiiiii");
        }

    @Override
    protected void onPreExecute() {
        super.onPreExecute();
        try {
            PD = ProgressDialog.show(CompaniesList.this, "Tuning...",
                    "Please Wait...");
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
} 
```

现在在这里你可以看到 textView.setText("Hiii") 文本将被更新，但它不会反映在 Listview 中，因为我必须更新 ListView 或 Adapter 但不知道该怎么做，所以我可以看到文本listview 任何机构都可以帮助我吗

我已经使用下面的代码来更新列表视图，但仍然什么都不做

```
 adapter.notifyDataSetChanged(); 
      mainListView.setAdapter(adapter); 
      mainListView.invalidate(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:45:19.587

让您的适配器成为您的活动类的成员变量。然后您将能够从 onPostExecute 中引用它。

另外，从您的代码中，我不清楚您的 TextView 是否真的是您打算修改的那个（大概是您膨胀的那个），以防万一，请记住您必须在doInBackground 尝试修改**之前**在主线程中调用 setContentView任何组件。确保这个 Textview 变量 (arg0[0]??) 是您正在膨胀的变量

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T07:57:24.773

您应该实现自己的`ListView`适配器，它将向列表视图提供数据。`notifyDataSetChanged()`从适配器调用`PostExecute()`将强制列表视图从适配器获取数据。直接更新列表视图视图看起来很奇怪。

# python - PYTHON：导入 .txt 文件（温度和年份的数据）并找到 k 年的平均值

> ID：14869896
> 
> 赞同：-1
> 
> 时间：2013-02-14T07:35:39.383
> 
> 标签：python, average

用户通过从 .txt 文件中导入数据来输入 k 年的平均值（从 1-60 年）。我将如何处理这个？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T07:42:16.267

文件.txt：

```
50
25
70
18
90 
```

Python：

```
with open('file.txt') as f:
    temps = [int(l.strip()) for l in f.readlines()]

print(sum(temps) / len(temps)) # 50.6 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-14T07:50:09.803

除了 Nicolas 的回答，如果您以后要进行更复杂的处理[`numpy`](http://www.numpy.org)，您可以这样做

```
import numpy, sys
a = numpy.loadtxt('file.txt')
m = a.mean()
sys.stdout.write('mean = %f\n'%m) 
```

# sql - 检查 SQL Server 的身份验证模式

> ID：14869898
> 
> 赞同：0
> 
> 时间：2013-02-14T07:35:44.403
> 
> 标签：sql, sql-server, authentication

在将 SQL Server 身份验证模式更改为混合模式之前，我需要检查它是否已经具有混合模式或只有 windows 身份验证模式。

如何检查服务器是否具有混合模式？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:42:49.933

在服务器上的注册表中有一个显示身份验证模式的键。您可以检查注册表项或执行此：

```
Exec xp_instance_regread N'HKEY_LOCAL_MACHINE', N'Software\Microsoft\MSSQLServer\MSSQLServer', N'LoginMode' 
```

值 2 是混合模式，1 是 windows 模式

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:51:36.300

使用 xp_instance_regread 系统程序，我们可以读取注册表值

```
DECLARE @AuthenticationMode INT  
EXEC master.dbo.xp_instance_regread N'HKEY_LOCAL_MACHINE', 
N'Software\Microsoft\MSSQLServer\MSSQLServer',   
N'LoginMode', @AuthenticationMode OUTPUT  

SELECT CASE @AuthenticationMode    
WHEN 1 THEN 'Windows Authentication'   
WHEN 2 THEN 'Windows and SQL Server Authentication'   
ELSE 'Unknown'  
END as [Authentication Mode] 
```

或者

你可以查询注册表

```
DECLARE @LoginMode int
EXEC master..xp_regread 
     @rootkey = 'HKEY_LOCAL_MACHINE', 
     @key = 'SOFTWARE\Microsoft\Microsoft SQL Server\MSSQL.1\MSSQLServer\', 
     @value_name = 'LoginMode',
     @value = @LoginMode output
PRINT @LoginMode 
```

1= SQL 2= 混合模式

# hadoop - Hadoop Map/Reduce 与数据库

> ID：14869902
> 
> 赞同：1
> 
> 时间：2013-02-14T07:35:50.197
> 
> 标签：hadoop, mapreduce

我对 hadoop 很陌生，稍微了解了它的 map/reduce 功能，理解了 wordcount demo，但没有得到与数据库特定计算相关的 hadoop map/reduce 的实际使用。在某些计算或特定于数据库的处理中，map/reduce 如何帮助我并没有得到正确的方法。谁能给我一个链接或一些指南，这将帮助我获得最佳用途以及我可以实施哪些 senerio 以更好地理解 Hadoop map/reduce 部分。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T16:04:54.853

Hadoop 提供了几种输入和输出格式。基本[InputFormat](http://hadoop.apache.org/docs/current/api/index.html?org/apache/hadoop/mapred/InputFormat.html)和[OutputFormat](http://hadoop.apache.org/docs/current/api/org/apache/hadoop/mapred/OutputFormat.html)类可以扩展为自定义输入/输出格式。

DBInputFormat/DBOutputFormat 随 Hadoop 一起提供。[这](http://blog.cloudera.com/blog/2009/03/database-access-with-hadoop/)是 Cloudera 关于使用 MapReduce 和数据库的文档。

# android - URLConnection 出错

> ID：14869904
> 
> 赞同：1
> 
> 时间：2013-02-14T07:35:57.247
> 
> 标签：android, google-places-api, urlconnection

我只是想了解一下 JacksonJson 库。为此，我试图将来自 Places API 的 JSON 数据转换为字符串。

我的密钥是有效的（我在浏览器和另一个应用程序中测试过），但我遇到了错误。这是代码：

```
protected Void doInBackground(Void... params)
    {
        try
        {
            URL googlePlaces = new URL(
                    "https://maps.googleapis.com/maps/api/place/textsearch/json?query=Cloud&types=food&language=en&sensor=true&location=33.721314,73.053498&radius=10000&key=<Key>");
            URLConnection tc = googlePlaces.openConnection();
            BufferedReader in = new BufferedReader(new InputStreamReader(
                    tc.getInputStream()));

            StringBuffer sb = new StringBuffer();

            while ((line = in.readLine()) != null)
            {
                sb.append(line);
            }

            Log.d("The Line: ", "" + line);
        }
        catch (MalformedURLException e)
        {
            e.printStackTrace();
        }
        catch (IOException e)
        {
            e.printStackTrace();
        }
} 
```

这是 logcat 的输出：

```
02-14 12:29:07.407: D/libc-netbsd(16792): getaddrinfo: maps.googleapis.com  return error = 0x8 >>
02-14 12:29:07.813: D/libc-netbsd(16792): getaddrinfo: maps.googleapis.com get result from proxy >>
02-14 12:29:08.706: D/libc-netbsd(16792): getaddrinfo: maps.googleapis.com  return error = 0x8 >> 
```

我的清单中有 Internet 权限。我不知道为什么这不起作用，或者这些错误是什么。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-14T09:43:10.157

这不是点击 URL 的正确方法。您将其参数传递给 url 只是为了将字节写入输出流，然后请求 url

```
 URL googlePlaces = new URL("https://maps.googleapis.com/maps/api/place/textsearch/json?query=Cloud&types=food&language=en&sensor=true&location=33.721314,73.053498&radius=10000&key=<Key>"); 
```

这是点击 URL 的正确方法。

```
 url=new URL("https://maps.googleapis.com/maps/api/place/textsearch/json"); 
```

然后将所有参数放到params Map中；

```
 Map<String, String> params = new HashMap<String, String>();
            params.put("query","Cloud");
            params.put("types", "foods");....like this put all 
```

然后建立身体..

```
 StringBuilder bodyBuilder = new StringBuilder();
            Iterator<Entry<String, String>> iterator = params.entrySet().iterator();
            // constructs the POST body using the parameters
            while (iterator.hasNext()) {
                Entry<String, String> param = iterator.next();
                bodyBuilder.append(param.getKey()).append('=')
                        .append(param.getValue());
                if (iterator.hasNext()) {
                    bodyBuilder.append('&');
                }
            }
            String body = bodyBuilder.toString(); 
```

这里 Body 包含您不能通过 URL 直接请求但您已将其写入 OutputStream 然后发出请求并写入字节的所有参数

```
 byte[] bytes = body.getBytes();
               OutputStream out = conn.getOutputStream();
               out.write(bytes);
               out.close(); 
```

# ruby - Ruby 没有要加载的文件

> ID：14869912
> 
> 赞同：2
> 
> 时间：2013-02-14T07:36:45.387
> 
> 标签：ruby, rubygems, httparty

我正在尝试使用 httparty

```
require 'httparty' 
```

但我得到

```
no such file to load -- httparty (LoadError) 
```

我在 OSX 上使用 Ruby 1.8.7

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-14T08:15:35.533

在 Ruby 1.8 上，您必须`require "rubygems"`先在代码中要求任何 Gem。所以：

```
require "rubygems"
require "httparty"

# Your code here. 
```

# java - 使用 IKVM 将 jar 转换为 dll 时出错

> ID：14869914
> 
> 赞同：0
> 
> 时间：2013-02-14T07:37:05.203
> 
> 标签：java, asp.net, ikvm

我在android中创建了一个库项目。这个库项目从图库中选择图像的真实路径。我想在 asp.net 中引用这个应用程序。所以，我使用 ikvm 将它转换为 dll，但是有一个警告“”。

代码如下。

```
public String BrowseImageFromGallery(){
    Intent galleryIntent = new Intent(Intent.ACTION_PICK, android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);
    startActivityForResult(galleryIntent, GALLERY_REQUEST);
    if(imageRealPath != null)
    {
        return imageRealPath;
    }
    return null;
}

public String TakeImageFromCamera(){

    TakeImage();
    return imageRealPath;
}

@Override 
protected void onActivityResult(int requestCode, int resultCode, Intent intent ){

    switch (resultCode){

    case GALLERY_REQUEST : {
        selectedImageUri = intent.getData();
        imageRealPath = GetRealPathFromUri(selectedImageUri);
    }
    break;

    case CAMERA_REQUEST : {
        imageRealPath = GetRealPathFromUri(selectedImageUri);
    }
    break;
    }

}

private String GetRealPathFromUri(Uri imageUri) {

    try
    {
        String[] proj = {MediaStore.Images.Media.DATA};
        Cursor cursor = managedQuery(imageUri, proj, null, null, null);
        int column_Index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);
        cursor.moveToFirst();
        return cursor.getString(column_Index);
    }
    catch(Exception e)
    {
        return imageUri.getPath();
    }
}

private void TakeImage() {
    ContentValues values = new ContentValues();
     imageName = String.valueOf(System.currentTimeMillis());
    values.put(MediaStore.Images.Media.TITLE, imageName);
    selectedImageUri = getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI,
            values);

    Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
    intent.putExtra(MediaStore.EXTRA_OUTPUT, selectedImageUri);
    startActivityForResult(intent, CAMERA_REQUEST);

} 
```

}

问题是由于我正在扩展 Activity 类并且当我将其转换为 dll 时它没有引用。所以，我添加了android.jar的引用。一切正常，但是当我运行程序时出现错误。

为了检查什么是我在 java 库中创建了一个简单的 add 方法，并在单击按钮时从 c# 代码中调用它。错误如下

![错误](../Images/e1e4eea909a99ea8f9d0e89cdd4601f9.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T17:30:20.817

IKVM 用于 Java SE。您只能使用 Java SE 或第三方的 API。您的 Android.jar 只是编译器的 stup jar 文件。在运行时，它包含对 Android Java VM 的本机调用。

创建您自己的存根 android.app.Activity 而不是 Android.jar。您的存根应该只调用标准 Java API 的 API。

# jakarta-ee - 安装 jdk16 会安装 Java EE 吗？

> ID：14869915
> 
> 赞同：0
> 
> 时间：2013-02-14T07:37:09.757
> 
> 标签：jakarta-ee, java

这些东西的新手。我想开始研究 Java EE。我已经安装了 jdk1.6。我会拥有 Java EE 的功能吗？（注意：我正在开发一个网络应用程序，我喜欢 apache tomcat、ant..）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:40:37.867

JDK 仅适用于标准 Java 应用程序，而非企业应用程序。但是，如果您有一个 Web 容器，例如，`Tomcat`您不需要进一步安装任何东西，您就可以开始开发动态 Web 应用程序（例如`Servlet`和`JSP`）

如果您想开发`EJB`，您将需要应用程序服务器，例如`JBOSS`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T09:04:12.910

Java EE 是标准的集合，如 EJB、JPA、JSF 等。这有点违反直觉，但您永远无法将 Java EE 安装为名为“javaEE.jar”之类的包。

为了开发 Java EE 应用程序，您只需要他们知道相应的 API，而不必为您的应用程序提供实现。这些实现由多个符合 Java EE 的应用服务器提供。

Java EE 的默认实现是[Glassfish AS](http://glassfish.java.net/)。还有其他的，例如[JBoss AS](http://www.jboss.org/)和[Geronimo](http://geronimo.apache.org/)。这是一个 [完整的列表](http://www.oracle.com/technetwork/java/javaee/overview/compatibility-jsp-136984.html)。

从 Java EE 6 开始，该规范定义了一个较小的标准子集，特别是用于 Web 应用程序开发，称为[Java EE Web Profile](http://jaxenter.com/introducing-the-java-ee-web-profile-36201.html)。如果你想专门开发 Web 应用程序，值得一看。

# jquery - 获取内容并将该内容添加为类

> ID：14869916
> 
> 赞同：0
> 
> 时间：2013-02-14T07:37:11.380
> 
> 标签：jquery, html

我有以下元素；

```
<li class="wens">
   <span class="cck">one</span>
</li>

<li class="wens">
   <span class="cck">wone</span>
</li>

<li class="wens">
   <span class="cck">senw</span>
</li> 
```

我正在尝试获取的内容`.cck`并将该内容作为一个类添加到其父级`<li>`

这是我尝试过的代码，但它不起作用。

```
 $(document).ready(function(){
      $('.wens').each(function(){
           var cckcontent = $(this).find('.cck').html();           
           $(this).addClass(cckcontent);
      });  
 }); 
```

拜托，帮我做这件事。非常感谢提前。

看待。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:42:14.760

使用父方法：

```
$('.cck').parent().addClass(cck.text()); 
```

[http://api.jquery.com/parent/](http://api.jquery.com/parent/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T07:39:14.317

您可以使用[`:has`](http://api.jquery.com/has-selector/).

**[现场演示](http://jsfiddle.net/g83PZ/)**

```
 $('.wens:has(.cck)').addClass("class-name"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T08:10:59.477

```
$('.cck').each(function() {
    var cck = $(this);
    cck.parent().addClass(cck.text());
}); 
```

[演示](http://jsfiddle.net/gulfarazyasin/5PmF2/)

# mysql - 我应该将音频文件本身存储在 BLOB 字段中还是应该存储它的路径

> ID：14869917
> 
> 赞同：0
> 
> 时间：2013-02-14T07:37:13.067
> 
> 标签：mysql, database, blob

我需要一个音频文件目录以及它们的一些属性，例如 DateCreated、Title、Format 等。我希望这些文件是 wav 和/或 gsm 格式的。文件的最大大小约为 10MB。每天要添加的最大文件数约为 600 个。每 10 天将删除大约 25% 的记录。并且每个月都会删除 80% 的全部记录（根据近似值）。当我查询记录时，我不需要使用物理文件来查询它们，而是需要它们的其他属性。但随后我可能想查看一个特定文件或多个文件，此时我将自己提取音频文件。现在这是我的问题：我应该将音频文件连同它们的属性一起存储在同一个表中，还是应该将它们放在一个单独的位置——这可能是一个数据库或只是一个文件目录——并存储它的路径？我打算使用 MySQL，虽然我不太确定它是否适合如此庞大的数据。因此，如果这不是一个好的选择，您是否还可以建议另一个更适合这种特殊情况的 DBMS。

# unicode - Jasper 报告 v 5.0.0 - unicode 参数未正确发送到查询

> ID：14869921
> 
> 赞同：4
> 
> 时间：2013-02-14T07:37:51.720
> 
> 标签：unicode, jasper-reports, ireport

我已经使用 iReport 构建了一个报告。在报告的一个字段中，我们输入波斯语名称。如果我在数据库（Oracle）上运行基础查询，它可以工作，但是当我运行报告时它不工作。看起来 unicode 参数未正确发送到查询。（我的报告标题是波斯语，并且显示正确）

有人遇到过这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T08:11:46.843

1.  在您的 Jasper 环境“IReport”
    中，如果您想生成*PDF 报告*，最好从您的 ireport 应用程序
    中选择**（预览 -> PDF 预览）**
    而 不是默认值（内部预览）

2.  文本字段属性

对于文本字段，您应该分配一些属性
1.**字体名称**：支持您的语言环境“Farsi”的字体
2\. **Pdf 字体名称**：支持您的语言环境“Farsi”的字体
3\. **Pdf Embeded**：true
4\. **Pdf Encoding**：取决于在您的语言“波斯语”->“Identity-H（带有水平书写的 Unicode）”上

注意
如果您没有安装支持您的语言“Farsi”的字体，这
很容易
只需获取您最喜欢的字体“....ttf”
然后从 ireport
**（工具 -> 选项 -> 字体选项卡 -> 安装字体按钮 -> 。 ... )**

# android - 自定义列表视图从中间开始

> ID：14869926
> 
> 赞同：3
> 
> 时间：2013-02-14T07:38:10.223
> 
> 标签：android, listview

我想开发一些如图所示的东西：

![数字](../Images/f2b0adb91c217ac009f4094f39547d9f.png)

当我点击数字时，它应该显示一个列表视图，如第二张图片所示。

![列表](../Images/d34d622639f0e34d5c01ac638f38cdfd.png)

现在我怎么能从`ListView`中间的某个地方得到。列表的实际内容从 58 开始到 98。它可能并不总是 72。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-14T07:42:56.813

用于`setSelection(position)`跳转到存在特定数字/项目的索引/位置...您必须创建一个公式来计算索引/位置 [http://developer.android.com/reference/android/widget/ListView.html #setSelection（整数）](http://developer.android.com/reference/android/widget/ListView.html#setSelection(int))

# node.js - 使用 Sequelize 将两个模型发送到视图

> ID：14869927
> 
> 赞同：3
> 
> 时间：2013-02-14T07:38:17.757
> 
> 标签：node.js, express, sequelize.js

我尝试使用 Sequelize 将两个模型发送到视图，但我不知道如何继续。

我下面的代码不起作用。

```
Post.findAll().success( function(posts) {
    Creation.findAll().success( function(creations) {
        res.render('admin_index', {
            creations: creations,
            posts: posts
        });
    });
}); 
```

安东尼

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T08:57:15.813

实际上，您没有在回调中返回任何帖子，这就是未定义帖子的原因。

这样您就无法在 yoru res.render 上下文中访问它。

检查回调的这一部分

```
 Creation.findAll().success( function(creations) {
    // The other stuff
}); 
```

在这里，您只返回创作，而不是您应该编写一个返回创作和帖子的查询。或者在类似这样的回调链中执行多个查询。

```
 RandomQuery.findAll().success( function(creations,posts) {
    // The other stuff
}); 
```

或者将回调链接在一起

```
 Creation.findAll().success( function(creations) {
    Post.findAll().success(function(posts){

        res.render('admin_index', {
            creations: creations,
            posts: posts
        });  

    });
}); 
```

# c# - 将 INotifyPropertyChanged 添加到模型？

> ID：14869928
> 
> 赞同：7
> 
> 时间：2013-02-14T07:38:18.850
> 
> 标签：c#, .net, wpf, mvvm, inotifypropertychanged

我在我的 wpf MVVM（基于 Prism）应用程序中面临一些设计问题，很乐意得到您的建议。我的模型很简单：

```
public class Customer
{
   public string FirstName {get;set;}
   public string LastName {get;set;}
} 
```

如您所见，我的 Model 类没有任何 INotifyPropertyChnaded 支持。我还有用于 CustomerDetails 屏幕的 ViewModel，它支持 INotifyPropertyChanged。

```
public class CustomerDetailsViewModel:INotifyPropertyChanged /*Or NotificationObject*/
{
   /*INotifyPropertyChanged event */
   private Customer item;
   public Customer Item
   {
      get{return item;}
      set
      {
         item=value; 
         //Raise PropertyChanged
         //Set IsDirty to true
      }
   }
} 
```

在我看来，我正在使用绑定到 Item.FirstName 并且我的 ViewModel 正在更新。我的问题是 - 因为只有 FirstName 属性正在通过 View 更新，并且模型本身不支持 INotifyPropertyChanged，因此没有调用 Item 设置器，并且 IsDirty 仍然等于 false（因此不会更新 IsDirty 通知用户界面）。

我知道我可以在模型中支持 INotifyPropertyChanged，然后在视图模型中注册到 Item.PropertyChanged 事件，并实际将 IsDirty 设置为 true，但是 - 由于我也在使用 CodeFirst，并且我的 Model 类在我的 ServerSide 之间共享和我的客户端（不使用添加服务参考），我不想将 INotifyPreoprtyChanged 的​​东西添加到我的服务器端。

我正在考虑创建新项目，该项目将使用 T4 模板一一复制我的所有实体（作为客户），并为每个模型添加 INotifyPropertyChanged 支持。这看起来合理还是不合理？还有其他建议吗？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-14T07:47:56.477

选项1。
将在客户端和服务器 (DTO) 之间传输的实体与作为客户端模型的实体分开。`INPC`在模型中实现。在这些实体之间使用映射。

选项 2。
仅将视图绑定到视图模型属性。制作视图模型属性，它包装了相应的模型属性。

选项 3。
是前两个选项的混合。不要在视图模型中聚合模型。使用模型和视图模型之间的映射。制作与模型属性相对应的视图模型属性。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-14T07:52:32.173

那么你的方法根本不是最好的。更好的是使用这样的VM

```
 public class CustomerDetailsViewModel : INotifyPropertyChanged
{
  public CustomerDetailsViewModel(Customer customer)
  {
    _item = customer;
  }
  private Customer _item;

  public string FirstName
  { 
    get { return _item != null ? _item.FirstName : null; }
    set 
    {
      if (_item == null)
        _item = new Customer(); // just an example, probably it's not the desired behavior
      _item.FirstName = value;
      RaisePropertyChanged(...);
    }
  }
  ...
} 
```

这将坚持 MVVM 的精神。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-02-27T15:44:18.767

**如果您希望您的 UI 注意到您的模型属性何时发生更改**，您的模型类**必须**实现`INotifyPropertyChanged`和类似的 MVVM 接口（`IDataErrorInfo`等...），以便`Notify`在`property changed`.

这是因为您并不总是从视图模型更新模型，您必须在视图模型中实现`INotifyProperyChanged`并通知更改。

当您无法`INotifyPropertyChanged`在模型类中实现时，将相应的模型属性包装在使用的视图模型中，这会使视图模型增长非常快并创建不必要的代码重复。

场景例如：

```
public class Customer
{
   public string FirstName {get;set;}
   public string LastName {get;set;}

   // Changes the first name.
   public void ChangeFirstName(string newName)
   {
      FirstName = newName;
      //The UI will never know that the property changed, and it won't update.
   }
} 
```

解决方案：

`INotifyPropertyChanged`在您的模型类中实现，创建`backing fields`您的`properties`，并为每个属性`setter`，在`set`操作之后，使用名称引发`OnPropertyChanged`调用的方法`property`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-11-04T16:27:36.937

如果您不喜欢使用 INotifyPropertyChanged 代码使模型混乱，您可以尝试使用名为 PropertyChanged.Fody 的 NUGet 包

你可以这样使用它；

```
using PropertyChanged;

[ImplementPropertyChanged]
public class Customer
{
   public string FirstName {get;set;}
   public string LastName {get;set;}
} 
```

此类中的任何公共属性现在都将支持 INotifyPropertyChanged

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-02-14T07:50:55.473

我认为你在正确的轨道上。在服务器端，您不需要`INotifyPropertyChanged`，因此不要将其添加到服务器端的域类中。

您可以在客户端项目中添加一些构建符号，例如“WPF”；并且在代码优先定义中`INotifyPropertyChanged`仅在存在“WPF”构建符号时才实现。然后只需将您的服务器端域类添加为您的演示应用程序的链接。就像是;

```
#if WPF
public class MyEntity : INotifyPropertyChanged
#else
public class MyEntity

.... 
```

# android - 将 Android SDK 工具从 22.0.1 更新到 22.0.4（最新版本）

> ID：14869929
> 
> 赞同：87
> 
> 时间：2013-02-14T07:38:19.893
> 
> 标签：android, sdk, adt

我想将我的 Android SDK 工具从 22.0.1 更新到 22.0.4

我也安装了 ADT，但无法将 SDK 工具更新到 22.0.4

我面临以下问题：

```
Download interrupted: Read timed out issue. 
```

以下是更新 SDK 时的屏幕截图：

![在此处输入图像描述](../Images/a401aadb488227631dfe8ec657567ccd.png) 谁能帮我 ：

提前致谢。

> **已编辑：**我找到了上述问题的解决方案，并添加了解决方案作为答案。如果有人有同样的问题，他/她也可以按照说明解决这个问题。

* * *

## 回答 #1

> 赞同：178
> 
> 时间：2013-02-14T09:24:02.250

我查看了[Eclipse ADT 文档](http://developer.android.com/tools/sdk/eclipse-adt.html)并找到了解决此问题的方法。我能够将我的 SDK 工具更新到 22.0.4（最新版本）。

> **解决方法是：**先将 ADT 更新到 22.0.4（最新版本），然后将 SDK Tool 更新到 22.0.4（最新版本）

上面的链接说，

> **ADT 22.0.4**设计用于与**SDK Tools r22.0.4 一起**使用。如果您尚未在 SDK 中安装 SDK Tools **r22.0.4**，请使用 Android SDK Manager 来安装

我必须做的是将我的 ADT 更新到 22.0.4（最新版本），然后我能够将 SDK 工具更新到 22.0.4。我以为只有 SDK 工具没有更新 ADT，所以我用旧 ADT 版本（22.0.1）更新了 SDK 工具。

**如何将您的 ADT 更新到最新版本**

1.  在 Eclipse 中转到`Help`
2.  `Install New Software`--->`Add`
3.  在里面`Add Repository`写名字：（`ADT`或任何你想要的）
4.  和地点：`https://dl-ssl.google.com/android/eclipse/`
5.  加载后你应该得到`Developer Tools`和`NDK Plugins`
6.  如果您想在将来使用 Native Developer Kit (NDK)，请同时检查或`Developer Tool`仅检查
7.  点击`Next`
8.  `Finish`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-07-27T13:30:29.810

我在 OSX 上，我使用的是 Android Studio 而不是 ADT 并且我遇到了这个问题，我的问题是在一个具有身份验证的代理后面，无论出于何种原因，在 Android SDK 管理器窗口中，在 Preferences -> Others 下，我需要取消**选中**

> “强制使用 http://... 获取 https://... 源...”

此外，没有地方放置代理凭据，但它会提示您输入它们。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-08-18T06:17:14.450

您可能需要转到 Window -> Android SDK Manager -> Packages -> Reload 以获取最新更新，然后更新 SDK。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-05-16T12:40:54.233

我遇到了同样的问题，我尝试了以下解决方案，它对我有用 在 Android SDK 管理器窗口中，单击“其他”下的工具->选项->，检查`"Force https://... sources to be fetched using http://..."`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-14T08:03:22.117

你试过这个[http://tools.android.com/preview-channel](http://tools.android.com/preview-channel)吗？下载预览频道。之后，安装 ADT Preview。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-09-13T17:57:18.710

以管理员身份运行**Android SDK Manager**。解决了我的问题

> > 须藤**安卓**

# python - Python：如何打印 AD 用户的手机号码？

> ID：14869934
> 
> 赞同：0
> 
> 时间：2013-02-14T07:38:34.217
> 
> 标签：python, active-directory, contacts

恐怕我又有点卡住了。我一直在互联网上寻找任何可能需要做同样事情的人，而且似乎确实有一些人已经做到了，但我就是无法将所有拼图拼凑在一起。

简而言之：我需要获取 AD 中列出的所有用户的手机号码。

到目前为止，最简单和最简单的方法似乎是 Tim Golden 的 active_directory 模块，它让我了解我的代码到目前为止的样子（基本上是他的示例编码的直接复制和粘贴）：

```
#!/usr/bin/env python
import active_directory

def main():

    for user in active_directory.search (objectCategory='Person', objectClass='User'):
      print user

if __name__ == '__main__':
    main() 
```

上面的代码很有效，但我只是不知道如何在输出中包含手机号码。我不知道 AD/LDAP 中该字段的名称是什么，但我怀疑它是“MobileTelephoneNumber”。

有没有人知道一种快速而肮脏的方法来包含每个用户的手机号码？它不必只是号码，可以是所有联系方式。

**编辑**：

我猜测我需要将编码稍微修改为如下所示：

```
 for user, number in active_directory.search (objectCategory='Person', objectClass='User', objectClass='MobileTelephoneNumber'):
      print user, number 
```

但这似乎不起作用。我确信必须有某种方法可以做到这一点，但我似乎无法弄清楚。如果我能弄清楚数字在 AD 中的确切存储位置，我可能最终能够弄清楚，但似乎并没有太多关于它的信息，或者至少我能够理解的信息。

**编辑#2：**
感谢 ivan_pozdeev，我能够看到我需要的属性（“移动”），但我仍然不知道如何通过 Python 实际打印它......有没有办法打印 LDAP 对象的通过 Python 的完整属性，如果是，通过 active_directory 模块？

**编辑#3：**
没关系，我想我现在明白了。一旦我的代码或多或少可以工作，我会将其发布回此处，以防万一其他人遇到我所拥有的同一块砖墙。

**编辑#4：**
原来我有点白痴。这显然就像使用以下代码一样简单：

```
 for user in active_directory.search (objectCategory='Person', objectClass='User'):
      print user, user.mobile 
```

再次感谢 ivan_pozdeev 的帮助，不胜感激 :)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T10:01:53.463

请参阅我的帖子中的 EDIT #4。我也没有真正解决这个问题，但感谢用户 ivan_pozdeev 为我指明了正确的方向。

对于以后偶然发现这篇文章的任何人，请获取 AD Explorer，然后查看您希望打印的属性的名称。如果属性名称是“mobile”，您可以通过指定 user.mobile 来获取它（如我的情况）。

还有 Tim Golden，如果你读过这篇文章，那么在 active_directory 模块上的工作非常出色。它只是设法保存了我的培根。

# javascript - 如何使用 java 脚本检索动态 CRM 自定义字段值？

> ID：14869937
> 
> 赞同：2
> 
> 时间：2013-02-14T07:38:55.930
> 
> 标签：javascript, dynamics-crm-2011

如何使用 java 脚本检索动态 CRM 自定义字段值并使用检索到的值执行一些计算并将其放入另一个自定义字段？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-14T08:11:10.280

您可以将它们作为任何表单上的任何其他字段来引用。

```
// assuming the name of your field is *Konrad*
var coder = Xrm.Page.getAttribute(“new_Konrad”).getValue(); 
```

但是，如果您希望从由 Web 资源填充的 IFRAME 的上下文中访问相同的数据字段，则需要通过在上面的行前面加上以下前缀来引用您所在位置的父级。

```
// assuming the name of your field is *Konrad*
var coder = window.parent.Xrm.Page.getAttribute(“new_Konrad”).getValue(); 
```

我可以补充一点，它都记录在 SDK 中，但我也需要承认我自己也没有太频繁地访问它。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-14T09:39:17.813

请参阅[本文](http://crmbusiness.wordpress.com/2011/02/17/crm-2011-javascript-xrm-page-basics/)以了解有关通过 Javascript 访问对象的结构的更多信息。获取值就像 Konrad 所说的那样，设置一个你需要的值：

```
Xrm.Page.getAttribute("CRMFieldName").setValue('Some Value'); 
```

做操作是应用Javascript，检查这个网站学习[Javascript](http://www.w3schools.com/js/js_operators.asp)

希望这可以帮助

# jquery - 在悬停时如何将内部绝对位置 div 显示到外部可滚动 div

> ID：14869939
> 
> 赞同：0
> 
> 时间：2013-02-14T07:39:00.233
> 
> 标签：jquery, html

我有一个固定的宽度和高度`div`的`overflow:auto`属性，在这个下`div`我有一个有多个的表，在一个表`row`上`td`我通过效果显示一个**div(pop-content)** 。但是当我将鼠标悬停在最后时，正在显示但在滚动区域下方并在底部创建了太多我不想要的空白空间。`onhover``fade-In``td``div`

如果行是最后一个或倒数第二个，我想在可滚动区域之外显示 div(pop-content) 而不会丢失滚动属性。下面是我的代码

jQuery:-

```
$(function () {
        $(".pop-outer").each(function () {
            $(this).hover(function () {
                $(this).find(".pop-content").stop(true, true).fadeIn(300);
            }, function () {
                $(this).find(".pop-content").stop(true, true).fadeOut(300);
            });
        });
    }); 
```

html:-

```
<div class="grid-inner clearfix" style="overflow:auto; height:135px">
                <table width="100%" border="0" cellspacing="0" cellpadding="0" class="new-grid">
                  <tr>
                    <td class="even-color1" align="left" valign="middle">
                        <div class="pop-outer" style="position:relative">
                            <a href="#">Williams, Josh</a>
                            <div class="pop-content" style="display:none; position:absolute; right:5px; top:5px">
                                <span class="lft-arrow"></span>
                                <div class="pop-img-cont"><img src="Image/candidate1-large.jpg" alt="" /></div>
                                <div class="pop-description">
                                    <h3>Josh Williams</h3>
                                    <strong>Boston, MA</strong>
                                    <h4>How Do You Define Success?</h4>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. In porttitor ultricies odio ut placerat. Nam molestie consequat est, et sagittis nisl laoreet eu. Integer sodales, odio id malesuada commodo, neque ante faucibus turpis, ut porttitor risus libero sit amet leo.</p>
                                </div>
                            </div>
                        </div>
                    </td>
                    <td class="even-color2" align="left" valign="middle">New York</td>
                    <td class="even-color3" align="left" valign="middle">Goldman Sachs &amp; Co</td>
                    <td class="even-color4" align="left" valign="middle">NYU</td>
                    <td class="even-color5" align="left" valign="middle">06/01/2012</td>
                  </tr>
                  <tr>
                    <td class="even-color1" align="left" valign="middle">
                        <div class="pop-outer" style="position:relative">
                            <a href="#">Williams, Josh</a>
                            <div class="pop-content" style="display:none; position:absolute; right:5px; top:5px">
                                <span class="lft-arrow"></span>
                                <div class="pop-img-cont"><img src="Image/candidate1-large.jpg" alt="" /></div>
                                <div class="pop-description">
                                    <h3>Josh Williams</h3>
                                    <strong>Boston, MA</strong>
                                    <h4>How Do You Define Success?</h4>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. In porttitor ultricies odio ut placerat. Nam molestie consequat est, et sagittis nisl laoreet eu. Integer sodales, odio id malesuada commodo, neque ante faucibus turpis, ut porttitor risus libero sit amet leo.</p>
                                </div>
                            </div>
                        </div>
                    </td>
                    <td class="even-color2" align="left" valign="middle">New York</td>
                    <td class="even-color3" align="left" valign="middle">Goldman Sachs &amp; Co</td>
                    <td class="even-color4" align="left" valign="middle">NYU</td>
                    <td class="even-color5" align="left" valign="middle">06/01/2012</td>
                  </tr>
                  <tr>
                    <td class="even-color1" align="left" valign="middle">
                        <div class="pop-outer" style="position:relative">
                            <a href="#">Williams, Josh</a>
                            <div class="pop-content" style="display:none; position:absolute; right:5px; top:5px">
                                <span class="lft-arrow"></span>
                                <div class="pop-img-cont"><img src="Image/candidate1-large.jpg" alt="" /></div>
                                <div class="pop-description">
                                    <h3>Josh Williams</h3>
                                    <strong>Boston, MA</strong>
                                    <h4>How Do You Define Success?</h4>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. In porttitor ultricies odio ut placerat. Nam molestie consequat est, et sagittis nisl laoreet eu. Integer sodales, odio id malesuada commodo, neque ante faucibus turpis, ut porttitor risus libero sit amet leo.</p>
                                </div>
                            </div>
                        </div>
                    </td>
                    <td class="even-color2" align="left" valign="middle">New York</td>
                    <td class="even-color3" align="left" valign="middle">Goldman Sachs &amp; Co</td>
                    <td class="even-color4" align="left" valign="middle">NYU</td>
                    <td class="even-color5" align="left" valign="middle">06/01/2012</td>
                  </tr>

              </table>

          </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:59:41.070

试试下面的代码

```
<div class="pop-content" style="display:none;background: #eee;border: 1px solid #ccc;padding: 10px;border-radius: 8px;box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);position: absolute;width: 200px;">
```

在 html 中的任何地方替换它并尝试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-17T11:27:56.703

我给那些可能有问题的人一个答案。

唯一的解决方案是用固定位置代替绝对位置。请注意，您必须设置相对于窗口的坐标（如果滚动，坐标可能会改变）。

最简单的方法是在悬停函数中使用 jQuery 设置左侧和顶部位置。下面是一个示例：

```
 $(function () {
        $(".pop-outer").each(function () {
            var $this = $(this);
            $this.hover(function () {
                var offset = $this.offset();
                $this.find(".pop-content")
                    .stop(true, true)
                    .fadeIn(300)
                    .css({
                        'position': 'fixed',
                        'left': offset.left,
                        'top': offset.top
                    });

            }, function () {
                $this.find(".pop-content")
                    .stop(true, true)
                    .fadeOut(300);
            });
        });
    }); 
```

# java - 检查数组列表并删除一些参数

> ID：14869942
> 
> 赞同：0
> 
> 时间：2013-02-14T07:39:05.960
> 
> 标签：java, android

我有字符串的数组列表。如果在这个数组中我有比我的“i”更多的元素，我想检查特定时刻，如果是，我想删除这些元素。例如。我在数组中有五个元素。我选择索引为四的元素。我想检查是否存在更高的元素（在这种情况下，更高的元素将是索引为 5 的元素）并删除该元素。如果我选择 3 元素，我想删除 4 和 5 元素。我做这样的事情：

```
 for(int j = 0; j<descriptions.size();j++){
                if(!descriptions.get(i+1).isEmpty()){
                    descriptions.remove(i+1);
                }
            } 
```

当我选择 3 个元素并删除了两个元素时，此解决方案效果很好。但是当我想选择 4 个元素时，我会得到索引超出范围的异常。我怎样才能解决我的问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T07:50:43.420

我不太明白在代码中使用 for 循环的意义。

您可能想要做的是删除列表中第 i 个元素之外的任何项目。

最简单的方法是重复从列表中删除最后一个元素。

这是一个示例代码供参考：

```
while(descriptions.size() > i){
  descriptions.remove(descriptions.size()-1);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:44:18.873

> 我在数组中有五个元素。我选择索引为四的元素。

第五个元素在索引 4 处。如果要选择第 4 个元素，它的索引将为 3。

修改您的代码如下：

```
int size = descriptions.size();
for(int j = size -1; j>choosenNum; j--) 
{
    descriptions.remove(j);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T07:48:02.703

```
 for(int i = descriptions.size()-1; i > indexToDeleteAfter; i--){
                descriptions.remove(i);
        } 
```

或者，遵从 ArrayList：

```
if(descriptions.size() - 1 > indexToDeleteAfter)
{
   descriptions.removeRange(indexToDeleteAfter + 1, descriptions.size() - 1);
} 
```

[http://docs.oracle.com/javase/1.4.2/docs/api/java/util/ArrayList.html#removeRange(int,%20int)](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/ArrayList.html#removeRange(int,%20int))

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-14T07:51:53.537

```
 public static void main(String[] args) {

 //list of string with 5 elements
 List<String> descriptions = new ArrayList<String>();
 descriptions.add("first");
 descriptions.add("second");
 descriptions.add("third");
 descriptions.add("4");
 descriptions.add("5");

 //the size you want to check for the list
 int i = 3;
 int howMuchToRemove = descriptions.size()-i;
 //if the list how more object from > i , we will remove objects from it 
 if (howMuchToRemove > 0)
     for (int j=0 ; j < howMuchToRemove ; j++)
         //remove the last object in the list
         descriptions.remove(descriptions.size()-1);

 System.out.println(descriptions.toString());
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-14T07:53:33.693

```
 public static void main(String[] args) {
    ArrayList<String> list = new ArrayList<String>();
    list.add("a");
    list.add("a");
    list.add("a");
    list.add("a");
    list.add("a");
    indexToRemove(list, 5);

}

private static void indexToRemove(ArrayList<String> list, int index) {
    if (list.size() > index) {
        list.remove(index);
        System.out.println(index + "th item removed");
    } else
        System.out.println("Can't remove");

} 
```

您的意思是一个将删除给定索引元素的函数？然后试试这个。

# php - 将 time() 存储为 mysql 中的时间戳

> ID：14869944
> 
> 赞同：0
> 
> 时间：2013-02-14T07:39:17.257
> 
> 标签：php, time, unix-timestamp

如何将当前时间（如中`time()`）作为时间戳存储到 mysql 数据库中？

我试过这个查询：

```
UPDATE users 
  SET last_login = '1360826987' 
  WHERE username = 'test' 
   AND password = 'test' 
```

其中 1360826987 是我当前的时间`time()`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T07:40:24.380

改用mysql的NOW函数。

```
UPDATE users SET last_login = NOW() ... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:43:10.137

时间戳字段以 2013-02-14 13:10:41 这种格式存储值。所以在你的查询中使用 now()

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T07:40:25.300

那应该行得通。但请确保该字段接受整数。

```
 Type INT 
```

# apache - .htaccess 重写到卸载的文件夹资源

> ID：14869945
> 
> 赞同：0
> 
> 时间：2013-02-14T07:39:17.883
> 
> 标签：apache, .htaccess, mod-rewrite, redirect, external

我试图在 apache 服务器上使用 .htaccess 文件将 /cmsfiles/flipbooks/thisFlipBook/ 指向 /thisFlipBook

我试过了：

```
RewriteRule ^/thisFlipBook/ /cmsfiles/flipbooks/thisFlipBook[L,R=302] 
```

也：

```
RewriteRule ^/thisFlipBook/cmsfiles/flipbooks/thisFlipBook[L] 
```

（没有 R 标签，以便 mod_rewrite 知道它是一个内部 apache 重定向，而不是让浏览器为重写的资源发送新请求。）

第一条规则导致 404，第二条导致：

```
/thisFlipBook/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/index.php/ 
```

但是，如果您手动导航到 /cmsfiles/flipbooks/thisFlipBook 它会设法找到 index.html 文件并成功加载它。

难道我做错了什么？

另外：服务器端 apache 重定向和卸载文件夹是正确的方法吗？客户开始请求如此多的翻书，为了部署，我们已将它们从项目中移出。

# ruby-on-rails - 控制器索引上的 Rails Mongoid“nil:NilClass 的未定义方法‘[]’”并创建

> ID：14869951
> 
> 赞同：0
> 
> 时间：2013-02-14T07:39:42.803
> 
> 标签：ruby-on-rails, ruby-on-rails-3, mongodb, mongoid

我刚刚开始使用 Mongoid for Rails 并关注了它的截屏视频。我生成了一个脚手架，生成了 mongoid.yml，并且只更改了数据库名称。我还按照他们的文档中的步骤为 rails 准备了 mongoid。

但是，我似乎总是在创建操作中得到这个

```
undefined method `[]' for nil:NilClass

Rails.root: /Users/ygamayatmiretuta/Documents/Dev/ruby/ta
Application Trace | Framework Trace | Full Trace

app/controllers/notes_controller.rb:25:in `create' 
```

这个是关于索引操作的：

```
undefined method `[]' for nil:NilClass

Extracted source (around line #12):

9:     <th></th>
10:   </tr>
11: 
12: <% @notes.each do |note| %>
13:   <tr>
14:     <td><%= note.title %></td>
15:     <td><%= note.description %></td> 
```

我错过了配置步骤还是什么？谢谢！

这是控制器：

```
class NotesController < ApplicationController
  respond_to :html

  def index
    @notes = Note.all.entries
    respond_with @notes
  end

  def show
    @notes = Note.find params[:id]
    respond_with @notes
  end

  def new
    @notes = Note.new
    respond_with @notes
  end

  def edit
    @notes = Note.find params[:id]
    respond_with @notes
  end

  def create
    @notes = Note.create params[:notes]
    respond_with @notes
  end

  def update
    @notes = Note.find params[:id]
    @notes.update_attributes params[:notes]
    respond_with @notes
  end

  def destroy
    @notes = Note.find params[:id]
    @notes.destroy
    respond_with @notes
  end
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T08:19:45.087

这里@tasks 是零。你正在尝试迭代它。这就是为什么这个错误来了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-15T06:10:21.363

我更新到 Ruby 1.9.3 并解决了问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-24T19:12:11.943

您需要升级到 Ruby 1.9.3，请参阅：

[https://github.com/mongoid/mongoid/issues/2194](https://github.com/mongoid/mongoid/issues/2194)

# jquery - jquery：防止表单提交 ajax 验证错误

> ID：14869955
> 
> 赞同：-2
> 
> 时间：2013-02-14T07:39:47.743
> 
> 标签：jquery, ajax, forms

我有一个带有一些 ajax 验证字段的表单。（并非所有字段都使用 ajax 进行验证）

如果其中一个字段出现错误，我想阻止表单提交。

我希望它对于我使用 ajax 验证的其他表单是通用的。

1个标志不会成功。

这是错误时 ajax 字段的样子：

```
<label id="id_name_lab" class="error">name</label>
<input id="id_name" type="text" maxlength="128" name="name">
<label id="id_name_succ_icn" class="icon_succ" style="display: none;"></label>
<label id="id_name_load_icn" class="icon_load" style="display: none;"></label> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T07:45:19.547

使用 Jquery：

```
 $("form").submit(function(e) {
                e.preventDefault();
                return false;
 }); 
```

没有jQuery：

```
return false; 
```

在表单的 onsubmit 元素上。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:58:20.470

我的想法是使用回调链。

**伪代码**

```
$("form").one( "submit", function() {
    var self = this;

    // ajax validation
    $.ajax( /* ... */ )
        .done( function() {
            // call validation, if form is valid, ajaxValidation calls submit again.
            ajaxValidation( self );
        });

    // first submit is always ignored.
    e.preventDefault();
    return false;
});

function ajaxValidation( target ) {
    // check valid & call submit
} 
```

它需要上面的绑定提交处理程序，当你想要的时候。

# wcf - 在 Windows Azure 上监控数据传输？

> ID：14869959
> 
> 赞同：4
> 
> 时间：2013-02-14T07:40:02.443
> 
> 标签：wcf, azure

如何监控从 Windows Azure 上的 wcf 服务（自托管）流出的流量？进入我的压力测试应用程序的数据量似乎与我在定价页面上看到的数据量不相上下（无论如何似乎都没有实时更新）。该服务使用 https 并且消息非常小。SSL 握手流量可以忽略不计吗？我还有一个数据挖掘工作者角色，它不断从互联网下载数据，但据我所知，入站流量是免费的，所以它不应该计入 OUT 流量。

如何获得可靠的流量监控器？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-15T07:29:35.093

计费页面通常每天更新一次（每 24 小时更新一次）。因此，您需要等待很长时间才能看到压力测试结果已添加到您帐户的计费页面中。

`MONITOR`您可以监控这一点的一个地方（在您的应用程序的其他 KPI 中）是`Management Portal`. 您可以导航到正在测试的云服务，单击 MONITOR 菜单项，然后单击`Add Metric`底部的 ，最后选择`Network Out`。此监控仪表板每 5 分钟获取一次数据，因此它将反映您正在谈论的网络使用情况。

这是如何实现此目的的屏幕截图：

![云服务网络监控](../Images/004d10a56a9bb73e6e5204ece051b543.png)

您拥有的其他选项是使用[网络性能计数器](http://technet.microsoft.com/en-us/library/cc768048.aspx#XSLTsection133121120120)，例如`Network Interface : Bytes Sent/sec`. 您必须配置[Windows Azure 诊断程序](http://msdn.microsoft.com/en-us/library/windowsazure/hh411543.aspx)来[监视特定的性能计数器](http://msdn.microsoft.com/en-us/library/windowsazure/hh411520.aspx)。然后，您可以设置 1 分钟的计划传输周期，并深入研究诊断代理为数据创建的表。

PS 是的，你是对的 - `INBOUND`Azure 的数据是免费的。

# ios - iOS - 我可以将 xib 文件用于动态内容和固定内容混合的可变高度表格单元格吗

> ID：14869960
> 
> 赞同：0
> 
> 时间：2013-02-14T07:40:03.433
> 
> 标签：ios, objective-c, xcode

我正在创建一个类似 twitter 的应用程序，并且我正在为提要使用表格视图。每个表格单元格都是一个自定义单元格。我正在使用 xib 文件设计这些单元格。该单元格包含头像、评论数和动态消息块等。围绕如何构建可变高度表格单元格进行了讨论： [如何在iPhone上正确制作可变高度表格单元格？](https://stackoverflow.com/questions/1443335/how-can-i-do-variable-height-table-cells-on-the-iphone-properly)

问题是，动态内容在单元格的中间。下面是固定高度的内容。据我了解，xib 文件为每个元素提供了固定的 X 和 Y 值。我可以像“div”那样将它们堆叠在一起吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T07:52:10.450

在 IB 中，在文件检查器中（左侧面板的第一个选项卡），禁用“使用自动布局”（如果您使用 Xcode 的最新版本）然后选择大小不同的标签（正确的 twitter 消息）检查器，在尺寸检查器中，正确设置自动调整大小。周围的 4 个“事物”描述了标签是否会保持这些尺寸固定或不保持（在您的情况下，选择 4），中间的 2 个箭头描述标签是否会在调整其 parentView 大小时自动调整大小。然后rdelmar说过，你需要实现tableView委托的tableView:heightForRowAtIndexPath:方法

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:46:50.000

正确的方法是使用表视图委托方法 tableView:heightForRowAtIndexPath:。你如何做取决于你添加什么样的内容，但不知何故，你需要根据每一行的数据计算所需的单元格的大小，并返回该数字。单元格必须以这样的方式设计，并具有适当的布局约束，以便在展开时，您要展开的部分或 UI 元素（如文本视图或多行标签）正确展开。

# maven - Maven：为什么工件文件名中缺少 -SNAPSHOT 后缀？

> ID：14869962
> 
> 赞同：9
> 
> 时间：2013-02-14T07:40:19.873
> 
> 标签：maven, nexus, snapshot, artifact

我的 Maven 工件已部署到 Nexus 快照存储库。在那里，它存储在正确的目录中，但其文件名具有以下模式：

```
mylibrary-1.0-20130213.125827-2.jar 
```

但是，Maven 无法下载该快照。根据错误日志，Maven 似乎期望以下文件名：

```
mylibrary-1.0-SNAPSHOT.jar 
```

这些是我的 pom 中的存储库设置：

```
<repositories>
    <repository>
        <id>mycompany-all</id>
        <url>https://servername/nexus/content/groups/mycompany/</url>
    </repository>
</repositories>

<distributionManagement>
    <repository>
        <id>mycompany-releases</id>
        <url>https://servername/nexus/content/repositories/releases/</url>
    </repository>
    <snapshotRepository>
        <id>mycompany-snapshots</id>
        <url>https://servername/nexus/content/repositories/snapshots/</url>
    </snapshotRepository>
</distributionManagement> 
```

注意：nexus 组包括 the`releases`和`snapshots`repo。

我没有在其中配置这些存储库`settings.xml`- 是这个问题吗？还是我做错了什么？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-14T08:07:10.753

您发布的模式 ( `mylibrary-1.0-20130213.125827-2.jar`) 是一个独特的快照版本。Maven 3 强制您使用这种类型的工件命名，但在 Maven 2 中可以通过如下语句来防止它：

```
<distributionManagement>
  ...
  <snapshotRepository>
    ...
    <uniqueVersion>false</uniqueVersion>
  </snapshotRepository>
  ...
</distributionManagement> 
```

要在项目中使用特定快照，请将其声明为：

```
<dependency>
  <groupId>com.foo</groupId>
  <artifactId>mylibrary</artifactId>
  <version>1.0-20130213.125827-2</version>
</dependency> 
```

要使用最新的已知快照，请将其声明为“旧式”：

```
<dependency>
  <groupId>com.foo</groupId>
  <artifactId>mylibrary</artifactId>
  <version>1.0-SNAPSHOT</version>
</dependency> 
```

您可能会发现这个[类似问题](https://stackoverflow.com/a/2865645/474189)的答案也很有帮助。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-14T08:50:19.410

我通过将存储库添加到`settings.xml`这样的方式使其工作：

```
<repositories>
    <repository>
        <id>mycompany-releases</id>
        <url>https://servername/nexus/content/repositories/releases/</url>
        <releases><enabled>true</enabled></releases>
        <snapshots><enabled>false</enabled></snapshots>
    </repository>
    <repository>
        <id>mycompany-snapshots</id>
        <url>https://servername/nexus/content/repositories/snapshots/</url>
        <releases><enabled>false</enabled></releases>
        <snapshots><enabled>true</enabled></snapshots>
    </repository>
</repositories> 
```

然后，SNAPSHOT jar 文件就下载好了。我怀疑当 Maven 知道它处理快照存储库时，它会尝试使用和不使用 uniqueVersion（请参阅 Duncan Jones 的回答）。

请注意，在我们的例子中，这些块必须被复制，`pluginRepositories`因为我们有自定义的 Maven 插件。

# javascript - Javascript中的多维数组（或类似的东西）

> ID：14869964
> 
> 赞同：1
> 
> 时间：2013-02-14T07:40:24.057
> 
> 标签：javascript

我正在处理的网站需要在一列中列出制造商（汽车制造商）的列表，当单击制造商时，该特定制造商的型号会出现在其右侧的列中，然后将继续列出详细信息在右侧的 div 中查找该型号的可用汽车。该代码的大部分已完成，但是我需要将我的数组从一个充满对象文字的数组更改为在数组中拥有一个包含对象文字的数组。下面是我一直在尝试解决的代码（仅限数组，我可以处理其余部分），我只是不知道该怎么做才能让它正确。

任何帮助将不胜感激。

```
<div id="test"></div>

<script type="text/javascript">

var inv=new Array();
    inv["ASTON MARTIN"]=new Array(
        ["DBS"]=new Array(
            {"year":2009;"price":"$191,400"},
            {"year":2006,"price":"$160,000"});
        ["DB5"]=new Array(
            {"year":2000,"price":"$80,500"},
            {"year":1996,"price":"$100,600"});              
    );

document.getElementById('test').innerHTML = inv["ASTON MARTIN"]["DBS"][1].price;

</script> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T07:45:57.343

在你的代码中，`inv`不应该是一个数组，而是一个对象。

```
var inv = {}; 
```

您不能将字符串用作数组索引，但在您的情况下使用对象看起来不错。

第二级也是一样。

```
var inv = {};
    inv["ASTON MARTIN"] = {
        "DBS": new Array(
            {"year":2009;"price":"$191,400"},
            {"year":2006,"price":"$160,000"}),
        "DB5": new Array(
            {"year":2000,"price":"$80,500"},
            {"year":1996,"price":"$100,600"})             
    }; 
```

或者更简单：

```
var inv = {};
inv["ASTON MARTIN"] = {
    "DBS": [
        {"year":2009;"price":"$191,400"},
        {"year":2006,"price":"$160,000"}
    ],
    "DB5": [
        {"year":2000,"price":"$80,500"},
        {"year":1996,"price":"$100,600"
    ]
}; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:49:37.167

Inv 应该是对象，因为您希望按名称而不是数字索引进行索引：

```
inv = {
    "ASTON MARTIN": {
        "DBS": [
            {"year":2009;"price":"$191,400"},
            {"year":2006,"price":"$160,000"}
               ],
        "DB5": [
            {"year":2000,"price":"$80,500"},
            {"year":1996,"price":"$100,600"});              
               ]
      },
   "CAR":{
          "Type": []
       }
   }; 
```

# java - 选择布局管理器

> ID：14869967
> 
> 赞同：1
> 
> 时间：2013-02-14T07:40:29.940
> 
> 标签：java, swing, layout, layout-manager

我正在尝试以类似表格的样式设置几个标签和文本字段。

目前我正在使用 GridLayout，它可以按我的意愿工作。但是，*TextFields*和*Button*正在扩展到单元格的完整大小。

如何使*TextFields*和*Button* “正常”大小，以及 Layout Manager 会以最简单的方式完成此操作？

这是当前代码和屏幕截图：

```
 JPanel forms = new JPanel();
    forms.setLayout(new GridLayout(3, 2));

    JLabel lbl_navn = new JLabel("Virksomhedsnavn:");
    JTextField txt_navn = new JTextField();

    JLabel lbl_adresse = new JLabel("Adresse:");
    JTextField txt_adresse = new JTextField();

    forms.add(lbl_navn);
    forms.add(txt_navn);
    forms.add(lbl_adresse);
    forms.add(txt_adresse);
    forms.add(Box.createRigidArea(new Dimension(10, 10)));
    forms.add(new JButton("Opret virksomhed")); 
```

![在此处输入图像描述](../Images/c683cdccdd601380007b434ca025ca64.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-14T11:36:24.350

我建议你使用gridBagLayout： [http ://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html](http://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html)

例如：JPanel forms = new JPanel(); forms.setLayout(new GridBagLayout());

```
 JLabel lbl_navn = new JLabel("Virksomhedsnavn:");
    JTextField txt_navn = new JTextField();

    JLabel lbl_adresse = new JLabel("Adresse:");
    JTextField txt_adresse = new JTextField();
    //Setting grid bag constraints
    GridBagConstraints c = new GridBagConstraints();
    // Grid position coordinates
    c.gridx = 0; c.gridy = 0;
    //Align panel in top-left corner
    c.anchor=GridBagConstraints.LINE_START;
    forms.add(lbl_navn, c);
    c.gridx = 1; c.ipadx = 195;
    forms.add(txt_navn, c);
    c.gridy = 1; c.gridx = 0; c.ipadx = 0;
    forms.add(lbl_adresse, c);
    c.gridx = 1; c.ipadx = 195;
    forms.add(txt_adresse,c);
    c.gridy = 2; c.gridx     = 0; c.ipadx = 0;
    forms.add(Box.createRigidArea(new Dimension(10, 10)),c);

    c.anchor=GridBagConstraints.CENTER;
    c.gridy = 2; c.gridx = 1;
    forms.add(new JButton("Opret virksomhed"),c); 
```

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T18:24:59.260

前段时间读到了关于 Mig 布局的好东西，我没用过，但看起来很强大。检查此[Mig 布局](http://www.miglayout.com/)，可能是解决您问题的好方法。

更新： Mig 布局不是来自 sun/oracle 的“标准”布局。

如前所述，GridBagLayout 可以实现您的目标（根据经验）。我个人想要使用固定尺寸的组件来处理“空布局”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T07:51:33.370

I think you can refer to this question where useful answers have been given: [JTextField Fixed Height](https://stackoverflow.com/questions/5518713/jtextfield-fixed-height)

# powershell - 使用 SCVMM Powershell cmdlet：New-SCVirtualDiskDrive 用法

> ID：14869973
> 
> 赞同：1
> 
> 时间：2013-02-14T07:41:02.577
> 
> 标签：powershell, hyper-v

我已经下载[了 DDCTK-H SCVMM 2012 Samples](http://code.msdn.microsoft.com/DDTKH-v31-SCVMM-2012-RC-64360146)并稍微修改了 wcf 项目以使用 SCVMM 2012 的全部功能。

我的目的是从现有的 vhd 创建一个 vm。现在我可以创建一个虚拟机，但我无法成功创建一个带有硬盘的虚拟机。现在我放弃尝试用现有的 vhd 来做这件事，并想用空的 IDE 硬盘创建一个 vm。

我尝试在 SCVMM 2012 的 Virtual Manager Console 上创建一个具有现有独立 vhd 的 vm。为此有一个向导，最后通过单击“查看脚本”，您可以查看此作业所需的所有脚本。

```
New-SCVirtualScsiAdapter -VMMServer localhost -JobGroup 10a46201-6b94-493f-b402-1e2b46911580 -AdapterID 7 -ShareVirtualScsiAdapter $false -ScsiControllerType DefaultTypeNoType 

New-SCVirtualDVDDrive -VMMServer localhost -JobGroup 10a46201-6b94-493f-b402-1e2b46911580 -Bus 1 -LUN 0 

New-SCVirtualNetworkAdapter -VMMServer localhost -JobGroup 10a46201-6b94-493f-b402-1e2b46911580 -MACAddressType Dynamic -Synthetic -EnableVMNetworkOptimization $false 

Set-SCVirtualCOMPort -NoAttach -VMMServer localhost -GuestPort 1 -JobGroup 10a46201-6b94-493f-b402-1e2b46911580 

Set-SCVirtualCOMPort -NoAttach -VMMServer localhost -GuestPort 2 -JobGroup 10a46201-6b94-493f-b402-1e2b46911580 

Set-SCVirtualFloppyDrive -RunAsynchronously -VMMServer localhost -NoMedia -JobGroup 10a46201-6b94-493f-b402-1e2b46911580 

$CPUType = Get-SCCPUType -VMMServer localhost | where {$_.Name -eq "3.60 GHz Xeon (2 MB L2 cache)"}

New-SCHardwareProfile -VMMServer localhost -CPUType $CPUType -Name "Profile865cc017-4009-4ab3-9b58-0210f1d70daa" -Description "Profile used to create a VM/Template" -CPUCount 1 -MemoryMB 512 -DynamicMemoryEnabled $false -MemoryWeight 5000 -VirtualVideoAdapterEnabled $false -CPUExpectedUtilizationPercent 20 -DiskIops 0 -CPUMaximumPercent 100 -CPUReserve 0 -NumaIsolationRequired $false -NetworkUtilizationMbps 0 -CPURelativeWeight 100 -HighlyAvailable $false -DRProtectionRequired $false -NumLock $false -BootOrder "CD", "IdeHardDrive", "PxeBoot", "Floppy" -CPULimitFunctionality $false -CPULimitForMigration $false -JobGroup 10a46201-6b94-493f-b402-1e2b46911580 

New-SCVirtualDiskDrive -VMMServer localhost -IDE -Bus 0 -LUN 0 -JobGroup 10a46201-6b94-493f-b402-1e2b46911580 -VirtualHardDiskSizeMB 40960 -Dynamic -Filename "aaa_disk_1" -VolumeType BootAndSystem 

$HardwareProfile = Get-SCHardwareProfile -VMMServer localhost | where {$_.Name -eq "Profile865cc017-4009-4ab3-9b58-0210f1d70daa"}

New-SCVMTemplate -Name "Temporary Template94a74fb9-9cab-4e22-b653-91c5778732cb" -HardwareProfile $HardwareProfile -JobGroup 10a46201-6b94-493f-b402-1e2b46911580 -NoCustomization 

$template = Get-SCVMTemplate -All | where { $_.Name -eq "Temporary Template94a74fb9-9cab-4e22-b653-91c5778732cb" }
$virtualMachineConfiguration = New-SCVMConfiguration -VMTemplate $template -Name "aaa"
Write-Output $virtualMachineConfiguration
$cloud = Get-SCCloud -Name "MyVMCloud"
New-SCVirtualMachine -Name "aaa" -VMConfiguration $virtualMachineConfiguration -Cloud     $cloud -Description "bbb" -JobGroup "10a46201-6b94-493f-b402-1e2b46911580" -ReturnImmediately -StartAction "NeverAutoTurnOnVM" -StopAction "SaveVM" 
```

使用这些 ps 脚本，我可以创建一个带有空硬盘的虚拟机；这对我来说很酷。所以我试图简化脚本，因为我不想在 DDCTK-H 示例中实现 SCVMM 2012 的全部功能。

```
public interface IManagementService
{
    VirtualDiskDriveInfo NewVirtualDiskDriveFromAnyHostDiskToJobGroup(string scvmmServerName, int port, bool anyStorageDisk, byte bus, VHDBusTypeInfo busType, byte lun, Guid jobGroup, bool bootVolume = false, string jobVariable = null, Guid proTipID = default(Guid), bool returnImmediately = false, bool runAsynchronously = false, Guid storageClassificationID = default(Guid), bool systemVolume = false, VolumeTypeInfo volumeType = VolumeTypeInfo.None);
    VirtualDiskDriveInfo NewVirtualDiskDriveFromAnyHostDiskToTemplate(string scvmmServerName, int port, bool anyStorageDisk, byte bus, VHDBusTypeInfo busType, byte lun, Guid VMTemplateID, bool bootVolume = false, string jobVariable = null, Guid proTipID = default(Guid), bool returnImmediately = false, bool runAsynchronously = false, Guid storageClassificationID = default(Guid), bool systemVolume = false, VolumeTypeInfo volumeType = VolumeTypeInfo.None);
    VirtualDiskDriveInfo NewVirtualDiskDriveFromExistingHostVHDToVM(string scvmmServerName, int port, byte bus, VHDBusTypeInfo busType, byte lun, string fileName, string path, bool useLocalVirtualHardDisk, Guid vmID, Guid jobGroup = default(Guid), bool bootVolume = false, string jobVariable = null, Guid proTipID = default(Guid), bool returnImmediately = false, bool runAsynchronously = false, Guid storageClassificationID = default(Guid), bool systemVolume = false, VolumeTypeInfo volumeType = VolumeTypeInfo.None);
    VirtualDiskDriveInfo NewVirtualDiskDriveFromExistingVHDToJobGroup(string scvmmServerName, int port, byte bus, VHDBusTypeInfo busType, byte lun, Guid virtualHardDiskID, Guid jobGroup, bool bootVolume = false, string jobVariable = null, Guid proTipID = default(Guid), bool returnImmediately = false, bool runAsynchronously = false, Guid storageClassificationID = default(Guid), bool systemVolume = false, VolumeTypeInfo volumeType = VolumeTypeInfo.None);
    VirtualDiskDriveInfo NewVirtualDiskDriveFromExistingVHDToTemplate(string scvmmServerName, int port, byte bus, VHDBusTypeInfo busType, byte lun, Guid virtualHardDiskID, Guid vmTemplateID, bool bootVolume = false, string jobVariable = null, Guid proTipID = default(Guid), bool returnImmediately = false, bool runAsynchronously = false, Guid storageClassificationID = default(Guid), bool systemVolume = false, VolumeTypeInfo volumeType = VolumeTypeInfo.None);
    VirtualDiskDriveInfo NewVirtualDiskDriveFromExistingVHDToVM(string scvmmServerName, int port, byte bus, VHDBusTypeInfo busType, byte lun, Guid virtualHardDiskID, Guid vmID, bool bootVolume = false, string jobVariable = null, Guid proTipID = default(Guid), bool returnImmediately = false, bool runAsynchronously = false, Guid storageClassificationID = default(Guid), bool systemVolume = false, VolumeTypeInfo volumeType = VolumeTypeInfo.None);
    VirtualDiskDriveInfo NewVirtualDiskDriveFromHostDiskToJobGroup(string scvmmServerName, int port, byte bus, VHDBusTypeInfo busType, byte lun, Guid jobGroup, Guid storageDiskID, bool bootVolume = false, string jobVariable = null, Guid proTipID = default(Guid), bool returnImmediately = false, bool runAsynchronously = false, Guid storageClassificationID = default(Guid), bool systemVolume = false, VolumeTypeInfo volumeType = VolumeTypeInfo.None);
    VirtualDiskDriveInfo NewVirtualDiskDriveFromHostDiskToVM(string scvmmServerName, int port, byte bus, VHDBusTypeInfo busType, byte lun, Guid storageDiskID, Guid vmID, bool bootVolume = false, string jobVariable = null, Guid proTipID = default(Guid), bool returnImmediately = false, bool runAsynchronously = false, Guid storageClassificationID = default(Guid), bool systemVolume = false, VolumeTypeInfo volumeType = VolumeTypeInfo.None);
    VirtualDiskDriveInfo NewVirtualDiskDriveFromNewToJobGroup(string scvmmServerName, int port, byte bus, VHDBusTypeInfo busType, byte lun, string fileName, Guid jobGroup, long virtualHardDiskSizeMB, bool isFixed = false, bool bootVolume = false, string jobVariable = null, Guid proTipID = default(Guid), bool returnImmediately = false, bool runAsynchronously = false, Guid storageClassificationID = default(Guid), bool systemVolume = false, VolumeTypeInfo volumeType = VolumeTypeInfo.None);
    VirtualDiskDriveInfo NewVirtualDiskDriveFromNewToTemplate(string scvmmServerName, int port, byte bus, VHDBusTypeInfo busType, byte lun, string fileName, long virtualHardDiskSizeMB, Guid vmTemplateID, bool isFixed = false, bool bootVolume = false, string jobVariable = null, Guid proTipID = default(Guid), bool returnImmediately = false, bool runAsynchronously = false, Guid storageClassificationID = default(Guid), bool systemVolume = false, VolumeTypeInfo volumeType = VolumeTypeInfo.None);
    VirtualDiskDriveInfo NewVirtualDiskDriveFromNewToVM(string scvmmServerName, int port, byte bus, VHDBusTypeInfo busType, byte lun, string fileName, long virtualHardDiskSizeMB, Guid vmID, bool isFixed = false, bool bootVolume = false, string jobVariable = null, Guid proTipID = default(Guid), bool returnImmediately = false, bool runAsynchronously = false, Guid storageClassificationID = default(Guid), bool systemVolume = false, VolumeTypeInfo volumeType = VolumeTypeInfo.None);

    //many more methods goes here...

    VMInfo NewStoredVirtualMachineFromHardwareProfile(string scvmmServerName, int port, string name, Guid libraryServerID, string sharePath = null, byte? cpuCount = null, bool? cpuLimitForMigration = null, bool? cpuLimitFuntionality = null, ushort? cpuRelativeWeight = null, Guid cpuTypeID = default(Guid), ushort? delayStartSeconds = null, string description = null, ushort? dynamicMemoryBufferPercentage = null, bool? dynamicMemoryEnabled = null, ushort? dynamicMemoryMaximumMB = null, Guid hardwareProfileID = default(Guid), Guid jobGroup = default(Guid), string jobVariable = null, ushort? memoryMB = null, ushort? memoryWeight = null, ushort? monitorMaximumCount = null, string monitorMaximumResolution = null, Guid operatingSystemID = default(Guid), string owner = null, Guid proTipID = default(Guid), bool returnImmediately = false, bool runAsynchronously = false, bool skipInstallVirtualizationGuestServices = false, VMStartActionInfo? startAction = null, VMStopActionInfo? stopAction = null, bool useLocalVirtualHardDisk = false, Guid userRoleID = default(Guid), bool? virtualVideoAdapterEnabled = null);
    VMInfo NewStoredVirtualMachineFromVirtualDisk(string scvmmServerName, int port, string name, Guid libraryServerID, string sharePath = null, Guid virtualHardDiskID = default(Guid), byte? cpuCount = null, bool? cpuLimitForMigration = null, bool? cpuLimitFuntionality = null, ushort? cpuRelativeWeight = null, Guid cpuTypeID = default(Guid), ushort? delayStartSeconds = null, string description = null, ushort? dynamicMemoryBufferPercentage = null, bool? dynamicMemoryEnabled = null, ushort? dynamicMemoryMaximumMB = null, Guid hardwareProfileID = default(Guid), Guid jobGroup = default(Guid), string jobVariable = null, ushort? memoryMB = null, ushort? memoryWeight = null, ushort? monitorMaximumCount = null, string monitorMaximumResolution = null, Guid operatingSystemID = default(Guid), string owner = null, Guid proTipID = default(Guid), bool returnImmediately = false, bool runAsynchronously = false, bool skipInstallVirtualizationGuestServices = false, VMStartActionInfo? startAction = null, VMStopActionInfo? stopAction = null, bool useLocalVirtualHardDisk = false, Guid userRoleID = default(Guid), bool? virtualVideoAdapterEnabled = null);
    VMInfo NewStoredVirtualMachineFromVirtualMachine(string scvmmServerName, int port, string name, Guid libraryServerID, string sharePath = null, Guid vmID = default(Guid), byte? cpuCount = null, bool? cpuLimitForMigration = null, bool? cpuLimitFuntionality = null, ushort? cpuRelativeWeight = null, Guid cpuTypeID = default(Guid), ushort? delayStartSeconds = null, string description = null, ushort? dynamicMemoryBufferPercentage = null, bool? dynamicMemoryEnabled = null, ushort? dynamicMemoryMaximumMB = null, Guid hardwareProfileID = default(Guid), Guid jobGroup = default(Guid), string jobVariable = null, ushort? memoryMB = null, ushort? memoryWeight = null, ushort? monitorMaximumCount = null, string monitorMaximumResolution = null, Guid operatingSystemID = default(Guid), string owner = null, Guid proTipID = default(Guid), bool returnImmediately = false, bool runAsynchronously = false, bool skipInstallVirtualizationGuestServices = false, VMStartActionInfo? startAction = null, VMStopActionInfo? stopAction = null, bool useLocalVirtualHardDisk = false, Guid userRoleID = default(Guid), bool? virtualVideoAdapterEnabled = null);
    VMInfo NewVirtualMachineFromComputerTierScaleOut(string scvmmServerName, int port, string name, Guid computerTierID, string computerName = null, byte? cpuCount = null, bool? cpuLimitForMigration = null, bool? cpuLimitFuntionality = null, ushort? cpuRelativeWeight = null, Guid cpuTypeID = default(Guid), ushort? delayStartSeconds = null, string description = null, ushort? dynamicMemoryBufferPercentage = null, bool? dynamicMemoryEnabled = null, ushort? dynamicMemoryMaximumMB = null, Guid hardwareProfileID = default(Guid), Guid jobGroup = default(Guid), string jobVariable = null, ushort? memoryMB = null, ushort? memoryWeight = null, ushort? monitorMaximumCount = null, string monitorMaximumResolution = null, Guid operatingSystemID = default(Guid), string owner = null, Guid proTipID = default(Guid), bool returnImmediately = false, bool runAsynchronously = false, bool skipInstallVirtualizationGuestServices = false, VMStartActionInfo? startAction = null, VMStopActionInfo? stopAction = null, bool useLocalVirtualHardDisk = false, Guid userRoleID = default(Guid), bool? virtualVideoAdapterEnabled = null);
    VMInfo NewVirtualMachineFromHardwareProfile(string scvmmServerName, int port, string name, string path, Guid vmHostID, bool blockDynamicOptimization = false, byte? cpuCount = null, bool? cpuLimitForMigration = null, bool? cpuLimitFuntionality = null, ushort? cpuRelativeWeight = null, Guid cpuTypeID = default(Guid), ushort? delayStartSeconds = null, string description = null, ushort? dynamicMemoryBufferPercentage = null, bool? dynamicMemoryEnabled = null, ushort? dynamicMemoryMaximumMB = null, Guid hardwareProfileID = default(Guid), bool? highlyAvailable = null, Guid jobGroup = default(Guid), string jobVariable = null, ushort? memoryMB = null, ushort? memoryWeight = null, ushort? monitorMaximumCount = null, string monitorMaximumResolution = null, Guid operatingSystemID = default(Guid), string owner = null, Guid proTipID = default(Guid), bool returnImmediately = false, bool runAsynchronously = false, bool skipInstallVirtualizationGuestServices = false, VMStartActionInfo? startAction = null, bool startVM = false, VMStopActionInfo? stopAction = null, bool useLocalVirtualHardDisk = false, Guid userRoleID = default(Guid), bool? virtualVideoAdapterEnabled = null);
    VMInfo NewVirtualMachineFromTemplate(string scvmmServerName, int port, string name, string path, Guid vmHostID, Guid vmTemplateID, Guid answerFileID, bool blockDynamicOptimization = false, string computerName = null, byte? cpuCount = null, bool? cpuLimitForMigration = null, bool? cpuLimitFuntionality = null, ushort? cpuRelativeWeight = null, Guid cpuTypeID = default(Guid), ushort? delayStartSeconds = null, string description = null, string domain = null, /*Microsoft.SystemCenter.VirtualMachineManager.Cmdlets.VMMCredential*/object domainJoinCredential = null, ushort? dynamicMemoryBufferPercentage = null, bool? dynamicMemoryEnabled = null, ushort? dynamicMemoryMaximumMB = null, string fullName = null, /*Microsoft.SystemCenter.VirtualMachineManager.GuestOSProfile*/object guestOSProfile = null, string[] guiRunOnceCommands = null, Guid hardwareProfileID = default(Guid), bool? highlyAvailable = null, Guid jobGroup = default(Guid), string jobVariable = null, ushort? memoryMB = null, ushort? memoryWeight = null, bool? mergeAnswerFile = null, ushort? monitorMaximumCount = null, string monitorMaximumResolution = null, Guid operatingSystemID = default(Guid), string organizationName = null, string owner = null, string productKey = null, Guid proTipID = default(Guid), bool returnImmediately = false, bool runAsynchronously = false, bool skipInstallVirtualizationGuestServices = false, VMStartActionInfo? startAction = null, bool startVM = false, VMStopActionInfo? stopAction = null, int? timeZone = null, bool useLocalVirtualHardDisk = false, Guid userRoleID = default(Guid), bool? virtualVideoAdapterEnabled = null, string workgroup = null);
    VMInfo NewVirtualMachineFromVirtualDisk(string scvmmServerName, int port, string name, string path, Guid virtualHardDiskID, Guid vmHostID, bool? blockDynamicOptimization = null, byte? cpuCount = null, bool? cpuLimitForMigration = null, bool? cpuLimitFuntionality = null, ushort? cpuRelativeWeight = null, Guid cpuTypeID = default(Guid), ushort? delayStartSeconds = null, string description = null, ushort? dynamicMemoryBufferPercentage = null, bool? dynamicMemoryEnabled = null, ushort? dynamicMemoryMaximumMB = null, Guid hardwareProfileID = default(Guid), bool? highlyAvailable = null, Guid jobGroup = default(Guid), string jobVariable = null, ushort? memoryMB = null, ushort? memoryWeight = null, ushort? monitorMaximumCount = null, string monitorMaximumResolution = null, Guid operatingSystemID = default(Guid), string owner = null, Guid proTipID = default(Guid), bool returnImmediately = false, bool runAsynchronously = false, bool skipInstallVirtualizationGuestServices = false, VMStartActionInfo? startAction = null, bool startVM = false, VMStopActionInfo? stopAction = null, bool useLocalVirtualHardDisk = false, Guid userRoleID = default(Guid), bool? virtualVideoAdapterEnabled = null);
    VMInfo NewVirtualMachineFromVirtualMachine(string scvmmServerName, int port, string name, string path, Guid vmID, Guid vmHostID, byte? cpuCount = null, bool? cpuLimitForMigration = null, bool? cpuLimitFuntionality = null, ushort? cpuRelativeWeight = null, Guid cpuTypeID = default(Guid), ushort? delayStartSeconds = null, string description = null, ushort? dynamicMemoryBufferPercentage = null, bool? dynamicMemoryEnabled = null, ushort? dynamicMemoryMaximumMB = null, Guid hardwareProfileID = default(Guid), bool? highlyAvailable = null, Guid jobGroup = default(Guid), string jobVariable = null, ushort? memoryMB = null, ushort? memoryWeight = null, ushort? monitorMaximumCount = null, string monitorMaximumResolution = null, Guid operatingSystemID = default(Guid), string owner = null, Guid proTipID = default(Guid), bool returnImmediately = false, bool runAsynchronously = false, bool skipInstallVirtualizationGuestServices = false, VMStartActionInfo? startAction = null, bool startVM = false, VMStopActionInfo? stopAction = null, bool useLocalVirtualHardDisk = false, Guid userRoleID = default(Guid), bool? virtualVideoAdapterEnabled = null);
    VMInfo NewVirtualMachineFromVirtualMachineCloud(string scvmmServerName, int port, string name, Guid cloudID, Guid vmID, Guid capabilityProfile = default(Guid), byte? cpuCount = null, bool? cpuLimitForMigration = null, bool? cpuLimitFuntionality = null, ushort? cpuRelativeWeight = null, Guid cpuTypeID = default(Guid), ushort? delayStartSeconds = null, string description = null, ushort? dynamicMemoryBufferPercentage = null, bool? dynamicMemoryEnabled = null, ushort? dynamicMemoryMaximumMB = null, Guid hardwareProfileID = default(Guid), bool? highlyAvailable = null, Guid jobGroup = default(Guid), string jobVariable = null, ushort? memoryMB = null, ushort? memoryWeight = null, ushort? monitorMaximumCount = null, string monitorMaximumResolution = null, Guid operatingSystemID = default(Guid), string owner = null, Guid proTipID = default(Guid), bool returnImmediately = false, bool runAsynchronously = false, Guid selfServiceUserRole = default(Guid), bool skipInstallVirtualizationGuestServices = false, VMStartActionInfo? startAction = null, bool startVM = false, VMStopActionInfo? stopAction = null, bool storeToLibrary = false, int? timeZone = null, bool useLocalVirtualHardDisk = false, Guid userRoleID = default(Guid), bool? virtualVideoAdapterEnabled = null, string workgroup = null);
    VMInfo NewVirtualMachineFromVirtualMachineConfiguration(string scvmmServerName, int port, string name, Guid vmConfigurationID, Guid answerFileID, bool? blockDynamicOptimization = null, Guid capabilityProfileID = default(Guid), Guid cloudID = default(Guid), string computerName = null, byte? cpuCount = null, bool? cpuLimitForMigration = null, bool? cpuLimitFuntionality = null, ushort? cpuRelativeWeight = null, Guid cpuTypeID = default(Guid), ushort? delayStartSeconds = null, string description = null, string domain = null, /*Microsoft.SystemCenter.VirtualMachineManager.Cmdlets.VMMCredential*/object domainJoinCredential = null, ushort? dynamicMemoryBufferPercentage = null, bool? dynamicMemoryEnabled = null, ushort? dynamicMemoryMaximumMB = null, string fullName = null, /*Microsoft.SystemCenter.VirtualMachineManager.GuestOSProfile*/object guestOSProfile = null, string[] guiRunOnceCommands = null, Guid hardwareProfileID = default(Guid), Guid jobGroup = default(Guid), string jobVariable = null, /*Microsoft.SystemCenter.VirtualMachineManager.Cmdlets.VMMCredential*/object localAdministratorCredential = null, ushort? memoryMB = null, ushort? memoryWeight = null, bool? mergeAnswerFile = null, ushort? monitorMaximumCount = null, string monitorMaximumResolution = null, Guid operatingSystemID = default(Guid), string organizationName = null, string owner = null, string productKey = null, Guid proTipID = default(Guid), bool returnImmediately = false, bool runAsynchronously = false, Guid selfServiceRoleID = default(Guid), bool skipInstallVirtualizationGuestServices = false, VMStartActionInfo? startAction = null, bool startVM = false, VMStopActionInfo? stopAction = null, bool storeToLibrary = false, int? timeZone = null, bool useLocalVirtualHardDisk = false, Guid userRoleID = default(Guid), bool? virtualVideoAdapterEnabled = null, string workgroup = null);
    VMInfo NewVirtualMachineFromVirtualMachineConfigurationScaleOut(string scvmmServerName, int port, string name, Guid vmConfigurationScaleOutID, byte? cpuCount = null, bool? cpuLimitForMigration = null, bool? cpuLimitFuntionality = null, ushort? cpuRelativeWeight = null, Guid cpuTypeID = default(Guid), ushort? delayStartSeconds = null, string description = null, ushort? dynamicMemoryBufferPercentage = null, bool? dynamicMemoryEnabled = null, ushort? dynamicMemoryMaximumMB = null, Guid hardwareProfileID = default(Guid), bool? highlyAvailable = null, Guid jobGroup = default(Guid), string jobVariable = null, ushort? memoryMB = null, ushort? memoryWeight = null, ushort? monitorMaximumCount = null, string monitorMaximumResolution = null, Guid operatingSystemID = default(Guid), string owner = null, Guid proTipID = default(Guid), bool returnImmediately = false, bool runAsynchronously = false, bool skipInstallVirtualizationGuestServices = false, VMStartActionInfo? startAction = null, VMStopActionInfo? stopAction = null, bool useLocalVirtualHardDisk = false, Guid userRoleID = default(Guid), bool? virtualVideoAdapterEnabled = null);
} 
```

我已经像这样使用了这些服务方法；

```
private void CreateNewVM(ManagementServiceClient service)
{
    using (VMInfoForm vmForm = new VMInfoForm(null))
    {
        DialogResult result = vmForm.ShowDialog(this);
        if (result != System.Windows.Forms.DialogResult.OK)
            return;

        Guid jg = Guid.NewGuid();
        VirtualHardDiskInfo vhdiX = service.GetVirtualHardDiskByName(tbIP.Text, int.Parse(tbPort.Text), "X.vhd");
        VirtualDiskDriveInfo vdd = service.NewVirtualDiskDriveFromNewToJobGroup(tbIP.Text, int.Parse(tbPort.Text), 0, VHDBusTypeInfo.IDE, 0, string.Format("{0}_{1}", vmForm.VMName, "disk"), jg, 40960, volumeType: VolumeTypeInfo.BootAndSystem);
        VMInfo vm = service.NewVirtualMachineFromVirtualDisk(tbIP.Text, int.Parse(tbPort.Text), vmForm.VMName, @"C:\ProgramData\Microsoft\Windows\Hyper-V", vhdiX.ID, host.ID, returnImmediately: false, startAction: VMStartActionInfo.NeverAutoTurnOnVM, stopAction: VMStopActionInfo.SaveVM, jobGroup: jg);
        RefreshVMs(service); // Refresh the listbox of vm's.
    }
} 
```

这段代码成功创建了一个虚拟机；但是，它没有附加磁盘。在我看来，我错过了一些东西。根据[New-SCVirtualDiskDrive](http://technet.microsoft.com/en-us/library/hh801674.aspx) cmdlet 的文档，它创建一个虚拟硬盘驱动器，并作为返回值返回创建的磁盘对象（VirtualDiskDrive 的一个实例）。即使它成功执行，它也不会返回任何值。

顺便说一句，我还尝试使用以下代码的 ps 脚本版本并且它有效：创建了一个带有空硬盘的新虚拟机。

所以 New-SCVirtualDiskDrive cmdlet 存在问题。如何解决这个问题呢？你能帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-05-06T17:58:25.463

从查看脚本选项使用库服务器中的现有 VHD 创建 VM 将是：

```
New-SCVirtualDiskDrive -VMMServer $FQDNName -IDE -Bus 0 -LUN 0 -JobGroup $virtualDiskguid -CreateDiffDisk $false -virtualHardDisk $virtualHardDisk -VolumeType BootAndSystem -Verbose 
```

其中`$JobGroup`是一组步骤一起执行时生成的uniqueID。

# c++ - 引发未处理的异常

> ID：14869977
> 
> 赞同：4
> 
> 时间：2013-02-14T07:41:29.990
> 
> 标签：c++, windows, exception

我想测试一堆“应用程序崩溃转储生成器”，比如好老[的 Watson 博士](http://blogs.technet.com/b/askperf/archive/2007/06/15/capturing-application-crash-dumps.aspx)。

在 C/C++ 中因未处理的异常引发应用程序崩溃的最简单方法是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-14T07:47:06.373

虽然从技术上讲，取消引用`NULL`指针只是一种未定义的行为，而不是保证崩溃，但实际上它几乎绝对肯定会崩溃：

```
(*((int*)0))=0; 
```

# wordpress - 为自定义 wordpress 帖子类型创建常规链接

> ID：14869978
> 
> 赞同：0
> 
> 时间：2013-02-14T07:41:33.163
> 
> 标签：wordpress

我正在尝试将链接添加到现有插件的管理菜单。此链接应指向服务器上从服务器下载 csv 文件的脚本。

我添加了这一行 - ***'all_items' => __( 'Download Donors', 'pfund' ),***并且“Download Donors”选项出现在菜单中。目前该项目指向edit.php。**如何让这个链接指向 csv 生成脚本所在的插件文件夹？**

```
$campaign_def = array(
        'public' => true,
        'query_var' => 'pfund_campaign',
        'rewrite' => array(
            'slug' => $pfund_options['campaign_slug'],
            'with_front' => false
        ),
        'hierarchical' => true,
        'label' => __( 'Campaigns', 'pfund' ),
        'labels' => array(
            'name' => __( 'Campaigns', 'pfund' ),
            'singular_name' => __( 'Campaign', 'pfund' ),
            'add_new' => __( 'Add New Campaign', 'pfund' ),
            'add_new_item' => __( 'Add New Campaign', 'pfund' ),
            'download_donors' => __( 'Download Donors', 'pfund' ),
            'all_items' => __( 'Download Donors', 'pfund' ),
            'edit_item' => __( 'Edit Campaign', 'pfund' ),
            'view_item' => __( 'View Campaign', 'pfund' ),
            'search_items' => __( 'Search Campaigns', 'pfund' ),
            'not_found' => __( 'No Campaigns Found', 'pfund' ),
            'not_found_in_trash' => __( 'No Campaigns Found In Trash', 'pfund' ),
        ),
        'supports' => array(
            'title'
        ),
        'capabilities' => array(
            'edit_post' => 'edit_campaign'
        ),
        'map_meta_cap' => true
    );
    register_post_type( 'pfund_campaign', $campaign_def );
    register_post_type( 'pfund_campaign_list' ); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T09:52:14.590

do not double post again, please.

try this:

```
add_filter('post_row_actions','download_donors', 10, 2);

function download_donors($actions, $post){
    //check for your post type
    if ($post->post_type =="pfund_campaign"){
        //remove the default edit
        unset($actions['edit']);
        //set new action
        $actions['download_donors'] = '<a href="http://www.google.com">Download Donors</a>';
    }
    return $actions;
} 
```

# php - RIA 中 JavaScript 中基于角色的安全性

> ID：14869985
> 
> 赞同：1
> 
> 时间：2013-02-14T07:41:53.980
> 
> 标签：php, javascript, extjs, security, ria

我正在尝试学习用 JavaScript 开发 Web 应用程序，为此我正在开发一个简单的时间跟踪应用程序。我正在使用 ExtJS 开发它以动态创建 UI。

这将允许员工提交他们在不同项目上花费的时间，并允许经理将项目添加到用户等等。

用户登录后，我确定他们的角色，并提供适当的 UI（通过 JavaScript）。

我想知道这样做最好和最安全的方法是什么？（我当然是在服务器端检查授权，所以没有人可以通过 http get/post 调用我的 PHP 服务来进行更改）

我从不允许未经授权的人的角度询问，甚至通过摆弄 JavaScript（例如从 FireBug 控制台）来查看未经授权的 UI。

我正在考虑创建一个服务，它通过 JSONP 返回用于创建适当 UI 的适当脚本。对我来说感觉很*WTF-ey*，所以我想知道是否有更好的方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T18:31:48.723

以 naugtur 的评论为基础。您必须始终假设会有一个非常聪明的人可以为他/她自己构建 UI，或者伪造任何 UI 的任何部分都可以执行的对服务器的调用。

基于此，您在问题结束时建议的方式的前提似乎一开始就被揭穿了。一旦我们解决了这个问题（我假设您制作了一个单页应用程序），最简单的方法是始终在登录屏幕上直接转储所有 javascript 代码，并且只允许用户根据他们的需求查看他们需要的内容角色（例如，每个角色都有不同卡片的卡片面板就是一个例子）。

我还想在应用程序的后端添加一点，您应该始终进行安全检查，以确保用户对于他正在执行的任何操作都具有正确的角色。如果您的应用程序面向互联网，这是必要的，总会有那个用户会查看您的代码，看看他可以恶意做什么或只是为了好玩......或者那个想看看他会发生什么的人使用调试器创建他自己的具有不同参数的虚假 ajax 调用。

# javascript - JavaScript 改变 css

> ID：14869989
> 
> 赞同：0
> 
> 时间：2013-02-14T07:42:27.937
> 
> 标签：javascript, css

```
var html = '<table style="width: 100%;border:0.5px solid white; border-spacing:0px; nth-child(even) {color:#ffffff;}"><tr style="background-color:#E9EDDB;padding-top:5px;"><td id="serNum" style="font-family:Segoe UI;font-size:16px;color:#000;text-align:center;width:5%;">' + count + '</td><td style="width: 30%; text-align: left;font-family:Segoe UI;font-size:16px;color:#000;height:auto;overflow-x:none;"><span id="taskDesc" style="">' + i.Description + '</span></td><td style="width: 8%;padding-left:5px; text-align: left;font-family:Segoe UI;font-size:16px;color:#000;"><span id="taskPriority">' + i.Priority + '</span></td><td style="width: 8%; text-align: left;font-family:Segoe UI;font-size:16px;color:#000;"><span id="taskType">' + i.Status + '</span></td><td style="width: 15%; text-align: left;font-family:Segoe UI;font-size:16px;color:#000;"><span id="taskDesc">johnsmith- ' + creatdDate + '</span></td><td style="width: 15%; text-align: left;font-family:Segoe UI;font-size:16px;color:#000;"><span style="display:none" id="taskID">' + i.ID + '</span><select id="dropDown" name="dropDown"><option value="default" SELECTED>Select</option><option value="deleteTask" >DeleteTask</option><option value="createRmndr">CreateReminder</option></select></td></tr></table>';
           items.push(html);
           count++; 
```

将为我的项目生成大量列我想更改奇数列的颜色，但我无法更改它任何人都可以告诉我如何更改奇数列和偶数列的背景颜色。我已经尝试过这个 css 但这个属性在 JavaScript 中不起作用所以请告诉我如何做到这一点..

```
nth-child(odd)
{ 
    background:#ff0000;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-14T07:44:26.827

您必须使用`!important`关键字来覆盖应用于表格的内联样式。

```
nth-child(odd)
{ 
   background:#ff0000 !important;
} 
```

这必须放在样式表中，并且**不能用于 inline**。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-14T07:44:19.107

```
td:nth-child(odd) {  
  color: #ccc;
} 
```

来自：[http ://css-tricks.com/how-nth-child-works/](http://css-tricks.com/how-nth-child-works/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-14T07:48:23.680

您必须指定什么元素的[nth-child](http://www.w3schools.com/cssref/sel_nth-child.asp)，语法：`element:nth-child(n) { style properties }`

```
td:nth-child(odd)
{ 
   background:#ff0000;
} 
```

# intuit-partner-platform - 从 QuickBooks Online 获取货币

> ID：14869991
> 
> 赞同：1
> 
> 时间：2013-02-14T07:42:36.163
> 
> 标签：intuit-partner-platform, quickbooks-online

我正在尝试将发票从快速书同步到我的应用程序。我需要客户使用的货币还是发票货币？

是否有任何 API 可以从 Quickbooks Online 获取货币。我正在使用 PHP 开发工具包（IPP）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-14T13:15:49.933

QBO IDS V2 没有获取货币的 API。在 IDS V3 中，货币是公开的。

# ms-word - RDLC 导出到 Word 显示空白的额外页面

> ID：14869995
> 
> 赞同：3
> 
> 时间：2013-02-14T07:42:44.190
> 
> 标签：ms-word, rdlc

我在 VS 2010 中使用 RDLC 并将图形导出到 word 文档会提供一个额外的空白页（虽然它没有在 PDF 中显示）。报告、图表和正文中的所有尺寸都设置为 11x8.5，没有边距。我只是想知道什么可能导致Word中的空白页。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T09:43:12.123

我遇到了完全相同的问题，并通过调整报告的布局设法解决了这个问题。

基本上，我将所有的矩形/表格等移动到彼此紧挨着的位置，尽可能消除任何空白，并将报告的大小调整为尽可能小，即紧靠其内容。

将报告选项启用为“ConsumeContainerWhitespace”可能也是值得的。

我怀疑 Word 使用自己的分页逻辑，这就是为什么您会看到 pdf 和 doc 之间的差异。因此，您的报告可能只是稍微超出了下一页，并且在报告上节省一点空间可能会阻止这种情况。

我意识到这不是一个准确的答案，但我希望它仍然有帮助。

# prism - Prism-MEF：如何使用 UriQuey 导航到不同模块中的视图

> ID：14869998
> 
> 赞同：0
> 
> 时间：2013-02-14T07:42:54.540
> 
> 标签：prism, mef

如果我有这个模块结构：

```
ModuleA
      *View/View_A
      *Controller/ControllerA
ModuleB
      *View/View_B
      *ViewModel/ViewModel_B  (view model for View_B)
      *Controller/Controller_B 
```

1.  ControllerA 如何使用 UriQuery 在 View_A 内的区域中显示
    View_B

2.  controllerB 如何使用 UriQuery 在 View_A 内的区域中显示 View_B

3.  哪个更适合在 View_A 的区域中显示 View_B

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T15:36:15.137

我不确定我是否准确回答了你的问题。但我建议你看一下 Prism2.2 附带的 Sample project -> Quickstarts -> UI Composition -> View Injection。这使用 Unity，示例在 Silverlight 和 WPF 中。

这有如何显示来自不同模块的视图的示例。它不调用其他项目的控制器，而是调用演示者。

```
 IProjectsListPresenter projectsListPresenter = this.container.Resolve<IProjectsListPresenter>();
 projectsListPresenter.SetProjects(employee.EmployeeId);

 IRegionManager detailsRegionManager = detailsRegion.Add(detailsPresenter.View, employee.EmployeeId.ToString(CultureInfo.InvariantCulture), true);
 IRegion region = detailsRegionManager.Regions[RegionNames.TabRegion];
 region.Add(projectsListPresenter.View, "CurrentProjectsView");
 detailsRegion.Activate(detailsPresenter.View); 
```

使用 activate 方法来激活视图。或者，如果是特定要求/需要导航，您可以将 detailsRegionManager.RequestNavigate 与 UriQuery 一起使用。（我没有尝试过请求导航自己:)

另外请查看此帖子

[http://compositewpf.codeplex.com/discussions/402860#post940396](http://compositewpf.codeplex.com/discussions/402860#post940396)

希望这可以帮助。

祝你好运！