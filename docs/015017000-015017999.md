# StackOverflow 问答 15017000-15017999

# html5-canvas - 在 HTML5 Canvas 中拖动可点击的 URL

> ID：15017001
> 
> 赞同：0
> 
> 时间：2013-02-22T04:44:57.653
> 
> 标签：html5-canvas

有很多页面告诉我如何在画布上拖动形状或图像，甚至拖动[文本](https://stackoverflow.com/questions/5017619/html5-canvas-dragging-text-on-canvas-problem)。但是，我想以可点击的 HTML URL（超链接）的形式拖动文本，即将多个文本组合在一个画布上以给人一种相关性的印象（链接彼此越近，它们的相关性越密切。（作为 HTML 链接，只有它们的标题是可见的 - 实际的 URL 将被隐藏）。

出现的第一个问题是我是否可以使用单击左键来激活链接（将我带到另一个页面）或将其解释为拖动的开始。可能我将不得不使用不同的热键，例如 r-click 拖动，l-click 激活。我不想双击来激活 - 额外的点击变得乏味。

在这个论坛或其他地方，我还没有找到任何专门解决这个问题的东西，所以对于如何实施这种拖放形式的建议，我将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:31:49.230

移动链接本质上与移动图像相同。Canvas 没有 URL 组件或标签元素 - 您必须创建自己的。

因此，您几乎只需创建一个带有 onclick 事件的按钮，该事件将调用与该按钮关联的 URL。

# python - 多个管道上的python Popen.wait() daedlock - 为什么？

> ID：15017003
> 
> 赞同：1
> 
> 时间：2013-02-22T04:45:01.343
> 
> 标签：python, linux, unix, operating-system, pipe

以下代码正确完成，

```
import subprocess

p = subprocess.Popen("cat", stdin=subprocess.PIPE)
p.stdin.close()
p.wait()
print p.returncode 
```

但下面的代码永远不会结束。

```
import subprocess

p1 = subprocess.Popen("cat", stdin=subprocess.PIPE)
p2 = subprocess.Popen("cat", stdin=subprocess.PIPE)
p1.stdin.close()
p1.wait()
p2.stdin.close()
p2.wait()

print p1.returncode, p2.returncode 
```

医生[说](http://docs.python.org/2/library/subprocess.html#subprocess.Popen.wait)，

> 警告如果子进程生成足够的输出到 stdout 或 stderr 管道，从而阻塞等待 OS 管道缓冲区接受更多数据，这将死锁。使用communicate() 来避免这种情况。

但在这种情况下，不会生成任何输出。为什么会死锁？

我正在使用 Linux，并尝试了 python2.5 和 2.6。

--

编辑

我还在 MacOSX 上尝试了 python2.7.1 和 3.2.3。结果如下

*   2.5.2(linux) -> 死锁
*   2.6.6(linux) -> 死锁
*   2.7.1(osx) -> 死锁
*   3.2.3（osx）->好的！

这是旧 python 中的错误吗？有什么解决方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T11:17:29.030

Finnaly，我自己注意到了答案。

`close_fds=True`需要调用 Popen()。因为 Popen 做了`pipe(2)`and `fork(2)`，所以不仅父进程而且子进程都必须关闭管道的输出端。仅在较新的 python 上， close_fds=True 似乎是默认值。

不管怎么说，还是要谢谢你 ;）

# android - 打开对话框以选择浏览器

> ID：15017013
> 
> 赞同：1
> 
> 时间：2013-02-22T04:45:44.953
> 
> 标签：android

我有一个 webview，其中加载了一个 url，其中有一些 url 可点击，但问题是当我单击 webview 中加载的页面上的链接时，它会在默认浏览器中打开，我想在单击时打开包含所有浏览器的对话框在设备中的链接上，要求选择浏览器，它应该在选择的浏览器中打开？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:05:35.217

覆盖默认点击行为

当用户单击 WebView 中的链接时，默认行为是加载任何可以处理该链接的默认应用程序。因此，如果您单击 Web URL，浏览器将打开以处理它。如果您尝试在本地构建的网页之间导航，则需要覆盖此功能。幸运的是，这并不难处理。您可以通过将 WebView 的 WebViewClient 设置为 WebViewClient 的新实例来快速完成，如下所示：

创建时：

```
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    WebView webView = (WebView) findViewById(R.id.webView1);

    WebViewClient viewClient = new WebViewClient(){

        @Override
        public boolean shouldOverrideUrlLoading(WebView view, String url) {

            Intent intent = new Intent(Intent.ACTION_VIEW,Uri.parse(url)); 
            startActivity(intent); 
            view.loadUrl(url);
            return true;

        }
    };

    webView.setWebViewClient(viewClient);
    webView.loadUrl("http://www.google.com");
} 
```

检查以下链接以获取有关 WebViewClient 的更多信息

[处理 webview 中的链接](https://stackoverflow.com/questions/4788461/handling-links-in-a-webview)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T05:01:00.440

> 但问题是当我单击 webview 中加载的页面上的链接时，它会在默认浏览器中打开

如果您选择了

> 默认使用此应用程序复选框

然后 android 停止向用户显示选项列表并继续在选定的默认浏览器中打开链接。

您可以拥有的唯一解决方案是通过进入设置来明确该偏好。然后android将使用List向您显示完整的操作。

![在此处输入图像描述](../Images/2e8833a9380fa255a365473a6b47d984.png)

如果您想采用复杂的方式，那么您可以使用 Javascript 注入并在单击链接时调用 Android 代码，这将以编程方式向用户显示浏览器列表。

您可以使用`PackageManager`and`queryIntentActivityOptions()`过滤掉您的活动，并获取用户可以选择的其他活动列表。

[http://developer.android.com/guide/webapps/webview.html](http://developer.android.com/guide/webapps/webview.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T05:01:14.980

@Neha 这取决于您的手机中有多少浏览器可用。例如，如果您只有默认浏览器，它只会重定向到该浏览器。如果您在下次运行您的应用程序时安装了 chrome 浏览器，它会询问您选择浏览器选项。

# java - 如何获得循环中每个项目的总销售成本？

> ID：15017016
> 
> 赞同：0
> 
> 时间：2013-02-22T04:45:47.670
> 
> 标签：java, if-statement, while-loop, sum, random-sample

在这个 while 循环中，可以选择 4 个项目。咖啡 (1)、拿铁 (2)、卡布奇诺 (3) 和浓缩咖啡 (4)。模拟选择一堆随机数填写每个客户的订单和数量，然后计算每个客户的总成本。现在我必须在这个while循环之后制作一个销售报告，我必须计算每个项目的总销售额。我该怎么做，因为数字是随机的，并且循环会根据客户数量自行重复？

```
while (CustomersSimulated <= MaxCustomersSimulated)
        {   
                    //customer number
        System.out.println("Customer " + CustomersSimulated);    

                //one random item for each customer     
    Random RandomList = new Random();
    int RandomItem = RandomList.nextInt(4) + 1;   

    if (RandomItem == 1)
        {
        System.out.println("Item purchased: Coffee");
        final double CoffeePrice = 1.50;

                          //random quantity for the item        
        Random RandomListTwo = new Random();    
        int RandomQuantity = RandomListTwo.nextInt(5) + 1;
        System.out.println("Quantity purchased: " + RandomQuantity);

                          //total cost for the one customer     
        double TotalCoffeeCost = RandomQuantity * CoffeePrice;  
        System.out.println("Total Cost: $" + NumberFormat.format(TotalCoffeeCost)); 
        }
    else if (RandomItem == 2)
        {
        System.out.println("Item purchased: Latte");
        final double LattePrice = 3.50;

        Random RandomListTwo = new Random();
        int RandomQuantity = RandomListTwo.nextInt(5) + 1;
        System.out.println("Quantity purchased: " + RandomQuantity);

        double TotalLatteCost = RandomQuantity * LattePrice; 
        System.out.println("Total Cost: $" + NumberFormat.format(TotalLatteCost));
        }
    else if (RandomItem == 3)
        {
        System.out.println("Item purchased: Cappuccino");
        final double CappuccinoPrice = 3.25;

        Random RandomListTwo = new Random();
        int RandomQuantity = RandomListTwo.nextInt(5) + 1;
        System.out.println("Quantity purchased: " + RandomQuantity);

        double TotalCappuccinoCost = RandomQuantity * CappuccinoPrice; 
        System.out.println("Total Cost: $" + NumberFormat.format(TotalCappuccinoCost));
        }
    else if (RandomItem == 4)
        {
        System.out.println("Item purchased: Espresso");
        final double EspressoPrice = 2.00;

        Random RandomListTwo = new Random();
        int RandomQuantity = RandomListTwo.nextInt(5) + 1;
        System.out.println("Quantity purchased: " + RandomQuantity);

        double TotalEspressoCost = RandomQuantity * EspressoPrice; 
        System.out.println("Total Cost: $" + NumberFormat.format(TotalEspressoCost));
        }

    System.out.println(" ");

    CustomersSimulated++;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T04:54:14.777

我能想到的唯一方法是创建四个不同的柜台并通过每次添加来存储每次销售。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T04:53:21.827

您可以为每个项目创建一个全局变量，并在这些 if-else 语句中选择它时增加值。这样，无论随机选择什么，全局变量都会递增。您可以稍后根据价格将其全部汇总。我希望这就是你要找的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T04:56:09.807

就像另一个说的那样，在循环之外创建一个新的计数器变量来存储总数。

看到这个：

```
 double TotalAllCoffeeCost = 0;
        double TotalAllLatteCost = 0;
        double TotalAllCappuccinoCost = 0;
        double TotalAllEspressoCost = 0;
        while (CustomersSimulated <= MaxCustomersSimulated) {
            // customer number
            System.out.println("Customer " + CustomersSimulated);

            // one random item for each customer
            Random RandomList = new Random();
            int RandomItem = RandomList.nextInt(4) + 1;

            if (RandomItem == 1) {
                System.out.println("Item purchased: Coffee");
                final double CoffeePrice = 1.50;

                // random quantity for the item
                Random RandomListTwo = new Random();
                int RandomQuantity = RandomListTwo.nextInt(5) + 1;
                System.out.println("Quantity purchased: " + RandomQuantity);

                // total cost for the one customer
                double TotalCoffeeCost = RandomQuantity * CoffeePrice;
                TotalAllCoffeeCost+=TotalCoffeeCost;
                System.out.println("Total Cost: $"
                        + new DecimalFormat().format(TotalCoffeeCost));
            } else if (RandomItem == 2) {
                System.out.println("Item purchased: Latte");
                final double LattePrice = 3.50;

                Random RandomListTwo = new Random();
                int RandomQuantity = RandomListTwo.nextInt(5) + 1;
                System.out.println("Quantity purchased: " + RandomQuantity);

                double TotalLatteCost = RandomQuantity * LattePrice;
                TotalAllLatteCost+=TotalLatteCost;
                System.out.println("Total Cost: $"
                        + new DecimalFormat().format(TotalLatteCost));
            } else if (RandomItem == 3) {
                System.out.println("Item purchased: Cappuccino");
                final double CappuccinoPrice = 3.25;

                Random RandomListTwo = new Random();
                int RandomQuantity = RandomListTwo.nextInt(5) + 1;
                System.out.println("Quantity purchased: " + RandomQuantity);

                double TotalCappuccinoCost = RandomQuantity * CappuccinoPrice;
                TotalAllCappuccinoCost+=TotalCappuccinoCost;
                System.out.println("Total Cost: $"
                        + new DecimalFormat().format(TotalCappuccinoCost));
            } else if (RandomItem == 4) {
                System.out.println("Item purchased: Espresso");
                final double EspressoPrice = 2.00;

                Random RandomListTwo = new Random();
                int RandomQuantity = RandomListTwo.nextInt(5) + 1;
                System.out.println("Quantity purchased: " + RandomQuantity);

                double TotalEspressoCost = RandomQuantity * EspressoPrice;
                TotalAllEspressoCost+=TotalEspressoCost;
                System.out.println("Total Cost: $"
                        + new DecimalFormat().format(TotalEspressoCost));
            }

            System.out.println(" ");

            System.out.println("Total Cofee Cost : " + new DecimalFormat().format(TotalAllCoffeeCost));
            System.out.println("Total Latte Cost : " + new DecimalFormat().format(TotalAllLatteCost));
            System.out.println("Total Cappucino Cost : " + new DecimalFormat().format(TotalAllCappuccinoCost));
            System.out.println("Total Espresso Cost : " + new DecimalFormat().format(TotalAllEspressoCost));

            CustomersSimulated++;
        } 
```

无论如何，您的代码：

```
NumberFormat.format(...) 
```

未编译，因为[格式](http://docs.oracle.com/javase/1.4.2/docs/api/java/text/NumberFormat.html#format%28long,%20java.lang.StringBuffer,%20java.text.FieldPosition%29)不是静态方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T05:24:19.813

这是我将如何回答它。就像@IswantoSan 说的那样，`NumberFormat.format()`不编译所以我改变了它。此外，我摆脱了每次循环时发生的所有重新初始化。这是不需要的。不会占用太多内存，但我总是被告知这是一种很好的做法。此外，变量名中的第一个字母应小写。再一次，我总是被告知这是一种很好的做法。我可能是错的。

我希望这就是你要找的。

```
final static double espressoPrice = 2.00;
final static double cappuccinoPrice = 3.25;
final static double lattePrice = 3.50;
final static double coffeePrice = 1.50;

public static void main(String[] args) {

    int customersSimulated = 0;
    int maxCustomersSimulated = 4;
    int randomQuantity = 0;
    double total = 0;

    double totalCoffee = 0;
    double totalCappuccino = 0;
    double totalLatte = 0;
    double totalEspresso = 0;

    DecimalFormat df = new DecimalFormat("##.##");

    while (customersSimulated <= maxCustomersSimulated) { 

        System.out.println("Customer " + customersSimulated);    

        Random randomList = new Random();
        int randomItem = randomList.nextInt(4) + 1;   

        if (randomItem == 1) {

            System.out.println("Item purchased: Coffee");
            randomQuantity = randomList.nextInt(5) + 1;
            System.out.println("Quantity purchased: " + randomQuantity);
            double totalCoffeeCost = randomQuantity * coffeePrice;
            System.out.println("Total Cost: $" + df.format(totalCoffeeCost)); 

            totalCoffee+=totalCoffeeCost;
        } else if (randomItem == 2) {

            System.out.println("Item purchased: Latte");
            randomQuantity = randomList.nextInt(5) + 1;
            System.out.println("Quantity purchased: " + randomQuantity);
            double totalLatteCost = randomQuantity * lattePrice; 
            System.out.println("Total Cost: $" + df.format(totalLatteCost));

            totalLatte+=totalLatteCost;
        } else if (randomItem == 3) {

            System.out.println("Item purchased: Cappuccino");
            randomQuantity = randomList.nextInt(5) + 1;
            System.out.println("Quantity purchased: " + randomQuantity);
            double totalCappuccinoCost = randomQuantity * cappuccinoPrice; 
            System.out.println("Total Cost: $" + df.format(totalCappuccinoCost));

            totalCappuccino+=totalCappuccinoCost;
        } else if (randomItem == 4) {

            System.out.println("Item purchased: Espresso");
            randomQuantity = randomList.nextInt(5) + 1;
            System.out.println("Quantity purchased: " + randomQuantity);
            double totalEspressoCost = randomQuantity * espressoPrice; 
            System.out.println("Total Cost: $" + df.format(totalEspressoCost));

            totalEspresso+=totalEspressoCost;
        }

        System.out.println();
        System.out.println("Total Coffee Cost: $" + totalCoffee);
        System.out.println("Total Cappuccino Cost: $" + totalCappuccino);
        System.out.println("Total Llatte Cost: $" + totalLatte);
        System.out.println("Total Espresso Cost: $" + totalEspresso);
        System.out.println();

        customersSimulated++;
    }
} 
```

基本上，当您在 while 循环之外初始化和定义一个变量时，`+=`它在循环内，它可以在循环外访问，并且将在整个运行的代码中被“记住”；如果这对你有意义。

# magento - 付款成功后自动将订单状态更改为已付款

> ID：15017020
> 
> 赞同：-1
> 
> 时间：2013-02-22T04:46:03.030
> 
> 标签：magento

我正在使用支付网关-magento中的安全ebs..下订单时，新订单状态设置为-处理然后在订单详细信息中..在订单评论部分它说：1.处理-通知客户2.处理-客户被重定向到 Secureebs 3\. 处理 - 客户成功从 Secureebs 返回

我想在第三种情况下具有不同的状态.. 例如，在第三种情况下，我希望该状态自动从处理中更改为已支付。

另一个问题是，是否可以手动设置状态......一旦支付......所以我可以为我的不同团队创建一个工作流，并告诉他们倾听他们的特定状态。所以他们可以继续检查他们拥有的状态的订单。在评论部分有一个下拉列表，但它不显示所有状态。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T05:57:21.147

“所以我可以为我的不同团队创建一个工作流，并告诉他们听取他们的特定状态。这样他们就可以继续检查他们所拥有的状态的订单。” - 这真的没有多大意义。

而且您不应该手动更改订单状态。

# jquery - 在 jquery 中包含 @Model 属性到控制器

> ID：15017025
> 
> 赞同：3
> 
> 时间：2013-02-22T04:46:41.957
> 
> 标签：jquery, asp.net, asp.net-mvc-3

我刚刚开始使用 asp.net / mvc3 / jquery 等。我有一个 jquery datepicker，到目前为止我的工作是：

```
$(document).ready(function () {
    $('#ImplementationStart').datepicker({
        onSelect: function (date) {
            $.ajax({
                url: '/request/update/',
                type: 'POST',
                data: {
                    'Date': date
                },
                dataType: "json",
                success: function () {
                    alert("success");
                },
                error: function (xhr, textStatus, error) {
                    console.log(xhr.statusText);
                    console.log(textStatus);
                    console.log(error);
                }
            });
        }
    });
}); 
```

在我的控制器中，我有这个方法：

```
 [HttpPost]
    public ActionResult Update(DateTime date)
    { 
```

看起来我的日期被传入了。我想做的是从日期选择器所在的 .cshtml 页面更新适当的模型对象。在该页面上，我显示了@Model 属性，但我不确定如何将@Model.Request.ID 与我的帖子一起传回我的控制器。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T04:51:51.840

`ajax` `post`你得到了日期，因为你在try中明确地发送了它

```
 data: {
         'Date': date,
         'ModelId':'@Model.Id'
        }, 
```

如果您希望 id 在表单中可用，请将其包含在隐藏字段中，例如

```
@Html.HiddenFor(x=>x.Id) 
```

其中`x`是指您的模型。如果第一个解决方案不适合您将 id 保留在隐藏字段中，并且在发送 ajax 调用之前获取隐藏字段的 val，然后将其发送到 ajax 帖子中

# string - 如何在 vim 片段中添加文字字符串？

> ID：15017031
> 
> 赞同：2
> 
> 时间：2013-02-22T04:47:04.813
> 
> 标签：string, vim, code-snippets

我想写一个这样的片段：

```
snippet code
    ``` ${1:ruby}

    ``` 
```

但 ````用于包装脚本命令，我该怎么做？

谢谢大家！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:58:40.953

您应该提到您正在使用哪个片段插件。我假设原来的 snipMate，因为那个不处理转义的反引号。

你可以使用产生反引号的 Vim 表达式来解决这个问题：

```
snippet backtick
    `!v nr2char(96)` 
```

在你的情况下，我会使用

```
snippet code
    `!v repeat(nr2char(96),3)` ${1:ruby}

    `!v repeat(nr2char(96),3)` 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-04-23T05:12:19.837

较新版本的 snipMate 允许转义反引号：

```
 snippet code
    \`\`\` ${1:ruby}

    \`\`\` 
```

[https://github.com/garbas/vim-snipmate](https://github.com/garbas/vim-snipmate)

[https://github.com/msanders/snipmate.vim](https://github.com/msanders/snipmate.vim)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T10:50:46.480

[vim.org 0.83 版](http://www.vim.org/scripts/script.php?script_id=2540)中的原始 snipMate不允许转义反引号。但是，[废弃存储库中的 0.84 版](https://github.com/msanders/snipmate.vim)似乎有它（cp.commit b2937829）。可能值得一试。

或者，我已经单独在我的[个人 fork](https://github.com/inkarkat/snipmate.vim)中添加了该增强功能；不幸的是，它与许多不适合您的自定义和东西混合在一起。（但理论上你可以从提交列表中提取一个补丁。）

也许最好转移到另一个更现代和维护的片段插件。[UltiSnips - 支持 python 的 Vim 的最终代码片段解决方案](http://www.vim.org/scripts/script.php?script_id=2715)目前很流行（但需要 Python 支持）。

# javascript - If Else 语句 javascript 与 var

> ID：15017035
> 
> 赞同：-1
> 
> 时间：2013-02-22T04:47:45.250
> 
> 标签：javascript, variables, if-statement

到目前为止我有这个代码，但是我无法让它`if/else`工作。

Javascript：

```
<script type="text/javascript">
    function clickHandler(evt) {
    var agevar = confirm('Text for confirm!');
if ( agevar == true ) {
    window.location('http://websiteone.com'); }
else {
    window.location('http://websitetwo.com');} }
</script> 
```

HTML：

```
<li><a onclick="return clickHandler()">Hit</a> 
```

当我单击“点击”按钮时，它工作得很好，并且确认框出现，但是，无论您单击该框，它都不会重定向。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T04:54:07.097

尝试这样的事情：

```
 window.location = 'http://websitetwo.com'; 
```

进一步阅读请参阅文档： [https ://developer.mozilla.org/en-US/docs/DOM/window.location](https://developer.mozilla.org/en-US/docs/DOM/window.location)

# c - 从 malloc() 中提取垃圾数据的频率

> ID：15017037
> 
> 赞同：1
> 
> 时间：2013-02-22T04:47:54.633
> 
> 标签：c, memory, malloc

在 CI 中，如果您从未使用过或使用`malloc()`过，则可以通过使用偶尔分配包含一些垃圾数据的内存。`memset()``calloc()`

拾取垃圾数据的频率如何？

有没有一种安全的方法可以避免这种情况而不必使用`calloc()`或`memset()`每次都使用？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T04:51:04.400

您必须*始终*担心拾取“垃圾数据”并将分配的内存初始化为程序中有意义的东西。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-22T04:49:59.687

没有保证通过 malloc 分配的内存将初始化为给定值。

你应该确保你的构造函数初始化变量，并且你 memset 分配的内存是一个合理的值。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-22T05:19:59.560

该`malloc()`函数基本上从两个不同的地方获取内存：

1.  它直接从操作系统（内核）请求内存。在 Linux 和 OS X 等 Unix 系统上，这是通过`mmap()`or`sbrk()`系统调用完成的。内核中的内存一开始总是零初始化。

2.  它重用之前使用`free()`. 这总是被假定为充满垃圾。

只需使用`calloc()`. 该`calloc()`函数知道内存来自哪个池。如果它来自操作系统，那么它已经被零初始化，你可以免费获得零内存。如果内存来自`free()`，那么`calloc()`将为您将其归零。查看[为什么 malloc+memset 比 calloc 慢以](https://stackoverflow.com/questions/2688466/why-mallocmemset-slower-than-calloc/2688522#2688522)获得更多详细信息。

**懒人总结：**该`calloc()`函数已经执行了您正在考虑的优化。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T06:14:20.863

> 有没有一种安全的方法可以避免这种情况，而不必每次都使用 calloc() 或 memset() ？

至少在 Windows 中有。直接调用[`VirtualAlloc()`](http://msdn.microsoft.com/en-us/library/windows/desktop/aa366887%28v=vs.85%29.aspx)：

> **VirtualAlloc 函数 (Windows)**
> 在调用进程的虚拟地址空间中保留或提交页面区域。除非指定了 MEM_RESET，否则此函数分配的内存会自动初始化为零。

# python - 如何将我的输出限制为虚假陈述？

> ID：15017039
> 
> 赞同：0
> 
> 时间：2013-02-22T04:48:07.500
> 
> 标签：python

在此处输入代码我的代码采用 500-100000 范围内的数字并测试它们的素数两次。一次是费米特小定理，一次是更好的素性检验。给出的输出是在 fermits 中被识别为素数的每个数字，在它旁边，其正确素数的形式为 true=prime 和 false=not prime 例如：2753 是素数 True，2767 是素数 True，2777 是素数 True，2779是素数假，2789 是素数真，我需要知道的是我如何只输出那些是假的？我无法更改我调用的功能。

```
 from exactPrimalityTest import *
    import random
    from fastPowerMod import *
    for n in range(500,100001):
        a = random.randint(1,n-1)
        for i in range(10):
            if (fastPowerMod(a,n-1, n) != 1):
                break
        else:
            print n, "is prime", exactPrimalityTest(n) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T04:52:02.120

在打印之前添加此检查

```
res = exactPrimalityTest(n)
if not res:
    print n, "is prime", res 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T04:55:37.920

在你的最后一个 else: 语句中，将 exactPrimality 返回分配给一个 var 并执行一个 if。

......

```
else:
    primality = exactPrimalityTest(n)
    if not primality:
        print n, "is prime", primality 
```

抱歉，有一段时间没有使用 python，但这是一般的想法。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-22T04:51:58.633

```
from exactPrimalityTest import *
import random
from fastPowerMod import *
for n in range(500,100001):
    a = random.randint(1,n-1)
        for i in range(10):
        if (fastPowerMod(a,n-1, n) != 1):
            break
    else:
        if exactPrimalityTest(n) == False:
            print n, "is prime False" 
```

# cocoa-touch - 谷歌地图：ios中两点之间的直线使用UImapkit

> ID：15017042
> 
> 赞同：0
> 
> 时间：2013-02-22T04:48:19.040
> 
> 标签：cocoa-touch, ios4, ios6

我正在使用 iphone 应用程序。在这个应用程序中，我使用 ios map sdk。 **现在我想画两点之间的直线**。（for.ex（**如果用户触摸 2 个地方，我想在这 2 个地方之间画直线**））。我怎样才能做到这一点。请任何人帮我解决这个问题。

# c# - 关闭 Windows Mobile 6.5 中的剩余/其他表单（标记清除顶部/弹出到根目录）

> ID：15017043
> 
> 赞同：0
> 
> 时间：2013-02-22T04:48:19.680
> 
> 标签：c#, compact-framework, windows-mobile-6.5

假设我有表格 A、B 和 C。我通过以下方式从 frmB `frmB B = new frmB(); B.show();` 打开 frmB： 然后通过以下方式从 frmB 打开 frmC： `frmC C = new frmC(); C.show();`我不关闭表格 A 和 B，以防万一用户需要返回这些表格并进行更改。但是如果用户完成了表单 C，我需要返回表单 A 并关闭表单 C 和 B。在 WM6.5 中如何执行此操作？这是我在 Android 和 iOS 中分别通过 Flag Clear Top 和 Pop to Root 所做的事情，但我对如何在 WM6.5 中执行此操作感到困惑。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T15:26:16.460

这并不难，但确实需要一些设计和规划。

首先查看具有字符串并支持单击**OK**和**Cancel的几个按钮的****FormC**的基本版本：`CustomMessage`

 ****```
public class FormC : Form {

  public FormC() {
    this.DialogResult = DialogResult.None;
  }

  private void Cancel_Clicked(object sender, EventArgs e) {
    this.DialogResult = DialogResult.Cancel;
    Close();
  }

  private void OK_Clicked(object sender, EventArgs e) {
    this.DialogResult = DialogResult.OK;
    Close();
  }

  public string CustomMessage { get; set; }

} 
```

您需要设置**FormC**`DialogResult`的属性！

 **现在，将注意力转向**FormB**。它比上面的要复杂一点，但它仍然应该是基本的和可以理解的。

在**FormB**中，您需要连接*Form*的 Closed 事件处理程序，以便`FormC_DialogResult`在该表单关闭时设置属性。`FormC_DialogResult`将该属性设置为，`public`以便**FormA**可以使用它的值。

```
public class FormB : Form {

  private FormC formC;

  public FormB() {
    this.DialogResult = DialogResult.None;
  }

  private void Cancel_Clicked(object sender, EventArgs e) {
    this.DialogResult = DialogResult.Cancel;
    Close();
  }

  private void OK_Clicked(object sender, EventArgs e) {
    this.DialogResult = DialogResult.OK;
    Close();
  }

  public string CustomMessage { get; set; }

  public void FormC_Show() {
    FormC_DialogResult = DialogResult.None;
    formC = new FormC();
    formC.Closed += new EventHandler(FormC_Closed);
    formC.CustomMessage = "This is FormC. When it closes, " +
      "it will call FormB's FormC_Closed event handler, " +
      "which will set the FormC_DialogResult property.";
    formC.Show();
  }

  private void FormC_Closed(object sender, EventArgs e) {
    FormC_DialogResult = formC.DialogResult;
    if (FormC_DialogResult == DialogResult.OK) {
      this.DialogResult = DialogResult.OK;
      Close();
    }
  }

  public DialogResult FormC_DialogResult { get; set; }

} 
```

请注意，当单击**FormC**的`OK`按钮时，**FormB**获得相同的`OK`Dialog Result 并且它也被关闭。

现在，从**FormA**，您可以控制其他两种形式。

```
public class FormA : Form {

  private FormB formB;

  public FormA() {
  }

  private void FormBShow_Clicked(object sender, EventArgs e) {
    FormB_Show();
  }

  private void FormB_Show() {
    FormB_DialogResult = DialogResult.None;
    formB = new FormB();
    formB.Closed += new EventHandler(FormB_Closed);
    formB.CustomMessage = "This is FormB. When it closes, " +
      "it will call FormA's FormB_Closed event handler, " +
      "which will set the FormB_DialogResult property.";
    formB.Show();
  }

  void FormB_Closed(object sender, EventArgs e) {
    FormB_DialogResult = formB.DialogResult;
    if (FormB_DialogResult == DialogResult.OK) {
      if (formB.FormC_DialogResult == DialogResult.OK) {
        // Update Form C information
      }
      // Update Form B information
    }
  }

  private DialogResult FormB_DialogResult { get; set; }

} 
```

哦，欢迎各位代表！******

# mp3 - sox mp3 转 wav。输出 wav 文件为空

> ID：15017045
> 
> 赞同：2
> 
> 时间：2013-02-22T04:48:26.853
> 
> 标签：mp3, wav, output, sox, is-empty

我正在尝试使用 sox 将 mp3 文件转换为 wav 文件。但是输出文件总是空的。

我已经尝试了下一页上的命令。

[http://stefaanlippens.net/audio_conversion_cheat_sheet](http://stefaanlippens.net/audio_conversion_cheat_sheet) [http://www.thegeekstuff.com/2009/05/sound-exchange-sox-15-examples-to-manipulate-audio-files/](http://www.thegeekstuff.com/2009/05/sound-exchange-sox-15-examples-to-manipulate-audio-files/)

为什么输出文件是空的？我错过了任何其他选择吗？

谢谢

# objective-c - 检查 NSButton 是否在 drawRect 上关闭

> ID：15017047
> 
> 赞同：6
> 
> 时间：2013-02-22T04:48:51.300
> 
> 标签：objective-c, xcode, macos, drawrect, nsbutton

我想在我的自定义 drawRect 方法中检查我的自定义 NSButton 当前是否处于按下状态（用户正在单击它）。像这样的东西：

```
- (void)drawRect:(NSRect)dirtyRect{
    if ([self buttonIsInPressedState]) {
        [[self alternateBGImage] drawInRect:dirtyRect fromRect:NSZeroRect operation:NSCompositeSourceOver fraction:1.0f];
    }else{
        [[self BGImage] drawInRect:dirtyRect fromRect:NSZeroRect operation:NSCompositeSourceOver fraction:1.0f];
    }
    [super drawRect:dirtyRect];
} 
```

你会如何检查这样的事情？可能吗？

**解决方案**

我最终检查了按钮单元格上的 mouseDownFlags。不知道这是否是“正确”的做法，所以如果您有更好的建议，请告诉我：

```
- (void)drawRect:(NSRect)dirtyRect{        
    if ([self.cell mouseDownFlags] == 0) {
        [[self BGImage] drawInRect:dirtyRect fromRect:NSZeroRect operation:NSCompositeSourceOver fraction:1.0f];
    }else{
        [[self alternateBGImage] drawInRect:dirtyRect fromRect:NSZeroRect operation:NSCompositeSourceOver fraction:1.0f];
    }

    [super drawRect:dirtyRect];
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2015-01-12T09:03:22.633

我通过检查解决了这个问题`[self isHighlighted]`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-22T05:21:39.243

我不认为“ `drawRect:`”是试图抓住这一点的正确地方。

您可以继承 NSButton，然后覆盖[`mouseDown:`](http://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Classes/NSControl_Class/Reference/Reference.html#//apple_ref/occ/instm/NSControl/mouseDown%3a)或[`setState:`](http://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Classes/NSButton_Class/Reference/Reference.html#//apple_ref/occ/instm/NSButton/setState%3a)（寻找“ `NSOnState`”，这表示按钮被选中或被按下）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T20:31:32.800

我最终检查了按钮单元格上的 mouseDownFlags。不知道这是否是“正确”的做法，所以如果您有更好的建议，请告诉我。解决方案已在上述问题中更新。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T06:21:09.660

```
if([pBtn state]==NSOnState){
   NSLog(@" button Pressed ")
}else{
   NSLog(@" button not pressed ");

} 
```

# java - 使用冒泡排序对列表进行排序

> ID：15017050
> 
> 赞同：1
> 
> 时间：2013-02-22T04:48:57.493
> 
> 标签：java, class, variables

```
import java.lang.Object;
import java.util.List;
 class Sort{
  public static int bubble(List<String> sorted) {
    int count=0; int i=sorted.size();
    boolean changed = true;
    while(changed && i>0) {
      changed = false;
      for(int j=1; j<i; j++) {
        if(sorted.get(j).toUpperCase().compareTo(sorted.get(j-1).toUpperCase())<0) {
          String s=sorted.get(j);
          sorted.set(j,sorted.get(j-1));
          sorted.set(j-1, s);
          changed = true;
        }   
      }
      count++;
      i--;
    }
    return count;
  }
}

import java.util.ArrayList;
class SortTest {
  public static void main(String[] args) {
    ArrayList<String> sorted, list;
    list = new ArrayList<String>();
    sorted = new ArrayList<String>();
    String[] arr= {"Cat", "Dog", "Hat", "Apple", "Zipper"};

    for(int i=0; i<arr.length; i++) {
      list.add(arr[i]);
      sorted.add(arr[i]);
    }
    System.out.println(list);
    System.out.println();
    int count = Sort.int(sorted);
    System.out.println("Sorted in "+count+" passes");
    System.out.println(sorted);
  }
} 
```

该程序应该按字母顺序对我的单词列表进行排序，当我运行该程序时，它会以与我输入相同的方式打印出来。另外， count 在 SortTest 类中不起作用，我不知道为什么

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T05:01:19.460

您没有调用该函数来对程序中的列表进行排序。在下面的代码中，您将数组中的元素添加到列表和排序列表中。

```
for(int i=0; i<arr.length; i++) {
      list.add(arr[i]);
      sorted.add(arr[i]);
} 
```

此后，您将继续打印 sorted，但 sorted 与列表具有相同的内容。

为了对列表进行排序，请使用列表作为参数调用气泡函数，代码可能类似于：

```
Sort SortObj = new Sort(); 
sorted = SortObj.bubble(list);
System.out.println(sorted); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T05:03:09.307

首先突出的是：

```
int count = Sort.int(sorted); 
```

应该是：

```
int count = Sort.bubble(sorted); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-22T05:12:38.700

使用 Sort.bubble(list); 这很好用，我在我的电脑上运行

# javascript - 了解使用 JavaScript 进行电子邮件验证

> ID：15017052
> 
> 赞同：8
> 
> 时间：2013-02-22T04:49:04.213
> 
> 标签：javascript, regex, email-validation

我是 JavaScript 新手，在互联网上发现了这个验证给定电子邮件的 JavaScript 代码（代码没有问题）-

```
<html>
<h2>Email Validation</h2>
<script language = "Javascript">
function checkEmail(emailId) {
if (/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(emailId)){
document.write("You have entered valid email.");
return true;
}    
return false;
}

function ValidateEmail(){
    var emailID=document.form.email;

    if ((emailID.value==null)||(emailID.value=="")){
        alert("Please Enter your Email ID")
        emailID.focus()
        return false
    }

    if (checkEmail(emailID.value)==false){
        emailID.value=""
        alert("Invalid Email Adderess");
        emailID.focus()
        return false
    }
        alert('valid');
        return true
 }
</script>

<form name="form" method="post" onSubmit="return ValidateEmail()">    
Enter an Email Address : <input type="text" name="email" size="30"><br>    
<input type="submit" name="Submit" value="Submit">    
</form>

</html> 
```

我对代码没有任何问题，但不知何故我无法理解正则表达式的`/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/`含义。我不明白正则表达式的每一部分是什么意思。请赐教。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-02-22T05:00:47.500

1.  两个正斜杠 /.../ 包含一个正则表达式。

2.  前导 ^ 和尾随 $ 分别匹配输入字符串的开头和结尾。也就是说，整个输入字符串应该与这个正则表达式匹配，而不是输入字符串的一部分。

3.  \w+ 匹配 1 个或多个单词字符（az、AZ、0-9 和下划线）。

4.  [.-] 匹配字符。或者 -。我们需要使用 . 来代表。作为 。在正则表达式中有特殊含义。\ 被称为转义码，它恢复了后面字符的原始字面意思。

5.  [.-]？匹配 0 或 1 次出现的 [.-]。

6.  同样，\w+ 匹配 1 个或多个单词字符。

7.  ([.-]?\w+)* 匹配 0 次或多次出现的 [.-]?\w+。

8.  子表达式 \w+([.-]?\w+)* 用于匹配电子邮件中的用户名，位于 @ 符号之前。它以至少一个单词字符（az、AZ、0-9 和下划线）开头，后跟多个单词字符或 . 或者 -。然而，一个 . 或 - 后面必须跟一个单词字符（az、AZ、0-9 和下划线）。也就是说，字符串不能包含“..”、“--”、“.-”或“-.”。有效字符串的示例是“a.1-2-3”。

9.  @ 匹配自身。

10.  同样，子表达式 \w+([.-]?\w+)* 用于匹配电子邮件域名，其模式与上述用户名相同。

11.  子表达式 .\w{2,3} 匹配 a 。后跟两个或三个单词字符，例如“.com”、“.edu”、“.us”、“.uk”、“.co”。

12.  (.\w{2,3})+ 指定上述子表达式应出现一次或多次，例如“.com”、“.co.uk”、“.edu.sg”等。

[参考](http://www.ntu.edu.sg/home/ehchua/programming/howto/Regexe.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-21T12:37:38.320

尝试这个

`E-mail: <input type="email" name="usremail">`

它对我有用

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-22T04:57:29.543

在这里试试[REGEX](http://rick.measham.id.au/paste/explain.pl?regex=/%5E%5Cw%2b%28%5B%5C.-%5D?%5Cw%2b%29%2a@%5Cw%2b%28%5B%5C.-%5D?%5Cw%2b%29%2a%28%5C.%5Cw%7B2,3%7D%29%2b%24/)

你可以找到详细的解释。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-02-22T05:11:12.413

下面是正则表达式的分解：

* * *

`/^` => 一行的开头

`\w+`=> 任何单词（字母、数字和下划线）重复 1 次或多次

`([\.-]?\w+)*`=> 一**组**[*可选句点 (.) 或破折号 (-) 后跟任何重复一次或多次的单词]*，可以重复 0 次或多次

`@\w+`=> at 符号 (@) 后跟任何重复一次或多次的单词

`([\.-]?\w+)*`=> 一**组**[一个可选的*句点或破折号跟随任何重复 1 次或多次的单词]*，可以重复 0 次或多次

`(\.\w{2,3})+`=> 一**组**可以重复1次或多次的*[句号后跟任何可以重复**2-3**次的单词]*

`$/`=> 一行的结尾

* * *

顺便说一句，这是[Codular](http://codular.com/)上提供的一个*非常*好的[正则表达式简介](http://codular.com/regex)。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-02-22T04:56:11.653

干得好。正则表达式的可视化工具

[正则表达式可视化器](http://www.regexper.com/)和`JS Fiddle` [正则表达式解释](http://jsfiddle.net/v8Vp9/)

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2016-03-29T13:52:10.570

此验证码对于电子邮件地址是错误的。特别是不允许使用 first+last@domain.com 形式的地址。这是在许多商业网站上发现的普遍错误（但不是 stackoverflow - 恭喜！）。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-05-19T13:03:44.593

```
/^(\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+[,;]?[ ]?)+$/ 
```

这个小美将允许您在字符串中输入一个或多个电子邮件地址，以逗号或分号结尾，后跟可选空格。:)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-03-28T10:22:43.380

```
function validchat(){
    $('#btn-input-email').blur(function() {
        if($(this).val() != '') {
            var pattern = /^([a-z0-9_\.-])+@[a-z0-9-]+\.([a-z]{2,4}\.)?[a-z]{2,4}$/i;
            if(pattern.test($(this).val())){
                $(this).css({'border' : '1px solid #569b44'});
                $('#valid').text('');
            } else {
                $(this).css({'border' : '1px solid #ff0000'});
                $('#valid').text('Не верно');
            }
        } else {
            $(this).css({'border' : '1px solid #ff0000'});
            $('#valid').text('Поле email не должно быть пустым');
        }
    });
    $("#btn-input-text").blur(function() {
        var textlength = $(this).val().trim().length;
        if( textlength < 2 ){
            $(this).css({'border' : '1px solid #ff0000'});
            $('#validtext').text('Минимум 2 символ');
        }else{
            $(this).css({'border' : '1px solid #569b44'});
            $('#validtext').text('');
        }
    });
    var valid = $('#valid').text();
    var validtext = $('#validtext').text();
    if((!valid || valid == '') && (!validtext || validtext == '')){
        return true;
    }
}
validchat();
function AjaxChat () {
    $('#btn-input-email , #btn-input-text').blur();
    var valid = validchat();
    if(valid){
        var email = $('#btn-input-email').val();
        var text  = $('#btn-input-text').val();

        var data = {
            email:email,
            text:text
        }

        $.ajax({
            url: location.origin+"/chat_block.php",
            //dataType: "json", ////Тип данных
            type: "POST",
            async: false,
            data: data,
            success: function(html) {
                if(!html || html == 'null') AjaxChat ();
                if (jQuery.html != "") {
                    var b_chat = $('.chat-customer').html();
                    var chat   = 'Вы: ';
                    var obj = $.parseJSON(html);
                    chat += '<span>';
                    chat += obj['text'];
                    chat += '</span>';
                    chat += '<br /><br />';
                    $('.chat-customer').html(b_chat + chat);
                    $('#btn-input-text , #btn-input-email').val("");
                }
            },
            error: function() {
                //cosole.log('No result');
            }
        });
        $('#btn-input-email').remove();
    }
} 
```

# c# - MsChart 部分更新而不是 C# 中的完全刷新

> ID：15017053
> 
> 赞同：2
> 
> 时间：2013-02-22T04:49:22.033
> 
> 标签：c#, mschart

我正在做一个项目，我正在使用 MsChart 绘制时间点。我的问题是随着时间的推移，MsChart 失去了速度。我每秒更新 127 个点。（128Hz）这是我最坏的情况。时间尺度和间隔是固定的。我观察到的是 MsCHart 在每个点更新上重新绘制完整图（这是一个开销） 是否有任何选项可以将其更改为部分更新或仅更新新点？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:48:30.427

我不知道只刷新 ChartArea 的一部分。但是，我使用一些技巧来优化图表：

*   首先，我使用最优化的 ChartType 来显示我的系列

枚举：

```
SeriesChartType.FastLine
SeriesChartType.FastPoint 
```

*   另外，在添加新点之前，我将`.SuspendUpdates()`and`.ResumeUpdates()`方法应用于 Series 集合：

例子：

```
myChart.Series.SuspendUpdates();

// Adding points
...

myChart.Series.ResumeUpdates(); 
```

*   此外，调整 X 轴的最小最大范围以仅显示所有点的子集可能会有所帮助。

如果它不够好，那么您的要求可能超出了 MsChart 的能力。

在这种情况下，我建议切换到[ZedGraph](http://sourceforge.net/projects/zedgraph/)库。它很旧，但在足迹和性能方面仍然是最好的，它从未让我失望。

* * *

**编辑**

因为我很惊讶 ZedGraph 给了你糟糕的结果，所以我在这里放了一个快速而肮脏的**zedgraph 样本**，它会尽力满足你的要求：

*   它在 RollingPointPairList（一个特殊的 FIFO 点列表）中处理 3600 个 128hz 点
*   它每秒向图形添加 128 个点

只需将其复制/粘贴到 Form_Load 事件中即可尝试。它使用随机值并在启动时显示整个图表，因此乍一看可能会非常难看。

但是，您可以使用鼠标选择和滚轮进行缩放，或者使用 CTRL+单击移动鼠标进行平移，然后查看性能是否达到您的预期。

```
var fq = 128; // Freq in hz
var maxDuration = 3600; // max duration in s

var zg1 = new ZedGraphControl();
zg1.Dock = DockStyle.Fill;
this.Controls.Add(zg1);

var myPane = zg1.GraphPane;
myPane.XAxis.Type = AxisType.Date;
myPane.XAxis.Scale.Format = "yyyy/MM/dd HH:mm:ss.mmm";

var list = new RollingPointPairList(maxDuration * fq);

var ran = new Random();
var getRandomValue = new Func<double, double, double>((min, max) => ran.NextDouble() * (max - min) + min);

var ts = DateTime.Now;

for (var i = 0; i < list.Capacity; i++)
{
    list.Add(new XDate(ts), getRandomValue(50d, -50d));
    ts = ts.AddMilliseconds(1000d / fq);
}

var myCurve = new LineItem("dots", list, Color.Red, SymbolType.None, 1);
myCurve.Line.IsOptimizedDraw = true;
myPane.CurveList.Add(myCurve);

zg1.AxisChange();
zg1.Invalidate();

var z = new Timer();
z.Interval = 1000;
z.Tick += (s, ev) =>
    {
        var points = myCurve.Points as RollingPointPairList;
        for (var i = 0; i < fq; i++)
        {
            points.Add(new XDate(ts), getRandomValue(50d, -50d));
            ts = ts.AddMilliseconds(1000d / fq);
        }

        zg1.Invalidate();
    };

z.Start(); 
```

# java - 我已经添加了所需的依赖项，但仍然遇到错误

> ID：15017054
> 
> 赞同：1
> 
> 时间：2013-02-22T04:49:26.557
> 
> 标签：java, hibernate, maven

我正在关注此链接[链接](http://www.dzone.com/tutorials/java/hibernate/hibernate-example/hibernate-annotations-1.html)来运行我的休眠应用程序。虽然我已经添加了所有必需的依赖项，但它遇到了以下错误。

```
The following artifacts could not be resolved: javax.security:jacc:jar:1.0, 
javax.transaction:jta:jar:1.0.1B: Failure to find javax.security:jacc:jar:1.0 in 
http://repo.maven.apache.org/maven2 was cached in the local repository, 
resolution will not be reattempted until the update interval of central 
has elapsed or updates are forced -> [Help 1] 
```

netbeans 还在其属性窗口中显示以下消息。

问题： * 一些依赖项工件不在本地存储库中。

我的 Pom.xml

```
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>

  <groupId>com.myProject</groupId>
  <artifactId>hibernateTesting</artifactId>
  <version>1.0-SNAPSHOT</version>
  <packaging>jar</packaging>

  <name>hibernateTesting</name>
  <url>http://maven.apache.org</url>

  <properties>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
  </properties>

       <dependencies>
    <dependency>
      <groupId>hibernate</groupId>
      <artifactId>hibernate</artifactId>
      <version>3.0</version>
      <type>jar</type>
    </dependency>
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <version>4.11</version>
      <scope>test</scope>
      <type>jar</type>
    </dependency>
    <dependency>
      <groupId>org.hibernate.javax.persistence</groupId>
      <artifactId>hibernate-jpa-2.0-api</artifactId>
      <version>1.0.1.Final</version>
      <type>jar</type>
    </dependency>
    <dependency>
      <groupId>org.grlea.log.adapters</groupId>
      <artifactId>simple-log-sl4j</artifactId>
      <version>1.7</version>
      <type>pom</type>
    </dependency>
    <dependency>
      <groupId>javax.transaction</groupId>
      <artifactId>jta</artifactId>
      <version>1.1</version>
    </dependency>
    <dependency>
      <groupId>javax.security</groupId>
      <artifactId>jacc</artifactId>
      <version>1.0</version>
      <type>jar</type>
    </dependency>
  </dependencies>
</project> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:05:02.117

尝试将此存储库添加到您的 pom.xml

```
<repositories>
  <repository>
    <id>JBoss Deprecated</id>
    <url>https://repository.jboss.org/nexus/content/repositories/deprecated</url>
  </repository>
  <repository>
    <id>java.net</id>
    <url>http://download.java.net/maven/2/</url>
  </repository>
</repositories> 
```

JBoss 存储库将找到 javax.security.jcc 并且 java.net 存储库将具有 javax.transaction.jta jar

`<repositories>`标签可以放在`<project>`标签内的任何地方。我通常在 pom 的开头声明它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T05:36:54.530

您可以尝试像这样清理并强制更新您的 Maven 存储库：

```
mvn clean -U 
```

# map - 如何在地理服务器中为本地二进制格式（.ID、.DAT、.Tab、.MAP）创建存储

> ID：15017057
> 
> 赞同：0
> 
> 时间：2013-02-22T04:49:35.153
> 
> 标签：map, gis, geoserver, mapserver

嗨，我有四种不同的文件格式 ( `.ID, .DAT, .Tab, .MAP`)，我必须上传这些文件`geoserver`并查看地图。是支持这些文件格式`geoserver.if`吗？请帮助我怎么做，我已经用谷歌搜索了，但没有找到任何解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T04:52:47.787

嗨，这是一个好问题据我所知，geoserver 不支持这些文件格式，所以如果您想查看地图，我建议您使用 .shp 文件格式

# c - 对于相同的数学运算，基于 ARM 的 arduino 类型系统比基于 AVR 的系统慢得多

> ID：15017061
> 
> 赞同：3
> 
> 时间：2013-02-22T04:50:04.837
> 
> 标签：c, arm, arduino

我正在编写一些机器人运动学代码，我首先编写了用于计算关节角度的天真、有意非优化的函数，这样我就可以用逻辑分析仪测量时序，并有一种切实的方法来测量优化中的收益，例如作为定点数学。

我有两个正在玩的微控制器板：一个 Teensy 2.0 和一个 Teensy 3.0。我正在使用 Arduino 环境为他们构建代码。2.0 是一个 8 位 16MHz AVR，和大多数 Arduino 一样。3.0 是 32 位 48MHz ARM cortex M4。

代码将引脚拉低，进行一条腿的 IK 计算，然后将引脚拉回高电平。我正在使用一个古老的逻辑分析仪来测量线路低电平的时间。

奇怪的是，ARM 板的边缘之间的时间明显更长！AVR 大约需要 960 微秒，但 ARM 大约需要 18.5 毫秒！

这在我的脑海中没有加起来。有没有人知道为什么会这样？

![AVR 板逻辑分析仪时序，960.0us](../Images/15b09b32c8a7ef7670efde73877962ab.png)

![ARM板逻辑分析仪时序，18.5ms](../Images/a0bebfe1280452ef76bf87d8f7f1cd68.png)

这是我正在使用的代码。不要介意它是故意未优化的，可能我数学不好，但这不是这里的问题:)

```
#include <math.h>

#define lc 21.0
#define lf 40.0
#define lt 62.0

#define lfsqrd 1600.0
#define ltsqrd 3844.0

struct Vector {
  double x;
  double y;
  double z;
};

struct Joints {
  double c;
  double f;
  double t;
};

void calc_joints(struct Vector *foot, struct Joints *joints) {
   double l1 = sqrt(pow(foot->y,2) + pow(foot->x, 2));
   double l2 = l1 - lc;
   double l3 = sqrt(pow(foot->z,2) + pow(l2, 2));

   double tx = atan2(l2, foot->z);
   double ty = acos( (pow(l3,2) + lfsqrd - ltsqrd) / (2 * l3 * lf) );

  // todo: convert these from radians to degrees
   joints->c = atan2(foot->y, foot->x);
   joints->f = tx + ty;
   joints->t = acos( (lfsqrd + ltsqrd - pow(l3,2)) / (2 * lf * lt) );
}

void setup() {
   Serial.begin(9600);
   pinMode(0, OUTPUT);
   digitalWrite(0, HIGH);
}

void loop() {
    digitalWrite(0, LOW);
    struct Vector v = { 10, 20, 30 };
    struct Joints j;

    calc_joints(&v, &j);
    digitalWrite(0, HIGH);

    Serial.print(j.c);    
    Serial.print(", ");
    Serial.print(j.f);    
    Serial.print(", ");
    Serial.println(j.t); 
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-23T04:57:28.003

> ARM 皮质 M4

Cortex M4 中的 FPU 仅支持*单*精度，但您在代码中使用了大量*双精度。*这意味着软件计算而不是硬件。您是否尝试过将`double`变量和函数调用更改为`float`?

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T04:41:45.030

好奇的问题！尝试以下代码作为检查时钟速度的快速方法：

```
boolean pinValue;

void setup() {
   Serial.begin(9600);
   pinMode(13, OUTPUT);
   digitalWrite(13, HIGH);
   pinValue = true;
}

void loop() {
    pinValue = !pinValue;
    digitalWrite(13, pinValue);
} 
```

您的逻辑分析仪应该显示大约 50% 的 Arduino 占空比“尽可能快”。使用它来确认您的电路板正在按照您的想法进行计时。

这将帮助您确定您的 Teensy 3.0 是否因为执行基本指令的时间而变慢，或者执行数学函数的指令对于 ARM 是否不如 AVR 最佳。如果即使对于这个简单的程序也很慢，我强烈怀疑您没有按照您的想法计时。

我建议您确认您的探头是否按照您认为的方式接线......即“慢速”通道是否真的连接到“快速”电路板？

# c++ - std::advance 和 std::next 有什么区别？

> ID：15017065
> 
> 赞同：72
> 
> 时间：2013-02-22T04:50:21.220
> 
> 标签：c++, c++11, std

除了提前取负数之外，还有更多的东西吗？

* * *

## 回答 #1

> 赞同：109
> 
> 时间：2013-02-22T04:54:32.050

[`std::advance`](http://en.cppreference.com/w/cpp/iterator/advance)

*   修改它的论点
*   什么都不返回
*   适用于输入迭代器或更好（如果给定负距离，则为双向迭代器）

[`std::next`](http://en.cppreference.com/w/cpp/iterator/next)

*   保持其论点不变
*   返回参数的副本，按指定数量提前
*   适用于前向迭代器或更好的迭代器（如果给定负距离，则为双向迭代器））

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2013-02-22T04:54:01.363

也许最大的实际区别是[`std::next()`](http://en.cppreference.com/w/cpp/iterator/next)仅在 C++11 中可用。

[`std::next()`](http://en.cppreference.com/w/cpp/iterator/next)默认情况下会前进一个，而[`std::advance()`](http://en.cppreference.com/w/cpp/iterator/advance)需要一个距离。

然后是返回值：

*   [**`std::advance()`**](http://en.cppreference.com/w/cpp/iterator/advance): (none) (传入的迭代器被修改)
*   [**`std::next()`**](http://en.cppreference.com/w/cpp/iterator/next): 第*n*个继任者。

[`std::next()`](http://en.cppreference.com/w/cpp/iterator/next)像 一样接受负数`std::advance`，在这种情况下要求迭代器必须是双向的。[`std::prev()`](http://en.cppreference.com/w/cpp/iterator/prev)当意图专门向后移动时，会更具可读性。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-02-22T05:03:13.113

**标准::提前**

函数 Advance() 递增作为参数传递的迭代器的位置。因此，该函数让迭代器前进（或后退）多个元素：

```
#include <iterator>
void advance (InputIterator& pos, Dist n) 
```

> *   让输入迭代器 pos 向前（**或向后**）步进 n 个元素。
> *   对于双向和随机访问迭代器，n 可能为负数以向后退。
> *   Dist 是一个模板类型。通常，它必须是整数类型，因为调用了诸如 <、++、-- 以及与 0 的比较等操作。
> *   请注意，Advance() 不检查它是否穿过序列的 end()（它无法检查，因为迭代器通常不知道它们操作的容器）。因此，调用此函数可能会导致未定义的行为，因为未定义为序列结尾调用运算符 ++。

**std::next**（和`std::prev`C++11 中的新功能）

```
#include <iterator>
ForwardIterator next (ForwardIterator pos)
ForwardIterator next (ForwardIterator pos, Dist n) 
```

> *   如果向前移动 1 或 n 个位置，则产生向前迭代器 pos 将具有的位置。
> *   对于双向和随机访问迭代器，n 可能为负以产生先前的位置。
> *   Dist 是 std::iterator_traits::difference_type 类型。
> *   为内部临时对象调用 Advance(pos,n)。
> *   请注意，next() 不检查它是否穿过序列的 end()。因此，由调用者来确保结果有效。

引用自`The C++ Standard Library Second Edition`

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-02-22T05:02:38.307

它们几乎相同，只是`std::next`返回一个副本并`std::advance`修改其参数。请注意，该标准要求`std::next`行为类似于`std::advance`：

> ### 24.4.4 迭代器操作[iterator.operations]
> 
> ```
> template <class InputIterator, class Distance>
> void advance(InputIterator& i [remark: reference], Distance n); 
> ```
> 
> 2\. 要求：仅对于双向和随机访问迭代器，n 应为负数
> 。 3\. 效果：将迭代器引用 i 递增（或负数 n 递减）n。
> [...]
> 
> ```
> template <class ForwardIterator>
> ForwardIterator next(ForwardIterator x, [remark: copy]
>      typename std::iterator_traits<ForwardIterator>::difference_type n = 1); 
> ```
> 
> 6.效果：相当于`advance(x, n); return x;`

请注意，如果迭代器是输入迭代器，则*两者*实际上都支持负值。另请注意，`std::next`要求迭代器满足 ForwardIterator 的条件，而`std::advance`只需要 Input Iterator（如果您不使用负距离）。

# perl - 无法从 ac shell 脚本调用 perl 脚本

> ID：15017066
> 
> 赞同：-3
> 
> 时间：2013-02-22T04:50:28.397
> 
> 标签：perl

我是一个`csh`调用 perl 脚本的编写脚本。perl 脚本加载了一些`.pm`文件，但其中一个`.pm`文件给出了错误，我不知道 perl 脚本，请帮助。

```
Can't exec "uname": No such file or directory at /grid/cic/common/bin/../modules/plat.pm line 67. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:16:30.590

uname 不在执行用户的路径中。您必须更改用户的权限或执行 setuid。

# php - JSON 编码、ajax 并以 html 显示

> ID：15017067
> 
> 赞同：0
> 
> 时间：2013-02-22T04:50:30.843
> 
> 标签：php, javascript, html, ajax, json

我需要在我的 ajax 请求中添加一些东西，以显示它从 "> 减去 1 现在我的 ajax 只是将 1 的值加到 "> 并且我需要它在同一个函数中从 "> 减去 1。我想我需要用 JSON 来做，但我不知道如何将它合并到这个脚本中......如果有人能告诉我这将是多么惊人。我知道我的代码是草率的......

顺便说一句，我知道 ajax 实际上并没有添加和减去任何东西，它只是为客户演示它，只是不知道有什么更好的方式来表达我的问题

通用.js

```
$(".vote").click(function() 
{

var id = $(this).attr("id");
var name = $(this).attr("name");
var eData = $(this).attr("data-options");
var dataString = 'id='+ id + '&' + eData ;
var parent = $(this);

if(name=='up')
{

$(this).fadeIn(200).html('');
$.ajax({
type: "POST",
url: "up.php",
data: dataString,
cache: false,

success: function(data) { $('#total_' + parent.attr("id")).text(data); }
});

}
else
{

$(this).fadeIn(200).html('');
$.ajax({
type: "POST",
url: "down.php",
data: dataString,
cache: false,

success: function(data) { $('#total_' + parent.attr("id")).text(data); }

});

}

}); 
```

这是 index.php

```
<div id="main">
<div id="left">
<span class='up'><a title="vote_down_" id="vote_up_<?php echo $mes_id1; ?>" class="vote" name="up" data-options="key1=<?php echo $mes_id1;?>&key2=<?php echo $mes_id2;?>&key3=<?php echo $totalvotes1;?>&key4=<?php echo $totalvotes2;?>"> <img src="up.png" alt="Down" /></a></span><br />
<span id="total_vote_up_<?php echo $mes_id1; ?>"><?php echo $totalvotes1; ?></span><br />
</div>
<div id="message">
<?php echo $message1; ?>
</div>
<div class="clearfix"></div>
</div>
<div id="main">
<div id="right">
<br />
<span id="total_vote_down_<?php echo $mes_id2; ?>"><?php echo $totalvotes2;?></span><br />
<span class='down'><a id="vote_down_<?php echo $mes_id2; ?>" class="vote" name="down" data-options="key1=<?php echo $mes_id1;?>&key2=<?php echo $mes_id2;?>"><img src="down.png" alt="Down" /></a></span>
</div>
<div id="message">
<?php echo $message2; ?>
</div>
<div class="clearfix"></div>
</div> 
```

这是 up.php

```
<?php

session_start();
include("config.php");

$ip=$_SERVER['REMOTE_ADDR']; 

$mes_id1 = $_POST['key1'];
$mes_id2 = $_POST['key2'];
$totalvotes1 = $_POST['key3'];
$totalvotes2 = $_POST['key4'];
$new_totalvotes1 = $totalvotes1 + 1;
$new_totalvotes2 = $totalvotes2 - 1;

$ip_sql=mysql_query("select ip_add from Voting_IP where mes_id_fk='$mes_id1' and ip_add='$ip'");
$count=mysql_num_rows($ip_sql);

$ip_sql2=mysql_query("select ip_add from Voting_IP where mes_id_fk='$mes_id2' and ip_add='$ip'");
$count2=mysql_num_rows($ip_sql2);

// if the user has already voted, execute script
if($count==0 && $count2!=0)
{
$sql = "update Messages set totalvotes=totalvotes+1  where mes_id='$mes_id1'";
mysql_query( $sql);

$sql_in = "insert into Voting_IP (mes_id_fk,ip_add) values ('$mes_id1','$ip')";
mysql_query( $sql_in);

$sql = "update Messages set totalvotes=totalvotes-1  where mes_id='$mes_id2'";
mysql_query( $sql);

$sql_in = "DELETE FROM Voting_IP WHERE mes_id_fk='$mes_id2'";
mysql_query( $sql_in);

echo $new_totalvotes1;

// if the user has not voted, execute script
}
else if($count==0 && count2==0)
{
$sql = "update Messages set totalvotes=totalvotes+1  where mes_id='$mes_id1'";
mysql_query( $sql);

$sql_in = "insert into Voting_IP (mes_id_fk,ip_add) values ('$mes_id1','$ip')";
mysql_query( $sql_in);

echo $new_totalvotes1;

}
?> 
```

down.php 与 up.php 相同，只是值相反

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T04:52:13.327

如果您想返回 JSON 编码的数据，请使用`echo json_encode($array);`- [json_encode](http://php.net/manual/en/function.json-encode.php)

在 javascript 方面，如果您使用的是 jQuery，请使用[jQuery.parseJson()](http://api.jquery.com/jQuery.parseJSON/)

如果你不使用 jQuery，你可以使用[JSON.parse(xmlhttp.responseText)](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/JSON/parse)

**编辑**

OP 要求提供 json_parse 的示例。 [http://jsfiddle.net/mxaP6/1/](http://jsfiddle.net/mxaP6/1/)是一个在 jQuery 中解析 JSON 的工作示例。在实际应用程序中，您可以将 jQuery.parseJSON() 中的字符串替换为从服务器返回的包含 json 数据的字符串。

比在 parse_json 中发送数组更好的返回数据的方法是创建一个对象，例如：

数据.php

```
$data = new stdClass();
$data->name = "John";
$data->age = 24;
echo json_encode($data); 
```

这将返回如下所示的 json：

```
{"name":"John","age":24} 
```

这将解析为一个 javascript 对象。我已经在 jsFiddle 中包含了示例数据

# facebook - Facebook 访问应用页面

> ID：15017069
> 
> 赞同：0
> 
> 时间：2013-02-22T04:50:37.010
> 
> 标签：facebook, api

我第一次制作 Facebook 应用程序，我觉得我错过了一些明显的东西。我已经创建了我的应用程序并插入了 Facebook 上的应用程序详细信息，我现在正试图弄清楚如何在 Facebook 上查看该应用程序以对其进行测试。我找不到“转到应用程序”的任何按钮，只能编辑，而且我在 Facebook 本身上也找不到该应用程序。如何查看应用程序进行测试？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T04:56:12.880

在浏览器的地址栏中写入以下 URL：

https://apps.facebook.com/[命名空间]

[namespace] 必须是您在 facebook 上创建的应用程序命名空间。要查看您的应用程序的命名空间，请访问 developers.facebook.com，然后单击应用程序，然后在左侧菜单中选择您的应用程序。在当前页面中，您将看到应用命名空间。

# javascript - 延迟标记，直到地图完全加载 Google Maps API v3

> ID：15017070
> 
> 赞同：1
> 
> 时间：2013-02-22T04:50:43.313
> 
> 标签：javascript, google-maps

我希望在标记放入之前完全加载谷歌地图。如何延迟放置直到地图完全加载？

这是我的网站；[http://dev.askelandmedia.no/2013/index.php](http://dev.askelandmedia.no/2013/index.php)

# android - 如何在 Android 中一次调用多个 Web 服务或一个一个调用？

> ID：15017071
> 
> 赞同：0
> 
> 时间：2013-02-22T04:50:55.150
> 
> 标签：android, android-ksoap2

如何在 Android 中一次调用多个 Web 服务或一个一个调用？因为如果我添加两个属性，则会发生错误。我使用 KSOAP2 来调用 web 服务。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T04:58:01.260

您可以使用 Mutlitple AsyncTask 执行并行 Web 服务调用。所以它会一次调用多个网络服务。现在，如果您想逐个执行，那么在单个 asynctask 中，您可以在获得前一个响应后执行。

对于 AsycTask，请参考此链接

[AsyncTask Android 示例](https://stackoverflow.com/questions/9671546/asynctask-android-example)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-01T05:56:43.180

为 web 服务调用 Asynctask 以获取后台进程的值..

```
SoapTask task = new SoapTask();
task.execute(); 

public class SoapTask extends AsyncTask<Void, Void, Void> {

    @Override
    protected void onPreExecute() {
    }

    @Override
    protected Void doInBackground(Void... urls) {
        Live_Price();
        return null;
    }

    @Override
    protected void onPostExecute(Void result) {

        if(!error){
        try {
            Object mObject = response.getProperty(0);
            float str = Float.parseFloat(mObject.toString());
            float gold = (float) (str / 31.10);

            Object mObjectsilver = responseSilver;
            float str1 = Float.parseFloat(mObjectsilver.toString());
            float silver = (float) (str1 / 31.10);

            // U just the get the value from the response like above and print it..

        } catch (Exception e) {
            e.printStackTrace();
        }
        }else {
            System.out.println("server side problem"); 
        }
    }
} 
```

在该代码中，您想获取两个 url、用户名、用户密码，只需调用简单方法并获取 web 服务的响应以提供值。并且响应变量声明全局以简单地在任何方法中使用..

```
 public void Live_Price(){
        try {
            androidHttpTransport.call(SOAP_ACTION, envelope);
                            response = (SoapObject) envelope.getResponse();
            Log.d("myApp","call..ss..>"+ response.toString());

        } catch (Exception e) {
            error = true;
            e.printStackTrace();
        }

        try {
            androidHttpTransportsilver.call(SOAP_ACTIONsilver, envelopesilver);
            responseSilver = (SoapPrimitive) envelopesilver.getResponse();
            Log.d("myApp","call..ss..>"+ responseSilver.toString());

        } catch (Exception e) {
            error = true;
            e.printStackTrace();
        }
    } 
```

# python - pandas read_csv 和使用 usecols 过滤列

> ID：15017072
> 
> 赞同：111
> 
> 时间：2013-02-22T04:50:55.607
> 
> 标签：python, pandas, csv, csv-import

`pandas.read_csv`当我过滤列`usecols`并使用多个索引时，我有一个 csv 文件没有正确输入。

```
import pandas as pd
csv = r"""dummy,date,loc,x
   bar,20090101,a,1
   bar,20090102,a,3
   bar,20090103,a,5
   bar,20090101,b,1
   bar,20090102,b,3
   bar,20090103,b,5"""

f = open('foo.csv', 'w')
f.write(csv)
f.close()

df1 = pd.read_csv('foo.csv',
        header=0,
        names=["dummy", "date", "loc", "x"], 
        index_col=["date", "loc"], 
        usecols=["dummy", "date", "loc", "x"],
        parse_dates=["date"])
print df1

# Ignore the dummy columns
df2 = pd.read_csv('foo.csv', 
        index_col=["date", "loc"], 
        usecols=["date", "loc", "x"], # <----------- Changed
        parse_dates=["date"],
        header=0,
        names=["dummy", "date", "loc", "x"])
print df2 
```

我希望 df1 和 df2 除了缺少虚拟列之外应该是相同的，但是这些列的标签错误。日期也被解析为日期。

```
In [118]: %run test.py
               dummy  x
date       loc
2009-01-01 a     bar  1
2009-01-02 a     bar  3
2009-01-03 a     bar  5
2009-01-01 b     bar  1
2009-01-02 b     bar  3
2009-01-03 b     bar  5
              date
date loc
a    1    20090101
     3    20090102
     5    20090103
b    1    20090101
     3    20090102
     5    20090103 
```

使用列号而不是名称会给我同样的问题。我可以通过在 read_csv 步骤之后删除虚拟列来解决此问题，但我试图了解出了什么问题。我正在使用熊猫 0.10.1。

编辑：修复了错误的标头使用。

* * *

## 回答 #1

> 赞同：133
> 
> 时间：2015-01-06T02:47:26.400

解决方案在于理解这两个关键字参数：

*   **仅当文件中没有标题行并且您想使用列名而不是整数索引指定其他参数（例如 ）时，才需要**使用**`usecols`名称。**
***   **usecols**应该在将整个 DataFrame 读入内存之前提供一个过滤器；如果使用得当，则永远不需要在阅读后删除列。**

 **所以因为你有一个标题行，传递`header=0`就足够了，另外传递`names`似乎令人困惑`pd.read_csv`。

从第二个调用中删除`names`会给出所需的输出：

```
import pandas as pd
from StringIO import StringIO

csv = r"""dummy,date,loc,x
bar,20090101,a,1
bar,20090102,a,3
bar,20090103,a,5
bar,20090101,b,1
bar,20090102,b,3
bar,20090103,b,5"""

df = pd.read_csv(StringIO(csv),
        header=0,
        index_col=["date", "loc"], 
        usecols=["date", "loc", "x"],
        parse_dates=["date"]) 
```

这给了我们：

```
 x
date       loc
2009-01-01 a    1
2009-01-02 a    3
2009-01-03 a    5
2009-01-01 b    1
2009-01-02 b    3
2009-01-03 b    5 
```

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2013-02-22T18:04:28.777

这段代码实现了你想要的——它也很奇怪，而且肯定有问题：

我观察到它在以下情况下起作用：

a）您指定`index_col`rel。到你真正使用的列数——所以在这个例子中它是三列，而不是四列（你`dummy`从那时起放下并开始计数）

b) 相同`parse_dates`

c) 不是因为`usecols`;) 出于显而易见的原因

d）在这里我调整了`names`以反映这种行为

```
import pandas as pd
from StringIO import StringIO

csv = """dummy,date,loc,x
bar,20090101,a,1
bar,20090102,a,3
bar,20090103,a,5
bar,20090101,b,1
bar,20090102,b,3
bar,20090103,b,5
"""

df = pd.read_csv(StringIO(csv),
        index_col=[0,1],
        usecols=[1,2,3], 
        parse_dates=[0],
        header=0,
        names=["date", "loc", "", "x"])

print df 
```

哪个打印

```
 x
date       loc   
2009-01-01 a    1
2009-01-02 a    3
2009-01-03 a    5
2009-01-01 b    1
2009-01-02 b    3
2009-01-03 b    5 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-02-26T22:01:28.703

如果您的 csv 文件包含额外数据，则可以在导入后从 DataFrame 中[删除列。](http://pandas.pydata.org/pandas-docs/dev/dsintro.html#column-selection-addition-deletion)

```
import pandas as pd
from StringIO import StringIO

csv = r"""dummy,date,loc,x
bar,20090101,a,1
bar,20090102,a,3
bar,20090103,a,5
bar,20090101,b,1
bar,20090102,b,3
bar,20090103,b,5"""

df = pd.read_csv(StringIO(csv),
        index_col=["date", "loc"], 
        usecols=["dummy", "date", "loc", "x"],
        parse_dates=["date"],
        header=0,
        names=["dummy", "date", "loc", "x"])
del df['dummy'] 
```

这给了我们：

```
 x
date       loc
2009-01-01 a    1
2009-01-02 a    3
2009-01-03 a    5
2009-01-01 b    1
2009-01-02 b    3
2009-01-03 b    5 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-08-12T13:44:09.620

您只需添加`index_col=False`参数

```
df1 = pd.read_csv('foo.csv',
     header=0,
     index_col=False,
     names=["dummy", "date", "loc", "x"], 
     usecols=["dummy", "date", "loc", "x"],
     parse_dates=["date"])
  print df1 
```**

# ios - 如何查看用户是否购买了消耗品？

> ID：15017091
> 
> 赞同：1
> 
> 时间：2013-02-22T04:52:37.430
> 
> 标签：ios, objective-c, database, mobile, idempotent

首先，谢谢大家。

前提条件：我在申请中提供**消耗品**。 **产品：**

1.  项目清单
2.  用户通过 iap 购买商品。
3.  在我的应用程序收到更新的**Trancactions** (Transaction) 之前，网络已断开连接。

所以我的服务器没有数据来验证收据。用户也无法获得“虚拟货币”。

谁能告诉我如何解决这个问题，或者给我一些提示。非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:02:05.793

它是标准的客户端-服务器问题。如果客户端和服务器之间的连接被切断（由于超时或其他原因），常见的方法是重试请求。但是，如果您的 API 调用不是[幂等](http://en.wikipedia.org/wiki/Idempotence)的，并且多次调用 API 会多次影响您的系统状态，那么我们必须求助于做一些更聪明的事情。你有一些选择 -

1.  有本地数据库。发生购买时，首先更新本地数据库中的状态。延迟将数据库从客户端同步到服务器，我听说 coredata 或 sqlite 非常好。用户不知道这一点，因为数据库是本地的，所以用户界面对用户来说会更加活泼。
2.  第二种方法是 - 在 HTTP 调用失败的情况下。您不断重试，直到呼叫成功。
3.  如果 API 是非幂等的，那么您需要有一个令牌的概念。即，如果初始调用成功，则首先在服务器端检查具有多次调用的相同令牌的 API 调用，仅当它再次执行失败时。前任。这在银行解决方案中非常重要。想象一下由于超时而从您的银行帐户中多次借记，并且有人编程为继续重试！

这就是我现在能想到的。试一试，告诉我们什么对你有用……

# vim - vim：问题是执行还是普通命令？

> ID：15017096
> 
> 赞同：-1
> 
> 时间：2013-02-22T04:53:00.753
> 
> 标签：vim

源代码：

```
function! myfunc()
    execute "normal! i\<c-r>=12+34\<cr>"
endfunc

inoremap <silent><Tab> <C-R>=myfunc()<CR> 
```

我的 .vimrc 中有上面的代码，这意味着如果我`<tab>`在插入模式下输入，然后它会附加 46。例如，打开一个新文件，输入“hello”（这里没有双引号）然后`<tab>`按键，结果应该是“hello46”。虽然它没有。所以为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:43:11.993

这就是你做简单数学的方式：

```
execute "normal! i" . (12 + 34) 
```

但是你可以使用这种形式：

```
inoremap <expr> <tab> 12 + 34 
```

***编辑***

你的错误：

1.  函数名称必须以大写字母开头。
2.  `<C-r>=`用于插入表达式的结果，但您的函数不返回任何内容：它改为执行普通模式命令。

此版本的代码段有效。该函数返回您可以`<C-r>=`在映射中插入的内容：

```
function! MyFunc()
  let myvar = "foo"
  return myvar
endfunc

inoremap <silent> <Tab> <C-r>=MyFunc()<CR> 
```

# python - 欧拉计划 19\. 周日太多

> ID：15017099
> 
> 赞同：1
> 
> 时间：2013-02-22T04:53:04.620
> 
> 标签：python

来自欧拉： *1900 年 1 月 1 日是星期一。在 20 世纪（1901 年 1 月 1 日至 2000 年 12 月 31 日）有多少个星期日是每月的第一天？*

我的第一个函数将从已知的星期一开始到 2000 年 12 月 31 日结束的每一天收集到一个列表中。第二个函数每 7 天将一个星期天的列表保存到一个从 1901 年的第一个星期日开始的列表中。

```
def dayListBuild():
    dayListBuild = [[0,0,0]]
    for year in range(1900, 2001):
        for month in range(1, 13):
            if month in [4, 6, 9, 11]:
                dayRange = 30
            elif not month - 2:
                if year % 4 and (not year % 100 or year % 400):
                        dayRange = 29
                else:
                    dayRange = 28
            else:
                dayRange = 31
            for day in range(1, dayRange + 1):
                dayListBuild.append([year, month, day])
    return dayListBuild

def sundayList():
    dayList = dayListBuild()
    sundayList = []
    for day in range(len(dayList)):
        if not (day - 6) % 7 and dayList[day][0] > 1900 and not dayList[day][2] - 1:
            sundayList.append(dayList[day])
    return len(sundayList)

print(sundayList()) 
```

输出：200。我的答案是 29。要求的答案是 171。这是我的周日清单：

```
[[1901, 3, 1], [1901, 11, 1], [1902, 5, 1], [1903, 1, 1], [1903, 4, 1], [1903, 7, 1], [1904, 9, 1], [1904, 12, 1], [1905, 3, 1], [1905, 11, 1], [1906, 5, 1], [1907, 1, 1], [1907, 4, 1], [1907, 7, 1], [1908, 9, 1], [1908, 12, 1], [1909, 3, 1], [1909, 11, 1], [1910, 5, 1], [1911, 1, 1], [1911, 4, 1], [1911, 7, 1], [1912, 9, 1], [1912, 12, 1], [1913, 3, 1], [1913, 11, 1], [1914, 5, 1], [1915, 1, 1], [1915, 4, 1], [1915, 7, 1], [1916, 9, 1], [1916, 12, 1], [1917, 3, 1], [1917, 11, 1], [1918, 5, 1], [1919, 1, 1], [1919, 4, 1], [1919, 7, 1], [1920, 9, 1], [1920, 12, 1], [1921, 3, 1], [1921, 11, 1], [1922, 5, 1], [1923, 1, 1], [1923, 4, 1], [1923, 7, 1], [1924, 9, 1], [1924, 12, 1], [1925, 3, 1], [1925, 11, 1], [1926, 5, 1], [1927, 1, 1], [1927, 4, 1], [1927, 7, 1], [1928, 9, 1], [1928, 12, 1], [1929, 3, 1], [1929, 11, 1], [1930, 5, 1], [1931, 1, 1], [1931, 4, 1], [1931, 7, 1], [1932, 9, 1], [1932, 12, 1], [1933, 3, 1], [1933, 11, 1], [1934, 5, 1], [1935, 1, 1], [1935, 4, 1], [1935, 7, 1], [1936, 9, 1], [1936, 12, 1], [1937, 3, 1], [1937, 11, 1], [1938, 5, 1], [1939, 1, 1], [1939, 4, 1], [1939, 7, 1], [1940, 9, 1], [1940, 12, 1], [1941, 3, 1], [1941, 11, 1], [1942, 5, 1], [1943, 1, 1], [1943, 4, 1], [1943, 7, 1], [1944, 9, 1], [1944, 12, 1], [1945, 3, 1], [1945, 11, 1], [1946, 5, 1], [1947, 1, 1], [1947, 4, 1], [1947, 7, 1], [1948, 9, 1], [1948, 12, 1], [1949, 3, 1], [1949, 11, 1], [1950, 5, 1], [1951, 1, 1], [1951, 4, 1], [1951, 7, 1], [1952, 9, 1], [1952, 12, 1], [1953, 3, 1], [1953, 11, 1], [1954, 5, 1], [1955, 1, 1], [1955, 4, 1], [1955, 7, 1], [1956, 9, 1], [1956, 12, 1], [1957, 3, 1], [1957, 11, 1], [1958, 5, 1], [1959, 1, 1], [1959, 4, 1], [1959, 7, 1], [1960, 9, 1], [1960, 12, 1], [1961, 3, 1], [1961, 11, 1], [1962, 5, 1], [1963, 1, 1], [1963, 4, 1], [1963, 7, 1], [1964, 9, 1], [1964, 12, 1], [1965, 3, 1], [1965, 11, 1], [1966, 5, 1], [1967, 1, 1], [1967, 4, 1], [1967, 7, 1], [1968, 9, 1], [1968, 12, 1], [1969, 3, 1], [1969, 11, 1], [1970, 5, 1], [1971, 1, 1], [1971, 4, 1], [1971, 7, 1], [1972, 9, 1], [1972, 12, 1], [1973, 3, 1], [1973, 11, 1], [1974, 5, 1], [1975, 1, 1], [1975, 4, 1], [1975, 7, 1], [1976, 9, 1], [1976, 12, 1], [1977, 3, 1], [1977, 11, 1], [1978, 5, 1], [1979, 1, 1], [1979, 4, 1], [1979, 7, 1], [1980, 9, 1], [1980, 12, 1], [1981, 3, 1], [1981, 11, 1], [1982, 5, 1], [1983, 1, 1], [1983, 4, 1], [1983, 7, 1], [1984, 9, 1], [1984, 12, 1], [1985, 3, 1], [1985, 11, 1], [1986, 5, 1], [1987, 1, 1], [1987, 4, 1], [1987, 7, 1], [1988, 9, 1], [1988, 12, 1], [1989, 3, 1], [1989, 11, 1], [1990, 5, 1], [1991, 1, 1], [1991, 4, 1], [1991, 7, 1], [1992, 9, 1], [1992, 12, 1], [1993, 3, 1], [1993, 11, 1], [1994, 5, 1], [1995, 1, 1], [1995, 4, 1], [1995, 7, 1], [1996, 9, 1], [1996, 12, 1], [1997, 3, 1], [1997, 11, 1], [1998, 5, 1], [1999, 1, 1], [1999, 4, 1], [1999, 7, 1], [2000, 9, 1], [2000, 12, 1]] 
```

我不确定我做错了什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T04:56:46.797

您错误地使用了模数。尝试：

```
if year % 4 == 0 and (year % 100 != 0 or year % 400 == 0): 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-17T22:22:52.567

我只是想我想分享我的这个问题的代码，希望它可以帮助某人或更好，但有人可能想批评它。

我知道有很多打印或某些人可能认为不必要的打印，这有助于我理解控制台，所以如果您要对此发表评论，请屏住呼吸。

```
public class CountingSundays 
{
    enum days {Thursday, Friday, Saturday, Sunday, Monday, Tuesday,     Wednesday};

    private int totalNumberDays, // help to carry the days
                daysOfCurrentMonth, // check day of month
                month, // track month
                year, // track year
                firstSundays; // count the number of first sundays

    public static void main(String [] args)
    {
        // create an instance of CountingSundays
        CountingSundays cs = new CountingSundays();

        cs.year = 1901; // set the year
        cs.totalNumberDays = 1; // set the day

        while(cs.year < 2001)
        {
            // beginning of the year
            cs.month = 1; // reset the months

            // 30 days, Sept, April, June, Nov
            // 31 days, Jan, Mar, May, Jul, Aug, Oct, Dec
            // year % 4 == 0 and not 2000 as 2000 % 400 == 0,
            // feb is 29, else its 28

            while(cs.month < 13)
            {
                // beginning a new month
                cs.daysOfCurrentMonth = 1;
                // track the number of days per month
                int monthlyDayCutOff = 1; 

                if( cs.month == 4 | // Apr
                    cs.month == 6 | // Jun
                    cs.month == 9 | // Sep
                    cs.month == 11 ) // Nov

                         monthlyDayCutOff = 30; // these months have 30
                // if
                else if(cs.month == 2)
                {
                    // this is feb, check if it is a leap year
                    if(cs.year % 4 == 0 && 
                       cs.year % 100 != 0 ||
                       cs.year % 400 == 0)

                        monthlyDayCutOff = 29; // leap year

                    else
                        monthlyDayCutOff = 28; // not a leap year
                } // else if

                else

                    monthlyDayCutOff = 31; // one of the remaining months
                // else
                // use a while loop to calculate the days
                while(cs.daysOfCurrentMonth < monthlyDayCutOff)
                {
                    if(cs.daysOfCurrentMonth == 1 &
                       days.values()[cs.totalNumberDays % 7] == days.Sunday)
                    {
                        cs.firstSundays++; // increment first sundays
                        System.out.println("There is a first sunday in " + 
                                cs.month);

                    } // if

                    // print current month date, and day
                    // the modulus helps cycle thru our enum
                    System.out.println(cs.daysOfCurrentMonth + " " + 
                    days.values()[cs.totalNumberDays % 7]);

                    // print some statements
                    cs.daysOfCurrentMonth++; // increment days of month
                    cs.totalNumberDays++; // increment the total number of days

                } // while days

                // end of month
                cs.month++;

                System.out.println("\n\n" + cs.month);
            } // while month

            cs.year++;
        } // while year

        cs.year++;
        // print money shot
        System.out.println("Num of 1st sundays: " + cs.firstSundays);
    } // main

} // CountingSundays 
```

# c - 像“ls -l”这样的命令不在 execl 中执行，而在 execvp 中它可以工作

> ID：15017102
> 
> 赞同：2
> 
> 时间：2013-02-22T04:53:13.710
> 
> 标签：c, exec

`execl`在变体中使用下面的代码`ls`有效，但`ls -l`无效，但在我的`execvp`方法`ls`中`ls-l`有效。我采用这种`execl`方法的原因是因为二进制文件的路径可能不同，而`execvp`没有为我提供该功能。理想情况下，我`execl`也想继续工作`ls -l`，但现在它不工作`ls -l`。我尝试阅读手册页，但没有帮助。

```
void child(int argc, char *argv[MAX_ARGS])
{
        execvp(argv[0], argv);
}

void child(char *argv[], char* path)
{
        execl(path, argv, NULL);
} 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-22T04:56:09.827

使用`execl()`，您必须一一列出参数；仅当您提前确切知道要执行的操作时，它才有用：

```
execl("/bin/ls", "ls", "-l", (char *)0);
execl("/bin/sh", "sh", "-c", "ls -l", (char *)0);
execl("/bin/ls", "pink elephants", "-l", (char *)0); 
```

等等。

如果您不知道要处理多少争论，请使用`execvp()`或使用其他家庭成员之一`execv*()`。另请注意，您必须指定命令的路径；`execvp()`向下搜索`$PATH`，但`execl()`没有。另请注意，您可以选择作为传递的值`argv[0]`。

> 我采用这种`execl()`方法的原因是因为二进制文件的路径可能不同，而`execvp()`没有为我提供该功能。

我不确定你在这里的意思。使用`execvp()`，您可以指定：

```
char *argv[] = { "ls", "-l", 0 };
execvp(argv[0], argv);
execv("/bin/ls", argv); 
```

将`execvp()`搜索`ls`并`$PATH`执行找到匹配的第一个程序。第二个将在`/bin/ls`不查看的情况下执行`$PATH`。

```
char *argv[] = { "/bin/ls", "-l", 0 };

execv(argv[0], argv);
execvp(argv[0], argv); 
```

这些中的任何一个都可以工作；第二个不会使用基于 PATH 的搜索，因为可执行文件名称 ( `argv[0]`) 包含斜杠。

* * *

> 令我困惑的是，`execvp(argv[0], argv);`为什么我们将整个`argv`作为第二个参数传递？所以假设`argv[0]`是`"ls -l"`，为什么我们必须将整个`argv`作为第二个参数传递？

假设`argv[0]`contains `"ls -l"`，你有一个问题。大多数系统没有文件“ `/bin/ls -l`”或“ `/usr/bin/ls -l`”（其中空白是名称的一部分），但这就是您要执行的内容。

这些`exec*()`函数是用于执行进程的低级函数。第一个参数指定要运行的程序（通常是二进制文件；有时是带有 shebang 行的脚本，例如`#!/bin/sh`第一行）。在`execv()`or`execvp()`或`execve()`or的情况下`execvpe()`，第二个参数是参数向量，就像`main()`函数接收参数向量（或参数向量，因此`argv`）一样。这是程序参数的以 null 结尾的列表。如果要`ls`使用 option 执行命令`-l`，则需要在`argv`三个（！）值中指定`"ls"`，`"-l"`以及一个空指针：

```
char argv[] = { "ls", "-l", 0 }; 
```

使用这些`execl*()`函数，您指定要运行的程序作为第一个参数，然后是写出的参数向量：

```
execl("/bin/ls", "ls", "-l", (char *)0); 
```

如果你有 10 个参数，你必须写出 10 个参数（加上空指针）。

在`exec*()`函数中，名称包含：

*   `l`— 列出格式参数
*   `v`— 矢量格式参数
*   `p`— 对程序进行 PATH 查找（如果给定的名称不包含斜杠）
*   `e`— 也采用环境变量向量

这些结合起来给出：

*   `execl()`
*   `execv()`
*   `execlp()`
*   `execle()`
*   `execvp()`
*   `execve()`

有时没有`execlpe()`and有点令人讨厌`execvpe()`（但请参阅 Linux 扩展[`execvpe(3)`](http://man7.org/linux/man-pages/man3/execvpe.3.html)）。页面从概要中省略其中一些内容，但在手册页的正文中提及它们也是`man 2 exec`传统的——这种传统/遗产至少可以追溯到 1979 年的第 7 版 UNIX™（并且至少持续到 RHEL 5 Linux和 Mac OS X 10.7.5；`man 2 execl`页面提到`execve()`但未在概要部分列出）。其他`exec*()`函数都可以构建在上面`execve()`——这是集合中的基本函数（因此[`execve(2)`](http://man7.org/linux/man-pages/man2/execve.2.html)在 Linux 手册中列出）。

# java - 从 GPX 轨道获取纬度、经度和时间的正则表达式

> ID：15017110
> 
> 赞同：0
> 
> 时间：2013-02-22T04:54:08.913
> 
> 标签：java, android, regex, gps, gpx

我正在编写一个 android 应用程序，我可以在我创建的地图上看到朋友，当我登录时，我会向我所有的朋友发送一条私人消息。我在为发送给朋友的 GPX 编写正则表达式时遇到问题。

GPX 位置的 XML 格式如下：

```
<trkpt lat="46.57608333" lon="8.89241667">
<ele>2376</ele><time>2007-10-14T10:09:57Z</time>
</trkpt> 
```

我想要一个正则表达式检测这种类型的字符串并获取`lat`,`lon`和`time`一个字符串。

它应该能够返回：

```
string lat=.....
string lon=....
string time= ..... 
```

# javascript - v8 中值句柄的 Cast vs ToXXX

> ID：15017113
> 
> 赞同：9
> 
> 时间：2013-02-22T04:54:16.127
> 
> 标签：javascript, c++, v8

我将 V8 作为辅助语言嵌入到 C++ 程序中。

`Handle<Value>`当我调用类似的东西时，我从 V8检索

```
Handle<Value> value_handle = context->Global()->Get(key_handle); 
```

然后我可以发现它是（比如说）一个带有`value_handle->IsString()`. 如果是这样，我可以将其转换为 a`Handle<String>`以访问其特定于字符串的方法。

但似乎有两种方法可以做到这一点：

```
Handle<String> string = value_handle->ToString(); 
```

或者

```
Handle<String> string = Handle<String>::Cast(value_handle); 
```

但是，对于数组和函数，没有`toArray()`or`toFunction`方法，只有强制转换。

所以我的问题是：a）是`ToXXX`铸造的唯一语法糖吗？并且，如果不是 b) 该`ToXXX`方法在做什么？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-22T09:40:48.077

`ToXXX`函数执行类型强制，如ECMA-262 5th[第 9 节的小节中所述。](http://es5.github.com/#x9)例如`ToString`在[第 9.8 节](http://es5.github.com/#x9.8)中描述：当给定一个非字符串值时，它将返回一个适当的字符串表示形式，如果您传递对象，它将调用`toString`它的方法（或者`valueOf`如果`toString`不存在）。相关代码`ToString`: in`api.cc` [`Value::ToString`](https://code.google.com/p/v8/source/browse/branches/bleeding_edge/src/api.cc?r=13706#2362)调用`runtime.js` [`ToString`](https://code.google.com/p/v8/source/browse/branches/bleeding_edge/src/runtime.js?r=11405#549)

另一方面`Handle<XXX>::Cast(...)`没有强制。这只是句柄的类型转换。本质上它只是一个`static_cast<XXX*>`. 在调试模式下`Handle<T>::Cast(...)`检查并在类型不匹配时中止执行。如果给你一个`Handle<Value>`包含 an`Object`并且你试图将它转换为 a ，这将是一个致命错误`Handle<String>`。在发布模式下，当您尝试使用转换的结果时，转换为不兼容的类型稍后会导致奇怪的结果并可能崩溃。相关代码，`v8.h` [`Handle<T>::Cast`](https://code.google.com/p/v8/source/browse/branches/bleeding_edge/include/v8.h?r=13686#269)其中委托（例如[`String::Cast`](https://code.google.com/p/v8/source/browse/branches/bleeding_edge/include/v8.h?r=13686#4658)）通过[`String::CheckCast`](https://code.google.com/p/v8/source/browse/branches/bleeding_edge/src/api.cc?r=13706#2503).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T06:08:50.950

我们可以定位

> V8EXPORT 本地 ToString() 常量；

在第 971 行，`v8.h` 其中 V8EXPORT 是一种依赖于操作系统的函数方法。

* * *

字符串句柄的 ToString 位于 api.cc 的第 2362 行

```
Local<String> Value::ToString() const {
  i::Handle<i::Object> obj = Utils::OpenHandle(this);
  i::Handle<i::Object> str;
  if (obj->IsString()) {
    str = obj;
  } else {
    i::Isolate* isolate = i::Isolate::Current();
    if (IsDeadCheck(isolate, "v8::Value::ToString()")) {
      return Local<String>();
    }
    LOG_API(isolate, "ToString");
    ENTER_V8(isolate);
    EXCEPTION_PREAMBLE(isolate);
    str = i::Execution::ToString(obj, &has_pending_exception);
    EXCEPTION_BAILOUT_CHECK(isolate, Local<String>());
  }
  return Local<String>(ToApi<String>(str));
} 
```

* * *

为了保持一致性并利用 V8 版本的进一步升级，我强烈建议使用 toString() 而不是原始转换。

# batch-file - 我该如何应用这个？

> ID：15017118
> 
> 赞同：0
> 
> 时间：2013-02-22T04:55:00.197
> 
> 标签：batch-file, batch-processing

我想将其用作下面代码的变量，而不是 1.txt 中 ClassName= 之后的变量，我想要介于两者之间的变量：

EntryText=船沉了！|网格 AO 77| **变量**,

（注意变量后面的逗号和它之前的 |）

所以在以第二个 | 结尾的文本行之后抓取 和逗号之前。

变量之前的文本行将是相同且恒定的，除了“网格”之后可能有任何字母和数字的混合，直到第二个 |

因此，我尝试将其用作变量，介于两者之间：

EntryText=沉船！|网格*（字母或数字的任意组合）* | **（变量）**，*（逗号）*

所以抓住第二个| 和逗号。比你。我想将 ClassName= 之后的变量抓取替换为第二个 | 和逗号。请记住，还有其他 | 和我不想抓取的文件中的逗号，我只想抓取 | 之后的变量 如果它在 "EntryText=Ship sunk!|Grid ...." 之后，则在逗号之前。

再说一次，我不想要 Grid 部分，我想要第二个 | 和逗号之前。也会有很多 EntryText 行，所以我想抓住所有这些行中的那一部分并放入我的代码中。

因此，我想复制上面列出的变量所在的位置，而不是 ClassName= 之后的内容。

感谢您的时间！！

```
@echo off

copy 2.txt 2.txt-backup

setlocal enableDelayedExpansion

>2.txt (
for /f "tokens=1* delims=:" %%A in ('findstr /n "^" 2.txt-backup') do (
( echo !ln!| findstr "^Type=206$" >NUL && set ln=ln ) || (
    set "ln=%%B"
    if "!ln:~0,6!"=="Class=" (
        findstr /c:"ClassName=!ln:~6!" "E:\Dropbox\New folder\Log_*.txt" >"E:\Dropbox\New folder\null" && (
            echo Class=ShipDummy
            set "ln=Type=206"
        )
    )
    if #!ln!==# (echo;) else echo !ln!
)
)
) 
```

有人给了我这个底部代码，但我不知道它是否是我想要的或如何将其应用于上述代码：

```
for /f "tokens=3 delims=|" %%C in ("%%B") do for /f "tokens=1 delims=," %%D in ("%%C") do echo %%D 
```

谢谢！！！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T14:06:42.400

我想你想要这样的东西......

```
...
set "ln=%%B"
for /f "tokens=3 delims=|" %%C in ("%%B") do for /f "tokens=1 delims=," %%D in ("%%C") do set "MyVar=%%D"
findstr /c:"ClassName=!MyVar!" "E:\Dropbox\New folder\Log_*.txt" >"E:\Dropbox\New folder\null" && (
    echo Class=ShipDummy
    ... 
```

# c++ - 15和015有什么区别？

> ID：15017119
> 
> 赞同：6
> 
> 时间：2013-02-22T04:55:05.490
> 
> 标签：c++, char, output

起初这似乎是一个愚蠢/微不足道的问题，但是当我这样做时：

```
char f_gear = 15; 
```

我得到正常的输出

```
"☼" 
```

但是当我在声明它时用零填充它时：

```
char f_gear = 015; 
```

我得到奇怪的输出使文本看起来乱码（在一行中）并使前一行空白。当我尝试查看单个角色本身时，我得到以下信息：

```
"  ◘◘@╧S☻ " 
```

有什么本质不同？不是15==015吗？

==EDIT== 当我发布问题时，Stack Overflow 更改了文本。我真正看到的输出是几个空白字符。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-22T04:56:08.413

不，015 指的是八进制数。因此，八进制的 015 等于十进制的 13。

所以，

```
char f_gear = 015; 
```

相当于

```
char f_gear = 13; 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-22T04:57:07.777

015 是八进制表示法。你可以在这里阅读：[http](http://en.wikipedia.org/wiki/Octal) ://en.wikipedia.org/wiki/Octal 。它用得不多。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-22T04:59:00.870

所有以 0 开头的数字文字都是八进制的。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-22T05:00:32.080

例如，如果我们写数字“15”。编译器会将其识别为：二进制 0000 1111。

如果我们写数字 015，编译器会将其识别为八进制，并将其视为二进制的 0000 1101。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-22T05:10:17.600

char f_gear=015 被认为是八进制，因此它等价于 char f_gear=13。ASCII 13 用于回车，这是结果的原因。下面的片段显示了值![在此处输入图像描述](../Images/bc909391a30bab0fd0d70282eac5cd67.png)

# arrays - mongodb子文档中的分页数组

> ID：15017124
> 
> 赞同：0
> 
> 时间：2013-02-22T04:55:26.100
> 
> 标签：arrays, mongodb

我有一个 mongo 集合，其中的文档具有如下结构的架构：

```
{ _id : bla,
  fname : foo,
  lname : bar,
  subdocs [ { subdocname : doc1
             field1 : one
             field2 : two
             potentially_huge_array : [...]
            }, ...
  ]
} 
```

我正在使用当前不支持 elemMatch 的 ruby​​ mongo 驱动程序。通过项目从子文档中提取、展开和匹配管道时，我使用聚合。

我现在想做的是从包含在子文档中的 potential_huge_array 数组中分页结果。我无法弄清楚如何在不将整个子文档、巨大的数组和所有内容从数据库中拖到我的应用程序中的情况下仅获取数组的一个子集。

有没有办法做到这一点？

不同的模式会是处理这个问题的更好方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:42:17.213

根据巨大的大小，您绝对不希望它嵌入到另一个文档中。

主要原因是除非您总是希望将数组与文档一起返回，否则您可能不希望将其存储为文档的一部分。如何将其存储在另一个集合中将取决于您希望如何访问它。

查看您最常对数据执行的查询类型通常会建议最佳模式 - 一种可以让您高效地处理查询数量、返回的数据量和轻松索引数据的模式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T05:11:32.260

如果您的字段非常大并且经常更改，请将其放在单独的集合中。

# html - 在 Sinatra 应用程序中格式化十进制显示

> ID：15017129
> 
> 赞同：0
> 
> 时间：2013-02-22T04:55:38.543
> 
> 标签：html, ruby, forms, sinatra

我的 Sinatra 应用程序中有一个价格字段。DataMapper 的定义是：

`property :purchase_price, Decimal, :precision => 10, :scale => 2`

收集价格的输入表单如下所示：

`<input type="text" name="price" placeholder="Price" pattern="^\d+\.\d{2}$">`

我想查看价格并可能更改价格的编辑表单如下所示：

`<input type="text" name="price" value="<%= @book.purchase_price.to_s('F') %>">`

当我在表格中显示所有书籍及其价格时，价格通过以下方式显示：

`<td><%= book.purchase_price.to_s('F') %></td>`

该行在循环中的位置：

`<% @books.each do |book| %> ... <% end %>`

当美分等于 0 时，价格显示会截断值的美分部分，即，我得到`9.0`的不是`9.00`. 输入模式确保我必须输入`9.00`，但我不知道如何显示`9.00`。

我确定我遗漏了一些明显的东西。如何在不截断的情况下显示价格？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:06:50.470

```
"%.2f" % @book.purchase_price 
```

将用两位小数格式化您的变量。等效地，

```
sprintf("%.2f", @book.purchase_price) 
```

文档：[String#%](http://www.ruby-doc.org/core-1.9.3/String.html#method-i-25)，[Kernel#sprintf](http://www.ruby-doc.org/core-1.9.3/Kernel.html#method-i-sprintf)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T05:19:01.930

你可以试试 Money gem [https://github.com/RubyMoney/money](https://github.com/RubyMoney/money)。

# c# - 如何在 Asp.Net 中发送带附件的电子邮件

> ID：15017132
> 
> 赞同：14
> 
> 时间：2013-02-22T04:56:04.023
> 
> 标签：c#, asp.net, smtp

我需要在 asp.net 中用我的电子邮件附加一张图片 该文件已添加到解决方案资源管理器中，但我不知道如何在我的电子邮件中添加此图片 请指导我

我当前的代码如下

```
public void SendMail()
{
    try
    {
        string receiverEmailId = "name@exmp.com";
        string senderName = ConfigurationManager.AppSettings["From"].ToString();
        string mailServer = ConfigurationManager.AppSettings["SMTPServer"].ToString(); ;
        string senderEmailId = ConfigurationManager.AppSettings["SMTPUserName"].ToString();
        string password = ConfigurationManager.AppSettings["SMTPPasssword"].ToString();
        var fromAddress = new MailAddress(senderEmailId, senderName);
        var toAddress = new MailAddress(receiverEmailId, "Alen");
        string subject = "subject";
        string body = "body.";
        var smtp = new SmtpClient
        {
            Host = "smtp.gmail.com",
                    Port = 587,
                    EnableSsl = true,
                    DeliveryMethod = SmtpDeliveryMethod.Network,
                    Credentials = new NetworkCredential(fromAddress.Address, password)
        };
        using (var message = new MailMessage(fromAddress, toAddress)
        {
            Subject = subject,
            Body = body
        })
        {
            smtp.Send(message);
        }
    }
    catch (Exception ex)
    {
    }
} 
```

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-02-22T05:01:39.773

您是否检查了[**MailMessage.Attachments**](http://msdn.microsoft.com/de-de/library/system.net.mail.mailmessage.attachments.aspx)属性（请参阅 MSDN）？

```
// create attachment and set media Type
//      see http://msdn.microsoft.com/de-de/library/system.net.mime.mediatypenames.application.aspx
Attachment data = new Attachment(
                         "PATH_TO_YOUR_FILE", 
                         MediaTypeNames.Application.Octet);
// your path may look like Server.MapPath("~/file.ABC")
message.Attachments.Add(data); 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-02-22T04:58:53.680

创建`Attachment`具有文件名的类对象并将其添加到消息的附件属性中

```
 Attachment attachment = new Attachment("file.ext");
  message.Attachments.Add(attachment); 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-02-22T05:01:53.970

```
public static bool SendMail(string strFrom, string strTo, string strSubject, string strMsg)
    {            
        try
        {                
            // Create the mail message
            MailMessage objMailMsg = new MailMessage(strFrom, strTo);

            objMailMsg.BodyEncoding = Encoding.UTF8;
            objMailMsg.Subject = strSubject;
            objMailMsg.Body = strMsg;
            Attachment at = new Attachment(Server.MapPath("~/Uploaded/txt.doc"));
            objMailMsg.Attachments.Add(at);
            objMailMsg.Priority = MailPriority.High;
            objMailMsg.IsBodyHtml = true;

            //prepare to send mail via SMTP transport
            SmtpClient objSMTPClient = new SmtpClient();
            objSMTPClient.DeliveryMethod = SmtpDeliveryMethod.PickupDirectoryFromIis;
            objSMTPClient.Send(objMailMsg);
            return true;                
        }
        catch (Exception ex)
        {
            throw ex;
        }
    } 
```

[参考](http://forums.asp.net/p/1140099/1831864.aspx)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2018-03-28T20:14:37.117

```
protected void Send_Button_Click(object sender, EventArgs e)
{

    MailMessage mail = new MailMessage();

    mail.From = new MailAddress("One@gmail.com");
    mail.To.Add(new MailAddress("Two@yahoo.com"));
    mail.Bcc.Add(new MailAddress("Three@gmail.com"));
    mail.Subject = "Testing E-mail By ASP.NET";
    mail.Body = "This is only for Demo ";

    if (FileUpload1.HasFile)
    {
        Attachment attach = new Attachment(FileUpload1.PostedFile.InputStream ,FileUpload1.PostedFile.FileName);

        mail.Attachments.Add(attach);
    }

    SmtpClient smtp = new SmtpClient();
    smtp.Host = "smtp.gmail.com";
    smtp.Port = 587;
    smtp.DeliveryMethod = SmtpDeliveryMethod.Network;

    System.Net.NetworkCredential credential = new System.Net.NetworkCredential();

    credential.UserName = "One@gmail.com";
    credential.Password = "123456789";

    smtp.Credentials = credential;
    smtp.EnableSsl = true;
    smtp.Send(mail);
} 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2017-08-22T12:04:01.453

**使用简单的编码在 ASP.Net 中发送带附件的电子邮件。在本文中，我将向您展示如何做到这一点。**

**索引.aspx**

```
<%@ Page Language="C#" AutoEventWireup="true" CodeFile="Index.aspx.cs" Inherits="_Default" Debug="true" %>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head runat="server">
<title>Careers</title>
</head>

<body>
<form id="form2" runat="server">

<div class="form-group">
<label for="exampleInputName">Name</label>
<asp:TextBox ID="txtName" runat="server" class="form-control" placeholder="Name"></asp:TextBox>
</div>
<div class="form-group">
<label for="exampleInputEmail">Email address</label>

<asp:TextBox ID="txtEmail" runat="server" class="form-control" placeholder="Enter Email"></asp:TextBox>
</div>
<div class="form-group">
<label for="txtcontact">Contact no</label>
<asp:TextBox ID="txtcontact" runat="server" class="form-control" placeholder="Contact no"></asp:TextBox>
</div>
<div class="form-group">
<label for="txtjobTitle">Job Title</label>
<asp:DropDownList ID="txtjobTitle" runat="server" class="form-control">
<asp:ListItem Text="Select" Value="0"></asp:ListItem>
<asp:ListItem Text="Social Media Experts" Value="1"></asp:ListItem>
<asp:ListItem Text="Business Developement Executives" Value="2"></asp:ListItem>
<asp:ListItem Text="Copywriters" Value="3"></asp:ListItem>
<asp:ListItem Text="Graphic Designers" Value="4"></asp:ListItem>
<asp:ListItem Text="Web Designers" Value="5"></asp:ListItem>
<asp:ListItem Text="Animation Designers" Value="6"></asp:ListItem>
</asp:DropDownList>
</div>
<div class="form-group">
<label for="txtjobExp">Experience</label>
<asp:DropDownList ID="txtjobExp" runat="server" class="form-control">
<asp:ListItem Text="Select" Value="0"></asp:ListItem>
<asp:ListItem Text="0-1" Value="1"></asp:ListItem>
<asp:ListItem Text="1-3" Value="2"></asp:ListItem>
<asp:ListItem Text="3-5" Value="3"></asp:ListItem>
</asp:DropDownList>
</div>
<div class="form-group">
<label for="exampleInputFile">Upload Resume</label>
<asp:FileUpload ID="fileUploader" runat="server" />
</div>

<asp:Button ID="bttn_Send" Text="Submit" runat="server" OnClick="bttn_Send_Click" class="btn" />
</form>
</body>

</html> 
```

**索引.aspx.cs**

```
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Net;
using System.Net.Mail;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;

public partial class _Default : System.Web.UI.Page
{
protected void Page_Load(object sender, EventArgs e)
{

}
protected void bttn_Send_Click(object sender, EventArgs e)
{
string from = “info@suryarpraveen-wordpress.com”;
string textTo = “careers@suryarpraveen-wordpress.com”;
using (MailMessage mail = new MailMessage(from, textTo))
{

mail.Subject = “Careers – Surya R Praveen WordPress”;

mail.Body = string.Format(@”
Name: {0}
Email: {1}
Contact: {2}
Job: {3}
Experience: {4}
“, txtName.Text, txtEmail.Text, txtcontact.Text, txtjobTitle.SelectedItem.Text, txtjobExp.SelectedItem.Text);

if (fileUploader.HasFile)
{
string fileName = Path.GetFileName(fileUploader.PostedFile.FileName);
mail.Attachments.Add(new Attachment(fileUploader.PostedFile.InputStream, fileName));
}
mail.IsBodyHtml = false;
SmtpClient smtp = new SmtpClient();
smtp.Host = “mail.suryarpraveen-wordpress.com”;
smtp.EnableSsl = false;
NetworkCredential networkCredential = new NetworkCredential(from, “password@007”);
smtp.UseDefaultCredentials = true;
smtp.Credentials = networkCredential;
smtp.Port = 25;
smtp.Send(mail);
ClientScript.RegisterStartupScript(GetType(), “alert”, “alert(‘Message has been sent successfully.’);”, true);
}
}
} 
```

[https://suryarpraveen.wordpress.com/2017/08/22/how-to-send-email-with-attachment-in-asp-net/](https://suryarpraveen.wordpress.com/2017/08/22/how-to-send-email-with-attachment-in-asp-net/)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-02-22T05:00:50.430

这是一个代码...

```
public void MailSend(string strfrom, string strto, string strSubject, string strBody, string resumename, string sresumename)
{
    try
    {
        MailMessage msg = new MailMessage(strfrom, strto);// strEmail);

        msg.Bcc.Add("xx@xxxx.com");
        msg.Body = strBody;
        msg.Subject = strSubject;
        msg.IsBodyHtml = true;
        if (resumename.Length > 0)
        {
            Attachment att = new Attachment(Server.MapPath(VirtualPathUtility.ToAbsolute("~/User_Resume/" + resumename)));
            msg.Attachments.Add(att);
        }
        if (sresumename.Length > 0)
        {
            Attachment att1 = new Attachment(Server.MapPath(VirtualPathUtility.ToAbsolute("~/User_Resume/" + sresumename)));
            msg.Attachments.Add(att1);
        }
        System.Net.Mail.SmtpClient cli = new System.Net.Mail.SmtpClient("111.111.111.111",25);
        cli.Credentials = new NetworkCredential("nnnnnnn", "yyyyyy");
        cli.Send(msg);
        msg.Dispose();
        ScriptManager.RegisterStartupScript(this, this.GetType(), "message", "alert('Inquiry submitted successfully');", true);
    }
    catch (Exception ex)
    {
        ScriptManager.RegisterStartupScript(this, this.GetType(), "message", "alert('"+ex.Message+"');", true);
    }
} 
```

# sql - 建议一种有效的查询方式

> ID：15017134
> 
> 赞同：2
> 
> 时间：2013-02-22T04:56:08.860
> 
> 标签：sql, oracle, group-by

给定一个表`[a, b, c, d]`，我想准确地选择那些`max(a)`在组内的行`c`

即带有`a`=的行`select max(a) from table group by c`

最有效的方法是什么？我可以使用分区条款等吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T06:39:39.527

在现实世界中，几乎任何时候都存在可以推测对您有利的线索，问题的特殊性。

您的问题虽然是理想情况，但没有特殊性。此查询将完整扫描表，然后进行一些排序以找到最大值 a：

```
select a,b,c,d
from(
    select 
      a,
      b,
      c,
      d, 
      row_number() over (partition by c order by a desc) as rnk_in_group_of_c
    from table
)
where rnk_in_group_of_c = 1; 
```

此查询比使用子查询查找最大值要好，因为它可能会导致多次完整扫描、不需要的嵌套循环或其他性能问题。

请注意，如果您想要所有具有最大 a 的行（即有两个相等的最大行），您应该使用`dense_rank()`函数而不是`row_number()`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T07:51:01.917

您是否尝试过`keep (dense_rank first`这对我有很大帮助，并且性能会好很多。

```
select 
   max(a) a,
   max(b) keep (dense_rank first order by a desc) b,
   c,
   max(d) keep (dense_rank first order by a desc) d
from table
group by c 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T18:26:34.433

分区后可以添加可选的 order by：

```
 SELECT max(a) OVER (PARTITION BY c) max_c FROM... 
```

# javascript - JS 的简单继承实现：这是一个很好的例子吗？

> ID：15017142
> 
> 赞同：0
> 
> 时间：2013-02-22T04:56:31.507
> 
> 标签：javascript, node.js, class, inheritance

来自Dojo，我*真的很*怀念Dojo的*很多*`declare()`功能。我正在开发一个复杂的应用程序，并且我从 Node 中破解了生活地狱，`lang.inherits()`以使其更......好吧，更强大。

这是一个示例，向您展示它的实际作用：

```
var First = declare( null, {
  one: function(p){ 
    console.log("one in First");
    console.log(p); 
    return 1000; 
  },
  two: function(p){ 
    console.log("two in First");
    console.log(p);
    return 1001; 
  },
  constructor: function(a){ 
    this.a = a; 
    console.log("Constructor of First called");
  },
})

var Second = declare( First, {
  two: function( p ){
    console.log("two in Second"); 
    console.log( p );
    a = this.inherited(arguments);
    console.log("Inherited function returned: " + a );
  },
  constructor: function(a){ 
    console.log("Constructor of Second called, and this.a is...");
    console.log( this.a );
  },
})

console.log("Creating first...");
first = new First(10);
console.log("Creating second...");
second = new Second( 20 );

console.log( "first.a:")
console.log( first.a );
console.log( "second.a:")
console.log( second.a );

console.log( "first.one(1):")
first.one(1);
console.log( "first.two(2):")
first.two(2);

console.log( "second.one(3):")
second.one(3);
console.log( "second.two(4):")
second.two(4); 
```

将显示：

```
Creating first...
Constructor of First called
Creating second...
Constructor of First called
Constructor of Second called, and this.a is...
20
first.a:
10
second.a:
20
first.one(1):
one in First
1
first.two(2):
two in First
2
second.one(3):
one in First
3
second.two(4):
two in Second
4
two in First
4
Inherited function returned: 1001 
```

我知道这个函数`lang.inherits()`之所以简约是有原因的：nodejs 不想强加特定的方式来处理 Javascript 中的“类”、原型和对象。

但是，很多代码都充满了：

```
function SomeClass( options ){
  this.options = options;
}

SomeClass.prototype.functionOne = function(something){
  //...
}
SomeClass.prototype.functionTwo = function(something){
  //...
} 
```

哪个可以（并且......嗯，应该？）写成：

```
SomeClass = declare( null, {
  constructor: function(options){
    this.options = options;
  },
  functionOne: function(something){
    // ...
  },
  functionTwo: function(something){
    // ...
  },
}) 
```

能够做到的好处是：

```
SomeOtherClass = declare( SomeClass, {
  constructor: function(){
    this.options['manipulate'] ++;
  },
  functionOne: function(something){
    this.inherited(arguments); // Call the superclass method
    // ...
  },
}) 
```

它将自动调用父级的构造函数等（为了实现`this.inherited()`，我实际上最终创建了函数的哈希映射，因为它们实际上是无名的）；

这个和 Dojo 的主要区别是这个版本没有实现多重继承和混合。然而，虽然多重继承/混合在客户端环境中是有意义的，但我觉得它们在服务器端程序中将是一个主要的过度杀伤力。好的......这是代码。你能发现这段代码有什么问题吗？

我发明了一些已经存在的东西吗？

开始了...

```
var 
  dummy
;

var declare = exports.declare = function(superCtor, protoMixin) {

  // Kidnap the `constructor` element from protoMixin, as this
  // it mustn't get copied over into the prototype
  var constructor = protoMixin.constructor;
  delete protoMixin.constructor;

  // The function that will work as the effective constructor. This
  // will be returned
  var ctor = function(){

    // Call the superclass constructor automatically
    if( typeof( superCtor.prototype.constructor === 'function' ) ){
       superCtor.prototype.constructor.apply( this, arguments );
    }

    // Call its own constuctor (kidnapped a second ago)
    if( typeof( constructor ) === 'function' ){
      constructor.apply( this, arguments );
    }
  };

  // The superclass can be either an empty one, or the one passed
  // as a parameter
  superCtor = superCtor === null ? function(){} : superCtor;

  // Create the new class' prototype. It's a new object, which happen to
  // have its own prototype (__proto__) set as the superclass' and the
  // `constructor` attribute set as ctor (the one we are about to return)
  ctor.super_ = superCtor;
  ctor.prototype = Object.create(superCtor.prototype, {
    constructor: {
      value: ctor,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });

  // Implement inherited() so that classes can run this.inherited(arguments)
  // This will only work for sub-classes created using declare() as they are
  // the ones with the _inheritMap in their prototype
  protoMixin.inherited = function(args){
    var name, fn;

    // Look for the name in the _inheritMap
    name = this._inheritMap[ args.callee ];
    if( name ){
      fn = superCtor.prototype[name];
      if( fn ){
        return fn.apply( this, args );
      } else {
        throw( new Error("Method " + name + "() not inherited!") );
      }
    }
  }

  // Copy every element in protoMixin into the prototype.
  ctor.prototype._inheritMap = {}
  for( var k in protoMixin ){
    ctor.prototype[ k ] = protoMixin[ k ];
    ctor.prototype._inheritMap[ protoMixin[ k ] ] = k;
  }

  return ctor;
};
exports = module.exports = declare; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T15:47:21.997

我会看一下`npm install declarejs`，这基本上是 Dojo 声明的一个被撕掉的版本。

[你可以在这里](https://npmjs.org/package/declarejs)找到更多信息

就我个人而言，我更喜欢 Backbone's 之类的东西`.extend()`，它很容易被撕掉。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T14:04:19.067

好吧，我想的答案是“如果它有效，那就太好了！”。它有效……所以：太好了！

供将来参考，“声明”在 GitHub 上：

[https://github.com/mercmobily/JsonRestStores/blob/master/declare.js](https://github.com/mercmobily/JsonRestStores/blob/master/declare.js)

我更新了代码，以便 this.inherited(arguments) 在没有哈希图的情况下工作。

目前，它是以下内容的一部分：

[https://github.com/mercmobily/JsonRestStores](https://github.com/mercmobily/JsonRestStores)

尽管我不妨创建一个单独的存储库，因为它本身*就是*一个方便的功能！

默克。

# php - 多 sql 命令不适用于 PHP

> ID：15017143
> 
> 赞同：0
> 
> 时间：2013-02-22T04:56:32.183
> 
> 标签：php, mysql

我有任何用于从表的字段创建备份的 sql 命令，我在 phpmyadmin 中使用这个 bewlow 命令：

**SQL：**

```
CREATE TEMPORARY TABLE tmptable_1 SELECT * FROM sale_khomsi;
UPDATE tmptable_1 SET id= NULL , faal= 1;
INSERT INTO sale_khomsi SELECT * FROM tmptable_1;
DROP TEMPORARY TABLE IF EXISTS tmptable_1; 
```

这可以正常工作，但是在将此命令运行到 az 之类的 php 代码中之后：

**PHP：**

```
$reslut=mysql_query("CREATE TEMPORARY TABLE tmptable_1 SELECT * FROM sale_khomsi;
UPDATE tmptable_1 SET id= NULL , faal= 1;
INSERT INTO sale_khomsi SELECT * FROM tmptable_1;
DROP TEMPORARY TABLE IF EXISTS tmptable_1;"); 
```

不工作。

**MYSQL 到 PHPMYADMIN 的结果：**

```
CREATE TEMPORARY TABLE tmptable_1 SELECT * FROM sale_khomsi;# 4 rows affected.
UPDATE tmptable_1 SET id= NULL , faal= 1;# 4 rows affected.
INSERT INTO sale_khomsi SELECT * FROM tmptable_1;# 4 rows affected.
DROP TEMPORARY TABLE IF EXISTS tmptable_1;# MySQL returned an empty result set (i.e. zero rows). 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T05:00:49.477

在 mysql 中没有执行多查询的选项。但是，如果您选择 mysqli，它就在那里。

```
mysqli_multi_query() 
```

但是，如果只想使用mysql，则意味着您可以为这些事情进行程序。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T05:00:58.477

phpMyAdmin 使用 ; 作为对数据库的调用之间的分隔符。因此，在 phpMyAdmin 中输入该字符串将导致 4 个查询运行，而不是像您那样运行一个大量查询。你需要把它分解。

```
$result = mysql_query("CREATE TEMPORARY TABLE tmptable_1 SELECT * FROM sale_khomsi");

$result = mysql_query("UPDATE tmptable_1 SET id= NULL , faal= 1");  

$result = mysql_query("INSERT INTO sale_khomsi SELECT * FROM tmptable_1");

$result = mysql_query("DROP TEMPORARY TABLE IF EXISTS tmptable_1"); 
```

这应该会给你想要的结果。当然，您需要检查结果的结果以确保查询成功。

# android - 无法恢复意外移动的 Android 可绘制资源文件夹

> ID：15017144
> 
> 赞同：0
> 
> 时间：2013-02-22T04:56:35.267
> 
> 标签：android

*我不小心把drawable-hdpi*资源文件夹拖到了*menu*文件夹下。如屏幕截图所示，这给我留下了一个空的*drawable-hdpi*文件夹，其中保留了一个红色 x

![在此处输入图像描述](../Images/b82e0df2ee19e2f2629c1084dbd6dcfb.png)

执行撤消移动给了我一个错误，说该文件夹已存在于其当前位置。我无法将它拖回*res*下，因为我遇到了类似的错误。

我能够将移动的可绘制文件夹的内容移动到其原始位置的左侧，但它上面的红色 x 仍然存在（在刷新并重新启动 Eclipse 之后）......这与我有关。

红色的 X 是什么意思？（注意，这与出现错误时得到的 X 不同）

任何人都知道我可以做些什么来正确恢复可绘制文件夹？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:06:49.517

你能做的最简单的事情是。

1.  浏览到工作区文件夹以找到您的工作区文件夹。我的意思是文件资源管理器不在 Eclipse 中。顺便关闭eclipse。例如，如果工作区是`c:\workspace`并且项目是`testproject`，您应该正在浏览`c:\workspace\testproject\res\menu\drawable-hdpi`
2.  从这里复制所有内容，然后返回`c:\workspace\testproject\res\drawable-hdpi`并粘贴到这里。
3.  `drawable-ldpi`对文件夹执行相同操作。**从menu**下的文件夹中复制内容并将其放入`res\drawable-ldpi`.
4.  从菜单文件夹中的文件夹中手动删除可绘制文件夹。
5.  开始日食。选择您的*项目*并按`F5`或 右键单击​​项目并选择**Refresh**。

如果您仍然有错误，请转到*Project Menu -> Clean*。

让我知道事情的进展。

# c# - C# System.Threading.Thread.CurrentThread.CurrentUICulture 不存在

> ID：15017146
> 
> 赞同：0
> 
> 时间：2013-02-22T04:56:40.120
> 
> 标签：c#, multithreading, cultureinfo, currentuiculture

我正在开发一个`Windows CE 6.0`支持多语言的程序。但我收到一个`System.Threading.Thread.CurrentThread.CurrentUICulture`不存在的错误。如何使用`CurrentUICulture`？

# java - jTextArea 作为 IO 控制台

> ID：15017148
> 
> 赞同：0
> 
> 时间：2013-02-22T04:56:59.633
> 
> 标签：java, swing, jtextarea

如何将用户的输入（仅用户输入）发送到输出流？

我目前正在使用keylistner，

```
jTextArea console = new jTextArea;
console.addKeyListener(new java.awt.event.KeyAdapter() {
        public void keyReleased(java.awt.event.KeyEvent e){
            //save the last lines for console to variable input
            if(e.getKeyCode() == java.awt.event.KeyEvent.VK_ENTER){

                try {
                    int line = console.getLineCount() -2;
                    int start = console.getLineStartOffset(line);
                    int end = console.getLineEndOffset(line);
                    input = console.getText(start, end  - start);
                    send = true;
                } catch (Exception e1) {
                    e1.printStackTrace();
                }
            }
        }
    });` 
```

如您所见，当用户按下`Enter`按键时，控制台的最后一行 textarea。

我想要发生的是，只发送用户输入，而不是整个最后一行。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T13:13:08.180

好吧，这就是我的想法……

基本思想是我们要跟踪“用户”输入和“进程”输出。

基本上我所做的是设置它，以便当进程终止时，我们计算文档中插入符号的当前位置并将其标记为用户输入的开始位置。

此示例不包括将输出写入进程，您可以将其滑入；）

```
import java.awt.BorderLayout;
import java.awt.EventQueue;
import java.awt.event.KeyAdapter;
import java.awt.event.KeyEvent;
import java.io.IOException;
import java.io.InputStream;
import java.lang.reflect.InvocationTargetException;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.SwingUtilities;
import javax.swing.UIManager;
import javax.swing.UnsupportedLookAndFeelException;
import javax.swing.text.BadLocationException;
import org.w3c.dom.ls.LSException;

public class QuickTerminal {

    public static void main(String[] args) {
        new QuickTerminal();
    }

    public QuickTerminal() {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {
                }

                JFrame frame = new JFrame("Testing");
                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                frame.setLayout(new BorderLayout());
                frame.add(new ConsolePane());
                frame.pack();
                frame.setLocationRelativeTo(null);
                frame.setVisible(true);
            }

        });
    }

    public interface CommandListener {

        public void commandOutput(String text);

        public void commandCompleted(String cmd, int result);

        public void commandFailed(Exception exp);

    }

    public class ConsolePane extends JPanel implements CommandListener {

        private JTextArea textArea;
        private int userInputStart = 0;
        private Command cmd;

        public ConsolePane() {

            cmd = new Command(this);

            setLayout(new BorderLayout());
            textArea = new JTextArea(20, 30);
            add(new JScrollPane(textArea));

            textArea.addKeyListener(new KeyAdapter() {
                @Override
                public void keyPressed(KeyEvent e) {
                    if (e.getKeyCode() == KeyEvent.VK_ENTER) {
                        int range = textArea.getCaretPosition() - userInputStart;
                        try {
                            String text = textArea.getText(userInputStart, range).trim();
                            System.out.println("[" + text + "]");
                            userInputStart += range;
                            if (!cmd.isRunning()) {
                                cmd.execute(text);
                            } else {
                            }
                        } catch (BadLocationException ex) {
                            Logger.getLogger(QuickTerminal.class.getName()).log(Level.SEVERE, null, ex);
                        }
                    } else {
//                        if (!cmd.isRunning()) {
//                            cmd.send(...);
//                        }
                    }
                }

            });
        }

        @Override
        public void commandOutput(String text) {
            SwingUtilities.invokeLater(new AppendTask(textArea, text));
        }

        @Override
        public void commandFailed(Exception exp) {
            SwingUtilities.invokeLater(new AppendTask(textArea, "Command failed - " + exp.getMessage()));
        }

        @Override
        public void commandCompleted(String cmd, int result) {
            SwingUtilities.invokeLater(new Runnable() {
                @Override
                public void run() {
                    int pos = textArea.getCaretPosition();

                    System.out.println("pos = " + pos + "; length = " + textArea.getText().length());

                    textArea.setCaretPosition(textArea.getText().length());
                    userInputStart = pos;
                }
            });
        }

    }

    public class AppendTask implements Runnable {

        private JTextArea textArea;
        private String text;

        public AppendTask(JTextArea textArea, String text) {
            this.textArea = textArea;
            this.text = text;
        }

        @Override
        public void run() {
            textArea.append(text);
        }

    }

    public class Command {

        private CommandListener listener;

        private ProcessRunner runner;

        public Command(CommandListener listener) {
            this.listener = listener;
        }

        public boolean isRunning() {

            return runner != null && runner.isAlive();

        }

        public void execute(String cmd) {

            if (!cmd.trim().isEmpty()) {

                List<String> values = new ArrayList<>(25);
                if (cmd.contains("\"")) {

                    while (cmd.contains("\"")) {

                        String start = cmd.substring(0, cmd.indexOf("\""));
                        cmd = cmd.substring(start.length());
                        String quote = cmd.substring(cmd.indexOf("\"") + 1);
                        cmd = cmd.substring(cmd.indexOf("\"") + 1);
                        quote = quote.substring(0, cmd.indexOf("\""));
                        cmd = cmd.substring(cmd.indexOf("\"") + 1);

                        if (!start.trim().isEmpty()) {
                            String parts[] = start.trim().split(" ");
                            values.addAll(Arrays.asList(parts));
                        }
                        values.add(quote.trim());

                    }

                    if (!cmd.trim().isEmpty()) {
                        String parts[] = cmd.trim().split(" ");
                        values.addAll(Arrays.asList(parts));
                    }

                    for (String value : values) {
                        System.out.println("[" + value + "]");
                    }

                } else {

                    if (!cmd.trim().isEmpty()) {
                        String parts[] = cmd.trim().split(" ");
                        values.addAll(Arrays.asList(parts));
                    }

                }

                runner = new ProcessRunner(listener, values);

            }

        }

        public void send(String cmd) {
            // Send user input to the running process...
        }

    }

    public class ProcessRunner extends Thread {

        private List<String> cmds;
        private CommandListener listener;

        public ProcessRunner(CommandListener listener, List<String> cmds) {
            this.cmds = cmds;
            this.listener = listener;
            start();
        }

        @Override
        public void run() {
            try {
                System.out.println("cmds = " + cmds);
                ProcessBuilder pb = new ProcessBuilder(cmds);
                pb.redirectErrorStream();
                Process p = pb.start();
                StreamReader reader = new StreamReader(listener, p.getInputStream());
                // Need a stream writer...

                int result = p.waitFor();

                // Terminate the stream writer
                reader.join();

                listener.commandCompleted(null, result);
            } catch (Exception exp) {
                exp.printStackTrace();
            }
        }

    }

    public class StreamReader extends Thread {

        private InputStream is;
        private CommandListener listener;

        public StreamReader(CommandListener listener, InputStream is) {
            this.is = is;
            this.listener = listener;
            start();
        }

        @Override
        public void run() {
            try {
                int value = -1;
                while ((value = is.read()) != -1) {
                    listener.commandOutput(Character.toString((char) value));
                }
            } catch (IOException exp) {
                exp.printStackTrace();
            }
        }

    }

} 
```

PS-我在我的 Mac 上运行它，所以你可能需要为 Windows 调用“cmd”...；）

PPS- 这是一个不完整的示例，如果不是凌晨 1 点，我可能会填写它，但是，这不会阻止用户按下最后一个已知用户输入位置之外的空格。如果我要解决这个问题，我会使用 a`DocumentFilter`并简单地“保护”用户位置之前的所有文本，不允许用户删除它

**更新了“受保护的 DocumentFilter”示例**

向不应再允许用户编辑的`DocumentFilter`受保护区域添加了“受保护” 。`Document`

```
import java.awt.BorderLayout;
import java.awt.EventQueue;
import java.awt.event.KeyAdapter;
import java.awt.event.KeyEvent;
import java.io.IOException;
import java.io.InputStream;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.SwingUtilities;
import javax.swing.UIManager;
import javax.swing.UnsupportedLookAndFeelException;
import javax.swing.text.AbstractDocument;
import javax.swing.text.AttributeSet;
import javax.swing.text.BadLocationException;
import javax.swing.text.DocumentFilter;

public class QuickTerminal {

    public static void main(String[] args) {
        new QuickTerminal();
    }

    public QuickTerminal() {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {
                }

                JFrame frame = new JFrame("Testing");
                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                frame.setLayout(new BorderLayout());
                frame.add(new ConsolePane());
                frame.pack();
                frame.setLocationRelativeTo(null);
                frame.setVisible(true);
            }
        });
    }

    public interface CommandListener {

        public void commandOutput(String text);

        public void commandCompleted(String cmd, int result);

        public void commandFailed(Exception exp);
    }

    public class ConsolePane extends JPanel implements CommandListener, UserInput {

        private JTextArea textArea;
        private int userInputStart = 0;
        private Command cmd;

        public ConsolePane() {

            cmd = new Command(this);

            setLayout(new BorderLayout());
            textArea = new JTextArea(20, 30);
            ((AbstractDocument)textArea.getDocument()).setDocumentFilter(new ProtectedDocumentFilter(this));
            add(new JScrollPane(textArea));

            textArea.addKeyListener(new KeyAdapter() {
                @Override
                public void keyPressed(KeyEvent e) {
                    if (e.getKeyCode() == KeyEvent.VK_ENTER) {
                        int range = textArea.getCaretPosition() - userInputStart;
                        try {
                            String text = textArea.getText(userInputStart, range).trim();
                            System.out.println("[" + text + "]");
                            userInputStart += range;
                            if (!cmd.isRunning()) {
                                cmd.execute(text);
                            } else {
                            }
                        } catch (BadLocationException ex) {
                            Logger.getLogger(QuickTerminal.class.getName()).log(Level.SEVERE, null, ex);
                        }
                    } else {
//                        if (!cmd.isRunning()) {
//                            cmd.send(...);
//                        }
                    }
                }
            });
        }

        @Override
        public void commandOutput(String text) {
            SwingUtilities.invokeLater(new AppendTask(textArea, text));
        }

        @Override
        public void commandFailed(Exception exp) {
            SwingUtilities.invokeLater(new AppendTask(textArea, "Command failed - " + exp.getMessage()));
        }

        @Override
        public void commandCompleted(String cmd, int result) {
            SwingUtilities.invokeLater(new Runnable() {
                @Override
                public void run() {
                    int pos = textArea.getCaretPosition();

                    System.out.println("pos = " + pos + "; length = " + textArea.getText().length());

                    textArea.setCaretPosition(textArea.getText().length());
                    userInputStart = pos;
                }
            });
        }

        @Override
        public int getUserInputStart() {
            return userInputStart;
        }
    }

    public interface UserInput {

        public int getUserInputStart();
    }

    public class AppendTask implements Runnable {

        private JTextArea textArea;
        private String text;

        public AppendTask(JTextArea textArea, String text) {
            this.textArea = textArea;
            this.text = text;
        }

        @Override
        public void run() {
            textArea.append(text);
        }
    }

    public class Command {

        private CommandListener listener;
        private ProcessRunner runner;

        public Command(CommandListener listener) {
            this.listener = listener;
        }

        public boolean isRunning() {

            return runner != null && runner.isAlive();

        }

        public void execute(String cmd) {

            if (!cmd.trim().isEmpty()) {

                List<String> values = new ArrayList<>(25);
                if (cmd.contains("\"")) {

                    while (cmd.contains("\"")) {

                        String start = cmd.substring(0, cmd.indexOf("\""));
                        cmd = cmd.substring(start.length());
                        String quote = cmd.substring(cmd.indexOf("\"") + 1);
                        cmd = cmd.substring(cmd.indexOf("\"") + 1);
                        quote = quote.substring(0, cmd.indexOf("\""));
                        cmd = cmd.substring(cmd.indexOf("\"") + 1);

                        if (!start.trim().isEmpty()) {
                            String parts[] = start.trim().split(" ");
                            values.addAll(Arrays.asList(parts));
                        }
                        values.add(quote.trim());

                    }

                    if (!cmd.trim().isEmpty()) {
                        String parts[] = cmd.trim().split(" ");
                        values.addAll(Arrays.asList(parts));
                    }

                    for (String value : values) {
                        System.out.println("[" + value + "]");
                    }

                } else {

                    if (!cmd.trim().isEmpty()) {
                        String parts[] = cmd.trim().split(" ");
                        values.addAll(Arrays.asList(parts));
                    }

                }

                runner = new ProcessRunner(listener, values);

            }

        }

        public void send(String cmd) {
            // Send user input to the running process...
        }
    }

    public class ProcessRunner extends Thread {

        private List<String> cmds;
        private CommandListener listener;

        public ProcessRunner(CommandListener listener, List<String> cmds) {
            this.cmds = cmds;
            this.listener = listener;
            start();
        }

        @Override
        public void run() {
            try {
                System.out.println("cmds = " + cmds);
                ProcessBuilder pb = new ProcessBuilder(cmds);
                pb.redirectErrorStream();
                Process p = pb.start();
                StreamReader reader = new StreamReader(listener, p.getInputStream());
                // Need a stream writer...

                int result = p.waitFor();

                // Terminate the stream writer
                reader.join();

                listener.commandCompleted(null, result);
            } catch (Exception exp) {
                exp.printStackTrace();
            }
        }
    }

    public class StreamReader extends Thread {

        private InputStream is;
        private CommandListener listener;

        public StreamReader(CommandListener listener, InputStream is) {
            this.is = is;
            this.listener = listener;
            start();
        }

        @Override
        public void run() {
            try {
                int value = -1;
                while ((value = is.read()) != -1) {
                    listener.commandOutput(Character.toString((char) value));
                }
            } catch (IOException exp) {
                exp.printStackTrace();
            }
        }
    }

    public class ProtectedDocumentFilter extends DocumentFilter {

        private UserInput userInput;

        public ProtectedDocumentFilter(UserInput userInput) {
            this.userInput = userInput;
        }

        public UserInput getUserInput() {
            return userInput;
        }

        @Override
        public void insertString(FilterBypass fb, int offset, String string, AttributeSet attr) throws BadLocationException {
            if (offset >= getUserInput().getUserInputStart()) {
                super.insertString(fb, offset, string, attr);
            }
        }

        @Override
        public void remove(FilterBypass fb, int offset, int length) throws BadLocationException {
            if (offset >= getUserInput().getUserInputStart()) {
                super.remove(fb, offset, length); //To change body of generated methods, choose Tools | Templates.
            }
        }

        @Override
        public void replace(FilterBypass fb, int offset, int length, String text, AttributeSet attrs) throws BadLocationException {
            if (offset >= getUserInput().getUserInputStart()) {
                super.replace(fb, offset, length, text, attrs); //To change body of generated methods, choose Tools | Templates.
            }
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T05:51:18.700

我建议当释放任何其他键时，如果 starflag = true 你存储开始，并按照你所说的将 startflag 设置为 false ，当实际按下“enter”时，你可以做 startflag = true; 并将结尾存储为 getCaretPosition()。

除此之外，我对您的意图的理解有些模糊，但这是我的想法：如果您的控制台中正在进行各种“对话”，并且您想要所有用户条目，那么您可以简单地使用 ArrayList 用户输入，而不是 start = console.getCaretPosition()，你可以做 userinputs.add(new Point(console.getCaretPosition(),-1)); 然后当用户结束他的输入时（或在 STDOUT 发送输入之前），执行 userinputs.get(userinputs.size()-1).y = console.getCaretPosition()(或者你可以存储一个临时点，只添加指向它的完成 - 当它也结束时。）

如果您在按下回车键时将用户输入发送到输出，那么我看不出除了上面的简单代码之外还需要什么，它基本上是这样工作的：

```
public void keyReleased(KeyEvent e){
if(e.getKeyCode() == KeyEvent.VK_ENTER){
    startflag = true;
    //Just get the text from the start(stored below), and up until where the caret is now, as the users output.
}else{
    if(startflag){
         start = console.getCaretPosition()
         startflag = false;
    }
}
} 
```

# c - 是否可以在 MonoMac 中加载 Qt 依赖库（dylib）以及如何加载？

> ID：15017150
> 
> 赞同：3
> 
> 时间：2013-02-22T04:57:01.463
> 
> 标签：c, qt, monodevelop, dylib

我需要`dllImport`在 MonoMac 项目（C#）中创建一个和一些外部函数。我将该库添加到最新版本的 MonoDevelop 中，并带有`Add Native Reference`项目选项。

然后我添加了`dllImport`和 extern 函数，我得到一个异常，说找不到 Dll。在路径上运行 a 后`System.IO.File.Exists()`，我决定使用 Dlfcn.dlopen() 测试加载库的方法，它返回 0。

然后我复制了我的 bin/debug 文件夹（在我的项目文件夹中）中的整个框架目录，并为框架中的每个库创建了本机引用。试图加载 libcrypto.1.0.0.dylib，它没有工作。

我开始认为我使用的方法可能有问题。然后我得到了我的 sqlLite 3 dylib，复制了它并尝试了相同的测试并得到了一个带有`Dlfcn.dlopen()`.

我在这里想念什么？我通常不希望将整个 Qt 包袱放在那里，但我必须使用的本机 dylib 使用这个框架。

有什么办法可以参考这个dylib？

# c# - .NET 3.5 中 Enum.TryParse 的实现

> ID：15017151
> 
> 赞同：7
> 
> 时间：2013-02-22T04:57:04.103
> 
> 标签：c#, .net

如何在 .NET 3.5 中实现 .NET 4 的 Enum.TryParse 方法？

```
public static bool TryParse<TEnum>(string value, out TEnum result) where TEnum : struct 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-22T05:23:22.963

我不喜欢使用 a`try-catch`来处理任何转换失败或其他非异常事件作为我的应用程序正常流程的一部分，因此我自己`Enum.TryParse`的 .NET 3.5 及更早版本使用该`Enum.IsDefined()`方法来确保不会出现异常由 Enum.Parse() 抛出。您还可以包括一些空检查`value`以防止`ArgumentNullException`if 值为空。

```
public static bool TryParse<TEnum>(string value, out TEnum result)
    where TEnum : struct, IConvertible
{
    var retValue = value == null ? 
                false : 
                Enum.IsDefined(typeof(TEnum), value);
    result = retValue ?
                (TEnum)Enum.Parse(typeof(TEnum), value) :
                default(TEnum);
    return retValue;
} 
```

显然，此方法不会驻留在`Enum`类中，因此您将需要一个适当的类来包含此方法。

一个限制是对泛型方法缺乏`enum`约束，因此您必须考虑如何处理不正确的类型。 `Enum.IsDefined`将抛出`ArgumentException`if `TEnum`is not an`enum`但唯一的其他选项是运行时检查并抛出不同的异常，因此我通常不会添加额外的检查，只是让这些方法中的类型检查为我处理。我会考虑添加`IConvertible`另一个约束，只是为了帮助更多地约束类型。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-22T12:44:38.613

花费的时间比我希望的要长，但它有效并且已经过测试。希望这可以节省一些时间！

```
 private static readonly char[] FlagDelimiter = new [] { ',' };

    public static bool TryParseEnum<TEnum>(string value, out TEnum result) where TEnum : struct {
        if (string.IsNullOrEmpty(value)) {
            result = default(TEnum);
            return false;
        }

        var enumType = typeof(TEnum);

        if (!enumType.IsEnum)
            throw new ArgumentException(string.Format("Type '{0}' is not an enum", enumType.FullName));

        result = default(TEnum);

        // Try to parse the value directly 
        if (Enum.IsDefined(enumType, value)) {
            result = (TEnum)Enum.Parse(enumType, value);
            return true;
        }

        // Get some info on enum
        var enumValues = Enum.GetValues(enumType);
        if (enumValues.Length == 0)
            return false;  // probably can't happen as you cant define empty enum?
        var enumTypeCode = Type.GetTypeCode(enumValues.GetValue(0).GetType());

        // Try to parse it as a flag 
        if (value.IndexOf(',') != -1) {
            if (!Attribute.IsDefined(enumType, typeof(FlagsAttribute)))
                return false;  // value has flags but enum is not flags

            // todo: cache this for efficiency
            var enumInfo = new Dictionary<string, object>();
            var enumNames = Enum.GetNames(enumType);
            for (var i = 0; i < enumNames.Length; i++)
                enumInfo.Add(enumNames[i], enumValues.GetValue(i));

            ulong retVal = 0;
            foreach(var name in value.Split(FlagDelimiter)) {
                var trimmedName = name.Trim();
                if (!enumInfo.ContainsKey(trimmedName))
                    return false;   // Enum has no such flag

                var enumValueObject = enumInfo[trimmedName];
                ulong enumValueLong;
                switch (enumTypeCode) {
                    case TypeCode.Byte:
                        enumValueLong = (byte)enumValueObject;
                        break;
                    case TypeCode.SByte:
                        enumValueLong = (byte)((sbyte)enumValueObject);
                        break;
                    case TypeCode.Int16:
                        enumValueLong = (ushort)((short)enumValueObject);
                        break;
                    case TypeCode.Int32:
                        enumValueLong = (uint)((int)enumValueObject);
                        break;
                    case TypeCode.Int64:
                        enumValueLong = (ulong)((long)enumValueObject);
                        break;
                    case TypeCode.UInt16:
                        enumValueLong = (ushort)enumValueObject;
                        break;
                    case TypeCode.UInt32:
                        enumValueLong = (uint)enumValueObject;
                        break;
                    case TypeCode.UInt64:
                        enumValueLong = (ulong)enumValueObject;
                        break;
                    default:
                        return false;   // should never happen
                }
                retVal |= enumValueLong;
            }
            result = (TEnum)Enum.ToObject(enumType, retVal);
            return true;
        }

        // the value may be a number, so parse it directly
        switch (enumTypeCode) {
            case TypeCode.SByte:
                sbyte sb;
                if (!SByte.TryParse(value, out sb))
                    return false;
                result = (TEnum)Enum.ToObject(enumType, sb);
                break;
            case TypeCode.Byte:
                byte b;
                if (!Byte.TryParse(value, out b))
                    return false;
                result = (TEnum)Enum.ToObject(enumType, b);
                break;
            case TypeCode.Int16:
                short i16;
                if (!Int16.TryParse(value, out i16))
                    return false;
                result = (TEnum)Enum.ToObject(enumType, i16);
                break;
            case TypeCode.UInt16:
                ushort u16;
                if (!UInt16.TryParse(value, out u16))
                    return false;
                result = (TEnum)Enum.ToObject(enumType, u16);
                break;
            case TypeCode.Int32:
                int i32;
                if (!Int32.TryParse(value, out i32))
                    return false;
                result = (TEnum)Enum.ToObject(enumType, i32);
                break;
            case TypeCode.UInt32:
                uint u32;
                if (!UInt32.TryParse(value, out u32))
                    return false;
                result = (TEnum)Enum.ToObject(enumType, u32);
                break;
            case TypeCode.Int64:
                long i64;
                if (!Int64.TryParse(value, out i64))
                    return false;
                result = (TEnum)Enum.ToObject(enumType, i64);
                break;
            case TypeCode.UInt64:
                ulong u64;
                if (!UInt64.TryParse(value, out u64))
                    return false;
                result = (TEnum)Enum.ToObject(enumType, u64);
                break;
            default:
                return false; // should never happen
        }

        return true;
    } 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-04-19T21:46:57.090

在[NLog](https://github.com/NLog/NLog)，我们还需要`Enum.TryParse`.Net 3.5。我们已经实现了受这篇文章影响的基本功能（仅解析、区分大小写和不区分大小写、无标志）。

这个基本实现是高度单元测试的，因此它具有与 Microsoft 的 .Net 4 实现相同的行为。

```
/// <summary>
/// Enum.TryParse implementation for .net 3.5 
/// 
/// </summary>
/// <returns></returns>
/// <remarks>Don't uses reflection</remarks>
// ReSharper disable once UnusedMember.Local
private static bool TryParseEnum_net3<TEnum>(string value, bool ignoreCase, out TEnum result) where TEnum : struct
{
    var enumType = typeof(TEnum);
    if (!enumType.IsEnum())
        throw new ArgumentException($"Type '{enumType.FullName}' is not an enum");

    if (StringHelpers.IsNullOrWhiteSpace(value))
    {
        result = default(TEnum);
        return false;
    }

    try
    {
        result = (TEnum)Enum.Parse(enumType, value, ignoreCase);
        return true;
    }
    catch (Exception)
    {
        result = default(TEnum);
        return false;
    }
} 
```

并且正在使用：

```
public static class StringHelpers
{
    /// <summary>
    /// IsNullOrWhiteSpace, including for .NET 3.5
    /// </summary>
    /// <param name="value"></param>
    /// <returns></returns>
    [ContractAnnotation("value:null => true")]
    internal static bool IsNullOrWhiteSpace(string value)
    {
#if NET3_5

        if (value == null) return true;
        if (value.Length == 0) return true;
        return String.IsNullOrEmpty(value.Trim());
#else
        return string.IsNullOrWhiteSpace(value);
#endif
    }
} 
```

代码可以在[NLog GitHub 上找到](https://github.com/NLog/NLog/blob/ceb6018b6449e83e76f4907040d903baa3fe7b7f/src/NLog/Common/ConversionHelpers.cs)，[单元测试也在 GitHub](https://github.com/NLog/NLog/blob/ceb6018b6449e83e76f4907040d903baa3fe7b7f/tests/NLog.UnitTests/Internal/ConversionHelpersTests.cs) (xUnit)

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-02-22T05:05:50.533

它不会是 Enum 上的静态方法（静态扩展方法不太有意义），但它应该可以工作

```
public static class EnumHelpers
{
    public static bool TryParse<TEnum>(string value, out TEnum result)
        where TEnum : struct
    {
        try
        {
            result = (TEnum)Enum.Parse(typeof(TEnum), value); 
        }
        catch
        {
            result = default;
            return false;
        }

        return true;
    }
} 
```

# c - 在这两个函数中，为什么需要执行 WATCHDOG_RESET()？

> ID：15017157
> 
> 赞同：0
> 
> 时间：2013-02-22T04:57:42.287
> 
> 标签：c, linux

```
 void NS16550_putc(NS16550_t com_port, char c)
    {
        while ((serial_in(&com_port->lsr) & UART_LSR_THRE) == 0);
    //write to the THR 
        serial_out(c, &com_port->thr);
        if (c == '\n')
    //why do we require to call this watch dog reset
        WATCHDOG_RESET();
    } 
```

* * *

```
 char NS16550_getc(NS16550_t com_port)
    {
        while ((serial_in(&com_port->lsr) & UART_LSR_DR) == 0) {    
    #ifdef CONFIG_USB_TTY    
        extern void usbtty_poll(void);    
        usbtty_poll();    
    #endif
    //why do we require to call this watch dog reset
        WATCHDOG_RESET();    
    }
    //return the rbr value 
        return serial_in(&com_port->rbr);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:06:46.323

我不知道这段代码的上下文。

但很可能是因为您不希望您的操作持续太久以至于看门狗超时（并重置您的设备......）

例如，

```
while ((serial_in(&com_port->lsr) & UART_LSR_DR) == 0) {    
    #ifdef CONFIG_USB_TTY    
        extern void usbtty_poll(void);    
        usbtty_poll();    
    #endif
    //why do we require to call this watch dog reset
        WATCHDOG_RESET();    
    } 
```

在上面的代码中，你在这个while循环中重复验证了一些条件，现在这个循环可能会运行很长时间，如果你不重置你的看门狗定时器（或踢你的看门狗），看门狗可能会超时最终。

# sql - 在 where 子句中选择行并保持文本的顺序

> ID：15017160
> 
> 赞同：1
> 
> 时间：2013-02-22T04:57:53.993
> 
> 标签：sql, oracle10g

我有很多文本数据，我必须将它们用作从数据库返回其他数据的键。问题是其中一些键不存在。他们查询我正在寻找的应该为他们返回空行

```
select column1, column2,column3 from mobilenumbers where mobile_number in ('123456789','123456798'); 
```

到目前为止，我发现的唯一方法是使用右外连接，但是这只适用于两个表，我有一个表和文本数据作为键。

在有人问之前......我无法创建一个表格来放入这些数据。

如果有帮助，这是一个 oracle 10g 数据库。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T08:24:03.437

你可以这样做。

首先，获得您选择的公共 varrrray ..通常有很多。

```
--pick a public VARRAY.
select owner, type_name from all_Coll_types where coll_type = 'VARYING ARRAY' 
and elem_type_name = 'VARCHAR2' ; 
```

然后选择保持 IN 列表的顺序：

```
with numbers as (select /*+ cardinality(t, 10) */ rownum r, t.column_value pnumber
  from table(sys.dbmsoutput_linesarray('030390483', '089847547', '0347839874', '020983438')) t
)
select n.pnumber, m.mobile_number
  from numbers n
       left outer join mobilenumbers m
                    on n.pnumber = m.mobile_number
 order by n.r; 
```

例如：[http ://sqlfiddle.com/#!4/9da70/1](http://sqlfiddle.com/#!4/9da70/1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T05:09:40.283

这相当难看，但您可以尝试：

```
SELECT column1, column2, column3
FROM (SELECT 1 FROM DUAL) x
LEFT OUTER JOIN mobilenumbers ON mobile_number = '123456789'
UNION ALL
SELECT column1, column2, column3
FROM (SELECT 1 FROM DUAL) x
LEFT OUTER JOIN mobilenumbers ON mobile_number = '123456798' 
```

[SQL 小提琴示例](http://www.sqlfiddle.com/#!4/1570d/1)

或者，您可以使用此技巧，但它可能无法保持您指定数字的顺序：

```
SELECT column1, column2, column3
FROM TABLE(sys.odcivarchar2list('123456789','123456798')) x
LEFT OUTER JOIN mobilenumbers m ON x.COLUMN_VALUE = m.mobile_number 
```

[SQL 小提琴示例](http://www.sqlfiddle.com/#!4/1570d/3)

# java - Java 中 Google Chrome 和 Mozilla 的导出书签 HTML 文件的解析器

> ID：15017163
> 
> 赞同：7
> 
> 时间：2013-02-22T04:58:24.220
> 
> 标签：java, html, parsing, google-chrome, firefox

我如何用 Java 解析从 Google Chrome 和 Mozilla Firefox 导出的书签文件。是否有任何库可用于直接解析它们并获取其中的 URL。

用 Java 解析它们的示例代码也很受欢迎。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-27T07:20:40.640

In most cases, you don't really need to parse the HTML file. Chrome stores its bookmarks in a JSON file. It's a lot simpler to just read that file using a JSON parser.

The file you are interested in is located at (on Linux, anyway, Google around for other O/S):

```
/home/your_name/.config/google-chrome/Default/Bookmarks 
```

JSON parsing is easy. Google around or start with [How to parse JSON in Java](https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java).

If you want to visualize JSON data before you start digging through it, then also have a look at [http://chris.photobooks.com/json/default.htm](http://chris.photobooks.com/json/default.htm).

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-22T05:19:00.483

根据发布的新评论，解决方案是使用 JSOUP 开源程序来执行此操作。JSOUP 仅接受 HTTP 或 HTTPS 协议，因此您可能希望在本地服务器（如 tomcat）上托管导出的书签 HTML 并获取它的 DOM

```
 http://yourip:<port>/<yourProject>/<bookmark.html>. 
```

JSOUP 是不言自明的。

其他更简单的方法：

Chrome 和 Firefox 书签以 JSON 格式存储，如下所示。

Java方式：我建议你使用JSON来解析这些。根据以下结构创建一个引用 Java 对象。

或者简单地使用 UNIX 命令提示符并执行

```
 grep -i "url" <bookmark file path> | cut -d":" -f2 
```

但是，如果您仍然对 Chrome API 感兴趣，请访问：http: [//developer.chrome.com/extensions/bookmarks.html](http://developer.chrome.com/extensions/bookmarks.html)

```
{
   "checksum": "702d8e600a3d70beccfc78e82ca7caba",
   "roots": {
  "bookmark_bar": {
     "children": [ {
        "date_added": "12939920104154671",
        "id": "3",
        "name": "Development/Tutorials/Git/git-svn - KDE TechBase",
        "type": "url",
        "url": "http://techbase.kde.org/Development/Tutorials/Git/git-svn"
     }, {
        "date_added": "12939995405838705",
        "id": "4",
        "name": "QJson - Usage",
        "type": "url",
        "url": "http://qjson.sourceforge.net/usage.html" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-10-19T17:44:05.463

我对这个问题有点晚了。但如果它仍然相关：我需要做同样的事情（以及其他书签来源：GitHub Stars、Netscape 和 Google Bookmarks）并构建我自己的。您可以从我的仓库中查看并获取它：[https](https://github.com/IvoLimmen/mystart) ://github.com/IvoLimmen/mystart 。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-03-26T16:38:02.000

如果有人有兴趣：这是一个如何处理解析 Chrome 书签 JSON 文件的 scala 片段（虽然没有经过彻底测试，只是为了得到这个想法）：

```
import org.json4s.DefaultFormats
import org.json4s.native.JsonMethods
import org.junit.Test

class BookmarksImporterTest {

  implicit val formats: DefaultFormats.type = DefaultFormats

  def analyse(element: Node): List[Node] = {
   element.children.flatMap(c => {
      c.`type` match {
        case Some("folder") => c.children.flatMap(r => analyse(r))
        case Some("url")    => List(c)
        case _              => println("???"); List()
      }
    })
  }

  @Test
  def test(): Unit = {
    val source    = scala.io.Source.fromFile("bookmarks.json")
    val json      = JsonMethods.parse(source.reader())
    val bookmarks = json.extract[ChromeBookmarks]

    val bms = bookmarks.roots.flatMap {
      case (name, elements) => analyse(elements)
    }
    println("found " + bms.size + " entries")
  }

}

case class ChromeBookmarks(checksum: String, roots: Map[String, Node], version: Int)

case class Node(
    id: Option[String],
    name: Option[String],
    url: Option[String],
    children: List[Node],
    `date-added`: Option[Long],
    `date-modified`: Option[Long],
    `type`: Option[String]
) 
```

# azure - 部署解决方案时 Windows Azure SQL 数据库连接字符串不起作用

> ID：15017165
> 
> 赞同：1
> 
> 时间：2013-02-22T04:58:47.500
> 
> 标签：azure, azure-sql-database

我有一个连接到 SQL Azure 数据库的 MVC3 解决方案（EF 5/Net 4.5）。当我在本地运行该解决方案时，它被配置为连接到 SQL Azure 数据库，该解决方案运行良好。但是，当我将解决方案发布到 Azure 时，与 SQL Azure 数据库的连接不起作用。

ServiceConfiguration.Cloud.csfg 和 ServiceConfiguration.Local.csfg 文件中的连接字符串相同。我还确保通过 Azure 门户，运行 Azure SQL DB 的服务器将“Windows Azure 服务”作为“允许的服务”设置为“是”连接字符串是：

```
<Setting name="SQLDataConnectionString" value="metadata=res://*/FooDB.csdl|res://*/FooDB.ssdl|res://*/FooDB.msl;provider=System.Data.SqlClient;provider connection string=&quot;Data Source=tcp:sahjjh7.database.windows.net,1433;Database=FooDB;User ID=<real user id>;Password=<real password>;Trusted_Connection=False;MultipleActiveResultSets=True;Encrypt=True;Connection Timeout=30;&quot;" /> 
```

任何指针？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-01T23:47:43.993

我不相信 Entity Framework 知道如何从 ServiceConfiguration 中获取连接字符串。是你自己指的吗？如果不是，它实际上可能是 web.config 转换的问题。

# android - BitmapFactory.decodeFile 无法解析为类型

> ID：15017167
> 
> 赞同：1
> 
> 时间：2013-02-22T04:59:00.090
> 
> 标签：android, cordova, bitmap, bitmapfactory

我正在尝试合并 2 张图片，所以我搜索并看到了一个代码片段，在这里[合并了 android 中的两个 png 文件](https://stackoverflow.com/questions/2738834/combining-two-png-files-in-android)

```
Bitmap bottomImage = new BitmapFactory.decodeFile("myFirstPNG.png");
Bitmap topImage = new BitmapFactor.decodeFile("myOtherPNG.png");

Canvas comboImage = new Canvas(bottomImage);
// Then draw the second on top of that
comboImage.drawBitmap(topImage, 0f, 0f, null);

// bottomImage is now a composite of the two. 

// To write the file out to the SDCard:
OutputStream os = null;
try {
    os = new FileOutputStream("/sdcard/DCIM/Camera/" + "myNewFileName.png");
    image.compress(CompressFormat.PNG, 50, os)
} catch(IOException e) {
    e.printStackTrace();
} 
```

我尝试使用它，但由于某种原因**Bitmap bottomImage = new BitmapFactory.decodeFile("myFirstPNG.png");** 给出了一个错误，即 BitmapFactory 无法解析为一种类型，但我已经拥有了两者

```
import android.graphics.Bitmap;
import android.graphics.BitmapFactory; 
```

我正在使用phonegap，并将其放在主要活动中进行测试

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T05:20:15.400

[`decodeFile`](http://developer.android.com/reference/android/graphics/BitmapFactory.html#decodeFile%28java.lang.String%29)是一个静态方法，需要在类范围内调用如下：

```
Bitmap bottomImage = BitmapFactory.decodeFile("myFirstPNG.png");
Bitmap topImage = BitmapFactor.decodeFile("myOtherPNG.png"); 
```

（注意`new`关键字已被删除）

# webgrid - 如果 webgrid 中的条件

> ID：15017169
> 
> 赞同：0
> 
> 时间：2013-02-22T04:59:19.163
> 
> 标签：webgrid

如果项目有图像，我想显示图像，否则没有图像。这是我的代码，但它会出现一些错误。

那么如何在webgrid的格式参数中使用if条件呢？

```
grid.Column("Image", "Ảnh minh họa", format: (item) =>
        if(item.Image == null)
        {
            @<text>Chưa có ảnh minh họa</text>
        }
        else
        {
            @<text><img width="50" height="50" src="@Url.Content("~/images/")@item.Image" /></text>
        }
        , canSort: false) 
```

**编辑：** 我已经解决了这个问题。这是我的代码：

```
grid.Column("Image", "Ảnh minh họa", format: @<text>@if (item.Image == null) { <text>Chưa có ảnh minh họa</text> } else { <text><img width="50" height="50" src="@Url.Content("~/images/")@item.Image" /></text> }</text>
                    , canSort: false), 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T05:16:15.237

试试这样：

```
grid.Column("Image", "Ảnh minh họa", format: (item) =>
        if((string)item.Image == null)
        {
            @<text>Chưa có ảnh minh họa</text>
        }
        else
        {
            @<text><img width="50" height="50" src="@Url.Content(string.Format("~/images/{0}",(string)item.Image))" /></text>
        }
        , canSort: false) 
```

* * *

**编辑**

```
grid.Column("Image", "Ảnh minh họa",
   format: item.Image == null 
   ? @<text>Chưa có ảnh minh họa</text> : @<text><img width="50" height="50" src="@Url.Content(string.Format("~/images/{0}",(string)item.Image))" /></text>, 
   canSort: true) 
```

# ios - 通过 UI 操作动画输入/输出表格视图单元格

> ID：15017174
> 
> 赞同：0
> 
> 时间：2013-02-22T05:00:14.267
> 
> 标签：ios, cocoa-touch, uitableview

我有一个表格视图，其单元格包含一个 UISwitch。对于其中一个，当打开开关时，我想在表格视图中显示一个额外的行。我现在通过在我的`tableView:numberOfRowsInSection:`and`tableView:cellForRowAtIndexPath:`方法中设置条件并调用`reloadData`switch 的事件处理程序来做到这一点。这工作正常。但是，我想为表格单元格设置动画，但我不知道如何将其用于现有的表格视图插入/删除动画 API。

我的代码：

```
- (IBAction)didToggleContractProperties:(id)sender {
    UISwitch *toggle = (UISwitch *)sender;
    switch (toggle.tag) {
        case 100:        // Packaging requested
            self.contract.isPackingRequired = toggle.on;
            [self.tableView reloadData];
            break;
        case 101:        // On-campus pickup
            self.contract.isOnCampus = toggle.on;
            break;
        case 102:        // Insurance requested
            self.contract.isInsuranceRequested = toggle.on;
            break;
        default:
            break;
    }
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {
    // Return the number of rows in the section.
    if (section == 0) {
        if (self.contract.isPackingRequired)
            return 4;
        else
            return 3;
    }
    else if (section == 1)
        return 1;
    else
        return 1;
} 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T05:08:38.110

添加动画表格单元格的方法是这样的

```
[tableView insertRowsAtIndexPaths:indexPaths withRowAnimation:UITableViewRowAnimationRight]; 
```

其中 tableView 是您的表视图， indexPaths 是一个可变数组，其中包含新行的索引路径。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T05:35:54.920

这是您可以为`isPackRequired`交换机执行此操作的方式，例如：

```
- (IBAction)didToggleContractProperties:(id)sender {
    UISwitch *toggle = (UISwitch *)sender;
    switch (toggle.tag) {
        case 100:        // Packaging requested
            if (self.contract.isPackingRequired != toggle.on)
            {
                self.contract.isPackingRequired = toggle.on;
                if (toggle.on)
                {
                    [self.tableView insertRowsAtIndexPaths:@[[NSIndexPath indexPathForRow:3 inSection:0]]
                                          withRowAnimation:UITableViewRowAnimationMiddle];
                }
                else
                {
                    [self.tableView deleteRowsAtIndexPaths:@[[NSIndexPath indexPathForRow:3 inSection:0]]
                                          withRowAnimation:UITableViewRowAnimationMiddle];
                }
            }
            break;
        case 101:        // On-campus pickup
            ...
        default:
            break;
    }
} 
```

显然，将 and 更改`row`为and调用`section`的适当值，以反映您希望插入/删除该行的位置。`insertRowsAtIndexPaths``dleeteRowsAtIndexPaths`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T05:16:49.990

当您的开关打开时，只需在您的情况下将您的数组与其他项目或条件相加，然后调用此方法来指定您的部分。这将产生输入/输出效果，以向 tableview 显示越来越多的项目。

```
[mytv reloadSections: [NSIndexSet indexSetWithIndex:0] withRowAnimation:UITableViewRowAnimationFade]; 
```

# android - Eclipse重复Android代码错误

> ID：15017181
> 
> 赞同：0
> 
> 时间：2013-02-22T05:00:53.333
> 
> 标签：android, eclipse

我正在使用 Eclipse Indigo 开发 Android 应用程序。我遇到的问题是某些给定的错误消息重复了很多次，即使修复了错误，也无法编译代码。例如，我写道：

```
private OnClickListener foo = new OnClickListener()
{
    @Override
    public void onClick( View v )
    {
        // ...
    }
} 
```

我被报告*“语法错误，插入“；”以完成 FieldDeclaration”* **7 次**。我修复了它，仍然有 6 条错误消息。

我关闭了 Eclipse 然后重新启动它，没有任何改变。我猜这是要删除的文件或类似的东西。任何的想法？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-24T04:21:39.283

这是我解决问题的方法，对于那些有一天可能会遇到它的人。

1）我将所有错误（或报告为错误但并非真正错误）的代码复制到文本编辑器。

2）我从java文件中删除它并保存它。错误消失了。

3）我将代码粘贴回java文件然后保存。**错误没有再次出现**。

就是这样。

# c - C pthread_create

> ID：15017182
> 
> 赞同：0
> 
> 时间：2013-02-22T05:00:54.810
> 
> 标签：c, multithreading, pointers, pthreads

```
typedef struct client
{
   pthread thread;
   Window_t *win
}client;

client * client_create(int ID)
{
    client *new_Client = (client *) malloc(sizeof(client));
    char title[16];

    if (!new_Client) return NULL;

    sprintf(title, "Client %d", ID);

    /* Creates a window and set up a communication channel with it */
    if ((new_Client->win = window_create(title))) 
        return new_Client;
    else {
        free(new_Client);
        return NULL;
    }
} 
```

当用户输入“e”时，我尝试使用新客户端和窗口创建一个新线程，这就是我的 int_main。该标志只是告诉我用户输入了 e

```
if(eflag == 1)
{    
    client *c = NULL;
    c=client_create(started);
    pthread_create(&c.thread, NULL, client_create, (void *) &started);
    started++;
    eflag =0;
} 
```

这应该在新窗口的新线程上创建一个新客户端，但它没有这样做。

我不确定在我的 pthread_create 中放入什么，以及我应该如何获得客户端的新实例，因为 client_create 函数会创建一个新窗口。当我尝试通过执行 pthread_create 创建一个新线程时，它还会创建一个新窗口......如果这是 java oeverytime 用户按下“e”，我只会创建一个类客户端的新实例......但我可以' t真的在这里。有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:42:43.687

pthread_create 函数的原型是

```
int pthread_create(pthread_t *restrict thread,
              const pthread_attr_t *restrict attr,
              void *(*start_routine)(void*), void *restrict arg); 
```

您的 start_routine 定义需要匹配 void *(*start_routine)(void*).. 并且它在新的线程上下文中执行。

```
void *my_client_routine(void *arg) {
    while(1) {
        // do what each client does.
    }
} 
```

目前在您的 main() 中，您正在执行您的 create_client 函数两次。一次是在调用 pthread_create() 之前，一次是作为从 pthread_create 产生的新线程的一部分。你可能想要做的是

```
 c = create_client()
  pthread_create(&c.thread, NULL, my_client_routine, &args_that_client_routine_needs); 
```

# asp.net-mvc - WebApiConfig.cs 和 RouteConfig.cs 的区别

> ID：15017188
> 
> 赞同：44
> 
> 时间：2013-02-22T05:01:18.447
> 
> 标签：asp.net-mvc, asp.net-mvc-4, asp.net-web-api

Visual Studio 2012 中的 MVC Web API 项目的文件夹`WebApiConfig.cs`和文件夹有什么区别？`RouteConfig.cs``App_Start`

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2013-02-22T05:20:37.050

以下是主要区别：

1.  RouteConfig.cs 专门用于配置 ASP.NET 路由。
2.  WebApiConfig.cs 用于任何与 Web API 相关的配置，包括特定于 Web API 的路由、Web API 服务和其他 Web API 设置。

正如 cmotley 所提到的，ASP.NET 网站很好地列出了可以在[本文](http://www.asp.net/web-api/overview/extensibility/configuring-aspnet-web-api)中的 WebApiConfig.cs 中完成哪些类型的配置。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-02-22T05:16:22.437

没有区别，因为它们都完成了相同的事情 - 将路线添加到您的路线集合中。[您不需要使用 WebApiConfig 类；它只是一种组织代码的便捷方式。](http://www.asp.net/web-api/overview/extensibility/configuring-aspnet-web-api)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-08-03T13:22:36.577

> 如果您熟悉 ASP.NET MVC，那么 Web API 路由与 MVC 路由非常相似。主要区别在于 Web API 使用 HTTP 方法而不是 URI 路径来选择操作。您还可以在 Web API 中使用 MVC 样式的路由。本文不假定您有任何 ASP.NET MVC 知识。

从[ASP.NET Web API 中的路由](http://www.asp.net/web-api/overview/web-api-routing-and-actions/routing-in-aspnet-web-api)

# php - PHP Mailer if else

> ID：15017190
> 
> 赞同：0
> 
> 时间：2013-02-22T05:01:27.203
> 
> 标签：php

在确认注册后，我正在尝试向用户发送不同的电子邮件。一个用于管理员用户，另一个文本用于基本用户。我根据查询的数据编写了 if else 语句，但它向这两种类型的用户发送了两封电子邮件。知道有什么问题吗？

```
function SendBusWelcomeEmail(&$user_rec)
    {
 $result = mysql_query("SELECT business FROM users")
               or die(mysql_error());

if($result='a') {
        $mailer = new PHPMailer();

        $mailer->CharSet = 'utf-8';

        $mailer->AddAddress($user_rec['email'],$user_rec['name']);

        $mailer->Subject = "Welcome to ".$this->sitename;

        $mailer->From = $this->GetFromAddress();        

        $mailer->Body ="Thank You ".$user_rec['name']." for joining xxx, \r\n\r\n".
        "We are a brand new business with big ambitions. Our mission is to help the development of your skills \r\n".

        "\r\n".
        "Regards,\r\n".
        "Webmaster\r\n".
        $this->sitename;
}
        if(!$mailer->Send())
        {
            $this->HandleError("Failed sending user welcome email.");
            return false;
        }
        else{
        $mailer = new PHPMailer();

        $mailer->CharSet = 'utf-8';

        $mailer->AddAddress($user_rec['email'],$user_rec['name']);

        $mailer->Subject = "Welcome to ".$this->sitename;

        $mailer->From = $this->GetFromAddress();        

        $mailer->Body ="Hello ".$user_rec['name']."\r\n\r\n".
        "Welcome! Your registration  with ".$this->sitename." is completed.\r\n".
        "\r\n".
        "Regards,\r\n".
        "Webmaster\r\n".
        $this->sitename;

        if(!$mailer->Send())
        {
            $this->HandleError("Failed sending user welcome email.");
            return false;
        }
}
    } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T05:03:08.043

在您的条件下，它应该是`==`而不是`=`.

所以改变

```
if($result = 'a') 
```

到

```
if($result == 'a') 
```

**注意**：您没有获取记录。而且您的查询似乎必须包含获取业务类型用户的 where 条件。不过不确定。

**提示**：为什么不从这两个条件中获取通用代码，只需根据条件更改邮件正文内容。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T05:05:54.343

在这条线之后

```
$result = mysql_query("SELECT business FROM users") or die(mysql_error()); 
```

用于获取结果。

```
$result = mysql_fetch_array($result); 
```

# ios - Push Segue 的奇怪错误

> ID：15017191
> 
> 赞同：1
> 
> 时间：2013-02-22T05:01:28.947
> 
> 标签：ios, objective-c, xcode, storyboard

我刚刚使用两个视图创建了一个带有情节提要的计算器应用程序。我启动了我的模拟器，一开始一切正常。在第一个屏幕上，我可以使用“计算器”按钮切换到第二个屏幕，在第二个屏幕上我有一个返回主菜单的按钮。但是当我第二次从主菜单切换回计算器时，应用程序崩溃了，并出现以下错误：

> 2013-02-21 20:55:36.556 CTS 计算器[22637:c07] *** 由于未捕获的异常“NSGenericException”而终止应用程序，原因：“找不到用于 segue 的导航控制器“到计算器”。只有当源控制器由 UINavigationController 的实例管理时，才能使用推送 segue。*** First throw call stack: (0x15a9012 0x12b6e7e 0x650f31 0x642b99 0x642c14 0x12ca705 0x1fe2c0 0x1fe258 0x2bf021 0x2bf57f 0x2be6e8 0x22dcef 0x22df02 0x20bd4a 0x1fd698 0x260bdf9 0x260bad0 0x151ebf5 0x151e962 0x154fbb6 0x154ef44 0x154ee1b 0x260a7e3 0x260a668 0x1faffc 0x1ecd 0x1df5) libc++abi.dylib: terminate called throwing an exception (lldb)

我不知道为什么我第一次按下计算器按钮时没有发生这种情况。我有一个返回菜单的自定义 segue 过渡，但不是从菜单到计算器。我相信我的导航控制器设置得很好。任何想法可能是什么问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T06:02:38.357

错误显示您没有导航控制器。你正在设置 segue 风格来推动。将 segue 样式更改为 modal 并尝试一下。
是的。您可以使用`push`根视图控制器应该是导航控制器。检查这些链接
[将导航控制器添加到情节提要](http://my.safaribooksonline.com/book/programming/9781449321123/4dot-storyboards/id3077160)
[使用情节提要构建导航控制器和表格视图](http://www.appcoda.com/use-storyboards-to-build-navigation-controller-and-table-view/)

# c++ - 节目目的

> ID：15017192
> 
> 赞同：0
> 
> 时间：2013-02-22T05:01:31.333
> 
> 标签：c++, variables, input, floating-point

我需要为一个项目编译一些代码并且我得到了很多错误，不是因为代码写错了，而是我认为在尝试编译之前我应该​​替换一些变量。实际代码有点长，因为它是为并行计算而设计的，但下面是一个没有并行性的更简单的版本。这个程序的目的是什么以及输入变量是什么：

```
int main(int argc, char *argv[]) {
  int n = ...;
  float *x, *y;
  x = new float[n+1];
  y = new float[n+1];

  ... // fill x, y

  // do computation
  float e = 0;
  for (int i=1; i<n; ++i) {
   x[i] += ( y[i+1] + y[i-1] )*.5;
   e += y[i] * y[i];
  }

  ... // output x, e

  delete[] x, y;
  return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:02:29.303

好的。似乎代码主要是示例或概念验证。我猜 Parallel For 是关于它的特殊“ForEach”功能，以及一些数据网格......

我修改了网站上的一个示例（如果有人想要一个更易读的示例）。取自[这里](http://parallel-for.sourceforge.net/parfor.html)

```
int main(int argc, char *argv[]) {

    int Repeat = 100000;        // Will perform the computation 100,000 times.

    Grid1 *Grd = new Grid1(0, Repeat+1);
    DistArray X(Grd), Y(Grd);   // Some data grid arrays (used for the computations)

    // Set X and Y...
    ForEach(int i, it,
    X(i) = 0;
    Y(i) = 1*i; )

    Grid1IteratorSub it(1, Repeat, Grd);

    float E = 0;    // One of the return values

    // Do the computations:
    ForEach(int i, it,
    X(i) += ( Y(i+1) + Y(i-1) )*.5;
    E += sqr( Y(i) ); )

    // Output the modified data:
    cout << "X: " << X;
    cout << "E: " << E;

    return 0;

} 
```

** 在看到[Parallel For后编辑](http://parallel-for.sourceforge.net/parfor.html)

# java - Android 将 String 转换为 HashMap

> ID：15017197
> 
> 赞同：2
> 
> 时间：2013-02-22T05:02:10.317
> 
> 标签：java, android, regex, json

我有一个类似这样的字符串：

`[ { "1":33 }, { "2":30 }, { "3":15 }, { "4":23 }, ...{ "9":17 },... { "U":2 }, { "V":22 }, { "W":1 }, { "X":35 }, { "Y":6 }, { "Z":19 } ]`

结构是`{"key":value}`。我需要将其转换为表/HashMap，以便我可以根据键获取值。

我尝试使用 Gson 但失败了。是否有更简单的方法来做到这一点，比如使用一些序列化？

TIA

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-22T05:26:43.280

使用我制作的这个方法：

```
public HashMap<String, Integer> convertToHashMap(String jsonString) {
        HashMap<String, Integer> myHashMap = new HashMap<String, Integer>();
        try {
            JSONArray jArray = new JSONArray(jsonString);
            JSONObject jObject = null;
            String keyString=null;
            for (int i = 0; i < jArray.length(); i++) {
                jObject = jArray.getJSONObject(i);
                // beacuse you have only one key-value pair in each object so I have used index 0 
                keyString = (String)jObject.names().get(0);
                myHashMap.put(keyString, jObject.getInt(keyString));
            }
        } catch (JSONException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        return myHashMap;
    } 
```

采用：

```
String myString = "[ { \"1\":33 }, { \"2\":30 }, { \"3\":15 }, { \"4\":23 }, { \"9\":17 }, { \"U\":2 }, { \"V\":22 }, { \"W\":1 }, { \"X\":35 }, { \"Y\":6 }, { \"Z\":19 } ]";
HashMap<String, Integer> map = convertToHashMap(myString);
Log.d("test", map.toString()); 
```

您还可以使用获取所有密钥`map.keySet()`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T06:28:56.567

```
public static void main(String[] args) {
    String s = "{ 1:33 }, { 2:30 }, { 3:15 }, { 4:23 }, { 9:17 }, { U:2 }, { V:22 }, { W:1 }, { X:35 }, { Y:6 }, { Z:19 }";
    String[] arr = s.split(", ");
    Map<String, Integer> map = new HashMap<String, Integer>();
    for (String str : arr) {
        str = str.replace("{", "").replace("}", "");
        String[] splited = str.split(":");

        map.put(splited[0], Integer.parseInt(splited[1].trim()));

    }
    System.out.println(map);

} 
```

输出：

```
{ 9=17,  Z=19,  Y=6,  X=35,  1=33,  3=15,  2=30,  W=1,  V=22,  4=23,  U=2} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T05:12:55.803

编写自己的简单解析器。从头开始读取每个字符，当您看到一个“然后开始将下一个字符开始视为键的开始并在出现下一个”时，现在点击它键寻找一个：然后记录值直到您看到一个空格或一个}。再次重复此过程，直到您读取了字符串中的所有字符。这样，如果有 n 个字符，那么它将在 O(n) 中解决

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T05:27:20.200

您有一组对象，每个对象都不同（它有不同的字段）。JSON 解析器在谈论将其反序列化为对象时会遇到问题。Gson 用户指南[特别提到了这一点](https://sites.google.com/site/gson/gson-user-guide#TOC-Serializing-and-Deserializing-Collection-with-Objects-of-Arbitrary-Types)。

您可以使用 Gson，但您将不得不使用他们建议的方法之一。创建一个返回 a 的自定义反序列化器`Map`将相当简单。您需要遍历数组，获取每个对象，然后提取字段和值：

```
// create this class so as not to affect other Map types:
class MyMap extends HashMap<String, Integer> {}

class MyMapDeserializer implements JsonDeserializer<MyMap> 
{
    public MyMap deserialize(JsonElement je, Type type, JsonDeserializationContext jdc) 
          throws JsonParseException 
    {
        JsonArray ja = je.getAsJsonArray();
        MyMap map = new MyMap();
        for (int i = 0; i < ja.size(); i++) 
        {
            JsonObject jo = ja.get(i).getAsJsonObject();
            Set<Entry<String, JsonElement>> set = jo.entrySet();
            for (Entry<String, JsonElement> e : set) 
            {
                map.put(e.getKey(), e.getValue().getAsInt());
            }
        }
        return map;
    }
} 
```

您可以通过以下方式使用它：

```
Gson gson = new GsonBuilder()
                .registerTypeAdapter(MyMap.class, new MyMapDeserializer())
                .create();

MyMap mm = gson.fromJson(jsonString, MyMap.class); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-22T05:28:01.667

您可以使用正则表达式使用此代码：

```
 Map<String, String> map = new HashMap<String, String>();
    //!!Your string comes here, I escape double quoutes manually !!
    String str = "\"[ { \"1\":33 }, { \"2\":30 }, { \"3\":15 }, { \"4\":23 }, { \"9\":17 }, {\"U\":2 }, { \"V\":22 }, { \"W\":1 }, { \"X\":35 }, { \"Y\":6 }, { \"Z\":19 } ]\"";
    String regex = "\\{\\s*\"(\\w+)\":(\\d+)\\s*\\}";

    Pattern pattern = Pattern.compile(regex);
    Matcher matcher = pattern.matcher(str);

    while (matcher.find()) {
        String key = matcher.group(1);
        String value = matcher.group(2);
        System.out.println(key + " " + value);
        map.put(key, value);
    } 
```

印刷：

```
1 33
2 30
3 15
4 23
9 17
U 2
V 22
W 1
X 35
Y 6
Z 19 
```

**注意：**如果需要，请`Map<String,Integer>`更改定义并使用`Integer.parseInt()`从字符串中获取整数。

# sql - SQL - 按 DAY 计算列中的出现次数

> ID：15017203
> 
> 赞同：0
> 
> 时间：2013-02-22T05:02:44.347
> 
> 标签：sql, sql-server, sql-server-2008, group-by

我有一张如下表：

并且我想按DAY计算PageURL和GROUP列中说“ab”和“cd”的出现次数（即，无论一天出现多少次，它都算作1）。

```
ID  User  Activity  PageURL  ActDateTime
 1  Me    act1      abcd     2013-01-17 19:09:01.040
 2  Me    act2      cdab     2013-01-17 19:09:06.613
 3  You   act2      xyza     2013-01-30 16:10:50.177
 4  Me    act3      xyab     2013-01-30 10:35:09.037 
```

我想要 2 列...1 用于“ab”计数，1 用于“cd”计数。

在上面的示例中，“ab”有 3 个计数，但我只会算作 2，因为前 2 个发生在同一天（所以算作 1）。

同样，PageURL 列中的“cd”有 2 个计数，但我只想算作 1，因为也发生在同一天。

此外，我想按月份分组，即 Jan-12、Feb-12、March-12、April-12 ...等。

非常感谢一些帮助和建议。谢谢！

这是我到目前为止所做的（但它没有考虑按 DAY 分组）

```
SELECT USER,
       department,
       activity,
       [MonthYear] = DATENAME(mm, ActDateTime)+ ' - ' + 
                                  DATENAME(yy, actdatetime), 
       [ab] = sum(case when pageURL like '%ab%' THEN 1 else 0 END), 
       [cd]= sum(CASE WHEN pageURL LIKE '%cd%'THEN 1 ELSE 0 END)
FROM activityLog
GROUP BY USER,
         department,
         activity,
         DATENAME(mm, ActDateTime)+ ' - ' + 
         DATENAME(yy, ActDateTime)
ORDER BY USER,
         department,
         activity,
         DATENAME(mm, ActDateTime)+ ' - ' + DATENAME(yy, ActDateTime) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T05:43:44.103

我认为这应该可以创建您的计数：

```
SELECT
  cast(ActDateTime as Date) as DateOnly, 
  SUM(CASE WHEN PageUrl Like '%ab%' THEN 1 ELSE 0 END) as ABCount,
  SUM(CASE WHEN PageUrl Like '%cd%' THEN 1 ELSE 0 END) as CDCount
FROM Table1 
GROUP BY cast(ActDateTime as Date) 
```

[SQL小提琴](http://sqlfiddle.com/#!3/095ee/3)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T21:55:25.943

第一个查询以按天计算：

```
SELECT cast(ActDateTime AS Date) AS DateOnly,
       CASE
           WHEN SUM(CASE WHEN PageUrl LIKE '%ab%' THEN 1 ELSE 0 END) >=1 THEN 1
           ELSE 0
       END AS ABCount,
       CASE
           WHEN SUM(CASE WHEN PageUrl LIKE '%cd%' THEN 1 ELSE 0 END) >=1 THEN 1
           ELSE 0
       END AS CDCount
FROM activityLog
GROUP BY cast(ActDateTime AS Date) 
```

第二个查询以获得所需的输出：

**[SQLFIDDLE示例](http://sqlfiddle.com/#!3/c6aa6/51)**

```
SELECT DATENAME(month, a.ActDateTime)+ ' - ' + DATENAME(yy, a.ActDateTime)
      ,SUM(a.ABCount) as ABCount
      ,SUM(a.CDCount) as CDCount
FROM (SELECT cast(ActDateTime AS Date) AS ActDateTime,
       CASE
           WHEN SUM(CASE WHEN PageUrl LIKE '%ab%' THEN 1 ELSE 0 END) >=1 THEN 1
           ELSE 0
       END AS ABCount,
       CASE
           WHEN SUM(CASE WHEN PageUrl LIKE '%cd%' THEN 1 ELSE 0 END) >=1 THEN 1
           ELSE 0
       END AS CDCount
FROM activityLog
GROUP BY cast(ActDateTime AS Date))a
GROUP BY DATENAME(month, a.ActDateTime)+ ' - ' + DATENAME(yy, a.actdatetime)
ORDER BY DATENAME(month, a.ActDateTime)+ ' - ' + DATENAME(yy, a.actdatetime) 
```

结果：

```
|       COLUMN_0 | ABCOUNT | CDCOUNT |
--------------------------------------
| January - 2013 |       2 |       1 | 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T05:17:14.340

```
SELECT Thing
      ,COUNT(*) NumDays
FROM  (SELECT LEFT(PageURL, 2) AS Thing
       ,DateTime
       FROM table
       ALL
       SELECT RIGHT(PageURL, 2)
             ,DateTime
       FROM table) UniqueDays 
```

由于您在问题中使用的关键词，这将无法正常工作。

一般来说，使用实际的列/表名称更容易，因此答案可以反映这些 - 它避免了混淆。

# iphone - 发送邮件而不保存用户发送的项目

> ID：15017212
> 
> 赞同：0
> 
> 时间：2013-02-22T05:03:41.597
> 
> 标签：iphone, ios, ipad

是否可以在不保存用户已发送项目中的副本的情况下发送邮件？我正在使用 MFMessage 框架。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T05:14:30.987

否，如果您想使用 MFMessage 框架，则无法在不发送用户已发送项目的情况下发送电子邮件。

顺便说一句，您为什么要这样做？无论如何，如果您使用的是用户帐户，则不能。

但是，如果您想发送电子邮件，请使用 smtp 和其他帐户，这是非常不可取的

# iphone - uitableview 应该在从具有大量数据的 web 服务中检索数据后加载

> ID：15017215
> 
> 赞同：0
> 
> 时间：2013-02-22T05:03:45.293
> 
> 标签：iphone, web-services, uitableview

我有一个要求，我的 UITableview 应该在从 Web 服务检索数据后加载数据。检索大量数据时，我的 uitableview 显示为空。取而代之的是，一个 UIActivityIndi​​cator 应该出现，直到数据加载到 UITableview 中。

我正在尝试如下，但无法获得所需的功能。请帮忙。

当从 web 服务返回的数据很大时，我还建议将数据加载到 UITableview 中的最佳方法是什么。

提前致谢。

```
- (UITableViewCell *)tableView: (UITableView *)tableView cellForRowAtIndexPath: (NSIndexPath *)indexPath
{
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"cell"];

  UILabel *lblName = (UILabel *)[cell viewWithTag:1];
    [lblName setText:[myArray objectAtIndex:[indexPath row]]];
    return cell;
}

- (void)dataLoading
{
    myActivityIndicator=[[UIActivityIndicatorView alloc] initWithActivityIndicatorStyle:UIActivityIndicatorViewStyleWhiteLarge];
    [myActivityIndicator setFrame:CGRectMake(140, 170, 40, 40)];
    [self.view addSubview:myActivityIndicator];
    [myActivityIndicator startAnimating];

    NSString *playersDatalink = [NSString stringWithFormat:@"Webservice link"];

    NSURL *JsonPlayersDataURL = [NSURL URLWithString:playersDatalink];
    NSString *JsonPlayersData = [[NSString alloc] initWithContentsOfURL:JsonPlayersDataURL];

    SBJSON *playersDataParser = [[SBJSON alloc] init];
    NSDictionary *PlayersDicdata = (NSDictionary *) [playersDataParser objectWithString:JsonPlayersData error:nil];
    NSDictionary *playersdata = (NSDictionary *) [PlayersDicdata objectForKey:@"players"];
    NSLog(@"palyersdata is =%@",playersdata);
    self.myArray = [NSMutableArray arrayWithCapacity:[playersdata count]];
    for (NSDictionary *details in playersdata) {
        [self.myArray addObject:[details objectForKey:@"teamid"]];
    }
    if ([playersdata count]==0) {
        UIAlertView *myalert = [[UIAlertView alloc]initWithTitle:@"Webserive error " message:@"No data returned from webservice" delegate:self cancelButtonTitle:@"Ok" otherButtonTitles:nil, nil];
        [myalert show];
    }
}
- (void)viewDidLoad
{
    [super viewDidLoad];
    [self performSelector:@selector(dataLoading) withObject:nil afterDelay:0.0];
    [myActivityIndicator stopAnimating];

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:23:21.323

嗨 下载这个 zip [http://www.sendspace.com/file/l48jxg](http://www.sendspace.com/file/l48jxg)解压这个文件，你会得到两个**.h**和**.m** 用于加载 Indicatore 视图。将其拖放到您的项目中。

现在您可以像 Bellow 一样使用它：-

如果您希望在未加载数据之前显示活动指示器：-

`import LoadingView.h into your Class`,

**创建对象**

`loadingView =[LoadingView loadingViewInView:self.view:@"Please Wait.."];` 这时候把这个like olso的代码`yourTableView.userInterfaceEnable=FALSE;`

并在数据加载完成方法中放置这个

`[loadingView removeFromSuperview];`

`yourTableView.userInterfaceEnable=TRUE;`

您正在加载视图，例如：-

![在此处输入图像描述](../Images/de912ad3d07248fa67c8f68c018930db.png)

**更新**

它不会满足您的 TableView 委托首先执行。

**1）**如果您使用`NSURLConnection`For Parsong WebServices，您可以在加载完成后重新加载您的 TableView 数据：-

```
- (void)connectionDidFinishLoading:(NSURLConnection *)connection {

    //your code
    [yourTableView reloadData];

} 
```

**2）**如果您使用`NSXMLParser` For Parsong WebServices，您可以在加载完成后重新加载您的 TableView 数据：-

```
- (void)parserDidEndDocument:(NSXMLParser *)parser 
{

    //your code
    [yourTableView reloadData];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T05:13:35.507

试试这个活动指示器，它会在您的数据加载之前停止用户交互。

[使用 github 上的 MBProgressHud](https://github.com/jdg/MBProgressHUD)

有一个快乐的编码..

# c# - 在构造期间访问匿名类型的成员

> ID：15017216
> 
> 赞同：4
> 
> 时间：2013-02-22T05:03:46.213
> 
> 标签：c#, linq, anonymous-types

有没有办法在构造过程中访问匿名类型的成员？

例如

```
 enumerable.select(i => new
 {
     a = CalculateValue(i.something), // <--Expensive Call
     b = a + 5 // <-- This doesn't work but i wish it did
 } 
```

愿意考虑替代方案来实现相同的目标，这基本上是我在投影我的枚举，部分投影是一个昂贵的计算，它的值被多次使用，我不想重复它，也重复那个通话只是感觉不干燥。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-22T05:08:13.387

这是不可能的，因为尚未实际分配新的匿名对象，因此其属性也不可用。您可以执行以下操作：

```
enumerable.select(i =>
    {
        //use a temporary variable to store the calculated value
        var temp = CalculateValue(i.something); 
        //use it to create the target object
        return new 
        {
            a = temp,
            b = temp + 5
        };
    }); 
```

# php - 匹配引号“示例”内的单词字符的正则表达式？

> ID：15017219
> 
> 赞同：0
> 
> 时间：2013-02-22T05:04:13.560
> 
> 标签：php, regex

我正在尝试创建一个正则表达式，它匹配包含在某些符号 EG 中的单词字符 + 白色字符：引号。

例如：

```
one "two" three four "five six" 
```

我的正则表达式应该匹配“二”和“五六”

我正在尝试`/^(\"\w+\")/`类似的，但我无法做到。

如何找到包含在特定符号中的正则表达式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T05:06:52.123

尝试这个 ：

```
$str = 'one " two test " three four "five" six';

preg_match_all('/"(?P<words>\s*\w+[\s\w\s]*)"/',$str,$match);

echo "<pre>";
print_r($match['words']); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T05:05:18.090

摆脱`^`锚。`^`将匹配限制在字符串的开头。此外，您不需要转义双引号：`\"`→ `"`。

更改`\w+`为`.+?`或`[^"]*`匹配空格。

```
/(".*?")/ 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-22T05:08:16.537

```
regexp("/^[a-zA-Z0-9.\'\"]$/i",$variable_name) 
```

# java - 如何从字符串转换为整数

> ID：15017220
> 
> 赞同：1
> 
> 时间：2013-02-22T05:04:14.357
> 
> 标签：java, android

我有一个让我感到困惑的问题，我想使用 EditText 的值并将其转换为 int，当启动它在 logcat “invalid int”上显示的活动时，我将 editText 的输入值设为 9 位！你能帮我找出问题吗

这是我的代码：

```
 String texti =  numberi.getText().toString();
     int x = Integer.parseInt(texti); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:06:51.520

你必须把它保存在`long`

```
long x = Long.parseLong(texti); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T05:08:44.167

如果您的唯一目标是允许用户在 EditText 中输入数字。然后使用

```
android:inputType="number" 
```

接着`Integer.parseInt(editText.getText().toString());`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T05:18:23.970

你说你已经写了`onCreate()`。所以你必须先检查，文本是否为空：

```
String texti =  numberi.getText().toString();
long x;
if(texti.trim().length() > 0)
  x = Long.parseLong(texti); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T05:07:19.097

中的整数`texti`可能大于`Integer.MAX_VALUE`值，因此请`Long`改用

```
long x = Long.parseLong(texti.trim()); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-22T05:07:20.443

您拥有的代码是正确的，但为了更好地使用它，

```
 String texti =  numberi.getText().toString();
  int x = Integer.parseInt(texti.trim());  // Trim the extra spaces, if any. 
```

转换为数字格式时总是有 trim() 的习惯，这将防止`NumberFormatException`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-22T05:27:59.657

将字符串解析为整数：

```
 Integer.parseInt(<Your EditText>.getText().toString()); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-22T05:46:04.970

理想情况下，如果您的 EditText 只接受整数，那么您应该将*inputType*属性设置为：

*   数字签名
*   数字

例如。像这样的东西：

```
<EditText
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:id="@+id/editTextCustomerPin"
        android:layout_marginTop="20dp"
        android:inputType="numberSigned"
        android:textSize="16dp" android:hint="@string/enterCustomerPin"
        android:layout_gravity="center_horizontal"/> 
```

现在在您的活动中，您可以随时执行以下操作：

```
EditText myEditText = (EditText) findViewById(R.id.editTextCustomerPin);
String editTextContent = myEditText.getText().toString();
if (editTextContent.length() > 0) {
     int num = Integer.parseInt(num);
     //Do your processing
} else {  
     //Show error message, eg. a toast or an alert dialog
} 
```

# macros - 使用 iMacros 随机休眠，适用于 FireFox/Chrome 插件

> ID：15017221
> 
> 赞同：0
> 
> 时间：2013-02-22T05:04:17.340
> 
> 标签：macros, imacros

我正在自动化社交网络上的任务，我想随机睡觉以逃避任何宏观检测。

如何使用 Imacros 使宏随机休眠？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T08:14:51.277

可以使用以下公式正确计算随机化的 MIN 和 MAX 值：

```
Math.random()*(Max-Min+1) + Min 
```

所以如果你想随机等待 10 秒到 60 秒，它看起来像这样

```
Math.random()*(60-10+1) + 10 = Math.random()*51 + 10 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-22T05:04:17.340

对于其他希望这样做的人，请使用：

```
SET !VAR1 EVAL("var randomNumber=Math.floor(Math.random()*10 + 1); randomNumber;") 
```

设置随机变量。“ **10** ”表示 rand var 的*上限*。

使用此代码调用随机等待时间：

```
WAIT SECONDS={{!VAR1}} 
```

# linux - 为什么从机不能在 PVM（并行虚拟机）中工作

> ID：15017223
> 
> 赞同：0
> 
> 时间：2013-02-22T05:04:31.127
> 
> 标签：linux, shell, parallel-processing, distributed-computing, pvm

我正在尝试构建一个具有一个主机和一个从机的 PVM 代码，（我正在使用 centOS 5.5 操作系统）

当我运行命令`aimk master1 slave1`时，预计会给出以下输出：-

```
Spawning 3 worker tasks ... SUCCESSFUL
         I got 100.000000 from 1; (expecting 100.000000)
         I got 200.000000 from 0; (expecting 200.000000)
         I got 300.000000 from 2; (expecting 300.000000) 
```

但它显示

```
pvm> [1:t80002] EOF
[1:t80001] Spawning 6 worker tasks.....
[1:t80001] Trouble spawning slaves. Aborting.Error codes are:
[1:t80001] TID 3 -7
[1:t80001] TID 4 -7
[1:t80001] TID 5 -7
[1:t80001] libpvm [t80005] : pvm_mcast() : Bad parameter
[1:t80003] EOF
[1:t80004] EOF 
```

为什么会出现此错误？为什么奴隶不工作？我的代码如下，帮助我解决这个问题。

**大师1.c**

```
static char rcsid[] =
"$Id: master1.c,v 1.4 1997/07/09 13:25:09 pvmsrc Exp $";
#include <stdio.h>
#include "pvm3.h"
#define SLAVENAME "slave1"

main()
{
    int mytid;                  /* my task id */
    int tids[32];               /* slave task ids */
    int n, nproc, numt, i, who, msgtype, nhost, narch;
    float data[100], result[32];
    struct pvmhostinfo *hostp;

    /* enroll in pvm */
    mytid = pvm_mytid();

    /* Set number of slaves to start */
    pvm_config( &nhost, &narch, &hostp );
    nproc = nhost * 3;
    if( nproc > 32 ) nproc = 32 ;
    printf("Spawning %d worker tasks ... " , nproc);

    /* start up slave tasks */
    numt=pvm_spawn(SLAVENAME, (char**)0, 0, "", nproc, tids);
    if( numt < nproc ){
       printf("\n Trouble spawning slaves. Aborting. Error codes are:\n");
       for( i=numt ; i<nproc ; i++ ) {
          printf("TID %d %d\n",i,tids[i]);
       }
       for( i=0 ; i<numt ; i++ ){
          pvm_kill( tids[i] );
       }
       pvm_exit();
       exit(1);
    }
    printf("SUCCESSFUL\n");

    /* Begin User Program */
    n = 100;
    /* initialize_data( data, n ); */
    for( i=0 ; i<n ; i++ ){
       data[i] = 1.0;
    }

    /* Broadcast initial data to slave tasks */
    pvm_initsend(PvmDataDefault);
    pvm_pkint(&nproc, 1, 1);
    pvm_pkint(tids, nproc, 1);
    pvm_pkint(&n, 1, 1);
    pvm_pkfloat(data, n, 1);
    pvm_mcast(tids, nproc, 0);

    /* Wait for results from slaves */
    msgtype = 5;
    for( i=0 ; i<nproc ; i++ ){
       pvm_recv( -1, msgtype );
       pvm_upkint( &who, 1, 1 );
       pvm_upkfloat( &result[who], 1, 1 );
       printf("I got %f from %d; ",result[who],who);
       if (who == 0)
            printf( "(expecting %f)\n", (nproc - 1) * 100.0);
       else
            printf( "(expecting %f)\n", (2 * who - 1) * 100.0);

    }
    /* Program Finished exit PVM before stopping */
    pvm_exit();
} 
```

**slave1.c**

```
static char rcsid[] =
"$Id: slave1.c,v 1.2 1997/07/09 13:25:18 pvmsrc Exp $";
#include <stdio.h>
#include "pvm3.h"

main()
{
    int mytid;       /* my task id */
    int tids[32];    /* task ids   */
    int n, me, i, nproc, master, msgtype;
    float data[100], result;
    float work();

    /* enroll in pvm */
    mytid = pvm_mytid();

    /* Receive data from master */
    msgtype = 0;
    pvm_recv( -1, msgtype );
    pvm_upkint(&nproc, 1, 1);
    pvm_upkint(tids, nproc, 1);
    pvm_upkint(&n, 1, 1);
    pvm_upkfloat(data, n, 1);

    /* Determine which slave I am (0 -- nproc-1) */
    for( i=0; i<nproc ; i++ )
       if( mytid == tids[i] ){ me = i; break; }

    /* Do calculations with data */
    result = work( me, n, data, tids, nproc );

    /* Send result to master */
    pvm_initsend( PvmDataDefault );
    pvm_pkint( &me, 1, 1 );
    pvm_pkfloat( &result, 1, 1 );
    msgtype = 5;
    master = pvm_parent();
    pvm_send( master, msgtype );

    /* Program finished. Exit PVM before stopping */
    pvm_exit();
}

float
work(me, n, data, tids, nproc )
    /* Simple example: slaves exchange data with left neighbor (wrapping) */
    int me, n, *tids, nproc;
    float *data;
{
    int i, dest;
    float psum = 0.0;
    float sum = 0.0;
    for( i=0 ; i<n ; i++ ){
       sum += me * data[i];
    }
    /* illustrate node-to-node communication */
    pvm_initsend( PvmDataDefault );
    pvm_pkfloat( &sum, 1, 1 );
    dest = me+1;
    if( dest == nproc ) dest = 0;
    pvm_send( tids[dest], 22 );
    pvm_recv( -1, 22 );
    pvm_upkfloat( &psum, 1, 1 );

    return( sum+psum );
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T12:54:58.533

显然 PVM 没有找到你的从属的可执行文件。检查这部分输出：

```
[1:t80001] TID 3 -7
[1:t80001] TID 4 -7
[1:t80001] TID 5 -7 
```

所有任务 ID 都是`-7`，即`PvmNoFile`。确保`SLAVENAME`(`slave1`在您的情况下) 是绝对文件路径（在您的情况下不是）或者是位于 PVM 搜索路径中的可执行文件的名称。默认情况下，PVM 搜索路径为：

```
$HOME/pvm3/bin/$PVM_ARCH/ 
```

其中`$HOME`是用户的主目录路径，`$PVM_ARCH`是 PVM 架构的名称。

# c# - 为什么 C# 线程自动停止工作

> ID：15017225
> 
> 赞同：2
> 
> 时间：2013-02-22T05:04:59.363
> 
> 标签：c#, multithreading

例如，我的程序中有一个运行计时器功能的线程

```
Thread PopMonitoringThread = new Thread(new ThreadStart(PopMonitoring));  
PopMonitoringThread.Start();

public static void PopMonitoring()
{
    TimerCallback callback = new TimerCallback(Tick);
    Timer stateTimer = new Timer(callback, null, 0, 1000);
}

//Timer method
static public void Tick(Object stateInfo)
{
    try
    {
        if (Properties.Settings.Default.BatchingMode > 0)
        {
            if (batchTime.Subtract(DateTime.Now) < TimeSpan.Zero)
            {
                batchTime = DateTime.Now.AddMinutes(Properties.Settings.Default.BatchingMode);
                Console.WriteLine("-----------------------------------------------------");
                Process();
                Console.WriteLine("Batch Process Run");
                Console.WriteLine("-----------------------------------------------------");
            }
            Console.WriteLine("{0}", DateTime.Now.ToString("h:mm:ss"));
        }
        Console.WriteLine("Pop3 Monitoring start after: {0}", batchTime.Subtract(DateTime.Now));
    }
    catch (Exception e)
    {
        throw e;
    }
} 
```

当我注释掉我的 Process() 方法时，它每秒都可以正常工作，但是当我从 Tick 方法中取消注释 Process 方法时，计时器停止工作，即 Tick 方法停止工作。处理方法代码运行完美意味着没有编译和运行时错误。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T06:36:11.920

您创建的线程几乎会立即停止，无论您是否正在调用`Process()`. 你在线程中所做的只是启动一个计时器。实际`Tick`方法正在[线程池](http://msdn.microsoft.com/en-us/library/system.threading.threadpool.aspx)的后台线程中执行。

现在，在某些时候，您`stateTimer`将被垃圾收集，因为它已超出范围。此时计时器将不再被触发。最有可能的是，当您打电话时，这种垃圾收集会发生得更快`Process()`

你可以通过调用`GC.Collect()`你的`Tick`方法来测试它。您会看到它在一两个滴答声后停止。

要修复它，请创建`stateTimer`一个成员变量。丢东西`Thread`：

```
class Program
{
    private static Timer _stateTimer;

    static void Main(string[] args)
    {
        _stateTimer = new Timer(Tick, null, 0, 1000);
        Console.ReadLine();
    }

    static public void Tick(Object stateInfo)
    {
        // ...
    }
} 
```

PS：我假设这段代码是因为你一直在试验，但是如果你想重新抛出你捕获的异常，你应该`throw;`不带任何参数使用：请参阅[这篇博客文章](http://thorarin.net/blog/post/2013/02/21/Preserving-Stack-Trace.aspx)以获得简要说明。

# kettle - 无法使用水壶中的解压缩步骤提取 Zip 文件

> ID：15017228
> 
> 赞同：2
> 
> 时间：2013-02-22T05:05:06.387
> 
> 标签：kettle

我正在尝试使用 pantaho kittle unzip step 提取 2gb 文件。但我得到了错误。

解压缩文件 - 错误（版本 4.3.0-stable，buildguy 从 2012-04-24 14.11.32 构建 16786）：错误

任何人都可以帮助我这样做。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-01T13:25:26.257

很可能您没有在解压缩步骤中设置目标目录：“解压缩文件”/“目标目录”

# c# - 64 位 Micrsoft.ACE.OLEDB 提供程序未在本地计算机上注册

> ID：15017234
> 
> 赞同：0
> 
> 时间：2013-02-22T05:05:48.573
> 
> 标签：c#, winforms, ms-access, connection-string

我的计算机上安装了 64 位 Office 以及 64 位 Microsoft Access 数据库引擎。

即使安装了 MADE（Microsoft Access 数据库引擎），Visual Studio 仍会引发错误，如屏幕截图所示。 ![在此处输入图像描述](../Images/13ecc8b435799ffb9f640662bdf6bba8.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:09:46.883

首先尝试安装：http: [//www.microsoft.com/download/en/details.aspx?id=13255](http://www.microsoft.com/download/en/details.aspx?id=13255)

如果这对您不起作用，请尝试以下方法：

注意：这确实适用于 office 2010，即使它适用于 2007 office :)

1.  下载并安装：[http ://www.microsoft.com/download/en/confirmation.aspx?id=23734](http://www.microsoft.com/download/en/confirmation.aspx?id=23734)

2.  在 VS 中点击添加数据源，按照向导进行操作！:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T05:10:55.140

1.尝试从这里下载：http: [//www.microsoft.com/en-us/download/confirmation.aspx?id= 23734](http://www.microsoft.com/en-us/download/confirmation.aspx?id=23734)

2.转到Visual Studio点击添加数据源，按照向导。

这是我之前遇到的同样的问题，并从这里开始执行步骤：

[http://social.msdn.microsoft.com/Forums/en-US/vstsdb/thread/1d5c04c7-157f-4955-a14b-41d912d50a64](http://social.msdn.microsoft.com/Forums/en-US/vstsdb/thread/1d5c04c7-157f-4955-a14b-41d912d50a64)

[http://social.technet.microsoft.com/Forums/en-US/officesetupdeploylegacy/thread/cc10d906-0fd8-49ef-a1b0-45814bd70c55/](http://social.technet.microsoft.com/Forums/en-US/officesetupdeploylegacy/thread/cc10d906-0fd8-49ef-a1b0-45814bd70c55/)

***`You need to install the x86 version if the target machine is 32 bit or the x64 version if the target machine is 64 bit and your application is built with configuration Any CPU.`***

# java - 获取单个xml文档的更多属性值

> ID：15017244
> 
> 赞同：1
> 
> 时间：2013-02-22T05:06:55.447
> 
> 标签：java, android, xml-parsing, hashmap, xmlnodelist

如何读取单个文档上的更多属性值。

这是 xml 示例 xml 文件：

```
<Categories>
 <Category name="Title 1"
 <SubCategory>
  <subcategory title="subtitle 1"  id="1" ></subcategory>
  <subcategory title="subtitle 2"  id="2" ></subcategory>
  <subcategory title="subtitle 3"  id="3" ></subcategory>
  </SubCategory>
   </Category>
    <Category>
     <Category name="Title 2"
 <SubCategory>
  <subcategory title="subtitle 4"  id="4" ></subcategory>
  <subcategory title="subtitle 5"  id="5" ></subcategory>
  <subcategory title="subtitle 6"  id="6" ></subcategory>
  </SubCategory>
  </Category>
   </Categories> 
```

在这里我必须显示类别名称和子类别标题。我使用了下面的代码，我必须运行应用程序，这意味着我正在获取类别名称但我没有得到子类别标题名称。我怎样才能获得子类别标题名字...请给我任何想法..

我已经宣布

```
 static String KEY_CATEGORY = "Categories";
    static final String KEY_TITLE = "Category";
    static final String KEY_ARTICLE = "SubCategory"; 
```

之后我必须创建节点列表并标记类别名称。

```
 NodeList nl = doc.getElementsByTagName(KEY_TITLE);
  NodeList nl1 = doc.getElementsByTagName(KEY_ARTICLE); 
```

还要在地图上添加所有类别名称..所以我使用了for循环；

```
 for (int i = 0; i < nl.getLength(); i++) {
            HashMap<String, String> map = new HashMap<String, String>();
            Element e = (Element) nl.item(i);
            map.put( KEY_TITLE,(e.getAttribute("name")));
      for (int j = 0; j < nl1.getLength(); j++) {

              map.put( KEY_ARTICLE,((Element)nl1.item(i)).getAttribute("title"));

        }  
            songsList.add(map);  
        }
  } 
```

这里正在获取类别名称...但我无法获得所有子类别标题名称...我只获得前 2 个子类别标题名称...我的代码有什么问题...我在 for 循环中使用了 for 循环。 .first for 循环用于获取类别名称，第二个 for 循环用于获取子类别标题...总类别为 2...但子类别为 6...您仅获得 2 个子类别标题我的意思是它取决于总类别计数..如果是意味着我该怎么做才能获取所有子类别标题????请给我解决方案以获取所有子类别标题名称...给我任何想法???

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T05:30:25.410

我认为您可以使用 AXIOM 轻松完成此操作，
请参阅：[http](http://ws.apache.org/axiom/userguide/userguide.html)
://ws.apache.org/axiom/userguide/userguide.html 例如：

```
XMLStreamReader             parser                              = XMLInputFactory.newInstance().createXMLStreamReader(new StringBufferInputStream(responseXML));
OMElement                   documentElement                     = new StAXOMBuilder(parser).getDocumentElement();

AXIOMXPath                  oTA_HotelAvailRSXPath               = new AXIOMXPath("/soap:Envelope/soap:Body/wmHotelAvailResponse/OTA_HotelAvailRS");

oTA_HotelAvailRSXPath.addNamespace("soap",      "http://schemas.xmlsoap.org/soap/envelope/");
oTA_HotelAvailRSXPath.addNamespace("xsi",       "http://www.w3.org/2001/XMLSchema-instance");
oTA_HotelAvailRSXPath.addNamespace("xsd",       "http://www.w3.org/2001/XMLSchema");

OMElement                   oTA_HotelAvailRSOmElement           = (OMElement)oTA_HotelAvailRSXPath.selectSingleNode(documentElement);
OMElement                   errorsOmElement                     = (OMElement)new AXIOMXPath("Errors").selectSingleNode(oTA_HotelAvailRSOmElement);

String strType      = (String) new AXIOMXPath("string(Text/@Type)").selectSingleNode(errorsOmElement);
String strCode      = (String) new AXIOMXPath("string(Text/@Code)").selectSingleNode(errorsOmElement);
String strDescription = (String) new AXIOMXPath("string(Text)").selectSingleNode(errorsOmElement); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T06:35:56.007

我终于发现您正在使用该`android.sax`包来解析您的 XML 文件。我认为您需要查看该[`Element`](http://developer.android.com/reference/android/sax/Element.html)课程的文档。您可以在那里找到一种方法，该方法将为您提供当前元素的子节点（子节点）。

您还应该查看[`android.sax`](http://developer.android.com/reference/android/sax/package-summary.html)包中可用的其他类和接口。特别是，Listener 接口将有助于您遍历 XML 文件的解析树。

# java - 列不存在：Android 应用程序中的非法参数异常

> ID：15017251
> 
> 赞同：0
> 
> 时间：2013-02-22T05:07:57.987
> 
> 标签：java, android, sqlite, android-sqlite

在下面的活动中 - 用户必须输入定义的字段。输入完成后，用户可以编辑更改并保存。但是在我的应用程序中，条目已成功插入到数据库中，但是在编辑相同的字段时，我得到一个非法参数异常，即 website_1 列不存在，尽管我在数据库中检查该列是否存在。在此先感谢

注意：populateFields 是我得到错误的方法。当活动启动时，调用 populateField 方法来填充字段。

```
public class Newform_Screen2_Likewebsite_edit extends Activity {
    EditText w1,c1,w2,c2,w3,c3;
    Button btn_save;
    private String srowId;
    DBAdapter dba;
    SQLiteDatabase myDB;
    private Context context;    

    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
      setContentView(R.layout.newform_screen2_websites);

        dba=new DBAdapter(this);
        context=Newform_Screen2_Likewebsite_edit.this;
        final Intent intent = getIntent();
        srowId=intent.getStringExtra("KEYROWID");

        myDB=DBAdapter.openDatabase(context, DBAdapter.DATABASE_NAME);

        w1=(EditText)findViewById(R.id.www1_web_id);
        w2=(EditText)findViewById(R.id.www2_web_id);
        w3=(EditText)findViewById(R.id.www3_web_id);
        c1=(EditText)findViewById(R.id.color1_id);
        c2=(EditText)findViewById(R.id.color2_id);
        c3=(EditText)findViewById(R.id.color3_id);
        btn_save=(Button)findViewById(R.id.btn_save_web);

          populateFields();

        btn_save.setOnClickListener(new OnClickListener(){

            public void onClick(View v) {
                n2();
                n1();

            }

            private void n2() {

       dba = new DBAdapter(Newform_Screen2_Likewebsite_edit.this);

                   String s1=w1.getText().toString();
                   String s2=w2.getText().toString();
                   String s3=w3.getText().toString();
                   String s4=c1.getText().toString();
                   String s5=c2.getText().toString();
                   String s6=c3.getText().toString();

                String updatequery  = "UPDATE "+ DBAdapter.DATABASE_TABLE+ " SET ";
                updatequery = updatequery + DBAdapter.KEY_WEBSITE_1+" = '" + s1 +"',";
                updatequery = updatequery + DBAdapter.KEY_WEBSITE_2+" = '" + s2 + "',";
                updatequery = updatequery + DBAdapter.KEY_WEBSITE_3+" = '" + s3 + "',";
                updatequery = updatequery + DBAdapter.KEY_COLOR_1+" = '" + s4 + "',";
                updatequery = updatequery + DBAdapter.KEY_COLOR_2+" = '" + s5 + "',";
                updatequery = updatequery + DBAdapter.KEY_COLOR_3+" = '"+s6+"'";
                updatequery = updatequery + " WHERE _id = '" + srowId + "';";
                Log.v("updatequery-new-likewebsite-edit",updatequery);

                try{

                    Log.v("test-2","update");
                    dba.open();
                    myDB.execSQL(updatequery);

                }catch(NullPointerException e){

                    e.getMessage();
                }finally{
                    Log.v("test-3","update");

                    if(myDB != null)myDB.close();
                    dba.close();
                }

            }

            private void Log(String string) {
                Log.i("Activity-check",""+string);

            }

            private void n1() {

                Intent I = new Intent(Newform_Screen2_Likewebsite_edit.this,Newform_Screen2_edit.class);
                I.putExtra("rowid", srowId);
                startActivity(I);

            }

        });

    }

    private void populateFields() {
        dba.open();

         if (srowId != null) {
             Log.v("rowid",srowId.toString());
             long mRowId=Long.parseLong(srowId);
                Cursor cur = dba.fetchSaleseditdetails(mRowId);
                startManagingCursor(cur);
                try{

                    Log.v("test populate","test populate");

                w1.setText(cur.getString(cur.getColumnIndexOrThrow(DBAdapter.KEY_WEBSITE_1)));
                w2.setText(cur.getString(cur.getColumnIndexOrThrow(DBAdapter.KEY_WEBSITE_2)));
                w3.setText(cur.getString(cur.getColumnIndexOrThrow(DBAdapter.KEY_WEBSITE_3)));
                c1 .setText(cur.getString(cur.getColumnIndexOrThrow(DBAdapter.KEY_COLOR_1)));
                c2.setText(cur.getString(cur.getColumnIndexOrThrow(DBAdapter.KEY_COLOR_2)));
                c3.setText(cur.getString(cur.getColumnIndexOrThrow(DBAdapter.KEY_COLOR_3)));

                }
                catch(Exception e){
                    e.printStackTrace();
                }

            }
        dba.close();
    }

    protected void onDestroy() {
        super.onDestroy();
        if (dba != null) {
            dba.close();
        }
        if (myDB != null) {
            myDB.close();
        }
    }

} 
```

Logcat 文件

```
 02-22 10:49:29.717: W/System.err(20723): java.lang.IllegalArgumentException: column 'website_1' does not exist
02-22 10:49:29.717: W/System.err(20723):    at android.database.AbstractCursor.getColumnIndexOrThrow(AbstractCursor.java:302)
02-22 10:49:29.717: W/System.err(20723):    at com.example.exa_sales_new.Newform_Screen2_Likewebsite_edit.populateFields(Newform_Screen2_Likewebsite_edit.java:135)
02-22 10:49:29.717: W/System.err(20723):    at com.example.exa_sales_new.Newform_Screen2_Likewebsite_edit.onCreate(Newform_Screen2_Likewebsite_edit.java:48)
02-22 10:49:29.717: W/System.err(20723):    at android.app.Activity.performCreate(Activity.java:5008)
02-22 10:49:29.717: W/System.err(20723):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1079)
02-22 10:49:29.717: W/System.err(20723):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2023)
02-22 10:49:29.717: W/System.err(20723):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)
02-22 10:49:29.717: W/System.err(20723):    at android.app.ActivityThread.access$600(ActivityThread.java:130)
02-22 10:49:29.717: W/System.err(20723):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)
02-22 10:49:29.717: W/System.err(20723):    at android.os.Handler.dispatchMessage(Handler.java:99)
02-22 10:49:29.717: W/System.err(20723):    at android.os.Looper.loop(Looper.java:137)
02-22 10:49:29.717: W/System.err(20723):    at android.app.ActivityThread.main(ActivityThread.java:4745)
02-22 10:49:29.717: W/System.err(20723):    at java.lang.reflect.Method.invokeNative(Native Method)
02-22 10:49:29.717: W/System.err(20723):    at java.lang.reflect.Method.invoke(Method.java:511)
02-22 10:49:29.717: W/System.err(20723):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
02-22 10:49:29.717: W/System.err(20723):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
02-22 10:49:29.717: W/System.err(20723):    at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:58:54.877

*   我认为您正在调用`populateFields();`访问该列但尚未创建表，这就是您收到**“列 'website_1' 不存在”**异常的原因。

*   我强烈建议您查看[SQLiteOpenHelper](http://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper.html)类来管理您的数据库。它将在内部处理何时创建数据库的模式或何时升级它。

这是一个示例示例，它将为您提供有关如何升级数据库或执行更改查询的一些想法。

```
public class OpenHelper extends SQLiteOpenHelper {

    private final static int DB_VERSION = 2;

    public TracksDB(Context context) {
        super(context, DB_NAME, null, DB_VERSION);
    }

    @Override
    public void onCreate(SQLiteDatabase db) {
        final String CREATE_TBL =
            "create table " + ANIMALS_TABLE +
            " (_id integer primary key autoincrement, " + 
            "animal_name text not null, " +
            "biography text not null);";
             db.execSQL(CREATE_TBL);
    }

    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
        if (oldVersion < 2) {
            final String ALTER_TBL = 
                "ALTER TABLE " + ANIMALS_TABLE +
                " ADD COLUMN biography text not null;";
            db.execSQL(ALTER_TBL);
        }
    }
} 
```

您可以参考[此链接](https://stackoverflow.com/questions/5687226/android-difficulty-in-upgrading-sqlite-table)以获取有关升级数据库的更多信息。

**笔记 ：**

*   `onCreate()`只会在您第一次安装应用程序时`onUpgrade()`调用，并且只会在已经安装应用程序并且您正在更新它时调用。

希望这将帮助您解决您的问题。

# java - 用另一个单引号替换字符串中的单引号

> ID：15017254
> 
> 赞同：5
> 
> 时间：2013-02-22T05:08:12.720
> 
> 标签：java

我有一个带单引号的字符串。我想用 2 个单引号替换单引号。我尝试使用

```
 String s="Kathleen D'Souza";

s.replaceAll("'","''");

s.replaceAll("\'","\'\'");

s.replace("'","''");

s.replace("\'","\'\'"); 
```

但是单引号不会被 2 个单引号替换。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T05:10:43.063

将替换的字符串重新分配给`s`

```
String s="Kathleen D'Souza";
s = s.replaceAll("'","''"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T05:14:13.630

请尝试 s="test'test";

```
`s.replaceAll("'","\"");`     => test " test

`s.replaceAll("'","''");`     => test '' test 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T05:10:23.203

`Strings`是不可变的。将结果分配`replaceAll`给您的`String`：

```
s = s.replaceAll("'","''"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T05:10:53.963

```
String s="Kathleen D'Souza";
s= s.replace("'", "''"); 
```

尝试字符串#replace()。它将用双 '' 替换所有出现的单 '。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-07-09T18:28:43.537

请注意，对于给定的解决方案，连续的单引号将加倍，因此 Kathleen D''Souza 变成 Kathleen D''''Souza。（我见过用户像这样比自己聪明。）如果这是您所关心的，您可以将连续的单引号与：

```
 s = s.replaceAll("''*","''"); 
```

# javascript - 部署到heroku的节点快递应用程序中的“格式错误的HTTP响应”

> ID：15017257
> 
> 赞同：2
> 
> 时间：2013-02-22T05:08:25.077
> 
> 标签：javascript, node.js, heroku, express, request

以下代码在本地部署、接收请求并将其转发到另一台服务器以验证许可证时有效：

```
var express = require("express");
var app = express();
var request = require("request");

var ddKey = "someKey";
var ddSecret = "someSecret";

var ProId = "someId";
var testLicense = "someLicense";

app.get("/", function(req, res){
  var license = req.query["license"] || "test";
  var url = "https://"+ddKey+":"+ddSecret+"@licenseServer.com/products/"+ProId+"/licenses/check_valid?key="+license;
  request.get(url, {"auth": {"user": ddKey, "pass": ddSecret}, "json": true}, function(error, response, body){
    res.send("BODY:", response.body);
  }); 
});

var port = process.env.PORT || 3001;
app.listen(port, function(){
    console.log("listening on port ", port);
}); 
```

但是，当我在 heroku 上部署它并向 heroku 应用程序发送请求时，我会收到“未收到数据”屏幕以及以下消息：

错误 324 (net::ERR_EMPTY_RESPONSE)：服务器关闭连接而不发送任何数据。

当我检查 heroku 日志时，我看到 heroku 指示以下错误：

格式错误的 HTTP 响应

我无法找到构成正确格式响应的内容。

感谢您提供任何帮助。

# android - Android - 使用 apktool 将项目构建为 APK 文件时出错

> ID：15017258
> 
> 赞同：-18
> 
> 时间：2013-02-22T05:08:25.817
> 
> 标签：android, decode, apk

我有一个名为：MyApp.apk 的 APK 文件。首先，我使用 apktool 对其进行解码：

```
apktool d MyApp.apk 
```

它生成项目文件夹：MyApp。然后我将它导入到 Eclipse 中进行编辑。
我在 MyApp 项目中创建了一个新类作为 Activity。
完成后，我再次使用 apktool 将项目导出为 APK 文件：

```
apk b MyApp 
```

它会生成一个 APK 文件，我将其命名为 Final_MyApp.apk。之后，我签字。
当我使用以下方法安装 Final_MyApp.apk 时：

```
adb install Final_MyApp.apk 
```

我的应用程序没有运行。我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:13:14.153

`adb install`仅在设备上安装您的应用程序。
要启动您的应用程序，您必须调用活动管理器 (am)

```
adb shell am start -n com.package.name/com.package.name.ActivityName 
```

有关更多信息，请参阅此帖子：[https](https://stackoverflow.com/a/4567928/1321873) ://stackoverflow.com/a/4567928/1321873 。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T05:14:38.063

我认为您不能将新活动包含到您的 android 清单文件中。这就是您的 APK 无法运行的原因。

还将您的 apk 存储在 C 或 D 文件夹中并尝试这样

```
adb install C:\Final_MyApp.apk 
```

# git - 如何从 jenkins 更改 pom.xml 版本并推送到 git 分支

> ID：15017259
> 
> 赞同：1
> 
> 时间：2013-02-22T05:08:32.873
> 
> 标签：git, jenkins

目前我们正在从 cmd 提示符手动更改 pom 版本并提交到 git 分支。

我想在詹金斯配置这个版本更改

一旦成功，我想自动更改 jenkins 的 pom.xml 版本。我想将它从詹金斯推送到远程 git 分支。我们正在使用命令**mvn version:set -Dnewversion=1.0.0**来更改 pom 版本 谁能告诉我如何在 jenkins 中配置此命令并自动推送到远程 git 分支而无需手动交互

# java - 如何为 JMS 连接工厂查找指定初始上下文详细信息

> ID：15017265
> 
> 赞同：3
> 
> 时间：2013-02-22T05:08:44.437
> 
> 标签：java, jboss, jms

我在工作中遇到了一种情况，我需要为底层架构组件指定初始上下文名称，以便它可以帮助我将消息发布到 JMS 队列。

如何指定确切的上下文工厂名称？我认为这可能是`org.jnp.interfaces.namingcontextfactory`根据谷歌结果使用的字符串“”。我想了解以jboss服务器配置为起点的权威方法是什么？

谢谢西尼什

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T18:38:55.373

初始上下文是对[JNDI](http://docs.oracle.com/javase/jndi/tutorial/)名称空间的引用，可以在其中查找 JMS 队列等对象。我前段时间写了这个[教程，你可能会觉得很有帮助。](http://www.ibm.com/developerworks/library/j-jmsvendor/)

对于**远程**jboss 服务器，应该有 3 个基本的（使用默认端口）：

*   **java.naming.factory.initial**：org.jnp.interfaces.NamingContextFactory
*   **java.naming.factory.url.pkgs** : org.jboss.naming:org.jnp.interfaces
*   **java.naming.provider.url** : <主机名>:1099

代码看起来像这样：

```
import javax.naming.*;
import javax.jms.*;
import java.util.*;
.....
Properties jndiProps = new Properties();
jndiProps.put("java.naming.factory.initial", "org.jnp.interfaces.NamingContextFactory");
jndiProps.put("java.naming.factory.url.pkgs", "org.jboss.naming:org.jnp.interfaces");
jndiProps.put("java.naming.provider.url", "localhost:1099");
Context ctx = new InitialContext(jndiProps);
Queue jmsQueue = (Queue)ctx.lookup("jndi-name-of-queue"); 
```

如果您的代码在 jboss 服务器中运行*，*则不需要这些属性，因为它们是隐式的。

```
import javax.naming.*;
import javax.jms.*;
.....
Context ctx = new InitialContext(); // no properties needed
Queue jmsQueue = (Queue)ctx.lookup("jndi-name-of-queue"); 
```

# java - Linux平台中的按钮颜色问题

> ID：15017269
> 
> 赞同：0
> 
> 时间：2013-02-22T05:09:13.843
> 
> 标签：java, swing, concurrency, jbutton, event-dispatch-thread

当我运行我的应用程序时，按钮颜色没有得到更新，而是没有正常显示以及动态显示。此问题仅在 Linux 环境中发生，并且相同的代码在 Windows 上也可以正常工作。

```
 private JButton button = new JButton();
                button.setLayout(buttonLayout);
                button.add(totalsLabel, BorderLayout.CENTER);
                totalsLabel.setHorizontalAlignment(JButton.CENTER);
                button.add(statusLabel, BorderLayout.SOUTH);
                statusLabel.setHorizontalAlignment(JButton.CENTER);
                button.setMargin(new Insets(0, 0, 0, 0));
                button.setVerticalAlignment(SwingConstants.TOP);
                button.setHorizontalTextPosition(SwingConstants.CENTER);
                button.setEnabled(true);
                button.setPreferredSize(PREFERRED_SIZE);
                button.setRequestFocusEnabled(false);
                button.setVerifyInputWhenFocusTarget(false);
                button.setFocusPainted(false);
                button.setBackground(mementoTO.getBackGroundColor());
                private void initializeAlternatingColorsThread() {

                alternatingColors = new Thread(new Runnable()  {
                    public void run() {
                        while(true)  {
                            while(continueAlternatingColors())  {
                                try {
                                    if(button.getBackground().equals(BACKGROUND_PAY_LATER)) {
                                        button.setBackground(BACKGROUND_BUSY); }
                                    else {
                                        button.setBackground(BACKGROUND_PAY_LATER); }
                                    Thread.sleep(500); }
                                catch(InterruptedException ex) {
                                    getLogger().error(this + " - Error occured in initializeAlternatingColorsThread: ", ex);   }   }
                            synchronized(lockVariable) {
                                try {
                                    lockVariable.wait();    }
                                catch(InterruptedException e) {
                                } } } }
                }, "AlternatingColors");  }

    GuiExecutor.getInstance().update(new Runnable() {
                    public void run() {
                        setStaticText("RESETTING PUMP");
                        setStatus("HANG UP NOZZLE");
                        button.setBackground(BACKGROUND_BUSY);
                        button.repaint();
                    }   }); 
```

如果我继续使用 Windows 的外观和感觉，那么我在 Linux 中会遇到异常。所以我改变了外观并作为 Linux 的 GDK。

```
 INFO   | jvm 1    | main    | 2013/01/21 15:14:23.995 | Exception in thread "AWT-EventQueue-0" java.lang.NullPointerException
    INFO   | jvm 1    | main    | 2013/01/21 15:14:23.995 |     at javax.swing.plaf.basic.BasicButtonUI.getMinimumSize(BasicButtonUI.java:352)
    INFO   | jvm 1    | main    | 2013/01/21 15:14:23.995 |     at javax.swing.JComponent.getMinimumSize(JComponent.java:1714)
    INFO   | jvm 1    | main    | 2013/01/21 15:14:23.995 |     at java.awt.BorderLayout.minimumLayoutSize(BorderLayout.java:651)
    INFO   | jvm 1    | main    | 2013/01/21 15:14:23.995 |     at java.awt.Container.minimumSize(Container.java:1651)
    INFO   | jvm 1    | main    | 2013/01/21 15:14:23.995 |     at java.awt.Container.getMinimumSize(Container.java:1636)
    INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at javax.swing.JComponent.getMinimumSize(JComponent.java:1716)
    INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at java.awt.FlowLayout.minimumLayoutSize(FlowLayout.java:448)
    INFO   | jvm 1    | main    | 2013/01/21 15:14:23.996 |     at 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T05:12:33.787

您的代码不遵守 Swing 线程规则。您应该只在 Swing 事件线程 (EDT) 上更改组件的属性。使用 SwingWorker 来执行此操作，您的问题可能会消失。

更好的是，为什么不简单地使用摆动计时器？

此外，您的代码格式很差（例如 -- `} } } }`），这使我们难以阅读您的代码并为您提供帮助。如果您希望我们努力帮助您，请努力在此处发布格式更好的代码。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-22T05:13:39.203

这个...

```
alternatingColors = new Thread(new Runnable() {
    public void run() {
        while (true) {
            while (continueAlternatingColors()) {
                try {
                    if (button.getBackground().equals(BACKGROUND_PAY_LATER)) {
                        button.setBackground(BACKGROUND_BUSY);
                    } else {
                        button.setBackground(BACKGROUND_PAY_LATER);
                    }
                    Thread.sleep(500);
                } catch (InterruptedException ex) {
                    getLogger().error(this + " - Error occured in initializeAlternatingColorsThread: ", ex);
                }
            }
            synchronized (lockVariable) {
                try {
                    lockVariable.wait();
                } catch (InterruptedException e) {
                }
            }
        }
    }
}, "AlternatingColors"); 
```

违反了 Swing 的单线程规则 - 您绝不能在 Event Dispatching Thread 之外创建或更新任何 UI 组件，如您所见，这样做可能会导致意外行为。

您应该使用 a`SwingTimer`来执行相同的任务...

查看[Swing 中的并发以](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)获取更多信息

# c++ - 如何在结构中动态分配内存？

> ID：15017271
> 
> 赞同：1
> 
> 时间：2013-02-22T05:09:38.597
> 
> 标签：c++, arrays, dynamic, struct, allocation

对于本周我的 CS 课上的作业，我们必须修改我们当前的程序，以便为所有数组动态分配内存。我们必须确保没有内存浪费在空元素上。为此，我们必须将字符数组分配给临时数组，检查临时数组的大小，然后分配该大小的数组。

无论如何，我不知道如何使用结构来做到这一点。我知道如何动态分配内存，例如

```
int* pointer = new int(5); 
```

但是我该如何为结构成员做到这一点？除非您预先定义大小，否则当您声明该类型的结构时，计算机似乎不知道要分配多少空间。

现在，我的结构定义是这样的：

```
struct card
   {
   char rank[10];
   char suit[10];
   char color;
   bool dealt;
   char location[12];
   }; 
```

如何在不指定大小的情况下更改要动态声明的所有数组？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T05:12:31.230

```
struct card
{
   char* rank;
   char* suit;
   char color;
   bool dealt;
   char* location;
}; 
```

编译器不需要知道你分配的大小，因为这个结构将存储的只是一个指向分配内存的指针。

如果您每个分配 1 个元素或每个分配 1000 个元素，则指针的大小以及结构的大小将相同。

```
card c;
c.location = new char[10]; 
```

ps 只是检查一下，您是否知道下面的代码分配了 1 个元素并将其设置为 5，而不是分配 5 个元素？请参阅[维基百科](http://en.wikipedia.org/wiki/New_%28C%2B%2B%29)了解这两种用途之间的区别。

```
int* pointer = new int(5); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-22T05:13:33.480

```
struct card
   {
    char *rank;
    char *suit;
    char color;
    bool dealt;
    char *location;
   }; 
```

只需在结构中获取指针并为它们动态分配内存，不要忘记在使用后释放它们..

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T05:17:21.090

使用 char* 等级？当你使用它时，card->rank = malloc(sizeof(char)*size)?

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-22T06:22:08.237

在任何情况下，您都不需要更改结构变量，只需使用 typedef 更改调用方式即可：

```
typdef struct _CARD
   {
   char rank[10];
   char suit[10];
   char color;
   bool dealt;
   char location[12];
   } CARD; 
```

要初始化 CARD 的数组，请使用：

```
CARD* card;
#define ARRSIZE 12

card = (CARD*)malloc(sizeof(CARD)*ARRSIZE); 
```

对于更动态的结构分配，通过调用结构本身作为指针来使用链表： typdef struct _CARD

```
 typdef struct _CARD {
   char rank[10];
   char suit[10];
   char color;
   bool dealt;
   char location[12];
   struct _CARD  *_next;
   } CARD; 
```

并根据需要初始化每个结构并使用 _next 指针绑定它们：

```
 CARD *card,*tmp,*final,*first,*etc;
    card = (CARD*)malloc(sizeof(CARD));
    tmp= (CARD*)malloc(sizeof(CARD));
    card->_next = tmp;
    final = (CARD*)malloc(sizeof(CARD));
    tmp->_next = final;
    final->_next = NULL; 
```

等等，您需要有额外的功能来管理动态创建的结构及其绑定。

# ruby-on-rails - 尽管 spec_helper 中包含模块，但在 rspec 集成测试中无法识别方法

> ID：15017273
> 
> 赞同：1
> 
> 时间：2013-02-22T05:09:45.870
> 
> 标签：ruby-on-rails

我收到一个错误，我的方法没有定义。错误是“未定义的局部变量或方法'mock_auth_hash'，尽管包括在spec_helper中定义mock_auth_hash的模块。

我正在尝试使用omniauth 进行一些rspec 集成测试，我正在关注此链接[https://gist.github.com/kinopyo/1338738](https://gist.github.com/kinopyo/1338738)

请帮我找出问题所在，因为我花了太多时间试图弄清楚这个问题……也许我需要一双新的眼睛……

这是我的文件

规范->支持->omniauth_macros.rb

```
module OmniauthMacros
    def mock_auth_hash
        OmniAuth.config.mock_auth[:facebook] = {'provider' =>"facebook",
                                        'uid' =>"12345",
                                        'info'=>{'name'=>"John Doe"},
                                        'credentials'=>{'token'=>"AAABBBCCC"}}
    end
end 
```

规范->spec_helper.rb

```
RSpec.configure do |config|
.
.
.
config.include OmniauthMacros #I've also tried putting config.include(OmniauthMacros)
.
.
end

OmniAuth.config.test_mode = true 
```

规范->请求->game_pages_spec.rb

```
describe "signing in" do
        before {visit root_url}
        mock_auth_hash
        before {click_button "Login with Facebook"}
        it {should have_selector('h1',text: 'Welcome')}
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:48:59.110

您的呼叫必须`mock_auth_hash`在`before`or范围内`it`。

# ruby-on-rails - Ruby 有很多关联错误

> ID：15017275
> 
> 赞同：1
> 
> 时间：2013-02-22T05:09:49.173
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3.1, ruby-on-rails-3.2, associations

每当我尝试运行这个 rake 命令时：

```
@user = User.find("1")
@contest = Contest.find("1")
@user.votes.create(:user => self, :contest => @contest) 
```

我收到此错误：

```
User(#70104671283680) expected, got Object(#70104612331400) 
```

这是我的 User.rb

```
has_many :votes
accepts_nested_attributes_for :votes
attr_accessible :votes_attributes 
```

这是我的竞赛.rb

```
has_many :votes 
```

这些是我的迁移：

```
change_table :users do |t|
  t.references :votes
end

change_table :contests do |t|
  t.references :votes
  t.references :contest_items
end

change_table :votes do |t|
  t.belongs_to :users
  t.belongs_to :contests
end 
```

我是否错误地设置了选票？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T05:13:00.907

替换`self`为用户，例如`@user`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T06:51:45.067

用@user 替换 self 就可以了。

理想情况下，您应该这样做。

```
@user.votes.create(:contest => @contest) 
```

如果您的关联设置正确，Rails 将在内部处理分配。

在你的情况下它会。

我从 Rails 指南中获取了这些片段。

```
@order = @customer.orders.create(:order_date => Time.now) 
```

这是网址

[http://guides.rubyonrails.org/association_basics.html](http://guides.rubyonrails.org/association_basics.html)

# webforms - Ektron app_code 和库之间的 ASP.Net 库名称冲突

> ID：15017276
> 
> 赞同：1
> 
> 时间：2013-02-22T05:10:11.253
> 
> 标签：webforms, quartz.net, ektron

我有一个 Ektron 8.2 站点，我试图将 Quartz.NET 集成到其中，以便运行一些调度。Quartz.NET 需要一个库 Common.Logging。该库引入了冲突并破坏了 App_Code/VBCode 中的 Ektron 代码。

例如来自 Utilities.vb 的以下代码

```
Case Is = Common.EkEnumeration.FolderType.Community
      imageURL &= "images/ui/icons/folderCommunity.png"
Case Common.EkEnumeration.FolderType.Catalog
      imageURL &= "images/ui/icons/folderGreen.png" 
```

现在给出编译时错误-

```
App_Code\VBCode\Utilities.vb(703,0): error BC30456: 'EkEnumeration' is not a member of 'Common'. 
```

看来 Common.Logging 与 Ektron.Cms.Common 冲突（Ektron 文件有一个`Imports Ektron.Cms`声明）。是否可以指定库的优先级？或者命名空间一个导入的库？

**更新** Utilities.vb 代码由 Ektron 编写。我想要么不更改此代码，要么进行最小更改，因为任何更改都需要在 Ektron 升级时重新完成。这实际上是 2 个库之间的冲突 - Ektron 和 Quartz.Net。我可以在不更改任一库代码的情况下解决此冲突吗？是否有别名库的配置设置？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T16:10:12.240

A simple solution is to use the full namespace, Ektron.Cms.Common.EkEnumeration, rather than relying on the include to sort things out automatically.

I.e.

```
Case Is = Ektron.Cms.Common.EkEnumeration... 
```

Not elegant, but should get you working again.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T20:14:57.133

另一种选择是使用[命名空间别名](http://msdn.microsoft.com/en-us/library/c3ay4x3d%28v=vs.80%29.aspx)：

```
using EkCommon = Ektron.Cms.Common; 
```

所以你的代码看起来像：

```
EkCommon.EkEnumeration.FolderType.Community 
```

# playframework-2.0 - 播放 dist 并将 jar 复制到 heroku 而不是 git push

> ID：15017277
> 
> 赞同：1
> 
> 时间：2013-02-22T05:10:13.853
> 
> 标签：playframework-2.0, playframework-2.1

Play 2.0/2.1 在 Heroku 上运行良好。但是，“git push”需要一段时间才能完成。我可以使用“play dist”并将 jar 推送到 Heroku 存储库，而不是在 Heroku 的服务器上推送和编译吗？除了源代码维护之外还有什么缺点吗？

[http://www.playframework.com/documentation/2.1.0/ProductionDist](http://www.playframework.com/documentation/2.1.0/ProductionDist)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T20:04:06.043

Heroku 在使用将我`git push`的 [源代码推送到 Heroku 有好处吗？](https://devcenter.heroku.com/articles/java-faq#are-there-benefits-to-pushing-my-source-code-to-heroku)

> *   构建环境和运行时环境之间的差异是传统部署环境中不良部署的常见来源。在应用程序稍后运行的相同环境中构建应用程序可以大大降低这种风险。
> *   推送代码而不是构建可以让您和您的团队更好地了解哪些代码部署在哪里。例如，该命令`git diff production/master staging/master`将显示登台和生产之间的确切代码差异。
> *   Git 为仅传输已更改的内容进行了高度优化。这意味着大多数代码推送（在第一个之后）只需几秒钟，而不是传输完整的构建工件可能需要几分钟。
> *   使用修订控制进行部署可以使具有部署权限的团队成员之间的协作更加顺畅。例如，它提供了一种可覆盖的保护措施，防止意外用较旧的部署覆盖较新的部署。

但是对于一个非常简单的 Play，我在使用这种方法时遇到了一些问题！2.1 我正在处理的应用程序。

我只有几个依赖项，而且我的 slug 大小已经超过了 200m 的限制。目前这不是问题，但我只希望它会增长。

有时，您无法部署任何东西，因为 Heroku 花费了太多时间来获取仅用于构建的依赖项（特别*是 sbt 的*东西）。部署在 10 分钟后超时。

所以我可能会在不久的将来转而部署已编译的工件。

# java - 在自动构建脚本上获取 eclipse.idReplacer 错误

> ID：15017281
> 
> 赞同：1
> 
> 时间：2013-02-22T05:10:25.900
> 
> 标签：java, eclipse, eclipse-plugin

我是eclipse PDE的新手。我在 Eclipse 中创建了功能项目。使用 pde 工具，我创建了一个 build.xml。当我从 Eclipse 运行时，它运行良好，但是当我从外部运行它（终端使用`plugins/org.apache.ant_1.8.3.v20120321-1730/bin/./ant -verbose -debug -buildfile build.xml` ）时，我收到错误

```
Problem: failed to create task or type eclipse.idReplacer
Cause: The name is undefined.
Action: Check the spelling.
Action: Check that any custom tasks/types have been declared.
Action: Check that any <presetdef>/<macrodef> declarations have taken place. 
```

此外，如果另一个 ant 脚本调用我的功能的 build.xml，则从 eclipse 中，我得到同样的异常。

我阅读了日食博客，似乎错误已修复，而 Andrew Niefer 的解决方案在我的情况下不起作用。我还尝试从其 cvs 和 git 下载 org.eclipse.releng.eclipsebuilder，但我未能下载它们。

任何想法可能是什么问题？

我的配置，java版本“1.7.0_09”，Eclipse插件开发环境版本：3.6.2.r362_v20110203-7b7mFL2FET3dhHalh1iNZtL Build id：M20110210-1200

Fedora14-64位

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-10-03T14:42:13.300

**原因：名称未定义。表示 ANT 任务 eclipse.idReplacer 未知**

因为您在 Eclipse 之外运行 Ant，所以未定义某些 ANT“任务”名称。（作为参考，'eclipse.idReplacer' 在 Java 类中定义：org.eclipse.pde.internal.build.tasks.IdReplaceTask 在文件 /lib/pdebuild-antsrc/org/eclipse/pde/internal/build/tasks/ .../eclipse/plugins/org.eclipse.pde.build_3.8.2.v20121114-140810/lib/pdebuild-ant.jar Eclipse 插件中的 IdReplaceTask.java（在我的系统上）——该 java 类实现了 IdReplaceTask 类扩展 Task 类，用于实现对 Ant 的扩展。）

问题是独立的 Ant 不知道 eclipse.idReplacer。将 Ant 'typedef' 标记添加到 build.xml 以告诉 Ant 新的 'eclipse.idReplacer' 任务名称由 ...IdReplaceTask.class 定义

```
 <typedef name="eclipse.idReplacer"
     classname="org.eclipse.pde.internal.build.tasks.IdReplaceTask"/> 
```

通过在 Ant 命令行中添加一个“-lib”选项，告诉 Ant 在哪里可以找到 ...IdReplaceTask.class：

```
ant -f /mydir/moredir/build.xml -lib \app\androidDev\eclipse\plugins\org.eclipse.pde.build_3.8.2.v20121114-1 clean build.update.jar 
```

上面命令中的关键是“-lib ...”选项，它告诉 Ant 在哪里可以找到定义 ...IdReplaceTask 的 jar。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:06:13.630

您可以尝试通过 Windows--?Preferences-- 在 Eclipse 中导入 jar(ant-contrib-1.0b3，您可以下载并保存在 eclipse/plugins/org.apache.ant_1.7.1.v20090120-1145/lib 中) >Ant-->Runtime--->在 Ant Home Entries 中添加外部 jars。

你能让我们看看 build.xml 文件吗

# zend-framework2 - 通过 ServiceManager 使用 View Helper 注入自定义导航

> ID：15017288
> 
> 赞同：0
> 
> 时间：2013-02-22T05:11:18.847
> 
> 标签：zend-framework2

我刚开始为 Zend Framework 2 开发。我正在尝试向我的应用程序添加一个简单的菜单。菜单最终将从数据库中加载为用户可定义的书签，所以目前，我正在尝试实例化我定义的视图助手，在控制器中以编程方式添加页面，然后将视图助手的导航注入视图模型。我的问题是，当我尝试使用 ServiceLocator 在控制器中检索视图助手时，我得到`ServiceNotFoundException`：

应用程序\查看\帮助\快捷方式菜单：

```
 namespace Application\View\Helper;

    use Zend\Navigation\Navigation;

    class ShortcutsMenu extends Navigation {

        public function shortcutsMenu() {
            //...
        }

        public function __construct() {
            //...
        }

    } 
```

在 Module.php 中

```
public function getServiceConfig() {
    return array(
        'view_helper' => array(
            'factories' => array(
                'shortcutsmenu' => function($sm) {
                    $smenu = new \Application\View\Helper\ShortcutsMenu();
                    return $smenu;
                }
            ),
        ),
    ); 
```

索引控制器.php：

```
 $smenu = $this->getServiceLocator()->get('shortcutsmenu'); // throws ServiceNotFoundException
    //"Zend\ServiceManager\ServiceManager::get was unable to fetch or create an instance for shortcutsmenu"

    $smenu->addPage(AbstractPage::factory(array(
        'label' => 'Homepage',
        'order' => '-1',
        'uri' => '/',
    )));

    // ...
} 
```

谁能告诉我我错过了什么？

编辑：我想在应用程序范围的布局中生成的 HTML 类似于：

```
<!-- Side tabs shortcuts -->
<ul id="shortcuts">
    <li class="current"><a href="./" class="shortcut-home" title="Home">Home</a></li>
    <li><a href="userpage1.html" title="My messages">My messages</a></li>
    <li><a href="/a/b/c?id=4" title="Bob's calendar">Bob's calendar</a></li>
    <li>...</li>
</ul> 
```

可能使用 URI 样式链接而不是 MVC 链接。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T08:37:34.860

无需扩展导航容器`Zend\Navigation\Navigation`或扩展内置视图助手来呈现菜单。

[容器](http://zf2.readthedocs.org/en/latest/modules/zend.navigation.containers.html)管理导航结构中的所有页面。有几种创建容器的方法。

所有[视图助手](http://zf2.readthedocs.org/en/latest/modules/zend.navigation.view.helpers.html)（菜单、面包屑）都使用容器作为导航数据的提供者。您可以使用`setContainer()`. 或者，您可以只在视图中调用视图助手而不设置容器，视图助手将为您创建一个新的空容器。

如果您需要一些替代渲染，因为默认视图助手不提供它，您可以创建自己的导航视图助手。

```
namespace MyNamespace\View\Helper\Navigation;

use Zend\View\Helper\Navigation\AbstractHelper;

class MyHelper extends AbstractHelper
{
} 
```

接下来将您的视图助手注册到导航插件管理器。我认为你可以做这样的事情（未经测试）：

```
class Module
{
    public function onBootstrap($e)
    {
        $application = $e->getApplication();
        /** @var $serviceManager \Zend\ServiceManager\ServiceManager */
        $serviceManager = $application->getServiceManager();

        $pm = $serviceManager->get('ViewHelperManager')->get('Navigation')->getPluginManager();
        $pm->setInvokableClass('myHelper', 'MyNamespace\View\Helper\Navigation\MyHelper');
    }
} 
```

现在在您的视图中称您为自定义助手：

```
$this->navigation()->myHelper() 
```

# php - 尝试根据从菜单中选择的内容创建具有不同文本的网页

> ID：15017289
> 
> 赞同：0
> 
> 时间：2013-02-22T05:11:27.680
> 
> 标签：php, javascript, html, ajax

I am trying to set up a webpage that has different menu selections and when a menu item is selected text is displayed in a separate section (depending on what text has been selected).

这是一个网页链接，说明了我想要实现的目标。

[https://www.facebook.com/nrmainsurance/app_282857945119270](https://www.facebook.com/nrmainsurance/app_282857945119270)

这是我作为尝试提出的代码，我对更简单的方法持开放态度。我还查看了 jquery、ajax、if else 代码、onlick 事件监听器（但没有完全掌握它们）。

我愿意接受建议。

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
</head>
<body>
<table width="80%" cellspacing="0" cellpadding="0" align="center">
   <tr>
       <td>
           <div align="center">
              <a href="#Step1" class="menuNav">
                  <strong>Step 1</strong>
              </a>
           </div>
        </td>
        <td>
           <div align="center">
              <a href="#Step2" class="menuNav">
                  <strong>Step 2</strong>
              </a>
           </div>
         </td>
         <td>
           <div align="center">
              <a href="#Step3" class="menuNav">
                  <strong>Step 3</strong>
              </a>
           </div>
         </td>
       </tr>
    </table>
<object type="text/html" width="80" height="150" border="thin">
       <?php
         if( onClick "#Step1" ) {
            echo (i hope this work ) ?>
        <?php

         } else { }
       ?>
    </object> 
</object> 
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T05:19:43.977

我认为您正在尝试创建选项卡菜单。为此，您可以使用 jQuery Ui 选项卡。这是一个基本的演示[http://jqueryui.com/tabs/](http://jqueryui.com/tabs/)。如果您想做一些样式，请查看此链接[http://keith-wood.name/uiTabs.html](http://keith-wood.name/uiTabs.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T05:19:47.787

您可以使用 Jquery 来实现此效果。也真的很容易！我想这就是你要找的。

```
<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>jQuery UI Tabs - Default functionality</title>
  <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.1/themes/base/jquery-ui.css" />
  <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
  <script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>
  <link rel="stylesheet" href="/resources/demos/style.css" />
  <script>
  $(function() {
    $( "#tabs" ).tabs();
  });
  </script>
</head>
<body>

<div id="tabs">
  <ul>
    <li><a href="#tabs-1">Nunc tincidunt</a></li>
    <li><a href="#tabs-2">Proin dolor</a></li>
    <li><a href="#tabs-3">Aenean lacinia</a></li>
  </ul>
  <div id="tabs-1">
    <p>Proin elit arcu, rutrum commodo, vehicula tempus, commodo a, risus. Curabitur nec arcu. Donec sollicitudin mi sit amet mauris. Nam elementum quam ullamcorper ante. Etiam aliquet massa et lorem. Mauris dapibus lacus auctor risus. Aenean tempor ullamcorper leo. Vivamus sed magna quis ligula eleifend adipiscing. Duis orci. Aliquam sodales tortor vitae ipsum. Aliquam nulla. Duis aliquam molestie erat. Ut et mauris vel pede varius sollicitudin. Sed ut dolor nec orci tincidunt interdum. Phasellus ipsum. Nunc tristique tempus lectus.</p>
  </div>
  <div id="tabs-2">
    <p>Morbi tincidunt, dui sit amet facilisis feugiat, odio metus gravida ante, ut pharetra massa metus id nunc. Duis scelerisque molestie turpis. Sed fringilla, massa eget luctus malesuada, metus eros molestie lectus, ut tempus eros massa ut dolor. Aenean aliquet fringilla sem. Suspendisse sed ligula in ligula suscipit aliquam. Praesent in eros vestibulum mi adipiscing adipiscing. Morbi facilisis. Curabitur ornare consequat nunc. Aenean vel metus. Ut posuere viverra nulla. Aliquam erat volutpat. Pellentesque convallis. Maecenas feugiat, tellus pellentesque pretium posuere, felis lorem euismod felis, eu ornare leo nisi vel felis. Mauris consectetur tortor et purus.</p>
  </div>
  <div id="tabs-3">
    <p>Mauris eleifend est et turpis. Duis id erat. Suspendisse potenti. Aliquam vulputate, pede vel vehicula accumsan, mi neque rutrum erat, eu congue orci lorem eget lorem. Vestibulum non ante. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Fusce sodales. Quisque eu urna vel enim commodo pellentesque. Praesent eu risus hendrerit ligula tempus pretium. Curabitur lorem enim, pretium nec, feugiat nec, luctus a, lacus.</p>
    <p>Duis cursus. Maecenas ligula eros, blandit nec, pharetra at, semper at, magna. Nullam ac lacus. Nulla facilisi. Praesent viverra justo vitae neque. Praesent blandit adipiscing velit. Suspendisse potenti. Donec mattis, pede vel pharetra blandit, magna ligula faucibus eros, id euismod lacus dolor eget odio. Nam scelerisque. Donec non libero sed nulla mattis commodo. Ut sagittis. Donec nisi lectus, feugiat porttitor, tempor ac, tempor vitae, pede. Aenean vehicula velit eu tellus interdum rutrum. Maecenas commodo. Pellentesque nec elit. Fusce in lacus. Vivamus a libero vitae lectus hendrerit hendrerit.</p>
  </div>
</div>

</body>
</html> 
```

来源：http: [//jqueryui.com/tabs/](http://jqueryui.com/tabs/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T05:23:35.080

PHP 没有“onclick”功能。它在 javascript 上。

[您可以在http://www.dynamicdrive.com/dynamicindex17/tabcontent.htm](http://www.dynamicdrive.com/dynamicindex17/tabcontent.htm)找到工作脚本，只需更改 css 的样式即可获得所需的设计。

# javascript - 将数据设置为 dojo 数据网格

> ID：15017293
> 
> 赞同：0
> 
> 时间：2013-02-22T05:12:08.753
> 
> 标签：javascript, dojo

我正在与 Dojo 合作，我有一个小要求。我正在使用商店来创建内存。我有一个硬编码列表，因此我可以将此列表设置为 Dojo 数据网格存储，从而执行一些 rowclick 功能。我的问题是我无法设置商店，并且出现错误， `this.headerContentNode.firstChild is null`. 请问有人可以帮我吗？

代码片段....

```
postCreate : function () {
  //publist, sublist etc
  this._handleLogDetails();
},
//methods...
_handleLogDetails : function(){

  alert("hello...h..");
  var theGreatestTeamOfAllTime = [ {
    "jobName":"12",
    "jobId":"Jim Kelly",
    "status":"QB",
    "timeStamp":"0"
  },
  {
    "jobName":"1",
    "jobId":" Kelly",
    "status":"B",
    "timeStamp":"10"
  }

];

var clientJobStore = this.jobModel.getLogStore();
clientJobStore.setData(theGreatestTeamOfAllTime);
var thisData = new ObjectStore({objectStore: clientJobStore});
this.dapJobStatusGrid1.setStore(thisData); // attach point of dojo data grid, getting an error at this point... 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-06T15:59:45.753

如果不查看网格的配置方式，很难确切地说出问题所在，但这很可能是由以下原因之一引起的：

1.  您没有在网格上调用 startup() 。
2.  构建网格时，您没有为网格提供 DOM 节点。

例如，也许可以尝试以下类似的方法，其中第二个参数是网格应该附加到的 DOM 节点。

```
var options = {// some options};
var foo = new DataGrid(options, someContainer.domNode);
foo.startup(); 
```

# maven - 使用 maven 和 SoapUI 插件进行自动化 SOAP 测试

> ID：15017294
> 
> 赞同：2
> 
> 时间：2013-02-22T05:12:18.683
> 
> 标签：maven, soap, soapui

我正在尝试使用 Maven3 自动化 SOAP UI。我收到“无法下载”的问题。下面是控制台中的错误。

[错误] 从存储库 [本地 (/home/krishna/.m2/repository)、eviwarePluginRepository ( [http://www.eviware.com/ repository/maven2/](http://www.eviware.com/repository/maven2/) ), central (http://repo.maven.apache.org/maven2)]: Plugin not found in any plugin repository -> [Help 1] [ERROR] [ERROR] 查看完整的堆栈跟踪错误，使用 -e 开关重新运行 Maven。[错误] 使用 -X 开关重新运行 Maven 以启用完整的调试日志记录。[ERROR] [ERROR] 有关错误和可能解决方案的更多信息，请阅读以下文章： [ERROR] [Help 1] [http://cwiki.apache.org/confluence/display/MAVEN/PluginVersionResolutionException](http://cwiki.apache.org/confluence/display/MAVEN/PluginVersionResolutionException) "

要执行它，我添加了以下内容

1) 添加了 eviware 和 jetty 的插件 2) 添加了插件仓库 eviware 仓库。

以下是上述2的pomy。

如果我遗漏任何东西，请告诉我。

org.mortbay.jetty

```
<artifactId>jetty-maven-plugin</artifactId>
    <version>6.1.20</version>
    <configuration>
      <connectors>
        <connector implementation="org.mortbay.jetty.nio.SelectChannelConnector">
          <port>8080</port>
          <maxIdleTime>60000</maxIdleTime>
        </connector>
      </connectors>
      <contextPath>/xyz-${project.version}</contextPath>
      <webApp>target/xyz-${project.version}.war</webApp>
      <stopKey>foo</stopKey>
      <stopPort>9999</stopPort>
    </configuration>
    <executions>
      <execution>
        <id>start-jetty</id>
        <phase>pre-integration-test</phase>
        <goals>
          <goal>run</goal>
        </goals>
        <configuration>
          <scanIntervalSeconds>0</scanIntervalSeconds>
          <daemon>true</daemon>
        </configuration>
      </execution>
      <execution>
        <id>stop-jetty</id>
        <phase>post-integration-test</phase>
        <goals>
          <goal>stop</goal>
        </goals>
      </execution>
    </executions>
  </plugin> 
<plugin>
    <groupId>eviware</groupId>
    <artifactId>maven-soapui-plugin</artifactId>
    <version>3.0</version>
    <configuration>
      <projectFile>${basedir}/src/main/resources/soapui/project.xml</projectFile>
      <printReport>true</printReport>
    </configuration>
    <executions>
      <execution>
        <id>soap-integration-test</id>
        <phase>integration-test</phase>
        <goals>
          <goal>test</goal>
        </goals>
      </execution>
    </executions>
  </plugin> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-05-16T12:52:45.620

尝试在您的 settings.xml (.m2/) 中添加以下内容：

```
 <proxies>
   <proxy>
     <id>myproxy</id>
     <active>true</active>
     <protocol>http</protocol>
     <host>172.18.65.22</host>
     <port>80</port>
  </proxy>
</proxies> 
```

# sql - 如何在 SQL Server 2008 R2 中将系统日期格式转换为 dd/mm/yy？

> ID：15017300
> 
> 赞同：6
> 
> 时间：2013-02-22T05:12:44.457
> 
> 标签：sql, sql-server, sql-server-2008, sql-server-2005, sql-server-2008-r2

我正在使用 SQL Server 2008 R2。我想将系统日期转换为这种格式：`dd/mm/yy`

```
"2013-01-01 00:00:00.000" to "Score Calculation - 10/01/13". 
```

我的专栏包含数据：

```
1\. DMS01A13010101
2\. RMS01A13010201
3\. 44
4\. 2013-01-01 00:00:00.000 
```

我想要什么：如果记录`2013-01-01 00:00:00.000`采用这种格式，那么只有我更改为`Score Caculation - dd/mm/yy`

我的代码是，

```
select 
   case 
      when (CHARINDEX(D30.SPGD30_TRACKED_ADJUSTMENT_X, '-*') > 0 or 
            CHARINDEX(D30.SPGD30_TRACKED_ADJUSTMENT_X, '*-') > 0) 
      then 'Score Calculation - ' + CONVERT(VARCHAR(8), D30.SPGD30_TRACKED_ADJUSTMENT_X, 1) 
    end checkthedate 
from 
    CSPGD30_TRACKING D30 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-22T05:13:50.510

```
 SELECT CONVERT(varchar(11),getdate(),101)  -- mm/dd/yyyy

   SELECT CONVERT(varchar(11),getdate(),103)  -- dd/mm/yyyy 
```

检查这个。我假设 D30.SPGD30_TRACKED_ADJUSTMENT_X 是 datetime 数据类型。
这就是为什么我使用`CAST()`函数将其作为字符表达式，因为它`CHARINDEX()`适用于字符表达式。
另外我认为不需要 OR 条件。

```
select case when CHARINDEX('-',cast(D30.SPGD30_TRACKED_ADJUSTMENT_X as varchar )) > 0 

then 'Score Calculation - '+CONVERT(VARCHAR(11), D30.SPGD30_TRACKED_ADJUSTMENT_X, 103)
end 
```

编辑：

```
select case when CHARINDEX('-',D30.SPGD30_TRACKED_ADJUSTMENT_X) > 0 
then 'Score Calculation - '+
CONVERT( VARCHAR(11), CAST(D30.SPGD30_TRACKED_ADJUSTMENT_X as DATETIME) , 103)
end 
```

请参阅此链接以转换为其他日期格式：[https ://www.w3schools.com/sql/func_sqlserver_convert.asp](https://www.w3schools.com/sql/func_sqlserver_convert.asp)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T05:14:17.343

下面的查询将产生`dd/mm/yy`格式。

```
select  LEFT(convert(varchar(10), @date, 103),6) + Right(Year(@date)+ 1,2) 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!3/d41d8/9304)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-01-05T12:17:21.407

试试这个

```
SELECT CONVERT(varchar(11),getdate(),101) -- Converts to 'mm/dd/yyyy'

SELECT CONVERT(varchar(11),getdate(),103) -- Converts to 'dd/mm/yyyy' 
```

更多信息在这里：[https ://msdn.microsoft.com/en-us/library/ms187928.aspx](https://msdn.microsoft.com/en-us/library/ms187928.aspx)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-02-21T20:36:31.923

```
select convert(varchar(8), getdate(), 3) 
```

只需将其用于 dd/mm/yy 和此

```
select convert(varchar(8), getdate(), 1) 
```

对于 mm/dd/yy

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-01-05T09:28:30.117

下面的查询将产生 dd-mmm-yy 格式。

```
select 
cast(DAY(getdate()) as varchar)+'-'+left(DATEname(m,getdate()),3)+'-'+  
Right(Year(getdate()),2) 
```

# outlook - 在没有退出浏览器的情况下在 silverlight 中打开带有附件的 Outlook

> ID：15017305
> 
> 赞同：0
> 
> 时间：2013-02-22T05:13:05.357
> 
> 标签：outlook, silverlight-5.0

我想使用 silverlight 打开 Outlook 并在此邮件中附加一个文件。

我的 silverlight 应用程序未在 OOB（浏览器外）模式下运行。

如何使用 Silverlight 且不使用 OOB 模式打开带有附件的 Outlook？

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T17:33:51.613

你不应该那样做。请记住，Silverlight 是在客户端计算机上运行的插件，因此您对本地计算机（客户端）的访问权限有限。

另一方面，如果您完全信任您的应用程序并修改客户端计算机中的某些注册表值，则您可以运行可执行文件 (outlook.exe) 如果用户拥有软件 (MS Outlook)。

希望能帮助到你。

# objective-c - 使用 AFNetworking/JSONKit 解析 JSONP

> ID：15017306
> 
> 赞同：1
> 
> 时间：2013-02-22T05:13:06.720
> 
> 标签：objective-c, jsonp, afnetworking

我需要帮助解析以下网址：

如果格式是 JSON，我知道该怎么做，但它的格式是 JSONP。

[http://sg.media-imdb.com/suggests/h/hello.json](http://sg.media-imdb.com/suggests/h/hello.json)

先感谢您！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T05:15:51.677

JSONP 只是封装在函数调用中的 JSON `callback(JSON_GOES_HERE)`：. 因此，只需找到最外层的括号，然后继续将其中的任何内容解析为 JSON。

# html - 如何使文本出现在使用 CSS 的底部和 ?

> ID：15017307
> 
> 赞同：1
> 
> 时间：2013-02-22T05:13:09.043
> 
> 标签：html, css

我正在尝试在这里做一些非常简单的事情。我只想让我的文本出现在它所在的表格单元格的底部。但我想在 CSS 中完成，而不是在 html 标记本身中。

为什么下面显示的代码不起作用？在下面的示例中，我的文本出现在单元格的中间，而不是底部。为什么？

```
<style type="text/css">
    .myClass2 {
        color:red;
        font-weight:bold;        
        font-style:italic;            
        vertical-align:text-bottom;        
        text-align: center;
    }
</style>

<table bgcolor="black" border="1">
    <tr>
        <td bgcolor="white" class="myClass1" width="300">        
            <div class="myClass2">            
                Why won't this align at the bottom?
            </div>                    
        </td>
        <td height="100" bgcolor="white">
               Something very tall here.
        </td>
    </tr>
</table> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T05:14:07.347

添加`tr td{vertical-align:bottom}`

在您提供`vertical-align`给 div 的代码中，`td`这就是它不对齐的原因。

**[演示](http://jsfiddle.net/pbAFQ/2/)**

* * *

如果您只想对齐第一个单元格文本，请添加以下代码

```
td:first-child {vertical-align:bottom} 
```

**[演示 2](http://jsfiddle.net/pbAFQ/4/)**

* * *

使用位置值

```
 .myClass2 {
        color:red;
        font-weight:bold;        
        font-style:italic;            
        vertical-align:text-bottom;        
        text-align: center;
    background:green; 
    width:100%;
    position:absolute; 
    bottom:0
    }
tr td{position:relative} 
```

**[演示 3](http://jsfiddle.net/pbAFQ/6/)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T05:17:09.987

用这个

```
<style>
    .myClass2 {
            color:red;
            font-weight:bold;        
            font-style:italic;            
            vertical-align:bottom;        
            text-align: center;
        }
    </style>
    <table bgcolor="black" border="1">
        <tr>
            <td bgcolor="white" class="myClass2" width="300">        
                <div class="myClass2">            
                    Why won't this align at the bottom?
                </div>                    
            </td>
            <td class="myClass2" height="100" bgcolor="white">
                   Something very tall here.
            </td>
        </tr>
    </table> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T05:22:43.583

那么我认为你应该使用：

```
<style type="text/css">
.myClass1 {
position:relative;
}
.myClass2 {
    color:red;
    font-weight:bold;        
    font-style:italic;  
    position:absolute;
    bottom:0;
    left:0;
    vertical-align:bottom;        
}
</style>

<table bgcolor="black" border="1">
<tr>
    <td bgcolor="white" class="myClass1" width="300">        
        <div class="myClass2">            
            Why won't this align at the bottom?
        </div>                    
    </td>
    <td height="100" bgcolor="white">
           Something very tall here.
    </td>
</tr>
</table> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T05:15:58.237

您可以使用 `vertical-align`属性对齐文本

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-22T05:55:55.417

我假设您已经能够触发 div 打开或关闭。如果您只需要样式，那么您可以使用类似这样的代码：

```
<style type="text/css">
.myClass1 td .myClass2 {
    color:red;
    font-weight:bold;        
    font-style:italic;            
    vertical-align:text-bottom;        
    text-align: center;
}
</style>

<table bgcolor="black" border="1" class="myClass1">
<tr>
    <td height="100" bgcolor="white" width="300">
           Something very tall here.
        <div class="myClass2">            
            Why won't this align at the bottom?
        </div>                    
    </td>
</tr>
</table> 
```

# java - 任何检查 servlet 过滤器是否工作的工具

> ID：15017308
> 
> 赞同：1
> 
> 时间：2013-02-22T05:13:09.533
> 
> 标签：java, firefox, servlets, firebug, servlet-filters

我已经为 url 模式配置了一个 servlet 过滤器`/webapp/test/**`。过滤器的名称是`MyTempFilter`。

我们能否检查包含该模式的请求`/webapp/test/**`是否被 MyTempFilter 拦截。

Mozilla 是否有任何工具或扩展。

我的 Mozilla 中有萤火虫。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T05:34:07.200

正如@harry 在开发模式中所说，将断点放入`filter`是最好的方法

我在这里发现了另一个使用完整的浏览器扩展

由于它将调试摘要返回给浏览器`HTML`，因此可以通过“查看源代码”浏览器命令查看。

[Http Servlet 调试过滤器](http://www.brsanthu.com/blog/2008/10/http-servlet-debug-filter/)

# reporting-services - SSRS 按文本比较行

> ID：15017311
> 
> 赞同：0
> 
> 时间：2013-02-22T05:13:21.903
> 
> 标签：reporting-services, ssrs-2008

我有这样的表：

```
+---------------------------------+
| Group1                          | 
+-------+--------+----------------+ 
| Item1 | Value1 | Compare        |
+-------+--------+----------------+
| Item2 | Value2 | Compare        |
+-------+--------+----------------+
| Item3 | Value3 | Do not compare |
+-------+--------+----------------+
| Group2                          | 
+-------+--------+----------------+ 
| Item1 | Value1 | Compare        |
+-------+--------+----------------+
| Item2 | Value2 | Compare        |
+-------+--------+----------------+
| Item3 | Value3 | Do not compare |
+-------+--------+----------------+ 
```

在这样的表中，我可以有多个包含多个项目的组。我只需要比较写有“比较”的项目。例如，我需要更改 Group2 中 Value1 的颜色，如果该值大于 Group1 中的 Value1。我怎样才能做到这一点？如果每组中只有一条线可以比较，那会很容易，但是当有多条线时我不知道该怎么办。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T11:01:39.280

因此，您需要将新组与您知道其名称的旧组进行比较？此查询将为您提供任何新组并比较已标记为与原始组进行比较的名称相同的任何项目`Group1`，并为您提供旧值和新值：

```
SELECT New.GroupName AS NewGroup, New.ItemName AS NewItem, 
    Old.Value AS OldValue, New.Value AS NewValue
FROM MyTable New
INNER JOIN MyTable Old ON 
    Old.GroupName = 'Group1' AND 
    Old.ItemName = New.ItemName
    Old.CompareField = 'Compare' AND
    New.CompareField = 'Compare' 
```

# java - Java ArrayList 正在抛出 IndexOutOfBoundsException。为什么？

> ID：15017318
> 
> 赞同：1
> 
> 时间：2013-02-22T05:13:54.633
> 
> 标签：java, exception, arraylist, indexoutofboundsexception

这是我目前在一个项目上的进展。我正在尝试实现这个 ArrayList 的东西，但文件继续抛出相同的异常。

```
import java.util.*;

   public class Numerican{

      public static void main( String [] args ){

        Scanner input = new Scanner(System.in);

        ArrayList<Integer> array = new ArrayList<Integer>(10);

        int count = input.nextInt() * 2;

        while (count > 0){
           array.add( 0 );
           count = count - 1;
           array.add(count, 2);
        }

        array.add(2, input.nextInt());
        System.out.println(array.get(2));

      }
   } 
```

我的理解是`= new ArrayList<Integer>(10);`将数组大小设置为 10。我做错了什么吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-22T05:21:09.140

```
= new ArrayList<Integer>(10); 
```

这一行将 CAPACITY 初始化为 10，这意味着内存是在后端分配的，但就您而言，数组仍然是空的。

[Javadoc](http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html#ArrayList%28int%29) -

```
public ArrayList(int initialCapacity)
    Constructs an empty list with the specified initial capacity. 
```

这就是`add`如果您尝试添加超出`ArrayList`.

ps 请记住`add`，在使用 2 参数变体时，函数先获取索引，然后再获取元素。

编辑：

ArrayList 有 2 个不同的成员变量，**size**和**capacity**。容量是分配了多少内存，大小是程序员插入了多少元素。

这里，容量 = 10，大小 = 0；

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T05:21:49.077

如果索引超出范围 (index < 0 || index > size()) 将抛出 IndexOutOfBoundsException。
所以我认为您正在访问列表的 index > size() 。

size() ===> 返回此列表中的元素数。

array.add(2, input.nextInt()); 当您的列表大小为 1 时，这是可能的例外...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T05:22:07.737

根据[javadocs](http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#ArrayList%28int%29)：

> 构造一个具有指定初始容量的空列表。

请注意，ArrayList 是*空*的（即不包含任何项目）。该值表示 ArrayList 的*容量*，即在必须分配更多内存之前可以添加的元素数。

另一方面，调用`add()`实际上将一个项目添加到 ArrayList。在您的示例中，在列表末尾`array.add( 0 );`添加a并在 index 处添加 a 。我怀疑问题在于这不是您的. 您应该通过插入 SOP 或使用调试器来检查它的值。`0``array.add(count, 2);``2``count``count``ArrayList`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T05:35:52.027

嘿，您的问题似乎是因为这条线

```
array.add(count, 2); 
```

在索引计数处添加 2

例如，您的输入大小为 5，那么`array.add(9,2);`到那时数组大小仅为 1，因为容量和大小是 ArrayList 的两个不同参数。所以你可以使用 for 循环而不是 while 来插入你的值

```
for(int i=0; i<count;i++)
{
array.add(i,2);
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-22T05:35:56.900

`count maybe >= 10`，也许源代码可以回答你的问题：

```
public void add(int index, E element) {
    rangeCheckForAdd(index);

    ensureCapacityInternal(size + 1);  // Increments modCount!!
    System.arraycopy(elementData, index, elementData, index + 1,
                     size - index);
    elementData[index] = element;
    size++;
} 
```

rangeCheckForAdd():

```
/**
 * A version of rangeCheck used by add and addAll.
 */
private void rangeCheckForAdd(int index) {
    if (index > size || index < 0)
        throw new IndexOutOfBoundsException(outOfBoundsMsg(index));
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-22T05:46:13.530

根据我对 ArrayList 的理解，您需要将项目添加到顺序索引中的列表中。
即如果没有填写1到6，则不能将项目添加到第7个索引位置。

ArrayList.add(indexPosition, element);

如果您将元素添加到列表中，从 indexPosition 0 开始，并且每次将 indexPosition 增加 1，它应该可以工作。

前任。
`int i = 0;
(while i < 10){
array.add(i, numberToAdd);
i++;
}`

# python - Python过滤带有两个参数的函数？

> ID：15017319
> 
> 赞同：0
> 
> 时间：2013-02-22T05:14:03.113
> 
> 标签：python, list

我要做的是获取一个列表并根据相邻列表成员的比较对其进行过滤。即，像这样

```
filter(lambda x,y: x != y, someList) 
```

摆脱彼此相邻的重复元素。我可以很容易地以其他方式实现这一点，但开始尝试使用列表缩减/过滤器来实现它，并且我很固执地想要继续尝试直到我弄明白为止。我在 python 方面仍然没有那么丰富的经验，但我觉得我缺少这样的东西。

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T05:19:27.110

```
def unique_justseen(iterable, key=None):
    "List unique elements, preserving order. Remember only the element just seen."
    # unique_justseen('AAAABBBCCDAABBB') --> A B C D A B
    # unique_justseen('ABBCcAD', str.lower) --> A B C A D
    return imap(next, imap(itemgetter(1), groupby(iterable, key))) 
```

**资料来源：** [Python 文档](http://docs.python.org/2/index.html)，[9.7.2。食谱](http://docs.python.org/2/library/itertools.html#recipes)。

高效循环有很多很棒的东西[**`itertools`**](http://docs.python.org/2/library/itertools.html)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-22T05:20:57.673

对于连续元素（重复元素），则：

```
>>> from itertools import groupby
>>> items = 'aaaabbdeeeeefg'
>>> ''.join(k for k, g in groupby(items))
'abdefg' 
```

# html - 以 Galleria (Javascript/Jquery) 问题为中心

> ID：15017322
> 
> 赞同：0
> 
> 时间：2013-02-22T05:14:11.487
> 
> 标签：html, galleria

目前我在居中时得到了这段代码

```
#galleria{
width: 700px;
height: 400px;
background-color: #000; 
```

但是，我希望画廊显示在中间，它只显示在右上角，我使用 jquery，以及来自 www.galleria.io 的画廊，但是我无法将画廊居中，有什么办法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T05:16:37.007

我不知道为什么它会在正确的角落而不浮动它......

无论如何，您应该添加`margin: 0 auto;`到 css 中，例如：

```
#galleria{
   width: 700px;
   height: 400px;
   background-color: #000;
   margin: 0 auto;
} 
```

确保它的容器也设置了宽度。

# ios - 在 IOS 上阅读带有图片的联系人？

> ID：15017324
> 
> 赞同：0
> 
> 时间：2013-02-22T05:14:14.287
> 
> 标签：ios, contacts, image

嘿朋友们，目前我正在使用 IOS 中的备份和恢复应用程序，一切正常，我可以阅读联系人，但我被困在阅读带图片的联系人，任何相关的答案都值得赞赏。

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T15:27:23.507

此代码有助于在 ios 4 + 中获取联系人图片

```
ABPersonCopyImageDataWithFormat(person, kABPersonImageFormatOriginalSize); 
```

或者

```
ABPersonCopyImageData(person); 
```

REF :[从 iphone 应用程序中的地址簿中获取照片](https://stackoverflow.com/questions/9488675/get-photos-from-address-book-in-iphone-application)

# actionscript-3 - 有人知道 flash.includes 的列表吗？(as3)

> ID：15017329
> 
> 赞同：-2
> 
> 时间：2013-02-22T05:14:41.187
> 
> 标签：actionscript-3, flash

我正在寻找 as3 的 flash.include.whatever.whatever 列表。

如果没有人知道一个列表，那么有人可以告诉我 flash.include 用于绘制带有 startFill 和 endFill 东西的矩形吗？谢谢你的帮助。

我在这些谷歌搜索中都没有找到任何东西，而且我得到用于绘制矩形的代码的地方当然没有示例代码中包含 flash.includes ......这是很多人这样做的原因? 有什么办法可以绕过它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T05:20:26.373

你的意思是你想要一个 AS3 附带的包和类的列表吗？这通常称为文档，可以在此处找到：

*   [Adobe ActionScript ^® 3 API 参考](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/)

要绘制矩形，您可以从[`flash.display.Shape`](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/display/Shape.html). 它有一个[`graphics`](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/display/Graphics.html)带有方法[`.beginFill()`](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/display/Graphics.html#beginFill%28%29)和的对象[`.endFill()`](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/display/Graphics.html#endFill%28%29)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T05:21:02.027

您可以使用`Graphics`.

> Graphics 类包含一组可用于创建矢量形状的方法。支持绘图的显示对象包括 Sprite 和 Shape 对象。这些类中的每一个都包含一个图形属性，它是一个 Graphics 对象。以下是为便于使用而提供的辅助函数：drawRect()、drawRoundRect()、drawCircle() 和 drawEllipse()。您不能直接从 ActionScript 代码创建 Graphics 对象。如果调用 new Graphics()，则会引发异常。
> 
> Graphics 类是最终的；它不能被子类化。

这是一个样本

```
import flash.display.*;
this.graphics.beginFill(0xff0000);
this.graphics.drawRect(0,0,100,100); 
```

这是一个[Adob​​e 教程](http://help.adobe.com/en_US/ActionScript/3.0_ProgrammingAS3/WS5b3ccc516d4fbf351e63e3d118a9b90204-7dd9.html)

AS3 all[在这里显示类列表](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/display/package-detail.html)

您不一定需要默认 AS3 包含。好好编译。但只包括您可以看到提示的代码。也许，CS4之后如果你使用特定的类会自动包含。或者 ctrl+space 是自动完成。

安装flash时默认如下是因为SWC路径。

![在此处输入图像描述](../Images/4dc7cde3e90cf0b5c203c60f3e4a003b.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T05:19:25.153

据我所知，没有像`Flash.include`. 可能是您想问其他问题，或者我对此功能仍然未知。

如果您对此有任何积极的发现，请告诉我，我想知道那个新事物。

# django - Scrapy 上的外键

> ID：15017331
> 
> 赞同：1
> 
> 时间：2013-02-22T05:14:46.670
> 
> 标签：django, django-models, web-scraping, scrapy, scrape

我用scrapy做一个废品，我在django上的模型是：

```
class Creative(models.Model):
    name = models.CharField(max_length=200)
    picture = models.CharField(max_length=200, null = True)

class Project(models.Model):
    title = models.CharField(max_length=200)
    description = models.CharField(max_length=500, null = True)
    creative = models.ForeignKey(Creative)

class Image(models.Model):
    url = models.CharField(max_length=500)
    project = models.ForeignKey(Project) 
```

还有我的scrapy模型：

```
from scrapy.contrib.djangoitem import DjangoItem
from app.models import Project, Creative

class ProjectItems(DjangoItem):
    django_model = Project

class CreativeItems(DjangoItem):
    django_model = Creative 
```

所以当我保存时：

```
creative["name"]  = hxs.select('//*[@id="owner"]/text()').extract()[0]
picture  = hxs.select('//*[@id="owner-icon"]/a/img/@src').extract()
if len(picture)>0:
    creative["picture"] = picture[0]
creative.save()

# Extract title and description of the project
project["title"] = hxs.select('//*[@id="project-title"]/text()').extract()[0]
description = hxs.select('//*[@class="project-description"]/text()').extract()
if len(description)>0:
    project["description"] = description[0]
project["creative"] = creative
project.save() 
```

我得到了错误：

> Project.creative”必须是“Creative”实例。

那么，我怎样才能在scrapy上添加一个外键值呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-10-23T19:00:09.320

这可以通过将 的返回值分配给`creative.save()`at 的值来完成`project['creative']`，例如，在以下示例中，我们使用`djangoCreativeItem`变量将此信息传递给项目：

```
creative["name"]  = hxs.select('//*[@id="owner"]/text()').extract()[0]
picture  = hxs.select('//*[@id="owner-icon"]/a/img/@src').extract()   
if len(picture)>0:
    creative["picture"] = picture[0]
djangoCreativeItem = creative.save()

# Extract title and description of the project
project["title"] = hxs.select('//*[@id="project-title"]/text()').extract()[0]
description = hxs.select('//*[@class="project-description"]/text()').extract()
if len(description)>0:
    project["description"] = description[0]
project["creative"] = djangoCreativeItem
project.save() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-05T11:42:21.797

就像[这里做的](https://stackoverflow.com/questions/10622751/django-foreignkey-instance-vs-raw-id)一样，将您的广告素材的 ID 直接放在 creative_id 中，我认为它应该可以工作：

```
 project["creative_id"] = creative.id 
```

它将指定外键，而不会因为缺少对象而打扰您（因为您处于不直接接触模型对象的 Scrapy 环境中......）。

# c# - 将文本文件中的数据发布到网站密码点？

> ID：15017335
> 
> 赞同：0
> 
> 时间：2013-02-22T05:14:57.100
> 
> 标签：c#, webrequest

我想逐行读取文本文件并将每一行输入到在线框中，看看它是否有效。

例如：

```
bob
tom
rob 
```

我想从中读取并将其输入，说出我的网站用户名或密码框，然后输入并查看它是否有效。

我相信您应该向您的虚拟主机或其他任何东西发送请求，但我不知道如何。

```
foreach(string line in File.ReadAllLines("your text file"))
{
// send request here to your webhost
} 
```

如果我不清楚，请说。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T05:19:10.370

使用[WebClient](http://msdn.microsoft.com/en-us/library/system.net.webclient.aspx) 类。

```
string string loginData = "username=***&passowrd=***";

WebClient wc = new WebClient();

wc.Headers.Add("User-Agent", "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/536.5 (KHTML, like Gecko) Chrome/19.0.1084.56 Safari/536.5");
wc.Headers.Add("Accept", "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8");
wc.Headers.Add("Accept-Encoding", "identity");
wc.Headers.Add("Accept-Language", "en-US,en;q=0.8");
wc.Headers.Add("Accept-Charset", "ISO-8859-1,utf-8;q=0.7,*;q=0.3");
wc.Headers.Add("ContentType", "application/x-www-form-urlencoded");
string response = wc.UploadString("http://xyz.com/accounts/login/", "POST", loginData); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T05:20:52.400

据我了解，您想从文本文件中读取用户名和密码，并使用文件中的值填充登录页面并对其进行验证。（如果我错了请纠正我）

你可以做的一种方法是，

1 - 页面加载后，发送 ajax 调用并使用 StreamReader 读取该文本文件（[如何](http://msdn.microsoft.com/en-in/library/db5x7c0d.aspx)）

2 - 将用户名和密码（列表）作为结果发送回 ajax 调用，并使用该值填充文本字段，一次一个。

3 - 使用一组用户名和密码进行测试，看看它是否有效，继续直到你得到正确的组合。最好记录下哪些组合有效，哪些无效。

希望这可以帮助

**编辑 ：**

@zerushamebo 刚刚看了 Jeremy 的回答，你想抓取/抓取一个网站吗？这是你的问题吗，如果是，[这里是你的阅读](http://yassershaikh.com/introduction-to-web-scraping-with-httpwebrequest-using-asp-net-mvc3/)

# php - 在 Wordpress 中发布相关信息

> ID：15017336
> 
> 赞同：-2
> 
> 时间：2013-02-22T05:15:02.447
> 
> 标签：php, wordpress

如何在 Wordpress 中显示发布相关信息，例如发布日期，否。评论、标签和阅读更多按钮。是否有插件或设置来做到这一点

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T06:30:23.047

Wordpress 中提供了几个与帖子相关的模板标签。[在此处](https://codex.wordpress.org/Template_Tags)查看 Wordpress 的办公文档。您需要在 Wordpress [Loop](http://codex.wordpress.org/The_Loop)中调用它们。例如, `the_tags()`, `the_date()`, `next_post_link()`,`previous_post_link()`等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:43:47.843

将取决于您的主题对循环的实现。基本上，您应该修改您的`single.php`（可从外观-> 编辑器查看）文件并添加/格式化所需信息。查看[Wordpress codex](http://codex.wordpress.org/The_Loop)和[The Loop](http://codex.wordpress.org/The_Loop_in_Action)上的循环以获取真实的示例。

# asp.net-mvc - 为什么我不能在 .NET MVC 视图中访问我的模型命名空间？

> ID：15017338
> 
> 赞同：0
> 
> 时间：2013-02-22T05:15:37.127
> 
> 标签：asp.net-mvc, razor

这是我的 web.config 片段，来自项目内部比另一个更深的配置文件。

```
<add namespace="System.Web.Mvc" />
        <add namespace="System.Web.Mvc.Ajax" />
        <add namespace="System.Web.Mvc.Html" />
        <add namespace="System.Web.Optimization" />
        <add namespace="System.Web.Routing" />
        <add namespace="MVCWebsite.Models" />
        <add namespace="MVCWebsite.ViewModels" />
        <add namespace="MVCWebsite.Helpers" />
        <add namespace="MVCWebsite.Extensions" />
        <add namespace="Mvc.Mailer" /> 
```

上述所有异常 .Models 在我的视图中都可以访问，为什么我无法访问 Models？有什么东西阻止我这样做吗？我想访问这些类的静态属性。

# django - 获取与发布 Django 表单

> ID：15017339
> 
> 赞同：1
> 
> 时间：2013-02-22T05:15:44.360
> 
> 标签：django, http

我试图了解使用 Django 应用程序的 GET 与 POST 并遇到以下问题，

即使`method="post"`在`search_form.html`我输入内容并输入提交时，它也传递了一个 GET 方法，因为我看到在 url 中传递了参数。即使 request.GET 也能够访问该值。

我认为仅根据您在 METHOD 中给出的内容确定它是`GET`还是`POST`.

网址.py

```
urlpatterns = patterns('',url(r'^$',views.index,name='index'),
        url(r'^meta/',views.display_meta,name='meta'),
        url(r'^search-form/$',views.search_form),
                url(r'^search/$',views.search), 
```

视图.py

```
def search(request):
    if 'q' in request.GET:
        message = 'You searched for :%r' % request.GET['q']
    else:
        message = 'You submitted an empty form'

    return HttpResponse(message) 
```

search_form.html

```
<html>
<head>
    <title>Search</title>
</head>
<body>
    <form action="/search/" method="post">
        <input type="text" name="q">
        <input type="submit" value="Search">
    </form>
</body>
</html> 
```

任何输入将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:35:18.640

您可以通过以下方式找到请求方法：

```
request.META.get('REQUEST_METHOD') 
```

顺便提一句。您应该考虑[对搜索表单等内容使用通用视图](https://docs.djangoproject.com/en/dev/ref/class-based-views/generic-editing/#django.views.generic.edit.FormView)，这要容易得多。

# node.js - Node.js 中的高性能 tcp 服务器？

> ID：15017344
> 
> 赞同：0
> 
> 时间：2013-02-22T05:16:12.207
> 
> 标签：node.js, tcp, publish-subscribe

我见过很多其他语言的基于 tcp 的优秀项目，例如 C/C++。

Node.js 有什么好的吗？我正在使用 Node.js 实现一个基于 tcp 的实时发布/订阅系统，但是在高压时会出现一些问题。

我真的不需要那些简单的 tcp 服务器示例或婴儿步骤教程。**我需要一些真正的项目。**

谢谢！

编辑：

我编写了一个类似聊天的 node.js 程序来交换来自客户端的数据。当我只用少数人测试它时，它非常好。

但是，当更多人（例如数百人）加入时，它开始丢失数据。看看这个：[如何处理 Node.js 中的“读取 ETIMEDOUT”？](https://stackoverflow.com/questions/14972106/how-to-deal-with-read-etimedout-in-node-js).

答案很好，但无助于提高稳定性。

我真的不指望那些潜入我肮脏代码的人会发现我的错误。这就是为什么我想要一些真正的项目来看看他们是怎么做的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T12:00:26.997

我相信这份[阅读材料](http://konklone.com/post/the-making-of-isitchristmas-dot-com-2012)可能会对您有所帮助。在他的案例中，他正在向多个客户端广播鼠标事件。而且要发布的数据量太大了，他不得不按“房间”对用户进行聚类

# css - 将 Mozilla 的线性渐变转换为 Chrome

> ID：15017346
> 
> 赞同：0
> 
> 时间：2013-02-22T05:16:19.020
> 
> 标签：css

我在转换线性渐变以在 Chrome 中查看时遇到一些问题。如果您愿意，也可以看到完整的跨浏览器的渐变，这将是一个奖励，我正在开发一个主题，这将有很大帮助。

这是 Mozilla 版本：

```
background:
  -moz-linear-gradient(center bottom , #401746 0%, rgb(255, 255, 255) 250%) repeat scroll 0% 0% #6e2778; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T05:57:45.617

去[http://www.colorzilla.com/gradient-editor/](http://www.colorzilla.com/gradient-editor/)，导入渐变，这就是你得到的。不过，我确实想知道如何跨浏览器处理 %250 停止位置。它可能在浏览器中并不严格有效。

```
background: #401746; /* Old browsers */
/* IE9 SVG, needs conditional override of 'filter' to 'none' */
background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzQwMTc0NiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjI1MCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
background: -moz-linear-gradient(top,  #401746 0%, #ffffff 250%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#401746), color-stop(250%,#ffffff)); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(top,  #401746 0%,#ffffff 250%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(top,  #401746 0%,#ffffff 250%); /* Opera 11.10+ */
background: -ms-linear-gradient(top,  #401746 0%,#ffffff 250%); /* IE10+ */
background: linear-gradient(to bottom,  #401746 0%,#ffffff 250%); /* W3C */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#401746', endColorstr='#ffffff',GradientType=0 ); /* IE6-8 */ 
```

编辑：不用担心我的颜色停止问题（参见[http://dev.w3.org/csswg/css3-images/](http://dev.w3.org/csswg/css3-images/)，第 4.1.1 节。linear-gradient() 语法，倒数第二段）：

> 渐变的色标通常放置在渐变线上的起点和终点之间，但这不是必需的 - 渐变线在两个方向上无限延伸。起点和终点只是任意的位置标记——起点定义了指定色标时 0%、0px 等的位置，终点定义了 100% 的位置。*允许色标位于 0% 之前或 100% 之后。*

强调，我自己的。

# iphone - 在 iPhone 中实现 undo-redo 的最佳实践

> ID：15017353
> 
> 赞同：0
> 
> 时间：2013-02-22T05:16:53.727
> 
> 标签：iphone, ios, objective-c, xcode, undo-redo

我正在尝试使用objective-C开发一个iPhone应用程序（演示项目），它可以将多种摄影效果应用于图像。

该应用程序已启动并正在运行，但我想在 UI 中实现“撤消”和“重做”功能。我已经成功地编写了一级撤消重做代码，即轻松地向后或向前一步。但是当合并多个级别的撤消和重做操作时，这个概念会变得复杂。当用户撤消一系列步骤然后分支到做其他事情时，它变得特别模糊。我试图拯救的状态越多，我就越迷惑。

我想知道是否有实施此类操作的标准最佳实践。我应该使用的任何架构或框架？这样做的普遍接受的程序是什么？任何简化此方法的一般建议将不胜感激。

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:37:48.010

这完全取决于您如何处理图像。

如果您正在处理图像，您可以使用 NSUndoManager，您可以在其中跟踪图像处理。

否则，您可以跟踪对图像执行的一系列操作，这不是首选。

但这一切都取决于您的要求以及您如何处理图像，

需要注意的重要事情是您在此类操作中的记忆。

如果您想在下次加载应用程序时重用您的操作，您可以使用 NSKeyArchiever。

# asp.net - 在javascript中设置innerHTML并从C#获取而不使用隐藏字段

> ID：15017354
> 
> 赞同：1
> 
> 时间：2013-02-22T05:16:57.863
> 
> 标签：asp.net

标签控件在javascript中设置innerHTML并从C#中获取，而不使用asp.net中的隐藏字段。

使用隐藏字段，有人通过这个（[在 javascript 中设置 innerHTML 并从 C# 获取](https://stackoverflow.com/questions/12217724/set-innerhtml-in-javascript-and-get-from-c-sharp)）但我不想要它。我不想使用隐藏字段。

感谢 PBN

# aem - 在 CQ5 中发布新页面的问题

> ID：15017357
> 
> 赞同：4
> 
> 时间：2013-02-22T05:17:09.423
> 
> 标签：aem

我已经在我的 PC 上安装了CQ5.5`author`和`publish`实例。但是当我添加一个新页面并发布它时，它不会出现在发布实例中。仅呈现空白页。

我已经尝试`siteadmin`从工具中的页面和页面激活它`Replication`。只有导航项出现在 Publish 实例中。

我还检查了请求日志。但它只给出了一个

```
200 response(OK) 
```

有人可以帮我吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-25T17:45:05.917

您需要激活/复制所有模板和组件所在的 /apps/site 文件夹，以将其从您的作者实例推送到您的发布实例。激活页面不会自动激活它使用的组件和模板。

去：

```
http://localhost:4502/etc/replication/treeactivation.html 
```

*   在路径字段中浏览或键入 /apps/[您的站点]
*   设置复选框以适合您要激活的内容（取消选中所有将激活所选路径下的所有内容）
*   单击“试运行”以查看将在未实际激活的情况下激活的内容。（这是一个提供更多信息的步骤，以帮助确保您不会激活生产环境中不打算使用的东西）
*   单击“激活”以激活。

然后，您可以检查您的发布实例以查看您的模板和代码。

很容易错过激活您的应用程序文件夹，因为您可以激活的页面没有像网站管理员这样的 ui。

激活页面/文件夹/资产不会激活子页面/文件夹/资产。这可能会导致混淆，尤其是在使用文件夹时。

通常，如果您需要激活树，最好的方法是使用树激活实用程序

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T15:49:06.123

我见过的唯一一次是没有安装代码。那将是我要检查的第一件事。转到（假设您的发布者在端口 4503 上）

```
http://localhost:4503/crx/de 
```

您应该将代码放在 /apps 中，并且您也应该能够在 /content 中找到内容页面。

发生这种情况的原因是 sling:resourceType 属性指向一个不存在的组件，因此它使用默认值，即空输出。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-09T10:57:54.000

您必须为两种环境（作者和发布）构建代码。这样，两个环境将以 cq5 包和 felix 包的形式安装相同的源代码副本。然后，如果您在任何现有页面上创建新页面或删除任何组件，则在通过 Sidekick 中的“激活页面”链接或通过复制树激活页面激活相同后，它将在发布环境中显示相同。

# python - 在python中获取url的特定部分

> ID：15017358
> 
> 赞同：1
> 
> 时间：2013-02-22T05:17:09.840
> 
> 标签：python, string, list, url, urlparse

我正在使用 python 并尝试获取 url 的特定部分，如下所示

```
from urlparse import urlparse as ue

url = "https://www.google.co.in"
img_url = ue(url).hostname 
```

**结果**

```
www.google.co.in 
```

**案例1**：

实际上我会有一些 url（存储在列表或其他地方），所以我想要的是，需要`domain name`在 url 中找到上面的内容并获取之后`www.`和之前的部分`.co.in`，即字符串在之后`first dot`和之前开始`second dot`这只会`google`导致目前的情况。

因此，假设给出的 url 是 url given is `www.gmail.com`，我应该只`gmail`在其中获取，所以无论给出的 url 是什么，代码都应该获取以第一个点开头和第二个点之前的部分。

**案例2：**

也可以像这样直接给出一些 url ，`domain.com, stackoverflow.com`而不`www`在 url 中，在这种情况下，它应该只获取`stackoverflow`and `domain`。

最后，我的意图是从这样的 url 中获取主名称`gmail, stackoverflow, google`.....

一般来说，如果我有一个 url，我可以使用`list slicing`并获取字符串，但我会有许多 ulr，所以需要像上面提到的那样动态获取想要的部分

谁能让我知道如何满足上述概念？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T05:31:05.400

为什么你不能这样做：

```
from urlparse import urlparse as ue
urls = ['https://www.google.com', 'http://stackoverflow.com']
parsed = []
for url in urls:
    decoded = ue(url).hostname
    if decoded.startswith('www.'):
        decoded = ".".join(decoded.split('.')[1:])
    parsed.append(decoded.split('.')[0])
#parsed is now your parsed list of hostnames 
```

此外，您可能希望更改 for 循环中的 if 语句，因为某些域可能以您想要摆脱的其他事物开头。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T06:14:43.677

使用一组预定义的顶级域怎么样？

```
import re
from urlparse import urlparse

#Fake top level domains... EG: co.uk, co.in, co.cc
TOPLEVEL = [".co.[a-zA-Z]+", ".fake.[a-zA-Z]+"]

def TLD(rgx, host, max=4): #4 = co.name
        match = re.findall("(%s)" % rgx, host, re.IGNORECASE)
        if match: 
            if len(match[0].split(".")[1])<=max:
                return match[0]
        else:
            return False

parsed = []
urls = ["http://www.mywebsite.xxx.asd.com", "http://www.dd.test.fake.uk/asd"]
for url in urls:
    o = urlparse(url)
    h = o.hostname
    for j in range(len(TOPLEVEL)):
        TL = TLD(TOPLEVEL[j], h)
        if TL: 
            name = h.replace(TL, "").split(".")[-1]
            parsed.append(name)
            break
        elif(j+1==len(TOPLEVEL)): 
            parsed.append(h.split(".")[-2])
            break

print parsed 
```

这有点 hacky，对某些人来说可能很神秘，但它确实有效，并且无需再做任何事情 :)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T06:05:49.240

这是我的解决方案，最后，*域*包含您期望的域列表。

```
import urlparse
urls = [
    'https://www.google.com', 
    'http://stackoverflow.com',
    'http://www.google.co.in',
    'http://domain.com',
    ]
hostnames = [urlparse.urlparse(url).hostname for url in urls]
hostparts = [hostname.split('.') for hostname in hostnames]
domains = [p[0] == 'www' and p[1] or p[0] for p in hostparts]
print domains # ==> ['google', 'stackoverflow', 'google', 'domain'] 
```

### 讨论

1.  首先，我们使用 . 从 URL 列表中提取主机名`urlparse.urlparse()`。*主机名*列表如下所示：

    ['www.google.com'，'stackoverflow.com，...]

2.  在下一行中，我们将每个主机分成几部分，使用点作为分隔符。hostparts 中的每个项目如下所示：

    [ ['www', 'google', 'com'], ['stackoverflow', 'com'], ... ]

3.  有趣的工作在下一行。这一行说，“如果点之前的第一部分是*www*，那么域是第二部分 (p[1])。否则，域是第一部分 (p[0])。*域*列表如下所示：

    ['谷歌'，'stackoverflow'，'谷歌'，'域']

4.  我的代码不知道如何处理 login.gmail.com.hk。我希望别人能解决这个问题，因为我要迟到了。**更新**：看看John *Kurkowski*的 tldextract，它应该可以满足您的需求。

# java - Android toast 消息（使用单选按钮识别正确答案）

> ID：15017361
> 
> 赞同：1
> 
> 时间：2013-02-22T05:17:24.980
> 
> 标签：java, android, toast

我正在开发一个测验。显示我的 toast 消息时出错。错误是，如果用户点击正确的答案，即使我点击正确的选项，吐司也会说这是错误的答案。非常感谢您的帮助！这是代码：

```
public class Question2 extends Activity {
/** Called when the activity is first created. */

TextView question, items = null;
RadioButton answer1 = null;
RadioButton answer2 = null;
RadioButton answer3 = null;
RadioGroup answers = null;
int selectedAnswer = -1;
int quesIndex = 0;
int numEvents = 0;
int selected[] = null;
int correctAns[] = null;
boolean review = false;
Button next = null;
int score = 0;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.startquiz);

    try {
        score = getIntent().getIntExtra("score",0);
        items = (TextView)findViewById(R.id.displayitems);
        question = (TextView) findViewById(R.id.displayquestion);
        answer1 = (RadioButton) findViewById(R.id.option1);
        answer2 = (RadioButton) findViewById(R.id.option2);
        answer3 = (RadioButton) findViewById(R.id.option3);
        answers = (RadioGroup) findViewById(R.id.QueGroup1);

        next = (Button) findViewById(R.id.selected);
        next.setOnClickListener(nextListener);

        selected = new int[Question1.getQuesList().length()];
        java.util.Arrays.fill(selected, -1);
        correctAns = new int[Question1.getQuesList().length()];
        java.util.Arrays.fill(correctAns, -1);

        this.showQuestion(0, review);

    } catch (Exception e) {
        Log.e("", e.getMessage().toString(), e.getCause());
    }

}

private void showQuestion(int qIndex, boolean review) {
    try {
        JSONObject aQues = Question1.getQuesList().getJSONObject(
                qIndex);
        String quesValue = aQues.getString("Question");
        if (correctAns[qIndex] == -1) {
            String correctAnsStr = aQues.getString("CorrectAnswer");
            correctAns[qIndex] = Integer.parseInt(correctAnsStr);
        }

        question.setText(quesValue.toCharArray(), 0, quesValue.length());
        answers.check(-1);
        answer1.setTextColor(Color.BLACK);
        answer2.setTextColor(Color.BLACK);
        answer3.setTextColor(Color.BLACK);
        JSONArray ansList = aQues.getJSONArray("Answers");
        String aAns = ansList.getJSONObject(0).getString("Answer");
        answer1.setText(aAns.toCharArray(), 0, aAns.length());
        aAns = ansList.getJSONObject(1).getString("Answer");
        answer2.setText(aAns.toCharArray(), 0, aAns.length());
        aAns = ansList.getJSONObject(2).getString("Answer");
        answer3.setText(aAns.toCharArray(), 0, aAns.length());
        Log.d("", selected[qIndex] + "");
        if (selected[qIndex] == 0)
            answers.check(R.id.option1);
        if (selected[qIndex] == 1)
            answers.check(R.id.option2);
        if (selected[qIndex] == 2)
            answers.check(R.id.option3);

        setText();
        if (quesIndex == (Question1.getQuesList().length() - 1))
            next.setEnabled(false);

        if (quesIndex < (Question1.getQuesList().length() - 1))
            next.setEnabled(true);

        if (review) {
            Log.d("review", selected[qIndex] + "" + correctAns[qIndex]);
            ;
            if (selected[qIndex] != correctAns[qIndex]) {
                if (selected[qIndex] == 0)
                    answer1.setTextColor(Color.RED);
                if (selected[qIndex] == 1)
                    answer2.setTextColor(Color.RED);
                if (selected[qIndex] == 2)
                    answer3.setTextColor(Color.RED);
            }
            if (correctAns[qIndex] == 0)
                answer1.setTextColor(Color.GREEN);
            if (correctAns[qIndex] == 1)
                answer2.setTextColor(Color.GREEN);
            if (correctAns[qIndex] == 2)
                answer3.setTextColor(Color.GREEN);
        }
    } catch (Exception e) {
        Log.e(this.getClass().toString(), e.getMessage(), e.getCause());
    }
}

private void setAnswer() {
    if (answer1.isChecked())
        selected[quesIndex] = 0;
    if (answer2.isChecked())
        selected[quesIndex] = 1;
    if (answer3.isChecked())
        selected[quesIndex] = 2;

    Log.d("", Arrays.toString(selected));
    Log.d("", Arrays.toString(correctAns));

}

private OnClickListener nextListener = new OnClickListener() {
    public void onClick(View v) {

        for(int i=0; i<correctAns.length; i++){
            if ((correctAns[i] != -1) && (correctAns[i] == selected[i]))
                    {

                        score++;
                        Toast.makeText(getApplicationContext(), "Your answer is correct!", Toast.LENGTH_SHORT).show();
                    }else
                    {
                    Toast.makeText(getApplicationContext(), "Your answer is wrong...", Toast.LENGTH_SHORT).show();
                    }
        }

        quesIndex++;
        try {
            if (quesIndex >= Question1.getQuesList().length())
                quesIndex = Question1.getQuesList().length() - 1;
        } catch (JSONException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

        showQuestion(quesIndex, review);

    }
};
private void setText() throws JSONException {
    this.setTitle("Question " + (quesIndex + 1) + "  out of  "
            + Question1.getQuesList().length());
    items.setGravity(250);
}

public void reload() {
    setAnswer();

Intent intent = getIntent();
overridePendingTransition(0, 0);
intent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);
finish();

overridePendingTransition(0, 0);
startActivity(intent);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T05:25:17.483

看来你可以改变你的条件。用户可以选择多个答案吗？
并尝试这样的瘦身条件

```
 for(int i=0; i<correctAns.length; i++){
     if ((correctAns[i].euqalsIgnoreCase(selected[i]))){
         score++;
         Toast.makeText(getApplicationContext(), "Your answer is correct!", Toast.LENGTH_SHORT).show();
     }else{
         Toast.makeText(getApplicationContext(), "Your answer is wrong...", Toast.LENGTH_SHORT).show();
     }
 } 
```

试试这个，让我知道它是否有效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T05:35:24.780

你的**If()**条件应该是这样的： -

```
if ((correctAns[i] != -1) && (correctAns[i].equalsIgnoreCase(selected[i]))) {
    score++;
    Toast.makeText(getApplicationContext(), "Your answer is correct!", Toast.LENGTH_SHORT).show();
}else{
    Toast.makeText(getApplicationContext(), "Your answer is wrong...", Toast.LENGTH_SHORT).show();
} 
```

# javascript - zopim 实时聊天的 Javascript 编码在 IE8 中不可见

> ID：15017365
> 
> 赞同：0
> 
> 时间：2013-02-22T05:18:19.753
> 
> 标签：javascript, html, livechat

在我的网站页面中，我使用了来自 zopim 的 javascript 编码进行实时聊天。这在 chrome 和 Firefox 中运行良好。实时聊天窗口正在显示并且可以与该窗口聊天。

但在 IE 中，聊天窗口是不可见的。但是在 IE 中使用检查元素时，它会突出显示聊天窗口的 div。我尝试了 zopim 的一些其他编码。但我没有在 IE 中得到结果。

我不知道是什么问题。任何人都可以帮助我解决实时聊天的这个问题。我使用的编码

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Sample test zopim</title>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />   
 </head>
<body>
Sample test Zopim
<!--Start of Zopim Live Chat Script--> <script type="text/javascript">
        window.$zopim||(function(d,s){var z=$zopim=function(c){z._.push(c)},$=z.s= d.createElement(s),e=d.getElementsByTagName(s)[0];z.set=function(o){z.set. _.push(o)};z._=[];z.set._=[];$.async=!0;$.setAttribute('charset','utf-8'); $.src='//cdn.zopim.com/?11THLdRhqxNgdgRiWyGwwAv8e4KF6S6G';z.t=+new Date;$. type='text/javascript';e.parentNode.insertBefore($,e)})(document,'script');
     </script> <!--End of Zopim Live Chat Script-->
   </body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T05:39:00.327

在我看来，这是一个浏览器兼容性问题升级并尝试其他 IE 版本希望它可以工作。如果问题仍然存在，您可以与 zopim 帮助支持团队沟通。

# r - 带块的绘图

> ID：15017367
> 
> 赞同：2
> 
> 时间：2013-02-22T05:18:25.790
> 
> 标签：r, plot

我一直在寻找几个小时，但我找不到这样做的功能。

我如何生成一个像

![http://i.imgur.com/C2BXYPc.png](../Images/bb84654b8fb7bfe0b3c9af3991cb32c6.png)

可以说我有一个数组`x1 = c(2,13,4)`和`y2=c(5,23,43)`. 我想创建 3 个高度为 2-5,13-23 的块...

我将如何解决这个问题？我希望我能指出正确的方向，看看什么内置函数？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-23T20:34:49.707

我没有使用您的数据，因为您说您正在使用数组，但是您给了我们两个向量。此外，您向我们展示的数据是重叠的。这意味着，如果您绘制三个条形图，您只会看到两个。

根据您提供的小图像，您要为每个人或日期绘制三个范围。使用时间序列，我们通常会看到它来绘制最小值/最大值、标准偏差和当前数据。

诀窍是将系列绘制为图层。第一个系列是范围最大的系列（本例中的米色带）。在下面的示例中，我首先绘制一个空图，然后添加三层矩形，一层用于米色，一层用于灰色，一层用于红色。

```
#Create data.frame
n=100
df <-data.frame(1:n,runif(n)*10,60+runif(n)*10,25+runif(n)*10,40+runif(n)*10,35-runif(n)*10,35+runif(n)*10)
colnames(df) <-c("id","beige.min","beige.max","gray.min","gray.max","red.min","red.max")

#Create chart
plot(x=df$id,y=NULL,ylim=range(df[,-1]), type="n")  #blank chart, ylim is the range of the data
rect(df$id-0.5,df[,2],df$id+0.5,df[,3],col="beige", border=FALSE) #first layer
rect(df$id-0.5,df[,4],df$id+0.5,df[,5],col="gray", border=FALSE)  #second layer
rect(df$id-0.5,df[,6],df$id+0.5,df[,7],col="darkred", border=FALSE) #third layer 
```

![层数](../Images/86807821d99f2cfcb4442db9d9a047b9.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T06:28:15.040

根据 png 并不完全清楚您想要什么，但根据您所写的内容：

```
x1 <-  c(2,13,4)
y2 <- c(5,23,43)
foo <- data.frame(id=1:3, x1, y2)

library(ggplot2)
ggplot(data=foo) + geom_rect(aes(ymin=x1, ymax=y2, xmin=id-0.4, xmax=id+0.4)) 
```

![在此处输入图像描述](../Images/03eae299ccc03791329362a7ee04aa0a.png)

# django - 在 Django 和 Rainbow 表中存储密码

> ID：15017368
> 
> 赞同：1
> 
> 时间：2013-02-22T05:18:27.050
> 
> 标签：django, passwords, salt, django-authentication

在`django`文档中，它说 django 将密码创建为字符串`algo$hash`

其中 algo 是`pbkdf2`默认值，hash 是`sha256`密码字符串的哈希值。

在一些[文章](http://crackstation.net/hashing-security.htm)中，我读到一个安全密码是使用随机创建的`salt`，然后存储在每个用户的数据库中。这使得试图使用 s 破解密码的恶意用户很难。但是`rainbow table`当我检查 auth_user 表时对于我的 django 项目，我只能找到一个`'pbkdf2_sha256$'`以每个用户开头的字符串。我找不到任何存储的盐。

这是否意味着存储的密码容易受到使用 raibow 表的攻击？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:44:47.117

Django 文档明确声明它[在这里](https://docs.djangoproject.com/en/1.3/topics/auth/#passwords)和[这里](https://docs.djangoproject.com/en/1.5/topics/auth/passwords/#how-django-stores-passwords)使用盐对密码进行哈希处理：

> User 对象的密码属性是以下格式的字符串：
> 
> 哈希类型$salt$hash
> 
> 那是 hashtype、salt 和 hash，由美元符号字符分隔。
> 
> Hashtype 是 sha1（默认）、md5 或 crypt——用于对密码执行单向哈希的算法。Salt 是一个随机字符串，用于对原始密码进行加盐以创建散列。请注意，只有具有标准 Python crypt 模块可用的平台才支持 crypt 方法。

所以会有2个美元符号，中间是盐。

# php - 仅在 wordpress 循环中显示特定类别？

> ID：15017370
> 
> 赞同：1
> 
> 时间：2013-02-22T05:18:29.177
> 
> 标签：php, wordpress

如何在我的 wordpress 索引页面中只显示特定类别？下面是我的主题代码...

此外，在查看我的类别的 URL（我通常如何获取 ID）时，它似乎是一种奇怪的格式..

[http://oil.wpengine.com/wp-admin/edit-tags.php?action=edit&taxonomy=category&tag_ID=1179&post_type=post](http://oil.wpengine.com/wp-admin/edit-tags.php?action=edit&taxonomy=category&tag_ID=1179&post_type=post)

```
<?php query_posts( array ( 'Event_News' => 'event-news' ) ); ?>
    <?php if (have_posts()) : ?>

    <ul class="posts"> 
```

```
 <li id="post-<?php the_ID(); ?>">

            <?php
            get_the_image( array( 'size' => 'loop-main', 'width' => 160, 'height' => 120, 'before' => '<div class="cover">', 'after' => '</div>' ) );
            ?>

            <div class="postcontent">
                <h2><a href="<?php the_permalink(); ?>" title="<?php the_title_attribute(); ?>"><?php the_title(); ?></a></h2>
                <div class="postmetadata">
                    <ul>
                        <?php if (option::get('display_date') == 'on') { ?><li class="calendar"><time datetime="<?php the_time("Y-m-d"); ?>" pubdate><?php the_time("j F Y"); ?></time></li><?php } ?>
                        <?php if (option::get('display_author') == 'on') { ?><li class="author"><?php _e('By', 'wpzoom');?> <?php the_author_posts_link(); ?></li><?php } ?>
                        <?php if (option::get('display_category') == 'on') { ?><li class="category"><?php the_category(', '); ?></li><?php } ?>
                        <?php if (option::get('display_comments') == 'on') { ?><li class="comments"><?php comments_popup_link( __('0 comments', 'wpzoom'), __('1 comment', 'wpzoom'), __('% comments', 'wpzoom'), '', ''); ?></li><?php } ?>
                    </ul>
                </div><!-- end .postmetadata -->
                <?php the_excerpt(); ?>
                <p class="more"><a href="<?php the_permalink() ?>" title="<?php the_title_attribute(); ?>" class="readmore" rel="nofollow"><?php _e('continue reading &raquo;', 'wpzoom');?></a> <?php edit_post_link( __('Edit this post', 'wpzoom'), ' | ', ''); ?></p>
            </div><!-- end .postcontent -->

            <div class="cleaner">&nbsp;</div>
            <div class="sep">&nbsp;</div>
        </li><!-- end #post-<?php the_ID(); ?> -->
        <?php endwhile; //  ?>
    </ul>

    <div class="cleaner">&nbsp;</div>
    <?php else : ?>

    <p class="title"><?php _e('There are no posts in this category', 'wpzoom');?></p>

    <?php endif; ?>

    <?php get_template_part( 'pagination'); ?>

</div><!-- end .box --> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-22T05:28:17.957

您可以在循环之前执行 query_post

```
query_posts( array ( 'category_name' => 'my-category-slug' ) ); 
```

如果您想要来自多个类别的帖子，那么您可以使用

```
query_posts('cat=8,4,3'); 
```

8,4,3 是 3 个类别的 id

并在循环使用之后

```
wp_reset_query(); 
```

有关更多详细信息，请查看此链接

[http://codex.wordpress.org/Function_Reference/query_posts#All_Posts_in_a_Category](http://codex.wordpress.org/Function_Reference/query_posts#All_Posts_in_a_Category)

# linux - 如何在 awk 中显示单引号

> ID：15017371
> 
> 赞同：1
> 
> 时间：2013-02-22T05:18:34.677
> 
> 标签：linux, awk

我有这个 awk statemnt 并且工作正常

```
awk '{a= a","$1}END{print a}' file.txt 
```

我希望在我的输出中我的 $1 字段应该用单引号括起来

怎么能这样做

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:21:47.277

单程：

```
awk -v q="'" '{a= a","q$1q}END{print a}' file.txt 
```

其他方式：

```
awk '{a= a",\x27"$1"\x27"}END{print a}' file.txt 
```

其他方式：

```
awk '{a= a",'"'"'"$1"'"'"'"}END{print a}' file.txt 
```

其他：

```
awk '{a= a",'\''"$1"'\''"}END{print a}' file.txt 
```

# cairo - 'CAIRO_GOBJECT_TYPE_SURFACE' 未声明

> ID：15017372
> 
> 赞同：2
> 
> 时间：2013-02-22T05:18:45.180
> 
> 标签：cairo

在 Mac OSX 10.7.5 中编译**gtk+-3.7.10**并且总是出错：

```
In file included from gdkwindow.c:28:
/usr/local/include/cairo/cairo-gobject.h:183:3: error: #error Cairo was not compiled with support for GObject
gdkwindow.c: In function 'gdk_window_class_init':
gdkwindow.c:511: error: 'CAIRO_GOBJECT_TYPE_SURFACE' undeclared (first use in this function)
gdkwindow.c:511: error: (Each undeclared identifier is reported only once
gdkwindow.c:511: error: for each function it appears in.)
make[4]: *** [gdkwindow.lo] Error 1
make[3]: *** [all-recursive] Error 1
make[2]: *** [all] Error 2
make[1]: *** [all-recursive] Error 1
make: *** [all] Error 2 
```

我编译了 cairo 1.10：

**./configure --prefix=/usr/local --enable-gobject=yes**

但总是得到同样的错误。glib-2.35.8 也被编译。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:22:31.513

您忽略了（重要的）第一个错误：

```
/usr/local/include/cairo/cairo-gobject.h:183:3: error: #error Cairo was not compiled with support for GObject 
```

你说你已经在启用 GObject 的情况下编译了 Cairo，但是无论 Cairo GTK+ 正在编译什么都没有启用它。检查以确保您安装了 Cairo，并且其他版本的 Cairo 没有干扰。

# ios - UIButton -setTitle: forState: 似乎不起作用

> ID：15017375
> 
> 赞同：9
> 
> 时间：2013-02-22T05:19:01.187
> 
> 标签：ios, cocoa-touch, uibutton

我正在尝试动态更新 s 的`IBOutletCollection`标题`UIButton`。我希望标题设置为

*   选择时的字母“S”和
*   禁用和选择时的文本“D|S”。

它不起作用，所以我打印了`titleForState:`s ，看起来标题设置不正确。我使用`setTitle: forState:`正确吗？

```
@property (strong, nonatomic) IBOutletCollection(UIButton) NSArray *buttons;
...
- (void)updateUI  // Calling this from IBAction
{
    for(UIButton *button in self.buttons) {
        [button setTitle:@"S" forState:UIControlStateSelected];
        [button setTitle:@"D|S" forState:UIControlStateSelected|UIControlStateDisabled];

        NSLog(@"%@ %@ %@ %@ %d %d",
              [button titleForState:UIControlStateSelected],
              [button titleForState:UIControlStateSelected],
              [button titleForState:UIControlStateNormal],
              [button titleForState:UIControlStateSelected|UIControlStateDisabled],
              button.selected,
              button.enabled);
    }
} 
```

这是控制台输出：

```
2013-02-21 21:05:36.070 Buttons[37130:c07] D|S D|S   0 1
2013-02-21 21:05:36.072 Buttons[37130:c07] D|S D|S   0 1
2013-02-21 21:05:36.073 Buttons[37130:c07] D|S D|S   0 1
2013-02-21 21:05:36.073 Buttons[37130:c07] D|S D|S   0 1
2013-02-21 21:05:36.073 Buttons[37130:c07] D|S D|S   0 1
2013-02-21 21:05:36.074 Buttons[37130:c07] D|S D|S   0 1
2013-02-21 21:05:36.074 Buttons[37130:c07] D|S D|S   0 1
2013-02-21 21:05:36.074 Buttons[37130:c07] D|S D|S   0 1
2013-02-21 21:05:36.075 Buttons[37130:c07] D|S D|S   0 1
2013-02-21 21:05:36.075 Buttons[37130:c07] D|S D|S   0 1
2013-02-21 21:05:36.076 Buttons[37130:c07] D|S D|S   0 1
2013-02-21 21:05:36.076 Buttons[37130:c07] D|S D|S   0 1 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-11-26T20:03:42.793

它不起作用，因为 IB 设置`attributedTitle`而不是`title`.

试试这个：

```
NSAttributedString *attributedTitle = [self.myButton attributedTitleForState:UIControlStateNormal];
NSMutableAttributedString *mas = [[NSMutableAttributedString alloc] initWithAttributedString:attributedTitle];
[mas.mutableString setString:@"New Text"];

[self.myButton setAttributedTitle:mas forState:UIControlStateNormal]; 
```

或者，或者：

```
[self.myButton setAttributedTitle:nil forState:UIControlStateNormal];
[self.myButton setTitle:@"New Text" forState:UIControlStateNormal]; 
```

（第二个选项不会保留您的格式。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T18:12:11.573

在尝试了很多不同的事情之后，我让它工作的唯一方法如下。但这是一个 C 风格的逻辑，会改变 UIButton 控件状态的选中和禁用含义。绝对是一个黑客:(

```
//        [cardButton setTitle:card.contents
//                    forState:UIControlStateSelected|UIControlStateDisabled];
if(cardButton.selected && !cardButton.enabled) {
    [cardButton setTitle:card.contents forState:UIControlStateNormal];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T05:23:14.063

```
[button setTitle:@"S" forState:UIControlStateSelected];
        [button setTitle:@"D|S" forState:UIControlStateSelected|UIControlStateDisabled]; 
```

setTitle for`UIControlStateSelected`在两种情况下会使编译器感到困惑。有机会同时执行这两个条件。尝试更改第二行中的代码..祝您编码愉快

# c# - 枚举的标志属性

> ID：15017387
> 
> 赞同：0
> 
> 时间：2013-02-22T05:19:55.437
> 
> 标签：c#, enums, enumeration

我正在尝试在 C# 中学习枚举。当我阅读一些文档时，我编写了一个程序。但我不明白这个程序是如何工作的。有人可以帮我看看它的工作吗？

我在下面发布我的代码：

**程序 1：**

```
public partial class MainPage {
    [Flags]
    enum Days {
        Monday,
        Tuesday,
        Wednesday,
        Thursday,
        Friday ,
        Saturday,
        Sunday
    };

    // Constructor
  public MainPage() {
        InitializeComponent();
        Days holidays = Days.Sunday | Days.Saturday;
        if ((Days.Sunday | holidays) == Days.Sunday) // This returns true. Why ?
            MessageBox.Show("True");
        else
            MessageBox.Show("False");
  } 
```

**方案二：**

在这里，我在枚举中分配整数值

```
public partial class MainPage {
    [Flags]
    enum Days {
        Monday = 1,
        Tuesday = 2,
        Wednesday = 5,
        Thursday = 8,
        Friday = 10,
        Saturday = 3,
        Sunday = 0
    };

    // Constructor
    public MainPage() {
        InitializeComponent();
        Days holidays = Days.Sunday | Days.Saturday;
        if ((Days.Sunday | holidays) == Days.Sunday) // Why this returns false ?
            MessageBox.Show("True");
        else
            MessageBox.Show("False");
  } 
```

在程序2中分配整数值后，if条件有什么区别？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T05:23:37.887

默认情况下，枚举从 0 开始，例如：

```
[Flags]
enum Days
{
    Monday = 0,
    Tuesday = 1,
    Wednesday = 2,
    Thursday = 3,
    Friday = 4,
    Saturday = 5,
    Sunday = 6
}; 
```

我认为您对枚举上的按位运算符感到困惑。通常要使枚举与按位运算符一起使用，您可以像这样声明它们：

```
[Flags]
enum Days
{
    Monday = 0,
    Tuesday = 1,
    Wednesday = 2,
    Thursday = 4,
    Friday = 8,
    Saturday = 16,
    Sunday = 32
}; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T05:29:30.470

看起来您将按位运算符`|`与逻辑运算符混淆了`||`。

在您的原始程序中，星期六被分配 5，星期日被分配 6。

按位或：

```
8 4 2 1 
0 1 0 1 = 5 Saturday
0 1 1 0 = 6 Sunday
-----------
0 1 1 1 = 7 Result (Holiday). 
```

按位或：

```
8 4 2 1 
0 1 1 1 = 7 Holidays
0 1 1 0 = 6 Sunday
-----------
0 1 1 1 = 7 Result. 
```

但是我运行了类似的相同代码：

```
using System;

namespace ConsoleApplication1
{
  class Program
  {
    [Flags]
    enum Days
    {
        Monday,     //Default 0
        Tuesday,    //Default 1
        Wednesday,  //Default 3
        Thursday,   //Default 4
        Friday,     //Default 5
        Saturday,   //Default 6
        Sunday      //Default 7
    };

    static void Main(string[] args)
    {
        Days holidays = Days.Sunday | Days.Saturday;
        if ((Days.Sunday | holidays) == Days.Sunday) // This returns true. Why ?
            Console.WriteLine("True");
        else
            Console.WriteLine("False");

        Console.ReadKey();
    }
  }
} 
```

结果：（`False`与您的示例不同）。

正如预期的那样，7 不等于 6。 **我的假设是您的示例中缺少代码或输入错误的代码。**

如果您正确使用它，我强烈建议您阅读[FlagsAttribute](http://msdn.microsoft.com/en-us/library/system.flagsattribute%28v=vs.100%29.aspx)应该如何工作，这涉及在位值（1、2、4、8、16、32）处创建枚举。

如果您的代码已更正，那么这可能更符合我认为您正在寻找的内容。

```
using System;

namespace ConsoleApplication1
{
  class Program
  {
    [Flags]
    enum Days
    {
        Monday    = 1,
        Tuesday   = 2,   
        Wednesday = 4, 
        Thursday  = 8, 
        Friday    = 16,   
        Saturday  = 32, 
        Sunday    = 64
    };

    static void Main(string[] args)
    {
        Days holidays = Days.Sunday | Days.Saturday;

        if ((Days.Sunday | holidays) == holidays)
            Console.WriteLine("Sunday is a Holiday");
        else
            Console.WriteLine("Sunday is a Holiday");

        if ((Days.Tuesday | holidays) == holidays)
            Console.WriteLine("Tuesday is not a Holiday");
        else
            Console.WriteLine("Tuesday is not a Holiday");

        Console.ReadKey();
    }
  }
} 
```

结果：`Sunday is a Holiday` `Tuesday is not a Holiday`

这是有效的，因为，

按位或：

```
64 32 16  8  4  2  1 
 0  1  0  0  0  0  0 = 32 Saturday
 1  0  0  0  0  0  0 = 64 Sunday
----------------------
 1  1  0  0  0  0  0 = 96 Result (Holiday). 
```

按位或：

```
64 32 16  8  4  2  1 
 1  1  0  0  0  0  0 = 96 Holiday
 1  0  0  0  0  0  0 = 64 Sunday
----------------------
 1  1  0  0  0  0  0 = 96 Result (Holiday). 
```

按位或：

```
64 32 16  8  4  2  1 
 1  1  0  0  0  0  0 = 96 Holiday
 0  0  0  0  0  1  0 = 32 Tuesday
----------------------
 1  1  0  0  0  1  0 = 97 Result (Not Holiday). 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-22T05:40:35.280

为了补充杰里米的答案，考虑到他对 Days 的第二个（也是正确的）定义二进制表示是：

```
0000 0001   Monday
0000 0010   Tuesday
0000 0100   Wednesday
0000 1000   Thursday
0001 0000   Saturday
0010 0000   Sunday 
```

接下来您执行以下操作

```
var holidays = Days.Sunday | Days.Saturday; 
```

这执行按位或：

```
 0001 0000   Saturday
OR    0010 0000   Sunday
      --------------------
      0011 0000   Saturday | Sunday 
```

接下来检查以下内容

```
((Days.Sunday | holidays) == Days.Sunday) 
```

意思是：

```
 0010 0000   Sunday
OR 0011 0000   holidays  (= Saturday | Sunday)
   ---------
   0011 0000   This is still holidays and does not equal Sundays 
```

如果你想检查 'holidays' 是否设置了星期天位，你应该使用按位 AND

((Days.Sunday & 节假日) == Days.Sunday)

```
 0010 0000   Sunday
AND 0011 0000   holidays  (= Saturday | Sunday)
    ---------
    0010 0000   Sunday 
```

另请注意，较新版本的 .NET Framework 内置了对标志检查的支持：

```
var holidays = Days.Sunday | Days.Saturday
holidays.HasFlag(Days.Sunday)  //Will return true
holidays.HasFlag(Days.Monday)  //Will return false 
```

您对 Days 枚举的定义不应与 [Flags] 一起使用，如果您将本文中的相同逻辑应用于定义中的值，您最终会得到一些非常奇怪的结果。

# ios - 如何从d 下的标签中提取图像 url iOS中xml文件的标签？

> ID：15017393
> 
> 赞同：2
> 
> 时间：2013-02-22T05:20:28.610
> 
> 标签：ios, objective-c, xml, parsing

XML 正文：

```
<description>
<img src="http://static.ibnlive.in.com/ibnlive/pix/slideshow/02-2013/pics-serial-blasts/hyd-blasts-90.jpg" alt="In pics: Serial blasts in Hyderabad kill 14" title="In pics: Serial blasts in Hyderabad kill 14" border="0" width="90" height="62" align="left" hspace="5"/>At least 14 people are feared to have been killed in a series of explosions on Thursday evening which took place in Dilsukh Nagar bus stand area of Hyderabad.
</description> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T05:27:18.320

利用`NSXMLParser`来解析 XML。然后使用下面的方法从标签中获取属性值

`- (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)nameSpaceURI qualifiedName:(NSString *)qName attributes:(NSDictionary *)attributeDict`

您可以像这样提取属性值。

```
if ([elementName isEqual:@"img"])
{
     NSLog(@"SRC: %@",[attributeDict objectForKey:@"src"]);
} 
```

如果您没有使用任何 XML Parser 并将您的 XML 视为简单字符串，那么请尝试像这样操作字符串

```
NSString *imgURL= @"<description><img src=\"http://static.ibnlive.in.com/ibnlive/pix/slideshow/02-2013/pics-serial-blasts/hyd-blasts-90.jpg\" alt=\"In pics: Serial blasts in Hyderabad kill 14\" title=\"In pics: Serial blasts in Hyderabad kill 14\" border=\"0\" width=\"90\" height=\"62\" align=\"left\" hspace=\"5\"/>At least 14 people are feared to have been killed in a series of explosions on Thursday evening which took place in Dilsukh Nagar bus stand area of Hyderabad.</description>";

imgURL = [imgURL substringFromIndex:[imgURL rangeOfString:@"src="].location+[@"src=" length]+1];
imgURL = [imgURL substringToIndex:[imgURL rangeOfString:@"alt="].location-2];
NSLog(@"%@",imgURL); 
```

# iphone - 高版本 iOS sdk 是否包含低版本 iOS sdk 的 api？

> ID：15017394
> 
> 赞同：0
> 
> 时间：2013-02-22T05:20:33.317
> 
> 标签：iphone

我已将我的项目基础 sdk 设置为 iPhoneOS 6.1。较高版本的 iOS sdk 是否包含较低版本的 iOS sdk 5.0 或 iOS sdk 4.2 中的所有 api？

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T05:23:28.150

是的，请确保为您的目标设置“最低支持的操作系统”版本，如果您使用的 API 在较新的 SDK 中被标记为已弃用，您可能会看到警告。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T05:27:14.000

大多数 API 都包含在内。然而，一些 API 被修改、弃用甚至删除。

您应该查看 API Diffs，因为它包含完整的更改列表。

*   [iOS 6.0 到 iOS 6.1 API 差异](https://developer.apple.com/library/ios/releasenotes/General/iOS61APIDiffs/index.html#//apple_ref/doc/uid/TP40012875)
*   [iOS 5.1 到 iOS 6.0 API 差异](https://developer.apple.com/library/ios/releasenotes/General/iOS60APIDiffs/index.html#//apple_ref/doc/uid/TP40011959)
*   [iOS 5.0 到 iOS 5.1 API 差异](https://developer.apple.com/library/ios/releasenotes/General/iOS51APIDiffs/index.html#//apple_ref/doc/uid/TP40011328)
*   [iOS 4.3 到 iOS 5.0 API 差异](https://developer.apple.com/library/ios/releasenotes/General/iOS50APIDiff/index.html#//apple_ref/doc/uid/TP40011042)
*   [iOS 4.2 到 iOS 4.3 API 差异](https://developer.apple.com/library/ios/releasenotes/General/iOS43APIDiffs/index.html#//apple_ref/doc/uid/TP40010594)

[您可以在https://developer.apple.com/library/ios/navigation/index.html](https://developer.apple.com/library/ios/navigation/index.html)找到 API 差异文档列表（搜索“API Diffs”）

# kernel - FreeBSD 从另一个系统调用发出系统调用

> ID：15017403
> 
> 赞同：2
> 
> 时间：2013-02-22T05:21:38.807
> 
> 标签：kernel, hook, freebsd

我像 1 年前写了一些 freebsd 内核模块，当时它们运行良好。但现在我无法编译。

我要做的是通过修改 sysent 表来挂钩现有的系统调用。

```
static int
mkdir_hook (struct proc *p, struct mkdir_args *ua)
{
 printf("Making dir:  %s\n", ua->path);
 return mkdir(p, ua);
}

static int
load (struct module *module, int cmd, void *arg)
{
 int error = 0;

 switch (cmd) {
   case MOD_LOAD :
      sysent[SYS_mkdir]=mkdir_hook_sysent;
      break;
   case MOD_UNLOAD :
      sysent[SYS_mkdir].sy_call=(sy_call_t*)mkdir;
      break;
   default :
      error = EINVAL;
      break;
  }
 return error;
} 
```

我收到以下错误

```
test.c:21: warning: implicit declaration of function 'mkdir'
test.c:21: warning: nested extern declaration of 'mkdir' [-Wnested-externs]
test.c:49: error: 'mkdir' undeclared (first use in this function)
test.c:49: error: (Each undeclared identifier is reported only once
test.c:49: error: for each function it appears in.) 
```

所以我认为它可能缺少图书馆。这是我的包括

```
#include <sys/types.h>
#include <sys/param.h>
#include <sys/proc.h>
#include <sys/module.h>
#include <sys/sysent.h>
#include <sys/kernel.h>
#include <sys/systm.h>
#include <sys/linker.h>
#include <sys/sysproto.h>
#include <sys/sysent.h>
#include <sys/proc.h>
#include <sys/syscall.h> 
```

我读了`man 2 mkdir`，还是没有头绪。似乎不再支持从内核模块中调用另一个系统调用，或者它需要额外的配置？

请帮忙，非常感谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T06:32:05.153

系统调用条目现在以“sys_”为前缀，因此您现在应该使用 sys_mkdir 而不仅仅是 mkdir。

确切的变更集是：

> r225617 | 公里| 2011-09-16 06:58:51 -0700（2011 年 9 月 16 日星期五）| 12行
> 
> 为了最大限度地提高内核代码在用户空间中的可重用性，此补丁修改了 makesyscalls.sh 以在所有不兼容调用（例如非 linux_、freebsd32_）前加上 sys_ 并更新内核入口点和代码中的所有位置使用它们。它还通过重命名内核 psignal kern_psignal() 修复了内核函数 psignal 和同名 libc 函数之间的额外名称空间冲突。通过现在引入此更改，我们将简化未来更改系统调用的 MFC。

# jquery - 在 ember 应用程序中使用 jquery

> ID：15017405
> 
> 赞同：8
> 
> 时间：2013-02-22T05:21:39.110
> 
> 标签：jquery, jquery-ui, ember.js

我正在用 ember js 构建一个应用程序，但我不确定如何将 jQuery 与 ember 一起使用。我试图实现的一个示例是从我的 api 获取销售数据的页面。

在我的 app.js 我有

```
App.TransactionsRoute = Ember.Route.extend({
    model: function() {
        return App.Transaction.find();
    }
}); 
```

如果我将开始日期和结束日期传递给 App.Transaction.find() 方法，我的 api 将限制它在这些日期内发送回的数据。

我在页面上有一个输入开始和结束日期的表单，我想将它连接到 jQuery UI 的日期选择器。

这就是我卡住的地方我把它放在我的 ember 应用程序代码的末尾

```
jQuery(document).ready(function() {
    jQuery("#transactionsStartDate").datepicker();      
    jQuery("#transactionsEndDate").datepicker();
}); 
```

但它什么也不做，也不会抛出任何错误。

如何让 jquery 运行？还有我如何将输入的日期变量连接到调用`App.Transaction.find({startDate: startDateVariable, endDate: endDateVariable})`

感谢您的帮助！

**编辑** 更正 jQuery 正在运行，但它在视图呈现之前运行。当我的视图被渲染时，ember 是否有一个钩子或我可以调用的东西？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-22T06:12:26.450

而不是将 jQuery(document).ready() 挂钩中的 datepicker 初始化放入视图的 didInsertElement 方法中

```
App.TransactionsView = Ember.View.extend({
    templateName: 'transactions',
    didInsertElement: function() {
        jQuery("#transactionsStartDate, #transactionsEndDate").datepicker();    
    }
}); 
```

使用 Ember 内置的 TextField 视图

```
<script type="text/x-handlebars" data-template-name="transactions">
<form>
    <label for="transactionsStartDate">Start Date</label>
    {{view Ember.TextField id="transactionsStartDate" valueBinding="startDate"}}
    <label for="transactionsEndDate">End Date</label>
    {{view Ember.TextField id="transactionsEndDate" valueBinding="endDate"}}
    <button {{action fetchTransactions}}>Fetch Data</button>
</form>
</script> 
```

并在控制器上定义动作 fetchTransactions

```
App.TransactionsController = Ember.ArrayController.extend({
    fetchTransactions:function() {
        this.set('model', App.Transaction.find({startDate:this.get('startDate'), endDate:this.get('endDate')}));    
    }
}); 
```

# python - 在python中列出索引超出范围

> ID：15017408
> 
> 赞同：0
> 
> 时间：2013-02-22T05:21:50.937
> 
> 标签：python, numpy, python-2.7

我写了一个这样的程序：

```
reader=csv.reader(open("lrgdata.csv")) 
headers = reader.next()              
Amt_Wtotal=0             
Amt_Dtotal=0 
dataW =[] 
dataD=[] 
counts_W=defaultdict(int)
counts_D=defaultdict(int)
for row in reader:
   if(row[28]=='W'):
      counts_W[row[5]] += 1
      Amt_Wtotal += float(row[6])
      dataW.append(Amt_Wtotal)
   else:
   counts_D[row[5]] += 1
   Amt_Dtotal += float(row[6])
   dataD.append(Amt_Dtotal) 
```

当我使用 412KB 的文件运行此代码时，我没有收到错误，但是当我使用 1.8MB 的文件运行时，我收到此错误：

```
if(row[28]=='W'): IndexError: list index out of range 
```

我的文件是这样的

### 标头

```
personal_info_id_city,personal_info_sex,transaction_master_id_transaction_master,card_holder_info_id_terminal_info,transaction_master_id_terminal_info,account_info_id_account_info,transaction_master_amount,personal_info_dob_m,card_holder_info_card_issue_dt,personal_info_dob_h,transaction_master_transaction_from,personal_info_dob_d,transaction_master_transacted_on,account_info_balance_amt,personal_info_id_user_type,personal_info_dob_y,card_holder_info_card_issue_dt_y,transaction_master_transacted_on_y,transaction_master_transacted_on_d,card_holder_info_card_issue_dt_d,transaction_master_transacted_on_m,card_holder_info_card_issue_dt_h,transaction_master_transacted_on_h,card_holder_info_card_issue_dt_m,transaction_master_id_customer_info,personal_info_dob,card_holder_info_id_brch,card_holder_info_id_card_holder_info,transaction_master_transaction_type,_id,personal_info_id_customer_info 
```

### 价值观

```
2,M,17748,60,60,21768,1460.0,7,2011-04-02 00:00:00,0,B,5,2011-07-22 03:03:00,52.0,1,1992,2011,2011,22,2,7,0,3,4,21768,1992-07-05 00:00:00,26,21768,W,50f38a469cf9c253d600000c,21768

1,M,18002,3,3,1746,3480.0,2,2011-04-07 00:00:00,0,B,5,2011-07-25 01:03:00,123.0,1,1985,2011,2011,25,7,7,0,1,4,1746,1985-02-05 00:00:00,3,1746,D,50f38a469cf9c253d600000d,1746 
```

你能告诉我如何找到两个数据集之间的相关性，这是一个列表吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T05:53:20.990

```
for row in reader:
    try:
        if(row[28]=='W'):
            counts_W[row[5]] += 1
            Amt_Wtotal += float(row[6])
            dataW.append(Amt_Wtotal)
        else:
            counts_D[row[5]] += 1
            Amt_Dtotal += float(row[6])
            dataD.append(Amt_Dtotal)
     except:
         #handle the exception here. 
         # "continue" will ignore it and move to the next item in the loop.
         # I suspect what you actually want is to duplicate the "else" clause here. 
```

[http://docs.python.org/2/tutorial/errors.html](http://docs.python.org/2/tutorial/errors.html)

# mysql - 如何在mysql中的单个列下显示子列

> ID：15017409
> 
> 赞同：3
> 
> 时间：2013-02-22T05:21:58.917
> 
> 标签：mysql, database

我创建了一个标题为“一月”的列。在此列下，我想添加标题为“租金”、“食品”、“其他”的子列。

所以请建议我在mysql中进行一些查询..

我希望我的答案如下所示，

```
-----------------------------
         January
-----------------------------
| Rent  |  Food  |  Others  |
|       |        |          |
|       |        |          | 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T09:40:08.187

不确定这是否可行，您可以创建一个名为 January 的表，然后添加列rent、food 和其他。您是否使用 php 表单输入值，然后使用表格查看提交的结果？

# ruby-on-rails-3 - update_attributes 导致退出

> ID：15017410
> 
> 赞同：1
> 
> 时间：2013-02-22T05:22:00.570
> 
> 标签：ruby-on-rails-3

```
current_user.update_attributes(params[:user]) 
```

在这一行之后 current_user 变为 nil。它是如何发生的？

参数包含：

```
Parameters: {"utf8"=>"✓", "authenticity_token"=>"LH0UlvccEI98ViHuk.....", "user"=>{"first_name"=>"test", "last_name"=>"test", "email"=>"test@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"1"}, "commit"=>"Save"} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:22:00.570

通过添加解决此问题

```
attr_accessible :admin 
```

在用户模型中。

# c# - Safari 将空白表单发布到我的服务器

> ID：15017412
> 
> 赞同：2
> 
> 时间：2013-02-22T05:22:05.753
> 
> 标签：c#, asp.net-mvc, safari

简短的问题：为什么 safari 会导致我的 MVC3 Web 应用程序出错 - Request.Form 由于某种原因是空白的？

详细问题：每次出现未捕获的异常时，我的 MVC3 网站都会向我发送一封电子邮件。我使用这些来快速查找和修复错误，电子邮件包含异常、堆栈跟踪、用户的 IP 地址、用户代理字符串以及可能已发布的任何表单值。

最近我注意到一些已被证明难以追踪的错误，我想我会在这里发布我的发现，希望它们能帮助其他人。

最初的症状是这些错误：System.Web.Mvc.HttpAntiForgeryException：未提供所需的防伪令牌或无效。

我的表单操作引发了错误，我无法弄清楚任何人如何使页面进入没有 __RequestVerificationToken 隐藏字段或其他表单字段的状态。

所以我花了很长时间研究 cookie 以及令牌的工作原理，最终只是删除了我的 ActionResult 上的 [ValidateAntiForgeryToken] 属性以查看它是如何进行的 - 但我仍然遇到错误。

然后我注意到用户代理字符串显示只有 Safari 5.1.7 导致了这个问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-10T12:42:57.737

对于那些像我一样即使使用该`[HttpPost]`属性也遇到此问题的人，我已经找到了解决方案。

[http://forums.iis.net/t/1182376.aspx/1](http://forums.iis.net/t/1182376.aspx/1)

IIS 上的那个线程描述了`Negotiate`（即`Kerberos`）身份验证在 Safari 中处理不当。您必须禁用`Negotiate`作为提供者。

在 IIS（我使用的是 IIS 7.5）中，点击您的站点，然后`Authentication`（双击）→ `Windows Authentication`（单击）→ `Providers`（在右侧）→`Remove Negotiate and leave NTLM`

这解决了我在 Safari 上的所有问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T05:22:05.753

简短回答：不要忘记添加 [HttpPost] 属性！！！

```
 [HttpPost]
    [ValidateAntiForgeryToken]
    public ActionResult PageSubmit() { 
```

更长的答案：Safari 有一个功能，可以在墙式屏幕上显示您访问过的“热门网站”。在我的网站上，虽然我有多个页面，但它们都提交给相同的表单操作。这使得表单操作“非常受欢迎”，并出现在热门网站上。

然后人们可以单击该站点，该站点正在执行直接 GET 到我的处理页面，没有表单变量，并导致错误。

我添加了 [HttpPost] 属性，如果单击它，现在它是 404。

以下是有关预览功能的一些额外信息：[Safari Top Sites Preview](https://stackoverflow.com/questions/11055418/safari-top-sites-preview)看来您可以检查服务器变量：

```
Request.ServerVariables["HTTP_X_PURPOSE"] == "preview" 
```

您也可以进行 javascript 检查：

```
window.navigator&&window.navigator.loadPurpose==="preview" 
```

我希望这可以节省一些时间。

# android - 在列表视图中同时在 android 中旋转多个图像。如何？

> ID：15017415
> 
> 赞同：1
> 
> 时间：2013-02-22T05:22:11.387
> 
> 标签：android, android-listview, android-animation

我正在尝试在列表视图中旋转图像（实际上是带有针的表盘）。列表视图中的条目数是动态的。这个表盘出现在每个条目中。我可以在一张图像上播放动画，但是当我使用 for() 循环实现它时，应用程序挂起。我需要“for()”循环的替代方案。

确切地说，旋转有点像指南针，总是指向我想要的位置。

我写的旋转函数如下。我通过使用标签映射来获取图像视图（列表视图中的所有条目的图像都是相同的）。

```
private void rotateImageView() {
    Log.d ("","Compass >> >>Rotating..well trying :P>>");
    Log.d ("","USERLIST >>" + imageTags);
    if(imageTags != null)
    {for(HashMap<String, String> map : imageTags)

    {

        View vi = new View(NearUsersList.this);

        ImageView img = (ImageView) findViewById(R.id.dir_img);
        if(img != null)
        {
        Log.d ("","IMG IS >>" + img);
        RotateAnimation anim = new RotateAnimation(
                (float) (-gyroOrientation[0] * 180 / Math.PI + Double.parseDouble(map.get("orientation"))),
                (float) (-gyroOrientation[0] * 180 / Math.PI + Double.parseDouble(map.get("orientation"))),
                Animation.RELATIVE_TO_SELF, 0.5f,
                Animation.RELATIVE_TO_SELF, 0.5f);
        // currentRotation = (currentRotation + 30) % 360;

        anim.setInterpolator(new LinearInterpolator());
        anim.setDuration(1000);
        anim.setFillEnabled(true);

        anim.setFillAfter(true);

        img.startAnimation(anim);
           }
    }
      }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T10:11:07.100

我发现这样的实现需要具有巨大 RAM 的多核处理器才能运行。在目前的任何安卓设备中，这样的配置肯定是不可用的。所以，想出了另一种方法来实现它。

# liferay-6 - Liferay：使用 Liferay 友好 URL 路由 xml 文件的查询

> ID：15017417
> 
> 赞同：0
> 
> 时间：2013-02-22T05:22:34.597
> 
> 标签：liferay-6

我正在从一个 jsp 导航到另一个 JSP，如图所示

视图.jsp

```
<%@ taglib uri="http://java.sun.com/portlet_2_0" prefix="portlet" %>
<portlet:defineObjects />
<portlet:renderURL var="test">
<portlet:param name="jspPage" value="/html/sai/edit.jsp" />
</portlet:renderURL>
<p><a href="<%= test %>">Go to Edit Page</a></p> 
```

编辑.jsp

```
<%@ taglib uri="http://java.sun.com/portlet_2_0" prefix="portlet" %>
<portlet:defineObjects />
<portlet:renderURL var="test">
<portlet:param name="jspPage" value="/html/sai/view.jsp" />
</portlet:renderURL>
<p><a href="<%= test %>">Go to View Page</a></p> 
```

目前我有这个友好的 url routes.xml 文件

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE routes PUBLIC "-//Liferay//DTD Friendly URL Routes 6.1.0//EN" "http://www.liferay.com/dtd/liferay-friendly-url-routes_6_1_0.dtd">

<routes>
  <route>
    <pattern>/</pattern>
    <ignored-parameter name="p_p_lifecycle" />
    <ignored-parameter name="p_p_state" />
    <ignored-parameter name="p_p_mode" />
</route>
</routes> 
```

有了这个 URL 显示如下

```
http://localhost:8080/web/guest/what-we-do/-/sai/?_sai_WAR_Saiportlet_jspPage=%2Fhtml%2Fsai%2Fedit.jsp 
```

你能告诉我里面应该是什么吗

**编辑部分**

我可以通过以下方式给出 p_p_lifecycle 、 p_p_state 、 p_p_mode 的值吗？

```
<route>
  <pattern>/{jspPageName}</pattern>
  <generated-parameter name="jspPage">/html/sai/{jspPageName}.jsp</generated-parameter>
   <implicit-parameter name="p_p_lifecycle">1</implicit-parameter>
   <implicit-parameter name="p_p_state">Baba</implicit-parameter>
   <implicit-parameter name="p_p_mode">Baba</implicit-parameter>
   </route> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:35:10.663

怎么样：

```
<route>
  <pattern>/{jspPageName}</pattern>
  <generated-parameter name="jspPage">/html/sai/{jspPageName}.jsp</generated-parameter>
  <ignored-parameter name="p_p_lifecycle" />
  <ignored-parameter name="p_p_state" />
  <ignored-parameter name="p_p_mode" />
</route> 
```

然后生成的 URL 应该是这样的：

```
http://localhost:8080/web/guest/what-we-do/-/sai/edit 
```

有关更多示例，请参阅[http://www.liferay.com/web/connor.mckay/blog/-/blogs/introducing-friendly-url-routes](http://www.liferay.com/web/connor.mckay/blog/-/blogs/introducing-friendly-url-routes)。

# node.js - 如何让永远在启动时运行 Node.js 脚本？

> ID：15017418
> 
> 赞同：4
> 
> 时间：2013-02-22T05:22:38.243
> 
> 标签：node.js, startupscript, forever

我一直在为我的 node.js 运行，这很棒，但是当服务器重新启动时，我必须重新运行命令。是否有关于如何在重新启动或启动时使其永远自动启动脚本的任何建议。

让我们说它

永远 /var/www/server.js

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-02-03T13:35:31.670

编辑 crontab：

```
 $ sudo crontab -e 
```

第一次它会询问您希望使用哪个编辑器进行编辑。

在编辑器中添加以下行：

```
 @reboot /usr/local/bin/forever start /your/path/to/your/app.js 
```

保存文件。

重启。

# c - 信号：这种情况什么时候会发生？

> ID：15017419
> 
> 赞同：2
> 
> 时间：2013-02-22T05:22:42.847
> 
> 标签：c, linux, signals

```
if (signal(SIGINT, SIG_IGN) != SIG_IGN) 
    signal(SIGINT, sig_int); 
```

我已经多次看到此代码。这让我很困惑。这样做，只有当信号当前未被忽略时，进程才会捕获信号。

我的问题是：

1.  我认为`signal(SIGINT, sig_int);`除非第一个信号函数出现错误，否则永远不会执行，对吗？

2.  在什么情况下`(signal(SIGINT, SIG_IGN) != SIG_IGN)`发生？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T05:39:44.197

逐行，

`if (signal(SIGINT, SIG_IGN) != SIG_IGN)`

调用`signal`返回上一个操作。所以这里发生的事情是我们将信号处理程序设置为`SIG_IGN`（即忽略信号），然后检查返回值以查看它是否已被忽略。如果之前没有被忽略，那么...

`signal(SIGINT, sig_int);`

...发生。

因此，换一种说法，“检查是否忽略了 SIGINT，如果没有被忽略，则将信号处理程序设置为 sig_int。” 实际上将信号设置为 SIG_IGN 以比较第一行中的返回值有点奇怪，但这就是正在发生的事情。

编辑： signal() 也可以返回 SIG_ERR，这是需要考虑的其他事情。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T05:38:32.970

完全正确，`signal`如果中断，将返回其先前的 sig 值 (SIG_IGN) 或 SIG_ERR。所以代码的意思是，如果将错误交给 SIG_IGN 时出现问题（记录并忽略它），那么程序会再次捕获信号并将其传递给函数 sig_int，该函数必须以其他方式处理它。

来源： http: [//linux.die.net/man/2/signal](http://linux.die.net/man/2/signal)

至于什么时候会发生，[这里](http://www.gnu.org/software/libc/manual/html_node/Basic-Signal-Handling.html)的网站表明了这一点：

如果信号不能满足请求，它会返回 SIG_ERR。为此函数定义了以下 errno 错误条件：

```
EINVAL
You specified an invalid signum; or you tried to ignore or provide 
a handler for SIGKILL or SIGSTOP. 
```

由于 SIGKILL 和 SIGSTOP 不能被捕获或处理，id 说第二个命令被调用的唯一方法是如果 SIG_IGN 不知何故是错误的？

# jquery - Firefox 中 iframe 的加载事件

> ID：15017422
> 
> 赞同：1
> 
> 时间：2013-02-22T05:22:48.380
> 
> 标签：jquery, html, iframe

我有下面的 iframe：

```
<iframe id="frameID" name="myframe"> </iframe> 
```

在同一页面上，我有一个表格：

```
<form id="formID" action=".." target="myframe">
    ...
</form> 
```

表单由 JQuery 提交：

```
$('#formID').submit();
$('#frameID').one('load', function (){
    alert(...);
} 
```

问题是警报没有出现在Firefox中。我在这方面缺少什么？上面的代码是否也适用于 Internet Explorer？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-05-20T08:41:55.183

有点晚了，但这可能会帮助其他人在这里寻找答案。

我想我只是遇到了同样的问题。我看到你有“action”而不是“src”，你说你发布了一个表单，这正是我所做的。

我遇到的问题是我正在将图像上传到 IFRAME - 我的上传机制返回了一个没有内容的空白页面。在这种情况下，FireFox 似乎不会触发 load 事件。

我通过返回“OK”来修复它，然后加载事件开始触发。

# ruby-on-rails - 仅在调用 show 时加载模态内容

> ID：15017426
> 
> 赞同：0
> 
> 时间：2013-02-22T05:23:03.237
> 
> 标签：ruby-on-rails, performance, modal-dialog, twitter-bootstrap-rails

我有一个不错的小 ToDo 应用程序，它允许用户在列表中创建一个项目。他们可以单击并拖动列表中的项目来排序。但是，当他们能够为他们的项目选择一个图标时，我担心性能。我正在使用 Fat Cow 图标集，并希望他们能够个性化他们的列表。一切都按预期工作。但是，我有点担心服务器的性能以及最终用户端的等待。

![在此处输入图像描述](../Images/4d7d323083065b09e2c19169911589e4.png)

每当用户单击 Select Icon 按钮时，它将使用 Twitter Bootstrap Modal 并允许他们单击图标。一旦他们点击图标，它就会用图标的名称填充一个文本字段。但是，每当他们新建或编辑项目时，都会加载 3000 个图标。

![在此处输入图像描述](../Images/b2b383f4b364c950966bb2d9c133188c.png)

我在后台使用 AJAX 来处理图标的单击并将其放在将用于在列表中显示图标的文本字段中。我的问题是：

有没有一种更有效的方法，而不削减图标来提供用户可以选择不同图标的模式。这是 3000+ 列表中的两个项目的片段，它们被放置在部分中。

有时用户可能不想使用图标，在这种情况下它会默认为项目符号。我只想在他们按下“选择图标”按钮时加载图标列表。

```
<%= link_to_function image_tag("/assets/icon/32_bit.png"), "$('body').select_icon('32_bit')" %>
<%= link_to_function image_tag("/assets/icon/3d_glasses.png"), "$('body').select_icon('3d_glasses')" %> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:31:04.667

哎呀，先创建一组图标并显示一个类别菜单，以减少一次需要处理的图标总数呢？我相信用户也会喜欢它；当人们有太多选择时，它会变得不知所措。

因此，在模态中有一个包含组的下拉列表，并仅使用该组的图标填充窗口的其余部分......

# html - HTML 中心小部件

> ID：15017435
> 
> 赞同：0
> 
> 时间：2013-02-22T05:23:45.910
> 
> 标签：html, widget, center

嗨，我有以下社交媒体栏代码：

```
<span class='st_sharethis_hcount' displayText='ShareThis'></span>
<span class='st_facebook_hcount' displayText='Facebook'></span>
<span class='st_twitter_hcount' displayText='Tweet'></span>
<span class='st_linkedin_hcount' displayText='LinkedIn'></span>
<span class='st_pinterest_hcount' displayText='Pinterest'></span>
<span class='st_email_hcount' displayText='Email'></span> 
```

我想要这些社交栏的适当空间和水平对齐。这些条应位于我窗口的中心。

有人可以帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T05:51:14.053

您必须为其添加一个包装器。假设你应该有：

```
<div id="social-bar">
   <span class='st_sharethis_hcount' displayText='ShareThis'></span>
   <span class='st_facebook_hcount' displayText='Facebook'></span>
   <span class='st_twitter_hcount' displayText='Tweet'></span>
   <span class='st_linkedin_hcount' displayText='LinkedIn'></span>
   <span class='st_pinterest_hcount' displayText='Pinterest'></span>
   <span class='st_email_hcount' displayText='Email'></span>
</div> 
```

从那里你可以制作这样的 CSS 样式：

```
#social-bar {
   width: 960px;
   margin: 0 auto;
   text-align: center; /* to enforce its child elements to the center */
}

#social-bar span {
   padding-right: 20px;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T05:39:13.597

使 div 环绕，第一个具有宽度：100% 和位置：绝对。所有跨度内部和周围的 secvomd 具有宽度：300px（或根据需要和边距：10px 自动；10px 是顶部和底部自动用于左右。您也可以尝试边距：10px 自动 20px 自动；并查看怎么了

# android - 使用 ViewPager 的 Testdroid/Robotium waitForFragment

> ID：15017436
> 
> 赞同：2
> 
> 时间：2013-02-22T05:23:45.843
> 
> 标签：android, android-fragments, robotium, testdroid

我正在尝试使用由 Robotium 支持的 Testdroid。

背景： `FragmentStatePagerAdapter`不为片段分配标签值（与 不同`FragmentPagerAdapter`）因此`waitForFragmentByTag`不起作用；结果我使用了`waitForFragmentById`，我无法按预期工作。

我的片段在定义 UI 结构和布局的 xml ( *fragment.xml ) 中定义。*我的片段也在代码（*Fragment.java*）中定义，这是注册监听器等的地方。

我已经通过`ExtSolo`源代码进行了调试，当调用时，为 XML 中父元素的@id 标记中定义的 ID（）以及文件本身定义的 ID （ ）`Waiter`返回了 fragmentManager（两个）空值.`R.id.fragment``R.layout.fragment`

这些是要使用的正确 ID 值吗？如果不是，那是什么？非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T12:35:24.943

Robotium 基于 FragmentManager 和方法 findFragmentById/findFragemntByTag。使用示例应用程序 Support4Demos，我检查了 State Pager 中的片段，这似乎与您的上下文相似。使用此代码：

```
List<Fragment> fragList = new ArrayList<Fragment>();

@Override
public void onAttachFragment (Fragment fragment) {
    if (!fragList.contains(fragment)) {
        fragList.add(fragment);
        Log.d("TEST", "Fragment id ("+ fragment.getId() +")");
        if (fragment.getId() != View.NO_ID && fragment.getId() != 0) {
            String id = fragment.getResources().getResourceEntryName(
                    fragment.getId());
            Log.d("TEST", "Fragment id " + id);
        }
    }
} 
```

你可以检查，你的片段有什么 id。不幸的是，它们都有 ViewPager 的 id 或 id = 0，因此似乎无法通过 id 来区分它们。不知道会不会对你有帮助，但我希望如此。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T04:47:43.170

我最终使用了一个令人讨厌的工作，如果结构发生变化，这将导致测试失败：

```
private void assertAtHomeFragment() {
    assertTrue(solo.waitForView(ListView.class, 1, 2000));
    assertTrue(solo.waitForView(ImageButton.class, 3, 2000));
    assertTrue(solo.waitForView(Button.class, 1, 2000));
    solo.sleep(1000);
}

private void assertAtLibraryFragment() {
    assertTrue(solo.waitForView(ListView.class, 1, 2000));
    assertTrue(solo.waitForView(ImageButton.class, 0, 2000));
    solo.sleep(1000);
} 
```

# java - 使用java从svn存储库获取文件

> ID：15017439
> 
> 赞同：-1
> 
> 时间：2013-02-22T05:24:22.507
> 
> 标签：java, svn, using

可以使用带有 svnkit API 的 java 代码从 svn 中检出文件。您能否为此提供示例代码。我只尝试了存储库中的特定文件，但我需要检查特定文件夹中的所有文件。更改完成后，我想将文件提交到存储库中。你能帮忙吗

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T05:36:33.297

在这里您可以找到示例 java 源代码。

[http://svn.svnkit.com/repos/svnkit/tags/1.3.5/doc/examples/src/org/tmatesoft/svn/examples/repository/DisplayFile.java](http://svn.svnkit.com/repos/svnkit/tags/1.3.5/doc/examples/src/org/tmatesoft/svn/examples/repository/DisplayFile.java)

也在这里你可以看到完整的目录

[http://wiki.svnkit.com/Table%20of%20Contents](http://wiki.svnkit.com/Table%20of%20Contents)

# unix - 使用 wget 将所有内容从一台共享服务器传输到另一台？

> ID：15017441
> 
> 赞同：0
> 
> 时间：2013-02-22T05:24:47.780
> 
> 标签：unix, hosting, wget, cpanel

我正在将主机从一台 Linux 服务器转移到另一台。两者都运行 cPanel，但我的源主机由于它导致的一些问题而禁用了 cPanel 中的备份功能，并拒绝重新启用它。

我有 36 Gigs 的内容需要从一台服务器传输到另一台服务器。

我想知道使用 SSH 连接到 shell 并使用 wget 将所有数据下载到新服务器是一个好主意。

鉴于大量内容，有人预见到这种方法会出现任何问题吗？有小费吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T07:09:12.257

使用 scp 可能会更轻松。由于您具有 ssh 访问权限，因此它应该可以工作。使用 scp 你可以递归地复制一个目录，所以它可能像下面的命令一样简单。例如登录到目标服务器（您希望将文件复制到的服务器）并尝试以下命令：

`scp -r username@source_host:/path/to/source/directory .`

末尾的点表示您在目标服务器上的当前目录。您还可以指定路径而不是点来将文件复制到目标服务器上的其他位置。

wget 也可以递归地复制目录，但不同的是这些文件需要通过 ftp 或 http 访问。而 scp 可以复制您有权访问的文件系统上的任何文件。

阅读 wget 手册页后，递归下载实际上只对 ftp:// URL 有用。使用 http，它将跟随文档中的链接，其中可能不包括您的所有文件。坦率地说，我从来没有使用 wget 下载多个文件，并且总是使用 scp 来复制多个文件/目录。

# ios - 为什么 MPMoviePlayerController 在寻求 HTTP 直播流后报告错误的时间戳

> ID：15017443
> 
> 赞同：0
> 
> 时间：2013-02-22T05:25:07.830
> 
> 标签：ios, mpmovieplayercontroller, http-live-streaming

我使用生成 VOD 流`mediafilesegmenter`

> ```
> #EXTM3U
> #EXT-X-TARGETDURATION:10
> #EXT-X-VERSION:3
> #EXT-X-MEDIA-SEQUENCE:0
> #EXT-X-PLAYLIST-TYPE:VOD
> #EXTINF:9.9683,   
> spider0.ts
> ...
> #EXTINF:4.2122,   
> spider473.ts
> #EXT-X-ENDLIST 
> ```

我检查了播放器报告的时间戳，但它在我搜索后报告了错误的时间戳（播放器显示的视频帧与原始视频不同）。我使用iOS提供的播放器，没有任何自定义

问题是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:14:32.207

由于准备视频的功能很少，HLS 不允许准确搜索。

规范 - [https://datatracker.ietf.org/doc/html/draft-pantos-http-live-streaming-05](https://datatracker.ietf.org/doc/html/draft-pantos-http-live-streaming-05)

**首先**，文件的长度可能与原始文件不同。 **其次**，块的长度也可能不同。这就是 HLS 和原始文件中的帧存在差异的原因。HLS（Apple 的 HTTP Live Streaming）使用 H.264 视频 - 不涉及转码，只需简单的动态重新打包以在格式之间进行转换。

同时 seek 不能正常工作，只能在一个块内，如果在块外寻找，我们将转到一个新块的开头。我在 FMS 和 Wowza 上遇到了这样的问题，但没有纠正它。

# php - cakephp：在单个视图中添加和编辑

> ID：15017447
> 
> 赞同：0
> 
> 时间：2013-02-22T05:25:13.010
> 
> 标签：php, templates, cakephp, cakephp-2.0

我在 cakephp 工作，我是新手。我创建了一个视图来将数据添加到数据库中。我希望编辑记录-当用户单击编辑时，应该会出现相同的添加视图，其中填充了添加的数据。我的问题是我在表中有外键，当我单击编辑时，文本框会填充外键 ID，而不是存储在该 ID 中的文本。而且我还在某些字段的添加视图中使用了一些 jquery。因此，在编辑这些字段时根本不会显示。以下是代码：

```
public function ride_offer($id = NULL) {

         if (empty($this->data)) {

        $this->data = $this->Rideoffer->read(null, $id);
      // debug($this->data); die;
    }

} 
```

`ride_offer`是添加视图-我希望在编辑中打开相同的视图，重新填充添加的数据。

```
<?php echo $this->Form->text('Rideoffer.DropAt', 
                                            array('class' => 'address-text',
                                               ));  ?> 
```

只是一个示例- Rideoffer.DropAt 显示 id 而不是存储在 Place 表中的实际地址。Rideoffer 表将 Place 的引用存储为 DropAt。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T11:42:54.750

[如果不遵循cakephp 命名约定](http://book.cakephp.org/2.0/en/getting-started/cakephp-conventions.html)，您真的会让自己感到困难。大多数魔法就是这样发生的。您还可以使用此[变形器](http://inflector.cakephp.org/)查找来帮助您命名。

1.  你的动作应该是`ride_offer.ctp`，你的控制器动作应该是`public function rideOffer(){`。是的，这仍然应该按照您的方式工作，但不是蛋糕的首选惯例。

2.  由 id 而不是 val 填充的表单字段的命名约定应该是 *_id。我真的不确定您如何在表单字段中获得任何类型的`id`内容`<?php echo $this->Form->text('Rideoffer.DropAt', array('class' => 'address-text', )); ?>` 。

如果是相关表。名字应该是

```
<?php echo $this->Form->text('drop_at_id', 
                                            array('class' => 'address-text',
                                               ));  ?> 
```

然后您的控制器将通过将该模型传递给视图来神奇地填充 vals。

```
//in your controller
$this->set('dropAts', $this->RideOffer->DropAt->find('list')); 
```

作为对您的评论的回应...您的ride_offer 表应包含一条名为`drop_at_id` **not** `dropAt`

# codeigniter - 如何从 url 中删除 index.php

> ID：15017448
> 
> 赞同：1
> 
> 时间：2013-02-22T05:25:14.500
> 
> 标签：codeigniter, url

当我将鼠标悬停或单击锚链接时，它会显示

```
http://localhost/code-testing/index.php/about-us. 
```

我也尝试了 base_url() 和 site_url() 但结果是一样的。我怎样才能从 url 中删除那个 'index.php' ？

-谢谢。

***解决：***

谢谢大家的友好回答。我正在使用 xampp，这个对我有用

代码测试/应用程序/config/config.php

```
$config['base_url']= 'http://localhost/code-testing/';
$config['index_page'] = '';
$config['uri_protocol'] = 'REQUEST_URI'; 
```

代码测试/.htaccess

```
RewriteEngine on
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule .* index.php/$0 [PT,L] 
```

然后以下链接可以正常工作，而不会在 url 中显示“index.php”

```
<li><a href="<?php echo base_url('home');?>">HOME</a></li>
<li><a href="<?php echo base_url('about_us');?>">About Us</a></li>
<li><a href="<?php echo base_url('contact');?>">Contact Us</a></li> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-22T06:06:20.300

删除 index.php 有 3 个步骤

1.在 application/config.php 文件中进行以下更改

```
$config['base_url'] = 'http://'.$_SERVER['SERVER_NAME'].'/Your Ci folder_name';
$config['index_page'] = '';
$config['uri_protocol'] = 'AUTO'; 
```

2.使用以下代码在根目录中制作 .htacces 文件

```
RewriteEngine on
RewriteCond $1 !^(index\.php|resources|robots\.txt)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php/$1 [L,QSA] 
```

3.启用重写模式

一世。首先，使用以下命令启动它：

**a2enmod 重写**

ii. 编辑文件 /etc/apache2/sites-enabled/000-default

将**AllowOverride None**更改为**AllowOverride All**。

iii. 使用以下命令重新启动服务器：

**须藤 /etc/init.d/apache2 重启**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T05:46:51.500

将变量设置为空，如下所示。

```
$config['index_page'] = ''; 
```

尝试用这些参数`('AUTO', 'PATH_INFO', 'QUERY_STRING', 'REQUEST_URI', and 'ORIG_PATH_INFO')`一一替换以下变量

```
$config['uri_protocol'] = 'AUTO'; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T05:59:09.697

将 .htaccess 文件与 index.php 文件一起放在应用程序根目录中。（检查 htaccess 扩展是否正确，Bz htaccess.txt 对我不起作用。）

并将以下规则添加到 .htaccess 文件中，

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php/$1 [L] 
```

然后在您的 application/config/config.php 文件中找到以下行

```
$config['index_page'] = 'index.php'; 
```

将变量设置为空，如下所示。

```
$config['index_page'] = ''; 
```

就是这样，它对我有用。

如果它不起作用，请尝试用这些参数（'AUTO'、'PATH_INFO'、'QUERY_STRING'、'REQUEST_URI'和'ORIG_PATH_INFO'）一一替换以下变量

```
$config['uri_protocol'] = 'AUTO'; 
```

# java - 我在线程“main”java.lang.ArrayIndexOutOfBoundsException 错误中不断收到异常

> ID：15017449
> 
> 赞同：-3
> 
> 时间：2013-02-22T05:25:16.457
> 
> 标签：java

我收到运行时错误：

```
Exception in thread "main" java.lang.ArrayIndexOutOfBoundsException: 1
at Series.series(Series.java:10)
at Series.main(Series.java:21) 
```

在第 10 行和第 21 行中，无法弄清楚出了什么问题。我正在尝试使程序对系列 1 - 2x + 3x^2 + 4x^3 ... n*x^(n-1) 求和。我能得到的任何帮助将不胜感激！

```
public class Series {

public static double series (double x, int n) {

    int increase = n;
    double sign = Math.pow(-1.0, increase+1);
    double exponent = Math.pow(x, increase-1);
    double[] A = new double[n];
    for (int i = 0; i <= n; i++) {
        A[i] = (sign) * ((increase + 1) - A.length) * (exponent); increase = increase + 1;
    }
    double sum = 0;
    for (int i = 0; i < A.length; i++) {
            sum = sum + A[i];
        }
    return sum;
}

public static void main (String[] args) {
    System.out.print("series(0.5, 1)  should be  1.0");
    System.out.println(" : " + series(0.5, 1));
}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T05:27:35.293

这就是问题：-

`double[] A = new double[n];`

`n=1`，这意味着您只能访问`A[0]`.

但是你的`for`循环： -

`for (int i = 0; i <= n; i++)`- 这迭代到`i<=n`（第二次迭代时**i 变为 1**），这意味着它会主动尝试访问`A[1]`引发`java.lang.ArrayIndexOutOfBoundsException`错误的访问。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T05:28:12.717

数组的最后一个索引是 (n-1)。当 i==n 时，抛出异常。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T05:46:05.247

数组索引从零开始。在代码`double[] A = new double[n]`中，其中 n=1 意味着将创建一个大小为 1 的数组，其索引从零开始。

（即：） A[0] 并且由于您运行 for 循环两次`for (int i = 0; i <= n; i++)`，第二次循环运行时，它会尝试定位索引为 1 的数组（即：） A[1] 不存在，因此`JVM`会抛出您例外。

从 for 循环中删除等号`for (int i = 0; i < n; i++)`，您的代码就可以正常工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T05:29:35.213

你需要改变

```
for (int i = 0; i <= n; i++) 
```

到

```
for (int i = 0; i < n; i++) 
```

因为，当您处于 1 = 1 时，代码会尝试为 a[1] 赋值。此元素不存在，因为数组大小本身为 1。因此数组仅包含 {a[0]}。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-22T05:30:18.060

诠释 i = 0; 我 <= n; i++) 在这里，您还访问了 i=n，它给出了 arrayindexoutofbounds 异常！

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-22T05:32:20.563

第一个for循环的问题：

```
double[] A = new double[n]; 
```

您已经创建了包含 n 个元素的数组。数组中的第一个索引是`0`。让我们假设它`n`等于 5，因此数组中的索引看起来像`[0],[1],[2],[3],[4]`.

```
for (int i = 0; i <= n; i++) {
        A[i] = (sign) * ((increase + 1) - A.length) * (exponent); increase = increase + 1;
    } 
```

在这个循环中，当您尝试插入额外元素时，您的条件是`<=`这样的，因为您已经在其中插入了元素`n == 5``6th``zero index`

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-22T06:42:35.920

双[] A = 新双[n+1]；

这将解决您的问题

# objective-c - 将 BOOL 值绑定到 NSArrayController

> ID：15017453
> 
> 赞同：1
> 
> 时间：2013-02-22T05:25:22.187
> 
> 标签：objective-c, cocoa, nstableview, nsarraycontroller, nsbuttoncell

我有一个与数组控制器绑定的表格视图。表格视图中有两列，一列是字符串，另一列是 BOOL。我在 tableview 中获取字符串值。为了在 NSButtonCell 中显示 BOOL 值，我遇到了问题。按钮单元是选中，其中值为“NO”，未选中值为“YES”。我已将值转换器作为“NSNegateBoolean”赋予绑定中的 BOOL 列。我知道，这个问题是由于我给出了“NSNegateBoolean”。但是没有像“NSBoolean”这样的选项来获得准确的值。如果有人知道，请指导我做。这个应用程序在可可中，而不是在 iPhone 中。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T10:08:21.243

转换器`NSNegateBoolean`所做的只是在将绑定值反映在界面中之前反转它们，当然是可选的。如果您不需要否定这些值，请不要使用变压器。所以，删除`NSNegateBoolean`，你应该很高兴。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T06:31:04.147

您的意思是您不能直接将 BOOL 值绑定到 NSArray 吗？

你可以试试~~NSNumber~~ NSCFBoolean 吗？

```
@(YES) or @(NO). 
```

或者

```
BOOL boolValue = YES;
@(boolValue) 
```

如

```
NSDictionary *row1 = @{@"title":@"row1",@"value":@(YES)};
NSDictionary *row2 = @{@"title":@"row2",@"value":@(NO)};
NSArray *tableContentArray = @[row1,row2]; 
```

tableContentArray 是绑定到您的 ArrayController 的。

# ios - 当前模型视图控制器不返回 NSObject 类的值？

> ID：15017457
> 
> 赞同：0
> 
> 时间：2013-02-22T05:25:49.483
> 
> 标签：ios, nsobject

我正在使用 NSObject 类来实现 facebook 共享，但是当我单击共享按钮时我的应用程序崩溃了，因为当前的模型视图控制器不支持返回值，请帮助我。

这是我的代码：

`[self presentViewController:facebookPostVC animated:YES completion:Nil];`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T05:31:55.753

你的类应该继承自 UIViewController 并且你应该有一个 View ，它将由另一个视图呈现，否则，如何呈现一个对象？

[http://developer.apple.com/library/ios/#documentation/uikit/reference/UIViewController_Class/Reference/Reference.html](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIViewController_Class/Reference/Reference.html)

# text - 使用 jQuery 或插件的文本动画

> ID：15017458
> 
> 赞同：0
> 
> 时间：2013-02-22T05:26:03.837
> 
> 标签：text, animated

我尝试使用 jQuery 创建一个像[这个标题](http://www.abbingtonpartners.com/)这样的 flash 效果，这样它就可以在移动设备上工作。我搜索和添加的东西越多，我做的就越复杂。这是[pastebin 中的代码](http://pastebin.com/BEZuGfs2)。我无法让它以与我引用的网站标题相匹配的方式工作。有没有更简单的方法或 Wordpress 插件可以在主页标题上做这样的事情？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T05:34:10.943

您可以尝试[http://lukeas14.github.com/animateText.js/](http://lukeas14.github.com/animateText.js/)插件，该站点有据可查，希望对您有所帮助

# driver - pcapnet 和数据包重定向

> ID：15017460
> 
> 赞同：0
> 
> 时间：2013-02-22T05:26:11.187
> 
> 标签：driver, windows-7-x64, ndis, kernel-mode

是否可以将一个以太网接口上的数据包镜像（而不是重定向/转发）到另一个？无论如何，主机都会处理数据包，并且由于 winpcap 不会作为过滤器插入，我们将无法丢弃数据包，我知道。但我想知道是否可以使用 Winpcap 或 pcap.net 进行数据包镜像？

有点类似于接口桥。使用自定义 NDIS 5/6 过滤器驱动程序是一种选择，但现在不追求。我正在尝试在严格的用户模式下执行此操作，如果我可以使用 C#，我会很高兴。

使用 Win7x64。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T05:01:18.247

找到了答案。您可以使用 WinPcap 实现相同的目的。那里有一个项目，使用 libpcap 的 daemonlogger，将其移植到 Windows。要使用 C#，请尝试 Pcap.net

# javascript - jQuery：使美元函数适用于在某些 AJAX 操作后加载的元素

> ID：15017461
> 
> 赞同：0
> 
> 时间：2013-02-22T05:26:16.410
> 
> 标签：javascript, ajax, jquery

我的页面中有这段 jQuery 代码，它基本上`<td>`根据服务器响应对表中的数据做了一些处理。

```
 $('document').ready(function() { 
    $('td a').click(function(e) {
        e.preventDefault()
        var href = $(this).attr('href');
        $.ajax({
            url: href,
            success: function() { 
              [...] // SKIPPED, DO STUFF HERE. 
            },
           }
        );
    })
 }) 
```

它工作得很好......除了一个问题。它仅适用于`<td>`最初加载的条目。

如果我使用无休止的分页（如 google 图像样式或 twitter 样式），在一些 AJAX 操作（如按钮单击、滚动到底部等）之后加载更多条目，则这些新加载的条目将无法使用美元符号功能。

我该怎么做才能使其适用于所有`<td>`条目？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T05:33:25.663

使用`.on()`也将绑定未来元素的方法：

```
 $('td').on('click', 'a', function(e) {
    ...
  }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T05:33:31.677

这是一个明确的问题`event delegation`：

只需更改此行：

```
 $('td a').click(function(e) { 
```

对此：

```
$(document).on('click', 'td a', function(e) { 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T05:33:38.707

您将希望使用动态形式，`.on()`以便它可以使用委托事件处理来处理与您的选择器匹配的所有新创建元素的事件。

一般形式是这样的：

```
$(static parent selector).on("click", "td a", function(e) {}); 
```

静态父选择器应该是动态添加的元素的父元素，这些元素本身不是动态的，并且在您运行初始 jQuery 时存在。它应该尽可能接近动态元素以获得最佳性能。在这种情况下，只要在运行初始 jQuery 代码时表 DOM 对象已经存在，它就很容易成为表本身。

请参阅这些类似回答的问题：

[jQuery .live() 与 .on() 方法在加载动态 html 后添加点击事件](https://stackoverflow.com/questions/8752321/jquery-live-vs-on-method-for-adding-a-click-event-after-loading-dynamic-ht/8752376#8752376)

[如何在新添加的 DOM 上进行实时点击事件](https://stackoverflow.com/questions/10084293/how-to-make-live-click-event-on-new-added-dom/10084358#10084358)

[jQuery .on 不起作用，但 .live](https://stackoverflow.com/questions/9985090/jquery-on-does-not-work-but-live-does/9985137#9985137)对类似回答的问题起作用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T05:29:31.607

您需要执行以下代码

```
$(document).on('click', 'td a',function(e) {
    e.preventDefault()
    var href = $(this).attr('href');
    $.ajax({
        url: href,
        success: function() { 
          [...] // SKIPPED, DO STUFF HERE. 
        },
       }
    );
}) 
```

# windows-phone-8 - 如何将图像从 windows phone 8 保存到 firebase 服务器？

> ID：15017464
> 
> 赞同：0
> 
> 时间：2013-02-22T05:26:28.457
> 
> 标签：windows-phone-8, firebase

作为一名 Android 应用程序开发人员，我对 Windows 手机开发和 Firebase 都是新手。我想知道是否可以将图像文件（假设我有图像对象）从 windows phone 保存到 firebase 数据库？我知道 firebase 有一个 REST API，所以我猜我可以使用它来做到这一点。这是正确的方法吗？有什么例子吗？我会感谢任何指出我正确方向的人。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T12:37:28.797

一旦你有了图像，唯一的选择就是把它们从另一边暴露出来。你说 Firebase 有 REST api，你可以使用它。有时 REST API 被包装在一个很好的库中，这让事情变得更容易。

但是如果你只有 REST API，那就是你使用的

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T18:57:59.767

您绝对可以通过 REST API 或通过普通的 Firebase 库将图像存储在 Firebase 中。

您需要做的是对图像进行base64 编码，然后用dataURL 显示它。您可以在此处查看此方法的示例： [https ://github.com/firebase/firepano](https://github.com/firebase/firepano)

该示例使用 FileReader 使用 readAsDataURL() 函数加载图像客户端。

# magento - 在 Magento 管理部分管理类别页面中添加一个新文件

> ID：15017465
> 
> 赞同：0
> 
> 时间：2013-02-22T05:26:29.583
> 
> 标签：magento

我希望***在 Magento 管理类别页面的 Magento 管理***部分添加一个文本输入框。可以这样做吗？如果是，我想知道如何。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-07T12:16:32.120

我们可以使用代码添加属性

其他选项是您可以安装以下模块：

[http://www.magentocommerce.com/magento-connect/custom-attributes-4340.html](http://www.magentocommerce.com/magento-connect/custom-attributes-4340.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:49:10.333

我认为您正在尝试在 Magento 管理员的“管理类别”部分中添加一个属性。

要添加属性，您需要使用自定义模块运行 SQL 文件。

这是您可以执行的代码片段 -

```
<?php 
   $installer = new Mage_Eav_Model_Entity_Setup('core_setup');
   $installer->startSetup();
   $installer->removeAttribute('catalog_category', 'attribute_code');

   $installer->addAttribute('catalog_category', 'attribute_code',  array(
     'group'    => 'General Information',
     'type'     => 'text',
     'label'    => 'Attribute Label',
     'input'    => 'text',
     'global'   => Mage_Catalog_Model_Resource_Eav_Attribute::SCOPE_STORE,
     'visible'           => true,
     'required'          => false,
     'user_defined'      => false,
     'default'           => '',
     'visible_on_front' => true,
     'is_html_allowed_on_front' => true,
 'position' => 4, 
 'sort_order' => 4,
));

 $installer->endSetup();

?> 
```

我希望你正在寻找上面的代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T06:05:45.457

您可以通过在 adminhtml 模板文件中创建文本框来实现。这很可能是：

magento/app/design/adminhtml/default/default/template/catalog/category/edit/form.phtml

但是您还需要在数据库中创建新列来保存数据。您可以通过编写自己的简单扩展并使用 SQL 升级脚本来做到这一点。

# vb.net - 外部组件在 VB.NET 中引发了异常

> ID：15017468
> 
> 赞同：0
> 
> 时间：2013-02-22T05:26:51.020
> 
> 标签：vb.net

我收到错误“外部组件已引发异常”。在我的 VB.net 项目中随机出现。我们正在使用 .net 框架 4，我们从 VB 6 升级到 VB.NET。我用**Windbg**进行了调试，这里是详细信息

```
!pe
PDB symbol for clr.dll not loaded
Exception object: 05f95e18
Exception type:   System.TypeInitializationException
Message:          The type initializer for 'globalmodule.FrmMsgBox' threw an exception.
InnerException:   System.Runtime.InteropServices.SEHException, Use !PrintException 05f95cec to see more.
StackTrace (generated):
    SP       IP       Function
    0312FC28 7A97BB08 System_ni!System.ComponentModel.Component.Finalize()+0x18

StackTraceString: <none>
HResult: 80131534
0:002> !PrintException 05f95cec
Exception object: 05f95cec
Exception type:   System.Runtime.InteropServices.SEHException
Message:          External component has thrown an exception.
InnerException:   <none>
StackTrace (generated):
    SP       IP       Function
    00000000 00000000 testrec.exe!Unknown+0x1

StackTraceString: <none>
HResult: 80004005

call stack

 # ChildEBP RetAddr  Args to Child              
WARNING: Stack unwind information not available. Following frames may be wrong.
00 0312f0a4 79253990 e0434352 00000001 00000005 kernel32!RaiseException+0x52
01 0312f134 793b6a83 05f95e18 00000000 00000000 clr!CoInitializeEE+0x5511e
02 0312f154 793b6aff 05f95e18 00000000 00000004 clr!GetAddrOfContractShutoffFlag+0xf367
03 0312f180 793b6b3d 00000000 00000004 059c5c10 clr!GetAddrOfContractShutoffFlag+0xf3e3
04 0312f1b0 793b6b50 05f95e18 00000000 00000004 clr!GetAddrOfContractShutoffFlag+0xf421
05 0312f1c4 79252be6 05f95e18 00000004 13aa4fff clr!GetAddrOfContractShutoffFlag+0xf434
06 0312fb1c 7918e1ce 13aa4f67 79162160 7917793c clr!CoInitializeEE+0x54374
07 0312fb84 79162111 04bcf78c 13aa4f0b 0312fe68 clr!CreateAssemblyNameObject+0xd57f
08 0312fc00 7a97bb08 0312fc50 0015fc20 00000000 clr!CoUninitializeEE+0x3f69
09 0312fc20 7a97bb08 00000020 00000000 00000000 System_ni+0x15bb08
0a 0312fc48 7917ec61 0312fc94 792559cc 0312fe68 System_ni+0x15bb08
0b 0312fca4 7917eb29 05f95b8c 7a97baf0 00000000 clr!LogHelp_TerminateOnAssert+0x7829
0c 0312fcd0 7917ebb8 05f95b8c 05f95b8c 00000000 clr!LogHelp_TerminateOnAssert+0x76f1
0d 0312fce8 7917edff 05f95b8c 13aa49db 0312fd58 clr!LogHelp_TerminateOnAssert+0x7780
0e 0312fd38 7917ed3b 0015fc20 00000409 0312fd67 clr!LogHelp_TerminateOnAssert+0x79c7
0f 0312fd68 791cd5a6 0015fc20 00000000 0015fc20 clr!LogHelp_TerminateOnAssert+0x7903
10 0312fd84 7928453a 00000001 0312fe68 0015fc20 clr!GetCLRFunction+0x6383
11 0312fd98 792845bc 0312feb0 13aa4aab 0312feb0 clr!GetPrivateContextsPerfCounters+0x18bd
12 0312fe48 79284677 0312feb0 13aa4a4b 00000000 clr!GetPrivateContextsPerfCounters+0x193f
13 0312fea8 792f7ae7 00000000 00148308 00000000 clr!GetPrivateContextsPerfCounters+0x19fa 
```

我无法理解为内部异常生成的堆栈跟踪（IP 00000000 function=testrec.exe！Unknown+0x1）

我确实从 !dumpstack 生成的调用堆栈中注意到了这一行

```
0312f0b0 79253990 clr!CoInitializeEE+0x5511e, calling kernel32!RaiseException 
```

在网上搜索后，我知道了 CoInitializeEE 函数确保公共语言运行时执行引擎加载到进程中，如果执行引擎无法加载，将返回 E_FAIL。如果 HRESULTE_FAIL 返回到 System.Runtime.InteropServices.SEHException，它会将其映射到 ExternalException。那正确吗？如果是，执行引擎加载失败的原因可能是什么？

我是从 !u 那里得到的

```
!u 7A97BB08 
preJIT generated code
System.ComponentModel.Component.Finalize()
Begin 7a97baf0, size 41
7a97baf0 55              push    ebp
7a97baf1 8bec            mov     ebp,esp
7a97baf3 57              push    edi
7a97baf4 56              push    esi
7a97baf5 53              push    ebx
7a97baf6 83ec14          sub     esp,14h
7a97baf9 33c0            xor     eax,eax
7a97bafb 8945e8          mov     dword ptr [ebp-18h],eax
7a97bafe 33d2            xor     edx,edx
7a97bb00 8b01            mov     eax,dword ptr [ecx]
7a97bb02 8b402c          mov     eax,dword ptr [eax+2Ch]
7a97bb05 ff5014          call    dword ptr [eax+14h]
**>>> 7a97bb08 c745e400000000  mov     dword ptr [ebp-1Ch],0**
7a97bb0f c745e8fc000000  mov     dword ptr [ebp-18h],0FCh
7a97bb16 6828bb977a      push    offset System_ni+0x15bb28 (7a97bb28)
7a97bb1b eb00            jmp     System_ni+0x15bb1d (7a97bb1d)
7a97bb1d 58              pop     eax
7a97bb1e ffe0            jmp     eax
7a97bb20 8d65f4          lea     esp,[ebp-0Ch]
7a97bb23 5b              pop     ebx
7a97bb24 5e              pop     esi
7a97bb25 5f              pop     edi
7a97bb26 5d              pop     ebp
7a97bb27 c3              ret
7a97bb28 c745e800000000  mov     dword ptr [ebp-18h],0
7a97bb2f ebef            jmp     System_ni+0x15bb20 (7a97bb20) 
```

**更新：** 此问题仅出现在 XP PC 和某些 Windows 8 PC 中。

谢谢你

# unity3d - 如何创建自定义游戏对象（结合球体和立方体）

> ID：15017474
> 
> 赞同：2
> 
> 时间：2013-02-22T05:27:23.527
> 
> 标签：unity3d, gameobject

问 SO，因为统一论坛很慢。

我正在制作捕食者/猎物游戏。我希望猎物是带有立方体作为尾巴的球体。基本上我想用连接的立方体和球体制作我自己的游戏对象。

如何创建自定义游戏对象？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T09:02:39.643

另一种常见的方法是创建一个[预制](http://docs.unity3d.com/Documentation/Manual/Prefabs.html)件来容纳你的一对`GameObjects`.

例如，您可以执行以下操作：

1.  创建一个`GameObject`被调用的对象`PreyAgent`并添加 2 个子对象（立方体和球体）。
2.  右键单击项目窗口并选择`Create->Prefab`并为其命名（es. `PreyAgentPrefab`）
3.  `GameObject`将 PreyAgent从窗口拖放`Hierarchy`到创建的 Prefab。

创建预制件后，您可以通过以下方式从代码中实例化它：

```
GameObject go = GameObject.Instantiate(Resources.Load("PreyAgentPrefab")) as GameObject; 
```

这对于创建要在不同场景或项目中使用的通用对象很有用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T05:44:19.660

不能完全抓住你想要什么。但是也许创建一个空的游戏对象并将您的立方体和球体拖入其中，因为“子游戏对象”会起作用吗？

Menu -> GameObject -> Create Empty，然后将要连接的游戏对象拖到新创建的“GameObject”上。

# c# - 剪切/删除图像的一部分 (JPG)

> ID：15017482
> 
> 赞同：-1
> 
> 时间：2013-02-22T05:27:56.040
> 
> 标签：c#, image, crop, editing

有没有办法以编程方式从 JPG 图像中删除 JPG 图像（矩形）的一部分。通过一些试验和错误，我可以调整 XY 坐标以适应我的要求（剪切用户名框）

所有的问题似乎都需要裁剪的矩形部分，而我需要将矩形药水空白的原始图像。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:58:01.183

此示例代码采用图像的右下象限。与您合作并获得一个想法应该足够了::

```
string path = "C:\\test.jpg";
using (Bitmap orignal = new Bitmap(path))
{
        using (Bitmap newimage = new Bitmap((int)(orignal.Width * 0.5), (int)(orignal.Height * 0.5)))
        {
                using (Graphics newgraphics = Graphics.FromImage(newimage))
                {
                        newgraphics.DrawImage(orignal, 0, 0, new Rectangle(newimage.Width, newimage.Height, orignal.Width - newimage.Width, orignal.Height - newimage.Height), GraphicsUnit.Pixel);
                        newgraphics.Flush();
                }

                newimage.Save(new System.IO.FileInfo(path).DirectoryName + "out.jpg", System.Drawing.Imaging.ImageFormat.Jpeg);
        }
} 
```

# android - Android 推送通知 (GCM)，是否有每日限制？

> ID：15017486
> 
> 赞同：74
> 
> 时间：2013-02-22T05:28:04.840
> 
> 标签：android, push-notification, limit, google-cloud-messaging

可以向特定的 android 应用程序用户发送数字推送通知 (GCM) 是否有每日限制？

* * *

## 回答 #1

> 赞同：83
> 
> 时间：2013-02-22T05:37:02.770

> **更新：不推荐使用** [GCM](https://developers.google.com/cloud-messaging/)，请使用[FCM](https://firebase.google.com/docs/cloud-messaging/)

在 Google 用 GCM 取代 C2DM 之后，他们取消了所有限制。

来源：http: [//developer.android.com/google/gcm/c2dm.html#history](http://developer.android.com/google/gcm/c2dm.html#history)

在 GCM 之前（当时仍称为 C2DM）：https [://developers.google.com/android/c2dm/#limitations](https://developers.google.com/android/c2dm/#limitations)

您遇到 GCM 文档的唯一限制是：http: ~~[//developer.android.com/google/gcm/adv.html#lifetime](http://developer.android.com/google/gcm/adv.html#lifetime)~~

从上面的链接引用：

> 注意：在不折叠的情况下可以存储多少消息是有限制的。该限制当前为 100。如果达到限制，则丢弃所有存储的消息。然后，当设备重新联机时，它会收到一条特殊消息，指示已达到限制。然后，应用程序可以正确处理这种情况，通常是通过请求完全同步。

不过，我不确定这是否与您的问题有关。

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2015-06-01T17:45:41.700

一口气有一个`limit`。`1000` `notifications`

假设你有`50000 regids`. 你不能`50000`一起发送。在第一个之后`1000`，您将不得不单独选择下一个`1000`，依此类推。

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2013-02-22T05:37:40.453

似乎没有设定数字限制，但有节流措施。

> 为了防止滥用（例如向设备发送大量消息）并优化设备的整体网络效率和电池寿命，GCM 使用令牌桶方案实现消息的节流。
> 
> 如果应用程序崩溃密钥耗尽了其可用令牌的供应，则新消息将缓冲在待处理队列中，直到在定期授予时新令牌变得可用。

通过：[https ://developers.google.com/cloud-messaging/server#throttling](https://developers.google.com/cloud-messaging/server#throttling)

**编辑/更新：**

只是为了更新，现在可以在 GCM 高级主题中找到节流文档：[http ://www.androiddocs.com/google/gcm/adv.html#throttling](http://www.androiddocs.com/google/gcm/adv.html#throttling)

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2013-02-22T05:36:03.983

数字推送通知 (GCM) 没有任何每日限制，但通过官方来源~~[GCM 高级主题](http://developer.android.com/guide/google/gcm/adv.html)~~它指出

> 在不折叠的情况下可以存储多少消息是有限制的。该限制当前为 100。如果达到限制，则丢弃所有存储的消息。然后，当设备重新联机时，它会收到一条特殊消息，指示已达到限制。然后，应用程序可以正确处理这种情况，通常是通过请求完全同步。

希望它会有所帮助。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2016-02-04T13:38:51.343

尝试从 java 代码 com.google.android.gcm.server.Sender “send” 方法发送超过 1000 次推送，尝试失败。

[https://developers.google.com/cloud-messaging/http-server-ref](https://developers.google.com/cloud-messaging/http-server-ref) 对于下游 HTTP 消息 (JSON)：

参数名称 - registration_ids 类型 - 字符串数组

此参数指定接收多播消息的设备（注册令牌或 ID）列表。它必须包含至少 1 个且最多 1000 个注册令牌。

此参数仅用于多播消息传递，而不用于单个接收者。仅允许使用 HTTP JSON 格式的多播消息（发送到 1 个以上的注册令牌）。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-02-22T05:35:57.250

根据官方文件，没有限制。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-02-22T05:36:13.430

每个 SEND_ID 最多可以发送 1,000 台设备！

[这里](http://developer.android.com/training/cloudsync/gcm.html#multicast)是原始来源。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2016-10-03T07:04:39.537

registration_ids
此参数指定接收多播消息的设备列表（注册令牌或 ID）。它必须包含至少 1 个且最多 1000 个注册令牌。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2017-01-30T05:29:19.740

由于 GCM 现在迁移到 firebase，消息服务完全免费。

[https://firebase.google.com/pricing/](https://firebase.google.com/pricing/)

# iphone - 我已将我的 xcode 更新到 4.6，现在我的应用程序无法在 iPhone 上运行

> ID：15017489
> 
> 赞同：2
> 
> 时间：2013-02-22T05:28:13.070
> 
> 标签：iphone, ios, xcode

我已将我的 xCode 更新到 4.6，现在每当我创建新项目并尝试在具有 iOS 5.1 的设备上运行它时，它都会显示 error `CodeSign error: code signing is required for product type 'Application' in SDK 'iOS 6.1'`。我已经下载了适用于 iOs 6.1、6.0、5.0、5.1 的 SDK，在我的旧版本中，我无需在设备上进行代码签名即可运行任何应用程序。请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T05:33:46.687

请检查**plist**中的包标识符和代码签名标识

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T06:39:17.150

按照以下步骤在您的设备上成功运行您的应用程序：

*   确保您或您的组织已注册加入 Apple iOS 开发计划
*   检查您的钥匙串中是否安装了有效的证书（如果没有，请创建并安装一个[证书实用程序](http://rx-games.com/creating-apple-development-and-distribution-certificates-explained/)）
*   现在[创建配置文件](http://www.dummies.com/how-to/content/how-to-create-an-apple-development-provisioning-pr.html)
*   下载它们并通过将它们拖到您的 Xcode 来安装它们
*   现在在构建设置中通过选择这些来设置代码签名身份![代码签名部分](../Images/d83921552869579ed2be1800a2ae2411.png)
*   现在连接您的设备并运行。

这里有一些废话：

1.  您可能已经在以前的版本中安装了证书和配置，因此您不需要再次设置它们
2.  为您的项目设置**部署目标** ![在此处输入图像描述](../Images/76b7cfe151e176470c2ec576e306f808.png)，因为您的设备仍然有 5.1
3.  并按照 user247 的建议进行操作，即在 info.plist 文件中设置 bunderIdentifier

# javascript - 切换 div 可见性

> ID：15017491
> 
> 赞同：1
> 
> 时间：2013-02-22T05:28:19.487
> 
> 标签：javascript, jquery, html, css

想要修改此切换功能，以便在再次单击相同链接时再次收回和隐藏 div 内容，以及在与该链接关联的内容向下滑动之前单击不同链接时完全收回。

还想知道当链接的内容可见时如何将链接更改为不同的颜色。

```
<!DOCTYPE html>
<html lang="en">

<head>
<script type="text/javascript"     
src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>

<script type="text/javascript">
function slideonlyonee(thechoseone) {
 $('.newframe').each(function(index) {
      if ($(this).attr("id") == thechoseone) {
           $(this).delay(400).slideDown(500);
      }
      else {
           $(this).slideUp(500);
      }
 });
}

</script>

</head>
<body>

<!--COMEDY STARTS HERE-->
<div style="position:relative; top:2px; left:10px;"> 
<a id="myframe" style="text-decoration: none; "   
href="javascript:slideonlyonee('newframe2');"><span style="color:blue;">comedy</span>
</a>

<div class="newframe" id="newframe2" style="background: blue; display:none; block;   
padding: 5px; width: 450px; height:500px; position: relative; left:-5px; top:60px;">
</div>
</div>

<!--DRAMA STARTS HERE-->        
<div style="position:absolute; top:10px; left:144px;"> 
<a id="myframe"  style="text-decoration: none;" 
href="javascript:slideonlyonee('newframe3');"><span style="color:red;">drama</span></a>

<div class="newframe" id="newframe3" style="background:  red; display:none; block;    
padding: 5px; width: 450px; height:500px; position: relative; left:-131px; top:60px;">
</div>
</div>

<!--CRIME STARTS HERE-->
<div style="position:absolute; top:10px; left:283px;"> 
<a id="myframe" style="text-decoration: none;" 
href="javascript:slideonlyonee('newframe4');"><span style="color:green;">crime</a>

<div class="newframe" id="newframe4" style="background:  green; display:none; block; 
padding: 5px; width: 450px; height:500px; position: relative; left:-270px; top:60px;">
</div>
</div>

<!--MAKEOVER STARTS HERE-->
<div style="position:absolute; top:10px; left:407px;"> 
<a id="myframe" style="text-decoration: none;" 
href="javascript:slideonlyonee('newframe5');"><span style="color:purple;">makeover</a>

<div class="newframe" id="newframe5" style="background:  purple; display:none; block;   
padding: 5px; width: 450px; height:500px; position: relative; left:-394px; top:60px;">
</div>
</div>

</body>

</html> 
```

[**这是工作代码**](http://www.visuallypersuasive.com/jason/test_1.html)

在此先感谢您的帮助，非常感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T05:40:28.817

尝试这个：

```
$(this).delay(400).slideToggle(500); //<---instead toggle the slide

$('[class="'+thechoseone+'"] span').css({'color':'orange', 'font-weight':'bold'});
//---------------------------^^^^---add this too. 
```

您`id`对所有无效使用的链接都具有相同的权限`class`。

所以最终的 html 链接应该是：

```
<a class="myframe" 
```

和 jQuery：

```
function slideonlyonee(thechoseone) {
    $('.newframe').each(function(index) {
        if ($(this).attr("class") == thechoseone) {
             $(this).delay(400).slideToggle(500);
             $('[class="'+thechoseone+'"] span').css({'color':'orange', 'font-weight':'bold'});
             //---------------------------^^^^---add this too.
         }
     });
 } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T05:39:05.643

这可能是您正在寻找的解决方案：

```
function slideonlyonee( theLink,thechoseone ) {

   theLink.css('color','red');
    var theChosendDiv=$("#"+thechoseone);
    $(".newframe:not(#"+thechoseone+")").slideUp(500);

    theChosendDiv.delay(400).slideToggle(500);
} 
```

html应该是：

```
<a id="myframe" style="text-decoration: none; "   
href="javascript:slideonlyonee(this,'newframe2');"><span style="color:blue;">comedy</span>
</a> 
```

# javascript - GAE 通道 API - 从 Javascript 检查套接字是否处于活动状态

> ID：15017492
> 
> 赞同：2
> 
> 时间：2013-02-22T05:28:23.777
> 
> 标签：javascript, google-app-engine, channel-api, ajax-push

我有一个使用通道 API 的应用程序。连接应该始终处于活动状态（24x7），并且我已经以这样的方式实现它，即每次通道断开连接时，都会自动创建一个新通道。这在大多数情况下都可以正常工作，但我有一些场景不会调用 onError() 方法（例如连接的 WIFI 更改，或者计算机进入睡眠状态并返回）。而且我的 JS 应用程序错误地假设通道仍然处于活动状态，而实际上它不是。

我想到的一种解决方案是 ping 服务器要求发送消息。就像一个保持活力。但这对服务器来说是一个很大的负担。（例如，每 10 秒发送 1000 个 ping 请求的客户端相当于每秒 100 个请求）

所以我想知道是否有一种方法可以检查本地连接是否有效，这样我就不会无意中在我的服务器上进行 DoS 附加。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T07:29:21.593

您可以创建一个 GAE cron 作业，告诉您的服务器发送保持活动消息，而不是让客户端请求它。这样，无论您拥有多少客户，您每 10 秒只有 1 个请求。

不过，您需要将活动客户端列表存储在 memacache/datastore 中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T06:13:23.837

恐怕别无选择，只能要求服务器发送消息并检查它是否在合理的时间范围内返回。

您的 JS 应用程序可以定期 ping 一些小（*空*）静态文件（*甚至可能在 GAE 之外*）以检查连接是否断开或计算机是否进入休眠状态。这可能更便宜，但不会给你 100% 的保证。

# css - font-face 下载所有字体还是只下载使用的字体？

> ID：15017495
> 
> 赞同：2
> 
> 时间：2013-02-22T05:28:49.033
> 
> 标签：css, font-face, font-family

我的公共文件夹中有一个 font-face 文件夹和一个对所有 font-face 字体收费的 css

```
@font-face
    font-family font1
    src url('/fonts/font1-Regular.otf')
@font-face
    font-family font2
    src url('/fonts/font2-Regular.otf')
@font-face
    font-family font3
    src url('/fonts/font3-Regular.otf')
@font-face
    font-family font4
    src url('/fonts/font4-Regular.otf')
@font-face
    font-family font5
    src url('/fonts/font5-Regular.otf')
@font-face
    font-family font6
    src url('/fonts/font6-Regular.otf') 
```

在我的网络中，用户可以使用字体列表中的任何字体......

我想知道，所有字体都在内存中？？？或者只是使用的字体...如果我加载更多字体会减慢网络的速度？？？

全部！

* * *

## 回答 #1

> 赞同：-3
> 
> 时间：2013-02-23T07:15:04.100

请求多种字体允许您在页面中使用所有这些字体。（但不要过火；大多数页面不需要很多字体，并且请求大量字体可能会使您的页面加载缓慢。）

# python - 如何比较python中的多个元组列表？

> ID：15017497
> 
> 赞同：-3
> 
> 时间：2013-02-22T05:29:19.790
> 
> 标签：python, list, tuples

如何像这样比较多个元组列表：

```
[[(1,2), (3,6), (5,3)], [(1,5), (3,5)], [(2,1), (1,8), (3,9)]] 
```

输出应该是：

```
[(1,2), (1,5), (1,8)],[(3,6), (3,5), (3,9)] 
```

这意味着我只想要那些**x 轴**值与其他值匹配的值。
(5,3) 和 (2,1) 应该被丢弃！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:36:54.953

也许你正在寻找链接这个：

```
l = [[(1,2), (3,6), (5,3)], [(1,5), (3,5)], [(2,1), (1,8), (3,9)]]
output = [l[0][0], l[1][0], l[2][1]], [l[0][1], l[1][1], l[2][2]] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T05:43:45.093

一种可能的选择

```
>>> def group(seq):
    for k, v in groupby(sorted(chain(*seq), key = itemgetter(0)), itemgetter(0)):
        v = list(v)
        if len(v) > 1:
            yield v

>>> list(group(some_list))
[[(1, 2), (1, 5), (1, 8)], [(3, 6), (3, 5), (3, 9)]] 
```

另一个受欢迎的选择

```
>>> from collections import defaultdict
>>> def group(seq):
    some_dict = defaultdict(list)
    for e in chain(*seq):
        some_dict[e[0]].append(e)
    return (v for v in some_dict.values() if len(v) > 1)

>>> list(group(some_list))
[[(1, 2), (1, 5), (1, 8)], [(3, 6), (3, 5), (3, 9)]] 
```

那么他们中的哪一个更适合示例数据呢？

```
>>> def group_sort(seq):
    for k, v in groupby(sorted(chain(*seq), key = itemgetter(0)), itemgetter(0)):
        v = list(v)
        if len(v) > 1:
            yield v

>>> def group_hash(seq):
    some_dict = defaultdict(list)
    for e in chain(*seq):
        some_dict[e[0]].append(e)
    return (v for v in some_dict.values() if len(v) > 1)

>>> t1_sort = Timer(stmt="list(group_sort(some_list))", setup = "from __main__ import some_list, group_sort, chain, groupby")
>>> t1_hash = Timer(stmt="list(group_hash(some_list))", setup = "from __main__ import some_list, group_hash,chain, defaultdict")
>>> t1_hash.timeit(100000)
3.340240917954361
>>> t1_sort.timeit(100000)
0.14324535970808938 
```

并且有一个更大的随机列表

```
>>> some_list = [[sample(range(1000), 2) for _ in range(100)] for _ in range(100)]
>>> t1_sort.timeit(100)
1.3816694363194983
>>> t1_hash.timeit(1000)
34.015403087978484
>>> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T05:45:29.237

```
>>> L=[[(1,2), (3,6), (5,3)], [(1,5), (3,5)], [(2,1), (1,8), (3,9)]]
>>> from collections import defaultdict
>>> from itertools import chain
>>> p = defaultdict(list)
>>> for i in chain.from_iterable(L):
...  p[i[0]].append(i)
... 
>>> p = {k:v for k,v in p.items() if len(v)>1}
>>> p.values()
[[(1, 2), (1, 5), (1, 8)], [(3, 6), (3, 5), (3, 9)]] 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T05:48:58.170

这很好用：

```
>>> l=[[(1,2), (3,6), (5,3)], [(1,5), (3,5)], [(2,1), (1,8), (3,9)]]
>>> [[t for t in [i for sub in l for i in sub] if t[0]==1]]+[[t for t in [i for sub in l for i in sub] if t[0]==3]]
[[(1, 2), (1, 5), (1, 8)], [(3, 6), (3, 5), (3, 9)]] 
```

或者，不重复：

```
>>> flat=[i for sub in l for i in sub]
>>> [[t for t in flat if t[0]==1]]+[[t for t in flat if t[0]==3]] 
[[(1, 2), (1, 5), (1, 8)], [(3, 6), (3, 5), (3, 9)]] 
```

# button - 特金特。单击按钮时，我需要替换同一列中的照片

> ID：15017498
> 
> 赞同：0
> 
> 时间：2013-02-22T05:29:25.177
> 
> 标签：button, grid, tkinter

请看一下这段代码。

```
#normal template stuff
from Tkinter import *
from PIL import Image, ImageTk
win=Tk()
win.geometry('+0+0')
win.title(" Borderlands 2 Chicks")
#How to add intro photo
img = Image.open("intro.gif")
intro = ImageTk.PhotoImage(img)
right = Label(win, image=intro)
right.grid(row=0, column=1, rowspan=5)

#defernitions to call photos
def but1():
img = Image.open("captain_scarlett.gif")
intro = ImageTk.PhotoImage(img)
right1 = Label(win, image=intro)
right1.grid(row=0, column=1, rowspan=5,)    

def but2():
img = Image.open("Ellie.gif")
intro = ImageTk.PhotoImage(img)
right = Label(win, image=intro)
right.grid(row=0, column=1, rowspan=5)

def but3():
img = Image.open("Gaige Swin Suit.gif")
intro = ImageTk.PhotoImage(img)
right = Label(win, image=intro)
right.grid(row=0, column=1, rowspan=5)

def but4():
img = Image.open("Gaige.gif")
intro = ImageTk.PhotoImage(img)
right = Label(win, image=intro)
right.grid(row=0, column=1, rowspan=5)

#buttons on the left column
left1 = Button(win, text=" Captian Scarlet")
left1.configure(command=but1)
left2 = Button(win, text=" Button 2 ")
left2.configure(command=but2)
left3 = Button(win, text=" Button 3 ")
left3.configure(command=but3)
left4 = Button(win, text=" Button 4 ")
left4.configure(command=but4)
left1.grid(row=0, column=0)
left2.grid(row=2, column=0)
left3.grid(row=3, column=0)
left4.grid(row=4, column=0)

#how to get buttons to do something
def but1(): print "Button one was pushed"

mainloop() 
```

这个应用程序起初显示良好。我按下第一个按钮，右栏变成白色。我需要的是在我按下任何按钮后替换右栏中当前照片的代码。我一直在学习`Destroy()`，`grid_forget()`但我找不到适用于这个应用程序的示例代码。请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T14:52:42.460

问题是您在函数中创建图像并将对这些图像的引用存储在局部变量中。函数完成后，局部变量超出范围，图像对象被垃圾回收。您需要保持对图像的持久引用。

代码中的另一个问题是每次按下按钮时都会创建一个新图像和新标签。随着时间的推移，这将不必要地占用大量内存。您无需不断创建新的按钮和图像。创建图像后，您可以更改图像的标签。

例如，您可以创建一个简单的图像列表，然后在按下按钮时重新配置标签。这是我将如何做的一个例子：

```
import Tkinter as tk

class View(tk.Frame):
    def __init__(self, *args, **kwargs):
        tk.Frame.__init__(self, *args, **kwargs)
        self._initialize_images()
        self.right1 = tk.Label(self, image=self.images[0])
        self.right1.grid(row=0, column=1, rowspan=5)

        b1 = tk.Button(self, text="Button 1", command=self.set_image_1)
        b2 = tk.Button(self, text="Button 2", command=self.set_image_2)
        b3 = tk.Button(self, text="Button 3", command=self.set_image_3)
        b4 = tk.Button(self, text="Button 4", command=self.set_image_4)

        b1.grid(row=0, column=0)
        b2.grid(row=2, column=0)
        b3.grid(row=4, column=0)
        b4.grid(row=6, column=0)

    # these can all be consolidated into a single function with the number
    # passed in as a parameter. I chose not to do that since that might
    # add confusion for someone just learning how to write Tkinter code
    def set_image_1(self):
        self.right1.configure(image=self.images[1])
    def set_image_2(self):
        self.right1.configure(image=self.images[2])
    def set_image_3(self):
        self.right1.configure(image=self.images[3])
    def set_image_4(self):
        self.right1.configure(image=self.images[4])

    def _initialize_images(self):
        self.images = []
        self.images.append(tk.PhotoImage(file="intro.gif"))
        self.images.append(tk.PhotoImage(file="captain_scarlett.gif"))
        self.images.append(tk.PhotoImage(file="Ellie.gif"))
        self.images.append(tk.PhotoImage(file="Gaige Swin Suit.gif"))
        self.images.append(tk.PhotoImage(file="Gaige.gif"))

if __name__ == "__main__":
    root = tk.Tk()
    view = View(root)
    view.pack(side="top", fill="both", expand=True)
    root.mainloop() 
```

注意我选择使用面向对象的风格是因为它使创建 GUI 变得相当容易。使用一个类来定义你的主窗口为你提供了一个方便的地方来保持对其他对象的持久引用，而不会弄乱全局命名空间。

# informatica-powercenter - Error while reading source file name starts with a number in informatica

> ID：15017503
> 
> 赞同：2
> 
> 时间：2013-02-22T05:29:43.760
> 
> 标签：informatica-powercenter, informatica

The source file name in my project starts with a number for example `20070908abcd.csv`. Informatica is not allowing to read the source in the designer and displays the following message:

```
The first character in this name cannot be a number. 
```

Could you please let me know how to handle as many source files are of this format?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T08:26:34.107

The name of a source file can start with a digit and it will be processed correctly. However, the first character in the name of a source transformation cannot be a number.

When importing a file, enter a correct name (by default, file name is used) for the new source that will be created:

![Flat File Import Wizard - PowerCenter](../Images/2096c84185b63154834a0134514772e3.png)

# jquery - Backbone Marionette，复合视图初始化两次

> ID：15017504
> 
> 赞同：8
> 
> 时间：2013-02-22T05:30:03.090
> 
> 标签：jquery, backbone.js, marionette, backbone-views

我正在使用一个复合视图，它的 $.dialog 调用它是 $el。

然后复合视图列出集合中的项目。

现在我尝试了多种方法来呈现集合项：在将其附加到视图之前和之后从复合视图外部获取，在视图内部获取，从我的服务器脚本中预加载集合等...

一切似乎都有效，但出现同样的问题..

一旦复合视图看到这个集合，它就会再次调用它自己的初始化函数......

我完全理解将在集合重置或添加时调用渲染函数......但是初始化？？？我完全不知道为什么会这样。

```
showCustomFieldSelect: function(e){

    log('triggered');

    e.preventDefault();

    var cl = new AustApp.Collections.CustomField;

    var select = new AustApp.Views.AvailableCustomFieldsList({
        el: "#available-custom-fields-popup",
        collection: cl
    });

    cl.fetch();

    cl.once("reset", function(){
        // this bind was
        // previously used for creating the view
        // or calling render functions directly
        // amongst numerous efforts to debug

    }, this);

},

MyApp.Views.AvailableCustomFieldsList = function(){

var AvailableCustomFieldsList = Backbone.Marionette.CompositeView.extend({

    template: "#available-contact-list-custom-field-list-js",

    tag: "div",

    itemView: AustApp.Views.AvailableCustomFieldsListItem,

    emptyView: AustApp.Views.EmptyAvailableCustomFieldsListItem,

    itemViewContainer: "ul",

    templateHelpers: viewHelpers,

    initialize: function(){
        log('init called'); // called twice?????
        this.render();
        this.$el.dialog({
            title: "Available Custom Fields",
            width: '600px',
            modal: true,
            dialogClass: "round",
        });
    },
    /* stuff */
});

return AvailableCustomFieldsList;
}(); 
```

任何帮助表示感谢，因为我很困惑

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-07-09T09:04:39.533

对我来说，这是固定的（在我把头撞在桌子上几个小时之后），但要确保`ItemView`在**!!**`CompositeView`

**作品：**

```
MyItemView = Marionette.ItemView.extend({ /* STUFF */ })
MyCompView = Marionette.CompositeView.extend({ itemView: MyItemView }) 
```

**不起作用**（init 调用了两次，没有任何参数）：

```
MyCompView = Marionette.CompositeView.extend({ itemView: MyItemView })
MyItemView = Marionette.ItemView.extend({ /* STUFF */ }) 
```

即使我们在声明两者之后获得了 MyCompView 的实例也没关系，itemView 必须在 compsite 视图之前声明。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-25T00:28:47.823

所以我将问题缩小到在复合视图之后声明项目视图时，该复合视图也包含在另一个复合视图中。

将嵌套复合视图更改为项目视图解决了问题，但是...

所以将嵌套视图的声明移到集合视图的声明上方修复它......然后改变它发现嵌套复合视图在**声明处于正确顺序**时起作用。

我认为这应该不那么误导，因为复合视图的双重初始化只是简单的混淆，并且应该吐出关于未定义的 itemview 的错误，而不是如果可能的话 ^_^

谢谢

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-05-28T07:34:28.517

谢谢楼上的解释。

我有同样的问题。如果没有使用 Composite 视图定义 itemView，它会在每次其集合更改时调用其初始化函数。

我通过使用一个空视图作为项目视图来解决这个问题。

（我将我的复合视图用于其他目的，并且不需要带有它的项目视图。）

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-06-12T14:29:11.480

## 对于 RequireJS 用户和/或编译（最小化）JavaScript 的用户

我想补充一点，当丑化（最小化）你的 JavaScript 时，丑化引擎可能会乱序声明（即 CompositeView 和 ItemView 可能会像@Thomas Hudspith-Tatham 和 @simbolo 提到的那样以相反的顺序声明）。当使用 requireJS 模块化 Backbone.Marionette 并优化（编译）代码时，问题更为常见。

不幸的是，除了重新编译代码之外，我不知道对我有用的有保证的修复。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-01-12T07:16:20.030

我在分享我的经验。它可能对某人有所帮助。

我遇到了类似的问题。在 Initial 时，我认为事件被触发了两次，但实际上，它被监听了两次，这导致了异常的应用程序行为。

我的事件从复合视图（一个触发器）触发了一次，但由于 Contact 控制器的两个实例而被监听了两次（2 on）。

我通过确保我只有一个特定行为的侦听器（一个控制器实例）来修复（在我的情况下打开一个编辑对话框）。

笔记 。我的应用程序中有多个控制器，我正在使用 require 加载。

# c# - 使用 FileSystemWatcher 监视目录

> ID：15017506
> 
> 赞同：115
> 
> 时间：2013-02-22T05:30:07.850
> 
> 标签：c#, winforms, io, copy, filesystemwatcher

我正在使用 Windows 窗体应用程序来监视一个目录并将其中的文件移动到另一个目录。

目前它会将文件复制到另一个目录，但是当添加另一个文件时，它只会以没有错误消息结束。有时它会在第三个结束之前复制两个文件。

这是因为我使用的是 Windows 窗体应用程序而不是控制台应用程序吗？有没有办法可以阻止程序结束并继续观看目录？

```
private void watch()
{
  this.watcher = new FileSystemWatcher();
  watcher.Path = path;
  watcher.NotifyFilter = NotifyFilters.LastAccess | NotifyFilters.LastWrite
                         | NotifyFilters.FileName | NotifyFilters.DirectoryName;
  watcher.Filter = "*.*";
  watcher.Changed += OnChanged;
  watcher.EnableRaisingEvents = true;
}

private void OnChanged(object source, FileSystemEventArgs e)
{
  //Copies file to another directory.
}

public void Dispose()
{
  // avoiding resource leak
  watcher.Changed -= OnChanged;
  this.watcher.Dispose();
} 
```

* * *

## 回答 #1

> 赞同：158
> 
> 时间：2013-03-06T15:40:04.683

The problem was the notify filters. The program was trying to open a file that was still copying. I removed all of the notify filters except for LastWrite.

```
private void watch()
{
  FileSystemWatcher watcher = new FileSystemWatcher();
  watcher.Path = path;
  watcher.NotifyFilter = NotifyFilters.LastWrite;
  watcher.Filter = "*.*";
  watcher.Changed += new FileSystemEventHandler(OnChanged);
  watcher.EnableRaisingEvents = true;
} 
```

* * *

## 回答 #2

> 赞同：33
> 
> 时间：2013-02-22T06:18:14.123

您没有提供文件处理代码，但我假设您在第一次编写此类内容时犯了每个人都犯的相同错误：文件观察器事件将在文件创建后立即引发。但是，完成文件需要一些时间。以 1 GB 的文件大小为例。该文件可能由另一个程序创建（Explorer.exe 从某处复制它），但完成该过程需要几分钟。该事件在创建时引发，您需要等待文件准备好被复制。

您可以通过在循环中使用[此](https://stackoverflow.com/questions/1406808/wait-for-file-to-be-freed-by-process/1406853#1406853)函数来等待文件准备好。

* * *

## 回答 #3

> 赞同：27
> 
> 时间：2013-02-22T06:18:58.877

原因可能是观察者被声明为方法的局部变量，并且在方法完成时被垃圾收集。您应该将其声明为类成员。尝试以下操作：

```
FileSystemWatcher watcher;

private void watch()
{
  watcher = new FileSystemWatcher();
  watcher.Path = path;
  watcher.NotifyFilter = NotifyFilters.LastAccess | NotifyFilters.LastWrite
                         | NotifyFilters.FileName | NotifyFilters.DirectoryName;
  watcher.Filter = "*.*";
  watcher.Changed += new FileSystemEventHandler(OnChanged);
  watcher.EnableRaisingEvents = true;
}

private void OnChanged(object source, FileSystemEventArgs e)
{
  //Copies file to another directory.
} 
```

# android - Android：以特定时间间隔以编程方式打开和关闭屏幕

> ID：15017508
> 
> 赞同：0
> 
> 时间：2013-02-22T05:30:17.847
> 
> 标签：android, screen-brightness

我需要创建一个应用程序，其中屏幕关闭一段时间（比如 10 秒）然后继续，显示一条消息 2 秒然后再次关闭。这会一直重复，直到单击按钮。（即。我想在单击按钮时停止此活动）。我已经尝试通过改变屏幕亮度来实现这一点。

我的代码有点像这样：

```
float dim = 0;
float bright = 1.0f;
WindowManager.LayoutParams lp=getWindow().getAttributes();
bright = Settings.System.getInt(getContentResolver(), Settings.System.SCREEN_BRIGHTNESS);
wait(2000);
lp.screenBrightness = dim;
wait(10000);
lp.screenBrightness = bright; 
```

如果我没记错的话，这应该可以正常工作。但是当我运行它时，它会变暗，然后显示发生错误，强制关闭消息。

任何帮助将不胜感激。

这是logcat错误：

```
02-22 11:12:50.804: D/AndroidRuntime(10871): Shutting down VM
02-22 11:12:50.804: W/dalvikvm(10871): threadid=1: thread exiting with uncaught exception (group=0x40018578)
02-22 11:12:50.859: E/AndroidRuntime(10871): FATAL EXCEPTION: main
02-22 11:12:50.859: E/AndroidRuntime(10871): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.wakelock/com.example.wakelock.WakeLock}:java.lang.IllegalMonitorStateException: object not locked by thread before wait()
02-22 11:12:50.859: E/AndroidRuntime(10871):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1651)
02-22 11:12:50.859: E/AndroidRuntime(10871):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1667)
02-22 11:12:50.859: E/AndroidRuntime(10871):    at android.app.ActivityThread.access$1500(ActivityThread.java:117)
02-22 11:12:50.859: E/AndroidRuntime(10871):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:935)
02-22 11:12:50.859: E/AndroidRuntime(10871):    at android.os.Handler.dispatchMessage(Handler.java:99)
02-22 11:12:50.859: E/AndroidRuntime(10871):    at android.os.Looper.loop(Looper.java:130)
02-22 11:12:50.859: E/AndroidRuntime(10871):    at android.app.ActivityThread.main(ActivityThread.java:3687)
02-22 11:12:50.859: E/AndroidRuntime(10871):    at java.lang.reflect.Method.invokeNative(Native Method)
02-22 11:12:50.859: E/AndroidRuntime(10871):    at java.lang.reflect.Method.invoke(Method.java:507)
02-22 11:12:50.859: E/AndroidRuntime(10871):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)
02-22 11:12:50.859: E/AndroidRuntime(10871):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:625)
02-22 11:12:50.859: E/AndroidRuntime(10871):    at dalvik.system.NativeStart.main(Native Method)
02-22 11:12:50.859: E/AndroidRuntime(10871): Caused by: java.lang.IllegalMonitorStateException: object not locked by thread before wait()
02-22 11:12:50.859: E/AndroidRuntime(10871):    at java.lang.Object.wait(Native Method)
02-22 11:12:50.859: E/AndroidRuntime(10871):    at java.lang.Object.wait(Object.java:395)
02-22 11:12:50.859: E/AndroidRuntime(10871):    at com.example.wakelock.WakeLock.onCreate(WakeLock.java:42)
02-22 11:12:50.859: E/AndroidRuntime(10871):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
02-22 11:12:50.859: E/AndroidRuntime(10871):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1615)
02-22 11:12:50.859: E/AndroidRuntime(10871):    ... 11 more 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T08:37:25.427

我使用处理程序解决了这个问题。对于任何将来的参考，这里是代码。

```
 float dim = 0.004f; // if you set this 0, it wont work. 0.004 is the least value
 float bright = 1.0f;
 Handler mHandler = new Handler();

    mHandler.post(new Runnable() {

                        @Override
                        public void run() {

                            lp.screenBrightness= bright;
                            getWindow().setAttributes(lp);                              
                            final Handler handler = new Handler(); 
                            Timer t = new Timer();                              
                            t.schedule(new TimerTask() { 
                                    public void run() { 
                                            handler.post(new Runnable() { 
                                                    public void run() { 
                                                    lp.screenBrightness=dim;
                                                    getWindow().setAttributes(lp);
                                                    } 
                                            }); 
                                    } 
                            }, 2000);   //  flashing of screen
                        }
                    }); 
```

# backbone.js - 不能破坏相关模型的视图

> ID：15017514
> 
> 赞同：0
> 
> 时间：2013-02-22T05:30:55.443
> 
> 标签：backbone.js, model-binding, destroy

我有一个模型正在表单视图中被销毁，我还需要它从列表视图中删除相关元素。

在我的表单视图中，我有

```
删除：函数（）{
        this.model.destroy();
        this.el.remove();
    }

```

在我的列表视图中，我有

```
初始化：函数（）{
    this.model.on('remove',this.delete);
},

删除：函数（）{
   警报（“删除”）；
   this.el.remove();
   this.el.unbind();
}

```

当我删除项目时，会触发 listView 中的删除，但出现错误`cannot call method remove of undefined`。

我也试过`$(this.el).remove()`了，但没有运气。listView 是从集合中添加到另一个视图中的

```
itemCollection.each(this.add);

 添加：函数（）{
    var create = new Myapp.Views.Items({model:item});
    $(this.el).append(create.el);
}

```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:46:11.533

1.  替换`this.el`为`this.$el`

2.  不要使用 delete 作为方法名

3.  从 更改`this.model.on('remove',this.delete);`为`this.model.on('remove',_.bind(this.delete, this));`

4.  [jsbin](http://jsbin.com/uraton/19/)

# iphone - 如何从 iPhone 中的字符串设置 UIImageView 值？

> ID：15017520
> 
> 赞同：1
> 
> 时间：2013-02-22T05:31:23.137
> 
> 标签：iphone, ios, ios6

我正在解析远程 XML 文件并将值存储在`NSArray`. 从我`NSScanner`用来获取特定图像并将其分配给`UIImageView`.

扫描并获取图像的 URL 链接后，我将其分配给 a`UIImageView`但它没有显示图像。我只得到一个空白的白色窗口。代码如下所示：

**我的视图控制器**

```
NSURL *url = [NSURL URLWithString:@"http://myXML.com/Category.xml"];
AGSParser *parser = [[AGSParser alloc] init];
if ([parser loadXMLByURL:url]){
   self.xmlProductsResults = parser.products;
   NSArray *myArray = [_xmlProductsResults objectAtIndex:0];
   NSString *string = [myArray description];
   NSString *url = nil;
   NSScanner *parser = [NSScanner scannerWithString:string];
  [parser scanUpToString:@"imageUrlString" intoString:nil];
  if (![parser isAtEnd]) {
     [parser scanUpToString:@"=" intoString:nil];
     NSCharacterSet *charset = [NSCharacterSet characterSetWithCharactersInString:@"\"'"];
    [parser scanUpToCharactersFromSet:charset intoString:nil];
    [parser scanCharactersFromSet:charset intoString:nil];
    [parser scanUpToCharactersFromSet:charset intoString:&url];
    NSLog(@"URL: %@",url);
 }
} 
```

当我签入时，`NSLog`我得到的字符串值为`http://myimage.com/image1.png`. 在我的视图控制器中，我将此图像 url 分配给 UIImageView，如下所示：

```
UIImageView *myImageView = [[UIImageView alloc] init];
myImageView.image = [UIImage imageNamed:url]; 
```

此处未分配图像。谁能建议我如何解决这个问题？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-22T05:33:23.457

`[UIImage imageNamed:url]`做成`[UIImage imageWithData:[NSData dataWithContentsOfURL:[NSURL URLWithString:url]]]`. _

对于您的其他问题，请查看 V-Xtreme 的答案

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-22T05:43:30.437

```
Application windows are expected to have a root view controller at the end of application launch 
```

当您的应用委托类中没有给出正在启动窗口的根视图控制器时，就会发生这种情况。

```
self.window.rootViewController = self.viewController;
[self.window makeKeyAndVisible]; 
```

# javascript - 如何创建新的 div 但出现在前一个 div 的下方？

> ID：15017521
> 
> 赞同：0
> 
> 时间：2013-02-22T05:31:23.747
> 
> 标签：javascript, html

我正在尝试创建两个以图像为背景的 div。那么如何让后面创建的 div 出现在已经存在的 div 下。正如我所知，它会出现在它上面。就像在 Photoshop 中一样，您可以前后移动图层。关于我应该使用什么代码的任何建议？

这是我的代码。所以我希望“mist” div 出现在“gaze” div 下。

```
var gaze= document.createElement('div');
        gaze.setAttribute("id", "gaze");
        gaze.setAttribute("style", "width:716px; height: 158px; background-image: url(images/gaze.png); opacity:1.0; position:absolute; left: "+window.innerWidth*0.187+"px; top: "+window.innerHeight*0.202+"px")
        document.body.appendChild(gaze);
        gaze.addEventListener('click',fadeIn, false);
        dim();
    }

    function dim () {
        gaze = document.getElementById("gaze");
        gaze.style.cursor = "pointer";
        gaze_opacity = parseFloat(gaze.style.opacity).toFixed(1);
        gaze_opacity-= .1;
        gaze.style.opacity=gaze_opacity;
        if (gaze_opacity>0.1) {
            setTimeout('dim()', 300);
        }
    }

    function fadeIn() {
        gaze = document.getElementById("gaze");
        gaze.style.opacity = 1.0;
        gaze.removeEventListener('click',fadeIn,false);
        gaze.addEventListener('click',mist, false);
    }

    function mist() {
        var mist= document.createElement('div');
        mist.setAttribute("id", "mist");
        mist.setAttribute("style", "width:1048px; height: 720px; background-image: url(images/mist.png); opacity:1.0; position:absolute; left: "+window.innerWidth*0+"px; top: "+window.innerHeight*0+"px")
        document.body.appendChild(mist); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:36:50.200

是的，您可以`z-index`在 CSS 中使用属性。`z-index`为您希望出现在顶部的 div赋予更多价值，并为您希望出现在下方的 div 赋予较小的“z-index”值

`<div id="Topdiv"style="position:absolute;z-index:1000;top:100px;left:100px">`

**这将是最重要的**

> > `</div>`

```
 <div id="Bottomdiv"style="position:absolute;z-index:1;top:100px;left:100px"></div> 
```

对于您共享的代码，在 document.ready 函数中添加以下行

```
$("#mist").css("z-index","1000); 
```

# mysql - 如果满足第一个条件，则选择一行并丢弃以下条件

> ID：15017522
> 
> 赞同：0
> 
> 时间：2013-02-22T05:31:49.407
> 
> 标签：mysql, sql, select

这就是我想要实现的目标：

```
SELECT  * 
FROM  ventas WHERE (
posicion = 'cc21' 
AND inic < NOW() 
AND fin > NOW()
) ELSE (
WHERE posicion = 'cc21' 
AND fijo = 1)
ELSE ( WHERE posicion = 'cc21' 
AND hits < limite ) 
AND contenido = 'notas' 
LIMIT 1 
```

我已经在这个站点中尝试了 JOIN 和其他示例，但似乎没有为我指出这个特殊情况的正确方向，感谢任何帮助:)

这不起作用

```
 SELECT 
      TOP (1) * 
    FROM
      ventas 
    WHERE posicion = 'cc21' 
      AND (inic < NOW() AND fin > NOW()) 
      OR (fijo = 1) 
      OR (hits < limite) 
      AND contenido = 'notas' 
    LIMIT 1 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:36:25.637

您可以直接使用`OR`

```
SELECT  * 
FROM    ventas 
WHERE   
        (
            (posicion = 'cc21' AND inic < NOW() AND fin > NOW())
            OR
            (posicion = 'cc21' AND fijo = 1)
            OR
            (posicion = 'cc21' AND hits < limite ) 
        )
        AND 
        contenido = 'notas' 
LIMIT   1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:56:07.050

最后在潜水并没有找到鱼之后，我求助于这个：

```
$cc21 = mysqli_query($not,"SELECT * FROM ventas WHERE posicion = 'cc21'
AND inic < NOW() AND fin > NOW() and contenido = 'notas' LIMIT 1");
if (mysqli_num_rows($cc21) == 0) {
$cc21 = mysqli_query($not,"SELECT * FROM ventas WHERE posicion = 'cc21'
AND fijo = '1' and contenido = 'notas' LIMIT 1");
if (mysqli_num_rows($cc21) == 0) {
$cc21 = mysqli_query($not,"SELECT * FROM ventas WHERE posicion = 'cc21' AND hits < limite AND  contenido = 'notas' LIMIT 1");
}
} 
```

它既不干净也不紧凑，但它完成了工作；）

为大家提供宝贵的帮助

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T05:42:36.017

您需要使用 TOP 子句来获取第一行。

至于您查询的其余部分，我真的很难理解。但是，您需要使用 AND 和 OR 运算符来完成这项工作。您可以使用括号（方括号）对它们进行分组。

SELECT TOP (1) * FROM ventas WHERE position = 'cc21' AND ( (A AND B) OR (C) OR (D))

希望这可以帮助。

# maven - Maven3 插件库

> ID：15017530
> 
> 赞同：3
> 
> 时间：2013-02-22T05:32:53.650
> 
> 标签：maven, soap, maven-2, maven-3

谁能告诉我为什么我的 Maven3 无法从[http://repo.maven.apache.org/maven2/org/mortbay/jetty/jetty-maven-plugin/6.1.20/jetty-maven-下载码头插件插件 6.1.20.pom](http://repo.maven.apache.org/maven2/org/mortbay/jetty/jetty-maven-plugin/6.1.20/jetty-maven-plugin-6.1.20.pom)？

我还包含了 eviware 和 jetty 插件来自动化 SOAP UI 测试用例。

如果有人可以建议我做错了什么，那将很有帮助。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-12-06T17:01:55.643

你可以改变存储库的布局，像这样

```
<repository>
<id>CentralRepository</id>
<name>CentralRepository</name>
<url>http://repo.maven.apache.org/maven2/org/mortbay/jetty/</url>
<layout>version</layout>
<releases>
<enabled>true</enabled>
</releases>
<snapshots>
<enabled>true</enabled>
</snapshots>
</repository> 
```

# jsp - 在 JSP 中单选按钮异常

> ID：15017538
> 
> 赞同：0
> 
> 时间：2013-02-22T05:33:48.800
> 
> 标签：jsp, radio-button

我做了两个这样的单选按钮：

```
<input type="radio" name="One" value="Send To All" checked="checked" />  
    <input type="radio" name="One" value="Send To Recent" /> 
```

但是当我尝试通过以下代码行获取单选按钮的值时：

```
request.getParameter("Send To All"); 
```

我`NullPointerException`在同一条线上得到了一个。那么谁能告诉我获得单选按钮价值的正确方法？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T05:43:07.967

实际上在服务器端，我们可以通过`name`属性而不是`value`属性访问表单值

所以应该是

```
request.getParameter("One"); 
```

并且它自己的行不会给出空指针异常，如果没有具有该名称的参数，它会返回空值。

正如评论的那样，您必须检查

```
 if(request.getParameter("One").equals("Send To All"){
       //TO DO
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-18T08:00:23.303

```
String value= request.getParameter("One");// used to get the value 
out.println(value); 
```

它会起作用的

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T05:37:06.840

它应该是`request.getParameter("One");`

# android - 在从适配器中选择的项目上更改列表视图的背景图像

> ID：15017539
> 
> 赞同：1
> 
> 时间：2013-02-22T05:33:51.477
> 
> 标签：android

在我的 listadapter 的 getView 方法中，当我在列表中选择一个项目时，我希望这个选定的项目背景图像采用特定图像，而列表中的其他项目采用默认背景图像。我实现了一个for循环来执行此操作，但是当我从行中选择一个项目时，背景图像不会改变..我们可以通过单击按钮来更改背景图像吗？我哪里错了，因为我相信我的代码没问题。这是选中项目的部分。

位置 = 位置；

```
 size = main.items.size()-1;

    holder.row.setOnClickListener(new OnClickListener() {

        @Override

        public void onClick(View v) {

            int x = position + 1;

               for (int i=0;i<size;i++){

                   holder.row.setBackgroundResource(R.drawable.layer_unselected);

                   holder.text.setTextColor(Color.WHITE);

                   if (x==main.items.size()-1){

                       holder.row.setBackgroundResource(R.drawable.layer_selected);

                       holder.text.setTextColor(Color.BLACK);

                   }    

               }

               System.out.println("selected layer: "+ x );

               System.out.println("selected layer pos: "+pos);

               System.out.println("selected layer size: "+size);

               main.selectItem(position+1);

        }
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:40:55.063

代替

```
holder.row.setBackgroundResource(R.drawable.layer_unselected);
holder.row.setBackgroundResource(R.drawable.layer_selected); 
```

和

1.  对于按钮背景

    ```
    holder.row.setBackgroundDrawable(getResources().getDrawable(R.drawable.layer_unselected));
    holder.row.setBackgroundDrawable(getResources().getDrawable(R.drawable.layer_selected)); 
    ```

2.  对于 ImageView 背景

    ```
    holder.row.setImageDrawable(getResources().getDrawable(R.drawable.layer_unselected));
    holder.row.setImageDrawable(getResources().getDrawable(R.drawable.layer_selected)); 
    ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T05:57:37.810

我的列表适配器

```
private class MyListAdapter extends BaseAdapter 
{

    private List<HashMap<String,String>> List;
    private LayoutInflater mInflater;
    private int layoutresource;

    public MyListAdapter(Context context,int resource,List<HashMap<String, String>> myList) {
        List = myList;
        mInflater = LayoutInflater.from(context);
        layoutresource = resource;
    }

    @Override
    public int getCount() {
        return List.size();
    }

    @Override
    public Object getItem(int position) {
        return List.get(position);
    }

    @Override
    public long getItemId(int position) {
        return position;
    }

    @Override
    public View getView(final int position, View convertView, ViewGroup parent) {

        if (convertView == null) {
            convertView = mInflater.inflate(layoutresource,null);
        }    

        final View rootView = convertView.findViewById(R.id.root);

        Button btnFav = (Button) convertView.findViewById(R.id.btnFav); 
        MyTextView name = (MyTextView) convertView.findViewById(R.id.textName);
        MyTextView variety = (MyTextView) convertView.findViewById(R.id.textVariety);
        MyTextView price = (MyTextView) convertView.findViewById(R.id.textPrice);

        btnFav.setBackgroundDrawable(getResources().getDrawable(R.drawable.remove_fav_button_selector));
        name.setText( List.get(position).get(TAG_NAME));
        variety.setText(List.get(position).get(TAG_VARIETY));
        price.setText(List.get(position).get(TAG_PRICE));

        rootView.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                finish();
                Intent in = new Intent(MainActivity.this, DetailsActivity.class);
                in.putExtra("ID", List.get(position).get(TAG_ID));
                startActivity(in);
            }
        });

        return convertView;
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T06:19:27.370

text_color_selector.xml

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">

<item android:state_pressed="true" android:color="#ff8800"/>
 <!-- pressed -->
<item android:state_focused="true" android:color="#ff8800"/>
 <!-- focused -->
<item android:color="@color/textColor"/>
<!-- default -->

</selector> 
```

主要的.xml

```
<Button
       android:id="@+id/button1"
       android:layout_width="0dp"
       android:layout_height="match_parent"
       android:text="Button"
       android:textColor="@drawable/text_color_selector" /> 
```

# paypal - PayPal Pro：检查无效的信用卡号码是否足够？

> ID：15017544
> 
> 赞同：0
> 
> 时间：2013-02-22T05:34:25.127
> 
> 标签：paypal, luhn

在进行 PayPal Pro 付款之前，我使用 Luhn 算法检查信用卡号。我知道这只能排除无效号码，而不是恶意攻击（有效但非真实号码）。

这种方式仍然被认为是可以接受的，还是任何在线支付系统都绝对有必要检查 CC 号码是否真实意味着它们与真实卡匹配？如果是，那么有没有一种简单的方法可以实现这一目标？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:12:24.480

虽然这不是绝对必要的，但验证卡将帮助您控制可能对客户体验产生负面影响的变量。这不能保证有足够的信用额度来完成订单，但它可以解决更常见的拼写错误和类似问题。

这是[PayPal 对流程的描述](https://cms.paypal.com/ca/cgi-bin/?cmd=_render-content&content_ID=developer/howto_admin_authcapture)，他们称之为授权/捕获。这是包含[对 Authorization/Capture 的 API 调用](https://www.x.com/developers/paypal/documentation-tools/paypal-payments-pro/integration-guide/WPWebsitePaymentsPro)的文档页面。

# c# - 如何在asp.net中设置gridview单元格背景颜色

> ID：15017548
> 
> 赞同：0
> 
> 时间：2013-02-22T05:35:15.800
> 
> 标签：c#, asp.net, gridview

我在 Gridview 中有 20 行和 10 列数据。
我必须设置特定的单元格背景颜色灰色，如 [1 行][1 列]，[3 行][1 列]。
我写了这行

```
code.grdsellthru.Rows[3].BackColor = System.Drawing.Color.Gray; 
```

但颜色正在应用总行。
我只需要应用第 3 行第 1 列。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:36:31.253

> 颜色正在应用总行。我只需要应用第 3 行 1 列

您需要`Cell`与 Row 一起指定，例如：

```
grdsellthru.Rows[3].Cells[1].BackColor = System.Drawing.Color.Gray; 
```

# c++ - 内存泄漏和类属性

> ID：15017549
> 
> 赞同：0
> 
> 时间：2013-02-22T05:35:22.680
> 
> 标签：c++

我一直在写一个游戏，我记得在以前的合作中，我正在开发一个视频解码器，它会在使用 5 分钟后崩溃，因为没有剩余的内存。

我的老板花了一整天的时间试图修复它，第二天回来看我有点生气，因为他告诉我我没有将每个类成员属性都放在构造函数的初始化列表中。

它是一个 int 或其他一些数据/原语。现在我认为一个类中的东西是用默认值初始化的，而不是受到地址上任何东西的影响。我从来没有真正想过要问这个问题，直到现在我也在做同样的事情，所以我想澄清一下。

假设我这样做：

```
#pragma once
#include "GameState.h"
#include "GameGrid.h"

class Shape;

class PlayState : public GameState
{

....

private:
sf::Clock _keyPressClock;

Shape *_droppingShape;
int generateShapeID();
int generateHorizSpawnPos();
}; 
```

如果我的所有构造函数初始化都是指针：

```
PlayState::PlayState() : _droppingShape(NULL) {} 
```

这是不好的做法还是确实会导致内存泄漏？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T05:36:34.687

好习惯？是的，特别是。对于指针，因为`NULL`/`nullptr`是我们知道指针不指向对象的唯一方法。

内存泄漏？不，没有分配 => 没有泄漏。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T05:48:39.647

> 现在我认为一个类中的东西是用默认值初始化的，而不是受到地址上任何东西的影响。

嗯，这是部分正确的，因为成员变量是在执行对象的构造函数时构造的。但是，基本类型（如整数、指针等）[没有构造函数](https://stackoverflow.com/questions/5113365/do-built-in-types-have-default-constructors)，因此您不能依赖它们来使用任何特定的东西进行初始化（[另请参阅this](https://stackoverflow.com/questions/2417065/does-the-default-constructor-initialize-built-in-types)）。

在初始化列表中初始化这些类型通常被认为是一种很好的做法，但如果在开始使用它们之前在其他地方初始化它们，这并不总是必要的。

除非您先分配一些内存，否则您不会发生内存泄漏，但如果您`delete`的指针具有一些随机值，您肯定会遇到一些错误（甚至可能是无声的），因为它没有用`nullptr`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T05:41:24.927

IIRC，如果未在初始化程序列表中显式初始化，则使用“默认构造函数”初始化成员变量。您可以稍后将值分配给构造函数主体中的成员变量，但这效率较低。

至于内存泄漏，这些只会在您使用`new`或分配内存时发生`new[]`。只要你不使用这些，那么就没有内存泄漏。但是，如果您使用指针，则此分配将发生在某处，即使它隐藏在`auto_ptr`.

# android - 哪个版本对游戏领域的初学者有用 AndEngine gles1 或 gles2？

> ID：15017552
> 
> 赞同：1
> 
> 时间：2013-02-22T05:35:32.513
> 
> 标签：android, game-engine

我是游戏开发的新手。我发现 AndEngine 对初学者有好处，所以我选择了它，但是其中有 2 个版本 gles1 和 gles2 我尝试了两个示例代码，发现 gles2 代码没有在 enulator 上运行，它需要实际设备..！在 gles2 那里也是 BaseGameActivity 和 SimpleBaseGameActivity。所以，我有点困惑哪个是最好的。？请帮我？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T05:45:09.350

GLES1 将不再受到积极支持。对于初学者来说，这不是什么更容易的问题，它只是 GLES2 支持新版本的 OPENGL。肯定去 GLES2，毫无疑问。祝你好运！

# ios - 故事板、XIB 和推送

> ID：15017554
> 
> 赞同：0
> 
> 时间：2013-02-22T05:35:37.400
> 
> 标签：ios, xcode, storyboard, push

我的第一个应用程序很重故事板（因为它使用故事板按钮推送到新的视图控制器）。

我刚刚添加了一个 tableviewcontroller，它（以编程方式）推送到我的一个故事板视图控制器。

结果，当我执行以下操作时，任何未添加到实现文件中的元素都会丢失：

```
 [self.navigationController pushViewController:[[secondViewController alloc]   
    initWithNibName:nil bundle:nil] animated:YES]; 
```

而不是拖放 segue 箭头。

即使推送不是来自情节提要，是否有办法确保情节提要对象加载？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T05:41:47.133

您可以考虑以编程方式执行 segue，而不是推送视图控制器。您可以通过调用来做到这一点`[self performSegueWithIdentifier:@"Segue Identifier" sender:self]`。现在，您的 segue 的执行方式与从情节提要中执行的方式相同，但发送者不同。您当然可以将此发件人设置为您想要或需要的任何内容。

# php - 检查字符串是否不包含 PHP 中的任何字母字符？

> ID：15017563
> 
> 赞同：0
> 
> 时间：2013-02-22T05:36:08.740
> 
> 标签：php, regex, string, preg-replace

有没有办法找出字符串是否不包含任何字母字符？

我正在考虑进行正则表达式匹配。但是努力去做。

基本上我想将“不包含任何字母字符的字符串”替换为空。

希望我对我的问题很清楚。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T05:38:00.727

```
$str     = '1234';
$replace = "test";

$res     =  preg_replace('/^[^a-zA-Z]*$/',$replace,$str);

var_dump($res); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-22T05:45:29.240

试试下面的代码...

它可能会帮助你...

```
 $myString="abC123";

   if( preg_match('([a-zA-Z])', $myString) ) 
   { 
      echo('The string contains letters.');
   }
   else 
   {
      echo('The string contains no letters.');
   } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T05:40:32.437

试试这个

```
if (preg_match('/[A-Za-z]/', $myString))
{
    echo 'Contains at least one character';
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T05:53:37.687

你的问题令人困惑。
因此，如果字符串中没有字母字符，您想将 NULL 分配给字符串，对吗？您可以进行基本检查并更换它。

```
if (!preg_match('/[A-Za-z]/', $str))
{
   $str=NULL;
} 
```

如果 $str 没有任何字母，则在此阶段它将变为 null。祝你好运！

# jquery - Jquery - 检查收音机后在最近的跨度类中设置文本

> ID：15017565
> 
> 赞同：0
> 
> 时间：2013-02-22T05:36:16.383
> 
> 标签：jquery, radio

我正在尝试添加用户从收音机中检查的值，并将其显示在具有相应标题的类“用户集”的跨度中。问题是当它显示该值时，它会显示在具有“用户集”的跨度类的所有标题上。

这是一个例子：http: [//jsfiddle.net/fPWY3/](http://jsfiddle.net/fPWY3/)

```
<div class='accordion'>
  <div class='heading'>
     <img src=''> heading <span class='f12'>info</span> <span class='user-set'></span>
  </div>
  <div class='items'>
     <input type='radio' class='next' name='theName' id='theName1'><label for='theName1'>thisIsMyValue 1</label>
  </div>
  <div class='items'>
     <input type='radio' class='next' name='theName' id='theName2'><label for='theName2'>thisIsMyValue 2</label>
  </div>

  <div class='heading'>
     <img src=''> heading 2<span class='f12'>info</span> <span class='user-set'></span>
  </div>
  <div class='items'>
     <input type='radio' class='next' name='theName2' id='theName3'><label for='theName3'>thisIsMyValue 3</label>
  </div>
  <div class='items'>
     <input type='radio' class='next' name='theName2' id='theName4'><label for='theName4'>thisIsMyValue 4</label>
  </div>
</div> 
```

如果我单击“thisIsMyValue 3”，我该怎么做，该值将显示在跨度上，仅标题 2 中的用户设置类？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T05:53:11.347

使用[`.prevAll()`](http://api.jquery.com/prevAll/)和[`.first()`](http://api.jquery.com/first/)。

```
$(this).parent().prevAll('.heading').first().find('.user-set').text(val); 
```

这是jsfiddle。[http://jsfiddle.net/fPWY3/2/](http://jsfiddle.net/fPWY3/2/)

# c# - 从 WPF 打印

> ID：15017566
> 
> 赞同：0
> 
> 时间：2013-02-22T05:36:18.030
> 
> 标签：c#, wpf, xaml, printdialog

我有一个 WPF 数据输入屏幕/窗口，我想为其提供打印输出。（准确地说，它是一个用户控件，我已经将它作为我要打印的 TabControl 中的 TabItem 来工作。）

为了打印得很好，我做了几个布局转换，将窗口缩放到纸张大小，并更改应用程序的皮肤。“打印皮肤”将背景更改为白色，并删除标题标签上的背景等。

这非常有效 - 虽然我有`MessageBox.Show()`提示告诉我发生了什么。

然而，当我拿出Messagebox.Show提示时，我发现我所有的打印魔法都不起作用了，就好像整个打印方法只是：`PrintVisual();`在UserControl上。（我已将其范围缩小到一个 MessageBox，如果不破坏事物就无法摆脱它。）

代码（抱歉这么长，我添加了批量评论）：

```
private void PrintStatements()
{
  PrintDialog print = new PrintDialog();

  /// Needed data
  PrintCapabilities capabilities = print.PrintQueue.GetPrintCapabilities(print.PrintTicket);
  double pageMargin = 1 / 2.54;   // 1cm
  double pageWidth = capabilities.PageImageableArea.ExtentWidth - (pageMargin);
  double pageLength = capabilities.PageImageableArea.ExtentHeight - (pageMargin);
  Size pageSize = new Size(pageWidth, pageLength);
  ResourceDictionary resources = new ResourceDictionary();

  bool canPrint = print.ShowDialog() ?? false;
  if (canPrint)
  {
    double tabWidth = StatementsTabCtrl.ActualWidth;
    double tabHeight = StatementsTabCtrl.ActualHeight;

    /// 1\.  Get tab item content ('currentTabContent') 
    StatementsTabItem currentTabContent = StatementsTabCtrl.SelectedContent as StatementsTabItem;

    /// 2\.  Get Original Specs of currentTabContent
    ResourceDictionary origSkin = Application.Current.Resources;
    Size origSize = new Size(currentTabContent.ActualWidth, currentTabContent.ActualHeight);
    Transform origTransform = currentTabContent.LayoutTransform;

    /// 3\.  Transform currentTabContent (expose print panels, move stuff around etc) - 
        //do this inside TabItem class
    currentTabContent.SetupPrinting();

    /// 4\.  Make changes outside TabItem (skin, page-scale)
        // skin
    resources.MergedDictionaries.Add(Application.LoadComponent(new Uri(@"Skin/PrintDictionary.xaml", UriKind.Relative)) as ResourceDictionary);
    Application.Current.Resources = resources;
        // page-scale
    double scale = Math.Min(pageWidth / currentTabContent.ActualWidth,
                            pageLength / currentTabContent.ActualHeight);

    // ****Uncomment next line - printing magic works.**** //
    // MessageBox.Show(string.Format("scaling by {0}", scale));
    System.Threading.Thread.Sleep(250);

    currentTabContent.LayoutTransform = new ScaleTransform(scale, scale);

    //Measure and Arrange
    currentTabContent.Measure(pageSize);
    ((UIElement)currentTabContent).Arrange(new Rect(
         new Point((capabilities.PageImageableArea.OriginWidth + pageMargin),
             (capabilities.PageImageableArea.OriginHeight + pageMargin)), pageSize));

    System.Threading.Thread.Sleep(250);

    /// 5\. Print (Finally!)
    print.PrintVisual(currentTabContent, "Print Results");

    /// 6\. Return everything to normal (undo 3, then 4)
        // undo 3.
    currentTabContent.TearDownPrinting();
        // undo 4.
    Application.Current.Resources = origSkin;
    scale = Math.Max(currentTabContent.ActualWidth / pageWidth,
                                    currentTabContent.ActualHeight / pageLength);
    currentTabContent.LayoutTransform = new ScaleTransform(1 / scale, 1 / scale);

    currentTabContent.Measure(origSize);
    ((UIElement)currentTabContent).Arrange(new Rect(0, 0, tabWidth, tabHeight));
  }
} 
```

如您所见，我尝试添加一些`System.Threading.Thread.Sleep(250);`以防需要更多时间来识别更改，但这没有任何效果。电话的怪异`PrintDialog()`是出于类似的原因。以通常的方式调用它没有区别。

谁能告诉我为什么我的打印功能在没有 MessageBox 调用的情况下无法工作，或者告诉我如何模拟 MessageBox 调用以使程序正常工作？很多很多 TIA

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-18T14:42:27.747

您可能缺少的部分是`MessageBox.Show();`刷新了 UIElement

因此，如果您使用以下代码手动刷新 UIElement 就足够了

```
 ui.Measure(new Size(double.PositiveInfinity, double.PositiveInfinity));// activates ui.InvalidateMeasure(); 
  ui.Arrange(new Rect(new Point(0, 0), ui.DesiredSize));                 // activates ui.InvalidateArrange();

  ui.UpdateLayout(); // <-- refreshed your UIElement 
```

这至少在我的情况下有效

旁注：
您不应该直接调用，`ui.Invalidate...`因为如果您不更改 Measure 或 Arrange 因为`UpdateLayout()`不会刷新您的`UIElement`AFAIK

# android - Android 验证错误问题

> ID：15017568
> 
> 赞同：1
> 
> 时间：2013-02-22T05:36:18.887
> 
> 标签：android, android-logcat

编辑：更清楚地说，它只发生在 android 2.2 上，大家好，请帮我解决这个问题。我一天收到此报告 12 次，即使我安装了 1000 次以上。这个问题现在开始出现。这是它的logcat。请告诉我出了什么问题，因为我无法弄清楚。

```
 java.lang.VerifyError: com.style.me.Smaller
at java.lang.Class.newInstanceImpl(Native Method)
at java.lang.Class.newInstance(Class.java:1429)
at android.app.Instrumentation.newActivity(Instrumentation.java:1021)
at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2577)
at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
at android.app.ActivityThread.access$2300(ActivityThread.java:125)
at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:123)
at android.app.ActivityThread.main(ActivityThread.java:4627)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:521)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:863)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:621)
at dalvik.system.NativeStart.main(Native Method) 
```

# mule - 在 jboss 4 中部署 Mule 时出错

> ID：15017570
> 
> 赞同：0
> 
> 时间：2013-02-22T05:36:22.203
> 
> 标签：mule

[如mule to war](http://somaniab.blogspot.in/2012/12/steps-to-deploy-mule-esb-application-on.html)中所述，我已将我的mule项目手动转换为war文件，并且我已经适当地更改了web.xml并使用servlet端点更改了http端点，但是在部署该war时，我在jboss 4中遇到了问题。

> 2013-02-21 13:35:47,236 调试 [org.mule.config.builders.MuleXmlBuilderContextListener] Mule 配置文件：sampleBkg.xml 2013-02-21 13:35:47,236 错误 [org.apache.catalina。 core.ContainerBase.[jboss.web].[localhost].[/sampleBkg-war]] org/apache/commons/lang/StringUtils java.lang.NoClassDefFoundError: org/apache/commons/lang/StringUtils

注意：我的 mule-config xml 名称是 sampleBkg.xml，我也在 web.xml 文件中提到过。

另一个例外，然后是第一个例外。

> 2013-02-21 13:49:25,497 错误 [org.apache.catalina.core.ContainerBase.[jboss.web].[localhost].[/sampleBkg-war]] 向 org 类的侦听器实例发送上下文初始化事件的异常.mule.config.builders.MuleXmlBuilderContextListener java.lang.NoClassDefFoundError: org/apache/commons/lang/StringUtils

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T18:11:00.463

[classnotFoundExcption 和 noCLassDefFound Error 之间](http://somaniab.blogspot.in/2013/02/classnotfoundexception-vs.html) 的区别，因为错误说它是 NoClassDefFoundError ，这意味着这个类在 classpath 中，但它依赖于不属于这个 jar 的其他一些类。尝试找出 commons lang jar 的依赖关系。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T17:55:48.107

您的网络应用程序 WEB-INF/lib 中似乎缺少 commons-lang 和 mule-module-builders JAR。

# google-api - 错误的身份验证 ClientLogin 协议 Google Analytisc API？

> ID：15017572
> 
> 赞同：1
> 
> 时间：2013-02-22T05:36:26.047
> 
> 标签：google-api, google-analytics-api, google-authentication

在过去的几天里，我已经能够使用以下方法获得授权令牌：

```
curl https://www.google.com/accounts/ClientLogin -s -d Email=eric@company.com -d Password=xxxx-d accountType=GOOGLE -d service=analytics 
```

但它今天突然停止工作并返回`Error=BadAuthentication`。
我已经仔细检查了我的电子邮件地址和密码并使用了另一个帐户，但错误仍然存​​在。
我尝试过相同的命令，但`service=gmail`实际上我得到了回应。

出了什么问题？
（也许我最近几天一直在使用 Google Analytics API 来获取我网站的浏览量统计信息，超出了我的配额，结果我现在被阻止了？）

# xml - 在 Delphi 2010 中从 XML 中读取°度符号

> ID：15017578
> 
> 赞同：8
> 
> 时间：2013-02-22T05:36:38.607
> 
> 标签：xml, delphi, delphi-2010

***无法***从 Delphi 读取以下 XML ，因为它包含无效的 ° 符号：

```
V1:   <Item Id="1" Description="90° Hinge"/> 
```

似乎 Delphi***无法***识别在 XML 中执行此操作的“标准”方式：

```
V2:   <Item Id="1" Description="90&deg; Hinge"/> 
```

Delphi似乎***确实***可以处理这个问题：

```
V3:   <Item Id="1" Description="90&#176; Hinge"/> 
```

由于我从 RESTful Web 服务中获取数据，因此我并没有特别控制遇到的 XML 数据包，我只需要能够读取它们。

**问题**

1.  如果 V2 是标准的 XML 方式，那么为什么 Delphi 不支持呢？还是有一种我不知道的特殊方法来处理这个问题？
2.  V1 XML 一开始是不是格式不正确？如果是这样，我是否应该请求将 RESTful 接口更改为以 V3 格式导出°。

使用 Delphi 2010。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-22T06:27:11.030

Delphi 本身根本不解析 XML。第三方 XML 引擎，无论是 MSXML、OpenXML、AtomXML 等。TXMLDocument 组件和支持接口只是一个包装框架，大部分解析是由其他人完成的。

V1 可能格式错误，也可能不格式错误。这取决于 XML 的实际字符集。

V2实际上不是标准的。并非所有 XML 引擎都支持它。显然，您与 Delphi 一起使用的那个没有。

V3 是标准化的，所有 XML 引擎都支持该语法。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-02-22T08:16:12.943

```
V1:   <Item Id="1" Description="90° Hinge"/> 
```

在这里，您**直接对字符进行了编码**。您的代码是否可以解析这取决于您的 XML 文档使用的字符集。因此，如果您的 XML 文档使用 UTF-8 并且编码正确，那么您的 XML 代码将能够解析它。

```
V2:   <Item Id="1" Description="90&deg; Hinge"/> 
```

这使用**命名**实体*deg*。在 XML 中只有[五个预定义的命名实体](http://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Predefined_entities_in_XML)：*quot*、*amp*、*apos*、*lt*、*gt*。XML 文档可以定义其他命名实体，但这并不常见。因此，似乎*deg*不是您文档的有效命名实体。

```
V3:   <Item Id="1" Description="90&#176; Hinge"/> 
```

此版本使用[**数字字符引用**](http://en.wikipedia.org/wiki/Numeric_character_reference)NCR。您可以使用 NCR 来指定任何 Unicode 代码点。

* * *

至于你接下来应该做什么，我们可以立即排除命名实体。我还建议避免对所有非 ASCII 字符大量使用 NCR。这只会导致无法读取的文档。当然，如果您必须使用不支持 Unicode 的工具来处理文档，那么使用 NCR 是唯一的方法。

这样我们就可以直接编码非 ASCII 字符了。您应该确保您的 XML 使用 UTF-8 字符集正确编码，并且该方法将运行良好，并导致可读和干净的文档。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T15:08:19.583

只是详细说明大卫的回答，只要它们在当前编码中有效，XML 不排除文本节点中的任何值（除了极少数保留字符）。

您的问题中缺少一些事实：

1.  **您是否使用文本编辑器生成此 XML？** 如果这是真的，那么您必须检查保存文件时使用的编码。试试 UTF-8。如果您的文档是使用“windows”编码生成的，请尝试将编码属性添加到 XML 控件标记，即`<?xml version="1.0" encoding="iso-8859-1"?>`.

2.  **您是否使用 Delphi 字符串函数生成此 XML？** 如果是这种情况，Delphi 使用的编码默认为 UTF-8，但如果您从外部源读取片段，您可能会无意中将其与其他编码混合。对于这个问题没有灵丹妙药，除了使用您的 XML 库内置函数来创建 XML。

当我不得不处理这些事情时（对于 XML 签名，同样如此！）我对使用的任何字符串使用包装器，并使用显式编码（我使用`type Latin1String = type AnsiString(28591)`.）

# macos - Unity 无法更改 Mac OS X 中扬声器的采样率

> ID：15017579
> 
> 赞同：1
> 
> 时间：2013-02-22T05:36:44.903
> 
> 标签：macos, audio, unity3d, playback, sample-rate

我正在开发一个项目，其中一些音频数据需要在 Unity 4 中播放。输入数据的采样率为 24000 Hz（24kHz），通常系统中扬声器的默认采样率为 44100（44.1kHz）。在 Windows 中，我可以使用 AudioSettings.outputSampleRate = 24000; 毫无问题地更改此设备的采样率。但我发现在 Mac OS 中这是不可能的。即使我更改了它，如果我打印该值，我仍然得到 44100。有时我什至收到一条错误消息：

尝试从未存储在磁盘上的磁盘重新加载资产

所以我怀疑 Mac OS 禁止用户在用户的应用程序中更改这个值。

根据这里的描述：http: [//docs.unity3d.com/Documentation/ScriptReference/AudioSource.Play.html](http://docs.unity3d.com/Documentation/ScriptReference/AudioSource.Play.html)

我试图在 AudioSource.Play 中设置延迟值来解决它。由于 44100/24000*24000 = 44100，我所做的是：

```
myClip = AudioClip.Create("MySinoid", 24000, 1, 24000, false, false);
audio.loop = true;
audio.clip = myClip;
audio.Play(44100); 
```

但是运气不好，几乎一半的音频数据没有播放。有人遇到和我一样的问题吗？你的解决方案是什么？OnAudioFilterRead 以哪种方式播放？或 FixedUpdate + SetData？

非常感谢！！

# actionscript-3 - 具有透明度的 AS3 BitmapData fillRect 无法按预期工作

> ID：15017588
> 
> 赞同：0
> 
> 时间：2013-02-22T05:37:06.823
> 
> 标签：actionscript-3, alpha, bitmapdata, argb

我正在尝试在 32 位 BitmapData 上使用一些 fillRects（即透明度 = true 和 bg 颜色设置为 FFFF00FF（不透明洋红色）。例如我使用：

```
fillRect(rect, 0xFF0000FF); 
```

正如预期的那样，这将绘制一个不透明的蓝色矩形，但是......

```
fillRect(rect, 0x550000FF); 
```

这应该画一个半透明的蓝色矩形，对吧？但相反，我得到一个深蓝色的矩形，好像蓝色和黑色混合在一起（但背景是洋红色，记住，所以我希望蓝色与下面的洋红色混合？）。

如果我将颜色值设置为 0x000000FF，它应该给我 100% 的底层洋红色，但我得到 100% 黑色。

BitmapData 是用 32 位 ARGB 创建的，所以我想知道这里有什么问题？

似乎这是默认的 AS3 行为？创建一个小型测试类后，它的行为确实像我解释的那样......

```
package 
{
    import flash.display.Bitmap;
    import flash.display.BitmapData;
    import flash.display.Sprite;
    import flash.geom.Rectangle;

    public class Main extends Sprite
    {
        public function Main()
        {
            stage.color = 0x000000;
            var bd:BitmapData = new BitmapData(400, 300, true, 0xFFFF00FF);
            var b:Bitmap = new Bitmap(bd);
            addChild(b);

            bd.fillRect(new Rectangle(0, 0, 200, 200), 0x000000FF);
        }
    }
} 
```

您可能希望使用 fillRect 绘制的矩形是洋红色，但它显然采用舞台的背景颜色。现在我的问题是：

有没有办法获得所需的效果（fillRect alpha 适用于位图数据的 bg 颜色，而不是 Flash 阶段）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:35:53.393

您的问题是假设 fillRect 就像 Photoshop 中的一个工具，您可以在其中绘制半透​​明矩形并且它会自动混合。

不是，fillRect 只是将指定矩形区域中的所有位图像素设置为给定颜色。

您需要做的是创建具有所需大小和颜色的半透明位图，然后使用例如 draw 方法与您的工作位图（画布）合并，如下面的简化示例所示：

```
var whiteTransparent:BitmapData = new BitmapData(100, 100, true, 0x80FFffFF);
var blackCanvas:BitmapData = new BitmapData(400, 400, false, 0);

var canvas:Bitmap = new Bitmap(blackCanvas);

addChild(canvas);

blackCanvas.draw(whiteTransparent); 
```

此致

# javascript - Node.JS 放气/gzip 响应文本

> ID：15017589
> 
> 赞同：2
> 
> 时间：2013-02-22T05:37:07.823
> 
> 标签：javascript, node.js

[我看到了这里](http://nodejs.org/api/zlib.html#zlib_examples)显示的示例

```
response.writeHead(200, { 'content-encoding': 'deflate' });
raw.pipe(zlib.createDeflate()).pipe(response); 
```

我尝试通过创建读取流并发送压缩输出来发送响应。

但我正在寻找一种无需读取流的方法，因为我的文本来自另一个`HTTP`请求。我只是习惯`response.write(text);`

我尝试了几件事，包括

```
zlib.deflate(text, function (err, buffer) {
    if (err) throw err;
    response.write(buffer);
    response.end();
}); 
```

但是浏览器说`invalid or unsupported form of compression.`

我究竟做错了什么？

`connect`的代码说

```
return stream
    ? stream.write(new Buffer(chunk, encoding))
    : write.call(res, chunk, encoding); 
```

那么是否只处理流？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:48:15.323

你用的是快递吗？如果是这样，只需使用`compress`中间件：

```
app.use(express.compress()); 
```

[http://expressjs.com/api.html#compress](http://expressjs.com/api.html#compress)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T11:28:19.587

所以，我设法解决了这个问题。这是代码

```
var zlib = require('zlib');
var connect = require('connect');
var fs = require('fs');

var server = connect()
    // .use(connect.compress()) It didn't work either
    .use(function (req, res, next) {
        var text = fs.readFileSync('test.js');

        zlib.deflate(text, function (err, buffer) {
            if (err) throw err;

            res.writeHead(200, {
                'Content-Encoding': 'deflate',
                'Content-Type': 'text/javascript'
            });

            res.end(buffer);
        });
    })
    .listen(1337); 
```

我不知道我之前犯了什么错误导致它不起作用。我不确定是否有任何版本冲突导致了问题或其他原因。但最后，上面的代码对我有用；）

# python - 使用相同的 python 脚本将两个图像保存到两个单独的文件中

> ID：15017590
> 
> 赞同：1
> 
> 时间：2013-02-22T05:37:10.323
> 
> 标签：python

如何使用相同的 python 脚本将两个图像保存到两个单独的文件中。两个输出图像是相关矩阵和图形。我正在使用 matplotlib

```
imshow(matrix, interpolation='bilinear')
colorbar()
savefig('/home/sudipta/Downloads/phppython/'+ filename +'.png')
x = range(-width, width)
plt.plot(x, avg_vec)
plt.savefig('/home/sudipta/'+ filename +'plot' +'.png') 
```

当我运行这个脚本时，这些数字相互重叠。但是，我需要两个单独的图像。最初，我试图将这些图像保存在同一目录中。我以为可能有问题。然后我试图保存在不同的目录中。但是，我没有成功

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T07:43:51.573

我认为您应该在两者之间添加 pyplot.clf() 。

```
#plot your first image
pyplot.savefig('filename.ext') # ext is your chosen filetype. jpg, png, etc.

# clear the plot
pyplot.clf()

# plot your second image
pyplot.savefig('filename2.ext') 
```

函数 clf（清晰的图）从您正在绘制的当前轴中删除所有内容。

另一种选择是创建两个不同的图形对象。

```
# create figures and axes
fig0 = pyplot.figure()
ax0 = fig0.add_subplot(1, 1, 1)
fig1 = pyplot.figure()
ax1 = fig1.add_subplot(1, 1, 1)

# draw on ax0, e.g. with ax0.plot(...)
# draw on ax1

fig0.savefig('fig0.png')
fig1.savefig('fig1.png') 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-22T05:42:05.207

```
#plot your first image
pyplot.savefig('filename.ext') # ext is your chosen filetype. jpg, png, etc.

#plot your second image
pyplot.savefig('filename2.ext') 
```

# javascript - 如何识别一个javascript文件在Script中成功加载

> ID：15017593
> 
> 赞同：0
> 
> 时间：2013-02-22T05:37:22.000
> 
> 标签：javascript

我想从外部服务器添加一个 js 文件，比如

```
 <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false&libraries=geometry"></script> 
```

我如何识别文件是否以 **编程**方式成功加载（不在控制台中）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T05:40:54.110

在您的脚本标签下的 javascript 中，您可以检查该文件中的某些函数是否可以在您的代码中访问：

```
if (myFunction){
  //  file loaded successfully
} 
```

`myFunction`该文件中的某些功能在哪里

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T05:46:19.540

不使用包管理器（require.js），它依赖于库提供的回调。否则，只检查函数是否存在，如果不存在，请稍后再试

```
// Stop checking after 10 seconds
var scriptTimedOut = window.setTimeout(function() {
    window.clearInterval(checkIfLoaded);
    alert("Script took more than 10secs, so give up");
}, 10000);

// Check every 1 second if the function exists in the script yet
var checkIfLoaded = window.setInterval(function() {
    if (someFunctionInTheScript) {
        // The script is loaded so stop checking
        window.clearInterval(checkIfLoaded);
        window.clearTimeout(scriptTimedOut);
    }
}, 1000); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-22T05:39:23.023

在 Firefox 或 chrome 中打开您的页面。并检查网络流量（在 firebug 或 chrome 控制台中），看看是否可以看到 js 文件的内容。

# jquery - jquery - 如何将焦点返回到同一个文本框

> ID：15017600
> 
> 赞同：1
> 
> 时间：2013-02-22T05:37:52.320
> 
> 标签：jquery, textbox

我有 2 个文本框。如果第一个文本框是空的，当我点击选项卡时它不能继续到第二个文本框，否则用户会故意将焦点放在第二个文本框上。

**html**

```
<input type="text" id="txt1" />
<input type="text" id="txt2" /> 
```

**jQuery/javascript**

```
$("#txt1").keydown(function (e) {
    if (e.which == 9)  {
        if ($.trim($(this).val() == ""))
            $(this).focus();
     }
 });

if ($("#txt2").is(":focus")) {
    if ($.trim($("#txt1").val() == "")) 
         $("#txt1").focus();
} 
```

请看这个：http: [//jsfiddle.net/N8GAr/](http://jsfiddle.net/N8GAr/)

我需要这方面的帮助。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T06:02:38.160

像这样使用jquery 的[focus()函数](http://api.jquery.com/focus/)

```
$("#txt2").focus(function() {
        alert('abc');
        if ($.trim($("#txt1").val() == "")) 
             $("#txt1").focus();
    }); 
```

[**只需在Jsfiddle.net**](http://jsfiddle.net/KNEbj/3/)上查看您想要的结果[](http://jsfiddle.net/KNEbj/3/)

 *** * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T06:02:37.280

试试这个

```
$("#txt1").keydown(function (e) { 
if (e.which == 9)  {
    if ($.trim($(this).val() == ""))
        $(this).focus();
}
});
$("#txt2").focus(function(){
    if ($.trim($("#txt1").val() == "")) 
        $("#txt1").focus();
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T06:17:46.067

请在下面找到解决方案：

```
$(document).ready(function() {
    $("#txt2").focus(function(){
        if(!$("#txt1").val())
        $("#txt1").focus();
    });
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-22T06:20:56.090

您不需要在那里进行双重逻辑检查。例如，如果第一个字段为空，则此代码将不允许第二个字段聚焦。你想要这个，对吧？如果用户在第一个字段中按下制表符，它仍将保持第一个字段为焦点。如果第一个字段不为空，则只会移动到第二个字段。

```
$("#txt2").focus(function(e){
    if (!$.trim($("#txt1").val())) {
       $("#txt1").focus();
       return false;
    }
}); 
```**

# c - dlsym 后链接 .so 文件崩溃

> ID：15017603
> 
> 赞同：1
> 
> 时间：2013-02-22T05:38:13.107
> 
> 标签：c, dynamic-linking, shared-libraries

我有一个 libA.so，我想在那个动态库中使用一个函数。

我正在使用 DLOPEN program_handle = dlopen(program_so, RTLD_NOW); 它没有给出任何错误

我想访问一个函数“entry” fnPtr 是一个函数指针，它与头文件中提到的 entry 具有相同的签名。

*(void* *)fnPtr=dlsym(program_handle, "entry"); 这里 dlerror() 也没有显示任何错误。

当我调用 (*fnPtr)(args); **//在这条线上给我一个分段错误**

我被困在这一点上。请让我知道如何进行。

感谢和问候

# php - 单击php从新窗口下载图像

> ID：15017605
> 
> 赞同：0
> 
> 时间：2013-02-22T05:38:23.347
> 
> 标签：php, javascript, image, browser, download

我想从浏览器的新窗口下载图像。意味着当我单击图像时，它应该出现在新窗口中，并且有下载它的按钮。

到目前为止，我可以通过单击而不是在新窗口中打开来下载它，这意味着当我单击图像时，浏览器弹出窗口会生成打开或保存图像。但我想先在新窗口中打开图片下载按钮下载。

这是我正在使用的代码。

```
<?php
if(isset($_GET['file'])){
    //Please give the Path like this
    $file = $_GET['file'];

    if (file_exists($file)) {
        header('Content-Description: File Transfer');
        header('Content-Type: application/octet-stream');
        header('Content-Disposition: attachment; filename='.basename($file));
        header('Content-Transfer-Encoding: binary');
        header('Expires: 0');
        header('Cache-Control: must-revalidate, post-check=0, pre-check=0');
        header('Pragma: public');
        header('Content-Length: ' . filesize($file));
        ob_clean();
        flush();
        readfile($file);
        exit;
    }
}
?> 
```

# android - Android WebView 需要在单独的浏览器中启动特定的 URL

> ID：15017606
> 
> 赞同：1
> 
> 时间：2013-02-22T05:38:31.553
> 
> 标签：android, mobile, webview

我制作了一个使用 WebView 来查看移动网站的应用程序。移动网站在 WebView 中为其 Web 服务器提供的页面显示“后退”按钮，但某些页面显示导航到外部网站的链接。我想在这些页面上显示一个“返回”按钮以返回原始 Web 服务器，但如果这不可能，我想在标准浏览器中启动这些外部站点，以便用户仍然可以导航使用移动站点包含的“后退”按钮在 WebView 中的原始站点。

就目前而言，一旦用户单击这些“外部”链接之一，我的应用程序就无法导航回移动网站，因为这些网站没有显示返回按钮以返回移动应用程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:41:41.260

您可以为您的 WebView 实现[WebViewClient](http://developer.android.com/reference/android/webkit/WebViewClient.html)。

您可以参考[WebView](http://developer.android.com/reference/android/webkit/WebView.html)以获取相同的示例。

例如：

```
 webview.setWebViewClient(new WebViewClient() {
   public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {
     Toast.makeText(activity, "Oh no! " + description, Toast.LENGTH_SHORT).show();
   }
 });

 webview.loadUrl("http://developer.android.com"); 
```

# sencha-touch-2 - 在sencha touch 2中将图标添加到列表石斑鱼

> ID：15017609
> 
> 赞同：-1
> 
> 时间：2013-02-22T05:38:41.583
> 
> 标签：sencha-touch-2

我有一个包含不同组的列表，我们可以向这些组添加图标吗？可能的方法是什么？我还想在组标题上添加图标以及名称。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-22T08:49:45.690

有什么问题？将您的图像添加到组属性：

```
var myModel = Ext.define(model, {
    extend: 'Ext.data.Model',
    config: {
        fields: [
            'title', 'group', 'groupOrder'
        ]
    }
});    
var store = Ext.create('Ext.data.Store', {
    model: myModel,
    grouper: {
        property: 'group',
        sortProperty: 'groupOrder'
    },
    data:[{title:'Title', group: '<img src="myImgSrc"> MyGroupTitle', groupOrder:0}]
}); 
```

# c++ - Qt 输出一个小盒子？

> ID：15017611
> 
> 赞同：0
> 
> 时间：2013-02-22T05:38:47.790
> 
> 标签：c++, qt, user-interface

对于我的课程，我应该编写一个名为 Qtunes 的 iTunes 式程序的框架。我决定通过使用 3 个 ListWidgets 和一个 TableWidget 来做到这一点。所以我在 Qt creator 中编写了以下代码（我们应该手动编写代码而不是使用设计器），

```
#include "mainwindow.h"
#include "ui_mainwindow.h"
#include<QtGui>

MainWindow::MainWindow(QWidget *parent) :
    QMainWindow(parent)

//    ui(new Ui::MainWindow)
//{
//    ui->setupUi(this);
//}
{
    genreList = new QListWidget(this);
    artistList = new QListWidget(this);
    albumList = new QListWidget(this);

    songTable = new QTableWidget(this);

    genLabel = new QLabel(this);
    genLabel->setText("Genre");

    artistLabel = new QLabel(this);
    artistLabel->setText("Artist");

    albLabel = new QLabel(this);
    albLabel->setText("Album");

    QHBoxLayout *labelLayout = new QHBoxLayout;
    labelLayout->addWidget(genLabel);
    labelLayout->addWidget(artistLabel);
    labelLayout->addWidget(albLabel);

    QHBoxLayout *topLayout = new QHBoxLayout;
    topLayout->addWidget(genreList);
    topLayout->addWidget(artistList);
    topLayout->addWidget(albumList);

    QHBoxLayout *bottomLayout = new QHBoxLayout;
    bottomLayout->addWidget(songTable);

    QVBoxLayout *mainLayout = new QVBoxLayout;
    mainLayout->addLayout(labelLayout);
    mainLayout->addLayout(topLayout);
    mainLayout->addLayout(bottomLayout);

    setLayout(mainLayout);
    setWindowTitle("Version 2");
} 
```

我没想到它会工作，但希望至少能看到 listWidgets 等。相反，我得到了这个：

[http://postimage.org/image/krrs2ijmx/](http://postimage.org/image/krrs2ijmx/)

我知道我在某个地方做错了什么，我花了过去几个小时试图找到哪里。感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:21:48.287

尝试以下操作：

```
MainWindow::MainWindow(QWidget *parent) :
    QMainWindow(parent)
{
    QWidget* centralWidget = new QWidget(this);
    //...
    //Skip your code 
    //...
    centralWidget->setLayout(mainLayout);
    setCentralWidget(centralWidget);
    setWindowTitle("Version 2");
} 
```

# file - Shapefile：如何翻译

> ID：15017615
> 
> 赞同：1
> 
> 时间：2013-02-22T05:39:24.067
> 
> 标签：file, shape, translate

我有兴趣编写自己的 Shapefile 翻译器。它应该能够读取 Shapefile 并绘制结果形状。

有谁知道如何做到这一点？我对任何类型的 API 或 SDK 都不感兴趣。我也将使用 Objective-C 来完成它。

另外，Shapefile 有什么替代品吗？

**更新**

作为 Shapefile 的替代方案，使用 SVG 贴图。[这里](http://www.amcharts.com/svg-maps/)有一些非常棒的免费的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T15:00:38.503

Shapefile 由 ESRI 创建，在 GIS 世界中非常普遍。虽然有许多不同的方式来存储 GIS 数据，KML、GML、GeoDatabase、Spatialite 文件等。

这是 shapefile[规范](http://www.esri.com/library/whitepapers/pdfs/shapefile.pdf)的链接。这很简单。

# javascript - 如果javascript验证返回false，如何阻止模态表单提交？

> ID：15017616
> 
> 赞同：0
> 
> 时间：2013-02-22T05:39:23.703
> 
> 标签：javascript, jquery, forms, jquery-ui, validation

好的，我有这个表格：

```
<div id="reg_mov" title="Agregar Movimiento" style="display:none;">
<form style="width:590px;" method="POST" action="saveMovement.php" onSubmit="return checkFormAndSubmit(this)">
    <br>
    <input style="display:none;" type="text" name="cliente" value=<?php echo $_GET['cliente']; ?>>
    <label>Fecha: </label>
    <input type="date" name="fecha_mov" /><br><br>
    <label>Inversion del Dia: </label>
    <input type="text" name="inversion_mov" />&nbsp;&nbsp;&nbsp;&nbsp;
    <label>Tipo de Cambio: </label>
    <input type="text" name="tipo_cambio" /><br />
    <label>Crecimiento de Fans: </label>
    <input type="text" name="fans" />&nbsp;&nbsp;&nbsp;&nbsp;
    <input type="checkbox" name="corte" />
    <label>Corte</label><br /><br />
    <label style="color:#486288; font-size:16px; font-weight:600;">Dep&oacute;sito</label><br><br>
    <label>Cantidad: </label>
    <input type="text" name="cantidad_deposito" />&nbsp;&nbsp;&nbsp;&nbsp;
    <label>Dato de Pago: </label>
    <select id="datoPago" name="dato_pago" onChange="checkValue()" ><option>Credito</option><option>Deposito</option></select><br /><br />
    <label id="Tarjeta" >Tarjeta: </label>
    <input class="Tarjeta" type="text" name="tarjeta" />&nbsp;&nbsp;&nbsp;&nbsp;
    <label id="Notas">Notas: </label>
    <textarea style="font-size:10px;"cols="30" maxlenght="200" name="notas"></textarea>
    <br /><br />
    <button style="margin-left:230px;" onClick="submitThisForm(this.form)">Guardar</button>
    <button style="margin-left:10px;" onClick="closeDialog()">Cancelar</button>
</form> 
```

我用这个javascript代码验证它：

```
function checkFormAndSubmit(form){

    if(form.fecha_mov.value == null || form.fecha_mov.value == "")
    {
        alert('Selecciona una fecha correcta por favor');
        return false;
    }
    else
    {
        if(!form.inversion_mov.value.match(/^-?\d+$/) || !form.inversion_mov.value.match(/^-?\d+*\.\d+$/))
        {
            alert('Ingresa un valor valido para la Inversión del Dia');
            return false;
        }
        else
        {
            if(!form.tipo_cambio.value.match(/^-?\d+$/) || !form.tipo_cambio.value.match(/^-?\d+*\.\d+$/))
            {
                alert('Ingresa un valor válido para el Tipo de Cambio');
                return false;
            }
            else
            {
                if(!form.fans.value.match(/^-?\d+$/))
                {
                    alert('Ingresa un valor válido para el número de Fans');
                    return false;
                }
                else
                {
                    if(form.cantidad_deposito.value != "")
                    {
                        if(!form.cantidad_deposito.value.match(/^-?\d+$/) || !form.cantidad_deposito.value.match(/^-?\d+*\.\d+$/))
                        {
                            alert('Ingresa un valor válido para la Cantidad del Depósito');
                            return false;
                        }
                        else
                        {   
                            return true;
                        }
                    }
                }
            }
        }
    }
} 
```

我使用 jquery UI 对话框呈现表单：

```
 $(function(){
 $("#reg_mov").dialog({
       height:350,
       width:610,
       modal:true,
   });
}); 
```

当我点击我定义的提交按钮时，它会运行验证，如果出现错误，它会显示两次相同的警报，然后它仍然会提交表单。我如何停止提交或进行此验证的正确方法是什么？

# javascript - 附加井号时未选择 div

> ID：15017617
> 
> 赞同：0
> 
> 时间：2013-02-22T05:39:42.113
> 
> 标签：javascript, jquery, google-chrome, google-chrome-devtools

出于调试目的，这是我尝试在 Chrome 控制台中输入的内容：

```
$("#loading")
>  null 
```

但如果我这样做，它会正确检索 div：

```
$("loading")
>  <div id="loading" align="center" style="display: none;"> 
```

我正在使用 jquery-1.4.1.min.js。

```
<script type="text/javascript" src="../../js/jquery-1.4.1.min.js"></script> 
```

这对我来说没有意义，为什么我不能通过# 符号选择一个 div，但是当我排除它时我可以？

编辑：对不起，我的巨大失败。我的意思是反过来。请参阅修改后的问题。

![在此处输入图像描述](../Images/5edd9f44678ad892b1ad3feabf3d7792.png)

我唯一拥有的其他 js 库是prototype.js，它是在 jquery 脚本之后加载的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T05:43:03.203

`$("#loading")`表示使用特定`id`于该`#`标志的 dom。

没有`#`jQuery 将无法识别`dom with id`。

同样，要获得特定`DOM`的`class`名称，您必须使用`.`

**一些示例选择器是：**

```
Selector        Example             Selects
  *              $("*")             All elements
  #id            $("#lastname")     The element with id="lastname"
.class           $(".intro")        All elements with class="intro"
.class,.class   $(".intro,.demo")   All elements with the class "intro" or "demo" 
```

我已经在我身边检查过，看看结果。 ![在此处输入图像描述](../Images/87e11d72ed84942e37633d943e788665.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T05:52:41.447

您应该查看[jQuery 选择器文档](http://api.jquery.com/category/selectors/)。

使用 jQuery 选择器时遵循一些基本规则（这些规则并不详尽，您应该查看文档）：

*   `#`在选择器的开头使用 a将搜索`id`在`#`. 因此`$('#loading')`将选择带有`id="loading"`. 这应该只返回一个元素，因为页面上的非唯一`id`s 是无效的 HTML。
*   `.`在选择器的开头使用 a将执行与 类似的搜索`#`，但会查看所有 DOM 节点的`class`属性，并选择具有与您的选择器匹配的类的那些。因此`('.loading')`将选择具有属性值的 DOM`loading`节点`class`。
*   简单地使用没有前面符号的单词将尝试选择元素标签名称与选择器单词匹配的所有 DOM 节点。因此`$('loading')`将尝试查找所有`<loading>`标签，但由于这不是实际的 HTML 标签，因此不会选择任何内容。

**编辑** 所以虽然上述情况属实，但您似乎在prototype.js 和jQuery 之间存在冲突。这些是众所周知的，也是令人遗憾的。您可以查看 jQuery 的[wiki entry on using jQuery with other libraries](http://docs.jquery.com/Using_jQuery_with_Other_Libraries)和文档以[`jQuery.noConflict()`](http://api.jquery.com/jQuery.noConflict/)获取更多信息。本质上，您将需要使用`jQuery`而不是`$`访问 jQuery 库。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T05:52:31.890

`$("loading")`表示您正在选择一个 html 元素标签，如`<div>`tag ( `$('div')`)。

`$("#loading")`表示您正在选择一个 id 为 like 的 html 元素标签`<div id='loading'>`。

看看 jquery 选择器... [http://api.jquery.com/category/selectors/](http://api.jquery.com/category/selectors/)

# asp.net - 身份验证模式=“虚拟目录的Windows错误

> ID：15017620
> 
> 赞同：0
> 
> 时间：2013-02-22T05:40:14.630
> 
> 标签：asp.net, iis-7, windows-server-2008

> 嗨，我在**IIS7**上创建了虚拟目录，以便在部署到最终用户之前在本地主机上测试网站我在 web.config “**身份验证模式 =“Windows** ”上有这个错误，那么问题出在哪里？

# c# - 为什么拆分会消除此 c# 代码中的部分字符串？

> ID：15017623
> 
> 赞同：1
> 
> 时间：2013-02-22T05:40:22.720
> 
> 标签：c#, regex, split

我正在解析文本，如果遇到时间，我想拆分字符串。这是一个例子：

```
At 12:30AM I got up. At 11:30PM I went to bed. 
```

我的代码：

```
string time = @"[0-9]{2}:[0-9]{2}(A|P)M";
string test = "At 12:30AM I got up. At 11:30PM I went to bed.";
string[] result = Regex.Split(test, time);

foreach(string element in result)
{
   Console.WriteLine(element);
} 
```

我需要得到什么：

```
At 12:30AM
I got up. At 11:30PM
I went to bed. 
```

我得到什么：

```
At
 A
  I got up. At
 P
  I went to bed. 
```

剩下的时间要么是A，要么是P。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:46:37.760

因为拆分函数分隔符不包含在结果中。
如果您希望它保留为拆分元素，请将其括在括号中

```
string time = @"([0-9]{2}:[0-9]{2}(A|P)M)"; 
```

顺便说一句，这就是留下“A”和“P”的原因，因为它们被括在括号中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T05:47:24.937

将正则表达式更改为

```
([0-9]{2}:[0-9]{2}[AP]M) 
```

(A|P) 周围的括号将其定义为捕获组。您需要捕获整个时间字符串。所以把括号放在整个事情上。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T05:48:04.213

使用捕获组。

```
string regex=@".+?(?:\b\d{2}:\d{2}(?:AM|PM)|$)";
MatchCollection matches=Regex.Matches(input,regex);
foreach(var match in matches)
    Console.WriteLine(match.Groups[0]); 
```

# node.js - 无法在 Nodejs 上使用节点 curl 包获得响应

> ID：15017630
> 
> 赞同：0
> 
> 时间：2013-02-22T05:40:55.203
> 
> 标签：node.js

我正在使用节点 curl 来调用 WS。我写了一个简单的函数，它只发出一个请求，我正在记录响应。这就是我的 server.js 的外观：

```
var http = require('http');
var curl = require('node-curl');
var config = require('./config');

var cfgObj = new config.config();
function start(port) {
    function onRequest(request, response) {
        console.log("Request received");
        var options = {
            VERBOSE: 1,
            RAW: 1
        };
        curl.debug = 1;
        curl.setDefaultOptions(options);
        curl('www.google.com', function(err) {
            console.log(this.body);
        });
    }
    http.createServer(onRequest).listen(port);
}

cfgObj.getConfig(null, function(data) {
    start(data.port);
}); 
```

cfgObj 只包含端口号。它正确连接到主机，我什至得到 HTTP 200 OK 响应：

> [cURL 1] 接收 2242 字节 [cURL 1] 接收成功。

但最后，它说：

> 总线错误：10

这是什么意思？

控件从不调用我打印 this.body 的函数。我什至尝试使用 http 请求，但这给了我“套接字挂断”错误。

我一直无法调试这个问题。有什么线索吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T07:24:47.677

`node-curl`坏了，当我尝试在我的 Mac 上使用它时，我得到了同样的错误：

```
[2]    34539 bus error  node test.js 
```

（总线错误是程序尝试写入无效内存位置时发生的错误）

这是一个替代品`node-curl`：[https ://github.com/mikeal/request](https://github.com/mikeal/request)

# objective-c - 带有时间戳的 UIAlertView

> ID：15017633
> 
> 赞同：0
> 
> 时间：2013-02-22T05:40:57.763
> 
> 标签：objective-c, cocoa-touch

我是Objective-C的新手。我想在警报视图中显示当前日期和时间。

```
- (IBAction)postButtonPressed:(UIButton *)sender  {

    NSString *formatString = [NSDateFormatter dateFormatFromTemplate:@"MMM d, yyyy h:mm" options:0 locale:[NSLocale currentLocale]];

    NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
    [dateFormatter setDateFormat:formatString];

    NSString *todayString = [dateFormatter stringFromDate:[NSDate date]];

    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Message Posted" message:@"Your Message is posted on: @todayString" delegate:nil cancelButtonTitle:nil otherButtonTitles:@"OK", nil];
    [alert show];
      } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T05:47:17.317

您的警报消息字符串需要重做。试试这个：

```
 UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Message Posted" 
message:[NSString stringWithFormat:@"Your Message is posted on: %@", todayString] 
delegate:nil cancelButtonTitle:nil otherButtonTitles:@"OK", nil]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T05:49:45.830

您可以连接`NSString`使用`stringWithFormat:`或`stringWithString:`还有其他可用的附加功能，[请参阅文档](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html)

```
UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Message Posted" message:[NSString stringWithFormat:@"Your Message is posted on: %@",todayString] delegate:nil cancelButtonTitle:nil otherButtonTitles:@"OK", nil];
[alert show];
[alert release]; //don't forget to release UIAlertView object if you don't using ARC 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T05:56:51.890

尝试

```
NSString *str = [NSString stringWithFormat:@"Your Message is posted on: %@", todayString];
UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Message Posted" message:str delegate:nil cancelButtonTitle:nil otherButtonTitles:@"OK", nil];
[alert show]; 
```

# javascript - 在引导弹出窗口中显示一个光滑的网格行编辑器

> ID：15017639
> 
> 赞同：0
> 
> 时间：2013-02-22T05:41:54.577
> 
> 标签：javascript, twitter-bootstrap, slickgrid, popover

我在光滑网格的列中有一个编辑和一个删除链接。当我单击编辑按钮时，我想要一个带有行详细信息的引导弹出窗口。

我成功了，因为我能够渲染弹出框，但看起来它隐藏在桌子后面。我尝试设置`z-index`但无济于事。下面的代码：

```
 var popoverReference = $(".growthGridActions_edit").popover({
        'title': 'Edit Record',
        'html' : true,
        'placement' : 'left',
        'template': popOverTemplate
    });
    popoverReference.click(function(e) {
        var me = $(this), rowid = me.attr('rowId');

        var editGrowthRecordView = new WTG.view.GrowthEditView({
            template:$("#GROWTH-RECORD-EDIT").html(),
            model: new WTG.Model(growthGridRef.getDataItem(rowid))
        });

        editGrowthRecordView.render();

        $("#"+me.attr('id')).attr('data-content', editGrowthRecordView.$el.html());
        var popover = $("#"+me.attr('id')).data('popover');
        popover.setContent();
        popover.$tip.addClass(popover.options.placement);
    }) 
```

请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-11T11:14:29.587

我正在做类似的事情。当我双击光滑网格中的一行时，会出现一个引导模式。模式显示我使用 AJAX 获取的行的详细信息（以及更多信息）。这工作得很好，z-index 没有问题。

也许我们的方法有点不同，但我希望下面的代码有所帮助。

**引导模式**

```
<div id="user-details-modal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="width: 650px">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="myModalLabel">User View</h3>
    </div>
    <div class="modal-body">
        <form class="form-horizontal" action="/user/update" method="POST">
            <input type="hidden" id="userId" name="userId"/>
            <div class="control-group">
                <label class="control-label" for="firstName">First Name</label>
                <div class="controls">
                    <div class="input-prepend">
                        <span class="add-on"><i class="icon-user"></i></span>
                        <input class="input-xlarge" type="text" required id="firstName" name="firstName" placeholder="First Name">
                    </div>
                </div>
            </div>
            <div class="control-group">
                <label class="control-label" for="lastName">Last Name</label>
                <div class="controls">
                    <div class="input-prepend">
                        <span class="add-on"><i class="icon-user"></i></span>
                        <input class="input-xlarge" type="text" required id="lastName" name="lastName" placeholder="Last Name">
                    </div>

                </div>
            </div>

... more fields

    <div class="modal-footer">
        <button type="submit" class="btn btn-info">Save Changes</button>
        <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
    </div>
</div> 
```

**光滑的网格设置**

```
setupGrid:(onDblClick)->
    grid = new Slick.Grid(@gridId, dataView, @columns, options)
    grid.setSelectionModel(new Slick.RowSelectionModel({ selectActiveRow: true }))
    grid.onDblClick.subscribe((e, args)->
        onDblClick(dataView.getItem(args.row).id);
    )
    $(window).resize(->
        grid.resizeCanvas()
    ) 
```

**显示模态**

```
onDblClick = (id) =>
    $userDetails = $('#user-details-modal')
    $.get('/user/' + id + '/details')
    .success((results)->
        $userDetails.find('#userId').val(results.id)
        $userDetails.find('#firstName').val(results.FirstName)
        $userDetails.find('#lastName').val(results.LastName)
        $userDetails.find('#userName').val(results.UserName)
        $userDetails.find('#email').val(results.Email)
        $userDetails.find('#password').val(results.Password)
        $userDetails.modal()
    ) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-10T09:15:13.270

我和op遇到了同样的问题。不知道为什么这被标记为答案，因为最初的问题是关于引导弹出并且答案是关于模态的。我猜操作已更改为模态。

无论如何，如果其他人在尝试在 slickgrid 中使用引导弹出窗口时遇到同样的问题，只需将其发布即可解决该问题，只需将容器设置为 body... data-container='body'

# c# - 级联下拉列表 数据源

> ID：15017646
> 
> 赞同：5
> 
> 时间：2013-02-22T05:42:26.447
> 
> 标签：c#, jquery, asp.net-mvc

我的团队正在开发一个使用 MVC4 和 .NET 4.5 的 Web 应用程序。一项任务是创建父级下拉列表，该列表将在父级中选择一个值时更新子下拉列表 - 例如，在选择状态时，状态下拉列表将过滤城市的下拉列表。

在我们的其他项目中，我们使用 Ajax 调用 Web 服务或数据库在选择父值时填充子值。在我上面的示例中，选择了明尼苏达州，并且对数据库进行了 Ajax 调用以获取 MN 中的所有城市。我已经阅读了这里的其他帖子和遵循这个概念的教程。

我们团队的一位新开发人员认为上述方法效率低下，最好在页面加载时获取所有城市，将城市作为 Jason 对象存储在 JavaScript 变量中，然后使用 jquery 循环遍历 JavaScript 变量并构建子列表.

有人可以就他们使用的方法给我反馈吗？当我们可能只显示 10 条记录时，我不相信将数千条记录拉入浏览器并存储在客户端上是非常有效的。该开发人员还认为，在 JavaScript 中循环遍历 10000 行 JSON 对象比调用数据库获取 10 行更快。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T17:11:18.980

创建您的列表，您可以从 LINQ 调用所有内容。在进行其他调用以实例化之前，请检查要从那里创建的缓存

```
public IList<Example> GetList(string _state)
{

    IList<Example> cities = new List<Example>();

    Cache cache = HttpContext.Current.Cache;

    if (cache[_state] != null)
        cities = (IList<Example>)cache[_state];

    else
    {
        //Do your calls
        cache.Insert(_state, cities);
    }

    return cities;
} 
```

# java - 在 JavaScript 函数中访问 Java 变量值

> ID：15017649
> 
> 赞同：0
> 
> 时间：2013-02-22T05:42:44.090
> 
> 标签：java, javascript, blackberry-webworks

在我的 Phonegap Blackberry 应用程序中，如何在 JavaScript 函数中访问本机 Java 变量值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:18:54.983

如果在您的应用程序中可能，您可以使用 thymeleaf..它允许从 java 类访问 getter..

例如..

```
var name = /*[[${customer.firstName}]]*/ ""; 
```

这将调用 getter 方法`getfirstName()`并从类中返回当前客户的名字`Customer`。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T05:49:29.953

编写一个插件来访问该变量。在您的本地 java 代码中专门指定一个 getter API 并通过插件访问它（或者可能使您的本地 java 类成为一流的 Phonegap 插件）。有关更多信息，请参阅[此](http://catchmayuri.blogspot.in/2011/05/getting-access-of-android-java-code-to.html)。

# magento - Magento SOLR 模糊搜索

> ID：15017654
> 
> 赞同：0
> 
> 时间：2013-02-22T05:43:12.237
> 
> 标签：magento, search, solr, fuzzy-search, porter-stemmer

我在 magento 中使用 SOLR 搜索并尝试使用 SOLR 模糊搜索的功能。但到目前为止似乎没有运气。

我尝试在搜索查询结束时使用 tilda (~)，还尝试使用“PorterStemFilterFactory”，这是迄今为止我所知道的最好的词干工厂。但这并没有给我任何结果。例如; 我有名为“设拉子”的产品。因此，如果使用“shirag”或“shrag”进行搜索，模糊搜索将返回相同的结果。

这是我的架构部分（我只给出英文部分，因为这是我唯一使用的部分）

```
<fieldType name="text_en" class="solr.TextField" positionIncrementGap="100">
        <analyzer type="index">
            <tokenizer class="solr.WhitespaceTokenizerFactory"/>
            <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-ISOLatin1Accent.txt"/>
            <filter class="solr.EdgeNGramFilterFactory" minGramSize="3" maxGramSize="10" />
            <!--
                In this example, we will only use synonyms at query time.
                <filter class="solr.SynonymFilterFactory" synonyms="index_synonyms.txt" ignoreCase="true"
                    expand="false"/>
            -->
            <!--
                Case insensitive stop word removal. Add enablePositionIncrements=true in both the index and query
                analyzers to leave a 'gap' for more accurate phrase queries.
            -->
            <filter class="solr.StopFilterFactory" ignoreCase="true" words="stopwords_en.txt"
                    enablePositionIncrements="true"/>
            <filter class="solr.WordDelimiterFilterFactory" generateWordParts="1" generateNumberParts="1"
                    catenateWords="1" catenateNumbers="1" catenateAll="0" splitOnCaseChange="1"/>
            <filter class="solr.LowerCaseFilterFactory"/>
            <filter class="solr.SnowballPorterFilterFactory" language="English" protected="protwords_en.txt"/>
        </analyzer>
        <analyzer type="query">
            <tokenizer class="solr.WhitespaceTokenizerFactory"/>
            <charFilter class="solr.MappingCharFilterFactory" mapping="mapping-ISOLatin1Accent.txt"/>
            <filter class="solr.SynonymFilterFactory" synonyms="synonyms_en.txt" ignoreCase="true" expand="true"/>
            <filter class="solr.StopFilterFactory" ignoreCase="true" words="stopwords_en.txt"
                    enablePositionIncrements="true"/>
            <filter class="solr.WordDelimiterFilterFactory" generateWordParts="1" generateNumberParts="1"
                    catenateWords="0" catenateNumbers="0" catenateAll="0" splitOnCaseChange="0"/>
            <filter class="solr.LowerCaseFilterFactory"/>
            <filter class="solr.SnowballPorterFilterFactory" language="English" protected="protwords_en.txt"/>
            <filter class="solr.PorterStemFilterFactory" />
        </analyzer>
    </fieldType> 
```

这些也是我尝试过的链接：

[http://johntwang.com/blog/2011/09/05/Fuzzy-and-Document-Searching-with-WebSolr-and-Heroku/](http://johntwang.com/blog/2011/09/05/Fuzzy-and-Document-Searching-with-WebSolr-and-Heroku/) [http://docs.lucidworks.com/display/solr/The+Standard+查询+解析器](http://docs.lucidworks.com/display/solr/The+Standard+Query+Parser) [http://www.rqna.net/qna/mnuhwh-solr-fuzzy-search-for-similar-words.html](http://www.rqna.net/qna/mnuhwh-solr-fuzzy-search-for-similar-words.html)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T22:21:51.667

参见[Solr Fuzzy Search 寻找相似词](https://stackoverflow.com/questions/9883151/solr-fuzzy-search-for-similar-words)和[Solr/Lucene 模糊搜索太慢](https://stackoverflow.com/questions/10880976/solr-lucene-fuzzy-search-too-slow)

如果您正在寻找自动建议，那么使用[EdgeNGramFilter](https://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters#solr.EdgeNGramFilterFactory)绝对是另一个值得考虑的选择。

# assembly - 如何阅读英特尔操作码符号

> ID：15017659
> 
> 赞同：29
> 
> 时间：2013-02-22T05:43:48.760
> 
> 标签：assembly, x86, intel, opcode, machine-code

我正在阅读一些关于汇编指令的英特尔操作码的材料，但我不明白操作码字节后面的含义是什么。例如：`cw`, `cd`, `/2`, `cp`, `/3`.

请给我一个提示这是什么意思或我在哪里可以找到完整的参考？

```
E8 cw CALL rel16 调用近、相对、相对于下一条指令的位移
E8 cd CALL rel32 调用近、相对、相对于下一条指令的位移
FF /2 CALL r/m16 近调用，绝对间接，在 r/m16 中给出的地址
FF /2 CALL r/m32 近调用，绝对间接，在 r/m32 中给出的地址
9A cd CALL ptr16:16 调用远、绝对、在操作数中给出的地址
9A cp CALL ptr16:32 调用远、绝对、操作数中给出的地址
FF /3 CALL m16:16 呼叫远，绝对间接，在 m16:16 中给出地址
FF /3 CALL m16:32 呼叫远，绝对间接，在 m16:32 中给出地址

```

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2017-01-12T15:14:24.723

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2013-02-22T05:48:07.660

我最喜欢的来源是英特尔本身：[英特尔® 64 和 IA-32 架构软件开发人员手册](http://www.intel.com/content/www/us/en/processors/architectures-software-developer-manuals.html)。与过去的版本不同，所有卷现在都很好地包装在一个（3044 页）PDF 中。

看起来对您最有帮助的部分是第 2 卷第 3 章中的 3.1.1.1（截至我撰写本文时最新 PDF 的第 432 页）。

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2018-12-30T08:37:23.430

**许多用于立即版本指令的操作码，包括使用ModR/M 字节中`83`的 3 位`/r`**字段作为 3 个额外的操作码位。英特尔的第 2 卷手册记录了这一点，我认为附录中的操作码表包括它。

这就是为什么大多数原始 8086 立即数指令`and r/m, imm`仍然只允许 2 个操作数，不像`shrd eax, edx, 4`或`imul edx, [rdi], 12345`其中两个 ModRM 字段都用于编码 dst/src 操作数，以及暗示立即操作数的操作码。

[SHRD/SHLD 并添加了 386](https://ulukai.org/ecm/insref.htm#insSHLD)，并且 imul-immediate 添加了 186 。不幸的是，copy-and-AND ( `and eax, edx, 0xf`) 不可编码，但至少 x86 可以使用 LEA 进行非常常见的复制和添加或子操作。

但是，如果每个立即数和单操作数指令（如`push`or `not`）都需要一个完整的操作码，那么 8086 就会用完 1 字节的操作码。（特别是因为设计者选择在 AL 和 AX 没有 modrm 字节的短格式上花费大量编码空间，比如`cmp ax, 12345`在 16 位模式下只有 3 个字节而不是 4 个字节，或者在 32`cmp eax, imm32`中只有 5 个字节而不是 6 个字节`cmp r/m32, imm32`-bit 模式。对于单字节 xchg-with-ax 和单字节 inc/dec 寄存器。）

* * *

**示例：解码`48 83 C4 38`。** （从[一个操作码字节如何根据“寄存器/操作码”字段解码为不同的指令？那是什么？](https://stackoverflow.com/questions/53922303/how-does-one-opcode-byte-decode-to-different-instructions-depending-on-the-regi)，这个Q的副本）

`48`是一个 REX.W 前缀（REX 只设置了 W 位，因此它表示 64 位操作数大小，但没有高位寄存器）。

Opcode`83`说它可以是 7 条不同的指令，具体取决于称为“寄存器/操作码字段”的字段

每条指令都有自己的文档，例如[`add`（vol2 手册的 html 摘录）](https://www.felixcloutier.com/x86/add)
`REX.W + 83 /0 ib` ，显示了 for之类的编码`ADD r/m64, imm8`，这就是您所拥有的。

> [来自 wiki.osdev.org 的 ModRM 位域图](https://wiki.osdev.org/X86-64_Instruction_Encoding#ModR.2FM_and_SIB_bytes)
> 
> ```
>  7                           0
> +---+---+---+---+---+---+---+---+
> |  mod  |    reg    |     rm    |
> +---+---+---+---+---+---+---+---+ 
> ```

**0xc4 = 0b11000100，所以 reg 字段 = 0。因此我们的操作码是`83 /0`，在 Intel 的表示法中。**

其余的 ModRM 字段是：

*   mode = 0b11，因此 rm 字段编码一个寄存器操作数，而不是寻址模式的基址寄存器。
*   rm = 0b100。reg #4 = SPL/SP/ESP/RSP。（在这种情况下，RSP 因为它是 64 位操作数大小）。请参阅英特尔的手册，或[https://wiki.osdev.org/X86-64_Instruction_Encoding#Registers](https://wiki.osdev.org/X86-64_Instruction_Encoding#Registers)获取表格。

所以指令是`add rsp, 0x38`

`ndisasm -b64`同意：

```
$ cat > foo.asm
db 0x48, 0x83, 0xC4, 0x38
$ nasm foo.asm     # create a flat binary with those bytes, not an object file
$ ndisasm -b64 foo
00000000  4883C438          add rsp,byte +0x38 
```

# java - 如何将 FK 约束放在 mysql 中的两个表上，其中一个表是 InnoDB，另一个是 MyISAM

> ID：15017660
> 
> 赞同：1
> 
> 时间：2013-02-22T05:43:50.420
> 
> 标签：java, mysql, mysql-error-1005

原因：liquibase.exception.JDBCException：

```
Error executing SQL ALTER TABLE `User` ADD CONSTRAINT `fk_user_location` FOREIGN KEY (`location_id`) REFERENCES `Location`(`id`) ON DELETE CASCADE:
          Caused By: Error executing SQL ALTER TABLE `UserLocation` ADD CONSTRAINT `fk_user_location_location_id` FOREIGN KEY (`location_id`) REFERENCES `Location`(`id`) ON DELETE CASCADE:
          Caused By: Can't create table 'usiapp_db.#sql-399a_177a7' (errno: 150) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:55:12.060

你不能。如果要创建外键，则必须将 MyISAM 表转换为 InnoDB：

```
ALTER TABLE MyIsamTable ENGINE=InnoDB; 
```

您可以动态地执行此操作，而无需关闭数据库。

# ruby - Rails 3未定义方法nil：NilClass has_many：尝试创建时通过

> ID：15017665
> 
> 赞同：0
> 
> 时间：2013-02-22T05:44:38.140
> 
> 标签：ruby, ruby-on-rails-3.2, associations, has-many-through, nomethoderror

我在尝试 .build 新约会时遇到问题。但首先看看我的模型

```
class Patient < ActiveRecord::Base
  attr_accessible :address1, :address2, :city, :comment, :email, :first_name, :init_date,    :init_time, :last_name, :mobile, :notes, :phone, :state, :zip
  before_validation :upcase_patient
  before_save { self.email.downcase! }
  has_many :appointments, dependent: :destroy
  has_many :procedures, through: :appointments 
```

```
class Procedure < ActiveRecord::Base
  attr_accessible :comment, :occurence, :procedure, :procedure_code, :procedure_price, :procedure_time, :visits
  before_validation :uppercase_procedure
  has_many :appointments
  has_many :patients, through: :appointments 
```

```
class Appointment < ActiveRecord::Base
  attr_accessible :appointment_date, :appointment_notes, :appointment_time, :procedure_id
  belongs_to :patient
  belongs_to :procedure 
```

```
class AppointmentsController < ApplicationController
include PatientsHelper
before_filter :signed_in_user

def create
    @patient = current_patient
    @appointment = @patient.appointments.build(params[:appointment])
    if @appointment.save
        flash[:success] = "Appointment scheduled!"
        redirect_to patient_path(@patient)
    else
        render patient_path(@patient)
    end
end 
```

```
module PatientsHelper

    def current_patient=(patient)
            @current_patient = patient
    end

    def current_patient
            @current_patient
    end

    def current_patient?(patient)
            patient == current_patient
    end
end 
```

这些项目包括帮助定义 current_patient 的“PatientsHelper”组成了关联。我已经在 patients_controller 中成功创建了表单

```
class PatientsController < ApplicationController
before_filter :signed_in_user
before_filter :admin_user, only: [:destroy]
def show
    @patient = Patient.find(params[:id])
    @procedures = Procedure.all
    @appointments = @patient.appointments.paginate(page: params[:page])
    @appointment = @patient.appointments.build
end 
```

我想使用患者资源来创建新的约会。这是我犯规的地方。我继续通过 rspec 收到以下错误：

```
NoMethodError:
   undefined method `appointments' for nil:NilClass 
```

我哪里错了？任何帮助将不胜感激。如果需要澄清，我想：

一个_关联

患者模型 -> has_many [:appointments, :procedures (through :appointments)]

程序模型 -> has_many [:appointments, :patients (through :appointments)]

预约模型 -> 属于_to [:患者, :procedures]

b_通过患者控制器创建新的：约会，而不是专门为约会模型创建新控制器

我的错！这是规格测试。

```
require 'spec_helper'

describe "Appointment Pages" do
    subject { page }

    let(:user) { FactoryGirl.create(:user) }
    let(:patient) { FactoryGirl.create(:patient) }
    let(:procedure) { FactoryGirl.create(:procedure) } 
    before { sign_in user }

    describe "appointment creation" do
  before { visit patient_path(patient) }

  describe "with invalid information" do

    it "should not create an appointment" do
        expect { click_button "Schedule procedure" }.not_to change(Appointment,
                                                                                                                             :count)
    end

    describe "error messages" do
        before { click_button "Schedule procedure" }
        it { should have_content('error') }
    end
end

describe "with valid information" do
    before do
      procedure_id = procedure.id
      patient_id = patient.id
      fill_in 'appointment_appointment_date', with: "2013-04-04"
      fill_in 'appointment_appointment_time', with: "12:45:00"
      fill_in 'appointment_appointment_notes', with: "Test the notes"
    end
    it "should create a micropost" do
        expect { click_button "Schedule procedure" }.to change(Appointment, 
                                                                                                                    :count).by(1)
      end
    end
  end
end 
```

错误显示在以下

```
Failures:

1) Appointment Pages appointment creation with invalid information should not create an appointment
 Failure/Error: expect { click_button "Schedule procedure" }.not_to change(Appointment,
 NoMethodError:
   undefined method `appointments' for nil:NilClass
 # ./app/controllers/appointments_controller.rb:7:in `create'
 # (eval):2:in `click_button'
 # ./spec/requests/appointment_pages_spec.rb:17:in `block (5 levels) in <top (required)>'
 # ./spec/requests/appointment_pages_spec.rb:17:in `block (4 levels) in <top (required)>'

2) Appointment Pages appointment creation with invalid information error messages 
 Failure/Error: before { click_button "Schedule procedure" }
 NoMethodError:
   undefined method `appointments' for nil:NilClass
 # ./app/controllers/appointments_controller.rb:7:in `create'
 # (eval):2:in `click_button'
 # ./spec/requests/appointment_pages_spec.rb:22:in `block (5 levels) in <top (required)>'

3) Appointment Pages appointment creation with valid information should create a micropost
 Failure/Error: expect { click_button "Schedule procedure" }.to change(Appointment,
 NoMethodError:
   undefined method `appointments' for nil:NilClass
 # ./app/controllers/appointments_controller.rb:7:in `create'
 # (eval):2:in `click_button'
 # ./spec/requests/appointment_pages_spec.rb:36:in `block (5 levels) in <top (required)>'
 # ./spec/requests/appointment_pages_spec.rb:36:in `block (4 levels) in <top (required)>'

Finished in 1.08 seconds
23 examples, 3 failures

Failed examples:

rspec ./spec/requests/appointment_pages_spec.rb:16 # Appointment Pages appointment creation with invalid information should not create an appointment
rspec ./spec/requests/appointment_pages_spec.rb:23 # Appointment Pages appointment creation with invalid information error messages 
rspec ./spec/requests/appointment_pages_spec.rb:35 # Appointment Pages appointment creation with valid information should create a micropost 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-24T07:12:20.863

不完全是我想要的，但解决了这个问题。

使用以下内容能够得到相应的保存。*仍然无法找出为什么我无法从 URL 中提取 Patient - 例如 app.dev/patients/2 - 其中患者信息正在提取 id 2* ...但现在我可以使用什么来保存约会我怀疑是一种相当粗糙的方法。

1.  在表单中，我添加了一个隐藏字段，用于提取适当的患者 ID
2.  在 Appointments 控制器中，添加到 attr_accessible :patient_id
3.  在约会_控制器

    ```
    def create
    @appointment = Appointment.new(params[:appointment])
    @current_patient = @appointment.patient_id
    if @appointment.save
        flash[:success] = "Appointment scheduled!"
        redirect_to patient_path(@current_patient)
    else
        render 'patients/show'
    end
    end 
    ```

`render 'patients/show'`仍然损坏，但会将其留给另一个线程。谢谢大家的帮助和指导。

# php - 将文本分享到 Facebook 墙

> ID：15017671
> 
> 赞同：1
> 
> 时间：2013-02-22T05:45:18.627
> 
> 标签：php, facebook

我有一个 textaera 和一个按钮，我在 textarea 中输入了一些文本并想将其发布到 facebook 墙上。我使用了这个网址 [http://facebook.com/share.php?u=http://test.com&t=test+share](http://facebook.com/share.php?u=http://test.com&t=test+share)

但如果不传递 url，它就不会被唤醒。

谁能帮助我，我只想在 facebook 墙上发布文字

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2017-12-19T10:26:18.133

[ [https://developers.facebook.com/docs/graph-api/reference/v2.11/post]](https://developers.facebook.com/docs/graph-api/reference/v2.11/post]) 通过使用上述 URL，您可以在 Facebook 墙上分享您的内容。链接引用显示通过 HTTP、ANDROID-SDK、IOS-SDK、PHP-SDK、JAVA-SCRIPT-SDK 共享内容。

```
/* PHP SDK v5.0.0 */

/* make the API call */
try {

 // Returns a `Facebook\FacebookResponse` object

 $response = $fb->delete(
'/user-id/feed',
array (),
'{access-token}'

 );
} catch(Facebook\Exceptions\FacebookResponseException $e) 
{
 echo 'Graph returned an error: ' . $e->getMessage();

 exit;
} catch(Facebook\Exceptions\FacebookSDKException $e) {

echo 'Facebook SDK returned an error: ' . $e->getMessage();
 exit;}$graphNode = $response->getGraphNode(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T05:50:57.857

你可以在这里找到你的答案。我建议使用 Facbook graph api 并获取访问令牌，然后您就可以在墙上发布状态了。

[Facebook PHP SDK Graph API 发布到页面无法正常运行](https://stackoverflow.com/questions/11054915/facebook-php-sdk-graph-api-post-to-page-not-functioning-properly?rq=1)

# excel - 检查 Excel OLE 是否可用的正确方法是什么？

> ID：15017672
> 
> 赞同：12
> 
> 时间：2013-02-22T05:45:25.870
> 
> 标签：excel, delphi, ole

我需要测试我是否可以在我的程序中使用 Excel OLE，因为它可以在没有 Excel 的 PC 上启动。网上的代码示例假设安装了 Excel，但如果没有呢？

```
XLApp := CreateOleObject('Excel.Application');
try
  // Hide Excel
  XLApp.Visible := False;
  // Open the Workbook
  XLApp.Workbooks.Open(aPath);
  ...snip...
finally
  // Quit Excel
  if not VarIsEmpty(XLApp) then
  begin
    XLApp.Quit;
    XLAPP := Unassigned;
  end;
end; 
```

如果安装了 Excel，那会是正确的代码吗？

```
//Try to create Excel OLE
try
  XLApp := CreateOleObject('Excel.Application');
except
  ShowMessage('Error opening Excel');
  Exit;
end; 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-02-22T07:36:24.930

您可以使用基于[Scalabium 提示](http://www.scalabium.com/faq/dct0143.htm)的代码来检查 Excel 是否可用。或类似的东西：

```
uses ComObj, ActiveX;

function IsObjectAvailable(const ClassName: string): Boolean;
var
  ClassID: TCLSID;
begin
  Result := Succeeded(CLSIDFromProgID(PWideChar(WideString(ClassName)), 
    ClassID));
end; 
```

您还可以使用以下代码检查 Excel 是否正在运行：

```
function IsObjectActive(const ClassName: string): Boolean;
var
  ClassID: TCLSID;
  Unknown: IUnknown;
begin
  Result := False;
  if Succeeded(CLSIDFromProgID(PWideChar(WideString(ClassName)), ClassID)) then
    Result := Succeeded(GetActiveObject(ClassID, nil, Unknown));
end; 
```

然后在某些程序或事件中：

```
procedure TForm1.Button1Click(Sender: TObject);
begin
  if IsObjectAvailable('Excel.Application') then 
    ShowMessage('Excel is available');
  if IsObjectActive('Excel.Application') then 
    ShowMessage('Excel is running');
end; 
```

# highcharts - Highstocks：平移在 yAxis 中不起作用

> ID：15017678
> 
> 赞同：0
> 
> 时间：2013-02-22T05:45:53.110
> 
> 标签：highcharts, highstock

有没有办法在 highstock 中进行平移工作`yAxis`。我已设置`max`为默认情况下`yAxis`用户无法看到高于该`max yAxis`值的数据。但是，我想让用户能够平移和查看超出`max` `yAxis`值的数据。

[jsfiddle](http://jsfiddle.net/sandeepy02/fMkW5/)中`max` `yAxis`设置为 200的示例。

```
var chart = new Highcharts.Chart({
    chart: {
        renderTo: 'container',
        panning: true
    },
    xAxis: {
        categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
    },

    yAxis: {
        max: 200
    },

    series: [{
        data: [29.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4]        
    }]
}); 
```

谢谢。

# tomcat - 如何在一个Tomcat实例下运行多个Jenkins实例？

> ID：15017685
> 
> 赞同：7
> 
> 时间：2013-02-22T05:46:28.787
> 
> 标签：tomcat, jenkins, 64-bit, multiple-instances

在 Windows 2008 R2 机器上，我安装了最新的 64 位 JRE 和 Tomcat 7.0。我试图在这个单个 Tomcat 实例中托管两个 Jenkins 实例。我在 conf/Catalina/localhost/ 文件夹中创建了上下文描述符文件，以将 JENKINS_HOME 设置为每个实例的不同主目录。为了部署 Jenkins 的实例，我下载了 Jenkins 的 LTS 版本，命名为一个蝙蝠侠和另一个罗宾。

我看到的是我可以毫无问题地使用/管理一个实例，但是如果我尝试在另一个选项卡中使用/管理另一个实例，看起来 Tomcat 只是挂起，占用了大约 25% 的 CPU 和内存使用率攀登。查看 Tomcat 目录中的日志文件，我没有看到任何文件在增长或更新。

更糟糕的是，如果我添加第三个实例 Joker，访问 Tomcat 主页没有问题，但我无法访问这 3 个实例中的任何一个。

是否有合适的方法在 Tomcat 中托管多个 Jenkins 实例？

我发现一个线程谈到尝试使用 Tomcat，但最终放弃它并使用内置的 Winstone。我需要使用容器而不是内置的 Winstone，因为默认 Winstone 似乎作为 32 位进程运行，而我正在处理的构建调用 SharePoint PowerShell cmdlet，这些 cmdlet 只能在 64 位进程中使用.

# apache - 带有 Apache Tomcat 的 socket.io

> ID：15017687
> 
> 赞同：0
> 
> 时间：2013-02-22T05:46:33.903
> 
> 标签：apache, node.js, tomcat, socket.io

我正在使用 node.js 服务器并实现了 socket.io。

它工作正常，但出于某种原因，我必须使用运行在 8080 端口上的 Apache Tomcat，以及运行在 8081 上的节点服务器。

如果我通过**：8081**（通过 node.js 服务页面）运行应用程序，socket.io（socket.io 正在监听 8081 端口）正在工作，但是当我通过 Apache Tomcat 服务时，通过**：8080/Demo_Pro/index.js 运行应用程序。 html**，socket.io 不工作。

谁能解释如何同时运行 Apache Tomcat 和 node.js。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T21:34:21.257

您应该在 google 上查看如何同时托管 node.js 和 apache。你会发现你必须使用 mod_proxy 来通过 apache 代理请求。（node.js 需要在另一个端口上）。看这个链接：[how to put nodejs and apache in the same port 80](https://stackoverflow.com/questions/11172351/how-to-put-nodejs-and-apache-in-the-same-port-80)。它会给你一个关于如何做的想法。

# ios - iOS UIWebView 需要在单独的浏览器中启动特定的 URL

> ID：15017689
> 
> 赞同：1
> 
> 时间：2013-02-22T05:46:38.463
> 
> 标签：ios, mobile, uiwebview

我创建了一个使用 UIWebView 来显示移动网站的 iOS 应用程序。移动站点在 UIWebView 中为其 Web 服务器服务显示一个“后退”按钮，但某些页面提供导航到外部网站的链接。

我想在这些页面上提供一个“返回”按钮以返回到原始 Web 服务器，但如果我不能这样做，那么我想在标准浏览器中启动这些外部站点，以便用户可以仍然使用移动站点已经显示的“后退”按钮在 UIWebView 中导航原始站点。

就目前而言，一旦用户单击这些“外部”链接之一，我的应用程序就无法导航回移动网站，因为这些网站没有显示返回按钮以返回移动应用程序。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:58:24.753

使用委托`webView:shouldStartLoadWithRequest:navigationType:` 并在 safari 中打开外部 URL `[[UIApplication sharedApplication] openURL:[NSURL URLWithString: @"http:/wwww.extrenalurls.com"]]`

# api - Paypal 创建沙盒交易

> ID：15017690
> 
> 赞同：1
> 
> 时间：2013-02-22T05:46:45.720
> 
> 标签：api, transactions, paypal

有人知道如何在贝宝沙箱中创建交易吗？

它一直说转到我的交易软件……上面写着我的交易软件。事情是……我没有交易软件。我只是想获取交易的详细信息。:)

我有一个集成了多个后端（ebay、westfield、google、amazon...）的应用程序，如果有人从那里购买东西，使用 paypal，我会得到一个交易 ID。我希望能够检索贝宝交易的详细信息，因为（上帝爱他们）他们允许用户更改船舶地址或添加特殊说明，但他们不会将该信息传递回“商家”。

我在想我会在沙箱中创建一个测试用户，然后看看我是否可以获得交易的详细信息，遗憾的是我没有看到创建交易的方法。

有人发现他们的文档同样神秘吗？我在Nod。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T11:31:31.210

您将必须创建另一个测试帐户，即一个帐户将充当卖方，另一个帐户将充当买方。

从卖家的 Paypal 帐户，您必须创建按钮。

创建 PayPal 按钮的步骤：

*   在沙盒中登录卖家的测试账户。
*   点击“**商户服务**”标签。
*   在那里你会找到**创建 PayPal 付款按钮**
*   根据您的要求填写表格。

这将生成一个 HTML 脚本。

创建一个 HTML 文件并复制粘贴此 HTML 脚本。打开 HTML 文件，您将获得一个 Paypal 按钮。

点击它并接受买家PayPal账户的交易。

# redirect - Yii如何重定向到哈希链接表单控制器？

> ID：15017691
> 
> 赞同：4
> 
> 时间：2013-02-22T05:46:46.663
> 
> 标签：redirect, yii

我正在研究 YII 框架。我有代码表单，我必须重定向到页面，并且在页面中我有一个网格视图。我想重定向到该哈希链接，该链接将直接将它们带到网格中。因为实际上更改是对网格进行的。

```
$this->redirect(array('user/view','id'=>$mIntUserId)); 
```

如何向现有 URL 添加哈希链接`#userList`。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T06:21:45.933

来自[yii 文档](http://www.yiiframework.com/doc/guide/1.1/en/topics.url)

> 提示：要生成带有井号标签的 URL，例如 /index.php?r=post/read&id=100#title，您需要使用 $this->createUrl('post/read',array( 'id'=>100,'#'=>'title'))。

所以在你的情况下

```
$this->redirect(array('user/view','id'=>$mIntUserId,'#'=>'userList')); 
```

# javascript - Google Maps Markers setPosition 在地图上留下旧标记

> ID：15017698
> 
> 赞同：2
> 
> 时间：2013-02-22T05:47:47.143
> 
> 标签：javascript, google-maps-api-3, angularjs

谷歌地图在 AngularJS 上的非常简单的实现。以下代码在我使用 FireFox 的桌面上完美运行。但是，在我的 android 上，此代码在我单击更改位置后会留下旧标记。我可以在地图上拖动并“唤醒”它。地图后面的数据是正确的，但它不会刷新标记覆盖。我可以强制刷新吗？难道我做错了什么？

```
$scope.mapOptions = {
    center: myLatlng,
    zoom: 15,
    mapTypeId: google.maps.MapTypeId.ROADMAP
};

$scope.setMarkerPosition = function($event) {
    $scope.marker.setPosition($event.latLng);
}

$scope.$watch('myMap', function(map) {
    if (map) {
        $scope.marker = new google.maps.Marker({
            map: $scope.myMap,
            position: myLatlng
        });
    }
}); 
```

# java - DynamicReports：如何在新项目中导入库以与 NetBeans 一起使用？

> ID：15017699
> 
> 赞同：0
> 
> 时间：2013-02-22T05:47:49.293
> 
> 标签：java, dynamic-reports

如何将 DynamicReports 库导入 netBeans 项目？

[http://www.dynamicreports.org/getting_started.html#step9](http://www.dynamicreports.org/getting_started.html#step9)

我找到了这个链接：

[http://www.dynamicreports.org/documentation/documentation.html#examples_netbeans](http://www.dynamicreports.org/documentation/documentation.html#examples_netbeans)

但它显示了如何导入现有示例。如果我想从头开始构建动态报告，即一个新项目而不是现有项目，在 NetBeans 中，我如何在下载 dynamicreports-3.1.0-project-with-dependencies 后导入 DynamicReports 库？

例如，如果我使用 iText，我可以执行以下操作：

[http://www.youtube.com/watch?v=WMVx3MIUApU](http://www.youtube.com/watch?v=WMVx3MIUApU)

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:16:53.350

得到答案：

创建一个新项目：转到 Libraries -> Add Jar/Folder 然后从 dynamicreports-3.1.0\dist 和 dynamicreports-3.1.0\lib 复制所有文件

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-05-01T09:41:18.157

**如何在 Netbeans 中运行示例**从下载页面 下载[dynamicreports-5.0.0-project-with-dependencies](http://sourceforge.net/projects/dynamicreports/files/dynamicreports) 复制

*   /examples/netbeans/dynamicreports-examples

    从存档到您的 NetBeansProjects 文件夹，例如

*   /NetBeansProjects/dynamicreports-examples

将存档中 /lib 和 /dist 文件夹中的所有文件复制到

*   /NetBeansProjects/dynamicreports_examples/lib/

运行 NetBeans 并打开项目 构建项目

# c++ - C ++“未在此范围内声明”编译错误

> ID：15017702
> 
> 赞同：1
> 
> 时间：2013-02-22T05:48:01.337
> 
> 标签：c++

我是 C++ 和 QT 的新手，我正在使用 QT Creator，我创建了一个名为 nGui 的 QT Widget 项目，添加了一个名为 mydlg 的 QT-QT Designer 表单类，我一直在尝试在窗口中创建一个按钮，当您单击它会打开另一个窗口，而原始窗口会继续显示。这是我的代码，但它总是显示错误：'my2'没有在这个范围内声明。我在widget.h中声明了'my2'，我在mydlg.cpp中包含了widget.h文件，我不知道哪里错了，有人可以帮我吗？太感谢了！

我的dlg.cpp

```
#include "mydlg.h"
#include "ui_mydlg.h"
myDlg::myDlg(QWidget *parent) :
QDialog(parent),
ui(new Ui::myDlg)

{
     ui->setupUi(this);
}

myDlg::~myDlg()

{

    delete ui;

}

void myDlg::on_pushButton_clicked()

{

     my2.show();

} 
```

小部件.h

```
#ifndef WIDGET_H

#define WIDGET_H

#include <QWidget>

#include"mydlg.h"

namespace Ui 
{
    class Widget;
}

class Widget : public QWidget
{
    Q_OBJECT

    public:
    explicit Widget(QWidget *parent = 0);
    ~Widget();

    private:
    Ui::Widget *ui;
    myDlg my2;
    private slots:
    void on_pushButton_clicked();
};

 #endif // WIDGET_H 
```

主文件

```
#include <QtGui/QApplication>

#include "widget.h"

int main(int argc, char *argv[])
{
    QApplication a(argc, argv);
    Widget w;
    w.show();

    return a.exec();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:04:35.107

`my2`在`Widget`类中声明，但您试图在`myDlg`类的成员函数中访问它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-17T20:23:23.600

尝试替换`my2.show()`为`show()` 当您在`myDlg`类中编写时，您正在编写可以从该类（包括`my2`）实例化的每个对象的行为。

`my2`然后在类中引用是没有意义的`MyDlg`，因为使用你的类的其他人可以用它来实例化另一个名为（例如）的对象`my3`。您要做的是告诉编译器何时在`_pushButton_clicked()`类对象上调用 on 并在同一对象上`MyDlg`调用函数。`show()`您可以通过编写`this->show()`或简单地做到这一点`show()`。

# php - Javascript拖放div样式

> ID：15017704
> 
> 赞同：0
> 
> 时间：2013-02-22T05:48:07.193
> 
> 标签：php, javascript, drag-and-drop

所以我试图做一个“简单”的 php + javascript 拖放，这是我的代码：

```
 <title>Web Editor</title>
    <?php
    mysql_connect("$host","$user","$pass");
    mysql_select_db("$db");
    if(isset($_POST['submit'])){
    $name=$_FILES['file']['name'];
    $temp=$_FILES['file']['tmp_name'];
    move_uploaded_file($temp,"uploaded/".$name);
    $url="http://www.bluejayke.com/edit/uploaded/$name";
    }
    ?>
    <?php
    if(isset($_POST['submit'])){
    mysql_query("INSERT INTO uploadedvideos(id,name,url) VALUES('','$name','$url')");
    echo "</br>" . $name . " uploaded";
    }
    $query="SELECT * FROM uploadedvideos";
    $result = mysql_query($query);
    ?>
    <div class='wrapper' id='wrapper'>
    <table cellpadding="0" cellspacing="0" border="1">
    <tr>
         <td style="width:400px; height:50px;"><form action="index.php" method="POST" enctype="multipart/form-data">
    <input type="file" name="file">
    <input type="submit" name="submit" value="Upload">
    </form></td>
    </tr>
    <tr>
         <td style="width:400px; height:500px;">
             <div style="width:100%; height:100%; overflow:auto; ">
             <script src="http://www.google.com/jsapi"></script>
    <script>
      google.load("jquery", "1");
    </script>

    <?php
    while($row=mysql_fetch_array($result))
    {
    $id=$row['id'];
    $name=$row['name'];
    $url=$row['url'];
    echo "<div style='position:absolute;cursor:pointer;' id='".$id."'><a href='javascript: click(\"$url\")'>$name</br><embed id='$id' src='$url' width='120' height='120' draggable='true' ondragstart='drag(event)'></embed></a><input type='button' id='delete' value='X' onclick='return Deleteqry($id)' /></div><br> ";
    ?>
    <script type="text/javascript">
        var dragging = false

        $(function () {

            var target<?php echo $id ?> = $('#<?php echo $id; ?>')

            target<?php echo $id ?>.mousedown(function() { dragging<?php echo $id; ?> = true })
            $(document).mouseup(function() { dragging<?php echo $id; ?> = false })
            $(document).mousemove(function(e) { 
                if(dragging<?php echo $id; ?>){ 
                    target<?php echo $id ?>.css('left', e.pageX) 
                    target<?php echo $id ?>.css('top', e.pageY) 
                }
            })  
        })

    </script>
    <?php
    }
    ?>
     </div>
    </table>
    </div>
    <div class='wactch' id='watching' height='480' width='720'>Loading..</div>

    <script>
    /*document.onmousemove=mouseMove;
    function mouseMove(ev)
    {
    ev = ev || window.event;
    var mousePos=mouseCords(ev);
    }
    function mouseCords(ev)
    {
        if(ev.pageX || ev.pageY)
        {
        return{x:ev.pageX,y:ev.pageY);
        }
        return
        {
        x:ev.clientX+document.body.scrollLeft-document.body.clientLeft, y:ev.clientY.document.body.scrollTop-document.body.clientTop
        };
    }
    }*/

    function Deleteqry(id)
    { 
      if(confirm("Are you sure you want to delete this picture?")==true)
               window.location="index.php?del="+id;
        return false;
    }
    function allowDrop(ev)
    {
    ev.preventDefault();
    }

    function drag(ev)
    {
    ev.dataTransfer.setData("Text",ev.target.id);
    }

    function drop(ev)
    {
    ev.preventDefault();
    var data=ev.dataTransfer.getData("Text");
    ev.target.appendChild(document.getElementById(data));
    }
    window.onload=function()
    {
    click("http://www.bluejayke.com/edit/uploaded/dpnewslogo.png");
    }
    function click(url)
    {
    document.getElementById("watching").innerHTML='<embed src="'+url+'" width=720 height=480></embed>';
    }
    </script>

    <?php
    if($_GET['del']){
    $delete_id=$_GET['del'];
    mysql_query("DELETE FROM `uploadedvideos` WHERE `uploadedvideos`.`id` = $delete_id");
    header("location: index.php");

    }

    ?>
    <style type="text/css">
    .wrapper
    {
        width:500px;
            overflow: hidden;
    float: left;
    }
    #watching {
    float: right;
    }
    .div1 {width:750px;height:120px;padding:10px;border:1px solid #aaaaaa; oveflow: hidden;}
    </style> 
```

重要的部分是在while循环中。这段代码的结果是我在 while 循环中创建的所有 div 都堆叠在一起，而我希望它们处于垂直线状结构中。有人对此有任何见解吗？我认为这与 div 的样式有关，但我不确定如何在保持拖放功能的同时解决它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T05:56:21.793

您的 div 被绝对定位。您只需将它们更改为`position:relative;`

[http://www.w3schools.com/css/css_positioning.asp](http://www.w3schools.com/css/css_positioning.asp)

# python - 如何在一页中显示多条 django 消息？

> ID：15017706
> 
> 赞同：1
> 
> 时间：2013-02-22T05:48:10.487
> 
> 标签：python, django, forms, message

在我的主页上，我有一个登录表单和注册表单，我使用 form.is_valid() 来验证表单，

但不是

```
return render(request,'registration/login.html', {'form': form}) 
```

我用

```
messages.error(request, 'username or password wrong.')
return redirect('/') 
```

我这样做是因为在

```
return render(request,'registration/login.html', {'form': form}) 
```

在 form.is_valid() 失败后，刷新页面会导致弹出框说重新提交确认，我不想要这个，所以我使用第二种方法。

问题是有两种形式：登录和注册，我不能把错误信息放在一个地方，那会误导，那么如何在一页显示两条信息？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-22T08:23:52.253

您可以使用`extra_tags`消息框架中的消息来识别两条不同的消息。

例如，对于登录错误

```
messages.error(request, 'username or password wrong.', extra_tags='login') 
```

对于注册错误，

```
messages.error(request, 'username or password wrong.', extra_tags='signup') 
```

然后根据标签在模板中以适当的形式放置消息

```
{# login form #}
{%for message in messages %}
     {%if "login" in message.tags %}
          <p> {{message}} </p>   {# show login error message #}
     {%endif%}
{%endfor%}

{# signup form #}
{%for message in messages %}
     {%if "signup" in message.tags %}
          <p> {{message}} </p>   {# show signup error message #}
     {%endif%}
{%endfor%} 
```

更多参考[添加额外的消息标签](https://docs.djangoproject.com/en/dev/ref/contrib/messages/#adding-extra-message-tags)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T06:15:20.993

您可以使用 form.errors 字典，他存储字段名称和错误消息，以防表单无效，例如：

```
>>> print form.errors
{'password': [u'This field is required']} 
```

然后你可以在你的模板中使用：

```
{% if 'username' in form.errors.keys %}
    <div class="error-message">
        Your username input error message!
    </div>
{% endif %}
{% if 'password' in form.errors.keys %}
    <div class="error-message">
        Your password input error message!
    </div>
{% endif %} 
```

我能看到的唯一问题是输出消息，她有点丑=] 但是你可以使用其他技巧来使它更漂亮，比如使用其他字典来存储漂亮的消息并通过字段名称获取他.. .你做出这个选择。

*对不起，我的英语不好 ;/

# c# - Windows 窗体中的控件数量

> ID：15017713
> 
> 赞同：-1
> 
> 时间：2013-02-22T05:48:56.547
> 
> 标签：c#, forms, controls, limit

出于好奇提出的问题。

一种形式的控件数量是否有推荐限制？多少算太多？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:53:14.210

如果是 VB，那么限制是`256` But even beyong that you can use `control arrays`。和“多少多少取决于您的表单大小”使用尽可能少的控件以使表单看起来美观整洁总是好的。

# excel - 在粘贴 Excel VBA 之前对范围进行排序

> ID：15017717
> 
> 赞同：1
> 
> 时间：2013-02-22T05:48:59.207
> 
> 标签：excel, vba

我正在使用以下代码将特定范围从 a 复制`Workbook`到 another `Workbook`，它工作正常。

但现在我需要`Range`在粘贴到目标工作表之前按升序排序而不更改源。请帮忙。

```
With Workbooks(strExcelFile).Sheets(strSheetName)
     .Range(strRange).Copy
End With

ActiveSheet.Range(strDestCell).PasteSpecial Paste:=xlValues, Operation:=xlNone, SkipBlanks:= _
    False, Transpose:=False 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T06:18:04.190

利用粘贴后将选择新粘贴的范围这一事实；然后你可以使用选择。

```
Public Sub test()
     Range("A1:A8").Copy
    ActiveSheet.Range("B1").PasteSpecial Paste:=xlValues, Operation:=xlNone, SkipBlanks:= _
    False, Transpose:=False
    Selection.Sort key1:=Range("B1")
End Sub 
```

该测试示例适用于任何包含 A1-A8 中一些数据的 Excel 文件。两个地方的 B1 都可以用 strDestCell 代替，A1:A8 可以用 strRange 代替，用于您最终的子例程。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T02:47:32.677

`Select`在使用范围时，您应该尽量避免冗余。您可以更干净地工作`worksheets`，`ranges`如下所示，根据您的问题，这很容易适应工作簿

**代码**

```
Sub ReCut()
    Dim ws1 As Worksheet
    Dim ws2 As Worksheet
    Dim rng1 As Range
    Set ws1 = ThisWorkbook.Sheets(1)
    Set ws2 = ThisWorkbook.Sheets(2)
    Set rng1 = ws1.Range("A1:A10")
    With ws2.[b1].Resize(rng1.Rows.Count, 1)
        .Value = rng1.Value
        .Sort ws2.[b1]
    End With
End Sub 
```

# android - 仅使用 Titanium SDK 在查看区域的地图上显示注释

> ID：15017720
> 
> 赞同：0
> 
> 时间：2013-02-22T05:49:14.837
> 
> 标签：android, iphone, map, annotations, titanium

我在一个数组中本地存储了大约 1200 个注释数据。现在我只想向当前正在查看的区域添加/设置注释。当用户更新区域时，这将添加/设置新的注释。我知道我们可以在 regionChanged 方法中实现它。我希望它能够快速加载。请建议我如何实现这一点，这将是有效的。另外请建议我哪一个足够快一次加载注释

```
mapview.setAnnotations(annotationarray); 
```

或显示为区域明智。应用程序的默认缩放级别是因为它一次只有 2-4 个注释。很抱歉一次有多个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-27T16:27:11.797

使用您当前的区域以及 latitudeDelta 和 longitudeDelta，您可以推断出您当前的地图边界框是什么（这是您当前地图视图的 4 个角的坐标）。

您应该检查每个引脚的坐标是否在边界框内，然后将其保存在单独的数组中。完成检查后，将该注释数组添加到地图视图中。

每次区域更改时，您都应该重复此操作。

我不知道这个解决方案的效率如何，但遍历一个包含 1200 个项目的数组并不便宜。

如果这个解决方案很慢，您也可以将坐标保存在 sqlite 数据库中并每次执行查询。

# sql - 如何在 CTE 中编写 2 个选择语句？

> ID：15017721
> 
> 赞同：2
> 
> 时间：2013-02-22T05:49:18.193
> 
> 标签：sql, sql-server-2008, tsql, common-table-expression

这是我不正确的查询：

```
;With normal As
    (   
        Select  ROW_NUMBER() Over (Order by RecordingDateTime) as RowNum, 
                DocumentID, 
                CreatedByAccountID, 
                JurisdictionID,
                InstrumentID
            --  Cast(InstrumentID as decimal(18)) as InstrumentID
            From Documents  Where RecordingDateTime IS NOT NULL
    )
    Select Top 1 @PreviousInstrumentID = InstrumentID,
                @PreviousDocumentID = DocumentID,
                @PreviousCreatedByAccountID = CreatedByAccountID,
                @PreviousBelongsToJurisdictionID = JurisdictionID
            From normal
                Where RowNum = @RowNum - 1

    Select Top 1 @NextInstrumentID = InstrumentID,
                @NextDocumentID = DocumentID,
                @NextCreatedByAccountID = CreatedByAccountID,
                @NextBelongsToJurisdictionID = JurisdictionID
            From normal
                Where RowNum = @RowNum + 1 
```

我希望两个 select 语句都在 CTE 的上下文中。我如何做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T06:29:30.623

您可以创建另外两个 CTE，并在您的 select 语句中使用它们：

```
;With normal As
    (   
        Select  ROW_NUMBER() Over (Order by RecordingDateTime) as RowNum, 
                DocumentID, 
                CreatedByAccountID, 
                JurisdictionID,
                InstrumentID
            --  Cast(InstrumentID as decimal(18)) as InstrumentID
            From Documents  Where RecordingDateTime IS NOT NULL
    )
, PrevRow AS (
SELECT InstrumentID, DocumentID, CreatedByAccountID, JurisdictionID
FROM normal
WHERE RowNum = @RowNum - 1
), NextRow AS (
SELECT InstrumentID, DocumentID, CreatedByAccountID, JurisdictionID
FROM normal
WHERE RowNum = @RowNum + 1
)
Select Top 1    @PreviousInstrumentID = PrevRow.InstrumentID,
                @PreviousDocumentID = PrevRow.DocumentID,
                @PreviousCreatedByAccountID = PrevRow.CreatedByAccountID,
                @PreviousBelongsToJurisdictionID = PrevRow.JurisdictionID,
                @NextInstrumentID = NextRow.InstrumentID,
                @NextDocumentID = NextRow.DocumentID,
                @NextCreatedByAccountID = NextRow.CreatedByAccountID,
                @NextBelongsToJurisdictionID = NextRow.JurisdictionID

FROM PrevRow 
FULL OUTER JOIN NextRow ON 1=1 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T06:38:37.790

您可以在单个语句中选择两行并使用条件聚合获取相应的值：

```
With normal As
    (   
        Select  ROW_NUMBER() Over (Order by RecordingDateTime) as RowNum, 
                DocumentID, 
                CreatedByAccountID, 
                JurisdictionID,
                InstrumentID
            --  Cast(InstrumentID as decimal(18)) as InstrumentID
            From Documents  Where RecordingDateTime IS NOT NULL
    )
SELECT
  @PreviousInstrumentID            = MAX(CASE RowNum WHEN @RowNum - 1 THEN InstrumentID       END),
  @PreviousDocumentID              = MAX(CASE RowNum WHEN @RowNum - 1 THEN DocumentID         END),
  @PreviousCreatedByAccountID      = MAX(CASE RowNum WHEN @RowNum - 1 THEN CreatedByAccountID END),
  @PreviousBelongsToJurisdictionID = MAX(CASE RowNum WHEN @RowNum - 1 THEN JurisdictionID     END),
  @NextInstrumentID                = MAX(CASE RowNum WHEN @RowNum + 1 THEN InstrumentID       END),
  @NextDocumentID                  = MAX(CASE RowNum WHEN @RowNum + 1 THEN DocumentID         END),
  @NextCreatedByAccountID          = MAX(CASE RowNum WHEN @RowNum + 1 THEN CreatedByAccountID END),
  @NextBelongsToJurisdictionID     = MAX(CASE RowNum WHEN @RowNum + 1 THEN JurisdictionID     END)
FROM normal
WHERE RowNum IN (@RowNum - 1, @RowNum + 1)
; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T06:24:39.397

如果您不需要这些变量分配，因为您在数据读取器中以某种方式使用此查询的输出，您可以只运行一个 CTE：

RowNum = @Row + 1 或 RowNum = @Row - 1

这将为您提供两行的结果，您可以在使用代码中随意使用它。

# javascript - Jstree 选择限制不起作用

> ID：15017723
> 
> 赞同：1
> 
> 时间：2013-02-22T05:49:21.207
> 
> 标签：javascript, jquery, jstree

我有 jstree 的代码，我想将选择限制设置为 3，将选择不超过 3 个节点。但这段代码不起作用。

```
 $("#mytree").jstree({ 
            "plugins" : [ "themes","html_data", "ui", "crrm","checkbox" ],
            "core" : { "initially_open" : defaultOpen },
            "html_data" : {.............},
            "ui" : {
                     "select_limit" : 3
            },
    ..........
    }); 
```

请帮助我。感谢您。

# google-chrome - 是否可以为同一个域创建多个 Chrome 托管应用程序？

> ID：15017725
> 
> 赞同：5
> 
> 时间：2013-02-22T05:49:24.980
> 
> 标签：google-chrome, google-chrome-extension, chrome-web-store, google-chrome-app

[我们的产品](https://paydirtapp.com)既有免费组件，也有全功能、基于订阅的 Web 应用程序。我为我们产品的这两个部分创建了一个 Chrome 托管应用程序 - 本质上是一个可安装的书签。

[应用清单](https://developers.google.com/chrome/apps/docs/developers_guide#manifest)中有趣的部分如下：

```
"manifest_version": 2,
"app": {
    "launch": {
          "container": "tab",
          "web_url": "https://paydirtapp.com/dashboard"
    }
} 
```

* * *

```
"manifest_version": 2,
"app": {
    "launch": {
          "container": "tab",
          "web_url": "https://paydirtapp.com/free_invoice_creator"
    }
} 
```

* * *

我可以安装[免费发票创建应用程序](https://chrome.google.com/webstore/detail/free-invoice-maker/pegffgjpaihmoiajljeclicmckcnagig)和[全功能应用程序](https://chrome.google.com/webstore/detail/paydirt-time-tracking-and/gfdhdljacjbjheinggpijfnmmpkpdkmj)，但不能同时安装两者。

尝试这样做（在 Chrome 26.0.1410.10 (Official Build 183151) dev 中）会导致以下错误消息：

“发生错误。无法添加应用程序，因为它与“免费发票制造商”冲突。

我能找到的关于这个问题的唯一参考是[https://developers.google.com/chrome/apps/docs/developers_guide#manifest](https://developers.google.com/chrome/apps/docs/developers_guide#manifest)，他们在其中声明了以下内容：

* * *

重要提示：如果您提供多个应用程序，请避免 URL 重叠。如果用户尝试安装“web_url”或“urls”值与已安装应用的值重叠的应用，则第二次安装将由于 URL 冲突错误而失败。例如，将“urls”值指定为“ [http://mail.example.com/](http://mail.example.com/) ”的应用程序将与指定“ [http://mail.example.com/mail/](http://mail.example.com/mail/) ”的应用程序发生冲突。

* * *

以前，我的`web_url`值只是设置为`https://paydirtapp.com/`，这导致了同样的错误。我希望更新它以使其不是其他应用程序的子字符串可以解决问题，但事实并非如此。

有谁知道是否有可能`web_url`在同一个域中拥有多个 Chrome 托管应用程序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T05:03:42.220

Moshe Matz 的回答（来自评论的副本）：

为每个应用程序使用单独的子域应该可以工作。例如，使用[https://dashboard.paydirtapp.com](https://dashboard.paydirtapp.com)和[https://free_invoice_creator.paydirtapp.com](https://free_invoice_creator.paydirtapp.com)。您可能需要包含这两个名称的新 SSL 证书。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-29T19:57:42.610

单独的子域应该可以工作。我们目前没有针对同一域案例的解决方案。

# excel - 在 VBA excel 2010 上，我不断收到运行时错误“1004”，其中范围类的 PasteSpecial 方法失败

> ID：15017726
> 
> 赞同：0
> 
> 时间：2013-02-22T05:49:25.970
> 
> 标签：excel, runtime-error, excel-2010, copy-paste, vba

我不断收到运行时错误“1004”，这表示我的范围类的 pastespecial 方法失败。我要做的就是剪下 2 个范围并将它们粘贴到它旁边的一个单元格中，这样我就可以创建一个开放的空范围。由于某种原因，范围类的 pastespecial 方法失败了，我不知道为什么。下面是代码：

* * *

```
Sub ProductivityMacro()

 Dim rDelete As Range

 Dim rCut As Range

 Dim rPaste As Object

 Set rDelete = Range("A:A,C:D,F:J,M:BD")

    rDelete.Delete (xlShiftToLeft)

 Set rCut = Range("C:D")

    rCut.Cut

 Set rPaste = Range("E1")

    rPaste.PasteSpecial xlPasteValues
End Sub 
```

* * *

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:10:09.650

```
Sub ProductivityMacro()

    Dim rDelete As Range

    Dim rCut As Range

    Dim rPaste As Object

    Set rDelete = Range("A:A,C:D,F:J,M:BD")

    rDelete.Delete (xlShiftToLeft)

    Set rCut = Range("C:D")

    rCut.Cut Range("E1")

End Sub 
```

# php - Yii中如何声明全局函数

> ID：15017730
> 
> 赞同：1
> 
> 时间：2013-02-22T05:49:41.403
> 
> 标签：php, yii

我想知道如何在 Yii 中声明常用函数，以便我们可以从任何控制器、视图或模型文件中调用它。例如，我想全局声明日期函数。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T06:03:40.773

您可以创建一个组件，只需在组件中创建一个类，然后创建静态方法。这种方式类似于CHtml，所以我认为是符合框架风格的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T12:40:39.277

某处（不记得）我看到常用函数在目录下的文件中`config/`（但实际上是你想要的任何地方）。如果您将文件`common-func.php`路径命名为它，则要生成`{webroot}/protected/config/common-func.php` 这些全局函数，您需要将此文件包含在`{webroot}/index.php`.

```
//user defined functions accessible over all pages
require_once dirname(__FILE__).'/protected/config/common-func.php'; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-14T11:17:51.150

这样做 -

**在您的组件中**

您需要制作一个类似 MyClass.php 的文件并将其放在 components 文件夹中。在 MyClass.php 中，您可以编写函数。像 -

```
class MyClass extends CApplicationComponent {

 public function get_my_info() {

     //your code here
     //your code here

     return value;
 }
} 
```

**在你的 main.php**（配置文件夹） -

```
'components' => array(
        'myClass' => array(
            'class' => 'ext.components.MyClass',
        ), 
```

现在这个函数可以在整个应用程序（控制器、视图等）中访问，直接在任何地方调用函数 get_my_info() 它将返回你的值。像 -

```
$myInfo = Yii::app()->myClass->get_my_info(); 
```

Source -[如何在整个应用程序中创建和调用自定义全局函数](http://www.yiiframework.com/wiki/727/updated-how-to-create-call-custom-global-function-in-whole-application/)

# plot - 使用 Zedgraph 和 AdvancedHMI Realtime 应用程序的建议

> ID：15017731
> 
> 赞同：0
> 
> 时间：2013-02-22T05:49:44.317
> 
> 标签：plot, real-time, zedgraph, plc

我是 Stackoverflow 的新手。

我正在询问有关使用 Zedgraph 和 AdvancedHMI 的任何建议。

目前，我开发了 ac# 应用程序，该应用程序通过以太网从 PLC 收集“实时”数据。我使用计时器每 10 毫秒收集一次数据，并将这些数据保存到一个列表中。测试结束后，我将数据传递给 MySQL db。

但有时测试太快，所以我无法获得足够的分数。

所以我在征求建议。哪种解决方案更适合“实时”图形、线程或计时器？

主要问题是因为每个测试都有不同的参数，必须即时更新。这些参数来自 PLC。所以我正在做的步骤如下：

1.  初始化 Zedgraph 对象
2.  启动计时器
3.  在计时器内，我向 PLC 询问“标签、X 轴（时间 [ms] 或距离）等）
4.  PLC 发送“validData”标志以绘制或跳过该点
5.  读取 X 和 Y 点
6.  更新图表

我很确定我的方法很糟糕而且效率很低，但我目前没有更好的解决方案。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T13:17:58.880

在 Windows 上执行计时器将永远不会获得实时/一致的结果。该操作系统不是实时操作系统。如果您需要在 10 毫秒内持续采样，则需要在 PLC 中使用计时器并将数据存储在 PLC 中。在测试结束时，您将设置一个位，HMI 将监控该位。一旦 HMI 看到该位为真，HMI 就会从 PLC 读取所有样本。

至于图表，如果您将项目设置为面向 .NET 4.0，则有一个内置的图表组件。

# python - 在 python 中使用静态方法 - 最佳实践

> ID：15017734
> 
> 赞同：19
> 
> 时间：2013-02-22T05:49:46.527
> 
> 标签：python, coding-style, static-methods

什么时候以及如何在 python 中使用静态方法？我们已经建立了使用类方法作为工厂方法来创建对象的实例，应该尽可能避免。换句话说，使用类方法作为替代构造函数并不是最佳实践（请参阅[Python 对象的工厂方法 - 最佳实践](https://stackoverflow.com/questions/14992474/factory-method-for-python-object-best-practice)）。

假设我有一个类用于表示数据库中的一些实体数据。想象一下，数据是一个`dict`包含字段名称和字段值的对象，其中一个字段是使数据唯一的 ID 号。

```
class Entity(object):
    def __init__(self, data, db_connection):
        self._data = data
        self._db_connection 
```

在这里，我的`__init__`方法采用实体数据`dict`对象。假设我只有一个 ID 号，我想创建一个`Entity`实例。首先我需要找到其余的数据，然后创建我的`Entity`对象的一个​​实例。根据我之前的问题，我们确定应该尽可能避免使用类方法作为工厂方法。

```
class Entity(object):

    @classmethod
    def from_id(cls, id_number, db_connection):
        filters = [['id', 'is', id_number]]
        data = db_connection.find(filters)
        return cls(data, db_connection)

    def __init__(self, data, db_connection):
        self._data = data
        self._db_connection

# Create entity
entity = Entity.from_id(id_number, db_connection) 
```

上面是一个例子，说明如果有替代方案，不该做什么或至少不该做什么。现在我想知道是否编辑我的类方法，使其更像是一种实用方法而更少的工厂方法是一个有效的解决方案。换句话说，以下示例是否符合使用静态方法的最佳实践。

```
class Entity(object):

    @staticmethod
    def data_from_id(id_number, db_connection):
        filters = [['id', 'is', id_number]]
        data = db_connection.find(filters)
        return data

# Create entity
data = Entity.data_from_id(id_number, db_connection)
entity = Entity(data) 
```

还是使用独立函数从 ID 号中查找实体数据更有意义。

```
def find_data_from_id(id_number, db_connection):
    filters = [['id', 'is', id_number]]
    data = db_connection.find(filters)
    return data

# Create entity.
data = find_data_from_id(id_number, db_connection)
entity = Entity(data, db_connection) 
```

注意：我不想改变我的`__init__`方法。以前人们建议让我的`__init__`方法看起来像这样`__init__(self, data=None, id_number=None)`，但可能有 101 种不同的方法来查找实体数据，所以我更愿意在某种程度上保持逻辑分离。说得通？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-02-22T19:42:24.100

> 什么时候以及如何在 python 中使用静态方法？

油嘴滑舌的答案是：不经常。

甚至说白了但不是很无用的答案是：当它们使您的代码更具可读性时。

* * *

首先，让我们绕道[文档](http://docs.python.org/2/library/functions.html#staticmethod)：

> Python 中的静态方法类似于 Java 或 C++ 中的静态方法。另请参阅`classmethod()`可用于创建替代类构造函数的变体。

所以，当你需要 C++ 中的静态方法时，你需要 Python 中的静态方法，对吧？

嗯，不。

在 Java 中，没有函数，只有方法，因此您最终创建的伪类只是静态方法的捆绑包。在 Python 中做同样事情的方法就是使用自由函数。

这很明显。然而，最好的 Java 风格是尽可能努力地寻找一个合适的类来插入一个函数，这样你就可以避免编写那些伪类，而做同样的事情是不好的 Python 风格——再次，使用自由函数——而且这个不太明显。

C++ 没有与 Java 相同的限制，但许多 C++ 风格无论如何都非常相似。（另一方面，如果你是一个“现代 C++”程序员，内化了“自由函数是类接口的一部分”的成语，那么你对“静态方法在哪里有用”的直觉对于 Python 来说可能是相当不错的。）

* * *

但是，如果您是从第一原则而不是从另一种语言来解决这个问题的，那么有一种更简单的看待事物的方法：

A`@staticmethod`基本上只是一个全局函数。如果您有一个函数，如果它拼写为，`foo_module.bar()`由于某种原因会更易读，请将其设为. 如果没有，不要。这就是它的全部。唯一的问题是建立对惯用 Python 程序员更易读的内容的直觉。`foo_module.BazClass.bar()``@staticmethod`

当然，`@classmethod`当您需要访问类而不是实例时使用 a ——正如文档所暗示的那样，备用构造函数是这种情况的范例。尽管您通常*可以*通过显式引用类来模拟 a `@classmethod`（`@staticmethod`尤其是当您没有太多子类化时），但您不应该这样做。

* * *

最后，解决您的具体问题：

如果客户端需要通过 ID 查找数据的唯一原因是构造一个`Entity`，这听起来像是您不应该公开的实现细节，而且它也会使客户端代码更加复杂。只需使用构造函数。如果你不想修改你的`__init__`（你是对的，你可能不希望有充分的理由），使用 a`@classmethod`作为替代构造函数：`Entity.from_id(id_number, db_connection)`.

另一方面，如果该查找在其他与`Entity`构造无关的情况下对客户来说本质上是有用的，那么这似乎与类无关`Entity`（或者至少与同一模块中的其他任何东西无关） ）。所以，只要让它成为一个免费的功能。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-02-22T06:08:28.847

链接问题的答案具体说明了这一点：

> @classmethod 是执行“替代构造函数”的惯用方式——stdlib 中到处都有示例——itertools.chain.from_iterable、datetime.datetime.fromordinal 等。

所以我不知道你是怎么想到使用类方法本质上是不好的。我实际上喜欢在您的特定情况下使用类方法的想法，因为它使遵循代码和使用 api 变得容易。

另一种方法是使用默认构造函数参数，如下所示：

```
class Entity(object):
    def __init__(self, id, db_connection, data=None):
        self.id = id
        self.db_connection = db_connection
        if data is None:
            self.data = self.from_id(id, db_connection)
        else:
            self.data = data

    def from_id(cls, id_number, db_connection):
        filters = [['id', 'is', id_number]]
        return db_connection.find(filters) 
```

但是，我更喜欢您最初编写的 classmethod 版本。特别是因为`data`它相当模棱两可。

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2013-02-22T06:08:18.767

你的第一个例子对我来说最有意义：`Entity.from_id`非常简洁明了。

它避免了`data`在接下来的两个示例中的使用，它没有描述返回的内容；用于`data`构造`Entity`. 如果您想具体说明`data`用于构造的`Entity`方法，那么您可以将您的方法命名为类似`Entity.with_data_for_id`或等效的函数`entity_with_data_for_id`。

使用诸如这样的动词`find`也可能会让人很困惑，因为它没有给出任何返回值的指示——当它找到数据时函数应该做什么？（是的，我意识到`str`有一个`find`方法；不是更好地命名`index_of`吗？但是还有`index`……）它让我想起了经典：

![找到 x](../Images/52b212c529b1b3e3dc4430309ff6b4b8.png)

我总是试着去想一个名字对那些（a）不了解系统，以及（b）了解系统其他部分的人来说意味着什么——并不是说我总是成功的！

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-03-14T03:31:23.657

这是@staticmethod 的一个不错的用例。

我一直在做一个游戏作为一个副项目。该游戏的一部分包括基于统计数据的掷骰子，以及拾取影响角色统计数据的物品和效果的可能性（无论好坏）。

当我在游戏中掷骰子时，我基本上需要说……获取基本角色统计数据，然后将任何库存和效果统计数据添加到这个庞大的网状图形中。

您不能在不指示程序如何操作的情况下获取这些抽象对象并添加它们。我也没有在类级别或实例级别做任何事情。我不想在某个全局模块中定义函数。最后一个最佳选择是使用静态方法将统计数据加在一起。这样才最有意义。

```
class Stats:

    attribs = ['strength', 'speed', 'intellect', 'tenacity']

    def __init__(self,
                 strength=0,
                 speed=0,
                 intellect=0,
                 tenacity=0
                 ):
        self.strength = int(strength)
        self.speed = int(speed)
        self.intellect = int(intellect)
        self.tenacity = int(tenacity)

    # combine adds stats objects together and returns a single stats object
    @staticmethod
    def combine(*args: 'Stats'):
        assert all(isinstance(arg, Stats) for arg in args)
        return_stats = Stats()
        for stat in Stats.attribs:
            for _ in args:
                setattr(return_stats, stat,
                        getattr(return_stats, stat) + getattr(_, stat))
        return (return_stats) 
```

这将使统计组合调用像这样工作

```
a = Stats(strength=3, intellect=3)
b = Stats(strength=1, intellect=-1)
c = Stats(tenacity=5)
print(Stats.combine(a, b, c).__dict__) 
```

> > > {'力量'：4，'速度'：0，'智力'：2，'坚韧'：5}

# vim - vim shell 输出更少

> ID：15017735
> 
> 赞同：2
> 
> 时间：2013-02-22T05:49:47.047
> 
> 标签：vim

我在 vim 中有 python 代码，在 vim 命令行中运行它，如下所示：

```
:!python % 
```

输出足够大，屏幕需要滚动才能阅读所有内容，但 vim 只显示输出`more`命令到页面输出，我可以改变这个吗？使用`less`命令分页输出。

`less`我可以使用管道运行命令，

```
:!python % | less 
```

不过好像不方便，要退出两次才能离开。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:32:55.327

尝试将此添加到您的`.vimrc`：

```
command! -nargs=* -complete=shellcmd R new | setlocal buftype=nofile bufhidden=hide noswapfile | r !<args> 
```

示例用法：

```
:R python # 
```

解释：

`:R`打开一个新缓冲区并将 shell 命令的输出读入其中。因为 shell 命令将针对 THAT 缓冲区而不是当前缓冲区执行，所以我们需要使用`#`来引用当前缓冲区。

# knockout.js - 带敲除的漂亮照片

> ID：15017737
> 
> 赞同：0
> 
> 时间：2013-02-22T05:50:04.087
> 
> 标签：knockout.js, prettyphoto

我正在使用 knockoutjs 为照片库绑定来自服务器的数据。当我在这个画廊中使用 prettyphoto 时，它不起作用。这是代码：

```
<div class="gallery">
    <div class="gcontent" data-bind="with: gList">
        <ul id="plist" class="thumbs"  data-bind="foreach: rows">
            <li class="dd">                    
                <div class="thumb">
                    <img width="140" height="100"  data-bind="attr:{src: '/Uploads/media/Images/'+Id+Pic, alt:Title }">
                    <div class="thumbcon">
                        <div class="con">
                            <a data-bind="attr:{href: '/Uploads/media/Images/'+Id+Pic, title:Title}" rel='prettyPhoto[gallery]'>
                                show</a>
                        </div>
                    </div>
                </div>
            </li>                
        </ul>
    </div>
</div> 
```

这个问题有解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T19:47:15.840

以防其他人面临同样的问题。问题是 ajax 没有完成，并且在调用 prettyPhoto 之前数据还没有准备好。要修复它，你必须等到 ajax 调用完成。

例子：

```
$.getJSON(_serviceURL(), function (data) {
if (data != null) {
......
$(document).ready(function () {$("area[rel^='prettyPhoto']").prettyPhoto();}                    
else {
......
}
}); 
```

# iphone - 背景流效果使其他视图表现不佳

> ID：15017738
> 
> 赞同：1
> 
> 时间：2013-02-22T05:50:18.097
> 
> 标签：iphone

我正在开发一个从服务器播放音频文件和视频的应用程序。为此，我使用了 Avplayer 视图控制器。但我的问题是，当播放音频或视频歌曲时，我会转到下一个视图，因为我有来自服务器的歌曲列表并显示在 UItableview 中，但是当我滚动它滚动一段时间后，tableview 不能很好地滚动。可能是因为玩家。

# iphone - Tapku日历中如何使用列表视图和日视图？

> ID：15017739
> 
> 赞同：0
> 
> 时间：2013-02-22T05:50:25.580
> 
> 标签：iphone, ios, objective-c, tapku

我是 iPhone 开发新手。现在我正在开发日历应用程序。我将 TapkuLibrary 用于我的日历应用程序。通过这个库，我只能使用月视图。如何实现日视图和列表视图？请帮我..

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-10-03T06:33:49.543

Tapku 现在有一个，在[http://github.com/devinross/tapkulibrary](http://github.com/devinross/tapkulibrary)`TKCalendarDayView`查看最新的

# c - 用 C 语言编写一个简单的程序时遇到问题，有什么建议吗？

> ID：15017740
> 
> 赞同：0
> 
> 时间：2013-02-22T05:50:37.003
> 
> 标签：c, int

我正在尝试使用 C 中的一个简单等式创建一个调度程序。该程序的目标是询问用户他们在一周内花在学习/工作上的时间（如果超过 40 小时，请告诉他们他们已经完成为周）。

由于这是一项基本任务，我希望它相当容易，因为我过去用 python 3.3 做过类似的事情，尽管经过大量试验，我似乎无法让我的程序正常运行。

*   我的程序适用于整数，但不适用于小数。我如何整合浮动？将 d% 更改为 f%？

**已解决*** 主要问题是无论用户输入什么数字，总是显示一个很大的负数作为最终答案。我试图利用我对 python 的了解在 C 中解决这个问题，但到目前为止，我无法准确理解我哪里出错了。*

任何建设性的批评和/或建议都会很棒。

我添加了评论以显示我编码背后的过程

```
#include <stdio.h>

int main() {
    int a;
    printf("How many hours in a week are you in class?");
    scanf("%d", &a);

    int b;
    printf("How many hours a week are you studying?");
    scanf("%d", &b);

    int c;
    printf("How many hours have you already spent in class and studying this week?");
    scanf("%d", &c);

    int x = (a+b+c);

    if(x >= 40){
        printf("You have spent all the time required for this week.\n");
    }
    else{
        printf ("You have %d hours more to work and study for this week.\n", x);
    }

    //return 0 to end
    return 0;
} 
```

提前致谢！

## 编辑 *

似乎“大负数”错误仅发生在当前的 CodeBlocks 会话中。

我刚刚重新启动计算机并重新加载程序，它似乎工作正常。但是，我知道我的代码并不完美，我仍然会感谢任何比我更有经验的人的意见。

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T06:03:08.820

`scanf(%d, *int)`正在获取新行字符 在调用 scanf 之前尝试 fgets 而不是 scanf 或 fflush(STDIN) 清除缓冲区

# html - IE 是唯一使用 Quirks 模式的浏览器吗？

> ID：15017741
> 
> 赞同：1
> 
> 时间：2013-02-22T05:50:38.097
> 
> 标签：html, browser, doctype, quirks-mode

当 DOCTYPE 未定义或拼写错误等时，旧 IE 是否是唯一进入怪癖模式的浏览器？

还是超级旧的 Firefox、Safari 等也这样做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:18:20.433

不，浏览器通常具有怪癖模式。每个浏览器都有自己的怪癖模式，尽管它们共享一些行为。已经尝试指定在 quirks 模式下究竟发生了什么（或多或少使其成为定义的行为），但目前的情况是一团糟：如果你不使用触发“标准模式”的 doctype 字符串，你会得到不同的 quirks在不同的浏览器上。

请参阅[使用 Doctype 激活浏览器模式](http://hsivonen.iki.fi/doctype/)和[Quirks 模式会发生什么？](http://www.cs.tut.fi/~jkorpela/quirks-mode.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T05:58:04.470

[对维基百科](http://en.wikipedia.org/wiki/Quirks_mode)的简短了解可以回答这个问题......

# java - 使用名称创建 bean 时出错，并且不允许创建单例 bean

> ID：15017746
> 
> 赞同：16
> 
> 时间：2013-02-22T05:51:09.610
> 
> 标签：java, spring

**通过JUnit 测试用例**执行代码时出现以下异常

 **> org.springframework.beans.factory.BeanCreationNotAllowedException：创建名为“somarFactory”的bean时出错：当该工厂的单例正在销毁时，不允许创建单例bean（不要在销毁方法实现中从BeanFactory请求bean！）

有人可以建议可能是什么问题吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-11-27T16:25:18.110

检查您是否有多个 tomcat 的实例。
如果是这种情况，请关闭所有实例，然后打开一个且仅一个实例。
我希望这会帮助你

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-22T07:15:43.557

[转到此线程](http://forums.alfresco.com/forum/installation-upgrades-configuration-integration/installation-upgrades/singleton-bean-creation)

我假设你也有同样的问题。它通过设置`JAVA_HOME`路径和更新你的 JDK 到版本 7 并尝试重新启动你的服务器来解决 ..（[解决方案](http://forums.alfresco.com/comment/68013#comment-68013)）

我认为这可以解决你的问题..

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2018-04-17T07:43:01.727

在我的情况下，
我使用多个线程来调用 bean 方法
，并且在完成所有
调用 context.close()的线程之前
，
通过删除 context.close
我的问题解决了。
希望有用

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2019-02-07T14:40:57.460

在我的集成测试中调试应用程序时，我遇到了这个错误，试图`find`从 Spring Data Repository 调用一个方法。

我的测试代码正在使用`@Async`and `@Scheduled`。经过一番研究，我在我的 spring 集成测试中[禁用](https://stackoverflow.com/a/42597467/2387977)了这两个功能，问题得到了解决。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2018-05-21T17:08:14.657

`@Transactional`在我的情况下使用它解决了多个事务之间的事务冲突。

```
@Transactional(propagation = Propagation.REQUIRED, readOnly = false) 
```

我正在使用 Spring Boot + Spring Data

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-05-29T07:33:05.767

如果您有一个在提供范围内但在运行时不可用的依赖项，您也可以获得此异常。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-09-07T11:56:36.920

就我而言，我有：

```
<dependency>
    <groupId>org.springframework.boot</groupId>-->
     <artifactId>spring-boot-starter-tomcat</artifactId>-->
    <scope>provided</scope>-->
</dependency> 
```

在我的 pom.xml 中的一个新项目中。我删除了它，现在它可以工作了。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2021-03-24T15:02:04.190

我也有这个错误，但在我的情况下，我在错误消息的末尾发现，这与具有相同 @requestmapping 值的两个端点有关，我希望它有所帮助:)

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2021-10-05T16:41:47.907

在完成异步线程以测试方法运行之前完成测试时，我收到了该错误。

修复是为了确保在线程作业完成之前测试不会完成。**

# spring-mvc - 在 Spring 中，具有正常值的 simpleform 控制器？

> ID：15017747
> 
> 赞同：0
> 
> 时间：2013-02-22T05:51:12.633
> 
> 标签：spring-mvc

如何在 Spring 中使用带有“SimpleFormController”的普通“html”表单？我知道，如何使用 spring taglibs 并给我一个例子，如果你知道怎么做？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T10:41:24.323

如果您查看使用 jsp 并使用 Springs 表单标记库生成的页面的源代码，您应该能够看到 SimpleFormController 所需的 HTML 标记的`<form>`格式`<input>`。

# java - 如何从 java struts 1.1 应用程序重写 Tomcat 的 xml 文件属性。特别是 maxPostSIze

> ID：15017749
> 
> 赞同：0
> 
> 时间：2013-02-22T05:51:14.883
> 
> 标签：java, tomcat, file-upload, struts, struts1

我正在尝试通过我的 JAVA Struts 1.1 应用程序上传文件。使用 Tomcat 服务器。我面临的问题是：文件大小大于 Tomcat 允许大小的默认大小。所以我们需要改变server.xml的“maxPostSize”参数

更改 Server.xml 中的 maxPostSize 和 connectionTimeout 后，问题得到解决。但是，如果我们无权更改 server.xml 怎么办？

有没有办法通过Java代码解决这个问题。我们可以覆盖 server.xml 的“maxPostSize”参数的任何方式，我可以配置我的应用程序以忽略 Tomcat 大小并采用指定的大小限制。

请帮忙！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:24:56.690

请检查您的控制器（在 struts-config 中）是否有类似的东西（我认为它实际上是可选的），

```
<controller
maxFileSize="300K" /> 
```

更改大小并检查它是否正常工作。

# asp.net-mvc-3 - 如何设置 Microsoft .Net 图表控件图例的宽度？

> ID：15017752
> 
> 赞同：1
> 
> 时间：2013-02-22T05:51:20.697
> 
> 标签：asp.net-mvc-3, asp.net-charts

图例当前根据它包含的标签的最大宽度自动调整大小，这会抛出我的布局。我需要设置宽度或最小宽度。这是我的图例创建方法：

```
public Legend CreateLegend()
{
   var legend = new Legend();
   legend.Enabled = true;
   legend.Font = new Font("Arial", 11F);
   legend.ForeColor = Color.FromArgb(102, 102, 102);

   return legend;
} 
```

似乎我所做的任何访问图例的位置对象（定义 X 和 Y 坐标、宽度和高度）都会使图例完全消失。

所以`legend.Position.Width`= 5 会让它消失......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:59:32.540

好的，事实证明，如果您没有定义 Position 对象的所有四个属性，它会将它们设置为零......所以高度为零......所以它消失了。惊人的。

# php - 显示错误：试图获取非对象的属性

> ID：15017756
> 
> 赞同：-2
> 
> 时间：2013-02-22T05:51:42.077
> 
> 标签：php, json, codeigniter

代码在第 8、9、10、11 行的控制器中显示错误，试图获取非对象的属性。
//检查所有列名和表名。

我的模型是

```
public function getEducationDetail($educationID) {
    $this->db->select('qual_id,pass_year,institute,percentage,emp_id');
    $this->db->from('emp_edu');
    $this->db->where('edu_id', $educationID);
    $this->db->where('del_flag', 0);
    $query = $this->db->get();
    if ($query->num_rows() > 0):
        return $query->result();
    else:
        return 0;
    endif;
} 
```

我的控制器是

```
 public function getEducationDetail() {

    $this->load->model('mod_admin');
    if (isset($_GET['param'])):
        $educationID = $this->input->get('param');
        $result = $this->mod_admin->getEducationDetail($educationID);
        $jsonArr = array(
            'qualificationID' => $result->qual_id,
            'passOut' => $result->pass_out,
            'institute' => $result->institute,
            'percentage' => $result->percentage
        );
    endif;
    $json = json_encode(array('result' => $jsonArr));
    echo $json;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T05:56:49.537

如果您的模型返回单行`$query->row()`，那么

```
$result = $this->mod_admin->getEducationDetail($educationID);
if (!empty($result)) {
    $jsonArr = array(
        'qualificationID' => $result->qual_id,
        'passOut' => $result->pass_out,
        'institute' => $result->institute,
        'percentage' => $result->percentage
    );
} 
```

如果它返回多行`$query->result()`然后

```
$results = $this->mod_admin->getEducationDetail($educationID);

$jsonArr = array();

if (!empty($results)) {
    foreach ($results as $result) {
        $jsonArr[] = array(
            'qualificationID' => $result->qual_id,
            'passOut' => $result->pass_out,
            'institute' => $result->institute,
            'percentage' => $result->percentage
        );
    }
} 
```

希望这可以帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T05:57:52.577

返回`$query->result()`它将给出多维数组。我想你会得到一个结果。将其更改为`return $query->row()`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T06:12:12.900

模型

```
public function getEducationDetail($educationID) {
    $this->db->select('qual_id,pass_year,institute,percentage,emp_id');
    $this->db->where('edu_id', $educationID);
    $this->db->where('del_flag', 0);
    $query = $this->db->get('emp_edu');

       return $query->row();

} 
```

控制器

```
public function getEducationDetail() {

$this->load->model('mod_admin');
if (isset($_GET['param'])):
    $educationID = $this->input->get('param');
    $result = $this->mod_admin->getEducationDetail($educationID);
if($result){
    $jsonArr = array(
        'qualificationID' => $result->qual_id,
        'passOut' => $result->pass_out,
        'institute' => $result->institute,
        'percentage' => $result->percentage
    );
$json = json_encode(array('result' => $jsonArr));
echo $json;
endif;
   }
} 
```

# database - Weblogic 轻量级数据库？

> ID：15017757
> 
> 赞同：0
> 
> 时间：2013-02-22T05:52:16.430
> 
> 标签：database, jdbc, weblogic

与 Weblogic 10 JBDC 兼容的最佳轻量级数据库解决方案是什么？我正在尝试 Sqlite，但它似乎对 weblogic 不太友好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-06-26T12:52:48.003

使用德比！我认为它是用 Java 编写的最轻量级的 dbms，并且随每个 JVM 一起提供。 [https://en.wikipedia.org/wiki/Apache_Derby](https://en.wikipedia.org/wiki/Apache_Derby)

# asp.net - web.config“位置”中的错误

> ID：15017762
> 
> 赞同：3
> 
> 时间：2013-02-22T05:52:44.753
> 
> 标签：asp.net, iis, web-config, forms-authentication

我的网站有 2 个登录名。1 个在前端用于普通用户，1 个在管理部分，用于管理员（我需要 2 个登录，因为每个都要求不同的登录条件）。为了验证管理目录，我在主站点的 web.config 中设置了一个“位置”元素，如下所示：

```
<location path="Admin">
<system.web>
  <authentication mode="Forms" >
    <forms loginUrl="/Accounts/adminLogin.aspx"/>
  </authentication>
  <authorization>
    <deny users="?"/>
  </authorization>
</system.web> 
```

如果我尝试在浏览器中键入“Admin”目录中的任何页面，我会收到以下错误：

> 在应用程序级别之外使用注册为 allowDefinition='MachineToApplication' 的部分是错误的。此错误可能是由未在 IIS 中配置为应用程序的虚拟目录引起的。

如何设置我的位置元素以正确重定向？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:36:27.113

您收到此错误消息的主要原因有两个。

1.  如果您还没有在 iis 中配置您的 asp.Net 应用程序。如果您尚未将应用程序配置为在 iis 上运行，请首先将您的站点配置为在 iis 上运行。为此，从 iis 创建虚拟目录并授予应用程序权限（读、写）
2.  如果上面没有问题，那么主要是您的站点上存在两个或多个 web.Config 的问题。当您打开某个站点并且如果该应用程序的软件箱备份那么软件主要会创建子文件夹并复制所有文件 + web.Config 在应用程序。只需从子文件夹中删除此子文件夹 web.Config。

检查管理文件夹和主根文件夹中的 web.Config 以获取设置和配置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-21T12:35:30.603

您不能在子目录中更改身份验证模式。只有 WebApplications 可以定义适用于整个应用程序的此设置。位置元素仅在子目录中用于更改授权，而不是身份验证设置。

# sql-server-2008 - 如果存在 SQL Server 2008

> ID：15017763
> 
> 赞同：3
> 
> 时间：2013-02-22T05:52:55.347
> 
> 标签：sql-server-2008, stored-procedures

我有一个表格顺序，其中有 3 列

```
 BookCode  Quantity  Billno
  --------------------------    
   Ed001        2      A1
   Ed002        3      A1
   Ed003        1      A1
   py001        5      A2
   ed001        1      A2
   ed005        2      A2
   ed003        4      A2 
```

现在我想向用户显示我的结果

表**结果**

```
 BookCode   A1     A2
   ----------------------    
   Ed001      2      1
   Ed002      3      0
   Ed003      1      4
   py001      0      5
   ed005      0      1 
```

结果是我的临时表，我改变它并根据添加列`Billno`

这很好用

现在我从表中选择`BookCode`和插入结果`Quantity``Order`

我想要的是，如果已经`bookcode`存在，那么只需更新**结果**表，否则使用该书码插入一个新行。

我该怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T08:03:56.873

我用光标解决了它..

```
create table #Result(BookCode varchar(20),BookRate float)
create table #bill(bilno varchar(max) )
insert into #bill ('A1')
insert into #bill ('A2')

    SET @Ordnum = CURSOR FOR
        SELECT bilno FROM #bill 
                OPEN @Ordnum
            FETCH NEXT
            FROM @Ordnum INTO @billno
                WHILE @@FETCH_STATUS = 0
                 BEGIN                  
                        EXEC ('ALTER TABLE #temp ADD [' + @billno+ '] varchar(30)') 
                            SET @getbookcode = CURSOR FOR
                                SELECT BookCode , BookQuantity , BookRate FROM OrderDetail where BillNo = @billno
                            OPEN @getbookcode
                                FETCH NEXT
                                    FROM @getbookcode INTO @Tbookcode,@TbookQty,@TbookRate
                                        WHILE @@FETCH_STATUS = 0
                                        BEGIN
                                             if exists(select BookCode from #Result where BookCode = @Tbookcode and BookRate = @TbookRate)
                                                begin
                                                    EXEC('Update #Result set [' + @billno+']= '+@TbookQty+' where BookCode = '''+@Tbookcode+''' and  BookRate = '+@TbookRate+'')                 
                                                end                          
                                             else 
                                                begin
                                                    EXEC('Insert Into #Result ([' + @bno + '],BookCode,BookRate) values ( '+@TbookQty +' , '''+@Tbookcode+''','+@TbookRate+')')                                  
                                                end              
                                            FETCH NEXT FROM @getbookcode INTO @Tbookcode,@TbookQty , @TbookRate
                                        END
                                    CLOSE @getbookcode
                                    DEALLOCATE @getbookcode                              
                    FETCH NEXT FROM @Ordnum INTO @bno
                 END
                CLOSE @Ordnum
            DEALLOCATE @Ordnum

 select * from #Result 
```

这里#bill 是存储Billnum 的临时表。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:39:56.550

使用[MERGE](http://technet.microsoft.com/en-us/library/bb510625.aspx)语句。这会根据匹配执行 INSERT 或 UPDATE

像这样的东西，其中包括所需的 PIVOT

```
MERGE INTO result R
USING (
        SELECT
              ISNULL(O1.BookCode, O2.BookCode) AS BookCode,
              ISNULL(O1.Quantity, 0) AS A1,
              ISNULL(O2.Quantity, 0) AS A2
        FROM
              (SELECT * FROM #ORDER WHERE BillNo = 'A1') O1
              FULL OUTER JOIN
              (SELECT * FROM #ORDER WHERE BillNo = 'A2') O2
                                 ON O1.BookCode = O2.BookCode
    ) src ON R.BookCode = src.BookCode
WHEN MATCHED THEN 
    UPDATE
    SET A1 = src.A1, A2 = src.A2
WHEN NOT MATCHED BY TARGET THEN
   INSERT (BookCode, A1, A2)
   VALUES (src.BookCode, src.A1, src.A2); 
```

# tastypie - Tastypie 后的问题

> ID：15017766
> 
> 赞同：0
> 
> 时间：2013-02-22T05:53:10.437
> 
> 标签：tastypie

尝试将数据发布到我的美味派 api 时，我总是收到错误代码 401，即使使用 Django 管理员帐户进行身份验证和授权也是如此。我的 Django 服务器通过“python manage.py runserver IP”作为开发服务器运行

我正在使用最新的美味派和 Django 1.4.3 主分支

## 这是我的 api.py 的一部分

```
class QueueResource(ModelResource):
    class Meta:
        queryset = Queue.objects.all()
        resource_name = 'queue'
        ] 
```

* * *

## 我的卷曲命令：

```
curl --dump-header  -H "Content-Type: application/json" -X POST --data '{"qid": "4", "msg": "An error occured!"}' http://IP/api/fail/ 
```

* * *

## 相应的错误信息：

```
HTTP/1.0 401 UNAUTHORIZED
Date: Wed, 13 Feb 2013 19:16:00 GMT
Server: WSGIServer/0.1 Python/2.7.3
X-Frame-Options: SAMEORIGIN
Content-Type: text/html; charset=utf-8 
```

* * *

你们中有人知道为什么我会收到此错误代码吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:17:08.010

您应该定义将在资源的元类中使用的授权。

默认值为 ReadOnlyAuthorization。
您可以在[这里找到更多信息](http://django-tastypie.readthedocs.org/en/latest/authorization.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-07-29T21:33:00.423

就像 UnLiMiTeD 所说的那样，您需要定义[Authorization](http://django-tastypie.readthedocs.io/en/latest/authorization.html)。

```
from tastypie.authorization import Authorization
class QueueResource(ModelResource):
    class Meta:
        authorization = Authorization()
        queryset = Queue.objects.all()
        resource_name = 'queue' 
```

这将使`QueueResource`没有授权限制。您可以在不验证任何凭据的情况下发布到它。

默认授权方法是`ReadOnlyAuthorization`.

# javascript - 从右到左的可折叠面板

> ID：15017769
> 
> 赞同：1
> 
> 时间：2013-02-22T05:53:23.573
> 
> 标签：javascript, jquery, css

我正在使用从右到左的 jQuery 可折叠面板，但是当单击以关闭并突出显示活动链接时，它无法正常工作...

请找到链接：

[http://jsfiddle.net/egUHv/](http://jsfiddle.net/egUHv/)

代码是：

```
$(function() {
    $('#nav').stop().animate({'marginRight':'-100px'},1000);

function toggleDivs() {
    var $inner = $("#nav");
    if ($inner.position().right == "-100px") {
        $inner.animate({right: 0});
        $(".nav-btn").html('<img src="images/slide-out.png" alt="open" />')
    }
    else {
        $inner.animate({right: "100px"}); 
        $(".nav-btn").html('<img src="images/slide-out.png" alt="close" />')
    }
}
$(".nav-btn").bind("click", function(){
    toggleDivs();
});

}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:09:35.117

看到这个：http: [//jsfiddle.net/egUHv/5/](http://jsfiddle.net/egUHv/5/)

```
$(function() {
$('#nav').stop().animate({'margin-right':'-100px'},1000);

function toggleDivs() {
var $inner = $("#nav");
if ($inner.css("margin-right") == "-100px") {
    $inner.animate({'margin-right': '0'});
    $(".nav-btn").html('<img src="images/slide-out.png" alt="open" />')
}
else {
    $inner.animate({'margin-right': "-100px"}); 
    $(".nav-btn").html('<img src="images/slide-out.png" alt="close" />')
}
}
$(".nav-btn").bind("click", function(){
    toggleDivs();
});

}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T06:13:29.133

[jQuery 的 .position()](http://api.jquery.com/position/)不返回具有`right`属性的对象，因此您当前的代码始终处于`else`条件中（因为`$inner.position().right === undefined !== '-100px'`）。

`.position()`返回具有`left`和`top`属性的对象。

这是使用`#nav`元素上的类切换来确定导航是否关闭/打开而不是检查元素位置的解决方案：

```
$(function() {
  $('#nav')
    .stop()
    .animate({'marginRight':'-100px'},1000, function() { $(this).addClass('closed'); });

  function toggleDivs() {
    var $inner = $("#nav");
    var $img = $(".nav-btn img", $inner);

    if ($inner.hasClass('closed')) {
      $inner.animate({ right: "100px" }); 
      $img.attr('alt', 'close');
    } else {
      $inner.animate({ right: 0 });
      $img.attr('alt', 'open');
    }

    $inner.toggleClass('closed');
  }

  $(".nav-btn").bind("click", function() {
    toggleDivs();
  });
}); 
```

# function - 在具有 ComputerCraft 的 Lua 中使用并行函数时的变量重置

> ID：15017770
> 
> 赞同：2
> 
> 时间：2013-02-22T05:53:23.813
> 
> 标签：function, lua, minecraft, computercraft

我是一名初学者，在 ComputerCraft (Minecraft) 中设计了一个 Lua 程序，该程序在玩家第一次使用时询问他们的名字，并记录下来。现在，我想要一个程序来检测变量`firstname`是否等于 nil，如果是则询问名称。如果变量不等于 nil，则表示您不需要注册。我目前只有在从主菜单`register()`按下后才打电话。`5`

问题是每次我`firstname`在提示时分配一个字符串时，`firstname`当主菜单出现时返回为零。我什至把它放在`print(firstname)`菜单的末尾来测试它。

我假设这是由于这一切都运行的并行功能。我并行运行`MainMenu()`，`Controls()`以便我可以同时收听键盘输入和红石输入。

如何在保留变量的同时保持功能监听和菜单工作？

这是完整的代码：

```
 rednet.open("back") --Opens rednet on the back side of computer

    local innerdooropen = false --Stuff to do with the airlock
    local outerdooropen = false

    function reset()  --A handy function for screen reset
      term.clear()
      term.setCursorPos(1,1)
    end

    local function register()  --This is the registration menu system
        if firstname == nil then
            print "Welcome to Obsidian Station!"
            print "You must register before entering"
            print "Please type your first name"

            local firstname = read()

            if firstname ~= "" then
                print("Enter your last name")
                local lastname = read()
                    print("You are now registered "..firstname.." "..lastname)
                    sleep(3)

                    rednet.broadcast(firstname.." "..lastname)

            elseif firstname == "" then
                print "You must register to enter"
                shell.run("startup")
            end
        end
        if firstname ~= nil then
            print("Registration Not Needed")
            sleep(2)
        end

    end

    --Beginning of Section You Don't Have to Read        
    local function MainMenu()
    while true do
    term.clear()
    term.setCursorPos(1, 1)
    if innerdooropen == true then
        rs.setOutput("left", false)
    end
    if outerdooropen == true then
        rs.setOutput("right", false)
    end
    if innerdooropen == false then
        rs.setOutput("left", true)

    end
    if outerdooropen == false then
        rs.setOutput("right", true)
    end

    print "Safety Airlock Control"
    print "~~~~~~~~~~~~~~~~~~~~~~"
    print "[1] Open Outer Door"
    print "[2] Open Inner Door"
    print "[3] Close Both Doors"
    print ""
    print "[4] Open Both Doors - WARNING! DANGEROUS!"
    print ""
    print "[5] Register"
    print(firstname)

    input = read()

    if input == "2" then
      print "Inner Door Open"
      outerdooropen = false
      sleep "1"
      innerdooropen = true

    end

    if input == "1" then
      print "Outer Door Open"
      innerdooropen = false
      sleep "1"
      outerdooropen = true
    end

    if input == "3" then
      print "Both Doors Closed"
    innerdooropen = false
    outerdooropen = false
    end

    if input == "5" then
        reset()
        register()
    end
    if input == "6" then
        print("firstname: "..firstname)
        sleep(3)
    end

    if input == "4" then
      term.clear()
      term.setCursorPos(1, 1)
      print "CONFIRM BOTH DOORS OPEN? [y] [n]"
      input = read()
      if input == "y" then
        print "OPENING AIRLOCK DOORS IN"
        sleep "1"
        print "10"
        sleep "1"
        print "9"
        sleep "1"
        print "8"
        sleep "1"
        print "7"
        sleep "1"
        print "6"
        sleep "1"
        print "5"
        sleep "1"
        print "4"
        sleep "1"
        print "3"
        sleep "1"
        print "2"
        sleep "1"
        print "1"
        sleep "1"
        innerdooropen = true
        outerdooropen = true
        print "DOORS OPEN"
        sleep "1"
      end
     elseif input == "n" then
       term.clear()
       term.setCursorPos(1, 1)
       shell.run("startup")
     end

    end
    end

    --end of section you don't have to read

    local function Controls()
        while true do
                local e = os.pullEvent()
                if e == "redstone" and rs.getInput("bottom") then
                        redstone.setOutput ("left", true)
                        sleep "1"
                        redstone.setOutput ("right", false)
                        innerdooropen = true
                        outerdooropen = false
                end
        end
    end
    while true do
       parallel.waitForAll(MainMenu,Controls)
    end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T05:59:27.543

在并行之外初始化名字。放在`local firstname`代码的顶部，然后更改`local firstname = read()`为 just `firstname = read()`，并对姓氏执行相同的操作。

在检查它是否为 nil 之后创建变量，这就是它总是返回 nil 的原因。同样，当函数结束时，firstname 不再存在，因为它是在函数内部调用和创建的。所以它总是返回零。你的代码的顶部应该是这样的

```
rednet.open("back") --Opens rednet on the back side of computer

local innerdooropen = false --Stuff to do with the airlock
local outerdooropen = false
local firstname = ""
local lastname = "" 
```

其他部分应如下所示：

```
 if firstname == nil then
        print "Welcome to Obsidian Station!"
        print "You must register before entering"
        print "Please type your first name"

        firstname = read()

        if firstname ~= "" then
            print("Enter your last name")
            lastname = read()
                print("You are now registered "..firstname.." "..lastname)
                sleep(3) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T06:00:38.913

您应该在检查 firstname 是否等于 nil 之前对其进行初始化。

```
local firstname = nil; --Move this up here so that you can access it elsewhere.
local lastname = nil; --This is also needed out here.

local function register()  --This is the registration menu system
    if firstname == nil then
        print "Welcome to Obsidian Station!"
        print "You must register before entering"
        print "Please type your first name"

        firstname = read() --Change this to just setting firstname to the read name.

        if firstname ~= "" then
            print("Enter your last name")
            lastname = read()
                print("You are now registered "..firstname.." "..lastname)
                sleep(3)

                rednet.broadcast(firstname.." "..lastname)

        elseif firstname == "" then
            print "You must register to enter"
            shell.run("startup")
        end
    end
    if firstname ~= nil then --Now this will not error as well.
        print("Registration Not Needed")
        sleep(2)
    end

end 
```

这允许在其他地方访问名字，而不仅仅是在第一个 if 语句中。您正在检查未初始化的变量是否等于 nil。

编辑：看到 purxiz 的回答并意识到您可能还希望 lastname 不在循环中。我现在在上面的代码中修复了它。

# ios6 - 基于音频iOS的动画

> ID：15017773
> 
> 赞同：0
> 
> 时间：2013-02-22T05:53:43.440
> 
> 标签：ios6, xcode4.5, avaudioplayer, uianimation

我希望根据将要播放的音频来完成动画？这可能吗？基本上我有一个需要根据音频完成的脉冲动画？我该怎么做。希望得到我的想法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T08:15:41.390

这个有可能。AudioGraph ( [https://github.com/tkzic/audiograph](https://github.com/tkzic/audiograph) ) 中提供了音频捕获和处理的详细实现。同一个演示包含一个非常基本的基于音频的动画示例（仅使用进度条控件显示电平表）。

为了获得更好的动画效果，您可以将 OpenGL ES 与上面的代码一起使用。我在我的一个项目中做到了这一点。

# javascript - 正则表达式、unicode 和 javascript。如何区分“\u306E”和字符“の”？

> ID：15017774
> 
> 赞同：0
> 
> 时间：2013-02-22T05:53:55.547
> 
> 标签：javascript, unicode

假设我有一个接受 Unicode 字符串作为参数的 JavaScript 函数：

`function eleFunc(str){ ...
}`

如何在函数内部以编程方式确定它是使用包含 Unicode 转义序列的字符串还是实际字符调用的？如，它是否被称为：

`eleFunc("\u306E"); //the Unicode escape for "の"`

或者

`eleFunc("の");　// the character itself　`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T06:59:24.153

这些仅在源代码中有所不同。此信息在运行时不可用，因为解析器将其丢弃 - 两者都被解析器转换为完全相同的 JavaScript 字符串。

你真正想做的是什么？知道一个字符串是如何在源代码中呈现的（或者如果它甚至是在任何源代码中）对于函数来说并不是真正有用的事情。

# javascript - 通过内置电视网络浏览器的网络应用程序

> ID：15017776
> 
> 赞同：3
> 
> 时间：2013-02-22T05:54:10.017
> 
> 标签：javascript, css, television

**背景**

我有兴趣在电视上部署一个无需用户交互即可显示实时数据的 Web 应用程序。

理想情况下，我将只使用许多新电视内置的网络浏览器来显示此内容，而不必为每个品牌的电视编写特定于电视的“应用程序”。

出于成本、电力、维护和安全原因，我想避免将 PC 连接到每台电视。

**我的问题**

1.  是否有参考，例如[http://caniuse.com/](http://caniuse.com/)，关于各种电视中的 Web 浏览器在 JavaScript 和 CSS 方面的支持？
2.  是否有任何特定框架有助于开发可在多台电视上运行的 Web 应用程序（非内置应用程序）？
3.  就内置网络浏览器而言，是否有任何品牌的电视被认为具有优势？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T23:54:13.167

这是一个有趣而广泛的问题。我能找到的最接近电视*caniuse*的是[html5test.com](http://html5test.com/)。所以这是一个很好的起点：[http ://html5test.com/results/television.html](http://html5test.com/results/television.html)

据我所知，大多数较新的电视网络浏览器都是基于 WebKit 的，但也有一些限制，例如本地存储。

如果您知道您将为哪款电视开发，您可能最好查看选择的特定品牌浏览器的支持情况。

为方便起见，以下是链接的快速汇编：

*   三星：自己推出基于WebKit的？[http://www.samsungdforum.com/Devtools/Spec](http://www.samsungdforum.com/Devtools/Spec)
*   东芝：Evo 浏览器 - [http://www.espial.com/products/evo_browser/](http://www.espial.com/products/evo_browser/)
*   夏普：进化浏览器
*   飞利浦：歌剧 - [http://www.opera.com/business/tv/](http://www.opera.com/business/tv/)
*   索尼：歌剧
*   LG：LG 网播 2012 - [http://html5test.com/compare/browser/lgnetcast2012.html](http://html5test.com/compare/browser/lgnetcast2012.html)

根据 html5test.com 的结果，目前任何带有 Evo 浏览器（或者也可能是 Opera 浏览器）的电视在查看 HTML5 支持时似乎都是最佳选择。一般来说，如果您使用这些浏览器中的任何一个选择电视，您可能不会出错。与几个大品牌合作后，Evo 浏览器似乎获得了一些吸引力。然而，Opera 有一些看似[不错的开发工具（模拟器）](http://www.opera.com/business/tv/emulator/)，所以它可能是更好的选择。

如果你不知道你将要开发什么，你通常最好选择[jQuery](http://www.jquery.com)，但你也可以阅读[特征检测](http://peter.michaux.ca/articles/feature-detection-state-of-the-art-browser-scripting)，以便在任何给定的电视上为你的 Web 应用程序提供最佳的用户体验.

以下是 jQuery 的可能替代方案列表：

*   “我的图书馆”（[http://www.cinsoft.net/mylib.html](http://www.cinsoft.net/mylib.html)）
*   杰西（[https://github.com/rassie/jessie/wiki](https://github.com/rassie/jessie/wiki)）
*   Matt 的 DOM Utils ( [http://www.fortybelow.ca/Projects/JavaScript/Utils/](http://www.fortybelow.ca/Projects/JavaScript/Utils/) )

它们不是专门用于电视浏览器的，所以 jQuery 可能仍然是更好的选择。

* * *

作为一个完全不同的解决方案，你可以买一个便宜的[Raspberry Pi](http://www.raspberrypi.org/)，用你选择的 linux 发行版加载它，然后把它连接到电视上。然后，您可以使用您喜欢的任何桌面浏览器，以及其所有出色的功能。

# coldfusion - ColdFusion 使用 cfajaxproxy 给出“模板拒绝访问”错误

> ID：15017778
> 
> 赞同：1
> 
> 时间：2013-02-22T05:54:35.967
> 
> 标签：coldfusion, coldfusion-8

我需要一个连接到我的服务器的 cfajaxproxy 接口（无需在页面上提交即可传递数据）。希望 cfajaxproxy 是正确的方法吗？

[为了了解这一点，我首先修改了http://tutorial13.learncf.com/](http://tutorial13.learncf.com/)上显示的示例教程，但在收到“模板拒绝访问”错误后，我决定直接按原样使用该教程，它只有两个小文件（可以从他的教程中剪切和粘贴）。不幸的是，我在他的教程中遇到了同样的错误（即使他在他的网站上作为演示运行）。所以 ？？

我将proxy.cfc 文件放在我正在访问的（主）wwwroot 目录中（第一次使用cfc）。我是否需要要求托管公司允许服务器上的某些内容（运行 ColdFusion 8）？

谢谢。错误详情如下：

处理请求安全时发生错误：请求的模板已被拒绝访问 C:/Coldfusion8/wwwroot/WEB-INF/cfclasses/cfproxy2ecfc771136334.class。

以下是内部异常消息：访问被拒绝（java.io.FilePermission C:/Coldfusion8/wwwroot/WEB-INF/cfclasses/cfproxy2ecfc771136334.class read）

```
ColdFusion cannot determine the line of the template that caused this error. This is often    caused by an error in the exception handling subsystem.
Resources:
Check the ColdFusion documentation to verify that you are using the correct syntax.
Search the Knowledge Base to find a solution to your problem.
Browser     Mozilla/5.0 (Windows NT 6.0) AppleWebKit/537.17 (KHTML, like Gecko)    Chrome/24.0.1312.57 Safari/537.17
Remote Address      72.201.113.149
Referrer    
Date/Time   22-Feb-13 12:42 AM
Stack Trace
java.security.AccessControlException: access denied (java.io.FilePermission    C:/Coldfusion8/wwwroot/WEB-INF/cfclasses/cfproxy2ecfc771136334.class read) at  cfdemo2ecfm1260454926.runPage(C:/Websites/202350mu7/wwwroot/sf/demo.cfm:1) 

java.security.AccessControlException: access denied (java.io.FilePermission C:\Coldfusion8\wwwroot\WEB-INF\cfclasses\cfproxy2ecfc771136334.class read)
at java.security.AccessControlContext.checkPermission(AccessControlContext.java:374)
at java.security.AccessController.checkPermission(AccessController.java:546)
at java.lang.SecurityManager.checkPermission(SecurityManager.java:532)
at java.lang.SecurityManager.checkRead(SecurityManager.java:871)
             ... 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T10:05:53.747

这是一个安全沙箱问题，您需要联系您的主机并确保您有一个可以访问此文件夹的沙箱。

# html - 根据窗口的宽度排列成行

> ID：15017781
> 
> 赞同：0
> 
> 时间：2013-02-22T05:54:45.543
> 
> 标签：html, css

我有一组相同大小的图像。
我想将它们显示为类似表格的结构，但要更改“列”的数量，具体取决于用户浏览器的窗口宽度，所有结构都居中。
我想出的是：http: [//jsfiddle.net/MHva2/3/](http://jsfiddle.net/MHva2/3/)。

```
.container {
    display: table;
    margin: auto;
}

.element {
    width: 200px;
    height: 200px;
}

<div class = "container">
    <img class = "element" />
    <img class = "element" />
</div> 
```

仅当所有图像都可以放在一行中时才有效。
一旦行“中断”，`container`元素就会占据所有空闲位置，如下所示：http: [//jsfiddle.net/MHva2/5/](http://jsfiddle.net/MHva2/5/)。
有没有办法让它在这种情况下围绕其内容流动？

**更新：**
我会尽力解释。
我想要的是浏览器自动将图像放置在容器中，它们应该看起来像表格单元格，列数等于`floor(window_width / image_width)`.
图像数量可能会有所不同，整个表格结构应该居中。
我画了一张图片，展示了具有相同数量图像的同一页面在不同大小的窗口中的外观：[http](http://rghost.net/44024115.view) ://rghost.net/44024115.view 。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:38:08.937

@milind_developer 是正确的，您的问题措辞不佳，当然可以使用更多细节。

据我所知，您想要灵活数量的列，这将随着用户视口的大小而扩展/收缩？

为此，您可以创建一个列类，如：

```
.example-column {
    float: left;
} 
```

然后在列中包含您希望的任何元素：

```
 <body>
    <div class="wrapper">
        <div class="container">
            <div class="example-column">
                <div class="element"></div>
                <div class="element"></div>
                <div class="element"></div>
           </div>
           <div class="example-column">
                <div class="element"></div>
                <div class="element"></div>
                <div class="element"></div>
           </div>
        </div>
    </div>
</body> 
```

浮动样式提供了基本级别的流畅布局，但您可能还希望通过使用媒体查询对列的行为施加很高的精度，例如

```
@media only screen and (max-width: 500px) {
   .example-column {
        float: none;
    } 
} 
```

这将强制 500 像素以下的任何内容使用一列布局（如果您想要更好的控制使用 ID）。

小提琴：http: [//jsfiddle.net/MHva2/8/](http://jsfiddle.net/MHva2/8/)

# ios - iPad 6.0 中的 UINavigationbar 背景颜色问题 setTintColor

> ID：15017783
> 
> 赞同：3
> 
> 时间：2013-02-22T05:54:48.853
> 
> 标签：ios, ipad, ios5, ios6, ios-simulator

嗨，我是 iPad 开发的新手，我正在开发一款与 iPad 5.1 模拟器和 iPad 6.0 模拟器兼容的应用程序

我在 5.1 SDK 中做了类似的事情

```
[self.navigationBar setTintColor:[UIColor colorWithRed:0.247f green:.301f blue:0.325f alpha:1.0f]]; 
```

相同的代码不适用于 iPad 6.0 模拟器，

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:53:06.680

对于 ios 6.0，您可以使用 UIAppearance 框架并设置颜色。在您的 AppDelegate 中使用`[[UINavigationBar appearance] setTintColor:color];`didFinishLaunchingWithOptions。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-26T09:39:11.643

试试这个代码并用你的值替换 0

```
self.navigationController.navigationBar.tintColor = [UIColor colorWithRed:(0/255.0) green:(0/255.0) blue:(0/255.0) alpha:1]; 
```

# android - Android 测试项目中的参数化 JUnit 测试

> ID：15017784
> 
> 赞同：5
> 
> 时间：2013-02-22T05:54:57.027
> 
> 标签：android, unit-testing, testing, junit

当我在 JUnit 3.x 中创建参数化测试用例时，我通常会创建一个类似的 TestSuite

```
public static Test suite() {
    TestSuite s = new TestSuite();

    for (int i = MIN; i < MAX; ++i) {
        s.addTest(new MyTest(i));
    }
} 
```

`suite()`从桌面命令行运行 JUnit 时会正确调用此方法。当我用我的 Android 测试项目尝试这个时，测试没有运行。如何让我的测试在模拟器上运行？或者是否有不同的方法来为 Android 创建参数化测试？

~~**更多想法：**~~

通常我使用命令行运行我的测试：

```
adb shell am instrument -w [-e class <fully qualified test class name>[#<test method name>()]] <Android package name>/android.test.InstrumentationTestRunner 
```

~~这允许我从我的测试套件中选择要运行的测试。理想情况下，我也想以这种方式运行参数化测试。@Appu 评论中的链接描述了构建一个运行 JUnit 测试的单独应用程序。作为其中的一部分，这个应用程序有一个自定义的 TestRunner。我很可能会借用这些想法来创建一个可以用来代替`android.test.InstrumentationTestRunner`. 对于一项不常见的任务，这似乎需要做很多工作。如果 Android API 中已经有类似的解决方案，我不想重新发明轮子。有谁知道这样的事情？此外，其他替代解决方案也会有所帮助。~~

没关系，看起来@dtmilano 已经发布了这个作为答案......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T06:46:18.127

您可以实现一个测试运行程序，以便能够将参数传递给 Android 测试。请参阅[如何将参数传递给 android junit 测试（参数化测试）](https://stackoverflow.com/questions/14820175/how-to-pass-an-argument-to-a-android-junit-test/14821971#14821971)的示例。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-10-21T18:32:49.283

> 或者是否有不同的方法来为 Android 创建参数化测试？

我们（Square）为此编写了一个名为[Burst](https://github.com/square/burst)的库。如果您在测试构造函数中添加枚举参数，Burst 的测试运行器将为枚举值的每个组合生成一个测试。例如：

```
public class ParameterizedTest extends TestCase {
  enum Drink { COKE, PEPSI, RC_COLA }

  private final Drink drink;

  // Nullary constructor required by Android test framework
  public ConstructorTest() {
    this(null);
  }

  public ConstructorTest(Drink drink) {
    this.drink = drink;
  }

  public void testSomething() {
    assertNotNull(drink);
  }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-10-21T19:40:00.123

在最初写完这个问题之后，我发现我可以直接运行一个包含静态`suite()`方法的测试类：

```
adb shell am instrument -w -e class <fully qualified test class name> <Android package name>/android.test.InstrumentationTestRunner 
```

但是，当我尝试运行给定包中的所有测试时，测试套件不会运行。

当然，这已经有一段时间了。现在我使用的是 Android Studio 而不是命令行。我仍然可以单独运行测试类，但是当我选择一个包或尝试运行我的所有测试时它仍然不运行。

一种可能的替代方法是编写一个主测试类，其`suite()`方法是将所有测试添加到返回的`TestCase`. 不幸的是，每次我向套件中添加新的测试类时，都需要进行一些手动编辑。

# vb.net - 如何在灯光开关中访问自定义控件值

> ID：15017785
> 
> 赞同：1
> 
> 时间：2013-02-22T05:55:06.000
> 
> 标签：vb.net, visual-studio-lightswitch

我已经为灯光开关创建了以下自定义控件，我如何访问和获取数据？

```
<UserControl x:Class="CustomControls.DateRange"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    d:DesignHeight="75" d:DesignWidth="123">
    <Grid x:Name="LayoutRoot" Background="White" Height="73">
        <ComboBox Height="23" HorizontalAlignment="Left" Margin="12,9,0,0" Name="cmbStartYear" VerticalAlignment="Top" Width="100" />
        <ComboBox Height="23" HorizontalAlignment="Left" Margin="13,39,0,0" Name="cmbStartMonth" VerticalAlignment="Top" Width="99" />
    </Grid>
</UserControl> 
```

xaml.vb 文件编码：在这里，我根据我的逻辑为这些组合框添加了值。

```
Private Sub UserControl_Loaded(sender As System.Object, e As System.Windows.RoutedEventArgs) Handles MyBase.Loaded
        Dim availableYears As List(Of Integer) = GetYears()

        For Each year As Integer In availableYears
            cmbStartYear.Items.Add(year)
        Next
    End Sub 
```

然后我将该自定义控件添加到屏幕。（首先创建属性，然后为其分配自定义控件）

![在此处输入图像描述](../Images/04d05477615d54a8213b2444f63034cb.png)

运行时会显示如下 ![在此处输入图像描述](../Images/7c19e831ca3063e1f8f596f0ad88c618.png)

所以我的问题是如何访问这两个组合框并获得它的价值？

我找到

```
Dim cmbyear As IContentItemProxy = Me.FindControl("StartYear") 
```

可用于访问控制。但是我怎样才能分别获得每个控件的值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:40:10.270

这可以按如下方式完成：首先必须创建本地属性，并且在自定义控件中需要将它们与这些值绑定。

在我的场景中，我创建了两个名为 StartYear/StartMonth 的本地属性。然后在自定义控件中需要将它们绑定到`SelectedItem`并且模式必须是`TwoWay`. 我是这样做的：

```
<Grid x:Name="LayoutRoot" Background="White" Height="73">
        <ComboBox Height="23" HorizontalAlignment="Left" Margin="12,9,0,0" Name="cmbStartYear" VerticalAlignment="Top" Width="100" SelectedItem="{Binding Screen.StartYear, Mode=TwoWay}"/>
        <ComboBox Height="23" HorizontalAlignment="Left" Margin="13,39,0,0" Name="cmbStartMonth" VerticalAlignment="Top" Width="99" SelectedItem="{Binding Screen.StartMonth, Mode=TwoWay}" />
    </Grid> 
```

然后在我的 xaml.vb 代码中可以直接访问那些本地属性。

# unix - 如何使用 awk 在右侧数据的基础上组合文件的左侧字段。

> ID：15017787
> 
> 赞同：0
> 
> 时间：2013-02-22T05:55:08.810
> 
> 标签：unix, sed, awk

如果右侧数据很常见，我想合并左侧数据。输入 ：

```
DAN|ab
NAB|ab
PAT|ab
DAN|asd
DAN|gg
NAB|re
DAN|rr
PAT|rr
NAB|sd
DAN|we
PAT|ww 
```

输出应该是：

```
DAN,NAB,PAT|ab
DAN|asd
DAN|gg
NAB|re
DAN,PAT|rr
NAB|sd
DAN|we
PAT|ww 
```

如果管道的右侧数据很常见，则合并左侧数据。请建议我任何解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:18:54.130

另一个：

```
awk -F\| '{A[$2]=A[$2] (A[$2]?",":x) $1} END{for(i in A)print A[i] FS i}' file 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T06:05:26.150

```
awk -F"|" '{a[$2]=a[$2]","$1;next}END{for(i in a)print substr(a[i]"|"i,2)}' your_file 
```

测试：

```
> cat temp
DAN|ab
NAB|ab
PAT|ab
DAN|asd
DAN|gg
NAB|re
DAN|rr
PAT|rr
NAB|sd
DAN|we
PAT|ww
> awk -F"|" '{a[$2]=a[$2]","$1;next}END{for(i in a)print substr(a[i]"|"i,2)}' temp
DAN|gg
DAN|asd
NAB|sd
NAB|re
DAN|we
DAN,PAT|rr
PAT|ww
DAN,NAB,PAT|ab 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T05:59:30.420

```
awk '
  BEGIN {FS="|"}
  {if (vals[$2]) { vals[$2]=vals[$2]","$1 } else { vals[$2]=$1 } }
  END { for (key in vals) { print vals[key]"|"key } }
' 
```

# javascript - 在圆形路径上拖动画布元素

> ID：15017791
> 
> 赞同：1
> 
> 时间：2013-02-22T05:55:34.507
> 
> 标签：javascript, jquery, geometry, html5-canvas, jquery-knob

我想使用 HTML5 Canvas 实现类似 jQuery Knob 的效果，但使用圆形旋钮/光标，而不是 jQuery Knob 所做的笔划光标效果。

基于 jQuery Knob 代码，我设法将 onMouseMove 事件与我的圆形旋钮/光标连接起来，以便圆形旋钮根据鼠标所在位置的 X 和 Y 坐标移动。但是，我不能像[**此示例**](http://bseth99.github.com/projects/svg/4-raphael-svg-slider.html)一样“限制”旋钮仅在圆形路径上/沿圆形路径移动，因此如果我在圆形路径内单击/鼠标按下，圆形旋钮将移动到路径内。

有没有办法只使用 Canavas 和 jQuery 来实现这一点，而不是像上面的例子那样使用 Raphael？

[**我的一个想法是，只要在路径外发生 mousemove 事件（像这样**](http://wrappingcontainer.com/stackoverflow/referenceimages/2.jpg)） ，就将圆形旋钮移回轨道（在路径上）。然而，没有运气成功地为此计算。我可以使用任何数学/几何公式来实现这一目标吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T08:06:13.943

只需一点三角函数即可回答您的问题！

此代码将找到最接近鼠标点击的圆上的点。

```
var rads = Math.atan2(mouseY - knobCenterY, mouseX - knobCenterX);
var indicatorX=knobRadius*Math.cos(rads)+knobCenterX;
var indicatorY=knobRadius*Math.sin(rads)+knobCenterY; 
```

此代码将在最靠近用户单击位置的旋钮上放置一个指示器

这是一个小提琴 --- [http://jsfiddle.net/m1erickson/pL5jP/](http://jsfiddle.net/m1erickson/pL5jP/)

```
 <!doctype html>
    <html>
    <head>
    <link rel="stylesheet" type="text/css" media="all" href="css/reset.css" /> <!-- reset css -->
    <script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
    <!--[if lt IE 9]><script type="text/javascript" src="../excanvas.js"></script><![endif]-->

    <style>
        body{ background-color: ivory; }
        canvas{border:1px solid red;}
    </style>

    <script>
    $(function(){

        var canvas=document.getElementById("canvas");
        var ctx=canvas.getContext("2d");
        var canvasOffset=$("#canvas").offset();
        var offsetX=canvasOffset.left;
        var offsetY=canvasOffset.top;
        var circleArc=Math.PI*2;

        // drawing design properties
        var knobCenterX=100;
        var knobCenterY=100;
        var knobRadius=50;
        var knobColor="green";
        var indicatorRadius=5;
        var indicatorColor="yellow";

        Draw(canvas.width/2,1); // just to get started

        function Draw(mouseX,mouseY){
            // given mousePosition, what is the nearest point on the knob
            var rads = Math.atan2(mouseY - knobCenterY, mouseX - knobCenterX);
            var indicatorX=knobRadius*Math.cos(rads)+knobCenterX;
            var indicatorY=knobRadius*Math.sin(rads)+knobCenterY;
            // start drawing
            ctx.clearRect(0,0,canvas.width,canvas.height);
            // draw knob
            ctx.beginPath();
            ctx.arc(knobCenterX,knobCenterY,knobRadius,0,circleArc,false);
            ctx.fillStyle="ivory";
            ctx.fill();
            ctx.lineWidth=2;
            ctx.strokeStyle=knobColor;
            ctx.stroke();
            // draw indicator
            ctx.beginPath();
            ctx.arc(indicatorX, indicatorY, indicatorRadius, 0, circleArc, false);
            ctx.fillStyle = indicatorColor;
            ctx.fill();
            ctx.lineWidth = 2;
            ctx.strokeStyle = 'black';
            ctx.stroke();
        }

        function handleMouseDown(e){
          MouseX=parseInt(e.clientX-offsetX);
          MouseY=parseInt(e.clientY-offsetY);
          Draw(MouseX,MouseY);
        }

        $("#canvas").mousedown(function(e){handleMouseDown(e);});

    }); // end $(function(){});
    </script>

    </head>

    <body>

        <br/><p>Click anywhere in the canvas to set the knob indicator</p><br/>
        <canvas id="canvas" width=200 height=200></canvas>

    </body>
    </html> 
```

# php - PHP 多维数组处理 - 查找深度为 2 个数组的值

> ID：15017792
> 
> 赞同：0
> 
> 时间：2013-02-22T05:55:36.180
> 
> 标签：php, arrays, multidimensional-array

我在访问数组中的数据时遇到了一些麻烦，如下所示：

```
array ( 
    0 => array ( 'value' => '46', 'label' => 'Brand A', ), 
    1 => array ( 'value' => '45', 'label' => 'Brand B', ), 
    2 => array ( 'value' => '570', 'label' => 'Brand C', ), 
); 
```

本质上，我希望能够在给定值时返回标签的内容（例如*45 返回 Brand B*），但不确定如何在这些级别内执行此操作。

我是否需要通过某种循环将这个数组分解成更小的块来访问这些数据？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:01:25.317

创建数组时，您需要使用该值作为键：

```
array(
    '46' => 'Brand A',
    '45' => 'Brand B',
); 
```

或者

```
$arrayVar['46'] = 'Brand A'; 
```

等等

如果您不是创建数组的人，那么您可以`foreach`遍历它并将其重新加工成不同的结构。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T06:06:55.987

尝试这个

```
<?php
$arr = array ( 
    0 => array ( 'value' => '46', 'label' => 'Brand A', ), 
    1 => array ( 'value' => '45', 'label' => 'Brand B', ), 
    2 => array ( 'value' => '570', 'label' => 'Brand C', ), 
);

foreach($arr as $ele){
echo "value=".$ele['value']." and label=".$ele['label'];
}
?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T06:12:20.980

```
<?php
$arr = array ( 
    0 => array ( 'value' => '46', 'label' => 'Brand A', ), 
    1 => array ( 'value' => '45', 'label' => 'Brand B', ), 
    2 => array ( 'value' => '570', 'label' => 'Brand C', ), 
);

$val = 45; // search for 45

foreach($arr as $vals){
   if($vals['value'] == $val){
      echo "value=".$vals['value'];
      echo "<br>";
      echo "label=".$vals['label'];
   }
}
?> 
```

# c++ - 表达式必须有一个类类型

> ID：15017796
> 
> 赞同：0
> 
> 时间：2013-02-22T05:55:56.373
> 
> 标签：c++

我不希望这是我的第一篇文章，但我在这里不知所措。尝试编译我的程序时，我不断收到此错误（它应该只是找到矩形的面积和周长。）这是我的头文件。

```
#include <iostream>
using namespace std;

class Rectangle
{
public:
   Rectangle(float Lngth=1, float Wdth = 1);

   void setLngth(float Lngth);
   void setWdth(float Wdth);
   float getLngth(float Lngth);
    float getWdth(float Wdth);
    void Perimeter(float lngth, float wdth);
    void Area(float lngth, float wdth);
private:
    float Lngth;
    float Wdth;
}; 
```

这是我的 .cpp 文件。

```
#include <iostream>
using namespace std;

#include "RealRectangle.h" // Employee class definition

 Rectangle::Rectangle(float Lngth, float Wdth)
 {
&Rectangle::setLngth;
&Rectangle::setWdth;
 }
 void Rectangle::setLngth(float Lngth)
 {
      if((Wdth > 0.0) && (Wdth < 20.0))
       float wdth = Wdth;
        else
            cout<<"Invalid Width."<<endl;
 }

 float Rectangle::getLngth(float Lngth)
 {
     return Lngth;
 }

void Rectangle::setWdth(float Wdth)
{
     if((Wdth > 0.0) && (Wdth < 20.0))
       float wdth = Wdth;
        else
            cout<<"Invalid Width."<<endl;
}

float Rectangle::getWdth(float Wdth)
{
    return Wdth;
}

void Rectangle::Perimeter(float lngth, float wdth)
    {
        cout<<"The Perimeter is "<<(2*(lngth + wdth));
    }
void Rectangle::Area(float lngth, float wdth)
    {
        cout<<"The Area is "<<(lngth * wdth);
    } 
```

这就是我不断遇到错误的地方。编译器告诉我添加一个与号来创建一个指针，就像我在 .cpp 中所做的那样。但这本身就会产生另一个错误。等等。我不确定我做错了什么。错误发生在第 10 行和第 11 行。

```
#include <iostream>
using namespace std;

#include "RealRectangle.h" 

int main()
{
    Rectangle rectangle1();
    Rectangle rectangle2();

    cout<<rectangle1.Perimeter();
    cout<<rectangle2.Area();
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T06:00:54.287

您遇到了被称为最令人烦恼的解析。

```
Rectangle rectangle1();
Rectangle rectangle2(); 
```

声明了两个函数，而不是两个对象。做

```
Rectangle rectangle1;
Rectangle rectangle2; 
```

此外，您可能应该将它们更改`&Rectangle::setLngth`为函数调用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T06:01:10.603

Rectangle::Perimeter() 和 Rectangle::Area() 是`void`类型。他们不返回任何东西。然而，您正在尝试使用它们不存在的返回值并将其传递给`cout`.

修改这两个函数，使它们返回一个值：

```
float Rectangle::Perimeter(float lngth, float wdth)
{
        return 2 * (lngth + wdth);
}

float Rectangle::Area(float lngth, float wdth)
{
        return lngth * wdth;
} 
```

或修改您的 main() 函数以简单地调用这些函数，因为您现在拥有它们，它们已经打印到`cout`：

```
int main()
{
    Rectangle rectangle1;
    Rectangle rectangle2;

    rectangle1.Perimeter();
    rectangle2.Area();
} 
```

但是你还是有问题；这两个函数目前采用长度和宽度参数，我认为这不是你想要的。看来您想要的是获取矩形对象的周长和面积。所以你应该使用类变量来计算它。所以省略参数并使用您的私有数据成员：

```
float Rectangle::Perimeter()
{
        return 2 * (Lngth + Wdth);
}

float Rectangle::Area()
{
        return Lngth * Wdth;
} 
```

不要忘记更新头文件中类声明中的函数签名，而不仅仅是 cpp 文件中的实现。

此外，您的构造函数没有正确委托初始化工作。函数调用的形式是`function(arguments)`，不是`&function`。所以你需要这样做：

```
Rectangle::Rectangle(float Lngth, float Wdth)
{
    setLngth(Lngth);
    setWdth(Wdth);
} 
```

最后，`Rectangle`对象的声明被误解为函数原型：

```
Rectangle rectangle1();
Rectangle rectangle2(); 
```

编译器认为`rectangle1`并且`rectangle2`是不带参数并返回矩形的函数。你应该省略括号：

```
Rectangle rectangle1;
Rectangle rectangle2; 
```

而且我们还没有完成（上帝，这个程序中有多少错误:-P）。您的`setLngth`和`setWdth`功能未按预期工作：

```
void Rectangle::setLngth(float Lngth)
{
    if((Wdth > 0.0) && (Wdth < 20.0))
        float wdth = Wdth;
    else
        cout<<"Invalid Width."<<endl;
} 
```

好好看看吧。尤其是说`float wdth = Wdth;`你的函数做什么的那行，是接受一个`float`名为 的参数`Lngth`，然后检查`Wdth`（私有变量）是否在范围内，如果是，则声明一个`float`名为的新局部变量`wdth`并将其设置为与 相同的值`Wdth`。

该函数根本不初始化私有变量`Wdth`。你的`setWdth`功能也是如此。你也应该修复这些。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T06:01:25.020

这个：

```
 Rectangle::Rectangle(float Lngth, float Wdth)
 {
&Rectangle::setLngth;
&Rectangle::setWdth;
 } 
```

应该是这样的：

```
Rectangle::Rectangle(float Lngth, float Wdth)
{
    setLngth(Lngth);
    setWdth(Wdth);
} 
```

和这个：

```
Rectangle rectangle1();
Rectangle rectangle2(); 
```

应该是这样的：

```
Rectangle rectangle1;
Rectangle rectangle2; 
```

# mysql - 如何在 MySql 选择查询中将 UTC 日期转换为本地时区

> ID：15017799
> 
> 赞同：60
> 
> 时间：2013-02-22T05:56:16.847
> 
> 标签：mysql, utc, localtime, convert-tz

我在 MySql 数据库的一个查询中使用此 Where 条件。我的问题是我的表中有一个显示时间列，但该表列以 UTC 时间显示数据。我想在本地时间转换该显示时间列Zone.so 我如何从查询本身提供此功能。

我已经对这些东西进行了检查，因此我知道类似的东西`SELECT CONVERT_TZ()`会为此工作。但它对我不起作用。

这是我的查询，我需要将显示时间转换为本地时区......所以有人可以指导我吗？

```
WHERE displaytime >= '2012-12-01 00:00:00'
  AND displaytime <='2013-02-22 23:59:59'
  AND ct.organizationId IN (
    SELECT t.organizationId
      FROM organization_ AS t
      JOIN organization_ AS p ON t.treePath LIKE CONCAT(p.treePath, '%')
     WHERE p.organizationId = 10707 
```

![在此处输入图像描述](../Images/3feb5906f95e78a165325c97d5860902.png) 样本数据

![在此处输入图像描述](../Images/f4c9ca72420f20a86968911cb839e7d0.png)

* * *

## 回答 #1

> 赞同：128
> 
> 时间：2013-02-22T06:20:09.437

> SELECT CONVERT_TZ() 将为此工作。但它不适合我。

**为什么，你得到什么错误？**

```
SELECT CONVERT_TZ(displaytime,'GMT','MET'); 
```

如果您的列类型是时间戳或日期，应该可以工作

[http://dev.mysql.com/doc/refman/5.0/en/date-and-time-functions.html#function_convert-tz](http://dev.mysql.com/doc/refman/5.0/en/date-and-time-functions.html#function_convert-tz)

**测试它是如何工作的：**

```
SELECT CONVERT_TZ(a_ad_display.displaytime,'+00:00','+04:00'); 
```

**检查您的时区表**

```
SELECT * FROM mysql.time_zone;
SELECT * FROM mysql.time_zone_name; 
```

[http://dev.mysql.com/doc/refman/5.5/en/time-zone-support.html](http://dev.mysql.com/doc/refman/5.5/en/time-zone-support.html)

如果这些表为空，则您尚未初始化时区表。根据上面的链接，您可以使用`mysql_tzinfo_to_sql`程序加载时区表。请试试这个

```
shell> mysql_tzinfo_to_sql /usr/share/zoneinfo 
```

或者如果不工作阅读更多：[http ://dev.mysql.com/doc/refman/5.5/en/mysql-tzinfo-to-sql.html](http://dev.mysql.com/doc/refman/5.5/en/mysql-tzinfo-to-sql.html)

* * *

## 回答 #2

> 赞同：29
> 
> 时间：2014-06-30T11:05:07.450

在我的情况下，当服务器上的时区不可用时，这很好用：

```
SELECT CONVERT_TZ(`date_field`,'+00:00',@@global.time_zone) FROM `table` 
```

注意： global.time_zone 使用服务器时区。您必须确保它具有所需的时区！

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2014-11-03T10:06:58.610

```
 select convert_tz(now(),@@session.time_zone,'+05:30') 
```

用所需的时区替换“+05:30”。见这里 - [https://stackoverflow.com/a/3984412/2359994](https://stackoverflow.com/a/3984412/2359994)

格式化为所需的时间格式，例如：

```
 select DATE_FORMAT(convert_tz(now(),@@session.time_zone,'+05:30') ,'%b %d %Y %h:%i:%s %p') 
```

你会得到类似的 -> 2014 年 12 月 17 日上午 10:39:56

# css - selenium 动态值 - 用于文本框

> ID：15017801
> 
> 赞同：0
> 
> 时间：2013-02-22T05:56:34.630
> 
> 标签：css, xpath, selenium, selenium-ide

我正在构建一个测试用例，我遇到了这个问题。在我的网页中存在一个搜索文本框。我已经使用 selenium ide 记录了网页。

```
type  | id=search_input_char_name_136 | myproduct     // textbox for search
click | css=button.oe_button          | -            // search icon click 
```

我通过记录得到了上面的代码，这里在“类型”操作中显示文本框的 id 值，当我在测试时使用相同的值时，`id not found error`就会发生。所以我再次记录了这个动作，我发现 id 是动态的。每次 id 不断变化。

我用谷歌搜索了它，发现 xpath 将是解决这个问题的方法。我对 selenium 和 xpath 很陌生。我想不出解决方案。所以帮助解决这个问题..为我提供搜索文本框的 type=id 的 xpath 语法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:05:06.323

`Target`在 selenium IDE 本身中，录制完成后，尝试单击该文本框在 IDe 窗口中命名的下拉菜单。在那里，在该下拉列表中，您可以获得各种定位器，例如 xpath、name、css、dom 等。观察，对于所有记录，哪个是静态的并使用该定位器。希望能帮助到你。如果您仍然对这个问题感到震惊，请告诉我。

# c# - 将 Timeformat 转换为正常的日期时间

> ID：15017802
> 
> 赞同：0
> 
> 时间：2013-02-22T05:56:38.513
> 
> 标签：c#, datetime

我必须`(20130221191038.576375+330)`通过像 datetime 这样的 c# 类将此时间格式字符串转换为正常的日期时间。

请分享转换这个的想法..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T21:09:48.987

我知道您已经找到了解决方案，但我遇到了这个不错的[ManagementDateTimeConverter](http://msdn.microsoft.com/en-us/library/system.management.managementdatetimeconverter.aspx) .Net 类，它完全符合您的要求。您需要做的就是：

```
// This gets converted to your local time
DateTime converted = ManagementDateTimeConverter.ToDateTime("20130221191038.576375+330")

// If you want the UTC equivalent:
converted.ToUniversalTime() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T06:53:45.723

您拥有的格式是 CIM_DATETIME 值，解析起来*几乎*很简单。唯一的问题是它将时区指定为分钟数的偏移量。

您可以使用`DateTime.TryParseExact`转换时区说明符之前的字符串部分，然后从结果中减去时区值（以分钟为单位）以获得 UTC 日期时间。然后，您可以根据需要转换为本地时间，或将其保留为 UTC 形式。

```
public static DateTime? CIMToUTCDateTime(string CIM_DATETIME)
{
    // CIM_DATETIME must be 25 characters in length
    if (string.IsNullOrEmpty(CIM_DATETIME) || CIM_DATETIME.Length != 25)
        return null;

    // Get the datetime portion of the string without timezone offset
    string dtPortion = CIM_DATETIME.Substring(0, 21);

    // convert to datetime
    DateTime dt;
    if (!DateTime.TryParseExact(dtPortion, "yyyyMMddHHmmss.ffffff", System.Globalization.DateTimeFormatInfo.InvariantInfo, System.Globalization.DateTimeStyles.AssumeUniversal | System.Globalization.DateTimeStyles.AdjustToUniversal, out dt))
        return null;

    // subtract timezone offset to get UTC time equivalent
    int tzoffset;
    if (!Int32.TryParse(CIM_DATETIME.Substring(21), out tzoffset))
        return null;
    dt = dt.AddMinutes(-tzoffset);

    // return UTC datetime
    return dt;
} 
```

现在我已经写了这个可怕的小方法，你已经找到了另一个解决方案。典型：P

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T06:42:23.090

谢谢大家，在 Erik、tung 和 BlackHatShadow 的帮助下，我得到了满足我要求的解决方案。

[提到这个](https://stackoverflow.com/questions/1351483/what-format-is-this-time-value-in)

[这也是](https://stackoverflow.com/questions/1717758/parse-cim-datetime-to-net-datetime)

# java - 无法使用 OAuth2 从 Google Reader 获取未读计数

> ID：15017804
> 
> 赞同：1
> 
> 时间：2013-02-22T05:56:45.663
> 
> 标签：java, oauth-2.0

我已经能够使用 OAuth 2 从 Google Reader 获取订阅列表。订阅列表响应提供了提要的 URL。除此之外，我还有兴趣获得给定 access_token(user) 的未读计数？

我用于获取订阅列表的 URL 是：[https ://www.google.com/reader/api/0/subscription/list](https://www.google.com/reader/api/0/subscription/list)

上网寻求帮助；但大多数地方都是使用用户的 ID 和密码完成的。但我有兴趣使用 OAuth2 做同样的事情。

我还探索[了 Google 的 OAuth 2.0 操场](https://developers.google.com/oauthplayground/)；但到目前为止还没有得到任何帮助。我正在用 Java 做，以防它增加一些价值。

# javascript - 将 div 标签更改为 IE7 的表格

> ID：15017810
> 
> 赞同：0
> 
> 时间：2013-02-22T05:57:11.470
> 
> 标签：javascript, jquery, html, css

我用 display:table; 创建了一个 Div 表。但它不工作 ie7 或 ie6 .. 我不想为此使用 display-table.htc Hack ......

**我想改变**

```
"<div class='divTable'> into <table class='divTable'>" 
"<div class='divRow ieclear'> into <tr class='divRow ieclear'>" 
"<div class='divCell'> into <td class='divCell'>" 
```

现在，如果 browser.version == 7 ||，我正在尝试将 'Div' 转换为 'Table' browser.version == 6 ...我是Jquery的新手...：D ...

```
<div id="test">     
     <div class="divTable">
            <div class="divRow ieclear">
                <div class="divCell">Cell Wording1</div>
                <div class="divCell">Cell Wording2</div>
                <div class="divCell">Cell Wording3</div>
                <div class="divCell">Cell Wording4</div>
            </div>
      </div>
</div> 
```

CSS//----

```
.divTable {
    font-family: Arial; 
    font-size: 12px;
    display: table;
    width: 981px;
    border: 10px soild #ECECEC;
    border-spacing: 0px;
    overflow: hidden; /* border-collapse:separate;*/}

.divRow {
    display: table-row;
    *display: block;*
    height: 100%;
    width: 981px;
}

.divCell {
    *float: left;*
    display: inline-block;
    display: table-cell;
    width: 200px;
    padding: 10px;
    border-bottom: 1px solid #E9E9E4;
    border-right: 1px solid #fff;
    background: #F5F6F0;
}

.ieclear {
    clear: both;
} 
```

jQuery//

```
$(function () {
    //alert($.browser.version);
    jQuery("#test").find(".divTable").html('<table class="divTable">' + $(".divTable").html() + "</table>").html();
    //or
    $('div').replaceWith(function () {
        return $("<table />", { html: $(this).html() });
    });
}); 
```

请建议我或帮我解决这个问题... :)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-26T13:00:29.483

尝试使用：

```
position:relative;
display: table-cell /*IE9+ and other browsers*/;
display: block /*IE8 and lower*/; 
```

# android - 传说在平板电脑android的afreechart中不起作用

> ID：15017814
> 
> 赞同：0
> 
> 时间：2013-02-22T05:57:38.013
> 
> 标签：android, charts, legend

我正在使用 Afreechart 为我的 android 应用程序创建图表。在模拟器中可以看到图例，但在 android 平板电脑中没有出现图例。以前它工作正常，但是当我向我的应用程序添加一些其他活动时，它不起作用。我正在使用 afreechart-0.0.4.jar.my minSdkversion 3，目标是 15。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-23T00:11:31.540

我找到了我的问题的解决方案..

指出我正确方向的事实是，图形在模拟器上表现完美，与模拟器运行的 Android 版本无关。这让我觉得也许硬件加速（如果我没记错的话是用 HoneyComb 引入的）与此有关。再用谷歌搜索一下，我发现其他图形库在 ICS 和 JellyBean 上也有类似的问题，所以我尝试关闭图表视图的硬件加速：

chartView.setLayerType(View.LAYER_TYPE_SOFTWARE, null);

现在，图表和图例在任何设备上都按预期显示。希望它可以帮助某人....

# jsp - li 标签的动态 id

> ID：15017817
> 
> 赞同：1
> 
> 时间：2013-02-22T05:57:42.503
> 
> 标签：jsp, el

如何使用设置为的 foodInfo 创建 li 标签的动态 id `c:set`？

```
<c:forEach var="food" varStatus="i" items="${selectedIngredientsList}">
        <c:set var="foodInfo" value="${food.foodItemId}~${food.foodCategoryId}~${food.foodName}~${food.foodPortionName}"/>    
        <ul>
            <li id="??"><c:out value="${food.foodName}"/>
            </li>
        </ul> 
</c:forEach> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:06:46.260

我像下面这样使用我想要使用的前缀分配动态 id。

```
<li id="my_${foodInfo}"> 
```

# c# - 使用 C# 从 SQL Server 检索表数据

> ID：15017819
> 
> 赞同：0
> 
> 时间：2013-02-22T05:57:48.550
> 
> 标签：c#, sql-server, asp.net-mvc

我正在尝试检索`People`数据库表中的所有内容。该表由以下列组成：

```
ID, FirstName, LastNamre, Age, School 
```

在下面的代码中，我只将表的前 2 个值保存在列表中。我想将表中的所有值保存到列表中。

我在下面突出显示了这部分代码；

```
i.Add(new SelectListItem
      {
          Value = sql.GetInt32(0).ToString(), 
          Text = sql.GetString(1)  
      }); 
```

完整代码；

```
public List<SelectListItem> getAllPeople()
{
   var i = new List<SelectListItem>();

   try
   {
       using (SqlCommand com = new SqlCommand("SELECT * FROM USERS", con))
       {
           con.Open();

           SqlDataReader sql = com.ExecuteReader();

           while (sql.Read())
           {
               i.Add(new SelectListItem
                         {
                            Value = sql.GetInt32(0).ToString(), 
                            Text = sql.GetString(1)  
                         });
           }
        }
    } 
   ... 
```

**更新**

我的视图类，如何在视图中显示值？

```
@model MyPro.Models.MyPersonModel

....

@using (Html.BeginForm())
{
...

@foreach (var item in MyPro.Models.MyPersonModel)
{
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.?????)
        </td> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:09:26.830

试试这个：

```
i.Add(new SelectListItem
{
    Value = sql.GetInt32(0).ToString(), 
    Text = sql.GetString(1) + " " + sql.GetString(2) + " - " + sql.GetString(3) + " - " + sql.GetString(4)
}); 
```

**更新**

如果我要这样做，我会使用 ajax，以便在`SelectListItem`更改时，我将通过`People`. `ID`（这是`SelectListItem`的值）而不是获取数据库中所有的所有数据`People`。就像是：

```
$('#SelectListItemId').change(function(){
    $.ajax({
        type: "POST",
        contentType: "application/json; charset=utf-8",
        url: "People/GetDetails",
        data: '{ id: this.val() }',
        success: function (msg) {
            alert(msg.d);
        }
    });
}); 
```

**在您的问题中添加视图后更新**

由于当我发布我的答案时您没有发表您的观点并且您没有包括您的`MyPersonModel`，我会假设这是您的`MyPersonModel`？

```
public class MyPersonModel
{
     public int ID { get;set; }
     public string FirstName { get;set; }
     public string LastNamre { get;set; }
     public int Age { get;set; }
     public string School { get;set; }
} 
```

那么我相信你的观点应该是`IEnumerable<MyPro.Models.MyPersonModel>`

```
@model IEnumerable<MyPro.Models.MyPersonModel>

....

@using (Html.BeginForm())
{
...

@foreach (var item in Model)
{
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.FirstName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.LastNamre)
        </td>
... 
```

并且您的检索代码应该是这样的：

```
public List<MyPersonModel> getAllPeople()
{
   var people = new List<MyPersonModel>();

   try
   {
       using (SqlCommand com = new SqlCommand("SELECT * FROM USERS", con))
       {
           con.Open();

           SqlDataReader sql = com.ExecuteReader();

           while (sql.Read())
           {
               people.Add(new MyPersonModel
                          {
                              ID = sql.GetInt32(0), 
                              FirstName = sql.GetString(1),
                              LastNamre = sql.GetString(2),
                              Age = sql.GetInt32(3) ,
                              School = sql.GetString(4)
                          });
           }
        }
    }
} 
```

至于 javascript，您的使用`SelectListItem`让我相信您想`People`在 Dropdownlist 中显示列表。我只是建议如果是这种情况并且我要这样做，我会使用 javascript 来获取其他详细信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T06:11:57.077

添加类：

```
public class SomeClass
{
     public Int32 ID {get;set;
     public String FirstName {get;set;}
     public String LastNamre {get;set;}
     public Int32 Age {get;set;}
     public String School {get;set;}
} 
```

并修改选择器：

```
 i.Add(new SomeClass
                     {
                        ID = sql.GetInt32(0).ToString(), 
                        FirstName = sql.GetString(1),
                        LastNamre = sql.GetString(2),
                        Age = sql.GetInt32(3),
                        School = sql.GetString(4)
                     }); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T06:12:15.880

您需要创建自己的`Person`类：

```
public class Person
{
     public int ID { get;set; }
     public string FirstName { get;set; }
     public string LastNamre { get;set; }
     public int Age { get;set; }
     public string School { get;set; }
} 
```

然后`SelectListItem`在检索数据时使用它（而不是 ）：

```
public List<Person> getAllPeople()
{
   var people = new List<People>();

   try
   {
       using (SqlCommand com = new SqlCommand("SELECT * FROM USERS", con))
       {
           con.Open();

           SqlDataReader sql = com.ExecuteReader();

           while (sql.Read())
           {
               people.Add(new Person
                          {
                              ID = sql.GetInt32(0), 
                              FirstName = sql.GetString(1),
                              LastName = sql.GetString(2),
                              Age = sql.GetInt32(3) ,
                              School = sql.GetString(4)
                          });
           }
        }
    } 
```

# node.js - 使用backbone.js 和node.js 进行分页

> ID：15017820
> 
> 赞同：0
> 
> 时间：2013-02-22T05:57:51.433
> 
> 标签：node.js, backbone.js, pagination

```
i am having data in mongodb. 
```

我必须每页显示 10 个数据。

我对分页一无所知，所以如何使用分页来显示。

我正在使用backbone.js 和node.js 和mongodb。

如何实施并采取正确的方式。给出一些链接和编码来理解和实施。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T07:21:20.377

实现分页非常简单。

**客户端：**

```
ChairCollection collection = new ChairCollection();
...
collection.fetch({page:1, limit:10}); 
```

**服务器端（假设您使用 express.js 和 mongoose）：**

```
app.get("/chairs", function(req,res){
  var page = req.query.page;
  var limit = req.query.limit;
  Animal.find({}).skip((page - 1)*limit).limit(limit).exec(function(err,chairs){
    res.send(chairs);
  })
}) 
```

# android - android google maps v2的内存不足异常

> ID：15017828
> 
> 赞同：5
> 
> 时间：2013-02-22T05:58:13.697
> 
> 标签：android, google-maps-android-api-2

当我在地图上添加和删除标记时，一段时间后应用程序崩溃并出现内存不足异常消息。

logcat 的响应是：

```
02-21 06:04:27.670: E/AndroidRuntime(1892): FATAL EXCEPTION: vts_com.rapidBizApps.mapamine
02-21 06:04:27.670: E/AndroidRuntime(1892): java.lang.OutOfMemoryError
02-21 06:04:27.670: E/AndroidRuntime(1892):     at maps.bb.d.a(Unknown Source)
02-21 06:04:27.670: E/AndroidRuntime(1892):     at maps.s.ap.a(Unknown Source)
02-21 06:04:27.670: E/AndroidRuntime(1892):     at maps.ak.r.a(Unknown Source)
02-21 06:04:27.670: E/AndroidRuntime(1892):     at maps.ak.e.a(Unknown Source)
02-21 06:04:27.670: E/AndroidRuntime(1892):     at maps.ak.e.a(Unknown Source)
02-21 06:04:27.670: E/AndroidRuntime(1892):     at maps.ak.o.handleMessage(Unknown Source)
02-21 06:04:27.670: E/AndroidRuntime(1892):     at android.os.Handler.dispatchMessage(Handler.java:99)
02-21 06:04:27.670: E/AndroidRuntime(1892):     at android.os.Looper.loop(Looper.java:130)
02-21 06:04:27.670: E/AndroidRuntime(1892):     at maps.ak.e.j_(Unknown Source)
02-21 06:04:27.670: E/AndroidRuntime(1892):     at maps.ak.ad.j_(Unknown Source)
02-21 06:04:27.670: E/AndroidRuntime(1892):     at maps.bb.l.b(Unknown Source)
02-21 06:04:27.670: E/AndroidRuntime(1892):     at maps.bb.l.run(Unknown Source)
02-21 06:04:33.260: D/dalvikvm(1892): GC_EXPLICIT freed 2148K, 53% free 5309K/11207K, external 21007K/21768K, paused 71ms 
```

我的代码是：

```
loop 20 times:

    mapView.addMarker(new MarkerOptions()
                                        .position(new LatLng(latitude, longitude))
                                        .icon(BitmapDescriptorFactory
                                                .fromBitmap((bitmap)))
                                        .snippet(text + "             ")
                                        .title(mine_name)); 
```

对于每个新循环，我都会删除地图上的标记并添加新标记。

我也足够关心位图

bitmap.recycle 并在使用 bitmap/ 后将 bitmap 分配为 null

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T17:07:30.267

这个google api有一些问题。我们必须等待下一个版本.... BitmapDescriptorFactory 有内存泄漏。

[http://code.google.com/p/gmaps-api-issues/issues/detail?id=4766&colspec=ID%20Type%20Status%20Introduced%20Fixed%20Summary%20Stars%20ApiType%20Internal](http://code.google.com/p/gmaps-api-issues/issues/detail?id=4766&colspec=ID%20Type%20Status%20Introduced%20Fixed%20Summary%20Stars%20ApiType%20Internal)

修复了 13 年 1 月 25 日，但未发布。快点谷歌！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-17T12:30:24.173

我在谷歌地图 v2 中遇到了同样的问题，就我而言，我的地图每 30 秒刷新一次。半小时后我的应用程序崩溃了，我使用`mMap.clear();`where `mMap`is my object of解决了这个问题`GoogleMap`。

您可以在调用 for 循环之前放置此代码。

希望这会帮助你。

# android - 如何序列化和反序列化 android.graphics.Path 对象

> ID：15017829
> 
> 赞同：3
> 
> 时间：2013-02-22T05:58:13.947
> 
> 标签：android, serialization, streaming, deserialization

我需要序列化和反序列化 android.graphic.Path 对象。下面的代码（我正在使用）序列化和反序列化一个对象

```
public static byte[] serialize(Object obj) {
    ByteArrayOutputStream out = new ByteArrayOutputStream();
    ObjectOutputStream os = new ObjectOutputStream(out);
    os.writeObject(obj);
    return out.toByteArray();
}
public static Object deserialize(byte[] data) {
    ByteArrayInputStream in = new ByteArrayInputStream(data);
    ObjectInputStream is = new ObjectInputStream(in);
    return is.readObject();
} 
```

在反序列化方法中， is.readObject() 返回 null。不知何故，我知道问题是“android.graphics.Path 类没有实现 Serializable 接口”。

我尝试创建一个扩展 android.graphics.Path 并实现 Serializable 接口的自定义类。仍然没有运气。我已经在 StackOverFlow.com 中检查了一些答案，但是没有用。

有人对此有解决方案吗？如果是，请发布代码。

# javascript - 如何使用 Javascript 更新 onclick 事件（确保它在 IE 6+ 中工作）

> ID：15017831
> 
> 赞同：0
> 
> 时间：2013-02-22T05:58:19.523
> 
> 标签：javascript, sharepoint, sharepoint-2010, dom-events

我有一个如下的“锚标记”，它是动态生成的（所以我无法控制内容）。我添加了“id”属性，实际标签不包含 id 标签，它只是为了演示目的，所以我可以使用 jsfiddle 来测试任何 Javascript。

```
<a title="719132 bytes" id="ah" onclick="DispEx(this, event, 'TRUE', 'FALSE', 'FALSE', 'SharePoint.OpenDocuments', '0', 'SharePoint.OpenDocuments', '', '1\u002fPMS\u002f_layouts\u002fWordViewer.aspx?id=\u002fPMS\u002my.docx', '', '67', '0', '0', '0x400000300c231061'); return false;"
    href="/_layouts/download.aspx?SourceUrl=/documents/my.docx"
    jQuery16206020211467509253="188"> 
```

所以当有人点击一个文档时，会弹出一个安全警告，为了抑制这个警告标志，“SharePoint的第一个实例必须替换为SharePoint.OpenDocuments.3”，第二个实例必须被替换带有一个空字符串 ''

我已经成功地更新了文本，我在使用新更改的标签更新 a 标签时遇到了问题。基本上我如何`onclick`用文本更新事件？

这是我到目前为止所做的（示例可以在这里访问：http: [//jsfiddle.net/yhUu6/2/](http://jsfiddle.net/yhUu6/2/)）

基本上我希望结果看起来像这样

```
<a title="719132 bytes" id="ah" onclick="DispEx(this, event, 'TRUE', 'FALSE', 'FALSE', 'SharePoint.OpenDocuments.3', '0', '', '', '1\u002fPMS\u002f_layouts\u002fWordViewer.aspx?id=\u002fPMS\u002my.docx', '', '67', '0', '0', '0x400000300c231061'); return false;"
    href="/_layouts/download.aspx?SourceUrl=/documents/my.docx"
    jQuery16206020211467509253="188"> 
```

如何更新`onclick`“锚标签”的事件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:23:56.273

你为什么选择复杂的方式？它们只是函数的两个参数。通过使用两个变量作为参数来修改它们的值，如下例所示：

```
<input type='button' value="your anchor" onclick="YourFuntion(arg1,arg2);return false;"/>
<input type='button' value='Try it' onclick='myfunction()'/>
<SCRIPT LANGUAGE="JavaScript">
<!--
var arg1 = 'SharePoint.OpenDocuments', arg2='SharePoint.OpenDocuments';
function YourFuntion(a,b)
{
alert(a);
alert(b);
}
function myfunction()
{
 arg1 = 'SharePoint.OpenDocuments.3';
 arg2 = " ";
}
//-->
</SCRIPT> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T06:52:13.173

这可能不是最佳解决方案，但希望它可以显示 JQuery 替代概念。您可以消除跟踪/管理来自锚标记的文本参数的复杂性，并将其转移到 JQuery (javascript)。

JQuery 中的 Click 事件：

```
<script language="JavaScript">
    $('#ah').bind('click', function() {

        var sharePoint = $(this).attr('parm-data');
        var sharePointParm1 = '';
        var sharePointParm2 = '';

        if("SharePoint.OpenDocuments" == sharePoint) {
            sharePointParm1 = 'SharePoint.OpenDocuments.3';
            $(this).attr('parm-data') = 'SharePoint.OpenDocuments.3';
        } else {
            sharePointParm1 = 'SharePoint.OpenDocuments';
            sharePointParm2 = sharePointParm1;
            $(this).attr('parm-data') = sharePointParm1;
        }

        DispEx(this, event, 'TRUE', 'FALSE', 'FALSE', sharePointParm1, '0', sharePointParm2, '', '1\u002fPMS\u002f_layouts\u002fWordViewer.aspx?id=\u002fPMS\u002my.docx', '', '67', '0', '0', '0x400000300c231061'); 
        return false;"
    });
</script> 
```

然后是改变的锚标签：

```
<a title="719132 bytes" id="ah" parm-data="SharePoint.OpenDocuments"
        href="/_layouts/download.aspx?SourceUrl=/documents/my.docx"
        jQuery16206020211467509253="188"> 
```

# javascript - 必须创建必须适应网页视图和移动视图的网页

> ID：15017840
> 
> 赞同：2
> 
> 时间：2013-02-22T05:59:21.250
> 
> 标签：javascript, jquery, html, css

我只是想创建一个网页，这意味着 html 和 css 代码必须适应 wab 页面和移动视图.. 因为我是我必须使用的技术.. 只是为此提供一些演示？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:02:47.380

检查以下链接：

[Twitter Bootstrap Github 流体站点](http://twitter.github.com/bootstrap/examples/fluid.html#)

这是您正在寻找的示例网站。

# web-applications - 禁用右键单击对安全性有影响吗？

> ID：15017843
> 
> 赞同：2
> 
> 时间：2013-02-22T05:59:30.367
> 
> 标签：web-applications, security, banking

在银行网站或其他网站上，我看到他们禁用了右键单击。禁用右键单击是否会使站点在引用客户端时更加安全？这是一个很好的一般做法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T06:07:14.043

不可以在网站中禁用右键单击。详情点击下方

[http://www.sitepoint.com/dont-disable-right-click/](http://www.sitepoint.com/dont-disable-right-click/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T06:10:19.093

不，它不会使网站更安全，只是如果您启用了右键单击，那么：

1.  用户可以看到源代码
2.  用户可以使用控制台跟踪从哪个位置加载的数据
3.  用户可以看到您的客户端文件（JS、HTML、CSS 等）

但是任何用户都可以轻松绕过“禁用右键单击代码”，所以这并没有真正的帮助

# c# - 如何在 c# 中使用 PDFSHARP 在窗口应用程序中将 Multipage .pdf 转换为 Multipage .tiff

> ID：15017847
> 
> 赞同：-1
> 
> 时间：2013-02-22T06:00:31.150
> 
> 标签：c#, pdfsharp

任何人都可以帮助我如何在 c# 中使用 PDFSHARP 将 Multipage .pdf 转换为 Multipage .tiff 吗？

我可以使用按钮或一些教程调用哪些方法来执行此操作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T16:44:18.187

使用 PDFsharp，您无法将 PDF 转换为 TIFF。

可以将 TIFF 转换为 PDF（但这不是这里的主题）。

# objective-c - 如何将项目的文件包含在不同的目录中

> ID：15017849
> 
> 赞同：1
> 
> 时间：2013-02-22T06:00:40.640
> 
> 标签：objective-c, xcode4.5

![在此处输入图像描述](../Images/27743c478347d4cfa2900cddced5ad39.png)

我清楚地通过引用添加了 AFNetworking（注意文件夹的蓝色）。

然而，xcode 抱怨没有这样的文件 AFNetworking.h

我实际上包含了文件夹而不是文件

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T06:40:28.330

您不能将 Xcode 的文件夹引用用于代码。它主要用于资源。为了能够编译您的代码，请将 AFNetworking 文件添加为一个组。

# c# - 从父页面调用用户控制函数

> ID：15017850
> 
> 赞同：0
> 
> 时间：2013-02-22T06:00:46.633
> 
> 标签：c#, asp.net

我有一个用户控件，它在运行时动态加载到页面中的选项卡。

```
usrCtrl = (ControlName)LoadControl("Usercontrols/ControlName.ascx");
usrCtrl.ID = "Name";

tabpanel.Controls.Add(usrCtrl); 
```

我有一个在用户控件中调用的函数`display()`。我想从它的父页面事件中调用这个用户控件函数。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:06:55.447

```
usrCtrl = (ControlName)LoadControl("Usercontrols/ControlName.ascx");
usrCtrl.ID = "Name";
//call your function here
usrCtrl.display();//this will call user control function

tabpanel.Controls.Add(usrCtrl); 
```

# javascript - 未经许可的地理定位

> ID：15017854
> 
> 赞同：7
> 
> 时间：2013-02-22T06:01:12.627
> 
> 标签：javascript, geolocation, location, zipcode

我注意到现代基于 html5 的地理定位总是询问用户“你想与这个网站分享你的位置吗？”。这很好，但我知道还有其他途径可以尝试确定棒球场的地理位置，而无需请求此许可。如果我记得，这些服务使用 ip 数据库来尝试跟踪地理定位信息并将其提供给网络应用程序。

因此，在我的网站中，我想对用户的邮政编码进行“最佳猜测”，而无需请求地理定位许可。这样做的最简单和/或最佳方法是什么？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-09-29T17:10:23.373

IP 地理位置不太准确，但您不需要用户许可。[http://ipinfo.io](http://ipinfo.io) API（这是我的服务）使它变得非常简单。这是一个 jQuery 示例：

```
$.get("http://ipinfo.io", function(response) {
    console.log(response.city, response.region, response.country);
}, "jsonp"); 
```

更多详细信息可[在此处](http://ipinfo.io/developers)获得。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-02-21T23:38:27.950

`_SERVER`使用变量在后端使用 IP 位置脚本。这是未经许可的唯一方法，但有很大的缺点：1）它根本不准确2）如果用户使用代理，IP地址可以由用户更改

但是，如果您不想请求许可，这是唯一的方法。

或者您可以只向用户询问他们的邮政编码，因为他们想使用您的网站，他们也可以:)

另外，看看这篇文章：[Geolocation without Prompt](https://stackoverflow.com/questions/14018071/geolocation-without-prompt)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-11-06T17:44:19.450

使用[https://ipdata.co](https://ipdata.co) API

```
$.get("https://api.ipdata.co", function (response) {
    $("#response").html(JSON.stringify(response, null, 4));
}, "jsonp");
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<pre id="response"></pre>
```

# amazon-web-services - rsync 文件夹从亚马逊实例到本地 linux 桌面

> ID：15017856
> 
> 赞同：0
> 
> 时间：2013-02-22T06:01:17.910
> 
> 标签：amazon-web-services, rsync

我想将我在亚马逊实例中的文件夹 rync 到网络上的我的 linux pc。我尝试了以下操作，但它给了我错误，因为我知道我犯了一些语法错误..

```
rsync -avPn "ssh -i /keys/mykey.pem ec2-user@X.X.X.X:/data/" /data/ 
```

请帮助我改进我的命令。

错误：

```
sending incremental file list
rsync: change_dir "/root//ssh -i /keys/mykey.pem ec2-user@x.x.x.x:/data/" failed: No such file or directory (2)

sent 12 bytes  received 12 bytes  48.00 bytes/sec
total size is 0  speedup is 0.00 (DRY RUN)
rsync error: some files/attrs were not transferred (see previous errors) (code 23) at main.c(1072) [sender=3.0.9] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T11:44:23.310

您可以设置您`ssh-agent`的存储 SSH 密钥，然后`mykey.pem`在使用 rsync 之前添加到您的 SSH 代理。此外，您可以简单地使用以下语法：

`rsync -avPn ec2-user@X.X.X.X:/data/ /data/`

这个 SO question [here](https://stackoverflow.com/questions/5527068/how-do-you-use-an-identity-file-with-rsync)谈到了类似的问题。希望这可以帮助。

PS：如果您可以用错误消息（如果有）来支持您的问题，那就太好了，这将帮助每个人确定确切的问题并提供有效的解决方案。

# core-animation - 在对象上使用 CGAffineTransformMakeRotation 后如何找到 UIImage 的坐标

> ID：15017859
> 
> 赞同：0
> 
> 时间：2013-02-22T06:01:42.517
> 
> 标签：core-animation, cgaffinetransform, image-rotation

我有一个 uiimage，我使用 CGAffineTransformMakeRotation 将图像旋转到所需的角度。现在我想使用 imageview.center 方法找出图像的新坐标，即新的 x 位置、y 位置、宽度、高度

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T11:45:44.687

由于您要求 x、y、宽度、高度而不是四个角，我假设您想要旋转图像的边界框。您可以使用 CGPath 进行计算。

```
// Your rotation transform
CGAffineTransform rotation = CGAffineTransformMakeRotation(angle);

// Create a path from the transformed frame
CGPathRef rotatedImageRectPath =
    CGPathCreateWithRect(
                         imageView.frame,  // rect to get the path from
                         &rotation         // transform to apply to rect
                        );   
// Get the bounding box from the path
CGRect boundingBox = CGPathGetBoundingBox(rotatedImageRectPath); 
```

# sql - 根据条件连接单个列值

> ID：15017860
> 
> 赞同：1
> 
> 时间：2013-02-22T06:01:49.903
> 
> 标签：sql, sql-server, tsql, sql-server-2005

下面是3张表

**报价大师**

```
QuoteID QuoteNo  CustomerName
-----------------------------
1       Q1      Name1 
2       Q2     Name2   
3       Q3      Name3   
4       Q4      Name4   
5       Q5      Name5 
```

**QuoteItemDetails** : 一个报价可以有多个项目

```
QuoteItemID  QuoteID    ItemCode    ItemID   
---------------------------------------------
   1          1         100          1 
   1          1         200          2       
   2          2         200          2 
```

**QuoteBatchDetails**：一个`QuoteItem`可以有很多批次`QuoteID`并且`ItemID`是常见的列。`BatchNo`是 varchar

```
QuotebatchID  QuoteID   BatchNo    ItemID   
---------------------------------------------
   1          1          A          1       
   2          1          B          1  
   3          1          C          2  
   4          2          E          2       
   5          2          F          2 
```

我希望结果为

```
 QuoteID    QuoteNo     CustName  ItemCode  BatchNo     
    -------------------------------------------------
       1          Q1         Name1     100       A,B 
       1          Q1         Name1     200        C     
       2          Q2         Name2     200       E,F 
```

我想创建一个以 QuoteID 作为 INT 类型参数的过程并获得如上所示的结果。

我面临的唯一问题是连接 BatchNo，它取决于 ItemID 并进一步取决于 QuoteID。

使用下面的查询，我可以为特定 ID 连接 BatchNo，但我不确定如何将其添加到主过程中，当我这样做时，会弹出错误，就像子查询返回多个值一样。我理解，因为对于每个报价可以有超过 1 个项目。

```
select 
    ID.QuoteID,ID.ItemID,
    stuff((select ', ' + BatchNo 
           from SD_QuoteBatchDetails BD where ID.ItemID=BD.ItemID and ID.QuoteID=BD.QuoteID       
           for xml path('')),
          1,2,'') [Values]
from SD_QuoteItemDetails QID,SD_QuoteBatchDetails ID where ID.QuoteID=QID.QuoteID 
group by ID.ItemID,ID.QuoteID 
```

任何人都可以提供相同的查询。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:13:45.263

```
SELECT  b.QuoteItemID, 
        a.QuoteNo,
        a.CustomerName,
        b.ItemCode,
        c.BatchList
FROM    QuotationMaster a
        INNER JOIN QuoteItemDetails b
            ON a.QuoteID = b.QuoteID
        INNER JOIN
        (
          SELECT
               QuoteID, 
               ItemID,
               STUFF(
                   (SELECT ', ' + BatchNo
                    FROM   QuoteBatchDetails
                    WHERE  QuoteID = a.QuoteID AND
                           ItemID = a.ItemID
                    FOR XML PATH (''))
                    , 1, 1, '')  AS BatchList
          FROM  QuoteBatchDetails AS a
          GROUP BY QuoteID, ItemID
        ) c ON  b.QuoteID = c.QuoteID  AND
                b.ItemID = c.ItemID; 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!3/1c834/6)

# ruby - <%= @request.query.inspect %> 为 nil:NilClass (NoMethodError) 带来未定义的方法 `query'

> ID：15017863
> 
> 赞同：0
> 
> 时间：2013-02-22T06:02:26.287
> 
> 标签：ruby

嘿伙计们，我正在通过 schneems [https://github.com/Stephenitis/ruby_view_server](https://github.com/Stephenitis/ruby_view_server)上这节课（请参阅自述文件）

我进入第 6 步）与您的服务器交谈，我的意思是添加 <%= @request.query.inspect %>

当我运行 $ ruby​​ page_generator_with_layout.rb

**我收到这个错误**

```
 - Converting .html.erb to html with Layout !!!
(erb):14:in `process_erb': undefined method `query' for nil:NilClass (NoMethodError)
    from /Users/Jupitor/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/erb.rb:838:in `eval'
    from /Users/Jupitor/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/erb.rb:838:in `result'
    from page_generator_with_layout.rb:6:in `process_erb'
    from page_generator_with_layout.rb:24:in `block in <main>'
    from page_generator_with_layout.rb:13:in `each'
    from page_generator_with_layout.rb:13:in `<main>' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-17T23:03:46.777

您不再需要运行 $ ruby​​ page_generator_with_layout.rb，因为服务器直接查看视图（.html.erb 文件），而不是 .html；（如果我错了，请纠正我，因为我自己现在正在做这个练习，并且之前犯了同样的错误）

# networking - 当我的客户一次性确认价值超过 64K 的数据并且我的机器上未启用 Window Scale 时会发生什么？

> ID：15017866
> 
> 赞同：-1
> 
> 时间：2013-02-22T06:02:37.440
> 
> 标签：networking, tcp

这是我的拓扑结构的样子 -

客户端-> MiddleBox（负载均衡器）-> 服务器

在 MiddleBox 上，我没有启用窗口缩放。现在，在某一点上->

MiddleBox -----------> 服务器（广告零窗口）

客户端-------->中间框（客户端发送一个ACK，说'Y'）

另外，考虑到客户端发送给 Middlebox 的前一个 ack 是“X”，这样：

Y -X > 65k

现在，在不启用 WS 的情况下，Middlebox 无法将大于 65K 的窗口值通告给后端服务器。那么在这种情况下，会发生什么？我看到一个交易挂起。

我的 Middlebox 一直在宣传零窗口本身。尽管客户端一次确认了近 70K 的数据，但它并没有打开它的窗口。是因为我的 MiddleBox 上没有启用窗口缩放吗？

这是对我来说很难重现的场景之一。所以，我不能只启用 WS 看看它是否能解决问题。

TIA-Sidharth

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:06:31.693

这不可能发生。作为 TCP 握手的一部分，对等点必须就窗口缩放达成一致。

# tridion - 发布过程中未发生部署

> ID：15017869
> 
> 赞同：3
> 
> 时间：2013-02-22T06:02:40.407
> 
> 标签：tridion, tridion-2011, tridion-content-delivery

我正在尝试发布到本地文件系统，但是发布没有正确进行，并且无法在我的 2011 GA VM 环境中部署。

我在“准备部署”阶段收到“**轮询目的地通知：YTnMgU6u5Vh09cOGUG7ouA== 已超出交易轮询尝试次数：tcm:0-121257-66560 ”错误。**

我在发布目标中使用了“本地文件系统”协议，并提供了类似**d:\tridion\publish 的路径。**

我在**<storage type=”filesystem”>**下的**cd_storage_conf.xml中提供了相同的路径。**. 所有其他存储类型均已注释。

 **在**cd_deployer_conf.xml**中，**quee 位置路径是 c:\tridion\incoming**。

当我将任何页面发布到我的发布目标时，压缩包被放置在 d:\tridion\publish 中并且它没有被部署。

我需要做任何其他事情来部署压缩包吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-22T09:09:39.837

`cd_deployer_conf.xml`（您在 !!! 中指定的路径）中提供的路径`Queue/Location`必须与您在发布目标中提供的路径相同（在您的情况下，您在 publicationTarget 中有 D 驱动器上的某个路径，而在部署程序配置中您有另一个路径从 C 盘）。然后，您还需要确保您的部署程序已初始化。`meta.xml`您可以通过查看部署程序传入文件夹中是否重新生成来轻松确定您的部署程序是否已初始化。

不确定这是否相关，但您可能还对如何安装部署程序感兴趣：[作为 .NET WebSite](http://sdllivecontent.sdl.com/LiveContent/content/en-US/SDL_Tridion_2011_SPONE/task_663JDNNNDHDH889595JDJDJD)，[作为 Java WebSite](http://sdllivecontent.sdl.com/LiveContent/content/en-US/SDL_Tridion_2011_SPONE/task_884JHJFHFH7745522929JDJHFHFH)或[Windows 服务](http://sdllivecontent.sdl.com/LiveContent/content/en-US/SDL_Tridion_2011_SPONE/task_149E726BA4E34D36A70A09F5A5204248)

希望这可以帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T12:44:02.397

您说您的工作站点使用 HTTP 发送器/部署器。在这种情况下，您的部署程序由接收传输包的 HTTP servlet 触发。

当你使用本地文件系统时——你**必须**配置你的部署器以不同的方式工作。它必须作为某种形式的后台服务运行。通常在 Windows 机器上，这意味着将部署程序安装为 Windows 服务。请记住，这可能会为部署程序和代理/存储提供额外的配置文件。**

# ember.js - Emberjs 渲染错误的模板

> ID：15017870
> 
> 赞同：1
> 
> 时间：2013-02-22T06:02:46.720
> 
> 标签：ember.js, handlebars.js

我正在使用 EmberJs 并且无法弄清楚为什么以下代码不会呈现“新”模板。当我导航到 /shops 时，我会得到一个商店列表和一个链接到“/shops/new”的创建按钮，但是当我单击创建时，“新”模板不会呈现，而是与“商店”保持相同. 我可以很好地导航到每个单独的商店，只是不是新的。

应用程序.js

```
window.App = Ember.Application.create();

App.Router.reopen({
  location: 'history'
});

// Router
App.Router.map(function() {
  this.resource('shops', function() {
    this.route('new');
  });
  this.resource('shop', { path: '/shops/:shop_id' });
});

App.ShopsRoute = Ember.Route.extend({
  model: function() {
    return App.Shop.find();
  }
});

App.ShopsNewRoute = App.ShopsRoute.extend({
  model: function() {
    return App.Shop.createRecord();
  },
  setupController: function( controller, model ) {
    return this._super(),
    controller.set( 'content', model )
  }
});

App.ShopsNewController = Ember.ObjectController.extend();

// Models
App.Store = DS.Store.extend({
  revision: 11,
  adapter: DS.RESTAdapter
});

App.Shop = DS.Model.extend({
  name: DS.attr('string'),
  body: DS.attr('string'),
}); 
```

索引.html

```
<!DOCTYPE html>
<html>
  <head>
    <title>Ember/Rails App</title>
    <%= stylesheet_link_tag    "application", :media => "all" %>
    <%= javascript_include_tag "application" %>
    <%= csrf_meta_tags %>
  </head>
  <body>

    <script type="text/x-handlebars" data-template-name="application">
      <div class="row">
        <div class="twelve columns">
          <h1>Ordr</h1>
          <hr>
          {{outlet}}
        </div>
      </div>
    </script> 

    <script type="text/x-handlebars" data-template-name="shops/new">
      <h2>New Shop</h2>
    </script>

    <script type="text/x-handlebars" data-template-name="shops">
      {{#each shop in controller}}
        {{#linkTo "shop" shop}} {{ shop.id }}{{/linkTo}}
      {{/each}}

      {{#linkTo 'shops.new'}}Create{{/linkTo}}
    </script>

    <script type="text/x-handlebars" data-template-name="shop">
      <h2>{{name}}</h2>
      <p>{{body}}</p>
    </script>

  </body>
</html> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T12:12:39.573

您设置路线和模板的方式是告诉 Ember，`shops.new`即使您在`shops.new`.

如果这实际上是您想要的场景，您需要做的就是`{{outlet}}`在`shops`模板中添加一个：

```
<script type="text/x-handlebars" data-template-name="shops">
  {{#each shop in controller}}
    {{#linkTo "shop" shop}} {{ shop.id }}{{/linkTo}}
  {{/each}}

  {{#linkTo 'shops.new'}}Create{{/linkTo}}
  {{outlet}}
</script> 
```

但是，如果这不是您真正想要的，并且您确实希望在过渡到 时隐藏商店列表`shops.new`，那么您将需要更改一些内容。

将您更改`App.ShopsRoute`为`App.ShopsIndexRoute`：

```
App.ShopsIndexRoute = Ember.Route.extend({
  model: function() {
    return this.store.find('shop');
  }
}); 
```

以及您的`shops`模板到`shops/index`模板：

```
<script type="text/x-handlebars" data-template-name="shops/index">
  {{#each shop in controller}}
    {{#linkTo "shop" shop}} {{ shop.id }}{{/linkTo}}
  {{/each}}

  {{#linkTo 'shops.new'}}Create{{/linkTo}}
</script> 
```

这两种方法中的任何一种都可以解决您的问题，具体取决于您的意图。

# c++ - Boost c++ 属性 - 如果键不存在则设置为 false

> ID：15017873
> 
> 赞同：3
> 
> 时间：2013-02-22T06:03:03.097
> 
> 标签：c++, boost, boost-propertytree

我是使用属性树进行 json 解析的新手。

如果我有这个哈希：

```
foo = {'test1',true}

ptree pt;
bool v = pt.get<bool>("test2"); 
```

我需要检查一个密钥是否存在，如果没有将其设置为 false。

我该如何优雅地做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-22T09:19:25.690

```
 // bool optional
  boost::optional<bool> v = pt.get_optional<bool>("test2");

  // any type actually
  boost::optional<std::string> v2 = pt.get_optional<std::string>("test3");

  if (v) // key exists
    bool bool_value = v.get();
  else // not exists
    v.set(false); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T06:46:52.193

从 boost[文档](http://www.boost.org/doc/libs/1_60_0/doc/html/boost/property_tree/basic_ptree.html#idm45506991683824-bb)中，您可以尝试找到密钥，如果`not_found()`那样，您可以推送一个新密钥。

> assoc_iterator not_found() ; 返回未找到的迭代器。等效于真实关联容器中的 end()。
> 
> const_assoc_iterator not_found() 常量；返回未找到的迭代器。等效于真实关联容器中的 end()。
> 
> assoc_iterator find(const key_type & key) ; 查找具有给定键的孩子，如果没有，则查找 not_found()。如果多个具有相同的密钥，则无法保证返回哪个孩子。
> 
> const_assoc_iterator find(const key_type & key) const; 查找具有给定键的孩子，如果没有，则查找 not_found()。如果多个具有相同的密钥，则无法保证返回哪个孩子。

# c++ - 在 C++ 中读取和写入 int 到二进制文件

> ID：15017879
> 
> 赞同：10
> 
> 时间：2013-02-22T06:03:23.997
> 
> 标签：c++, visual-c++, file-io

我不清楚读取长整数是如何工作的。如果我说

```
long int a[1]={666666}
ofstream o("ex",ios::binary);
o.write((char*)a,sizeof(a)); 
```

将值存储到文件并希望按原样读回它们

```
long int stor[1];
ifstream i("ex",ios::binary);
i.read((char*)stor,sizeof(stor)); 
```

如何使用存储在多个字节字符数组中的信息显示与存储相同的数字？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-22T07:00:20.700

`o.write`不写字符，它写字节（如果用 ios::binary 标记）。使用 char 指针是因为 char 的长度为 1 字节。

```
o.write((char*)a,sizeof(a)); 
```

`(char*) a`是`o.write`应该写的地址。然后它将`sizeof(a)`字节写入文件。没有存储字符，只有字节。

`int i = 10`如果您在 Hex-Editor 中打开文件，如果 a 为: `0A 00 00 00`(4 Byte, on x64)，您会看到类似这样的内容。

阅读是模拟的。

这是一个工作示例：

```
#include <iostream>
#include <fstream>
#include <string>

using namespace std;

int main (int argc, char* argv[]){
    const char* FILENAM = "a.txt";
    int toStore = 10;
    ofstream o(FILENAM,ios::binary);

    o.write((char*)&toStore,sizeof(toStore));
    o.close();

    int toRestore=0;
    ifstream i(FILENAM,ios::binary);
    i.read((char*)&toRestore,sizeof(toRestore));

    cout << toRestore << endl;

    return 0;
} 
```

* * *

## 回答 #2

> 赞同：-4
> 
> 时间：2016-09-27T22:28:24.840

对不起，我花了这么长时间才看到你的问题。

我认为二进制之间的区别在于二进制会按原样读取和写入文件。但是非二进制（即文本）模式将用回车符'\r' 修复行尾'\n'。修复将在 '\n' 和 '\r' 或 "\n\r" 或 "\r\n" 之间来回切换，或者将其保留为 '\n'。它的作用取决于目标操作系统是 Mac、Windows、Unix 等。

我认为如果你正在读写一个整数，它会很好地读写你的整数，并且看起来是正确的。但是，如果整数的某些字节看起来像 '\r' 和 '\n'，则整数将无法从文件中正确读取。

二进制确保读回一个 int 总是正确的。但是您希望文本模式来格式化文件，以便在文本编辑器（如 Windows 的记事本）中读取。

# css - 我如何设置 processing.js 元素的样式？

> ID：15017880
> 
> 赞同：0
> 
> 时间：2013-02-22T06:03:25.110
> 
> 标签：css, processing.js

我知道相当 quell processing.org，在 java 中。我喜欢它。从一点点开始，我对 html、javascript、css、jquery、d3.js 做了一些工作。我很惊讶我可以轻松地为我的东西设计样式：使用 css。我非常喜欢它。执行代码，并设置视觉输出的样式。忘记尝试编写一些漂亮的绘图元素、管理 gui 元素之间的不同颜色、字体、边距和浮动时的头疼问题。

现在，只是为了试一试，我想知道如何设置 processing.org 字体？

ps 我正在使用来自纯 js 代码的 processing.js，如此处[所述](http://processingjs.org/articles/jsQuickStart.html#javascriptonlyprocessingcode)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T23:14:06.880

声明您自己的 css @font-face 规则，使用一些字体系列名称，例如“ABCXYZ”，然后在草图代码中使用 var pfont = createFont("ABCXYZ",[size]); 调用以设置您的字体，然后像其他使用 textFont(pfont) 一样应用它

# jquery - 淡入淡出页面

> ID：15017885
> 
> 赞同：1
> 
> 时间：2013-02-22T06:04:05.533
> 
> 标签：jquery, ajax, css-transitions

淡入淡出是如何在[这里](http://www.sagmeisterwalsh.com/about/)实现的？感觉网站也被“ajaxed”了。

褪色发生在出口和入口处。顺利完成。

类似于[这个](http://www.onextrapixel.com/2010/02/23/how-to-use-jquery-to-make-slick-page-transitions/)解决方案？

如果我没记错的话，可以使用 css3 动画来完成淡入。可以使用 light js 在退出时触发保持和淡出 css 动画吗？

**更新：刚刚遇到[这个](https://github.com/dgileadi/zepto-page-transitions)。看起来很棒。有什么想法吗？它与第一个链接中使用的解决方案相比如何？**

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:18:15.733

让我们举一个简单的例子，你可以如何使用 jQuery 做到这一点。

下面是示例 html 和 jQuery 代码，用于说明如何使用 ajax 进行淡入和淡出。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <title>Title</title>
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript">

        $(function()
        {
            $("div#menu ul li a").click(function(e)
            {
                var href = $(this).attr('href');
                e.preventDefault();
                $.ajax({
                    url : href,
                    dataType : 'html',
                    type    : 'get',
                    beforeSend : function()
                    {
                        //code before send request
                    },
                    success : function(htmlResponse)
                    {
                        $('#container').empty().html(htmlResponse).fadeIn('slow');
                    }
                });

            });
        });

    </script>
</head>
<body>
    <div id="menu">
        <ul>
            <li><a href="home.html">Home</a></li>
            <li><a href="about.html">about</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
    </div>

    <div id="container"></div>

</body>
</html>
```

我在上面的示例中所做的是创建具有`html`三个标签的示例，每个标签都有。`div``id menu``li``link`

现在我创建了分配`jQuery click event`给这些链接并获取它们的`href`属性并`href`使用`jQuery.ajax`.

现在在**成功响应**时，它将`html`在`container`div 中加载所有结果，该结果创建于`html.`

你已经完成了，你还可以向它添加更多动画，但我保持简单以便于理解。

# c# - 使用 open xml 将嵌入式图表添加到 word 文档

> ID：15017895
> 
> 赞同：4
> 
> 时间：2013-02-22T06:04:41.833
> 
> 标签：c#, openxml, openxml-sdk

Word 文档包含嵌入式图表，我想使用打开的 xml 将相同的图表复制并粘贴到另一个文档中。我使用了以下代码，但粘贴图表后文件已损坏。你能找出我的错误吗？

这里 doc 是我的原始文件 WordprocessingDocument 对象。

```
using (WordprocessingDocument wordprocessingDocument =
           WordprocessingDocument.Create("C:\\Sample.docx", WordprocessingDocumentType.Document))
        {
            MainDocumentPart mainPart = wordprocessingDocument.MainDocumentPart;
            if (mainPart == null)
            {
                mainPart = wordprocessingDocument.AddMainDocumentPart();
                new Document(new Body()).Save(mainPart);
            }

            var chart = mainPart.AddNewPart<ChartPart>();
            chart.FeedData(doc.MainDocumentPart.ChartParts.First().GetStream());

            string type = doc.MainDocumentPart.ChartParts.ElementAt(0).EmbeddedPackagePart.ContentType;
            var embdedPkgPart = mainPart.AddEmbeddedPackagePart(type);
            embdedPkgPart.FeedData(doc.MainDocumentPart.ChartParts.ElementAt(0).EmbeddedPackagePart.GetStream());

            string rellId = mainPart.GetIdOfPart(chart);
            string uyo = chart.CreateRelationshipToPart(embdedPkgPart);
            uyo.ToString();

            AddChart(wordprocessingDocument, rellId);
            wordprocessingDocument.MainDocumentPart.Document.Save();               
        }
public static void AddChart(WordprocessingDocument wordDoc, string relId)
    {
        DocumentFormat.OpenXml.Wordprocessing.Drawing element =
            new Drawing(
              new Inline(
                new Extent()
                {
                    Cx = 5486400,
                    Cy = 3200400
                },

                 new DW.EffectExtent()
                 {
                     LeftEdge = 19050L,
                     TopEdge = 0L,
                     RightEdge = 19050L,
                     BottomEdge = 0L
                 },

                new DocProperties()
                {
                    Id = (UInt32Value)5U,
                    Name = "Chart 5"
                },

                new DocumentFormat.OpenXml.Drawing.Wordprocessing.NonVisualGraphicFrameDrawingProperties(
                  new GraphicFrameLocks() { NoChangeAspect = true }),

                new Graphic(
                  new GraphicData(
                      new DocumentFormat.OpenXml.Drawing.Charts.ChartReference() { Id = relId }
                  ) { Uri = "http://schemas.openxmlformats.org/drawingml/2006/chart" })
              )
              {
                  DistanceFromTop = (UInt32Value)0U,
                  DistanceFromBottom = (UInt32Value)0U,
                  DistanceFromLeft = (UInt32Value)0U,
                  DistanceFromRight = (UInt32Value)0U
              }

        );

        wordDoc.MainDocumentPart.Document.Body.AppendChild(new DocumentFormat.OpenXml.Wordprocessing.Paragraph(new DocumentFormat.OpenXml.Wordprocessing.Run(element)));
    } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T08:46:34.347

```
 public static void WriteChartParts(MainDocumentPart sourcePart, MainDocumentPart destnPart)
    {
        var paras = sourcePart.Document.Descendants<DocumentFormat.OpenXml.Wordprocessing.Run>();
        var drawingElements = from run in paras
                              where run.Descendants<Drawing>().Count() != 0
                              select run.Descendants<Drawing>().First();

       sourcePart.ChartParts.ForAll(chartPart =>
       {
           destnPart.AddPart<ChartPart>(chartPart, sourcePart.GetIdOfPart(chartPart));
       });

       drawingElements.ForAll(drw =>
       {
           destnPart.Document.Body.Append((drw as OpenXmlElement).Clone() as OpenXmlElement);
       });
       destnPart.Document.Save();
    } 
```

# php - php 使用 htaccess 获取路径信息

> ID：15017896
> 
> 赞同：0
> 
> 时间：2013-02-22T06:04:44.753
> 
> 标签：php, .htaccess, seo

这是我的 index.php 文件：

```
<?php

echo $_SERVER['PATH_INFO'];

?> 
```

这是我的 htaccess 文件：

```
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /something
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^(.*)$ index.php [QSA,L]
</IfModule> 
```

如果我输入 something/index.php/hello，结果应该是 /hello
但是如果我是 something/hello，它会
在第 3 行显示 Undefined index: PATH_INFO in /Library/WebServer/Documents/xcart/index.php
我怎么能得到相同的结果？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:14:17.587

尝试 ：

```
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-d 
RewriteCond %{REQUEST_FILENAME} !-f 
RewriteRule ^/(.*)/?$ something/$1
</IfModule> 
```

# ios - 以编程方式自动将整数添加到 UILabel 中？可能的？

> ID：15017901
> 
> 赞同：1
> 
> 时间：2013-02-22T06:05:12.617
> 
> 标签：ios, objective-c, xcode

我设置了一个简单的 if 语句，如果输入长度等于 3，则下一个字符为“-”。

它运作良好，但我希望在我第三次按下按钮后自动将“-”放在那里。所以我按“1”、“2”，然后当我按“3”时，它会自动在之后直接放一个“-”。目前“-”只有在我第 4 次按下按钮时才会被放置？

```
-(IBAction)buttonDigitPressed:(id)sender {

    NSString *val = phoneNumberLabel.text;
    int length = [val length];

    } else {
        NSString *tagValue = [NSString stringWithFormat:@"%d", [sender tag]];
        phoneNumberLabel.text = [val stringByAppendingString: tagValue];

        if (length == 3) {
            phoneNumberLabel.text = [val stringByAppendingString:@"-"];

        }

        if (length == 7) {
            phoneNumberLabel.text = [val stringByAppendingString:@"-"];
        }

    }

} 
```

任何帮助将不胜感激！谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:19:35.457

`buttonClicked`在方法中添加以下代码

```
if ([myLabel.text length] == 3)
{ 
   myLabel.text = [val stringByAppendingString:@"-"]; 
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T20:04:09.393

```
-(IBAction)buttonDigitPressed:(id)sender {

  NSString *val = phoneNumberLabel.text;
  NSString *newValue = @"";
  NSString *dash = @"";

  int length = [val length];

  if ( ((length == 3) || (length == 7)) ) {
    dash = @"-";
  }

  newValue = [NSString stringWithFormat:@"%@%@%d", val, dash, [sender tag]];
  phoneNumberLabel.text = newValue;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T06:15:54.133

使用整数更新标签后，只需在相同的方法中添加该代码即可。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T06:59:33.683

试试这个方法，希望对你有帮助。在 xib 中保持 UILabel 对象为空白。

```
- (IBAction)pressAction:(UIButton*)sender
{
    if (lbl.text.length<=2) {
        lbl.text=[lbl.text stringByAppendingFormat:@"%i",sender.tag];
    }

    if (lbl.text.length>=3){
        lbl.text=[lbl.text stringByAppendingString:@"-"];
    }
} 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-02-22T06:46:04.923

您可以向按钮发送事件。`[button sendActionsForControlEvents:UIControlEventTouchUpInside]` 甚至延迟后执行选择器可能会为您解决问题。这两种情况你都不需要按下按钮

要添加“-”，只需检查输入了多少个字符以及输入第三个字符时添加“-”。

# ios - 从文档目录中删除指定文件

> ID：15017902
> 
> 赞同：114
> 
> 时间：2013-02-22T06:05:13.360
> 
> 标签：ios, objective-c, xcode, nsdocumentdirectory

我想从我的应用文档目录中删除图像。我为删除图像而编写的代码是：

```
 -(void)removeImage:(NSString *)fileName
{
    fileManager = [NSFileManager defaultManager];
    paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    documentsPath = [paths objectAtIndex:0];
    filePath = [documentsPath stringByAppendingPathComponent:[NSString stringWithFormat:@"%@", fileName]];
    [fileManager removeItemAtPath:filePath error:NULL];
    UIAlertView *removeSuccessFulAlert=[[UIAlertView alloc]initWithTitle:@"Congratulation:" message:@"Successfully removed" delegate:self cancelButtonTitle:@"Close" otherButtonTitles:nil];
    [removeSuccessFulAlert show];
} 
```

它的部分工作。此代码从目录中删除文件，但是当我检查目录中的内容时，它仍然在那里显示图像名称。我想从目录中完全删除该文件。我应该在代码中更改什么来做同样的事情？谢谢

* * *

## 回答 #1

> 赞同：240
> 
> 时间：2013-02-22T06:29:24.547

我检查了你的代码。它对我有用。使用以下修改后的代码检查您遇到的任何错误

```
- (void)removeImage:(NSString *)filename
{
  NSFileManager *fileManager = [NSFileManager defaultManager];
  NSString *documentsPath = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0];

  NSString *filePath = [documentsPath stringByAppendingPathComponent:filename];
  NSError *error;
  BOOL success = [fileManager removeItemAtPath:filePath error:&error];
  if (success) {
      UIAlertView *removedSuccessFullyAlert = [[UIAlertView alloc] initWithTitle:@"Congratulations:" message:@"Successfully removed" delegate:self cancelButtonTitle:@"Close" otherButtonTitles:nil];
      [removedSuccessFullyAlert show];
  }
  else
  {
      NSLog(@"Could not delete file -:%@ ",[error localizedDescription]);
  }
} 
```

* * *

## 回答 #2

> 赞同：56
> 
> 时间：2014-12-23T21:37:30.787

斯威夫特 3.0：

```
func removeImage(itemName:String, fileExtension: String) {
  let fileManager = FileManager.default
  let nsDocumentDirectory = FileManager.SearchPathDirectory.documentDirectory
  let nsUserDomainMask = FileManager.SearchPathDomainMask.userDomainMask
  let paths = NSSearchPathForDirectoriesInDomains(nsDocumentDirectory, nsUserDomainMask, true)
  guard let dirPath = paths.first else {
      return
  }  
  let filePath = "\(dirPath)/\(itemName).\(fileExtension)"
  do {
    try fileManager.removeItem(atPath: filePath)
  } catch let error as NSError {
    print(error.debugDescription)
  }} 
```

感谢@Anil Varghese，我在 swift 2.0 中编写了非常相似的代码：

```
static func removeImage(itemName:String, fileExtension: String) {
  let fileManager = NSFileManager.defaultManager()
  let nsDocumentDirectory = NSSearchPathDirectory.DocumentDirectory
  let nsUserDomainMask = NSSearchPathDomainMask.UserDomainMask
  let paths = NSSearchPathForDirectoriesInDomains(nsDocumentDirectory, nsUserDomainMask, true)
  guard let dirPath = paths.first else {
    return
  }
  let filePath = "\(dirPath)/\(itemName).\(fileExtension)"
  do {
    try fileManager.removeItemAtPath(filePath)
  } catch let error as NSError {
    print(error.debugDescription)
  }
} 
```

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2016-02-02T12:06:02.873

斯威夫特 2.0：

```
func removeOldFileIfExist() {
    let paths = NSSearchPathForDirectoriesInDomains(NSSearchPathDirectory.DocumentDirectory, NSSearchPathDomainMask.UserDomainMask, true)
    if paths.count > 0 {
        let dirPath = paths[0]
        let fileName = "someFileName"
        let filePath = NSString(format:"%@/%@.png", dirPath, fileName) as String
        if NSFileManager.defaultManager().fileExistsAtPath(filePath) {
            do {
                try NSFileManager.defaultManager().removeItemAtPath(filePath)
                print("old image has been removed")
            } catch {
                print("an error during a removing")
            }
        }
    }
} 
```

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2018-08-01T10:29:10.107

**在 Swift 3 和 4 中**

```
 func removeImageLocalPath(localPathName:String) {
            let filemanager = FileManager.default
            let documentsPath = NSSearchPathForDirectoriesInDomains(.documentDirectory,.userDomainMask,true)[0] as NSString
            let destinationPath = documentsPath.appendingPathComponent(localPathName)
 do {
        try filemanager.removeItem(atPath: destinationPath)
        print("Local path removed successfully")
    } catch let error as NSError {
        print("------Error",error.debugDescription)
    }
    } 
```

**或** **此方法可以删除所有本地文件**

```
func deletingLocalCacheAttachments(){
        let fileManager = FileManager.default
        let documentsURL = fileManager.urls(for: .documentDirectory, in: .userDomainMask)[0]
        do {
            let fileURLs = try fileManager.contentsOfDirectory(at: documentsURL, includingPropertiesForKeys: nil)
            if fileURLs.count > 0{
                for fileURL in fileURLs {
                    try fileManager.removeItem(at: fileURL)
                }
            }
        } catch {
            print("Error while enumerating files \(documentsURL.path): \(error.localizedDescription)")
        }
    } 
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2013-02-22T06:20:56.790

与其将错误设置为 NULL，不如将其设置为

```
NSError *error;
[fileManager removeItemAtPath:filePath error:&error];
if (error){
NSLog(@"%@", error);
} 
```

这会告诉你它是否真的在删除文件

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2016-06-03T05:07:52.457

I want to delete my sqlite db from document directory.I delete the sqlite db successfully by below answer

```
NSString *strFileName = @"sqlite";
NSFileManager *fileManager = [NSFileManager defaultManager];
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentsDirectory = [paths objectAtIndex:0];

NSArray *contents = [fileManager contentsOfDirectoryAtPath:documentsDirectory error:NULL];
NSEnumerator *enumerator = [contents objectEnumerator];
NSString *filename;
while ((filename = [enumerator nextObject])) {
    NSLog(@"The file name is - %@",[filename pathExtension]);
    if ([[filename pathExtension] isEqualToString:strFileName]) {
       [fileManager removeItemAtPath:[documentsDirectory stringByAppendingPathComponent:filename] error:NULL];
        NSLog(@"The sqlite is deleted successfully");
    }
} 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2014-08-19T15:54:53.200

```
 NSError *error;
    [[NSFileManager defaultManager] removeItemAtPath:new_file_path_str error:&error];
    if (error){
        NSLog(@"%@", error);
    } 
```

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2018-02-18T17:12:06.670

FreeGor 版本转换为 Swift 3.0

```
 func removeOldFileIfExist() {
    let paths = NSSearchPathForDirectoriesInDomains(FileManager.SearchPathDirectory.documentDirectory, FileManager.SearchPathDomainMask.userDomainMask, true)
    if paths.count > 0 {
        let dirPath = paths[0]
        let fileName = "filename.jpg"
        let filePath = NSString(format:"%@/%@", dirPath, fileName) as String
        if FileManager.default.fileExists(atPath: filePath) {
            do {
                try FileManager.default.removeItem(atPath: filePath)
                print("User photo has been removed")
            } catch {
                print("an error during a removing")
            }
        }
    }
} 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2017-12-15T14:36:38.920

如果您对现代 api 方式感兴趣，避免 NSSearchPath 和过滤文档目录中的文件，在删除之前，您可以这样做：

```
let fileManager = FileManager.default
let keys: [URLResourceKey] = [.nameKey, .isDirectoryKey]
let options: FileManager.DirectoryEnumerationOptions = [.skipsHiddenFiles, .skipsPackageDescendants]
guard let documentsUrl = fileManager.urls(for: .documentDirectory, in: .userDomainMask).last,
      let fileEnumerator = fileManager.enumerator(at: documentsUrl,
                                                  includingPropertiesForKeys: keys,
                                                  options: options) else { return }

let urls: [URL] = fileEnumerator.flatMap { $0 as? URL }
                                .filter { $0.pathExtension == "exe" }
for url in urls {
   do {
      try fileManager.removeItem(at: url)
   } catch {
      assertionFailure("\(error)")
   }
} 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2016-02-09T21:14:42.840

您可以使用 NSFileManager.defaultManager().isDeletableFileAtPath(PathName) 来双重保护您的文件删除到目前为止，您必须使用 do{}catch{}，因为旧的错误方法不再有效。isDeletableFileAtPath() 不是“抛出”（即“public func removeItemAtPath(path: String) throws”）所以它不需要 do...catch

```
let killFile = NSFileManager.defaultManager()

            if (killFile.isDeletableFileAtPath(PathName)){

                do {
                  try killFile.removeItemAtPath(arrayDictionaryFilePath)
                }
                catch let error as NSError {
                    error.description
                }
            } 
```

# ios - 如何将带有上一个和下一个按钮的自定义滑块添加到 iphone 的视图中？

> ID：15017903
> 
> 赞同：0
> 
> 时间：2013-02-22T06:05:14.933
> 
> 标签：ios, slider

![如何将这种类型的滑块添加到 iphone 的视图中？](../Images/2a21ca6ec3e1bd50e5a9bf015d36c87c.png)

在我的应用程序中，我需要显示滑块，按视图滚动视图。（逐页）。我该怎么做？我需要如上图所示显示滑块

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:18:08.610

您必须对其进行子类化并使用该图像或您希望它看起来像的任何图像对其进行初始化。

# opengl-es - OES/EXT/ARB_framebuffer_object

> ID：15017911
> 
> 赞同：2
> 
> 时间：2013-02-22T06:05:47.353
> 
> 标签：opengl-es

OES/EXT/ARB_framebuffer_object 扩展之间有什么区别。所有这些扩展都可以与 OpenGLES 1.1 或 OpenGLES2.0 应用程序一起使用吗？或者是否有任何指导方针与哪个版本的 GLESx.x 一起使用什么扩展？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T04:33:30.460

好的，经过一番谷歌搜索，我找到了以下信息......

1.  GLES FBO 是 GLES2 b 下的核心。在 GLES1 下，通过扩展 GL_OES_framebuffer_object 公开，API 入口点是 glFunctionNameOES
2.  带有 GL_EXT_framebuffer_object 的 OpenGL 1.x/2.x，其中 API 入口点是 glSomeFunctionEXT
3.  GL 3.x 下的 OpenGL 3.x FBO/GL_ARB_framebuffer_object，FBO 是核心，API 点也是 glSomeFunction，GL 2.x 有一个“backport”扩展，GL_ARB_framebuffer_object API 入口点是 glSomeFunction()。请注意缺少 EXT 或 ARB 后缀。

    令牌命名：1a。没有后缀 1b。_OES

    1.  _EXT
    2.  没有后缀。

    幸运的是，令牌名称映射到相同的值 此外，它们的用法不同： 1a，1b：深度和模板缓冲区作为渲染缓冲区单独附加，或者也可能支持将两者作为扩展名 GL_OES_packed_depth_stencil 附加为一个缓冲区。
    深度缓冲区默认为 16 位！

    2,3：规范允许单独附加深度和模板，但所有消费级桌面硬件不支持这一点，而是附加模板和深度缓冲区调用深度模板纹理。2\. 扩展 GL_EXT_packed_depth_stencil，类型为 GL_DEPTH24_STENCIL8_EXT 3\. 部分 FBO 规范，类型为 GL_DEPTH24_STENCIL8 注意：标记 GL_DEPTH24_STENCIL8 和 GL_DEPTH24_STENCIL8_EXT 的值相同。

    GL_EXT_framebuffer_object 的问题 a) GL_EXT_framebuffer_object 可能未在 GL 3.x 上下文中列出，因为 FBO 是核心。b）另外，如果有一个带有较新硬件的 GL 2.x 上下文，可能没有列出 GL_EXT_framebuffer_object 但 GL_ARB_framebuffer_object 是

    功能差异：通过 3.x/GL_ARB_framebuffer_object 支持的 FBO 允许颜色缓冲区属性具有不同的类型和分辨率，此外，MSAA 和 blit 功能
    是 3.x 核心的一部分，也是 GL_ARB_framebuffer_object 的一部分。

    通过 GL_EXT_framebuffer_object 支持 FBO，blit 和 MSAA 支持都作为单独的扩展公开。

# flash - 使用 selenium Webdriver 单击 Flash 按钮

> ID：15017913
> 
> 赞同：2
> 
> 时间：2013-02-22T06:05:51.167
> 
> 标签：flash, selenium, webdriver

我需要自动化这个小部件[http://www.plupload.com/example_queuewidget.php](http://www.plupload.com/example_queuewidget.php)我正在使用 selenium Web 驱动程序，并且我已经成功完成了 AutoIt 脚本来上传文件，但要单击“添加文件”按钮提到的网址是我的问题，任何人都可以帮我解决这个问题..

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-11-10T08:20:56.397

我没有尝试使用 webdriver click...但是通过控制台我尝试在 FF 上单击它，它对我来说工作正常。你可以试试这段代码：

**当我假设 WebDriver click 不起作用时，就是这种情况。**

```
JavascriptExecutor js = (JavascriptExecutor) driver;
js.executeScript("document.getElementById('uploader_browse').click();"); 
```

# ios - cgimagecreatewithmaskingcolors 将所有透明区域更改为黑色

> ID：15017914
> 
> 赞同：0
> 
> 时间：2013-02-22T06:06:14.573
> 
> 标签：ios, uiimage, core-graphics

我`CGImageCreateWithMaskingColors()`用来从`UIImage`. 颜色去除过程工作正常，但图像中的透明区域在屏蔽过程后变黑。请参阅下面粘贴的代码。

```
CGImageRef imageRef = self.editedImage.CGImage;
CGImageRef myColorMaskedImage = CGImageCreateWithMaskingColors(imageRef, myMaskingColors);

UIImage *newImage = [self normalizeWithAlpha:[UIImage imageWithCGImage:myColorMaskedImage]];
CGImageRelease(myColorMaskedImage); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T10:28:27.590

您必须进行第二次掩蔽传递以掩盖黑色：

```
 float colorMaskingLow[6] = {0, low, 0, low, 0, low};
    float colorMaskingHigh[6] = {high, 255, high, 255, high, 255};

    UIImage *image = [self maskColors:colorMaskingHigh inImage:image];
    return [self maskColors:colorMaskingLow inImage:image]; 
```

（其中`maskColors:inImage:`函数是您在上面指定的）

# c++ - QT USB 硬件 ID 检测 Mac OS 10.8.x 和 Mac Book (Pro)

> ID：15017917
> 
> 赞同：1
> 
> 时间：2013-02-22T06:06:20.537
> 
> 标签：c++, macos, qt, osx-mountain-lion, usbserial

背景：
我们有一个使用 QT 框架编写的应用程序。一个关键要求是我们可以正确检测所使用的**USB 闪存驱动器**（不是外部硬盘驱动器）的硬件序列号。此功能已正常运行 4 年，适用于 Windows XP、Windows Vista、Windows 2007 和所有 Mac 版本。

令我们惊讶的是，我们有客户抱怨 USB 硬件 ID 没有被完全读取和显示。经过广泛测试，事实证明只有**Mac OS mountain Lion + Mac Book (Pro)**的组合不会检测到硬件 ID。

在 iMac 和 Mini Mac 上的 Mountain Lion 运行良好。Leopard、Snow Leopard 和 Lion 在所有 Mac 上都能正常工作，包括 Mac Book Pro。

我们一直在寻找修复近 1 个月但没有结果。任何人都可以提供一小段有效的代码或提供导致此问题的原因（实际上仅针对此组合）以及如何解决此问题的信息。

注意 可以在 Internet 上找到与山狮有关的其他 USB 硬件的一些资源，但没有给出解决上述问题的确切答案。

附加信息：我们目前使用以下代码，该代码可在所有 Mac 上正常工作，但具有 USB3.0 端口的 Mac 除外。

```
matchingDict = IOServiceMatching(kIOUSBDeviceClassName);
if (matchingDict == NULL)
{
    return uret; // fail
}

/* Now we have a dictionary, get an iterator.*/
kr = IOServiceGetMatchingServices(kIOMasterPortDefault, matchingDict, &iter);
if (kr != KERN_SUCCESS)
{
    return uret;
}

/* iterate */
/* scan all USB device in Mac machine*/
while ((device = IOIteratorNext(iter)))
{
    int vendorId;
    int productId;
    getVidAndPid(device, &vendorId, &productId);
/*Get USB serial number by CFTypeRef*/
    CFTypeRef  serialNoRef = IORegistryEntryCreateCFProperty(device, CFSTR("USB Serial   Number"), 0, 0);
/*Get USB bsd name by CFStringRef */
    CFStringRef bsdNameRef = (CFStringRef)IORegistryEntrySearchCFProperty(device,  kIOServicePlane,CFSTR(kIOBSDNameKey),kCFAllocatorDefault, kIORegistryIterateRecursively );
    char* bsdName = cfStringRefToCString(bsdNameRef) ;
qDebug() << "bsd Name " << bsdName ;
    if (bsdName != NULL)
    {
           char* serialNo = cfTypeToCString(serialNoRef);
        qDebug() << "serialNo " << serialNo ;
/*Get USB manufacturerRef by CFTypeRef */
        CFTypeRef manufacturerRef =IORegistryEntrySearchCFProperty(device,     kIOServicePlane, CFSTR(kUSBVendorString), kCFAllocatorDefault, 0);
        char* manufacrurer = cfTypeToCString(manufacturerRef);
       qDebug() << "manufacrurer " << manufacrurer ;
    }
    IOObjectRelease(device);
}

/* Done, release the iterator */
 IOObjectRelease(iter); 
```

# ruby-on-rails-3 - 如何在测试单元中编写登录失败测试

> ID：15017918
> 
> 赞同：0
> 
> 时间：2013-02-22T06:06:21.637
> 
> 标签：ruby-on-rails-3, testing, factory-bot

我正在使用 devise gem 进行身份验证，当用户输入错误密码并且我也在使用工厂时，我需要测试登录失败测试。谁能帮我写这个？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:00:03.427

看到这个开始测试：

[http://www.hiringthing.com/2012/08/17/rails-testing-factory-girl.html](http://www.hiringthing.com/2012/08/17/rails-testing-factory-girl.html)

和

[http://railscasts.com/episodes/158-factories-not-fixtures](http://railscasts.com/episodes/158-factories-not-fixtures)

# android - Android ClassCastException - 清单问题

> ID：15017920
> 
> 赞同：0
> 
> 时间：2013-02-22T06:06:41.320
> 
> 标签：android, android-activity, manifest, classcastexception

尝试将测验应用程序合并到我已经构建的应用程序中。我遵循了测验的教程。当我运行我的应用程序并单击按钮启动测验时，我得到一个`java.lang.ClassCastException: android.app.Application cannot be cast to com.example.myfirstllapp.quiz.ChuckApplication`

我一直在研究，我的清单有问题。我似乎无法弄清楚。

这是启动测验的活动的代码

```
package com.example.myfirstllapp;

//import android.R;
import java.io.IOException;
import java.util.HashMap;
import java.util.List;

import com.example.myfirstllapp.quiz.ChuckApplication;
import com.example.myfirstllapp.quiz.Constants;
import com.example.myfirstllapp.quiz.DBHelper;
import com.example.myfirstllapp.quiz.GamePlay;
import com.example.myfirstllapp.quiz.Question;
import com.example.myfirstllapp.quiz.QuestionActivity;

import android.app.Activity;
import android.content.Intent;
import android.content.SharedPreferences;
import android.database.SQLException;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.EditText;
import android.widget.ImageView;
import android.widget.Toast;

public class Activia extends Activity implements OnClickListener {

    private Button mButton;
    private ImageView mImage;
    private EditText mEditText;
    private Button mChangeScreenButton;
    private Button mWebButton;
    private Button mPlayQuizButton;

    private HashMap<String, Integer> mCharMap;

    @Override
    public void onCreate(Bundle bundle){
    super.onCreate(bundle); 
    initializeLayout();

    //hashmap can be used instead of if thens
    populateHashMap();

    // Using HashMap might not need this yet
    //mButton.setOnClickListener(this);
    }

    private void populateHashMap(){
        mCharMap = new HashMap<String, Integer>();
        mCharMap.put("bugsbunny", R.drawable.bugs);
        mCharMap.put("clippy", R.drawable.clippy);
        mCharMap.put("duder",R.drawable.duder);
        mCharMap.put("cheesemouse",R.drawable.chuckecheese);
    }

    private void initializeLayout() {
        setContentView(R.layout.ugly_layout);
        mPlayQuizButton = (Button)findViewById(R.id.play_the_quiz);
        mPlayQuizButton.setOnClickListener(this);
        mButton = (Button)findViewById(R.id.button);
        mImage = (ImageView)findViewById(R.id.image_view);
        mEditText = (EditText)findViewById(R.id.edit_text);
        mChangeScreenButton = (Button)findViewById(R.id.switch_screen_button);
        mWebButton = (Button)findViewById(R.id.web_button);
        //using hashmap call down here, I dont know why tho
        mButton.setOnClickListener(this);
        mChangeScreenButton.setOnClickListener(this);
        mWebButton.setOnClickListener(this);

    }

    @Override
    public void onClick(View v) {
        switch(v.getId()){
        case R.id.button :
            String enteredValue = mEditText.getText().toString();
            enteredValue = enteredValue.toLowerCase().replace(" ", "");

            if(enteredValue.length() == 0){
                Toast.makeText(this," You need to enter something",Toast.LENGTH_SHORT).show();
            }

            Integer drawableId = mCharMap.get(enteredValue);
            if(drawableId != null) {
                mImage.setImageDrawable(getResources().getDrawable(drawableId));
            }
            else{
                Toast.makeText(this,"Sorry The character you entered is not supported.",Toast.LENGTH_SHORT).show();
            }
            mEditText.setText("");
            break;
        case R.id.switch_screen_button :
            Toast.makeText(this,"it clicks",Toast.LENGTH_SHORT).show();
            Intent intent = new Intent(this, CoolerActivity.class);
            startActivity(intent);
            break;

        case R.id.web_button :
            Toast.makeText(this,"it clicks",Toast.LENGTH_SHORT).show();
            Intent intent2 = new Intent(this, WebActivity.class);
            startActivity(intent2);
            break;

        case R.id.play_the_quiz :
            Toast.makeText(this,"It Clicks2",Toast.LENGTH_SHORT).show();

            //Get Question set //
            List<Question> questions = getQuestionSetFromDb();

            //Initialise Game with retrieved question set ///
            GamePlay c = new GamePlay();
            c.setQuestions(questions);
            c.setNumRounds(getNumQuestions());
            ((ChuckApplication)getApplication()).setCurrentGame(c);  

            //Start Game Now.. //
            Intent i = new Intent(this, QuestionActivity.class);
            startActivityForResult(i, Constants.PLAYBUTTON);

            break;
        }
    }

    /**
     * Method that retrieves a random set of questions from
     * the database for the given difficulty
     * @return
     * @throws Error
     */
    private List<Question> getQuestionSetFromDb() throws Error {
        int diff = getDifficultySettings();
        int numQuestions = getNumQuestions();
        DBHelper myDbHelper = new DBHelper(this);
        try {
            myDbHelper.createDataBase();
        } catch (IOException ioe) {
            throw new Error("Unable to create database");
        }
        try {
            myDbHelper.openDataBase();
        }catch(SQLException sqle){
            throw sqle;
        }
        List<Question> questions = myDbHelper.getQuestionSet(diff, numQuestions);
        myDbHelper.close();
        return questions;
    }

    /**
     * Method to return the difficulty settings
     * @return
     */
    private int getDifficultySettings() {
        SharedPreferences settings = getSharedPreferences(Constants.SETTINGS, 0);
        int diff = settings.getInt(Constants.DIFFICULTY, Constants.MEDIUM);
        return diff;
    }

    /**
     * Method to return the number of questions for the game
     * @return
     */
    private int getNumQuestions() {
        SharedPreferences settings = getSharedPreferences(Constants.SETTINGS, 0);
        int numRounds = settings.getInt(Constants.NUM_ROUNDS, 20);
        return numRounds;
    } 
```

这是清单

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.myfirstllapp"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="9" />
    <uses-permission android:name="android.permission.INTERNET" />

    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme"

        android:debuggable="true" >
        <activity
            android:name="com.example.myfirstllapp.Activia"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

        <activity android:name=".CoolerActivity" /> 
        <activity android:name=".WebActivity" />

        <activity android:name="com.example.myfirstllapp.quiz.QuestionActivity" />
        <activity android:name="com.example.myfirstllapp.quiz.RulesActivity" />
        <activity android:name="com.example.myfirstllapp.quiz.EndgameActivity" />
        <activity android:name="com.example.myfirstllapp.quiz.SettingsActivity" />
        <activity android:name="com.example.myfirstllapp.quiz.AnswersActivity" />
        <activity android:name="com.example.myfirstllapp.quiz.ChuckApplication" />

    </application>
    <application 
        android:name=".ChuckApplication" >

        </application>

</manifest> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:39:50.190

看看[http://developer.android.com/guide/topics/manifest/application-element.html](http://developer.android.com/guide/topics/manifest/application-element.html)中应用程序元素的定义。活动应该是应用程序的子项。

# reverse-engineering - LabView：图标识别

> ID：15017921
> 
> 赞同：1
> 
> 时间：2013-02-22T06:06:45.643
> 
> 标签：reverse-engineering, labview

我对 LabView 完全陌生，作为一个宠物项目，我正在尝试重新创建一个脉冲检测器。问题是，.VI的版本是LabView2010，我在LabView2009中无法打开.VI，所以试图通过查看模块来重新制作它。但是，我确实有图像，但是由于我很新，因此无法识别使用的某些组件。下面是.VI的图像，以及我不知道的部分用红色包围并枚举。这些到底是什么？谢谢！![在此处输入图像描述](../Images/d4a8cd584276a3a3182babe3452c309d.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T13:20:01.653

要制作移位寄存器，请右键单击 while 循环的边缘并放置一个移位寄存器。等待 (ms) 节点位于计时功能托盘中。#1 和#3 位于波形生成托盘中。#2 是绑定到滤波器输出的波形图。只需右键单击过滤器的输出并创建一个指标

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:33:59.277

我对此代码中的特定功能的经验有限，因此我没有确切的名称，但它应该为您指明正确的方向：

2是动态数据指标。1 将其转换为波形（如果将 DDT 线连接到 WF 功能，它可能会自动出现。3 将数据从波形中解开。它应该在波形调色板中。

4是移位寄存器。

5是等待功能。

* * *

一般来说，我建议您开始学习，因为您需要至少将这些东西理解到那个水平，然后才能精通。

此外，NI 论坛更适合此类问题，并且拥有更多用户。我建议如果您有无法自己回答的问题，请在此处发布。

# serial-port - Atmega128 中的串行通信

> ID：15017924
> 
> 赞同：0
> 
> 时间：2013-02-22T06:06:55.613
> 
> 标签：serial-port, avr-gcc, serial-communication

我想通过串行总线向 PC 发送一些字符串。在可爱的 com 中，它显示的字符串和一些字符丢失了，并且在字符串的开头和结尾附加了一些十六进制数字。为什么会出现这个问题我不知道请帮助解决这个问题。我的代码在这里。

```
 #include <avr/io.h>  
 #include <string.h>
 #include <avr/interrupt.h>
 #define F_CPU 16000000UL
 #include <util/delay.h>    
 #define USART_BAUDRATE 9600    // Baud Rate value
 #define BAUD_PRESCALE (((F_CPU / (USART_BAUDRATE * 16UL))) - 1)
 void usart_init() {

//Enable communication in duplex mode
UCSR1A = (1 << U2X1);
UCSR1B |= (1 << RXEN1) | (1 << TXEN1);   // Turn on the transmission and reception circuitry
UCSR1C &= ~(1 << UMSEL1);
UCSR1C |= (1<<USBS1) | (1 << UCSZ10) | (1 << UCSZ11);

UBRR1L = BAUD_PRESCALE;                 // Load lower 8-bits of the baud rate value into the low byte of the UBRR register
UBRR1H = (BAUD_PRESCALE >> 8);          // Load upper 8-bits of the baud rate value.. 
}

void serial_write(unsigned char data) {

while(!(UCSR1A & (1<<UDRE1)))
    ;
    UDR1 = data;
    _delay_ms(10);
}

 void transmitString(unsigned char *str) {

int i;
for(i=0;i<strlen(str);i++) {
    serial_write(str[i]);
    _delay_ms(1);
}
}

int main() {
cli();
usart_init();
unsigned char buffer[20];
strcpy(buffer, "Walk Alone");
while(1) {  
    transmitString(buffer);
    //_delay_ms(250);
}
return 0;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:21:38.990

首先，这个问题属于[http://electronics.stackexchange.com](http://electronics.stackexchange.com)

要回答您的问题，功能`strcpy()`并`strlen()`期望 a`char *`而不是[在这里](http://www.nongnu.org/avr-libc/user-manual/group__avr__string.html#ga54e4f23104fa6f722f9459d2673a1eba)`unsigned char *`检查

# javascript - 如何垂直增加 DIV 的宽度，向上，即底部位置需要固定

> ID：15017927
> 
> 赞同：0
> 
> 时间：2013-02-22T06:06:59.020
> 
> 标签：javascript, html

如何垂直增加 DIV 的高度，向上即底部位置需要固定。（需要用 JavaScript 和 HTML 编写代码）。高度应根据可用内容向上增加

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:38:54.207

将以下内容放在 HTML 部分中：

```
<div id="Main" style="height:10px"> 
```

将以下代码放在 css 部分：

```
<style>
#Main {
  -webkit-transition:margin-top, height;
  transition:margin-top, height
}
</style> 
```

将以下代码放在 javascript 部分中：

```
document.getElementById("Main").style.marginTop = "-400px";
document.getElementById("Main").style.height = "410px"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:19:33.237

根据您的要求“向上，即底部位置需要固定”，我相信您希望 DIV 在底座不动的情况下长得更高。

神奇之处在于将绝对定位的 div A 放入相对定位的 div B 中，并将 B 的位置定位在 A 的底部。随着 B 的底部设置，增加 B 的高度会使其从那个固定的位置。

```
<!DOCTYPE html>
<html>
<head>
    <title>Test</title>
    <style>
        body {
            background-color: #abc;
        }
        div {
            width: 200px;
            margin: auto;
        }
        #A {
            position: relative;
            background-color: #369;
            height: 500px;
        }
        #B {
            position: absolute;
            bottom: 0px;
            background-color: #69C;
            height: 200px;
        }
    </style>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
</head>
<body>
    <div id="A">
        <p>This is A</p>
        <div id="B">
            <p>This is B</p>
        </div><!-- /B -->
    </div><!-- /A -->
</body>
<script>
    $(document).ready(function(){
        $('#B').animate({'height': 400}, 3000);
    });
</script>
</html> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T06:30:09.943

将以下内容放在 HTML 部分中：

```
<div id="Main" style="height:10px"> 
```

将以下代码放在 javascript 部分中：

```
anim("Main", {marginTop:"-400px", height:"410px"}, 4000); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T06:11:36.250

将以下内容放在 HTML 部分中：

```
<div id="Main" style="position:absolute;top:10px;height:100px;width:100px"> 
```

将以下代码放在 javascript 部分中：

```
 $(document).ready(function () {
    $("#Main").animate({height:'400px'},4000);
 }); 
```

这 `4000`是它应该发生的时间（4000 = 4秒）

# c# - DateTime.Now 使用实体数据模型转换为 SQLDatetime

> ID：15017928
> 
> 赞同：1
> 
> 时间：2013-02-22T06:07:11.703
> 
> 标签：c#, sql, ado.net-entity-data-model

我正在使用连接到我的 SQLDatabase 的实体数据模型。

一个特定的列是日期时间。

当我将值声明为 Datetime.Now 时，我收到以下错误：

> **内部异常：** SqlDateTime 溢出。必须介于 1753 年 1 月 1 日上午 12:00:00 和 9999 年 12 月 31 日晚上 11:59:59 之间。

这是我的代码片段：

```
ReworkEntities dbContext = new ReworkEntities();

        Carton carton = new Carton();

        Carton_Details detail1 = new Carton_Details();
        detail1.Detail = "Some Detail Here";
        detail1.DateOfSub = DateTime.Now;

        carton.Carton_Details.Add(detail1);

        dbContext.AddToCartons(carton);
        dbContext.SaveChanges(); 
```

我在谷歌上花了一个小时，发现了很多类似的问题，但似乎没有一个对我有用。

他们建议使用 .toSting("M/dd/yyyy H:mmss tt")，我适用于字符串值，但我需要 DateTime 值，并且在将其转换回来时它仍然相同。

也试过 .Parse ， .ParseExact 也没有成功。

另一篇文章建议更改 SQL 数据库日期时间格式，但我不能这样做，因为我们的代码标准是这样使用它。

任何有关如何解决问题的建议将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T15:01:36.987

我遇到了类似的问题，只需在实体的构造函数中为属性设置一个值，代码如下。

```
public class Carton_Details
{
    public DateTime DateOfSub { get; set; }

    public Carton_Details()
    {
        this.DateOfSub = DateTime.Now;
    }
} 
```

我希望我有所帮助。

# asp.net - 对于每个 MenuItem RemoveAt

> ID：15017930
> 
> 赞同：1
> 
> 时间：2013-02-22T06:07:17.163
> 
> 标签：asp.net, vb.net, menuitem

我开发了一个基本系统，在页面加载时循环遍历菜单集合中的菜单项（项目是硬编码的，因此不能使用 rowdatabound 事件）并禁用那些不符合特定用户级别标准的菜单项：

```
 For Each item As MenuItem In NavigationMenu.Items

            Dim value As Int32 = Convert.ToInt32(item.Value)
            Dim level As Int32 = Convert.ToInt32(Session.Item("uxID"))

            If value > level Then item.Enabled = False

        Next 
```

它工作得很好，并且禁用了它应该的所有菜单项并忽略了其余的。问题是随着时间的推移，菜单项的数量增加了，一些用户很难知道他们做了什么，不能访问什么。

我的理解是 menuitems 没有可见属性，但可以删除（[http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.menuitemcollection.removeat.aspx](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.menuitemcollection.removeat.aspx)）但我为了做到这一点，我很难过如何获取菜单项的索引。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T08:26:19.580

做同样的事情：

```
Dim i As Integer = 0

While i < NavigationMenu.Items.Count
    Dim value As Int32 = Convert.ToInt32(NavigationMenu.Items(i).Value)
    Dim level As Int32 = Convert.ToInt32(Session.Item("uxID"))

    If value > level Then : NavigationMenu.Items.RemoveAt(i)
    Else : i += 1
    End If
End While 
```

请记住，您**不能**执行 foreach 并删除其中的项目，因为您将收到关于修改循环数组的异常。

# c# - Web 服务方法名称无效（通过带有 html5 表单数据的 ajax 将文件上传到 aspx webservice）

> ID：15017932
> 
> 赞同：0
> 
> 时间：2013-02-22T06:07:33.893
> 
> 标签：c#, ajax, html, web-services

我正在尝试使用 formdata 和 html5 将文件上传到 aspx webservice。如果我没有在 ajax 调用中设置内容类型，它就看不到 web 服务。如果我将它设置为 json，它会传入空数据。

```
 var formData = new FormData();
    file = $("#fileToUpload")[0].files[0];
    formData.append("file", file);

    $.ajax({
        url: 'http://localhost:50101/xxxxx.asmx/UploadFile',  //server script to process data
        type: 'POST',
        success: function(msg) {    
            console.log("error | " + JSON.stringify(msg));
        },
        error: function(msg) {
            console.log("Success | " + JSON.stringify(msg));    
        },
        data: formData,
        //data: {' + JSON.stringify(formdata)+'},
        cache: false,
        contentType: false,
        processData: false
    });
});

<form enctype="multipart/form-data">
    <input id="fileToUpload" type="file" />
    <input type="button" value="Upload" />
</form>

//....webservice....
    public String UploadFile(Object fileStreams)
        {
...
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:18:32.143

使用 Json 类型

```
jQuery.ajax({
        type: "POST",  // or GET
        url: "http://localhost:50101/xxxxx.asmx/UploadFile",
        data: formdata,
        contentType: "application/json; charset=utf-8",
        dataType: "json"
        success: function(msg) {    
        console.log("error | " + JSON.stringify(msg));
        },
        error: function(msg) {
        console.log("Success | " + JSON.stringify(msg)); 
        }
    }); 
```

并检查您是否`[webmethod]`在方法声明中添加了属性并且没有静态修饰符。

# c# - 在c#中一次一个字符地从文本文件中读取数字、字母和特殊字符

> ID：15017933
> 
> 赞同：0
> 
> 时间：2013-02-22T06:07:52.680
> 
> 标签：c#, file-io, special-characters

一切正常，只是它不读取特殊字符。我的文件“a.text”包含以下内容：

"ANBOCPDQERFSGTHUIVJWKXLYMZNAOBPCQDRESFTGUHVIWJXKYLZManbocpdqerfsgthuivjwkxlymznaobpcqdresftguhviwjxkylzm05162738495061728394<:>;(,).[?] `{'}"/~\!|@_#+$-%*^=&:<;>,(.)?[`]'{"}~/!\@|#_$+%-^*&="

```
using System;
using System.IO;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Text.RegularExpressions;

namespace ConsoleApplication12
{
    class Tester
    {              
        static void Main(string[] args)
        {             
            FileStream fs = new FileStream(@"d:\a.txt", FileMode.Open, FileAccess.Read);
            string s = "aDFn3&5(09@Df0!/";
            string c1 = "";
            string c2 = "";
            string c3 = "";
            byte[] text2 = new byte[1];
            byte[] text1;
            int i,j,k=0;
            while (k<16)
            {
                c1 = s.Substring(k, 1);
                if (Regex.IsMatch(c1, @"^[A-Z]+$"))
                {
                    i = 26;
                    j = 6;
                    fs.Seek(0, SeekOrigin.Begin);
                }
                else if (Regex.IsMatch(c1, @"^[a-z]+$"))
                {
                    i = 26;
                    j = 6;
                    fs.Seek(182, SeekOrigin.Begin);
                }
                else if (Regex.IsMatch(c1, @"^[0-9]+$"))
                {
                    i = 10;
                    j = 10;
                    fs.Seek(364, SeekOrigin.Begin);
                }
                else
                {
                    i = 32;
                    j = 10;
                    fs.Seek(-352, SeekOrigin.End);
                }
                while(i>0)
                {
                    fs.Read(text2, 0, 1);
                    c2 = System.Text.Encoding.Default.GetString(text2);                      
                    if (c1 == c2)
                    {
                        Console.Write(c2);
                        break;
                    }
                    fs.Seek(j, SeekOrigin.Current);
                    i--;   
                }
                text1 = new byte[j];
                fs.Read(text1, 0, j);
                c3 = System.Text.Encoding.Default.GetString(text1);
                Console.Write(c3);                
                Console.WriteLine();  
                k++;
            }
        }        
    }
} 
```

我在尝试读取特殊字符并进行比较的输出中出现空格。我猜输入 c2 字符串的编码是问题所在，但我尝试了所有编码类型，UTF8、UNICODE、UTF7、UTF32 只是为了看到任何帮助。
帮我解决这个问题，所有回复表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:53:01.700

我真的不明白你想要达到什么目的，或者为什么你想一次读一个字符。

如果文件不是太大，我会阅读整个文件，然后使用字符串。

就像是：

```
private static void parseFile(string fileName)
{
    string content = File.ReadAllText(fileName, Encoding.UTF8);
    foreach (char character in content)
    {
        if (character >= 'A' && character <= 'Z')
        {
            // handle A-Z
        }
        else if (character >= 'a' && character <= 'z')
        {
            // handle a-z
        }
        else if (character >= '0' && character <= '9')
        {
            // handle 0-9
        }
        else
        {
            // handle everything else
        }
    }
} 
```

编辑：也不要混合字节和字符。并阅读有关[Unicode](http://www.joelonsoftware.com/articles/Unicode.html)的信息。

# c# - 使用 Linq to Mysql 删除没有发生

> ID：15017934
> 
> 赞同：0
> 
> 时间：2013-02-22T06:07:57.047
> 
> 标签：c#, mysql, linq

这是我在项目中用于从表“帐户”中删除记录的代码，

```
using (OneViewEntities context = new OneViewEntities())
            {
                var AccountDelete = (from a in context.accounts
                                     where a.id == accountId && a.userid == userId
                                     select a).SingleOrDefault();                    
                context.accounts.DeleteObject(AccountDelete);
                context.SaveChanges();
                return true;
            } 
```

但是此代码在执行 context.SaveChanges() 时会引发异常。这是错误详细信息。

```
InnerException = {"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(SELECT\n      `account`.`id`, \n      `account`.`isprimary`, \n      `account`.`na' at line 1"} 
```

# php - PHP：无法将所有值添加到字符串

> ID：15017935
> 
> 赞同：0
> 
> 时间：2013-02-22T06:07:57.973
> 
> 标签：php

我正在尝试将未知数量的参数添加到 PHP 中的字符串。

这是代码：

```
<?php 
print "Get parameters";
$myFile = "wr.txt";
$fh = fopen ($myFile, 'w') or die ("can't open file");
$stringData = '';
//$st = '';
foreach ($_REQUEST as $k => $v) {
        $date = date ('Y-m-d H:i:s');
        $stringData = $k.":".$v."Date:".$date."\n";      
        fwrite ($fh, $stringData);
        fwrite ($fh, $stringData);
        fclose ($fh);
}
?> 
```

但它只添加最后一个参数值。

我也试过喜欢

```
$stringData += $k.":".$v."Date:".$date."\n"; 
```

并把这个：

```
fwrite($fh, $stringData);
fwrite($fh, $stringData);
fclose($fh); 
```

在 for 循环之外，但在这种情况下，它在`wr.txt`. 请帮助我如何按日期将所有参数写入一行。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T06:08:53.603

In`PHP` `.`用于连接`+`，不用于连接。

改变这个

```
$stringData +=$k.":".$v."Date:".$date."\n"; 
```

至

```
$stringData .= $k.":".$v."Date:".$date."\n"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T06:16:35.843

查看线路：

```
$stringData .=$k.":".$v."Date:".$date."\n";//** ADD CONCATENATION '.' BEFORE '='** 
fwrite($fh, $stringData); //PUT THIS OUT SIDE THE LOOP
fwrite($fh, $stringData); //**REMOVE THIS **
fclose($fh); // **PUT HIS OUT SIDE THE FOREACH LOOP** 
```

尝试这个 ：

```
<?php 

print "Get parameters";
$myFile = "wr.txt";
$fh = fopen($myFile, 'w') or die("can't open file");
$stringData = '';
//$st = '';
foreach($_REQUEST as $k => $v) {
        $date = date('Y-m-d H:i:s');
        $stringData .=$k.":".$v."Date:".$date."\n";//** ADD CONCATENATION '.' BEFORE '='**  
        //fwrite($fh, $stringData); PUT THIS OUT SIDE THE LOOP
        ///fwrite($fh, $stringData); //**REMOVE THIS **
        //fclose($fh); // **PUT HIS OUT SIDE THE FOREACH LOOP**
}
fwrite($fh, $stringData);
fclose($fh);
?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T06:18:02.127

我只能猜测您要做什么。但试试这个：

```
<?php 
print "Get parameters";
$myFile = "wr.txt";
$fh = fopen($myFile, 'w') or die("can't open file");
$stringData = '';
//$st = '';
foreach($_REQUEST as $k => $v) {
    $date = date('Y-m-d H:i:s');
    $stringData = $stringData . $k.":".$v."Date:".$date."\n";
}
fwrite($fh, $stringData);
fclose($fh);
?> 
```

希望有帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T06:14:48.330

利用 ”。” 而不是“+”，在 php 连接运算符是“。”

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-22T06:11:13.900

远离`close ($fh)`循环：

```
$myFile = "wr.txt";
$fh = fopen ($myFile, 'w') or die ("Can't open file");

$date = date ('Y-m-d H:i:s');
foreach ($_REQUEST as $k => $v)
    fwrite ($fh, "$k: $v Date $date\n") or die ("Cannot write to file");

fclose ($fh); 
```

# ios - 以编程方式为 iOS 的核心数据属性（列）设置默认值

> ID：15017936
> 
> 赞同：3
> 
> 时间：2013-02-22T06:08:01.897
> 
> 标签：ios, objective-c, core-data

**当前方法**

*   我使用检查器将属性的默认值直接设置为数据模型文件。

**问题**

*   我有一个特定属性可以采用的值的枚举。
*   我担心在后期维护它们可能会很困难。
*   假设如果我决定更改枚举值，那么我将不得不手动去检查员并更改它。
*   由于我有很多基于枚举值的属性，因此变得很困难。

**问题**

*   如何以编程方式将默认值添加到核心数据属性？
*   有没有其他方法可以做到这一点，这样维护会更容易？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T07:17:04.087

您可以在 Core Data 模型编辑器中以图形方式执行的所有操作，您都可以使用 Core Data 提供的类来创建/内省托管对象模型。对于这个用例，您可以使用[`NSEntityDescription`](https://developer.apple.com/library/ios/documentation/Cocoa/Reference/CoreDataFramework/Classes/NSEntityDescription_Class/NSEntityDescription.html#//apple_ref/doc/uid/TP40003604)查找实体、其[`properties`](https://developer.apple.com/library/ios/documentation/Cocoa/Reference/CoreDataFramework/Classes/NSEntityDescription_Class/NSEntityDescription.html#//apple_ref/occ/instm/NSEntityDescription/properties)或[`propertiesByName`](https://developer.apple.com/library/ios/documentation/Cocoa/Reference/CoreDataFramework/Classes/NSEntityDescription_Class/NSEntityDescription.html#//apple_ref/occ/instm/NSEntityDescription/propertiesByName)访问器来查找[`NSAttributeDescription`](https://developer.apple.com/library/ios/documentation/Cocoa/Reference/CoreDataFramework/Classes/NSAttributeDescription_Class/reference.html#//apple_ref/occ/cl/NSAttributeDescription)您感兴趣的属性，并[`setDefaultValue:`](https://developer.apple.com/library/ios/documentation/Cocoa/Reference/CoreDataFramework/Classes/NSAttributeDescription_Class/reference.html#//apple_ref/occ/instm/NSAttributeDescription/setDefaultValue%3a)执行与 Core Data 模型编辑器相同的操作。

您可能会发现这是最合适的方式来做您正在寻找的事情。或者，正如@DimitryShevchenko 所说，您可以在`NSManagedObject`子类的[`awakeFromInsert`](https://developer.apple.com/library/ios/documentation/Cocoa/Reference/CoreDataFramework/Classes/NSManagedObject_Class/Reference/NSManagedObject.html#//apple_ref/occ/instm/NSManagedObject/awakeFromInsert)方法中初始化值——您选择的方式可能取决于您的工作流程或应用程序的其他要求。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-22T06:11:57.483

您可以将 NSManagedObject 子类化并在`awakeFromInsert`

[相关文档](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CoreData/Articles/cdManagedObjects.html)（参见*对象生命周期*）

# multithreading - 在perl中控制在给定时间同时运行的最大线程数

> ID：15017941
> 
> 赞同：0
> 
> 时间：2013-02-22T06:08:49.607
> 
> 标签：multithreading, perl, worker

我有一个包含文件列表的数组`@arr=(a.txt,b.txt,c.txt);`

我正在迭代数组并使用 foreach 循环处理文件；该文件的每一行都将生成一个 sql 并将在 DB 服务器上运行。

我想用文件的每一行创建一个线程并查询数据库。我还想控制一次同时运行的最大线程数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:22:48.333

这只是一个简单的工人模型，一个理想的场景。没问题。

```
use threads;
use Thread::Queue qw( );

use constant NUM_WORKERS => 5;

sub work {
   my ($dbh, $job) = @_;
   ...
}

{
   my $q = Thread::Queue->new();

   my @threads;
   for (1..NUM_WORKERS) {
      push @threads, async {
         my $dbh = ...;
         while (my $job = $q->dequeue()) 
            work($dbh, $job);
         }
      };
   }

   while (<>) {
      chomp;
      $q->enqueue($_);
   }

   $q->enqueue(undef) for 1..@threads;
   $_->join() for @threads;
} 
```

将文件名作为参数传递给脚本，或在`@ARGV`脚本中分配它们。

```
local @ARGV = qw( a.txt b.txt c.txt ); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T06:13:03.660

您可以使用基于[Thread::Pool](http://search.cpan.org/~elizabeth/Thread-Pool-0.33/lib/Thread/Pool.pm)的系统。或任何基于[Boss/Worker](http://perldoc.perl.org/perlthrtut.html#Boss%2fWorker)模型的系统。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T18:51:46.423

有趣的是，我手动控制要运行的线程数。我使用 Hash of the thread id [code snip] my %thr; #我的线程哈希

```
$count=1;
$maxthreads=5;

while (shift (@data) {
  $syncthr = threads->create(sub {callfunction here}, {pass variables});
  $tid = $syncthr->tid; #get the thread ID
  $thr{$tid} = $syncthr;
  if ($count >= $maxthreads) {
    threads->yield();
    while (1) { # loop until threads are completed
    $num_run_threads = keys (%thr);
    foreach $one_thread ( keys %thr ) {
       if ($thr{$one_thread}->is_running() ) { # if thread running check for error state
          if ($err = $thr{$one_thread}->error() } {
             [ do stuff here]
          }
          # otherwise move on to next thread check
       } else { # thread is either completed or has error
          if ($err = $thr{$one_thread}->error()) {
            [ check for error again cann't hurt to double check ]
          }
          if ($err = $thr{$one_thread}->join()) {
             print "Thread completed id: [$one_thread]\n";
          }
          delete $thr{$one_thread}; # delete the hash since the thread is no more
          $num_run_threads = $num_run_threads - 1; # reduce the number of running     threads
       }
    } # close foreach loop
    @threads = threads->list(threads::running); # get threads
    if ($num_run_threads < $maxthreads ) {
      $count = $num_run_threads; # reset the counter to number of threads running
      if ( $#data != -1 ) { # check to make sure we still have data
        last; # exit the infinite while loop
      } else {
        if (@threads) {
          next; # we still have threads continue with processing
        } else {
          { no more threads to process exit program or do something else }
        }
      } # end else
    } # end threads running
    } # end the while statement
    #Check the threads to see if they are joinable
    undef @threads;
    @threads = threads->joinable()
    if (@threads) {
      foreach $mthread(@threads) {
        if ($mthreads != 0) {
          $thr->join();
        }
      } #end foreach
    } #end @threads
  } #end the if statement
  $count++; Increment the counter to get to number of max threads to spawn
} 
```

这绝不是一个完整的程序。此外，我已将其更改为非常平淡。但是，我已经成功使用了一段时间。特别是在 OO Perl 中。这对我有用并且有很多用途。我可能会错过更多的错误检查，尤其是在超时的情况下，但我是在线程本身中进行的。顺便说一句，线程实际上是我正在调用的子例程。

# symfony - symfony2 表单未显示

> ID：15017943
> 
> 赞同：4
> 
> 时间：2013-02-22T06:08:53.260
> 
> 标签：symfony, symfony-2.1, symfony-2.2

我正在学习 symfony2，并且我在控制器中创建了一种形式，如下所示。控制器文件为 DefaultController.php

```
namespace Banner\TestBundle\Controller;

use Banner\TestBundle\Entity\Contact;
use Symfony\Bundle\FrameworkBundle\Controller\Controller;
use Banner\TestBundle\Entity\Task;
use Symfony\Components\HttpFoundation\Request;

class DefaultController extends Controller
{
public function newAction(Request $request)
{

 echo "The controller is called ";
 $task = new Task();
 $task->setTask("Write a blog Post ");
 $task->setDueDate(new DateTime('tomorrow'));

 $form =  $this->createFormBuilder($task)
            ->add('task','text  ')
            ->add('duedate','date')
            ->getForm();
    return $this->render('BannerTestBundle:default:zoo.html.twig',array('form'=>$form->createView()));

}
} 
```

我的路由文件如下。路由.yml

```
task_new:
pattern:  /task/{request}
defaults: { _controller: BannerTestBundle:Default:new} 
```

zoo.html.twig 文件如下所示。

```
{% extends '::page.html.twig' %}
    {% block title %}The Zoo{% endblock %}

    {% block content %}

        <form action="{{ path('task_new') }}" method="post" {{ form_enctype(form) }}>
                {{ form_widget(form) }}
            <input type="submit">   
        </form> 

    {% endblock %} 
```

当我在我的 url 中传递“task/GET”时，它会显示“请求不存在”。错误 500'。

我基本上想做的是当我传递 url 时 zoo.html.twig 将被调用。我想在 zoo.html.twig 中显示表单。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-22T07:56:47.000

您不需要传递`$request`给您的操作，也不需要将其放入您的路线中。请求对象在全局上下文中可用。所以

```
task_new:
    pattern:  /task-new
    defaults: { _controller: BannerTestBundle:Default:new} 
```

你可以这样离开

```
public function newAction(Request $request) 
```

或有

```
public function newAction() 
```

并像这样访问请求对象

```
$request  = $this->getRequest(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T07:57:09.277

您的路由文件没有正确缩进，因此 yaml 将无法正确解析。尝试：

> ```
> task_new:
>     pattern:  /task/{request}
>     defaults: { _controller: BannerTestBundle:Default:new} 
> ```

还：

1.  以这种方式覆盖请求可能是一个坏主意
2.  您似乎没有对控制器中的请求做任何事情

# mysql - 优化小于大于mysql的查询

> ID：15017950
> 
> 赞同：1
> 
> 时间：2013-02-22T06:09:23.397
> 
> 标签：mysql

我的一个查询面临着沉重的负担。我的表中有 1000 万条数据，并且我已经对 pid 和 fid 列进行了索引，然后 mysql explain 显示它没有使用任何索引

这是我的查询

```
 select * from tableA where pid < '94898' and fid='37' order by id desc limit 1; 
```

我的mysql解释输出说这个

```
 id     select_type     table   type    possible_keys   key     key_len     ref     rows    Extra 
         1      SIMPLE  tableA  index   fid     PRIMARY     4   NULL    152     Using where 
```

但mysql慢显示它扫描数百万数据

# android - 在列表视图中加载图像时如何移动进度条的位置

> ID：15017963
> 
> 赞同：0
> 
> 时间：2013-02-22T06:10:41.793
> 
> 标签：android

我通过在后台运行任务在 Listview 中一一加载图像。我正在运行一个进度条，直到它完全加载。当图像开始加载时，进度的位置没有改变。我也想要进度条的位置加载图像时进行更改。怎么做？我究竟做错了什么？

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/relaGrid"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <include
        android:id="@+id/Master"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        layout="@layout/activity_master_page" />

    <ListView
        android:id="@+id/ItemView"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_below="@+id/Master" >
    </ListView>

<ProgressBar
        android:id="@+id/ItemsProgressBar"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/Master"
        android:layout_centerHorizontal="true" />
</RelativeLayout> 
```

添加了加载图像的代码

私有类 testAynscTask 扩展 AsyncTask {

```
 @Override
    protected void onPreExecute() {
        TheProgressBarG = (ProgressBar) findViewById(R.id.ItemsProgressBar);
        TheProgressBarG.setVisibility(View.VISIBLE);
    }

    protected Void doInBackground(Void... ParamsP) {

        try {
            POSManager aPOSManagerL = new POSManager();
            ListCriteria aListCriteriaL = new ListCriteria();
            ObjectInformation zItemInfoL = new ObjectInformation();
            CategoryItemListG = new ObjectList();
            //Get CategoryId
            String zCategoryIdL = GetCategoryId();

            aListCriteriaL.SearchConditionsM.AddSearchConditionWithValue("Item_Category.Id", zCategoryIdL);
            Gson gsonBuilderL = new GsonBuilder().serializeNulls().create();
            String zListCriteriaL = gsonBuilderL.toJson(aListCriteriaL);

            //Get Category Items List
            aPOSManagerL.GetCategoryItems(HttpUtil.SessionKeyM,zListCriteriaL);

            DisplayMetrics zDisplayMetricsL = new DisplayMetrics();
            getWindowManager().getDefaultDisplay().getMetrics(zDisplayMetricsL);
            int nPreviewSizeL = zDisplayMetricsL.widthPixels / 3;

            ObjectList zItemListL = HttpUtil.CategoryItemListM;

            for (int countL = 0; countL < zItemListL.GetLength(); countL++) {

                zItemInfoL = (ObjectInformation) zItemListL.GetObject(countL);
                String zItemIdL = (String) zItemInfoL.GetValue("ID");
                //Get Item Image
                aPOSManagerL.GetCategoryItemImage(HttpUtil.SessionKeyM,zItemIdL, nPreviewSizeL);
                zItemInfoL.SetValue("aPictureByteArrayP",HttpUtil.CategoryItemImageBytesM);
                CategoryItemListG.Add(zItemInfoL);
                publishProgress(countL);
            }

        } catch (Exception e) {
            e.printStackTrace();
        }
        return null;
    }

    protected void onProgressUpdate(Integer... PositionP) {

        ListView TheItemListViewL=(ListView) findViewById(R.id.ItemView);
        TheItemListViewL.setAdapter(anImageAdapterG);
        super.onProgressUpdate(PositionP);
    }

    @Override
    protected void onPostExecute(Void ResultP) {
        super.onPostExecute(ResultP);
        TheProgressBarG.setVisibility(View.INVISIBLE);
        anImageAdapterG.notifyDataSetChanged();

    }
} 
```

公共类 ImageAdapter 扩展 BaseAdapter { 私有上下文 mContextL;

```
 public ImageAdapter(Context contextP) {
        mContextL = contextP;
    }

    public int getCount() {
        return CategoryItemListG.GetLength();
        // return mImageIds.length;
    }

    public Object getItem(int PositionP) {
        return PositionP;
    }

    public long getItemId(int PositionP) {
        return PositionP;
    }

    public View getView(int PositionP, View ConvertViewP, ViewGroup ParentP) {

        ObjectInformation zItemInfoL = (ObjectInformation)CategoryItemListG.GetObject(PositionP);
        String zItemNameL = (String)zItemInfoL.GetValue("ITEMNAME");
        String zItemPriceL = (String)zItemInfoL.GetValue("SalesPrice");
        String zItemImageBytesL = (String)zItemInfoL.GetValue("aPictureByteArrayP");

        Bitmap ItemImageBitMapL =GetItemImageBitMap(zItemImageBytesL);

         RelativeLayout TheRelativelayoutL = new RelativeLayout(getApplicationContext());

         ImageView TheItemImageL = new ImageView(mContextL);
         TheItemImageL.setImageBitmap(ItemImageBitMapL);
         TheItemImageL.setScaleType(ImageView.ScaleType.FIT_XY);
         TheItemImageL.setLayoutParams(new ListView.LayoutParams(100,100));
         TheItemImageL.setPadding(1, 0, 0, 0);
         TheItemImageL.setId(1);

         TextView tvItemNameL = new TextView(mContextL);
         tvItemNameL.setText(zItemNameL);
         tvItemNameL.setGravity(Gravity.CENTER);
         tvItemNameL.setTextSize(10);
         tvItemNameL.setTextColor(Color.parseColor("#000000"));
         tvItemNameL.setPadding(15, 0, 0, 0);
         tvItemNameL.setId(2);

         TextView tvItemPriceL = new TextView(mContextL);
         tvItemPriceL.setText("Rs. "+zItemPriceL);
         tvItemPriceL.setGravity(Gravity.CENTER);
         tvItemPriceL.setTextSize(10);
         tvItemPriceL.setTextColor(Color.parseColor("#A30000"));
         tvItemPriceL.setId(3);
         tvItemPriceL.setPadding(15, 0, 0, 20);

         TheRelativelayoutL.addView(TheItemImageL);

         RelativeLayout.LayoutParams zRelativeLayoutParamsL = new RelativeLayout.LayoutParams((RelativeLayout.LayoutParams.WRAP_CONTENT),(RelativeLayout.LayoutParams.WRAP_CONTENT));
         zRelativeLayoutParamsL.addRule(RelativeLayout.RIGHT_OF,1);
         zRelativeLayoutParamsL.addRule(RelativeLayout.CENTER_IN_PARENT);

         TheRelativelayoutL.addView(tvItemNameL, zRelativeLayoutParamsL);

         zRelativeLayoutParamsL = new RelativeLayout.LayoutParams((RelativeLayout.LayoutParams.WRAP_CONTENT),(RelativeLayout.LayoutParams.WRAP_CONTENT));
         zRelativeLayoutParamsL.addRule(RelativeLayout.RIGHT_OF,1);
         zRelativeLayoutParamsL.addRule(RelativeLayout.BELOW,2);
         zRelativeLayoutParamsL.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM);

         TheRelativelayoutL.addView(tvItemPriceL, zRelativeLayoutParamsL);

         return TheRelativelayoutL;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T04:56:49.550

```
I made the below changes to the UI and it works fine for me

<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/relaGrid"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <include
        android:id="@+id/Master"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        layout="@layout/activity_master_page" />

    <ListView
        android:id="@+id/ItemView"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_below="@+id/Master" >
    </ListView>

    <ProgressBar
        android:id="@+id/ItemsProgressBar"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/ItemView"
        android:layout_centerHorizontal="true" />

</RelativeLayout> 
```

# jboss5.x - 无法在 jboss5.1.1 上对 slf4j 使用 logback 绑定

> ID：15017964
> 
> 赞同：0
> 
> 时间：2013-02-22T06:10:49.997
> 
> 标签：jboss5.x, slf4j, logback

我的应用程序有 slf4j 日志记录，它应该使用 logback 绑定，当我尝试在 jboss 上运行时，它使用 jboss 中 slf4j 的默认绑定。当它发现 logback 和 jboss 都绑定时，它会抛出多个绑定错误。另外我正在使用带有 logback 1.0.9 的 slf4j1.7.2 但我收到错误消息说 SLF4J: The request version 1.6 by your slf4j binding is not compatible with [1.5.5, 1.5.6, 1.5.7, 1.5.8] 请帮助我在这个

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T10:16:26.680

分步指南位于：http: [//jaitechwriteups.blogspot.com/2010/04/eclipse-logback-plugin-with-jboss-as.html](http://jaitechwriteups.blogspot.com/2010/04/eclipse-logback-plugin-with-jboss-as.html)

关键是在你的 jboss-web.xml 中定义一个类加载器隔离（假设它是用于 web 应用程序） 其他可能有用的链接（我必须将链接作为文本放置，因为我不允许放置更多帖子中的链接超过 2 个）

*   [http://blog.frankel.ch/configuring-maven-to-use-slf4j](http://blog.frankel.ch/configuring-maven-to-use-slf4j)
*   [http://www.javacodegeeks.com/2012/07/junit-logback-maven-with-spring-3.html](http://www.javacodegeeks.com/2012/07/junit-logback-maven-with-spring-3.html)

如果您使用 Maven，请记住：

*   您必须确保您的库不会通过其依赖项拉取旧版本的 slf4j，如果需要直接声明它

*   如果您的某些库依赖于 log4j 或 commons-logging，则您的 WEB-INF/lib 中没有 log4j 声明相关的桥梁（请参阅上面的链接或[http://www.slf4j.org/faq.html# excludeJCL](http://www.slf4j.org/faq.html#excludingJCL)）

# xcode - 如何使操作表转到另一个视图？Xcode，小问题，，，

> ID：15017967
> 
> 赞同：1
> 
> 时间：2013-02-22T06:11:18.440
> 
> 标签：xcode, uistoryboard, next

我正在尝试`actionsheet`为另一个按钮创建一个，但出现两个错误：`"No visible @interface for 'UIstoryboard' declares the selector 'InitiateViewControll:'`并且，`"No visible @interface for SWViewController' declares the selector 'presentViewController:animated:'`我正在提供此代码，所以我需要在其中命名任何名称以使此代码适合我的代码吗？我正在努力学习我是一个菜鸟对不起:(这是我到目前为止的代码：

```
- (IBAction)OpenActionSheetButton:(id)sender {
    UIActionSheet *actionsheet = [[UIActionSheet alloc]initWithTitle:@"There is no going back, are you sure???" delegate:self cancelButtonTitle:@"Cancel" destructiveButtonTitle:@"Continue" otherButtonTitles:nil, nil];
    [actionsheet showInView:self.view];
}

-(void)actionSheet:(UIActionSheet *)actionSheet clickedButtonAtIndex:(NSInteger)buttonIndex
{

    if (buttonIndex == 0) {

        UIViewController *controller = [self.storyboard instantiateViewControll:@"storyboardViewName"];
        //Push
        [self.navigationController pushViewController:controller animated:YES];
        //Modal
        [self presentViewController:controller animated:YES];

    }

} 
```

请大家帮忙？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:23:34.993

试试这个代码..并且 SWViewController 必须有一个**导航控制器**

```
-(void)actionSheet:(UIActionSheet *)actionSheet clickedButtonAtIndex:(NSInteger)buttonIndex
    {
        if(buttonIndex == 0)
        {
            UIViewController *controller =  [self.storyboard instantiateViewControllerWithIdentifier:@"storyboardViewIdentifier"];
         //storyboardViewIdentifier is the ViewController identifier you specify in the storyboard

            //PUSH
            [self.navigationController pushViewController:controller animated:YES];
            //Modal
            [self presentViewController:controller animated:YES completion:Nil];
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-08-26T07:44:01.227

试试这个。这个对我有用：

```
 if(buttonIndex == 0) 
 {
 NSString * storyboardName = @"Main";
 UIStoryboard *storyboard = [UIStoryboard storyboardWithName:storyboardName bundle: nil];
 Paypal_ViewController * vc = [storyboard instantiateViewControllerWithIdentifier:@"Paypal_ViewController"];
 [self presentViewController:vc animated:YES completion:nil];
 } 
```

# mysql - 如何抓取包含双 ID 引用的行

> ID：15017968
> 
> 赞同：0
> 
> 时间：2013-02-22T06:11:19.310
> 
> 标签：mysql, sql, greatest-n-per-group

我有一个消息表：

```
messages:
    id(int)
    send_id(int)
    receive_id(int) 
```

我希望只有当 a->b 和 b->a 存在时才能从中选择行，例如：

```
 id     send_id recieve_id
    0,     15,     16
    1,     16,     15 
```

因此，基本上一条消息已传递给每个人。我如何能够只选择这两行中的一个（发送或接收），以及所有用于特定 ID 的行。

我只想返回具有这种二元性的结果。

我的代码目前使用嵌套`SELECT`，并且根本无法根据需要工作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T06:19:18.937

您可以通过利用 MySQL`LEAST`和`GREATEST`内置函数来实现结果。

```
SELECT  *
FROM    messages
WHERE   (LEAST(send_id, recieve_id), GREATEST(send_id, recieve_id), id)       
IN 
(
    SELECT  LEAST(send_id, recieve_id) as x, 
            GREATEST(send_id, recieve_id) as y, 
            MAX(id) msg_ID
    FROM    messages 
    GROUP   BY x, y
); 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/54291/2)

*   [MySQL 比较运算符 ( *LEAST/GREATEST* )](http://dev.mysql.com/doc/refman/5.0/en/comparison-operators.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T06:18:33.587

您必须为此定义一个额外的合成列。不同的选择：永久作为索引（快速），如果仅用于每月一次的选择或在实际查询中即时选择，则为临时的。

不管有什么选择，该列都应该包含两个 id，以数字方式排序并连接起来，可能通过一些分隔字符，如`-`. 现在，当您对该列进行唯一性限制时，只有两个候选者中的一个可以输入结果，第二个被拒绝，因为它会违反该唯一性规则。

诀窍是有序连接而不是*正常*的组合索引，由于 id 的不同顺序，这将允许两种变体。

# c - C、如何使用这个树结构

> ID：15017970
> 
> 赞同：0
> 
> 时间：2013-02-22T06:11:33.303
> 
> 标签：c, pointers, struct

我有一项任务，其中涉及阅读汇编代码，弄清楚它的作用，然后将其编写为 C 代码。我很难理解如何使用给定的 C 代码，它是这样的：

```
typedef struct ELE *tree_ptr;

struct ELE {
    long val;
    tree_ptr left;
    tree_ptr right;
}; 
```

使用这个原型（如果重要的话）：

```
long traverse(tree_ptr tp); 
```

有人可以告诉我如何正确创建一个，设置它的 val 字段并打印它吗？这会导致分段错误：

```
int main () {
    tree_ptr tp;
    tp->val = 5;
    //printf("%lu\n", tp->val);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T06:15:29.467

`tree_ptr`真的只是一个`ELE *`。重要的部分是`*`。这是一个*指针*。它需要记忆。指针需要与有效的内存地址相关联才能使用它们。一些可能的选择是：

选项1：

```
tree_ptr tp;
tp = malloc(sizeof(*tp)); // allocate memory for it, don't forget to free() it! 
```

选项 2：

```
struct ELE tp; // Don't even use a pointer at all... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T06:13:13.973

`tree_ptr`是一个指向`struct ELE`

所以你的代码类似于

```
struct ELE * tp;
tp->val = 5; 
```

在上面的代码中，您创建了一个指向 的指针`struct ELE`，但它实际上并不指向任何有效的内存区域。

要修复您的代码，请尝试此操作

```
// allocation on heap
tree_ptr tp = malloc(sizeof(struct ELE));
tp->val = 5; 
```

或者你可以试试...

```
// allocation on stack
struct ELE tp;
tp.val = 5; 
```

# ios - 如果我传递了艺术家或歌曲名称，如何从 YouTube 检索视频 ID 或 URL？

> ID：15017971
> 
> 赞同：0
> 
> 时间：2013-02-22T06:11:34.567
> 
> 标签：ios, youtube

如果我从 iOS 应用程序传递艺术家或歌曲名称，如何从 YouTube 检索视频 ID 或 URL？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:15:21.680

查看 YouTube 的 GData API。特别是他们的搜索提要：[https ://developers.google.com/youtube/2.0/developers_guide_protocol_api_query_parameters#Searching_for_Videos](https://developers.google.com/youtube/2.0/developers_guide_protocol_api_query_parameters#Searching_for_Videos)

# c# - 列出删除项目

> ID：15017979
> 
> 赞同：-1
> 
> 时间：2013-02-22T06:12:12.947
> 
> 标签：c#

我有以下代码用于在我的列表中添加值。

```
public class Temp  {
     public object Id { get; set; }
     public object Amount { get; set; }
     public object TrasactionDateTime { get; set; } 
    }  

private List<Temp> list = new List<Temp>(); 
```

添加

```
list.Add(new Temp{ Id = GetData["Id"], Amount = GetData["Amount"],      TrasactionDateTime = GetData["TransactionDateTime"] }); 
```

如何删除列表中的项目？

例子

```
list.Remove(Id = "1"); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T06:14:05.047

您需要从列表中找到该项目，`Id = "1"`然后将其删除。

```
var item = list.FirstOrDefault(r=> r.Id.ToString() == "1");
if(item != null)
    list.Remove(item); 
```

您还可以使用基于索引删除项目[`List<T>.RemoveAt()`](http://msdn.microsoft.com/en-us/library/5cw9x18z.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T06:16:47.340

尝试使用[.Find](http://msdn.microsoft.com/en-us/library/x0b5b5bc.aspx)

> 与指定谓词定义的条件匹配的第一个元素（如果找到）；否则，类型 T 的默认值。

```
List<Temp> list = new List<Temp>();
var f = list.Find(c => c.Id == 1);
if (f == null) return;
var x = list.Remove(f); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T06:18:38.033

```
list.RemoveAll(s => s.Id == "1"); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-22T06:21:08.647

```
list.RemoveAll (s => s.Id == "1"); // remove by condition 
```

**请注意，**这将删除所有具有给定 ID 的临时工。

如果需要移除 id 找到的第一个 temp，首先使用 First 方法找到他，然后对实例调用 Remove：

```
var firstMatch = list.First (s => s.Id == "1");
list.Remove (firstMatch); 
```

如果您想确保在删除他之前只有一个具有给定 id 的临时人员，请以类似的方式使用 Single：

```
var onlyMatch = list.Single (s => s.Id == "1");
list.Remove (onlyMatch); 
```

请注意，如果没有一项与谓词完全匹配，则单次调用会失败。

# ios - 使用 IOS 编程将 USB 电缆连接和断开与 iPhone 的连接

> ID：15017983
> 
> 赞同：2
> 
> 时间：2013-02-22T06:12:24.233
> 
> 标签：ios, xcode, jailbreak, iphone-privateapi, eaaccessory

我正在计算机上开发像**“弹出设备”**这样的 iPhone 应用程序。这意味着，当我连接 USB 电缆以连接到计算机时，此应用程序只需单击一下即可断开该连接。我在谷歌上搜索了这个，我对`EAAccessoryManager`. 这`EAAccessoryManager`仅用于通知。当 USB 电缆连接或断开时，它可以通知用户。但我需要以编程方式断开连接。是否有任何可用的 API 或教程？请帮助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T22:19:31.147

你可能应该看看 IOKit。我相信 IOKit 适用于 iOS 和 OS X 上的 USB 设备。

您可能有兴趣查看以下链接： [https ://developer.apple.com/library/mac/#documentation/DeviceDrivers/Conceptual/USBBook/USBIntro/USBIntro.html](https://developer.apple.com/library/mac/#documentation/DeviceDrivers/Conceptual/USBBook/USBIntro/USBIntro.html)

[http://iphonedevwiki.net/index.php/IOKit.framework](http://iphonedevwiki.net/index.php/IOKit.framework)

此外，还有一本关于 iOS/OS X 内核的非常好的书，我相信有一整章是关于 IOKit 的：

[http://www.amazon.com/Mac-OS-iOS-Internals-Apples/dp/1118057651](https://rads.stackoverflow.com/amzn/click/com/1118057651)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T21:56:18.053

[您可以在https://github.com/kennytm/iphone-private-frameworks](https://github.com/kennytm/iphone-private-frameworks)中找到 iOS 框架的私有 API ，但我认为不存在此功能。我认为这是因为没有理由要从 iPhone 上执行此操作，因此 Apple 没有理由将其包含在 API 中。

# iphone - ios将ipad应用程序转换为通用显示此错误笔尖但未设置视图出口

> ID：15017985
> 
> 赞同：0
> 
> 时间：2013-02-22T06:12:26.310
> 
> 标签：iphone, ios, ipad, uiviewcontroller

我有 iPad 应用程序，它运行良好。我正在尝试将应用程序转换为通用应用程序。

1.- 在应用程序的摘要中，我将其从 iPad 更改为 Universal 2.-我为 iPhone iPhoneView.xib 添加了一个笔尖 3.-在我的应用程序 delagate 中，我添加了以下代码：

```
if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad) {
self.viewController = [[ViewController alloc] initWithNibName:@"ViewController" bundle:nil];
}
else
{

    self.viewController=[[ViewController alloc]initWithNibName:@"iPhoneView" bundle:nil];
} 
```

4.-在 iPhone 笔尖中，我将 viewcontroller 添加为自定义类

我使用模拟器运行该应用程序，但出现此错误：

```
[UIViewController _loadViewFromNibNamed:bundle:] loaded the "iPhoneView" nib but the view outlet was not set.' 
```

我正在寻找一种修复方法，似乎我需要到笔尖的参考插座，但是当我尝试将连接从最后一个选项卡中 xcode 右侧的“新参考插座”拖到笔尖时，我无法制作连接，或者如果我尝试将连接从视图图标拖到文件所有者，我也无法建立连接。你们中的任何人都知道我在做什么错吗？

我真的很感谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T06:26:12.130

转到 iPhoneView.xib 首先将文件所有者设置为您的视图控制器 ![在此处输入图像描述](../Images/71ac9d68007cc298bdaba64687fdeecd.png)

之后单击文件所有者（黄色块），然后单击下图中最右边的箭头。设置所有连接。这将解决您的问题。（可能我认为您的视图未设置为查看出口）

# - Xamarin 工作室

> ID：15017988
> 
> 赞同：0
> 
> 时间：2013-02-22T06:12:31.843
> 
> 标签：

Xamarin Studio 是一个 .NET 开发环境，专注于创建 iOS、Android 和 Mac 应用程序。

# c# - 在 Silverlight 中验证 Oracle Sql 条件表达式

> ID：15017990
> 
> 赞同：-1
> 
> 时间：2013-02-22T06:12:42.877
> 
> 标签：c#, .net, silverlight

是否可以在 Silverlight 应用程序中验证 Oracle 的条件表达式 - SQL。在我的项目中，我允许用户输入自定义 SQL 条件表达式以获取数据，我希望为用户提供验证选项。

感谢和问候 Rithesh Krishnan

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:29:41.530

无法从 Silverlight 进行 SQL 验证，必须在服务器上完成。

[在这篇文章](https://stackoverflow.com/questions/3084387/how-can-i-programmatically-check-parse-the-validity-of-a-tsql-statement)中有很多关于 SQL 验证技术的有趣讨论。但是，其中大部分不适用于 Oracle。

如果您需要同时支持两者，您可以使用`transactions and rollbacks`. 我`ADO.NET`在以下示例中使用类，但它们可以与`ODP.NET`

```
using (DbConnection connection =
    new SqlConnection(ConfigurationManager.ConnectionStrings["ConnectionString"].ConnectionString))
{
    using (DbCommand command = connection.CreateCommand())
    {
        DbTransaction transaction = null;
        try
        {
            connection.Open();
            transaction = connection.BeginTransaction();
            command.Transaction = transaction;

            command.CommandText = "The SQL to validate";
            command.ExecuteNonQuery();

            //The SQL is valid
        }
        catch
        {
            // The SQL is not valid
        }
        finally
        {
            transaction.Rollback();
        }
    }

} 
```

为了向用户提供反馈，您可以实现自己的通知，或者如果您希望它看起来像一个验证错误：在 Binding 目标上实现[INotifyDataErrorInfo](http://msdn.microsoft.com/en-us/library/system.componentmodel.inotifydataerrorinfo(v=vs.95).aspx)并在服务器的回调中设置错误。

# android - 如何打开 /data/data/com.android.email/EmailProviderBackup.db？

> ID：15017992
> 
> 赞同：1
> 
> 时间：2013-02-22T06:12:46.373
> 
> 标签：android

如何打开 /data/data/com.android.email/EmailProviderBackup.db ？在我的程序中。我设置

```
android:sharedUserId="android.uid.phone" 
```

并有平台标志。

```
public static final String EMAIL_BACKUPDB_PATH = "/data/data/com.android.email/databases/EmailProvider.db";
SQLiteDatabase.openDatabase(EMAIL_BACKUPDB_PATH, null,SQLiteDatabase.OPEN_READWRITE);
it can open well. 
```

但是如果我像这样更改 EMAIL_BACKUP_PATH：

```
public static final String EMAIL_BACKUPDB_PATH = "/data/data/com.android.email/databases/EmailProviderBackup.db";
SQLiteDatabase.openDatabase(EMAIL_BACKUPDB_PATH, null,SQLiteDatabase.OPEN_READWRITE); 
```

它不起作用。例外是：

```
02-21 12:25:33.852: E/SQLiteLog(10780): (14) os_unix.c:30174: (13) open(/data/data/com.android.email/databases/EmailProviderBackup.db) - 
02-21 12:25:33.859: E/SQLiteDatabase(10780): Failed to open database '/data/data/com.android.email/databases/EmailProviderBackup.db'.
02-21 12:25:33.859: E/SQLiteDatabase(10780): android.database.sqlite.SQLiteCantOpenDatabaseException: unknown error (code 14): Could not open database 
```

请帮我！谢谢！

# google-maps - 如何在移动谷歌地图上添加多个标记并在点击时显示内容？

> ID：15017993
> 
> 赞同：0
> 
> 时间：2013-02-22T06:12:52.930
> 
> 标签：google-maps, cordova

你好，我正在开发可以在谷歌地图上显示位置标记的 phonegap 应用程序。

当我单击标记时，它应该会弹出一个详细信息框，但它不起作用。

谁能帮我更正代码？

非常感谢

```
 var mobileDemo = { 'center': '57.7973333,12.0502107', 'zoom': 8 };

        ////////////////////////////////////////////////////////////

        $('#basic_map').live('pageinit', function() {
            demo.add('basic_map', function() {
                $('#map_canvas').gmap({'center': mobileDemo.center, 'zoom': mobileDemo.zoom, 'disableDefaultUI':true,
                 'callback': function() {
                    var self = this;
                    self.addMarker({'position': this.get('map').getCenter() }).click(function() {
                        self.openInfoWindow({ 'content': 'Hello World!' }, this);
                    });
                }});

                $('#map_canvas').gmap('addMarker', { position: new google.maps.LatLng(57.9973333,12.0502107)})
                           .click(function() {

                            var self = this;
                              self.openInfoWindow({ 'content': 'Hello Worl23!' }, this);
                     } )

                $('#map_canvas').gmap('addMarker', { position: new google.maps.LatLng(57.373333,12.0502107)})
                           .click(function() {

                            var self = this;
                              self.openInfoWindow({ 'content': 'Hello Worl234!' }, this);
                     } )

                }).load('basic_map');
        });

        $('#basic_map').live('pageshow', function() {
            demo.add('basic_map', function() { $('#map_canvas').gmap('refresh'); }).load('basic_map');
        });

    </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:19:31.970

有一种更简单的方法可以使用 Google Maps api，[https://github.com/HPNeo/gmaps](https://github.com/HPNeo/gmaps)。你需要的几乎像这样，[http://hpneo.github.com/gmaps/examples/markers.html](http://hpneo.github.com/gmaps/examples/markers.html)，你点击标记，详细信息显示

# javascript - 如何使用 html 打开托管在不同服务器上的 .exe 应用程序？

> ID：15017997
> 
> 赞同：0
> 
> 时间：2013-02-22T06:13:06.923
> 
> 标签：javascript, html, exe, hta

如何使用 html 打开托管在不同服务器上的 .exe 应用程序？

```
var w = new ActiveXObject("WScript.Shell");

w.Exec("C:\Program Files\Adobe\Photoshp.exe"); 
```

我尝试了上面的代码，但它与本地 .exe 一起工作，但没有与外部 .exe 一起工作

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:16:05.647

我认为您不能直接在客户端使用 JS 来做到这一点，因为这将是一个安全问题。最好的方法是首先通过 http 下载 exe 文件，然后运行它。一旦您尝试执行此操作，系统也会提示该用户。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T06:19:12.707

假设这是一个 Intranet 的东西，试试这个：

```
w.Exec("\\\\Your_server_name\\C:\\Program Files\\Adobe\\Photoshop.exe"); 
```

或者：

```
w.Run("\\\\Your_server_name\\C:\\Program Files\\Adobe\\Photoshop.exe"); 
```

`Your_server_name`也可以是 IP 地址。请注意双反斜杠，事实上，路径*必须*是绝对的，您不能使用本地工作站中映射的任何驱动器号。另请注意，通常服务器名称不是服务器的根目录（如 C:），而是指向服务器中的文件夹。

无论 HTA 是保存在服务器还是工作站中，这两个示例都对我很有效。只有我能想象为什么他们不能工作（除了错误的路径），是一种情况，当你对所引用的文件夹没有权限时。或者...您正在尝试从外部 WEB 服务器运行 exe，而这是不可能的。