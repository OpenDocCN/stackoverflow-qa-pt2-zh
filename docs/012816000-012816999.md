# StackOverflow 问答 12816000-12816999

# wcf - 路由后在目标 wcf 服务获取客户端 IP

> ID：12816000
> 
> 赞同：1
> 
> 时间：2012-10-10T09:21:52.580
> 
> 标签：wcf, service, routing, router

实施 WCF 路由后出现问题。情况是有 2 个服务器 A 和 B，在服务器 A 上安装了一个 WCF 服务（目标服务），它需要获取客户端的 IP 以检查会话。服务器 B 放置 WCF 路由器，所有客户端只会向服务器 B 请求（不直接向真实服务器 A）。

现在，问题是服务器 A 只获取服务器 B 的 IP，而不是每个客户端的真实 IP。我想知道这些是在像上面那样路由后获取真实客户端 IP 的任何解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T09:27:28.330

因此，您将用于获取服务器 A 中 IP 的代码放入服务器 B。服务器 A 现在只需要捕获从服务器 B 发回的 IP

# c++ - 获取有关硬盘扇区原始数据更改的通知 - 文件更改通知

> ID：12816003
> 
> 赞同：1
> 
> 时间：2012-10-10T09:21:55.247
> 
> 标签：c++, filesystemwatcher, inotify

我正在尝试制作一个软件来备份我的整个硬盘驱动器。

我设法编写了一个代码来从硬盘扇区读取原始数据。但是，我想要增量备份。为此，我需要知道对操作系统设置、文件更改等所做的更改。

我的问题是——

使用[FileSystemWatcher](http://msdn.microsoft.com/en-us/library/chzww271%28v=vs.80%29.aspx)和[Inotify](http://en.wikipedia.org/wiki/Inotify)，我是否能够知道对硬盘驱动器中每个扇区所做的每一次更改？（操作系统设置等）

我正在用 C++ 为 linux 和 windows 编写代码。

[（在Stackoverflow](https://stackoverflow.com/questions/61253/how-to-be-notified-of-file-directory-change-in-c-c-ideally-using-posix)上看到了这个问题，这给了我一些想法）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T09:35:20.513

Inotify 是在您的程序运行时检测更改，我猜FilySystemWatches 是类似的。

解决此问题的一种方法是对每个扇区或多个扇区进行校验和，并在进行备份时将校验和与您拥有的列表进行比较，并且仅备份已更改的块。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T18:18:54.453

MS Windows [FileSystemWatcher](http://msdn.microsoft.com/en-us/library/system.io.filesystemwatcher%28v=vs.80%29.aspx)机制比[Linux 的 Inotify](http://lwn.net/Articles/104343/)更受限制，但两者都可能满足您的需求。Linux 机制为文件读取提供（可选）通知，这会导致“访问时间戳”被更新。

但是，从应用程序的角度来看，弱点是从系统启动到程序加载（以及卸载到关闭）所做的所有文件修改都不会被监视。您的应用程序可能需要查看许多文件的文件修改时间戳以识别更改的文件，具体取决于您所针对的监控级别。

两种架构都为上次访问文件时的每个文件跟踪维护时间戳。如果更新是备份通知的触发器，则缺少此类通知的 Windows 机制将导致平台上的行为不匹配。由于缓冲区大小的限制，Windows 的机制也可以丢弃通知。这是[文档](http://msdn.microsoft.com/en-us/library/system.io.filesystemwatcher%28v=vs.80%29.aspx)中的一个真正的宝石：

> 请注意，由于与 Windows 操作系统的相关性，当错过事件或超出缓冲区大小时， **FileSystemWatcher**不会引发[错误事件。](http://msdn.microsoft.com/en-us/library/system.io.filesystemwatcher.error%28v=vs.80%29.aspx)为避免错过活动，请遵循以下准则：
> 
> *   **使用InternalBufferSize**属性增加缓冲区大小可以防止丢失文件系统更改事件。
>     
>     
> *   避免观看具有长文件名的文件。考虑使用较短的名称重命名。
>     
>     
> *   使您的事件处理代码尽可能短。

至少你可以控制其中三分之二....

# python - 带有 numpy.convolve 的加权移动平均线

> ID：12816011
> 
> 赞同：13
> 
> 时间：2012-10-10T09:22:14.227
> 
> 标签：python, math, numpy

我正在编写一个使用 numpy 中的 convolve 函数的移动平均函数，它应该相当于一个（[加权移动平均](http://en.wikipedia.org/wiki/Convolution)）。当我的权重都相等时（如简单的算术平均值），它工作正常：

```
data = numpy.arange(1,11)
numdays = 5
w = [1.0/numdays]*numdays
numpy.convolve(data,w,'valid') 
```

给

```
array([ 3.,  4.,  5.,  6.,  7.,  8.]) 
```

但是，当我尝试使用加权平均值时

```
w = numpy.cumsum(numpy.ones(numdays,dtype=float),axis=0); w = w/numpy.sum(w) 
```

而不是（对于相同的数据） 3.667,4.667,5.667,6.667,... 我希望，我得到

```
array([ 2.33333333,  3.33333333,  4.33333333,  5.33333333,  6.33333333,
        7.33333333]) 
```

如果我删除“有效”标志，我什至看不到正确的值。我真的很想对 WMA 和 MA 使用 convolve，因为它使代码更清晰（相同的代码，不同的权重），否则我认为我将不得不遍历所有数据并进行切片。

关于这种行为的任何想法？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-10-10T11:18:43.900

What you want is `np.correlate` in a convolution the second argument is inverted basically, so that your expected result would be with `np.convolve(data, w[::-1], 'valid')`.

# c++ - 尝试使用 boost::interprocess::managed_shared_memory::construct 编译应用程序时出错

> ID：12816013
> 
> 赞同：2
> 
> 时间：2012-10-10T09:22:27.350
> 
> 标签：c++, boost, g++, shared-memory, boost-interprocess

尝试使用类`construct<T>()`的方法时收到一个奇怪的编译错误`boost::interprocess::managed_shared_memory`。我在 1.48 版本中使用 Boost 库，在 4.6.3 版本中使用 GCC。

问题是当我创建一个`managed_shared_memory object`（它不是结构的成员）然后我尝试使用它的`construct<T>()`方法构造任何对象时，编译成功：

```
#include <boost/interprocess/managed_shared_memory.hpp>
namespace proc = boost::interprocess;

template <typename _T>
void TFunc() {
    proc::managed_shared_memory mem;
    mem = proc::managed_shared_memory(proc::create_only, "mem1", 1024);
    int* ob1 = mem.construct<int>("i1") ();
} 
```

虽然，当`managed_shared_memory`对象在结构中定义然后创建时，`construct<T>()`方法用法的编译失败：

```
#include <boost/interprocess/managed_shared_memory.hpp>
namespace proc = boost::interprocess;

template <typename _T>
void TFunc() { 
    struct MemoryHandler {
        proc::managed_shared_memory mem;
    } handler;

    handler.mem = proc::managed_shared_memory(proc::create_only, "mem2", 1024);
    int* ob2 = handler.mem.construct<int>("i2") ();  // failure
} 
```

出现以下 GCC 错误，指向`construct`使用方法的行：

```
error: expected primary-expression before 'int'
error: expected ',' or ';' before 'int' 
```

不幸的是，我没有针对其他版本的 Boost 和 GCC 测试它，所以我不知道它是 Boost/GCC 的错误还是功能。

有没有人遇到过类似的错误或知道可能是什么原因？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-12T11:40:24.077

您没有展示一个完整的示例来演示错误，所以我只能猜测，但我怀疑失败的行在模板内并且`handler`是依赖类型。

要修复它，您需要告诉编译器这`construct`是一个函数模板：

```
int* ob2 = handler.mem.template construct<int>("i2") ();
                       ^^^^^^^^ 
```

有关更多信息，请参阅[C++ 模板常见问题解答](http://womble.decadent.org.uk/c++/template-faq.html#disambiguation)。

下次请发布一个完整的示例，以便其他人可以重现确切的问题，而不是让人们猜测。例如，这是一个显示相同错误的最小完整示例：

```
#include <boost/interprocess/managed_shared_memory.hpp>

namespace proc = boost::interprocess;

struct MemoryHandler{
        proc::managed_shared_memory mem;
} handler;

template<typename T> void f(T handler)
{
  handler.mem = proc::managed_shared_memory(proc::create_only, "mem2", 10);
  int* ob2 = handler.mem.construct<int>("i2") ();  // failure
} 
```

# ruby-on-rails - rails: Create 不适用于 :through 在第三个模型中

> ID：12816015
> 
> 赞同：0
> 
> 时间：2012-10-10T09:22:32.187
> 
> 标签：ruby-on-rails, insert, dependencies, has-many-through

所以我有一个嵌套资源

```
resources :albums do 
  resources :elements
end 
```

我可以更新、删除和查看这些元素。我不能真正做的是创建一个新元素。所以它实际上是在数据库中创建的，而不是在映射表中。楷模：

班级专辑：

```
has_many :elements, :through => :albums_elements      
has_many :albums_elements 
```

类元素：

```
has_many :albums_elements
has_one  :album, :through => :albums_elements 
```

类专辑元素：

```
belongs_to :album
belongs_to :element 
```

在元素控制器中，我有：

```
def create
@element = Element.new(params[:element])
@album   = Album.find(params[:album_id])
respond_to do |format|
  if @element.save
    format.html { redirect_to album_elements_path(@album), :notice => 'Element was successfully created.' }
    format.json { render :json => @element, :status => :created, :location => @element }
  else
    format.html { render :action => "new" }
    format.json { render :json => @element.errors, :status => :unprocessable_entity }
  end
end
end 
```

正如我所说，当我按下表单中的创建按钮时，该元素正在表“元素”中正确创建，但未插入到“albums_elements”中。我在这里看到了一个类似的帖子，作者被告知要修复他的依赖项。但是我没有看到地雷有错误？我如何告诉 rails 插入两个表？元素和专辑元素？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T10:03:03.370

请你把你的`@element`和`@album`在`elements_controller`课堂上联系起来检查一下吗？就像你已经拥有

```
@element = Element.new(params[:element])
@album   = Album.find(params[:album_id]) 
```

只需添加

```
@element.album = @album 
```

现在`@element.save`也应该在您的关系表中插入一个条目。

让我知道它是否有效。我只是看了一眼问题后才回答的。

**说明：**

我将尝试为您制作一个示例应用程序。但在此之前，我需要了解更多。

*   `Album`似乎和之间的关系`Element`是`one-to-many`，那你为什么用`has_many :through`？它可以是简单`Album: has_many :products`的和`Product: belongs_to :album`。

*   如果必须使用关系表，它是否还有其他属性？

*   如果我提供任何解决方案可以`one-to-many`吗？

我会尽力为您提供最好的 rails 方法来尽快保存这些条目。谢谢

# jquery - jQuery Web 服务调用不成功

> ID：12816019
> 
> 赞同：1
> 
> 时间：2012-10-10T09:22:39.290
> 
> 标签：jquery, web-services

```
<script type="text/javascript">

    function hello() {

        $.ajax({
            url: "WebService.asmx/HelloWorld2",
            data: "{ 'pstrName': 'steven' }",
            dataType: "json",
            type: "POST",
            contentType: "application/json; charset=utf-8",
            dataFilter: function (data) { return data; },
            success: function (data) {
                alert('S');
            },
            error: function (XMLHttpRequest, textStatus, errorThrown) {
                alert(textStatus);
            }
        });

    }

</script> 
```

上面的 jQuery 调用有问题吗？为什么它总是遇到错误函数？

我正在使用 jQuery JavaScript Library v1.6.4，请帮忙。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T09:31:11.047

这个（不需要外引号）

```
data: { 'pstrName': 'steven' }, 
```

# mysql - Codeigniter order_by 与 CONVERT

> ID：12816020
> 
> 赞同：0
> 
> 时间：2012-10-10T09:22:41.100
> 
> 标签：mysql, codeigniter, sql-order-by

我必须`CONVERT(`codExtern`, SIGNED)`使用 codeIgniter 订购选择。如果我这样使用它：

```
$this->db->order_by(" CONVERT(`codExtern`, SIGNED) "); 
```

codeigniter 将`SIGNED`单词放在```-s 之间，例如：

```
CONVERT(codExtern, `INTEGER` ) 
```

我怎样才能让它工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T09:54:26.530

不幸的是，您不能使用[方法](https://github.com/EllisLab/CodeIgniter/blob/2.1-stable/system/database/DB_active_rec.php#L75)[中的`select()`](https://github.com/EllisLab/CodeIgniter/blob/2.1-stable/system/database/DB_active_rec.php#L75)参数禁用标识符保护。CI 将在输入中调用[CI_DB_driver::_protect_identifiers](https://github.com/EllisLab/CodeIgniter/blob/2.1-stable/system/database/DB_driver.php#L1246)[如果它有一个`,`in](https://github.com/EllisLab/CodeIgniter/blob/2.1-stable/system/database/DB_active_rec.php#L833)。

目前，如果您在调用该方法之前将所谓的“私有”属性设置[`$_protect_identifiers`](https://github.com/EllisLab/CodeIgniter/blob/2.1-stable/system/database/DB_driver.php#L65)为您可以解决此问题，因此当它运行时它将跳过此操作，然后将其翻转回来（例如，它有助于解决有问题的列/表名称）。这可能不是一个真正的好主意，在未来的 CI 版本中，这个属性可能会变成真的，你的代码会中断。`false``$this->db``order_by``private`

不幸的是，无法扩展数据库库，但是如果您不怕修改下的文件，`system`则可以在方法中创建异常，`order_by()`就像“order by random()”一样[。](https://github.com/EllisLab/CodeIgniter/blob/2.1-stable/system/database/DB_active_rec.php#L822)

# android - Titanium Appcelerator Android 模块开发 Android NDK 路径

> ID：12816022
> 
> 赞同：0
> 
> 时间：2012-10-10T09:22:47.107
> 
> 标签：android, module, titanium, appcelerator, appcelerator-mobile

我正在尝试将钛模块项目集成到我的本机应用程序中。为此，我正在尝试在钛工作室开发一个模块项目。但是在构建模块期间，即使在 build.properties 文件中手动写入 Android NDK 的路径后，我也会收到以下错误：

“执行此行时发生以下错误：exec 返回：2”

我尝试了所有可能的解决方案，任何人都可以分享任何解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-12T12:04:04.660

你下载并安装了NDK吗？并设置路径？

# c# - 从 PropertyInfo 获取 byte[] 返回 NULL

> ID：12816023
> 
> 赞同：1
> 
> 时间：2012-10-10T09:22:51.047
> 
> 标签：c#, reflection, bytearray, propertyinfo

我正在尝试使用反射获得 Byte[] 。不幸的是结果它总是NULL。该属性填充了数据。这是我的代码片段。

```
public static void SaveFile(BusinessObject document)
{
    Type boType = document.GetType();
    PropertyInfo[] propertyInfo = boType.GetProperties();
    Object obj = Activator.CreateInstance(boType);
    foreach (PropertyInfo item in propertyInfo)
    {
        Type xy = item.PropertyType;
        if (String.Equals(item.Name, "Content") && (item.PropertyType == typeof(Byte[])))
        {
            Byte[] content = item.GetValue(obj, null) as Byte[];
        }
    }
    return true;
} 
```

这是工作代码：

```
 public static void SaveFile(BusinessObject document)
{
    Type boType = document.GetType();
    PropertyInfo[] propertyInfo = boType.GetProperties();
    foreach (PropertyInfo item in propertyInfo)
    {
        if (String.Equals(item.Name, "Content") && (item.PropertyType == typeof(Byte[])))
        {
            Byte[] content = item.GetValue(document, null) as Byte[];
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-10T09:25:13.060

你的代码看起来很奇怪。您正在创建参数类型的*新*实例并尝试从该实例获取值。您应该改用参数本身：

```
public static void SaveFile(BusinessObject document)
{
    Type boType = document.GetType();
    PropertyInfo[] propertyInfo = boType.GetProperties();
    foreach (PropertyInfo item in propertyInfo)
    {
        Type xy = item.PropertyType;
        if (String.Equals(item.Name, "Content") &&
            (item.PropertyType == typeof(Byte[])))
        {
            Byte[] content = item.GetValue(document, null) as Byte[];
        }
    }
} 
```

* * *

顺便提一句：

1.  `return true`在返回的方法中`void`是非法的，会导致编译器错误。
2.  在您的情况下无需使用反射。你可以简单地这样写：

    ```
    public static void SaveFile(BusinessObject document)
    {
        Byte[] content = document.Content;
        // do something with content.
    } 
    ```

    仅当在派生类上而非仅在派生类上`Content`定义时才适用。`BusinessObject`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T09:27:37.627

从您的代码片段看来，您没有填充任何值。

```
Object obj = Activator.CreateInstance(boType); 
```

这只会调用默认构造函数并为所有类型分配默认值。对于 byte[] 它是*null*

它应该是

```
item.GetValue(document, null) 
```

# jakarta-ee - 开发 Web 应用程序时避免重复任务（登录、转到页面）

> ID：12816028
> 
> 赞同：0
> 
> 时间：2012-10-10T09:23:12.170
> 
> 标签：jakarta-ee, login, jboss, jboss7.x

我正在开发一个需要登录才能访问某个页面的应用程序。

有没有一种简单的方法可以绕过某些操作，这样我就不必在部署应用程序后登录并转到我正在开发/测试的实际页面？

我可以想到以下几点：

1.  在我的浏览器中使用一些记录/重播插件，每次部署后重播
2.  编辑应用程序，使其在开发时无需登录即可工作

第一个很好，因为我不必接触代码。然而它很糟糕，因为它很慢。第二个反之。

应用程序服务器（此处为 JBoss AS 7）是否有一些选项可以保存上次部署的状态并将我带回那里？这通常是怎么做的？

我知道的另一件事是“热部署”，它适用于`.xhtml`文件，但我从未能够使用 java 文件运行它。这是一个选项吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-10T11:06:10.980

关于热部署见[http://zeroturnaround.com/software/jrebel/](http://zeroturnaround.com/software/jrebel/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T10:00:09.120

理论上，无论是xhtml、jsp还是其他，热部署都应该可以。如果是 Java 文件，您需要将生成的 .class 文件复制到正确的位置。

请[在此处查看](https://stackoverflow.com/questions/12723069/enable-hot-deploy-for-web-pages-in-jboss-as-7-1-1-final/)如何在 jboss7 中执行此操作。

一旦你替换了 .class/html/jsp 等，如果你重新加载它应该可以工作。

# java - XSD XSOM：如何使用 XSOM Java 库解析 xs:anyAttribute？

> ID：12816033
> 
> 赞同：1
> 
> 时间：2012-10-10T09:23:32.377
> 
> 标签：java, xsd

我正在尝试解析这种复杂类型，但无法使用 XSOM JAVA 获取 <xsd:anyAttribute 元素。我已经尝试过 getAttributeUses() 和粒子，但无法得到它。

关于如何解析它的任何想法？

```
 <xsd:sequence>

      <xsd:any namespace="##other" processContents="lax" maxOccurs="unbounded"/>

      </xsd:sequence>

      <xsd:anyAttribute namespace="##other" processContents="lax"/> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T19:06:16.453

假设这个测试 XSD：

```
<?xml version="1.0" encoding="utf-8" ?>
<!--XML Schema generated by QTAssistant/XML Schema Refactoring (XSR) Module (http://www.paschidev.com)-->
<xsd:schema targetNamespace="http://tempuri.org/XMLSchema.xsd" elementFormDefault="qualified" xmlns="http://tempuri.org/XMLSchema.xsd" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
    <xsd:complexType name="test">
        <xsd:sequence>
            <xsd:any namespace="##other" processContents="lax" maxOccurs="unbounded"/>
        </xsd:sequence>
        <xsd:anyAttribute namespace="##other" processContents="lax"/>
    </xsd:complexType>
</xsd:schema> 
```

你需要这个代码：

```
 XSOMParser parser = new XSOMParser();
    //parser.setErrorHandler(...);
    //parser.setEntityResolver(...);

    parser.parse(new File(...));

    XSSchemaSet sset = parser.getResult();
    XSComplexType xt = sset.getComplexType("http://tempuri.org/XMLSchema.xsd", "test");
    XSWildcard anyAttr = xt.getAttributeWildcard(); 
```

关键是[getAttributeWildcard](http://xsom.java.net/nonav/javadoc/com/sun/xml/xsom/XSAttContainer.html#getAttributeWildcard%28%29) API。

# scripting - 使用模拟事件 becomeViewTarget 制作等距相机

> ID：12816037
> 
> 赞同：1
> 
> 时间：2012-10-10T09:23:50.583
> 
> 标签：scripting, compiler-errors, unreal-development-kit, unrealscript

我正在学习制作自上而下/等距相机的教程，但遇到了一些障碍。看，当我编译时出现以下内容。

```
BGCGamePawn.uc(15) : Error, Type mismatch in '=' 
```

现在，我已经做到了这一点，所以我明白问题出在下面的代码中。第 15 行是粗体。

```
//override to make player mesh visible by default
simulated event BecomeViewTarget( PlayerController PC )
{
   local UTPlayerController UTPC;

   Super.BecomeViewTarget(PC);

   if (LocalPlayer(PC.Player) != None)
   {
      **UTPC = BGCGamePlayerController (PC);**
      if (UTPC != None)
      {
      //set player ctrl to behind view and make mesh visible
         UTPC.SetBehindView(true);
         SetMeshVisibility(True); 
         UTPC.bNoCrosshair = true;
      }
   }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T03:22:29.363

是否`BGCGamePlayerController`从`UTPlayerController`? 如果不是，那将是问题所在：您尝试将`PlayerController`参数转换为 a `BGCGamePlayerController`，然后将其存储在局部`UTPlayerController`变量中。您需要更改本地变量的类型或更改`BGCGamePlayerController`.

# ruby-on-rails - 电子邮件中的 PDF 附件称为“Noname”

> ID：12816042
> 
> 赞同：3
> 
> 时间：2012-10-10T09:24:05.790
> 
> 标签：ruby-on-rails, ruby-on-rails-3, email

当我发送带有附加 pdf 文件的电子邮件时，电子邮件仅显示一个名为“Noname”的文件。该文件本身是电子邮件的多部分部分，带有 base64 附件 pdf。如何发送 PDF 以使其作为附件出现并且不会损坏电子邮件？

这是我的代码：

```
attachments['126539_statistics.pdf'] = File.read("app/assets/pdfs/126539_statistics.pdf")
mail(:to => email, :subject => subject, :body => message,  :content_type => 'application/pdf') 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-10T09:58:48.330

我遇到了同样的问题。我已经通过以下方式纠正了它

1）根据 ActionMailer 指南，您需要将视图文件放入 app/views/[action_mailer_model_name]/[method_name]

这是指南的参考：http: [//api.rubyonrails.org/classes/ActionMailer/Base.html](http://api.rubyonrails.org/classes/ActionMailer/Base.html)

2) Action Mailer 足够智能，可以在读取文件时自动识别内容类型。因此，无需在您的邮件功能中明确传递“应用程序/pdf”。

希望，这些信息有助于解决您的问题

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2018-06-29T07:16:03.323

也遇到了同样的问题，解决方法是：发送邮件前设置附件功能。

代码附在下面：

```
 attachments["invoice_#{invoice.bill_date.strftime('%B-%Y')}.pdf"] = WickedPdf.new.pdf_from_string(
        render_to_string  pdf: 'project_report.pdf',
                          template: 'users/_invoice.html.erb'
    )
    mail(to: email , from: from, subject: subject) do |format|
          format.html
      end 
```

# c++ - 建议一种合适的算法来合并两个包含类对象的数组（不重复）

> ID：12816043
> 
> 赞同：4
> 
> 时间：2012-10-10T09:24:10.993
> 
> 标签：c++, arrays, algorithm, data-structures

我有一个数组，其中每个位置都包含一个具有三个 int 值（x，y，z）的类对象。现在必须从不同的数组中将所有元素复制到源数组中。对于每个数组元素，我们需要检查 x,y,z 值以避免重复。是否有可能比 o(n^2) 做得更有效？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-10T09:29:22.423

前提是您不介意丢失两个数组的原始顺序：

```
std::sort(first_array, first_array + N);
std::sort(second_array, second_array + M);
std::set_union(
    first_array, first_array+N, 
    second_array, second_array+M, 
    target_array
); 
```

`N`和`M`是数组中元素的数量。您需要为您的类定义`operator<`或专门`std::less`化：或者编写一个比较器函数并将其提供给`sort`and `set_union`。

时间复杂度是`O(N log N + M log M)`-`sort`是较慢的部分，然后`set_union`是线性的。

如果`first_array`或者`second_array`可能已经包含自身内部的欺骗（不仅仅是它们之间），那么您需要一个额外的步骤来删除它们，这不仅会丢失顺序，还会丢失源数组中的欺骗：

```
std::sort(first_array, first_array + N);
MyClass *first_end = std::unique(first_array, first_array + N);
std::sort(second_array, second_array + M);
MyClass *second_end = std::unique(second_array, second_array + M);
std::set_union(
    first_array, first_end, 
    second_array, second_end, 
    target_array
); 
```

或者，您可以一次编写`set_union`合并和重复数据删除的修改版本。

[编辑：对不起，在写这篇文章时我错过了结果最终会回到`first_array`. 而不是单独的`target_array`. `set_union`不能将输出用作输入之一，因此这也需要目标数组的额外内存，然后可以将其复制回源数组，当然假设源足够大。]

如果您确实想保留原始数组的顺序，那么您可以创建一个容器并随时检查：

```
container<MyClass> items(first_array, first_array + N);
MyClass *dst = first_array + N;
for (MyClass *it = second_array; it != second_array + M; ++it) {
    if (items.count(*it) == 0) {
        items.insert(*it);
        *dst++ = *it;
    }
} 
```

如果数组本身可以包含重复项，则以`items`空 and开头`dst = first_array`，然后遍历两个输入数组。

`container`可能是`std::set`（在这种情况下时间是`O(N log N + M log(N + M))`，实际上`O(N log N + M log M)`又是，并且您仍然需要一个顺序比较器），或者`std::unordered_set`在 C++11 中（在这种情况下，预期时间是`O(N + M)`最坏的情况，您需要专门化`std::hash`或否则编写一个哈希函数并提供一个等于函数，而不是一个顺序比较器）。在 C++11 之前，标准中没有其他散列容器可用。

如果您不介意额外的内存*并且*不介意丢失原始订单：

```
container<MyClass> items(first_array, first_array + N);
items.insert(second_array, second_array + M);
std::copy(items.begin(), items.end(), first_array); 
```

如果您不想使用（太多）额外内存并在源数组中为 M 个附加元素留出空间，而不是仅仅为结果留出空间：

```
std::copy(second_array, second_array + M, first_array + N);
std::sort(first_array, first_array + N + M);
MyClass *dst = std::unique(first_array, first_array + N + M);
// result now has (dst - first_array) elements 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-10T09:29:58.237

使用 x、y、z 对对象进行比较，对两个数组（或副本，如有必要）进行排序，然后创建一个辅助目标列表，将第一个中的所有元素复制到其中，并且仅将第二个中的不匹配元素复制到该列表中。如有必要，复制回第一个数组。

复杂性：max(O(n log n),O(m log m))，因为排序占主导地位，并且填充目标列表在 O(max(n,m)) 上。

这并不是说该算法一定是有效的：对于较小的数组，复制和排序将占主导地位。

# iphone - Facebook 设置页面

> ID：12816047
> 
> 赞同：0
> 
> 时间：2012-10-10T09:24:23.807
> 
> 标签：iphone, objective-c, ios, xcode

我想在 iPhone 中创建一个设置页面。

如果您在 iPhone 中使用 Facebook。可以看到，当我们点击导航栏上的设置按钮时，主页面只是向右走，并没有消失，就出现了设置页面。

当我们再次点击设置按钮时，我们回到主页面。

您知道如何在 iPhone 中创建此功能吗？感谢您给我一些教程链接。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-10T09:38:37.177

您可以获取此[JTRevealSidebarDemo](https://github.com/mystcolor/JTRevealSidebarDemo)并根据您的要求进行个性化设置。

还有很多其他可用的演示，例如，

[DDMenuController](https://github.com/devindoty/DDMenuController)

[ZUUIRevealController](https://github.com/pkluz/ZUUIRevealController)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T02:31:33.527

我一直在成功使用[ViewDeck](https://github.com/Inferis/ViewDeck)。它很轻（2 类）并且易于实现。

# iphone - 每个月使用 NSFetchedResult 控制器和节标题

> ID：12816049
> 
> 赞同：-1
> 
> 时间：2012-10-10T09:24:27.380
> 
> 标签：iphone, objective-c, ios, core-data, nsfetchedresultscontroller

> **可能重复：**
> [使用 fetchedresultcontroller 为每个月设置不同的部分](https://stackoverflow.com/questions/12815093/setting-a-different-section-for-each-month-with-fetchedresultcontroller)

我正在尝试将我的**UITableview**拆分为每个月的部分。我开始使用 Apple 的[DateSectionTitles](http://developer.apple.com/library/ios/#samplecode/DateSectionTitles/Introduction/Intro.html)示例。首先，我在核心数据中添加了一个属性“sectionIdentifier” **。**然后在我的**managedobject**子类中我添加了这个方法。

```
- (NSString *)sectionIdentifier {

    // Create and cache the section identifier on demand.

    [self willAccessValueForKey:@"sectionIdentifier"];
    NSString *tmp = [self primitiveSectionIdentifier];
    [self didAccessValueForKey:@"sectionIdentifier"];

    if (!tmp) {
        /*
         Sections are organized by month and year. Create the section identifier as a string representing the number (year * 1000) + month; this way they will be correctly ordered chronologically regardless of the actual name of the month.
         */
        NSCalendar *calendar = [NSCalendar currentCalendar];

        NSDateComponents *components = [calendar components:(NSYearCalendarUnit | NSMonthCalendarUnit) fromDate:[self date]];
        tmp = [NSString stringWithFormat:@"%d", ([components year] * 1000) + [components month]];
          [self setPrimitiveSectionIdentifier:tmp];
    }
    NSLog(@"tmp: %@",tmp);
    return tmp;
} 
```

这就是我在 titleForHeaderSection 中所做的

```
- (NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section {
        id <NSFetchedResultsSectionInfo> theSection = [[self.fetchedResultsController sections] objectAtIndex:section];

    /*
     Section information derives from an event's sectionIdentifier, which is a string representing the number (year * 1000) + month.
     To display the section title, convert the year and month components to a string representation.
     */
    static NSArray *monthSymbols = nil;

    if (!monthSymbols) {
        NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
        [formatter setCalendar:[NSCalendar currentCalendar]];
        monthSymbols = [formatter monthSymbols];
    }

    NSInteger numericSection = [[theSection name] integerValue];

    NSInteger year = numericSection / 1000;
    NSInteger month = numericSection - (year * 1000);

    NSString *titleString = [NSString stringWithFormat:@"%@ %d", [monthSymbols objectAtIndex:month-1], year];
    NSLog(@"titelstring is: %@",titleString);
    return titleString;
} 
```

对于我的 rowsInSection 数量，我这样做。

```
id <NSFetchedResultsSectionInfo> sectionInfo = [[self.fetchedResultsController sections] objectAtIndex:section];

        NSInteger count = [sectionInfo numberOfObjects];
        return count; 
```

这对于我的 NumberOfSectionsInTableview

```
NSInteger count = [[self.fetchedResultsController sections] count];
        return count; 
```

有人可以帮忙吗？

提前致谢！

**出了什么问题**

首先，它不会在 NSLog(@"tmp: %@",tmp); 中打印我的日志。而且我还收到以下错误：

```
**CoreData**: error: (NSFetchedResultsController) A section returned nil value for section name key path 'sectionIdentifier'. Objects will be placed in unnamed section
2012-10-10 10:41:17.475 RacingGenk[15785:c07] *** Terminating app due to uncaught exception 'NSRangeException', reason: '-[__NSCFArray objectAtIndex:]: index (-1 (or possibly larger)) beyond bounds (12)' 
```

**编辑** 这是我设置 NSFetchresultcontroller 的地方

```
- (void)getKalender // attaches an NSFetchRequest to this UITableViewController
{
    NSFetchRequest *request = [NSFetchRequest fetchRequestWithEntityName:@"Kalender"];
    request.sortDescriptors = [NSArray arrayWithObject:[NSSortDescriptor sortDescriptorWithKey:@"date" ascending:YES]];

    self.fetchedResultsController = [[NSFetchedResultsController alloc] initWithFetchRequest:request
                                                                        managedObjectContext:self.genkDatabase.managedObjectContext
                                                                sectionNameKeyPath:@"Kalender.sectionIdentifier" cacheName:@"Root"];
    self.fetchedResultsController.delegate = self;
    self.fetchedResultsController = self.fetchedResultsController; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T05:55:11.347

我觉得应该是

```
sectionNameKeyPath:@"sectionIdentifier" 
```

代替

```
sectionNameKeyPath:@"Kalender.sectionIdentifier" 
```

在获取结果控制器的构造中。

# iphone - 如何在xib下的xcode中创建新的UIView

> ID：12816051
> 
> 赞同：-1
> 
> 时间：2012-10-10T09:24:30.507
> 
> 标签：iphone, xcode, ios5, xib

我想在 xcode 应用程序中创建一个计时器应用程序。

但它需要两个`UIView`s，我只有一个`UIView`。

如何`UIView`在xib中添加另一个？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-10T09:28:27.497

在你问之前搜索[阅读这个](https://stackoverflow.com/questions/7166663/how-to-add-new-xib-files)

您可以使用情节提要，最好阅读它的[链接](http://kurrytran.blogspot.com/2011/07/simple-ios-5-tutorial-using-storyboard.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T09:31:34.270

要创建独立用户界面 (XIB)：

文件 -> 新文件 -> iOS -> 用户界面

然后选择：

应用程序（包括委托和窗口） Window View Empty 创建具有用户界面的新 UIViewController 类：

文件 -> 新建文件 -> iOS -> Cocoa Touch -> UIViewController 子类 -> 点击下一步

然后，命名新的视图控制器类并选择“With XIB for user interface”。

**或者**

选择objective-c 类，然后选择`UIViewController`作为子类。

Apple 将所有 Objective-C 类模板移动到“Objective-C 类”模板中。它们也具有自定义功能，例如“使用 xib 用于用户界面”。

# python - 在 os.system 或 os.popen 错误中使用百分号

> ID：12816058
> 
> 赞同：-3
> 
> 时间：2012-10-10T09:24:43.650
> 
> 标签：python

我正在尝试通过使用带有 % 的用户定义字符串来打开一个带有 exe 的文件，这对我来说永远不起作用。我试过 os.system 和 os.popen。我不断收到这个
TypeError: unsupported operand type(s) for %: 'file' and 'str'

我该怎么做才能让它发挥作用？

```
def showhelp():
 defaulteditor = "notepad.exe"
 print "[*] Which text viewer do you want to use? [default: notepad]"
 which = raw_input("\n\n\ntype n for notepad, or specify program.exe  >     ")
 if which != "n":
    os.popen('notepad ./help.txt')
else:
    os.popen('%r')%(which) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T09:27:54.563

尝试

```
os.popen('%r' % which) 
```

反而。

格式化运算符需要左侧的`%`格式字符串和右侧的参数。此外，如果它只是一个参数，则不需要括号。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T09:32:38.377

也许这可以帮助回答您的问题：

```
>>> def printy(string):
    print string

>>> printy("hello %s" % "world")
hello world
>>> printy("hello %s") % "world"
hello %s

Traceback (most recent call last):
  File "<pyshell#278>", line 1, in <module>
    printy("hello %s") % "world"
TypeError: unsupported operand type(s) for %: 'NoneType' and 'str'
>>> 
```

如您所见，您没有在正确的位置包含 % 运算符或其补充。

您甚至可以查阅这些文档：[http ://docs.python.org/release/2.4.4/lib/typesseq-strings.html](http://docs.python.org/release/2.4.4/lib/typesseq-strings.html)

也包含在 python 附带的 python 帮助文档中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-10T09:45:11.287

如果您使用该[`subprocess`模块](http://docs.python.org/library/subprocess.html)而不是已弃用的方式进行调用，则可以避免此问题并拥有更简洁的程序。

# ios - iOS：复制属性

> ID：12816063
> 
> 赞同：6
> 
> 时间：2012-10-10T09:25:09.237
> 
> 标签：ios

我无法得到这个问题的正确答案。如果发现重复，请使用正确的参考链接使其重复。

我想知道，引用计数增加的方式是什么。我知道，alloc/init 和 retain 会增加引用计数，'copy' 是否也会将引用计数增加到 '1' ？

谢谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-10T09:42:07.910

`copy`创建一个新对象，正如方法名称所暗示的那样，接收者的副本（实际上它取决于`copy`每个类中方法的实现，但无论如何这是该方法的目的）。

因此，实际上它并没有真正“将引用计数增加 1”，而是创建了一个新对象，其引用计数为 1 作为任何新分配的对象，并使其具有与原始对象相同的属性/ ivar 值。

因此，假设您有一个`Person`具有 properties 的类`name`，`surname`并且`age`，如果您需要自己实现该`copy`方法，它看起来像这样：

```
-(id)copy
{
    // Create a new instance
    Person* mycopy = [[Person alloc] init];
    // Make it an exact copy of the original
    mycopy.name = self.name;
    mycopy.surname = self.surname;
    mycopy.age = self.age;
    // and return that copy
    return mycopy;
} 
```

*请注意，在这种情况下，如果您稍后修改副本，则不会修改原始副本，因为它是不同的实例。*

有了这个原则，原始对象的 refcount 不会增加 1，但是您有一个 refcount 为 1 的新对象（就像您刚刚执行了 alloc/init 来自己创建这个新对象一样）并且您仍然需要释放或自动释放在某个时候你自己（如果你不使用ARC）。这就是为什么对对象的调用遵循与在某些时候调用或平衡引用计数的需要`copy`相同的规则`retain``alloc``release``autorelease`

* * *

请注意，有一些例外/特殊情况，特别是对于某些被称为“不可变”的类，例如`NSArray`or `NSString`。在这种情况下，可以合理地认为，制作作为原始副本的副本（也称为不同的对象实例），而原始无法修改，效率不高，并且可以优化。

因此，在诸如`NSArray`和`NSString`其他一些情况下，该`copy`方法可以简单地实现以执行简单`retain`操作，因为行为将与您无法修改原始（也不能修改副本）相同，因为这些本质上是不可变的类。

当然，`mutableCopy`（例如`NSMutableArray`从一个`NSArray`例子中获取）的实现是做一个真正的复制而不是简单的保留，`copy`可变子类中的方法的实现也喜欢`NSMutableString`做`NSMutableArray`一个真正的复制，但是对于请求一个不可变对象的不可变副本，分配不同实例的点通常是无用且消耗内存的，因此实现与`retain`.

但是所有这些可能的优化都不会改变行为（因为类是不可变的）和内存管理策略（因为您仍然需要`release`返回的对象`copy`）

# objective-c - 将 JSON 读取到 NSString 并获取特定条目

> ID：12816070
> 
> 赞同：1
> 
> 时间：2012-10-10T09:25:24.157
> 
> 标签：objective-c, ios, json, sbjson

我对 SBJSON 解析器有疑问。我正在尝试从返回 json 文件的网站获取一些信息。然后我将其解析为字符串，然后解析为字典（工作正常）。但是，当我想要该字典中的最后一个元素（名称）时，它只会给我一个错误。这是我的代码：

```
SBJsonParser *parser = [[SBJsonParser alloc] init];

self.videoId = videoId;
// Grab the contents from the url and save it in a string
NSString *content = [NSString stringWithContentsOfURL:[NSURL URLWithString:[NSString stringWithFormat:@"http://gdata.youtube.com/feeds/api/videos/%@?alt=json",videoId]] encoding:NSUTF8StringEncoding error:nil];
// Save the information from the string in a dict
NSDictionary *dict = [parser objectWithString:content error:nil];

NSArray *string = [[dict objectForKey:@"entry"] objectForKey:@"author"];

NSLog(@"%@", string); 
```

这是输出：

```
2012-10-10 11:11:47.731 quoteGen[13862:c07] (
    {
    name =         {
        "$t" = CommanderKrieger;
    };
    uri =         {
        "$t" = "http://gdata.youtube.com/feeds/api/users/CommanderKrieger";
    };
} 
```

)

我如何获得名称或 uri？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T09:41:49.547

```
NSString *name = [[[string objectAtIndex:0] objectForKey:@"name"] objectForKey:@"$t"];
 NSString *urlString = [[[string objectAtIndex:0] objectForKey:@"uri"] objectForKey:@"$t"]; 
```

我想这会对你有所帮助。

# java - JavaFx GridPane - 如何使元素居中

> ID：12816075
> 
> 赞同：11
> 
> 时间：2012-10-10T09:25:41.473
> 
> 标签：java, user-interface, positioning, javafx-2, gridpanel

我有一个`GridPane`充满 1 个字母的标签。

这是一张图片：

[![图片](../Images/be4dbafe529357f3094c8df647abc964.png)](https://i.stack.imgur.com/T5npB.jpg)

这是代码：

```
int charSpacing = 1;
int charsInWidth = 28;
int charsInHeight = 16;

double charWidth = 15;
double charHeight = 20;

GridPane gp = new GridPane();
gp.setAlignment(Pos.CENTER);

Label[] tmp = new Label[charsInHeight*charsInWidth];

String text = "W";
int currArrPos = 0;

for(int y = 0; y < charsInHeight; y++) {
    HBox hbox = new HBox(charSpacing);

    for(int x = 0; x < charsInWidth; x++) {
        tmp[currArrPos] = new Label(text);
        tmp[currArrPos].setTextFill(Paint.valueOf("white"));

        tmp[currArrPos].setMinHeight(charHeight);
        tmp[currArrPos].setMinWidth(charWidth);
        tmp[currArrPos].setMaxHeight(charHeight);
        tmp[currArrPos].setMaxWidth(charWidth);

        tmp[currArrPos].setStyle("-fx-border-color: white;");
        hbox.getChildren().add(tmp[currArrPos++]);

        if(x%2 == 0){
            text = "I";
        } else{
            text = "W";
        }
    }
    gp.add(hbox, 1, y);
}
guiDisplay.getChildren().add(gp); 
```

我怎样才能使角色居中？

我把它们放在了一个中`HBox`，并给了它们间距。我试图将`textAlignment`标签设置为`CENTER`，但这当然行不通。

我也试过这个：

```
gp.setAlignment(Pos.CENTER); 
```

有人有想法吗？谢谢！

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2013-06-19T09:23:54.363

*   您可以使用此`GridPane.setHalignment(tmp[currArrPos], HPos.CENTER);` [Using GridPane 来布局控件](http://www.java2s.com/Code/Java/JavaFX/UsingGridPanetolayoutcontrols.htm)

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-10-10T09:41:19.920

哦，那很容易。我在错误的地方做了对齐。添加这将完成这项工作：

```
tmp[currArrPos].setAlignment(Pos.CENTER); 
```

不管怎么说，还是要谢谢你。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2018-09-13T22:18:31.617

您可以使用`setAligment(Pos.CENTER)`元素的属性-

或者你可以定义一个包含元素`contraint`的`GridPane`

```
<columnConstraints>
    <ColumnConstraints halignment="CENTER" />
</columnConstraints> 
```

例子：

```
<?import javafx.geometry.Insets?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.ColumnConstraints?>

<GridPane fx:controller="app.graphics.Controller"
          xmlns:fx="http://javafx.com/fxml" alignment="center" hgap="10" vgap="10">
    <columnConstraints>
        <ColumnConstraints halignment="CENTER" />
    </columnConstraints>
</GridPane> 
```

# visual-studio - 如何让 StyleCop Visual Studio 扩展使用设置文件中的规则？

> ID：12816076
> 
> 赞同：1
> 
> 时间：2012-10-10T09:25:49.367
> 
> 标签：visual-studio, stylecop

我们的构建系统以某种方式违反文件中的规则运行 Style Cop `Settings.StyleCop`。

我的文件违反了许多规则。由于大多数违规行为都是微不足道的，我希望我的电脑能帮助解决它们。[我从http://stylecop.codeplex.com/](http://stylecop.codeplex.com/)安装了 StyleCop Visual Studio 扩展。然后我在 Visual Studio 中右键单击我的项目并运行“运行 StyleCop”。

这对构建系统提出了一系列不同的违规行为。如何让 Style Cop Visual Studio 扩展程序按照文件中的规则运行`Settings.StyleCop`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T03:47:17.530

听起来您要么安装了不同版本的 StyleCop（因此它会触发新错误），要么您的父设置文件与构建服务器上的设置文件不同。我发现阻止这种情况的最简单方法是停止从解决方案根设置文件合并 StyleCop 设置（这可以通过 IDE 中的 StyleCop 设置对话框进行配置）。请注意，如果您这样做，您还应该从父设置文件（通常在 StyleCop 安装文件夹中找到）复制所有相关设置。

您正在寻找的具体设置是

```
<StringProperty Name="MergeSettingsFiles">NoMerge</StringProperty> 
```

# java - 如何在java swing中动态添加一列并用数据填充新添加的列

> ID：12816078
> 
> 赞同：0
> 
> 时间：2012-10-10T09:26:01.543
> 
> 标签：java, swing, jtable

我首先创建了一个具有单列和 6 行（空列）的 Jtable（通过 netbeans GUI）。接下来我使用以下命令动态添加了一列

```
summaryTableForVAriousSm.getColumnModel().addColumn(new TableColumn()); 
```

在运行应用程序时，我可以看到该列是动态创建的。所以我想使用命令将数据添加到新创建的列

```
summaryTableForVAriousSm.setValueAt("1000", 1, 1); 
```

（对于所有其他 6 行按列填充的情况类似）这种变化也反映在应用程序的运行中，但这里的问题是插入新创建的列中的数据也被第 0 列覆盖（如果存在任何数据） . 为什么一列中的更改会反映在另一列中。另外如何将它们分开，以便一列中的更改不会影响另一列中的数据。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-10T09:33:41.007

数据设置为第一列的原因是两列都映射到底层模型中的同一列。请参阅 TableColumn() 的 api 文档：

> 使用默认**模型索引**0、默认宽度 75、空渲染器和空编辑器

（被我加粗）

现在表格的 setValueAt 在视图坐标中，在内部转换为模型坐标。对于列，基本上通过查询其模型索引：

```
// in JTable.setValueAt
int modelColumnIndex = getColumnModel().getColumn(viewColumn).getModelIndex() 
```

假设底层模型是 DefaultTableModel

```
((DefaultTableModel) table.getModel()).addColumn(somename); 
```

# java - 公共文件上传（Apache）

> ID：12816083
> 
> 赞同：1
> 
> 时间：2012-10-10T09:26:17.167
> 
> 标签：java, jsp, servlets, file-upload, apache-commons

我在这里收到空指针异常：

```
List fileItems = upload.parseRequest(req); 
```

如果文件中的行数大于大约 2000 行，就会发生这种情况，因为我可以上传超过 1000 行的文件。有人请帮帮我。表格如下。

```
<form name="fos_picks" id="fos_picks" action="<%=path%>/fos_upld" method="post" enctype="multipart/form-data" >

<br/><br/><br/><br/>
<p align="center">
    <input type="file" name="file" size="50" /><br/>
    <br/>
    <input type="submit" class="buttons" value="Upload File" />
    </p>
</form> 
```

上传控制器代码...

```
 package file_proc;
import DBConn.DBConn;
import java.io.BufferedReader;
import java.io.File;
import java.io.FileReader;
import java.sql.PreparedStatement;
import java.util.Iterator;
import java.util.List;
import javax.servlet.RequestDispatcher;
import javax.servlet.ServletContext;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import org.apache.commons.fileupload.FileItem;
import org.apache.commons.fileupload.disk.DiskFileItemFactory;
import org.apache.commons.fileupload.servlet.ServletFileUpload;

@WebServlet(name="file_upld", urlPatterns = {"/file_upld"}) 

public class file_upld extends HttpServlet {

   private boolean isMultipart;
   private String filePath;
   private int maxFileSize = 50 * 1024;
   private int maxMemSize = 10 * 1024;
   private File file ;

/*   public void init( ){
      // Get the file location where it would be stored.
      filePath = 
             getServletContext().getInitParameter("file-upload"); 
   }*/
    @Override
   public void doPost(HttpServletRequest req, HttpServletResponse res)throws ServletException, java.io.IOException {
      // Check that we have a file upload request
       java.io.PrintWriter out = res.getWriter( );
    //   out.println("entered");
      isMultipart = ServletFileUpload.isMultipartContent(req);

      res.setContentType("text/html");

      if( !isMultipart ){
         out.println("!multipart");
         System.out.println("here");
         return;
      }
      DiskFileItemFactory factory = new DiskFileItemFactory();
      // maximum size that will be stored in memory
      factory.setSizeThreshold(maxMemSize);
      // Location to save data that is larger than maxMemSize.
      factory.setRepository(new File("c:/temp"));
      // Create a new file upload handler
      ServletFileUpload upload = new ServletFileUpload(factory);
      // maximum file size to be uploaded.
      upload.setSizeMax( maxFileSize );
 ServletContext servletContext = getServletContext();
    String path = servletContext.getRealPath("/");
     BufferedReader br=null;
     String fileName="";
     DBConn db = new DBConn();

      try{ 
      // Parse the request to get file items.
          System.out.println("here1"+req);
      List fileItems = upload.parseRequest(req);

      // Process the uploaded file items
      Iterator i = fileItems.iterator();

/*      out.println("<html>");
      out.println("<head>");
      out.println("<title>Upload</title>");  
      out.println("</head>");
      out.println("<body>");*/
      while ( i.hasNext () ) 
      {
         FileItem fi = (FileItem)i.next();
         if ( !fi.isFormField () )  
         {
            // Get the uploaded file parameters
            String fieldName = fi.getFieldName();
            fileName = fi.getName();
            String contentType = fi.getContentType();
            boolean isInMemory = fi.isInMemory();
            long sizeInBytes = fi.getSize();
            // Write the file
            if( fileName.lastIndexOf("\\") >= 0 ){
               file = new File( "c:/Temp/" + 
               fileName.substring( fileName.lastIndexOf("\\"))) ;
            }else{
               file = new File( "c:/Temp/"+ 
               fileName.substring(fileName.lastIndexOf("\\")+1)) ;
            }
            if(!file.exists())
            {
                File fold=new File(file.getParent());
                fold.mkdirs();
            }
            fi.write( file ) ;
            System.out.println("Uploaded Filename: " + fileName + "<br>");
         }
      }
      }catch(Exception ce)
      {
            out.println("<font size='30' color='red'>Error Code 016</font>");
        //out.println("Exception1: "+ce);
      }
 //read uploaded file and insert into table********************************************  

    //      String newline = System.getProperty("line.separator");
//  File file = new File(path+"//"+fileName);
            //  file.createNewFile();
try{

    if(file.isFile())
    {
         br = new BufferedReader(new FileReader(file));
    String str="";
    String temp[]=null;

        file.canWrite();
        file.canRead();
        file.setWritable(true);

        db.conn.setAutoCommit(false);
        while((str=br.readLine())!=null)
                    {
                        temp=str.split("    ");

                //      PreparedStatement ps = db.conn.prepareStatement("INSERT INTO file_proc VALUES(?,?,?,?,?,?,?,?,?,STR_TO_DATE(?,'%m/%d/%Y'))");
                        PreparedStatement ps = db.conn.prepareStatement("INSERT INTO file_proc(run_date,zone,location,bank,file_type,num_rec,ex_sett_date,ex_stat_date) "
                                                        + "VALUES(STR_TO_DATE(?,'%m/%d/%Y'),?,?,?,?,?,STR_TO_DATE(?,'%m/%d/%Y'),STR_TO_DATE(?,'%m/%d/%Y'))");
                        ps.setString(1,temp[0]);
                        ps.setString(2,temp[1]);
                        ps.setString(3,temp[2]);
                        ps.setString(4,temp[3]);
                        ps.setString(5,temp[4]);
                        ps.setInt(6,Integer.parseInt(temp[5]));
                        ps.setString(7,temp[6]);
                        ps.setString(8,temp[7]);
                        ps.executeUpdate();
                        ps.close();     

                    }   
                    db.conn.commit();
                    db.conn.setAutoCommit(true);
                    db.conn.close();
                    br.close(); 
        file.delete();  

       //  RequestDispatcher rd = req.getRequestDispatcher("./status/status.jsp");
        //  rd.forward(req, res);
          out.print("success");
     //     out.println("</html>");
    }
    else
    {
        out.println(file+" is not a file");
    }           

   }catch(Exception ex) {
    out.println("file name= "+fileName);
      // out.println("DBEX= "+ex );
        out.println("<font size='30' color='red'>Error Code 017 - Recommended date format = m/d/yyyy.</font>");
        out.println("<font size='30' color='red'>Check the column order</font>"+ex);    
      //file.delete();  
     //  RequestDispatcher rd = req.getRequestDispatcher("./status/error.jsp");
//  rd.forward(req, res);
   }finally{
                    try{
                        db.conn.close();
                        br.close();
                    }catch(Exception e){}
                }
   }
    @Override
   public void doGet(HttpServletRequest request, HttpServletResponse response)throws ServletException, java.io.IOException {

       doPost(request, response);  
   } 
} 
```

****** *** ***这是表格***** ** *** ******

 **```
<form name="file_proc" id="file_proc" method = "post" action="../file_upld" enctype="multipart/form-data">
    <br/><br/><br/><br/>
    <p align="center">
<input type="file" id="file" name="file" size="50" /><br/>
<br/>
<input type="submit" class="buttons" value="Upload File" />br/><br/><br/>
     </p>
</form> 
```

* * *

上传控制器代码...

```
 package file_proc;
import DBConn.DBConn;
import java.io.BufferedReader;
import java.io.File;
import java.io.FileReader;
import java.sql.PreparedStatement;
import java.util.Iterator;
import java.util.List;
import javax.servlet.RequestDispatcher;
import javax.servlet.ServletContext;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import org.apache.commons.fileupload.FileItem;
import org.apache.commons.fileupload.disk.DiskFileItemFactory;
import org.apache.commons.fileupload.servlet.ServletFileUpload;

@WebServlet(name="file_upld", urlPatterns = {"/file_upld"}) 

public class file_upld extends HttpServlet {

   private boolean isMultipart;
   private String filePath;
   private int maxFileSize = 50 * 1024;
   private int maxMemSize = 10 * 1024;
   private File file ;

/*   public void init( ){
      // Get the file location where it would be stored.
      filePath = 
             getServletContext().getInitParameter("file-upload"); 
   }*/
    @Override
   public void doPost(HttpServletRequest req, HttpServletResponse res)throws ServletException, java.io.IOException {
      // Check that we have a file upload request
       java.io.PrintWriter out = res.getWriter( );
    //   out.println("entered");
      isMultipart = ServletFileUpload.isMultipartContent(req);

      res.setContentType("text/html");

      if( !isMultipart ){
         out.println("!multipart");
         System.out.println("here");
         return;
      }
      DiskFileItemFactory factory = new DiskFileItemFactory();
      // maximum size that will be stored in memory
      factory.setSizeThreshold(maxMemSize);
      // Location to save data that is larger than maxMemSize.
      factory.setRepository(new File("c:/temp"));
      // Create a new file upload handler
      ServletFileUpload upload = new ServletFileUpload(factory);
      // maximum file size to be uploaded.
      upload.setSizeMax( maxFileSize );
 ServletContext servletContext = getServletContext();
    String path = servletContext.getRealPath("/");
     BufferedReader br=null;
     String fileName="";
     DBConn db = new DBConn();

      try{ 
      // Parse the request to get file items.
          System.out.println("here1"+req);
      List fileItems = upload.parseRequest(req);

      // Process the uploaded file items
      Iterator i = fileItems.iterator();

/*      out.println("<html>");
      out.println("<head>");
      out.println("<title>Upload</title>");  
      out.println("</head>");
      out.println("<body>");*/
      while ( i.hasNext () ) 
      {
         FileItem fi = (FileItem)i.next();
         if ( !fi.isFormField () )  
         {
            // Get the uploaded file parameters
            String fieldName = fi.getFieldName();
            fileName = fi.getName();
            String contentType = fi.getContentType();
            boolean isInMemory = fi.isInMemory();
            long sizeInBytes = fi.getSize();
            // Write the file
            if( fileName.lastIndexOf("\\") >= 0 ){
               file = new File( "c:/Temp/" + 
               fileName.substring( fileName.lastIndexOf("\\"))) ;
            }else{
               file = new File( "c:/Temp/"+ 
               fileName.substring(fileName.lastIndexOf("\\")+1)) ;
            }
            if(!file.exists())
            {
                File fold=new File(file.getParent());
                fold.mkdirs();
            }
            fi.write( file ) ;
            System.out.println("Uploaded Filename: " + fileName + "<br>");
         }
      }
      }catch(Exception ce)
      {
            out.println("<font size='30' color='red'>Error Code 016</font>");
        //out.println("Exception1: "+ce);
      }
 //read uploaded file and insert into table********************************************  

    //      String newline = System.getProperty("line.separator");
//  File file = new File(path+"//"+fileName);
            //  file.createNewFile();
try{

    if(file.isFile())
    {
         br = new BufferedReader(new FileReader(file));
    String str="";
    String temp[]=null;

        file.canWrite();
        file.canRead();
        file.setWritable(true);

        db.conn.setAutoCommit(false);
        while((str=br.readLine())!=null)
                    {
                        temp=str.split("    ");

                //      PreparedStatement ps = db.conn.prepareStatement("INSERT INTO file_proc VALUES(?,?,?,?,?,?,?,?,?,STR_TO_DATE(?,'%m/%d/%Y'))");
                        PreparedStatement ps = db.conn.prepareStatement("INSERT INTO file_proc(run_date,zone,location,bank,file_type,num_rec,ex_sett_date,ex_stat_date) "
                                                        + "VALUES(STR_TO_DATE(?,'%m/%d/%Y'),?,?,?,?,?,STR_TO_DATE(?,'%m/%d/%Y'),STR_TO_DATE(?,'%m/%d/%Y'))");
                        ps.setString(1,temp[0]);
                        ps.setString(2,temp[1]);
                        ps.setString(3,temp[2]);
                        ps.setString(4,temp[3]);
                        ps.setString(5,temp[4]);
                        ps.setInt(6,Integer.parseInt(temp[5]));
                        ps.setString(7,temp[6]);
                        ps.setString(8,temp[7]);
                        ps.executeUpdate();
                        ps.close();     

                    }   
                    db.conn.commit();
                    db.conn.setAutoCommit(true);
                    db.conn.close();
                    br.close(); 
        file.delete();  

       //  RequestDispatcher rd = req.getRequestDispatcher("./status/status.jsp");
        //  rd.forward(req, res);
          out.print("success");
     //     out.println("</html>");
    }
    else
    {
        out.println(file+" is not a file");
    }           

   }catch(Exception ex) {
    out.println("file name= "+fileName);
      // out.println("DBEX= "+ex );
        out.println("<font size='30' color='red'>Error Code 017 - Recommended date format = m/d/yyyy.</font>");
        out.println("<font size='30' color='red'>Check the column order</font>"+ex);    
      //file.delete();  
     //  RequestDispatcher rd = req.getRequestDispatcher("./status/error.jsp");
//  rd.forward(req, res);
   }finally{
                    try{
                        db.conn.close();
                        br.close();
                    }catch(Exception e){}
                }
   }
    @Override
   public void doGet(HttpServletRequest request, HttpServletResponse response)throws ServletException, java.io.IOException {

       doPost(request, response);  
   } 
} 
```

****** *** ***这是表格***** ** *** ******

 **```
<form name="file_proc" id="file_proc" method = "post" action="../file_upld" enctype="multipart/form-data">
    <br/><br/><br/><br/>
    <p align="center">
<input type="file" id="file" name="file" size="50" /><br/>
<br/>
<input type="submit" class="buttons" value="Upload File" />br/><br/><br/>
     </p>
</form> 
```

这是 log4j 的东西，它显示了 filter.java 的错误，我没有在当前的 servlet 中使用它。

> [错误] 29:05（file_upld.java:doPost:172）失败！
> 
> java.lang.NullPointerException at file_proc.file_upld.doPost(file_upld.java:120) at javax.servlet.http.HttpServlet.service(HttpServlet.java:641) at javax.servlet.http.HttpServlet.service(HttpServlet.java: 722) 在 org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305) 在 org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210) 在 filter.filter.doFilter(filter.java :16) 在 org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210) 在 org.apache.catalina.core 的 org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)。 StandardWrapperValve.invoke(StandardWrapperValve.java:225) 在 org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169）在org.apache.catalina.authenticator.AuthenticatorBase.invoke（AuthenticatorBase.java:472）在org.apache.catalina.core.StandardHostValve.invoke（StandardHostValve.java:168）在org.apache.catalina.valves.ErrorReportValve .invoke(ErrorReportValve.java:98) 在 org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927) 在 org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) 在 org. apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407) at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:999) at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol. java:565) 在 org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:307) 在 java.util.concurrent。ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110) 在 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603) 在 java.lang.Thread.run(Thread.java:722)

这里是 filter.javapackage 过滤器；

```
import java.io.IOException;
import javax.servlet.*;
import javax.servlet.http.HttpServletResponse;

public class filter implements Filter{

    private FilterConfig config=null;
    @Override
public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException 
{
    HttpServletResponse hsr = (HttpServletResponse) res;
    hsr.setHeader("Cache-Control", "no-cache, no-store, must-revalidate"); // HTTP 1.1.
    hsr.setHeader("Pragma", "no-cache"); // HTTP 1.0.
    hsr.setDateHeader("Expires", 0); // Proxies.
    chain.doFilter(req, res);
}
    @Override
    public void destroy() { }
    @Override
  public void init(FilterConfig config) {
  this.config = config;
  }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T19:53:42.427

您的具体问题是由糟糕的异常处理和与控制器的紧密耦合视图引起的。

从代码中过滤掉噪音后，大致如下：

```
File file = null;

try {
    // ... 
    file = new File(...);
    // ... 
} catch (Exception e) {
    out.println("...");
}

try {
    if (file.isFile())
        // ...
    } else {
        // ...
    }
} catch (Exception e) {
    out.println("...");
} 
```

被`NullPointerException`扔在与`if (file.isFile())`块的直线上。因此，这意味着第一个`try`块引发了异常，因此留下了`file`as `null`。

问题的原因有两个：

1.  第一个`try`块不是在异常时从 servlet 方法返回，而是错误地继续代码流。
2.  如果不是，第二个`try`块不会事先检查。`file``null`

然而，你的具体问题要大得多。您完全吞下异常并打印不相关的 HTML 代码，而不是将它们抛出和/或记录异常。

按如下方式替换您的 catch 块：

```
} catch (Exception e) {
    throw new ServletException(e);
} 
```

默认情况下，这种方式将记录异常并在 HTTP 500 错误页面中以完整的方式显示异常，并与堆栈跟踪一起完成。堆栈跟踪为您提供了丰富的信息来了解问题并解决问题。

* * *

**与具体问题无关**，代码中还有许多其他概念和设计错误，但迄今为止与具体问题没有直接关系。但是，我建议暂停一下并阅读一些理智的 Servlet 书籍/教程/资源。这段代码似乎只是根据在 Google 中找到的片段拼凑而成，而不是经过深思熟虑的编写。第一步是了解 servlet 是如何工作的：servlet 是[如何工作的？实例化、会话、共享变量和多线程](https://stackoverflow.com/questions/3106452/how-do-servlets-work-instantiation-session-variables-and-multithreading/3106909#3106909)****

# objective-c - 函数“didFinishLaunchingWithOptions”被不当调用

> ID：12816087
> 
> 赞同：0
> 
> 时间：2012-10-10T09:26:25.607
> 
> 标签：objective-c, ios, xcode, cordova

我正在使用 cordova 2.1.0 进行 IOS 应用程序开发。我将我的 IOS 设备连接到 MAC 处理器并安装/初始化我在 xcode 中运行的应用程序或将其从 iTunes 文件夹中拖出。现在，我将设备与处理器物理断开连接，并通过设备中启用的 wifi，通过 APNS 向设备发送通知/消息。我能够在设备中成功接收通知。现在过了一段时间，我将设备重新连接到处理器，这导致应用程序再次启动并再次调用“didFinishLaunchingWithOptions”方法的问题，这是不可取的，因为启动/初始化应该只发生一次。这种行为是随机的，即。每次我断开/重新连接时，它都不会发生，只是有时。为什么会这样。这种随机行为的原因可能是什么。

任何帮助将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T09:32:31.230

`didFinishLaunchingWithOptions:`**每次启动应用程序时都会**调用。当您从 Xcode 运行您的应用程序并断开设备连接时，它会终止该应用程序。因此，当您在设备断开连接的情况下启动应用程序时，它会再次启动应用程序，该应用程序会`didFinishLaunchingWithOptions:`在应用程序完成启动时调用。如果你从 Xcode 运行应用程序，同样的事情也会发生，然后以同样的方式再次运行它。

编辑 ：

不确定它是否清楚，但`didFinishLaunchingWithOptions:`如果您退出应用程序（按主页按钮）并在不杀死它的情况下回调它，则不会调用它。

# python - Python旋转文件处理程序不旋转

> ID：12816088
> 
> 赞同：6
> 
> 时间：2012-10-10T09:26:25.680
> 
> 标签：python, logging

我的旋转文件处理程序设置为 512 字节，具有三个备份。但是文件不旋转，目前为 3.9MB 我做错了什么？我使用的是 Ubuntu 10.10，我在几个显示相同问题的 Debian 映像上也有相同的代码，所以我认为这是我的代码有问题。

```
[formatters]
keys=simpleFormatter

[loggers]
keys=root,simpleExample

[handlers]
keys=consoleHandler,rfileHandler

[formatter_simpleFormatter]
format=%(asctime)s - %(name)s - %(levelname)s - %(message)s 
datefmt= '%Y-%m-%d %H:%M:%S'

[logger_root]
level=INFO
handlers=consoleHandler,rfileHandler,email

[handler_consoleHandler]
class=StreamHandler
level=INFO
formatter=simpleFormatter
args=(sys.stdout,)

[handler_rfileHandler]
class=handlers.RotatingFileHandler
backupCount=3
maxBytes=512
formatter=simpleFormatter
level=INFO
args=('/blabla/logs/blabla.log',)

[logger_simpleExample]
level=INFO
handlers=consoleHandler
qualname=simpleExample
propagate=0

[handler_email] 
class=handlers.SMTPHandler 
level=WARNING 
formatter=simpleFormatter 
args=('target url','sendemail',['erich@*****.com'],'EGIM Outstation Logger',('username','pw')) 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-10-22T09:17:43.100

I had same problem. Try with :

```
[handler_rfileHandler]
class=handlers.RotatingFileHandler
formatter=simpleFormatter
level=INFO
args=('/blabla/logs/blabla.log', 'a', 512, 3) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-05-07T15:51:39.357

我也遇到了同样的问题，`maxBytes`也`backupCount`来自配置文件。

以下代码不起作用：

```
handler  = logging.handlers.RotatingFileHandler(filename    = config.get("Logger", 'file'), 
                                                maxBytes    = config.get("Logger", 'max_file_size'), 
                                                backupCount = config.get("Logger", 'files_to_keep')) 
```

原来问题出在获取参数的方式上。以下传递整数值而不是字符串的代码可以完美运行：

```
handler  = logging.handlers.RotatingFileHandler(filename    = config.get("Logger", 'file'), 
                                                maxBytes    = config.getint("Logger", 'max_file_size'), 
                                                backupCount = config.getint("Logger", 'files_to_keep')) 
```

# css - 为什么 Bootstrap CSS 不会在其他项目中使用相同的代码覆盖？

> ID：12816089
> 
> 赞同：1
> 
> 时间：2012-10-10T09:26:25.763
> 
> 标签：css, ruby-on-rails, twitter-bootstrap

我有这样的问题。我正在处理项目，但是当我从服务器复制相同的文件时，它看起来不同 - 一些引导样式没有被覆盖。

这是工作站点标题的屏幕截图：

![](../Images/b3b74b5003c00de4f1e555f0f9d8a409.png)

以及在我的计算机上打开相同项目时看到的内容：

![](../Images/0843093b860d8a8d8071be26b0d86849.png)

我查看了 Firebug，发现该活动链接使用此默认引导样式：

```
 .navbar .nav > .active > a,
  .navbar .nav > .active > a:hover,
  .navbar .nav > .active > a:focus {
  color: #555555;
  text-decoration: none;
  background-color: #e6e6e6;
 -webkit-box-shadow: inset 0 3px 8px rgba(0, 0, 0, 0.125);
 -moz-box-shadow: inset 0 3px 8px rgba(0, 0, 0, 0.125);
 box-shadow: inset 0 3px 8px rgba(0, 0, 0, 0.125);
} 
```

所以，正如我所见，它并没有压倒一切 - 为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T12:53:05.533

试试这个：你应该有一个 .scss（或 .sass？）文件来收集所有组件。在我的情况下，它被称为styles.scss

元素在此文件中出现的顺序很重要 - 因为第一个条目会覆盖后面的条目 - 在变量的情况下！但是在您的引导程序条目之后放置您的样式（！）更改。

我的 styles.scss 文件如下所示：

```
// myVars
@import "myvariables"; // My vars first to overwrite

// This file is a starting point for the project
@import "bootstrap";

// Include my layout tweeks
@import "assets/layout-tweaks";
@import "assets/hero-swapper";
@import "assets/someotherelement";

// Include responsive Bootstrap styles
@import "bootstrap-responsive"; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T09:58:38.503

您可以执行通用 css 文件，您将在其中按所需顺序导入引导 css 和其他自定义 css。在布局中，您只需要包含这个常见的 css 文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T13:58:54.477

您的样式可能没有覆盖，因为您需要覆盖一个属性的多个实例。

您还没有向我们提供您尝试覆盖的任何代码，所以我不能肯定地说，但是在上面的代码中，您不能只覆盖`box-shadow`但是`-webkit-box-shadow`等等。

当使用 Bootstrap 的 Github 项目中的源 LESS 文件时，这更容易做到，您可以将其定义为

```
.box-shadow(1px 1px 5px #e1e1e1); 
```

它会自动为 box-shadow 写出所有这些属性。

以下是 Bootstrap 关于如何执行此操作的说明：http: [//twitter.github.com/bootstrap/extend.html](http://twitter.github.com/bootstrap/extend.html)

还有[Kickstrap](http://getkickstrap.com)，它已经设置为执行此操作。它将您的自定义设置保留在 Bootstrap 的单独层中，因此您不必接触源代码（以及其他好东西）。

# datagrid - 一个 DataTable 上的多个 DataGrids

> ID：12816095
> 
> 赞同：1
> 
> 时间：2012-10-10T09:26:42.830
> 
> 标签：datagrid, datatable, wpfdatagrid, collectionviewsource

我有两个`CollectionViewSource`绑定到同一个数据表`Client`。每个`CollectionViewSource`都有一个单独的`DataGrid`绑定：

```
(dg1: DataGrid) ----> (cvs1: CollectionViewSource) ----
                                                      |
                                                      v
                                                (Clients: DataTable)
                                                      ^
                                                      |
(dg2: DataGrid) ----> (cvs2: CollectionViewSource) ---- 
```

或在 XAML 中：

```
<CollectionViewSource x:Key="cvs1" Source="{Binding Client, Source={StaticResource MainDataSet}}"/>
<CollectionViewSource x:Key="cvs2" Source="{Binding Client, Source={StaticResource MainDataSet}}"/>
...
...
<DataGrid ItemsSource="{Binding Source={StaticResource cvs1}}" ...>
    ....
</DataGrid>
<DataGrid ItemsSource="{Binding Source={StaticResource cvs2}}" ...>
    ....
</DataGrid> 
```

但是，当应用程序运行时，我单击第一个`DataGrid`按某列排序，第二个`DataGrid`立即与第一个相同排序。这不是我想要的。

据我所知，每个人都`CollectionViewSource`应该有自己的数据视图，所以我在这里遗漏了什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-12T17:42:51.230

我不知道您是否仍在寻找解决方案，但我遇到了同样的问题。它通过创建一个新的 CollectionViewSource 来解决。本质上是这样的：

ICollectionView cvs1=新的 CollectionViewSource { Source = dataSource }.View; ICollectionView cvs2=新的 CollectionViewSource { Source = dataSource }.View;

这将允许您拥有单独的视图。

# java - 用于持久消息的 kaha db 消息存储

> ID：12816098
> 
> 赞同：1
> 
> 时间：2012-10-10T09:26:50.423
> 
> 标签：java, activemq, message-queue, persistent-data, kahadb

我知道 db-xx.log 是日志文件，而 db.redo 是参考文件？

db-xx.log 存储尚未使用的消息。这些消息在被消费后将从 db-xx.log 中删除。db.redo 按消息 ID 存储消息的引用（存储在 db-xx.log 中）。

1.  但是，什么是 db.data 和 db.free？
2.  它们的功能是什么？

我的理解是代理首先将消息存储在缓存（易失性内存）中，然后在检查点或缓存大小已满时将这些消息移动（附加）到 db-xx.log 中。

1.  那是对的吗？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-10T14:16:15.897

db.data 包含引用未使用消息的 btree 页面。db.redo 是即将对 db.data 执行的更新的重做日志。db.free 跟踪 db.data 中的空闲页面。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-10T05:28:12.903

db.redo 是索引 (db.data) 的恢复文件。db.free 在 activemq 启动期间被读取并加载到内存中。一旦空闲列表加载到内存中，该文件就会被删除。卸载消息数据库后，空闲列表将写回 db.free。

删除消息后，队列/主题的行为会有所不同。

*   如果是队列，它将从索引文件中删除。B-tree 结构将相应修改。
*   在主题的情况下，只有当消息被所有订阅者确认时，它才会被删除。

# quickfix - 为什么 initator 似乎缺少登录响应并且无法建立稳定的会话？

> ID：12816101
> 
> 赞同：3
> 
> 时间：2012-10-10T09:27:08.680
> 
> 标签：quickfix, fix-protocol

我今天的 FIX 发起者在默认时间没有收到任何消息，并将 TEST 消息发送到 Acceptor 以测试会话是否处于活动状态，并且没有收到 HEARTBEAT 响应，因此它认为会话已损坏，然后断开会话并启动 LOGON请求，虽然没有从接受者那里得到登录响应，但 acceport 似乎已经发送了响应。可能是什么问题呢。我正在使用 QuickFIXJ 和 FIX 4.2

以下是事件日志：

**启动器事件日志：**

```
20121010-05:00:46: Sent test request TEST

20121010-05:01:13: Disconnecting: Timed out waiting for heartbeat

20121010-05:01:14: Initiated logon request

20121010-05:01:25: Disconnecting: Timed out waiting for logon response

20121010-05:01:26: Initiated logon request

20121010-05:01:36: Disconnecting: Timed out waiting for logon response

20121010-05:01:37: Initiated logon request

20121010-05:01:48: Disconnecting: Timed out waiting for logon response

20121010-05:01:49: Initiated logon request

20121010-05:02:00: Disconnecting: Timed out waiting for logon response

20121010-05:02:01: Initiated logon request

20121010-05:02:12: Disconnecting: Timed out waiting for logon response

20121010-05:02:13: Initiated logon request

20121010-05:02:24: Disconnecting: Timed out waiting for logon response

20121010-05:02:25: Initiated logon request

20121010-05:02:35: Disconnecting: Timed out waiting for logon response

20121010-05:02:36: Initiated logon request

20121010-05:02:46: Disconnecting: Timed out waiting for logon response

20121010-05:02:47: Initiated logon request

20121010-05:02:57: Disconnecting: Timed out waiting for logon response

20121010-05:02:58: Initiated logon request

20121010-05:03:08: Disconnecting: Timed out waiting for logon response

20121010-05:03:09: Initiated logon request

20121010-05:03:19: Disconnecting: Timed out waiting for logon response

20121010-05:03:20: Initiated logon request

20121010-05:03:30: Disconnecting: Timed out waiting for logon response

20121010-05:03:31: Initiated logon request

20121010-05:03:42: Disconnecting: Timed out waiting for logon response` 
```

**接受者事件日志：**

```
20121010-05:01:14: Accepting session FIX.4.2:FIXNETWORK->NEOBSS from /192.168.107.6:33536

20121010-05:01:14: Acceptor heartbeat set to 30 seconds

20121010-05:01:14: Received logon

20121010-05:01:14: Responding to logon request

20121010-05:01:26: Accepting session FIX.4.2:FIXNETWORK->NEOBSS from /192.168.107.6:33557

20121010-05:01:26: Acceptor heartbeat set to 30 seconds

20121010-05:01:26: Received logon

20121010-05:01:26: Responding to logon request

20121010-05:01:37: Accepting session FIX.4.2:FIXNETWORK->NEOBSS from /192.168.107.6:33585

20121010-05:01:37: Acceptor heartbeat set to 30 seconds

20121010-05:01:37: Received logon

20121010-05:01:37: Responding to logon request

20121010-05:01:49: Accepting session FIX.4.2:FIXNETWORK->NEOBSS from /192.168.107.6:33605

20121010-05:01:49: Acceptor heartbeat set to 30 seconds

20121010-05:01:49: Received logon

20121010-05:01:49: Responding to logon request

20121010-05:02:01: Accepting session FIX.4.2:FIXNETWORK->NEOBSS from /192.168.107.6:33616

20121010-05:02:01: Acceptor heartbeat set to 30 seconds

20121010-05:02:01: Received logon

20121010-05:02:01: Responding to logon request

20121010-05:02:13: Accepting session FIX.4.2:FIXNETWORK->NEOBSS from /192.168.107.6:33645

20121010-05:02:13: Acceptor heartbeat set to 30 seconds

20121010-05:02:13: Received logon

20121010-05:02:13: Responding to logon request

20121010-05:02:25: Accepting session FIX.4.2:FIXNETWORK->NEOBSS from /192.168.107.6:33667

20121010-05:02:25: Acceptor heartbeat set to 30 seconds

20121010-05:02:25: Received logon

20121010-05:02:25: Responding to logon request

20121010-05:02:36: Accepting session FIX.4.2:FIXNETWORK->NEOBSS from /192.168.107.6:33695

20121010-05:02:36: Acceptor heartbeat set to 30 seconds

20121010-05:02:36: Received logon

20121010-05:02:36: Responding to logon request

20121010-05:02:47: Accepting session FIX.4.2:FIXNETWORK->NEOBSS from /192.168.107.6:33723 
```

**发起者消息日志**

```
8=FIX.4.29=7035=134=62749=NEOBSS52=20121010-05:00:46.61256=FIXNETWORK112=TEST10=028

8=FIX.4.29=7135=034=915149=FIXNETWORK52=20121010-05:00:46.61356=NEOBSS112=TEST10=078

8=FIX.4.29=13735=f34=915249=FIXNETWORK52=20121010-05:00:46.67856=NEOBSS55=MMMM60=20121010-05:00:45.274207=XXXX20067=CT20068=N20069=Y20070=110=202
8=FIX.4.29=13735=f34=915349=FIXNETWORK52=20121010-05:00:46.89756=NEOBSS55=NNNN60=20121010-05:00:45.274207=XXXX20067=CT20068=N20069=Y20070=110=207
8=FIX.4.29=13735=f34=915449=FIXNETWORK52=20121010-05:00:47.13056=NEOBSS55=NNNN60=20121010-05:00:45.274207=XXXX20067=CT20068=N20069=Y20070=210=190
8=FIX.4.29=13635=f34=915549=FIXNETWORK52=20121010-05:01:00.52256=NEOBSS55=EEE60=20121010-05:01:00.276207=XXXX20067=CT20068=N20069=Y20070=210=121
8=FIX.4.29=13635=f34=915649=FIXNETWORK52=20121010-05:01:00.74656=NEOBSS55=EEE60=20121010-05:01:00.276207=XXXX20067=CT20068=N20069=Y20070=110=129
8=FIX.4.29=13635=f34=915749=FIXNETWORK52=20121010-05:01:00.97956=NEOBSS55=GGG60=20121010-05:01:00.276207=XXXX20067=CT20068=N20069=Y20070=210=120
8=FIX.4.29=13635=f34=915849=FIXNETWORK52=20121010-05:01:01.20256=NEOBSS55=GGG60=20121010-05:01:00.276207=XXXX20067=CT20068=N20069=Y20070=110=100
8=FIX.4.29=13735=f34=915949=FIXNETWORK52=20121010-05:01:01.43856=NEOBSS55=MMMM60=20121010-05:01:00.276207=XXXX20067=CT20068=N20069=Y20070=210=190
8=FIX.4.29=13735=f34=916049=FIXNETWORK52=20121010-05:01:01.65956=NEOBSS55=MMMM60=20121010-05:01:00.276207=XXXX20067=CT20068=N20069=Y20070=110=186
8=FIX.4.29=13735=f34=916149=FIXNETWORK52=20121010-05:01:01.87956=NEOBSS55=NNNN60=20121010-05:01:00.276207=XXXX20067=CT20068=N20069=Y20070=210=193
8=FIX.4.29=13735=f34=916249=FIXNETWORK52=20121010-05:01:02.09556=NEOBSS55=NNNN60=20121010-05:01:00.276207=XXXX20067=CT20068=N20069=Y20070=110=184
8=FIX.4.29=7335=A34=62849=NEOBSS52=20121010-05:01:14.71356=FIXNETWORK98=0108=3010=053
8=FIX.4.29=7435=A34=916349=FIXNETWORK52=20121010-05:01:14.71656=NEOBSS98=0108=3010=108
8=FIX.4.29=13735=f34=916449=FIXNETWORK52=20121010-05:01:14.71856=NEOBSS55=NNNN60=20121010-05:01:00.276207=XXXX20067=CT20068=N20069=Y20070=110=191
8=FIX.4.29=13735=f34=916549=FIXNETWORK52=20121010-05:01:14.71956=NEOBSS55=MMMM60=20121010-05:01:00.276207=XXXX20067=CT20068=N20069=Y20070=110=192
8=FIX.4.29=13635=f34=916649=FIXNETWORK52=20121010-05:01:14.72056=NEOBSS55=EEE60=20121010-05:01:00.276207=XXXX20067=CT20068=N20069=Y20070=110=127
8=FIX.4.29=13635=f34=916749=FIXNETWORK52=20121010-05:01:14.72156=NEOBSS55=GGG60=20121010-05:01:00.276207=XXXX20067=CT20068=N20069=Y20070=110=110
8=FIX.4.29=13635=f34=916849=FIXNETWORK52=20121010-05:01:15.61256=NEOBSS55=EEE60=20121010-05:01:15.279207=XXXX20067=CT20068=N20069=Y20070=110=139
8=FIX.4.29=13635=f34=916949=FIXNETWORK52=20121010-05:01:15.83256=NEOBSS55=GGG60=20121010-05:01:15.279207=XXXX20067=CT20068=N20069=Y20070=110=125
8=FIX.4.29=13635=f34=917049=FIXNETWORK52=20121010-05:01:16.06256=NEOBSS55=EEE60=20121010-05:01:15.279207=XXXX20067=CT20068=N20069=Y20070=210=133
8=FIX.4.29=13735=f34=917149=FIXNETWORK52=20121010-05:01:16.28456=NEOBSS55=MMMM60=20121010-05:01:15.279207=XXXX20067=CT20068=N20069=Y20070=110=197
8=FIX.4.29=13735=f34=917249=FIXNETWORK52=20121010-05:01:16.50456=NEOBSS55=NNNN60=20121010-05:01:15.279207=XXXX20067=CT20068=N20069=Y20070=110=194
8=FIX.4.29=13635=f34=917349=FIXNETWORK52=20121010-05:01:16.74256=NEOBSS55=GGG60=20121010-05:01:15.279207=XXXX20067=CT20068=N20069=Y20070=210=122
8=FIX.4.29=13735=f34=917449=FIXNETWORK52=20121010-05:01:16.98256=NEOBSS55=MMMM60=20121010-05:01:15.279207=XXXX20067=CT20068=N20069=Y20070=210=206
8=FIX.4.29=13735=f34=917549=FIXNETWORK52=20121010-05:01:17.24656=NEOBSS55=NNNN60=20121010-05:01:15.279207=XXXX20067=CT20068=N20069=Y20070=210=202
8=FIX.4.29=7335=A34=62949=NEOBSS52=20121010-05:01:26.61356=FIXNETWORK98=0108=3010=056
8=FIX.4.29=7435=A34=917649=FIXNETWORK52=20121010-05:01:26.61556=NEOBSS98=0108=3010=113
8=FIX.4.29=13735=f34=917749=FIXNETWORK52=20121010-05:01:26.61756=NEOBSS55=NNNN60=20121010-05:01:15.279207=XXXX20067=CT20068=N20069=Y20070=210=206
8=FIX.4.29=13735=f34=917849=FIXNETWORK52=20121010-05:01:26.61856=NEOBSS55=MMMM60=20121010-05:01:15.279207=XXXX20067=CT20068=N20069=Y20070=210=207
8=FIX.4.29=13635=f34=917949=FIXNETWORK52=20121010-05:01:26.61956=NEOBSS55=EEE60=20121010-05:01:15.279207=XXXX20067=CT20068=N20069=Y20070=210=151
8=FIX.4.29=13635=f34=918049=FIXNETWORK52=20121010-05:01:26.61956=NEOBSS55=GGG60=20121010-05:01:15.279207=XXXX20067=CT20068=N20069=Y20070=210=124
8=FIX.4.29=13635=f34=918149=FIXNETWORK52=20121010-05:01:30.53056=NEOBSS55=EEE60=20121010-05:01:30.281207=XXXX20067=CT20068=N20069=Y20070=110=120
8=FIX.4.29=13635=f34=918249=FIXNETWORK52=20121010-05:01:30.77156=NEOBSS55=EEE60=20121010-05:01:30.281207=XXXX20067=CT20068=N20069=Y20070=210=129
8=FIX.4.29=13635=f34=918349=FIXNETWORK52=20121010-05:01:31.00756=NEOBSS55=GGG60=20121010-05:01:30.282207=XXXX20067=CT20068=N20069=Y20070=110=104
8=FIX.4.29=13635=f34=918449=FIXNETWORK52=20121010-05:01:31.24856=NEOBSS55=GGG60=20121010-05:01:30.282207=XXXX20067=CT20068=N20069=Y20070=210=113
8=FIX.4.29=13735=f34=918549=FIXNETWORK52=20121010-05:01:31.48656=NEOBSS55=MMMM60=20121010-05:01:30.282207=XXXX20067=CT20068=N20069=Y20070=110=194
8=FIX.4.29=13735=f34=918649=FIXNETWORK52=20121010-05:01:31.70656=NEOBSS55=MMMM60=20121010-05:01:30.282207=XXXX20067=CT20068=N20069=Y20070=210=191
8=FIX.4.29=13735=f34=918749=FIXNETWORK52=20121010-05:01:31.92056=NEOBSS55=NNNN60=20121010-05:01:30.282207=XXXX20067=CT20068=N20069=Y20070=110=190
8=FIX.4.29=13735=f34=918849=FIXNETWORK52=20121010-05:01:32.13456=NEOBSS55=NNNN60=20121010-05:01:30.282207=XXXX20067=CT20068=N20069=Y20070=210=190
8=FIX.4.29=7335=A34=63049=NEOBSS52=20121010-05:01:37.61756=FIXNETWORK98=0108=3010=054
8=FIX.4.29=7435=A34=918949=FIXNETWORK52=20121010-05:01:37.61856=NEOBSS98=0108=3010=122
8=FIX.4.29=13735=f34=919049=FIXNETWORK52=20121010-05:01:37.62056=NEOBSS55=NNNN60=20121010-05:01:30.282207=XXXX20067=CT20068=N20069=Y20070=210=188
8=FIX.4.29=13735=f34=919149=FIXNETWORK52=20121010-05:01:37.62156=NEOBSS55=MMMM60=20121010-05:01:30.282207=XXXX20067=CT20068=N20069=Y20070=210=189
8=FIX.4.29=13635=f34=919249=FIXNETWORK52=20121010-05:01:37.62256=NEOBSS55=EEE60=20121010-05:01:30.281207=XXXX20067=CT20068=N20069=Y20070=210=132
8=FIX.4.29=13635=f34=919349=FIXNETWORK52=20121010-05:01:37.62356=NEOBSS55=GGG60=20121010-05:01:30.282207=XXXX20067=CT20068=N20069=Y20070=210=116
8=FIX.4.29=13635=f34=919449=FIXNETWORK52=20121010-05:01:45.55556=NEOBSS55=EEE60=20121010-05:01:45.284207=XXXX20067=CT20068=N20069=Y20070=110=146
8=FIX.4.29=13635=f34=919549=FIXNETWORK52=20121010-05:01:45.77556=NEOBSS55=EEE60=20121010-05:01:45.284207=XXXX20067=CT20068=N20069=Y20070=210=152
8=FIX.4.29=13635=f34=919649=FIXNETWORK52=20121010-05:01:45.98356=NEOBSS55=GGG60=20121010-05:01:45.286207=XXXX20067=CT20068=N20069=Y20070=110=136
8=FIX.4.29=13635=f34=919749=FIXNETWORK52=20121010-05:01:46.21556=NEOBSS55=GGG60=20121010-05:01:45.286207=XXXX20067=CT20068=N20069=Y20070=210=127
8=FIX.4.29=13735=f34=919849=FIXNETWORK52=20121010-05:01:46.43956=NEOBSS55=MMMM60=20121010-05:01:45.287207=XXXX20067=CT20068=N20069=Y20070=110=213
8=FIX.4.29=13735=f34=919949=FIXNETWORK52=20121010-05:01:46.67256=NEOBSS55=MMMM60=20121010-05:01:45.287207=XXXX20067=CT20068=N20069=Y20070=210=214
8=FIX.4.29=13735=f34=920049=FIXNETWORK52=20121010-05:01:46.89656=NEOBSS55=NNNN60=20121010-05:01:45.287207=XXXX20067=CT20068=N20069=Y20070=110=205
8=FIX.4.29=13735=f34=920149=FIXNETWORK52=20121010-05:01:47.14356=NEOBSS55=NNNN60=20121010-05:01:45.287207=XXXX20067=CT20068=N20069=Y20070=210=193
8=FIX.4.29=7335=A34=63149=NEOBSS52=20121010-05:01:49.61756=FIXNETWORK98=0108=3010=058
8=FIX.4.29=7435=A34=920249=FIXNETWORK52=20121010-05:01:49.61856=NEOBSS98=0108=3010=111
8=FIX.4.29=13735=f34=920349=FIXNETWORK52=20121010-05:01:49.62056=NEOBSS55=NNNN60=20121010-05:01:45.287207=XXXX20067=CT20068=N20069=Y20070=210=197
8=FIX.4.29=13735=f34=920449=FIXNETWORK52=20121010-05:01:49.62156=NEOBSS55=MMMM60=20121010-05:01:45.287207=XXXX20067=CT20068=N20069=Y20070=210=198
8=FIX.4.29=13635=f34=920549=FIXNETWORK52=20121010-05:01:49.62156=NEOBSS55=EEE60=20121010-05:01:45.284207=XXXX20067=CT20068=N20069=Y20070=210=138
8=FIX.4.29=13635=f34=920649=FIXNETWORK52=20121010-05:01:49.62256=NEOBSS55=GGG60=20121010-05:01:45.286207=XXXX20067=CT20068=N20069=Y20070=210=123
8=FIX.4.29=13635=f34=920749=FIXNETWORK52=20121010-05:02:00.52756=NEOBSS55=EEE60=20121010-05:02:00.287207=XXXX20067=CT20068=N20069=Y20070=210=128
8=FIX.4.29=7335=A34=63249=NEOBSS52=20121010-05:02:01.61656=FIXNETWORK98=0108=3010=047
8=FIX.4.29=7435=A34=920849=FIXNETWORK52=20121010-05:02:01.61856=NEOBSS98=0108=3010=106
8=FIX.4.29=13735=f34=920949=FIXNETWORK52=20121010-05:02:01.61956=NEOBSS55=MMMM60=20121010-05:02:00.288207=XXXX20067=CT20068=N20069=Y20070=210=192
8=FIX.4.29=13635=f34=921049=FIXNETWORK52=20121010-05:02:01.62056=NEOBSS55=EEE60=20121010-05:02:00.287207=XXXX20067=CT20068=N20069=Y20070=110=116
8=FIX.4.29=13635=f34=921149=FIXNETWORK52=20121010-05:02:01.62156=NEOBSS55=GGG60=20121010-05:02:00.287207=XXXX20067=CT20068=N20069=Y20070=110=099
8=FIX.4.29=13735=f34=921249=FIXNETWORK52=20121010-05:02:01.68756=NEOBSS55=MMMM60=20121010-05:02:00.288207=XXXX20067=CT20068=N20069=Y20070=110=190
8=FIX.4.29=13735=f34=921349=FIXNETWORK52=20121010-05:02:01.94356=NEOBSS55=NNNN60=20121010-05:02:00.288207=XXXX20067=CT20068=N20069=Y20070=210=188
8=FIX.4.29=13735=f34=921449=FIXNETWORK52=20121010-05:02:02.18356=NEOBSS55=NNNN60=20121010-05:02:00.288207=XXXX20067=CT20068=N20069=Y20070=110=185
8=FIX.4.29=29835=834=921549=FIXNETWORK52=20121010-05:02:04.19356=NEOBSS1=ROCIM006=6.2800002098083511=N117204414=50017=N2012101089650000008400020=031=6.2832=50037=N117204438=1000039=144=6.2854=155=0198860=20121010-05:02:03.945150=1151=950020036=NEO117204420059=896520060=638920064=13020410=039
8=FIX.4.29=7335=A34=63349=NEOBSS52=20121010-05:02:13.61656=FIXNETWORK98=0108=3010=051
8=FIX.4.29=7435=A34=921749=FIXNETWORK52=20121010-05:02:13.61756=NEOBSS98=0108=3010=108
8=FIX.4.29=13735=f34=921849=FIXNETWORK52=20121010-05:02:13.61956=NEOBSS55=NNNN60=20121010-05:02:00.288207=XXXX20067=CT20068=N20069=Y20070=110=195
8=FIX.4.29=13735=f34=921949=FIXNETWORK52=20121010-05:02:13.62056=NEOBSS55=MMMM60=20121010-05:02:00.288207=XXXX20067=CT20068=N20069=Y20070=110=187
8=FIX.4.29=13635=f34=922049=FIXNETWORK52=20121010-05:02:15.53756=NEOBSS55=EEE60=20121010-05:02:15.290207=XXXX20067=CT20068=N20069=Y20070=110=129
8=FIX.4.29=13635=f34=922149=FIXNETWORK52=20121010-05:02:15.75756=NEOBSS55=EEE60=20121010-05:02:15.290207=XXXX20067=CT20068=N20069=Y20070=210=135
8=FIX.4.29=13635=f34=922249=FIXNETWORK52=20121010-05:02:15.97756=NEOBSS55=GGG60=20121010-05:02:15.290207=XXXX20067=CT20068=N20069=Y20070=210=121
8=FIX.4.29=13735=f34=922349=FIXNETWORK52=20121010-05:02:16.20156=NEOBSS55=MMMM60=20121010-05:02:15.290207=XXXX20067=CT20068=N20069=Y20070=210=180
8=FIX.4.29=13635=f34=922449=FIXNETWORK52=20121010-05:02:16.40256=NEOBSS55=GGG60=20121010-05:02:15.290207=XXXX20067=CT20068=N20069=Y20070=110=106
8=FIX.4.29=13735=f34=922549=FIXNETWORK52=20121010-05:02:16.60956=NEOBSS55=MMMM60=20121010-05:02:15.291207=XXXX20067=CT20068=N20069=Y20070=110=194
8=FIX.4.29=13735=f34=922649=FIXNETWORK52=20121010-05:02:16.84156=NEOBSS55=NNNN60=20121010-05:02:15.291207=XXXX20067=CT20068=N20069=Y20070=210=195
8=FIX.4.29=13735=f34=922749=FIXNETWORK52=20121010-05:02:17.07756=NEOBSS55=NNNN60=20121010-05:02:15.291207=XXXX20067=CT20068=N20069=Y20070=110=197
8=FIX.4.29=7335=A34=63449=NEOBSS52=20121010-05:02:25.61256=FIXNETWORK98=0108=3010=051
8=FIX.4.29=7435=A34=922849=FIXNETWORK52=20121010-05:02:25.61356=NEOBSS98=0108=3010=109
8=FIX.4.29=13735=f34=922949=FIXNETWORK52=20121010-05:02:25.61556=NEOBSS55=NNNN60=20121010-05:02:15.291207=XXXX20067=CT20068=N20069=Y20070=110=196
8=FIX.4.29=13735=f34=923049=FIXNETWORK52=20121010-05:02:25.61656=NEOBSS55=MMMM60=20121010-05:02:15.291207=XXXX20067=CT20068=N20069=Y20070=110=188
8=FIX.4.29=13635=f34=923149=FIXNETWORK52=20121010-05:02:25.61656=NEOBSS55=EEE60=20121010-05:02:15.290207=XXXX20067=CT20068=N20069=Y20070=210=131
8=FIX.4.29=13635=f34=923249=FIXNETWORK52=20121010-05:02:25.61756=NEOBSS55=GGG60=20121010-05:02:15.290207=XXXX20067=CT20068=N20069=Y20070=110=113
8=FIX.4.29=29835=834=923349=FIXNETWORK52=20121010-05:02:26.22056=NEOBSS1=ROCIM006=6.2800002098083511=N117204414=1000017=N2012101089650000008600020=031=6.2832=900037=N117204438=1000039=244=6.2854=155=0198860=20121010-05:02:25.969150=2151=020036=NEO117204420059=896520060=241720064=13022610=026
8=FIX.4.29=13635=f34=923449=FIXNETWORK52=20121010-05:02:30.55256=NEOBSS55=EEE60=20121010-05:02:30.293207=XXXX20067=CT20068=N20069=Y20070=110=128
8=FIX.4.29=13635=f34=923549=FIXNETWORK52=20121010-05:02:30.77356=NEOBSS55=EEE60=20121010-05:02:30.293207=XXXX20067=CT20068=N20069=Y20070=210=135
8=FIX.4.29=13635=f34=923649=FIXNETWORK52=20121010-05:02:31.00156=NEOBSS55=GGG60=20121010-05:02:30.293207=XXXX20067=CT20068=N20069=Y20070=110=101
8=FIX.4.29=13635=f34=923749=FIXNETWORK52=20121010-05:02:31.23856=NEOBSS55=GGG60=20121010-05:02:30.293207=XXXX20067=CT20068=N20069=Y20070=210=115
8=FIX.4.29=13735=f34=923849=FIXNETWORK52=20121010-05:02:31.46956=NEOBSS55=MMMM60=20121010-05:02:30.293207=XXXX20067=CT20068=N20069=Y20070=110=198
8=FIX.4.29=13735=f34=923949=FIXNETWORK52=20121010-05:02:31.71856=NEOBSS55=MMMM60=20121010-05:02:30.293207=XXXX20067=CT20068=N20069=Y20070=210=197
8=FIX.4.29=13735=f34=924049=FIXNETWORK52=20121010-05:02:31.95356=NEOBSS55=NNNN60=20121010-05:02:30.294207=XXXX20067=CT20068=N20069=Y20070=110=191
8=FIX.4.29=13735=f34=924149=FIXNETWORK52=20121010-05:02:32.20656=NEOBSS55=NNNN60=20121010-05:02:30.294207=XXXX20067=CT20068=N20069=Y20070=210=185
8=FIX.4.29=7335=A34=63549=NEOBSS52=20121010-05:02:36.61656=FIXNETWORK98=0108=3010=058
8=FIX.4.29=7435=A34=924249=FIXNETWORK52=20121010-05:02:36.61756=NEOBSS98=0108=3010=111
8=FIX.4.29=13735=f34=924349=FIXNETWORK52=20121010-05:02:36.61956=NEOBSS55=NNNN60=20121010-05:02:30.294207=XXXX20067=CT20068=N20069=Y20070=210=199 
```

接受者消息日志：

```
8=FIX.4.29=7035=134=62749=NEOBSS52=20121010-05:00:46.61256=FIXNETWORK112=TEST10=028
8=FIX.4.29=7135=034=915149=FIXNETWORK52=20121010-05:00:46.61356=NEOBSS112=TEST10=078
8=FIX.4.29=13735=f34=915249=FIXNETWORK52=20121010-05:00:46.67856=NEOBSS55=MMMM60=20121010-05:00:45.274207=XXXX20067=CT20068=N20069=Y20070=110=202
8=FIX.4.29=13735=f34=915349=FIXNETWORK52=20121010-05:00:46.89756=NEOBSS55=NNNN60=20121010-05:00:45.274207=XXXX20067=CT20068=N20069=Y20070=110=207
8=FIX.4.29=13735=f34=915449=FIXNETWORK52=20121010-05:00:47.13056=NEOBSS55=NNNN60=20121010-05:00:45.274207=XXXX20067=CT20068=N20069=Y20070=210=190
8=FIX.4.29=13635=f34=915549=FIXNETWORK52=20121010-05:01:00.52256=NEOBSS55=EEE60=20121010-05:01:00.276207=XXXX20067=CT20068=N20069=Y20070=210=121
8=FIX.4.29=13635=f34=915649=FIXNETWORK52=20121010-05:01:00.74656=NEOBSS55=EEE60=20121010-05:01:00.276207=XXXX20067=CT20068=N20069=Y20070=110=129
8=FIX.4.29=13635=f34=915749=FIXNETWORK52=20121010-05:01:00.97956=NEOBSS55=GGG60=20121010-05:01:00.276207=XXXX20067=CT20068=N20069=Y20070=210=120
8=FIX.4.29=13635=f34=915849=FIXNETWORK52=20121010-05:01:01.20256=NEOBSS55=GGG60=20121010-05:01:00.276207=XXXX20067=CT20068=N20069=Y20070=110=100
8=FIX.4.29=13735=f34=915949=FIXNETWORK52=20121010-05:01:01.43856=NEOBSS55=MMMM60=20121010-05:01:00.276207=XXXX20067=CT20068=N20069=Y20070=210=190
8=FIX.4.29=13735=f34=916049=FIXNETWORK52=20121010-05:01:01.65956=NEOBSS55=MMMM60=20121010-05:01:00.276207=XXXX20067=CT20068=N20069=Y20070=110=186
8=FIX.4.29=13735=f34=916149=FIXNETWORK52=20121010-05:01:01.87956=NEOBSS55=NNNN60=20121010-05:01:00.276207=XXXX20067=CT20068=N20069=Y20070=210=193
8=FIX.4.29=13735=f34=916249=FIXNETWORK52=20121010-05:01:02.09556=NEOBSS55=NNNN60=20121010-05:01:00.276207=XXXX20067=CT20068=N20069=Y20070=110=184
8=FIX.4.29=7335=A34=62849=NEOBSS52=20121010-05:01:14.71356=FIXNETWORK98=0108=3010=053
8=FIX.4.29=7435=A34=916349=FIXNETWORK52=20121010-05:01:14.71656=NEOBSS98=0108=3010=108
8=FIX.4.29=13735=f34=916449=FIXNETWORK52=20121010-05:01:14.71856=NEOBSS55=NNNN60=20121010-05:01:00.276207=XXXX20067=CT20068=N20069=Y20070=110=191
8=FIX.4.29=13735=f34=916549=FIXNETWORK52=20121010-05:01:14.71956=NEOBSS55=MMMM60=20121010-05:01:00.276207=XXXX20067=CT20068=N20069=Y20070=110=192
8=FIX.4.29=13635=f34=916649=FIXNETWORK52=20121010-05:01:14.72056=NEOBSS55=EEE60=20121010-05:01:00.276207=XXXX20067=CT20068=N20069=Y20070=110=127
8=FIX.4.29=13635=f34=916749=FIXNETWORK52=20121010-05:01:14.72156=NEOBSS55=GGG60=20121010-05:01:00.276207=XXXX20067=CT20068=N20069=Y20070=110=110
8=FIX.4.29=13635=f34=916849=FIXNETWORK52=20121010-05:01:15.61256=NEOBSS55=EEE60=20121010-05:01:15.279207=XXXX20067=CT20068=N20069=Y20070=110=139
8=FIX.4.29=13635=f34=916949=FIXNETWORK52=20121010-05:01:15.83256=NEOBSS55=GGG60=20121010-05:01:15.279207=XXXX20067=CT20068=N20069=Y20070=110=125
8=FIX.4.29=13635=f34=917049=FIXNETWORK52=20121010-05:01:16.06256=NEOBSS55=EEE60=20121010-05:01:15.279207=XXXX20067=CT20068=N20069=Y20070=210=133
8=FIX.4.29=13735=f34=917149=FIXNETWORK52=20121010-05:01:16.28456=NEOBSS55=MMMM60=20121010-05:01:15.279207=XXXX20067=CT20068=N20069=Y20070=110=197
8=FIX.4.29=13735=f34=917249=FIXNETWORK52=20121010-05:01:16.50456=NEOBSS55=NNNN60=20121010-05:01:15.279207=XXXX20067=CT20068=N20069=Y20070=110=194
8=FIX.4.29=13635=f34=917349=FIXNETWORK52=20121010-05:01:16.74256=NEOBSS55=GGG60=20121010-05:01:15.279207=XXXX20067=CT20068=N20069=Y20070=210=122
8=FIX.4.29=13735=f34=917449=FIXNETWORK52=20121010-05:01:16.98256=NEOBSS55=MMMM60=20121010-05:01:15.279207=XXXX20067=CT20068=N20069=Y20070=210=206
8=FIX.4.29=13735=f34=917549=FIXNETWORK52=20121010-05:01:17.24656=NEOBSS55=NNNN60=20121010-05:01:15.279207=XXXX20067=CT20068=N20069=Y20070=210=202
8=FIX.4.29=7335=A34=62949=NEOBSS52=20121010-05:01:26.61356=FIXNETWORK98=0108=3010=056
8=FIX.4.29=7435=A34=917649=FIXNETWORK52=20121010-05:01:26.61556=NEOBSS98=0108=3010=113
8=FIX.4.29=13735=f34=917749=FIXNETWORK52=20121010-05:01:26.61756=NEOBSS55=NNNN60=20121010-05:01:15.279207=XXXX20067=CT20068=N20069=Y20070=210=206
8=FIX.4.29=13735=f34=917849=FIXNETWORK52=20121010-05:01:26.61856=NEOBSS55=MMMM60=20121010-05:01:15.279207=XXXX20067=CT20068=N20069=Y20070=210=207
8=FIX.4.29=13635=f34=917949=FIXNETWORK52=20121010-05:01:26.61956=NEOBSS55=EEE60=20121010-05:01:15.279207=XXXX20067=CT20068=N20069=Y20070=210=151
8=FIX.4.29=13635=f34=918049=FIXNETWORK52=20121010-05:01:26.61956=NEOBSS55=GGG60=20121010-05:01:15.279207=XXXX20067=CT20068=N20069=Y20070=210=124
8=FIX.4.29=13635=f34=918149=FIXNETWORK52=20121010-05:01:30.53056=NEOBSS55=EEE60=20121010-05:01:30.281207=XXXX20067=CT20068=N20069=Y20070=110=120
8=FIX.4.29=13635=f34=918249=FIXNETWORK52=20121010-05:01:30.77156=NEOBSS55=EEE60=20121010-05:01:30.281207=XXXX20067=CT20068=N20069=Y20070=210=129
8=FIX.4.29=13635=f34=918349=FIXNETWORK52=20121010-05:01:31.00756=NEOBSS55=GGG60=20121010-05:01:30.282207=XXXX20067=CT20068=N20069=Y20070=110=104
8=FIX.4.29=13635=f34=918449=FIXNETWORK52=20121010-05:01:31.24856=NEOBSS55=GGG60=20121010-05:01:30.282207=XXXX20067=CT20068=N20069=Y20070=210=113
8=FIX.4.29=13735=f34=918549=FIXNETWORK52=20121010-05:01:31.48656=NEOBSS55=MMMM60=20121010-05:01:30.282207=XXXX20067=CT20068=N20069=Y20070=110=194
8=FIX.4.29=13735=f34=918649=FIXNETWORK52=20121010-05:01:31.70656=NEOBSS55=MMMM60=20121010-05:01:30.282207=XXXX20067=CT20068=N20069=Y20070=210=191
8=FIX.4.29=13735=f34=918749=FIXNETWORK52=20121010-05:01:31.92056=NEOBSS55=NNNN60=20121010-05:01:30.282207=XXXX20067=CT20068=N20069=Y20070=110=190
8=FIX.4.29=13735=f34=918849=FIXNETWORK52=20121010-05:01:32.13456=NEOBSS55=NNNN60=20121010-05:01:30.282207=XXXX20067=CT20068=N20069=Y20070=210=190
8=FIX.4.29=7335=A34=63049=NEOBSS52=20121010-05:01:37.61756=FIXNETWORK98=0108=3010=054
8=FIX.4.29=7435=A34=918949=FIXNETWORK52=20121010-05:01:37.61856=NEOBSS98=0108=3010=122
8=FIX.4.29=13735=f34=919049=FIXNETWORK52=20121010-05:01:37.62056=NEOBSS55=NNNN60=20121010-05:01:30.282207=XXXX20067=CT20068=N20069=Y20070=210=188
8=FIX.4.29=13735=f34=919149=FIXNETWORK52=20121010-05:01:37.62156=NEOBSS55=MMMM60=20121010-05:01:30.282207=XXXX20067=CT20068=N20069=Y20070=210=189
8=FIX.4.29=13635=f34=919249=FIXNETWORK52=20121010-05:01:37.62256=NEOBSS55=EEE60=20121010-05:01:30.281207=XXXX20067=CT20068=N20069=Y20070=210=132
8=FIX.4.29=13635=f34=919349=FIXNETWORK52=20121010-05:01:37.62356=NEOBSS55=GGG60=20121010-05:01:30.282207=XXXX20067=CT20068=N20069=Y20070=210=116
8=FIX.4.29=13635=f34=919449=FIXNETWORK52=20121010-05:01:45.55556=NEOBSS55=EEE60=20121010-05:01:45.284207=XXXX20067=CT20068=N20069=Y20070=110=146
8=FIX.4.29=13635=f34=919549=FIXNETWORK52=20121010-05:01:45.77556=NEOBSS55=EEE60=20121010-05:01:45.284207=XXXX20067=CT20068=N20069=Y20070=210=152
8=FIX.4.29=13635=f34=919649=FIXNETWORK52=20121010-05:01:45.98356=NEOBSS55=GGG60=20121010-05:01:45.286207=XXXX20067=CT20068=N20069=Y20070=110=136
8=FIX.4.29=13635=f34=919749=FIXNETWORK52=20121010-05:01:46.21556=NEOBSS55=GGG60=20121010-05:01:45.286207=XXXX20067=CT20068=N20069=Y20070=210=127
8=FIX.4.29=13735=f34=919849=FIXNETWORK52=20121010-05:01:46.43956=NEOBSS55=MMMM60=20121010-05:01:45.287207=XXXX20067=CT20068=N20069=Y20070=110=213
8=FIX.4.29=13735=f34=919949=FIXNETWORK52=20121010-05:01:46.67256=NEOBSS55=MMMM60=20121010-05:01:45.287207=XXXX20067=CT20068=N20069=Y20070=210=214
8=FIX.4.29=13735=f34=920049=FIXNETWORK52=20121010-05:01:46.89656=NEOBSS55=NNNN60=20121010-05:01:45.287207=XXXX20067=CT20068=N20069=Y20070=110=205
8=FIX.4.29=13735=f34=920149=FIXNETWORK52=20121010-05:01:47.14356=NEOBSS55=NNNN60=20121010-05:01:45.287207=XXXX20067=CT20068=N20069=Y20070=210=193
8=FIX.4.29=7335=A34=63149=NEOBSS52=20121010-05:01:49.61756=FIXNETWORK98=0108=3010=058
8=FIX.4.29=7435=A34=920249=FIXNETWORK52=20121010-05:01:49.61856=NEOBSS98=0108=3010=111 
```

**消息日志显示客户端登录频繁，为什么？**

# c# - 查询时使用 linq 更新 Xml 不起作用

> ID：12816102
> 
> 赞同：1
> 
> 时间：2012-10-10T09:27:10.940
> 
> 标签：c#, xml, linq

我有问题我正在尝试使用 linq 查询更新 XML 的特定部分，但它不起作用。所以我是一个xml文件：

```
<?xml version="1.0" encoding="utf-8"?>
<DesignConfiguration>
  <Design name="CSF_Packages">
    <SourceFolder>C:\CSF_Packages</SourceFolder>
    <DestinationFolder>C:\Documents and Settings\xxx</DestinationFolder>
    <CopyLookups>True</CopyLookups>
    <CopyImages>False</CopyImages>
    <ImageSourceFolder>None</ImageSourceFolder>
    <ImageDesinationFolder>None</ImageDesinationFolder>
  </Design>
</DesignConfiguration> 
```

我想选择该部分所在的部分`Design name="somethning"`并获取后代，然后更新表示该部分的后代值：

```
 <SourceFolder>C:\CSF_Packages</SourceFolder>
    <DestinationFolder>C:\Documents and Settings\xxx</DestinationFolder>
    <CopyLookups>True</CopyLookups>
    <CopyImages>False</CopyImages>
    <ImageSourceFolder>None</ImageSourceFolder>
    <ImageDesinationFolder>None</ImageDesinationFolder> 
```

我有这个代码：

```
 XDocument configXml = XDocument.Load(configXMLFileName);

        var updateData = configXml.Descendants("DesignConfiguration").Elements().Where(el => el.Name == "Design" &&
            el.Attribute("name").Value.Equals("CSF_Packages")).FirstOrDefault();

        configXml.Save(configXMLFileName); 
```

我在变量中获取空数据`updateData`。当我通过 QuickWatch 尝试 Descendat 的功能时，它也返回一个空值。当我检查 configXML 变量时，它的数据就是我的整个 xml。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T09:56:02.170

```
XDocument xml = XDocument.Load("");

XElement settings = (from children in xml.Descendants("DesignConfiguration")
                        where children.Name.Equals("Design") && children.Attribute("name").Equals("CSF_Packages")
                        select children).FirstOrDefault();

settings.Element("SourceFolder").SetValue("filepath");
settings.Element("CopyImages").SetValue(true); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-16T13:58:52.427

好的，所以我已经设法解决了这个问题。我不知道为什么，但它奏效了。似乎 Descendants 函数返回 null 作为独立函数，但使用 linq 它可以工作。所以对于我的解决方案，唯一应该做的是：

```
 var updateData = (from s in configXml.Descendants("Design") 
                   where s.Attribute("name").Value == design.DesignName 
                  select s).First(); 
```

起初，在我向您发送我的问题之前，我已经尝试过这个，但我没有 select 部分。此外，当我在大括号中写入 where s.Atribute 部分时，我插入了 design.DesignName 对象而不是属性名称。所以不，它工作正常。感谢您的帮助和一切。直到下一次。大家有一个美好的白天/黑夜:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T09:31:52.570

尝试这个：

```
var updateData = 
    confixXml
    .Root                     //Root Element
    .Elements("Design")       //All elements under root called Design
    .Where(element => (String)element.Attribute("name") == "AFP_GRAFIKA") //Find the one with the name Attribute of AFP_GRAFIKA
    .FirstOrDefault();        //Grab the first one it finds or return null.

if (updateData != null)
{
    var myElements = 
        updateData
        .Elements();          //All the elements under the Design node
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-16T15:11:06.583

因为 DesignConfiguration 是您的根节点，所以 Descendants("DesignConfiguration) 返回 null。通过使用 .Descendants("Design")，您查看的是子节点，而不是自身。

# java - 从 Tomcat 应用程序中不同侦听器之间的上下文中获取属性

> ID：12816104
> 
> 赞同：1
> 
> 时间：2012-10-10T09:27:13.813
> 
> 标签：java, tomcat, listener, servletcontextlistener

我有一个 Tomcat 7 webapp，其中有两个不同的`ServletContextListener`.

例子：

**听众 A**

```
public class ListenerA implements ServletContextListener {

    public void contextInitialized(ServletContextEvent sce){

        ObjectA objectA = new ObjectA();
        context.setAttribute("objectA", objectA);
    }

    ...

} 
```

**听众乙**

```
public class ListenerB implements ServletContextListener {

    public void contextInitialized(ServletContextEvent sce){

        ObjectB objectB = new ObjectB();
        context.setAttribute("objectB", objectB);
    }

    ...

} 
```

**web.xml**

```
...

<listener>
   <description>ListenerA</description>
   <listener-class>com.example.web</listener-class>
</listener>
<listener>
    <description>ListenerB</description>
    <listener-class>com.example.web</listener-class>
</listener>

... 
```

¿ 出现顺序是否`web.xml`会影响加载过程，或者它们是否加载到不同的线程中？

我想知道是否可以从 ListenerB 的上下文中获取 ObjectA。我总是可以将两个侦听器合并为一个唯一的侦听器，这样我就可以在同一个侦听器中同时拥有对象 A 和 B，但我想知道这是否可能。

我知道我可以选择`attributeAdded`从`ServletContextAttributeEvent`界面使用，但是，这是否足以完成工作，或者如果 ListenerB 在 ListenerA 之前加载，它会失败吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T08:43:53.530

好的，所以我终于在[这里找到了答案](https://stackoverflow.com/a/178849/294625)

> 所有 servlet 容器和 J2EE 容器都严格执行规范的这一部分。您可以依赖于侦听器按照您在 web.xml 中指定的顺序调用的事实。
> 
> 您可以拥有一个应用程序级别数据结构 (HashMap)，每个过滤器/侦听器在遇到来自请求的数据时都会对其进行更新。这将让每个 Listener 只更新必要的内容。您可以将公共代码放在基础侦听器中，这样就不会出现代码重复。

所以加载顺序严格由**web.xml中出现的顺序决定**

# objective-c - RestKit 加载 SQLite 数据

> ID：12816107
> 
> 赞同：2
> 
> 时间：2012-10-10T09:27:20.897
> 
> 标签：objective-c, restkit

我的想法是将一个现有的填充了数据的 sqlite 数据库加载到我的 RestKit 对象存储中。如果我执行以下操作，它会起作用并且我得到了数据。

```
RKURL *baseURL = [RKURL URLWithBaseURLString:@"http://www.myurl.com"];

RKObjectManager *objectManager = [RKObjectManager objectManagerWithBaseURL:baseURL];
objectManager.client.baseURL = baseURL;

RKManagedObjectStore* objectStore = [RKManagedObjectStore objectStoreWithStoreFilename:DB_FILENAME_SEED_DB usingSeedDatabaseName:DB_FILENAME_SEED_DB managedObjectModel:nil delegate:self];
objectManager.objectStore = objectStore; 
```

但我想要做的是稍后在一个方法中加载到商店，就像这样：

```
- (void)loadSeedDatabase
{
    [FileUtility deleteNormalDatabaseFile]; // do I have to do that?

    RKObjectManager *objectManager = [RKObjectManager sharedManager];

    RKManagedObjectStore* objectStore = [RKManagedObjectStore    objectStoreWithStoreFilename:DB_FILENAME usingSeedDatabaseName:DB_FILENAME managedObjectModel:   

    [[objectManager objectStore] managedObjectModel] delegate:self];

    objectManager.objectStore = objectStore;

} 
```

我不确定是否必须删除已经创建的本地 sqlite 数据库。如果我调用此方法，则本地数据库是正确的-我填充的 ​​sqlite 数据库就在那里。但是如果我做了一些获取请求，什么都不会回来。

安迪知道我必须改变什么或问题是什么？

# android - 如何确定下载的 HTML 源代码来自特定网站？

> ID：12816108
> 
> 赞同：1
> 
> 时间：2012-10-10T09:27:22.533
> 
> 标签：android, html, http, wifi

我有一项服务可以下载某个网站的 HTML 源代码，然后将其与之前从同一网站下载的源代码进行比较，以查看是否发生了任何更改。

我昨天遇到的问题：我在公共场所连接到 WiFi，我的服务开始下载代码，因为它没有显示没有连接。但是你首先必须在使用公共 WiFi 时登录，所以它被重定向到他们的登录页面，我的服务下载了登录页面的 HTML 代码。

我怎样才能确定得到我想要的网站的源代码？

这是源代码（顺便说一句，我将源代码转换为 md5 以便于比较，但这并不重要）：

```
public class DownloadHandler{

public String getMd5(String url){
    HttpClient client = new DefaultHttpClient();

    HttpGet request = new HttpGet(url);

    HttpResponse response = null;

    try {
        response = client.execute(request);
    } catch (ClientProtocolException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }

    InputStream in = null;
    try {
        in = response.getEntity().getContent();
    } catch (IllegalStateException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }

    BufferedReader reader = new BufferedReader(new InputStreamReader(in));

    StringBuilder str = new StringBuilder();
    String line = null;
    try {
        while ((line = reader.readLine()) != null) {
            str.append(line);
        }
    } catch (IOException e) {
        e.printStackTrace();
    }
    try {
        in.close();
    } catch (IOException e) {
        e.printStackTrace();
    }

    String HTML = str.toString();

    try {
        String md5 = stringToMd5(html);
        return md5;
    } catch (NoSuchAlgorithmException e) {
        e.printStackTrace();
        return null;
    }

}

public String stringToMd5(String s) throws NoSuchAlgorithmException {
    MessageDigest md5 = MessageDigest.getInstance("MD5");stringa
    md5.update(s.getBytes(), 0, s.length());
    String md5String = new BigInteger(1, md5.digest()).toString(16);
    return md5String;
} 
```

以及检查连接的功能：

```
boolean isNetworkAvailable() {
    ConnectivityManager connectivityManager = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);
    NetworkInfo activeNetworkInfo = connectivityManager
            .getActiveNetworkInfo();
    return activeNetworkInfo != null;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:10:34.573

您可以使用禁用重定向

```
HttpGet httpGet = new HttpGet("www.google.com");
HttpParams params = httpGet.getParams();
params.setParameter(ClientPNames.HANDLE_REDIRECTS, Boolean.FALSE);
httpGet.setParams(params); 
```

但是您仍然应该检查应该是 200 的 http 状态代码

```
HttpResponse httpResp = client.execute(response);
int code = httpResp.getStatusLine().getStatusCode(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:04:41.640

使用 SSL 访问网站并检查证书的身份。

# php - MySQL ON DUPLICATE KEY UPDATE 语法错误

> ID：12816117
> 
> 赞同：4
> 
> 时间：2012-10-10T09:27:44.063
> 
> 标签：php, mysql, sql, linux

我想知道是否有人可以在我的 sql 语句中发现任何错误。如果一个新记录不存在，我希望它在我的表中插入一条新记录。如果它确实存在，那么只需更新它。我在日期字段中的主键。

这是我在 php 中出现的声明以及我得到的错误：

```
INSERT INTO ExtraStats (date, supportStaff, startEmails, endEmails, emailsAnswered) VALUES ('$startDate', '$supportStaff', '$startEmail', '$endEmail', '$emailAnswered') ON DUPLICATE KEY UPDATE (supportStaff, startEmails, endEmails, emailsAnswered) VALUES ('$supportStaff', '$startEmail', '$endEmail', '$emailAnswered')

You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(supportStaff, startEmails, endEmails, emailsAnswered) VALUES ('2', '3', '1', '3' at line 1 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-10T09:28:21.197

```
INSERT INTO ExtraStats (
    DATE
    , supportStaff
    , startEmails
    , endEmails
    , emailsAnswered
    )
VALUES (
    '$startDate'
    , '$supportStaff'
    , '$startEmail'
    , '$endEmail'
    , '$emailAnswered'
    )
    ON DUPLICATE KEY

UPDATE 
        supportStaff = '$supportStaff'
        , startEmails = '$startEmail'
        , endEmails = '$endEmail'
        , emailsAnswered =  '$emailAnswered' 
```

您也可以使用该[`VALUES()`](http://dev.mysql.com/doc/refman/5.5/en/miscellaneous-functions.html#function_values)函数，这样您就不会两次传递值：

```
 ...
    ON DUPLICATE KEY    
UPDATE 
          supportStaff = VALUES(supportStaff)
        , startEmails = VALUES(startEmails)
        , endEmails = VALUES(endEmails)
        , emailsAnswered = VALUES(emailsAnswered) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T09:31:02.503

`date`是保留字，用反引号括起来：

```
INSERT INTO ExtraStats (`date`, supportStaff, startEmails, etc... 
```

此外，`ON DUPLICATE KEY UPDATE`应该是这样的：

```
ON DUPLICATE KEY UPDATE supportStaff = '$supportStaff', startEmails = '$startEmail', etc.. 
```

您可以查看[手册](http://dev.mysql.com/doc/refman/5.0/en/insert-on-duplicate.html)以获取其他示例。如果您还没有这样做，您还应该考虑对变量进行清理以避免 SQL 注入。

# iphone - UIAlertView 从 IOS 5 到 IOS 6 有什么区别。在我的 IOS 6 中，所有服务器端验证消息都不起作用

> ID：12816119
> 
> 赞同：0
> 
> 时间：2012-10-10T09:27:52.237
> 
> 标签：iphone, objective-c

UIAlertView 从 IOS 5 到 IOS 6 有什么区别。在我的 IOS 6 中，所有服务器端验证消息都不起作用..如果我们单击警报按钮应用程序崩溃。我需要帮助。

(lldb) bt:(在 bt 得到这个日志之后)

```
 * thread #1: tid = 0x1c03, 0x0294209b libobjc.A.dylib`objc_msgSend + 15, stop reason = EXC_BAD_ACCESS (code=1, address=0x80000008)
        frame #0: 0x0294209b libobjc.A.dylib`objc_msgSend + 15
        frame #1: 0x01fc9020 UIKit`-[UIAlertView(Private) _buttonClicked:] + 294
        frame #2: 0x02944705 libobjc.A.dylib`-[NSObject performSelector:withObject:withObject:] + 77
        frame #3: 0x01bd9920 UIKit`-[UIApplication sendAction:to:from:forEvent:] + 96
        frame #4: 0x01bd98b8 UIKit`-[UIApplication sendAction:toTarget:fromSender:forEvent:] + 61
        frame #5: 0x01c9a671 UIKit`-[UIControl sendAction:to:forEvent:] + 66
        frame #6: 0x01c9abcf UIKit`-[UIControl(Internal) _sendActionsForEvents:withEvent:] + 578
        frame #7: 0x01c99d38 UIKit`-[UIControl touchesEnded:withEvent:] + 546
        frame #8: 0x01c0933f UIKit`-[UIWindow _sendTouchesForEvent:] + 846
        frame #9: 0x01c09552 UIKit`-[UIWindow sendEvent:] + 273
        frame #10: 0x01be73aa UIKit`-[UIApplication sendEvent:] + 436
        frame #11: 0x01bd8cf8 UIKit`_UIApplicationHandleEvent + 9874
        frame #12: 0x035fedf9 GraphicsServices`_PurpleEventCallback + 339
        frame #13: 0x035fead0 GraphicsServices`PurpleEventCallback + 46
        frame #14: 0x02e89bf5 CoreFoundation`__CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__ + 53
        frame #15: 0x02e89962 CoreFoundation`__CFRunLoopDoSource1 + 146
        frame #16: 0x02ebabb6 CoreFoundation`__CFRunLoopRun + 2118
        frame #17: 0x02eb9f44 CoreFoundation`CFRunLoopRunSpecific + 276
        frame #18: 0x02eb9e1b CoreFoundation`CFRunLoopRunInMode + 123
        frame #19: 0x035fd7e3 GraphicsServices`GSEventRunModal + 88
        frame #20: 0x035fd668 GraphicsServices`GSEventRun + 104
        frame #21: 0x01bd665c UIKit`UIApplicationMain + 1211
        frame #22: 0x0000255d mobiletummy`main + 125 at main.m:14
        frame #23: 0x00002495 mobiletummy`start + 53 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T09:52:03.187

有同样的问题。在主线程上抛出 UIAlert 为我解决了这个问题。但是在您的日志堆栈上，您似乎已经是主线程之一。

# javascript - 如何访问 dojox 图表？

> ID：12816132
> 
> 赞同：1
> 
> 时间：2012-10-10T09:28:21.910
> 
> 标签：javascript, charts, dojo

如何访问 dojox 图表并将其作为 js 对象获取？在普通的 dijit 小部件中，它可以使用，`registry.byId("id")`但这不适用于 dojox 图表。

我也尝试过`dom.byId`，但我需要它作为调用函数的对象，而不是作为 dom 节点。

这是我的代码：

```
 <!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="dijit/themes/claro/claro.css">
<script>dojoConfig = {async: true}</script>
<script src="//ajax.googleapis.com/ajax/libs/dojo/1.8.0/dojo/dojo.js"></script>
<script>
require(["dojox/charting/Chart", "dojox/charting/axis2d/Default", "dojox/charting/plot2d/Lines", "dojox/charting/plot2d/Grid", "dojox/charting/themes/Claro", "dojo/ready"],
  function(Chart, Default, Lines, Grid, theme, ready){
  ready(function(){
    var chart1 = new Chart("chartId");
    chart1.setTheme(theme);
    chart1.addPlot("default", {type: Lines});
    chart1.addPlot("Grid", {type: "Grid"});
    chart1.addAxis("x",{}); 
    chart1.addAxis("y", {vertical: true});
    chart1.addSeries("Visits",[
        { x: 1, y: 200 },
        { x: 2, y: 185 },
        { x: 3, y: 100 },
        { x: 4, y: 110 },
        { x: 5, y: 130 },
        { x: 6, y: 70 },
        { x: 7, y: 30 },
        { x: 8, y: 200 }
    ]);

    chart1.render();
  });
});
require(["dojo/ready", "dijit/form/Button", "dojo/dom"], function(ready, Button, dom){
    ready(function(){
        var button = new Button({
            label: "Change my label"
        }, "buttonId");
    });
});

function tryToAccess()
{
    require(["dojo/ready", "dijit/registry", "dojo/dom"], function(ready, registry, dom){
        ready(function(){
            var button = registry.byId("buttonId");
            console.log(button); /*returns an object*/
            button.set("label","successfully changed!");

            /*var chart = ????????????????; */
        });
    });
}
</script>
</head>
<body class="claro">
<button id="buttonId"></button>
<div id="chartId" style="height: 300px;"></div>

<!-- JUST 4 DEBUGGING -->
<button onClick="tryToAccess();">try to access</button>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T18:16:39.123

dojox.charting.Chart 不是小部件，请尝试改用 dojox.charting.widget.Chart。我认为 registry.byId 可以解决这个问题。

```
var chart1_widget = new Chart({}, "chartId");
var chart1 = chart1_widget.chart;
chart1.setTheme(theme);
... 
```

# cuda - 用于内循环的 CUDA 线程

> ID：12816137
> 
> 赞同：0
> 
> 时间：2012-10-10T09:28:45.200
> 
> 标签：cuda, gpu, gpgpu, nvidia

我有这个内核

```
__global__ void kernel1(int keep, int include, int width, int* d_Xco, 
              int* d_Xnum, bool* d_Xvalid, float* d_Xblas)
{

  int i, k;  
  i = threadIdx.x + blockIdx.x * blockDim.x;

  if(i < keep){

    for(k = 0; k < include ; k++){

      int val = (d_Xblas[i*include + k] >= 1e5);
      int aux = d_Xnum[i];

      d_Xblas[i*include + k] *= (!val);
      d_Xco[i*width + aux] = k;
      d_Xnum[i] +=val;
      d_Xvalid[i*include + k] = (!val);
    }
  }
} 
```

推出与

```
int keep = 9000;
int include = 23000;
int width = 0.2*include;

int threads = 192;
int blocks = keep+threads-1/threads;
kernel1 <<< blocks,threads  >>>( keep, include, width,
                                 d_Xco, d_Xnum, d_Xvalid, d_Xblas ); 
```

这`kernel1`工作正常，但显然没有完全优化。我认为消除内部循环会很简单，`k`但由于某种原因它不能正常工作。我的第一个想法是：

```
__global__ void kernel2(int keep, int include, int width, 
               int* d_Xco, int* d_Xnum, bool* d_Xvalid, 
               float* d_Xblas)
{

  int i, k;  
  i = threadIdx.x + blockIdx.x * blockDim.x;
  k = threadIdx.y + blockIdx.y * blockDim.y;

  if((i < keep)  && (k < include) ) {

      int val = (d_Xblas[i*include + k] >= 1e5);
      int aux = d_Xnum[i];
      d_Xblas[i*include + k] *= (float)(!val);
      d_Xco[i*width + aux] = k;
      atomicAdd(&d_Xnum[i], val);
      d_Xvalid[i*include + k] = (!val);
  }
} 
```

使用 2D 网格启动：

```
int keep = 9000;
int include = 23000;
int width = 0.2*include;

int th = 32;
dim3 threads(th,th);
dim3 blocks ((keep+threads.x-1)/threads.x, (include+threads.y-1)/threads.y);
kernel2 <<< blocks,threads >>>( keep, include, width, d_Xco, d_Xnum, 
                               d_Xvalid, d_Xblas ); 
```

虽然我相信这个想法很好，但它不起作用，我的想法已经用完了。你能帮帮我吗？我还认为问题可能在于`d_Xco`将位置存储`k`在较小的数组中并将它们推到数组的开头，因此顺序很重要。

```
d_Xco
-------------------------------
| 2|3 |15 |4 |5 |5 | | | | | | .......
------------------------------- 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T11:53:01.293

在原始代码中，您有

```
for(k = 0; k < include ; k++){
  ...
  int aux = d_Xnum[i];
  ...
  d_Xco[i*width + aux] = k;
  ...
} 
```

数组的索引`d_Xco`不依赖于`k`，因此每次迭代都写入它是多余的。最终值将始终为`include-1`。因此，将循环内的这两行替换为循环*外*的`k`一行：*`k`*

 *```
 d_Xco[i*width + d_Xnum[i]] = include - 1; 
```

一旦你这样做了，当你并行化循环时，当许多线程同时将不同的值分配给同一位置时，`k`你将不再有当前的竞争条件（不保证排序）。`k``d_Xco`*

# javascript - 随机选择模态对话框 onclick

> ID：12816140
> 
> 赞同：0
> 
> 时间：2012-10-10T09:29:05.897
> 
> 标签：javascript, html

我正在尝试随机选择模式对话框并在特定数量的点击后结束。

我是 javascript 的新手，这就是我到目前为止所得到的。

```
<script type="text/javascript">
var randomNumber = Math.round(Math.random()*4+1);
function myclick(){

if (randomNumber == 1) {
    $("#q1").click();
}

if (randomNumber == 2) {
    $("#q2").click();
}

if (randomNumber == 3) {
    $("#q3").click();
}

if (randomNumber == 4) {
    $("#q4").click();
}
}
</script>

<body>
<a id="q1" href="#dialog1" name="modal" image=></a>
<a id="q2" href="#dialog2" name="modal" image=></a>
<a id="q3" href="#dialog3" name="modal" image=></a>
<a id="q4" href="#dialog4" name="modal" image=></a> 
```

更新！！！！！！！！！！！！！！！！！！！！！！！！感谢您的快速回复。

很抱歉没有包含所有脚本。

```
<script type="text/javascript" src="jquery.1.8.2.js"></script>
<script>

var randomNumber = Math.floor(Math.random()*4+1);

function myclick(){
if (randomNumber == 1) {
    $("#q1").click()
}
else if (randomNumber == 2) {
    $("#q2").click()
}
else if (randomNumber == 3) {
    $("#q3").click()
}
else if (randomNumber == 4) {
    $("#q4").click()
}
}
</script>

<BODY>

<h3>Web Design Quiz</h3>
<form name="quiz">
<a id="q1" href="#dialog1" name="modal" image=></a>
<a id="q2" href="#dialog2" name="modal" image=></a>
<a id="q3" href="#dialog3" name="modal" image=></a>
<a id="q4" href="#dialog4" name="modal" image=></a>
<input type="button" src="img/info.png" onclick="myclick()"></input> 
```

我删除了关闭";" 在“Round”之后添加“else if”。我仍然一次只能打开 1 个对话框。我想通过单击按钮打开所有对话框并以最后一个结束。每次单击按钮时如何刷新我的随机数？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T09:34:30.280

尝试使用以下代码生成随机值：

```
Math.floor(Math.random() * 4) + 1 
```

你忘了关闭圆形块。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T09:40:16.537

好的，首先我希望您知道您正在使用 JQuery 并因此包含正确的脚本。就像是：

```
<script src="/Scripts/jquery-1.7.2.min.js" type="text/javascript"></script> 
```

接下来是问题列表：

*   你不关闭随机`Round`功能
*   您的随机数被设置为全局变量，并且只会设置一次（并且不会更改），但也许这是您的愿望。如果每次都需要它不同，则应考虑将其移动到`myclick`函数内部
*   您似乎没有在任何地方调用 myclick 函数，但也许这是内联完成的？
*   调用 JQuery`click`函数对于模拟点击并不理想。最好创建一个单独的函数来获取应该处理的 div 的选择器 id

**提示**：您可以通过自定义构建 JQuery 选择器来用更少的代码来做这种事情，这将节省您所有的 if 语句。就像是：

```
$("#q" + randomNumber).click(); 
```

此外，像这样使用多个 if 语句也应该使用该`else if`语句，因为在这种情况下，只有一个 if 语句可以成功

# ios - btRigidBody 物体在低速碰撞时表现异常

> ID：12816143
> 
> 赞同：1
> 
> 时间：2012-10-10T09:29:20.040
> 
> 标签：ios, collision-detection, game-physics, bulletphysics

我正在尝试在我的 iOS 游戏中使用 Bullet Physics。该引擎似乎已正确编译，因为演示工作正常。

在我的游戏中，我有玩家的船和一些敌船。它们被定义为 btRigidBody 对象和 btCollisionObjects，我使用 btSphereShapes 进行碰撞。

在“快”的速度下，碰撞似乎是明智的——事情发生了碰撞，没有什么事情会变得“奇怪”。如果速度非常慢并且玩家的船碰到了一个不动的物体，碰撞就会发生，但是玩家的船在接下来的几帧中以难以置信的速度移动，并且看起来距离碰撞的地方很远 - 完全不成比例它在撞击前的移动速度。

为了移动这些东西，我每帧都使用 setLinearVelocity()，勾选物理引擎，然后使用 getMotionState() 更新我拥有的渲染代码。

部分问题可能是我不太了解如何设置正确的质量或用于任何事情的最佳速度。我主要是坚持数字，看看会发生什么。

我应该以这种方式使用 Bullet，是否有任何确定物体质量的准则？（我是否正确地假设在碰撞中较重的物体会迫使较轻的物体移动更多）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T08:36:03.327

我还不是子弹方面的专家，但我不会使用`setLinearVelocity`. 这仅适用于初始状态，一旦进入世界，如果您想朝着正确的方向推动某件事，就给它一个冲动。这就像被一个看不见的物体击中一样，因此与其他碰撞完全兼容。每帧设置速度将完全覆盖物理引擎的计算。

我注意到，当两个物体重叠时，它们相互排斥的力与它们重叠的程度有关。我认为您的 setVelocity 方法导致对象重叠，然后物理引擎最终以不希望的方式解决了这个问题。

我正在制作一个太空船游戏，我会产生抵消当前运动方向的冲动，只要飞船尚未以我选择的最大速度移动，就会产生将其向新方向移动的冲动。

# bash - bash 脚本：如果循环条件为假，则不执行循环后的命令

> ID：12816151
> 
> 赞同：3
> 
> 时间：2012-10-10T09:29:34.217
> 
> 标签：bash, shell, while-loop, break

我的脚本 bash 中有一个奇怪的行为。当 while 条件为真时，脚本行为正确，但如果为假，则根本不执行循环后的命令并且脚本停止。循环后我的命令没有中断。我看不出问题出在哪里！欢迎任何帮助:) 提前致谢。

```
while  [ expression1 ] || [ expression2 ]  
do
            echo in the loop
            if  [ expression3 ] && [ expression4 ] ;
            then
                    commands..   
                    break;
            fi
            commands..
done
commands..
echo out from the loop 
```

真实代码：

```
start_t=`grep Start_t $job_template | awk -F= '{print $2}'`
current_date=`date +%s`
progress_t=`expr $current_date - $start_t`
exec_t=`grep Exec_t $job_template | awk -F= '{print $2}'`

running_state="r"
req_state $job_id # get the state 
xml_state=` grep "job_id=$job_id" $list_job_file | awk '{print $4}'`
while  [ $state = $running_state ] || [ $xml_state = "stoped" ]  
    do
            echo in the loop
            if  [ "$xml_state" = "running" ] && [ $progress_t  -gt $exec_t ] ;
            then
                    kill_job $job_id
                    update_status $job_template "killed"
                    echo The job is killed    
                    break;
            fi

            sleep $sleeping_t

            $req_state  $job_id # to update the state
            echo state $state
            xml_state=` grep "job_id=$job_id" $list_job_file | awk '{print $4}' `
            echo xml_state $xml_state
            start_t=`grep Start_t $job_template | awk -F= '{print $2}'`
            current_date=`date +%s`
            progress_t=`expr $current_date - $start_t`
    done
echo out from the loop
commands.. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T11:15:40.547

这个脚本有很多错误：

*   状态未初始化
*   由于测试是用单个右括号完成的，所以变量应该用双引号引起来避免 shell 扩展
*   似乎 req_state 是一个函数或一个命令，所以不能有前面`$`
*   将 grep 与 awk 一起使用是无用的：`grep Start_t $job_template | awk -F= '{print $2}'`并且`awk -F= '/Start_t/{print $2}' $job_template`会做同样的事情。

# asp.net - 创建一个asp.net webforms网站的流程是什么

> ID：12816152
> 
> 赞同：1
> 
> 时间：2012-10-10T09:29:36.793
> 
> 标签：asp.net

嗨，我最近开始学习 asp.net，我对何时应该创建样式表感到有些困惑。因为我主要完成客户端工作和一些基本的 PHP，所以我在这个过程中有点困惑。例如，当我收到一个 PSD 并且必须把它变成一个网站/网络应用程序我通常遵循以下步骤：

1.  将 PSD 转换为 HTML/CSS
2.  添加任何必要的 JavaScript/jQuery 代码
3.  添加任何必要的 PHP 代码（通常是这个表单验证）

这很有效，因为我总是更新我使用的标签以及我为它们设置的 Id 和类。在 asp.net webforms 中，我不能总是确定为各种控件生成的标签是什么，我也不能确定ID 因为从我看到的 asp.net 生成了一个更复杂的 ID 以确保该 id 是唯一的。Aldo 有一种方法来获取客户端 ID 我认为这在 css 文件中不起作用。这让我只知道我设置的类，我相信从编写干净的 HTML 的角度来看并不总是需要添加以便为页面创建样式。

所以我想知道的是用asp.net webfoms创建网站的过程是什么？

我应该什么时候开始为网站编写 CSS？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-10T09:46:58.663

您可以将控件上的 ClientID 属性设置为静态。这将删除附加到控件 ID 属性末尾的 asp.net 命名约定。

例如。

```
ClientIDMode="Static" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-10T09:40:55.073

取决于你的项目。如果它是一个小型项目并且你一个人在做，你可以在编写 ASP.Net 页面的同时编写 CSS。如果您是团队或更大公司的一员，则每个角色或开发工作流程可能会有不同的人员。

ASP.Net 网络表单在涉及 CSS 时并不以它的实用性而闻名。但最终，它都是 HTML。

`ClientIDMode="Static"`如果您确实需要完全控制您的 ID，您可以使用每个 ASP.Net 控件的属性。但是关于 ASP.Net webform 通常生成什么样的 HTML，我认为单独使用该`CssClass`属性没有问题。

就个人而言，使用 ASP.Net，我更喜欢工作流程：

1.  商业逻辑
2.  ASP.Net 页面和控件
3.  CSS 和设计

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-10T09:40:09.770

将 ClientID 模式设置为根据需要呈现：

[http://weblogs.asp.net/asptest/archive/2009/01/06/asp-net-4-0-clientid-overview.aspx](http://weblogs.asp.net/asptest/archive/2009/01/06/asp-net-4-0-clientid-overview.aspx)

设计周期类似。一个警告：您将最后创建服务器端代码，最后要做的是添加验证器，因为这使得基本测试更简单，尤其是。长表格。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-10T10:39:47.910

您还可以使用内联标签来获取客户端 ID：

例如：

```
<asp:textbox ID="txt_MyTextBox" runat="server" /> 
```

将呈现（例如）为：

```
<input type="text" id="page_someotherstuff_nextedctrl_txt_MyTextBox" /> 
```

那么，你怎么知道？

在 JavaScript 中，如果您需要验证可以使用的元素：

```
document.getElementById("<%= txt_MyTextBox.ClientID %>"); 
```

这会将客户端 ID 写入 HTML 部分 - 在后面的代码中，您可以按名称引用控件。

您唯一遇到的问题是尝试按 ID 分配 CSS，按类分配它与以前一样。

在 ASP.NET 中，您不需要使用内置的验证器进行表单验证，例如：

```
<asp:RequiredFieldValidator runat="server" ControlToValidate="txt_MyTextBox" ... /> 
```

如果您需要定制功能，您可以添加自定义验证器。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-10T11:31:17.090

ASP.NET 提供了一个统一的 Web 开发模型，其中包括构建企业级 Web 应用程序所需的服务。虽然 ASP.NET 在很大程度上与 Active Server Pages (ASP) 语法兼容，但它提供了一种新的编程模型和基础结构，允许您创建功能强大的新应用程序类。ASP.NET 是 .NET Framework 的一部分，允许您充分利用公共语言运行时的功能，例如类型安全、继承、语言互操作性和版本控制。

本节为您提供有关 ASP.NET 工作原理的概念性信息以及向您展示如何编写代码以充分利用这项新技术的强大功能的过程主题。

# field - WooCommerce 导出 CSV 文件

> ID：12816156
> 
> 赞同：1
> 
> 时间：2012-10-10T09:29:52.257
> 
> 标签：field, export-to-csv, woocommerce

我有兴趣从 WooCommerce 购买订单/客户 CSV 报告导出器插件。

谁能告诉我文件导出后会在文件中生成哪些字段并且这些字段可以编辑吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-17T00:00:50.877

导出订单时您有一些选择。您可以将所有项目都放在一列中，也可以将每个项目放在自己的行中。您可以按日期范围过滤导出，并且可以通过复选框选择要导出的订单状态。

如果您导出订单，每个项目在其自己的行中，您将拥有以下列：

> 订单 ID、日期、订单状态、运费、运费税、税金、购物车折扣、订单折扣、订单总额、付款方式、送货方式、帐单名字、帐单姓氏、帐单电子邮件、帐单电话、帐单地址 1、帐单地址2、Billing Post code, Billing City, Billing State, Billing Country, Billing Company, Shipping First Name, Shipping Last Name, Shipping Address 1, Shipping Address 2, Shipping Post code, Shipping City, Shipping State, Shipping Country, Shipping Company,客户备注、项目 SKU、项目名称、项目变化、项目数量、行价格

如果您导出客户端，您将获得以下列：

> ID、名字、姓氏、电子邮件、电话、地址、地址 2、邮政编码、城市、州、国家、公司

它们会导出为 CSV 文件，因此您可以使用 Microsoft Excel 等程序对其进行编辑。

# java - 尝试从 myeclipse 中的 servlet 连接到 mysql 时访问被拒绝

> ID：12816157
> 
> 赞同：0
> 
> 时间：2012-10-10T09:29:53.993
> 
> 标签：java, mysql, servlets

我正在尝试`servlet/mysql webapp`在我的`eclipse`. 当我尝试连接到`database`from a`servlet`时，出现以下错误：

```
org.apache.tomcat.dbcp.dbcp.SQLNestedException: Cannot create 
PoolableConnectionFactory (Access denied for user ''@'localhost' (using password: YES)) 
```

下面是我执行的脚本：

小服务程序：

```
import java.io.IOException;
import java.io.IOException;
import java.io.PrintWriter;
import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

import javax.annotation.Resource;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.sql.DataSource;

public class EmployeeServlet extends HttpServlet {
  private static final long serialVersionUID = 1L;

  @Resource(name = "jdbc/testDB")
    DataSource ds;

  public EmployeeServlet() {
    super();
  }

  public void doGet(HttpServletRequest request, HttpServletResponse response)
    throws ServletException, IOException {
    try {
      Connection con = ds.getConnection();

      Statement stmt = con.createStatement();
      String query = "select * from Employee";
      ResultSet rs = stmt.executeQuery(query);

      PrintWriter out = response.getWriter();
      response.setContentType("text/html");
      out.print("<center><h1>Employee Details</h1></center>");
      out.print("<html><body>");
      out.print("<table border=\"1\" cellspacing=10 cellpadding=5>");
      out.print("<tr><th>Employee ID</th>");
      out.print("<th>Employee Name</th>");
      out.print("<th>Salary</th>");
      out.print("<th>Department</th></tr>");

      while (rs.next()) {
        out.print("<tr>");
        out.print("<td>" + rs.getInt("emp_id") + "</td>");
        out.print("<td>" + rs.getString("emp_name") + "</td>");
        out.print("<td>" + rs.getDouble("salary") + "</td>");
        out.print("<td>" + rs.getString("dept_name") + "</td>");
        out.print("</tr>");
      }
      out.print("</table></body></html>");
    } catch (SQLException e) {
      e.printStackTrace();
    }
  }

  public void doPost(HttpServletRequest request, HttpServletResponse response)
    throws ServletException, IOException {
  }
} 
```

context.xml 文件的内容：

```
<?xml version="1.0" encoding="UTF-8"?>
<Context crossContext="true">
  <WatchedResource>WEB-INF/web.xml</WatchedResource>
  <Resource name="jdbc/testDB" auth="Container"
    type="javax.sql.DataSource"
    maxActive="100" maxIdle="30" maxWait="10000" 
    username="root" password="root"
    driverClassName="com.mysql.jdbc.Driver"
    url="jdbc:mysql://localhost/mysql">
</Context> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-12T05:27:42.643

如果您从远程客户端访问数据库，请使用 mysql 的`GRANT`查询授予您访问数据库的权限。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T09:46:19.707

尝试从任何其他工具/从命令提示符连接到 mysql，并使用您在代码中使用的所有信息连接到相同的。尝试在连接 url 中也包含端口。默认端口为 3306

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T09:42:36.567

url 中似乎缺少端口号：

```
jdbc:mysql://localhost:<port>/mysql 
```

# c# - 如何使用 Xaml 为 Windows8 应用程序创建母版页？

> ID：12816158
> 
> 赞同：3
> 
> 时间：2012-10-10T09:29:55.553
> 
> 标签：c#, xaml, windows-8, windows-runtime

我需要创建一个 Windows8 应用程序，但有多个元素，如进度条、相同的应用程序栏和其他反复使用的组件。在以前的应用程序中，我一直在每个页面中应用这些元素。有没有一些方法可以让我制作一个母版页并在每个页面中继承使用它。正如我们在 ASP.Net 中可以做的 Master page 概念？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T09:46:19.920

你必须处理框架：

```
<Page x:Name="MainPage">
  <Grid x:Name="LayoutRoot">
    <Frame x:Name="BasicLayout"/>
    <Frame x:Name="SpecificLayout"/>
  </Grid>
</Page> 
```

用于`BasicLayout`显示反复使用的组件。
用于`SpecificLayout`显示您的页面特定内容（因此您不直接从“主”导航`Frame`，而是从`SpecificLayout`其中导航）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-10-31T15:47:07.293

这是很好的教程如何为 Windows 8 应用程序创建母版页
[Windows 8 母版页教程](http://www.reflectionit.nl/Blog/2013/windows-8-xaml-tips-master-pages)

# nhibernate - nhibernate：从子查询中投影父级

> ID：12816160
> 
> 赞同：0
> 
> 时间：2012-10-10T09:29:58.410
> 
> 标签：nhibernate, queryover, nhibernate-projections

我有以下实体

```
public class ArticleCategory
{
  public int Id {get; set;}
  public string Name {get; set;}
  public IList<Article> Articles {get; set;}
}

public class Article
{
  public int Id {get; set;}
  public string Name {get; set;}
  public ArticleCategory Category {get; set;}
}

public class JobArticles
{
  public int Id {get; set;}
  public Job Job {get; set;}
  public decimal Price {get; set;}
  public Article Article {get; set;}
} 
```

如您所见，文章对分配给哪个 JobArticle 一无所知（不相关）

所以我需要做的是以下。获取作业 X 中存在 JobArticles 的每个 ArticleCategory。

最简单的方法是将 JobArticles 列表添加到文章实体。但我不确定这是否是最好的方法。

所以我尝试了相反的方法（从 JobArticle 到 ArticleCategory）。类似的东西

```
IQueryOver<JobArticle, JobArticle> q = DataSession.Current.QueryOver<JobArticle>();

        Article ArticleAlias = null;
        ArticleCategory ArticleCategoryAlias = null;

        q.JoinAlias(x => x.Article, () => ArticleAlias);
        q.JoinAlias(x => ArticleAlias.Category, () => ArticleCategoryAlias);
        q.Where(x => x.Job.Id == jobId);
        q.SelectList(list => list
            .Select(x => ArticleCategoryAlias)) 
```

这会导致 NULL-Reference 异常，因为`.Select(x => ArticleCategoryAlias)`

不知道怎么弄，希望能帮到你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T12:44:19.773

```
Article ArticleAlias = null;
ArticleCategory ArticleCategoryAlias = null;

var categories = DataSession.Current.QueryOver<ArticleCategory>()
    .WithSubquery.WhereProperty(x => x.Id).In(QueryOver.Of<JobArticle>()
        .JoinAlias(x => x.Article, () => ArticleAlias);
        .JoinAlias(x => ArticleAlias.Category, () => ArticleCategoryAlias);
        .Where(x => x.Job.Id == jobId);
        .Select(() => ArticleCategoryAlias.Id))
    .List(); 
```

# django - 如何缓存（select_related）根据参数唯一的相关模型？

> ID：12816161
> 
> 赞同：0
> 
> 时间：2012-10-10T09:30:04.170
> 
> 标签：django, django-models

我想要一个简单的东西：

```
class MyModel(models.Model):
    "
    month field is enforced to first day of month, so I
    can have an entry by user and by month only.
    "
    user = models.ForeignKey(User)
    month = models.DateField()
    field = models.IntegerField(default=0)
    is_ok = models.BooleanField(default=True)
    other_field = models.IntegerField(default=0)

    class Meta:
        unique_together = (("user", "month"),) 
```

所以我想为一个给定的月份预加载（就像 select_related 会做的那样）我的用户查询集条目。

```
# at the end it may for exemple be something like that....
user_with_related = User.a_related_manager.get_with_my_model_for_date(my_date)
for u in user_with_related:
    if not u.current_my_model:
        MyModel.create_for_user(u)
    elif not u.current_my_model.is_ok:
        u.current_my_model.rebuild()
 return render(request, "my_template.html", {"users": user_with_related}) 
```

并非每个用户都链接了给定月份的 MyModel 实例。

任何提示？

# c# - 无法从另一台计算机连接 sql server 2008

> ID：12816164
> 
> 赞同：1
> 
> 时间：2012-10-10T09:30:16.190
> 
> 标签：c#, winforms, sql-server-2008, connection-string

> **可能重复：**
> [System.Data.SqlClient.SqlException 网络相关或特定于实例的错误](https://stackoverflow.com/questions/10627159/system-data-sqlclient-sqlexception-a-network-related-or-instance-specific-error)

我在 c# 中有 winform 应用程序，它连接到我自己的数据库，它工作正常我当前的 sql 连接字符串是：

```
SqlConnection con = new SqlConnection("Data Source=ITPL_PC1;Initial Catalog=Data_Project;Persist Security Info=True;user id=sa;Password=insforia"); 
```

但是当我将此winform带到另一台计算机时它无法正常工作..然后我将连接字符串更改为：

```
SqlConnection con = new SqlConnection("Data Source=192.168.0.28\\ITPL_PC1;Initial Catalog=Data_Project;Persist Security Info=True;user id=sa;Password=insforia"); 
```

但它不工作......

我已经更改了远程访问 sql server 中的所有设置，但仍然显示错误

```
Sql Exception was unhandled 
A network-related or instance-specific error occurred while establishing a connection      to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: SQL Network Interfaces, error: 26 - Error Locating Server/Instance Specified) 
```

我的连接字符串错了吗？它应该是什么？

请帮帮我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T09:34:12.660

```
Data Source=ITPL_PC1 
```

标识名为的*服务器*`ITPL_PC1`。您正在连接到此服务器上的默认实例。

```
Data Source=192.168.0.28\ITPL_PC1 
```

标识在 IP 地址为192.168.0.28 的服务器上运行的*实例。*`ITPL_PC1`我们不知道该服务器的名称。

如果您要连接的实例是 上的默认实例`ITPL_PC1`，则第一个版本应该始终有效（前提`ITPL_PC1`是可以解析）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T09:54:41.243

Windows 安全可能会阻止访问。你可以试试下面的。1.在运行窗口中
输入，进入windows的服务管理控制台。 2\. 在显示的窗口中，您可以看到服务列表。从列表中找出。 3.右键单击并停止它。完成`services.msc`
`Base Filtering Engine`

经过大量谷歌搜索后，我已经解决了同样的问题。（对我来说，即使在从 sql 配置管理器启用 TCP/IP 后它也无法正常工作）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T09:38:25.383

```
 First you open SQL managnebt studio and connect to another pc sql server :

         Please follow bolew step :
            Strat -> program -> window sql server 2008 -> configuration tools 
            --> sql server Configuration manager -->
            Start sql server browser service
    -----------
    Next --->Sql serverNetework COnfiguration  --> Enable all Protocls and
    also Sql Native Client.. --> Enable all Protocls  then
    --------------
    reatsrt all service and connect to sql
-------------------------------------------------
If you get connection then SQL Database to connect database from visual studio from there to find connection string and copy and paste to connection string. 
```

# php - 如何将 PHP 变量的值传递给 Javascript 代码？

> ID：12816165
> 
> 赞同：0
> 
> 时间：2012-10-10T09:30:25.767
> 
> 标签：php, javascript, variables, youtube

我需要帮助将这个**$id**值放入下面的 javascript

PHP：

```
<?php

$id = NULL;
$username = 'YouTube';

$xml = simplexml_load_file(sprintf('http://gdata.youtube.com/feeds/base/users/%s/uploads?alt=rss&v=2&orderby=published', $username));

if ( ! empty($xml->channel->item[0]->link) )
{
  parse_str(parse_url($xml->channel->item[0]->link, PHP_URL_QUERY), $url_query);

  if ( ! empty($url_query['v']) )
    $id = $url_query['v'];
}

echo $id; // Outputs the video ID.
    ?> 
```

JS：需要**$id**值 ---> **'我需要将值放在此处'**

```
<script type="text/javascript">
   $('document').ready(function() {
    var options = { videoId: 'I need the value to go right here', start: 3 };
    $('#video1').tubular(options);
});
</script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T09:34:03.530

做这样的事情......

```
<script type="text/javascript">
   $('document').ready(function() {
    var options = { videoId: '<?php echo $id?>', start: 3 };
    $('#video1').tubular(options);
});
</script> 
```

但请确保您将此脚本包含在 php 文件中。

其他解决方案可能是使用 html 隐藏变量，并使用 js 访问该值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T09:33:47.753

通过使用

```
<script type="text/javascript">
  ....
</script> 
```

我了解您在视图中使用 javascript！那么为什么不这样做呢

```
var options = { videoId: '<?php echo $id; ?>', start: 3 }; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T09:37:43.827

利用

```
<script type="text/javascript">
 var id= '<?= $id; ?>';
</script> 
```

现在您可以在 javascript 中使用 id 变量

```
<script type="text/javascript">
   $('document').ready(function() {
    var options = { videoId: id, start: 3 }; // id variable which is filled by $ib variable of php
    $('#video1').tubular(options);
});
</script> 
```

# android - 向所有应用程序持有者发送数据的 Android 应用程序

> ID：12816167
> 
> 赞同：0
> 
> 时间：2012-10-10T09:30:29.440
> 
> 标签：android, database, notifications, information-retrieval

我有这个应用程序，它通知其注册用户关于某事的更新......但事情是我不知道如何将该数据作为通知发送给所有应用程序用户

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T09:40:07.393

要将数据作为通知发送给用户，您可以使用 Google Cloud Messaging (GCM)。

使用 GCM，用户可以在首次运行应用程序时自动向您注册。您将他们的唯一 ID 保存在某个数据库中，然后您可以使用这些 ID 将消息（数据）发送到 Google 服务器，然后将这些数据推送到 Android 设备。

要了解有关 GCM 以及如何实现它的更多信息，请查看 Android 开发者网站：http: [//developer.android.com/guide/google/gcm/index.html](http://developer.android.com/guide/google/gcm/index.html)

# android - 如何为 Galaxy S3 和 Nexus 7 创建不同的布局？

> ID：12816169
> 
> 赞同：5
> 
> 时间：2012-10-10T09:30:31.753
> 
> 标签：android, android-layout, android-screen

我创建了一个适用于 nexus 7 的 android 应用程序。在资源文件夹中，我为 Nexus 7" 选项卡创建了两个文件`layout`夹`layout-land`。为此，我使用`layout-large`&创建了资源内的文件夹`layout-large-land`。但是，这是问题所在。现在，对于 Nexus 7，`layout-large`文件夹中定义的布局也正在加载。如何停止这种情况？如何为 Nexus 7 创建不同的布局“标签和 Galaxy S3 手机？我已阅读[Supporting Multiple Screens](http://developer.android.com/intl/es/guide/practices/screens_support.html)文档。但我无法理解 Nexus 7 的屏幕尺寸是 1204 X 800 而三星 Galaxy S3 的屏幕尺寸是 720 X 1280。

如何为具有不同屏幕分辨率和显示尺寸的不同设备创建不同的布局？此外，根据设备大小，我想在我的应用程序中更改一些值。那怎么办？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-10T10:28:00.697

根据[支持的多屏](http://developer.android.com/guide/practices/screens_support.html)![在此处输入图像描述](../Images/1f61927a62bd040aac9d83ca80740976.png)

限定符如`small`,`normal`和is for `large`，这意味着 Nexus 7 将使用带有限定符的资源（如果您提供）。因此，在您使用限定符创建文件夹之前，Nexus 7 将从默认布局文件夹加载资源。至于, ,是屏幕密度。`xlarge``Screen Sizes``large``large``ldpi``mdpi``hdpi``xhdpi`

要解决您的问题，您需要：

1.  将 Galaxy S3 的布局定义放入 layout，将 layout-sw600dp 放入 Nexus 7。请参考 Android 开发者博客：[让您的应用为 Jelly Bean 和 Nexus 7 做好准备](http://android-developers.blogspot.co.uk/2012/07/getting-your-app-ready-for-jelly-bean.html)

2.  将 Galaxy S3 的资源（图像或可绘制的东西）放入 drawable-xhdpi 和 Nexus 7 的 drawable-tvdpi 或 drawable-hdpi。

希望它可以帮助你，如果你有任何其他问题，请告诉我:)

以下是一些有用的参考资料：

[什么布局适合 720x1280 的 Android 设备？](https://stackoverflow.com/questions/11008199/what-layout-is-suitable-for-720x1280-android-devices)

[屏幕宽度限定符](http://developer.android.com/guide/topics/resources/providing-resources.html#ScreenWidthQualifier)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T09:44:56.010

您还需要一个用于 xlarge 和 xlarge-land

或者您可以通过调用以编程方式执行此操作：

```
Display displayparm= activity.getWindowManager().getDefaultDisplay();
int width= displayparm.getWidth();
int Height= displayparm.getHeight(); 
```

并从此信息中选择布局

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-06T09:59:33.057

**您可以通过在res**文件夹下添加新文件夹作为**layout-xlarge**和**layout-xlarge-large**来创建布局，并且您还必须更新 android manifest 文件以支持更高分辨率

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-09-01T09:18:07.207

我开发了一个应用程序，我支持多个具有不同分辨率和密度的设备。nexus 7和galaxy s3也是其中之一。如果您的项目中有 layout-large 文件夹，galaxy s3 和 nexus7 显然会从大屏幕文件夹中获取。但是galaxy s3属于大型hdpi类别，而nexus7属于大型tvdpi类别。因此，如果您分别有 s3 和 nexus7 的 layout-large-hdpi 和 layout-large-tvdpi ，它将非常有用。

# java - 级别顺序树遍历通用树，逐级显示树

> ID：12816171
> 
> 赞同：4
> 
> 时间：2012-10-10T09:30:34.227
> 
> 标签：java, algorithm, tree, tree-traversal, directed-acyclic-graphs

我想逐级显示树结构。我当前的代码执行 BFS 或级别顺序遍历，但我无法获得输出以显示树状结构，请参阅当前输出和预期输出。

我的想法是使用某种计数来迭代队列中同一级别的元素。

我怎么能这样做。

如果有人需要整个实现，可以在下面的链接中找到没有此功能的原始代码，否则只需查看下面的 displayBFS 功能。

[java中通用树（n-ary树）的级别顺序遍历](https://stackoverflow.com/questions/12788641/level-order-traversal-of-a-generic-treen-ary-tree-in-java)

谢谢！

```
 void displayBFS(NaryTreeNode n)
   {
      Queue<NaryTreeNode> q  = new LinkedList<NaryTreeNode>();
      System.out.println(n.data);

       while(n!=null)
     {   
         for(NaryTreeNode x:n.nary_list)
         {
             q.add(x);
             System.out.print(x.data + " ");
         }
         n=q.poll();
         System.out.println();
      } 
  }

Current Tree Structure for reference:

         root(100)
        /      |       \
      90       50       70
      /        \
    20 30   200  300

    Current Output:
        100
        90 50 70
        20 30
        200 300

    Expected Output
        100
        90 50 70
        20 30 200 300 
```

另外，我之前发布了一个具有相同功能的逻辑问题，因为该问题已得到回答，并且当前问题涉及另一个问题，我发布了一个新问题，这种方法可以吗？或者我应该对之前的问题进行编辑而不打开一个新的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T09:56:28.413

只需要跟踪当前级别和下一个级别。

```
static void displayBFS(NaryTreeNode root) {
    int curlevel = 1;
    int nextlevel = 0;

    LinkedList<NaryTreeNode> queue = new LinkedList<NaryTreeNode>();
    queue.add(root);

    while(!queue.isEmpty()) { 
        NaryTreeNode node = queue.remove(0);

        if (curlevel == 0) {
            System.out.println();
            curlevel = nextlevel;
            nextlevel = 0;
        }

        for(NaryTreeNode n : node.nary_list) {
            queue.addLast(n);
            nextlevel++;
        }

        curlevel--;
        System.out.print(node.data + " ");
    } 
} 
```

当您切换级别时，将 nextlevel 交换为 currentlevel 并重置 nextlevel。我更喜欢这种简单性，而不是保留一个完整的单独队列。

上周我在接受微软采访时遇到了这个问题……电话对我来说不太顺利。很高兴你学习它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-13T23:24:28.650

我知道这个问题最简单的解决方案是使用哨兵。队列初始化为根节点，后跟哨兵，然后循环遍历队列：

1.  移除前面的元素
2.  如果是哨兵：
    *   我们在关卡的末尾，所以我们可以结束输出行
    *   如果队列不为空，则在最后将哨兵推回队列。
3.  如果不是哨兵：
    *   打印出来
    *   将其所有孩子推入队列。

我不使用 Java，但我有一些用于深度感知 BFS 的 C++ 代码，我将其剥离以执行此打印任务：

```
void show_tree_by_levels(std::ostream& os, Node* tree) {
  Node* sentinel = new Node;
  std::deque<Node*> queue{tree, sentinel};
  while (true) {
    Node* here = queue.front();
    queue.pop_front();
    if (here == sentinel) {
      os << std::endl;
      if (queue.empty())
        break;
      else
        queue.push_back(sentinel);
    } else {
      for (Node* child = here->child; child; child = child->sibling)
        queue.push_back(child);
      os << here->value << ' ';
    }
  }
} 
```

请注意，我更喜欢使用双指针解决方案（first_child/next_sibling），因为它通常比嵌入式列表更简单。YMMV。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-10T09:55:05.190

使用另一个队列来指示深度。下面的代码未经测试，但它应该给你的想法（引入 sep 变量以避免尾随空格）：

```
void displayBFS(NaryTreeNode n) {
  Queue<NaryTreeNode> q  = new LinkedList<NaryTreeNode>();
  Queue<Integer> depth  = new LinkedList<Integer>();
  q.add(n);
  depth.add(0);

  String sep = "";
  int oldDepth = 0

  while(!q.isEmpty()) {
    NaryTreeNode currN = q.poll();
    int currDepth = depth.poll();
    if (currDepth > oldDepth) {
      System.out.println();
      oldDepth = currDepth;
      sep = "";
    }
    System.out.print(sep + currN.data);
    sep = " ";

    for(NaryTreeNode x : currN.nary_list) {
      q.add(x);
      depth.add(currDepth + 1);
    }
  }
} 
```

就我的口味而言，与其他方法相比，这种方法更加不言自明。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-11T07:42:47.967

我认为我们还需要三个变量。*numInCurrentLevel*用于跟踪当前级别中的元素数，*indexInCurrentLevel*用于在当前级别遍历时进行计数，*numInNextLevel*用于跟踪下一级中的元素数。代码如下：

```
static void displayBFS(NaryTreeNode root) {

    Queue<NaryTreeNode> q  = new LinkedList<NaryTreeNode>();;
    q.add(root);
    int numInCurrentLevel = 1;
    int numInNextLevel = 0;
    int indexInCurrentLevel=0;

    while(!q.isEmpty()) { 
        NaryTreeNode node = q.poll();
        System.out.print(node.data + " ");
        indexInCurrentLevel++;

        for(NaryTreeNode n : node.nary_list) {
            q.add(n);
            numInNextLevel++;
        }

        //finish traversal in current level
        if(indexInCurrentLevel==numInCurrentLevel) {
            System.out.println();
            numInCurrentLevel=numInNextLevel;
            numInNextLevel=0;           
            indexInCurrentLevel=0;
        }
  } 
} 
```

希望对您有所帮助，我对java编程不太熟悉。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-01-16T10:55:32.447

```
def printLevelWiseTree(tree):
q= queue.Queue()
if tree == None:
    return None
q.put(tree)
while (not(q.empty())):
    c = q.get()
    print(c.data,end=":")
    for i in range(len(c.children)):
        if i != len(c.children)-1:
            print(c.children[i].data,end=",")
        else:
            print(c.children[i].data,end="")
        q.put(c.children[i])
    print() 
```

# android - 如何在位图周围制作外发光效果？

> ID：12816174
> 
> 赞同：6
> 
> 时间：2012-10-10T09:30:44.083
> 
> 标签：android, blur, glow

我为我的位图图像视图创建了发光效果。它可以工作，但我的外发光颜色有问题。

这是我预期的设计外发光颜色：

[http://www.flashcomponents.net/component/professional-3d-carousel-as2-and-as3.html](http://www.flashcomponents.net/component/professional-3d-carousel-as2-and-as3.html)请看链接

但是我的发光效果看起来不太好请帮我如何制作预期的发光效果？这是我的代码：

```
public class MainActivity extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        int margin = 24;
        int halfMargin = margin / 2;

        // the glow radius
        int glowRadius = 16;

        // the glow color
        int glowColor = Color.rgb(0, 192, 255);

        // The original image to use
        Bitmap src = BitmapFactory.decodeResource(getResources(),
                R.drawable.ic_launcher);

        // extract the alpha from the source image
        Bitmap alpha = src.extractAlpha();

        // The output bitmap (with the icon + glow)
        Bitmap bmp = Bitmap.createBitmap(src.getWidth() + margin,
                src.getHeight() + margin, Bitmap.Config.ARGB_8888);

        // The canvas to paint on the image
        Canvas canvas = new Canvas(bmp);

        Paint paint = new Paint();
        paint.setColor(glowColor);

        // outer glow
        paint.setMaskFilter(new BlurMaskFilter(glowRadius, Blur.OUTER));
        canvas.drawBitmap(alpha, halfMargin, halfMargin, paint);

        // original icon
        canvas.drawBitmap(src, halfMargin, halfMargin, null);

        ((ImageView) findViewById(R.id.bmpImg)).setImageBitmap(bmp);

    }

} 
```

我是android新手，我只需要以编程方式......

![在此处输入图像描述](../Images/bbc786a9d23c7a8e0bf56fe5212b8ece.png)

imageview 背面的预期发光请看我预期的屏幕截图： ![在此处输入图像描述](../Images/64b7c4f93480009de838401f158d8440.png)

# wordnet - 在 Mac 上安装 WordNet

> ID：12816182
> 
> 赞同：4
> 
> 时间：2012-10-10T09:31:37.390
> 
> 标签：wordnet

我正在尝试在我的 Mac OSX 10.8 上安装 Wordnet 3.0。

我已经配置了它，但是当我尝试制作时，

我收到一堆错误...

```
.....
/usr/include/tkDecls.h:1692: error: expected specifier-qualifier-list before ‘XColor’
make[2]: *** [wishwn-tkAppInit.o] Error 1
make[1]: *** [all-recursive] Error 1
make: *** [all] Error 2 
```

然后如果我继续 make install

```
Making install in doc
Making install in html
make[3]: Nothing to be done for `install-exec-am'.
test -z "/usr/local/WordNet-3.0/doc/html" || /Users/ravenyj/Desktop/WordNet-3.0/install-sh -d "/usr/local/WordNet-3.0/doc/html"
mkdir: /usr/local/WordNet-3.0: Permission denied
make[3]: *** [install-htmlDATA] Error 1
make[2]: *** [install-am] Error 2
make[1]: *** [install-recursive] Error 1
make: *** [install-recursive] Error 1 
```

我没有对 Makefile 进行任何修改，也不知道是否应该修改。

有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2016-02-23T02:01:56.590

使用 brew 简单几个数量级。只是：

```
brew install wordnet 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-05-09T05:03:55.870

以下内容对我有用，可以编译：

```
./configure CFLAGS="-I/usr/X11R6/include -L/usr/X11R6/lib -lX11 -fpermissive" CC=/usr/bin/gcc 
```

然后

```
make
sudo make install 
```

之后它对我来说很好

```
/usr/local/WordNet-3.0/ 
```

然后我通过编辑我的 .bash_profile 文件将 WordNet 添加到我的 $PATH 中，添加以下行：

```
export PATH=/usr/local/WordNet-3.0/bin:$PATH 
```

打开一个新的终端窗口，然后我可以输入：

```
$ wn 
```

并看到它现在工作正常

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-05-04T22:19:20.877

执行以下操作以最快的方式安装 WordNet：

1.  按 Command+Space 并键入 Terminal，然后按 enter/return 键。
2.  在终端应用程序中运行：

    ```
    ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)" < /dev/null 2> /dev/null 
    ```

    ...然后按回车键。等待命令完成。

3.  跑：

    ```
    brew install wordnet 
    ```

安装后在终端中使用“wn”命令访问应用程序。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-09T23:50:34.850

在看到这个网页之前，我也遇到了同样的问题：http: [//ticanchang.blogspot.com/2010/04/install-wordnet-in-mac.html](http://ticanchang.blogspot.com/2010/04/install-wordnet-in-mac.html)

在您下载的 WordNet 包的文件夹中，键入：

1.  。/配置
2.  制作
3.  须藤使安装

您需要包含“sudo”，因为通常用户没有更新 /usr/local 文件夹的权限。

# android - 如何使用 VLC 从 android 播放数据流？

> ID：12816184
> 
> 赞同：0
> 
> 时间：2012-10-10T09:31:40.067
> 
> 标签：android, streaming, rtsp, vlc

我正在尝试从我的 android 设备上的相机流式传输视频。我刚刚按照此链接中的代码进行操作：[Android Camera RTSP/RTP Stream?](https://stackoverflow.com/questions/5959745/android-camera-rtsp-rtp-stream)

似乎用户对 YUV 解码有问题，为了解决这个问题，我使用了：

参数.setPreviewFormat(ImageFormat.RGB_565);

获取 rgb 格式的预览帧。

日志表明数据包的发送没有错误，所以我接下来要做的是在本地 pc 上的 VLC 播放器上播放数据流。我在代码上介绍了我的电脑的本地ip，所以数据包被发送到它。但是怎么玩？？？？

在这一点上我真的很新手，任何建议都可以帮助我很多。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T09:46:48.633

我相信你想用你的 android 发布一个流 ip，正如你所说的，这部分工作正常。在 PC 上，您可以从 VLC 网络流中打开它。缺少的部分是找出这个发布流的地址是什么，假设PC可以通过连接在一起访问这个android链接，同一个wifi网络......

# tortoisesvn - 如何在 TortoiseSVN 中查看锁定历史记录？

> ID：12816186
> 
> 赞同：4
> 
> 时间：2012-10-10T09:31:51.597
> 
> 标签：tortoisesvn

有什么方法可以查看文件何时锁定在 TortoiseSVN 中的日志？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T09:39:30.993

Subversion 不存储锁定历史。

在 Apache Subversion 中有一些叫做[hooks](http://svnbook.red-bean.com/en/1.7/svn.reposadmin.create.html#svn.reposadmin.create.hooks)的东西；它们类似于 SQL 中的触发器，在您对服务器执行 Subversion 操作*之后*和*之前执行它们的任务。*

您需要查看**[pre-lock](http://svnbook.red-bean.com/en/1.7/svn.ref.reposhooks.pre-lock.html)和[post-lock](http://svnbook.red-bean.com/en/1.7/svn.ref.reposhooks.post-lock.html)挂钩脚本模板**，它们允许您编写脚本以将锁定历史记录存储在日志文件中或发送锁定/解锁电子邮件通知。

如果您的存储库中没有该模板，您可以从[http://plugins-svn.bbpress.org/smiley-choice/hooks/pre-lock.tmpl](http://plugins-svn.bbpress.org/smiley-choice/hooks/pre-lock.tmpl)下载它并将其用作示例。

请记住，您需要修改上述模板以满足您的需求，但这肯定会对您有所帮助和工作。

请查看[如何创建 SVN 提交消息模板和挂钩以进行验证](https://stackoverflow.com/questions/983026/how-do-i-create-a-svn-commit-message-template-and-hook-to-verify)。

# php - 提取闪烁视频缩略图

> ID：12816190
> 
> 赞同：1
> 
> 时间：2012-10-10T09:32:15.767
> 
> 标签：php, javascript, video, embed

我必须制作一个视频库，用户将在其中上传闪烁视频链接。我需要视频的缩略图。我如何使用 javascript/php 来做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:02:31.623

假设您需要此视频的缩略图[http://www.flickr.com/photos/mariareyesmcdavis/3478595161/](http://www.flickr.com/photos/mariareyesmcdavis/3478595161/)

使用 php curl 发出以下 HTTP 请求。

```
http://www.flickr.com/services/oembed/?url={flicker video url}&format=json

http://www.flickr.com/services/oembed/?url=http%3A//www.flickr.com/photos/mariareyesmcdavis/3478595161/&format=json 
```

你会从 flicker 得到一个 json 响应

```
{
    "type":"video",
    "title":"Wordpress Blog Design and Social Marketing Project",
    "author_name":"Maria Reyes-McDavis",
    "author_url":"http:\/\/www.flickr.com\/photos\/mariareyesmcdavis\/",
    "width":500,"height":375,
    "web_page":"http:\/\/www.flickr.com\/photos\/mariareyesmcdavis\/3478595161\/",
    "thumbnail_url":"http:\/\/farm4.staticflickr.com\/3570\/3478595161_7c2845616e_m.jpg",
    "thumbnail_width":"240",
    "thumbnail_height":"180",
    "web_page_short_url":"http:\/\/flic.kr\/p\/6ioH9D",
    "html":"<object type=\"application\/x-shockwave-flash\" width=\"500\" height=\"375\" data=\"http:\/\/www.flickr.com\/apps\/video\/stewart.swf?v=109786\" classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"> <param name=\"flashvars\" value=\"intl_lang=en-us&photo_secret=7c2845616e&photo_id=3478595161&flickr_show_info_box=true\"><\/param> <param name=\"movie\" value=\"http:\/\/www.flickr.com\/apps\/video\/stewart.swf?v=109786\"><\/param> <param name=\"bgcolor\" value=\"#000000\"><\/param> <param name=\"allowFullScreen\" value=\"true\"><\/param><embed type=\"application\/x-shockwave-flash\" src=\"http:\/\/www.flickr.com\/apps\/video\/stewart.swf?v=109786\" bgcolor=\"#000000\" allowfullscreen=\"true\" flashvars=\"intl_lang=en-us&photo_secret=7c2845616e&photo_id=3478595161&flickr_show_info_box=true\" height=\"375\" width=\"500\"><\/embed><\/object>",
    "license":"Attribution-ShareAlike License",
    "license_url":"http:\/\/creativecommons.org\/licenses\/by-sa\/2.0\/",
    "license_id":"5","version":"1.0",
    "cache_age":3600,
    "provider_name":"Flickr",
    "provider_url":"http:\/\/www.flickr.com\/"
} 
```

现在从响应中获取“thumbnail_url”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T06:17:20.590

从 flickr 的嵌入代码中提取**照片 id**和**照片秘密**（你已经很清楚了）
然后，按照它：

```
$hash = unserialize(file_get_contents("http://api.flickr.com/services/rest/?method=flickr.photos.getInfo&api_key=7bcd4d0a48fc6fe0e86ec660f95541a9&photo_id=$flickr_photo_id&secret=$flickr_photo_secret&format=php_serial"));    
$video_url = $hash['photo']['urls']['url'][0]['_content']; 
$hash2 = unserialize(file_get_contents("http://www.flickr.com/services/oembed/?url=$video_url&format=php_serial"));
return $hash2['thumbnail_url']; 
```

# c++ - 如何快速检测mysql服务器宕机状态

> ID：12816191
> 
> 赞同：0
> 
> 时间：2012-10-10T09:32:20.373
> 
> 标签：c++, mysql, c, api

我有一个连接远程数据库服务器的应用程序。

如果 mysql 服务器因某种原因停止并在此之后成功启动，我的应用程序无法快速检测服务器状态。重新连接到数据库服务器大约需要 20 秒。所以我的gui冻结了。我不想让 gui 冻结 20 秒

到目前为止我试过

*   mysql_ping
*   mysql_real_connect

功能

*   MYSQL_OPT_RECONNECT

*   MYSQL_OPT_CONNECT_TIMEOUT

    选项

我的环境不是多线程的。那么如何进行更快的检测呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-10T09:39:41.230

如果您同步进行联网，请为冻结做好准备。出于这个原因，在单独的线程中进行数据操作是有意义的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T09:58:20.360

正如其他人已经讨论过的，我不会谈论使用多个线程或进程。你能在 tcp 上连接到你的 mysql 服务器吗？这样，在大多数情况下，您会立即收到一个 tcp fin 以指示连接已关闭，尽管有时甚至可能并非如此。但是大多数健壮的应用程序都会进行适当的关闭。

```
shell> mysql --protocol=TCP 
```

[MYSQL如何指定协议](http://dev.mysql.com/doc/refman/5.5/en/connecting.html)

如果服务器不接受它，我相信它可以从配置设置中启用。

但是，这并不能解决诸如服务器突然断网或您的客户端连接断开等情况。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T09:36:58.257

您可以尝试 telnet 到 mysql 端口（通常是 3306）。如果连接被拒绝，则 mysql 没有在监听。

在职的。

```
root@XXXXXX:~# telnet localhost 3306
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
L
5.6.4-m7)#m#_8:W�hP5YBzaXs[MOmysql_native_password 
```

下。

```
root@XXXXXX:~# telnet localhost 3306
Trying 127.0.0.1...
telnet: Unable to connect to remote host: Connection refused 
```

被拒绝的消息几乎是即时的。

# paypal - 支付成功后 PayPal Express Checkout 返回 CANCELURL

> ID：12816196
> 
> 赞同：0
> 
> 时间：2012-10-10T09:32:40.333
> 
> 标签：paypal, express-checkout

所以我正在使用 Express Checkout，一切似乎都很顺利。我注意到一件奇怪的事情，在大约 1000 次付款中，例程如下：

*   在 SetExpressCheckoutPayment 期间一切正常，发送到 PayPal
*   PayPal 处理付款，将用户返回到我的 RETURNURL
*   我使用 DoExpressCheckoutPayment 向用户收费并获得成功响应，是的！
*   几秒钟后，PayPal 向我发送了一个支付成功的 IPN，太棒了！
*   大约 30 秒后，我的 CANCELURL 被同一个令牌击中

现在这很令人困惑。使用 GetTransactionDetails 检查交易显示已完成，但我的用户的购买设置为已取消。一种方法是简单地忽略对成功交易的 CANCELURL 命中，但我真的很想知道为什么会发生这种情况。

你有没有注意到你的网站上发生了同样的事情？知道用户工作流程可能会产生这样的故障吗？除了在成功付款后忽略对 CANCELURL 的调用之外，还有其他解决方法吗？

谢谢大家！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-27T08:34:55.220

我注意到有时当您单击“立即付款”按钮时迷你浏览器不会褪色（请参阅[数字商品的快速结帐：可以在立即付款按钮上单击多次](https://stackoverflow.com/questions/15437403/express-checkout-for-digital-goods-can-click-several-times-on-pay-now-button)）。

所以也许你的用户点击了支付，他们似乎什么都没有发生，所以他们点击了取消链接。如果您知道如何...

# c# - 在窗口上绘制光标

> ID：12816200
> 
> 赞同：1
> 
> 时间：2012-10-10T09:32:53.843
> 
> 标签：c#, winapi, cursor, caret

> **可能重复：**
> [在 Winforms 中绘制一个闪烁的插入符号](https://stackoverflow.com/questions/848868/drawing-a-blinking-caret-in-winforms)

我写了一个文本框，分别针对我的需要，我使用winAPI函数drawtext**来**绘制用户输入的文本。但是当我到达绘图光标的部分时（我不是指鼠标光标，而是选择开始光标）我试图了解它应该如何工作，我看到在 RichTextBox 中文本框不会在你重绘时移动光标。那么光标的绘制如何。

# linux - Ushare重新扫描文件系统而不重新启动

> ID：12816207
> 
> 赞同：1
> 
> 时间：2012-10-10T09:33:43.517
> 
> 标签：linux, upnp, dlna

我使用 Ushare 作为 UPnP / DLNA 媒体服务器。它工作得很好，但是它有一个烦人的缺点。我需要手动重新启动它以重新扫描文件系统。

有什么办法/方法

*   重新扫描文件系统而不重新启动（不太好的解决方案）
*   动态推送新文件到库（完美解决方案）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-12T13:04:11.977

uShare 中没有自动重新扫描功能，我认为它不再被开发，但如果您使用 cron 作业，您可以使其定期重新扫描。这里有一篇关于如何做到这一点的博客文章：[http ://ramonecung.com/blog/2009/05/ushare-linuxu-buntu-based-media-server-auto-refresh/](http://ramonecung.com/blog/2009/05/ushare-linuxu-buntu-based-media-server-auto-refresh/)

另一种方法是使用 MiniDLNA，它做类似的事情并且允许在不重新启动服务器的情况下重新扫描（尽管没有基于浏览器的 UI）：[https ://github.com/azatoth/minidlna](https://github.com/azatoth/minidlna)

# yii - Yii 框架 - 为关系设置“INNER JOIN”时遇到问题

> ID：12816216
> 
> 赞同：1
> 
> 时间：2012-10-10T09:34:15.563
> 
> 标签：yii, inner-join, relationship

我在使用关系获取数据时遇到问题。以下是详细信息：

1.  我有两张桌子。首先是**item_master**，其次是**库存**表。由于两者都有 MANY_MANY 关系，所以我们有另一个名为**inventory_items**的表，其中包含两个字段（item_id、inventory_id）。

2.  以下是 ItemMaster 模型中的关系详细信息：

    ```
    'inventories' => array(
        self::MANY_MANY, 
        'Inventories', 
        'inventory_items(item_id, inventory_id)'
    ),

    'inventoryItems'=>array(self::HAS_MANY,'InventoryItems','item_id'), 
    ```

3.  我只需要获取特定库存的项目。为此，我正在实施以下过滤条件：

    ```
    $criteria=new CDbCriteria;

    $inventory_condition['condition']="inventoryItems.inventory_id=:inventoryID";
    $inventory_condition['params'] = array(
       ':inventoryID' => $filter['inventory_id']
    );
    $inventory_condition['joinType']='INNER JOIN';

    $criteria->with = array("inventoryItems"=>$inventory_condition);

    $items=new CActiveDataProvider('ItemMaster',array('criteria'=>$criteria)); 
    ```

问题：

上面的代码将所有具有所需库存的物品归还给我。如果一个项目不属于该库存，它仍然会返回该项目但没有库存。我只需要那些属于特定库存的物品应该返回。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T13:32:13.233

您可能需要将`together`选项设置为`true`：

```
$inventory_condition['together']=true; 
```

但是，如果你打算将它与`SQL` `LIMIT`.

# ravendb - RavenDB 转换结果

> ID：12816218
> 
> 赞同：0
> 
> 时间：2012-10-10T09:34:18.523
> 
> 标签：ravendb

我正在尝试使用 TransformResults 功能，但我无法让它工作。我不完全确定我理解这个功能，也许还有另一种方法可以解决这个问题。我想要的只是订单中的 ID 以及客户和企业家的电子邮件地址。我很高兴所有可以带我走向正确方向的提示。这是我的代码。

**文档**

```
public class OrderDocument

    public string Id {get; set }

    public EntrepreneurInfo EntrepreneurInfo { get; set; }

    public CustomerInfo CustomerInfo { get; set; }

    public OrderStatus CurrentOrderStatus { get; set; }
} 
```

**信息类**

```
public class EntrepreneurInfo
{
    public string EntrepreneurDocumentId { get; set; }

    public string Number { get; set; }

    public string Name { get; set; }
}

public class CustomerInfo
{
    public string CustomerDocumentId { get; set; }

    public string Number { get; set; }

    public string Name { get; set; }
} 
```

info 类分别只是 Customer 和 Entrepreneur 文档的子集。Customer 和 Entrepreneur 文档继承自具有 EmailAddress 属性的基类 (AbstractOrganizationDocument)。

**我的索引**

```
public class OrdersApprovedBroadcastingData : 
    AbstractIndexCreationTask<OrderDocument, OrdersApprovedBroadcastingData.ReduceResult>
{
    public OrdersApprovedBroadcastingData()
    {
        this.Map = docs => from d in docs 
                           where d.CurrentOrderStatus == OrderStatus.Approved 
                            select new
                            {
                                Id = d.Id,
                                CustomerId = d.CustomerInfo.CustomerDocumentId,
                                EntrepreneurId = d.EntrepreneurInfo.EntrepreneurDocumentId
                            };

        this.TransformResults = (db, orders) => from o in orders
                let customer = db.Load<CustomerDocument>(o.CustomerId)
                let entrepreneur = db.Load<EntrepreneurDocument>(o.EntrepreneurId)
                select
                    new 
                        {
                            o.Id,
                            o.CustomerId,
                            CustomerEmail = customer.EmailAddress,
                            o.EntrepreneurId,
                            EntrepreneurEmail = entrepreneur.EmailAddress
                        };
    }

    public class ReduceResult
    {
        public string Id { get; set; }

        public string CustomerId { get; set; }

        public string CustomerEmail { get; set; }

        public string EntrepreneurId { get; set; }

        public string EntrepreneurEmail { get; set; }
    }
} 
```

如果我在 Raven Studio 中查看这个索引的结果，我会得到除 Id 之外的所有字段的空值。最后这是我的查询。

**询问**

```
 var items =
            this.documentSession.Query<OrdersApprovedBroadcastingData.ReduceResult, OrdersApprovedBroadcastingData>()
                .Select(x => new OrdersToBroadcastListItem
                    {
                        Id = x.Id,
                        CustomerEmailAddress = x.CustomerEmail,
                        EntrepreneurEmailAddress = x.EntrepreneurEmail
                    }).ToList(); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-10T16:07:09.217

将您的索引更改为：

```
public class OrdersApprovedBroadcastingData : AbstractIndexCreationTask<OrderDocument>
{
  public OrdersApprovedBroadcastingData()
  {
    Map = docs => from d in docs
                  where d.CurrentOrderStatus == OrderStatus.Approved
                  select new
                  {
                  };

    TransformResults = (db, orders) =>
      from o in orders
      let customer = db.Load<CustomerDocument>(o.CustomerInfo.CustomerDocumentId)
      let entrepreneur = db.Load<EntrepreneurDocument>(o.EntrepreneurInfo.EntrepreneurDocumentId)
      select new
        {
          o.Id,
          CustomerEmailAddress = customer.EmailAddress,
          EntrepreneurEmailAddress = entrepreneur.EmailAddress
        };
  }
} 
```

您的结果类可以只是投影的最终形式，您不需要中间步骤：

```
public class Result
{
  public string Id { get; set; }
  public string CustomerEmailAddress { get; set; }
  public string EntrepreneurEmailAddress { get; set; }
} 
```

如果您不想，您不必将此类嵌套在索引中。不管怎样都无所谓。您可以通过以下方式查询：

```
var items = session.Query<Result, OrdersApprovedBroadcastingData>(); 
```

或与

```
var items = session.Query<OrderDocument, OrdersApprovedBroadcastingData>().As<Result>(); 
```

虽然，对于第一种方式，约定往往是嵌套结果类，所以实际上它会是

```
var items = session.Query<OrderDocument.Result, OrdersApprovedBroadcastingData>(); 
```

请注意，在索引图中，我根本不包括任何属性。你问的都不需要。但是，如果您想在查询中添加 Where 或 OrderBy 子句，则您可能想要过滤或排序的任何字段都应该放在其中。

最后一件事 - 您使用的 OrderDocument、CustomerDocument、EntrepreneurDocument 约定有点奇怪。通常的约定只是订单、客户、企业家。将您的文档视为实体本身的持久形式。您使用的约定将起作用，它不是通常使用的约定。

# android - 如何从 Android 中的 NoHttpResponseException 获取 Http 状态码？

> ID：12816219
> 
> 赞同：1
> 
> 时间：2012-10-10T09:34:19.827
> 
> 标签：android, http-status-codes, apache-commons-httpclient

在 Android 中，我有一个在 web 服务上执行 GET 的 HttpClient。Web 服务可以返回 Http 错误 429（请求太多），其中包含错误的 JSON 详细对象，其中包含更多数据（例如，将来可以再次重新发送请求的时间）。

不幸的是

```
response = httpclient.execute(httpGet, localContext); 
```

引发 NoHttpResponseException 并且响应对象保持为 NULL。

所以我没有办法管理那个特定的 429 错误。

有解决办法吗？

**更新：** 我检查了提琴手，当服务器返回正确的 JSON 对象，HTTP 状态码 = 429，httpclient.execute(httpGet, localContext); 只需抛出 NoHttpResponseException - 所以问题不在于服务器不返回任何结果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:31:01.717

你的意思是这样的吗？

```
WebRequestResult result = new WebRequestResult();
URL url = new URL(this.url);
URLConnection connection = url.openConnection();
HttpURLConnection  httpConnection = (HttpURLConnection) connection;
//This here?
result.setStatusCode(httpConnection.getResponseCode());
result.setStatusDescription(httpConnection.getResponseMessage()); 
```

# javascript - 检查字段中的字母和数字字符

> ID：12816221
> 
> 赞同：1
> 
> 时间：2012-10-10T09:34:27.977
> 
> 标签：javascript, regex, validation

我正在尝试编写 javascript 代码以确保表单中的字段的前 2 个字符为字母（美国），其余 8 个为数字。

总数必须是 10，如果其中任何一个不满意，我应该抛出一个警告框。

我现在正在检查数字，但我不知道如何在同一字段中结合检查字母和数字。

这是我检查数字的代码。

请帮帮我！`sid`是我的字段名称。

```
// only allow numbers to be entered
var checkOK = "0123456789";
var checkStr = document.forms[0].sid.value;
var allValid = true;
var allNum = "";

for (i = 0; i < checkStr.length; i++)
{
    ch = checkStr.charAt(i);
    for (j = 0; j < checkOK.length; j++)
        if (ch == checkOK.charAt(j))
            break;

    if (j == checkOK.length)
    {
        allValid = false;
        break;
        if (ch != ",")
            allNum += ch;
    }
    if (!allValid)
    {
        alert("Please enter only 8 numeric characters in the \"sid\" field.");
        return (false);
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-10T09:41:57.437

单个正则表达式将轻松执行此检查：

```
 /^[a-zA-Z]{2}\d{8}$/ 
```

/^ 匹配字符串的开头

[a-zA-Z]{2} 完全匹配 2 个字母字符

\d{8} 精确匹配 8 位数字

$/ 匹配字符串结尾

使用如下：

```
 /^[a-zA-Z]{2}\d{8}$/.test (str)   // Returns true or false 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T09:43:21.720

您可以使用正则表达式。[jsfiddle](http://jsfiddle.net/Bjsyu/)

```
var regExp = /[a-z]{2}[0-9]{8}/i;

var text = 'ab12345678'; 
if(text .replace(/[a-z]{2}[0-9]{8}/i, "").length > 0){
    alert("Please enter only 8 numeric characters in the \"sid\" field.");
    return (false);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T09:44:17.050

简单正则表达式，检查 2 个字符 + 8 个数字

```
var checkStr = document.forms[0].sid.value;
if (checkStr.match(/\b[A-z]{2}[0-9]{8}\b/) === null) {
    alert("Please enter only 8 numeric characters in the \"sid\" field.");
    return (false);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-10T09:44:23.383

`/^([a-zA-Z]{2}\d{8})$/;`应该检查 2 个字符，然后是 8 个小数。

# c# - 下载 Visual Studio 2010 express 无母版页

> ID：12816223
> 
> 赞同：0
> 
> 时间：2012-10-10T09:34:29.907
> 
> 标签：c#, asp.net, .net, visual-studio-2010

我刚刚下载了 Visual Studio 的 2010，但没有模板可以用于母版页或任何可以与它一起使用的东西。

我最终将使用 C# 编程，使用 asp.net

这是我选择创建新项目时得到的。

我想使用 .net 框架 3.5。请帮忙，还有什么需要下载的。

![在此处输入图像描述](../Images/d50200b21f77832fcdc2f6c13f5cfeef.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-10T09:37:39.767

对于 Web 开发，您应该下载[Visual Studio Express for Web](http://www.microsoft.com/visualstudio/eng/products/visual-studio-express-for-web)。

C# express 版本不包括 web 模板。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-10T09:39:30.233

你需要 Visual Studio Express for Web 而不是 Dekstop

你应该使用新的 2012 版本。

[链接在这里](http://www.microsoft.com/visualstudio/eng/downloads#d-express-web)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-10T09:39:11.497

Visual C# 2010 Express 仅支持以下默认项目模板：

> Windows 窗体应用程序
> 
> WPF 应用程序
> 
> 控制台应用程序
> 
> 类库
> 
> WPF 浏览器应用程序
> 
> 空项目

要使用 ASP.NET Web 应用程序，您需要： http: [//www.microsoft.com/visualstudio/eng/products/visual-studio-express-for-web](http://www.microsoft.com/visualstudio/eng/products/visual-studio-express-for-web)

# iphone - 当 iphone 被阻塞时，AIR 应用程序仍在运行？

> ID：12816224
> 
> 赞同：0
> 
> 时间：2012-10-10T09:34:33.817
> 
> 标签：iphone, ios, actionscript-3, air

我刚刚用 Flash Professional 6.0 和 adobe AIR sdk 3.4 for iPhone 做了一个简单的游戏。

问题是这样的：当我按下电源按钮锁定 iphone 时，屏幕照常关闭，但游戏音乐仍然响起。如果我按主页按钮退出游戏，它会正常退出。仅在打开应用程序的情况下锁定手机时。

另外，我为我的应用程序选择了多任务处理，所以如果我用主页按钮关闭我的应用程序并重新加载它，它会加载主菜单。

任何人都知道我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T13:37:56.907

好的，经过大量阅读，这是一个非常非常简单的解决方案，只需在应用程序开始时使用：

```
SoundMixer.audioPlaybackMode  =  AudioPlaybackMode.AMBIENT; 
```

使用此播放模式，当应用程序进入后台时声音会静音。

# wpf - 组合框的文本框在选项卡之后接受 selectedValuepath 的值或离开组合框它在组合框的文本框中显示 seletedValue

> ID：12816225
> 
> 赞同：1
> 
> 时间：2012-10-10T09:34:36.027
> 
> 标签：wpf, xaml, data-binding, combobox, wpf-controls

我希望在应用程序中我的组合框接受 selectedvaluepath 属性的值，并且在使用选项卡或从组合框离开后，它会在组合框的文本框中显示 selectedValue。而且它也像正常情况一样接受绑定的 itemsource 值。例如

我将组合框绑定到列表为“列表 1”，在列表一中我有一个 fName 和 lname 属性。现在，当用户进入组合框时，它会显示 fname，但可以通过 fname 搜索，但当用户输入 lname 时，它​​会根据输入的 lanme 收集 fname 属性并将 fname 显示到组合框的文本框中...

任何人都可以给我解决方案以正确的方式做到这一点......

列表 1 fname , Lname

啊，123，

bbb , 456,

cc, 789,

ddd, 147,

258,

在 cobobox 中显示 fname。但如果组合框文本输入“123”，则还要选择“aaa”。选择组合框值时。

# ruby-on-rails - Sidekiq 工作人员没有被触发

> ID：12816226
> 
> 赞同：20
> 
> 时间：2012-10-10T09:34:46.667
> 
> 标签：ruby-on-rails, ruby, nginx, passenger, sidekiq

我将[Sidekiq](http://mperham.github.com/sidekiq/)用于我的后台工作：

**我有一个工人 app/workers/data_import_worker.rb**

```
class DataImportWorker
 include Sidekiq::Worker
 sidekiq_options retry: false

  def perform(job_id,file_name)
    begin
    #Some logic in it .....
  end
 end 
```

**从文件 lib/parse_excel.rb 调用**

```
 def parse_raw_data
      #job_id and #filename are defined bfr
      DataImportWorker.perform_async(job_id,filename)   
  end 
```

一旦我从我的操作中触发它，工作人员就不会被调用.. Redis 正在运行`localhost:6379`

知道为什么这一定会发生。环境是Linux。

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2013-06-12T12:38:46.523

我在 Sidekiq 运行时遇到了类似的问题，但是当我调用`perform_async`它时，它除了 return 之外什么也没做`true`。

问题是**rspec-sidekiq**被添加到我的“ *:development, :test* ”组中。我通过将**rspec-sidekiq**移动到“ *:test* ”组来解决了这个问题。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2014-03-11T12:43:40.553

从 Rails 应用程序的根目录启动 sidekiq。例如，

> bundle exec sidekiq -e staging -C config/sidekiq.yml

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-10T08:48:23.003

我也遇到了同样的问题，原来我在perform_async函数中传入的参数不合适，看来不应该在perform_async中传入任何查询结果，必须在函数perform中执行所有查询。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-12T02:05:25.870

您需要指定工作人员所在的队列的名称。

示例：sidekiq_options 重试：false, **:queue => data_import_worker**

data_import_worker 可以是你想给它的任何名字。

然后，当您进入 Web 界面：yoursite.com/sidekiq，您将能够看到队列“data_import_worker”的当前工作人员

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-11-11T23:12:49.620

对我来说，在执行 perform_later 时，它会排队但永远不会从队列中删除。我需要将我的队列名称添加到 sidekiq.yml 文件

```
---
:concurrency: 25
:pidfile: ./tmp/pids/sidekiq.pid
:logfile: ./log/sidekiq.log
:queues:
  - default
  - my_queue 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2017-08-08T19:50:59.530

在这方面损失了 15 分钟。要检查 Sidekiq 是否正确加载了您的配置文件（带有队列名称），请转到“忙碌”选项卡中的 Web 界面，您将找到您的进程 ID，在它下方您会找到您的队列。

在我们的例子中，我们拼错`mailer`了（Mailers 的正确 ActiveJob 队列是`mailers`复数形式）。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-11-19T14:13:17.993

我的问题只是将工作文件放在错误的路径中。

需要在“project_root/app/worker/worker.rb”中，而不是“project_root/worker/worker.rb”

检查文件路径！

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2014-10-21T12:21:39.563

它真的在独立的 sidekiq 上运行多个工作人员吗？例如我有 2 个工人： ProcessWorker CallbackWorker

当我运行sidekiq时： bundle exec sidekiq -r ./workers/proccess_worker.rb -C ./config/sidekiq.yml

同一时间只有一名工人。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2017-05-26T19:02:26.020

我`perform_async(23)`在生产控制台中调用，但是我的 sidekiq 是在暂存模式下启动的。

在我以生产模式启动 Sidekiq 后，一切都开始运转良好。

# c# - 如何从 AD 获取受信任的用户列表

> ID：12816230
> 
> 赞同：1
> 
> 时间：2012-10-10T09:35:12.543
> 
> 标签：c#

“Sam”是**domain1.com**的用户。发送用户信用并从 AD 获取用户信息

“tuser1”是**domain2.com**的用户。

domain1.com 和 domain2.com 是两种受信任的方式。

我的问题是：

1.  我如何验证“tuser1”是有效用户？
2.  如何通过 domain1.com 获取用户信息。

# blackberry - 地图在我的黑莓应用程序中没有显示正确的位置

> ID：12816231
> 
> 赞同：0
> 
> 时间：2012-10-10T09:35:16.883
> 
> 标签：blackberry, map

如您所见，我通过转换真实坐标来调用黑莓地图

```
public static void showMap(String latitude,String longatude){
    try {   
        int specailLatitude  = (int)(Double.parseDouble(latitude))*100000;
        int specailLongatude = (int)(Double.parseDouble(longatude))*100000;
        MapView mapView=new MapView();
        mapView.setLatitude(specailLatitude);
        mapView.setLongitude(specailLongatude);
        mapView.setZoom(07);
        MapsArguments arg=new MapsArguments(mapView);
        Invoke.invokeApplication(Invoke.APP_TYPE_MAPS, arg);
    } catch(Exception e) {
        CustomUtility.showToast("Map is not available "+e.getMessage());
    }
 }// end of the showMap 
```

但问题是它现在显示正确的位置，它总是在阿联酋显示相同的位置，请帮助我正确转换？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-14T23:41:54.323

您目前在阿联酋的位置吗？OS 7 地图中有一个错误，它会将您带到您当前的位置，而不是请求的纬度/经度。不幸的是，我不知道有任何解决方法。

# javascript - 验证码重新加载在 IE 9 中不起作用

> ID：12816233
> 
> 赞同：2
> 
> 时间：2012-10-10T09:35:22.520
> 
> 标签：javascript, function, captcha, reload

我有一个简单的 javascript 函数在 chrome 中完美运行，但在 Internet Explorer 中什么也不做。我不知道为什么。

功能：

```
function captcha()
{
img = document.getElementById("captcha");
img.src = "captcha.asp";
} 
```

我在 html 中有一个表单，其中有一个带有 onClick 事件的按钮，它调用验证码函数。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T11:27:29.947

我找到了一个可以在 chrome、firefox 和 Internet Explorer 中正常工作的解决方案。

我已将 img 标签放入带有验证码 ID 的 iframe 中，并使用 js 函数重新加载此 iframe。

```
document.getElementById("captcha").src=document.getElementById("captcha").src; 
```

问题解决了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T09:39:51.340

一种可能的情况是缓存问题。您是否检查了请求和响应。
尝试使用 src url 添加一个随机参数以避免缓存。

```
img.src = "captcha.asp&id=12a4"; 
```

# php - 在 Dom 文档中加载 url 失败？

> ID：12816235
> 
> 赞同：0
> 
> 时间：2012-10-10T09:35:39.720
> 
> 标签：php, xml, google-maps

我试图通过提供地址从谷歌地图获取纬度和经度。但它给出了错误。当我直接将 url 复制到浏览器 url 栏时。它给出了正确的结果。如果有人知道答案。

这是我的代码。

```
<?php 
$key = '[AIzaSyAoPgQlfKsBKQcBGB01cl8KmiPee3SmpU0]';

$opt = array (
'address'   => urlencode('Kolkata,India, ON') ,
'output'    => 'xml' 
);

$url = 'http://maps.google.com/maps/geo?q='.$opt['address'].'&output='.$opt['output'].'&oe=utf8&key='.$key;

$dom = new DOMDocument();
$dom->load($url);

$xpath = new DomXPath($dom);
$xpath->registerNamespace('ge', 'http://earth.google.com/kml/2.0');

$statusCode = $xpath->query('//ge:Status/ge:code');

if ($statusCode->item(0)->nodeValue == '200') {

$pointStr = $xpath->query('//ge:coordinates');
$point = explode(",", $pointStr->item(0)->nodeValue);

$lat = $point[1];
$lon = $point[0];

echo '<pre>';
echo 'Lat: '.$lat.', Lon: '.$lon;
echo '</pre>';
}

?> 
```

出现以下错误：

```
Warning: DOMDocument::load(http://maps.google.com/maps/geo?      q=Kolkata%252CIndia%252C%2BON&output=xml&oe=utf8&key=%5BAIzaSyAoPgQlfKsBKQcBGB01cl8KmiPee3SmpU0%5D) [domdocument.load]: failed to open stream: HTTP request failed! HTTP/1.0 400 Bad Request in C:\xampp\htdocs\draw\draw.php on line 19

Warning: DOMDocument::load() [domdocument.load]: I/O warning : failed to load external entity "http://maps.google.com/maps/geo?q=Kolkata%252CIndia%252C%2BON&output=xml&oe=utf8&key=%5BAIzaSyAoPgQlfKsBKQcBGB01cl8KmiPee3SmpU0%5D" in C:\xampp\htdocs\draw\draw.php on line 19

Notice: Trying to get property of non-object in C:\xampp\htdocs\draw\draw.php on line 26 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:29:16.163

`DOMDocument::load()`要求`allow_url_fopen`为真。

检查您的`php.ini`-settings 并将其切换到`1`.

也可以看看：

[http://php.net/filesystem.configuration.php#ini.allow-url-fopen](http://php.net/filesystem.configuration.php#ini.allow-url-fopen)

[什么会导致 DOMDocument.load 从可访问的 URL 加载 XML 失败？](https://stackoverflow.com/questions/3983786/what-would-cause-domdocument-load-to-fail-loading-xml-from-a-url-that-is-accessi)

# embed - Box.com 嵌入式文件/文件夹查看器代码通过 api

> ID：12816239
> 
> 赞同：4
> 
> 时间：2012-10-10T09:35:58.647
> 
> 标签：embed, box-api

寻找一种通过 API 获取 Box 文件嵌入代码的方法。

我们在我们的应用程序中集成了 Box，[新的嵌入式文件/文件夹查看器](http://blog.box.com/2012/10/box-embed-take-your-content-everywhere-you-work/)非常棒。我很乐意让人们可以选择通过嵌入选项在我们的应用程序中查看他们的文件/文件夹，但需要一种获取嵌入代码的方法

例如：`https://www.box.com/embed/{file reference}.swf`

感谢您提供任何信息，

担。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-16T20:14:54.713

**编辑：v2 文件夹嵌入（需要用户登录）**

```
<iframe 
src="https://box.com/embed_widget/000000000000/files/0/f/#{@folder.id}?view=expanded&sort=name&direction=ASC&theme=blue" 
width="100%" 
height="800" 
frameborder="0">
</iframe> 
```

当前似乎不支持文件夹嵌入代码。

请参阅本文底部的开发团队评论 [http://developers.blog.box.com/2012/10/11/even-more-v2-updates/](http://developers.blog.box.com/2012/10/11/even-more-v2-updates/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T01:53:23.450

我目前正在使用 v1 API CreateFileEmbed [http://developers.box.net/w/page/50509454/create_file_embed](http://developers.box.net/w/page/50509454/create_file_embed)

更新 [2013 年 9 月]

[Box 已在http://developers.box.com/view/](http://developers.box.com/view/)上发布了 View API 的公开测试版

这是另一个 HTML5 查看器。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-27T19:11:31.203

盒子文档和支持是可怕的。这是我想出的：

```
# given you have your box file in a variable named "file":

result = file.api.file_embed(file.id) # this may throw Box::Api::NotShared
embed_html = result['file_embed_html'] if result.respond_to?(:[]) 
```

不幸的是，您必须先确保该文件是公开共享的。从我发现的情况来看，显然没有办法在 API 中进行私有共享，除非通过电子邮件（wtf？）。

为了完整起见，可以像这样通过 api 进行共享：（注意 file.unshare 方法 [在撰写本文时] 已损坏，因此通过 file.api 调用）

```
file.share_public
file.api.unshare_public(file.type, file.id) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-11-06T00:02:49.037

也许这是旧的，但是，这个步骤对我有用。

首先，使用 api 共享文件或文件夹，然后提取 shared_link，然后使用嵌入 url ( [https://app.box.com/embed_widget/000000000000/s/SHARED_LINK_VALUE](https://app.box.com/embed_widget/000000000000/s/SHARED_LINK_VALUE) ) 加入。

See: [Create shared folders](http://developers.box.com/docs/#folders-create-a-shared-link-for-a-folder)[Create shared files](http://developers.box.com/docs/#files-create-a-shared-link-for-a-file)[Embed files or folders](http://developers.box.com/box-embed/)

# c++ - 在 Visual Studio 2008 项目中使用 Doxygen

> ID：12816244
> 
> 赞同：0
> 
> 时间：2012-10-10T09:36:31.980
> 
> 标签：c++, visual-studio-2008, documentation, doxygen

我想为我的解决方案中的一个项目安装和创建 Doxygen HTML 文档。能否请您一步一步地告诉过程。我用谷歌搜索并没有找到这样的信息。

编辑：它可以集成到 Visual Studio 2008 中吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-10T09:43:03.260

您是否尝试过 Doxygen 文档？:) [http://www.doxygen.nl/manual](http://www.doxygen.nl/manual)

我要做的是完成安装项目并制作一些样板示例，这些示例仅概述您正在创建的方法。从小处着手。

编辑：刚刚看到您关于使用 VS 2008 的帖子。虽然我没有尝试使用该特定版本的 Doxygen，但我怀疑这应该是可能的，因为您只是用 Doxygen 识别的标签标记您的评论

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T08:16:33.580

[我已经从http://www.doxygen.nl/download.html](http://www.doxygen.nl/download.html)下载了 doxygen doxygen-1.8.2-setup.exe并安装了它。然后运行它，给出我需要文档的项目目录和一些其他选项。就是这样！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T10:22:08.670

您首先需要确保 doxygen 已安装并可在系统路径上访问。您可能还想安装 graphviz (dot) 以绘制图形。

接下来，运行：

```
doxygen -g MyProject.doxyconf 
```

这会生成一个 doxygen 配置文件。编辑此文件以对其进行自定义。它包含描述选项作用的注释，因此请相应地设置它们。

您现在可以使用以下命令生成 doxygen 文档：

```
doxygen MyProject.doxyconf 
```

要将其与 Visual Studio 集成，请创建一个新的 makefile 项目（例如 MyProject.documentation）。然后可以将其配置为运行以下命令：

```
Build   : doxygen MyProject.doxyconf
ReBuild : doxygen MyProject.doxyconf
Clean   : cd $(ProjectDir)/docs && del /s *.* 
```

注意：我不确定是否`$(ProjectDir)`正确，但您仍然需要更改`$(ProjectDir)/docs`到生成文档的位置。

然后，您可以根据需要将文档添加到项目中。我对此的建议是迭代地进行。从一个区域（标题/类）开始，查看 doxygen 产生的输出，然后逐步改进它。

[http://www.doxygen.nl/manual/docblocks.html](http://www.doxygen.nl/manual/docblocks.html)展示了添加 doxygen 文档的基础知识。

[http://www.doxygen.nl/manual/commands.html](http://www.doxygen.nl/manual/commands.html)提供了 doxygen 注释中可用的所有可用命令的参考。

[http://www.doxygen.nl/manual](http://www.doxygen.nl/manual)提供了额外的文档。

# android - 居中的 EditText 水平线

> ID：12816245
> 
> 赞同：0
> 
> 时间：2012-10-10T09:36:37.713
> 
> 标签：android, layout

在 Android 4.0.4 (Galaxy S3) 上的 EditText 上有一条灰线您可以在以下位置看到它： [https://www.dropbox.com/s/c4xz2yjaw1fbamr/Screenshot_2012-10-10-11-59-29。 png](https://www.dropbox.com/s/c4xz2yjaw1fbamr/Screenshot_2012-10-10-11-59-29.png) Galaxy S（Android 2.3.3）没有问题，您可以在以下位置看到： [https ://www.dropbox.com/s/1l6a7u9f8ey7q76/device-2012-10-10-120640.png](https://www.dropbox.com/s/1l6a7u9f8ey7q76/device-2012-10-10-120640.png)

我使用以下代码创建它们。我不会对 XML 文件做任何事情。它有什么问题？

谢谢

```
 for (int i = 0; i < editTexts.length; i++) {

            EditText rowEditText = new EditText(getBaseContext());

            rowEditText.setSingleLine(true);
            rowEditText.setTextColor(Color.BLACK);
            rowEditText.setImeOptions(EditorInfo.IME_ACTION_NEXT);
            filters[0] = new InputFilter.LengthFilter(10);
            rowEditText.setFilters(filters);    
            rowEditText.setHint((i + 1) + ".Oyuncu"); 

            LinearLayout.LayoutParams layoutParams=new LinearLayout.LayoutParams((int) (metrics.widthPixels * (0.6f)), (int) (metrics.heightPixels * (0.07f)));
            spinnerlayout.addView(rowEditText,layoutParams);
            editTexts[i] = rowEditText;

        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T18:11:25.960

我发现了问题。代码是这样的：

```
 EditText rowEditText = new EditText(getBaseContext()); 
```

我改为：

```
 EditText rowEditText = new EditText(Class.this); 
```

经验教训：不要在活动中使用 getBaseContext() 或 getApplicationContext()

# java - java中的业务数据验证方法

> ID：12816250
> 
> 赞同：1
> 
> 时间：2012-10-10T09:37:09.623
> 
> 标签：java, validation

我陷入了相当复杂的话题。我正在尝试提出一些通用的数据验证解决方案。我们有系统，类似于手机公司的客户管理系统，客户的账户中充满了信息（成本、付款、个人信息、事件档案、债务等），我需要在多种情况下验证这些数据。我不能忘记有各种帐户，其中一些需要特定的验证。我想不通的是，这项工作有一些通用的、简单的和可重用的系统。

主要思想是，将使用许多“约束”（例如：客户必须有姓名，如果有债务，不能多付等），并且还会有定义的情况（例如帐户取消, 付款发送需求等）当我想要验证数据时（从代码执行验证不是这里的主题）。情况将具有已验证或为其执行的约束列表。这就是我们想要的。

**但是什么是正确的java方法呢？**所有的情况和约束都应该是类吗？情况会有约束实例，而实例会有 validate() 方法？但每个人都会有不同的论点。还有其他想法吗？

我知道，这里的答案可能很长，所以我会很感激指导我有关该主题的一些文档。**非常感谢您的回答！**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T09:51:05.213

这听起来像我的[访客](http://en.wikipedia.org/wiki/Visitor_pattern)：

你有许多实体类型，它们都有一个共同点——`validate()`方法。如果您需要针对同一实体类型的不同验证策略，您可以在每个验证方法中使用[责任链](http://en.wikipedia.org/wiki/Chain-of-responsibility_pattern)，例如帐户首先运行名称验证器，然后运行地址验证器、余额验证器等。

祝你好运

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T09:45:05.413

看看这个模式：

[策略模式](http://en.wikipedia.org/wiki/Strategy_pattern)

[责任链模式](http://en.wikipedia.org/wiki/Chain-of-responsibility_pattern)

它们都对构建业务规则验证链/链很有用

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T10:01:52.590

看看这个： http: [//www.visual-rules.com/business-rules-management-software-rules-engine.html](http://www.visual-rules.com/business-rules-management-software-rules-engine.html)

我们正在使用该工具来管理数据一致性。这是一个很好的方法，因为您能够封装代码中的规则。没有 IT 知识的人能够通过规则建模器来管理业务规则。我认为处理业务数据验证是一个很好的概念！高温高压

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-10T09:46:28.657

你可能需要一个规则引擎？[http://java-source.net/open-source/rule-engines](http://java-source.net/open-source/rule-engines)

# css - 如何用桌子实现圆角

> ID：12816251
> 
> 赞同：0
> 
> 时间：2012-10-10T09:37:14.103
> 
> 标签：css

我有一张桌子的这个CSS：

```
 .table_stats tr:last-child td:first-child{
        -moz-border-radius:0 0 0 6px;
        -webkit-border-radius:0 0 0 6px;
        border-radius:0 0 0 6px;
    }

   .table_stats tr:last-child td:last-child{
        -moz-border-radius:0 0 6px 0 ;
        -webkit-border-radius:0 0 6px 0 ;
        border-radius:0 0  6px 0 ;
    } 
```

我需要的是它周围的另一个边框，它是白色的.. 可以用边框笔划吗？并给它一些宽度？

我还在桌子周围放了一个 div 并给了它这个 css：

```
.table_stats{
    border-color: white;
   border-width:2px;
        -moz-border-radius: 6px 6px  ;
    -webkit-border-radius: 6px 6px  ;
    border-radius: 6px 6px ;
} 
```

仍然没有工作..桌子周围没有额外的边框。

html标记：

```
 <div class="table_stats">
      <table border="0" width="800px" style="margin-top: 100px;" cellspacing="0px" class="table_stats">
   </table>  
              </div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T09:49:06.303

您需要指定 a`border-style`才能看到它的实际效果。无论如何，您的表格有 100 像素的上边距，请尝试将其删除并添加`display:inline-block;`到 div 中（否则它将扩大到 100%）。这应该够了吧

[演示](http://jsfiddle.net/gionaf/D54Wu/)

HTML：

```
<div class="table_stats">
<table border="0" width="800" cellspacing="0" class="table_stats">
</table>
</div>​ 
```

CSS：

```
div.table_stats{
    margin-top:100px;
    display:inline-block;
    border-color: white;
    border-width:2px;
    border-style:solid;
    -moz-border-radius: 6px;
    -webkit-border-radius: 6px ;
    border-radius: 6px ;
} 
```

# ruby-on-rails - Rails 教程演示应用程序中的 Restful URI

> ID：12816252
> 
> 赞同：0
> 
> 时间：2012-10-10T09:37:19.033
> 
> 标签：ruby-on-rails, ruby, http, url, rest

来自原始铁路教程：[http ://ruby.railstutorial.org/chapters/a-demo-app#sec-a_user_tour](http://ruby.railstutorial.org/chapters/a-demo-app#sec-a_user_tour)

URI 设计如下

```
/microposts
/microposts/1 
```

现在考虑如果你想将每个微博完全组织成**一个**类别（名称是唯一的），你会喜欢什么 URI？

```
/categories
/categories/123
/categories/jewelries
/categories/123/jewelries
/categories/jewelries/123 
```

或单数对应物

```
/categories
/categories/123
/categories/jewelry
/categories/123/jewelry
/categories/jewelry/123 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T09:52:38.017

命名 ReST 资源主要是出于个人喜好。只要让它们连贯一致。如果您选择以`/categories`列表命名来服务类别，请选择`/jewelries`以列表来服务珠宝。

对于一个类别，我更喜欢将单数`/category`用于类别列表`/category/123`。只要每个资源都遵循相同的规则，您就可以使用单数或复数。

# java - Java如何在2个远程PC之间建立连接链接

> ID：12816254
> 
> 赞同：0
> 
> 时间：2012-10-10T09:37:26.217
> 
> 标签：java, sockets, networking

我想开发一个远程控制PC的网站。如何使用java在2台远程PC之间建立连接链接。说我从美国 192.168.1.2 IP add 连接到加拿大 192.168.1.221 IP add？我很困惑 2 台不同的网络电脑如何连接在一起？

# php - 具有相同内容的多个测试页面 google 排名 seo

> ID：12816255
> 
> 赞同：0
> 
> 时间：2012-10-10T09:37:29.907
> 
> 标签：php, html, seo

我有一些页面名称 index2.php、index3.php、..
它们是我的 index.php 的副本，出于测试目的，
我是否应该因为双重内容而在 robots.txt 中禁止这些页面？
或者没关系，因为这些页面没有链接到我的网站上？
如果我因双重内容而受到谷歌的惩罚，那有多糟糕？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T09:45:01.967

如果您从未链接到测试页面或与任何人（可能会在其他地方发布）共享链接，并且它们没有出现在任何站点地图中，那么爬虫将永远找不到这些页面。

我不建议将它们添加到您的 robots.txt，因为任何人都可以查看您的 robots.txt 并找出您的测试页的位置。通常您不希望公众访问测试页面。

如果您想确保除了您之外没有人能够查看测试页面，请添加 IP 检查或其他一些安全措施，例如登录。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T09:45:37.767

欺骗内容或任何可能让您失望的东西都很难恢复。总的来说，我会说这取决于您对您的网站/服务所做的事情。如果一切都与内容有关，那么是的，它在某种程度上很重要。一旦 google 和其他引擎将您列在一个域池中以查找欺骗内容或其他可能的标志，这些标志可能会试图错误地提高您的排名，那么要退出该池是很困难的。这就像信任，一旦你为某人失去了它，他们就很难重新获得它。

再说一次很难说，我知道有些人已经连续几个月试图解决类似的问题，我知道有些人在一周内就解决了。

同样，这一切都归结为您的站点/服务正在做什么，以及它是如何做到的。这么多因素，不止一个人会杀死..

至于整个机器人文本的事情，如果你关心它，它没有坏处。像谷歌这样的引擎会注意机器人文本并足够尊重它。没有它，尽管没有直接链接谷歌和/或其他引擎有时会找到一种方法来找到它。我有整个公众从未见过的子域最终在搜索引擎中被索引，我让你最模糊的文件名从未公开链接到搜索引擎中......它的命中或失败

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T09:46:53.903

为了安全起见，你应该禁止它们，如果你完全删除它们会很棒。

关于惩罚，只是如果您在不同页面上有重复的内容，这些页面将开始相互竞争以获得更高的排名。而且您不希望自己的页面相互争夺排名。

# php - 如何从 PHP 中的 mail() 函数发送短信？

> ID：12816260
> 
> 赞同：1
> 
> 时间：2012-10-10T09:37:46.193
> 
> 标签：php, phpmyadmin

这是我在 php 中发送短信的代码

```
 if(isset($_POST['frmType'])&& $_POST['frmType'] == "guest_mail"){
        $from = $_POST['from'];
        $to = $_POST['to'];
        $carrier = $_POST['carrier'];
        $message = stripslashes($_POST['message']);

        if ((empty($from)) || (empty($to)) || (empty($message))) {
        echo"<br/>".$from;
        echo"<br/>".$to;
        echo"<br/>".$message;
        }

        else if ($carrier == "Verizon" || $carrier == "verizon") {
        $formatted_number = $to."@vtext.com";
        mail("$formatted_number", "", "$message");

        echo"<script type=text/javascript>abc();</script>"; 
        }

        else if ($carrier == "T-Mobile" || $carrier == "tmobile" || $carrier == "Tmobile") {
        $formatted_number = $to."@tomomail.net";
        mail("$formatted_number", "", "$message");

        echo"<script type=text/javascript>abc();</script>"; 
        }
    } 
```

而不是邮件功能，我使用了 5 种类型的邮件功能脚本

```
1\. mail('$formatted_number','','$message');

2\. mail('$formatted_number','','$message','$from');

3\. mail('$formatted_number','$subject','$message','$from');

4\. mail('$formatted_number','$subject','$message');

5\. mail("$formatted_number", "SMS", "$message"); 
```

但是我的短信仍然没有发送给我的兄弟

我参考以下链接发送短信

[http://www.ehow.com/how_7300418_send-sms-using-php.html](http://www.ehow.com/how_7300418_send-sms-using-php.html)

[http://www.daniweb.com/web-development/php/code/291287/send-text-messages-with-php](http://www.daniweb.com/web-development/php/code/291287/send-text-messages-with-php)

[http://www.textmessagetool.com/php_sms_script.php](http://www.textmessagetool.com/php_sms_script.php)

但它仍然无法正常工作。

我不明白究竟是什么问题？

请帮忙

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-10T09:48:46.410

要发送短信，您需要运营商。为此，您需要在某些第三方 API 提供商的网站上注册，以便他们提供 API。使用该 API，您可以发送 SMS。

如果您想使用 PHP 邮件功能发送短信，那么您需要有网络短信网关的地址。

```
phone_umber(unique)@domainname.com 
```

根据移动网络，域名将发生变化。有[SMS 网关列表](http://www.venture-ware.com/kevin/web-development/email-to-sms/)。

举例来说，您想给 X 先生发送一条短信，您只需将 3855550168@vtext.com 添加到任何电子邮件客户端，输入一条消息并点击发送。这将向 Verizon 无线网络上的电话号码 +1 (385) 555-0168 发送短信。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T04:23:46.193

通过以下脚本，我的短信已成功发送

```
$message = 'Hello';

$to = XXXXXXXXXX(Unique phone number);

$formatted_number = $to."@domainname";

mail("$formatted_number", " ", "$message"); 
```

邮件功能有问题。

对于发送 SMS，邮件功能的主题字段应为空。

我的短信已成功发送给我的兄弟。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-30T00:56:49.930

实际上，您可以使用 PHP mail() 发送。这有点棘手，您必须使用标头而不是仅使用“发件人”地址。最好有一个 SMS 提供商，但这种方法有效。

发送邮件的代码：

```
$sms_gateways = file_get_contents('sms_gateways.txt'); //SMS gateways (see txt file below)

$tmp = split("\n", $sms_gateways); //parse gateways file
$SMS_GATEWAYS = array();

for ($i=0; $i<count($tmp); $i++) {
    $itm = split(",", $tmp[$i]); //parse title/format
    $SMS_GATEWAYS[$itm[0]] = $itm[1]; //add # format to array
}

$eol = "\n"; //varies between Linux/Mac/Windows End Of Line...usually \n
$headers = 'From: SMS <sms@mywebsite.com>'.$eol;
$headers .= 'Reply-To: SMS <sms@mywebsite.com>'.$eol;
$headers .= 'Return-Path: SMS <sms@mywebsite.com>'.$eol;   
$headers .= "Message-ID:<".$now." TheSystem@".$_SERVER['SERVER_NAME'].">".$eol;
$headers .= "X-Mailer: PHP v".phpversion().$eol;
$mime_boundary=md5(time());
$headers .= 'MIME-Version: 1.0'.$eol;
$headers .= "Content-Type: text/plain; boundary=\"".$mime_boundary."\"".$eol; 

$phone = '8005551212'; //target phone # (do not use any symbols or spaces)

//get A/B/C pieces in phone #:
$phone_a = substr($phone, 0, 3);
$phone_b = substr($phone, 3, 3);
$phone_c = substr($phone, 6, 4);

//assemble gateways emails:

foreach ($SMS_GATEWAYS as $key => $val) {
  $email_str = str_replace("#a", $phone_a, str_replace("#b", $phone_b, str_replace("#c", $phone_c, $val)));
  if (mail($email_str, "", $sms_txt, $headers)) {
    //echo "success sending to $email_str<br>\r\n";
    $sms_success_count++;
  } else {
    $sms_fail_count++;
  }
} 
```

sms_gateways.txt 文件：

```
Alaska Communications Systems,#a#b#c@msg.acsalaska.com
Alltell Wireless,#a#b#c@message.alltel.com
AT&T Wireless (1),#a#b#c@txt.att.net
Bell Canada,#a#b#c@txt.bell.ca
Boost Mobile,#a#b#c@myboostmobile.com
Cellular One (Dobson),#a#b#c@mobile.celloneusa.com
Cellular South,#a#b#c@csouth1.com
Centennial Wireless,#a#b#c@cwemail.com
Cincinnati Bell,#a#b#c@gocbw.com
Cingular (Postpaid),#a#b#c@cingular.com
Cingular (Prepaid),#a#b#c@cingulartext.com
Cricket,#a#b#c@sms.mycricket.com
Koodo Mobile and Telus Mobnility,#a#b#c@msg.telus.com
MetroPCS,#a#b#c@mymetropcs.com
MTS Mobility,#a#b#c@text.mtsmobility.com
Nextel,#a#b#c@messaging.nextel.com
Pioneer Cellular,#a-#b-#c@zsend.com
Pocket Wireless,#a#b#c@sms.pocket.com
PC Telecom,#a#b#c@mobiletxt.ca
Qwest Wireless,#a#b#c@qwestmp.com
Rogers Wireless,#a#b#c@pcs.rogers.com
SaskTel,#a#b#c@sms.sasktel.com
South Central Communications,#a#b#c@rinasms.com
Sprint(PCS),#a#b#c@messaging.sprintpcs.com
Sprint(Nextel),#a#b#c@page.nextel.com
Straight Talk,#a#b#c@vtext.com
Syringa Wireless,#a#b#c@rinasms.com
T-Mobile (USA),#a#b#c@tmomail.net
Unicel,#a#b#c@utext.com
US Cellular (USA),#a#b#c@email.uscc.net
Verizon (USA),#a#b#c@vtext.com
Viaero (USA),#a#b#c@viaerosms.com
Virgin Mobile (CA),#a#b#c@vmobile.ca
Virgin Mobile (USA),#a#b#c@vmobl.com 
```

此方法向列表中的每个运营商发送一封电子邮件，但只有其中一个会实际收到它（因为没有两个运营商使用相同的电话号码。）这可能会将您的服务器置于垃圾邮件黑名单中，但如果仅使用定期它不应该引起问题。

进一步说明：我在网关文本文件中使用#a#b#c 的原因是因为某些网关的区号/前缀/后缀格式不同，即：“#a-#b-#c@whatever.com "

# python - 检查字典中的双键

> ID：12816261
> 
> 赞同：0
> 
> 时间：2012-10-10T09:37:52.230
> 
> 标签：python, linux

> **可能重复：**
> [如果字典中的键重复，如何引发错误](https://stackoverflow.com/questions/4999233/how-to-raise-error-if-duplicates-keys-in-dictionary)

我最近正在生成包含数十万个键的庞大字典（这样通过查看它们来发现错误是不可行的）。它们在语法上是正确的，但在某个地方存在错误。它归结为“重复键”：

```
{'a':1, ..., 'a':2} 
```

这段代码编译得很好，我无法弄清楚为什么`a`key 的值`2`与我预期的一样`1`。现在问题很明显了。

问题是我将来如何防止这种情况发生。我认为这在 python 中是不可能的。我用了

```
grep "'.*'[ ]*:" myfile.py | sort | uniq -c | grep -v 1 
```

这不是防弹的。任何其他想法（在 python 中，这个 grep 只是为了说明我尝试过的内容）？

**编辑**：我不想要重复的键，只需要发现这种情况并手动编辑数据

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T11:26:32.393

您是否正在生成一个包含巨大字典的 Python 文件？就像是：

```
print "{"
for lines in file:
    key, _, value = lines.partition(" ")
    print "    '%s': '%s',"
print "}" 
```

如果是这样，你可以做很多事情来防止这种情况，因为你不能轻易地覆盖 builtin 的构造`dict`。

相反，我建议您在构造字典字符串时验证数据。您还可以生成不同的语法：

```
dict(a = '1', a = '2') 
```

`SyntaxError`..如果密钥重复，它将生成一个。但是，这些并不完全等效，因为字典键比关键字参数灵活得多（例如`{123: '...'} is valid, but`dict(123 = '...')` 是错误的）

您可以生成如下函数调用：

```
uniq_dict([('a', '...'), ('a', '...')]) 
```

然后包括函数定义：

```
def uniq_dict(values):
    thedict = {}

    for k, v in values:
        if k in thedict:
            raise ValueError("Duplicate key %s" % k)
        thedict[k] = v

     return thedict 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:09:32.403

如果您需要每个键有多个值，则可以使用 defaultdict 将值存储在列表中。

```
>>> from collections import defaultdict
>>> data_dict = defaultdict(list)
>>> data_dict['key'].append('value')
>>> data_dict
defaultdict(<type 'list'>, {'key': ['value']})
>>> data_dict['key'].append('second_value')
>>> data_dict
defaultdict(<type 'list'>, {'key': ['value', 'second_value']}) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T15:54:14.787

您没有确切地说或显示您是如何生成出现重复键的[字典显示的。](http://docs.python.org/reference/expressions.html#dictionary-displays)但这就是问题所在。

`{'a':1, ..., 'a':2}`我建议您使用这种形式，而不是使用类似构建字典的东西：`dict([['a', 1], ..., ['a', 2]])`它将从提供的`[key, value]`对列表中创建一个。`dict()`这种方法将允许您在将其传递给执行字典的实际构建之前检查重复的对列表。

这是检查重复对列表的一种方法的示例：

```
sample = [['a', 1], ['b', 2], ['c', 3], ['a', 2]]

def validate(pairs):
    # check for duplicate key names and raise an exception if any are found
    dups = []
    seen = set()
    for key_name,val in pairs:
        if key_name in seen:
            dups.append(key_name)
        else:
            seen.add(key_name)
    if dups:
        raise ValueError('Duplicate key names encountered: %r' % sorted(dups))
    else:
        return pairs

my_dict = dict(validate(sample)) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-10T09:40:03.120

字典不能包含双键。所以你需要做的就是执行代码然后转储`repr()`dict。

另一种选择是将字典项创建为`(key, value)`元组。通过将它们存储在一个列表中，您可以轻松地从它们创建一个 dict，然后检查`len()`dict/list 的 s 是否不同。

# android - 在 OSX for Android 上构建 libiconv 时如何解决“langinfo.h not found”错误？

> ID：12816267
> 
> 赞同：1
> 
> 时间：2012-10-10T09:38:14.170
> 
> 标签：android, macos, android-ndk, libiconv

我尝试构建`libiconv`一个可供 android-JNI 访问的 bibliothek。

我发现很多示例 makefile 包含在我的 Android.mk 中。问题是，每次我运行时`ndk-build`都会出现以下错误：

```
libiconv/libcharset/lib/localcharset.c:51:24: fatal error: langinfo.h: No such file or directory 
```

我调用`./configure`了 libiconv 文件夹，但我仍然找不到`langinfo.h`该文件夹​​的内部。

我正在使用 Mac OSX Mountain Lion。有人知道该怎么做吗？

**更新**：有`langinfo.h`一个`/usr/include`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-10-30T04:57:41.253

我在为 android 构建 xbmc 时遇到了同样的情况。我刚刚在包含目录中创建了一个空文件“langinfo.h”。并且运作良好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-13T22:31:36.513

`<langinfo.h>`不是 Android NDK 的一部分。

标`<langinfo.h>`头包含用于标识 langinfo 数据项的常量。您可以安全地将系统头文件复制`/usr/include`到项目的包含目录中，以解决编译错误。

但是请注意，这可能只是第一个症状。Android 根本不包含兼容 langinfo 的数据，并提供完全不同的本地化工具。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-06-10T08:34:03.497

尝试这个

修改libiconv/libcharset/config.h

评论这行「#define HAVE_LANGINFO_CODESET 1」</p>

然后再次ndk-build

[![在此处输入图像描述](../Images/a181c0c9899b07b9b3540a8a1a89b715.png)](https://i.stack.imgur.com/CfUiW.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-10-09T02:12:51.687

您应该能够在 .conf 下找到 langinfo.h `NDK_DIR/sources/android/support/include`。确保将其包含在您的包含路径中。

# jqgrid - jqGrid - 自定义模式弹出窗口

> ID：12816269
> 
> 赞同：1
> 
> 时间：2012-10-10T09:38:17.323
> 
> 标签：jqgrid

有没有办法自定义模式弹出窗口以在 jqGrid 中进行编辑？我有这种情况：带有客户信息的网格显示街道、邮政编码、城市、国家...

我想在您单击“编辑”时显示此附加信息

那可能吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T13:05:01.107

```
 {
            name:'id_calificacion',
            index:'id_calificacion', 
            width:100,
            hidden: true,//oculta el campo en el grid
            sortable:false,
            editable:true
            editrules:{edithidden:true}//this option show the fiels in edit mode
        }, 
```

# sql - 如何在 SQL Server 中使用 for 循环

> ID：12816272
> 
> 赞同：5
> 
> 时间：2012-10-10T09:38:22.823
> 
> 标签：sql, sql-server

我必须在 SQL Server 2005 的表中更新多行 (29)。

```
SELECT * from tblState ORDER BY StateCode ASC. 
```

在这个表中有一个整数列，我需要分配从 1 到 29 的数字。例如

```
BEFORE

A 3 

B 6

C 2 
D 1 
```

```
AFTER

A 1  
B 2  
C 3  
D 4 
```

如何有效地使用升序号更新每一行？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-10T09:42:43.743

```
WITH
  sequenced_data AS
(
  SELECT
    ROW_NUMBER() OVER (ORDER BY StateCode ASC) AS sequence_id,
    *
  FROM
    tblState
)
UPDATE
  sequenced_data
SET
  integer_column = sequence_id 
```

当您要求循环时，我猜您可能不理解此代码。

因此，我强烈建议您创建一个虚拟表来玩这个，既要了解它的工作原理，又要确保它符合您的要求/期望。

*   该`WITH`语句类似于子查询
*   在那，`ROW_NUMBER()`创建你想要的顺序ID
*   外部查询然后更新列*（虽然它引用了子查询，但真正的表确实得到了更新）*

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-10T09:42:48.180

您应该尽可能避免 SQL 中的循环。SQL Server 针对基于集合的操作进行了大量优化。

在这种情况下，您可以使用`CTE`with[`ROW_NUMBER`](http://msdn.microsoft.com/en-us/library/ms186734(v=sql.90).aspx)函数：

```
WITH CTE AS
(
   SELECT StateCode, IntColumn
   ,  RN = ROW_NUMBER() OVER (ORDER BY StateCode ASC)
   FROM dbo.tblState
)
UPDATE CTE SET IntColumn = RN; 
```

[要踢的坏习惯：认为 WHILE 循环不是 CURSOR](https://sqlblog.org/2012/01/26/bad-habits-to-kick-thinking-a-while-loop-isnt-a-cursor)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T09:47:37.393

试试这个：

```
with CTE1 as(select StateCode,intcol,ROW_NUMBER() over (order by StateCode) as rn from tbln)
update CTE1 set intcol=rn
select * from tbln 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-10T09:49:27.977

您可以使用公用表表达式

```
with c as
(
    select ID, ROW_NUMBER() 
    over (order by StateCode ASC) as cn 
    from tblState 
)
update c set ID = cn 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-10T09:55:45.280

好的，不要将数字存储在表中，因为每次插入新行时都必须更改它。

做就是了

```
SELECT
                ROW_NUMBER() OVER (ORDER BY StateCode ASC) sequence_id
              , *   
    FROM 
              tblState 
```

每次你把数据拿出来。

如果您有很多行并且需要快速执行此操作，请在`StateCode ASC`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-10T10:20:35.737

我没有 cte 的选择：

```
UPDATE d
SET d.integer_column = d.sequence_id
FROM (
      SELECT integer_column, ROW_NUMBER() OVER (ORDER BY StateCode ASC) AS sequence_id 
      FROM dbo.tblState
      ) d 
```

# user-controls - 将用户控件的大小调整为容器的宽度

> ID：12816280
> 
> 赞同：1
> 
> 时间：2012-10-10T09:38:58.313
> 
> 标签：user-controls, vb6, containers

我正在创作一个新的 UserControl，我想知道容器控件何时调整大小，以及何时将 UserControl 的宽度设置为容器的宽度？

我虽然可以设置 Alignable 属性并将其设置为 AlignTop 但当容器是 TabControl 时这不起作用，因为它将控件移动到选项卡上。

我不相信 AmbientChanged 事件会在父调整大小时触发？

有什么方法可以检测到这个吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:25:34.927

当父尺寸改变时，环境没有变化。由于`Align`无济于事，您需要使用表单或 tabstrib 的调整大小代码来调整用户控件的大小。

或者，您可以在图片框中对齐您的用户控件，但仍需要由容器在代码中调整其大小。

**这里是龙！**

另一个更脆弱的选择是获取对容器控件的引用并将其分配给`VBControlExtender`带有`WithEvents`. 然后，这将允许您对`Resize`事件做出反应（如果有的话）并调用`Extender.Move`. 请注意，您必须将代码添加到父表单以在关闭时清除它，否则您将获得循环引用并且表单将无法正确关闭。

# ios - 如何访问 iPod 媒体库？

> ID：12816282
> 
> 赞同：1
> 
> 时间：2012-10-10T09:38:59.490
> 
> 标签：ios, cordova, media, picker

我正在尝试从 PhoneGap (Cordova) 中访问 iPod 媒体库，以便能够为我们从用户的库中挑选一首歌曲，最好将其复制到文档文件夹中。有人对如何实现这一目标有任何建议吗？

我在想我必须在 Objective-C 中本地编写它并创建一个 JS 插件来与之交互？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-17T14:37:47.407

如果有人感兴趣，我可以通过创建自己的 Cordova 插件来显示 iPod Media Picker 来解决这个问题，一旦用户选择了一首歌曲，它就会转换并将歌曲复制到应用程序文件夹并返回文件名以及专辑、艺术家, duration 等返回给 JS 使用。

我将很快上传到 GitHub，供任何需要的人使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-01-21T07:35:18.583

我已经创建了插件，看看它是否有帮助 -

[iOS 音频选择器](https://github.com/an-rahulpandey/ios-audio-picker)

# php - 如何打开目录并打开目录中的每个文件？

> ID：12816283
> 
> 赞同：0
> 
> 时间：2012-10-10T09:39:04.710
> 
> 标签：php, file, directory

我正在尝试打开一个目录并打开目录中的每个文件。

这是我打开目录的代码；

```
$handle = opendir ('hoe7b_data');
while(false !== ($file = readdir($handle))){
echo "$file<br />";
}
closedir($handle); 
```

我现在希望我的代码一个一个地打开每个文件。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T09:44:48.143

```
<?php
if ($handle = opendir('.')) {
    while (false !== ($entry = readdir($handle))) {
        if ($entry != "." && $entry != "..") {
            $fileHandle = fopen($entry, "r");
            while (!feof($fileHandle)) {
                $fileContent = fgets($fileHandle);
                echo $fileContent;
            }
            fclose($fileHandle);
            echo "$entry\n";
        }
    }
    closedir($handle);
}
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T09:45:21.950

用于[`is_file`](http://in1.php.net/manual/en/function.is-file.php)检查它是否是文件并将[`file_get_contents`](http://in1.php.net/manual/en/function.file-get-contents.php)内容作为字符串读取。

```
$handle = opendir ('hoe7b_data');
while(false !== ($file = readdir($handle))){
  if (is_file($file)) {
    $file_content = file_get_contents($file);
    echo $file_content;
  }
}
closedir($handle); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T09:46:39.677

确定您不想只输出任何内容....

```
$type = array("txt");
$fi = new FilesystemIterator(__DIR__, FilesystemIterator::SKIP_DOTS);
foreach ( $fi as $file ) {
    if (in_array($file->getExtension(), $type))
        echo file_get_contents($file);
} 
```

# sparql - SPARQL：查询以获取与第三个类共享相同连接的两个类的所有实例

> ID：12816284
> 
> 赞同：4
> 
> 时间：2012-10-10T09:39:05.807
> 
> 标签：sparql, ontology

我试图了解 SPARQL 的功能，我想知道这种查询是否可行：

[我的本体结构图](http://www.pictureupload.de/originals/pictures/101012113644_ProblemDiagram.jpeg)（对不起，我还不允许发布图片）

我想获取与 B 类的相同实例有连接的 A 类和 B 类的所有实例。所以某种：

```
Select ?a, ?c
Where
{
 ?a myOntology:ab ?c .
 ?c myOntology:cb ?B .
} 
```

这会给我：

```
A:1 C:1
A:2 C:1 (with B:2)
A:2 C:1 (with B:3) 
```

（其中字母是类，编号是实例，从顶部开始计算）

但不同的是，我只想要具有完全相同的 B 相关实例的那些：

```
A:2 C:1 (with B:2 and B:3) 
```

这是可能的还是我必须使用外部逻辑来获得它？

我会很高兴得到任何答案...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T19:27:46.427

是的你可以！如果你可以使用不存在。

SPARQL 与 SQL 一样，没有通用量词，但您可以使用嵌套的 NOT EXISTS-s。

您的查询是，在伪 SPARQL 中，“给我所有对 (a,c)，这样 abc 就没有其他 bb 这样 a-bb 而不是 bb-c --- 并且虎钳诗句：bb-c 而不是 a- bb":

```
PREFIX : <http://test/>
SELECT ?a ?b ?c
WHERE 
{ ?a :ab ?b .
  ?b :bc ?c .
  FILTER NOT EXISTS
  { ?a :ab ?bb .
    FILTER NOT EXISTS
    {  ?bb :bc ?c . } 
  }
  ## vise verse:
  FILTER NOT EXISTS
  { ?bb :bc ?c .
    FILTER NOT EXISTS
    {  ?a :ab ?bb . } 
  }
} 
```

运行它

```
@prefix : <http://test/> .
:a1 :ab :b1 .
:a1 :ab :b2 .
:a2 :ab :b2 .
:a2 :ab :b3 .
:b2 :bc :c1 .
:b3 :bc :c1 . 
```

给

```
----------------------------------------------------------
| a                | b                | c                |
==========================================================
| <http://test/a2> | <http://test/b3> | <http://test/c1> |
| <http://test/a2> | <http://test/b2> | <http://test/c1> |
---------------------------------------------------------- 
```

# jquery - 从以前的位置恢复 webapp？

> ID：12816286
> 
> 赞同：5
> 
> 时间：2012-10-10T09:39:11.293
> 
> 标签：jquery, iphone, web-applications, jquery-mobile, mobile-safari

我有一个 web 应用程序，它在用户进行过程中存储用户数据，以便如果他们在 iPhone 上的主屏幕应用程序模式下单击外部链接并离开应用程序以查看网页或类似内容。

当他们返回 webapp 时，将如何在同一位置恢复。？目前它不会到相同的位置，它重定向到主页我希望它从以前的位置恢复..

如何做到这一点，任何想法？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-10T13:08:37.233

Web 应用程序不可能（在大多数情况下）从中断的地方恢复，因为由于用户将 Web 应用程序图标（假设在 iOS 设备上）存储为本质上是主屏幕上的书签，因此它只是启动当他们返回 Web 应用程序时，该特定网页作为 Web 应用程序。

但是，您可以做的是设置一个 cookie（通过 PHP 或 Javascript），该 cookie 等于用户每次查看移动应用程序中的页面时用户正在查看的完整 URL。例如（在 PHP 中）：

```
//--- Set lastPage cookie for 24 hrs for your domain --- //
setcookie('lastPage', 'http://www.example.com/products/bicycles', time()+86400, '/'); 
```

**回答：**

在您的主页上，在显示任何内容之前，请检查是否设置了 PHP（或选择的语言）`$_COOKIE['lastPage']`。如果是，则执行 if 语句将用户重定向到最后查看的页面。

```
<?php
    if(isset($_COOKIE['lastPage'])) {
        header('location: '.$_COOKIE['lastPage']);
        exit();
    } 
?> 
```

这对用户来说是无缝的，并且看起来好像网络应用程序正在“记住”他们的会话。因此，在除主页之外的每个页面的顶部，您可以在显示任何内容之前将代码放在下面（将 URL 替换`pageUrl`为每个单独页面的实际 URL）：

```
<?php     
    $pageUrl = 'http://www.example.com/products/bicycles/';
    setcookie('lastPage', $pageUrl, time()+86400, '/');
?> 
```

要遍历数据库结果：

```
<?php     
    foreach(database['row'] as $variableName => $variableValue) {
        setcookie($variableName, $variableValue, time()+86400, '/');
    }
?> 
```

# objective-c - 如何在不影响 UIBarButtonItems 的情况下设置 UIButton 的外观？

> ID：12816289
> 
> 赞同：9
> 
> 时间：2012-10-10T09:39:17.760
> 
> 标签：objective-c, ios, ios5, appearance, uiappearance

使用以下代码自定义常规 UIButtons 也会影响 UIBarButtonItems 和文本字段中的清除按钮。

```
[[UIButton appearance] setBackgroundImage:greenButtonImage forState:UIControlStateNormal]; 
```

我根本**不**希望自定义后面的元素，只希望自定义*圆形矩形按钮*。我意识到使用 appearanceWhenContainedIn: 可用于为 UIBarButtonItems 和 UITextField 设置自定义外观，但我希望这些按钮保持标准。子类化在这里不是一个选项，因为这样一个简单的任务不需要它。

有一个类似的问题，但它没有解决这个问题。[为什么 -[[UIButton appearance] setBackgroundImage] 会影响 UIBarItem 对象的初始外观以及如何纠正它？](https://stackoverflow.com/questions/8734419/why-does-uibutton-appearance-setbackgroundimage-affect-the-initial-appearan)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-10-21T14:06:31.827

我之前使用的一种解决方案是取消包含在 UINavigationBar 内的 UIButtons 的“backgroundImage”属性：

```
[[UIButton appearanceWhenContainedIn:[UINavigationBar class], nil] setBackgroundImage:nil forState:UIControlStateNormal]; 
```

这应该允许您在其他情况下自定义 UIButton，而无需触摸 UINavigationBar 中的 UIBarButtonItem 内的那些。

# c# - 在 VB.NET 中添加新项目时所有项目的列表消失了

> ID：12816290
> 
> 赞同：0
> 
> 时间：2012-10-10T09:39:18.507
> 
> 标签：c#, vb.net, visual-studio-2010, forms

在我在 VB.NET 中添加新项目时看到这个之前：

![在此处输入图像描述](../Images/2fc75b398b766ed2e06dab6b429bfcc0.png)

但是现在从昨天开始，东西都消失了，我看不到它们了。我能看到的是：

![在此处输入图像描述](../Images/1096a9fcf1fb4237e8a0d6e5676fa66d.png)

此外，当我右键单击我的项目并添加`Windows Form`它时，它显示相同....上面的一个

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:00:59.143

我得到了答案:)

关闭 Visual Studio 的所有实例。打开 Visual Studio 命令提示符并键入，

```
devenv /installvstemplates 
```

按 Enter。让这个过程完成，现在打开视觉工作室。您将在 Visual Studio 安装的模板下获得所有缺少的模板。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T09:43:48.977

当您创建一个新项目时，第一个项目将显示所有项目。在第二个屏幕中，您只是将一个项目添加到现有项目中。即右键单击**Project**，然后选择**Add new Item。**

如果您想查看第一个屏幕，请右键单击**解决方案**并选择**添加新项目**

# c# - 在 Udp 级别：“每个套接字地址通常只允许使用一次”

> ID：12816291
> 
> 赞同：3
> 
> 时间：2012-10-10T09:39:22.167
> 
> 标签：c#, udp, udpclient, socketexception

我的场景是：

有两种软件在两台不同的机器上运行，一台作为服务器，一台作为客户端。它们都使用相同的端口在 UDP 级别上相互通信。（由于客户端硬件，无法在 TCP 级别设置通信（内存有限））。这种情况现在已经有 15 年的时间了。

现在我想为这个客户端制作一个模拟器，这样我就不必使用客户端了（因为每次我需要调试和排除故障时都需要重新配置它）。而且它与我所在的位置不同。

我所做的是在虚拟网卡（使用 de devcon 实用程序创建）上制作了一个简单的客户端应用程序，其中包含侦听器端口和发送器端口（与服务器相同）

现在，当我运行客户端时，我得到一个 SocketException：“每个套接字地址（协议/网络地址/端口）通常只允许使用一次”（这是我启动客户端时发生的第一件事）

这发生在我创建侦听器的行：`UdpClient listener = new UdpClient(listenPort);`

在 osi 模型中，首先是网络层（IP 地址），然后是端口号（带有 TCP/UDP 层）。

```
7   Application     Process Application     
6   Presentation
5   Session
4   Transport       Host to host          TCP, UDP  Packets
3   Network         Internet              IP, ICMP  Frames
2   Data Link       Network Access        ARP       Bits
1   Physical 
```

客户端没有在与服务器相同的网卡上监听（但它们都在同一台计算机上运行）。

我不明白的是为什么这个消息？可能是不可能创建虚拟网卡并在同一台计算机上使用相同的端口？（因为我想在同一台计算机上运行客户端和服务器）

[编辑] ![设置场景](../Images/c49870d9bc2015ec7b21c142ed2ab77c.png)

我只是想知道这可能是不可能的，因为它为所有网卡使用一个端口列表，因此它已经被使用了。然后我的问题是：“如何制作第二个要监听的端口列表（因为它是同一台计算机中的不同网卡？”

几乎和VirtualBox 或VirtualPC 做一个新的虚拟网卡一样。创建它们时，可以在同一个端口上侦听（尽管它是虚拟机），但仍然是相同的硬件。那么问题来了，他们是怎么做到的？

[/编辑]

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T09:59:49.763

1.  您可以在虚拟机中运行/调试。
2.  你可以买便宜的（

至于添加第二个虚拟网络适配器，我从未见过在您的机器上伪造另一张卡的程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T12:31:17.960

创建新的 UdpClient() 时指定 0 作为端口号

```
var clt = new UdpClient(0); 
```

根据 MSDN 上的文档，底层提供商会分配一个免费的端口号，而不会发生冲突。

您的软件是用于测试机器人的模拟器。对我来说，没有必要为此遵循客户端硬件的规范。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-18T12:52:31.183

我已经解决了我的问题！我上述想法的理论有效。

我发现我的前任已经在当前计算机中所有可用的网卡上设置了一个 UdpPortListener....

```
 IPEndPoint(IPAddress.Any, receivePort); 
```

我已经在我想听的网卡上设置了它，它可以工作！这里的结论是，永远不要对某人如何实现代码（即使它在纸上说的）做出假设，并且总是尝试对事情的实际处理方式进行一些“逆向工程”！

谢谢大家在这里帮助我！

# python - 在 numpy 中更有效地向量化这个卷积类型循环

> ID：12816293
> 
> 赞同：7
> 
> 时间：2012-10-10T09:39:26.887
> 
> 标签：python, performance, numpy, vectorization

我必须做以下类型的许多循环

```
for i in range(len(a)):
    for j in range(i+1):
        c[i] += a[j]*b[i-j] 
```

其中 a 和 b 是短数组（大小相同，大约在 10 到 50 之间）。这可以使用卷积有效地完成：

```
import numpy as np
np.convolve(a, b) 
```

但是，这给了我完整的卷积（即，与上面的 for 循环相比，向量太长了）。如果我在卷积中使用“相同”选项，我会得到中心部分，但我想要的是第一部分。当然，我可以从完整的向量中去掉我不需要的东西，但如果可能的话，我想去掉不必要的计算时间。有人可以建议对循环进行更好的矢量化吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-10T14:39:53.327

你可以在 Cython 中编写一个小的 C 扩展：

```
# cython: boundscheck=False
cimport numpy as np
import numpy as np  # zeros_like

ctypedef np.float64_t np_t
def convolve_cy_np(np.ndarray[np_t] a not None,
                   np.ndarray[np_t] b not None,
                   np.ndarray[np_t] c=None):
    if c is None:
       c = np.zeros_like(a)
    cdef Py_ssize_t i, j, n = c.shape[0]
    with nogil:
        for i in range(n):
            for j in range(i + 1):
                c[i] += a[j] * b[i - j]
    return c 
```

与我的机器`n=10..50`相比，它表现良好。`np.convolve(a,b)[:len(a)]`

这似乎也是一份工作[`numba`](https://github.com/numba/numba)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-10T14:06:56.903

在 numpy 中无法使用矢量化数组操作进行卷积。你最好的选择是使用 np.convolve(a, b, mode='same') 并修剪掉你不需要的东西。这可能比您上面的纯 python 中的双循环快 10 倍。如果你真的关心速度，你也可以用 Cython 自己动手，但它可能不会比 np.convolve() 快多少。

# selenium-ide - 如何在 selenium ide 中识别 iframe/弹出窗口中的任何元素？

> ID：12816296
> 
> 赞同：3
> 
> 时间：2012-10-10T09:39:41.933
> 
> 标签：selenium-ide

我是 selenium 的新手，想了解如何识别 iframe 或弹出窗口中的元素。在我们的应用程序中，当我们单击按钮时，会在同一页面上加载弹出窗口或 iframe。在该页面上，我需要单击一个按钮，然后继续我的其他操作。录制时，selenium 不会等待弹出窗口或 iframe 加载。由于 iframe/popup 仍在加载，它会转到下一个命令并失败，因为尚未找到该对象。

应该是使用等待命令来等待它加载或使用一些选择命令。

我很困惑。我尝试了几个命令，例如 waitforpopup、selectframe、waitforframetoload，但无法弄清楚。

对此的任何帮助都会很棒！

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-06T08:56:55.510

这是一个对我有用的解决方案：

**场景**：

1.  使用向 DOM 添加 iframe 的 JavaScript 加载页面`<iframe id="iframeId" />`
2.  iframe 加载
3.  现在我想检查 iframe 中的元素`<div id="divElement"></div>`

**解决方案**：

（Command > C，Target > T，Value > V）如果我没有包括，这意味着留空

*   **C** :*打开*   |   **电话**：*/*
*   **C**：*waitForElementPresent*   |   **T** : *iframeId*   |   **五**：*3000*
*   **C** :*等待帧加载*   |   **T** : *iframeId*   |   **五**：*5000*
*   **C**：*选择框架*   |   **T** : *iframeId*
*   **C** :*断言元素存在*   |   **T** : *css=div#divElement*
*   **C** :*验证元素存在*   |   **T** : *css=div#divElement*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T23:24:23.183

需要输入手动 IDE 命令来完成您的脚本。

要识别弹出窗口中的元素，您需要使用“selectPopup”命令将焦点放在弹出窗口中。

要识别 iframe 中的元素，请使用“selectFrame”命令并将 iframe id 输入到 Target 参数中。根据页面结构（可能有多个 iframe 等），使用没有目标 ID 的“selectFrame”命令可能会静默失败。

希望这些信息有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-07-31T11:14:36.267

这里有几个答案，任何人都可以从中受益，但有时 iframe id 可能是动态的，因为来自特定链接的不同内容（例如不同的付费订阅或试用等），并且为目标提供静态 id 会使您的测试失败。最好的情况是采用 iframe 标签的静态属性，例如类属性，这样您就可以每次都运行脚本。

# hsqldb - HSQL 从 TIMESTAMP 获取日期和时间

> ID：12816297
> 
> 赞同：2
> 
> 时间：2012-10-10T09:39:43.370
> 
> 标签：hsqldb

我有一个 HSQLDB 表，其中包含一些信息以及存储时间戳的位置

我想从特定时间段中选择信息，例如 10 月上午 0 点到下午 5 点之间的每个信息。

我没有发现任何像 mysql'ones DATE(myfield) OR TIME(myfield) 这样的函数非常适合我想要的。

```
SELECT * FROM myTable 
WHERE DATE(myField) BETWEEN '2012-10-01' AND '2012-10-30' 
AND TIME(myField) BETWEEN '00:00:00' AND '17:00:00' 
```

我发现的唯一事情是使用函数 YEAR()、DAYOFMONTH()、DAYOFYEAR()、HOUR() 和 MINUTE()，但我想知道是否没有其他更简单的解决方案。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-10T11:36:31.160

不需要专门的函数，因为 HSQLDB 为此目的支持通用 CAST 表达式

```
CAST(myField AS DATE)
CAST(myField AS TIME) 
```

HSQLDB 还支持从 DATE 到 TIMESTAMP 的自动转换。因此，可以在 myField 列上使用索引的优化查询应如下所示：

```
SELECT * FROM myTable 
WHERE myField BETWEEN DATE'2012-10-01' AND DATE'2012-10-30' 
AND CAST(myField AS TIME) BETWEEN TIME'00:00:00' AND TIME'17:00:00' 
```

# arrays - 在 matlab 中计算 3 维元胞数组的均值

> ID：12816302
> 
> 赞同：3
> 
> 时间：2012-10-10T09:40:04.717
> 
> 标签：arrays, matlab, matrix, cell, mean

我有一个大小为 <20x1x19> 的单元格数组 C，19 个元素中的每个元素都包含一组 20 个大小为 (80x90) 的矩阵，我如何计算每个 20 个矩阵的平均值并将结果存储在矩阵 M 中所以最后我将有一个大小为 80x90x19 的矩阵，其中包含单元阵列矩阵的平均值。

例如：

M(:,:,1) 将具有 C(:,:,1) 中元素的平均值；

M(:,:,2) 将具有 C(:,:,2) 中元素的平均值

等等。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-10T13:02:42.967

一点点数组操作可以让你放弃循环。您可以更改元胞数组的维度，从而生成`cell2mat`一个 80×90×19×20 数组，之后您需要做的就是沿维度 #4 取平均值：

```
%# C is a 20x1x19 cell array containing 80x90 numeric arrays

%# turn C into 1x1x19x20, swapping the first and fourth dimension
C = permute(C,[4 2 3 1]);

%# turn C into a numeric array of size 80-by-90-by-19-by-20
M = cell2mat(C);

%# average the 20 "slices" to get a 80-by-90-by-19 array
M = mean(M,4); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-10T11:10:26.663

假设我对您的理解正确，您可以通过以下方式做您想做的事情（评论逐步解释了我所做的事情）：

```
% allocate space for the output
R = zeros(80, 90, 19);

% iterate over all 19 sets
for i=1:19
    % extract ith set of 20 matrices to a separate cell
    icell = {C{:,1,i}};

    % concatenate all 20 matrices and reshape the result
    % so that one matrix is kept in one column of A 
    % as a vector of size 80*90
    A = reshape([icell{:}], 80*90, 20);

    % sum all 20 matrices and calculate the mean
    % the result is a vector of size 80*90
    A = sum(A, 2)/20;

    % reshape A into a matrix of size 80*90 
    % and save to the result matrix
    R(:,:,i) = reshape(A, 80, 90);    
end 
```

您可以直接跳过提取`icell`并连接第 i 组 20 个矩阵

```
A = reshape([C{:,1,i}], 80*90, 20); 
```

我在这里只是为了清楚起见。

上面的步骤可以更简短（但肯定更神秘！）通过以下`arrayfun`调用表示：

```
F = @(i)(reshape(sum(reshape([C{:,1,i}], 80*90, 20), 2)/20, 80, 90));
R = arrayfun(F, 1:19, 'uniform', false);
R = reshape([R2{:}], 80, 90, 19); 
```

匿名函数`F`本质上是循环的一次迭代。它被 调用 19 次`arrayfun`，每组矩阵调用一次。我建议你坚持循环。

# sql-server-2008-r2 - 拆分主分区

> ID：12816304
> 
> 赞同：0
> 
> 时间：2012-10-10T09:40:09.020
> 
> 标签：sql-server-2008-r2, data-warehouse, partitioning

在一张表上，我创建了一个基于年份的分区，我有 2008 年以后的数据，我创建了以下分区 2008、2009、2010 和 Primary。由于主分区有 2011 年和 2012 年的数据，我想拆分主分区

我为 2011 年创建了一个新文件组。我运行了用于拆分主分区的脚本

```
ALTER PARTITION SCHEME [PartScheme] NEXT USED [FG2011]
GO
ALTER PARTITION FUNCTION PartFunction() split Range (20111231)
GO 
```

在此之后主分区被拆分，但 2011 年的数据在主分区中，今年的数据在 2011 分区中。

```
partition_number    FileGroupName    value
1                    FG2008        20081231
2                    FG2009        20091231
3                    FG2010        20101231
4                    PRIMARY       20111231
5                    FG2011          NULL 
```

我希望今年 2012 年的分区位于 Primary。如何才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-04T12:40:52.307

这是该作业的脚本：

```
alter partition function PF_MyFunction()  MERGE RANGE (20111231)
alter partition scheme PS_Myfunction next used [FG2011]
alter partition function PF_MyFunction()  SPLIT RANGE (20111231) 
```

这里有一个脚本来检查您的分区实际上是否在不同的 FG 上。前后运行。

```
SELECT 
     schema_name(c.schema_id)   [Schema_Name]
    ,object_name(a.object_id)   [Table_Name]
    ,a.name                     [Index_Name]
    ,a.type_desc                [Index_Type]
    ,d.Partition_Number         [Partition_Number]
    ,b.name                     [Logical_DataSpace Name or PS name]
    ,b.data_space_id            [Logical_DataSpaceID_PS_ID]
    ,f.name                     [Partition Function]
    ,f.function_id              [Partition Function ID]
    ,g.value                    [Partition Boundary Value]
    ,ISNULL (h.data_space_id, b.data_space_id) 
                                [Physiscal DataSpace ID]
    ,i.name                     [FileGroup Name]
    ,i.type_desc                [Physical Dataspace desc]

FROM (sys.indexes a inner join sys.tables c 
    on a.object_id = c.object_id) 
INNER JOIN sys.data_spaces b on a.data_space_id = b.data_space_id
INNER JOIN sys.partitions d on d.object_id = a.object_id
LEFT JOIN sys.partition_schemes e on e.data_space_id = b.data_space_id
LEFT JOIN sys.partition_functions f on f.function_id = e.function_id
LEFT JOIN sys.partition_range_values g on g.function_id = f.function_id and g.boundary_id = d.partition_number

LEFT JOIN sys.destination_data_spaces h 
            on h.partition_scheme_id  = e.data_space_id AND h.destination_id = d.partition_number

INNER JOIN sys.data_spaces i on i.data_space_id = isnull (h.data_space_id, b.data_space_id)

WHERE c.name = 'MyTable' 
```

# .net - 触发器是否对存储过程有任何性能影响

> ID：12816308
> 
> 赞同：0
> 
> 时间：2012-10-10T09:40:17.367
> 
> 标签：.net, sql, sql-server, sql-server-2008, c#-4.0

我正在创建一个更新单个记录的存储过程。基于该记录，在另一个表中重新计算和更新大量记录。目前我正在为此目的使用触发器。我只想知道触发器是否有任何我应该研究的性能问题。即使触发器仍在运行，存储过程也会在触发器完成后返回结果，或者存储过程返回结果。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-10T09:58:48.593

存储过程的结果取决于触发器语句

```
 BEFORE or  AFTER 
```

关于它的优点和缺点的性能，[请参阅](http://msdn.microsoft.com/hi-in/magazine/cc164047%28en-us%29.aspx)

# apache - 如何在 htaccess 中为我的要求编写重写规则？

> ID：12816309
> 
> 赞同：0
> 
> 时间：2012-10-10T09:40:17.283
> 
> 标签：apache, .htaccess

以下是我正在使用的 htaccess 代码。

```
<IfModule mod_rewrite.c>
RewriteEngine On

RewriteRule ^admin/([a-z_]+)/?$ admin/index.php?m=$1 [QSA,L]

RewriteRule ^admin/?$ admin/index.php [L]

RewriteRule ^category$ category.php [L]

RewriteRule ^([a-zA-Z0-9_\-]+)$ /user.php?username=$1 [L]

</IfModule> 
```

当任何人访问 URL：[http](http://www.mydomain.com/category) ://www.mydomain.com/category时，它应该被重定向到[http://www.mydomain.com/category.php](http://www.mydomain.com/category.php)。但上面的代码不符合我的要求。

上面代码中的以下行对我不起作用。

```
RewriteRule ^category$ category.php [L] 
```

我该怎么做才能让它工作？

请指导我。提前致谢。

# php - 使用 CURL 和 PHP 通过 FTP 从远程站点的根目录获取目录和文件列表

> ID：12816311
> 
> 赞同：0
> 
> 时间：2012-10-10T09:40:34.617
> 
> 标签：php, curl, ftp, directory

我目前从我的 var_dump 中得到一个错误的结果。有什么方法可以从 FTP 帐户获取根目录上的文件夹和文件的结果。

```
 <?php

// create a new cURL resource
$ch = curl_init();

// set URL and other appropriate options
curl_setopt($ch, CURLOPT_URL, "ftp://www.xxxx.co.uk");
curl_setopt($ch, CURLOPT_USERPWD, "[xxxx]:[xxxx]");
// grab URL and pass it to the browser
$result = curl_exec($ch);
var_dump($result);
// close cURL resource, and free up system resources
curl_close($ch);

?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T09:52:12.383

你为什么不使用`ftp_connect`

```
$ftp = ftp_connect("ftp.xxxx.co.uk") or die('could not connect.');
$raw = ftp_login($ftp, "anonymous", "") or die('could not login.');
$raw = ftp_pasv($ftp, true) or die('could not enable passive mode.');
$raw = ftp_rawlist($ftp, "/public_html/");
var_dump($raw); 
```

# extjs - Ext.Net 选项卡和消息总线

> ID：12816313
> 
> 赞同：1
> 
> 时间：2012-10-10T09:40:46.400
> 
> 标签：extjs, ext.net

我正在创建一个 Ext.Net 项目，并在链接中使用了组选项卡面板：[http ://examples.ext.net/#/TabPanel/GroupTabPanel/Overview/](http://examples.ext.net/#/TabPanel/GroupTabPanel/Overview/)

第一件事是我想在每次单击子菜单时添加一个新选项卡。我还希望能够使用这些创建的选项卡中的消息总线使用从以前的选项卡广播的消息。

我在这里很迷失......任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T00:39:12.757

Ext.NET 示例资源管理器中的 MessageBus 示例可能会帮助您入门，请参阅

[http://examples.ext.net/#/search/MessageBus](http://examples.ext.net/#/search/MessageBus)

除此之外，您的帖子在细节上有点薄，所以我不确定还有什么可以推荐的。

# php - 在 wordpress 中将页面内容与模板功能混合的最简单方法？

> ID：12816319
> 
> 赞同：0
> 
> 时间：2012-10-10T09:41:21.793
> 
> 标签：php, wordpress, templates

我想知道是否可以将用户可以在 wordpress 中编辑的页面内容与模板功能混合使用。目前，我似乎必须决定`the_content`在我的模板中去哪里，这就是所有用户内容的去向。

但是，如果我想要一些用户内容，然后是我自己的模板功能，然后是用户可以在页面中添加的更多内容，然后是更多功能怎么办？

这是一个示例，底部 4 个框上方以蓝色突出显示的文本是功能。但理想情况下，我希望用户也能够通过 wordpress 更改 4 个框。但是我被迫硬编码那些我已经`the_content`在上面使用的。 [http://limerickfc.hailstormcommerce.com/academy/](http://limerickfc.hailstormcommerce.com/academy/)

还有更复杂的例子，只是一个简单的，谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T09:48:16.850

您可以使用[页面模板](http://codex.wordpress.org/Pages#Page_Templates)来运行自定义代码和自定义循环，这四个框完全属于[小部件](https://codex.wordpress.org/WordPress_Widgets)部分。或者，您可以使用[自定义字段](http://codex.wordpress.org/Custom_Fields)基本上使您的页面模板中的任何事情成为可能。但是，要制作一个不烂的性感的拖放式内容构建器界面是相当困难的。但可行。:)

希望这可以帮助。干杯!

# bash - 如何强制扩展 $path/* 的串联

> ID：12816322
> 
> 赞同：0
> 
> 时间：2012-10-10T09:41:28.330
> 
> 标签：bash, ubuntu

我正在编写一个脚本来删除一些文件，但我不明白星号扩展是如何工作的。这些是我解决问题的尝试：

```
rm "$path"*.txt
rm "$path"/*.txt
rm "$path"{*}.txt
rm "$path"'*'
rm "/folder/folder\ with\ spaces/*.txt" 
```

我还尝试将双引号 ( `"`) 替换为单引号 ( `'`) 和反引号 ( ```)。在每次脚本计算之后，我都会收到一个错误，因为`*`它不是替代品。所以现在我有两个问题：

1.  为什么星号没有展开？
2.  不同的引用字符 (` " ' ...) 有什么区别？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T09:45:19.523

在单引号中没有任何有趣的事情发生。甚至没有`$`- 变量扩展。您尝试过的一些应该可以工作（一些取决于变量内容）。而且，实际上，`*`如果没有匹配项，则很可能不会扩展。你确定你的名字是对的吗？

# objective-c - 将 sendAsynchronously 与 RKRequest 一起使用时应用程序崩溃

> ID：12816323
> 
> 赞同：0
> 
> 时间：2012-10-10T09:41:30.447
> 
> 标签：objective-c, ios, restkit

我想使用 Restkit 异步下载文件。但是，当使用 sendAsynchronously 方法时应用程序崩溃。如果我使用 sendSynchronously 而不是 sendAsynchronously，它不会崩溃。有没有人知道为什么？

这是我的代码

```
NSString *passURL = @"https://s3.amazonaws.com/mheydt-mhtnd/2012-03-13-1.png";
        RKRequest *request = [RKRequest requestWithURL:[NSURL URLWithString: passURL]];
        request.delegate = self;
        [request sendAsynchronously];

- (void)request:(RKRequest *)request didReceiveResponse:(RKResponse *)response {
    NSLog(@"didReceiveResponse");
}

- (void)request:(RKRequest *)request didLoadResponse:(RKResponse *)response {
   NSLog(@"didLoadResponse");   
} 
```

非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T12:53:42.953

以这种方式使用`sendAsynchronously`时，请求不会被保留。您最好使用`send`在实例中添加请求的方法`RKRequestQueue`（这可以防止请求过早释放）：

```
[request send]; 
```

**或者**，您可以自己强烈引用请求。您的代码将变为：

```
@interface MyClass
{
    RKRequest *request;
} 
```

我们假设这是一个强有力的参考。在实施中，您将拥有：

```
@implementation MyClass

- (void)sendTheRequest
{
    NSString *passURL = @"https://s3.amazonaws.com/mheydt-mhtnd/2012-03-13-1.png";
    request = [RKRequest requestWithURL:[NSURL URLWithString: passURL]];
    request.delegate = self;
    [request sendAsynchronously];
}

- (void)request:(RKRequest *)request didReceiveResponse:(RKResponse *)response {
    NSLog(@"didReceiveResponse");
    request = nil;
}

- (void)request:(RKRequest *)request didLoadResponse:(RKResponse *)response {
    NSLog(@"didLoadResponse");
    request = nil;
}

- (void)request:(RKRequest *)request didFailLoadWithError:(NSError *)error {
    NSLog(@"didFailLoadWithError");
    request = nil;
}

@end 
```

# objective-c - iOS6中的AppleKeyboards

> ID：12816325
> 
> 赞同：0
> 
> 时间：2012-10-10T09:41:34.177
> 
> 标签：objective-c, ios6

在 iOS6 之前，我使用 AppleKeyboards 来获取用户的键盘设置：

```
NSArray * keyboards = [[NSUserDefaults standardUserDefaults] objectForKey:@"AppleKeyboards"];
for (int i = 0; i < [keyboards count]; i++)
{
  NSLog(@"%@", [keyboards objectAtIndex:i]);
} 
```

但是在 iOS6 之后，我不能使用 AppleKeyboards 作为用户设置的键。有什么解决办法吗？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T14:12:03.087

您可以使用 UITextInputMode 类通过“+ (UITextInputMode *)currentInputMode”获取当前文本输入模式。

另请参阅：[https ://developer.apple.com/library/ios/#documentation/UIKit/Reference/UITextInputMode_Class/Reference/Reference.html](https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UITextInputMode_Class/Reference/Reference.html)

# c# - 检查 aspx 页面中的对象属性

> ID：12816327
> 
> 赞同：0
> 
> 时间：2012-10-10T09:41:40.003
> 
> 标签：c#, asp.net, object, properties

我有财产`public Client Clients { get; set; }`

如果我有一个加载对象：

```
Client objClients = populate();
if (objClients != null)
{
    Clients = objClients;
} 
```

我是否能够在 aspx 页面中访问该对象的属性，例如在 if 语句中。

我已经完成了以下操作，但我的页面变为空白并且加载事件没有运行，所以我认为它不正确：

```
<%if (this.Clients.Address1.Trim().Length > 0)
 { }%> 
```

**编辑：：：：**

如果我这样做

```
public string Address1 { get; set; }
Client objClients = populate();
if (objClients != null)
            {
 Address1 = objClients.Address1;
} 
```

然后在aspx文件中这样做它可以正常工作任何原因？？？

```
 <%if (Address1.Trim().Length > 0)
                      {%>
                      <%= Address1 %><br />
                    <%} %> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T09:54:20.600

您可以调整您的 { } 以在 <% 和 <%# 之间产生差异，也许您想在 {} 中注入数据，为此您必须使用`<%#`

`<%=`用于注入值，

`<%`用于运行代码。

对于此代码，我理解但没有 {}，如果 {} 包含注入数据的代码，则必须使用 <%#。

```
<% if (this.Clients.Address1.Trim().Length > 0) %> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T13:24:45.813

您还没有在 /aspx.cs 文件后面发布整个代码，因为我认为您可能在其中有错误。但我完全没有问题。

代码隐藏

```
namespace WebApplication1
{
    using System;

    public partial class _Default : System.Web.UI.Page
    { 
        public Client Clients { get; set; }

        protected void Page_Load(object sender, EventArgs e)
        {
            Client objClients = populate();
            if (objClients != null)
            {
                Clients = objClients;
            }
        }

        private Client populate()
        {
            return new Client() { Address1 =  "Somewhere in London" };
        }
    }

    public class Client
    {
        public string Address1 { get; set; }
    }
} 
```

加价

```
<%@ Page Language="C#" AutoEventWireup="true" CodeBehind="Default.aspx.cs" Inherits="WebApplication1._Default" %>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
</head>
<body>
    <form id="form1" runat="server">
        <% if (Clients.Address1.Trim().Length > 0){ %> 
            <%= Clients.Address1 %><br /> 
        <% }%>
    </form>
</body>
</html> 
```

# facebook - Facebook评论插件代码

> ID：12816328
> 
> 赞同：0
> 
> 时间：2012-10-10T09:41:40.827
> 
> 标签：facebook, plugins, comments

我已经看到一些关于同一主题的帖子，但并不是我想知道的

但我正在尝试将 facebook 评论框插件添加到我的网站中，但它似乎不起作用，这是它给我的代码

```
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1&appId=***************";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div class="fb-comments" data-href="http://www.facebook.com/pages/Cuba-Street/86653690342?fref=ts" data-num-posts="2" data-width="470"></div> 
```

但它似乎没有返回任何东西？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T11:56:12.850

我检查了您的代码而没有进行任何修改，它对我有用

# maven - Maven 模块依赖

> ID：12816334
> 
> 赞同：0
> 
> 时间：2012-10-10T09:41:54.290
> 
> 标签：maven

我有 2 个 Maven 模块 1 和 2，我想从 module2 调用 module1 中定义的类，但是这个类本身依赖于一些其他模块，这些模块作为依赖项添加到它的 pom.xml。那么将 module1 添加到的最佳方法是什么module2 以便它可以自动检测 module1 的所有依赖项。maven 还会查看类路径的另一件事吗？或者必须将所有内容添加为依赖项。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T09:46:18.437

只需将 module1 添加为 module2 的依赖项。Maven 中的依赖管理是传递性的：如果项目 A 依赖于项目 B，项目 B 依赖于项目 C，那么项目 A 依赖于项目 C。

Maven 不考虑类路径：所有依赖项都应该直接或间接地在项目的 POM 中表达。

# graphite - Graphite：单个命令的多个系列

> ID：12816337
> 
> 赞同：9
> 
> 时间：2012-10-10T09:42:06.083
> 
> 标签：graphite

我想将两个系列放在石墨*仪表板上*的同一张图中。但是，由于仪表板需要单行命令，我找不到不使用通配符的方法。

这是我想要在同一张图中的两个系列的示例：

```
sum(base.foo.bar.positive.*)
sum(base.foo.bar.negative.*) 
```

我尝试了几个分隔符，但我无法让它工作。有任何想法吗？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-10-11T10:45:17.153

你在这里有几个选择...

*   *通过仪表板*中的拖放将 2 个图形合并到图形上

 ***或者**

*   使用[sumSeriesWithWildcards](http://graphite.readthedocs.org/en/1.0/functions.html#graphite.render.functions.sumSeriesWithWildcards) () 函数

**合并 2 个或更多通配符匹配**

2.  在仪表板上打开您的第一个图表
3.  在同一个仪表板上打开第二个图表
4.  单击并按住第二个图形并将其拖到第一个图形上

**使用 groupByNode() 和通配符匹配**

这不是那么好，并且不会总是有效，但是您将能够在一行中完成所有这些。

```
sumSeriesWithWildcards(base.foo.bar.{positive,negative}.*, 3) 
```

这将执行以下操作：

*   选择所有匹配 base.foo.bar.positive.* 和 base.foo.bar.negative.* 的图
*   按位置 3 的节点对数据求和：正、负

您可能想阅读以下页面： http: [//graphite.readthedocs.org/en/1.0/functions.html](http://graphite.readthedocs.org/en/1.0/functions.html)*

# php - 检查电话号码是否相等，然后更新其他人

> ID：12816355
> 
> 赞同：2
> 
> 时间：2012-10-10T09:43:11.230
> 
> 标签：php, mysql

我是 PHP 的新手，我不太明白。

如果 ** $id 作为输入和 id 作为输入列 ** 已经在数据库中，我想检查 PHP 文件，如果有的话。然后应该更新所有其他值：经度、纬度、时间戳

这是我的代码：（只有重要的部分......）

```
file_put_contents('dump.txt', "POST: \n" . print_r($_POST, true) . "\n\n\n GET: \n" .   print_r($_GET, true));

// Performing SQL query
if (isset($_GET['data'])) {
$data = json_decode($_GET['data'], true);
$id = $data['id'];
$latitude = $data['latitude'];
$longitude = $data['longitude'];
$timestamp = $data['timestamp'];

$query = sprintf("INSERT INTO locatie (id, longitude, latitude, timestamp) VALUES ('%s', '%s', '%s', '%s')", mysql_real_escape_string($id) , mysql_real_escape_string($longitude),  mysql_real_escape_string($latitude), mysql_real_escape_string($timestamp))  ;
$result = mysql_query($query) or die('Query failed: ' . mysql_error());
echo "OK";

// Free resultset
mysql_free_result($result);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T09:52:06.337

这可以在单个 SQL 请求中完成。如果尚未完成，您需要`UNIQUE`在该字段上创建一个索引，然后完成您的请求，如下所示：`id`

```
INSERT INTO locatie (id, longitude, latitude, timestamp) 
    VALUES ('%s', '%s', '%s', '%s')
ON DUPLICATE KEY UPDATE 
    longitude=VALUES(longitude),
    latitude=VALUES(latitude),
    timestamp=VALUES(timestamp) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T09:52:37.373

逻辑是这样的

```
$sql = mysql_query("select * from table_name where phonenumber = your_phone number");
if(mysql_num_rows($sql) > 0)
{
    // your code for when phone number not present
}
else
{
   // your update query.
} 
```

这只是逻辑。使用`Mysqli`OR`PDO`代替`mysql`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T09:56:41.277

```
 first create sp like :
    CREATE PROCEDURE `SP_name`(IN `par1` INT, IN `par2` INT, IN `par3` Decimal)
    begin
      declare Rec_Count int ;   
    Proc:
      begin
         select count(*) into Rec_Count from  table UL where phoneno=par1;
       if(Rec_Count <= 0) then
         select '0' as success,'Phoneno is not found' as  response;
          leave Proc;
       end if;

        INSERT INTO locatie (col1,col2,...) VALUES (par1,par2,...);
        select '1' as success,'data successfully inserted.' as  response;
    end ;

    end

    ----------------
    then your code is :

  execute sp like from your code is :
$query="call sp_name(par1,par2,..);"
 $result = mysql_query($query) or die('Query failed: ' . mysql_error()); 
```

# vertex - 找到三个最近的点

> ID：12816356
> 
> 赞同：0
> 
> 时间：2012-10-10T09:43:12.657
> 
> 标签：vertex, nearest-neighbor

我有一个笛卡尔平面上的点列表和一个测试点。我想找到最接近测试点的三个点的列表索引。找到这些索引的更好方法是什么？提前感谢您的旅游回复。

=== 编辑 ===

我在 C++ 中找到了解决方案。首先我创建一个向量：

```
typedef struct
{
  int iIndex;
  double dSqrDistance;
} IndexedDistance;

std::vector<IndexedDistance> xDistanceVector; 
```

然后是一个对其元素进行排序的函数

```
bool compareIndexedDistance(IndexedDistance xD1, IndexedDistance xD2)
{
  return (xD1.dSqrDistance < xD2.dSqrDistance);
} 
```

然后在一个循环中计算所有距离，然后对它们进行排序，最后我取前三个元素：

```
IndexedDistance xDistanceElement;
for (int i = 0; i < xPointList.size(); i++)
{
  dSqrDistance = xPointList.at(i).sqrDistance(xTestPoint);
  xDistanceElement.iIndex = i;
  xDistanceElement.dSqrDistance = dSqrDistance;
  xDistanceVector.push_back(xDistanceElement);
}

std::sort(xDistanceVector.begin(), xDistanceVector.end(), compareIndexedDistance);
xDistanceVector.resize(3); 
```

就这样，我找到了我需要的东西。我不知道这是否是最好的方法，但它似乎有效。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-22T14:23:55.103

二进制空间分区可以提供 O(log n * log n) 的算法复杂度。

1.  确定点集的界限。Infinum 和 supremum 点将为您提供一个轴对齐的正方形，其中包含集合中的所有点。
2.  通过任意轴将边界方块一分为二。为每个正方形制作一个单独的包含点列表。将每个边界方块链接到父方块。
3.  重复分割边界方块（第 2 步），直到包含点的相应列表足够小以使用穷举搜索。

现在，您将能够使用树搜索来定位感兴趣点周围的空间，从而大大减少距离测试的次数。

棘手的部分是您必须扫描兴趣点周围的**所有相邻**边界方块，因为最近的点可能位于其中任何一个。

# wcf - 具有弹性的 StreamInsight Wcf 示例

> ID：12816357
> 
> 赞同：1
> 
> 时间：2012-10-10T09:43:15.903
> 
> 标签：wcf, streaminsight

我开始了解 StreamInsight (v2.1!) 并开始开发基于 StreamInsight 团队的 WCF 示例的应用程序。现在我想为该应用程序添加弹性和监控，但不知道如何。我已经尝试遵循检查点示例和这些教程，但没有运气： http: [//msdn.microsoft.com/en-us/library/hh290476 (v=sql.111).aspx](http://msdn.microsoft.com/en-us/library/hh290476(v=sql.111).aspx)

[http://msdn.microsoft.com/en-us/library/ee391166(v=sql.111).aspx](http://msdn.microsoft.com/en-us/library/ee391166(v=sql.111).aspx)

我应该调整 WcfObservable 吗？或者我应该如何为我的 observable、observer 和 query 添加弹性？

这是我的代码的一部分：

```
var wcfIn = app.DefineObservable(() => new WcfObservable(wcfSourceURL));
var wcfStream = wcfIn.ToPointStreamable(i => PointEvent.CreateInsert<Measurement>(i.T, i.M),
                                             AdvanceTimeSettings.IncreasingStartTime);

//Check measurements for deflections
var deflectionQuery = from r in wcfStream
                      where r.Value > measurableValue * 1 + threshhold || r.Value < measurableValue * 0 + threshhold
                      select new OutputEvent
                      {
                           M = r,
                           Deflection = (r.Value - measurableValue) / measurableValue,
                           Error = "Deflection"
                      };
var sqlObserver = app.DefineObserver(() => Observer.Create<OutputEvent>(SqlWritePoint));
proc = deflectionQuery.Bind(sqlObserver).RunCheckpointable(procName); 
```

在此先感谢您的时间！

# php - 服务器上显示的请求 URI 太大

> ID：12816359
> 
> 赞同：2
> 
> 时间：2012-10-10T09:43:22.137
> 
> 标签：php

我通过 url 传递以下数据：

```
<?php    
   $url = "generate_pdf.php/?feed=" . urlencode(serialize($result));    
   echo '<div id="left-sidebar">';
   echo '<a href="' . $url . '"><div id="pdf">Download PDF</div></a>';
   echo '</div>';
?> 
```

这里`$result`以数组的形式包含 rss 提要数据。我`urlencode(serialize($result)`用于通过 url 传递该数据，它在本地机器上完美运行，但在服务器上显示以下错误：

```
Request-URI Too Large
The requested URL's length exceeds the capacity limit for this server. 
```

请告诉我您对处理这个问题的看法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:06:19.013

我犯了这个错误（这不仅仅是不知道而不是犯了错误！）一次。我已经为 webapps 构建了一个 ajax 引擎。它仅使用 get 方法。一旦我有一个包含大量数据的表格，它就不起作用了。

经过一些研究，我发现了这一点：[看这里](http://www.boutell.com/newfaq/misc/urllength.html)

所以基本上大多数浏览器不会出现任何问题，因为它们支持大约 100.000 个字符。但是像 Apache 这样的大多数网络服务器只支持 URL 中的 4000 个字符。

不，你不能只配置 Apache 来接受更多。可以这样做，但您必须编辑源代码才能这样做。

**解决方案：**使用 POST 方法在 Web 服务器和客户端（很可能是浏览器）之间传输大量数据。

在您的情况下，我认为您想创建一个带有一些用户输入的 pdf，并且由于某种原因输入大于 4000 个字符。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T09:52:20.457

1.  将数据存储在服务器的某处（例如数据库）
2.  为此类数据分配唯一 ID
3.  在 URL 中传递该 ID
4.  使用 ID 作为键从存储中检索数据

# reporting-services - Reporting Services 2008 R2 中的水印高度

> ID：12816362
> 
> 赞同：0
> 
> 时间：2012-10-10T09:43:34.930
> 
> 标签：reporting-services

我想在 RS 2008 R2 中嵌入水印。

我第一次尝试高度为 1000 像素，但页面底部不见了。对于 800 像素，情况也是如此。有人知道全尺寸 A4 页面的最佳高度是多少？

问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T10:14:45.117

Rs 2008 R2 的分辨率为 96 dpi，因此水印的最佳分辨率为 21cm x 29.7cm 的 794 * 1123。

我在需要 300 dpi 的水印上遇到了一些大麻烦。默认情况下，您无法使用 RS 执行此操作。

如果您需要这个，您将不得不使用 Web 服务。例如：[有没有人想办法以大于 96ppi 的分辨率呈现 Reporting Services 报告？](https://stackoverflow.com/questions/3578087/has-anyone-figured-out-a-way-to-render-a-reporting-services-report-at-a-resoluti)

# java - 如何在给定的 XML 中打印日期和 ID

> ID：12816363
> 
> 赞同：0
> 
> 时间：2012-10-10T09:43:43.953
> 
> 标签：java, android

这是我的 xml 格式：

```
<taxmann>
    <docdetails>
        <info id="104010000000006516" date="20120120">
            <physicalpath>\\192.168.1.102\CMS\DATA</physicalpath>
            <filepath isxml="N">\CIRCULARS\DIRECTTAXLAWS\HTMLFILES\CIRDGBACDD4836150012011122012012.htm</filepath>
            <summary></summary>
            <description></description>
            <heading>DGBA.CDD. NO.H- 4836 /15.02.001/2011-12 | Clarification on Regulation of Interest Rates for Small Savings Schemes</heading>
            <correspondingcitation/>
            <hasfile>YES</hasfile>
            <sortby>20120328155728957</sortby>
            <parentid></parentid>
            <parentchapterid></parentchapterid>
        </info>
    </docdetails>
</taxmann> 
```

我能够检索标题数据，但我也想打印日期和 ID，但我无法做到这一点。请告诉我如何实现它。

```
XMLParser parser = new XMLParser();
    String xml = parser.getXmlFromUrl(url); // getting XML

    Document doc = parser.getDomElement(xml); // getting DOM element

    NodeList nl = doc.getElementsByTagName(KEY_ITEM);

    ArrayList<HashMap<String, String>> menuItems = new ArrayList<HashMap<String, String>>();
    HashMap<String, String> map;

    for (int i = indexRowStart; i < indexRowEnd; i++) {
        Element e = (Element) nl.item(i);
        // adding each child node to HashMap key => value
        map = new HashMap<String, String>();
        map.put("RowID", String.valueOf(RowID));

        String Heading= parser.getValue(e, KEY_NAME).replace("|", "|\n").replace("|", "");
        map.put(KEY_NAME,Heading);

        // adding HashList to ArrayList
        menuItems.add(map);
} 
```

这是我的代码，请告诉我如何解析的逻辑，以便我也可以获得日期和 ID。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-10T09:57:22.970

您确定这是读取该 xml 文件的最简单方法吗？只是看起来有点太复杂了。为什么不手动浏览树结构？

我会说你会这样理解：

```
SAXBuilder builder = new SAXBuilder();     
Document doc;
doc = builder.build(file);

//rootElement would be your "taxmann" element
Element rootElement =   doc.getRootElement();
Element docdetailsElement = rootElement.getChild("docdetails");
Element infoElement = docdetailsElement.getChild("info");

String id = infoElement.getAttributeValue("id");
String date = infoElement.getAttributeValue("date"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T09:56:38.660

您应该使用 Element#getAttribute(String name) 方法。在您的情况下，例如：

```
String id=e.getAttribute("id");
String date=e.getAttribute("date"); 
```

# c++ - 是否可以定义一个 C++11 可变参数类模板，其可变参数基数取决于整数模板参数？

> ID：12816364
> 
> 赞同：5
> 
> 时间：2012-10-10T09:43:45.473
> 
> 标签：c++, templates, c++11

对不起这个令人费解的问题，但基本上这个想法很简单。我有一个可变参数类模板：

```
template<class P1, class P2, class ... P3s>
class A 
{
    ...
}; 
```

我想要一个 A 类生成器，它接受一个整数模板参数 N 并用 N 个 P3s 参数实例化一个 A 类。喜欢：

```
template<class P1, class P2, class P3, int N>
class GenA : /* somehow */ : public A<P1, P2, /* N times */ P3, P3, ...>
{
    ...
}; 
```

所以用法是：

```
// Generates A<Class1, Class2, Class3, Class3, Class3>
GenA<Class1, Class2, Class3, 3> a; 
```

我已经尝试过使用编译时递归和部分专业化来做到这一点

```
template <class P1, class P2, int N, class P3>
class GenA : public GenA<P1, P2, N-1, P3, P3>
{
    ...
}

template <class P1, class P2, int N, class ... P3s>
class GenA<P1, P2, 0, P3s ...> : public A<P1, P2, P3s, ...>
{
    ...
} 
```

但是 C++11 不承认第二个模板是第一个模板的特化（因为它实际上是不同的）并且永远不会到达递归的基本情况（它不再抱怨递归级别太多） . 有任何想法吗？

谢谢
Tunnuz

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-10T10:03:02.870

```
template<class P1, class P2, class... P3s>
class A {};

template<class... Ps>
struct TypeList {};

template<class P1, class P2, class P3, unsigned N, class P> struct GenHelp;

template<class P1, class P2, class P3, class... Ps>
struct GenHelp<P1, P2, P3, 0, TypeList<Ps...> >
{
   typedef A<P1, P2, Ps... > AType;
};

template<class P1, class P2, class P3, unsigned N, class... Ps>
struct GenHelp<P1, P2, P3, N, TypeList<Ps...> > : public GenHelp<P1, P2, P3, N-1, TypeList<P3, Ps...> >
{};

template<class P1, class P2, class P3, unsigned N>
class GenA : public GenHelp<P1, P2, P3, N, TypeList<> >::AType
{}; 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-10T10:08:48.440

您可以使用可变参数模板模板参数来执行此操作。`P1`在这个实现中，我们简单地从一个由and组成的参数包开始， `P3`并继续扩展它。最后，我们使用该参数包实例化可变参数模板模板参数。

```
template<class P1, class P2, class ... P3s>
struct A {};

template<template<class... Args> class AT, typename P3, int N, 
         typename... Already>
struct GenAImpl {
  typedef typename GenAImpl<AT, P3, N - 1, Already..., P3>::type type;
};

template<template<class... Args> class AT, typename P3, 
         typename... Already>
struct GenAImpl<AT, P3, 0, Already...> {
  typedef AT<Already...> type;
};

template<class P1, class P2, class P3, int N>
struct GenA : GenAImpl<A, P3, N, P1, P2>
{};

int main()
{
  GenA<int, double, float, 3>::type X;
  return 0;
} 
```

请记住，附加到列表通常是一个坏主意（至少在真正的函数式语言中，我不知道这是否真的会影响 C++ 编译器的性能），你最好将它组合在一起并在最后反转它。

# zend-framework2 - zf2 在另一个模块中显示模块动作

> ID：12816366
> 
> 赞同：2
> 
> 时间：2012-10-10T09:43:59.803
> 
> 标签：zend-framework2

您好我创建了两个模块第一个应用程序第二个评论。想法是在任何应用程序操作（网站页面）中使用评论模块（小部件）。

应用模块 测试控制器

```
public function commentAction(){
    //seting redirection for form
    $this->getCommentService()->setRedirection('test/comment');

    $list = $this->forward()->dispatch('comment_controrller', array('action' => 'list'));
    $add = $this->forward()->dispatch('comment_controrller', array('action' => 'add'));

    $view =  new ViewModel();
    $view->addChild($list, 'list');
    $view->addChild($add, 'add');
    return $view;
} 
```

看法

评论模块 评论控制器

```
public function addAction()
{
    $form = new CommentForm();
    $form->get('submit')->setAttribute('value', 'Add');

    $request = $this->getRequest();
    if ($request->isPost()) {
        $comment = new Comment();
        $form->setInputFilter($comment ->getInputFilter());
        $form->setData($request->getPost());
        if ($form->isValid()) {
            $comment ->exchangeArray($form->getData());
            $this->getCommentTable()->saveComment($comment);

            // Redirect to test controller in application module
            return $this->redirect()->toRoute($this->getCommentService()->getRedirection());
        }
    }

    return array('form' => $form);
}

public function listAction()
{
    return new ViewModel(array(
        $list=> 'test'
    ));
} 
```

使用简单的变量（列表）一切正常，

尝试将表单重定向回测试控制器中的评论操作时遇到的问题

如果表单无效，我可以将重定向添加到测试/评论，但我将如何将所有验证错误传递给测试/评论（表单）

你能告诉我，如果我在逻辑上是正确的还是在 ZF2 中我们有不同的方式来做小部件

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-16T14:37:18.727

感谢帮助

来自weierophinney的回答

[http://zend-framework-community.634137.n4.nabble.com/zf2-widget-base-app-logic-td4657457.html](http://zend-framework-community.634137.n4.nabble.com/zf2-widget-base-app-logic-td4657457.html)

这是我到目前为止所得到的：

[https://github.com/nsenkevich/comment](https://github.com/nsenkevich/comment)

# ios - 突出显示 UILabel 中的部分文本

> ID：12816372
> 
> 赞同：1
> 
> 时间：2012-10-10T09:44:21.147
> 
> 标签：ios, ipad, uilabel

在我的应用程序中，我有一个`UILabel`里面有很多文字。当用户进行研究时，我想突出显示用户搜索的文本下的背景。这是 MacOSX 中“预览”的示例。

![在此处输入图像描述](../Images/ad34b1bfcc330e6247fd4475a0f107b9.png)

用户搜索**静音**，该词在文本中突出显示。

有任何想法吗 ？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-04T11:07:42.100

也许这是一个老问题。但我认为这会对某人有所帮助。

为了突出显示 中的部分文本，我编写了一个名为[HighlightLabel](http://github.com/dineshrajas/HighlightLabel)`UILabel`的开源代码。

您可以简单地指定`hightlightText`and`highlightColor`来突出显示它。

```
_highlightLabel.text = @"Lorem ipsum dolor sit er elit lamet, consectetaur cillium adipisicing pecu, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Nam liber te conscient to factor tum poen legum odioque civiuda.";
_highlightLabel.highlightText = @"Lorem ipsum dolor sit er elit lamet";
_highlightLabel.highlightColor = [UIColor yellowColor]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T09:51:12.863

您需要启用 UILabel（或 UITextView/自定义视图）的“属性”文本。然后你需要找到/制作一个很好/快速的算法来更改文本某些部分的颜色（bg/text）颜色。您应该能够找到很多关于“属性字符串”算法来标记一些单词/匹配项。

另请查看[http://iphonedevelopment.blogspot.be/2011/03/attributed-strings-in-ios.html](http://iphonedevelopment.blogspot.be/2011/03/attributed-strings-in-ios.html)

在这种情况下，通过使用另一种颜色/bg-color 的匹配词制作自定义 HTML，使用 webview 可能会更容易/更快。webview 几乎可以看起来像一个普通的标签，甚至提供使用链接/图像/...的选项，这在某些情况下可以改善用户体验

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T09:55:40.420

为此，您必须使用[NSAttributedString](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSAttributedString_Class/Reference/Reference.html)。

[这](https://github.com/AliSoftware/OHAttributedLabel)也可能有帮助。它是 UILabel 的子类，它绘制一个 NSAttributedString 并且还提供了方便的方法来从 UIKit 类中设置 NSAttributedString 的属性。

找到所需的字母/字符后，突出显示 UIView 的该部分或您在那里使用的任何内容。

# azure - Azure 网站：缺少上传按钮

> ID：12816375
> 
> 赞同：0
> 
> 时间：2012-10-10T09:44:25.927
> 
> 标签：azure

我曾经使用管理门户中的上传按钮将包上传到现有的 Azure 网站。现在按钮似乎不见了。

如何手动上传包？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:38:23.930

我认为您误解了 Windows Azure 网站的概念。您不能像在云服务中那样直接发布包，而是需要配置**GIT**或**TFS**部署选项，并使用它可以在 Windows azure 网站 (WAWS) 上上传您的应用程序。

有关更多详细信息，请阅读这篇[文章](http://blog.ntotten.com/2012/06/07/10-things-about-windows-azure-web-sites/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T07:02:01.093

上传功能已从门户中删除。您可以使用多种方法上传/部署您的网站：GIT、FTP、TFS、Web Matrix。希望有帮助。

# c - MAC 10.7：gl.h 文件在哪里？

> ID：12816378
> 
> 赞同：3
> 
> 时间：2012-10-10T09:44:32.157
> 
> 标签：c, macos, opengl, webots

> **可能重复：**
> [Mac OS X Lion 上的 FreeGLUT](https://stackoverflow.com/questions/10866331/freeglut-on-mac-os-x-lion)

第一个测验：谁能解释一下为什么我无法在我的mac上的任何地方找到gl.h文件？！如果可以简单地回答这个问题，也许您甚至不必阅读其余部分，但是我在网上找不到任何答案（经过数小时的研究），除了著名的“它已集成到操作系统中”或类似的东西。

* * *

我的问题详细：

我在使用 OpenGL 编译 .c 文件时遇到问题。我已经浏览了几个小时的网页，但没有找到任何解决方案。这是问题所在：

对于那些知道这个软件的人，我正在使用 Webots（一个机器人模拟软件），我想实现一个物理插件。我从一个已经存在的（和工作的）插件中复制了代码，只是为了尝试一下。我正在使用使用 gcc 的 webbots 进行编译（我必须安装 gcc 编译器，因为它不再随 Xcode 提供）。

现在，问题是 .c 文件包含一个“physics.h”标头，其中包含 OpenGL/gl.h 文件，然后我得到错误：“OpenGL/gl.h。没有这样的文件或目录”。

现在我尝试了很多事情：

*   搜索 gl.h ：它似乎不存在（我无法找到它，无论是手动还是使用 finder 搜索功能）

*   用 GLUT/glut.h 替换包含 OpenGL/gl.h ：我收到错误“gl.h 和 glu.h 没有这样的文件或目录”，因为它们包含在 glut.h

*   链接makefile中的gl库和框架

*   可能是这些的所有组合，使用绝对或相对路径！

由于 OpenGL 和 GLUT 应该与 OS 一起本地安装（我正在使用 Lion 10.7.5），我想每个需要的文件都应该在那里。为此，我找不到下载这个据称丢失的文件的方法......

此外，我的一位同事尝试并成功在 linux 上编译它！Linux 是一个很棒的平台，但我仍然喜欢我的 mac，所以请让我希望有另一种解决方案，而不是为 linux 更改！！！

我认为我的问题出在 Makefile 或 physic.h 文件中，所以它们是：

`Physic.h`：

```
#ifndef PHYSICS_H
#define PHYSICS_H
#include <ode/ode.h>
#ifdef WIN32
#include <windows.h>
#endif
#ifndef MACOS
#include <GL/gl.h>
#else
#include <OpenGL/gl.h>
#endif

/* callback functions to be implemented in your physics plugin */
#ifdef __cplusplus
extern "C" {
#endif
#ifdef _MSC_VER
#define DLLEXPORT __declspec(dllexport)
#else
#define DLLEXPORT
#endif
DLLEXPORT void webots_physics_init(dWorldID,dSpaceID,dJointGroupID);
DLLEXPORT int  webots_physics_collide(dGeomID,dGeomID);
DLLEXPORT void webots_physics_step();
DLLEXPORT void webots_physics_step_end();
DLLEXPORT void webots_physics_cleanup();
DLLEXPORT void webots_physics_draw();
DLLEXPORT void webots_physics_predraw();

/* utility functions to be used in your callback functions */
#ifndef LINUX
extern dGeomID (*dWebotsGetGeomFromDEFProc)(const char *);
extern dBodyID (*dWebotsGetBodyFromDEFProc)(const char *);
extern void    (*dWebotsSendProc)(int,const void *,int);
extern void*   (*dWebotsReceiveProc)(int *);
extern void    (*dWebotsConsolePrintfProc)(const char *, ...);
extern double  (*dWebotsGetTimeProc)();
#define dWebotsGetGeomFromDEF(DEFName)    (*dWebotsGetGeomFromDEFProc)(DEFName)
#define dWebotsGetBodyFromDEF(DEFName)    (*dWebotsGetBodyFromDEFProc)(DEFName)
#define dWebotsSend(channel,buff,size)    (*dWebotsSendProc)(channel,buff,size)
#define dWebotsReceive(size_ptr)          (*dWebotsReceiveProc)(size_ptr)

#if defined(__VISUALC__) || defined (_MSC_VER) || defined(__BORLANDC__)
#define dWebotsConsolePrintf(format, ...) (*dWebotsConsolePrintfProc)(format, __VA_ARGS__)
#else
#define dWebotsConsolePrintf(format, ...) (*dWebotsConsolePrintfProc)(format, ## __VA_ARGS__)
#endif

#define dWebotsGetTime()                  (*dWebotsGetTimeProc)()
#else
dGeomID dWebotsGetGeomFromDEF(const char *DEFName);
dBodyID dWebotsGetBodyFromDEF(const char *DEFName);
void    dWebotsSend(int channel,const void *buffer,int size);
void   *dWebotsReceive(int *size);
void    dWebotsConsolePrintf(const char *format, ...);
double  dWebotsGetTime();
#endif
#ifdef __cplusplus
}
#endif

#endif /* PHYSICS_H */ 
```

**生成文件：**

```
###
### Standard Makefile for Webots physics plugins
###
### Supported platforms: Windows, Mac OS X, Linux
### Supported languages: C, C++
### 
### Authors: Olivier Michel - www.cyberbotics.com
### Revised: Yvan Bourquin - September 30th, 2009.
###
### Uncomment the variables to customize the Makefile

### -----C Sources-----
###
### if your plugin uses several C source files:
 C_SOURCES = my_contact_p_physics.c

### -----C++ Sources-----
###
### if your plugin uses several C++ source files:
# CPP_SOURCES = my_plugin.cpp my_clever_algo.cpp my_graphics.cpp
###     or
# CC_SOURCES = my_plugin.cc my_clever_algo.cc my_graphics.cc

FRAMEWORK = -framework OpenGL -framework GLUT 

### -----Options-----
###
### if special CFLAGS are necessary, for example to set optimization level or
### to find include files:
#CFLAGS=-O3 -I/System/Library/Frameworks/OpenGL.framework
###
### if your plugin needs additional libraries:
LIBRARIES=-L/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries -llibGL -llibGLU

### Do not modify: this includes Webots global Makefile.include
space :=
space +=
WEBOTS_HOME_PATH=$(subst $(space),\ ,$(strip $(subst \,/,$(WEBOTS_HOME))))
include $(WEBOTS_HOME_PATH)/resources/projects/default/plugins/physics/Makefile.include 
```

**PS：**在“my_contact_p_physics.c”（我正在努力编译的 .c 文件）中，我只包含一个 ODE/ode.h 文件和带有绝对路径的physics.h 文件。由于“集成”到 webbots 中的 ODE，我无法在终端中直接编译，这也是我直接在 webbots 中编译的原因。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-10T10:02:22.407

gl.h 在那里，好吧 - 就在`/System/Library/Frameworks/OpenGL.framework/Headers`. 要么使用`-framework OpenGL`，要么添加`-I /System/Library/Frameworks/OpenGL.framework/Headers`到编译器标志。假设您的文件在那里（默认情况下），您应该找到它，并且一切都应该工作！

# sql - 从表变量 MS SQL 中删除

> ID：12816379
> 
> 赞同：2
> 
> 时间：2012-10-10T09:44:40.940
> 
> 标签：sql, loops, table-variable

我试图在存储过程中的每个循环中从表变量中删除行，但有时它会一直循环并且无法删除记录。即使我尝试打印该值，该记录仍然存在。执行删除语句时，我没有收到任何错误。

是否存在从表变量中删除的实例延迟导致循环不结束？

这是我的代码：

```
 --DECLARATIONS
    declare @temp_table table
    (
    rid int identity(1,1),
    Account_Code varchar(255),
    PRIMARY KEY (rid)
    )
    declare @row_count int = 0
    declare @current_id int
    -----------------------------

    delete from @temp_table

    insert into @temp_table
        select distinct a.Account_Code from MyTable a

    set @row_count =(select COUNT(*) from @temp_table)

    print 'TABLE ROWS COUNT:'+ cast(@row_count as varchar(100))

    while(@row_count <> 0)
    begin
    set @current_id = (select top 1 rid from @temp_table)
    print 'Current ID in Process:'+cast(@current_id as varchar(100))

    /*
    Some Processes Here.....
    */

    delete from @temp_table where rid = @current_id
    set @row_count =(select COUNT(*) from @temp_table)
    print 'TABLE ROWS COUNT:'+ cast(@row_count as varchar(max))
    end 
```

这是我从打印价值观中得到的：

```
 TABLE ROWS COUNT:21
    Current ID in Process: 10403
    TABLE ROWS COUNT:20
    Current ID in Process: 10404
    TABLE ROWS COUNT:19
    Current ID in Process: 10405
    TABLE ROWS COUNT:18
    Current ID in Process: 10406
    Current ID in Process: 10406
    Current ID in Process: 10406
    Current ID in Process: 10406
    Current ID in Process: 10406 
```

然后脚本在 10406 处循环。

注意：在这部分脚本之前，我已经将@temp_table 用于其他进程，这就是为什么 rid 值现在为 10400 及以上的原因

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T09:50:28.267

我不能把它放在评论中，但我相信你已经掩盖了一些重要的部分。

```
while(@row_count <> 0)
begin
set @current_id = (select top 1 rid from @temp_table)
print 'Current ID in Process:'+cast(@current_id as varchar(100))

/*
Some Processes Here.....
*/

if ... condition ...
    begin
    delete from @temp_table where rid = @current_id
    set @row_count =(select COUNT(*) from @temp_table)
    print 'TABLE ROWS COUNT:'+ cast(@row_count as varchar(max))
    end
end -- while loop 
```

必须有上面这样的东西，否则没有 goto，它不能跳过`print 'TABLE...`. 关键是条件为 FALSE 导致循环不“前进”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-12T06:07:22.000

我的错。我已经找到了导致无限循环的原因。在我从表变量中删除 @current_id 之前，我有这段代码

```
BEGIN TRY
    /*
        calculations...
    */
END TRY
BEGIN CATCH
    continue;
    print 'ERROR'
END CATCH; 
```

我的 CATCH 块中的 continue 跳过了 delete 语句。

# jquery - jquery需要使用mvc模型作为参数

> ID：12816380
> 
> 赞同：0
> 
> 时间：2012-10-10T09:44:43.077
> 
> 标签：jquery, asp.net-mvc

我目前正在使用 ASP.NET MVC 4。我正在尝试使用 JQuery 在某些情况下呈现我的页面的特定部分。为此，我编写了以下 JQuery 代码：

```
var selectedLicense = '@Model.License';

        $.post("/Permission/LicenseConfigurationLabelOrCombobox", selectedLicense,
            function (responseText) { 
                $(".LicenseWizard").html(responseText);
            }); 
```

在我的控制器中，我有以下操作：

```
public String LicenseConfigurationLabelOrCombobox(LicenseWithCharacteristicsModel license)
        {
          //Do Stuff
        } 
```

我的行动模型仍然是空的。为了尝试新的东西，我在我的模型中做了以下操作：

```
public class PermissionLicenseConfigurationModel
    {
        public LicenseWithCharacteristicsModel License { get; set; }
        public string JsonLicense
        {
            get
            {
                return new JavaScriptSerializer().Serialize(License);
            }
        }
    } 
```

我也更新了我的 JQuery：

```
var selectedLicense = '@Model.JsonLicense';

        $.post("/Permission/LicenseConfigurationLabelOrCombobox", selectedLicense,
            function (responseText) { 
                $(".LicenseWizard").html(responseText);
            }); 
```

我可以看到我的 JQuery 使用了一个真正的序列化对象，但我的动作模型没有选择它。Id 始终为 0，值为 null。

有什么提示吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T09:50:45.493

`JsonLicense`首先从您的视图模型中删除此属性：

```
public class PermissionLicenseConfigurationModel
{
    public LicenseWithCharacteristicsModel License { get; set; }
} 
```

然后在您的视图中，您可以将模型作为 JSON 请求发送到控制器：

```
var selectedLicense = @Html.Raw(Json.Encode(Model.License));
$.ajax({
    url: '@Url.Action("LicenseConfigurationLabelOrCombobox", "Permission")',
    type: 'POST',
    contentType: 'application/json; charset=utf-8',
    data: JSON.stringify(selectedLicense),
    success: function(result) {
        $(".LicenseWizard").html(result);
    }
}); 
```

# spring-mvc - Spring Web Flow 2 Setup，不渲染 ${flowExecutionUrl} 甚至启动

> ID：12816381
> 
> 赞同：1
> 
> 时间：2012-10-10T09:44:46.013
> 
> 标签：spring-mvc, spring-webflow-2

我正在将一个简单的 Spring MVC 与 Web Flow 应用程序放在一起，但我无法让它在页面上呈现 flowExecutionUrl，以便我可以导航到下一个状态。我认为这意味着流程没有开始（是否有明确的触发器？）。我假设我的设置有问题，尽管日志表明我正在正确注册 flow.xml 文件。

我的弹簧配置（mvc-dispatcher-servlet.xml）是：

```
<beans xmlns="http://www.springframework.org/schema/beans"
xmlns:context="http://www.springframework.org/schema/context"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns:tx="http://www.springframework.org/schema/tx"
xmlns:mvc="http://www.springframework.org/schema/mvc"
xmlns:webflow="http://www.springframework.org/schema/webflow-config"
xsi:schemaLocation="
    http://www.springframework.org/schema/beans     
    http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
    http://www.springframework.org/schema/context 
    http://www.springframework.org/schema/context/spring-context-3.1.xsd
    http://www.springframework.org/schema/tx 
    http://www.springframework.org/schema/tx/spring-tx-3.1.xsd
    http://www.springframework.org/schema/mvc 
    http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd
    http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd
    http://www.springframework.org/schema/webflow-config
    http://www.springframework.org/schema/webflow-config/spring-webflow-config-2.3.xsd">
<context:component-scan base-package="com.intl.cigna.ecommerce.controller" />

<bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver">
    <property name="prefix">
        <value>/WEB-INF/view/</value>
    </property>
    <property name="suffix">
        <value>.jsp</value>
    </property>
</bean>
<mvc:annotation-driven/>

<!-- Forwards requests to the "/" resource to the "welcome" view -->
<mvc:view-controller path="/" view-name="welcome"/>

<bean id="entityManagerFactory" class="org.springframework.orm.jpa.LocalEntityManagerFactoryBean">
  <property name="persistenceUnitName" value="com.intl.cigna"/> 
```

```
<!-- Configures Handler Interceptors -->   
<mvc:interceptors>
    <!-- Changes the locale when a 'locale' request parameter is sent; e.g. /?locale=de -->
    <bean class="org.springframework.web.servlet.i18n.LocaleChangeInterceptor" />
</mvc:interceptors>

<!-- Saves a locale change using a cookie -->
<bean id="localeResolver" class="org.springframework.web.servlet.i18n.CookieLocaleResolver" />

<!-- Application Message Bundle -->
<bean id="messageSource" class="org.springframework.context.support.ReloadableResourceBundleMessageSource">
    <property name="basename" value="/WEB-INF/messages/messages" />
    <property name="cacheSeconds" value="0" />
</bean>

<!-- Enables FlowHandler URL mapping -->
<bean class="org.springframework.webflow.mvc.servlet.FlowHandlerAdapter">
    <property name="flowExecutor" ref="flowExecutor" />
</bean>
<webflow:flow-executor id="flowExecutor" />
<!--
    Maps request paths to flows in the flowRegistry; e.g. a path of
    /hotels/booking looks for a flow with id "hotels/booking"
-->
<bean class="org.springframework.webflow.mvc.servlet.FlowHandlerMapping">
    <property name="flowRegistry" ref="flowRegistry" />
    <property name="order" value="0" />
</bean>

<webflow:flow-registry id="flowRegistry" flow-builder-services="flowBuilderServices">
    <webflow:flow-location path="/WEB-INF/view/flow.xml" />
</webflow:flow-registry>

<webflow:flow-builder-services id="flowBuilderServices"
    view-factory-creator="mvcViewFactoryCreator" />

<bean id="mvcViewFactoryCreator"
    class="org.springframework.webflow.mvc.builder.MvcViewFactoryCreator">
    <property name="viewResolvers" ref="viewResolver" />
</bean> 
```

我的 flow.xml 是：

```
<?xml version="1.0" encoding="UTF-8"?>
<flow xmlns="http://www.springframework.org/schema/webflow"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="
        http://www.springframework.org/schema/webflow 
        http://www.springframework.org/schema/webflow/spring-webflow.xsd">

    <view-state id="step1" view="step1">
        <transition on="next" to="step2"/> 
        <transition on="cancel" to="cancel"/>
    </view-state>

    <view-state id="step2" view="step2">
        <transition on="previous" to="step1"/>
        <transition on="finish" to="success"/>
        <transition on="cancel" to="cancel"/>
    </view-state>

    <end-state id="success" view="flows/success"/>

    <end-state id="cancel" view="flows/cancel"/>

</flow> 
```

我可以成功导航到视图。

我的jsp是：

```
<html>
<head>
    <title>spring mvc web flow</title>
    <link rel="stylesheet" href="<c:url value="/resources/css/demo_page.css"/>" type="text/css"></link>
    <link rel="stylesheet" href="<c:url value="/resources/css/demo_table.css"/>" type="text/css"></link>
</head>
<body id="dt_example">
    <div id="container">
        <div>
            <p class="notice">This is step 1 of the web flow</p>
            <form id="step1" action="${flowExecutionUrl}" method="POST">
                <button id="cancel" type="submit" name="_eventId_cancel">Cancel</button>
                <button id="next" type="submit" name="_eventId_next">Next &gt;&gt;</button>
                <a href="${flowExecutionUrl}&_eventId=next">Next</a>
                <c:out value="${flowExecutionUrl}"/>

            </form>
        </div>
    <%@ include file="/WEB-INF/view/footer.jsp" %>
    </div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:18:23.220

好的，明白了...要启动流程，您需要在 url 中使用流程 id。因此，在我的情况下，使用 url 'http://localhost:8080/SpringMVC/flow' 作为 id 为 'flow' 的流。我假设当您指向视图时流程开始。

# python - Python 2 中的语法错误

> ID：12816385
> 
> 赞同：0
> 
> 时间：2012-10-10T09:44:57.287
> 
> 标签：python

我有作业要做，我做到了。我 95% 确定它是一个正确的代码。我不知道为什么但不幸的是我在其中一行中遇到了语法错误。这是我的代码：

```
month = 1
totalPaid = 0
while month <= 12:
    print('Month: ' + str(month))
    print('Minimum monthly payment: ' + str(round(monthlyPaymentRate * balance), 2)
    balance = round((balance - (monthlyPaymentRate * balance)) * (1 + (annualInterestRate/12)),2)
    print('Remaining balance: ' + str(round(balance, 2)))
    month = month + 1
    totalPaid = totalPaid + round((monthlyPaymentRate * balance), 2)
print('Total paid: ' + str(totalPaid))
print('Remaining balance: ' + str(balance)) 
```

我在这一行遇到语法错误： balance = round((balance - (monthlyPaymentRate * balance)) * (1 + (annualInterestRate/12)),2)。这可能是非常简单的事情，但我是 Python 的新手，无法理解到底是什么问题，我知道 Python 对空格和缩进非常敏感，我对此很小心。有什么建议么 ？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-10T09:46:22.870

```
print('Minimum monthly payment: ' + str(round(monthlyPaymentRate * balance), 2) 
```

有三个打开的​​括号，但有两个关闭的括号。

# php - 是否有必要使用 codeigniter 的内置表单辅助方法？

> ID：12816388
> 
> 赞同：3
> 
> 时间：2012-10-10T09:45:05.417
> 
> 标签：php, codeigniter-2

我是 codeigniter 开发的新手，想知道是否有必要使用 codeigniter 的内置表单辅助方法。我可以使用传统的 html 代码方式而不是使用此代码吗

```
<?php
$data = array(
          'name'        => 'username',
          'id'          => 'username',
          'value'       => 'testval',
          'maxlength'   => '100'
        );

 echo form_input($data);
?> 
```

我可以使用显示文本字段吗

```
<input type='text' name='username' id='username' value='testval' maxlength='100'></input> 
```

使用 codeigniter 方法的优点/缺点是什么。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T09:51:08.397

是的，您绝对可以将传统的 html 代码用于表单元素。优缺点请参考：

[使用 Codeigniter 表单助手有意义吗？](https://stackoverflow.com/questions/10035266/does-it-make-sense-to-use-codeigniter-form-helper)

[表单助手：还有其他好处吗？](https://stackoverflow.com/questions/2241571/form-helper-any-other-benefit)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T09:52:49.010

没有必要使用 CI 的表单助手。它可以帮助您更快地构建表单。

对于简单的表单，您可能会更好地编写自己的 html，但对于一些高级、更大或动态的表单，使用表单构建会更容易，因为它只需为您提供输入属性即可为您生成 html。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-10T09:56:02.337

不必使用表单辅助函数来代替传统的 html 代码。表单助手的优点之一，我发现更容易进行表单验证，在控制器中准备输入，然后将整个事情传递给一个简单的：form_input($field_name);

# jquery - 将 img 包裹起来 标签

> ID：12816390
> 
> 赞同：0
> 
> 时间：2012-10-10T09:45:12.917
> 
> 标签：jquery, youtube

我有一个 jquery 代码来从 youtube 频道中提取视频并显示为拇指并在单击拇指时播放..

问题是目前图像是裸露的，我需要将它们包裹在`<li>`标签中，以便我从中创建一个轮播。

这是jquery代码

```
(function() {
    function createPlayer(jqe, video, options) {
        var ifr = $('iframe', jqe);
        if (ifr.length === 0) {
            ifr = $('<iframe width="260" height="146" scrolling="no">');
            ifr.addClass('player');
        }
        var src = 'http://www.youtube.com/embed/' + video.id;
        if (options.playopts) {
            src += '?';
            for (var k in options.playopts) {
                src+= k + '=' + options.playopts[k] + '&';
            }  
            src += '_a=b';
        }
        ifr.attr('src', src);
        jqe.append(ifr);  
    }

    function createCarousel(jqe, videos, options) {
        var car = $('div.youtubecarousel', jqe);
        if (car.length === 0) {
            car = $('<ul>');
            car.addClass('youtubecarousel');
            jqe.append(car);

        }
        $.each(videos, function(i,video) {
            options.thumbnail(car, video, options);
        });
    }

    function createThumbnail(jqe, video, options) {
        var imgurl = video.thumbnails[0].url;
        var img = $('img[src="' + imgurl + '"]');
        if (img.length !== 0) return;
        img = $('<img>');
        img.addClass('thumbnail');
        jqe.append(img);
        img.attr('src', imgurl);
        img.attr('title', video.title);
        img.click(function() {
            options.player(options.maindiv, video, $.extend(true,{},options,{playopts:{autoplay:1}}));
        });

    }

    var defoptions = {
        autoplay: false,
        user: null,
        player: createPlayer,
        carousel: createCarousel,
        thumbnail: createThumbnail,
        loaded: function() {},
        playopts: {
            autoplay: 0,
            egm: 1,
            autohide: 1,
            fs: 1,
            showinfo: 0
        }
    };

    $.fn.extend({
        youTubeChannel: function(options) {
            var md = $(this);
            md.addClass('youtube');
            md.addClass('youtube-channel');
            var allopts = $.extend(true, {}, defoptions, options);
            allopts.maindiv = md;
            $.getJSON('http://gdata.youtube.com/feeds/users/' + allopts.user + '/uploads?alt=json-in-script&format=5&callback=?', null, function(data) {
                var videos = [];
                var feed = data.feed;
                $.each(feed.entry, function(i, entry) {
                    var video = {
                        title: entry.title.$t,
                        id: entry.id.$t.match('[^/]*$'),
                        thumbnails: entry.media$group.media$thumbnail
                    };
                    videos.push(video);
                });
                allopts.player(md, videos[0], allopts);
                allopts.loaded(videos, allopts);
                allopts.allvideos = videos;
                allopts.carousel(md, videos, allopts);

            });
        }
    });

})();

$(function() {
    $('#youtubeplayer').youTubeChannel({user:'autoxtv'});
}); 
```

我正在使用的 HTML 代码：

`<div id="youtubeplayer"> </div>`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T09:46:34.447

你问什么可以使用jQuery的`.wrap`方法来实现：

```
$('img').wrap('<li />'); 
```

您可以尝试添加`img.wrap('<li />');`到您的`createThumbnail`功能。

# jsf-2 - NonexistentConversationException 将 cid 参数传递给 error-page 导致错误页面失败

> ID：12816394
> 
> 赞同：0
> 
> 时间：2012-10-10T09:45:22.050
> 
> 标签：jsf-2, cdi

我正在使用@ConversationScoped bean，我想为您手动更改 cid 参数的情况创建一个不错的错误页面。

```
 <error-page>
    <exception-type>javax.enterprise.context.NonexistentConversationException</exception-type>
    <location>/nonExistentConversation.xhtml</location>
</error-page>
<error-page>
    <exception-type>org.jboss.weld.context.NonexistentConversationException</exception-type>
    <location>/nonExistentConversation.xhtml</location>
</error-page> 
```

问题是 cid 参数传递给了错误页面，而这些错误页面也因为找不到对话而失败，这将它们带到了默认的异常页面。

这个问题的最佳解决方案是什么？创建过滤器、自定义处理程序等？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-29T13:14:33.460

Atm 我正在为我的对话错误页面使用非 jsf 页面。

我的 web.xml 中有这个：

```
<servlet-mapping>
    <servlet-name>Faces Servlet</servlet-name>
    <url-pattern>*.xhtml</url-pattern>
</servlet-mapping> 
```

因此名为**error.html**的页面不会通过Faces Servlet，并且错误页面将显示为iso 搜索与请求参数中的cid 的对话。

缺点是你不能在其中做任何 JSF 的东西（i18n，dev 中的堆栈跟踪，..）

# jquery - jQuery查找以前的输入，它可以在页面的任何位置？

> ID：12816398
> 
> 赞同：0
> 
> 时间：2012-10-10T09:45:31.637
> 
> 标签：jquery, jquery-selectors

我需要选择上一个控件，在点击一个输入框时，说用户点击一个输入框，a，`txtInputB`我需要的值`txtInputA`等等..

困难的部分是以前的输入可以是任何人，它可以是以前`div`的或a`table`或a`updatePanel`或任何东西？我尝试了所有这些但没有一个有效..

```
$(event.target).prev('input')

$(event.target).prevUntil('input')

$(event.target).prevAll('input')

$(event.target).parent().find('input')

$(event.target).parent().prev('input') 
```

它们适用于一种条件，例如一个文本框，但不适用于另一个。我也发现了这个

[jquery 获取上一个输入文本](https://stackoverflow.com/questions/4407614/jquery-get-previous-input-text)

但顺便说一句，这个问题和我的不同之处在于，文本框的位置/位置是事先知道的，但就我而言，我不知道它会在`div`什么地方。我只知道**这个之前的第一个文本框，它可能在页面中的任何地方**那么，我怎么得到它？

**UPATE** 正如我所说，有大量代码，输入可以在页面中的*任何位置*，但我仍然粘贴了一些代码..

```
 <div id="UpdatePanel12">

                                                        <input name="txtDueDate" type="text" value="10 Oct 2012" maxlength="11" id="txtDueDate" Border-Style="Solid" style="font-size:12px;width:80px;" />

        </div>
                                            </td>
        <td class="TableData" style="width: 35px;">
                                                Time
                                            </td>
        <td style="width: 50;">
                                                <input name="txtTime" type="text" value="1 AM" maxlength="10" id="txtTime" Border-Style="Solid" style="font-size:12px;width:49px;" />

                                            </td>
        <td class="TableData">
                                                <div>
                                                    <span id="lblCustomer">
                                                        Customer
                                                    </span>
                                                </div>
                                            </td>
        <td>
                                                <table >
                                                    <tr >
                                                        <td >
                                                            <div id="UpdatePanel3">

                                                                    <input name="txtCustomerName" type="text" maxlength="300" id="txtCustomerName" Border-Style="Solid" onfocus="javascript:select();" style="font-size:12px;" />

        </div>
                                                        </td>

                                                        <td>
                                                            <div id="UpdatePanel1">

                                                                    <div id="CustPanal1" class="popupMenu" style="height:50px;width:100px;">

                                                                        <table style="font-size: smaller; color: Black">
                                                                            <tr>
                                                                                <td align="left" style="color: Black">
                                                                                    Add new customer.
                                                                                </td>
                                                                            </tr>
                                                                        </table>

            </div>
                                                                    <input type="submit" name="imgBtnCustomerAdd" value="Add" onclick="ShowAddCustomer();" id="imgBtnCustomerAdd" style="color:White;background-color:#6086AC;border-color:White;border-width:2px;border-style:Solid;font-family:Verdana;font-size:10pt;font-weight:bold;border-radius: 7px; display: none;" />
                                                                    </td>

        </div>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
        <td>
                                                <span><input type="image" name="imgBtnCustAdd" id="imgBtnCustAdd" src="../images/icons.png" alt="Add customer" style="border-width:0px;" /></span></td>
    </tr>
</table>

                                    <table id="tblEntry1" width="100%">
    <tr>
        <td colspan="10">
                                                <div id="UpdatePanel2">

                                                        <table class="TableData">
                                                            <tr>
                                                                <td>
                                                                    Address :
                                                                </td>
                                                                <td id="td1" style="width: 475px" nowrap="nowrap">
                                                                    <span id="lblAddress" class="LabelBkgScrn" style="display:inline-block;font-weight:bold;width:250px;"></span>
                                                                </td>

                                                                <td>
                                                                    Priority :
                                                                </td>
                                                                <td id="td2" style="width: 260px" nowrap="nowrap">
                                                                    <span id="lblPriority" class="LabelBkgScrn" style="display:inline-block;font-weight:bold;width:60px;"></span>
                                                                </td>

                                                                <td style="width: 160px" nowrap="nowrap">
                                                                    <span><input id="chkToday" type="checkbox" name="chkToday" /><label for="chkToday">    Same Day</label></span>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    Remarks :
                                                                </td>
                                                                <td style="width: 470px" nowrap="nowrap">
                                                                    <span id="lblRemarks" class="LabelBkgScrn" style="display:inline-block;font-weight:bold;width:160px;"></span>
                                                                </td>

                                                                    <td>
                                                                Mob. No. :
                                                                </td>
                                                                <td style="width: 250px" nowrap="nowrap">
                                                                    <span id="lblMobileNo" class="LabelBkgScrn" style="display:inline-block;font-weight:bold;width:160px;"></span>
                                                                </td>

                                                                <td style="width: 160px" nowrap="nowrap">
                                                                    <span><input id="chkNextDay" type="checkbox" name="chkNextDay" /><label for="chkNextDay">     Next Day</label></span>
                                                                </td>                                                                
                                                        </tr>
                                                        </table>

        </div>
                                            </td>
    </tr>
</table>

                                    <table id="tblEntry2" width="100%">
    <tr>
        <td colspan="15">
                                                <table style="width: 100%">
                                                    <tr>
                                                        <td>
                                                            <div id="pnlEntry" style="height:200px;overflow-y:scroll;">

                                                                <div>
                <table class="mGridEntry" cellspacing="0" cellpadding="4" rules="all" border="1" id="grdEntry" style="border-collapse:collapse;">
                    <tr style="color:White;font-size:Small;">
                        <th scope="col">
                                                                                <table>
                                                                                    <tr class="mGridCustomHeader">
                                                                                        <td style="color: orange; border-width: 0px">
                                                                                            S.No.
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td style="border-width: 0px">
                                                                                            <span id="grdEntry_ctl01_lblHSNo" style="color:Black;">1</span>
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                            </th><th scope="col">
                                                                                <table>
                                                                                    <tr>
                                                                                        <td style="color: Orange; border-width: 0px" class="mGridCustomHeader">
                                                                                            Qty
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td style="border-width: 0px">
                                                                                            <input name="grdEntry$ctl01$txtQty" type="text" value="1" maxlength="4" id="txtQty" Border-Style="Solid" style="font-size:12px;width:25px;" />

                                                                                        </td> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:03:18.910

您需要做的是在页面加载时创建页面上所有输入的列表。

```
var list = $("input").toArray(); 
```

然后你可以找到你的输入

```
var youtInput = $("...").get(0);
var previous = list[list.indexOf(yourInput) - 1]; 
```

这应该够了吧。

# javascript - Javascript TypeError：xxx不是函数

> ID：12816400
> 
> 赞同：21
> 
> 时间：2012-10-10T09:45:39.693
> 
> 标签：javascript, jquery

朋友们我来了一点问题。之前一切正常。但我无法纠正为什么它开始给我这样的错误。
这是我的 JavaScript 代码：

```
function newSupplier() {
    $('div#AddSupplier div.msg').html('').hide();
    $('div#AddSupplier div.loader').show();
    registerSupplier($('div#AddSupplier table.frm :input').serialize()).done(function (a) {
        if (a.Msg) {
            $('div#AddSupplier div.msg').html(a.Msg).removeClass('success').addClass('error').fadeIn();
        }
        else if (a.supid) {
            $('div#AddSupplier div.msg').html('Supplier <span class="l2">' + a.supid + '</span> Registered').removeClass('error').addClass('success').fadeIn();
            $('div#AddSupplier table.frm :input').val('');
        }
    }).always(function () {
        $('div#AddSupplier div.loader').hide();
    }).fail(function () {
        $('div#AddSupplier div.msg').html(errMsgNet).removeClass('success').addClass('error').fadeIn();
    });
} 
```

这是`registerSupplier()`函数的代码：

```
function registerSupplier(dataToPost) {
    return $.ajax({
        type: "POST",
        url: jsonpath + 'Json.ashx?method=RegisterSupplier',
        data: dataToPost
    });
} 
```

这是完整的 JS 文件： http: [//preview.myignou.com/Docs/jScript.js](http://preview.myignou.com/Docs/jScript.js)

相关 HTML

```
<div id="ViewOrder">
   <h2>View Order Details</h2>
   <div class="tab-content">
      <table class="frm">
         <tr>
            <td><label>Enter Order Number</label></td>
            <td><input type="text" name="orderNumber" onkeyup="$('#ViewOrder>div>div').fadeOut();" /><input type="button" class="but1 m-side" value="OK" onclick="LoadMaterialOrder();"/></td>
            <td>
               <div class="process">&nbsp;</div>
            </td>
         </tr>
      </table>
      <div>
         <div class="border shadow m-tb">
            <h2 class="header">Order Details</h2>
            <div id="orderDetails" class="tab-content">
               <table class="frm">
                  <tr>
                     <td><label>Supplier</label></td>
                     <td><select id="newSupplier" name="supplier"></select></td>
                     <td class="r-align"><input type="button" value="Load Suppliers" onclick="loadSuppliers('#newSupplier')" /></td>
                  </tr>
                  <tr>
                     <td><label>Order Date</label></td>
                     <td><input type="text" name="orderDate" /></td>
                  </tr>
                  <tr>
                     <td><label>Delivery Date</label></td>
                     <td><input type="text" name="deliveryDate" /></td>
                  </tr>
                  <tr>
                     <td><label>Cancel Date</label></td>
                     <td><input type="text" name="cancelDate" /></td>
                  </tr>
                  <tr>
                     <td><label>Payment Due Mark</label></td>
                     <td><input id="payDue2" type="checkbox" name="isPayDue" /><label for="payDue2">Yes</label></td>
                  </tr>
                  <tr>
                     <td><label>Remember Mark</label></td>
                     <td><input id="remark2" type="checkbox" name="isMarked" /><label for="remark2">Yes</label></td>
                  </tr>
               </table>
            </div>
            <table class="footer-buttons">
               <tr>
                  <td>
                     <div class="msg"></div>
                     <div class="loader" style="display:none;"><img alt="loader" src="CSS/Images/loader.gif" /></div>
                  </td>
                  <td><input type="button" class="but1 sub-but" value="Save Changes" onclick=""/><input type="reset" value="Reset" /></td>
               </tr>
            </table>
         </div>
         <br />
         <div class="border shadow m-tb">
            <h2 class="header">Payment Records</h2>
            <div id="paymentHistory" class="tab-content">
               <table class="tab pay-his">
                  <tr class="th">
                     <td></td>
                     <td>Trans#</td>
                     <td>Date</td>
                     <td>Comment</td>
                     <td>Type</td>
                     <td>Credit</td>
                     <td>Debit</td>
                     <td>Balance</td>
                     <td>Associated Agent</td>
                  </tr>
                  <tr>
                     <td><input type="radio" name="paySelect" /></td>
                     <td>101-1</td>
                     <td>12-12-12</td>
                     <td>Abclk lask aa</td>
                     <td>Credit</td>
                     <td>500</td>
                     <td></td>
                     <td>500.00</td>
                     <td>Shashwat Tripathi</td>
                  </tr>
                  <tr>
                     <td><input type="radio" name="paySelect" /></td>
                     <td>101-2</td>
                     <td>12-12-12</td>
                     <td>Shashwat Tripathi</td>
                     <td>Debit</td>
                     <td></td>
                     <td>500</td>
                     <td>500.00</td>
                     <td>Sudhir</td>
                  </tr>
                  <tr>
                     <td><input type="radio" name="paySelect" /></td>
                     <td>101-3</td>
                     <td>12-12-12</td>
                     <td>Shashwat Tripathi</td>
                     <td>Credit</td>
                     <td>500</td>
                     <td></td>
                     <td>500.00</td>
                     <td>Sudhir Gaur</td>
                  </tr>
               </table>
               <br />
               <input type="button" class="but2" value="Edit" 
                  onclick="$('#ViewOrder #payEdit').slideDown(function () { $('html, body').animate({ scrollTop: $('#paymentHistory').offset().top-20 }, 500); });" /><input type="button" class="but2 m-side" value="Delete" />
               <div id="payEdit" class="border m-tb shadow" style="display:none;">
                  <h2 class="header">Edit Payment</h2>
                  <div class="tab-content">
                     <table class="frm">
                        <tr>
                           <td><label>Date</label></td>
                           <td><input type="text" name="date" placeholder="dd-mm-yy"/></td>
                        </tr>
                        <tr>
                           <td><label>Type</label></td>
                           <td>
                              <select name="type">
                                 <option>Credit</option>
                                 <option>Debit</option>
                                 <option>Expense</option>
                              </select>
                           </td>
                        </tr>
                        <tr>
                           <td><label>Amount</label></td>
                           <td><input type="text" name="amount" placeholder="धनराशी..." /></td>
                        </tr>
                        <tr>
                           <td><label>Comment</label></td>
                           <td><textarea name="comment" rows="4" cols="10"></textarea></td>
                        </tr>
                        <tr>
                           <td></td>
                           <td><input type="button" class="but1" value="Save Changes" /><input type="button" class="but2 m-side" onclick="$('#payEdit').slideUp();" value="Cancel" /></td>
                        </tr>
                     </table>
                  </div>
               </div>
               <br />
               <h2>Register New Payment</h2>
               <hr />
               <div id="newMatOrderPayment">
                  <table class="frm">
                     <tr>
                        <td><label>Date</label></td>
                        <td><input type="text" name="date" placeholder="dd-mm-yy" /></td>
                     </tr>
                     <tr>
                        <td><label>Type</label></td>
                        <td>
                           <select name="type">
                              <option>Credit</option>
                              <option>Debit</option>
                              <option>Expense</option>
                           </select>
                        </td>
                     </tr>
                     <tr>
                        <td><label>Amount</label></td>
                        <td><input type="text" name="amount" placeholder="धनराशी..." /></td>
                     </tr>
                     <tr>
                        <td><label>Comment</label></td>
                        <td><textarea name="comment" rows="4" cols="10"></textarea></td>
                     </tr>
                  </table>
               </div>
            </div>
            <table class="footer-buttons">
               <tr>
                  <td>
                     <div class="msg"></div>
                     <div class="loader" style="display:none;"><img alt="loader" src="CSS/Images/loader.gif" /></div>
                  </td>
                  <td><input type="button" class="but1" value="Register Payment" onclick=""/><input type="button" class="but2" onclick="$('#NewMatOrderPayment :text').val('');" value="Reset" /></td>
               </tr>
            </table>
         </div>
      </div>
   </div>
</div>
<div id="AddSupplier">
   <h2>Register New Suppiler</h2>
   <div class="tab-content">
      <table class="frm">
         <tr>
            <td><label>Supplier ID</label></td>
            <td><input type="text" name="supId" /></td>
         </tr>
         <tr>
            <td><label>Contact Number</label></td>
            <td><input type="text" name="contact" /></td>
         </tr>
         <tr>
            <td><label>Address</label></td>
            <td><textarea name="address" cols="10" rows="4"></textarea></td>
         </tr>
         <tr>
            <td><label>Email address</label></td>
            <td><input type="text" name="email" /></td>
         </tr>
         <tr>
            <td><label>City</label></td>
            <td><input type="text" name="city" /></td>
         </tr>
      </table>
   </div>
   <table class="footer-buttons">
      <tr>
         <td>
            <div class="msg"></div>
            <div class="loader" style="display:none;"><img alt="loader" src="CSS/Images/loader.gif" /></div>
         </td>
         <td><input type="button" class="but1 sub-but" value="Register" onclick="newSupplier();"/><input type="reset" value="रीसेट" /></td>
      </tr>
   </table>
</div> 
```

如果我直接从 FF 和 Firebug 控制台调用这个函数，那么它就会被调用。
**但是在按钮点击我得到错误`TypeError: newSupplier is not a function`**

如果你需要额外的代码，请问我。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-10-10T10:32:36.647

您的 html 代码中的第一个选择标记具有 ID *newSupplier*就像函数的名称一样。一些浏览器可以通过在 js 代码中指定 ID 来访问节点元素，然后定义的函数被 DOM 中的元素覆盖。

您需要重命名函数名称或元素 ID。

# visual-c++ - 在 msvc 编译器中包含整个 *.lib 目录？

> ID：12816401
> 
> 赞同：0
> 
> 时间：2012-10-10T09:46:02.510
> 
> 标签：visual-c++, linker, cl.exe

我已经输入了相当长的命令来编译我的程序。就是这个：

```
C:\Users\Sevbomb\Desktop\MSVC>Bin\cl.exe /I Includes\Winsdk helloworldgui.c Libs
\Uuid.lib Libs\libcmt.lib Libs\oldnames.lib Libs\Kernel32.Lib Libs\User32.Lib Li
bs\Gdi32.Lib Libs\WinMM.Lib 
```

我可以告诉它在目录中查找它可能需要的任何库，而不是将所有这些文件名传递给链接器吗？

# java - 为什么即使我在 proguard-project.txt 中添加了我的 jar 文件，我也会收到此错误？

> ID：12816402
> 
> 赞同：0
> 
> 时间：2012-10-10T09:46:02.907
> 
> 标签：java, android, proguard

我刚刚完成了 Android 应用程序的开发，所以现在我想发布。对于发布，我使用 ant 命令行工具来构建我的`apk`.

我刚刚执行了命令`ant release`并得到了这个错误

> 构建失败
> /usr/src/android-sdk-linux/tools/ant/build.xml:679：执行此行时发生以下错误：/usr/src/android-sdk-linux/tools/ant/build.xml :692: 编译失败；有关详细信息，请参阅编译器错误输出。

除此之外，我还有很多其他错误，例如'

> [javac] /root/workspace/Unit-Talk/src/org/sipchat/sipua/ui/ConnectionService.java:19: 包 org.jivesoftware.smack.packet 不存在
> [javac] 导入 o​​rg.jivesoftware.smack.packet 。在场;
> 
> [javac] /root/workspace/Unit-Talk/src/org/sipchat/sipua/ui/Sipdroid.java:89：找不到符号
> [javac] 符号：类 PhoneNumber
> [javac] 位置：类 org.sipchat.sipua。 ui.Sipdroid
> [javac] public List invalidCases = new ArrayList();

所有这些错误都指向 jar 文件的类。即使我在 proguard-project.txt 中添加了罐子

是的，如果我使用 eclipse 导出 apk，那么它工作正常，我没有收到这样的错误。这是我的[proguard-project.txt](http://pastie.org/5028284)文件

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T00:59:13.803

错误来自 javac，在编译时（甚至在 ProGuard 启动之前）。您应该确保在项目的 libs 目录中有正确的库。

# php - 使用 javascript 和 php 的相关下拉列表

> ID：12816403
> 
> 赞同：-2
> 
> 时间：2012-10-10T09:46:03.260
> 
> 标签：php, javascript, html

我有这个脚本，我想在 PHP 中获取下拉选择列表的值并检查 if (jws1 != "") 然后使用 for 循环在第二个下拉框中显示 1 到 10 的值...

JavaScript 代码：

```
<script language="javascript" type="text/javascript"> 
function test()
{
var e = document.getElementById("JWSections");
var Sections = e.options[e.selectedIndex].value;
alert(Sections);
}
</script> 
```

HTML 代码：

```
<select name="JWSections" id="JWSections" onchange="test();">
  <option value="">Select Sections</option>
  <option value="jws1">Section 1.1</option>
  <option value="jws2">Section 1.2</option>
  <option value="jws3">Section 1.3</option>
  <option value="jws4">Section 1.4</option>
</select> 
```

我想获取 jws1 之类的值，然后签入 PHP。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T09:57:53.627

```
<select name="JWSections" id="JWSections" onchange="test(this);">
    <option value="">Select Sections</option>
    <option value="jws1">Section 1.1</option>
    <option value="jws2">Section 1.2</option>
    <option value="jws3">Section 1.3</option>
    <option value="jws4">Section 1.4</option>
</select>

<select name="JWSections" id="secondDropDown"> </select>

<script language="javascript" type="text/javascript"> 
function test(dropdown)
{
    var selectedjws = dropdown.options[dropdown.selectedIndex].value;
    var secondDropDown = document.getElementById('secondDropDown');
    $.post('path', { selectedjws : selectedjws }, function(key, value){
         // Remove all options from second dropdown
         for(var i = 0; i < secondDropDown.options.length; i++){
             secondDropDown.remove(i);
         }
         // Add options by key value pair returned from server
         secondDropDown.add(new Option(value, key))
    });
}
</script> 
```

jsfiddle：http: [//jsfiddle.net/KTq6y/1/](http://jsfiddle.net/KTq6y/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:00:35.603

为了使 PHP 能够对您的 HTML 表单数据做任何事情，您必须将其提交给 PHP。

您可以提交表单本身或使用 AJAX 传递 jws1 的值并根据结果构建选项。Jquery 非常适合做这种事情，您所要做的就是将 AJAX 请求的数据类型设置为 HTML，并将“成功”回调中的数据分配给您的目标下拉列表。

# linux - 如何为 cronjob 添加秒数

> ID：12816404
> 
> 赞同：0
> 
> 时间：2012-10-10T09:46:03.297
> 
> 标签：linux, cron, debian, crontab

这是当前正在运行的 cronjob ：

```
2 1 * * * cd /var/www; php auto.php 
```

说它将每天@ 1:02 AM 运行......我怎样才能让它每天运行@ 1:02:05？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T09:50:50.123

这是不可能的，因为 cron 至少只能在几分钟内运行。

为了达到同样的效果，你可以做的是在你的脚本中延迟第一行：

```
sleep(5); // sleep for 5 seconds 
```

这样脚本实际上开始于`1:02:05`.

# java - blueimp jQuery-文件-上传重定向

> ID：12816405
> 
> 赞同：0
> 
> 时间：2012-10-10T09:46:05.177
> 
> 标签：java, redirect, blueimp

我在 SpringSource Tool Suite 2.9.1 上使用 blueimp jQuery-File-Upload。

1.  我正在尝试从我的 UploadServlet 重定向，但是因为已经定义了选项 redirect （在 main.js 上）它会产生错误。上传文件后，如何从我的 UploadServlet.java 重定向。

2.  在示例代码中，它们重定向到 results.html ，当我尝试这样做时，它会上传文件，但在 doPost 函数完成后（在我的 UploadServlet.java 中）没有任何反应并且它不会
    重定向。

请帮助我，给我一个如何做这些事情的例子。

谢谢

塔米

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T09:59:43.303

在 Google App Engine 上使用插件时，我遇到了类似的问题。[这是完整的工作代码](https://github.com/blueimp/jQuery-File-Upload/wiki/Google-App-Engine-Java)。可能你会有细微的差别，但我想你会发现必须如何完成 Java 服务器才能使这个插件工作。

# php - 网站加载主页需要 5 分钟 - mod_fcgid: ap_pass_brigade 在 handle_request 函数中失败

> ID：12816407
> 
> 赞同：1
> 
> 时间：2012-10-10T09:46:11.127
> 
> 标签：php, apache, fastcgi

服务器正在运行 apache2，当尝试加载网页时，加载主页可能需要 5 分钟。然而，所有内部页面似乎都很好。检查错误日志我看到以下内容：

```
[warn] (103)Software caused connection abort: mod_fcgid: ap_pass_brigade failed in handle_request function 
```

有人可以告诉我如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-06T08:00:43.190

如果您使用 mod_fcgid 尝试更改 MaxRequestsPerProcess 以获得更多请求

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:13:32.950

不是答案，但您可以安装另一个网络服务器吗？Nginx 和 lighttpd 是很好的产品，开源，速度快 1000 倍，而且更容易设置。

# c# - 静态构造函数和 BeforeFieldInit？

> ID：12816413
> 
> 赞同：5
> 
> 时间：2012-10-10T09:46:25.950
> 
> 标签：c#, .net, .net-4.0

> 如果一个类型没有静态构造函数，则字段初始化器将在使用该类型之前执行——或者在运行时突发奇想的任何时候执行

为什么这个代码：

```
void Main()
{ 
  "-------start-------".Dump();
   Test.EchoAndReturn("Hello");
  "-------end-------".Dump();

}

 class Test
{
    public static string x = EchoAndReturn ("a");
    public static string y = EchoAndReturn ("b");
    public static string EchoAndReturn (string s)
    {
        Console.WriteLine (s);
        return s;
    }
} 
```

产量：

```
-------start-------
a
b
Hello
-------end------- 
```

而这段代码：

```
void Main()
{ 
  "-------start-------".Dump();
   var test=Test.x;
  "-------end-------".Dump();

} 
```

产量

```
a
b
-------start-------
-------end------- 
```

`a`和的顺序`b`是可以理解的。但**为什么**处理 `static method`不同于. **`static field`**

 **我的意思是为什么静态方法与静态字段的*起始*行和*结束行位于不同的位置？*我的意思是-在这两种情况下，他都必须初始化这些字段……那为什么呢？

*（我知道我可以添加静态 ctor 使其相同 - 但我问的是这种特殊情况。）*

*（ps Dump() 就像 console.write）*

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-10T10:08:43.283

发布 JIT 的行为是（从 4.0 IIRC 开始）不运行静态初始化程序，除非您调用的方法涉及静态字段。这可能意味着静态字段**未**初始化。如果我在调试器之外运行您的第一个代码，我会得到：

```
-------start-------
Hello
-------end------- 
```

如果我在附加调试器（发布）的情况下运行它，或者在调试版本中运行它（附加或不附加调试器），我会得到：

```
-------start-------
a
b
Hello
-------end------- 
```

到目前为止很有趣。为什么你得到：

```
a
b
-------start-------
-------end------- 
```

看起来每个方法的 JIT 本质上负责在这种情况下运行静态构造函数。您可以通过添加以下内容来查看：

```
if(NeverTrue()) { // method that returns false
        "-------start-------".Dump();
        var test = Test.x;
        "-------end-------".Dump();
} 
```

这将打印（即使在没有调试器的版本中）

```
a
b 
```

所以访问字段的*可能性*是关键。如果我们更改为*对不访问字段*`Test.x`的方法的调用（并删除该事物），那么我们将不会得到*任何输出*。*`NeverTrue()`*

 **所以：在 CLI 的某些版本中，静态初始化程序的执行可能会推迟到包含对任何字段的提及的方法的 JIT 步骤（它不检查该字段是否具有初始化程序）。

我们甚至可以在不运行静态初始化程序的情况下创建对象实例，只要我们不接触静态字段：

```
 public Test()
 {
     a = "";
 }
 string a; 
```

和：

```
"-------start-------".Dump();
new Test();
"-------end-------".Dump(); 
```

仅打印（发布，无调试器）：

```
-------start-------
-------end------- 
```

然而！我们不应该构建任何依赖于这个时间的东西：

*   它在 .NET 版本之间变化
*   它可能会在平台（x86、x64、CF、SL、.NETCore 等）之间发生变化
*   它可以根据是否附加调试器以及它是否是调试/发布版本而改变

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-10T10:09:21.790

调用静态构造函数的时间是没有保证的，所以对于程序来说，它就像 C++ 中的未定义行为。没有人应该依赖静态构造函数调用的顺序。例如，如果您在 release 下编译程序，您将看到在两种情况下同时调用静态 counstructor。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-10T10:32:22.230

这是与`.NET 4.0`

如果一个类型没有静态构造函数但有初始化的静态字段，编译器会创建一个类型构造函数并将初始化放入其中。

```
class Test
    {
        public static string x = EchoAndReturn("a");
        public static string y = EchoAndReturn("b");
        public static string EchoAndReturn(string s)
        {
            Console.WriteLine(s);
            return s;
        }
    } 
```

结果如下 IL（只是 cctor 部分）

```
.method private hidebysig specialname rtspecialname static 
        void  .cctor() cil managed
{
  // Code size       31 (0x1f)
  .maxstack  8
  IL_0000:  ldstr      "a"
  IL_0005:  call       string ConsoleApplication1.Test::EchoAndReturn(string)
  IL_000a:  stsfld     string ConsoleApplication1.Test::x
  IL_000f:  ldstr      "b"
  IL_0014:  call       string ConsoleApplication1.Test::EchoAndReturn(string)
  IL_0019:  stsfld     string ConsoleApplication1.Test::y
  IL_001e:  ret
} // end of method Test::.cctor 
```

此外，根据`CLR via C#`，JIT 编译器会事先检查每个方法，哪些类型具有静态构造函数。如果尚未调用静态构造函数，则 JIT 编译器将调用它。

这将解释两个代码片段之间的差异。

> ```
> When the just-in-time (JIT) compiler is compiling a method, 
> ```
> 
> 它查看代码中引用了哪些类型。如果任何类型定义了类型构造函数，JIT 编译器会检查该类型的类型构造函数是否已为此 AppDomain 执行。如果构造函数从未执行，则 JIT 编译器会发出调用到 JIT 编译器发出的本机代码中的类型构造函数。

@评论

如果将一个字段初始值设定项移动到用户定义的类型构造函数中，编译器也会将您在类级别初始化的另一个字段移动到类型构造函数中。

```
static Test()
{
  y = EchoAndReturn("b");
} 
```

结果与上述相同。所以你自己的类型构造函数和编译器生成的基本没有区别（反正只能有一个）。****

# php - 如何将数组元素传递给另一个数组以存储在php中的数据库中

> ID：12816417
> 
> 赞同：0
> 
> 时间：2012-10-10T09:46:36.463
> 
> 标签：php, codeigniter

嗨，我在将数组元素传递给另一个数组时遇到了一个问题......

```
$order=$this->ro_model->get_ro_details($order_id); 
```

通过使用上述函数，我将查询结果放入名为 $order 的数组名称中。

现在我有表单，当它提交时，我将从该表单中获取一些数据，我将这些数据保存在另一个名为 $order_details 的名称中。

```
$order_data=array(

    'amount'=>$this->input->post('amount'
); 
```

现在我想将两个数组数据保存在数据库的一个表中。为此，我认为我可以将第一个数组数据传递给第二个数组数据，然后我会将所有数据保存在一个数组中。然后稍后我将该数组发送到将数据插入数据库的函数。

```
$this->ro_model->add_amount($order_data); 
```

我的问题如何将第一个数组数据传递给第二个数组............

*   注意：所有这些都是我在 codeigniter 框架中做的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T09:59:48.800

你可以通过两种方式做到这一点

1.  array_push**将一个或多个元素推入数组的末尾** [http://in3.php.net/manual/en/function.array-push.php](http://in3.php.net/manual/en/function.array-push.php)
2.  array_merge**合并一个或多个数组** [http://in3.php.net/manual/en/function.array-merge.php](http://in3.php.net/manual/en/function.array-merge.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T09:54:14.263

使用 array_merge() 函数。给你： http: [//php.net/manual/en/function.array-merge.php](http://php.net/manual/en/function.array-merge.php)

# javascript - Angular-UI 中的按键

> ID：12816420
> 
> 赞同：2
> 
> 时间：2012-10-10T09:46:47.707
> 
> 标签：javascript, html, angularjs

我在使用按键时遇到了一些问题，如下所示 -

```
<div ng-controller="GBNController">
...
<input id="search-field" type="text" placeholder="JSON Query" ng-model="queryText" ui-keypress="{enter: foo()}"/>
...
</div> 
```

我的javascript有 -

```
var AngApp = angular.module('gbn', ['ui']);
var GBNController = function($scope) {
    $scope.queryText = '';
    $scope.foo = function() {
        alert('test');
    }
}; 
```

现在这个函数 foo 仅在文档​​加载时被调用，之后，`return`文本字段中的按键事件就不会被处理。

我正在使用主分支的当前[负责人。](https://github.com/angular-ui/angular-ui/tree/1d831cdf891dcbe9c1c2e7d95cd5c17f2b97fe69)

我在这里做错了什么，还是坏了？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-10T19:09:31.040

您需要将 foo() 放在引号中。

`<input ui-keypress="{enter: 'foo()'}">`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-10T13:26:42.933

您可以轻松滚动自己的按键指令

[这是一个演示](http://plnkr.co/edit/sIDLoR)

和代码：

```
app.directive('zKeypress', function(){
  return {
    restrict: 'A',
    link: function(scope, elem, attr, ctrl) {
      elem.bind('keypress', function(){
        scope.$apply(function(s) {
          s.$eval(attr.zKeypress);
        });
      });
    }
  };
}); 
```

HTML

```
<input type="text" z-keypress="foo()"/> 
```

# php - php 或浏览器无法识别 PDO 中的“->”

> ID：12816425
> 
> 赞同：2
> 
> 时间：2012-10-10T09:47:05.567
> 
> 标签：php, html, pdo

我有这个来自互联网的代码：

```
<?php
session_start();
require("authen/inc/mysql.php");
require("authen/inc/Membership.class.php");
$Member = new Membership($DBH);
require("authen/inc/membership.php");

//test user permissions
if(!$Member -> test_perms(2))
{
    //No perms, echo error or forward or something
    die("You do not have permissions to view this page!<br>");
}
include("authen/inc/menu.php");
?> 
```

它在我的一个网络服务器上完美运行。所以我使用 scp 将所有内容复制到另一个网络服务器，但现在我收到了这个奇怪的错误：

> test_perms(2)) { //没有perms, echo error or forward or something die("你没有权限查看这个页面！
> 
> "); } 包括("authen/inc/menu.php"); ?>

在我看来，这个网络服务器或浏览器没有正确解释“->”，因为它将它视为 HTML 的一部分而不是 PDO 符号。

我该如何解决？

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-10T09:51:34.550

这不是错误，而是您的 PHP 代码被发送到浏览器，而不是在服务器上执行。简而言之，服务器没有正确安装和配置 PHP。您只看到部分代码的原因`->`是浏览器将其解释为关闭 HTML 标记。如果您查看原始源代码，您将看到整个 PHP 代码。

# autocomplete - 如何在 Enter 键上触发 Google Places 自动完成的 place_changed 事件

> ID：12816428
> 
> 赞同：34
> 
> 时间：2012-10-10T09:47:17.850
> 
> 标签：autocomplete, google-places

单击似乎会触发事件并设置 cookie，但按 Enter 提交不会设置 cookie，而是页面在没有 cookie 的情况下重定向。

```
function locationAuto() {
        $('.search-location').focus(function () {
        autocomplete = new google.maps.places.Autocomplete(this);
        searchbox = this;

        google.maps.event.addListener(autocomplete, 'place_changed', function () {
            var thisplace = autocomplete.getPlace();
            if (thisplace.geometry.location != null) {
                $.cookie.raw = true;
                $.cookie('location', searchbox.value, { expires: 1 });
                $.cookie('geo', thisplace.geometry.location, { expires: 1 });
            }
        });
}); 
```

.search-location 是多个文本框上的一个类。有一个提交按钮，它从 cookie 中获取值并重定向（服务器端）

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2012-10-10T10:39:37.520

改编自 Jonathan Caulfield 的回答：

```
$('.search-location').keypress(function(e) {
  if (e.which == 13) {
    google.maps.event.trigger(autocomplete, 'place_changed');
    return false;
  }
}); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2015-12-29T23:18:10.637

我也遇到过这个问题，想出了一个好的解决方案。在我的网站中，我想在提交之前将 autocomplete.getPlace().formatted_address 保存在隐藏的输入中。单击表单的提交按钮时，这按预期工作，但在自动完成下拉菜单中的选择上按 Enter 键时却没有。我的解决方案如下：

```
$(document).ready(function() {

    // Empty the value on page load
    $("#formattedAddress").val("");
    // variable to indicate whether or not enter has been pressed on the input
    var enterPressedInForm = false;

    var input = document.getElementById("inputName");
    var options = {
      componentRestrictions: {country: 'uk'}
    };
    autocomplete = new google.maps.places.Autocomplete(input, options);

    $("#formName").submit(function(e) {
        // Only submit the form if information has been stored in our hidden input
        return $("#formattedAddress").val().length > 0;
    });

    $("#inputName").bind("keypress", function(e) {
        if(e.keyCode == 13) {
            // Note that simply triggering the 'place_changed' event in here would not suffice, as this would just create an object with the name as typed in the input field, and no other information, as that has still not been retrieved at this point.

            // We change this variable to indicate that enter has been pressed in our input field
            enterPressedInForm = true;
        }
    });

    // This event seems to fire twice when pressing enter on a search result. The first time getPlace() is undefined, and the next time it has the data. This is why the following logic has been added.
    google.maps.event.addListener(autocomplete, 'place_changed', function () {
        // If getPlace() is not undefined (so if it exists), store the formatted_address (or whatever data is relevant to you) in the hidden input.
        if(autocomplete.getPlace() !== undefined) {
            $("#formattedAddress").val(autocomplete.getPlace().formatted_address);
        }
        // If enter has been pressed, submit the form.
        if(enterPressedInForm) {
            $("#formName").submit();
        }
    });
}); 
```

这个解决方案似乎运作良好。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-04-02T03:47:43.660

对于用户按下“回车”时引发问题的一般问题，上述两种回答都是很好的答案。但是 - 我在使用 Google Places Autocomplete 时遇到了一个更具体的问题，这可能是 OP 问题的一部分。为了让 place_changed 事件做任何有用的事情，用户需要选择一个自动完成选项。如果您只是触发 'place_changed'，则会跳过 if () 块并且不会设置 cookie。

这里对问题的第二部分有一个很好的答案： [https ://stackoverflow.com/a/11703018/1314762](https://stackoverflow.com/a/11703018/1314762)

注意：如果您在同一页面上有多个自动完成输入，则会使用 amirnissim 的答案，而不是选择的答案。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-10T09:58:08.553

也许不是最用户友好的解决方案，但您可以使用 JQuery 禁用输入键。

像这样的东西...

```
$('.search-location').keypress(function(e) {
  if (e.which == 13) {
    return false;
  }
}); 
```

# jquery - 如何在 jquery 中使用选择器设置左位置属性？

> ID：12816429
> 
> 赞同：3
> 
> 时间：2012-10-10T09:47:19.917
> 
> 标签：jquery, jquery-selectors, position

我是 jquery 的新手，我想在 jquery 中使用选择器设置图像的左侧和顶部位置属性。我有以下 div：

```
#loadingGraph {
    position:absolute;
    z-index:10000;
    background-color:transparent;
} 
```

我已经搜索并找到了如何获取左值，但我没有找到设置它的方法。任何人都可以帮忙吗？谢谢！！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-10T09:49:01.377

你可以使用`css`方法。

放：

```
$('#loadingGraph').css('left', 'newValue'); 
```

得到：

```
var left = $('#loadingGraph').css('left'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T10:02:01.447

请参阅[http://api.jquery.com/offset/](http://api.jquery.com/offset/)。

基本用法：

```
//Getter
var pos = $('#loadingGraph').offset();
//returns an object where X and Y are integral pixel coordinates
pos = {
    top: Y,
    left: X
}

//Setters
$('#loadingGraph').offset({
    top: 40,
    left: 200
});
$('#loadingGraph').offset( function () {
   return {
        top: resultOfSomeFunctionToCalculateTheTop(),
        left: resultOfSomeFunctionToCalculateTheTop()
    };
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-10T09:50:12.203

尝试

```
$('#loadingGraph').css('left', '0') 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-10T09:49:32.593

您可以使用 .css 设置 jQuery 对象的样式

```
$('#loadingGraph').css({top:topvalue, left:leftvalue}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-10T09:51:27.030

```
$('#loadingGraph').css('left','yourValue'); 
```

或者

```
$('#loadingGraph').css({left: 'yourValue'}); 
```

**[进一步参考](http://api.jquery.com/css/)**

# android - 最受欢迎的 dpi 值

> ID：12816435
> 
> 赞同：3
> 
> 时间：2012-10-10T09:47:37.270
> 
> 标签：android, android-view

什么是或在哪里可以找到最流行的设备 dpi 规格？我有一个布局，其中 ImageView 使用 dp 值参数化，为了提供最适合任何设备的服务器，给定特定像素参数可以生成必要的图像。

因此，关于`px = dp * (dpi / 160)`我需要定义最流行的 dpi 变体来计算服务器的像素数据。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T09:53:05.780

您实际上可以使用所需的确切大小查询服务器。

```
float pixels = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, intContainingYourDPs, getResources().getDisplayMetrics()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:54:31.637

// 这些是 Google API 唯一支持的密度。

设备制造商可以为那里的设备提供自己的密度

假设 Galaxy 3 是`306 dpi`，但 android 会将其视为`306/160=1.9`

所以它`DENSITY_XHIGH`会从 xhdpi 获取资源。

```
public static final int DENSITY_DEFAULT
Since: API Level 4
The reference density used throughout the system.
Constant Value: 160 (0x000000a0)

public static final int DENSITY_HIGH
Since: API Level 4
Standard quantized DPI for high-density screens.
Constant Value: 240 (0x000000f0)

public static final int DENSITY_LOW
Since: API Level 4
Standard quantized DPI for low-density screens.
Constant Value: 120 (0x00000078)

public static final int DENSITY_MEDIUM
Since: API Level 4
Standard quantized DPI for medium-density screens.
Constant Value: 160 (0x000000a0)

public static final int DENSITY_TV
Since: API Level 13
This is a secondary density, added for some common screen configurations. It is recommended that applications not generally target this as a first class density -- that is, don't supply specific graphics for this density, instead allow the platform to scale from other densities (typically DENSITY_HIGH) as appropriate. In most cases (such as using bitmaps in Drawable) the platform can perform this scaling at load time, so the only cost is some slight startup runtime overhead.

This density was original introduced to correspond with a 720p TV screen: the density for 1080p televisions is DENSITY_XHIGH, and the value here provides the same UI size for a TV running at 720p. It has also found use in 7" tablets, when these devices have 1280x720 displays.    
Constant Value: 213 (0x000000d5)

public static final int DENSITY_XHIGH
Since: API Level 9
Standard quantized DPI for extra-high-density screens.
Constant Value: 320 (0x00000140)

public static final int DENSITY_XXHIGH
Since: API Level 16
Standard quantized DPI for extra-extra-high-density screens. Applications should not generally worry about this density; relying on XHIGH graphics being scaled up to it should be sufficient for almost all cases.
Constant Value: 480 (0x000001e0) 
```

# azure - 本地 NServicebus 应用程序从 Azure ServiceBus 队列接收消息

> ID：12816437
> 
> 赞同：1
> 
> 时间：2012-10-10T09:48:02.620
> 
> 标签：azure, nservicebus, servicebus, azure-queues

我目前正在努力在 nServiceBus 托管应用程序上启动并运行某些东西。我有一个 azure ServiceBus 队列，第 3 方正在向其发布消息，并且我希望我的应用程序（目前在本地托管）接收这些消息。

我已经用谷歌搜索了有关如何配置端点的答案，但我在有效配置中没有运气。有没有人这样做过，因为我可以找到如何连接到 Azure 存储队列而不是服务总线队列的示例。（出于其他原因，我需要 azure servicebus 队列）

我的配置如下

```
public void Init()
    {
        Configure.With()
           .DefaultBuilder()
           .XmlSerializer()
           .UnicastBus()
           .AzureServiceBusMessageQueue()
           .IsTransactional(true)
           .MessageForwardingInCaseOfFault()
           .UseInMemoryTimeoutPersister()
           .InMemorySubscriptionStorage();
    } 
```

. 启动端点时消息=异常，已记录错误。原因：输入队列 [mytimeoutmanager@sb://[ ***** ].servicebus.windows.net/] 必须与此 Source=NServiceBus.Host 在同一台机器上

.

```
<configuration>
  <configSections>
    <section name="MessageForwardingInCaseOfFaultConfig" type="NServiceBus.Config.MessageForwardingInCaseOfFaultConfig, NServiceBus.Core" />
    <section name="UnicastBusConfig" type="NServiceBus.Config.UnicastBusConfig, NServiceBus.Core" />
    <section name="AzureServiceBusQueueConfig" type="NServiceBus.Config.AzureServiceBusQueueConfig, NServiceBus.Azure" />
    <section name="AzureTimeoutPersisterConfig" type="NServiceBus.Timeout.Hosting.Azure.AzureTimeoutPersisterConfig, NServiceBus.Timeout.Hosting.Azure" />
  </configSections>
  <AzureServiceBusQueueConfig IssuerName="owner" QueueName="testqueue" IssuerKey="[KEY]" ServiceNamespace="[NS]" />
  <MessageForwardingInCaseOfFaultConfig ErrorQueue="error" />
  <!-- Use the following line to explicitly set the Timeout manager address -->
  <UnicastBusConfig TimeoutManagerAddress="MyTimeoutManager" />
  <!-- Use the following line to explicity set the Timeout persisters connectionstring -->
  <AzureTimeoutPersisterConfig ConnectionString="UseDevelopmentStorage=true" />
  <startup useLegacyV2RuntimeActivationPolicy="true">
    <supportedruntime version="v4.0" />
    <requiredruntime version="v4.0.20506" />
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.0" />
  </startup>
</configuration> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T10:04:42.353

尝试移动`UnicastBus()`到通话结束，如下所示：

```
 Configure.With()
       .DefaultBuilder()
       .XmlSerializer()
       .AzureServiceBusMessageQueue()
       .IsTransactional(true)
       .MessageForwardingInCaseOfFault()
       .UseInMemoryTimeoutPersister()
       .InMemorySubscriptionStorage()
       .UnicastBus(); // <- Here 
```

关于那些将消息发布到队列的第三方。请记住，他们需要尊重[NServiceBus 如何处理序列化/反序列化](https://github.com/NServiceBus/NServiceBus/blob/master/src/azure/Queueing/NServiceBus.Unicast.Queuing.AppFabric/AzureServiceBusMessageQueue.cs)。这是在 NServiceBus 中如何完成的（最重要的部分是 BrokeredMessage 使用原始消息进行初始化，这是使用 BinaryFormatter 进行序列化的结果）：

```
 private void Send(Byte[] rawMessage, QueueClient sender)
    {
        var numRetries = 0;
        var sent = false;

        while(!sent)
        {
            try
            {
                var brokeredMessage = new BrokeredMessage(rawMessage);

                sender.Send(brokeredMessage);

                sent = true;
            }
                // back off when we're being throttled
            catch (ServerBusyException)
            {
                numRetries++;

                if (numRetries >= MaxDeliveryCount) throw;

                Thread.Sleep(TimeSpan.FromSeconds(numRetries * DefaultBackoffTimeInSeconds));
            }
        }

    }

    private static byte[] SerializeMessage(TransportMessage message)
    {
        if (message.Headers == null)
            message.Headers = new Dictionary<string, string>();

        if (!message.Headers.ContainsKey(Idforcorrelation))
            message.Headers.Add(Idforcorrelation, null);

        if (String.IsNullOrEmpty(message.Headers[Idforcorrelation]))
            message.Headers[Idforcorrelation] = message.IdForCorrelation;

        using (var stream = new MemoryStream())
        {
            var formatter = new BinaryFormatter();
            formatter.Serialize(stream, message);
            return stream.ToArray();
        }
    } 
```

如果您希望 NServiceBus 正确反序列化消息，请确保您的第三方正确序列化它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T15:45:48.293

我现在遇到了完全相同的问题，并花了几个小时来弄清楚如何解决它。基本上，只有使用 NServiceBus.Hosting.Azure 的 Azure 托管终结点才支持 Azure 超时持久性。如果您使用 NServiceBus.Host 进程来托管您的端点，它使用 NServiceBus.Timeout.Hosting.Windows 命名空间类。它使用 MSMQ 初始化了一个 TransactionalTransport，然后您就会收到此消息。

我使用了两种方法来避免它：

1.  如果必须使用 As_Server 端点配置，可以在初始化时使用 .DisableTimeoutManager() ，它将完全跳过 TimeoutDispatcher 初始化
2.  使用 As_Client 端点配置，它不为传输使用事务模式，并且超时调度程序未初始化

可能有一种方法可以以某种方式注入 Azure 超时管理器，但我还没有找到它，我实际上需要 As_Client 东西，所以它对我来说很好。

# iphone - 如何将字符串转换为目标C中的代码块

> ID：12816438
> 
> 赞同：1
> 
> 时间：2012-10-10T09:48:02.280
> 
> 标签：iphone, objective-c, xcode

我正在 Xcode for iphone 中开发一个模拟器应用程序。我有一个文本字段，我正在该字段中编写一些 C 代码。当我单击一个按钮时，是否有任何方法可以编译和运行该代码块。我读过关于 NSTask 的文章。但我认为 NSTask 是用于从另一个应用程序调用一个应用程序。我的最后一个选择是从文本字段中拆分字符串并分析它们中的每一个并进行输出。但这将非常复杂和耗时。有没有更好的方法来做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T10:19:02.553

也许您可以以某种方式重新使用 UIWebView javascript 解释器并将 Objective-C 代码 + 语法重新解释/转换为可评估的 javascript 代码。这有意义吗？

# ios - 如何设置支持的设备列表

> ID：12816439
> 
> 赞同：0
> 
> 时间：2012-10-10T09:48:07.517
> 
> 标签：ios, air

我正在使用 Adob​​e Air 为 IOS 设备进行开发。但是，出于某种原因，我不想支持 iPhone3GS，这意味着我不希望用户可以从应用商店下载或不让这些设备安装我的应用。

我想知道如何实现或配置此功能。谢谢你

# android - Android 视图中的橡皮擦

> ID：12816442
> 
> 赞同：4
> 
> 时间：2012-10-10T09:48:20.540
> 
> 标签：android, android-layout, android-emulator, android-widget

我正在创建一个在画布上绘制的应用程序。要绘制，我将笔颜色设置为黑色。

用于笔按钮

```
 int black = Color.BLACK;
 mDrawPaint = new DrawPaint(Capture.this, null,black); 
```

DrawPaint 扩展视图的地方

现在要创建橡皮擦，我只是将笔颜色更改为白色，即画布的背景颜色。像这样

用于橡皮擦按钮

```
 int white = Color.WHITE;
 mDrawPaint = new DrawPaint(Capture.this, null,white); 
```

但是，如果我再次选择笔颜色为黑色的笔按钮并在画布上绘制一些东西，它会再次自动重绘我在擦除之前绘制的先前的油漆。橡皮擦也擦除了一个大的矩形区域。请解释我出了什么问题。谢谢你。

这是 DrawPaint 构造函数

```
 public DrawPaint(Context context, AttributeSet attrs, int color) {

    super(context, attrs);
    this.destroyDrawingCache();
    paint.setAntiAlias(true);
    paint.setColor(color);
    paint.setStyle(Paint.Style.STROKE);
    paint.setStrokeJoin(Paint.Join.ROUND);
    paint.setStrokeWidth(STROKE_WIDTH);

}

    public boolean onTouchEvent(MotionEvent event) {

        eventX = event.getX();
        eventY = event.getY();
        button1.setEnabled(true);

        switch (event.getAction()) {
        case MotionEvent.ACTION_DOWN:
            path.moveTo(eventX, eventY);
            lastTouchX = eventX;
            lastTouchY = eventY;
            return true;

        case MotionEvent.ACTION_MOVE:

        case MotionEvent.ACTION_UP:

            resetDirtyRect(eventX, eventY);
            int historySize = event.getHistorySize();
            for (int i = 0; i < historySize; i++) {
                float historicalX = event.getHistoricalX(i);
                float historicalY = event.getHistoricalY(i);
                expandDirtyRect(historicalX, historicalY);
                path.lineTo(historicalX, historicalY);
            }
            path.lineTo(eventX, eventY);
            break;

        default:
            debug("Ignored touch event: " + event.toString());
            return false;
        }

        invalidate((int) (dirtyRect.left - HALF_STROKE_WIDTH),
                (int) (dirtyRect.top - HALF_STROKE_WIDTH),
                (int) (dirtyRect.right + HALF_STROKE_WIDTH),
                (int) (dirtyRect.bottom + HALF_STROKE_WIDTH));

        lastTouchX = eventX;
        lastTouchY = eventY;

        return true;
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T09:57:55.567

对于橡皮擦，您可以使用此代码...

```
mPaint.setMaskFilter(null);
mPaint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.CLEAR)); 
```

关于那个方形颜色的问题...

看看这个..这是画布绘制的最佳示例，具有擦除、模糊和浮雕效果...

```
public class FingerText extends Activity
    implements ColorPickerDialog.OnColorChangedListener {    

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(new MyView(this));

    mPaint = new Paint();
    mPaint.setAntiAlias(true);
    mPaint.setDither(true);
    //this is the line that sets the initial pen color
    mPaint.setColor(inkColor);
    mPaint.setStyle(Paint.Style.STROKE);
    mPaint.setStrokeJoin(Paint.Join.ROUND);
    mPaint.setStrokeCap(Paint.Cap.ROUND);
    mPaint.setStrokeWidth(2);
}

private Paint       mPaint;
private Bitmap      mBitmap;
private boolean             inkChosen;
private int bgColor = 0xFFFFFFFF;  //set initial bg color var to white
private int inkColor =  0xFF000000; //set initial ink color var to black

public void colorChanged(int color) {
    //This is the implementation of the interface from colorpickerdialog.java

    if (inkChosen){
            mPaint.setColor(color);
            inkColor = color;
    }
    else {
            mBitmap.eraseColor  (color);
            bgColor = color;
            //set the color to the user's last ink color choice
            mPaint.setColor(inkColor); 
    }

}

public class MyView extends View {

    private Canvas  mCanvas;
    private Path    mPath;
    private Paint   mBitmapPaint;

    public MyView(Context c) {
        super(c);

        mBitmap = Bitmap.createBitmap(320, 480, Bitmap.Config.ARGB_8888);

        //this sets the bg color for the bitmap
        mBitmap.eraseColor  (bgColor);
        mCanvas = new Canvas(mBitmap);
        mPath = new Path();
        mBitmapPaint = new Paint(Paint.DITHER_FLAG);
    }

    @Override
    protected void onSizeChanged(int w, int h, int oldw, int oldh) {
        super.onSizeChanged(w, h, oldw, oldh);
    }

    @Override
    protected void onDraw(Canvas canvas) {
        //this is the line that changes the bg color in the initial canvas
            canvas.drawColor(bgColor);
        canvas.drawBitmap(mBitmap, 0, 0, mBitmapPaint);

        canvas.drawPath(mPath, mPaint);
    }

    private float mX, mY;
    private static final float TOUCH_TOLERANCE = 4;

    private void touch_start(float x, float y) {
        mPath.reset();
        mPath.moveTo(x, y);
        mX = x;
        mY = y;
    }
    private void touch_move(float x, float y) {
        float dx = Math.abs(x - mX);
        float dy = Math.abs(y - mY);
        if (dx >= TOUCH_TOLERANCE || dy >= TOUCH_TOLERANCE) {
            mPath.quadTo(mX, mY, (x + mX)/2, (y + mY)/2);
            mX = x;
            mY = y;
        }
    }
    private void touch_up() {
        mPath.lineTo(mX, mY);
        // commit the path to our offscreen
        mCanvas.drawPath(mPath, mPaint);
        // kill this so we don't double draw
        mPath.reset();
    }

    @Override
    public boolean onTouchEvent(MotionEvent event) {
        float x = event.getX();
        float y = event.getY();

        switch (event.getAction()) {
            case MotionEvent.ACTION_DOWN:
                touch_start(x, y);
                invalidate();
                break;
            case MotionEvent.ACTION_MOVE:
                touch_move(x, y);
                invalidate();
                break;
            case MotionEvent.ACTION_UP:
                touch_up();
                invalidate();
                break;
        }
        return true;
    }
}

private static final int BG_COLOR_ID = Menu.FIRST;
private static final int INK_MENU_ID = Menu.FIRST + 1;
private static final int CLEAR_MENU_ID = Menu.FIRST + 2;
private static final int ERASER_MENU_ID = Menu.FIRST + 3;
private static final int SEND_MENU_ID = Menu.FIRST + 4;

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    super.onCreateOptionsMenu(menu);

    menu.add(0, BG_COLOR_ID, 0, "Background Color").setShortcut('3', 'b');
    menu.add(0, INK_MENU_ID, 0, "Ink Color").setShortcut('4', 'c');
    menu.add(0, CLEAR_MENU_ID, 0, "Clear All").setShortcut('5', 'e');
    menu.add(0, ERASER_MENU_ID, 0, "Eraser").setShortcut('6', 'x');
    menu.add(0, SEND_MENU_ID, 0, "Send").setShortcut('7', 's');

    /****   Is this the mechanism to extend with filter effects?
    Intent intent = new Intent(null, getIntent().getData());
    intent.addCategory(Intent.CATEGORY_ALTERNATIVE);
    menu.addIntentOptions(
                          Menu.ALTERNATIVE, 0,
                          new ComponentName(this, NotesList.class),
                          null, intent, 0, null);
    *****/
    return true;
}

@Override
public boolean onPrepareOptionsMenu(Menu menu) {
    super.onPrepareOptionsMenu(menu);
    return true;
}

@Override
public boolean onOptionsItemSelected(MenuItem item) {
    mPaint.setXfermode(null);
    mPaint.setAlpha(0xFF);

    switch (item.getItemId()) {

            case BG_COLOR_ID:
                    new ColorPickerDialog(this, this, mPaint.getColor()).show();
                    inkChosen = false;
                    return true;
        case INK_MENU_ID:
            new ColorPickerDialog(this, this, mPaint.getColor()).show();
            //remember the user's last ink choice color so we can revert after eraser
            //to background color change -- otherwise ink is last bg color
            inkColor = mPaint.getColor();
            inkChosen = true;
            return true;
        case CLEAR_MENU_ID:
            mBitmap.eraseColor  (bgColor);
            return true;
        case ERASER_MENU_ID:
            //set pen color to bg color for 'erasing'
            mPaint.setColor(bgColor);
            return true;
        case SEND_MENU_ID:
                    /* TODO need to decide whether to save image locally
                     * and how to make it available if so. really only need to
                     * save if we want to let users view later, or pick a
                     * previous message to send again 
                     */

                    // this try-catch block creates a private file and an
                    // inputstream pointing to it for reading
            FileInputStream ifs;
                            try {
                                    FileOutputStream fs = openFileOutput("message_image", Context.MODE_PRIVATE);
                                    mBitmap.compress(CompressFormat.PNG, 100, fs);
                                    ifs = openFileInput("message_image");
                            } catch (FileNotFoundException e) {
                                    // TODO Auto-generated catch block
                                    e.printStackTrace();
                                    return true;
                            }
                                    // inserts file pointed to by ifs into image gallery
                            String url = Images.Media.insertImage(getContentResolver(),
                                    BitmapFactory.decodeStream(ifs),
                                    "Message image1", "Message image");

                                    // alternative: inserts mBitmap into image gallery
/*              String url = Images.Media.insertImage(getContentResolver(),
                                mBitmap, "Message image1", "Message image");
*/
                                    // creates the Intent to open the messaging app
                                    // with the image at url attached
            Intent sendIntent = new Intent(Intent.ACTION_SEND); 
            sendIntent.putExtra("sms_body", "Message created using FingerText"); 
            sendIntent.putExtra(Intent.EXTRA_STREAM, Uri.parse(url));
            sendIntent.setType("image/png");
            startActivity(sendIntent);
                    /* TODO delete the image from the content provider
                     * following line deletes the image, but too soon!
                     */
//              getContentResolver().delete(Uri.parse(url), null, null);

            //this resets canvas after send   
            //could also reset to last user settings w/o var resets
            bgColor = 0xFFFFFFFF;  //set bg color var back to white
            inkColor =  0xFF000000; //set ink color var back to black
            mBitmap.eraseColor  (bgColor);
            return true;
    }
    return super.onOptionsItemSelected(item);
} 
```

}

# javascript - javascript留下一个空的if语句

> ID：12816443
> 
> 赞同：4
> 
> 时间：2012-10-10T09:48:31.493
> 
> 标签：javascript

我想知道是否在某些情况下留下空的 if 语句：

```
else if(typeof console === 'undefined'){} 
```

只是让代码绕过函数的其余部分这是一种公认​​且安全的工作方式，还是针对这些情况有其他推荐做法？谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-10T09:51:08.023

根据您提供给我的信息，我可以得出答案是“否”。它会起作用，但它的风格很糟糕。如果您想绕过该函数的其余部分，为什么不`return;`将大部分逻辑放在与其相关的`if`语句中，以便根本没有绕过？

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-10T09:51:16.053

将分支留空既好又安全`if`，我唯一要添加的是评论：

```
else if(typeof console === 'undefined')
{
    //explanation why nothing has to go here
} 
```

在没有看到其余代码的情况下，我不确定您如何使用它来“绕过其余功能”，可能有更好的方法来做到这一点。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-10T10:01:33.227

与 Pioul 的回答相同，但我要补充一点，在 javascript 中检查存在的 imo 看起来更整洁！（不是）运算符。

```
if(!!console){
    // your code
}
// else if(!console){}
// you don't need that second part 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-10T09:54:27.403

只是不要为您不想处理的案例编写块。

如果您只想在`console`存在时做某事，请执行以下操作：

```
if(typeof console !== 'undefined'){
    // your code
}
// else if(typeof console === 'undefined'){}
// you don't need that second part 
```

或者我没有完全理解你的问题？

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-06-28T07:32:21.787

有时打印出调试信息很有用：-

```
if(typeof console !== 'undefined'){
    console.log("debug info");
} 
```

然后，在发布代码之前，简单地注释掉所有console.log的

```
//        console.log("debug info"); 
```

这可以通过宏来完成。

它将留下一个空的 if 语句。但这不是编译错误，所以没关系。

请注意，如果您要注释掉该行，则使用大括号很重要。否则，您的下一行将取决于 if 语句，这将是一种耻辱。

# grails - 如何知道选择了哪个复选框

> ID：12816452
> 
> 赞同：0
> 
> 时间：2012-10-10T09:48:48.030
> 
> 标签：grails

我从数据库中得到了这个结果。结果的数量可以是一个、多于一个或根本没有。对于返回的每个寄存器，都会创建一个表，并在一列内显示一个复选框。在视图中，我需要知道选中了哪个复选框，这样我就可以将表格另一列的内容传递给控制器​​，以进行处理。就像“数据库向我返回了一个人列表，我想向其中一些人发送电子邮件，而不是全部人。我选中复选框，查找“电子邮件”列，如果该人的复选框被选中，电子邮件已发送”。

有没有（最好是简单的）方法来实现这一目标？

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T09:58:34.093

如果您为所有复选框提供相同的名称，但值不同：

```
<g:checkBox name="sendTo" value="${firstPerson.id}" checked="${false}"/>
....
<g:checkBox name="sendTo" value="${secondPerson.id}" checked="${false}"/> 
```

然后在控制器中你可以使用

```
params.list("sendTo").each { personId ->
  def person = Person.get(personId)
  // send email to this person
} 
```

`params.list()`是在处理潜在的多值参数时了解的一个方便的工具。如果没有选中任何复选框，一个标准`params.sendTo`会给你一个，如果一个被选中，一个如果两个或更多被选中。使用将*始终*为您提供一个（根据需要使用零、一个或多个元素）。`null``String``List``params.list("sendTo")`*`List`*

# asp.net-mvc-3 - 剃刀文本框，“值”属性未显示

> ID：12816454
> 
> 赞同：0
> 
> 时间：2012-10-10T09:48:51.030
> 
> 标签：asp.net-mvc-3

> **可能重复：**
> [MVC3 中文本框的水印](https://stackoverflow.com/questions/6445274/watermark-for-textbox-in-mvc3)

我将我的 HTML 代码从基本 html 切换为使用 html 助手和 Html.TextBoxFor ...

这是我的旧代码

```
<input type="text" disabled="disabled" value="Phone" name="Phone" id="cust-cellphone" class="tonedDown" /> 
```

这是新版本

```
@Html.TextBoxFor(x => x.Customer.Phone_Personal, new { @class = "text-adr-fld tonedDown", @value = "Phone", @disabled = "disabled" }) 
```

一切正常，除了 Value 属性消失了。我的意思是它没有在文本框中显示为默认的预定义值。我读到您可以使用占位符，但它似乎不适用于 IE9（这是我的客户的要求）。

所以问题是，如何将输入值属性添加到适用于 IE9 的 TextboxFor 方法？

编辑：可能有某种可能的解决方法。我最初的目的是显示一个“类似值的占位符”，即显示用户应该在文本框中键入的内容的默认值。例如，处理电话号码的文本框应该显示“电话”，直到用户单击并输入一个值。

有谁知道这样做的另一种方式（“占位符”和“价值”除外）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:10:22.400

你可以为你的模型设置默认值，然后你的代码就可以工作了，否则你可以尝试使用

```
 @Html.TextBox("Phone_Personal", "Phone", new { @class = "text-adr-fld tonedDown", @disabled = "disabled" }). 
```

如果你想使用 TextBoxFor，那么使用

```
 $(document).ready(function(){
      $("#Phone_Personal").val("Phone"); // replace Phone_Personal with the ID of the textbox
   }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:18:46.830

我认为您没有将模型传递给 View 方法：

```
 return View(model); 
```

或者，模型为空。

# objective-c - 防止父视图 UIGestureRecongnizer 在 UITableVIew 子视图中执行

> ID：12816456
> 
> 赞同：1
> 
> 时间：2012-10-10T09:49:05.503
> 
> 标签：objective-c, ios, uitableview, uigesturerecognizer

问题：

我有一个[UIView](http://developer.apple.com/library/ios/#documentation/uikit/reference/uiview_class/uiview/uiview.html)，它有一个[UITableView](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableView_Class/Reference/Reference.html)作为子视图。UIView 配置了一个[UITapGestureRecognizer](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITapGestureRecognizer_Class/Reference/Reference.html)。

我的问题是 UIView 的手势识别器消耗了桌子上的点击。结果是表格视图永远不会看到水龙头。

当一个点在表格的框架内时，如何使识别器失败，或者使表格成为水龙头的默认使用者。

我已经尝试过（如代码示例所示）一些方法[pointInside:withEvent](http://developer.apple.com/library/ios/documentation/uikit/reference/uiview_class/uiview/uiview.html#//apple_ref/occ/instm/UIView/pointInside%3awithEvent%3a)，[hitTest:withEvent](http://developer.apple.com/library/ios/documentation/uikit/reference/uiview_class/uiview/uiview.html#//apple_ref/occ/instm/UIView/hitTest%3awithEvent%3a)但不能完全弄清楚如何去做。

这是代表问题的代码：控制器：

```
#import <UIKit/UIKit.h>
#import "ABCDTableView.h"

@interface ABCDFirstView : UIView
@property (nonatomic,strong) ABCDTableView *tableView;
@end

#import "ABCDFirstView.h"

@implementation ABCDFirstView
@synthesize tableView;

- (id)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    if (self) {
        [self awakeFromNib];
    }
    return self;
}

- (void)awakeFromNib
{

    UITapGestureRecognizer *tap = [[UITapGestureRecognizer alloc]
                                   initWithTarget:self action:@selector(viewTouch:)];

    [self addGestureRecognizer:tap];
}

- (void)viewTouch:(UIGestureRecognizer *)gesture {
    NSLog(@"view touched");
}

- (BOOL)pointInside:(CGPoint)point withEvent:(UIEvent *)event
{
    if (CGRectContainsPoint(self.tableView.bounds, point)) {
        NSLog(@"point in table point as well as view");
        return NO;
    }
    else if (CGRectContainsPoint(self.bounds, point)) {
        NSLog(@"point only in view");
        return YES;
    }
    NSLog(@"point not in view");
    return NO;
}

- (UIView *)hitTest:(CGPoint)point withEvent:(UIEvent *)event
{
    UIView *view    = [super hitTest:point withEvent:event];
    NSLog(@"view hittest res: %@",view);

    return view;
}
@end 
```

表视图

```
#import <UIKit/UIKit.h>

@interface ABCDTableView : UITableView
    <UITableViewDataSource, UITableViewDelegate>
@property (nonatomic, strong) NSArray *list;

@end

#import "ABCDTableView.h"

@implementation ABCDTableView
@synthesize list;

- (id)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    if (self) {
        [self awakeFromNib];
    }
    return self;
}

- (void)awakeFromNib
{
    self.delegate   = self;
    self.dataSource = self;

    // create table list
    self.list       = [[NSArray alloc]
                       initWithObjects: @"one",@"two",@"three",@"four",@"five",
                       @"six", @"seven", @"eight", @"nine", @"ten", nil];

}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return [self.list count];
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *cellID = @"cell";
    UITableViewCell *cell   = [self dequeueReusableCellWithIdentifier:cellID];

    if (cell == nil) {
        cell    = [[UITableViewCell alloc]
                   initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellID];
    }

    cell.textLabel.text = [self.list objectAtIndex:[indexPath row]];

    return cell;
}

- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    NSLog(@"row selected");
}

@end 
```

看法

```
#import <UIKit/UIKit.h>
#import "ABCDTableView.h"

@interface ABCDFirstView : UIView
@property (nonatomic,strong) ABCDTableView *tableView;
@end

#import "ABCDFirstView.h"

@implementation ABCDFirstView
@synthesize tableView;

- (id)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    if (self) {
        [self awakeFromNib];
    }
    return self;
}

- (void)awakeFromNib
{

    UITapGestureRecognizer *tap = [[UITapGestureRecognizer alloc]
                                   initWithTarget:self action:@selector(viewTouch:)];

    [self addGestureRecognizer:tap];
}

- (void)viewTouch:(UIGestureRecognizer *)gesture {
    NSLog(@"view touched");
}

- (BOOL)pointInside:(CGPoint)point withEvent:(UIEvent *)event
{
    if (CGRectContainsPoint(self.tableView.bounds, point)) {
        NSLog(@"point in table point as well as view");
        return NO;
    }
    else if (CGRectContainsPoint(self.bounds, point)) {
        NSLog(@"point only in view");
        return YES;
    }
    NSLog(@"point not in view");
    return NO;
}

- (UIView *)hitTest:(CGPoint)point withEvent:(UIEvent *)event
{
    UIView *view    = [super hitTest:point withEvent:event];
    NSLog(@"view hittest res: %@",view);

    return view;
}
@end 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-27T11:35:16.947

使用 UIGestureRecognizerDelegate 方法

> -(BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldReceiveTouch:(UITouch *)touch;

并检查 touch.view 是否与应该接收手势识别器的视图相同。

# .net - .NET windows 应用程序上的更改通知

> ID：12816458
> 
> 赞同：1
> 
> 时间：2012-10-10T09:49:06.703
> 
> 标签：.net, message-queue, windows-applications

我们有大约 50 个用户使用的 .NET 2.0 Windows 应用程序。应用程序中的主要 UI 元素是交互式甘特图 (iLOG Gantt 3.0)。当一位用户在甘特图上进行更改时，我们希望在所有客户端上更新更改。

有人可以建议我们如何有效地实施这一点吗？

到目前为止的解决方案候选者是

*   轮询数据库服务器以获取每个连接节点的更改（！！）
*   基于消息队列的解决方案（发布-订阅模型）

我们还有其他选择吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T09:59:06.760

50 个用户是一个小数目。如果做得好，数据库轮询不会产生任何重大影响，这是最简单的方法，不需要任何额外的架构部件。

如果您担心可扩展性问题，一个相对简单的替代方案可能是在数据库服务器上运行一个基于 TCP 或 UDP 套接字的服务，客户端将连接到该服务。然后它会定期轮询数据库，并在发生更改时向任何连接的客户端发送信号。

# objective-c - 以编程方式在横向 UIImage

> ID：12816459
> 
> 赞同：0
> 
> 时间：2012-10-10T09:49:07.133
> 
> 标签：objective-c, ios

我有一个在纵向方向看起来很完美的图像（小按钮），但是我的整个应用程序都在横向右模式下运行，但是图像不会变成横向。

我想以编程方式进行

我试过：

```
NSString *pathToImg = [[NSBundle mainBundle] pathForResource:@"DetonatorSmall" ofType:@"png"];

UIImage *img = [UIImage imageWithContentsOfFile:pathToImg];
UIImageView *imgView = [[UIImageView alloc] initWithImage:img];

imgView.transform = CGAffineTransformMakeRotation(3.14159265/2);

[button setImage:imgView.image forState:UIControlStateNormal]; 
```

但图像仍然是纵向的。

有什么想法我能做什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T10:09:35.180

试试这个：

```
UIImage *img = [UIImage imageWithContentsOfFile:pathToImg];
[button setImage:img forState:UIControlStateNormal];
[button setTransform:CGAffineTransformMakeRotation(-M_PI / 2.0)];//Left
[button setTransform:CGAffineTransformMakeRotation( M_PI / 2.0)];//Right 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:31:34.743

我自己修好了！:)

我在绘制之前将图像添加到了一个按钮，所以这个按钮是我必须移动的那个。我将 .transform 应用到了 imageview，但我必须从按钮开始：）

可以关闭

# python - 如何在 python web.py 中使用单选按钮

> ID：12816464
> 
> 赞同：0
> 
> 时间：2012-10-10T09:49:20.067
> 
> 标签：python, radio-button, web.py

我正在使用 web.py 框架来创建一个简单的 Web 应用程序

我想创建一个单选按钮，所以我编写了以下代码

```
from web import form
from web.contrib.auth import DBAuth
import MySQLdb as mdb

render = web.template.render('templates/')

urls = (
  '/project_details',  'Project_Details',  
)

class Project_Details:

    project_details = form.Form( 
        form.Radio('Home Page'),
        form.Radio('Content'),
        form.Radio('Contact Us'),
        form.Radio('Sitemap'),
        )

    def GET(self):
        project_details = self.project_details()
        return render.projectdetails(project_details) 
```

当我使用 url 运行代码时，`localhost:8080`我看到以下错误

```
Traceback (most recent call last):
  File "/usr/lib/python2.7/site-packages/web/application.py", line 237, in process
    return p(lambda: process(processors))
  File "/usr/lib/python2.7/site-packages/web/application.py", line 565, in processor
    h()
  File "/usr/lib/python2.7/site-packages/web/application.py", line 661, in __call__
    self.check(mod)
  File "/usr/lib/python2.7/site-packages/web/application.py", line 680, in check
    reload(mod)
  File "/home/local/user/python_webcode/index.py", line 68, in <module>
    class Project_Details:
  File "/home/local/user/python_webcode/index.py", line 72, in Project_Details
    form.Radio('password'),
TypeError: __init__() takes at least 3 arguments (2 given) 
```

需要在单选按钮中传递什么参数才能避免这个错误

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T11:58:41.757

查看[源代码](https://github.com/webpy/webpy/blob/master/web/form.py#L291)，您似乎必须`Radio`为所有项目使用一个构造函数，因为同一个`Radio`对象实际上会生成多个`<input>`元素。

尝试类似::

```
project_details = form.Form( 
    form.Radio('details', ['Home Page', 'Content', 'Contact Us', 'Sitemap']),
    ) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-02-18T08:51:32.477

这是我能够破译的。checked='checked' 似乎在列表中选择了一个随机（最后一个？）项目。如果没有默认选择，如果没有选择任何单选按钮，我的测试将返回 NoneType。

```
project_details = form.Form(
  form.Radio('selections', ['Home Page', 'Content', 'Contact Us','Sitemap'], checked='checked'),
  form.Button("Submit") 
) 
```

要将您的用户选择作为字符串访问...

```
result = project_details['selections'].value 
```

如果您想在模板处于活动状态时使用 javascript，您可以将 onchange='myFunction()' 添加到 Radio 行项目的末尾。我还为每个元素分配了一个 id，以避免对我的 getElementById 调用感到沮丧，所以我的声明看起来像这样。

```
 project_details = form.Form(
   form.Radio('selections', ['Home Page', 'Content', 'Contact Us','Sitemap'], checked='checked', onchange='myFunction()', id='selections'),
   form.Button("Submit") 
) 
```

# jquery - div 图像和鼠标悬停事件

> ID：12816465
> 
> 赞同：0
> 
> 时间：2012-10-10T09:49:23.333
> 
> 标签：jquery, css, hover

我有一个带有图像的网站，其中一些有一个“播放”（一个绝对定位并通过 jQuery 上的点击事件管理的 div）。

在某些图像中，当鼠标悬停在图像上时，我必须更改不透明度。

当图像同时具有“播放”和不透明度变化时，就会发生这种情况（将鼠标放在“播放”div上）：http: [//jsfiddle.net/S53b5/](http://jsfiddle.net/S53b5/)

我尝试过仅使用 CSS 或使用 jQuery 的不同解决方案，但任何方法都有效:(

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T09:54:28.333

试试这个[演示](http://jsbin.com/uxubut/1/edit)

```
 $("img").mouseout(function(){
     $(".play").css("opacity","1")
    }).mouseover(function(){
     $(".play").css("opacity",".5");
    }); 
```

更新[了 Demo2](http://jsbin.com/uxubut/6/edit)

```
$("img").mouseout(function(){
        $(".play").css("opacity","1");
         $(this).css("opacity",".1");
    }).mouseover(function(){
        $(".play").css("opacity",".5");
        $(this).css("opacity","1");
    });

$(".play").mouseover(function(){
        $(this).css("opacity","1");
        $("img").css("opacity","1");
    }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T09:51:55.153

```
$("img").mouseover(function(){
    $(this).css("opacity",".8");
}) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T09:55:35.833

```
$("#(yourimageid)").mouseover(function(){
$(this).css("opacity","0.7")
}) 
```

# objective-c - 如何检查对象是否有 viewControllers 数组

> ID：12816466
> 
> 赞同：0
> 
> 时间：2012-10-10T09:49:23.760
> 
> 标签：objective-c, ios5, nsarray, viewcontroller

我如何检查对象类型 id 是否有 viewcontrollers 数组。我需要检查我是否可以调用 viewControllers。调用 respondsToSelector 是否正确？

```
while (![obj isKindOfClass:[UIViewController class]])
{
obj = [obj viewControllers].lastObject;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T09:59:18.083

```
if (class_getProperty([obj class], "viewControllers") != NULL) 
```

你需要导入`#import <objc/runtime.h>`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:04:31.563

只有 UINavigationController、UISplitViewController、UITabBarController 有 viewControllers 属性。

```
 if([obj isKindOfClass:[UINavigationController class]])
 {
    if([obj viewControllers])
       //has view controllers
 }
 else if([obj isKindOfClass:[UISplitViewController class]])
 {
    if([obj viewControllers])
       //has view controllers
 }
 else if([obj isKindOfClass:[UITabBarController class]])
 {
    if([obj viewControllers])
       //has view controllers
 } 
```

# magento - 如何在magento的phtml文件中调用cms页面？

> ID：12816467
> 
> 赞同：2
> 
> 时间：2012-10-10T09:49:24.613
> 
> 标签：magento, magento-1.7

我需要在我的自定义模块的 phtml 文件中显示一个 CMS 页面。有什么办法可以通过xml布局或直接在phtml文件中编码来包含它？我知道我们可以添加一个 cms 块，但是我们如何添加一个 cms 页面呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-10T10:58:22.773

在您的 phtml 文件中尝试以下代码

```
 $page = Mage::getModel('cms/page')->load('home_page','identifier');
 echo $page->getContent(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-03-03T06:21:15.713

此代码检查 cms 页面是否处于活动状态，然后它将显示页面内容

```
$page = Mage::getModel('cms/page')->load('top_offer','identifier');

echo $page->getIsActive()?$page->getContent():''; 
```

# facebook - 如何为 Facebook 身份验证启用“作为页面登录”？

> ID：12816471
> 
> 赞同：2
> 
> 时间：2012-10-10T09:49:37.893
> 
> 标签：facebook

我正在尝试为我的网站启用“作为页面登录”，但这就是 facebook 所说的（`S3auth`是我的页面的名称）：

![在此处输入图像描述](../Images/37b0d771aa86a8ee912292a5dfa4ebd2.png)

如何解决此问题以及在哪里阅读有关此类登录的信息？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:49:17.580

“作为页面登录”是不可能的，但您可以使用图形 API 使用`manage_pages`权限来获取用户的页面数据，并允许他们在您的站点上执行任务。

引自[facebook 权限文档](https://developers.facebook.com/docs/authentication/permissions/)：

> 使您的应用程序能够检索用户管理的页面和应用程序的 access_tokens。可以通过 Graph API 调用 //accounts 来查询访问令牌。此权限仅与 Graph API 兼容，而不与已弃用的 REST API 兼容。请参阅此处以生成在 60 天后不会过期的长期页面访问令牌。

# asp.net - 单元测试 ASP.NET 旧代码

> ID：12816473
> 
> 赞同：2
> 
> 时间：2012-10-10T09:49:47.827
> 
> 标签：asp.net, unit-testing

我有 ASP.NET 遗留项目的列表。在这些项目中，业务逻辑与页面紧密结合。所有的身份验证和其他东西都写在后面代码中的加载和点击事件中。我正在使用 Visual Studio 2012。

对这些项目进行单元测试的最佳方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T09:56:32.453

在对遗留 ASP.NET 代码进行单元测试时，一些最困难的挑战是模拟会话、HTTP 上下文和页面对象等内容。为了隔离这些，你最终会得到非常混乱的模拟逻辑，通常涉及大量的反射和运行时值注入。

[TypeMock](http://www.typemock.com/aspnet_unit_testing_page)在这里是无价的，因为它拥有隔离模拟类型所需的一切，如上面的那些，并且还有很多帮助模拟 ASP.NET 管道而无需依赖 Web 服务器。

# java - 某种 JSTL 消息标签

> ID：12816474
> 
> 赞同：0
> 
> 时间：2012-10-10T09:49:52.780
> 
> 标签：java, jstl, messages, presentation, custom-tag

是否有专门用于显示消息的 JSTL 标记，并且只有在有消息要显示的情况下？这样我就不必用“c:if”标签来包围显示了。

如果是这样，我该如何使用它？我应该如何添加要显示的消息？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:08:09.317

这听起来像是一份工作`c:out`。例如，这应该显示 的值`person.name`，或者如果是 则什么都不显示`null`。

```
 <c:out value="${person.name}" /> 
```

如果要在 a 的情况下显示默认值`null`，则：

```
 <c:out value="${person.name}" default="no name" /> 
```

或者

```
 <c:out value="${person.name}">no name</c:out> 
```

（如果这不能回答您的问题，您需要更明确地说明“消息”的含义......以及您希望它们如何显示。）

* * *

如果集合中有零个或多个消息：

```
 <c:forEach items="${messages}" var="message">
        <c:out value="${message}"/>
    </c:forEach> 
```

# jquery - 调用 http://www.rabodirect.com.au/includes/figures.xml 时 jquery ajax 的问题

> ID：12816477
> 
> 赞同：0
> 
> 时间：2012-10-10T09:50:21.217
> 
> 标签：jquery, xml, ajax

> **可能重复：**
> [规避同源策略的方法](https://stackoverflow.com/questions/3076414/ways-to-circumvent-the-same-origin-policy)

我正在尝试从此 url 获取 xml 数据

[http://www.rabodirect.com.au/includes/figures.xml](http://www.rabodirect.com.au/includes/figures.xml)

这是我的简单代码：

```
$(document).ready(function ()
{
   $.ajax({
        url: 'http://www.rabodirect.com.au/includes/figures.xml',
        type: 'GET',
        dataType: 'xml',
        timeout: 10000,
        error: function () {
            alert('Error loading XML document');
        },
        success: function(xml)
        {
          alert(xml);
        }
    }); 
}); 
```

但是会出现错误警报。

有什么想法，为什么我不能得到xml数据？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T17:57:22.073

您的示例给出了“无传输”错误。无法使用 ajax 访问外部资源。您应该调用一个本地 url，它获取并返回数据。[另请参阅http://api.jquery.com/jQuery.get/](http://api.jquery.com/jQuery.get/)上的讨论

# html - 带有缩略图的作品集网站（使用 CSS 设计），更新我的作品的最佳方式是什么？

> ID：12816480
> 
> 赞同：0
> 
> 时间：2012-10-10T09:50:29.137
> 
> 标签：html, css, portfolio

我正在设计一个网站，我想用我将在 CSS 中创建的缩略图（3 行，3 列）展示我的作品。目前我也在研究用精灵创建缩略图。

由于我希望能够每隔一段时间更新我的作品，那么最好的方法是什么？我敢肯定，当我添加或删除一项作品时，我必须在我网站的每个页面上碰碰每一个缩略图，这比我有更好的选择。

这是我应该在 PHP 中做的事情吗？或者我应该进入后端编程，还是别的什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-10T10:28:08.720

如果您的站点将非常小，那么您可以创建一个 XML 文件来存储您的图像 url、属性等，而不是使用存储图像的数据库。XML 文件可以是您的数据源。**但是，请注意此文件不要变得太大，因为它可能会在内存上变得昂贵。**

然后，您可以创建一些可重用的代码，并循环遍历 xml 中的每个节点以显示图像。而不是把你的图片放在每一页上。

# python - 我已经用 Homebrew 安装了 PIL，但是当我尝试导入它时，它说没有模块存在

> ID：12816482
> 
> 赞同：1
> 
> 时间：2012-10-10T09:50:47.350
> 
> 标签：python, macos, python-imaging-library, homebrew

我已经用自制软件安装了 PIL。然后它说存在符号链接错误，可以通过再次执行此操作轻松修复，但使用 sudo。我这样做了。现在，当我进入 python 并导入 Image 时，它​​不起作用！我试过import PIL、import image、import pil，但都不起作用。当我尝试再次安装它时，它说`Error: pil-1.1.7 already installed`。请帮忙！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T11:28:42.717

如果您使用的是不是由 homebrew 安装的 python 二进制文件以及您通过 homebrew 安装的软件包，我认为您会看到这个问题。您能否验证您使用的 python 二进制文件不是默认包含在 OS X 中的那个？

# excel - 数组函数：如何对日期范围求和？

> ID：12816487
> 
> 赞同：0
> 
> 时间：2012-10-10T09:51:06.040
> 
> 标签：excel

我们有一个相当复杂的数组问题，我们正在努力克服：

这是我们用来根据满足的单个参数对各个列求和的标准数组公式，在本例中为值 $k$6，位于 F 列中。

```
=SUM(('EVERYTHING PIVOT'!$F$5:$F$100000=$K$6)*('EVERYTHING PIVOT'!$K$5:$K$100000)) 
```

但是，我们现在希望对范围内最新日期之前 30 天的那组日期的值求和。

日期列 A 中的值将满足此条件：

```
">"&MAX($A$5:$A$100000)-30 
```

但是我看不到将它作为附加参数集成到第一个数组公式中的方法，因为数组公式只能使用单个值而不是范围。

我有什么我在这里想念的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:11:17.177

对于您的原件，您最好使用这样的 SUMIF，即

`=SUMIF('EVERYTHING PIVOT'!$F$5:$F$100000,$K$6,'EVERYTHING PIVOT'!$K$5:$K$100000)`

如果您有 Excel 2007 或更高版本（可能您有，否则您不能使用 100,000 行），您可以在`SUMIFS`函数中添加一个标准，即

`=SUMIFS('EVERYTHING PIVOT'!$K$5:$K$100000,'EVERYTHING PIVOT'!$F$5:$F$100000,$K$6,'EVERYTHING PIVOT'!$A$5:$A$100000,">"&MAX($A$5:$A$100000)-30)`

注意 SUMIFS 的语法不同，求和范围在开头

在旧版本的 excel 中，您可以像这样修改数组公式

`=SUM(('EVERYTHING PIVOT'!$F$5:$F$100000=$K$6)*('EVERYTHING PIVOT'!$K$5:$K$100000)*('EVERYTHING PIVOT'!$A$5:$A$100000>MAX($A$5:$A$100000)-30 ))`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T10:11:47.613

如果您使用的是 Excel 2007 或更高版本，请考虑使用`SUMIFS`

```
=SUMIFS('EVERYTHING PIVOT'!$K:$K,
        'EVERYTHING PIVOT'!$F:$F,$K$6,
        'EVERYTHING PIVOT'!$A:$A,">"&MAX('EVERYTHING PIVOT'!$A:$A)-30) 
```

`SUMIFS`在满足多个条件的区域中添加单元格

```
SUMIFS(sum_range, criteria_range1, criteria1, [criteria_range2, criteria2], ...) 
```

如果使用 excel 2003 或更早版本，您可以使用`SUMPRODUCT`

# android - 当我为列表视图使用简单适配器时，如何在列表视图中搜索？

> ID：12816491
> 
> 赞同：0
> 
> 时间：2012-10-10T09:51:11.587
> 
> 标签：android

当我使用一个简单的适配器时，我正在列表视图中创建一个搜索栏。我正在使用下面的代码。执行此代码时，它显示空指针异常。任何人都可以帮助我吗？提前致谢。

```
String headlines1[] = {"Dell Inspiron", "HTC One X", "HTC Wildfire S", "HTC Sense", "HTC Sensation XE","iPhone 4S", "Samsung Galaxy Note 800","Samsung Galaxy S3", "MacBook Air", "Mac Mini", "MacBook Pro"};
for (int j = 0; j < headlines1.length; j++)  
{
    HashMap<String, String> map = new HashMap<String, String>();
    map.put("row1", ":"+headlines1[j]);
    mylistData.add(map);
}

SimpleAdapter arrayAdapter = new SimpleAdapter(this, mylistData, R.layout.simple_list_item_2, row, new int[] { R.id.tv});
lst.setAdapter(arrayAdapter);
lst.setTextFilterEnabled(true);

inputsearch.addTextChangedListener(new TextWatcher()
    {
        @Override
        public void onTextChanged( CharSequence cs, int arg1, int arg2, int arg3)
        {
            // TODO Auto-generated method stub
            String searchString=inputsearch.getText().toString();
            int textLength=searchString.length();

            //clear the initial data set
            searchResults.clear();

            for(int i=0;i<mylistData.size();i++)
            {
                String playerName=mylistData.get(i).get("row1").toString();
                if(textLength<=playerName.length()){
                    //compare the String in EditText with Names in the ArrayList
                    if(searchString.equalsIgnoreCase(playerName.substring(0,textLength)))
                        searchResults.add(mylistData.get(i));
                }
            }

            arrayAdapter.notifyDataSetChanged();
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:01:18.117

看看下面的代码。

```
public class MainActivity extends Activity {

private ListView lv;
private EditText et;
private String listview_array[] = { "ONE", "TWO", "THREE", "FOUR", "FIVE","SIX", "SEVEN", "EIGHT", "NINE", "TEN" };
private ArrayList<String> array_sort = new ArrayList<String>();
int textlength = 0;

public void onCreate(Bundle savedInstanceState)

{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    lv = (ListView) findViewById(R.id.ListView01);
    et = (EditText) findViewById(R.id.EditText01);
    lv.setAdapter(new ArrayAdapter<String>(this,
    android.R.layout.simple_list_item_1, listview_array));
    et.addTextChangedListener(new TextWatcher()
    {
        public void afterTextChanged(Editable s)
        {
            // Abstract Method of TextWatcher Interface.

        }
        public void beforeTextChanged(CharSequence s,
        int start, int count, int after)
        {

            // Abstract Method of TextWatcher Interface.

        }
        public void onTextChanged(CharSequence s,
        int start, int before, int count)
        {
            textlength = et.getText().length();
            array_sort.clear();
            for (int i = 0; i < listview_array.length; i++)
            {
                if (textlength <= listview_array[i].length())
                {
                    if (et.getText().toString().equalsIgnoreCase(
                    (String)
                    listview_array[i].subSequence(0,
                    textlength)))
                    {
                        array_sort.add(listview_array[i]);
                    }
                }
            }

            lv.setAdapter(new ArrayAdapter<String>
            (MainActivity.this,
            android.R.layout.simple_list_item_1, array_sort));
        }
    });
}
} 
```

# javascript - 我的 gridview 有动态单选按钮，在运行 javascript 以确认我的单选按钮值丢失

> ID：12816496
> 
> 赞同：1
> 
> 时间：2012-10-10T09:51:34.147
> 
> 标签：javascript, asp.net, gridview

```
 <asp:GridView ID="grdStaffControl" GridLines="None" runat="server" AutoGenerateColumns="false" onrowdatabound="grdStaffControl_RowDataBound"  ShowHeader="false" EnableViewState="true" >                    
                    <Columns>
                        <asp:BoundField DataField="QUESTION" ItemStyle-Width="90%" ItemStyle-HorizontalAlign = "Left" />
                        <asp:TemplateField ItemStyle-Width="2%">
                            <ItemTemplate>
                                <asp:Label ID="lbl" runat="server" Text="*" ForeColor="Red"></asp:Label>
                            </ItemTemplate>
                        </asp:TemplateField>
                        <asp:TemplateField ItemStyle-Width="10%">                
                        <ItemTemplate> 
                            <asp:Label ID="lblQID" runat="server" Text='<%# Eval("QID") %>' Visible="false"></asp:Label>
                            <asp:Label ID="lblAnswer" runat="server" Text='<%# Eval("ANSWER") %>' Visible="false"></asp:Label>
                            <asp:RadioButtonList ID="rblAnswer" runat="server" RepeatLayout="Flow" RepeatDirection="Horizontal">
                                <asp:ListItem Text="Yes" Value="True"></asp:ListItem>
                                <asp:ListItem Text="No" Value="False"></asp:ListItem>
                            </asp:RadioButtonList>             
                        </ItemTemplate>
                    </asp:TemplateField>
                    </Columns>                
 </asp:GridView> 
```

这是我的网格视图。请帮忙。
在任何其他回发中，我的值都会返回，但只有在 javascript for confirm 运行时才会丢失。

# jquery - 如何在点击转义时关闭模式弹出窗口？

> ID：12816497
> 
> 赞同：19
> 
> 时间：2012-10-10T09:51:34.880
> 
> 标签：jquery, jquery-ui

我已经制作了一个模态框弹出功能，并且我想在所有浏览器中当有人按下转义键时关闭这个模态弹出框。我已将文件`modal-window.min.js`用于这些弹出窗口。

我如何关闭这些以响应此键？

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2017-07-04T13:37:16.233

具有以下`keydown`功能：

```
$(document).keydown(function(event) { 
  if (event.keyCode == 27) { 
    $('#modal_id').hide();
  }
}); 
```

> **注意：**最好使用`keydown`Escape 键，因为在某些浏览器中，`keypress`仅当键输出字符时才会触发事件

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2012-10-10T09:53:25.730

```
$(document).keypress(function(e) { 
    if (e.keyCode === 27) { 
        $("#popdiv").fadeOut(500);
        //or
        window.close();
    } 
}); 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2020-06-16T13:15:53.157

对于登陆这个寻找非jQuery解决方案的人来说，这里是：

```
document.addEventListener('keydown', (event) => {
  if (event.key === 'Escape') {
    // close modal here
  }
}) 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2016-05-26T05:20:06.143

```
<script type="text/javascript">
 jQuery(document).keypress(function(e) {
  if (e.keyCode === 27) {
   jQuery("#myModal").modal('toggle');
                 OR
   jQuery("#myModal").modal('hide');
  }
 });
</script> 
```

取自：[http ://chandreshrana.blogspot.in/2016/05/how-to-close-model-popup-on-escape-key.html](http://chandreshrana.blogspot.in/2016/05/how-to-close-model-popup-on-escape-key.html)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2019-05-08T10:00:46.693

如果您有多个模式，您可以使用下面的脚本。我不得不在一页中打开这么多模式，这就是我写这个脚本的原因。该脚本使用转义键根据打开顺序一一关闭模态框。而且您不需要在脚本中定义任何模式名称，因此在任何地方添加一次使用。

```
var modals=[]; // array to store modal id

$(document).ready(function(){

$('.modal').modal({show: false, keyboard: false}); // disable keyboard because it conflicts below

$('.modal').on('show.bs.modal', function (event) {
   //add modal id to array
   modals.push(event.target.id);
});

document.onkeydown = function(evt) {
    evt = evt || window.event;
    var isEscape = false;
    if ("key" in evt) {
        isEscape = (evt.key === "Escape" || evt.key === "Esc");
    } else {
        isEscape = (evt.keyCode === 27);
    }
    if (isEscape) {

        if(modals.length>0){
            //get last modal id by using pop(). 
            //This function also removes last item in array.
            var id = modals.pop();
            if($('#'+id).is(':visible')){ // if modal is not closed by click or close button
                $('#'+id).modal('toggle');
            }
        }else{
            alert("Could not find any modals!");
        }
    }
};

}); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-01-02T05:40:38.737

试试这个代码：

```
<script type="text/javascript">
   $(document).keyup(function(event){
      if(event.which=='27'){
          $('.cd-popup').removeClass('is-visible');
      }
   });
</script> 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2017-03-28T10:01:52.910

使用 AngularJs：如果你有多个模式，

为每个模态分配一个值，当您打开模态时将其设置为 true，当您关闭时将其设置为 false。

```
//in your .js script

    document.onkeydown = function (event) {
    event = event || window.event;
    if (event.keyCode === 27) {
        if (usersModal)
            $scope.hideUsersModal();
        else if (groupsModal)
            $scope.hideGroupsModal();
    } 
```

使用 Angular，`event.target`属性指示您设置 ng-controller 的位置，并且`event.currentTarget`是`#document`.

# c# - 如何给两个流加上时间戳并在接收器处同步它们？

> ID：12816500
> 
> 赞同：0
> 
> 时间：2012-10-10T09:51:55.640
> 
> 标签：c#, audio, video, synchronization, directshow

我有两个数据流，一个是音频数据，另一个是视频数据。我录制的声音`DirectSound`被放入一个长度为 100 毫秒的缓冲区中，一个`DirectShow` `ISampleGrabbe`女巫以每秒 30 帧的速度为我抓取帧（每 33.33 毫秒一帧）。

什么`TimeStamping`意思？我是否应该在视频/音频上附加一个`DateTime`字段并在接收到`TimeStamp`与视频帧相同的音频数据包时验证？

我知道这是一个非常难的主题，但你能给我一个想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:04:01.797

这意味着每个视频/音频元素都有一个时间偏移量，表示必须播放的时间与视频/音频开始的时间有关。所以接收端会按照时间戳对接收到的元素进行排序并按顺序播放，当视频或音频元素丢失时它也会等待。

您不应将 DateTime 属性添加到每个元素。相反，视频/音频标头应指示媒体必须以什么帧速率或频率播放，因此每秒将接收多少元素。所以一个简单的自动编号就可以了。玩家有责任对接收到的元素进行排序，并检查它接收到所有元素的点是否在未来足够远以至于它可以继续播放。

# sql - SQL - 多次选择选择性行

> ID：12816520
> 
> 赞同：1
> 
> 时间：2012-10-10T09:52:59.467
> 
> 标签：sql, report, row

我需要为我的公司制作邮寄标签，我想我会为此做一个查询：

我有 2 张桌子 - `tblAddress`, `tblContact`.

在`tblContact`我有“ `addressNum`”这是地址的外键和“ `labelsNum`”列，表示地址应出现在标签表中的次数。

我需要创建`tblcontact`and `tbladdress`by的内部连接`addressNum`，但如果`labelsNum`存在不止一次，它应该按原样显示多次`labelsNum`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T10:10:38.270

脚本不会为不同的联系人返回多行吗？

```
CREATE TABLE tblAddress ( 
  AddressID int IDENTITY
  , [Address] nvarchar(35)
);

CREATE TABLE tblContact ( 
  ContactID int IDENTITY
  , Contact nvarchar(35)
  , AddressNum int
  , labelsNum int
);

INSERT INTO tblAddress VALUES ('foo1');
INSERT INTO tblAddress VALUES ('foo2');

INSERT INTO tblContact VALUES ('bar1', 1, 1);
INSERT INTO tblContact VALUES ('bar2', 2, 2);
INSERT INTO tblContact VALUES ('bar3', 2, 2);

SELECT * FROM tblAddress a JOIN tblContact c ON a.AddressID = c.AddressNum 
```

这在我的末端产生了 3 行。labelsNum 列对我来说似乎是多余的。如果为地址 foo2 添加第三个联系人，则必须更新所有引用 foo2 的记录的所有 labelsNum 列，以保持一致。

标签的数量已经由不同联系人的数量决定。

还是我错过了什么？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:12:20.203

我建议使用递归查询为每一行进行正确的迭代次数。

这是代码（+ [SQL fiddle](http://sqlfiddle.com/#!3/f138c/6)的链接）：

```
;WITH recurs AS (
  SELECT *, 1 AS LEVEL
  FROM tblContact
  UNION ALL
  SELECT t1.*, LEVEL + 1
  FROM tblContact t1
  INNER JOIN
  recurs t2
  ON t1.addressnum = t2.addressnum
  AND t2.labelsnum > t2.LEVEL
 )

SELECT *
FROM recurs
ORDER BY addressnum 
```

# slickgrid - 禁用 SlickGrid 表中的特定行

> ID：12816523
> 
> 赞同：1
> 
> 时间：2012-10-10T09:53:06.997
> 
> 标签：slickgrid

这是我的桌子的样子：

*   复选框列
*   名称列

该表包含 5 行。

我想要实现的是使表格的最后两行不可选择（复选框列中的相应复选框也应该消失）。

在表格呈现后，我设法用 jQuery 做到了这一点。SlickGrid 表是否允许我执行上述场景？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T20:06:09.593

您可以添加一个用于返回 getItemMetadata() 的函数，该函数在此[示例](http://mleibman.github.com/SlickGrid/examples/example4-model.html)中演示。

这是一个简化版本：

```
function getItemMetaData(row){

    if (row >= view.getLength() - 2){ //only on last two rows.
        return { selectable: false };
    } else {
        return {};
    }
}

var view = new Slick.Data.DataView();
view.getItemMetadata = getItemMetaData;
var grid = new Slick.Grid(selector, view, cols, opts); 
```

`canCellBeSelected`然后在第 2944 行调用此方法[`slick.grid.js`](https://github.com/mleibman/SlickGrid/blob/6e30827621f918c19db71644f6ef237d45805360/slick.grid.js)

# java - 获取 ResultSet 列的数据类型

> ID：12816526
> 
> 赞同：12
> 
> 时间：2012-10-10T09:53:19.707
> 
> 标签：java, sql-server, jdbc

我正在使用 SQL Server。我的表有一个数据类型为 的列`datetime2`。

我正在使用`ResultSet`. 我需要获取列的数据类型。该方法`rs.getColumnTypeName()`返回`nvarchar`数据库数据类型`datetime2`。

有没有办法得到`datetime2`或`Timestamp`相同的？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-10-11T12:30:31.067

如果你是用 Java 做的，有一个 class `ResultSetMetaData`。

您可以使用`ResultSetMetaData.getColumnClassName()`来获取类的完全限定名称。

例如，如果数据库中的数据类型为`VARCHAR`，则返回值为`java.lang.String`。

也尝试使用`ResultSetMetaData.getColumnLabel()`- 看看它是否适用于你的情况。

[ResultSetMetaData 的 Java 文档](http://docs.oracle.com/javase/7/docs/api/java/sql/ResultSetMetaData.html)

# java - HashSet values are computed wrongly

> ID：12816527
> 
> 赞同：0
> 
> 时间：2012-10-10T09:53:20.743
> 
> 标签：java, hashmap, hashset

I am using HashSet which has some attributes used for all elements and then adding this Hashset to a HashMap corresponding for each element. Additionally few attributes are added for specific elements( ex THEAD ).

But the later added attribute *align* is present for both Table and THEAD. Is there something wrong in the below code.

```
private static HashMap<String, Set<String>> ELEMENT_ATTRIBUTE_MAP = 
        new HashMap<String, Set<String>>();

HashSet<String> tableSet = 
            new HashSet<String>(Arrays.asList(new String[]
            {HTMLAttributeName.style.toString(),
             HTMLAttributeName.color.toString(),
             HTMLAttributeName.dir.toString(),
             HTMLAttributeName.bgColor.toString()}));

ELEMENT_ATTRIBUTE_MAP.put(HTMLElementName.TABLE, new HashSet<String>(tableSet));

// Add align only for Head 
tableSet.add(HTMLAttributeName.align.toString());

ELEMENT_ATTRIBUTE_MAP.put(HTMLElementName.THEAD, tableSet); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T13:57:59.417

Your code should work as you expect. Consider the following (simplified) example which shows the behaviour:

```
public static void main(String[] args) {
    String[] array = new String[] {"a", "b", "c"};
    HashSet<String> strings = new HashSet(Arrays.asList(array));

    Map<String, Set<String>> map = new HashMap();
    Map<String, Set<String>> newMap = new HashMap();
    Map<String, Set<String>> cloneMap = new HashMap();

    map.put("key", strings);
    newMap.put("key", new HashSet(strings));
    cloneMap.put("key", (Set<String>) strings.clone());

    strings.add("E");

    System.out.println(map); //{key=[E, b, c, a]}
    System.out.println(newMap); //{key=[b, c, a]}
    System.out.println(cloneMap); //{key=[b, c, a]}

} 
```

Note that Java variables are references to objects, not objects themselves, so when you call `map.put("key", strings)` it is a reference to the underlying `HashSet` that is passed; hence when you later update the `HashSet` the `HashMap` is updated too.

# css - 删除 div 标签之间的间隙

> ID：12816530
> 
> 赞同：1
> 
> 时间：2012-10-10T09:53:29.467
> 
> 标签：css, html

两个 div 之间有不必要的间隙。有没有解决方案可以消除它？
这是[jsfiddle](http://jsfiddle.net/FCwjc/)
如果您观察`vUiTsTabs`和`vUiTsContainers`div 标签，您会发现这两个 div 之间有一个间隙......（黑色和红色边框之间的间隙）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:09:02.540

清除`<ul>`标签（`overflow: auto;`就足够了）并`display: inline-block;`从中删除`.vUiTsTabs`

在这里演示：http: [//jsfiddle.net/FCwjc/3/](http://jsfiddle.net/FCwjc/3/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T10:01:56.117

`float: left`将li替换为`display: inline-block`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-10T10:02:46.830

`float:left`通过设置删除显示并清除列表

```
display:inline-block;
overflow:hidden; /*or auto*/ 
```

for`.vUiTsTabs`并且差距将消失：[修改后的小提琴](http://jsfiddle.net/FCwjc/2)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-10T10:08:34.340

我希望这可能对您
使用此`.vUiTsTabs`代码有所帮助

```
.vUiTsTabs {
border-bottom: 1px solid #660033;
display: table;
margin: 0;
width: 99.9%;
} 
```

演示：[修改后的演示](http://jsfiddle.net/FCwjc/11/)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-10T10:18:15.290

我在 Chrome 上修复了它，在你的 vUiTsTabs 中放置了“vertical-align:top”。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-10T10:10:27.953

请试试这个：

使用以下 CSS：

```
.vUiTsTabs {
   display: table;
   border-bottom: 1px solid #660033;
   width: 99.9%;
} 
```

# .net - 多个源的 LINQ 合并排序

> ID：12816535
> 
> 赞同：0
> 
> 时间：2012-10-10T09:53:45.297
> 
> 标签：.net, linq, extension-methods, mergesort

我有几个“数据源”，每个都提供有序的时间戳数据。我想将它展平为单个有序流（如合并排序）。[这个答案](https://stackoverflow.com/a/7718337/1488067)描述了如何为两个可枚举做到这一点，但我不确定如何概括它。

数据源**很大**，所以我不能在内存中做，它必须被流式传输。

用一个例子来解释它，我有这样的东西：

```
interface IDataSource
{
    IEnumerable<DateTime> GetOrderedRecords();
} 
```

我希望能够有这样的扩展方法：

```
// get all sources
IEnumerable<IDataSource> dataSources = GetAllSources();

// merge sort
IEnumerable<DateTime> flattened = dataSources
    .MergeSort(s => s.GetOrderedRecords()); 
```

**[编辑]**

我不能急切地加载所有内容然后对其进行排序的原因是因为我正在从多个数据库加载数据并将其导出到另一个数据库中。每个`IDataSource`基本上都是 Linq-to-NHibernate 引擎盖下，我有数以百万计的数据行要返回。

所以我需要的是：

1.  从所有可用来源中，加载下一个时间戳。
2.  将其存储到磁盘并“忘记它”。

数据源已经排序，这使得“合并排序”方法可行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:16:52.407

您可以做的一件简单的事情是`Merge`从您链接的问题中连接对实现的调用：

```
public static IEnumerable<DateTime> Merge(this IEnumerable<IDataSource> dataSources)
{
    var result = Enumerable.Empty<DateTime>();

    foreach(var dataSource in dataSources)
    {
        result = result.Merge(dataSource.GetOrderedRecords(), (x, y) => x < y);
    }

    return result;
} 
```

你可以这样称呼它：

```
var result = dataSources.Merge(); 
```

这样做的缺点是`MoveNext`，对返回的枚举的枚举器的每次调用都会在嵌套的枚举上产生相当多的 MoveNext 调用。

# ajax - 如何将 jquery ajax (json) 附加到表中

> ID：12816537
> 
> 赞同：1
> 
> 时间：2012-10-10T09:53:50.233
> 
> 标签：ajax, json, jquery

我有一个 ajax 调用来检索数据，它的成功部分如下所示：

```
success: function(data) 
{               
$("table.table").append("<tr><td>" + data.member_id + "</td><td>" + data.comment + "</td></tr>");
} 
```

数据变量正在保存此数据

```
[{"member_id":"2","comment":"kkk"},{"member_id":"1","comment":"this is admin 2"},{"member_id":"2","comment":"kkk"},{"member_id":"1","comment":"this is admin"}] 
```

但我遇到的问题是表 td 包含未定义的文本。我该如何解决？

硬编码表如下所示：

```
<table class="table"></table> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-10T09:57:38.070

您应该遍历数组，可以使用`$.each`实用功能：

```
$.each(json, function(i, data){
     $("table.table").append("<tr><td>" + data.member_id + "</td><td>" + data.comment + "</td></tr>");
}) 
```

[http://jsfiddle.net/ADvCJ/](http://jsfiddle.net/ADvCJ/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T09:56:50.207

你可以用这个

```
$.each(data, function(i,row){
  $("table.table").append("<tr><td>"+row['member_id']+"</td><td>"+row['comment']+"</td></tr>");
}) 
```

# sql - SQL TRY-CATCH 和缺少的列

> ID：12816539
> 
> 赞同：3
> 
> 时间：2012-10-10T09:53:59.373
> 
> 标签：sql, sql-server, sql-server-2005, try-catch

我有以下（SQL Server 2005）

```
DECLARE @L_ID_FOO_BAR INT

BEGIN TRY
  SELECT @L_ID_FOO_BAR = IDFOO 
  FROM BAR
  WHERE IDFOO = 5
END TRY
BEGIN CATCH
  SELECT @L_ID_FOO_BAR = NULL
END CATCH 
```

在 BAR 表中，我可以（在旧数据库上）或不（在一些最近的数据库中）IDFOO 列。因此，对于缺少的 IDFOO 列，我想保留 @L_ID_FOO_BAR = NULL，以防万一该列存在，请选择相应的 IDFOO。

但是，在没有该列的基础上执行脚本时，我得到：

> 列名无效：“IDFOO”

我已经用

```
IF EXISTS(SELECT 1 FROM SYSCOLUMNS 
WHERE ID = OBJECT_ID('BAR') AND NAME = 'IDFOO') 
```

但这没有帮助，它抱怨无效的列......

问题
a)**如何**使这个脚本在两个数据库上工作，有或没有那个列？
b)**为什么**try-catch 不隐藏无效列错误？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-10T10:00:42.577

问题 (b) 更容易回答 - 您面临的是编译时检查，它胜过在运行时工作的 TRY-CATCH。

为一个）

```
DECLARE @L_ID_FOO_BAR INT;
DECLARE @SQL NVARCHAR(MAX) = '
  SELECT @L_ID_FOO_BAR = IDFOO 
  FROM BAR
  WHERE IDFOO = 5';

BEGIN TRY
  EXEC sp_executesql @SQL, N'@L_ID_FOO_BAR INT output', @L_ID_FOO_BAR output;
END TRY
BEGIN CATCH
  SELECT @L_ID_FOO_BAR = NULL -- redundant? it starts with NULL
END CATCH 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-10T09:57:31.443

我会检查列`syscolumns`是否`information_schema`存在，然后构建一个动态 sql 查询，然后在`sp_executesql`有或没有缺失列的情况下执行该查询。

# ios - iOS6 - 如何清除主屏幕/独立 Web 应用程序的缓存？

> ID：12816542
> 
> 赞同：24
> 
> 时间：2012-10-10T09:54:08.973
> 
> 标签：ios, html, web-applications

Apple 似乎改变了 iOS 6 中主屏幕/独立网络应用程序的工作方式。根据各种博客文章（[示例](http://blog.nsbasic.com/?p=928)），这些应用程序现在拥有自己的专用空间来存储其缓存文件、sqllite dbs、本地存储等，而不是像以前一样与 Safari 浏览器共享。

在iOS 6之前开发时，我曾经虔诚地通过以下过程来清除缓存...

1.  从主屏幕删除应用程序。
2.  关闭 Safari 中的所有页面/选项卡。
3.  最后在“设置”>“Safari”中“清除 Cookie 和数据”或“清除数据”。

不幸的是，现在苹果已经移动了目标，同样的程序似乎不起作用。清除后，即使我的更改在 Safari 中被提取，当我添加到主屏幕并启动应用程序时，旧的 HTML、JS 等仍然被提取。

有谁知道如何可靠地完全清除 iOS 6 中的缓存？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2014-06-28T11:59:14.120

我无法验证缓存是否被正确清除，但这对我有用：

为此，您需要在 iOS 设备上启用 Web Inspector。转到设置 > Safari > 高级 > Web Inspector（它必须处于活动状态）并且您必须激活计算机 Safari 上的开发人员菜单。转到首选项 > 高级 > 激活开发人员菜单

1.  使用 USB 数据线将您的设备连接到计算机
2.  转到 safari > Developpement > Your Device name > Inspect an App（该应用程序必须正在运行）
3.  这将在您的计算机上打开 Web 应用程序的检查器
4.  检查器打开时清除缓存（command + alt + E）
5.  在检查器仍然打开的情况下刷新计算机上的页面（命令 + R）

不知何故，Webapp 缓存被清除了，我得到了非缓存代码。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-11-02T13:47:07.043

I found a a work-around. Just put a link on the web page itself for users who are having trouble seeing new version...

```
<a href="javascript:top.frames.location.reload();">refresh</a> 
```

It works just like the iPhone/iPad refresh button on the address bar!

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2014-02-25T09:08:24.873

首先将手机插入电脑，然后打开手机上的网络应用程序和电脑上的Safari，然后您可以从菜单“开发>手机名称>应用程序标题”中打开Safari中的网络检查器（如果你不能查看开发菜单，您可以在 Safari 的首选项中将其打开）。

从那里您可以看到/编辑 cookie 和本地存储，就像您计算机上的站点一样，在检查员集中注意力时按 command+r 将在手机上重新加载应用程序。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2015-12-09T17:12:21.847

您可以连接您的设备并在您的计算机上[打开 Safari 的网络检查器](https://developer.apple.com/library/mac/documentation/AppleApplications/Conceptual/Safari_Developer_Guide/GettingStarted/GettingStarted.html)`document.location.reload()`，然后在控制台选项卡中运行以重新加载页面。

在重新加载之前，您可以按`Option`+ `Command`+`E`以确保清除缓存。

除了上面的内容，您还可以按`Shift`++`Command`重新`R`加载没有缓存的页面，但有时它对我不起作用。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2014-08-08T15:09:42.147

尝试将唯一的 GET 标记附加到任何和所有*href*属性的末尾，例如：

```
<link rel="stylesheet" type="text/css" href="/css/global.css?
   <?php echo(mt_rand(10000000, 99999999)); ?>
" /> 
```

这将生成`href="/css/global.css?########"`，几乎每次都有不同的数字。这迫使 iOS 的 Safari 将“新”页面拉下，因为它的缓存中没有来自相同 URI 的数据，而且很可能永远不会有（除非您计划在开发过程中重新加载应用程序数百万次：D）

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-11-27T16:42:58.673

如果 iOS6 设备应用了越狱，您可以使用 ssh 删除文件夹“/private/var/mobile/Library/Caches/com.apple.webapp”的内容。

下次启动 Web 应用程序时，将从 Web 服务器重新下载所有文件。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-18T19:02:45.530

目前解决这个问题的唯一方法是等待，但有一种解决方法。如果您更改文件的名称，它将拉取新代码。但是，如果您在缓存清除之前将其更改回旧名称，则将使用旧代码。缓存会定期刷新，最终会更新。我刚刚遇到了一个拒绝更改的 CSS 文件。时间会解决它，但如果您只需要更新它以进行测试，那么更改名称即可。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-11-15T13:28:06.053

这让我发疯了一段时间。尝试清除设备上的缓存 - 不走运。重命名页面确实有帮助，但是一旦你重命名它，你仍然会得到相同的陈旧版本。昨天找到了解决方案。您需要将设备连接到 Mac 并在 Safari 开发菜单中打开 Web Inspector。进入 Web Inspector 后，只需按 Inspector 工具栏上的“重新加载页面”按钮 - 瞧 - 您会在设备屏幕上看到新版本。

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2012-10-20T17:37:59.763

只需将您传递给 webview 的请求设置为 NSURLRequestReloadIgnoringLocalCacheData

```
NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url]; 
[request setCachePolicy:NSURLRequestReloadIgnoringLocalCacheData];
[self.webView loadRequest:request]; 
```

# perl - 以表格形式输出的txt文件

> ID：12816543
> 
> 赞同：0
> 
> 时间：2012-10-10T09:54:11.837
> 
> 标签：perl

实际上这个问题是这个的副本`http://stackoverflow.com/questions/12813317/text-file-operation-in-perl` 。但是在这里，我正在尝试按照老板的建议打印一些差异 o/p :(

我可以期待任何帮助吗？:)

我有一个文本文件，其中的数据是：

```
Id:001;status:open;Name:AB;Id:002;status:open;Name:AB;Id:003;status:closed;Name:BC;
Id:004;status:open;Name:AB;Id:005;status:closed;Name:BB;Id:006;status:open;Name:CD;
.... 
.... 
```

这是我的代码：

```
#!/usr/bin/perl -w
use strict;

open IN, "<", "ABC.txt" 
    or die"Can not open the file $!";

my @split_line;           
while(my $line = <IN>) {

    @split_line = split /;/, $line;

    for (my $i = 0; $i <= $#split_line; $i += 2) {

        print "$split_line[$i]"." "."$split_line[$i+1]\n";  
    }
} 
```

实际输出：

```
Id:001      status:open    Name:AB
Id:002      status:open    Name:AB 
```

预期 O/p

```
Id         Status    Name
001        open      AC
002        open      AB
003        close     BC 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:06:06.067

```
#!/usr/bin/perl -w
use strict;

open IN, "<", "ABC.txt"
    or die"Can not open the file $!";

my @split_line;

print "Id\tStatus\tName\n";
while(my $line = <IN>) {

    @split_line = split /[;:]/, $line;

    for (my $i = 1; $i <= $#split_line; $i += 6) {

        print "$split_line[$i]"."\t"."$split_line[$i+2]"."\t"."$split_line[$i+4] \n";
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:08:20.337

您的脚本不会产生您描述的输出，这是它在我的系统上产生的：

```
Id:001 status:open
Name:AB Id:002
status:open Name:AB
Id:003 status:closed
Name:BC 

Id:004 status:open
Name:AB Id:005
status:closed Name:BB
Id:006 status:open
Name:CD 
```

我认为您应该将其修改如下：

```
#!/usr/bin/perl
use strict;
use warnings;

open (my $IN, "<", "ABC.txt") or die "Can not open the file $!";

my @split_line;           
while(<$IN>) {

    @split_line = split /;/ ;

    foreach ( @split_line ) { s/.*?:// ; }

    for (my $i = 0; $i < $#split_line; $i += 3) {
        print join( " ", @split_line[$i .. $i+2] ) . "\n" ; 
    }
}
close $IN ; 
```

# database-design - infiniDB 中的角色扮演维度？

> ID：12816546
> 
> 赞同：0
> 
> 时间：2012-10-10T09:54:21.897
> 
> 标签：database-design, views, data-warehouse, infinidb

由于 InfiniDB 缺乏视图，您将如何让 Date Dimension 扮演“注册日期”和“登录日期”和“购买日期”等角色......

（通常您会创建一个日期维度的视图，冒充注册日期但与日期维度相反）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T14:59:48.543

**维度在事实表**中发挥作用——你为什么需要一个视图？如果您有一个销售事实表，您可能有一个“Date Ordered”和“Shipping Date”，每一列都是连接回您的日期维度的角色扮演维度。我需要在充当角色扮演维度的暗淡上创建视图的唯一情况是，当我被迫使用中间“BI”层，并且该工具不能正确地允许您连接多个“尺寸”到相同的基本尺寸表。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-10T09:58:36.663

取决于你想要达到的目标，你不能只做一个

select * from date_dimension as login_date;

?

就我个人而言，我使用蒙德里安作为几乎所有否定这个问题的中间层，但这显然很大程度上取决于你如何与服务器交互。无论如何，意见很糟糕。

# php - 插入两个不同的表

> ID：12816548
> 
> 赞同：0
> 
> 时间：2012-10-10T09:54:26.217
> 
> 标签：php, mysql, database, insert

我真的很苦恼如何让它发挥作用，基本上我有一个选项可以添加固定票价，如下所示：（固定票价 ID 将被隐藏）

![在此处输入图像描述](../Images/26a30a57b9762850fb224faca5aa0a70.png)

需要添加到以下两个表中：

**tblfixedfare** :

![在此处输入图像描述](../Images/999580fe8ebbc7827f036dc10e629ed6.png)

**tblfixedfaresetup**：

![在此处输入图像描述](../Images/b1ad6a547c08466c7a1b1ba802ad6867.png)

对于 tblfixedfare，当用户添加固定票价时，需要在数据库中插入两个条目。考虑到数据库的现状，下一个示例将是：

*   **ID** : 7, **FixedFareID** : 4, **DayHalf** : 1, **Fare** : 'Day Time Fare' 值
*   **ID**：8，**FixedFareID**：4，**DayHalf**：2，**Fare**：“夜间票价”值

对于 tblfixedfaresetup，同时需要对该数据库进行另外两次插入。考虑到数据库的现状，下一个示例将是：

*   **ID** : 8, **FixedFareID** : 4, **ShortPostCode** : 'To Postcode' 值, **Leg** : 1, **LegCount** : 2
*   **ID** : 9, **FixedFareID** : 4, **ShortPostCode** : 'From Postcode' 值, **Leg** : 2, **LegCount** : 2

** 注意，LegCount 总是 = 2

如果有人可以提供任何帮助，将不胜感激。（我正在使用 PDO 准备好的语句）

** 编辑

我将如何插入 FixedFareID，它需要查看 FixedFareID 中的最大值并加 1。因此对于 tblfixedfare，下一个 FixedFareID 值需要为 4，有什么想法可以实现吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T11:22:46.890

对于最初的问题，只需按照 fufu 的建议进行两个查询。

要获得 FixedFareID 中的最大值加 1，您可以使用`MAX(FixedFareID)+1`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:08:37.753

首先尝试插入一个数据库。如果插入数据，请尝试使用相同的查询插入第二个数据库。

# php - 如何在代码点火器中将变量从一个控制器传递到另一个控制器

> ID：12816552
> 
> 赞同：12
> 
> 时间：2012-10-10T09:54:29.227
> 
> 标签：php, codeigniter, codeigniter-2

我刚刚开始学习 Code Igniter 。

我想知道如何将变量从一个控制器（first_cont.php）传递到另一个控制器（second_cont.php）？

任何帮助，将不胜感激 。

提前致谢 ：）

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-10-10T10:14:31.577

这将取决于具体情况。如果您想将数据保留一段时间，那么会话数据将是您的选择。但是，如果您只需要使用一次，闪存数据可能更合适。

第一步是初始化会话库：

```
$this->load->library('session'); 
```

然后将信息存储在闪存数据中：

```
$this->session->set_flashdata('item', $myVar); 
```

最后，在第二个控制器中，获取数据：

```
$myVar = $this->session->flashdata('item'); 
```

显然，这意味着您必须从第二个控制器再次初始化会话库，或者创建自己的基本控制器来加载会话库并让您的两个控制器都继承自该控制器。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-10T09:58:08.053

我认为在 codeigniter 中你不能在两个不同的控制器之间传递变量。一种明显的机制是使用会话数据。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-10-10T09:59:31.063

好的，这是关于 MVC 的一些最容易引用的内容：

> 控制器用于获取输入，模型用于逻辑，视图用于显示。

现在，严格来说，您不应该希望将数据从控制器发送到另一个控制器。我想不出任何需要这样做的情况。

* * *

但是，如果它是绝对需要的，那么你可以简单地使用`redirect`重定向到另一个控制器。

就像是：

```
// some first_cont.php code here
redirect('/second_cont/valuereciever/value1')

// some second_cont.php code here
public function valureciever($value){
    echo $value; // will output value1
} 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2014-03-06T09:29:02.593

在 Codeigniter 中有很多方法可以将值从一个控制器传递到另一个控制器。

您可以使用 codeigniter Session 将数据从一个控制器传递到另一个控制器。

为此，您必须首先包含会话库

```
$this->load->library('session'); 
```

然后您可以使用变量名称设置闪存数据值。

```
// Set flash data 
$this->session->set_flashdata('variable_name', 'Value'); 
```

他们可以通过使用 codeigniter session flashdata 获得所需的值

```
// Get flash data
$this->session->flashdata('variable_name'); 
```

第二个选项 codeigniter 允许您使用控制器名称、方法名称和值从 controll 重定向 url，然后您可以在另一个控制器中获取该值。

```
// Passing the value 
redirect('/another_controller_name/method_name/variable'); 
```

然后你可以在另一个控制器中获取值

```
public function method_name($variable)
{
echo $variable;
} 
```

这一切……

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2015-09-08T13:11:02.357

如果您在第一个控制器中使用会话，则不要在第一个控制器中取消设置该会话，而是将您想要的值存储在另一个控制器中，例如，

```
$sess_array = array('value_name1' => 'value1', 'value_name2' => 'value2');
$this->session->set_userdata('session_name', $sess_array); 
```

然后在另一个控制器中重新加载此会话

```
$session_data= $this->session->userdata('session_name');
$any_var_name = $session_data['value1'];
$any_var_name = $session_data['value2']; 
```

这就是您可以将值从一个控制器传递到另一个控制器的方式......

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-07-09T12:20:28.790

尽可能坚持参加会议。但是有一个我不强烈推荐的替代方案（用于 Codeigniter3）。您还可以通过 url 传递数据。您在接收控制器中使用 url 助手和 url 段方法。

发送控制器方法

```
redirect("controller2/method/datastring", 'refresh'); 
```

接收控制器方法

```
$this->load->helper('url');
$data = $this->uri->segment(3); 
```

这应该适用于默认的 url 结构。对于一个网址：`website.com/controller/method/data`

获取控制器`$this->uri->segment(1)` 获取方法`$this->uri->segment(2)`

此技术的限制是您只能发送 url 中允许的字符串，因此您不能使用特殊字符（例如 %@$）

# cocoa-touch - UIKit 标头在哪里？

> ID：12816555
> 
> 赞同：1
> 
> 时间：2012-10-10T09:54:35.183
> 
> 标签：cocoa-touch, uikit, header-files

```
/System/Library/Frameworks/ 
```

在这个目录中，我可以找到除 UIKit 之外的所有框架。我知道我可以通过帮助文档检查它，但这次我需要这些文件本身。有人知道他们在哪里吗？我在 Lion 上有最新的 Xcode。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-10T12:11:57.907

在我的安装中，它是 /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS6.0.sdk/System/Library/Frameworks/UIKit.framework/。

我通过命令单击在`<UIKit/UIKit.h>`编辑器中打开 UIKit.h 来做到这一点，然后在编辑器中右键单击并选择“在 Finder 中显示”。

希望有帮助。

顺便说一句，根据您的目标，您最终会得到一个稍微不同的 SDK。有iPhoneSimulator6.0.sdk、iPhoneSimulator5.1.sdk等。

# ribbon - 将导出选项添加到 Office 2010 后台视图

> ID：12816557
> 
> 赞同：1
> 
> 时间：2012-10-10T09:54:38.640
> 
> 标签：ribbon, office-2010, office-addins

即使使用[MSDN](http://msdn.microsoft.com/en-us/library/office/ee815851.aspx)中的代码，我也无法扩展 Office 2010 UI 。这是我认为应该工作的代码：

```
<?xml version="1.0" encoding="UTF-8"?>
<customUI xmlns="http://schemas.microsoft.com/office/2009/07/customui" onLoad="Ribbon_Load">
  <backstage>
    <tab idMso="TabShare">
      <firstColumn>
        <taskFormGroup idMso="GroupShare">
          <category idMso="FileTypes">
            <task id="tskExportXmlCms" label="Exportovat jako XML">
              <group id="grpExportXmlCms" label="Exportovat jako XML">
                <topItems>
                  <button id="btnExportXmlCms" label="Exportovat jako XML" onAction="OnExportXmlCms" />
                </topItems>
              </group>
            </task>
          </category>
        </taskFormGroup>
      </firstColumn>
    </tab>
  </backstage>
</customUI>

public void OnExportXmlCms(IRibbonControl control) { } 
```

当我添加*功能区（视觉设计器）*时，我可以看到添加的项目。当我使用*Ribbin (XML)*时，我在后台看不到任何东西。怎么了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-12T21:01:53.050

缺少此方法：

```
public partial class ThisAddIn {
    protected override Office.IRibbonExtensibility CreateRibbonExtensibilityObject() {
        return new Ribbon();
    }
} 
```

# rdf - 通过 Jena 库从 RDF/XML 文档中提取 URI

> ID：12816560
> 
> 赞同：2
> 
> 时间：2012-10-10T09:54:52.437
> 
> 标签：rdf, jena

我想从 RDF/XML 文档中提取所有 URI。将 RDF/XML 转换为 Jena 库中的模型类，然后为该[模型类](http://jena.apache.org/documentation/javadoc/jena/index.html)的每个语句提取每个主题、谓词和宾语的 URI（非 null）对我有用吗？

```
 Model read = ModelFactory.createDefaultModel().read(my_url);
    StmtIterator si;
    si = read.listStatements(); 
```

其中 url 是 RDF/XML Web 文档。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:19:29.527

正如[Javadoc](http://jena.apache.org/documentation/javadoc/jena/com/hp/hpl/jena/rdf/model/Model.html#listStatements%28%29)所说，`listStatements()`将列出模型中的所有语句——即三元组。

如果要列出*所有*URI，则需要考虑它们在 RDF 模型中出现的位置。您可能想要也可能不想要所有这些。对于给定的三元组 T，由主语、谓语和宾语组成：

*   T 的主题将有一个 URI，除非它是匿名资源 (bNode)
*   T 的谓词将有一个 URI
*   如果 T 的对象是资源而不是文字，并且它不是 bNode，则 T 的对象将具有 URI

所以（未经测试的代码）：

```
Set<String> uris = new HashSet<String>();
for (StmtIterator i = model.listStatements(); i.hasNext(); ) {
    Statement s = i.next();
    if (!s.getSubject().isAnon()) {
        uris.add( s.getSubject().getURI() );
    }
    uris.add( s.getPredicate().getURI() );
    if (s.getObject().isResource() && !s.getResource().isAnon()) {
        uris.add( s.getResource().getURI() );
    }
} 
```

# jquery - 使用 jQuery POST 函数从服务器返回 JSON 数据

> ID：12816565
> 
> 赞同：3
> 
> 时间：2012-10-10T09:55:09.893
> 
> 标签：jquery, ajax, json, post, get

我正在尝试从 PHP 脚本返回一个 json 编码的字符串。

```
$.post("order.php", { product: product_id, coupon: coupon },
function(data) {
    $("#price").html("$" + data.price);
    $("#discount").html("$" + data.discount);
    $("#total").html("$" + data.total);
}); 
```

我尝试在回调中使用警报函数来查看 PHP 的返回值：

```
{"price":249,"discount":"0.00","total":249} 
```

但#price 和其余元素的值是“$undefined”。

请帮忙。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-10T09:59:13.903

看来您只需使用以下命令将 JSON 数据解析为对象[`parseJSON()`](http://api.jquery.com/jQuery.parseJSON/)：

```
$.post("order.php", { product: product_id, coupon: coupon },
function(data) {
    data = $.parseJSON( data );
    $("#price").html("$" + data.price);
    $("#discount").html("$" + data.discount);
    $("#total").html("$" + data.total);
}); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-11-29T14:32:30.550

> 我知道这是旧的，但这是为了帮助所有可能有这个问题的人

您必须在方法调用中添加一个额外的参数 ( `'json'`)，如下所示：`$.post`

```
$.post(url,data_in,function(data_out){ your_code here },'json'); 
```

对于那些不知道的人，您`PHP`必须在所有处理结束时输出如下内容：

```
die(json_encode(array("RESPONSE"=>"OK","MYMESSAGE"=>"THIS IS SUCCESSFULL"))); 
```

* * *

还有一种替代方法是`HTML`输出而不是`JSON`：

```
$.post(url,data_in,function(data_out){ your_code here },'html'); 
```

那么您的回复`PHP`必须输出以下内容：

```
echo "<div id=\"RESPONSE\">OK</div>";   
echo "<div id=\"MYMESSAGE\">THIS IS SUCCESSFULL</div>";
die(); 
```

因此，要回答原始问题，`code`必须是这样的：

```
$.post("order.php", { product: product_id, coupon: coupon }, function(data) {
    $("#price").html("$" + data.price);
    $("#discount").html("$" + data.discount);
    $("#total").html("$" + data.total);
},'json'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T10:19:04.150

您从服务器获取字符串，您应该将其解析为 json

采用

```
$.post("order.php", { product: product_id, coupon: coupon },
function(data) {
    data = jQuery.parseJSON( data );
    $("#price").html("$" + data.price);
    $("#discount").html("$" + data.discount);
    $("#total").html("$" + data.total);
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-07-01T13:41:53.407

您可以简单地使用下面的脚本，只需删除 $array 并将其替换为您想要返回的内容：

前两个标头阻止浏览器缓存响应（IE 和 GET 请求存在问题），第三个标头为 JSON 设置正确的 MIME 类型。

假设这是 order.php 文件的内容：

> 开始脚本

```
header('Cache-Control: no-cache, must-revalidate');
header('Expires: Mon, 26 Jul 1997 05:00:00 GMT');
header('Content-type: application/json');

$array = array("price"=>10,"product_id"=>1);
echo json_encode($array); 
```

> 结束脚本

与 ：

```
$.post("order.php",function(data){
alert(data.price);
}); 
```

我们会得到 10 个，就是这样，很简单:)

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-10-10T09:58:36.037

您应该使用 $.getJSON 而不是 $.post 来获取 json 字符串。

不要忘记将您的内容标头设置为 JSON

# python - Django 中的循环问题

> ID：12816566
> 
> 赞同：1
> 
> 时间：2012-10-10T09:55:11.127
> 
> 标签：python, django, django-templates

> **可能重复：**
> [如何在 django 模板中创建计数器循环？](https://stackoverflow.com/questions/5077978/how-to-create-counter-loop-in-django-template)

我想根据某些条件打印一些数据，

我想像使用其他语言一样使用它：

```
for(i=1;i<=count;i++)
print i 
```

为了在 django 中做到这一点，我写了

```
{% for i in count %}
<p>{{ i }}</p>
{% endfor %} 
```

但它给了我一个错误**'int'对象不可迭代**。计数来自views.py，如果我单独打印计数而不是显示输出。

我想打印一些值，直到计数不为零，所以我怎么能在 django 中做到这一点。

还有一件事我们可以在 django 中使用 while 循环，因为我也尝试将它用于此任务，但它给了我**无效块标签的错误：'while'**

所以请让我知道我该怎么做这个任务？

谢谢

**在我的 view.py 中编辑** 我曾经这样使用过

```
count=Product_attributes.objects.count() 
```

然后将此计数传递给我的模板

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:00:32.517

Django 模板不是编程语言。在视图或模型中编写所有逻辑，并将数据传递到模板中：

```
def view(request):
    values = []
    for i in range(10):
         values.append(i) # your custom logic here
    return render_to_response("/path/to/template", {'values': values}) 
```

在模板中：

```
{% for value in values %}
    <p>{{ value }}</p>
{% endfor %} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T10:09:59.947

“for i in var”语法仅适用于“var”是可迭代的情况，例如列表、元组、集合、字典...

我建议如下：不要将项目计数传递给模板，而是传入可迭代的例如列表。如果你只有一个计数，你可以在视图中使用 range(count) 创建一个迭代。在代码中

```
# Extract from view
def view(request):
    # Set up values. Values is a list / tuple / set of whatever you are counting
    values = Product_attributes.objects.all()
    return render_to_response("/path/to/template", {'values': values})

# Extract from template
{% for value in values %}
   <p>{{value}}</p>
{% endfor %} 
```

“while”标签不是 django 中的有效内置标签。可以在此处查看有效的内置标签列表：[https ://docs.djangoproject.com/en/dev/ref/templates/builtins/](https://docs.djangoproject.com/en/dev/ref/templates/builtins/)

这种做事方式不仅仅特定于模板：它在“常规python”中具有相似之处，其中迭代集合的规范方法是：

```
for item in iterable:
    # do something with the item
    pass 
```

可以在此处找到有关执行 for 循环的“python 方式”的更多信息：[http ://wiki.python.org/moin/ForLoop](http://wiki.python.org/moin/ForLoop)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T12:49:45.783

如果不适合将范围添加到您的视图代码中（我不喜欢将纯模板类型的东西添加到我的视图中），我可能会创建一个范围过滤器：

```
@register.filter
def range(val):
    return range(val) 
```

然后你会像这样使用它：

```
{% for i in count|range %}
<p>{{ i }}</p>
{% endfor %} 
```

如果您不想为此编写任何 python 代码，还可以使用一个非常丑陋的 hack，它利用 Django 的中心（或 ljust 和 rjust）过滤器创建一个提供的值长度的字符串。你可以像这样使用它：

```
{% for x in count|center:count %}
<p>{{ forloop.counter }}</p>
{% endfor %} 
```

不过，我不建议这样做，我只是在证明这是可能的。

# database - 数据建模基数的目的是什么？

> ID：12816567
> 
> 赞同：3
> 
> 时间：2012-10-10T09:55:21.503
> 
> 标签：database, database-design, entity-relationship, modeling, cardinality

我了解基数是什么，所以请不要解释;-)

我想知道，在数据建模中做基数的目的是什么，以及为什么我应该关心。

示例：在 ER 模型中，您创建关系并将基数添加到关系中。我什么时候要在开发过程中进一步使用基数？我为什么要关心基数？

**例如，在完成 ER 模型后，我如何、何时以及在何处使用基数。**

谢谢 ：-）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T09:59:16.087

基数告诉你一些关于表格设计的重要信息。1:m 关系需要子表中的外键列指向父主键列。多对多关系意味着一个外键指向两个参与者的 JOIN 表。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:33:38.747

数据模型是一组*约束*；没有限制，一切皆有可能。基数是一种（特殊的）约束。*在大多数文化中，婚姻*是两个人之间的关系。（在某些文化中，这些人必须有不同的性别。）

数据建模的问题是您必须指定希望对数据施加的约束。一些约束（唯一的、外键）更重要，并且与其他约束（“薪水 < 100000”）相比，对问题域的依赖性更小。在大多数情况下，基数将介于**critical**和*bogus*之间。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T10:05:35.150

基数是两个实体之间关系的重要信息。在对实际表架构进行建模时，您需要它们用于以后的模型。在不知道关系基数的情况下，无法对表和它们之间的键限制进行建模。

例如，一辆汽车必须正好有 4 个轮子，并且这些轮子必须正好连接到一辆汽车上。如果没有基数，你可以拥有一辆有 3、1、0、12 等轮子的汽车，而且可以在其他汽车之间共享。当然，根据上下文，这可能有意义，但通常没有意义。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-08-27T15:07:46.723

如果您正在创建应用程序的数据层并决定使用 ORM，那么它可能是实体框架。

有时您需要创建模型和模型图。此时，您将能够拉出您的 ERD，查看您放在图表上的基数并创建正确的关系，以便您的数据层形状与您的数据库形状相匹配。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-10T13:30:05.657

> 例如，在完成 ER 模型后，我如何、何时以及在何处使用基数。

在物理创建数据库时，FK 的方向、NULL 能力和数量取决于 ER 图中关系的两个端点上的基数。它甚至可以“添加”或“删除”一些表和键。

例如：

*   “1:N”关系表示为从“N”表到“1”表的 NOT NULL FK。你不能在相反的方向做它并保留相同的含义。
*   “0..1:N”关系表示为从“N”到“0..1”表的 NULL-able FK。
*   ^(“1:1”关系由形成循环引用1)的两个 NOT NULL FK（也是键）或通过将两个实体合并到单个物理表中来表示。
*   “0..1:1”关系由两个 FK 表示，其中一个可以为 NULL（也在键下）。
*   “0..1:0..1”关系由两个 FK 表示，既可以为 NULL 也可以在键下，或者由具有特制键的联结表表示。
*   “M:N”关系需要一个额外的（所谓的“联结”或“链接”）表。该表的键是从子表迁移的键的组合。

并非所有基数都可以（轻松）在物理数据库中以声明方式表示，但幸运的是那些往往最有用的...

* * *

*¹在插入新数据时会出现先有鸡还是先有蛋的问题，通常可以通过将约束检查推迟到事务结束来解决。*

# android - 如何在另一个活动上显示新活动？

> ID：12816570
> 
> 赞同：2
> 
> 时间：2012-10-10T09:55:27.423
> 
> 标签：android

我有一个显示两个按钮的活动，单击呼叫按钮我想显示另一个活动，如图所示。

![如何显示这种布局](../Images/dd55300eb41c45e97b53d80052d4b3a8.png)

请帮助。如何实现这一点

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T09:59:14.527

一种方法是拥有一个自定义布局，您可以使用视图组将其添加到每个活动中：

```
private View view;
    public void onCreate(Bundle savedInstanceState) {
       super.onCreate(savedInstanceState);
       setContentView(R.layout.main);
       ViewGroup parent = (ViewGroup) findViewById(R.id.linearLayout1);
          view = LayoutInflater.from(getBaseContext()).inflate(R.layout.custom_layout,
            null);
       parent.addView(view); 
```

然后你只需要实现你的听众和其他的东西:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:02:14.560

您需要创建这两个按钮的 xml 文件，并使用 Layout Inflator 将新的 xml 添加到旧的中。例如 1) 你的新 xml

```
LayoutInflator buttons = LayoutInflater.from(getBaseContext()).inflate(R.layout.buttons,
                    currentxml, false); 
```

2) 通过 id 引用的旧 xml 父级 -->

```
 RelativeLayout relativeLayout = (RelatveLayout) findViewById(R.id.oldxml); 
```

3）现在添加..

```
 relativeLayout.addView(buttons); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T10:21:34.197

你可以通过在你的函数中添加这个来使用弹出窗口。Popuser 是一个`xml`你想要膨胀的文件。

```
public void popupshow(){
        try{
            LayoutInflater inflater=(LayoutInflater)SRSDMain.this.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            Display display=getWindowManager().getDefaultDisplay();

        int width=display.getWidth()/2;
        int height=display.getHeight()/2;

        View pop=inflater.inflate(R.layout.popupuser,null,false);
        pop.measure(View.MeasureSpec.UNSPECIFIED,View.MeasureSpec.UNSPECIFIED);
        height=pop.getMeasuredHeight();
        width=pop.getMeasuredWidth()+50;
        pu=new PopupWindow(pop,width,height,true);

        pu.showAtLocation(findViewById(R.id.ll3),Gravity.CENTER,1,1);

        Button btn=(Button)pu.getContentView().findViewById(R.id.button);
        btn.getBackground().setColorFilter(new   LightingColorFilter(0xFF505450,0xFF101010));
        btn.setTextColor(Color.WHITE);
        btn.setTypeface(null,Typeface.BOLD);
        btn.setOnClickListener(new View.OnClickListener(){
            public void onClick(View v){
                //anything you want to do
                pu.dismiss();

            }
        });

    }
    catch(Exception ex){
//Catch The Exception
            }
        }
    } 
```

# dojo - 访问dojo中的输入类型

> ID：12816573
> 
> 赞同：1
> 
> 时间：2012-10-10T09:55:32.937
> 
> 标签：dojo, dijit.form

我输入 dojo.query('input') 我得到以下信息：-

```
 <input id="paragraphtwo" data-dojo-type="dijit/form/SimpleTextarea" rows="4" cols="50" style="width:auto"> 
```

现在当我写

```
text= dojo.query('input')
 [<input id="paragraphtwo" data-dojo-type="dijit/form/SimpleTextarea" rows="4" cols="50" style="width:auto">] 
```

存储在文本中。

现在当我写 text[0].id 我得到“paragraphtwo”。我如何访问输入的类型，即我可以像获得 id 一样获得“dijit/form/SimpleTextarea”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T10:26:16.943

一种方法如下：

```
 var input = dojo.byId("paragraphtwo");
    var dojoType = dojo.attr(input, "data-dojo-type"));​
    console.log(dojoType); // Outputs: dijit/form/SimpleTextarea 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-13T18:28:51.167

使用`declaredClass`属性：

```
console.log(dijit.byId("paragraphtwo").declaredClass); 
```

# java - Commons Net FTPClient 检索到文件编码问题

> ID：12816578
> 
> 赞同：2
> 
> 时间：2012-10-10T09:55:38.377
> 
> 标签：java, ftp-client, apache-commons-net

我正在从 FTP 服务器检索文件。该文件被编码为 UTF-8

```
ftpClient.connect(props.getFtpHost(), props.getFtpPort());
ftpClient.login(props.getUsername(), props.getPassword());
ftpClient.setFileType(FTP.BINARY_FILE_TYPE);
inputStream = ftpClient.retrieveFileStream(fileNameBuilder
                    .toString()); 
```

然后在其他地方我正在读取输入流

```
bufferedReader = new BufferedReader(new InputStreamReader(
                    inputStream, "UTF-8")); 
```

但是文件没有被读取为 UTF-8 编码！

我试过了`ftpClient.setAutodetectUTF8(true);`，但还是不行。

有任何想法吗？

**编辑：** 例如原始文件中的一行是 ...00248090041KENAN SARÐIN 00000000015.993FAC ...

通过 FTPClient 下载后，我对其进行解析并加载到一个 java 对象中，该 java 对象的字段之一是 name，对于这一行读取为“KENAN SAR�IN”

我尝试直接转储到磁盘：

```
File file = new File("D:/testencoding/downloaded-file.txt");
FileOutputStream fop = new FileOutputStream(file);
ftpClient.retrieveFile(fileName, fop);
if (!file.exists()) {
    file.createNewFile();
} 
```

我比较了两个文件的 MD5 校验和（FTP 服务器一和转储到磁盘的一个），它们是相同的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-16T06:19:08.537

我会先分离出问题：将文件转储到磁盘，然后与原始文件进行比较。如果和原版一样，则问题与UTF-8无关。不过， FTP 代码*看起来*还不错，如果您说想要原始二进制数据，我希望它不会弄乱任何东西。

如果传输后文件和以前*一样*，那么问题与FTP无关。你说“文件没有被读取为 UTF-8 编码”，但不清楚你的意思。你有多确定它是以 UTF-8 文本开头的？如果您可以使用二进制数据编辑您的问题，它是如何被读取为文本的，以及您*希望*它如何被读取为文本，那将非常有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-16T09:42:02.303

尝试使用 InputStream 和 OutputStream 而不是 InputStreamReader 将文件内容下载为字节而不是字符。这样您就可以确保文件在传输过程中不会更改。

# ios - 在dismissViewControllerAnimated:completion 后如何访问firstViewController 的webView：

> ID：12816584
> 
> 赞同：0
> 
> 时间：2012-10-10T09:55:46.753
> 
> 标签：ios, ios5, ios6

我的环境，

```
iOS6
Xcode 4.5.1
application for iOS5 or later 
```

我使用两个 ViewController。

FirstViewController 具有 webView 以及调用 SecondViewController 的 segue 模态。

```
[self performSegueWithIdentifier:@"foo" sender:self]; 
```

然后，关闭 SecondeViewController 后，我想在 FirstViewController 中重新加载 webView。我怎样才能重新加载这个？

我使用以下代码关闭 SecondViewController。

```
[self.parentViewController dismissViewControllerAnimated:YES completion:^{  }]; 
```

提前谢谢了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T11:02:34.700

您可能需要致电：

```
[webView reload]; 
```

在合适的地方，例如 viewWillAppear 或 firstViewController 的 viewDidAppear 委托方法。

您还可以通过以下完成块重新加载 webView：

```
[self.parentViewController dismissViewControllerAnimated:YES completion:^{ [self.firstViewController.webView reload]; }]; 
```

但是为此，您必须在完成块（范围）中有可用的 firstViewController 实例。为此，您可以在 appdelegate 或任何其他方式中声明您的 firstViewController。您还需要将 webView 设置为 firstViewController 的属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:11:24.410

从视图控制器层次结构中的父级中删除接收器。

```
- (void)removeFromParentViewController 
```

您可以关注 [Apple Class Reference](https://developer.apple.com/library/IOs/#documentation/UIKit/Reference/UIViewController_Class/Reference/Reference.html#//apple_ref/occ/instm/UIViewController/performSegueWithIdentifier%3asender%3a) 希望这会对您有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T10:02:19.020

`UIWebView`有一个`reload`你可以尝试的方法。

你可以从你的`dismissViewControllerAnimated`完成块调用它，或者你可以从你的第一个控制器调用它`viewWillAppear`（但在这种情况下，你应该确保这不会导致过度重新加载）。

# javascript - Android WebView 和执行 javascript

> ID：12816591
> 
> 赞同：0
> 
> 时间：2012-10-10T09:56:23.953
> 
> 标签：javascript, android, android-webview

我有一个看起来像这样的 html 文件

```
<html>
<head>
     This is a test
    <script>
    function testingConsole() {
    console.log("Reached end of Body");
    }
    </script>

</head>

<body>
    <script type="text/javascript">testingConsole();</script>
</body>
</html> 
```

我的代码看起来像这样

```
protected void onCreate(Bundle savedInstanceState)
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.chart);

    webView = (WebView) findViewById(R.id.wvChart);
    webView.loadUrl("file:///android_asset/Chart/chart.html");
    WebSettings webSettings = webView.getSettings();
    webSettings.setJavaScriptEnabled(true);
    webView.setWebChromeClient(new WebChromeClient());

    webView.loadUrl("javascript:testingConsole();");
} 
```

html 文件加载正常，文本“这是一个测试”显示在我的 WebView 中。和脚本 testingConsole(); 由于 html 文件正在调用它，因此它应该由自身执行。但是当我从我的代码中调用它时，我收到一个错误“Uncaught ReferenceError: testingConsole is not defined at null:1”

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-10T10:20:32.553

该`loadUrl(String)`方法不同步执行；确实可以在`WebView`其他线程上加载页面并解析和执行其中的任何 JavaScript。

您应该创建一个覆盖的实现/子类`WebViewClient`并`onPageFinished(WebView, String)`监听 webview 以完成“chart.html”的加载。然后你可以用你的 JavaScript 调用第二个`loadUrl`，我敢打赌它会起作用。我还没有测试过，所以如果可以，请告诉我。

# php - GROUP BY 在用作列的行上的某个值

> ID：12816607
> 
> 赞同：2
> 
> 时间：2012-10-10T09:57:17.667
> 
> 标签：php, mysql, group-by, pivot

我有一个调查数据表，其中的结果行被分成许多行，每行都有自己的变量名。

我的表如下所示：

```
data_id  data_content   var_name          var_line
1        1              SERIAL            1
2        2              GND.AGE           1
3        3              GND.NEWS.FREQ     1
4        2              SERIAL            2
5        3              GND.AGE           2
6        3              GND.NEWS.FREQ     2
7        3              SERIAL            3
8        3              GND.AGE           3
9        4              GND.NEWS.FREQ     3 
```

这是我当前的查询，用于检索 GND.NEWS.FREQ 的每个可能答案的答案总数。如总数：

```
SELECT *, COUNT(*) as total
  FROM `data`
 WHERE `var_name` = 'GND.NEWS.FREQ'
 GROUP BY `data_content` 
```

现在我需要添加功能以仅返回 GND.AGE 例如为 3 的答案。所以基本上将 var_line = 1 的所有行视为单行。

我已经查找了数据透视表，但我不确定如何将其添加到我当前的查询中。

如果可能的话，我想在一个查询中执行此操作，但我不介意在单独的查询中执行诸如获取 var_line ID 之类的操作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:16:45.277

不幸的是 MySQL 没有一个`PIVOT`基本上是你想要做的功能。因此，您需要将聚合函数与`CASE`语句一起使用。如果您想将未知数量的`var_name`值转换为列，则可以使用准备好的语句：

```
SET @sql = NULL;
SELECT
  GROUP_CONCAT(DISTINCT
    CONCAT(
      'max(case when var_name = ''',
      var_name,
      ''' then var_line end) AS ',
      replace(var_name, '.', '_')
    )
  ) INTO @sql
FROM data;

SET @sql = CONCAT('SELECT data_content,', @sql, ' 
                  from data
                  group by data_content
                  ');

PREPARE stmt FROM @sql;
EXECUTE stmt;
DEALLOCATE PREPARE stmt; 
```

请参阅[带有演示的 SQL Fiddle](http://sqlfiddle.com/#!2/aeb7a/5)

# google-chrome-extension - [CRX]：扩展名中不允许我的 js 文件

> ID：12816610
> 
> 赞同：0
> 
> 时间：2012-10-10T09:57:23.700
> 
> 标签：google-chrome-extension, google-chrome-devtools

这是我的应用程序代码：

manifest.json 文件：

```
{
 "name": "YouTradeFx Debugger",
 "version": "1.0",
 "manifest_version": 2,
 "description": "This appliction allow YoutradeFX R&D team to debugging thier applications, by using few tools",
 "browser_action": {
   "default_popup": "app.html"
 }
} 
```

app.html 文件：

```
<html>
<head>
 <title>Source of the application</title>
 <script src="jquery.js"></script>
 <script src="app.js"></script>
</head>
<body style="width: 350px;">
  <span style="display: none;">
   <button id="Http">Send Requests</button>
    <button id="Cookie">Add Lead Params</button>
    <button id="Crm">CRM Faliure</button>
</span>
 <div id="Content">
 <table id="cons">
  <tr>
   <td>Please your username:</td>
   <td><input type="text" id="names" name="user"></td>
  </tr>
  <tr>
  <td><input type="submit" name="send" value="SEND"></td>
 </tr>
 </table>
</div>
</body>
</html> 
```

app.js 文件是：

```
$(document).ready(function(){

 var HoldUser = $("input#names").val();
 $.get("https://www.mywebsite.com/ChromeExt/crm_buffer.php?uid="+HoldUser,function(data){
   $("div#cons").html(data);
 });

}); 
```

但我收到错误消息“**拒绝执行内联脚本，因为它违反了以下内容安全策略指令：”script-src 'self' chrome-extension-resource：** “。” 每时每刻..！

为什么不工作？我做错事情了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T15:23:35.603

您正在加载 HTML（我假设）`https://www.mywebsite.com/ChromeExt/crm_buffer.php?uid="+HoldUser`，然后将其注入您的`app.html`页面。当 HTML 被注入时，它被解析并开始加载所有提到的资源（ `<script>`、`<link>`、`<object>`等）。`<img>`由于您可能在那里有一些 JavaScript 文件，并且由于默认的 Chrome 扩展程序策略不允许扩展程序从远程位置运行脚本，因此您会收到安全违规错误。

您可以通过让网站的响应更像 API 调用、返回 JSON 或文本而不是 HTML 来解决此问题。如果`mywebsite.com`不是您的，或者您不想在那里更改任何内容，您可以将它在[CSP](http://developer.chrome.com/extensions/contentSecurityPolicy.html)中加载的脚本列入白名单，或者在注入之前解析`data`返回的变量`$.get`并删除所有等。`<script>`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T21:56:24.083

您正在获取页面**https://www.mywebsite.com/ChromeExt/crm_buffer.php?uid="+HoldUser**因此您可能在该页面上有单击、鼠标按下等事件。而且我没有看到任何权限在**manifest.json**上。这也可能会阻止请求。您可以通过将以下几行添加到**manifest.json**来轻松测试它。如果这不起作用，请检查 mywebsite.com 以查看是否损坏。

```
"permissions": [
    "http://*/*",
    "https://*/*",
], 
```

# android - 如果我给分销商一个未签名的 apk，我会承担风险吗？

> ID：12816611
> 
> 赞同：1
> 
> 时间：2012-10-10T09:57:29.427
> 
> 标签：android

经销商要求我的应用程序 apk 的未签名版本。如果我把它交给他，我会承担一些安全风险吗？我不太确定签名的目的。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-10T10:07:43.823

数字签名用于验证应用程序的安装。

Android 的应用程序系统的构建方式是，一旦安装了应用程序，正在安装的任何更新都*必须*附加相同的数字签名。如果更新已由不同的密钥签名，则 Android 将不允许安装它。这样做是为了防止您的应用被冒充您的恶意应用替换。由于恶意应用程序不会共享相同的签名，因此它无法替换您的应用程序。

此外，如果没有使用相同的密钥签名，Google Play 等应用商店将不允许您将 apk 作为更新上传到应用。

分发未签名的 apk 本身不应该对您构成威胁，但如果有人可以掌握您的签名密钥，他们可能会造成很大的损害。我认为向分销商提供 apk 没有问题，但请确保您的签名密钥随身携带，尤其是当您将一个用于多个应用程序时。

# android - 删除 facebook 示例中的交叉图像按钮

> ID：12816613
> 
> 赞同：2
> 
> 时间：2012-10-10T09:57:33.373
> 
> 标签：android

我从以下链接下载了 facebook 示例代码：[https](https://github.com/facebook/facebook-android-sdk) ://github.com/facebook/facebook-android-sdk 。我正在尝试运行该示例代码，并且我在该登录屏幕左角十字图像按钮中获得了登录屏幕。并且当我单击该按钮时，登录屏幕已关闭。我的问题是如何删除交叉图像按钮

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:03:45.067

在这个 SDK 中有一个名为**`FbDialog.java`**

在该文件中有名为 Method**`CreateCrossImage()`**

在这个文件中它自己有新的 90 到 95 行号

```
mContent.addView(mCrossImage, new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT)); 
```

只需评论此行并忘记授予权限...并取消评论最后评论的行...。

这是权限...

```
private String[] permissions = { "user_about_me",
    "user_activities", "user_birthday", "user_hometown", "user_likes",
    "user_photos", "user_status", "user_events", "user_groups",
    "user_location", "user_website", "offline_access", "read_mailbox",
    "read_stream", "email", "publish_stream", "user_location",
    "publish_checkins", "user_work_history", "friends_likes",
    "friends_hometown", "friends_birthday", "friends_hometown",
    "friends_location", "friends_photos", "friends_website" }; 
```

`mFacebook = new Facebook("FaceBookApplicationId");`

```
 mFacebook.authorize(Sample.this, permissions,
            new DialogListener() {
        @Override
        public void onComplete(Bundle values) {
            Toast.makeText(Sample.this, "Facebook Connected", Toast.LENGTH_SHORT).show();
        }

        @Override
        public void onFacebookError(FacebookError e) {
            Toast.makeText(Sample.this, e.getMessage(), Toast.LENGTH_SHORT).show();
        }

        @Override
        public void onError(DialogError e) {
            Toast.makeText(Sample.this, e.getMessage(), Toast.LENGTH_SHORT).show();
        }

        @Override
        public void onCancel() {
            Toast.makeText(Sample.this, "Connection Canceled", Toast.LENGTH_SHORT).show();
        }
    }); 
```

# android - sms-deliver-pdu 中的消息引用

> ID：12816614
> 
> 赞同：1
> 
> 时间：2012-10-10T09:57:35.733
> 
> 标签：android, sms

从手机发送短信后，smsc 会返回一个 sms-submit-pdu，它有一个
消息引用/回调 id（范围：0 到 255，在长长的消息队列中不是那么唯一，但仍然......）当 smsc 将此消息传递给收件人时，会生成一个 sms-deliver pdu 并将其发送给消息的原始发件人，大多数 wiki 和网站都引用此传递 pdu 包含提交的消息引用/回调 id -pdu，但我似乎找不到它，它有这样的东西吗？如果有，那么区分循环发送的短信发送报告的问题可能会得到解决。

# java - 处理状态转换的模式

> ID：12816617
> 
> 赞同：0
> 
> 时间：2012-10-10T09:57:42.573
> 
> 标签：java, state-pattern

我正在设计一个游戏，它会通过一些状态进行转换，我已经看到使用了两种模式，一种如下：

1）枚举模式，其中：

```
static {
    // standard states
    transitions.put(PHASE 1, new State[]{PHASE2, PHASE3, PHASE4}); 
```

2）类中的状态模式，你有一个抽象，以及扩展抽象并代表每个状态的子类......单态模式？

我在两者之间有点纠结，看起来都是很好的解决方案，对于游戏来说，什么更干净更容易理解？

我个人喜欢单态，但枚举方法似乎是这样。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:05:41.983

至于“更清洁的代码”，这是一个选择问题。

一些需要考虑的事情

如果添加另一个状态和 N 个转换，代码会发生什么情况？您和团队中的其他开发人员仍然可以阅读它吗？尝试达成某种共识，或者将其体现在代码风格指南中。

恕我直言，由于您使用的语言是面向对象的，因此我将使用 GOF 书中的状态模式，因为它利用了封装和多态性。

如果您用“C”编写它，我会选择表驱动的方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T10:05:25.923

这取决于您是否需要在状态中存储任何业务逻辑。第二种选择可能会使这更容易。你所有的州都可以实现类似的东西：

```
interface State {
    State transition(Event event);
} 
```

然后您可以拥有一种管理器类来管理转换：

```
class StateManager {
    State actualState = new BaseState();
    void processEvent(Event event) {
        actualState = actualState.transition(event);
    }
} 
```

然后您的实现`State`根据输入选择并返回下一个状态应该是什么。

你基本上是在实现一个有限状态机。

如果您的机器可能很快变得复杂，您应该像@duffymo 所说的那样，将转换外部化。我敢肯定那里有图书馆可以做到这一点，尽管我不知道任何名称。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T10:01:23.980

我都不推荐。编写一个有限状态机并将状态和转换外部化为 XML 或 JSON。这将是一个更加灵活的设计。

# forms - 表单中的 JSF 按钮有时不执行操作

> ID：12816622
> 
> 赞同：1
> 
> 时间：2012-10-10T09:57:57.870
> 
> 标签：forms, jsf, jsf-2, primefaces

我有组织表格的问题。当我制作一个表单时，一些按钮（或任何其他进行 ajax 调用的组件）不会执行操作，但它们会执行更新。当我将表单拆分为两个新表单时，按钮开始工作。

在这种情况下，按钮和自动完成功能不起作用。

```
<h:form styleClass="question-#{cc.attrs.question.id}">
    ...

    <p:commandButton value="add answer" update="@form" action="#{questionEditorBean.addAnswer}" />
    <p:commandButton value="save" update="@(.question-#{cc.attrs.question.id})" action="#{cc.attrs.onSave}" oncomplete="#{cc.attrs.onCancel}" />
    <p:commandButton value="cancel" onclick="#{cc.attrs.onCancel}" />

    <p:autoComplete value="#{questionEditorBean.newTag}" id="tagSelect" completeMethod="#{tagBean.completeTag}" dropdown="true"  
                var="t" itemLabel="#{t.name}" itemValue="#{t}" converter="#{tagConverter}" forceSelection="true">
    <p:ajax event="itemSelect" action="#{action}" update="@form"/>
</p:autoComplete>
</h:form> 
```

当我拆分表格时，一切正常。

```
<h:form styleClass="question-#{cc.attrs.question.id}">
    ...

    <p:commandButton value="add answer" update="@form" action="#{questionEditorBean.addAnswer}" />
    <p:commandButton value="save" update="@(.question-#{cc.attrs.question.id})" action="#{cc.attrs.onSave}" oncomplete="#{cc.attrs.onCancel}" />
    <p:commandButton value="cancel" onclick="#{cc.attrs.onCancel}" />

</h:form>
<h:form>

    <p:autoComplete value="#{questionEditorBean.newTag}" id="tagSelect" completeMethod="#{tagBean.completeTag}" dropdown="true"  
                var="t" itemLabel="#{t.name}" itemValue="#{t}" converter="#{tagConverter}" forceSelection="true">
    <p:ajax event="itemSelect" action="#{action}" update="@form"/>
</p:autoComplete>
</h:form> 
```

我没有嵌套表格。我一直在遇到这个问题。我不理解这种行为，并且我不想将按钮和组件在概念上应该放在一起时拆分为更多形式。有解决办法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T10:13:45.060

您可以尝试给出表单 an`id`和 set `prependId="false"`，如下例所示：

```
<h:form id="ccForm" prependId="false"> 
```

然后将表单 ID 添加到所有`update`目标。

```
<p:ajax event="itemSelect" action="#{action}" update="ccForm:tagSelect" /> 
```

通过这种方式，您可以明确说明`update`复合组件内的目标是什么。

我还注意到您正在尝试在表单中使用`styleClass`as`id`并尝试更新它。按照我建议的这种方式，使其`update`属性如下所示：

```
<p:commandButton value="save" update="ccForm:question-#{cc.attrs.question.id}" action="#{cc.attrs.onSave}" oncomplete="#{cc.attrs.onCancel}" /> 
```

我希望它有所帮助。

# android - 如何在android中将地图创建为ImageView？

> ID：12816627
> 
> 赞同：0
> 
> 时间：2012-10-10T09:58:16.153
> 
> 标签：android, google-maps, android-imageview

我正在尝试在图片`ImageView`的帮助下创建一个`MapView`：

![像这样](../Images/5b69d9d118eda4aeaf64e963262c0b2d.png)

伙计们请给我一些想法如何做到这一点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-10T10:17:01.843

如果你想要一个静态地图，你可以和我一样：

```
http://maps.google.com/maps/api/staticmap?center=-15.800513%2C-47.91378&zoom=16&format=png&maptype=roadmap&mobile=false&markers=|color:%23128DD9|label:Marker|-15.800513%2C-47.91378&size=1000x400&key=&sensor=false 
```

更改参数

1.  `?center=`这会告诉你图像的中心应该在哪里
2.  `label:Marker`标记应出现的位置。

将此图像加载到`ImageView`：

```
public static Bitmap loadBitmap(String url) {
    Bitmap bitmap = null;
    InputStream in = null;
    BufferedOutputStream out = null;

    try {
        in = new BufferedInputStream(new URL(url).openStream(), IO_BUFFER_SIZE);

        final ByteArrayOutputStream dataStream = new ByteArrayOutputStream();
        out = new BufferedOutputStream(dataStream, IO_BUFFER_SIZE);
        copy(in, out);
        out.flush();

        final byte[] data = dataStream.toByteArray();
        BitmapFactory.Options options = new BitmapFactory.Options();
        //options.inSampleSize = 1;

        bitmap = BitmapFactory.decodeByteArray(data, 0, data.length,options);
    } catch (IOException e) {
        Log.e(TAG, "Could not load Bitmap from: " + url);
    } finally {
        closeStream(in);
        closeStream(out);
    }

    return bitmap;
} 
```

这个方法将返回一个`Bitmap`来设置它`Bitmap`，`ImageView`就像这样：

```
 ImageView img = (ImageView)findViewById(R.id.imageView1);
 Bitmap b = loadBitmap(urlToTheImage);
 img.setImageBitmap(b); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T10:02:14.273

我不完全确定您的意思，但从外观上看，您需要 Google Static Maps API。

[https://developers.google.com/maps/documentation/staticmaps/](https://developers.google.com/maps/documentation/staticmaps/)

当您为其提供纬度、经度等时，这将生成地图图像。然后您可以根据需要在 ImageView 中使用它。

优点是你不必创建昂贵的 MapView，但它不会是交互式的

# iphone - 远程编写 iOS 应用程序开发

> ID：12816634
> 
> 赞同：-3
> 
> 时间：2012-10-10T09:58:47.150
> 
> 标签：iphone, objective-c, ios

我收到了一个请求，我需要为某人编写代码。但他们希望我在他们的机器上远程书写。

有谁知道我可以远程访问其他人屏幕的任何软件？

是的，我可以使用 VNC 或 Microsoft 远程桌面，但接下来的问题是，我将如何将我端的 Xcode 中的代码运行到真实设备中进行测试。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T10:12:22.947

还有[屏幕共享](http://en.wikipedia.org/wiki/Screen_Sharing)功能——尽管这本质上是一个很好集成的 VNC 客户端，带有一些智能。

这种工作安排听起来不像是一种非常高效的安排——XCode 的许多特性依赖于快速的用户交互——例如代码完成。在滞后的远程连接上，这些将变得非常烦人或完全无法使用。

正如您所建议的，无法在设备上进行远程调试。但是，您可以创建一个[AdHoc 构建](http://dev.appmobi.com/index.php?q=content/how-make-ios-adhoc-build)，然后可以通过 Web 或通过 iTunes 将其安装在您自己的设备上。

Apple Developer 计划为合同开发关系设置了一些障碍 - 特别是在代码签名方面 - 您需要在真实设备上运行以及应用商店提交。仅有的两种解决方案是公司 ADC 帐户（您被添加为“员工”用户）或拥有自己的用于开发的个人帐户。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:14:53.557

两个直接的解决方案：

1.  您可以使用开发人员批准的配置文件生成临时构建并安装在任何设备上。

2.  生成 ipa 并安装在 JB 设备上。

# android - 无法打开编辑器。Android XML 编辑器无法处理此输入

> ID：12816640
> 
> 赞同：6
> 
> 时间：2012-10-10T09:58:58.960
> 
> 标签：android, eclipse, svn, helios

每当我厌倦了通过`SVN Team => Show History`. 我怎样才能解决这个问题？

```
Could not open the editor. Andriod XML Editor cannot process this input. 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-25T11:21:07.173

You can solve the problem by changing your Eclipse preferences: Window menu -> Preferences -> General -> Editors -> File Associations; select *.xml, choose XML Editor and click "Default" button.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-09T10:48:26.410

我已经解决了这个问题，以下步骤对我有用 - 打开窗口 > 首选项 > 常规 > 内容类型 在“文件关联”下选择“文本” 选择 *.xml 单击右侧的删除按钮，然后在底部确定

# asp.net - 无法将参数值从字符串转换为 guid

> ID：12816641
> 
> 赞同：6
> 
> 时间：2012-10-10T09:59:02.343
> 
> 标签：asp.net, n-tier-architecture, tableadapter

我有一个分层的应用程序。数据层通过使用包含 tableadapter 的数据集来调用数据库。在数据库表中有一个名为 ID 的字段，类型为**UniqueIdentifier**。然后我创建以下查询：

```
select * from tbl where ID=@ID 
```

当我尝试在数据集设计器中预览结果时，我收到错误“无法将参数值从字符串转换为 guid”。

我尝试在传入的值周围添加单引号但没有用。

我哪里错了？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-10T10:02:44.403

您的列 ID 在数据库中是 Guid 类型，但您的参数是`string`.

您可以将参数转换为`SqlGuid`：

```
command.Parameters.Add("@GuidParameter", SqlDbType.UniqueIdentifier).Value = new System.Data.SqlTypes.SqlGuid(YourGuid); //The value of @ID 
```

链接：[https ://msdn.microsoft.com/library/system.data.sqltypes.sqlguid.aspx?f=255&MSPPError=-2147217396](https://msdn.microsoft.com/library/system.data.sqltypes.sqlguid.aspx?f=255&MSPPError=-2147217396)

# out-of-memory - Android 从服务器加载大字符串时出现内存不足错误

> ID：12816648
> 
> 赞同：4
> 
> 时间：2012-10-10T09:59:13.967
> 
> 标签：out-of-memory

从服务器加载大字符串时出现内存不足错误。

这是我的代码：

```
public String sendRequest(HttpRequest httpRequest){
        Log.d(TAG, "Sending HTTP request to the server");
        Log.d("memory", "memory size is:"+Runtime.getRuntime().maxMemory());
        String response = null;
        HttpHost host = new HttpHost(context.getString(R.string.HOST), -1, context.getString(R.string.SCHEME));
        try {
            HttpResponse httpResponse = httpClient.execute(host, httpRequest);
            int status=httpResponse.getStatusLine().getStatusCode();

            if (status==200) {
                HttpEntity responseEntity = httpResponse.getEntity();
                if (responseEntity != null) {   
                    InputStream stream = responseEntity.getContent();
                    response = convertStreamToString(stream);
                    stream.close();                     
                }
            }
            else{
                response="failed:"+httpResponse.getStatusLine().toString();
            }
        } catch (Exception e) {
            Log.v(TAG,"Request sending failed: ", e);
        }
        Log.d(TAG, "Completed, Sending HTTP request to the server");
        return response;
    }   
    /**
     * Convert stream to string.
     *
     * @param is the input Stream.
     * @return the string
     */
    private String convertStreamToString(InputStream is) {  
        BufferedReader reader = new BufferedReader(new InputStreamReader(is));
        StringBuilder sb = new StringBuilder();

        String line = null;
        try {
            while ((line = reader.readLine()) != null) {
                sb.append(line + NEW_LINE);
            }
            reader.close();

        } catch (IOException e) {
            //do nothing.
        } finally {
            try {
                reader.close();
            } catch (IOException e) {
                //do nothing.    
            }
        }
        reader=null;
        return sb.toString();
    } 
```

我在这一行遇到异常：

```
while ((line = reader.readLine()) != null) {
    sb.append(line + NEW_LINE);
} 
```

这是我的 logcat 详细信息：

```
10-10 15:01:50.270: D/dalvikvm(632): GC_FOR_ALLOC freed <1K, 37% free 24085K/38215K, paused 225ms
10-10 15:01:51.032: I/dalvikvm-heap(632): Grow heap (frag case) to 31.845MB for 8628650-byte allocation
10-10 15:01:51.929: D/dalvikvm(632): GC_CONCURRENT freed <1K, 15% free 32511K/38215K, paused 10ms+32ms
10-10 15:01:52.192: D/dalvikvm(632): GC_FOR_ALLOC freed 0K, 15% free 32511K/38215K, paused 226ms
10-10 15:01:52.192: I/dalvikvm-heap(632): Forcing collection of SoftReferences for 12942970-byte allocation
10-10 15:01:52.589: D/dalvikvm(632): GC_BEFORE_OOM freed 9K, 15% free 32502K/38215K, paused 299ms
10-10 15:01:52.589: E/dalvikvm-heap(632): Out of memory on a 12942970-byte allocation.
10-10 15:01:52.589: D/dalvikvm(632): GC_BEFORE_OOM freed 9K, 15% free 32502K/38215K, paused 299ms
10-10 15:01:52.589: E/dalvikvm-heap(632): Out of memory on a 12942970-byte allocation.
10-10 15:01:53.219: E/AndroidRuntime(632): FATAL EXCEPTION: IntentService[SurveyQuestionService]
10-10 15:01:53.219: E/AndroidRuntime(632): java.lang.OutOfMemoryError
10-10 15:01:53.219: E/AndroidRuntime(632):  at java.lang.AbstractStringBuilder.enlargeBuffer(AbstractStringBuilder.java:94)
10-10 15:01:53.219: E/AndroidRuntime(632):  at java.lang.AbstractStringBuilder.append0(AbstractStringBuilder.java:145)
10-10 15:01:53.219: E/AndroidRuntime(632):  at java.lang.StringBuilder.append(StringBuilder.java:216)
10-10 15:01:53.219: E/AndroidRuntime(632):  at com.handigital.products.agilesurveys.services.SurveyQuestionService.processResponse(SurveyQuestionService.java:34)
10-10 15:01:53.219: E/AndroidRuntime(632):  at com.handigital.products.agilesurveys.services.AbstractIntentService.onHandleIntent(AbstractIntentService.java:44)
10-10 15:01:53.219: E/AndroidRuntime(632):  at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65)
10-10 15:01:53.219: E/AndroidRuntime(632):  at android.os.Handler.dispatchMessage(Handler.java:99)
10-10 15:01:53.219: E/AndroidRuntime(632):  at android.os.Looper.loop(Looper.java:137)
10-10 15:01:53.219: E/AndroidRuntime(632):  at android.os.HandlerThread.run(HandlerThread.java:60) 
```

任何人都可以请帮助我。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T11:23:13.433

解决此问题的一种方法。在动画中你可以调用 Runtime.getRuntime().gc(); 调用垃圾收集器。同样在活动 onDestroy() 方法中，您可以调用 Runtime.getRuntime().gc();

您甚至可以参考下面的链接，

[如何解决内存不足问题](https://stackoverflow.com/questions/9228594/how-to-resolve-out-of-memory-issue)

# c# - 如何使组合框下拉菜单向上绘制

> ID：12816650
> 
> 赞同：2
> 
> 时间：2012-10-10T09:59:15.270
> 
> 标签：c#, winforms, combobox

在 Winform 中，我在表单底部有一个 ComboBox。当我运行应用程序时，ComboBox 会向下绘制下拉列表，该下拉列表超出了表单边框。

我怎样才能使组合框下拉列表向上绘制？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-10T10:24:58.363

这不是立即的，但您可以做到，我将概述您需要的步骤：

*   将事件处理程序附加到`ComboBox.DropDown`.
*   将左/下位置转换`ComboBox`为屏幕坐标并将它们添加一个偏移量（例如，两个值都为 +1）。
*   使用 use`WindowFromPoint()`来获取下拉窗口的句柄（它在控件下方，这就是 +1 的原因）。
*   获取拖放窗口的边界（您可以使用`CB_GETDROPPEDCONTROLRECT`或`GetWindowRect()`，根据您的喜好）。
*   使用 .将窗口移动到新位置（`ComboBox`从上到下的窗口高度）`MoveWindow()`。

就这样

**编辑**
请注意，您可以合并第 2 点和第 4 点，`SendMessage`与`CB_GETDROPPEDCONTROLRECT`您可以得到该窗口的边界和用作参数的位置`WindowFromPoint()`。通过这种方式，您不会断言下拉窗口始终是向下的（不确定窗口何时接触屏幕边界，甚至可能在未来的版本中发生变化）。

# php - MySQL 在 1 个查询中执行多个 INSERT

> ID：12816653
> 
> 赞同：0
> 
> 时间：2012-10-10T09:59:31.347
> 
> 标签：php, mysql, database

嘿伙计们，我想知道每个查询一次可以使用超过 1 个 INSERT 吗？还是每次插入都必须一次完成？

例如，我想将这两个查询作为一个查询来执行以节省服务器资源：

```
INSERT INTO ExtraStats (date, supportStaff, startEmails, endEmails, emailsAnswered) VALUES ('2012-09-01', '5', '4', '3', '2') ON DUPLICATE KEY UPDATE supportStaff = '5', startEmails = '4', endEmails = '3', emailsAnswered = '2'
INSERT INTO ExtraStats (date, supportStaff, startEmails, endEmails, emailsAnswered) VALUES ('2012-09-2', '5', '6', '7', '8') ON DUPLICATE KEY UPDATE supportStaff = '5', startEmails = '6', endEmails = '7', emailsAnswered = '8' 
```

有没有将它们结合起来？我试着把它们放在同一个查询中，但它不喜欢它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:05:13.133

是的，你可以试试这个

```
INSERT INTO tbl_name(col1,col2,col3) VALUES ('aaa','bbb','ccc'),('ddd','eee','fff'); 
```

或者您可以在第一个查询之后放置分号并继续第二个查询。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T10:08:00.027

```
INSERT INTO ExtraStats (date, supportStaff, startEmails, endEmails, emailsAnswered) 
VALUES ('2012-09-01', '5', '4', '3', '2') 
ON DUPLICATE KEY UPDATE supportStaff = '5', startEmails = '4', endEmails = '3', emailsAnswered = '2';

('2012-09-2', '5', '6', '7', '8') 
ON DUPLICATE KEY UPDATE supportStaff = '5', startEmails = '6', endEmails = '7', emailsAnswered = '8' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T10:01:03.057

用分号“;”分隔 喜欢 ：

```
INSERT INTO ExtraStats (date, supportStaff, startEmails, endEmails, emailsAnswered) 
VALUES ('2012-09-01', '5', '4', '3', '2') ON DUPLICATE KEY UPDATE supportStaff = '5', 
startEmails = '4', endEmails = '3', emailsAnswered = '2';

INSERT INTO ExtraStats (date, supportStaff, startEmails, endEmails, emailsAnswered) VALUES 
('2012-09-2', '5', '6', '7', '8') ON DUPLICATE KEY UPDATE supportStaff = '5', startEmails = 
'6', endEmails = '7', emailsAnswered = '8'; 
```

# javascript - 包裹在括号中的函数

> ID：12816654
> 
> 赞同：3
> 
> 时间：2012-10-10T09:59:41.333
> 
> 标签：javascript, parentheses

为什么这会返回语法错误：

```
function(foo){console.log(foo)} 
```

我希望这会返回函数的值，因此返回自身，而不是将其分配给任何东西，但我得到一个“SyntaxError: Unexpected token (”

但这有效：

```
(function(foo){console.log(foo)}) 
```

请解释这些包装括号的用途。有人告诉我，parens 用于“增加可读性”，但在这种情况下，肯定有更多用途。

您能否进一步详细介绍 about () 的使用？假设您要将那行代码翻译成散文， () 读起来会是什么样子？我也在尝试向其他人描述这个概念，并且需要将其含义传递给每个人都可以理解它。我要回答的问题是（）是什么意思？它们是否具有语义价值，它是什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-10T10:02:40.500

您的第一个示例是函数*声明*。它没有标识符，这是一个语法错误。这[是函数声明的语法](http://es5.github.com/#x13)（注意*Identifier*不是可选的）：

> *功能声明*：
> 
> `function` *标识符* `(` *FormalParameterList [opt]* ) `{` *FunctionBody* `}`

通过将其包装在括号中，您可以将其转换为函数*表达式*（匿名表达式）。您可以通过在后面添加一对调用括号来执行它：

```
(function(foo){console.log(foo)})("hello"); //Will log 'hello' 
```

这是函数表达式的 gammar（现在标识符是可选的）：

> *函数表达式*：
> 
> `function` *标识符[opt]* `(` *FormalParameterList [opt]* ) `{` *FunctionBody* `}`

* * *

**括号如何将函数声明转换为函数表达式**

在这种情况下，括号被解析为“[分组运算符](http://es5.github.com/#x11.1.6)”。分组运算符的语法如下：

> *主要表达*：
> 
> `(` *表达* `)`

分组运算符只能包含一个表达式，因此您的函数被解析为表达式而不是声明（显然，在您的确切示例中，函数不能是声明，因为它没有标识符）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-10T10:02:16.083

这是因为没有`()`,`function(){}`行是一个[函数声明](http://dmitrysoshnikov.com/ecmascript/chapter-5-functions/#function-declaration)，而**有**是`()`一个[表达式](http://dmitrysoshnikov.com/ecmascript/chapter-5-functions/#function-expression)。

*函数声明是一种奇怪的野兽，它们在代码执行之前在*它们定义的范围内随处可用，所以像这样的片段可以工作：

```
foo();
function foo() { console.log('foo'); } 
```

# javascript - 图像添加到画布的奇怪行为

> ID：12816656
> 
> 赞同：0
> 
> 时间：2012-10-10T09:59:44.557
> 
> 标签：javascript, canvas, kineticjs

我尝试在画布上显示一些应该在点击事件上显示的图像。一切似乎都很好，但我发现了一些我无法修复很长时间的错误。错误是在**第一**页打开灯图像不显示。可以通过以下步骤重现：

1.  在浏览器中打开[链接；](http://jsfiddle.net/sKymY/12/)
2.  单击按钮图像 <- 将显示清晰的矩形
3.  再次单击。<- 矩形将消失
4.  再次单击。<- 将显示带有图像的矩形

为什么图像第一次不显示？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T11:27:40.523

至少您的代码中有一个（非常常见的）错误。该方法`.onload`需要分配一个函数引用。您将其分配给立即函数调用的结果（返回值）`processButtonImages(i, delta, buttons[i], object)`。因此，只要您没有从此函数调用返回函数引用（您没有），它就不会按预期工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T12:03:04.470

您正在图像 onload 事件中调用和设置某些内容。所以，起初它并没有正确执行整个事情。检查这个jsfiddle。我最后编辑了代码，[http://jsfiddle.net/sKymY/14/](http://jsfiddle.net/sKymY/14/)

# iphone - 单按钮 UIMenuController

> ID：12816657
> 
> 赞同：2
> 
> 时间：2012-10-10T09:59:45.730
> 
> 标签：iphone, ios, uimenucontroller

早上好 ！

我正在编写一个显示商店列表的应用程序，每个商店都可以销售 2 种产品和/或可以是在线商店。

为了在我的应用程序上显示这一点，我添加了一些“图标”，但如果它们足够“自我解释”，我正在寻找一种易于使用的解释方式。

`UImenuController`所以知道当用户点击图标时我正在使用一个（这是一个`UIButton`）

我只是在寻找简单的东西，如下图所示：

![在此处输入图像描述](../Images/7fb92014c9f27c743651c70d94cef797.png)

但是，而不是

> 强调

我只想放一些类似的东西

> 卖 x 产品

我面临的问题是我可以显示这个 UIMenuController，但他有很多“垃圾值”，正如你在这张图片中看到的那样：

![在此处输入图像描述](../Images/ba772c412c90a9c9165e693e28231a6c.png)

不是很酷吧？

他是链接到我的按钮的方法：

```
-(void)buttonClicked:(UIBarButtonItem*)sender event:(UIEvent*)event{

    [self becomeFirstResponder];

    UIView *buttonView=[[event.allTouches anyObject] view];
    CGRect buttonFrame=[buttonView convertRect:buttonView.frame toView:self.view];

    UIMenuItem *flag = [[UIMenuItem alloc] initWithTitle:@"Select" action:@selector(selectItem:)];

    UIMenuController *menu = [UIMenuController sharedMenuController];

    [menu setMenuItems:[NSArray arrayWithObjects:flag, nil]];

    [menu setTargetRect:buttonFrame inView:self.view];

    [menu setMenuVisible:YES animated:YES];
} 
```

我显然有：

✔ 返回 YES `-(BOOL)canBecomeFirstResponder`

✔ 返回 YES `-(BOOL)canPerformAction`

✔ 返回 YES `-(BOOL)canPerformAction`

✔ 为 `-(BOOL)canPerformAction -(BOOL)canPerformAction:(SEL)action`withSender:(id)sender返回 YES

✔ 文字“`Select` ”确实出现了，但在菜单的“末尾”（您必须使用向右的箭头）

欢迎任何帮助和/或线索！:-)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T13:27:45.010

好吧，我终于设法（在谷歌和 Stackoverflow 上度过了一个下午之后）实现了它！

这很容易：当你覆盖

```
-(BOOL)canPerformAction -(BOOL)canPerformAction:(SEL)action 
```

刚回来

```
[super canPerformAction:action withSender:sender]; 
```

代替

```
YES 
```

和“瞧！”

:)

# java - 如何输出存储在 java 向量中的对象的属性？

> ID：12816660
> 
> 赞同：0
> 
> 时间：2012-10-10T09:59:52.250
> 
> 标签：java, vector

我创建了几个自定义类的对象并为它们分配了不同的属性。然后我将这些对象中的每一个添加到一个向量中，但是当我尝试输出向量的元素时，我得到的只是对对象的引用，而不是对象属性。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-10T10:02:35.433

当您调用`System.out.println()`（或类似方法）并将其传递给类的实例时，会隐式调用该类的`toString()`方法。您看到的是从类`toString()`继承的默认实现。`Object`

如果您想更改输出，只需`toString()`在您的类中提供您自己的实现，返回您想要的信息。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-10T10:01:40.813

您可以使用[增强的`for`循环](https://blogs.oracle.com/CoreJavaTechTips/entry/using_enhanced_for_loops_with)访问它们：

```
Vector<YourObject> vector = ...;

for(YourObject obj : vector)
{
    System.out.println(obj.YOUR_METHOD_OR_ATTRIBUTE);
} 
```

或通过使用[`elementAt(position)`](http://docs.oracle.com/javase/7/docs/api/java/util/Vector.html#elementAt%28int%29)：

```
System.out.println(vector.elementAt(position).YOUR_METHOD_OR_ATTRIBUTE); 
```

或者最后，覆盖该`toString()`方法并使用：

```
System.out.println(vector.elementAt(position)); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-10T10:03:00.533

当您打印任何类的实例时，`Object`将调用类的 toString() 方法。

您需要覆盖`toString`自定义类中的方法，并打印您想要的属性。然后`toString()`将调用您的方法而不是`Object's`toString..

或者，您可以有一个`getter`方法，并在每个实例上调用它

```
public class Custom {
    private String attr;

    public String getAttr() {
         return this.attr;
    }

    @Override
    public String toString() {
         return attr;
    }
} 
```

然后，当您打印您的实例时，`toString()`将被调用，并且`attr`将打印值。

```
Vector<Custom> yourVector = ...;

for (Custom val: yourVector) {
    System.out.println(val);  // Will invoke `toString()` and print attr value.
    System.out.println(val.getAttr());  // Prints attr value
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-10T10:09:54.850

在 Vector 上使用泛型很重要。如果不这样做，您将获得 java.lang.Object 类型的对象，除非您强制转换它们。

所以像这样定义它：

```
Vector<MyObject> vector = new Vector<MyObject>(); 
```

代替

```
Vector vector = new Vector(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-10T10:04:52.670

如果您使用`System.out.println(v)`，其中 v 是您`Vector`的元素，那么您需要实现`toString()`自定义对象的方法。这样，您将覆盖您现在获得的默认 Object#toString() 行为。

# python - 在python中调用成员函数并使用map函数传递参数

> ID：12816661
> 
> 赞同：0
> 
> 时间：2012-10-10T09:59:57.493
> 
> 标签：python, matplotlib

根据我在[这篇](https://stackoverflow.com/questions/7750982/can-pythons-map-function-call-object-member-functions)文章中看到的内容，我尝试编写这段代码，但它给了我错误。

```
ticklabels = ax.get_xticklabels()
set_color = operator.methodcaller('set_color("b")')
ticklabels[0].set_color('b') # this runs fine
map(set_color, ticklabels)   #error is here 
```

错误代码：

> 地图（set_color，ticklabels）AttributeError：'Text'对象没有属性'set_color（“b”）'

您不能将参数传递给方法调用程序中的函数吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:13:35.757

我认为你需要：

```
set_color = operator.methodcaller('set_color', 'b') 
```

第一个参数是要调用的方法，随后的参数将在调用时传递给该方法。

然后，您可以通过以下方式测试它是否有效：

```
set_color(ticklabels[0]) 
```

# php - PHP MYSQL 用户表单注册

> ID：12816663
> 
> 赞同：-3
> 
> 时间：2012-10-10T10:00:04.577
> 
> 标签：php, registration

我尝试使用 PHP 进行用户注册和电子邮件验证，一切都得到了很好的响应，但是在用户提交注册表单之后的某个时间点，表单被发布到`verify.php`然后脚本将向用户的电子邮件发送激活码。

错误是激活邮件发送到用户邮箱的那一刻，页面应该显示：

> 谢谢！一封电子邮件已发送至 {Form.email}。要完成注册，请单击发送到您的电子邮件地址的电子邮件验证链接。

相反，它会自动刷新页面并将用户重定向到`registrationcomplete.php`页面。假设在用户验证后出现。

我使用了以下代码：

```
 <?php
        require ('Connections.php');
        $activationkey =  mt_rand() . mt_rand() . mt_rand() . mt_rand() . mt_rand();
        $name = mysql_real_escape_string($_POST['name']);
        $country = mysql_real_escape_string($_POST['country']);
        $state = mysql_real_escape_string($_POST['state']);
        $add = mysql_real_escape_string($_POST['add']);
        $phone = mysql_real_escape_string($_POST['phone']);
        $email = mysql_real_escape_string($_POST['email']);
        $userid = mysql_real_escape_string($_POST['userid']);
        $password = mysql_real_escape_string($_POST['password']);
        $lrname = mysql_real_escape_string($_POST['lrname']);
        $lraccount = mysql_real_escape_string($_POST['lraccount']);
        $wmz = mysql_real_escape_string($_POST['wmz']);

        $form_submitt = $_POST['button'];

        if ($form_submitt == true){

        $sql = "INSERT INTO customers (`activationkey`, `name`, `country`, `state`, `add`,    `phone`, `email`, `lrname`, `lraccount`, `comment`, `wmz`, `okpay`, `userid`, `password`,  `status`) VALUES ('$activationkey', '$name', '$country', '$state', '$add', '$phone',  '$email', '$lrname', '$lraccount', '', '$wmz', '', '$userid', '$password', 'verify');";

       mysql_query($sql) or die(mysql_error());

       ##Send activation Email

       $to      = $_POST['email'];

       $subject = "Complete registation";

       $message = "Welcome to sitename!\r\rYou, or someone using your email address, has completed registration at www.sitename.com.\r\r You can complete registration by clicking the following link:\rhttp://www.sitename.com/verify.php?$activationkey \r\rIf this is an error, ignore this email and you will be removed from our mailing list.\r\rRegards,\r\r www.sitename.com Team";

       $headers = 'From: noreply@sitename.com' . "\r\n" .

    'Reply-To: noreply@sitename.com' . "\r\n" .

    'X-Mailer: PHP/' . phpversion();

mail($to, $subject, $message, $headers);

}
?>
<?php

##User isn't registering, check verify code and change activation code to null, status to activated on success

if(isset($_SERVER['QUERY_STRING'])){

  $queryString = $_SERVER['QUERY_STRING'];

  $query = "SELECT * FROM `DBName`.`customers`"; 

  $result = mysql_query($query) or die(mysql_error());

  while($row = mysql_fetch_array($result)){

    if ($queryString == $row['activationkey']){

       $sql = "UPDATE `DBName`.`customers` SET `activationkey` = '', `status` = 'verified' WHERE `customers`.`id` = $row[id];";

       mysql_query($sql) or die(mysql_error());

       echo "<meta http-equiv='refresh' content='0;url=registrationcomplete.php'>";

       if (!mysql_query($sql)){

        die('Error: ' . mysql_error());

       }

    }

  }

}
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T10:13:31.963

代替，

```
echo "<meta http-equiv='refresh' content='0;url=registrationcomplete.php'>"; 
```

至

```
header('location:verify.php?action=success');
exit(); 
```

现在使用`action`变量，您可以显示消息

```
if(isset($_GET['action']) && $_GET['action'] == "success"){
   echo 'Thank you message........';
} 
```

# python - 如何在 Python 中将某些类型的文件从一台服务器获取到另一台服务器？

> ID：12816665
> 
> 赞同：0
> 
> 时间：2012-10-10T10:00:09.877
> 
> 标签：python

假设我有一台名为`server 1`. 在这台服务器上有一个名为`dir1`. `dir1`其中有 3 个文件，称为`neh_iu.dat_1`, `neh_hj.dat_2`, `jen_ak.dat_1`.

我只需要将“neh”文件从`server 1`另一个名为`server 2`. `server 2`是我将对这些文件进行某些修改的地方。

如何在 Python 中仅获取“neh”文件？我是 python 新手。我知道一个名为 paramiko 的模块，它允许文件传输，但假设有数百万个“neh”文件`dir1`，而且我不知道所有文件的全名，我怎样才能获得一个自动化的过程它在 Python 中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T10:19:51.153

如果您真的需要使用 python 而不是 bash（假设您使用的是 unix）。

```
>>> import subprocess
>>> subprocess.call("tar cvzf /path/to/ftp-or-static-http/foo.tgz /path/to/dir/neh*") 
```

这将创建一个包含所有 neh*s 文件的 tar 文件。易于在服务器之间传输（它只有一个文件而不是数百万个文件）。使用 FTP、SFTP、HTTP 或您的服务器支持的任何传输协议并执行来自其他服务器的请求（curl 或 ftp）。

# wpf - WPF 主从数据输入可重用控件

> ID：12816668
> 
> 赞同：1
> 
> 时间：2012-10-10T10:00:26.727
> 
> 标签：wpf, crud, master-detail

我正在寻找一些基本窗口或用户控件类来在 WPF 中创建一个主从数据条目（例如发票）表单，而无需为具有添加、编辑、保存、恢复、删除按钮的 CRUD 操作编写代码。

我们的项目中有数百个主（例如客户）或主从（例如发票）表格。所以为了避免重复代码，我想要一个可重用的控件，我只需要指定主表名、id 字段名、详细表名。该控件将执行所有 CRUD 操作，而无需为这些操作编写任何额外代码。

非常感谢任何建议！

# java - Android中的异常“索引查询中的非法字符-”

> ID：12816674
> 
> 赞同：3
> 
> 时间：2012-10-10T10:00:53.000
> 
> 标签：java, android, web-services, exception-handling

我正在尝试使用以下链接在服务器上发送数据。

```
**WEBSERVICE LINK:**
http://75.125.237.76/post_reviews.php?data=text1 
```

如果我使用单个字符串（例如：data = text1）设置数据归档，那么我在源代码中的try块工作正常，没有任何例外。

但是当我用多个带空格的字符串设置数据字段时（例如：data=text1 text2 text3），然后生成异常，即查询中的非法字符。

```
**EXCEPTION:**
Illegal character in query at index 75: http://75.125.237.76/post_reviews.php?data=text1 text2 text3 
```

**我的问题是为什么当我们使用多个字符串时会产生异常（例如：data=My name is xyz）。**

如果我用单个字符串替换数据字段，那么时间工作正常。（数据=xyz）

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-10T10:05:20.393

编码看看[这个以获得更多](http://www.blooberry.com/indexdot/html/topics/urlencoding.htm)`space`编码`%20`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-10T10:04:18.117

对您的 URI 字符串进行编码，以便空格将显示为 %20

# c# - 在 UnityContainer 中注册后如何附加 injectionMembers？

> ID：12816676
> 
> 赞同：1
> 
> 时间：2012-10-10T10:00:54.273
> 
> 标签：c#, .net, dependency-injection, unity-container, interception

假设我有这样的代码：

```
container.RegisterType<IService, Implementation>(name, manager, 
    new InjectionConstructor(...)); 
```

然后我需要将 InterceptionBehaviour 添加到我的注册中，所以如果类 ContainerRegistration 有一些方法，比如`AppendInjectionMembers(...)`.

所以问题是：是否可以在注册后附加 injectionMembers ？如果是这样，该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:25:26.313

谢谢大家，我找到了答案

```
container.Configure<InjectedMembers>().
    ConfigureInjectionFor<Implementation>(new InterceptionBehavior()); 
```

另一种不使用过时类的方法`InjectedMembers`：

```
container.RegisterType(null, typeof(Implementation), new InterceptionBehavior()); 
```

甚至使用通用版本（感谢 Chris Tavares）：

```
container.RegisterType<Implementation>(new InterceptionBehavior()); 
```

# java - 当我在 Netbeans 中运行我的应用程序时卸载 JPffiler（来自 Ubuntu）后，它显示错误

> ID：12816678
> 
> 赞同：0
> 
> 时间：2012-10-10T10:00:57.173
> 
> 标签：java, tomcat, jvm, jprofiler

我安装了 JProfiler，2 天后我卸载了 Jprofiler（在 Ubuntu 中），但是当我运行我的应用程序时，Netbeans IDE 显示以下错误：

VM 初始化时出错找不到代理库 /home/bsoft/jprofiler7/bin/linux-x86/libjprofilerti.so 在绝对路径中，错误：/home/bsoft/jprofiler7/bin/linux-x86/libjprofilerti.so : 无法打开共享对象文件: 没有这样的文件或目录

请帮我解决这个问题。

## 最后我解决了这个问题。

****我刚刚从我的 tomcat 安装目录（/var/lib/tomcat6/bin）中删除了两个文件（startup_jprofiler.sh，setenv.sh）。******

 *** * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T10:35:37.540

请首先确保您的 JVM 是否正常工作。尝试从命令提示符启动 JVM。如果您能够启动 java.exe 文件，那么您的项目就会出现一些问题。

您正在使用 netbeans。所以在启动 netBeans 之前删除 netBeans 的缓存。您的 netBeans 指向 jProfiler 的旧类路径发生了一些变化。

问候，贡扬。**

# java - 队列中的非法监视器

> ID：12816684
> 
> 赞同：0
> 
> 时间：2012-10-10T10:01:24.600
> 
> 标签：java, monitor, synchronized

我有以下代码来启动在队列对象上同步的 3 个线程（在构造时传递）。每个线程都尝试从队列中读取以执行操作：

```
class smokers extends Thread{

    final Queue q;
    boolean smoked=false;

    public smokers(Queue q,restype res){
        this.q=q;
            ....
    }

    public void run(){

        try{
            while(smoked==false){
                synchronized(q){
                    if (q.size()==0) wait();
                                    ...
                        q.poll();
                    notify();
                    }
                }
            }
        }catch (InterruptedException intEx)
        {
            intEx.printStackTrace();
        }

    }

    public static void main(String[] args){
        final Queue q=new LinkedList();
        ....
            while (q.size()<10){
            q.add(....);
        }
        smokers[] smokers=new smokers[3];
        smokers[0]=new smokers(q,restype.TOBACCO);
        smokers[1]=new smokers(q,restype.PAPER);
        smokers[2]=new smokers(q,restype.MATCH);

        // Start the smokers
        for (int i = 0; i < 3; i++) {
              smokers[i].start();
        }

        // Wait for them to finish
        for (int i = 0; i < 3; i++) {
          try {
            smokers[i].join();
          } catch(InterruptedException ex) { }
        }

        // All done
        System.out.println("Done");
    }

} 
```

我得到以下信息：

```
Exception in thread "Thread-2" Exception in thread "Thread-1" java.lang.IllegalMonitorStateException
        at java.lang.Object.notify(Native Method)
        at com.bac.threads.smokers.run(smokers.java:35)
Exception in thread "Thread-0" java.lang.IllegalMonitorStateException
        at java.lang.Object.notify(Native Method)
        at com.bac.threads.smokers.run(smokers.java:35)
java.lang.IllegalMonitorStateException
        at java.lang.Object.notify(Native Method)
        at com.bac.threads.smokers.run(smokers.java:35) 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-10T10:05:42.797

你打电话`notify`，`this`但你在现场同步`q`。通话也一样`wait`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-10T10:05:05.427

您在与您锁定的对象不同的对象上调用 notify()。

```
notify(); 
```

是相同的

```
this.notify(); 
```

当你打算

```
q.notify(); 
```

顺便说一句：我会看看[高级并发库](http://docs.oracle.com/javase/tutorial/essential/concurrency/highlevel.html)

# java - JSP+Servlets+Hibernate 的示例 Ajax 程序

> ID：12816687
> 
> 赞同：0
> 
> 时间：2012-10-10T10:01:31.687
> 
> 标签：java, ajax, hibernate, model-view-controller, jsp

在我的应用程序中，我使用 JSP 作为视图，servlet 作为控制器，休眠作为模型..

在该应用程序 jsp 页面中，我必须在创建具有用户名和所有字段等字段的新用户时填写表单。

现在我想使用 AJAX 代码来检查在表单中输入名称的用户名名称是否已经存在于数据库中...

任何人都可以指导我如何为此编写代码以及控制流..

我用谷歌搜索但不知道如何满足这个要求..

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T10:27:03.283

在这里，您有两个用户名验证选项。

1> 客户端（用户界面）端验证 2> 服务器端验证

对于选项 1>，您需要编写 ajax 调用，该调用将向服务器发出请求并响应结果，该结果将告知使用是否有效。

对于客户端，我建议您使用 java 脚本或 jQuery。这是示例 jQuery ajax 代码。

```
 $.ajax({
   url: "validateUser.html?username=username",
   success:function(data){
      //YOUR CODE FOR FUTHRE ACTION FOR VALID/INVALID ACTION
   }
  }); 
```

[您可以在此处](http://api.jquery.com/jQuery.ajax/)参考 jQuery ajax 。对于选项 2>，在服务器端进行验证...

您可以在提交表单时验证用户名。

您可以通过 request.getParamter("userName"); 检索值 并检查数据库是否已经存在或不存在。

问候，贡扬。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T15:07:34.390

在 Jsp 中

```
<script type="text/javascript">
    function VerifyUsername()
    {
        //alert("In Verify Method");
        var name=document.getElementById("username").value;
        //alert(name);
        var xmlhttp;
        if (window.XMLHttpRequest)
        {// code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp=new XMLHttpRequest();
            //alert("http");
         }
        else
        {// code for IE6, IE5
            xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
            alert("http active");
        }
        xmlhttp.onreadystatechange=function()
        {
            //alert("in Function()");
            if (xmlhttp.readyState==4 && xmlhttp.status==200)
            {
                try
                {
                    //alert("In Try");
                    document.getElementById("errorpass").innerHTML=xmlhttp.responseText;
                    /*var response = xmlhttp.responseText;
                    alert(response);
                    if(response.toString()=='notmatch')
                    {
                        alert("Ok");
                        document.getElementById("errorpass").innerHTML ="OK";
                    }
                    if(response =='match')
                    {
                        alert("Not Ok");
                        document.getElementById("errorpass").innerHTML ="Take Other Name.";
                    }*/
                }
                catch(ex)
                {
                    alert("Exception in function "+ex);
                }
            }
        }
        //xmlhttp.open("POST","servlet/UsernamePresence_Serv?UserId"+name,true);
        xmlhttp.open("POST","servlet/UsernamePresence_Serv?"+name,true);
        var params = "UserId="+name;
        xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
        xmlhttp.setRequestHeader("Content-length", params.length);
        xmlhttp.setRequestHeader("Connection", "close"); 
        xmlhttp.send(params);
    }
</script> 
```

在 Servlet 中

```
public void doPost(HttpServletRequest request, HttpServletResponse response)
        throws ServletException, IOException {

    response.setContentType("text/html");
    PrintWriter out = response.getWriter();
    try
    {
        Session session=Hibernate_Class.sessionObject();
        String userID=null;
        userID = request.getParameter("UserId");

        login_model loginModel_Obj=new login_model();
        loginModel_Obj._Name=userID;
        System.out.print("at "+userID);
        boolean username_bool=Hibernate_Class.usernamePresence(loginModel_Obj, session);

        if (username_bool)
        {
            out.println("Username Present In Database");
        }
        else
        {
            out.println("Username Not Present In Database");
        }

    }
    finally{}
    out.close();
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-10T10:19:14.910

在下面的代码中，只需用您的 Hibernate Code 替换 JDBC 代码。

**JSP**

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://
www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html;
charset=iso-8859-1" />
<title> - User Login</title>

<style type="text/css">

#marqueecontainer{
position: relative;
width: 150px; /*marquee width */
height: 163px; /*marquee height */
/*background-color: white;*/
overflow: hidden;
/*border: 3px solid orange;
padding: 2px;
padding-left: 4px;*/

}

</style>
</head>
<script language="javascript">

var mWindow="windows";
var objLogRequest;

function chekUserId()
{
try
{
if(document.getElementById("userID").value=="")
{
alert(" You have not entered Username. ");
return 0;
}
if(document.getElementById("userPass").value=="")
{
alert("You have not entered Password.");
return 0;
}

var userId = document.getElementById("userID").value;
var userPass = document.getElementById("userPass").value;

//alert("userId:->"+userId);
//alert("userPass:->"+userPass);
serUrl ='/servlet/UserLogin?userID='+userId
+'&userPass='+userPass+'&randomNum='+Math.random()*Math.random();
//alert("serUrl:->"+serUrl);
if(window.ActiveXObject)
{
objLogRequest = new ActiveXObject('Microsoft.XMLHTTP');
//alert("Windos Browser");
}
else
{
objLogRequest = new XMLHttpRequest();
mWindow = "nonWindows";
}
if(objLogRequest)
{
//alert("objAddRequest 1");
objLogRequest.onreadystatechange = sendLogInfo;
//alert("objAddRequest 2");
objLogRequest.open('Get',serUrl);
//alert("objAddRequest 3");
if(mWindow=='nonWindows')
{
objLogRequest.send('');
}
else
{
//alert("before send ");
objLogRequest.send();
//alert("after send ");
}
}

}// end try
catch(e)
{
alert("Exception in chekUserId function "+e);
}

}
function sendLogInfo()
{
try
{
//alert('object state :-> '+objLogRequest.readyState)
if(objLogRequest.readyState==4)
{
if(objLogRequest.status==200)
{
var response = objLogRequest.responseText;
//alert('response :-> '+response)

if(response =='notmatch')
{

document.getElementById("errorpass").innerHTML ="Username and
password do not match.(You provided
"+document.getElementById("userID").value+" )";
document.getElementById("userPass").value="";

}
if(response =='match')
{
alert('user valid');
}
}
}
}
catch(ex)
{
alert("Exception in sendInfo function "+ex);
}
}

</script>
<body marginheight="0" marginwidth='0' topmargin='0'
bottommargin='0'leftmargin='0' class="body">
<table width="751" border="0" align="center" cellpadding="0"
cellspacing="0">
<tr>
<td bgcolor="#000099"><table width="751" border="0"
cellspacing="1" cellpadding="0">
<tr>
<td bgcolor="#FFFFFF"><table width="751" border="0"
cellspacing="0" cellpadding="0">
<tr>
<td>
</td>
</tr>
<tr>
<td height="25" align="left" valign="middle"
bgcolor="#C7C7C7" class="plan-a-trip"><span class="welcometext"></
span></td>
</tr>
<tr>
<td height="10" align="left" valign="top"></td>
</tr>
<tr>
<td><table width="751" border="0" cellspacing="0"
cellpadding="0">
<tr>
<td width="10" align="left" valign="middle">&nbsp;</
td>
<td width="150" align="left" valign="top">
</td>
<td width="10" align="left" valign="top"></td>
<td width="571" height="270" align="left"
valign="top" bgcolor="#999999"><table width="571" border="0"
cellspacing="1" cellpadding="0">
<tr>
<td width="579" height="476" align="left"
valign="top" bgcolor="#FFFFFF">
<table width="571" height="391" border="0" cellpadding="0"
cellspacing="0">
<form name='loginform' method='get' action='/servlet/UserLogin'
onSubmit="return submit(document.loginform);" >
<tr>
<td width="25" rowspan="11" align="left"
valign="top">&nbsp;</td>
<td width="459" height="20" align="left"
valign="top">&nbsp;</td>
<td width="20" rowspan="11" align="left"
valign="top">&nbsp;</td>
</tr>
<tr>
<td height="16" align="left"
valign="middle"><img src="/image/PlanATrip/UserLogin/member_login.jpg"
width="120" height="13" /></td>
</tr>
<tr>
<td height="10" align="left"
valign="middle">&nbsp;</td>
</tr>
<tr>
<td height="5" align="left" valign="top"></td>
</tr>
<tr>
<td height="100" align="left"
valign="top"><table width="479" height="115" border="0"
cellpadding="0" cellspacing="0">
<tr>
<td width="85" align="left"
valign="middle" class="text">Username</td>
<td width="10" rowspan="6" align="left"
valign="top">&nbsp;</td>
<td width="376">
<input id="userID" name="userID"
type="text" class="inputtext" maxLength="25"/> </td>
</tr>
<tr>
<td height="5" align="left"
valign="middle"></td>
<td height="5" align="left" valign="top"></
td>
</tr>
<tr>
<td align="left" valign="middle"
class="text">Passward</td>
<td><input id="userPass" name="userPass"
type="password" maxlength="15" class="inputtext" /></td>
</tr>
<tr>
<td height="5" align="left"
valign="middle"></td>
<td height="5" align="left" valign="top"
class="wrongpass" id="errorpass">&nbsp;</td>
</tr>

<tr>
<td align="left" valign="middle">&nbsp;</
td>
<td><input name="loginBut" type="button"
id="loginBut" class="searchButton" value="Login"
onclick="chekUserId()"/></td>
</tr>
<tr>
<td align="left" valign="middle">&nbsp;</
td>
<td ><a href="/servlets/Registration.html"
class="fyp">New User Sign Up</a></td>
</tr>
</table></td>
</tr>

<tr>
<td height="10" align="left"
valign="top">&nbsp;</td>
</tr>
<tr>

</tr>
</form>
</table></td>
</tr>
</table></td>
<td width="10" align="left" valign="middle">&nbsp;</
td>
</tr>

</table></td>
</tr>
<tr>
<td></td>
</tr>
</table></td>
</tr>
</table></td>
</tr>
</table>
</body>
</html> 
```

**小服务程序代码**

```
import java.io.*;
import java.sql.*;
import java.util.*;

import javax.servlet.*;
import javax.servlet.http.*;

public class UserLogin extends HttpServlet
{

public String DBUrl = "jdbc:mysql://127.0.0.1:3306/
databasename";

public void init ()
{
//getCon();
System.out.println("UserLogin called");
}

public void doPost(HttpServletRequest req, HttpServletResponse res)
throws ServletException, IOException
{

res.setContentType("text/html");

PrintWriter out = res.getWriter();

ResultSet rs=null;

Connection con = null;
Statement stm=null;

//Vector userId;

String userID=null,userPass=null,currentDate=null;
userID = req.getParameter("userID");
userPass = req.getParameter("userPass");
HttpSession session = req.getSession(true);

try
{

con = pool.getCon();
stm = con.createStatement();
//System.out.println("connect");

////chek user ID Start ***//////
String querySelctId = "select count(*)user from userinfo where
UserId='"+userID+"'AND UserPassword='"+userPass+"';";

rs = stm.executeQuery(querySelctId);

//System.out.println("4");
int count = 0
try{
count = rs.getString(1);
}catch(SQLException sqlEx){
System.out.println("sqlEx");
}catch(Exception ex){
System.out.println("Ex");
}

if(count==1)
{
System.out.println(userID+":-> Login");

out.print("match");
}
else
{
out.print("notmatch");

}

}

catch (SQLException sqle)
{
System.out.println("SQLException");
System.out.println(sqle);
//res.sendRedirect("/servlets/RegistrationFail.html");

}
catch (Exception ex)
{
System.out.println("Exception");
System.out.println(ex);
res.sendRedirect("/servlets/ErrorPage.htm");

}
finally
{
try
{
if(con != null)
{
System.out.print("UserLogin Servlet release:-> ");
pool.releaseConnection(con);
rs.close();
stm.close();
out.flush();
out.close();
}
}
catch(Exception Ex)
{
System.out.println(" Exception in release the connection ");
System.out.println(Ex);
}

}
}

public void doGet(HttpServletRequest req,HttpServletResponse res)
throws ServletException, IOException
{
doPost(req,res);
}

public Connection getCon()
{
Connection con = null;

try
{
Class.forName("com.mysql.jdbc.Driver");
con = DriverManager.getConnection(DBUrl,"root","");
databaseMetaData = con.getMetaData();
stm = con.createStatement();
}catch(java.lang.ClassNotFoundException e)
{
System.err.print("ClassNotFoundException: ");

System.err.println(e.getMessage());
}catch (SQLException sqle)
{
System.out.println("SQLException");
System.out.println(sqle);
}catch (Exception ex)
{
System.out.println("Exception");
System.out.println(ex);
}
return con;
}
} 
```

# xcode - 如何以编程方式对存储在 Storyboard 中的 UIViewController 进行子类化？

> ID：12816692
> 
> 赞同：3
> 
> 时间：2012-10-10T10:01:41.743
> 
> 标签：xcode, ios5, uiviewcontroller, storyboard, uistoryboardsegue

我正在开发我的第一个 iPad 应用程序并第一次使用 Storyboards。

我的故事板中有 UITableViewController，它使用“动态原型”来自定义单元格。

我想做的是以编程方式实例化我的 UITableViewController 子类，但从 Storyboard 加载超级视图控制器。

这是因为我有一个 UI，但有多个子类用于每个不同实例所需的特定功能。

使用 .xib 文件很容易做到这一点，我将编写以下代码：

```
MyViewControllerSubClassA *viewControllerA = [[MyViewControllerSubClassA alloc] initWithNibName:@"generalViewControllerNib" bundle:nil];

MyViewControllerSubClassB *viewControllerB = [[MyViewControllerSubClassB alloc] initWithNibName:@"generalViewControllerNib" bundle:nil]; 
```

我知道我可以在单击视图控制器时在情节提要编辑器中分配一个子类，但我想在实例化时以编程方式设置子类。

这对于 Storyboard 来说似乎是不可能的，因为它们是自动实例化的。

这使得 Storyboard 的整个概念看起来有缺陷，而且不是很 OO。

如果我将视图控制器从情节提要中移出并放入 .xib 文件中，我将无法使用动态和静态原型单元格，因为只有在使用情节提要时才支持这些单元格。Apple的文档也基本上说从现在开始使用Storybaords。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-10-10T10:06:55.190

我会尝试这样的事情：

```
MyViewControllerSubclassA *controllerA = (MyViewControllerSubclassA *)[self.storyboard instantiateViewControllerWithIdentifier:@"myGenericVC"]; 
```

# tridion - Tridion 核心服务 如何下载多媒体组件的二进制文件

> ID：12816696
> 
> 赞同：6
> 
> 时间：2012-10-10T10:01:52.377
> 
> 标签：tridion, tridion-2011, core-services

我有一个要求，我需要下载多媒体组件的二进制文件，但是当我访问`BinaryContentData`类公开的属性时，没有下载图像文件的属性。虽然对于上传文件，核心服务有一个属性，即`UploadFromFile`.

那么有没有办法将二进制文件下载到临时位置。下面是我正在使用的代码：

```
core_service.ServiceReference1.SessionAwareCoreService2010Client client = new SessionAwareCoreService2010Client(); 
client.ClientCredentials.Windows.ClientCredential.UserName = "myUserName"; 
client.ClientCredentials.Windows.ClientCredential.Password = "myPassword"; client.Open();
ComponentData component = (ComponentData)client.TryCheckOut(
                            multimediaComponentURI, new ReadOptions());
BinaryContentData binaryData =   component.BinaryContent; 
```

请建议。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-10T10:06:24.863

您可以使用**Tridion.ContentManager.CoreService.Client.dll**`streamDownloadClient.DownloadBinaryContent`内部调用的辅助函数。

 **我创建了以下函数，我通常会为此目的重复使用：

```
private static void CreateBinaryFromMultimediaComponent(string tcm)
{
    Tridion.ContentManager.CoreService.Client.StreamDownloadClient streamDownloadClient = new StreamDownloadClient();
    SessionAwareCoreServiceClient client = new SessionAwareCoreServiceClient("netTcp_2011");

    ComponentData multimediaComponent = client.Read(tcm, new ReadOptions()) as ComponentData;

    // Generate you own file name, and file location
    string file = "D:\\MyTempLocation\\" + Path.GetFilename(multimediaComponent.BinaryContent.Filename);;     

    // Write out the existing file from Tridion
    FileStream fs = File.Create(file);
    byte[] binaryContent = null;

    if (multimediaComponent.BinaryContent.FileSize != -1)
    {
        Stream tempStream = streamDownloadClient.DownloadBinaryContent(tcm);
        var memoryStream = new MemoryStream();
        tempStream.CopyTo(memoryStream);
        binaryContent = memoryStream.ToArray();
    }

    fs.Write(binaryContent, 0, binaryContent.Length);
    fs.Close();
} 
```**

# javascript - 如何通过 JavaScript 或 jQuery 从 cfinput 获取 onblur 输入 id 或 tabIndex？

> ID：12816700
> 
> 赞同：1
> 
> 时间：2012-10-10T10:02:00.717
> 
> 标签：javascript, jquery, coldfusion, coldfusion-8, cfform

我有一个 ColdFusion [cfform](http://cfdocs.org/cfform)，其中包含：

```
<cfinput type="text" name="part1" id="part1" tabIndex="1" onblur="enabled()" >
<cfinput type="text" name="part2" id="part2" tabIndex="2" onblur="enabled()" disabled="disabled" >
<cfinput type="text" name="part3" id="part3" tabIndex="3" onblur="enabled()" disabled="disabled" > 
```

我想要的是让输入框禁用，除非它的前一个不为空，所以我这样做了：

```
function enabled()
{
    var curIndex = + ( $( " * : focus " ).attr( " tabIndex " ) );
    var curVal = $( ' * : input [ tabIndex=' + curIndex + ' ] ' ).val();
    var nextIndex = curIndex + 1;
    var nextId = $( ' input [ tabIndex = " ' + nextIndex + ' " ] ' ).attr( " id " );
    if ( curVal == "" )
    {
        nextId.setAttribute( ' disabled ', ' disabled ' );
    }
    else
    {
        nextId.removeAttribute( ' disabled ' );
        nextId.focus();
    } 
} 
```

但我坚持获取 curIndex，当我提醒它时它出现“未定义”。
任何建议表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:06:10.760

关于什么：

```
​$('input[type=text][name^=part]').on('blur',function(){​​​​​​​​​​​
    var el = $(this);
    var elNext = el.next('input[type=text][name^=part]');
    if(el.val()!=''){
        elNext.removeAttr('disabled');
    }else{
        elNext.attr('disabled',true);
    }
}); 
```

因此，您不需要输入处理程序：

```
<cfinput type="text" name="part1" id="part1" tabIndex="1" > 
<cfinput type="text" name="part2" id="part2" tabIndex="2" disabled="disabled" > 
<cfinput type="text" name="part3" id="part3" tabIndex="3" disabled="disabled" > 
```

​<a href="http://jsfiddle.net/gionaf/wLnh7/" rel="nofollow">**演示**

# blackberry - 黑莓背景图片？

> ID：12816703
> 
> 赞同：0
> 
> 时间：2012-10-10T10:02:13.467
> 
> 标签：blackberry, background

我已经搜索但没有找到任何解决方案，我有但它会产生问题。当我插入它时，它会说非法参数并且不会启动。

```
Bitmap bitmap = Bitmap.getBitmapResource("Background.png");

 this.getMainManager().setBackground(

             BackgroundFactory.createBitmapBackground(bitmap)
         ); 
```

它不起作用。

感谢您的帮助！它的工作。只是我的路径的拼写错误

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:44:54.790

tyy这个-

```
final Bitmap top = Bitmap.getBitmapResource("your background image.png");
final VerticalFieldManager top_ = new VerticalFieldManager(Manager.NO_HORIZONTAL_SCROLL | Manager.NO_HORIZONTAL_SCROLLBAR | Manager.VERTICAL_SCROLL | Manager.VERTICAL_SCROLLBAR | Field.USE_ALL_WIDTH){

        public void paint(Graphics graphics) {
            graphics.drawBitmap(0, 0, top.getWidth(),
                    top.getHeight(), top, 0, 0);
            super.paint(graphics);
        }

    }; 
```

现在您将所有字段添加到此顶部_。然后将 top_ 添加到您的屏幕。如果没有字段，则不会显示背景图像。所以不要忘记添加一些字段。

# lotus - IBM Connections Files CMIS：无法在路径 /My Files 找到对象

> ID：12816707
> 
> 赞同：0
> 
> 时间：2012-10-10T10:02:14.073
> 
> 标签：lotus, cmis, ibm-connections, dotcmis, opencmis

我正在使用[DotCMIS](http://chemistry.apache.org/dotnet/dotcmis.html)连接到 Alfresco 和 FileNet 没有问题。

我[注册](https://greenhouse.lotus.com/gh_next/lotusgreenhouserequests.nsf/MainDocumentSelf?openForm)了一个[IBM Connections](http://en.wikipedia.org/wiki/IBM_Connections)帐户，通过 Web 界面添加了一些文件，并尝试连接到其 CMIS 端点[https://greenhouse.lotus.com/files/basic/cmis/my/servicedoc](https://greenhouse.lotus.com/files/basic/cmis/my/servicedoc)

`GetRepositories`在此 URL 上提供了一个存储库，该存储库又包含以下两个文件夹：

```
My Files
My Folders 
```

但是当我`GetObjectByPath("/My Files")`在同一个存储库中运行时，我得到：

```
DotCMIS.Exceptions.CmisObjectNotFoundException was unhandled
 Message=Not Found
 Source=DotCMIS
 ErrorContent=<?xml version="1.0" encoding="UTF-8"?><lcmis:error xmlns:lcmis="http://www.ibm.com/xmlns/prod/sn/cmis"><lcmis:code>objectNotFound</lcmis:code><lcmis:message>EJPVJ9023E: Unable to find object at path /My Files</lcmis:message><lcmis:userAction></lcmis:userAction></lcmis:error> 
```

`Unable to find object at path /My Files`尽管IBM Connections`My Files`是存储库根目录下的一个文件夹，但它说了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T18:46:32.810

cmis:name 属性（“我的文件”、“我的文件夹”）已本地化。非英语用户将获得这两个对象的不同 cmis:name 属性值。

要从这些资源中获取子资源，您需要使用每个对象返回的 cmis:path 属性构建路径，或者使用 cmisra:pathSegment 构建相对于其父资源的路径。

例如，您的方案中标记为“我的文件”的资源的 cmis:object 具有以下内容：

```
<cmis:propertyString propertyDefinitionId="cmis:path"
 localName="cmis_path" displayName="Path" queryName="cmis:path">
 <cmis:value>/files</cmis:value>
</cmis:propertyString> 
```

因此，要实际获取用户的文件，调用路径如下：

```
GetObjectByPath("/files") 
```

要获取用户的文件夹，调用路径如下：

```
GetObjectByPath("/collections") 
```

网络是为了确保您使用 cmisra:pathSegment 或 cmis:path 属性而不是 cmis:name 构建路径，因为这可能并非在所有情况下都有效（即，如果存储库具有相同名称的兄弟姐妹等）。

# visual-studio - 如何禁用 Style Cop 视觉工作室扩展？

> ID：12816710
> 
> 赞同：22
> 
> 时间：2012-10-10T10:02:18.460
> 
> 标签：visual-studio, stylecop

如何禁用 Style Cop 视觉工作室扩展？它未在工具/扩展或工具/加载项管理器中列出

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2013-03-03T21:56:26.457

我遇到了同样的问题：当我下次打开 Visual Studio 时，我使用*添加/删除程序卸载了它并得到了预期的错误。*隐藏此错误消息后，StyleCop 条目仍保留在我的上下文菜单中。

经过一番研究，我找到了一个解决方案，可以通过`devenv.exe /setup`在命令提示符下运行来删除所有残留物。您必须运行提升的控制台，并且您可能必须切换到`C:\Program Files (x86)\Microsoft Visual Studio 11.0\Common7\IDE`文件夹（或类似文件夹；取决于您的系统）才能运行该命令。

如果您使用 ReSharper，请记住删除关联的代码清理配置文件。

资料来源：[http ://stylecop.codeplex.com/discussions/257772](http://stylecop.codeplex.com/discussions/257772)

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-10-15T18:54:16.933

你不能，StyleCop 故意将自己隐藏在 Visual Studio 的卸载菜单中。

您可以在添加/删除程序中卸载它。下次打开 Visual Studio 时可能会出现错误，但之后就会消失。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2015-01-21T05:28:53.173

发生这种情况的原因是：主要是因为您在打开 Visual Studio 时卸载了 style-cop

如何解决

1.  删除注册表项

> HKEY_CURRENT_USER\Software\Microsoft\VisualStudio\11.0_Config\InstalledProducts\StyleCop HKEY_CURRENT_USER\Software\Microsoft\VisualStudio\11.0_Config\Packages{629EB7CC-69C2-43AC-9BC9-482B0F810C4E}

或者

2.  重新安装然后卸载（确保在此过程中关闭您的 Visual Studio）

**如果您使用的是 resharper**

您需要将其重置`Code Cleanup Profile`为出厂默认设置才能完全摆脱 style-cop。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-02-18T16:28:09.610

我遇到过同样的问题。我已经通过 ReSharper Extension Manager 从 Visual Studio 中卸载了它，当我单击解决方案资源管理器上的任何项目时，它仍然在右键菜单下。

这种方式将解决问题：

脚步：

*   通过控制面板上的添加/删除程序删除 StyleCop
*   如果您已经卸载了 StyleCop，请通过 ReSharper 扩展管理器重新安装。（在 styleCop 卸载过程后第一次打开 Visual Studio 时会出现很多错误。不用担心，按 enter all）
*   然后再次由 Resharper 扩展管理器将其删除。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-06-30T04:28:14.760

最简单的方法是从 Visual Studio Marketplace 安装“StyleCop”扩展。也可以从链接中找到： [https ://marketplace.visualstudio.com/items?itemName=ChrisDahlberg.StyleCop](https://marketplace.visualstudio.com/items?itemName=ChrisDahlberg.StyleCop)

现在右键单击您的项目并单击“StyleCop 设置”，您可以在其中禁用或自定义规则。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-11-14T09:13:46.127

我安装了 VS15 StyleCop 插件，后来在顶部添加了 ReSharper 扩展。

我从 ReSharper 中删除了扩展，然后通过控制面板添加/删除程序卸载了 StyleCop，然后让 CCleaner 运行并清理注册表。

StyleCop 条目已从菜单中消失，数十亿条波浪线也已消失。

# ios - 在 openGLES IOS 中加载 3D 模型

> ID：12816712
> 
> 赞同：1
> 
> 时间：2012-10-10T10:02:20.220
> 
> 标签：ios, opengl-es

我们如何在 openGLES (iOS) 中渲染 maya 的 3D 模型？
是否有任何教程或示例代码可以这样做？

请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:05:05.073

如果您可以从 Maya 模型中输出 COLLADA 模型，则可以使用[cocos3D](http://brenwill.com/2011/cocos3d-importing-converting-collada-to-pod/)加载并显示它。

此外，请查看[这篇](http://iphonedevsdk.com/forum/iphone-sdk-game-development/4696-working-maya-models-iphone.html)解释如何在 iOS 上直接使用 Maya 模型的帖子。

# android - 如何在 Android 中读取 SD 卡中的 .doc 文件？

> ID：12816715
> 
> 赞同：0
> 
> 时间：2012-10-10T10:02:30.643
> 
> 标签：android, ms-word, doc

> **可能重复：**
> [如何在 android 中读取 doc 和 excel 文件？](https://stackoverflow.com/questions/12816281/how-to-read-doc-and-excel-file-in-android)

我的 SD 卡上保存了一个 .doc 文件。我需要阅读 .doc 文件的内容并将其显示在 TextView 中。

谁能告诉我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:17:02.680

```
public void onCreate(Bundle b){
     super.onCreate(b);
      setContentView(R.layout.main);
      String extPath = Environment.getExternalStorageDirectory().getAbsolutePath() + File.Separator;
    InputStream inputStream = assetManager.open(extPath + "file.doc");
    String text = loadFile(inputStream); 
    TextView tv = (TextView)findViewById(R.id.txtv);
    tv.setText(text);

}

public String loadFile(InputStream inputStream){
 ByteArrayOutputStream b = new ByteArrayOutputStream();
 byte[] bytes = new byte[4096];
int length = 0;
  while(){
     b.write(bytes, 0, length);
  }
return new String(b.toByteArray(), "UTF8");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:08:42.383

一种解决方案是使用[Apache POI](http://poi.apache.org/) Java 库来解析 .doc 文件。

要在 Android 的 SD 卡上获取文件，您可以使用类似

```
new File(getExternalFilesDir(null), "word.doc"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T10:18:36.643

试试这个代码

```
 File file=new File("/sdcard/word.doc");
                        if(file.exists())
                        {
                              Uri path=Uri.fromFile(file);
                              Intent intent=new Intent(Intent.ACTION_VIEW);
                              intent.setDataAndType(path, "application/doc");

                              try
                              {

                                    startActivity(intent);
                              }
                              catch(ActivityNotFoundException e)
                              {
                                    Toast.makeText(TestActivity.this, "No software for Doc", Toast.LENGTH_SHORT).show();
                              }
                        } 
```

# wix - WIX：即使功能集没有更改，也要更改配置文件

> ID：12816721
> 
> 赞同：1
> 
> 时间：2012-10-10T10:02:47.320
> 
> 标签：wix, wix3.6

我有一个安装多个网站的 wix 安装程序。每个网站都是一个功能。有一个自定义对话框，允许输入数据库连接字符串。每个功能都包含一个组件，该组件使用对话框中输入的数据更改配置文件。它工作正常。

然后我运行相同的安装程序并选择选项更改。我不会更改功能集，但会更改连接字符串。然后我的更改不适用于配置文件。

我理解它为什么会发生，没有功能更改 = 没有组件运行。

但是，即使功能列表没有改变，有没有办法在更改操作期间始终更改配置文件？

# bash - 如何在变量中使用双引号在反引号中执行它？

> ID：12816723
> 
> 赞同：0
> 
> 时间：2012-10-10T10:02:53.340
> 
> 标签：bash

我想将 find 命令的结果放到变量中 - 我在命令替换块中遇到变量问题。波纹管简短的例子：

```
#!/bin/bash

pattern='"file*"'
res=$(find . -maxdepth 1 -type f -name ${pattern}) # doesn't work
#res=$(find . -maxdepth 1 -type f -name "file*") # works
echo $res 
```

怎么了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T10:34:22.223

尝试

```
pattern="file*"
res=$( find . -maxdepth 1 -type f -name "${pattern}" ) 
```

# vba - Excel VBA：形状的定位和对齐

> ID：12816728
> 
> 赞同：1
> 
> 时间：2012-10-10T10:03:01.993
> 
> 标签：vba, excel

我正在尝试使用一些形状（如图表和图片）的 Excel 表格制作可打印的报告。我可以使用以下代码将图表放在工作表上：

```
 oSheetReport.Range("A51").Select()

    Dim oChart1 As Excel.Shape
    oChart1 = oSheetReport.Shapes.AddChart()
    oChart1.Chart.ChartType = Excel.XlChartType.xlLine
    oChart1.Chart.SetSourceData(Source:=oSheet.UsedRange)

    oSheetReport.Range("A70").Select()

    oChart1 = oSheetReport.Shapes.AddChart()
    oChart1.Chart.ChartType = Excel.XlChartType.xlColumnStacked
    oChart1.Chart.SetSourceData(Source:=oSheet.UsedRange)

    oSheetReport.Range("A100").Select()

    oChart1 = oSheetReport.Shapes.AddChart()
    oChart1.Chart.ChartType = Excel.XlChartType.xlColumnStacked100
    oChart1.Chart.SetSourceData(Source:=oSheet.UsedRange) 
```

但是定位和对齐失败了，这让我的报告看起来很难看。有没有更好的方法来实现这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-10T13:00:15.537

要在一个步骤中添加、定位和对齐，您可以使用以下命令：

```
Set oChart1 = ActiveSheet.ChartObjects.Add _
        (Left:=250, Width:=375, Top:=75, Height:=225) 
```

`Left`是左对齐，`Top`是顶部对齐。`Width`和`Height`- 好吧，你可以弄清楚！

更多信息请访问[http://peltiertech.com/Excel/ChartsHowTo/QuickChartVBA.html](http://peltiertech.com/Excel/ChartsHowTo/QuickChartVBA.html)

# maven - Maven，项目之间的依赖关系

> ID：12816736
> 
> 赞同：1
> 
> 时间：2012-10-10T10:03:22.483
> 
> 标签：maven, dependencies

我有一个相当愚蠢的问题。我试图用谷歌搜索并阅读其他 stackoverflow 问题，但不幸的是没有得到这个想法。这是我的项目的结构：

```
-MapreduceProject (mapreduce jobs)
-UtilsProject (common stuff, usual project util garbage)
-WebAppProject (servlets, jsp for Tomcat) 
```

**MapreduceProject**和**WebAppProject**都使用**UtilsProject** 指定它的最佳方式是什么？我不想使用聚合。我更喜欢将 UtilsProject 视为单独的 jar。

我已将 UtilsProject 作为依赖项添加到 Mapreduce 和 WebApp 项目：

```
<dependency>
    <groupId>my.super.mr</groupId>
    <artifactId>UtilsProject</artifactId>
    <version>1.0-SNAPSHOT</version>
</dependency> 
```

它看起来很傻，而且它不起作用我确实为*UtilsProject运行***mvn install**。我确实检查了它的 jar 是否*真的在我的本地 repo*中。但我无法编译其他项目。我收到一个错误：

 **原因：org.apache.maven.project.DependencyResolutionException：无法解析项目 my.super.mr:WebAppProject:war 的依赖项：1.0-SNAPSHOT：未能找到 my.super.mr:UtilsProject:jar:1.0-SNAPSHOT [http://download.java.net/maven/2](http://download.java.net/maven/2)已缓存在本地存储库中，直到 java.net2 的更新间隔已过或强制更新后才会重新尝试解析

请帮助我了解如何解决它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T11:22:36.920

检查您的`<groupId/>`是否正确。可能有错字。**

# google-analytics - Google Analytics 事件跟踪 HTML 选择框

> ID：12816739
> 
> 赞同：0
> 
> 时间：2012-10-10T10:03:36.820
> 
> 标签：google-analytics, analytics

有谁知道是否可以将 Google Analytics 事件跟踪添加到 HTML 选择框中，以便为选择框中的每个选项获取唯一跟踪

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-09-25T19:55:20.903

```
<select onchange="_gaq.push(['_trackEvent', 'Category','Action', this.value]);">
                                                                           ^ 
```

忘记了右括号**`]`**...原始代码导致语法错误

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-12T17:17:09.317

```
<select onchange="_gaq.push(['_trackEvent', 'Category','Action', this.value);"> 
```

将使用选择选项的值作为值来跟踪事件。

# linux - linux如何找出连接到远程端口的程序

> ID：12816741
> 
> 赞同：1
> 
> 时间：2012-10-10T10:03:46.783
> 
> 标签：linux, shell

请参阅下面的输出：

```
tcp   0   0   192.168.2.222:35774   192.168.3.200:9090   TIME_WAIT 
```

在 Linux 上我想知道哪个程序连接到 192.168.3.200:9090，我该如何实现呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T10:10:27.637

你可以做到`netstat -anp`。
您需要`sudo`或成为 root 才能查看进程信息。

```
tcp   0   0   0.0.0.0:22   0.0.0.0:*   LISTEN   665/sshd 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:12:48.053

```
netstat -avnp | egrep '^tcp' | fgrep '192.168.3.200:9090' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T10:15:46.253

我认为

```
# lsof -Pnl +M -i4 // Listens on all IPV4 Ports 
```

或者

```
# netstat -ntp 
```

是您正在搜索的命令。

然后尝试使用 fgrep 查找该行。（在您的情况下： fgrep '192.168.3.200:9090'）

-->`netstat -ntp | fgrep '192.168.3.200:9090'`

# javascript - Chrome不适用于window.open？

> ID：12816744
> 
> 赞同：0
> 
> 时间：2012-10-10T10:03:52.977
> 
> 标签：javascript, jquery, ajax, google-chrome, firefox

我试图向用户显示一个下载弹出窗口，这是一个 ajax 调用，提供文本/csv 格式的响应。

问题：它在 Firefox 中运行良好，但在 Chrome 中却不行，它正在打开一个新标签。这绝对是无意的，我宁愿它没有发生。关于我可以改变什么的任何想法......？

```
function x() {

  var obj = jQuery("input:checked").map(function() 
  { 
    return jQuery(this).parents('tr').attr('id'); 
  });

  var result = null;
  var arr = jQuery.makeArray(obj);
  var data = arr.join(',');

  $.ajax({
    url : '<%= url_for :controller => "liges", :action => "export_to_csv" %>',
    type : 'POST',
    data : {data:data},
    dataType : 'string',
    async: false,
    success : function(response) { 
      window.open('data:text/csv;charset=utf-8,'+escape(response)); 
    }    
  }); 
}; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:11:24.720

尝试这个：

```
window.open("","","width=400,height=150"); 
```

顺便说一句，chrome 会阻止页面上的弹出窗口，直到您授予他访问权限。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:10:02.263

您需要`_blank`作为另一个参数传递：

**来自[MDN](https://developer.mozilla.org/en-US/docs/DOM/window.open)：**

> 要在每次调用时打开一个新窗口，请`window.open()`使用 的特殊`_blank`值`strWindowName`。

**例子：**

```
window.open('data:text/csv;charset=utf-8,'+escape(response), '_blank'); 
```

# java - 根据输入的数量在while循环中创建多个java线程

> ID：12816750
> 
> 赞同：4
> 
> 时间：2012-10-10T10:04:06.083
> 
> 标签：java, mysql, multithreading, loops

我正在尝试编写一个从数据库中读取信息并为表的每一行创建一个新线程的 java 程序。所以我不知道我需要多少线程。到目前为止，我有这个：

```
 con = DriverManager.getConnection(url, user, passwd);
        pst = con.prepareStatement("select hostname, ipadress, vncpassword from infoscreens");
        rs = pst.executeQuery();
        int i=0;
        while (rs.next()) {
            i++;
            Thread tread[i]  = new Savescreenshots(rs.getString(1),rs.getString(3),rs.getString(2));
            tread[i].start();
        } 
```

但问题是这不起作用。我需要为表中的每一行创建一个新线程。剂量任何人都知道如何做到这一点

谢谢和问候

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-10T10:07:12.197

您需要一个动态增长的容器来容纳一组未知大小 - a [`List`](http://docs.oracle.com/javase/6/docs/api/java/util/List.html)，例如：

```
List<Thread> threads = new ArrayList<Thread>();
while (rs.next()) {
    Thread tread  = new Savescreenshots(rs.getString(1),rs.getString(3),rs.getString(2));
    tread.start();
    threads.add(thread);
} 
```

此时`Thread`，您的程序创建和启动的所有对象都是`threads`列表的元素。您可以枚举它们并执行您计划对它们执行的任何其他操作（例如，等待它们完成）：

```
for (Thread thread : threads) {
    thread.join();
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-10T10:07:16.003

您的想法听起来很疯狂，但您可以做的是使用 Java 中的 SQL 功能，找出您当前有多少行，然后使用该数字来创建您的线程。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-10T10:07:30.587

尝试只使用简单的变量say t 而不是数组tread[i]。

此外，如果行数很大，为每一行创建一个新线程可能会填满内存。

# c# - 在 C# 中覆盖绘制控件

> ID：12816752
> 
> 赞同：2
> 
> 时间：2012-10-10T10:04:12.477
> 
> 标签：c#, overriding

任何人都可以提供有关如何覆盖 C# 中的绘画事件的基本教程吗？我在 C# 方面没有太多经验，这是我不容易掌握的部分，因为我无法遵循一些教程和技巧，因为我没有在 C# 中获得覆盖的概念。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:41:51.693

这是一个非常基本的示例，它将（应该！）绘制一个红色的“X”：

```
public class FacadeControl : Control
{
    private Pen invalidPen;

    public FacadeControl()
    {
        invalidPen = new Pen(Color.Red, 2);
        SetStyle(ControlStyles.ResizeRedraw, true); // make sure the control is redrawn every time it is resized
    }

    protected override void OnPaint(PaintEventArgs pe)
    {
        // get the graphics object to use to draw
        Graphics g = pe.Graphics;

        g.DrawLine(invalidPen, 0, 0, Width, Height);
        g.DrawLine(invalidPen, 0, Height, Width, 0);
    }
} 
```

}

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-17T23:27:49.767

例如 ：

```
public class FirstControl : Control{
   public FirstControl() {}
   protected override void OnPaint(PaintEventArgs e) {
      base.OnPaint(e);      
      e.Graphics.DrawString(Text, Font, new SolidBrush(ForeColor), ClientRectangle);
   } 
} 
```

只是不要忘记在编写你的之前调用基础绘制处理程序

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-12-18T19:16:02.380

这是按钮

[![在此处输入图像描述](../Images/0cb62af7e6e9f3d78ad819136d932159.png)](https://i.stack.imgur.com/17EmV.png)

我想分享我的代码：

按钮类：

```
using System;
using System.Drawing;
using System.Drawing.Drawing2D;
using System.Drawing.Text;
using System.Windows.Forms;

namespace Controles.Buttons
{
    /// <summary>
    /// Clase personalizada button.
    /// Jorge Arturo Avilés Nuñez
    /// Zapopan, Jalisco, México
    /// 18-DIC-2017
    /// </summary>
    public class SansationRoundButton : Button
    {
        #region members

        private TextRenderingHint _hint = TextRenderingHint.AntiAlias;
        private const int FlagMouseOver = 0x0001;
        private const int FlagMouseDown = 0x0002;
        private int state = 0;

        #endregion

        #region Constructor

        public SansationRoundButton()
        {
            this.FlatStyle = FlatStyle.Flat;
            this.FlatAppearance.BorderSize = 0;
            this.Font = new System.Drawing.Font("Sansation", 21.75F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Point, 0);
            this.UseVisualStyleBackColor = true;
            this.Cursor = Cursors.Hand;
        }

        #endregion

        #region Internal methods and properties

        internal bool OwnerDraw
        {
            get
            {
                return FlatStyle != FlatStyle.System;
            }
        }

        internal bool MouseIsOver
        {
            get
            {
                return GetFlag(FlagMouseOver);
            }
        }

        #endregion

        #region Private methods

        private bool GetFlag(int flag)
        {
            return ((state & flag) == flag);
        }

        private void SetFlag(int flag, bool value)
        {
            bool oldValue = ((state & flag) != 0);

            if (value)
                state |= flag;
            else
                state &= ~flag;

            if (OwnerDraw && (flag & FlagMouseDown) != 0 && value != oldValue)
                AccessibilityNotifyClients(AccessibleEvents.StateChange, -1);
        }

        #endregion

        #region Overrides

        protected override void OnMouseEnter(EventArgs e)
        {
            base.OnMouseEnter(e);

            SetFlag(FlagMouseOver, true);
        }

        protected override void OnMouseLeave(EventArgs e)
        {
            base.OnMouseLeave(e);
            SetFlag(FlagMouseOver, false);
        }

        protected override void OnPaint(System.Windows.Forms.PaintEventArgs e)
        {
            e.Graphics.Clear(Color.White);
            e.Graphics.TextRenderingHint = this.TextRenderingHint;
            e.Graphics.SmoothingMode = SmoothingMode.AntiAlias;

            Color backColor = this.MouseIsOver ? this.BackColorMouseOver : this.BackColor;
            Color borderColor = this.MouseIsOver ? this.BorderColorMouseOver : this.BorderColor;

            e.Graphics.DrawRoundedRectangle(new Pen(borderColor), 0, 0, this.Width - 1, this.Height - 1, 10);
            e.Graphics.FillRoundedRectangle(new SolidBrush(backColor), 0, 0, this.Width - 1, this.Height - 1, 10);

            StringFormat sr = BaseControl.CreateStringFormat(this, this.TextAlign, false, this.UseMnemonic);

            e.Graphics.DrawString(this.Text, this.Font, new SolidBrush(ForeColor), ClientRectangle, sr);
        }

        #endregion

        #region public properties

        public TextRenderingHint TextRenderingHint
        {
            get { return this._hint; }
            set { this._hint = value; }
        }

        public new bool ShowKeyboardCues
        {
            get
            {
                return base.ShowKeyboardCues;
            }
        }

        public Color BackColorMouseOver { get; set; } = Color.Red;

        public Color BorderColor { get; set; } = Color.Black;
        public Color BorderColorMouseOver { get; set; } = Color.Black;

        #endregion
    }
} 
```

此类 BaseControl 创建 StringFormat 对象的新实例，该实例是从 Graphics 对象调用 DrawString 方法所需的。

```
using System.Drawing;
using System.Windows.Forms;

namespace Controles.Buttons
{
    public class BaseControl 
    {
        private static readonly ContentAlignment anyRight = ContentAlignment.TopRight | ContentAlignment.MiddleRight | ContentAlignment.BottomRight;
        private static readonly ContentAlignment anyBottom = ContentAlignment.BottomLeft | ContentAlignment.BottomCenter | ContentAlignment.BottomRight;
        private static readonly ContentAlignment anyCenter = ContentAlignment.TopCenter | ContentAlignment.MiddleCenter | ContentAlignment.BottomCenter;
        private static readonly ContentAlignment anyMiddle = ContentAlignment.MiddleLeft | ContentAlignment.MiddleCenter | ContentAlignment.MiddleRight;

        static StringAlignment TranslateAlignment(ContentAlignment align)
        {
            StringAlignment result;
            if ((align & anyRight) != 0)
                result = StringAlignment.Far;
            else if ((align & anyCenter) != 0)
                result = StringAlignment.Center;
            else
                result = StringAlignment.Near;
            return result;
        }

        static StringAlignment TranslateLineAlignment(ContentAlignment align)
        {
            StringAlignment result;
            if ((align & anyBottom) != 0)
            {
                result = StringAlignment.Far;
            }
            else if ((align & anyMiddle) != 0)
            {
                result = StringAlignment.Center;
            }
            else
            {
                result = StringAlignment.Near;
            }
            return result;
        }

        static StringFormat StringFormatForAlignment(ContentAlignment align)
        {
            StringFormat output = new StringFormat();
            output.Alignment = TranslateAlignment(align);
            output.LineAlignment = TranslateLineAlignment(align);
            return output;
        }

        public static StringFormat CreateStringFormat(SansationRoundButton ctl, ContentAlignment textAlign, bool showEllipsis, bool useMnemonic)
        {
            StringFormat stringFormat = StringFormatForAlignment(textAlign);

            // Adjust string format for Rtl controls
            if (ctl.RightToLeft == RightToLeft.Yes)
            {
                stringFormat.FormatFlags |= StringFormatFlags.DirectionRightToLeft;
            }

            if (showEllipsis)
            {
                stringFormat.Trimming = StringTrimming.EllipsisCharacter;
                stringFormat.FormatFlags |= StringFormatFlags.LineLimit;
            }

            if (!useMnemonic)
            {
                stringFormat.HotkeyPrefix = System.Drawing.Text.HotkeyPrefix.None;
            }
            else if (ctl.ShowKeyboardCues)
            {
                stringFormat.HotkeyPrefix = System.Drawing.Text.HotkeyPrefix.Show;
            }
            else
            {
                stringFormat.HotkeyPrefix = System.Drawing.Text.HotkeyPrefix.Hide;
            }

            if (ctl.AutoSize)
            {
                stringFormat.FormatFlags |= StringFormatFlags.MeasureTrailingSpaces;
            }

            return stringFormat;
        }
    }
} 
```

最后这个类用于创建和填充矩形。

```
using System;
using System.Drawing;
using System.Drawing.Drawing2D;

namespace Plasmoid.Extensions
{
    static class GraphicsExtension
    {
        private static GraphicsPath GenerateRoundedRectangle(
            this Graphics graphics, 
            RectangleF rectangle, 
            float radius)
        {
            float diameter;
            GraphicsPath path = new GraphicsPath();
            if (radius <= 0.0F)
            {
                path.AddRectangle(rectangle);
                path.CloseFigure();
                return path;
            }
            else
            {
                if (radius >= (Math.Min(rectangle.Width, rectangle.Height)) / 2.0)
                    return graphics.GenerateCapsule(rectangle);
                diameter = radius * 2.0F;
                SizeF sizeF = new SizeF(diameter, diameter);
                RectangleF arc = new RectangleF(rectangle.Location, sizeF);
                path.AddArc(arc, 180, 90);
                arc.X = rectangle.Right - diameter;
                path.AddArc(arc, 270, 90);
                arc.Y = rectangle.Bottom - diameter;
                path.AddArc(arc, 0, 90);
                arc.X = rectangle.Left;
                path.AddArc(arc, 90, 90);
                path.CloseFigure();
            }
            return path;
        }
        private static GraphicsPath GenerateCapsule(
            this Graphics graphics, 
            RectangleF baseRect)
        {
            float diameter;
            RectangleF arc;
            GraphicsPath path = new GraphicsPath();
            try
            {
                if (baseRect.Width > baseRect.Height)
                {
                    diameter = baseRect.Height;
                    SizeF sizeF = new SizeF(diameter, diameter);
                    arc = new RectangleF(baseRect.Location, sizeF);
                    path.AddArc(arc, 90, 180);
                    arc.X = baseRect.Right - diameter;
                    path.AddArc(arc, 270, 180);
                }
                else if (baseRect.Width < baseRect.Height)
                {
                    diameter = baseRect.Width;
                    SizeF sizeF = new SizeF(diameter, diameter);
                    arc = new RectangleF(baseRect.Location, sizeF);
                    path.AddArc(arc, 180, 180);
                    arc.Y = baseRect.Bottom - diameter;
                    path.AddArc(arc, 0, 180);
                }
                else path.AddEllipse(baseRect);
            }
            catch { path.AddEllipse(baseRect); }
            finally { path.CloseFigure(); }
            return path;
        }

        /// <summary>
        /// Draws a rounded rectangle specified by a pair of coordinates, a width, a height and the radius 
        /// for the arcs that make the rounded edges.
        /// </summary>
        /// <param name="brush">System.Drawing.Pen that determines the color, width and style of the rectangle.</param>
        /// <param name="x">The x-coordinate of the upper-left corner of the rectangle to draw.</param>
        /// <param name="y">The y-coordinate of the upper-left corner of the rectangle to draw.</param>
        /// <param name="width">Width of the rectangle to draw.</param>
        /// <param name="height">Height of the rectangle to draw.</param>
        /// <param name="radius">The radius of the arc used for the rounded edges.</param>

        public static void DrawRoundedRectangle(
            this Graphics graphics, 
            Pen pen, 
            float x, 
            float y, 
            float width, 
            float height, 
            float radius)
        {
            RectangleF rectangle = new RectangleF(x, y, width, height);
            GraphicsPath path = graphics.GenerateRoundedRectangle(rectangle, radius);
            SmoothingMode old = graphics.SmoothingMode;
            graphics.SmoothingMode = SmoothingMode.AntiAlias;
            graphics.DrawPath(pen, path);
            graphics.SmoothingMode = old;
        }

        /// <summary>
        /// Draws a rounded rectangle specified by a pair of coordinates, a width, a height and the radius 
        /// for the arcs that make the rounded edges.
        /// </summary>
        /// <param name="brush">System.Drawing.Pen that determines the color, width and style of the rectangle.</param>
        /// <param name="x">The x-coordinate of the upper-left corner of the rectangle to draw.</param>
        /// <param name="y">The y-coordinate of the upper-left corner of the rectangle to draw.</param>
        /// <param name="width">Width of the rectangle to draw.</param>
        /// <param name="height">Height of the rectangle to draw.</param>
        /// <param name="radius">The radius of the arc used for the rounded edges.</param>

        public static void DrawRoundedRectangle(
            this Graphics graphics, 
            Pen pen, 
            int x, 
            int y, 
            int width, 
            int height, 
            int radius)
        {
            graphics.DrawRoundedRectangle(
                pen, 
                Convert.ToSingle(x), 
                Convert.ToSingle(y), 
                Convert.ToSingle(width), 
                Convert.ToSingle(height), 
                Convert.ToSingle(radius));
        }

        /// <summary>
        /// Fills the interior of a rounded rectangle specified by a pair of coordinates, a width, a height
        /// and the radius for the arcs that make the rounded edges.
        /// </summary>
        /// <param name="brush">System.Drawing.Brush that determines the characteristics of the fill.</param>
        /// <param name="x">The x-coordinate of the upper-left corner of the rectangle to fill.</param>
        /// <param name="y">The y-coordinate of the upper-left corner of the rectangle to fill.</param>
        /// <param name="width">Width of the rectangle to fill.</param>
        /// <param name="height">Height of the rectangle to fill.</param>
        /// <param name="radius">The radius of the arc used for the rounded edges.</param>

        public static void FillRoundedRectangle(
            this Graphics graphics, 
            Brush brush, 
            float x, 
            float y, 
            float width, 
            float height, 
            float radius)
        {
            RectangleF rectangle = new RectangleF(x, y, width, height);
            GraphicsPath path = graphics.GenerateRoundedRectangle(rectangle, radius);
            SmoothingMode old = graphics.SmoothingMode;
            graphics.SmoothingMode = SmoothingMode.AntiAlias;
            graphics.FillPath(brush, path);
            graphics.SmoothingMode = old;
        }

        /// <summary>
        /// Fills the interior of a rounded rectangle specified by a pair of coordinates, a width, a height
        /// and the radius for the arcs that make the rounded edges.
        /// </summary>
        /// <param name="brush">System.Drawing.Brush that determines the characteristics of the fill.</param>
        /// <param name="x">The x-coordinate of the upper-left corner of the rectangle to fill.</param>
        /// <param name="y">The y-coordinate of the upper-left corner of the rectangle to fill.</param>
        /// <param name="width">Width of the rectangle to fill.</param>
        /// <param name="height">Height of the rectangle to fill.</param>
        /// <param name="radius">The radius of the arc used for the rounded edges.</param>

        public static void FillRoundedRectangle(
            this Graphics graphics, 
            Brush brush, 
            int x, 
            int y, 
            int width, 
            int height, 
            int radius)
        {
            graphics.FillRoundedRectangle(
                brush, 
                Convert.ToSingle(x), 
                Convert.ToSingle(y), 
                Convert.ToSingle(width), 
                Convert.ToSingle(height), 
                Convert.ToSingle(radius)); 
        }
    }
} 
```

享受！

# wordpress - Wordpress 菜单链接错误

> ID：12816755
> 
> 赞同：0
> 
> 时间：2012-10-10T10:04:15.957
> 
> 标签：wordpress, wordpress-theming

我有一个已经设计好的 Wordpress 主题，但是顶部的链接是错误的

**例如：**

关于我们应该去[这里](http://www.luof.co.uk/aboutus.html)

家具应该去[这里](http://store.luof.co.uk)

博客链接在[这里](http://www.luof.co.uk/blog)

我已经尝试过调整每个菜单项的位置和宽度，但无济于事。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:06:52.180

在 Wordpress 管理控制台中有选项外观>菜单。创建一个新菜单，添加您想要的项目（您可以添加您制作的页面，创建带有指向其他页面的链接的自定义项目等），保存菜单。现在转到外观>主题>自定义当前主题并更改导航路径。

# php - php 到 JavaScript 变量传输

> ID：12816760
> 
> 赞同：0
> 
> 时间：2012-10-10T10:04:35.647
> 
> 标签：php, javascript

我对 JavaScript 不是很熟悉，但是对于我正在从事的项目，我需要使用数据库中的一些输入来绘制图表。你能帮我把 php 值传输到 javascript 吗？我只想使用数据库中的数据绘制饼图。

```
<div id="pie" style="width:250px;height:250px;">

    <?php 
        $k=0; 
        if (isset($distrib)){
            foreach($distrib as $row){
              echo $distrib[$k]['lang'];
              echo $distrib[$k]['NumArt'];
               $k++;
            }
        }
    ?>​

    <script class="code" type="text/javascript">
        $(document).ready(function() {
            var data = [];
            var plot1 = jQuery.jqplot('pie', [data], {
                seriesDefaults: {
                    // Make this a pie chart.
                    renderer: jQuery.jqplot.PieRenderer,
                    rendererOptions: {
                        // Put data labels on the pie slices.
                        // By default, labels show the percentage of the slice.
                        showDataLabels: true
                    }
                },
                legend: {
                    show: false,
                    location: 'e'
                }
            });
        });​
    </script> 
```

* * *

编辑

我仍在努力解决这个问题。这些 js 图表正在杀死我。

所以这是一个额外的问题，希望能结束我的痛苦

```
 if (isset($distrib)){
                                foreach($distrib as $row){
                                  $p[] = $distrib[$k]['langName'];
                                  $s[] = $distrib[$k]['lang'];
                                  $q[] = $distrib[$k]['NumArt'];
                                   $k++;
                                }}  
                            ?><?php $c = array_combine($p, $q); ?>

                        <script class="code" type="text/javascript">$(document).ready(function(){

                                    <?php echo "var s1 = [".implode($c, ",")."];" ?>
                                var plot3 = $.jqplot('pie',  [s1], { 
```

基本上目前图表正在打印出 numArt，但它没有打印出我想要的 langName。Lang name 以母语字母存储语言，这意味着从阿拉伯语到祖鲁语的任何内容。我尝试使用 JSON 没有成功（我完全缺乏这方面的知识）。我的 d/encoding 搞砸了，所以我离开了那条路。

我的目标是呈现一个图表，其中包含该语言的名称和该语言的文章数量。

所以这是
$p的 print_r

Array ( [0] => none [1] => Catal [2] => français [3] => Malti [4] => português [5] => 斯瓦希里语 [6] => isiZulu [7] => 英语)

和 $q 数组 ( [0] => 1 [1] => 1 [2] => 1 [3] => 2 [4] => 1 [5] => 1 [6] => 1 [7] => 1)

和组合的 $c 数组 ( [none] => 1 [Catal] => 1 [français] => 1 [Malti] => 2 [português] => 1 [Kiswahili] => 1 [isiZulu] => 1 [英文] => 1)

最后，我需要 s1 成为这些方面的东西

[['none',1],['français',1],['Malti',1]]

* * *

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:09:47.703

```
<script type="text/javascript">

var data = [ <?php echo implode(",", $array_of_values); ?> ];
<script> 
```

只需确保它`$array_of_values`是一个数组 (PHP)，其中包含您要在`data`变量 (JS) 中传递的值。

更新：

```
$string_array = array();
foreach( $array as $key=>$value )
{
  $string_array[] = '[' . $key . ',' . $value . ']';
} 
```

然后内爆。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:09:43.220

你还没有提到你想要什么值，或者你想要它们在 javascript 中的什么位置。

您似乎对 ing PHP 值很熟悉`echo`，因此您只想做同样的事情，只是在您的 javascript 函数中执行此操作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T10:08:23.637

如果这是您正在寻找的东西，我不肯定，但是：

假设你在 php.ini 中有 $var1=25。假设你想为你的 js 文件保存在 var1 中，你会这样做：

```
<?php
    echo $var1=25; 
    echo "var var1=$var1";
?> 
```

请记住，javascript 是客户端，php 是服务器端，因此两者不交互（不包括 ajax 等）。PHP 在发送响应之前运行，而 javascript 在浏览器中运行。你可能已经知道了，但只是为了怀疑。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-10T10:12:02.677

```
//...
$(document).ready(function(){

    <?php echo "var data = [".implode($distrib, ",")."];" ?>

    // ...
}); 
```

[对数组进行字符串化](http://php.net/manual/en/function.implode.php)并将 var 声明回显到 javascript。

# objective-c - 循环中的异步块

> ID：12816761
> 
> 赞同：0
> 
> 时间：2012-10-10T10:04:38.630
> 
> 标签：objective-c, ios, asynchronous, cllocation

如何管理在循环中调用异步块？

我的代码被称为 n 次：

```
- (void) convertToCountries:(NSString*)time longitude:(NSString*)lon latitude:(NSString*)lat {

CLLocation *myLocation = [[CLLocation alloc] initWithLatitude:[lat doubleValue] longitude:[lon doubleValue]];

[geocoder reverseGeocodeLocation:myLocation
               completionHandler:^(NSArray *placemarks, NSError *error) {
                   NSLog(@"reverseGeocodeLocation:completionHandler: Completion Handler called!");

                   if (error){
                       NSLog(@"Geocode failed with error: %@", error);
                       return;
                   }

                   if(placemarks && placemarks.count > 0)
                   {
                       //do something
                       CLPlacemark *topResult = [placemarks objectAtIndex:0];
                       NSString *addressTxt = [NSString stringWithFormat:@"%@, %@ %@,%@ %@", [topResult country],
                                               [topResult subThoroughfare],[topResult thoroughfare],
                                               [topResult locality], [topResult administrativeArea]];
                       NSLog(@"%@",addressTxt);

                       NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
                       [formatter setDateFormat:@"yyyy-MM-dd"];

                       //Optionally for time zone converstions
                       [formatter setTimeZone:[NSTimeZone timeZoneWithName:@"..."]];

                       [DataOperations saveRecord:[topResult country] time:time];

                   }
               }];

} 
```

我需要从这些调用中收集输出数据。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T12:29:14.740

给你的对象一个属性，`BOOL dunloadin`.

然后，在完成块中，设置`self.dunloadin`为`YES`.

最后，您的循环应如下所示：

```
for (int i=0; i<10; i++)
{
    self.dunloadin = NO;
    [self convertToCountries:…];

    while (!self.dunloadin)
    {
        [[NSRunLoop mainRunLoop] runMode:NSDefaultRunLoopMode beforeDate:[NSDate distantFuture]];
    }
} 
```

但是，您可能需要考虑以不同的方式设计您的应用程序，这样就不需要像这样的杂乱无章了。

# objective-c - 关于 dlclose 与 iOS 上的捆绑包

> ID：12816764
> 
> 赞同：2
> 
> 时间：2012-10-10T10:04:47.517
> 
> 标签：objective-c, ios, constructor, bundle, dylib

*这是关于越狱开发的。我不是为 App Store 构建的，因为这显然不会被接受。*

在 iOS 上，我知道一旦加载，动态库 (.dylib) 就无法卸载，但我读到包（它们的可执行文件用 -bundle 编译）可以。

在我的项目中，这些捆绑包会根据需要经常加载/卸载。

`__attribute__((constructor))`当我打开捆绑包时，我正在被调用。但是`__attribute__((destructor))`，当我关闭时，我不是。

为什么没有卸载捆绑包？dlclose 返回 0。

# php - CURL 请求使 SSL 崩溃

> ID：12816765
> 
> 赞同：0
> 
> 时间：2012-10-10T10:04:52.267
> 
> 标签：php, ssl, curl

我注意到 PHP 中的 CURL 存在一个小问题。每当我请求`https://`连接时，它都会返回“false”，并且我在打开 PHP 页面时尝试访问的每个网站都报告有一个不受信任的证书。

这是我的请求方法：

```
private function request($url, $params, $method = "GET") {
        if ($method == "GET")
            $url = $this->structGET($url, $params);
        $ch = curl_init($url);
        curl_setopt($ch, CURLOPT_URL, $url);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
        if (isset($_SERVER['HTTP_USER_AGENT'])) {
            curl_setopt($ch, CURLOPT_USERAGENT, $_SERVER['HTTP_USER_AGENT']);
        } else {
            curl_setopt($ch, CURLOPT_USERAGENT, 'Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) AppleWebKit/525.13 (KHTML, like Gecko) Chrome/0.X.Y.Z Safari/525.13.');
        }
        curl_setopt($ch, CURLOPT_TIMEOUT, 30);

        $header[] = 'Accept-Language: EN';
        curl_setopt($ch, CURLOPT_HTTPHEADER, $header);
        if ($method == "POST") {
            curl_setopt($ch, CURLOPT_POST, true);
            if ($params)
                curl_setopt($ch, CURLOPT_POSTFIELDS, $params);
        }
        $result = curl_exec($ch);
        curl_close($ch);
        return $result;
    } 
```

这就是我尝试访问 Facebook 时 Chrome 返回的内容。

> **该站点的安全证书不受信任！**
> 
> 您试图访问 www.facebook.com，但服务器提供了一个由您的计算机操作系统不信任的实体颁发的证书。这可能意味着服务器已经生成了自己的安全凭证，谷歌浏览器不能依赖这些凭证来获取身份信息，或者攻击者可能试图拦截您的通信。您无法继续，因为网站运营商已要求提高此域的安全性。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:40:50.450

不要使用禁用证书验证的技术。虽然他们可能在表面上“解决”您的问题，但他们只是忽略了问题，而不是解决问题。永远不要在生产代码中这样做。

最可能的原因是您所在的网络有 MITM 公司代理。无论这些设备多么合法，它们实际上都是 MITM 设备。

他们所做的是将原始证书替换为使用自己的内部 CA 颁发的证书，以便能够监控流量。

如果此设备由您的网络管理员合法设置，您应该能够获得其 CA 证书（在这种情况下，CA 证书通常会安装在集中管理的所有最终用户计算机上）。

作为开发人员，您很可能已经安装了自己的机器，并且可能没有安装 CA 证书。向您的网络管理员询问该 CA 证书，并使用浏览器使用的证书和 PHP 中的 curl（两个不同位置）安装它。curl 默认位置可能取决于您使用的系统，但您也可以通过`CURLOPT_CAINFO`.

据推测，您正在本地网络中进行开发，但可能会在完成后将该服务部署到不同的网络上。确保这是可配置的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:13:27.163

是的，当 cURL 尝试查看 SSL 是否经过验证时，就会发生这种情况。Facebook 通常有一个经过验证的签名，但可能是因为网络，它返回无效（在我的情况下发生：使用 fortiguard 代理，facebook 被阻止！）

因此，您可以做的是，您可以选择完全忽略该错误。

```
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0); 
```

那应该解决它。但是，如果您想**正确**修复它，那么您可能应该使用代理或其他东西或为服务器获取证书（如果它是您的）。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-10T10:14:49.157

您需要为 SSL 添加这两行

```
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE);     
curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 2); 
```

# c# - JQuery 或 C# 检查“已检查”多复选框何时为真

> ID：12816767
> 
> 赞同：-5
> 
> 时间：2012-10-10T10:04:54.107
> 
> 标签：c#, jquery, asp.net

我从数据库中选择数据并通过 asp:Repeater 绑定数据。我在 ItemTemplate 中创建复选框并从数据库接收数据。当我“选中”任何行上的复选框时，我想更新数据库中的数据。

protected void myRepeater_ItemDataBound（对象发送者，RepeaterItemEventArgs e）{

```
 //*** Level ID ***//
        Label lblLevelID = (Label)(e.Item.FindControl("lblLevelID"));
        if ((e.Item.FindControl("lblLevelID") != null))
        {
            lblLevelID.Text = DataBinder.Eval(e.Item.DataItem, "LevelID").ToString();
            strLevelID = lblLevelID.Text;
            //MyArr[Convert.ToInt16(In), 0] = strLevelID;
        } 
```

...

```
<asp:Repeater id="myRepeater" runat="server" OnItemDataBound="myRepeater_ItemDataBound">
    <HeaderTemplate>
        <table border="1" style="font-size:12px;" width="800">
    </HeaderTemplate>
    <ItemTemplate>  
        <tr>
            <td align="left" width="25"><asp:Label id="lblLevelID" runat="server"></asp:Label>&nbsp;</td>
            <td align="left" width="350"><asp:Label id="lblLevelDesc" runat="server"></asp:Label>&nbsp;</td>
            <td align="left" width="25"><asp:Label id="lblChoiceID" runat="server"></asp:Label>&nbsp;</td>
            <td align="left" width="350"><asp:Label id="lblChoiceDesc" runat="server"></asp:Label>&nbsp;</td>
            <td align="center" width="50"><%--<input type="checkbox" id="chkSelected" OnCheckedChanged="chkSelected_OnCheckedChanged"  AutoPostBack="True" />--%>
            <asp:CheckBox ID="chkSelected" runat="server" />
            <asp:Label ID="lblTest" runat="server"></asp:Label>
            </td>
        </tr>           
    </ItemTemplate>
    </asp:Repeater> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:09:15.010

```
foreach (RepeaterItem rpItem in myRepeater.Items)
{
  CheckBox chkbx = rpItem.FindControl("chkSelected") as CheckBox;
  if (chkbx.Checked)
  {
    //your code here
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:56:36.530

使用 jQuery

```
<asp:CheckBox ID="chkSelected" runat="server" CssClass="sb" />

<script src="http://code.jquery.com/jquery.min.js" type="text/javascript" language="javascript"></script>

<script type="text/javascript">

$(document).ready(function() {

    if($(".cb").is(":checked"))
    {
        alert("Well done!");
    }

});

</script> 
```

如果要注册更改事件：

```
<script type="text/javascript">

$(document).ready(function() {

    $(".cb").live("change", function(){

        if($(this).is(":checked"))
        {
            alert("I am checked!");
        }
        else
        {
            alert("I am unchecked!");
        }

    });

});
</script> 
```

希望能帮助到你

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T02:49:14.667

现在我使用这段代码

```
 protected void myRepeater_ItemDataBound(Object sender, RepeaterItemEventArgs e)
    { 

        //*** Level ID ***//
        Label lblLevelID = (Label)(e.Item.FindControl("lblLevelID"));
        if ((e.Item.FindControl("lblLevelID") != null))
        {
            lblLevelID.Text = DataBinder.Eval(e.Item.DataItem, "LevelID").ToString();
            strLevelID = lblLevelID.Text;
            //MyArr[Convert.ToInt16(In), 0] = strLevelID;
        }
        //*** Selected ***//
        CheckBox chkSelected = (CheckBox)(e.Item.FindControl("chkSelected"));
        if ((e.Item.FindControl("chkSelected") != null))
        {
            if (DataBinder.Eval(e.Item.DataItem, "Selected").ToString() == "True")
            {
                chkSelected.Checked = true;
                if (chkSelected.Checked)
                {
                    UpdateData0();
                }
            }
            else
            {
                chkSelected.Checked = false;
                if (chkSelected.Checked)
                {
                    UpdateData1();
                }
            }

        } 
```

它显示来自数据库的数据，但当我在复选框上“选中”时没有更新。

# java - 使用带有自定义登录页面的 CAS

> ID：12816772
> 
> 赞同：2
> 
> 时间：2012-10-10T10:05:10.300
> 
> 标签：java, spring, spring-security, cas

我已经在我的应用程序中实现了 jasig-CAS，但现在我想了解更多。是否可以做我自己的登录页面，然后它会自动（在后台）在 CAS 中对用户进行身份验证。所以接下来的步骤是：

1.  用户进入登录页面
2.  用户输入他的凭据
3.  如果身份验证成功，用户的凭据将被发送到 CAS，因此 CAS 在其系统中对用户进行身份验证并提供票证（用户不应看到任何 CAS 页面）
4.  用户访问受保护的页面

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-28T00:44:26.490

您可以使用 REST API。 [CAS 休息](https://wiki.jasig.org/display/CASUM/RESTful+API)

我将它用于登录，即 Drupal。由于您没有重定向，因此用户看不到任何 CAS 页面。

因此，步骤将是：

1.  用户进入登录页面。
2.  用户输入凭证。
3.  您的应用程序通过 REST 将用户名和密码发布到 CAS。
4.  您的应用程序在成功进行身份验证后会返回一个 Ticket Granting Ticket。

此时您可以将他登录到您的应用程序（他已经登录到 CAS）或验证您收到的票证然后登录他。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-11-07T15:38:23.613

更新后的 CAS 文档有一个关于**用户界面定制**的页面：

[https://apereo.github.io/cas/4.2.x/installation/User-Interface-Customization.html](https://apereo.github.io/cas/4.2.x/installation/User-Interface-Customization.html)

请注意，自原始帖子和其他一些答案以来，CAS 站点和文档已经移动。

CAS 主页 - [https://apereo.github.io/cas/4.2.x/index.html](https://apereo.github.io/cas/4.2.x/index.html)

Github 上的 CAS - [https://github.com/apereo/cas](https://github.com/apereo/cas)

旧版 CAS Wiki - [https://wiki.jasig.org/display/CAS/Home](https://wiki.jasig.org/display/CAS/Home)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-03-22T13:11:43.390

不建议使用外部表单输入凭据，这会扩大攻击面。见[https://apereo.github.io/cas/5.0.x/planning/Security-Guide.html](https://apereo.github.io/cas/5.0.x/planning/Security-Guide.html)

如果有人破坏了您的外部表单应用程序，攻击者就可以访问所有 SSO 连接的系统。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-08-15T08:27:55.390

1.  我认为您需要获得一份 CAS 官方客户端源代码（cas-client-core），并确保您可以编译它。

2.  您需要更改客户端源代码中 org.jasig.cas.client.authentication.AuthenticationFilter 中的 doFilter() 函数代码，如下所示。

    ```
    final HttpServletRequest request = (HttpServletRequest) servletRequest;
    final HttpServletResponse response = (HttpServletResponse) servletResponse;
    final HttpSession session = request.getSession(false);
    final Assertion assertion = session != null ? (Assertion) session.getAttribute(CONST_CAS_ASSERTION) : null;

    if(request.getServletPath().toLowerCase().equals("/caslogout.jsp"))
    {
        // Set the custom client login page when you logout from CAS server.
        request.setAttribute("casServerLogoutUrl",casServerLoginUrl.replace("login","logout"));
        request.setAttribute("customServerLoginUrl",customServerLoginUrl);

        //We must remove the attribute of CONST_CAS_ASSERTION manually
        if(session!=null)
            session.removeAttribute(CONST_CAS_ASSERTION);

        filterChain.doFilter(request, response);
        return;
    }

    if (assertion != null) {
        filterChain.doFilter(request, response);
        return;
    }

    // Although the custom login page must called caslogin, here you can change it.
    if(request.getServletPath().toLowerCase().equals("/caslogin.jsp"))
    {
        //Set the a default parameter to the caslogin
        request.setAttribute("defaultServerIndexUrl",defaultServerIndexUrl);
        request.setAttribute("casServerLoginUrl",casServerLoginUrl);
        filterChain.doFilter(request, response);
        return;
    }

    final String serviceUrl = constructServiceUrl(request, response);
    final String ticket = CommonUtils.safeGetParameter(request,getArtifactParameterName());
    final boolean wasGatewayed = this.gatewayStorage.hasGatewayedAlready(request, serviceUrl);

    if (CommonUtils.isNotBlank(ticket) || wasGatewayed) {
        filterChain.doFilter(request, response);
        return;
    }

    final String modifiedServiceUrl;

    log.debug("no ticket and no assertion found");
    if (this.gateway) {
        log.debug("setting gateway attribute in session");
        modifiedServiceUrl = this.gatewayStorage.storeGatewayInformation(request, serviceUrl);
    } else {
        modifiedServiceUrl = serviceUrl;
    }

    if (log.isDebugEnabled()) {
        log.debug("Constructed service url: " + modifiedServiceUrl);
    }

    final String urlToRedirectTo = CommonUtils.constructRedirectUrl(this.casServerLoginUrl, getServiceParameterName(), modifiedServiceUrl, this.renew, this.gateway);

    if (log.isDebugEnabled()) {
        log.debug("redirecting to \"" + urlToRedirectTo + "\"");
    }

    // Add a custom server login url parameter to the CAS login url.
    response.sendRedirect(urlToRedirectTo+"&customLogin=custom&customLoginPage="+customServerLoginUrl); 
    ```

3.  将自己编译的 cas-client-core 添加到客户端 webapp 的依赖中。

4.  将 caslogin.jsp 添加到您的客户端 webapp。

```
 <form method="GET" action="<%=request.getAttribute("casServerLoginUrl")%>">
    <p>Username : <input type="text" name="username" /></p>
    <p>Password : <input type="password" name="password" /></p>
    <p><input type="submit" value="Login" /></p>
    <input type="hidden" name="auto" value="true" />
    <input type="hidden" name="service" value="<%=request.getParameter("service")==null?request.getAttribute("defaultServerIndexUrl"):request.getParameter("service")%>" />
```

5.  在客户端 webapp 中编辑 web.xml。在 CASFilter 的过滤器中添加以下代码

```
<init-param>
    <param-name>defaultServerIndexUrl</param-name>
    <param-value>http://clientip:port/webappname/index.jsp</param-value>
</init-param>
<init-param>
    <param-name>customServerLoginUrl</param-name>
    <param-value>http://clientip:port/webappname/caslogin.jsp</param-value>
</init-param>
```

6.  在 CAS 服务器 Web 应用程序中编辑 cas-server-webapp/WEB-INF/view/jsp/default/ui/casLoginView.jsp 中的代码。

```
<%
  String auto=request.getParameter("auto");
  String customLogin=request.getParameter("customLogin");

  if(auto!=null&&auto.equals("true"))
  {
    %>
    <html>
    <head>
      <script language="javascript">
        function doAutoLogin()
        {
          document.forms[0].submit();
        }
      </script>
    </head>
    <body onload="doAutoLogin()">
    <form id="credentials" method="POST" action="<%=request.getContextPath()%>/login?service=<%=request.getParameter("service")%>">
      <input type="hidden" name="lt" value="${loginTicket}" />
      <input type="hidden" name="execution" value="${flowExecutionKey}" />
      <input type="hidden" name="_eventId" value="submit" />
      <input type="hidden" name="username" value="<%=request.getParameter("username")%>" />
      <input type="hidden" name="password" value="<%=request.getParameter("password")%>" />
      <input type="hidden" name="login_form" value="<%=request.getParameter("login_form")%>" />
      <input type="hidden" name="rememberMe" value="true" />
      <input type="submit" value="Submit" style="visibility: hidden" />
    </form>
    </body>
    </html>

    <%
}
else if(customLogin!=null&&customLogin.equals("custom"))
{  
  response.sendRedirect(request.getParameter("customLoginPage")+"?service="+request.getParameter("service"));
%>
<%
}
else
{%>
<!-- The Orgin Source Code of casLoginView.jsp!!!!!!!!!!!!!!!!!!!!!!!!! -->
<%}%>
```

7.  现在您可以使用自己的 caslogin.jsp 登录 cas！

我还制作了一个关于如何使用客户端自定义登录屏幕而不是服务器登录屏幕登录 cas 的示例。[您可以在https://github.com/yangminxing/cas-custom-login-page](https://github.com/yangminxing/cas-custom-login-page)上下载它

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-11-07T15:23:03.003

如果您不需要 SSO，那么可以，正如 rexposadas 所说，使用 CAS REST。这是一个很好的 java 实现示例：[http ://www.bmchild.com/2014/05/a-simple-cas-java-rest-client-example.html](http://www.bmchild.com/2014/05/a-simple-cas-java-rest-client-example.html)

但这不适用于 SSO，换句话说，您将无法在 appA 中登录，然后在 appB 中自动登录。这是因为 cas 登录页面创建了一个用于 SSO 的 TGT cookie。通过 REST，您不会创建该 cookie。

但同样，如果您不需要 SSO，那么 CAS REST 就可以了。

# scala - 在Scala中将for循环转换为while循环

> ID：12816774
> 
> 赞同：1
> 
> 时间：2012-10-10T10:05:12.867
> 
> 标签：scala

`while`使用构造编写以下代码的替代方法是什么？

```
val list = List(1,2,3)                            
for (v <- list) println(v) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-10T10:23:11.853

```
val list = List(1,2,3)  
val iter = list.iterator
while (iter.hasNext) println(iter.next()) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-10T10:08:52.887

一个可能的命令式遍历：

```
var current = list
while(!current.isEmpty) {
   println(current.head)
   current = current.tail
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T10:11:47.223

```
val list = List(1,2,3)
var i = 0
while (i < list.length) {
  println(list(i))
  i += 1
} 
```

# java - 无法找到错误的根本原因（GWT-Umbrella 异常）

> ID：12816777
> 
> 赞同：0
> 
> 时间：2012-10-10T10:05:27.600
> 
> 标签：java, exception, gwt

我正在构建一个登录应用程序。每次单击*按钮后，我都会遇到***Umbrella Exception** ....无法找到根本原因。我提供代码和错误列表。请向我提供修复程序。使用**GWT-RPC**

 **** * *

*客户端* 1\. VinLog.java

```
package com.login.vinayak.client;

import com.google.gwt.core.client.EntryPoint;

public class VinLog implements EntryPoint {
    private GreetingServiceAsync GreetingService = (GreetingServiceAsync) GWT.create(GreetingService.class);
    public void onModuleLoad() {
        GWT.setUncaughtExceptionHandler(new UncaughtExceptionHandler() {
            public void onUncaughtException(Throwable e) {
              Window.alert("uncaught: " +e.getMessage());
              Window.alert("uncaught: " + e.getMessage());
              String s = buildStackTrace(e, "RuntimeExceotion:\n");
              Window.alert(s);
              e.printStackTrace();
              System.out.println(e.getCause());
            }
        });
        RootPanel rootPanel = RootPanel.get();

        SimplePanel simplePanel = new SimplePanel();
        rootPanel.add(simplePanel, 0, 0);
        simplePanel.setSize("450px", "19px");

        Label lblLoginForm = new Label("LOGIN");
        lblLoginForm.setHorizontalAlignment(HasHorizontalAlignment.ALIGN_CENTER);
        simplePanel.setWidget(lblLoginForm);
        lblLoginForm.setSize("544px", "41px");

        Label lblUserName = new Label("User Name");
        rootPanel.add(lblUserName, 10, 124);

        Label lblPassword = new Label("Password");
        rootPanel.add(lblPassword, 10, 183);

        final TextBox textBox = new TextBox();
        textBox.setAlignment(TextAlignment.CENTER);
        rootPanel.add(textBox, 112, 114);
        textBox.setSize("139px", "18px");

        final PasswordTextBox passwordTextBox = new PasswordTextBox();
        rootPanel.add(passwordTextBox, 112, 173);
        passwordTextBox.setSize("139px", "18px");

        Button btnClickToEnter = new Button("Click to Enter");
        btnClickToEnter.addClickHandler(new ClickHandler() {
            public void onClick(ClickEvent event) {
                String j=textBox.getText();
                String k=passwordTextBox.getText();
                GreetingService.loginuser(j, k, new AsyncCallback<String>() {
                    public void onFailure(Throwable caught) {
                        Window.alert("welcome");
                        }
                    public void onSuccess(String result) {
                        Window.alert("try again");
                    }
                 });
            }
    });
        rootPanel.add(btnClickToEnter, 10, 229);

        final ListBox comboBox = new ListBox();
        comboBox.addChangeHandler(new ChangeHandler() {
            public void onChange(ChangeEvent event) {
                Object ob=comboBox.getElement(); 
                if(ob=="Guest") {
                    Window.alert("Username and Passowrd is: Guest007");
                }
            }               
        });
        comboBox.addItem("User");
        comboBox.addItem("Admin");
        comboBox.addItem("Guest");
        rootPanel.add(comboBox, 10, 51);
        comboBox.setSize("85px", "22px");

        Image image = new Image("home.gif");
        rootPanel.add(image, 310, 98);
        image.setSize("182px", "155px");
    }
    protected String buildStackTrace(Throwable t, String log) {
            if (t != null) {
                log += t.getClass().toString();
                log += t.getMessage(); 
                StackTraceElement[] stackTrace = t.getStackTrace();
                if (stackTrace != null) {
                  StringBuffer trace = new StringBuffer();

                  for (int i = 0; i < stackTrace.length; i++) {
                    trace.append(stackTrace[i].getClassName() + "." + stackTrace[i].getMethodName() + "("
                        + stackTrace[i].getFileName() + ":" + stackTrace[i].getLineNumber());
                  }
                  log += trace.toString();
                }
                Throwable cause = t.getCause();
                if (cause != null && cause != t) {
                  log += buildStackTrace(cause, "CausedBy:\n");
                }
              }
            return log;
    }
} 
```

2.GreetingService.java

```
package com.login.vinayak.client;

import com.google.gwt.user.client.rpc.RemoteService;
import com.google.gwt.user.client.rpc.RemoteServiceRelativePath;

@SuppressWarnings("unused")
public interface GreetingService extends RemoteService {
    public String loginuser(String username, String password);
} 
```

3.GreetinServiceAsync.java

```
package com.login.vinayak.client;

import com.google.gwt.user.client.rpc.AsyncCallback;

public interface GreetingServiceAsync {
    public void loginuser(String username, String password, AsyncCallback<String> callback);
} 
```

* * *

*服务器端*==> GreetingServiceImpl.java

```
package com.login.vinayak.server;

import com.login.vinayak.client.GreetingService;
import com.google.gwt.user.server.rpc.RemoteServiceServlet;
import java.sql.DriverManager;
import java.sql.ResultSet;
import com.google.gwt.dev.generator.ast.Statement;

public class GreetingServiceImpl extends RemoteServiceServlet implements GreetingService{
    private static final long serialVersionUID = 1L;

    public String loginuser(String username,String password) {
        try {
            java.sql.Connection con = null;
            Class.forName("org.hsqldb.jdbcDriver");
            con = DriverManager.getConnection("jdbc:hsqldb:hsql://localhost/", "SA", "");
            Statement st=(Statement) con.createStatement();
            ResultSet rs=((java.sql.Statement) st).executeQuery("select username,password from lgfrm");
            String user=rs.getString(1);
            String pass=rs.getString(2);
            boolean b1=username.equals(user);
            boolean b2= password.equals(pass);
            if(b1==b2==true) {
            return "success";
            }
            }
    catch (Exception ae) {}
        return "Success";
    }
} 
```

* * *

*web.xml*

```
> <?xml version="1.0" encoding="UTF-8"?> <!DOCTYPE web-app  PUBLIC
> "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
>   "http://java.sun.com/dtd/web-app_2_3.dtd">
> 
> <web-app> <servlet>
>       <servlet-name>GreetingServiceImpl</servlet-name>
>       <servlet-class>com.login.vinayak.server.GreetingServiceImpl</servlet-class>
> </servlet>    <servlet-mapping>
>       <servlet-name>GreetingServiceImpl</servlet-name>
>       <url-pattern>/Login</url-pattern>    </servlet-mapping>     <!-- Default page to serve -->  <welcome-file-list>
>       <welcome-file>VinLog.html</welcome-file>    </welcome-file-list>
> 
> </web-app> 
```

* * *

*错误列表*

> com.google.gwt.event.shared.UmbrellaException：捕获到一个或多个异常，请参阅 com.google.gwt.event.shared.HandlerManager.fireEvent(HandlerManager.java:129) 的 UmbrellaException#getCauses 中的完整集。 .gwt.user.client.ui.Widget.fireEvent(Widget.java:129) 在 com.google.gwt.event.dom.client.DomEvent.fireNativeEvent(DomEvent.java:116) 在 com.google.gwt.user .client.ui.Widget.onBrowserEvent(Widget.java:177) 在 com.google.gwt.user.client.DOM.dispatchEventImpl(DOM.java:1351) 在 com.google.gwt.user.client.DOM.dispatchEvent (DOM.java:1307) 在 sun.reflect.GeneratedMethodAccessor33.invoke(Unknown Source) 在 sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) 在 java.lang.reflect.Method.invoke(Unknown Source) 在 com.google。 gwt.dev.shell.MethodAdaptor.invoke(MethodAdaptor.java:103) 在 com.google.gwt.dev.shell.OophmSessionHandler.invoke(OophmSessionHandler.java:172) 在 com.google.gwt 的 com.google.gwt.dev.shell.MethodDispatch.invoke(MethodDispatch.java:71) .dev.shell.BrowserChannelServer.reactToMessagesWhileWaitingForReturn(BrowserChannelServer.java:337) at com.google.gwt.dev.shell.BrowserChannelServer.invokeJavascript(BrowserChannelServer.java:218) at com.google.gwt.dev.shell.ModuleSpaceOOPHM.doInvoke (ModuleSpaceOOPHM.java:136) 在 com.google.gwt.dev.shell.ModuleSpace.invokeNative(ModuleSpace.java:561) 在 com.google.gwt.dev.shell.ModuleSpace.invokeNativeObject(ModuleSpace.java:269) 在com.google.gwt.dev.shell.JavaScriptHost.invokeNativeObject(JavaScriptHost.java:91) 在 com.google.gwt.core.client.impl.Impl.apply(Impl.java) 在 com.google.gwt.core。 client.impl.Impl。entry0(Impl.java:213) at sun.reflect.GeneratedMethodAccessor31.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at com.google .gwt.dev.shell.MethodAdaptor.invoke(MethodAdaptor.java:103) 在 com.google.gwt.dev.shell.MethodDispatch.invoke(MethodDispatch.java:71) 在 com.google.gwt.dev.shell.OophmSessionHandler .invoke（OophmSessionHandler.java:172）shell.OophmSessionHandler.invoke(OophmSessionHandler.java:172)shell.OophmSessionHandler.invoke(OophmSessionHandler.java:172)

****** *** ** *** ** ***附加****错误原因***列表******* ****** ***** ** *** *********

 **> 原因：com.google.gwt.user.client.rpc.ServiceDefTarget$NoServiceEntryPointSpecifiedException：服务实现 URL 未在 com.google.gwt.user.client.rpc.impl.RemoteServiceProxy.doPrepareRequestBuilderImpl(RemoteServiceProxy.java:430) 处指定com.google.gwt.user.client.rpc.impl.RemoteServiceProxy.doInvoke(RemoteServiceProxy.java:368) 在 com.google.gwt.user.client.rpc.impl.RemoteServiceProxy$ServiceHelper.finish(RemoteServiceProxy.java:74 ) 在 com.login.vinayak.client.GreetingService_Proxy.loginuser(GreetingService_Proxy.java:34) 在 com.login.vinayak.client.VinLog$2.onClick(VinLog.java:82) 在 com.google.gwt.event.dom .client.ClickEvent.dispatch(ClickEvent.java:54) 在 com.google.gwt.event.dom.client.ClickEvent.dispatch(ClickEvent.java:1) 在 com.google.gwt.event.shared.GwtEvent.dispatch （Gwt事件。java:1) 在 com.google.web.bindery.event.shared.EventBus.dispatchEvent(EventBus.java:40) 在 com.google.web.bindery.event.shared.SimpleEventBus.doFire(SimpleEventBus.java:193)在 com.google.web.bindery.event.shared.SimpleEventBus.fireEvent(SimpleEventBus.java:88) 在 com.google.gwt.event.shared.HandlerManager.fireEvent(HandlerManager.java:127)

* * *

请为我提供 FIX...TY

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T07:43:13.440

......你有它：`Service implementation URL not specified...`

您需要以某种方式告诉 GWT RPC 调用应该去往后端的哪个位置。您可以使用`@RemoteServiceRelativePath`服务接口上的注释或以编程方式在`ServiceDefTarget`实例（这实际上是您的异步​​服务实例）上执行此操作。

干杯，*****

# image - 无法在 Magento 中浏览或上传产品图片

> ID：12816780
> 
> 赞同：-3
> 
> 时间：2012-10-10T10:05:37.187
> 
> 标签：image, magento

我在本地 xamp 服务器上安装了 Magento 1.7.0.2，但我是新手，无法浏览或上传产品图片。此外，当我单击图像选项卡时，浏览的选项卡会被隐藏。你能帮助我吗？谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:42:49.717

此问题可能是由于 Adob​​e Flash 播放器（冲击波）cras。重新启动浏览器或系统本身，如果没有解决，请尝试更新插件。

# c# - 忽略 KeyBinding 中的重复（按住键 - 只执行一次命令）

> ID：12816781
> 
> 赞同：2
> 
> 时间：2012-10-10T10:05:39.457
> 
> 标签：c#, wpf, xaml, mvvm, keyboard-shortcuts

我在我的 xaml 中使用 KeyBindings 声明了键盘快捷键。我想忽略重复，因为其中很少有关键持有。

我只找到了使用事件并检查“IsRepetition”的解决方案，这并不真正适合我的键绑定声明。

当然，我可以在命令定义本身中执行此操作并测量 2 次最后执行之间的时间差，但这让我无法区分多次按下和 1 次按住。

什么是仅在第一次按下时执行并在按住键时忽略其余部分的最佳方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T22:07:29.887

您正在尝试更改按钮的行为。最好为此使用代码。最简单的方法是将预览事件附加到窗口，如下所示：

```
<Window 
       ...
          PreviewKeyDown="HandlePreviewKeyDown"> 
```

然后在代码中像这样处理它：

```
 private void HandlePreviewKeyDown(object sender, KeyEventArgs e)
    {
        if (e.IsRepeat)
        {
            e.Handled = true;
        }
    } 
```

可悲的是，这将禁用任何重复行为，即使在表单托管的文本框中也是如此。这是个有趣的问题。如果我找到一种更优雅的方法，我会补充答案。

**编辑：**

好的，有两种方法可以定义键绑定。

```
 <Window x:Class="WpfApplication1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MainWindow" Height="350" Width="525">

    <Window.InputBindings>
        <KeyBinding x:Name="altD" Gesture="Alt+D" Command="{Binding ClickCommand}"/>
    </Window.InputBindings>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition/>
            <RowDefinition/>
        </Grid.RowDefinitions>
            <Button Content="_Click" Command="{Binding ClickCommand}" />
        <TextBox Grid.Row="1"/>
    </Grid>
</Window> 
```

上面的按钮会产生一次点击，因为您通过下划线隐含地请求了 Alt-C 手势：`_Click`内容。然后窗口具有到 Alt+D 的显式键绑定。

后面的代码现在应该适用于这两种情况，并且不应干扰常规重复：

```
protected override void OnPreviewKeyDown(KeyEventArgs e)
    {
        base.OnPreviewKeyDown(e);

        if (e.IsRepeat)
        {
            if (((KeyGesture)altD.Gesture).Matches(this, e))
            {
                e.Handled = true;
            }
            else if (e.Key == Key.System)
            {
                string sysKey = e.SystemKey.ToString();
                //We only care about a single character here: _{character}
                if (sysKey.Length == 1 && AccessKeyManager.IsKeyRegistered(null, sysKey))
                {
                    e.Handled = true;
                }
            }
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:12:52.917

我会说，如果您创建一个非常简单的状态机，它将对 KeyDown 事件上的 KeyBinding 采取操作，并且会忽略所有其他输入，直到触发 KeyUp 事件以赋予 KeyBinding 一个“一次性”行为。

[http://msdn.microsoft.com/en-us/library/system.windows.forms.control.keyup.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.keyup.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-05-06T13:55:57.047

使用 keyUp 方法而不是 KeyDown。

# android - Android中的apk签名和使用keytool的区别

> ID：12816787
> 
> 赞同：2
> 
> 时间：2012-10-10T10:05:45.410
> 
> 标签：android, signature, keytool

我目前正在使用此代码在 Android 中获取我的 apk 文件的签名

```
PackageManager pm = getPackageManager(); 
try { 
        PackageInfo info = pm.getPackageInfo(getPackageName(), PackageManager.GET_SIGNATURES); 
        Signature[] sig = info.signatures; 
        String sigstring = new String(sig[0].toChars()); 
        //Do something with signature. 
        System.out.println("Signature: " + sigstring);
        Log.i("TAG", "Signature: " + sigstring); 
        Toast.makeText(this, "Signature: " + sigstring, Toast.LENGTH_LONG).show();
} catch (NameNotFoundException e) { 
        e.printStackTrace(); 
} 
```

这给了我输出

```
10-10 10:00:58.012: I/TAG(313): Signature: 308201e53082014ea0030201020204501829fd300d06092a864886f70d01010505003037310b30090603550406130255533110300e060355040a1307416e64726f6964311630140603550403130d416e64726f6964204465627567301e170d3132303733313138353435335a170d3432303732343138353435335a3037310b30090603550406130255533110300e060355040a1307416e64726f6964311630140603550403130d416e64726f696420446562756730819f300d06092a864886f70d010101050003818d0030818902818100d405c1549373bb8479ab7818793085dc49813aff9ed901699b457b23afff5df817f1bbcdd4da89a600a87b5785c870ad9ee1c54a3ce25184a0da7364953d0cd9e8965c9977854bd60dbd3e7a84c4daf525ca2816d33c40265b2563cb170a8cad10555a77700ce5daabeda5ee2829066747f5635ca740eceec714a53870f7233f0203010001300d06092a864886f70d0101050500038181005ac282bf6d158538db92fa32fadf431bf9631ecb0944d0934f096fdda53f510aaaa4c0ad425e497a94c4eba45136be01efe60b8379f0f1540b634fbcfd776f0b0fd52910f947f05593735d7b64c001d312dbf7006ba2c91190fbc7cea0098e44b45d46ca0248157979d757c2ee10e8cf8cfd4dbcaa5028d3449c1b5b72f68cba 
```

但是如果我在同一个apk文件上使用keytool，我会得到这个作为签名

```
C:\Users\Random>keytool -printcert -file C:\Users\Random\Desktop\CERT.RSA
Owner: CN=Android Debug, O=Android, C=US
Issuer: CN=Android Debug, O=Android, C=US
Serial number: 501829fd
Valid from: Wed Aug 01 02:54:53 SGT 2012 until: Fri Jul 25 02:54:53 SGT 2042
Certificate fingerprints:
         MD5:  39:A8:DB:4D:46:03:C5:22:18:0A:BC:18:C8:4C:39:D8
         SHA1: 88:6A:33:FF:81:18:5F:E5:A4:07:D7:8C:73:01:2D:23:A6:E5:F0:34
         Signature algorithm name: SHA1withRSA
         Version: 3 
```

这两个签名有什么区别？以及如何获得与使用 PC 在 Android 中获得的值相同的值

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-06T11:47:46.093

通过获得的签名`PackageManager.getPackageInfo`是 DER 格式的证书本身（通常？）。
该文件`META-INF/CERT.RSA`是一个 pkcs7 容器，包含这些证书。

# c# - EF代码优先：继承dbcontext创建两个数据库

> ID：12816792
> 
> 赞同：8
> 
> 时间：2012-10-10T10:06:06.210
> 
> 标签：c#, .net, entity-framework, ef-code-first, dbcontext

我正在尝试创建一个基本 dbcontext，其中包含将始终在多个项目中重用的所有常见实体，如页面、用户、角色、导航等。

在这样做时，我有一个 ContextBase 类，它继承了 DbContext 并定义了我想要的所有 DbSet。然后我有一个继承 ContextBase 的 Context 类，我在其中定义了项目特定的 DbSet。类定义如下：

```
public class ContextBase : DbContext
{
    public virtual DbSet<User> Users { get; set; }
    //more sets

    protected override void OnModelCreating(DbModelBuilder modelBuilder)
    {
        modelBuilder.Configurations.Add(new UsersConfiguration());
        //add more configurations
    }
}

public class Context : ContextBase
{
    public DbSet<Building> Buildings { get; set; }
    //some more project specific sets

    protected override void OnModelCreating(DbModelBuilder modelBuilder)
    {
        base.OnModelCreating(modelBuilder);
        modelBuilder.Configurations.Add(new BuildingsConfiguration());
        //add more project specific configs
    }
} 
```

在我的 global.asax 中：

```
Database.SetInitializer(new MigrateDatabaseToLatestVersion<Context, Configuration>()); 
```

其中 Configuration 是指继承 DbMigrationsConfiguration 并覆盖 Seed 方法的类。

这两个上下文类在同一个命名空间中定义，但跨程序集（以便我可以在多个现有项目中更新基础项目而不触及项目特定代码） - 不确定这是否相关。

**我的问题：** 运行此代码时，它工作正常，但是在查看数据库时，它实际上创建了两个不同的数据库！一个包含所有基本实体表，另一个包含基本表和自定义表。CRUD 操作仅在自定义版本上执行（这显然是我想要的），但为什么它也会创建另一个模式？

任何帮助表示赞赏，谢谢！

**更新：**

以下代码是我最终得到的。这并不理想，但它确实有效。我仍然希望获得有关改进方法的反馈，但同时我希望这有助于进一步推进这一过程。我真的不建议这样做！调试起来非常容易出错并且非常令人沮丧。我只是发布这个，看看是否有更好的想法或实现来实现这一点。

仍然存在的一个（但不是唯一的）问题是必须手动将 MVC 视图添加到项目中。我已经将它添加到Nuget包中，但是当VS连接到TFS时，应用一个包含这么多文件的nuget包需要2到3个小时。通过更多工作和自定义视图引擎，可以预编译视图（[http://blog.davidebbo.com/2011/06/precompile-your-mvc-views-using.html](http://blog.davidebbo.com/2011/06/precompile-your-mvc-views-using.html)）。

该解决方案分为基本框架项目和自定义项目（每个类别都包括自己的模型和存储库模式）。框架项目打包在 Nuget 包中，然后安装在任何自定义项目中，从而可以轻松添加任何项目的通用功能，如用户、角色和权限管理、内容管理等（通常称为样板）任何新项目。这允许在任何现有的自定义项目中迁移样板的任何改进。

自定义数据库初始化器：

```
public class MyMigrateDatabaseToLatestVersion : IDatabaseInitializer<Context>
{
    public void InitializeDatabase(Context context)
    {
        //create the base migrator
        var baseConfig = new FrameworkConfiguration();
        var migratorBase = new DbMigrator(baseConfig);
        //create the custom migrator
        var customConfig = new Configuration();
        var migratorCustom = new DbMigrator(customConfig);

        //now I need to check what migrations have not yet been applied
        //and then run them in the correct order
        if (migratorBase.GetPendingMigrations().Count() > 0)
        {
            try
            {
                migratorBase.Update();
            }
            catch (System.Data.Entity.Migrations.Infrastructure.AutomaticMigrationsDisabledException)
            {
                //if an error occured, the seed would not have run, so we run it again.
                baseConfig.RunSeed(context);
            }
        }
        if (migratorCustom.GetPendingMigrations().Count() > 0)
        {
            try
            {
                migratorCustom.Update();
            }
            catch (System.Data.Entity.Migrations.Infrastructure.AutomaticMigrationsDisabledException)
            {
                //if an error occured, the seed would not have run, so we run it again.
                customConfig.RunSeed(context);
            }
        }
    }
} 
```

框架的数据库迁移配置：

```
public class FrameworkConfiguration: DbMigrationsConfiguration<Repository.ContextBase>
{
    public Configuration()
    {
        AutomaticMigrationsEnabled = false;
    }

    public void RunSeed(Repository.ContextBase context)
    {
        Seed(context);
    }

    protected override void Seed(Repository.ContextBase context)
    {
        //  This method will be called at every app start so it should use the AddOrUpdate method rather than just Add.

        FrameworkDatabaseSeed.Seed(context);
    }
} 
```

自定义项目的数据库迁移配置：

```
public class Configuration : DbMigrationsConfiguration<Repository.Context>
{
    public Configuration()
    {
        AutomaticMigrationsEnabled = false;
    }

    public void RunSeed(Repository.Context context)
    {
        Seed(context);
    }

    protected override void Seed(Repository.Context context)
    {
        //  This method will be called at every app start so it should use the AddOrUpdate method rather than just Add.

        CustomDatabaseSeed.Seed(context);
    }
} 
```

自定义 DbContext

```
//nothing special here, simply inherit ContextBase, IContext interface is purely for DI
public class Context : ContextBase, IContext
{
    //Add the custom DBsets, i.e.
    public DbSet<Chart> Charts { get; set; }

    protected override void OnModelCreating(DbModelBuilder modelBuilder)
    {
        base.OnModelCreating(modelBuilder);

        //Assign the model configs, i.e.
        modelBuilder.Configurations.Add(new ChartConfiguration());
    }
} 
```

框架 DbContext：

```
//again nothing special
public class ContextBase: DbContext
{
    //example DbSet's
    public virtual DbSet<Models.User> Users { get; set; }
    protected override void OnModelCreating(DbModelBuilder modelBuilder);
} 
```

在 global.asax AppStart 中：

```
 //first remove the base context initialiser
        Database.SetInitializer<ContextBase>(null);
        //set the inherited context initializer
        Database.SetInitializer(new MyMigrateDatabaseToLatestVersion()); 
```

在 web.config 中：

```
<connectionStrings>
    <!--put the exact same connection string twice here and name it the same as the base and overridden context. That way they point to the same database. -->
    <add name="Context" connectionString="Data Source=.\SQLEXPRESS; Initial Catalog=CMS2013; Integrated Security=SSPI;MultipleActiveResultSets=true;" providerName="System.Data.SqlClient"/>
    <add name="ContextBase" connectionString="Data Source=.\SQLEXPRESS; Initial Catalog=CMS2013; Integrated Security=SSPI;MultipleActiveResultSets=true;" providerName="System.Data.SqlClient"/>
</connectionStrings> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-10T10:58:59.733

（来自评论）

您正在`ContextBase`直接创建对象，显然就像`new T()`在具有泛型类型参数的泛型方法中`ContextBase`一样，因此任何初始化程序`ContextBase`也都会运行。为了防止创建`ContextBase`对象（如果它不应该直接实例化，如果应该始终使用派生上下文），您可以将类标记为`abstract`.

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-10T10:13:36.003

您`ContextBase`似乎也有一个初始化程序..您可以通过以下方式删除它

```
Database.SetInitializer<ContextBase>(null); 
```

# python - 从列表中创建元组的更优雅的方式

> ID：12816794
> 
> 赞同：1
> 
> 时间：2012-10-10T10:06:08.707
> 
> 标签：python, django, forms, tuples

我正在使用 Python 2.7 并希望在 Django 表单中创建一个选项。我在选择下拉列表中有我想要的项目的字典，但想知道处理这个问题的最 Pythonic 方式。

这是我的解决方案：

```
my_dict = {
    'AL' : 'Alabama',
    'AK' : 'Alaska',
    etc...
}

my_list = []
for value in (my_dict):
    my_list.append('({0}, {1})'.format(value, gateways.get(value)))

my_tuple = '({0})'.format(','.join(my_list))

print my_tuple

(('AL', 'Alabama'),('AK', 'Alaska'),etc...) 
```

这会起作用，但对我来说它看起来不是很优雅。有人可以提出更好的解决方案吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-10T10:07:48.003

事实上，你不一定需要一个元组来创建一个选择，一个列表：

```
>>> d = {'AL' : 'Alabama', 'AK' : 'Alaska',}
>>> d.items()
[('AK', 'Alaska'), ('AL', 'Alabama')] 
```

对于元组：

```
>>> tuple(d.items())
(('AK', 'Alaska'), ('AL', 'Alabama')) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:10:15.883

您可以使用列表推导来替换循环

```
my_list = ['({0}, {1})'.format(value, gateways.get(value)) for value in my_dict] 
```

甚至在生成时直接写成生成器表达式`my_tuple`

```
my_tuple = '({0})'.format(','.join('({0}, {1})'.format(value, gateways.get(value)) for value in my_dict)) 
```

# ssl - java.net.SocketException：JMS/JNDI 和 MQ 系列的管道损坏

> ID：12816797
> 
> 赞同：2
> 
> 时间：2012-10-10T10:06:13.683
> 
> 标签：ssl, ibm-mq

我配置`WebSphere MQ v6.0.1.1`为由 Java 客户端使用`JNDI`和`JMS`via访问`SSL`。我在不同的机器上尝试了客户端和服务器，在同一台机器上。我在客户端没有遇到同样的异常，但它与连接问题有关。在服务器端，我的日志中没有任何内容。

不同的机器客户端错误：`Thread pool thread #0, Exception sending alert: java.net.SocketException: Software caused connection abort: socket write error`

```
*** ServerHelloDone
*** Certificate chain
***
*** ClientKeyExchange, RSA PreMasterSecret, TLSv1
Thread pool thread #0, WRITE: TLSv1 Handshake, length = 141
SESSION KEYGEN:
PreMaster Secret:
0000: 03 01 DB 7F 1B 78 46 24   D1 B3 7F 8F E4 2B 2D 35  .....xF$.....+-5
0010: 1B EB FF C9 01 C9 EC 12   07 0F F9 88 A9 12 45 77  ..............Ew
0020: 22 AE 79 17 C2 9D 4C 97   04 3E BA 91 1F 14 68 44  ".y...L..>....hD
CONNECTION KEYGEN:
Client Nonce:
0000: 50 76 7B FB 0D 45 F0 8D   EF 54 E0 AB 2C 3A D4 7D  Pv...E...T..,:..
0010: 24 52 FB FB 4F F4 1D E4   CC 2C 4E BA 8B CA 3E 54  $R..O....,N...>T
Server Nonce:
0000: 00 00 00 00 8F 53 C4 4D   2F 2F 41 AA EB 0A 80 2D  .....S.M//A....-
0010: D0 E4 51 2A CC BC EE 94   92 BD CD E0 9B C9 EB 3D  ..Q*...........=
Master Secret:
0000: 9D 93 ED F3 8A 97 39 7F   71 5F 34 52 30 A6 8E 38  ......9.q_4R0..8
0010: BC 17 59 28 78 63 AA 66   63 D0 EE 1C C6 54 CA D1  ..Y(xc.fc....T..
0020: F2 F0 ED 7E D7 81 33 C6   E3 1B 7C 46 C0 FB C8 5C  ......3....F...\
Client MAC write Secret:
0000: 57 56 3D 05 B1 27 BE 56   A8 FD 07 64 0A 96 62 F2  WV=..'.V...d..b.
0010: AE AF B5 98                                        ....
Server MAC write Secret:
0000: F5 C7 B2 D2 79 11 90 6C   C8 FD 86 8B E5 AE 59 71  ....y..l......Yq
0010: B2 A7 AB D3                                        ....
Client write key:
0000: 54 FD FD 8B C2 B4 8B 3F   38 23 25 5A 8A 41 26 9B  T......?8#%Z.A&.
Server write key:
0000: 6D 9C C0 97 ED 21 3F 0E   0A FB E2 2B EE C0 5F 01  m....!?....+.._.
... no IV used for this cipher
Thread pool thread #0, WRITE: TLSv1 Change Cipher Spec, length = 1
*** Finished
verify_data:  { 182, 85, 56, 238, 250, 233, 155, 119, 224, 254, 23, 196 }
***
Thread pool thread #0, WRITE: TLSv1 Handshake, length = 36
Thread pool thread #0, READ: TLSv1 Change Cipher Spec, length = 1
Thread pool thread #0, READ: TLSv1 Handshake, length = 36
*** Finished
verify_data:  { 215, 140, 30, 150, 82, 161, 85, 160, 127, 189, 226, 74 }
***
%% Cached client session: [Session-1, SSL_RSA_WITH_RC4_128_SHA]
Thread pool thread #0, setSoTimeout(120000) called
Thread pool thread #0, WRITE: TLSv1 Application Data, length = 150
Thread pool thread #0, READ: TLSv1 Application Data, length = 56
Thread pool thread #0, WRITE: TLSv1 Application Data, length = 48
Thread pool thread #0, called close()
Thread pool thread #0, called closeInternal(true)
Thread pool thread #0, SEND TLSv1 ALERT:  warning, description = close_notify
Thread pool thread #0, WRITE: TLSv1 Alert, length = 22
Thread pool thread #0, Exception sending alert: java.net.SocketException: Software caused connection abort: socket write error 
```

同机客户端错误：`Thread pool thread #0, Exception sending alert: java.net.SocketException: Broken pipe`

似乎客户端在写入，而服务器已经关闭了连接。

**编辑：**

```
10/10/12  2:26:23 PM - Process(10995.12) User(mqm) Program(amqrmppa)
AMQ9631: The CipherSpec negotiated during the SSL handshake does not match the
required CipherSpec for channel 'SSL.CHANNEL'.

EXPLANATION:
There is a mismatch between the CipherSpecs on the local and remote ends of
channel 'SSL.CHANNEL'. The channel will not run until this mismatch is
resolved. The CipherSpec required in the local channel definition is
'RC4_SHA_US'. The name of the CipherSpec negotiated during the SSL handshake is
'RC4_SHA_US'. A code is displayed if the name of the negotiated CipherSpec
cannot be determined.
ACTION:
Change the channel definitions for 'SSL.CHANNEL' so the two ends have matching
CipherSpecs and restart the channel. If the certificate in use by one end of
the channel is a Global Server Certificate, then the negotiated CipherSpec may
not match that specified on either end of the channel. This is because the SSL
protocol allows a Global Server Certificate to automatically negotiate a higher
level of encryption. In these cases specify a CipherSpec which meets the
requirements of the Global Server Certificate.
----- amqccisa.c : 851 --------------------------------------------------------
10/10/12  2:26:23 PM - Process(10995.12) User(mqm) Program(amqrmppa)
AMQ9999: Channel program ended abnormally.

EXPLANATION:
Channel program 'SSL.CHANNEL' ended abnormally.
ACTION:
Look at previous error messages for channel program 'SSL.CHANNEL' in the error
files to determine the cause of the failure.
----- amqrmrsa.c : 468 -------------------------------------------------------- 
```

**编辑2：**

```
 1 : DIS CHANNEL(SSL.CHANNEL) SSLCIPH
AMQ8414: Display Channel details.
   CHANNEL(SSL.CHANNEL)                    CHLTYPE(SVRCONN)
   SSLCIPH(RC4_SHA_US) 
```

密码使用客户端使用`JMSAdmin`：

```
DEFINE QCF(QCF_NAME) SYNCPOINTALLGETS(YES) HOSTNAME(HOST) PORT(1414) TRANSPORT(client) QMANAGER(MYQMGR) CHANNEL(SSL.CHANNEL) SSLCIPHERSUITE(SSL_RSA_WITH_RC4_128_SHA) 
```

基于[SSL CipherSpecs 和 CipherSuites](http://publib.boulder.ibm.com/infocenter/wmqv6/v6r0/topic/com.ibm.mq.csqzaw.doc/uj34740_.htm) `RC4_SHA_US`似乎匹配`SSL_RSA_WITH_RC4_128_SHA`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T10:53:32.207

在与 QMgr 相同的主机上运行客户端时，有可能使用绑定模式（共享内存）而不是通过网络堆栈进行连接。由于绑定模式连接不使用网络堆栈，因此 SSL 没有任何区别。

假设客户端在这两种情况下都通过网络进行连接，那么客户端在一台或另一台服务器上的位置不会影响 SSL 连接，只是客户端配置在一个实例与另一个实例之间存在差异。客户端仍在通过网络堆栈并向 QMgr 的侦听器提交连接请求。客户端以相同的方式找到它的密钥库，并且 QMgr 看到的只是呈现给侦听器的连接请求。因此，如果您在两个客户端实例之间得到不同的结果，请查找配置差异。

我在 WMQ 上调试 SSL 连接的方法是按照以下顺序进行，确保每个步骤在进行下一步之前都有效：

1.  让通道在没有 SSL 的情况下运行。这将验证通道名称是否拼写正确、端点之间存在网络路由、QMgr 的侦听器正在运行以及客户端是否指向正确的端口。
2.  让通道在 SVRCONN 定义设置为 的情况下运行`SSLCAUTH(OPTIONAL)`。这将执行与您的浏览器类似的匿名 SSL 连接。QMgr 向客户端提供证书，但不要求返回。这验证了 QMgr 可以找到它的证书，并且客户端可以找到它的信任存储并正确验证 QMgr 的证书。
3.  将 SVRCONN 通道设置为`SSLCAUTH(REQUIRED)`。这现在需要客户端找到它的密钥库（在最后一步中它只需要它的信任库）并能够找到它的证书。它还要求 QMgr 能够验证客户端的证书。

最后两个步骤之间的差异有助于通过一次仅在一个方向上测试 SSL 凭证交换来隔离问题。

您提到发生这种情况时“日志中没有任何内容”。哪个日志？有两组错误日志。一个是服务器全局日志，`{WMQ home}/errors`另一个是 QMgr 错误日志`{WMQ home}/QMgrs/{QMgr name}/errors`。当 MQ 可以识别与错误关联的 QMgr 时，会将错误日志条目写入 QMgr 的错误日志。但是，当请求 SSL 连接时，MQ 直到SSL 连接完成*后才知道该连接请求了哪个 QMgr。*因此，在全局错误日志中报告了服务器端的许多 SSL 协商错误。

我建议执行上述步骤以确定哪个 SSL 凭证交换失败，然后在 QMgr 和全局错误日志文件中查找错误日志条目。如果这不能解决问题，请更新您的问题，注意过程中失败的步骤以及在哪个日志中标识的任何错误日志条目。

此外，MQ 的 V6 已于上个月停止服务。迁移到受支持的 WMQ 客户端和服务器版本将允许您打开 PMR，将提供更好的 Java/JMS 性能，并允许您使用更安全的密码，例如 SHA-2 哈希和由支持的新椭圆曲线加密GSKit 8\. 由于 WMQ V6 不支持，最多只会发布一个额外的 Fix Pack，之后该版本中的安全漏洞将不会得到解决。如果您使用 SSL，我认为安全性有些重要，并且您会希望使用在发现新漏洞时会收到修复的版本。

**更新**
响应关于全局服务器证书的问题更新，有必要了解 WMQ 如何实现 SSL/TLS。建立连接后，TLS 协商（如果您指定 SSL，WMQ 使用 SSL 密码执行 TLS 会话）遵循规范，并且规范允许对密码套件进行协商。当使用全局服务器证书时，证书可以指定可接受的最小密码强度，这会影响协商。

当 TLS 会话成功完成时，连接将被传递给 WebSphere MQ。只有这样 QMgr 才会检查通道参数，例如“请求的连接是什么 QMgr？” 或者，更重要的是，“连接的协商密码规范是否与通道定义匹配？” 通常，它会因客户端和服务器之间的不匹配而失败。使用全局服务器证书，它可能会因为协商的密码规范与*证书指定的*可接受的最小值不匹配而失败。

错误消息的意思是，客户端指定的密码套件可能与通道中指定的密码规范完全匹配，但仍然无法连接，因为全局服务器证书指定的最小密码强度大于所使用的密码强度客户和 QMgr。[*在信息中心的Cipherspec mismatches*](http://pic.dhe.ibm.com/infocenter/wmqv7/v7r5/topic/com.ibm.mq.doc/sy12930_.htm)中有更多关于此的信息，但在这种情况下，错误消息几乎与信息中心一样提供信息。

# c# - Windows 应用商店应用程序中的手动 SOAP 序列化

> ID：12816804
> 
> 赞同：0
> 
> 时间：2012-10-10T10:06:39.217
> 
> 标签：c#, serialization, windows-8, .net-4.5, windows-store-apps

这是我之前关于无法在 Windows 应用商店应用程序中删除 Expect100Continue 标头的问题的延续，供参考：[ServicePoint.Expect100Continue for Windows Store Apps](https://stackoverflow.com/questions/12799196/servicepoint-expect100continue-for-windows-store-apps)

我现在退后一步，现在使用 HttpClient 将 HttpContent 手动发布到 Web 服务。我正在使用这样的类：

```
[XmlRoot(ElementName = "myRootElement", Namespace = "myNamespace.com")]
public class MyRootElement
{
     [XmlElement(Namespace = "myNamespace.com", ElementName = "myParameter")]
     public string MyParameter { get; set; } 
} 
```

为了序列化和构造 HttpContent 的主体，我使用这样的序列化代码：

```
using (MemoryStream stream = new MemoryStream())
{
       XmlWriterSettings settings = new XmlWriterSettings();
       settings.OmitXmlDeclaration = true;
       settings.Encoding = Encoding.UTF8;
       settings.Indent = false;
       settings.NamespaceHandling = NamespaceHandling.Default;

       XmlSerializerNamespaces ns = new XmlSerializerNamespaces();
       ns.Add("", "myNamespace.com");

       using (XmlWriter xmlWriter = XmlWriter.Create(stream, settings))
       {
           XmlSerializer ser = new XmlSerializer(input.GetType());
           ser.Serialize(xmlWriter, input, ns);
       }

       var arr = stream.ToArray();
       body = Encoding.UTF8.GetString(arr, 0, arr.Length);
   }

   var result = "<s:Envelope xmlns:s=\"http://schemas.xmlsoap.org/soap/envelope/\"><s:Body xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\">" +
            body
            + "</s:Body></s:Envelope>"; 
```

但是输出是有缺陷的。命名空间只写在根元素上，而不写在参数元素上。有一个“？” 正文开头的字符我无法删除或找到来源。

另外我想知道是否有更好的方法，然后将字符串连接到 SOAP 信封中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T10:28:08.140

解决了“？” 通过用 StringBuilder 替换 MemoryStream 来解决问题。通过为 XmlRoot 和 XmlElements 使用两个不同的命名空间来解决命名空间问题。它感觉笨重且不必要的复杂，但“它有效”。

# user-interface - TCL/TK 中的 GUI 自动化测试 - 记录和回放 - Bwidget & TTK Tree

> ID：12816810
> 
> 赞同：0
> 
> 时间：2012-10-10T10:06:59.747
> 
> 标签：user-interface, automated-tests, tcl, tk

我的任务是自动化使用 TCL/TK 创建的 GUI 的表面测试，我一直在寻找不同的方法来完成它，我的第一步是测试按钮，我还必须测试一个非常冗长的数据树。我遇到了 Record the mouse button 然后重用它们来测试 GUI，但我无法理解原理，我无法理解什么是“Record”和“Reuse”，它可以用于测试 BWidget 树或 Ttk 树

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-13T18:37:35.323

*“ [Sikuli](http://www.sikuli.org/)是一种视觉技术，可以使用屏幕截图图像自动化和测试图形用户界面......”*

正如描述所说，**它是基于屏幕截图的**，因此它不知道正在测试的框架（Tcl/Tk）或对象类型（*“BWidget 树或 Ttk 树”*）。

我有时会使用它，它可以很好地实现它的承诺，但是您必须评估它是否适合您的需求。

# php - 使用 PHP 支持多种语言

> ID：12816814
> 
> 赞同：1
> 
> 时间：2012-10-10T10:07:02.990
> 
> 标签：php, sql, database-design, local

我想创建一个具有多种语言的应用程序。必须使用语言选项配置语言。

我找到了这些方法：

1.  制作数据库表的副本，一个用于默认语言，一个用于其他语言。这种方式适用于除为另一种语言添加一个附加列的常量表之外的所有表。2.为其他语言的所有表格添加附加列。“表格变得巨大，支持3或4种语言没有想象力！！”
2.  使用添加标签的语言文件，消息以不同的语言返回给用户！
3.  使用数据库而不是语言文件来支持提供标签、消息，这里是提供这种做法的[视频。](http://www.youtube.com/watch?v=cvwukAEIiX0)
4.  使用翻译 API 例如[Zend_translate](http://framework.zend.com/manual/1.12/en/zend.translate.adapter.html)来翻译常量数据、消息、标签和用户输入的默认语言的数据。

我应该使用什么最好的案例，同时，我需要它简单并且不需要很长时间的开发。

**注意**：网站添加了大量数据，这些数据会以不同的语言显示在网站上。这与翻译菜单项、标签等无关。这是关于网站内容的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T15:24:25.667

您正在创建一个网络应用程序，所以我的建议是：

您的应用程序存储在不同的域名上，也关闭了继承域的语言。

所以 yourapp.com 是英语，yourapp.nl 是荷兰语，yourapp.de 是德语等。

这是您必须做出的第一个决定。建议在仅制作网站时为不同国家/地区托管不同版本。但是，如果您想要一个域名托管，那么还有另一个决定。

案例一 - 自动语言检测女巫在语言选项之间进行选择

案例二 - 手动选择语言并将其存储在 cookie 中

案例三 - 上述两者的混合体

很难做到这一点，所以假设我们要手动选择。

然后有一些配置要做。当您使用时间和其他基于特定位置的功能时。所以让我们做一个 php switch 女巫包含所有支持的语言。然后你需要用定义或其他方法替换你的 php 中的所有文本输出，但我更喜欢定义。

像这样：

```
//this has to be saved somewhere in php file has lang.dutch.php and lang.eng.php

$lang['dutch']['error'] = 'Er is iets fout gegaan';
$lang['english']['error'] = 'Something went wrong';

//make up for language (has to be included in front of every script)

$witch = $_SESSION or $_COOCIE ['language'];

$lang['dutch'] = 'lang.dutch.php';
$lang['eng'] = 'lang.eng.php';

include("language/$lang[$switch]");

define("error", $lang[$witch]['error'], true);

//inside function witch uses defined variables

if(true){
  do something
}
else{
  echo error;
} 
```

当 cookie 或会话值是荷兰语时，结果是：

> Er is iets fout gegaan

# php - 是否可以将 html 或 php 代码作为变量值？

> ID：12816821
> 
> 赞同：0
> 
> 时间：2012-10-10T10:07:33.100
> 
> 标签：php, variables

我有一个 html 代码，包括 javascript / php 代码。我想用它作为变量的值。像这样：

```
function abc($content){
     $content='my html code ';
     //  rest of code
} 
```

它将输出为 txt 文件。

但出于这个原因，我的脚本会更大。有没有办法将该 html 代码提交到任何站点并在变量中放置一个链接以从该源获取脚本？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-10T10:11:17.060

您可以将所有 HTML 代码放入一个单独的文件中并使用[`file_get_contents()`](http://php.net/manual/en/function.file-get-contents.php)

```
function abc($content){
     $content= file_get_contents( 'myHTMLcode.htm' );
     //  rest of code
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:08:43.887

你可以使用 php`htmlentities()`或`htmlspecialchars()`函数

```
$variable=htmlentities("data"); 
```

# php - php odbc 双重执行错误

> ID：12816823
> 
> 赞同：2
> 
> 时间：2012-10-10T10:07:46.143
> 
> 标签：php, odbc, wamp

我正在使用带有 MSSQL Server 2008 的 Windows Server，并在单独的 Windows Server 上与 WAMP 建立 ODBC 连接。使用 PHP 执行数据库查询，当我运行 INSERT 查询时，我得到两个相同的行（唯一的标识符是分隔它们的唯一标识）。我已经多次检查它不是重复发布，所以它必须执行两次代码，或者发送两次，问题不在 PHP 端，这是肯定的。

例如，我运行以下代码：

```
$sql = "INSERT INTO mytable(aboutPerson, fromPerson, comment)
VALUES(1,5, 'hello')";
//.. create connection to db
odbc_exec($sql);
//.. close connection to db 
```

从中我在表中得到两个相同的行。这发生在几个表上。

为什么会发生这种情况，我该如何阻止它发生？使用 ODBC 将 WAMP 连接到 Microsoft SQL Server 是否是一个已知错误？

顺便说一句，我没有切换系统的选项。

任何帮助将不胜感激，谢谢！

编辑-

请求的实际示例。

```
$SQL = "INSERT INTO billboard (toPersonId, toGroupClass, toOfficeId, fromOfficeId,
fromType, fromId, header, msg, aboutPersonId, created, startMessageId,
fromPersonId, status, emailNote, smsNote) 
VALUES (1, 0, 1, 1,
2, 1, 'cccccccccccccc', 'cccccccccccccccc', '', GETDATE(), 0,
1, 0, 0, 0)";
$resource = odbc_connect(database server url, username, password);
$statement = odbc_exec($SQL, $resource);
return odbc_free_result($statement); 
```

我执行这段代码，我应该只将 1 行插入到表中。相反，我得到了两个相同的行（第一列除外，它是主键并且是标识）

```
111 1   0   1   1   2   1   cccccccccccccc  cccccccccccccccc    0   2012-10-10 12:56:27.773 0   1   0   0   0
110 1   0   1   1   2   1   cccccccccccccc  cccccccccccccccc    0   2012-10-10 12:56:27.773 0   1   0   0   0 
```

# authentication - Camel CXF 生产者基本身份验证

> ID：12816831
> 
> 赞同：1
> 
> 时间：2012-10-10T10:08:01.400
> 
> 标签：authentication, cxf, apache-camel

我是 Apache Camel 和 CXF 的新手，我正在尝试创建一个路由来查询需要基本身份验证的远程 WS 并指定 SoapAction 标头。我用 spring-ws 组件实现了它，但我想知道是否可以用 cxf 组件做同样的事情。

我目前的配置是：

> 路线构建器

```
from("file:src/test/resources/data?noop=true")
    .to("xquery:transform/search.xquery")
    .to("cxf:-----")
    .to("log:TestApp"); 
```

我读过一些关于管道的东西，但我不知道如何在我当前的骆驼上下文中配置它。

> 骆驼上下文

```
<camel:camelContext xmlns="http://camel.apache.org/schema/spring">
    <package>my.package</package>
</camel:camelContext> 
```

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-12T04:44:04.673

您可以使用 Camel HTTP 组件完成此操作：

[http://server.com?authMethod=Basic&authUsername=user&authPassword=password](http://server.com?authMethod=Basic&authUsername=user&authPassword=password)

但是，您可能希望利用 CXF 提供的功能。

您可以在骆驼中设置一个 CXF bean，然后设置一个 HTTP 管道以提供基本身份验证：

[http://cxf.apache.org/docs/client-http-transport-including-ssl-support.html#ClientHTTPTransport%28includingSSLsupport%29-BasicAuthentication](http://cxf.apache.org/docs/client-http-transport-including-ssl-support.html#ClientHTTPTransport%28includingSSLsupport%29-BasicAuthentication)

```
<conduit name="https://localhost:.*""
   xmlns:sec="http://cxf.apache.org/configuration/security"
   xmlns="http://cxf.apache.org/transports/http/configuration">
   <authorization>
      <sec:UserName>myuser</sec:UserName>
      <sec:Password>mypasswd</sec:Password>
      <sec:AuthorizationType>Basic</sec:AuthorizationType>
   </authorization>
 </conduit> 
```

HTTP Conduit 使用“name”参数链接到 Camel CXF bean。您可以像我上面那样将其设置为 URL，或者查看文档以将其设置为与您的服务匹配的 URI。

谢谢，约格什

# css - 像报纸一样的横向长文本

> ID：12816838
> 
> 赞同：2
> 
> 时间：2012-10-10T10:08:28.863
> 
> 标签：css

可以说我在 div 中有很长的 lorem ipsum。div 宽度为 30%，页面需要向上/向下滚动的文本太多。我想让它水平滚动：当文本超过 div 时，我希望它在第一列旁边的下一列中继续，就像几乎每份报纸等一样。

可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:12:31.357

[**使用 CSS3 多列布局**](https://developer.mozilla.org/en-US/docs/CSS/Using_CSS_multi-column_layouts)

在此处查看[演示页面](http://www.csscripting.com/css-multi-column/example1.php)

您现在可以在样式表中使用这些 CSS3 多列属性中的任何一个：

```
column-count: 3;
column-width: 300px;
column-gap:10px;
column-rule: 1px solid #999; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:16:02.090

你可以使用：`overflow-x: scroll`

# mouseevent - 如何正确检测JavaFX中哪些鼠标按钮被按下

> ID：12816847
> 
> 赞同：5
> 
> 时间：2012-10-10T10:08:49.970
> 
> 标签：mouseevent, javafx-2

我已经为我设置了一个监听器，`Pane`以便它检测鼠标左键和右键被按下。但是当我按住鼠标左键，然后按右键时，之前的操作似乎失去了它的效果！

我的代码：

```
root.setOnMouseDragged(new EventHandler<MouseEvent>(){
    @Override
    public void handle(MouseEvent t) {
        if(t.getButton() == MouseButton.PRIMARY) f1();
        if(t.getButton() == MouseButton.SECONDARY) f2();
    }
}); 
```

拿着 LMB 的时候我已经`f1()`跑了，但是当我推 RMB 时，似乎新事件完全覆盖了之前的事件：只`f2()`运行。

我怎样才能把这两个事件分开？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-10T10:57:16.410

`getButton()`一次只能返回一个值。它是最新按下的按钮。如果您需要检测多个鼠标按下，您需要使用相应的功能：

```
root.setOnMouseDragged(new EventHandler<MouseEvent>() {
    @Override
    public void handle(MouseEvent t) {
        if (t.isPrimaryButtonDown()) {
            System.out.println("rockets armed");
        }
        if (t.isSecondaryButtonDown()) {
            System.out.println("autoaim engaged");
        }
    }
}); 
```

# .htaccess - htaccess 重定向页面

> ID：12816848
> 
> 赞同：1
> 
> 时间：2012-10-10T10:08:52.653
> 
> 标签：.htaccess

是否可以通过以下方式在 de .htaccess-file 中进行重定向（->）？：

```
www.website.com/home -> www.website.com/somepage/home
www.website.com/contact -> www.website.com/somepage/contact
www.website.com/blog -> www.website.com/somepage/blog 
```

提前致谢，

亚伦

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:25:14.697

通过启用 mod_rewrite 和 .htaccess `httpd.conf`，然后将此代码放在您`.htaccess`的`DOCUMENT_ROOT`目录下：

```
Options +FollowSymLinks -MultiViews
# Turn mod_rewrite on
RewriteEngine On
RewriteBase /

RewriteRule ^(home|contact|blog)/?$ somepage/$1 [L,NC,R] 
```

# javascript - GridLayout 渲染后怎么办？

> ID：12816853
> 
> 赞同：0
> 
> 时间：2012-10-10T10:09:06.337
> 
> 标签：javascript, windows-8, winjs

我在我的 Windows8 JavaScript 应用程序中使用 listView 控件，并且我正在使用如下代码呈现页面上的项目：

```
 listView.layout = new ui.GridLayout({
                groupHeaderPosition: "top",
                groupInfo: this.groupInfo,
                itemInfo: this.computeItemSize
            }); 
```

现在我想在页面上呈现这些项目*后执行一些操作。*知道在哪里可以为此设置回调吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T12:14:21.380

创建渲染器有两种方式：声明一个 WinJS.Binding.Template，或者创建一个自定义渲染函数

**WinJS.Binding.Template**

要创建 WinJS.Binding.Template，您可以使用 HTML 标记来定义如何呈现项目的模板。在模板中，您使用数据绑定将 HTML 元素的属性与数据记录中的字段相关联

**自定义渲染函数** 您可以定义自定义渲染函数以将数据记录转换为其 HTML 表示。实现自定义渲染器的优点是： 它可以执行自定义元素回收。它可以提供占位符元素。它可以逐步渲染项目。如果需要，它可以对数据提出增量请求。

渲染函数采用以下参数： object renderItem(itemPromise,recycledElement) itemPromise：要渲染的项目的数据的 IItemPromise。对于同步数据源，IItemPromise 通常是完整的，但对于异步数据源，它将在未来某个时间完成。回收元素：上一个项目的 DOM，可以重用以显示新内容。渲染函数必须返回： 项目的 DOM 树的根元素。一个包含以下属性的对象： element：项目的 DOM 树的根元素，或者完成后将返回项目的根元素的承诺。renderComplete：当项目完全渲染时完成的 Promise。链接的全部信息如下 [http://msdn.microsoft.com/en-us/library/windows/apps/Hh781224.aspx#displaying_items_with_a_template_or_render_function](http://msdn.microsoft.com/en-us/library/windows/apps/Hh781224.aspx#displaying_items_with_a_template_or_render_function)

希望它有帮助...谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T13:49:00.613

在您的列表视图中，监听 loadingstatechanged 事件。

[http://msdn.microsoft.com/en-us/library/windows/apps/hh700709.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/hh700709.aspx)

# objective-c - 是否值得在 for 循环中预先计算条件？

> ID：12816856
> 
> 赞同：5
> 
> 时间：2012-10-10T10:09:17.717
> 
> 标签：objective-c, c

1.  `llvm`在使用or`gcc`编译器时，以下两个代码块在生成的机器代码方面是否有区别？
2.  这种优化什么时候真正值得，如果有的话？

未优化：

```
for (int i=0; i<array.count; i++) {
    //do some work
} 
```

优化：

```
int count = array.count;
for (int i=0; i<count; i++) {
    //do some work
} 
```

**编辑**：我应该指出它`array`是不可变的，并且`array.count`在循环执行期间不会改变。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-10T10:30:13.680

1.  你真的需要自己检查一下。我的猜测是发出的代码存在*差异*，但它可能取决于编译器和编译器选项，当然也可能取决于`array`.
2.  几乎从来没有，假设`array.count`与“一些工作”相比，评估几乎总是微不足道的。但是，测量它的方法是使用分析器（或等效的）并观察程序运行时的哪一部分花费在该代码行上。如果分析器是准确的，那是您希望通过更改它获得的*最大收益。*

假设`array.count`某些东西真的很慢，你碰巧知道总是会返回相同的结果，但编译器不知道。那么可能值得手动提升它。`strlen`被用作一个例子。*在实践中实际上*`strlen`有多慢是有争议的，但易于制造的示例可能运行得比他们需要的慢：

 *```
char some_function(char a) {
    return (a * 2 + 1) & 0x3F;
}

for (int i = 0; i < strlen(ptr); ++i) {
    ptr[i] = some_function(ptr[i]); // faster than strlen for long enough strings.
} 
```

你我都知道它`some_function`永远不会返回 0，因此字符串的长度永远不会改变。编译器可能看不到 的定义`some_function`，即使看到定义也可能没有意识到它的非零返回性很重要。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T13:29:21.803

史蒂夫杰索普的答案是一个很好的答案。我只想补充：

就个人而言，我总是使用优化版本。这只是在我的一组良好实践中将每个常量组件从循环中删除。这不是很多工作，它使代码更干净。这不是“过早的优化”，也不会引入任何问题或权衡。它使调试更容易（步进）。它可能会使代码更快。所以这对我来说是理所当然的。*

# .net - 在 C# 中以 Windows 形式获取屏幕大小（以像素为单位）

> ID：12816860
> 
> 赞同：21
> 
> 时间：2012-10-10T10:09:27.083
> 
> 标签：.net, winforms, c#-4.0

> **可能重复：**
> [如何从 C# winform 应用程序中检索屏幕分辨率？](https://stackoverflow.com/questions/2402739/how-to-retrieve-the-screen-resolution-from-a-c-sharp-winform-app)

如何获取 Windows 窗体中的屏幕大小？

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2012-10-10T10:11:01.213

检查[Screen](http://msdn.microsoft.com/en-us/library/system.windows.forms.screen.aspx)类及其属性 Bounds

```
Screen.PrimaryScreen.Bounds.Width;
Screen.PrimaryScreen.Bounds.Height;
Screen.PrimaryScreen.Bounds.Size; 
```

# c# - 移除数据源绑定

> ID：12816864
> 
> 赞同：1
> 
> 时间：2012-10-10T10:09:39.143
> 
> 标签：c#, xaml, windows-8

我有一个这样的页面

```
<Page.Resources>
    <!--
        這個頁面顯示的群組項目集合，繫結到完整項目
        清單的子集，因為群組中的項目無法虛擬化
    -->
    <CollectionViewSource
        x:Name="groupedItemsViewSource"
        Source="{Binding Groups}"
        IsSourceGrouped="true"
        ItemsPath="TopItems"
        d:Source="{Binding AllGroups, Source={d:DesignInstance Type=data:SampleDataSource, IsDesignTimeCreatable=True}}"/>

    <!-- TODO: 如果已在 App.xaml 中宣告金鑰 AppName，則刪除這一行 -->
    <x:String x:Key="AppName">我的應用程式</x:String>
</Page.Resources>

    <local:MyGridView            
        Grid.Row="1"
        x:Name="itemGridView"
        VerticalAlignment="Top"
        Padding="116,0,40,0"
        ItemsSource="{Binding Source={StaticResource groupedItemsViewSource}}"                    
        SelectionMode="Multiple"
        IsSwipeEnabled="True"
        IsRightTapEnabled="False"
        AutomationProperties.AutomationId="ItemGridView"
        AutomationProperties.Name="Items"
        ScrollViewer.IsHorizontalScrollChainingEnabled="False"                    
        IsItemClickEnabled="True"
        ItemTemplate="{StaticResource Standard180x240ItemTemplate}"
        SelectionChanged="itemGridView_SelectionChanged_1"
        ItemClick="ItemView_ItemClick">

        <local:MyGridView.ItemsPanel>
            <ItemsPanelTemplate>
                <VirtualizingStackPanel Orientation="Horizontal"/>
            </ItemsPanelTemplate>
        </local:MyGridView.ItemsPanel>
        <local:MyGridView.GroupStyle>
            <GroupStyle>
                <GroupStyle.HeaderTemplate>
                    <DataTemplate>
                        <Grid Margin="1,0,0,6" >
                            <Button AutomationProperties.Name="Group Title" Style="{StaticResource TextPrimaryButtonStyle}" >
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="{Binding Title}" Margin="3,-7,10,10" Style="{StaticResource GroupHeaderTextStyle}" />
                                </StackPanel>
                            </Button>
                        </Grid>
                    </DataTemplate>
                </GroupStyle.HeaderTemplate>
                <GroupStyle.Panel>
                    <ItemsPanelTemplate>
                        <!--<VariableSizedWrapGrid Orientation="Vertical" Margin="0,0,80,0"/>-->
                        <VariableSizedWrapGrid MaximumRowsOrColumns="8" ItemWidth="180" ItemHeight="240" Orientation="Vertical" Margin="0,0,80,0"/>
                    </ItemsPanelTemplate>
                </GroupStyle.Panel>
            </GroupStyle>
        </local:MyGridView.GroupStyle>
    </local:MyGridView> 
```

当我尝试删除以下代码中的选定项目时：

```
private void Delete()
{
    var group = SampleDataSource.GetGroup("myGroup");
    foreach (SampleDataItem item in itemGridView.SelectedItems)
    {
        group.Items.Remove(item);
    }
} 
```

我在这里的 App.gi.cs 文件中出现错误

```
 #if DEBUG && !DISABLE_XAML_GENERATED_BREAK_ON_UNHANDLED_EXCEPTION
        UnhandledException += (sender, e) =>
        {
            if (global::System.Diagnostics.Debugger.IsAttached)     
                global::System.Diagnostics.Debugger.Break();
        };
 #endif 
```

e.消息显示：

“同一包含故事板中的多个动画不能针对单个元素的相同属性。” 细绳

那么如何删除选定的项目？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-11T05:10:52.237

我真的很想知道为什么会这样，但我什么也没找到。但我有一个解决方案：

```
private void Delete()
{
    IList<SampleDataItem> selectedItems = new List<SampleDataItem>();
    foreach (SampleDataItem item in itemGridView.SelectedItems)
    {
        selectedItems.Add(item);
    }
    var group = SampleDataSource.GetGroup("myGroup");
    foreach (SampleDataItem item in selectedItems)
    {
        group.Items.Remove(item);
    }
} 
```

如果你发现了“为什么”，请告诉我！:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:23:07.717

我面前没有编译器，但是您是否尝试过类似的方法：

```
group.Items.RemoveAll(itemGridView.SelectedItems); 
```

而不是你的 foreach 循环。您可能会发现 SelectedItems 和 group 之间的交叉依赖是问题所在（循环外的删除也是如此）。

# facebook - 我网站上的“安装应用程序”按钮

> ID：12816871
> 
> 赞同：2
> 
> 时间：2012-10-10T10:09:53.033
> 
> 标签：facebook, facebook-graph-api, widget, facebook-apps, facebook-app-requests

我有一个托管在 Heroku 上的 Facebook 应用程序（画布），比如 xxxx.herokuapp.com/index.php。我在画布之外还有一个网站，比如 xxxx.herokuapp.com/welcome.php，我鼓励人们在其中了解更多有关该应用程序的信息并安装它。

是否有任何小部件“安装应用程序”将 Welcome.php 上的访问者重定向到 index.php，要求登录（如有必要）和安装应用程序的权限？

我目前正在使用“登录按钮”，但它只是执行登录步骤。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T10:39:02.387

不，没有官方`Install App`按钮，但您可以自己创建一个。

创建一个按钮，将访问者 onclick 重定向到 index.php 页面和 index.php 页面，检查用户是否已经登录，如果没有，则使用您的应用程序需要的任何权限将他们重定向到身份验证流，然后返回索引.php。

如果你想要一个片段，我可以发布它。

**编辑：**根据要求，这是片段：

`index.php`

```
<?php
# Path to facebook's PHP SDK, Assuming it's in the root.
# Download latest SDK from https://github.com/facebook/facebook-php-sdk
require_once("facebook.php");

# Facebook application config.
$config = array(
    'appId'      => 'YOUR_APP_ID',
    'secret'     => 'YOUR_APP_SECRET',
);

# Create a new facebook object.
$facebook = new Facebook($config);

# Current user ID.
$user_id = $facebook->getUser();

# Check to see if we have user ID.
if($user_id) {

  # If we have a user ID, it probably means we have a logged in user.
  # If not, we'll get an exception, which we handle below.
  try {

    # Get logged in user's profile info:
    $user_info = $facebook->api('/me');

  } catch(FacebookApiException $e) {
    // If the user is logged out, you can have a 
    // user ID even though the access token is invalid.
    // In this case, we'll get an exception, so we'll just redirect the user to login again here.
    $login_url = $facebook->getLoginUrl();
    echo ("<script>top.location = '$login_url';</script>");
    error_log($e->getType());
    error_log($e->getMessage());
  }   
} else {

  # No user, redirect user to login and give the required permissions to perform tasks.
  $login_url = $facebook->getLoginUrl();
  echo ("<script>top.location = '$login_url';</script>");
}
?> 
```

`welcome.php`示例：http: [//jsfiddle.net/9CCcB/](http://jsfiddle.net/9CCcB/)

我在这个例子中使用了[Nicolas Gallagher的 CSS3 Social Sign-in Buttons，你可以使用任何样式的按钮。](http://nicolasgallagher.com/lab/css3-social-signin-buttons/)

```
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Welcome</title>
  <style>
     /*
       CSS3 Social Sign-in Buttons by Nicolas Gallagher
       Link: http://nicolasgallagher.com/lab/css3-social-signin-buttons/
     */
     .btn-auth {
        position: relative;
        display: inline-block;
        height: 22px;
        padding: 0 1em;
        border: 1px solid #999;
        border-radius: 2px;
        margin: 0;
        text-align: center;
        text-decoration: none;
        font-size: 14px;
        line-height: 22px;
        white-space: nowrap;
        cursor: pointer;
        color: #222;
        background: #fff;
        -webkit-box-sizing: content-box;
        -moz-box-sizing: content-box;
        box-sizing: content-box;
        /* iOS */
        -webkit-appearance: none; /* 1 */
        /* IE6/7 hacks */
        *overflow: visible;  /* 2 */
        *display: inline; /* 3 */
        *zoom: 1; /* 3 */
    }

    .btn-auth:hover,
    .btn-auth:focus,
    .btn-auth:active {
        color: #222;
        text-decoration: none;
    }

    .btn-auth:before {
        content: "";
        float: left;
        width: 22px;
        height: 22px;
        background: url(https://raw.github.com/necolas/css3-social-signin-buttons/master/auth-icons.png) no-repeat 99px 99px;
    }

    /*
     * 36px
     */

    .btn-auth.large {
        height: 36px;
        line-height: 36px;
        font-size: 20px;
    }

    .btn-auth.large:before {
        width: 36px;
        height: 36px;
    }

    /*
     * Remove excess padding and border in FF3+
     */

    .btn-auth::-moz-focus-inner {
        border: 0;
        padding: 0;
    }

    /* Facebook (extends .btn-auth)
       ========================================================================== */

    .btn-facebook {
        border-color: #29447e;
        border-bottom-color: #1a356e;
        color: #fff;
        background-color: #5872a7;
        background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#637bad), to(#5872a7));
        background-image: -webkit-linear-gradient(#637bad, #5872a7);
        background-image: -moz-linear-gradient(#637bad, #5872a7);
        background-image: -ms-linear-gradient(#637bad, #5872a7);
        background-image: -o-linear-gradient(#637bad, #5872a7);
        background-image: linear-gradient(#637bad, #5872a7);
        -webkit-box-shadow: inset 0 1px 0 #879ac0;
        box-shadow: inset 0 1px 0 #879ac0;
    }

    .btn-facebook:hover,
    .btn-facebook:focus {
        color: #fff;
        background-color: #3b5998;
    }

    .btn-facebook:active {
        color: #fff;
        background: #4f6aa3;
        -webkit-box-shadow: inset 0 1px 0 #45619d;
        box-shadow: inset 0 1px 0 #45619d;
    }

    /*
     * Icon
     */

    .btn-facebook:before {
        border-right: 1px solid #465f94;
        margin: 0 1em 0 -1em;
        background-position: 0 0;
    }

    .btn-facebook.large:before {
        background-position: 0 -22px;
    }

  </style>
</head>
<body>
 <center><a class="btn-auth btn-facebook large" href="http://domain.com/">Sign in with <b>Facebook</b></a></center>
</body>
</html>​ 
```

# mysql - 如何复制表中行有限的所有数据库

> ID：12816873
> 
> 赞同：0
> 
> 时间：2012-10-10T10:09:57.553
> 
> 标签：mysql, mysqldump

如何复制表中行数有限的数据库。

基本上，复制的数据库必须具有与原始数据库相同的属性，但表中的行数有限。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:16:38.110

试试这个，首先使用创建一个类似的表

```
CREATE TABLE tbl_name_duplicate LIKE tlb_name; 
```

然后使用将有限数量的记录插入其中

```
INSERT INTO tbl_name_duplicate(SELECT * FROM tlb_name LIMIT 10); 
```

插入 10 条记录

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T00:50:56.923

另一种方法是使用 中的`--where`选项`mysqldump`，因此您可以创建类似于 SQL 查询的内容：

```
SELECT * FROM table_name WHERE id > (SELECT MAX(id) FROM table_name) - 10 
```

重新编写`mysqldump`（但您必须一次转储每个表，而不是整个数据库）：

```
mysqldump [options] --where="id > (SELECT MAX(id) FROM table_name) - 10" | mysql --host=host --user=user --password=password some_database 
```

[MySQL 参考指南](http://dev.mysql.com/doc/refman/5.1/en/mysqldump.html#option_mysqldump_where)中的更多信息。

# c++ - 如何渲染成不同的层，然后用OpenGL将它们组合在一起？

> ID：12816874
> 
> 赞同：4
> 
> 时间：2012-10-10T10:09:58.407
> 
> 标签：c++, opengl

我正在渲染几个图层，这些图层不能只在一个帧缓冲区上渲染，因为修改会影响它下面的所有其他图层。

如何以可以将它们组合成一个最终图层的方式单独渲染这些图层？图层将以透明度渲染，因此在组合它们时，它们将相应地混合到下面的所有图层。

我目前正在使用 FBO 将它们全部呈现在一层中，但正如我上面所说，当最顶层也影响所有底层时，它不会很好地工作。

那么我怎样才能尽可能有效地将两个（或更多？（无论哪种方式更快））FBO（或一些更好的FBO方法？）组合在一起？目前我可以将它们一个一个渲染，放入我的 RAM，然后我自己按像素组合它们，但这似乎是一种缓慢的方法。

最快的方法是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-10T10:49:03.393

使用 2D 纹理数组。数组的每一层都是一个渲染层。

将每一层渲染成自己的颜色附件纹理层（可以随时切换FBO颜色附件），使用`glFramebufferTexture3D`可以选择目标层。

然后在片段着色器中根据需要组合 2D 阵列纹理的层。

您还可以通过将不同的纹理层绑定到不同的渲染目标来使用多渲染目标。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-10T10:38:08.470

您可以使用 MRT（多个渲染目标）。您将需要创建和绑定帧缓冲区（似乎您已经知道该怎么做），然后将几个纹理附加到它上

```
glFramebufferTexture2DEXT ( GL_FRAMEBUFFER_EXT, GL_COLOR_ATTACHMENT0_EXT, GL_TEXTURE_2D, texA, 0 );
glFramebufferTexture2DEXT ( GL_FRAMEBUFFER_EXT, GL_COLOR_ATTACHMENT1_EXT, GL_TEXTURE_2D, texB, 0 ); 
```

在这里，我附加了两个纹理（`texA`& `texB`，它们是使用 创建的`glGenTextures`），作为颜色附件编号`0`和`1`. 然后，您只需在着色器中编写颜色，而不是使用`gl_FragColor`输出变量，而是`gl_FragData[0]`使用第一个颜色附件和`gl_FragData[1]`第二个颜色附件。

然后，您可以使用第二遍来组合存储在其中的图像`texA`和`texB`纹理。

PS这些是OpenGL 2的函数调用。如果你使用OpenGL 3，函数调用是相似的（只是没有`EXT`），但是你需要手动为你的着色器指定输出。如有必要，我可以发布解决方案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-03T22:33:04.997

也许我错了，但是您可以创建按级别排序的图层管理。然后，您只需将第一层绘制到最后一层，如果您有正确的混合功能，您就可以实现所需的 alpha 效果……而且，您可以控制所有场景的总 alpha。清除**DEPTH BIT BUFFER**以独立渲染每一层是很重要的。

这个想法的一些伪代码如下，

```
Total Alpha = 0.9
For l in layer_list // render layers
    // clear depth bit (important before render every layer)
    glClear(GL_DEPTH_BIT_BUFFER)   

    // render all objects layer of layer 'l' with alpha = layer_alpha * total_alpha
    renderLayer(l, TotalAlpha*l.getAlpha())

End For 
```

# c# - Visual Studio mscorlib 类源代码

> ID：12816878
> 
> 赞同：5
> 
> 时间：2012-10-10T10:10:05.533
> 
> 标签：c#, visual-studio-2010, mscorlib

在使用 Java 的 NetBeans 中，我可以打开 java.lang.String 类并看到该类的源代码。如果我尝试在 VisualStudio 中打开 System.String 类，我只会看到方法签名。是否可以安装 VisualStudio 插件或类似的东西来打开按 F12 的 mscorlib 类源代码？

感谢您的回答。我找到了最适合我的解决方案：http: [//visualstudiogallery.msdn.microsoft.com/95789cdb-08f9-4dae-9b2f-fc45a452ad77](http://visualstudiogallery.msdn.microsoft.com/95789cdb-08f9-4dae-9b2f-fc45a452ad77)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-09-03T08:04:22.560

您想要的是“Microsoft 参考源代码中心”，.NET 库源位于[http://referencesource.microsoft.com/](http://referencesource.microsoft.com/)。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-02-11T17:06:10.077

虽然之前的答案很好，但现在你有了更好的选择：[微软已经开源了 .NET](http://blogs.msdn.com/b/dotnet/archive/2014/11/12/net-core-is-open-source.aspx)，不仅如此，所有这些都可以[在 GitHub 上找到](http://dotnet.github.io/)。

此外，现在可以将 Visual Studio 配置为在调试时检查 referencesource.microsoft.com。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-10-10T10:13:12.093

您所要求的可以通过使用[Jetbrains的](http://www.jetbrains.com)[dot peek](http://www.jetbrains.com/decompiler/)来实现。

Jetbrains 还提供了一些其他很酷的软件，比如[Resharper](http://www.jetbrains.com/resharper/index.html?topRS)，它可以包含 dot peek，您可以导航到反编译的源代码。

![在此处输入图像描述](../Images/998b59dd521fa4527300987df253571b.png)

您可以从符号文件中获取实际的源代码，而不是反编译，这是我突出显示的选项下方的选项，您需要通过设置符号服务器来执行其他答案所说的操作。

**更新：见布鲁诺布兰茨的回答。**

# java - 谁能解释如何理解 App Engine 中的数据存储读取成本？

> ID：12816879
> 
> 赞同：0
> 
> 时间：2012-10-10T10:10:11.910
> 
> 标签：java, google-app-engine, google-cloud-datastore, operations, quota

我在 300 个用户实体中进行地理查询，结果范围为 10。
我已经查询了 120 次。对于每个查询，我得到 10 个用户实体对象。
在此之后，我的应用引擎读取操作达到 52%（26000 次操作）。
我的用户实体有 12 个单值属性和 3 个多值属性（列表类型）。
用户实体有 2 个单值属性索引和 2 个列表类型属性索引。
谁能帮我理解谷歌的appengine如何计算数据存储读取操作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:20:57.223

首先，使用 appstats。它会向您显示您的应用程序中的成本来自哪里：

[https://developers.google.com/appengine/docs/java/tools/appstats](https://developers.google.com/appengine/docs/java/tools/appstats)

> 为了让您的应用程序保持快速，您需要知道：
> 
> 您的应用程序是否在进行不必要的 RPC 调用？它应该缓存数据而不是重复 RPC 调用来获取相同的数据吗？如果多个请求并行执行而不是串行执行，您的应用程序性能会更好吗？Appstats 库允许您分析 RPC 调用，从而帮助您回答这些问题并验证您的应用程序是否以最有效的方式使用 RPC 调用。Appstats 允许您跟踪给定请求的所有 RPC 调用，并报告每个调用的时间和成本。

一旦您了解了成本的来源，您就可以进行优化。

如果您只想知道价格是多少，它们在这里：

[https://developers.google.com/appengine/docs/billing](https://developers.google.com/appengine/docs/billing)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T10:25:27.670

您可以使用 appstats 分析幕后发生的事情：[https ://developers.google.com/appengine/docs/java/tools/appstats](https://developers.google.com/appengine/docs/java/tools/appstats)

# jquery - 为什么不能在 jquery 时间选择器中输入分钟？

> ID：12816880
> 
> 赞同：0
> 
> 时间：2012-10-10T10:10:14.017
> 
> 标签：jquery, timepicker

我正在实现 jquery 时间选择器......这是一个例子。对不起格式：

[http://jsfiddle.net/uzi002/sBJkf/3/](http://jsfiddle.net/uzi002/sBJkf/3/)

但是当你输入 0830 时它不会在几分钟内输入？

我希望能够输入 0845 等...

如果我取出步骤 15 分钟它可以工作，但我希望它步骤 15 分钟并且能够每 15 分钟输入一次等等......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:45:51.107

尝试使用来自[http://trentrichardson.com/](http://trentrichardson.com/)的最新版本。您的版本是 0.9.8 或 1.0.0。现在有1.0.5了。我不确定这个错误是否已修复，但我希望它有所帮助。

# javascript - IE中图片的加载事件

> ID：12816883
> 
> 赞同：0
> 
> 时间：2012-10-10T10:10:26.170
> 
> 标签：javascript, jquery

我正在动态创建图像标签，并且在图像的加载事件中我想要图像的高度和宽度。

```
I have following code

 var foreImage = $('<img/>')
.load(function () {
    alert( this.height + '  ' +  this.width );
}).attr("src", imageUrl); 
```

上面的代码在 Firefox 和 chrome 中工作，但在 IE 8 中它失败了。知道为什么吗？

# java - 如何在导出 pdf 中格式化 displaytag 总值行？

> ID：12816890
> 
> 赞同：1
> 
> 时间：2012-10-10T10:10:35.653
> 
> 标签：java, displaytag

我正在使用 displaytag 导出 PDF。如果我在 display:column 中给出 total="true"，最后一行包含总金额，我可以使用 numberformat 格式化该值，但在 PDF 中总值显示为未格式化。下面给出的是我的代码片段。

```
 <display:column property="discountAmt" titleKey="DiscountAmt" 
                 total="true" format="<%=currency_format%>"/>

 <display:column property="orderGrandTotal" titleKey="GrandTotal" 
                 sortable="true" format="<%=currency_format%>" class="numeric" 
                 total="true"/> 
```

在表中，包含总值的最后一行是 1,913.30 和 12,033.50。但在 PDF 中显示为 1913.3 和 12033.5。

请给我一个想法来格式化它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-28T21:02:41.903

```
<display:column property="money" format="{0,number,0,000.00} $" sortable="true" /> 
```

检查是否有效。查看[http://www.displaytag.org/10/tagreference-displaytag-12.html](http://www.displaytag.org/10/tagreference-displaytag-12.html)了解更多信息。

# java - 级联/嵌套异步调用的模式

> ID：12816893
> 
> 赞同：5
> 
> 时间：2012-10-10T10:10:46.290
> 
> 标签：java, design-patterns, gwt, asynchronous

在客户端使用 gwt 时，通常会调用异步方法并在回调方法中进行处理。

```
asyncService.method(new AbstractAsyncCallback<Number>() {
  @Override
  public void onSuccess(Number num) {
    // do something with number
  }
}); 
```

但是经常遇到需要从一个异步方法获取结果，传递给另一个方法等的情况。这就是为什么我们得到脏的级联代码，很难阅读。

```
asyncService.method(new AbstractAsyncCallback<Number>() {
      @Override
      public void onSuccess(Number num) {
        asyncService.method1(num, new AbstractAsyncCallback<String>() {
          @Override
          public void onSuccess(String str) {
             asyncService.method2(str, new AbstractAsyncCallback<Void>() {
               @Override
               public void onSuccess(Void void) {
                 // do something
               }
             });
          }
        });
      }
    }); 
```

我知道，我们可以在服务器端结合这三个调用来制作单独的服务方法，但是如果我们需要很多这样的不同方法的组合呢？另一个问题是添加单独的方法，该方法执行我们可以通过简单组合现有方法获得的功能。

是否有一种通用模式可以摆脱此类代码而不更改服务器端服务？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:44:15.283

您可以创建命名类，而不是使用匿名类。这将消除令人困惑的嵌套，如果您使用有意义的名称，可能会使您的代码更易于理解。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-10T12:12:09.957

您概述了一种模式：一系列调用。仅当第二次调用取决于第一次调用的结果等时才应使用此模式。

如果您可以并行执行请求，那么您应该这样做。一种选择是在继续之前等待其他方法完成的目标方法。在这个例子中 showPerson() 将被调用两次，但是当所有数据都准备好时它只会执行一次。

```
Integer age = null;
String name = null;

asyncService.method(new AbstractAsyncCallback<Integer>() {
    @Override
    public void onSuccess(Integer num) {
        age = num;
        showPerson();
    }
});
asyncService.method(new AbstractAsyncCallback<String>() {
    @Override
    public void onSuccess(String n) {
        name = n;
        showPerson();
    }
});

private void showPerson() {
    if (name != null && age != null) {
        myView.showPerson(name, age);
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T05:43:13.827

我们通常更喜欢使用匿名回调实现来定义变量，这些变量在代码中处于同一级别，因此它们更具可读性，我们倾向于对它们进行排序以理解工作流程。另一个目标是这些回调可以重复使用。

```
 AsyncService asyncService = GWT.create(AsyncService.class);

  AsyncCallback<Number> onMethod1Response = new AbstractAsyncCallback<Number>() {
    public void onSuccess(Number num) {
      asyncService.method2(onMethod2Response);
    }
  };

  AsyncCallback<String> onMethod2Response = new AbstractAsyncCallback<String>() {
    public void onSuccess(String str) {
      // do something
    }
  };  

  asyncService.method1(onMethod1Response); 
```

# javascript - 我可以在多视图中使用 jquery/javascript 吗？

> ID：12816895
> 
> 赞同：1
> 
> 时间：2012-10-10T10:10:47.740
> 
> 标签：javascript, jquery, .net, multiview

我有一个包含多个部分的多视图控件。

对于每个部分，我都有一个位于 MV 外部的按钮，单击该按钮可打开其中一个视图（选项卡样式）。

我想知道是否可以使用 jquery/javascript 覆盖（如果可用），这样就不会发生回发。但是，由于多视图不会渲染所有视图，我不确定是否以及如何实现这一点。

有人有想法么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T10:25:36.880

正如您所说，因为`MultiView`只呈现活动视图，所以没有回发就无法切换视图。您可以转而`MultiView`使用 Ajax 来加载内容，但是您将使用 Ajax 调用而不是回发。

可能您最简单的解决方案是将`Button`and包裹在`MultiView`内部`UpdatePanel`，它将为您处理所有这些。

# c# - 如何使用响应式扩展解决这个问题？

> ID：12816898
> 
> 赞同：3
> 
> 时间：2012-10-10T10:10:52.590
> 
> 标签：c#, system.reactive

我有一个关于反应式扩展的设计问题，这是场景：我有一个汽车对象，而该汽车对象有多个验证对象。每个验证对象不断向汽车类发送验证结果。验证结果可以是成功或错误。当验证发送错误时，我想停止汽车，当相同的验证发送成功时，我想再次启动汽车。换句话说：

所有验证不断向汽车发送验证结果。如果所有验证都发送成功，我希望汽车继续行驶，但如果其中一个发送错误，我想停止汽车，直到我从该验证中收到成功。

我正在尝试通过响应式扩展找到解决方案。

有任何想法吗？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-10T10:22:17.767

很容易。如果你有一个`IEnumerable<IObservable<bool>>`（可能是一个数组或 observables 列表）被调用`xss`，那么你可以这样做：

```
IObservable<bool> combined =
    xss
        .CombineLatest()
        .Select(xs => xs.Aggregate((b0, b1) => b0 && b1)); 
```

现在`combined`只有`true`当所有 observables 的最新值为`true`.

请注意，这只会在所有源 observable 都产生值时产生值。如果你需要一个起始条件，源 observables 应该有一个使用`StartWith`扩展方法提供的默认值。

# r - prop.test 对单个观察结果

> ID：12816900
> 
> 赞同：2
> 
> 时间：2012-10-10T10:11:03.323
> 
> 标签：r

我有这样的情况：我生成了 1000 个由基因组成的随机列表（这里只报告了 4 个随机列表）。我检查了这个列表中有多少基因发生了突变。此处突变基因在 Mutated_genes 列中报告。这只是一个计数。预期为 p = 0.02（p 列）。

DFR

```
Mutated_genes    Tot         p
      29         1600        0.02
      27         1600        0.02
      30         1600        0.02
      8          1600        0.02 
```

我想进行卡方检验。为此，我使用了以下代码：

```
prop.test(DFR$Mutated_genes, p = DFR$p, DFR$Tot, alternative="two.sided", conf.level=.99) 
```

问题是它对整个矩阵执行卡方。事实上，输出是：

> X 平方 = 10009.67，df = 1000，p 值 < 2.2e-16
> 备择假设：双侧

我希望每一行都有卡方值，所以对于每次观察。如何做到这一点？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:19:26.740

试试这个：

```
apply(DFR$Mutated_genes, 1, function(x) prop.test(x[1], p = x[3], x[2], 
      alternative="two.sided", conf.level=.99)) 
```

我希望这很好用。

# java - 吃豆人游戏动作

> ID：12816914
> 
> 赞同：0
> 
> 时间：2012-10-10T10:11:36.847
> 
> 标签：java

我正在用 Java 创建一个 pacman 游戏，我有一个无法解决的问题。问题如下：

我在游戏屏幕上各有 4 个按钮：上、下、左、右。问题是我不能在 x 位置和 y 位置同时使用按钮，因为我总是得到 0 值（如果你在下面看到我的代码，你就会明白这一点）

您可以在下面找到我认为与问题有关的 pacman 课程（请参阅 setBesturing(int besturing) 方法）

```
package h04PacMan;

/*
 * PacMan laten bewegen
 */

import java.awt.*;
import java.awt.event.*;

import javax.swing.*;

public class PacMan extends JPanel implements ActionListener {

private int horizontalePlaats = 250; // x location
private int verticalePlaats = 150; // y location
private int richtingEnSnelheid = +10; // speed
private final int WACHTTIJD = 500; // DELAY
int diameter;
int waarde;

public PacMan() {

    // create timer and start timer
            javax.swing.Timer autoKlik = new javax.swing.Timer(WACHTTIJD, this);

            autoKlik.start();
}

public int getHorPlaats() {
    return horizontalePlaats;
}

// current y positie

public int getVerPlaats() {
    return verticalePlaats;
}

// speed and way;
public int getRichtingEnSnelheid() {
    return richtingEnSnelheid;
}

// new x position

public void setHorPlaats(int nieuweHorPlaats) {

    if(nieuweHorPlaats > getWidth()) {

        nieuweHorPlaats = 0;
    }
    else if(nieuweHorPlaats < 0) {

        nieuweHorPlaats = getWidth();
    }

    horizontalePlaats = nieuweHorPlaats;

}

// new y position 
public void setVerPlaats(int nieuweVerPlaats) {

    if(nieuweVerPlaats > getHeight()) {

        nieuweVerPlaats = 0;
    }
    else if(nieuweVerPlaats < 0) {

        nieuweVerPlaats = getHeight();
    }

    verticalePlaats = nieuweVerPlaats;

}

public void setRichtingEnSnelheid(int nieuweRichtingEnSnelheid) {

    richtingEnSnelheid = nieuweRichtingEnSnelheid;

}

//movement
public void setBesturing(int besturing) {

    besturing = waarde;

    if(waarde == 0) {
        setVerPlaats( getVerPlaats() + richtingEnSnelheid);
    }
    else if(waarde == 1){
        setHorPlaats( getHorPlaats() + richtingEnSnelheid);
    }
}

@Override
public void actionPerformed(ActionEvent e) {

    setBesturing(waarde);
    System.out.println(waarde);
    repaint();

}

DrawPacMan pacman = new DrawPacMan();
DrawPacMan ghost1 = new DrawPacMan();
DrawPacMan ghost2 = new DrawPacMan();

public void paintComponent(Graphics g) {

    super.paintComponent(g);
    // pacman movement
    diameter = 75;  
    pacman.drawPacMan(g, getHorPlaats(), getVerPlaats(), diameter, Color.yellow);

    // ghosts movement
    int g1x;
    for(g1x = 0; g1x < 10; g1x++) {

        pacman.drawGhost(g, g1x, 40, diameter, Color.red);

    }
    pacman.drawGhost(g, 170, 70, diameter, Color.blue);

}

} 
```

这是我的游戏控制类中的 actionListener

```
 @Override
public void actionPerformed(ActionEvent e) {

    if(e.getSource() == links) {

        pacman.setRichtingEnSnelheid( -10 );
        pacman.setBesturing(1);
        System.out.println("links");
    }
    else if(e.getSource() == rechts) {
        pacman.setRichtingEnSnelheid( +10 );
        pacman.setBesturing(1);
        System.out.println("rechts");
    }
    else if(e.getSource() == boven) {
        pacman.setRichtingEnSnelheid( -10);
        pacman.setBesturing(0);
        System.out.println("boven");
    }
    else {
        pacman.setRichtingEnSnelheid( +10);
        pacman.setBesturing(0);
        System.out.println("beneden");
    }

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-10T10:18:29.237

这是你的问题：

```
//movement
public void setBesturing(int besturing) {

    besturing = waarde; <-- THIS LINE

    if(waarde == 0) {
        setVerPlaats( getVerPlaats() + richtingEnSnelheid);
    }
    else if(waarde == 1){
        setHorPlaats( getHorPlaats() + richtingEnSnelheid);
    }
} 
```

`besturing`您正在用旧值覆盖 的值`waarde`。应该反过来。

```
//movement
public void setBesturing(int besturing) {

    waarde = besturing; <-- THIS LINE

    if(waarde == 0) {
        setVerPlaats( getVerPlaats() + richtingEnSnelheid);
    }
    else if(waarde == 1){
        setHorPlaats( getHorPlaats() + richtingEnSnelheid);
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-10T10:21:10.640

我认为在方法 setBesturing(int besturing) 内部应该是：

```
waarde = besturing; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-10T10:20:57.733

在你的`setBesturing`方法中： -

```
besturing = waarde; 
```

这条线永远不会改变你`waarde`.. 的值。它总是零。

您应该**以另一种方式完成作业**：-

```
this.waarde = besturing; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-10T10:18:08.263

您需要跟踪按钮是否被独立按下。另外，您的模型根本不支持对角线运动（我不确定您的荷兰名字的确切含义，我可以解释 snelheid=Schnelligkeit=speed 等等）。
您需要将对角线运动放入模型中（例如，给他一个相互独立的 x 和 y 速度）

# ember.js - 如何显示 ObjectController 的“内容”？

> ID：12816915
> 
> 赞同：1
> 
> 时间：2012-10-10T10:11:38.500
> 
> 标签：ember.js

我的对象控制器：

```
App.TestController = Ember.ObjectController.extend
  content: null

App.testController = App.TestController.create()
App.testController.set("content", Ember.Object.create({ question: "Question?" }))

console.log App.testController.get("question") 
```

我的观点：

```
{{#view App.QuizView controller="App.testController"}}
   <div>"{{question}}"</div>
{{/view}} 
```

在我的控制台上，我得到：

```
Question? 
```

但我的观点是空的：

```
"" 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-10T10:15:17.303

问题来自您的模板，您没有将控制器绑定到视图。代替

```
{{#view App.QuizView controller="App.testController"}} 
```

和

```
{{#view App.QuizView controllerBinding="App.testController"}} 
```

[您可以在此 JSFiddle 中](http://jsfiddle.net/9Uvqf/)尝试此解决方案。

# jquery - jquery val 函数从 textarea 获取新值

> ID：12816916
> 
> 赞同：1
> 
> 时间：2012-10-10T10:11:44.343
> 
> 标签：jquery, textarea, jquery-click-event

[这](http://jsfiddle.net/opmaster/RALDF/6/)是一个jsfiddle

这是我的html

```
<table id="commentsTable">
        <tr>
            <td name="userid"> JIM </td>
            <td name="comment" id="68" class="commentTD">  something   </td>
            <td><a class="edit" href="#">edit</a></td>
        </tr>
</table>​ 
```

和我的js：

```
var update = "update";

$("a.edit").click(function(e) {
    e.preventDefault();
    var comment = $(this).closest("tr").find('.commentTD');
    comment.html('<textarea name="comment" class="commentArea">' + comment.text() + '</textarea>');
    $(this).removeClass().addClass(update).text(update);
    bindUpdate();
});

function bindUpdate() {
    $("a." + update).click(function(e) {
        e.preventDefault();
        var commentNewText = $(this).closest('tr').find('textarea.commentArea').val();
        alert(commentNewText);
    });
};​ 
```

我可以添加一个 textarea 并将一个点击事件绑定到它，但我似乎无法获得**新值**，我得到了旧值......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:18:47.173

问题是您没有从链接中取消绑定旧事件，因此每次单击它时它仍然会添加一个新的文本区域，然后它才会调用 bindUpdate() 功能。

看到这个更新的 jsFiddle：http: [//jsfiddle.net/RALDF/8/](http://jsfiddle.net/RALDF/8/)

**编辑：**我建议将值保存`$(this)`到变量中并重新使用它，因为您多次调用它，这对性能有负面影响/jQuery 每次执行 $(this)/ 时都需要创建新对象

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-10T10:19:39.513

You're getting your first handler triggered before the new one. If you add `unbind` to the first handler it work ok ([fiddle](http://jsfiddle.net/RALDF/7/)). To acheive this in a more predictable way you may extract your handlers to the separate functions.

# iphone - 在 1 个单元格内绘制 6 个图像视图

> ID：12816919
> 
> 赞同：2
> 
> 时间：2012-10-10T10:11:52.193
> 
> 标签：iphone, objective-c, core-data, uitableview

我有一个非常烦人的问题。我想要做的是将 6 个图像视图绘制到一个单元格中。在以下屏幕上，您会看到我想要实现的目标。

*   [筛选我想要实现的目标](http://www.flickr.com/photos/74322780@N08/8050170687/)
*   [筛选我现在拥有的](http://www.flickr.com/photos/74322780@N08/8071984693/in/photostream/)

这就是我在 cellForRowAtIndexPath 中所做的

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"Cell";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
    }
    for(int i=0;i<5;i++)
    {
        float xCoord = 30.0;
        Team *team = [self.fetchedResultsController objectAtIndexPath:indexPath];
        NSData* imageData = [[NSData alloc] initWithContentsOfURL:[NSURL URLWithString:team.image]];
        UIImage* image = [[UIImage alloc] initWithData:imageData];
        UIImageView* imgView = [[UIImageView alloc] initWithImage:image];
        [imgView setFrame:CGRectMake(xCoord,0,66,66)];
        [cell.contentView addSubview:imgView];
        xCoord += imgView.frame.size.width + 5;
        NSLog(@"%f",xCoord);
        [cell.contentView clearsContextBeforeDrawing];
    }

    return cell;
} 
```

有谁能够帮助我？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:24:18.750

即使在您通过计算在每次迭代中重置回 30 的坐标来修复错误之后`x`，您仍会遇到重用单元格的问题：您的程序将新`UIImageView`的 s 添加到单元格中，即使它可能`UIImageView`已经包含五个对象。经过几轮重用，单元格将有几十个图像相互重叠，对性能产生灾难性影响——尤其是滚动性能。

您应该定义一个自定义子类，`UITableViewCell`其中添加六个`UIImageView`对象作为子视图，给它一个这样的方法

```
-(void)setImage:(UIImage*)image forPosition:(NSUInteger)position; 
```

并在循环中调用这个方法（如果你想要六个图像，循环应该有`i <= 5`，而不是`i < 5`它的结束条件）。

**编辑：**这是一种过于简单的编码方式：

CustomCell.h：

```
#define NUM_PICS 6

@interface SixPicsCell : UITableViewCell {
    UIImageView *pics[NUM_PICS];
}
-(void)setImage:(UIImage*)image forPosition:(NSUInteger)position;
- (id)initWithStyle:(UITableViewCellStyle)style
    reuseIdentifier:(NSString *)reuseIdentifier
@end 
```

自定义单元格.m：

```
- (id)initWithStyle:(UITableViewCellStyle)style
    reuseIdentifier:(NSString *)reuseIdentifier {
    if (self = [super initWithStyle:style reuseIdentifier:reuseIdentifier]) {
        for (int i = 0 ; i != NUM_PICS ; i++) {
            pics[i] = [[UIImageView alloc] initWithImage:nil];
            [pics[i] setFrame:CGRectMake(30+71*i, 0, 66, 66)];
            [self.contentView addSubview:pics[i]];
        }
    }
    return self;
}

-(void)setImage:(UIImage*)image forPosition:(NSUInteger)position {
    pics[position].image = image;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:29:58.290

大声笑，我之前已经回答过这个确切的问题。

（到目前为止）最简单的方法是使用 UICollectionView （但您想将 IIRC 推广到 iOS 5）。

为了解决重用和内存的问题（并且还可以在每一行中拥有无限的条目），您可以使用包含自己的 UITableView（旋转 90 度）的自定义 cUITableViewCell。然后这可以显示任意数量的图像，因为每个图像都在它自己的单元格内。

这听起来很复杂，但如果你把它分解，它真的不是。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-10T10:42:58.047

这是网格视图的情况..

尝试以下供您参考

```
int rows  = 5;
int columns = 4 //

for (int j=0; j<rows; j++) {

    int xPos=0;
    for (int i=0; i<columns; i++) {

         UIImageView *backImg=[[UIImageView alloc]initWithFrame:CGRectMake(3+xPos,3+yPos, 104, 140)];
        [backImg setImage:[UIImage imageNamed:@"your image.png"]];
        [backImg setBackgroundColor:[UIColor clearColor]];
          [cell.contentView addSubView:backImg];               

        xPos+=105;

    }//columns end
    yPos +=140;

}//rows end 
```

# c - 无法设置套接字 connect() 调用的超时时间

> ID：12816921
> 
> 赞同：0
> 
> 时间：2012-10-10T10:12:14.270
> 
> 标签：c, sockets, connection

我已经用本机代码编写了客户端套接字程序并在 android 应用程序中使用它。当服务器不可用时与服务器建立连接时，我面临一个奇怪的问题。

当服务器不可用时，客户端 connect() 调用将进行折腾，它根本不会出现。我试图在互联网上搜索这个。一些链接正在解释这些步骤

1.  将套接字设置为非阻塞模式
2.  调用连接 - 如果连接成功则很好
3.  否则将套接字设置回块模式。
4.  设置用于写入集的套接字并将其提供给 select() 并具有所需的超时时间。
5.  如果选择在写入集中设置了套接字，则连接成功或连接失败。

我尝试了这些步骤，但无论服务器是否正在运行， select() 调用总是只出现超时。我需要你的帮助来解决这个问题。

这是我正在使用的代码的一部分

```
bool SocketConnect()
{
   ... Creating the socket ....

   int opts;
   if( (opts = fcntl(clientsocket,F_GETFL) < 0 )
   {
       return false;
   }

   // setting socket to non-block mode
   if( fcntl(clientsocket,opts | O_NONBLOCK) < 0 )
   {
      return false;
   }

   //calling connect
   int ret = connect(clientsocket,(const sockaddr*)&serveraddr,sizeof(serveraddr));
   if( ret < 0 )
   {
       if( errno != EINPROGRESS )
       {
          return false;
       }
   }

   if( ret == 0 )
   {
      //connection successful set the socket to block mode
      fcntl(clientsocket,F_SETFL,opts);
      return true;
   }

   //set the socket to block mode
   if( fcntl(clientsocket,F_SETFL,opts) < 0 )
   {
      return false;
   }

   fd_set writeset;
   FD_ZERO(&writeset);
   FD_SET(clientsocket,&writeset);

   timeval val.
   val.tv_sec = 5;
   val.tv_usec = 0;

   int sret = select(clientsocket+1,NULL,&writeset,NULL,&val);
   if( sret > 0 )
   {
      if( FD_ISSET(clientsocket,&writeset) )
      {
          fcntl(clientsocket,F_SETFL,opts);
          return true;
      }
   }

   return false;
} 
```

当服务器可用时，如果我使用阻塞的连接调用（不使用上述任何步骤），建立连接几乎不需要 1 秒。

当服务器可用时，如果我使用上述步骤进行连接，那么如果我给 5 秒时间连接未建立，则事件。事件选择也没有等待 5 秒，它立即返回值 0。

请查看此代码，让我知道在设置 connection() 调用超时时我到底哪里出错了。

任何建议或实现的替代方法表示赞赏。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T10:31:17.743

对于处于非阻塞模式的情况，我看不到您在哪里等待连接完成。

另外，我会问在建立连接之前应用程序是否应该做其他事情？如果是这样，我会考虑将 SocketConnect 函数重组为使用 pthreads 之类的单独线程。如果您的应用程序的行为完全取决于客户端连接，我会考虑在连接之前将套接字从非阻塞切换到阻塞，并在 SocketConnect 中保持对连接的调用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-17T11:18:47.797

使用警报中断连接。这是示例代码

```
#define CONNECT_TIMEOUT 4

static void AlarmHandler(int sig)
{
sTimeout = 1; 
}
.
.
.
signal(SIGALRM, AlarmHandler); 
sTimeout = 0; 
alarm(CONNECT_TIMEOUT); 
if ( connect(sock, (struct sockaddr *) &server, sizeof(server)) ) 
{ 
if ( sTimeout ) {
NSLog(@"timeout connecting stream socket"); //If connect will remain blocked for 4 seconds after 4 seconds this condition will be triggered
}
} 
```

# apache - RewriteCond：未知标志“QSA”

> ID：12816922
> 
> 赞同：0
> 
> 时间：2012-10-10T10:12:19.130
> 
> 标签：apache, mod-rewrite, restler

在配置[Restler](http://luracast.com/products/restler/)时，它建议创建以下重写规则：

```
DirectoryIndex index.php
<IfModule mod_rewrite.c>
   RewriteEngine On
   RewriteRule ^$ index.php [QSA,L]
   RewriteCond %{REQUEST_FILENAME} !-f
   RewriteCond %{REQUEST_FILENAME} !-d
   RewriteRule ^(.*)$ index.php [QSA,L]
</IfModule> 
```

我已将其放入 REST 目录根目录中的 .htaccess 文件中，但在触发此规则时出现 500 服务器错误。apache错误日志的错误消息是：

```
[Wed Oct 10 10:39:30 2012] [alert] [client 127.0.0.1] /public/api/.htaccess: RewriteCond: unknown flag 'QSA'
[Wed Oct 10 10:39:30 2012] [error] [client 127.0.0.1] File does not exist: /public/favicon.ico 
```

我认为可以忽略缺少 favicon.ico 文件，但我担心“未知标志 'QSA'”错误。我对重写规则知之甚少，因此将不胜感激。

对于那些熟悉 Restler 的人，我使用的是 3.0.0rc2（如果重要的话）。另外值得指出的是，使用对 index.php 的显式调用非常有效，因为我得到了 404 JSON 错误响应（一个积极的改进），但如上所述，如果我依赖重写规则，那么我只会得到 500 服务器错误：

```
http://localhost/api/index.php/say/hi    - WORKS (gives JSON 404 error)
http://locahost/api/say/hi               - 500 SERVER ERROR 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T15:50:38.047

1.  看起来该错误与您拥有的规则没有任何关系：

    > /public/api/.htaccess: RewriteCond: 未知标志 'QSA'

这表示 QSA 标志是 a 的未知标志`RewriteCond`，后跟 a `favicon.ico`not found 所以我猜它与对您的 REST 目录的请求无关。

1.  如果你有`AllowOverride None`，那么你的 htaccess 文件将被完全忽略。配置选项的不同方面可以在 htaccess 文件中被覆盖，`None`这意味着 htaccess 不能覆盖任何配置，所以它只会被忽略。

2.  这里根本不需要 QSA 标志。只有在重写查询字符串并希望将原始查询字符串附加到末尾时才需要它。默认情况下，无论如何都会附加查询字符串。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:40:20.313

有趣......我正在查看我的 JSON 404 消息并找到了这篇文章：

[Restler 总是返回未找到](https://stackoverflow.com/questions/12323908/restler-always-returns-not-found)

它不仅解决了我的 404 错误，还帮助修复了 500 服务器错误。我唯一需要做的就是将 http.conf 的 AllowOverride 更改为 All。

如果有人能告诉我为什么会发生这种情况，我仍然会感兴趣，但这现在确实有效。

# cakephp - Linux 上的 Auth 组件登录问题

> ID：12816931
> 
> 赞同：2
> 
> 时间：2012-10-10T10:12:27.740
> 
> 标签：cakephp

我一直在使用 CakePHP 一段时间，特别是使用 Auth 组件。我有几个正在运行的当前 Web 应用程序实例，它们都安装在各种 Linux 机器上。

今天早上我被拒绝访问其中的两个实例。奇怪的是，从昨天开始我没有改变任何东西。

我很确定没有数据库问题，日志看起来和以前完全一样。唯一的区别是，我没有将我重定向到主页，而是不断被重定向回我的登录页面。另一个区别是现在我永远不会收到在 Auth 组件的 'authError' 成员中设置的 flash 消息。

我尝试过的其他一些事情是从我的浏览器中清除浏览数据，重新启动 Apache 并重新启动我的机器。

另一条信息是，两台行为不端的机器都是在我的台式电脑上运行的虚拟机。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T10:24:27.443

这可能是会话问题。检查虚拟机上的时间是否正确。如果客户端时间与服务器时间不同，会话可能会立即过期......

# c# - 来自 ADFS for windows8 应用程序的 SAML 令牌

> ID：12816932
> 
> 赞同：3
> 
> 时间：2012-10-10T10:12:29.127
> 
> 标签：c#, windows-8

我正在用 c# 创建一个 Windows 8 客户端应用程序。这个应用程序将使用 SAP 的 odata 服务。对于身份验证，我需要 ADFS 颁发的 SAML 令牌。有什么方法可以使用 Windows 凭据从 ADFS 获取 SAML 令牌？

# ruby - Ruby代码未执行

> ID：12816939
> 
> 赞同：0
> 
> 时间：2012-10-10T10:12:55.653
> 
> 标签：ruby, svn, svn-checkout

我正在尝试使用 ruby​​ 将一些文件上传到 svn 存储库。但是在签出之后，其余的代码并没有被执行。

```
r = SvnRepository.new("#{repDir}")
r.checkout("", ".", user, pass)

puts "NOT EXECUTING!"
`cp -r #{compFold} ./trunk/#{compFold}`
r.add("trunk", "./#{compFold}")
r.commit("trunk", "Component #{compFold} uploaded", user, pass) 
```

r.checkout 代码：

```
def checkout(repository, working_copy_path, user = nil, pass = nil)
    #result = `cd #{working_copy_path} && #{@svn} co file:///#{@repository_base}/#{repository}`
    check = "cd #{working_copy_path} && #{@svn} co #{@repository_base}/#{repository}"
    if user != nil
        check = check + " --username #{user}"
        if pass != nil
            check = check + " --password #{pass}"
        end
    end

    result = exec(check)
    result[/d+/]
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T10:22:01.420

`exec`对inside的调用`checkout`将当前进程替换为正在执行的程序的进程。因此，`exec`永远不会回来。有关更多详细信息，请参阅[文档](http://www.ruby-doc.org/core-1.9.3/Kernel.html#method-i-exec)。

您可以替换`exec`为`spawn`以使您能够执行与控制流程分开的流程。调用`spawn`将返回新进程的 pid，然后您可以使用`Process`.

# django - 使用 django-pipeline 进行单元测试

> ID：12816941
> 
> 赞同：11
> 
> 时间：2012-10-10T10:13:14.463
> 
> 标签：django, django-testing

我对使用 django-pipeline 的应用程序的单元测试视图有问题？每当我在任何 URL 上执行 client.get() 时，都会产生以下异常：

> ValueError：在 <pipeline.storage.PipelineCachedStorage 对象位于 0x10d544950> 处找不到文件“css/bootstrap.css”。

它是 bootstrap.css 的事实当然并不重要，但是由于这个异常，我无法执行视图渲染。

欢迎任何指南/提示！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2014-02-27T04:19:34.693

我遇到了类似的问题。但是，设置

```
STATICFILES_STORAGE='pipeline.storage.NonPackagingPipelineStorage' 
```

运行测试时仅部分解决了我的问题。如果您想运行 LiverServerTestCase 测试而不必在运行测试之前调用“collecstatic”，我还必须完全禁用管道：

```
PIPELINE_ENABLED=False 
```

从 django 1.4 开始，修改测试设置相当容易 - 有一个方便的装饰器适用于方法或 TestCase 类：

[https://docs.djangoproject.com/en/1.6/topics/testing/tools/#overriding-settings](https://docs.djangoproject.com/en/1.6/topics/testing/tools/#overriding-settings)

例如

```
from django.test.utils import override_settings

@override_settings(STATICFILES_STORAGE='pipeline.storage.NonPackagingPipelineStorage', PIPELINE_ENABLED=False)
class BaseTestCase(LiveServerTestCase):
    """
    A base test case for Selenium
    """

    def setUp(self):
        ... 
```

然而，正如@jrothenbuhler 在他的回答中所描述的那样，这产生了不一致的结果。无论如何，如果您正在运行集成测试，这并不理想 - 您应该尽可能模仿生产以发现任何潜在问题。似乎 django 1.7 以新的测试用例“StaticLiveServerTestCase”的形式为此提供了解决方案。来自文档： [https ://docs.djangoproject.com/en/dev/ref/contrib/staticfiles/#django.contrib.staticfiles.testing.StaticLiveServerCase](https://docs.djangoproject.com/en/dev/ref/contrib/staticfiles/#django.contrib.staticfiles.testing.StaticLiveServerCase)

> 这个 unittest TestCase 子类扩展了 django.test.LiveServerTestCase。
> 
> 就像它的父级一样，您可以使用它来编写涉及运行被测代码并通过 HTTP（例如 Selenium、PhantomJS 等）使用测试工具使用它的测试，因此需要同时发布静态资产。

我没有对此进行测试，但听起来很有希望。现在我正在使用自定义测试运行器在他的解决方案中执行@jrothenbuhler 的操作，这不需要您运行 collectstatic。如果您真的非常希望它运行 collectstatic，您可以执行以下操作：

```
from django.conf import settings
from django.test.simple import DjangoTestSuiteRunner
from django.core.management import call_command

class CustomTestRunner(DjangoTestSuiteRunner):
    """
    Custom test runner to get around pipeline and static file issues
    """

    def setup_test_environment(self):
        super(CustomTestRunner, self).setup_test_environment()
        settings.STATICFILES_STORAGE = 'pipeline.storage.NonPackagingPipelineStorage'
        call_command('collectstatic', interactive=False) 
```

在 settings.py

```
TEST_RUNNER = 'path.to.CustomTestRunner' 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-05-23T17:11:26.060

我一直遇到同样的问题。我使用自定义测试运行器解决了它：

```
from django.conf import settings
from django.test.simple import DjangoTestSuiteRunner

from pipeline.conf import settings as pipeline_settings

class PipelineOverrideRunner(DjangoTestSuiteRunner):

    def setup_test_environment(self):
        '''Override STATICFILES_STORAGE and pipeline DEBUG.'''
        super(PipelineOverrideRunner, self).setup_test_environment()
        settings.STATICFILES_STORAGE = 'pipeline.storage.PipelineFinderStorage'
        pipeline_settings.DEBUG = True 
```

然后在你的 settings.py 中：

```
TEST_RUNNER = 'path.to.PipelineOverrideRunner' 
```

将管道的 DEBUG 设置设置为 True 可确保不打包静态文件。这避免了在运行测试之前运行 collectstatic 的需要。请注意，它是管道的 DEBUG 设置，而不是 Django 的设置，它在此处被覆盖。这样做的原因是您希望 Django 的 DEBUG 在测试时为 False 以最好地模拟生产环境。

将 STATICFILES_STORAGE 设置为 PipelineFinderStorage 可以在 Django 的 DEBUG 设置为 False 时找到静态文件，就像在运行测试时一样。

我决定在自定义测试运行程序而不是自定义 TestCase 中覆盖这些设置的原因是因为某些东西，例如 django.contrib.staticfiles.storage.staticfiles_storage 对象，会根据这些设置和其他设置设置一次。使用自定义 TestCase 时，我遇到了测试通过和失败不一致的问题，具体取决于加载 django.contrib.staticfiles.storage 等模块时覆盖是否生效。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T18:00:19.493

我遇到了同样的问题。我在测试时设法通过使用不同的方法来解决它`STATIC_FILES_STORAGE`：

```
STATICFILES_STORAGE = 'pipeline.storage.NonPackagingPipelineStorage' 
```

我有用于生产和测试的单独设置文件，所以我只是把它放在我的测试版本中，但如果你不这样做，你可能会将它包装在`if DEBUG`.

- 编辑

这需要更多的努力，因为这只能在单元测试期间出现。为了解决这个问题，我使用了[http://djangosnippets.org/snippets/1011/](http://djangosnippets.org/snippets/1011/)的代码片段并创建了一个 UITestCase 类：

```
class UITestCase(SettingsTestCase):
    '''
    UITestCase handles setting the Pipeline settings correctly.
    '''
    def __init__(self, *args, **kwargs):
        super(UITestCase, self).__init__(*args, **kwargs)

    def setUp(self):
        self.settings_manager.set(
            STATICFILES_STORAGE='pipeline.storage.NonPackagingPipelineStorage') 
```

现在我所有需要渲染包含压缩css标签的UI的测试都使用UITestCase而不是django.test.TestCase。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-06-07T07:39:46.770

我遇到了同样的问题，原来是因为我有

```
TEST_RUNNER = 'djcelery.contrib.test_runner.CeleryTestSuiteRunner' 
```

我不明白如何，但它必须以某种方式与管道交互。一旦我删除了该设置，问题就消失了。

我仍然需要强制 Celery 在测试期间变得渴望，所以我用于`override_settings`需要它的测试：

```
from django.test.utils import override_settings

…

class RegisterTestCase(TestCase):

    @override_settings(CELERY_EAGER_PROPAGATES_EXCEPTIONS=True,
                       CELERY_ALWAYS_EAGER=True,
                       BROKER_BACKEND='memory')
    def test_new(self):
        … 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-03-18T16:02:59.053

同样在这里。指这个问题：[https ://github.com/cyberdelia/django-pipeline/issues/277](https://github.com/cyberdelia/django-pipeline/issues/277)

当我使用 py.test 时，我将其放入 conftest.py 作为解决方法：

```
import pytest
from django.conf import settings

def pytest_configure():
    # workaround to avoid django pipeline issue
    # refers to 
    settings.STATICFILES_STORAGE = 'pipeline.storage.PipelineStorage' 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-10-07T13:37:24.153

我已经尝试过@jrothenbuhler 解决方法，起初它会有所帮助.. 但是，由于某种原因，经过数小时的调试，它再次开始失败并出现相同的错误，我发现唯一有帮助的是设置

`STATICFILES_STORAGE = 'pipeline.storage.NonPackagingPipelineStorage'`

直接在设置中......不知道为什么，但它有效。

# java - HTTP POST 在 Android 中不起作用

> ID：12816944
> 
> 赞同：0
> 
> 时间：2012-10-10T10:13:27.690
> 
> 标签：java, android, http-post

我遇到了同样的问题——您需要借助 POST 将用户添加到数据库中。我所做的一切都与 iPhone 中的相同——但由于某种原因我的 android 实现不起作用——服务器上的用户没有被保存。

请告诉我是什么问题？我希望能得到你的帮助。

**Android HTTP POST：**

```
 public void postData() {        
    HttpClient httpclient = new DefaultHttpClient();
    HttpPost httppost = new HttpPost("http://&&&&&&&.dk/accounts/save_user/");
    try {
        facebookUserInfo = new JSONObject(mFb.request("me"));
    } catch (MalformedURLException e1) {
        // TODO Auto-generated catch block
        e1.printStackTrace();
    } catch (JSONException e1) {
        // TODO Auto-generated catch block
        e1.printStackTrace();
    } catch (IOException e1) {
        // TODO Auto-generated catch block
        e1.printStackTrace();
    }
    try {
        // Add your data
        List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(3);
        try {
            nameValuePairs.add(new BasicNameValuePair("fbuid", facebookUserInfo.getString("id")));
            nameValuePairs.add(new BasicNameValuePair("first_name", facebookUserInfo.getString("first_name")));
            nameValuePairs.add(new BasicNameValuePair("last_name ", facebookUserInfo.getString("last_name")));
            System.out.println(facebookUserInfo.getString("id")+" "+facebookUserInfo.getString("first_name")+" "+facebookUserInfo.getString("last_name"));
        }
        catch (JSONException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs, "UTF-8"));

        // Execute HTTP Post Request
        HttpResponse response = httpclient.execute(httppost);
        System.out.println(response.getEntity()+" "+response.getStatusLine());

    } catch (ClientProtocolException e) {
        // TODO Auto-generated catch block
    } catch (IOException e) {
        // TODO Auto-generated catch block
    }
} 
```

**iPhone HTTP POST :**

```
 NSURL *url = [NSURL URLWithString:@"http://&&&&&&&&&.dk/accounts/save_user/"];

    ASIFormDataRequest *request = [ASIFormDataRequest requestWithURL:url];
    //[request setPostValue:myAnnotation.google_id forKey:@"google_id"];
    [request setPostValue:fbuid forKey:@"fbuid"];
    [request setPostValue:_fbFirstName forKey:@"first_name"];
    [request setPostValue:_fbLastName forKey:@"last_name"];

    [request startSynchronous];
    NSError *error = [request error];
    if (!error) {
        NSString *response = [request responseString];
        NSLog(@"%@",response);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-07T15:28:28.033

我已将您的解决方案提取为将来帮助其他人的答案。

问题出在这一行。

`nameValuePairs.add(new BasicNameValuePair("last_name ", facebookUserInfo.getString("last_name")));`

问题是由 key 中的间隙（空格）引起的`last_name`。所以修复这个方法`EntityUtils.toString(httpPost.getEntity()`返回一个结果行

`fbuid=100004343290749&first_name=Proba&last_name+=Proba`

修正后

`fbuid=100004343290749&first_name=Proba&last_name=Proba`

# ios - 如果值仅包含数字，AFNetworking 不会返回 NSString

> ID：12816948
> 
> 赞同：0
> 
> 时间：2012-10-10T10:13:34.947
> 
> 标签：ios, json, afnetworking

我正在尝试使用 AFNetworking 在 json 中接收某个值。该值仅包含数字，我想将其作为 NSString 接收。当我比较接收到的值时，我得到一个异常（这个帖子后面也会提到异常）

这是产生错误的编码。

```
 NSArray *overallGameResultsArray = [resultDictionary valueForKey:@"overall_game_results"];
        winCountDictionary = [[NSDictionary alloc] init];
        for (NSDictionary *gameResultsDictionary in overallGameResultsArray)
        {
            NSString *userId = [gameResultsDictionary valueForKey:@"winner_user_id"];
            NSString *winCount = [gameResultsDictionary valueForKey:@"win_count"];

            if ([winCount isEqualToString:@"0"])
            {
                NSLog(@"0 wins");
            }

        } 
```

如果评论了“如果比较”，我不会得到例外。win_count 仅由 JSON 响应中的数字组成。

以下是我得到的异常错误。

```
2012-10-10 15:41:35.086 FMB[3549:c07] -[__NSCFNumber isEqualToString:]: unrecognized selector sent to instance 0x7230af0 2012-10-10 15:41:35.086 FMB[3549:c07] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[__NSCFNumber isEqualToString:]: unrecognized selector sent to instance 0x7230af0'
*** First throw call stack: (0x1638012 0x1345e7e 0x16c34bd 0x1627bbc 0x162794e 0x11e03 0x20583 0x1fab4 0x245053f 0x2462014 0x24527d5 0x15deaf5 0x15ddf44 0x15dde1b 0x26997e3 0x2699668 0x28d65c 0x2512 0x2445) libc++abi.dylib: terminate called throwing an exception 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:26:35.597

我想你必须这样做：

```
NSString *winCount=[NSString stringWithFormat:@"%d",[[gameResultsDictionary valueForKey:@"win_count"]intValue]; 
```

有了这个，你把数值输入到 winCount NSString 中，然后你可以使用 isEqualToString 方法

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T11:17:01.200

抛出异常是因为您*希望*一个对象是 an`NSString`但实际上是 an `NSNumber`，因此您尝试调用未实现`isEqualToString:`该`NSNumber`方法的对象。

由于您知道它`winCount`始终是一个数字，而且显然 JSON 反序列化器`AFNetworking`使用将响应中的数字装箱到`NSNumber`对象中，因此您可以轻松地从对象中获取一个字符串，如下所示：

```
NSString *winCount = [[gameResultsDictionary valueForKey:@"win_count"] stringValue]; 
```

现在你有一个数字的字符串表示，你可以执行`isEqualToString:`

另请注意，更优雅的解决方案可能是将您的对象接收为`id`s，找到它们的类并根据确定的类进行比较。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-10T11:20:20.980

我想你使用 JSON。然后对象的类型由 JSON 编码决定。如果`"`周围有，它是一个字符串。如果它是一个数字并且您想要字符串，请更改数据在服务器上的编码方式。

但是，在这种情况下，使用数字更有意义。您应该通过以下方式更改实现。

```
NSNumber* winCount = [gameResultsDictionary valueForKey:@"win_count"];

if ([winCount intValue] == 0) { //this would actually work for both NSNumber and NSString
    NSLog(@"0 wins");
}
```

使用字符串比较来比较数字总是暗示你做错了什么。

# php - zend 中的会话不会被保存。错误的配置？

> ID：12816954
> 
> 赞同：0
> 
> 时间：2012-10-10T10:13:41.480
> 
> 标签：php, zend-framework, session

我尝试使用 zend_session_namespace 在 zend 框架中构建一个简单的刷新计数器，但它没有按预期工作。设置后我无法调用命名空间。在下面的示例中，代码一次又一次地显示“1”。对故障排除有何建议？

```
Zend_Session::start();
$defaultNamespace = new Zend_Session_Namespace('numbertester');

// Increment page views
if(isset($defaultNamespace->number)){
    // The code is never entering here
    $defaultNamespace->number++;
} else {
    $defaultNamespace->number = 1;
}

echo $defaultNamespace->number; 
```

**更新**

我找到了这个脚本来测试会话配置。当我在服务器上运行它时，它在最后一部分结束并告诉我，我的会话配置不正确。我不知道从这里做什么？

```
if( function_exists('ini_get') &&
    in_array(strtolower(ini_get('session.save_handler')), array('user', 'users')) ) {
  if( function_exists('ini_set') &&
      false !== ini_set('session.save_handler', 'files') &&
      false !== ini_set('session.save_path', APPLICATION_PATH . '/temporary/session/') ) {
    if( !is_writable(APPLICATION_PATH . '/temporary/session/') ) {
      throw new Exception('Please set full permissions on temporary/session (chmod 0777).');
    }
  } else {
    throw new Exception('Your session configuration is incorrect and ' .
        'could not be automatically corrected. Please set ' .
        'session.save_handler=files and session.save_path=/tmp (or your ' .
        'temporary directory on non-Linux OSes.');
  }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T15:37:11.203

在 php.ini 文件中尝试此解决方案（如果您在本地计算机上工作）：

定义保存会话的路径

```
session.save_path = "C:\php\sessiondata\" 
```

是否使用cookies。

```
session.use_cookies = 1 
```

在请求启动时初始化会话。

```
Set session.auto_start = 1 
```

会话的名称（用作 cookie 名称）。

```
session.name = PHPSESSID 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-10T10:30:28.353

可能是您的问题出在其他地方，因为我测试了代码及其在我身边的工作。有关详细信息，请查看此：

[http://framework.zend.com/manual/1.12/en/zend.session.basic_usage.html](http://framework.zend.com/manual/1.12/en/zend.session.basic_usage.html)

# c# - 文本框绑定未初始化

> ID：12816958
> 
> 赞同：0
> 
> 时间：2012-10-10T10:13:50.300
> 
> 标签：c#, wpf

我有一个文本框，它与复选框一起添加到一个窗口中。我已经设法将 TextBox 绑定到`Order`CheckedListItem 处理程序的属性，因此当进行更改时，它会正确绑定并更新。

我遇到的问题是我无法使用起始值对其进行初始化。我的构造函数如下

```
public partial class OwnerSettingWindow : Window
{

public ObservableCollection<CheckedListItem<Owner>> Owners { get; set; }

public class Owner
{    
    public String OwnerName { get; set; }
    public String OwnerOrder { get; set; }

}

public OwnerSettingWindow()
{
    InitializeComponent();

    Owners = new ObservableCollection<CheckedListItem<Owner>>();

    string testString = @"Item1,true,1:Item2,true,2:Item3,false,24"; ;
    string[] splitOwners = testString.Split(':');

    foreach (string item in splitOwners)
    {
        string[] spOwnerSetting = item.Split(',');

        bool bchecked = bool.Parse(spOwnerSetting[1].ToString());
        string norder = spOwnerSetting[2].ToString();
        Owners.Add(new CheckedListItem<Owner>(new Owner() { OwnerName = spOwnerSetting[0].ToString(), OwnerOrder = norder }, 
            isChecked: bchecked));
    }

    DataContext = this;
}

public class CheckedListItem<T> : INotifyPropertyChanged
{
    public event PropertyChangedEventHandler PropertyChanged;

    private bool isChecked;
    private T item;
    private string order;

    public CheckedListItem()
    { }

    public CheckedListItem(T item, bool isChecked = false)
    {
        this.item = item;
        this.isChecked = isChecked;
    }

    public T Item
    {
        get { return item; }
        set
        {
            item = value;
            if (PropertyChanged != null) PropertyChanged(this, new PropertyChangedEventArgs("Item"));
        }
    }

    public bool IsChecked
    {
        get { return isChecked; }
        set
        {
            isChecked = value;
            if (PropertyChanged != null) PropertyChanged(this, new PropertyChangedEventArgs("IsChecked"));
        }
    }

    public string Order
    {
        get { return order; }
        set
        {
            order = value;
            if (PropertyChanged != null) PropertyChanged(this, new PropertyChangedEventArgs("Order"));
        }
    }
}
} 
```

以下行未按预期工作

```
 Owners.Add(new CheckedListItem<Owner>(new Owner() { OwnerName = 
spOwnerSetting[0].ToString(), OwnerOrder = norder }, 
                isChecked: bchecked)); 
```

`OwnerOrder = norder`打开窗口时不显示。我在 XAML 中的 TextBox 绑定很简单`<TextBox Text ="{Binding Order}"/>`

我也尝试了以下但没有成功 `Owners.Add(new CheckedListItem<Owner>(new Owner() { OwnerName = spOwnerSetting[0].ToString() }, isChecked: bchecked, order: norder));`

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:42:52.730

CheckedListItem 中的 Order 属性从不初始化。你可以添加一个新的ctor

```
public CheckedListItem(T item, string nrorder, bool isChecked = false)
{
   this.item = item;
   this.isChecked = isChecked;
   this.order = nrorder;
} 
```

并更改您的添加方法

```
Owners.Add(new CheckedListItem<Owner>(new Owner() { OwnerName = spOwnerSetting[0].ToString(), OwnerOrder = norder }, norder, isChecked: bchecked)); 
```

在我的测试应用程序中现在正在工作。

# opengl - 英伟达 Optix 坐标系

> ID：12816959
> 
> 赞同：2
> 
> 时间：2012-10-10T10:13:56.473
> 
> 标签：opengl, graphics, nvidia

Nvidia OptiX Ray Tracer 使用哪种坐标系 - RHS 或 LHS？

*   我使用简单的 pinhole_camera.cu 模型作为光线生成程序。（如果这很重要的话）

# scala - 类对象继承/协变

> ID：12816962
> 
> 赞同：2
> 
> 时间：2012-10-10T10:14:05.097
> 
> 标签：scala, covariance

我需要能够将 Class 对象与其父类型的层次结构进行比较。

我想要一些方法来比较`Class[A]`和`Class[B]`。我需要某种采用类对象并在何时返回 true 的方法`A extends B`

显然我不能使用`isInstanceOf`，因为 Class 不是协变的。

`Class[A].isInstanceOf[Class[B]]`返回假。在那种情况下会返回什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-10T10:17:10.310

尝试[`Class.isAssignableFrom(Class)`](http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#isAssignableFrom%28java.lang.Class%29)：

```
classOf[A] isAssignableFrom classOf[B] 
```

# colors - Gnuplot：根据数据范围着色背景

> ID：12816963
> 
> 赞同：1
> 
> 时间：2012-10-10T10:14:06.133
> 
> 标签：colors, gnuplot, background-color

我将包含 2 列的数据文件绘制为一行。我也有 x 轴的数据范围，我想用它来为背景着色。

例如，在 41 到 70 的数据范围内，我想将背景着色为蓝色。

我知道这些命令可以为背景着色，但我还没有弄清楚如何使用 x 值：

```
set obj 1 rectangle behind from graph 0, graph 0 to graph 1, graph 1
set obj 1 fillstyle solid 1.0 fillcolor rgb "blue" 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-10T11:06:46.860

Gnuplot 支持多个坐标系。正如您已经知道的那样`graph`，0,0 是图表的左下角，1,1 是图表的右上角。还有`screen`。（0,0 是“屏幕”的左下角）。您正在寻找的轴是`first`. 请注意，您甚至可以混合坐标系。该点`first 50, graph 0`位于图表底部 x 轴上的点 50 处。把这一切放在一起，你应该能够将你的矩形设置为：

```
set obj 1 rectangle behind from first 41, graph 0 to first 70, graph 1 back
set obj 1 fillstyle solid 1.0 fillcolor rgb "blue" 
```

*我还在命令中添加了“返回”，以便在所有其他绘图元素后面绘制矩形*

# mysql - 表设计建议

> ID：12816967
> 
> 赞同：7
> 
> 时间：2012-10-10T10:14:32.090
> 
> 标签：mysql, sql

我有一个表用户：

```
user_id - name 
```

这些用户可以创建一篇文章，然后与其他成员分享，表格文章：

```
article_id - user_id - article_name 
```

这个问题是分享它的最佳方式......我在想另一个表article_shares：

```
share_id - article_id - user_id 
```

这将简单地列出所有有权访问该文章的用户，并且创建者将有权在该表中为他们创建的文章添加或删除

因此，当文章创建者 (user_id 123) 查看他的文章时，他可以看到与他共享每篇文章的所有其他用户的列表

```
select as.user_id, a.article_name from article_shares as
join users u on u.user_id = as.user_id
join articles a on a.article_id = as.article_id where u.user_id = '123' 
```

并且用户（user_id 456）可以看到他们分享的文章列表

```
select a.article_name from articles a
join article_shares as on as.article_id = a.article_id
where as.user_id = '456' 
```

这看起来合乎逻辑吗？我在正确的轨道上吗？

谢谢你的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T18:10:23.573

你做对了。如果你很好奇，你已经制作了一个[连接表](http://en.wikipedia.org/wiki/Junction_table)来创建 和 之间的多对多关系`users`，`articles`这是相当标准的。

您经常会看到这些类型的表命名为 like`ArticlesToUsers`或类似的名称，这有时会是第一个提示您正在查看连接表的方法。当然，命名方案是相当主观的，所以不要觉得有必要更改名称。 `article_shares`对我来说似乎是一个很好的描述。

正如@MaxVT 所展示的那样，您会发现许多开发人员不会像这样在联结表上放置[代理键](http://en.wikipedia.org/wiki/Surrogate_key)，而宁愿将两列都用作主键（article_id，user_id）。选择显然是您的，并且可能更多地与保持与其他数据库表的一致性有关，尽管您肯定会在野外看到所有排列。如果您确实保留了代理键，我建议您使用唯一的约束`article_id, user_id`来消除重复项（为什么需要将一篇文章分享给用户两次？）。

# java - Eclipse 中的接口绑定

> ID：12816968
> 
> 赞同：6
> 
> 时间：2012-10-10T10:14:36.603
> 
> 标签：java, eclipse, interface, compilation

尽管存在明显的编译问题，我在 Eclipse(Helios)/STS 中有以下代码，它在执行 Run As> Java Application 时运行并打印控制台输出

```
public interface ITest{
    String func();
}

public static class Test implements ITest{
    void printFunc(){
        System.out.println("Inside Test Function");
    }
}

public static void main(String[] args) {        
    Test test = new Test();
    test.printFunc();
} 
```

谁能查明这个 Eclipse 运行背后的原因。

注意：在外部执行 javac 显然无法编译。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:58:43.493

可能是您在出现错误之前**成功地编写了该类。**Eclipse 会在您编码时自动编译您的文件。就在这时，您碰巧遇到了错误。然后您决定作为 Java 应用程序运行，Eclipse 将运行**最新**编译的类。

我尝试了您的代码，实现了消除错误的必要方法，然后再次将其删除以恢复错误..果然，它打印出来了`"Inside Test Function"`。我也试过注释掉`System.out.println("Inside Test Function");`，它仍然打印出来。

在另一次尝试中，我创建了另一个类，添加了您的代码，然后运行（**没有实现错误以避免自动编译**），然后它打印出一个错误..

```
java.lang.NoSuchMethodError: main
Exception in thread "main" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T13:42:51.993

Eclipse 的 Java 编译器旨在处理易碎的非编译代码。它将向代码添加任何必要的东西以使其编译。

看到这个问题[javac 和 Eclipse 编译器有什么区别？](https://stackoverflow.com/q/3061654/116509)

# c# - 在 C# 中读取自动源代码完成时如何将接受按钮设置为无？

> ID：12816973
> 
> 赞同：0
> 
> 时间：2012-10-10T10:14:51.870
> 
> 标签：c#, winforms, c#-4.0, textbox, autosuggest

我有一个带有文本框和按钮 ( `btnLogin`) 的 WinForms 表单。`btnLogin`设置为`AcceptButton`表单的。

文本框设置为使用自动完成。当用户从自动完成列表中选择一个项目并按下`Enter`时，文本框的值被设置，但`btnLogin`'`Click`事件也被调用，因为它是`AcceptButton`表单的。

我该如何防止这种情况发生？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:53:47.380

我问了[同样的问题](https://stackoverflow.com/q/12759177/1577396)并从**hvd**得到了答案。[这是答案](https://stackoverflow.com/a/12760000/1577396)。我希望这个答案能解决你的问题。

# r - R lme 循环问题与“尝试”和 lme 置信区间

> ID：12816974
> 
> 赞同：0
> 
> 时间：2012-10-10T10:14:53.527
> 
> 标签：r, for-loop, append, inheritance, confidence-interval

R 用户，我仍然在讨论与我最初的问题相关的点点滴滴，如此处所示，现在我很困惑。

**http://stackoverflow.com/questions/12270578/skipping-over-an-error-warning-in-an-lme-loop-in-r**

这是使用 mtcars 作为示例数据集的代码。我想保存下面列出的每个响应变量的上下置信区间（但不是截距，尽管我仍然需要 lme 的其他系数，但我已经有了），一次完成（我的真实数据集非常大，我正在尝试尽可能地自动化它）

```
library(log10)
library(nlme) 
library(lattice)

responseVariables = c("mpg",                                   
 "disp",             
 "hp")

carModels <- list()
carModelNames <- list()
coint<- list()  
coint2<- list()
coint$fixed <- list()
lower<- list() 
upper<- list() 
carCIlower <- list()
carCIupper <- list()

for (i in responseVariables){
    print("Doing: ")
    print(i)
    mtcars$tmp <- as.numeric(mtcars[,i])
    tmpLme <- lme( log10(tmp) ~ I(log10(wt)), random = ~1 | carb / gear / am, data=mtcars,na.action=na.omit ) 
    carModels <- append(carModels, list(tmpLme))
    carModelNames <- append(carModelNames,i) 

    coint <- try(intervals(tmpLme))   
        if (inherits(coint, "try-error")) {
        tmpLme <- lme(log10(tmp) ~ log10(wt), random = ~1 | carb / gear, data=mtcars, na.action=na.omit);
        coint <- try(intervals(tmpLme));

    } else if (inherits(coint, "try-error")) {
        tmpLme <- lme(log10(tmp) ~ log10(wt), random = ~1 | carb / gear, data=mtcars, na.action=na.omit, method="ML");
        coint <- try(intervals(tmpLme));

    } else if (inherits(coint, "try-error")) {
        tmpLme <- lme(log10(tmp) ~ log10(wt), random = ~1 | carb, data=mtcars, na.action=na.omit);
        coint <- try(intervals(tmpLme));
           #} 

    coint2<- append(coint, list(tmpLme))   
    lower <- dim(coint2$fixed)[1]   
    upper <- dim(coint2$fixed)[1]
    carCIlower <- append(carCIlower, coint2$fixed[2,1],lower) 
    carCIupper <- append(carCIupper, coint2$fixed[2,3],upper)  
    vs_wt <- cbind(carModelNames , carCIlower , carCIlower )
    }
        } 
```

目前，如果我为每个响应变量运行命令，我可以获得 CI 值，但不能作为循环的一部分。循环不会超过 coint2 语句。好吧，但它没有给我关于 coint2 及以后的答案。或者，如果我再次运行这些行，它只会给我循环中最后一项的值（i=hp）。此外，我看到有一个不平衡的大括号（我已将其注释掉以向您展示），但如果我使用它，我会为所有 resp 变量的下 CI 和上 CI 提供“disp”的下 CI。

有人可以指出缺少什么吗？

# video - 如何解码旧视频二进制文件

> ID：12816975
> 
> 赞同：0
> 
> 时间：2012-10-10T10:14:59.803
> 
> 标签：video, codec

我有一堆带有 .VID 扩展名的旧视频二进制文件。我尝试与主要玩家一起玩，但没有成功。

在 linux 或 windows 上有什么方法可以检测使用哪种视频格式？

这些文件来自一张旧 cd，它有一个正在播放该视频的程序，但它现在已损坏，我需要这些视频...

对正确方向有任何帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T10:18:01.667

你试过 ffmpeg / mplayer 吗？

尝试：

> ffmpeg -i yourfile.vid

# gdb - 如何使 gdb 自动附加到远程计算机上的程序名称？

> ID：12816976
> 
> 赞同：0
> 
> 时间：2012-10-10T10:15:01.780
> 
> 标签：gdb, gdbserver

我正在尝试设置我的 gdbinit 以使 gdb 自动附加到远程机器上的某个程序。

我的脚本是这样的：

```
define hook-run
  target extended-remote | ssh -T remotemachine gdbserver --multi -
  attach $pid
  ... <additional complicated stuff here>
end 
```

当然，我的问题是我缺少 $pid。我可以通过运行找到它`ssh remotemachine ps | grep myprogram`，但我不确定如何从 gdb 脚本中运行它并将其分配给该`$pid`变量。我怎样才能做到这一点？我猜我在这里需要一些 Python ......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T14:31:50.580

> 我可以通过运行找到它`ssh remotemachine ps | grep myprogram`

我相信你的选择是

1.  使用 Python，或
2.  逃到壳里

对于（2），您可以使用以下内容：

```
define hook-run
  shell gen-remote-run.sh > .remote-cmd.gdb
  source .remote-cmd.gdb
end 
```

并将计算远程 PID 的所有“魔法”放入`gen-remote-run.sh`

# node.js - MongoDB nearSphere 只返回 100 个结果？

> ID：12816981
> 
> 赞同：2
> 
> 时间：2012-10-10T10:15:43.837
> 
> 标签：node.js, mongodb

为什么 $nearsphere 查询总是返回 100 个结果？

```
 db.mytable.find({"geo":{"$nearSphere":[41.393552,2.171344999999974],"$maxDistance":0.007}}).limit(500).count() -->>> 100 results 
```

无论 $maxdistance 的值如何，我的表都有超过 30.000 条记录。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T10:37:48.783

检查这个：[https ://jira.mongodb.org/browse/SERVER-739](https://jira.mongodb.org/browse/SERVER-739)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-02-16T11:09:55.213

我认为异步代码正在命中 db.close(); 在 .each 循环完成之前，由于某种原因，每个人都只能得到 100 个结果，所以这里有一个解决方法。

```
var url = 'mongodb://localhost:27017/mydb';

  MongoClient.connect(url, function(err, db) {

       var i=0;

       var collection = db.collection('documents');

       collection.find().each(function(err, docs) {

         if (docs != null){

            console.log(docs);
            console.log(i);

            i++;

            if( i >= docs.length ){
              db.close();
            }

          }

  });

}); 
```

# c++ - 在目标 c 中使用 c++ 静态库

> ID：12816983
> 
> 赞同：1
> 
> 时间：2012-10-10T10:15:45.833
> 
> 标签：c++, objective-c, static-libraries

我有一个静态库，它的代码是 C++。我想在一个客观的 C 应用程序中使用它。

（我之前一直在使用 C 库，它们运行良好。）

我添加了库并尝试构建，但无法构建，因为头文件中使用了“命名空间”和向量。因此，我不得不将目标 C 文件的类型更改为目标 c++。（我没有将扩展名更改为 .mm）。由于该文件将包含在另一个文件中，因此该文件也必须更改为 c++，对于其他几个文件也是如此。

现在没有命名空间错误。但是现在当我构建时，它找不到引用的符号。我现在把扩展名改成了.mm，还是一样。我做了一些搜索，我读了一些关于 mangling 的东西。我不明白那是什么，但这是我尝试过的东西，

我没有直接调用 c++ 函数，而是创建了一个 C 函数，它的声明前面有 'extern "C"'，并且库调用存在于这个 C 函数中。还是一样。我通过'extern“C”'在c函数的实现之前，仍然是一样的。

我还读到如果 xcode 看到 .mm 扩展名，那么它才会使用 g++ 编译器。在这种情况下，不需要 extern "C"。是吗？

我是否需要在其他编译器标志目标设置中添加一些编译器标志？

```
ld: warning: directory not found for option '-F-F/Users/username/Desktop/projectFolder'
Undefined symbols for architecture armv7:
  "IIS::Image::Image::Image(unsigned int, unsigned int, ImageFormat)", referenced from:
      -[ImageEditorSupport loadToolKitForImage:width:height:length:] in ImageEditorSupport.o
  "IIS::Image::Image::getNumComponents(unsigned int&) const", referenced from:
      -[ImageEditorSupport loadToolKitForImage:width:height:length:] in ImageEditorSupport.o
  "IIS::Image::ToolKit::adjustSaturation(IIS::Image::Image const&, unsigned int, IIS::Image::Image&)", referenced from:
      -[ImageEditorSupport applyToolkitForEditID:intensity:] in ImageEditorSupport.o
  "IIS::Image::ToolKit::adjustContrast(IIS::Image::Image const&, unsigned int, IIS::Image::Image&)", referenced from:
      -[ImageEditorSupport applyToolkitForEditID:intensity:] in ImageEditorSupport.o
  "IIS::Image::Image::Image(unsigned int, unsigned int, ImageFormat, void*, unsigned int)", referenced from:
      _create_image_using_buffer in ImageEditorSupport.o
  "IIS::Image::ToolKit::adjustColorTemp(IIS::Image::Image const&, int, IIS::Image::Image&)", referenced from:
      -[ImageEditorSupport applyToolkitForEditID:intensity:] in ImageEditorSupport.o
ld: symbol(s) not found for architecture armv7
clang: error: linker command failed with exit code 1 (use -v to see invocation) 
```

我还检查了几次，我添加了正确的库搜索路径。我对这两个'-FF'表示怀疑。我只期待一个。

**编辑：* *在警告`-F-F/Users/username/Desktop/projectFolder`中是否意味着它正在搜索路径`-F/Users/username/Desktop/projectFolder`而不是`/Users/username/Desktop/projectFolder`？那额外的东西怎么会`-F`来？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:57:22.273

`UIViewController`您使用该库的地方应该`c++`有扩展名（默认）。你现在也应该`.mm``.m``main.m``main.mm`

这是因为您`c++`在`Objective-c`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-10T10:51:33.757

似乎它还没有为 armv7 架构编译。你可以检查 lipo -info myLib.a

# c# - 正确过滤 Linq 查询

> ID：12816985
> 
> 赞同：1
> 
> 时间：2012-10-10T10:15:54.403
> 
> 标签：c#, linq, linq-to-entities, linq-query-syntax

我有这个查询从一堆商店中检索销售，并将它们作为列表返回。在我的报告请求屏幕上，用户可以按多个 id 进行过滤 - ShopOwnerId、ShopRegionId、ShopTypeCode 等。

我的查询构造为获取所选日期之间的所有销售，然后根据选择进行过滤。这显然是非常低效的。：

```
private List<Sales> GetFilteredListOfSales(Request reportreq)
{
    ModelContainer ctn = new ModelContainer();
    List<ShopSale> shopsSales = new List<shopsale>();

    // If no filters are selected
    //
    if (reportreq.RegionalId == null && reportreq.OwnerId == null && reportreq.ShopTypeCode == null)
    {
        shopsSales = (from sale in ctn.ShopSales
                    where sale.DateSold >= reportreq.FromDate && sale.DateSold <= reportreq.ToDate
                    select sale).ToList();
    }

    // If the regional ID has a value...
    // 
    if (reportreq.RegionalId.HasValue)
    {
        shopsSales = (from sale in ctn.ShopSales
                  where sale.Shop.Owner.RegionalId == reportreq.RegionalId
                    && sale.DateSold >= reportreq.FromDate && sale.DateSold <= reportreq.ToDate
                  select sale).ToList();
    }

    // If the owner ID has a value...
    // 
    if (reportreq.OwnerId.HasValue)
    {
        shopsSales = (from sale in ctn.ShopSales
                  where sale.Shop.OwnerId == reportreq.OwnerId
                    && sale.DateSold >= reportreq.FromDate && sale.DateSold <= reportreq.ToDate
                  select sale).ToList();
    }

    if (!string.IsNullOrEmpty(reportreq.ShopTypeCode))
    {
        shopsSales = (from sale in ctn.ShopSales
                  where sale.Shop.ShopTypeCode.ToUpper().Contains(reportreq.ShopTypeCode.ToUpper())
                    && sale.DateSold >= reportreq.FromDate && sale.DateSold <= reportreq.ToDate
                  select sale).ToList();
    }

    return shopsSales;
} 
```

您可以看到，此方法仅在未选择过滤器时才在特定日期之间查询销售表。

我坚持的是，用户可以选择多个过滤器 - 例如，他们可能选择一个 regionId 和一个 ShopTypeCode，所以我不想为每个 if 过滤器查询 ctn.ShopSales，因为如果不止一个是选择，它将清除以前检索到的值。

有没有人对如何解决这个问题有任何建议？如果需要更多信息，请询问！

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-10T10:20:11.933

当然 - 您不想每次都从头开始构建查询。只需有条件地添加额外的`Where`调用：

```
var query = ctn.ShopSales.Where(sale => sale.DateSold >= reportreq.FromDate 
                                     && sale.DateSold <= reportreq.ToDate);
if (reportreq.OwnerId.HasValue)
{
    query = query.Where(sale => sale.Shop.OwnerId == reportreq.OwnerId);
}
if (!string.IsNullOrEmpty(reportreq.ShopTypeCode))
{
    query = query.Where(sale.Shop.ShopTypeCode.ToUpper()
                            .Contains(reportreq.ShopTypeCode.ToUpper());
}

var shopSales = query.ToList(); 
```

请注意，只有在最后一行将其具体化后，查询才会*执行。*

# javascript - 谷歌网络服务按位置获取时间？

> ID：12816992
> 
> 赞同：2
> 
> 时间：2012-10-10T10:16:04.490
> 
> 标签：javascript, jquery, google-api

> **可能重复：**
> [如何在任何位置获取当前时间](https://stackoverflow.com/questions/8652855/how-to-get-the-current-time-in-any-location)

我听说过用于地图的开放式 Google WebServices，我想知道在时间、货币和 Google 的其他功能方面是否有类似的东西。关于时间我发现了一个类似的问题，但我想要一些商业用途的解决方案： [如何在任何位置获取当前时间](https://stackoverflow.com/questions/8652855/how-to-get-the-current-time-in-any-location) 哦，我想通过 AJAX（客户端）调用它。

这个想法是提供一个包含世界各地一些城市的下拉列表，一旦选择了一个城市，应该显示该城市的当地时间。我在寻找包含所有各种夏季变化的算法时遇到了问题，因此这种方法似乎更容易。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-10T10:56:13.970

[***工作演示***](http://jsfiddle.net/FCFHy/1/)

使用[HTML5 地理定位 API](http://dev.w3.org/geo/api/spec-source.html#introduction)，您可以获得当前的纬度/经度坐标：

```
var currentPosition;
navigator.geolocation.getCurrentPosition(function(position) {
    currentPosition = position;
}); 
```

您可以使用它向您在帖子中提到的[Web 服务发出](http://www.geonames.org/export/web-services.html#timezone)[ajax 请求：](http://api.jquery.com/jQuery.get)

```
$(function(){
    var tzObject;
    $("button").click(function(){
        console.log(currentPosition);
        var dt = "lat="+currentPosition.coords.latitude +
                 "&lng="+currentPosition.coords.longitude +
                 "&username=demo"; //change to your uName

        $.get("http://api.geonames.org/timezoneJSON", dt, function(msg) {
            tzObject = msg;
            alert(tzObject.time + " " + tzObject.timezoneId);
        });
    });        
}); 
```

这将返回一个包含相关时区信息的 JSON 对象。当然，如果您有一组城市列表，则可以轻松存储它们的纬度/经度坐标，然后将其用于请求。您需要获得一个用户名才能连续使用该 Web 服务来处理多个请求（使用“演示”，每小时有一个限制）。

# iphone - UISegmentedControl 单击事件在 IOS 6 中不起作用

> ID：12816993
> 
> 赞同：1
> 
> 时间：2012-10-10T10:16:09.127
> 
> 标签：iphone, ios6, uisegmentedcontrol

我创建了一个地图视图，其中包含页面卷曲功能。mapview 有一个工具栏，带有一个页面卷曲按钮。单击按钮时，地图视图页面会卷曲。这是代码。

```
-(IBAction) onPageCurl:(id)sender{

pageCurlViewController = [[MyMapViewPageCurlViewController alloc] initWithNibName:@"MyMapViewPageCurlViewController" bundle:nil];
[pageCurlViewController.navigationController.toolbar setHidden:NO];
[pageCurlViewController setModalTransitionStyle:UIModalTransitionStylePartialCurl];
[pageCurlViewController setToolbarItems:toolbarItems];
[[self navigationController] presentModalViewController:pageCurlViewController animated:YES];

[pageCurlViewController getMapView:&mapView];
[pageCurlViewController release];
} 
```

随着地图视图页面的卷曲，我在它下面有一个新的视图控制器。新的视图控制器有一个带有 3 个段的分段控件。

```
- (void)viewDidLoad
{
[super viewDidLoad];
// Do any additional setup after loading the view from its nib.

[self.navigationController.toolbar setHidden:NO];
[directionSearchSegmentedControl addTarget:self action:@selector(segmentAction:) forControlEvents:UIControlEventValueChanged];
directionSearchSegmentedControl.selectedSegmentIndex = selectedIndex;
UIBarButtonItem *directionSearchSegmentedControlButton = [[[UIBarButtonItem alloc] initWithCustomView:directionSearchSegmentedControl] autorelease];

NSArray *toolbarItems = [NSArray arrayWithObjects: navigatorButton , flexibleSpace, directionSearchSegmentedControlButton, flexibleSpace, pageCurlButton, nil];
[self setToolbarItems:toolbarItems];
[self.navigationController.toolbar setHidden:NO];

} 
```

单击分段控制器中的每个段时，我有地图的标准/卫星/混合视图。

```
- (void)segmentAction:(id)sender
{
[self dismissModalViewControllerAnimated:YES];
    if([sender selectedSegmentIndex] == 0){
        selectedIndex = 0;
        pageCurlMapView.mapType = MKMapTypeStandard;
    }
    if([sender selectedSegmentIndex] == 1){
        selectedIndex = 1;
        pageCurlMapView.mapType = MKMapTypeSatellite;
    }
    if([sender selectedSegmentIndex] == 2){
        selectedIndex = 2;
        pageCurlMapView.mapType = MKMapTypeHybrid;
    }
    if([sender selectedSegmentIndex] == 2){

    }
directionSearchSegmentedControl.momentary = YES;
selectedIndex = directionSearchSegmentedControl.selectedSegmentIndex;
} 
```

页面卷曲功能工作正常。随着页面卷曲，如前所述，我在新视图中有一个分段控件。但是分段控件在 IOS 6 中不能正常工作。我已经调试和检查过了。单击段时，控件不进入事件方法。它在以前的 IOS 版本中仍然可以正常工作，但在 IOS 6 中却不行。无法弄清楚，出了什么问题。需要帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T10:29:03.347

如果您在应用程序启动时查看 Xcode 控制台，您是否看到如下消息：

**应用程序在应用程序启动结束时应该有一个根视图控制器**

如果是这样，那么您的问题可能是由于需要为 iOS 6 设置根视图控制器的方式发生了变化。

有关如何解决问题的信息，请参见[此处。](https://stackoverflow.com/questions/7520971/applications-are-expected-to-have-a-root-view-controller-at-the-end-of-applicati)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-27T08:31:03.610

抱歉，如果这有点晚了，但我一直在我的应用程序中做类似的事情。老实说，我只是使用了一个简单的切换方法来更改地图类型。代码如下。

```
- (IBAction)toggle:(id)sender {

switch ([sender selectedSegmentIndex]) {
    case 0:
    {
        [self.mapView setMapType:MKMapTypeStandard];
    }break;
    case 1:
    {
        [self.mapView setMapType:MKMapTypeHybrid];
    }break;
    case 2:
    {
        [self.mapView setMapType:MKMapTypeSatellite];
    }break;
  }

} 
```

现在我还没有尝试将它与多个视图控制器一起使用，所以这可能只适用于一个视图控制器。我刚开始在 iOS 上编程，所以请耐心等待。我将尝试将页面卷曲效果添加到我的应用程序中，但到目前为止我只有一个地图视图和一个按钮，当它被按下时，它会放大到用户的位置和用户可以更改地图类型..

PS这是一个分段控件，设置为名为“切换”的值更改操作，如果有帮助的话......

# php - file_get_contents 不起作用，但 fsockopen 有效

> ID：12816996
> 
> 赞同：1
> 
> 时间：2012-10-10T10:16:17.953
> 
> 标签：php, file-get-contents, fsockopen

我已经在 Ubuntu Desktop 12.04 上安装了 php 5.3.14。

与：allow_url_fopen = 1

下面不起作用：

```
<?php
echo file_get_contents('http://www.example.com'); 
```

作品如下：

```
<?php
$fp = fsockopen("www.example.com", 80, $errno, $errstr, 30);
if (!$fp) {
    echo "$errstr ($errno)<br />\n";
} else {
    $out = "GET / HTTP/1.1\r\n";
    $out .= "Host: www.example.com\r\n";
    $out .= "Connection: Close\r\n\r\n";
    fwrite($fp, $out);
    while (!feof($fp)) {
        echo fgets($fp, 128);
    }
    fclose($fp);
} 
```

甚至 curl_exec() 也有效。我也尝试过使用 Python，Python 可以获取 www 内容。

我没有使用防火墙、代理。

但是本地网络没有问题。（192.168.1.36 是我的本地服务器机器。）

```
<?php
echo file_get_contents('http://192.168.1.36); 
```

是否有任何配置或安装问题？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-10-16T18:46:26.293

答案之一是：

您还需要检查 PHP.ini 文件

```
extension = php_openssl.dll 
```

如果启用与否，如果没有，则只需通过删除“;”来启用它 符号

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T10:29:44.413

这是一个类似的问题：

[PHP file_get_contents 在本地主机上不起作用](https://stackoverflow.com/questions/8423404/php-file-get-contents-does-not-work-on-localhost)

检查答案，然后它应该工作

# java - 网络爬虫对服务器的连续请求之间的最小延迟

> ID：12816998
> 
> 赞同：0
> 
> 时间：2012-10-10T10:16:31.640
> 
> 标签：java, web, webserver, web-crawler, robots.txt

我已经构建了一个多线程网络爬虫，它发出从相应服务器获取网页的请求。由于它是多线程的，它会使服务器负担过重。由于哪个服务器可以阻止爬虫（礼貌）。

我只想在对同一服务器的后续请求之间添加最小延迟的功能。是否将来自每个服务器（域）的robot.txt 的最小延迟存储到HashMap 并将其与向该特定服务器发出请求的最后时间进行比较是否可以？

如果在 robots.txt 中没有指定延迟怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-10T10:57:57.577

事实上的标准 robots.txt 文件格式没有指定请求之间的延迟。这是一个非标准的扩展。

没有“Crawl-delay”指令并不意味着您可以随心所欲地锤击服务器。

* * *

> 是否将来自每个服务器（域）的robot.txt 的最小延迟存储到HashMap 并将其与向该特定服务器发出请求的最后时间进行比较是否可以？

这还不够。对于 robots.txt 不使用非标准指令的情况，您还需要在请求之间设置最短时间。您还应该尊重 503 响应中的“Retry-After”标头。

理想情况下，您还应该注意响应请求所花费的时间。缓慢的响应是拥塞或服务器过载的潜在迹象，如果认为是拥塞的原因，站点管理员更有可能阻止您的爬虫。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-15T09:20:06.693

我在我的网络爬虫上使用 0.5 秒作为延迟。将其用作默认值，如果已指定，则应使用它。