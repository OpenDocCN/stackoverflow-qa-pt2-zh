# StackOverflow 问答 13172000-13172999

# c# - 获取数组列表中的字符串数组中的第一个元素。C# ASP.NET

> ID：13172002
> 
> 赞同：0
> 
> 时间：2012-11-01T06:24:00.410
> 
> 标签：c#, asp.net, arrays, multidimensional-array, arraylist

在我的一个 Web 应用程序页面中，我有一个 C# 代码，如下所示。如何获取arraylist中字符串数组的第一个元素？

**代码**

```
 protected void Button3_Click(object sender, EventArgs e)
    {
        //Array test[9] = new Array();
        ArrayList list = new ArrayList();

        list.Add(new string[] { "1", "Test1", "20", "30" });
        list.Add(new string[] { "2", "Test2", "5", "30" });
        list.Add(new string[] { "3", "Test3", "10", "30" });
        list.Add(new string[] { "4", "Test4", "20", "30" });
        list.Add(new string[] { "5", "Test5", "0", "30" });
        list.Add(new string[] { "6", "Test6", "15", "30" });
        list.Add(new string[] { "7", "Test7", "10", "30" });
        list.Add(new string[] { "8", "Test8", "20", "30" });
        list.Add(new string[] { "9", "Test9", "30", "30" });

        LabelMessages.Text = "Number of Items: " + list.Count + " Item 1 record 1: " + list[1];

    } 
```

**预期产出**

```
Number of Items: 9 Item 1 record 1: 1 
```

**电流输出（这不是我想要的）**

```
Number of Items: 9 Item 1 record 1: System.String[] 
```

因此，假设以下代码：

```
list.Add(new string[] { "1", "Test1", "20", "30" }); 
```

更改为：

```
list.Add(new string[] { "Test1", "20", "30" }); 
```

那么预期的输出应该是：

```
Number of Items: 9 Item 1 record 1: Test1 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T06:32:48.503

您需要字符串数组的第一个元素，并且列表的每个元素都呈现一个字符串数组，因此您必须将列表元素类型转换为字符串数组，然后访问数组的第一个元素。这`((string[])list[0])[0]`将在列表的零位置为您提供数组的第一个元素。

你正在使用`ArrayList which is not generic list`，你可以使用`List which is generic list`，你将会`free from type casting`。

```
LabelMessages.Text = "Number of Items: " + list.Count + 
                     " Item 1 record 1: " +( (string[])list[0])[0]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T06:43:30.383

表达式 list[1] 将返回当前是**字符串数组的****Object**类型。

 **由于它是一个对象，因此您将无法像*list[1][1]*那样直接对其进行索引。您必须先将其显式转换为字符串数组，然后才能对其进行索引。

((字符串[])列表[1])[1];

你可以像这样使用它

```
LabelMessages.Text = "Number of Items: " + list.Count + " Item 1 record 1: " +  ((string[])list[1])[1]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T07:07:48.057

嗨，您可以实现反向解析，您可以获得元素。

((字符串[])列表[0])[0]**

# riak - 节点 dev1@192.168.1.11 不可访问

> ID：13172005
> 
> 赞同：4
> 
> 时间：2012-11-01T06:24:09.657
> 
> 标签：riak

首先，我完全按照“The Riak Fast Track”教程构建了一个四节点的 Riak 集群。

然后，我在 dev[1-4]/etc/app.config 文件中将 127.0.0.1 IP 更改为 192.168.1.11，并重新安装集群（删除 dev[1-4]，全新安装）。

但Riak 告诉我： `Node dev1@192.168.1.11 is not reachable`当我发布`dev2/bin/riak-admin cluster join dev1@192.168.1.11`

怎么了？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T17:29:47.083

+1 对布赖恩·罗奇在评论中所说的话。确保在启动节点之前更新 app.config 文件和 vm.args 中的节点名称和 IP 地址。

在向 dev2 发出集群加入命令之前，确保节点 dev1 已启动且可访问。

意思是，确保 dev1/bin/riak ping 返回一个“pong”等。

# python - Matplotlib 绘图窗口出现在不同的桌面上

> ID：13172007
> 
> 赞同：11
> 
> 时间：2012-11-01T06:24:19.813
> 
> 标签：python, macos, matplotlib

我在 Mac 10.8 上使用 matplotlib 1.1.1 运行 Python 2.7.2。我使用的后端是 MacOSX。如果我运行任何绘图代码，例如

```
import matplotlib.pyplot as plt
plt.plot([1,2,3], [4,5,6])
plt.show() 
```

绘图窗口总是出现在与我正在处理的桌面不同的桌面上。如果我使用 ipython 或运行脚本，此行为是相同的。有没有解决的办法？每次都得去追剧情好烦！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-10T18:46:57.793

[来源](https://stackoverflow.com/a/7450808/489590)

```
import matplotlib
matplotlib.use("wx")
from pylab import *
figure(1)
plot([1,2,3,4,5])
thismanager = get_current_fig_manager()
thismanager.window.SetPosition((500, 0))
show() 
```

对于`TkAgg`，只需将其更改为：

```
thismanager.window.wm_geometry("+500+0") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-09T17:48:45.503

我发现这实际上很有帮助： [matplotlib window layout questions](https://stackoverflow.com/questions/7802366/matplotlib-window-layout-questions)

尽管如此，Brian 似乎已经打败了我。你检查过 WXAgg 吗？

```
>>> import matplotlib
>>> matplotlib.get_backend()
'WXAgg' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-11T05:53:21.137

如果您之前使用 OSX 的桌面管理命令移动了它，您可以像这样修复它：

右键单击（命令单击）Dock 中 Matplotlib 图标的 Python 图标。在选项下，有一些选项可以将“应用程序”分配给桌面。设置为无。如果它仍然在另一个桌面上打开，请将其移动到您想要的桌面（一种方法是单击并按住窗口的标题...按 Ctrl-#，其中 # 是您想要的桌面）

# java - Java 编译错误 无法配置 JAVA_HOME

> ID：13172014
> 
> 赞同：0
> 
> 时间：2012-11-01T06:24:52.817
> 
> 标签：java, jenkins, javac

当我运行 Jenkins 时，它会从存储库中检出代码并执行`mvn package`或执行某些命令。我收到此错误：

> 无法在以下位置找到 Javac 编译器：/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0.x86_64/jre/../lib/tools.jar 请确保您使用的是 JDK 1.4 或更高版本，而不是一个 JRE（需要 com.sun.tools.javac.Main 类）。在大多数情况下，您可以通过设置 JAVA_HOME 环境变量来更改 Java 安装的位置。

```
My JAVA_HOME points at jdk location only.Still it looks at 
```

/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0.x86_64/jre/../lib/tools.jar 用于编译器。为什么会这样？？？

似乎问题出在代码上..它指向tools.jar的/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0.x86_64/jre/../lib/，而它需要查看 jar 所在的 /usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0.x86_64/lib/。我尝试将 jar 复制到 jre /lib/，但无济于事。任何解决方案为此...无论如何都感谢您的回答..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T06:30:00.713

您需要 jdk（java 开发工具包）来编译 java 程序。jre 仅用于运行已编译的 java 程序。在你的情况下，它指向一个 jre，这就是你得到这个的原因。你可以下载jdk并安装。

你可以从这里下载 jdk rpm

```
http://www.oracle.com/technetwork/java/javase/downloads/jdk7u9-downloads-1859576.html 
```

如果您已经安装，请使用它来选择 java 替代方案。

```
 /usr/sbin/alternatives --config java 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:02:24.103

卸载已安装的 JRE。只保留一个由 JAVA_HOME 定义的 JAVA，并针对 JAVA_HOME 定义您的 lib 和类路径。

# ajax - SEO：在 HREF 中使用 #hash 链接还是为 AJAX 链接使用普通链接？

> ID：13172020
> 
> 赞同：0
> 
> 时间：2012-11-01T06:25:43.753
> 
> 标签：ajax, seo

我的网站严重依赖 AJAX。我`#!`在 URL 中使用来维护后退按钮功能和每个页面的不同 URL。

这就是我的链接现在的样子：

```
<a href="#!/something"> 
```

我正在考虑这种其他方法，以便我的链接具有常规的href：

```
<a href="/something" class="ajax">

$("a.ajax").click(function (e) {
    e.preventDefault();
    window.location = '/#!' + $(this).attr('href');
    }); 
```

优点是所有页面都已经有一个 http 地址，我正在考虑做一个非 js 版本的网站，所以这样做会更容易。

无论如何，我不知道该选择什么，是否有优势（与 SEO 或其他）相比？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T11:53:16.170

据我所知，没有问题

```
<a href="#!/something"> 
```

你可以通过这个[关于 Ajax Crawling 的 Google 常见问题解答](https://developers.google.com/webmasters/ajax-crawling/docs/faq)

还可以通过[Google 阅读此 Ajax Crawling Getting Started Guide](https://developers.google.com/webmasters/ajax-crawling/docs/getting-started)

最后，不要忘记更新您的站点地图以列出新的 AJAX URL。

# sockets - RAW套接字发送：丢包

> ID：13172023
> 
> 赞同：2
> 
> 时间：2012-11-01T06:25:54.620
> 
> 标签：sockets, send, loss

在基于 RAW-socket 的数据包发送测试期间，我发现了非常恼人的症状。使用默认的 RAW 套接字设置（特别是对于 SO_SNDBUF 大小），原始套接字发送 100,000 个数据包没有问题，但发送所有数据包大约需要 8 秒，并且数据包被接收进程正确接收。这意味着默认设置可实现约 10,000 pps（每秒数据包）。（我觉得这个数字太小了，出乎我的意料。）

无论如何，为了增加 pps 值，我通过调整 /proc/sys/net/core/{wmem_max, wmem_default} 来增加数据包发送缓冲区的大小。增加两个系统参数后，我已经确定了刺激性症状。100,000 个数据包被迅速发送，但接收进程（位于远程节点）仅接收 3,000 个数据包。

在发送 Linux 机器（Centos 5.2），我做了 netstat -a -s 和 ifconfig。Netstat 显示发出了 100,000 个请求，但 ifconfig 显示只有 3,000 个数据包被发送。

我想知道出现这种情况的原因，也想知道如何解决这个问题（当然不知道是不是真的有问题）。

有人能给我一些建议、例子或对这个问题的参考吗？

最好的问候， bjlee

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T08:41:13.850

你没有说你的数据包有多大，或者你的网络、网卡、硬件的任何特征，或者关于远程机器接收数据的任何东西。

我怀疑您应该使用[ethtool](http://linux.die.net/man/8/ethtool)来调整环形缓冲区的数量，而不是使用 /proc/sys 的东西，但不一定要调整这些缓冲区的大小。

此外，[此页面](http://www.ece.rice.edu/~willmann/teng_nics_hownicswork.html)是一个很好的资源。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-10-19T19:59:48.687

我一直在处理基本相同的问题。我不小心偶然发现了一个完全违反直觉的答案，对我来说仍然没有意义，但它似乎有效。

我正在尝试越来越大的`SO_SNDBUF`缓冲区大小，并且疯狂地丢失数据包。由于意外超出了我的系统定义的最大值，它将`SO_SNDBUF`大小设置为一个非常小的数字，但奇怪的是，我不再遇到丢包问题。所以我故意设置`SO_SNDBUF`为`1`，这又导致了一个非常小的数字（不确定，但我认为它实际上设置为类似`1k`），而且令人惊讶的是，仍然没有丢包。

如果有人可以解释这一点，我将最有兴趣听到它。以防万一，我的版本`Linux is RHEL 5.11`（是的，我知道，我有点落后于时代）。

# linux - 递归地列出每个存档的五个文件：ssh

> ID：13172029
> 
> 赞同：0
> 
> 时间：2012-11-01T06:26:09.050
> 
> 标签：linux, ssh

我正在使用以下命令来获取特定目录中每个存档中文件的详细列表。解压缩-l“ *.zip* ”。但是这个命令的问题是它正在征用档案中的所有文件。我想将每个存档列出的文件数限制为 5 个。我正在使用 ssh。谢谢。：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T06:28:10.917

您可以使用`head`或`tail`限制前 n 行或下 n 行

```
unzip -l a.zip | head -n 5 
```

# asp.net-mvc - How to autoCreateTables along with SimpleMembership tables in ASP.NET MVC

> ID：13172033
> 
> 赞同：1
> 
> 时间：2012-11-01T06:26:22.980
> 
> 标签：asp.net-mvc, asp.net-mvc-4, membership-provider, simplemembership

Today, I created a new ASP.NET MVC 4 project - Internet application.

With all the files that comes in the solution in the Account Controller I saw an attribute called `[InitializeSimpleMembership]`

```
[Authorize]
[InitializeSimpleMembership]
public class AccountController : Controller
{} 
```

and by only providing a proper db connectionstring property in the web.config

```
<connectionStrings>
<add name="DefaultConnection" connectionString="Data Source=.;
Initial Catalog=demo;
User ID=test;Password=test;" providerName="System.Data.SqlClient" /> 
```

and when the application runs, it checks if the available database exists or not and if not creates one and adds few memebership tables to it also. I must say I was very very impressed with the new MVC 4 - Internet app template.

**Which brings me to my question :** I liked the idea of creating database and executing script from the application. I wanted to know how to add more tables to this.

For example : In the `InitializeSimpleMembershipAttribute.cs` file it check if a database is present, if not it creates it using the credentials present in the web.config and also adds the following tables to it.

*   UserProfile
*   webpages_Membership
*   webpages_OAuthMembership
*   webpages_Roles
*   webpages_UsersInRoles

**what changes do I have to make to have my other tables to be added along with this ?**

If this is possible, the idea of keeping sql scripts and executing them on each clean deploy can be avoided. I am working on a self-host MVC app ( It's Open-source, soon to come on Codeplex ;) ) so this will really be good for people who want to use my app without getting their hands dirty in SQL scripts.

Please can some one let me know if this is even possible. Thanks

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-05T10:40:09.307

There are two distinct parts to the tables being created:

1.  The UserProfile table is created by adding the attribute [Table("UserProfile")] before the model in Models/AccountModels.cs (remember to add it as a DbSet to your context as well).
2.  The 'webpages_' tables are created by the WebSecurity.InitializeDatabaseConnection call in Filters/InitializeSimpleMembershipAttribute.cs called by adding the [InitializeSimpleMembership] in Controllers/AccountController.cs. These are 'internal' tables required by the SimpleMembershipProvider and you would not typically want to alter them.

This is called the CodeFirst method of the EntityFramework (your other options are ModelFirst and DbFirst). To have your own POCOs/models auto created you would want to add the Table("TableName") attribute similar to UserProfile above.

Refer to the Entity Framework Website for full walkthroughs of the CodeFirst approach (and much much more). [http://msdn.microsoft.com/en-us/data/ef.aspx](http://msdn.microsoft.com/en-us/data/ef.aspx)

# javascript - 如何更好地处理多个菜单项之间的 hide()、show() div？

> ID：13172034
> 
> 赞同：0
> 
> 时间：2012-11-01T06:26:35.337
> 
> 标签：javascript, jquery, html

目前，我有这些菜单项。

```
A    B    C    D 
```

并且 jQuery 显示/隐藏它们各自的目标包装器 div。

```
$("#showItemA").click(function () {

        $("#aWrapper").show();
        $("#bWrapper").hide();
        $("#cWrapper").hide();
        $("#dWrapper").hide();
} 
```

它变得混乱且难以跟踪。有没有更好的方法可以将其**压缩**为仅 1-2 个函数？

锚链接：

```
<a id="showItemA">A</a>
<a id="showItemB">B</a>
<a id="showItemC">C</a>
<a id="showItemD">D</a> 
```

DIV 包装器

```
<div id="aWrapper"></div>
<div id="bWrapper"></div>
<div id="cWrapper"></div>
<div id="dWrapper"></div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T06:30:01.963

是的。首先，找出一个选择器，它将选择所有菜单包装器并将它们全部隐藏。然后展示你想要的那个。

```
$("#showItemA").click(function () {

        $(".menuWrapper").hide();
        $("#aWrapper").show();
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-01T06:40:20.850

尝试这样的事情

锚链接：

```
 <a id="aWrapper" class="myMenu">A</a>
  <a id="bWrapper" class="myMenu">B</a> 
```

div 包装器

```
 <div class="aWrapper myWrapper"></div>
 <div class="bWrapper myWrapper"></div> 
```

Javascript

```
$(".myMenu").click(function () {
    $(".myWrapper").hide();
    $("." + this.id).show();
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-01T07:27:29.327

在不更改标记的情况下，

```
$('div[id*="Wrapper"]').hide();
$('a[id*="showItem"]').on('click', function() {
    $('div[id*="Wrapper"]').hide();
    $('#'+$(this).html().toLowerCase()+"Wrapper").show();
})​​​​​​​;​ 
```

[演示](http://jsfiddle.net/MfhPc/ "演示")

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-01T06:50:32.800

您可以使用**HTML5 data-* 属性**来完成工作。

**HTML**

```
<a href="#" id="showItemA" data-id="aWrapper">A</a>
<a href="#" id="showItemB" data-id="bWrapper">B</a>
<a href="#" id="showItemC" data-id="cWrapper">C</a>
<a href="#" id="showItemD" data-id="dWrapper">D</a>
DIV Wrappers

<div id="aWrapper">A</div>
<div id="bWrapper">B</div>
<div id="cWrapper">C</div>
<div id="dWrapper">D</div>​ 
```

**Javascript**

```
$('a[data-id]').on('click', function(e) {
    e.preventDefault();
    var id = $(this).data('id');
    $('div').hide();
    $('#'+ id).show()
});​ 
```

**[检查演示](http://jsfiddle.net/sushanth009/kz2m2/)**

# python - 在谷歌应用引擎中使用 jquery 获取文本框的值

> ID：13172044
> 
> 赞同：-1
> 
> 时间：2012-11-01T06:27:13.943
> 
> 标签：python, google-app-engine, jquery, twitter-bootstrap

我正在尝试使用 jquery 获取 textbox(name =city and id=city) 的值，但它在我的 python 代码中显示“UNDEFINED”。

HTML 代码：

```
 <input type="text" class="span3" id="city" name="city" data-provide="typeahead" data-items="4" />
        </div>

        <script src="bootstrap/newjs/jquery-1.7.1.min.js"></script>
        <script src="bootstrap/newjs/new.js"></script>
        <script>
             $('#city').typeahead({ 
                    ajax: { url: '/searchmy?city='+$("#city").value, 
                        triggerLength: 1 }

            });
        </script> 
```

蟒蛇代码：

```
name=self.request.get('city') 
```

在这里，我试图获取文本框的值（name=city，id=city），它显示为 UNDEFINED。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T07:16:04.690

该代码应该`$("#city").val()`代替`$("#city").value`See jquery doc on [.val()](http://api.jquery.com/val/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T08:36:00.360

请尝试使用 GET 或 POST 类型，看看它是否工作。

```
$('#city').typeahead({ 
     ajax: { url: '/searchmy?city='+$("#city").value, 
     type: "GET" //POST
     triggerLength: 1 }

}); 
```

# c# - 回发后如何将数据保存在通用列表中

> ID：13172048
> 
> 赞同：2
> 
> 时间：2012-11-01T06:27:39.247
> 
> 标签：c#, asp.net, nested-repeater

我正在尝试通过将 a`Nested Repeater`数据绑定到 a 来填充 a `Generic List`。

用户将能够随意添加/删除值`Generic List`。
这一切都被整齐地包裹在一个`Ajax Update Panel`.

我现在遇到一个问题，当用户尝试向 中添加值时`Generic List`，它只添加 ` 初始值，然后在他们单击以添加更多值时不断更新该值。

我怀疑这是因为`Generic List`它没有保留其初始数据或其他东西；但我真的不太确定。

请有人帮忙。

**挑战.cs**

```
public class challenge
{
    public class Team
    {
        public string TeamName { get; set; } 
    }
    public class Member:Team
    {
        public string Name { get; set; }
    }

    //This is just a test, but I cant get a list in a class file to work properly.
    public class ChallengeList
    {
        public List<Member> Member()
        {
            return null;
        }
    }
} 
```

**页面.cs**

```
private List<challenge.Member> Members = new List<challenge.Member>();

protected void Page_Load(object sender, EventArgs e)
{
    if (Page.IsPostBack) return;

    lblCurrent.Text = SiteSession.Current.Nickname;
    lblChallenge.Text = Request.QueryString["Challenge"];

    //Add the initial teams
    PopulateTeamRepeater();
    AddData();
}

private List<challenge.Member> AddData()
{
    Members.Add(
        new challenge.Member
            {
                Name = SiteSession.Current.Nickname,
                TeamName = "Team One"
            });
    Members.Add(
            new challenge.Member
                {
                    Name = Request.QueryString["Challenge"],
                    TeamName = "Team Two"
                });

    return Members;
}

/// <summary>
/// Add the selected member to the team
/// </summary>
/// <param name="sender"></param>
/// <param name="e"></param>
protected void drpTeams_SelectedIndexChanged(object sender, EventArgs e)
{
    Members.Add(
        new challenge.Member
        {
            Name = tbMemberAuto.Text,
            TeamName = drpTeams.SelectedItem.Value
        });

    PopulateTeamRepeater();
} 
```

**更新：中继器的绑定（同一页面）**

```
 /// <summary>
    /// Populates the Team repeater control with the amount of teams the user has selected
    /// </summary>
    private void PopulateTeamRepeater()
    {

        ArrayList cArrayList = new ArrayList(); //Main holder
        StringBuilder sb = new StringBuilder(); //Temp holer

        try
        {

            //Get all team numbers
            foreach (challenge.Member Team in AddData())
            {
                //Add it to the string builder
                sb.Append(Team.TeamName + ";");
            }

            //Split the string to get the strings (As a temporary holder)
            string[] cs = sb.ToString().Split(';');

            //Add the groups (unique) to the next holder
            foreach (string s in cs.Where(s => !cArrayList.Contains(s)))
            {
                cArrayList.Add(s);
            }

            rptTeam.DataSource = cArrayList;
            rptTeam.DataBind();
        }
        catch (Exception es)
        {
            misc.ChangeInfo(Master.Page, "Error filling teams: " + es.Message, "ui-state-error");
        }
    }

/// <summary>
/// Populate the Member repeater based on the Team
/// </summary>
/// <param name="sender"></param>
/// <param name="e"></param>
protected void rptTeam_ItemDataBound(object sender, RepeaterItemEventArgs e)
{
    Repeater rptMembers = (Repeater)e.Item.FindControl("rptMembers");
    Label lblTeam = (Label)e.Item.FindControl("lblTeam");

    rptMembers.DataSource = AddData().Where(m => m.TeamName == lblTeam.Text);
    rptMembers.DataBind();
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T06:39:16.800

您可以将它们保持在视图状态：

```
const string cChalMemNameConst = "ChalMem_cnst";

public List<challenge.Member> Members
{
    get
    {
        if (!(ViewState[cChalMemNameConst] is List<challenge.Member>))
        {
            // need to fix the memory and added to viewstate
            ViewState[cChalMemNameConst] = new List<challenge.Member>();
        }

        return (List<challenge.Member>)ViewState[cChalMemNameConst];
    }
} 
```

还要`[Serializable]`在你的类上添加你放在`List<>`as 上的属性：

```
[Serializable]
public class challenge
{
    [Serializable]
    public class Team
    {
        public string TeamName { get; set; } 
    }

    [Serializable]
    public class Member:Team
    {
        public string Name { get; set; }
    }

    [Serializable]
    public class ChallengeList
    {
        public List<Member> Member()
        {
            return null;
        }
    }
} 
```

注意：该行`private List<challenge.Member> Members = new List<challenge.Member>();`必须通过上述将其保存到视图状态的语句进行更改。

# typo3 - 在 RTE 中为 pre 和 code 标记保留空格

> ID：13172051
> 
> 赞同：1
> 
> 时间：2012-11-01T06:27:54.290
> 
> 标签：typo3, rte

我想通过`<pre>`和/或`<code>`标签显示代码，效果很好。空白在第一次保存时保存并在前端正确显示。但是，在后端重新加载内容时，编辑器会显示没有额外空格的代码。再次保存会删除整个代码格式。

我认为有一些设置，但直到现在我找不到任何东西。对此有任何提示吗？

对于代码突出显示，我使用了`GeshiLib`and`vjrtecodesnippets`扩展。

**编辑：**

对不起，错过了配置。涉及基本`rtehtmlarea`内容，当前为 v4.7.5，没有针对 TCA 的特定更改，因为它是来自 TYPO3 的标准*文本内容元素*的标准正文字段（通过 显示`css_styled_content`）。

RTE 的 PageTS 如下所示：

```
RTE.default.hidePStyleItems := removeFromList(pre)
RTE.default.proc {
  allowTags := addToList(pre)
  entryHTMLparser_db.allowTags < RTE.default.proc.allowTags

  overruleMode = tx_vjrtecodesnippets,ts_css,cleanenc
  allowTags := addToList(code)
  allowTagsOutside := addToList(code)

  entryHTMLparser_db {
    allowTags < RTE.default.proc.allowTags
    allowTagsOutside < RTE.default.proc.allowTagsOutside
  }

  HTMLparser_rte {
    allowTags < RTE.default.proc.allowTags
    allowTagsOutside < RTE.default.proc.allowTagsOutside
  }
} 
```

**Edit2：**我们发布了 TYPO3 扩展 news_blog 正是这样做的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T02:05:32.810

我想写一个评论，但是一个带有复杂猜测的简短答案可能同样好：

*   我在自己的网站上检查过，`<code>`标签工作正常。空格存储`&nbsp;`在正文字段中，因此在保存和重新打开时会保留。
*   您是否尝试过删除该行
    `RTE.default.hidePStyleItems := removeFromList(pre)`？
*   根据[手册](http://typo3.org/extension-manuals/vjrtecodesnippets/0.0.4/view/1/2/)，只有`<code>`标签支持`vjrtecodesnippets`。您真的需要*两个*标签来突出显示语法吗？
*   另外，您是否尝试过如下更改 PageTS 以启用`<pre>`？：

-

```
RTE.default.proc {
  allowTagsOutside := addToList(code,pre)
} 
```

**编辑：**
我发现了一个相关的[TypoScript 片段](http://snipplr.com/view/9197/)，这对于您的情况可能值得注意。请尝试进行以下调整：

在模板设置部分：

```
lib.parseFunc.allowTags := addToList(code,pre)
lib.parseFunc_RTE.allowTags := addToList(code,pre) 
```

在 PAGE TSconfig 中：

```
RTE.default.proc {
  allowTags := addToList(code,pre)
  allowTagsOutside := addToList(code,pre)
  overruleMode = tx_vjrtecodesnippets,ts_css,cleanenc

  // CONTENT TO DATABASE
  HTMLparser_rte {
    allowTags < RTE.default.proc.allowTags
    allowTagsOutside < RTE.default.proc.allowTagsOutside
  }

  // Entry HTML parser
  entryHTMLparser_db {
    allowTags < RTE.default.proc.allowTags
    allowTagsOutside < RTE.default.proc.allowTagsOutside
  }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-09-29T09:36:23.043

这适用于typo3 7.4

```
 RTE.default.proc {
    allowTags := addToList(pre)

    HTMLparser_rte {
        allowTags < RTE.default.proc.allowTags
    }

    entryHTMLparser_db {
        allowTags < RTE.default.proc.allowTags
    }
} 
```

当然，您还可以添加更多用“，”分隔的标签名称

如需更多设置您的 RTE 排版检查。 [https://docs.typo3.org/typo3cms/CoreApiReference/6.2/Rte/Transformations/Tsconfig/Index.html](https://docs.typo3.org/typo3cms/CoreApiReference/6.2/Rte/Transformations/Tsconfig/Index.html)

# c++ - SDL_DisplayFormat 有效，但 SDL_DisplayFormatAlpha 无效

> ID：13172059
> 
> 赞同：0
> 
> 时间：2012-11-01T06:28:26.460
> 
> 标签：c++, sdl, sdl-1.2

以下代码旨在在黑色背景上显示一个绿色方块。它执行，但绿色方块没有出现。但是，如果我更改`SDL_DisplayFormatAlpha`为`SDL_DisplayFormat`正方形，则会正确呈现。

那我有什么不明白的？在我看来，我正在`*surface`使用 alpha 蒙版进行创建，并且正在使用`SDL_MapRGBA`映射我的绿色，因此使用起来也是一致的`SDL_DisplayFormatAlpha`。

（为了清楚起见，我删除了错误检查，但在此示例中没有任何 SDL API 调用失败。）

```
#include <SDL.h>

int main(int argc, const char *argv[])
{
    SDL_Init( SDL_INIT_EVERYTHING );

    SDL_Surface *screen = SDL_SetVideoMode(
        640, 480, 32, SDL_HWSURFACE | SDL_DOUBLEBUF
    );

    SDL_Surface *temp = SDL_CreateRGBSurface(
        SDL_HWSURFACE, 100, 100, 32, 0, 0, 0,
        ( SDL_BYTEORDER == SDL_BIG_ENDIAN ? 0x000000ff : 0xff000000 )
    );

    SDL_Surface *surface = SDL_DisplayFormatAlpha( temp );

    SDL_FreeSurface( temp );

    SDL_FillRect(
        surface, &surface->clip_rect, SDL_MapRGBA(
            screen->format, 0x00, 0xff, 0x00, 0xff
        )
    );

    SDL_Rect r;
    r.x = 50;
    r.y = 50;

    SDL_BlitSurface( surface, NULL, screen, &r );

    SDL_Flip( screen );

    SDL_Delay( 1000 );

    SDL_Quit();

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T02:02:30.837

我为 SDL_MapRGBA 使用了错误的格式。本来应该

```
SDL_FillRect(
    surface, NULL, SDL_MapRGBA(
        surface->format, 0xff, 0xff, 0x00, 0xff
    )
); 
```

（`surface->format`而不是`screen->format`。）我认为两者是等价的。他们是在调用之后`SDL_DisplayFormat()`，而*不是*在调用之后`SDL_DisplayFormatAlpha()`。屏幕表面没有 Alpha 通道，因此两者的格式不同。

[（来自gamedev.stackexchange.com](https://gamedev.stackexchange.com/questions/41954/sdl-displayformat-works-but-not-sdl-displayformatalpha)的交叉发布）

# php - PHP - 如何捕获来自 oracle 程序的响应？

> ID：13172061
> 
> 赞同：1
> 
> 时间：2012-11-01T06:28:33.820
> 
> 标签：php, oracle, stored-procedures

全部。我有一个关于从 oracle 程序中获取响应的问题。这是我的程序：

```
PROCEDURE generate_receipt_simop(in_receipt_number IN VARCHAR2, in_inv_status IN VARCHAR2, in_kode_cabang IN VARCHAR2, out_status OUT VARCHAR2, out_message OUT VARCHAR2)is
v_result_simop              NUMBER  DEFAULT 0;
out_status_simop            VARCHAR2(100)   DEFAULT NULL;
out_errormessage_simop      VARCHAR2(100)   DEFAULT NULL;
v_org_id                    NUMBER  DEFAULT 0;

BEGIN    
************
EXCEPTION WHEN OTHERS THEN
        logf('ROLLBACK (RECEIPT)');
        ROLLBACK;
        out_status     := 'F';
        out_message    := 'GENERATE FAILED (RECEIPT) '|| in_receipt_number ||SQLERRM;          
    END; 
```

我尝试使用 php 调用并读取响应，如下所示：

```
$param_xpi= array(
                        "in_receipt_number"=>"$x",
                        "in_receipt_status"=>"Y",
                        "in_kode_cabang"=>"PTK",
                        "out_status"=>"",
                        "out_message"=>""
                        );

            $sql_xpi = "DECLARE
            in_receipt_number VARCHAR2(50) DEFAULT '$x';
            in_kode_cabang VARCHAR2(3) DEFAULT 'PTK';
            out_status VARCHAR2(1) DEFAULT '';
            out_message VARCHAR2(240) DEFAULT '';
            in_inv_status VARCHAR2(1) DEFAULT 'Y';
            BEGIN
            XPI2.XPI2_AR_API_RECEIPT_PKG.generate_receipt_simop(in_receipt_number, in_inv_status, in_kode_cabang, out_status, out_message);
            dbms_output.put_line('Generate Status : ' || out_status);
            dbms_output.put_line('Message Status : ' || out_message);
            END;";

            $result = $db_simkeu->query($sql_xpi, $param_xpi);

            print_r($result);

            $out_status1 = $param_xpi['out_status'];
            $out_message = $param_xpi['out_message']; 
```

但是，变量 $out_status1 和 $out_message 始终为空。我认为我在此 php 代码中收听响应的方法有问题。请帮忙

感谢您的回答。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T08:22:48.627

您确定您的代码会引发任何异常吗？异常处理程序`WHEN OTHERS`仅在（任何）异常发生时才起作用。因此，如果您的代码没有引发异常，那么您的值将保持为空。

# html - 删除文本装饰下划线，用于 css 中的 a:after

> ID：13172062
> 
> 赞同：8
> 
> 时间：2012-11-01T06:28:34.753
> 
> 标签：html, css, navigation, text-decorations

> **可能重复：**
> [“text-decoration”和“:after”伪元素](https://stackoverflow.com/questions/1180910/text-decoration-and-the-after-pseudo-element)
> [“text-decoration”和“:after”伪元素，重新审视](https://stackoverflow.com/questions/1238881/text-decoration-and-the-after-pseudo-element-revisited)

我正在使用`<a>`标签制作导航链接以下是 html

```
<div class="nav_container">
    <a class="panel" href="demolink">menu1</a>
    <a class="panel" href="demolink">menu2</a>
    <a class="panel" href="demolink">menu3</a>
</div> 
```

并应用`:after`css 属性为分隔线放置管道

```
.panel:after{
    content:"|";
    margin-left: 4px;
    margin-right: 4px;
}
.panel:last-child:after{
    content:"";
} 
```

我想在选择菜单时添加下划线，因为我正在应用一个名为 selected 的类

```
.panel.selected {
    text-decoratoion:underline;
} 
```

但问题是菜单“|”之后的管道 也有下划线，我想删除它。我什至尝试将css更改`.panle:after`如下，

```
.panel:after{
    content:"|";
    margin-left: 4px;
    margin-right: 4px;
    text-decoration:none;
} 
```

但下划线仍然存在。

任何建议，谢谢。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-11-01T06:29:54.047

**试试这个：**

```
.panel:after {
    display:inline-block;
} 
```

* * *

**或使用以下内容：**

```
.panel {
  display: inline-block;
  vertical-align: top;
  position: relative;
  color: black;
  font-size: 14px;
  font-weight: bold;
  margin: 0 5px;
}

.panel:after {
  content: '';
  border-left: solid 2px red;
  left: -10px;
  top: 2px;
  height: 10px;
  position: absolute;
}

.panel:first-child:after {
  display: none;
}

.panel:hover {
  text-decoration: none;
}
```

```
<div class="nav_container">
  <a class="panel" href="demolink">menu1</a>
  <a class="panel" href="demolink">menu2</a>
  <a class="panel" href="demolink">menu3</a>
</div>
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-01T09:15:32.613

您也可以针对您的问题使用另一种方法：-[演示](http://tinkerbin.com/49ZWfcb1)

我尝试过使用最小化的代码：-

**HTML**

```
<div class="nav_container">
    <a href="demolink">menu1</a>
    <a href="demolink">menu2</a>
    <a href="demolink">menu3</a>
</div> 
```

**CSS**

```
.nav_container a {
color:red;
display:inline-block;
}
.nav_container a + a{
color:red;
border-left:1px solid red;
padding-left:7px;
line-height:12px;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-01T07:02:08.343

我不完全知道你的`.panel.selected {}`角色是做什么的。但是，您可以通过使用它来使链接成为**焦点**时带下划线。

> `.panel:focus {text-decoration:underline;}`

**您可以像这样从链接**和**管道（|）**中删除下划线。

> `.panel:link {text-decoration:none;}`

将以上两个添加到您的页面并检查。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-11-02T14:08:05.840

满足您要求的简单菜单。

HTML：

```
<div class="menu">
<ul>
<li class="last-menu"><a href="#">menu1</a></li>
<li class="last-menu"><a href="#">menu2</a></li>
<li><a href="#">menu3</a></li>
</ul>
</div> 
```

CSS：

```
.menu{
    width:100%;
}

.menu ul{
    list-style:none;
}

.menu li{
    float:left;

}

.last-menu{
    border-right:1px solid #000;
} 
```

# php - 更新特定属性或字段

> ID：13172067
> 
> 赞同：2
> 
> 时间：2012-11-01T06:28:56.550
> 
> 标签：php, yii

问题1：

当我尝试使用`save()`任何 Yii 模型时，它会**更新**行中的所有字段。问题是：当我尝试保存模型用户时，即使没有要更新的密码，它也会获取数据库值（已经散列）并再次散列。我怎样才能对 YII 只更新我想要的字段？

代码：

```
$user = Users::model()->findByAttributes(array('username'=>$this->username));
$user->ip = $_SERVER['REMOTE_ADDR'];
$user->save(); 
```

Users.php（模型）：

```
public function beforeSave() {
    if (!empty($this->password))
        $this->password=$this->hashPassword($this->password);
    return true;
} 
```

* * *

问题2：

我有一个可以创建用户的 API。API 教程：[http ://www.yiiframework.com/wiki/175/how-to-create-a-rest-api/](http://www.yiiframework.com/wiki/175/how-to-create-a-rest-api/)

当我在数据库中有 crypter_password 而不是密码时，我收到错误：`Parameter password is not allowed for model Users`，因为 API 使用`$model->hasAttribute()`. 如何修复 API`actionCreate`以允许自定义参数？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T06:35:32.537

根据 Yii 的文档：[http ://www.yiiframework.com/doc/api/1.1/CActiveRecord#save-detail](http://www.yiiframework.com/doc/api/1.1/CActiveRecord#save-detail)

```
public boolean save(boolean $runValidation=true, array $attributes=NULL) 
```

$attributes - 数组 - 需要保存的属性列表。默认为 null，这意味着将从 DB 加载的所有属性都将被保存。

您可以传入要保存的字段数组。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T06:35:48.203

`Save ()``isNewRecord`如果属性为，则在数据库表中插入一行`true`。否则，*它将更新表中的相应行*（通常是使用这些“查找”方法之一获取记录的情况。）

您需要做的是更新特定字段，以便您可以使用[`SaveAttributes`](http://www.yiiframework.com/doc/api/1.1/CActiveRecord#saveAttributes-detail)它并接受已更新的字符串值数组，例如演示代码如下

```
$user = Users::model()->findByAttributes(array('username'=>$this->username));
$user->ip = $_SERVER['REMOTE_ADDR'];
$user->SaveAttributes(array('ip')); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T07:51:49.787

尽管这里列出的其他答案没有错，但它们绝对不是真正对开发人员友好的，而且很容易忘记将属性添加到保存行。

这是一种开发人员友好的工作方式。

在您的模型中，添加以下属性：

```
private $_aAttributesBackup; 
```

在这个变量中，我们将存储当前模型的精确副本。为此，需要添加以下 afterFind 方法：

```
public function afterFind()
{
    $this->_aAttributesBackup = $this->attributes;
} 
```

差不多好了。此时，模型会将他的所有属性存储在 attributesBackup 字段中，以便于比较。为了更容易，我们还需要一个方法来检查指定的属性是否具有备份值。我们通过将以下代码添加到我们的模型中来做到这一点：

```
public function getOriginalAttribute($sAttribute)
{
    if ($this->_aAttributesBackup)
    {
        return $this->_aAttributesBackup[$sAttribute];
    }

    return NULL;
} 
```

现在，如何检查密码是否已更改？很简单，通过添加以下 beforeSave 代码：

```
public function beforeSave()
{
    if ($this->getOriginalAttribute('password') != $this->password)
    {
        $this->password = sha1($this->password);
    }
    return parent::beforeSave();
} 
```

等等。现在每次执行代码 $Model->save(); 系统会检查密码是否被更改，如果密码被更改，则再次进行哈希，如果没有更改，则不再进行哈希。

# android - 如何在android上的webview中播放资产文件夹中的mp3文件？

> ID：13172068
> 
> 赞同：3
> 
> 时间：2012-11-01T06:29:06.313
> 
> 标签：android

我是新的 android 开发人员，试图在 WebView 中播放本地 sdcard mp3 文件。帮我。

我想在 android web view 应用程序中添加声音。（单击屏幕上的按钮时应播放声音。）我的​​ html 应用程序在浏览器中工作。但在android中不起作用。我不知道为什么？

```
WebView  webview;
 @Override
 public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        webview=(WebView)findViewById(R.id.webview);
        et_Url=(EditText)findViewById(R.id.et_Url);
        btn_Go=(Button)findViewById(R.id.btn_Go);

        webview.getSettings().setJavaScriptEnabled(true);
        webview.loadUrl("file:///android_asset/test.html"); 

 }
 //asset file
   test.html
   test.mp3
  //html source code
  <audio id="sample" src="file:///android_asset/test.mp3" controls preload></audio>
  <a href="javascript:playSegment(0.5);">Play2</a>
  <script>
  var audio = document.getElementById('sample');
  var segmentEnd;
  function playSegment(startTime, endTime){
    segmentEnd = endTime;
    audio.currentTime = startTime;
    audio.play();
  }
  </script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:31:28.453

我正在以这种方式解决我的问题..希望这对您有所帮助...

```
//asset folder
   test.html
   // test.html html source code 
     <a href="test.mp3">Play</a>
//raw folder contains following file
  test.mp3
    WebView  webview;
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        webview=(WebView)findViewById(R.id.webview);
        webview.setWebViewClient(new MyWebViewClient());
        webview.getSettings().setJavaScriptEnabled(true);
        webview.loadUrl("file:///android_asset/test.html");
    }
     class MyWebViewClient extends WebViewClient {

        @Override
        public boolean shouldOverrideUrlLoading(WebView view, String url) {
                 playaudio();
                 return true;
        }

    }
       private  void playaudio(){
           int i=R.raw.test;
            Log.v("id of file",""+i);
            if(i!=0){
            MediaPlayer player = new MediaPlayer().create(getBaseContext(),i);; 
            player.setVolume(0.9f, 0.9f);
            player.start();
            }
       } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T06:37:16.203

我希望这个答案对你有帮助

```
view.loadDataWithBaseURL("file:///android_res/raw/", javascrips, "text/html",
                "UTF-8", null); 
```

# javascript - 带有js的悬停动画不起作用

> ID：13172069
> 
> 赞同：1
> 
> 时间：2012-11-01T06:29:16.703
> 
> 标签：javascript, animation, hover

背景颜色在悬停时应该有动画，在不悬停时停止。为什么它不起作用的任何线索？JSLint 有效。

```
var pixColors = {
init: function() {
   function pixelColors(){
       var color = '#'+(Math.random()*0xCCCCCC<<0).toString(16);
    $('.colorAnim').animate({
    backgroundColor: color
}, 1000, pixelColors);
}
$('.colorAnim').hover(
function(){
pixelColors();
},
function() {
$('.colorAnim').stop(true);
});
}
}
$(document).ready(function() {
    pixColors.init();
}); 
```

[http://jsfiddle.net/Commandrea/WVU24/1/](http://jsfiddle.net/Commandrea/WVU24/1/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T06:35:58.890

默认情况下，颜色不能在 jQuery 中设置动画。您需要[jQuery Color](http://blog.jquery.com/2012/08/24/jquery-color-2-1-0/)或 jQuery UI。

# javascript - 用户输入未使用 Javascript 保存在模型中

> ID：13172071
> 
> 赞同：0
> 
> 时间：2012-11-01T06:29:26.600
> 
> 标签：javascript, jquery, python, html, django

建立一个站点，以便用户可以将主题添加到站点上，然后进行问答。使用 AJAX，主页上的“添加媒体”按钮将我的添加媒体表单（文本和图像）加载到站点。该框使用正确的表单呈现良好，但在点击提交后表单不会保存在数据库中。当只是在没有 jquery 的情况下将表单呈现到新的 HTML 页面上时，模型工作得很好并且输入被保存。如何将在 jquery 灯箱中提交的信息也保存在数据库中？

所以这是html页面

```
#home.html
<a href="#login-box" class="btn btn-success">Add Media</a>  
        <div id="login-box" class="addmovie-popup"> 
```

这是与之配套的jquery

```
#home.js
$(document).ready(function() {
    $('.block3 a').click(function(ev) {
        ev.preventDefault();
        var url = $(this).attr('href');
        $('#login-box').load('http://127.0.0.1:8000/home/add_movie/');
    });
}); 
```

网址配置

```
#urls.py
url(r'^add_media/$', 'add_media'), 
```

添加媒体的视图

```
#views.py
def add_media(request):
    if request.method == "POST":
        form = MediaForm(request.POST, request.FILES)   
        if form.is_valid():
            form.save(user = request.user)
            return HttpResponseRedirect("/home//")
    else:
        form = MediaForm()
        return render_to_response("qanda/add_media.html", {'form': form}, context_instance = RequestContext(request)) 
```

以及它正在呈现的 HTML 表单

```
#add_media.html
<h1> Add Media:</h1>
<form enctype = "multipart/form-data" action = "" method = "post">{% csrf_token %}
    {{ form.as_p }}
    <input type = "submit" value = "Add" />
    <input type = "hidden" name = "next" value = "{{ next|escape }}" />
</form> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T06:40:05.877

如果您将 HTML 动态加载到页面`action = ""`中，则会指向当前页面，这显然无法处理您的 POST 请求。

将操作设置为正确的 URL。

# java - 如何从表中获取值并设置为 SWT 中的列表？

> ID：13172072
> 
> 赞同：0
> 
> 时间：2012-11-01T06:29:30.240
> 
> 标签：java, swt

我有一个包含 3 列的表，表示类型、名称和值。

例如，我的表具有以下值：

> ```
> Type     Name    Value
> +++++++++++++++++++++++
> Int       id       0
> String   name     null 
> ```

如何从表中获取这些值并设置为列表。

* * *

```
TableItem[] items = voTable.getItems();

List<VogenBean> lstTableValue = new ArrayList<VogenBean>();
    for (int i = 0; i < items.length; i++) {

        System.out.println("Items length--" + items.length);
        VogenBean bean = new VogenBean();
        bean.setClassName(domainName);
        bean.setAttrName(typeLabel.getText());
        bean.setMethodName(nameLabel.getText());
        bean.setAttrInit(valueLabel.getText());
        /*
         * tableValue = domainName + ":" + typeLabel.getText() + ":" +
         * nameLabel.getText()+":"+valueLabel.getText();
         * System.out.println("Value--"+tableValue);
         */
        lstTableValue.add(bean);
    }

    for (Iterator iterator = lstTableValue.iterator(); iterator.hasNext();) {
        VogenBean vo = (VogenBean) iterator.next();
        System.out.println("Class Name--" + vo.getClassName());
        System.out.println("Attr Name--" + vo.getAttrName());
        System.out.println("Method Name--" + vo.getMethodName());
        System.out.println("Attr Init--" + vo.getAttrInit());

    }

    return lstTableValue; 
```

这是我的代码。我只得到表中的最后一个字段。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:24:56.343

如果要根据选择获取表中某一行的值，可以使用[`Table#getSelection()`](http://help.eclipse.org/indigo/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/swt/widgets/Table.html#getSelection%28%29). 如果您使用的是`TableViewer`，则必须执行[`TableViewer#getSelection()`](http://help.eclipse.org/indigo/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/jface/viewers/StructuredViewer.html#getSelection%28%29).

但是，如果您只想遍历一个表并获取所有值，只需使用[`Table#getItems()`](http://help.eclipse.org/indigo/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/swt/widgets/Table.html#getItems%28%29). 每个项目都是一个`TableItem`，您可以使用 获取每列的值[`TableItem#getText(int columnIndex)`](http://help.eclipse.org/indigo/topic/org.eclipse.platform.doc.isv/reference/api/org/eclipse/swt/widgets/TableItem.html#getText%28int%29)。

这是否回答你的问题？

# eclipse - 在 Eclipse 中禁用 JBoss 新闻博客信息的自动加载

> ID：13172074
> 
> 赞同：15
> 
> 时间：2012-11-01T06:29:32.307
> 
> 标签：eclipse, configuration, jboss, eclipse-juno

我正在使用 Eclipse JUNO SR1 并从官方网站安装了 JBoss Tools。一切都很好，除了一些令人讨厌的功能导致我的日食执行缓慢

当我打开 Eclipse 时，它​​会显示 JBoss 启动页面，它正在加载 JBoss 博客信息和新闻以及一些 JBoss 教程。他们不断进步可能是由于某些防火墙设置或任何原因。

我想在 Eclipse 启动时或任何时候禁用所有这些无用的加载。

我知道 Eclipse 启动设置。然而，许多 Jboss 功能在那里打开。我应该怎么做才能禁用所有这些无用的外部信息/数据获取。

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2013-03-12T13:21:38.547

好的，我找到了。

转到 Menu > Window > Preferences > JBoss Tools > JBoss Central 并取消选中*Show JBoss Central On Startup*

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2017-10-04T15:33:50.037

有一种更简单的方法可以做到这一点。在 JBoss 选项卡上，右上角有一个滚轮图标。单击它，它会显示一个复选框以禁用在启动时显示此选项卡。

[![Jboss 起始页](../Images/4ffe124af9efc0782232f9e4686a3b23.png)](https://i.stack.imgur.com/oHVQj.png)

干杯。

# c# - 使用 asp.net 中的 html 敏捷性以及完整的 HTML 和 css 获取 div 的内容

> ID：13172084
> 
> 赞同：1
> 
> 时间：2012-11-01T06:30:03.027
> 
> 标签：c#, asp.net, xpath, html-agility-pack

我需要抓取网站并获取 Tennis Drawsheets 我正在尝试使用 HTML Agility 包来实现它，但到目前为止我没有任何成功。

抓取 URL 的示例链接[http://www.itftennis.com/procircuit/tournaments/women%27s-tournament/info.aspx?tournamentid=1100027528](http://www.itftennis.com/procircuit/tournaments/women%27s-tournament/info.aspx?tournamentid=1100027528)

下面是我需要在我的网站上抓取和显示的 .cs 和 HTML 的代码。

我还需要页面的标题和描述，但描述总是返回 null

```
 HtmlDocument doc = new HtmlDocument();
    var url = txtURL.Text;

    var webGet = new HtmlWeb();
     doc = webGet.Load(url);

  //  doc.LoadHtml(response);

    String title = (from x in doc.DocumentNode.Descendants()
                    where x.Name.ToLower() == "title"
                    select x.InnerText).FirstOrDefault();

    String desc = (from x in doc.DocumentNode.Descendants()
                   where x.Name.ToLower() == "description"
                   select x.InnerText).FirstOrDefault();

    List<String> imgs = (from x in doc.DocumentNode.Descendants()
                         where x.Name.ToLower() == "img"
                         select x.Attributes["src"].Value).ToList<String>();

    //string drawsheet = (from x in doc.DocumentNode.InnerHtml where x.

    lblTitle.Text = title;
    lblDescription.Text = desc;

    System.Text.StringBuilder sb = new System.Text.StringBuilder();

    foreach (HtmlNode node in doc.DocumentNode.SelectNodes("//div[@id='divTourDrawsheets']"))
    {
        string text = node.InnerText; //that's the text you are looking for
    }

    sb.Append(text);
    ltrDrawSheet.Text = sb.ToString(); 
```

**部分 HTML 代码，因为我不得不删除其中的大部分，因为它超过了 30000 个字符 **

```
<div style="overflow:hidden;" id="divTourDrawsheets">
<title></title>

<style type="text/css">
        #divDrawsheet {font-size:0.9em; overflow:auto; margin-left:10px; cursor:move; /*width:1500px;*/ width:2000px;} /*Width set at 1000px for IE7*/
        .divWinner1S {margin-top:28px; border-bottom:1px solid #999; padding:0px 3px 2px 3px;}
        .divWinner1D {margin-top:50px; border-bottom:1px solid #999; padding:0px 3px 2px 3px;}
        .liQWRnd1S {margin-top:28px; margin-bottom:-11px;}
        .liQWRnd1D {margin-top:30px; height:47px;}

        .tDetail .liRnd2S {padding:22px 0px 0px 0px;}
        .divRnd2S {border-right:1px solid #999; text-align:center; padding:4px 0px 6px 0px; height:18px;}
        .divWinner2S {margin-top:63px; border-bottom:1px solid #999; padding:0px 3px 2px 3px;}
        .liQWRnd2S {margin-top:53px; margin-bottom:73px;}

        .tDetail .liRnd2D {padding:30px 0px 6px 0px;}
        .divRnd2D {border-right:1px solid #999; text-align:center; padding:12px 0px 10px 0px; height:18px;}
        .divWinner2D {margin-top:85px; border-bottom:1px solid #999; padding:0px 3px 2px 3px;}

        .tDetail .liRnd3S {padding:49px 0px 27px 0px;}
        .divRnd3S {border-right:1px solid #999; text-align:center; padding:39px 0px 29px 0px; height:18px;}
        .divWinner3S {margin-top:114px; border-bottom:1px solid #999; padding:0px 3px 2px 3px;}
        .liQWRnd3S {margin-top:112px; margin-bottom:185px;}

        .tDetail .liRnd3D {padding:72px 0px 46px 0px;}
        .divRnd3D {border-right:1px solid #999; text-align:center; padding:52px 0px 48px 0px; height:18px;}
        .divWinner3D {margin-top:165px; border-bottom:1px solid #999; padding:0px 3px 2px 3px;}

        .tDetail .liRnd4S {padding:107px 0px 83px 0px;}
        .divRnd4S {border-right:1px solid #999; text-align:center; padding:90px 0px 88px 0px; height:18px;}
        .divWinner4S {margin-top:225px; border-bottom:1px solid #999; padding:0px 3px 2px 3px;}
        .liQWRnd4S {margin-top:220px; margin-bottom:410px;}

        .tDetail .liRnd4D {padding:154px 0px 122px 0px;}
        .divRnd4D {border-right:1px solid #999; text-align:center; padding:134px 0px 130px 0px; height:18px;}
        .divWinner4D {margin-top:325px; border-bottom:1px solid #999; padding:0px 3px 2px 3px;}

        .tDetail .liRnd5S {padding:220px 0px 196px 0px;}
        .divRnd5S {border-right:1px solid #999; text-align:center; padding:200px 0px 200px 0px; height:18px;}
        .divWinner5S {margin-top:445px; border-bottom:1px solid #999; padding:0px 3px 2px 3px;}

        .tDetail .liRnd5D {padding:316px 0px 250px 0px;}
        .divRnd5D {border-right:1px solid #999; text-align:center; padding:295px 0px 295px 0px; height:18px;}
        .divWinner5D {margin-top:645px; border-bottom:1px solid #999; padding:0px 3px 2px 3px;}

        .tDetail .liRnd6S {padding:443px 0px 352px 0px;}
        .divRnd6S {border-right:1px solid #999; text-align:center; padding:426px 0px 425px 0px; height:18px;}
        .divWinner6S {margin-top:895px; border-bottom:1px solid #999; padding:0px 3px 2px 3px;}

        .tDetail .liRnd6D {padding:630px 0px 300px 0px;}
        .divRnd6D {border-right:1px solid #999; text-align:center; padding:620px 0px 610px 0px; height:18px;}
        .divWinner6D {margin-top:1285px; border-bottom:1px solid #999; padding:0px 3px 2px 3px;}

        .tDetail .liRnd7S {padding-top:890px;}
        .divRnd7S {border-right:1px solid #999; text-align:center; padding:880px 0px 800px 0px; height:18px;}
        .divWinner7S {margin-top:1795px; border-bottom:1px solid #999; padding:0px 3px 2px 3px;}
        .RRTable {background-color:#fff;}
        .RRTable td:empty{background-color:#ddd;}
    </style>

<span id="spnNote">(Use the cursor to move the drawsheet)</span><span style="float:right; padding:10px;" id="spnPrintDS"><a style="cursor:pointer;" onclick="printableDrawsheet();"><img align="absbottom" style="border-width:0px;" alt="Print Drawsheet" src="/itf/images/printDS-icon.png" id="imgPrint"></a></span>

<div id="divDrawsheet" style="position: relative;" class="ui-draggable">

    <div class="fl"><ul id="ulRounds">
        <li class="fl" id="liRound">
            <div style="padding:10px 3px 10px 3px; min-width:125px; text-align:center;font-size:1.2em;" id="divRound"><strong>Round 1</strong></div>
            <ul id="ulEntry">
                <li style="padding:4px 0px 0px 0px;" id="liEntry">
                    <div class="hlPlayer" style="border-bottom:1px solid #999; padding:0px 3px 2px 3px;" id="divPlayerTop">
                        <span style="display:block; height:12px;">

<span class="flagLeft">
<img class="flag14 f14CZE" title="Czech Republic" alt="Czech Republic" src="/ITF/Images/pixel.gif">
<a class="drsh100057386" href="/procircuit/players/player/profile.aspx?playerid=100057386">Katerina VANKOVA</a></span> (CZE)&nbsp;[1]
                        </span>

                    </div>
                    <div style="border-right:1px solid #999; text-align:center; padding:6px 0px 1px 0px; height:15px;"><i><a disabled="disabled" id="lnkHeadToHead"></a><span style="color:#fff;">|</span></i></div>
                    <div class="hlPlayer" style="border-bottom:1px solid #999; border-right:1px solid #999; padding:0px 3px 2px 3px;" id="divPlayerBottom">
                        <span style="display:block; height:12px;">
                            <span class="flagLeft" id="spnPlayerBottom1Bye"><img height="11px" width="14px" border="0" src="/itf/images/pixel.gif">BYE</span>

                        </span>

                    </div>
                </li>

                <li style="padding:4px 0px 0px 0px;" id="liEntry">
                    <div class="hlPlayer" style="border-bottom:1px solid #999; padding:0px 3px 2px 3px;" id="divPlayerTop">
                        <span style="display:block; height:12px;">

<span class="flagLeft">
<img class="flag14 f14GBR" title="Great Britain" alt="Great Britain" src="/ITF/Images/pixel.gif">
<a class="drsh100149370" href="/procircuit/players/player/profile.aspx?playerid=100149370">Kyria DUNFORD</a></span> (GBR)
                        </span>

                    </div>
                    <div style="border-right:1px solid #999; text-align:center; padding:6px 0px 1px 0px; height:15px;"><i><a href="/procircuit/players/head-to-head/result.aspx?player1=100149370&amp;player2=100073050" id="lnkHeadToHead">H2H</a><span style="color:#fff;">|</span></i></div>
                    <div class="hlPlayer" style="border-bottom:1px solid #999; border-right:1px solid #999; padding:0px 3px 2px 3px;" id="divPlayerBottom">
                        <span style="display:block; height:12px;">

<span class="flagLeft">
<img class="flag14 f14GBR" title="Great Britain" alt="Great Britain" src="/ITF/Images/pixel.gif">
<a class="drsh100073050" href="/procircuit/players/player/profile.aspx?playerid=100073050" style="background-color:transparent;">Hollie BEES</a></span> (GBR)
                        </span>

                    </div>
                </li>

                <li style="padding:4px 0px 0px 0px;" id="liEntry">
                    <div class="hlPlayer" style="border-bottom:1px solid #999; padding:0px 3px 2px 3px;" id="divPlayerTop">
                        <span style="display:block; height:12px;">

<span class="flagLeft">
<img class="flag14 f14GBR" title="Great Britain" alt="Great Britain" src="/ITF/Images/pixel.gif">
<a class="drsh100141485" href="/procircuit/players/player/profile.aspx?playerid=100141485">Sophie WATTS</a></span> (GBR)
                        </span>

                    </div>
                    <div style="border-right:1px solid #999; text-align:center; padding:6px 0px 1px 0px; height:15px;"><i><a href="/procircuit/players/head-to-head/result.aspx?player1=100141485&amp;player2=100084615" id="lnkHeadToHead">H2H</a><span style="color:#fff;">|</span></i></div>
                    <div class="hlPlayer" style="border-bottom:1px solid #999; border-right:1px solid #999; padding:0px 3px 2px 3px;" id="divPlayerBottom">
                        <span style="display:block; height:12px;">

<span class="flagLeft">
<img class="flag14 f14CZE" title="Czech Republic" alt="Czech Republic" src="/ITF/Images/pixel.gif">
<a class="drsh100084615" href="/procircuit/players/player/profile.aspx?playerid=100084615" style="background-color:transparent;">Martina PRADOVA</a></span> (CZE)
                        </span>

                    </div>
                </li>

                <li style="padding:4px 0px 0px 0px;" id="liEntry">
                    <div class="hlPlayer" style="border-bottom:1px solid #999; padding:0px 3px 2px 3px;" id="divPlayerTop">
                        <span style="display:block; height:12px;">
                            <span class="flagLeft" id="spnPlayerTop1Bye"><img height="11px" width="14px" border="0" src="/itf/images/pixel.gif">BYE</span>

                        </span>

                    </div>
                    <div style="border-right:1px solid #999; text-align:center; padding:6px 0px 1px 0px; height:15px;"><i><a disabled="disabled" id="lnkHeadToHead"></a><span style="color:#fff;">|</span></i></div>
                    <div class="hlPlayer" style="border-bottom:1px solid #999; border-right:1px solid #999; padding:0px 3px 2px 3px;" id="divPlayerBottom">
                        <span style="display:block; height:12px;">

<span class="flagLeft">
<img class="flag14 f14BLR" title="Belarus" alt="Belarus" src="/ITF/Images/pixel.gif">
<a class="drsh100128240" href="/procircuit/players/player/profile.aspx?playerid=100128240" style="background-color:transparent;">Aliaksandra SASNOVICH</a></span> (BLR)&nbsp;[7]
                        </span>

                    </div>
                </li>

                <li style="padding:4px 0px 0px 0px;" id="liEntry">
                    <div class="hlPlayer" style="border-bottom:1px solid #999; padding:0px 3px 2px 3px;" id="divPlayerTop">
                        <span style="display:block; height:12px;">

<span class="flagLeft">
<img class="flag14 f14RUS" title="Russia" alt="Russia" src="/ITF/Images/pixel.gif">
<a class="drsh100134744" href="/procircuit/players/player/profile.aspx?playerid=100134744" style="background-color:transparent;">Mayya KATSITADZE</a></span> (RUS)&nbsp;[2]
                        </span>

                    </div>
                    <div style="border-right:1px solid #999; text-align:center; padding:6px 0px 1px 0px; height:15px;"><i><a disabled="disabled" id="lnkHeadToHead"></a><span style="color:#fff;">|</span></i></div>
                    <div class="hlPlayer" style="border-bottom:1px solid #999; border-right:1px solid #999; padding:0px 3px 2px 3px;" id="divPlayerBottom">
                        <span style="display:block; height:12px;">
                            <span class="flagLeft" id="spnPlayerBottom1Bye"><img height="11px" width="14px" border="0" src="/itf/images/pixel.gif">BYE</span>

                        </span>

                    </div>
                </li>

                <li style="padding:4px 0px 0px 0px;" id="liEntry">
                    <div class="hlPlayer" style="border-bottom:1px solid #999; padding:0px 3px 2px 3px;" id="divPlayerTop">
                        <span style="display:block; height:12px;">

<span class="flagLeft">
<img class="flag14 f14FIN" title="Finland" alt="Finland" src="/ITF/Images/pixel.gif">
<a class="drsh100152949" href="/procircuit/players/player/profile.aspx?playerid=100152949">Mia Nicole EKLUND</a></span> (FIN)
                        </span>

                    </div>
                    <div style="border-right:1px solid #999; text-align:center; padding:6px 0px 1px 0px; height:15px;"><i><a href="/procircuit/players/head-to-head/result.aspx?player1=100152949&amp;player2=100151646" id="lnkHeadToHead">H2H</a><span style="color:#fff;">|</span></i></div>
                    <div class="hlPlayer" style="border-bottom:1px solid #999; border-right:1px solid #999; padding:0px 3px 2px 3px;" id="divPlayerBottom">
                        <span style="display:block; height:12px;">

<span class="flagLeft">
<img class="flag14 f14GBR" title="Great Britain" alt="Great Britain" src="/ITF/Images/pixel.gif">
<a class="drsh100151646" href="/procircuit/players/player/profile.aspx?playerid=100151646">Lauren MCMINN</a></span> (GBR)
                        </span>

                    </div>
                </li>

                <li style="padding:4px 0px 0px 0px;" id="liEntry">
                    <div class="hlPlayer" style="border-bottom:1px solid #999; padding:0px 3px 2px 3px;" id="divPlayerTop">
                        <span style="display:block; height:12px;">

<span class="flagLeft">
<img class="flag14 f14GBR" title="Great Britain" alt="Great Britain" src="/ITF/Images/pixel.gif">
<a class="drsh100139057" href="/procircuit/players/player/profile.aspx?playerid=100139057">Jazzamay DREW</a></span> (GBR)
                        </span>

                    </div>
                    <div style="border-right:1px solid #999; text-align:center; padding:6px 0px 1px 0px; height:15px;"><i><a href="/procircuit/players/head-to-head/result.aspx?player1=100139057&amp;player2=100143216" id="lnkHeadToHead">H2H</a><span style="color:#fff;">|</span></i></div>
                    <div class="hlPlayer" style="border-bottom:1px solid #999; border-right:1px solid #999; padding:0px 3px 2px 3px;" id="divPlayerBottom">
                        <span style="display:block; height:12px;">

<span class="flagLeft">
<img class="flag14 f14GBR" title="Great Britain" alt="Great Britain" src="/ITF/Images/pixel.gif">
<a class="drsh100143216" href="/procircuit/players/player/profile.aspx?playerid=100143216">Brigit FOLLAND</a></span> (GBR)
                        </span>

                    </div>
                </li>

                <li style="padding:4px 0px 0px 0px;" id="liEntry">
                    <div class="hlPlayer" style="border-bottom:1px solid #999; padding:0px 3px 2px 3px;" id="divPlayerTop">
                        <span style="display:block; height:12px;">
                            <span class="flagLeft" id="spnPlayerTop1Bye"><img height="11px" width="14px" border="0" src="/itf/images/pixel.gif">BYE</span>

                        </span>

                    </div>
                    <div style="border-right:1px solid #999; text-align:center; padding:6px 0px 1px 0px; height:15px;"><i><a disabled="disabled" id="lnkHeadToHead"></a><span style="color:#fff;">|</span></i></div>
                    <div class="hlPlayer" style="border-bottom:1px solid #999; border-right:1px solid #999; padding:0px 3px 2px 3px;" id="divPlayerBottom">
                        <span style="display:block; height:12px;">

<span class="flagLeft">
<img class="flag14 f14IRL" title="Ireland" alt="Ireland" src="/ITF/Images/pixel.gif">
<a class="drsh100119788" href="/procircuit/players/player/profile.aspx?playerid=100119788">Amy BOWTELL</a></span> (IRL)&nbsp;[5]
                        </span>

                    </div>
                </li>

                <li style="padding:4px 0px 0px 0px;" id="liEntry">
                    <div class="hlPlayer" style="border-bottom:1px solid #999; padding:0px 3px 2px 3px;" id="divPlayerTop">
                        <span style="display:block; height:12px;">

<span class="flagLeft">
<img class="flag14 f14FRA" title="France" alt="France" src="/ITF/Images/pixel.gif">
<a class="drsh100090878" href="/procircuit/players/player/profile.aspx?playerid=100090878">Constance SIBILLE</a></span> (FRA)&nbsp;[3]
                        </span>

                    </div>
                    <div style="border-right:1px solid #999; text-align:center; padding:6px 0px 1px 0px; height:15px;"><i><a disabled="disabled" id="lnkHeadToHead"></a><span style="color:#fff;">|</span></i></div>
                    <div class="hlPlayer" style="border-bottom:1px solid #999; border-right:1px solid #999; padding:0px 3px 2px 3px;" id="divPlayerBottom">
                        <span style="display:block; height:12px;">
                            <span class="flagLeft" id="spnPlayerBottom1Bye"><img height="11px" width="14px" border="0" src="/itf/images/pixel.gif">BYE</span>

                        </span>

                    </div>
                </li>

                <li style="padding:4px 0px 0px 0px;" id="liEntry">
                    <div class="hlPlayer" style="border-bottom:1px solid #999; padding:0px 3px 2px 3px;" id="divPlayerTop">
                        <span style="display:block; height:12px;">

<span class="flagLeft">
<img class="flag14 f14GBR" title="Great Britain" alt="Great Britain" src="/ITF/Images/pixel.gif">
<a class="drsh100141443" href="/procircuit/players/player/profile.aspx?playerid=100141443">Anneka WATTS</a></span> (GBR)
                        </span>

                    </div>
                    <div style="border-right:1px solid #999; text-align:center; padding:6px 0px 1px 0px; height:15px;"><i><a href="/procircuit/players/head-to-head/result.aspx?player1=100141443&amp;player2=100053033" id="lnkHeadToHead">H2H</a><span style="color:#fff;">|</span></i></div>
                    <div class="hlPlayer" style="border-bottom:1px solid #999; border-right:1px solid #999; padding:0px 3px 2px 3px;" id="divPlayerBottom">
                        <span style="display:block; height:12px;">

<span class="flagLeft">
<img class="flag14 f14USA" title="USA" alt="USA" src="/ITF/Images/pixel.gif">
<a class="drsh100053033" href="/procircuit/players/player/profile.aspx?playerid=100053033">Tori KINARD</a></span> (USA)
                        </span>

                    </div>
                </li>

                <li style="padding:4px 0px 0px 0px;" id="liEntry">
                    <div class="hlPlayer" style="border-bottom:1px solid #999; padding:0px 3px 2px 3px;" id="divPlayerTop">
                        <span style="display:block; height:12px;">

<span class="flagLeft">
<img class="flag14 f14GBR" title="Great Britain" alt="Great Britain" src="/ITF/Images/pixel.gif">
<a class="drsh100139660" href="/procircuit/players/player/profile.aspx?playerid=100139660">Edita RACA</a></span> (GBR)
                        </span>

                    </div>
                    <div style="border-right:1px solid #999; text-align:center; padding:6px 0px 1px 0px; height:15px;"><i><a href="/procircuit/players/head-to-head/result.aspx?player1=100139660&amp;player2=100131722" id="lnkHeadToHead">H2H</a><span style="color:#fff;">|</span></i></div>
                    <div class="hlPlayer" style="border-bottom:1px solid #999; border-right:1px solid #999; padding:0px 3px 2px 3px;" id="divPlayerBottom">
                        <span style="display:block; height:12px;">

    </div>

</div>

</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-05T12:30:33.310

我假设“描述”是指元标记。

可能最好的方法是使用这样的 xpath 表达式

```
HtmlNode descNode = doc.DocumentNode.SelectSingleNode("//meta[@name='description']"); 
```

# windows-8 - XNA 框架和 Visual Studio 2012

> ID：13172091
> 
> 赞同：0
> 
> 时间：2012-10-31T17:13:40.843
> 
> 标签：windows-8

我可以在 Visual Studio 2012 中为 Windows8 开发基于 XNA 的应用程序吗？如何使用 XNA 框架制作基于 Metro 的应用程序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-31T18:03:08.987

XNA Game Studio 已被微软停产，但[Monogame](https://github.com/mono/MonoGame)开始真正起飞！Monogame 也可以部署到 Windows、Windows Store、Mac、Linux 和移动平台。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-23T13:00:57.083

试试这些 Visual Studio XNA 扩展，它们适用于 VS2010、VS2012 和 VS2013：

[https://msxna.codeplex.com/releases](https://msxna.codeplex.com/releases)

（只需下载最新版本并按照软件包随附的说明进行操作）

# objective-c - 为什么 Cocoa 视图顺序覆盖在 OSX 中与 AVCaptureVideoPreviewLayer 的行为异常？

> ID：13172096
> 
> 赞同：0
> 
> 时间：2012-11-01T06:30:58.673
> 
> 标签：objective-c, macos, cocoa, avfoundation, osx-mountain-lion

我有一个视图控制器控制一个主视图和同级子视图。一个是我称之为 overlayView 的视图，它有一些按钮和标签以及来自 IB 的东西。另一个是名为 captureLayer 的，我以编程方式添加它以保存来自网络摄像头的 AVCaptureVideoPreviewLayer。出于某种原因，我无法让叠加层显示在预览层的顶部。

这不起作用：

```
capturePreviewLayer = [[AVCaptureVideoPreviewLayer alloc] initWithSession:captureSession];
[self setCaptureView:[[NSView alloc] initWithFrame:[[self view] bounds]]];
// I know the order here is important and I think this is right
[[self captureView] setLayer:capturePreviewLayer];
[[self captureView] setWantsLayer:YES];
[[self view] addSubview:[self captureView] positioned:NSWindowBelow relativeTo:[self overlayView]];
[captureSession startRunning]; 
```

但是我发现将 capturePreviewLayer 放在主视图中，因此 overlayView 是子视图而不是其视图的兄弟，确实有效：

```
capturePreviewLayer = [[AVCaptureVideoPreviewLayer alloc] initWithSession:captureSession];
[[self view] setLayer:capturePreviewLayer];
[[self view] setWantsLayer:YES];
[captureSession startRunning]; 
```

知道为什么吗？我什至在 iOS 中使用 UIViews 做了一个非常类似的事情，并没有看到任何奇怪的东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T16:09:48.307

这可能是因为您的 captureView 是图层支持或图层托管，而您的覆盖视图不是。overlayView 直接绘制到窗口层，而 captureView 绘制到其上的新层。

解决方案是同时支持 overlayView 层，并在需要时使用它的 zPosition。

在 iOS 上，默认情况下每个视图都是支持层的，所以这个问题不会在那里表现出来。

# android - 在 JSON 解析中添加 AsyncTask

> ID：13172097
> 
> 赞同：2
> 
> 时间：2012-11-01T06:31:03.333
> 
> 标签：android, json, parsing, android-asynctask

我是android的新手，我正在尝试显示我通过json从服务器获取的数据。我使用lazylist和JSONparser。我的应用程序在android 2.3上工作，但在4.0上工作......所以我试图在我的代码中添加AsyncTask。我的代码是：

```
package dlmbg.pckg.tampil.gambar;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.UnsupportedEncodingException;

import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.client.ClientProtocolException;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.impl.client.DefaultHttpClient;
import org.json.JSONException;
import org.json.JSONObject;

import android.util.Log;

public class JSONParser {

    static InputStream is = null;
    static JSONObject jObj = null;
    static String json = "";

    // constructor
    public JSONParser() {

    }

    public JSONObject AmbilJson(String url) {

        // Making HTTP request
        try {
            // defaultHttpClient
            DefaultHttpClient httpClient = new DefaultHttpClient();
            HttpPost httpPost = new HttpPost(url);

            HttpResponse httpResponse = httpClient.execute(httpPost);
            HttpEntity httpEntity = httpResponse.getEntity();
            is = httpEntity.getContent();           

        } catch (UnsupportedEncodingException e) {
            e.printStackTrace();
        } catch (ClientProtocolException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

        try {
            BufferedReader reader = new BufferedReader(new InputStreamReader(
                    is, "iso-8859-1"), 8);
            StringBuilder sb = new StringBuilder();
            String line = null;
            while ((line = reader.readLine()) != null) {
                sb.append(line + "\n");
            }
            is.close();
            json = sb.toString();
        } catch (Exception e) {
            Log.e("Buffer Error", "Error converting result " + e.toString());
        }

        // try parse the string to a JSON object
        try {
            jObj = new JSONObject(json);
        } catch (JSONException e) {
            Log.e("JSON Parser", "Error parsing data " + e.toString());
        }

        // return JSON String
        return jObj;

    }
} 
```

当我在 4.0 中运行时，它的错误

```
11-01 12:16:19.063: E/AndroidRuntime(623): FATAL EXCEPTION: main
11-01 12:16:19.063: E/AndroidRuntime(623): java.lang.RuntimeException: Unable to start activity ComponentInfo{dlmbg.pckg.tampil.gambar/dlmbg.pckg.tampil.gambar.TampilkanGambarActivity}: android.os.NetworkOnMainThreadException
11-01 12:16:19.063: E/AndroidRuntime(623):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1956)
11-01 12:16:19.063: E/AndroidRuntime(623):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1981)
11-01 12:16:19.063: E/AndroidRuntime(623):  at android.app.ActivityThread.access$600(ActivityThread.java:123)
11-01 12:16:19.063: E/AndroidRuntime(623):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1147)
11-01 12:16:19.063: E/AndroidRuntime(623):  at android.os.Handler.dispatchMessage(Handler.java:99)
11-01 12:16:19.063: E/AndroidRuntime(623):  at android.os.Looper.loop(Looper.java:137)
11-01 12:16:19.063: E/AndroidRuntime(623):  at android.app.ActivityThread.main(ActivityThread.java:4424)
11-01 12:16:19.063: E/AndroidRuntime(623):  at java.lang.reflect.Method.invokeNative(Native Method)
11-01 12:16:19.063: E/AndroidRuntime(623):  at java.lang.reflect.Method.invoke(Method.java:511)
11-01 12:16:19.063: E/AndroidRuntime(623):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
11-01 12:16:19.063: E/AndroidRuntime(623):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
11-01 12:16:19.063: E/AndroidRuntime(623):  at dalvik.system.NativeStart.main(Native Method)
11-01 12:16:19.063: E/AndroidRuntime(623): Caused by: android.os.NetworkOnMainThreadException
11-01 12:16:19.063: E/AndroidRuntime(623):  at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1099)
11-01 12:16:19.063: E/AndroidRuntime(623):  at java.net.InetAddress.lookupHostByName(InetAddress.java:391)
11-01 12:16:19.063: E/AndroidRuntime(623):  at java.net.InetAddress.getAllByNameImpl(InetAddress.java:242)
11-01 12:16:19.063: E/AndroidRuntime(623):  at java.net.InetAddress.getAllByName(InetAddress.java:220)
11-01 12:16:19.063: E/AndroidRuntime(623):  at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:137)
11-01 12:16:19.063: E/AndroidRuntime(623):  at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164)
11-01 12:16:19.063: E/AndroidRuntime(623):  at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119)
11-01 12:16:19.063: E/AndroidRuntime(623):  at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360)
11-01 12:16:19.063: E/AndroidRuntime(623):  at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555)
11-01 12:16:19.063: E/AndroidRuntime(623):  at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)
11-01 12:16:19.063: E/AndroidRuntime(623):  at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:465)
11-01 12:16:19.063: E/AndroidRuntime(623):  at dlmbg.pckg.tampil.gambar.JSONParser.AmbilJson(JSONParser.java:38)
11-01 12:16:19.063: E/AndroidRuntime(623):  at dlmbg.pckg.tampil.gambar.TampilkanGambarActivity.onCreate(TampilkanGambarActivity.java:38)
11-01 12:16:19.063: E/AndroidRuntime(623):  at android.app.Activity.performCreate(Activity.java:4465)
11-01 12:16:19.063: E/AndroidRuntime(623):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)
11-01 12:16:19.063: E/AndroidRuntime(623):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1920)
11-01 12:16:19.063: E/AndroidRuntime(623):  ... 11 more 
```

我不知道我必须把 AsyncTask 放在哪里有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T06:50:25.543

1.首先你定义类并创建类的对象

```
 MyFirstMethod myfirst; 
```

1.  现在你执行这个类添加

> 我的第一个=新的我的第一个方法（）；
> 
> myfirst.execute(你的网址);

```
public class MyFirstMethod extends AsyncTask<String, Void, String> {
            ProgressDialog dialog;

            @Override
            protected void onPreExecute() {
                super.onPreExecute();
                dialog = new ProgressDialog(context);
                dialog.setMessage("Loading....");
                dialog.show();
            }

            @Override
            protected String doInBackground(String... params) {
                String url = params[0];
                try {
                    DefaultHttpClient httpClient = new DefaultHttpClient();
                    HttpGet httpGet = new HttpGet(url);
                    ResponseHandler<String> resHandler = new  BasicResponseHandler();
                    String page = httpClient.execute(httpGet, resHandler);
                    Log.d("result", page);

                } catch (Exception e) {
                    e.printStackTrace();
                }

                return null;
            }

            @Override
            protected void onPostExecute(String result) {

                super.onPostExecute(result);
                dialog.dismiss();
                dialog.cancel();

            }

        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T06:50:25.870

阅读这些关于 asyncTask 的教程：-

[这些链接](http://www.vogella.com/articles/AndroidPerformance/article.html)！＆[这是一个 stackoverflowlink](https://stackoverflow.com/questions/6450275/android-how-to-work-with-asynctasks-progressdialog/6450414#6450414) 试试这些 asynktask 教程

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T06:56:15.947

您应该在代码中尝试类似下面的**AsyncTask** ...

```
private class BackgroundTask extends AsyncTask<String, Void, String> {
@Override
  protected String doInBackground(String... urls) {
    // Making HTTP request
    try {
        // defaultHttpClient
        DefaultHttpClient httpClient = new DefaultHttpClient();
        HttpPost httpPost = new HttpPost(url);

        HttpResponse httpResponse = httpClient.execute(httpPost);
        HttpEntity httpEntity = httpResponse.getEntity();
        is = httpEntity.getContent();           

    } catch (UnsupportedEncodingException e) {
        e.printStackTrace();
    } catch (ClientProtocolException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }

    try {
        BufferedReader reader = new BufferedReader(new InputStreamReader(
                is, "iso-8859-1"), 8);
        StringBuilder sb = new StringBuilder();
        String line = null;
        while ((line = reader.readLine()) != null) {
            sb.append(line + "\n");
        }
        is.close();
        String result = sb.toString();
    } catch (Exception e) {
        Log.e("Buffer Error", "Error converting result " + e.toString());
    }

   return result;
 }

 @Override
 protected void onPostExecute(String result) {
  // try parse the string to a JSON object
    try {
        jObj = new JSONObject(result);
    } catch (JSONException e) {
        Log.e("JSON Parser", "Error parsing data " + e.toString());
    }

} 
```

并在您需要的地方通过下面的行调用它...

```
 new BackgroundTask().execute(url); 
```

# php - 捕获括号

> ID：13172099
> 
> 赞同：0
> 
> 时间：2012-11-01T06:31:16.220
> 
> 标签：php, regex

```
$url = '/article/math/unit2/chapter3/para4';
$pattern = "\/article";

preg_match_all('/^'.$pattern.'(?:\/([^\/]+))+$/', $url, $matches);

print_r($matches); 
```

输出是

```
Array
(
    [0] => Array
        (
            [0] => /article/math/unit2/chapter3/para4
        )

    [1] => Array
        (
            [0] => para4
        )
) 
```

实际上，我想得到一个如下所示的数组。

```
Array
(
    [0] => math,
    [1] => unit2,
    [2] => chapter3,
    [3] => para4
) 
```

这段代码有什么问题？

UPDATE2： $pattern 是动态的。可能会更改为“/article/foo”、“/article/foo/bar”等。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T06:34:00.153

问题是对于每个匹配它都会覆盖该匹配的输出

在这种情况下，我相信简单的爆炸会比 preg_match 更有用

编辑： http: [//php.net/manual/en/function.explode.php](http://php.net/manual/en/function.explode.php)

```
$url = '/article/math/unit2/chapter3/para4';
$args = explode('/', $url);
// since you don't want the first two outputs, heres some cleanup
array_splice($args, 0, 2); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-01T06:36:31.650

你可以使用 PHP Explode [参考： http: [//php.net/manual/en/function.explode.php](http://php.net/manual/en/function.explode.php) ]

```
$url = '/article/math/unit2/chapter3/para4';
$data = explode("/", $url); 
```

/ 在您的情况下是分隔符

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-01T06:38:03.113

使用**[explode()](http://php.net/manual/en/function.explode.php)**

```
$url = '/article/math/unit2/chapter3/para4';
$arrz = explode("/", $url);
print_r($arrz); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-01T06:36:46.410

你可以简单地使用`explode()`

参考： http: [//php.net/manual/en/function.explode.php](http://php.net/manual/en/function.explode.php)

```
<?php
    $url = '/article/math/unit2/chapter3/para4';

    $arr = explode("/", str_replace('/article/', '', $url));
    print_r($arr);

?> 
```

上面的代码将输出，

```
Array
(
    [0] => math
    [1] => unit2
    [2] => chapter3
    [3] => para4
) 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-01T06:37:32.040

也许您应该尝试使用[explode()](http://us2.php.net/manual/en/function.explode.php)代替？

```
$url = '/article/math/unit2/chapter3/para4';
$matches = explode('/', $url);
$matches = array_slice($matches, 2); // drop the first 2 elements of the array - "" and "article"

print_r($matches); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-01T06:38:06.280

```
$url = '/article/math/unit2/chapter3/para4';
$url=str_replace('/article/','','/article/math/unit2/chapter3/para4');
print_r(explode('/','/article/math/unit2/chapter3/para4')); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-11-01T06:41:30.247

`,`在输出中使用您想要的检查此代码

```
<?php

$url = '/article/math/unit2/chapter3/para4';

$newurl = str_replace('/',',',$url);

$myarr = explode(',', $newurl);

$i = 0;
$c = count($myarr);

foreach ($myarr as $key => $val) {
    if ($i++ < $c - 1) {
        $myarr[$key] .= ',';
    }
}
$myarr = array_slice($myarr,2);
print_r($myarr); 
```

**输出**——

```
Array
(
    [0] => math,
    [1] => unit2,
    [2] => chapter3,
    [3] => para4
) 
```

# c# - 加载一个在 windows .NET 客户端应用程序中打开的文件的 excel 应用程序

> ID：13172108
> 
> 赞同：1
> 
> 时间：2012-11-01T06:32:29.237
> 
> 标签：c#, .net, office-automation

如何在 .NET Windows 客户端应用程序中加载 Excel 应用程序？

excel 应用程序应该以 Windows 形式托管，就像任何 Windows 用户控件一样。

加载的 excel 应用程序将打开一个已经创建的 excel 文件。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T20:57:03.700

微软发布了一个名为[DSOFramer](https://stackoverflow.com/questions/1439168/ms-kb311765-and-dsoframer-are-missing-from-ms-site)的解决方案的源代码（尽管他们已经删除了该解决方案）。该解决方案在某些方面有效，但也带来了很多问题。如果您认为自己有技能，并且 Codeproject 上发布的自动化方法不能满足您的最低要求，请试一试。我们的应用程序今天仍在使用 DSOFramer，但它实际上仅用于集成视图支持。

# android - 安卓应用支付接口

> ID：13172113
> 
> 赞同：2
> 
> 时间：2012-11-01T06:32:49.933
> 
> 标签：android

我想为我的 android 应用程序集成支付 API，但仍然对可用的不同方式感到困惑。我检查了 PayPal API，Google 结帐。在 Google 结帐中有几个选项，例如电子邮件发票、立即购买按钮等。实际上我的要求是，我需要从一个组织购买一张代金券。那么你能建议我一个合适的机制来实现这个要求吗？该机制也应该接受所有卡片。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:06:23.687

[MECL](https://www.x.com/developers/paypal/documentation-tools/paypal-sdk-index)是可以完成您的工作的图书馆，用户可以在没有 Paypal 帐户的情况下进行付款，即通过卡。

# php - 单击 JavaScript 弹出框链接后激活 jQuery 功能

> ID：13172116
> 
> 赞同：1
> 
> 时间：2012-11-01T06:33:08.160
> 
> 标签：php, javascript, jquery, calendar, popup

我的表单包含一个文本字段，它接受格式为 MM/DD/YYYY 的日期。单击文本字段时，会出现一个小的 JS 日历，您可以单击日期，它会填充文本字段。

在文本字段接收到来自 JS 日历弹出窗口的日期后，我需要激活一个 jQuery 函数。

我已经尝试过 change、val、mouseup、mousedown、live 等，但我怀疑我需要监听 JS 日历中的事件。有趣的是，这些操作在我第二次单击日历时起作用，但不是第一次（因此我单击日历日期并填充字段，然后再次单击它并选择另一个日期并运行 jQuery 函数）。

有任何想法吗？

```
$('#input_field_id').change(validate_function); 
```

日历： http: [//mattkruse.com/javascript/calendarpopup/](http://mattkruse.com/javascript/calendarpopup/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-31T08:13:01.013

我希望它可以帮助你：

HTML 代码：

```
 <label>Date:</label> <input type="text" id="date" /> 
```

头部脚本：

```
 <script>
        $(function() {
            $( "#date" ).datepicker();
        });
    </script> 
```

并且还需要你包括一些：

```
 <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.0/themes/base/jquery-ui.css" />
    <script src="http://code.jquery.com/jquery-1.8.3.js"></script>
    <script src="http://code.jquery.com/ui/1.10.0/jquery-ui.js"></script>
    <link rel="stylesheet" href="/resources/demos/style.css" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T06:45:19.080

用这个

```
$('.cpCurrentDate).bind('click',function(){
//your code here
});

$('.cpOtherMonthDate'').bind('click',function(){
//your code here
}); 
```

或者结合起来，

```
$('.cpCurrentDate, .cpOtherMonthDate').bind('click',function(){
//your code here
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T06:57:15.977

您必须将输入字段与更改事件绑定，就像您在示例中一样。

```
$('#dateField').bind('change', function(e) {
    var date = $(this).val();
    // validate your date
}); 
```

当输入值被人更改时，这将触发。

如果日期被注入输入字段，您必须触发该输入字段的更改事件。

```
$('#dateField').val(dateFromCal).trigger('change'); 
```

当从日历设置输入值时，它将触发更改事件，然后运行更改事件代码。

提供的示例：http: [//jsfiddle.net/KEFAL/1/](http://jsfiddle.net/KEFAL/1/)

# javascript - 如何更改图像缩放的原点？

> ID：13172120
> 
> 赞同：0
> 
> 时间：2012-11-01T06:33:24.880
> 
> 标签：javascript, math

我有一个可以使用四个方向按钮移动的`<img>`内部`<div>`，例如：

![在此处输入图像描述](../Images/a4d3ea76e587dcc9737ffffd14eba20d.png)

图像显然比它的容器大，因此方向按钮可以将其移动到不同的方向。

还有一个缩放控件，您可以在其中放大和缩小。我只需将缩放因子作为百分比应用于基本宽度和高度，即可轻松设置缩放方法：

```
scale: function(zoom)
{
    image.width = baseWidth * zoom;
    image.height = baseHeight * zoom;
}

// Zoom in 50%.
Scene.scale(1.5); 
```

这很好，但是图像从左上角缩放，这意味着图像看起来在放大期间被吸向左上角，而在缩小时又吐出。

我正在尝试从容器的中心应用缩放效果，如下所示：

![在此处输入图像描述](../Images/7617849a81d3973628ed575c112f6ee8.png)

但是我发现很难理解在缩放应用后移动图像所需的数学以产生这种效果。

我得到的最接近的是根据当前缩放和新缩放级别之间的差异移动图像，但它仍然略微偏离并在缩放时产生“弯曲”效果。

是否有用于重新定位图像的通用公式，以便它围绕不同的原点缩放（即不是左上角（0,0））。

[这就是它目前的样子](http://staging.airborneagency.com/iSelect/FindTheCar/)。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T06:39:46.113

您必须获取原始坐标并计算原始图像的中心，即 x_center = x_orig + width_orig / 2; 然后您可以计算缩放图像的新 x 坐标：x_new = x_center - width_new / 2。同样适用于 y。然后将您的缩放图像移动到这些新坐标。如果您在每次缩放图像后执行此操作，它看起来好像是围绕其中心缩放的。

# wpf - ComboBox SelectedValue 在 Viewmodel 中正确设置 SelectedValue 但在 View 中没有

> ID：13172124
> 
> 赞同：0
> 
> 时间：2012-11-01T06:34:02.277
> 
> 标签：wpf, combobox, collectionviewsource, selectedvalue, icollectionview

在我的项目中，我的 selectedvalue 在 vi​​ewmodel 中正确设置，但我的视图未设置其 selectedvalue

在xml代码中：

```
 <ComboBox ItemsSource="{Binding AllValues}" SelectedValue="{Binding SelectedValue,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" Width="150" Margin="5,0,0,0"> 
```

在视图模型中：

```
public Model SelectedValue
        {
            get
            {
                return _model.Value;
            }
            set
            {
                 _model.Value = value;
                if (CVSCollection.View != null)
                    CVSCollection.View.Refresh();
                RaisePropertyChanged("SelectedValue");
            }
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:23:00.940

尝试将 a`ICollectionView`与 结合使用`IsSynchronizedWithCurrentItem`。ICollectionView 负责所有与组合框相关的操作。您还可以设置当前选定的项目。

xml:

```
 <ComboBox ItemsSource="{Binding AllValues}"  
                  IsSynchronizedWithCurrentItem="True"
                  Width="150" 
                  Margin="5,0,0,0"/> 
```

视图模型

```
using System;
using System.Collections.ObjectModel;
using System.ComponentModel;
using System.Windows.Data;

namespace ComboBoxBinding
{
    public class ViewModelSpike : INotifyPropertyChanged
    {
        private ObservableCollection<Model> _allValues = new ObservableCollection<Model>();
        private Model _selectedValue;

        public ObservableCollection<Model> AllValues
        {
            get { return _allValues; }
            set { _allValues = value; OnPropertyChanged("AllValues");}
        }

        public Model SelectedValue
        {
            get { return _selectedValue; }
            set { _selectedValue = value; OnPropertyChanged("SelectedValue");}
        }

        public ICollectionView ModelsView { get; private set; }

        public ViewModelSpike()
        {
            //First init / load AllValues here...

            ModelsView = CollectionViewSource.GetDefaultView(AllValues);
            ModelsView.CurrentChanged += OnCurrentModelChanged;

            //You can also set the current selected item / initial selected item
            //ModelsView.MoveCurrentTo(DesiredModel from AllValues)
        }

        private void OnCurrentModelChanged(object sender, EventArgs e)
        {
            if (ModelsView.CurrentItem == null) return;
            var selectedValue = ModelsView.CurrentItem as Model;

            if (selectedValue == null) return;

            SelectedValue = selectedValue;

            if (CVSCollection.View != null) CVSCollection.View.Refresh();
        }

        public event PropertyChangedEventHandler PropertyChanged;

        protected virtual void OnPropertyChanged(string propertyName)
        {
            PropertyChangedEventHandler handler = PropertyChanged;
            if (handler != null) handler(this, new PropertyChangedEventArgs(propertyName));
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T07:43:34.860

我已经自己解决了，因为我已将 selectedvalue 的局部变量设置为 _selectedValue 并在构造函数中设置了 _selectedValue..

# ruby-on-rails - 我如何允许 iPhone 应用程序使用 facebook 使用 devise 登录？

> ID：13172125
> 
> 赞同：1
> 
> 时间：2012-11-01T06:34:06.940
> 
> 标签：ruby-on-rails, facebook, ruby-on-rails-3, api, devise

我希望用户通过 iphone 应用程序的设计使用他们的 facebook 帐户登录。

考虑当我将 ID 和密码发送为

```
curl -H 'Content-Type: application/json'   -H 'Accept: application/json'   -X POST http://localhost:3000/users/sign_in  -d "{'user' : { 'email' : 'sample@gmail.com', 'password' : 'asdfghjkl'}}" 
```

然后它产生

```
{"user":{"authentication_token":"34734t374hfjeg266272","email":"sample@gmail.com"}} 
```

我将身份验证令牌用于下一个请求

```
curl -L 'localhost:3000/posts.json?auth_token=34734t374hfjeg266272' 
```

我从表中获取值作为 json，同样我如何在设计中使用 facebook 帐户来做到这一点？

我在我的网络应用程序中使用了omniauth，我可以从我的网络应用程序以facebook用户身份登录，但我怎么能为iphone应用程序做呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-14T22:59:16.187

你可以使用 iOS6 的社交框架。

```
WWDC 2012 Session Videos“Integration With Facebook, Twitter and Sina Weibo” 
```

（[https://developer.apple.com/videos/wwdc/2012/?id=306](https://developer.apple.com/videos/wwdc/2012/?id=306)）

或者，您可以使用 Facebook SDK。

[http://developers.facebook.com/ios/](http://developers.facebook.com/ios/)

或者，您可以使用像 gtm-oauth 这样的 oauth 库

gtm-oauth（Mac 版 Google 工具箱 - OAuth 控制器）

[http://code.google.com/p/gtm-oauth/wiki/](http://code.google.com/p/gtm-oauth/wiki/)

# android - 如何在 Android 中以循环方式创建 UI？

> ID：13172126
> 
> 赞同：1
> 
> 时间：2012-11-01T06:34:43.913
> 
> 标签：android

![在此处输入图像描述](../Images/4dcfdaf7fdd2a7b870dc732085e94dbb.png)

我需要为 android 应用程序创建一个动态 UI。例如，我需要在圆的圆周上创建可点击的按钮，并在中心有一个主按钮。用户应该能够使用设置选项添加/删除/修改圆周上的节点/按钮的数量。

到目前为止，我一直在使用 xml 布局处理静态 UI。这次我要开始工作动态模型了。我该如何进行？

上传了我想如何构建的示例 UI。如图所示，我应该能够创建一个动态 UI，用户应该能够单击框，应该能够添加更多的框，这些框应该自动调整其相对于其他框的位置。当我单击该框时，它应该会带来另一个具有不同 UI 的活动，其中选定的框填充到中心，周围是类似格式的相关数据，如图所示。

# c# - 将元数据存储在文件之外：现代 Windows 上的任何标准方法？

> ID：13172129
> 
> 赞同：2
> 
> 时间：2012-11-01T06:34:59.823
> 
> 标签：c#, windows, metadata, ntfs, extended-properties

我的 C#[应用程序](http://cmissync.github.com)将文件从远程文档管理系统同步到文件系统。

文档管理系统具有与每个文件相关联但不存储在每个文件中的元数据（上次审核日期、保密、作者...）。
文件可以是任何东西（bmp、xwd、pdf、未知二进制文件）

我想让这些元数据在本地 Windows 文件系统上可见。
但我不能在每个文件中存储元数据。例如，更改文件的保密性不得修改文件的校验和。

存储此元数据的最佳方式是什么？

我听说过 NTFS[扩展文件属性](http://en.wikipedia.org/wiki/Extended_file_attributes)，它适用于我的场景吗？[这个关于设置扩展文件属性](https://stackoverflow.com/questions/5337683/how-to-set-extended-file-properties)的问题有所有关于修改文件本身的答案，我必须避免。

如果没有标准解决方案，那么我会将元数据存储在本地 SQLite 数据库中。但我真的更喜欢使用标准解决方案，以便其他应用程序（资源管理器、图库应用程序等）可以显示/修改他们理解的属性（如“作者”）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T06:46:20.707

[备用数据流](http://www.bleepingcomputer.com/tutorials/windows-alternate-data-streams/)是 NTFS 鲜为人知的功能之一。从页面引用：

```
C:\test>echo "ADS" > test.txt:hidden.txt

C:\test>dir
 Volume in drive C has no label.
 Volume Serial Number is B889-75DB

 Directory of C:>test

10/22/2003  11:22 AM    

. 10/22/2003 11:22 AM
.. 10/22/2003 11:22 AM 0 test.txt

C:\test> notepad test.txt:hidden.txt

This will open the file in notepad and allow you to edit it and save it. 
```

它类似于 Macintosh 资源分支，即它允许将任意数据与文件相关联，而不是文件本身的一部分。Explorer 默认不理解它，但你可以为它编写一个[列处理程序](http://www.codeproject.com/Articles/3747/Explorer-column-handler-shell-extension-in-C)。

**编辑**

[可以使用OLE 文档属性](http://social.msdn.microsoft.com/forums/en-US/csharpgeneral/thread/bb887b05-2018-4978-b115-c8c98e3542ce/)保存一些元数据（例如作者和标题）。我不知道它是否会修改文件本身，但：

```
private void button1_Click(object sender, EventArgs e)
{
  //This is the PDF file we want to update.
  string filename = @"c:\temp\MyFile.pdf";
  //Create the OleDocumentProperties object.
  DSOFile.OleDocumentProperties dso = new DSOFile.OleDocumentProperties();
  //Open the file for writing if we can. If not we will get an exception.
  dso.Open(filename, false,

    DSOFile.dsoFileOpenOptions.dsoOptionOpenReadOnlyIfNoWriteAccess);
  //Set the summary properties that you want.
  dso.SummaryProperties.Title = "This is the Title";
  dso.SummaryProperties.Subject = "This is the Subject";
  dso.SummaryProperties.Company = "RTDev";
  dso.SummaryProperties.Author = "Ron T.";
  //Save the Summary information.
  dso.Save();
  //Close the file.
  dso.Close(false);
} 
```

# java - SimpleDateFormat 失败

> ID：13172132
> 
> 赞同：2
> 
> 时间：2012-11-01T06:35:18.310
> 
> 标签：java

我正在使用下面的例程来验证`yyyyMMddHHmm`格式的日期。该例程适用于除小时 = 02 之外的所有情况。例如，它适用于：`201203110000`, `201203110100`.. `201203112300`。

我错过了什么？这是 SimpleDateFormat 中的一个有效错误，还是我应该明确设置格式以使类正常工作。我正在使用 JDK 1.6.0_24。

```
public static void main(String[] args)
{
    SimpleDateFormat dateUtil = new SimpleDateFormat();
    Date parsedDT = null;
    String dateVal = "201203110200";
    String dateFormat = "yyyyMMddHHmm";
    dateUtil.applyPattern(dateFormat);
    try
    {
        parsedDT = dateUtil.parse(dateVal);
        if (!dateUtil.format(parsedDT).equals(dateVal))
        {
            System.err.println("error");
        }
        else
        {
            System.err.println("pass");
        }
    }
    catch (Exception exp)
    {
        exp.printStackTrace();
    }
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-01T06:54:07.227

您没有为 指定时区`SimpleDateFormat`，我们也不知道您所在的时区 - 但我强烈怀疑这是问题的原因。如果我将代码更改为：我当然可以重现该问题：

```
SimpleDateFormat dateUtil = new SimpleDateFormat();
dateUtil.setTimeZone(TimeZone.getTimeZone("America/Chicago")); 
```

至少在某些地方（包括美国），2012 年 3 月 11 日是时钟前进的时间——例如，在[芝加哥，凌晨 2 点实际上](http://www.timeanddate.com/worldclock/timezone.html?n=64)*从未发生过*。当地时间去：

```
01:59:58
01:59:59
03:00:00 
```

当您尝试解析从未发生过的日期/时间时，Java 并没有让您对发生的事情有太多控制，但至少您没有得到相同的不可能值也就不足为奇了——它很可能选择了当凌晨 2 点会在没有过渡的情况下发生，然后会被格式化为 201203110300 例如。

至于你应该如何*修复*它 - 目前尚不清楚这些数据来自哪里或你应该认为它来自哪个时区。也许您应该将格式的时区设置为 UTC……我们不知道。

我还强烈建议使用[Joda Time](http://joda-time.sf.net)作为比`java.util.*`.

# linq - Linq to xml 选择新的 PurchaseOrder

> ID：13172134
> 
> 赞同：1
> 
> 时间：2012-11-01T06:35:27.763
> 
> 标签：linq, linq-to-xml

我正试图让我的头脑围绕“Linq to xml”，所以让我直接跳到它。我有这个 xml：

```
<?xml version="1.0"?>
<PurchaseOrders>
  <PurchaseOrder PurchaseOrderNumber="99503" OrderDate="1999-10-20">
    <Address Type="Shipping">
      <Name>Ellen Adams</Name>
      <Street>123 Maple Street</Street>
      <City>Mill Valley</City>
      <State>CA</State>
      <Zip>10999</Zip>
      <Country>USA</Country>
    </Address>
    <Address Type="Billing">
      <Name>Tai Yee</Name>
      <Street>8 Oak Avenue</Street>
      <City>Old Town</City>
      <State>PA</State>
      <Zip>95819</Zip>
      <Country>USA</Country>
    </Address>
    <DeliveryNotes>Please leave packages in shed by driveway.</DeliveryNotes>
    <Items>
      <Item PartNumber="872-AA">
        <ProductName>Lawnmower</ProductName>
        <Quantity>1</Quantity>
        <USPrice>148.95</USPrice>
        <Comment>Confirm this is electric</Comment>
      </Item>
      <Item PartNumber="926-AA">
        <ProductName>Baby Monitor</ProductName>
        <Quantity>2</Quantity>
        <USPrice>39.98</USPrice>
        <ShipDate>1999-05-21</ShipDate>
      </Item>
    </Items>
  </PurchaseOrder>
</PurchaseOrders> 
```

然后我创建了一些简单的对象：

```
public class PurchaseOrder
{
    public string PurchaseOrderNumber { get; set; }
    public string OrderDate { get; set; }
    public Address BillingAddress { get; set; }
    public Address ShippingAddress { get; set; }
    public string DeliveryNotes { get; set; }
    public List<Item> Items { get; set; }
}

public class Address
{
    public string Type { get; set; }
    public string Name  { get; set; }
    public string Street { get; set; }
    public string City { get; set; }
    public string State { get; set; }
    public string Zip { get; set; }
    public string Country { get; set; }
}

public class Item
{
    public string PartNumber { get; set; }
    public string ProductName { get; set; }
    public string Quantity { get; set; }
    public string USPrice { get; set; }
    public string Comment { get; set; }
} 
```

然后我继续做我的linq：

```
 var orders = (from order in XDocument.Load(Server.MapPath("/App_Data/Order.xml")).Descendants("PurchaseOrder")
select new PurchaseOrder
{
    PurchaseOrderNumber = order.Attribute("PurchaseOrderNumber").Value,
    OrderDate = order.Attribute("OrderDate").Value,
    BillingAddress = new Address
    {
        City = order.Descendants("Address").Where(a => a.Attribute("Type").Value == "Billing").Single().Element("City").Value,
        Country = order.Descendants("Address").Where(a => a.Attribute("Type").Value == "Billing").Single().Element("Country").Value,
        Name = order.Descendants("Address").Where(a => a.Attribute("Type").Value == "Billing").Single().Element("Name").Value,
        State = order.Descendants("Address").Where(a => a.Attribute("Type").Value == "Billing").Single().Element("State").Value,
        Street = order.Descendants("Address").Where(a => a.Attribute("Type").Value == "Billing").Single().Element("Street").Value,
        Type = "Billing",
        Zip = order.Descendants("Address").Where(a => a.Attribute("Type").Value == "Billing").Single().Element("Zip").Value
    },
    ShippingAddress = new Address
    {
        City = order.Descendants("Address").Where(a => a.Attribute("Type").Value == "Shipping").Single().Element("City").Value,
        Country = order.Descendants("Address").Where(a => a.Attribute("Type").Value == "Shipping").Single().Element("Country").Value,
        Name = order.Descendants("Address").Where(a => a.Attribute("Type").Value == "Shipping").Single().Element("Name").Value,
        State = order.Descendants("Address").Where(a => a.Attribute("Type").Value == "Shipping").Single().Element("State").Value,
        Street = order.Descendants("Address").Where(a => a.Attribute("Type").Value == "Shipping").Single().Element("Street").Value,
        Type = "Shipping",
        Zip = order.Descendants("Address").Where(a => a.Attribute("Type").Value == "Shipping").Single().Element("Zip").Value
    },
    DeliveryNotes = order.Element("DeliveryNotes").Value,
    Items = null
}); 
```

首先，为什么输出 xml 中不存在“order.Element("DeliveryNotes").Value”并抛出“对象引用未设置为对象的实例”？

其次，我如何获得地址的“类型”（这是一个属性）？

第三，如何使项目列表成为“Items = null”，以便我有一个功能齐全的对象可以使用？

最后，如果 linq 的其余部分需要调整，那么请继续指导我朝着正确的方向前进；o)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:34:34.960

**更新** 我已经重写了代码，所以它现在不使用`value`属性。它还应该填充您的`Items`列表。

我发现这个主题非常有用：

[LINQ to XML 可选元素查询](https://stackoverflow.com/questions/278215/linq-to-xml-optional-element-query)

[你如何保护 Linq To Xml 中的空引用异常？](https://stackoverflow.com/questions/792919/how-do-you-guard-for-null-reference-exceptions-in-linq-to-xml)

```
var doc = XDocument.Load(@"C:\Temp\stackoverflow.xml");

var ordersTemp = 
    (from order in doc.Descendants("PurchaseOrder") select 
            new {
                order,
                BillingAddress = order.Descendants("Address").Where(a => a.Attribute("Type").Value == "Billing").Single(),
                ShippingAddress = order.Descendants("Address").Where(a => a.Attribute("Type").Value == "Shipping").Single(),
                Items = order.Descendants("Items").Descendants("Item")
            });

var orders = (from order in ordersTemp select  
    new PurchaseOrder
    {
        PurchaseOrderNumber = (string)order.order.Attribute("PurchaseOrderNumber"),
        OrderDate = (string)order.order.Attribute("OrderDate"),
        BillingAddress = new Address
        {
            City = (string)order.BillingAddress.Element("City"),
            Country = (string)order.BillingAddress.Element("Country"),
            Name = (string)order.BillingAddress.Element("Name"),
            State = (string)order.BillingAddress.Element("State"),
            Street = (string)order.BillingAddress.Element("Street"),
            Type = "Billing",
            Zip = (string)order.BillingAddress.Element("Zip")
        },
        ShippingAddress = new Address
        {
            City = (string)order.ShippingAddress.Element("City"),
            Country = (string)order.ShippingAddress.Element("Country"),
            Name = (string)order.ShippingAddress.Element("Name"),
            State = (string)order.ShippingAddress.Element("State"),
            Street = (string)order.ShippingAddress.Element("Street"),
            Type = "Shipping",
            Zip = (string)order.ShippingAddress.Element("Zip")
        },
        DeliveryNotes = (string)order.order.Element("DeliveryNotes"),
        Items = (from item in order.Items select new Item
        {
            PartNumber = (string)item.Attribute("PartNumber"),
            ProductName = (string)item.Element("ProductName"),
            Quantity = (string)item.Element("Quantity"),
            USPrice = (string)item.Element("USPrice"),
            Comment = (string)item.Element("Comment")
        }).ToList()
    }); 
```

# java - 带有 Java 和 gradle 的控制台应用程序

> ID：13172137
> 
> 赞同：58
> 
> 时间：2012-11-01T06:35:34.427
> 
> 标签：java, console-application, gradle

我正在用 Java 和 gradle 编写一个控制台应用程序。我正在使用该[`application`插件](http://gradle.org/docs/current/userguide/application_plugin.html)，并且在`build.gradle`.

在我的主要课程中，我`BufferedReader`与`System.in`. 问题是：当我`gradle run`在项目目录中运行时，阅读器不会等待我的控制台输入。`BufferedReader#readLine`而是`null`在第一次调用时返回。这种行为对于我正在做的事情是不可取的。

解决办法是什么？是否有用于 gradle 的单独控制台应用程序插件，或者我是否需要以`application`某种方式调整插件以满足我的需要？

* * *

## 回答 #1

> 赞同：86
> 
> 时间：2012-11-01T07:13:44.067

默认情况下，您的 gradle 构建的 system.in 不与 run (JavaExec) 任务的 system.in 连接。您可以执行以下操作：

```
// build.gradle (Groovy syntax)
run {
    standardInput = System.in
}

// build.gradle.kts (Kotlin syntax)
tasks.named<JavaExec>("run") {
    standardInput = System.`in`
} 
```

* * *

## 回答 #2

> 赞同：29
> 
> 时间：2016-06-09T22:25:37.310

如上所述，添加

```
run {
   standardInput = System.in
} 
```

并运行：

```
gradle console:run -q --console=plain 
```

在哪里：

*   `-q`以“安静”模式运行任务（以避免出现`> Building > :run`）
*   `--console=plain`删除执行状态：`<=-> 80% EXECUTING [TIME]`

来源：[https ://docs.gradle.org/current/userguide/gradle_command_line.html](https://docs.gradle.org/current/userguide/gradle_command_line.html)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2020-11-20T14:32:22.670

对于`build.gradle.kts`：

```
tasks.getByName<JavaExec>("run") {
    standardInput = System.`in`
} 
```

* * *

## 回答 #4

> 赞同：-4
> 
> 时间：2012-11-01T06:48:29.130

很有可能，问题在于您的 java 代码。应用程序插件所做的只是编译 java 代码，并运行您指定的主类。您可以在为应用程序插件 (mainClassName) 指定的主类中发布代码吗？

# perl - 无法安装 Text::Bidi CPAN 模块

> ID：13172141
> 
> 赞同：0
> 
> 时间：2012-11-01T06:35:53.367
> 
> 标签：perl, cpan

尝试安装[Text::Bidi](http://search.cpan.org/perldoc?Text%3a%3aBidi) CPAN 模块，但失败。收到此[错误](http://www.dinkypage.com/errortextbidi)。有人知道解决这个问题吗？

```
OS : Ubuntu 10.04 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T06:39:19.213

您需要`libfribidi`. 我不知道 Ubuntu 的约定，但如果它们像 Devian 的一样，你可以在名称以`-dev`.

# android - 如何在解锁 btn 后按 & 在解锁屏幕出现之前开始活动？

> ID：13172145
> 
> 赞同：9
> 
> 时间：2012-11-01T06:36:14.393
> 
> 标签：android, broadcastreceiver, screen-lock

我想做如下：

用户按下硬解锁按钮。按下解锁按钮后，我的活动开始了。使用屏幕上的关闭按钮关闭我的活动后，用户提示输入模式锁定（或密码锁定）。进入右模式锁定主屏幕后出现。

我想要以下场景：

按电源/解锁按钮 -> 开始我的活动 -> 单击活动的关闭按钮 -> 提示输入解锁模式 -> 输入模式 -> 显示主屏幕

目前完成如下：

`ACTION_USER_PRESENT`在用户输入模式和设备解锁后，使用我的广播接收器获得了活动

使用广播接收器`ACTION_SCREEN_ON`，我在按下解锁按钮后收到了日志消息，但在用户输入模式和设备解锁后活动开始。

我尝试使用广播接收器来接收`ACTION_SCREEN_ON`and的事件`ACTION_USER_PRESENT`。

我的代码如下：

广播接收器 -

```
public class BrodcastReceiver extends BroadcastReceiver 
{

    @Override
    public void onReceive(Context context, Intent intent) 
    {
        Log.d("receiver", "main");

        if (intent.getAction().equals(Intent.ACTION_SCREEN_OFF)) 
        {
            // do whatever you need to do here
            Log.d("receiver", "screen off");
        }
        else if (intent.getAction().equals(Intent.ACTION_SCREEN_ON)) 
        {
            // and do whatever you need to do here
            Log.d("receiver", "screen on");
            context.startActivity(new Intent(context,
                    unlock_image.class)
                    .setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP)
                    .setFlags(Intent.FLAG_ACTIVITY_BROUGHT_TO_FRONT)
                    .setFlags(Intent.FLAG_ACTIVITY_NEW_TASK));
            Log.d("receiver", "aft activity");
        }
        else if (intent.getAction().equals(Intent.ACTION_USER_PRESENT)) 
        {
            Log.d("receiver", "unlock");

            context.startActivity(new Intent(context,
                    unlock_image.class)
                    .setFlags(Intent.FLAG_ACTIVITY_NEW_TASK));
        }     
    } 
```

注册广播监听器 -

```
IntentFilter filter = new IntentFilter(Intent.ACTION_SCREEN_ON);
        filter.addAction(Intent.ACTION_SCREEN_OFF);
        filter.addAction(Intent.ACTION_USER_PRESENT);
        BroadcastReceiver mReceiver = new BrodcastReceiver();
        registerReceiver(mReceiver, filter); 
```

我尝试了很多，但我无法得到我想要的。如果有人知道如何获得我想要的预期结果，我们将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T02:30:20.370

尝试添加`WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED`以启动您的活动，只要您的活动位于所有其他窗口之上，这将暂时禁用键盘锁/键盘锁。

# javascript - 删除浏览器的标题栏、菜单栏、导航栏、标签栏、地址栏和状态栏

> ID：13172152
> 
> 赞同：3
> 
> 时间：2012-11-01T06:37:16.400
> 
> 标签：javascript, jquery, html, css

如何使用jquery删除浏览器的标题栏、菜单栏、导航栏、标签栏、地址栏、状态栏。

问题是我正在调用一个对话框来打开一个弹出窗口，该窗口应该完全适合显示器屏幕并且不应该显示浏览器的任何栏。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-01T06:46:13.047

[全屏 API](https://developer.mozilla.org/en-US/docs/DOM/Using_fullscreen_mode?redirectlocale=en-US&redirectslug=DOM/Using_full-screen_mode)为使用用户的整个屏幕呈现 Web 内容提供了一种简单的方法。本文提供有关使用此 API 的信息。

该 API 让您可以轻松地引导浏览器使元素及其子元素（如果有）占据全屏，从而在持续时间内从屏幕上消除所有浏览器用户界面和其他应用程序。

[现场示例](https://developer.mozilla.org/samples/domref/fullscreen.html)（网站加载后按 Enter）

[这](http://tutorialzine.com/2012/02/enhance-your-website-fullscreen-api/)也是一本好书。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-01T06:52:53.073

您将无法隐藏所有这些工具栏，但您可以通过在此处为任何选项设置 false 值来尽力而为：[https ://developer.mozilla.org/en-US/docs/DOM/window .open](https://developer.mozilla.org/en-US/docs/DOM/window.open) ...在第三个参数中`window.open`，很可能是这些：

*   菜单栏
*   工具栏
*   地点
*   滚动条
*   标题栏

（并非全部完全兼容/支持，但使用它们不会有什么坏处）

至于“全屏” - 全屏 API 的下一个最佳选择是将这些选项用于以下第三个参数`window.open`：

```
window.open("url", "name", "top=0,left=0,width=" + window.screen.width + ",height=" + window.screen.height); 
```

但这甚至不能保证它会填满整个显示器。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-28T11:51:36.467

```
window.open("url","name",'height=240,width=200,top=' + top + ',left=' + left + ',directories=no,titlebar=nostatus=no,toolbar=no,menubar=no,navigationbar=no,location=no,resizable=no,scrollbars=no'); 
```

# android - 将图像从 SD 卡显示到 SurfaceView

> ID：13172153
> 
> 赞同：0
> 
> 时间：2012-11-01T06:37:22.257
> 
> 标签：android, surfaceview

我正在尝试使用意图从 sd 卡获取图像

```
Intent choosePictureIntent = new Intent(Intent.ACTION_PICK,
       android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);
startActivityForResult(choosePictureIntent, 0); 
```

通过使用这个

```
BitmapFactory.Options bmpFactoryOptions = new BitmapFactory.Options();

bmp = BitmapFactory.decodeStream(getContentResolver().openInputStream(
    imageFileUri), null, bmpFactoryOptions);
chosenImageView.setImageBitmap(bmp); 
```

`chosenImageView`指`ImageView`但每当我尝试使用时`SurfaceView`，它并没有给我`.setImageBitmap`.

我知道如何获得图像，`imageView`但`Surface`我发现很难获得这个概念。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:34:36.770

与`SurfaceView`您应该创建一个静态`ArrayList`或`Vector`存储您的`Bitmap`和绘制位图`onDraw`

```
public class Panle extends SurfaceView implements SurfaceHolder.Callback {
    private static ArrayList<Bitmap> mElements;
    private CanvasThread canvasThread;
    private Paint p = new Paint(Paint.ANTI_ALIAS_FLAG);

    public Panle(Context context) {
        super(context);
        mElements = new ArrayList<Bitmap>();
        getHolder().addCallback(this);
        canvasThread = new CanvasThread(getHolder(), this);

        p.setXfermode(new PorterDuffXfermode(Mode.SRC));
        p.setColor(Color.TRANSPARENT);
        p.setMaskFilter(new BlurMaskFilter(15, Blur.NORMAL));
    }

    @Override
    public void draw(Canvas canvas) {
        if (canvas != null)
            canvas.drawColor(0xffffffff);
        if (mElements != null && mElements.size() != 0) {

            for (int i = 0; i <= mElements.size() - 1; i++) {

                canvas.drawBitmap(mElements.get(i), 50, 50, p);// For example i fixed position at 50 50\. You can change to another position

            }

        }

        super.draw(canvas);
    }
public static ArrayList<Bitmap> setmElements() {
    return mElements;
}

    @Override
    public void surfaceCreated(SurfaceHolder holder) {
        if (!canvasThread.isAlive()) {
            canvasThread = new CanvasThread(getHolder(), this);
            canvasThread.setRunning(true);
            canvasThread.start();
        }

    }

    @Override
    public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {
        // TODO Auto-generated method stub

    }

    @Override
    public void surfaceDestroyed(SurfaceHolder holder) {
        if (canvasThread.isAlive()) {
            canvasThread.setRunning(false);
        }

    }

} 
```

现在我们需要在面板类中处理线程。

```
public class CanvasThread extends Thread {
    private SurfaceHolder _surfaceHolder;
    private Panle _panel;
    private boolean _run = false;

    public CanvasThread(SurfaceHolder surfaceHolder, Panle panel) {
        _surfaceHolder = surfaceHolder;
        _panel = panel;
    }

    public void setRunning(boolean run) {
        _run = run;
    }
    public SurfaceHolder getSurfaceHolder() {
        return _surfaceHolder;
    }

    @Override
    public void run() {
        Canvas c;
        while (_run) {
            c = null;
            try {
                c = _surfaceHolder.lockCanvas(null);
                synchronized (_surfaceHolder) {

                    _panel.onDraw(c);
                }
            } finally {
                // do this in a finally so that if an exception is thrown
                // during the above, we don't leave the Surface in an
                // inconsistent state
                if (c != null) {
                    _surfaceHolder.unlockCanvasAndPost(c);
                }
            }
        }
    }
} 
```

在 xml 中创建面板并在您的活动中获取它。为了`SDcard`使用 Intent 打开 Gallery 来绘制图像，我使用它将检索到的图像放入 onActivityForResult。

```
@Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {

        if (resultCode == RESULT_OK) {

            if (requestCode == Constants.REQUEST_CODE_GETTING_IMAGE) {

                if (data != null) {

                    Uri dataUri = data.getData();
                    Bitmap bitmap = null;
                    bitmap = Utils.decodeSampledBitmapFromFile(ImageUtil.getRealPathFromURI(CheDetailActivity.this, dataUri), Panel.getPanelW(), Panel.getPanelH());// I resize image from Gallery to avoid OOM
                    if (bitmap != null) {

                        Panel.getmElements().add(bitmap);
                    }

                }
            }

        }
        super.onActivityResult(requestCode, resultCode, data);
    } 
```

`Panel.getElements.add(bitmap);`
您可以使用您可以看到的另一个教程是[2D 教程系列](http://www.droidnova.com/2d-tutorial-series-part-ii,772.html)自由添加任何位图，其中显示了非常基本的步骤。

# php - 使用 Drupal 的授权，来自非 Drupal 的 php 应用程序

> ID：13172154
> 
> 赞同：2
> 
> 时间：2012-11-01T06:37:22.337
> 
> 标签：php, drupal, authentication, drupal-7, drupal-modules

我为我的孩子编写了一些教育网络应用程序（HTML、js）。我已经到了需要开始单独跟踪他们的进度的地步，因此应用程序可以更多地关注个人仍然需要学习的内容，并花更少的时间重复他们已经熟悉的内容。

为此，我创建了一个 Drupal 站点，每个孩子都可以登录。一旦他们通过 Drupal 登录，我想让我的应用程序调用一些访问 Drupal 身份验证状态的 php 页面（我将编写）。

所以我的问题是，如果我正在编写查询或更新数据库的 php 页面，这些页面如何首先确定用户是否在该站点上登录了 Drupal，如果是，则获取当前经过身份验证的用户的名称？

非常感谢您的任何指点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T16:25:14.690

使用此代码开始您的页面（取自 Drupal 的 index.php）

```
define('DRUPAL_ROOT', getcwd());
require_once DRUPAL_ROOT . '/includes/bootstrap.inc';
drupal_bootstrap(DRUPAL_BOOTSTRAP_FULL); 
```

如果您的脚本与 Drupal 的 index.php 不在同一个文件夹中，您可能需要调整路径。

然后您就可以完全访问脚本中的 Drupal API，并且将加载用户的会话。在上述建议生效之前，您需要使用此代码引导 Drupal。从那里，你可以做

```
global $user;
print_r($user); 
```

现在您可以执行以下操作：

```
$other_user = user_load($some_user_id); 
```

从长远来看，您确实会从将其构建为 Drupal 模块中获得很多好处。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-01T08:09:43.870

我认为从 PHP 脚本创建 Drupal 模块更容易。那时您不必担心身份验证。只是我的观点。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-01T08:11:13.847

您可以使用[服务模块](http://drupal.org/project/services)

> 将外部应用程序与 Drupal 集成的标准化解决方案。服务回调可以与多个接口一起使用，例如 REST、XMLRPC、JSON、JSON-RPC、SOAP、AMF 等。这允许 Drupal 站点通过多个接口提供 Web 服务，同时使用相同的回调代码。

**更新：**

如果是这种情况，您可以在 drupal 中编写代码。无需外部应用程序。

要找出当前登录的用户，请使用以下代码示例：

```
global $user;
print_r($user); // print out the user object 
```

希望这会有所帮助……穆罕默德。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-12-21T12:08:10.100

这个问题的答案在这里：[Drupal - using boostrap to check login user outside of Drupal not working](https://stackoverflow.com/questions/3357967/drupal-using-boostrap-to-check-logged-in-user-outside-of-drupal-not-working)

引导代码有效，您只需要在 settings.php 中设置 $cookie_domain

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-06-25T05:31:08.823

这个文件应该在drupal安装里面 **很容易**

```
//set the working directory to your Drupal root
define("DRUPAL_ROOT",     "/var/www/drupal/");

//require the bootstrap include
require_once 'includes/bootstrap.inc';

//Load Drupal
drupal_bootstrap(DRUPAL_BOOTSTRAP_FULL); 
//(loads everything, but doesn't render anything)

$name = 'admin';
$password = 'admin';

//use drupal user_authenticate function
if(!user_authenticate($name, $password)){
    echo 'invalid';
}else{
    echo 'valid';
} 
```

# java - Clover 无法检测 UTF-8 源

> ID：13172157
> 
> 赞同：2
> 
> 时间：2012-11-01T06:37:34.163
> 
> 标签：java, ant, character-encoding, clover

我正在现有项目中设置 Clover。它无法检测源行：

```
if ((character != 'ö') && (character != 'ø') && (character != 'ü') 
```

出现错误：

```
> /path/to/MyClass.java:13:33:expecting ''', found 'Â' 
```

所以在我看来，仪器试图逐字节解析源，但无法理解为什么 char 在 1 个字节后没有终止。

有没有办法告诉 Clover 通过 Ant 解析 UTF-8？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T06:48:11.747

你用的是maven插件吗？还是另一种方法？maven-clover2-plugin 有一个编码配置选项：[http ://docs.atlassian.com/maven-clover2-plugin/3.1.7/setup-mojo.html#encoding](http://docs.atlassian.com/maven-clover2-plugin/3.1.7/setup-mojo.html#encoding)

# c++ - C++ 逐行分割字符串

> ID：13172158
> 
> 赞同：41
> 
> 时间：2012-11-01T06:37:43.817
> 
> 标签：c++, split

我需要逐行拆分字符串。我以前是按以下方式做的：

```
int doSegment(char *sentence, int segNum)
{
assert(pSegmenter != NULL);
Logger &log = Logger::getLogger();
char delims[] = "\n";
char *line = NULL;
if (sentence != NULL)
{
    line = strtok(sentence, delims);
    while(line != NULL)
    {
        cout << line << endl;
        line = strtok(NULL, delims);
    }
}
else
{
    log.error("....");
}
return 0;
} 
```

我输入“我们是一个。\是的，我们是。” 并调用 doSegment 方法。但是当我调试时，我发现句子参数是“we are one.\\nyes we are”，并且拆分失败。有人可以告诉我为什么会这样，我该怎么办。还有其他我可以用来在 C++ 中拆分字符串的方法吗？谢谢 ！

* * *

## 回答 #1

> 赞同：75
> 
> 时间：2012-11-01T07:14:33.253

我想使用 std::getline 或 std::string::find 来遍历字符串。下面的代码演示了getline函数

```
int doSegment(char *sentence)
{
  std::stringstream ss(sentence);
  std::string to;

  if (sentence != NULL)
  {
    while(std::getline(ss,to,'\n')){
      cout << to <<endl;
    }
  }

return 0;
} 
```

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-11-01T07:08:17.420

您可以[`std::string::find`](http://en.cppreference.com/w/cpp/string/basic_string/find)循环调用并使用[`std::string::substr`](http://en.cppreference.com/w/cpp/string/basic_string/substr).

```
std::vector<std::string> split_string(const std::string& str,
                                      const std::string& delimiter)
{
    std::vector<std::string> strings;

    std::string::size_type pos = 0;
    std::string::size_type prev = 0;
    while ((pos = str.find(delimiter, prev)) != std::string::npos)
    {
        strings.push_back(str.substr(prev, pos - prev));
        prev = pos + 1;
    }

    // To get the last substring (or only, if delimiter is not found)
    strings.push_back(str.substr(prev));

    return strings;
} 
```

[请参见此处](http://ideone.com/UHWNQW)的示例。

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2019-12-10T12:29:57.173

```
#include <sstream>
#include <string>
#include <vector>

std::vector<std::string> split_string_by_newline(const std::string& str)
{
    auto result = std::vector<std::string>{};
    auto ss = std::stringstream{str};

    for (std::string line; std::getline(ss, line, '\n');)
        result.push_back(line);

    return result;
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2018-02-17T02:41:59.287

```
#include <iostream>
#include <string>
#include <regex>
#include <algorithm>
#include <iterator>

using namespace std;

vector<string> splitter(string in_pattern, string& content){
    vector<string> split_content;

    regex pattern(in_pattern);
    copy( sregex_token_iterator(content.begin(), content.end(), pattern, -1),
    sregex_token_iterator(),back_inserter(split_content));  
    return split_content;
}

int main()
{   

    string sentence = "This is the first line\n";
    sentence += "This is the second line\n";
    sentence += "This is the third line\n";

    vector<string> lines = splitter(R"(\n)", sentence);

    for (string line: lines){cout << line << endl;}

} 
```

1.  我们有一个多行的字符串
2.  我们将它们分成一个数组（向量）
3.  我们在 for 循环中打印出这些元素

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2019-05-28T13:22:55.153

这种相当低效的方法只是循环遍历字符串，直到遇到 \n 换行符。然后它创建一个子字符串并将其添加到向量中。

```
std::vector<std::string> Loader::StringToLines(std::string string)
{
    std::vector<std::string> result;
    std::string temp;
    int markbegin = 0;
    int markend = 0;

    for (int i = 0; i < string.length(); ++i) {     
        if (string[i] == '\n') {
            markend = i;
            result.push_back(string.substr(markbegin, markend - markbegin));
            markbegin = (i + 1);
        }
    }
    return result;
} 
```

# php - 每次我使用 content:"\005B" 时，它都会变成 content:"�05B"

> ID：13172159
> 
> 赞同：1
> 
> 时间：2012-11-01T06:37:54.613
> 
> 标签：php, mysql, css

我有一个存储在 mySQL 数据库中的 CSS 文本。

它存储到`ibf_css`表，`css_text`列。`css_text`排序规则是`latin1_swedish_ci`.

这是我使用的 Web 应用程序的工作方式。CSS 存储在数据库中并与 css.php 一起加载。这不是通常的 style.css 像 Wordpress。

我的 CSS 中有这个

`#userlinks > span:before { content:"\005B";margin-right:4px; }`

每次我将它保存到数据库中（通过 Web 应用程序），它都变成了这个

`#userlinks > span:before { content:"�05B";margin-right:4px; }`

这发生在每行有`\0`. 像`\005D`,`\00D0`等。它变成了`�05D`,`�0D0`等。

如果我用 phpmyadmin 进行编辑，那很好。但是，如果我使用 Web 应用程序进行编辑，那就麻烦了。

请帮忙？非常感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-01T06:44:12.143

`INSERT INTO foo ('bar') VALUES ('\0')`表示您要插入一个*NUL 字节*。再次查询时，您将得到一个实际的`0x00`字节而不是`\0`. 您需要**SQL 转义**您插入数据库的任何数据。不仅适用于这种情况，而且**总是**如此。

请阅读[伟大的逃避现实（或：使用文本中的文本需要知道的内容）](http://kunststube.net/escapism/)。

# objective-c - 如何在缩放的 CALayer 中保持子层的比例

> ID：13172166
> 
> 赞同：3
> 
> 时间：2012-11-01T06:38:28.700
> 
> 标签：objective-c, ios, uiscrollview, catiledlayer

我想将原始地图创建为 CATiledLayer。层层次结构就像上面这样。

```
Map View (CATiledLayer)
----------------------
|  Pin (CALayer)     |
|  +-------+         |
|  | image |         |
|  +-------+         |
|                    |
|     Pin (CALayer)  |
|     +-------+      |
|     | image |      |
|     +-------+      |
|                    |
---------------------- 
```

一些“引脚层”被放置在地图视图上。

缩放地图时，图钉将随地图视图一起缩放。但我想继续缩放 pin 层，就像 iOS 中的原始地图应用程序一样。

有人知道好的答案吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-01T09:21:04.130

您是否为 CATiledLayer 设置了 autoresizesubviews？

```
[MapView setAutoresizesSubviews:YES]; 
```

然后确保已使用 setAutoresizingMask 设置 Pins

```
[PinView setAutoresizingMask:UIViewAutoresizingFlexibleHeight |UIViewAutoresizingFlexibleWidth]; 
```

您可能还需要为 PinView 设置边距以将其保持在正确的位置。

希望这可以帮助。

# php - 使用 php 在 Amazon Product API 中使用 itemlookup

> ID：13172168
> 
> 赞同：0
> 
> 时间：2012-11-01T06:39:16.893
> 
> 标签：php, javascript, amazon-product-api, dom

我想要的只是在同一页面上返回以下内容：

> 节省 8.91%
> 
> ~~零售价：599.00 美元~~
> 
> 价格：549.99 美元
> 
> 总节省：49.01 美元

因为我不太了解 PHP，所以我很难按照文档进行操作。我在试图弄清楚签名过程时被困了几个小时。我想我明白了，这是一种用于验证您身份的安全功能。它存储为 SHA-1 哈希，因此您需要某种函数来理解它。当然，就我而言，说起来容易做起来难。

但也许我想做的比文档中的示例简单得多，因为他们使用了涉及表单输入的 ItemSearch 操作。这似乎更直接。

我将尝试解释这个过程，如果我的理解有误，请纠正我。因此，运行了一个 php 脚本，它向 Amazon 产品 API 发出请求以获取某些详细信息，它对您进行身份验证并在某种变量中返回您想要的数据，然后将该变量解析为 XML？然后您使用 javascript 解析该 XML 并将其放入 HTML DOM 中，它将显示在同一页面上。

大概是这样吗？不？

那么我如何将其实际翻译成代码呢？

我一直在阅读的资源：http: [//www.kennylucius.com/a/AAWS_signed_URL_function](http://www.kennylucius.com/a/AAWS_signed_URL_function)

docs.amazonwebservices.com/AWSECommerceService/latest/DG/RequestAuthenticationArticle.html

docs.amazonwebservices.com/AWSECommerceService/2011-08-01/GSG/ImplementinganA2SRequest.html

好的，所以通过signedURLs 发出请求很简单......它返回我在XML 中寻找的东西，我可以设置样式，太棒了。但是我如何在 PHP 中做到这一点？我发现了另一种有用的资源，它可以快速浏览 API 库。

codediesel.com/php/accessing-amazon-product-advertising-api-in-php/

从那篇文章和文档中，我认为这是一般过程：

> 1）创建一个包含请求的对象
> 
> 2）在您的请求中添加您想要的不同参数
> 
> 3）在验证您的请求时发送请求

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T03:38:25.343

我编写或至少改进了一堆代码来访问亚马逊产品 API。最新版本在 GitHub 中，它是[我的 web mashup 代码库](http://www.muschamp.ca/Muskie/webMashups.html)的一部分。

它有如下方法：

*   公共函数 getItemByUpc($upc_code, $product_type)
*   公共函数 getItemByAsin($asin_code)
*   公共函数 getItemAttributesByAsin($asin_code)
*   公共函数 getRelatedItemsByAsin($asin_code)
*   公共函数 getRelatedTracksToAsin($asin_code)
*   公共函数 getItemByKeyword($keyword, $product_type)
*   公共函数 getMP3sForAlbumByArtist($albumTitle, $artist)
*   公共函数 getMP3ForSongByArtist($songTitle, $artist)
*   公共函数 getBookForKeyword($keyword)
*   公共函数 getAlbumCoverByArtistAndTitle($artist, $title)
*   公共函数 getInfoForSongwriter($artist)
*   公共函数 getDVDCoverByTitle($title)
*   公共函数 getDVDCoverByTitleAndDirector($title, $director)

基于这些示例和各种帮助方法，您应该能够从 Amazon Product API 中获得 Amazon 现在让您获得的大部分内容。他们没有给你一切，直接链接到 MP3 预览似乎不再起作用（可能）。文档可能不是最好的，您需要了解响应组和类别以及 ItemSearch 和 ItemLookUp 之间的区别，有时您必须进行多次查询才能获取所有信息。我写了很多代码来访问亚马逊产品 API，检查它是基于 Sameer 的代码，我认为他加入了我的一些更改/修复/添加，但不是全部。不同的人试图从 API 中获取不同的信息......

# c# - C# StreamReader 从标签输入文件？

> ID：13172171
> 
> 赞同：2
> 
> 时间：2012-11-01T06:39:32.087
> 
> 标签：c#, streamreader

我一直在使用`StreamReader inputFile`来自 a 的代码`ListBox`并且效果很好，但是，我想将`.txt`文件中的数据输入到一个`Label`框中，这可能吗？这是我尝试过的代码，它给了我一个错误描述说明

```
Use of unassigned local variable 'total' 
```

```
private void Form1_Load(object sender, EventArgs e)
{
  try
  {
      int total = 0; 
      int highScore;
      StreamReader inputFile;
      inputFile = File.OpenText("HighScore.txt");
      while (!inputFile.EndOfStream)
      {
          highScore = int.Parse(inputFile.ReadLine());
          total += highScore;
      }
      inputFile.Close();
      highscoreLabel.Text = total.ToString("c");
  }
  catch (Exception ex)
  {
      MessageBox.Show(ex.Message);
  }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T06:47:56.043

您看到的消息（“使用未分配的局部变量 'total'”）与“确定的分配”有关，这将是以下情况：

```
int total; // note not yet assigned a value

...

total += {whatever} 
```

但是，在您发布的代码中，它肯定*是*分配的（初始化为零）。因此，我怀疑错误消息被错误复制，或者代码示例不是失败案例的直接副本。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T08:30:17.407

**错误不在代码中！**
它是文本文件的格式！如果有除整数以外的任何字符，代码会产生这个错误——“输入字符串格式不正确”（我猜是 int.Parse() 方法！）

# google-bigquery - 对 BigQuery 表数据定价

> ID：13172176
> 
> 赞同：0
> 
> 时间：2012-11-01T06:39:50.290
> 
> 标签：google-bigquery

我想澄清有关收费或定价的疑问。BigQuery 是否在以下任一情况下收费：-

1）如果我的表包含 100 GB 的数据，并且如果我查询此表以搜索记录，BigQuery 遍历 100 GB 以查找该记录。在这种情况下，遍历费用。

或者

2) 如果我的查询从 100 GB 返回一个 90 GB 的结果集。在这种情况下，检索到的数据量。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T15:52:23.103

BigQuery 仅对您选择的列和您指定的表中处理的数据（或如您所说的“遍历”）收费。

例如，如果您有一个名为 ' `my_table`' 的表，其中包含字段 ' `a,b,c,d,e`'

你的 SELECT 语句是：

```
SELECT sum(a), sum(b) from [my_table]; 
```

此查询仅对列中的数据量收费，`a`而`b`...不收费`c,d, or e`。除了处理之外，BigQuery 还对系统中的数据存储收费。

如需详细了解 BigQuery 定价，请访问[我们的定价页面](https://developers.google.com/bigquery/docs/pricing)。

# jquery - 验证表单后无法看到控件后面的 JQuery 验证器消息

> ID：13172177
> 
> 赞同：0
> 
> 时间：2012-11-01T06:39:54.050
> 
> 标签：jquery, asp.net-mvc, validation

在页面加载...`$(document).ready(function () { $("form").validate(); });`

在保存按钮单击事件...`if($('form').valid()) { Saving data here... }`

Chrome 和 Firefox 的“Firebug”显示一切都非常完美，`$("form").validate()`甚至`$('form').valid()`按预期返回 true 和 false，但看不到特定表单控件后面的错误消息。

*所有都在 MVC 视图中

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:05:05.270

宾果游戏...按我现在想要的方式工作。

我刚刚删除了“jqueryval”包（“jquery.validate.js”、“jquery.validate.unobtrusive.js”和“jquery.unobtrusive-ajax.js”），并手动包含了“jquery.validate.js”。

现在一切都很好。

# python - Python：在 Windows 中制作二维码

> ID：13172178
> 
> 赞同：0
> 
> 时间：2012-11-01T06:39:54.193
> 
> 标签：python, windows, command, external

我是 Python 新手。我正在尝试在 Windows 中运行[此脚本（gencards.py）](https://github.com/bieber/qrportrait)，但他说我需要运行“qrencode 命令”。我认为这意味着[这个库](http://fukuchi.org/works/qrencode/index.html.en "福地健太郎的 libqrencode")，或者更有可能是[windows 端口](http://code.google.com/p/qrencode-win32/)。

在 python 脚本中，他这样使用 qrencode：

```
os.system("qrencode -o .tempqr.png -s 30 -m 0 -l H " + serial) 
```

我已经通过可执行文件安装了 Windows 库，我将 qrcode.exe 添加到 PATH，并尝试编辑 gencards.py 以使用“qrcode”或“qrcode.exe”，但我总是得到

```
'qrcode' is not recognized as an intrnal or external command, operable program or batch file. 
```

我究竟做错了什么？

我在 Windows7 x64 上使用 Python 2.7。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T06:45:07.053

错误消息意味着 Windows 不知道如何处理`qrcode`. 检查它是否安装在您的系统中，以及它的目录是否包含在您的`PATH`环境变量中

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T06:55:57.803

尝试通过首先检查您是否可以使用命令提示符运行程序（顺便说一句，它是“grencode”还是“grcode”？）来解决问题。如果不能，请再次检查 PATH 设置。当您成功使用命令提示符时，请返回您的 python 脚本。

# ios - UITableViewCell 中的性能 youtube 视频

> ID：13172179
> 
> 赞同：1
> 
> 时间：2012-11-01T06:40:02.167
> 
> 标签：ios, uiwebview

我必须在 中列出 youtube 视频`UITableView`。我在`UIWebView`里面使用`UITableViewCell`。

因为`UIWebView`，单元加载的性能很差。因此，当我滚动浏览 tableview 时，它会结结巴巴。

我认为这是由于 youtube 链接的性能密集型渲染。如果有人知道如何解决这个问题？

对于 youtube 视频，我使用以下代码：

```
<object width=\"125\" height=\"86\"><param name=\"movie\" value=\"%@\"></param><param name=\"wmode\" value=\"transparent\"></param><embed src=\"%@\" type=\"application/x-shockwave-flash\" wmode=\"transparent\" width=\"125\" height=\"86\"></embed></object> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T11:32:31.917

[http://img.youtube.com/vi/YouTube_ID/default.jpg](http://img.youtube.com/vi/YouTube_ID/default.jpg)

将 YouTube_ID 替换为您的视频 ID，这将为您提供缩略图！

# jquery-mobile - 在 JQuery Mobile 中的页面之间传递滑块值

> ID：13172181
> 
> 赞同：2
> 
> 时间：2012-11-01T06:40:11.603
> 
> 标签：jquery-mobile, slider

我正在尝试在页面之间传递表单滑块值，以便可以在目标页面中使用更改后的设置。为此，我只是在[此处](https://stackoverflow.com/questions/10671092/passing-data-between-pages-with-jquery-mobile)的答案中解释的同一页面上访问 DOM 。

这是我的示例代码：

```
<!DOCTYPE html>
<html>    
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Multi-page template</title>
        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
        <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
        <script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>

        <script>
            $(document).on('pageinit', '#review', function() {
                $('form').submit(function() {
                    first_count = $('#first_slider').val();
                    second_count = $('#second_slider').val();
                    $.mobile.changePage('#front');
                    return false;
                });
            });
            $(document).on('pageinit', '#front', function() {

                $('#first_count').text('' + first_count);
                $('#second_count').text('' + second_count);

            });
        </script>
    </head>
    <body>

        <!-- ======================== -->
        <div data-role="page" id="review" data-theme="a">

            <div data-role="header">
                <h1>Review</h1>
            </div>
            <p>
                Review content
            </p>

            <div data-role="content" data-theme="a">
                <form>
                    <label for="first_slider">First:</label>
                    <input type="range" id="first_slider" value="60" min="0" max="100" />
                    <label for="second_slider">Second:</label>
                    <input type="range" id="second_slider" value="60" min="0" max="100" />
                    <input type="submit" value="Submit" />
                </form>
            </div>

        </div>

        <!-- ======================== -->
        <div data-role="page" id="front" data-theme="a">

            <div data-role="header">
                <h1>Front</h1>
            </div>

            <div data-role="content" data-theme="a">
                <p>
                    Front content
                </p>

                <p id='first_count'></p>
                <p id='second_count'></p>

                <p>
                    <a href="#review" data-role="button">Main</a>
                </p>
            </div>
        </div>
    </body>
</html> 
```

这似乎第一次起作用，更改后的设置将显示在“首页”页面上，但不会显示在后续页面调用中。我尝试了除“pageinit”之外的其他 JQM 页面事件，但无法使其正常工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T14:37:02.383

我玩弄了您的示例并使其正常工作。我使用了文档中的[此信息](http://jquerymobile.com/demos/1.2.0/docs/buttons/buttons-types.html)

> **表单按钮**
> 
> 为了简化样式，框架会自动将任何具有提交、重置或按钮类型的按钮或输入元素转换为自定义样式按钮——无需添加 data-role="button" 属性。但是，如果需要，您可以直接调用任何选择器上的按钮插件，就像任何 jQuery 插件一样：
> 
> ```
>  $('[type="submit"]').button(); 
> ```

这导致了这个脚本

```
<script>
    $('[type="submit"]').bind( "click", function() {
      first_count = $('#first_slider').val();
      second_count = $('#second_slider').val();
      $('#first_count').text('' + first_count);
      $('#second_count').text('' + second_count);
      $.mobile.changePage('#front');
      return false;
    });
</script> 
```

您的示例的完整更正版本：

```
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Multi-page template</title>
  <link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
  <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
  <script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>
</head>

<body>
  <div data-role="page" id="review" data-theme="a">
    <div data-role="header">
      <h1>Review</h1>
    </div>
    <p>
      Review content
    </p>

    <div data-role="content" data-theme="a">
      <form>
        <label for="first_slider">First:</label>
        <input type="range" id="first_slider" value="60" min="0" max="100" />
        <label for="second_slider">Second:</label>
        <input type="range" id="second_slider" value="60" min="0" max="100" />
        <input type="submit" value="Submit" />
      </form>
    </div>
  </div>

  <!-- ======================== -->
  <div data-role="page" id="front" data-theme="a">
    <div data-role="header">
      <h1>Front</h1>
    </div>

    <div data-role="content" data-theme="a">
      <p>
        Front content
      </p>

      <p id='first_count'></p>
      <p id='second_count'></p>

      <p>
        <a href="#review" data-role="button">Main</a>
      </p>
    </div>

    <script>
      $(document).bind('pageinit');
    </script>
  </div>

  <script>
    $('[type="submit"]').bind( "click", function() {
      first_count = $('#first_slider').val();
      second_count = $('#second_slider').val();
      $('#first_count').text('' + first_count);
      $('#second_count').text('' + second_count);
      $.mobile.changePage('#front');
      return false;
    });
  </script>
</body>
</html> 
```

截屏
![在此处输入图像描述](../Images/bbf609317cc3b8fccf6e824db0b61e9c.png)

# asp.net - 我应该将（带盐的密码）存储在数据库中还是将散列密码和盐作为数据库中的两个不同字段存储？

> ID：13172185
> 
> 赞同：1
> 
> 时间：2012-11-01T06:40:33.710
> 
> 标签：asp.net, database, security, hash

我想问一下这种散列技术对于asp.net是否足够好？

我计划将哈希密码保存在一个名为“密码”的字段中，然后在登录页面上对用户输入密码进行哈希处理，看看它是否匹配

这是代码：

```
public const int SALT_BYTES = 24;
    public const int HASH_BYTES = 24;
    public const int PBKDF2_ITERATIONS = 1000;

    public const int ITERATION_INDEX = 0;
    public const int SALT_INDEX = 1;
    public const int PBKDF2_INDEX = 2;

    /// <summary>
    /// Creates a salted PBKDF2 hash of the password.
    /// </summary>
    /// <param name="password">The password to hash.</param>
    /// <returns>The hash of the password.</returns>
    public static string CreateHash(string password)
    {
        // Generate a random salt
        RNGCryptoServiceProvider csprng = new RNGCryptoServiceProvider();
        byte[] salt = new byte[SALT_BYTES];
        csprng.GetBytes(salt);

        // Hash the password and encode the parameters
        byte[] hash = PBKDF2(password, salt, PBKDF2_ITERATIONS, HASH_BYTES);
        return PBKDF2_ITERATIONS + ":" +
           Convert.ToBase64String(salt) + ":" +
           Convert.ToBase64String(hash);
    }

    /// <summary>
    /// Validates a password given a hash of the correct one.
    /// </summary>
    /// <param name="password">The password to check.</param>
    /// <param name="goodHash">A hash of the correct password.</param>
    /// <returns>True if the password is correct. False otherwise.</returns>
    public static bool ValidatePassword(string password, string goodHash)
    {
        // Extract the parameters from the hash
        char[] delimiter = { ':' };
        string[] split = goodHash.Split(delimiter);
        int iterations = Int32.Parse(split[ITERATION_INDEX]);
        byte[] salt = Convert.FromBase64String(split[SALT_INDEX]);
        byte[] hash = Convert.FromBase64String(split[PBKDF2_INDEX]);

        byte[] testHash = PBKDF2(password, salt, iterations, hash.Length);
        return SlowEquals(hash, testHash);
    }

    /// <summary>
    /// Compares two byte arrays in length-constant time. This comparison
    /// method is used so that password hashes cannot be extracted from 
    /// on-line systems using a timing attack and then attacked off-line.
    /// </summary>
    /// <param name="a">The first byte array.</param>
    /// <param name="b">The second byte array.</param>
    /// <returns>True if both byte arrays are equal. False otherwise.</returns>
    private static bool SlowEquals(byte[] a, byte[] b)
    {
        uint diff = (uint)a.Length ^ (uint)b.Length;
        for (int i = 0; i < a.Length && i < b.Length; i++)
            diff |= (uint)(a[i] ^ b[i]);
        return diff == 0;
    }

    /// <summary>
    /// Computes the PBKDF2-SHA1 hash of a password.
    /// </summary>
    /// <param name="password">The password to hash.</param>
    /// <param name="salt">The salt.</param>
    /// <param name="iterations">The PBKDF2 iteration count.</param>
    /// <param name="outputBytes">The length of the hash to generate, in bytes.</param>
    /// <returns>A hash of the password.</returns>
    private static byte[] PBKDF2(string password, byte[] salt, int iterations, int outputBytes)
    {
        Rfc2898DeriveBytes pbkdf2 = new Rfc2898DeriveBytes(password, salt);

        pbkdf2.IterationCount = iterations;
        return pbkdf2.GetBytes(outputBytes);
    } 
```

如果有办法我可以改进它，如果你能指出我可以替换的某些代码，那就太棒了。

代码来自：[http ://crackstation.net/hashing-security.htm#aspsourcecode](http://crackstation.net/hashing-security.htm#aspsourcecode)

先生/女士谢谢你++ :D

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-01T07:29:48.397

您上面提到的代码看起来不错。我没有找到任何盐。

我想提一下以下代码来生成加盐的 HASH。

看看它是否可以帮助你。

```
 ''' <summary>
''' Gets the hash of the string.
''' </summary>
''' <param name="pPassword">Provided password to encrypt</param>
Private Function GetHash(ByVal pPassword As String) As String
    Dim sHashedString As String
    dim sSalt1 as string = "YourSalt"
    dim sSalt2 as string = "YourSalt"
    Dim sSaltedString = sSalt1 & pPassword & sSalt2

    Try
        sHashedString = ConvertByteArrayToString(New System.Security.Cryptography.SHA1CryptoServiceProvider().ComputeHash(System.Text.ASCIIEncoding.ASCII.GetBytes(sSaltedString)))
    Catch oException As Exception
        sHashedString = String.Empty
    End Try

    Return sHashedString
End Function

''' <summary>
''' Converts the byte array to string.
''' </summary>
''' <param name="arrInput">The arr input.</param><returns></returns>
Private Function ConvertByteArrayToString(ByVal arrInput() As Byte) As String
    Dim i As Integer
    Dim sOutput As New System.Text.StringBuilder(arrInput.Length)

    For i = 0 To arrInput.Length - 1
        sOutput.Append(arrInput(i).ToString("X2"))
    Next

    Return sOutput.ToString()
End Function 
```

您可以简单地提供密码来生成加密字符串。与我尝试过的其他功能相比，此功能更轻。您可以在验证密码时简单地将密码作为字符串进行比较。无需添加任何其他功能或方法进行验证。

# forms - MS Access VBA 中的 form_load 子例程

> ID：13172190
> 
> 赞同：3
> 
> 时间：2012-11-01T06:41:47.293
> 
> 标签：forms, vba, ms-access, form-load

我正在MS Access VBA中编写代码，如下所示：

```
Private Sub Form_Load()
    MsgBox "loggedIn = " + CStr(loggedIn)
    If (loggedIn = 1) Then
    Else
        Exit Sub
    End If
End Sub 
```

`loggedIn`我想根据变量决定是否加载表单。如果`loggedIn`变量为 1，则应加载表单。如果相同不是1，则不应加载表格。

我面临的问题是，无论我在上面代码的 ELSE 部分做什么，我都无法阻止表单加载。

我怎样才能做到这一点？

如果需要任何其他信息，请发表评论。

谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-01T06:55:45.633

如果该`loggedIn`值在表单打开时可用，您可以取消表单打开事件。

```
Private Sub Form_Open(Cancel As Integer)
    Cancel = Not (loggedIn = 1)
End Sub 
```

如果在`loggedIn`表单的加载事件之前 的值不可用，您可以关闭表单。

```
Private Sub Form_Load()
    If loggedIn <> 1 Then
        DoCmd.Close acForm, Me.Name
    End If
End Sub 
```

# google-oauth - google oauth 无法正确重定向

> ID：13172191
> 
> 赞同：0
> 
> 时间：2012-11-01T06:41:51.553
> 
> 标签：google-oauth

我在使用 google OAuth 2.0 的网站上工作。当我点击我的索引页面上的登录链接时，它会将我带到谷歌的登录页面（所有必需的带有 clien_id、密钥、重定向 url 的凭据都已通过链接传递）并且在输入凭据后，它要求授予访问权限应用程序。当我单击授予访问权限而不是重定向到我的重定向页面时，它会显示以下错误。

```
You've reached this page because we have detected that Javascript is disabled in your browser. The page you attempted to load cannot display properly if scripts are disabled.

Please enable scripts and retry the operation or go back in your browser. 
```

但在我的所有浏览器中，javascript 都已启用并且工作正常。我现在该怎么办 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T01:29:25.740

我大概可以帮你弄清楚。如果“授予访问”页面加载并且没有给您 JS 错误，但是您在页面上提交表单后得到它，那么您的浏览器有一些奇怪的东西并且它没有正确提交表单。

你能告诉我你可以在什么浏览器上重现这个吗？如果可能的话，您能否在提交表单后提供请求的标题和帖子正文？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T19:06:36.187

当 gstatic.com 域未在 firefox 的 noscript 插件中启用时出现该错误。

# sql - 日期部分月份的SQL更改格式

> ID：13172193
> 
> 赞同：3
> 
> 时间：2012-11-01T06:42:11.820
> 
> 标签：sql, format, datepart

如何更改月份的 DATEPART 格式以在月份前包含 0？

例如 5 应该是 05。

我已经尝试过，但没有一个有效，（只给了我 5 个）

创建日期 = 2008-07-25 13:43:48.000

```
CONVERT(varchar(2), DATEPART(MONTH,(CreatedDate)))
CONVERT(varchar(2), DATEPART(MM,(CreatedDate))) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-01T07:02:04.137

我经常使用 RIGHT 作为一种廉价的 CONVERT 方式。

```
select RIGHT(100+MONTH(CreatedDate),2) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-01T06:48:09.493

在[SQL Server 日期格式的帮助下](http://www.sql-server-helper.com/tips/date-formats.aspx)

你可以试试

```
DECLARE @Createdate DATETIME = '2008-07-25 13:43:48.000'
SELECT SUBSTRING(CONVERT(VARCHAR(8), @Createdate, 3), 4, 2) 
```

这是一个例子

## [SQL 小提琴演示](http://www.sqlfiddle.com/#!3/d41d8/5643)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T06:44:50.520

这就是你需要的

创建日期 =`2008-07-25 13:43:48.000`

```
Replace(str(datepart(mm, CreatedDate), 2),' ','0') 
```

输出：`07`

# scala - 基本 Scala for 循环问题

> ID：13172196
> 
> 赞同：3
> 
> 时间：2012-11-01T06:42:21.553
> 
> 标签：scala

我正在尝试学习 scala，这里我使用基本的 for 循环，但是在编译时出现错误。

```
object App {    
  def main(args: Array[String]) {

    for (i <- 1 to 10; i % 2 == 0)
      Console.println("Counting " + i)

  }
} 
```

编译时出错：

```
fortest.scala:5: error: '<-' expected but ')' found.

    for (i <- 1 to 10; i % 2 == 0)
                                 ^
fortest.scala:7: error: illegal start of simple expression

  }
  ^

two errors found 
```

我正在使用 scala 版本 2.9.1

任何想法是什么问题........？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-01T06:51:52.907

```
for (i <- 1 to 10 if i % 2 == 0)
  println("Counting " + i) 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-11-01T06:45:33.177

Scala 不是 Java，因此您不能使用常规的 Java 语法。相反，您必须这样做：

```
for{
    i <- 1 to 10
    if(i % 2 == 0)
}{println("Counting " + i)} 
```

或带`;`分隔符，在`(`,`)`括号内：

```
for(i <- 1 to 10;if(i % 2 == 0)){
    println("Counting " + i)
} 
```

另外，请注意 Scala 的 for 表达式具有一些非常漂亮的功能。您可以使用带有多个“循环迭代器”和条件的 for 表达式。

例如，不要写：

```
for(i <- 1 to n; if(someCondition(i)){
    for(j <- 1 to m; if(otherCondition(j)){
         //Do something
    }
} 
```

你可以简单地写：

```
for{
    i <- 1 to n
    if(someCondition(i))
    j <- 1 to m
    if(otherCondition(j))
}{
    //Do something
} 
```

**旁注：**
当您扩展时`App`（在 中有该名称的特征`Predef`），您不需要定义 main 方法。您可以简单地在花括号之间编写代码`object`：

```
object MyClazz extends App {
    for(i <- 1 to 10;if(i % 2 == 0)){
        println("Counting " + i)
    }
} 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-11-01T19:48:14.477

看一下[Range](http://www.scala-lang.org/api/current/scala/collection/immutable/Range.html)类的“by”方法按 2 计数

```
object App {    
  def main(args: Array[String]) {
    for (i <- 2 to 10 by 2)
      Console.println("Counting " + i)
  }
} 
```

或者，就像其他人已经说过的那样，您可以通过这样做来修复循环

```
object App {    
  def main(args: Array[String]) {
    for {
         i <- 1 to 10
         if i % 2 == 0
        }
      Console.println("Counting " + i)
  }
} 
```

或者另一种方式：

```
object App {    
  def main(args: Array[String]) {
    val evenNumbers = for {
         i <- 1 to 10
         if i % 2 == 0
        } yield i
    Console.println(evenNumbers.mkString("\n"))
  }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-01T06:45:46.093

模 2 条件可以移动到 if 子句。

```
object App {    
  def main(args: Array[String]) {

    for (i <- 1 to 10)
      if(i % 2 == 0)
      Console.println("Counting " + i)

  }

} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-11-13T02:36:09.737

这是一个简单的例子；

```
 for (i <- List(1, 2, 3) if i < 2) println(i) 
```

检查代码的最佳方法是使用 scala shell。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-10-24T13:59:27.093

基本上，您正在尝试使用 for-loop + iterator gaurd。请找到以下语法

```
for ( i <- 1 to 10 if (i%2==0) ) yield i 
```

# xcode - 如何在 Windows 服务器上使用 collabnet subversion edge 设置 SVN 服务器，以及如何在 Mac 上使用 Xcode 远程连接到它？

> ID：13172201
> 
> 赞同：0
> 
> 时间：2012-11-01T06:43:05.833
> 
> 标签：xcode, macos, svn, collabnet, svn-server

我是一个关于 SVN 服务器的新手。我之前确实使用过 SVN 来签入/签出代码，但从未学习过如何从头开始设置 Subversion 服务器。

是）我有的：

**服务器 | Windows Server 2012 标准版，已激活：**

*   安装了 Collabnet Subversion Edge，
*   创建了一个存储库，
*   使用 GUI 上的开始按钮创建用户并启动服务器`localhost:4434/csvn/`。

**客户 | MacOSX Mountain，安装了 Xcode 4.5：**

我试图通过使用外部 IP 地址和存储库名称来添加存储库`https://1.1.1.1/svn/`，但正如预期的那样，它不起作用并显示*"Host is unreachable"*。

我尝试使用本地主机名，也没有运气。虽然我确实在他们的文档中注意到，他们提到了 IP 地址设置，但我在任何地方都找不到。

我想让它让用户可以远程和本地访问和使用 SVN 存储库。

我不知道该怎么办，请帮助我。谢谢你的时间！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T12:25:12.563

回到服务器一分钟。当您配置它时，您是否只使用本地 Web 浏览器？您是否尝试过使用 Mac 上的网络浏览器访问服务器？我会看看 Mac 是否可以先访问 web gui。也许您有必须解决的网络问题，例如 DNS、路由或防火墙。

就使用 XCode 或任何 SVN 客户端而言，您必须输入的 URL 是您的存储库的 URL。那不会是：

`https://1.1.1.1/svn/`

它会是这样的：

`https://1.1.1.1/svn/reposname`

在 Subversion Edge Web GUI 中，如果您转到存储库列表，您将在每个存储库旁边看到一个示例签出命令。此命令向您显示在 SVN 客户端中输入以到达存储库根目录的 URL。此处的示例屏幕截图：

[https://ctf.open.collab.net/sf/projects/svnedge/screenshots/screens/repos/repos.png](https://ctf.open.collab.net/sf/projects/svnedge/screenshots/screens/repos/repos.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-02T03:24:45.480

我想我已经解决了这个问题。我知道我必须以某种方式使用我的外部 IP 地址访问存储库，但是当我尝试类似的东西时，例如我的 IP 是 1.1.1.1，当我键入时`https://1.1.1.1/svn/reposname`，我收到一条无响应消息。

我认为由于我的本地网络上有超过 1 台计算机，路由器必须以某种方式仅将请求定向到我的服务器，而不是其他机器。经过一番研究，我发现端口转发可以解决问题。由于 apache 服务器默认使用 80 端口，因此只需从 CMD 使用 ipconfig 获取默认网关 ip，然后启用端口 80 的端口转发，到服务器的本地 ip 地址。至少我可以使用本地网络上的外部 ip 访问它。我将尝试远程访问它并查看。

# php - 如何在codeigniter url中传递base64encode字符？

> ID：13172204
> 
> 赞同：3
> 
> 时间：2012-11-01T06:43:11.997
> 
> 标签：php, codeigniter

我有这样的网址`http://domain/home/activate/MzU=`。参数

```
 "MzU=" = base64encode($data) 
```

我无法使用此参数打开此 URL。像这样的错误！`"The URI you submitted has disallowed characters."` 如何在 codeigniter url 中传递 base64encode 字符？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T08:12:04.537

您可以创建具有以下功能的助手：

```
function url_query_encode($array = array())
{
    return str_replace('/', '_', rtrim(base64_encode(gzcompress(serialize($array))), '='));
}

function url_query_decode($str = '')
{
    return (is_string($str) && strlen($str)) ? @unserialize(gzuncompress(base64_decode(str_replace('_', '/', $str)))) : FALSE;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T07:37:43.573

请在您的应用程序/配置目录中的 config.php 文件中将字符“=”添加到 $config['permitted_uri_chars']

# objective-c - Google play 像 ios 的滑块？

> ID：13172205
> 
> 赞同：0
> 
> 时间：2012-11-01T06:43:15.220
> 
> 标签：objective-c, ios

我正在尝试创建一个 uiview 水平触摸滑块。类似于 google 页面商店在 android 上的设计方式。我在想我会把一堆uiview（作为页面）放在一个巨大的uiview中，然后在touchevent上拖动uiview。但我还需要 detech 哪个是执行发布请求的活动视图，并且它需要循环。有什么建议么？教程？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:15:43.873

我认为您的问题的适当答案是“Horizo​​ntal UITableView”。签出这些在 GitHub 上共享的代码。

[EasyTableView](https://github.com/alekseyn/EasyTableView)

[水平表视图的另一个示例](https://github.com/rickharrison/RHHorizontalTableView)

您可以根据需要设计单元格。此外，当您在 didSelectRow 中单击它时，您将获得每个活动单元格。

希望对你有效。

# php - 如何按顺序获取文件夹中的文件名

> ID：13172207
> 
> 赞同：2
> 
> 时间：2012-11-01T06:43:22.970
> 
> 标签：php

我有一个核心 php 文件，我想在其中获取特定文件夹中的文件名，顺序如下不正确的顺序，我得到文件名_0，文件名_2，文件名_1 ..

```
 $dir_path="/var/lib/myproject";
        $folder=dir("$dir_path");
                    $j=0;$allfilename='';
                    while($folderEntry=$folder->read())
                    {
                        if($folderEntry == '.' || $folderEntry == '..' )
                        {
                        continue;
                        }else{
echo "Path of directory is>>>>>>>>".$folderEntry;
                        $allfilename[]=$folderEntry;
                        $j++;
                        }
                    }
  $folder->close(); 
```

我可以获取文件名但无法获取顺序，因此任何顺序都会增加 filename_0 以继续文件名.....所以任何人都可以知道如何按升序获取文件名。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T06:46:37.650

您始终可以对文件名数组进行[natsort 排序。](http://php.net/manual/en/function.sort.php)

```
natsort($allfilename); 
```

请注意，这里自然排序是必要的，因为您可能要考虑`filename_1`before `filename_100`。另一种选择是使用[排序](http://php.net/manual/en/function.sort.php)功能。

```
sort($allfilename, SORT_NATURAL); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T06:45:32.973

您可以使用`sort()`对数组值进行排序，（我的意思是它将对数组中的文件名进行排序）

```
sort($allfilename); 
```

[http://php.net/manual/en/function.sort.php](http://php.net/manual/en/function.sort.php)

**更新：**

如果要保留索引，请使用`asort`

[asort](http://www.php.net/manual/en/function.asort.php) - 对数组进行排序并保持索引关联

```
asort($allfilename); 
```

# c++ - 类中的动态数组和指针难以找到定义它们的正确方法

> ID：13172213
> 
> 赞同：0
> 
> 时间：2012-11-01T06:43:42.480
> 
> 标签：c++, arrays, pointers, header, header-files

我希望构造函数创建一个动态数组并将传递给构造函数的参数分配给数组的成员。

我在标题中的简化版本：

```
//in classes.h
#ifndef classes_h
#define classes_h
#include <iostream>
class Base{
        int a,*var;
public:
    Base();
    Base(int);
    ~Base();
    int func(int);
};
#endif 
```

在 *.cpp 中：

```
//In classes.cpp
#incldue "classes.h"
Base::Base(int a){
    var=new int[2];
    var[0]=a;
    var[1]=func(a);
}
Base::~Base(){
        delete var;
}
int Base::func(int b){
    return b++;
}
int main(){
Base obj(1);
return 0;} 
```

我需要能够将该数组传递给一个函数，该函数将以某种方式对其进行修改，但实际上我在定义数组时遇到了更多麻烦......

我没有从编译器或链接器中得到任何错误，但是通过调试我得出的结论是，问题在于数组的创建。

我复习了指针、动态数组和类的基础知识 3 次（或者更多次），但无济于事。我希望我正在尝试做的事情实际上是可能的。如果不是，最接近的东西是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T06:47:50.227

由于以下原因，您遇到了未定义的行为

```
var=new int[2]; 
```

被释放

```
delete var; 
```

而不是`delete[] var;`.

你应该使用 a`std::vector<int>`代替。这样，您就不必担心析构函数/复制构造函数/赋值运算符。

另外，请注意

```
int Base::func(int b){
    return b++;
} 
```

基本上是一个空操作，因为`b`返回了之前的值。你的意思是`return b+1`？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T06:47:57.680

你有两个问题：

1.  你没有遵循**[三法则](https://stackoverflow.com/questions/4172722/what-is-the-rule-of-three)**。
2.  你有一个**未定义的行为**。

细节：

```
delete var; 
```

应该：

```
delete []var; 
```

`new`requires`delete`和`new[]`requires `delete []`，错误连接会导致未定义的行为。

**建议：**

您应该使用`std::vector`or`std::array`代替动态 c 样式数组。它将为您节省所有的努力，并且它们更不容易出错。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T09:39:41.123

如果你不喜欢这个例子中的向量，你可以使用 std::pair 但向量是要走的路。我已经好几个月没有使用数组了。

# svg - SVG中的去饱和矩形

> ID：13172214
> 
> 赞同：0
> 
> 时间：2012-11-01T06:43:44.503
> 
> 标签：svg, svg-filters

假设我有一个现有的 SVG 场景。我现在想在这个场景的顶部绘制一个矩形，对于这个矩形覆盖的所有背景像素，我想应用一些过滤器，例如去饱和度。请注意，我可以使用不透明度进行变暗/变亮，但在这种情况下，我想要更复杂的效果。这可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:51:02.060

当然，使用[feColorMatrix 过滤器](http://www.w3.org/TR/SVG/filters.html#feColorMatrixElement)type="saturate"[见这里](http://www.w3.org/TR/SVG/images/filters/feColorMatrix.svg)

# gradle - Gradle：如果从标准输出解析输出文件不是最新的

> ID：13172215
> 
> 赞同：2
> 
> 时间：2012-11-01T06:43:48.633
> 
> 标签：gradle

如果输出文件是从标准输出中捕获的，我遇到了 gradle 中的 Exec 任务的最新检查问题。

我试图尽可能地简化示例：

```
task printToOutputFile(type: Exec) {
    inputs.file file("file1") // not relevant for this example
    outputs.file file("file2")

    commandLine = ["echo", "1234"]
    standardOutput = new FileOutputStream("file2")
} 
```

重新运行此任务时，我希望它是最新的，但事实并非如此。

使用 standardOutput 作为输出时，如何使 UP-TO-DATE 检查工作？

我尝试过的：
在 doLast 块中关闭和/或刷新流。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T07:43:28.723

问题是，这条线

```
standardOutput = new FileOutputStream("file2") 
```

更改 file2 的 lastModified 属性。要使最新检查正常工作，您必须将此分配移至执行阶段。您可以通过将此分配放在 doFirst 块中来做到这一点。以下代码段应该可以解决问题：

```
task printToOutputFile(type: Exec) {
    inputs.file file("file1") // not relevant for this example
    outputs.file file("file2")

    commandLine = ["echo", "1234"]

    doFirst{
        standardOutput = new FileOutputStream("file2")
    }
} 
```

干杯，

勒内

# iphone - 我的导航栏有些奇怪

> ID：13172216
> 
> 赞同：0
> 
> 时间：2012-11-01T06:43:54.753
> 
> 标签：iphone, objective-c, ios, xcode

我有一个带有 TabBarController 的 iPhone 应用程序，每个选项卡都有一个导航控制器。其中一个导航控制器推送到另一个视图控制器。在那个视图控制器中，我试图隐藏后退按钮并放置我的一个自定义按钮。在里面

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    self._allUsersParticipantsInTheVideo = [[NSMutableArray alloc] init];
    self._allUsersInvitesInTheVideo = [[NSMutableArray alloc] init];

    for (int i=0; i < [self._curVideoToShow._videoParticipants count]; i++) {
        [self._allUsersParticipantsInTheVideo addObject:[self._curVideoToShow._videoParticipants objectAtIndex:i]];
    }
    for (int i=0; i < [self._curVideoToShow._videoInvitees count]; i++) {
        [self._allUsersInvitesInTheVideo addObject:[self._curVideoToShow._videoInvitees objectAtIndex:i]];
    }

    [self setNavBar];
}

#pragma mark - Set NavBar

-(void)setNavBar{
    self.navigationItem.hidesBackButton = YES;

    UIView *navBarItemview = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 320, 44)];
    [navBarItemview setBackgroundColor:[UIColor clearColor]];

    // Set cutsom back button
    //UIImage *backImage = [UIImage imageNamed:@"backButton.png"];
    UIImage *backImage = [UIImage imageNamed:@"LeftArrowBg.png"];
    CGRect frame = CGRectMake(0, 6, backImage.size.width + 4, backImage.size.height);
    UIButton *bttn = [[UIButton alloc] initWithFrame:frame];
    [bttn setBackgroundImage:backImage forState:0];
    [bttn setTag:kBackBttn];
    [bttn setTitle:@"Back" forState:UIControlStateNormal];
    [bttn setTitleEdgeInsets:UIEdgeInsetsMake(4, 5, 0, 0)];
    [bttn.titleLabel setFont:[UIFont fontWithName:@"PTSans-Bold" size:12.0]];
    [bttn setContentMode:UIViewContentModeScaleAspectFit];
    [bttn addTarget:self action:@selector(backButtonPressed) forControlEvents:UIControlEventTouchUpInside];

    [navBarItemview addSubview:bttn];

    UILabel *titleLbl = [[UILabel alloc] initWithFrame:CGRectMake(0, 4, 320, 40)];
    [titleLbl setFont:[UIFont fontWithName:@"PTSans-Bold" size:24.0]];
    [titleLbl setTextColor:[UIColor whiteColor]];
    [titleLbl setTextAlignment:UITextAlignmentCenter];
    [titleLbl setBackgroundColor:[UIColor clearColor]];
    [titleLbl setTag:kTitleLbl];
    [titleLbl setShadowOffset:CGSizeMake(0, 1)];
    [titleLbl setShadowColor:[UIColor blackColor]];
    [titleLbl setText:@"All Participants"];

    [navBarItemview addSubview:titleLbl];
    self.navigationItem.titleView = navBarItemview;
} 
```

如您所见，我写过：

```
self.navigationItem.hidesBackButton = YES; 
```

但是在第一次启动应用程序时，我只第一次看到导航栏的后退按钮，但后来每次我打开应用程序时，按钮仍然是我的自定义按钮。（而且当我导航时这是我的习惯）有人吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:04:13.653

试试这个..

```
-(void)viewWillAppear:(BOOL)animated
{
    self.navigationItem.hidesBackButton = YES;
} 
```

或者

```
[self.navigationController.navigationItem setHidesBackButton:YES]; 
```

或者

```
self.navigationController.navigationItem.backBarButtonItem = nil; 
```

# asp.net-ajax - 单个 asp.net 网页上的多个滑块扩展器

> ID：13172218
> 
> 赞同：3
> 
> 时间：2012-11-01T06:44:04.563
> 
> 标签：asp.net-ajax

我对单个 asp.net 网页上的滑块扩展器有疑问。我正在使用两个滑块扩展器来显示两组图片。一个滑块工作，但第二个不工作。请给我一个合适的解决方案。

# android - Android：动态地将多个视图添加到线性布局

> ID：13172221
> 
> 赞同：1
> 
> 时间：2012-11-01T06:44:32.373
> 
> 标签：android, textview

我在这里检查了解决方案：

[添加多个相同类型的视图](https://stackoverflow.com/questions/6716712/adding-multiple-views-of-the-same-type)

鉴于此，每次添加时都创建一个新视图，而不是仅更改 1 个视图。

但我正在这样做：

```
for (int i = 0; i < 10; i++) {

LayoutInflater vi = (LayoutInflater) getApplicationContext().getSystemService(
                    CommentsActivity.LAYOUT_INFLATER_SERVICE);
View cv = vi.inflate(R.layout.item, null);

TextView textView1 = (TextView) cv.findViewById(R.id.tv1);
textView1.setText("-" + i);
TextView textView2 = (TextView) cv.findViewById(R.id.tv2);
textView2.setText("--" + i);
LinearLayout insertPoint = (LinearLayout) findViewById(R.id.layout);
insertPoint.addView(cv, 0, new ViewGroup.LayoutParams(
ViewGroup.LayoutParams.MATCH_PARENT,
ViewGroup.LayoutParams.WRAP_CONTENT));
} 
```

所以它就像为每个**i**创建一个新的充气机和视图。但我只得到最后一项。

即..，只有1个inflatedView，**tv1为****-9**，tv2为--9

 **似乎每次我进入 for 循环时，旧视图都会被新视图取代。如何添加所有 10 个视图？

谢谢你

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T06:56:21.567

通常我用这个

```
private void renewDetail(){
        llDetail.removeAllViews();
        for (int i = 0; i < 10; i++) {
            llDetail.addView(new ChildDetailNotePieDiagram(context, "Name", 1000, 10));
        }
    } 
```

逻辑是首先我从父布局中清除所有视图，然后将视图添加到父布局。

其中 llDetail 是一个线性布局，我创建了一个线性布局类 ChildDetailNotePieDiagram 并将其添加到线性布局中，因此基本上它与您现在使用的解决方案不同，但我认为您可以尝试我的解决方案，如果您愿意 :) 随时询问评论中关于这个的问题**

# asp.net - 自动完成不起作用

> ID：13172222
> 
> 赞同：0
> 
> 时间：2012-11-01T06:44:36.170
> 
> 标签：asp.net, ajax

我在一个文本框上使用 ajax 自动完成扩展器，我还在其他两个文本框和一个 jquery Image 滑块上使用日历扩展器。但是我的自动完成扩展器不起作用。但是当我在新项目中使用相同的代码时，它运行良好。我的搜索控制代码是：

```
<asp:Label ID="Label1" runat="server" Text="Desired Location you want to Search?&nbsp;"></asp:Label></label>
        <asp:TextBox ID="txtSearch" runat="server" onfocus="if(this.value=='Type Location Here !') this.value='';"
            onblur="if(this.value=='') this.value='Type Location Here !';" CssClass="txtbox"
            Width="520px">Type Location Here !</asp:TextBox>
              <asp:AutoCompleteExtender  ID="autosearch" runat="server" TargetControlID="txtSearch"
            ServiceMethod="GetCompletionList" CompletionSetCount="10" UseContextKey="true" ContextKey="SearchKey"
            Enabled="true" EnableCaching="true" MinimumPrefixLength="1" CompletionInterval="100"
            CompletionListCssClass="autocomplete_list" ScriptPath="SearchInputControl.ascx.cs" 
            CompletionListItemCssClass="autocomplete_listItem" CompletionListHighlightedItemCssClass="autocomplete_highlighted_listitem" >
        </asp:AutoCompleteExtender> 
```

Javascript 错误：

```
Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; InfoPath.3; .NET4.0C; .NET4.0E; AskTbTRL2/5.15.4.23821) Timestamp: Thu, 1 Nov 2012 06:59:14 UTC     
Message: Sys.ArgumentUndefinedException: Value cannot be undefined. 
Parameter name: type Line: 4620 Char: 12 Code: 0 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:08:45.987

looks like `onfocus` and `onblur` are your show stoppers. remove them and retry.

Basically, you can not directly add these events to asp.net textbox like this. use `txtSearch.Attributes.Add('onfocus','jscode')` way to add these events.

# javascript - 客户端 Javascript 认证方案

> ID：13172223
> 
> 赞同：2
> 
> 时间：2012-11-01T06:44:36.360
> 
> 标签：javascript, security, authentication, cross-domain

假设您在名为 client.example.com 和 server.example.com 的 2 个独立子域上有 2 台服务器，是否可以仅使用 client.example.com 上的客户端javascript（无服务器端组件）对用户进行身份验证并且只有服务器端代码（仅限restful json api）？

一个很好的实际示例是创建一个仅限客户端的 twitter 组件，该组件执行需要身份验证的发布推文之类的操作。（现在 twitter 将打开另一个窗口，该窗口使用他们的域让浏览器发送带有 session_id 的适当 cookie，但假设我们可以更改它）。

# html - iPad Html5 移动应用程序的图表库

> ID：13172224
> 
> 赞同：2
> 
> 时间：2012-11-01T06:44:40.193
> 
> 标签：html, cordova, charts, kendo-ui

我正在使用 phonegap(2.1.0) 和 kendo ui mobile 开发一个 ipad 应用程序，它需要显示各种类型的图表。例如（柱形、条形、饼形、向下钻取图。）

目前我正在使用**（HighCharts）**[HighCharts.com](http://www.highcharts.com/)，它运行良好。但我需要 SAP BI 应用程序或 SAP 销售应用程序中的图表等图表。它们比 Highcharts 更具吸引力。我检查了**Fusioncharts**。但是 fusioncharts 很贵。

我还检查了 SenchTouch，gRaphael。但他们不满足我的要求

任何人都知道我的要求的图表库。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:13:05.377

Try Dojo charts - [http://dojotoolkit.org/download/](http://dojotoolkit.org/download/) Or Extjs charts - [http://www.sencha.com/products/extjs](http://www.sencha.com/products/extjs)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T11:04:04.767

既然您已经在使用 Kendo UI Mobile，您是否考虑过[Kendo UI DataViz](http://www.kendoui.com/DataViz)？

# python - Python中的稀疏密集乘法

> ID：13172225
> 
> 赞同：0
> 
> 时间：2012-11-01T06:44:40.560
> 
> 标签：python, scipy, sparse-matrix

我正在使用 Python 3.23，我想将稀疏向量与密集矩阵相乘。从任何角度来看，首先将稀疏向量展开为密集向量然后相乘的想法当然是愚蠢的，除非内存管理直到实际展开。里面有零会更贵...

另外，是否有人知道 SciPy 将一维矩阵保持在稀疏模式的好方法？我使用的唯一一个（诚然）是三个向量（x，y，值）的经典表示法，所以我不得不使用 np.ones(len(...)) 来让它工作。

嗯..欢迎评论！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-03T14:08:57.323

使用 Scipy 稀疏矩阵类存储向量：

```
x = csr_matrix(np.random.rand(1000) > 0.99).T
print x.shape   # (1000, 1) 
```

# sql - 要求 if in where 条件 SQL

> ID：13172228
> 
> 赞同：5
> 
> 时间：2012-11-01T06:44:49.610
> 
> 标签：sql

我想根据表中的 key_column 获取数据。我有一个传递关键字符的程序。如果键为“A”，则应选择键为“A”的记录。对于“A”以外的任何其他关键字符，我需要除 key_Column 值为“A”的行之外的所有记录

示例代码：

```
select * from tab1
where 
if (@key_Char = 'A') Then key_Column=@key_Char 
ELSE key_Column <>@key_Char 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-01T06:48:15.133

你可以试试这个

```
select * from tab1
where (@key_Char = 'A' AND key_Column='A') OR
      (@key_Char <> 'A' AND key_Column <> 'A') 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-01T06:59:21.250

尝试：

```
WHERE (@key_char = 'A' AND  key_column = 'A') OR (@key_char <>'A' AND key_column <>'A') 
```

# objective-c - @"" 和 nil 一样吗？

> ID：13172232
> 
> 赞同：0
> 
> 时间：2012-11-01T06:45:17.440
> 
> 标签：objective-c, properties, nsstring

我有一个

```
@property(retain) NSString* test; 
```

它在实现文件中综合。

在dealloc中，这两个都是正确的还是不正确的？

```
self.test = nil; 
```

和

```
self.test = @""; 
```

当我记录 nil 和 @"" 的 retainCount 时，它的输出分别为 0 和 -1。

我只是想知道两者是否产生相同的结果。

提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-01T06:49:49.447

首先，永远不要将retainCount 用于任何事情。它会骗你。其次，保留计数是无符号的，因此“-1”实际上表示“可能的最高保留计数”，该值表示保留和释放对该对象不执行任何操作。第三，在 nil 上调用任何方法都会返回 nil/0。

现在已经清楚了：nil 和 @"" 是不一样的。nil 是指向地址 0 的指针，表示“无对象”。@"" 是一个完全有效的 NSString 对象，它恰好没有字符。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-01T07:14:27.980

不，您应该始终将该属性设置为 nil，因为它可以释放内存，而其他方式实际上是在创建一个零字符的字符串。

为了更好地理解，您可以阅读 [this]： http: [//macdevelopertips.com/objective-c/objective-c-memory-management.html](http://macdevelopertips.com/objective-c/objective-c-memory-management.html)

# sql - SQL想要在更新表之前和之后记录值

> ID：13172234
> 
> 赞同：0
> 
> 时间：2012-11-01T06:45:19.033
> 
> 标签：sql, oracle, oracle9i

我这里有问题。

数据库：甲骨文 9i

我想`UPDATE`在我的表上执行脚本后保存数据更改，在该日志中我想将旧值与新值进行比较。

我怎样才能做到这一点。

谢谢你帮助我:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:14:37.560

编写简单的触发器，通过使用 :OLD 和 :NEW 可以获得表的新旧值的值

```
 create or replace
 trigger tg_name
  after UPDATE ON table_name
 for each row
 BEGIN
 IF :NEW.column1 = :OLD.column1 THEN
 -- any statement 
 END IF;    
-- you can log the old and new value by inserting into log table's too..
END; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:15:25.237

您可以在更新后执行触发器，并且可以为所需的每个字段使用 :old 和 :new 值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-07-31T12:13:27.313

如果您只需要更新的值，则可以使用 RETURNING 子句。

像

`UPDATE <table> SET (c1) = (v1), (c2) = (v2), (cn) = (vn) WHERE <condition> RETURNING <expression> INTO <variables>`

[http://psoug.org/definition/RETURNING.htm](http://psoug.org/definition/RETURNING.htm)

# android - SQLITE 原始查询结果与 aSQLiteManager 中的不同

> ID：13172245
> 
> 赞同：0
> 
> 时间：2012-11-01T06:46:28.057
> 
> 标签：android, sqlite, date, sql-order-by

我在 SQLitemanager（Android 的 SQL DB 应用程序）中进行了以下查询：

```
SELECT * FROM fahrer, fahrzeuge, nutzungsarten, fahrtenbuch WHERE fahrtenbuch.nutzungsart_id = nutzungsarten._id AND fahrtenbuch.fahrzeuge_id = fahrzeuge._id AND fahrtenbuch.fahrer_id = fahrer._id ORDER BY SUBSTR(fahrtenbuch.startdatum,7,4), SUBSTR(fahrtenbuch.startdatum,4,2), SUBSTR(fahrtenbuch.startdatum,1,2) ASC 
```

返回的订单符合预期。**日期按dd.mm.yyyy**正确排序。

但是当我在我的**DB-Helper 类**中执行查询时，顺序是不一样的。在 DB-Helper 类中：

```
final String MY_QUERY = "SELECT * FROM fahrer, fahrzeuge, nutzungsarten, fahrtenbuch WHERE fahrtenbuch.nutzungsart_id = nutzungsarten._id AND fahrtenbuch.fahrzeuge_id = fahrzeuge._id AND fahrtenbuch.fahrer_id = fahrer._id ORDER BY SUBSTR(fahrtenbuch.startdatum,7,4), SUBSTR(fahrtenbuch.startdatum,4,2), SUBSTR(fahrtenbuch.startdatum,1,2) ASC";
return mDb.rawQuery(MY_QUERY, null); 
```

在我的活动中：

* * *

```
Cursor curCSV = mDbHelper.fetchAllFahrtenbuchASC();
curCSV.moveToFirst();
while(curCSV.moveToNext()) 
{
   System.out.println("Date of entry: " +curCSV.getString(18));
} 

curCSV.close(); 
```

* * *

有谁知道为什么这不起作用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T09:04:57.473

这段代码：

```
curCSV.moveToFirst();
while(curCSV.moveToNext()) ... 
```

跳过第一条记录。改用：

```
if (curCSV.moveToFirst())
    do {
        ...
    } while (curCSV.moveToNext()); 
```

# eclipse - Haml 现在支持标签，我们可以让 haml 编辑器支持标签吗？

> ID：13172248
> 
> 赞同：1
> 
> 时间：2012-11-01T06:46:59.577
> 
> 标签：eclipse, editor, haml

HAML 过去需要 2 个空格进行缩进。但是，它现在支持选项卡。我在 Eclipse 下使用 RadRails，它不允许我将 HAML 编辑器配置为像其他编辑器一样使用选项卡。有没有办法通过配置文件覆盖它，或者我们可以更新 HAML 编辑器以允许选项卡？

# android - 捕获图像显示并发送到android中的服务器

> ID：13172253
> 
> 赞同：0
> 
> 时间：2012-11-01T06:47:39.907
> 
> 标签：android

您好，我想通过单击一个按钮来捕获图像，拍摄照片后它将显示在屏幕上，然后单击另一个按钮，该按钮将把该图像发送到服务器。我尝试了很多方法，但我没有找到任何合适的解决方案，所以请帮助我。

我正在 android 2.3.3 中开发这个

```
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    if (requestCode == CAPTURE_IMAGE_ACTIVITY_REQUEST_CODE) {
        if (resultCode == RESULT_OK) {
             Bitmap photo = (Bitmap) data.getExtras().get("data"); 
             imageView.setImageBitmap(photo);
             Intent intent= getIntent();
            System.out.println("image name=========================:: "+imageName);
            requestIntent.putExtra("imageName", imageName);
            startActivity(requestIntent);

        } else if (resultCode == RESULT_CANCELED) {
            // User cancelled the image capture
        } else {
            // Image capture failed, advise user
        }
    }
} 
```

图像未显示在其中，`ImageView`但存储在`SdCard`. 当我通过调用另一个意图发送该图像时，它向我显示了一个错误`11-01 12:00:15.085: E/log_tag(9205): Error in http connection android.os.NetworkOnMainThreadException` ，即该意图代码是。

```
public class PreviewAndSendImage extends Activity{

@SuppressLint("SdCardPath")
public void onCreate(Bundle savedInstanceState) {       
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    Button send=(Button) findViewById(R.id.sendToServer);
    send.setEnabled(true);
    send.setOnClickListener(new View.OnClickListener() {

        public void onClick(View v) {
            Intent intent= getIntent();
            String name=intent.getStringExtra("imageName");
            System.out.println("image name :::::::::::::::: +" +name);
            Bitmap bitmapOrg = BitmapFactory.decodeFile("/sdcard/pictures/"+name);
            ByteArrayOutputStream bao = new ByteArrayOutputStream();
            bitmapOrg.compress(Bitmap.CompressFormat.JPEG, 90, bao);
            byte [] ba = bao.toByteArray();

            String ba1=Base64.encodeBytes(ba);
            ArrayList<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>();
            nameValuePairs.add(new BasicNameValuePair("reqId", "40"));
            nameValuePairs.add(new BasicNameValuePair("image",ba1));    

            try{

                     HttpClient httpclient = new DefaultHttpClient();
                     HttpPost httppost = new HttpPost("http://192.168.0.115:8085/Dplus_EB/bill");
                     httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
                     HttpResponse response = httpclient.execute(httppost);
                    //HttpEntity entity = response.getEntity();
                    //is = entity.getContent();
                     BufferedReader rd = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));
                      String line = "";
                      while ((line = rd.readLine()) != null) {
                          System.out.println("success----------------------------");
                          Toast.makeText(PreviewAndSendImage.this, "Status: "+line, Toast.LENGTH_LONG).show();
                      }
            }catch(Exception e){

                    Log.e("log_tag", "Error in http connection "+e.toString());

            }

        }
    });

}
  } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-01T07:15:06.107

请按照以下简单步骤，您可以轻松实现您想要的：

第 1 步：在您的应用程序中创建一个从相机捕获照片并将其保存到您的 sd 卡目录的类。请参阅此[链接](http://adblogcat.com/camera-api-simple-way-to-take-pictures-and-save-them-on-sd-card/)，另请参阅此讨论[讨论](https://stackoverflow.com/questions/6027720/android-how-to-save-captured-image-into-phones-gallery)。

第 2 步：现在制作 Android FTP 客户端。请参阅此[链接](http://androiddevblog.blogspot.in/2010/08/android-ftp-client.html)。

第 3 步：现在您可以与 FTP 服务器进行多种类型的交互，例如 changeDir、上传文件、下载文件。请参阅本[教程](http://zanailhan.blogspot.in/2012/03/android-connect-to-ftp-server-example.html?showComment=1351014353409#c3572419283443761355)。

这很简单，但唯一的条件是您必须阅读一些文件。如果您觉得有帮助，请接受并投票支持我的回答。如果任何链接不起作用，也可以评论我。谢谢。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T06:50:02.873

您不能在 ui 线程上进行 http 调用。至少不在较新的操作系统上。

考虑使用 AsyncTask 进行此类调用。

# c++ - 比较客户端和远程服务器中的文件列表的有效方法是什么

> ID：13172255
> 
> 赞同：1
> 
> 时间：2012-11-01T06:47:47.167
> 
> 标签：c++, c

我有以下需要有效解决的情况，

我正在从客户端设备到服务器进行文件同步。有时，由于服务器的某些问题，无法将来自一台设备的文件从服务器获取到另一台设备。我需要确保服务器中的所有文件都使用单独的线程同步到所有客户端设备。我使用 C++ 进行开发，使用 libcurl 进行客户端到服务器的通信。

在客户端设备中，我们有一个 SQLite 数据库中下载文件的条目。同样在服务器中，我们在服务器数据库（MySQL）中也有类似的更新。我需要列出来自客户端设备的所有可用文件并将其发送到服务器，并且必须将其与从服务器数据库中获取的列表进行比较以找出丢失的文件。

我粗略估计，对于 100 万个文件列表（带完整路径的文件名），它的大小约为 85 MB。压缩后，它的大小可达 10 MB。因此，将整个文件列表（即使经过压缩）从客户端传输到服务器并不是一个好主意。我计划为此实施布隆过滤器，如下所示，

1.  从客户端数据库中获取文件列表并将其转换为布隆过滤器数据结构。
2.  只需将Bloom数据结构从客户端单独传输到服务器。
3.  从服务器端数据库中获取文件列表，并将其与从客户端接收到的 Bloom 数据结构进行比较，找出丢失的文件。

请注意，从客户端启动的上述过程应定期在线程中处理，例如每 1 小时左右。

布隆过滤器的问题是误报率，即使它非常低。我不想错过一个文件。还有其他更好的方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:13:03.657

As you've noticed, this isn't a problem for which Bloom Filters are appropriate. With a Bloom Filter, when you get a hit you must then check the authoritative source to differentiate between a false positive and a true positive - they're useful in situations where most queries against the filter will be expected to give a *negative* result, which is the opposite to your case.

What you could do is have each side build a partial Prefix Tree in memory of all the filenames known to that side. It wouldn't be a full prefix tree - once you number of filenames below a node drops below a certain level you'd just include the full list of those filenames in that node. You then synchronise those prefix trees using a recursive algorithm starting at the root of the trees:

1.  Each side creates a hash of all the sorted, concatenated filenames below the current node.
2.  If the hashes are equal then this node and all descendents are synchronised - return.
3.  If there are no child nodes, send the (short) list of filenames at this terminal node from one side to the other to synchronise and return.
4.  Otherwise, recursively synchronise the child nodes and return.

The hash should be at least 128 bits, and make sure that when you concatenate the filenames for the hash you do so in a reversible manner (ie. seperate them with a character that can't appear in filenames like `\0`, or prefix each one with its length).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:22:00.693

在文件/路径名压缩中，我发现前缀-后缀压缩甚至比通用（bz2）压缩效果更好。合并后，文件名列表可以减少更多。

诀窍是使用转义码（例如<32）来指示前一行的常用字符数，然后使用常规字符作为唯一部分，最后（可选）编码字符串末尾的常用字符数。

# c++ - 替换windows上的系统菜单弹出窗口

> ID：13172257
> 
> 赞同：0
> 
> 时间：2012-11-01T06:47:50.633
> 
> 标签：c++, windows, qt, winapi

我想用我的自定义条目替换默认的系统菜单（恢复、移动、大小等）。我正在谈论的菜单可以通过单击窗口图标上的左键或单击窗口标题上的右键来打开。我可以删除所有项目并用我自己的条目填充此菜单。但是，如果我删除所有条目，则最小化、最大化和关闭按钮将变为非活动状态。所以他们依赖于那些菜单项。

我想让最小、最大、关闭按钮像往常一样工作，但系统菜单包含我自己的项目（就像在 Windows Media Player 中完成的那样）。我正在使用 Qt，但我几乎可以肯定它不能用它来完成，所以任何解决方案都会受到赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:06:45.940

不要从系统菜单中删除 Min/Max/Close 项目。[`WM_SYSCOMMAND`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms646360%28v=vs.85%29.aspx)改为处理消息( `SC_MINIMIZE`, `SC_MAXIMIZE`, `SC_RESTORE`, )要好得多`SC_CLOSE`。

# jquery - jquery循环，页面上的多个

> ID：13172265
> 
> 赞同：2
> 
> 时间：2012-11-01T06:48:21.067
> 
> 标签：jquery, cycle

您好，我试图在一页上拥有多个 jquery 循环库。ifeel 好像我的代码是正确的，但它无法正常工作......任何人都可以看看并提供帮助吗？它似乎没有找到我的 .next 和 .prev 类？

jQuery：

```
$('.cycle').each(function() {
    var slideshow = $(this);
    var next = slideshow.closest('.next');
    var prev = slideshow.closest('.prev');

    slideshow.cycle({
        speed: 0,
        timeout: 0, 
        next: next, 
        prev: prev,
    });
}); 
```

html:

```
<div id="woodwood" class="drag">
    <div class='cycle'>
        <img src='invites/baldi.png' />
        <img src='invites/koerfer.png' />
        <img src='invites/williams.png' />
    </div>
    <div class="title">
        Invites<br />
        2010 &mdash; 2012
    </div>
    <div class="controls">
        <a class='prev'><img src="left.gif"></a>
        <a class='next'><img src="right.gif"></a>
        <button>Close</button>
    </div>
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T06:58:10.190

选择最近的父元素而`closest`不是最近的元素，您可以使用`find`方法。

```
var next = slideshow.parent().find('.next');
var prev = slideshow.parent().find('.prev'); 
```

请注意，如果您有多个包装器，且`woodwood`标记的 ID 无效，则 ID 必须是唯一的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T06:57:06.917

问题在于寻找`.next`和`.prev`

更改这些行，

```
var next = slideshow.closest('.next');
var prev = slideshow.closest('.prev'); 
```

到，

```
 var next = $('.next');
 var prev = $('.prev'); 
```

演示：http: [//jsfiddle.net/muthkum/egZ3y/1/](http://jsfiddle.net/muthkum/egZ3y/1/)

# php - 如何根据php中的评级计算积极反馈

> ID：13172267
> 
> 赞同：2
> 
> 时间：2012-11-01T06:48:45.907
> 
> 标签：php, percentage, feedback

该网站的不同用户正在给卖家评级。我想计算卖家百分比的积极反馈。我在我的反馈表中显示单个卖家的数据库，数据存储如下：

**注意**：可靠的最大值：5，通信最大值：5，经验最大值：3（1=差，2=一般，3=好）

**用户**对卖家的评价 可靠：4 沟通：5 经验：3

**用户二**对卖家的评价 可靠：5 沟通：1 经验：2

**用户三**对卖家的评价 可靠：5 沟通：5 经验：3

和其他用户评分将以这种方式进行

我如何计算卖家的正面反馈？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T07:07:13.380

```
select avg((reliable + communication + experience)/3) as feedback
from Feedbacktable  group by sellerid 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:20:23.630

把它当作

```
$total = 0
$avg = 0
foreach ($users as $user) {
   $user_avg = ($user['reliable'] + $user['communication'] + ($user['experience']/3) * 5) / 3;
   $total += $user_avg;
}
if (sizeof($users) > 0) {
  $avg = $total/sizeof($users);
  $avg = round($avg, 2)
} 
```

# android - context.getContentResolver().query(ContactsContract.Data.CONTENT_URI, null , null ,null, null);

> ID：13172268
> 
> 赞同：3
> 
> 时间：2012-11-01T06:48:52.997
> 
> 标签：android

嗨，我在 Android 联系人搜索模块中工作。我在 Query 下运行。

```
cur = context.getContentResolver().query(ContactsContract.Data.CONTENT_URI, null , null ,null, null); 
```

从这个查询中我得到了多次结果。有什么我做错了。我想要`DISTINCT`结果集。

请帮我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:52:18.927

我想你的意思是你有一些联系人的重复记录。所以你必须为你的查询添加条件

```
String selection = ContactsContract.Contacts.IN_VISIBLE_GROUP + " = '"
                + ("1") + "'";
        String sortOrder = ContactsContract.Contacts.DISPLAY_NAME
                + " COLLATE LOCALIZED ASC";
cur = context.getContentResolver().query(
                ContactsContract.Contacts.CONTENT_URI, projection, selection
                        + " AND " + ContactsContract.Contacts.HAS_PHONE_NUMBER
                        + "=1", null, sortOrder);// this query only return contacts which had phone number and not duplicated 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T06:58:03.513

试试这个代码会帮助你

```
public void getContact() {

    Cursor cur = getContentResolver().query(ContactsContract.Contacts.CONTENT_URI, null, null, null, null);
    ContentResolver contect_resolver = getContentResolver();

    int size = cur.getCount();
    if (size > 0 && cur != null) {
        for (int i = 0; i < size; i++) {
            cur.moveToPosition(i);

            String id = cur.getString(cur.getColumnIndexOrThrow(ContactsContract.Contacts._ID));

            String name = "";

            Cursor phoneCur = contect_resolver.query(
                    ContactsContract.CommonDataKinds.Phone.CONTENT_URI,
                    null, ContactsContract.CommonDataKinds.Phone.CONTACT_ID
                    + " = ?", new String[] { id }, null);

            if (phoneCur.moveToFirst()) {
                name = phoneCur.getString(phoneCur .getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));
                if (!name.equalsIgnoreCase("")) {

                                            String id1 = phoneCur.getString(phoneCur
                                    .getColumnIndex(ContactsContract.CommonDataKinds.Phone.CONTACT_ID));
                    Cursor emails = getContentResolver()
                            .query(ContactsContract.CommonDataKinds.Email.CONTENT_URI,
                                    null,
                                    ContactsContract.CommonDataKinds.Email.CONTACT_ID
                                    + " = " + Integer.parseInt(id1),
                                    null, null);
                    emailAddress="";
                    if (emails!=null && emails.getCount() > 0) {
                        emails.moveToFirst();
                        emailAddress = emails
                                .getString(emails
                                        .getColumnIndex(ContactsContract.CommonDataKinds.Phone.DATA));
                    }
                    emails.close();
                    contact.setEmail(emailAddress);
                    id1 = "";
                    mcontact_arraylist.add(contact);
                }
                phoneCur.close();
            }

        }

        cur.close();
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-13T00:30:21.527

每条记录应包含联系人数据的一部分（例如，每个电话号码或地址是单独的行） 每行都有一个与之关联的 mimetype，用于确定存储在每列中的数据。因此，对于地址，“data1”列保存街道数据，data4 可能保存状态。

# cloud-foundry - VMC 上的隧道服务出错

> ID：13172269
> 
> 赞同：0
> 
> 时间：2012-11-01T06:49:03.313
> 
> 标签：cloud-foundry, vmc

我已经使用 uri **yamashowcase.azure4j.u​​s将应用程序推送到 cloud_controller** **paas.azure4j.u​​s**上的我的CF。

 **当我尝试在绑定到它的服务上创建隧道时，出现如下错误：

toriq@meruvian354:~$ sudo vmc 隧道 yamashowcase-db

停止应用程序“caldecott”：好的

重新部署隧道应用程序“caldecott”。

上传申请：

检查可用资源：确定

包装应用：OK

上传（1K）：好的

推送状态：OK

绑定服务 [yamashowcase-db]：好的

暂存应用程序“caldecott”：好的

启动应用程序“caldecott”：好的

获取隧道连接信息：.......**错误：需要了解的远程隧道**

**yamashowcase-db，但它没有**

我使用 vmc 版本 0.3.23 。有什么解决办法吗？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T10:58:34.973

我认为这个错误有点误导。我会检查实例上的日志，特别是云控制器日志和用于 yamashowcase-db（mysql、postgre 等）的服务节点的日志**

# python - 为 Django 模型自动填充外键

> ID：13172273
> 
> 赞同：1
> 
> 时间：2012-11-01T06:49:46.497
> 
> 标签：python, html, django, django-models, views

所以我正在建立一个基本的问答网站——每个主题都有一系列与之相关的问题，每个问题都有与之相关的多个答案。

我正在为问题创建用户输入，它们必须与一个主题相关联。这是问题模型

```
#models.py
class Question(models.Model):
    movie           = models.ForeignKey(Movie, blank=True, null=True)
    question_text   = models.CharField(max_length = 1000)
    question_detail = models.CharField(max_length = 5000, blank = True, null = True)
    q_pub_date      = models.DateTimeField(auto_now_add = True)
    q_author        = models.ForeignKey(User)
class QuestionForm(ModelForm):
    def save(self, user = None, force_insert = False, force_update = False, commit = True):
        q = super(QuestionForm, self).save(commit = False)
        q.q_author = user
        if commit:
            q.save()
        return q

    class Meta:
        model = Question
        exclude = ('movie', 'q_author', 'q_pub_date') 
```

这是网址配置

```
#urls.py
url(r'^(?P<movie_id>\d+)/add_question/$', 'add_question'), 
```

现在这里是视图

```
#views.py
def add_question(request, movie_id):
    if request.method == "POST":
        form = QuestionForm(request.POST, request.FILES)
        #QuestionForm.movie = Movie.objects.get(pk = movie_id)
        if form.is_valid():
            form.save(user = request.user)
            return HttpResponseRedirect("/home/")
    else:
        form = QuestionForm()
    return render_to_response("qanda/add_question.html", {'form': form}, context_instance = RequestContext(request)) 
```

这是 HTML 代码

```
#add_question.html
<h1> Add Question: {{ user.username }}</h1>
    <form action = "" method = "post">{% csrf_token %}
        {{ form.as_p }}
        <input type = "submit" value = "Ask" />
        <input type = "hidden" name = "next" value = "{{ next|escape }}" />
    </form> 
```

在视图中，注释掉的行是我添加到视图中以尝试自动保存模型的内容。添加问题时，URL 具有与其关联的电影的 ID，我的想法是获取该 ID，然后将其插入 ForeignKey 以识别与问题关联的电影。但是，当我使用我的代码时，它会将所有问题的电影关联更改为当前电影，而不仅仅是更改该特定问题的电影关联。没有代码，它根本不会将电影与问题相关联。我该如何解决？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T06:58:41.933

用这个：

```
#views.py
def add_question(request, movie_id):
    if request.method == "POST":
        form = QuestionForm(request.POST, request.FILES)
        if form.is_valid():
            question = form.save(user = request.user)
            question.movie = Movie.objects.get(pk = movie_id)
            question.save()
            return HttpResponseRedirect("/home/")
    else:
        form = QuestionForm()
    return render_to_response("qanda/add_question.html", {'form': form}, context_instance = RequestContext(request) 
```

**对于评论中提出的问题**

您应该避免在视图或模板中使用绝对 URL。考虑一个场景，您决定将`home`URL 从更改`/home/`为`/myhome/`。您必须在曾经使用过它们的地方对其进行编辑。[命名 url ( docs](https://docs.djangoproject.com/en/dev/topics/http/urls/#naming-url-patterns) )总是更好的：

```
# URL Conf
url(r'^home/$', 'home_view', name="home_url"),
url(r'^(?P<movie_id>\d+)/add_question/$', 'add_question', name="add_question_url"),
url(r'^home/(?P<movie_id>\d+)/$', 'movie_view', name="movie_url"), 
```

该`name`参数充当您实际 URL 的唯一标识符

现在在你看来：

```
from django.core.urlresolvers import reverse

def some_view(request):
    ...
    return HttpResponseRedirect(reverse('home_url')) 
```

现在，您对 URL 所做的任何更改（比如 /home/ 到 /myhome/ 对视图都没有影响，只要`name`参数在 URL conf.

如果您希望传递参数（如您的情况下的 movie_id）

```
def some_view(request, movie_id):
    ...
    return HttpResponseRedirect(reverse('movie_url', kwargs={'movie_id':movie_id})) 
```

模板中应使用相同的概念以避免在模板中对 URL 进行硬编码。请阅读[此](http://cookingupawebsiteindjango.blogspot.in/2009/04/name-your-urls.html)内容以获取更多详细信息

# android - 在android中使用Ksoap的异常

> ID：13172275
> 
> 赞同：0
> 
> 时间：2012-11-01T06:49:49.833
> 
> 标签：android, asp.net, eclipse, exception, android-ksoap2

您好，我在过去 5 个小时里一直在尝试解决这个问题，现在我的 Web 服务可以正常工作，直到我最近安装了 Windows 8 并设置了 eclipse 和 android SDK。

我的问题是我添加了外部 jar ksoap 并为测试创建了一个示例 Web 服务。

调用 Soap 响应异常时创建
**“11-01 11:10:00.161: E/dalvikvm(304): 找不到类 'org.ksoap2.serialization.SoapObject', 引用自方法 com.example.testweb.MainActivity 。发送”**

下面是我的**mainActvity.xml的 xml 代码**

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent" >

   <TextView
    android:id="@+id/textView1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentTop="true"
    android:layout_centerHorizontal="true"
    android:layout_marginTop="194dp"
    android:text="TextView" />

  </RelativeLayout> 
```

**MainActivity.class**

```
package com.example.testweb;

import org.ksoap2.SoapEnvelope;
import org.ksoap2.serialization.PropertyInfo;
import org.ksoap2.serialization.SoapObject;
import org.ksoap2.serialization.SoapSerializationEnvelope;
import org.ksoap2.transport.HttpTransportSE;

import android.os.Bundle;
import android.app.Activity;
import android.view.Menu;
import android.widget.Toast;

public class MainActivity extends Activity {

 private static final String NAMESPACE = "http://tempuri.org/";
 private static final String URL = "http://10.0.2.2:34253/Service1.asmx"; 
 private static final String SOAP_ACTION = "http://tempuri.org/HelloWorld";
 private static final String METHOD_NAME = "HelloWorld";

   @Override
   public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    Send();
   }

   @Override
   public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
  }

   public void Send()
   {
     SoapObject request = new SoapObject(NAMESPACE,METHOD_NAME);

         SoapSerializationEnvelope envelope = new   SoapSerializationEnvelope(SoapEnvelope.VER11);
       envelope.dotNet=true;
       envelope.setOutputSoapObject(request);

       HttpTransportSE androidHttpTransport = new HttpTransportSE(URL, 5000);

       try
       {
            androidHttpTransport.call(SOAP_ACTION, envelope);
           // SoapPrimitive response = (SoapPrimitive) envelope.getResponse();

            SoapObject resultsRequestSOAP = (SoapObject) envelope.bodyIn;
            //Hello World; }
            String result = resultsRequestSOAP.toString();
            Toast.makeText(this, result, Toast.LENGTH_LONG).show();

       }
       catch (Exception e) {
        // TODO: handle exception
           Toast.makeText(this, e.getMessage(), Toast.LENGTH_LONG).show();
    }

} 
```

}

**AndroidMenifest.XML**

```
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
  package="com.example.testweb"
  android:versionCode="1"
  android:versionName="1.0" >

  <uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="15" />

<uses-permission android:name="android.permission.INTERNET"></uses-permission>
<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name=".MainActivity"
        android:label="@string/title_activity_main" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
</application> 
```

Ksoap.jar 的屏幕截图 ![Ksoap 参考](../Images/5801802406352a896da67465b29dd4da.png)
![在此处输入图像描述](../Images/4d70995f581a992cd2e684a393e55120.png)

**我在 localhost 上运行的**ASP.NET 3.5 Webservice代码****

 **```
/// <summary>
/// Summary description for Service1
/// </summary>
[WebService(Namespace = "http://tempuri.org/")]
[WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]
[System.ComponentModel.ToolboxItem(false)]
// To allow this Web Service to be called from script, using ASP.NET AJAX, uncomment    the following line. 
// [System.Web.Script.Services.ScriptService]
public class Service1 : System.Web.Services.WebService
{

    [WebMethod]
    public string HelloWorld()
    {
        return "Hello World";
    }
 } 
```

我正在使用 google api 8，我的 ADT 是 20.0.3，我的 ksoap.jar 是 2.6.5

**编辑** 伙计们，我的 Jar 问题现在解决了，我收到的一个新错误出现在此链接上

```
 androidHttpTransport.call(SOAP_ACTION, envelope); 
```

**try catch 中的异常给了我这个错误**

```
 org.xmlpull.v1.XmlPullParserException: expected: START_TAG {schemas.xmlsoap.org/soap/envelope}Envelope (position:START_TAG <HTML>@2:7 in     java.io.InputStreamReader@44ef85f0) 
```

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T06:57:09.610

下载一个新的肥皂库并再次添加到项目中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:25:58.343

我有同样的问题，就像这个问题解决了一样。

试试这个

![在此处输入图像描述](../Images/e68aa94f7565b8e99bbd7a9cdc262c01.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T07:50:48.200

在 order 和 export 设置中，尝试将 KSOP lib 移动到列表顶部。

编辑 1：由于某种原因，android 似乎无法连接到您的服务器，并且 ksoap2 默认无法正确处理 http 响应代码。它尝试解析诸如“找不到文件”之类的 http 错误消息并抛出异常，因为它不是有效的 SOAP。尝试使用 ksoap2 源代码代替 lib 并检查 http 响应代码。源代码可在此[链接](http://code.google.com/p/ksoap2-android/wiki/SourceCodeHosting?tm=4)..

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-03T00:51:51.353

伙计们，我已经解决了我的问题，如下所示。

```
org.xmlpull.v1.XmlPullParserException: expected: START_TAG   {schemas.xmlsoap.org/soap/envelope}Envelope (position:START_TAG <HTML>@2:7 in   java.io.InputStreamReader@44ef85f0) 
```

我正在使用在.Net 3.5 上创建的 Web 服务使用 IDE Visual Studio 2012。但是当我在 Visual Studio 2010 SP1 上创建相同的服务时，我成功地收到了来自 Web 服务的响应。显然，在互联网上发布的解决方案是关于对于大多数用户来说，同样的问题并不是正确的解决方案。只需使用 IDE Visual Studio 2010 SP1 在 3.5 上重写您的 Web 服务。您将收到回复。**

# android - 如何在对话框中设置边距

> ID：13172276
> 
> 赞同：13
> 
> 时间：2012-11-01T06:49:49.990
> 
> 标签：android, webview, dialog

我已经`Dialog`在我的 Andorid 应用程序中使用了展示广告。但我必须从按钮顶部显示`Dialog`大约 50dp，所以我认为我们应该设置`Dialog`重力按钮并将其按钮边距设置为 50dp。但我无法在`Dialog`.so中使用边距建议我如何解决这个问题。

**XML:**

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/popup_element"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:background="@drawable/dialogback"
    android:orientation="vertical" >

    <WebView
        android:id="@+id/webView"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" />

</LinearLayout> 
```

**爪哇：**

```
final Dialog dialog = new Dialog(this);
dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);
dialog.getWindow().setBackgroundDrawable(new ColorDrawable(0));
LayoutInflater inflator = (LayoutInflater) getApplicationContext()
        .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
View view = inflator.inflate(R.layout.ad, null, false);
dialog.setContentView(view);
dialog.getWindow().setGravity(Gravity.BOTTOM);
dialog.setCancelable(true);
WebView webView = (WebView) dialog.findViewById(R.id.webView);
webView.loadUrl("");
webView.setWebViewClient(new MyWebViewClient());
webView.setOnClickListener(new OnClickListener() {

    @Override
    public void onClick(View v) {
        // TODO Auto-generated method stub
        dialog.dismiss();
    }
});
dialog.show(); 
```

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-11-01T08:34:50.260

我做了一个类似的笑脸对话。我扩展对话框

```
public class SmileCustomDialog extends Dialog {
Context mcontext;
GridView mGridview;

public GridView getGridview() {
    return mGridview;
}

public SmileCustomDialog(final Context context) {
    super(context, R.style.SlideFromBottomDialog);
    this.mcontext = context;
    LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    View v = inflater.inflate(R.layout.emocategorydialog, null);
    mGridview = (GridView) v.findViewById(R.id.emogrid);
    mGridview.setSelector(new ColorDrawable(Color.TRANSPARENT));

    ImageAdapter mAdapter = new ImageAdapter(mcontext);
    mGridview.setAdapter(mAdapter);
    this.requestWindowFeature(Window.FEATURE_NO_TITLE);
    this.setContentView(v);

    WindowManager.LayoutParams params = this.getWindow().getAttributes();
    this.setCanceledOnTouchOutside(true);
    params.y = -100;
    this.getWindow().setAttributes(params);

}

} 
```

但最重要的是

```
WindowManager.LayoutParams params = yourDialog.getWindow().getAttributes(); // change this to your dialog.

params.y = -100; // Here is the param to set your dialog position. Same with params.x
        yourDialog.getWindow().setAttributes(params); 
```

只需在显示对话框之前添加它。

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2013-11-08T18:39:20.363

WindowManager.LayoutParams:
public int x: X position... 当使用 LEFT 或 START 或 RIGHT 或 END 时，它提供与给定边缘的偏移
public int y: Y position... 当使用 TOP 或 BOTTOM 时，它提供与给定边缘
（[http://developer.android.com/reference/android/view/WindowManager.LayoutParams.html#x](http://developer.android.com/reference/android/view/WindowManager.LayoutParams.html#x)）
因此：

```
最终对话框对话框 = 新对话框（上下文）；
    // ...
    // 例如顶部 + 右边距：
    dialog.getWindow().setGravity(Gravity.TOP|Gravity.RIGHT);
    WindowManager.LayoutParams layoutParams = dialog.getWindow().getAttributes();
    布局参数.x = 100; // 右边距
    布局参数.y = 170; // 上边距
    dialog.getWindow().setAttributes(layoutParams);
    // 例如底部 + 左边距：
    dialog.getWindow().setGravity(Gravity.BOTTOM|Gravity.LEFT);
    WindowManager.LayoutParams layoutParams = dialog.getWindow().getAttributes();
    布局参数.x = 100; //左边距
    布局参数.y = 170; // 下边距
    dialog.getWindow().setAttributes(layoutParams);

`// etc.` 

            回答 #3

赞同：5

时间：2020-01-29T15:14:08.610

您可以为对话框创建样式并在其中放置边距。

例如：

```
<style name="custom_style_dialog"> 
    <item name="android:layout_marginStart">16dp</item>
    <item name="android:layout_marginEnd">16dp</item>
</style> 
```

然后，在您的对话框类中：

```
class CountryDialog(
    context: Context
) : Dialog(context, R.style.custom_style_dialog) {

  //your code here
} 
```

            回答 #4

赞同：3

时间：2012-11-01T08:36:58.907

```
View view = layoutInflater.inflate(R.layout.dialog_layout, null);
        AlertDialog infoDialog = new AlertDialog.Builder(this)
        .setView(view)  
        .create();
        Window window =infoDialog.getWindow();
        window.clearFlags(WindowManager.LayoutParams.FLAG_DIM_BEHIND );
        WindowManager.LayoutParams wlp = window.getAttributes();
        wlp.gravity = Gravity.BOTTOM;
        wlp.dimAmount=(float) 0.0;
        //wlp.flags = WindowManager.LayoutParams.FLAG_DIM_BEHIND ;

        window.setAttributes(wlp);
        infoDialog.show(); 
```

将重力改为底部

            回答 #5

赞同：3

时间：2017-02-23T15:26:09.720

这是一种无需考虑重力即可设置所有四个边距的方法。

我通过在方法`DialogFragment`中应用它来测试我的`onCreateDialog`方法：

```
public Dialog onCreateDialog( Bundle savedInstanceState )
{
    // create dialog in an arbitrary way
    Dialog dialog = super.onCreateDialog( savedInstanceState ); 
    DialogUtils.setMargins( dialog, 0, 150, 50, 75 );
    return dialog;
} 
```

这是将边距应用于对话框的方法：

```
public static Dialog setMargins( Dialog dialog, int marginLeft, int marginTop, int marginRight, int marginBottom )
{
    Window window = dialog.getWindow();
    if ( window == null )
    {
        // dialog window is not available, cannot apply margins
        return dialog;
    }
    Context context = dialog.getContext();

    // set dialog to fullscreen
    RelativeLayout root = new RelativeLayout( context );
    root.setLayoutParams( new ViewGroup.LayoutParams( ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT ) );
    dialog.requestWindowFeature( Window.FEATURE_NO_TITLE );
    dialog.setContentView( root );
    // set background to get rid of additional margins
    window.setBackgroundDrawable( new ColorDrawable( Color.WHITE ) );

    // apply left and top margin directly
    window.setGravity( Gravity.LEFT | Gravity.TOP );
    LayoutParams attributes = window.getAttributes();
    attributes.x = marginLeft;
    attributes.y = marginTop;
    window.setAttributes( attributes );

    // set right and bottom margin implicitly by calculating width and height of dialog
    Point displaySize = getDisplayDimensions( context );
    int width = displaySize.x - marginLeft - marginRight;
    int height = displaySize.y - marginTop - marginBottom;
    window.setLayout( width, height );

    return dialog;
} 
```

以下是我使用的辅助方法：

```
@NonNull
public static Point getDisplayDimensions( Context context )
{
    WindowManager wm = ( WindowManager ) context.getSystemService( Context.WINDOW_SERVICE );
    Display display = wm.getDefaultDisplay();

    DisplayMetrics metrics = new DisplayMetrics();
    display.getMetrics( metrics );
    int screenWidth = metrics.widthPixels;
    int screenHeight = metrics.heightPixels;

    // find out if status bar has already been subtracted from screenHeight
    display.getRealMetrics( metrics );
    int physicalHeight = metrics.heightPixels;
    int statusBarHeight = getStatusBarHeight( context );
    int navigationBarHeight = getNavigationBarHeight( context );
    int heightDelta = physicalHeight - screenHeight;
    if ( heightDelta == 0 || heightDelta == navigationBarHeight )
    {
        screenHeight -= statusBarHeight;
    }

    return new Point( screenWidth, screenHeight );
}

public static int getStatusBarHeight( Context context )
{
    Resources resources = context.getResources();
    int resourceId = resources.getIdentifier( "status_bar_height", "dimen", "android" );
    return ( resourceId > 0 ) ? resources.getDimensionPixelSize( resourceId ) : 0;
}

public static int getNavigationBarHeight( Context context )
{
    Resources resources = context.getResources();
    int resourceId = resources.getIdentifier( "navigation_bar_height", "dimen", "android" );
    return ( resourceId > 0 ) ? resources.getDimensionPixelSize( resourceId ) : 0;
} 
```

辅助方法在我的另一个[SO 答案](https://stackoverflow.com/a/42418561/2011622)中进行了解释。

这个[Gist](https://gist.github.com/p-fischer/700fcdf5eff737ebf5ec4e64a0130e99)包含一个扩展版本，也支持沉浸模式。

            回答 #6

赞同：1

时间：2020-03-18T10:57:20.393

好吧，对我最有效的方法是将我的对话框视图包装在 FrameLayout 中并添加填充，并将 onClickListener 设置为“关闭”对话框。像这样：

```
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:id="@+id/parentFl"
    android:background="@android:color/transparent"
    android:padding="@dimen/vvlarge_margin">

 dialog?.window?.setBackgroundDrawable(context?.getDrawable(android.R.color.transparent))
 view.parentFl.setOnClickListener { dismiss() } 
```

            回答 #7

赞同：0

时间：2021-07-04T15:11:00.790

另一种方法是使用[InsetDrawable](https://developer.android.com/reference/android/graphics/drawable/InsetDrawable)。您只需指定**insetLeft**和**insetRight**并将其应用为您的背景，如下所示：
**inset_drawable.xml**（在drawable文件夹中创建）

```
<?xml version="1.0" encoding="utf-8"?>
<inset xmlns:android="http://schemas.android.com/apk/res/android"
android:drawable="@drawable/dialog_bg" <!-- this is simply a shape drawable with corners applied-->
android:insetLeft="30dp" <!-- specify your dimension -->
android:insetRight="30dp" /> 
```

**your_layout.xml**（您的自定义对话框）

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/popup_element"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:background="@drawable/inset_drawable"
android:orientation="vertical" >

<WebView
    android:id="@+id/webView"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content" />

</LinearLayout> 
```

```

# android - PendingIntent 中的一些错误

> ID：13172277
> 
> 赞同：1
> 
> 时间：2012-11-01T06:49:58.210
> 
> 标签：android, notifications, android-pendingintent

从我的应用程序中，我将 Activity 设置为蓝牙设置选项。如果我从 BT 设置活动中单击主页按钮并尝试重新启动应用程序，它将无法正常工作，谁能给我一些想法？

```
notification=new Notification(R.drawable.icon, "", System.currentTimeMillis());
Intent in=new Intent(getBaseContext(),MainActivity.class);

PendingIntent pi=PendingIntent.getActivity(getBaseContext(), 0, in, 0);
notification.setLatestEventInfo(getBaseContext(), "app name", "Application is now running, press here to open", pi);
notifyMgr.notify(id, notification); 
```

# hadoop - 为什么不推荐使用包 org.apache.hadoop.mapred 中的大多数类？

> ID：13172280
> 
> 赞同：1
> 
> 时间：2012-11-01T06:50:18.940
> 
> 标签：hadoop

最近在学习Hadoop，很好奇为什么org.apache.hadoop.mapred中的大部分类都被弃用了。这很烦人，因为在 Hadoop 0.20 之前和之后 MapReduce 中使用的包名和类名非常相似，这使得学习 Hadoop 变得更加困难。

但是，我认为贡献者必须有一些充分的理由做出这样的决定。有谁知道确切的原因吗​​？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:15:49.273

查看[这个](http://blog.cloudera.com/blog/2009/05/what%E2%80%99s-new-in-hadoop-core-020/)和[这个](http://blog.cloudera.com/blog/2010/08/what%E2%80%99s-new-in-apache-hadoop-0-21/)博客，了解开发新 API 背后的原因及其相关信息。请注意，旧 API 已不受欢迎，并且某些类尚未从旧 API 移植到新 API。除非有特定要求，否则可以使用旧 API。

# iphone - 如何在uibutton中两次分配标题

> ID：13172281
> 
> 赞同：0
> 
> 时间：2012-11-01T06:50:18.690
> 
> 标签：iphone, ios, uibutton, nsmutablearray

在我的应用程序中，我有 10 个`UIButton`和一个包含 5 个文本值的数组。我想将每个值两次分配给 10 个按钮。？这里是我的代码

```
NSString *name;
int value = rand() % ([texts count] -1) ;
for(UIView *view in self.view.subviews)
{
    if([view isKindOfClass:[UIButton class]])
    {
        UIButton *button = (UIButton *)view;
        if(button.tag == 1||button.tag == 2||button.tag == 3||button.tag == 4||button.tag == 5||button.tag == 6||button.tag == 7||button.tag == 8||button.tag == 9||button.tag == 10||button.tag == 11||button.tag == 12||button.tag == 13||button.tag == 14||button.tag == 15||button.tag == 16||button.tag == 17||button.tag == 18||button.tag == 19||button.tag == 20)
        {
             name=[NSString stringWithFormat:@"%@",[texts objectAtIndex:value]];
            [button setTitle:name forState:UIControlStateNormal];
            NSLog(@"current  name :%@",name);
        }
    }
   } 
```

但它会显示所有具有标题的按钮。请帮助我在两个按钮中仅更改标题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:05:30.467

实现这一点的一种棘手方法是标记 UIButtons，如果您希望 button1 和 button2 标题相同，请提供`button1.tag = 1`和`button2.tag = 100`ie `button2.tag = button1.tag * 100`（不要以 0 作为标签开头，因为 0 是 self.view 的保留标签）。这可以从XIB或以编程方式完成。进一步执行以下

```
for (int i = 0 ;i < [array count] ; i++) {
int myTag = i + 1;

UIButton *button1 = [self.view viewWithTag:myTag];
    [button1 setTitle:[array objectAtIndex:i] forState:UIControlStateNormal];

UIButton *button2 = [self.view viewWithTag:myTag * 100];
    [button2 setTitle:[array objectAtIndex:i] forState:UIControlStateNormal];

 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T08:07:27.930

```
NSArray *texts = [[NSArray alloc] initWithObjects:@"string 1",@"string 2",@"string 3",@"string 4",@"string 5",nil];
NSArray *buttons = [self.view subviews];
int t=0;
for (int i=0; i<[buttons count]; i++) {
    id view = [buttons objectAtIndex:i];
    if ([view isKindOfClass:[UIButton class]]) {
        UIButton *button = (UIButton *)view;
        [button setTitle:[texts objectAtIndex:t/2] forState:UIControlStateNormal];
        t++;
    }
}
[texts release]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T09:39:50.173

我只是在修改您的代码，可能对您有帮助，如果仍有任何问题，请告诉我

谢谢

```
int i=1; 
int value = rand() % ([texts count] -1) ;
for(UIView *view in self.view.subviews)
{
    if([view isKindOfClass:[UIButton class]])
    {   

if(button.tag == 1||button.tag == 2||button.tag == 3||button.tag == 4||button.tag == 5||button.tag == 6||button.tag == 7||button.tag == 8||button.tag == 9||button.tag == 10||button.tag == 11||button.tag == 12||button.tag == 13||button.tag == 14||button.tag == 15||button.tag == 16||button.tag == 17||button.tag == 18||button.tag == 19||button.tag == 20)
    {
      int myTag= i+1;  
      UIButton *button1 = [self.view viewWithTag:myTag]; 
      name=[NSString stringWithFormat:@"%@",[texts objectAtIndex:value]];
       [button1 setTitle:name forState:UIControlStateNormal];
        NSLog(@"current  name :%@",name);
    }
     i++;
} 
```

# c# - 如何在外部控制的应用程序中隐藏组合框

> ID：13172282
> 
> 赞同：0
> 
> 时间：2012-11-01T06:50:22.503
> 
> 标签：c#, wpf, winapi

我有一个应用程序 A (.NET/WPF)，它通过 WinAPI 调用控制应用程序 B。

根据要求，应用程序 A 必须始终是最顶层的窗口。这意味着

*   如果应用程序 A 的窗口与应用程序 B 的窗口位于同一位置，
*   那么应用程序 A 的窗口应该是可见的，并且
*   应用程序 B 的窗口必须不可见。

除一种情况外，所有情况均满足此要求。当应用程序 A 以编程方式从应用程序 B 的组合框中选择一个元素时，该组合框会暂时可见。选择一个元素后，它会再次隐藏。

但是组合框可见（即使是片刻）违反了要求。

如何确保应用程序 A 的窗口**始终**是最上面的窗口（即使在选择组合框项目期间）？

注意：应用程序 A 每 200 毫秒收回一次焦点（激活自身）。我试图将该间隔减少到 100 毫秒，但它没有帮助。

**更新 1：**使用以下 WinAPI 调用选择组合框项。

```
SendMessage(Self.MyFlightComboBox, CB_SHOWDROPDOWN, WPARAM(true), 0);

ItemIndex := SendMessage(Self.MyFlightComboBox, CB_FINDSTRING, -1, integer(@MyValue[1]));

OutputDebugString(PChar('ItemIndex: ' + IntToStr(ItemIndex)));

SendMessage(Self.MyFlightComboBox, CB_SETCURSEL, ItemIndex, 0);
SendMessage(Self.MyFlightComboBox, CN_COMMAND, MakeWParam(0, CBN_SELCHANGE), 0);

SendMessage(Self.MyFlightComboBox, WM_LBUTTONDOWN, 0, -1);
SendMessage(Self.MyFlightComboBox, WM_LBUTTONUP, 0, -1); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T11:41:57.950

无需显示*背景*组合框项目选择的下拉列表，因此删除消息发送的第一行[`CB_SHOWDROPDOWN`](http://msdn.microsoft.com/en-us/library/windows/desktop/bb775919%28v=vs.85%29.aspx)（这可能是您的问题的原因）并删除最后两行，您正在模拟左侧鼠标按钮单击（无论如何都是在无意义的位置上），根本没有理由这样做。

因此，要通过找到的文本选择组合框中的项目，使用以下伪代码就足够了（用 Delphi 编写，对您的原始版本稍作修改，因为您一定要检查您发送的消息的结果）：

```
ItemIndex := SendMessage(Self.MyFlightComboBox, CB_FINDSTRING, -1, LPARAM(@MyValue[1]));
if ItemIndex <> CB_ERR then
  if SendMessage(Self.MyFlightComboBox, CB_SETCURSEL, ItemIndex, 0) <> CB_ERR then
    SendMessage(Self.MyFlightComboBox, CN_COMMAND, MakeWParam(0, CBN_SELCHANGE), 0); 
```

# php - PHP：检查数组以查看值是否匹配，显示这些值

> ID：13172285
> 
> 赞同：0
> 
> 时间：2012-11-01T06:50:31.857
> 
> 标签：php, arrays, multidimensional-array, foreach

我正在从一个while循环生成一个数组，我想最终使用这个数组来显示数据。

```
while($row = $database->fetch(PDO::FETCH_ASSOC)
{

     $value_1 = $row['value_1'];
     $value_2 = $row['value_2'];

     $data[] = array("value_1"=>$value_1,"value_2"=>$value_2);

} 
```

所以 $data[] 会显示使用`print_r`我得到这样的东西：

```
Array
(
    [0] => Array
        (
            [value_1] => Hello World
            [value_2] => venus
        )

    [1] => Array
        (
            [value_1] => Hello World
            [value_2] => pluto
        )

    [2] => Array
        (
            [value_1] => Hello Moon
            [value_2] => Halloween
        )

) 
```

我的问题是，如果我想获取所有数据但合并相同的值，我将如何进行 foreach 循环或显示这种方式？

```
Ex:

Hello World to venus pluto
Hello Moon to Halloween 
```

我知道这些句子没有意义，但正如你所见，Hello World 将被合并，我需要在两者之间添加一个“to”`value_1`和`value_2`

希望我的问题可以理解。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:02:17.167

尝试这样的事情。（未测试）

```
$match = array();
foreach($data as $d) {
    if (isset($match[$d['value_1']])) {
        $match[$d['value_1']] = $match[$d['value_1']].' '.$d['value_2'] ;
    } else {
        $match[$d['value_1']] = $d['value_1']. ' to '. $d['value_2'];
    }
}

print_r($match); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:19:39.323

我认为首先你需要创建新数组，如下所示：

```
$new_array = array();
//consider your original array is $data
foreach($data as $row){
    if (array_key_exists($row['value_1'], $new_array)) {
       $new_array[$row['value_1']] = $new_array[$row['value_1']]. " ". 
                                     $row['value_2'];
    }
    else {
        $new_array[$row['value_1']] = $row['value_2'];
    }
} 
```

然后通过迭代显示它：

```
foreach($new_array as $key => $value){
   echo $key ."to". $value;
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-01T06:54:28.350

```
foreach($data as $d) {

    echo $d['value_1'], ' to ', $d['value_2']; // this is if you want to echo the content

    // this code is to insert 'to' in the middle of value_1 and value_2
    $value_2 = $d['value_2'];

    unset($d['value_2']);

    array_push($d, "to", $value_2);

    unset($value_2);

} 
```

此外，您不需要将 $row 值分配给另一个值：

```
$value_1 = $row['value_1']; // remove this
$value_2 = $row['value_2']; // remove this

$data[] = array("value_1" => $row['value_1'], "value_2" => $row['value_2']); 
```

# iphone - 如何在 Objective-C 中注销应用程序？

> ID：13172292
> 
> 赞同：1
> 
> 时间：2012-11-01T06:51:05.337
> 
> 标签：iphone

我正在做一个应用程序，在启动应用程序时，将显示一个带有搜索和登录视图的 tabbarController。当我单击搜索 tabbaritem SearchView 时，将出现。当单击登录 tabbaritem 时，将出现登录视图。当登录成功时将出现带有四个 tabbaritems（搜索、我的个人资料、我的活动、注销）的 tabbarcontroller。现在，当我单击注销时，我必须注销帐户，并且需要再次显示启动视图。

任何帮助，将不胜感激..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:14:29.357

它与您的应用程序架构有关。我想把你的问题分开：

我对objective-C非常陌生，我正在做一个应用程序，在启动应用程序时，将显示一个带有搜索和登录视图的tabbarController。

**回复：最初您需要在 AppDelegate 中有一个导航控制器，它将像父导航控制器一样工作，并且您需要将您的标签栏控制器作为 rootviewcontroller 添加到它，这将有助于在您想要退出第二个标签栏控制器时登出。**

登录成功后，将出现一个带有四个标签项（搜索、我的个人资料、我的活动、注销）的标签栏控制器

**回复：现在，当您登录时，您将推送一个带有 4 个选项卡的新标签栏控制器，它将被推送到父导航控制器（我们在 app deleate 中创建）。**

现在，当我单击注销时，我必须注销帐户，并且需要再次显示启动视图

**回复：现在，当您想要注销并且在完成所有注销相关的事情（例如关闭会话等）之后，如果您想要弹出视图控制器，就像`[self.navigationController popViewController]`它不会帮助您一样。因为 self.navigation 控制器是新标签栏的导航控制器（4 个标签，您在 login 后推送）。因此，您需要在此处访问父导航控制器，我们在应用程序委托中将其创建到 Logout 视图控制器中，例如 : `[appDelegate.navController poptoRootViewController]` 。**

所以这里的重点是你需要访问和控制父导航控制器。

希望这可以帮助。

# android - 过滤日志信息，BufferedWriter in-file 无效

> ID：13172293
> 
> 赞同：0
> 
> 时间：2012-11-01T06:51:12.483
> 
> 标签：android

我有一个日志包。我想过滤 log.e，并将其保存到另一个文件。但是我发现 BufferedWriter 达不到预期的效果。比如下面的日志文件中的两行不能存储另一个文件。

```
E/Vold ( 96): Sleep 2s to make sure that coldboot() events are handled
E/WindowManager( 244): setEventDispatching false 
```

附上代码：

```
import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
import java.io.PrintWriter;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class LogSpider {

    /**
     * @param args
     */
    public static void main(String[] args) {
        // TODO Auto-generated method stub

        BufferedReader bufferedReader = null;

        try {
            bufferedReader = new BufferedReader(new FileReader("C:\\Users\\Administrator\\Desktop\\log.txt"));
            String line = "";

            try {
                while((line = bufferedReader.readLine())!=null)
                {
                    Parseelog(line);
                }
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }

        } catch (FileNotFoundException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        finally{
            try {
                bufferedReader.close();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
        }
    }

    public static void Parseelog(String line)
    {
        BufferedWriter bufferedWriter = null;        
        try {
            bufferedWriter = new BufferedWriter(new FileWriter("C:\\Users\\Administrator\\Desktop\\logspider2.txt"));
        } catch (IOException e1) {
            // TODO Auto-generated catch block
            e1.printStackTrace();
        }

        //Pattern pattern = Pattern.compile("[\\w[.-]]+\\@[\\w[.-]]{2,}\\.[\\w[.-]]+");
        Pattern pattern = Pattern.compile("^E.*");
        Matcher matcher = pattern.matcher(line);

        while(matcher.find())
        {
            String string = new String(matcher.group());
            string += "\n";

            System.out.println(string); //here can print the search results 

            try {
                bufferedWriter.write(string, 0, string.length());
                bufferedWriter.flush();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }    

            finally{
                try {
                    bufferedWriter.close();
                } catch (IOException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
            }    
        }
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T08:22:26.820

您的代码的问题是您每次要编写匹配行时都打开 logspider2.txt 文件。所以它覆盖了所有以前的数据。要解决此问题，您需要以附加模式打开文件，如下所示：

```
bufferedWriter = new BufferedWriter(
                    new FileWriter(
                            "F:\\praful\\androidworkspace_2\\Test\\src\\logspider2.txt",true)); 
```

我尝试了您的代码并进行了一些修改以使其正常工作。以下是工作代码：

```
 /**
     * @param args
     */
    public static void main(String[] args) {
        // TODO Auto-generated method stub

        BufferedReader bufferedReader = null;

        try {
            bufferedReader = new BufferedReader(new FileReader(
                    "F:\\praful\\androidworkspace_2\\Test\\src\\logs.txt"));
            String line = "";

            try {
                while ((line = bufferedReader.readLine()) != null) {
                    Parseelog(line);
                }
            } catch (IOException e) {
                e.printStackTrace();
            }

        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } finally {
            try {
                bufferedReader.close();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
        }
    }

    public static void Parseelog(String line) {
        BufferedWriter bufferedWriter = null;
        // Pattern pattern =
        // Pattern.compile("[\\w[.-]]+\\@[\\w[.-]]{2,}\\.[\\w[.-]]+");
        Pattern pattern = Pattern.compile("^E.*");
        Matcher matcher = pattern.matcher(line);

        try {
            bufferedWriter = new BufferedWriter(
                    new FileWriter(
                            "F:\\praful\\androidworkspace_2\\Test\\src\\logspider2.txt",true));

            while (matcher.find()) {
                String string = new String(matcher.group());
                string += "\n";

                System.out.println(string); // here can print the search results

                bufferedWriter.write(string);

            }

            bufferedWriter.flush();
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            try {
                bufferedWriter.close();
            } catch (IOException e) {
                e.printStackTrace();
            }
        }

    }

} 
```

请将文件路径更改为您的本地路径。希望对你有帮助。。

# google-maps - 根据google map中的分析，用经纬度覆盖的不同颜色的区域填充

> ID：13172295
> 
> 赞同：0
> 
> 时间：2012-11-01T06:51:23.700
> 
> 标签：google-maps, colors, latitude-longitude

由于谷歌地图中的数据不同，我想用不同的颜色对经纬度区域进行阴影处理？比如10%，20%颜色会变浅，颜色会变深等等。

# objective-c - Objective-C中的实例方法和类方法有什么区别？

> ID：13172300
> 
> 赞同：-1
> 
> 时间：2012-11-01T06:52:08.817
> 
> 标签：objective-c

> **可能重复：**
> [Objective-C：类与实例方法？](https://stackoverflow.com/questions/1053592/objective-c-class-vs-instance-methods)
> [Objective-C - 类方法和静态方法之间的区别？](https://stackoverflow.com/questions/8089186/objective-c-difference-between-class-method-and-static-method)

在 ObjC 中，方法名称前的单破折号表示它是实例方法。方法名称前的加号表示它是类方法。但是编程有什么区别？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T06:58:14.743

类方法和实例方法之间的区别在于，实例方法需要（通常）操作的类的实例。调用实例方法的消息必须发送到类的实例。

类方法最常见的单一用途可能是对象工厂。您发送给类的消息以创建根据您发送的参数配置的实例。例如，在 Cocoa 中，NSString 类有几个名为 stringWithSomethingOrOther: 的类方法，它们将创建一个新的 NSString 对象并将其交还给您。

另一方面，NSString*也*有许多实例方法——没有实际实例可以使用的操作实际上没有任何意义。一个常用的方法可能是 length 方法，它告诉您消息发送到的特定 NSString 实例中有多少个字符。

也看到这个。 [类方法和实例方法有什么区别？](https://stackoverflow.com/questions/1053592/objective-c-class-vs-instance-methods)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T06:57:42.343

在对象上调用实例方法。在类上调用类方法。

例如这一行：

`SomeClass *object = [[SomeClass alloc] init];`

在这里您可以看到“alloc”适用于“SomeClass”而不是“object”。

鉴于： `[object callMyFunction];`将作用于“对象”而不是“类”。这是一个实例方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T06:57:58.970

与这两者的主要区别在于前者，即在它仅由声明它的类的实例调用之前使用单个破折号，即必须创建该类的一个实例意味着该类的一个对象并且使用`.`一个可以调用实例方法

在类方法中，后一种可以直接使用类名调用。要调用类方法，不需要任何对象。

请参考苹果开发者文档中的[这个链接](https://developer.apple.com/library/mac/referencelibrary/GettingStarted/Learning_Objective-C_A_Primer/_index.html#//apple_ref/doc/uid/TP40007594-CH1-SW11)

# facebook - Facebook 会话未设置

> ID：13172304
> 
> 赞同：0
> 
> 时间：2012-11-01T06:52:30.970
> 
> 标签：facebook

我已经使用 Facebook Connect 登录我的网站，目前我没有登录，我的 Facebook 帐户已登录另一个选项卡，所以当我访问我们的网站时，我没有得到 Facebook 会话，即当我打印 $facebook->getUser()我得了 0。所以任何人都可以帮我把我能做的。我总是收到活动访问令牌错误

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T08:09:49.537

当您尚未登录应用程序时，应用程序将返回 0

```
$facebook->getUser() 
```

这是因为用户尚未登录应用程序，要获取用户，您必须将用户重定向到登录 URL 或通过单击提供的 url 要求用户登录：-

```
$facebook->getLoginUrl() 
```

# javascript - text 和 textContent 属性之间的区别

> ID：13172305
> 
> 赞同：25
> 
> 时间：2012-11-01T06:52:37.197
> 
> 标签：javascript, dom, anchor

根据[HTML5 规范](http://dev.w3.org/html5/spec/single-page.html#the-a-element) 和[DOM 规范](http://www.w3.org/TR/DOM-Level-3-Core/core.html#Node3-textContent)，一个[`HTMLAnchorElement`](http://dev.w3.org/html5/spec/single-page.html#the-a-element)有一个`text`和一个`textContent`属性。`text`财产的目的是什么？据我所知`text`，这只是一个只读的 getter`textContent`

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-11-01T07:04:15.477

[textContent](http://www.w3.org/TR/DOM-Level-3-Core/core.html#Node3-textContent)属性是从DOM 核心规范的[Node 接口](http://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-1950641247)“继承”的。[text属性是从 HTML5](http://dev.w3.org/html5/spec/single-page.html#dom-a-text) [HTMLAnchorElement 接口](http://dev.w3.org/html5/spec/single-page.html#htmlanchorelement)“继承”的，并被指定为“必须返回与 textContent IDL 属性相同的值”。

这两者可能被保留以收敛不同的浏览器行为，[脚本元素的文本属性的](http://dev.w3.org/html5/spec/single-page.html#dom-script-text)定义略有不同。

请注意，DOM 规范是针对任何类型文档（例如 HTML、XML、SGML 等）的通用规范，而 HTML5 专门针对在许多方面利用和扩展 DOM 核心的 HTML（有些人可能会说它是“超级集合”） ” 的一些 DOM 规范加上 HTML 加上……）。

请注意，“继承”并不意味着“原型继承”，只是继承的更一般的含义。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-03-16T12:43:03.953

我推荐使用`textContent`在[MDN](https://developer.mozilla.org/en-US/docs/Web/API/Node/textContent)和[W3C quirksmode.org上看到的](https://www.quirksmode.org/dom/html/)

`text`您从[DOM Standard](https://dom.spec.whatwg.org/#interface-text)引用的属性是指[Text Web API](https://developer.mozilla.org/en-US/docs/Web/API/Text)

# java - 无法施放> 映射到更具体的类型化地图

> ID：13172306
> 
> 赞同：0
> 
> 时间：2012-11-01T06:52:47.787
> 
> 标签：java, object, map, casting

我正在尝试像这样投射地图：

```
Map<Integer, Map<String, String>> map = 
                 (HashMap<Integer, Map<String, String>>) pMap; 
```

pMap 输入：

```
Map<Object, Map<Object, Object>> pMap 
```

不幸的是它不起作用，我很想知道为什么，以及是否有可能避免这个问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T07:01:39.960

这是因为即使`Integer`是 的子类型`Object`，`Map<Integer, Integer>`也不是*的*子类型`Map<Object, Object>`。

你根本不能那样施放它。

这将在[Java 教程](http://docs.oracle.com/javase/tutorial/java/generics/inheritance.html)中进一步解释。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:23:48.473

我对泛型类不太熟悉，但你可以试试 Map<**吗？**, Map> map 将 Integer 替换为 ? 它会很容易地为您的 Integer 设置大小写，并且正如您在上面所写的那样，该键也可以是字符串，所以我希望它对您有用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T14:09:22.677

所以，这是我为避免这个问题所做的：

我这样输入我的地图：

```
Map<? super Object, ? super Object> 
```

它有效，我可以在这张地图中放任何我想要的东西。有可能 ：

```
Map<String, String> 
```

或者 ：

```
Map<Integer, Map<String, String>> 
```

等等。这是我发现的更灵活的方式。唯一的限制是在我对地图进行操作时（通过`Iterator`或使用`keySet`）投射地图。

希望它可以帮助某人。

# php - 清除 php 中的 url

> ID：13172308
> 
> 赞同：1
> 
> 时间：2012-11-01T06:52:57.510
> 
> 标签：php, clean-urls

> **可能重复：**
> [如何：用 PHP 重写 URL？](https://stackoverflow.com/questions/1039725/how-to-url-re-writing-in-php)

我想通过**index.php(mvc)中的搜索表单传递一个干净的 url**

IE：

```
 <form>
    <input type="text" name="search" onClick="if(this.value=='Search') this.value=''"    onBlur="if(this.value=='') this.value='Search'" value="Search"/>
    <button>Search</button>
</form> 
```

它被发送到**index.php**并取决于搜索参数，即`$_GET['search']`它被传递给搜索控制器

但不是`index.php?search=xyz`我想通过`/search/xyz`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:05:58.720

如果您使用 apache 阅读有关[mod_rewrite](http://httpd.apache.org/docs/2.2/mod/mod_rewrite.html)的信息，则应添加重写规则，该规则将重写`/search/xyz`为`index.php?search=xyz`：

```
RewriteEngine on 
Options +FollowSymlinks
RewriteBase / 

RewriteRule ^search/(.*) index.php?search=$1 [R] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T07:04:58.657

您可以在表单的 onsubmit 功能中执行此操作

```
<form onsubmit="myFunc();">  
.. 
```

在js中：

```
function myFunc(){  
  var search_input = document.getElementById("search_input_id");
  window.location = "http://www.yoursite.com/search/"+search_input.value;} 
```

我不确定这会奏效，但你明白了。

UPD：在你的情况下：`<button onclick="muFunc();">`

如果您的意思是“如何将 'http://www.yoursite.com/search/search_term' 重定向到 index.php?search=search_term ”，Ruben Nagoga 是 100% 正确的

# java - eclipse：用 if 包围块

> ID：13172310
> 
> 赞同：9
> 
> 时间：2012-11-01T06:53:06.790
> 
> 标签：java, eclipse

在 Eclipse 中，我们可以用 try/catch 包围一段代码。我想用 if 语句包围一段代码。有没有快捷键。选择代码块后按`Ctrl`+`1`并没有提示我用`If`.

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-11-01T06:56:18.630

突出显示代码块，按`Alt`+ `Shift`+ `Z`，然后选择 if (3)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-01T07:03:26.057

在 Eclipse 伽利略

1.  选择代码并右键单击它
2.  `Surround with`从上下文菜单中选择选项
3.  选择`if statement`。

# php - 从 2 个不同的表中选择行

> ID：13172312
> 
> 赞同：-1
> 
> 时间：2012-11-01T06:53:25.987
> 
> 标签：php, mysql

有这样的桌子

```
Table "checklist"
idCardno
name
permAddress
datetime

Table "persons"
name
idcardno
photo 
```

现在我想要我的 sqlquery

```
idCardno    |  name    | permAddress   | photo   
-----------------------------------------------
A123456     | John Doe | 302 xyz       | 1.gif 
```

照片应该是idcardno的对应照片。

我怎样才能达到这样的结果？我的 sql 查询会是什么？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:00:22.637

```
select checklist.idCardno as idCardno, checklist.name as name, permAddress, photo
from checklist, persons 
where checklist.idCardno = persons.idCardno 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T06:56:40.817

您可以使用 JOIN

```
SELECT checklist.idCardno, checklist.name, permAddress, photo 
FROM checklist JOIN persons 
ON checklist.idCardno = persons.idcardno 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-01T06:56:58.477

```
SELECT
   C.IDCARDNo
 , C.name
 , C.permAddress
 , P.Photo
FROM checklist C 
INNER JOIN persons P ON C.Idcardno = P.idCardno 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-01T06:57:29.893

你需要使用[**JOIN**](http://dev.mysql.com/doc/refman/5.0/en/join.html)

```
select  C.idCardno,
        C.name,
        C.permAddress,
        P.photo   
from checklist C
join persons P
on   C.idCardno=P.idCardno 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-01T06:58:28.707

如果`idCardno <-> idcardno`是两个表之间的共享键，并且您想要输出的名称是来自人员的名称，则只需使用 JOIN：

```
SELECT c.idCardno, p.name, permAddress, photo FROM checklist c JOIN persons p ON c.idCardno = p.idcardno 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-01T07:02:07.923

从清单中选择 c.idCardno, c.name,c.permAddress,p.photo 作为 c 离开人员作为 p on c.idCardno=p.idCardno

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-11-01T06:59:21.403

使用加入：

```
select 
C.idCardno,C.name,C.permAddress,P.photo   
from checklist C
join persons P
on C.idCardno=P.idCardno 
```

参考链接参考：[加入](http://beginner-sql-tutorial.com/sql-joins.htm)

# c# - 如果找到，则在 xml 中搜索包含替换整个节点

> ID：13172319
> 
> 赞同：1
> 
> 时间：2012-11-01T06:54:12.937
> 
> 标签：c#, asp.net, xml

我的 xml 文件：

```
<?xml version="1.0" encoding="utf-8"?>
<layout name="layout">
  <section name="Header">
    <placeholder name="headers" width="30" class="header">sam,pam</placeholder>
  </section>
  <section name="Content">
    <placeholder name="RightA" width="55">location</placeholder>
  </section>
</layout> 
```

如果它包含，我想替换整个节点`sam`。如果节点包含`sam`我想重写节点意味着：

```
<placeholder name="headers" width="4,5,91">sam,sam2,pam</placeholder> 
```

代替：

```
<placeholder name="headers" width="30" class="header">sam,pam</placeholder> 
```

在 C# 中：

```
XmlDocument doc = new XmlDocument();
string sFileName = @"FileNameWithPath";
doc.Load(sFileName );
foreach (XmlNode ....... )
{
    //Need help hear how to loop and replace.
} 
```

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:45:08.143

```
XmlDocument xmlDoc = new XmlDocument();
 xmlDoc.Load("Path");
 XmlNodeList nodeList = xmlDoc.SelectNodes("section") ;

 foreach (XmlNode node in nodeList)
   {
      XmlNode childNode = node.SelectSingleNode("placeholder");
        if (childNode.Value.Contains("sam"))
          {
              childNode.Value = "sam,pam,sam2";
              childNode.Attributes["width"].Value = "4,5,91";

           }
   }

 xmlDoc.Save("Path"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:20:53.723

尝试使用 XDocument 更好地控制查找和替换。

```
XDocument myDocument = XDocument.Load("path to my file");
foreach (XElement node in myDocument.Root.Descendants("placeholder"))
{
    if (node.Value.Contains("same"))
    {
        XElement newNode = new XElement("placeholder");
        newNode.Add(new XAttribute("header", node.Attribute("header").Value); // if you want to copy the current value
        newNode.Add(new XAttribute("width", "some new value"));
        node.ReplaceWith(newNode);
    }
} 
```

# c# - 线程顺序同步

> ID：13172322
> 
> 赞同：1
> 
> 时间：2012-11-01T06:54:26.103
> 
> 标签：c#, multithreading

假设我有一个任务队列，每个任务都有一个控制共享资源访问的锁定对象（syncObject），队列可以有多个共享相同同步对象实例的任务。而且我有 N 个并发线程应该使任务出队并按队列顺序处理它们，这意味着按队列顺序获取同步对象的锁定。

代码说明：

```
abstract class Task
{
    public readonly Object SyncObject = new Object();
}

Queue<Task> taskQueue = new Queue<Task>();
Object queueLock = new Object();

void TakeItemThreadedMethod()
{
    Task task;
    lock(queueLock) task = taskQueue.Dequeue();
    //Between this lines is my problem,
    //Other thread can dequeue next task and it may share same syncObject and
    //acquire lock on it before this thread, thought this task was first in queue
    lock(task.SyncObject)
    {
        //Do some work here
    }
} 
```

**如何开始处理按队列中的顺序共享相同 SyncObject 的任务（获取 Task.SyncObject 锁）。**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T08:37:43.213

这种方法怎么样：

*   使用列表而不是队列
*   让每个工作线程按顺序循环通过队列，直到找到“解锁”任务

类似（未经测试）：

```
abstract class Task
{
    public readonly Object SyncObject = new Object();
}

List<Task> taskList = new List<Task>();

void TakeItemThreadedMethod()
{
    Task task = null;
    bool found = false;

    try
    {
        // loop until found an task whose SyncObject is free
        while (!found)
        {
            lock (taskList)
            {
                for (int i = 0; i < taskList.Count; i++)
                {
                    object syncObj = taskList[i].SyncObject;
                    if (found = Monitor.TryEnter(syncObj))
                    {
                        for (int x = 0; x < taskList.Count; x++)
                        {
                            if (Object.ReferenceEquals(
                                    syncObj, taskList[x].SyncObject))
                            {
                                task = taskList[x];
                                taskList.RemoveAt(x);
                                break;
                            }
                        }
                        break;
                    }
                }
            }
        }

        // process the task...
        DoWork(task);
    }
    finally
    {
        if (found) Monitor.Exit(task.SyncObject);
    }
}

void QueueTask(Task task)
{
    lock (taskList)
    {
        taskList.Add(task);
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-01T07:15:47.840

听起来您的队列可能不应该包含单个任务-而是任务队列，其中每个子队列都是“共享同步锁的所有任务”。

因此，您的处理器将：

*   从主队列中取出一个子队列
*   从子队列中取出第一个任务并处理它
*   *完成后*，将子队列放回主队列的末尾（或任何地方，实际上 - 确定您希望调度如何工作）

这将确保每个子队列一次只执行一个任务。

您可能需要从锁到子队列的映射，以便任何*创建*工作都可以将其添加到正确的子队列中。假设您完全需要该功能，您需要自动计算何时从地图中删除子队列（而不是将其放回主队列）。

编辑：作为对上述内容的优化，您可以将子队列本身放入您用作共享同步锁的任何内容中。它可以引用“*下*一次执行的单个任务”*或*“任务队列”——只是懒惰地创建队列。然后，您将同步锁（实际上不再需要用作锁）放在队列中，每个消费者只会要求它执行下一个任务。如果只有一个任务可用，则返回它（并将“下一个任务”变量设置为 null）。如果有多个任务可用，则将第一个任务出列。

 *当*生产者*添加新任务时，如果“第一个任务”变量之前为空，则将其设置为要执行的任务，或者如果没有队列但已经是任务，则创建队列，或者队列是如果已经存在，则添加。这解决了不必要的队列创建的低效率。

同样，棘手的部分将是解决如何以原子方式丢弃共享资源锁 - 因为您只想在处理最后一项*后*这样做，但同样您不想错过任务，因为您碰巧将它添加到错误的时间。它不应该太糟糕，但同样你需要仔细考虑它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-01T08:28:52.090

我使用[了 Matthew Brindley 建议的 QueuedLock 类](https://stackoverflow.com/a/961904/235715)，稍作修改后，我将 Enter 函数拆分为 TakeTicket 和 Enter 哪些块。

现在我可以在共享 QueueLock 中使用 TakeTicket 而不会阻塞整个队列。

修改后的代码：

```
abstract class Task
{
    public readonly QueuedLock SyncObject = new QueuedLock();
}

Queue<Task> taskQueue = new Queue<Task>();
Object queueLock = new Object();

void TakeItemThreadedMethod()
{
    Task task;
    int ticket;
    lock(queueLock) 
    {
        task = taskQueue.Dequeue();
        ticket = task.SyncObject.TakeTicket();
    }
    task.SyncObject.Enter(ticket);
    //Do some work here
    task.SyncObject.Exit();
} 
```*

# c# - 获取上下文菜单的父控件。WPF 应用程序

> ID：13172324
> 
> 赞同：1
> 
> 时间：2012-11-01T06:54:28.480
> 
> 标签：c#, .net, wpf, wpf-controls, contextmenu

我在 wpf 应用程序的代码后面添加了一些标签控件的上下文菜单中有一个 ComboBox 控件。页面上有许多具有上下文菜单的标签。基本上就像这个**LABEL 包含 ContextMenu**和**ContextMenu 包含 Combobox**。在 Combobox 的 SelectionChanged 事件中，我想知道哪个标签的 contextmenu 的 Combobox 生成了这个事件？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T08:28:52.120

`sender`您可以从事件处理程序中的参数获取 ComboBox 。

然后，您可以从`Parent`ComboBox 上的属性中获取 ContextMenu。

最后是来自`PlacementTarget`ContextMenu 上的属性的标签。

```
public partial class MainWindow : Window
{
    public MainWindow()
    {
        InitializeComponent();

        var label = new Label();
        label.Content = "Click me!";
        label.Name = "clickMe";
        this.Content = label;

        var cmb = new ComboBox();
        cmb.Name = "combobox1";
        cmb.Items.Add("Test1");
        cmb.Items.Add("Test2");
        cmb.Items.Add("Test3");
        cmb.SelectionChanged += new SelectionChangedEventHandler(cmb_SelectionChanged);

        var menu = new ContextMenu();
        menu.Name = "contextmenu";
        menu.Items.Add(cmb);

        label.ContextMenu = menu;
    }

    private void cmb_SelectionChanged(object sender, SelectionChangedEventArgs e)
    {
        var cmb = (ComboBox)sender;
        var contextmenu = (ContextMenu)cmb.Parent;
        var label = (Label)contextmenu.PlacementTarget;

        MessageBox.Show("Combobox: " + cmb.Name + Environment.NewLine +
                        "Contextmenu: " + contextmenu.Name + Environment.NewLine +
                        "Label: " + label.Name);
    }
} 
```

# android - Listview中的GridView刷新后显示不好

> ID：13172328
> 
> 赞同：1
> 
> 时间：2012-11-01T06:54:41.453
> 
> 标签：android

我添加了一个gridview作为listview的headerview，当我更改gridview的内容时，它的高度没有改变，我只能看到gridview的一部分新内容。我尝试过无效，但它不起作用。在gridview中，我单击更多按钮，然后更改gridview的适配器，但我只能看到gridview的一部分新内容，当我调用geidview.getHeight，（）时，它没有改变

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T08:13:31.257

gridView.getHeight() 不会返回 gridView 的高度。它会返回 0。这是因为 gridView 只有在视图被渲染后才会被布局。您可以查看 android 文档。

如果要添加标题，请在 gridView 上设置 minHeight ，例如：

```
<GridView
    android:minHeight="5dp" /> 
```

这将确保标头的 minHeight 为 5dp。

# eclipse - Eclipse 在启动 Android 模拟器时显示“无法创建可绘制对象”

> ID：13172329
> 
> 赞同：2
> 
> 时间：2012-11-01T06:54:44.917
> 
> 标签：eclipse, android-emulator

我刚刚将我的 ADT 版本从 15 更新到 20，并且在从 AVD 管理器启动我的任何模拟器时，Eclipse 显示“无法创建可绘制对象”。你能告诉我这是什么原因吗？我应该怎么做才能解决这个问题？

谢谢你。

# python - 在 django python 中使用原始 sql

> ID：13172331
> 
> 赞同：0
> 
> 时间：2012-11-01T06:54:56.230
> 
> 标签：python, django

对于 Django 中的自定义查询，我几乎没有什么要求

1.  我需要在查询中使用数据库表名还是只使用模型名
2.  如果我需要加入原始 sql 中的各种表。我需要使用数据库字段名称或模型字段名称吗

`Person.objects.raw('SELECT id, first_name, last_name, birth_date FROM Person A inner join Address B on A.address = B.id ')`

`or B.id = A.address_id`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T06:58:03.230

您需要在原始查询中使用数据库的表和字段名称——您提供的字符串将被传递给数据库，而不是由 Django ORM 解释。

# html - 如何在 IE、Firefox、Chrome、

> ID：13172337
> 
> 赞同：0
> 
> 时间：2012-11-01T06:55:25.390
> 
> 标签：html

如何在 IE、Firefox、Chrome 中播放视频（MP4 格式）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T08:25:19.107

您还可以使用 windows 媒体播放器对象标签

```
<object width="100%" height="100%"
type="video/x-ms-asf" url="Video/Home.mp4" data="Video/Home.mp4"
classid="CLSID:6BF52A52-394A-11d3-B153-00C04F79FAA6">
<param name="url" value="Video/Home.mp4">
<param name="filename" value="Video/Home.mp4">
<param name="autostart" value="1">
<param name="uiMode" value="full">
<param name="autosize" value="1">
<param name="playcount" value="1"> 
<embed type="application/x-mplayer2" src="Video/Home.mp4" width="100%" height="100%"       autostart="true" showcontrols="true"  pluginspage="http://www.microsoft.com/Windows/MediaPlayer/"></embed>
</object> 
```

此外，如果浏览器没有插件来播放它，它会提示您下载一个特定于您的浏览器的插件。但是没有其他方法可以创建没有插件的跨浏览器播放器（据我所知）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:02:10.457

使用`<video>`标签嵌入视频

[http://www.w3schools.com/html/html_videos.asp](http://www.w3schools.com/html/html_videos.asp)

# php - Find time zone from date time

> ID：13172341
> 
> 赞同：3
> 
> 时间：2012-11-01T06:55:48.900
> 
> 标签：php, timezone

I have a string like `Sat, 27 Oct 2012 23:47:57 -0700` and I want to get corresponding timezone of `-0700` like `PST` ,`UTC` etc..

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-01T07:01:41.527

Fundamentally, you can't. You've currently just got an *offset* from UTC... and that could map to multiple time zones. You could create a fixed-offset time zone, of course - but that's not the same thing as "the time zone the user was originally in when this date/time value was generated" which is what I suspect you want.

You could see step through *every* time zone and see whether it's valid in each one - but you'll need to be careful due to some times which are ambiguous. For example, on Sunday in the UK, both "Sun, 28 Oct 2012 01:30:00 +0100" and "Sun, 28 Oct 2012 01:30:00 +0000" would have been valid. You probably want to work out the absolute UTC instant, and check what the offset for that instant would have been in the candidate time zone. If that offset is the same as the one you started with, that time zone is *one* of the ones which fits.

Quite what you'll want to do if you find multiple time zones which fit, I don't know - we don't really have enough context to give advice.

# google-chrome - Javascript 功能在 Google Chrome 中不起作用？

> ID：13172343
> 
> 赞同：0
> 
> 时间：2012-11-01T06:55:56.710
> 
> 标签：google-chrome, javascript

```
function showMe(id_show_element) {
    document.getElementById(id_show_element).style.display = '';
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T08:20:38.937

```
<script type="text/javascript">    function showNhide(val,element_id) {    if(val == 'Others')    {    document.getElementById(element_id).style.display = '';    }    else    {    document.getElementById(element_id).style.display = 'none';    }    }    </script>

<select name="degrees" onchange="showNhide(this.options[this.selectedIndex].value, 'others_details');">    <option value="">Select Degree</option>    <option value="O-Level">O-Level</option>    </select>    <span id="others_details" style="display:none">    <input type="text" name="others_degree" value="" />    </span> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:13:57.530

您的 javascript 代码中应该还有其他错误，以下是我隐藏元素的示例：

```
 document.getElementById('dropdownListId').style.display = 'none'; 
```

为了显示这个元素，我使用以下代码

```
 document.getElementById('dropdownListId').style.display = ''; 
```

我认为您的代码中还有其他 javascript 错误，请分享一小段代码。

# text - NSTextView 将调整大小，但父 NSScrollView 不使用 setFrameSize 调整大小

> ID：13172347
> 
> 赞同：1
> 
> 时间：2012-11-01T06:56:11.420
> 
> 标签：text, resize, nstextview, nsscrollview

首先让我说我来自 iOS 世界，正在尝试制作我的第一个 OSX 应用程序。因此，如果答案很明显，请为这个问题道歉。:)

我正在尝试设置一个 NSTextView 以根据其中的文本量调整大小。我已经成功地让 NSTextView 正确调整大小，但它的超级视图（NSScrollView）不会调整大小。

这是我目前所拥有的......

```
[self.messageBodyTextView setVerticallyResizable:YES];

[self.messageBodyTextView.layoutManager ensureLayoutForTextContainer:self.messageBodyTextView.textContainer];
[self.messageBodyTextView.layoutManager boundingRectForGlyphRange:NSMakeRange(0, [self.messageBodyTextView.layoutManager numberOfGlyphs]) inTextContainer:self.messageBodyTextView.textContainer];

NSRect rect = [self.messageBodyTextView.layoutManager usedRectForTextContainer:self.messageBodyTextView.textContainer];

[self.messageBodyTextView.textContainer setContainerSize:rect.size];

[self.messageBodyTextView setMaxSize:NSMakeSize(self.messageBodyTextView.bounds.size.width, rect.size.height)];

[self.messageBodyTextView.textContainer setHeightTracksTextView:YES];

[self.messageBodyScrollView.documentView setFrameSize:rect.size];
[self.messageBodyScrollView.documentView setFrame:rect];
[self.messageBodyScrollView setFrameSize:rect.size]; 
```

self.messageBodyTextView 调整所有这些代码的大小就好了（我感觉那里有一堆冗余代码）。但是 self.messageBodyScrollView 要么根本不调整大小，要么如果我尝试使用 setBounds 那么它不仅将 messageBodyTextView 调整为 messageBodyScrollView 的完整大小，而且还会拉伸里面的文本。

注意：messageBodyTextView 和 messageBodyScrollView 都作为 IBOutlets 附加到我的 IB 文档中。

我的代码过去要短得多，但这是我通过添加我能找到的任何东西来使这两个视图匹配的地方。

任何帮助将不胜感激！

# qt - 定时器不能正常工作

> ID：13172355
> 
> 赞同：0
> 
> 时间：2012-11-01T06:56:25.837
> 
> 标签：qt, animation, timer, qml, qt-quick

我们必须制作由滑块组成的进度条，随着滑块的前进，进度条具有颜色过渡，如下图所示。

![进度条](../Images/5bfb5c5532e91921bae6d6c3b3cfefa4.png)

我尝试了以下逻辑，但无法获得预期的效果。任何帮助或建议如何实施。

下面是我的代码片段

```
import QtQuick 1.1

Rectangle {
    id: container

    width: 500; height: 400

    Row {
        id:repeaterid
        x: 75
        y: 280
        anchors.bottom: parent.bottom
        anchors.bottomMargin: 114
        spacing: 4
        Repeater {
            model: 50
            Rectangle {
                id: smallrect
                color: "red"
                width:4
                height:4
            }
        }
    }

    Timer {
        id: progressTimer
        interval: 50
        running: true
        repeat: true
        onTriggered: {
            if (slider.x < 460)
            {
                slider.x += repeaterid.spacing + 4
                smallrect.color = "green"
            }
        }
    }

    Rectangle {
        id: slider
        x: repeaterid.x
        y: repeaterid.y
        width: 6; height: 6
        color: "blue"
    }
} 
```

我曾尝试使用 ColorAnimation，但运气不错。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T08:12:02.320

计时器工作正常。问题完全不同：您尝试`smallrect`在`onTriggerd`处理程序中访问，在`Repeater`. 尝试以更具声明性的方式解决问题：

*   在 中使用整数属性`container`来存储进度条的当前位置
*   在`smallrect`使用该属性的值来设置颜色（`index < position? "green":`... ）
*   使用 a`Timer`或更好的 a`NumberAnimation`来更新该属性
*   摆脱`slider`矩形，只需将正确的矩形设为`Repeater`蓝色

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T08:12:11.773

要访问中继器中的项目，您可以使用**itemAt(index)**函数。这将允许您更改中继器子级的颜色。我还添加了一个**indexCurrent**属性来跟踪当前索引。

试试这个代码：

```
import QtQuick 1.1

Rectangle {
  id: container

  width: 500; height: 400

  property int indexCurrent: 0

  Row {
    id:repeaterid
    x: 75
    y: 280
    anchors.bottom: parent.bottom
    anchors.bottomMargin: 114
    spacing: 4
    Repeater {
        id: repeater
        model: 50
        Rectangle {
            id: smallrect
            color: "red"
            width:4
            height:4
        }
    }
  }

  Timer {
    id: progressTimer
    interval: 50
    running: true
    repeat: true
    onTriggered: {
        if (slider.x < 460)
        {
            slider.x += repeaterid.spacing + 4
            repeater.itemAt(indexCurrent).color = "green"
            indexCurrent = indexCurrent + 1
        }
    }
  }

  Rectangle {
    id: slider
    x: repeaterid.x
    y: repeaterid.y
    width: 6; height: 6
    color: "blue"
  }
} 
```

# java - 立即打印 PrintWriter 或 OutputStreamWriter

> ID：13172361
> 
> 赞同：1
> 
> 时间：2012-11-01T06:56:39.300
> 
> 标签：java, io, printwriter

有没有办法在调用方法后立即制作`PrintWriter`或`OutputStreamWriter`打印？`.write`我已经`autoFlush`开启了`PrintWriter`。然而，对于这两个类，只有在编写器关闭时才会打印内容。

对于它的价值，我使用`Writer`s 是因为我需要对控制台输出、文件输出和字符串输出进行抽象。

谢谢！

**编辑：**

显示问题的[SSCCE ：](http://sscce.org/)

```
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.OutputStreamWriter;
import java.io.PrintWriter;
import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        PrintWriter p = new PrintWriter(System.out, true);
        Scanner read = new Scanner(System.in);
        while (read.hasNextLine()) {
            String input = read.nextLine();
            if (input.equals("end"))
                break;
            p.write(input);
        }
        p.close();
    }
}

/* Sample run: (first four lines are input)
cow
mow
pow
end
cowmowpow
*/ 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-01T07:06:40.403

`autoFlush`构造函数参数的文档说：

> 一个布尔值；如果为 true，println、printf 或 format 方法将刷新输出缓冲区

鉴于您没有使用任何这些方法，因此它没有帮助也就不足为奇了。

最简单的方法是[`flush()`](http://docs.oracle.com/javase/7/docs/api/java/io/Writer.html#flush%28%29)在每次之后手动调用`write`- 毕竟这就是你想要实现的目标。我不知道有什么东西会在每次写入后默认使写入器刷新。

当然，您可以编写自己的包装类 - 相当于`BufferedWriter`，但效果相反。它可以将所有方法委托给包装的编写器，然后立即调用`flush()`。

# c++ - 在 .cpp 中调用 .o 文件的函数时的编译问题

> ID：13172363
> 
> 赞同：0
> 
> 时间：2012-11-01T06:56:41.157
> 
> 标签：c++, c, makefile

我有一个具有函数的 temp1.c 文件

```
int add(int a, int b){ return (a+b); } 
```

和 temp1.h 文件

```
int add(int,int) 
```

我通过编译从它创建了 .o 文件

g++ -o temp1.o -c temp1.cpp

现在我必须使用放置在不同目录中的 temp2.​​cpp 中的 add 函数。我已经做好了

```
#include "temp1.h"
int main(){
int x = add(5,2);
} 
```

我必须用 temp1.o 编译 temp2.​​cpp，这样我才能创建一个可以调用函数 add 的 temp2.​​exe。如何编译它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:00:40.173

```
 g++ temp2.cpp temp1.o -o temp2.exe 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T07:01:47.427

像这样：

```
temp2: temp1.o temp2.o
     g++ temp1.o temp2.o -o temp

temp1.o: temp1.cpp
     g++ -c temp1.cpp -o temp1.o

temp2.o: temp2.cpp
     g++ -c your/path/to/temp2.cpp -o temp2.o 
```

# macos - 如何从谷歌代码网站下载示例代码？

> ID：13172368
> 
> 赞同：0
> 
> 时间：2012-11-01T06:57:02.263
> 
> 标签：macos, google-code

我从过去一个小时开始浏览这个`Google code` [链接](http://gdata-objectivec-client.googlecode.com/svn/trunk/Examples/)，找不到下载示例代码文件夹的方法。当我点击任何一个文件夹时，它会带我进去，并显示所有文件，点击任何一个文件后，它将显示文件的内容！而是在那里打开它，我想下载它。如何下载这些示例文件夹？我已经谷歌了它，当人们谈论 SVN 和通过命令行工具传递的命令时，我对此一无所知，有没有最简单的方法来获得这个？谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-01T07:02:06.753

如果您使用的是 Linux，您可以通过发出这样的命令来检查代码：

```
svn co https://gdata-objectivec-client.googlecode.com/svn/trunk 
```

或者，如果您使用的是 Windows，请下载 SVN 客户端程序，例如[Tortoise SVN](https://encrypted.google.com/url?sa=t&rct=j&q=tortoise%20svn&source=web&cd=2&cad=rja&ved=0CCQQjBAwAQ&url=http://tortoisesvn.net/downloads.html&ei=-B2SULOdKMyviQelzIGYDw&usg=AFQjCNFmD-Olcg_ZJKVLxjE8XMiL16LhDQ)，安装它并按照[本指南](http://tortoisesvn.net/docs/release/TortoiseSVN_en/tsvn-dug-checkout.html)下载您想要的代码。对于 MAC OSX，您可以使用[本指南](http://www.collab.net/downloads/subversion)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T07:00:10.940

最简单的方法是使用命令：

```
svn checkout http://gdata-objectivec-client.googlecode.com/svn/trunk/ gdata-objectivec-client-read-only 
```

当然，您必须先安装一个 SVN 客户端。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-01T07:02:16.457

如前所述，正确的方法是使用颠覆客户端。很简单，安装它并执行命令 svn co http://...

您还可以使用一些工具，例如 wget 或任何其他允许您下载 Web 文件和文件夹的工具。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-11-01T07:04:18.530

如果你使用 wget 你可以使用以下命令

```
wget -m -np http://gdata-objectivec-client.googlecode.com/svn/trunk/ 
```

有关更多信息，请参阅以下问题

[下载 SVN 存储库？](https://stackoverflow.com/questions/8386894/download-an-svn-repository)

[https://stackoverflow.com/questions/1192310/an-online-subversion-client](https://stackoverflow.com/questions/1192310/an-online-subversion-client)

[如何使用 SVN/Tortoise 从 Google Code 下载代码？](https://stackoverflow.com/questions/41766/how-do-i-download-code-using-svn-tortoise-from-google-code?rq=1)

# node.js - 如何使用回调在 mongoose 中填充 schemaref？

> ID：13172376
> 
> 赞同：0
> 
> 时间：2012-11-01T06:57:34.903
> 
> 标签：node.js, express, mongoose

我有一个从 mongoose 检索到的项目列表，每个项目都引用了一个列表对象，但我需要以某种方式填充与每个列表关联的 item.list.user 对象，以便我可以在模板中将它们用作 item.list.user.username。

```
Item.find().populate('list').exec(function(err, items){
  items.forEach(function(item){
    User.findById(item.list.user), function(err, user){
      item.list.user = user;
    });
  });

 //how to get back here from User.findById() so I can render?
 res.render('index', { items: items });
}); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-01T07:19:11.427

有几种方法可以解决这个问题。主要问题是您假设在呈现模板时将填充数据。情况并非总是如此，您可以并且应该始终假设任何时候您执行异步函数，除非您等到每个函数调用完成，否则它不会完成。

这是一种确保数据可用于渲染的简单方法。

```
Item.find().populate('list').exec(function (err, items) {
  var len = items.length
    , populatedItems = [];
  items.forEach(function(item, i){
    User.findById(item.list.user, function (err, user) {
      item.list = item.list.toObject();
      item.list.user = user;
      populatedItems.push(item);
      if (i + 1 === len) {
        res.render('index', { items: items });
      }
    });
  });
}); 
```

虽然这不是很有效并且会进行不必要的数据库调用。在我看来，这也更难推理。

```
Item.find().populate('list').exec(function (err, items) {
  var itemMap = {}
  items.forEach(function (item, i) {
    // Map the position in the array to the user id
    if (!itemMap[item.list.user]) {
      itemMap[item.list.user] = [];
    }
    itemMap[item.list.user].push(i)
    item.list = item.list.toObject()
  });
  // Can pull an array of user ids from the itemMap object
  User.find({_id: {$in: Object.keys(itemMap)}}, function (err, users) {
    users.forEach(function (user) {
      itemMap[user._id].forEach(function(id) {
        // Assign the user object to the appropriate item
        items[id].list.user = user;
      })
    });
    res.render('index', { items: items });
  });
}); 
```

在与您就 IRC 和故障排除进行进一步讨论后，以下是针对您的特定情况的工作示例。

```
Item.find().populate('list').exec(function (err, items) {
  var itemIds = [];
  items.forEach(function (item) {
    itemIds.push(item.list.user)
  });
  // Can pull an array of user ids from the itemMap object
  User.find({_id: {$in: itemIds}}, function (err, users) {
    var userMap = {}
    users.forEach(function (user) {
      userMap[user._id] = user
    });
    res.render('index', { items: items, userMap: userMap });
  });
}); 
```

# unicode - Unicode 在软件中的使用

> ID：13172379
> 
> 赞同：0
> 
> 时间：2012-11-01T06:57:58.897
> 
> 标签：unicode

长期以来，我一直被有关使用 Unicode 的问题所困扰。Unicode 允许加速和简化软件的开发（就全球化而言），但我担心以下因素：

1.  增加内存和磁盘空间的使用；
2.  降低文本处理性能；
3.  亚洲语言一视同仁，不利于民族特色。

第一段很明显......但我不知道真实与否。有没有人面临亚洲国家软件本地化的需求，并准备分享经验？

目前我尝试使用窄配置文件的编码（cp1251 - 用于俄罗斯，cp1254 用于土耳其等）。有人会就这个问题提出建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:59:01.883

1.  对数据大小（以字节为单位）的影响受 Unicode 编码的选择和数据类型的影响。例如，使用 UTF-8（网络上唯一有用的 Unicode 编码），英文文本的大小与 8 位编码相同，除了印刷正确的标点符号，每个可能占用两个字节；对于土耳其语文本，任何非 Ascii 字母都是 2 个字节而不是 1 个字节；对于俄语文本，任何西里尔字母都是 2 个字节。在大多数情况下，这无关紧要。
2.  文本处理性能取决于您做什么以及如何做。合理的预期是没有值得担心的问题。如果处理速度足够快，那么使用 8 位编码是否会快 10% 就无关紧要了。
3.  Unicode 统一有其影响，但亚洲语言肯定不会一视同仁。Unicode 标准对亚洲文字和语言中字符的具体处理有很多话要说。如果您指的是不同语言中 CJK 字符的不同形状，那么通常的解决方案是使用为所用语言设计的字体。（此外，当使用 OpenType 字体时，原则上至少也可以在字体内处理。）

查看官方[Unicode 常见问题解答](http://www.unicode.org/faq/)。关于这些问题，它有很多话要说。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T08:27:52.890

增加了文本大小，以下所有内容实际上都是不真实的。

对于 unicode 的老式编码，例如 UTF-16，它们可能是正确的。对于纯 ASCII 字符串，UTF-8 并不比 ASCII 大或慢，但它允许对每个 Unicode 代码点进行编码。UTF-8 也是当今市场上执行 Unicode 的事实上的标准。

[http://www.utf8everywhere.org](http://www.utf8everywhere.org)中对不同 Unicode 编码的性能进行了广泛的分析，包括亚洲语言。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T07:14:34.250

前两点可以忽略不计。您需要有一个非常具体的用例，其中大小和性能的差异会产生明显的差异，从而证明混合编码令人头疼。

关于 Unihan 字符：它们按字符的含义分组，但该字符在不同的书写系统中可能略有不同。这是正确标记语言的问题，而不是真正的编码问题。在 HTML 文档中，您可以使用`lang`属性标记文档和/或使用 CSS 设置特定字体，这将适当地改变语言字符的外观。如何正确处理这取决于软件的类型（HTML、桌面应用程序等）。我建议您就此提出一个新的详细问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-01T07:14:52.363

1.  **增加文字大小**：是的。文本大小最多可增加 6 倍（对于 UTF-8）。但是现在的文本存储已经不是什么大问题了。

2.  **降低文本处理性能**：根据我的观点，没有。一个 UTF-8 字符最多可能占用 6 个字节，但是当扫描文本时，就在 UTF-8 字符的第一个字节处，我们已经知道要读取多少字节（扫描中的当前字符） ）。因此，扫描性能很可能与 O(n) 相同，其中“n”是文本的长度。为了保持最佳性能，尽量不要按索引访问文本中的字符（是的，这是性能下降点）。Java 字符串不受随机索引访问字符串字符的影响，因为 Java 字符串是一系列 2 字节字符。

3.  **亚洲语言一视同仁，不利于民族**特性.

# apache - 在本地 xampp 中设置子域

> ID：13172386
> 
> 赞同：0
> 
> 时间：2012-11-01T06:58:27.727
> 
> 标签：apache

我需要在 xampp 本地机器中设置子域。

这可能吗？

aaa.project1 应该指向 C:/xampp/htdocs/project1 bbb.project1 应该指向 C:/xampp/htdocs/project1

以此类推。

我尝试了我无法实现的不同选择。请帮忙 。

这就是我在 httpd.conf 中所做的

```
<VirtualHost *:80>
DocumentRoot "C:/xampp/htdocs/project1/"
ServerName project1
ServerAlias *.project1 project1
<Directory "C:/xampp/htdocs/project1/">
Order allow,deny
Allow from all
</Directory>
</VirtualHost> 
```

我在 C:\Windows\System32\drivers\etc\hosts 中输入了一个条目

```
127.0.0.1  project1
127.0.0.1  *.project1 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T14:57:34.570

你试过了吗：

```
127.0.0.1  project1
127.0.0.1  aaa.project1
127.0.0.1  bbb.project1 
```

# oracle - 如何根据oracle中的用户输入动态添加列？

> ID：13172390
> 
> 赞同：1
> 
> 时间：2012-11-01T06:58:48.130
> 
> 标签：oracle, add

**如何根据oracle中的用户输入动态添加列？**

我正在根据 from_date 到 to_date 生成月度报告，下面是我的需求示例表

员工代码| 姓名 | CL_TAKEN_DATE | CL_BALANCE | **01-OCT-12** | **2012 年 10 月 2 日** | **03-OCT-12**

* * *

100001.......................约翰............02-OCT-12...... ......6

100001........克里斯............01-OCT-12............ .....4

* * *

根据用户输入，即如果用户需要从 01-OCT-12 到 03-OCT-12 的报告，我需要将该日期作为列添加到我的表中，例如 01-OCT-12 | 2012 年 10 月 2 日 | 03-OCT-12....

下面是我的代码

```
create or replace
procedure MONTHLY_LVE_NEW_REPORT_demo
(
L_BUSINESS_UNIT                 IN SSHRMS_LEAVE_REQUEST_TRN.BUSINESS_UNIT%TYPE,
--L_LEAVE_TYPE_CODE           IN SSHRMS_LEAVE_REQUEST_TRN.LEAVE_TYPE_CODE%TYPE,
L_DEPARTMENT_CODE           IN VARCHAR2,
--L_MONTH                    IN SSHRMS_LEAVE_REQUEST_TRN.LVE_FROM_DATE%TYPE,
L_FROM_DATE                   IN SSHRMS_LEAVE_REQUEST_TRN.LVE_FROM_DATE%TYPE,
L_TO_DATE                   in SSHRMS_LEAVE_REQUEST_TRN.LVE_TO_DATE%type,
MONTHRPT_CURSOR               OUT        SYS_REFCURSOR
)

 AS
 O_MONTHRPT_CURSOR_RPT clob;
v_return_msg clob;
   BEGIN

   IF (L_BUSINESS_UNIT IS NOT NULL
         AND L_FROM_DATE IS NOT NULL
      and L_TO_DATE is not null
    -- AND L_DEPARTMENT_CODE IS NOT NULL
     )
   THEN

   OPEN MONTHRPT_CURSOR FOR

select EMPLOYEE_CODE, EMPLOYEE_NAME AS NAME, DEPARTMENT_CODE AS DEPARTMENT,DEPARTMENT_DESC, CREATED_DATE,

  NVL(WM_CONCAT(CL_RANGE),'') as CL_TAKEN_DATE,    

  case when NVL(SUM(CL2),0)<0 then 0 else (NVL(SUM(CL2),0)) end as CL_BALANCE,

from
(     
SELECT DISTINCT a.employee_code,
    a.EMPLOYEE_FIRST_NAME || ' ' || a.EMPLOYEE_LAST_NAME as EMPLOYEE_NAME,
    a.DEPARTMENT_CODE,
    a.DEPARTMENT_DESC,
    B.LEAVE_TYPE_CODE,
    B.LVE_UNITS_APPLIED,
    B.CREATED_DATE as CREATED_DATE,

    DECODE(b.leave_type_code,'CL',SSHRMS_LVE_BUSINESSDAY(L_BUSINESS_UNIT,to_char(b.lve_from_date,'mm/dd/yyyy'), to_char(b.lve_to_date,'mm/dd/yyyy'))) CL_RANGE,

    DECODE(B.LEAVE_TYPE_CODE,'CL',B.LVE_UNITS_APPLIED)CL1,
    b.status

from SSHRMS_EMPLOYEE_DATA a 
    join 
    SSHRMS_LEAVE_BALANCE C 
    on a.EMPLOYEE_CODE = C.EMPLOYEE_CODE
     and  C.STATUS = 'Y'
    left join 
    SSHRMS_LEAVE_REQUEST_TRN B
    on
    B.EMPLOYEE_CODE=C.EMPLOYEE_CODE  
    and c.EMPLOYEE_CODE = b.EMPLOYEE_CODE
    and B.LEAVE_TYPE_CODE = C.LEAVE_TYPE_CODE
    and B.STATUS in ('A','P','C')  
    and (B.LVE_FROM_DATE >= TO_DATE(L_FROM_DATE, 'DD/MON/RRRR')
    and B.LVE_TO_DATE <= TO_DATE(L_TO_DATE, 'DD/MON/RRRR'))
    join
    SSHRMS_LEAVE_REQUEST_TRN D
    on a.EMPLOYEE_CODE = D.EMPLOYEE_CODE
    and D.LEAVE_TYPE_CODE in ('CL')
    AND D.LEAVE_TYPE_CODE IS NOT NULL

)

group by EMPLOYEE_CODE, EMPLOYEE_NAME, DEPARTMENT_CODE, DEPARTMENT_DESC, CREATED_DATE
;
else
v_return_msg:='Field should not be empty';
 end if;
END; 
```

我的代码实际输出

* * *

## 员工代码| 姓名 | CL_TAKEN_DATE | CL_BALANCE

100001.......................约翰............02-OCT-12...... ......6

100001........克里斯............01-OCT-12............ .....4

* * *

如何根据from_date动态添加列到to_date？

谢谢并恭祝安康，

克里斯·杰罗姆。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T08:25:57.767

线索在问题中：

> “如何在 oracle 中根据用户输入*动态添加列？”*

使用动态 SQL。 [了解更多](http://docs.oracle.com/cd/E11882_01/appdev.112/e25519/dynamic.htm#CACDDACH)。

# gcc - gcc 优化：-O0 有什么作用？

> ID：13172394
> 
> 赞同：0
> 
> 时间：2012-11-01T06:59:05.417
> 
> 标签：gcc

根据 gcc 在线文档，它

```
Reduce compilation time and make debugging produce the expected results. 
This is the default. 
```

那么它是否与完全省略 -O 标志相同？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:01:20.933

根据[GCC 文档](http://gcc.gnu.org/onlinedocs/gcc/Optimize-Options.html)，是的，`-O0`是默认设置。所以这与完全省略标志相同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-06-03T05:57:42.890

`-O0`是默认值。一个额外的说明，如果你想要最好的速度优化，从我读到的，`-O2`实际上是最好的选择。我以为`-O3`是，但它可能会导致问题，所以你知道。此外，不要打开调试构建的优化，因为它可能会破坏它们。

# iphone - 如何允许用户在 iPhone 和 iPad 中选择电话/facetime/email/iMessage

> ID：13172398
> 
> 赞同：0
> 
> 时间：2012-11-01T06:59:22.073
> 
> 标签：iphone, objective-c, ios, ipad

在 iPhone 和 iPad 中，当用户点击电话号码或电子邮件地址时，如何允许用户在适当的地方选择电话/facetime/email/iMessage。请帮助...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:30:25.603

据我了解，您想了解 URL 方案。

[请在Apple Docs](http://developer.apple.com/library/ios/#featuredarticles/iPhoneURLScheme_Reference/Introduction/Introduction.html)上找到参考...

更多链接：[维基](http://wiki.akosma.com/IPhone_URL_Schemes)

[示例项目。](http://mobile.tutsplus.com/tutorials/iphone/ios-sdk-working-with-url-schemes/)

希望对你有效。

# ruby-on-rails-3 - 如何重用 capistrano unicorn 中的变量

> ID：13172399
> 
> 赞同：2
> 
> 时间：2012-11-01T06:59:25.240
> 
> 标签：ruby-on-rails-3, capistrano, unicorn

我用某些变量配置了我的 deploy.rb。例如

```
set :application, "rails3" 
```

我正在使用配置如下的独角兽服务器部署我的应用程序

> 配置/独角兽/development.rb

在这个文件中，我配置了变量 pid_path = "/home/user/#{application}"。

如何重用 deploy.rb 中的值

# javascript - Javascript删除元素样式

> ID：13172402
> 
> 赞同：1
> 
> 时间：2012-11-01T06:59:44.683
> 
> 标签：javascript, css

> **可能重复：**
> [如何使用 javascript 删除 css 属性？](https://stackoverflow.com/questions/2027935/how-to-remove-css-property-using-javascript)

当我这样做时，我正在用 js 修改元素溢出：

```
document.body.style.overflow = 'hidden'; 
```

元素变为：

```
<body style="overflow: hidden;"></body> 
```

之后我想将元素转回：

```
<body style=""></body> 
```

我不想将溢出更改为任何内容，只需从元素样式中删除溢出，使其回退到 style.css。我试过了：

```
document.body.style.overflow = ''; 
```

这没有任何作用。如何才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T07:04:15.433

你可以这样做

```
document.body.setAttribute('style',''); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T07:05:26.693

只需像这样清除`style`属性：

```
document.body.setAttribute("style", ""); 
```

请记住，CSS 可以来自许多部分（样式属性、外部样式表、HTML 标记和 javascript）！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-01T07:18:44.087

假设您只是尝试更改当前属性（即使只是简单地取消设置它），这将导致问题。问题似乎是空字符串不被视为 CSS 属性的合法值，因此不会添加到`style`属性中。

在 Chromium 中，这可以解决，但只能显式声明属性的新值，即使仅使用`auto`关键字也是如此。考虑到这一点，一种方法如下：

```
var propStates = {
    // define the states, I'm only using two for a 'toggle'
    // approach, adjust to taste.
    'overflow': ['hidden', 'auto'],
    'display': ['block', 'auto']
}

function removeCSSProperty(el, prop) {
    if (!el || !prop) {
        return false;
    }
    else {
        // el can be either a node-reference *or* a string containing
        // the id of the element to adjust
        el = el.nodeType == 1 ? el : document.getElementById(el);
        var current = window.getComputedStyle(el, null)[prop];
        el.style[prop] = propStates[prop][0] == current ? propStates[prop][1] : propStates[prop][0];
    }
}

document.getElementById('adjust').onclick = function() {
    removeCSSProperty('test', 'overflow');
};​ 
```

[JS 小提琴演示](http://jsfiddle.net/davidThomas/49b5h/)。

这种方法需要浏览器理解该`window.getComputedStyle()`功能，*不*支持 IE <9（虽然它确实有`currentStyle`，但效果似乎大致相同）。

# php - 将照片发布到 facebook 适用于 $_FILES[]["tmp_name"] 但不适用于本地文件路径？

> ID：13172403
> 
> 赞同：1
> 
> 时间：2012-11-01T06:59:44.303
> 
> 标签：php, facebook, facebook-graph-api, photo

我无法使用 facebook api 将照片发布到页面的墙上。如果我通过 php 上传文件并使用 $_FILES[]["tmp_name"] 作为我的 $filelocation 它工作正常。但是，如果我将 $filelocation 更改为本地文件路径（ /tmp/1351750505-24d.jpg ），它将不起作用。

我已经给了我的 /tmp dir 777 并确保我的文件也是 777 以消除任何权限问题。我还使用了多个文件来确保它不仅仅是一个文件的问题。

我唯一的另一个想法是这可能是 php.ini 中的随机设置，但我没有看到任何明显的东西。

错误日志：

```
[Thu Nov 01 06:52:13 2012] [error] [client 66.x.x.x] {"error":{"message":"(#1) An unknown error occurred","type":"OAuthException","code":1}}, referer: http://origin.example.com/adder/index.php
[Thu Nov 01 06:52:13 2012] [error] [client 66.x.x.x] $filelocation = /tmp/1351752730-24e.jpg, referer: http://origin.example.com/adder/index.php

[ec2-user@ip-10-x-x-x adder]$ ll /tmp/1351750505-24d.jpg
-rwxrwxrwx 1 apache apache 331 Nov  1 06:15 /tmp/1351750505-24d.jpg

$facebook->setFileUploadSupport(true);
$post_id = "";

try
{
    $post_id = $facebook->api("/$page_id/photos", 'POST',
                                array(
                                    'source' => '@' . $filelocation,
                                    'message' => $name
                                 ));
    error_log("\$filelocation = " . $filelocation);
} catch (FacebookApiException $e)
{
    $result = $e->getResult();
    error_log(json_encode($result));
    $post_id["id"] = "FAIL!";
    error_log("\$filelocation = " . $filelocation);

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T23:12:11.397

当我设置它时`$filelocation`，可以很好地`/tmp/somefile.jpg`发布本地路径/文件。我注意到您的代码和我的代码之间的一个区别：我在 POST 调用中包含了页面访问令牌：

```
$local_path = '/tmp/water96x96.jpg';

$args = array(
  'access_token' => $page_info['access_token'],
  'message' => 'Testing photo upload via SDK!',
  'source' => '@'.$local_path,
);

$post_id = $facebook->api('/'.$page_id.'/photos', 'post', $args); 
```

要获取页面访问令牌，我会：

```
$page_info = $facebook->api('/'.$page_id.'?fields=access_token'); 
```

登录用户是具有`manage_pages`权限的页面管理员。

# c# - Monocross 平台适合开发简单的数学逻辑游戏吗？

> ID：13172406
> 
> 赞同：2
> 
> 时间：2012-11-01T06:59:55.850
> 
> 标签：c#, mono, monocross

我是**monocross**平台的新手，我想为支持**Iphone**和**Android**的儿童开发一个简单的 MathLogic 游戏，所以我想知道 Monocross 是适合开发的平台还是有什么缺点？

请给我建议。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T07:39:28.803

对于 MonoCross 的帮助和建议，请尝试他们的 Google Group - [https://groups.google.com/forum/?fromgroups#!forum/monocross-developers](https://groups.google.com/forum/?fromgroups#!forum/monocross-developers)

他们在那个群体中比在这里活跃得多。

但是，我建议你在你的问题中解释更多 - 我不知道“一个简单的儿童数学逻辑游戏”是什么 - 一些粗略的截图可能会有所帮助。

* * *

对于更一般的游戏，也可以考虑 MonoGame - [http://monogame.codeplex.com/](http://monogame.codeplex.com/)

# ruby - 无法加载此类文件 -- 1.9.3 上的 osx/cocoa 错误

> ID：13172407
> 
> 赞同：2
> 
> 时间：2012-11-01T06:59:55.677
> 
> 标签：ruby, macos, ruby-cocoa

我在使用 osx-trash 时遇到以下错误。

我正在使用 ruby​​ 1.9.3dev（2011-09-23 修订版 33323）[x86_64-darwin12.2.0]

```
$ gem install osx-trash 
Successfully installed osx-trash-1.0.0
1 gem installed
Installing ri documentation for osx-trash-1.0.0...
Installing RDoc documentation for osx-trash-1.0.0...

$ touch foo 

$ trash foo 
/Users/vng/.rvm/rubies/ruby-1.9.3-rc1/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require': cannot load such file -- osx/cocoa (LoadError)
    from /Users/vng/.rvm/rubies/ruby-1.9.3-rc1/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
    from /Users/vng/.rvm/gems/ruby-1.9.3-rc1/gems/osx-trash-1.0.0/bin/trash:35:in `<top (required)>'
    from /Users/vng/.rvm/gems/ruby-1.9.3-rc1/bin/trash:19:in `load'
    from /Users/vng/.rvm/gems/ruby-1.9.3-rc1/bin/trash:19:in `<main>'
    from /Users/vng/.rvm/gems/ruby-1.9.3-rc1/bin/ruby_noexec_wrapper:14:in `eval'
    from /Users/vng/.rvm/gems/ruby-1.9.3-rc1/bin/ruby_noexec_wrapper:14:in `<main>' 
```

什么是 osx/可可？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-20T10:20:21.790

该模块的正式名称为 RubyCocoa，它是 Mac OS X 的一个框架，允许在面向对象的脚本语言 Ruby 中进行 Cocoa 编程。

通常 RubyCocoa 应该存在于 /System/Library/Frameworks 中。

可能在升级您的 ruby​​ 之后，他们忘记了 cocoa 绑定，因此请尝试将您的 ruby​​ 升级到最新版本或版本之间存在一些不一致。

您可以尝试通过 ruby​​ 1.8 重新安装 osx-trash，例如：

```
sudo ln -s /Library/Ruby/Gems/1.8/gems/rubygems-update-1.8.12/bin/gem /usr/bin/gem18
sudo gem18 install osx-trash 
```

看：

*   [管理 Rails 版本和 Gem](http://railsapps.github.io/managing-rails-versions-gems.html)
*   [在 Mac OS X 10.9 Maverics 上为旧版 ruby​​ 1.8 安装 gem](https://superuser.com/questions/694433/install-gem-for-older-ruby-1-8-on-mac-os-x-10-9-maverics)

* * *

如果不是，请尝试通过 gem 重新安装可可（我不确定它是正确的可可，还是新可可或其他）：

```
gem uninstall cocoa
gem install cocoa --verbose 
```

如果没有帮助，要启用[RubyCocoa](https://en.wikipedia.org/wiki/RubyCocoa)的安装，您需要在 Ruby 安装期间设置一些标志：

```
rvm install 1.8.7 --debug --reconfigure -C --enable-shared=yes 
```

然后尝试从[源代码](http://rubycocoa.sourceforge.net/)配置和安装 RubyCocoa ：

```
$ wget http://sourceforge.net/projects/rubycocoa/files/RubyCocoa/1.0.0/RubyCocoa-1.0.0.tar.gz/download
$ tar xzf RubyCocoa-1.0.0.tar.gz && rm RubyCocoa-1.0.0.tar.gz && cd RubyCocoa-1.0.0
$ ruby install.rb config --target-archs="i386 x86_64 ppc"
$ # Or: # ruby install.rb config --target-archs="x86_64"
$ # Or: # ruby install.rb config --build-universal=yes 
$ ruby install.rb setup
$ sudo ruby install.rb install 
```

现在检查您安装了哪个版本的 RubyCocoa：

```
ruby -r osx/cocoa -e “p OSX::RUBYCOCOA_VERSION” 
```

如果不起作用，请检查以下内容：

*   [在 RVM 上安装 RubyCocoa](http://rbxbx.tumblr.com/post/556343148/install-rubycocoa-on-rvm)
*   [在 rvm 的 1.8.7 上安装 ruby​​cocoa](https://gist.github.com/thibaudgg/294465)

# java - 我正在尝试在 Eclipse 上运行此程序，但在控制台中出现此错误

> ID：13172415
> 
> 赞同：2
> 
> 时间：2012-11-01T07:00:33.260
> 
> 标签：java, android, xml, eclipse, parsing

```
Invalid layout of java.lang.String at value
#
# A fatal error has been detected by the Java Runtime Environment:
#
#  Internal Error (javaClasses.cpp:129), pid=6223, tid=3064822640
#  fatal error: Invalid layout of preloaded class
#
# JRE version: 7.0_07-b10
# Java VM: Java HotSpot(TM) Server VM (23.3-b01 mixed mode linux-x86 )
# Failed to write core dump. Core dumps have been disabled. To enable core dumping,     try "ulimit -c unlimited" before starting Java again
#
# An error report file with more information is saved as:
# /home/kailash/workspace/Parsing/hs_err_pid6223.log
#
# If you would like to submit a bug report, please visit:
#   http://bugreport.sun.com/bugreport/crash.jsp
# 
```

> 作为 Android 应用程序运行。我是 JAVA 和 android 的新手。并且无法运行此代码，因为控制台中显示了以下错误。所以请任何人都可以帮助我。在这段代码中，我试图从本地 XML 文件中解析一些数据并将其写入一个新文件中。

```
package com.demo.parsing;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileWriter;
import java.io.IOException;
import java.util.LinkedList;
import java.util.List;

import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.parsers.ParserConfigurationException;

import org.jsoup.Jsoup;
import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.NodeList;
import org.xml.sax.SAXException;

import android.app.Activity;
import android.os.Bundle;
import android.view.Menu;

public class MainActivity extends Activity{

    //private static OutputStreamWriter out;

    public static void main(String[] args) throws FileNotFoundException {
        FileInputStream pustaka = new FileInputStream("/home/kailash/workspace/parsing/pustaka-feed.xml");

        try {
            DocumentBuilder builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();

            Document feed = builder.parse(pustaka);

            NodeList items = feed.getElementsByTagName("item");

            List<String> urls = new LinkedList<String>();

            for (int i = 0; i < items.getLength(); i++) {
                Element item = (Element) items.item(i);
                Element description = (Element) item.getElementsByTagName(
                        "description").item(0);
                urls.addAll(getImages(builder, description.getTextContent()));
            }

             FileWriter f = new FileWriter(new File("outfile"));

            for (String url : urls) {
                f.write(url + "\n");
            }

            f.close();

        } catch (ParserConfigurationException e) {
            e.printStackTrace();
        } catch (SAXException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

    }

    private static List<String> getImages(DocumentBuilder builder, String content) throws SAXException, IOException {
        List<String> urls = new LinkedList<String>();

        for (org.jsoup.nodes.Element img : Jsoup.parse(content).getElementsByTag("img")) {
            urls.add(img.attributes().get("src"));
        }

        return urls;
    }

public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
}

public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
}

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T11:06:05.440

Kailash，您不能只是将 Java 代码粘贴到 Android 活动中并期望它能够工作。很可能您将该程序作为 Java 应用程序运行，因此它惨遭失败。

您不能`static void main(String[] args)`在 Android 应用程序中使用 a，因此第一步将是修改该方法的签名（remove `static`、remove`String[]`参数、make it `private`）。

之后，您的 Activity 根本不会做任何事情，因为您的方法不会从任何地方被调用。您必须找到一个地方（可能`onCreate()`）来开始`AsyncTask`解析 XML（此外，您必须切换到通过 ID 检索资源的 Android 方式，因为您无法从任何 Android 设备真正访问您的工作区。. .)

# hadoop - 如何将用户添加到 Hadoop 集群中的特定队列

> ID：13172419
> 
> 赞同：0
> 
> 时间：2012-11-01T07:00:46.890
> 
> 标签：hadoop, mapreduce, scheduler, bigdata

我创建了一个集群并创建了 4 个用户。我使用容量 70%、10% 和 20% 的容量调度程序创建了 3 个队列。我想将 user1、user2 添加到 queueA，将 user3 添加到 queueB，将 user4 添加到 queueC。我删除了默认队列。但是当我尝试运行 mapreduce 程序时，它会直接进入默认队列并显示错误。我如何配置这样如果 user1 运行作业，它将自动在 queueA 中运行。？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T08:10:25.737

在客户端，您可以在 hadoop-site.xml 中添加属性，如下所示

```
<property>
    <name>mapred.job.queue.name</name>
    <value>queueA</value>
</property> 
```

然后这个客户端的作业将提交给 queueA

我不知道是否有某种方法可以配置服务器端。

# fullscreen - 全屏 div 带有完整的页脚

> ID：13172420
> 
> 赞同：2
> 
> 时间：2012-11-01T07:00:54.273
> 
> 标签：fullscreen, footer

在过去的几周里，我一直在学习 html 和 css。现在我必须为学校制作一个作品集网站，该网站将于下周三到期。可悲的是，我无法让它以我想要的方式工作，并希望在这个网站上找到一些帮助。

我有一个由全宽 div 和全宽页脚组成的网站的想法。计划是让页脚始终贴在 div 的底部（除非屏幕太小，因此页脚不会与内容重叠），并且 div 会根据内容的体积调整大小。它似乎可以在我的小屏幕笔记本电脑上运行，但是当我在屏幕较大的计算机上打开网站时，它无法正确定位页脚。

该网站可在[http://home.deds.nl/~gwleuverink/concept/index.html](http://home.deds.nl/~gwleuverink/concept/index.html)查看。

我希望有人可以帮助我！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:17:28.417

看这个例子

**HTML**

```
<div id="container">
   <div id="header"></div>
   <div id="body"></div>
   <div id="footer"></div>
</div> 
```

**CSS**

```
html,
body {
   margin:0;
   padding:0;
   height:100%;
}
#container {
   min-height:100%;
   position:relative;
}
#header {
   background:#ff0;
   padding:10px;
}
#body {
   padding:10px;
   padding-bottom:60px;   /* Height of the footer */
}
#footer {
   position:absolute;
   bottom:0;
   width:100%;
   height:60px;   /* Height of the footer */
   background:#6cf;
} 
```

有关更多信息，请查看此链接[http://matthewjamestaylor.com/blog/keeping-footers-at-the-bottom-of-the-page](http://matthewjamestaylor.com/blog/keeping-footers-at-the-bottom-of-the-page)

# javascript - javascript中的命名空间未定义错误从asp.net页面执行ajax方法

> ID：13172421
> 
> 赞同：1
> 
> 时间：2012-11-01T07:01:11.250
> 
> 标签：javascript, .net, ajaxpro

我正在使用 Ajax Pro

当我测试网站时，我的机器上没有收到任何错误，但是从主机中收到 TimeSheet 的错误是未定义的（TimeSheet 是命名空间）。

我在以下来自 javascript 函数的 cdoe 中收到此错误

```
try
{
var response = TimeSheet.DAL.ApexDalc.PopulateDuration(d1, d3);
}
catch(txt)
{
 alert(txt.message);
 return false;
}

alert(response.value.Tables[0].Rows[0].Hours); 
```

我已经在页面加载中注册了 Ajaxpro`AjaxPro.Utility.RegisterTypeForAjax(typeof(DAL.ApexDalc));`

我还在 web.config 中添加了 httphandlers：

```
<httpHandlers>
    <add verb="POST,GET" path="ajaxpro/*.ashx" type="AjaxPro.AjaxHandlerFactory, AjaxPro.2"/>
    <remove verb="*" path="*.asmx"/>
    <add verb="*" path="*.asmx" validate="false" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/> 
```

您能否建议托管服务器导致网站出错的原因是什么？

谢谢

# java - 如何使用 JavaScript 为 Google Chart API 加载会话数据

> ID：13172422
> 
> 赞同：1
> 
> 时间：2012-11-01T07:01:17.873
> 
> 标签：java, javascript, jsp

我正在尝试加载用于使用 Google Chart API 创建饼图的会话数据。但是我似乎无法使其工作。有人可以给我一些指导吗？下面是源代码：

在 AnalyzeUserClient.jsp 中：

```
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">
google.load('visualization', '1', {packages: ['corechart']});
</script>
<script type="text/javascript"> 
var sessionId = '<%= (HashMap<String, String>)request.getSession().getAttribute("hashMap") %>';

function drawVisualization() {
    // Create and populate the data table.
    var data = google.visualization.arrayToDataTable([
      [sessionId],
    ]);

    // Create and draw the visualization.
    new google.visualization.PieChart(document.getElementById('visualization')).
        draw(data, {title:"Percentage of Category for User:"});
  }

  google.setOnLoadCallback(drawVisualization);
</script>

//HTML Code
<div id="visualization" style="width: 600px; height: 400px;"></div> 
```

我在会话中的数据如下所示：

```
{Environment=1, Education=1, Hospitality_Recreation=2, Disaster_Accident=1, Human Interest=3, Labor=1} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-06T09:59:53.580

在向我的 Android 应用程序添加折线图时，我刚刚完成[了类似的操作。](http://t.co/vkLsBMpI)我已经修改了我的场景以适合您的场景；

```
var data = new google.visualization.DataTable();
// Slice-Value columns.
data.addColumn('string', 'Area');
data.addColumn('number', 'Value');

// Get the injected dataset.
var dataset = '<%= (HashMap<String, String>)request.getSession().getAttribute("hashMap") %>'; //
var mapSize = dataset.length;

for (var i = 0; i < mapSize; i++) {                            // Iterate over key-value pairs
  var keyValuePair = dataset[i];                               // Get the i'th value.
  var keyValueArray = new String(keyValuePair).split("=");     // Split on '='
  data.addRow([keyValueArray[0], parseInt(keyValueArray[1])]); // Add record.
} 
```

**为了完整...**

我已经在[Google Code Playground](http://code.google.com/apis/ajax/playground/?type=visualization#pie_chart)中测试了我的方法并且它有效。我添加了代码；

```
function drawVisualization() {
  // Create and populate the data table.
  var data = new google.visualization.DataTable();
  // Slice-value columns.
  data.addColumn('string', 'Area');
  data.addColumn('number', 'Value');

  var dataset = new Array("Environment=1", "Education=1", "Hospitality_Recreation=2", "Disaster_Accident=1", "Human Interest=3", "Labor=1");
  console.log(dataset);
  var mapSize = dataset.length;
  console.log(mapSize.toString());

  for (var i = 0; i < mapSize; i++) {                            // Iterate over key-value pairs
    var keyValuePair = dataset[i];                               // Get the i'th value.
    var keyValueArray = new String(keyValuePair).split("=");     // Split on '='
    data.addRow([keyValueArray[0], parseInt(keyValueArray[1])]); // Add record.
  }

  // Create and draw the visualization.
  new google.visualization.PieChart(document.getElementById('visualization')).
      draw(data, {title:"Area-Value plot for SO"});
} 
```

# c# - 如何使用 asp.net SqlBulkCopy 比较 excel 值？

> ID：13172423
> 
> 赞同：0
> 
> 时间：2012-11-01T07:01:18.487
> 
> 标签：c#, asp.net, sql, sql-server, ado.net

我正在将 Excel 工作表导入 SQL Server 数据库。Excel 工作表包含 3 列

```
id|data|passport 
```

我在用`SqlBulkCopy`

```
SqlConnection con = new SqlConnection(System.Configuration.ConfigurationManager.ConnectionStrings["constr"].ConnectionString);

    string[] filePaths = null;
    string strFileType = null;
    string strFileName = null;
    string strNewPath = null;
    int fileSize;
    int flag=0;

    protected void Page_Load(object sender, EventArgs e)
    {
    }

    protected void Button1_Click1(object sender, EventArgs e)
    {
        strFileType = System.IO.Path.GetExtension(FileUpload1.FileName).ToString().ToLower();
        strFileName = FileUpload1.PostedFile.FileName.ToString();
        FileUpload1.SaveAs(Server.MapPath("~/Import/" + strFileName + strFileType));
        strNewPath = Server.MapPath("~/Import/" + strFileName + strFileType);
        fileSize = FileUpload1.PostedFile.ContentLength / 1024;

        //EXCEL DETAILS TABLE
        con.Open();
        //=========================================
        DataTable dt8 = new DataTable();
        SqlCommand cmd8 = new SqlCommand("insert into exceldetails (name,type,details,size)" + "values(@name,@type,@details,@size)", con);
        cmd8.Parameters.Add("@name", SqlDbType.VarChar).Value = strFileName;
        cmd8.Parameters.Add("@type", SqlDbType.VarChar).Value = strFileType;
        cmd8.Parameters.Add("@details", SqlDbType.VarChar).Value = DateTime.Now;
        cmd8.Parameters.Add("@size", SqlDbType.Int).Value = fileSize;
        cmd8.ExecuteNonQuery();
        con.Close();
        try
        {
            SqlDataAdapter da8 = new SqlDataAdapter(cmd8);
            da8.Fill(dt8);
        }
        catch { }
        //=========================================

        //CHOOSING EXCEL CONNECTIONSTRING

        string excelConnectionString = "";
        switch (strFileType)
        {
            case ".xls":

                excelConnectionString = String.Format(@"Provider=Microsoft.Jet.OLEDB.4.0;" + "Data Source=" + strNewPath + "; Extended Properties=Excel 8.0;");
                break;
            case ".xlsx":
                {
                    excelConnectionString = String.Format(@"Provider=Microsoft.ACE.OLEDB.12.0;" + "Data Source=" + strNewPath + "; Extended Properties=Excel 12.0 Xml;");

                    break;
                }
        }

        //===================================
        //PRE EXCEL COUNT

        // Create Connection to Excel Workbook
        using (OleDbConnection connection = new OleDbConnection(excelConnectionString))
        {
            connection.Open();
            OleDbCommand command = new OleDbCommand("Select ID,Data,passport FROM [Sheet1$]", connection);
            OleDbCommand command1 = new OleDbCommand("select count(*) from [Sheet1$]", connection);

            //Sql Server Table DataTable
            DataTable dt4 = new DataTable();
            SqlCommand cmd4 = new SqlCommand("select * from excelsheet", con);
            try
            {
                SqlDataAdapter da4 = new SqlDataAdapter(cmd4);
                da4.Fill(dt4);//sql table datatable
            }
            catch { }

            //===============================

            //excelsheet datatable
            DataTable oltlb = new DataTable();
            OleDbCommand olcmd = new OleDbCommand("select * from [Sheet1$]", connection);
            try
            {
                OleDbDataAdapter olda = new OleDbDataAdapter(olcmd);
                olda.Fill(oltlb); //excel table datatable
            }
            catch { }

            //==============================

            using (DbDataReader dr = command.ExecuteReader())
            {
                // SQL Server Connection String
                string sqlConnectionString = "Data Source=DITSEC3;Initial Catalog=test;Integrated Security=True";

                con.Open();
                DataTable dt7 = new DataTable();
                dt7.Load(dr);
                DataRow[] ExcelRows = new DataRow[dt7.Rows.Count];
                DataColumn[] ExcelColumn = new DataColumn[dt7.Columns.Count];

                //=================================================
                for (int i1 = 0; i1 < ExcelRows.Length; i1++)
                {
                    string a = ExcelRows[i1]["passport"].ToString();
                    char a1 = a[0];

                    if (a1 >= 'A' || a1 <= 'Z')
                    {
                        Label12.Text = "CAPITAL";
                        break;
                    }
                    else
                    {
                        Label12.Text = "notgood";

                        flag = flag + 1;

                    }

                }
                //=========================================================

                if (flag == 0)
                {
                    using (SqlBulkCopy bulkCopy = new SqlBulkCopy(sqlConnectionString))
                    {
                        bulkCopy.DestinationTableName = "ExcelTable";
                        dt7.Rows.CopyTo(ExcelRows, 0);

                        //==========================================================================================
                        for (int i = 0; i < ExcelRows.Length; i++)
                        {
                            if (ExcelRows[i]["passport"] == DBNull.Value)
                            {
                                ExcelRows[i]["passport"] = 0;
                            }

                        }
                        bulkCopy.WriteToServer(ExcelRows);
                        //==========================================================================================
                        for (int i = 0; i < ExcelRows.Length; i++)
                        {
                            if (ExcelRows[i]["data"] == DBNull.Value)
                            {
                                // Include any actions to perform if there is no date
                                //ExcelRows[i]["data"] = Convert.ToDateTime("0");
                            }
                            else
                            {
                                DateTime oldDate = Convert.ToDateTime(ExcelRows[i]["data"]).Date;
                                DateTime newDate = Convert.ToDateTime(oldDate).Date;
                                ExcelRows[i]["data"] = newDate.ToString("yyyy/MM/dd");
                            }

                        }

                        //==========================================================================================
                    }
                    //======

                }
                else
                {
                    Label13.Text = "Wrong Format";
                }
            }

        }
    }
} 
```

错误：

```
string a = ExcelRows[i1]["passport"].ToString(); 
```

错误：

> *你调用的对象是空的。*

# windows-phone-7 - 窗口电话 7

> ID：13172431
> 
> 赞同：-2
> 
> 时间：2012-11-01T07:01:45.840
> 
> 标签：windows-phone-7

我想知道如果我们在事件上编写以下代码：

```
 this.NavigationService.Navigate(new Uri("/Page1.xaml", UriKind.RelativeOrAbsolute));
    this.NavigationService.Navigate(new Uri("/Page2.xaml", UriKind.RelativeOrAbsolute)); 
```

这将始终导航到 Page1。如果我必须在 Page2 上导航，为什么以及如何覆盖这种行为？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:26:55.610

Navigate() 方法是一种异步方法。可能是您的第二个调用在第一个“导航”仍在进行时执行，因此被取消。尝试在两者之间添加一个小停顿来检查这一点。

编辑：您可以在源页面的[NavigatedFrom](http://msdn.microsoft.com/en-us/library/system.windows.controls.page.onnavigatedfrom%28v=vs.92%29.aspx)处理程序、目标页面的[NavigatedTo](http://msdn.microsoft.com/en-us/library/system.windows.controls.page.onnavigatedto%28v=vs.92%29.aspx)处理程序或App 类的[Navigating处理程序中取消对 Navigate() 的第一次调用。](http://www.wpseven.de/2010/08/wp7-redirecting-an-initial-navigation/)调用`event.Cancel = true;`取消导航。

# java - Java：代码同步

> ID：13172434
> 
> 赞同：2
> 
> 时间：2012-11-01T07:02:02.637
> 
> 标签：java, multithreading

我在下面有这段代码，如图所示。我们的应用程序运行在由负载均衡器控制的 5 个 Web 服务器上，所有服务器都连接到一个 Memcache 实例。

我猜这一段同步仅适用于一个 Instance 。

请让我知道当 5 个 Web 服务器尝试访问 Memcache 时如何同步这段代码

```
public class Memcache {
    private MemcachedClient memclient = null;  
    private static Memcache instance = null;

    public static Memcache getInstance() {
        if (instance == null) {
            try {
                synchronized (Memcache.class) {
                    instance = new Memcache();
                }
            } catch (IOException e) {
                throw new RuntimeException(e);
            }
        }
        return instance;
    }

    private Memcache() throws IOException {
        MemcachedClientBuilder builder = new XMemcachedClientBuilder();
        memclient = builder.build();

    }

} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-01T07:07:58.733

为什么不这样初始化呢？

```
private static Memcache instance = new Memcache(); 
```

请记住，您在此处尝试实现的同步是有问题的，
因为两个线程可能会通过 (if (instance == null) （上下文切换可能在该行之后）
所以您可以考虑[双重检查模式](http://en.wikipedia.org/wiki/Double_check_locking)，
BUt在某些版本的 java 中存在问题。
在我提供的链接中，有关于问题的信息，
在[此](http://javarevisited.blogspot.co.il/2011/06/volatile-keyword-java-example-tutorial.html)链接中，您可以使用 volatile 关键字阅读有关 Singleton 的信息。

我仍然会选择我上面建议的选项。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T08:18:11.743

您可以使用延迟初始化的 ClassHolder 模式来实现对类的同步访问。因为 Memcache 是使用静态初始化器初始化的，所以它不需要更多的同步构造。任何线程对 getInstance() 的第一次调用会导致 MemcacheHolder 被***加载****和初始化*，并且 Memcache 实例使其自身可用于调用代码。

```
public class MemcacheFactory{

  private static class MemcacheHolder {
        public static Memcache instance = new Memcache();
    }

    public static Memcache getInstance() {
        return MemcacheFactory.MemcacheHolder.instance;
    }

} 
```

# c# - 是否可以获得有关 mongodb 集合更改的信息？

> ID：13172436
> 
> 赞同：5
> 
> 时间：2012-11-01T07:02:04.433
> 
> 标签：c#, mongodb

如果在 mongodb 的集合中发生更改，是否可以得到通知？例如，一些新文档被添加到集合中。是否可以订阅这些更改？是否存在 C# 的任何实现？谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-01T08:17:42.770

正如@Sergio 所说，不是天生的，但是您可以使用可尾光标来实现类似的功能：

[http://blog.mongodb.org/post/29495793738/pub-sub-with-mongodb](http://blog.mongodb.org/post/29495793738/pub-sub-with-mongodb)

### 编辑

意识到这篇文章有点空洞，这可能是一个更好的：http: [//www.devco.net/archives/2012/08/31/using-mongodb-as-a-queue.php](http://www.devco.net/archives/2012/08/31/using-mongodb-as-a-queue.php)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-01T07:15:31.910

不，MongoDB 中没有钩子或触发器。

# php - 原生 $_POST 或 $_GET 元素

> ID：13172438
> 
> 赞同：1
> 
> 时间：2012-11-01T07:02:07.043
> 
> 标签：php, http, rest, post, get

阅读本[教程](http://www.gen-x-design.com/archives/create-a-rest-api-with-php/)后，我遇到了这个`$data = $_POST;`or`$data = $_GET` 然后执行了`$data['data'];`所以我假设它是`$_POST['data']`or `$_GET['data']`。这是在 rest api http 请求的上下文中。

我的问题是，那个`'data'`元素到底是从哪里来的？那是某种原生帖子还是获取元素？用 var_dump 测试它并没有发现任何东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:11:21.370

所有 $_POST 或 $_GET 参数都返回到数组！用户可以通过引用数组对象来访问它们例如：

```
$_POST --> Array("title" => "value") --> and access it by --> $_POST['title'] 
```

仅此而已，希望对您有所帮助！！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T07:18:18.020

“数据”是您发送到服务器的值的键。例如，您可以像这样向您的脚本发送 GET 请求，`http://localhost/myscript.php?data=mysuperdatawillbehere` 或者您可以通过创建表单来发送发布请求，该表单将向您的脚本发送 POST 请求或使用[cURL](http://php.net/manual/en/book.curl.php)，或者您可以为浏览器安装一些插件来模拟请求。我用火狐的[海报](https://addons.mozilla.org/en-US/firefox/addon/poster/)

# r - 将 GIF 图像添加到 TclTk 窗口

> ID：13172449
> 
> 赞同：0
> 
> 时间：2012-11-01T07:03:22.970
> 
> 标签：r, tcl, tk

我希望在我的 tcltk 窗口中插入一个“正在加载”的 GIF 图像，但我无法理解它。以下是一个可重现的示例：-

```
backg <- 'white'
pdlg <- tktoplevel(background=backg)
tcl('wm', 'geometry', pdlg, '500x100+450+350')
tilg <- 'Package installation in progress'
tkwm.title(pdlg, tilg)
fn <- tkfont.create(family = 'helvetica', size = 12)

nwlabel <- "    The requisite packages are being installed. This may take several    \nminutes... \n"
tllab <- tklabel(pdlg, text = nwlabel, font = fn, pady = 0, background=backg)

clickEv <- tclVar(0)

OK.but <- tkbutton(pdlg, text=' Stop ', command=function() tclvalue(clickEv) <- 1, font=fn, background='grey', pady=0)

tkgrid(tllab, columnspan=1) 
tkgrid(OK.but, row=3)

tkbind(pdlg, "<Destroy>", function() tclvalue(done) <- 2)
tkfocus(pdlg)

#This allows me to insert a GIF image but the animation is lost. Also it would be convenient if the output can be obtained using 'tkgrid' instead of 'tkpack'
pdlg2 <- tktoplevel(background='white')
loading <- tclVar()
tcl('image', 'create', 'photo', loading,
file='file path to GIF file')
trial <- tklabel(pdlg2, image=loading)
tkpack(trial) 
```

可以从这里下载一个示例 GIF 文件 -http://www.dlfpramericalife.com/library/images/final_loading_big.gif

理想情况下，GIF 图像应放置在“停止”按钮上方但文本下方。非常感谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:58:58.240

在 Tcl/Tk 中，这很容易。

```
set img [image create photo -file nameofthefile.gif]
label .l -image $img 
```

我不知道 R，但是以您的代码为指导，我想像这样，但请检查一下！

```
img <- tkimage.create('photo', file='nameofthefile.gif')
imglab <- tklabel(pdlg, image = img) 
```

...然后您将其网格/打包/放置在您想要的任何地方。请注意，这不适用于动画 gif，我认为动画必须是手动处理程序，使用定期更新图像内容的计时器，但我从未这样做过，也不知道该怎么做。您可以查看[Tcl/Tk wiki](http://wiki.tcl.tk)以获得更多帮助。

# ruby - 将哈希转换为字符串的最短方法

> ID：13172450
> 
> 赞同：3
> 
> 时间：2012-11-01T07:03:24.680
> 
> 标签：ruby

有一个像这样的哈希：

```
params = { k1: :v1, k2: :v2, etc: :etc } 
```

我需要它转换成这样的字符串：

```
k1="v1", k2="v2", etc="etc" 
```

我有一个工作版本：

```
str = ""
params.each_pair { |k,v| str << "#{k}=\"#{v}\", " } 
```

但它闻起来像十个 PHP 烈酒......

Ruby 的方法是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-01T07:05:13.370

试试这个：

```
str = params.map {|p| '%s="%s"' % p }.join(', ') 
```

[**在这里**](http://cibox.org/slivu/stackoverflow?lang=ruby&file=shortest-way-to-convert-a-hash-into-string.rb&run=true)看到它的作用[](http://cibox.org/slivu/stackoverflow?lang=ruby&file=shortest-way-to-convert-a-hash-into-string.rb&run=true)

 *** * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T07:11:33.767

试试这个...

```
hash.collect { |k,v| "#{k} = #{v}" }.join(" ,") 
```**

# c# - 如何在 WCF 休息中使用应用程序对象？

> ID：13172452
> 
> 赞同：0
> 
> 时间：2012-11-01T07:03:34.170
> 
> 标签：c#, asp.net, web-services

我在我的 WCF 休息服务中获取了一些数据。我需要缓存这些数据并在我的网站中使用它。是否可以将数据存储在 wcf 休息服务中，然后使用应用程序对象我将在网站的 global.asax 中访问？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:18:51.477

在 Global.asax 中的 Application 对象中，您可以这样做，但我假设您希望存储与数据协定类对应的数据，即。数据结构。那么为什么不构建一个缓存管理器类，将数据保存在内存中，然后您可以使用它来缓存数据。当您第一次引入数据时，您可以将其放入缓存处理程序类中，然后每次通过 WCF 服务从客户端应用程序收到请求时，您可以首先检查缓存处理程序中是否有任何数据并相应地返回它.

# android - 如何在我的安卓应用中更新最近的通话记录列表视图？

> ID：13172458
> 
> 赞同：0
> 
> 时间：2012-11-01T07:04:08.503
> 
> 标签：android

我有一个应用程序，它将最近的通话记录显示为列表视图。

我需要同时更新列表视图和最近的通话记录。即当我打了一个“外出电话”或接到一个“未接电话”时，它会同时显示在列表视图中。

我怎样才能做到这一点。请指教！

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:20:32.287

[内容观察](http://developer.android.com/reference/android/database/ContentObserver.html)器可用于监听数据的任何变化。由于通话记录也存储在 DB 表中，您可以为通话记录 URI 注册内容观察者，并且您会收到通话记录表中的更改通知。查看此[链接](http://developer.android.com/reference/android/content/ContentResolver.html#registerContentObserver%28android.net.Uri,%20boolean,%20android.database.ContentObserver%29)以了解如何添加内容观察者。

这篇[文章](https://stackoverflow.com/questions/4422410/how-to-implement-a-contentobserver-for-call-logs)有一些您可以使用的示例代码。

# php - Cakephp 2.0：复杂的查找查询

> ID：13172462
> 
> 赞同：1
> 
> 时间：2012-11-01T07:04:17.680
> 
> 标签：php, sql, cakephp

我试图从 hasMany 和 belongsTo 关联的两个表中提取一些信息。

申请有许多地点和地点属于申请

```
TABLE `requisitions` (
`id` int(11) NOT NULL AUTO_INCREMENT,
`user_id` int(11) NOT NULL,
`fecha_generacion` date NOT NULL,
`solicitado_a` varchar(60) NOT NULL,
`proyecto` varchar(150) NOT NULL,
`obra_no` varchar(11) NOT NULL,
`observaciones` text NOT NULL,
 PRIMARY KEY (`id`)
) 

and 
  TABLE `locations` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `requisition_id` int(11) NOT NULL,
  `fecha` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `name` enum('pendiente','tecnico','existencia','cotizando','generar_o','archivada')   
   NOT NULL DEFAULT 'pendiente',
  `image_path` varchar(150) NOT NULL DEFAULT 'estado0.png',
  `note` text NOT NULL,
  PRIMARY KEY (`id`)
) 
```

申请从一个位置到另一个位置，我需要跟踪其当前位置，通过给定位置查找为“pendiente”，“tecnico”......所以我需要为每个申请生成一个包含最后一个位置的列表，然后过滤该列表由 Location.name

我相信做到这一点的唯一方法是围绕另一个查询进行查询，所以我首先尝试通过更简单的查询来理解 cakephp 语法。

我试图用我的 RequisitionsController 中的下一个代码搜索最后一个“pendiente”位置。

```
$lastPendiente = $this->Requisition->Location->find('all', array(
 'conditions' => array('Location.name' => 'pendiente'),
   'fields' => array('MAX(Location.id) AS olderLocation', 'Location.requisition_id'), 
    'group' => 'Requisition.id',
    )); 
```

我有查询

```
SELECT MAX(`Location`.`id`) AS olderLocation, `Location`.`requisition_id` FROM `petrofil_demo`.`locations` AS `Location` LEFT JOIN `petrofil_demo`.`requisitions` AS `Requisition` ON (`Location`.`requisition_id` = `Requisition`.`id`) WHERE `Location`.`name` = 'pendiente' GROUP BY `Requisition`.`id` 
```

输出...

```
array(
    (int) 0 => array(
        (int) 0 => array(
            'olderLocation' => '22'
        ),
        'Location' => array(
            'requisition_id' => '29'
        )
    ),
    (int) 1 => array(
        (int) 0 => array(
            'olderLocation' => '5'
        ),
        'Location' => array(
            'requisition_id' => '30'
        )
    ),
    (int) 2 => array(
        (int) 0 => array(
            'olderLocation' => '13'
        ),
        'Location' => array(
            'requisition_id' => '31'
        )
    )
) 
```

...这很好，因为这些正是最后一个带有“pendiente”位置的申请，但这是第二个查询或我一无所知的情况。我需要确保我的申请最后一个状态是“pendiente”，而不是另一个可能的位置。例如，我的 requisition_id =>30 最后一个位置确实是“tecnico”，所以我需要找到一种方法将其排除在我的结果中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-12T16:12:40.813

您可以从查询中退出条件，将“名称”列放在“字段”中并逐句添加顺序：

```
 $lastPendiente = $this->Requisition->Location->find('all', array(
   'fields' => array('MAX(Location.id) AS olderLocation', 'Location.requisition_id', 'name'), 
    'group' => 'Requisition.id',
    'order' => 'fecha DESC'
    )); 
```

这样，您只能从 Location 表中获得最后一个状态。然后，您可以迭代结果，按“名称”列过滤并删除那些与“pendiente”不同的“名称”：

```
foreach($lastPendiente as $k => $location){
if($location['Location']['name'] != 'pendiente'){
    unset($lastPendiente[$k]);
} 
```

# javascript - 无法将struts 2动作中的javascript数组映射为List

> ID：13172464
> 
> 赞同：3
> 
> 时间：2012-11-01T07:04:24.507
> 
> 标签：javascript, arrays, list, struts2, mapping

在 html 页面中，我有如下复选框：

```
<input name="serviceareas" type="checkbox" id="cb1" value="1">
<input name="serviceareas" type="checkbox" id="cb2" value="2">
... 
```

在 jquery 的帮助下，我为所有选中的复选框创建了 javascript 值数组

```
getSelectedValues : function() {
            var allVals = [];
            $('#checkboxTable :checked').each(function() {
                   allVals.push($(this).val());
              });
            //alert("allVals: "+allVals);

            return allVals;
        } 
```

，并将其发送到 Struts 2 Action。例如在萤火虫请求中，我看到：-

**服务区 21,26,30**

在我尝试将其映射到的操作中

```
private List<String> serviceareas = new ArrayList<String>(); 
```

但是 SOP 将其打印为 Object 并且无法将其转换为 java List

```
public class CreateEventAction extends ActionSupport {

    private List<String> serviceareas = new ArrayList<String>();

    public List<String> getServiceareas() {
        return serviceareas;
    }
    public void setServiceareas(List<String> serviceareas) {
        this.serviceareas = serviceareas;
    }

    @Override
    public String execute() throws Exception {

        if(this.serviceareas != null) {

                for (String serviceAreaId : this.serviceareas) {

                        System.out.println("String :"+serviceAreaId);

                }

            }

        return SUCCESS;
    } 
```

输出： **字符串：21,26,30**

请帮忙。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T10:53:32.993

假设您提交给操作有效，请尝试像这样构造您的参数：

```
serviceareas=21&serviceareas=26&serviceareas=30 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T12:28:51.110

[Aleksandr M 的回答](https://stackoverflow.com/a/13175526/456135)应该有效。我发布这个答案只是为了更清楚地说明如何实现它。

而不是提交 javascript 数组，而是提交一个字符串。

```
getSelectedValues : function() {
    var allVals = '';
    $('#checkboxTable :checked').each(function() {
         allVals += "serviceareas="+$(this).val()+"&";  //prepare the string
    });
    if(allVals.length>0){
         allVals = allVals.substring(0,allVals.length-1); //remove last '&'
    }    
    return allVals; //submit this string as parameter
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T09:33:40.953

我认为这是不可能的。当您在我们通常调用的 servlet 中提交具有复选框或多个列表的表单时`getPrameterValues()`，此方法在内部将逗号分隔的字符串转换为和数组，并将其作为字符串数组返回。但是在您的情况下，您只需提交一个逗号分隔的字符串和动作 servlet 调用 interanlly call `getPrameter()`，所以这将是一个刺痛，并用一个字符串初始化您的列表。要完成它，您必须提交具有复选框组的表单。

在这里，您可以通过在您的操作类中拆分这个逗号分隔的字符串来进行快速修复......或者您需要找出如何在您的 actionFor(struts 1.2) 中使用相应属性提交的方式。让我快速参考一下struts 2。无论如何，目前的方法是错误的。

# mysql - MySQL选择行直到达到固定数量的条件

> ID：13172468
> 
> 赞同：3
> 
> 时间：2012-11-01T07:04:36.147
> 
> 标签：mysql, conditional

我有这张桌子

```
id  fruit
---------
1   apple
2   banana <--
3   apple
4   apple
5   apple
6   apple
7   banana <----

8   apple
9   banana
10  apple 
```

我想选择行，直到找到 2 个香蕉，比如

```
SELECT id FROM table_fruit UNTIL number_of_bananas = 2 
```

所以结果是`1,2,3,4,5,6,7`

我怎么能做到这一点？

**谢谢**

我希望我能给所有回答我问题的人点赞。我已经测试了所有这些，它们都工作得很好（得到了预期的结果）。

尽管 Devart 和 ypercube 的答案对我来说似乎有点复杂且难以理解。

由于 AnandPhadke 是第一个提供有效解决方案的人，我会选择他的答案作为接受。

你们太棒了，谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T07:13:07.480

试试这个查询 -

```
SELECT id, fruit FROM (
  SELECT
    b.*, @b:=IF(b.fruit = 'banana', 1, 0) + @b AS banana_number
  FROM
    bananas b,
  (SELECT @b := 0) t
  ORDER BY id) t2
WHERE
  banana_number < 2 OR banana_number = 2 AND fruit = 'banana' 
```

### [SQLFiddle 演示](http://sqlfiddle.com/#!2/97565/3)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-01T07:13:33.257

```
select * from tables where id <=

(
select id from (
select id from tables where fruit='banana'
order by id limit 2) a order by id desc limit 1
) 
```

[**SQLFIDDLE 演示**](http://sqlfiddle.com/#!2/7e901/9)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-01T07:35:12.587

[@Devart 的答案](https://stackoverflow.com/a/13172562/1369235)是完美的，但它是我们可以使用的另一种选择：

```
SELECT * FROM table_fruit WHERE id <=
(
    SELECT id FROM 
    (SELECT id FROM table_fruit WHERE fruit='banana' ORDER BY id LIMIT 2) a
    ORDER BY ID DESC LIMIT 1
); 
```

或使用`MAX`

```
SELECT * FROM table_fruit WHERE id <=
(
    SELECT MAX(id) FROM 
    (SELECT id FROM table_fruit WHERE fruit='banana' ORDER BY id LIMIT 2) a
); 
```

### [看到这个 SQLFiddle](http://sqlfiddle.com/#!2/97565/17)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-01T07:24:32.830

```
select * from table_fruit where id <=
(
   select max(id) from
   (select id from table_fruit where fruit='banana' order by id limit 2) t
) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-01T07:38:01.513

如果带有 的行少于 2 行`'banana'`，这将返回表的所有行：

```
SELECT t.*
FROM table_fruit AS t
  JOIN
    ( SELECT MAX(id) AS id
      FROM
        ( SELECT id
          FROM table_fruit
          WHERE fruit = 'banana'
          ORDER BY id
            LIMIT 1 OFFSET 1
        ) AS lim2
    ) AS lim
    ON t.id <= lim.id
    OR lim.id IS NULL  ; 
```

# java - 会话流应用实现

> ID：13172474
> 
> 赞同：1
> 
> 时间：2012-11-01T07:05:10.297
> 
> 标签：java, spring, web-applications, spring-webflow, spring-webflow-2

Spring Web Flow 是否在工业中广泛用于会话流行为应用程序或向导类型的应用程序。使用此类应用程序的主要目的是减少我们需要保留在会话中的数据，对吗？是否值得使用诸如 Web 流之类的框架，或者此类企业应用程序的其他行业标准实现是什么？

以下是与 Spring 声称的 Spring Web Flow 相比，正常实现的缺点，

1.  可视化流程非常困难。
2.  该应用程序有很多代码访问 HTTP 会话。
3.  强制执行受控导航很重要，但不可能。
4.  正确的浏览器后退按钮支持似乎无法实现。
5.  浏览器和服务器与“返回”按钮的使用不同步。
6.  多个浏览器选项卡会导致 HTTP 会话数据出现并发问题。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-08T06:17:28.853

如果您的网站中有任何功能比填写表格和提交步骤更多，我肯定会选择 spring webflow。

Webflow 仍然使用会话来存储数据，但会为您抽象所有内容，并在流程完成时对会话进行清理。

您可以根据需要同时拥有多个流的“实例”。考虑创建一个购买证券的流程，一旦您单击购买，就会为该交易创建一个单独的上下文，您可以在这两个步骤中继续执行任意多个步骤（添加值、检查限制等），并完成状态隔离。

流 xml 文件易于理解，并且随着流随着更多功能的增长而非常易于管理。

用于对流上的方法进行单元测试的整个结构也很容易模拟，这是在处理传统控制器上模拟的会话对象之上的一个巨大优势。（http://vishwanathk.wordpress.com/2011/07/12/using-mockito-to-unit-test-spring-webflow/）

试一试，一开始你会告诉自己好几次，“哦，我应该只编写一个控制器和一些动作映射。但是在了解了 webflow 的工作原理之后，你永远不会编写超过 1 步的代码传统控制器。

# c - 等到播放完成

> ID：13172478
> 
> 赞同：0
> 
> 时间：2012-11-01T07:05:23.617
> 
> 标签：c, audio, portaudio

我使用 PortAudio 作为语音合成（文本到语音）引擎的前端，我想提供一个同步语音功能，等待播放完成。

似乎所有处理此问题的 PortAudio 函数只等到底层 API 完成使用音频数据，而不是直到播放完成。

PortAudio 有可能吗？如果没有，是否有任何好的跨平台替代 PortAudio（必须包含 C 接口）可能支持这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T16:17:06.847

我不确定 streamFinished 回调是否如此处所述：

[http://portaudio.com/docs/v19-doxydocs/portaudio_8h.html#aa11e7b06b2cde8621551f5d527965838](http://portaudio.com/docs/v19-doxydocs/portaudio_8h.html#aa11e7b06b2cde8621551f5d527965838)

是你想要的。它可能会遇到同样的问题，但我认为它会起作用。

另外两种可能性是：

*   使用较低的延迟设置。
*   使用硬件时序。此信息可从[GetStreamTime() 之](http://portaudio.com/docs/v19-doxydocs/portaudio_8h.html#a2b3fb60e6949f37f7f134105ff425749)类的调用中获得。例如：
    *   获取当前时间
    *   将 x 秒的音频推送到硬件
    *   等待硬件时钟显示开始时间加上 x 秒

您可能还对此文档感兴趣：

[http://www.rossbencina.com/static/writings/portaudio_sync_acmc2003.pdf](http://www.rossbencina.com/static/writings/portaudio_sync_acmc2003.pdf)

恐怕我不知道其他 API 对这类事情有更好的支持。

# java - long.class 和 Long.class 有什么不同？

> ID：13172480
> 
> 赞同：0
> 
> 时间：2012-11-01T07:05:28.157
> 
> 标签：java, primitive-types, boxing

任何人都可以向我解释这个测试：

```
assertTrue(Number.class.isAssignableFrom(long.class)); //---> FAILED
assertTrue(Number.class.isAssignableFrom(Long.class)); //---> PASSED 
```

那么`long.class`和 和有什么不一样`Long.class`？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-01T07:08:34.427

In **Java** `long` and `Long` are different types. The first one is a primitive and the second one is a class.

`Long` extends `Number`, but `long` doesn´t.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:14:04.547

在 Java 中，类名区分大小写，通常以大写字母开头。Long 是 Java 中的一个类（称为包装类），但 long 不是。没有 long.cass ！

long 是一个原始的。这意味着您只有变量和一些操作，如 +/-*=。Long 是一个内部有一个长数字的类，除了像 idk 这样的运算符之外还有一些函数... ToString() （查看[javadoc](http://docs.oracle.com/javase/6/docs/api/java/lang/Long.html)）。在类中包装长原语使其成为包装类

# c#-4.0 - 如何使用 MVC4 中的拆分函数将记录插入到字符串中？

> ID：13172482
> 
> 赞同：1
> 
> 时间：2012-11-01T07:05:39.873
> 
> 标签：c#-4.0, asp.net-mvc-4

大家好，我有一个这样的字符串，我将一个 ajax 函数传递给我的控制器操作方法

```
 Brand1~1001=>undefined_undefined|
           Category1~2001=>1001_Brand1|
           Category2~2002=>1001_Brand1|
                  Product3~3003=>2002_Category2|
                      Product4~3004=>Product3~3003|
                 Product5~3005=>2002_Category2|
                 Product6~3006=>2002_Category2| 
```

我在 db 中有一个 Menus 表，我已将其作为实体模型添加到我的项目中

```
 Menus

          [MenuID],[MenuName],[ParentID] 
```

我有这样的模型

```
 public class MenuItems
            {
              public List<MenuItems> GetALL { get; set; }
              public int MenuId { get; set; }
              public string MenuName { get; set; }
              public int parentId { get; set; }
            } 
```

现在我想拆分我拥有的字符串并像这样插入上表

```
 [MenuID],[MenuName],[ParentID]
            1001   ,Brand1    ,null
            2001   ,category1 ,1001
            2002   ,category2 ,1001
            3003   ,product3  ,2002
            3004   ,product4  ,3003
            3005   ,product5  ,2002
            3006   ,product6  ,2002 
```

在上面的字符串 Brand1~1001=>undefined_undefined| 这里 Brand1~1001 是父菜单，1001 是菜单的 ID Category1~2001=>1001_Brand1| 这里 Category1~2001 是 1001_Brand1 的子菜单

我正在尝试什么

```
 public ActionResult MenuDrag()
    {
        return View();
    }
    [AcceptVerbs(HttpVerbs.Post)]
    public ActionResult MenuDrag(string menustring)
    {
        if (!String.IsNullOrEmpty(menustring))
        {
            string[] menus = menustring.Split('|');
            foreach (var m in menus)
            {
                string[] list = m.Split('>'); 
                //stuck from here confused what to do next and how do i insert the data in my accordingly
            }
        }

        return View();
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T06:26:22.623

你快到了，只需用这个替换你的 post 方法

```
 [AcceptVerbs(HttpVerbs.Post)]
    public ActionResult MenuDrag(string menustring)
    {            
        MenuItems items = new MenuItems();
      //check the string for empty
        if (!String.IsNullOrEmpty(menustring))
        {
            string[] menus = menustring.Split('|');
            foreach (var m in menus)
            {
                if (m != "")
                {
                    string[] list = m.Split('>');

                    string[] menu = list[0].Split('~');
                    string[] parents = list[1].Split('~');
                    items.MenuItemID = Convert.ToInt16(menu[1]);
                    items.MenuName = menu[0].ToString();
                    if (parents[0] == "undefined")
                    {
                        items.ParentID = 0;
                        db.MenuItems.Add(items);
                        db.SaveChanges();
                    }
                    else
                    {
                        int parentid=Convert.ToInt16(parents[0]);
                        var menuid = from me in db.MenusMains where me.MenuItemID == parentid select new { MenuID = me.MenuID };
                        foreach (var id in menuid)
                        {
                            items.ParentID = Convert.ToInt16(id.MenuID);                               
                        }
                        db.MenuItems.Add(items);
                        db.SaveChanges();
                    }                      
                }
            }
        }
        return View();
    }

} 
```

我用过

```
 if (m != "")
            {
            } 
```

因为你可能会在你的字符串中得到一个索引超出范围的异常

```
 string[] menus = menustring.Split('|'); 
```

你会得到一个空的（'|'）你必须处理这个

希望这有效

# solr - 在查询时减少 fieldNorm 考虑

> ID：13172483
> 
> 赞同：1
> 
> 时间：2012-11-01T07:05:43.777
> 
> 标签：solr

我想降低或消除 fieldNorm 在某些搜索中的贡献。我认为 LocalParam 可能会有所帮助，但我找不到任何文档。是否有关于如何减少对 tf、idf、fieldNorm 和 coord 的考虑的文档？

请注意，我专门寻找查询时解决方案。我不是这个索引的唯一客户，除了这个特定的极端情况之外，索引在它的用途上表现良好。

谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T07:11:09.740

相似性在 schema.xml 中定义并适用于完整的 Core。
这不能按查询更改。
您需要检查如何增强字段。

其他选择是： -

复制到`omitNorms=true`将禁用长度规范化的其他字段。您可以根据需要切换要查询的字段。

[文档](http://wiki.apache.org/solr/SchemaXml#Recommended_fields)：-

> omitNorms=true|false
> 这可以说是一个高级选项。设置为 true 以省略与该字段相关的规范（这将禁用字段的长度规范化和索引时间提升，并节省一些内存）。只有全文字段或需要索引时间提升的字段才需要规范。

# ios - 故事板 NSIndexPath

> ID：13172484
> 
> 赞同：-1
> 
> 时间：2012-11-01T07:05:55.927
> 
> 标签：ios, storyboard, tableview, segue, nsindexpath

我尝试使用带有表格视图的情节提要，该表格视图与控制器视图相结合，应该向我展示图片。问题是当我按下任何“单元格”时，应用程序会崩溃。

这是问题代码：

```
- (void) prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender{

    if([[segue identifier] isEqualToString:@"ShowPhoto"])
    {
        DetailsViewController *dvc = [segue 
        destinationViewController];
        NSIndexPath *path = [[self tableView] indexPathsForSelectedRows];
        Photo *pic = [photosArray objectAtIndex:[path row]];

        [dvc setCureentPic: pic];
    }
} 
```

问题是 NSIndexPath 的问题...我认为原因是我尝试将数组插入 NSIndex。xcode 警告：不兼容的指针类型使用“NSArray”类型的表达式初始化“NSIndexPath *__strong”。

粉碎消息：无法识别的选择器发送到实例 [__NSArrayI 行]。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-01T07:13:27.233

请务必阅读**您调用的方法****的文档**（[此处](http://developer.apple.com/library/ios/documentation/uikit/reference/UITableView_Class/Reference/Reference.html#//apple_ref/doc/uid/TP40006943-CH3-SW51)） ，而不是对它们的作用做出假设......

 **```
[[self tableView] indexPathsForSelectedRows] 
```

返回 an`NSArray`而**不是**an `NSIndexPath`（顺便说一句，*即使不阅读文档*，您也可以知道这一点- 在 Cocoa 命名约定中，如果某物是复数形式，则它接受或返回 an `NSArray`），因此向其发送消息`NSIndexPath`会崩溃。写

```
NSIndexPath *path = [[[self tableView] indexPathsForSelectedRows] objectAtIndex:0]; 
```

相反，它将起作用（如果至少有一个选定的行 - 如果没有，您必须检查数组是否为空，否则它将再次崩溃......）

顺便说一句，编译器甚至会警告您问题出在哪里……请在尝试编程之前尝试培养一些**常识**，因为如果不这样做，您将在自己和他人的脚下开枪。**

# ruby-on-rails - 帮助程序中的 capture_haml 不显示参数值

> ID：13172488
> 
> 赞同：2
> 
> 时间：2012-11-01T07:06:18.140
> 
> 标签：ruby-on-rails, haml, helper

我试图在我的 rails 视图中使用帮助器来绘制一些 haml 线，事实是它正在编写 html 标签，但其中没有内容。

这是我的助手：

```
def detail_line(model, column, value)
  capture_haml do  
    haml_tag :div, class: 'control-group' do
      haml_tag :label, {class: 'control-label'},"#{model.class.human_attribute_name column}"
      haml_tag :div, class: 'controls' do
        haml_tag :div, {class: 'value'}, "#{value}"
      end
    end
  end
end 
```

这是我使用它的方式：

```
= detail_line(@order, 'number', @order.number) 
```

输出如下：

```
<div class="control-group">
  <label class="control-label"></label>
  <div class="controls">
     <div class="value"></div>
  </div>
</div> 
```

我错过了什么或做错了什么？非常感谢您！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-01T08:56:28.157

```
def detail_line(model, column, value)
  capture_haml do
    haml_tag :div, class: 'control-group' do
      haml_tag :label,"#{model.class.human_attribute_name column}", {class: 'control-label'}
      haml_tag :div, class: 'controls' do
        haml_tag :div, "#{value}", {class: 'value'}
      end
    end
  end
end 
```

# assembly - 在移动指令以填充 MIPS 中的分支延迟槽时处理立即偏移量

> ID：13172491
> 
> 赞同：1
> 
> 时间：2012-11-01T07:06:43.460
> 
> 标签：assembly, mips

一些 MIPS 指令具有立即偏移量。例如，在移动`lw`命令以填充 下方的分支延迟槽时`beq`，其直接偏移量从 100 变为 96。

```
PC     Loop: lw $2, 100($3)
PC+4         addi $3, $3, 4
PC+8         beq  $3, $4, Loop 
```

转化成

```
PC   Loop: addi $3, $3, 4
PC+4       beq $3, $4, Loop
PC+8       lw $2, 96($3) # branch delay slot 
```

是不是因为 PC 总是 PC+4，所以它是 100 - 8 + 4 = 96 ？如果指令向上移动会发生什么？例如，

```
PC       Loop: xxxxxxxxxxxxx
PC+4           addi $5, 4($5) 
```

这会是正确的吗？

```
PC       Loop: addi $5, 4($5)
PC+4           xxxxxxxxxxxxx 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T11:22:34.920

眼前的变化与PC无关。

```
Loop: lw $2, 100($3)
      addi $3, $3, 4
      beq  $3, $4, Loop 
```

在原始地址中，您从地址 ($3 + 100) 加载，然后将 4 添加到 $3。

```
Loop: addi $3, $3, 4
      beq $3, $4, Loop
      lw $2, 96($3) # branch delay slot 
```

在转换后的中，您将 4 添加到 $3，然后从地址 ($3 + 96) = (original_$3 + 4 + 96) = (original_$3 + 100) 加载。它是影响即时（不能移动到延迟槽，因为分支取决于 $3 的新值）之间`lw`的重新排序。`addi``addi`

# android - Android：如何在 android 2.2 及更高版本的应用程序中使用开源 VPN？

> ID：13172494
> 
> 赞同：0
> 
> 时间：2012-11-01T07:06:57.097
> 
> 标签：android, vpn

我发现在 Android 4.0+ 中有用于 VPN 连接的内置包，但对于低于 Android 4.0 则没有。对于使用开源 VPN，需要 ROOTED 低于 4.0 的 android 手机。

我的问题是我如何在应用程序中以编程方式使用或配置开放式 VPN，而无需植根我的设备。

是否有人探讨过如何在 android 2.2 中以编程方式建立/配置新的 VPN 连接（不是设置->无线->VPN 中的默认连接）？

# model-view-controller - 如何组织基于 ColdFusion 的 MVC 应用程序？

> ID：13172495
> 
> 赞同：2
> 
> 时间：2012-11-01T07:06:59.507
> 
> 标签：model-view-controller, frameworks, coldfusion

我想将我们现有的应用程序之一（当前位于[http://www.companywebsitegoeshere.com/myapp1](http://www.companywebsitegoeshere.com/myapp1)）移动到 MVC 结构。

从 URL 中可以看出，网站中运行了**许多**应用程序，我打算在某个阶段移动它们。我**没有**对 wwwroot 的写入权限（在我的例子中是 /var/www/html），并且整个公司的多个开发人员都在使用网络服务器。

我希望我可以将 MVC 框架核心文件/文件夹 + 我的应用程序全部放在 1 个子文件夹中。对于 myapp1，所有文件管理器和文件夹都将位于 /var/www/html/myapp1 子文件夹中。

您能否指出正确的方向（链接/指南/文档/视频/等）？我看过几个像 cfwheels/mach-ii/fw1 但它们似乎需要 wwwroot 访问权限。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T13:07:22.363

cfwheels 可以很好地存在于子目录中。事实上，我从根目录下的子目录中运行框架测试套件只是为了在每次提交之前确保这一点。

从子目录为网站提供服务时，您唯一需要更改的是在您的子目录路径中附加 url 重写。这是重写器的事情，而不是 cfwheels 的事情。

[http://rip747.wordpress.com/2009/02/23/cfwheels-url-rewriting-in-a-subfolder/](http://rip747.wordpress.com/2009/02/23/cfwheels-url-rewriting-in-a-subfolder/)

# asp.net - 网站 (w3wp) 高内存问题

> ID：13172496
> 
> 赞同：1
> 
> 时间：2012-11-01T07:07:04.537
> 
> 标签：asp.net, iis-7.5

我有一个似乎正在泄漏大量内存的 asp.net 应用程序，并且 W3WP 的内存使用量继续增长，直到 AppPool 回收。我做了内存分析，改进了部分代码，但仍然有同样的问题。

我对 ASP.NET 网站中的内存管理有点困惑，它总是代码问题还是 IIS 中的某些设置问题！

检查我是否创建了一个新服务器，其中包含一个只有一个 default.aspx 页面（带有一些静态文本）的新 asp.net 网站。即使在浏览器中每次刷新页面时，内存也会不断增加约 200MB 甚至更多。

我确实花了很多时间寻找问题，但找不到任何解决方案。任何有助于解决这个问题的想法/帮助将不胜感激。

# android - 查看在软键盘打开时调整大小

> ID：13172497
> 
> 赞同：0
> 
> 时间：2012-11-01T07:07:05.863
> 
> 标签：android, layout, scrollview, android-relativelayout

我正在创建一个带有**滚动视图**和**相对布局的布局**。我面临的问题是，一旦软键盘打开，布局就会重新调整大小。

这是**布局文件**：

```
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:fillViewport="true"
    android:padding="10px" >

    <RelativeLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:orientation="vertical" >

    <TextView
        android:id="@+id/settings_textView"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_centerHorizontal="true"
        android:layout_marginTop="15dp"
        android:text="Settings"
        android:textAppearance="?android:attr/textAppearanceMedium" />

    <TextView
        android:id="@+id/trainingSchedule_textView"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_below="@+id/settings_textView"
        android:layout_marginLeft="19dp"
        android:layout_marginTop="22dp"
        android:text="Training Schedule:"
        android:textAppearance="?android:attr/textAppearanceSmall" />

    <EditText
        android:id="@+id/trainingSchedule_editText"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBaseline="@+id/trainingSchedule_textView"
        android:layout_alignBottom="@+id/trainingSchedule_textView"
        android:layout_marginLeft="14dp"
        android:layout_toRightOf="@+id/trainingSchedule_textView"
        android:ems="10" >
    </EditText>

    <TextView
        android:id="@+id/days_textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/trainingSchedule_textView"
        android:layout_below="@+id/trainingSchedule_editText"
        android:layout_marginTop="34dp"
        android:text="Days:"
        android:textAppearance="?android:attr/textAppearanceSmall" />

    <EditText
        android:id="@+id/days_editText"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBaseline="@+id/days_textView1"
        android:layout_alignBottom="@+id/days_textView1"
        android:layout_alignLeft="@+id/trainingSchedule_editText"
        android:ems="10"
        android:inputType="number" />

    <TextView
        android:id="@+id/time_textView"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/days_textView1"
        android:layout_below="@+id/days_editText"
        android:layout_marginTop="37dp"
        android:text="Time:"
        android:textAppearance="?android:attr/textAppearanceSmall" />

    <EditText
        android:id="@+id/time_editText"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBaseline="@+id/time_textView"
        android:layout_alignBottom="@+id/time_textView"
        android:layout_alignLeft="@+id/days_editText"
        android:ems="10"
        android:inputType="time" >
    </EditText>

    <TextView
        android:id="@+id/timezone_textView"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/time_textView"
        android:layout_centerVertical="true"
        android:text="Time Zone:"
        android:textAppearance="?android:attr/textAppearanceSmall" />

    <EditText
        android:id="@+id/timezone_editText"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBaseline="@+id/timezone_textView"
        android:layout_alignBottom="@+id/timezone_textView"
        android:layout_alignLeft="@+id/time_editText"
        android:layout_alignParentRight="true"
        android:ems="10"
        android:inputType="number" >

    </EditText>

    <TextView
        android:id="@+id/frequency_textView"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/timezone_textView"
        android:layout_below="@+id/timezone_editText"
        android:layout_marginTop="41dp"
        android:text="Frequency:"
        android:textAppearance="?android:attr/textAppearanceSmall" />

    <EditText
        android:id="@+id/frequency_editText"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBaseline="@+id/frequency_textView"
        android:layout_alignBottom="@+id/frequency_textView"
        android:layout_alignLeft="@+id/timezone_editText"
        android:ems="10" />

    <TextView
        android:id="@+id/notifications_textView"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/frequency_textView"
        android:layout_below="@+id/frequency_editText"
        android:layout_marginTop="42dp"
        android:text="Notifications:"
        android:textAppearance="?android:attr/textAppearanceSmall" />

    <EditText
        android:id="@+id/notifications_editText"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBaseline="@+id/notifications_textView"
        android:layout_alignBottom="@+id/notifications_textView"
        android:layout_alignLeft="@+id/frequency_editText"
        android:ems="10" />

</RelativeLayout>
</ScrollView> 
```

这是在模拟器中运行后的输出：

![仿真器输出](../Images/7845dd2f63c1d3aa61547097e57b33bc.png)

我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T08:00:52.290

无需对您的 xml 文件进行更多更改。请从您现有的代码中替换以下代码，我做了一些小改动。

```
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:fillViewport="true"
    android:padding="10px" >

    <RelativeLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:orientation="vertical" >

        <TextView
            android:id="@+id/settings_textView"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentTop="true"
            android:layout_centerHorizontal="true"
            android:layout_marginTop="15dp"
            android:text="Settings"
            android:textAppearance="?android:attr/textAppearanceMedium" />

        <TextView
            android:id="@+id/trainingSchedule_textView"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentLeft="true"
            android:layout_below="@+id/settings_textView"
            android:layout_marginLeft="19dp"
            android:layout_marginTop="22dp"
            android:text="Training Schedule:"
            android:textAppearance="?android:attr/textAppearanceSmall" />

        <EditText
            android:id="@+id/trainingSchedule_editText"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignBaseline="@+id/trainingSchedule_textView"
            android:layout_alignBottom="@+id/trainingSchedule_textView"
            android:layout_marginLeft="14dp"
            android:layout_toRightOf="@+id/trainingSchedule_textView"
            android:ems="10" >
        </EditText>

        <TextView
            android:id="@+id/days_textView1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignLeft="@+id/trainingSchedule_textView"
            android:layout_below="@+id/trainingSchedule_editText"
            android:layout_marginTop="34dp"
            android:text="Days:"
            android:textAppearance="?android:attr/textAppearanceSmall" />

        <EditText
            android:id="@+id/days_editText"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignBaseline="@+id/days_textView1"
            android:layout_alignBottom="@+id/days_textView1"
            android:layout_alignLeft="@+id/trainingSchedule_editText"
            android:ems="10"
            android:inputType="number" />

        <TextView
            android:id="@+id/time_textView"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignLeft="@+id/days_textView1"
            android:layout_below="@+id/days_editText"
            android:layout_marginTop="34dp"
            android:text="Time:"
            android:textAppearance="?android:attr/textAppearanceSmall" />

        <EditText
            android:id="@+id/time_editText"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignBaseline="@+id/time_textView"
            android:layout_alignBottom="@+id/time_textView"
            android:layout_alignLeft="@+id/days_editText"
            android:ems="10"
            android:inputType="time" >
        </EditText>

        <TextView
            android:id="@+id/timezone_textView"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignLeft="@+id/time_textView1"
            android:layout_below="@+id/time_editText"
            android:layout_marginTop="34dp"
            android:text="Time Zone:"
            android:textAppearance="?android:attr/textAppearanceSmall" />

        <EditText
            android:id="@+id/timezone_editText"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignBaseline="@+id/timezone_textView"
            android:layout_alignBottom="@+id/timezone_textView"
            android:layout_alignLeft="@+id/time_editText"
            android:layout_alignParentRight="true"
            android:ems="10"
            android:inputType="number" >
        </EditText>

        <TextView
            android:id="@+id/frequency_textView"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignLeft="@+id/timezone_textView"
            android:layout_below="@+id/timezone_editText"
            android:layout_marginTop="41dp"
            android:text="Frequency:"
            android:textAppearance="?android:attr/textAppearanceSmall" />

        <EditText
            android:id="@+id/frequency_editText"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignBaseline="@+id/frequency_textView"
            android:layout_alignBottom="@+id/frequency_textView"
            android:layout_alignLeft="@+id/timezone_editText"
            android:ems="10" />

        <TextView
            android:id="@+id/notifications_textView"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignLeft="@+id/frequency_textView"
            android:layout_below="@+id/frequency_editText"
            android:layout_marginTop="42dp"
            android:text="Notifications:"
            android:textAppearance="?android:attr/textAppearanceSmall" />

        <EditText
            android:id="@+id/notifications_editText"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignBaseline="@+id/notifications_textView"
            android:layout_alignBottom="@+id/notifications_textView"
            android:layout_alignLeft="@+id/frequency_editText"
            android:ems="10" />
    </RelativeLayout>

</ScrollView> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:30:04.307

将此属性设置`android:layout_below="xxxx"`为每个`TextView`.

您已将其设置为仅时间

还添加时区，频率等......

你的问题将得到解决。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T07:45:41.493

尝试`android:windowSoftInputMode`在您的清单文件中为活动设置属性。假设您的活动名称是`KeyBoardScrollIssue`. 那么活动条目应如下所示：

```
<activity
        android:name=".KeyBoardScrollIssue"
        android:label="@string/title_activity_key_board_scroll_issue" android:windowSoftInputMode="adjustPan">
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity> 
```

# html - Mozilla Firefox 中的线性渐变工件

> ID：13172500
> 
> 赞同：7
> 
> 时间：2012-11-01T07:07:15.690
> 
> 标签：html, firefox, css, linear-gradients

我在 Mozilla Firefox 16 中遇到线性渐变问题。 ![firefox 线性渐变神器](../Images/f90636fb03f51c2f3f4583c60710323c.png)

在屏幕上可以看到坏事（坏 - 块底部的灯线）。

代码：

```
<a href="#">Button Text</a> 
```

和 CSS 部分：

```
a {
    background: -moz-linear-gradient(center top , #88EB52, #3CA82D);
    border: 1px solid #399A29;
    border-radius: 4px 4px 4px 4px;
    color: #FFFFFF;
    display: block;
    float: left;
    font-size: 16px;
    font-weight: bold;
    line-height: 54px;
    margin-bottom: 20px;
    margin-top: 20px;
    text-align: center;
    text-decoration: none;
    width: 376px;
} 
```

我在 screenshot 上更改了 line-height 属性。

谁能描述它是什么线以及如何隐藏它？！

谢谢你。对不起我的英语不好。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:45:45.603

在 FF16 中测试并按预期工作。也许如果您在问题出现时提供行高值，我们可以跟踪错误。我怀疑这是由于纵横比造成的，如果问题真的发生的话。

这不是一个缺陷，但为了保持一致性，请尝试在渐变线上使用百分比或值：

```
background: -moz-linear-gradient(center top, #88EB52 0%, #223312 100%); 
```

这是工作小提琴：http: [//jsfiddle.net/FVcdu/1/](http://jsfiddle.net/FVcdu/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-07T15:50:04.067

我还在 Firefox 中偶然发现了这个奇怪的错误。花了一段时间，但我将其缩小为 css 中缺少的声明。

当您进行渐变时，您应该尝试在其中使用所有不同的浏览器标准，以便您的渐变在所有浏览器中看起来都尽可能好。我可以推荐使用[Ultimate CSS Gradient Generator](http://www.colorzilla.com/gradient-editor/)，它将为所有可能的浏览器提供 css delcerations。

**对我来说缺少的一个声明**，最终解决了它，是*W3C 标准： linnear-gradient()*。

```
background: linear-gradient(to bottom,  #CCCCCC 0%,#EEEEEE 100%); 
```

因此，在您的代码中添加它可能会解决您*的渐变中底部 1px 行*的问题，就像它对我所做的那样。

终极 CSS 渐变生成器：http: [//www.colorzilla.com/gradient-editor/](http://www.colorzilla.com/gradient-editor/)

# delphi - TIdFtpClient - handling specific error at the server side

> ID：13172505
> 
> 赞同：2
> 
> 时间：2012-11-01T07:07:49.403
> 
> 标签：delphi, indy

Clients periodically send data to server TIdFtpServer in passive mode. In one client machine, where network sometime is breaking I got message:

EIdReplyRFCError : File status okay; about to open data connection.

And next commands also throw exception like: EIdReplyRFCError : Requested action aborted: local error in processing.

When any EIdException apperar then clear socket like:

```
if Assigned(FFtp.IOHandler) then
begin
  FFtp.IOHandler.InputBuffer.Clear;
  FFtp.IOHandler.Close;
end;
FFtp.KillDataChannel; 
```

But client cannot longer send data, still EIdReplyRDCError is throwing and I must restart Server FTP. After restart then client reconnect succesfully and can send data. In the server side, I don't logged any uncatched exceptions.

I tried also at the server side, kill clients which no send data over 20 minutes:

```
try
  T := FFtpServ.Contexts.LockList;
  for I := 0 to T.Count - 1 do
  if TIdFtpServerContext(T[I]).Data <> nil then
  begin
    Cl := TFtpCl(TIdFtpServerContext(T[I]).Data);

    Minutes := MinutesBetween(Cl.LastPing, Now);
    if Minutes >= 20 then
    begin
      if(Assigned(TIdFtpServerContext(T[I]).Connection.IOHandler)) then
      begin
        TIdFtpServerContext(T[I]).Connection.IOHandler.InputBuffer.Clear;
        TIdFtpServerContext(T[I]).Connection.IOHandler.Close;
      end;
      TIdFtpServerContext(T[I]).KillDataChannel;
    end;
  end;
finally
  DM.FFtpServ.Contexts.UnLockList;
end; 
```

But in this approach often I got AccessViolation exception.

Any idea to solve this problem?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T10:26:41.583

在 Contexts.UnLockList 之后。我认为在客户端池线程中抛出异常。

如何在服务器端正确断开指定客户端？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T20:45:28.727

您所描述的表明 FTP 通信已不同步。 `TIdFTP`正在以错误的顺序处理服务器响应。您能做的最好的事情就是让客户端断开连接并重新连接。您不必在服务器端做任何事情。

# opengl - OpenGL vertex buffer objects and ordering of textured vs non-textured geometry

> ID：13172507
> 
> 赞同：0
> 
> 时间：2012-11-01T07:07:55.520
> 
> 标签：opengl

I am rendering 2 sets of geometry using vertex buffer objects in OpenGL - one with textures and one without. I am not using the programmable pipeline because of legacy code.

What I find is that if I render the textured geometry first followed by the non-textured geometry, everything looks good. But if I do the reverse, the textured geometry is not drawn.

I am using interleaved arrays, and here is the rendering code:

```
void MyClass::render()
{

    // 3*v + 3*c + 3*n + (2*t)
    const char *base = NULL;
    GLsizei stride = _enableTexture ? 11*sizeof(GLfloat) : 9*sizeof(GLfloat);
    GLvoid* vOffset = (GLvoid*)0;
    GLvoid* cOffset = (GLvoid*)(3*sizeof(GLfloat));
    GLvoid* nOffset = (GLvoid*)(6*sizeof(GLfloat));
    GLvoid* tOffset = (GLvoid*)(9*sizeof(GLfloat));

    // prepare vertex VBO
    glBindBuffer(GL_ARRAY_BUFFER, _iBuffer);

    // enable vertex array
    glEnableClientState(GL_VERTEX_ARRAY);
    glVertexPointer(3, GL_FLOAT, stride, vOffset);

    // enable color array
    glEnableClientState(GL_COLOR_ARRAY);
    glColorPointer(3, GL_FLOAT, stride, cOffset);

    // enable normal array
    glEnableClientState(GL_NORMAL_ARRAY);
    glNormalPointer(GL_FLOAT, stride, nOffset);

    // texture coords
    if(_enableTexture) {    
      // enable texture array
      glEnableClientState(GL_TEXTURE_COORD_ARRAY);
      glTexCoordPointer(2, GL_FLOAT, stride, tOffset);
    }

    // draw geometry
    glDrawArrays(GL_TRIANGLES, 0, _nVertices);      

    // disable/unbind
    glDisableClientState(GL_VERTEX_ARRAY);
    glDisableClientState(GL_COLOR_ARRAY);
    glDisableClientState(GL_NORMAL_ARRAY);

    if(_enableTexture) {
      glDisableClientState(GL_TEXTURE_COORD_ARRAY);
    }

    glBindBuffer(GL_ARRAY_BUFFER, 0);
} 
```

This works:

```
myClassTextured->render();
myClassNonTextured->render(); 
```

This fails:

```
myClassNonTextured->render();
myClassTextured->render(); 
```

What am I doing wrong?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T00:13:45.010

要检查的两件事：

首先，如果`_enableTexture`为 false，则应禁用`GL_TEXTURE_COORD_ARRAY`in `render()`。*正如Tal*和*Christian*已经指出的那样，你为什么不启用/禁用`GL_TEXTURE_2D`呢`render()`？更容易理解和调试。

第二，你是如何分配的`_iBuffer`，之后可以`_enableTexture`改变吗？如所写，您的`render()`方法仅在`_iBuffer`为每个顶点分配 9 个浮点数时才有效，如果`_enableTexture`为假，则为 11 个如果为真。但是，如果您`_iBuffer`为纹理坐标分配了足够的空间，无论您是否最终使用它们，步幅值都应始终为 11。

# python - Python定义函数参数传递

> ID：13172511
> 
> 赞同：0
> 
> 时间：2012-11-01T07:08:03.287
> 
> 标签：python, function, parameters, definition

对于你们中的大多数人来说，这可能是常识，但我发现很难掌握这一点。如果您创建一个函数，例如

```
def one():
    x=1
    y=2
    z=3
    h=33
    j=454
    l=353
    m=898 
```

然后假设我有另一个函数 def two():，我想将 def one() 中的变量用于 def two，并且我还在 def two() 中创建了两个新变量。我将如何去做。

然后，假设我有第三个函数 def three()，我将如何将 def 1 和 def 2 中的变量用于 def 3？我使用的方法效率非常低，而且可能做的比需要的多。我所做的是在 def 2 中，将 def 1 中的所有变量添加到 def 2 的参数中，然后我还在函数 2 的 def 中调用函数 1。我知道 SO 上有很多线程，我看过通过他们中的许多人，他们并不简单。他们使用我不熟悉的非常具体和高级的代码，因此无法理解。我的例子非常简单明了，我相信如果回答它会帮助很多新手。谢谢！

编辑：我不想要一种最终使用我不熟悉的高级代码的“简单”方式。我想要一种简单易懂的“高效”方法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T07:10:00.743

我认为最好的解决方案是为您的代码（类、方法和继承）采用 OO 范式。

使用简单的函数，您可以在使用全局变量和局部范围之间进行选择。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-01T07:12:16.703

数据作为参数传入函数，从函数传出作为返回值。函数的理想情况是您无需访问函数范围之外的变量。

如果你有很多数字，也许你应该将它们声明为一个列表（更易于管理），然后将它们作为参数传递到函数中，作为转换结果传递到函数之外，作为返回值？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-01T07:14:26.297

您*可以*使用`global`关键字来创建和修改全局变量，如下所示：

```
In [1]: def one():
   ...:     global a
   ...:     a = 1
   ...: 

In [2]: one()

In [3]: a
Out[3]: 1 
```

但是，拥有这么多（甚至可能是任何）全局变量并不是一个好的做法。您可以声明一个全局`list`并将所有这些值保留在其中，这样会更干净；尽管您应该尽力坚持使用 Andrew 的回答中概述的函数参数和返回值。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-01T08:05:39.873

在完全不清楚您要做什么的情况下，这是一种简单的方法：

```
class One(object):
    x=1
    y=2
    z=3
    h=33
    j=454
    l=353
    m=898

class Two(One):
    n=42
    o=1337

print Two.x, Two.n  # 1, 42 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-01T08:41:40.050

如果我了解您需要什么，那么我认为 python 带给您的最简单方法是下一个->

```
class Helper:pass 

# use name space
def one(a):  
    a.x=1
    a.y=2
    a.z=3
    a.h=33
    a.j=454
    a.l=353
    a.m=898

def two(a):
    a.y=7

a=Helper()

one(a)
print(a.x,a.y)
two(a)
print(a.x,a.y)

#-------------------------------------------------------------------
# I think you have solution and dont need to read next lines :)
# next lines are just bonus ;)
#-------------------------------------------------------------------

# you could use more independent "namespaces"
b=Helper()
one(b)
print(b.y)
print(a.y)  # "namespace a" is unchanged

# if you like to see which attributes are defined you could use funciton dir
# (under python3 it is a little more complicated)
print(dir(a))
print(dir(b))

# please dont do next lines at home!!! :P:P:P (__builtins__ is special you could get unwanted results!) 
one(__builtins__)

print(x) # 
```

# android - 如何使自定义 ListView 内的 TextView 可滚动？

> ID：13172512
> 
> 赞同：2
> 
> 时间：2012-11-01T07:08:03.070
> 
> 标签：android

我参考了以下网址：

[Textview不在自定义列表视图中滚动](https://stackoverflow.com/questions/10736422/textview-not-scrolling-inside-custom-listview)

但这对我不起作用，我在哪里放置 Java 文件和 XML 文件？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:17:30.553

我在 xml 中将此属性用于自定义行：

```
<TextView
                android:id="@+id/descr" 
                android:layout_height="wrap_content" 
                android:layout_width="200dp" 
                android:text="Lorem Ipsum is simply dummy text of the printing and typesetting industry.checking text "
                android:textSize="12sp" 
                android:textColor="#000000"
                android:layout_toRightOf="@id/icon" 
                android:layout_below="@id/subtitle"
                android:layout_toLeftOf="@id/distance"
                android:maxLines="3"
                android:scrollbars="vertical"
                /> 
```

然后像这样在自定义适配器中设置文本，

```
holder.des.setText(list.get(position).getSummary());
            holder.des.setMovementMethod(new ScrollingMovementMethod()); 
```

如果文本超过 3 行，则其滚动。

# matlab - Adding C compiler MATLAB

> ID：13172513
> 
> 赞同：0
> 
> 时间：2012-11-01T07:08:13.437
> 
> 标签：matlab

How do I add C compilers to MATLAB 7.9.0(R2009b)? I tried `mex -setup` to view the supported compilers, but I am getting this:

```
**>> mex -setup
Please choose your compiler for building external interface (MEX) files: 

Would you like mex to locate installed compilers [y]/n? y

Select a compiler: 

[0] None** 
```

If anyone knows the solution, please reply. Thanks in advance.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-16T17:50:48.473

如果您确定您使用的是受支持的编译器，请在询问您是否希望 mex 找到编译器时说不 (n)。如果您的编译器不在默认位置，请在下一个提示中使用默认位置说“否”。使用编译器输入文件夹的路径；确保在路径周围使用单引号。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T11:12:37.673

这是 2009b 支持的编译器的链接。

[http://www.mathworks.co.uk/support/compilers/R2009b/index.html](http://www.mathworks.co.uk/support/compilers/R2009b/index.html)

如果您在默认位置安装了其中一个，那么您发布的命令会找到它。

# php - 替换数组的值

> ID：13172518
> 
> 赞同：0
> 
> 时间：2012-11-01T07:08:25.660
> 
> 标签：php

php 5.2.5 我编写了通过 courseid 从 MySQL 数据库获取模块的函数。

```
function getModules($courses, $mod) {
global $DB;
$result = array();
foreach ($courses as $value) {
    $value->mods = array();
    $value->count = 0;
    $temp = $DB->get_records_sql("
        SELECT q.*, cm.idnumber as cmidnumber, q.course as courseid
        FROM {modules} m
        JOIN {course_modules} cm ON m.id = cm.module
        JOIN {".$mod."} q ON cm.instance = q.id
        WHERE m.name = '".$mod."' AND cm.course = ?", array($value->id)); 
    foreach ($temp as $vS) {
        $value->mods[] = $vS;
        $value->count++;
    }
    $result[] = $value;
}  
return $result;
} 
```

尝试获取某种类型的模块（to_debug 只是关于 var_dump 的一种包装器）

```
$learningScorm = getModules($learning, 'scorm');
to_debug($learningScorm);  // in debug I can see right values.
echo '<br><br><br>';
$learningLesson = getModules($learning, 'lesson');
to_debug($learningScorm);// in debug I see what value of $learningScorm is replaced by value of $learningLesson
$testingQuiz = getModules($testing, 'quiz');
$labAssignment = getModules($lab, 'assignment'); 
```

我不明白为什么会发生这种替换如果您对这种行为有一些提示，请给我。

如果我评论这些行

```
$value->mods = array();
$value->count = 0; 
```

然后 $learningScorm 是对来自 $learningScorm 和 $learningLesson 的模块求和。看来...似乎 $courses 在函数 O_O 期间不是本地的。我不知道该怎么想了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:17:22.223

getModules 是否返回引用？在这种情况下，两个变量可能指向相同的信息。可能发生的事情的简化示例：

```
var $global = 'x';

function getModules($a){
  global $global;
  $global = $a;
  return &$global;
}

// $a becomes 'foo', or actually a reference to $global, which now 
// has the value 'foo'
$a = getModules('foo'); 

// $b also is a reference to $global, which now has the value 'bar'. 
// Therefor, both $a and $b will show the value 'bar.
$b = getModules('bar'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T08:10:01.440

$courses 是本地的，但 $courses 包含的对象是真实对象。通过改变 $value 的真正项目也在改变。

# emacs - 检查测试字符串是否与正则表达式匹配的 elisp 函数？

> ID：13172521
> 
> 赞同：1
> 
> 时间：2012-11-01T07:08:45.270
> 
> 标签：emacs, elisp

elisp 中是否有类似 (function-name regular-expression-string test-string) 的函数来检查测试字符串和正则表达式字符串是否匹配？

就我而言，我需要使用正则表达式来检查文件名字符串是否为 PDF 文件名字符串。

例如，“/mnt/ntfs/dianzishu/pplib/plan/The_linux_virtual_memory_manager.pdf”

更新：我明白了。字符串匹配

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T06:13:01.123

该函数是字符串匹配。

（字符串匹配“\.pdf\'”文件名字符串）

# postgresql - 将用户 ID 传递给 PostgreSQL 触发器

> ID：13172524
> 
> 赞同：50
> 
> 时间：2012-11-01T07:09:20.777
> 
> 标签：postgresql, triggers

我正在使用 PostgreSQL 9.1。我的数据库是结构化的，因此有我的应用程序使用的实际表。对于每个表，都有一个历史表，它只存储更改历史。历史表包含与实际表和字段相同的字段，这些字段形成了一些额外的信息，例如。编辑时间。历史表仅由触发器处理。

我有两种触发器：

1.  `Before INSERT`触发器在创建表时向表中添加一些额外信息（例如 create_time）。
2.  `Before UPDATE`触发器和`before DELETE`触发器将旧值从实际表复制到历史表。

问题是我想使用触发器来存储进行这些更改的用户的 ID。我所说的 id 是指来自 php 应用程序的 id，而不是 PostgreSQL 用户 id。

有没有合理的方法来做到这一点？

使用 INSERT 和 UPDATE 可以将额外的 id 字段添加到实际表中，并将用户 id 作为 SQL 查询的一部分传递给 SQL。据我所知，这不适用于 DELETE。

所有触发器的结构如下：

```
CREATE OR REPLACE FUNCTION before_delete_customer() RETURNS trigger AS $BODY$
BEGIN
    INSERT INTO _customer (
        edited_by,
        edit_time,
        field1,
        field2,
        ...,
        fieldN
    ) VALUES (
        -1, // <- This should be user id.
        NOW(),
        OLD.field1,
        OLD.field2,
        ...,
        OLD.fieldN
    );
    RETURN OLD;
END; $BODY$
LANGUAGE plpgsql 
```

* * *

## 回答 #1

> 赞同：54
> 
> 时间：2012-11-01T07:46:31.570

选项包括：

*   当您打开连接时，`CREATE TEMPORARY TABLE current_app_user(username text); INSERT INTO current_app_user(username) VALUES ('the_user');`. 然后在您的触发器中，`SELECT username FROM current_app_user`获取当前用户名，可能作为子查询。

*   在为[自定义 GUC](http://www.postgresql.org/docs/current/interactive/runtime-config-custom.html)`postgresql.conf`创建条目时，例如. 每当您创建连接[时运行](http://www.postgresql.org/docs/current/interactive/sql-set.html). 然后在触发器中，使用[函数](http://www.postgresql.org/docs/current/interactive/functions-admin.html)获取值。实际上，您正在滥用 GUC 机制来提供会话变量。*阅读适合您的服务器版本的文档，因为自定义 GUC 在 9.2 中发生了更改*。`my_app.username = 'unknown';`[`SET my_app.username = 'the_user';`](http://www.postgresql.org/docs/current/interactive/sql-set.html)[`current_setting('my_app.username')`](http://www.postgresql.org/docs/current/interactive/functions-admin.html)

**   调整您的应用程序，使其具有适用于每个应用程序用户的数据库角色。`SET ROLE`在工作之前给那个用户。这不仅可以让您使用内置的类`current_user`变量函数`SELECT current_user;`，还可以让您*在数据库中强制执行安全性*。看到[这个问题](https://dba.stackexchange.com/q/25357/7788)。您可以直接以用户身份登录，而不是使用`SET ROLE`，但这往往会使连接池变得困难。* 

 *在这三种情况下，您都在使用连接池，当您将连接返回到池时必须小心[`DISCARD ALL;`](http://www.postgresql.org/docs/current/interactive/sql-discard.html)。（[虽然它没有记录为这样做](http://postgresql.1045698.n5.nabble.com/Docs-bug-SET-ROLE-docs-should-quot-see-also-DISCARD-ALL-quot-td5726583.html)，`DISCARD ALL`但确实如此`RESET ROLE`）。

## 演示的常见设置：

```
CREATE TABLE tg_demo(blah text);
INSERT INTO tg_demo(blah) VALUES ('spam'),('eggs');

-- Placeholder; will be replaced by demo functions
CREATE OR REPLACE FUNCTION get_app_user() RETURNS text AS $$
SELECT 'unknown';
$$ LANGUAGE sql;

CREATE OR REPLACE FUNCTION tg_demo_trigger() RETURNS trigger AS $$
BEGIN
    RAISE NOTICE 'Current user is: %',get_app_user();
    RETURN NULL;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER tg_demo_tg
AFTER INSERT OR UPDATE OR DELETE ON tg_demo 
FOR EACH ROW EXECUTE PROCEDURE tg_demo_trigger(); 
```

## 使用 GUC：

*   在 的`CUSTOMIZED OPTIONS`部分中`postgresql.conf`，添加一行，如`myapp.username = 'unknown_user'`。在 9.2 之前的 PostgreSQL 版本上，您还必须设置`custom_variable_classes = 'myapp'`.
*   重新启动 PostgreSQL。您现在将能够`SHOW myapp.username`获得价值`unknown_user`。

现在您可以`SET myapp.username = 'the_user';`在建立连接时使用，或者如果您希望它是事务本地的，则可以在事务`SET LOCAL myapp.username = 'the_user';`之后使用，这对于池连接很方便。`BEGIN`

`get_app_user`函数定义：

```
CREATE OR REPLACE FUNCTION get_app_user() RETURNS text AS $$
    SELECT current_setting('myapp.username');
$$ LANGUAGE sql; 
```

`SET LOCAL`使用交易本地当前用户名的演示：

```
regress=> BEGIN;
BEGIN
regress=> SET LOCAL myapp.username = 'test_user';
SET
regress=> INSERT INTO tg_demo(blah) VALUES ('42');
NOTICE:  Current user is: test_user
INSERT 0 1
regress=> COMMIT;
COMMIT
regress=> SHOW myapp.username;
 myapp.username 
----------------
 unknown_user
(1 row) 
```

如果您使用`SET`而不是`SET LOCAL`设置，则不会在提交/回滚时恢复，因此它在整个会话中是持久的。它仍然被重置`DISCARD ALL`：

```
regress=> SET myapp.username = 'test';
SET
regress=> SHOW myapp.username;
 myapp.username 
----------------
 test
(1 row)

regress=> DISCARD ALL;
DISCARD ALL
regress=> SHOW myapp.username;
 myapp.username 
----------------
 unknown_user
(1 row) 
```

另外，请注意，您不能使用`SET`或`SET LOCAL`与服务器端绑定参数一起使用。如果要使用绑定参数（“准备好的语句”），请考虑使用函数形式`set_config(...)`。查看[系统管理功能](https://www.postgresql.org/docs/current/functions-admin.html)

## 使用临时表

这种方法需要使用一个触发器（或最好由触发器调用的辅助函数），它试图从每个会话应该具有的临时表中读取一个值。如果找不到临时表，则提供默认值。这可能*有点慢*。仔细测试。

`get_app_user()`定义：

```
CREATE OR REPLACE FUNCTION get_app_user() RETURNS text AS $$
DECLARE
    cur_user text;
BEGIN
    BEGIN
        cur_user := (SELECT username FROM current_app_user);
    EXCEPTION WHEN undefined_table THEN
        cur_user := 'unknown_user';
    END;
    RETURN cur_user;
END;
$$ LANGUAGE plpgsql VOLATILE; 
```

演示：

```
regress=> CREATE TEMPORARY TABLE current_app_user(username text);
CREATE TABLE
regress=> INSERT INTO current_app_user(username) VALUES ('testuser');
INSERT 0 1
regress=> INSERT INTO tg_demo(blah) VALUES ('42');
NOTICE:  Current user is: testuser
INSERT 0 1
regress=> DISCARD ALL;
DISCARD ALL
regress=> INSERT INTO tg_demo(blah) VALUES ('42');
NOTICE:  Current user is: unknown_user
INSERT 0 1 
```

## 安全会话变量

还有一个向 PostgreSQL 添加“安全会话变量”的提议。这些有点像包变量。从 PostgreSQL 12 开始，该功能尚未包含在内，但如果您需要，请留意并在黑客名单上发言。

## 高级：您自己的共享内存区域扩展

对于高级用途，您甚至可以拥有自己的 C 扩展注册共享内存区域，并使用 C 函数调用在 DSA 段中读取/写入值在后端之间进行通信。有关详细信息，请参阅 PostgreSQL 编程示例。您将需要 C 知识、时间和耐心。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2013-10-16T18:23:44.860

set 有一个这里没有提到的变体集会话。这很可能是应用程序开发人员通常真正想要的，而不是普通的 set 或 set local。

```
set session trolol.userr = 'Lol'; 
```

我的测试触发设置稍微简单一些，但想法与 Craig Ringer 的选项 2 相同。

```
create table lol (
    pk varchar(3) not null primary key,
    createuser varchar(20) not null);

CREATE OR REPLACE function update_created() returns trigger as $$ 
     begin new.createuser := current_setting('trolol.userr'); return new; end; $$ language plpgsql;

create trigger lol_update before update on lol for each row execute procedure update_created();
create trigger lol_insert before insert on lol for each row execute procedure update_created(); 
```

在这一点上，我觉得这是完全可以接受的。如果由于某种原因意外未设置会话变量，则没有 DDL 语句并且插入/更新将不会成功。

使用`DISCARD ALL`可能不是一个好主意，因为它会丢弃所有内容。例如 SqlKorma 根本不喜欢这个。相反，您可以使用重置变量

```
SET software.theuser TO DEFAULT 
```

我简要地考虑了第四个选项。在标准变量集中有可以使用的“application_name”。这个解决方案有一些限制，但也有一些明显的优势，具体取决于上下文。

有关第四个选项的更多信息，请参阅：

[通过 JDBC 设置 application_name](https://stackoverflow.com/questions/7145908/display-application-name-in-session-information-when-connecting-via-jdbc)

[关于 application_name 的 postgre 文档](http://www.postgresql.org/docs/9.2/static/runtime-config-logging.html#RUNTIME-CONFIG-LOGGING-WHAT)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-04-13T13:50:42.623

另一种选择是`last_updated_user_id`在被审计的表中有一个。该值可以由 PHP/Webapp 轻松设置，并将在`NEW.last_updated_user_id`添加到审计表中可用

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-09-24T20:31:02.533

我认为在撰写此答案时，还没有令人满意的解决方案。我最终在 nodejs 中间件上使用了**set_config**。

```
app.use((req, res, next)=>{
    db.query("SELECT set_config('myapp._user_id', $1, false)", [req.session.user.id]);
    next();
}); 
```

调试后发现是全局设置给所有用户的。（竞争条件很容易发生）而且您不能使用**SET LOCAL**，因为您需要在请求开始时开始事务，并在请求完成时提交/回滚。*

# javascript - positioning of divs when height set to auto

> ID：13172526
> 
> 赞同：0
> 
> 时间：2012-11-01T07:09:33.790
> 
> 标签：javascript, jquery, html, css

I have a scenario while writing an html code.. that inbetween some floating divs... there comes two divs with absolute positioning.. and Ive created a sample jsfiddle to show the issue.. try entering a long text like for example "CSS overflow hidden with absolute position · how do I prevent ... Size of overflow:hidden div with position:absolute one inside · CSS/HTML ...".. and clickon submite button...it will get appended in the mainContainer... since the text is too long and that container div is set to auto..it will extend and go behind the textbox container div.. is there anyway I dould make the textbox container to move down according to the height needed for the main container to get visible area and then move back up if not needed.. im using the absolute positioning due to one factor..as when I add width:100% in css.. that div usually leaves a gap between left margin and the start of that div... and it appears as a blank space.. please check the fiddle..

[http://jsfiddle.net/EVwSG/5/](http://jsfiddle.net/EVwSG/5/)

HTML Enter

CSS

```
#mainContainer{
width:50%;
height:auto;
position:absolute;
left:0;
top:20px;
background-color:#000000;
color:#ffffff;
font-size:19px;
}

 #textboxContainer{
position:absolute;
width:100%;
height:100px;
background-color:green;
top:60px;
left:0;
}

#inputBox{
width:80%;
}​ 
```

​</p>

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:19:39.383

问题在于使用位置：绝对。如果您从两个 div 元素中删除它并允许它们成为块级元素，它将允许所有内容按您的预期呈现。如果您需要绝对定位它们，我建议创建一个相对位置的父元素，这样它就不会出现在页面上其他 div 的后面。

您可以像其他答案指定的那样计算高度，但我认为如果可能的话，最好将其留给浏览器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:19:40.210

最简单的解决方案是获取新元素的高度，然后添加顶部。

```
$("#textboxContainer").css("top", $("#mainContainer").height() + 20); 
```

这会将底部容器向下移动到正确的高度。这是[工作解决方案](http://jsfiddle.net/EVwSG/10/)的链接。

# iphone - Creating the alphabetical section headers in uitableview. Issue with other fields detail textlabel, imageview and didselect

> ID：13172527
> 
> 赞同：1
> 
> 时间：2012-11-01T07:09:40.103
> 
> 标签：iphone, objective-c, sqlite, uitableview

In my table view i need to display Contact name, Company name and Picture of contact person.

![enter image description here](../Images/55320599977c7194145b29f9c59c5fa6.png)

I can add/edit a contact from the **Add/Edit Contact** page.

![enter image description here](../Images/14cb787c409b2e0ccf765242e8514a6f.png)

When I entered values in add/edit page I store them in a dictionay.

I retrieved ContactNames in an array ContactsArray and using this array I tried to set sections and headers.

in this process other fields are not displayed what we have saved, **observe detail Text label** even this problem in didSelectRow method also..

When I selected 1st row of any section it navigates to the details page for 1sr row of 1st section

When I selected 2nd row of any section it navigates to the details page for 2nd row of 1st section

it may be the problem of sections

//Inside ViewDidLoad Method

```
 sections = [[NSMutableDictionary alloc] init]; ///Global Object

  BOOL found;

  for (NSString *temp in contactsArray)
  {        
        NSString *c = [temp substringToIndex:1];

        found = NO;

        for (NSString *str in [sections allKeys])
        {
              if ([str isEqualToString:c])
              {
                    found = YES;
              }
        }

        if (!found)
        {     
              [sections setValue:[[NSMutableArray alloc] init] forKey:c];
        }
  }
  for (NSString *temp in contactsArray)
  {
        [[sections objectForKey:[temp substringToIndex:1]] addObject:temp];
  }

      [contactsTable reloadData]; 
```

}

Tableview methods

```
-(NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
      return [[sections allKeys]count];
}

-(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
      return [[sections valueForKey:[[[sections allKeys] sortedArrayUsingSelector:@selector(localizedCaseInsensitiveCompare:)] objectAtIndex:section]] count];
}

-(UITableViewCell*)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
      static NSString* CellIdentifier = @"Cell";
      UITableViewCell* cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
      if(cell == Nil)
      {
            cell  = [[UITableViewCell alloc]initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier];
      }
      NSString *titleText = [[sections valueForKey:[[[sections allKeys] sortedArrayUsingSelector:@selector(localizedCaseInsensitiveCompare:)] objectAtIndex:indexPath.section]] objectAtIndex:indexPath.row];

       cell.textLabel.text = titleText;

      Contact *contact = [storedContactsArray objectAtIndex:indexPath.row];
      Contact *contactPicture = [storedPicsArray objectAtIndex:indexPath.row];

          _____________________________________

           cell.detailTextLabel.text = contact.companyName;
          UIImage *contactImage =  [[UIImage alloc]initWithContentsOfFile:contactPicture.contactImage];
           cell.imageView.image = contactImage;
            _______________________________
              return cell;
} 
```

Even when I sect **Bb** it navigates to hte **AAAAA** page details..

I tried with this link [http://www.devx.com/wireless/Article/43374/0/page/2](http://www.devx.com/wireless/Article/43374/0/page/2) alsoo even I repeats the same issue

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
      EditContact *editContact = [[EditContact alloc] init];
      if([self.storedContactsArray count] != 0)
      {
            Contact *contactsDict = [storedContactsArray objectAtIndex:indexPath.row];
            editContact.contactInfo = contactsDict;

            Contact *picsDict = [storedPicsArray objectAtIndex:indexPath.row];
            editContact.storedPicsDict = picsDict;
      }

      [self.navigationController pushViewController:editContact animated:YES];
      [editContact release];
      [storedContactsArray release];

} 
```

![enter image description here](../Images/d0ef0dc30333479ed08b7492c4e40258.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:26:21.627

我们可以知道您在 tableView:didSelectRowAtIndexPath: 委托方法中在做什么吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:44:10.617

您不能在多个部分上使用行索引。在每个部分`indexPath.row`将再次从 0 开始。你也有你用`indexPath.section`。

在我看来，你有两种方法可以解决这个问题：

1.  重构你的整个代码以获得一个包含所有起始字符的字典**和**一个包含所有联系人的数组
2.  **将每个**字符（a、b 等）的整个联系人保存在`sections`字典的子数组中。如果你已经这样做了，你可以使用代替and ，例如像这样：**`sections``storedContactsArray``storedPicsArray``NSDictionary *contactData = [[[sections objectForKey:[[sections allKeys] objectAtIndex:indexPath.section]] objectForKey:@"contacts"] objectAtIndex:indexPath.row];`**

 **此外，您可以保存多行代码：

```
 for (NSString *temp in contactsArray)
  {        
        NSString *c = [temp substringToIndex:1];

        if ([sections objectForKey:c] == nil)
        {     
              [sections setValue:[[NSMutableArray alloc] init] forKey:c];
        }
  } 
```

是相同的：

```
 for (NSString *temp in contactsArray)
  {        
        NSString *c = [temp substringToIndex:1];

        found = NO;

        for (NSString *str in [sections allKeys])
        {
              if ([str isEqualToString:c])
              {
                    found = YES;
              }
        }

        if (!found)
        {     
              [sections setValue:[[NSMutableArray alloc] init] forKey:c];
        }
  } 
```**

# c# - How to get response from the web in windows 8 metro style app?

> ID：13172528
> 
> 赞同：1
> 
> 时间：2012-11-01T07:09:49.807
> 
> 标签：c#, windows-8, httpwebrequest

I'm creating a Windows 8 Metro App to fetch Facebook contacts. In a normal windows application created in Windows 7 accepts `WebClient`,

```
private WebClient wc = new WebClient();
string jsonResponse = wc.DownloadString("https://graph.facebook.com/" + ID);
FacebookUser User = JsonConvert.DeserializeObject<FacebookUser>(jsonResponse); 
```

but this does not work in my Windows 8 Metro App

So, I started using `HTTPRequest` and `HTTPResponse`

```
HttpWebRequest request = (HttpWebRequest)WebRequest.Create(url);
request.Method = "GET"; 
```

I don't know how to get the response (list of Facebook contacts) as a JSON.

Can anyone help me please?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T08:40:54.927

谢谢大家，我创建了方法，

```
 public async void PerformHttpGet(string url,out string responseText)
    {
        int respCode = 0;
        try
        {
            // used to build entire input
            StringBuilder sb = new StringBuilder();

            // used on each read operation
            byte[] buf = new byte[8192];

            // prepare the web page we will be asking for
            HttpClient searchClient;
            searchClient = new HttpClient();
            searchClient.MaxResponseContentBufferSize = 256000;
            HttpResponseMessage response = await searchClient.GetAsync(url);
            response.EnsureSuccessStatusCode();
            responseText = await response.Content.ReadAsStringAsync();
        }
        catch (WebException e)
        {
            string text = string.Empty;
            string outRespType = string.Empty;
            if (e.Response != null)
            {
                using (WebResponse response = e.Response)
                {
                    outRespType = response.ContentType;
                    HttpWebResponse exceptionResponse = (HttpWebResponse)response;
                    respCode = (int)exceptionResponse.StatusCode;

                    using (System.IO.Stream data = response.GetResponseStream())
                    {
                        text = new System.IO.StreamReader(data).ReadToEnd();
                    };
                };
            }
            throw e;
        }
        catch (Exception ex)
        {
            throw ex;
        }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T07:15:19.727

使用`System.Net.Http.HttpClient`：

```
HttpClient client = new HttpClient();
client.MaxResponseContentBufferSize = 256000;
HttpResponseMessage response = await client.GetAsync(address);
response.EnsureSuccessStatusCode();
String jsonResponse = await response.Content.ReadAsStringAsync();
FacebookUser User = JsonConvert.DeserializeObject<FacebookUser>(jsonResponse); 
```

# java - How to use cyper queries of Neo4j in Java Application

> ID：13172529
> 
> 赞同：2
> 
> 时间：2012-11-01T07:09:53.227
> 
> 标签：java, neo4j

I am using CypersQueries to create nodes from java Applicaton. I am following the above link

```
http://docs.neo4j.org/chunked/milestone/query-create.html 
```

In my javaApplication i used a sample query as above

```
public class CretaeQuery
{
    public static final String DBPATH="D:/Neo4j/CQL";

    public static void main(String args[])
    {
        GraphDatabaseService path=new EmbeddedGraphDatabase(DBPATH);
        Transaction tx=path.beginTx();
        try
        {
        Map<String, Object> props  = new HashMap<String, Object>();
        props .put( "name", "Sharon" );
        props .put( "position", "Engineer" );

        Map<String, Object> params = new HashMap<String, Object>();
        params.put( "props", props  );

        ExecutionEngine engine=new ExecutionEngine(path);
        ExecutionResult result=engine.execute( "create ({props})", params );
        System.out.println(result);
        tx.success();
        } 
        finally
        {
             tx.finish();
             path.shutdown();

        }
    }
} 
```

when I am running the above Class I am facing the above eror

```
Exception in thread "main" java.lang.NoClassDefFoundError: com/googlecode/concurrentlinkedhashmap/ConcurrentLinkedHashMap$Builder
    at org.neo4j.cypher.internal.LRUCache.<init>(LRUCache.scala:30)
    at org.neo4j.cypher.ExecutionEngine$$anon$1.<init>(ExecutionEngine.scala:84)
    at org.neo4j.cypher.ExecutionEngine.<init>(ExecutionEngine.scala:84)
    at com.neo4j.CretaeQuery.main(CretaeQuery.java:33)
Caused by: java.lang.ClassNotFoundException: com.googlecode.concurrentlinkedhashmap.ConcurrentLinkedHashMap$Builder
    at java.net.URLClassLoader$1.run(Unknown Source)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(Unknown Source)
    at java.lang.ClassLoader.loadClass(Unknown Source)
    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)
    at java.lang.ClassLoader.loadClass(Unknown Source)
    ... 4 more 
```

I have no idea why the error is throwing. please suggest me with proper code

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:34:32.503

您的类路径中缺少内容，或者服务器未正确初始化。大约一个月前，concurrenthashmap 作为 jar 放在 /lib 中。这是嵌入式模式还是服务器模式？

# linux - How to determine the uniqueness of a file in linux?

> ID：13172534
> 
> 赞同：0
> 
> 时间：2012-11-01T07:10:14.083
> 
> 标签：linux, inotify, inode

What i mean to "uniqueness" here also concerns about the time.

*   Every time a file created on file system, there's a unique file.
*   Files in same directory with same name but appears in different time stage are different.
*   Definition to "unique" has nothing to do with file content.

Firstly, i use inode to identify a file, files with different inode are different, a file alway have a fixed inode within it's lifecycle even it's been moved and touched.

BUT, the inode may be reused by the OS. If file A.txt has inode 22345, if i delete A.txt and create B.txt, B.txt MAY have in ode 22345.

What if there's creation-time for files? So that I can use inode+creation-time to identify a file in the file system's history. But linux didn't offer that.

I also try inode+file_md5, but what if A.txt and B.txt have same con ten?

So, do you have any ideas?

=========== edit ===========

My scenario is a kind of log file collecting. In a logging directory, log files maybe created, moved and deleted. We use mapping from file offset to timestamp to do some "check point" like work. So how to defile the "file" mentioned just now?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-01T07:30:51.307

通常除了 inode 编号之外，还比较设备编号，因为两个不同文件系统上的两个文件可能具有相同的 inode 编号。

无论如何，比较 inode/dev 编号是回答“这两个文件描述符是否引用同一个文件？”问题的一种方法。请注意问题中使用“文件描述符”而不是“路径”，如果在其中的 stat()' 之后和比较 inode/dev 编号之前随后删除了路径，则可以避免竞争。正如您自己指出的那样，只有当它们具有活动引用（路径和/或它们被某个进程打开）时，inode 编号才能保证是唯一的。

在您的情况下，我想一种解决方案是跟踪您感兴趣的文件的 inode/dev 编号，如果文件被删除，则从列表中删除。虽然我不确定你真正想要完成什么。

# javascript - 多边形碰撞检测实现

> ID：13172539
> 
> 赞同：4
> 
> 时间：2012-11-01T07:10:36.203
> 
> 标签：javascript, algorithm, polygons

我正在尝试编写自己的分离轴定理实现，但我很难让它像我想要的那样准确地工作。我不能肯定地说，但是当形状周围的一个假想的盒子像第一个形状一样碰撞时，它看起来像是在说发生了碰撞。但是第二种形状完美地工作。

这是正方形的顶点数据（精确坐标）：

```
vertsx = [ 200, 220, 220, 200 ]
vertsy = [ 220, 220, 200, 200 ] 
```

这是测试形状 1 的顶点数据（相对于鼠标）：

```
vertsx = [ -10,   0,  10, 10, -10 ]
vertsy = [ -10, -50, -10, 10,  10 ] 
```

最后是测试形状 2（相对于鼠标）的顶点数据：

```
vertsx = [ -10,   0,  10, 10, -10 ]
vertsy = [ -10, -20, -10, 10,  10 ] 
```

只是为了澄清，翻译后的坐标是经过测试的坐标，并且这些坐标的形状已经按照所示的坐标顺序进行了测试。

![在此处输入图像描述](../Images/7f296c7aeb1237b4305234a9c0f61644.png)

这是实际的功能。

```
function collisionConvexPolygon ( vertsax, vertsay, vertsbx, vertsby ) {
    var alen = vertsax.length;
    var blen = vertsbx.length;
    // Loop for axes in Shape A
    for ( var i = 0, j = alen - 1; i < alen; j = i++ ) {
        // Get the axis
        var vx =    vertsax[ j ] - vertsax[ i ];
        var vy = -( vertsay[ j ] - vertsay[ i ] );
        var len = Math.sqrt( vx * vx + vy * vy );

        vx /= len;
        vy /= len;

        // Project shape A
        var max0 = vertsax[ 0 ] * vx + vertsay[ 0 ] * vy, min0 = max0;
        for ( k = 1; k < alen; k++ ) {
            var proja = vertsax[ k ] * vx + vertsay[ k ] * vy;

            if ( proja > max0 ) {
                max0 = proja;
            }
            else if ( proja < min0 ) {
                min0 = proja;
            }
        }
        // Project shape B
        var max1 = vertsbx[ 0 ] * vx + vertsby[ 0 ] * vy, min1 = max1;
        for ( var k = 1; k < blen; k++ ) {
            var projb = vertsbx[ k ] * vx + vertsby[ k ] * vy;

            if ( projb > max1 ) {
                max1 = projb;
            }
            else if ( projb < min1 ) {
                min1 = projb;
            }
        }
        // Test for gaps
        if ( !axisOverlap( min0, max0, min1, max1 ) ) {
            return false;
        }
    }
    // Loop for axes in Shape B (same as above)
    for ( var i = 0, j = blen - 1; i < blen; j = i++ ) {
        var vx =    vertsbx[ j ] - vertsbx[ i ];
        var vy = -( vertsby[ j ] - vertsby[ i ] );
        var len = Math.sqrt( vx * vx + vy * vy );

        vx /= len;
        vy /= len;

        var max0 = vertsax[ 0 ] * vx + vertsay[ 0 ] * vy, min0 = max0;
        for ( k = 1; k < alen; k++ ) {
            var proja = vertsax[ k ] * vx + vertsay[ k ] * vy;

            if ( proja > max0 ) {
                max0 = proja;
            }
            else if ( proja < min0 ) {
                min0 = proja;
            }
        }
        var max1 = vertsbx[ 0 ] * vx + vertsby[ 0 ] * vy, min1 = max1;
        for ( var k = 1; k < blen; k++ ) {
            var projb = vertsbx[ k ] * vx + vertsby[ k ] * vy;

            if ( projb > max1 ) {
                max1 = projb;
            }
            else if ( projb < min1 ) {
                min1 = projb;
            }
        }
        if ( !axisOverlap( min0, max0, min1, max1 ) ) {
            return false;
        }
    }
    return true;
} 
```

如果你需要我会尝试其他形状。

这是我的`axisOverlap`功能。

```
function axisOverlap ( a0, a1, b0, b1 ) {
    return !( a0 > b1 || b0 > a1 );
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-01T08:44:41.817

我想到了！

我开始在纸上绘制数字线，并意识到问题是我的轴计算不正确。要计算垂直向量，您需要**交换 x 和 y 坐标**然后反转一个，我完全忘记交换坐标。

新代码

```
var vx =    vertsay[ i ] - vertsay[ j ];
var vy = -( vertsax[ i ] - vertsax[ j ] ); 
```

# ios - 将一个 nsmutable 数组的所有对象与另一个 nsmutable 数组的所有对象进行比较，并将新对象放入另一个 nsarray

> ID：13172546
> 
> 赞同：0
> 
> 时间：2012-11-01T07:11:10.297
> 
> 标签：ios, xcode, nsstring, nsmutablearray, compare

*   我正在尝试将所有联系人备份到服务器上。

*   因此，我将联系人转换为 vCard 字符串并将 vCard 字符串发送
    到服务器，并将带有 RecordID 的 vCard 字符串存储到 sqlite 数据库中

*   因此，当用户第一次想要备份所有联系人时，将转到服务器和数据库中。

*   从第二次开始，我只想将新联系人发送到服务器。所以我需要将存储在nsarray中的数据库RecordIds与电话簿RecordIds进行比较，并将新的RecordIds放入一个数组中

*   例如，我有像 40,41,42,43,44,45 这样的 RecordIds 进入 dbarray。不一定按顺序或顺序。

*   现在当用户添加 5 个新联系人时，电话簿数组将包含诸如 40、41、42、43、44、45、46、47、48、50 之类的记录 ID

*   所以这次我只想发送recordIds 46,47,48,49和50的联系人。类似于增量备份

*   我还需要检查存储的 vCard 中是否有任何修改。所以我还需要比较电话簿数组和数据库数组中的所有 vCard 字符串。

    我是 iOS 编程新手，我被困住了。请帮忙！！！这很紧急

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T10:18:32.573

我通过使用以下代码解决了上述问题。希望它对某人有所帮助。

```
 -(void)newContactsAndContactsToUpdate
  {
    NSMutableArray *newContact = [[NSMutableArray alloc]init];
    NSMutableArray *newContactRecIds = [[NSMutableArray alloc]init];
    NSMutableArray *updateContactRecIds = [[NSMutableArray alloc]init];
    NSMutableArray *updateContactRecIds = [[NSMutableArray alloc]init];
    //dataArray contains all the contacts(converted into Vcard strings) in the phonebook
    //recordIDArray contains the all recordids in the phonebook
    //dbArraywithRID contains the recordids stored in database.
    //dbArraywithVcard contains  contacts(converted into Vcard strings)stored in database
    for(int i=0;i< dataArray.count;i++)
    {
    BOOL found = NO;
    int phoneBookRecId=[[recordIDArray objectAtIndex:i] intValue];

    NSString * currentPhVc=[dataArray objectAtIndex:i];

    for(int j=0;j< dbArraywithRID.count;j++)
    {
        int dbRecId=[[dbArraywithRID objectAtIndex:j] intValue];

        if(dbRecId == phoneBookRecId)
        {
            found =YES;

            NSString * currentDBVc=[dbArraywithVcard objectAtIndex:j];

            if(![currentDBVc isEqualToString:currentPhVc])
            {
                NSLog(@" db rec  =%@    -   %@   ",currentDBVc,currentPhVc );
                [updateContactRecIds addObject:[NSNumber numberWithInt:phoneBookRecId]];

                [newContact addObject:currentPhVc];
                [newContactRecIds addObject:[NSNumber numberWithInt:phoneBookRecId]];

            }
            break;
        }
    }
    if(!found)
    {
        [newContact addObject:currentPhVc];
        [newContactRecIds addObject:[NSNumber numberWithInt:phoneBookRecId]];

    }
}

if(newContact!=nil && [newContact count] > 0)
{
    //newContact array contains all the contacts(vcard strings) that are new

}
if(updateContactRecIds!=nil && [updateContactRecIds count] > 0)
{
    updateContactRecIds contains all the recordids which need to be updated
} 
```

}

# javascript - Wordpress：使用 ajax_page_loader 插件时 target=''_blank" 不起作用

> ID：13172551
> 
> 赞同：0
> 
> 时间：2012-11-01T07:12:03.287
> 
> 标签：javascript, jquery, html, wordpress

我在 wordpress 中使用 ajax 页面加载器插件。在我使用的每个帖子页面中

```
<a id="a_link" rel="nofollow" title="Print This Page" target="_blank" href="http://myurl.com/temp/?page_id=444&print=1">
<img class="WP-PrintIcon" style="border: 0px;" title="Print This Page" alt="Print This Page" src="http://myurl.com/temp/wp-content/plugins/wp-print/images/print.gif">
</a>
<a id="a_link" rel="nofollow" title="Print This Page" target="_blank" href="http://myurl.com/temp/?page_id=444&print=1">Print This Page</a> 
```

但未能打开新标签。我还在加载内容的 ajax 页面加载器插件脚本中编写 JS 代码。在 ajax 页面加载时加载此脚本。

```
jQuery('a').click(function (event) {

            var id = jQuery(this).attr("id");
            if(id == 'a_link'){ var href = jQuery(this).attr("href");
                jQuery('#supersized-loader').css('display','none');
                window.open(href);
            }
        }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:55:50.673

您应该稍微更改选择器的设计以防止它处理所有链接：

```
jQuery('a[target!="_blank"]').click(function (event) 
```

这应该可以防止 ajax 页面加载器在具有属性的链接上运行`target="_blank"`。你在加载器中添加的代码已经过时了。

并且：您只能使用一次**id**。在您的示例中，您`a_link`至少使用了两次。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-06T03:57:54.180

这个jquery怎么样？

```
jQuery(document).delegate('a[target=_blank]', 'click', function(e){
    e.preventDefault(); 
    var url = jQuery(this).attr('href'); 
    window.open(url, '_blank');
}); 
```

# java - How to configure class path of a Web app

> ID：13172552
> 
> 赞同：1
> 
> 时间：2012-11-01T07:12:10.200
> 
> 标签：java, jakarta-ee, classloader

Is it possible to add JAR files to class path of a Web app so the servlets can use latest version of classes at run time? if the answer is positive how can we do that? thanks

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:15:51.710

是的，当然。WAR 可以包含 JAR。把它们放进去 `WEB-INF/lib` ，它就会起作用。

希望这可以帮助

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T07:16:34.423

您必须将 .jar 库放在`/webproject/web/WEB-INF/lib/`文件夹中。最诚挚的问候。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-01T07:18:55.797

如果您使用的是 eclipse，则右键单击项目转到**属性>Java 构建路径>添加外部 jar**，然后选择您的 jar 文件。

# php - php: users timezone changes every time tzdata is updated

> ID：13172555
> 
> 赞同：1
> 
> 时间：2012-11-01T07:12:32.257
> 
> 标签：php, timezone

We are saving the timezone for each user as the ID of that timezone.

The problem is, that every time that the tzdata package is updated, there are changes in the IDs, and this changes the users saved timezones.

What way is there to ensure that the users saved timezones will always remain consistent?

Thanks!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-10-05T08:14:52.573

问题的原因是程序员认为将可用时区列表视为固定列表会更容易，并将用户自己的时区存储为列表中的时区位置。

即，如果 Europe/Berlin 曾经在时区列表中位于第 100 位，那么这就是为数据库中的用户存储的数字。但是，如果包 tzdata 更新了新的时区，那么在位置 100 你会罚款欧洲/贝尔格莱德，并且用户将有效地为他们定义错误的时区。

解决方案是将存储的所有旧 ID 号转换为显示为时区的相关真实字符串。这样，下次更新 tzdata 时，用户将保留其当前时区。

# perl - 对 xml 文件中的某些标签使用 commet

> ID：13172556
> 
> 赞同：0
> 
> 时间：2012-11-01T07:12:42.167
> 
> 标签：perl

我现在阅读了一个 xml 文件，我做了特定的标签注释，但它省略了然后插入注释......

XML:

```
<book>
  <book-meta>
    <book-id pub-id-type="doi">1545</book-id>
</book-meta>
</book> 
```

脚本：

```
 use strict;
use XML::Twig;
open(my $out, '>', 'Output.xml') or die "can't Create stroy file $!\n";

my $story_file = XML::Twig->new(
                               twig_handlers =>{
                                        'book-id' => sub {$_->set_comment('drop')},
                                        keep_atts_order => 1,
                                        },
                                        pretty_print => 'indented',
                              );

$story_file->parsefile('sample.xml');
$story_file->print($out); 
```

我的输出是：

```
<book>
  <book-meta><!--drop-->
  </book-meta>
</book> 
```

我需要：

```
<book>
  <book-meta>
    <!--<book-id pub-id-type="doi">1545</book-id>-->
</book-meta>
</book> 
```

我在这个过程中做错了什么......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T09:04:26.010

只需将注释文本设置为树枝的 XML：

```
'book-id' => sub { $_->set_comment($_->sprint) }, 
```

# android - 在eclipse中为android应用程序生成Doc

> ID：13172558
> 
> 赞同：0
> 
> 时间：2012-11-01T07:12:55.093
> 
> 标签：android, javadoc, doc

嗨，我正在尝试创建我的应用程序的 java doc，我在 java 文件中完成了所有注释，但是当我从 eclipse（选择项目-> 项目-> 生成 JavaDoc ..）生成文档时，文档生成正确，但有一些方法（覆盖）喜欢（onCreate）

```
/* (non-Javadoc)
 * @see android.app.Activity#onCreate(android.os.Bundle)
 */ 
```

所以现在我尝试使用 doxygen，它显示类的所有方法，但没有显示变量，任何人都可以帮助我，我不知道有什么问题，或者我错过了 doxygenfile 中的任何选项。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T09:08:12.653

您的应用程序变量是否使用**修饰符声明（如公共、私有、..）**？我认为在使用修饰符声明后，它会显示在文档中。

# drupal - Getting PDOException while trying to use a Pager in a Query

> ID：13172565
> 
> 赞同：1
> 
> 时间：2012-11-01T07:13:35.437
> 
> 标签：drupal, drupal-7, pager

I am using Drupal 7 and i want to use the Pager into my query

This is my query and the way I can use

```
$query = db_select("SELECT entity_id , field_keywords_value , COUNT( DISTINCT ( entity_id )) total FROM field_data_field_keywords WHERE bundle = 'song' GROUP BY field_keywords_value");

$query = $query -> extend('PagerDefault'); 
$result = $query -> extend('PagerDefault') ->limit(2) ->execute(); 
```

but it give me the error, PDOException: erro

And if I can use it in the following way:

```
$query = db_query("SELECT entity_id , field_keywords_value , COUNT( DISTINCT ( entity_id )) total FROM field_data_field_keywords WHERE bundle = 'song' GROUP BY field_keywords_value"); 
$query = $query -> extend('PagerDefault'); 
$result = $query ->extend('PagerDefault') ->limit(2) ->execute(); echo ""; print_r($result); die('tert'); 
```

Then my page not working and give me the blank page.

Any help will be appreciate.

Thanks in advance.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T04:39:43.347

嗨，我已经通过自己解决了这个问题
$query = db_select('field_data_field_keywords')->extend('PagerDefault'); $query->fields('field_data_field_keywords', array('field_keywords_value', 'entity_id')); $query->condition('bundle', 'song'); $query->condition('field_keywords_value', arg(2)); $query->distinct(entity_id); $result = $query ->limit(1) ->execute() ->fetchAll();

谢谢

# xcode - Mac OS X 版本 10.7.4 上的 Xcode 4.2

> ID：13172567
> 
> 赞同：0
> 
> 时间：2012-11-01T07:13:51.447
> 
> 标签：xcode, macos, xcode4.2, osx-lion

我安装了 Mac OS X 版本 10.7.4，我想在我的机器上安装 Xcode 4.2。但是当我尝试安装 4.2 dmg 时，它给出的错误是

Mac OS X 10.7 或更高版本不支持 Xcode。要安装 Xcode，您必须下载支持 Mac OS X 10.7 或更高版本的版本。

实际上，我不想将现有应用程序的 Base SDK 更改为指向 6.0 并将其保留为 5.0。

我应该怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T18:52:48.413

您很可能正在尝试安装 Xcode 4.2 的 Snow Leopard 版本。Apple 的开发者下载网站上有一个适用于 Lion 的 Xcode 4.2 版本应该可以使用。如果您想避免使用 iOS 6 SDK，您可以安装 Xcode 4.3 或 4.4 而不是 4.2。Xcode 4.3 和 4.4 都有 iOS 5 SDK 并在 Lion 上运行。

# json - 如何将arraylist发布到android中的json webservice

> ID：13172569
> 
> 赞同：1
> 
> 时间：2012-11-01T07:13:51.677
> 
> 标签：json, web-services

这是我使用 json httpost 方法 credentails 对象的代码，该对象具有两个参数用户名和密码，而 alist 类型 arraylist 具有 5 个参数

```
{

    {
        public static ProfilesResponseJson callWebServiceJson(Credential Credentials, ArrayList<A> alist) {

        try {

            System.out.println("-----alist---"+alist.size());

            for(int j=0;j<alist.size();j++)
            {
                System.out.println(j+"---alist.get().get--getDataType--"+alist.get(j).getDataType());
                System.out.println(j+"---alist.get().get--getRawData--"+alist.get(j).getRawData());
                System.out.println(j+"---alist.get().get--getScanDeviceSN--"+alist.get(j).getScanDeviceSN());
                System.out.println(j+"---alist.get().get---getScanKey-"+alist.get(j).getScanKey());
                System.out.println(j+"---alist.get().get--getScannerProfileID--"+alist.get(j).getScannerProfileID());
                System.out.println(j+"---alist.get().get--getScanTime--"+alist.get(j).getScanTime());

                //StringEntity se = new StringEntity("{'attendeeCredentials':{'UserID':'"+attendeeCredentials.getUserID()+"','Password':'"+attendeeCredentials.getPassword()+"'},' scanprofilelist:':{ scanprofile:['RawData':'"+scanProfileList.get(j).getRawData()+""]}");
                 se=new StringEntity("{'Credentials':{'UserID':'"+Credentials.getUserID()+"','Password':'"+attendeeCredentials.getPassword()+"'},'scanprofilelist':{'ScanProfile':['RawData':'"+alist.get(j).getRawData()+"','DataType':'"+alist.get(j).getDataType()+"','ScanKey':'"+alist.get(j).getScanKey()+"','ScannerProfileID':'"+alist.get(j).getScannerProfileID()+"','ScanDeviceSN':'"+alist.get(j).getScanDeviceSN()+"','ScanTime':'"+alist.get(j).getScanTime()+"']}}");

            }

            DefaultHttpClient httpclient = new DefaultHttpClient();
            httpost.setEntity(se);
            httpost.setHeader("Accept", "application/json");
            httpost.setHeader("Content-type", "application/json");

            ResponseHandler responseHandler = new BasicResponseHandler();
            String response = httpclient.execute(httpost, responseHandler);

            return ParseResult(response);
        } catch (Exception exep) {
            System.err.println(exep.toString());
        }

        return null;
    }
} 
```

# android - 如何在android中创建自定义搜索栏

> ID：13172581
> 
> 赞同：0
> 
> 时间：2012-11-01T07:14:36.543
> 
> 标签：android, layout

我正在开发一个应用程序，我想在其中使用调光开关来控制灯光。我想使用这个控件来调暗和充满灯光并获取相关值。

所以我的问题是哪种控制适合这个要求？

我做了一些研究，发现[Seekbar](http://developer.android.com/reference/android/widget/SeekBar.html)可以满足我的要求。但是我如何创建自定义[搜索栏](http://developer.android.com/reference/android/widget/SeekBar.html)，如下图所示。

![在此处输入图像描述](../Images/e1795d51705c6a3c78f9db99faf59960.png)

如果有任何其他方法可以实现这一点，那么请给我一些想法。任何建议和指导将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:27:03.670

此示例在我的应用程序中运行，但根据您的要求进行修改。

```
package android.widget;

import android.content.Context;
import android.graphics.Canvas;
import android.util.AttributeSet;
import android.view.MotionEvent;

public class VerticalSeekBar extends SeekBar {

    public VerticalSeekBar(Context context) {
        super(context);
    }

    public VerticalSeekBar(Context context, AttributeSet attrs, int defStyle) {
        super(context, attrs, defStyle);
    }

    public VerticalSeekBar(Context context, AttributeSet attrs) {
        super(context, attrs);
    }

    protected void onSizeChanged(int w, int h, int oldw, int oldh) {
        super.onSizeChanged(h, w, oldh, oldw);
    }

    @Override
    protected synchronized void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
        super.onMeasure(heightMeasureSpec, widthMeasureSpec);
        setMeasuredDimension(getMeasuredHeight(), getMeasuredWidth());
    }

    protected void onDraw(Canvas c) {
        c.rotate(-90);
        c.translate(-getHeight(), 0);

        super.onDraw(c);
    }

    @Override
    public boolean onTouchEvent(MotionEvent event) {
        if (!isEnabled()) {
            return false;
        }

        switch (event.getAction()) {
            case MotionEvent.ACTION_DOWN:
            case MotionEvent.ACTION_MOVE:
            case MotionEvent.ACTION_UP:
                setProgress(getMax() - (int) (getMax() * event.getY() / getHeight()));
                onSizeChanged(getWidth(), getHeight(), 0, 0);
                break;

            case MotionEvent.ACTION_CANCEL:
                break;
        }
        return true;
    }
} 
```

# expressionengine - 从子域提供内容

> ID：13172583
> 
> 赞同：6
> 
> 时间：2012-11-01T07:14:38.823
> 
> 标签：expressionengine

刚刚使用表达式引擎和 metaq 最近的一篇文章建立了一个新的、相当大且文件丰富的站点，其中提到了 cdn，并且想知道如何设置它。

我们不会寻求与亚马逊之类的东西挂钩，纯粹是 1 或 2 个子域，即。mainsite.com 资源.mainsite.com 图书馆.mainsite.com

我意识到所有内容实际上都存在于父服务器上并保存在域文件夹中。

有没有人这样做？使用资产、文件管理器和引导配置等模块时是否有显着的收益以及有哪些注意事项。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T09:23:44.997

> 我意识到所有内容实际上都存在于父服务器上并保存在域文件夹中。

在我看来，您好像不清楚 CDN 的概念。真正的 CDN 是一个全球服务器网络，针对静态文件的性能进行了优化。当请求文件时，用户将从离他们最近的服务器收到一份副本，从而最大限度地减少延迟。

更进一步的做法是使用更基本的存储网络，如 Amazon S3。当您将文件上传到 S3 时，它会保留在特定的数据中心中，而不是在全球范围内分发，因此性能会更差。尽管您不一定会看到上传到 S3 的文件相对于您的服务器的性能提升，但您可以大大减少服务器必须处理的负载。想象一下，您有一个包含 30 个图像和 5 个 CSS 和 JS 文件的页面。所有这些都可以托管在像 S3 这样的服务上。当有人加载页面时，您的服务器不必处理所有这些请求，而只需担心页面标记本身。如果您的网站有大量流量产生大量负载，这可能是保持上升或下降之间的区别。

现在，如果您只是从与您的站点在同一台服务器上运行的子域提供静态文件，您将不会看到任何好处。所有请求仍然通过同一台服务器进行路由 - 您只是在进行美学上的改变。

# iphone - 我想以不同的时间间隔多次调用一个方法

> ID：13172584
> 
> 赞同：0
> 
> 时间：2012-11-01T07:14:44.220
> 
> 标签：iphone, objective-c, ios

我有一个方法 -(void)showLyrics{} 我想从另一个方法调用它，但是在一定时间之后，每次连续调用之间的时间调用是不同的。我正在这样做

```
[self performSelector:@selector(showLyrics) withObject:nil afterDelay:2];

[self performSelector:@selector(showLyrics) withObject:nil afterDelay:5];

[self performSelector:@selector(showLyrics) withObject:nil afterDelay:10];

[self performSelector:@selector(showLyrics) withObject:nil afterDelay:12]; 
```

有没有人知道更好的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:27:30.820

调用一次

```
-(void)viewDidLoad {
    [self performSelector:@selector(showLyrics) withObject:nil afterDelay:2];
} 
```

做你的事，然后安排下一个

```
-(void)showLyrics {
    int d=2;
    //do your thing
    d+=3;//or whatever
    [self performSelector:@selector(showLyrics) withObject:nil afterDelay:d]; 
```

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:27:36.937

您可以根据需要使用 NSTimer。您需要添加设置计时器的逻辑。将时间作为参数传递给 NSTimer 并根据需要执行该方法。

```
NSTimer *timer = [NSTimer scheduledTimerWithTimeInterval:<accumSecs>
    target:self selector:@selector(showLyrics) 
    userInfo:nil repeats:NO]; 
```

有关 NSTimer 类的更多信息：[NSTimer Apple Docs Ref](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSTimer_Class/Reference/NSTimer.html)

希望它对你有用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T08:18:42.913

我能想到的另一种方法是，您可以创建一个每秒调用一次的计时器函数，然后您可以获取一个全局变量，您可以在每次调用时增加其值，然后使用 switch 语句，您可以做出决定

# git - 在“分离头”状态下更新 git 存储库

> ID：13172587
> 
> 赞同：1
> 
> 时间：2012-11-01T07:15:09.337
> 
> 标签：git

如果我的 git 存储库处于“分离头”状态，当我执行“git pull”时，它仍然可以远程拉入新的提交。

在我执行“git pull”之后，我看到了新的提交。

我的问题是“如果我的存储库处于分离头”状态，并且我已经做了一些本地提交（没有推送）然后我做了“git pull”，我看到了新的提交，但是我的本地提交已经消失了。

这是为什么？以及在哪里/如何查看我的本地提交？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:23:47.710

你不应该分头行动！
当您意识到自己处于超然状态（并且希望进行更改）时，您需要：

```
git checkout -b someBranch 
```

鉴于您已经进行了更改并提交了它们，一旦丢失它们，您将需要执行以下操作：

```
git branch someBranch HEAD@{1} 
```

您可以查看[此](https://stackoverflow.com/a/4845543/1031900)以获取更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:28:04.053

通常，`HEAD`指针是指向实际引用（通常是分支）的符号引用。你可以对此做出承诺。当您处于分离的 HEAD 状态时，`HEAD`指针直接指向提交而不是实际引用。此时提交将保存数据，但会使其无法访问。如果您切换到实际的分支，则没有直接的方法可以切换回您所做的新提交。

解决方案是从您使用的地方剪下一个分支`git branch foo`。现在，如果您切换分支，您仍然可以切换回`foo`包含新提交的新创建的分支。

# php - 使用正则表达式替换 // 与 /

> ID：13172591
> 
> 赞同：-4
> 
> 时间：2012-11-01T07:15:24.097
> 
> 标签：php, regex

需要正则表达式从“web//wp”中`//`删除`/`；

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:20:13.067

很简单，你只需要正确地避开斜线：

```
preg_replace('/\/\//','/','//'); 
```

# iphone - 如何在地图视图中创建带有按钮的标签

> ID：13172593
> 
> 赞同：0
> 
> 时间：2012-11-01T07:15:23.860
> 
> 标签：iphone, ios6, mkmapview

我对 iphone 很陌生，但我想要完成的是，当您打开应用程序时，它会在主屏幕上显示一个带有平面位置的地图视图。如果我单击平面，我想显示某个半径内最近的餐厅。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:19:38.573

您应该使用自定义注释而不是这个，因为它是可点击的

[https://github.com/akshay1188/CustomAnnotation](https://github.com/akshay1188/CustomAnnotation)

[https://github.com/nfarina/calloutview](https://github.com/nfarina/calloutview)

# php - 变量存储在哪种内存格式中？

> ID：13172600
> 
> 赞同：0
> 
> 时间：2012-11-01T07:15:52.393
> 
> 标签：php

我正在深入了解 PHP 的基础知识，突然想到“变量以哪种内存格式存储在内存中？”

那是堆栈还是堆？

请为我提供参考资料来研究内存中的这种变量分配..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T07:27:29.790

PHP`zval/pval`用作基本数据容器。

```
struct _zval_struct {
    zvalue_value value;     // The value
    zend_uint refcount__gc; // The number of references to this value (for GC)
    zend_uchar type;        // The type
    zend_uchar is_ref__gc;  // Whether this value is a reference (&)
};

typedef union _zvalue_value {
    long lval;                // For integers and booleans
    double dval;              // For floats (doubles)
    struct {                  // For strings
        char *val;            //     consisting of the string itself
        int len;              //     and its length
    } str;
    HashTable *ht;            // For arrays (hash tables)
    zend_object_value obj;    // For objects
} zvalue_value; 
```

它们在 zend.h 中定义：http: [//lxr.php.net/xref/PHP_5_4/Zend/zend.h#318](http://lxr.php.net/xref/PHP_5_4/Zend/zend.h#318)

# bash - 使用 sed 删除特定行而不删除具有相同前缀的其他行

> ID：13172601
> 
> 赞同：1
> 
> 时间：2012-11-01T07:15:57.263
> 
> 标签：bash, shell, sed

我正在尝试使用 sed 删除文件的行，但我不想删除这些行，除非搜索字符串完全匹配。IE。

```
#!/bin/bash
set -x
file="list1"
index=0

while read line ;
  do
    if [ ! "$line" == "@@@" ];
      then
        MYARRAY[$index]="$line"
        #index=$(($index+1))
        let index++
    else
      break
    fi
done < $file

#echo "MYARRAY is: ${MYARRAY[*]}"
#echo "The file: ${index}"

index1=0
for i in "${MYARRAY[@]}"
do
  lineNumber=$((index1 + 1))
  sed -i "/${MYARRAY[$index1]}/d" "$file"
  let index1++
done

sed -i "/@@@/d" "$file"
#remove empty lines
sed -i '/^$/d' "$file" 
```

所以我有一个测试文件（list1）：

```
line1
line2
line3
line4
line5
line6
@@@
line1_1
line2_1 
```

在脚本运行后，我最终删除了所有行，因为“line1”和“line2”也匹配“line1_1”和“line2_1”

任何帮助，将不胜感激！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:21:23.470

如果您将 sed 模式匹配锚定到行的开头和结尾，那么它也不会匹配子字符串。像这样：

```
sed -i "/^${MYARRAY[$index1]}\$/d" "$file" 
```

（转义用于锚定到行尾的“$”，因为它位于双引号字符串中。）

* * *

编辑：也就是说，在我看来，您可以用这个单行 sed 程序替换整个脚本：

```
sed '1,/@@@/d; /^$/d' 
```

从文件的开头删除到包含'@@@'的第一行，然后还删除空白行，并在一次传递中完成所有操作。

# wordpress - WordPress：在function.php中使用过滤器删除页面标题

> ID：13172602
> 
> 赞同：0
> 
> 时间：2012-11-01T07:15:58.183
> 
> 标签：wordpress, filter, page-title

我不想显示特定页面的页面标题。用function.php中的过滤器怎么会这样？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T10:10:19.410

在您的模板文件中，打开 page.php

寻找：

```
<?php the_title();?> 
```

改成：

```
<?php
if(is_page('Your-Page-Name')){
   //dont show title
}else{
   the_title();
}
?> 
```

所以在有问题的页面上，不会显示标题，但在其他页面上会显示其他页面标题

# c++ - 在 MinGW 上构建 zxing 失败并显示“TestFactoryRegistry.h：没有这样的文件或目录”，即使安装了 CppUnit

> ID：13172609
> 
> 赞同：0
> 
> 时间：2012-11-01T07:16:34.377
> 
> 标签：c++, compiler-errors, mingw, zxing, cppunit

我正在尝试使用 MinGW 在 Windows 上编译 zxing 的 C++ 端口，但构建失败：

```
build\core\tests\src\TestRunner.cpp:21:52: fatal error: cppunit/extensions/TestFactoryRegistry.h: No such file or directory 
```

* * *

**编辑**

我安装了 CppUnit，现在我有头文件`c:\MinGW\msys\1.0\local\include\cppunit\extensions\TestFactoryRegistry.h`，但是构建仍然失败`TestFactoryRegistry.h: No such file or directory`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T09:29:58.250

我找到了答案，SConscript 文件假设 CppUnit 的路径错误。

我需要在 SConscript 文件中更改这一行：

```
cppunit_include = ['/opt/local/include/'] 
```

至：

```
cppunit_include = ['c:/MinGW/msys/1.0/local/include/'] 
```

# c - 在宏中将数字转换为字符串

> ID：13172611
> 
> 赞同：4
> 
> 时间：2012-11-01T07:17:02.160
> 
> 标签：c

> **可能重复：**
> [将预处理器标记转换为字符串](https://stackoverflow.com/questions/240353/convert-a-preprocessor-token-to-a-string)

```
#define num 1234 
```

我想基于 num 定义一个“const char*”，在示例中它将是：

```
#define num_str "1234" 
```

我可以写一个宏语句来实现这个吗？注意：1234 将被更改。

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T07:23:05.433

是的，你可以，但是宏替换看起来有点奇怪。双宏替换是有原因的，如果你仔细考虑一下，就会清楚为什么需要它。

```
#define STRINGIZER_(exp)   #exp
#define STRINGIZER(exp)    STRINGIZER_(exp)
#define NUM 1234

int main(int argc, char *argv[])
{
    const char *p = STRINGIZER(NUM);
    printf("%s\n",p);
    return EXIT_SUCCESS;
} 
```

运行这个：

```
1234 
```

双重替换的原因：乍一看可能会认为这样可以解决问题：

```
#define STRINGIZER(exp)    #exp
#define NUM 1234

int main(int argc, char *argv[])
{
    const char *p = STRINGIZER(NUM);
    printf("%s\n",p);
    return EXIT_SUCCESS;
} 
```

但这会产生：

```
NUM 
```

这不是我们想要做的。如果您想首先实际扩展 NUM 宏，那么您必须这样做：强制扩展。通过强制预处理器*首先*通过中间扩展进行替换（如我在此答案顶部所示），传入的宏首先被扩展，*然后*是字符串化的。

**侧栏：**该技术对于生成预定义的预处理器宏的宽字符版本特别有用，否则这些宏会保存常规字符串。例如，`__FILE__`宏。假设你想要一个宽字符版本（一个以 'L' 开头的字符串）你可能首先认为这会起作用：

```
#define WIDESTR(str)    L##str 
```

但将其扩展`__FILE__`为：

```
const wchar *p = WIDESTR(__FILE__); 
```

将导致编译器错误：`"Undefined identifier: L__FILE__"`

那么我们该如何解决这个问题呢？和我们上面做的一样。

```
#define WIDESTR_(str)       L##str
#define WIDESTR(str)        WIDESTR_(str)

int main(int argc, char *argv[])
{
    const wchar_t* p = WIDESTR(__FILE__);
    wcout << p << endl;
    return EXIT_SUCCESS;
} 
```

在我的系统上，这会产生：

```
/Users/craig/tmp/main/main/test.cpp 
```

**在关闭...**

作为安慰奖，我们将这个答案中的所有内容组合成一个巨大的粘性物，我们假设这样做会发生*什么*：

```
int main()
{
    const wchar_t *p = WIDESTR(STRINGIZE(NUM));
    wcout << p << endl;
    return EXIST_SUCCESS;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:25:23.030

该字符串将如何在您的其余代码中使用？它必须是字符串宏吗？从其他值创建字符串的标准方法是使用 string.h 中的 sprintf()

```
#define num 1234
sprintf(string,"%d",num); 
```

# java - Clover 3.1.7 不支持 java 7 钻石

> ID：13172612
> 
> 赞同：0
> 
> 时间：2012-11-01T07:17:08.853
> 
> 标签：java, code-coverage, gradle, clover

我的 Clover 检测失败并出现以下错误：

```
>  /path/to/MyClass.java:138:28:unexpected token: > 
```

在线上：

```
return new HashSet<>(); 
```

尽管在源级别显式设置为 1.7 的情况下执行三叶草检测：

```
ant."clover-instr"(srcdir:it, destdir:cloverConvention.instrSrcDir, source:"1.7") 
```

( ^ 毕业 )

实际上，我可以将该属性设置为我喜欢的任何值。没有什么不同的：

```
ant."clover-instr"(srcdir:it, destdir:cloverConvention.instrSrcDir, source:"one billion") 
```

但它是一个有效的属性，因为如果我把别的东西放进去，它会以不同的方式失败。

```
ant."clover-instr"(srcdir:it, destdir:cloverConvention.instrSrcDir, sores:"1.7")
> clover-instr doesn't support the "sores" attribute 
```

我是否需要做任何其他事情才能使 1.7 源得到认可？使用三叶草 3.1.7

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T00:51:49.393

这是一个回归错误。三叶草 v3.1.5 工作正常。

# java - JNI：如何获取用于调试目的的方法签名

> ID：13172623
> 
> 赞同：5
> 
> 时间：2012-11-01T07:18:19.727
> 
> 标签：java, c++, android-ndk, java-native-interface

1.  我可以枚举 Java 中的所有本机方法，那些必须使用 JNI 在 c/c++ 中实现的方法吗？
2.  我可以按名称枚举本机方法吗（可能有多个同名的重载）？
3.  如何检索方法签名以生成 JNI 使用的方法签名？

有没有办法检查所有本机 jni 方法是否已正确绑定，而不是尝试调用它们并获取 java.lang.UnsatisfiedLinkError 异常。有时方法签名会在没有正确更新 java 或 c++ 端的情况下更改，我想添加一些调试代码来检测这些问题并处理它们（也许通过生成正确的方法签名并将其打印到日志中，以便我可以轻松修复代码）。

我更喜欢 JNI 解决方案，但如果可以在 java 方面的帮助下完成某些事情，那也没关系。如果我使用未在 java 中声明的 registerNatives 和 register 方法，那么它会失败并将其打印到 logcat：

```
E/dalvikvm( 1445): ERROR: couldn't find native method
E/dalvikvm( 1445): Requested: Lcom/bla/bla/bla/Test;.nativeTestXX:()Z 
```

但我想抓住这个错误并自己处理。有可能做到吗？

**编辑：** 在我的 JNI 代码中，我有一个静态的 nativeInit（如[Android JNI 提示](http://developer.android.com/guide/practices/jni.html#jclass_jmethodID_and_jfieldID)中所建议的），它注册了所有本机方法。在同一个函数中，我想验证所有本机方法是否已正确绑定。也就是说，我不需要等到调用了一些未初始化的方法并且应用程序存在。我遇到的问题：有很多 jni 代码在不同的时间由不同的 ppl 编写，有些方法根本不正确，但它们只在一些晦涩的条件下使用。我认为，对我来说最好的方法是检查所有本机方法是否都绑定到某个 c++ 函数。另一个问题是，JNI 代码的一部分通过导出所有这些 Long_java_names 来使用绑定，其中无法检测到任何一方的方法签名更改。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T22:03:10.487

没有调用来检查“未绑定”本机方法。使用 RegisterNatives 执行显式注册可确保您注册的所有方法在 Java 源代码中都有匹配的声明，但是无法检查没有实现的本机声明的方法（除了调用它并捕获异常）。

在调用具有本机实现的方法时，如果尚未注册任何内容，则 Dalvik 将搜索各种共享库以找到匹配项。听起来您想要的是一种强制此搜索并检查结果而不实际调用该方法的方法。哪有这回事。

There are various ways to generate lists of native-declared methods, either statically or at runtime, but you also need a way to determine if an implementation is available. You're better off in the long run having unit tests that exercise the code.

# php - 为什么禁用 cookie 时会话不起作用？

> ID：13172626
> 
> 赞同：0
> 
> 时间：2012-11-01T07:18:28.290
> 
> 标签：php, session, cookies

据我所知，会话存储在服务器上，cookie 存储在客户端。但是一旦 cookie 被禁用，会话就会停止工作。这背后的原因是什么？禁用 cookie 时是否可以使会话工作？

我得到的参考资料很少：http: [//php.net/manual/en/session.configuration.php](http://php.net/manual/en/session.configuration.php)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:30:46.833

好吧，因为当cookie被禁用时，服务器不知道客户端属于哪个会话（没有会话信息传递给服务器）。如果您想在禁用 cookie 时使会话工作，您可能必须在您的 url 中传递一个 PHPSESSID，如下所示：

```
http://example.com/myurl.php?PHPSESSID=[a long string] 
```

PHPSESSID 可以使用 session_id() 函数生成。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:30:19.113

这是因为 cookie 用于识别服务器上的哪个会话与当前客户端相关联。

# android - 我应该使用哪种布局？

> ID：13172629
> 
> 赞同：0
> 
> 时间：2012-11-01T07:18:42.667
> 
> 标签：android, layout

我很困惑。我想显示地图，并在地图下方显示 5 个按钮。我使用RelativeLayout，但程序只显示产品按钮。为什么？我很困惑我使用哪种布局（线性、相对、框架或绝对）！请帮我。以及如何更正此代码？

位置.xml：

```
 <?xml version="1.0" encoding="utf-8"?>
 <LinearLayout
xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/frame"
android:orientation="vertical"
android:layout_width="fill_parent"
android:layout_height="fill_parent">
<com.google.android.maps.MapView
    android:id="@+id/mapView"
    android:apiKey="0cPRv243zM1_S3ydsNg8MJP9_6BfCp642jOhPvQ"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:clickable="true" />
<LinearLayout
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:background="@color/background"
    android:layout_gravity="bottom"
    android:orientation="horizontal" >

    <Button
        android:id="@+id/button_home"
        style="?android:attr/borderlessButtonStyle"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:drawableTop="@drawable/home_icon"
        android:text="@string/button_home"
        android:textColor="@color/text_home" />

     <Button
        android:id="@+id/button_product"
        style="?android:attr/borderlessButtonStyle"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:drawableTop="@drawable/product_icon"
        android:onClick="Product"
        android:text="@string/button_product"
        android:textColor="@color/text_product" />

  </LinearLayout>
  </LinearLayout> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:29:31.503

回答您的具体问题：与其说主页按钮在产品按钮的左侧，不如说产品按钮在主页按钮的右侧。当相对布局膨胀时，布局以线性方式解析，因此如果视图 A 相对于视图 B 定位，则视图 B 必须先出现。

```
<Button
    android:id="@+id/button_home"
    style="?android:attr/borderlessButtonStyle"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:drawableTop="@drawable/home_icon"
    android:text="@string/button_home"
    android:textColor="@color/text_home"/>

<Button
    android:id="@+id/button_product"
    style="?android:attr/borderlessButtonStyle"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_toRightOf="@id/button_home"
    android:drawableTop="@drawable/product_icon"
    android:onClick="Product"
    android:text="@string/button_product"
    android:textColor="@color/text_product" /> 
```

将此添加到产品按钮并从主页按钮中删除 layout_toLeftOf。

> ```
>  android:layout_toRightOf="@id/button_home" 
> ```

您可以使用重力和对齐来定位主页按钮，然后让其他四个按钮紧随其后，每个按钮都位于其前一个按钮的右侧。

祝你好运

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:20:32.080

*   **LinearLayout**：当我们需要以水平或垂直方式排列小部件/视图时使用LinearLayout。排列方向可以设置为水平或垂直，默认为水平。

*   **TableLayout**：如果 Layout 的 widgets/views 需要以行和列的形式排列，我们使用这个布局对象。这类似于 html 表格。单元格可以跨列。TableLayout 不显示其边框。我们可以通过设置列的相应属性来进行收缩和拉伸，“TableRow”是另一个应该与 TableLayout 结合使用的辅助小部件。

*   **RelativeLayout**：这里每个小部件/视图的位置都是相对/相互依赖的。例如，当需要一个布局时，它在 Edit Textbox 的左侧有一个文本视图，在 EditText 的正下方有一个按钮。视图之间的关系在一次迭代中得到处理，因此如果视图 B 的位置取决于视图 A 的位置，则视图 A 必须在布局中排在第一位。

*   **FrameLayout**：这是一个非常简单的布局，用于将屏幕的一部分保持空白，用于在运行时显示一个项目或一组项目。框架布局中添加的所有元素都将添加到屏幕的左上角。

*   **AbsoluteLayout**：当需要指定视图的确切 x 和 y 坐标位置时，需要使用 AbsoluteLayout。这种布局很难维护。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T07:25:05.803

默认情况下，RelativeLayout 将这 2 个按钮放在一起，因此您只能看到后者。

和线

```
android:layout_toLeftOf="@+id/button_product" 
```

是错的。`@+id`创建一个 id，`@id`在这种情况下使用。

对于这种情况，我会推荐 LinearLayout。将这些按钮放在其中，并用一些**边距**调整它们。

# javascript - 如何在不更改页面 URL 的情况下使用 Javascript 进行转发？

> ID：13172633
> 
> 赞同：3
> 
> 时间：2012-11-01T07:18:59.823
> 
> 标签：javascript, html

我有一个主页，我想导航到其他页面，比如博客或画廊，但地址栏中的 URL 没有可更改。我知道这在服务器端是可能的，但是如何在 Javascript 中做呢？

这是我的 HTML/JS 代码：

```
//HTML
<ul>
  <li><a onclick="openPage('contact.html')">Contact Us</a></li>
  <li><a onclick="openPage('blog.html')">Blog</a></li>
  <li><a onclick="openPage('gallery.html')">Gallery</a></li>
</ul>

//Javascript
function openPage(url){
     //   All these will forward but will change the URL
     //window.open(url);
     //window.location.href=url;
     //self.location=url;
     //window.location.replace(url);
} 
```

最初，URL 将是`http://something.com/mainpage.html`

即使导航到任何页面，它也应该保持不变。

这是我所拥有的一个非常简单的例子。那么，客户端可以在没有服务器的情况下使用吗？如果不是，那么在服务器端执行此操作的最简单方法是什么？假设我使用的是 Java/JSF。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:23:52.873

`#`如果要防止页面重新加载，则必须添加哈希。

css-tricks.com 有一个很好的截屏视频，看看：

[动态内容的最佳实践](http://css-tricks.com/video-screencasts/85-best-practices-dynamic-content/)

请在 stackoverflow 中检查此问题，[更改 URL，无需重新加载页面](https://stackoverflow.com/questions/3381280/changing-the-url-without-reloading-the-page/3381286#3381286)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:36:31.500

我会给你一个提示。然后，您可以自己编写代码。

使用 ajax，获取要打开的整个页面。（我假设它们在同一台服务器上。）

然后解析 html.responsetext 并找到获取页面的 body.innerHTML。
然后使用 document.body.innerHTML=fetched_body_innerHTML;
也以类似的方式更改 document.title。

我假设两个页面都将具有相同的 CSS（为了外观的一致性），并且很可能加载相同的 js 文件。

如果您在 2 个页面上有不同的 CSS 和/或 js 文件集，您将需要创建额外的节点并删除旧的脚本/链接节点。（但是，结果将不一样，因为旧的 JS 已经加载，并且在您更改 body 的 innerHTML 后不会触发 body.onload。

# iphone - 在xcode中的tabbarcontroller中注销？

> ID：13172641
> 
> 赞同：0
> 
> 时间：2012-11-01T07:19:25.827
> 
> 标签：iphone, xcode

我对objective-C非常陌生，我正在做一个应用程序，在启动应用程序时，将显示一个带有搜索和登录视图的tabbarController。当我点击搜索tabbaritem时，会出现SearchView。当点击登录tabbaritem时，登录视图将出现..当登录成功时，将出现一个带有四个 tabbaritems（搜索、配置文件、活动、注销）的 tabbarcontroller。现在当我点击注销时，我必须注销帐户，我需要再次显示启动视图..

我该怎么做..？我无法得到...

登录成功后，我正在编写此代码。

```
UITabBarController *tabBarController=[[UITabBarController alloc]init];
      SearchViewController *searchViewController=[[SearchViewController alloc]initWithNibName:@"SearchViewController" bundle:nil];
       Profile *userprofile=[[Profile alloc]initWithNibName:@"Profile" bundle:nil];
        userprofile.title=@" Profile";

   Activities   *activities=[[Activities alloc]initWithNibName:@"Activities" bundle:nil];

        activities.title=@"Activities";

tabBarController.viewControllers=[NSArray arrayWithObjects:searchViewController,userprofile,activities, nil];  

        [self presentModalViewController:tabBarController animated:NO]; 
```

现在我想添加另一个 tabbaritem 作为注销，当它被点击时，我想再次加载一个带有 Searchview 和 LoginView 的 tabbarcontroller ..如何？

任何帮助，将不胜感激..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:42:32.727

在点击注销时编写以下代码

```
[self dismissModalViewControllerAnimated:YES]; 
```

# php - 如何使用php显示图像？

> ID：13172642
> 
> 赞同：1
> 
> 时间：2012-11-01T07:19:27.290
> 
> 标签：php, html, mysql

我刚刚开始使用 html、php 和 mysql。我已经使用 php 成功登录到我的数据库，并形成了一个查询。我现在想更进一步，展示一张图片，而不仅仅是字符串或数字。

变量“结果”将返回一个字符串，该字符串包含我想在此网页上显示的图像的 url。我该怎么做？

```
<html>
<head>
<title>My First Question</title>
</head>
<body>

<?php

$dbhost = 'someURL.com';
$dbname = 'user';
$dbuser = 'user';
$dbpass = 'password';

$mysql_handle = mysql_connect($dbhost, $dbuser, $dbpass)
    or die("Error Connecting To Database Server");

mysql_select_db($dbname, $mysql_handle)
    or die("Error selecting database: $dbname");

echo 'Successfully connected to database!';

$first = 'bobbie';

$query = sprintf("SELECT image FROM Player 
    p WHERE name='%s'", mysql_real_escape_string($first));

$result = mysql_query($query);

mysql_close($mysql_handle);     

?>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-01T07:24:32.637

在 PHP 内部，这会将您的 SQL 响应转换为可用变量。

```
$result = mysql_fetch_assoc(mysql_query($query)); 
```

在 PHP 标记之外，将表中的 URL 回显到 IMG 元素的 SRC 中。

```
<img src="<?= $result['url_column_name'] ?>"/> 
```

这将创建一个新的 IMG 元素，其源是您从 SQL 查询中获取的 URL。

短标签也是在 HTML 中回显 PHP 变量的一种方式。

```
<?= $var1, $var2 ?> 
```

相当于使用

```
<?php echo $var; echo $var2; ?> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-01T07:21:42.017

这是一个回显相关 HTML 的简单案例。执行查询后，您还必须获取结果 -

```
$result = mysql_query($query);     
$data = mysql_fetch_assoc($result);
echo '<img src="'.$data['image'].'" />; 
```

为了增加安全性，一个好的做法是在图像路径中转义任何可能不需要的 HTML 内容 - `htmlspecialchars($data['image'])`.

这里还应该注意的是，您正在使用一种非常古老的已弃用方法来访问您的数据库。您可能需要考虑更新代码以使用更现代的 PDO 方法。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-01T07:23:00.443

所以呢？只需将其用作图像的来源

```
<?php $imgname = mysqli_fetch_array($connection, $result); ?>
<img src="<?php echo $imgname['image_column_name']; ?>" /> 
```

顺便说一句，使用`mysqli_()`或`PDO`代替使用`mysql_()`作为社区不再维护它

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-27T07:35:56.363

将 mysql 更新为 mysqli 后，您可以在 html img 标记中回显图像的 url，如下所示：

```
echo '<img src="'.$result['image'].'"/>'; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-01T07:24:30.727

```
<?php

$dbhost = 'someURL.com';
$dbname = 'user';
$dbuser = 'user';
$dbpass = 'password';

$mysql_handle = mysql_connect($dbhost, $dbuser, $dbpass)
    or die("Error Connecting To Database Server");

mysql_select_db($dbname, $mysql_handle)
    or die("Error selecting database: $dbname");

$first = 'bobbie';

$query = sprintf("SELECT image FROM Player 
    p WHERE name='%s'", mysql_real_escape_string($first));

$result = mysql_query($query);

mysql_close($mysql_handle);     
header("Location: $result");
?> 
```

应该管用

# c++ - 如何使用 g++ 编译和链接库 (SDL)，以便拥有独立程序？

> ID：13172643
> 
> 赞同：5
> 
> 时间：2012-11-01T07:19:32.457
> 
> 标签：c++, compilation, sdl

我在 Windows 7 上使用 MinGW。

简而言之，我想创建一个 Hello World SDL 程序（启动一个窗口或一些简单的东西），然后编译它，以便我有一个可以分发的独立程序，而不需要用户安装任何额外的东西（比如`SDL.dll`在Windows 文件夹）。

*   我已经下载了 SDL 开发库，目前位于`c:\SDL`.
*   在我的项目文件夹中，我`test.cpp`有`SDL.dll`

我不太确定下一步该做什么；起初我以为我可以包含 SDL，然后只需在命令行中链接到 DLL，瞧，但也许我需要先用我的程序编译 SDL 开发库？我唯一的目标是将我的 SDL 程序打包在一个文件夹中，我可以将其分发到其他 Windows 平台，而无需他们安装任何额外的东西 - 或者他们肯定需要在 Windows 文件夹中安装 SDL.dll？

编辑：进一步澄清 - 有人可以描述我要采取的步骤吗？我的意思是，想要分发他的应用程序的开发人员会做什么？安装此类应用程序时，大多数游戏安装程序实际上是否将文件放入`.dll`文件`Windows`夹中？

来源（test.cpp）：

```
#include <SDL/SDL.h>
#include <iostream>
using namespace std;

int main ()
{
  cout << "Hello World!";
  return 0;
} 
```

文件夹：

`test.cpp` `SDL.dll`

命令行：

`g++ test.cpp -lSDL`

输出：

`test.cpp:2:17: fatal error: SDL.h: No such file or directory` `compilation terminated`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:22:26.713

> 包括 SDL，然后在命令行中链接到 DLL，瞧

是的，差不多就是这样。

> 但也许似乎我需要先用我的程序编译 SDL 开发库？

什么？除非您正在为嵌入式系统开发，否则没有单独的“开发”库。您链接到程序启动时将加载的同一个 DLL。

# sql - sql：如何在选择查询中将字段合并为向量？

> ID：13172644
> 
> 赞同：1
> 
> 时间：2012-11-01T07:19:36.170
> 
> 标签：sql

我的意思是：

```
...
select...
where (a=1 and b=1) or (a=1 and b=2) or (a=2 and b=3) or(a=3 and b =2) 
```

这可以简化为类似

```
...select...
where (a,b) in ((1,1),(1,2),(2,3),(3,2)) 
```

这个想法不是单独检查字段，而是将它们合并成一个向量并检查向量值。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T13:40:55.620

您没有说明您的 DBMS，但是：

```
where (a,b) in ((1,1),(1,2),(2,3),(3,2)) 
```

是有效的（标准）SQL。

它（至少）在 PostgreSQL、Oracle 和 MySQL 中有效：

PostgreSQL的 SQLFiddle 演示： [http](http://sqlfiddle.com/#!12/ffbcb/1)
://sqlfiddle.com/#!12/ffbcb/1 Oracle 的SQLFiddle 演示： [http](http://sqlfiddle.com/#!4/a42cb/1)
://sqlfiddle.com/#!4/a42cb/1 MySQL 的 SQLFiddle 演示：[http://sqlfiddle .com/#!2/a42cb/1](http://sqlfiddle.com/#!2/a42cb/1)

由于这是 ANSI SQL，其他 DBMS 也应该支持它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T12:45:57.380

对于 SQLServer2005+

函数 CHECKSUM() 计算称为校验和的哈希值。[更多信息](http://msdn.microsoft.com/en-us/library/ms189788%28v=sql.105%29.aspx)

```
SELECT *
FROM dbo.your_table t
WHERE CHECKSUM(a,b) in (CHECKSUM(1,1),CHECKSUM(1,2),CHECKSUM(2,3),CHECKSUM(3,2)) 
```

# c++ - 确保参数是控制台的输出流

> ID：13172649
> 
> 赞同：4
> 
> 时间：2012-11-01T07:19:39.490
> 
> 标签：c++, inheritance, c++11, variadic-templates, typetraits

我正在尝试制作一个用于颜色的流操纵器，以用于输出到控制台。它可以改变文本和背景的颜色：

```
std::cout << ConColor::Color::FgBlue << 123 << "abc"; //text is blue, sticky 
```

问题在于签名：

```
std::ostream &FgBlue(std::ostream &); 
```

此签名也允许派生类，`std::ostringstream`但无法更改字符串流的颜色。无论是否使用这样的参数调用该函数，该函数都会改变控制台的颜色。

因此，我想确保该论点类似于`std::cout`,`std::wcout`等。我希望它是通用的，以防`std::ostream`在未来的标准中添加更多对象。

我尝试了很多涉及`std::is_same`and的事情`std::is_base_of`，当前者不起作用时，只是为了最终意识到这是没有意义的，因为任何继承自的参数类型`std::basic_ostream<>`都将被转换为我在传递给函数时与之比较的类型，从而产生误报。

这最终使我得到了下面的答案（可变参数模板模板参数？哇，真是一口！）但是有几个问题：

*   编译器必须支持可变参数模板。我更喜欢 MSVC 上的解决方案。
*   如果使用具有不同数量的模板参数（例如`std::ostringstream`，它有 3 个而不是 2 个）的派生类，编译器会给出神秘的错误，因为它没有通过函数签名。
*   例如，可以将 stdout 重定向到文件，因此即使参数是`std::cout`，也会发生与 stringstream 情况相同的事情。

我鼓励人们发布任何其他解决方案，希望比我的更好，并且真的希望至少可以与 VS11 一起使用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:19:39.490

这是我经过大量试验后得出的结论：

```
template<template<typename...> class T, typename... U>
void foo(T<U...> &os) {
    static_assert(
        std::is_same<
            std::basic_ostream<U...>, 
            typename std::remove_reference<decltype(os)>::type
        >::value, 
        "Argument must be of type std::basic_ostream<T, U>."
    );
    //...
} 
```

可以在[此处](http://liveworkspace.org/code/304fd2d3af2390b77585746852ecebf9)找到包含以下每个测试的源代码。[可以在此处](http://liveworkspace.org/code/c9c0e62de85252172baab9aac95bde48)
找到将类型替换为更明确并提供更多自由（例如，实例化）的类似自制类型的源代码，这可能对测试更有用。

*   传入`std::cout`并`std::wcout`使其编译正常。
*   传入一个实例`std::ostringstream`会导致它抱怨模板参数的数量。
*   传入`std::fstream`具有相同数量模板参数的 实例会导致静态断言失败。
*   传入自制的 2 参数模板类会导致静态断言失败。

请随时以任何方式对此进行改进。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T09:21:00.640

这是检测`std::basic_ostream`实例化的特征：

```
template<typename T> struct is_basic_ostream {
  template<typename U, typename V>
  static char (&impl(std::basic_ostream<U, V> *))[
    std::is_same<T, std::basic_ostream<U, V>>::value ? 2 : 1];
  static char impl(...);
  static constexpr bool value = sizeof(impl((T *)0)) == 2;
}; 
```

用于：

```
template<typename T>
void foo(T &) {
  static_assert(is_basic_ostream<T>::value,
    "Argument must be of type std::basic_ostream<T, U>.");
} 
```

我们使用模板参数推导来推断（非正确）`basic_ostream`基类（如果有）上的模板参数。作为更通用的解决方案，用单个可变参数替换`U`和将允许在支持可变模板参数的编译器上编写通用特征。`V``is_instantiation_of`

* * *

要检测 stdout 是否通过管道传输到文件（当然只能在运行时检测到），请使用`isatty`; 看看[如何在 cout 上使用 isatty()，或者我可以假设 cout == 文件描述符 1？](https://stackoverflow.com/questions/5156675/how-to-use-isatty-on-cout-or-can-i-assume-that-cout-file-descriptor-1)

# c# - 使用 C# Windows 应用程序。如何使用 Visual Studio 的 WebBrowser 识别网站登录是否成功？

> ID：13172655
> 
> 赞同：1
> 
> 时间：2012-11-01T07:20:10.053
> 
> 标签：c#, visual-studio-2010, login, browser, dom

我创建了一个**c# windows 应用程序**，它为用户 ID 和密码提供了文本框，单击提交按钮后，它将使用 webbrowser 组件自动将 eBay 帐户登录到 www.ebay.com。如果输入的用户名和密码正确，登录似乎很容易。**现在我想在你的帮助下完成的是：**

每次用户在 Windows 应用程序上输入错误的用户名或密码时，***都会有一个消息框通知用户用户***名和密码不正确。并且登录到该网站是不成功的。

这是我的**WebBrowser 事件 DocumentComplete 的**代码。

```
 //webTest is the name of my web browser
    private void webTest_DocumentCompleted(object sender, WebBrowserDocumentCompletedEventArgs e)
    {
        //boolean login variable checks if the button login was clicked.
        if (login == true)
        {
            //checks if the url is on the login page of eBay.
            if (webTest.Url.AbsoluteUri == loginPage)
            {
                    HtmlDocument doc = webTest.Document;
                    HtmlElement username = doc.GetElementById("userid");
                    HtmlElement password = doc.GetElementById("pass");
                    HtmlElement submit = doc.GetElementById("but_sgnBt");
                    username.SetAttribute("value", txtUser.Text);
                    password.SetAttribute("value", txtPassword.Text);
                    submit.InvokeMember("click");
                    login = false;
            }
            //else the webbrowser webtest will navigate to the login page,
            else
                webTest.Navigate(loginPage);
        }
    } 
```

谢谢大家的回复，我真的很感激。愿上帝保佑c#！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T09:14:43.813

由于`webTest_DocumentCompleted`将在页面完全加载时调用，因此您应该能够检测您是否从登录页面重定向到另一个页面。例如，eBay UK 的登录页面位于域[https://signin.ebay.co.uk/](https://signin.ebay.co.uk/)上。成功登录会将我转移到[http://my.ebay.co.uk/](http://my.ebay.co.uk/)。

您可以在方法中检查此传输`webTest_DocumentCompleted`。如果确实发生了，则您已登录。如果没有，则您未登录（并且可以显示消息框以提醒用户）。

# ms-access-2003 - 在字符串 MsAccess 2000 中添加字符

> ID：13172656
> 
> 赞同：2
> 
> 时间：2012-11-01T07:20:12.333
> 
> 标签：ms-access-2003, ms-access-2000

我有一个字段的表：

```
Postal
48016350
48016350
48016350
48016350
48016350 
```

我需要在每条记录之前添加“0”，并在我的 MsAccess 2000 数据库中的第 5 个字符之后添加“-”（破折号）。

我的目标是：

```
Postal
04801-6350
04801-6350
04801-6350
04801-6350
04801-6350 
```

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T10:39:58.470

您可以使用更新查询来做到这一点：

```
UPDATE table
SET postal = "0" & Left(postal,4) & "-" & Right(postal,4) 
```

您可以将 SQL 粘贴到“查询设计”窗口的 SQL 视图中。确保首先制作表格的副本。

# php - 使用 PHP 进行语言翻译

> ID：13172660
> 
> 赞同：2
> 
> 时间：2012-11-01T07:20:26.947
> 
> 标签：php, language-translation

嗨，我正在用 php 开发示例网站，我需要将整个网站翻译成波斯语。怎么可能在php中？我试过使用下面的代码。这个代码可以很好地进行德语转换。

```
1\. class.translation.php

<?php
class Translator {

    private $language   = 'en';
    private $lang       = array();

    public function __construct($language){
        $this->language = $language;
    }

    private function findString($str) {
        if (array_key_exists($str, $this->lang[$this->language])) {
            echo $this->lang[$this->language][$str];
            return;
        }
        echo $str;
    }

    private function splitStrings($str) {
        return explode('=',trim($str));
    }

    public function __($str) {  
        if (!array_key_exists($this->language, $this->lang)) {
            if (file_exists($this->language.'.txt')) {
                $strings = array_map(array($this,'splitStrings'),file($this->language.'.txt'));
                foreach ($strings as $k => $v) {
                    $this->lang[$this->language][$v[0]] = $v[1];
                }
                return $this->findString($str);
            }
            else {
                echo $str;
            }
        }
        else {
            return $this->findString($str);
        }
    }
}
?> 
```

2.注册.php

```
<?php
require_once('class.translation.php');

if(isset($_GET['lang']))
    $translate = new Translator($_GET['lang']);
else
    $translate = new Translator('en');
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <title><?php $translate->__('CSS Registration Form'); ?></title>
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-15"/>
        <link rel="stylesheet" type="text/css" href="css/default.css"/>
    </head>
    <body>    
        <form action="" class="register">
            <h1><?php $translate->__('Registration'); ?><a class="flag_deutsch" title="deutsch" href="register1.php?lang=de"></a><a class="flag_english" title="english" href="register1.php"></a></h1>
            <fieldset class="row1">
                <legend><?php $translate->__('Account Details'); ?></legend>
                <p>
                    <label><?php $translate->__('Email'); ?> *</label>
                    <input type="text"/>
                    <label><?php $translate->__('Repeat email'); ?> *</label>
                    <input type="text"/>
                </p>
            </fieldset>

            <div><button class="button"><?php $translate->__('Register'); ?> &raquo;</button></div>
        </form>
    </body>
</html> 
```

是否可以使用此代码转换为其他语言？我将 register1.php?lang=de 更改为 register1.php?lang=fa(persian).. 但什么也没有发生..任何人请帮忙

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-01T08:27:35.457

按照我的说法，您可以尝试此方法。此方法已在我们的系统中实现，并且可以正常工作。

制作每种语言的php文件并定义所有变量并在页面中使用这些变量。

例如对于英语

**英文.php**

```
$hello="Hello"; 
```

**波斯语.php**

```
$hello=html_entity_decode(htmlentities("سلام")); 
```

现在使用这个变量来翻页。

**your_page.php**

```
<label><?php echo $hello; ?></label> 
```

您已根据从 URL 获取语言变量加载特定的语言文件。

最好将此语言变量定义到配置文件中。

**配置文件**

```
if(isset($_GET['lang']) && $_GET['lang']=='persian')
{
   require_once('persian.php');
}
else
{
   require_once('english.php');
} 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-11-01T08:42:33.753

如果我是你，我会这样做：

**/inc/lang/en.lang.php**

```
define('_HELLO', 'Hello'); 
```

**/inc/lang/fa.lang.php**

```
define('_HELLO', 'سلام'); 
```

**索引.php**

```
// $_SESSION['lang'] could be 'en', 'fa', etc.
require_once '/inc/lang/' . $_SESSION['lang'] . 'lang.php';

echo _HELLO; 
```

**基准测试：常量与变量**

在这里，您会看到为什么我提供使用`Constants`not `Variables`：

**常量.php**

```
echo memory_get_usage() . '<br>';   // output: 674,576

for ($i = 0; $i <= 10000; $i++) {
    define($i, 'abc');
}

echo memory_get_usage() . '<br>';   // output: 994,784 
```

**变量.php**

```
echo memory_get_usage() . '<br>';   // output: 674,184

for ($i = 0; $i <= 10000; $i++) {
   $$i = 'abc';
}

echo memory_get_usage() . '<br>';   // output: 2,485,176 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2019-08-24T21:31:42.663

```
original from @rbenmass : 
```

试试这个：

```
function translate($q, $sl, $tl){
    $res= file_get_contents("https://translate.googleapis.com/translate_a/single?client=gtx&ie=UTF-8&oe=UTF-8&dt=bd&dt=ex&dt=ld&dt=md&dt=qca&dt=rw&dt=rm&dt=ss&dt=t&dt=at&sl=".$sl."&tl=".$tl."&hl=hl&q=".urlencode($q), $_SERVER['DOCUMENT_ROOT']."/transes.html");
    $res=json_decode($res);
    return $res[0][0][0];
}

//example-- 
echo translate("اسمي منتصر الصاوي", "ar", "en"); 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-11-01T07:38:07.567

正如我从代码中看到的那样，翻译器类从 en.txt 文件加载翻译数据，如果你想要“fa”翻译，只需创建 fa.txt 作为 en.txt 的副本，并编辑和翻译 fa。 txt转波斯语...

希望能帮助到你

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2016-05-31T16:50:42.077

**从 Perl trans 脚本中，我为 100% 免费的 php google 翻译此功能提取了以下内容：**

请参阅[http://ogena.net上的工作演示](http://ogena.net)

```
function translate($q, $sl, $tl){

if($s==$e || $s=='' || $e==''){
    return $q;

}
else{
    $res="";

    $qqq=explode(".", $q);

    if(count($qqq)<2){

        @unlink($_SERVER['DOCUMENT_ROOT']."/transes.html");
        copy("http://translate.googleapis.com/translate_a/single?client=gtx&ie=UTF-8&oe=UTF-8&dt=bd&dt=ex&dt=ld&dt=md&dt=qca&dt=rw&dt=rm&dt=ss&dt=t&dt=at&sl=".$sl."&tl=".$tl."&hl=hl&q=".urlencode($q), $_SERVER['DOCUMENT_ROOT']."/transes.html");
        if(file_exists($_SERVER['DOCUMENT_ROOT']."/transes.html")){
            $dara=file_get_contents($_SERVER['DOCUMENT_ROOT']."/transes.html");
            $f=explode("\"", $dara);

            $res.= $f[1];
        }
    }
    else{

    for($i=0;$i<(count($qqq)-1);$i++){

        if($qqq[$i]==' ' || $qqq[$i]==''){
        }
        else{
            copy("http://translate.googleapis.com/translate_a/single?client=gtx&ie=UTF-8&oe=UTF-8&dt=bd&dt=ex&dt=ld&dt=md&dt=qca&dt=rw&dt=rm&dt=ss&dt=t&dt=at&sl=".$s."&tl=".$e."&hl=hl&q=".urlencode($qqq[$i]), $_SERVER['DOCUMENT_ROOT']."/transes.html");

            $dara=file_get_contents($_SERVER['DOCUMENT_ROOT']."/transes.html");
            @unlink($_SERVER['DOCUMENT_ROOT']."/transes.html");
            $f=explode("\"", $dara);

            $res.= $f[1].". ";
            }
        }
    }
    return $res;
}

}

//sample usage
echo translate("Goede dag dames en heren", "nl", "en"); 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2017-11-10T09:20:53.750

@rbenmass 谢谢你:-)

我认为它必须是，因为它对我有好处：

```
 /* 
    original from @rbenmass :

    function translate($q, $sl, $tl){

    if($s==$e || $s=='' || $e==''){
        return $q;

    }
     **/

function translate($q, $sl, $tl){

if($sl==$tl || $sl=='' || $tl==''){
    return $q;

}
//  ...  // 
```

# gridview - 在 extjs 中，如何在按钮单击时将文本字段值插入网格

> ID：13172661
> 
> 赞同：0
> 
> 时间：2012-11-01T07:20:26.937
> 
> 标签：gridview, extjs

我正在用 extjs 实现项目。我有选项表单，其两个字段为问题和选项。我的查看代码是-

```
Ext.create('Ext.form.Panel', {
    title: 'Question-option',
    width: 300,
    bodyPadding: 10,
    renderTo: Ext.getBody(),        
    items: [{
        xtype: 'textfield',
        name: 'Question',
        fieldLabel: 'Question',
        allowBlank: false  // requires a non-empty value
    }, {
        xtype: 'textfield',
        name: 'Option',
        fieldLabel: 'Option',
       allowBlank: false  
    },
    {xtype: 'button', text: 'Ok'}, 
    {xtype: 'button', text: 'Cancel'}
 ]
}); 
```

现在在添加按钮单击时，我想在 gridview 中显示这些插入的字段值。并且还希望将选项字段设为空白以插入多个选项。并且需要在 gridview 中显示所有这些插入的选项。所以请你建议我该怎么做。我对extjs很陌生，请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T18:31:10.230

Shilpa，有一个带有网格和表单的示例，当您单击“创建”按钮时，它会向商店添加一条记录。我认为这很接近您的情况： [http ://docs.sencha.com/ext-js/4-1/#!/example/writer/writer.html](http://docs.sencha.com/ext-js/4-1/#!/example/writer/writer.html)

# ipad - iBooks 小部件：参数和共享资源

> ID：13172662
> 
> 赞同：1
> 
> 时间：2012-11-01T07:20:27.827
> 
> 标签：ipad, dashcode, ibooks

考虑使用 iBooks Author 制作的教科书，使用 HTML 小部件实现交互功能，例如每章末尾的测验。您最终会得到很多共享大量资产（图像文件、javascript 库）的小部件（每章一个）。

随意使用 iBooks Author 似乎表明每个小部件都是其自己的独立包，可以复制到书中。在这种情况下，这将是非常浪费的。

1.  我可以多次包含同一个捆绑包（这样它会出现在许多位置，但不会占用冗余磁盘空间）？

2.  我可以将参数传递给小部件（以便我可以告诉它要显示哪一章的数据）吗？

3.  如果 1+2 不起作用，小部件是否可以引用存储在同一本书中其他地方的共享位置的资产（这样我就可以制作 50 个不需要包含图像和 JavaScript 本身的精益小部件）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-03-16T19:25:48.057

只需对 3\. 有一个答案，仍在尝试找出其他两个。

IBA 创建的 ibooks 文件基本上是一个 EPUB 文档。因为是这种情况，您可以使用小部件中的 HTML 来引用包本身中的文件。

IBA 创建一个`assets`文件夹，用于存储所有图像、小部件和其他项目。

例如，`<img src='../../images/image.jpg' />` 在您的小部件的 HTML 中将显示`image.jpg`.

要在生成 iBook 后查看和添加图像、js 等到 iBook，`unzip`您的 iBooks 文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-20T21:01:51.130

1.  您可以多次包含同一个包，但我相信它不会共享所有资产，因此每个副本都会占用空间。
2.  据我所知，您无法将参数传递给小部件。我也在其他地方写了这个，但是我们在每章的末尾都构建了一个测验小部件，我们最终只是克隆了小部件的代码并通过 JSON 设置了所有变量。结果证明这是最简单的方法。
3.  `localstorage`在所有小部件之间共享，因此您可以在那里存储共享信息（base-64 编码图像？）。

# java - tomcat 5.5 未显示手动部署的应用程序

> ID：13172665
> 
> 赞同：1
> 
> 时间：2012-11-01T07:20:33.863
> 
> 标签：java, deployment, war, tomcat5.5

我已经在我的 debian 机器上安装了 tomcat 5.5 服务器，我尝试在其上部署我的第一个 HelloWord 应用程序。当我部署它时，管理器仪表板在消息框中显示 Ok 消息，但是在应用程序列表中它没有显示我新部署的应用程序。我发现我的应用程序存在于 tomcat5.5/webapps 文件夹中。我尝试使用 localhost:8081/helloWord 之类的 URl 访问应用程序，它显示 404 错误页面。谁能告诉我的服务器出了什么问题。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-11-01T07:31:10.573

使用最新版本的 tomcat 或者如果 windows 是盗版的，请更改它......有时它会由于盗版 windows 而发生。这可能会解决您的问题

玩得开心

# java - Java中音频是如何存储的

> ID：13172667
> 
> 赞同：2
> 
> 时间：2012-11-01T07:20:51.477
> 
> 标签：java, audio

这是一个快速的问题，当音频存储在字节数组中时，它是如何存储的，就像当图像存储在字节数组中时，每个像素有三个（红、绿、蓝）字节。那么音频是如何存储在字节数组中的呢？

谢谢，利亚姆。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:24:14.383

Java 支持多种可能的编码。看：

*   [http://docs.oracle.com/javase/1.5.0/docs/api/javax/sound/sampled/AudioFormat.html](http://docs.oracle.com/javase/1.5.0/docs/api/javax/sound/sampled/AudioFormat.html)
*   [http://docs.oracle.com/javase/1.5.0/docs/api/javax/sound/sampled/AudioFormat.Encoding.html](http://docs.oracle.com/javase/1.5.0/docs/api/javax/sound/sampled/AudioFormat.Encoding.html)

最简单的形式是 PCM 编码，其中每个样本都是代表声音波形的线性数字（对于 8 位编码，可能是 1 个字节）。

您还必须考虑通道数（1 个用于单声道，2 个用于立体声）。例如，16 位 PCM 编码的立体声将需要每个样本 4 个字节。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-01T07:39:53.137

它是信号（模拟/数字）的组合，每个音调都有独特的频率。正如在上一个答案中所说，是的，Java 支持脉冲编码调制（PCM）。

# php - 在php中从计算机系统获取时间

> ID：13172670
> 
> 赞同：0
> 
> 时间：2012-11-01T07:21:06.873
> 
> 标签：php, time

我正在尝试从 php 中的计算机系统中获取时间，并且我希望它与计算机中的完全一样，而不是其他格式。

我已经在 javascript 中做到了，但它是客户端，我想要服务器端。所以我在php中尝试它。

在php中可以吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:24:50.097

如果您指的是服务器（运行 PHP 的机器）的日期/时间，您可以使用该`date`函数。

直接来自[PHP 文档](http://php.net/manual/en/function.date.php)：

```
<?php
// Assuming today is March 10th, 2001, 5:16:18 pm, and that we are in the
// Mountain Standard Time (MST) Time Zone

$today = date("F j, Y, g:i a");                 // March 10, 2001, 5:16 pm
$today = date("m.d.y");                         // 03.10.01
$today = date("j, n, Y");                       // 10, 3, 2001
$today = date("Ymd");                           // 20010310
$today = date('h-i-s, j-m-y, it is w Day');     // 05-16-18, 10-03-01, 1631 1618 6 Satpm01
$today = date('\i\t \i\s \t\h\e jS \d\a\y.');   // it is the 10th day.
$today = date("D M j G:i:s T Y");               // Sat Mar 10 17:16:18 MST 2001
$today = date('H:m:s \m \i\s\ \m\o\n\t\h');     // 17:03:18 m is month
$today = date("H:i:s");                         // 17:16:18
$today = date("Y-m-d H:i:s");                   // 2001-03-10 17:16:18 (the MySQL DATETIME format)
?> 
```

如果您的意思是从客户的计算机上，那么它就无法完成。PHP是服务器端的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T07:25:24.170

> 从客户的计算机。

浏览器不会随每个请求发送当前时间，因此在服务器上运行的 PHP 无法知道客户端时钟设置为什么（除非您使用 JavaScript（或您可以使用客户端的其他技术）来收集时间和向明确包含它的服务器发出 HTTP 请求）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T07:51:05.130

PHP 是一种在服务器端执行的语言，客户端计算机从未见过的代码。您试图解决的问题无法用 PHP 完成。要获取运行 PHP 的服务器的日期/时间，请参阅以下内容：http: [//php.net/manual/en/function.getdate.php](http://php.net/manual/en/function.getdate.php)

# ios - iOS 固定位置日期和时间？

> ID：13172671
> 
> 赞同：1
> 
> 时间：2012-11-01T07:21:19.723
> 
> 标签：ios, time

我正在寻找一个贯穿 iOS 设备生命周期的时钟，并且始终是独一无二的，并且用户无法调节。

这样做的主要原因是考虑到现实世界时间的游戏，所以我们不希望用户有能力调整那个时间。此外，游戏不需要设备在线，所以这不是我可以依赖的。

# spring - 切入点未应用于抽象方法

> ID：13172673
> 
> 赞同：3
> 
> 时间：2012-11-01T07:21:41.223
> 
> 标签：spring, spring-aop

我正在尝试将切入点应用于子类中已实现的方法，但未围绕此切入点调用 AspectMethod。以下是我的配置和代码：

```
public abstract class ParentClass {
  protected abstract void buildResponse(QueryResponse qryResp,ContentSearchServiceResponseImpl cssResp);
}

public class ChildClass extends ParentClass {
@override    
public void buildResponse(QueryResponse qryResp,ContentSearchServiceResponseImpl  ssResp){
//doSomething
} 
```

切入点：

```
<aop:pointcut id="pointcutId"
            expression="execution(public * ParentClass.buildResponse(..))" /> 
```

或者

```
<aop:pointcut id="pointcutId"
            expression="execution(protected * ParentClass.buildResponse(..))" /> 
```

或者

```
<aop:pointcut id="pointcutId"
            expression="execution(public * ParentClass+.buildResponse(..))" /> 
```

对于Aspect上面的任何切入点配置都没有创建。我已经尝试了几乎所有东西。如果有人对此有一些想法......我不能直接使用子类的名称，因为在我的情况下，多个子类正在实现这个抽象方法

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-01T13:19:22.600

尝试

```
execution(public * buildResponse(..)) && within(ParentClass+) 
```

或者

```
execution(public * buildResponse(..)) && target(ParentClass+) 
```

还要记住，如果您使用“标准”基于 spring 代理的 AOP，则类内部的内部调用（一个方法调用同一类中的另一个方法）不受任何建议的影响。

# java - 从JAVA中的字符串中剥离/删除特定字符

> ID：13172675
> 
> 赞同：0
> 
> 时间：2012-11-01T07:21:42.707
> 
> 标签：java, string, character, removeall

我有一个字符串变量说'结果'。此字符串的值应仅包含字母、数字、点、空格、连字符和下划线。我得到的正则表达式是'^[a-zA-Z][a-zA-z ._-]'。

我如何在字符串变量上使用这个正则表达式？请帮我。

也欢迎任何其他建议。基本上我只需要在字符串值中包含字母数字、点、空格、连字符、下划线。

请帮忙。

**部分答案：** 我能够部分实现使用

```
string.replaceAll("[^a-zA-Z0-9]", ""); 
```

但我无法在上述验证中添加点、空格、连字符、下划线。上述验证删除了除字母数字字符之外的所有字符。但我需要点、空格、连字符、下划线也不能从原始字符串中替换/删除。

请问有什么想法吗？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:24:48.397

只需使用`.replaceAll("[aeiou]","")`这将工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T07:27:12.647

只需使用`yourstring.split()`方法并从要删除符号的位置拆分字符串，然后再次附加字符串。

玩得开心...

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-08-04T15:22:19.877

修改你必须`[^a-zA-Z0-9]`匹配那些你想要的字符的正则表达式：

```
string.replaceAll("[^a-zA-Z0-9\s\._-]", ""); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-01T10:47:07.720

是的，您可以通过在使用 StringBuilder 对象之后将该字符串存储在任何变量中并根据它们的位置附加要添加的字符或符号来轻松地做到这一点。

```
yourString.setText(new StringBuilder().append("character or symbol").append(anystring)
                .append(":")); 
```

您可以从上面的代码轻松完成。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-08-04T15:00:47.407

String x = "ac d" 你想用 (-) 替换所有空格 x = x.replace(" ", "-");

# gcc - 如何在 Mountain Lion 上编译 gcc-4.0

> ID：13172683
> 
> 赞同：0
> 
> 时间：2012-11-01T07:22:35.060
> 
> 标签：gcc, compilation, osx-mountain-lion

到目前为止，我已经成功启动了配置，但是当我输入 make 时，一段时间后出现以下错误（有很多编译成功）：

```
ld：未知/不支持的架构名称：-arch i686
/usr/bin/libtool: 内部链接编辑命令失败
make[2]: *** [libgcc_s.dylib] 错误 1
make[1]: *** [libgcc.a] 错误 2
make: *** [all-gcc] 错误 2

```

有没有办法告诉 gcc 不要为 i686 架构编译自己？

`uname -a`如果它可以提供帮助，这是我的：

```
Darwin Frizlabs-Computer.local 12.2.0 达尔文内核版本 12.2.0：2012 年 8 月 25 日星期六 00:48:52 PDT；根：xnu-2050.18.24~1/RELEASE_X86_64 x86_64

```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-05T04:00:28.533

serverfault 上的某个人回答[了同样的问题](https://superuser.com/questions/498826/how-to-compile-gcc-4-0-on-mountain-lion)。所以这是在 OS X Mountain Lion 上编译 gcc-4.0 的方法（从 serverfault 复制）：

[首先从Apple 的开源页面](http://www.opensource.apple.com/release/developer-tools-314/)获取包含在 XCode 3.1 中的旧 4.0 包

下载 gcc-5493 包并使用以下命令构建：

```
mkdir darwin
cd darwin
../configure --prefix=/tmp/testplace --enable-languages=objc,c++
make bootstrap
make install 
```

# extjs - extjs：加载掩码应该排在最前面

> ID：13172684
> 
> 赞同：0
> 
> 时间：2012-11-01T07:22:41.737
> 
> 标签：extjs

在我的应用程序中，我有组合框，当我单击它时，ajax 调用从服务器获取数据。那时加载掩码没有出现在顶部，它出现在弹出窗口的后面。如何将它放在组件之上。

```
xtype:'combobox', 
fieldLabel: 'Student Group(*)', 
editable:false, 
store: GroupStore, 
valueField:'name', 
displayField:'name', 
name: 'txtStudentGroup', 
id:'txtStudentGroupId', 
forceSelection:true, 
queryMode: 'local', 
triggerAction: 'all', 
emptyText:'Select Student Group', 
```

# java - 如何在 java 类中打开 SQLite DB

> ID：13172685
> 
> 赞同：-1
> 
> 时间：2012-11-01T07:22:42.047
> 
> 标签：java, android, database, sqlite, exception

我正在从活动（android）调用java类中的db。是否可以从activity调用java类。我使用它进行服务器通信android。我从服务器获取数据，但我无法插入数据库。

我这样打电话就遇到了异常，任何人都可以帮助我，在此先感谢。

```
11-01 06:52:03.596: W/System.err(673): java.lang.NullPointerException
11-01 06:52:03.603: W/System.err(673):  at com.commiunication.ServerConnection.Insert(ServerConnection.java:32)
11-01 06:52:03.627: W/System.err(673):  at com.commiunication.MainActivity.serverconnection(MainActivity.java:138)
11-01 06:52:03.627: W/System.err(673):  at com.commiunication.MainActivity.onCreate(MainActivity.java:46)
11-01 06:52:03.633: W/System.err(673):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
11-01 06:52:03.633: W/System.err(673):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
11-01 06:52:03.633: W/System.err(673):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
11-01 06:52:03.633: W/System.err(673):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)
11-01 06:52:03.633: W/System.err(673):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
11-01 06:52:03.633: W/System.err(673):  at android.os.Handler.dispatchMessage(Handler.java:99)
11-01 06:52:03.633: W/System.err(673):  at android.os.Looper.loop(Looper.java:123)
11-01 06:52:03.633: W/System.err(673):  at android.app.ActivityThread.main(ActivityThread.java:4627)
11-01 06:52:03.633: W/System.err(673):  at java.lang.reflect.Method.invokeNative(Native Method)
11-01 06:52:03.655: W/System.err(673):  at java.lang.reflect.Method.invoke(Method.java:521)
11-01 06:52:03.655: W/System.err(673):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
11-01 06:52:03.655: W/System.err(673):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
11-01 06:52:03.655: W/System.err(673):  at dalvik.system.NativeStart.main(Native Method) 
```

**androidactivity.java**

```
ServerConnection server=new ServerConnection();
try {

server.Insert(ReturnValue);
sampleDB =    this.openOrCreateDatabase(SAMPLE_DB_NAME,MODE_PRIVATE,null);
} catch (JSONException e) {
// TODO Auto-generated catch block
e.printStackTrace();
} 
```

**serverConnection.java**

```
public  void Insert(String ReturnValue) throws JSONException{
JSONObject CDGSGJson=new JSONObject(ReturnValue);           
JSONArray idarr = CDGSGJson.getJSONArray("MeasureArr"); 
System.out.println(""+idarr.length());  
sampleDB= openOrCreateDatabase(SAMPLE_DB_NAME,     SQLiteDatabase.OPEN_READWRITE, null);
System.out.println(""+idarr.length());  
//Toast.makeText(this, "Group Details Downloading", Toast.LENGTH_SHORT).show();
try {   
sampleDB.execSQL("CREATE TABLE IF NOT EXISTS " + table_name + " "
+ "( id INTEGER PRIMARY KEY AUTOINCREMENT," + " measure TEXT NOT NULL ); ");       
if(idarr.length()>0){

for(int cc=0;cc<idarr.length();cc++){               
JSONObject CatObj = idarr.getJSONObject(cc);
String id_get=CatObj.getString("id");   
String measure_get=CatObj.getString("measure"); 

sampleDB.execSQL("INSERT OR REPLACE INTO " + table_name+ " Values      
                                                ('"+id_get+"','"+measure_get+"');");

            }}

    } catch (Exception e) {
        // TODO: handle exception
         e.printStackTrace();
        // System.out.print(e.printStackTrace());
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:38:54.243

请参阅下面的链接可能对您有所帮助。

对于本地数据库交互：[Link1](http://www.androidhive.info/2011/11/android-sqlite-database-tutorial/)。您可以直接从中下载源代码并尝试理解它。[链接2](http://myandroidsolutions.blogspot.in/2012/07/android-database-tutorial.html)。

对于远程数据库：对于远程数据库，您必须创建响应您的 android 客户端应用程序的 webService。请参考这个[Link1](http://androiddevelopement.blogspot.in/2011/09/connecting-to-remote-mysql-database.html)，[Link2 for Andoid 和 php-mysql](http://www.basic4ppc.com/forum/basic4android-getting-started-tutorials/8339-connect-android-mysql-database-tutorial.html)。

希望以上链接对您有所帮助。享受编码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:27:15.913

在 android 中，为了使用 db，有一个名为 SqLiteOpenHelper 的内置 api。

请通过[http://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper.html](http://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper.html)

这是一个示例代码

[http://www.vogella.com/articles/AndroidSQLite/article.html](http://www.vogella.com/articles/AndroidSQLite/article.html)

# taxonomy - 本体中的关联类

> ID：13172686
> 
> 赞同：2
> 
> 时间：2012-11-01T07:22:45.813
> 
> 标签：taxonomy, jena, ontology, owl, protege

我在我的本体中遇到了与类（而不是个人）相关的问题。我需要知道哪一个 OWL(full-dl-lite) 允许关联类。我的意思是财产的领域和范围是[http://www.w3.org/2002/07/owl#Class](http://www.w3.org/2002/07/owl#Class)。有可能这样做吗？感谢您的任何提示。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-01T08:29:00.047

首先，忘记[http://www.w3.org/TR/owl-guide/](http://www.w3.org/TR/owl-guide/)、[http://www.w3.org/TR/owl-ref/](http://www.w3.org/TR/owl-ref/)和[http://www.w3.org上的规范/TR/owl-semantics/](http://www.w3.org/TR/owl-semantics/) . Web Ontology Language 的官方推荐是[OWL 2](http://www.w3.org/TR/owl2-syntax/)，其中各种子语言是 OWL 2 EL、OWL 2 QL、OWL 2 RL、OWL 2 DL 和 OWL 2 Full（了解[OWL 2 的新特性](http://www.w3.org/TR/owl2-new-features/)）。OWL Lite 不再存在，应该永远被遗忘。

其次，在 OWL（1 和 2）中，总是可以使用注释属性来关联类，就像在[Turtle](http://www.w3.org/TR/turtle/)中这样：

```
# valid in all variants and OWL 1 and OWL 2
:prop  a  owl:AnnotationProperty .
:C1  a  owl:Class .
:C2  a  owl:Class;
     :prop  :C2 . 
```

在 OWL 1 中，无法为注释属性定义域或范围，但现在在 OWL 2 中可以：

```
# works in all variants of OWL 2
:prop  a  owl:AnnotationProperty;
       rdfs:domain  owl:Class;
       rdfs:range  owl:Class . 
```

您的另一种选择是依靠“双关语”的概念，即使用个人类的 IRI，如下所示：

```
# works in all variants of OWL 2
:prop  a  owl:ObjectProperty .
:C1  a  owl:Class .
:C2  a  owl:Class;
     :prop  :C2 . 
```

但是，您不能`owl:Class`用作对象属性的域或范围。最后一种可能是不关心并使用 OWL (1/2) Full：

```
# works in OWL 1 Full, OWL 2 Full
:prop  rdfs:domain  owl:Class;
       rdfs:range  owl:Class .
:C1  a  owl:Class;
     :prop  :C2 . 
```

请注意，大多数 OWL DL 推理器不会在该输入上崩溃（更准确地说，我测试过的所有推理器都不会崩溃），因此实际上它非常安全。

# c - 如何在 c 中编写迷你 shell 时解析 iinput 命令行

> ID：13172688
> 
> 赞同：0
> 
> 时间：2012-11-01T07:22:48.477
> 
> 标签：c

*   我为我的 linux mini-shell 分配编写了以下代码，并且不断收到以下错误消息。- 警告：从不兼容的指针类型传递 'strcat' 的参数 2 - /usr/include/string.h:136:14：注意：预期的 'const char * **restrict** ' 但参数的类型是 'char **'</p >

*   cld 任何人都通过它并告诉我出了什么问题？

编码：

```
int countArgs(char n_args[], ...){
    va_list ap;
    int i, t;
    va_start(ap, n_args);
    for(i=0;t = va_arg(ap, int);i++){ return  t; }
    va_end(ap);
}

char *parse(char buffer[],int num_of_args, char *arguments[])
{ 
    arguments[num_of_args+1]=NULL;
    int i;

    for(i=0;i<num_of_args+1;i++){
        do 
        {
            arguments[i]= strtok(buffer, " ");
        }
        while(arguments!=NULL);
    }

    return arguments;
}

int main(int argc, char **argv)
    char buffer[512];
    char *path = "/bin/";
    while(1)
    {
        //print the prompt
        printf("myShell&gt;");

        //get input
        fgets(buffer, 512, stdin);

        //fork!
        int pid = fork(); //Error checking to see if fork works

        //If pid !=0 then it's the parent
        if(pid!=0)
        {
            wait(NULL);
        }
        else
        {
            //if pid = 0 then we're at teh child
            //Count the number of arguments
            int num_of_args = countArgs(buffer);

            //create an array of pointers for the arguments to be 
            //passed to execcv.
            char *arguments[num_of_args+1];

            //parse the input and arguments will have all the arguments
            // to be passed to the program
            parse(buffer, num_of_args, arguments);                        
            arguments[num_of_args+1] = NULL;

            //This will be the final path to the program that we will pass to execv
            char prog[512];

            //First we copy a /bin/ to prog
            strcpy(prog, path);

            //Then we concancate the program name to /bin/
            //If the program name is ls, then it'll be /bin/ls
            strcat(prog, arguments);

            //pass the prepared arguments to execv and we're done!
            int rv = execv(prog, arguments);
        }
    }
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:59:44.403

[strcat](http://linux.die.net/man/3/strcat)的第二个参数是类型`const char*`，但您试图传递一个 char 指针数组。

如果要将所有`arguments`数组添加到字符串中，则应遍历数组，`strcat`每次调用单个数组项。

```
for (i=0; i<num_of_args; i++) {
    strcat(prog, arguments[i]);
} 
```

如果要添加单个参数，请确定其数组索引并使用

```
strcat(prog, arguments[index]); 
```

# android - 尝试开设商家帐户时无法显示国家/地区印度

> ID：13172698
> 
> 赞同：0
> 
> 时间：2012-11-01T07:23:26.967
> 
> 标签：android

印度开发者无法发布付费应用程序，我想在 Android 市场上发布一些应用程序，为此我尝试创建一个商家帐户，但下拉菜单中没有“印度”选项。![在此处输入图像描述](../Images/4aa669e32a3679f951a8de61f740f197.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T07:25:37.570

自 2012 年 10 月 18 日起，您可以发布来自印度的付费应用程序。您的开发者控制台现在应该会显示该信息。有关详细信息，请参阅[android dev 博客](http://android-developers.blogspot.com/2012/10/google-play-seller-support-in-india.html)中的这篇文章，您应该在那里找到您需要的信息。

我住在印度，我自己对此进行了测试。我确信它有效。

**注意：**您需要在 OLD 开发者控制台中才能看到这一点。新版本没有为我显示这个。

# android - SecurityException 从未从 uid 导出的 ProcessRecord 打开提供程序 com.urbanairship.UrbanAirship Provider

> ID：13172699
> 
> 赞同：1
> 
> 时间：2012-11-01T07:23:36.447
> 
> 标签：android, urbanairship.com

我实际上没有得到这个 AndroidRuntime 错误。

当我的项目崩溃时，因为我没有关闭我从中读取值的数据库。

实际上，当我的数据库访问活动打开并且我从我的编辑器获得该设备（Xoom）上的运行项目时，就会发生这种情况。

崩溃日志如下所示。

```
11-01 12:09:27.090: E/SQLiteDatabase(5384): close() was never explicitly called on database '/data/data/com.android.mypype/databases/ua_analytics.db' 
11-01 12:09:27.090: E/SQLiteDatabase(5384): android.database.sqlite.DatabaseObjectNotClosedException: Application did not close the cursor or database object that was opened here
11-01 12:09:27.090: E/SQLiteDatabase(5384):     at android.database.sqlite.SQLiteDatabase.<init>(SQLiteDatabase.java:1980)
11-01 12:09:27.090: E/SQLiteDatabase(5384):     at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:977)
11-01 12:09:27.090: E/SQLiteDatabase(5384):     at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:956)
11-01 12:09:27.090: E/SQLiteDatabase(5384):     at android.database.sqlite.SQLiteDatabase.openOrCreateDatabase(SQLiteDatabase.java:1021)
11-01 12:09:27.090: E/SQLiteDatabase(5384):     at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:734)
11-01 12:09:27.090: E/SQLiteDatabase(5384):     at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:221)
11-01 12:09:27.090: E/SQLiteDatabase(5384):     at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:149)
11-01 12:09:27.090: E/SQLiteDatabase(5384):     at com.urbanairship.analytics.EventDataManager.<init>(Unknown Source)
11-01 12:09:27.090: E/SQLiteDatabase(5384):     at com.urbanairship.analytics.Analytics.<init>(Unknown Source)
11-01 12:09:27.090: E/SQLiteDatabase(5384):     at com.urbanairship.UAirship.takeOff(Unknown Source)
11-01 12:09:27.090: E/SQLiteDatabase(5384):     at com.android.mypype.MypypeApplication.onCreate(MypypeApplication.java:93)
11-01 12:09:27.090: E/SQLiteDatabase(5384):     at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:968)
11-01 12:09:27.090: E/SQLiteDatabase(5384):     at android.app.ActivityThread.handleBindApplication(ActivityThread.java:3598)
11-01 12:09:27.090: E/SQLiteDatabase(5384):     at android.app.ActivityThread.access$2200(ActivityThread.java:122)
11-01 12:09:27.090: E/SQLiteDatabase(5384):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1040)
11-01 12:09:27.090: E/SQLiteDatabase(5384):     at android.os.Handler.dispatchMessage(Handler.java:99)
11-01 12:09:27.090: E/SQLiteDatabase(5384):     at android.os.Looper.loop(Looper.java:132)
11-01 12:09:27.090: E/SQLiteDatabase(5384):     at android.app.ActivityThread.main(ActivityThread.java:4025)
11-01 12:09:27.090: E/SQLiteDatabase(5384):     at java.lang.reflect.Method.invokeNative(Native Method)
11-01 12:09:27.090: E/SQLiteDatabase(5384):     at java.lang.reflect.Method.invoke(Method.java:491)
11-01 12:09:27.090: E/SQLiteDatabase(5384):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:841)
11-01 12:09:27.090: E/SQLiteDatabase(5384):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:599)
11-01 12:09:27.090: E/SQLiteDatabase(5384):     at dalvik.system.NativeStart.main(Native Method)
11-01 12:09:27.090: E/AndroidRuntime(5384): FATAL EXCEPTION: main
11-01 12:09:27.090: E/AndroidRuntime(5384): java.lang.RuntimeException: Unable to create application com.android.mypype.MypypeApplication: java.lang.SecurityException: Permission Denial: opening provider com.urbanairship.UrbanAirshipProvider from ProcessRecord{40ee74e8 5384:com.android.mypype:mypype_location_service/10069} (pid=5384, uid=10069) that is not exported from uid 10122
11-01 12:09:27.090: E/AndroidRuntime(5384):     at android.app.ActivityThread.handleBindApplication(ActivityThread.java:3601)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at android.app.ActivityThread.access$2200(ActivityThread.java:122)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1040)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at android.os.Handler.dispatchMessage(Handler.java:99)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at android.os.Looper.loop(Looper.java:132)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at android.app.ActivityThread.main(ActivityThread.java:4025)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at java.lang.reflect.Method.invokeNative(Native Method)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at java.lang.reflect.Method.invoke(Method.java:491)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:841)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:599)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at dalvik.system.NativeStart.main(Native Method)
11-01 12:09:27.090: E/AndroidRuntime(5384): Caused by: java.lang.SecurityException: Permission Denial: opening provider com.urbanairship.UrbanAirshipProvider from ProcessRecord{40ee74e8 5384:com.android.mypype:mypype_location_service/10069} (pid=5384, uid=10069) that is not exported from uid 10122
11-01 12:09:27.090: E/AndroidRuntime(5384):     at android.os.Parcel.readException(Parcel.java:1321)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at android.os.Parcel.readException(Parcel.java:1275)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at android.app.ActivityManagerProxy.getContentProvider(ActivityManagerNative.java:2014)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at android.app.ActivityThread.getProvider(ActivityThread.java:3673)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at android.app.ActivityThread.acquireProvider(ActivityThread.java:3698)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at android.app.ContextImpl$ApplicationContentResolver.acquireProvider(ContextImpl.java:1565)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at android.content.ContentResolver.acquireProvider(ContentResolver.java:909)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at android.content.ContentResolver.query(ContentResolver.java:296)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at com.urbanairship.UrbanAirshipResolver.query(Unknown Source)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at com.urbanairship.PreferencesResolver.get(Unknown Source)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at com.urbanairship.Preferences.getPreferenceFromDatabase(Unknown Source)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at com.urbanairship.Preferences.getPreference(Unknown Source)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at com.urbanairship.Preferences.getInt(Unknown Source)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at com.urbanairship.analytics.AnalyticsPreferences.getMaxBatchSize(Unknown Source)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at com.urbanairship.analytics.EventUploadManager.loadPrefs(Unknown Source)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at com.urbanairship.analytics.EventUploadManager.<init>(Unknown Source)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at com.urbanairship.analytics.Analytics.<init>(Unknown Source)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at com.urbanairship.UAirship.takeOff(Unknown Source)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at com.android.mypype.MypypeApplication.onCreate(MypypeApplication.java:93)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:968)
11-01 12:09:27.090: E/AndroidRuntime(5384):     at android.app.ActivityThread.handleBindApplication(ActivityThread.java:3598)
11-01 12:09:27.090: E/AndroidRuntime(5384):     ... 10 more 
```

任何帮助将不胜感激..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-03T08:07:36.940

检查你的清单，你应该用你的包名重命名很多东西。在清单中搜索“您的”并修改它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T10:45:25.803

这东西对我有用..

```
AirshipConfigOptions options = AirshipConfigOptions
                .loadDefaultOptions(this);

        UAirship.takeOff(this, options);

        PushManager.enablePush(); 
```

希望它也适合你。

# java - 无法导入 org.apache.commons.io.output.TeeOutputStream

> ID：13172710
> 
> 赞同：3
> 
> 时间：2012-11-01T07:24:34.177
> 
> 标签：java, android, eclipse

所以我在尝试将标题中列出的 org.apache 项目导入我的 Android for Eclipse 项目时遇到问题。我下载了我需要的 JAR

[http://www.java2s.com/Code/Jar/c/Downloadcommonsio131sourcesjar.htm](http://www.java2s.com/Code/Jar/c/Downloadcommonsio131sourcesjar.htm)

然后右键单击我的项目，单击构建路径 -> 配置构建路径 -> 库 -> 添加外部 JARS

添加构建路径后，我仍然收到错误消息：

“无法解析导入 org.apache.commons.io.output.TeeOutputStream”

我不确定为什么它不工作..任何帮助表示赞赏。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:40:51.193

我已经下载并导入了jar和使用的`TeeOutputStream`类，但在eclipse中没有问题，请从这里下载

[在这里下载](http://commons.apache.org/io/download_io.cgi)

# r - 将数据框列中的 NA 替换为 0

> ID：13172711
> 
> 赞同：44
> 
> 时间：2012-11-01T07:24:38.177
> 
> 标签：r, dataframe, na

> **可能重复：**
> [在 R 中将 NA 设置为 0](https://stackoverflow.com/questions/10139284/set-na-to-0-in-r)

我有一个 data.frame，其中有一列有`NA`值。我想替换`NA`为`0`或任何其他值。我尝试了很多线程和方法，但没有给我结果。我尝试了以下方法。

```
a$x[a$x == NA] <- 0;
a[ , c("x")] <- apply(a[ , c("x")], 1, function(z){replace(z, is.na(z), 0)});
a$x[is.na(a$x), ] <- 0; 
```

上述方法均未替换为 data.frame`NA`列中的 0 。为什么？`x``a`

* * *

## 回答 #1

> 赞同：96
> 
> 时间：2012-11-01T07:59:49.167

由于到目前为止没有人觉得适合指出*为什么*你正在尝试的东西不起作用：

1.  `NA == NA`不返回`TRUE`，它返回`NA`（因为与未定义的值比较应该产生未定义的结果）。
2.  您正在尝试调用`apply`原子向量。您不能使用`apply`循环遍历列中的元素。
3.  您的下标已关闭-您正在尝试将两个索引赋予`a$x`，这只是列（原子向量）。

我会修好 3\. 去`a$x[is.na(a$x)] <- 0`

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-11-01T07:40:06.520

首先，这里有一些示例数据：

```
set.seed(1)
dat <- data.frame(one = rnorm(15),
                 two = sample(LETTERS, 15),
                 three = rnorm(15),
                 four = runif(15))
dat <- data.frame(lapply(dat, function(x) { x[sample(15, 5)] <- NA; x }))
head(dat)
#          one  two       three      four
# 1         NA    M  0.80418951 0.8921983
# 2  0.1836433    O -0.05710677        NA
# 3 -0.8356286    L  0.50360797 0.3899895
# 4         NA    E          NA        NA
# 5  0.3295078    S          NA 0.9606180
# 6 -0.8204684 <NA> -1.28459935 0.4346595 
```

这是我们的替代品：

```
dat[["four"]][is.na(dat[["four"]])] <- 0
head(dat)
#          one  two       three      four
# 1         NA    M  0.80418951 0.8921983
# 2  0.1836433    O -0.05710677 0.0000000
# 3 -0.8356286    L  0.50360797 0.3899895
# 4         NA    E          NA 0.0000000
# 5  0.3295078    S          NA 0.9606180
# 6 -0.8204684 <NA> -1.28459935 0.4346595 
```

或者，您当然可以写`dat$four[is.na(dat$four)] <- 0`

# visual-studio - 如何从标记导航到方法？

> ID：13172716
> 
> 赞同：0
> 
> 时间：2012-11-01T07:25:02.123
> 
> 标签：visual-studio, keyboard-shortcuts

我习惯于重新锐化，您可以通过单击从标记导航到方法，`Ctrl`然后用鼠标单击该方法。
我现在没有使用 resharper，我想知道在 Visual Studio 中是否有键盘快捷键？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T10:11:10.710

至少在 Visual Studio 2008 上，您可以使用**F12**调用**Go To Definition命令。**

来源：http: [//blogs.msdn.com/b/lukeh/archive/2007/06/04/f12-go-to-definition.aspx](http://blogs.msdn.com/b/lukeh/archive/2007/06/04/f12-go-to-definition.aspx)

# c# - UserControl 丢失数据

> ID：13172719
> 
> 赞同：0
> 
> 时间：2012-11-01T07:25:11.580
> 
> 标签：c#, asp.net-mvc, user-controls, enums

我有三个行为非常相似的页面，所以我制作了一个具有 3 种行为的用户控件，我通过添加一个枚举和这个枚举类型的属性来做到这一点。

```
public enum ucType
    { 
        CustomersWhoHaveAContract, CustomersWaitingForContract, CustomerOfPreReservedContracts
    }

    public ucType UserControlType;

    protected void BtnLoadInfo_Click(object sender, ImageClickEventArgs e)
    {
        switch (UserControlType)
        {
            case ucType.CustomersWhoHaveAContract:
                DoA();
                break;
            case ucType.CustomersWaitingForContract:
                DoB();
                break;
            case ucType.CustomerOfPreReservedContracts:
                DoC();
                break;
            default:
                break;
        } 
```

在我的页面中，我为 UserControlType 赋值，

```
protected void Page_Load(object sender, EventArgs e)
    {
        if (!Page.IsPostBack)
        {
            ucCustomersWithContract1.UserControlType = UserControls.ucCustomersWithContract.ucType.CustomerOfPreReservedContracts;
        }
    } 
```

但是当我单击按钮时， UserControlType 总是`CustomersWhoHaveAContract`，这意味着它正在失去它的价值。哪里有问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T11:15:39.180

你的意思是 ASP.NET WebForms，对吧？
控件不会自动恢复所有数据，有 ViewState 机制。

MSDN 文章
[http://msdn.microsoft.com/en-us/library/ms972976.aspx](http://msdn.microsoft.com/en-us/library/ms972976.aspx)

要修复一个示例，请将您的字段更改为属性：

```
public ucType UserControlType {
   set {
      ViewState["UserControlType"] = value; 
   }
   get { 
      object o = ViewState["UserControlType"]; 
      if (o == null)
         return ucType.CustomersWhoHaveAContract; // default value
      else 
         return (ucType)o; 
   }
} 
```

它应该可以工作。

# maven - 在预集成测试阶段清理文件夹内容

> ID：13172726
> 
> 赞同：0
> 
> 时间：2012-11-01T07:25:40.673
> 
> 标签：maven

我有父 pom，我试图解压缩一些脚本，在内部和“预集成测试”阶段执行它们，所以它默认为所有子模块运行。

我的问题是每次运行时都需要删除某个目录的内容。我尝试使用从未在预集成阶段运行的 ant-plugin。另请注意，我在构建项目时调用了几个配置文件。

```
mvn clean install -Pprofile1,profile2,integration 
```

```
<plugin>
  <groupId>org.apache.maven.plugins</groupId>
  <artifactId>maven-antrun-plugin</artifactId>
  <executions>
   <execution>
      <id>compile</id>
      <phase>pre-integration-test</phase>
      <configuration>
      <tasks>
        <delete>
          <fileset dir="checkout\myproject\specific_directory\**.*"/>
        <delete/>
      </tasks>
      </configuration>
      <goals>
        <goal>run</goal>
      </goals>
   </execution>
 </executions> 
```

总的来说，我有四个插件，包括 ant clean，它们都在预集成阶段运行。除了蚂蚁清理任务，所有其他的都运行正常。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T08:07:52.463

根据文档和我的个人经验，我假设您在错误的区域配置了插件。此外，您是否通过以下方式调用 mvn：

```
mvn verify 
```

执行集成测试阶段。

```
<build>
  [...]
  <plugin>
    <artifactId>maven-clean-plugin</artifactId>
    <version>2.5</version>
   <executions>
     <execution>
      <id>cleanup</id>
      <phase>pre-integration-test</phase>
      <goals>
        <goal>clean</goal>
      </goals>
      <configuration>
        <filesets>
          <fileset>
            <directory>some/relative/path</directory>
            <includes>
              <include>**/*.tmp</include>
              <include>**/*.log</include>
            </includes>
         </fileset>
        </filesets>
     </configuration>
    </execution>
    <executions>
  </plugin>
  [...]
</build> 
```

# java - Windows 添加/删除程序：卸载 Java 6、更新 26“期间出现致命错误

> ID：13172727
> 
> 赞同：2
> 
> 时间：2012-11-01T07:25:43.777
> 
> 标签：java, windows-xp

安装“我有 Windows XP。我正在尝试卸载 JAVA 6，更新 26。我首先删除了实际的程序文件。但是当我转到控制面板上的添加/删除程序时，它仍然存在！

我单击了 Java 的 Remove 按钮。弹出一个 Windows 安装程序框，显示“Windows 配置 Java 时请稍候”，然后是“安装期间出现致命错误”。我尝试重新下载 JAVA 6-26，但没有成功，因为我已经“安装”了 JAVA。

我尝试下载 JAVAra，现在，“添加/删除程序”页面上有一个 Java Auto Updater 程序，它甚至没有“删除”程序按钮！

有人可以请帮我摆脱 Java 6-26 和自动更新程序吗？它们不是病毒，是吗？！？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:42:43.847

通过删除实际的程序文件，您很可能删除了 java 的卸载程序（以及 java 的其余部分）。
您在控制面板中看到的是链接到现在不存在的卸载程序的注册表项。
为了摆脱那些错误的条目，我建议您使用[CCleaner](http://www.piriform.com/ccleaner)，它会检查您的注册表是否存在无效条目。这应该会清理控制面板中添加/删除程序中的列表。

不，它们不是病毒。但是，如果您想对此有绝对的把握，我建议您运行病毒扫描。

# java - 如何在 ExpandableListView 中显示 SQLite 查询的详细信息？

> ID：13172728
> 
> 赞同：0
> 
> 时间：2012-11-01T07:25:48.337
> 
> 标签：java, android

我已将姓名和朋友存储在数据库中。

例如 ，

```
person A,and his friends B,C,D 
person Z,and his friends K,L,M 
person Q,and his friends P,O,N 
```

如何从数据库中检索值并显示在可扩展的列表视图中。

即人 A,Z,Q 应该是组名，对应的朋友应该是子名 ....

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:54:12.223

为您的人创建包装器

```
public class Person {

    String name;
    String[] friends;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String[] getFriends() {
        return friends;
    }

    public void setFriends(String[] friends) {
        this.friends = friends;
    }

} 
```

然后将人名放入您的 ParentView 并将朋友放入 BaseExpandableListAdapter 中的 Child

```
public class ExpandableListAdapter extends BaseExpandableListAdapter {
List<Person>persons; // fill persons

public View getGroupView(int groupPosition, boolean isExpanded,
                View convertView, ViewGroup parent) {
persons.get(groupPosition).getName();
}

public View getChildView(int groupPosition, int childPosition,
                boolean isLastChild, View convertView, ViewGroup parent) {
persons.get(groupPosition).getFriends();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T08:27:14.383

1> 创建一个 bean，假设 PersonDetails 具有 nameOfThePerson 属性和 frnds 数组。

```
public class PersonDetails {

    private String nameOfThePerson;
    private String[] frnds;

    public String nameOfThePerson() {
        return nameOfThePerson;
    }

    public void setName(String nameOfThePerson) {
        this.nameOfThePerson= nameOfThePerson;
    }

    public String[] getFrnds() {
        return frnds;
    }

    public void setFrnds(String[] frnds) {
        this.frnds= frnds;
    }

} 
```

2> 使用 sqlite 查询从数据库中获取详细信息并将这些 bean 存储在 arraylist 中。

```
public ArrayList<PersonDetails> getPersonDetails(Context context) {
        ArrayList<PersonDetails> lPersonDetailList = new ArrayList<PersonDetails>();
        PersonDetails lPersonDetails;
        try {
            dbName = context.openOrCreateDatabase(Constant.databaseName, Context.MODE_WORLD_WRITEABLE, null);
            String query = "SELECT * FROM "NAME OF UR TABLE";
            Cursor cursor = dbName.rawQuery(query, null);
            cursor.moveToFirst();
            if (cursor != null) {
                if (cursor.isFirst()) {
                    do {
                        lPersonDetails= new PersonDetails();
                        /*use gettersetters to feed in details to the lPersonDetails object.*/
                        lPersonDetailList .add(lPersonDetails);
                    } while (cursor.moveToNext());
                }
            }
            cursor.close();
            dbName.close();
        } catch (SQLException ex) {
            ex.printStackTrace();
        }
        return lPersonDetailList ;
    } 
```

3> 将其放入可展开的列表视图中。

```
public class ExpandableListAdapter extends BaseExpandableListAdapter {

public View getGroupView(int groupPosition, boolean isExpanded,
                View convertView, ViewGroup parent) {
// get the name of the person from the lPersonDetails object in arraylist position wise
}

public View getChildView(int groupPosition, int childPosition,
                boolean isLastChild, View convertView, ViewGroup parent) {
// get the name of the frnds from the lPersonDetails object in arraylist position wise from the string array
} 
```

# algorithm - N-Queens 算法的变体

> ID：13172730
> 
> 赞同：1
> 
> 时间：2012-11-01T07:25:55.977
> 
> 标签：algorithm, recursion, chess, backtracking, n-queens

我不知道这个问题有没有研究过，只是在尝试一般的N-Queens问题时想到的。给定一个`N*N`棋盘，所需的最小皇后数是多少，当策略性地放置时，至少有一个皇后会攻击所有单元格。

我用笔和纸试了`N`= 3,4,5，我得到了2,3,4。答案总是如此`N-1`吗？有证据吗？其次，如果是这样，如何打印出该配置（如果可能有超过 1 个配置，则将它们全部打印出来）？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T09:54:02.897

这个问题已经过研究，`k`皇后覆盖`n`x`n`网格的最小数量称为*支配数*。

第`k`一个`n`是

```
1, 1, 1, 2, 3, 3, 4, 5, 5, 5, 5, 6, 7, 8, 9, 9, 9, 9 
```

由[OEIS](http://oeis.org/A075458)给出。这意味着对于 8x8 棋盘，5 个皇后就足够了。

据推测，对于所有满足`n=4m+1`（例如 5,9,13...）的 n，`2m+1`皇后就足够了。[Matthew D. Kearse 和 Peter B. Gibbons，“棋盘问题的计算方法和新结果”](https://researchspace.auckland.ac.nz/bitstream/handle/2292/3642/133chess.pdf)中介绍了这个和更多高级算法

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-01T09:40:46.633

好吧，它不是 N-2，因为 11x11 网格最多需要 8 个皇后（可能更少——这只是我手工找到的一个例子）：

![11x11 网格由 8 个皇后覆盖](../Images/616816402fa4d31b36e1573145232da9.png)

# php - SQL 查询不在循环中工作

> ID：13172734
> 
> 赞同：0
> 
> 时间：2012-11-01T07:26:29.053
> 
> 标签：php, sql, database, loops, insert

我有一个从外部文件中提取多行数据的脚本，然后我需要将这些行中的每一行上传到数据库。我在循环中放了一个查询，但它什么也没做。即使打开了错误报告，我也一无所获。我检查了数据库，但没有上传任何内容。

这样做的正确方法是什么？提前致谢！

我的代码：

```
$size = $_FILES['file']['size'];
$filename = $_FILES['file']['tmp_name']; 
$max_filesize = 100000;
  if($size > $max_filesize) //check file size
  die('File is too large');

if(file_exists($filename)){
$fp = fopen($filename, "r");
$str = fread($fp, filesize($filename)); //file text stored in variable
$br = "\n";          //search for new row
$rows = substr_count($str,$br);  //number of rows
echo "Rows: ". $rows."<br />"; 
$row = explode( "\n",$str);

 $x=0;
while($x<=$rows)
  {
  $field = $row[$x]; 
  $exp = explode("|",$field); 

    $case_number = $exp[1];
    $unknown1 = $exp[2];
    $chapter = $exp[3];
    $filed = $exp[8];
    //tons more variables, removed for readability

   $addrow = mysql_query("INSERT INTO records (case_number, wild1, chapter, filed) VALUES('".$case_number."', '".$unknown1."', '".$chapter."', '".$filed."')");
    if($addrow)  
    {  
    echo "<p style=\"font-weight:bold\">Row ".$x." uploaded</p>";   
    }else{
die(mysql_error());
}  

  $x++;
  }
fclose($fp); 
 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:56:45.343

您已经提到了该错误`Duplicate entry for key 'PRIMARY'`，因此您不能在设置为 的列中有重复值`PRIMARY`。

# spring - 我可以通过 Tomcats web xml (../webapps/WEB-INF/web.xml) 初始化 Spring 吗？

> ID：13172738
> 
> 赞同：0
> 
> 时间：2012-11-01T07:26:38.710
> 
> 标签：spring, hibernate, tomcat, spring-mvc

由于 Tomcat6 的 UNUSUAL 部署，我需要在服务器上部署使用 Spring 和 Hibernate 的 Web 应用程序，在该服务器上访问 WAR 部署的 web.xml 位于*/webapps/MyDeployment/WEB-INF/web.xml*是不允许的。

所以我需要知道这样的部署是否可能，我们将在*/webapps/WEB-INF/web.xml*的服务器 web.xml 中初始化 spring 框架而不使用 WAR 的 web.xml ？

下面是我目前在我的环境中使用的 WAR 的 web.xml，

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns="http://java.sun.com/xml/ns/javaee" xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
id="WebApp_ID" version="2.5">
<display-name>abcd</display-name>

<!--Here we specify about the DispatcherServlet class in the Web Deployment 
    Descriptor -->
<servlet>
    <servlet-name>dispatcher</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    <load-on-startup>1</load-on-startup>
</servlet>
<servlet-mapping>
    <servlet-name>dispatcher</servlet-name>
    <url-pattern>*.abcd</url-pattern>
</servlet-mapping>
<servlet-mapping>
    <servlet-name>dispatcher</servlet-name>
    <url-pattern>*.xyz</url-pattern>
    <url-pattern>*.pqr</url-pattern>
</servlet-mapping> 
```

不幸的是，不允许更改 Tomcat 配置，

任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-04T05:53:35.523

感谢您的所有帮助，但我们最终通过要求服务器管理员解除对 tomcat 用户文件访问的一些限制来解决问题。

现在我们可以访问域 web xml 以及服务器 web xml。

# php - 如何在此函数中添加 md5 值

> ID：13172739
> 
> 赞同：0
> 
> 时间：2012-11-01T07:26:38.540
> 
> 标签：php, database, function

我正在使用带有用户平面网络聊天的 phpfox，这个函数是从数据库中获取 sessionGuid 原始函数是： **函数 1：**

```
function get_current_online_session_login() {
        $oSrvSec = &App::getModuleService('Account', 'Security');
        $login = $oSrvSec->getCurrentUserLogin();
        $aReq = getRow(App::getT('online_session'), 'online_session_user = "' . $login . '"');
//      return $aReq['online_session_login'];
        return $aReq['online_session_id'];
    } 
```

我在其中进行了更改，因此它返回了加盐哈希，但聊天不起作用并显示错误，即您无权进入聊天。这是我在此代码中所做的更改：

```
function get_current_online_session_login() {
        $oSrvSec = &App::getModuleService('Account', 'Security');
        $login = $oSrvSec->getCurrentUserLogin();
        $aReq = getRow(App::getT('online_session'), 'online_session_user = "' . $login . '"');
        $salt='waka_waka_shaka_laka_8342394';
//      return $aReq['online_session_login'];
        $umSar = $aReq['online_session_id'];
        $saltedHash = md5($umSar . $salt);
        return $saltedHash;
    } 
```

在这个文件中有 2 个用于 session_id 的函数，所以我不知道如何解决这个问题这里是第 2 个 session_id 函数： **函数 2**

```
function get_user_with_session_id($session_id) {
        $session = getRow(App::getT('online_session'), "online_session_id = '$session_id'");
//      $session = getRow(App::getT('online_session'), "online_session_login = '$session_id'");
        $oSecurityService = &App::getModuleService('Account', 'Security');
        $user = $oSecurityService->getUserByName($session['online_session_user']);      
        return isset($user) ? $user->aData['id'] : null;
    } 
```

请我需要帮助。您可以看到函数 1：和函数 2：是我的 common.php 文件中的原始函数，该函数返回 session_id 的正常数字，我想将 session_id 作为 md5 salted hash 或 base_64 返回。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:34:30.180

您首先必须检查 crypt() 方法是否支持 MD5，然后将要加密的字符串和 salt 一起传递，从 $1$ 开始。请参阅[PHP.net 上的 crypt()](http://php.net/manual/en/function.crypt.php)。

```
if (CRYPT_MD5 == 1) {
  $saltedHash' . crypt($umSar, '$1$waka_wak$') . "\n";
} 
```

请注意，对于 MD5，盐的长度必须为 12 个字符。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T09:41:23.027

如果您正在考虑`online-session-id`解密您加密的内容，`function get_current_online_session_login()`那不是 md5 散列的目的。

如果您想加密/解密，您可以使用`mcrypt_decrypt`,`mcrypt_encrypt`和`base64_encode`, `base64_decode`..

示例答案：[加密/解密密码](https://stackoverflow.com/questions/1289061/best-way-to-use-php-to-encrypt-and-decrypt)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T20:29:41.637

首先，您应该了解 session-id 的用途。通常服务器不会识别，用户已经在网站上做了一些动作，每个请求都像是一次新的访问。为了记住用户及其操作，服务器将它们与一个随机数（即会话 ID）一起存储。

这个 session-id 将被传递给浏览器，如果用户按下一个按钮，这个 session-id 将被处理回服务器。现在服务器可以用这个数字查找存储的操作，因此会“记住”用户。

在您的示例中，您获取了会话 ID，使用单向哈希函数将其销毁，然后将其传递给浏览器。当浏览器处理回这个无效的 session-id 时，服务器**没有机会**找到这个无效编号的存储动作。

也就是说，会话 ID 只是一个数字，用于重新查找服务器上已存储的信息。当您更改此数字时，它**绝不会提高安全性**，因为浏览器只会发回他获得的内容，并且服务器必须识别它，无论他之前是否对其进行了加密/混淆。

如果您的会话 ID 是可预测的，例如 203、204、...，那么您应该找到生成此类不适当数字的代码段并修改此代码，使其生成“真正的”随机数。

# php - 如何覆盖 CI 中文件上传类的验证错误消息？

> ID：13172744
> 
> 赞同：0
> 
> 时间：2012-11-01T07:27:14.153
> 
> 标签：php, codeigniter

我有一个表单，当用户尝试上传时，附件的最大大小限制为 10MB（在我的情况下）。当我尝试上传更多的 CI 时，重定向到带有错误消息“选择要上传的文件”的表单。但我想要这样的错误消息“上传小于 10MB 的文件”。我应该如何重写该错误消息。

注意：我完全使用 CodeIgniter 文件上传类............

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T07:31:58.943

在`system/language`目录中，有一个名为`upload_lang.php`. 您可以从那里修改错误消息。

# objective-c - 从另一个类调用方法

> ID：13172751
> 
> 赞同：-2
> 
> 时间：2012-11-01T07:27:46.053
> 
> 标签：objective-c, ios, ios6

谁能告诉我为什么函数没有在这里调用

类 MasterViewController.h

```
@interface MasterViewController : UITableViewController 
- (void) populateTableView; 
```

类 ModelViewController.h

```
#import "MasterViewController.h"
@interface ModelViewController : UIViewController
@property (strong, nonatomic) MasterViewController *MasterViewController; 
```

类 ModelViewController.m

```
@synthesize MasterViewController;
[MasterViewController.self populateTableView]; // Function Calling 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:50:29.107

```
@property (strong, nonatomic) MasterViewController *MasterViewController; 
```

在这里，您使用 name 声明了一个实例变量（属性）`MasterViewController`，它与其类名相同。实际上，当您`populateTableView`向 MasterViewController 发送消息时，编译将其视为**类方法**（`+ (void)populateTableView;`）而不是**实例方法**（`- (void)populateTableView;`）。

所以你最好将这个 iVar 声明为`masterViewController`（**`m`小写**）。

```
@property (strong, nonatomic) MasterViewController *masterViewController; 
```

然后在您的方法中分配并使用它：

```
...
[self.masterViewController populateTableView]; 
```

# iphone - 检测我正在 iPad 上运行 iPhone 应用程序

> ID：13172752
> 
> 赞同：0
> 
> 时间：2012-11-01T07:27:54.247
> 
> 标签：iphone, ios, ipad

我熟悉使用 (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPad) 检查我是否在 iPad 上。但是，这仅适用于**通用**应用程序。我想知道是否有办法知道我在 iPad 上运行**iPhone**应用程序。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:36:50.373

你可以使用`[[UIDevice currentDevice] model]`.

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-11-01T07:34:02.333

我认为即使那样它也给出了正确的设备指示..

由于`UIDevice`在整个设备中使用共享类，它应该只为 iPad 提供任何类型的应用程序。

你试过了吗。？

根据苹果，在`UIDevice`类中定义的枚举是这样的

```
typedef NS_ENUM(NSInteger, UIUserInterfaceIdiom) {
#if __IPHONE_3_2 <= __IPHONE_OS_VERSION_MAX_ALLOWED
UIUserInterfaceIdiomPhone,           // iPhone and iPod touch style UI
UIUserInterfaceIdiomPad,             // iPad style UI
#endif
}; 
```

在这里你可以看到它枚举只是给出了它正在使用的 UI 样式，因为它是在 iPhone 样式 UI 中运行的 iPhone 应用程序，它给出了`UIUserInterfaceIdiomPhone`

并且名称本身`UserInterfaceIdiom`也表明它与 UI 屏幕尺寸有关。

相反，您可以使用

```
[[UIDevice currentDevice] model]; 
```

它给出了确切的设备型号，在这里您可以检查字符串“iPad”的范围以识别设备。

# mysql - 在perl脚本中替换sql查询中的引号

> ID：13172755
> 
> 赞同：0
> 
> 时间：2012-11-01T07:28:29.913
> 
> 标签：mysql, sql, perl, dbi

我有一个要导入 MySQL 数据库的数据文本文件。不幸的是，有些行包含引号，这导致我的 SQL 查询变得混乱。我想去掉任何有引号的字段，或者至少在我的查询中忽略它们。

我发现了一些可能有效的方法，但是由于这是通过 Perl 脚本运行的，所以我遇到了“转义”引号的问题。我真的不知道怎么弄也弄不明白。我只想搜索我的表并删除它可能找到的任何引号 (") 或用单引号或空格或其他任何东西替换它。

```
my $myreplacequery = "REPLACE(s.Title, '"','')";
$sth = $dbh->prepare($myreplacequery);
$sth->execute; 
```

有人有想法么？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:35:04.870

对于这种情况，Perl 有`q`and `qq`（[类似引号的操作符）。](http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators)它们允许您选择要使用的引号字符。`q`作用类似于单引号 ( `'`) 并且不插入（扩展变量），而`qq`作用类似于双引号 ( `"`) 并且可以。

```
my $replacequery = q{REPLACE(s.Title, '"','')}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T07:44:44.167

在此表上将查询更改为 UPDATE：

```
 update tablename set title = REPLACE(title,'\"','\'') where title like '%\"%' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T08:18:35.900

您实际上想将一个由单引号组成的字符串传递给`REPLACE`它的第三个参数，但您传递的是一个空字符串。必要的 SQL 是：

```
REPLACE(s.Title, '"', '\'') 
```

要在 Perl 中创建该字符串，您可以使用以下任一字符串文字：

```
"REPLACE(s.Title, '\"', '\\'')"    # Produces: REPLACE(s.Title, '"', '\'')

qq{REPLACE(s.Title, '"', '\\'')}   # Produces: REPLACE(s.Title, '"', '\'') 
```

注意`"`需要如何转义。没有它，Perl 将看到以下字符串文字（后面是垃圾）：

```
"REPLACE(s.Title, '"
^                  ^
|                  |
start              end
of string          of string
literal            literal 
```

# iphone - Tableview滚动不是那么流畅？

> ID：13172756
> 
> 赞同：0
> 
> 时间：2012-11-01T07:28:31.020
> 
> 标签：iphone, ios, ipad

我有一个包含三个不同自定义单元格的表格视图。每个单元格将从三个不同的单元格类加载。`

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier1 = @"CellIdentifier";
    static NSString *CellIdentifier2 = @"Cell";
     static NSString *CellIdentifier3 = @"Cell";
    if (indexPath.section == 0)
    { 
         CustomCell *cell = (CustomCell *)[tableView dequeueReusableCellWithIdentifier:CellIdentifier1];

        if (cell == nil)
        {
            cell = [[[CustomCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier1] autorelease];
        }
        cell.datelabel.text=@"dhhg";
      cell.nameLabel.text=@"shdhsjdj";
    cell.msg.text=@"sdhhhfhjhfj";

       cell.myImageView.image=[UIImage imageNamed:@"sd.png"]; 
        cell.likelabel.text=@"hhhf";

        return cell;

    }
    else 
    {

        Customcellwithimage *cell = (Customcellwithimage *)[tableView dequeueReusableCellWithIdentifier:CellIdentifier2];

        if (cell == nil)
        {
            cell = [[[Customcellwithimage alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier2] autorelease];
        }
        cell.datelabel1.text=@"sdhkhks";
        cell.nameLabel1.text=@"sdhjkhkshd";
        cell.msg1.text=@"sdsdsd";

        cell.myImageView1.image=[UIImage imageNamed:@"shdjhjhs"]; 
        cell.likelabel1.text=@"sjdh";
        cell.bannerview1.image=[UIImage imageNamed:@"dshjs"]; 

        return cell;
    }

 return Nil;

} 
```

` .这是我的设计代码。有人能帮我解决我哪里出错了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T09:16:47.073

您的延迟可能是因为您正在从主线程上 cellForRowAtIndexpath 中的磁盘加载。尽量避免在主线程上进行 I/O 操作。看看这里：[使用块从后台线程加载图像](https://stackoverflow.com/questions/7502073/loading-images-from-a-background-thread-using-blocks/7502281#7502281)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:41:33.120

首先，cellIdentifier2 和 cellIdentifier3 与@"cell" 具有相同的值。
您只包含了 2 个条件，一个用于第零节，第二个用于其他条件。
您还应该提及使用 cellIdentifier3 的条件。
您没有提到您遇到了什么问题，因为您的代码似乎没有任何错误。
你想要什么输出？不同部分的不同单元格？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T07:43:11.650

检查您的图像尺寸。如果图像尺寸很大，表格视图将不平滑

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-01T07:52:16.673

您的代码对我来说似乎非常好。避免使用`[UIImage imageNamed:@"sd.png"]`，因为它曾经在 ios 3.0 之前产生内存问题，但是对于大图像，它仍然可能产生问题。

**你可以阅读：**

[UIImage 的 imageNamed 是否仍然会在 iOS4 上导致大图像出现内存问题？](https://stackoverflow.com/questions/4389918/does-uiimages-imagenamed-still-cause-memory-issues-on-ios4-for-large-images)

# java - HashMap怎么写 () 在 php

> ID：13172760
> 
> 赞同：0
> 
> 时间：2012-11-01T07:28:49.173
> 
> 标签：java, php, hashmap

你能请任何人告诉我如何在 php.ini 中编写下面的 java 代码。

```
 private HashMap<String, IfcClass> idCacheMap = null;
 HashMap<String, IfcClass>() 
```

我的基本关注是如何在 php 中编写 Java HashMap，在 php 中是否有任何替代方法。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:30:50.750

这很平常`array('string' => Object)`。它像 HashMap 一样工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:32:03.150

在 PHP 中，[数组](http://www.php.net/manual/en/language.types.array.php)做同样的工作。

# coding-style - sublime text 2 设置自定义代码高亮

> ID：13172761
> 
> 赞同：2
> 
> 时间：2012-11-01T07:28:57.617
> 
> 标签：coding-style, editor, syntax-highlighting, sublimetext2

到目前为止，我一直在使用 notpad++，现在使用 sublime text 2。

Sublime Text 2 有大括号匹配，它们下面只有下划线，我看不清楚，我想将其更改为粗体或用背景颜色突出显示。

是否有可能在其偏好或设置中定义它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T09:17:28.543

我想我知道你在找什么。您需要安装**[BracketHighlighter](https://github.com/facelessuser/BracketHighlighter)**包。我建议您先安装 ST2 的**[Package Control](http://wbond.net/sublime_packages/package_control/installation)**，以使您的安装顺利进行。

我希望这能帮到您。

**编辑**

您不必下载包，只需安装包控件并从包控件中安装 BracketHighlighter。

问候，

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:31:43.930

这可能会有所帮助，Preferences => Color Scheme

# javascript - 在 JSfiddle 中添加图像

> ID：13172762
> 
> 赞同：54
> 
> 时间：2012-11-01T07:29:07.520
> 
> 标签：javascript, html, jsfiddle

我想创建一个小提琴，我必须在其中添加图像..（作为 div 的背景图像）

我尝试在左侧使用添加资源，但它不起作用，我还尝试在我的文件夹结构中提供图像的完整路径，但这也没有成功..

有人知道怎么做吗？

* * *

## 回答 #1

> 赞同：57
> 
> 时间：2012-11-01T07:31:14.247

您不能将您的`LOCAL`图片链接到网站，首先将您的图片上传到某个图片上传服务，然后使用您的 jsfiddle 中的路径

例子

将您的图像上传到某些图像上传服务，例如[postimage](http://www.postimage.org/)

上传图片后，将网址复制粘贴到您的jsfiddle中，它将起作用...

* * *

## 回答 #2

> 赞同：28
> 
> 时间：2013-09-09T22:40:29.077

使用 base64 编码的图像：

```
background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAA9CAYAAACEAXQxAAAM+klEQVR4nO1dzWscxxL37f0FIXfzDr5vCLl7LjmbvQZCYCE5xGAIAz6Y2BBYolwU/DDjJAbFYKJJSNiT5UyCFxwFGdbxJrFAZjORJRxkO2gkLKLFxpp6B7kmNT3VHzO7s9KK+kFftP1RU12/7urqmtExOMRIN1chvT0H6XdnIN1cPWhxBIKpxbGDFoBDunAB0osnIZ15DdKzr+yX3zoHLZZAMLU4nET/4tS/BMfSnT1osQSCqcXhJPrChSLRr71z0GIJBFOLw0n03zpFol88edBiCQRTi4kRPV35BtJh4lb3Yb9I9Av/hXR3q2YpBYKjidqJnm7FsDf/Jux9/B/Y6551a7O7tU9slewP+zVLKxAcTdRK9LT/GezNvrpP8pcl3bjj1vbiySLRb8/VKa5AcGRRG9HTjTs5gmclOOHW/to7RaIvXKhLXIHgSKPWHX1v4T2e7AvvWdum3dki0b84Vae4AsGRRb2u+zCBveAES/Z09Qdz20G3SPSZ1+oUVyA4sqg/GLf6g9aFN0Xh081VPvIuqbACQWlM5Hptr3u2tAuf7m7lU2CxDLqTEFkgOFKY2D363twbvAu/8o22DZsKK5F3gaA0Jpcwo4vCz76qdeHT784Uif7dmUmJLBAcGUw0BVbrws+/ydZPb89J5F0gGAMqE33nwSK8GG6Xbqd14fufFeqykXdJhRUISqMS0Z9trcPvMydg+dPXYXvleqm26VZcyJbLXPitOF+Xi7yffUUi7wJBSVQi+lrnNPw+cyIrf86/Dbsb95zbp/3PeBd+7o1iXS7yLh+hEAhKoTTRdx4s5khOy8Mb5+DZ1rpTP9mLLmpRXnyRj1AIBKOjNNEHX57SEh3d+SdLl639pMOEd+GVF1/kIxQCweiotKP/Of+2key/z5yAwZenrOf3dOUbqwvPRt7lIxQCQSlUjrpvr1yHlcuelfBrndPG87v2xZeXLrx8hEIgGB0j3aO/GG7Dk6XLsPzp61bCP7xxjr2OM7748tKF515ukci7QOCOsSTMPNtaL0TiubJy2YPN/nyhvfbFl5dZc2l3dr8MuvtXbrKbCwSlMNbMuJ0Hi9ZgHV7H7TxYzLVlXfjuWefvzAkEAj1qSYHd7M87u/P0Oi5z4efecP7klEAgsKO2XPcXw214eOOclez0Oi7duOP8AUmBQOAOK9F3tx/B8sInsHbnW3j6+I/SA+xu3HO+jns+3Kn0EAKBwAwr0Z8MFqH7v1NZWbr6Lty/eQn+uvc97G4/ch7Idh231jk90oMIBAI9rES/f/NSjuhq6YUfwP2bl+DJYNFKfN113PKnr1d6E04gELjBSvSlq+8aiU7LT5+/Bf3OhxD/fBWS9V+1rrh6HcdduQkEgvHBSPSnj/9wJrmJ+Lrz/c6DRXh441xtDycQCPZhJPrz4Q4k679C/PNV6IUfwE+fvzUS8ZeuvgvLC5+UPt8LBILRUOp6bXf7ETwZLML9m5egF34wEunxfC+RdoGgfox0j767/Qj+uvc9LC98UuosT3d4gUBQP8aWMPN8uANPH/8Ba3e+hX7nQyc3//7NS+Ma/sig1+tBr9eDJJHU36pIkgTCMIQgCCAIAgjDMNNnHMeZjnu9HsRxbOntaODY+fMfAS3jAj3f64j/ZPBvvntdckwbjh8/DsePH4cwDA9alKlEu93OdIil0WhAkiSQJAk0m83cb0EQHLTIE4GW6M+G/8DmxjrsbP0Nz4b/jDzQ8+FO7nz/0+dv5c7nQvR9CNGrgyO5jejtdvugxZ4ItEQf9Bfh2sfvw7WP34evZ33oBOfh+twM/Dh/EW4vfAV3ux1YXopg0F+EjdWV0ouCGoSbFNFxshuNxqEkkxC9GuI4hkajIUTXQEv05aUoI3qZoi4KtzpXskVhbeWXbFFQF4RJEh0N4jCSSYheDVEUFQgeBEF2FgcAITpHsLvdTiWiu5a73fwnm4Xo+xCiV0MQBIVdXIUQnSHYrc6VWom+vBTlBBGi72PcRE+SBOI4hjiOjZF8dG2xuPTrUtd1fJe+sS/ut7qJjmO6PEcZXZap4zo3HIw7eic4D1/P+rUQfdDPf2GmKtFR+fS6RKcMrItED4LAqsAy/ZeRUQdXopvkxuulVqsFnudBo9GARqMBnueB7/uZK4uI4xharRY0m82s6MZPkgR838/V5SLXURQ5j0+h9h1FEfR6PfB9P9cXyhjHMURRBL7vF4gehiFEUQRRFGWylyV6HMcQBAE0m81sfM/zsudW5zIMw5z8zWZTO0f0WXX6jqKo0F+VK0Hr9dqz4T+ws/U3bG6sw8bqCqyt/ALLSxHc7Xbg9sJXcKtzBa7PzWSLguvCsLG6khunCtFRqWoQxvM8aLVaufvTJEkyw6PGgMprtVq5vuM4zhkXbYMGa1N4kiQQBAHbR6vVYg3ehejtdjuTW0daLiilGjg1QJUAqj4QvV6v0BcSieq57PjYlpNDF2TD321jVQ3GRVGUsxeueJ6Xe36bfnT1dAuCuoDp6tkw1nt0blEY9BezReHH+YvZorC5kf+PLmXloFcpdJVVJ8b3fQDYJ4C6KGA7bIuIoihXD3/n2nOTSMdTx1Lbq4S2EZ26qOpOyhmyjWyIMAwLv3MGxbnItJ4L8dS5qSo/7oR1EF21AVv/1GvQ2SAFdxXILfxqX1VjCrUlzJRFGTlohLXdbufObUmS5Fw9uuu6uu5ozLha0zpxHEMYhlkfnucZd6ZGo5G5eNge3THckWh7E9GpUbsaD3otup0JjYu7nlJl4IhC5eBI12w2wff9bD5Mu52J6LjYoozowsZxXFhAaRtsV4boHFmpLnVj4Tyqu7DneVY9oj1SxHFs1FcZTCXRcdfQuZcI3dmIEl0HPP+Zftcpn+56uolBt16VUUcyusOoi4P6XNTAMJ0Wz+2q4VAdqrsx9XIAeMOjuxC3k1E5VS9HHUNHAHTzcaFUj02oS90uTo9vLkTnrupwTCqDjoRceyovp0fUBdWXOl/cpuIKI9HV38ZdTGPpQCerSvriuKLuugWD7gbcrmsDR/Rer5f1qTujuZ4Nud0G++MMlPN0OMNUjVd16U1ymojoeiYdZ9Rd9Yx0Xpu6sGJfnEdA51OVVbcgqAtvFXtCTB3RAf4NHFV58HESHSeTGgs1ZFN0WQfVMNA1RYPTeRmuq79K5kajkfVpMlAbSdTxTd6WSpBRouKIcRLdlWBqPZN3RPswxSHopmE7SpXBVBJdDUiVuW6om+jU4Ku4WXRSVcM0yWvabSm4nZcuSOpuhsbLtaN654iGZ2S1qMbtupiYME6iu8qg6ooeQ7iFl9OjGrvAeVM9H1XfZTGVROcmjEbeW60We/7Fti5EV++iTQZLDQENTue62kAXMJObraIq0VXPQ+dac/1TcGdW14K72LQTnQbduOAm3snTv0VRVOiHq2eLR9kwlUQHyN9Rm4yIixzbiE7dZZdSB9FxfIzao8w6N3JcRAcoBtUwX8GkVyF6MbrOvRJL/4YLt7q4Yp4Ep6OqmMqouwqaeYYfHKDGSg3ZRnRqDPR6jatnct1HJbpKKGpU3Nnf9Yzu4hJyi0bZNpgQ5FLKRsU5HATRuWSWMnrERVuNjagL7ahuO8ARIToHHRFtREciqGdX1/5psKvK5OhWcToet1ubgmwU6oLA1TO98okktvWrGr0LDgvRTUG2MvVseqS3Irp36avqUsWRJToAf99uIzoarO3OUkd0OrlVgn3qas/JxrlynEvOuXume2wKU4Ybd21XJrkjSRL2t8NCdK4vLtW4ir7prk3ti4uNlNWBCVNJdDWTTQfuGs6WMONKdDrR6kQgSVz6UIF96hYJSkD1SMK52O12O3OROfLqjEiXWmp6Jm58TDyiWYG4QLpk3o2T6Kr+8HmiKMq9rMSRzvO87FnCMGTda84D1O3U3EJuy14cBQWiH5aiQ5Ik2ZtWJgWYMtfQmDgXmE6y6Q0uajCqMfZ6vVwWm0pojOij8VDYxqYeg7obu+R9q8arO15wCSE6A+V0p5JAl6ZKn3MSRDclq9BnK5Ozj/NcRiecR8MtCmqAryqmjuiURPgWGH7pEwNx1Fi4dFFKCHwTjWY10UlW+2+3204vGlCDajQa4Ps+BEFQiKiWyXVHUINQ65nOeioRbHnTXCTdtruYiMTJMGmim/LpKdG5dF1dsWXvqfbiGii1LaxlMHVER4XYJgHJpZsAlRDUMGyTjC4xd0an4Fw8dRJdc90paHxAFwE3jWvzhqieXQy07HPrZJgE0QH0r/KqpMKcdtO36Ew2hlAXTBN5Vb1VfYlFxVQSHQCy+0dMLGm1WtBqtcD3fesLKQg8b+GOrfaPyQy0b5qJh21t0fkwDHMy4rmZA36L3CY/PrtufNO4Za79cIwgCEoZHdUfyoD6M8lAv8du0y0F1Qc3n5x89DpW93ycnal2YAMmwLjMbRRFubpVX2JR8X9k3+VHV8wfTwAAAABJRU5ErkJggg==) 
```

如果你过度使用它，它会减慢你的小提琴的加载时间，但应该没什么大不了的，因为它只是一个小提琴。

有些网站可以免费将您的本地图像转换为 base64：[Base64 Encode](https://www.google.com/?gws_rd=ssl#q=base64+encode+image)

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-11-01T07:33:24.073

像这样添加完整的url路径`background-image`

```
div{
    height: 619px;
    width: 780px;
    background-image: url(https://www.webkit.org/blog-files/acid3-100.png);
}​ 
```

# android - 在 if 条件下，任何侦听器都是可能的

> ID：13172765
> 
> 赞同：1
> 
> 时间：2012-11-01T07:29:45.970
> 
> 标签：android, android-2.2-froyo

我为这个代码做，但不支持这个问题，我为解决这个问题做了什么，就像任何监听器内部的代码一样。

```
if (btn.isEnabled()) {
            btn.setOnClickListener(new View.OnClickListener() {

                @Override
                public void onClick(View v) {
                    // TODO Auto-generated method stub

                }
            });
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:35:04.663

此代码成功。

```
if (button.isEnabled()) {
            button.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View v) {
                    // TODO Auto-generated method stub
                    Toast.makeText(getApplicationContext(), "Test", 10).show();
                }
            });
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T08:53:14.330

但为什么？？？

任何按钮的 onClickListener 只有在其“启用”时才会被调用。您无需担心分配给 disabledButtons 的 onClickListeners。

假设您的按钮在活动启动时被禁用，那么此侦听器将不会应用于您的按钮。现在，如果您启用此按钮（可能是在某些事件等之后）经过一段时间后，“THEN ALSO THIS LISTENER WONT WORK”因为您没有首先设置侦听器...

所以IMO不要把它放在如果......

# asp.net - asp.net 中的 VPN 连接管理器

> ID：13172772
> 
> 赞同：0
> 
> 时间：2012-11-01T07:30:09.490
> 
> 标签：asp.net, vpn

我想在用户的 PC 上创建一个 VPN 连接管理器。连接管理器必须在用户的 PC 上为 Windows XP、Windows Vista、Windows 7 和 Windows 8 设置 3 个 VPN 协议。

PPTP 和 L2TP/IPSec 和 OpenVPN

Connection Manager 将从我们的服务器接收服务器列表。

请帮助我解决上述问题。自从过去 2 天以来，我在谷歌上搜索了一下，没有找到任何合适的解决方案。所以请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T08:23:42.800

您可以使用以下方法找到在 .NET 中创建 VPN 连接的详细信息：

[使用 C# 设置 VPN 连接](http://social.msdn.microsoft.com/forums/en-US/netfxnetcom/thread/28125f40-9c3b-4e77-9bfb-8a975e9b3457/)

[远程访问服务器规范](http://msdn.microsoft.com/en-us/library/aa446741)

然而，使用 ASP.NET 不太可能，因为浏览器无法实例化 VPN 连接，它们被沙盒化，远离该功能。甚至像 GoToMyPC 这样的服务也有一个桌面客户端来执行主要功能。

但是，您可以创建 RAS 文件，然后在网站上提供一个下载链接。

您可以在以下位置找到该文件：

C:\Documents and Settings\All Users\Application Data\Microsoft\Network\Connections\Pbk\rasphone.pbk

然后，下载文件的人可以将其导入并提供所有设置。

# css - 占位符

> ID：13172775
> 
> 赞同：0
> 
> 时间：2012-11-01T07:30:36.533
> 
> 标签：css, jsf, facelets, placeholder

我在 inputText 中成功使用了**占位符** ，但我在 selectOneMenu 中尝试了这个，但无法获取 . 我想使用占位符而不是 selectOneMenu 中的军事状态

或者至少我想改变军事状态颜色

```
<h:selectOneMenu  value="">
<f:selectItem  itemValue="0" itemLabel="Marital status"/>
<f:selectItem itemValue="1" itemLabel="Single"/>
<f:selectItem itemValue="2" itemLabel="married"/>
</h:selectOneMenu> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T08:25:52.820

如果我理解正确

*JSF 1*

```
<f:selectItem itemLabel="Select Something" itemValue="#{null}" /> 
```

*JSF 2*

```
<f:selectItem itemValue="Select Something" noSelectionOption="true" /> 
```

# .net - 如何在 C# 中获取所有网络打印机

> ID：13172778
> 
> 赞同：2
> 
> 时间：2012-11-01T07:30:38.873
> 
> 标签：.net

我写了下面的代码，它没有得到远程打印机的名称有人可以帮我吗？

```
var searcher = new ManagementObjectSearcher("root\\CIMV2", "SELECT * FROM 
                                             Win32_Printer");

var results = searcher.Get();

IList<ManagementBaseObject> printers = new List<ManagementBaseObject>();
`enter code here`
foreach (var printer in results) `enter code here`{
    if ((bool)printer["Network"]) `enter code here`{`enter code here`
        printers.Add(printer);`enter code here`
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2018-08-24T11:18:54.303

如果您正在寻找所有**已安装网络打印机**的列表，那么您可以简单地使用以下功能。

尝试通过创建控制台应用程序来运行以下命令。

您需要引用**System.Printing**命名空间。您需要手动添加对其库的引用，方法是右键单击“**添加引用**”并检查相同的内容，如下面的快照所示。

[![将 System.Printing 命名空间输入到本地 dll](../Images/d0f6476143cc320d78d352996e2db02e.png)](https://i.stack.imgur.com/dS0Wt.png)

完成后，将以下代码用于您的控制台应用程序。我在此处添加了代码以同时**显示 Network 和 Local Printers**。您可以选择您的特定选择。

```
using System.Printing;
namespace GetPrinters
{
    class Program
    {
        static void Main(string[] args)
        {
            var server = new PrintServer();
            Console.WriteLine("Listing Shared Printers");
            var queues = server.GetPrintQueues(new[]
            { EnumeratedPrintQueueTypes.Shared, EnumeratedPrintQueueTypes.Connections });
            foreach (var item in queues)
            {
                Console.WriteLine(item.FullName);
            }
            Console.WriteLine("\nListing Local Printers Now");
            queues = server.GetPrintQueues(new[]
            { EnumeratedPrintQueueTypes.Local });
            foreach (var item in queues)
            {
                Console.WriteLine(item.FullName);
            }
            Console.ReadLine();

        }
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T08:59:37.227

我认为你必须更新你的代码，如下所示。

```
private void btnGetPrinters_Click(object sender, EventArgs e)
{
    // Use the ObjectQuery to get the list of configured printers
    var oquery = new System.Management.ObjectQuery("SELECT * FROM Win32_Printer");

    var mosearcher = new System.Management.ManagementObjectSearcher(oquery);

    System.Management.ManagementObjectCollection moc = mosearcher.Get();

    foreach (ManagementObject mo in moc)
    {
        System.Management.PropertyDataCollection pdc = mo.Properties;

        foreach (System.Management.PropertyData pd in pdc)
        {
            if ((bool)mo["Network"])
            {
                cmbPrinters.Items.Add(mo[pd.Name]);
            }
        }
    }
} 
```

我从[Retrieve a List of Installed Printers on the Network Using WMI, C# and VB.NET复制了它](http://www.dotnetcurry.com/ShowArticle.aspx?ID=148&AspxAutoDetectCookieSupport=1)

# oracle - 预期以下之一时遇到符号“结束”

> ID：13172779
> 
> 赞同：1
> 
> 时间：2012-11-01T07:30:44.603
> 
> 标签：oracle, stored-procedures, plsql, oracle10g, oracle11g

在下面的过程中，我做错了，我没有得到错误的地方，当期待以下之一时“遇到符号”结束“请帮助我并用 wat 解释程序中的错误。

```
create or replace PROCEDURE CRangeproc(in_termid IN VARCHAR2,in_cardno IN VARCHAR2,p_ResultSet OUT SYS_REFCURSOR,outcount OUT NUMBER)
AS 
BEGIN 
select count(*) into outcount from cardrangetable where PAN_LOW <= in_cardno AND  PAN_HIGH >=   in_cardno and terminal_id = in_termid;
IF outCount = 1 then
Open p_ResultSet FOR    
select ISSUERTABLEID,ACQUIRERTABLEID,PANLENGTH from cardrangetable where PAN_LOW <= in_cardno  AND  PAN_HIGH >= in_cardno and terminal_id = intermid;
CLOSE p_ResultSet;
else
end if; 
End CRangeproc; 
```

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:40:29.387

在 else 和 end if 之间需要一些代码。或者只是删除其他：

```
begin
   select count(*)
     into outcount
     from cardrangetable
    where pan_low <= in_cardno
      and pan_high >= in_cardno
      and terminal_id = intermid;
   if outcount = 1
   then
      open p_resultset for
         select issuertableid
               ,acquirertableid
               ,panlength
           from cardrangetable
          where pan_low <= in_cardno
            and pan_high >= in_cardno
            and terminal_id = intermid;
      exit when p_resultset%notfound;
      close p_resultset;
   else
      -- You need some code here or remove the else.
   end if;
end crangeproc; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-13T12:23:58.707

PL/SQL 不允许像其他语言那样使用空块。[避免这种情况的一种方法是`NULL;`](http://blog.jooq.org/2015/04/13/its-the-little-things-the-plsql-null-statement-and-why-every-language-should-have-one/)在没有任何其他声明的地方放置一个声明[：](http://blog.jooq.org/2015/04/13/its-the-little-things-the-plsql-null-statement-and-why-every-language-should-have-one/)

```
IF outcount = 1 THEN
  OPEN p_resultset FOR [...]

  CLOSE p_resultset;
ELSE
  NULL; -- The NULL statement
END IF; 
```

# java - 在两个实现类之间进行运行时选择的设计

> ID：13172790
> 
> 赞同：0
> 
> 时间：2012-11-01T07:31:24.037
> 
> 标签：java, oop

我目前为这样的常量定义了一个类

```
public final class DataContainer{

    public static final String x1="a";    
    public static final String x2="b";
     ...
    public static final String xn="z";    

} 
```

并通过像这样访问来使用这些：`DataContainer.x1`

但是现在我需要定义这个常量文件（`DataContainer1`& `DataContainer2`）的两个实现，并在运行时选择在整个应用程序中使用常量的两个实现类中的哪一个，而不需要从 .`DataContainer1.x1`到 `DataContainer2.x1`.

我怎样才能实现这样的设计？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T08:21:35.913

您可能应该远离`static final`常量的实现。

首先拥有静态/最终常量的主要优点是编译器在编译时已经可以访问这些值，因此可以执行各种优化。

但是由于您需要能够在运行时交换常量的实际值，所以无论如何这种优势都会消失。严格来说，人们可能会争辩说这些值不再是最严格意义上的*常量*，因为它们实际上是*可变*的。

我可能会选择一个非常简单和经典的 OO 构造，其中你有一个类似于地图的接口来访问值及其不同的实现。

```
public interface Constants {
    public String get(String value);
} 
```

（事实上​​，切换到 a`java.util.Map`或 to`java.util.Properties`可能已经做了你想要的。）

当然，您可能仍希望将该接口的各个实现中的值定义为`static final`.

如果您绝对喜欢静态访问，您可以使用工厂模式在运行时检索常量的实际实例。这也将完全让您在您的同事中看起来像一个经过认证的 Java 大师 ;-)

# database - SQLite 数据库作为文本文件？

> ID：13172793
> 
> 赞同：2
> 
> 时间：2012-11-01T07:31:31.433
> 
> 标签：database, sqlite

我正在考虑将 SQLite 数据库文件存储在版本控制（git）中，我还想查看不同版本之间数据库文件的差异。

我们可以配置 SQLite 以可读的文本格式存储它的数据（假设我没有在数据库中存储任何二进制数据）？这样我就不必将数据转储到文本文件来查看差异。比如说 CSV 格式。

是否可以？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T09:01:03.110

原生 SQLite 数据库文件格式始终是二进制的，但您可以使用`.dump`命令`sqlite3`行工具的命令来创建数据库的文本表示。

# hibernate - 如何让hibernate自动处理继承？

> ID：13172802
> 
> 赞同：0
> 
> 时间：2012-11-01T07:32:02.077
> 
> 标签：hibernate, inheritance

我有 B 从 A 扩展，并将 InheritanceType 设置为 JOINED，代码如下：

```
 @Entity
 @Table(name = "parent")
 public class Parent implements IsSerializable
 {
        @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)
    List<A> children;
        ...
 }

 @Entity
 @Inheritance(strategy= InheritanceType.JOINED)
 public class A implements IsSerializable
 {
    @Id
    @GeneratedValue
    @Column(name = "id")
    Long id;
 }

 @PrimaryKeyJoinColumn(name="id")
 public class B extends A
 {
     String name;
 } 
```

然后将 A 推入列表

```
 A a=new A();
   list.getChildern().add(a); 
```

将 B 推入列表

```
 B b=new B();
   list.getChildern().add(b); 
```

然后

```
 Parent p=new Parent();
    p.setChildren(list);
    hibernate.persist(entity); 
```

希望列表的第一个元素将保存到 table_A，第二个元素将自动保存到 table_B。但他们没有。我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T08:54:44.227

你没有坚持`a`和`b`，所以他们没有坚持。要么显式地持久化它们，要么将 PERSIST 类型的级联添加到`children`列表中，以便持久化操作从 perent 级联到其子级。

# jquery - Jquery 折叠效果不适用于 asp.net 控件？

> ID：13172805
> 
> 赞同：0
> 
> 时间：2012-11-01T07:32:11.887
> 
> 标签：jquery

在 asp.net 中，我正在尝试使用 asp.net 按钮控件对 div 进行折叠效果，但它不起作用。而不是 asp.net 按钮，当我把 html 控件效果工作正常。任何机构都可以帮助我为什么它不起作用。

```
<script type="text/javascript" language="javascript">

$(document).ready(function() {

  $("#hide").click(function(){
     $(".target").hide( "fold", 
                 {horizFirst: true }, 2000 );
  });

  $("#show").click(function(){
     $(".target").show( "fold", 
                  {horizFirst: true}, 2000 );
  });

});
</script>

the code for buttons goes here

 <asp:Button ID ="show" runat ="server" Text ="Show" />  
 <asp:Button ID ="hide" runat ="server" Text ="hide" /> 
```

html控件

```
<input type ="button" id ="show" value ="Show" runat ="server" title ="Show" />
<input type ="button" id ="hide" runat ="server"  title ="Hide" value ="Hide" /> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:43:56.423

如果服务器控件 ID 不是静态的，则它们可以更改，因此您必须提供将由 asp.net 生成的**[客户端 ID 。](http://msdn.microsoft.com/en-us/library/system.web.ui.control.clientid%28v=vs.71%29.aspx)**您可以使用 controlID.ClientID 来获取客户端 ID。

```
<script type="text/javascript" language="javascript">

$(document).ready(function() {

  $("#<%= hide.ClientID %>").click(function(){
     $(".target").hide( "fold", 
                 {horizFirst: true }, 2000 );
  });

  $("#<%= show.ClientID %>").click(function(){
     $(".target").show( "fold", 
                  {horizFirst: true}, 2000 );
  });

});
</script> 
```

# c# - 无法访问/找到公共枚举/类

> ID：13172809
> 
> 赞同：1
> 
> 时间：2012-11-01T07:32:46.303
> 
> 标签：c#, asp.net, .net, enums

在我的 ASP.NET 项目中，我有一个 App_Code 文件夹。

文件夹中有几个运行良好的类。班级可以毫无问题地互相看到。

我还在文件夹中添加了一个 Enums.cs 文件。Enums.cs 文件包含以下代码：

```
namespace xsite.App_Code
{
  public enum Bottle
  {
    Glass,
    Plastic,
    Paper
  }
} 
```

问题是文件夹中的所有类都不能使用 Bottle 枚举。当我尝试使用枚举时，出现以下错误：

*找不到类型或命名空间名称“Bottle”（您是否缺少 using 指令或程序集引用？）*

文件夹中类的命名空间与枚举相同。

知道如何解决这个问题，所以我可以使用 Bottle 枚举吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T07:37:33.667

如果您无法通过 xsite.App_Code.Bottle 访问枚举，那么您必须检查文件的属性。右键单击该文件并获取属性。将有一个名为 的属性`Build Action`，将其设置为`Compile`。

![在此处输入图像描述](../Images/de11ae9a56f31e93b69697b442e0a552.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T07:34:26.893

尝试使用 xsite.App_Code.Bottle

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T09:07:22.870

确保调用类使用或位于与瓶子枚举类相同的命名空间中。在您的班级视图中查看。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-11-18T20:16:41.773

对于像我这样的新手，他们正在阅读这篇文章并且没有 OP 的问题和解决方案...... OP 所做的*应该*是有效的，而使其发挥作用的关键要素是：

1.  将命名空间声明放在 App_Code 文件夹中的文件中，而不是代码隐藏文件中。（不必在该命名空间中包含“App_code”）
2.  确保枚举声明是“公开的”
3.  放一个'使用myNamespace;' 代码隐藏文件中的声明

我将要使用的模式如下所示，因为我觉得这对我来说是最简单的方法： 使用我想要的枚举名称；授予我需要的访问权限；将所有内容保存在一个地方以实现可维护性；并在应用程序之间提供足够的隔离，以免我遇到麻烦。如果我的单人团队成长，也应该是可扩展的。

在 App_Code\SiteEnums.cs 中：

```
namespace SiteGlobalEnums
{
  public enum SiteWideValues1
  {
    value1, value1, value3
  }

  public enum SiteWideValues2
  {
    value1, value1, value3
  }
}

namespace AppName1Enums
{
  public enum AppName1Values1
  {
    value1, value1, value3
  }

  public enum AppName1Values2
  {
    value1, value1, value3
  }
}

namespace AppName2Enums
{
  public enum AppName2Values1
  {
    value1, value1, value3
  }

  public enum AppName2Values2
  {
    value1, value1, value3
  }
} 
```

在代码隐藏页面中：

```
using SiteGlobalEnums;
using AppName1Enums;  // etc. as needed for apps 
```

# dhtmlx - 在 dhtmlxform 中使用 json 加载表数据

> ID：13172812
> 
> 赞同：2
> 
> 时间：2012-11-01T07:33:20.597
> 
> 标签：dhtmlx

如何在 DHTMLXForm 中加载表格形成的 json 数据？我正在尝试使用方法 loadStruct 但它不起作用请就此提出建议.....这是一个示例，如果我可以加载这意味着我可以从数据库加载数据。

```
Json is 
var data = [
             { type: "fieldset", name: "data", label: "Welcome", inputWidth: "auto", list:[
             {type:"input", name: 'name', label:'Login'},
             {type:"password", name:"pass", label:"Password"},
             {type:"button", name:"save", value:"Proceed"}] 
         }]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T12:35:25.040

使用以下命令创建一个新表单：

```
myForm = new dhtmlXForm("form_container", data); 
```

或者对于现有形式：

```
myForm.loadStruct(data, "json", function(){
   // onload handler
}); 
```

# python - 每次我通过python中的循环时如何创建一个节点

> ID：13172815
> 
> 赞同：-1
> 
> 时间：2012-11-01T07:33:32.723
> 
> 标签：python

我喜欢在每次循环时创建一个节点。但目前只会使用循环的最后一个值。我如何使用 python 来实现这一点。以下是我的例子。

我的xml：-

```
<person>
<user name="david" password="super"></user>
<user name="alen" password="boss"></user>
<user name="windeesal" password="sp"></user>
</person> 
```

蟒蛇代码：

```
import xml.etree.ElementTree as ET

doc = ET.parse("users.xml")
root = doc.getroot() #Returns the root element for this tree.
root.keys()          #Returns the elements attribute names as a list. The names are returned in an arbitrary order
for child in root:
    name = child.attrib['name']
    password = child.attrib['password']

root = ET.Element("person")
user = ET.SubElement(root, "user")
user.set("username",username)
user.set("password",password)

tree = ET.ElementTree(root)
myxml = tree.write("new.xml")

print myxml 
```

代码的输出仅包含循环的最后一个值:(

```
<person>
<user password="sp" username="windeesal" />
</person> 
```

每次我通过循环时如何创建节点然后加入结果并将它们写入文件。？我真的是一个初学者，请给我一个详细的解释。非常感谢你 。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T08:07:32.470

试试下一个。您对 python 的理解似乎非常基础，所以我不知道该写些什么来描述问题。

请问您是否需要解释！:)

```
import xml.etree.ElementTree as ET

doc    = ET.parse("users.xml")
root = doc.getroot() #Returns the root element for this tree.
root_new  = ET.Element("person") 
for child in root:
    name                = child.attrib['name']
    password             = child.attrib['password']

    user  = ET.SubElement(root_new, "user") # create subelement in cycle! 
    user.set("username",name)               # username variable is not declared
    user.set("password",password)

tree = ET.ElementTree(root_new)
tree.write("new.xml")

import sys
tree.write(sys.stdout) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-01T08:14:38.780

*“每次通过循环时创建节点”*的技巧是在循环*内*创建节点。你要：

```
for child in root:
    name     = child.attrib['name']
    password = child.attrib['password']

    user = ET.SubElement(root_new, "user")
    user.set("username", name)
    user.set("password", password) 
```

Python 对空格敏感。如果你不缩进底部的三行，它们就不是循环的一部分。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-01T07:52:11.423

您正在覆盖在根目录中读取的树。附加到您已阅读的内容

```
import xml.etree.ElementTree as ET

doc    = ET.parse("users.xml")
root = doc.getroot() #Returns the root element for this tree.
root.keys()          #Returns the elements attribute names as a list. The names are returned in an arbitrary order
for child in root:
    name                = child.attrib['name']
    password             = child.attrib['password']

user  = ET.SubElement(root, "user")
user.set("username",'test')
user.set("password",'me')

tree = ET.ElementTree(root)
tree.write("new.xml") 
```

还要检查 new.xml 的结果。tree.write 显然返回 None

# java - 没有 System.out 怎么办，在控制台上打印？

> ID：13172817
> 
> 赞同：7
> 
> 时间：2012-11-01T07:33:36.130
> 
> 标签：java, io

我一直被最近在一次采访中被问到的一个问题所困扰。问题表述为：

> 假设您无权访问 Jdk API 中的 System 类。您也不能使用 ECHO。您处于 JRE 5 环境中。您将如何在控制台上打印任何内容？

这个问题真正开始于 - 为什么 Java 给了我们`PrintStream`对象`System.out`？为什么它是最终的？没有其他方法可以在控制台上打印任何内容吗？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-11-01T07:43:41.577

如果你愿意，你可以绕过 System object。System.out 做了很多额外的事情（例如处理 unicode），所以如果你真的只想要原始输出和性能，你实际上甚至可能应该绕过它。

```
import java.io.*;

public class PrintOutTest {
  public static void main(String args[]) throws IOException {
    BufferedWriter out = new BufferedWriter(new OutputStreamWriter(new
      FileOutputStream(FileDescriptor.out), "ASCII"), 512);
    out.write("test string");
    out.write('\n');
    out.flush();
  }
} 
```

[此处](http://www.rgagnon.com/javadetails/java-0603.html)已对此进行了更详细的阐述。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-01T07:49:41.837

PrintStream 是最终的，因为它完成了 Windows 控制台 /can/ 所做的一切。同样，“控制台”是 C# 中的 const 类。这些类封装了控制台可以做的所有事情，而且它只以一种特定的方式*做*。您不能“让它变得更好”，因为在某一时刻，由操作系统来处理它。

有很多方法可以在屏幕上输出内容：

1.  以@eis 的方式编写您自己的 OutputStream
2.  使用 JNI 并调用本机 DLL/SO 中的方法，该方法调用本机函数，例如`printf()`
3.  使用`Runtime.getRuntime().exec()`调用`echo`程序，列表如下。

+1 到@eis

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-01T07:37:51.123

您可以使用**JDK 的记录器**(java.util.logging.Logger)。

这就是您在 java 类中创建记录器的方式。

```
import java.util.logging.Logger;

private final static Logger LOGGER = Logger.getLogger(MyClass.class .getName()); 
```

您也可以将 log4j 用于相同目的。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-01T07:49:51.967

如上所述的面试问题是非常不正当的（即人为的），解决它需要跳出纯Java。这当然不是您在正常情况下会考虑做的事情。

其他答案给了你一些半解决方案......如果你真的，真的必须这样做。（我说半解决方案是因为它们大多不处理应用程序的 stdout / stderr 流被重定向到控制台以外的其他地方的情况。这是这个问题的唯一“真实”方面......）

**如果您*可以*使用 System 类（在 JDK 6 上）...**打印到控制台的干净方式（例如，如果`System.out`已被重定向）是使用`System.console()`方法获取[`Console`](http://docs.oracle.com/javase/6/docs/api/java/io/Console.html)对象，并使用该方法获取`Writer`.

但是请注意，如果 JVM 没有关联的控制台，`console()`将返回`null`.

* * *

> 问题的真正开始是——为什么 Java 给了我们 PrintStream 对象 System.out ？为什么它是最终的？没有其他方法可以在控制台上打印任何内容吗？？

答案是：

1.  为了方便。
2.  这样随机代码就不会意外破坏它。（或者如果您需要担心在您的 JVM 中运行不受信任的代码，则故意这样做。）但受信任的代码实际上*可以*通过`System.out`调用`System.setOut(...)`. 这在幕后做了一些魔术来安全地更改`final`变量的状态。（我相信 JIT 编译器意识到了这一点，并以`final`不同的方式处理这 3 个变量。）
3.  是的。见上文，以及（糟糕！）其他答案。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-01T07:47:48.457

正如文档所说，

> System 类包含几个有用的类字段和方法。它不能被实例化。

因此，如您所见，System 类是不同有用功能的容器。所有这些字段和方法都是静态的，因此没有任何理由扩展它。
Java 提供给我们`static PrintStream out`是因为它是与程序通信的默认方式——使用控制台。
如果你不同意我的观点，请告诉我。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-07-15T09:47:58.417

我今天找到了解决这个问题的方法。我正在使用 org.apache.log4j 来回答这个问题。正如许多人所说，还有许多其他方法。谢谢。

```
import org.apache.log4j.BasicConfigurator;
import org.apache.log4j.Logger;

public class HelloByLogger {

    private final static Logger logger = Logger.getLogger(HelloByLogger.class);

    public static void main(String[] args) {

        BasicConfigurator.configure();

        logger.info("From Logger... Ola!");

    }
} 
```

# angularjs - Angular JS - 如何向模板 URL/动态模板添加参数？

> ID：13172818
> 
> 赞同：0
> 
> 时间：2012-11-01T07:33:39.420
> 
> 标签：angularjs

如果我有这样的典型路线：

```
angular.module('app', ['ngResource']).  
  config(function($routeProvider, $locationProvider) {
  .when('/item/:itemId', {
    template: '<div ng-bind-html-unsafe="html"></div>',
    controller: blobs.controller.RouteController,
  })
}); 
```

如何实现从服务器请求“动态视图”？IE。服务器的路由应该指向一个动态的 php 页面，填写并保存一些数据，并根据路由中给定的 itemId 返回它想要的任何 html。我尝试为模板容器设置一些复杂的路由监控和 ajax 请求，然后在加载 RouteController 时注入响应 html，即：

```
 Service.request('item/'+$routeParams.itemId, {}, function(r) {
    $scope.html = r;
    $compile($scope.html)($scope); //generates infinite loop for some reason?
    $scope.$apply();
}); 
```

但这并不完全奏效。PHP 的响应 html get 很好地加载到容器模板中，但数据绑定似乎不起作用（即，它到处都包含 {{*}}）。

有一个更好的方法吗？我真的只是想改变这样的路线：

/item/My-Item 变成一个相同的“templateUrl”，即：/item/My-Item 或 /views/item/My-Item ..etc

感谢您的任何帮助！

瑞安

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-04-17T18:37:57.673

这不是您问题的直接答案。但我认为这是一个重要的概念，你应该考虑。

为了充分发挥 AngularJS 的潜力，你必须完全理解它的范式。

Angular 是关于瘦服务器和胖客户端的。服务器主要是一个 RESTful 服务，它为您的前端应用程序提供数据。然后通过绑定将该数据呈现给视图。模板在客户端而不是服务器端处理。这种方法允许您更好地在服务器和客户端之间划分职责。

因此，考虑到您的用例，我建议将模板的“动态”逻辑从服务器端移动到客户端，并尽量不要混合它们。理想情况下，您的模板应该是静态文件，可以由某些 CDN 提供服务。您的服务器端逻辑依赖于呈现动态模板的所有数据都可以使用`ngResource`模块和 RESTfull 接口从服务器获取。您可以通过在客户端使用适当的绑定和指令来实现几乎任何呈现逻辑。您甚至可以创建自己的指令来隔离代码的可重复部分并干燥。

我希望它有所帮助。

# ruby-on-rails - 使用 Rubber gem 部署的 Rails 应用程序 - 出现错误

> ID：13172823
> 
> 赞同：1
> 
> 时间：2012-11-01T07:34:09.400
> 
> 标签：ruby-on-rails, amazon-ec2, capistrano

我有一个在 Amazon ec2 上的实例上运行的 Rails 应用程序。它通过负载均衡器提供服务。

我第一次将我的应用程序部署到它时工作正常。今天我再次运行“cap deploy”。从那以后，我一直收到 504 Gateway Timeout 错误。

我可以通过 ssh 进入实例。我已验证我的部署正在替换实例中的代码。我还通过 ssh 连接到实例并使用 telnet 连接到 localhost:80。它可以工作，但是当我输入“GET / HTTP/1.1”时，它会返回 200 错误

我试图从访问我的生产日志开始。但是由于某种原因，生产日志文件不存在！我在生产中检查了我的 config.log_level 并将其设置为 :debug，但无济于事。

我还尝试直接访问实例 IP 地址，而不是通过负载均衡器，但仍然出现相同的错误 - 这可能意味着它不是负载均衡器有问题。

我在这里看到了一个相关的问题 -[使用橡胶在 ec2 上部署后保持 504 网关超时](https://stackoverflow.com/questions/9398738/keep-getting-504-gateway-time-out-after-deploying-on-ec2-using-rubber)

但是，我无法理解答案，我不确定它有多过时。如果有人可以详细说明或提供替代解决方案，或者只是有关如何开始解决此问题的提示，我将不胜感激！

**更新**：我做了一些调试并探索了 /var/log/apache2 的日志，这帮助我修复了几个错误。我不再看到 504 网关超时。相反，我看到以下错误：

```
[ pid=32526 thr=140043323348800 file=ext/apache2/Hooks.cpp:862 time=2012-11-01 02:43:06.843 ]: Unexpected error in mod_passenger: Cannot spawn application '/mnt/tpot-production/releases/20121031194109': An error occured while spawning the application.
  Backtrace:
     in 'virtual Passenger::SessionPtr Passenger::ApplicationPool::Client::get(const Passenger::PoolOptions&)' (Client.h:742)
     in 'Passenger::SessionPtr Hooks::getSession(const Passenger::PoolOptions&)' (Hooks.cpp:294)
     in 'int Hooks::handleRequest(request_rec*)' (Hooks.cpp:563)

[Thu Nov 01 02:47:41 2012] [notice] caught SIGTERM, shutting down 
```

[https://gist.github.com/3992814](https://gist.github.com/3992814)

# python - 访问模型时如何在 django 中使用变量

> ID：13172837
> 
> 赞同：1
> 
> 时间：2012-11-01T07:35:09.283
> 
> 标签：python, django

我有这个代码

`keys = {'speed','temp'}`

我有像这样的变量

`object.subobj.speed`和`object.subobj.temp`

我怎么能循环

```
for key in keys
    print object.subobj.key 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:38:25.257

```
for key in keys:
    print getattr(obj.subobj, key) 
```

# android - 自定义类无法正常工作

> ID：13172841
> 
> 赞同：0
> 
> 时间：2012-11-01T07:35:23.277
> 
> 标签：android, listview, contacts, adapter

这是一个非常奇怪的问题。我直接贴代码：

```
package com.asim.contactspull;

    public class Contact
    {
    private String name;
    private String number;

    public Contact(String sname, String snumber)
    {
        this.name = sname;
        this.number = snumber;
    }
    } 
```

以上是我的自定义类。以下是我的主要活动：

```
package com.asim.contactspull;

public class MainActivity extends Activity
{
    ArrayList<Contact> contactList;
    ListView contacts;

    @Override
    public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        contactList = new ArrayList<Contact>();

        Cursor phones = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null, null,null, null);
        while (phones.moveToNext())
        {
            Contact c = new Contact(phones.getString(phones.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME)), phones.getString(phones.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER)));
            Log.d("Contact: ", "" + c.toString());
            contactList.add(c);
        }
        phones.close();

        contacts = (ListView) findViewById(R.id.contacts);
        ArrayAdapter<Contact> aa = new ArrayAdapter<Contact>(this, android.R.layout.simple_list_item_1, contactList);
        contacts.setAdapter(aa);
    }
} 
```

当我运行上面的代码时，我在我的 ListView 中得到这样的条目：

com.asim.contactspull Contact@405206e8

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:41:17.543

你需要重写`toString()`方法来获得你的类的正确表示。

像这样：

```
public String toString(){
   return this.name;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T07:42:07.937

我认为问题在于您的类有 2 个属性，因此您的适配器正在打印它们（姓名和电话）。

一种选择可能是仅使用名称的数组的 ArrayAdapter。或者编写一个自定义适配器。另一方面，自定义类上的自定义 toString 也可以解决问题。

# binary-search-tree - 二叉子树中的删除

> ID：13172845
> 
> 赞同：0
> 
> 时间：2012-11-01T07:36:03.757
> 
> 标签：binary-search-tree

在这种情况下，我试图删除一个具有左右子节点的节点 D。

```
 D
                /  \ 
               A    F 
                \
                 B 
```

所以当我尝试删除 D 时，我应该用 B 替换它，因为 B 是左子树中的下一个最大元素。所以我可以用 F 代替它而不是用 B 代替它吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:45:21.373

你可以，但它不会是最佳的。您希望您的树始终尽可能平衡，以便插入和删除将保持在 O(log n) 左右

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:46:50.320

首先，只有一棵二叉树是未排序的。我假设你的树是二叉搜索树。如果您想要的只是保持树排序而不是 yes，则可以在此特定示例中将其替换为 F。如果您的树更复杂，那么您将无法在没有其他操作的情况下执行此操作 - 例如，您需要对 F 的子项（如果存在）执行某些操作，并且需要额外的不必要的处理。

# .net - 在 Visual Studio 2012 中调试 WCF 服务（变量未声明或不可访问）

> ID：13172851
> 
> 赞同：1
> 
> 时间：2012-11-01T07:36:35.380
> 
> 标签：.net, wcf, debugging, visual-studio-2012

我在 Visual Studio 2012 中调试 WCF 服务时遇到问题。客户端应用程序和 WCF 服务在同一个解决方案中，都配置为进行调试。调试器成功中断/进入 WCF 服务，但我无法监视服务中声明的任何变量。

> 未声明“变量”。由于其保护级别，它可能无法访问。

我可以监视从客户端应用程序作为参数传递的任何变量。

# asp.net-mvc - 无法打开数据库 ASPNETDB.MDF

> ID：13172855
> 
> 赞同：0
> 
> 时间：2012-11-01T07:36:56.227
> 
> 标签：asp.net-mvc, asp.net-membership, database-connection, connection-string, mdf

我使用了 ASP.NET 的默认成员资格。格式化 PC 并安装 SQL Server Managment Studio 后，我运行应用程序，无法访问我的 ASPNETDB.MDF，但可以访问其他数据库。例如，当我尝试注册时出现错误： ![在此处输入图像描述](../Images/ec51b81367a17bab878650986d6cfdfe.png)

连接字符串是这样的：

```
<add name="ApplicationServices" connectionString="data source=.\SQLEXPRESS; Integrated Security=SSPI; AttachDBFilename=|DataDirectory|aspnetdb.mdf; User Instance=true" providerName="System.Data.SqlClient"/> 
```

如何访问 ASPNETDB.MDF？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-20T19:35:38.980

There should be a folder named App_Data. The database file should be created inside this folder. What you need is make sure that the ASP.Net identity has enough access rights to this folder.

# c# - 将一个数组拆分为另一个数组

> ID：13172857
> 
> 赞同：2
> 
> 时间：2012-11-01T07:37:01.840
> 
> 标签：c#, sql

我有一个列表，其中包含

1.  这`Price`
2.  这`Code`

我已经设法将列表拆分为一个数组，但我想进一步拆分数组，以便我可以单独获取`Price`and`Code`并将其排序`Price`为升序。当排序发生时，我也需要对`Code`进行排序，因为它`Price`是针对那个特定的`Code`。

所以它会是这样的： 原始列表：

```
1588,8DNY;1488,ACNY;1288,7DPE;1888,8HUC;1488,8WNH; 
```

拆分为 arrPrice 后：

```
[1588,8DNY],[1488,ACNY],[1288,7DPE],[1888,8HUC],[1488,8WNH] 
```

第二次拆分 2ndarrPrice:

```
[1588],[1488],[1288],[1888],[1488] 
```

第二次拆分 2ndarrCode：

```
[8DNY],[ACNY],[7DPE],[8HUC],[8WNH] 
```

按升序排列价格：

```
[1288],[1488],[1488],[1588],[1888] 
```

代码将相应地排序：

```
[7DPE],[ACNY],[8HUC],[8WNH] 
```

我在第一次分裂后被卡住了。

```
 if (lblprices.Text != "")
    {
        arrprice = lblprices.Text.Split(new char[] { ';' }, StringSplitOptions.RemoveEmptyEntries);

        Array.Sort(arrprice);

        for (i = 0; i < arrprice.Length; i++)
        {
            arr2 = arrprice[i].Split(',');
            SQL2 = "SELECT DISTINCT [TP].[TCode], ";
            SQL2 += "[TP].[TName], ";
            SQL2 += "[TP].[TName_CN],  ";
            SQL2 += "[TP].[TourType], ";
            SQL2 += "[TP].[LastUpdateDate], ";
            SQL2 += "[TP].[ValidityFrom],  ";
            SQL2 += "[TP].[ValidityTo], ";
            SQL2 += "[CL].[CountryCode], ";
            SQL2 += "[CL].[CityName] ";

            SQL2 += "FROM [CL], [TP], [TourItinerary],[TourHotel] ";

            SQL2 += "WHERE [TP].[Activation] = 1  ";
            SQL2 += "AND [TP].[TCode] = '" + arr2[1] + "' ";
            SQL2 += "ORDER BY [TP].[LastUpdateDate] DESC ";

            objConnTour.Open();

            SqlCommand command = new SqlCommand(SQL2, objConnTour);
            SqlDataReader dataReader = command.ExecuteReader();

            if (dataReader.Read())
            {
                html += "<tr><td class=\"border\">" + dataReader["TCode"] + "</td>";
                html += "<td class=\"border\">" + dataReader["TName"] + "</td>";
                html += "<td class=\"border\">" + dataReader["TName_CN"] + "</td>";
                html += "<td class=\"border\">" + dataReader["TType"] + "</td>";
                html += "<td class=\"border\">" + dataReader["LastUpdateDate"] + "</td>";
                html += "<td class=\"border\">" + dataReader["ValidityFrom"] + "</td>";
                html += "<td class=\"border\">" + dataReader["ValidityTo"] + "</td>";
                html += "<td class=\"border\">" + dataReader["CountryCode"] + "</td>";
                html += "<td class=\"border\">" + dataReader["CityName"] + "</td>";
                html += "<td class=\"border\">from&nbsp;<span class=\"price-red\">S$<b>" + arr2[0] + "</b></span><td/></tr>";
            }

            dataReader.Close();

            objConnTour.Close();
        }
    }
    return html; 
```

上面的代码将无法按升序对价格进行排序。正如您在我的`arr2`拆分中看到的那样，我需要`Code`and`Price`一起，因为我将从基于`Code`.

- - - - 编辑 - - - - -

好的，问题是如果价格在 1000-1999 之间，它会被完美排序。但如果我的价格小于 1000，则不会以升序方式排序

示例是使用@jekcom 提供的代码的结果截图

这是我没有拆分列表并从数据库中原始检索它们的时候

![原始的，未分类的](../Images/8d0f98807cd729016dabd1552ca3114a.png)

这是使用@jekcom 的代码排序的

![在此处输入图像描述](../Images/f2066164f31afeca43bd6ef0e59f54e4.png)

请注意价格如何没有以升序方式排序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:57:26.277

您可以使用 a `List`of `KeyValuePair`s 并使用 LINQ 对它们进行排序。

```
IList<KeyValuePair<string, decimal>> items = new List<KeyValuePair<string, decimal>>();
items.Add(new KeyValuePair<string, decimal>("8DTY", 1589));
items.Add(new KeyValuePair<string, decimal>("1DNY", 1688));
items.Add(new KeyValuePair<string, decimal>("8DNY", 1888));
items.Add(new KeyValuePair<string, decimal>("8DNY", 1588));
items.Add(new KeyValuePair<string, decimal>("8ENY", 1589));

IOrderedEnumerable<KeyValuePair<string,decimal>> result =items.OrderBy(item => item.Value);

foreach (var keyValuePair in result)
{
    MessageBox.Show(keyValuePair.Key + " " + keyValuePair.Value);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T08:09:38.863

这样做的一种方法：

定义您的自定义 Comperer 以对您的数组进行排序，然后将其传递给 sort 方法

**比较器**

```
public class ProductComparer : IComparer<string>
{
    public int Compare(string x, string y)
    {
        string[] _x = x.Split(',');
        string[] _y = y.Split(',');
        double priceY = double.Parse(_y[0]);
        double priceX = double.Parse(_x[0]);

        return priceX.CompareTo(priceY);
    }
} 
```

**你的代码**

```
if (lblprices.Text != "")
    {
        arrprice = lblprices.Text.Split(new char[] { ';' }, StringSplitOptions.RemoveEmptyEntries);

        Array.Sort(arrprice, new ProductComparer());

        for (i = 0; i < arrprice.Length; i++)
        {
            arr2 = arrprice[i].Split(',');
            SQL2 = "SELECT DISTINCT [TP].[TCode], ";
            SQL2 += "[TP].[TName], ";
            SQL2 += "[TP].[TName_CN],  ";
            SQL2 += "[TP].[TourType], ";
            SQL2 += "[TP].[LastUpdateDate], ";
            SQL2 += "[TP].[ValidityFrom],  ";
            SQL2 += "[TP].[ValidityTo], ";
            SQL2 += "[CL].[CountryCode], ";
            SQL2 += "[CL].[CityName] ";

            SQL2 += "FROM [CL], [TP], [TourItinerary],[TourHotel] ";

            SQL2 += "WHERE [TP].[Activation] = 1  ";
            SQL2 += "AND [TP].[TCode] = '" + arr2[1] + "' ";
            SQL2 += "ORDER BY [TP].[LastUpdateDate] DESC ";

            objConnTour.Open();

            SqlCommand command = new SqlCommand(SQL2, objConnTour);
            SqlDataReader dataReader = command.ExecuteReader();

            if (dataReader.Read())
            {
                html += "<tr><td class=\"border\">" + dataReader["TCode"] + "</td>";
                html += "<td class=\"border\">" + dataReader["TName"] + "</td>";
                html += "<td class=\"border\">" + dataReader["TName_CN"] + "</td>";
                html += "<td class=\"border\">" + dataReader["TType"] + "</td>";
                html += "<td class=\"border\">" + dataReader["LastUpdateDate"] + "</td>";
                html += "<td class=\"border\">" + dataReader["ValidityFrom"] + "</td>";
                html += "<td class=\"border\">" + dataReader["ValidityTo"] + "</td>";
                html += "<td class=\"border\">" + dataReader["CountryCode"] + "</td>";
                html += "<td class=\"border\">" + dataReader["CityName"] + "</td>";
                html += "<td class=\"border\">from&nbsp;<span class=\"price-red\">S$<b>" + arr2[0] + "</b></span><td/></tr>";
            }

            dataReader.Close();

            objConnTour.Close();
        }
    }
    return html; 
```

**数组结果**

```
1288,7DPE
1488,ACNY
1488,8WNH
1588,8DNY
1888,8HUC 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T08:23:12.107

这是使用 Linq 的方法

```
string s = "1588,8DNY;1488,ACNY;1288,7DPE;1888,8HUC;1488,8WNH";

var OrderedResult= s.Split(';').ToList<string>()
                    .Select(item => item.Split(','))
                    .Select(item => new { price = Int32.Parse(item[0]), code = item[1] })
                    .OrderBy(item => item.price);

foreach(var item in OrderedResult)
{
   var sql = "select ..... where price=" + item.price + " and code=" + item.code;
   execute(sql);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-01T08:33:56.477

您发布的代码不起作用，因为您没有根据数组的`Price`一部分对数组进行排序。如果您有`Linq`：

```
if (lblprices.Text != "")
{
    arrprice = lblprices.Text.Split(new char[] { ';' }, 
                                    StringSplitOptions.RemoveEmptyEntries);
    var lst = arrprice.OrderBy(x => int.Parse(x.Split(',')[0])).ToList();

    for (i = 0; i < lst.Count; i++)
    {
        arr2 = lst[i].Split(',');

        //rest of your code ----------------
    } 
```

这应该有效，用sql术语来说，这应该给出

```
ORDER BY PRICE ASC, [TP].[LastUpdateDate] DESC 
```

# javascript - 如何为 Parse Signup 函数添加额外的属性？

> ID：13172858
> 
> 赞同：1
> 
> 时间：2012-11-01T07:37:07.487
> 
> 标签：javascript, android, parsing, mobile

我想为我的 parse SignUp 函数添加一个额外的属性。我的代码就像

```
signUp: function(e) {
  var self = this;
  var username = this.$("#signup-username").val();
  var password = this.$("#signup-password").val();
  var sex=this.$("#signup-sex").val();
  Parse.User.signUp(username, password, sex, { ACL: new Parse.ACL() }, {
    success: function(user) {
      new ManageTodosView();
      self.undelegateEvents();
      delete self;
    } 
```

如果我只传递用户名和密码，它可以工作并将用户添加到数据库。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-11-18T14:38:35.800

```
var attrs = {ACL: new Parse.ACL(), email: "email@email.com"};

Parse.User.signUp(username, password, attrs, {

    success: function(user) {
      //Set the code for sucess
    },

    error: function(user, error) {
     alert("Error: " + error.code + " " + error.message);
    }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-11T07:58:33.673

你可以这样做

```
var user = new Parse.User();
user.set('username',name);
user.set('YOUR_COLUMN','ITS_VALUE');
user.set('password',password);
user.set('YOUR_COULMN','ITS_VALUE');

user.signUp(null,{
    success:function(user){
        NEXT OPERATION
    },
    error:function(error){
        res.send('error::'+error.message);
  }

}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T08:31:16.267

该文档仅显示 Parse.User.signUp 函数的 4 个参数：http: [//www.parse.com/docs/js/symbols/Parse.User.html#signUp](http://www.parse.com/docs/js/symbols/Parse.User.html#signUp)

我的猜测是这会成功：

```
signUp: function (e) {
    var self = this;
    var username = this.$("#signup-username").val();
    var password = this.$("#signup-password").val();
    var sex = this.$("#signup-sex").val();
    var otherAttribute = 'test';
    Parse.User.signUp(username, password, {
        sex: sex,
        newAttribute: otherAttribute,
        ACL: new Parse.ACL()
    }, {
        success: function (user) {
            new ManageTodosView();
            self.undelegateEvents();
            delete self;
        }
    }
} 
```

# c# - C# 数据库选项

> ID：13172859
> 
> 赞同：2
> 
> 时间：2012-11-01T07:37:09.220
> 
> 标签：c#, .net, database

我正在努力更好地学习 c#，并且以前从未存储过数据。我正在编写一个应用程序，它将从网络上获取信息，我需要存储它，以便应用程序以后可以再次使用它。我熟悉 mysql，喜欢它的功能集，但觉得让最终用户安装 sql server 可能有点多。我还没到学习与 c# 相关的 xml 方面的地步。如果可能的话，我正在寻找一个基于文件的 sql 类型解决方案，因为它可以最大限度地减少该领域的学习曲线，让我有空间专注于语言，但是我愿意接受任何建议。谷歌提供了一些帮助，但它不像你们那样了解 c#。

编辑：我预计 4 个不同的表中最多有 1k 条记录。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:49:14.627

您可以查看很多选项 - 取决于您要存储多少信息以及您计划如何访问它。

您始终可以读取/写入文件。

*   阅读：http: [//msdn.microsoft.com/en-us/library/db5x7c0d.aspx](http://msdn.microsoft.com/en-us/library/db5x7c0d.aspx)
*   写： http: [//msdn.microsoft.com/en-us/library/aa287548 (v=vs.71).aspx](http://msdn.microsoft.com/en-us/library/aa287548(v=vs.71).aspx)

还有一个“配置”设置的概念。它最终会为您读取/写入文件。键/值对可以非常简单地编写，但您也可以定义自定义配置。

*   简单配置：[在 Windows 窗体 C# 应用程序中拥有配置文件的最简单方法](https://stackoverflow.com/questions/114527/simplest-way-to-have-a-configuration-file-in-a-windows-forms-c-sharp-application)
*   自定义配置： http: [//msdn.microsoft.com/en-us/library/2tw134k3 (v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/2tw134k3(v=vs.100).aspx)

您还可以序列化对象（并将它们保存到文件中）。这与在文件中读取和写入“东西”不同，因为框架将重建原始对象及其状态。

*   序列化：[如何在文件中保存/恢复可序列化对象？](https://stackoverflow.com/questions/6115721/how-to-save-restore-serializable-object-to-from-file)

您还可以使用 SQL Lite 之类的东西。它允许您与“数据库”交互，但不需要安装数据库。它本质上是文件中的数据库。

*   示例：[http ://www.dreamincode.net/forums/topic/157830-using-sqlite-with-c%23/](http://www.dreamincode.net/forums/topic/157830-using-sqlite-with-c%23/)

当然 - 您始终可以自己托管 SQL 服务器并提供访问权限（直接或通过 Web 服务或其他方式）。

说了这么多，我确定我错过了很多。

什么是“最好的”实际上取决于您的要求。我现在看到您期待“四个表” - 所以听起来您已经想到了一个关系数据库。我建议查看 SQL lite。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-01T07:59:00.503

SQL Express 对于 1k 和 4 个表来说太大了。

您应该使用 SQLite 或 SQL CE。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-01T07:44:22.037

我只是使用[SQL Server Express](http://www.microsoft.com/sqlserver/en/us/editions/2012-editions/express.aspx)。SQL Server 相当标准且易于学习，因此对初学者来说很有意义。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-11-01T07:47:52.303

您可以选择[SQL Server 2012 Express（免费版）](http://www.microsoft.com/sqlserver/en/us/editions/2012-editions/express.aspx)，以便了解如何访问数据库中的数据。

最重要的是使用[实体框架](http://msdn.microsoft.com/en-us/data/ef.aspx)来最大化 C# 和数据库交互的学习曲线。

一个很好的[视频在这里](http://msdn.microsoft.com/en-us/data/cc546556.aspx)。

还提供了必读[的初学者指南。](http://msdn.microsoft.com/en-us/data/ee712907)

# php - 获取复选框值/名称显示空或未定义的警报

> ID：13172863
> 
> 赞同：0
> 
> 时间：2012-11-01T07:37:30.000
> 
> 标签：php, javascript

这是php代码块...

```
echo "<td> 
          <input type='checkbox' value='online_$row[0]' " .                                             
          $checked[$row[$i]]. " onchange='background()'/>                                   
      </td>"; 
```

这是非常简单的javascript代码...

```
function background()
{
    alert(this.value); 
} 
```

如何使用 this 关键字获取该复选框的名称？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-01T07:39:31.170

```
 echo "<td> 
      <input type='checkbox' value='online_$row[0]' " .                                             
      $checked[$row[$i]]. " onchange='background(this)'/>                                   
  </td>";

function background(ele)
{
alert(ele.value); 
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-01T07:41:19.963

`this`是函数内部的输入`onclick`……但是该函数`background`在没有任何上下文的情况下调用，因此它`window`在该函数内部`this`获得了 so 的默认上下文`window`

直接将函数绑定`background`到输入元素，而不是使用`onclick`属性创建新函数。

```
refToInput.addEventListener('change', background); 
```

[有关addEventListener 的更多](https://developer.mozilla.org/en-US/docs/DOM/element.addEventListener)信息，请参阅MDN，包括有关浏览器兼容性的说明。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-01T07:41:32.273

在 JS 函数中，您必须传递一个对象，因此“this”将被实际定义。例如，您可以使用：

```
function background(elem)
{
    alert(elem.value); 
} 
```

一旦函数没有任何参数，“this”就没有定义，因此函数不会作为例外运行。

# excel - Excel中每11位后添加逗号

> ID：13172869
> 
> 赞同：0
> 
> 时间：2012-11-01T07:37:52.403
> 
> 标签：excel, excel-2007, vba

我想在 excel 中每 11 位数字后加上逗号，我的数据将是这样的。

`ODU88131042ODU88131043ODU88131044ODU88131045ODU65110840ODU65110829ODU65110833ODU65110834ODU88131046ODU88131047ODU88131048ODU88131049ODU88131`

我想要这样的答案

```
ODU88131046,ODU88131047,ODU88131048,ODU88131049,ODU88131050,ODU88131051,ODU88131052,ODU88131053,ODU88131054,ODU88131055,ODU88131056,ODU88131057,ODU88131058,ODU88131059,ODU88131060,ODU88131061,ODU88131062,ODU88131063,ODU88131064,ODU88131065,ODU88131066,ODU88131067,ODU88131068,ODU88131069,ODU88131070,ODU88131071,ODU88131072,ODU88131073,ODU88131074,ODU88131075,ODU88131076,ODU88131077,ODU88131078,ODU88131079,ODU88131080,ODU88131081,ODU88131082,ODU88131083,ODU88131084,ODU88131085,ODU88131086,ODU88131087,ODU88131088,ODU88131089,ODU88131090, 
```

这是一个修复，我希望逗号在 11 位数字中，并且它只在一个单元格中显示，结果也只显示在一个单元格中。请帮帮我..

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-01T07:51:11.590

这是使用VBA的方法。选择要放置逗号的单元格并运行宏。

```
Sub AddCommas()
    Dim s As String
    s = Selection.Value
    Dim x As Long
    x = Len(s) \ 11
    If Len(s) Mod 11 = 0 Then
        x = x - 1
    End If
    Do Until x <= 0
        s = Left(s, x * 11) & "," & Mid(s, x * 11 + 1)
        x = x - 1
    Loop
    Selection.Value = s
End Sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-12-15T12:25:26.767

```
=SUBSTITUTE(TRIM(SUBSTITUTE(" "&SUBSTITUTE(TEXT(A1,REPT("00000000000 ",EVEN(LEN(C4)))),"00000000000 ",)," 00000000000 ",))," ",",") 
```

# actionscript-3 - 在聚焦之前获取 TextInput 的光标位置

> ID：13172878
> 
> 赞同：0
> 
> 时间：2012-11-01T07:38:39.140
> 
> 标签：actionscript-3, apache-flex, flex4, flex4.5

我有具有 TextInput 的 Titlewindow 窗口。当它弹出时，我会执行其他操作，例如从顶级应用程序上的 Menu 中选择 MenuItem。选择菜单项后，我需要将文本添加到之前关注的 titlewindow 的 TextInput。现在我得到了这些以前关注的 TextInput。但是无法找到光标或光标位置在聚焦时指向的索引。在这个位置我需要插入文本。

```
 var window:Window = FlexGlobals.topLevelApplication.window;
 window.focusManager.activate();
 var textInput:TextInput = window.focusManager.getFocus() as TextInput; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T08:45:49.480

您是否尝试过聆听以专注于输入字段，然后记录插入符号的位置？

```
textInput.addEventListener(FocusEvent.FOCUS_OUT, internal_onFocusOutHandler, false, 0, true);
protected function internal_onFocusOutHandler(e:FocusEvent):void
{
   trace(textInput.selectionBeginIndex()+","+textInput.selectionEndIndex());
} 
```

[这里](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/fl/controls/TextInput.html#selectionBeginIndex)也有一个例子

# c# - 你调用的对象是空的。阅读 Excel

> ID：13172879
> 
> 赞同：0
> 
> 时间：2012-11-01T07:38:40.713
> 
> 标签：c#, asp.net, sql

我正在将 excel 表导入 sql server 数据库，excelsheet 包含 3 列 id|data|passport 我正在使用 SqlBulkCopy

```
{
    SqlConnection con = new SqlConnection(System.Configuration.ConfigurationManager.ConnectionStrings["constr"].ConnectionString);

string[] filePaths = null;
string strFileType = null;
string strFileName = null;
string strNewPath = null;
int fileSize;
int flag=0;

protected void Page_Load(object sender, EventArgs e)
{

}

protected void Button1_Click1(object sender, EventArgs e)
{
    strFileType = System.IO.Path.GetExtension(FileUpload1.FileName).ToString().ToLower();
    strFileName = FileUpload1.PostedFile.FileName.ToString();
    FileUpload1.SaveAs(Server.MapPath("~/Import/" + strFileName + strFileType));
    strNewPath = Server.MapPath("~/Import/" + strFileName + strFileType);
    fileSize = FileUpload1.PostedFile.ContentLength / 1024;

    //EXCEL DETAILS TABLE
    con.Open();
    //=========================================
    DataTable dt8 = new DataTable();
    SqlCommand cmd8 = new SqlCommand("insert into exceldetails (name,type,details,size)" + "values(@name,@type,@details,@size)", con);
    cmd8.Parameters.Add("@name", SqlDbType.VarChar).Value = strFileName;
    cmd8.Parameters.Add("@type", SqlDbType.VarChar).Value = strFileType;
    cmd8.Parameters.Add("@details", SqlDbType.VarChar).Value = DateTime.Now;
    cmd8.Parameters.Add("@size", SqlDbType.Int).Value = fileSize;
    cmd8.ExecuteNonQuery();
    con.Close();
    try
    {
        SqlDataAdapter da8 = new SqlDataAdapter(cmd8);
        da8.Fill(dt8);
    }
    catch { }
    //=========================================

    //CHOOSING EXCEL CONNECTIONSTRING

    string excelConnectionString = "";
    switch (strFileType)
    {
        case ".xls":

            excelConnectionString = String.Format(@"Provider=Microsoft.Jet.OLEDB.4.0;" + "Data Source=" + strNewPath + "; Extended Properties=Excel 8.0;");
            break;
        case ".xlsx":
            {
                excelConnectionString = String.Format(@"Provider=Microsoft.ACE.OLEDB.12.0;" + "Data Source=" + strNewPath + "; Extended Properties=Excel 12.0 Xml;");

                break;
            }
    }

    //===================================
    //PRE EXCEL COUNT

    // Create Connection to Excel Workbook
    using (OleDbConnection connection = new OleDbConnection(excelConnectionString))
    {
        connection.Open();
        OleDbCommand command = new OleDbCommand("Select ID,Data,passport FROM [Sheet1$]", connection);
        OleDbCommand command1 = new OleDbCommand("select count(*) from [Sheet1$]", connection);

        //Sql Server Table DataTable
        DataTable dt4 = new DataTable();
        SqlCommand cmd4 = new SqlCommand("select * from excelsheet", con);
        try
        {
            SqlDataAdapter da4 = new SqlDataAdapter(cmd4);
            da4.Fill(dt4);//sql table datatable
        }
        catch { }

        //===============================

        //excelsheet datatable
        DataTable oltlb = new DataTable();
        OleDbCommand olcmd = new OleDbCommand("select * from [Sheet1$]", connection);
        try
        {
            OleDbDataAdapter olda = new OleDbDataAdapter(olcmd);
            olda.Fill(oltlb); //excel table datatable
        }
        catch { }

        //==============================

        using (DbDataReader dr = command.ExecuteReader())
        {
            // SQL Server Connection String
            string sqlConnectionString = "Data Source=DITSEC3;Initial Catalog=test;Integrated Security=True";

            con.Open();
            DataTable dt7 = new DataTable();
            dt7.Load(dr);
            DataRow[] ExcelRows = new DataRow[dt7.Rows.Count];
            DataColumn[] ExcelColumn = new DataColumn[dt7.Columns.Count];

            //=================================================
            for (int i1 = 0; i1 < ExcelRows.Length; i1++)
            {

                if(string.IsNullOrEmpty(ExcelRows[i1]["passport"].ToString()))
                {
                    ExcelRows[i1]["passport"]="0";

                }

                string a = Convert.ToString(ExcelRows[i1]["passport"]);
                char a1 = a[0];

                if (a1 >= 'A' || a1 <= 'Z')
                {
                    Label12.Text = "CAPITAL";
                    break;
                }
                else
                {
                    Label12.Text = "notgood";

                    flag = flag + 1;

                }

            }
            //=========================================================

            if (flag == 0)
            {
                using (SqlBulkCopy bulkCopy = new SqlBulkCopy(sqlConnectionString))
                {
                    bulkCopy.DestinationTableName = "ExcelTable";
                    dt7.Rows.CopyTo(ExcelRows, 0);

                    //==========================================================================================
                    for (int i = 0; i < ExcelRows.Length; i++)
                    {
                        if (ExcelRows[i]["passport"] == DBNull.Value)
                        {
                            ExcelRows[i]["passport"] = 0;
                        }

                    }
                    bulkCopy.WriteToServer(ExcelRows);
                    //==========================================================================================
                    for (int i = 0; i < ExcelRows.Length; i++)
                    {
                        if (ExcelRows[i]["data"] == DBNull.Value)
                        {
                            // Include any actions to perform if there is no date
                            //ExcelRows[i]["data"] = Convert.ToDateTime("0");
                        }
                        else
                        {
                            DateTime oldDate = Convert.ToDateTime(ExcelRows[i]["data"]).Date;
                            DateTime newDate = Convert.ToDateTime(oldDate).Date;
                            ExcelRows[i]["data"] = newDate.ToString("yyyy/MM/dd");
                        }

                    }

                    //==========================================================================================
                }
                //======

            }
            else
            {
                Label13.Text = "Wrong Format";
            }
        }

    }
}
} 
```

> 错误：字符串 a = ExcelRows[i1]["passport"].ToString(); 错误：对象引用未设置为对象的实例。

另请注意，当我在删除护照比较后运行此程序时，数据库中的第一行变为空。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-01T07:42:01.400

看看这段代码：

```
 DataRow[] ExcelRows = new DataRow[dt7.Rows.Count];
    DataColumn[] ExcelColumn = new DataColumn[dt7.Columns.Count];

    for (int i1 = 0; i1 < ExcelRows.Length; i1++)
    {
        if(string.IsNullOrEmpty(ExcelRows[i1]["passport"].ToString())) 
```

你根本没有*填充* `ExcelRows`。您已经创建了一个数组，其中每个元素都为空。所以*当然* `ExcelRows[0]["passport"]`会抛出异常。

你为什么不用`dt7.Rows`来获取数据？

此外：

*   此代码不应该在您的表示层中开始
*   避免空的 catch 块
*   尝试将代码重构为更小的方法
*   使用一致的命名风格，最好`camelCase`用于变量名
*   给变量起更有意义的名字——对你`dt7`来说真正*意味着*什么？
*   对连接、命令等使用`using`语句

# xcode - XCode 如何修复从项目中删除的文件。错误 缺少文件

> ID：13172882
> 
> 赞同：4
> 
> 时间：2012-11-01T07:39:04.413
> 
> 标签：xcode

我从项目中删除了一些文件，然后项目构建我看到下一张图片

![在此处输入图像描述](../Images/f6f9a126fcaf8f8d4d669efe697be191.png)

我使用 SVN 作为版本控制。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T07:51:10.027

确保您执行了以下操作：

*   在项目设置的*构建规则选项卡中，在**编译文件*下，您已删除对已删除文件的引用
*   仍在*构建规则*中，在 *Resource bundle" 下，您删除了对已删除资源文件（例如图像）的任何引用
*   你清理了项目（CMD + Shift + K）

# image-processing - 哈尔过滤图像

> ID：13172884
> 
> 赞同：1
> 
> 时间：2012-11-01T07:39:33.133
> 
> 标签：image-processing, matlab

我使用 Lena 图像 256x256 uint8 并应用了 Haar 过滤器

```
dwt2(startImage,'haar','mode','sym'); 
```

当我看到水平、垂直和对角线过滤的图像时，我看到了 Lena 的细节，但好像它们是黑白的，并且对应的矩阵有负数条目（！）。如果我看到平均图像，我只会看到一个白色方块。在 Matlab 7.11 中搜索帮助，我看到了示例，它适用于 MAT 文件，并使用 wcodemat 函数，但我需要通过加载图像

```
J = imread('Lena.tif'); 
```

因为我打算使用大量图像来训练判别式等。我怎样才能正确获得缩放图像？帮我解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-02T16:54:23.943

我只需要在每个分解级别中使用 mat2grey，就是这样。

# symfony - 我可以在 symfony2 项目中使用早期版本的 symfony 插件吗？

> ID：13172886
> 
> 赞同：0
> 
> 时间：2012-11-01T07:39:46.987
> 
> 标签：symfony, gearman

我想在我的项目中使用[http://www.symfony-project.org/plugins/sfGearmanPlugin 。](http://www.symfony-project.org/plugins/sfGearmanPlugin)这个插件是在 symfony 1.4 中开发的。我想在 symfony2 中使用。我该如何使用它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T07:59:57.167

由于 symfony1.x 和 Symfony2 的结构完全不同，可以说是无法使用插件。

相反，您应该找到替代品作为它的**捆绑包**。我认为这是一个： [https ://github.com/mmoreramerino/GearmanBundle](https://github.com/mmoreramerino/GearmanBundle)

# c++ - 将 emplace_back 与 unique_ptrs 容器一起使用是否安全？

> ID：13172888
> 
> 赞同：21
> 
> 时间：2012-11-01T07:40:04.987
> 
> 标签：c++, emplace, exception-safety

考虑以下：

```
std::vector<std::unique_ptr<int>> ptrsToInts;
ptrsToInts.emplace_back(new int); 
```

如果向量中发生重新分配，并且失败（抛出`std::bad_alloc`），我是“安全”还是会泄漏`int`？

C++11 23.3.6.5 [vector.modifiers]/1 说：

> 如果除复制构造函数、移动构造函数、赋值运算符或移动赋值运算符之外的`T`任何`InputIterator`操作引发异常，则没有任何影响。

这似乎表明这是一个潜在的问题。也就是说，如果“没有效果”，那么就不会构造任何东西，因此不会发生`unique_ptr`依赖于该指针的析构函数行为。`delete`（这可能表明`emplace_back`应该禁止`unique_ptr`s 的容器）

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-11-01T07:42:27.310

如果需要重新分配并且它失败了，那么是的，你的对象永远不会进入容器，因此会丢失。

但是，应该注意的是，这纯粹是用户错误。`emplace_back`不应该对 的容器“禁止” `unique_ptr`，因为有非常安全的方法可以做到这一点（例如`reserve`事先 ing 空间，所以你知道它会一直存在）。此外，您可以传入整个`unique_ptr`s，因为它完全能够使用移动构造函数。

`int*`所以说真的，在可能引发异常的点之前没有正确地将非 RAII 对象 (the ) 包装在 RAII 对象中是你的错。

# c++ - 仅当函数指针不为空时才调用它

> ID：13172895
> 
> 赞同：2
> 
> 时间：2012-11-01T07:40:33.163
> 
> 标签：c++, function, pointers, c-preprocessor

我目前在 C++ 中使用此代码来调用函数指针，如果它不为空（我有一些事件，如 onCreate、onDestroy 等，它们是可以分配的函数指针）：

```
#define AssertiveCall(_fn, _args) \
    { \
        if (_fn != nullptr) \
        { \
            return (_fn##_args); \
        } \
    } 
```

我想把它转换成一个模板，这样我仍然可以获得速记的好处，但没有`#define macro`. 我怎么能做到？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-01T08:30:13.570

作为参考，使用可变参数模板的实现 - 以防其他人遇到类似问题并且可以使用可变参数模板：

```
template <typename Return, typename ...Parameters, typename ...Args>
auto AssertiveCall(Return (*function)(Parameters...), Args&& ...args)
    -> Return
{
    if (function != nullptr) {
        return (*function)(std::forward<Args>(args)...);
    } else {
        return Return{};
    }
} 
```

# c++ - OpenMP 结果不如预期

> ID：13172896
> 
> 赞同：0
> 
> 时间：2012-11-01T07:40:38.620
> 
> 标签：c++, openmp

我有包含动态 3d 数组的类。类的对象调用一个函数，该函数执行一些计算来填充一维数组，最后用一维数组数据填充对象的三维数组。一维数组的大小与三维数组的大小相同。
我正在使用 Openmp 来加快计算速度。单线程执行给出了正确的结果，但是当我转到多个线程时，我得到了奇怪的结果。
示例代码如下。请帮助解决问题。

```
class A (
     void func(float *buf);
     void populateRes(*t); 
      private:
         float ***res;
      };

 A a[n];
 int nthrd = omp_get_num_threads();
 float *buf;
 while (cnt < nz)
 {
      #pragma omp parallel shared(cnt) private(buf, tid, omp_i)
      {
           if(cnt == 0 )
             buf = new float[x*y*z];

           #pragma omp for
           for(omp_i=0; omp_i<n; omp_i++)
           { 
              a[omp_i].func(buf);
              a[omp_i].populateRes(buf);
            }
       }
       cnt++;
       if(cnt >= nz)
          delete []buf;
   } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T16:25:53.567

OpenMP 不会`private`在同一区域的不同条目之间保留变量的值`parallel`，就像在函数的不同调用之间不保留自动局部变量的值一样（除非它们被声明`static`）。事实上，在大多数 OpenMP 实现中，`parallel`区域是独立的函数，`private`变量是自动的。

这会使您的代码错误，因为`buf`只会在循环的第一次迭代中分配，但在下一次迭代中，您的代码将在新的*未初始化*本地副本上运行。可能会发生（纯属偶然）特定线程的堆栈内容未更改并因此`buf`保留其值。`buf`在区域外删除也`parallel`忽略了多次调用`new`.

如果您`buf`只想分配一次，则应将`while`循环放在`parallel`区域内，反之亦然。这也将提高性能，因为该`parallel`区域将只输入一次，并且每个条目都会产生开销。

```
A a[n];

#pragma omp parallel
{
   float *buf = new float[x*y*z];
   for (int cnt = 0; cnt < nz; cnt++)
   {
      #pragma omp for
      for (int i = 0; i < n; i++)
      {
         a[i].func(buf);
         a[i].populateRes(buf);
      }
   }
   delete [] buf;
} 
```

（我没有看到`tid`在内部使用，所以我冒昧地将它从`private`变量列表中删除）

`for`更改两个循环的嵌套是可能的，因为在工作共享构造的末尾有一个隐式屏障。我不知道您是否省略了其他代码，但鉴于问题中的代码，`cnt`循环甚至可以嵌套在工作共享结构中，即：

```
#pragma omp parallel
{
   float *buf = new float[x*y*z];
   #pragma omp for
   for (int i = 0; i < n; i++)
   {
      for (int cnt = 0; cnt < nz; cnt++)
      {
         a[i].func(buf);
         a[i].populateRes(buf);
      }
   }
   delete [] buf;
} 
```

# java - java - 如何在java swing中自动增加字符串？

> ID：13172898
> 
> 赞同：2
> 
> 时间：2012-11-01T07:41:00.323
> 
> 标签：java, swing, for-loop, while-loop, auto-increment

我想让我的程序中的字段 joCode 自动递增，但我有这样的格式 --> JP100000 ，每次用户单击“保存”按钮时，它将递增到 JP100001 ， JP100002 ，直到 JP199999 ..

这是我的代码：

```
 try {
        int div = view.getCbDiv().getSelectedIndex();
        int l = 100000;
        do {
            if ( div == 0 ) {
                view.getTxtJobCode().setText("JP" + l);
            }
            else {
                view.getTxtJobCode().setText("JU" + l);
            }
        } while(l <= 199999);

        l++;
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:50:32.767

希望您的代码是用 actionEvent 方法编写的。所以保持你的增量计数器作为全局变量

```
private int l = 10000;

@Override
public void actionPerformed(ActionEvent e) {
    int div = view.getCbDiv().getSelectedIndex();
    if (div == 0) {
        view.getTxtJobCode().setText("JP" + l);
    } else {
        view.getTxtJobCode().setText("JU" + l);
    }
    l++;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-01T12:35:08.110

我会`NumberFormat`像他们在[教程](http://docs.oracle.com/javase/tutorial/i18n/format/decimalFormat.html)中展示的那样使用。也许是这样的：

```
NumberFormat myFormat = new DecimalFormat("000000");
view.getTxtJobCode().setText("JP" + myFormat.format(l)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-01T07:50:55.993

正如安德烈所说，将`l++`线路移动到您的`do`块外壳中：

```
 try {
        int div = view.getCbDiv().getSelectedIndex();
        int l = 100000;
        do {
            if ( div == 0 ) {
                view.getTxtJobCode().setText("JP" + l);
            }
            else {
                view.getTxtJobCode().setText("JU" + l);
            }
            l++;
        } while(l <= 199999);
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-01T07:54:13.143

试试我的例子，根据你的 ID 格式`JP100001`，ID 的长度为**8**，前缀为**JP**和**JU**。

```
 /**
     * This method is used to format plain id (plain number). Mostly,
     * this method is used in setId() methods of entities.
     * <p>
     * E.g.
     * Input: id=523, prefix="JP", maxLength=15
     * Output: JP0000000000523
     * <p>
     * @param id id must not be null.
     * @param prefix prefix must not be null.
     * @param maxLength maximum length of the id string and it must not be negative number.
     * @return a formatted id string
     */
    public static String formatId(String id, String prefix, int maxLength) {
        if (!id.startsWith(prefix)) {
            int length = id.length() + prefix.length();
            for (; (maxLength - length) > 0; length++) {
                id = '0' + id;
            }
            id = prefix + id;
        }
        return id;
    }

    yourMethod() {
        try {
            int div = view.getCbDiv().getSelectedIndex();
            int l = 100000;
            do {
                if ( div == 0 ) {
                    view.getTxtJobCode().setText(formatId((l + ""), "JP, 8));
                }
                else {
                    view.getTxtJobCode().setText(formatId((l + ""), "JU, 8));
                }
            } while(l <= 199999);

            l++;
        }
    } 
```

# sql-server - 在 SQL 中的 Switch 语句中出现错误

> ID：13172905
> 
> 赞同：0
> 
> 时间：2012-11-01T07:41:27.860
> 
> 标签：sql-server, switch-statement

我在 Where Clause.Query 下的 SP 中使用 SWITCH 语句似乎很好，但我无法理解为什么它给了我错误。查询是：

```
Select * from Customer
WHERE  (I.IsClose=@ISClose OR @ISClose is NULL)  
AND    
(C.FirstName like '%'+@ClientName+'%' or @ClientName is NULL )    
AND 
 CASE @abc
         WHEN 2 THEN I.RecurringCharge=@Total or @Total is NULL
         WHEN 3 THEN I.RecurringCharge like 
                               '%'+cast(@Total as varchar(50))+'%' 
                     or @Total is NULL 
     END 
```

代码不完整，但足以理解问题。我在尝试编译时收到错误消息。

```
Incorrect syntax near '='. 
```

错误在下一行。

```
WHEN 2 THEN I.RecurringCharge=@Total or @Total is NULL 
```

请高手帮帮我。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:52:36.747

请参阅[CASE 声明的文档](http://msdn.microsoft.com/en-us/library/ms181765.aspx)。

相反`CASE <variable> WHEN <value> ...`，您应该使用`CASE WHEN <variable>=<value> ...`.

在你的情况下，你最好不要使用`CASE`。尝试改写这样的条件

```
Select * from Customer
WHERE  (I.IsClose=@ISClose OR @ISClose is NULL)  
AND    (C.FirstName like '%'+@ClientName+'%' or @ClientName is NULL )    
AND    (@Total is NULL OR
            (
                (@abc = 2 and I.RecurringCharge=@Total)
                OR
                (@abc = 3 and I.RecurringCharge like '%'+cast(@Total as varchar(50))+'%')
            )
        ) 
```

我缩进条件只是为了清楚它们是如何应用的。我还考虑了常见的`OR @Total is NULL`情况。

# javascript - d3、javascript 和画布

> ID：13172908
> 
> 赞同：0
> 
> 时间：2012-11-01T07:41:33.157
> 
> 标签：javascript, html, canvas, d3.js, geometry

所以我有一些 d3 的 javascript 代码，我需要一些帮助。所以在我的主 html 文件中，我声明了这个画布：

然后在另一个文件中我有这些命令：

```
 var canvas = d3.select("#canvas")

  var data_var=get_data();

  var selection=canvas.selectAll("circle")
                .data(data_var)

  selection.enter().append("circle") 
```

我的问题是当 canvas.selectAll("circle") 被调用时，那个 "circle" 是从哪里来的？我查看了其他地方，给定的画布和输入数据都有任何名为“圆形”的类型。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T10:36:34.360

这是 d3 的棘手之处。它的 API 使用声明式，而不是命令式编程范式。用创作者 Mike Bostock 的话来说，这意味着你“告诉 d3 你想要什么，而不是做什么”。因此，当您编写 d3.selectAll("circle") 时，您所做的是告诉 d3，“好的，准备好，我要在此处添加一些 svg 圆圈，所以继续选择它们”。

实际上，它比这更复杂一些。如果您的 DOM 中已经有一些圆圈，它将选择`data`数组中的尽可能多的圆圈，然后在您调用`enter().append("circle")`. 但是，如果 DOM 上没有圆圈（创建新图表时通常是这种情况），d3 会选择*尚不存在*的圆圈。只有当您调用 .data().enter().append("circle") 时，d3 才会将这些选定的圆圈放在 DOM 上。

如果您以前从未使用过声明式接口（我在 d3 之前没有使用过），那么这是一个棘手的概念。以下是一些对我有帮助的资源：

[http://bost.ocks.org/mike/join/](http://bost.ocks.org/mike/join/)

[http://alignedleft.com/tutorials/d3/binding-data/](http://alignedleft.com/tutorials/d3/binding-data/) （请参阅“请做出选择”部分）

# jquery - 如何检测 jQuery 事件（例如 click mouseout）打开或关闭？

> ID：13172910
> 
> 赞同：1
> 
> 时间：2012-11-01T07:41:38.297
> 
> 标签：jquery, event-handling, jquery-events, jquery-on

默认

```
$().mouseout(function(){…}) 
```

活动在`mouseout`页面中

我可以使用任何方式来**检测事件是否开启**？

我希望检测方法返回一个布尔值供我使用。

希望看到你的回答。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:43:16.930

### 使用`$._data`，是的！

是的，您可以通过以下方式进行检查：

```
console.log($._data( $(element)[0], "events" )); 
```

### 例子

```
​$("#foo").on({
    click: function(){ alert("Hello") },
    mouseout: function(){ alert("World") }
});​​​
​$._data( $("#foo")[0], "events" ); 
```

### 输出

![输出](../Images/a5932a5a77d0845850eeaaeca530c581.png)

### 在您的代码中：

因此，您可以使用返回的对象并执行操作。

```
myEvents = ​$._data( $("#foo")[0], "events" );
// Check if the mouse event is set
if (myEvents.mouseout.length > 1)
    // Do something 
```

# javascript - Json 结果添加到 html 容器

> ID：13172917
> 
> 赞同：0
> 
> 时间：2012-11-01T07:42:12.260
> 
> 标签：javascript, json, html, cordova

我有一个通过网络服务获得的 Json 结果，现在我想看看它是否有效，我如何使 Json 值显示在按钮或链接中？和页面加载？

返回的值之一如下所示：“name”：“Muhammad Ali”，“nickname”：“The Greatest”，

对 json 和 javcascript 来说非常新。

Javascript 和 json ：

```
 function Getdata() {
    $.ajax({
        type: "POST",
        data: "{}",
        url: "https://raw.github.com/appcelerator/Documentation-Examples/master/HTTPClient/data/json.txt",
        contentType: "application/json; cherset=utf-8",
        datatype: "json",
        success: loadpage,
        failure: givealert
    });

    function loadpage(result) {
        if (resu.hasOwnProperty("d")) { result = res.d; }
        var data = JQuery.parseJSON(result);
    }

    function givealert(error) {
        alert('failed!!' + error);
    }
} 
```

现在我如何让它在标签和表单加载时显示来自 Web 服务的一个值？标签/按钮的 html 标记：

```
 <div id="listheight">
                <a type="button" id="routing" href="#datatapage"></a>
            </div> 
```

我正在使用 cordova/phonegap、Visual studi2010、html、javascript、css、jquerymobile 和 jquery1.8.2。

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:53:23.817

首先，使用这个 HTML

```
<a type="button" id="routing" href="#datatapage" onclick="Getdata()">Click</a> 
```

使用此代码在页面加载时自动调用该方法

```
$(document).ready(function() {
  // this is executed on page load
  Getdata();
}); 
```

并将您的代码更改为

```
jQuery.support.cors = true;

function Getdata() {
  var request = $.ajax({
    type: "POST",
    data: "{}",
    dataType: 'json',
    url: "data/json.txt",  // better use a relative url here
    mimeType: "application/json; cherset=utf-8",
    success: loadpage,
    failure: givealert
  });

  function loadpage(result) {
    // this only displays you the values in a messagebox for you to check if it works
    // you can remove the following two lines
    alert("Name = "+result.fighters[0].name);
    alert("Nickname = "+result.fighters[0].nickname);
    // this changes the text
    document.getElementById("routing").innerHTML = result.fighters[0].name;
  }

  function givealert(error) {
    alert('failed!!' + error);
  }
} 
```

我为此创建了一个 JSFiddle：http: [//jsfiddle.net/FUWyJ/](http://jsfiddle.net/FUWyJ/) 请注意，我发送请求的 URL 由 JSFiddle 提供，并指向我复制的[https://gist.github.com/4001105](https://gist.github.com/4001105)你的样本数据。

# c# - 如何使用 for 循环手动加载 Web 浏览器？

> ID：13172919
> 
> 赞同：0
> 
> 时间：2012-11-01T07:42:14.477
> 
> 标签：c#, browser, pageload

提前致谢..

如何在 for 循环中的每个元素单击语句后重新加载我的 Web 浏览器？？？

```
case "Assessment     Database - Initial Search Results":

objHtmlDoc = (System.Windows.Forms.HtmlDocument)webBrowser1.Document;
HtmlElementCollection row3 = (HtmlElementCollection)objHtmlDoc.GetElementsByTagName("input");
foreach (HtmlElement element in row3)
{
    if (element.GetAttribute("type").ToString() == "submit" && element.GetAttribute("name").ToString() == "View")
    {
        element.Focus();
        element.RaiseEvent("onclick");
        //webBrowser1.GoForward();
       // webBrowser1.DocumentCompleted += new WebBrowserDocumentCompletedEventHandler(webBrowser1_DocumentCompleted);
    }
}
break; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T09:55:16.627

这似乎是一个[XY 问题](http://www.perlmonks.org/index.pl?node_id=542341)。我猜您想从[http://www.jcao.org/mylkups.asp](http://www.jcao.org/mylkups.asp)和其他页面获取数据，就像手动单击按钮一样。

```
WebClient wc = new WebClient();
string page = wc.DownloadString("http://www.jcao.org/mylkups.asp");

HtmlAgilityPack.HtmlDocument doc = new HtmlAgilityPack.HtmlDocument();
doc.LoadHtml(page);

var values = doc.DocumentNode.SelectNodes("//input[@name='view']")
                .Select(t => t.Attributes["value"].Value)
                .ToList();

wc.Headers["Content-Type"] = "application/x-www-form-urlencoded";
foreach (var val in values)
{
    var newpage = wc.UploadString("http://www.jcao.org/myrec.asp", "view=" + HttpUtility.UrlEncode(val));
    Console.WriteLine(newpage);
    //
    //Now Parse that page with HtmlAgilityPack
} 
```

# ios - registerForRemoteNotification 在 .mm 文件中不起作用

> ID：13172921
> 
> 赞同：0
> 
> 时间：2012-11-01T07:42:20.723
> 
> 标签：ios, push-notification, apple-push-notifications

我正在尝试在我的应用程序委托类中编写这些代码

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {

    // Let the device know we want to receive push notifications

    [[UIApplication sharedApplication] registerForRemoteNotificationTypes:
     (UIRemoteNotificationTypeBadge | UIRemoteNotificationTypeSound | UIRemoteNotificationTypeAlert)];

    [FlurryAnalytics startSession:@"F9W2NQPF4Y587SM2Z3XU"];
    // Override point for customization after application launch.

    // Add the tab bar controller's view to the window and display.
    [self.window addSubview:tabBarController.view];
    [self.window makeKeyAndVisible];
    self.tabBarController.delegate=self;
    [self.tabBarController.tabBar setSelectedImageTintColor:[UIColor greenColor]];

    [window addSubview:OCRScreen.view];
    [window makeKeyAndVisible];
    [OCRScreen displayScreen];
    [OCRScreen.view removeFromSuperview];

    return YES;
} 
```

但它在第一行出现错误后给了我错误。OCRAppDelegate.mm：错误：语义问题：无法使用“int”类型的右值初始化“UIRemoteNotificationType”类型的参数

当我将 .mm 更改为 .m 时，它不会给出此错误。请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T07:16:08.777

只需将第一行代码更改为：

```
[[UIApplication sharedApplication] registerForRemoteNotificationTypes:(UIRemoteNotificationType)
     (UIRemoteNotificationTypeBadge | UIRemoteNotificationTypeSound | UIRemoteNotificationTypeAlert)]; 
```

现在它可以工作了。

# qt - 无法从 Debian 为 Windows 构建 QJson 应用程序

> ID：13172929
> 
> 赞同：-1
> 
> 时间：2012-11-01T07:43:11.680
> 
> 标签：qt, qt4, mingw, qjson, mxe

我的源代码：

```
#include <qjson/serializer.h>
#include <QDebug>

int main() {
   QVariantMap numbers;
   numbers.insert("one", 1);
   numbers.insert("two", 2);

   QJson::Serializer serializer;
   qDebug() << serializer.serialize(numbers);

   return 0;
} 
```

我的项目文件：

```
TEMPLATE = app
LIBS += -lqjson
SOURCES += main.cpp 
```

如果我在 Debian 上构建（并运行）它，这很有效：

```
$ qmake && make 
g++ -c -m64 -pipe -O2 -Wall -W -D_REENTRANT -DQT_WEBKIT -DQT_NO_DEBUG -DQT_GUI_LIB -DQT_CORE_LIB -DQT_SHARED -I/usr/share/qt4/mkspecs/linux-g++-64 -I. -I/usr/include/qt4/QtCore -I/usr/include/qt4/QtGui -I/usr/include/qt4 -I. -o main.o main.cpp
g++ -m64 -Wl,-O1 -o jsongen main.o    -L/usr/lib/x86_64-linux-gnu -lqjson -lQtGui -lQtCore -lpthread 
$ ./jsongen
"{ "one" : 1, "two" : 2 }" 
```

但是，如果我为 Windows 构建它，它会失败：

```
$ i686-pc-mingw32-qmake && make 
make -f Makefile.Release
make[1]: Entering directory `/home/wena/src/dcp/apps/j1939/winapp/play'
i686-pc-mingw32-g++ -c -pipe -fno-keep-inline-dllexport -O2 -frtti -fexceptions -mthreads -Wall -Wextra -DUNICODE -DQT_LARGEFILE_SUPPORT -DQT_NO_DEBUG -DQT_GUI_LIB -DQT_CORE_LIB -DQT_THREAD_SUPPORT -I'/home/wena/src/mxe/usr/i686-pc-mingw32/qt/include/QtCore' -I'/home/wena/src/mxe/usr/i686-pc-mingw32/qt/include/QtGui' -I'/home/wena/src/mxe/usr/i686-pc-mingw32/qt/include' -I'/home/wena/src/mxe/usr/i686-pc-mingw32/qt/include/ActiveQt' -I'release' -I'/home/wena/src/mxe/usr/i686-pc-mingw32/qt/mkspecs/win32-g++-4.6' -o release/main.o main.cpp
i686-pc-mingw32-g++ -Wl,-s -mthreads -Wl,-subsystem,windows -o release/jsongen.exe release/main.o  -L'/home/wena/src/mxe/usr/i686-pc-mingw32/qt/lib' -L'/home/wena/src/mxe/usr/i686-pc-mingw32/qt/lib' -lmingw32 -lqtmain -lqjson -lQtGui -lgdi32 -lcomdlg32 -loleaut32 -limm32 -lwinmm -lwinspool -lmsimg32 -lmng -llcms -L/home/wena/src/mxe/usr/i686-pc-mingw32/lib -ltiff -llzma -ljpeg -lQtCore -lpng -lole32 -luuid -lws2_32 -ladvapi32 -lshell32 -luser32 -lkernel32 -lz 
release/main.o:main.cpp:(.text.startup+0xcc): undefined reference to `_imp___ZN5QJson10SerializerC1Ev'
release/main.o:main.cpp:(.text.startup+0xf2): undefined reference to `_imp___ZN5QJson10Serializer9serializeERK8QVariant'
/home/wena/src/mxe/usr/lib/gcc/i686-pc-mingw32/4.7.2/../../../../i686-pc-mingw32/bin/ld: release/main.o: bad reloc address 0xf2 in section `.text.startup'
/home/wena/src/mxe/usr/lib/gcc/i686-pc-mingw32/4.7.2/../../../../i686-pc-mingw32/bin/ld: final link failed: Invalid operation
collect2: error: ld returned 1 exit status
make[1]: *** [release/jsongen.exe] Error 1
make[1]: Leaving directory `/home/wena/src/dcp/apps/j1939/winapp/play'
make: *** [release] Error 2 
```

请注意，交叉构建环境，例如**Qt** (4.8.3)、**QJson** (0.7.1) 和，是在[MXE](http://mxe.cc/)`i686-pc-mingw32-qmake`的帮助下构建的：

```
$ cd <path to mxe root>
$ make qjson
(wait about an hour on a recent machine with decent internet connection)
$ export PATH=<path to mxe root>:$PATH 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T14:09:15.480

我选择了更简单的解决方案，将[qt-json](https://github.com/ereilin/qt-json)（一个更简单的替代方案）放入我的存储库。所需的更改并不多：

```
$ cat main.cpp 
#include "qt-json/json.h"
#include <QDebug>

int main() {
   QVariantMap numbers;
   numbers.insert("one", 1);
   numbers.insert("two", 2);

   QtJson::Json json;
   qDebug() << json.serialize(numbers);

   return 0;
}
$ cat jsongen.pro 
TEMPLATE = app
SOURCES += main.cpp
HEADERS += qt-json/json.h
SOURCES += qt-json/json.cpp 
```

# javascript - 发布时如何显示链接的摘要

> ID：13172936
> 
> 赞同：3
> 
> 时间：2012-11-01T07:44:00.867
> 
> 标签：javascript, ruby-on-rails, html, ruby-on-rails-3.2

我正在构建一个微博应用程序，我希望一旦将链接发布在文本区域并显示在展示页面上，它将被转换为带有标题、图像和简要说明的简短摘要，就像它在谷歌+和脸书。

是否有可以处理此问题的 javascript 或 rails gem？

我正在使用 bluecloth 和 markdown 来处理通过 textarea 发布的链接的 html 属性，我想知道如何显示链接的摘要或如何扩展发布的链接。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-01T07:51:07.757

有一个简洁的 jquery 插件可以实现这一点。

[https://github.com/embedly/jquery-preview](https://github.com/embedly/jquery-preview)

# ui-automation - 如何在 IOS UIAutomation 的警报消息中选择要选择的按钮

> ID：13172937
> 
> 赞同：3
> 
> 时间：2012-11-01T07:44:08.840
> 
> 标签：ui-automation

当警报具有是和否按钮时如何单击警报消息按钮。

我试过这样的方式：

```
target.frontMostApp().alert().buttons()["buttonName"].tap();
target.frontMostApp().alert().buttons()["index"].tap(); 
```

并且 Ui Automation 单击任一按钮并将以下语法显示为：

```
target.frontMostApp().alert().cancelButtons().tap(); 
```

当我手动单击默认按钮时它不起作用。并且还尝试了以下方法。

```
target.frontMostApp().alert().cancelButtons()["index/buttonname"].tap();
target.frontMostApp().alert().defaultButtons()["index/buttonname"].tap(); 
```

如何从警报消息中选择是按钮或否按钮？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-08T13:42:39.873

啊，您需要在 onAlert 中使用此代码。

您还需要在 try catch 块中再次点击。

我的代码 where 用于删除表中的一行并确认删除按钮上显示的警报。

```
target.frontMostApp().mainWindow() .tableViews()["Empty list"].cells()[0]
  .dragInsideWithOptions({startOffset:{x:0.03, y:0.44}, 
  endOffset:{x:0.81, y:0.50},duration:1}); 

target.frontMostApp().mainWindow().tableViews()["Empty list"].cells()[0]
  .buttons()[0].tap();

UIATarget.onAlert = function onAlert(alert) {
    alert.tapWithOptions({tapOffset:{x:0.73, y:0.72}});
}

try {
    target.frontMostApp().alert().tapWithOptions({tapOffset:{x:0.72, y:0.78}});
}
catch (ex) {} 
```

# java - js中转义双引号等特殊字符

> ID：13172945
> 
> 赞同：0
> 
> 时间：2012-11-01T07:44:58.330
> 
> 标签：java, javascript, html, jsp

我在java中有类似的东西

```
stringBuffer.append("<a onclick=\"javascript:setPName('"+StringEscapeUtils.escapeJavaScript(tmpResult)+"');\"><small> "+StringEscapeUtils.escapeJavaScript(tmpResult)+"</small></a>"); 
```

在 Firebug 的控制台上检查相同的内容时，它是正确的。但是当我从 IE 开发人员工具中检查时，我得到以下信息：

`<A onclick="javascript:setPName('TEST\" AKHIL?);?><SMALL>TEST\"AKHIL</SMALL></A>`

问题是浏览器仍然无法识别它。我曾使用 StringEscapeUtils.escapeJavaScript 来转义单引号，但它不适用于双引号。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:49:09.997

问题是您在以相同字符分隔的 HTML 属性值中`"`使用字符*。*

```
onclick="javascript:setPName('TEST\" <!-- attribute value ends here --> 
```

JavaScript 无关紧要。

您需要为 HTML ( `&quot;`) 而不是 JS 转义。

你可以通过编写[不显眼的 JavaScript](http://en.wikipedia.org/wiki/Unobtrusive_JavaScript)来完全避免这个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T07:52:35.813

把[']改成["]，试试看。（请去掉"javascript:"）

```
stringBuffer.append("<a onclick=\"setPName(\""+StringEscapeUtils.escapeJavaScript(tmpResult)+"\");\"><small> "+StringEscapeUtils.escapeHtml(tmpResult)+"</small></a>"); 
```

或者将值设置为属性（参数）。

```
stringBuffer.append("<a param=\""+StringEscapeUtils.escapeHtml(tmpResult)+"\" onclick=\"setPName(this.getAttribute('param'))\"><small> "+StringEscapeUtils.escapeHtml(tmpResult)+"</small></a>"); 
```

# spring - 在单个测试运行中加载应用程序上下文

> ID：13172946
> 
> 赞同：1
> 
> 时间：2012-11-01T07:44:58.980
> 
> 标签：spring, junit, webdriver

这是我的测试上下文

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xmlns:mvc="http://www.springframework.org/schema/mvc" 
xmlns:p="http://www.springframework.org/schema/p" 
xmlns:aop="http://www.springframework.org/schema/aop" 
xmlns:tx="http://www.springframework.org/schema/tx" 
xmlns:context="http://www.springframework.org/schema/context" 
xsi:schemaLocation="http://www.springframework.org/schema/beans 
http://www.springframework.org/schema/beans/spring-beans-3.0.xsd 
http://www.springframework.org/schema/aop
http://www.springframework.org/schema/aop/spring-aop-3.0.xsd 
http://www.springframework.org/schema/tx
http://www.springframework.org/schema/tx/spring-tx-3.0.xsd 
http://www.springframework.org/schema/mvc 
http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd
http://www.springframework.org/schema/context 
http://www.springframework.org/schema/context/spring-context-3.0.xsd">

    <bean id="firefoxDriver" class="org.openqa.selenium.firefox.FirefoxDriver"/>

    <bean id="htmlUnitDriver" class="org.openqa.selenium.htmlunit.HtmlUnitDriver"/>

</beans> 
```

所有测试类的父类，我在其中注入 bean

```
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration( "/testContext.xml") 

public class VisibleTestSuite {

    private static WebDriver  driver;

@AfterClass
  public static void tearDown() throws InterruptedException {
      Thread.sleep(3000);
  }
    /**
     * @return the driver
     */
    public WebDriver getDriver() {
        return driver;
    }

    /**
     * @param aDriver the driver to set
     */
    @Resource(name="firefoxDriver")
    public  void setDriver(WebDriver Driver) {
        driver = Driver;
    }
} 
```

我使用 Netbeans 7.0。这很好用，当我在 Build 中运行所有测试时，但是当我尝试通过选择测试文件来运行单个测试类时，我得到

```
Failed to load ApplicationContext
java.lang.IllegalStateException: Failed to load ApplicationContext
    at org.springframework.test.context.TestContext.getApplicationContext(TestContext.java:157)
    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:109)
    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:75)
    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:321)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:211)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:288)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:284)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:88)
    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)
Caused by: org.springframework.beans.factory.xml.XmlBeanDefinitionStoreException: Line 11 in XML document from class path resource [testContext.xml] is invalid; nested exception is org.xml.sax.SAXParseException: cvc-elt.1: Cannot find the declaration of element 'root'.
    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:396)
    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:334)
    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302)
    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:174)
    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:209)
    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)
    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:243)
    at org.springframework.test.context.support.AbstractGenericContextLoader.loadBeanDefinitions(AbstractGenericContextLoader.java:217)
    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:102)
    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:57)
    at org.springframework.test.context.support.DelegatingSmartContextLoader.loadContext(DelegatingSmartContextLoader.java:228)
    at org.springframework.test.context.TestContext.loadApplicationContext(TestContext.java:124)
    at org.springframework.test.context.TestContext.getApplicationContext(TestContext.java:148)
Caused by: org.xml.sax.SAXParseException: cvc-elt.1: Cannot find the declaration of element 'root'.
    at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)
    at org.apache.xerces.util.ErrorHandlerWrapper.error(Unknown Source)
    at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
    at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
    at org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)
    at org.apache.xerces.impl.xs.XMLSchemaValidator.handleStartElement(Unknown Source)
    at org.apache.xerces.impl.xs.XMLSchemaValidator.startElement(Unknown Source)
    at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)
    at org.apache.xerces.impl.XMLNSDocumentScannerImpl$NSContentDispatcher.scanRootElementHook(Unknown Source)
    at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)
    at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)
    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
    at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
    at org.apache.xerces.parsers.DOMParser.parse(Unknown Source)
    at org.apache.xerces.jaxp.DocumentBuilderImpl.parse(Unknown Source)
    at org.springframework.beans.factory.xml.DefaultDocumentLoader.loadDocument(DefaultDocumentLoader.java:75)
    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:388) 
```

请帮助我在单次测试运行时也加载应用程序上下文！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T08:28:04.053

我用这样的单独配置运行我的 JUnit：

在单个 TestClass 中：

```
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration( {"file:WebContent/WEB-INF/ap-junit-config/junit-main.xml"} ) 
```

junit-main.xml（示例）：

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:p="http://www.springframework.org/schema/p" xmlns:context="http://www.springframework.org/schema/context"
        xmlns:tx="http://www.springframework.org/schema/tx"
        xsi:schemaLocation="
            http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
            http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd">

    <import resource="../ap-context-config/message.xml"/>
    <import resource="../ap-context-config/hibernate.xml"/>
    <import resource="../ap-context-config/service.xml"/>

    <import resource="junit-dataSource.xml"/>

    <import resource="junit-hibernateProperties.xml"/>

</beans> 
```

此 xml 将从默认的 Context Config 加载一些配置，以及一些仅用于 junit 运行的特殊配置（如其他数据库或您想要的任何内容）。您触发的单个测试类必须在开始之前加载整个弹簧上下文。

我希望它会有所帮助。

# html - unicode 字符显示不正确

> ID：13172948
> 
> 赞同：0
> 
> 时间：2012-11-01T07:45:03.633
> 
> 标签：html, sql

目前，我将以下 unicode 字符串存储在数据库中。

\u4ece\u4e0b\u5468\u4e00\u8d77\uff0c\u5947\u5f02

如果我通过 php 将它发送到苹果 APNS 服务器，它会在 iphone 上正确显示。但是，如果我想在网站上显示这些字符（中文字符），它不会以中文字符显示它们，而是纯粹显示为 \u4ece\u4e0b\u5468\u4e00\u8d77\uff0c\u5947\u5f02

任何人都可以帮助我如何正确显示它们？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T07:52:21.970

那不是“Unicode”，那些是 Unicode 转义序列。这：“下”是一个Unicode字符。这： "\u4e0b" 是字符串*"backslash you 4 ee zero bee"*。¹如果您将该转义序列与 JSON 完全相同，则在解码 JSON 时它恰好解析为正确的字符。那是因为转义序列恰好在 JSON 中使用。不过，这暗示了另一个问题，即您正在手动创建 JSON，如下所示：

```
$apns = "{\"message\":\"$unicodeEscape\"}"; 
```

不要那样做。用您选择的编程语言创建一个原生数组并对其进行 JSON 编码：

```
$apns = json_encode(array('message' => '从下周一起，奇异')); 
```

如果您当前这样做，字符串也会在 iPhone 上显示为“\u4ece...”，因为字符串内容会正确地进行 JSON 转义以保留其原始内容。

对于 HTML 来说，这些转义序列一开始并没有什么特别的意义，它们当然不代表汉字。

将*实际*的中文字符存储在您的数据库中，例如以 UTF-8 编码，而不是仅在某些上下文中相关的转义序列。

我建议您阅读[http://kunststube.net](http://kunststube.net)上的大多数文章以获取更多详细信息。

* * *

由于它们显然是 JSON 转义，因此将它们从当前格式转换回来的最简单方法应该是将它们解析为 JSON：

```
$string = json_decode("\"$string\""); 
```

这仅在字符串不包含任何会使 JSON 语法无效的内容时才有效，例如`"`. 否则，您可以调整[此解决方案](https://stackoverflow.com/a/7278961/476)。

* * *

¹（该字符串也由“Unicode 字符”组成，因为这些字符中的每一个都可以用 Unicode 表示。）

# ole - DSOFile.OleDocumentProperties.Save 是否修改文件？

> ID：13172949
> 
> 赞同：2
> 
> 时间：2012-11-01T07:45:04.100
> 
> 标签：ole, dsofile

`DSOFile.OleDocumentProperties.Save`修改与 NTFS 上的文件关联的元数据。

它会修改文件本身，这意味着校验和会改变吗？
或者它是否只修改了一些关于文件的 NTFS 元数据，但校验和将保持不变？

更多关于 DSOFile: [KB](http://support.microsoft.com/kb/224351) , [Technet](http://technet.microsoft.com/en-us/library/ee692828.aspx)

*[信用：这实际上是 Ilmo 在这个问题](https://stackoverflow.com/a/13172244/226958)中的自我审问。*

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-06T04:14:44.043

这取决于文件格式和文件所在的文件系统。

如果文件是 OLE 格式，则文件本身将被修改，因为文件中包含属性。这将导致文件数据被修改，其大小可能会改变。任何文件散列生成器（例如 CRC、MD5、SHA1 等）在更改其中一个属性之前和之后都会产生不同的结果。

如果文件不是 OLE 格式，则所有属性都将保存在一个或多个 NTFS 文件流中，这些文件流与文件数据在物理上是分开的。这将导致文件的最后修改时间发生变化，但不会导致文件数据被修改或大小发生变化。假设程序不考虑文件的最后修改时间及其文件流，文件哈希生成器将在更改属性之一之前和之后产生相同的结果。在非 NTFS 文件系统的情况下，OLE 文档属性不适用于所有文件。

# objective-c - 缺少方法声明的上下文、预期的方法主体、@end 必须出现在 Objective-C 上下文中

> ID：13172953
> 
> 赞同：0
> 
> 时间：2012-11-01T07:45:11.810
> 
> 标签：objective-c, interface, compiler-errors, syntax-error

我只是错过了一些非常愚蠢的东西吗？

评论是错误：

```
#import <Foundation/Foundation.h>

@interface BWStack : NSObject <NSCoding>

@property (readonly, nonatomic) id topObject;

-(void)pushObject:(id)object; // Missing context for method declaration
-(id)popObject; // Expected method body

@end // @end must appear in an Objective-C context 
```

通过清理、删除派生数据并重新启动，即使（按该顺序）这些错误仍然存​​在。将文件放在不同的项目中，没有错误。

# database - 关联表中的主键

> ID：13172955
> 
> 赞同：3
> 
> 时间：2012-11-01T07:45:12.027
> 
> 标签：database, associations, primary-key, composite-primary-key

假设有一个带有表`Person(ID, Name)`和`Product(ID, Name, Color)`. ID 列显然是每个表的主键。我想像往常一样添加一个关联 Many-to-Many table `Order(PersonID, ProductID, Date)`。我的印象是 Order 表的 Primary Key 是组合`(PersonID, ProductID)`。但是在某些方法中，`(PersonID, ProductID, Date)`建议将组合作为主键。有什么区别？我认为即使`(PersonID, ProductID)`是主键，每个组合也`(PersonID, ProductID)`只对应一个日期。如果后者是真的，什么时候应该在主键中包含日期？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T08:46:41.253

如果只有一个日期与人员/产品组合相关联，则 PK 应该是`(PersonID, ProductId)`。如果可以有多个这样的关联，您应该只`Date`在 PK 中包含 ，并且日期是它们的区别。如果您在不需要时将 Date 包含在 PK 中，如果您尝试创建具有相同 Person/Product 但不同日期的重复行，数据库将不会报告错误。

更新：

您关于添加 ID 列的评论使我意识到这不太正确。您只需要声明`(PersonID, ProductID)`为唯一键，它不必是主键。然后，您可以将 ID 字段作为主键；唯一键将防止重复。如果您将 PK 添加`Date`到 PK 中，则可以执行相同的操作。

但是，在正确规范化的数据库中，主键应该是表中唯一的唯一键。关系是 Key->Data 的映射，PK 应该反映这个映射。

# android - WiFiCameraApp 中的蓝牙视频流

> ID：13172962
> 
> 赞同：2
> 
> 时间：2012-11-01T07:45:59.870
> 
> 标签：android, ios, video, bluetooth

今天我看到很多人有兴趣寻找使用移动设备通过蓝牙流式传输视频的解决方案，但我还没有找到任何方便的意见来描述应该做什么来实现这种功能。

一方面，我有相当抽象的信息，对于成功的视频流，两个设备都应该符合视频分发配置文件（VDP），这是蓝牙配置文件数量之一。

另一方面，我知道 iOS 和 Android 都没有提供使用 VDP 的 API。

App Store 中有 WiFi Camera 应用程序，它允许通过蓝牙将视频从一个 ios 设备流式传输到另一个设备，所以我想知道这个功能是如何实现的，有没有办法使用 Android 和 iOS API 来做同样的事情？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-01T08:03:22.730

VPD 位于蓝牙的低层协议 L2CAP 中，它有点像 UDP（在无连接的方面，因此速度更快），并使用 SDP 记录来广播有关设备上服务的信息。L2CAP/SDP 可通过 BlueZ 堆栈在 Android 上访问。所有的 VDP、A2DP 和其他服务都生活在这个级别。我已经通过在 VP8 中编码的 L2CAP 将视频从 Android 手机流式传输到 Windows，因此这是可能的，但是根据制造商的不同，存在限制 - 例如，至少在 2.1 中的 HTC 不允许访问蓝牙守护程序，所有 BlueZ 调用因访问限制错误而失败，而相同的代码在摩托罗拉和索尼爱立信上运行良好。关于 iOS，据我调查，他们不允许与 L2CAP 直接交互，我猜这是因为操作系统可能想要发布它' 在 L2CAP 级别拥有自己的服务，如果 3rd 方软件开始在那里添加太多记录，它们可能会开始冲突。因此，iOS 的最佳选择是 RFCOMM 协议，它在堆栈中更高，类似于 TCP。基本上它在某种程度上是 2 个节点之间的串行连接，没有服务条目或其他任何东西，因此您需要创建自己的协议。如果有任何其他知识可以分享，我可以提供帮助，我还可以从我的论文中提供一些关于这个主题的速度基准。

# cuda - 在 Windows 7 中使用 NVIDIA GeForce gt 520 显卡编译 CUDA 程序有什么要求

> ID：13172972
> 
> 赞同：-2
> 
> 时间：2012-11-01T07:47:29.557
> 
> 标签：cuda

我已经知道c编程。我正在学习编写 CUDA 代码，但不知道要使用哪个免费编译器....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T09:44:45.687

CUDA 代码应该使用 NVIDIA 的编译器 - nvcc 编译。您可以从他们的网站下载它以及必要的工具包库。

* * *

正如罗伯特在评论中建议的那样——这是一个很好的起点：[http ://www.nvidia.com/getcuda](http://www.nvidia.com/getcuda)

# java - 在现有方法中添加新异常而不影响遗留代码

> ID：13172978
> 
> 赞同：11
> 
> 时间：2012-11-01T07:47:53.613
> 
> 标签：java, exception

我在一次采访中被问到这个问题。

我有一个方法说`public int add(int i, int j)`，这种方法已经被许多客户使用。

现在我必须对 add 方法进行更新（可能是一些增强），这会创建一个我必须抛出异常的场景。我怎样才能让现有客户继续使用该`add()`方法而无需更改代码？ **[面试官提示：客户可能会或可能不会使用我在 add 方法中所做的任何新增强]**

首先，我想到了重载 add，将 add 包装在一个抛出异常的新 add 方法中。然后我想到[`RuntimException`](http://docs.oracle.com/javase/7/docs/api/java/lang/RuntimeException.html)从添加抛出异常......

但没有一个被认为是正确的方法。

我缺少任何模式或设计方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T08:01:27.650

## 方法一：利用 Wrapper Class Integer

```
public class B {
    public int add(int i, int j) {
        return 0;
    }

    public int add(Integer i, Integer j) throws Exception {
        return 0;
    }
} 
```

## 方法2：使用覆盖

您可以利用`overriding method can choose not to throw exception at all`.

您可以做的是声明一个`Parent`类，该类将具有方法`exception`和`child`类，该类`does not have the exception`将覆盖父类的方法。现在，当您希望客户端使用`add`异常时，请使用 type`A`传递引用，否则使用 type 传递引用`B`：

```
class A { // <---New Class
    public int add(int i, int j) throws Exception { // <-- Method with Exception
        return 0;
    }
}

class B extends A { // <----Original Class
    @Override
    public int add(int i, int j) { // <--- Original Method
        return 0;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-25T21:09:43.290

如果客户端不旧，您可以添加新的 add(int i, int j, boolean isOldClient) 方法并引发运行时异常。（也许使用更好的名称而不是 isOldClient）。

然后做这样的事情

```
// legacy method
public int add(int i, int j) {
    return add(i, j, true);
}

// new add method
public int add(int i, int j, boolean isOldClient) {
    ...
    if (!oldClient) {
       ...                          // add code that throw exception
       throw new RuntimeException();
    }
    ...
} 
```

新客户端可以使用带有额外参数的新添加方法。

# php - 提取 Json 数据并以 HTML 形式显示

> ID：13172980
> 
> 赞同：0
> 
> 时间：2012-11-01T07:48:04.283
> 
> 标签：php, html, json

```
{"hari.com":{"status":"regthroughothers","classkey":"domcno"},"hari.net":{"status":"regthroughothers","classkey":"dotnet"}} 
```

我们需要使用 php 运行循环并以下面的格式显示它就像我们需要使用 PHP、JSON 和 HTML 表单在 HTMl 表单中显示 TR 和 TD 的标签一样

像：

```
Hari.com    regthroughothers    price  
Hari.net    regthroughothers    price 
```

任何人都可以在表格中显示，而且我需要在单独的 TD 中打印状态和在单独的 TD 上的价格。请像上面的示例一样帮助我基于 TLD 的我想显示输出。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T07:57:44.950

```
 <?php
 $json1='{"hari.com":{"status":"regthroughothers","classkey":"domcno"},"hari.net":      {"status":"regthroughothers","classkey":"dotnet"}}';

$json1 = json_decode($json1);

 foreach($json1 as $key=>$sel_rows)     
  {
      echo $key . " " . " welcome " . " price"; 
       echo " status: ". $sel_rows->status;
      echo "\n";                                             
  }
?> 
```

# video - 黑莓中的录像机问题

> ID：13172983
> 
> 赞同：1
> 
> 时间：2012-11-01T07:48:38.567
> 
> 标签：video, blackberry, recorder

我在我的应用程序中实现了视频录制功能，它可以在所有流行的 BB 设备上正常工作，操作系统版本为 6.0 及更高版本，除了 BB Torch。

在 BB Torch 中，录音机只显示了设备屏幕的一半。当我尝试设置 displaySize 或 displayFullScreen 时，它会抛出不支持这些功能的媒体异常。但是在 BB Bold/Curve 等中，它不会抛出这个异常。

有什么办法可以解决这个问题吗？请帮助....提前谢谢！

请在下面找到代码片段。

```
public void videoPlayer() {
    try
    {
        // Start capturing video from the camera
        m_oPlayer = javax.microedition.media.Manager
                .createPlayer("capture://video?" + strEncoding);

        m_oPlayer.realize();

        m_oPlayer.start();
        m_oVideoControl = (VideoControl) m_oPlayer
                .getControl("VideoControl");

        m_oRecordControl = (RecordControl) m_oPlayer
                .getControl("RecordControl");

        m_oZoomControl = (ZoomControl) m_oPlayer
                .getControl("javax.microedition.amms.control.camera.ZoomControl");

        // Initialize the video display
        Field oVideoField = (Field) m_oVideoControl.initDisplayMode(
                VideoControl.USE_GUI_PRIMITIVE,
                "net.rim.device.api.ui.Field");
        /**
         * To make the video recorder layout fit the entire size of the device.
         */
        try {

            m_oVideoControl.setDisplaySize(Display.getWidth(), Display.getHeight());

        } catch (MediaException mex) {
            //System.out.println(mex);
            videoExceptionAction(mex.getMessage());
        }
        VerticalFieldManager oVfmMainManager = (VerticalFieldManager) this.getMainManager();
        oVfmMainManager.add(oVideoField);
        m_strVideoFile = strFilePath;
        m_oOutStream = new ByteArrayOutputStream();

    }
    catch (Exception e)
    {
        videoExceptionAction(e.getMessage());
    }
} 
```

# xaml - 在 XAML 中找不到 DoubleClick

> ID：13172984
> 
> 赞同：20
> 
> 时间：2012-11-01T07:48:57.317
> 
> 标签：xaml, double-click

我在 XAML 中有一个 ListView 控件。这些项目由一个模板控件定义，该控件在网格内具有一个 TextBlock。现在我想在双击 TextBlock 时触发一个动作。令我惊讶的是，我发现没有可以连接的 DoubleClick 事件......！我以为只是 TextBlock 没有它，但实际上没有控件有它。我寻找 DoubleClick 和 MouseDoubleClick 但它们肯定不存在。

我已经阅读了使用 Gesture="MouseDoubleClick" 将 EventTrigger 添加到控件的建议。它看起来很有希望，但在我的情况下，编译器会抱怨并告诉我没有像 MouseDoubleClick 这样的手势。与 DoubleClick 相同。

DoubleClick 在某些版本的 .Net 中消失了吗？我有 .Net Framework 4.5，项目是 WPF 应用程序。

我是否必须通过检测 MouseDown 并检查自上次 MouseDown 以来经过的时间来做愚蠢的解决方法？听起来像石器时代...

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-11-01T07:48:57.317

制定您的问题总是令人耳目一新！想了一会儿，我想也许他们在鼠标事件中添加了一个计数器，而不是单独的事件。好像是这样啊！！！MouseButtonEventArgs 有一个 ClickCount 属性。检查值 2 时，我检测到我的 DoubleClick！

只是踢出 DoubleClick 还是有点奇怪。即使在搜索之后，我也找不到关于它何时以及为什么消失的参考。

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2012-11-01T10:13:00.363

只是为了展示解决方案 Jakob 的意思是：

```
private void img_MouseDown(object sender, MouseButtonEventArgs e)
        {
            if (e.LeftButton == MouseButtonState.Pressed && e.ClickCount == 2)
            {
                //DO SOMETHING
            }
        } 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2019-04-11T08:54:41.620

使用内容 ContentControl，卢克！

```
<ContentControl MouseDoubleClick="OnDoubleClick"> 
    <TextBlock Text="Hello" FontSize="15" /> 
</ContentControl> 
```

# svn - 颠覆“替换”行动

> ID：13172987
> 
> 赞同：5
> 
> 时间：2012-11-01T07:49:06.540
> 
> 标签：svn, tortoisesvn

1.  我创建一个分支，
2.  然后我在该文件夹（即分支）中添加一个新文件夹和一个新文件，
3.  然后我执行一个`svn add`and `svn commit`。

然后我`svn merge`回到我的后备箱。当我然后`svn commit`到我的树干时，新文件夹得到“添加”，但文件夹内的文件得到“替换”操作。

**为什么我会在此文件上获得替换状态？**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-01T11:22:54.150

根据[TortoiseSVN 手册](http://tortoisesvn.net/docs/release/TortoiseSVN_en/) **更换**状态表示：

> 原始项目已被删除，并用相同名称的新项目替换它。

所以显然你应该仔细检查你已经执行的操作。您是否有具有相同文件夹和文件的旧版本（我的意思是它们的名称）？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T18:56:40.893

您的本地副本中是否有任何已删除（本地）且未提交的文件夹/文件？如果您的主干中有一个文件夹/文件已在本地删除，则必须将该删除提交到存储库。

您的情况听起来可能没有并发本地副本。例如，您可能已删除本地副本中的文件夹/文件但未提交。然后，当您尝试将分支与本地副本合并时，本地删除的文件夹/文件（标记为删除，但未提交）将被分支的同名文件夹替换。由于先前未提交文件夹/文件删除，因此正式状态变为“已替换”。

# c++ - 资源容器的包装器

> ID：13172991
> 
> 赞同：2
> 
> 时间：2012-11-01T07:49:18.540
> 
> 标签：c++, memory-management, boost, c++11

我经常发现自己使用原始指针或其他资源的容器在本地工作，其中资源是动态分配的。为了确保在发生异常或其他返回条件时不会泄漏资源，我为容器使用了一个简单的包装器，该容器具有释放资源的析构函数。为了将其概括为一个有用的实用程序，我想出了这个结构（请忽略模板模板参数的问题，这不是重点）：

```
template<typename Resource, 
        template <typename ELEM, 
        typename ALLOC=std::allocator<ELEM>> 
        class Container=std::vector>
struct ResourceContainer {
    Container<Resource*> resources;
    ~ResourceContainer() {
        std::for_each(resources.begin(), resources.end(), [](Resource* resource) { 
            delete resource; // more generally, use a template functor to free the resource
        });
    }
}; 
```

示例用法：

```
class Bar;
void foo() {
    ResourceContainer<Bar> bars;
    for (int i=0; i<10; ++i) {
        bars.resources.push_back(new Bar());
    }
} 
```

问题是，作为一个通用实用程序，我不得不开始担心这个结构的范围，并阻止用户复制它、返回它等等……总的来说，我希望它的行为类似于 boost::scoped_ptr。有谁知道这方面的现有解决方案？我可以做一个简单的修改来防止可用性错误？

我不能使用智能指针向量，因为我不拥有需要原始指针容器的遗留代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T08:34:27.563

听起来[Boost Pointer Container Library](http://www.boost.org/libs/ptr_container/)正是您所需要的。从动机部分：

> 每当程序员想要拥有一个指向堆分配对象的指针容器时，通常只有一种异常安全的方法：制作一个智能指针容器，如 boost::shared_ptr 这种方法不是最理想的，如果
> 
> 1.  存储的对象不是共享的，而是独占的，或者
>     
>     
> 2.  智能指针隐含的开销是不合适的
>     
>     
> 
> 因此，该库提供了类似标准的容器，用于存储堆分配或克隆的对象（或者在映射的情况下，映射的对象必须是堆分配的或克隆的对象）。对于每个标准容器，都有一个指针容器等价物，它以异常安全的方式获取对象的所有权。

# xml - 将 GML 转换为 OWL

> ID：13172994
> 
> 赞同：3
> 
> 时间：2012-11-01T07:49:47.060
> 
> 标签：xml, converter, owl, gml

我有一个区域的 .gml 和 .xsd 文件，我想将其转换为 OWL。任何人都可以建议我这是最好的方法吗？

我发现在一些安静的旧论文中使用了 XSLT 样式表。它仍然是一个好方法吗？

# c# - 下拉列表错误

> ID：13172997
> 
> 赞同：2
> 
> 时间：2012-11-01T07:50:04.530
> 
> 标签：c#

在 .net win 表单应用程序中。我像这样加载下拉列表。

```
 private void loadChannelCombo()
        {
            string sql = "select channelID,channelName from rechannel where isActive=1 order by channelName";
            DataTable dt = DBHandler.GetData(sql);
            ddlChannel.DataSource = dt;
            ddlChannel.DisplayMember = "channelName";
            ddlChannel.ValueMember = "channelID";
        } 
```

现在我想在.net web aaplication 中做同样的事情。当我复制粘贴代码错误发生 ![在此处输入图像描述](../Images/f12d696b41c20ccbdff45ba5e54e6737.png)

我想做与 Web 应用程序相同的操作。我怎样才能做到这一点？？？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T07:52:40.823

在 asp.net 中，datatextfield 和 datavaluefield 是 displaymember 和 valuemember 的确切替代品。使用它们！

# android - 我需要完整的编译zxing源代码

> ID：13172999
> 
> 赞同：-2
> 
> 时间：2012-11-01T07:50:16.860
> 
> 标签：android, zxing

谁能帮我在哪里可以找到完整的编译zxing条码扫描器源代码而无需安装apk文件？我看到所有安装 apk 文件的教程。

此代码无法正常工作。请帮我。

```
import android.app.Activity;
import android.content.ActivityNotFoundException;
import android.content.Intent;
import android.os.Bundle;
import android.util.Log;
import android.view.Gravity;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.Toast;

public class MainActivity extends Activity {

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    try {
        Button scanner = (Button)findViewById(R.id.scanner);
        scanner.setOnClickListener(new OnClickListener() {

            public void onClick(View v) {
                Intent intent = new Intent("com.google.zxing.client.android.SCAN");
                intent.putExtra("SCAN_MODE", "QR_CODE_MODE");
                startActivityForResult(intent, 0);
            }

        });

        Button scanner2 = (Button)findViewById(R.id.scanner2);
        scanner2.setOnClickListener(new OnClickListener() {

            public void onClick(View v) {
                Intent intent = new Intent("com.google.zxing.client.android.SCAN");
                intent.putExtra("SCAN_MODE", "PRODUCT_MODE");
                startActivityForResult(intent, 0);
            }

        });

    } catch (ActivityNotFoundException anfe) {
        Log.e("onCreate", "Scanner Not Found", anfe);
    }

 }

 public void onActivityResult(int requestCode, int resultCode, Intent intent) {
    if (requestCode == 0) {
        if (resultCode == RESULT_OK) {
            String contents = intent.getStringExtra("SCAN_RESULT");
            String format = intent.getStringExtra("SCAN_RESULT_FORMAT");
            // Handle successful scan
            Toast toast = Toast.makeText(this, "Content:" + contents + " Format:" +  
          format , Toast.LENGTH_LONG);
            toast.setGravity(Gravity.TOP, 25, 400);
            toast.show();
        } else if (resultCode == RESULT_CANCELED) {
            // Handle cancel
            Toast toast = Toast.makeText(this, "Scan was Cancelled!",         
        Toast.LENGTH_LONG);
            toast.setGravity(Gravity.TOP, 25, 400);
            toast.show();

        }
    }
 } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T08:33:29.227

1.  下载蚂蚁[http://ant.apache.org/bindownload.cgi](http://ant.apache.org/bindownload.cgi)
2.  运行 > cmd
3.  > cd (你提取的 ant 目录)
4.  > ant -f (你的Zxing源码目录)/core/build.xml
5.  转到（Zxing 源代码目录）/core/ 并将 core.jar 移动到您的（android 项目）/libs
6.  在 Eclipse 中右键单击您的 Zxing 项目 > 属性 > Java 构建路径
7.  库选项卡 > 添加 JAR 并在您的项目下选择该 core.jar

现在试试