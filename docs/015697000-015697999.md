# StackOverflow 问答 15697000-15697999

# ruby-on-rails - Rails check_box_tag如何在ajaxily检查时传递值

> ID：15697000
> 
> 赞同：6
> 
> 时间：2013-03-29T03:46:20.977
> 
> 标签：ruby-on-rails, ruby, ajax, ruby-on-rails-3, ruby-on-rails-3.2

在我的任务模型的索引页面上，我想为与任务数据库表中的布尔字段“完成”对应的每一行显示一个复选框。

目前我的代码进入了“完成”方法，但它不包含用户刚刚所做的复选框的值（即，如果他们只是选中了该框，它不会将 true 传递给我的“完成”方法）。

我如何传递用户刚刚执行的值 - 选中或未选中？

/views/tasks/index.html.erb

```
<% @tasks.each_with_index do |task, i| %>
    <tr>
        <td><%= check_box_tag 'Complete', task.complete, task.complete, :data => {:remote => true, :url => url_for( :action => 'complete', :id => task.id, :complete => task.complete ), :method => :put}, :class => 'input-large' %></td>
    </tr>
<% end %> 
```

/controllers/tasks_controller#complete

```
# PUT /complete/1
  def complete
    @task = Task.find(params[:id])
    p "inside complete"
    p "complete = #{params[:complete]}"
    @task.complete = 

      if @task.update_attributes(params[:task])
        p "inside update"
        render :text => "success" 
      else
        p "inside error"
      end

  end 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2016-06-18T14:34:57.077

rails/jquery-ujs github repo中这个问题的建议对我有用：[https ://github.com/rails/jquery-ujs/issues/440#issuecomment-197029277](https://github.com/rails/jquery-ujs/issues/440#issuecomment-197029277)

对你来说，这将是：

```
<%= check_box_tag 'complete', '1', task.complete, {
  onchange: "$(this).data('params', 'complete=' + this.checked)",
  data: { url: url_for(action: 'complete', id: task.id,), remote: true, method: :patch },
} %> 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-29T05:00:27.903

如果你使用 jQuery，你可以编写一个点击事件。

```
$('.input-large').click(function() {
  var checked; 
  if ($(this).is(':checked')) {
    checked = true;
  } else {
    checked = false;
  } 
  $.ajax({
      type: "POST",
      url: "/tasks/complete",
      data: { id: $(this).data('post-id'), checked: checked }
   });     
}); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-01-07T00:52:17.883

从 Rails 4 开始，您应该能够从原始答案中抛弃所有 JS。由于 jQuery UJS 魔法，您问题中的代码应该可以正常工作。

事实证明，添加`remote: true`到输入会导致 jquery-ujs 以所有不错的方式使其成为 ajax-y。Thoughtbot 的[“A Tour of Rails jQuery UJS”](https://robots.thoughtbot.com/a-tour-of-rails-jquery-ujs#ajax-forms)简要介绍了这一点（以及许多其他可用的好东西）；jQuery UJS wiki 中的[“Unobtrusive scripting support for jQuery”页面](https://github.com/rails/jquery-ujs/wiki/Unobtrusive-scripting-support-for-jQuery)在这方面也做了彻底的工作。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-29T09:19:22.720

```
check_box_tag 'complete', task.complete ? 'false' : 'true', task.complete, ...
:url => url_for( :action => 'complete', :id => task.id ) 
```

这样在你的控制器中你可以得到 params[:complete]。你应该实现 complete.js.erb 来重新渲染复选框，所以下一次点击将发送反向值

或者你可以在点击事件上实现 js

```
$('.input-large').on('click', function() {
  $.ajax({
    type: "PUT",
    url: "/tasks/complete/" + $(this).data('post-id')
    data: { complete: $(this).is(':checked') }
  });
}); 
```

并且不要忘记将 data-post-id 参数放置在您的复选框中

# iphone - CLLocationManager 在后台停止

> ID：15697001
> 
> 赞同：0
> 
> 时间：2013-03-29T03:46:30.487
> 
> 标签：iphone, ios, core-location, cllocationmanager

我有一个应用程序用于`CLLocationManager`跟踪用户的路线，沿着所走的路径绘制点。该应用程序使用必需的后台模式在后台运行 > 应用程序注册位置更新。

据我了解，需要调用后台发生的任何事情，`locationManager:didUpdateToLocation:fromLocation`因为这是每次位置更新都会调用的方法。

我遇到的问题是，有时这会停止被调用。当用户的位置在大约 15 分钟左右的时间内没有太大变化时，似乎会发生这种情况。据我所知，呼叫`locationManager:didUpdateToLocation:fromLocation`只是停止，大概是为了节省电池。不幸的是，当您重新开始移动时，它不会再次恢复。

我认为无法覆盖此行为，因此我想使用通知中心通知用户该应用程序不再记录路线。问题是，应用程序如何知道发生了这种情况？如果`locationManager:didUpdateToLocation:fromLocation`未调用，我将无法触发通知。如果正在调用它，则不应触发通知。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T12:10:13.467

我认为没有任何方法可以通知位置管理器已停止向您发送事件，但有一种方法可以防止它发生。在 iOS 6 中，添加了一项新功能，允许位置管理器在认为服务未被使用时关闭服务。如果您执行以下操作，位置管理器将继续在后台向您发送事件，直到您的电池电量耗尽：

> if ([self.locationManager respondsToSelector:@selector(pausesLocationUpdatesAutomatically)]) { self.locationManager.pausesLocationUpdatesAutomatically = NO; }

此外，在 iOS6 中，您应该使用`locationManager:didUpdateLocations:`as `locationManager:didUpdateToLocation:fromLocation:`is deprecated。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-09T21:12:50.540

2个委托方法：

```
-(void)locationManagerDidPauseLocationUpdates:(CLLocationManager *)manager 
```

和

```
-(void)locationManagerDidResumeLocationUpdates:(CLLocationManager *)manager 
```

告诉您位置更新何时因暂停而停止和开始。

# google-maps - Gmap API：根据保存的多边形点自动绘制多边形

> ID：15697008
> 
> 赞同：0
> 
> 时间：2013-03-29T03:47:36.793
> 
> 标签：google-maps

我正在开发集成了绘图多边形功能的应用程序。绘制多边形功能很好，但我需要构建另一个功能，用户可以保存多边形搜索。为此，我需要保存我现在已经保存的多边形路径点.

期待您的回复。

# asp.net - ASP.Net, ASPX 火狐

> ID：15697009
> 
> 赞同：1
> 
> 时间：2013-03-29T03:48:07.427
> 
> 标签：asp.net, firefox

我希望有人可以帮助我更好地理解或解决我在使用 Firefox 时遇到的问题，我怀疑该问题可能与使用 ASP.net 收集我的帐户信息并将我引导到另一家公司的网站有关，我可以在那里付款我使用信用卡在线支付账单。我是计算机用户，没有编程或网站开发知识。

每个月，当他们准备好让我支付账单时，账单收集服务提供商都会在他们的安全网站上添加一个指向我的个人资料的链接，这允许我通过第三方信用卡处理公司在线支付账单。

当我点击链接时，我会被引导到信用卡处理公司的网站，我可以在该网站上支付账单。当我支付当月的账单时，该链接会从我在账单收集服务提供商网站上的个人资料中消失，直到下个月当我的对帐单关闭并且我欠钱时他们再次添加该链接。我的帐户信息不存储在信用卡处理器网站上，它每月通过使用 ASP.net 的重定向过程提供。所有信息都在网络浏览器的地址或位置字段中加密，直到它被关闭。

当我使用 Internet Explorer 6、7 或 8 完成付款过程时，它会顺利进行。如果我使用 Firefox 3.5、17、18 或 19 完成该过程，则页面为空白并保持不变。发生这种情况时，我将 Firefox 的默认安全证书设置从每次询问证书信息更改为自动获取，并更改了 Firefox 的设置以在新浏览器窗口而不是新选项卡中打开新链接，因此我将拥有 2 个独立的浏览器进程默认情况下，Internet Explorer 等地址字段的行为是开箱即用的，但这并不能解决问题。如果我点击地址栏中的安全证书信息，我可以看到与账单收集服务提供商相关的信息，但看不到与打开的空白页面相关的信用卡处理器网站的信息。

您的帮助将不胜感激

真诚的，马克

# angularjs - angularjs 控制器执行两次

> ID：15697011
> 
> 赞同：4
> 
> 时间：2013-03-29T03:48:09.920
> 
> 标签：angularjs

[这里](https://stackoverflow.com/questions/15535336/combating-angularjs-executing-controller-twice)问了一个类似的问题，但对我没有帮助。

我正在学习 angularjs，我注意到控制器执行了两次。

我有一个非常简单的小提琴示例，显示了[此处的行为](http://jsfiddle.net/fabregat/PnaKx/)

我在学习服务时构建了这个示例，起初我认为这是将服务注入控制器，但我注释了所有与服务相关的代码，但控制器仍然执行了两次。

我的例子有效，但我担心我做错了什么。

```
<div ng-app="MyApp">
  <div ng-controller="MyCtrl">
    {{data1}} 
  </div>
</div>

var app = angular.module('MyApp', [])
app.service('Service1', function(){
  return {
    ajxResponse1: 'dataFromService1'
  };
 });

function MyCtrl($scope, Service1){
  alert('Entering MyCtrl');
  $scope.data1 = Service1.ajxResponse1;    
  alert('Exiting MyCtrl');
} 
```

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-11-05T15:07:32.227

一个可能的来源是：如果您使用路由并在路由中指定控制器 - 您不得在路由使用的模板中指定它。当我们忽略了这一点时，我们遇到了这个问题。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-29T04:43:02.493

您的控制器在小提琴中运行了两次，因为 angular 被引用了两次（一次通过**Frameworks & Extensions**下拉，另一个作为**External Resource**）。

请参阅此[更新的小提琴](http://jsfiddle.net/PnaKx/13/)，其中我删除了**外部资源**并且警报仅显示一次。

代码保持不变：

```
function MyCtrl($scope, Service1, Service2, Service3){
    alert('Entering MyCtrl');
    $scope.data1 = Service1.ajxResponse1;
    $scope.data2 = Service2.ajxResponse2;
    $scope.data3 = Service3.ajxResponse3;
    alert('Exiting MyCtrl');
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-12-08T11:25:00.663

我有一个类似的问题，这是由于我的路由中的斜线。

我的路线有类似 /post{slug:[a-z0-9-]*/} 的内容，当访问 domain.com/post 上的页面时，它会重定向到末尾带有斜杠的版本。

我花了很长时间才解决它！

编辑：实际上，只是更详细地查看了您的代码并注意到那里没有路由，所以这可能不是您的情况的原因。

可能对像我这样正在寻找不同解决方案的人有用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-06-23T18:57:02.047

对于所有使用 rails 和 angularjs 的人：

将 URLS 映射到视图并加载它们的 rails 框架与 angularjs $route 冲突，即使您拥有单视图应用程序也是如此。

为了防止你的控制器双重加载：转到 application.js 并删除 "//= require turbolinks

别客气。

# asp.net - 如何为不同数量的值绑定标签

> ID：15697014
> 
> 赞同：-1
> 
> 时间：2013-03-29T03:48:38.130
> 
> 标签：asp.net

我已经编写了这段代码来将每个文本框值绑定到标签这适用于每个单个值但现在我希望标签绑定每个值的次数意味着我为此使用 for 循环，以便我可以绑定不同的值并显示它动态迭代次数，所以怎么可能。

```
protected void Button1_Click(object sender, EventArgs e)
{
    string name = TextBox1.Text;
    string order = TextBox2.Text;
    int qty = Convert.ToInt32(TextBox3.Text);
    int rate = Convert.ToInt32(TextBox4.Text);
    int discount = Convert.ToInt32(TextBox5.Text);
    int c = (Convert.ToInt32(TextBox3.Text) * Convert.ToInt32(TextBox4.Text) - Convert.ToInt32(TextBox5.Text));
    TextBox6.Text = c.ToString();
    int total = Convert.ToInt32(TextBox6.Text);
    string j="";
    for (int i = 1; i < 5; i++)
    {
        j += i + "";

        Label1.Text = j + "customer name is:-" + name;
        Label2.Text = j + "order item is:-" + order;
        Label3.Text = j + "quantity is:-" + qty;
        Label4.Text = j + "rate of the item is:-" + rate;
        Label5.Text = j + "discount given to the item is:-" + discount;
        Label6.Text = j + "Total of the item is:-" + total;
    }

    TextBox1.Text = string.Empty;
    TextBox2.Text = string.Empty;
    TextBox3.Text = string.Empty;
    TextBox4.Text = string.Empty;
    TextBox5.Text = string.Empty;
    TextBox6.Text = string.Empty;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T04:00:57.097

在你的循环中，你正在覆盖每个标签的值......所以最后你只剩下最终值。

您想要做的是将标签的值设置为其以前的*值* **和***新值*：

```
Label1.Text += j + "customer name is:-" + name; 
```

与以下`+=`内容相同：

```
Label1.Text = Label1.Text + j + "customer name is:-" + name; 
```

为了可读性，您可能想要更多类似的东西：

```
for (int i = 1; i < 5; i++)
{   
    Label1.Text += i + " customer name is:-" + name + "<br />";
    Label2.Text += i + " order item is:-" + order + "<br />";
    Label3.Text += i + " quantity is:-" + qty + "<br />";
    Label4.Text += i + " rate of the item is:-" + rate + "<br />";
    Label5.Text += i + " discount given to the item is:-" + discount + "<br />";
    Label6.Text += i + " Total of the item is:-" + total + "<br />";
} 
```

而且您需要对诸如`Convert.ToInt32(TextBox3.Text)`. [如果转换失败， Convert.ToInt32](http://msdn.microsoft.com/en-us/library/sf1aw27b.aspx)会引发异常。

如果您进入大循环，您可能需要考虑类似[StringBuilder](http://msdn.microsoft.com/en-us/library/system.text.stringbuilder.aspx)的东西。

# python - 检测与 adsense 不兼容的内容

> ID：15697015
> 
> 赞同：2
> 
> 时间：2013-03-29T03:48:57.493
> 
> 标签：python, forum, adsense, user-generated-content

对于包含用户生成内容且在发布前无法审核的网站，有没有办法（python API、停用词数据库等）来检测页面内容是否适合 adense ？（就我而言，我正在发布有关 twitter 主题标签的实时统计数据，不幸的是，有些主题标签被视为 adsense 的成人内容）

# javascript - JavaScript 闭包的冲突描述

> ID：15697020
> 
> 赞同：2
> 
> 时间：2013-03-29T03:49:14.730
> 
> 标签：javascript, closures

经过大量阅读和 hack，我觉得我终于开始了解 JavaScript 闭包及其用途了。然而，我读过的一些资源的措辞对我来说似乎有点矛盾。或者，也许我只是读得太多了。

helephant.com（[链接](http://helephant.com/2008/10/17/javascript-closures/)）的一篇优秀文章指出：

> 当嵌套在另一个函数中的函数从其父范围访问变量时，就会创建闭包。

和...

> 闭包实际上是在外部函数退出时创建的，而不是在创建内部函数时创建的。

在给出的示例的上下文中，我理解这两点。

[但是，来自 John Resig 网站（链接](http://ejohn.org/apps/learn/#49)）的更基本的教程指出，下面的代码块中有一个闭包。

```
var num = 10;

function addNum(myNum){
  return num + myNum;
}

addNum(5); 
```

我见过的几乎所有**有用的闭包示例都会返回对内部函数的引用，并稍后对其进行处理。**所以这个例子似乎有点毫无意义，但无论如何，让我们尝试接受并理解它仍然是一个闭包。但是，当我尝试整合 helephant 的概念（在外部函数退出之前不会创建闭包）并对其进行一些修改时，我想出了这个：

```
function outerFunction() {
    var num = 10;

    function addNum(myNum){
      return num + myNum;
    }

    alert(addNum(0));

    num = 5;
}

outerFunction(); 
```

现在，根据 Resig 的说法，`addNum`创建了一个闭包。根据 helephant 的说法，在`outerFunction`返回之前不会创建闭包。但是......闭包（如果它真的是一个闭包）在退出时使用`num`from **before的值。**`outerFunction`矛盾？

不可否认，因为我在退出之前**调用** 了......它使用当前值似乎是合乎逻辑的。但这让我质疑 Resig 的说法，即他提出的简单示例确实是一个闭包。但是……我有什么资格质疑雷西格？我肯定误会了什么？`addNum``outerFunction``num`

为了使这更适合问答形式，以下是我总结的问题：

(1) Resig 的例子（以及我的扩展）是一个闭包吗？

(2) 如果是，为什么它使用外部作用域返回之前封闭的 var 的值？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T04:06:05.307

所以这并不像对语义的争论那样矛盾。似乎您对情况有了很好的了解，您对闭包如何工作的描述似乎是准确的。

来自[其 Wikipedia 条目](http://en.wikipedia.org/wiki/Closure_%28computer_science%29)（最初来自 Sussman 和 Steele。“方案：扩展 lambda 演算的解释器”。）

> 在计算机科学中，闭包（也称为词法闭包或函数闭包）是函数或对函数的引用以及引用环境——存储对该函数的每个非局部变量（也称为自由变量）的引用的表. 与普通函数指针不同，闭包允许函数访问这些非局部变量，即使在其直接词法范围之外调用也是如此。

因此，从技术上讲，闭包只是一个具有引用环境的函数（对 javascript 中外部函数范围的引用）。但它的特别之处在于它可以从另一个作用域调用。

所以从技术上讲，Resig 的例子是一个闭包。它是一个引用外部环境的函数。它的外部环境恰好是全局范围，但它仍然有一个。但在通过之前，它与其他功能相比是不可区分/特殊的。

最后，将这些示例中的任何一个称为闭包都没有错。但是为了使它们与通用函数相比有用，您将希望将其从调用上下文中传递出去。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T04:09:38.000

所以用闭包来证明的一点是，即使在外部函数的作用域之外，内部函数也可以挂在外部函数的变量上。

内部函数通过 Javascript 的[原型继承继承](http://ejohn.org/blog/simple-javascript-inheritance/)了外部函数的变量和值的副本，并且第二个变量分配尚未在外部函数的范围内进行评估，因此内部函数将继承当前分配的值的副本。

很好地展示了这种行为：

[http://jsfiddle.net/JD32X/](http://jsfiddle.net/JD32X/)

```
function outer()
{
    var test = "hello";
    var blah = function() { window.alert(test); };
    blah();
    test = "not hello";
    blah();
}
outer(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-29T04:06:21.357

`window`实际上本身就有一个功能范围。

`window`存在于函数范围 ( `var bob = "Bob";`) 和对象属性 ( `window.bob = "Bob";`) 中。在典型用法中，它们是相同的，但实际上并非如此。

```
window.bob = "Bob"
delete window.bob;
window.bob; // undefined

var bob = "Bob"
delete window.bob;
bob; // "Bob" 
```

因此，只要您运行的范围可以访问外部函数的范围，就会发生闭包。

***但***我不会说`window`提供闭包的原因只是它`window`是全局可访问的。
也就是说，网站上的每一段代码都可以访问`window`的函数范围。
因此，它并不是真正的“封闭”，因为您没有阻止访问它。

您可以从中得到的是，依赖于全局范围的示例与构建闭包的技术相同，因此是开始掌握它们的最简单和最通用的方法......

...但是，因为这些值并没有对外界隐藏，所以在事实之后（通过外部函数返回），没有真正的闭包发生。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-29T09:37:10.380

@戴夫约翰逊，你好。让我试着解释一下为什么这`The closure is actually created when the outer function exits, not when the inner function is created`是一个真实的陈述。

当您在某个范围（函数）内定义新变量时，会创建此变量并`lives`在此范围内。当函数返回时，发生的正常情况是没有对该变量的引用，所以它不应该再存在了。它将被“垃圾收集”。**但是，如果某个内部函数（作用域）使用此变量并在外部作用域返回后**保持对它的引用- 将创建一个闭包。因此，据说`The closure is actually created when the outer function exits, not when the inner function is created.`

在您的示例中：

```
function outerFunction() {
    var num = 10;
    function addNum(myNum){
        return num + myNum;
    }
    alert(addNum(0));
    num = 5;
}
outerFunction(); 
```

num 变量在调用 outerFunction 时创建，在函数返回时完全释放。为什么？因为在那之后没有对该对象的引用。实际上，内部函数 addNum 也是在该范围内创建的，并且在 outerFunction 返回后将不存在。所以我在这里**看不到真正的关闭**。

**编辑：** *我们在这里看到的只不过是`SCOPING`. 是的 - 在 addNum 函数内部，对来自外部范围的变量的引用是 MADE ，但该变量不是`enclosed`. 例如，`enclosed`如果只是在代码中的那个位置将 addNum 函数作为事件处理程序分配给按钮单击事件。这样，作为对象的函数本身将在 outerFunction 返回后继续存在，因为对该函数的引用将存在于按钮单击事件中，在这种情况下，对`num`变量的引用也将存在。*

如果您以这种方式创建 addNum 函数：

```
...
window.addNum = function(myNum) {
     return num + myNum;
}
... 
```

那将是完全不同的情况。这里创建了一个闭包，但可以说，**这是在外部函数返回时发生的**。为什么？因为那是变量应该被“垃圾收集”的时刻`num`，这不会发生，因为仍然有对该对象的引用。

关于什么是闭包有一个很好的解释。想象你的外在范围是一场婚姻。这个范围实际上是你和家人一起住的房子——你有一个妻子、两个孩子、家具等。它们都是在婚姻“范围”内创建的属性和功能。当你被吞噬时，你会被踢出你的房子（'marriage' 函数已经返回），但你仍然保留对在你的婚姻中创建的对象的引用，这些对象将是你的两个孩子:)。至于你的妻子——她将不再作为妻子存在于你自己的“范围”中，你的家具也将不再属于你:)

**更新**
我首先要向您解释的是`'The closure is actually created when the outer function exits, not when the inner function is created`' 在您的示例中适用于 addNum 函数，但不适用于 outerFunction，因为在 outerFunction 退出后没有创建闭包。

**更新 2** - 这不是包含一个值，而是一个引用

```
// man is not the value "Jonh Resig"
// it's a pointer to SOME 'man', existing in the memory
var man = "John Resig";

function haveSex(woman) {
     return man + woman; // creating a baby;
}
haveSex("Some Girl");      // baby of "Some Girl" and Resig
man = "Douglas Crockford"; // changing `man` reference to point to another object
haveSex("Some Girl");      // baby of "Some Girl" and Crockford 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-10-19T02:44:08.630

Ben McCormick 是正确的，我只是想扩展他的答案并解释他所写的内容如何适用于 helephant 文章（但我没有足够的声誉点来添加评论）。

当 helephant 写下那条评论时，他是在提出一个具体的观点。用我自己的例子来说明同样的观点，考虑下面的代码示例——我们循环创建 10 个函数，将它们放在一个数组中，然后循环遍历数组并调用它们：

```
function getFunctions() {
    var functions = [];
    for (var i=0; i < 10; i++) {
        functions.push(function() { window.alert(i); });
    }
    return functions;
}
functionArray = getFunctions();
for (var j=0; j < functionArray.length; j++) {
    var f = functionArray[j];
    f();
} 
```

Helephant 警告你不要混淆：这会提醒数字“10”十次。它不会提醒 1、2、3、... 10。但他的术语和解释并不完全准确。执行时`function() { window.alert(i); }`，系统会创建一个闭包。正如 Ben McCormick 所说，闭包由 2 个指针组成。一指向函数定义（函数的参数和函数体）。另一个指向环境。在我们的示例中，所有 10 个闭包都指向*同一个*环境。

再一次——从技术上讲，有 10 个闭包，但只有一个环境。这个环境是`i`绑定到“10”的地方。这应该具有直观的意义。 `var i`只执行一次，所以只有一个`i`. `function() { window.alert(i); }`执行了 10 次，所以有 10 个闭包。但是所有 10 个闭包都指向相同的环境。

# arraylist - 对象的ArrayList帮助java

> ID：15697022
> 
> 赞同：0
> 
> 时间：2013-03-29T03:50:08.573
> 
> 标签：arraylist

好的，所以我有一个非常简单的计算机课作业（它应该显示遍历数组和东西）。我必须创建一个带有数组的版本和一个带有arrayLists的版本，所以在测试器类中我有一些静态方法，但是当我使用arrayList并尝试从对象所在的类中调用一个方法（它是一个getter方法) 我得到的只是一条错误消息，指出无法找到它。

这是我的代码的缩短版本：

导入 java.util.*；导入 java.util.List；

公共类 testCandidate2 {

```
public static int getTotal(ArrayList election)
{
    int total = 0;
    for(int b = 0; b <election.size(); b++)
          total += election.getNumVotes();
    return total;
}

public static void main(String[] args)
{
    int totalVotes;
    List <Candidate> election = new ArrayList<Candidate>(5);
    election.add() = new Candidate(5000, "John Smith");

    totalVotes = getTotal(election);

} 
```

}

公共类候选人{

```
private String name;
private int numVotes;

Candidate(int nv, String n)
{
    name = n;
    numVotes = nv;
}

public String getName()
{
    return name;
}

public int getNumVotes()
{
    return numVotes;
}

public String toString()
{
    return name + " recieved " + numVotes + " votes.";
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T04:37:38.360

试试这个 ：

```
import java.util.*;
//import java.util.List;

public class testCandidate2 {

public static int getTotal(ArrayList election)
{
    int total = 0;
    for(int b = 0; b <election.size(); b++)
         {
         Candidate ele = (Candidate) election.get(b);
       //  System.out.println(ele.getNumVotes());
         total += ele.getNumVotes();
         //System.out.println(o.getNumVotes());
    }
         //System.out.println( (Candidate) (election.get(b).getNumVotes());
          //.getNumVotes();
    return total;
}

public static void main(String[] args)
{
    int totalVotes;
    ArrayList <Candidate> election = new ArrayList<Candidate>(5);
    election.add(new Candidate(5000, "John Smith"));

    totalVotes = getTotal(election);
    System.out.println(totalVotes);
}
} 
```

# angularjs - 在 AngularJS 中定义第二个 ng-click

> ID：15697024
> 
> 赞同：0
> 
> 时间：2013-03-29T03:50:34.967
> 
> 标签：angularjs

这是使用AngularJS单击按钮文本颜色的代码。

```
<button ng-class="myClass"
   ng-click="myClass='red'"
   ng-init="myClass='blue'">
some text
</button> 
```

[http://jsfiddle.net/rLkb5/2/](http://jsfiddle.net/rLkb5/2/)

是否可以在第二次单击时将颜色更改为绿色？（蓝色->红色->绿色）

我的直觉告诉我，没有控制器+自定义 JS 代码是不可能的，但可能有一种简单的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T06:31:55.860

```
function MyCtrl($scope) {
  $scope.active = false;
  $scope.toggleActive = function () {
    $scope.active = !$scope.active; 
 };
} 
```

.

```
<div ng-class="{red: !active, green: active}" ng-click="toggleActive()"></div> 
```

`ngClass`，当给定一个对象时，设置属性值是真实的类。

注意：视图不应包含任何业务逻辑，因为它们很难测试；他们只应该与控制器交互。

对此的澄清：

您不应该做的是，直接从您的视图更改范围内的属性。在控制器中有一个函数充当为您执行此操作的包装器。View 可以根据范围属性更改自身的呈现方式，并调用控制器中的函数来操作数据。此外，控制器根本不应该知道*你*想如何*显示*数据，它应该表现得像根本没有视图（事实上，视图应该是可替换的）。您要应用哪个 css 类不是您的控制器应该知道/决定的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T04:05:27.993

检查这是否可以接受

```
<div ng-app>
    <button ng-class="myClass" ng-click="counter = counter + 1; myClass=classes[counter % 3]" ng-init="myClass='blue'; classes=['blue', 'red', 'green']; counter=0">some text</button>
</div> 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/rLkb5/3/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T04:12:48.120

可能有更好的方法，但如果你重命名你的类：

```
.statetrue{
  color:red
}

.statefalse{
  color:blue
} 
```

然后，您的按钮：

```
<button ng-class="'state' + myClass" ng-click="myClass = !myClass"  ng-init="myClass=true"> 
```

# c - 字符串“abc 123 456”的 sscanf 格式是什么

> ID：15697031
> 
> 赞同：0
> 
> 时间：2013-03-29T03:51:19.273
> 
> 标签：c, scanf

我想将字符串“abc 123 456”拆分为字符串（“abc”）和 2 个数字（123,456）。我应该在下面的代码中输入什么格式？

```
char *s;
int a,b;
sscanf("acb 123 456", format, s, &a, &b); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T03:56:42.110

你要：

```
"%s%d%d" 
```

但是您还需要为提取的字符串分配缓冲区空间：

```
char s[100];
int a,b;
sscanf("acb 123 456", "%s%d%d", s, &a, &b); 
```

# sql - 查询不想工作得很好^^

> ID：15697033
> 
> 赞同：1
> 
> 时间：2013-03-29T03:51:38.697
> 
> 标签：sql, sql-delete

```
DELETE FROM _Inventory 
where ItemID = ( 
    SELECT * 
    FROM _Items 
    WHERE RefItemID IN ( 46440 , 46441 , 46442 ) 
        AND ID64 = @ID64 ) 
```

当不使用 EXISTS 引入子查询时，选择列表中只能指定一个表达式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T03:53:13.577

您需要使用`IN`并指定项目表中的字段（而不是指定 *）：

```
DELETE FROM _Inventory 
WHERE ItemID IN (
    SELECT ItemId 
    FROM _Items 
    WHERE RefItemID IN ( 46440 , 46441 , 46442 ) AND ID64 = @ID64 ) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T03:53:13.813

只需使用`IN`

```
DELETE 
FROM _Inventory 
where ItemID IN ( SELECT ItemID 
                  FROM _Items 
                  WHERE RefItemID IN (46440 ,46441 ,46442) 
                        AND ID64 = @ID64 
                ) 
```

或者通过使用`JOIN`我更喜欢的，

```
DELETE  a
FROM    _Inventory a
        INNER JOIN _Items b
            ON a.ItemID = b.ItemID
WHERE   b.RefItemID IN (46440, 46441, 46442) AND
        b.ID64 = @ID64 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T03:53:34.597

星号应替换为正确的列名。还要确保子查询只返回一行。不是多行。如果多行，则需要将相等比较更改为 IN 子句。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-29T03:53:41.320

将其更改为`SELECT ItemID FROM _Items ...`. 错误很明显：您的子查询不允许返回多于一列，因为`ItemID`只能与单列进行比较。这`EXISTS`相当于返回`1`or `0`，它仍然是单列，因此是允许的。

# ios - “取消删除”文件后如何让 Xcode 正确编译？

> ID：15697040
> 
> 赞同：0
> 
> 时间：2013-03-29T03:52:32.487
> 
> 标签：ios, objective-c, xcode

我不小心从我的项目中删除了一组文件（.h、.m、.xib）。

将它们从备份中添加回项目后，编译时出现错误。看起来链接器试图从已删除的源中引用旧的 .o 文件：

```
Undefined symbols for architecture i386:   "_OBJC_CLASS_$_SNDYTheUndeletedViewController", referenced from:
      objc-class-ref in SNDYParentViewController.o ld: symbol(s) not found for architecture i386 clang: error: linker command failed with exit code 1 (use -v to see invocation) 
```

如何清除此错误？我试过了：

*   做一个“清洁”
*   重新启动 Xcode
*   强制重新编译父视图控制器（通过更改一些代码，然后改回来）
*   删除派生数据
*   将派生数据文件夹从“默认”更改为“相对”

上次我这样做时，我只是创建了一个具有不同名称的新视图控制器。我想避免这种情况，实际上只是解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T10:30:28.527

您可以尝试从 xcode 存储库中删除项目引用。

转到文件-> 源代码控制-> 存储库..

删除存储库和项目下的所有项目引用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T23:04:31.310

正如 rmaddy 在对我的问题的评论中所说，重置每个恢复文件的目标成员身份：

1.  突出显示项目导航器 (cmd-1) 中的文件。
2.  打开文件检查器实用程序窗格 (cmd-opt-1)。
3.  在窗格的“目标成员资格”部分中，单击目标的复选框。

# python - 从python中的列表中选择数字

> ID：15697041
> 
> 赞同：3
> 
> 时间：2013-03-29T03:52:33.310
> 
> 标签：python, list, random

我正在开发一个生成单场淘汰锦标赛的程序。到目前为止我的代码看起来像这样（我刚刚开始）

```
amount = int(raw_input("How many teams are playing in this tournament?  "))
teams = []
i = 0
while i<amount:
    teams.append(raw_input("please enter team name:  "))
    i= i+1 
```

现在我被困住了。我想随机选择 2 个数字来选择彼此面对的团队。这些数字根本不能重复，并且必须从 1 到“数量”。最有效的方法是什么？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-29T03:57:36.410

看一下[`random`](http://docs.python.org/library/random.html)模块。

```
>>> import random
>>> teams = ['One team', 'Another team', 'A third team']
>>> team1, team2 = random.sample(teams, 2)
>>> print team1
'Another team'
>>> print team2
'One team' 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T03:58:12.147

```
team1 = random.choice(teams)
teams.remove(team1)
team2 = random.choice(teams) 
```

我认为这应该有效。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T03:58:52.477

我不完全确定你在问什么，但是选择你可以使用的随机数，例如

```
random.randint(1,10) 
```

这会给你一个 1 到 10 之间的随机数

注意：需要导入随机模块

```
import random 
```

# algorithm - 在 O(n log n) 时间内找到一个集合中的两个不同数字，使得它们的差是所有对中最小的

> ID：15697044
> 
> 赞同：-4
> 
> 时间：2013-03-29T03:52:39.823
> 
> 标签：algorithm, set

如何在 O(n log n) 时间内在未排序的集合 S 中找到两个不同的数字 a 和 b，以便 |ab| 是所有可能的对中最小的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T04:02:29.180

首先，使用快速排序对列表进行排序，即 O(n log n)。

然后对列表进行一次遍历，测量每个数字与下一个数字之间的间隔，并跟踪您看到的最小间隔。那是 O(n)。

O(n) + O(n log n) = O(n log n)

# ios - iOS - 动画 UIButton ImageView 图像会导致按钮在之后被“选择”

> ID：15697045
> 
> 赞同：3
> 
> 时间：2013-03-29T03:52:55.963
> 
> 标签：ios, objective-c, image, animation

我正在尝试为 a 的图像设置动画`UIButton`。动画运行良好，但之后它总是在按钮上加上灰色调（*好像它被**突出显示/选中***）。

代码：

```
NSArray *images = [[NSArray alloc] init];
images = [NSArray arrayWithObjects:
          [UIImage imageNamed:IMAGE1],
          [UIImage imageNamed:IMAGE2],
          [UIImage imageNamed:IMAGE3],
          [UIImage imageNamed:IMAGE4],
          nil];
iconBobble.imageView.animationImages = images;
iconBobble.imageView.animationDuration = 1.5;
iconBobble.imageView.animationRepeatCount = 1;
[iconBobble.imageView startAnimating]; 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-29T04:42:29.007

`adjustsImageWhenHighlighted`物业会解决你的问题。

此代码将解决您的问题....

```
-(IBAction)animateButton:(id)sender
{
    [iconBobble setAdjustsImageWhenHighlighted:NO];

    NSArray *images = [[NSArray alloc] init];
    images = [NSArray arrayWithObjects:
              [UIImage imageNamed:IMAGE1],
              [UIImage imageNamed:IMAGE2],
              [UIImage imageNamed:IMAGE3],
              [UIImage imageNamed:IMAGE4],
              nil];

    float animationDuration = 1.5;
    iconBobble.imageView.animationImages = images;
    iconBobble.imageView.animationDuration = animationDuration;
    iconBobble.imageView.animationRepeatCount = 1;
    [iconBobble.imageView startAnimating];
    [self performSelector:@selector(stopButtonAnimation) withObject:nil afterDelay:animationDuration];
}
-(void)stopButtonAnimation
{
    [iconBobble.imageView stopAnimating];
} 
```

这对我来说很好:-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T03:59:14.583

放`yourButton.backgroundColor = [UIColor clearColor];`

# php - 取消链接功能不起作用

> ID：15697046
> 
> 赞同：0
> 
> 时间：2013-03-29T03:53:03.357
> 
> 标签：php

```
<?php

if (isset($_GET['editpic'])) {
    $Id         = $_GET['editpic'];
    //Get Form Data from Data base against the Id
    $Edit_Query = "SELECT product_picture FROM products WHERE id='$Id'";
    $Result     = mysql_query($Edit_Query);
    while ($Row = mysql_fetch_array($Result)) {
        $Old_File_Name = $Row['product_picture'];
    }
}

//To Update Record
if (isset($_POST['update'])) {
    $Id                 = $_POST['id'];
    //To get file
    $Allowed_Extensions = array(
        'jpg',
        'jpeg',
        'png',
        'bmp',
        'gif'
    );
    $Allowed_Size       = 2097152;
    $File_Name          = $_FILES['newfile']['name'];
    $File_Size          = $_FILES['newfile']['size'];
    $File_Tmp           = $_FILES['newfile']['tmp_name'];
    $File_Explode       = (explode('.', $File_Name));
    $File_Extension     = strtolower(end($File_Explode));
    //Form Validation
    $Errormessage       = array();
    if (empty($File_Name)) {
        $Errormessage[] = "Please choose an image for your product";
    }
    if (!in_array($File_Extension, $Allowed_Extensions)) {
        $Errormessage[] = "Please choose only image file";
    }
    if ($File_Size > $Allowed_Size) {
        $Errormessage[] = "Maximum file limit is 2Mb";
    }
    if (empty($Errormessage)) {
        unlink("product_images/" . $Old_File_Name);
        if (move_uploaded_file($File_Tmp, "product_images/" . $File_Name)) {
            //To Rename the uploaded file
            $Random        = rand() * 1200;
            $File_New_Name = $Random . "." . $File_Extension;
            rename("product_images/" . $File_Name, "product_images/" . $File_New_Name);
            $Query  = "UPDATE products SET product_picture='$File_New_Name'    WHERE id='$Id'";
            $Result = mysql_query($Query);
            if ($Result) {
                header("location: manage_inventory.php");
            }

        }

    }

} //End isset update

?> 
```

一切正常，除了取消链接功能我无法弄清楚我的旧文件变量有什么问题，它没有从文件夹中删除现有文件。

`?edit=$id`此外，如果我的更新中发生任何验证错误，我还需要知道为什么它会丢失来自 url。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T04:06:20.607

首先检查以确保文件存在，然后测试 unlink 调用的结果。

本质上：

```
$fileToDelete = "product_images/".$Old_File_Name;
if(!file_exists($fileToDelete)) {
   die("Eh? I can't delete something that doesn't exist!");
}

if(!unlink($fileToDelete)) {
   die("I can't delete that file, check my permissions");
} 
```

（但有更好的错误处理）

# python - GAE 1.7.6 中的 --enable_sendmail 已更改

> ID：15697048
> 
> 赞同：2
> 
> 时间：2013-03-29T03:53:10.030
> 
> 标签：python, macos, google-app-engine, sendmail

不完全确定这是否特定于我，但是在最近更新到适用于 Mac 的 GAE 1.7.6 开发服务器后，我发现该标志：

--enable_sendmail

导致服务器无法启动。在进行了一些谷歌搜索但没有任何结果后，我意识到尽管 GAE 页面（[https://developers.google.com/appengine/docs/python/tools/old_devserver](https://developers.google.com/appengine/docs/python/tools/old_devserver)）上的最新更改列表中根本没有记录，但方法修复此错误是将其更改为：

--enable_sendmail=是

最重要的是，我在这里记录这一点，以防其他人遇到同样的错误并正在寻找解决方案。我花了很长时间。

也许 App Engine 的某个人会好心地更新他们的文档？

# ruby - 使用机械化查找下一个输入元素？

> ID：15697049
> 
> 赞同：3
> 
> 时间：2013-03-29T03:53:11.623
> 
> 标签：ruby, mechanize

使用 Mechanize，是否可以在页面的 HTML 中找到一个短语，例如“电子邮件”，然后找到下一个`<input*`，然后填写该输入字段，并且只填写该字段？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-29T05:16:25.857

Mechanize 在内部使用 Nokogiri 来处理其 DOM 解析，这是其在页面中定位不同元素的能力的基础。

可以访问已解析的 DOM，并且通过它使用 Nokogiri 来定位 Mechanize 通常不会让我们找到的元素。例如：

```
require 'mechanize'

agent = Mechanize.new
page = agent.get('http://www.example.com')

# Use Nokogiri to find the content of the <h1> tag...
puts page.at('h1').content # => "Example Domain" 
```

对于您的搜索，您需要使用 XPath 访问器来定位“电子邮件”在页面中的位置。完成后，您可以找到下一个`<input>`标签。

从一个简单的 HTML 片段开始，我们假设它来自 Mechanize：

```
page = Nokogiri::HTML('<div><form><p>email</p><input name="email"></form></div>')
puts page.to_html 
```

看起来像：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div><form>
<p>email</p>
<input name="email">
</form></div></body></html> 
```

搜索“电子邮件”：

```
page.at("//*[contains(text(),'email')]")
#<Nokogiri::XML::Element:0x3ff50d0c4bc0 name="p" children=[#<Nokogiri::XML::Text:0x3ff50d0c497c "email">]> 
```

在此基础上，得到`<input>`标签：

```
input_tag = page.at("//*[contains(text(),'email')]/following-sibling::input")
#<Nokogiri::XML::Element:0x3ff50d09b75c name="input" attributes=[#<Nokogiri::XML::Attr:0x3ff50d09b5f4 name="name" value="email">]> 
```

找到输入标签后，您可以使用 Nokogiri 从标签中获取“名称”，然后告诉 Mechanize 定位并填写该特定输入字段：

```
input_tag['name']
=> "email" 
```

要使 Web 表单正常运行，它必须具有元素的名称。这些在提交表单时被传递到服务器。如果没有名称，则需要大量工作才能确定哪个输入发送了特定的数据，而且程序员很懒惰，我们不想努力工作，因此您可以指望有一个名称可以使用。

有关更多信息，请参阅“ [Ruby Mechanize、Nokogiri 和 Net::HTTP ”，以及](https://stackoverflow.com/questions/12047100/ruby-mechanize-nokogiri-and-nethttp)[对 Stack Overflow 的搜索](https://stackoverflow.com/questions/tagged/nokogiri+mechanize)，阅读[Nokogiri 文档和教程](http://nokogiri.org)将为您提供大量所需的信息，以了解如何完成其​​余工作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T08:22:35.960

首先找到带有短语文本的元素：

```
el = page.at('*[text()*="some phrase"]') 
```

从那里您可以获得以下第一个输入：

```
input = el.at('./following::input') 
```

现在，找到该输入的祖先表单节点：

```
form_node = input.ancestors('form')[0] 
```

然后使用它来获取 Mechanize::Form 对象

```
form = page.form_with(:form_node => form_node) 
```

现在您可以填写值

```
form[input[:name]] = 'foo' 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-29T04:24:57.813

对于格式**良好的**HTML 页面，一个`input`元素应该有一个`label`显示`input`它的用途。在这种情况下，您可以遍历 all `label`，找到包含 text的那个，并通过 的属性`"email"`获取关联。`input``for``label`

然而，并不是所有的 HTML 页面都是格式良好的。不`label`，没有`for`属性，或其他格式不正确的问题。

如果您指的`input`是 DOM 中某个元素之后的右侧。您可以进行一些 DOM 遍历来查找包含元素`"email"`的`input`元素旁边是否有元素。

如果您的意思是`input`呈现页面中元素的旁边，您应该定义什么是“旁边”。而且我认为如果不付出很大的努力，您将无法获得想要的东西。某些位于元素“email”之后的元素可能会通过一些 CSS 技巧放置在它之前。您需要一些图形 API 来找到它`input`。`watir`但是，我在的 API 文档中没有看到这一点。

# php - 注入具有多个构造参数的服务？

> ID：15697059
> 
> 赞同：0
> 
> 时间：2013-03-29T03:54:06.957
> 
> 标签：php, symfony

我已将 dbal 连接从控制器传递到执行大量查询和计算的类，如

```
$conn = $this->get('database_connection');
$stats = new Statistics($conn, $criteria); 
```

这合适吗？为连接创建服务似乎没有帮助，因为我需要使用两个参数调用该类。有没有更好或更合适的方法来达到同样的目的？这种方法至少有效。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T06:01:18.277

最好的方法是通过服务容器创建服务和加载。

**服务.yml**

```
Acme.demo.statics:
        class:        Acme\DemoBundle\Handler\Statistics
        arguments:    [@database_connection,  { param1: %param1%, param2: %param1%}] 
```

**统计.php**

```
use Doctrine\DBAL\Connection;

class Statistics
{
    protected $connection;
    protected $parameters;

    public function __construct(Connection $connection, array $parameters)
    {
        $this->connection = $connection;
        $this->parameters = $parameters;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T13:24:19.653

您可以控制 Statistics 课程吗？

如果是这样，则从构造函数中删除标准并实现 setCriteria 方法或将标准作为 getResults 或任何方法的一部分传递。

@Venu 向您展示了使用参数传递数据的热情。如果您的条件数组可以提前设置，那么您可以使用它。但我猜这个标准是在请求期间建立的。

并且没有要求统计成为一项服务。只是让事情变得容易一些。因此，如果您对现有代码感到满意，请不要担心。只是意味着您需要在想要制作一个时抓住连接对象。这意味着如果您确实需要注入其他对象，那么您的代码将不得不更改。

# c# - 仅返回对象的几个属性

> ID：15697060
> 
> 赞同：2
> 
> 时间：2013-03-29T03:54:10.050
> 
> 标签：c#

如果我有一个包含 10 个属性的对象列表，并且我想返回这些对象的列表，但 10 个属性中只有 3 个可用，我该怎么做？

```
public class Example
{
    public int attr1 {get;set;}
    public int attr2 {get;set;}
    public int attr3 {get;set;}
    public int attr4 {get;set;}
    public int attr5 {get;set;}
}

return ExampleList; //have the return value be a list with only attr1, 2, and 3 visible. 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-29T03:56:17.413

您可以将 LINQ 与[`Select`](http://msdn.microsoft.com/en-us/library/system.linq.enumerable.select.aspx)方法一起使用并返回[匿名类型](http://msdn.microsoft.com/en-us/library/vstudio/bb397696.aspx)：

```
var result = ExampleList.Select(x => new { x.attr1, x.attr2, x.attr3 }); 
```

或者，使用 3 个属性显式定义您自己的类，如果您从域实体转换为视图模型或 Dto 对象，这种情况很常见：

```
class Dto
{
    public int Pro1 { get; set; }
    public int Pro2 { get; set; }
    public int Pro3 { get; set; }
}

var result = ExampleList.Select(x => new Dto { 
                                       Pro1 = x.attr1,
                                       Pro2 = x.attr2,
                                       Pro3 = x.attr3 
                                    }); 
```

或者，如果您只想要一个*转储*类，您可以使用[`Tuple`](http://msdn.microsoft.com/en-us/library/system.tuple.aspx)：

```
var result = ExampleList.Select(x => Tuple.Create(x.attr1, x.attr2, x.attr3)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T03:57:39.163

使属性可以为空并使用[Object Initializers](http://msdn.microsoft.com/en-us/library/vstudio/bb397680.aspx)。

```
public class Example
{
    public int? attr1 {get;set;}
    public int? attr2 {get;set;}
    public int? attr3 {get;set;}
    public int? attr4 {get;set;}
    public int? attr5 {get;set;}
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T03:58:09.360

使用 LINQ 投影运算符：

```
var resultList = ExampleList.Select(x => new
    {
        x.attr1,
        x.attr2,
        x.attr3
    }); 
```

或者，如果您需要指定其他道具名称：

```
var resultList = ExampleList.Select(x => new
    {
        PropName1 = x.attr1,
        PropName2 = x.attr2,
        PropName2 = x.attr3, // <- The last comma can be leaved here.
    }); 
```

Pay attention that resulted enumerable is not of type `Example` but of pre-compile (not runtime) created anonymous type.

# javascript - 如何使用 JavaScript 查找相关文章？

> ID：15697065
> 
> 赞同：1
> 
> 时间：2013-03-29T03:55:08.383
> 
> 标签：javascript, jquery, html, content-management-system, business-catalyst

我正在编写一些 javascript 函数来生成相关文章。我用 Mootools 的 'levenshtein' 检查了两篇文章的标题，但结果不是太突出。例如，它认为“我非常喜欢南瓜汤”和“南瓜汤”没有关系，因为 2 个字符串的长度完全不同。所以我很想尝试一种不同的方式来做到这一点。希望是一个javascript函数。我使用的 CMS 不允许我将查询更改为数据库。

# c++ - 使用默认函数模板参数的意外重载解决方案

> ID：15697067
> 
> 赞同：5
> 
> 时间：2013-03-29T03:55:22.180
> 
> 标签：c++, c++11, overload-resolution, function-templates

我遇到了一种看起来非常意外的重载解决行为。以下代码被 gcc 和 clang 拒绝并出现歧义错误：

```
template <typename T>
struct A
{
    typedef T key_type;
};

template <typename T>
void foo(A<T> rng, T val);

template <typename T, typename U = T>
void foo(T, typename U::key_type);

int main()
{
    A<int> i;
    foo(i, 0);
} 
```

错误是：

```
test.cpp:16:5: error: call to 'foo' is ambiguous
    foo(i, 0);
    ^~~
test.cpp:8:6: note: candidate function [with T = int]
void foo(A<T> rng, T val);
     ^
test.cpp:11:6: note: candidate function [with T = A<int>, U = A<int>]
void foo(T, typename U::key_type);
     ^ 
```

我希望两者都是完全匹配的，但第一个重载会在部分排序中获胜，因为在第一个参数`A<T>`中比`T`.

让我大吃一惊的是，如果我将第二个签名更改为：

```
template <typename T, typename U = T>
void foo(T, typename T::key_type); 
```

gcc 和 clang 现在都接受代码，并按照我最初的预期选择第一个重载。

我看不出这种改变会如何改变行为：我所做的只是将既没有明确指定也没有推导的模板参数的使用替换为`U`默认值（`T`）。

再说一次，改变之前的行为是出乎意料的，所以也许我错过了一些东西。

有人可以解释一下：

1.  为什么第一种情况不明确；和
2.  为什么我所做的更改解决了歧义？

如果相关，我测试的编译器版本是 gcc 4.8.0 和最近的 clang 主干版本。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T11:08:46.913

问题是在参数推导之后是否存在将推导的模板参数替换为参数列表的阶段。在这个阶段，默认参数将用于尚未推导出的模板参数。

关于这个额外步骤完成的推理上下文以及活动核心问题的主题不是什么的问题，[http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_active.html#697](http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_active.html#697)。

如果您执行那个额外的替换步骤，您还需要实例化模板（否则替换步骤本身没有多大意义）。您也可以只选择默认参数，而不进行替换，但是在标准中，这两件事是一起的，所以作为一个实现者，我不会选择那个路径。

部分排序在很大程度上独立于正在执行部分排序的上下文（考虑了一些依赖于上下文的事情 - 例如，忽略没有显式调用参数的函数参数）。它也独立于模板参数是否传递了显式模板参数（因此，如果您给 一个值`U`，部分排序将不会“记住”它。

Clang 和 GCC 不执行替换步骤，也不使用模板默认参数。因此，当与`T`进行比较`U::key_type`以弄清楚时`U`，他们会说“嗯，一个非推断的上下文。我们会说'成功，没有什么不匹配的！'” 对于这个参数”。`T`与 比较时也会发生同样的情况`T::key_type`。当它比较另一个方向时，`WhatEver::key_type`反对`T`，`T`也可以推断出依赖类型。因此，对于第二个参数，在您的两次尝试中，两个模板至少彼此一样专业。

但是重要的区别是，在扣除之后，参数类型列表中使用的所有参数都必须有值。

> 在大多数情况下，所有模板参数都必须具有值才能成功进行推导，但出于偏序目的，模板参数可能会保持没有值，前提是它未用于偏序的类型。[ 注意：在非推导上下文中使用的模板参数被视为已使用。——尾注]

在您的第二次尝试中，`T`由第一个参数推断，因此在参数/参数类型的比较完成后没有发生任何不好的事情。在第一次尝试中，`U`没有推导出来，因此第一个模板不被认为比第二个模板“更专业”。

# android - 计时器运行时，动画 GIF 在 WebView 中冻结

> ID：15697068
> 
> 赞同：2
> 
> 时间：2013-03-29T03:55:27.073
> 
> 标签：android, android-webview, countdowntimer

我有一个加载了动画 gif 的 WebView。我还有一个倒数计时器，当它启动时，它会加载不同的动画 gif。

当计时器运行时，gif 不会动画。解决此问题的最佳方法是什么？

```
public class Practice extends SherlockActivity implements
    AnimationLayout.Listener {
public final static String TAG = "Practice";

protected ListView mList;
protected AnimationLayout mLayout;
protected String[] mStrings = { "Lesson 1", "Lesson 2", "Lesson 3",
        "Lesson 4", "Lesson 5", "Lesson 6", "Lesson 7", "Lesson 8",
        "Lesson 9", "Lesson 10" };
String[] lesson1;
String[] lesson2;
String[] lesson3;
String[] lesson4;
String[] lesson5;
String[] lesson6;
String[] lesson7;
String[] lesson8;
String[] lesson9;
String[] lesson10;
Button buttonA;
Button buttonB;
Button buttonC;
Button buttonD;
String[] prev;
int numCorrect;
int numWrong;
int i;
String answer;
static Random rnd;
Random r;
final String alphabet = "ABCD";
final int N = 4;
char letter = 'A';
String rand = " ";
int index;
WebView sign;
long mMilliseconds = 10000;
TextView score;

CountDownTimer mCountDownTimer = new CountDownTimer(mMilliseconds, 10){
    @Override
    public void onFinish() {
        score.setText("0");
    }

    public void onTick(long millisUntilFinished){
        score.setText(String.valueOf(millisUntilFinished/100));
    }
};
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_practice);

    prev = new String[100];
    rnd = new Random();
    r = new Random();
    score = (TextView) findViewById(R.id.textView1);

    lesson1 = getResources().getStringArray(R.array.lesson_1);
    lesson2 = getResources().getStringArray(R.array.lesson_2);
    lesson3 = getResources().getStringArray(R.array.lesson_3);
    lesson4 = getResources().getStringArray(R.array.lesson_4);
    lesson5 = getResources().getStringArray(R.array.lesson_5);
    lesson6 = getResources().getStringArray(R.array.lesson_6);
    lesson7 = getResources().getStringArray(R.array.lesson_7);
    lesson8 = getResources().getStringArray(R.array.lesson_8);
    lesson9 = getResources().getStringArray(R.array.lesson_9);
    lesson10 = getResources().getStringArray(R.array.lesson_10);

    rand = lesson1[rnd.nextInt(lesson1.length)];

    mLayout = (AnimationLayout) findViewById(R.id.animation_layout);
    mLayout.setListener(this);

    mList = (ListView) findViewById(R.id.sidebar_list);
    mList.setAdapter(new ArrayAdapter<String>(this,
            android.R.layout.simple_list_item_multiple_choice, mStrings));
    mList.setChoiceMode(ListView.CHOICE_MODE_MULTIPLE);
    mList.setItemChecked(0, true);

    sign = new WebView(getApplicationContext());
    sign = (WebView) findViewById(R.id.webView1);

    buttonA = (Button) findViewById(R.id.option1_button);
    buttonB = (Button) findViewById(R.id.option2_button);
    buttonC = (Button) findViewById(R.id.option3_button);
    buttonD = (Button) findViewById(R.id.option4_button);

    setSign();
}

public void onClickContentButton(View v) {
    mLayout.toggleSidebar();
}

public void onClickA(View v) {
    if (answer == buttonA.getText().toString()) {
        numCorrect += 1;
    } else {
        numWrong += 1;
    }

    setSign();
}

public void onClickB(View v) {
    if (answer == buttonB.getText().toString()) {
        numCorrect += 1;
    } else {
        numWrong += 1;
    }

    setSign();
}

public void onClickC(View v) {
    if (answer == buttonC.getText().toString()) {
        numCorrect += 1;
    } else {
        numWrong += 1;
    }

    setSign();
}

public void onClickD(View v) {
    if (answer == buttonD.getText().toString()) {
        numCorrect += 1;
    } else {
        numWrong += 1;
    }

    setSign();
}

public void onClick(View view) {

}

@Override
public void onBackPressed() {
    if (mLayout.isOpening()) {
        mLayout.closeSidebar();
    } else {
        finish();
    }
}

@Override
public void onSidebarOpened() {
    Log.d(TAG, "opened");
}

@Override
public void onSidebarClosed() {
    Log.d(TAG, "opened");
}

@Override
public boolean onContentTouchedWhenOpening() {
    Log.d(TAG, "going to close sidebar");
    mLayout.closeSidebar();
    return true;
}

public void setSign() {

    answer = pickRandomAnswer(prev[i]);

    letter = alphabet.charAt(r.nextInt(N));

    sign.loadUrl("file:///android_asset/" + answer.toLowerCase() + ".html");

    prev[i] = answer;

    buttonA.setText(pickRandomAnswer(answer));
    buttonB.setText(pickRandomAnswer(buttonA.getText().toString()));
    buttonC.setText(pickRandomAnswer(buttonB.getText().toString()));
    buttonD.setText(pickRandomAnswer(buttonC.getText().toString()));

    if (letter == 'A')
        buttonA.setText(answer);
    if (letter == 'B')
        buttonB.setText(answer);
    if (letter == 'C')
        buttonC.setText(answer);
    if (letter == 'D')
        buttonD.setText(answer);

    if(i>= 95){
        i = 0;
    } else {
        i += 1;
    }
    mCountDownTimer.start();
}

public String pickRandomAnswer(String str) {

    do{
        index = rnd.nextInt(10+1);

        if(index == 1){
            if(mList.isItemChecked(0)){
                rand = lesson1[rnd.nextInt(lesson1.length)];
            }
        }

        if(index == 2){
            if(mList.isItemChecked(1)){
                rand = lesson2[rnd.nextInt(lesson2.length)];
            }
        }

        if(index == 3){
            if(mList.isItemChecked(2)){
                rand = lesson3[rnd.nextInt(lesson3.length)];
            }
        }

        if(index == 4){
            if(mList.isItemChecked(3)){
                rand = lesson4[rnd.nextInt(lesson4.length)];
            }
        }

        if(index == 5){
            if(mList.isItemChecked(4)){
                rand = lesson5[rnd.nextInt(lesson5.length)];
            }
        }

        if(index == 6){
            if(mList.isItemChecked(5)){
                rand = lesson6[rnd.nextInt(lesson6.length)];
            }
        }

        if(index == 7){
            if(mList.isItemChecked(6)){
                rand = lesson7[rnd.nextInt(lesson7.length)];
            }
        }

        if(index == 8){
            if(mList.isItemChecked(7)){
                rand = lesson8[rnd.nextInt(lesson8.length)];
            }
        }

        if(index == 9){
            if(mList.isItemChecked(8)){
                rand = lesson9[rnd.nextInt(lesson9.length)];
            }
        }

        if(index == 10){
            if(mList.isItemChecked(9)){
                rand = lesson10[rnd.nextInt(lesson10.length)];
            }
        }

    } while ( rand.contains("Grammar")| rand == str);
    return rand;
}

static void shuffleArray(String[] words) {
    for (int i = words.length - 1; i >= 0; i--) {
        int index = rnd.nextInt(i + 1);
        String a = words[index];
        words[index] = words[i];
        words[i] = a;
    }
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T05:39:08.750

查看您的代码后，您的问题的一个可能原因是您`TextView`在每次`onTick()`调用`CountDownTimer`. 文档`CountDownTimer`只提到它是“定期”调用的，所以我不确定它被调用的频率，但在我看来，你不应该在每次`onTick()`调用时做一些更新 UI 的事情，尤其是当你有`WebView`一个 gif 动画（一个相当资源密集型的任务）。`onTick()`我建议在你的方法中这样做：

```
public void onTick(long millisUntilFinished){
   if (mLastMillisUntilFinished == 0 ||
       mLastMillisUntilFinished - millisUntilFinished > UI_UPDATE_INTERVAL) {
       score.setText(String.valueOf(millisUntilFinished/UI_UPDATE_INTERVAL));
       mLastMillisUntilFinished = millisUntilFinished;
   }
} 
```

这样，您只需每`UI_UPDATE_INTERVAL`毫秒更新一次 UI（只需将其定义为您想要的间隔，例如在您的情况下为 100 以每 10 秒更新一次）。这可以保护您避免过于频繁地更新 UI，并允许`WebView`您完成它的工作。

作为最后的手段，有一个更复杂（不太复杂）的解决方案可以让您获得所需的性能。`GifView`在我的一个 github 存储库中查看此类：

> [https://github.com/bduncavage/catoverflow/blob/master/src/jp/tomorrowkey/android/gifplayer/GifView.java](https://github.com/bduncavage/catoverflow/blob/master/src/jp/tomorrowkey/android/gifplayer/GifView.java)

我在 google code 的一个废弃项目中找到了该类，并将其用于需要我将动画 gif 绘制到 Canvas 的项目中。它需要认真的工作，因为它根本不是线程安全的，而且它占用内存，但是，它确实有效。

您可以非常轻松地使用 GifView，它应该比使用 WebView 来制作 gif 动画要快得多。您还需要[GifDecoder](https://github.com/bduncavage/catoverflow/blob/master/src/jp/tomorrowkey/android/gifplayer/GifDecoder.java)类。

干杯。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T12:53:34.683

作为最后的手段，我想说你也可以将你的 GIF 分割成帧，然后使用 drawables 在 android 中渲染它们。 [绘图参考](http://developer.android.com/reference/android/graphics/drawable/AnimationDrawable.html)

# javascript - mp4 和 webm 在使用 videojs 时会导致 web 浏览器中的冲突

> ID：15697070
> 
> 赞同：0
> 
> 时间：2013-03-29T03:55:35.937
> 
> 标签：javascript, html, video, webm

我使用下面的视频播放器**videojs**：

```
<video id="font_video" class="video-js vjs-default-skin" controls preload="none" width="700" height="360" poster="" data-setup="{}">
  <source src="xxx.mp4" type='video/mp4' />
  <source src="xxx.webm" type='video/webm' />
</video>

<script>
   _V_.options.flash.swf = "assets/video-js.swf";
</script> 
```

上述代码在**Safari中成功运行，但在****Chrome**和**Firefox**中无法运行。

如果我交换*mp4*和*webm*位置，如下所示：

```
<video id="font_video" class="video-js vjs-default-skin" controls preload="none" width="700" height="360" poster="" data-setup="{}">
  <source src="xxx.webm" type='video/webm' />
  <source src="xxx.mp4" type='video/mp4' />
</video> 
```

然后代码不再在**Safari**中运行，而是在**Chrome**和**Firefox**中运行。有人有解释吗？

# python - 使用 Python 拟合稀疏网格的函数

> ID：15697072
> 
> 赞同：1
> 
> 时间：2013-03-29T03:55:46.353
> 
> 标签：python, curve-fitting, sparse-matrix

我正在寻找一段 Python 代码，用于在多维稀疏网格上进行函数拟合。我对多项式拟合很感兴趣。

更具体地说，与完整网格数据相比，稀疏网格数据的数量要少得多，因此，为了能够找到多维多项式的所有系数，我们可能需要的函数值太少拟合稀疏网格数据。有什么比首先使用子包“griddata”在完整网格数据上插入稀疏网格数据然后对数据进行多项式拟合更好的主意？是否有任何可用的 Python 代码？

# java - 制作刽子手游戏，什么代码会检查一个角色是否是某个角色

> ID：15697078
> 
> 赞同：0
> 
> 时间：2013-03-29T03:56:02.077
> 
> 标签：java, class, loops, methods

到目前为止，我有足够的了解，这就是我坚持的地方

```
System.out.println("Word: " + secretWord.getWordMask());   
    //System.out.println("Guesses: " + guesses);
    System.out.print("Enter your guess: ");
    Scanner keyboard = new Scanner(System.in);
    String guess = keyboard.next();
    System.out.println(guess);
    if () 
```

所以我有它到用户输入猜测的地步，但是它需要类似于，如果猜测是单词中的一个字符，然后显示该字符

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T03:59:38.497

```
guess.chatAt(index); 
```

这将为您提供输入字符串中给定索引处的字符。您可以使用它遍历字符串，并在`match`找到字符时显示它。

这是您可以使用它的方式：-

```
Character ch = guess.charAt(0);
if(word.contains(ch.toString())){
    //Reveal the character.
} 
```

# ruby-on-rails - 不匹配的模型和控制器名称中的 cancan 授权

> ID：15697080
> 
> 赞同：0
> 
> 时间：2013-03-29T03:56:10.187
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ruby-on-rails-3.2, cancan

我正在使用cancan，但我遇到了小问题..

```
my ability.rb
can :manage, Department
can :manage, Review 
```

我有 2 个案例，它适用于案例 1，但不幸的是不适用于案例 2

```
case 1 
```

我的部门主管

```
 load_and_authorize_resource :message => "Unable to read this article."
  Here it works because in this controller 
  I use model Department 
```

现在我的评论控制器

```
 case 2

  class ReviewsController < ApplicationController

  load_and_authorize_resource :message => "Unable to read this article."
  layout 'system'
  respond_to :html, :json
  add_breadcrumb "Home", :root_url
  add_breadcrumb "Reviews", :reviews_path
  def index
   @page_title = "Reviews List"
    @reviews = Evaluate.all
  end
    def show
       @page_title = "Review setting of selected Job title"
       @review = Evaluate.find(params[:id])
    end 
```

我怎么解决这个问题 ？

```
 Is there a fix rule in cancan that model name 
    should be related to the controller name?
    Departments(controller) should have Department(model)?
    How can we implement cancan in Reviews(controller) which have Evaluate(model)? 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T05:08:34.863

控制器中的`load_and_authorize_resource`方法用于将资源加载到实例变量中，并为该控制器中的每个操作自动授权。模型和控制器可以单独授权。在您的ability.rb 中，只需使用`can :manage, Evaluate`来授权该模型。

如果您有一个用户模型并且其中有一个管理员布尔字段，那么您可以执行如下授权：

```
if user.admin?  
  can :manage, Evaluate   
else
  can :read, Evaluate   
end 
```

或者，您可以使用授权来授权控制器操作！方法。
回答您的问题：我们如何在具有 Evaluate（模型）的评论（控制器）中实现 cancan？

```
def index
  @reviews = Evaluate.all
  authorize! :read, @reviews
end 
```

# c++ - C++：BOOST-bind 错误：没有匹配函数调用'bind( ，...？

> ID：15697082
> 
> 赞同：2
> 
> 时间：2013-03-29T03:56:16.277
> 
> 标签：c++, boost-asio, boost-bind

我试图把[这个 boost-asio 服务器](http://www.boost.org/doc/libs/1_47_0/doc/html/boost_asio/example/echo/blocking_tcp_echo_server.cpp)变成一个类，但我在编译它时遇到了这个错误，

```
C:\Documents and Settings\tcpip_server\TCPIP_server.h||In member function 'void TCPIP_server::server(boost::asio::io_service&, short int)':|
C:\Documents and Settings\tcpip_server\TCPIP_server.h|56|error: no matching function for call to 'bind(<unresolved overloaded function type>, boost::shared_ptr<boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::stream_socket_service<boost::asio::ip::tcp> > >&)'|
c:\program files\codeblocks\mingw\bin\..\lib\gcc\mingw32\4.4.1\..\..\..\..\include\boost\bind\bind.hpp|1472|note: candidates are: boost::_bi::bind_t<boost::_bi::unspecified, F, typename boost::_bi::list_av_1<A1>::type> boost::bind(F, A1) [with F = void (TCPIP_server::*)(boost::shared_ptr<boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::stream_socket_service<boost::asio::ip::tcp> > >), A1 = boost::shared_ptr<boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::stream_socket_service<boost::asio::ip::tcp> > >]|
c:\program files\codeblocks\mingw\bin\..\lib\gcc\mingw32\4.4.1\..\..\..\..\include\boost\bind\bind.hpp|1728|note:                 boost::_bi::bind_t<typename boost::_bi::dm_result<M T::*, A1>::type, boost::_mfi::dm<M, T>, typename boost::_bi::list_av_1<A1>::type> boost::bind(M T::*, A1) [with A1 = boost::shared_ptr<boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::stream_socket_service<boost::asio::ip::tcp> > >, M = void(boost::shared_ptr<boost::asio::basic_stream_socket<boost::asio::ip::tcp, boost::asio::stream_socket_service<boost::asio::ip::tcp> > >), T = TCPIP_server]|
||=== Build finished: 1 errors, 3 warnings ===| 
```

我知道我应该以某种方式转换`session`函数的类型，但没有歧义，因为只有一个`void`函数存在。我确实检查[了这个线程](https://stackoverflow.com/questions/11305742/i-get-error-unresolved-overloaded-function-type-in-c)，但我仍然对错误感到困惑。这是代码。

主文件

```
#include "TCPIP_server.h"

int main()
{

    return 0;
} 
```

TCPIP_server.h

```
#include <boost/thread/thread.hpp>
#include <boost/bind.hpp>
#include <boost/smart_ptr.hpp>
#include <boost/asio.hpp>
#include <cstdlib>
#include <iostream>

using boost::asio::ip::tcp;

const int max_length = 1024;

class TCPIP_server
{
        private:

            typedef boost::shared_ptr<tcp::socket> socket_ptr;
            char data[max_length];

        public:

        TCPIP_server(){}
        ~TCPIP_server(){}
        void session(socket_ptr sock)
        {
            try
            {
                for (;;)
                {
                    char data[max_length];

                    boost::system::error_code error;
                    size_t length = sock->read_some(boost::asio::buffer(data), error);
                    if (error == boost::asio::error::eof)
                        break; // Connection closed cleanly by peer.
                    else if (error)
                        throw boost::system::system_error(error); // Some other error.

                    boost::asio::write(*sock, boost::asio::buffer(data, length));
                }
            }
            catch (std::exception& e)
            {
                std::cerr << "Exception in thread: " << e.what() << "\n";
            }
        }
        void server(boost::asio::io_service& io_service, short port)
        {
            tcp::acceptor a(io_service, tcp::endpoint(tcp::v4(), port));

            for (;;)
            {
                socket_ptr sock(new tcp::socket(io_service));
                a.accept(*sock);
                boost::thread t(boost::bind(session, sock));
            }
        }
        void main_server()
        {
            try
            {
                std::cerr << "Usage: blocking_tcp_echo_server \n";
                boost::asio::io_service io_service;

                using namespace std; // For atoi.
                server(io_service, atoi("4001"));
            }
            catch (std::exception& e)
            {
                std::cerr << "Exception: " << e.what() << "\n";
            }
        }
}; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T10:35:32.853

`bind`需要调用方法的`TCPIP_server`类实例。`session`所以你的代码应该是：

```
boost::bind(&TCPIP_server::session, this, sock) 
```

`TCPIP_server::`必须在所有平台/编译器上完全兼容 C++03 。

# ruby-on-rails - 预编译错误

> ID：15697083
> 
> 赞同：0
> 
> 时间：2013-03-29T03:56:17.107
> 
> 标签：ruby-on-rails, ruby, deployment, bundle

我遇到了一些问题，由于预编译错误，我的 rails 应用程序没有成功部署

```
Invalid CSS after "c": expected "{", was "}"
(in /Users/johndoe/app/assets/stylesheets/application.css)
(sass):5567 
```

关于如何解决这个问题或如何找到导致错误的确切行的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T08:17:35.367

您不小心在右大括号旁边键入了 ac。做一个发现，`c}`你会抓住它。

# c# - 碰撞管理器中游戏对象之间的关系

> ID：15697085
> 
> 赞同：1
> 
> 时间：2013-03-29T03:56:38.423
> 
> 标签：c#, oop, xna

首先，我想说我的问题更多是关于设计一个好的面向对象系统而不是游戏开发。我正在制作一款太空射击游戏，其中包含子弹、敌人、大石头和宇宙飞船（玩家）等物体。我有一个碰撞管理器（静态类），每帧检查碰撞。为了将子弹的“效果”传递给宇宙飞船或敌人，我这样做了：

```
Interface IHit
{
   Action<BaseGameSprite> GetEffect();
} 
```

*例如在子弹课上我做了：

```
 return new Action<ICollisionInterest>(gameobject =>
                {
                    gameobject.LifePoints -= Damage;

                }); 
```

在碰撞管理器中，如果他发现碰撞：

```
TheHitObject.GetEffect()(HittenObject); 
```

该解决方案有效，但我不确定它是否是一个好的设计，因为 GetEffect() 完全破坏了封装，而且子弹似乎可以对 HittenObject（宇宙飞船或敌人）做任何他想做的事情。所以我的问题是：这是一个好的设计？或者我应该使用不同的东西？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T17:35:30.587

恕我直言，就OO设计而言，我认为设计很好。如果是你的游戏逻辑决定了你的子弹对象可以对它击中的对象做任何想做的事，那为什么不呢？在您列出的示例代码中，我没有看到不同类之间的任何紧密耦合，并且该`GetEffect()`方法没有对任何具体类做出假设，除了要求`gameobject`has`LifePoints`属性，您可能需要添加一条`if`语句来检查是否`gamobject`确实有虽然这个属性。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T05:45:56.620

你检查过实体系统吗？[http://entity-systems.wikidot.com/](http://entity-systems.wikidot.com/)

它促进了比传统的面向对象设计更好的游戏开发架构。在实体系统中，每个游戏对象都表示为一个实体，它只是一个 id。渲染、碰撞检测、计算健康等行为没有封装在实体中，而是表示为可以添加到实体中的组件。实际渲染、物理、健康点计算等由独立的子系统处理。每个子系统处理所有相同类型的组件，而不管它们属于哪个实体。这样一来，渲染、逻辑、物理、ai就清晰的分开了。

要开始学习实体系统，请查看 T=Machine 撰写的经典 3 部分文章： [http://t-machine.org/index.php/2007/09/03/entity-systems-are-the-future-of-mmog-development-part-1/](http://t-machine.org/index.php/2007/09/03/entity-systems-are-the-future-of-mmog-development-part-1/) （你可以谷歌第2部分和第3部分）

# java - 使用 ssh 和 java 生成进程

> ID：15697086
> 
> 赞同：0
> 
> 时间：2013-03-29T03:56:39.720
> 
> 标签：java, bash, ssh

我知道您可以使用以下命令通过 Bash 终端运行脚本：

```
ssh -n -f user@host "sh -c 'nohup /path/to/file/test.sh > /path/to/file/test.out 2>&1 &'" 
```

当我们使用以下 java 命令运行相同的命令时：

```
Runtime.getRuntime().exec( "comand" ).waitFor(); 
```

它不起作用。为了对此进行测试，我正在运行一个简单的 .sh 脚本，该脚本打印“hello world”并将其输出到“test.out”文件。我没有收到运行时错误，只是没有看到该输出。

注意：我在“命令”区域中正确放置了“\”转义字符。

我们如何使用 java 来做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T07:34:12.010

我认为您需要传入要在其中运行命令的 shell 的路径。然后您可以尝试该方法的其他重载版本，并清楚地分开不同的部分：

[Java 运行时 API](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Runtime.html)

[运行时示例](https://stackoverflow.com/questions/13008526/runtime-getruntime-execcmd-hanging)

# multithreading - UI 可以从辅助线程运行吗？

> ID：15697089
> 
> 赞同：-1
> 
> 时间：2013-03-29T03:56:43.577
> 
> 标签：multithreading, cocoa

我正在开发一个为自己的目的垄断主线程的程序。有条件地，这个程序可能需要生成 Cocoa 窗口。但是，因为主线程不会运行事件循环（或者至少不是 a `NSRunLoop`），所以我想知道我是否能够使用`NSRunLoop`来自辅助线程的 a 来运行 UI。

我知道在 Windows 上是可能的，但是从文档中不清楚这是否可以在 Mac OS 上工作，或者如果可能的话，如何做到这一点。

一方面，`NSApplicationMain`必须由主线程调用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T05:24:22.483

不，UI 需要在主线程上。您可以使用 NSOperation 或其他方式在后台执行操作，并在执行 performSelectorOnMainThread 时更新 UI。UI itsel 依赖于应用程序运行循环。

# php - 多个字符串数组比较

> ID：15697090
> 
> 赞同：1
> 
> 时间：2013-03-29T03:56:53.360
> 
> 标签：php, arrays, data-structures

我有一个包含一些字符串的主数组。对于主数组的每个值，我想检查子数组中出现了哪些字符串以及出现了多少次。例如，我有以下数组：

> 主要输入

```
mainArray = {A, B, C, P}

Subarrays
arrayA = {a,c,d,m,o}
arrayB = {b,c,p,q,r}
arrayC = {a,p,q,r,t,e,o}
……………………………
……………………………
arrayN = {a,c,p,n,o} 
```

现在我想检查 A、B、C 和 P 一起出现的位置以及出现了多少次。它应该生成以下输出：

```
resultArray = {{a,b,0}{a,c,2}{a,p,1}{b,c,0}{b,p,0}{c,p,2}} 
```

最后一步是，主数组的每个字符串出现在子数组中的次数：

> 最终输出

```
lastArray = A=3,B=0,C=4,P=3 
```

我将拥有数千个主阵列和数千个子阵列。因此，性能也是一个问题:(

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T04:05:13.070

我会使用番石榴库[多集](http://code.google.com/p/guava-libraries/wiki/NewCollectionTypesExplained)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T19:52:18.683

让我们继续使用标准 Java。将问题分解为步骤。

1.  重命名这些变量。mainSet、setA、setB 等实际上是数组，而不是集合。称它们为候选字符串、arrayA、arrayB 等。
2.  将 arrayA、arrayB 等重写为 List 中的项目，以便您可以循环访问它们。你会有一个`List<String[]>`, 有一个新的名字。我不知道你的目的，所以我可能会调用这个列表，`partitions`或者`cover`，在拓扑中打开覆盖的想法之后。让我们使用分区。
3.  将每个分区转换为`Set<String>`s，以便您可以使用 Java Collections 框架。你最终会得到一个`List<Set<String>>`.
4.  计算 mainSet 的所有 2 元素子集的集合。顺便说一句，这就是为什么 CandidateStrings 作为`List`. 使用`Set<Set<String>>`并调用它`pairs`
5.  [对于 mainList 的每个 2 元素子集，使用Set.containsAll](http://docs.oracle.com/javase/7/docs/api/java/util/Set.html#containsAll%28java.util.Collection%29)计算包含它的分区数。将计数存储在一个`Map<Set<String>, Integer>`名为`pairCounts`.
6.  你`resultSet`在这里没有多大意义；什么数据结构`{a, b, 0}`？只需编写一个格式化`pairCounts`供人类消费的方法。
7.  迭代两者`candidateStrings`并`partitions`计算你的`lastSet`，这真的应该是一个`Map<String, Integer>`被调用的`counts`。
8.  编写一个格式化的方法`counts`。

现在，这可能很慢。它会起作用的。您可以为每个步骤编写测试。一旦编写了正确的代码，就担心速度。

# java - 鼠标释放时线条在绘图程序中消失

> ID：15697091
> 
> 赞同：1
> 
> 时间：2013-03-29T03:56:56.940
> 
> 标签：java, swing, line, paint, repaint

写在下面的 BasicLinePix 类中，我尝试创建一个程序，该程序允许用户通过按住 shift 键同时按住鼠标按钮并将其拖动到端点来绘制线条。问题是当鼠标被释放时，这条线就消失了。我试图让线条显示在面板中，并显示以相同方式绘制的多条线条。

我的代码如下所示：

```
 // this method overrides the paint method defined in JFrame
    public void paint(Graphics g) {
        super.paint(g);

    }

    // Inner class - instances of this class handle action events
    private class EventHandler implements ActionListener, MouseListener,
            MouseMotionListener {

        private Point startPoint = null; // line's start point
        private Point endPoint = null; // line's most recent end point

        public void actionPerformed(ActionEvent arg0) {
            if (arg0.getActionCommand().equals("Exit")) {
                statusLabel.setText("Exiting program...");
                System.exit(0);
            }

        }

        @Override
        public void mouseClicked(MouseEvent arg0) {
            // TODO Auto-generated method stub

        }

        @Override
        public void mouseEntered(MouseEvent arg0) {
            // TODO Auto-generated method stub

        }

        @Override
        public void mouseExited(MouseEvent arg0) {
            // TODO Auto-generated method stub

        }

        @Override
        public void mousePressed(MouseEvent e) {

            if (e.isShiftDown()) {

                // record starting point for line
                startPoint = new Point(e.getX(), e.getY());

                // initialize endPoint
                endPoint = startPoint;
            }

            if (e.isControlDown()) {
                Graphics g = drawingPanel.getGraphics();
                g.drawString("Hello", e.getX(), e.getY());
            }

        }

        @Override
        public void mouseReleased(MouseEvent arg0) {
            //repaint the frame and its contents
            //this executes the paint method defined above
            repaint();
        }

        @Override
        public void mouseDragged(MouseEvent e) {

            if (e.isShiftDown()) {
                // Implement rubber-band cursor
                Graphics g = drawingPanel.getGraphics();
                g.setColor(Color.black);

                g.setXORMode(drawingPanel.getBackground());

                // REDRAW the line that was drawn
                // most recently during this drag
                // XOR mode means that yellow pixels turn black
                // essentially erasing the existing line
                drawLine(g, startPoint, endPoint);

                // Update the end point of the line to current mouse position
                endPoint = new Point(e.getX(), e.getY());

                // Draw line to current mouse position
                // XOR mode: yellow pixels become black
                // black pixels, like those from existing lines, temporarily
                // become
                // yellow
                drawLine(g, startPoint, endPoint);

            }

        }

        @Override
        public void mouseMoved(MouseEvent arg0) {
            // TODO Auto-generated method stub

        }

        private void drawLine(Graphics g, Point start, Point end) {
            if (startPoint != null && endPoint != null) {
                int startX = ((Double) start.getX()).intValue();
                int startY = ((Double) start.getY()).intValue();

                int endX = ((Double) end.getX()).intValue();
                int endY = ((Double) end.getY()).intValue();

                g.drawLine(startX, startY, endX, endY);
            }
        }

    }

} 
```

任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-29T04:00:12.843

不要使用`getGraphics()`对组件的调用来获取组件的 Graphics。画在`paintComponent(...)`方法里。您会在此站点和图形教程中多次找到此建议。

问题是通过调用`getGraphics()`组件获得的 Graphics 对象不是持久的 Graphics 对象，并且会随着下一次重绘而消失。

请注意，您发布的 80% 的代码与您的问题无关，完全没有必要和分散注意力。

编辑：请注意，您的程序看起来可能会受益于使用 BufferedImage，绘制到它，然后在 JPanel 的 paintComponent 方法中显示 BufferedImage。如果你确实走这条路，那么是的，只要你在完成后处理它，就可以通过它来获取*BufferedImage 的*Graphics 对象。`getGraphics()`

编辑2：虽然删除不相关的代码是个好主意，但不要删除太多，以免使您的代码无法编译且无法运行。而是研究创建一个[sscce](http://sscce.org)。

# bazaar - 如何在 Bazzar 中添加远程存储库 URL？

> ID：15697093
> 
> 赞同：5
> 
> 时间：2013-03-29T03:57:23.310
> 
> 标签：bazaar, launchpad

我是一个 git 用户，但现在我需要处理一个托管在启动板上的项目。

我注意到 git 和 bzr 很相似，但显然有一些令人困惑的区别。

在 git 中，当您克隆远程仓库时，本地副本会自动挂接到远程仓库 url。显然，在 Bzr 中情况并非如此。

那么如何在 bzr 中添加远程 URL 呢？在 git 我会做这样的事情：

```
git remote add origin git@github.com:bar/foo.git 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-29T22:57:27.217

当您使用`bzr branch lp:project`它将本地存储库的*父分支*设置为您指定的 URL 时。`bzr pull`将自动使用父分支，但`bzr push`如果要推送到父分支，则需要您指定父分支，如下所示`bzr push :parent`：您可以`--remember`在 push 命令中添加选项来设置*push 分支*，这样您就不必`:parent`每次都指定。`bzr info`您可以使用该命令查看本地存储库的父分支、推送分支和拉取分支。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T08:03:25.873

在 BAZAAR 中，此操作称为**绑定**。
[http://doc.bazaar.canonical.com/beta/en/user-reference/bind-help.html](http://doc.bazaar.canonical.com/beta/en/user-reference/bind-help.html)

```
bzr bind lp:~bzr/bzr-gtk/trunk 
```

当我使用 TortoiseBzr 进行结帐（分支）时，我的工作副本会自动绑定到分支原点。

# java - 为什么当我调用 release() 时 MediaPlayer 会调用 IllegalStateException？

> ID：15697100
> 
> 赞同：3
> 
> 时间：2013-03-29T03:58:10.770
> 
> 标签：java, android, android-mediaplayer, android-videoview, illegalstateexception

我有一个`Activity`，其中有一个`MediaPlayer`，大约播放 150 次后，会显示一条系统消息，说“无法播放视频”。应用程序的强制重启会将此问题重置为另外 150 次播放。

我假设这是某种内存泄漏，尽管我完全不清楚会泄漏什么，而且这些 simptoms 与 Android 分配给我的应用程序的内存量不相符。视频大约 3mb，所以，如果我每次播放都泄漏那么多，这意味着我的应用程序可以访问 450mb 的内存，我们知道这是不正确的。

无论如何，我正在尝试查看是否可以以某种方式手动发布视频，但是`IllegalStateException`当我调用 release 时，我得到了一个`MediaPlayer`传递给我的`onCompletion`回调的消息。

我的代码如下所示：

```
VideoView vv = (VideoView)findViewById(R.id.movie);
Uri videoURI = Uri.parse("android.resource://" + getPackageName() + "/raw/video_in" );
vv.setVideoURI(videoURI);
vv.start();
vv.setOnCompletionListener(new OnCompletionListener() {         
    @Override
    public void onCompletion(MediaPlayer mp) {
        Intent i = new Intent(getPackageName() + ".SCENE_2");               
        startActivity(i);
        mp.stop();
        mp.release();//here the exception is raised
        finish();
    }
}); 
```

该[文档](http://developer.android.com/reference/android/media/MediaPlayer.html#Valid_and_Invalid_States)似乎暗示没有状态不能在 a 上调​​用 release `MediaPlayer`，所以，我很难过。我在 JellyBean，以防万一。

# iphone - 如何在 MKMapView 上添加按钮？

> ID：15697104
> 
> 赞同：2
> 
> 时间：2013-03-29T03:58:35.303
> 
> 标签：iphone, objective-c, uibutton, mkmapview

我正在尝试制作一个地图有按钮的 iPhone 应用程序，我该怎么做？我已经实现`MKMapView`并设置了它`longitude/latitude`并将它集中在我想要的位置。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-29T04:11:14.583

你没有详细说明你的问题，所以我想你想要，

[利用 `MKUserTrackingBarButtonItem`](http://developer.apple.com/library/ios/#documentation/MapKit/Reference/MKUserTrackingBarButtonItemClassRef/Reference/Reference.html)

```
 - (void)viewDidLoad
    {
        [super viewDidLoad];    
        MKUserTrackingBarButtonItem *buttonItem = [[MKUserTrackingBarButtonItem alloc] initWithMapView:self.map];
        self.navigationItem.rightBarButtonItem = buttonItem;
    } 
```

`AMKUserTrackingBarButtonItem`object 是一个专门的栏按钮项，允许用户在用户跟踪模式之间切换。例如，当用户点击按钮时，地图视图会在跟踪用户是否有方向之间切换。如果在别处设置，该按钮还反映当前用户跟踪模式。此条形按钮项与单个地图视图相关联。

另请阅读此问题[如何在 Iphone 的地图上放置按钮](https://stackoverflow.com/questions/3303919/how-to-put-a-button-on-a-map-in-iphone)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T06:05:28.013

试试看....

```
- (MKAnnotationView *)mapView:(MKMapView *)mV viewForAnnotation:(id <MKAnnotation>)annotation
{
    MKPinAnnotationView *pinAnnotation = nil;
    if(annotation != myMapView.userLocation) 
    {
        static NSString *defaultPinID = @"myPin";
        pinAnnotation.pinColor = MKPinAnnotationColorRed;
        pinAnnotation = (MKPinAnnotationView *)[myMapView dequeueReusableAnnotationViewWithIdentifier:defaultPinID];
        if ( pinAnnotation == nil )
            pinAnnotation = [[[MKPinAnnotationView alloc] initWithAnnotation:annotation reuseIdentifier:defaultPinID] autorelease];

        pinAnnotation.canShowCallout = YES;

        infoButton = [[UIButton alloc]initWithFrame:CGRectMake(0, 0, 25, 25)];
        [infoButton setBackgroundImage:[UIImage imageNamed:@"arrow_go_map.png"] forState:UIControlStateNormal];
        pinAnnotation.rightCalloutAccessoryView = infoButton;
        [infoButton addTarget:self action:@selector(detailBtnClk:) forControlEvents:UIControlEventTouchUpInside];
    }    
    return pinAnnotation;
} 
```

希望我有所帮助

# google-analytics - _setCampNameKey 在 Google Analytics 中的使用

> ID：15697112
> 
> 赞同：0
> 
> 时间：2013-03-29T03:59:51.810
> 
> 标签：google-analytics

我正在查看页面上用于谷歌分析的 js。它包含以下内容（更改了域名、名称等）。这是在主页上。我知道这些是用来设置活动变量的，但是......为什么有人会在主页上这样做？也许是因为他们有多个站点，并且将每个站点的点击作为一个活动进行跟踪？这是一个好的配置吗？

```
 _gaq.push(['_setDomainName', 'somesite.co.uk']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_setCampNameKey', 'John Doe']);
  _gaq.push(['_setCampSourceKey', 'any']);
  _gaq.push(['_setCampMediumKey', 'any']);
  _gaq.push(['_setCampTermKey', 'plumbs']);
  _gaq.push(['_setCampContentKey', 'all']);
  _gaq.push(['_trackPageview']); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T12:17:29.540

你想的更进一步。所有的`_setCamp*Key`函数都告诉 GA 去查看`Key`-- 而不是值。仔细查看[GA Campaign Tracking Docs中的示例](https://developers.google.com/analytics/devguides/collection/gajs/methods/gaJSApiCampaignTracking#_gat.GA_Tracker_._setCampContentKey)

# wcf - WCF 中阻塞的工作线程

> ID：15697113
> 
> 赞同：2
> 
> 时间：2013-03-29T04:00:03.187
> 
> 标签：wcf, asynchronous, threadpool

在 Juval Lowy 的文本“Programming WCF Services”中，他写道：

> ...当客户端调用 Begin() 形式的方法并将 AsyncPattern 设置为 true 时，这会告诉 WCF 不要尝试直接调用服务上具有该名称的方法。相反，WCF 应该使用线程池中的线程来同步调用底层方法。同步调用将阻塞线程池中的线程，而不是调用客户端（p441）。
> 
> 当每个异步方法的执行完成时，工作线程不会安静地返回池，而是调用完成回调（p447）。

我听到的是一个（工人？）线程在调用线程继续时被阻塞。这意味着如果我从客户端发出数千个这样的（长时间运行的）异步调用，我将开始扼杀我的线程池性能，因为线程池将开始产生新线程来替换所有被阻塞的线程。

但也许自从朱瓦尔写这本书以来，这个故事已经改变了？我注意到有人[与 Juval 所说的相矛盾](http://nirajrules.wordpress.com/2009/09/28/net-worker-threads-io-threads-and-asynchronous-programming/)，但在一年前写的一篇完整的文章中。

这里的*真实*情况是什么？

# google-chrome - 带有@match chrome-extension:// 的用户脚本

> ID：15697119
> 
> 赞同：4
> 
> 时间：2013-03-29T04:00:43.597
> 
> 标签：google-chrome, google-chrome-extension, userscripts

当我尝试使用以“chrome-extension://”开头的 (@match) URL 安装用户脚本时，Google Chrome 会显示“无效的脚本标头”并且不允许我安装。

是否可以在 chrome-extension:// url 上运行用户脚本？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-30T04:43:40.180

这个问题几乎是重复的：

*   [我可以使用 JavaScript（用户脚本）修改 chrome://extensions/ 页面吗？](https://stackoverflow.com/questions/6148487/can-i-modify-chrome-extensions-page-with-javascriptuser-script)
*   [content_scripts 匹配“chrome-extension://*/*”是否有效？](https://stackoverflow.com/questions/10196258/does-content-scripts-matches-chrome-extension-work)

答案似乎是否定的**。Chrome** 用户脚本、内容脚本和 Tampermonkey 脚本无法在页面 `chrome:`上运行。`chrome-extension:`

您将收到一条`Invalid script header.`消息或`Invalid scheme.`警报，具体取决于您尝试安装脚本（或带有内容脚本的扩展）的方式。

尽管**文档**[明确](http://developer.chrome.com/extensions/match_patterns.html)指出：

> `chrome-extension://*/*` 匹配任何指向扩展的 URL（第一个 * 代表扩展 ID 的过滤器，第二个代表路径）。
> （例子：）`chrome-extension://askla...asdf/options.html`

有两个相关的错误表明这是一个文档错误，而不是有效或计划的功能。看/看：

*   [问题 124004：content_scripts " `chrome-extension://*/*`" 给出无效值](http://code.google.com/p/chromium/issues/detail?id=124004)
*   [问题 153245：文档需要澄清何时可以使用具有匹配模式的方案。](http://code.google.com/p/chromium/issues/detail?id=153245)

# php - 使用 PHP 进行恶意链接检查的 API？

> ID：15697121
> 
> 赞同：3
> 
> 时间：2013-03-29T04:00:46.283
> 
> 标签：php

我想知道是否有任何免费的 PHP API 允许我检查特定 URL 是否是恶意的（例如，它包含病毒）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T04:07:03.470

谷歌好像有一个。[安全浏览 API](https://developers.google.com/safe-browsing/)

# java - 在不生成 404 头的网页上捕获 404 类型异常

> ID：15697122
> 
> 赞同：0
> 
> 时间：2013-03-29T04:00:53.237
> 
> 标签：java, html, http-status-code-404, httpurlconnection

我试图找出是否存在使用 Java 的网页，如果它响应代码 200（页面存在）。

我还可以通过获取响应代码 404 来确定页面是否（不存在）。我的问题是某些网站不提供 404 并且会重定向或显示不应该的页面？存在于下面的示例中。

我不知道这是否只是因为我对 html 响应代码或 java.xml 不够了解。

在帮助在这些页面上获取错误代码而不是 200 或捕获异常方面的任何帮助将不胜感激。（对不起，如果我没有意义）。

```
public class TestMain {

public static void main(String[] args) {

    Test test = new Test();
    test.UrlCheck();        
}
} 
```

测试班

```
import java.io.IOException;
import java.net.HttpURLConnection;
import java.net.MalformedURLException;
import java.net.ProtocolException;
import java.net.URL;

public class Test{

public void UrlCheck(){ 

    try{    
    URL url = new URL("http://googlewebmastercentral.blogspot.com.au/5000");
    HttpURLConnection urncon = (HttpURLConnection)url.openConnection (); 
    urncon.setRequestMethod ("HEAD"); 
    urncon.connect(); 

    int code = urncon.getResponseCode();    
    if(code == 200)
    System.out.println("Page Found");

    }catch(MalformedURLException mue){
        mue.printStackTrace();
    } catch (ProtocolException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }
}       
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T04:12:14.760

我认为您将无法在某些站点上执行 tjis - 他们将具有自定义 404 处理程序，页面会将您重定向到“未找到”（良好做法）。在这种情况下，404 eill 永远不会返回给您，而是有效的页面。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T04:13:44.157

由于有问题的网站说该页面存在，因此您无能为力。如果仅针对某些网站，我建议您在响应正文中搜索表明它不符合您的条件的内容（例如“无帖子”）。转到[http://googlewebmastercentral.blogspot.com.au/500067890](http://googlewebmastercentral.blogspot.com.au/500067890)会得到 404，所以示例页面可能真的存在吗？

```
// lazy and untested example. Can't remember if getContentEncoding gives character encoding

String charset = urncon.getContentEncoding();
if (charset == null) {
    // Sane default
    charset = "UTF-8";
}
String data = org.apache.commons.io.IOUtils.toString(urncon.getInputStream(), charset);
if (!data.contains("foobar")) {
    throw new IOException("Site not liked");
} 
```

编辑：为 IOUtils 添加包名称和固定方法名称。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T04:14:32.643

没有万无一失的方法可以实现您想要的，这取决于站点如何处理 404。他们可能会简单地抑制它并为您提供自定义响应。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-29T04:16:03.277

如果它返回 200 则该页面存在，如果这是网站管理员选择做的事情，那么实际上并没有一种通用的方法来捕捉它。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-29T05:13:04.037

> 我的问题是一些网站不提供 404 并且会重定向或显示不应该的页面......

...带有 200 状态码。

对此没有通用的解决方案。

如果网站选择以 3xx 或 200 响应不存在的页面，则没有通用方法来区分响应页面和“真实”页面。实际上，响应页面可能与“真实”页面无法区分......即使对于人类也是如此。

您希望做的最好的事情是对您的应用程序进行编码，以识别您正在抓取的特定站点（或多个站点）的行为；例如，通过在响应页面中查找特征字符串。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-29T21:21:05.037

大多数情况下，所有网站都会发送 404 以显示“找不到页面”错误。如果他们正在更改响应，则将其设置为 200 的可能性很小，因为 200 表示成功。

但是正如其他人所标记的，除非网站所有者通知其他人，否则您无法在代码中识别这一点。

# javascript - 在 Meteor 中，我如何编写一个帮助程序以在车把的每个循环中使用？

> ID：15697125
> 
> 赞同：0
> 
> 时间：2013-03-29T04:00:57.547
> 
> 标签：javascript, meteor, handlebars.js

我的帐户（一个集合）的每一行大约是 {_id: xxx, last_name:'kuo', first_name'willy'}

我的 client.js 中有以下内容

```
Template.accountPage.accounts = function() {
    return Accounts.find({});
} 
```

我的问题在我的 client.html 中：

```
{{#each accounts}}

  {{last_name}}
  {{first_name}}
  {{full_name}}   # <-----  how can I implement the full_name helper
                  #         which should return account.first_name + account.last_name

{{/each}} 
```

## 编辑

上面的例子应该很简单，下面是新的：

我的 client.js 中有以下内容

```
Template.accountPage.accounts = function() {
    return Accounts.find({});
} 
```

我的问题在我的 client.html 中：

```
{{#each accounts}}

  {{last_name}}
  {{first_name}}
  {{created_at}}   # <-----  how can I implement the created_at
                   #         which is computed by accounts._id.getTimestamp()

{{/each}} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T05:45:30.057

定义了以下助手可以实现的目标：

```
Template.accountPage.helpers({
    created_at: function() {
        return this._id.getTimestamp();
    }
}) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-31T01:27:53.003

waitingkuops 方法有效，但仅适用于特定情况。如果您想为循环项目分配任意助手，您可以执行以下操作：

```
{{#each accounts}}
  {{> accountItem}}
{{/each}}

<template name="accountItem">
  // custom helper
  {{customValue}}
  // standard values
  {{last_name}}
  {{first_name}}
  {{last_name}}
</template>

Template.accountItem.helpers({
  customValue: this.first_name + this.last_name + 'hey!'
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T04:12:41.547

尝试

```
{{#each accounts}}
  {{last_name}}
  {{first_name}}
  {{first_name}} {{last_name}} 
{{/each}} 
```

# web-services - 设备如何发送 POST 请求

> ID：15697132
> 
> 赞同：0
> 
> 时间：2013-03-29T04:01:43.240
> 
> 标签：web-services, post, ios6, passbook

我不明白设备如何发送 POST 请求`https://webserviceURL/v1/devices/{deviceLibraryIdentifier}/registrations/{passTypeIdentifier}/{serialNumber}`

为了在添加通行证后注册到 Web 服务器。如何在 php 中编码以从该 URL 获取数据？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T04:09:19.267

有没有试过[如何设置webServiceURL并注册成功](https://stackoverflow.com/questions/15469533/how-to-set-webserviceurl-and-register-successfully)

这提供了示例代码。如果您尝试遇到更具体的问题，请告诉我们，以便我们提供帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T04:45:50.963

如果 pass.json 包含一个有效的`webserviceURL`并且`authenticationToken`它正确地添加到设备中，它只会注册自己——你不需要做任何事情。

当您翻转通行证时，您会看到通知切换吗？如果是这样，那么每次您切换通知开关时，通行证都会尝试注册。

检查事项：

*   由于您使用的是 MAMP 设置。确保您已正确设置 SSL，并且您的 webServiceURL 包含正确的端口。您应该能够使用[此脚本](https://stackoverflow.com/questions/15674936/error-on-rewrite-rule-or-any-thing-else/15677674#15677674)`https://webserviceURL/v1/devices/{deviceLibraryIdentifier}/registrations/{passTypeIdentifier}/{serialNumber}`访问并查看数组中的输出。
*   确保在您的设备上启用 Passbook 日志记录（插入 Xcode，单击设置，然后单击开发人员，向下滚动到 PassKit 测试）。
*   如果 SSL 不起作用，那么您可以启用 HTTP，而不是通过开发人员菜单进行测试。

然后，当您在设备上切换通知时，您应该会在控制台中看到注册尝试。

# jquery - 用不同的类调用fancybox时保持相同的画廊

> ID：15697138
> 
> 赞同：2
> 
> 时间：2013-03-29T04:02:47.810
> 
> 标签：jquery, fancybox, fancybox-2

我需要在页面上以两种不同的方式调用fancybox——一种使用“ `fitToView : false`”，一种使用“ `fitToView : true`”。我希望将这些图像放在同一个画廊中，但由于它们是从两个独立的 fancybox 函数中调用的，因此它们不会像它们在同一个画廊中一样行事。有没有办法`fitToView : false`动态应用“”或其他解决方案来帮助我实现我正在寻找的东西？

这是我的两个功能：

```
$('.fancybox')
    .attr('rel', 'gallery')
    .fancybox({
        padding : 5,
        fitToView : true,
        openEffect  : 'elastic'
    });
$('.fancyboxer')
    .attr('rel', 'gallery')
    .fancybox({
        padding : 5,
        fitToView : false,
        openEffect  : 'elastic'
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T08:03:01.150

您可以使用回调为每个元素*[扩展fancybox API 选项。](http://api.jquery.com/jQuery.extend/)*`afterLoad`

但首先，您需要一种方法来区分将`fitToView`设置的元素`false`（默认值为`true`）

您可以通过在绑定到 fancybox 的锚点中设置一个特殊`class`的来实现这一点（您实际上将调用 fancybox 并为所有元素使用一个），例如**：** `class`

```
<a class="fancybox" href="{target}">open image with fitToView : true (default)</a>
<a class="fancybox nofit" href="{target}">open image with fitToView : false</a> 
```

**注意**第二个元素有类`nofit`；然后在`afterLoad`回调中，评估当前元素是否具有类`nofit`并将选项*设置*`fitToView`为`false`if so like：

```
$(function () {
    $(".fancybox")
    .attr("rel", "gallery")
    .fancybox({
        padding : 5,
        openEffect  : 'elastic',
        afterLoad: function () {
            if ($(this.element).hasClass("nofit")) {
                $.extend(this, {
                    fitToView: false
                });
            }
        }
    });
}); 
```

见**[JSFIDDLE](http://jsfiddle.net/8UZYp/)**

# jquery - 使用地理完整 jquery 地理编码的表单提交不会发布纬度和经度

> ID：15697140
> 
> 赞同：0
> 
> 时间：2013-03-29T04:03:02.997
> 
> 标签：jquery, forms, geocoding

我正在使用[http://ubilabs.github.com/geocomplete/](http://ubilabs.github.com/geocomplete/)让表单提交纬度和经度。如果我只是执行下面的触发器，它会起作用并填充 lat & lng 字段。但是，当我添加提交 jquery 代码时，它会提交空白字段。我知道这是一些时间问题，因为我可以看到字段已填满但未通过 POST 发送。但我想不通，有什么建议吗？

```
<script>
  $(document).ready(function(){
  // Area for any jQuery
    $("#geocomplete").geocomplete({
      details: "form",
      types: ["geocode", "establishment"]
    });

    $("#geoform").submit(function() {
      $("#geocomplete").trigger("geocode");
      alert('Handler for .submit() called.');
      return true;
    });
  });
</script>

<form id="geoform" method=post action="/foo.php">
  <input id="geocomplete" type="text" placeholder="Type in an address" value="Empire State Bldg" />
  <!--<input id="find" type="button" value="find" />-->
  <input type="submit" value="Go" />

  <fieldset>
    <input name="lat" type="text" value="">
    <input name="lng" type="text" value="">
    <input name="query" type="hidden" value="true">
  </fieldset>
</form> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T04:40:32.560

我从提交功能中删除了触发器并添加了延迟。

```
<script>

      $(document).ready(function(){
      // Area for any jQuery
        $("#geocomplete").geocomplete({
          details: "form",
          types: ["geocode", "establishment"]
        });

        $("#submit-button").click(function() {
          $("#geocomplete").trigger("geocode");
          setTimeout("$('#geoform').submit();",500);
        });
      });
    </script>

    <form id="geoform" method=post action="/foo.php">
      <input id="geocomplete" type="text" placeholder="Type in an address" value="Empire State Bldg" />
      <!--<input id="find" type="button" value="find" />-->
      <input id="#submit-button" type="button" value="Go" />

      <fieldset>
        <input name="lat" type="text" value="">
        <input name="lng" type="text" value="">
        <input name="query" type="hidden" value="true">
      </fieldset>
    </form> 
```

# php - 为变量私有静态类属性赋值，该属性是类定义内部的数组

> ID：15697145
> 
> 赞同：3
> 
> 时间：2013-03-29T04:04:04.077
> 
> 标签：php, variable-variables, static-array

我想访问私有静态类属性并将值分配给私有静态类属性，并且我想使用“变量变量”的概念进行分配。访问有效，但分配无效。我尝试了以下方法：

```
class AClass {
    private static $testArray = array();

    public static function aFunction() {
        $key = 'something';
        $arrayName = 'testArray';
        $array = self::$$arrayName;
        // accessing:
        $value = $array[$key]; // This works, $value holds what self::testArray['something'] holds.

        // assigning:
        // version 1:
        $array[$key] = $value; // No error, but self::testArray['something'] does not get updated

        // version 2:
        self::$$arrayName[$key] = $value; // Error
    }
} 
```

另外：我在想出一个准确而简洁的标题时遇到了一些麻烦。如果你觉得你理解我的问题并能想出一个更好的标题，请提出建议！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T04:27:17.780

对于版本 1，

您的数组可能是静态数组的副本，因此分配将仅在本地副本上。自 PHP 5 起，默认情况下，对象是通过引用传递的，但我认为数组仍然是通过副本传递的（除非您使用 & 进行特定引用）- 不能 100% 确定这一点

对于版本 2，

你应该试试`self::${$arrayName}[$key]`

有一个优先顺序问题，您希望 PHP 在解释 [] 之前评估您的“var 的 var”。如果没有`{}`，PHP 会尝试评估类似

```
self::${$arrayName[$key]} 
```

代替

```
self::${$arrayName}[$key] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T04:23:28.793

```
<?php

class AClass {
private static $testArray = array('something'=>'check');

public static function aFunction() {
    $key = 'something';
    $arrayName = 'testArray';
    $array = self::$$arrayName;
    // accessing:
    $value = $array[$key]; // This works, $value holds what self::testArray['something'] holds.

    // assigning:
    // version 1:
    $array['something'] = 'now'; // No error, but self::testArray['something'] does not get updated

    //updated value;
   // need to assgig the value again to get it updated ......

   /*
      **if $a = '10';
      $b = $a;
      $b = 20 ; // will it update $a ..?? ANSWER is NO
      same logic applies here**

      if you use $b = &$a ;  then case is different
      */

    self::$$arrayName = $array;

    print_r( self::$$arrayName);

    // version 2:

    // since you are using the key also you have to keep arrayName seperate "note {}"
    self::${$arrayName}[$key] = $value; 

    print_r( self::$$arrayName);
}
  }

  $obj = new AClass();
  $obj->aFunction();

  ?> 
```

# c# - 从用户控件调用的 GridView 在页面重新加载时为空

> ID：15697148
> 
> 赞同：2
> 
> 时间：2013-03-29T04:04:07.753
> 
> 标签：c#, asp.net, gridview, user-controls

我在 aspx 页面中有一个用户控件。在用户控件中，我将 gridview 与数据表绑定。这个东西在页面重新加载时抛出 nullreference 异常。gridview 对象为空。我在任何地方都找不到帮助。

用户控件的cs页面中的代码是：

```
If(!IsPostBack)
{

DataTable dt = GetDataTable();
JobListGrid.DataSource = dt;   //This throws error cause the joblistgrid is null
JobListGrid.DataBind();   

} 
```

asp代码：

```
<asp:GridView ID="JobListGrid" runat="server">
            <Columns></Columns>
            </asp:GridView> 
```

我错过了什么吗？请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T04:58:17.857

来自 MSDN：

[http://msdn.microsoft.com/en-us/library/ms178472.aspx](http://msdn.microsoft.com/en-us/library/ms178472.aspx)

“Page对象调用Page对象上的OnLoad方法，然后递归地对每个子控件做同样的事情，直到页面和所有控件都加载完毕。个别控件的Load事件发生在页面的Load事件之后。使用OnLoad在控件中设置属性并建立数据库连接的事件方法。”

这不是您想要绑定的地方，因为您不能保证控件已经加载，除非您使用控件的负载而不是页面的负载。

请尝试使用 PreRender 事件。

![在此处输入图像描述](../Images/6b1ecacf2ad9633c0abd0d5b5fcbf16f.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T04:28:41.897

试试这个，您可能需要在您的网格绑定列中的数据字段名称。

```
<asp:DataGrid><Columns><asp:BoundColumn DataField="YourDatabaseColumnName"></asp:BoundColumn></Columns></asp:DataGrid> 
```

# java - ActionListener java有问题

> ID：15697149
> 
> 赞同：0
> 
> 时间：2013-03-29T04:04:18.843
> 
> 标签：java, swing, jbutton, actionlistener

当我尝试添加第二个动作侦听器时出现错误。我设置了两个不同的 JButton，其中一个工作正常，但是当我尝试为第二个添加动作侦听器时，我收到以下错误：

```
is not abstract and does not override abstract method actionPerformed(ActionEvent) in     ActionListener
    next.addActionListener(new ActionListener (){ 
```

这是两个动作监听器的代码。

```
 next.addActionListener(new ActionListener (){
        public void preformedAction(ActionEvent e){

        }
    });

    close.addActionListener(new ActionListener (){
        public void actionPerformed(ActionEvent event){
            frame.dispose();        //Closes Window
        }//End ActionPreformed
    });//End Of Close Action 
```

两个按钮是“下一步”和“关闭”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T04:05:38.847

您需要覆盖的方法是`actionPerformed(ActionEvent)`，不是`preformedAciton(ActionEvent)`。`ActionListener`您正在创建和添加到使用`next`后一种方法签名，这是不正确的，因此是错误的。

# c# - 使用 c# 的 ASP.net Gridview 寻呼机按钮

> ID：15697154
> 
> 赞同：1
> 
> 时间：2013-03-29T04:05:22.770
> 
> 标签：c#, asp.net

我有一个`gridview`现在显示数百条记录的问题是，如果我设置了`autogeneratecolumns=true`；然后它还会显示我不想看到的列，如果我设置为 false，它将隐藏寻呼机，现在我想制作一个寻呼机按钮来移动导航到下一个和上一个记录。谢谢

```
<PagerTemplate>              
    <asp:Button ID="Button3" runat="server" Text="next" />        
</PagerTemplate> 
```

我已经添加了一个按钮，`pager templete`但不知道我应该传递什么命令来获取下一条记录。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T04:59:51.423

你可以做这样的事情

对于上一个命令 CommandName="Previous" OnCommand="ChangePage"

对于下一个命令 CommandName="Next" OnCommand="ChangePage"

您可以为 CommandArgument 设置页码

在服务器端，你可以做这样的事情

```
switch (e.CommandName)
{
    case "Previous":
        currentPageNumber = // get that from the commaCommandArgument;
        break; 

    case "Next":
        currentPageNumber = Int32.Parse(lblCurrentPage.Text) + 1; 
        break; 
} 
```

然后你可以绑定数据

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T04:40:43.343

```
protected void gvEmailProject_PageIndexChanging(object sender, System.Web.UI.WebControls.GridViewPageEventArgs e)
    {
        gvEmailProject.PageIndex = e.NewPageIndex;
        GridFill();
    } 
```

# http - 使用带有 NTLM 身份验证的 curl 发布帖子失败

> ID：15697157
> 
> 赞同：28
> 
> 时间：2013-03-29T04:05:34.927
> 
> 标签：http, curl, request, ntlm

我似乎无法解决这个问题。我正在尝试编写脚本自动上传 csv，但 curl 因 401 而失败。

```
curl -v --ntlm -u username --upload-file ~/galaxy/forums/pt_update.csv https://connect.example.com/11063/csv_import?op=add -k
Enter host password for user 'username:
* About to connect() to connect.example.com port 443 (#0)
*   Trying x.x.x.x... connected
* successfully set certificate verify locations:
*   CAfile: none
  CApath: /etc/ssl/certs
* SSLv3, TLS handshake, Client hello (1):
* SSLv3, TLS handshake, Server hello (2):
* SSLv3, TLS handshake, CERT (11):
* SSLv3, TLS handshake, Server finished (14):
* SSLv3, TLS handshake, Client key exchange (16):
* SSLv3, TLS change cipher, Client hello (1):
* SSLv3, TLS handshake, Finished (20):
* SSLv3, TLS change cipher, Client hello (1):
* SSLv3, TLS handshake, Finished (20):
* SSL connection using RC4-MD5
* Server certificate:
*    subject: C=US; ST=Washington; L=internetland; O=example.com Inc.; CN=connect.example.com
*    start date: 2012-06-11 14:53:47 GMT
*    expire date: 2013-06-11 14:53:47 GMT
*    common name: connect.example.com (matched)
*    issuer: DC=com; DC=example; DC=ant; CN=example.com Infosec CA G2
*    SSL certificate verify result: unable to get local issuer certificate (20), continuing anyway.
* Server auth using NTLM with user 'username'
> PUT /11063/csv_import?op=add HTTP/1.1
> Authorization: NTLM TlRMTVNTUAABAAAABoIIAAAAAAAAAAAAAAAAAAAAAAA=
> User-Agent: curl/7.22.0 (x86_64-pc-linux-gnu) libcurl/7.22.0 OpenSSL/1.0.1 zlib/1.2.3.4 libidn/1.23 librtmp/2.3
> Host: connect.example.com
> Accept: */*
> Content-Length: 0
> Expect: 100-continue
> 
< HTTP/1.1 401 Authorization Required
< Date: Fri, 29 Mar 2013 03:47:00 GMT
< Server: Server
< WWW-Authenticate: Basic realm="ANT (Windows) Login"
< Content-Length: 401
< Connection: close
< Content-Type: text/html; charset=iso-8859-1
< 
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>401 Authorization Required</title>
</head><body>
<h1>Authorization Required</h1>
<p>This server could not verify that you
are authorized to access the document
requested.  Either you supplied the wrong
credentials (e.g., bad password), or your
browser doesn't understand how to supply
the credentials required.</p>
</body></html>
* Closing connection #0
* SSLv3, TLS alert, Client hello (1): 
```

我替换了我的实际域所在的示例，并且我肯定会为我的域使用正确的用户名/密码。

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2014-01-29T15:10:11.933

你试试这个

如果您有一个托管在 IIS 中的页面并且可以与 NTLM 一起使用，那么您应该输入：

（例如在 Sharepoint 页面）

```
curl http://enterprisesharepoint -v --ntlm --negotiate -u USER123:PASSWORD123 
```

这对我来说很好，你可以看到标题消息

- 编辑 -

如果你把negotiation，这给了本地帐户并使用服务器登录，如果用户名和密码不正确，那没关系，因为negotiation会为本地登录的用户使用windows帐户进行自动验证。如果您不喜欢这种行为，您应该只输入 ntlm 以进行正确的 ntlm 登录。

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2013-04-02T21:52:27.487

以下作品

`curl -X POST -k -v --ntlm --negotiate -u usernamehere -F "csv=@pt_update.csv" -F "op=add" "[https://google.com/csv_import](https://google.com/csv_import)"`

# vba - 调用单独的错误处理模块并且不继续？

> ID：15697159
> 
> 赞同：1
> 
> 时间：2013-03-29T04:05:58.880
> 
> 标签：vba, ms-access, reporting

我有一个 Access 2007 数据库，其中包含一系列函数调用。我在所有子程序和函数中使用 On Error Goto Error_Handler 调用错误处理子程序，该子程序使用错误信息更新表并发送错误通知电子邮件。我以这种方式进行设置，因此我只能拥有一个可由任何子或函数调用的错误处理模块。

当“非主”子例程或函数之一出现错误时发生的情况是错误处理函数被调用（如预期并正常工作）但随后代码执行在主过程中继续执行子程序之后的任何内容导致错误（在我的情况下，发送虚假的“成功”电子邮件）。需要明确的是，我所有的子程序和函数都有“On Error Goto Error_Handler”，所以这不是 On Error Resume Next 问题。

有没有办法让 sub 调用单独的错误处理函数并让“main”过程停止执行？（在这种情况下，我们在计时器上有一个表单，它每秒循环一次记录集，并且不会尝试重新执行任何记录了错误的事件，因此希望退出该过程以防止错误的成功指示。）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-29T05:54:19.940

如果我正在阅读您正确执行的操作，那么这与我第一次开始做类似事情时陷入的陷阱相同。问题在于，因为错误是在非主程序中“处理”的，所以就错误处理系统而言，它已经完成并除尘了；当程序控制流返回到主程序时，不再有错误情况。让我看看我是否可以用伪代码说明：

```
MainFunction()

   On Error Goto ErrorHandler

   Call MySubFunction

   CodeToSendSuccessEmail    

ExitPoint:
'Here we do any necessary cleanup.

Exit Function

ErrorHandler:

   Call MyErrorRoutine
   Resume ExitPoint

End Function

Function MySubFunction()

   On Error Goto ErrorHandler

   DoStuffThatCauseAnError

ExitPoint:
Exit Function

ErrorHandler:

   Call MyErrorRoutine
   Resume ExitPoint

End Function 
```

* * *

好的，那么当 MySubFunction 发生错误时会发生什么？它将跳转到该***函数中***的 ErrorHandler: 标签。完成此操作后，就错误处理系统而言，错误已得到处理，因此它将离开该函数（在我的例子中，通过 ExitPoint: label 和 Exit Function 语句）并返回到 MainFunction。当它这样做时，将不再有错误，因为它已被处理，因此将发送“成功”电子邮件。

处理此类情况的最快和最肮脏的方法是根本不在子过程中放置​​任何错误处理。这样，当发生错误时，它将立即被抛出调用堆栈，直到遇到错误处理程序，在这种情况下，该处理程序将在您的 MainFunction 中。当它这样做时，它会直接跳到 MainFunction 的 ErrorHandler: 标签。

这样做的缺点是您无法准确跟踪错误发生在哪个函数中。我在实践中所做的是让我的子例程错误处理程序执行此操作： (a) 调用我的跟踪程序来编写错误（及其位置）到我的应用程序的日志文件；(b) 注意变量中的 Err.Number 和 Err.Description；然后 (c) 在我返回 ExitPoint: 标签后，使用这些变量中的值重新引发错误，以便它会流回堆栈。

这样可以确保我知道错误的来源，但是向用户显示错误消息的主要显示（在您的情况下，通过写入表格并发送电子邮件）将发生一次，并且仅发生一次；也就是说，仅通过我的顶级函数调用我的主要错误例程。

顺便说一句，当我第一次遇到它时，我对 VB.Net 和 T-SQL 中使用的 Try/Catch 语法持怀疑态度，但实际上它在错误处理方面确实提供了很多优势，包括不需要捏造发生错误时跟踪堆栈。并不是说您在 Access 中使用 VBA 有一点好处；正如我所说，这只是一个旁白。

# c - 计算整数的所有因子的最快算法是什么？

> ID：15697166
> 
> 赞同：15
> 
> 时间：2013-03-29T04:07:00.840
> 
> 标签：c, algorithm, numbers, factors

我已经写了这段代码，但是计算起来很费时间……你能帮我找出一种有效的方法吗？

```
int tag;
int* factors(int n)
{
    int a[1000000];
    for(int i=1;i<=n/2;i++)
        if(n%i==0)
            a[++tag]=i;
    a[++tag]=n;
    return(a);
} 
```

这种蛮力方法在复杂性方面非常庞大......这个问题有没有更好的可行解决方案？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-29T04:14:18.350

到目前为止，还没有人提出一种**更快**的算法。这并不一定意味着没有，因为另一方面也没有证明不可能更快地做到这一点。

您可能需要考虑的一项优化是，不必搜索 n/2，当达到 sqrt (n) 时，您已经可以停止。

...如果您真的想返回“克里斯”评论中已经提到的所有候选人的列表，请务必为您的号码选择不同的存储位置。

**编辑：**

正如我被告知的那样，有相当多的算法可用，就时间复杂度而言，它们的运行速度可能比您询问的算法要快一点，可能需要比上面给出的简短评论添加更多的单词。

虽然除了在第一次将其划分为奇数后以 2 的步长运行循环来保护一些计算时间的最明显可能性之外，还有一些其他可用的技巧我没有在上面给出的答案中提到它们**明显**更快.

导致这个决定的主要原因是，虽然例如将迭代次数减少 2 倍似乎是一个巨大的胜利，但与运行时的预期增长相比，随着数量的增长，增益以常数变得如此之小，以至于在复杂性理论中甚至根本不会产生任何差异，并且可以说两种算法具有（几乎）相同的时间复杂度。

即使有可能在原始算法的运行时间中获得数千亿倍的**恒定**增益，它们之间仍然没有任何区别。

数字越大，任何常数的影响就越小，无论它在运行时间方面可能达到多少，如果它也随着你所处理的数字的大小而迅速增长。

就时间复杂度而言，一个非常特殊的障碍通常被认为是实际可行和不可能之间的边界，即所谓的`polynomial`运行时间。

这意味着即使运行时可能会随着增长而急剧增长`n`，但仍然可以用**常数**指数来描述这种增长`k`，这样运行时就是周围的东西`n^k`。

另一方面，没有`polynomial`运行时的算法不能用任何指数来衡量，你可能想要让它变得多大。

为了举例说明为什么这种差异可能真的很重要，让我们看一下两个虚构的算法。第一个具有多项式运行时，比如说`n^10`，另一个说这个具有运行时`n!`。

虽然它对于小数字似乎并不坏，假设 n 只是 10 这里算法第一个需要`10^10 = 10000000000`时间单位，而只有`3628800`单位我们的第二个算法似乎运行得更快。

我们的算法二的问题是，与算法一相比，它的运行时间会增长得更快。在`n=100`你得到类似的东西：`100000000000000000000`对于算法一，它已经类似于`93326215443944152681699238856266700490715968264381621468592963895217599993229915608941463976156518286253697920827223758251185210916864000000000000000000000000`算法二了。

进一步推进边界，`n=1000`我们最终得到：算法一，`1000000000000000000000000000000`而我们的第二个算法将采用类似`402387260077093773543702433923003985719374864210714632543799910429938512398629020592044208486969404800479988610197196058631666872994808558901323829669944590997424504087073759918823627727188732519779505950995276120874975462497043601418278094646496291056393887437886487337119181045825783647849977012476632889835955735432513185323958463075557409114262417474349347553428646576611667797396668820291207379143853719588249808126867838374559731746136085379534524221586593201928090878297308431392844403281231558611036976801357304216168747609675871348312025478589320767169132448426236131412508780208000261683151027341827977704784635868170164365024153691398281264810213092761244896359928705114964975419909342221566832572080821333186116811553615836546984046708975602900950537616475847728421889679646244945160765353408198901385442487984959953319101723355556602139450399736280750137837615307127761926849034352625200015888535147331611702103968175921510907788019393178114194545257223865541461062892187960223838971476088506276862967146674697562911234082439208160153780889893964518263243671616762179168909779911903754031274622289988005195444414282012187361745992642956581746628302955570299024324153181617210465832036786906117260158783520751516284225540265170483304226143974286933061690897968482590125458327168226458066526769958652682272807075781391858178889652208164348344825993266043367660176999612831860788386150279465955131156552036093988180612138558600301435694527224206344631797460594682573103790084024432438465657245014402821885252470935190620929023136493273497565513958720559654228749774011413346962715422845862377387538230483865688976461927383814900140767310446640259899490222221765904339901886018566526485061799702356193897017860040811889729918311021171229845901641921068884387121855646124960798722908519296819372388642614839657382291123125024186649353143970137428531926649875337218940694281434118520158014123344828015051399694290153483077644569099073152433278288269864602789864321139083506217095002597389863554277196742822248757586765752344220207573630569498825087968928162753848863396909959826280956121450994871701244516461260379029309120889086942028510640182154399457156805941872748998094254742173582401063677404595741785160829230135358081840096996372524230560855903700624271243416909004153690105933983835777939410970027753472000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000`.

不信就自己算吧。该`bc`手册甚至包含如何实现阶乘函数的示例。

但是不要在数数字时感到头晕......知道我们必须将多少个尾随零添加到10才能得到乘以我们宇宙年龄的因子以获得如此大的跨度可能会很有趣即使我们以普朗克时间为单位进行测量。不幸的是我不知道。

所有这一切的有趣之处在于，直到今天还没有任何已知的算法可以及时执行因式分解`polynomial`。

由于它本身不仅是一个有趣的研究领域，**实际上**不可能分解大整数也在当今广泛使用的 RSA 公钥加密算法中发挥着重要作用，因此几乎自然已经有很多研究在这个区域。

发现算法（没有打破已经提到的障碍）比你想象的算法运行**得**更快。

正如“Jim Balter”在他的评论中已经正确注释的那样，你可能想看看引用的文章（见：[http](http://en.wikipedia.org/wiki/Integer_factorization#General-purpose) ://en.wikipedia.org/wiki/Integer_factorization#General-purpose ）看看方法其他人已经想出了。

“Jim”也提到的这篇文章可能是另一个有趣的资源：（参见：[最快的分解算法是什么？](https://stackoverflow.com/questions/2267146/what-is-the-fastest-factorization-algorithm?rq=1)）

另一个值得关注的有趣链接可能是过去几年的 RSA 因式分解挑战获胜者名单，以便以某种方式了解今天可行和几乎不可能之间的边界在哪里。（[http://en.wikipedia.org/wiki/RSA_Factoring_Challenge](http://en.wikipedia.org/wiki/RSA_Factoring_Challenge)）

# android - android中的动画视图

> ID：15697179
> 
> 赞同：0
> 
> 时间：2013-03-29T04:08:19.607
> 
> 标签：android, animation, android-4.0-ice-cream-sandwich, android-2.3-gingerbread

我在 android 中使用动画视图来显示 gif 文件。它在姜饼上运行良好，但在 ICS 上不运行。我应该怎么做才能在android上运行它？我指的是以下代码：-

```
public class AnimationView extends View {
private Movie mMovie;
private long mMovieStart;
private static final boolean DECODE_STREAM = true;
private static byte[] streamToBytes(InputStream is) {
  ByteArrayOutputStream os = new ByteArrayOutputStream(1024);
  byte[] buffer = new byte[1024];
  int len;
  try {
    while ((len = is.read(buffer)) >= 0) {
      os.write(buffer, 0, len);
    }
  } catch (java.io.IOException e) {
  }
  return os.toByteArray();
}

 public AnimationView(Context context,AttributeSet attrs) {
  super(context,attrs);
  setFocusable(true);

  java.io.InputStream is;
  is = context.getResources().openRawResource(R.drawable.applogo);
  if (DECODE_STREAM) {
    mMovie = Movie.decodeStream(is);
  } else {
    byte[] array = streamToBytes(is);
    mMovie = Movie.decodeByteArray(array, 0, array.length);
  }
}
@Override
public void onDraw(Canvas canvas) {
 long now = android.os.SystemClock.uptimeMillis();
  if (mMovieStart == 0) { // first time
    mMovieStart = now;
  }
  if (mMovie != null) {
    int dur = mMovie.duration();
    if (dur == 0) {
      dur = 3000;
    }
    int relTime = (int) ((now - mMovieStart) % dur);
   Log.d("", "real time :: " +relTime);
    mMovie.setTime(relTime);
    mMovie.draw(canvas, getWidth()-300, getHeight()-375);
    invalidate();
  }
} 
```

}

请提出一些建议。.

# javascript - 如何模拟登录按钮的点击事件 https://www.linkedin.com/

> ID：15697181
> 
> 赞同：0
> 
> 时间：2013-03-29T04:08:26.193
> 
> 标签：javascript, linkedin

我正在编写一个浏览器插件并尝试模拟用户单击登录按钮。我努力了

```
document.getElementById('signin').click(); 
```

网址：[https ://www.linkedin.com/](https://www.linkedin.com/)

但这不起作用。我是 Java 脚本的新手，可以请一些指导如何实现相同的目标。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T04:16:08.530

你最好提交表单本身：

```
document.getElementById('login').submit(); 
```

我在 Chrome 开发工具中进行了测试。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T04:18:01.753

1-in linkedin 除非填写了用户名和密码，否则您无法单击登录按钮。2-您必须使用登录按钮的ID，即'btn-login'而不是'signin'，因此它将是document.getElementById('btn-login').click();

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T04:15:34.887

您编写的脚本适用于 Internet Explorer。但对于其他浏览器，它不会工作。你可以试试下面的代码。

```
function simulateClick() {
  var evt = document.createEvent("MouseEvents");
  evt.initMouseEvent("click", true, true, window,
    0, 0, 0, 0, 0, false, false, false, false, 0, null);
  var cb = document.getElementById("signin"); 
  var canceled = !cb.dispatchEvent(evt);
  if(canceled) {
    // A handler called preventDefault
    alert("canceled");
  } else {
    // None of the handlers called preventDefault
    alert("not canceled");
  }
} 
```

请通过此链接了解更多信息

[https://developer.mozilla.org/en-US/docs/DOM/document.createEvent](https://developer.mozilla.org/en-US/docs/DOM/document.createEvent)

# c# - 生成序列化程序集

> ID：15697182
> 
> 赞同：0
> 
> 时间：2013-03-29T04:08:46.980
> 
> 标签：c#, serialization, xml-serialization, release

我在构建版本时遇到问题。我有我的主要操作系统，我正在运行一个包含我所有开发工具的虚拟机。我正在共享 USB 驱动器并将其映射到 VM 中的主要操作系统。

当我尝试构建时，出现以下错误。

```
Could not load file or assembly operation is not supported 
```

如果我关闭 Generate Serialized Assemblies，它将编译。我已经检查了文件的属性，并且我没有像某些帖子所建议的那样从 Windows 取消阻止选项。有没有其他方法可以解决这个问题？禁用生成序列化程序集有什么缺点？

这是我尝试在这个新设置下构建的第一个项目。我确实有其他需要构建的项目，其中一些确实使用 [Serialized]。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T05:06:42.120

我找到了解决方法。当然与安全有关。

```
C:\Windows\Microsoft.NET\Framework\v4.0.30319\CasPol -m -ag 1 -url file://HostName* FullTrust 
```

# jquery - JQuery：当div隐藏失败时做某事

> ID：15697183
> 
> 赞同：0
> 
> 时间：2013-03-29T04:09:15.910
> 
> 标签：jquery, css

`ticketSearchTitle`当`ticketSearch`div 被隐藏时，我试图用 id 更改 h2 标题的文本颜色。但是我用来做这件事的那段代码似乎完全破坏了它（即：标题上没有指针图标，不能隐藏 div）。

分区结构：

```
 <h2 id="ticketSearchTitle" >SEARCH</h2>
  <div id="ticketSearch"><div> 
```

完整代码：

```
$("h2#ticketSearchTitle").css({'cursor':'pointer', 'display':'inline'});

  $("h2#ticketSearchTitle").click(function(){

      $("#ticketSearch").toggle('slow');

       //change h2 text to show that is is inactive
       if ($("h2#ticketSearch").is(':hidden')){
          $("#ticketSearchTitle").css('color','#D3D3D3')
      }

  }); 
```

破坏代码的 JQuery 片段：

```
 //change h2 text to show that is inactive
       if $("h2#ticketSearch").is(':hidden'){
          $("#ticketSearchTitle").css('color','#D3D3D3')
      } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T04:11:15.240

你忘了加括号吗`if`

```
if ($("h2#ticketSearch").is(':hidden')){ 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T04:11:45.350

当您一个接一个地执行这两个序列时，您会导致问题，因为切换只是启动一个动画，而当您立即检查元素是否隐藏时该动画并未完成：

```
$("#ticketSearch").toggle('slow');

//change h2 text to show that is is inactive
if ($("h2#ticketSearch").is(':hidden')){
   $("#ticketSearchTitle").css('color','#D3D3D3')
} 
```

你有几个选择。您可以检查它是否在动画之前隐藏并根据动画前值进行操作（知道它将被切换）。或者，您可以使用实际动画和完成功能，以便其余代码仅在切换完成时运行。

例如，如果您希望在动画完成后运行第二部分代码，您可以这样做：

```
$("#ticketSearch").toggle('slow', function() {
    //change h2 text to show that is is inactive
    if ($("#ticketSearch").is(':hidden')){
       $("#ticketSearchTitle").css('color','#D3D3D3')
    }
}); 
```

仅供参考，没有理由`"h2#ticketSearch"`用作您的选择器。 `"#ticketSearch"`会更快并产生相同的结果。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-29T04:22:53.647

你忘记了两件事

1）你忘记了 if 周围的括号

```
 if ($("h2#ticketSearch").is(':hidden')){ 
```

2）你`ticketSearch`是一个 div 不是`h2`

```
 if $("h2#ticketSearch").is(':hidden'){ //wrong
       if $("div#ticketSearch").is(':hidden'){ //correct 
```

JSFIDDLE：http: [//jsfiddle.net/KKgTU/4/](http://jsfiddle.net/KKgTU/4/)

# java - 播放框架漂亮的打印日期

> ID：15697184
> 
> 赞同：4
> 
> 时间：2013-03-29T04:09:18.470
> 
> 标签：java, playframework, playframework-2.1

我已经在谷歌上搜索了一段时间，但我似乎无法弄清楚如何在模板中漂亮地打印 java 日期

我的`application.conf`包含

```
date.format="yyyy-MM-dd hh:mm:ss" 
```

这就是我在我的模板中尝试的

```
${(event.date).format('dd MMMM yyyy')} 
```

事件成员看起来像

```
@Required
public Date date; 
```

任何帮助将不胜感激，干杯！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-29T08:48:03.023

您正在使用 Play 1 格式，这在 Play 2 scala 模板中不起作用。您需要在 Play 2 中使用 @ 符号。

尝试

```
 @event.date.format("dd MMMM yyyy") 
```

# asp.net-mvc - ActionLink 中的特殊字符。ASP MVC

> ID：15697189
> 
> 赞同：0
> 
> 时间：2013-03-29T04:10:11.877
> 
> 标签：asp.net-mvc, razor

我正在使用 asp.net mvc 4 来构建一个 Web 应用程序。

要为我使用 ActionLink 的操作创建 url，如下所示：

```
@Html.ActionLink("Details", "Details", new { id=item.PrimaryKey }) 
```

`item.PrimaryKey`可以是字符串，因此它可以包含点或斜线或任何其他特殊字符；当它包含点或斜线时，我得到一个`404 error`. ¿ 我怎样才能避免它？

我在这里找到了解决方案

[http://mrpmorris.blogspot.mx/2012/08/asp-mvc-encoding-route-values.html](http://mrpmorris.blogspot.mx/2012/08/asp-mvc-encoding-route-values.html)

但它很复杂

¿ 有没有更简单的解决方案？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T09:37:52.117

> 我在这里找到了解决方案
> 
> [http://mrpmorris.blogspot.mx/2012/08/asp-mvc-encoding-route-values.html](http://mrpmorris.blogspot.mx/2012/08/asp-mvc-encoding-route-values.html)
> 
> 但它很复杂

那是因为你试图解决的问题很复杂。你可以看看[`following blog post`](http://www.hanselman.com/blog/ExperimentsInWackinessAllowingPercentsAnglebracketsAndOtherNaughtyThingsInTheASPNETIISRequestURL.aspx)Scott Hanselman 的文章，他解释了这样做的各种挑战。我将总结他的结论：

> 在为在请求路径中获得疯狂的东西所做的所有努力之后，值得一提的是，简单地将值保留为查询字符串的一部分（还记得本文开头的 WAY 吗？）更容易、更清洁、更灵活，而且更多安全的。

所以基本上如果你的 id 可以包含任何字符，它们应该作为查询字符串参数传递，而不是 Uri 路径的一部分。

但是，如果您坚持并希望将 id 作为 Uri 路径的一部分，您可能会受到 StackOverflow 的启发。现在查看浏览器的地址栏。你会看到这个：

```
https://stackoverflow.com/questions/15697189/special-characters-in-actionlink-asp-mvc 
```

请注意 url 如何包含 2 个标记：实际 id 和 SEO 友好名称。Jeff Atwood 展示了[`sample filter function`](https://stackoverflow.com/a/25486/29407)他们用来生成那些对 SEO 友好的*slug*。蛞蝓仅用于 SEO 目的。您可以将其替换为您想要的任何内容并获得相同的结果：

```
https://stackoverflow.com/questions/15697189/foo-bar 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T05:15:55.320

您可以使用`Server.UrlEncode()`对其进行编码：

```
@Html.ActionLink("Details", "Details", new { id=Server.UrlEncode(item.PrimaryKey) }) 
```

[以示例参考 msdn](http://msdn.microsoft.com/en-us/library/zttxte6w.aspx)

# c - 错误 C2143：语法错误：缺少“；” 在“类型”之前

> ID：15697190
> 
> 赞同：26
> 
> 时间：2013-03-29T04:10:17.710
> 
> 标签：c, visual-studio-2010

我是 C 编程新手。请告诉我这个程序有什么问题，以及为什么我会收到此错误：**错误 C2143：语法错误：缺少 ';' 在'类型'之前**....

```
extern void func();

int main(int argc, char ** argv){
    func();
    int i=1;
    for(;i<=5; i++) {
        register int number = 7;
        printf("number is %d\n", number++);
    }
    getch();
} 
```

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-03-29T04:17:48.910

Visual Studio 仅支持 C89。这意味着您的所有变量都必须在函数顶部的任何其他内容之前声明。

编辑：@KeithThompson 促使我添加一个技术上更准确的描述（并且真的只是正确的，我的不是在一个方面）。所有声明（变量或其他任何东西）必须在块内的所有语句之前。

* * *

## 回答 #2

> 赞同：29
> 
> 时间：2013-03-29T04:18:01.630

我至少有 8 年没有使用过 Visual，但似乎 Visual 有限的 C 编译器支持不允许混合代码和变量。声明中的错误行是`int i=1;`?? 尝试将其移至调用上方`func();`

另外，我会用`extern void func(void);`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-29T04:17:44.887

这：

```
int i=1;
for(;i<=5; i++) { 
```

应该习惯性地写成：

```
for(int i=1; i<=5; i++) { 
```

因为没有必要`for`在函数范围内声明循环变量。

# javascript - 我如何使文本=整数

> ID：15697192
> 
> 赞同：0
> 
> 时间：2013-03-29T04:10:19.663
> 
> 标签：javascript

我有一个问题，我已经尝试解决好几天了。我想知道是否可以让文本变成整数。所以每次我在我的 textarea("ALC") Load 中写入，然后在 textarea("MLC") 001 上写入。最后还包括 1-15 到二进制例如 Load #1 将显示 001 0 00001

```
<html>
<head>
<center><font size ="24"> Simple Assembler </font></center>
<script type="text/javascript">
    var Load = "001";
    var Store = "010";
    var Add = "011";
    var Sub = "100";
    var Equal = "101";
    var Jump = "110";
    var Halt = "111";
    var # = "1";

</script>
</head>
<body>

<form name="AssemblyLanguagecode" action="" method="">
<textarea Id="ALC" style="resize:none;width:35%;height:35%;margin-left:15%" value="">Insert Assembly Language Code</textarea>
<textarea Id="MLC" style="resize:none;width:35%;height:35%;" ReadOnly="True">Machine Language Code will be displayed here</textarea><br  />
<p align="center"><input type="button" value="Assemble" onclick="ALCtoMLC()";" /></p>
</form>

<script type= "text/javascript">

function ALCtoMLC() {   
    var x = document.getElementById("ALC").value;
    x = parseInt(x);
    var bin = x.toString(2);

document.getElementById("MLC").innerHTML = bin;
}

</script>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T04:12:42.450

我想我明白你想做什么。您想使用您在“ALC”中键入的内容作为值的键。在这种情况下，您希望使用 javascript 对象并将指令分配为键，并将二进制文件分配给值。如

```
var instruction_set = {
    "Load" : "001",
    "Store" : "010",
    "Add" : "011",
    "Sub" : "100",
    "Equal" : "101",
    "Jump" : "110",
    "Halt" : "111"
}

function ALCtoMLC() {
    var x = document.getElementById("ALC").value;
    x = instruction_set[x];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T04:40:06.090

更新：

试试这个：

```
<html>
<head>
<center><font size ="24"> Simple Assembler </font></center>
<script type="text/javascript">
    var Load = "001";
    var Store = "010";
    var Add = "011";
    var Sub = "100";
    var Equal = "101";
    var Jump = "110";
    var Halt = "111";
    var # = "1";

</script>
</head>
<body>

<form name="AssemblyLanguagecode" action="" method="">
<textarea Id="ALC" style="resize:none;width:35%;height:35%;margin-left:15%" value="">Insert Assembly Language Code</textarea>
<textarea Id="MLC" style="resize:none;width:35%;height:35%;" ReadOnly="True">Machine Language Code will be displayed here</textarea><br  />
<p align="center"><input type="button" value="Assemble" onclick="ALCtoMLC();" /></p>
</form>

<script type= "text/javascript">
var Dict = { 'Load':"001",'Store':"010"}; //example Instruction set

function ALCtoMLC() {   
    var x = document.getElementById("ALC").value;
    var instrType = '';
    for (var instr in Dict){
        var ind = x.indexOf(instr);
        if( ind > -1){
            instrType = instrType + Dict[instr];
            x = x.replace(instr,'');
        }
    }
    console.log(instrType, "::", x);
    x = parseInt(x);
    var bin = x.toString(2);
    bin = instrType + bin; 
    document.getElementById("MLC").innerHTML = bin;
}

</script>

</body>
</html> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T04:45:16.723

我会这样做：

```
var opcodes = {
    Load:  1,
    Store: 2,
    Add:   3,
    Sub:   4,
    Equal: 5,
    Jump:  6,
    Halt:  7
};

var assemblyTextarea = document.querySelector("#assembly");
var machineTextarea = document.querySelector("#machine");

document.querySelector("#assemble").addEventListener("click", function () {
    var instruction = assemblyTextarea.value.split(" ");
    var operand =+ instruction[1].slice(1);
    var opcode = instruction[0];

    var code = opcodes[opcode] * 16 + operand;
    var bits = ("0000000" + code.toString(2)).slice(-8);

    machineTextarea.value = bits;
}, false); 
```

在此处查看演示：http: [//jsfiddle.net/fs5mb/1/](http://jsfiddle.net/fs5mb/1/)

输入的格式应如下：`Load #15`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-29T04:45:28.080

假设您有办法获得令牌。那么你的函数应该是这样的

```
var tokens = getTokens( document.getElementById("ALC").value ) ;
var vocabulary = { "Load" : "001" , " ... " } ;
var output = []
var i = 0;
var tokensLength = tokens.length;
for ( ; i < tokensLength; i++){
     var token = tokens[i];
     if ( isNaN(token) && typeof(vocabulary[token]) != "undefined" ){
           output.push( vocabulary[token] );

     }else if ( !isNaN(token) ){
          output.push( Number(token).toString(2) );
     }else{
          console.log(["error : unknown token ", token]);
     }
}

document.getElementById("MLC").value = output.join(" "); 
```

我在问题中看到 Load 转换为 0010 而不是 001，所以我只需修改词汇表。

解释 ：

*   我假设您有办法将输入拆分为令牌。（我仍然不清楚 ALC 语法）。
*   令牌数组将包含例如`["Load","#","15", "Load","#","16"]`等。
*   然后我循环标记。
*   如果令牌是数字 - 我将其转换为二进制字符串。
*   如果令牌可按词汇表翻译 - 我将其切换为二进制表示。
*   否则我打印一个错误。

注意：如果输出应该用“0”填充 - 即使问题中没有指定，我也会使用`"0000".substring(n.length) + n`

# sql - 使用 CakePHP 将两个查询合二为一

> ID：15697193
> 
> 赞同：0
> 
> 时间：2013-03-29T04:10:27.237
> 
> 标签：sql, cakephp

我正在做一个照片库项目。我想列出最近创建的 20 个相册，并显示每个相册最近上传的照片（如果有的话）。我现在这样做的方式是查询相册 ( `$this->Album->find('all', ...)`)，然后将这些结果中的 ID 传递到我的第二个查询中，该查询为第一个查询找到的 20 个相册找到最近上传的照片。

这是实际查询的样子：

```
SELECT `Album`.`id`, `Album`.`name`, `Album`.`photo_count` FROM `mydb`.`albums` AS `Album` WHERE 1 = 1 ORDER BY `Album`.`created` DESC LIMIT 20

SELECT `Photo`.`album_id`, `Photo`.`name` FROM `mydb`.`photos` AS `Photo` WHERE `Photo`.`album_id` IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) GROUP BY `Photo`.`album_id` ORDER BY `Photo`.`created` DESC 
```

我不喜欢做两个查询，第二个查询看起来效率很低。有没有办法让 CakePHP 在一个高效的查询中做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T04:20:52.093

我认为您正在寻找以下查询，该查询使用子查询返回最近的 20 个相册，然后`JOINs`在照片表上返回与这些相册关联的照片（如果需要，替换为`LEFT JOIN`）：

```
SELECT A.Id, A.Name, A.Photo_Count, P.Name
FROM (SELECT * 
      FROM mydb.albums 
      ORDER BY Created DESC 
      LIMIT 20) A 
    INNER JOIN mydb.photos P ON A.Id = P.Album_Id
GROUP BY A.Id 
ORDER BY P.Created DESC 
```

我删除了您的`WHERE`声明，因为我怀疑这些是从您的相册表返回的 20 个 ID。

*编辑：如果我正确理解了您的评论，您只需将 A.Created 添加到您的主查询的 ORDER BY 子句中：*

```
SELECT A.Id, A.Name, A.Photo_Count, P.Name
FROM (SELECT * 
      FROM mydb.albums 
      ORDER BY Created DESC 
      LIMIT 20) A 
    INNER JOIN mydb.photos P ON A.Id = P.Album_Id
GROUP BY A.Id 
ORDER BY A.Created DESC, P.Created 
```

根据需要在每个字段之后 使用`ASC`和。`DESC`

# apache-zookeeper - 为什么 Chubby lockserver 不是多主服务器？

> ID：15697198
> 
> 赞同：2
> 
> 时间：2013-03-29T04:11:04.580
> 
> 标签：apache-zookeeper, paxos

据我了解 Chubby 在任何时候都有 5 台 Chubby 服务器。一个是主服务器，负责协调对仲裁的写入，其他 4 个服务器是只读的，并转发处理对主服务器的写入。写入使用 Paxos 来保持一致性。

有人可以向我解释为什么主副本和 4 个副本之间存在区别。为什么 Chubby 不是多主控？这个问题也适用于 Zookeeper。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T21:09:52.560

拥有一个主节点效率更高，因为节点不必处理那么多的争用。

Chubby 和 Zookeeper 都实现了一个分布式状态机，系统的重点是决定从一个状态到下一个状态的转换的总排序。当多个节点同时提议转换时，可能需要大量消息（理论上无限消息）来解决争用。

Paxos（以及 Chubby）使用一种称为“杰出领导者”的优化，其中副本将写入转发给杰出领导者以减少争用。（我假设 Chubby 的副本可以做到这一点。如果他们不能做到，但设计师只是将这个责任推给了客户。）Zookeeper 也这样做。

Chubby 和 Zookeeper 实际上*都*处理了多个领导者，因为他们必须处理一个不知道自己已经死去然后又死而复生的领导者。对于 Chubby 来说，这就是使用 Paxos 的全部意义所在：最终其中一位领导者将获胜。（理论上它可能不会，但我们工程师会做一些实际的事情，比如随机退避，以使概率小到可以容忍的程度。）另一方面，Zookeeper 为每个领导者分配一个非递减的 id；并且拒绝任何非当前领导者的转换。这意味着当领导者死亡时，Zookeeper 必须暂停并经历重新配置阶段，然后才能接受新的转换。

# asp.net - .NET 4.5：ASP 菜单项值显示为链接？

> ID：15697204
> 
> 赞同：1
> 
> 时间：2013-03-29T04:11:40.867
> 
> 标签：asp.net

在我下面的代码中，asp 菜单项值属性实际上是呈现为链接文本！

```
<asp:Menu ID="menuTop" runat="server" EnableViewState="true" Orientation="Horizontal" StaticSelectedStyle-CssClass="menuselected" SkipLinkText="">
   <Items>
      <asp:MenuItem NavigateUrl="~/Default.aspx" ImageUrl="~/images/Menu_Home.jpg" Value="Home" />
      <asp:MenuItem NavigateUrl="~/Contact.aspx" ImageUrl="~/images/Menu_Contact.jpg" Value="Contact"/>
   </Items>
</asp:Menu> 
```

根据位于[http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.menuitem.value.aspx的 MSDN 参考](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.menuitem.value.aspx)

> Value 属性用于通过存储与菜单项关联的任何其他数据来补充 Text 属性。该值不显示在控件中，通常用于存储处理回发事件的数据。

我需要它来存储值，为什么它显示为链接文本？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T05:21:00.357

试试这个代码。

```
<asp:Menu ID="menuTop" runat="server" EnableViewState="true" Orientation="Horizontal" StaticSelectedStyle-CssClass="menuselected" SkipLinkText="">
    <Items>
       <asp:MenuItem NavigateUrl="~/Default.aspx" ImageUrl="~/images/Menu_Home.jpg" Value="Home" Text="" />
       <asp:MenuItem NavigateUrl="~/Contact.aspx" ImageUrl="~/images/Menu_Contact.jpg" Value="Contact" Text=""/>
    </Items>
</asp:Menu> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T04:24:09.910

没关系，我想通了。看起来您需要将 Text 值设置为 "" 并阻止该值显示为文本。

# python - 使用 Arduino 查找咖啡机上 LED 的状态？

> ID：15697206
> 
> 赞同：1
> 
> 时间：2013-03-29T04:11:48.350
> 
> 标签：python, arduino

我是 Arduino 平台的新手，我想知道是否可以使用 arduino 输入判断 LED 是否亮起？我很困惑，我是否可以参考 Arduino 的接地检查 LED 一侧的电压？还是我必须检查相对于 LED 另一端的电压。只是有点困惑。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T04:27:42.910

在electronics.SE上问这个问题可能更好，但这里是：

是的，这是可能的，有几种方法可以做到这一点：

*   您可以将光传感器连接到您的 arduino，将其对准 LED，然后读取。无需改装咖啡机
*   您可以将电线连接到咖啡机 LED，然后将其连接到 Arduino。但是在哪里连接电线？要理解这一点，您必须考虑 LED 通常是如何连接的：有控制信号、LED 本身、限流二极管和接地。两个主要选项如下所示：

![在此处输入图像描述](../Images/ca597383b71a779ae59a44d76614f84b.png)

假设控制电压为 +5 或零伏，并假设您的 arduino 运行在该电压上（而不是 3.3V，例如），在这两种情况下（左侧的一个和右侧的一个），您想要将电线连接到指示为“控制”的点。左边的情况是在电阻“之前”，但在右边的情况下，它是在 LED 的“之前”。您应该使用万用表确认您对 LED 电路的假设，并验证当 LED 开启或关闭时，连接点确实分别为 +5V 和 0v（或任何您预期的电压）（如果您不这样做）没有万用表，那么这对您来说可能不是一个好项目）

# ruby - 如何从命令行获取 Ruby 文档

> ID：15697209
> 
> 赞同：20
> 
> 时间：2013-03-29T04:12:10.640
> 
> 标签：ruby, ri

有没有办法找出我的`ri`命令的哪一部分没有显示 Ruby 的文档：

```
 $ ruby --version
 ruby 1.9.3p392 (2013-02-22 revision 39386) [i686-linux]

 $ ri --version
 ri 3.12.2     

 $ ri String
 Nothing known about String 
```

当我使用撬时：

```
 $ pry --version
 Pry version 0.9.12 on Ruby 1.9.3

 $ pry 
 [1] pry(main)> ri String
 # shows String documentation
 [2] pry(main)> ri String.split
 error: 'String.split' not found
 [3] pry(main)> ri String.strip
 String.strip not found, maybe you meant:
 String#strip_heredoc 
```

我应该怎么做才能使文档出现？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-03-29T04:20:05.107

如果您使用`RVM`管理您的 Ruby 安装，您可以这样做：

```
rvm docs generate 
```

如果没有，请尝试这样做：

```
gem install rdoc-data
rdoc-data --install 
```

然后再次尝试该`ri`命令。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-03-31T21:00:45.723

使用pry，最好先安装`pry-doc`gem，然后使用`show-doc`命令：

```
[17] pry(main)> show-doc String#inspect

From: string.c (C Method):
Owner: String
Visibility: public
Signature: inspect()
Number of lines: 6

Returns a printable version of _str_, surrounded by quote marks,
with special characters escaped.

   str = "hello"
   str[3] = "\b"
   str.inspect       #=> "\"hel\\bo\""
[18] pry(main)> show-doc Array#pop

From: array.c (C Method):
Owner: Array
Visibility: public
Signature: pop(*arg1)
Number of lines: 11

Removes the last element from self and returns it, or
nil if the array is empty.

If a number n is given, returns an array of the last n elements
(or less) just like array.slice!(-n, n) does. See also
Array#push for the opposite effect.

   a = [ "a", "b", "c", "d" ]
   a.pop     #=> "d"
   a.pop(2)  #=> ["b", "c"]
   a         #=> ["a"]
[19] pry(main)> 
```

注意：如果您愿意，也可以使用`?`别名。`show-doc`

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-29T06:02:16.393

您在评论中提到您正在使用来自 archlinux 的包管理器的 Ruby 包。您需要的`ri`是安装`ruby-docs`软件包：

```
$ pacman -S ruby-docs 
```

我猜他们将软件包分开，以便不想要文档的人可以节省磁盘使用量。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-29T11:07:07.363

> 当我使用撬时：
> 
> ```
> $ pry --version
> Pry version 0.9.12 on Ruby 1.9.3
> 
> $ pry 
> [1] pry(main)> ri String
> # shows String documentation
> [2] pry(main)> ri String.split
> error: 'String.split' not found
> [3] pry(main)> ri String.strip
> String.strip not found, maybe you meant:
> String#strip_heredoc 
> ```
> 
> 我应该怎么做才能使文档出现？

好吧，没有方法`String.split`或`String.strip`. 但是，有方法`String#split`和`String#strip`. 尝试询问这些，您可能会得到他们的文档。

# java - 如何将我的 jar 添加到 Java 编译路径？

> ID：15697213
> 
> 赞同：0
> 
> 时间：2013-03-29T04:12:26.603
> 
> 标签：java, class, jar

我对 Java 编程非常陌生，我正在尝试将 jar 添加到类路径中，如下所示：

```
javac -classpath ~/Downloads/algs4.jar. ThreeSum.java 
```

但我仍然遇到以下异常：

```
ThreeSum.java:38: error: cannot find symbol
                        StdOut.println(a[i] + " " + a[j] + " " + a[k]);
                        ^
  symbol:   variable StdOut
  location: class ThreeSum
ThreeSum.java:62: error: cannot find symbol
        int[] a = In.readInts(args[0]);
                  ^
  symbol:   variable In
  location: class ThreeSum
ThreeSum.java:64: error: cannot find symbol
        Stopwatch timer = new Stopwatch();
        ^
  symbol:   class Stopwatch
  location: class ThreeSum
ThreeSum.java:64: error: cannot find symbol
        Stopwatch timer = new Stopwatch();
                              ^
  symbol:   class Stopwatch
  location: class ThreeSum
ThreeSum.java:66: error: cannot find symbol
        StdOut.println("elapsed time = " + timer.elapsedTime());
        ^
  symbol:   variable StdOut
  location: class ThreeSum
ThreeSum.java:67: error: cannot find symbol
        StdOut.println(cnt);
        ^
  symbol:   variable StdOut
  location: class ThreeSum
6 errors 
```

我正在尝试[这里的程序](http://algs4.cs.princeton.edu/code/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T04:33:22.107

看起来你也需要下载这个 JAR：http: [//introcs.cs.princeton.edu/java/stdlib/](http://introcs.cs.princeton.edu/java/stdlib/)

它们没有包结构，因此将所有内容解压缩到同一目录中：

```
jar xvf stdlib.jar
jar xvf algs4.jar 
```

然后编译它：

```
javac -classpath . ThreeSum.java 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T04:18:02.490

您可能希望该类`~/Downloads/algs4.jar.`路径`~/Downloads/algs4.jar:.`位于 Linux 或Windows 上`~/Downloads/algs4.jar;.`

# java - 如何获取被调用方法的返回值？

> ID：15697217
> 
> 赞同：12
> 
> 时间：2013-03-29T04:13:03.547
> 
> 标签：java, reflection

我试图在java中实现某种反射。我有：

```
class P {
  double t(double x) {
    return x*x;
  }

  double f(String name, double x) {
    Method method;
    Class<?> enclosingClass = getClass().getEnclosingClass();
     if (enclosingClass != null) {
        method = enclosingClass.getDeclaredMethod(name, x);
        try {
          method.invoke(this, x);
        } catch (Exception e) {
          e.printStackTrace();
        }

    }
}

class o extends P {
  double c() { 
    return f("t", 5);
  }
} 
```

如何从 new o().c() 中获取价值？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-29T04:17:24.770

将虚拟类供您参考，您可以相应地更改代码 -

```
import java.lang.reflect.Method;

public class Dummy {

    public static void main(String[] args) throws Exception {
        System.out.println(new Dummy().f("t", 5));
    }

    double t(Double x) {
        return x * x;
    }

    double f(String name, double x) throws Exception {
        double d = -1;
        Method method;
        Class<?> enclosingClass = getClass();
        if (enclosingClass != null) {
            method = enclosingClass.getDeclaredMethod(name, Double.class);
            try {
                Object value = method.invoke(this, x);
                d = (Double) value;
            } catch (Exception e) {
                e.printStackTrace();
            }
        }

        return d;
    }
} 
```

只运行这个类。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-29T04:17:33.417

`invoke()`方法返回该方法执行后返回的对象！所以你可以试试...

```
Double dd = (Double)method.invoke(this,x);
double retunedVal = dd.doubleValue(); 
```

# jquery - 有没有办法在不先返回父元素的情况下选择元素

> ID：15697223
> 
> 赞同：1
> 
> 时间：2013-03-29T04:13:38.123
> 
> 标签：jquery

我正在尝试选择类`this`，然后在`that`不先遍历父`tr`元素的情况下获取。

这是我的 HTML：

```
<tr>
    <td>
        <div>some content</div>
        <select class="this">
            <option>1</option>
            <option>2</option>
        </select>
    </td>
</tr>
<tr>
    <td>
        <div>some content</div>
        <select class="that">
            <option>1</option>
            <option>2</option>
        </select>
    </td>
</tr> 
```

这是我的 jQuery：

```
$('.this').each(function () {
    var thisSelect = $(this),
        thatSelect = $(thisSelect).next('.that');

    console.log(thatSelect); // doesn't work
}); 
```

我尝试使用上面的代码，但没有成功。我正在使用`each`函数，因为页面上有不止一组这些选择元素。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T04:24:11.233

您的方法不起作用，因为`.next()`仅从兄弟姐妹中选择。

## jQuery

`$('select')`这是一种利用按它们在页面中出现的顺序返回它们的事实的方法。

[jsFiddle](http://jsfiddle.net/UnbCs/)

```
var selects = $('select');
selects.each(function (i, select) {
    if ($(this).hasClass('this')) {
        for (var j = i + 1; j < selects.length; j++) {
            if (selects.eq(j).hasClass('that')) {
                console.log(selects.eq(j));
            }
        }
    }
}); 
```

## 香草 JavaScript

如果您出于性能原因想要这样做，那么您应该使用 vanilla JavaScript。

[jsFiddle](http://jsfiddle.net/S76XJ/)

```
var selects = document.getElementsByTagName('select');

for (var i = 0; i < selects.length; i++) {
    if (selects[i].className.match(/\bthis\b/)) {
        for (var j = i + 1; j < selects.length; j++) {
            if (selects[j].className.match(/\bthat\b/)) {
                console.log(selects[j]);
                break;
            }
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T04:39:36.463

> 有没有办法在不先返回父元素的情况下选择元素

不适用于您当前的代码。如果您有时有一个`tr`容器，有时还有另一个容器作为父级，那么最不混乱的方法是将一个类或数据属性分配给父级。

假设这是您可以执行的操作，它看起来类似于：

```
<table>
    <tbody>
<tr class="container">
    <td>
        <div>this content</div>
        <select class="this">
            <option>1</option>
            <option>2</option>
        </select>
    </td>
</tr>
<tr class="container">
    <td>
        <div>that content</div>
        <select class="that">
            <option>1</option>
            <option>2</option>
        </select>
    </td>
</tr>
    </tbody>
</table> 
```

这将允许您的脚本与元素类型无关，并且您可以使用[**最接近的（）**](http://api.jquery.com/closest/)安全地编写代码，例如，类似于以下内容：

```
$('.this').each(function () {
    var $thisSelect = $(this),
        $thatSelect = $thisSelect.closest('.container').next().find('.that');

    console.log($thatSelect[0]);
}); 
```

以上内容也适用于以下 HTML：

```
<div class="container">
    <div>this content</div>
    <select class="this">
        <option>1</option>
        <option>2</option>
    </select>
</div>
<div class="container">
    <div>that content</div>
    <select class="that">
        <option>1</option>
        <option>2</option>
    </select>
</div> 
```

* * *

[**DEMO**](http://jsfiddle.net/aESTE/) - 使用类来识别容器

* * *

# android - 使链接可点击，在每个移动浏览器中显示滚动条

> ID：15697228
> 
> 赞同：-1
> 
> 时间：2013-03-29T04:14:08.950
> 
> 标签：android, css, html

在我的页面[http://goo.gl/](http://goo.gl/) kNAXq （删除浏览器中的空格，请不要替换此处的链接，因为我不希望 google 将此页面链接到我的网站。）当您单击 S在使用普通 pc/mac 浏览器的 MAP 中，您会看到一个带有滚动条的弹出窗口，这是预期的。我在我的安卓手机标准浏览器上看不到这些边框，但是，不适合的东西在那里被切断了。可能是什么原因？

Routenplanung和*Zur Karte也是**不可*点击的，即使它们是有效链接：

 *```
<a href="https://maps.google.com/maps?saddr=49.4538517,11.0773238&daddr=49.455856,11.074445&dirflg=w&hl=de">Routenplanung</a> 
```

和

```
<a style="a:link {text-decoration:underline;}" href="#mapdiv">Zur Karte</a> 
```

为什么它们不能按预期工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T04:55:45.150

大多数情况下，移动浏览器中没有滚动条。您只需要向上拖动 div 中的内容，但是，div 太小而无法正确抓取（至少根据我在桌面上看到的内容，我的手机需要永远加载......）。

链接不起作用，因为您在其顶部有另一个元素... <i>（为什么是 i？）绝对定位在链接的顶部。

首先， <i> 用于斜体文本，它已被弃用。我相信，更好的设置是将阴影放在包含的 div 上。只需摆脱 i 元素。一个缺点是，您需要更改在灰色表格单元格上实现背景颜色的方式。

只需将阴影作为一个类添加到 div 中。

然后改变css，像这样：

```
.results-bl.shadow {
    -webkit-box-shadow: inset 0px 0px 10px rgba(0, 1, 1, 0.5);
    -moz-box-shadow: inset 0px 0px 10px rgba(0, 1, 1, 0.5);
    box-shadow: inset 0px 0px 10px rgba(0, 1, 1, 0.5);
} 
```*

# google-admin-settings-api - 以编程方式启用配置 API？

> ID：15697230
> 
> 赞同：0
> 
> 时间：2013-03-29T04:14:14.500
> 
> 标签：google-admin-settings-api

只是想知道是否可以在无需手动打开管理控制台的情况下启用配置 api。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T18:32:43.707

这不可能。我想也许经销商可以使用经销商 API 为其域启用配置 API，但它受到限制。您必须登录管理控制台才能手动启用它。

# java - Hibernate Optimistic Locking：没有得到任何异常

> ID：15697232
> 
> 赞同：1
> 
> 时间：2013-03-29T04:14:16.877
> 
> 标签：java, hibernate, optimistic-locking

我正在尝试更新不同事务中的同一行以了解 Hibernate 的乐观锁定。

但我没有收到任何 StaleObjectStateException 或任何其他异常。

```
public void updateUsingTwoThreads() throws InterruptedException {
        Thread t1 = new Thread(new Runnable() {
            public void run() {
                Session session = null;
                try {
                    session = HibernateUtil.getSessionFactory().openSession();
                    org.hibernate.Transaction transaction = session
                            .beginTransaction();
                    Airline airline = (Airline) session.get(Airline.class,
                            new Integer(1));
                    System.out.println("getVersion in "+airline.getVersion()+"in "+ Thread.currentThread().getName());
                    try {
                        Thread.sleep(2000);
                    } catch (InterruptedException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    }

                    airline.setAirlineCode("asdasd234phle");
                    session.saveOrUpdate(airline);
                    System.out.println("getVersion in "+airline.getVersion()+"in "+ Thread.currentThread().getName());
                    transaction.commit();
                }catch(Throwable t){
                    System.out.println(t);

                }finally {
                    session.close();
                }
            }
        },"earlier");

        Thread t2 = new Thread(new Runnable() {
            public void run() {
                Session session = null;
                try {
                    session = HibernateUtil.getSessionFactory().openSession();
                    //session.clear();
                    org.hibernate.Transaction transaction = session.beginTransaction();
                    Airline airline = (Airline) session.get(Airline.class,new Integer(1));
                    System.out.println("getVersion in "+airline.getVersion()+"in "+ Thread.currentThread().getName());
                    try {
                        Thread.sleep(100000);
                    } catch (InterruptedException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    }
                    System.out.println("getVersion in "+airline.getVersion()+"in "+ Thread.currentThread().getName());
                    airline.setAirlineCode("asdasdbaadmain");
                    session.saveOrUpdate(airline);
                    transaction.commit();
                }catch(Throwable t){
                    System.out.println(t);

                } finally {
                    session.close();
                }
            }
        },"later");

        t1.start();
        t2.start();

        t1.join();
        t2.join();

    } 
```

我已将代码附加到我正在尝试做的事情之上。请让我知道..我错过了什么吗？

或者乐观锁定与我正在尝试做的事情不同。

在上面的代码中，我启动了两个线程“Earlier”和“Later”，它们都从 sessionFactory 获取会话对象并从数据库中加载相同的记录并同时更新它。

1）但也不例外，而且只有一个线程能够更新行。

航空公司等级如下：

```
package tryouts.one_to_many;

import java.io.Serializable;
import java.util.HashSet;
import java.util.Set;

import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;
import javax.persistence.JoinColumn;
import javax.persistence.OneToMany;
import javax.persistence.Version;

import org.hibernate.annotations.OptimisticLockType;

@Entity
@org.hibernate.annotations.Entity(dynamicUpdate=true, optimisticLock = OptimisticLockType.ALL)
public class Airline implements Serializable {

    private static final long serialVersionUID = 1L;

    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    @Column(name = "AIRLINE_ID")
    private Integer airlineId;

    @Column(name = "AIRLINE_NAME")
    private String airlineName;

    @Column(name = "AIRLINE_CODE")
    private String airlineCode;

    @Version 
    private long version;

    @OneToMany
    @JoinColumn(name="airlineId")
    private Set<AirlineFlight> airlineFlights = new HashSet<AirlineFlight>();

    public Integer getAirlineId() {
        return airlineId;
    }

    public void setAirlineId(Integer airlineId) {
        this.airlineId = airlineId;
    }

    public String getAirlineName() {
        return airlineName;
    }

    public void setAirlineName(String airlineName) {
        this.airlineName = airlineName;
    }

    public String getAirlineCode() {
        return airlineCode;
    }

    public void setAirlineCode(String airlineCode) {
        this.airlineCode = airlineCode;
    }

    public Set<AirlineFlight> getAirlineFlights() {
        return airlineFlights;
    }

    public void setAirlineFlights(Set<AirlineFlight> airlineFlights) {
        this.airlineFlights = airlineFlights;
    }

    public long getVersion() {
        return version;
    }

    public void setVersion(long version) {
        this.version = version;
    }

} 
```

节目输出：

```
 04:25:29.656 [earlier] DEBUG org.hibernate.impl.SessionImpl - opened session at timestamp: 13645311296
04:25:29.656 [later] DEBUG org.hibernate.impl.SessionImpl - opened session at timestamp: 13645311296
04:25:29.657 [earlier] DEBUG o.h.transaction.JDBCTransaction - begin
04:25:29.657 [later] DEBUG o.h.transaction.JDBCTransaction - begin
04:25:29.657 [earlier] DEBUG org.hibernate.jdbc.ConnectionManager - opening JDBC connection
04:25:29.657 [later] DEBUG org.hibernate.jdbc.ConnectionManager - opening JDBC connection
04:25:29.657 [earlier] DEBUG o.h.transaction.JDBCTransaction - current autocommit status: false
04:25:29.657 [later] DEBUG o.h.c.DriverManagerConnectionProvider - opening new JDBC connection
04:25:29.659 [earlier] DEBUG org.hibernate.loader.Loader - loading entity: [tryouts.one_to_many.Airline#1]
04:25:29.663 [earlier] DEBUG org.hibernate.jdbc.AbstractBatcher - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
04:25:29.663 [earlier] DEBUG org.hibernate.SQL - select airline0_.AIRLINE_ID as AIRLINE1_0_0_, airline0_.AIRLINE_CODE as AIRLINE2_0_0_, airline0_.AIRLINE_NAME as AIRLINE3_0_0_, airline0_.version as version0_0_ from Airline airline0_ where airline0_.AIRLINE_ID=?
Hibernate: select airline0_.AIRLINE_ID as AIRLINE1_0_0_, airline0_.AIRLINE_CODE as AIRLINE2_0_0_, airline0_.AIRLINE_NAME as AIRLINE3_0_0_, airline0_.version as version0_0_ from Airline airline0_ where airline0_.AIRLINE_ID=?
04:25:29.680 [later] DEBUG o.h.c.DriverManagerConnectionProvider - created connection to: jdbc:mysql://localhost:3306/test, Isolation Level: 4
04:25:29.681 [later] DEBUG o.h.transaction.JDBCTransaction - current autocommit status: false
04:25:29.681 [later] DEBUG org.hibernate.loader.Loader - loading entity: [tryouts.one_to_many.Airline#1]
04:25:29.681 [later] DEBUG org.hibernate.jdbc.AbstractBatcher - about to open PreparedStatement (open PreparedStatements: 0, globally: 1)
04:25:29.681 [later] DEBUG org.hibernate.SQL - select airline0_.AIRLINE_ID as AIRLINE1_0_0_, airline0_.AIRLINE_CODE as AIRLINE2_0_0_, airline0_.AIRLINE_NAME as AIRLINE3_0_0_, airline0_.version as version0_0_ from Airline airline0_ where airline0_.AIRLINE_ID=?
Hibernate: select airline0_.AIRLINE_ID as AIRLINE1_0_0_, airline0_.AIRLINE_CODE as AIRLINE2_0_0_, airline0_.AIRLINE_NAME as AIRLINE3_0_0_, airline0_.version as version0_0_ from Airline airline0_ where airline0_.AIRLINE_ID=?
04:25:29.682 [later] DEBUG org.hibernate.jdbc.AbstractBatcher - about to open ResultSet (open ResultSets: 0, globally: 0)
04:25:29.682 [earlier] DEBUG org.hibernate.jdbc.AbstractBatcher - about to open ResultSet (open ResultSets: 0, globally: 0)
04:25:29.683 [later] DEBUG org.hibernate.loader.Loader - result row: EntityKey[tryouts.one_to_many.Airline#1]
04:25:29.683 [earlier] DEBUG org.hibernate.loader.Loader - result row: EntityKey[tryouts.one_to_many.Airline#1]
04:25:29.687 [later] DEBUG org.hibernate.jdbc.AbstractBatcher - about to close ResultSet (open ResultSets: 1, globally: 2)
04:25:29.687 [earlier] DEBUG org.hibernate.jdbc.AbstractBatcher - about to close ResultSet (open ResultSets: 1, globally: 2)
04:25:29.687 [later] DEBUG org.hibernate.jdbc.AbstractBatcher - about to close PreparedStatement (open PreparedStatements: 1, globally: 2)
04:25:29.687 [earlier] DEBUG org.hibernate.jdbc.AbstractBatcher - about to close PreparedStatement (open PreparedStatements: 1, globally: 2)
04:25:29.688 [later] DEBUG org.hibernate.engine.TwoPhaseLoad - resolving associations for [tryouts.one_to_many.Airline#1]
04:25:29.689 [earlier] DEBUG org.hibernate.engine.TwoPhaseLoad - resolving associations for [tryouts.one_to_many.Airline#1]
04:25:29.695 [earlier] DEBUG org.hibernate.engine.TwoPhaseLoad - done materializing entity [tryouts.one_to_many.Airline#1]
04:25:29.695 [later] DEBUG org.hibernate.engine.TwoPhaseLoad - done materializing entity [tryouts.one_to_many.Airline#1]
04:25:29.695 [earlier] DEBUG o.h.e.StatefulPersistenceContext - initializing non-lazy collections
04:25:29.695 [later] DEBUG o.h.e.StatefulPersistenceContext - initializing non-lazy collections
04:25:29.695 [earlier] DEBUG org.hibernate.loader.Loader - done entity load
04:25:29.695 [later] DEBUG org.hibernate.loader.Loader - done entity load
getVersion in 53in earlier
getVersion in 53in later
getVersion in 53in earlier
04:25:31.697 [earlier] DEBUG o.h.transaction.JDBCTransaction - commit
04:25:31.697 [earlier] DEBUG o.h.e.d.AbstractFlushingEventListener - processing flush-time cascades
04:25:31.699 [earlier] DEBUG o.h.e.d.AbstractFlushingEventListener - dirty checking collections
04:25:31.704 [earlier] DEBUG org.hibernate.engine.Collections - Collection found: [tryouts.one_to_many.Airline.airlineFlights#1], was: [tryouts.one_to_many.Airline.airlineFlights#1] (uninitialized)
04:25:31.704 [earlier] DEBUG o.h.e.d.AbstractFlushingEventListener - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
04:25:31.704 [earlier] DEBUG o.h.e.d.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 1 collections
04:25:31.705 [earlier] DEBUG org.hibernate.pretty.Printer - listing entities:
04:25:31.705 [earlier] DEBUG org.hibernate.pretty.Printer - tryouts.one_to_many.Airline{airlineFlights=<uninitialized>, airlineCode=asdasd234phle, airlineName=Jet Airways, airlineId=1, version=53}
04:25:31.707 [earlier] DEBUG org.hibernate.jdbc.AbstractBatcher - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
04:25:31.707 [earlier] DEBUG org.hibernate.SQL - update Airline set AIRLINE_CODE=?, version=? where AIRLINE_ID=? and version=?
Hibernate: update Airline set AIRLINE_CODE=?, version=? where AIRLINE_ID=? and version=?
04:25:31.708 [earlier] DEBUG org.hibernate.jdbc.AbstractBatcher - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
04:25:31.711 [earlier] DEBUG o.h.transaction.JDBCTransaction - committed JDBC Connection
04:25:31.711 [earlier] DEBUG org.hibernate.jdbc.ConnectionManager - aggressively releasing JDBC connection
04:25:31.711 [earlier] DEBUG org.hibernate.jdbc.ConnectionManager - releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
getVersion in 53in later
04:27:09.695 [later] DEBUG o.h.transaction.JDBCTransaction - commit
04:27:09.696 [later] DEBUG o.h.e.d.AbstractFlushingEventListener - processing flush-time cascades
04:27:09.696 [later] DEBUG o.h.e.d.AbstractFlushingEventListener - dirty checking collections
04:27:09.696 [later] DEBUG org.hibernate.engine.Collections - Collection found: [tryouts.one_to_many.Airline.airlineFlights#1], was: [tryouts.one_to_many.Airline.airlineFlights#1] (uninitialized)
04:27:09.696 [later] DEBUG o.h.e.d.AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
04:27:09.696 [later] DEBUG o.h.e.d.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 1 collections
04:27:09.696 [later] DEBUG org.hibernate.pretty.Printer - listing entities:
04:27:09.696 [later] DEBUG org.hibernate.pretty.Printer - tryouts.one_to_many.Airline{airlineFlights=<uninitialized>, airlineCode=asdasdbaadmain, airlineName=Jet Airways, airlineId=1, version=53}
04:27:09.697 [later] DEBUG o.h.transaction.JDBCTransaction - committed JDBC Connection
04:27:09.697 [later] DEBUG org.hibernate.jdbc.ConnectionManager - aggressively releasing JDBC connection
04:27:09.697 [later] DEBUG org.hibernate.jdbc.ConnectionManager - releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T04:52:23.347

这里发生的情况是脏检查在您不期望的情况下帮助您。`airlineCode`我敢打赌is的原始值`asdasdbaadmain`与您在“稍后”线程中设置的值相同。

Hibernate 有一个称为脏检查的过程，它检查每个字段以查看它是否已从最初加载的状态修改。在这种情况下，你没有改变任何东西。没有更改的字段意味着没有更新，没有执行 SQL，没有版本冲突，因此没有例外。

如果你调用你会得到异常`session.evict()`的事实是因为如果你已经从那里驱逐了实体，`Session`那么就没有什么可以进行脏检查了，所以 Hibernate 被迫写入数据库。

# php - 无法理解为什么设置了数组但处理后数组为空

> ID：15697236
> 
> 赞同：-2
> 
> 时间：2013-03-29T04:14:35.223
> 
> 标签：php, arrays, associative

第 42 行是错误。我不确定为什么它一直说它不是一个数组是一个部分，但在第 42 行找不到数组。我试图将行更改为 ($_POST['CINS'] as $cNum => $ v) 和 ($CINS 作为 $cNum => $v)。任何见解或帮助将不胜感激。

```
<?php
$title = "fTest.php";
$action=$_SERVER['PHP_SELF'];
include("html-head.inc");
echo <<<HEREDOC
<header>
<h1>$title</h1>
</header>
HEREDOC;

if (!isset($_POST['submit']))
{ 
        echo "<form method=\"post\" action=\"$action\">";
$CINS = array('101' => "CINS101",
                '108' => "CINS108",
                '121' => "CINS121",
                '251' => "CINS251",
                '254' => "CINS254");
        echo "<p>Please pick your CINS classes:</p>";
        echo "<ul>\n";
foreach ($CINS as $key => $value)
{ 
        echo "<li>";
        echo "<input type=\"checkbox\" name=\"CINSc\" value=\"$value\"/>CINS$key"    ;
        echo "</li>\n";
}                 
        echo "</ul>\n"; 
        echo "<input type=\"reset\" name=\"reset\" value\"Reset\" />";
        echo "<input type=\"submit\" name=\"submit\" value\"Submit\" />";
        echo "</p>";
echo is_array($CINS) ? 'Array' : 'Not an array';
echo "\n";
        echo "</form>";
} // ends IF PORTION for ISSET
else      
{         
if (count($_POST['CINS'] > 0 ))
{         
        echo "<h2> Your picks are: </h2>\n";
        echo "<ul>\n";
echo is_array($CINS) ? 'Array' : 'Not an array';
foreach ($_POST['CINS'] as $cNum => $v)  //This is the error.
{
        echo "\t<li>$v</li>\n";
} // end of FOREACH cins
        echo "</ul>\n";
} // end of IF count CINS
} // end of ELSE portion for ISSET
?> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T04:18:18.757

您的复选框名称应如下所示，以将其视为数组

```
<input type="checkbox" name="CINS[]" value = "1" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T04:28:01.173

这个`<input>`名字是一个数组，我发现了一个`</p>`不应该在那里的备用。

你的编码风格会引起很多头痛。我已经清理了一下，我认为这种风格会更容易处理。

```
<?php
$title = "fTest.php";
$action=$_SERVER['PHP_SELF'];
include("html-head.inc");
?>

<header>
<h1><?=$title?></h1>
</header>

<?php if (!isset($_POST['submit'])): ?>
    <?php $CINS = array('101' => "CINS101",
                        '108' => "CINS108",
                        '121' => "CINS121",
                        '251' => "CINS251",
                        '254' => "CINS254"); ?>
    <form method="post" action="<?=$action?>">
        <p>Please pick your CINS classes:</p>
        <ul>
        <?php foreach ($CINS as $key => $value): ?>
            <li>
            <input type="checkbox" name="CINS[]" value="<?=$value?>" />CINS<?=$key?>
            </li>
        <?php endforeach; ?> 
        </ul>
        <input type="reset" name="reset" value"Reset" />
        <input type="submit" name="submit" value"Submit" />
        </p> <!-- THIS TAG IS EXTRA WHERE DID IT COME FROM -->
        <?= is_array($CINS) ? 'Array' : 'Not an array' ?>
    </form>
<?php else if (count($_POST['CINS'] > 0 )): ?>
    <h2>Your picks are: </h2>
    <ul>
    <?= is_array($CINS) ? 'Array' : 'Not an array' ?>
    <?php foreach ($_POST['CINS'] as $cNum => $v): ?>
        <li><?=$v?></li>
    <?php endforeach; ?>
    </ul>
<?php endif; ?> 
```

# class - 使用对象的私有实例变量对 ArrayList 进行排序

> ID：15697238
> 
> 赞同：0
> 
> 时间：2013-03-29T04:14:48.353
> 
> 标签：class, variables, arraylist, instance, private

我希望这个问题是有道理的。我有一个名为 Item 的类，它具有私有实例变量名称、数量和价格。然后我有一个名为 ItemList 的类，它扩展了 Item 并将 Item 类的对象放入 ArrayList。我打印出这些对象的变量没有问题，但我试图按价格对 ArrayList 中的对象进行排序，但我不确定如何访问派生类中的私有实例变量以便对对象进行排序。这有意义吗？有人有建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T04:31:57.340

首先，您不需要将 Item 扩展到 ItemList。其次，如果你想访问任何类的私有变量，那么你应该有方法返回这些变量的值。

你可以有像setter和getter这样的东西。

看看这个问题可能会解决你的问题。

[getter 和 setter 教程](https://stackoverflow.com/questions/2036970/tutorial-on-getters-and-setters)

或者你可以去谷歌搜索一些提前的信息。

# ios - 自定义转场和模态转场有什么区别

> ID：15697239
> 
> 赞同：-1
> 
> 时间：2013-03-29T04:14:50.430
> 
> 标签：ios, segue

我在一个 iOS 应用程序中工作，它包括模态 segue 和自定义 segue。在那个应用程序中，我使用了 API。当我在自定义 segue 中调用 API 时，它可以正常工作，即从 API 获得响应后，它将根据 API 的结果呈现目标视图控制器。但是当我在模态 segue 中调用 API 时，它不能正常工作，即它在从 API 获得响应之前呈现目标视图控制器。这会导致我的应用程序崩溃

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T04:27:27.660

模态转场是一个预先构建的转场，一个视图控制器可以通过它呈现另一个。自定义 segue 是您自己定义的 segue 子类。有关构建自定义 segue 的更多信息，请参阅[此页面](http://developer.apple.com/library/ios/#featuredarticles/ViewControllerPGforiPhoneOS/CreatingCustomSegues/CreatingCustomSegues.html)。

但是，如果没有看到一些代码或更具体的信息，我无法判断是什么导致了您的应用程序崩溃。

# objective-c - 加载时滚动 NSTableView

> ID：15697240
> 
> 赞同：0
> 
> 时间：2013-03-29T04:15:07.760
> 
> 标签：objective-c, macos, cocoa, nstableview

我有一个`NSViewController`包含基于视图的表视图。当我初始化视图控制器并将其视图放在屏幕上时，表格视图将滚动到底部。我宁愿让表格视图滚动到顶部。

我知道该方法`-scrollRowToVisible:`，但我不知道在哪里调用它以便表格视图首先出现滚动到顶部。`-loadView`我尝试将它插入到方法的末尾，`NSViewController`但显然它不起作用，因为此时表格视图甚至还没有加载它的行。

调用该方法的最佳位置是`-scrollRowToVisible:`什么？或者，是否有一个属性可以让表格视图显示它的第一行而不是最后一行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T04:50:17.913

我认为这是要走的路..

--一旦表格的所有项目/行都加载/显示在表格视图中，您应该调用滚动

-- 在某个地方你会做 reloadData，可能是在从 nib 唤醒时，这不是一种阻塞函数，它会调用一些 UI Delegate 函数，比如

```
- (id)tableView:(NSTableView *)tableView objectValueForTableColumn:(NSTableColumn *)aTableColumn byItem:(id)item 
```

也许您应该在这里检查最后一项，并且[NSTableViewUIDelegate](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableViewDelegate_Protocol/Reference/Reference.html)中可能有一些 Delegate 函数，它告诉您何时在表中加载/显示 Item ，您可以在那里检查最后一项，这意味着所有表项都得到了加载然后调用 scrollToVisible 是安全的

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-09-15T05:53:09.487

这是一个老问题，但为了记录，因为我今天自己遇到了这个问题：

你的`NSScrollView`表格视图开始滚动到底部，很可能是因为滚动视图在上次关闭窗口后恢复了它的最后滚动位置。

这是[用户界面保留](https://developer.apple.com/library/content/documentation/General/Conceptual/MOSXAppProgrammingGuide/CoreAppDesign/CoreAppDesign.html#//apple_ref/doc/uid/TP40010543-CH3-SW26)/状态恢复功能的一部分。

为了避免滚动视图恢复滚动位置（实际上，任何东西），您可以`NSScrollView`对这些进行子类化和子类化：

```
class NonPreservingScrollView: NSScrollView {

    override func encodeRestorableState(with coder: NSCoder) {
        // Nothing
    }
    override func restoreState(with coder: NSCoder) {
        // Nothing
    }
} 
```

可能比尝试在重新加载数据完成时跟踪并且在窗口加载时滚动视图不会移动要干净一些......

# sql-server-2008 - 在 DotNetNuke 中调用 sql 存储过程

> ID：15697241
> 
> 赞同：0
> 
> 时间：2013-03-29T04:15:14.400
> 
> 标签：sql-server-2008, dotnetnuke-module

我在这里遇到一个问题，我无法在 DNN 中调用存储过程。我正在使用 DNN 7 [lastest]。我尝试使用 NamePrefix +“reg_user”，但它似乎没有调用我想要的过程。下面是我尝试过的但来了到同样的结果。

**SqlDataProvider.cs[DAL]**

```
public override void AddUser(int ModuleId,string User_name,string User_password,string User_email  {
    SqlHelper.ExecuteNonQuery(ConnectionString,GetFullyQualifiedName("reg_user"),ModuleId,User_name,User_password,User_email);
} 
```

**FeatureController.cs[BL]**

```
Public void AddUser(Register_user reg){
    if(reg._User_name.Trim() != "")
    {
        DataProvider.Instance().AddUser(reg.ModuleId,reg._User_name,reg.User_password,_User_email);    
    }
} 
```

**Register_user.cs[实体]**

```
public class Register_user
{
    public int _ModuleId{ get; set; }
    public string _User_name{ get; set; }
    public string _User_password{ get; set; }
    public string _User_email{ get; set; }
} 
```

**view.ascx.cs[用户界面]**

```
protected void btnregister_Click(object sender, EventArgs e)
{

    try
    {
        FeatureController cntrl = new FeatureController();
        Register_user reg = new Register_user()
        {
            _ModuleId=ModuleId,
            _User_name = txtusername.Text,
            _User_email = txtemail.Text,
            _User_password = txtpassword.Text
        };
        cntrl.AddUser(reg);
        }
        catch (Exception ee)
        {
            lblresult.Text = ee.Message.ToString();
        }
} 
```

错误：存储过程“dbo.DNNModule2_reg_user”不存在。

任何帮助都非常受欢迎！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T04:02:33.230

我回来了几天前问的这个问题的解决方案更新。解决方案相当简单。这是我需要更改的内容。它会毫无问题地调用 Sql 数据库。

```
public override void AddUser(int ModuleId,string User_name,string User_password,string User_email  {
    SqlHelper.ExecuteNonQuery(ConnectionString,DatabaseOwner + ObjectQualifier + reg_user",ModuleId,User_name,User_password,User_email);
} 
```

只需从**GetFullyQualifiedName**更改为**DatabaseOwner + ObjectQualifier**。我是作为优秀社区成员的一员这样做的。所以我倾向于不让我的问题得不到回答。

研究生，

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T06:53:31.303

我认为您必须查看一下您的 SqlDataProvider。

私有常量字符串 providerType = "数据";

**private const string moduleQualifier = "Objectqualifier_";**

这是添加了您的 SP 名称（如 Objectqualifier_SPname）的对象限定符字符串。并且您必须以相同的方式创建 SP。意味着您必须只在 GetFullyQualifiedName("SPname") 中写入 sp 名称的最后一部分。使用调试器检查 SP 的全名。然后检查您在 SQL Server 中的原始 SP 名称。

请您提供您在 SQL Server 中的 sp 名称和您的 *private const string moduleQualifier

# c# - 以编程方式在 FlowDocument 中创建水平线

> ID：15697244
> 
> 赞同：2
> 
> 时间：2013-03-29T04:15:43.197
> 
> 标签：c#, wpf, .net-4.0, rtf, flowdocument

我正在以编程方式创建 FlowDocument，然后将其转换为富文本，以便用户可以在富文本框中对其进行编辑。我无法弄清楚如何在 FlowDocument 中插入一条水平线，该水平线将显示在编辑框的整个宽度上（以及随后呈现的 PDF）。

我发现这个线程（据称）显示了如何在 XAML 中完全按照我的意愿行事：

[WPF中的简单（我认为）水平线？](https://stackoverflow.com/questions/2314975/simple-i-think-horizontal-line-in-wpf)

和这个：

[http://social.msdn.microsoft.com/forums/en-US/wpf/thread/bcd334c7-8e2b-4e59-a344-4376b30cf847/](http://social.msdn.microsoft.com/forums/en-US/wpf/thread/bcd334c7-8e2b-4e59-a344-4376b30cf847/)

我试图以编程方式复制它，如下所示：

```
 Line pLine = new Line();
        pLine.Stretch = Stretch.Fill;
        pLine.Stroke = Brushes.Black;
        pLine.X2 = 1;
        para.Inlines.Add( pLine ); 
```

但是，这最终在生成的 RTF 编辑框中什么都不显示。富文本的其余部分在那里。就是根本没有线。

我还尝试创建一个表格并将我想要在水平线之后的文本插入到单元格中。然后我为表格的顶部设置了一个自定义边框。这给了我一条水平线，但它并没有一直穿过屏幕（在它转换为 RTF 并显示在 RTF 编辑框中之后），并且在我将它渲染成 PDF 后它根本不显示。

我已经采取了完全破解的方法，即插入 60 个下划线（'_'）字符和换行符。这“有效”，但很糟糕。谁能告诉我如何正确地做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-10-06T17:03:58.147

我对 Otto 方法的体验是它在编辑器中绘制了一条漂亮的水平线，但该线并未保存在 RTF 文件中。我方便的 O'Reilly 小“RTF 袖珍指南”产生了一个兼具两者的 RTF 块。这是我的“插入换行符”工具栏按钮的单击处理程序...

```
 private void InsertLineBreak_Click(object sender, RoutedEventArgs e)
    {
        MemoryStream stream = 
            new MemoryStream(ASCIIEncoding.Default.GetBytes(@"{\pard\brdrb\brdrs\brdrw10\brsp20\par}"));
        rtbEditor.Selection.Load(stream, DataFormats.Rtf);
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-16T10:19:38.290

我正在使用这个小怪物在 RichTextBox 中的当前光标位置插入一行。

```
var ruler = new Line { X1 = 0, Y1 = 0, X2 = 1000, Y2 = 0, Stroke = new SolidColorBrush(Colors.Black), StrokeThickness = 2 };

new InlineUIContainer(ruler, richtextbox.CaretPosition.GetInsertionPosition(LogicalDirection.Forward)); 
```

我想你忘了设置`StrokeThickness`. 即使您将`Stretch.Fill`线路设置为只有一个设备独立单元长。

# facebook - 在 Android 中使用 Graph API 从多个图像中选择一个图像并发布到墙上

> ID：15697251
> 
> 赞同：1
> 
> 时间：2013-03-29T04:16:30.710
> 
> 标签：facebook, facebook-graph-api, android-facebook

如何从多张图片中选择一张图片，然后在 Android 中使用 Facebook Graph API 发布到墙上。

我知道如何将特定图像发布到墙上，但这次我想知道如何允许用户从多个图像中将图像发布到墙上。

例如：

```
 like now i want to show 4 Images (Image1, Image2, Image3, Image4) and let 
  user to select one of them to post to wall 
```

我想通过使用任何方式来实现这个目标，我准备使用网络图像 url 或使用可绘制图像，但我只是想实现它......所以需要你的帮助..提前谢谢

将特定图像发布到墙上的代码：

```
 public void onClick(DialogInterface dialog,
                                public void onClick(DialogInterface dialog,
                                    int which) {
                                Bundle params = new Bundle();

                                params.putString("picture", 
                                        FacebookUtility.HACK_ICON_URL); 
                            } 
```

# php - MySQL如何从URL传递的参数中获取列

> ID：15697254
> 
> 赞同：1
> 
> 时间：2013-03-29T04:16:47.337
> 
> 标签：php, mysql, sql, select

我有一个 mySQL 数据库，其中主键是一个字符串，它是一个用户名，一个字段是一个 URL。用户名通过url传递，url被打印出来。但是，我无法让代码工作。我究竟做错了什么？

```
<html>
    <head>
    <title>Query string</title>
    </head>
    <body>
    <?php
    $con = mysql_connect("na","na","na");
    if (!$con)
    {
    die('Could not connect: ' . mysql_error());
    }
    mysql_select_db("na", $con); 
    $query="SELECT * FROM  `na`.`na` WHERE 'Username' = '" . $_GET["username"] . "'";
     $data = mysql_query($query) or die('Could not connect: ' . mysql_error());
     while($info = mysql_fetch_array($data)) 
 { 
Print "URL>>".$info['Url'] . "URL>>" ; 
 } 
    ?>
    </body>
    </html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T04:18:49.733

您的查询不工作的原因是因为您已经`Username`用单引号包裹了命名的列。请记住，列名是标识符而不是字符串文字。用单引号包裹标识符使其成为字符串文字。因此，在您的情况下，您将值与 string`username`而不是 column name进行比较`username`。删除单引号，它肯定会工作。

```
SELECT * FROM  `na`.`na` WHERE Username = '' 
```

`$_GET["username"]`试试这个，在with中传递一个值，`Username`你会得到表中的所有记录，因为`'Username' = 'Username'`它总是正确的。

*   [MySQL - 何时使用单引号、双引号和反引号？](https://stackoverflow.com/questions/11321491/mysql-when-to-use-single-quotes-double-quotes-and-backticks)

作为旁注，[`SQL Injection`](http://bobby-tables.com/)如果变量的值（*s*）来自外部，则查询很容易受到攻击。请看下面的文章，了解如何预防。通过使用`PreparedStatements`，您可以摆脱在值周围使用单引号。

*   [如何*防止*PHP 中的 SQL 注入？](https://stackoverflow.com/questions/60174/how-to-prevent-sql-injection-in-php)

# android - 适用于 android 的新 Youtube api：获取视频标题

> ID：15697255
> 
> 赞同：4
> 
> 时间：2013-03-29T04:16:47.413
> 
> 标签：android, api, youtube

我正在使用新的 Youtube API for android。我已经设法使用 API 来显示特定的播放列表（使用 ListView），并且在单击列表上的视频时，我可以播放该特定视频。

我的问题是这个。如何获取特定视频的详细信息？视频标题和观看次数等详细信息。我曾尝试查看 YoutubeThumbnailView/loader、YoutubePlayerView、YoutubePlayer 但没有运气。

这是主要活动的代码，如果您需要更多信息，请告诉我。

任何帮助将不胜感激。

```
public class MainActivity extends YouTubeBaseActivity implements YouTubePlayer.OnInitializedListener, YouTubeThumbnailView.OnInitializedListener{

private final static String PLAY_LIST_ID = "XXX";
private final static String DEV_KEY = "XXX";

private YouTubeThumbnailView thumbnailView;
private YouTubeThumbnailLoader loader;
private ArrayList<HashMap<String, YouTubeVideo>> arrayList;
private ListView listView;
private SpecialAdapter adapter;
private int counter;
private YouTubePlayerView playerView;
private YouTubePlayer player;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    String[] keys = new String[]{"key"};
    int[] values = new int[]{R.id.imageView1};  
    arrayList = new ArrayList<HashMap<String, YouTubeVideo>>();
    setContentView(R.layout.activity_main);
    listView = (ListView)findViewById(R.id.listView1);
    listView.setOnItemClickListener(new onListClickListener());
    playerView = (YouTubePlayerView)findViewById(R.id.player);
    thumbnailView = new YouTubeThumbnailView(this);
    thumbnailView.initialize(DEV_KEY, this);
    playerView.initialize(DEV_KEY, this);
    adapter = new SpecialAdapter(this, arrayList, R.layout.row_layout, keys, values);
}

class onListClickListener implements OnItemClickListener{
    @Override
    public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,
            long arg3) {
        playerView.setVisibility(View.VISIBLE);
        player.cueVideo(arrayList.get(arg2).get("key").videoID);
    }
}

@Override
public void onInitializationSuccess(YouTubeThumbnailView arg0,
        YouTubeThumbnailLoader arg1) {
    loader = arg1;
    loader.setPlaylist(PLAY_LIST_ID);
    loader.setOnThumbnailLoadedListener(new OnThumbnailLoadedListener() {
        @Override
        public void onThumbnailLoaded(YouTubeThumbnailView arg0, String videoId) {
            HashMap<String, YouTubeVideo> map;
            ImageView imageView;

            if(loader.hasNext()){
                map = new HashMap<String, YouTubeVideo>();
                imageView = new ImageView(MainActivity.this);
                imageView.setImageDrawable(arg0.getDrawable());
                map.put("key", new YouTubeVideo(imageView, videoId));
                arrayList.add(map);
                loader.next();
            }else {
                map = new HashMap<String, YouTubeVideo>();
                imageView = new ImageView(MainActivity.this);
                imageView.setImageDrawable(arg0.getDrawable());
                map.put("key", new YouTubeVideo(imageView, videoId));
                arrayList.add(map);
                listView.setAdapter(adapter);
            }
        }

        @Override
        public void onThumbnailError(YouTubeThumbnailView arg0, ErrorReason arg1) {
        }
    });
}

@Override
public void onInitializationFailure(YouTubeThumbnailView arg0,
        YouTubeInitializationResult arg1) {
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
}

@Override
public void onInitializationFailure(Provider arg0,
        YouTubeInitializationResult arg1) {

}

@Override
public void onInitializationSuccess(Provider provider, YouTubePlayer player,
          boolean wasRestored) {
    this.player = player;
}

@Override
  protected void onDestroy() {
    if(loader != null) {
        loader.release();
    }
    super.onDestroy();
  } 
```

}

# python-3.x - 需要矩阵乘法帮助

> ID：15697256
> 
> 赞同：0
> 
> 时间：2013-03-29T04:16:52.897
> 
> 标签：python-3.x, user-defined-functions, matrix-multiplication, dot-product

所以我有这三个完整的函数，它们返回所需的矩阵行、矩阵列以及行和列的点积，我需要在第四个函数中以某种方式将它们网格在一起，以便找到两个的乘积矩阵相乘。有什么建议么？

```
#Test matrices
A = [[2,4], [7,0], [6,3]]
B = [[3,1], [-1,8], [-3, 3]]
C = [[4,1,9], [6,2,8], [7,3,5]]
D = [[2,9], [5,2], [1,0]]

def row(A,i):
    Z = []
    Z.append(A[i])
    return Z[0]

def col(B,j):
    Z=[]
    for i in range(len(B)):
        Z.append(B[i][j])
    return Z

def dotProduct(x,y):
    prod=0
    for i in range(len(x)):
        prod=prod+x[i]*y[i]
    return prod

def matrixMUL(A, B):
    Z = []
    ....
    return Z 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2019-10-17T21:19:07.307

具有 3 个以上辅助功能的解决方案：

```
from functools import partial

#Test matrices

A = [[2,4], [7,0], [6,3]]
B = [[3,1], [-1,8], [-3, 3]]
C = [[4,1,9], [6,2,8], [7,3,5]]
D = [[2,9], [5,2], [1,0]]

def row(A,i):
    Z = []
    Z.append(A[i])
    return Z[0]

def col(B,j):
    Z=[]
    for i in range(len(B)):
        Z.append(B[i][j])
    return Z

def dotProduct(x,y):
    prod=0
    for i in range(len(x)):
        prod=prod+x[i]*y[i]
    return prod

def shape(A):
    num_rows = len(A)
    num_cols = len(A[0]) if A else 0
    return num_rows, num_cols

def matrix_product_entry(A, B, i, j):
    return dotProduct(row(A, i), col(B, j))

def matrix_make(rows, cols, entry_fn):
    return [[entry_fn(i, j) for j in range(cols)]
            for i in range(rows)]

def matrixMUL(A, B):
    n1, k1 = shape(A)
    print(n1, k1)
    n2, k2 = shape(B)
    if k1 != n2:
        raise ArithmeticError("matrices shapes are not compatible!")
    return matrix_make(n1, k2, partial(matrix_product_entry, A, B))

print (matrixMUL(C, D))
# returns [[22, 38], [30, 58], [34, 69]] 
```

# opencv - 如何将一行 Mat 复制到 OpenCv 中另一个 Mat 的列？

> ID：15697257
> 
> 赞同：5
> 
> 时间：2013-03-29T04:17:13.453
> 
> 标签：opencv

我有两个垫子：

```
A:
size(1,640)
B:
size(640,480) 
```

我想将 A 复制到 B 的第一列，所以我使用`A.copyTo(B.col(0))`. 但这失败了。怎么做？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-29T08:52:03.273

你在正确的轨道上！`Mat:col`是要使用的匹配工具:)

但请注意，简单地将一个列分配给另一个列不会像您预期的那样工作，因为`Mat:col`只是为您指定的矩阵列创建一个新的矩阵标题，并且没有数据的真实副本。

**示例代码：**

```
B.col( 0 ) = A.col( 0 ); // won't work as expected

A.col( 0 ).copyTo( B.col(0) ); // that's fine 
```

# math - 如何从 OpenGL 模型视图矩阵中获取视图方向？

> ID：15697273
> 
> 赞同：3
> 
> 时间：2013-03-29T04:18:03.943
> 
> 标签：math, opengl, rotation, volume-rendering

我正在编写一个体积渲染程序，它不断调整一些平面几何形状，使其始终面向相机。每当相机旋转时，平面几何体就会旋转，以使其看起来好像不动 - 相对于场景中的其他一切。（我使用相机的观察方向作为这些平面几何图形的法线向量。）

目前我正在手动存储一个自定义旋转向量（'rotations'）并在渲染函数中应用它的影响如下：

```
gl2.glRotated(rotations.y, 1.0, 0.0, 0.0);
gl2.glRotated(rotations.x, 0.0, 1.0, 0.0); 
```

然后稍后我通过使用旋转值围绕 x 和 y 轴旋转初始视图方向 (0,0,-1) 来获得视图方向。这是通过以下方式完成的。最终的查看方向存储在“视图”中：

```
 public Vec3f getViewingAngle(){
        //first rotate the viewing POINT
        //then find the vector from there to the center
        Vec3f view=new Vec3f(0,0,-1);
        float newZ=0;
        float ratio=(float) (Math.PI/180);
        float vA=(float) (-1f*rotations.y*(ratio));
        float hA=(float) (-1f*rotations.x)*ratio;

        //rotate about the x axis first
        float newY=(float) (view.y*Math.cos(vA)-view.z*Math.sin(vA));
        newZ=(float) (view.y*Math.sin(vA)+view.z*Math.cos(vA));
        view=new Vec3f(view.x,newY,newZ);

        //rotate about Y axis
        float newX=(float) (view.z*Math.sin(hA)+view.x*Math.cos(hA));
        newZ=(float) (view.z*Math.cos(hA)-view.x*Math.sin(hA));
        view=new Vec3f(newX,view.y,newZ);
        view=new Vec3f(view.x*-1f,view.y*-1f,view.z*-1f);

        //return the finalized normal viewing direction
        view=Vec3f.normalized(view);
        return view;
} 
```

现在我将这个程序移动到一个更大的项目中，其中相机旋转由第 3 方图形库处理。我没有旋转矢量。有什么方法可以从以下位置获取视图方向向量：

```
GLfloat matrix[16]; 
glGetFloatv (GL_MODELVIEW_MATRIX, matrix); 
```

我正在查看这个以供参考[http://3dengine.org/Modelview_matrix](http://3dengine.org/Modelview_matrix)但我仍然不知道如何提出视图方向。有人可以向我解释它是否可能以及它是如何工作的？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2014-11-03T23:06:28.270

你会想看看这张照片@http [://db-in.com/images/local_vectors.jpg](http://db-in.com/images/local_vectors.jpg) ![http://db-in.com/images/local_vectors.jpg](../Images/09cef07d8aa5b3b82d8a9915c5058e43.png)

飞行方向 (DOF) 位于第 3 行。

```
GLfloat matrix[16]; 
glGetFloatv( GL_MODELVIEW_MATRIX, matrix );

float DOF[3];
DOF[0] = matrix[  2 ]; // x
DOF[1] = matrix[  6 ]; // y
DOF[2] = matrix[ 10 ]; // z 
```

参考：

*   [http://blog.db-in.com/cameras-on-opengl-es-2-x/](http://blog.db-in.com/cameras-on-opengl-es-2-x/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T10:55:02.303

与其尝试遵循模型视图矩阵来调整体积光栅化器的片段冒名顶替者，不如根据需要调整模型视图矩阵。OpenGL 不是一个场景图，它是一个绘图系统，你可以并且应该改变它们，但它们最适合你。

当然，如果您必须将体积光栅化嵌入到更大的场景中，则可能需要从模型视图矩阵中提取某些信息。左上角的 3×3 子矩阵包含模型和视图的复合旋转。第 3 列包含视图旋转的 Z 向量。

# oracle - Oracle SQL(Plus) ORDER BY - 标识符无效（嵌套子查询）

> ID：15697274
> 
> 赞同：2
> 
> 时间：2013-03-29T04:18:05.090
> 
> 标签：oracle, sql-order-by, subquery

[首先 - 已经在这里](https://stackoverflow.com/questions/7732019/invalid-identifier-error-on-field-created-with-select-statement)看过一个类似的问题，但它与我的问题并不完全相关。

其次，这是一个家庭作业，但问题与 SQL 语法有关——我已经编写了查询，结果如预期的那样，只是无序的。

第三，我相信我知道为什么会发生错误 - 子查询（y）（ies）正在影响外部查询的顺序（可能），因此无法根据查询嵌套的方式创建顺序.

这是查询：

```
SELECT DISTINCT E.ssn, E.lname
FROM employee E, works_on W
WHERE E.ssn = W.essn AND
W.pno NOT IN
    (SELECT P.pnumber
    FROM project P
    WHERE P.plocation = 'Houston')
    MINUS
    (SELECT E.ssn, E.lname
    FROM employee E, works_on W, project P
    WHERE E.ssn = W.essn AND
    W.pno = P.pnumber AND
    P.plocation = 'Houston')
ORDER BY E.lname; 
```

* * *

```
SSN       LNAME                                                                 
--------- ---------------                                                       
123456789 Smith                                                                 
453453453 English                                                               
987987987 Jabbar                                                                
999887777 Zelaya 
```

现在，如果我`ORDER BY E.lname`从查询末尾删除，它运行良好。否则，我会收到“无效标识符”错误。我认为这是因为`E.lname`在查询中没有任何意义。

所以我的问题是......我怎样才能以这样的方式“包装”查询（如此处所引用[）](https://stackoverflow.com/questions/7732019/invalid-identifier-error-on-field-created-with-select-statement)，我可以对结果进行排序`E.lname`？

我已经尝试过 9,000 多种方式来包装它，但我还没有找到可行的解决方案。我也是 SQL 的新手，所以我怀疑我是否可以更改查询的结构，以使用比我目前拥有的任何数量少的子查询来给我相同的结果。

感谢任何花时间帮助我的人，非常感谢！如果需要提供建表代码，请告诉我！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-29T04:37:17.893

我知道你尝试了 9000 种方法，但是怎么样

```
SELECT ssn,lname from
(
SELECT DISTINCT E.ssn, E.lname
FROM employee E, works_on W
WHERE E.ssn = W.essn AND
W.pno NOT IN
    (SELECT P.pnumber
    FROM project P
    WHERE P.plocation = 'Houston')
    MINUS
    (SELECT E.ssn, E.lname
    FROM employee E, works_on W, project P
    WHERE E.ssn = W.essn AND
    W.pno = P.pnumber AND
    P.plocation = 'Houston')
)
ORDER BY lname; 
```

或使用序数符号，

```
SELECT DISTINCT E.ssn, E.lname
FROM employee E, works_on W
WHERE E.ssn = W.essn AND
W.pno NOT IN
    (SELECT P.pnumber
    FROM project P
    WHERE P.plocation = 'Houston')
    MINUS
    SELECT E.ssn, E.lname
    FROM employee E, works_on W, project P
    WHERE E.ssn = W.essn AND
    W.pno = P.pnumber AND
    P.plocation = 'Houston'

ORDER BY 2; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T04:37:38.500

您是否要删除在休斯顿从事项目工作的任何员工？那么这应该使用`LEFT JOIN`：

```
SELECT DISTINCT E.ssn, E.lname
FROM employee E
   INNER JOIN works_on W 
       ON E.ssn = W.essn AND
   LEFT JOIN project P 
       ON w.pno = p.pnumber AND P.plocation = 'Houston'
WHERE p.pnumber IS NULL
ORDER BY E.lname 
```

# c# - webkit-sharp 滚动到 HTML 锚标记

> ID：15697281
> 
> 赞同：2
> 
> 时间：2013-03-29T04:18:29.603
> 
> 标签：c#, mono, webkit, anchor, webkit-sharp

我有一个 webkit-sharp WebView，我用它来通过 LoadString 方法显示 HTML。

webview 放置在 ScrolledWindow 中， ScrolledWindow 放置在 Gtk Window 中。

我希望能够告诉 WebView 滚动到 HTML 的特定部分。通常，人们会使用锚来执行此操作。

我已经定义了一个锚点和一些 JavaScript 来跳转到该锚点，我通过 ExecuteScript 方法调用 JavaScript。这根本没有任何作用。

我还尝试向调用 JavaScript 的 HTML 添加一个按钮。这也无济于事。

我可以做些什么来完成这项工作，以便我可以滚动到页面中的已知位置？

更新：我可以通过将 HTML 保存到文件然后使用告诉它滚动的 URL 从那里加载来完成这项工作。但是我想避免这样做，因为在显示之前将页面写入磁盘会影响性能。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-31T15:43:33.913

你是如何添加到 ScrolledWindow 的？我不是 GTK 专家，但我发现如果你调用“add”方法它会起作用，如果你调用 add_with_viewport 就不起作用

此外，您可能不需要执行 javascript。看起来您可以控制 html 页面，并且可以轻松访问 dom 元素并在元素上调用 click 方法。以下示例 python 代码查找 id 为“one”的锚点并滚动到所需位置而不调用 javascript。

```
from gi.repository import WebKit 
from gi.repository import Gtk 
from gi.repository import GLib, GObject

class WebkitApp:
    def exit(self, arg, a1):
        Gtk.main_quit()

    def onLoad(self, view, frame):
        doc = view .get_dom_document()
        a = doc.get_element_by_id("one")
        a.click()

    def __init__(self):
        win = Gtk.Window()
        self.view = WebKit.WebView()

        # Signal Connections
        self.view.connect("onload-event", self.onLoad)
        file = open("/tmp/epl-v10.html")
        html = file.read()
        self.view.load_string(html, "text/html", "UTF-8", "file:///tmp")
        sw = Gtk.ScrolledWindow() 
        # sw.add_with_viewport(self.view)
        sw.add(self.view);
        win.add(sw)
        win.maximize()
        win.connect("delete-event", self.exit)
        win.show_all()

app = WebkitApp()

Gtk.main() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-23T11:27:41.037

跳转到该锚点的 JavaScript 在页面仍在加载时不起作用，通过等待页面加载完成（有一个事件）然后运行脚本我使它工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-10-14T14:59:08.770

给定一个元素：

```
<a id='myElement'>I want to scroll to this line</a> 
```

这可以用这个 JavaScript 滚动到：

```
document.getElementById('myElement').scrollIntoView(); 
```

可以使用 ExecuteScript 方法在 WebView 中执行，例如：

```
_webView.ExecuteScript("document.getElementById('myElement').scrollIntoView();"); 
```

# excel - 调用退出后应用程序未退出

> ID：15697282
> 
> 赞同：16
> 
> 时间：2013-03-29T04:18:31.337
> 
> 标签：excel, vb.net, exit, xls

我有一个小问题，我似乎无法弄清楚。我正在将 DataGridView（它的内容）保存到 xls 文件中。我这样做没有问题，除了在我的任务管理器中它仍然显示它正在运行。我打过电话：

```
 xlApp.Application.Quit() 
```

这被声明为：

```
 Dim xlApp As New excel.Application 
```

这似乎不起作用，但这与我让用户选择将其导出到 Word 文档时退出的方式相同。我不确定我要去哪里错了......

这是我的完整代码

```
Imports Word = Microsoft.Office.Interop.Word
 Imports Excel = Microsoft.Office.Interop.Excel

 Public Class Form1

Private Sub Form1_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load
    For x As Integer = 1 To 3500
        DataGridView1.Rows.Add(New Object() {"r" & x.ToString & "c1", "r" & x.ToString & "c2", "r" & x.ToString & "c3", "r" & x.ToString & "c4", "r" & x.ToString & "c5"})
    Next
End Sub

Private Sub Button2_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button2.Click
    exportToWord (DataGridView1)
End Sub

Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click
    Dim xlApp As New Excel.Application
    Dim xlWorkBook As Excel.Workbook
    Dim xlWorkSheet As Excel.Worksheet
    'Dim misValue As Object = System.Reflection.Missing.Value

    xlWorkBook = xlApp.Workbooks.Add
    xlWorkSheet = DirectCast(xlWorkBook.Sheets("sheet1"), Excel.Worksheet)

    xlApp.Visible = True

    Dim headers = (From ch In DataGridView1.Columns _
                  Let header = DirectCast(DirectCast(ch, DataGridViewColumn).HeaderCell, DataGridViewColumnHeaderCell) _
                  Select header.Value).ToArray()
    Dim headerText() As String = Array.ConvertAll(headers, Function(v) v.ToString)

    Dim items() = (From r In DataGridView1.Rows _
          Let row = DirectCast(r, DataGridViewRow) _
          Where Not row.IsNewRow _
          Select (From cell In row.Cells _
              Let c = DirectCast(cell, DataGridViewCell) _
              Select c.Value).ToArray()).ToArray()

    Dim table As String = String.Join(vbTab, headerText) & Environment.NewLine
    For Each a In items
        Dim t() As String = Array.ConvertAll(a, Function(v) v.ToString)
        table &= String.Join(vbTab, t) & Environment.NewLine
    Next
    table = table.TrimEnd(CChar(Environment.NewLine))
    Clipboard.SetText (table)

    Dim alphabet() As Char = "abcdefghijklmnopqrstuvwxyz".ToUpper.ToCharArray

    Dim range As excel.Range = xlWorkSheet.Range("B2:" & alphabet(headerText.Length) & (items.Length + 2).ToString)

    range.Select()
    xlWorkSheet.Paste()

    range.Borders(Excel.XlBordersIndex.xlDiagonalDown).LineStyle = Excel.XlLineStyle.xlLineStyleNone
    range.Borders(Excel.XlBordersIndex.xlDiagonalUp).LineStyle = Excel.XlLineStyle.xlLineStyleNone
    With range.Borders(Excel.XlBordersIndex.xlEdgeLeft)
        .LineStyle = Excel.XlLineStyle.xlContinuous
        .ColorIndex = 1 'black
        .TintAndShade = 0
        .Weight = Excel.XlBorderWeight.xlMedium
    End With
    With range.Borders(Excel.XlBordersIndex.xlEdgeTop)
        .LineStyle = Excel.XlLineStyle.xlContinuous
        .ColorIndex = 1 'black
        .TintAndShade = 0
        .Weight = Excel.XlBorderWeight.xlMedium
    End With
    With range.Borders(Excel.XlBordersIndex.xlEdgeBottom)
        .LineStyle = Excel.XlLineStyle.xlContinuous
        .ColorIndex = 1 'black
        .TintAndShade = 0
        .Weight = Excel.XlBorderWeight.xlMedium
    End With
    With range.Borders(Excel.XlBordersIndex.xlEdgeRight)
        .LineStyle = Excel.XlLineStyle.xlContinuous
        .ColorIndex = 1 'black
        .TintAndShade = 0
        .Weight = Excel.XlBorderWeight.xlMedium
    End With
    With range.Borders(Excel.XlBordersIndex.xlInsideVertical)
        .LineStyle = Excel.XlLineStyle.xlContinuous
        .ColorIndex = 1 'black
        .TintAndShade = 0
        .Weight = Excel.XlBorderWeight.xlThin
    End With
    With range.Borders(Excel.XlBordersIndex.xlInsideHorizontal)
        .LineStyle = Excel.XlLineStyle.xlContinuous
        .ColorIndex = 1 'black
        .TintAndShade = 0
        .Weight = Excel.XlBorderWeight.xlThin
    End With

    'xlApp.Visible = True

    xlWorkBook.SaveAs("C:\Users\CoDeXeR\Desktop\Word1.xls", True)
    xlWorkBook.Close()
    xlApp.Application.Quit()

    ReleaseObject(xlWorkSheet) '<~~~ Added as per comment from deleted post
    ReleaseObject (xlWorkBook)
    ReleaseObject (xlApp)

End Sub

Public Sub exportToWord(ByVal dgv As DataGridView)
    ' Create Word Application
    Dim oWord As Word.Application = DirectCast(CreateObject("Word.Application"), Word.Application)

    ' Create new word document
    Dim oDoc As Word.Document = oWord.Documents.Add()

    Dim headers = (From ch In dgv.Columns _
                  Let header = DirectCast(DirectCast(ch, DataGridViewColumn).HeaderCell, DataGridViewColumnHeaderCell) _
                  Select header.Value).ToArray()
    Dim headerText() As String = Array.ConvertAll(headers, Function(v) v.ToString)

    Dim items() = (From r In dgv.Rows _
          Let row = DirectCast(r, DataGridViewRow) _
          Where Not row.IsNewRow _
          Select (From cell In row.Cells _
              Let c = DirectCast(cell, DataGridViewCell) _
              Select c.Value).ToArray()).ToArray()

    Dim table As String = String.Join(vbTab, headerText) & Environment.NewLine
    For Each a In items
        Dim t() As String = Array.ConvertAll(a, Function(v) v.ToString)
        table &= String.Join(vbTab, t) & Environment.NewLine
    Next
    table = table.TrimEnd(CChar(Environment.NewLine))
    Clipboard.SetText (table)

    Dim oTable As Word.Table = oDoc.Tables.Add(oDoc.Bookmarks.Item("\endofdoc").Range, items.Count + 1, headers.Count)

    oTable.Range.Paste()

    'make the first row bold, fs 14 + change textcolor
    oTable.Rows.Item(1).range.Font.Bold = &H98967E
    oTable.Rows.Item(1).range.Font.Size = 14
    oTable.Rows.Item(1).range.Font.Color = Word.WdColor.wdColorWhite

    'change backcolor of first row
    oTable.Rows.Item(1).range.Shading.Texture = Word.WdTextureIndex.wdTextureNone
    oTable.Rows.Item(1).range.Shading.ForegroundPatternColor = Word.WdColor.wdColorAutomatic
    oTable.Rows.Item(1).range.Shading.BackgroundPatternColor = Word.WdColor.wdColorLightBlue

    ''set table borders
    'With oTable.Range.Tables(1)
    '    With .Borders(Word.WdBorderType.wdBorderLeft)
    '        .LineStyle = Word.WdLineStyle.wdLineStyleSingle
    '        .LineWidth = Word.WdLineWidth.wdLineWidth100pt
    '        .Color = Word.WdColor.wdColorAutomatic
    '    End With
    '    With .Borders(Word.WdBorderType.wdBorderRight)
    '        .LineStyle = Word.WdLineStyle.wdLineStyleSingle
    '        .LineWidth = Word.WdLineWidth.wdLineWidth100pt
    '        .Color = Word.WdColor.wdColorAutomatic
    '    End With
    '    With .Borders(Word.WdBorderType.wdBorderTop)
    '        .LineStyle = Word.WdLineStyle.wdLineStyleSingle
    '        .LineWidth = Word.WdLineWidth.wdLineWidth100pt
    '        .Color = Word.WdColor.wdColorAutomatic
    '    End With
    '    With .Borders(Word.WdBorderType.wdBorderBottom)
    '        .LineStyle = Word.WdLineStyle.wdLineStyleSingle
    '        .LineWidth = Word.WdLineWidth.wdLineWidth100pt
    '        .Color = Word.WdColor.wdColorAutomatic
    '    End With
    '    With .Borders(Word.WdBorderType.wdBorderHorizontal)
    '        .LineStyle = Word.WdLineStyle.wdLineStyleSingle
    '        .LineWidth = Word.WdLineWidth.wdLineWidth050pt
    '        .Color = Word.WdColor.wdColorAutomatic
    '    End With
    '    With .Borders(Word.WdBorderType.wdBorderVertical)
    '        .LineStyle = Word.WdLineStyle.wdLineStyleSingle
    '        .LineWidth = Word.WdLineWidth.wdLineWidth050pt
    '        .Color = Word.WdColor.wdColorAutomatic
    '    End With
    '    .Borders(Word.WdBorderType.wdBorderDiagonalDown).LineStyle = Word.WdLineStyle.wdLineStyleNone
    '    .Borders(Word.WdBorderType.wdBorderDiagonalUp).LineStyle = Word.WdLineStyle.wdLineStyleNone
    '    .Borders.Shadow = False
    'End With
    ' Save this word document
    oDoc.SaveAs("C:\Users\CoDeXeR\Desktop\Word1.doc", True)
    oDoc.Close()
    oWord.Application.Quit()
    'oWord.Visible = True

End Sub

Public Sub exportToExcel(ByVal dgv As DataGridView)

End Sub

Private Sub ReleaseObject(ByVal obj As Object)
    Try
        System.Runtime.InteropServices.Marshal.ReleaseComObject (obj)
        obj = Nothing
    Catch ex As Exception
        obj = Nothing
    Finally
        GC.Collect()
    End Try
End Sub

 End Class 
```

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2013-03-29T06:14:45.543

只是调用`.Quit()`不会从内存中删除应用程序。完成编码后关闭对象非常重要。这确保了所有对象都被正确释放，并且没有任何东西留在内存中。

看这个例子

```
Imports Excel = Microsoft.Office.Interop.Excel

Public Class Form1
    '~~> Define your Excel Objects
    Dim xlApp As New Excel.Application
    Dim xlWorkBook As Excel.Workbook

    Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click
        '~~> Add a New Workbook
        xlWorkBook = xlApp.Workbooks.Add

        '~~> Display Excel
        xlApp.Visible = True

        '~~> Do some stuff Here

        '~~> Save the file
        xlWorkBook.SaveAs(Filename:="C:\Tutorial\SampleNew.xlsx", FileFormat:=51)

        '~~> Close the File
        xlWorkBook.Close()

        '~~> Quit the Excel Application
        xlApp.Quit()

        '~~> Clean Up
        releaseObject (xlApp)
        releaseObject (xlWorkBook)
    End Sub

    '~~> Release the objects
    Private Sub releaseObject(ByVal obj As Object)
        Try
            System.Runtime.InteropServices.Marshal.ReleaseComObject (obj)
            obj = Nothing
        Catch ex As Exception
            obj = Nothing
        Finally
            GC.Collect()
        End Try
    End Sub

    Private Sub Button3_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button3.Click
        Me.Close()
    End Sub
End Class 
```

另外值得一提的是[2 DOT Rule](http://www.siddharthrout.com/2012/08/06/vb-net-two-dot-rule-when-working-with-office-applications-2/)。

如果您喜欢从 VB.Net 自动化 Excel，那么您可能还想看看这个[链接](http://www.siddharthrout.com/vb-dot-net-and-excel/)。

**跟进**

问题是我上面提到的 2 DOT 规则。当您使用 2 DOT 规则（例如：）时`Excel.XlBordersIndex.xlDiagonalDown`，您必须使用`GC.Collect()`. 所以你需要做的就是添加这部分

```
 Finally
        GC.Collect() 
```

在里面`Private Sub ReleaseObject(ByVal obj As Object)`

```
Private Sub ReleaseObject(ByVal obj As Object)
    Try
        Dim intRel As Integer = 0
        Do
            intRel = System.Runtime.InteropServices.Marshal.ReleaseComObject(obj)
        Loop While intRel > 0
        MsgBox("Final Released obj # " & intRel)
    Catch ex As Exception
        MsgBox("Error releasing object" & ex.ToString)
        obj = Nothing
    Finally
        GC.Collect()
    End Try
End Sub 
```

**最终代码**

```
Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click
    Dim xlApp As New excel.Application
    Dim xlWorkBook As excel.Workbook
    Dim xlWorkSheet As excel.Worksheet
    Dim xlRange As excel.Range
    'Dim misValue As Object = System.Reflection.Missing.Value

    xlWorkBook = xlApp.Workbooks.Add
    xlWorkSheet = DirectCast(xlWorkBook.Sheets("sheet1"), excel.Worksheet)

    xlApp.Visible = True

    Dim headers = (From ch In DataGridView1.Columns _
                  Let header = DirectCast(DirectCast(ch, DataGridViewColumn).HeaderCell, DataGridViewColumnHeaderCell) _
                  Select header.Value).ToArray()
    Dim headerText() As String = Array.ConvertAll(headers, Function(v) v.ToString)

    Dim items() = (From r In DataGridView1.Rows _
          Let row = DirectCast(r, DataGridViewRow) _
          Where Not row.IsNewRow _
          Select (From cell In row.Cells _
              Let c = DirectCast(cell, DataGridViewCell) _
              Select c.Value).ToArray()).ToArray()

    Dim table As String = String.Join(vbTab, headerText) & Environment.NewLine
    For Each a In items
        Dim t() As String = Array.ConvertAll(a, Function(v) v.ToString)
        table &= String.Join(vbTab, t) & Environment.NewLine
    Next
    table = table.TrimEnd(CChar(Environment.NewLine))
    Clipboard.SetText(table)

    Dim alphabet() As Char = "abcdefghijklmnopqrstuvwxyz".ToUpper.ToCharArray

    xlRange = xlWorkSheet.Range("B2:" & alphabet(headerText.Length) & (items.Length + 2).ToString)

    xlRange.Select()
    xlWorkSheet.Paste()

    xlRange.Borders(excel.XlBordersIndex.xlDiagonalDown).LineStyle = excel.XlLineStyle.xlLineStyleNone
    xlRange.Borders(excel.XlBordersIndex.xlDiagonalUp).LineStyle = excel.XlLineStyle.xlLineStyleNone

    With xlRange.Borders(excel.XlBordersIndex.xlEdgeLeft)
        .LineStyle = excel.XlLineStyle.xlContinuous
        .ColorIndex = 1 'black
        .TintAndShade = 0
        .Weight = excel.XlBorderWeight.xlMedium
    End With
    With xlRange.Borders(excel.XlBordersIndex.xlEdgeTop)
        .LineStyle = excel.XlLineStyle.xlContinuous
        .ColorIndex = 1 'black
        .TintAndShade = 0
        .Weight = excel.XlBorderWeight.xlMedium
    End With
    With xlRange.Borders(excel.XlBordersIndex.xlEdgeBottom)
        .LineStyle = excel.XlLineStyle.xlContinuous
        .ColorIndex = 1 'black
        .TintAndShade = 0
        .Weight = excel.XlBorderWeight.xlMedium
    End With
    With xlRange.Borders(excel.XlBordersIndex.xlEdgeRight)
        .LineStyle = excel.XlLineStyle.xlContinuous
        .ColorIndex = 1 'black
        .TintAndShade = 0
        .Weight = excel.XlBorderWeight.xlMedium
    End With
    With xlRange.Borders(excel.XlBordersIndex.xlInsideVertical)
        .LineStyle = excel.XlLineStyle.xlContinuous
        .ColorIndex = 1 'black
        .TintAndShade = 0
        .Weight = excel.XlBorderWeight.xlThin
    End With
    With xlRange.Borders(excel.XlBordersIndex.xlInsideHorizontal)
        .LineStyle = excel.XlLineStyle.xlContinuous
        .ColorIndex = 1 'black
        .TintAndShade = 0
        .Weight = excel.XlBorderWeight.xlThin
    End With

    xlWorkBook.SaveAs(Filename:="C:\Users\Siddharth Rout\Desktop\Word1.xls", FileFormat:=56)
    xlWorkBook.Close()
    xlApp.Quit()

    ReleaseObject(xlRange)
    ReleaseObject(xlWorkSheet)
    ReleaseObject(xlWorkBook)
    ReleaseObject(xlApp)
End Sub

Private Sub ReleaseObject(ByVal obj As Object)
    Try
        Dim intRel As Integer = 0
        Do
            intRel = System.Runtime.InteropServices.Marshal.ReleaseComObject(obj)
        Loop While intRel > 0
        MsgBox("Final Released obj # " & intRel)
    Catch ex As Exception
        MsgBox("Error releasing object" & ex.ToString)
        obj = Nothing
    Finally
        GC.Collect()
    End Try
End Sub 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-07-19T17:52:48.073

在我遵循上述@SiddharthRout 的评论之前，上述建议均不适合我。“[到今天为止，使用 COM 对象的正确方法是什么？](https://stackoverflow.com/questions/37904483/as-of-today-what-is-the-right-way-to-work-with-com-objects?noredirect=1#comment63779034_37904483) ”

它指出 com 对象引用在调试器下保持活动状态。一种解决方法是从调用 com 过程的过程中调用 GC。它对我有用。

在 TRY Catch 块中从 finally 运行 GC。

复制自：`post by "Govert" on what is the right way to work with COM objects?`

```
using System;
using System.Runtime.InteropServices;
using Microsoft.Office.Interop.Excel;

namespace TestCsCom
{
        Class Program
    {
        static void Main(string[] args)
        {
            // NOTE: Don't call Excel objects in here... 
            //       Debugger would keep alive until end, preventing GC cleanup

            // Call a separate function that talks to Excel
            DoTheWork();

            // Now let the GC clean up (repeat, until no more)
            do
            {
                GC.Collect();
                GC.WaitForPendingFinalizers();
            }
            while (Marshal.AreComObjectsAvailableForCleanup());
        }

        static void DoTheWork()
        {
            Application app = new Application();
            Workbook book = app.Workbooks.Add();
            Worksheet worksheet = book.Worksheets["Sheet1"];
            app.Visible = true;
            for (int i = 1; i <= 10; i++) {
                worksheet.Cells.Range["A" + i].Value = "Hello";
            }
            book.Save();
            book.Close();
            app.Quit();

            // NOTE: No calls the Marshal.ReleaseComObject() are ever needed
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-03-14T17:56:49.983

我已经多次使用在脚本中关闭 EXCEL 文档的功能以及隐藏使其可见，如果它是唯一打开的工作簿则现在关闭，否则关闭此工作表。这是我的

```
Sub ExitWorkBook()
Dim wb As Workbook
Dim c As Integer
    c = 0       
    For Each wb In Application.Workbooks
        c = c + 1
    Next wb
    If c = 1 Then
        Application.Quit   '--Quit this worksheet but keep excel open.
    Else
        Workbooks("(excel workbook name).xls").Close    '-- Close Excel
    End If
'
End Sub 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2021-04-28T08:30:17.280

我遇到了类似的情况，谷歌把我带到了这里。我尝试了上述答案，但都没有奏效。但这足以引导我走上正确的道路。

1.  其他答案中提到的 ReleaseObject 函数不起作用。Excel 一直在后台运行。
2.  `GC.Collect`+`GC.WaitForPendingFinalizers()`组合是要走的路，但必须在定义 excel com 对象的函数之外调用它们。

例如以下不起作用：

```
Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click
    Dim xlApp As New Excel.Application
    Dim xlWorkBook As Excel.Workbook
    Dim xlWorkSheet As Excel.Worksheet
    xlWorkBook = xlApp.Workbooks.Add
    xlWorkSheet = DirectCast(xlWorkBook.Sheets("sheet1"), Excel.Worksheet)

    xlWorkBook.Close()
    xlApp.Quit()

    GC.Collect()
    GC.WaitForPendingFinalizers()
End Sub 
```

而以下工作：

```
Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click
    Button1Proc()

    GC.Collect()
    GC.WaitForPendingFinalizers()
End Sub

Private Sub Button1Proc() Handles Button1.Click
    Dim xlApp As New Excel.Application
    Dim xlWorkBook As Excel.Workbook
    Dim xlWorkSheet As Excel.Worksheet
    xlWorkBook = xlApp.Workbooks.Add
    xlWorkSheet = DirectCast(xlWorkBook.Sheets("sheet1"), Excel.Worksheet)

    xlWorkBook.Close()
    xlApp.Quit()
End Sub 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-01-15T15:29:01.280

`For Each w In Application.Workbooks w.Save Next w Application.Quit`

[http://msdn.microsoft.com/en-us/library/office/ff839269.aspx](http://msdn.microsoft.com/en-us/library/office/ff839269.aspx)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-11-21T14:59:02.067

我有同样的问题。但是，问题仅在调试时仍然存在。您需要做的就是

```
xlWorkBook.Close
xlApp.Quit 
```

然后让代码运行。完成后您可能需要调用垃圾收集器`Button1_Click`，但我什至不需要。似乎是单步执行代码或不让它*完全*完成会使事情出错并让 Excel 保持打开状态。

请参阅[Excel 进程未在 VB.net 中关闭](https://stackoverflow.com/questions/14222501/excel-process-not-closing-in-vb-net)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-09-16T19:11:09.813

我使用以下方法解决了问题：

```
Set xlApp = Nothing 
```

您可以检查监控TaskManager。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2017-06-29T18:37:06.423

我发现每个对 Excel 对象的引用实例都必须显式释放：

```
 xlApp = New Excel.Application
        xlWorkBooks = xlApp.Workbooks
        xlWorkBook = xlWorkBooks.Open(Me.txtFilePath.Text)
        xlWorkSheets = xlWorkBook.Worksheets
        xlWorkSheet = CType(xlWorkSheets(1), Excel.Worksheet)

        xlWorkBook.Close()
        xlWorkBooks.Close()
        xlApp.Quit()

        releaseObject(xlWorkSheet)
        xlWorkSheet = Nothing
        releaseObject(xlWorkSheets)
        xlWorkSheets = Nothing
        releaseObject(xlWorkBook)
        xlWorkBook = Nothing
        releaseObject(xlWorkBooks)
        xlWorkBooks = Nothing
        releaseObject(xlApp)
        xlApp = Nothing

    Private Sub releaseObject(ByVal obj As Object)
        Try
            System.Runtime.InteropServices.Marshal.FinalReleaseComObject(obj)
            obj = Nothing
        Catch ex As Exception
            obj = Nothing
        Finally
            GC.Collect()
        End Try
    End Sub 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2019-06-11T13:04:36.873

我在工作后使用此函数，在 XlApp 调用的第一个中，将 now() 日期设置为 FirstDate

```
Private Sub End_Excel_App_After_Work(ByVal DateStart As Date, ByVal DateEnd As Date)
    Dim xlp() As Process = Process.GetProcessesByName("EXCEL")
    For Each Process As Process In xlp
        If Process.StartTime >= DateStart Then
            If Process.StartTime <= DateEnd Then

                Process.Kill()
                Exit For
            End If
        End If
    Next
    xlp = Process.GetProcessesByName("Microsoft EXCEL")
    For Each Process As Process In xlp
        If Process.StartTime >= DateStart Then
            If Process.StartTime <= DateEnd Then

                Process.Kill()
                Exit For
            End If
        End If
    Next
    xlp = Process.GetProcessesByName("EXCEL.EXE")
    For Each Process As Process In xlp
        If Process.StartTime >= DateStart Then
            If Process.StartTime <= DateEnd Then

                Process.Kill()
                Exit For
            End If
        End If
    Next
End Sub 
```

并在进程之后调用此函数。像这样的东西：

```
 Dim FromDT As Date = Now
    Dim xlApp As New Excel.Application
    xlApp = New Excel.Application()
          Dim xlWorkBook As Excel.Workbook
    Dim xlWorkSheet As Excel.Worksheet
     Microsoft.Office.Interop.Excel.Application()

    'End Using
    Try

        xlWorkBook = xlApp.Workbooks.Open("d:\"FIle NAME".xlsX")
        xlWorkSheet = xlWorkBook.Worksheets("WORKSHEET")
      ...CODE BE IN HERE
                   xlWorkBook.Close()
        xlApp.Quit()
        xlApp = Nothing
        ReleaseObject(xlApp)
        ReleaseObject(xlWorkBook)
        ReleaseObject(xlWorkSheet)

        End_Excel_App_After_Work(FromDT, Now)
    Catch ex As Exception
        xlApp.Application.Quit()
        End_Excel_App_After_Work(FromDT, Now)
    End Try 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2020-04-11T01:35:57.893

我对释放对象的代码有疑问。

```
Private Sub ReleaseObject(ByVal obj As Object)
    Try
        Dim intRel As Integer = 0
        Do
            intRel = System.Runtime.InteropServices.Marshal.ReleaseComObject(obj)
        Loop While intRel > 0
        MsgBox("Final Released obj # " & intRel)
    Catch ex As Exception
        MsgBox("Error releasing object" & ex.ToString)
        obj = Nothing
    Finally
        GC.Collect()
    End Try
End Sub 
```

在上面的 sub 中，对象是通过*ByVal*传递的，它传递了您尝试释放的对象的*副本。*有点无意义。您应该传递*ByRef*，它传递一个引用（或者对于那些熟悉 C++ 的人来说是一个指向内存中对象的指针），然后上面的例程*将*释放对象正在使用的内存。

保罗

* * *

## 回答 #11

> 赞同：-2
> 
> 时间：2016-08-26T09:04:08.363

请使用这个

```
Private Sub releaseObject(ByVal obj As Object)
    Try
        System.Runtime.InteropServices.Marshal.ReleaseComObject(obj)
        obj = Nothing
    Catch ex As Exception
        obj = Nothing
    Finally
        GC.Collect()

        Try
            'Dim MSExcelControl() As Process
            Dim iID As Integer
            Dim lastOpen As DateTime
            Dim obj1(10) As Process
            obj1 = Process.GetProcessesByName("EXCEL")
            lastOpen = obj1(0).StartTime
            For Each p As Process In obj1

                If lastOpen < p.StartTime Then
                    iID = p.Id
                    Exit For
                End If

            Next

            For Each p As Process In obj1

                If p.Id = iID Then
                    p.Kill()
                    Exit For
                End If

            Next

        Catch ex As Exception

        End Try

    End Try
End Sub 
```

# .net - Windows Store 是否有类似控制台的 API？

> ID：15697286
> 
> 赞同：2
> 
> 时间：2013-03-29T04:19:13.010
> 
> 标签：.net, api, console, windows-runtime, windows-store-apps

所以我有一个可以从控制台中受益匪浅的设计。通过控制台，我的意思是

1.  用户输入文本
2.  我接受输入
3.  我在下一行返回输出
4.  用户在之后的行上输入更多文本并重复

现在，我不是在寻找访问 Win32 控制台 API 的方法，而是在寻找控制台库或一些类似的用于以 XAML 或类似方式实现的 Windows 应用商店。

我记得很清楚看到一个项目做到了这一切，但我现在找不到了。那么，有没有像这样的图书馆或类似的图书馆，最好是开源的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T06:48:31.020

它存在并且是现代 UI 应用程序的控制台类。它是付费产品

[http://www.moderncomponents.com/products/ConsoleClass/index.php](http://www.moderncomponents.com/products/ConsoleClass/index.php)

它使用类似的语法来写出控制台数据，即

```
 Console.WriteLine("yourdata"); 
```

# regex - JMeter正则表达式提取数字

> ID：15697287
> 
> 赞同：0
> 
> 时间：2013-03-29T04:19:44.857
> 
> 标签：regex, jmeter

我想从响应数据中提取字母数字并尝试了一些正则表达式，但没有一个有效。

例如，响应数据 (json) 将包含以下内容：

```
"sessionId":"WC-123" 
```

我想提取 sessionId 的值，即`WC-123`并将其存储在变量中，以便可以在其他测试中使用。

sessionId 的格式不会改变。是`WC-(Number)`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T05:59:51.247

```
'"sessionId":"(WC-\d+)"' 
```

虽然我不知道 jmeter 那应该可以

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-28T18:12:53.210

**预期：**需要获取 Session Id 值

**给定格式：** `"sessionId":"WC-123"`

我们需要创建以下正则表达式格式来提取会话 Id 值

正则表达式格式

```
"sessionId":"(.+)" 
```

# php - 如何遍历PHP DOMDocument中标签下的所有Childs

> ID：15697288
> 
> 赞同：3
> 
> 时间：2013-03-29T04:19:52.200
> 
> 标签：php, domdocument

我有以下html

```
$html =  '<body><div style="font-color:#000">Hello</div>
<span style="what">My name is rasid</span><div>new to you 
</div><div style="rashid">New here</div></body>';

$dom = new DOMDocument();
$dom->loadHTML($html);

$elements = $dom->getElementsByTagName('body'); 
```

我努力了

```
foreach($elements as $child)
 {
        echo $child->nodeName;
 } 
```

输出是

```
body 
```

但我需要遍历正文而不是正文下的所有标签。我怎样才能做到这一点。

我也在上面的例子中尝试过替换

```
$elements = $dom->getElementsByTagName('body'); 
```

和

```
$elements = $dom->getElementsByTagName('body')->item(0); 
```

但它给出了错误。有什么解决办法？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T04:53:43.327

尝试这个

```
 $elements = $dom->getElementsByTagName('*');
    $i = 1; //counter to output from 3rd one, since foreach loop below will output" html  body div span div div"

    foreach($elements as $child)
    {

    if ($i > 2) echo $child->nodeName."<br>";   //output "div span div div"
    ++$i;
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T13:24:38.623

如果你只想要`body`元素的子节点，你可以使用：

```
$body = $dom->getElementsByTagName( 'body' )->item( 0 );
foreach( $body->childNodes as $node )
{
    echo $node->nodeName . PHP_EOL;
} 
```

如果你想要元素的所有降节点`body`，你可以使用[DOMXPath](http://php.net/manual/en/class.domxpath.php)：

```
$xpath = new DOMXPath( $dom );
$bodyDescendants = $xpath->query( '//body//node()' );
foreach( $bodyDescendants as $node )
{
    echo $node->nodeName . PHP_EOL;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-29T05:01:11.423

使用此代码

```
 $elements = $dom->getElementsByTagName('*');

        foreach($elements as $child)
        {

              echo $child->nodeName;

        } 
```

# google-apps-script - Google 脚本 mailapp.sendEmail 仅适用于我的电子邮件地址

> ID：15697291
> 
> 赞同：4
> 
> 时间：2013-03-29T04:20:08.953
> 
> 标签：google-apps-script, google-sheets

好吧，这很奇怪。我在电子表格中编写了脚本以从当前活动的工作表中获取信息，使用模板文件创建报告并将其作为附件发送。

当我使用我的 Google Apps 域帐户电子邮件地址作为收件人时，这一切都完美无缺。当我发送到我自己以外的任何其他电子邮件地址时，它不起作用。昨天还在工作。脚本运行时没有产生错误

我唯一做的就是将电子表格的所有者更改为我们域中的另一个用户。在我测试脚本时，它与其他用户共享。我尝试使用我们域中的其他电子邮件地址，并使用 sendemail 功能创建了一个新电子表格，所有这些都具有相同的行为。

```
// Email the specified report
function emailReport(file, recipients, emailSubject, emailMessage) {
 MailApp.sendEmail("someone@example.com", emailSubject, emailMessage, 
              {attachments: file, mimetype: 'application/pdf'});
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2019-02-20T14:02:55.960

我已经能够重现该问题并找到解决方法。

由于无法向没有 google 帐户的收件人发送电子邮件，因此我在 cc 字段中添加了此类电子邮件。

```
// Email the specified report as cc
function emailReport(file, recipients, emailSubject, emailMessage) {
 MailApp.sendEmail("my@gmail.com", emailSubject, emailMessage, 
              {attachments: file, mimetype: 'application/pdf', cc:"someone@example.com"});
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-05T01:52:33.937

不久前我注意到了这个问题，甚至在另一个问题中引用了它。从那以后我注意到没有人回复你所以...

似乎 Google 最近更改了 MailApp.sendEmail 函数（尽管在我发现的任何地方都没有记录），因此它仅在您使用属于电子表格所有者的电子邮件地址时才有效。

我的猜测是这是为了防止系统被用于不请自来的群发电子邮件。

另一个问题在[这里](https://stackoverflow.com/questions/17355823/mailapp-sendemail-not-working)

（对不起，不是这样的答案：（更多地确认您所看到的似乎是预期的）

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2018-11-16T15:34:08.597

对于遇到此问题的任何人，请使用 GmailApp 类而不是 MailApp 类。

它支持相同的功能，例如：`GmailApp.sendMail('recipient@gmail.com', 'Subject', 'Message')`.

[https://developers.google.com/apps-script/reference/gmail/gmail-app#sendEmail（字符串，字符串，字符串）](https://developers.google.com/apps-script/reference/gmail/gmail-app#sendEmail(String,String,String))

# php - PHP 如何将值从一个数组传递到另一个数组？

> ID：15697292
> 
> 赞同：0
> 
> 时间：2013-03-29T04:20:15.407
> 
> 标签：php, arrays, dynamically-generated

我正在尝试从 theOptions 数组中传递一些值并将它们放入一个名为 $theDefaults 的新数组中。

```
$theOptions = array(

    'item1' => array('title'=>'Title 1','attribute'=>'Attribute 1','thing'=>'Thing 1'),
    'item2' => array('title'=>'Title 2','attribute'=>'Attribute 2','thing'=>'Thing 2'),
    'item3' => array('title'=>'Title 3','attribute'=>'Attribute 3','thing'=>'Thing 3')

); 
```

因此，$theDefaults 数组应如下所示：

```
$theDefaults = array(

    'Title 1' => 'Attribute 1',
    'Title 2' => 'Attribute 2',
    'Title 3' => 'Attribute 3'

); 
```

但是，我无法弄清楚如何做到这一点。已经尝试过了，但它显然不是很有效。

> ```
> $theDefaults = array();
> 
> foreach($theOptions as $k=>$v) {
>     array_push($theDefaults, $v['title'], $v['attribute']); 
> } 
> ```

但是当我运行这个...

```
foreach($theDefaults as $k=>$v) {
    echo $k .' :'.$v;
} 
```

它返回这个。0：标题 11：属性 12：标题 23：属性 24：标题 35：属性 3

看起来很接近，但为什么数组中的数字是？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-29T04:22:26.007

它甚至比这更简单：

```
$theDefaults = array();
foreach($theOptions as $v) {
    $theDefaults[$v['title']] = $v['attribute']; 
} 
```

# html - 在JSP中连续提交表单后保留变量的值

> ID：15697296
> 
> 赞同：1
> 
> 时间：2013-03-29T04:21:04.517
> 
> 标签：html, forms, jsp

我写了以下两个jsp文件。第一个文件，即 submit.jsp 有表单，用户提交她的查询，她的城市和纬度和经度被记录下来，她被转发到另一个 jsp 页面，该页面也有一个表单，她可以再次提交她的查询，只要她愿意，我希望保留 city 、 latitude 和 longitude 的值，但它们正在重置。两个文件的代码如下：

提交.jsp

```
<%@ page contentType="text/html; charset=iso-8859-1" language="java" %>
<html>
<head>
 <script type="text/javascript">
  function getLocation(){
  if (navigator.geolocation){
      navigator.geolocation.getCurrentPosition(showPosition);
    }
  }
  function displayLocation(latitude,longitude){
    var request = new XMLHttpRequest();

    var method = 'GET';
    var url = 'http://maps.googleapis.com/maps/api/geocode/json?latlng='+latitude+','+longitude+'&sensor=true';
    var async = true;

    request.open(method, url, async);
    request.onreadystatechange = function(){
      if(request.readyState == 4 && request.status == 200){
        var data = JSON.parse(request.responseText);
        var address = data.results[0];
        //document.write(address.formatted_address);
        var city=document.getElementById("city");
        var n = address.formatted_address.split(",");
        city.value = n[n.length-3];
      }
    };
    request.send();
  };

function showPosition(position){
//var x = document.getElementById("demo");
var latitude=document.getElementById("latitude"),longitude=document.getElementById("longitude");
//x.innerHTML="+" + position.coords.latitude + "+" + position.coords.longitude;
latitude.value = position.coords.latitude;
longitude.value = position.coords.longitude;
displayLocation(latitude.value,longitude.value);
}

</script>

</head>
<body onload="getLocation()">
<form name="frm" method="post" action="process.jsp">
<input type="text" name="myQuery" placeholder="Type here">
<input name="latitude" id="latitude" type="hidden">
<input name="longitude" id="longitude" type="hidden">
<input name="city" id="city" type="hidden">
<input type="submit" name="submit" value="Submit">
</form>
</body>
</html> 
```

进程.jsp

```
<%@ page contentType="text/html; charset=iso-8859-1" language="java" %>
<%! String city; String latitude; String longitude; %>
<form name="frm" method="post" action="process.jsp">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="22%">&nbsp;</td>
<td width="78%">&nbsp;</td>
</tr>
<tr>
<td>&nbsp; </td>
<td><input type="text" name="myQuery" placeholder="Type here"></td>
</tr>
<tr>
<td>&nbsp;</td>
<input name="latitude" id="latitude" type="hidden" value="${latitude}" >
<input name="longitude" id="longitude" type="hidden" value="${longitude}" >
<input name="city" id="city" type="hidden" value="${city}"  >
<td><input type="submit" name="submit" value="Submit"></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</table>
</form>

<%
String query=request.getParameter("myQuery");
String city=request.getParameter("city");
String latitude=request.getParameter("latitude");
String longitude=request.getParameter("longitude");
%>
<html>
<body>
<p>Query phrase is : <%=query%></p>
<p>User's city : <%=city%></p>
</body>
</html> 
```

我是 JSP 的新手。所以任何人都可以帮我修复给定的代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T12:16:28.793

```
<%@ page contentType="text/html; charset=iso-8859-1" language="java" %>
<%! String city; String latitude; String longitude;String query; %>

<%
query=request.getParameter("myQuery");
city=request.getParameter("city");
latitude=request.getParameter("latitude");
longitude=request.getParameter("longitude");
%>
<html>
<body>
<form name="frm" method="post" action="process.jsp">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="22%">&nbsp;</td>
<td width="78%">&nbsp;</td>
</tr>
<tr>
<td>&nbsp; </td>
<td><input type="text" name="myQuery" placeholder="Type here"></td>
</tr>
<tr>
<td>&nbsp;</td>
<input name="latitude" id="latitude" type="hidden" value="<%=latitude%>" >
<input name="longitude" id="longitude" type="hidden" value="<%=longitude%>>" >
<input name="city" id="city" type="hidden" value="<%=city%>"  >
<td><input type="submit" name="submit" value="Submit"></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</table>
</form>
<p>Query phrase is : <%=query%></p>
<p>User's city : <%=city%></p>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T05:35:26.610

尝试获取文件开头的参数。

```
<%
String query=request.getParameter("myQuery");
String city=request.getParameter("city");
String latitude=request.getParameter("latitude");
String longitude=request.getParameter("longitude");
%> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T07:56:31.677

像这样 ...

```
<%@ page contentType="text/html; charset=iso-8859-1" language="java" %>
    <html>
    <head>
     <script type="text/javascript">
      function getLocation(){
      if (navigator.geolocation){
          navigator.geolocation.getCurrentPosition(showPosition);
        }
      }
      function displayLocation(latitude,longitude){
        var request = new XMLHttpRequest();

    var method = 'GET';
    var url = 'http://maps.googleapis.com/maps/api/geocode/json?latlng='+latitude+','+longitude+'&sensor=true';
    var async = true;

    request.open(method, url, async);
    request.onreadystatechange = function(){
      if(request.readyState == 4 && request.status == 200){
        var data = JSON.parse(request.responseText);
        var address = data.results[0];
        //document.write(address.formatted_address);
        var city=document.getElementById("city");
        var n = address.formatted_address.split(",");
        city.value = n[n.length-3];
      }
    };
    request.send();
  };

function showPosition(position){
//var x = document.getElementById("demo");
var latitude=document.getElementById("latitude"),longitude=document.getElementById("longitude");
//x.innerHTML="+" + position.coords.latitude + "+" + position.coords.longitude;
latitude.value = position.coords.latitude;
longitude.value = position.coords.longitude;
displayLocation(latitude.value,longitude.value);
}

</script>

</head>
<body onload="getLocation()">
<%! String city; String latitude; String longitude; %>
<%
String query=request.getParameter("myQuery");
String city=request.getParameter("city");
String latitude=request.getParameter("latitude");
String longitude=request.getParameter("longitude");
%>
<form name="frm" method="post" action="submit.jsp">
<input type="text" name="myQuery" placeholder="Type here">
<input name="latitude" id="latitude" type="hidden">
<input name="longitude" id="longitude" type="hidden">
<input name="city" id="city" type="hidden">
<input type="submit" name="submit" value="Submit">
</form>
<p>Query phrase is : <%=query%></p>
<p>User's city : <%=city%></p>
</body>
</html> 
```

# vb.net - 如何在 VB.NET 中将 IP 地址转换为 IP HostEntry？

> ID：15697299
> 
> 赞同：0
> 
> 时间：2013-03-29T04:21:56.397
> 
> 标签：vb.net, ip, ip-address

我正在构建一个小型应用程序，它会在您将 IP 地址输入到屏蔽文本框中后更改它。我真的很接近弄清楚，但我需要 h = myNewIP 部分的帮助，因为我无法从 IP 地址转换为 IP 主机条目：

```
Public Class MainForm
Dim h As System.Net.IPHostEntry = System.Net.Dns.GetHostEntry(System.Net.Dns.GetHostName)
Dim myNewIP As System.Net.IPAddress
Dim myIPEndPoint As System.Net.IPEndPoint
Dim strLocalIp As String

Private Sub
        myNewIP = System.Net.IPAddress.Parse(TextBox1.Text)
        myIPEndPoint = New System.Net.IPEndPoint(myNewIP, 0)
        h = myNewIP
        ipTextBox.Text = myNewIP.ToString
End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T04:30:27.643

```
IPEndPoint endpoint = new IPEndPoint(System.Net.IPAddress.Parse("your ip"), 1111); 
```

只是关于这条线的一条建议：

```
Dim h As System.Net.IPHostEntry = System.Net.Dns.GetHostEntry(System.Net.Dns.GetHostName)
Dim myNewIP As System.Net.IPAddress
Dim myIPEndPoint As System.Net.IPEndPoint
Dim strLocalIp As String 
```

如果它们在一种方法中使用，则仅在本地声明它们。

# c# - 使用实现层次结构的多个接口的类进行类型推断

> ID：15697302
> 
> 赞同：24
> 
> 时间：2013-03-29T04:22:18.447
> 
> 标签：c#, generics, inheritance, type-inference

例如，让我们使用计算器之类的东西，其中包含各种类型的元素、评估不同元素类型的函数以及存储元素和运行函数的上下文。接口是这样的：

```
public interface IElement {
}
public interface IChildElement : IElement {
    double Score { get; }
}
public interface IGrandchildElement : IChildElement {
    int Rank { get; }
}

public interface IFunction<Tout, in Tin> where Tin : IElement {
    Tout Evaluate(Tin x, Tin y);
}

public interface IContext<Tin> where Tin : IElement {
    Tout Evaluate<Tout>(string x, string y, IFunction<Tout, Tin> eval);
} 
```

请注意，函数可能返回任意类型。一个虚拟实现如下，我有一个调用的函数`Foo`，可以同时用于`IChildElement`and `IGrandchildElement`，并`double`在两种情况下都返回：

```
public class ChildElement : IChildElement {
    public double Score { get; internal set; }
}
public class GrandchildElement : ChildElement, IGrandchildElement {
    public int Rank { get; internal set; }
}

public class Foo : IFunction<double, IChildElement>, IFunction<double, IGrandchildElement> {
    public double Evaluate(IChildElement x, IChildElement y) {
        return x.Score / y.Score;
    }
    public double Evaluate(IGrandchildElement x, IGrandchildElement y) {
        return x.Score * x.Rank / y.Score / y.Rank;
    }
}

public class Context<T> : IContext<T> where T : IElement {
    protected Dictionary<string, T> Results { get; set; }

    public Context() {
        this.Results = new Dictionary<string, T>();
    }

    public void AddElement(string key, T e) {
        this.Results[key] = e;
    }
    public Tout Evaluate<Tout>(string x, string y, IFunction<Tout, T> eval) {
        return eval.Evaluate(this.Results[x], this.Results[y]);
    }
} 
```

一些示例执行：

```
Context<IChildElement> cont = new Context<IChildElement>();
cont.AddElement("x", new ChildElement() { Score = 1.0 });
cont.AddElement("y", new ChildElement() { Score = 2.0 });
Foo f = new Foo();
double res1 = cont.Evaluate("x", "y", f); // This does not compile
double res2 = cont.Evaluate<double>("x", "y", f); // This does 
```

如您所见，我的问题是我似乎需要硬输入对`Context.Evaluate`. 如果我不这样做，编译器会说它无法推断参数的类型。这对我来说特别引人注目，因为在这两种情况下，`Foo`函数都会返回`double`。

如果`Foo`只实现`IFunction<double, IChildElement>`或`IFunction<double, IGrandchildElement>`我没有这个问题。但确实如此。

我不明白。我的意思是，添加`<double>`不会区分`IFunction<double, IGrandchildElement>`和`IFunction<double, IChildElement>`因为它们都返回`double`。据我了解，它没有为编译器提供任何额外的信息来区分。

在任何情况下，有什么方法可以避免必须对所有调用进行硬输入`Task.Evaluate`？在现实世界中我有几个功能，所以能够避免它会很棒。

**赏金**来解释为什么添加`<double>`对编译器有帮助。这是编译器懒得说的问题吗？

**旧更新：使用委托**

一个选项可能是使用委托而不是`IFunction`s in `IContext.Evaluate`：

```
public interface IContext<Tin> where Tin : IElement {
    Tout Evaluate<Tout>(string x, string y, Func<Tin, Tin, Tout> eval);
}
public class Context<T> : IContext<T> where T : IElement {
    // ...
    public Tout Evaluate<Tout>(string x, string y, Func<T, T, Tout> eval) {
        return eval(this.Results[x], this.Results[y]);
    }
} 
```

`<double>`这样做，我们在调用时不需要硬输入`IContext.Evaluate`：

```
Foo f = new Foo();
double res1 = cont.Evaluate("x", "y", f.Evaluate); // This does compile now
double res2 = cont.Evaluate<double>("x", "y", f.Evaluate); // This still compiles 
```

所以这里编译器确实按预期工作。我们避免了硬类型的需要，但我不喜欢我们使用`IFunction.Evaluate`而不是`IFunction`对象本身的事实。

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2013-04-27T08:41:53.523

（我还没有通过代表版本。我认为这个答案已经足够长了......）

让我们从大大简化代码开始。这是一个简短但完整的示例，它仍然演示了问题，但删除了所有不相关的内容。我还更改了类型参数的顺序，`IFunction`以匹配更正常的约定（例如`Func<T, TResult>`）：

```
// We could even simplify further to only have IElement and IChildElement...
public interface IElement {}
public interface IChildElement : IElement {}
public interface IGrandchildElement : IChildElement {}

public interface IFunction<in T, TResult> where T : IElement
{
    TResult Evaluate(T x);
}

public class Foo : IFunction<IChildElement, double>,
                   IFunction<IGrandchildElement, double>
{
    public double Evaluate(IChildElement x) { return 0; }
    public double Evaluate(IGrandchildElement x) { return 1; }
}

class Test
{
    static TResult Evaluate<TResult>(IFunction<IChildElement, TResult> function)
    {
        return function.Evaluate(null);
    }

    static void Main()
    {
        Foo f = new Foo();
        double res1 = Evaluate(f);
        double res2 = Evaluate<double>(f);
    }
} 
```

这仍然有同样的问题：

```
Test.cs(27,23): error CS0411: The type arguments for method
        'Test.Evaluate<TResult>(IFunction<IChildElement,TResult>)' cannot be
        inferred from the usage. Try specifying the type arguments explicitly. 
```

现在，至于为什么会发生......问题是类型推断，正如其他人所说。C# 中的类型推断机制（从 C# 3 开始）非常好，但没有它应有的*强大*。

让我们看看方法调用部分发生了什么，参考 C# 5 语言规范。

7.6.5.1（方法调用）是这里的重要部分。第一步是：

> 构造方法调用的候选方法集。对于与方法组 M 关联的每个方法 F：
> 
> *   如果 F 是非泛型的，则在以下情况下 F 是候选对象：
>     *   M 没有类型参数列表，并且
>     *   F 适用于 A (§7.5.3.1)。
> *   如果 F 是泛型且 M 没有类型参数列表，则 F 在以下情况下是候选者：
>     *   类型推断（第 7.5.2 节）成功，推断调用的类型参数列表，并且
>     *   一旦推断的类型参数被相应的方法类型参数替换，F 的参数列表中的所有构造类型都满足它们的约束（§4.4.4），并且 F 的参数列表适用于 A（§7.5.3.1 ）。
> *   如果 F 是泛型且 M 包含类型参数列表，则 F 在以下情况下是候选者：
>     *   F 具有与类型参数列表中提供的相同数量的方法类型参数，并且
>     *   一旦将类型实参替换为相应的方法类型参数，F 的形参列表中的所有构造类型都满足其约束（第 4.4.4 节），并且 F 的形参列表适用于 A（第 7.5.3.1 节） .

现在在这里，方法组`M`是具有单个方法 ( `Test.Evaluate`) 的集合 - 幸运的是第 7.4 节（成员查找）很简单。所以我们只有一个`F`方法可以考虑。

它*是*通用的，并且 M 没有类型参数列表，所以我们直接在第 7.5.2 节 - 类型推断中结束。请注意，如果有*一个*参数列表，它会被完全跳过，并且满足上面的第三个主要要点——这就是`Evaluate<double>(f)`调用成功的原因。

所以，我们现在已经很好地表明问题在于类型推断。让我们深入了解它。（恐怕这就是棘手的地方。）

7.5.2 本身大多只是描述，包括类型推断分阶段发生的事实。

我们试图调用的泛型方法描述为：

```
Tr M<X1...Xn>(T1 x1 ... Tm xm) 
```

方法调用描述为：

```
M(E1 ... Em) 
```

所以在我们的例子中，我们有：

*   T [r]与`TResult`X [1]相同。
*   T [1]是`IFunction<IChildElement, TResult>`
*   x [1]是`function`, 一个值参数
*   E [1]是`f`，它的类型`Foo`

现在让我们尝试将其应用于类型推断的其余部分......

> **7.5.2.1 第一阶段**
> 对于每个方法参数 E [i]：
> 
> *   如果 E [i]是匿名函数，则从 E [i]到 T [i进行显式参数类型推断（第 7.5.2.7 节）]
> *   否则，如果 E [i]具有类型 U 并且 x [i是值参数，则从 U 到 T] [i]进行下限推断。
> *   否则，如果 E [i]具有类型 U 并且 x [i]是 ref 或 out 参数，则从 U 到 T [i]进行精确推断。
> *   否则，不会对此论点作出任何推论。

第二个要点在这里是相关的：E [1]不是匿名函数，E [1]有一个 type `Foo`，而 x [1]是一个值参数。`Foo`所以我们最终得到一个从到 T [1]的下限推断。该下限推断在 7.5.2.9 中进行了描述。这里的重要部分是：

> 否则，集合 U [1] ...U [k]和 V [1] ...V [k]通过检查是否适用以下任何情况来确定：
> 
> *   [...]
> *   V 是构造类、结构、接口或委托类型 C<V [1] ...V [k] > 并且存在唯一类型 C<U [1] ...U [k] > 使得 U（或者，如果 U 是类型参数，其有效基类或其有效接口集的任何成员）与 C<U 1 ...U k > 相同、继承自（直接或间接）或实现（直接或间接）C<U [1] ...U [k] >。（“唯一性”限制意味着在接口 C<T>{} 类 U: C<X>, C<Y>{} 的情况下，从 U 推断到 C<T> 时不会进行推断，因为 U [1]可以是 X 或 Y。）

就本部分而言，`U`is`Foo`和`V`is `IFunction<IChildElement, TResult>`。但是，`Foo`同时实现`IFunction<IChildElement, double>`和`IFunction<IGrandchildelement, double>`。因此*，即使*在这两种情况下我们最终都会得到 U [2] as `double`，但这个子句并不满足。

令我感到惊讶的一件事是，这*并不*`T`依赖于in`IFunction<in T, TResult>`是逆变的。如果我们删除`in`零件，我们会遇到同样的问题。我原以为它会在这种情况下工作，因为不会有从`IFunction<IGrandchildElement, TResult>`to的转换`IFunction<IChildElement, TResult>`。那部分*可能*是编译器错误，但更有可能是我误读了规范。但是，在实际给出的情况下，这是无关紧要的——因为 的逆变性`T`，存在*这样*的转换，所以两个接口都非常重要。

无论如何，这意味着我们实际上并没有从这个参数中得到任何类型推断！

这就是第一阶段的全部内容。

第二阶段是这样描述的：

> **7.5.2.2 第二阶段**
> 
> 第二阶段进行如下：
> 
> *   所有不依赖于（§7.5.2.5）任何 Xj 的未固定类型变量 Xi 都是固定的（§7.5.2.10）。
> *   如果不存在这样的类型变量，则所有未固定的类型变量 Xi 都是固定的，以下所有内容都适用：
>     *   至少有一个类型变量 Xj 依赖于 Xi
>     *   Xi 有一组非空边界
> *   如果不存在这样的类型变量并且仍然存在未固定的类型变量，则类型推断失败。
> *   否则，如果不存在进一步的未固定类型变量，则类型推断成功。
> *   否则，对于具有相应参数类型 Ti 的所有参数 Ei，其中输出类型（第 7.5.2.4 节）包含未固定类型变量 Xj，但输入类型（第 7.5.2.3 节）不包含，输出类型推断（第 7.5.2.6 节）为从 Ei 到 Ti。然后重复第二阶段。

我不会复制所有子条款，但在我们的例子中......

*   类型变量 X [1]不依赖于任何其他类型变量，因为*没有*任何其他类型变量。所以我们需要*修复*X [​​1]。（这里的部分参考是错误的 - 它实际上应该是 7.5.2.11。我会让 Mads 知道。）

[我们对 X 1]没有界限（因为之前的下限推断没有帮助）所以我们最终在这一点上失败了类型推断。砰。这一切都取决于 7.5.2.9 中的独特性部分。

当然，这可以修复。规范的类型推断部分*可以*变得更强大 - 问题是这也会使其更复杂，导致：

*   开发人员更难推理类型推断（这已经够难了！）
*   更难正确指定没有间隙
*   正确*实施*更难
*   很可能，它在编译时性能更差（这可能是 Visual Studio 等交互式编辑器中的一个问题，它需要执行相同的类型推断才能使 Intellisense 等东西工作）

这都是一种平衡行为。我认为 C# 团队做得很好——事实上它在这种极端情况下不起作用，这不是什么大问题，IMO。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-23T18:05:48.147

类型推断失败，因为编译器无法将类型参数固定为唯一映射。

和之间存在歧义`IFunction<double, IChildElement>`，`IFunction<double, IGrandChildElement>`因为它们都是可绑定的。

**当类型推断失败时，您必须明确指定您的类型参数**。这是根据 C# 语言规范。

通过指定显式类型参数，您可以帮助编译器，因为它可以完全跳过类型推断。

在您明确指定`T`绑定到`double`之后，不再有歧义，因为通过您的声明`Tin`绑定到并且通过显式类型参数绑定到。`IChildElement``Context<IChildElement>``Tout``double`

我同意您可能会争辩说编译器也可能已经推断出这种用法，因为在这种情况下，类型参数实际上并没有提供任何额外的信息。

但是，规范说：

> 类型推断作为方法调用（第 7.6.5.1 节）的绑定时处理的一部分发生，并且发生在调用的重载解决步骤之前

...所以我猜他们想把这些东西分开。其原因超出了我的范围。我猜这可能是规范的简单性或对未来扩展的支持，或者只是他们没有想到:-)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-29T04:42:30.413

发生这种情况的原因是因为`Foo()`实现`IFunction`了`IChildElement`和`IGrandchildElement`。由于您的用法是 type `IChildElement`，因此它可能指的是一个`IChildElement`或`IGrandchildElement`多个调用是模棱两可的，因为`IFunction<double, IGrandchildElement>`is a `IFunction<double, IChildElement>`。请注意，问题不是因为`IChildElement`and引起的`IGrandchildElement`，而是因为它实现了两种可能的`IFunction`类型，*它甚至没有考虑返回类型`double`*。

```
// f is both an IFunction<double, IGrandchildElement>
// and an IFunction<double, IChildElement>
Foo f = new Foo();
double res1 = cont.Evaluate("x", "y", f); // This does not compile
double res2 = cont.Evaluate<double>("x", "y", f); // This does 
```

因此，您需要以某种方式使其更具体，有两种使用强制转换的方法：

```
double res3 = cont.Evaluate<double>("x", "y", f);
double res4 = cont.Evaluate("x", "y", (IFunction<double, IChildElement>)f); 
```

正如您所说，您不想每次都这样做，但最后一行的转换方法揭示了您的问题的潜在解决方案；将所需接口转换`Foo`为变量并在调用时使用该变量`cont.Evaluate()`。

```
IFunction<double, IChildElement> iFunc = f;
double res5 = cont.Evaluate("x", "y", iFunc); 
```

# c# - 如果队列中没有消息，则 Worker Role 将关闭

> ID：15697303
> 
> 赞同：1
> 
> 时间：2013-03-29T04:22:24.740
> 
> 标签：c#, azure, azure-worker-roles

每当我尝试检查队列中是否有任何消息时，我都会收到“对象引用未设置为对象的实例”。我相信可能是因为我的队列过期并关闭了。

> msg = this.queue.GetMessage(); 如果（味精！= null）

这是我的天蓝色模拟器错误：

```
Diagnostics]: Error when reading control container:Microsoft.WindowsAzure.StorageClient.StorageClientException: ERROR ---> System.Net.WebException: The remote server returned an error: (400) Bad Request.
   at System.Net.HttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
   at Microsoft.WindowsAzure.StorageClient.EventHelper.ProcessWebResponse(WebRequest req, IAsyncResult asyncResult, EventHandler`1 handler, Object sender)
   --- End of inner exception stack trace ---
   at Microsoft.WindowsAzure.StorageClient.Tasks.Task`1.get_Result()
   at Microsoft.WindowsAzure.StorageClient.Tasks.Task`1.ExecuteAndWait()
   at Microsoft.WindowsAzure.Diagnostics.ControlChannel.GetControlContainer()
[Diagnostics]: Polling for configuration changes:System.NullReferenceException: Object reference not set to an instance of an object. 
```

我对 OnStart 方法所做的是：

> ServicePointManager.DefaultConnectionLimit = 12;
> 
> ```
>  // read storage account configuration settings
>         CloudStorageAccount.SetConfigurationSettingPublisher((configName, 
> ```
> 
> configSetter) => { configSetter(RoleEnvironment.GetConfigurationSettingValue(configName)); }); var storageAccount = CloudStorageAccount.FromConfigurationSetting("DataConnectionString");
> 
> ```
>  // initialize blob storage
>         CloudBlobClient blobStorage = storageAccount.CreateCloudBlobClient();
>         this.container = blobStorage.GetContainerReference("userpictures");
> 
>         // initialize queue storage 
>         CloudQueueClient queueStorage = storageAccount.CreateCloudQueueClient();
>         this.queue = queueStorage.GetQueueReference("pictureminiatures");
>         this.queue.CreateIfNotExist(); 
> ```

你能帮我找出我在哪里做错了吗？

# primefaces - Primefaces 命令按钮（在数据表内）- 在第二个选项卡上刷新数据表并切换到该选项卡

> ID：15697306
> 
> 赞同：0
> 
> 时间：2013-03-29T04:22:43.023
> 
> 标签：primefaces, datatable, switching

我是新手。

我有一个 Primefaces 选项卡（1\. 摘要 2\. 详细信息）。

我允许用户搜索项目列表，然后在第一个选项卡中，primefaces 数据表显示结果。除了表格之外，还有一个额外的列，用户单击该列，然后它应该检索相应的记录详细信息行并切换到第二个选项卡。

我可以使用操作单击额外的列并记录选定的行，它也会移动到第二个选项卡。但是，它没有在第二个选项卡上显示我的 primefaces 数据表。

但是，当我手动单击第二个选项卡时，我可以看到数据表和所有正确的数据。

```
<p:column width="30">  
<p:commandButton id="selectDetailCb" 
                     title="View detail"
                     oncomplete="tabViewV.select(2)"
         action="#itunesAnalysisToolMb.retrieveProductDetailRpt(itunesAnalysisToolSummaryV)}"
   icon="ui-icon-search" 
                                                     update=":itunesAnalysisToolForm:tabView:itunesAnalysisToolDetailDt">
                                    </p:commandButton>      
                                </p:column> 

/*
 * Retrieve the iTunes Analysis Tool detail for the selected product and for the selected time frame.
 */
public void retrieveProductDetailRpt(ItunesAnalysisToolSummary selectedProduct){

    log.debug(selectedProduct.getRank());
    log.debug(selectedProduct.getArtist());
    log.debug(selectedProduct.getTitle());
    log.debug(this.startReportDate);
    log.debug(this.endReportDate);
    log.debug(this.itunesProductTypeCode);

    //return "goToDetail";
} 
```

在后台，我收到了这条消息。

> 2013 年 3 月 29 日下午 1:02:04 com.warnermusic.wis.util.JsfPhaseListener beforePhase 信息：RENDER_RESPONSE 2013 年 3 月 29 日下午 1:02:04 com.sun.faces.context.PartialViewContextImpl$PhaseAwareVisitCallback 访问严重：java。 lang.NullPointerException 2013 年 3 月 29 日下午 1:02:04 com.warnermusic.wis.util.JsfPhaseListener afterPhase 信息：RENDER_RESPONSE 6

但没有其他错误。

您能否帮助我并告诉我为什么在单击命令按钮时我无法在第二个选项卡上看到数据表，但是当我实际手动移动到下一个选项卡时我可以看到。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-18T08:34:23.950

选项卡的索引通常从 0 到 max-1。从您发布的代码看来，您正在尝试访问第二个选项卡，但您应该执行 oncomplete="tabViewV.select(1)"。

如果没有更多选项卡，通常会抛出此异常。

# modx-revolution - getResources 构建顶级菜单

> ID：15697311
> 
> 赞同：1
> 
> 时间：2013-03-29T04:23:48.350
> 
> 标签：modx-revolution

我正在尝试使用`getResources`为我的网站构建主导航。我如何告诉`getResources`从当前上下文开始并立即查看当前上下文下的所有资源？

我看到我可以指定以下参数；

1.  父母
2.  资源

我已经设置了父母`0`，但这不起作用。我不知道`id`上下文的资源，所以我不能为资源参数指定它。

我不能做我想做的事`getResources`吗？我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T04:49:21.430

[在http://rtfm.modx.com/display/ADDON/Wayfinder](http://rtfm.modx.com/display/ADDON/Wayfinder)上构建导航，他有一个参数来处理上下文。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T17:05:35.767

使用 &context，来自 rtfm.modx.com 上的文档“应该在哪个上下文中搜索。默认为当前上下文。”

所以你的最小 getResources 调用可能看起来像：

```
[[getResources? &parents=0 &tpl=menuTpl ]] 
```

您不必指定上下文，而且 getResources 是服务器资源密集型的，除非您有特定的理由不这样做，否则请按照 Vasis 的建议使用寻路器。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-23T13:41:14.013

我知道这有点晚了，但我只是想出了这个，**测试并在 Revo 2.2.10 上工作**。

您告诉 getResources 从当前上下文开始的方式是将父级设置为当前文档的 ID。

这将进入您的模板：

```
<ul>
    [[getResources? &parents=`0` &depth=`0` &limit=`0` &sortby=`menuindex` &sortdir=`ASC` &tpl=`tpl_Navigation`]]
</ul> 
```

然后在用作getResources（tpl_Navigation）模板的Chunk中：

```
<li>
    <a href="[[~[[+id]]]]">[[+menutitle:default=`[[+pagetitle]]`]]</a>

   [[getResources? &parents=`[[+id]]` &depth=`0` &totalVar=`numChildren[[+id]]` &limit=`0` &tpl=`tpl_Navigation` &sortby=`menuindex` &sortdir=`ASC` &toPlaceholder=`children[[+id]]`]]

   [[+numChildren[[+id]]:gt=`0`:then=`<ul>[[+children[[+id]]]]</ul>`:else=``]]
</li> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-03-15T14:30:17.873

如果要使用 getResource 从当前上下文顶部生成菜单，还需要添加`&depth=`0` &context=`[[*context_key]]``参数。

但是对于 modx 中的简单菜单生成，我建议您使用安装了 getResource 的[Wayfinder插件。](https://docs.modx.com/extras/revo/wayfinder)

# ios - 无法访问 Storyboard 中的自定义 TableViewController？

> ID：15697315
> 
> 赞同：1
> 
> 时间：2013-03-29T04:24:10.960
> 
> 标签：ios, uinavigationcontroller, uitableview

到目前为止，我有一个带有 UINavigationController 和一个 TableViewController 的 Storyboard。TableViewController 是 UITableViewController 的自定义类，我在情节提要上设置了这个。在 didFinishLaunching 的 Appdelegate 中，我有以下代码：

```
NSLog(@"rootviewconroller: %@",self.window.rootViewController);

//CTCAEMainTableViewController *mainViewController = (CTCAEMainTableViewController *)self.window.rootViewController;
UINavigationController *mainNavigationController = (UINavigationController *)self.window.rootViewController;
CTCAEMainTableViewController *mainTableViewController =  (CTCAEMainTableViewController *) mainNavigationController.topViewController;
NSLog(@"table: %@",mainTableViewController);
NSLog(@"table: %@",mainTableViewController.testMethod); 
```

CTCAEMainTableViewController 是我的自定义 UITableViewController。

```
@interface CTCAEMainTableViewController : UITableViewController 
```

但是我得到的只是一个普通的 UITableViewController，当我尝试调用我的 testMethod 时，我得到一个运行时错误：无法识别的选择器发送到实例。

我还尝试使用 NavigationController 的 viewControllers 方法访问 TableViewController，然后访问索引 0 处的对象。同样的事情。我很困惑，因为在我的故事板中它显示了它的自定义类。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T05:15:06.517

您确定您更改了情节提要中控制器的子类吗？

![自定义表格视图控制器](../Images/d1f9963986088053d46526b7c64e7046.png)

请注意，在“自定义类”框中，我输入了我的 TVC 应该是的子类的名称。此外，我通过拖出一个通用 TVC 然后设置子类来创建故事板元素。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T16:54:35.960

发现问题。我将我的故事板命名为 MainStoryboard，这也是故事板的默认名称，因此在我的项目中设置故事板似乎不起作用。制作了一个新的故事板，以不同的方式命名，以相同的方式完成其他所有操作，并且可以正常工作。

# c++ - 井字游戏

> ID：15697321
> 
> 赞同：-1
> 
> 时间：2013-03-29T04:25:07.247
> 
> 标签：c++, function

我必须使用 C++ 创建一个井字游戏程序。一切都是正确的，但是我遇到的主要功能有问题。它不允许我从主函数调用任何函数。它还告诉我 board 和 boardsize 未使用，并且 randint 未在此范围内声明。我曾尝试将函数名称后的括号留空，但效果不佳。我现在迷路了，这是我的代码：

```
/*
   Template for TicTacToe.cpp (CS-509 Assignment 5)

   Fill in the rest of this comment block.
*/

#include<iostream>
using namespace std;

/*
   Game status enumeration
*/
enum Status { WIN, DRAW, CONTINUE, QUIT };

/*
   Function prototypes
*/
// showBoard: Show current state of board
void showBoard( const char board[], int boardSize );
// checkGameState: Returns WIN or CONTINUE
Status checkGameState( const char board[] );
int getHumanSquare( const char board[] );
int getComputerSquare( const char board[] );
// checkBadSquare: Checks to see if a chosen square is already taken; returns
//                 true if already taken; used by getHumanSquare and
//                 getComputerSquare functions above.
bool checkBadSquare( const char board[], int squareNum );
int getrandint( int min, int max );

int main()
{
    char board[] = "123456789";   // 10 element char board
    const int boardSize = 10;
    Status gameState = CONTINUE;
    int gametype, squareChoice, turnNum = 0;
    char currentSymbol;           // 'o' or 'x'

    cout << "\n This is a Tic Tac Toe program. Choose the type of game: "
         << "\n (1) human o vs. human x    (2) human o vs. dumb computer x"
         << "\n\n -> ";
    cin  >> gametype;

    /* Show the current state of Tic Tac Toe board. */
    cout << gameState;

    /*
       Main game loop
    */
    while ( gameState == CONTINUE )
    {

        /* Increment turnNum by 1\. */
        turnNum++;
        /* If turnNum equal to 10
              Set gameState to DRAW.
              Break out of while loop. */
        if ( turnNum = 10 )
        {
            gameState = DRAW;
            break;
        }
        /* If we are on an odd-numbered turn
              Print "It's o's turn."
              Set currentSymbol to 'o'.
              Call getHumanSquare function to get squareChoice.*/
        if ( turnNum%2 != 0)
        {
            cout << "It's o's turn.";
            currentSymbol = 'o';
            int getHumanSquare( )
            {

                return board;
            }
        }
        /* Else (we are on an even-numbered turn)
            Print "It's x's turn."
            Set currentSymbol to 'x'. */
        else
        {
            cout << "It's x's turn.";
            currentSymbol = 'x';
        }

        /*   If the gametype is 1 (human vs. human)
              Call getHumanSquare function to get squareChoice.*/
        if ( gametype == 1 )
        {
            int getHumanSquare( int squareNum )
            {
                return board;
            }
        }

        /* Else (gametype is 2 (human vs. computer))
           Call getComputerSquare function to get squareChoice. */
        else
        {
            int getComputerSquare( int squareNum )
            {
                return board;
            }
        }

        /* If squareChoice is -1 (human player quit)
              Set gameState to QUIT.*/
        if ( squareChoice == -1 )
        {
            gameState = QUIT;
        }

        /* Else
           Insert currentSymbol into board at (squareChoice - 1).
           Show the current state of the Tic Tac Toe board.
           Call checkGameState function to determine the gameState. */
        else
        {
            bool checkBadSquare( int squareNum )
            {
                return board;
            }
            Status checkGameState();
        }
    }

    // end while

    /* If gameState is WIN
          print "Player " currentSymbol " is the winner." */
    if ( gameState == WIN)
        cout << "Player " currentSymbol " is the winnter.";

    /* If gameState is DRAW
          print "It's a draw." */
    if ( gameState == DRAW )
        cout << "It's a draw.";

    return 0;
}

/////////////////////////////////////////////////////////////////////

void showBoard( const char board [], int size )
{
    cout << endl;

    for ( int i = 0; i < size ; i++ )
    {
        cout << board[ i ] << " ";
        if ( ( i + 1 ) % 3 == 0 )
            cout << endl;
    }

    cout << endl;
}

/////////////////////////////////////////////////////////////////////

Status checkGameState( const char board[] )
{
    // Board       Array
    //
    // 1 2 3       0 1 2
    // 4 5 6  -->  3 4 5
    // 7 8 9       6 7 8
    //
    // Diagonal winners
    if ( board[ 0 ] == board[ 4 ] && board[ 0 ] == board[ 8 ] )
        return WIN;
    else if ( board[ 2 ] == board[ 4 ] && board[ 4 ] == board[ 6 ] )
        return WIN;
    // Horizontal winners
    else if ( board[ 0 ] == board[ 1 ] && board[ 1 ] == board[ 2 ] )
        return WIN;
    else if ( board[ 3 ] == board[ 4 ] && board[ 4 ] == board[ 5 ] )
        return WIN;
    else if ( board[ 6 ] == board[ 7 ] && board[ 7 ] == board[ 8 ] )
        return WIN;
    // Vertical winners
    else if ( board[ 0 ] == board[ 3 ] && board[ 3 ] == board[ 6 ] )
        return WIN;
    else if ( board[ 1 ] == board[ 4 ] && board[ 4 ] == board[ 7 ] )
        return WIN;
    else if ( board[ 2 ] == board[ 5 ] && board[ 5 ] == board[ 8 ] )
        return WIN;
    else
        // No one has won yet
        return CONTINUE;
}

/////////////////////////////////////////////////////////////////////

int getHumanSquare( const char board[] )
{
    int squareNum;

    cout << "\n Input the number of an empty square: (-1 to quit) ";
    cin  >> squareNum;

    while ( checkBadSquare( board, squareNum ) == true )
    {
        cout << "\n Bad input. Choose another square: ";
        cin >> squareNum;
    }

    return squareNum;
}

/////////////////////////////////////////////////////////////////////

int getComputerSquare( const char board[] )
{
    int squareNum;

    squareNum = getrandint( 1, 9 );

    while ( checkBadSquare( board, squareNum ) == true )
    {
        squareNum = getrandint( 1, 9 );
    }

    return squareNum;
}

/////////////////////////////////////////////////////////////////////

bool checkBadSquare( const char board[], int squareNum )
{
    int realSquareNum = squareNum - 1; // count from 0

    if ( squareNum == -1 )
        return false;  // Let quit code pass as a valid square
    else if ( squareNum > 9 )
        return true;   // Square numbers out of range are invalid
    else if ( board[ realSquareNum ] == 'o' || board[ realSquareNum ] == 'x' )
        return true;   // Already taken squares are invalid
    else
        return false;  // Valid square number
}

/////////////////////////////////////////////////////////////////////

int getrandint( int min, int max )
{
    int scale, shift;
    scale = max - min + 1;
    shift = min;
    return randint() % scale + shift;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T04:46:22.783

您的问题很可能与此处标记的点有关：

```
int main() {

/* ... lots of other code here ... */

        if ( turnNum%2 != 0)
        {
            /* doesn't call the globally known function getHumanSquare ()
               but defines a new function getHumanSquare local to the scope
               if your compiler allows anyhow.
            */

            int getHumanSquare( )
            {

                return board;
            }
        }

        /* ... still more code here ... */

        if ( gametype == 1 )
        {
            /* same problem again */
            int getHumanSquare( int squareNum )
            {
                return board;
            }
        }

  /* ... I stopped further reading here ... */ 
```

您最可能尝试做的事情看起来像这样：

```
int main() {

/* ... lots of other code here ... */

        if ( turnNum%2 != 0)
        {
            int result;
            result = getHumanSquare (board);

            /*  ... perform some interesting action with the result here */ 
        }

        /* ... I hope you got the point ... */ 
```

这样您就可以**调用**该函数`getHumanSquare`，而不是尝试**定义**一个新函数。

# c++ - C++中矩阵的插值

> ID：15697324
> 
> 赞同：-4
> 
> 时间：2013-03-29T04:25:18.607
> 
> 标签：c++, matrix, interpolation

我可以知道如何在 C++ 中对矩阵进行插值吗？例如：我有一个 3x3 矩阵 {0 0 0
0 1 1 0 0 1} 我希望使用双线性插值将其调整为 10x10 矩阵。

关于此的任何提示或参考？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T04:55:18.597

您想要做的是使用双线性插值调整图像大小。知道谷歌是你的朋友。为此，我会尝试使用 C++ 库。这个问题涵盖了所有 C++ 图像库：[最快的 C/C++ 图像调整库](https://stackoverflow.com/questions/873976/fastest-c-c-image-resizing-library)任何合理的库都应该满足您的需求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T04:28:31.833

为了在两个事物之间进行线性插值，您需要将它们嵌入（放置）在一个公共向量空间中，然后“绘制”它们之间的线。

我在公共向量空间中看不到 3x3 矩阵和 10x10 矩阵的有用嵌入......

# c# - c#解析平面文件并编辑由十六进制代码组成的分隔符

> ID：15697327
> 
> 赞同：0
> 
> 时间：2013-03-29T04:25:51.900
> 
> 标签：c#, text-parsing

嗨团队，我有一个平面文件，其中数据初始化由十六进制代码分隔为行/列我需要解析文件并注入一个额外的数据列。

例如 EID1000ENAJohnJOBSalesMan>EID1001ENASmithJOBAnalyst> 很快......

假设在上述情况下，我需要将 Deptono 注入为 DEP10> 最好的方法是什么，即文件 IO 在 c# 中有方法或编写核心代码来实现相同，任何关于此的示例\链接\建议都是 gr8帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T04:41:08.517

那么肯定有很多方法可以做到这一点，但我会做这样的事情。

打开文件进行读取，打开另一个文件进行写入。逐行读取文件，比较数据以查看记录是否是您想要的记录，如果是则更改并将该行添加到新的临时文件中，否则只需将该行复制到临时文件中。最后用新文件替换旧文件。如果文件很大，您将不得不这样做，否则切换到适当的数据库，如 SqlLite。

# php - PHP 回显到另一个页面

> ID：15697328
> 
> 赞同：-1
> 
> 时间：2013-03-29T04:26:01.067
> 
> 标签：php

我对下面的代码有什么问题。我试图让它回显到另一个页面，但它似乎没有拾取数据库上的数据。

```
<?php
{
    // connect to server
    mysql_connect("localhost", "u", "") or die(mysql_error());
    //select database
    mysql_select_db("") or die(mysql_error());

    //Create a query that selects all data from the PATIENT table where the username and password match
    $query = "SELECT`Appointment_id`, `Doctor_id`, `Patient_id`, `Appointment_time`, `Appointment_date` FROM `Appointment`";

    //executes query on the database
    $result = mysql_query ($query) or die ("didn't query");
    //this selects the results as rows

    $num = mysql_num_rows ($result);
    //if there is only 1 result returned than the data is ok 
    if ($num == 1)
    {
        $row=mysql_fetch_array($result);
        $_SESSION['Appointment_id'] = $row['Appointment_id'];
        $_SESSION['Doctor_id'] = $row['Doctor_id'];

    }
}
?> 
```

约会.php

```
<!DOCTYPE html>
<?php
session_start();
?>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />
        <title>
        </title>
        <link rel="stylesheet" href="https://ajax.aspnetcdn.com/ajax/jquery.mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
        <link rel="stylesheet" href="my.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js">
        </script>
        <script src="https://ajax.aspnetcdn.com/ajax/jquery.mobile/1.2.0/jquery.mobile-1.2.0.min.js">
        </script>
        <script src="my.js">
        </script>
        <!-- User-generated css -->
        <style>
        </style>
        <!-- User-generated js -->
        <script>
            try {

    $(function() {

    });

  } catch (error) {
    console.error("Your javascript has an error: " + error);
  }
        </script>
    </head>
    <body>
        <!-- Home -->
        <div data-role="page" id="page1">
            <div data-theme="a" data-role="header">
            <a data-role="button" data-theme="d"  data-icon="arrow-l" data-iconpos="left" class="ui-btn-left">
                    Back
                </a>
                <a data-role="button" href="index.html" data-icon="home" data-iconpos="right" data-theme="d"class="ui-btn-right">
                 Home  
                </a>

            </div>
            <div data-role="content">

<?php
{
    // connect to server
    mysql_connect("localhost", "", "") or die(mysql_error());
    //select database
    mysql_select_db("") or die(mysql_error());

    $query = "SELECT `Appointment_id`, `Doctor_id`, `Patient_id`, `Appointment_time`, `Appointment_date` FROM `Appointment`";

    //executes query on the database
    $result = mysql_query ($query) or die ("didn't query");
    //this selects the results as rows

    $num = mysql_num_rows ($result);
    //if there is only 1 result returned than the data is ok 
    if ($num == 1)
    {
        $row=mysql_fetch_array($result);
        $_SESSION['Appointment_id'] = $row['Appointment_id'];
        $_SESSION['Doctor_id'] = $row['Doctor_id'];

    }
}
?>
            </div>
        </div>
    </body>
</html> 
```

回显到此页面

```
<!DOCTYPE html>
<?php
session_start();
?>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />
        <title>
        </title>
        <link rel="stylesheet" href="https://ajax.aspnetcdn.com/ajax/jquery.mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
        <link rel="stylesheet" href="my.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js">
        </script>
        <script src="https://ajax.aspnetcdn.com/ajax/jquery.mobile/1.2.0/jquery.mobile-1.2.0.min.js">
        </script>
        <script src="my.js">
        </script>
        <!-- User-generated css -->
        <style>
        </style>
        <!-- User-generated js -->
        <script>
            try {

    $(function() {

    });

  } catch (error) {
    console.error("Your javascript has an error: " + error);
  }
        </script>
     </head>
    <body>
        <!-- Home -->
        <div data-role="page" id="page1">
            <div data-theme="a" data-role="header">
            <a data-role="button" data-theme="d" data-icon="arrow-l" data-iconpos="left" class="ui-btn-left">
                    Back
                </a>
                <a data-role="button" data-icon="home" data-iconpos="right" data-theme="d"class="ui-btn-right">
                 Home  
                </a>
                <h3>
                    Details
                </h3>
            </div>
            <div data-role="content">
              <form name="form1" method="post" action="login.php">
            <strong>Your Details</strong>
            <br />
            <br />
            Appointment: <?php echo $_SESSION['Appointment_id'];?>
            <br />
            <br />
            Doctor: <?php echo $_SESSION['Doctor_id'];?>
            <br />
            <br />

             </div>
        </div>
    </body>
</html> 
```

第二部分是数据库获取信息的位置（约会），第三部分显示我需要它显示的位置

```
<!DOCTYPE html>
<?php
session_start();
?>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />
        <meta http-equiv="refresh" content="2;url=details1.php">
        <title>
        </title>
        <link rel="stylesheet" href="https://ajax.aspnetcdn.com/ajax/jquery.mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
        <link rel="stylesheet" href="my.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js">
        </script>
        <script src="https://ajax.aspnetcdn.com/ajax/jquery.mobile/1.2.0/jquery.mobile-1.2.0.min.js">
        </script>
        <script src="my.js">
        </script>
        <!-- User-generated css -->
        <style>
        </style>
        <!-- User-generated js -->
        <script>
            try {

    $(function() {

    });

  } catch (error) {
    console.error("Your javascript has an error: " + error);
  }
        </script>
    </head>
    <body>
        <!-- Home -->
        <div data-role="page" id="page1">
            <div data-theme="a" data-role="header">
            <a data-role="button" data-theme="d" href="login.html" data-icon="arrow-l" data-iconpos="left" class="ui-btn-left">
                    Back
                </a>
                <a data-role="button" href="index.html" data-icon="home" data-iconpos="right" data-theme="d"class="ui-btn-right">
                 Home  
                </a>
                <h3>
                    Login Process
                </h3>
            </div>
            <div data-role="content"> 
```

登录.php

```
 <!DOCTYPE html>
<?php
session_start();
?>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />
        <meta http-equiv="refresh" content="2;url=details1.php">
        <title>
        </title>
        <link rel="stylesheet" href="https://ajax.aspnetcdn.com/ajax/jquery.mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
        <link rel="stylesheet" href="my.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js">
        </script>
        <script src="https://ajax.aspnetcdn.com/ajax/jquery.mobile/1.2.0/jquery.mobile-1.2.0.min.js">
        </script>
        <script src="my.js">
        </script>
        <!-- User-generated css -->
        <style>
        </style>
        <!-- User-generated js -->
        <script>
            try {

    $(function() {

    });

  } catch (error) {
    console.error("Your javascript has an error: " + error);
  }
        </script>
    </head>
    <body>
        <!-- Home -->
        <div data-role="page" id="page1">
            <div data-theme="a" data-role="header">
            <a data-role="button" data-theme="d" href="login.html" data-icon="arrow-l" data-iconpos="left" class="ui-btn-left">
                    Back
                </a>
                <a data-role="button" href="index.html" data-icon="home" data-iconpos="right" data-theme="d"class="ui-btn-right">
                 Home  
                </a>
                <h3>
                    Login Process
                </h3>
            </div>
            <div data-role="content">

<?php
// takes the variables from action script and assigns them php variables names
$user = $_POST ['username'];
$pass = $_POST ['password'];

// if there is a user name and password
if ($user && $pass)
{
    // connect to server
    mysql_connect("localhost", "", "") or die(mysql_error());
    //select database
    mysql_select_db("") or die(mysql_error());

    //Create a query that selects all data from the PATIENT table where the username and password match
    $query = "SELECT * FROM Patient WHERE Username = '$user' AND Password = '$pass'";

    //executes query on the database
    $result = mysql_query ($query) or die ("didn't query");
    //this selects the results as rows

    $num = mysql_num_rows ($result);
    //if there is only 1 result returned than the data is ok 
    if ($num == 1)
    {
        //sends back a data of "Success"
        echo "Successful Login";
        $row=mysql_fetch_array($result);
        $_SESSION['Title'] = $row['Title'];
        $_SESSION['First_name'] = $row['First_name'];
        $_SESSION['Last_name'] = $row['Last_name'];
        $_SESSION['Address'] = $row['Address'];
        $_SESSION['Line_2'] = $row['Line_2'];
        $_SESSION['Line_3'] = $row['Line_3'];
        $_SESSION['Postcode'] = $row['Postcode'];
        $_SESSION['Home'] = $row['Home'];
        $_SESSION['Mobile'] = $row['Mobile'];

    }
    else
    {
        //sends back a message of "failed"
        echo "Unsuccessful Login";
    }
}

?>
            </div>
        </div>
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T04:27:37.423

请`session_start()`在两个页面上使用，如果您不启动将无法使用

**编辑**

创建一个测试页面以查看您的会话是否正常工作？

如果是，则在其他页面上进行测试

还可以尝试在您设置会话值的 if 条件中添加一个简单的回显。如果该回显触发，则意味着您的代码是正确的，并且 SESSION 有问题。如果 echo 没有触发，则表示您的代码不正确并且未设置会话

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T04:27:54.630

请在顶部添加

```
session_start(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T04:28:14.933

**编辑：**

好的，所以我相信逻辑错误在于

```
$query = "SELECT `Appointment_id`, `Doctor_id`, `Patient_id`, `Appointment_time`, `Appointment_date` FROM `Appointment`";

$result = mysql_query ($query) or die ("didn't query");
$num = mysql_num_rows ($result);
if ($num == 1)
{

} 
```

由于您的查询没有`WHERE`子句，因此它返回所有记录，并且您仅在有 1 条记录时设置 SESSION 值。您还应该`else`有条件查看实际发生的情况。

`Create a query that selects all data from the PATIENT table where the username and password match`

但是您的查询不会这样做，它会获取所有`PATIENT`s 的数据

例如，如果您的用户名和密码来自`POST`ed 表单，那么您可以这样做

```
$username=mysql_real_escape_string($_POST["username"]);
$password=mysql_real_escape_string($_POST["password"]); 
```

`WHERE`然后你可以在一个子句中使用这两个值。由于除了阅读您的查询之外，我不知道您的表的结构，因此我无法准确地写出来。但只是给你一个想法，一个地方可能像

```
$query="SELECT id from YourTable where $username='$username' and password='$password'" 
```

**非常重要的是要注意，因为您是初学者**：`mysql_*`不应再使用函数。如果你要开始，不要从已经消失的东西开始。阅读`mysqli_*`或`PDO`

**编辑2：**

好的，那就这样做吧

1.  成功登录后，您将患者的详细信息存储在 SESSION 中，也可以存储`Patient_id`类似`$_SESSION['Patient_id'] = $row['Patient_id'];`// 或者可能只是`id`. 检查你的桌子
2.  在 Appointment.php 上将您的查询更改为

    $pid=intval($_SESSION["Patient_id"]); $query = "SELECT `Appointment_id`, `Doctor_id`, `Patient_id`, `Appointment_time`, `Appointment_date`FROM `Appointment`where Patient_id=$pid";

3.  `if($num==1) { }`在您的块下方添加一个 else 条件，例如

PHP

```
else{
echo "Somehow we didn't get 1 record";
die();
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-29T04:29:40.073

因为您正在使用`$_SESSION`.. 您需要在 php 开始标记之后立即使用 session_start()

```
<?php
  session_start(); 
```

不仅在此页面上.. session_start() 应该在您希望使用的每个页面上都有`session_start()`.. 否则`$_SESSION`无法访问..

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-29T04:56:06.637

如果您只是想获得第一行

```
$query = "SELECT `Appointment_id`, `Doctor_id`, `Patient_id`, `Appointment_time`, `Appointment_date` FROM `Appointment` WHERE rownum = 1 ; "; 
```

# compiler-errors - 这有什么问题？提交.CommandText = sql?

> ID：15697329
> 
> 赞同：0
> 
> 时间：2013-03-29T04:26:09.163
> 
> 标签：compiler-errors

将 sql 调暗为字符串

```
sql = "insert into transactions (`transid`) values('" + Text1.Text + "')"
sql = sql & "; insert into customer (`custid`) values('" + Text2.Text + "')"
sql = sql & "; insert into customer (`custname`) values('" + Text3.Text + "')"
sql = sql & "; insert into transactions (`custid`) values('" + Text2.Text + "')"
sql = sql & "; insert into transactions (`serviceid`) values('" + Combo1.Text + "')"
sql = sql & "; insert into transactions (`empid`) values('" + Combo2.Text + "')"
 submit.CommandText = sql 
```

我应该在 submit.CommandText = sql 中输入什么，我无法理解这部分内容。请帮帮我。:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T04:37:38.457

看起来您可以将其简化为：

```
sql = "insert into transactions(transid, custid, serviceid, empid) _
 values('" + Text1.Text + "','" + Text2.Text + "', '" + Combo1.Text + "', '" + Combo2.Text "');"
sql = sql + " insert into customer(custid, custname) values('" + Text2.Text + "', '" + Text3.Text + "');" 
```

# php - 使用正则表达式检查 PHP 中的特定模式

> ID：15697330
> 
> 赞同：0
> 
> 时间：2013-03-29T04:26:18.000
> 
> 标签：php, regex

我正在尝试在 PHP 中创建以下正则表达式以匹配以下内容：

```
[2013-01-01 12:34:12.123] [USERNAME] something 
```

我能够获得第一部分的一部分，但我是 php 中的正则表达式的新手，任何帮助表示赞赏。

重要提示：上面的任何空格都可以是一个空格或多个空格。

（这是我到目前为止得到的）

```
/^[\[][0-9]{4}-[0-9]{2}-[0-9]{2}]/ 
```

我正在使用这个工具来测试我的正则表达式匹配： http: [//www.pagecolumn.com/tool/pregtest.htm](http://www.pagecolumn.com/tool/pregtest.htm)（只是想确认它是一个好的工具）。

更新：为了更清楚起见，可以是任意数量的文本，上面的空格可以是任意数量的空白，而 USERNAME 也可以是任意数量的文本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T04:30:25.163

```
\[\d{4}-\d{2}-\d{2}\s+[\d:.]+\]\s+\[\w+\]\s+something 
```

[http://rubular.com/r/BPGvFN4kwi](http://rubular.com/r/BPGvFN4kwi)

您没有具体说明您的规则。例如，第一部分可能需要是日期，但正则表达式可以匹配`13`月份。可以吗？还有什么是有效的“用户名”或“某事”？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T05:03:23.437

```
/^\[([0-9]{4}-[0-9]{2}-[0-9]{2})\s+([0-9]+:[0-9]+:[0-9]+(?:\.[0-9]+)?)+\]\s+\[([^\]]+)\]\s+(.+)/ 
```

附评论：

```
/^
\[ # "[" is a special char and should be escape
    ([0-9]{4}-[0-9]{2}-[0-9]{2}) # Use brackets for group and capture (see $matches in php function)
    \s+ # One or move space chars (space, tab, etc.)
    ([0-9]+:[0-9]+:[0-9]+(?:\.[0-9]+)?)+ # "(?: )" is a group without capturing
\]
\s+
\[([^\]]+)\] # "[^\]]+" - one or more any char except "]"
\s+
(.+) # One or more any char
/x 
```

PS：您可以使用“\d”而不是“[0-9]”并且（在这种情况下；为了灵活性）您可以使用“+”（“一个或多个字符”说明符）而不是“{4}”或“{2}”。

PPS： http: [//www.pagecolumn.com/tool/pregtest.htm](http://www.pagecolumn.com/tool/pregtest.htm)包含错误（不正确的反斜杠句柄），请尝试其他服务。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T05:16:38.753

由于您的格式具有分隔符（`[]`s），因此您不需要其他答案提供的检查。相反，您可以简单地使用

```
\[([^\]]*)\]\s+\[([^\]]*)\]\s+(.*) 
```

分解为

```
\[([^\]]*)\] // Capture all non-] chars within [ and ]; this is the date
\s+ // some space
\[([^\]]*)\] // Capture all non-] chars within [ and ] again; this is USERNAME
\s+ // some space
(.*) // Capture all the text after; this is something 
```

[您可以使用Debuggex](http://www.debuggex.com/?re=%5C%5B%28%5B%5E%5C%5D%5D%2a%29%5C%5D%5Cs%2b%5C%5B%28%5B%5E%5C%5D%5D%2a%29%5C%5D%5Cs%2b%28.%2a%29&str=%5B2013-01-01%2012:34:12.123%5D%20%5BUSERNAME%5D%20something)逐步完成此正则表达式。

# ios - 我没有使用任何启动图像警告问题

> ID：15697334
> 
> 赞同：2
> 
> 时间：2013-03-29T04:26:40.263
> 
> 标签：ios, xcode

我没有为项目使用任何*启动图像*，但它在 xcode 中显示*黄色标志（这是一个警告标志） 。*
有没有办法解决这个警告？我无法理解我没有任何启动图像那么为什么它显示错误？

![在此处输入图像描述](../Images/bbabb9b17b3934ef8407def656745735.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T04:31:40.413

创建您的启动图像，从 iOS 5 开始，至少四个用于 iPad，两个用于 iPhone。为您的图像命名如下：（我使用的名称只是一个示例，您可以使用任何您想要的名称。）

```
iPadLaunchImage-Portrait.png
iPadLaunchImage-Portrait@2x.png
iPadLaunchImage-Landscape.png
iPadLaunchImage-Landscape@2x.png

iPhoneLaunchImage.png
iPhoneLaunchImage@2x.png 
```

确保为每个设备使用不同的名称。您有更多适用于 iPad 的选项，您可以在文档中了解这些选项。

将所有这些图像放在应用程序包目录的顶部。然后你要做的就是向 YourApp-Info.plist 添加两个键。

```
Launch Image(iPad) string iPadLaunchImage
Launch Image(iPhone) string iPhoneLaunchImage 
```

# python - 通过函数为 many2one 子字段设置值？

> ID：15697337
> 
> 赞同：-2
> 
> 时间：2013-03-29T04:27:07.267
> 
> 标签：python, xml, function, openerp

下面是我的视图 xml 和模型类。我有一个表格来添加记录，它工作正常。但我需要为那个子孩子的 onchange 事件设置值。[我也从文档](http://doc.openerp.com/trunk/developers/server/03_module_dev_03/?highlight=onchange)中引用了这个链接。

这是我的模块[GIT HUB REPO](https://github.com/priyankahdp/openerp)的全部代码：

```
<field name='selected_tea_workers_line_ids' nolabel='1'>
<tree string='List' readonly='1'>
<field name='tea_line_worker_id' invisible="0" />
<field name='worker_id' />
<field name='is_selected' />
</tree>
</field>

    def on_change_division(self, cr, uid, ids, bpl_division_id):
        v = {}
        if bpl_division_id:
            work_offer = self.pool.get('bpl.work.offer').browse(cr, uid, 2)
            v['selected_tea_workers_line_ids'] = work_offer.selected_tea_workers_line_ids
            if work_offer.selected_tea_workers_line_ids:
                for record_item in work_offer.selected_tea_workers_line_ids:
                    v['tea_line_worker_id'] = record_item.selected_tea_workers_line_ids.tea_line_worker_id
                    v['worker_id'] = record_item.selected_tea_workers_line_ids.worker_id
                    v['is_selected'] = record_item.selected_tea_workers_line_ids.is_selected
        return {'value':v} 
```

想法是这样的：如果我选择公司 -> 部门 -> 则需要加载与该部门相关的所有工作人员（作为列表。他们有他们的姓名和工作）。

下面，我添加了示例图片

![在此处输入图像描述](../Images/4e3ebcc5970811787a736ebc50e9348b.png)

**得到了答案**

```
def on_change_division(self, cr, uid, ids, division_id):
    v = {}
    list_data = []
    if division_id:
        worker_ids = self.pool.get('bpl.worker').search(cr, uid, [('bpl_division_id', '=', division_id)])
        for record in self.pool.get('bpl.worker').browse(cr, uid, worker_ids):
            list_data.append({'worker_id': record.id})
        v['selected_tea_workers_line_ids'] = list_data
        return {'value':v} 
```

积分需要去[user1576199](https://chat.stackoverflow.com/users/1576199/user1576199)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T08:49:17.703

我对您的代码感到困惑，我无法理解此代码背后的登录名是什么。你想做什么

但我将向您展示一个示例，如何从 on change 函数中设置 one2many 字段中的值

```
def on_change_code_id(self, cr, uid, ids, code_id, context=None):

    list_lines = []
    result = {'value': {}}
    req_obj = self.pool.get('code.requisition')

    data = req_obj.browse(cr, uid, code_id)

    for line in data.line_ids:
        list_lines.append({'product_id': line.product_id.id or False,
                           'product_qty': line.product_qty or 0,
                           'name': line.product_id.name,
                           'product_uom': line.product_uom_id.id,
                           'date_planned': time.strftime('%Y-%m-%d')
                        })

    result['value']['order_line'] = list_lines

    return result 
```

在您看到的代码中，我们必须返回字典列表以在 one2many 中设置值，您必须提供 one2many 对象字段的所有必需值。希望这有帮助

# python - Python中的分箱频率分布

> ID：15697350
> 
> 赞同：7
> 
> 时间：2013-03-29T04:28:02.340
> 
> 标签：python, numpy, histogram

我在两个列表*value*和*freq*中有数据，如下所示：

```
值频率
1 2
2 1
3 3
6 2
7 3
8 3
……

```

我希望输出是

```
分频
1-3 6
4-6 2
7-9 6
...

```

我可以写几行代码来做到这一点。但是，我正在寻找标准 python 或 Numpy 中是否有 builitin 函数？当您在数组/列表中重复给出数据时，我找到了解决方案，即它们尚未分组到频率表中（例如 `d= [1,1,2,3,3,3,6,6,7,7,7,8,8,8,...]`。但是，在这种情况下我找不到答案。我不想将我的数据转换为单个像第一个一样扩展列表`d`并使用直方图函数。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-29T05:37:49.157

```
import numpy as np
values = [1,2,3,6,7,8]
freqs = [2,1,3,2,3,3]

hist, _ = np.histogram(values, bins=[1, 4, 7, 10], weights=freqs)
print hist 
```

输出：

```
[6 2 6] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T05:17:45.667

你可以试试这个：

```
import collections
d=[1,1,2,3,3,3,6,6,7,7,7,8,8,8]
collections.Counter([i-i%3+3 for i in d]) 
```

它会生成一个你想要的字典。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T05:38:26.307

> 当您在数组/列表中重复给出数据时，我找到了解决方案

您没有说解决方案是什么，但如果它支持采用迭代器，您可以*生成*它，而不是创建整个列表：

导入迭代工具

```
values = [1,2,3,6]
freqs =  [2,1,3,2]

v_iter = itertools.chain(*[ itertools.repeat(v,f) for v, f in zip(values, freqs) ])

#for x in v_iter:
#    print x

your_solution(v_iter) 
```

# apache - 表单提交的重写规则

> ID：15697351
> 
> 赞同：0
> 
> 时间：2013-03-29T04:28:06.530
> 
> 标签：apache, .htaccess, mod-rewrite

我对此很陌生。我有一个包含 4 个字段的表单。Field1 - 4 方法 GET。所以当我提交表单时 url 变为 mydomain.com/page.php?field1=f1&field2=f2&field3=F3&field4=f4。

我想将其更改为 mydomain.com/newPath/f1/f2/F3/f4/

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T04:39:37.497

你想要一个 301 重定向，因为这样它会隐藏带有 & 符号的新 URL：

这称为干净的 URL，您可以使用在 htaccess 文件中满足您需要的正则表达式来实现它：

[清理 URL htaccess](https://stackoverflow.com/questions/8861168/clean-url-htaccess)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T04:33:46.360

你实际上想要一个重定向。你会重写

```
domain.com/path/a/b/c/d 
```

至

```
domain.com/path/?w=a&x=b&y=c&z=d 
```

但是，如果您希望服务器直接发送这样的请求

```
domain.com/path/?w=a&x=b&y=c&z=d 
```

对于这样的人，您实际上是在重定向用户。

```
domain.com/path/a/b/c/d 
```

# node.js - Zombie.js 多次访问的“断言未定义”？

> ID：15697354
> 
> 赞同：4
> 
> 时间：2013-03-29T04:28:17.497
> 
> 标签：node.js, coffeescript, mocha.js, zombie.js, chai

我正在使用 Zombie.js 和 Mocha 设置集成测试，并遇到了一个令人费解的问题，即只有第一次`browser.visit()`调用似乎成功。我的规格如下所示：

```
browser = new Browser site: "http://localhost:101010"

describe '/docs', ->
  ['app', 'server', 'timetable', 'util'].forEach (file) ->
    describe "/#{file}.html", -> it "documents #{file}.coffee", (done) ->
      browser.visit "/docs/#{file}.html", ->
        browser.text('title').should.equal "#{file}.coffee"
        do done 
```

第*一个*加载的测试顺利`/docs/app.html`通过。但是，所有后续测试都失败了，产生如下的堆栈跟踪：

```
 ReferenceError: assert is not defined
  at Object.HTML5Parser.phases.inBody.startTagBody (/home/$USER/projects/timetable/node_modules/zombie/node_modules/html5/lib/html5/parser.js:1828:4)
  at Object.HTML5Parser.phases.base.processStartTag (/home/$USER/projects/timetable/node_modules/zombie/node_modules/html5/lib/html5/parser.js:65:40)
  at EventEmitter.Parser.do_token (/home/$USER/projects/timetable/node_modules/zombie/node_modules/html5/lib/html5/parser.js:2436:21)
  at EventEmitter.<anonymous> (/home/$USER/projects/timetable/node_modules/zombie/node_modules/html5/lib/html5/parser.js:2457:30)
  at EventEmitter.emit (events.js:117:20)
  at EventEmitter.emitToken (/home/$USER/projects/timetable/node_modules/zombie/node_modules/html5/lib/html5/tokenizer.js:99:9)
  at emit_current_token (/home/$USER/projects/timetable/node_modules/zombie/node_modules/html5/lib/html5/tokenizer.js:873:3)
  at tag_name_state (/home/$USER/projects/timetable/node_modules/zombie/node_modules/html5/lib/html5/tokenizer.js:400:4)
  at EventEmitter.<anonymous> (/home/$USER/projects/timetable/node_modules/zombie/node_modules/html5/lib/html5/tokenizer.js:941:10)
  at EventEmitter.emit (events.js:95:17)
  at EventEmitter.HTML5Tokenizer.pump (/home/$USER/projects/timetable/node_modules/zombie/node_modules/html5/lib/html5/tokenizer.js:932:11)
  at EventEmitter.HTML5Tokenizer.tokenize (/home/$USER/projects/timetable/node_modules/zombie/node_modules/html5/lib/html5/tokenizer.js:89:23)
  at EventEmitter.Parser.parse (/home/$USER/projects/timetable/node_modules/zombie/node_modules/html5/lib/html5/parser.js:2391:17)
  at HtmlToDom.appendHtmlToElement (/home/$USER/projects/timetable/node_modules/zombie/node_modules/jsdom/lib/jsdom/browser/htmltodom.js:91:50)
  at Object.innerHTML (/home/$USER/projects/timetable/node_modules/zombie/node_modules/jsdom/lib/jsdom/browser/index.js:481:17)
  at Object.core.HTMLDocument.write (/home/$USER/projects/timetable/node_modules/zombie/node_modules/jsdom/lib/jsdom/level2/html.js:406:22)
  at Object.exports.jsdom (/home/$USER/projects/timetable/node_modules/zombie/node_modules/jsdom/lib/jsdom.js:70:9)
  at History._createDocument (/home/$USER/projects/timetable/node_modules/zombie/lib/zombie/history.js:174:22)
  at /home/$USER/projects/timetable/node_modules/zombie/lib/zombie/history.js:126:30
  at /home/$USER/projects/timetable/node_modules/zombie/lib/zombie/resources.js:147:16
  at Request._callback (/home/$USER/projects/timetable/node_modules/zombie/lib/zombie/resources.js:335:16)
  at Request.self.callback (/home/$USER/projects/timetable/node_modules/zombie/node_modules/request/main.js:120:22)
  at Request.EventEmitter.emit (events.js:98:17)
  at Request.<anonymous> (/home/$USER/projects/timetable/node_modules/zombie/node_modules/request/main.js:633:16)
  at Request.EventEmitter.emit (events.js:95:17)
  at IncomingMessage.<anonymous> (/home/$USER/projects/timetable/node_modules/zombie/node_modules/request/main.js:595:14)
  at IncomingMessage.EventEmitter.emit (events.js:117:20)
  at _stream_readable.js:872:14
  at process._tickCallback (node.js:415:13) 
```

Zombie 是否`browser.visit()`不打算被多次调用，还是这里有其他问题？

编辑注释版本：

*   Node.js v0.10.1
*   摩卡 v1.8.1
*   柴 v1.5.0
*   僵尸.js v1.4.1

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T12:18:18.173

这似乎是 Node 版本 >=0.10 中出现的兼容性问题，如此处所述：[https ://github.com/assaf/zombie/issues/487](https://github.com/assaf/zombie/issues/487)

[https://github.com/assaf/zombie/issues/487#issuecomment-15548684](https://github.com/assaf/zombie/issues/487#issuecomment-15548684)中提到的解决方法解决了我的特定问题。`testi/common.coffee`在导入 Zombie 之前，我将以下代码添加到我的文件中：

```
do patchEventEmitterToHideMaxListenerWarning = ->
  return if global.eventEmitterPatched
  global.eventEmitterPatched = true
  events = require 'events'
  Old = events.EventEmitter
  events.EventEmitter = ->
    this.setMaxListeners(0)
  events.EventEmitter.prototype = Old.prototype 
```

这样做后，我所有的测试都毫无怨言地通过了。我希望这个问题会在未来的 Zombie 版本中得到修复，但目前上述 hack 使其可行。

# c++ - 枚举和函数

> ID：15697361
> 
> 赞同：0
> 
> 时间：2013-03-29T04:28:46.133
> 
> 标签：c++, function, enums

我在`CDrawView`课堂上有这个枚举声明：

```
enum shape{line, rect, elli}; 
```

在我的另一个名为 Shapemaker 的类中，我有一个函数应该从`CDrawView`类中获取枚举并评估它们

```
 Shape* Shapemaker::shapeCreate(CDrawView::shape)
 {
  if(CDrawView::shape.line == 0)
    return new Line();

  else if(CDrawView::shape.rect == 1)
    return new Rect();

  else if (CDrawView::shape.ellip == 2)
    return new Ellip();
 } 
```

我通过调用函数`Shapemaker::shapeCreate(current_shape)`where`current_shape`只是`enum shape`.

```
 shape current_shape; 
```

这给了我编译错误：

```
error C2653: 'CDrawView' : is not a class or namespace name
Shapemaker.h(7): 
```

我不完全确定这是否是使用枚举和函数甚至比较枚举的正确方法。

```
error C2061: syntax error : identifier 'shape'
'Shapemaker::shapeCreate' : function does not take 1 arguments 
```

### CDrawView.h

```
class CDrawView : public CScrollWindowImpl<CDrawView>
{
  public:

   CDrawView();
   enum shape{line, rect, elli};
       shape current_shape;
       //...
}; 
```

文件定义`Shapemaker::shapeCreate()`在`#include "CDrawView.h"`顶部。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-29T04:49:05.163

使用`CDrawView::line`而不是`CDrawView::shape.line`.

仅在`CDrawView::shape`需要类型时使用 - 例如用于声明变量。

```
A::shape var = A::line; 
```

下面的代码也是没有意义的

```
Shape* Shapemaker::shapeCreate(CDrawView::shape)
{
    if(CDrawView::shape.line == 0)
        return new Line();

    else if(CDrawView::shape.rect == 1)
        return new Rect();

    else if (CDrawView::shape.ellip == 2)
        return new Ellip();
} 
```

将其更改为

```
Shape* Shapemaker::shapeCreate(CDrawView::shape s)
{
    if(s == CDrawView::line)
        return new Line();

    else if(s == CDrawView::rect)
        return new Rect();

    else if (s == CDrawView::ellip)
        return new Ellip();
} 
```

或者甚至更好地将其更改为使用`switch case`.

原代码有很多问题

1.  您没有函数参数的变量名称 - 我已将其更改为为变量命名`s`。
2.  `CDrawView::line`是一个常数 - 它总是 0。所以它总是会返回`true`。您的函数将始终返回`new Line()`。
3.  其他`if`s 也在比较 2 个常量，并且`true`如果它们曾经达到也会返回 - 他们不会。

# c# - NavigationService.BackStack.FirstOrDefault() 不包含 Windows Phone 8 中的定义？

> ID：15697363
> 
> 赞同：3
> 
> 时间：2013-03-29T04:29:00.407
> 
> 标签：c#, windows-phone-8, navigationservice

我正在尝试使用 WP8 中的以下内容获取导航中的最后一页

```
var lastPage = NavigationService.BackStack.FirstOrDefault(); 
```

然而，Visual Studio 12 抱怨它不包含`FirstOrDefault`

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-29T07:09:26.550

不要忘记`using System.Linq;`在代码文件的顶部添加。

# android - 小部件提供者的生命周期

> ID：15697365
> 
> 赞同：1
> 
> 时间：2013-03-29T04:29:02.217
> 
> 标签：android

我很难找到这方面的文档。对于 android 小部件的提供者，该特定提供者对象的生命周期是什么？我注意到，如果我开始一个异步测试，然后再查找该对象，它就消失了。（通过观察我可以从 onReceive 调用 onUpdate，并且我可以告诉接收到的将是活动的，直到 onUpdate 完成）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T04:32:59.093

`AppWidgetProvider`是一个`BroadcatReceiver`。您可以在有关 BroadcatReceive 等 AppWidgetProvider 中找到有用的信息。[谷歌文档](https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&cad=rja&ved=0CDQQFjAA&url=http://developer.android.com/reference/android/content/BroadcastReceiver.html&ei=4BlVUYSXI82Z0AXJ34DgAQ&usg=AFQjCNH03p-pz2dqqdiGMIA_Twr7g7fwxg&sig2=HBBZd2h3eH4cc6Hug7_7tw&bvm=bv.44442042,d.d2k)说：

> BroadcastReceiver 对象仅在调用 onReceive(Context, Intent) 期间有效。一旦您的代码从此函数返回，系统就会认为该对象已完成且不再处于活动状态。
> 
> 这对你在 onReceive(Context, Intent) 实现中可以做的事情有重要的影响：任何需要异步操作的东西都不可用，因为你需要从函数返回来处理异步操作，但此时 BroadcastReceiver 是不再活动，因此系统可以在异步操作完成之前自由地终止其进程。
> 
> 特别是，您可能不会在 BroadcastReceiver 中显示对话框或绑定到服务。对于前者，您应该改用 NotificationManager API。对于后者，您可以使用 Context.startService() 向服务发送命令。

也看看[这个网页](http://www.cinterviews.com/2009/11/broadcast-receiver-lifecycle-in-android.html)。

# java - Web 浏览器链接操作

> ID：15697373
> 
> 赞同：0
> 
> 时间：2013-03-29T04:30:07.660
> 
> 标签：java, javafx-2

```
public class WebWiewYahoo extends Application {
    public static void main(String[] args) {
        launch(args);
    }

    @Override
    public void start(Stage stage) throws Exception {
        VBox root = new VBox();
        Button go = new Button("go");
        final TextField address = new TextField("http://www.yahoo.com");
        final WebView browser = new WebView();
        final WebEngine webEngine = browser.getEngine();
        HBox toolBar1 = new HBox();

        toolBar1.setAlignment(Pos.TOP_LEFT);
        toolBar1.getChildren().addAll(address, go);

        // load the web page
        webEngine.load("http://www.yahoo.com");

        root.getChildren().add(toolBar1);
        root.getChildren().add(browser);
        Scene scene = new Scene(root);
        stage.setScene(scene);
        stage.show();
    }
} 
```

//我想在浏览器中操作链接。因此，即使在任何时候单击任何链接，我都可以将其重定向到 yahoo.com。请帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T11:27:54.883

你可以尝试这样做：

```
webEngine.getLoadWorker().stateProperty().addListener(new ChangeListener<State>() {
    @Override
    public void changed(ObservableValue<? extends State> paramObservableValue,
                        State oldState,
                        State newState) {
        if (State.SCHEDULED == newState && !"http://www.yahoo.com/".equals(webEngine.getLocation())) {
            webEngine.load("http://www.yahoo.com");
        }
    }
}); 
```

# php - 获取未显示的数组的特定值

> ID：15697377
> 
> 赞同：0
> 
> 时间：2013-03-29T04:30:28.310
> 
> 标签：php, multidimensional-array

这就是我的数组的样子：

```
Array ( 
    [0] => SimpleXMLElement Object ( 
        [key] => Array ( 
            [0] => Track ID 
            [1] => Name 
            [2] => Artist 
            [3] => Album Artist 
            [4] => Composer 
            [5] => Album 
            [6] => Genre 
            [7] => Kind 
            [8] => Size 
            [9] => Total Time 
            [10] => Disc Number 
            [11] => Disc Count 
            [12] => Track Number 
            [13] => Year
            [14] => Date Modified 
            [15] => Date Added 
            [16] => Bit Rate
            [17] => Sample Rate
            [18] => Play Count 
            [19] => Play Date
            [20] => Play Date UTC
            [21] => Artwork Count
            [22] => Persistent ID
            [23] => Track Type
            [24] => Location
            [25] => File Folder Count 
            [26] => Library Folder Count ) 
        [integer] => Array ( 
            [0] => 2056 
            [1] => 3732918 
            [2] => 230661 
            [3] => 1
            [4] => 1
            [5] => 1
            [6] => 1993
            [7] => 128 
            [8] => 44100 
            [9] => 3
            [10] => 3439412487 
            [11] => 1 
            [12] => 5 
            [13] => 1 ) 
        [string] => Array ( 
            [0] => Eye of the Tiger 
            [1] => Survivor 
            [2] => Survivor 
            [3] => Frankie Sullivan/Jim Peterik 
            [4] => Greatest Hits 
            [5] => Rock 
            [6] => MPEG audio file 
            [7] => 772F0F53F195E705 
            [8] => File 
            [9] => file://localhost/Users/cameron/Music/iTunes/iTunes%20Media/Music/Survivor/Greatest%20Hits/01%20Eye%20of%20the%20Tiger.mp3 ) 
        [date] => Array ( 
            [0] => 2012-08-27T17:01:00Z 
            [1] => 2012-08-27T17:01:03Z 
            [2] => 2012-12-27T07:21:27Z ) ) 
```

这是 1 个结果，其中大约有 50 个重复。

在这种情况下，我正在尝试选择艺术家值：Frankie Sullivan/Jim Peterik 请注意：在第一个结果之后还有大约 50 个其他结果，所以我想做一个 foreach 来显示所有结果。有什么建议么？我被卡住了。这是我用来获得这些结果的代码：

```
$xml = simplexml_load_file('Library.xml');
$xmlx = $xml->dict->dict->dict->key;
$artist = $xmlx->xpath("//dict[key='Artist']");

echo "<pre>" . print_r($artist, true) . "</pre>"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T04:46:05.647

似乎您有一个 数组`SimpleXMLElement`，因此您可以遍历您的数组并使用这些`SimpleXMLElement`设施。

尝试：

```
foreach($yourArray as $simpleXmlElement)
{
    // Retrieve the name
    echo $simpleXmlElement->string[3];
} 
```

查看文档以了解更多问题：[SimpleXMLElement](http://www.php.net/manual/fr/class.simplexmlelement.php)

对于您的具体问题，假设`key`和`string`是同步的，您可以尝试：

```
// Loop on your array of SimpleXMLElement
foreach($yourArray as $simpleXmlElement)
{
    // Initialize the position and found value
    $position = 0;
    $found = false;

    // Loop on the sub array 'key' and search the 'Artist Album' position
    foreach($simpleXmlElement->key as $index => $value)
    {
        if ($value == "Album Artist")
        {
            $found = true;
            break;
        }

        // Not found, increment position
        $position++;
    }

    // Retrieve the name if found the artist album key
    if ($found)
        echo $simpleXmlElement->string[$position];
} 
```

作为

```
[3] => Album Artist 
```

将给出位置 3

然后，在检索字符串值时，它会返回`Frankie Sullivan/Jim Peterik`

# objective-c - 游戏中心集成错误

> ID：15697380
> 
> 赞同：0
> 
> 时间：2013-03-29T04:30:51.333
> 
> 标签：objective-c, cocoa-touch

我正在尝试将 GameCenter 集成到我的 iPhone 应用程序中。我想要做的是将 NSString highScore 上传到我的 Game Center 排行榜。我遇到了关于字符串兼容性的问题，我不确定从这里该怎么做。这是我想将 highScore NSString 上传到 GameCenter 时调用的 void

```
-(void)submitScore {
int x = [highScore floatValue];
score=&x;
GKScore *myScoreValue = [[GKScore alloc] initWithCategory:@"grumpyEscapeHighScoresLeaderboard"];
myScoreValue.value = score;

[myScoreValue reportScoreWithCompletionHandler:^(NSError *error){
    if(error != nil){
        NSLog(@"Score Submission Failed");
    } else {
        NSLog(@"Score Submitted");
    }

}];
} 
```

当它提交时，我在 GameCenter (803,089,816) 中得到一个巨大的数字，即使 highScore NSString 的值为 6。这是错误消息：

```
Incompatible pointer to integer conversion assigning to 'int64_t' (aka 'long long') from 'int*' 
```

在我的 ViewController.h 中，我将 score 定义为

```
int *score; 
```

我对Objective C和一般编码非常陌生。对不起，如果这个问题对其他人来说似乎很愚蠢。我已经尝试研究了很长时间如何做到这一点，但找不到任何答案。 [这](http://vivianaranha.com/integrating-apple-gamecenter-to-your-application/)是我从中获取代码并为我自己的项目修改它的教程。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T04:34:38.053

没有理由在此处使用 an`int *`而不是 an作为您的得分值，同样，如果您仅在方法中使用它，`int`也没有理由将其存储到您的实例变量中。`score``-submitScore`

```
- (void)submitScore {
    GKScore *myScoreValue = [[GKScore alloc] initWithCategory:@"grumpyEscapeHighScoresLeaderboard"];
    myScoreValue.value = [highScore integerValue];

    [myScoreValue reportScoreWithCompletionHandler:^(NSError *error){
        if(error != nil){
            NSLog(@"Score Submission Failed");
        } else {
            NSLog(@"Score Submitted");
        }

    }];
} 
```

# javascript - 带有字符串键的 Javascript 数组

> ID：15697382
> 
> 赞同：0
> 
> 时间：2013-03-29T04:30:52.957
> 
> 标签：javascript

是否可以在 JavaScript 中创建一个带有字符串 Key. 的数组？

例如：-

```
arr[0]['col1']="Firstname";
arr[0]['col2']="Lastname";

arr[1]['col1']="firstname1";
arr[1]['col2']="lastname2"; 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-29T04:32:31.513

是的，但它被称为对象，而不是数组。

```
arr = [{col1: 'Firstname', col2: 'Lastname'},
    {col1: 'Firstname', col2: 'Lastname'}]; 
```

`arr[0]['col1']`您可以通过甚至访问（分配或检索）值`arr[0].col1`。

编辑：为澄清起见，看起来像带有字符串键的数组的数据结构称为*object*。此示例仍在使用数组（带有数字键）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T04:33:52.187

是的，通过使用对象：

```
var ar = [
    {  col1: "...", col2: "..." },
    {  col1: "...", col2: "..." },
]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-29T04:38:04.403

您很可能希望使用[对象文字](http://answers.oreilly.com/topic/2138-how-to-use-object-literals-in-javascript/)：

```
var studentAges = {
  sara: 14,
  mike: 17,
  daniel: 15,
  Jake: 14
}; 
```

JavaScript 中没有关联数组。

# security - login_check 时的 Symfony 身份验证错误

> ID：15697383
> 
> 赞同：0
> 
> 时间：2013-03-29T04:31:07.390
> 
> 标签：security, exception, symfony, doctrine

## 介绍

我一直在关注 Symfony2 Security 的这两个文档教程：

[http://symfony.com/doc/current/book/security.html](http://symfony.com/doc/current/book/security.html)

[http://symfony.com/doc/current/book/security.html#loading-users-from-the-database](http://symfony.com/doc/current/book/security.html#loading-users-from-the-database)

## 问题

现在，当我尝试在 localhost/login 登录时，它要么使用“错误凭据”将我带回 /login（这很好），要么将我带到 /login_check 并发生错误（我还没有找到何时的模式它做什么）。

## 错误

SCREAM：忽略错误抑制

> 致命错误： C:\wamp\www\minimumCrayon\vendor\symfony\symfony\src\Symfony\Component\ 中 Exception([string $exception [, long $code [, Exception $previous = NULL]]]) 的参数错误第 25 行的 Security\Core\Exception\AuthenticationException.php

我试过四处寻找有类似错误的人，但我迷路了。

编辑：这是我的 security.yml 文件

```
jms_security_extra:
    secure_all_services: false
    expressions: true

security:
    encoders:
        WikiRoster\MainBundle\Entity\Account:
            algorithm:        sha1
            encode_as_base64: false
            iterations:       1

    role_hierarchy:
        ROLE_ADMIN:       ROLE_USER
        ROLE_SUPER_ADMIN: [ROLE_USER, ROLE_ADMIN, ROLE_ALLOWED_TO_SWITCH]

    providers:
        administartors:
            entity: { class: AcmeMainBundle:Account}

    firewalls:
        secured_area:
            pattern:    ^/
            anonymous: ~
            form_login:
            login_path: /login
            check_path: /login_check
        admin_area:
            pattern:    ^/admin
            http_basic: ~

    access_control:
        - { path: ^/admin, roles: ROLE_ADMIN } 
```

# arrays - 在VB中试图创建一个属性数组

> ID：15697390
> 
> 赞同：0
> 
> 时间：2013-03-29T04:32:16.750
> 
> 标签：arrays, vb.net, properties

我正在尝试创建一个属性数组。为了简化我的问题，我创建了一个迷你项目

项目：我有 3 个形状，当我按下按钮时会改变颜色和数字。我为每组属性创建了一个类。

```
Public Class Shape
  Dim _color As Color

End Class 
```

添加几个对象进行测试（首先编码颜色）

```
 Public Shared Sub Main()

    Dim ShapeList As New List(Of Shape)
    ShapeList .Add(New Shape() With {_color = Color.Blue})
    ShapeList .Add(New Shape() With {_color = Color.Green})
    ShapeList .Add(New Shape() With {_color = Color.Red})

    Display()
  End Sub 
```

当按下按钮时，我希望显示来自对象数组的排序/随机集

```
Public Sub Display(ByVal ShapeList As Object)

    Dim ScreenObject As Array
    ScreenObject(0) With {.OvalShape1}  'This is where I am stuck
    ScreenObject(1) =  .OvalShape2      'How to create this property in the
                                        'ScreenObject array?

        For Each obj As Shape In ShapeList
        ScreenObject(0).Color = ShapeList(0).Color
End Sub 
```

澄清：这三个形状分别是 OvalShape1、2 和 3。但是对于我在VB中的一些小技能，我很难找到答案。

# jsf - 如何使用相同的对象在 JSF 中输入对象值以在 DataTable 中列出？

> ID：15697391
> 
> 赞同：0
> 
> 时间：2013-03-29T04:32:17.260
> 
> 标签：jsf, input, primefaces

好吧，我有两个豆子

## 第一豆

```
private int id;
private String name; 
```

getter 和 setter

## 二豆

```
private Firstbean fb;
private String x;
private String y; 
```

.... getter 和 setter

我在一个方法中使用它们来列出数据库中的对象，并列出我的问题是一个新条目....如果我把这个代码

```
<p:selectOneMenu value="#{beanCuenta.banco.codigo}">
                                <f:selectItem itemLabel="Seleccione Banco"/>   
                                <f:selectItems value="#{DAOBanco.listar()}" var="ban"
                                               itemValue="#{ban.codigo}" itemLabel="#{ban.nombre}"/>
                            </p:selectOneMenu> 
```

此处 selectOneMenu beanCuenta.banco.codigo 的值不起作用，但对于 dataTable 中的列表工作正常。

所以临时解决方案我在我的 secondbean 中创建了一个新变量，仅用于注册，但我不想要它

```
<p:selectOneMenu value="#{beanCuenta.codigoBanco}">  
                                <f:selectItem itemLabel="Seleccione Banco"/>   
                                <f:selectItems value="#{DAOBanco.listar()}" var="ban"
                                               itemValue="#{ban.codigo}" itemLabel="#{ban.nombre}"/>
                            </p:selectOneMenu> 
```

# asp.net - aspx 页面要求我在所有浏览器中打开或保存

> ID：15697399
> 
> 赞同：2
> 
> 时间：2013-03-29T04:33:09.280
> 
> 标签：asp.net, iis

我在服务器上运行 IIS 8 并将我的应用程序配置为以管道模式在 4.0 中运行：集成并添加了 mime 类型以添加​​ .aspx 扩展名，每当我尝试查看我的 .aspx 页面时，浏览器都会要求我打开或保存文件。但是 html 文件打开时没有任何问题。

我不知道为什么我无法打开我的 .aspx 页面。

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-02T02:13:51.667

您不必添加自定义 MIME 类型来提供 ASPX 文件。您使用了哪种 MIME 类型？如果你删除它会发生什么？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T14:24:18.760

我解决了我的问题 - 我不确定这是否适用于其他人，但我在 VS2010 中创建了一个新网站，这与我之前作为项目所做的不同，并将除 web.config 之外的所有文件复制到这个新创建的网站中然后在 IIS 8 中创建了一个新的虚拟目录并将文件夹映射到 wwwroot 并将其转换为应用程序，现在，我的 IIS 服务于 .aspx 页面没有任何问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-11-01T14:52:40.837

在 IIS8 中，您不应该为 ASPX 页面添加 MIME，因为它在错误本身中明确说明，不要为 ASPX 或您不想下载的任何其他页面添加 MIME。在解决方案中（在 IIS8 中）是检查应用程序服务器。 [![在此处输入图像描述](../Images/f8012daac05c6cdb66141e19439391dc.png)](https://i.stack.imgur.com/19Cgl.png)

# c - C程序中的SIGXCPU错误

> ID：15697410
> 
> 赞同：2
> 
> 时间：2013-03-29T04:34:51.243
> 
> 标签：c, recursion, infinite-loop

以下程序不产生输出。它进入 for 循环并取一个值（通过`scanf`），但之后代码块停止执行。Ideone（一个在线编译器和调试工具）说生成了 SIGXCPU 信号。

```
#include <stdio.h>
#include <stdlib.h>

long fact(int);
int z(int);

int main()
{
    int i, n; 
    scanf("%d",&n); 
    int a[10];long b[10];
    int c[10];
    for(i=0;i<n;i++)
    {
        scanf("%d", &a[i]);
        b[i]=fact(a[i]);
        c[i]=z(b[i]);
    }
    printf("\n");
    for(i=0; i<n; i++)
    {
        printf("%d", c[i]);
    }
    return 0;
}

long fact(int m)
{
    if (m==1) return 1;
    else return (m*fact(m-1));
}

int z (int s)
{
    int c=0, temp;
    temp=s%10;
    if(temp!=0) return c;
    else
    {
        c++; z(temp);
    }
} 
```

SIGXCPU 信号是什么意思？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-29T04:51:43.863

信号在`SIGXCPU`超过其消耗的处理器时间限制 ( ) 后每秒发送到一个进程[`RLIMIT_CPU`](http://pubs.opengroup.org/onlinepubs/9699919799/functions/getrlimit.html)，或者，对于实时进程，它在不休眠的情况下运行的限制。这里的问题在于您的递归`z`函数不会停止并一次又一次地调用自身（并导致堆栈溢出）。修复其停止条件。

从[信号](http://pubs.opengroup.org/onlinepubs/009695399/basedefs/signal.h.html)手册页：

> ```
> Signal | Default Action | Description
> -------+----------------+-------------------------
> SIGXCPU| A              | CPU time limit exceeded. 
> ```
> 
> 默认操作如下：
> 
> **A** - 进程异常终止。此外，可能会发生实现定义的异常终止操作，例如创建核心文件。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-29T04:46:51.790

它可能会消耗比 ideone 允许的更多 CPU 时间和/或相关资源，因此您的程序不会使站点过载。

检查您的递归和终止条件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-10-08T09:59:03.107

如果您发现递归没有问题，那么您可以使用以下方法更改 CPU 时间限制（RLIMIT_CPU）：

```
setrlimit(); (set time slice for cpu) 
```

在这个程序中，我们将该进程的 cpu 时间设置为 15 秒。您可以根据需要进行设置，但请确保它尽快降低，因为您的 cpu 忙于执行该进程很长时间，我们失去了 cpu 的多任务处理和关心。

```
struct rlimit v;

v.rlim_cur=15;           //set the soft limit to 15 sec

setrlimit(RLIMIT_CPU,&v); 
```

之后所有完成，您将时间片设置为 cpu 15 秒。

希望你能理解。

# javascript - 将 LinkBut ton 放在 GridView 的单元格上，并在用户单击它时运行 javascript 函数

> ID：15697411
> 
> 赞同：1
> 
> 时间：2013-03-29T04:34:54.223
> 
> 标签：javascript, asp.net

我在 UpdatePanel 的页面上添加了一个 GridView 并将一个面板放在一个单元格中，并将 LinkBut​​ton 从后面的代码添加到这个面板，如下所示

```
Panel pnl = (Panel)GridView1.Rows[i].Cells[4].FindControl("pnlSteps");//pnlSteps is Panel's Id
LinkButton lnk = new LinkButton();
//...
pnl.Controls.Add(lnk); 
```

当用户单击每个链接按钮时，我想运行一个 javascript 函数，我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T04:36:24.907

像这样在函数上引发 OnClick 事件。

```
lnk.attributes.Add("onclick", "function()"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T04:40:04.230

你可以这样使用

```
Panel pnl = (Panel)GridView1.Rows[i].Cells[4].FindControl("pnlSteps");
LinkButton lnk = new LinkButton();
lnk.attributes.Add("onclick", "YourFunction();");
pnl.Controls.Add(lnk); 
```

并在java-script中创建一个函数如下

```
<script type="text/javascript">
  function YourFunction()
  {
        alert("function called");
        return false;//don't forgot this
  }
</script> 
```

# multithreading - 寻找在线播放音频的记忆解决方案 j2me

> ID：15697414
> 
> 赞同：0
> 
> 时间：2013-03-29T04:35:02.147
> 
> 标签：multithreading, memory-management, java-me

我是一名从事 j2me 应用程序的新程序员，我正在尝试创建应用程序来在线播放音乐，连接到服务器并且流媒体是好的。但是，我遇到了管理内存的问题。功能手机的内存很小，所以流后一次可以读取大约1M，但我期望的音频文件大约是30MB。那么这个问题的解决方案是什么。ps// 我尝试使用线程，但这很糟糕，因为更改线程之间的中断。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T06:24:21.483

我认为使用 JavaME 进行流式传输的最佳选择是使用 RTSP 协议。但我不知道设置它需要什么。

如果您坚持使用 HTTP，您可以让一个线程在另一个线程播放时获取数据。看起来您可以使用此应用程序测试该方法：http: [//handheld.softpedia.com/get/Video/J2MEStreaming-28778.shtml](http://handheld.softpedia.com/get/Video/J2MEStreaming-28778.shtml)

# php - 我将如何比较这些类型的字符串？

> ID：15697415
> 
> 赞同：0
> 
> 时间：2013-03-29T04:35:07.023
> 
> 标签：php, string, forms, string-comparison

我有一个脚本，允许用户提交搜索查询，通常以站点名称的形式或使用设备的 MAC 地址。我想让搜索尽可能简单，所以只需要一个搜索字段，并且不想用选择字段或单选按钮将其弄乱，以便用户指定他们正在搜索的内容。我想在后端自动处理这个问题。

以下是我希望以下列格式之一搜索站点名称的方式：

*字母和数字只是例子，可以是任何东西，只是这种格式。*

```
TX-DAL0099A1
TX-DAL0099A
TX-DAL0099
DAL0099A1
DAL0099A
DAL0099 
```

或按 MAC 地址

```
00 11 22 33 44 55
00:11:22:33:44:55
00.11.22.33.44.55
00-11-22-33-44-55
001122334455 
```

我正在寻找最好的方法来首先检查它是否是站点名称（第一个示例），然后如果不是，请确保它是 MAC 地址。我不想在搜索查询上运行 preg_replace 函数来去除任何杂项字符，如连字符、句点、冒号等，因为拥有站点名称的前缀 TX- 部分很重要——如果它实际上是正在搜索的站点名称。

注意：我需要知道站点名称是否有前缀，以及示例中的结尾 A/A1。这些很重要。

我希望这是有道理的。=/

哦，我正在用 PHP 做这个 - 忘了提。

更新：这个代码片段会起作用吗？

```
if(preg_match("/^([0-9A-F]{2}[:-\s]?){5}([0-9A-F]{2})$/", $input)) {
    // SEARCH IS A MAC ADDRESS
}
else if((($query = $mysqli->query("SELECT * FROM `table` WHERE `site` LIKE '%$input%'")) !== false) && $query->num_rows() > 0) {
    // SEARCH IS A SITE AND FOUND ROW IN DATABASE
}
else {
    // NEITHER SITE NOR MAC, OR COULDN'T BE FOUND
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-29T04:43:27.103

以下是一些应该有所帮助的片段。

看看我们是否有 MAC 地址（从[什么是 MAC 地址的正则表达式中获取（和调整）正则表达式模式？](https://stackoverflow.com/questions/4260467/what-is-a-regular-expression-for-a-mac-address)）：

```
if(preg_match("/^([0-9A-F]{2}[:-\s]?){5}([0-9A-F]{2})$/", $input)) {
   // We have a MAC address
} 
```

看看我们在输入中是否有破折号（表示前缀）以及它是什么：

```
$siteNamePieces = explode("-",$input);
if(count($siteNamePieces) >= 2) {
   // Site name has a prefix, and it is $siteNamePieces[0]
} 
```

看看我们是以 A 还是 A1 结尾：

```
if(substr($input, -1) == "A") {
   // Ends in A
} else if(substr($input, -2) == "A1") {
   // Ends in A1
} 
```

我希望这些将需要根据您正在寻找的不同类型的结尾进行调整，是否可以出现破折号而不一定意味着它是一个前缀等。我猜你需要去掉前缀和结尾并得到用于查询目的的核心站点名称值。

一旦您知道您正在处理什么样的数据（mac 地址、站点名称），您就可以适当地查询您的数据库。

希望这些能让你朝着正确的方向前进！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T04:45:45.483

下面的 SQL 查询将查找 site 与输入相似的行，或者 mac 正是输入。

```
SELECT * FROM `table` WHERE `site` LIKE '%$input%' OR `mac` = '$input'; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T06:49:02.170

您可以尝试使用 variable1 ==== variable2

它将字符串与数据类型进行比较，因为它具有三个等号字符，否则它只会比较值

# c# - 将字符串附加到 URL

> ID：15697422
> 
> 赞同：1
> 
> 时间：2013-03-29T04:35:55.697
> 
> 标签：c#, asp.net, url

我正在尝试修改服务器端的 DIV 标签内容。

```
string url = "www.mypage.com";
string html = "<a href='http://www.facebook.com/sharer.php?u='"+url+" title='Submit to Facebook' target='blank'><img src='http://itprism.com/plugins/content/itpsocialbuttons/images/big/facebook.png' alt='Submit to Facebook'></a>" +
"<a href='http://twitter.com/share?text=Atlas Paving &url='" + url + " title='Submit to Twitter' target='blank'><img src='http://itprism.com/plugins/content/itpsocialbuttons/images/big/twitter.png' alt='Submit to Twitter'></a>";

divSocial.InnerHtml = html; 
```

当我尝试导航到附加的 URL 时，我可以看到该 URL 没有正确生成。附加的网址为空。这里有什么问题

![在此处输入图像描述](../Images/188e63e3d3413740993d0751aca7cfc4.png)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-29T04:39:19.663

您的关闭 ' 不正确。它应该在 url 之后关闭：

```
string html = "<a href='http://www.facebook.com/sharer.php?u=" + url + "' title= ... 
```

避免此类难以发现的错误并使代码更易于阅读的一个好习惯是使用`string.Format`：

```
string html = string.Format("<a href='http://www.facebook.com/sharer.php?u={0}' title= ...", url); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T04:40:18.107

你能试一下吗：

```
string html = "<a href='http://www.facebook.com/sharer.php?u="+url+"' title='Submit to Facebook' target='blank'> 
```

代替：

```
<a href='http://www.facebook.com/sharer.php?u='"+url+" title='Submit to Facebook' target='blank'> 
```

我认为你关闭你的 href 属性有点太早了。

# android - 单击小部件不会打开新的活动

> ID：15697427
> 
> 赞同：1
> 
> 时间：2013-03-29T04:36:16.653
> 
> 标签：android, eclipse

我对制作 Android 应用程序真的很陌生；只是试图制作一个简单的小部件来告诉时间。如果您单击它，该小部件还将打开一个基本活动。Widget 和 Activity 位于 2 个不同的项目文件中（在同一个工作区中），因此我必须将 Activity 包导入以访问其类。

完整代码：

```
public class FirstWidget extends AppWidgetProvider {
RemoteViews view = null;

public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {
    Intent intent = new Intent(context, MainActivity.class);
    PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, intent, 0);
    view = new RemoteViews(context.getPackageName(), R.layout.main);
    view.setOnClickPendingIntent(R.id.widget_textview, pendingIntent);
    appWidgetManager.updateAppWidget(new ComponentName(context, FirstWidget.class), view);

    Timer timer = new Timer();
    timer.scheduleAtFixedRate(new MyTime(context, appWidgetManager), 1, 1000);
}
private class MyTime extends TimerTask {
    AppWidgetManager appWidgetManager;
    ComponentName thisWidget;
    DateFormat format = SimpleDateFormat.getTimeInstance(SimpleDateFormat.MEDIUM, Locale.getDefault());

    public MyTime(Context context, AppWidgetManager appWidgetManager) {
        this.appWidgetManager = appWidgetManager;
        thisWidget = new ComponentName(context, FirstWidget.class);
    }
    public void run() {
        Calendar cal = format.getCalendar();
        int day = cal.get(Calendar.DAY_OF_WEEK);
        switch (day) {
        case(2):
            view.setTextViewText(R.id.widget_textview, "MONDAY TIP " + format.format(new Date()));
            break;
        case(3):
            view.setTextViewText(R.id.widget_textview, "TUESDAY TIP " + format.format(new Date()));
            break;
        case(4):
            view.setTextViewText(R.id.widget_textview, "WEDNESDAY TIP " + format.format(new Date()));
            break;
        case(5):
            view.setTextViewText(R.id.widget_textview, "THURSDAY TIP " + format.format(new Date()));
            break;
        case(6):
            view.setTextViewText(R.id.widget_textview, "FRIDAY TIP " + format.format(new Date()));
            break;
        case(7):
            view.setTextViewText(R.id.widget_textview, "SATURDAY TIP " + format.format(new Date()));
            break;
        case(1):
            view.setTextViewText(R.id.widget_textview, "SUNDAY TIP " + format.format(new Date()));
            break;
        }
        appWidgetManager.updateAppWidget(thisWidget, view);
    }
}
} 
```

我在 Eclipse 中将 Activity 设为库，并通过 Properties->Android->Library 将其同步到 Widget。还通过 Properties->JAva Build Path->Activity Package 将 Activity 添加到 Widget 的 Java Build 路径。

当我将小部件导入模拟器时，小部件和应用程序都会下载。我也可以将两者都带到前面的屏幕上。该应用程序按预期工作（单击按钮，转到屏幕）。小部件每秒更新其时间和日期。

但是点击小部件什么也没做。

5 个小时以来一直在看不同的教程。没有看到我做错了什么。任何帮助都会很棒

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T08:00:53.673

终于弄明白了，有2个大问题。

1）我的小部件清单需要说明应用程序的所有活动，而不仅仅是主页（我的应用程序有 2 个页面）

```
<activity android:name="com.example.aubreysapp.MainActivity">
    <intent-filter> 
        <action android:name="android.intent.action.MAIN" />
        <action android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
</activity>
    <activity android:name="com.example.aubreysapp.DisplayMessageActivity" >
    <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <action android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
</activity> 
```

2）修复后，我被骂说无法安装该应用程序。取消选中它是一个图书馆，现在一切都很好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T07:42:12.247

您的 Activity似乎没有构造错误。如果您的 Activity 不是库`AppWigetProvider`，您会说您得到`ClassDefNotFoundException`了。所以我猜问题出在您的“意图”上。如果您的 Activity 未在清单中声明，则可能是由于 Activity 名称不正确创建意图的类，或者它可能在另一个包中，您的 AppWidgetProvider 在其中定义。所以我建议创建一个测试活动（在您的 AppWidgetProvider 的包中）并将其设置为“Launcher”，然后尝试打开您的“MainActivity”它。如果任何意图成功打开“MainActivity”，则可能适合在“AppWidgetProvider”中使用意图来创建您的“pendingintent”。

# python - python中的循环函数

> ID：15697431
> 
> 赞同：0
> 
> 时间：2013-03-29T04:36:38.907
> 
> 标签：python, loops, printing, echo

谁能告诉我以下代码有什么问题？（在 Python 2.7 中）

```
def echo(msg):
    print msg

def loop(x,y):
    a = 0
    while (a < x + 1):
        a = a + 1
        y

loop(5,echo("ok")) 
```

我应该得到“ok”五次，但我只会得到“ok”一次，不管我设置 x 是多少。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T04:41:43.597

echo("ok") 在将它传递给函数之前正在被评估，这就是你真正想要的

```
def loop(x,y, *args):
    a = 0
    while (a < x + 1):
            a = a + 1
            y(*args)

def echo(msg):
     print msg

loop(5,echo, "ok") 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T04:41:51.413

`echo("ok")`这是因为您在调用时正在评估`loop`。

您可能想要做的是`echo("ok")`在每次迭代时调用。

```
def echo(msg):
    print msg

def call_echo_ok():
    echo("ok")       

def loop(x,y):
    a = 0
    while (a < x + 1):
        a = a + 1
        y()

loop(5, call_echo_ok) 
```

请注意，这可以使用 lambda 函数更简洁地完成。

```
def echo(msg):
    print msg   

def loop(x,y):
    a = 0
    while (a < x + 1):
        a = a + 1
        y()

loop(5, lambda: echo('ok')) 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-03-29T04:39:17.603

你可以试试这个：

```
def loop(times,message):
     for i in range(times):
          print message

loop(5,"Ok") 
```

# android - Android 应用程序 - 在 apk 中捆绑视频是个坏主意？

> ID：15697432
> 
> 赞同：1
> 
> 时间：2013-03-29T04:36:44.980
> 
> 标签：android, video, mp4, apk

我有一个 Android 应用程序（客户端应用程序），它需要在应用程序中提供多个视频以进行本地播放。平均视频为 10MB+。我不相信这些视频会经常更新，如果有的话。这个应用程序可能永远不会在 Google Play 上托管，但将来可能会。它目前被视为企业应用程序。

应用程序中包含所有 mp4 视频（在 raw 文件夹中），apk 为 300-500MB（取决于使用的质量/压缩）。这有时无法在某些平板电脑上安装，因为它超时，或者 20 分钟后，它发现设备上没有足够的存储空间......

**一开始就在 apk 中包含 300+MB 的视频是不是一个坏主意？**由于它是一个企业应用程序，因此用户采用可能没有问题 - 所有客户都想要该应用程序。但是，.apks 是否会被压缩到一个单独的文件夹中，从而占用手机内存的两倍？我假设 .apks 安装到与 sdcard 或其他“外部存储”位置不同的分区中..

我的想法是创建一个没有视频的简单 apk，然后有一个 AsyncTask 或 Service（或队列机制，例如 Jake Wharton 的[Tape](http://square.github.com/tape/)项目，甚至[AndroidQuery](https://code.google.com/p/android-query/)）来在应用程序首次启动时处理视频的自动下载。但随后客户端必须托管所有这些视频文件以及 .apk 文件。我个人不认为这是一个问题。

此外，如果视频与 .apk 分开，那么它也开启了 Kindle 和 Nook 设备的可能性，因为这些市场对 .apk 文件大小有 MB 限制......

*这个 Android 应用程序应该是全视频合一的，还是拆分 .apk 和视频文件？*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T04:43:30.907

我不认为在应用程序本身中允许 300 MB 的视频是一个好主意，即使它是一个企业私有应用程序。

您是否看过 PlayStore 中的应用程序以及它们如何处理较大的文件？尤其是游戏。首先，它们将允许您下载应用程序的核心。下载核心后，它将下载必须工作的文件（可能是用户登录时将播放的初始视频）。之后，您可以让用户在必要的基础上从服务器下载视频，而不是强迫他们下载所有视频。

另一种选择是让他们流式传输视频。因此，您不必将任何视频下载到设备。想想存储空间非常有限的设备，这将是他们的理想解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T04:41:28.380

将大视频捆绑到 apk 中绝对是个坏主意。它甚至会导致在设备上安装 apk 的麻烦。

# xml - XML 和 XSLT 保留 CDATA

> ID：15697433
> 
> 赞同：3
> 
> 时间：2013-03-29T04:36:47.627
> 
> 标签：xml, xslt, cdata

我正在开发一个项目，其中包括在 xml 上应用一些 xslt。

我的输入 xml 在任何 xml 节点中都包含“CDATA”。

现在我想要的是它应该保留“CDATA”，如果它有输入

我尝试了许多解决方案，例如禁用输出转义和 cdata-section-elements 等……但我发现它们都不适合我的要求。

那么，有什么办法可以做到吗？？如果输入 xml 节点有 cdata，那么它应该在输出中给出它，如果输入 xml 节点没有 cdata，那么它不应该在输出中给出它。

我有一个名为的节点，其中包含 cdata，另一个节点位于某个不包含 cdata 的差异位置。

```
<Address>
<Location>
<Code>912</Code>
<Value>10301</Value>
</Location>
<Name><![CDATA[E&S]]></Name>
<CompanyName><![CDATA[E&S]]></CompanyName>
<AddressLine3>dummy address</AddressLine3>
<City>dummy city</City>
<State>dummy state</State>
<PostalCode>dummy postal code</PostalCode>
<Country>dummy country</Country>
</Address>
<Nodes>
<Node>
<Type>CTU</Type>
<Text><![CDATA[dummy text & dummy Text.]]></Text>
</Node>
</Nodes> 
```

只有预定义的节点才会包含 cdata 并不固定，它可以来自任何地方

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-29T04:43:48.293

XSLT 使用的 XPath 数据模型不允许区分任何 CDATA 部分——其中任何部分都被表示为文本节点的（部分）。因此，CDATA 保存不能完全使用 XSLT 或 XPath 来实现。它可以通过基于 DOM 的方法来实现。

如果在转换的输出中，具有特定名称的元素的文本节点需要 CDATA 部分，而其他元素则不需要，那么这可以在 XSLT 中完成，在声明中指定一个`cdata-section-elements`属性。`<xsl:output>`

**这是一个简短的例子**：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output omit-xml-declaration="yes" indent="yes"
 cdata-section-elements="a b c d e"/>
 <xsl:strip-space elements="*"/>

 <xsl:template match="node()|@*">
  <xsl:copy>
   <xsl:apply-templates select="node()|@*"/>
  </xsl:copy>
 </xsl:template>
</xsl:stylesheet> 
```

**当此转换应用于以下 XML 文档时：**

```
<Record>
    <a>10:30</a>
    <b>20:30</b>
    <c>10:60</c>
    <d>1:15</d>
    <e>1:03</e>
</Record> 
```

**产生了想要的正确结果**：

```
<Record>
   <a><![CDATA[10:30]]></a>
   <b><![CDATA[20:30]]></b>
   <c><![CDATA[10:60]]></c>
   <d><![CDATA[1:15]]></d>
   <e><![CDATA[1:03]]></e>
</Record> 
```

**如果事先不知道一组元素名称，可以使用生成另一个样式表的样式表，该样式表应最终应用于 XML 文档以产生所需的结果**：

```
<xsl:stylesheet version="1.0" xmlns:x="http://www.w3.org/1999/XSL/Transform"
 xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xmlns:xxx="xxx">
 <xsl:namespace-alias stylesheet-prefix="xxx" result-prefix="xsl"/>
 <xsl:output omit-xml-declaration="yes" indent="yes"/>
 <xsl:strip-space elements="*"/>

 <xsl:key name="kElemByName" match="*[text()[normalize-space()]]" use="name()"/>

 <xsl:variable name="vDistinctNamedElems" select=
 "//*[generate-id()=generate-id(key('kElemByName',name())[1])]"/>

 <xsl:variable name="vDistinctNames">
  <xsl:for-each select="$vDistinctNamedElems">
   <xsl:value-of select="concat(name(), ' ')"/>
  </xsl:for-each>
 </xsl:variable>

 <xsl:template match="node()|@*">
  <xxx:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
    <xxx:output omit-xml-declaration="yes" indent="yes"
       cdata-section-elements="{$vDistinctNames}"/>
    <xxx:strip-space elements="*"/>

    <xxx:template match="node()|@*">
     <xxx:copy>
       <xxx:apply-templates select="node()|@*"/>
     </xxx:copy>
    </xxx:template>
  </xxx:stylesheet>
 </xsl:template>
</xsl:stylesheet> 
```

**当此转换应用于同一个 XML 文档（上图）时，结果是另一个 XSLT 样式表**：

```
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
                xmlns:x="http://www.w3.org/1999/XSL/Transform"
                version="1.0">
   <xsl:output omit-xml-declaration="yes" indent="yes" cdata-section-elements="a b c d e "/>
   <xsl:strip-space elements="*"/>
   <xsl:template match="node()|@*">
      <xsl:copy>
         <xsl:apply-templates select="node()|@*"/>
      </xsl:copy>
   </xsl:template>
</xsl:stylesheet> 
```

在此样式表中，`cdata-section-elements`属性中的所有元素名称都是动态生成的（使用 Muenchian 方法进行分组）。

**当我们最终在同一个 XML 文档上应用如此生成的 XSLT 样式表时，我们得到了想要的结果**：

```
<Record>
   <a><![CDATA[10:30]]></a>
   <b><![CDATA[20:30]]></b>
   <c><![CDATA[10:60]]></c>
   <d><![CDATA[1:15]]></d>
   <e><![CDATA[1:03]]></e>
</Record> 
```

**说明**：

1.  **使用 XSLT 指令**动态生成新的转换****[`xsl:namespace-alias`](http://www.w3.org/TR/xslt#element-namespace-alias)**。**

***   **[Muenchian 分组](http://www.jenitennison.com/xslt/grouping/muenchian.html)**以确定所有不同的元素名称。** 

 *** * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-22T12:04:43.280

您的解决方案是引入包含`cdatasection`在`cdata-section-elements`属性 ( `uh`) 中的节点/元素的名称：

```
<xsl:output omit-xml-declaration="yes"
            indent="yes"
            cdata-section-elements="Name CompanyName Text"
/> 
```**

# python - 为什么在递归函数中计数器没有被重置为 0？

> ID：15697439
> 
> 赞同：2
> 
> 时间：2013-03-29T04:37:41.800
> 
> 标签：python, recursion

我正在观看 MIT 对 ComScip 的介绍，并且必须进行递归调用。我很难很好地安装在计数器中以计算字符串出现的数量。运气好并玩弄柜台的位置，以下解决方案有效，但我不知道为什么：

```
import string
target = "banana"
key = "an"
key_len = len(key)
found_pos = 0
found_pos = string.find(target,key)

def countSubStringMatchRecursive (target, key):
    counter=0
    found_pos = string.find(target,key)
    if(found_pos!=-1):      
        print "found"
        slice_pos = found_pos + key_len
        counter = countSubStringMatchRecursive (target[slice_pos:], key)
        counter+=1
        #print counter
    return counter

print countSubStringMatchRecursive (target, key) 
```

以下是我的理解：

第一次递归：

1.  初始化计数器=0

2.  如果找到 key 是 target，则 counter=countSubStringMatchRecursive (target[slice_pos:], key) 这应该再次将计数器重置为 0，因为正在运行 main 函数

3.  计数器+=1

4.  返回 1 作为计数器值，因为 0+1=1

我不明白的部分是为什么 counter=0 不将计数器重新初始化为 0。相反，它让自己累积先前的值并产生正确的结果

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T04:41:39.333

`counter`是方法的局部变量。这意味着每个递归堆栈帧（每个新方法调用都会获得一个新的“堆栈帧”）都有自己的`counter`. 因此，虽然每次调用该方法时`counter`都设置为，但所有这些副本实际上都是不同的内存块，并且不会相互影响。`0``counter`

# batch-file - 将其制作成批处理文件

> ID：15697440
> 
> 赞同：0
> 
> 时间：2013-03-29T04:37:43.550
> 
> 标签：batch-file

致力于自动制作故障排除指南，因此我作为技术人员可以按..start ..这是我坚持的步骤之一，对我如何制作批处理文件有任何帮助吗？

```
Check procedure: 

1\. Ping 10.70.222.62 -t
Look for any dropped packets.  > or = 1%, send at least 100 pings. 

2.Check the subnet mask 
3.Check the default gateway 
4.Check NIC configuration.  If more than 1 NIC is installed then only one should have the gateway set. 
If all OK, then network is OK. 
```

我不是一个网络人，所以当它说检查子网掩码之类的东西时，我不确定那是什么，或者我在检查它是为了什么。网卡配置也可能很难用批处理文件检查？谢谢。

发现了一些可能有帮助的更多信息..

```
Subnet Mask  255.255.254.0  
Default Gateway  10.72.170.1 
```

我确实更改了一些数字，但我可以在需要时将它们改回代码中。

到目前为止第1步..

```
ping -n 100 x.x.x.x  | find "TTL"
if not errorlevel 1 set error=FAILED
if errorlevel 1 set error=PASSED
echo Result: %error% 
```

唯一的问题是它显示了所有的 ping，无论如何让它不显示 ping？

第 2 步我想你必须做一个 ipconfig 并找到结果？但不确定如何.. 与第 3 步相同

第4步我不知道它在说什么......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T10:37:37.753

for 命令将帮助您隐藏 ping。按照斯蒂芬的回答，这就是你想要的：

第 1,2,3 步：-

```
 @echo off
    echo Checking ping...
    set state=FAILED
    for /f "tokens=5,7" %%a in ('ping x.x.x.x -n 100') do (
    if "%%a"=="Received" if "%%b"=="100," set state=PASSED
    )
    echo Getting IP configuration...
    ipconfig > stats.txt
    find "Subnet Mask" stats.txt
    find "Gateway" stats.txt
    del stats.txt
    pause 
```

第4步：-我真的不知道如何批量执行...尝试使用第三方软件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T08:43:25.507

第 1 步：寻找“(0% loss)”而不是“TTL”会更容易，因为找到 TTL 可能意味着，您尝试了 100 次，只有一两个响应会返回 PASSED。（不要搜索“0%”，因为这样也会找到 10% 20%...）

```
ping -n 100 x.x.x.x >nul |find "(0%" 
```

第 2,3 步：获取配置文件`ipconfig >stats.txt`

`find "Subnet Mask" stats.txt` 用and 得到想要的值`find "Gateway" stats.txt`

第4步并不简单，我想把它留给其他人

# mysql - 使用alter table添加分区失败

> ID：15697443
> 
> 赞同：6
> 
> 时间：2013-03-29T04:38:14.097
> 
> 标签：mysql, foreign-keys, partitioning, alter-table

我有一个结构如下表：

```
CREATE TABLE `child_table` (
    `id` int(11) NOT NULL AUTO_INCREMENT,
    `value` int,
    `ref_id` int,
    PRIMARY KEY (`id`),
    KEY `ref_id` (`ref_id`),
    CONSTRAINT `FK4E9BF08E940F8C98` FOREIGN KEY (`ref_id`) REFERENCES `parent_table` (`id`) ON DELETE CASCADE
) 
```

运行语句添加分区时，它失败并显示错误：

```
ERROR 1217: Cannot delete or update a parent row: a foreign key constraint fails
SQL Statement:
ALTER TABLE `learning`.`child_table`  PARTITION BY HASH(ref_id) PARTITIONS 10 
```

所以我用 parent_table 删除了外部约束，然后再次运行。它仍然失败并显示相同的错误。

我做错什么了吗？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2014-01-09T16:01:37.047

我知道这是一个老问题，但对于那些因寻找这个问题而落入这里的人来说，因为它是第一个谷歌结果：

### MySQL 不支持分区表上的外键。

从[手册](http://dev.mysql.com/doc/refman/5.7/en/partitioning-limitations.html)

> **分区 InnoDB 表不支持外键。** 使用 InnoDB 存储引擎的分区表不支持外键。更具体地说，这意味着以下两个陈述是正确的：
> 
> 1.  使用用户定义分区的 InnoDB 表的定义不能包含外键引用；不能对其定义包含外键引用的 InnoDB 表进行分区。
>     
>     
> 2.  没有 InnoDB 表定义可能包含对用户分区表的外键引用；没有用户定义分区的 InnoDB 表可能包含外键引用的列。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T04:56:10.777

该错误是指另一个表上*引用* `child_table`的外键。您需要从*该*表中查找并删除外键，不一定`child_table`。你也可以`SET foreign_key_checks = 0`先试试跑步。

# vb.net - 在 Excel VSTO 加载项中处理多个打开的工作簿的最佳做法

> ID：15697445
> 
> 赞同：1
> 
> 时间：2013-03-29T04:38:35.020
> 
> 标签：vb.net, vsto, add-in, excel

我正在 VB.Net 中开发 Excel VSTO 加载项。鉴于用户可能在使用我的主窗体之前、之后或期间打开或关闭许多工作簿，我试图解决知道我的加载项应该影响哪个工作簿的问题。

主要功能都围绕着编辑一个主模板文件，用户可能会使用有用的名称保存该文件，并且可能会返回以供参考或进一步编辑。加载项打开一个表单并执行各种功能，例如将信息从数据库添加到工作表，或将工作表添加到工作簿（以及大量统计信息）。我所做的大部分工作都依赖于调用特定的工作簿：

```
 CurrentRun = Marshal.GetActiveObject("Excel.Application")
        CurrentBook = CurrentRun.Workbooks(CurrentIndex) 
```

`CurrentIndex`使用当前打开的工作簿的名称填充/更新的组合框中的索引在哪里：

```
 ...
    ControlCurrentWBComboBox.Items.Clear()
    CurrentRun = Marshal.GetActiveObject("Excel.Application")
    For n = 1 To CurrentRun.Workbooks.Count()
        ControlCurrentWBComboBox.Items.Add(CurrentRun.Workbooks(n).Name)
    Next
    CurrentRun = Nothing
    ... 
```

这要求用户选择他们想要使用的工作簿（按名称）。这似乎是个好主意，直​​到我今天把它放在 8 个不同的用户面前。大多数人最终习惯了选择工作簿，但并非没有很多抱怨和抛出错误（处理得很好）。2 个用户从未得到它，并且不断地不小心编辑错误的工作簿，并在使用一个小时后抛出错误。

有没有更好的方法来处理这个？我正在考虑尝试制作两个版本：一个带有上述版本，一个用于需要较少选择的人。有没有办法通过将 VBA 代码放入工作簿本身来强制实现一种一对一的关系？

我是不是通过尝试处理这个或引用 ActiveWorkbook 以外的任何东西来作为基础？

[注意：蓝色警告告诉我这是一个主观问题，我有点害怕。我不是故意的；也许我需要措辞方面的帮助？]

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T21:12:59.843

如果您的加载项不能与任何打开的工作簿“正常工作”，那么您可能不应该使用应用程序加载项；相反，您应该使用[Document Add-In](http://msdn.microsoft.com/en-us/library/zcfbd2sk.aspx)。

在这种情况下，如果用户打开了 3 个工作簿（每个工作簿都有加载项），他们将各自在自己的域中操作——就好像其他工作簿不存在一样。

如果这是您环境中的一个选项，我强烈推荐它作为最佳实践。

# java - 在 Windows 中更改 java 安全文件

> ID：15697451
> 
> 赞同：4
> 
> 时间：2013-03-29T04:39:26.150
> 
> 标签：java, windows, security

我正在尝试在 Windows 中编辑 java.security 文件。当我向其中添加条目并尝试保存时，它显示“拒绝访问”。如何更改此文件的权限。我也尝试过让记事本以管理员身份运行，但它没有用。请帮忙。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-29T04:50:08.953

试试这个，说它是否有效。打开主机文件时它对我有用。

[http://www.labnol.org/software/edit-hosts-files-as-administrator/13673/](http://www.labnol.org/software/edit-hosts-files-as-administrator/13673/)

编辑：

链接页面的相关信息：

步骤 1\. 打开您的 Windows 开始菜单，搜索记事本应用程序，然后右键单击记事本图标。

步骤 2\. 选择“以管理员身份运行”，然后在记事本中浏览到文件夹 (java.home\lib\security\java.security)。

您现在可以编辑该文件并将其保存在同一文件夹中，而不会出现任何问题。回顾一下，诀窍在于，您不是直接在关联的应用程序中打开受保护的文件，而是首先以管理员身份运行该应用程序，然后打开其中的文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-16T19:15:21.157

1) 将原始 java.security 文件复制到桌面。2）在那里编辑文件并保存。3) 将文件复制到%JAVA_HOME%/\jre\lib\security 4) 用修改后的文件替换原始文件。

# playframework-2.0 - Play 2.x 中的约定优于配置

> ID：15697453
> 
> 赞同：0
> 
> 时间：2013-03-29T04:39:35.747
> 
> 标签：playframework-2.0

我发现在 Play 2.x 中我必须配置我拥有的所有 URL（在路由文件中）以映射控制器的操作。它不像 Play 1.x 那样约定俗成。

有谁知道如何让它像 1.x 一样工作

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T08:56:37.580

曾多次讨论过：在 Play 2.0 中，开发人员决定`routes`完全制作`typesafe`——这意味着您需要`route`为每个动作添加专用。

从我的观点来看，这是一个相当不错的选择，因为它强制开发人员进行基本类型验证“*开箱即用*”并防止黑客的“*盲目遍历*”。

一般来说，我会建议继续使用新方法，因为您会发现这在使用中并没有那么糟糕，而且我可以看到新的 IDE（例如 Idea 12）试图支持`routes`Play 2 的文件。

另一方面，您也可以自己处理旧样式的“自动”路由，例如使用`Dynamic part spanning several /`或`Dynamic parts with custom regular expressions`如[路由文档](http://www.playframework.com/documentation/2.1.0/JavaRouting)中所述，无论如何，在这种情况下，您需要自己验证传入类型。

# java - 在jsp中显示数组值

> ID：15697456
> 
> 赞同：3
> 
> 时间：2013-03-29T04:39:39.497
> 
> 标签：java, arrays, jsp, web-applications

我的代码中有以下两个数组

```
List<Double> centralityList = (List<Double>) request
            .getAttribute("centralityList");

List<String> labelList = (List<String>) request
            .getAttribute("labelList");. 
```

现在我在这两个数组中有六个字符串值和相应的字符串的 6 个双精度值。我的问题是如何在我的 JSP 中以表格格式显示它们？这可能吗？

例如：

标签列表包含 [a,b,c,d,e]
中心性列表包含- [4,6,8,9,0]

所以现在我想显示如下输出：

```
label list   centrality list

  a                 4
  b                 6
  c                 8.
  .                 . 
```

ETC

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-29T05:03:17.513

是的，当然可以。您可以使用 scriplet，但不建议使用它们。而是使用 JSTL。

试试这个：

在你的 JSP 顶部有这个：

```
<%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn" %>  
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %> 
```

以及显示数据的代码

```
<c:forEach begin="0" end="${fn:length(centralityList) - 1}" var="index">
   <tr>
      <td><c:out value="${centralityList[index]}"/></td>
      <td><c:out value="${labelList[index]}"/></td>
   </tr>
</c:forEach> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-29T04:52:00.583

试试这个代码

```
 <%
   List<Double> centralityList = (List<Double>) request
            .getAttribute("centralityList");

   List<String> labelList = (List<String>) request
            .getAttribute("labelList");

    String myString="";
%>
<table>
<tr><td>
<%

    for(int i = 0; i < labelList.size(); i++)
    {
       out.println((String)labelList.get(i));
    }

    %>
</td><td>
<%

    for(int i = 0; i < centralityList.size(); i++)
    {
       out.println((double)centralityList.get(i));
    }

    %>
</td>
</table> 
```

您可以通过使用 JSTL 轻松实现这一点，这是一种更简单、更好的方法，但是在您的代码中，我没有找到任何使用 JSTL 的证据，所以这是目前的方法

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T04:49:46.617

您可以使用 JSTL 标记并遍历它-

```
<c:forEach var="Array" items="userNames">

         // do something with the element
</c:forEach> 
```

在你的jsp页面中使用它

```
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %> 
```

# sql - oracle如何查询日期？

> ID：15697459
> 
> 赞同：0
> 
> 时间：2013-03-29T04:39:53.667
> 
> 标签：sql, oracle

假设我在 oracle 中有下表：

```
id|orderdatetime (date type)|foodtype (string type)
1|2013-12-02T00:26:00 | burger
2|2013-12-02T00:20:00 | fries 
```

...（假设有很多日期和时间）

假设某人碰巧有一个日期（即“2010-12-02T00:25:00”）。即使那里没有具有该特定时间的数据库条目...是否有某种方法可以查询数据库，以便我可以获得日期时间最接近它的行，而不会提前记住日期（理想情况下，它会小于或等于）？

（即在这种情况下，sql 查询将返回“fries”而不是“burger”的行，因为 burger 的时间已经超过了用户想到的时间，尽管事实上“burger”的时间更近了。）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T04:54:57.860

```
select x.* from (select id,orderdatetime,foods from orders
where orderdatetime <= YOURTIME order by orderdatetime desc)x
where rownum =1 
```

另一个是：

```
select * from orders where orderdatetime = (select max(orderdatetime) from orders
where orderdatetime <= YOURTIME) 
```

# android - 如何在 android 中使用 API V2 在地图上显示当前位置

> ID：15697470
> 
> 赞同：1
> 
> 时间：2013-03-29T04:41:20.530
> 
> 标签：android

我想在地图上用针点显示我当前的位置。我想使用 API v2，但我不知道如何使用这个 api v2 以及如何实现它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T04:53:08.970

嗨，请看一下这个样本。

[https://github.com/commonsguy/cw-omnibus/tree/master/MapsV2/Location](https://github.com/commonsguy/cw-omnibus/tree/master/MapsV2/Location)

还可以看看这个带有示例 [https://developers.google.com/maps/documentation/android/intro#sample_code的 google map sdk](https://developers.google.com/maps/documentation/android/intro#sample_code)

希望这会帮助你。

# artificial-intelligence - 击败极小极大对手

> ID：15697479
> 
> 赞同：2
> 
> 时间：2013-03-29T04:42:16.620
> 
> 标签：artificial-intelligence, minimax, alpha-beta-pruning

我必须创建一个必须与其他 AI 竞争的 AI。

两个 AI 将在相同的硬件上运行，具有相同的处理时间和内存。我知道对手 AI 将使用带有 alpha beta 剪枝的 minimax 算法。

现在我的问题是 - 有什么方法可以击败这样的对手？如果我自己使用 minimax - 那么两个 AI 都可以完美地预测彼此的动作，并且游戏会根据游戏的固有属性（先手获胜等）来解决。

显而易见的解决方案是以某种方式进一步了解可能的移动，这将允许更好的评估 - 因为处理器时间相同，我无法评估更深入的深度（假设相反的 AI 代码同样优化）。我可以使用预先计算的树来获得额外的优势，但如果没有超级计算机，我当然无法“解决”任何非平凡的游戏。

故意选择一个非最佳节点，例如 alpha beta 会修剪的节点，是否有一些价值？这可能会对对手造成 CPU 时间损失，因为他们必须返回并重新评估树。这会对我造成惩罚，而且我必须评估 minimax 树 + alpha beta 以查看 alpha beta 会修剪哪些节点而不会获得任何直接收益。

还有哪些其他策略可以针对这样的对手进行优化？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T18:04:33.803

首先，选择非最佳打法没有任何价值。假设您的对手会以最佳方式进行游戏（这是极小极大搜索的基本假设），您的对手将采取利用错误的行动。一个好的游戏引擎会有一个散列的反驳表条目，其中包含你的错误的反动作，所以你不会通过疯狂的动作获得时间。做出错误的动作可以让计算机对手*更快*地找到好动作。

像奥赛罗这样的游戏要实现的关键是，直到游戏后期，您才能确定最佳移动是什么。那是因为搜索树几乎总是太大而无法详尽地搜索所有赢或输的位置，因此极小极大不能确定地告诉您哪些动作会导致胜利或失败。您只能启发式地决定在哪里停止搜索，任意将这些节点称为“终端”，然后运行一个评估函数来猜测一个位置的赢/输潜力。

评估函数的工作是评估位置的价值，通常使用无需进一步搜索博弈树即可计算的静态指标。棋子计数、位置特征、残局表库，甚至对手心理都可以在这里发挥作用。您在评估功能中投入的智能越多，通常您的引擎就会发挥得越好。但是静态评估的重点是替换过于昂贵的搜索。如果您的评估函数做得太多或效率太低，它可能会比获取相同信息所需的博弈树搜索慢。知道在评估函数中放入什么以及何时使用静态评估而不是搜索是编写优秀游戏引擎的艺术的重要组成部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T04:33:12.910

有很多方法可以通过 AB 剪枝来改进标准极小值。例如，研究了改进顺序移动的杀手启发式尝试，因为 AB 的效率在有序移动的情况下更好。

可以在[chessprogramming.wikispaces.com](http://chessprogramming.wikispaces.com/Search#Search%20Algorithms-Alpha-Beta%20Enhancements)上找到有关 AB 的不同搜索增强和变体的大量信息。

# eclipse - Eclipse 中的“SDK”包

> ID：15697484
> 
> 赞同：6
> 
> 时间：2013-03-29T04:42:38.613
> 
> 标签：eclipse

eclipse中的*SDK*包是什么？当我尝试安装新软件/插件时，我会看到类似 -

*   C/C++ 开发工具
*   C/C++ 开发工具 SDK

*   Java 移动工具
*   Java SDK 移动工具

等等。并不是所有的包都有第二个*SDK*，但有些包有。两者有什么区别？CDT 为我提供什么，CDT SDK 为我提供什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-29T05:30:33.637

SDK 功能通常包括用于在基础项目上构建的源代码和开发人员文档，因此它将是 CDT 的可查看源代码以及有关如何在可能的情况下插入它的文档。如果您只是使用工具编写自己的程序，通常不需要 SDK 功能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T04:46:36.950

简单来说，C++工具就是编译器等工具。C++ SDK 是 C++ 提供的库，可以在您的项目中使用。

# asp.net - 在两个 aspx 页面中使用 Fullcalendar

> ID：15697485
> 
> 赞同：0
> 
> 时间：2013-03-29T04:42:40.260
> 
> 标签：asp.net, fullcalendar

我想在我的两个不同的 ASPX 页面中使用 Fullcalendars，一个是 ADDEvents，另一个是 ViewEvents，具有相同的 JS 和 CSS 我该怎么做？

-辛杜.A

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T05:06:34.150

1.  您可以将 js 和 css 保存在 javascript 文件和 css 文件中，并从您的 aspx 页面中引用它们。
2.  您可以创建自己的用户控件来包装 FullCalendar 控件并使用您的用户控件。

# php - 使用 PHP 使用 JSON 和多个 MySQL 表级联 jQuery 下拉列表

> ID：15697490
> 
> 赞同：0
> 
> 时间：2013-03-29T04:43:13.167
> 
> 标签：php, jquery, mysql, json, cascadingdropdown

我对 PHP 和 MySQL 还很陌生，对 jQuery 有一点经验，对 JSON 几乎没有经验，只是为了给你一些背景知识。我正在尝试在我的表单中实现级联下拉菜单。

我有两张桌子：

```
|city|
|city_id INT| - PK
|city VARCHAR (45)|
|state_state_id INT | - FK

|state|
|state_id INT| - PK
|state VARCHAR (25)| 
```

这是我的表格：

```
State:<br />
<select name="state" id="stateName">
<?php foreach($rows as $row): ?>
<option value="<?php echo htmlentities($row['state'],ENT_QUOTES,'UTF-8');?>"><?php echo htmlentities($row['state'],ENT_QUOTES,'UTF-8');?>
</option>
<?php endforeach; ?>
</select>
<br /><br />
City:<br />
<select name="city" id="cityName"></select>
<input type="submit" name="work_order_submit" id="" value="Add Work Order" /> 
```

我用这个查询填充状态下拉列表：

```
$query = "SELECT * FROM state WHERE 1 ORDER BY state";
try{
$stmt = $db->prepare($query);
$stmt->execute();
}catch(PDOException $ex){
//On production remove getMessage.
die("Failed to run query: " . $ex->getMessage());
}

$rows = $stmt->fetchAll(); 
```

这是我创建的用于运行 JSON 并在选择状态时使用状态下拉列表中的级联值填充 City 下拉列表的 jQuery：

```
<script>
function populateCityName(){
$.getJSON('state-names.php', {stateName:$('#stateName').val()},
    function(data){
            var select = $('#cityName');
            var options = select.prop('options');
            $('option', select).remove();

            $.each(data, function(index, array){
                     options[options.length] = new Option(array['city']);
                     });

          });
}

$(document).ready(function(){
  populateCityName();
  $('#stateName').on('change', function(){
        populateCityName();
  });
});
</script> 
```

这是 state-names.php 文件中的代码（我在此代码之前连接到数据库）：

```
$rows = array();
if(isset($_GET['stateName'])){
$query = "SELECT city FROM city INNER JOIN state ON city.state_state_id = state.state_id WHERE state = :state ORDER BY city";
$query_params = array(":state" => $_GET['stateName']);
try{
    $stmt = $pdo->prepare($query);
    $stmt->execute($query_params);
}catch(PDOException $ex){
    //On production remove .getMessage.
    die("Failed to run query: " . $ex->getMessage());
}
$rows = $stmt->fetchAll(PDO::FETCH_ASSOC);
}
echo json_encode($rows); 
```

当我在表单中选择状态时没有任何反应。我什至没有收到错误。我已经测试了 SQL，它运行良好并检索了我想要的值，但由于某种我无法弄清楚的原因，这些值没有被级联到 City 下拉列表中。

很感谢任何形式的帮助。

**编辑：**当我做更多的调试和实现一些事情时，这就是我到目前为止所发现的。JSON是这样进来的：

```
[{"city":"Salt Lake City"},{"city":"Toole"},{"city":"Provo"},{"city":"St. George"}] 
```

我现在知道 JSON 工作正常。当我将状态下拉列表中的下拉选择更改为我知道有城市条目的状态时，城市下拉列表显示实际存在的条目数量的空白“选项”字段。因此，使用下面的答案和许多关于级联下拉列表和链接下拉列表的不同教程，我终于弄明白了。我已经提交了带有工作代码的答案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T06:44:16.090

你能试一下吗：

```
$.each(data, function(index, array){
    // new Option(text [, value, defaultSelected, selected]);
    select.add(new Option(array['city'], index), null);
}); 
```

??

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T19:03:21.673

上面的所有代码都可以工作，除了 jQuery 函数。好吧，jQuery 为我告诉它做的事情工作，而不是为我真正想要代码做的事情......很大的不同。

这是根据在状态下拉列表中所做的选择填充城市下拉列表的工作 jQuery：

```
<script>
function populateCityName(){
$.getJSON('state-names.php', {stateName: $('#stateName').val()},
    function(data){
        var html = '<option value="';
        var htmlEnd = '</option>';
        var options = '';
        var select = $('#cityName');
        $('option', select).remove();
        $.each(data, function(index, array){
            options += html + array['city'] + '">' + array['city'] + htmlEnd;
         });
        $('#cityName').append(options);
    });
}

$(document).ready(function(){
  populateCityName();
  $('#stateName').on('change', function(){
        populateCityName();
  });
});
</script> 
```

Before, the code would find the number of entries and the select box would show this number, but the selections were blank. With this code, the number of entries is found, but the values for those entries also show. Hope this helps someone else later.

# javascript - 在javascript中，最小的可用内存大小是2字节吗？

> ID：15697493
> 
> 赞同：1
> 
> 时间：2013-03-29T04:43:30.667
> 
> 标签：javascript, string, memory-management, character-encoding

在 JS 中表示单个字符，我们使用`"`or `'`，即使用长度为 1 的字符串。

但是由于[JavaScript 使用 UTF-16 编码](http://www.ecma-international.org/ecma-262/5.1/#sec-8.4)，所以字符也是 16 位的。

这样说是否安全，2 个字节是最小的可表示大小，这在 JS 中是可能的。

或者会有一些数据结构，它可以代表我缺少的单个字节（8 位）。

**编辑：**

我知道使用字长（通常为 4 字节）的数据类型总是最有效的，但我只是想知道 JS 的创建者是否愿意在其中包含一些内容。

Actionscript 3 也源自 ECMAScript，它包含可变大小的数据类型，即 AS3 中的整数是 1 到 4 个字节的存储空间。

注意：我并不是真的在寻找一种将多个字节放入更大数据类型的技巧。

猜猜答案很可能是**否定**的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T11:54:05.807

好吧，不是在 ECMAScript 中，而是在 node.js 中[`Buffer`](http://nodejs.org/api/buffer.html)，在浏览器中你有[`Uint8Array`](https://developer.mozilla.org/en-US/docs/JavaScript/Typed_arrays/Uint8Array)

```
var b = new UInt8Array(16); //Holds 16 bytes 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T04:47:47.090

从技术上讲，您可以拥有一个由 8 个[布尔值](http://www.ecma-international.org/ecma-262/5.1/#sec-8.3)组成的数组- 但存储数组本身可能会有很大的开销。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T04:53:56.543

从 c 风格的联合中获取页面，当然，您可以创建自己的数据结构来做到这一点。使用大整数作为位图。

```
var memory = 0;

function setbyte(addr, value) {
    memory = memory | (value << addr);
}

function getbyte(addr) {
    return 0xFF & (memory>>addr)
} 
```

# .net - 将文本框中的特定行加粗并向右缩进

> ID：15697497
> 
> 赞同：1
> 
> 时间：2013-03-29T04:44:15.737
> 
> 标签：.net, vb.net, winforms, textbox, formatting

我试图在文本框中只加粗某些行，而不是所有输出。而且我还试图在文本框的最右边填充几行，而不是所有的行，以使其看起来更干净。

我正在尝试将所有（`txtBoxCourse`文本框）加粗并尝试将所有（文本框）缩进`txtBoxGrades`右侧。

```
Private Sub btnCalculate_Click(sender As Object, e As EventArgs) Handles btnCalculate.Click

    Dim semester, Newline As String
    Dim totalGPA As Double = QualityPoints / txtBoxTotalHours.Text

    Newline = System.Environment.NewLine
    semester = CStr(txtBoxResults.Text)
    txtBoxTotalGPA.Text = CStr(totalGPA)
    txtBoxTotalGPA.Text = Math.Round(totalGPA, 3)

    If radButtonFall.Checked Then
        semester = "Fall"
    ElseIf radButtonSpring.Checked Then
        semester = "Spring"
    ElseIf radButtonSummer.Checked Then
        semester = "Summer"
    End If

    txtBoxResults.Text = (semester & " " & "Semester : ")
    txtBoxResults.Text = (txtBoxResults.Text & Newline & " ")
    txtBoxResults.Text = (txtBoxResults.Text & Newline & " ")
    txtBoxResults.Text = (txtBoxResults.Text & Newline & "Total Hours : " & txtBoxTotalHours.Text)
    txtBoxResults.Text = (txtBoxResults.Text & Newline & " ")
    txtBoxResults.Text = (txtBoxResults.Text & Newline & "Total Qualit Points : " & txtBoxTotalQualityPoints.Text)
    txtBoxResults.Text = (txtBoxResults.Text & Newline & " ")
    txtBoxResults.Text = (txtBoxResults.Text & Newline & "Total " & semester & " " & "GPA : " & txtBoxTotalGPA.Text)
    txtBoxResults.Text = (txtBoxResults.Text & Newline & " ")
    txtBoxResults.Text = (txtBoxResults.Text & Newline & " ")
    txtBoxResults.Text = (txtBoxResults.Text & Newline & "Enrolled Courses : ")
    txtBoxResults.Text = (txtBoxResults.Text & Newline & " ")
    txtBoxResults.Text = (txtBoxResults.Text & Newline & txtBoxCourse1.Text & "     " & txtBoxGrade1.Text)
    txtBoxResults.Text = (txtBoxResults.Text & Newline & " ")
    txtBoxResults.Text = (txtBoxResults.Text & Newline & txtBoxCourse2.Text & "     " & txtBoxGrade2.Text)
    txtBoxResults.Text = (txtBoxResults.Text & Newline & " ")
    txtBoxResults.Text = (txtBoxResults.Text & Newline & txtBoxCourse3.Text & "     " & txtBoxGrade3.Text)
    txtBoxResults.Text = (txtBoxResults.Text & Newline & " ")
    txtBoxResults.Text = (txtBoxResults.Text & Newline & txtBoxCourse4.Text & "     " & txtBoxGrade4.Text)
    txtBoxResults.Text = (txtBoxResults.Text & Newline & " ")
    txtBoxResults.Text = (txtBoxResults.Text & Newline & txtBoxCourse5.Text & "     " & txtBoxGrade5.Text)
    txtBoxResults.Text = (txtBoxResults.Text & Newline & " ")
    txtBoxResults.Text = (txtBoxResults.Text & Newline & txtBoxCourse6.Text & "     " & txtBoxGrade6.Text)
    txtBoxResults.Text = (txtBoxResults.Text & Newline & " ")
    txtBoxResults.Text = (txtBoxResults.Text & Newline & txtBoxCourse7.Text & "     " & txtBoxGrade7.Text)
    txtBoxResults.Text = (txtBoxResults.Text & Newline & " ")
    txtBoxResults.Text = (txtBoxResults.Text & Newline & txtBoxCourse8.Text & "     " & txtBoxGrade8.Text)

End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T05:41:08.240

> 我试图在文本框中只加粗某些行，而不是所有输出。

不幸的是，TextBox 控件不支持格式化文本。您可以更改字体，如果您愿意，可以将其设为粗体，但*所有*文本都将变为粗体。无法仅将*部分*文本设为粗体。

您将在 Windows 记事本中看到相同的限制，它只是一个带有菜单以支持加载和保存文件的 TextBox 控件。您可以更改记事本使用的字体，但这是千篇一律的事情。无法将条件格式应用于特定的行或字符。

如果您需要支持条件格式，则需要改用[RichTextBox 控件](http://msdn.microsoft.com/en-us/library/system.windows.forms.richtextbox.aspx)。这基本上是写字板使用的，它解释了为什么写字板更像是一个真正的文字处理器而不是记事本。自然，这种能力是以牺牲可用性为代价的：使用 RichTextBox 控件比在代码中使用简单的 TextBox 控件更麻烦。

> 而且我还试图在文本框的最右边填充几行，而不是所有的行，以使其看起来更干净。

这是……有点可能，虽然它并不漂亮。假设您的表单（或至少文本框控件）不可调整大小，并且字体永远不会改变，您可以计算将文本填充到文本框最右侧所需的空格数并插入该确切数字。

为此，您将使用该[`TextRenderer.MeasureText`](http://msdn.microsoft.com/en-us/library/system.windows.forms.textrenderer.measuretext.aspx)方法。[最简单的重载](http://msdn.microsoft.com/en-us/library/y4xdbe66.aspx)将告诉您在以指定字体（文本框使用的字体）绘制时特定文本字符串将占用的像素数。您将使用该信息，从文本框控件的[客户区](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.clientsize.aspx)中减去它，然后[`String.PadLeft`](http://msdn.microsoft.com/en-us/library/0zk6ydzx.aspx)用所需数量的空格填充字符串（使用例如 ）。

啊! 多么痛苦！显然，每次更改文本时都需要重新计算。滚动条也会破坏您仔细的布局，因此即使垂直线数的变化也可能需要重新计算。

如果您确实需要创建一些视觉上的区别并且您无法切换到不同的控件，只需在行的开头插入一个制表符以缩进它们。在 VB.NET 中，您使用常量`vbTab`将制表符插入字符串；例如，`myTextBox.Text = vbTab & "Some text"`

但是通过阅读您的示例代码，在我看来，您正在尝试显示一些格式化的计算结果。你真的根本不需要或想要一个文本控件！只有当您需要支持用户输入时才需要文本控件（如 TextBox 或 RichTextBox）。如果您正在计算输出，那么您可能不支持在同一个地方输入。因此，为什么不尝试使用 ListBox 或 ListView 控件呢？这将为您处理所有多行布局和格式化内容，这将使您的生活更轻松。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-03-29T06:37:44.117

尝试使用 Panel 来包含控件，如果您仍想使用文本框（我认为使用标签更好），请将它们添加为 Panel 中的控件。如下所示：

```
 'create textbox
    Dim tx, tx2 As New TextBox

    'set font style, location, and text
    tx.Font = New System.Drawing.Font(tx.Font, FontStyle.Bold)        
    tx2.Font = tx.Font
    tx2.Location = New System.Drawing.Point(tx.Location.X, tx.Location.Y + 25)
    tx.text = "here"
    tx2.text = "here"

    'add them into Panel
    Panel1.Controls.Add(tx)
    Panel1.Controls.Add(tx2) 
```

您可以修改 tx 的文本、字体等。

# vim - vim 中的类似 Bash 的代码完成？

> ID：15697498
> 
> 赞同：4
> 
> 时间：2013-03-29T04:44:42.293
> 
> 标签：vim, autocomplete, tab-completion, omnicomplete

我目前在 Vim 中使用 superTab 完成。但是，我希望完成更像 bash。例如，如果我正在输入

```
st 
```

并且可能的完成是

```
struct, string 
```

我希望它完成

```
str 
```

如果我按下制表符，理想情况下会显示一个可能完成的菜单。

插件没问题。

编辑：completeopt+=menu,longest 做了我想要的大部分工作，但是在菜单弹出并缩小一些范围后，再次按 Tab 会完全完成，而不是给出下一个最长的公共前缀。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T06:41:39.017

```
:set completeopt+=longest 
```

应该做的伎俩。

调整完成的一个很好的资源是[Make Vim 完成弹出菜单就像在 IDE 中一样工作](http://vim.wikia.com/wiki/Make_Vim_completion_popup_menu_work_just_like_in_an_IDE)。

# c# - C#：设置活动表单，更改该表单上的字段

> ID：15697499
> 
> 赞同：1
> 
> 时间：2013-03-29T04:44:43.093
> 
> 标签：c#, winforms

我正在尝试将一个项目添加到来自 Form5 的 Form4 上的 listBox1 中。我对其进行了研究，并在该站点上找到了应该可行的答案：

```
var form = Form.ActiveForm as Form4;
form.listBox1.Items.Add("aaa"); 
```

我得到一个“NullReferenceException”。这就是我找到的解决方案，但我什至不明白为什么它应该起作用。我的 Form4 实例称为 formfour，我从主窗体创建这样的：

```
Form4 formfour = new Form4();
formfour.Show(); 
```

listBox1 修饰符设置为 public。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T04:52:58.240

你得到的原因`NullRefereneException`是你的电流`ActiceForm`没有被铸造成`Form4`，这就是你进入`null`你的实例的原因`form`。

从问题看来，您已经`Form4`打开并且您希望将该表单设置为活动状态：

您可以使用[`Application.OpenForms`](http://msdn.microsoft.com/en-us/library/system.windows.forms.application.openforms.aspx)属性并获取如下实例`Form4`：

```
Form4 form = Application.OpenForms["Form4"] as Form4;
if(form != null)
   form.Focus(); 
```

另外，如果您想将项目添加到现有表单的列表框中，则：

```
form.listBox1.Items.Add("aaa"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T04:51:06.117

在 Form5 中

```
 Form4 frm4= new Form4();
   frm4.listbox.Items.Add("aaa"); 
   // make sure that the listbox on form4 is set to public from its properties 
```

要刷新 form4 使用

```
 frm4.refresh(); 
```

更多信息请通过此[链接](https://stackoverflow.com/questions/1911190/c-sharp-reload-redraw-form-upon-settings-update-in-dialog-box#)

# php - 将项目文件上传到 Netbeans IDE 中的不同文件夹

> ID：15697500
> 
> 赞同：0
> 
> 时间：2013-03-29T04:44:43.980
> 
> 标签：php, netbeans, ide

如何将项目文件上传到不同的文件夹？

我创建了一个项目，其中包含 2 个文件夹，名为“netbeans”和“smarty/templates”。现在我想上传：

*   “netbeans” 进入 /var/www/htdocs
*   “smarty/templates” 到 /var/www/smarty/templates

并且 - 这是棘手的部分 - 将 http://< server >/netbeans/ 保留为项目 url。所以我不能添加一些文件夹来构建像“www/htdocs/netbeans”和“www/smarty/templates”这样的项目文件夹结构，这会改变url。

环境：

*   NetBeans IDE 7.3

# linux-kernel - ICMP报文的源端口和目的端口

> ID：15697502
> 
> 赞同：5
> 
> 时间：2013-03-29T04:44:57.143
> 
> 标签：linux-kernel, netfilter

我正在 netfilter 中编写一个数据包过滤器。有没有办法获取 ICMP 数据包的源端口和目标端口？

我从 sk_buff 结构中提取了 icmp_hdr。但是我没有看到源地址和目标地址的任何属性？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-31T18:23:12.213

端口号是 TRANSPORT 层识别哪个数据包属于终端系统的哪个进程的方式。
它们用于让流程到流程的交付工作；但是ICMP，从功能的角度来看，并不是一个传输层协议。

ICMP 是网络层的消息传递协议（在 IP 之上；[但不是真正的传输层](http://talktoanit.com/e/wp-content/uploads/2009/10/image004.jpg)），它有很多职责，但它们都与进程到进程的传递无关，所以有一个端口号没有任何意义。

举个例子，当你`ping`（ping 使用 ICMP 回显消息）一个 IP 地址时，你真的是哪个端口`pinging`？
答案是：**没有端口**，你正在 ping 整个站，看它是否还活着。

现在，ICMP 有多种[类型的消息](http://publib.boulder.ibm.com/infocenter/pseries/v5r3/index.jsp?topic=/com.ibm.aix.commadmn/doc/commadmndita/protocols_internet_ctrlmsgtypes.htm)；如果你想过滤掉，例如，`ping`消息，你应该检查这个字段`type`，如果它等于`ICMP_ECHO`，你可以`return NF_DROP`。

# operators - MIPS - 通过与值表进行比较来加载值

> ID：15697513
> 
> 赞同：0
> 
> 时间：2013-03-29T04:46:36.893
> 
> 标签：operators, compare, add, mips

SO用户，

我希望有人可以分享他们关于如何解决这个问题的想法。可以说，我有一个值表。该表包含两列，第一列 (COL1) 具有与之关联的特定值，第二列 (COL2) 具有另一个值：

这些值都是十六进制的

```
COL1    COL2
 0       11
 1       90
 2       52
 3       C8
 4       B7 
```

现在，我要做的是，比较其中一个寄存器中的值，如果它与 COL1 中的任何值匹配，我必须使用来自 COL2 的相应值加载另一个寄存器。例如，如果我有一个值，比如 R2 = 1，我将不得不用 90 加载 R3。

我使用的方法涉及完全避免`lb`指令（我的目标）；

```
and $r1, $r1, $r0    #Initialise r1 to 0
addi $r1, $r1, 1     #load r1 with 1
beq $r2, $r1, LOAD_1 #Check to see if r2 = 1

and $r1, $r1, $r0
addi $r1, $r1, 2
beq $r2, $r1, LOAD_2

LOAD_1: 
and $r3, $r3, $zero
addi $r3, $r3, 0x52  #Load r3 with 0x52 as per the table

LOAD_2:
Load value into r3 as before. 
```

问题是，如果我有一张大桌子，它会变得非常长。如果存在一种方法（使用`lb`操作员），有人可以建议一种更短的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T08:09:24.180

如果`COL1`序列已排序，您可以执行[二进制搜索](http://en.wikipedia.org/wiki/Binary_search_algorithm)以快速找到给定值。

如果序列都按升序排序并且没有任何间隙或重复（即第*x:th*元素始终等于第*x-1:th*元素加 1），则变得更加容易：

```
if (R2 >= COL1[0] && R2 <= COL1[last_index]) {
    R3 = COL2[R2 - COL1[0]];
} 
```

# ios - NSTimeInterval 的准确性如何

> ID：15697514
> 
> 赞同：1
> 
> 时间：2013-03-29T04:46:38.417
> 
> 标签：ios, nsdate, nstimeinterval

我正在尝试获取两个 NSDates 之间的时间差。

```
NSDate *d1 = somedate;
NSDate *d2 = someOtherdate;
NSTimeInterval sec = [d2 timeIntervalSinceDate:d1]; 
```

NSTimeInterval 的准确度如何？它是否考虑到一个月中天数的变化，例如天数是 28、29、30 或 31？还有时区差异？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T04:48:56.837

`NSTimeInterval`实际上只是一个 typedefed `double`。因为`NSDate`表示单个时间点（与时区、日历等无关），`NSTimeInterval`表示两个日期（时间点）之间的秒数。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-29T04:53:07.883

> 准确度如何`NSTimeInterval`

在我知道他们有 Cocoa 的平台上，`NSTimeInterval`类型定义为`double`,

> 它是否考虑到一个月中天数的变化？

不是`NSTimeInterval`那样做的，它是一种**类型。**`NSDate`处理所有这些偏差的是各种类（ ，等等）。他们做得很好。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-29T04:56:51.570

`NSTimeInterval`实际上只是`double`.

`NSDate`封装了一个时间间隔，并提供了一个与之交互的接口。

如果您希望将该日期引用到我们的实际日历中，则必须使用`NSCalendar`和`NSDateComponents`类。

```
NSDateComponents *components = [[NSCalendar currentCalendar] components:NSDayCalendarUnit | NSMonthCalendarUnit | NSYearCalendarUnit fromDate:[NSDate date]]; 
```

然后你可以从组件对象中获取数据：

```
components.day
components.week
// etc 
```

假设玛雅文化从未灭绝。这个正确的时刻将由相同的 NSDate 对象表示，但通过不同的`NSCalendar`（如 a `NSMayanCalendar`），您将获得该日期的完全不同的表示。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-29T05:17:37.563

> NSTimeInterval 的准确度如何？

它精确到毫秒（如果不是更多）。

> 它是否考虑到一个月中天数的变化，例如天数是 28、29、30 或 31？

是的，差异将以秒为单位。`NSDate`处理一个月中的实际天数以及闰年和夏令时等。

> 还有时区差异？

`NSDate`值始终以 UTC 格式存储，因此您的`NSDate`对象始终位于同一时区。没有什么可处理的。

# eclipse - 在 ECLIPSE 的当前项目中更新 SVN 存储库 URL

> ID：15697515
> 
> 赞同：2
> 
> 时间：2013-03-29T04:46:45.397
> 
> 标签：eclipse, svn, visualsvn, visualsvn-server

我在 VisualSVN 服务器上创建了一个 SVN 存储库。我在 Eclipse IDE 中的台式计算机上使用 HTTPS 协议在 Internet 上使用此存储库。直到现在一切都运行良好。

突然间，我不得不更改服务器的域名，例如以前是这样`domain.org`，现在`domain.info`由于某种原因我必须这样做。

那么**如何更新**之前分配给 Eclipse IDE 中某些项目的存储库 URL，使其指向新的目标服务器？

## 编辑（因为 SO 的幸存者和所谓的专家）

我尝试了这些用户给我的评论中建议的解决方案，他们自己在 SO 上对待他们优于其他用户并将自己视为 SO 的幸存者，它给了我屏幕截图中显示的以下错误

![重新定位 SVN 存储库时出错](../Images/f77a3810d63a1ca134eeb4469976bcd7.png)

那我现在该怎么办？那些投票结束这个问题的用户可以回答我的问题吗？

**我认为那些不能回答问题的人无权编辑某人的问题，也无权关闭问题。**

谢谢你米希尔帕雷克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T08:42:50.747

屏幕截图上的错误意味着您输入了错误的存储库 URL 以重新定位到。URL`https://190dev.no-ip.info:8443/svn/`指向存储库列表，而不是存储库。

我想你想输入这样的东西：`https://190dev.no-ip.info:8443/svn/<repository-name>`.

# macos - 带有包含图像的自述文件的 Mac OS 安装程序包

> ID：15697516
> 
> 赞同：3
> 
> 时间：2013-03-29T04:46:46.607
> 
> 标签：macos, productbuild

我正在尝试`<readme>`在包的 Distribution.xml 部分中设置标签以包含可能包含图像的内容。现在我已经尝试过**rtfd**和**pdf**；对于**rtfd**，由于缺少权限，它无法打开文件，并且**pdf**显示为纯文本。所以问题是：如何在 Distribution.xml 中使用可能包含图像的东西

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2014-05-08T17:01:59.220

`productbuild`不能正确处理 .rtfd 文件，但我发现 OS X 10.9 Mavericks 也不能处理 HTML base 64 编码图像。

我的解决方法是使用`productbuild`虚拟 .rtf 文件，然后用于`pkgutil`重新打包安装程序。

您的`distribution.xml`文件包含：

```
<welcome file='Welcome-ReplaceMe.rtf' /> 
```

Welcome-ReplaceMe.rtf 存在于 Resources 内的 .lproj 文件夹中。构建安装程序后，但在您使用`productsign`扩展包对其进行签名之前：

```
pkgutil --expand Installer.mpkg Installer.expanded 
```

将 Installer.expanded 中的文件更改`Distribution`为使用：

```
<welcome file='Welcome.rtfd' /> 
```

并删除虚拟 Welcome-ReplaceMe.rtf 并添加 Welcome.rftd。最后重新打包安装程序：

```
pkgutil --flatten Installer.expanded Installer.mpkg 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-30T04:05:37.540

由于我没有找到解决方案，我使用了一些解决方法：

1.  将 RTF 转换为 HTML
2.  使用[此](http://webcodertools.com/imagetobase64converter/Create)站点将图像转换为嵌入的 html 图像并替换原始 html 中的所有链接图像
3.  在 Distribution.xml 中使用 html 而不是 rtfd

缺点是它需要做更多的工作，而且 html 在包中的显示方式与我在浏览器中看到的不同。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-06-17T20:31:19.643

我没有解决方案，只是一个创造性的解决方法:)

我试图应用现有的答案。

在我的情况下，带有嵌入图像（base64 编码）的 HTML 文件不起作用

所以我试图在包中获取图像文件，紧挨着 HTML 文件和类似的东西`<img src="./success.png" alt="success">`，这也不起作用：/

我的开箱即用解决方案是只使用表情符号而不是图像。就我而言，我想要的只是这个绿色复选标记，无论如何你都会在结论屏幕上看到。有一个表情符号 (✅) 看起来非常相似。

# android - 从 extras 中提取子字符串并附加到另一个变量

> ID：15697521
> 
> 赞同：0
> 
> 时间：2013-03-29T04:47:18.213
> 
> 标签：android, string, android-intent

经过几天的研究和无数编译器错误......我认为我需要社区的一些帮助。

我有一个简单的应用程序，它通过来自另一个应用程序的共享意图检索 url。我想从意图的 stringextra （这是一个 url）中提取一个值，将其添加到我的脚本 url 的末尾，并将最终的字符串作为 URL 发送到 URLconnection httpget 请求。

我已将脚本的 url 定义为变量。我已经了解了意图及其附加内容并将其放入变量中。我试图将我的 url 变量和 stringextra 变量连接起来无济于事，URLconnectio 给了我一个 MalformedURLException。我已经记录了 concat'd 变量，它看起来与我想要的完全一样，但由于某种原因它不会通过。

所以现在，我试图从 stringextra 中删除我需要的部分并将其放在我的脚本的 url 上，然后从新形成的字符串中发出 http get 请求。SO ....我如何在“v =”之后提取11个字符，它位于stringextra中，它是一个名为sharedText的变量？

```
 String goLoQooUrl = "http://my.domain.my/script.php?link=";

    private static final String TAG = "LTV";

@Override
public void onCreate(Bundle savedInstanceState)
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    Intent rIntent = getIntent();
    String rAction = rIntent.getAction();
    String rType = rIntent.getType();
    if (Intent.ACTION_SEND.equals(rAction) && "text/plain".equals(rType))
    displaySentText(rIntent);

    }

private void displaySentText (Intent rIntent) {
    String sharedText = rIntent.getStringExtra(Intent.EXTRA_TEXT);
    if (sharedText == null) return;
    if (sharedText.startsWith("http://")) {
    TextView url = (TextView) findViewById(R.id.URL);
    url.setText(String.valueOf(sharedText));

    ****String w = goLoQooUrl+SUBSTRING***** this is what I want
    Log.d("TAG", w);

    };
    playOnLoqooTv(w);
    }

private void playOnLoqooTv (String w) { 
   try {
          StrictMode.ThreadPolicy policy = new
          StrictMode.ThreadPolicy.Builder().permitAll().build();
          StrictMode.setThreadPolicy(policy); 
          URL url = new URL(w); 
```

我尝试了很多无济于事的事情，即尝试使用 substring 方法，它给了我一个错误，关于该方法不可用，我可能没有正确调用它。

任何宇宙大师都可以阐明一些观点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T05:07:56.910

试试这个： -

```
int indexOfv = sharedText.indexOf("="); // Get the index of =
indexOfv++; // To get the substring after this element.
String subString = sharedText.substring(indexOfv, indexOfv+11); //Get the 11 characters after the = sign. 
```

# xamarin.ios - 在 MvvmCross v3 (Hot Tuna) 中运行示例项目

> ID：15697523
> 
> 赞同：1
> 
> 时间：2013-03-29T04:47:26.677
> 
> 标签：xamarin.ios, mvvmcross

[我正在尝试运行MvvmCross v3 分支](https://github.com/slodge/MvvmCross/tree/v3)中存在的示例项目（即 BestSellers 和 Conference）。我成功地解决了强汇编参考问题。但是，每次运行示例项目时，都会在 MvxFullBinding 和 MvxValueConverterRegistryFiller 类中获得 System.TypeLoadException。

MvxFullBinding 类中的异常： ![在此处输入图像描述](../Images/c7480eae7144704b4f3966fbf08ef4ad.png)

MvxValueConverterRegistryFiller 类中的异常： ![在此处输入图像描述](../Images/75e9c249ee104d663e0b6127bfe6273c.png)

有人能够成功运行示例项目吗？我如何绕过这些异常？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T10:11:36.593

看起来您正在将其作为 Visual Studio 中的“触摸”项目运行？在这种情况下，您远远领先于我设法实现的目标。

如果这是正确的，那么我**怀疑**您所看到的是您拥有：

*   **针对可移植参考程序集在 VS/Windows 中**构建了适当的 PCL****
***   但这些不能针对当前的 MonoTouch/Xamarin.iOS 运行时**执行。****

 **如果您尝试，您可能会看到以下问题：[iOS 黑屏和 MissingMethodException: Method not found: 'System.Type.op_Equality'](https://stackoverflow.com/questions/14193608/ios-black-screen-and-missingmethodexception-method-not-found-system-type-op-e)

有关更多信息，请参阅[http://slodge.blogspot.co.uk/2013/01/almost-portable-binaries.html上的“几乎可移植的二进制文件”](http://slodge.blogspot.co.uk/2013/01/almost-portable-binaries.html)

XamLabs 中目前正在处理“适当的”PCL 支持 - 所以我希望现在 Xamarin.Android Alpha 频道中可能会有解决这个问题的方法 - 但不要指望这最初是无痛的。

当然，我可能错了——这真的是一个新领域，我会很想听到/读到你的冒险经历。如果您想尝试查找更多详细信息，那么尝试更深入地了解异常详细信息并查看 Mac 上的控制台日志跟踪可能会有所帮助。

* * *

对于这两个特殊的例外，我可以确认这两个样本......

![在我的机器上工作](../Images/0f830176f0b59aa6725ce54b3e7ac0d4.png)

...虽然那是**我在 Mac 上工作的时候**。**

# java - 我在 ArrayList 中有一堆单词（字符串？），我想知道是否可以找到每个元素的大小？

> ID：15697526
> 
> 赞同：1
> 
> 时间：2013-03-29T04:48:08.270
> 
> 标签：java, string, arraylist, size

所以就像标题所说的：我在 ArrayList 中有一堆单词，我想知道如何获取 ArrayList 中每个元素的大小。例如：

```
ArrayList input = new Arraylist();
input = {"Hello", "Goodbye", "Segall", "Ty"}; 
```

我想知道是否有办法找出第一个元素的长度，在这种情况下，它是“Hello”。我有一些想法，例如：

```
 input(0).size(); 
```

这显然是行不通的。我还尝试为它设置变量，如下所示：

```
String variable = input.get(0);
variable.length() or variable.size(); 
```

但事实证明——输入是一个对象，而变量需要一个字符串类型。我是这方面的初学者，所以如果这个愚蠢的简单问题我道歉！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T04:50:08.373

要么像这样对来自列表的对象进行类型转换`(String)input.get(0);`

或者像这样制作你的数组列表声明

```
ArrayList<String> input = new ArrayList<String>(); // Preferred way. 
```

这样你就不需要演员表了。

最后你可以打电话`variable.length()`来获取长度。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T04:51:39.503

一方面，您没有指定它是`String`. 声明数组列表时，要使用

```
ArrayList<String> input = new ArrayList<String>(); 
```

然后对于您要添加的每个元素，使用

```
input.add("myString"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T04:58:03.240

检查这个-

```
 final List<String> input = new ArrayList<String>() {
        {
            add("Hello");
            add("Goodbye");
            add("Segall");
            add("Ty");
        }
    };

    for(String word : input) {
        System.out.println(word + " --> " + word.length());
    } 
```

# python - python单字节函数

> ID：15697533
> 
> 赞同：1
> 
> 时间：2013-03-29T04:49:20.127
> 
> 标签：python, casting, byte

我有一个用于在 winamp 中设置音量的 python 函数，它似乎只接受一个字节作为它的音量控制参数。当我尝试向它传递一个字符串类型编号时，它会将音量设置为看起来非常奇怪的值。我认为这是因为它不是传递一个字节，而是读取它传递的整数的大端字节。

我的问题是，如何确保字符串类型编号在发送之前仅转换为范围 (0 - 255) 内的单个无符号字节？

```
if "volume" in message.lower():
    if (len(wordList) > 4):
        xcomPrint("Usage : \\winamp volume (0 to 100)")
    elif (Arg1.isdigit()):
        winampInstance.setVolume(Arg1)
        xcomPrint("Volume set to " + str(Arg1))
    else:
        xcomPrint("Incorrect Arguments")
        xcomPrint("Usage : \\winamp volume (0 to 100)") 
```

本质上，我需要将 Arg1 转换为单个字节。（我认为）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T04:58:14.597

没关系，

实际上将其从 string 转换为 int 可以使用：

```
int(Arg1) 
```

完整代码：

```
if "volume" in message.lower():
    if (len(wordList) > 4):
        xcomPrint("Usage : \\winamp volume (0 to 100)")
    elif (Arg1.isdigit()):
        winampInstance.setVolume(int(Arg1))
        xcomPrint("Volume set to " + str(Arg1))
    else:
        xcomPrint("Incorrect Arguments")
        xcomPrint("Usage : \\winamp volume (0 to 100)") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T05:08:24.990

您可以尝试使用结构

```
import struct
Arg1 = struct.pack('B', 255) 
```

# c++ - Cplex 随机数 (c++)

> ID：15697538
> 
> 赞同：1
> 
> 时间：2013-03-29T04:49:44.180
> 
> 标签：c++, random, cplex

我之前在 C++ 中做了一个随机数，但当我尝试使用 CPLEX 时它根本不起作用。

我想知道如何在 cplex 中做随机

我在 C++ 中做随机的方式：

```
int t = (rand() % 10) +1 ; 
```

我试试这个：

```
int main() {
srand(time(0));
IloEnv env; 
IloInt j;
IloModel model(env); 
IloInt dt = (rand() % 10) +1 ;
if(j > dt){
    ...
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T06:26:16.853

正如 Andrew 在上面评论的那样，在 CPLEX 中不可能进行像随机数生成这样的交互式编程。尽管您可以将 Java、C 或其他库与 CPLEX 一起用于此目的。如果您将 OPL 与 CPLEX 结合使用，那么生成随机数的一种方法是：

```
int mySeed;
execute{
var now = new Date();
mySeed = Opl.srand(Math.round(now.getTime()/1000));
}   
int tabSize = 60;
int myRandTab[i in 1..20] = 1 + rand(tabSize); 
```

# jquery - jQuery高度动画错误

> ID：15697540
> 
> 赞同：1
> 
> 时间：2013-03-29T04:49:50.887
> 
> 标签：jquery, html, css, animation

我不能发布我的整个来源，因为它很大，但也许有人可以阐明一些，因为我确信这也会发生在其他地方。

我有一个带有圆边的 DIV，使用 jquery 时，div 在两个高度之间切换。

奇怪的是，它确实在右侧，随着 DIV 的增长或缩小，div 右侧的一些像素被切掉了。使 div 看起来更薄，右下角变得尖锐（由于被舍入的 par 被截断）。动画完成后，

我正在尝试制作流畅的动画，这很让人分心。

项目现状

[http://eyerislabs.com/CurrentProject/](http://eyerislabs.com/CurrentProject/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T06:26:02.383

尝试这个

[**在这里**](http://jsfiddle.net/dqWqT/1/)生活小提琴[](http://jsfiddle.net/dqWqT/1/)

 ****HTML**

```
<div class="main_div">
    <span class="div_title">Which is your favourite car brand ? </span>
    <ul class="inner_list">
        <li>Car1</li>
        <li>Car2</li>
        <li>Car3</li>
    </ul>
</div>

<div class="main_div">
    <span class="div_title">Which is your favourite food ? </span>
    <ul class="inner_list">
        <li>food1</li>
        <li>food2</li>
        <li>food3</li>
    </ul>
</div> 
```

**CSS**

```
.main_div{
    -moz-border-radius: 10px;
    -webkit-border-radius: 10px;
    border-radius: 10px;
    border: 1px dotted green;
    width:275px;
}

.div_title{
    font-size:15px;
    font-style:italic;
} 
```

**jQuery**

```
$(".inner_list").hide();
$(".main_div").click(function(){
    $(".inner_list", this).slideToggle("slow");
}); 
```**

# javascript - 尝试清除 Google 地图标记时的范围问题

> ID：15697545
> 
> 赞同：0
> 
> 时间：2013-03-29T04:50:35.967
> 
> 标签：javascript, google-maps

我用这段代码创建了一个谷歌地图：

```
function load() {
      var markersArray = [];
      var map = new google.maps.Map(document.getElementById("map"), {

        zoom: 13,
        mapTypeId: 'roadmap'
      });
      var infoWindow = new google.maps.InfoWindow;

      // Change this depending on the name of your PHP file
      downloadUrl("getMapMarkers.php", function(data) {
        var bounds = new google.maps.LatLngBounds();
        var xml = data.responseXML;
        var markers = xml.documentElement.getElementsByTagName("marker");
        for (var i = 0; i < markers.length; i++) {
          var name = markers[i].getAttribute("name");
          var type = markers[i].getAttribute("type");
          var point = new google.maps.LatLng(
              parseFloat(markers[i].getAttribute("lat")),
              parseFloat(markers[i].getAttribute("lng")));
          var brewID = markers[i].getAttribute("brewID");
          //construct url
          var breweryLink = "http://beerportfolio.com/breweryPage.php?id=" + brewID;

          //create directions link
          http://maps.google.com/maps?daddr=
          var directionsLink = "http://maps.google.com/maps?daddr=";
          directionsLink = directionsLink + markers[i].getAttribute("lat") +"," + markers[i].getAttribute("lng")

          var html = "<b><a href=\"" + breweryLink + "\">"+name+"</a> </b> <br/>" ;
          html = html + "<br> <br>";
          html = html + "<a  href=\"" + directionsLink + " \">(Click for Directions)</a>";
          var icon = customIcons[type] || {};
          var marker = new google.maps.Marker({
            map: map,
            position: point,
            icon: icon.icon,
            shadow: icon.shadow
          });
          markersArray.push(marker);

          bindInfoWindow(marker, map, infoWindow, html);
          bounds.extend(point);

        }
        map.fitBounds(bounds);
      });

    }

    function bindInfoWindow(marker, map, infoWindow, html) {
      google.maps.event.addListener(marker, 'click', function() {
        infoWindow.setContent(html);
        infoWindow.open(map, marker);
      });
    }

    function downloadUrl(url, callback) {
      var request = window.ActiveXObject ?
          new ActiveXObject('Microsoft.XMLHTTP') :
          new XMLHttpRequest;

      request.onreadystatechange = function() {
        if (request.readyState == 4) {
          request.onreadystatechange = doNothing;
          callback(request, request.status);
        }
      };

      request.open('GET', url, true);
      request.send(null);
    }

    function getMapVisit()
    {
        alert("clearing overlays...");
        clearOverlays();

        return false;
    }

function clearOverlays() {
  if (markersArray) {
    for (i in markersArray) {
      markersArray[i].setMap(null);
    }
  }
}

function setAllMap(map) {
    for (var i = 0; i < markers.length; i++) {
        markers[i].setMap(map);
    }
}

    function doNothing() {} 
```

当我尝试删除标记以重新加载不同的标记时，我无法将它们从地图上删除。

按下按钮时，我调用`getMapVisit()`然后调用`clearOverlays()`，但`clearOverlays()`不清除地图。在 Chrome 中，当我检查元素时，我收到此错误：

```
Uncaught ReferenceError: markersArray is not defined 
```

该错误在第 86 行调用，即：

```
if (markersArray) { 
```

我不知道为什么它在顶部明确初始化的数组时没有定义`load()`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T04:53:39.700

您需要在函数`var markersArray = [];`上方进行定义，以便在所有函数中定义并访问它。`load``globally`

# php - PHP - 可以自动更改我的个人资料吗？封面照片？

> ID：15697566
> 
> 赞同：0
> 
> 时间：2013-03-29T04:53:24.657
> 
> 标签：php, facebook, profile, image

好奇 PHP Facebook SDK 是否允许我只更改我自己的个人资料图片和封面照片。根据我所做的阅读，我认为没有，但我找不到任何最近的直接文章。

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T05:24:00.427

看起来你实际上无法改变它，但你可以做到一半！

[通过 API 设置 Facebook 封面照片](https://stackoverflow.com/questions/7849783/setting-facebook-cover-photo-via-api)

“没有 API 支持更改用户个人资料封面，但您可以上传照片，然后将用户重定向到：[http](http://www.facebook.com/profile.php?preview_cover=PHOTO_ID) ://www.facebook.com/profile.php?preview_cover=PHOTO_ID ”

# sqlite - 在更新 Sqlite 数据库时更新 QSqlTableModel

> ID：15697567
> 
> 赞同：1
> 
> 时间：2013-03-29T04:53:38.190
> 
> 标签：sqlite, qt4

我有一个 QSqlTableModel，它有一个链接到它的 Sqlite 数据库表。我的数据库表可以通过模型或直接从其他来源更新。

每当更新特定表而不使用 select() 函数时，我如何刷新我的模型以从表中获取更新的数据。

```
QSqlTableModel * dbEmployeeModel = new QSqlTableModel(this, db); // db refers Sqlite db connection

dbEmployeeModel->setTable("EMP"); 
```

我希望每当数据库中的 EMP 表发生更改时更新我的​​ dbEmployeeModel，而不使用 dbEmployeeModel->select()

# android - 为什么警报广播接收器不接收广播？

> ID：15697574
> 
> 赞同：0
> 
> 时间：2013-03-29T04:54:05.580
> 
> 标签：android, android-service, alarmmanager

我正在尝试在`BroadcastReceiver`. 我已将接收器定义为**服务本身的内部类，**如下所示：

```
public class AlarmReciever extends BroadcastReceiver {

    @Override
    public void onReceive(Context context, Intent intent) {
        Log.d("RTESPLDebug", "Recieved Broadcast!"); //Never appears in LogCat
        //Intent i = new Intent(context, LocationUpdateService.class);
        context.startService(intent);
    }
}; 
```

我在服务中注册了警报接收器`onCreate()`：

```
context = super.getApplicationContext();

AlarmReceiver ar = new AlarmReceiver();
IntentFilter intfilter = new IntentFilter(Intent.ACTION_DEFAULT);
intfilter.addCategory(Intent.CATEGORY_DEFAULT);
registerReceiver(ar, intfilter); 
```

我首先从我的第一个活动开始服务，然后在那里注册一个警报：

```
Intent i = new Intent(context, LocationUpdateService.class);
context.startService(i);

// Schedule first alarm
int nextUpdateInterval = 30*1000; // Let first alarm be after 30 sec
Calendar cal = Calendar.getInstance();
Intent intent = new Intent(context, LocationUpdateService.class);
intent.setAction(Intent.ACTION_DEFAULT);
intent.addCategory(Intent.CATEGORY_DEFAULT);
PendingIntent pintent = PendingIntent.getBroadcast(context, 0, intent, 0);
AlarmManager alarm = (AlarmManager)getSystemService(Context.ALARM_SERVICE);
alarm.set(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis()+nextUpdateInterval, pintent); 
```

在我注册单个位置更新的服务中，当我收到更新（我确实收到）时，我对其进行处理（我已经调试过，处理确实完成没有错误），然后我以与上述类似的方式注册下一个警报：

```
int nextUpdateInterval = getNextUpdateInterval(); // Returns 30000
Calendar cal = Calendar.getInstance();
Intent intent = new Intent(context, LocationUpdateService.class);
intent.setAction(Intent.ACTION_DEFAULT);
intent.addCategory(Intent.CATEGORY_DEFAULT);
PendingIntent pintent = PendingIntent.getBroadcast(context, 0, intent, 0);
AlarmManager alarm = (AlarmManager)getSystemService(Context.ALARM_SERVICE);
alarm.set(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis()+nextUpdateInterval, pintent); 
```

很多代码和很长的问题。

# php - PHP:my session_variables 显示页面何时刷新

> ID：15697575
> 
> 赞同：0
> 
> 时间：2013-03-29T04:54:32.847
> 
> 标签：php, session-variables

我知道这是非常简单的事情，但我不知道这一点。我在同一页面上有一个注册表单的 php 代码，当任何条件与代码匹配时，它会显示一些会话变量。

代码结构是这样的：

```
 <?php
         session_start();
         if(isset($_POST['signup'])
       {
      if(condition)
       {
          $_SESSION['err1']="string";
       }
     else
       {
           $_SESSION['err2']="string";
       }
     }

     ?>

                 //HTML form
    <?php if(isset($_SESSION['err1']) {?>
    <li><?php echo $_SESSION['err1'];}?></li>

    <?php if(isset($_SESSION['err2']) {?>
    <li><?php echo $_SESSION['err2'];}?></li>

                 //rest of the form 
```

我的代码中有更多的 if-else 块。最初，当条件匹配时，会显示会话消息。但是，一旦页面刷新，另一个会话消息就会与之前的会话消息一起显示。

这是用表格编码的正确方法吗？因为我想在 html 表单中显示错误消息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T05:05:08.390

回显后只需取消设置会话变量。

```
<li><?php echo $_SESSION['err1'];} unset($_SESSION['err1']); ?></li> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T05:11:26.857

这可能是因为您没有清空会话变量。

在 2 个 HTTP 请求之间，会话保持在服务器上（只是在每次请求时重新加载）。

因此，如果您要`$_SESSION['error1']`为第一次通话添加消息，它会显示它。然后，在第二次加载时，如果您在 上添加消息`$_SESSION['error2']`，您还将收到消息，`error1`因为会话保留您的数据。

显示表格后，您应该清空所有会话消息

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T05:25:43.447

这确实是一个使用 session 来回显错误的坏例子。

我在我的 php 开始时做了很多次。

```
$errors = array(); // make a empty array errors before the conditional statements
if ($_SERVER['REQUEST_METHOD'] == 'POST' && isset($_POST['Submit'])) {
      //handle your POST variable
      if(condition1){ 
          $errors[] = "some error";
      } 
      if(condition2) {
          $errors[] = "some another error";
      }
      //more conditions

     if (!empty($errors)) {
           //process your form data if there is no errro
     } else {
        //display back your form along with Errors
        if(isset($errors) && !empty($errors)) {

             foreach($errors as $error) {
                echo "<p class = 'error'>" . $error . "</p>";
              }
        }
        <form action = "" method = "POST">
           //your form elements
        </form>
     }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-29T06:45:30.027

在 php 页面的第一行，你可以写你可以尝试 if 条件之间的三行中的任何一行

```
if(isset($_SESSION))
{
unset($_SESSION); 
unregister($_SESSION['variable-name']) // try this also 
session_destroy();  //try this also 
} 
```

# python - Python matplotlib 和 libpng 不兼容问题

> ID：15697580
> 
> 赞同：2
> 
> 时间：2013-03-29T04:55:06.720
> 
> 标签：python, matplotlib, libpng

我真的被这个问题困扰了这么久。
最初，在用 matplotlib 绘制一些东西后，我可以轻松地保存图像。
但是，安装 scipy 后，我无法再保存我的图像了。
（我使用pip安装了matplot和scipy。）
我试图查找一些信息，但仍然无法解决问题。
我的操作系统是 Mac OS X Lion (10.7)

我认为以下链接是一些相关问题

[https://github.com/ipython/ipython/issues/2710](https://github.com/ipython/ipython/issues/2710)
[Matplotlib pylab savefig 运行时错误在 python 3.2.3](https://stackoverflow.com/questions/11408173/matplotlib-pylab-savefig-runtime-error-in-python-3-2-3)
[matplotlib 和 libpng 问题与 ipython 笔记本](https://stackoverflow.com/questions/13817940/matplotlib-and-libpng-issues-with-ipython-notebook)
[libpng15 静态链接问题](https://stackoverflow.com/questions/11685764/libpng15-static-link-issues)

看来如果我可以重新链接库或设置 DYLD_LIBRARY_PATH （实际上我不知道那是什么......）

或者也许我必须重新编译一些东西？
顺便说一句，我对基于 linux 的系统非常陌生，所以如果有人能以相对简单的方式解释它，那就太好了。非常感谢你。

以下是一些错误信息：

```
libpng warning: Application was compiled with png.h from libpng-1.5.4
libpng warning: Application  is  running with png.c from libpng-1.4.10
libpng warning: Incompatible libpng version in application and library
---------------------------------------------------------------------------
RuntimeError                              Traceback (most recent call last)
/Library/Python/2.7/site-packages/matplotlib/backends/backend_macosx.pyc in save_figure(self, *args)
    476         if filename is None: # Cancel
    477             return
--> 478         self.canvas.print_figure(filename)
    479 
    480     def prepare_configure_subplots(self):

/Library/Python/2.7/site-packages/matplotlib/backend_bases.pyc in print_figure(self, filename, dpi, facecolor, edgecolor, orientation, format, **kwargs)
   2094                 orientation=orientation,
   2095                 bbox_inches_restore=_bbox_inches_restore,
-> 2096                 **kwargs)
   2097         finally:
   2098             if bbox_inches and restore_bbox:

/Library/Python/2.7/site-packages/matplotlib/backend_bases.pyc in print_png(self, *args, **kwargs)
   1856         from backends.backend_agg import FigureCanvasAgg # lazy import
   1857         agg = self.switch_backends(FigureCanvasAgg)
-> 1858         return agg.print_png(*args, **kwargs)
   1859 
   1860     def print_ps(self, *args, **kwargs):

/Library/Python/2.7/site-packages/matplotlib/backends/backend_agg.pyc in print_png(self, filename_or_obj, *args, **kwargs)
    502             _png.write_png(renderer._renderer.buffer_rgba(),
    503                            renderer.width, renderer.height,
--> 504                            filename_or_obj, self.figure.dpi)
    505         finally:
    506             if close:

RuntimeError: Could not create write struct 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-29T07:11:09.463

如果您保存 JPG，则不需要 PNG 支持。也不需要 PIL：

```
import pylab as pl
pl.plot([0.2,0.3,0.4], [0.1,0.2,0.3], label='series name')
pl.xlabel('x label')
pl.ylabel('y label')
pl.ylim([0.0, 1.0])
pl.xlim([0.0, 1.0])
pl.title('Title')
pl.legend(loc="lower left")
pl.savefig('output.jpg')
pl.show() 
```

# opengl - 为什么这个 GLSL 着色器不能在 Intel G41 上运行？

> ID：15697586
> 
> 赞同：0
> 
> 时间：2013-03-29T04:55:58.980
> 
> 标签：opengl, glsl, intel

关于我的显卡的一些信息：
GL_RENDERER: **Intel(R) G41 Express Chipset**
OpenGL_VERSION: **2.1.0 - Build 8.15.10.1986**
GLSL_VERSION: **1.20 - Intel Build 8.15.10.1986**

顶点着色器 1：

```
#version 110
attribute vec3 vertexPosition_modelspace;

varying vec3 normal;
varying vec3 vertex;

void light(inout vec3 ver, out vec3 nor);

void main()
{
    gl_Position = vec4(vertexPosition_modelspace, 1.0);
    light(vertex, normal);
} 
```

顶点着色器 2：

```
#version 110

void light(inout vec3 ver, out vec3 nor)
{
    ver = vec3(0.0,1.0,0.0);
    //vec3 v = -ver;  // wrong line
    nor = vec3(0.0,0.0,1.0);
    //float f = dot(ver, nor);  // wrong line
} 
```

片段着色器：

```
#version 110

varying vec3 normal;
varying vec3 vertex;

void main()
{
    gl_FragColor = vec4(vertex, 1.0);
} 
```

如果这两行在第二个顶点着色器中被注释，这些着色器工作得很好。但是，一旦启用其中之一，我们就会收到错误消息。该错误发生在 opengl 函数**glDrawArrays**中。

似乎**out/inout**的变量不能用作正确的值。
我在**Intel HD Graphics 3000**上运行了相同的程序，opengl 的版本是**3.1**和 GLSL 的版本是**1.4**，并且程序运行良好。这是英特尔驱动程序的错误还是我用错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-04-27T02:15:06.703

因为 intel g41 是一个极弱的 gpu。通过它的唯一方法是升级你的GPU。

# iphone - 如何裁剪精灵的某些部分？

> ID：15697592
> 
> 赞同：3
> 
> 时间：2013-03-29T04:56:20.467
> 
> 标签：iphone, cocos2d-iphone

我正在开发一款类似iPhone 中的点击蚂蚁（ [https://itunes.apple.com/us/app/tap-tap-ants/id348839552?mt=8 ）的游戏。](https://itunes.apple.com/us/app/tap-tap-ants/id348839552?mt=8)

我想裁剪一些精灵。当蚂蚁碰到蛋糕精灵时，蛋糕的一部分就会消失。我研究了很多，但找不到任何解决方案。

请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T05:43:13.403

您可以使用 CCSpriteBatchNode 形式的 spritesheets 在 sprite 上设置显示框架。如下所示。这允许您选择要显示的精灵表的框区域。

```
CCSpriteBatchNode *caveSheet = [CCSpriteBatchNode batchNodeWithFile:@"cavey_ss3.png"];
[self addChild:caveSheet];
CCSprite *player = [CCSprite spriteWithFile:@"somethingUnimportant.png"];

CCSpriteFrame *frame = [CCSpriteFrame frameWithTexture:caveSheet.texture rect:CGRectMake(0,0,300,300)];   
//(x-start, y-start, width, height)

[player setDisplayFrame:frame]; 
```

或者，如果您希望图像角落中的凹口之类的东西消失，那么您可以设置两个精灵在同一个 CCSpriteBatchNode 上工作，具有不同的帧，如下图所示。

![在此处输入图像描述](../Images/0b05773510dd5d44916478c7941850b9.png)

在此示例中，框架将是这样的

sprite1 有 CGRectMake(0,10,10,40)

精灵 2 有 CGRectMake(10,0,20,50)

但是当然你也必须相应地定位精灵。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T15:36:27.727

在最新版本的 cocos2d-iphone 中，他们添加了一个名为 CCClippingNode 的类。您可以使用它来剪辑（仅显示部分）您的节点及其内容。

[http://www.cocos2d-iphone.org/api-ref/2.1.0/interface_c_c_clipping_node.html](http://www.cocos2d-iphone.org/api-ref/2.1.0/interface_c_c_clipping_node.html)

# android - 如何在设计时区分 7" (1024*600) 平板电脑和 10.1" (1280*800) 平板电脑

> ID：15697593
> 
> 赞同：1
> 
> 时间：2013-03-29T04:56:24.997
> 
> 标签：android, android-layout

我正在开发支持 7" 1024*600 分辨率和 10.1" 1280*800 分辨率的平板电脑应用程序。因此，为了区分它们，我为 7" 制作了文件夹 layout-large-mdpi，为 10.1" 制作了 layout-xlarge-mdpi。但是，当我运行该应用程序时，它从两个设备的 layout-xlarge-mdpi 文件夹中运行。谁能指导我如何通过xml中的文件夹区分这两款平板电脑？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T05:26:54.487

为布局制作两种不同的布局，一种 7 英寸的布局为 layout-sw600dp，10 英寸的布局为 layout-720dp。并且在图像中也可以将 drawable 设置为 drawable-large-hdpi(7Inch) 和 drawable-xlarge-mdpi(10Inch)。

![检查这些资源文件夹图像。](../Images/a623af3e5504239f511e84fe1c5c25f4.png)

# visual-studio-2012 - C++/CX XAML 图像可见性

> ID：15697596
> 
> 赞同：1
> 
> 时间：2013-03-29T04:56:43.810
> 
> 标签：visual-studio-2012, windows-runtime, winrt-xaml, c++-cx

我在 Visual Studio 2012 中有一个项目，使用 XAML 和 C++/CX。我想将 XAMl 中图像对象的 Visibilty 属性设置为 C++ 代码中的“已折叠”。这就是我得到的...

```
<Image x:Name="card1" HorizontalAlignment="Left" Height="237" Margin="246,138,0,0" VerticalAlignment="Top" Width="178" Source="b2fv.png" Tapped="card1_Tapped"/> 
```

我正在尝试将其设置为 Collapsed 但找不到任何如何在 C++/CX 中执行此操作的示例？

```
card1->SetValue(Visibility); 
```

这是据我所知。我想它相对简单，但我无法获得正确的语法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T05:31:36.587

您可以像这样设置可见性：

```
card1->Visibility = Windows::UI::Xaml::Visibility::Collapsed;
card1->Visibility = Windows::UI::Xaml::Visibility::Visible; 
```

# c++ - C++：命名空间中变量的生命周期

> ID：15697597
> 
> 赞同：0
> 
> 时间：2013-03-29T04:56:48.280
> 
> 标签：c++, namespaces

有人可以向我解释命名空间中变量的生命周期吗？假设我有以下文件：

文件.h：

```
// ...
namespace variables{
    int x, y;
} 
```

文件.cpp：

```
#include "file.h"
using namespace variables;

int main(){
    ...
} 
```

`x`和的范围是`y`什么？我问是因为，在我正在阅读的一本书（C++ Primer Plus）中，作者推荐了`using namespace`s 内部函数，所以我认为它们是在`using`命令点定义的。但是，当我这样做时：

乙：

```
class B{
     // class stuff
};

namespace variables{
    int x, y;
} 
```

然后在`main.cpp`（主程序）和`B.cpp`（类实现）中添加该`#include "B.h"`行，我得到一个错误，我有多个定义`variables::x`and `variables::y`，即使`using`在任何文件中都没有。这是怎么回事？我是否混淆了两个不同的概念？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-29T05:00:40.917

如果您像以前一样直接在命名空间中声明变量，它们将简单地作为**全局变量**存在。

因此，适用于普通全局变量的规则也适用于那些：只要程序运行，它们就会存在，你不应该在头文件中定义它们。

包括.h

```
namespace Variables
{
    extern int x;
    extern int y;
} 
```

文件.cpp

```
namespace Variables
{
    int x;
    int y;
} 
```

编写`using namespace Variables`将只允许您通过它们的名称访问这些变量，`x`而`y`不必在它们前面加上前缀`Variables::`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T04:58:51.147

命名空间对变量的生命周期*没有*影响，所以：

```
namespace variables{
    int x, y;
}

#include "file.h"
using namespace variables;

int main(){
    ...
} 
```

> x 和 y 的范围是什么？

这些变量是全局的，因此它们的生命周期等于整个应用程序的生命周期。

请记住，这`using namespace`只是`NamespaceName::`在此命名空间中的元素前面写入的快捷方式。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-29T05:02:00.893

> 我添加了#include "Bh" 行，我得到一个错误，我有多个变量定义：：x 和变量：：y，即使在任何文件中都没有使用。这是怎么回事？我是否混淆了两个不同的概念？

即使您没有显式导入命名空间，您的变量也会被声明。关键字`using`导入当前范围内的命名空间或特定名称，这样您就不必预先`X::`访问已定义的元素。

变量的生命周期不受命名空间的影响。

# c++ - 如何更改 std::priority_queue top() 的值？

> ID：15697600
> 
> 赞同：4
> 
> 时间：2013-03-29T04:57:03.407
> 
> 标签：c++, c++11, stl, constants, priority-queue

使用 std::priority_queue top() 时，它返回一个常量引用。那么有没有办法既可以利用 std::priority_queue 又可以更改 top() 的值？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T11:01:52.243

我必须首先[澄清](https://stackoverflow.com/questions/15701123/why-not-modify-key-of-associative-container)关于关联容器的一点，但现在我终于能够写出我对这个问题的答案了。

@Xymotech 的评论中已经概述了修改作为关联容器一部分的对象的键时的基本策略。您复制/检索元素，将其从容器中删除，对其进行修改，最后将其重新插入容器中。

您的问题和评论中关于使用指针的想法表明复制对象可能很昂贵，因此您还应该知道*可以*使用指针来提高效率，但您*仍然*需要应用上面的基本方案。

考虑：

```
template< typename T >
struct deref_less
{
  typedef std::shared_ptr<T> P;
  bool operator()( const P& lhs, const P& rhs ) { return *lhs < *rhs; }
};

std::priority_queue< std::shared_ptr< MyClass >,
                     std::vector< MyClass >,
                     deref_less< MyClass > > pq; 
```

现在如果你想修改 的一个对象`MyClass`，你仍然需要

```
auto e = pq.top();
pq.pop();
e->modify( 42 );
pq.push(e); 
```

但是如果`MyClass`复制成本很高，使用`std::shared_ptr`自定义比较器可能有助于使其更快。

# android - 使用蓝牙自动将文件传输到 android 中的 PAIRED 设备

> ID：15697601
> 
> 赞同：1
> 
> 时间：2013-03-29T04:57:44.170
> 
> 标签：android, file, bluetooth, transfer

我是android编程的新手。所以，基本上我试图自动将文件从我的安卓手机（2.3.3）传输到配对的笔记本电脑蓝牙......

我可以使用共享手动发送-蓝牙-搜索配对设备然后发送。

但我想自动完成这个。

APP 只能在发送方。（呃！接收器是笔记本电脑）

应用代码：

```
File myFile = new File(Environment.getExternalStorageDirectory()+"/mysdfile.txt");
mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();
if(mBluetoothAdapter == null){}
if(!mBluetoothAdapter.isEnabled()){
    Intent enableBluetooth = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);
    startActivityForResult(enableBluetooth, 0);
}
Set<BluetoothDevice> pairedDevices = mBluetoothAdapter.getBondedDevices();
if(pairedDevices.size() > 0){
    for(BluetoothDevice device : pairedDevices){
        if(device.getName().equals("HARSHAR-HP")){
            mmDevice = device;
            mdeviceadd= device.getAddress();

            Log.d(TAG, "found device");
            break;
        }else {
            Log.d(TAG, "FAilure");
        }
   }
}
ContentValues values = new ContentValues();
values.put(BluetoothShare.URI,Environment.getExternalStorageDirectory()+"/mysdfile.txt");
values.put(BluetoothShare.DESTINATION,   mdeviceadd);
values.put(BluetoothShare.DIRECTION, BluetoothShare.DIRECTION_OUTBOUND);
Long ts = System.currentTimeMillis();
values.put(BluetoothShare.TIMESTAMP, ts);
getContentResolver().insert(BluetoothShare.CONTENT_URI, values);

Log.d(TAG, "Till here ok"); 
```

**蓝牙共享.java：**

```
import android.provider.BaseColumns;
import android.net.Uri;

/**
 * Exposes constants used to interact with the Bluetooth Share manager's content
 * provider.
 */

public final class BluetoothShare implements BaseColumns {
private BluetoothShare() {
}
/**
 * The permission to access the Bluetooth Share Manager
 */
public static final String PERMISSION_ACCESS = "android.permission.ACCESS_BLUETOOTH_SHARE";

/**
 * The content:// URI for the data table in the provider
 */
public static final Uri CONTENT_URI = Uri.parse("content://com.android.bluetooth.opp/btopp");

/**
 * Broadcast Action: this is sent by the Bluetooth Share component to
 * transfer complete. The request detail could be retrieved by app * as _ID
 * is specified in the intent's data.
 */
public static final String TRANSFER_COMPLETED_ACTION = "android.btopp.intent.action.TRANSFER_COMPLETE";

/**
 * This is sent by the Bluetooth Share component to indicate there is an
 * incoming file need user to confirm.
 */
public static final String INCOMING_FILE_CONFIRMATION_REQUEST_ACTION = "android.btopp.intent.action.INCOMING_FILE_NOTIFICATION";

/**
 * This is sent by the Bluetooth Share component to indicate there is an
 * incoming file request timeout and need update UI.
 */
public static final String USER_CONFIRMATION_TIMEOUT_ACTION = "android.btopp.intent.action.USER_CONFIRMATION_TIMEOUT";

/**
 * The name of the column containing the URI of the file being
 * sent/received.
 */
public static final String URI = "uri";

/**
 * The name of the column containing the filename that the incoming file
 * request recommends. When possible, the Bluetooth Share manager will
 * attempt to use this filename, or a variation, as the actual name for the
 * file.
 */
public static final String FILENAME_HINT = "hint";

/**
 * The name of the column containing the filename where the shared file was
 * actually stored.
 */
public static final String _DATA = "_data";

/**
 * The name of the column containing the MIME type of the shared file.
 */
public static final String MIMETYPE = "mimetype";

/**
 * The name of the column containing the direction (Inbound/Outbound) of the
 * transfer. See the DIRECTION_* constants for a list of legal values.
 */
public static final String DIRECTION = "direction";

/**
 * The name of the column containing Bluetooth Device Address that the
 * transfer is associated with.
 */
public static final String DESTINATION = "destination";

/**
 * The name of the column containing the flags that controls whether the
 * transfer is displayed by the UI. See the VISIBILITY_* constants for a
 * list of legal values.
 */
public static final String VISIBILITY = "visibility";

/**
 * The name of the column containing the current user confirmation state of
 * the transfer. Applications can write to this to confirm the transfer. the
 * USER_CONFIRMATION_* constants for a list of legal values.
 */
public static final String USER_CONFIRMATION = "confirm";

/**
 * The name of the column containing the current status of the transfer.
 * Applications can read this to follow the progress of each download. See
 * the STATUS_* constants for a list of legal values.
 */
public static final String STATUS = "status";

/**
 * The name of the column containing the total size of the file being
 * transferred.
 */
public static final String TOTAL_BYTES = "total_bytes";

/**
 * The name of the column containing the size of the part of the file that
 * has been transferred so far.
 */
public static final String CURRENT_BYTES = "current_bytes";

/**
 * The name of the column containing the timestamp when the transfer is
 * initialized.
 */
public static final String TIMESTAMP = "timestamp";

/**
 * This transfer is outbound, e.g. share file to other device.
 */
public static final int DIRECTION_OUTBOUND = 0;

/**
 * This transfer is inbound, e.g. receive file from other device.
 */
public static final int DIRECTION_INBOUND = 1;

/**
 * This transfer is waiting for user confirmation.
 */
public static final int USER_CONFIRMATION_PENDING = 0;

/**
 * This transfer is confirmed by user.
 */
public static final int USER_CONFIRMATION_CONFIRMED = 1;

/**
 * This transfer is auto-confirmed per previous user confirmation.
 */
public static final int USER_CONFIRMATION_AUTO_CONFIRMED = 2;

/**
 * This transfer is denied by user.
 */
public static final int USER_CONFIRMATION_DENIED = 3;

/**
 * This transfer is timeout before user action.
 */
public static final int USER_CONFIRMATION_TIMEOUT = 4;

/**
 * This transfer is visible and shows in the notifications while in progress
 * and after completion.
 */
public static final int VISIBILITY_VISIBLE = 0;

/**
 * This transfer doesn't show in the notifications.
 */
public static final int VISIBILITY_HIDDEN = 1;

/**
 * Returns whether the status is informational (i.e. 1xx).
 */
public static boolean isStatusInformational(int status) {
    return (status >= 100 && status < 200);
}

/**
 * Returns whether the transfer is suspended. (i.e. whether the transfer
 * won't complete without some action from outside the transfer manager).
 */
public static boolean isStatusSuspended(int status) {
    return (status == STATUS_PENDING);
}

/**
 * Returns whether the status is a success (i.e. 2xx).
 */
public static boolean isStatusSuccess(int status) {
    return (status >= 200 && status < 300);
}

/**
 * Returns whether the status is an error (i.e. 4xx or 5xx).
 */
public static boolean isStatusError(int status) {
    return (status >= 400 && status < 600);
}

/**
 * Returns whether the status is a client error (i.e. 4xx).
 */
public static boolean isStatusClientError(int status) {
    return (status >= 400 && status < 500);
}

/**
 * Returns whether the status is a server error (i.e. 5xx).
 */
public static boolean isStatusServerError(int status) {
    return (status >= 500 && status < 600);
}

/**
 * Returns whether the transfer has completed (either with success or
 * error).
 */
public static boolean isStatusCompleted(int status) {
    return (status >= 200 && status < 300) || (status >= 400 && status < 600);
}

/**
 * This transfer hasn't stated yet
 */
public static final int STATUS_PENDING = 190;

/**
 * This transfer has started
 */
public static final int STATUS_RUNNING = 192;

/**
 * This transfer has successfully completed. Warning: there might be other
 * status values that indicate success in the future. Use isSucccess() to
 * capture the entire category.
 */
public static final int STATUS_SUCCESS = 200;

/**
 * This request couldn't be parsed. This is also used when processing
 * requests with unknown/unsupported URI schemes.
 */
public static final int STATUS_BAD_REQUEST = 400;

/**
 * This transfer is forbidden by target device.
 */
public static final int STATUS_FORBIDDEN = 403;

/**
 * This transfer can't be performed because the content cannot be handled.
 */
public static final int STATUS_NOT_ACCEPTABLE = 406;

/**
 * This transfer cannot be performed because the length cannot be determined
 * accurately. This is the code for the HTTP error "Length Required", which
 * is typically used when making requests that require a content length but
 * don't have one, and it is also used in the client when a response is
 * received whose length cannot be determined accurately (therefore making
 * it impossible to know when a transfer completes).
 */
public static final int STATUS_LENGTH_REQUIRED = 411;

/**
 * This transfer was interrupted and cannot be resumed. This is the code for
 * the OBEX error "Precondition Failed", and it is also used in situations
 * where the client doesn't have an ETag at all.
 */
public static final int STATUS_PRECONDITION_FAILED = 412;

/**
 * This transfer was canceled
 */
public static final int STATUS_CANCELED = 490;

/**
 * This transfer has completed with an error. Warning: there will be other
 * status values that indicate errors in the future. Use isStatusError() to
 * capture the entire category.
 */
public static final int STATUS_UNKNOWN_ERROR = 491;

/**
 * This transfer couldn't be completed because of a storage issue.
 * Typically, that's because the file system is missing or full.
 */
public static final int STATUS_FILE_ERROR = 492;

/**
 * This transfer couldn't be completed because of no sdcard.
 */
public static final int STATUS_ERROR_NO_SDCARD = 493;

/**
 * This transfer couldn't be completed because of sdcard full.
 */
public static final int STATUS_ERROR_SDCARD_FULL = 494;

/**
 * This transfer couldn't be completed because of an unspecified un-handled
 * OBEX code.
 */
public static final int STATUS_UNHANDLED_OBEX_CODE = 495;

/**
 * This transfer couldn't be completed because of an error receiving or
 * processing data at the OBEX level.
 */
public static final int STATUS_OBEX_DATA_ERROR = 496;

/**
 * This transfer couldn't be completed because of an error when establishing
 * connection.
 */
public static final int STATUS_CONNECTION_ERROR = 497;

} 
```

代码中没有错误......但没有任何反应。文件未传输..请有人帮我修复代码..不要让我看示例，不明白如何通过它发送文件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-20T13:10:51.213

恐怕这种传输文件的方式在 Android 4+ 中无效。

相反，您可以使用这段代码，虽然它不会自动传输文件，但它会提示用户选择目标。我认为不再可能在没有用户授权的情况下发送文件，我认为这是一个巨大的安全漏洞。

```
public void sendFile(String fileName){

    Log.d(TAG, "Sending file...");

    File dir = Environment.getExternalStorageDirectory();
    File manualFile = new File(dir, "/" + fileName);
    Uri uri = Uri.fromFile(manualFile);
    String type = "application/pdf";

    Intent sharingIntent = new Intent(android.content.Intent.ACTION_SEND);
    sharingIntent.setType(type);
    sharingIntent.setClassName("com.android.bluetooth", "com.android.bluetooth.opp.BluetoothOppLauncherActivity");
    sharingIntent.putExtra(Intent.EXTRA_STREAM, uri);
    startActivity(sharingIntent);
} 
```

# assembly - 使用循环在 TASM 中绘制像素化字符或精灵？

> ID：15697602
> 
> 赞同：-1
> 
> 时间：2013-03-29T04:57:45.330
> 
> 标签：assembly, x86, tasm

有没有办法使用循环在 TASM 中绘制像素化字符？就像使用 LOOP 命令绘制马里奥一样。

我们的教授要求我们这样做，但我想不出任何办法。：/

到目前为止，我已经多次使用 CX 来输出某些行和列的颜色。它工作正常，但我违反了指示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T10:44:20.093

这样想吧。

通常，计算机上的图片/图像是什么？它是像素颜色的二维数组。

怎么画在屏幕上？

假设图像为 64 x 64 像素。

因此，您可以将像素颜色从数组中以 64 行的方式一一复制到屏幕上，每行包含 64 个元素。

你能在这里看到两个嵌套循环吗？`LOOP`您可以至少对其中一个使用该说明吗？两者怎么样？

# iphone - 如何在 NSMangedObject 类别中的一对多 NSSet 的索引处获取对象

> ID：15697605
> 
> 赞同：0
> 
> 时间：2013-03-29T04:58:10.487
> 
> 标签：iphone, ios, objective-c, core-data

这是我的缝。假设我有公司和员工对象类型，公司有很多员工。我为公司创建一个类别并添加一个方法

```
-(Employee *)getNextEmployee {
    return (Employee *)self.employees[self.currentEmployeeIndex++];
} 
```

我意识到我无法通过索引访问 NSSet，但由于它是一个类别，我也无法添加 NSArray 实例变量。此方法被频繁调用，因此为每个调用创建一个 NSArray 效率非常低。

同样，请忽略这里的细节，这只是一个例子。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T05:01:51.017

编辑：划掉我之前的回答，建议使用 NSSet 的 allObjects 属性。考虑到它让我意识到 allObjects 不能保证每次都以相同的顺序返回数组。

相反，我建议您使用链接列表。为您的 Employee 类创建一个 previousEmployee 属性，并且每次您创建一个新的 Employee 时，使用一些您分配前一个员工的逻辑。它可以基于入境日期：

```
NSFetchRequest *request = [NSFetchRequest fetchRequestWithEntityName:@"Employee"];
request.fetchLimit = 1;

NSSortedDescriptor *sortDescriptor = [sortDescriptorWithKey:@"entryDate" ascending:NO];

// Do further setup...

Employee *latestEmployee = // fetch result...

Employee *newEmployee = // create new employee

newEmployee.previousEmployee = latestEmployee; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T05:08:05.157

如果您想订购（由 next 暗示），则没有办法绕过数组。经济地拥有数组的方法是创建一个 NSManagedObject 子类并向其添加数组属性。当您从集合中添加/删除时更新它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-30T06:53:25.123

@danh 和 @pedro.m 都给出了很好的答案。我结束了两者的混合。我创建了一个新类来管理我的流程而不是子类，并且我直接从公司的关系属性中提取了员工。像这样的东西：

```
@implementation CompanyProcessRunner

-(void)setCompany:(Company *)newCompany
{
    company = newCompany;
    employees = [company.employees sortedArrayUsingDescriptors:[NSSortDescriptor descriptorWithKey:@"order" ascending:YES]];
}

-(Employee *)nextEmployee
{
    company.currentEmployeeIndex += 1;
    return (Employee *)[employees objectAtIndex:company.currentEmployeeIndex];
}

@end 
```

感谢大家的帮助！

# java - Java中线程之间的通信

> ID：15697609
> 
> 赞同：1
> 
> 时间：2013-03-29T04:58:41.503
> 
> 标签：java, multithreading, network-programming

我正在尝试制作一个允许两个或多个客户端之间进行通信的程序。我从一个网站上获取了大部分资源，但是我不知道如何让这两个客户端真正显示另一个客户端所说的内容。由于它们在自己的线程中运行，我认为服务器仅将文本返回给发件人的线程，而不是将其提供给所有连接的人。

```
package Server;
import java.net.*;
import java.util.*;
import java.io.*;
import javax.swing.*;
import java.awt.*;

public class Server extends JFrame
{   
//A JTextArea to hold the information received from clients
JTextArea chatBox = new JTextArea();

public static void main(String[] args)
{
    new Server();
}

public Server()
{
    //We need to set up a layout for our window
    setLayout(new BorderLayout());
    //Only display text, do not allow editing
    chatBox.setEditable(false);
    //Add our chatbox in the center with scrolling abilities
    add(new JScrollPane(chatBox), BorderLayout.CENTER);

    setTitle("Chat Server");
    setSize(550,400);
    //If the user closes then exit out
    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    //Show the frame
    setVisible(true);

    //We need a try-catch because lots of errors can be thrown
    try {
        ServerSocket sSocket = new ServerSocket(8123);
        chatBox.append("Server started at: " + new Date()+"\n");

        //Loop that runs server functions
        while(true) {
            //Wait for a client to connect
            Socket socket = sSocket.accept();
            int Port = socket.getPort();
            InetAddress IP = socket.getInetAddress();
            System.out.println("INFO: Incoming connection from: "+IP+":"+Port);
            chatBox.append("INFO: Incoming connection from: "+IP+":"+Port+"\n");

            //Create a new custom thread to handle the connection
            ClientThread cT = new ClientThread(socket);

            //Start the thread!
            new Thread(cT).start();

        }
    } catch(IOException exception) {
        System.out.println("Error: " + exception);
    }
}

//Here we create the ClientThread inner class and have it implement Runnable
//This means that it can be used as a thread
class ClientThread implements Runnable
{
    Socket threadSocket;

    //This constructor will be passed the socket
    public ClientThread(Socket socket)
    {
        //Here we set the socket to a local variable so we can use it later
        threadSocket = socket;
    }

    public void run()
    {

        //All this should look familiar
        try {
            //Create the streams
            PrintWriter output = new PrintWriter(threadSocket.getOutputStream(), true);
            BufferedReader input = new BufferedReader(new InputStreamReader(threadSocket.getInputStream()));

            //Tell the client that he/she has connected
            output.println("You have connected at: " + new Date());
            chatBox.append("Client connected\n");

                //This will wait until a line of text has been sent
                String chatInput = input.readLine();
                //Add the chat to the text box
                chatBox.append(chatInput+"\n");
                System.out.println(chatInput);
                output.println(chatInput);
            } catch(IOException exception) {
            System.out.println("ERROR: " + exception);
            chatBox.append("ERROR: "+exception);
        } 
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T07:18:12.823

您可能正在寻找一个发布/订阅场景，其中来自服务器的单个消息将传播到所有订阅者。尝试使用 JMS。您可以在此处找到更多详细信息[PointToPoint vs JMS 中的发布/订阅模型？](https://stackoverflow.com/questions/13377703/pointtopoint-vs-publish-subscribe-model-in-jms)

# c++ - 前缀括号的中缀

> ID：15697614
> 
> 赞同：0
> 
> 时间：2013-03-29T04:59:25.153
> 
> 标签：c++, algorithm, prefix, infix-notation, postfix-notation

我如何将它转换为它接受括号的位置，目前你唯一可以使用的是 2 + 4 * 7。我无法弄清楚如何忽略括号，所以像 (2 + 3) * 7 这样的东西会读out * + 2 3 7\. 有什么帮助谢谢。

```
#include <iostream>
#include <sstream>
#include <stack>
#include <limits>
#include <string>
using namespace std;

int priority(char a)
{
    int temp;

    if (a == '*' || a == '/' || a == '%')
       temp = 2;
    else  if (a == '+' || a == '-')
       temp = 1;
    return temp;
}

//start
int main()
{
    //declare a string called "infix"
    string infix;
    stringstream output;
    stack<char> s1, s2;

    cout << "Enter an arithmetic expression with no perenthesis: " << endl;
    getline(cin, infix);

    //this loops through backwards searching for the operators 
    for(int i = infix.length() - 1; i >= 0; i--)
    {
        //check the input against +,-,/,*,%
        if (infix[i] == '+' || infix[i] == '-' || 
            infix[i] == '*' || infix[i] == '/' || infix[i] == '%')
        {
            while(!s1.empty() && priority(s1.top()) > priority(infix[i]))
            {       
                output << s1.top();
                s2.push(s1.top());
                s1.pop();           
            }

            s1.push(infix[i]);
        }
        // I think i need to add an else if to check for parenthesis
        // not sure how
        else
        {   
            output << infix[i];
            s2.push(infix[i]);
        }
    }

    while(!s1.empty())
    {
        output << s1.top();
        s2.push(s1.top());
        s1.pop();
    }

    cout << "\nAnswer: ";

    while(!s2.empty())
    {
        cout << s2.top();
        s2.pop();
    }

    cout <<"\n\nPress enter to exit" << endl;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T05:02:12.713

您正在寻找反向波兰符号

这是一个参考 - [http://en.wikipedia.org/wiki/Reverse_polish_notation](http://en.wikipedia.org/wiki/Reverse_polish_notation)

您可以获得链接和阅读材料来实现它。

顺便说一句 - 不要在 6502 汇编器中这样做 - 这是一场噩梦！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T05:12:15.023

正如您所指出的，您打算从中**缀**转换为**前缀**表示法。不幸的是，您的任务不会像跳过一些括号那么简单。

与可以在没有括号的情况下处理的前缀表示法相反，中缀表示法要求它们任意描述您想要执行的任何可能的计算。

以此为例：

```
(1 + 2) / (3 + 4) 
```

虽然这可以很好地写成

```
 / + 1 2 + 3 4 
```

在前缀表示法中，您将找不到任何方法在没有任何括号的情况下以中缀表示法表达相同的计算。

而不是尝试依次分析每个操作，而是需要一个完整的解析器以中缀表示法构建字符串的解析树。

否则就没有机会正确计算。想想类似的东西

```
 (1 + 2 * ( 3 / (4 + 3) * 48 + (81 / 4)) + 8) - 9 
```

例如。

您可能想要调查的与您的问题相关的术语通常称为**表达式语法**。

看看这里的例子：（见：[http](http://en.wikipedia.org/wiki/Parsing_expression_grammar) ://en.wikipedia.org/wiki/Parsing_expression_grammar ）

# php - 如何将 Adob e cirrus 应用程序嵌入 PHP/MySQL 网站

> ID：15697615
> 
> 赞同：0
> 
> 时间：2013-03-29T04:59:37.613
> 
> 标签：php, mysql, adobe, adobe-cirrus, stratus

示例应用程序链接 -[单击此处查看带有此应用程序的 adobe 应用](http://labs.adobe.com/technologies/cirrus/samples/)程序 我想在我的站点中构建视频聊天功能。如何使用 php/MySql 嵌入此应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T06:32:02.947

检查本教程：

[http://active6.com/actionscript/the-adobe-stratus-beta-sample-app-and-phpmysql](http://active6.com/actionscript/the-adobe-stratus-beta-sample-app-and-phpmysql)

这里讨论：

[http://forums.adobe.com/thread/28893](http://forums.adobe.com/thread/28893)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-09T11:29:16.483

Adobe Cirrus + PHP 和 MySQL。 [https://github.com/EddyF/eddyf_videochat](https://github.com/EddyF/eddyf_videochat)

# plot - 如何在柱形图中每列的顶部显示值。如何完成此操作

> ID：15697616
> 
> 赞同：0
> 
> 时间：2013-03-29T04:59:46.163
> 
> 标签：plot, highcharts, series

我想在柱形图中每列的顶部显示值。如何实现这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T09:34:19.293

您应该启用数据标签（[http://api.highcharts.com/highcharts#plotOptions.column.dataLabels.enabled](http://api.highcharts.com/highcharts#plotOptions.column.dataLabels.enabled)）

示例：http: [//jsfiddle.net/uubCY/](http://jsfiddle.net/uubCY/)

```
plotOptions: {
        series: {
            dataLabels: {
                enabled: true
            }
        }
    }, 
```

# ios - 尝试在 iOS 中删除警告

> ID：15697618
> 
> 赞同：-2
> 
> 时间：2013-03-29T04:59:54.693
> 
> 标签：ios, objective-c

我正在实现委托方法：

```
-(BOOL) textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string { 
```

我在我的应用程序中使用了以下代码。但是，我收到了警告，我不知道为什么。我的代码如下：

```
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string {

        if (textField.tag == 1) {

            if(blah blah blah)
                return YES;

            //more code

            if (blah blah) {

                //more code

            }

            else if (blah blah) {

                //more code;

            }

            else if (blah blah blah) {

                //more code

            }

            //even more code

            return NO;

        }

        else if (textField.tag == 2){

            if(textField.text.length > 1) {

                return NO;

            }

            return YES;

        }

        else if (textField.tag == 3) {

            if(textField.text.length > 2) {

                return NO;

            }

            return YES;

        }

    } 
```

我得到的警告是：

“控制可能达到非无效功能的终点。” 我在每个“if”子句的末尾都有返回值，那么为什么我仍然收到这个警告？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T05:03:02.077

您的函数应该收到一个布尔值，因为您的函数的返回类型为 BOOL 而不是 void put

```
return YES; 
```

`shouldChangeCharactersInRange:()`在条件/迭代语句之外的方法结束时。

然后警告应该去。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T05:08:39.813

> 我在每个“if”子句的末尾都有返回值

不，你没有。最后一个`else`分支没有实现。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T05:04:27.507

`return YES/NO;`在方法的末尾添加。可能会解决你的问题。因为如果您
`if - condition - Block`的任何一个未执行，则此方法没有返回值。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-29T05:07:05.590

编译器看到如果`textfield.tag`不是 1、2 或 3，则没有返回值。在函数末尾添加 return YES/NO。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-29T05:07:11.663

请尝试使用这个...

```
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string 
    {
        if (textField.tag == 1)
        {

          if(blah blah blah)
            return YES;

        //more code

          if (blah blah)
          {

            //more code

          }

          else if (blah blah)
          {

            //more code;

          }

          else if (blah blah blah)
          {

            //more code

          }

         //even more code

         return NO;

        }

        else if (textField.tag == 2)
        {

         if(textField.text.length > 1) 
         {

            return NO;

        }

        return YES;

      }

    else if (textField.tag == 3) {

        if(textField.text.length > 2) {

            return NO;

        }

        return YES;

      }

    }
return YES;
} 
```

# java - 在没有静态变量的情况下更改另一个类中的变量？

> ID：15697620
> 
> 赞同：0
> 
> 时间：2013-03-29T05:00:00.330
> 
> 标签：java, getter-setter, static-variables

在我目前正在编写的程序中，我有 2 个 JFrame（每个在不同的类中，每个都有不同的用途，但是您可以将小部件框架视为某种奴隶），一个是主窗口，另一个是在主窗口中点击按钮时弹出的“小部件”。我只想一次打开一个小部件的副本。我目前正在通过 actionPerformed 动作侦听器下的布尔变量来执行此操作。下面是主窗口的动作监听器。

```
 public void actionPerformed(ActionEvent e) {

                   if(getOpenWidget() == false){ 
                       System.out.println(getOpenWidget()); //test line
                       widget.initialize(); // please note that the instance "widget" is declared just after "public class MainWindow{"  :)
                       widget.frame.setVisible(true);
                       setOpenWidget(true);
                       System.out.println(getOpenWidget() ); // test line

                   }else{
                       System.out.println(getOpenWidget());
                       JOptionPane.showMessageDialog(frame, "There is already an instance of the Booking Widget open.");
                   }
               } 
```

现在预订小部件已打开，在预订小部件上有一个取消按钮。下面是小部件的“取消”按钮的动作监听器。

```
 btnCancel.addActionListener(new ActionListener() {
        public void actionPerformed(ActionEvent arg0) {
            MainWindow ui = new MainWindow();
            frame.dispose();
            ui.setOpenWidget(false);
        }
    } 
```

现在，再次点击主窗口中的按钮后，理论上，openWidget 布尔值应该为假，并允许我打开另一个窗口，但是在取消按钮操作侦听器中，我的变量没有改变。那么，我是否以正确的方式解决我的问题而不使 openWidget 成为静态变量？（我应该使用 getter 和 setter 对吗？）我做错了什么，我对实例化 main 的新实例有什么不理解每次单击该按钮时都会出现窗口？

此外，我的 getter 和 setter 标准如下。

```
void setOpenWidget(boolean val){
    this.openWidget = val;
}

boolean getOpenWidget(){
    return this.openWidget;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T05:08:49.620

您正在调用`setOpenWidget(false)`使用此行创建的其他一些新实例`MainWindow ui = new MainWindow();`

您应该`setOpenWidget(false)`使用初始化小部件的同一实例进行调用。在创建小部件时将 MainWindow 的引用传递给小部件并`setOpenWidget(false)`使用该引用进行调用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T05:10:39.617

当你创建 inside 的对象时，`widget`你`MainWindow`可以这样调用它：

```
widget = new Widget(this); 
```

并按如下方式更改 Widget Window Constructor：

```
MainWindow ui;
public Widget(MainWindow mw) 
{
  this.ui = mw;
  //...initialize btnCancel...
  btnCancel.addActionListener(new ActionListener() {
        public void actionPerformed(ActionEvent arg0) {
            frame.dispose();
            ui.setOpenWidget(false);
        }
    });
  //..do all other stuffs here...
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T05:03:16.117

只需将 MainWindow 的引用传递给 Widget 类，以便它可以在取消按钮上更新其标志。

# php - 想要将两个 xpath 设置为一个并在 diff 中获取属性值。大批

> ID：15697621
> 
> 赞同：0
> 
> 时间：2013-03-29T05:00:13.507
> 
> 标签：php, xml, xpath

这是我的 reg.xml 文件：-

```
<childrens>
<child_4 entity_id="4" value="Activities" parent_id="2">
    <child_10066 entity_id="10066" value="Physical1" parent_id="4">
    <child_10067 entity_id="10067" value="Cricket" parent_id="10066">
        <child_10068 entity_id="10068" value="One Day" parent_id="10067"/>
    </child_10067>
    </child_10066>
</child_4>
<child_4331 entity_id="4331" value="Region" parent_id="2">
    <child_5069 entity_id="5069" value="Rajkot" parent_id="4331"/>
</child_4331>
</childrens> 
```

这是我的 product.xml：-

```
<products>
  <product_id value="1">
    <tab_id value="351">
      <tab_name value="test1"/>
      <region_timezone value="1"/>
      <registrationstatus value="2"/>
      <eventstatus value="2"/>
      <dist_activity value="5"/>
      <dist_activity value="10068"/>
      <dist_activity value="10070"/>
      <dist_region value="5069"/>
      <dist_region value="5069"/>
      <dist_region value="5069"/>
    </tab_id>
  </product_id>
  <product_id value="2">
    <tab_id value="352">
      <tab_name value="test2"/>
      <region_timezone value="1"/>
      <registrationstatus value="2"/>
      <eventstatus value="2"/>
      <dist_activity value="5"/>
      <dist_activity value="10069"/>
      <dist_activity value="10070"/>
      <dist_region value="4457"/>
      <dist_region value="7140"/>
      <dist_region value="5069"/>
   </tab_id>
  </product_id>
</products> 
```

试过： -

```
<?php
 $abc= "One Day in Rajkot";
 list($first,$second) = explode(' in ',$abc);

 $text1[]=$first;
 $text2[]=$second;
 foreach($text1 as $event)
{
$event;
}
foreach($text2 as $region1)
{
$region1;
}
$r = file_get_contents('reg.xml');
$p = file_get_contents('product.xml');

$region = simplexml_load_string($r);
$product = simplexml_load_string($p);

list($entity) = $region->xpath("//*[@value='$event']/@entity_id");
$entity=(string)$entity;

list($entity1) = $region->xpath("//*[@value='$region1']/@entity_id");
$entity1=(string)$entity1;

//check the $entity in product.xml
list($prid) = $product->xpath("//*[@value='$entity']/ancestor::product_id/@value");
$prid=(string)$prid;
echo "Event:- $event, Region:- $region1, entity1:- $entity, entity2:- $entity1, Product_id:- $prid";
 ?> 
```

我尝试在数组中传递一个字符串并拆分为差异。`reg.xml`如果 reg.xml 具有此值，则检查数组和此值然后到达那里`entity_id`此 id 匹配`product.xml`然后`product_id`从返回`product.xml`

我的代码工作正常，但我想将两个 xpath 合二为一

```
 list($entity) = $region->xpath("//*[@value='$event']/@entity_id");
    $entity=(string)$entity;

    list($entity1) = $region->xpath("//*[@value='$region1']/@entity_id");
    $entity1=(string)$entity1; 
```

我想将这条路径设置为一个我尝试这样的事情：-

```
list($entity,$entity1) = $region->xpath("//*[@value='$event']and[@value='$region1']/@entity_id");
    $entity=(string)$entity; 
```

这个你能帮我吗...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T10:46:18.353

您不能将两个谓词与`and`您所做的类似：

```
[@value='$event']and[@value='$region1'] 
```

但是，您可以在谓词`or` *内部使用：*

```
[@value='$event' or @value='$region1'] 
```

这应该可以完成这项工作。为了您的进一步信息，您可以有多个谓词*，*但是，它们之间没有类似的运算符`and`：

```
 [@value='$event' or @value='$region1'][1] 
```

示例：只取第一个。

# python - 使用 Witten Bell Smoothing 在 nltk 中使用 NgramModel 训练和评估二元/三元分布

> ID：15697623
> 
> 赞同：3
> 
> 时间：2013-03-29T05:00:34.493
> 
> 标签：python, nltk, n-gram

我想在一组句子上训练一个 NgramModel，使用 Witten-Bell 平滑来估计看不见的 ngram，然后用它来获得由该分布生成的测试集的对数似然。我想做与此处找到的文档示例几乎相同的事情：http: [//nltk.org/_modules/nltk/model/ngram.html](http://nltk.org/_modules/nltk/model/ngram.html)，但改用 Witten-Bell 平滑。这是一些试图做我想做的事情的玩具代码：

```
from nltk.probability import WittenBellProbDist
from nltk import NgramModel

est = lambda fdist, bins: WittenBellProbDist(fdist)
fake_train = [str(t) for t in range(3000)]
fake_test = [str(t) for t in range(2900, 3010)]

lm = NgramModel(2, fake_train, estimator = est)

print lm.entropy(fake_test) 
```

不幸的是，当我尝试运行它时，我收到以下错误：

```
Traceback (most recent call last):
  File "ngram.py", line 8, in <module>
    lm = NgramModel(2, fake_train, estimator = est)
  File "/usr/lib/python2.7/dist-packages/nltk/model/ngram.py", line 63, in __init__
    self._model = ConditionalProbDist(cfd, estimator, len(cfd))
  File "/usr/lib/python2.7/dist-packages/nltk/probability.py", line 2016, in __init__
    **factory_kw_args)
  File "ngram.py", line 4, in <lambda>
    est = lambda fdist, bins: WittenBellProbDist(fdist)
  File "/usr/lib/python2.7/dist-packages/nltk/probability.py", line 1210, in __init__
    self._P0 = self._T / float(self._Z * (self._N + self._T))
ZeroDivisionError: float division by zero 
```

是什么导致了这个错误？据我所知，我根据文档正确使用了所有内容，当我使用 Lidstone 而不是 Witten-Bell 时，这可以正常工作。

作为第二个问题，我有一组不相交的句子形式的数据。我怎样才能使用像字符串列表这样的句子，或者做一些等效的事情来产生相同的分布？（即，我当然可以只使用一个列表，其中包含所有句子，并用一个虚拟标记分隔后续句子，但这不会产生相同的分布。）一个地方的文档说允许字符串列表，但后来我发现了一个错误报告，其中文档应该被编辑以反映这是不允许的（当我只是尝试一个字符串列表时，我得到一个错误）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-02T08:13:27.053

它显然是[近 3 年](http://code.google.com/p/nltk/issues/detail?id=538)的一个已知问题。的原因`ZeroDivisionError`是由于以下几行`__init__`，

```
if bins == None: 
    bins = freqdist.B() 
self._freqdist = freqdist 
self._T = self._freqdist.B() 
self._Z = bins - self._freqdist.B() 
```

每当`bins`未指定参数时，它默认为`None`so `self._Z`is really just `freqdist.B() - freqdist.B()`and

```
self._P0 = self._T / float(self._Z * (self._N + self._T)) 
```

减少到，

```
self._P0 = freqdist.B() / 0.0 
```

此外，如果您指定`bins`任何大于 的值`freqdist.B()`，则在执行这行代码时，

```
print lm.entropy(fake_test) 
```

你会收到`NotImplementedError`，因为在`WittenBellProbDist`课堂上，

```
def discount(self): 
    raise NotImplementedError() 
```

该`discount`方法显然也用于类中`prob`和类中`logprob`，`NgramModel`因此您也无法调用它们。

在不改变 的情况下解决这些问题的一种方法`NLTK`是继承`WittenBellProbDist`并覆盖相关方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-07-06T05:16:17.917

# 2018 年 12 月更新

NLTK 3.4 包含重新设计的 ngram 建模模块，可导入为`nltk.lm`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-09T17:27:58.350

我会暂时远离 NLTK 的 NgramModel。当前存在一个平滑错误，导致模型在 n>1 时大大高估了可能性。这适用于所有估计器，包括 WittenBellProbDist 甚至 LidstoneProbDist。我认为这个错误已经存在了几年，表明这部分 NLTK 没有经过很好的测试。

见： [https ://github.com/nltk/nltk/issues/367](https://github.com/nltk/nltk/issues/367)

# c# - 在字典（或 SQLite）中存储大文件

> ID：15697628
> 
> 赞同：1
> 
> 时间：2013-03-29T05:01:32.443
> 
> 标签：c#, sqlite, file-io, dictionary

我正在编写一个 C# 控制台应用程序，它读取磁盘上的文件并从中生成一个键值对。

有几千个文件和预期的问题，我使用 SQLite 将其保存到一个表中。当 SQLite 文件现在超过 1.6GB 并且在 32 位环境中，我的程序内存不足时，我立即遇到了问题。

除了读取文件一次并将其存储到字典（或类似字典）中之外，别无他法，以便可以使用键来查询值。

我正在使用框架 4.0。

这种问题有什么解决办法吗？不幸的是，我无法改变程序的编写方式。

我在 Stackoverflow 上进行了搜索，无法得出最佳选择，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T18:35:47.567

[PersistentDictionary](http://managedesent.codeplex.com/wikipage?title=PersistentDictionaryDocumentation)应该做你需要的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T06:41:47.827

非常感谢您的回复。我能够使用 SQLite 完成任务。

我无法使用 PersistentDictionary。

# php - 准备好的陈述

> ID：15697631
> 
> 赞同：-1
> 
> 时间：2013-03-29T05:01:50.440
> 
> 标签：php, mysql, mysqli

我正在尝试将下面的 mysql 更改为 mysqli（准备好的语句），但我陷入了困境。

**问题：** `Warning: mysqli_stmt ::bind_result(): Number of bind variables doesn't match number of fields in prepared statement`这个错误发生在 $get_empty_field = $ok->bind_result($username, $firstname, $lastname); 线。我还没有完成转换，我只是做了我能做的，其余的保持原样。（我没有混合 mysql 和 mysqli）

**mysql查询**

```
$check_added_files = mysql_query("select * from `vpb_uploads` where `username` = '".mysql_real_escape_string($username)."' and `firstname` = '' and `image_one` != '' and `image_two` != '' and `image_three` != '' and `image_four` != '' and `image_five` != ''");
                    if(mysql_num_rows($check_added_files) == 1)
                    {
                    echo 'up_to_five_already';
                    }
                    else
                    {
                    if (move_uploaded_file($_FILES['file_to_upload']['tmp_name'], $final_uploads_location)) 
                    {
                    $check_empty_field = mysql_query("select * from `vpb_uploads` where `username` = '".mysql_real_escape_string(strip_tags($username))."'  and `firstname` = '".mysql_real_escape_string("")."' and `lastname` = '".mysql_real_escape_string("")."'");
                    if(mysql_num_rows($check_empty_field) < 1)
                    {
                    mysql_query("insert into `vpb_uploads` values('', '".mysql_real_escape_string($username)."', '', '', '".mysql_real_escape_string($random_name_generated)."', '', '', '', '', '".mysql_real_escape_string(date("d-m-Y"))."')");

                    $identity = "image_one";
                    }
                    else
                    {
                    $get_empty_field = mysql_fetch_array($check_empty_field);
                    $image_one = strip_tags($get_empty_field["image_one"]);
                    $image_two = strip_tags($get_empty_field["image_two"]);
                    $image_three = strip_tags($get_empty_field["image_three"]);
                    $image_four = strip_tags($get_empty_field["image_four"]);
                    $image_five = strip_tags($get_empty_field["image_five"]);
                    global $identity;

                    if(empty($image_one))
                    {
                        mysql_query("update `vpb_uploads` set `image_one` = '".mysql_real_escape_string($random_name_generated)."' where `username` = '".mysql_real_escape_string(strip_tags($username))."' and `firstname` = '".mysql_real_escape_string("")."' and `lastname` = '".mysql_real_escape_string("")."'");

                        $identity = "image_one";

                    }
                    elseif(empty($image_two))
                    {
                        mysql_query("update `vpb_uploads` set `image_two` = '".mysql_real_escape_string($random_name_generated)."' where `username` = '".mysql_real_escape_string(strip_tags($username))."' and `firstname` = '".mysql_real_escape_string("")."' and `lastname` = '".mysql_real_escape_string("")."'");

                        $identity = "image_two";
                    }
                    elseif(empty($image_three))
                    {
                        mysql_query("update `vpb_uploads` set `image_three` = '".mysql_real_escape_string($random_name_generated)."' where `username` = '".mysql_real_escape_string(strip_tags($username))."' and `firstname` = '".mysql_real_escape_string("")."' and `lastname` = '".mysql_real_escape_string("")."'");

                        $identity = "image_three";
                    }
                    elseif(empty($image_four))
                    {
                        mysql_query("update `vpb_uploads` set `image_four` = '".mysql_real_escape_string($random_name_generated)."' where `username` = '".mysql_real_escape_string(strip_tags($username))."' and `firstname` = '".mysql_real_escape_string("")."' and `lastname` = '".mysql_real_escape_string("")."'");

                        $identity = "image_four";
                    }
                    elseif(empty($image_five))
                    {
                        mysql_query("update `vpb_uploads` set `image_five` = '".mysql_real_escape_string($random_name_generated)."' where `username` = '".mysql_real_escape_string(strip_tags($username))."' and `firstname` = '".mysql_real_escape_string("")."' and `lastname` = '".mysql_real_escape_string("")."'");

                        $identity = "image_five";
                    } 
```

**到目前为止我有什么：**

```
$mysqli = new mysqli("localhost", "root", "", "newlogin");
                if ($mysqli->connect_errno) {
                echo "Failed to connect to MySQL: (" . $mysqli->connect_errno . ") " . $mysqli->connect_error;
                }

                $stmt = $mysqli->prepare("select * from `vpb_uploads` where `username` = ? and `firstname` = '' and `image_one` != '' and `image_two` != '' and `image_three` != '' and `image_four` != '' and `image_five` != ''");
                $stmt->bind_param('s', $username);
                $stmt->execute();
                $stmt->store_result();

                if ($stmt->num_rows == 1) {

                echo 'up_to_five_already';
                }

                else
                {
                if (move_uploaded_file($_FILES['file_to_upload']['tmp_name'], $final_uploads_location)) 
                {
                $firstname = "''";
                $lastname = "''";
                $stmt = $mysqli->prepare("select * from `vpb_uploads` where `username` = ?  and `firstname` = ? and `lastname` = ?");
                $stmt->bind_param('sss', $username, $firstname, $lastname);
                $stmt->execute();
                $stmt->store_result();
                if ($stmt->num_rows < 1)

                {
                $date = 'date("d-m-Y")';
                $image_2 = "''";
                $image_3 = "''";
                $image_4 = "''";
                $image_5 = "''";
                $stmt = $mysqli->prepare("insert into `vpb_uploads` (`username`, `firstname`, `lastname`, `image_one`, `image_two`, `image_three`, `image_four`, `image_five`, `date`) values(?,?,?,?,?,?,?,?,?)");
                $stmt->bind_param('sssssssss',  $username, $firstname, $lastname, $random_name_generated, $image_2, $image_3, $image_4, $image_5, $date);
                $stmt->execute();

                $identity = "image_one";
                }
                else
                {

                $get_empty_field = $stmt->bind_result($username, $firstname, $lastname);
                $image_one = strip_tags($get_empty_field["image_one"]);
                $image_two = strip_tags($get_empty_field["image_two"]);
                $image_three = strip_tags($get_empty_field["image_three"]);
                $image_four = strip_tags($get_empty_field["image_four"]);
                $image_five = strip_tags($get_empty_field["image_five"]);
                global $identity;

               if(empty($image_one))
                    {
                $stmt = $mysqli->prepare("update `vpb_uploads` set `image_one` = ? where `username` = ? and `firstname` = ? and `lastname` = ? ");
                $stmt->bind_param('ssss', $random_name_generated, $username, $firstname, $lastname);    
                $stmt->execute();
                $stmt->close();

                $identity = "image_one";

                }
                elseif(empty($image_two))
                {
                mysql_query("update `vpb_uploads` set `image_two` = '".mysql_real_escape_string($random_name_generated)."' where `username` = '".mysql_real_escape_string(strip_tags($username))."' and `firstname` = '".mysql_real_escape_string("")."' and `lastname` = '".mysql_real_escape_string("")."'");

                $identity = "image_two";
                }
                elseif(empty($image_three))
                {
                mysql_query("update `vpb_uploads` set `image_three` = '".mysql_real_escape_string($random_name_generated)."' where `username` = '".mysql_real_escape_string(strip_tags($username))."' and `firstname` = '".mysql_real_escape_string("")."' and `lastname` = '".mysql_real_escape_string("")."'");

                $identity = "image_three";
                }
                elseif(empty($image_four))
                {
                mysql_query("update `vpb_uploads` set `image_four` = '".mysql_real_escape_string($random_name_generated)."' where `username` = '".mysql_real_escape_string(strip_tags($username))."' and `firstname` = '".mysql_real_escape_string("")."' and `lastname` = '".mysql_real_escape_string("")."'");

                $identity = "image_four";
                }
                elseif(empty($image_five))
                {
                mysql_query("update `vpb_uploads` set `image_five` = '".mysql_real_escape_string($random_name_generated)."' where `username` = '".mysql_real_escape_string(strip_tags($username))."' and `firstname` = '".mysql_real_escape_string("")."' and `lastname` = '".mysql_real_escape_string("")."'");

                $identity = "image_five";
                } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T05:22:25.603

[正如我之前告诉你](https://stackoverflow.com/a/15663498/285587)的，你必须更改为 PDO，而不是 mysqli。当然，仅仅复制代码是没有用的。您至少需要先连接到 PDO。我提供了一个指向 PDO 标签 wiki 的链接，其中包含要复制的完整连接代码。此外，除了复制代码之外，您还需要花费一些自己的努力来使其工作 - 至少通过调整您的数据库设置。

通常，您在此处获得的代码并不是开箱即用的。他们是给你一个想法，让你学习。这是非常重要的事情——你需要从答案中学习，才能自己做下一个类似的工作。如果您只是复制并粘贴代码，您将要求 Stack Overflow 重写您的所有应用程序。请从答案中学习并尝试利用您获得的知识。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T05:12:36.657

您将需要更改您的`SELECT`声明：

```
$stmt = $mysqli->prepare("select `username`,`firstname`,`lastname` from `vpb_uploads` where `username` = ?  and `firstname` = ? and `lastname` = ?"); 
```

您将需要修复变量名称：

```
$get_empty_field = $stmt->bind_result($username, $firstname, $lastname); 
```

# javascript - 未捕获的类型错误：对象# 没有方法'getContext'

> ID：15697633
> 
> 赞同：3
> 
> 时间：2013-03-29T05:01:57.770
> 
> 标签：javascript, html, canvas, html5-canvas

好的，所以我得到了这个 JS 代码，它抛出了错误： Uncaught TypeError: Object # has no method 'getContext'

这是代码：

```
function update(){
    var ctx = $("#canvas")[0].getContext('2d');

    ctx.fillStyle = "#A68064";
    ctx.fillRect(0,0,900, 450);
}

$(document).ready(function() {
    $("#canvas").width(900);
    $("#canvas").height(450);
    update();
    setInterval(update, 100);
}); 
```

这是一个 JSFiddle：http: [//jsfiddle.net/LDUjA/](http://jsfiddle.net/LDUjA/)

有人可以告诉我如何正确获取画布元素的上下文吗？这种方式以前可以工作，我在 Chrome 上，并且知道它支持画布。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-29T05:08:32.337

您需要使用画布元素。您正在尝试仅在 div 上调用 .getContext 。

将 HTML 更改为：

```
<body>
    <canvas id="canvas"></canvas>
</body> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T09:59:49.820

无论是 Kinakuta 所说的，还是您在页面完全加载之前调用 getContext。

# c - 在不使用广播的情况下一次从 UDP 服务器向所有客户端发送相同的信息

> ID：15697637
> 
> 赞同：0
> 
> 时间：2013-03-29T05:02:24.593
> 
> 标签：c, windows, winapi, network-programming, udp

我想在特定时间间隔后从 UDP 服务器一次向所有客户端发送相同的信息，而不使用广播。为此，我正在考虑在某种文本文件中添加尝试与服务器通信的每个客户端的信息，然后，当我想向所有连接的客户端发送一条消息时，我将获取 IP 地址保存在文本文件中，并将仅在这些地址发送数据。这是一个正确的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T01:53:12.253

> 我想在特定时间间隔后从 UDP 服务器一次向所有客户端发送相同的信息，而不使用广播。

然后你必须使用多播。没有其他方法可以满足“同时”的要求。

> 这是一个正确的方法吗？

不可以。一个人一次发送给一个客户的任何东西都不能满足您的要求。

组播也比尝试自己实现要简单得多。

# android - 如何创建自定义图像视图，如自定义列表视图？

> ID：15697642
> 
> 赞同：1
> 
> 时间：2013-03-29T05:03:17.030
> 
> 标签：android, listview, imageview, custom-lists

我想做一个包含多项选择题的应用程序。每个问题都有三个选项。我想用一张背景图片显示该选项。并且还想为每个问题随机更改该图像的颜色。我怎样才能做到这一点？

可以通过为每一行放置不同的背景图像来创建列表视图吗？

**结果.xml**

```
<LinearLayout
     android:id="@+id/linearlayoutans"
     android:layout_width="wrap_content"
     android:layout_height="wrap_content"
     android:layout_alignParentBottom="true"
     android:layout_marginBottom="30dp"
     android:layout_toLeftOf="@+id/chrono"
     android:orientation="horizontal" >

     <TextView
         android:id="@+id/txt_ans_true"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         android:layout_margin="10dp"
         android:background="@drawable/ic_launcher"
         android:gravity="center"
         android:textColor="#000000" />

     <TextView
         android:id="@+id/txt_ans_1"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         android:layout_margin="10dp"
         android:background="@drawable/ic_launcher"
         android:gravity="center"
         android:textColor="#000000" />

     <TextView
         android:id="@+id/txt_ans_2"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         android:layout_margin="10dp"
         android:background="@drawable/ic_launcher"
         android:gravity="center"
         android:textColor="#000000" />
 </LinearLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T05:17:33.357

> 可以通过为每一行放置不同的背景图像来创建列表视图吗？

是的。看看[互联网](http://www.vogella.com/articles/AndroidListView/article.html)上支持带有自定义适配器和自定义视图的列表视图的文章。这是通过`getView()`方法完成的，并且不乏示例/教程。

# ios - Core Data 应用未能及时启动

> ID：15697648
> 
> 赞同：2
> 
> 时间：2013-03-29T05:03:40.420
> 
> 标签：ios, sqlite, core-data, appdelegate

我有一个在应用程序中创建持久存储的应用程序：didFinishLaunchingWithOptions。添加商店显然需要很长时间，这会导致 iOS 在应用程序完成启动之前终止它。如何将商店添加到主线程之外的协调器？有什么例子吗？ [堆栈溢出链接](https://stackoverflow.com/a/13334035/1857334)

操作系统版本：iOS 6.1.3 (10B329) 报告版本：104

异常类型：00000020 异常代码：0x000000008badf00d 突出显示的线程：0

应用程序特定信息：com.maksanzhi.person 未能及时启动

已用总 CPU 时间（秒）：13.470（用户 13.470，系统 0.000），22% CPU 已用应用程序 CPU 时间（秒）：0.343，1% CPU

线程 0 名称：调度队列：com.apple.main-thread 线程 0：

```
- (NSPersistentStoreCoordinator *)persistentStoreCoordinator

if (_persistentStoreCoordinator != nil) {
    return _persistentStoreCoordinator;
}

NSURL *storeURL = [[self applicationDocumentsDirectory] URLByAppendingPathComponent:@"COOLPERSONS.sqldata"];

NSFileManager *fileManager = [NSFileManager defaultManager];
if (![fileManager fileExistsAtPath:[storeURL path]]) {

    NSURL *defaultStoreURL = [[NSBundle mainBundle] URLForResource:@"COOLPERSONS" withExtension:@"sqldata"];
    if (defaultStoreURL) {
        [fileManager copyItemAtURL:defaultStoreURL toURL:storeURL error:NULL];
        [self addSkipBackupAttributeToItemAtURL:storeURL];
    }
}

NSError *error = nil;
_persistentStoreCoordinator = [[NSPersistentStoreCoordinator alloc] initWithManagedObjectModel:[self managedObjectModel]];
if (![_persistentStoreCoordinator addPersistentStoreWithType:NSSQLiteStoreType configuration:nil URL:storeURL options:nil error:&error]) {

    NSLog(@"Unresolved error %@, %@", error, [error userInfo]);
    abort();
}

return _persistentStoreCoordinator;

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions

UINavigationController *nav = (UINavigationController *)self.window.rootViewController;
MainViewController *cvtc = (MainViewController *)[[nav viewControllers]objectAtIndex:0];
cvtc.managedObjectContext = self.managedObjectContext;
[self setAppereance];
return YES; 
```

}

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T05:49:26.477

作为一般建议，您不应该在 applicationDidFinishLaunching 方法中创建任何内容。Core data Persistent Store 的创建并不繁重，但由于迁移过程，在功能中可能会很重。为了确保这是持久存储而不是其他东西，请尝试注释掉那部分代码。您是否正在使用数据初始化存储？

# php - 为什么有时查询需要 3 秒才能完成工作

> ID：15697649
> 
> 赞同：0
> 
> 时间：2013-03-29T05:03:44.623
> 
> 标签：php, mysql

该应用程序是实时站点，需要**对每个查询**（选择、更新、插入）进行快速访问 每次查询的低延迟必须小于 200 毫秒

好吧，每个查询平均有 98%。完成作业查询的时间少于 0.001-0.005 秒。

**问题是有时每小时大约 5 次，它们可能需要 1 秒，可能是 5 秒，我不知道问题的真正原因**

我发现减少问题的方法是将其从 INNODB 转移到 MEMORY。

> **问题是为什么有时查询可能需要长达 5 秒的时间？**

```
Example query in sometime query more than 1 secound

# Time: 130328 20:27:40
# User@Host: ferge572w[ferge572w] @ localhost []
# Query_time: 1.339712  Lock_time: 0.000026 Rows_sent: 0  Rows_examined: 1
SET timestamp=1364477260;
UPDATE log_product SET credit=credit+1 WHERE id_product='149721921' and id_user='2029275' LIMIT 1;

table index: id_product, id_user
No.row: 33,491   table size: 5Mb

# Time: 130329  7:25:37
# User@Host: ferge572w[ferge572w] @ localhost []
# Query_time: 1.439856  Lock_time: 0.000031 Rows_sent: 0  Rows_examined: 1
SET timestamp=1364516737;
UPDATE product SET lastuser='hello',picperson='1',lastid='2030505',country='thailand',price=price+0.01,time=DATE_ADD(time, INTERVAL 3 SECOND) WHERE id='349721227' LIMIT 1;

table index: id
No.row: 35   table size: 2.1Mb 
```

我确保 EXPLAIN 优化查询和更新使用索引。还检查了表字段的数据类型及其长度，但仍然有问题

* * *

**更新**我发现问题的原因是系统高 IOwait 时。慢查询 heppen 立即。如何修复它

IO 等待高时查询慢。

> **从 iotop 命令显示**
> 
> -- TID -- PRIO -- 用户 -- 磁盘读取 -- 磁盘写入 -- SWAPIN -- IO> -- 命令
> 
> -- 2311 -- be/4 -- mysql -- 0.00 B/s -- 0.00 B/s -- 0.00% -- 96.25% -- mysql~l.sock
> 
> -- 2311 -- be/4 -- mysql -- 0.00 B/s -- 0.00 B/s -- 0.00% -- 96.25% -- mysql~l.sock
> 
> -- 2311 -- be/4 -- mysql -- 0.00 B/s -- 0.00 B/s -- 0.00% -- 96.24% -- mysql~l.sock
> 
> **下午 6:13:28 - 下午 6:13:29（sar 命令）时开始高 IO 等待**
> 
> --------------------- CPU -- %usr -- %nice -- %sys -- %iowait -- %steal
> 
> -- 下午 6:13:28 --- 全部 -- 2.53 -- 0.00 -- 2.02 -- **39.39** -- 0.00
> 
> -- 下午 6:13:29 --- 全部 -- 1.99 -- 0.00 -- 1.00 -- **49.25** -- 0.00
> 
> **在那段时间之间查询缓慢**
> 
> 时间：130329 18:13:29
> 
> 用户@主机：wdwdwd[wdwdwd]@localhost[]
> 
> Query_time: 2.007902 Lock_time: 0.000025 Rows_sent: 0 Rows_examined: 1 SET timestamp=1364555609;
> 
> UPDATE log_product SET credit=credit+1 WHERE id_product='349721228' and id_user='2021841' LIMIT 1;

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T05:09:01.277

可能有很多原因，您拥有（并检查）的数据越多，您就越接近找到答案。

# 检查事项：

*   您是否使用共享主机，它们可能不可靠。
*   你检查过 mySQL 慢日志吗
*   您是否对查询进行了 mysql 解释？
*   当您的 SQL 查询太慢时，您是否收到大量请求，磁盘 IO 可能是个问题
*   您的表需要优化吗？
*   你的机器内存不足吗？

[http://newrelic.com/](http://newrelic.com/)在这些情况下会很有帮助（他们有免费版本供您使用）

# 潜在原因：

*   磁盘 I/O：您在共享主机上和/或您的服务器磁盘有时
    不可靠/饱和
*   高峰使用量：特定时间的大量流量/查询导致延迟
*   其他与服务器相关的减速：例如 AntiVirus 或其他进程正在运行并占用资源

如果您能够像我和其他人所建议的那样对您的数据进行更多分析，那么这对于深入了解您的特定问题可能非常有价值

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T05:14:19.867

大数据库时要特别注意一些要点；

1.  查看mysql的慢查询日志
2.  检查索引，因为更新索引需要由 RDBMS 再次管理。
3.  检查表字段的数据类型及其长度，因为正确的数据类型也可能导致性能问题。
4.  使用 EXPLAIN 优化查询
5.  根据应用需求选择合适的存储引擎

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T05:51:54.640

这种不同的结果可能具有网络性质。例如。在 Windows 主机上，您可以尝试使用 '127.0.0.1' 而不是 'localhost'，因为默认情况下 localhost 映射到 IP6 地址，并且它与 MySQL 服务器有一些问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-29T06:12:24.077

通过直接 php / AJAX 调用检查图像/查询的数量，以及页面中包含的 JS 文件的数量，然后尝试

# jquery - jquery colorbox 需要两次点击才能触发

> ID：15697651
> 
> 赞同：0
> 
> 时间：2013-03-29T05:04:08.797
> 
> 标签：jquery, colorbox

我有一个按钮，当我单击时，会触发一个颜色框事件。然而，在第一次，它需要两次点击才能触发。随后只需单击一下即可触发

我的颜色框 jquery 如下

```
$(document).on("click", "a[data-trigger='colorbox']",function(e){
    e.preventDefault();
    var currentTarget = $(e.currentTarget);
    if(currentTarget.data("inline") !== true){
        currentTarget.colorbox();
    }else if(currentTarget.data("inline") === true){
        currentTarget.colorbox({inline : true, href : currentTarget.data("href")});
    }
 }); 
```

我的html如下

```
<div class="float-right">
    <div class="span3 push-v">
        <a href="#" class="move_on btn-large btn-inverse" data-trigger="colorbox" data-inline="true" data-href="#choose">
            I like this, lets move on
        </a>
    </div>
    <div class="hidden">
        <div id="choose">
            <div class="row">
                <div class="span6">
                    <!--Content-->
                </div>
            </div>
        </div>
    </div>
</div> 
```

# css - Webkit 不反转反转（）图像？

> ID：15697653
> 
> 赞同：2
> 
> 时间：2013-03-29T05:04:26.737
> 
> 标签：css, webkit

我在我的 css 中的某些图像上使用了 invert()，它可以正确地反转它们，但是（这是我的问题）当我再次对它们运行 invert() 以使它们恢复正常时，它们并不完全相同。亮度或对比度发生变化，它们有点褪色。为什么会这样，有什么方法可以解决它？是否有各种 revert() 函数？invert() 到底对图像做了什么？

蒂亚！

更新; 这是理解问题的最佳方式（附评论）：http: [//jsbin.com/uzicaz/2/edit](http://jsbin.com/uzicaz/2/edit)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T07:09:04.007

您正在使用两个不同的选择器应用相同的 CSS 指令。

当您这样做时，该指令不会应用两次。其中一个被另一个覆盖：

![在此处输入图像描述](../Images/0e165e2a35ea744cc8538d7cca8b8b0f.png)

较不重要的一项被取消，而更重要的一项则被应用。但是两者是相同的，所以指令只应用一次。

要取消第一个声明而不重新应用它，请将指令设置为`none`在第二个声明中：

```
img {
  -webkit-filter: invert() brightness(100%) contrast(100%);
}

#photo1 {
  -webkit-filter: none;
} 
```

PS 该`invert() brightness(100%) contrast(100%)`组合为我生成了一个空白图像。如果您想将其设为空白，请`visibility: hidden;`改用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T11:10:49.750

实际上，我认为您真正需要的要容易得多。如果您只想保持图像原样，那么：

```
img {
  -webkit-filter: invert();
}

#photo1 {
   -webkit-filter: none; 
```

}

是你的解决方案。img 将被反转（或任何你想要的），但 id = photo1 的 img 不会。请注意，并不是您撤消了元素中的效果，而是覆盖了它，所以转换永远不会发生。

# sql-server - SQL Server 2008 R2 对本地数据库免费吗？

> ID：15697657
> 
> 赞同：0
> 
> 时间：2013-03-29T05:04:50.430
> 
> 标签：sql-server, sql-server-2008-r2

我需要为我的桌面应用程序设置数据库，为此我想使用 SQL Server 2008 R2

你能告诉我它是免费的还是我需要购买。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T05:18:29.143

只需下载**速成版**，因为它们是**免费**的。

[Microsoft® SQL Server® 2012 Express - 功能强大且可靠的免费数据管理系统，可为轻量级网站和桌面应用程序提供丰富且可靠的数据存储。](http://www.microsoft.com/en-us/download/details.aspx?id=29062)

虽然 SQL Server 2012 Express 有限制。

![在此处输入图像描述](../Images/219ca3d2db6f888d800dee6963ce2b94.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T05:18:37.320

有一个免费版本，sqlexpress，它免费不是因为你在桌面上运行它，而是因为内存和数据库大小的限制。您可以在桌面或服务器上运行它，它仍然是免费的；如果您的需求不断增长，以至于您需要更大的数据库、更多的 cpu 或更多内存，那么升级是无痛的（除了您的钱包）..

[http://www.microsoft.com/en-us/sqlserver/editions/2012-editions/express.aspx](http://www.microsoft.com/en-us/sqlserver/editions/2012-editions/express.aspx)

# jquery - 克隆工作，但不能通过 ajax 使用 jquery 克隆它

> ID：15697660
> 
> 赞同：0
> 
> 时间：2013-03-29T05:05:12.593
> 
> 标签：jquery

jquery 克隆正在工作，例如，

```
$("#treeFile" > ul:first > li:first ul > *).clone().appendTo("#dummyTree"); 
```

但是，当尝试将此克隆发送到后 ajax 时，文件为空...

```
var cloneTree = $("#treeFile" > ul:first > li:first ul > *").clone();

$.post("tree.php", cloneTree); 
```

查看萤火虫时，这个http请求是成功的，但是在服务文件系统上查看文件时，它是空的...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T05:33:47.900

有几件事

1）只有当你想要里面的所有东西时，才能从`"`周围`#treeFile`和最后移除额外的东西`> *``ul`

```
 var cloneTree = $("#treeFile" > ul:first > li:first ul > *").clone(); //wrong
 var cloneTree = $("#treeFile > ul:first > li:first > ul").clone(); //correct 
```

2）您可以尝试这个以通过ajax发布数据

```
var cloneTree = $("#treeFile > ul:first > li:first > ul").html(); 
```

JSFIDDLE：http: [//jsfiddle.net/5QBYW/1/](http://jsfiddle.net/5QBYW/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T05:26:39.983

如果它是您需要*POST的**HTML*，您可以执行以下操作：

 *```
$.post("tree.php", {html: cloneTree.html()}); 
```

如果没有参数名称，则无法将数据发布到服务器。在上面的代码中，您的参数名称是`html`.

在服务器端，您可以访问此 HTML`$_POST['html']`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T05:27:23.847

您可以将 html 传递给服务器，如下所示：

请注意，由于引号放错了位置，会导致代码中的语法错误：

```
var cloneTree = $("#treeFile > ul:first > li:first ul > *").clone();

$.post("tree.php", {html:cloneTree.html()}); 
```

此外，如果您不知道，您不需要克隆对象来发布其 html。您可以直接发送它：

```
$.post("tree.php", {html:$("#treeFile > ul:first > li:first ul > *").html()}); 
```*

# facebook - facebook登录中未捕获的CURLEXCEPTION - php sdk

> ID：15697662
> 
> 赞同：2
> 
> 时间：2013-03-29T05:05:37.703
> 
> 标签：facebook, exception, curl

有时，特别是当我没有登录 Facebook 时，我的登录页面中会显示一个错误，其中包含从 php-sdk 粘贴的代码。[您可以在http://jnfp.tk/login.php](http://jnfp.tk/login.php)看到输出。当我刷新页面时，有时会出现错误并显示正确的输出，但有时会出现以下错误：-

致命错误：未捕获的 CurlException：7：无法连接到 2a03:2880:10:cf01:face:b00c:0:4：在 /home/vhosts/www.jnfp.tk/src/base_facebook.php 中抛出网络无法访问第 977 行。

请告诉我如何解决它...

# c++ - 如何对 OpenCV 中的复矩阵求逆？

> ID：15697663
> 
> 赞同：5
> 
> 时间：2013-03-29T05:06:09.743
> 
> 标签：c++, opencv, complex-numbers, matrix-inverse

我在做复杂矩阵的逆时遇到了麻烦。据我所知，复矩阵只是一个两通道矩阵（CV_32FC2 / CV_64FC2）。

假设我有一个矩阵 C：

```
Mat C(2, 2, CV_64FC2);

C.at<Vec2d>(0,0)[0] = 1;
C.at<Vec2d>(0,0)[1] = 1;
C.at<Vec2d>(0,1)[0] = 3;
C.at<Vec2d>(0,1)[1] = 4;
C.at<Vec2d>(1,0)[0] = 2;
C.at<Vec2d>(1,0)[1] = -1;
C.at<Vec2d>(1,1)[0] = 5;
C.at<Vec2d>(1,1)[1] = 2;

Mat InverseMat;
invert(C, InverseMat, DECOMP_SVD); 
```

执行反转功能后，我不断收到此错误：

> OpenCV 错误：反转中的断言失败（类型 == CV_32F || 类型 == CV_64F）

invert 函数适用于灰度加载图像（1 个通道），但我很难对包含实部和虚部的复杂矩阵进行逆运算。

有人可以告诉我如何解决复杂矩阵的逆问题吗？最好使用 DECOMP_SVD 方法，因为当我尝试使用单通道图像时，使用 DECOMP_LU 或 DECOMP_CHOLESKY 方法无法获得所需的结果，可能是因为奇异矩阵的问题。谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-29T07:08:57.550

OpenCV 不支持复杂矩阵的求逆。您必须以某种方式操作复矩阵以形成包含复矩阵的实部和虚部的实矩阵。[这个页面](http://home.earthlink.net/~w6rmk/math/matinv.htm)解释了这个过程。

这是使用上述过程执行复矩阵求逆的代码：

```
//Perform inverse of complex matrix.
cv::Mat invComplex(const cv::Mat& m)
{
    //Create matrix with twice the dimensions of original
    cv::Mat twiceM(m.rows * 2, m.cols * 2, CV_MAKE_TYPE(m.type(), 1));

    //Separate real & imaginary parts
    std::vector<cv::Mat> components;
    cv::split(m, components);

    cv::Mat real = components[0], imag = components[1];

    //Copy values in quadrants of large matrix
    real.copyTo(twiceM({ 0, 0, m.cols, m.rows })); //top-left
    real.copyTo(twiceM({ m.cols, m.rows, m.cols, m.rows })); //bottom-right
    imag.copyTo(twiceM({ m.cols, 0, m.cols, m.rows })); //top-right
    cv::Mat(-imag).copyTo(twiceM({ 0, m.rows, m.cols, m.rows })); //bottom-left

    //Invert the large matrix
    cv::Mat twiceInverse = twiceM.inv();

    cv::Mat inverse(m.cols, m.rows, m.type());

    //Copy back real & imaginary parts
    twiceInverse({ 0, 0, inverse.cols, inverse.rows }).copyTo(real);
    twiceInverse({ inverse.cols, 0, inverse.cols, inverse.rows }).copyTo(imag);

    //Merge real & imaginary parts into complex inverse matrix
    cv::merge(components, inverse);
    return inverse;
} 
```

# sakai - 如何在 sakai 2.9 中添加我自己的工具，如公告？

> ID：15697668
> 
> 赞同：1
> 
> 时间：2013-03-29T05:06:51.043
> 
> 标签：sakai

我是 sakai 的新手，我想在 sakai 源代码中添加我自己的工具，例如公告、教学大纲...等该工具有一些我自己的功能，我必须做的是，我如何在 sakai 中开发我自己的工具。

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-05-15T04:56:01.190

使用其中一种原型让您开始，然后对其进行自定义。当您感到舒适时，您可以将 UI 层更改为您喜欢的任何内容。

[https://confluence.sakaiproject.org/display/BOOT/Developer+Tools](https://confluence.sakaiproject.org/display/BOOT/Developer+Tools)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-10-16T17:58:12.077

如果您正在寻找一个坚实的“基础”工具外壳来开始工具开发，我的建议是从这里开始：[“Sakai Wicket Maven Archetype”](https://confluence.sakaiproject.org/display/BOOT/Sakai+Wicket+Maven+Archetype)。还有一些其他非常好的原型可用，但通常已经过时，根据我的经验可能会给您带来一些问题。这是我最成功的一个。

这使用了[Wicket](http://wicket.apache.org/)，但并不意味着您必须使用 Wicket 来进一步开发。确保拉取 1.2 版本，最后检查其他二进制文件尚不可用，因此替换`-DarchetypeVersion=1.4.1`为`-DarchetypeVersion=1.2`它将作为“原样”工具成功编译和部署，您可以根据需要进行修改。它还允许您使用 Java 编写代码以直接访问 sakai API 并从其数据库中提取，甚至添加您自己的表。我已经成功地将它与 Windows 7 下的 NetBeans 8.0.1 和 MySQL 5.6 以及 Maven 3.2.3 和 Sakai 10.1 一起使用。

该代码文档齐全，简洁，但具有足够多的不同功能使用示例，可​​以让您“几乎”做任何您想做的事情。wicket 手册有 600 多页，但根据我的经验，您应该能够通过查看原型中的代码来完成很多工作。

# javascript - 是否可以从javascript绑定控制器

> ID：15697673
> 
> 赞同：1
> 
> 时间：2013-03-29T05:07:15.337
> 
> 标签：javascript, angularjs, angularjs-directive

因此，可以手动将模块引导到选定的 html 元素。但是有可能用控制器做类似的事情吗？而不是使用`ng-controller`指令，你可以用javascript来做吗？假设您的控制器功能代码异步加载，并且`document.ready`还无法访问，因此返回`undefined`. 但是`ng-bind`，一旦加载了具有控制器功能的文件，是否可以从代码中获得它？我试图`ng-controller`从 javascript 代码中向元素添加属性，但它当然没有用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-20T04:09:18.310

您可以使用 $routeProvider 告诉 Angular 为给定视图加载哪个控制器。您不需要使用 ng-controller 指令。

从 API 参考：

```
$routeProvider.when('/Book/:bookId/ch/:chapterId', {
    templateUrl: 'chapter.html',
    controller: ChapterCntl
}); 
```

# hibernate - 运行时错误：org.hibernate.exception.ConstraintViolationException：无法执行 JDBC 批量更新

> ID：15697678
> 
> 赞同：0
> 
> 时间：2013-03-29T05:07:28.320
> 
> 标签：hibernate

我又遇到了这个问题，我被困在这里。下面的代码在 servlet 中。

```
AnnotationConfiguration ac=new AnnotationConfiguration();
                    ac.addAnnotatedClass(Client.class);
                    ac.addAnnotatedClass(Inventory.class);
                    ac.addAnnotatedClass(Ledger.class);
                    ac.addAnnotatedClass(QuantityBought.class);
                    ac.configure();
                    SessionFactory factory=ac.buildSessionFactory();
                    Session session=factory.openSession();
                    Client client=(Client)session.get(Client.class, Integer.parseInt(request.getParameter("cid")));

                    client.setBalance(Float.parseFloat(request.getParameter("balance")));

                    Ledger ledger=new Ledger();

                    Date d=new Date();

                    ledger.setDate_of_purchase(d);
                    int total=0;
                    for(int l=1;l<6;l++)
                    {   
                     if(request.getParameter("id"+l)!=null)
                     {

                         Inventory inventory=(Inventory)session.get(Inventory.class, Integer.parseInt(request.getParameter("id"+l)));

                         total=total+(int)(Integer.parseInt(request.getParameter("crate"+l))*inventory.getTrade()+Integer.parseInt(request.getParameter("botle"+l))*(inventory.getMrp()/inventory.getSize_of_crate()));

                         QuantityBought bought=new QuantityBought();

                         bought.setProduct(inventory.getName());

                         bought.setQuantity_bought(Integer.parseInt(request.getParameter("crate"+l))*inventory.getSize_of_crate()+Integer.parseInt(request.getParameter("botle"+l)));

                         bought.setSize_of_quantity(inventory.getSize_bottle());

                         bought.setTotal(Integer.parseInt(request.getParameter("crate"+l))*inventory.getTrade()+Integer.parseInt(request.getParameter("botle"+l))*(inventory.getMrp()/inventory.getSize_of_crate()));

                         bought.setBelongs_to_ledger(ledger);

                         inventory.setQuantity_available(inventory.getQuantity_available()-(Integer.parseInt(request.getParameter("crate"+l))*inventory.getSize_of_crate()+Integer.parseInt(request.getParameter("botle"+l))));

                         session.beginTransaction().begin();

                         session.save(bought);

                         session.saveOrUpdate(inventory);

                         session.beginTransaction().commit();
                     }
                    }

                    ledger.setSum_total(total);

                    client.getLedger().add(ledger);

                    session.beginTransaction().begin();

                    session.saveOrUpdate(client);
                    session.save(ledger);

                    session.beginTransaction().commit();

    } 
```

客户。班级

```
@Entity
public class Client implements Serializable {
private String Name;
private String Address;
private float balance;
@Id
@GeneratedValue
private int client_id;

@OneToMany(targetEntity=Ledger.class,mappedBy="client",cascade= CascadeType.ALL)
private List<Ledger> ledger;
} 
```

分类帐类

```
@Entity
public class Ledger implements Serializable {
@Id
private int id;
@ManyToOne
private Client client;
private Date date_of_purchase;

@OneToMany(targetEntity=QuantityBought.class,mappedBy="belongs_to_ledger",cascade= CascadeType.ALL)
private List<QuantityBought> quantitybought;
private float sum_total;
} 
```

QuantityBought.class

```
@Entity
public class QuantityBought implements Serializable {
@Id
@GeneratedValue
private int id;

private String product;
private int size_of_quantity;
private int quantity_bought;

@ManyToOne
private Ledger belongs_to_ledger;  

private float total;} 
```

我在运行时收到此错误。在保存 QuantityBought 的对象期间。我无法理解它有什么问题。

```
org.hibernate.exception.ConstraintViolationException: Could not execute JDBC batch update 
```

# c# - 是否有必要处置每个 ManagementObject？

> ID：15697684
> 
> 赞同：5
> 
> 时间：2013-03-29T05:08:21.463
> 
> 标签：c#, wmi

我注意到`ManagementObject`is `IDisposable`，但它也从`ManagementClass.GetInstances()`and返回`ManagementObjectSearcher.Get()`，这是否意味着我需要处理遇到的每个对象？

像这样：

```
ManagementObject ret;
foreach(ManagementObject mo in searcher.Get()) {
    if( IsWhatIWant(mo) ) ret = mo;
    else mo.Dispose();
} 
```

进一步混淆这一点：存在一个错误`ManagementBaseObject`，它没有正确实现`IDisposable`（请参阅[Using 子句无法调用 Dispose？](https://stackoverflow.com/questions/11896282/using-clause-fails-to-call-dispose)），因此您需要自己调用它，或者使用正确调用它的包装器。

这很烦人，因为我周围有很多人`ManagementObjectCollections`。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2017-05-03T07:11:43.470

我创建了一个辅助对象来处理所有创建的管理对象：

```
public class ManagementObjectDisposer : IDisposable
{
    private List<IDisposable> disposables = new List<IDisposable>();

    /// <summary>
    /// Workaround to dispose ManagementBaseObject properly.
    /// See http://stackoverflow.com/questions/11896282
    /// </summary>
    /// <param name="disposable"></param>
    public static void DisposeOne(IDisposable disposable)
    {
        ManagementBaseObject mbo = disposable as ManagementBaseObject;
        if (mbo != null)
            mbo.Dispose();
        else
            disposable.Dispose();
    }

    public void Dispose()
    {
        Exception firstException = null;
        foreach (IDisposable d in Enumerable.Reverse(disposables))
        {
            try
            {
                DisposeOne(d);
            }
            catch (Exception ex)
            {
                if (firstException == null)
                    firstException = ex;
                else
                    cvtLogger.GetLogger(this).Error($"Swallowing exception when disposing: {d.GetType()}", ex);
            }
        }
        disposables.Clear();
        if (firstException != null)
            throw firstException;
    }

    public T Add<T>(T disposable) where T : IDisposable
    {
        disposables.Add(disposable);
        return disposable;
    }

    /// <summary>
    /// Helper for ManagementObjectSearcher with adding all objects to the disposables.
    /// </summary>
    /// <param name="query">The query string.</param>
    public IEnumerable<ManagementBaseObject> Search(string query)
    {
        ManagementObjectSearcher searcher = this.Add(new ManagementObjectSearcher(query));
        return EnumerateCollection(searcher.Get());
    }

    /// <summary>
    /// Helper for adding ManagementObjectCollection and enumerating it.
    /// </summary>
    public IEnumerable<ManagementBaseObject> EnumerateCollection(ManagementObjectCollection collection)
    {
        this.Add(collection);
        ManagementObjectCollection.ManagementObjectEnumerator enumerator = this.Add(collection.GetEnumerator());
        while (enumerator.MoveNext())
            yield return this.Add(enumerator.Current);
    }
} 
```

只需像这样使用它：

```
using (var moDisposer = new ManagementObjectDisposer())
{
    foreach (var mobj = moDisposer.Search("SELECT * FROM Win32_Processor")
        Console.WriteLine(mobj["DeviceID"]);
} 
```

注意：`ManagementClass.GetInstances()`也很容易添加到`ManagementObjectDisposer`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T10:58:47.210

> 这很烦人，因为我周围有很多 ManagementObjectCollections。

这与调用 Dispose() 无关，它只会释放底层的非托管 COM 对象。ManagementObjectCollection 是一个托管类，它的实例被垃圾收集。这是自动的，您只能通过调用 GC.Collect() 来提供帮助。您的程序可能只是创建了许多 System.Management 对象，可能是因为这是它唯一做过的事情。引用的错误已在我的机器上安装的 .NET 3.5SP1 和 .NET 4.5 的当前版本中修复。

因此，如果您没有 .NET 的修补版本，那么您不仅会在 GC 堆上看到大量 System.Management 对象，您的进程还将消耗大量非托管内存。如果垃圾收集器没有足够频繁地运行，那么可能会导致程序因 OOM 而崩溃。您没有将其作为故障模式提及，因此并未强烈表明您遇到了真正的问题。

GC 堆的第 0 代初始大小为 2 兆字节，它可以增长到 8+ 兆字节。那是**很多**ManagementObjectCollections 对象，它是一个非常小的对象，在 32 位模式下只占用 24 个字节。实际的集合是不受管理的。使用 Perfmon.exe 或您的内存分析器来检查垃圾收集器是否足够频繁地运行。如果没有，请密切注意程序的 VM 大小。如果这正在膨胀，那么在查询循环中使用计数器并在它足够高时调用 GC.Collect() 是一种可行的解决方法。小心你从内存分析器中得到的信息，它可能会因为错误的原因而烦人。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-09-18T14:13:00.253

其实代码来自：

[http://referencesource.microsoft.com/#System.Management/managementobjectcollection.cs](http://referencesource.microsoft.com/#System.Management/managementobjectcollection.cs)

以及来自 Microsoft 符号服务器的符号

[http://msdl.microsoft.com/download/symbols](http://msdl.microsoft.com/download/symbols)

暗示 ManagementObjectCollection 是 IDisposable，这意味着它出于某种原因使用了非托管资源，或者它错误地使用了 IDisposable 接口。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-11-13T07:58:07.100

如果您执行大量 WMI 查询，则应始终处理返回`ManagementObjectCollection`以避免配额违规异常。

```
System.Management.ManagementException: Quota violation
at System.Management.ManagementException.ThrowWithExtendedInfo(ManagementStatus errorCode)
at System.Management.ManagementObjectCollection.ManagementObjectEnumerator.MoveNext() 
```

# eclipse - 存储用户名/密码的问题

> ID：15697690
> 
> 赞同：0
> 
> 时间：2013-03-29T05:08:43.117
> 
> 标签：eclipse, subclipse, svnkit

问题是带有 Eclipse 4.3（从 M2 到当前 M6）的 Subclipse 1.8.18（使用 SVNKit 1.7.8）在重新启动 Eclipse 后不记得 SVN 服务器的用户名和密码。

首先我认为它是由我在这里报告的错误引起的[http://subclipse.tigris.org/issues/show_bug.cgi?id=1485](http://subclipse.tigris.org/issues/show_bug.cgi?id=1485)，但看起来不是。

所以，问题是：这是一个错误，还是我做错了什么？如果它是一个错误，我应该在哪里报告它 - Eclipse、Subclipse 或 SVNKit？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T13:49:22.393

该错误报告中的修复尚未发布。它将包含在下一个 Subclipse 版本中，可能会在 SVN 1.7.9 正式发布的一周内。

# iphone - 多个按钮上的声音并在其他人在 iOS 中播放时停止

> ID：15697696
> 
> 赞同：0
> 
> 时间：2013-03-29T05:09:21.937
> 
> 标签：iphone, ios, objective-c

我正在尝试编写一个小应用程序来学习一些 iOS 开发的基础知识，如果这是基础知识，请原谅我。我查看了很多线程，但我认为我有几个特定于这个应用程序的问题。

1.  当按下按钮时，我已经看到了几种不同的播放音频的方法。一个涉及“CFBundleRef”（[如何播放 iPhone 点击声音？](https://stackoverflow.com/questions/884452/how-to-play-iphone-tap-sound)）和另一个“AVAudioPlayer”（[播放音频 iOS Objective-C](https://stackoverflow.com/questions/11525942/play-audio-ios-objective-c)）。我如何知道使用哪个以及何时适当使用每个？

2.  我目前使用第一个选项使音频正常工作，但我似乎无法弄清楚当按下另一个按钮时如何让声音停止。我怎样才能做到这一点？

3.  除了我所做的之外，有没有更简单的方法可以将 15 个声音/按钮链接在一起？

这是 .m 文件：

```
#import "animalsViewController.h"

@interface animalsViewController ()

@end

@implementation animalsViewController

-(IBAction) boom; {

    CFBundleRef mainBundle = CFBundleGetMainBundle();
    CFURLRef soundFileURLRef;
    soundFileURLRef = CFBundleCopyResourceURL(mainBundle, (CFStringRef) @"bird", CFSTR ("mp3"), NULL);
    UInt32 soundID;
    AudioServicesCreateSystemSoundID(soundFileURLRef, &soundID);
    AudioServicesPlaySystemSound(soundID);

}

-(IBAction) boom2; {

    CFBundleRef mainBundle = CFBundleGetMainBundle();
    CFURLRef soundFileURLRef;
    soundFileURLRef = CFBundleCopyResourceURL(mainBundle, (CFStringRef) @"bird2", CFSTR ("mp3"), NULL);
    UInt32 soundID;
    AudioServicesCreateSystemSoundID(soundFileURLRef, &soundID);
    AudioServicesPlaySystemSound(soundID);

}
-(IBAction) boom3; {

    CFBundleRef mainBundle = CFBundleGetMainBundle();
    CFURLRef soundFileURLRef;
    soundFileURLRef = CFBundleCopyResourceURL(mainBundle, (CFStringRef) @"bird3", CFSTR ("mp3"), NULL);
    UInt32 soundID;
    AudioServicesCreateSystemSoundID(soundFileURLRef, &soundID);
    AudioServicesPlaySystemSound(soundID);

}

-(IBAction) boom4; {

    CFBundleRef mainBundle = CFBundleGetMainBundle();
    CFURLRef soundFileURLRef;
    soundFileURLRef = CFBundleCopyResourceURL(mainBundle, (CFStringRef) @"chicken1", CFSTR ("mp3"), NULL);
    UInt32 soundID;
    AudioServicesCreateSystemSoundID(soundFileURLRef, &soundID);
    AudioServicesPlaySystemSound(soundID);

}

-(IBAction) boom5; {

    CFBundleRef mainBundle = CFBundleGetMainBundle();
    CFURLRef soundFileURLRef;
    soundFileURLRef = CFBundleCopyResourceURL(mainBundle, (CFStringRef) @"chicken2", CFSTR ("mp3"), NULL);
    UInt32 soundID;
    AudioServicesCreateSystemSoundID(soundFileURLRef, &soundID);
    AudioServicesPlaySystemSound(soundID);

}

-(IBAction) boom6; {

    CFBundleRef mainBundle = CFBundleGetMainBundle();
    CFURLRef soundFileURLRef;
    soundFileURLRef = CFBundleCopyResourceURL(mainBundle, (CFStringRef) @"cow", CFSTR ("mp3"), NULL);
    UInt32 soundID;
    AudioServicesCreateSystemSoundID(soundFileURLRef, &soundID);
    AudioServicesPlaySystemSound(soundID);

}

-(IBAction) boom7; {

    CFBundleRef mainBundle = CFBundleGetMainBundle();
    CFURLRef soundFileURLRef;
    soundFileURLRef = CFBundleCopyResourceURL(mainBundle, (CFStringRef) @"dog1", CFSTR ("mp3"), NULL);
    UInt32 soundID;
    AudioServicesCreateSystemSoundID(soundFileURLRef, &soundID);
    AudioServicesPlaySystemSound(soundID);

}

-(IBAction) boom8; {

    CFBundleRef mainBundle = CFBundleGetMainBundle();
    CFURLRef soundFileURLRef;
    soundFileURLRef = CFBundleCopyResourceURL(mainBundle, (CFStringRef) @"duck", CFSTR ("mp3"), NULL);
    UInt32 soundID;
    AudioServicesCreateSystemSoundID(soundFileURLRef, &soundID);
    AudioServicesPlaySystemSound(soundID);

}

-(IBAction) boom9; {

    CFBundleRef mainBundle = CFBundleGetMainBundle();
    CFURLRef soundFileURLRef;
    soundFileURLRef = CFBundleCopyResourceURL(mainBundle, (CFStringRef) @"horse", CFSTR ("mp3"), NULL);
    UInt32 soundID;
    AudioServicesCreateSystemSoundID(soundFileURLRef, &soundID);
    AudioServicesPlaySystemSound(soundID);

}

-(IBAction) boom10; {

    CFBundleRef mainBundle = CFBundleGetMainBundle();
    CFURLRef soundFileURLRef;
    soundFileURLRef = CFBundleCopyResourceURL(mainBundle, (CFStringRef) @"lion", CFSTR ("mp3"), NULL);
    UInt32 soundID;
    AudioServicesCreateSystemSoundID(soundFileURLRef, &soundID);
    AudioServicesPlaySystemSound(soundID);

}

-(IBAction) boom11; {

    CFBundleRef mainBundle = CFBundleGetMainBundle();
    CFURLRef soundFileURLRef;
    soundFileURLRef = CFBundleCopyResourceURL(mainBundle, (CFStringRef) @"monkey", CFSTR ("mp3"), NULL);
    UInt32 soundID;
    AudioServicesCreateSystemSoundID(soundFileURLRef, &soundID);
    AudioServicesPlaySystemSound(soundID);

}

-(IBAction) boom12; {

    CFBundleRef mainBundle = CFBundleGetMainBundle();
    CFURLRef soundFileURLRef;
    soundFileURLRef = CFBundleCopyResourceURL(mainBundle, (CFStringRef) @"owl", CFSTR ("mp3"), NULL);
    UInt32 soundID;
    AudioServicesCreateSystemSoundID(soundFileURLRef, &soundID);
    AudioServicesPlaySystemSound(soundID);

}

-(IBAction) boom13; {

    CFBundleRef mainBundle = CFBundleGetMainBundle();
    CFURLRef soundFileURLRef;
    soundFileURLRef = CFBundleCopyResourceURL(mainBundle, (CFStringRef) @"pig", CFSTR ("mp3"), NULL);
    UInt32 soundID;
    AudioServicesCreateSystemSoundID(soundFileURLRef, &soundID);
    AudioServicesPlaySystemSound(soundID);

}

-(IBAction) boom14; {

    CFBundleRef mainBundle = CFBundleGetMainBundle();
    CFURLRef soundFileURLRef;
    soundFileURLRef = CFBundleCopyResourceURL(mainBundle, (CFStringRef) @"rooster", CFSTR ("mp3"), NULL);
    UInt32 soundID;
    AudioServicesCreateSystemSoundID(soundFileURLRef, &soundID);
    AudioServicesPlaySystemSound(soundID);

}

-(IBAction) boom15; {

    CFBundleRef mainBundle = CFBundleGetMainBundle();
    CFURLRef soundFileURLRef;
    soundFileURLRef = CFBundleCopyResourceURL(mainBundle, (CFStringRef) @"sheep", CFSTR ("mp3"), NULL);
    UInt32 soundID;
    AudioServicesCreateSystemSoundID(soundFileURLRef, &soundID);
    AudioServicesPlaySystemSound(soundID);

}

- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

@end 
```

这是 .h 文件：

```
#import <UIKit/UIKit.h>
#import <AudioToolbox/AudioToolbox.h>

@interface animalsViewController : UIViewController{

}

-(IBAction) boom;
-(IBAction) boom2;
-(IBAction) boom3;
-(IBAction) boom4;
-(IBAction) boom5;
-(IBAction) boom6;
-(IBAction) boom7;
-(IBAction) boom8;
-(IBAction) boom9;
-(IBAction) boom10;
-(IBAction) boom11;
-(IBAction) boom12;
-(IBAction) boom13;
-(IBAction) boom14;
-(IBAction) boom15;

@end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T05:18:35.797

使用单个 AVAudioPlayer 实例，如下所示。

```
-(void)playAudioOfType:(int)type{

     [self stopAudio];

     NSString *sound=@"";

     switch (type) {
       case 1:
          sound=@"bird";
        break;

       case 2:
          sound=@"bird2";
        break;

       case 3:
          sound=@"bird3";
        break;

       case 4:
          sound=@"chicken";
        break;

       default:
         break;
      }

      NSURL *url = [NSURL fileURLWithPath:[[NSBundle mainBundle]
                                     pathForResource:sound
                                     ofType:@"mp3"]];

NSError *error;
if(url){
    audioPlayer = [[AVAudioPlayer alloc]
                   initWithContentsOfURL:url
                   error:&error];

    if (error)
    {
        NSLog(@"Error in audioPlayer: %@", 
              [error localizedDescription]);
    } else {
        audioPlayer.delegate = self;
        [audioPlayer prepareToPlay];
    }

    [audioPlayer play];
}

 }

 -(void)stopAudio{

if(audioPlayer && [audioPlayer isPlaying]){
    [audioPlayer stop];
    audioPlayer=nil;
}

} 
```

然后你的每一个动作你都可以调用如下的函数

```
-(IBAction) boom; {
     [self playAudioOfType:1]; //Will play bird.mp3
}

-(IBAction) boom1; {
     [self playAudioOfType:2]; //Will play bird2.mp3
}

-(IBAction) boom2; {
     [self playAudioOfType:3]; //Will play bird3.mp3
} 
```

[在这里](http://dl.dropbox.com/u/78701794/PlaySoundTestApp.zip)找到一个测试应用程序..您只需在应用程序中添加 mp3 文件，它应该可以工作..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T05:21:37.203

试试这个链接：[简单的声音问题](http://iphonedevsdk.com/forum/iphone-sdk-development/4446-simple-sound-question.html)

看到这个问题的最后一个......

```
 -(void)stop
    {
            AudioServicesDisposeSystemSoundID (_soundID);
            self.IsPlaying = FALSE;
    } 
```

# java - 类似 Cytoscape 的 java 中用于构建图形的工具

> ID：15697697
> 
> 赞同：3
> 
> 时间：2013-03-29T05:09:29.320
> 
> 标签：java, swing, graph

我需要构建图表作为项目要求的一部分。假设，我的输入以如下格式指定。

比尔盖茨创立了微软。

我需要以图形方式将上述内容表示为节点表示（node1 可以是 Bill Gates，node2 可以是 Microsoft）。我遇到了 cytoscape，一种用于有效表示分子相互作用的工具。它允许用户创建新插件并简单地将它们添加到应用程序中。但是，我的要求更像是从用户那里获取输入并以此为基础构建图形。例如，我的输入将如下所示。

进入node1：比尔盖茨进入node2：微软

我需要将以上内容显示为图形表示。请让我知道如何去做。我将代表一个巨大的图表。（即）我的输入可能包含大约 50k 个节点和边。所以我更喜欢一些图形构建工具，它有一些预定义的格式来接受输入。

因此，基本上我将接受用户的输入并将它们转换为图形构建工具正在使用的格式，并在 Java 控制台或用户界面中显示来自该工具的图形。

如果您需要更多详细信息，请告诉我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T11:15:45.030

很大程度上取决于您计划解决此问题的级别。较大的库功能更强大，但它们通常具有更陡峭的学习曲线。以下是一些需要考虑的方法：

*   `JHotDraw`[，这里](https://stackoverflow.com/a/13997870/230513)引用，是一个用于创建自定义图形编辑器的元库。

*   [`Prefuse`](https://stackoverflow.com/tags/prefuse/info)[，在这里](https://stackoverflow.com/a/30395586/230513)演示，支持图形建模、可视化和交互。

*   [`GraphViz`](https://stackoverflow.com/tags/graphviz/info)，[在这里](https://stackoverflow.com/questions/tagged/graphviz?sort=votes&pageSize=15)检查，是由 AT&T 开发的图形可视化库。

*   [`JGraph`](https://stackoverflow.com/tags/jgraph/info)，链接[在这里](https://stackoverflow.com/tags/jgraph/info)，是一个流行的图形可视化库。

*   [`GraphPanel`](https://sites.google.com/site/drjohnbmatthews/graphpanel)，如图所示[，](https://stackoverflow.com/a/11944233/230513)显示了一个非常基本的图形编辑面板。

# jquery - onClick .hide() 单击的相同 DIV

> ID：15697698
> 
> 赞同：1
> 
> 时间：2013-03-29T05:09:31.717
> 
> 标签：jquery

我正在`.append()`通过 jQuery 编写一些 HTML - 它应该发挥作用。但是，`.detach()`(function below `// close thankyou message`) 的函数不会删除附加的 HTML。没有控制台错误......并且似乎无法注意到/弄清楚我做错了什么。

如何分离单击时附加的“感谢消息”？当我点击它时，什么也没有发生。

```
 // Thank You Confirmation
            // Example Modal
            var tyOverlay = 'thankyouOverlay';
            var thxMsg = 'thanksBox';

            $('.campaign-form-submit').on('click', function () {
                $('#campaign-wrap').append(                    
                    '<div id="' + tyOverlay + '">' +          
                        '<div class="' + thxMsg + ' shadow">' +
                            '<div class="ty-msg left">THANK YOU! YOUR ENTRY HAS BEEN RECEIVED.</div>' +
                            '<div class="ty-close left">' +
                                '<div class="ty-close-icon"></div>' +
                            '</div>' +    
                        '</div>' +
                    '</div>'
                    );
                $('#' + tyOverlay + ', .' + thxMsg + '').hide();
                $('#' + tyOverlay + '').fadeIn(400, function () {
                    $('.' + thxMsg + '').slideDown(200);
                });
                return false;
            });
            // close thankyou message
            $('#thankyouOverlay').on('click', function (e) {
                e.preventDefault();
                $(this).detach();
            }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T05:11:44.600

`#thankyouOverlay``.campaign-form-submit`在被点击之前不存在。`#thankyouOverlay`将点击绑定移动到其他函数内*或*使用委托：

```
$(document).on('click', '#thankyouOverlay' ... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T05:13:47.357

尝试类似的事情：

```
 // Thank You Confirmation
        // Example Modal
        var tyOverlay = 'thankyouOverlay';
        var thxMsg = 'thanksBox';

        $('.campaign-form-submit').on('click', function () {
            $('#campaign-wrap').append(                    
                '<div id="' + tyOverlay + '">' +          
                    '<div class="' + thxMsg + ' shadow">' +
                        '<div class="ty-msg left">THANK YOU! YOUR ENTRY HAS BEEN RECEIVED.</div>' +
                        '<div class="ty-close left">' +
                            '<div class="ty-close-icon"></div>' +
                        '</div>' +    
                    '</div>' +
                '</div>' + 
                "<script>// close thankyou message \
                    $('#thankyouOverlay').on('click', function (e) { \
                    e.preventDefault();\ 
                    $(this).detach();\
                });</script>"
                );
            $('#' + tyOverlay + ', .' + thxMsg + '').hide();
            $('#' + tyOverlay + '').fadeIn(400, function () {
                $('.' + thxMsg + '').slideDown(200);
            });
            return false;
        }); 
```

# php - 在 Simple HTML Dom 中的注释之间解析

> ID：15697702
> 
> 赞同：1
> 
> 时间：2013-03-29T05:10:20.780
> 
> 标签：php, html-parsing

我可以使用 Simple HTML Dom 获取两个 html 注释之间的数据吗？

例如，参见下面的代码：

```
<!-- start of comment -->

<a href="link1.html" target="_blank">link1</a><br />
<a href="link2.html" target="_blank">link2</a><br />
<a href="link3.html" target="_blank">link3</a><br />
<a href="link4.html" target="_blank">link4</a><br />

<!-- end of comment-->

<a href="link5.html" target="_blank">link5</a><br />
<a href="link6.html" target="_blank">link6</a><br /> 
```

总共有 6 个链接，只有 4 个链接包含在“”和“”标签内。

我只想获取评论标签之间的链接。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T05:16:01.037

你可以这样做：

```
//get all comments
$comments = $html->find('comment'); 
```

...并用于`next_sibling()`获取下一个元素并检查它是否是锚标记，直到您获得另一个注释标记，脚本将在该标记处终止。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T05:19:55.870

试试这个代码

```
$dom = new DOMDocument();
$dom->loadHTML($html);

$elements = $dom->getElementsByTagName('a');
foreach ($elements as $child) {
    echo $child->nodeValue;
} 
```

# ios - 在警报视图上添加的 YLProgressBar 的使用会导致我的应用在应用商店中被拒绝吗？

> ID：15697703
> 
> 赞同：0
> 
> 时间：2013-03-29T05:10:22.090
> 
> 标签：ios, app-store, uialertview, appstore-approval, alertview

在我的 iOS 应用程序中，我使用警报视图显示“正在加载数据...”的消息，并添加了一个[YLProgressBar](https://github.com/YannickL/YLProgressBar)作为警报视图的子视图，它显示了数据加载过程的进度。

我想知道这种方法是否会被 Apple 接受，因为我经历过 Apple 拒绝在警报视图中添加文本字段的应用程序的情况。任何澄清此规则的参考资料都非常受欢迎。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T05:14:20.917

> 在警报视图上添加的 YLProgressBar 的使用会导致我的应用在应用商店中被拒绝吗？

它可以。什么都可以。苹果有自己的怪异和晦涩的修订系统，有时似乎缺乏所有逻辑并且自相矛盾。因此，“XYZ 是否可以成为拒绝的理由”的答案始终是“是的，它可能是”，而“如果我不做 ABC，而另一个应用程序被拒绝，我的应用程序是否会被批准”这个问题的答案是？” 是“也许不是，也许是”。

# c# - 构建后事件后宏执行 .exe

> ID：15697706
> 
> 赞同：0
> 
> 时间：2013-03-29T05:10:38.207
> 
> 标签：c#, asp.net, macros

我想在 Visual Studio 2012 中编写构建后事件。我不知道如何编写宏来执行构建后事件。我的简单要求是，我只想运行一个 .exe 文件，该文件在成功构建操作后放置在文件夹中。所以请指导我如何实现这一目标。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T10:18:07.993

我建议你这个代码

```
Set shell = CreateObject("WScript.Shell") 
shell.Run "C:\YourProgram.exe" 
```

注意：您可以调整路径

# algorithm - 为堆栈调整数组大小的摊销分析

> ID：15697708
> 
> 赞同：2
> 
> 时间：2013-03-29T05:10:42.607
> 
> 标签：algorithm, amortized-analysis

**命题**。在 Stack 的大小调整数组实现中，从空数据结构开始的任何操作序列的平均数组访问次数在最坏的情况下是恒定的。

**证明草图**：对于导致数组增长的每个 push()（例如从大小 N 到大小 2N），考虑`N/2 - 1`最近导致堆栈大小增长到 k 的 push() 操作，对于 k 从`N/2 + 2 to N`. 平均 4N 次数组访问以通过 N/2 次数组访问（每次推送一次）来增长数组，我们得到每个操作的平均 9 次数组访问成本。证明任何 M 操作序列使用的数组访问次数与 M 成正比更加复杂。（算法第 4 版第 1.4 章）

我不完全理解证明草图。请帮助我理解这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T06:10:23.143

我认为这是一种摊销分析，在这种分析中，您向诸如 push() 之类的请求收取并非直接归因于它们的工作，然后表明没有人必须支付过高的账单，这意味着完成工作的平均成本是小的。

在这种情况下，当空间不足时，您必须复制整个数组，但这样做时会将大小翻倍，因此您不会经常复制 - 例如大小为 1、2、4、8、16.. . 在这里，我们将每个数组副本计入自上次数组副本以来已完成的 push() 操作。这意味着如果除了 push() 之外什么都不做，那么每个 push() 只获取在它之后发生的第一个数组副本的账单，所以如果账单（拆分为多个 push() 操作）每次推送都很小（ ) 那么摊余成本很小。

如果数组在空间用完并且大小翻倍之前的大小为 N，那么本文说这需要 4N 次操作，这听起来很合理，而且我们不太关心常数因子。自上次加倍以来，这将被拆分为所有操作。最后一次翻倍是从尺寸 N/2 到尺寸 N，所以大约有 N/2 个。这使您在 N/2 push() 操作上拆分了 4N 个操作，因此每次推送都会共享 8 个账单。不要忘记 push() 涉及数组写入，无论它是否触发大小加倍，并且您会得到一个每次 push() 的平均写入成本为 9 次。

# java - 按住按钮时如何使JButton执行？

> ID：15697713
> 
> 赞同：0
> 
> 时间：2013-03-29T05:11:39.763
> 
> 标签：java, swing, jbutton

首先，我的程序非常简单。我只需要单击或按 Alt + Enter JButton 来增加计数器。

这是程序，您可以尝试一下：

```
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

public class holdDownClass implements ActionListener {
    private static JButton exebouton;
    private JTextArea ecran = new JTextArea();
    private JScrollPane scrollecran = new JScrollPane(ecran);
    private int counter = 0;

    public static void main(String[] args) {
        new holdDownClass();
    }

    private holdDownClass() {
        // Window
        JFrame frame = new JFrame("Name");
        frame.setBounds(400, 350, 625, 355);
        frame.setLayout(null);

        Container container = frame.getContentPane();

        // Panel
        JPanel panneau = new JPanel();
        panneau.setLayout(null);
        panneau.setBounds(2, 42, 146, 252);
        frame.add(panneau);

        JLabel nglabel = new JLabel("Click or Press Alt+Enter");
        nglabel.setBounds(5, 0, 200, 20);
        panneau.add(nglabel);

        // Button
        exebouton = new JButton("Execute");
        exebouton.setMnemonic(KeyEvent.VK_ENTER); // Shortcut: Alt + Enter
        exebouton.setBounds(4, 18, 138, 47);
        exebouton.addActionListener(this);
        panneau.add(exebouton);

        // Text Area
        ecran.setEditable(true);
        scrollecran.setBounds(150, 42, 467, 252);
        container.add(scrollecran);

        // Show
        frame.setVisible(true);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    }

    @Override
    public void actionPerformed(ActionEvent e) {
        Object test = e.getSource();         
        if (test.equals(exebouton)) {
            counter += 1;
            ecran.setText(ecran.getText() + counter + "\n");
        }
    }
} 
```

我的目标是：我不想重复按 Alt+Enter，**而是想按住 Alt+Enter 来“更快”地增加计数器。**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T05:35:00.390

您可以使用 a `MouseListener`，但就个人而言，我认为它不是实现您想要实现的目标的最合适的方法，因为它与按钮的工作方式作斗争。

相反，您可以将更改侦听器附加到按钮模型，并在按钮的状态保持按下状态时，循环 Swing `Timer`...。

```
import java.awt.BorderLayout;
import java.awt.EventQueue;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.Action;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.Timer;
import javax.swing.UIManager;
import javax.swing.UnsupportedLookAndFeelException;
import javax.swing.event.ChangeEvent;
import javax.swing.event.ChangeListener;

public class TestButton04 {

    public static void main(String[] args) {
        new TestButton04();
    }

    private int counter = 0;
    private Timer trigger;
    private JButton btn;

    public TestButton04() {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {
                }

                btn = new JButton("0");
                trigger = new Timer(125, new ActionListener() {
                    @Override
                    public void actionPerformed(ActionEvent e) {
                        counter++;
                        btn.setText(String.valueOf(counter));
                    }
                });
                trigger.setCoalesce(true);
                trigger.setRepeats(true);

                btn.getModel().addChangeListener(new ChangeListener() {
                    @Override
                    public void stateChanged(ChangeEvent e) {
                        if (btn.getModel().isPressed()) {
                            trigger.start();
                        } else {
                            trigger.stop();
                        }
                    }
                });

                JFrame frame = new JFrame("Test");
                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                frame.setLayout(new BorderLayout());
                frame.add(btn);
                frame.pack();
                frame.setLocationRelativeTo(null);
                frame.setVisible(true);
            }

        });
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T05:24:29.480

这是你可以做到的方式 -

```
private boolean mousePressed; 
```

还有一个鼠标监听器——

```
 exebouton.addMouseListener(new MouseAdapter() {
        public void mousePressed(MouseEvent e) {
            mousePressed = true;
            new Thread() {
                public void run() {
                    while (mousePressed) {
                        counter += 1;
                        ecran.setText(ecran.getText() + counter + "\n");
                    }
                }

            }.start();
        }

        public void mouseReleased(MouseEvent e) {
            mousePressed = false;
        }

    }); 
```

就是这样。

# java - 实际列表和参数列表的长度不同

> ID：15697716
> 
> 赞同：-3
> 
> 时间：2013-03-29T05:11:56.907
> 
> 标签：java, oop

我的项目有这个 OOP 程序，但我看不出它为什么会出错。

这个程序就像一个投票系统，但只是简单地使用键盘输入。但在此之前，我想展示以前的选民，然后是候选人和他们的排名，分别使用`Voter vote = new Voter("String here");`和`Candidates cand = new Candidates("String");`。

无论我如何再次查看我的代码，我仍然有同样的错误。我是 Java 的新手，如果有人可以同时解释和回答我，那将会有所帮助。如果有人看到我说的以外的错误，那就太好了。谢谢！

我的代码，

候选班：

```
 public class Candidates
{
    public String candName;
    private int position;
    private int totalVotes;

    public void Candidate (String candName, int position, int totalVotes)
    {
        this.candName = candName;
        this.position = position;
        this.totalVotes = totalVotes;
    }

    public void setDetails (String candName, int position, int totalVotes)
    {
        this.candName = candName;
        this.position = position;
        this.totalVotes = totalVotes;
    }

    public String getCandName()
    {
        return candName;
    }

    public int getPosition()
    {
        return position;
    }

    public int getTotalVotes()
    {
        return totalVotes;
    }
} 
```

选民等级：

```
 public class Voter
{
    private String name;
    private int votNum;
    private int precint;

    public Voter(String name, int votNum, int precint, double bDay)
    {
        this.name = name;
        this.votNum = votNum;
        this.precint = precint;
    }

    public void setDetails(String name, int votNum, int precint)
    {
        this.name = name;
        this.votNum = votNum;
        this.precint = precint;
    }

    public String getName()
    {
        return name;
    }

    public int getVotNum()
    {
        return votNum;
    }

    public int getPrecint()
    {
        return precint;
    }

    public Voter toString()
    {
        StringBuilder sb = new StringBuilder();
        sb.append(name).append(" ");
        sb.append(votNum).append(" ");
        sb.append(precint).append(" ");
         sb.append("Voter's Name: ").append(" ");
         sb.append("Voter's ID number: ").append(" ");
         sb.append("Precint: ").append(" ");
         return sb.toString();
    }
} 
```

主要类：

```
 import java.util.Scanner;

public class voteDemo
{
    public static void main(String[] args)
    {
        System.out.println("Previous voter's info: ");
        Voter vot1 = new Voter("Name1", 131, 01);
        Voter vot2= new Voter("Name2", 265, 02);
        Voter vot3= new Voter("Name3", 343, 01);
    System.out.println(vot1);
    System.out.println(vot2);
    System.out.println(vot3);

    System.out.println("The Candidates: ");
        Candidates cand1  = new Candidates("Candidate1", 1, 19000);
        Candidates cand2 = new Candidates("Candidate2" , 2, 17000);
        Candidates cand3 = new Candidates("Candidate3", 3, 12000);
    System.out.println(cand1);
    System.out.println(cand2);
    System.out.println(cand3);

    Scanner kb = new Scanner(System.in);

        System.out.println("Enter Voter's Name: ");
        String name = kb.nextLine();
        System.out.println("Enter Voter's ID: ");
        int votNum = kb.nextInt();
        System.out.println("Enter Precint: ");
        int precint = kb.nextInt();

        do
        {
            System.out.println("\n\nSelect Candidate for Senator:");
            System.out.println("1 - Choice1");
            System.out.println("2 - Choice2");
            System.out.println("3 - Choice3");
            System.out.println("4 - Choice4");
        System.out.println("5 - Choice5");
        System.out.print("\nEnter choice: ");

            choice = kb.nextInt();

           switch(choice)
            {
                case 1:
                        System.out.println("Name: " + name);
                        System.out.println("Voter ID: " + votNum);
                        System.out.println("Precint No.: " + precint);
                        System.out.println("Senator of choice: Choice1");
                        break;
                case 2:
                        System.out.println("Name: " + name);
                        System.out.println("Voter ID: " + votNum);
                        System.out.println("Precint No.: " + precint);
                        System.out.println("Senator of choice: Choice2");
                        break;
                case 3:
                        System.out.println("Name: " + name);
                        System.out.println("Voter ID: " + votNum);
                        System.out.println("Precint No.: " + precint);
                        System.out.println("Senator of choice: Choice3");
                        break;
                case 4:
                        System.out.println("Name: " + name);
                        System.out.println("Voter ID: " + votNum);
                        System.out.println("Precint No.: " + precint);
                        System.out.println("Senator of choice: Choice4");
                        break;
                case 5:
                        System.out.println("Name: " + name);
                        System.out.println("Voter ID: " + votNum);
                        System.out.println("Precint No.: " + precint);
                        System.out.println("Senator of choice: Choice5");
                        break;

                default:
                        System.out.println("Error. Review your entries.");
                        break;
            }
        } while (choice != 5 );

    System.out.println("Press Enter to confirm.");

    }
    } 
```

我得到的错误：

> 必需：String,int,int,double 找到：String,int,int原因： 在我的主类的第 7、8、9 行和第 15、16、17 行，
> 实际参数列表和形式参数列表的长度不同。
> 
> voteDemo.java:47: 错误: 找不到符号选择 = kb.nextInt(); 在我的主要课程上

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T05:20:06.723

简单来说，就是你有一个需要 N 个参数的方法调用，但是你给了它错误的参数个数；例如

```
 public void setFoo(int arg) { ... }

    // using it correctly
    setFoo(24);

    // using it incorrectly
    setFoo();                     // compilation error - wrong number of args
    setFoo(42, 43);               // compilation error - wrong number of args 
```

* * *

您可以使用构造函数获得相同的结果，并且`new`...就像您所做的那样。

```
public Voter(String name, int votNum, int precint, double bDay)

Voter vot1 = new Voter("Name1", 131, 01); 
```

看？

您使用 4 个参数声明它，并尝试使用 3 个参数。

* * *

和这个 ...

> voteDemo.java:47: 错误: 找不到符号选择 = kb.nextInt(); 在我的主要课程上

你还没有声明`choice`。您刚刚分配了一个尚未声明的变量。在Java中无法做到这一点。每个变量都必须显式声明。

* * *

虽然我引起了您的注意，但在 Java 数字文字上放置前导零通常**不是一个好主意。**为什么？因为前导零告诉 Java 编译器您使用的是八进制而不是十进制。所以`011` *实际上*意味着九，而不是十一！不要使用前导零，除非你*打算*用八进制写你的数字。

# php - 如何让 Joomla 3.0 富文本编辑器允许 HTML？

> ID：15697717
> 
> 赞同：4
> 
> 时间：2013-03-29T05:12:03.763
> 
> 标签：php, joomla, tinymce, joomla2.5, joomla3.0

在 Joomla 2.5 中，我使用以下代码生成富文本编辑器，它允许我输入 HTML 并将其保存在数据库中。代码如下。

```
<?php 
$editor = & JFactory::getEditor();
$params = array('smilies'=> '0' ,'style'  => '0' ,'layer'  => '0' ,'table'  => '0' ,'clear_entities'=>'0');
echo $editor->display('description',$description  , 550, 400, 60, 20, false, $params); 
?> 
```

但在 Joomla 3.0 中，我使用相同的代码，但富文本编辑器不允许我输入 HTML。文章管理器富文本编辑器中的编辑器允许我输入 HTML。为什么这个编辑器没有？

我怎样才能解决这个问题？应该传递哪些额外的参数以允许富文本编辑器允许 HTML？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-29T10:25:12.593

提示您的 JModel：

请注意，默认情况下 JRequest::GET 会将所有 HTML 代码过滤为纯文本，这在使用编辑器时可能不是很有用。要在模型类中存储 HTML 代码，您必须明确地从 JRequest-Object 请求 HTML 代码，否则所有 HTML 将被剥离。

```
JRequest::getVar( 'yourfieldname', '', 'post', 'string', JREQUEST_ALLOWHTML ); 
```

`JREQUEST_ALLOWHTML`是要记住的关键点。鉴于

*   JREQUEST_NOTRIM - 防止修剪空白
*   JREQUEST_ALLOWRAW - 绕过过滤
*   JREQUEST_ALLOWHTML - 允许大多数 HTML。如果没有传入，默认情况下会去除 HTML。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T09:57:10.417

`JFactory::getEditor()`已弃用。您应该`JEditor::getInstance()`从 12.3 开始使用

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-08-22T05:46:44.340

当您使用 XML 表单结构时，您可以使用“编辑器”表单字段类型。在这种情况下，为了允许 HTML 标签，您必须使用属性“ **filter='safehtml'** ”来允许使用 html 标签保存内容。

例如：

```
<field
                name="event_desc"
                type="editor"
                editor="tinymce"
                width="400"
                height="100"
                label="COM_YOURCOMPONENT_FIELD_LABEL"
                description="COM_YOURCOMPONENT_FIELD_DESC"
                cols="30"
                rows="5"
                class=""
                default=""
                filter="safehtml"
                /> 
```

希望这会节省一些时间。:) 编码快乐！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-07-29T08:43:09.380

在 Joomla 3.6 我得到这个错误

使用未定义的常量 JREQUEST_ALLOWHTML - 假定为“JREQUEST_ALLOWHTML”。

我得出的结论是，在 Joomla 中检索 html 格式文本的最佳方法是：

```
$html = JComponentHelper::filterText(JFactory::getApplication()->input->post->get($var_name, $default_value, 'raw')); 
```

希望这可以帮助

# python - 程序：当我在主程序中动态修改导入的类文件时，似乎正在运行旧的 .pyc

> ID：15697718
> 
> 赞同：-1
> 
> 时间：2013-03-29T05:12:09.027
> 
> 标签：python

我正在尝试修改在我的主程序中导入并再次运行时间本身的类运行时。我正在导入同一个类，但这次它正在运行我的旧功能（在类修改之前）

```
def mydef()
{
  from myclassfile import myclass
  ---------
  ---------
}

def mydef2()
{
  from myclassfile import myclass
  ---------
  ---------
  here, Modifying class by changing code in myclassfile 
}

def mydef3()
{
  from myclassfile import myclass
  ---------
  ---------
  getting old functionality [before modification of class] 
} 
```

如果我按以下顺序调用类 def：

```
mydef()
mydef2()
mydef3() 
```

在 mydef3() 中获取旧功能

我知道我认为它是 python 的速度优化部分，所以它阻止再次编译同一个类并导入它，但它应该编译，因为类已被修改。

请帮帮我？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T05:31:03.907

在单个解释器会话中`import`，即使源文件已被修改，也只能导入一次模块。模块对象在第一次导入时存储在`sys.modules`字典中，所有后续导入都使用该对象。您可以使用`reload()`重新加载模块，但修改源文件可能是实现您想要做的最难的方法。如果您发布有关您的实际目标的更多信息（即，*为什么*您认为需要修改磁盘上的源文件并重新导入它），有人可能会提出更好的方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T06:08:46.913

您可能想研究子类`MyClass`化而不是修改它。其他代码可能正在使用`MyClass`并且可能不知道您的修改。

例如，

我的模块.py：

```
class MyClass(object):
    def do_something(self):
        return 'Foo' 
```

修改后的.py：

```
from mymodule import MyClass

class ModifiedClass(MyClass):
    def do_something(self):
        original = super(ModifiedClass, self).do_something()
        return original * 2

def main():
    mycls = MyClass()
    modcls = ModifiedClass()

    print mycls.do_something()
    print modcls.do_something()

if __name__ == '__main__':
    main() 
```

输出：

```
$ python modified.py
Foo
FooFoo 
```

# javascript - 在 Masonry 中使用带有 isFitWidth 选项的角戳

> ID：15697720
> 
> 赞同：0
> 
> 时间：2013-03-29T05:12:18.333
> 
> 标签：javascript, jquery-masonry

有谁知道如何在 Masonry 中使用带有“isFitWidth”选项的角标？重新调整窗口大小时，这些项目无法正确排列。

```
$('#container').masonry({
    itemSelector: '.span1BoxWrapper',
    cornerStampSelector: '.corner-stamp',
    columnWidth: 322,
    isAnimated: !Modernizr.csstransitions, 
    //isRTL: true 
    isFitWidth: true 
}); 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-26T02:55:35.243

我发现当我最初调整窗口大小时，使用cornerstamp 和isfitwidth 砖石布局并没有重新加载，从而使“砖块”不合适。如果我稍微移动窗口大小，它会重新加载，但这让我很烦。为了解决这个问题，我刚刚添加了一个计时器，它每 50 毫秒重新加载一次砌体。可能不是有效的代码，但它修复了错误，直到有人以更优雅的方式解决它。

```
window.onload = function () {
   setInterval(function(){
      $(“#container”).masonry(‘reload’);
   },50);
   ...
   ...
} 
```

# c++ - 如何解析嵌套名称说明符？

> ID：15697723
> 
> 赞同：0
> 
> 时间：2013-03-29T05:13:15.047
> 
> 标签：c++, class

例如，我有一个 Ah 头文件，其中有一个类声明，例如：

```
class A {
public:
    struct Node {
        int val;
    };
private:
    B* b;
}; 
```

它包括在 Bh 文件中定义的 B 类指针：

```
class B {
public:
    A::Node* node_new() { ***};
}; 
```

当我编译项目时，出现“嵌套名称说明符”错误。如何解决？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T05:27:08.870

> 是的，Ah 包括 #include"Bh" 而 Bh 包括 #include "Ah"

所以，这里是无限递归......你应该`B`在`A.h`文件中使用类的前向声明并包含`A.h`在`B.h`，所以，这应该可以正常工作。

# javascript - 在文本框或文本区域内放置下拉菜单

> ID：15697727
> 
> 赞同：0
> 
> 时间：2013-03-29T05:14:01.783
> 
> 标签：javascript, html

我试图在我使用**HTML创建的文本框中放置一个****下拉菜单**，但我不知道如何为此进行编码。

 **我找到了一种将图像放置在文本区域内的方法，但没有用于下拉菜单。

```
$('input:text').css('background','#fff url(images/back.png) center right no-repeat'); 
```

我的想法是在搜索框中放置一个下拉菜单，以便用户可以选择要搜索的类别。例如：音乐、视频、图片。但选择下拉菜单应该在搜索框中。

我的下拉菜单代码是

```
 <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
        <ul class="dropdown-menu">
          <li><a href="#">Action</a></li>
          <li><a href="#">Another action</a></li>
          <li><a href="#">Something else here</a></li>                </ul>
      </li> 
```

对我正在尝试做的事情有什么建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T05:24:58.110

扩展@TGH的答案：

CSS：

```
#dropdown
{
    position: absolute;
    z-index: 9999;
    top: 50px;
    left: 50px;
    border: 1px solid red;
}
body textarea
{
    width: 500px;
    height: 200px;
    border: 1px solid red;
} 
```

HTML：

```
<select id="dropdown">
    <option value="1">1</option>
</select>
<textarea></textarea> 
```

[JS小提琴](http://jsfiddle.net/4nJGK/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T05:17:10.683

您可以尝试使用 z-index 和绝对定位来覆盖下拉列表。通过 css 为下拉列表指定绝对定位和 z-index。**

# r - 尝试将 bigmemory 包导入 R 时出现“无包”错误

> ID：15697730
> 
> 赞同：0
> 
> 时间：2013-03-29T05:14:11.863
> 
> 标签：r, import, r-bigmemory

我正在尝试将 bigmemory 包导入 R。我从 CRAN 下载了该包并将其保存在本地计算机上的 R 包库中。在 RI 中键入 library 命令以导入包：

```
> library(bigmemory) 
```

但我收到以下错误：

```
Loading required package: bigmemory.sri
Error: package ‘bigmemory.sri’ could not be loaded
In addition: Warning message:
In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc = lib.loc) :
  there is no package called ‘bigmemory.sri’ 
```

我已经毫无问题地加载了其他包，但不知道为什么此时会出现错误。我还没有找到其他似乎有这个问题的人。有任何想法吗？

# initialization - I2C 初始化和排空功能

> ID：15697734
> 
> 赞同：1
> 
> 时间：2013-03-29T05:14:31.847
> 
> 标签：initialization, i2c, gpio

我是初学者。我正在尝试了解 TMP102 的 I2C 初始化。它是一个温度传感器。它通过 I2C 连接。所以，初始化必须是I2C。但是，我的领导告诉我们在这种情况下也必须初始化 GPIO，因为中断引脚是通过 GPIO 连接的。他还说在其他情况下没有必要。我无法理解最初的目的。

为什么要初始化GPIO？在其他情况下，从机的中断引脚在哪里连接？（如果不在 GPIO 中）

此外，在大消息的情况下，TX/RX FIFO 可能不适合。因此，使用了排水功能（设置了 XDR/RDR 位）。什么是排水功能，它的作用是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T04:41:52.027

```
Why do we initialize GPIO? 
```

由于中断引脚是通过 GPIO 连接的。

```
In other cases, where does the slave's interrupt pin gets connected? 
```

如果从机有中断管脚，你应该初始化相应的 GPIO/IOMUX。

一些从设备可能不包含中断。在这种情况下，无需初始化任何 GPIO。

```
Summary: 
```

您应该为从处理器到从设备的所有输入/输出初始化所有 GPIO/IOMUX。

# android - 如何动态更改启动活动？

> ID：15697735
> 
> 赞同：17
> 
> 时间：2013-03-29T05:14:51.240
> 
> 标签：android, launching-application

我正在开发一个安卓应用程序。我想动态更改开始活动。我的意思是，当用户第一次启动应用程序时，启动活动会有所不同，而当第二次启动时，启动活动会发生变化。这将跳过前两个活动并移至第三个活动。我该如何实现这一点。

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2013-03-29T06:26:00.613

您不能动态更改第一个活动，但您可以创建一个透明的活动，如下所示：

```
<activity
    android:name=".ActivityLauncher"
    android:theme="@android:style/Theme.Translucent.NoTitleBar.Fullscreen" >
    <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <category android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
</activity> 
```

并在方法中选择下一个活动`onCreate`：

```
if ( logged() ) {
    intent = new Intent(this,MainActivity.class);
} else {
    intent = new Intent(this,SignInActivity.class);
}
startActivity(intent);
finish(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-05-26T09:07:47.380

Activity 不必具有布局文件。您可以在启动器活动中进行条件检查，并根据条件重定向到其他活动。（不过，从启动器活动到条件活动的转换将不可见）。

```
@Override
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
Intent intent;
if (condition) {
   intent = new Intent(this, FirstClass.class);
} else {
   intent = new Intent(this, SecondClass.class);
}
startActivity(intent);
finish();
// note we never called setContentView()
} 
```

其他活动（FirstClass / SecondClass）：

```
@Override
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.main);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-29T05:24:25.057

您可以根据您的要求使用[SharedPreference 。](http://developer.android.com/reference/android/content/SharedPreferences.html)

您可以从此[链接存储和检索值](https://stackoverflow.com/questions/3624280/how-to-use-sharedpreferences-in-android-to-store-fetch-and-edit-values)

在 Activity 的每个`Oncreate()`方法中，您都可以检查 SharedPreference 值并在那里启动您的 Activity。

希望它会帮助你。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-29T05:20:19.513

使用首选项存储您想要的值（条件）。然后根据那个改变startActivity。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-29T05:29:38.600

对他们第一次登录或不登录时使用 sharedpreference

```
 if (!checkNameInfo()) {
//first time
                    FirstActivity();
                } else {
//second time
                    Intent i = new Intent(first.this, second.class);
                    startActivity(i);
                    finish();
                } 
```

检查值

```
private final boolean checkNameInfo() {
        boolean role = mPreferences.contains("Name");
        if (role) {
            return true;
        }
        return false;
    } 
```

在第一个活动中

```
SharedPreferences.Editor editor = mPreferences.edit();
                editor.putString("Name", edt.getText().toString()); 
editor.commit();
Intent i = new Intent(first.this, second.class);
                        startActivity(i); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-29T05:32:59.053

当用户在登录屏幕上选择了*记住我*复选框时，我会这样做。

要将值保存到`SharedPreference`文件中：

你需要在第一次`Activity`和第二次中做一次这样的事情`Activity`

```
sharedPrefs = getApplicationContext().getSharedPreferences(PRIVATE_PREF, Context.MODE_PRIVATE);

// EDITOR INSTANCE TO SAVE THE NAG SETTING
editor = sharedPrefs.edit();

// GET THE NAG SETTING CHECKBOX
if (chkbxNagSetting.isChecked())    {

    editor.putBoolean(NAG_SETTING, true);
} else {
    editor.putBoolean(NAG_SETTING, false);
}

editor.commit(); 
```

要从`SharedPreference`文件中检索值：

```
boolean blNagSetting = sharedPrefs.getBoolean(NAG_SETTING, false);

if (blNagSetting == true)   {
    Intent startMainPage = new Intent(SignIn.this, SplashScreen.class);
    startMainPage.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
    startActivity(startMainPage);
    finish();
} 
```

这些是必要的全局变量/实例用于`Activity`：

```
SharedPreferences sharedPrefs;
Editor editor;
private static final String PRIVATE_PREF = "CHANGE_TO_SOME_FILE_NAME";
private static final String NAG_SETTING = "nag_setting"; 
```

您将不得不稍微修改代码以考虑跳过 2 `Activities`。

如果您需要任何帮助，请告诉我。

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2013-03-29T05:57:55.443

无论什么首先在主活动中打开您的应用程序。同时使用[SharedPreference](http://developer.android.com/reference/android/content/SharedPreferences.html)保存有关您加载应用程序的次数的数据。

你必须在你的

```
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    String dataAvailable;
    SharedPreferences prefs = getSharedPreferences("countPref", Context.MODE_PRIVATE);
    dataAvailable = prefs.getString("dataAvailable", null);

    //checking whether launching for the first time.
    if(dataAvailable!=null){
         int appLoadedCount = prefs.getInt("appLoadedCount", -1);
         appLoadedCount++;
         prefs.edit().putInt("appLoadedCount", appLoadedCount).commit();

         // Check how many times loaded
         if(appLoadedCount==0){
             Intent firstAct = new Intent(MainActivity.this, FirstActivity.class);
             startActivity(firstAct);
         }
         else if(appLoadedCount==1){
             Intent scndAct = new Intent(MainActivity.this, ScndActivity.class);
             startActivity(scndAct);
         }
         else if(appLoadedCount==2){
             Intent thirAct = new Intent(MainActivity.this, ThirdActivity.class);
             startActivity(thirAct);
         }
         else{
             Intent thirAct = new Intent(MainActivity.this, ThirdActivity.class);
             startActivity(thirAct);
         }

         Log.v("avilable", dataAvailable);
         Log.v("avilable", String.valueOf(appLoadedCount));
    }
    else{
         //loading first time
         prefs.edit().putString("dataAvailable", "yeap").commit();
         //setting the count to 1 as loaded for the firs time
         prefs.edit().putInt("appLoadedCount", 0).commit();
         Log.v("Not avilable", "Loaded first time");
    }

} 
```

# facebook - Windows Phone Negative App 从 WP 中所有已安装的 Facebook 应用程序获取凭据

> ID：15697737
> 
> 赞同：0
> 
> 时间：2013-03-29T05:15:25.493
> 
> 标签：facebook, windows-phone-7, windows-phone-8, facebook-login

我需要你的帮助。我使用 Facebook 的登录凭据开发应用程序。我正在使用[facebook 身份验证](http://igrali.com/2012/06/05/facebook-authentication-from-windows-phone-app/)，它工作正常。

但我们想要更简单的方法。

如果我的手机中已经安装了 Windows Phone Facebook 应用程序，我的应用程序必须将凭据从该 FB 应用程序带到我的应用程序。

任何人都可以帮助我我该怎么做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-05T03:48:31.250

基本上，您可以参考以下链接来实现您的目标。

[https://developers.facebook.com/docs/facebook-login/login-for-windows-phone](https://developers.facebook.com/docs/facebook-login/login-for-windows-phone)

[http://facebooksdk.net/docs/phone/sso/](http://facebooksdk.net/docs/phone/sso/)

# iphone - 记录继续复制

> ID：15697738
> 
> 赞同：0
> 
> 时间：2013-03-29T05:15:26.420
> 
> 标签：iphone

我正在点击 URL 并使用 JSON 解析获取数据。URL 在 ScrollView 中的滚动项目上被命中。为所选国家/地区的简写货币符号提供 URL。但是当用户滚动得更快时，URL 的点击量会增加，并且收集的数据会不断重复，并且使用 JSON 解析的记录被发现是重复的。我点击的网址如下。[http://rate-exchange.appspot.com/currency?from=%@&to=%@](http://rate-exchange.appspot.com/currency?from=%@&to=%@)传递给 URL 的 2 个参数是 scrollView 项目，另一个是用于获取数据的国家简表的其余部分。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-30T05:19:31.700

在向数组中添加数据之前，请清空您的数组。喜欢。

```
 [myarray removeAllObjects]; 
```

或者

如果您将 shareObject 存储在数组中，则：

```
 for (int i = 0; i < [myarray count]; i++) {
          ShareClass *shareObj = [myarray objectAtIndex:i];
          [shareObj release];
          shareObj = nil;
      }
      [myarray removeAllObjects]; 
```

# javascript - 如何使用画布标签html5制作具有动态x，y轴的图形

> ID：15697740
> 
> 赞同：1
> 
> 时间：2013-03-29T05:15:44.323
> 
> 标签：javascript, jquery, html, canvas

我想制作一个图表，使用 html5 中的画布标签绘制 (23,45)、(32,67) 等数字点。我在这个链接[http://www.worldwidewhat.net/2011/06/draw-a-line-graph-using-html5-canvas/](http://www.worldwidewhat.net/2011/06/draw-a-line-graph-using-html5-canvas/)中找到了这个图表这个图表中的问题是只有 y 轴适用于数值.我想让 X 轴使用数值以及使用与 y 轴相同的逻辑...请帮助

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-08T02:40:36.123

这是一个非常容易解决的问题。在绘制图形时，它只引用数据的长度而不是 X 值。`getMaxX()`我们可以通过添加一个函数并引用实际的 X 值来轻松解决这个问题。[这是一个工作示例](http://jsfiddle.net/crzyman/nshX6/1)。

# asp.net - asmx Webservice 在 IISExpress 上不起作用

> ID：15697743
> 
> 赞同：3
> 
> 时间：2013-03-29T05:16:18.677
> 
> 标签：asp.net, .net, web-services, iis, iis-express

我们正在开发人员机器上从 IIS 5.1 迁移到 IISExpress。我们有 ASP .NET 应用程序，它还托管一些 .asmx 网络服务。使用 IIS 5.1 时，我们可以使用以下 URL 访问 wsdl

http://localhost/MY_PATH/Service/WebServiceName.asmx?wsdl

但是，当我使用 IISExpress 时，我可以成功查看应用程序的所有页面，但是当我尝试查看 wsdl(http://localhost/MY_PATH/Service/WebServiceName.asmx?wsdl) 时，出现以下错误。

*HTTP 错误 404.17 - 未找到 请求的内容似乎是脚本，不会由静态文件处理程序提供服务。最可能的原因：请求与通配符 mime 映射匹配。该请求被映射到静态文件处理程序。如果有不同的前置条件，请求将映射到不同的处理程序。您可以尝试的事情：如果您想将此内容作为静态文件提供，请添加显式 MIME 映射。
详细错误信息：Module StaticFileModule Notification ExecuteRequestHandler Handler StaticFile Error Code 0x80070032* 请让我知道这里出了什么问题。以下是我的 applicationHost.config

```
<?xml version="1.0" encoding="UTF-8"?>
<configuration> 
    <configSections>
        <sectionGroup name="system.applicationHost">
            <section name="applicationPools" allowDefinition="AppHostOnly" overrideModeDefault="Deny" />
            <section name="configHistory" allowDefinition="AppHostOnly" overrideModeDefault="Deny" />
            <section name="customMetadata" allowDefinition="AppHostOnly" overrideModeDefault="Deny" />
            <section name="listenerAdapters" allowDefinition="AppHostOnly" overrideModeDefault="Deny" />
            <section name="log" allowDefinition="AppHostOnly" overrideModeDefault="Deny" />
            <section name="preloadProviders" allowDefinition="AppHostOnly" overrideModeDefault="Deny" />
            <section name="sites" allowDefinition="AppHostOnly" overrideModeDefault="Deny" />
            <section name="webLimits" allowDefinition="AppHostOnly" overrideModeDefault="Deny" />
        </sectionGroup>    

        <sectionGroup name="system.webServer">
            <section name="asp" overrideModeDefault="Deny" />
            <section name="caching" overrideModeDefault="Allow" />
            <section name="cgi" overrideModeDefault="Deny" />
            <section name="defaultDocument" overrideModeDefault="Allow" />
            <section name="directoryBrowse" overrideModeDefault="Allow" />
            <section name="fastCgi" allowDefinition="AppHostOnly" overrideModeDefault="Deny" />
            <section name="globalModules" allowDefinition="AppHostOnly" overrideModeDefault="Deny" />
            <section name="handlers" overrideModeDefault="Deny" />
            <section name="httpCompression" allowDefinition="AppHostOnly" overrideModeDefault="Deny" />
            <section name="httpErrors" overrideModeDefault="Allow" />
            <section name="httpLogging" overrideModeDefault="Deny" />
            <section name="httpProtocol" overrideModeDefault="Allow" />
            <section name="httpRedirect" overrideModeDefault="Allow" />
            <section name="httpTracing" overrideModeDefault="Deny" />
            <section name="isapiFilters" allowDefinition="MachineToApplication" overrideModeDefault="Deny" />
            <section name="modules" allowDefinition="MachineToApplication" overrideModeDefault="Deny" />
            <section name="odbcLogging" overrideModeDefault="Deny" />
            <sectionGroup name="security">
                ...
            </sectionGroup>
            <section name="urlCompression" overrideModeDefault="Allow" />
            <section name="validation" overrideModeDefault="Allow" />
            <sectionGroup name="webdav">
                <section name="globalSettings" overrideModeDefault="Deny" />
                <section name="authoring" overrideModeDefault="Deny" />
                <section name="authoringRules" overrideModeDefault="Deny" />
            </sectionGroup>
            <sectionGroup name="rewrite">
                ...
            </sectionGroup>
        </sectionGroup>
    </configSections>

    <configProtectedData>
        <providers>
            ...
        </providers>
    </configProtectedData>

    <system.applicationHost>

        <applicationPools>
            <add name="Clr4IntegratedAppPool" managedRuntimeVersion="v4.0" managedPipelineMode="Integrated" CLRConfigFile="%IIS_BIN%\config\templates\PersonalWebServer\aspnet.config" autoStart="true" />
            ...
            <add name="IISExpressAppPool" autoStart="true" managedRuntimeVersion="v2.0" managedPipelineMode="Integrated" CLRConfigFile="%IIS_BIN%\config\templates\PersonalWebServer\aspnet.config" /> 
            <applicationPoolDefaults managedRuntimeLoader="v4.0">
            </applicationPoolDefaults>
        </applicationPools>

        <listenerAdapters>
            <add name="http" />
        </listenerAdapters>

        <sites>
            <site id="1" name="MySite"  serverAutoStart="true">
                <application path="/" >
                    <virtualDirectory path="/" physicalPath="C:\MyProject" />
                    <virtualDirectory path="/MY_PATH" physicalPath="C:\MyProject" />
                </application>
                <bindings>
                    <binding bindingInformation=":8080:localhost" protocol="http" />
                </bindings>
            </site>
            <siteDefaults>
                <logFile logFormat="W3C" directory="C:\app_tmp\IISExpress\iWin7.0\Logs" />
                <traceFailedRequestsLogging directory="C:\app_tmp\IISExpress\iWin7.0\Trace" enabled="true" maxLogFileSizeKB="1024" />
            </siteDefaults>
            <applicationDefaults applicationPool="Clr2ClassicAppPool" /> 
            <virtualDirectoryDefaults allowSubDirConfig="true" />
        </sites>    
        <webLimits />    
    </system.applicationHost>

    <system.webServer>
        <serverRuntime />    
        <asp scriptErrorSentToBrowser="true">
            <cache diskTemplateCacheDirectory="%TEMP%\iisexpress\ASP Compiled Templates" />
            <limits />
        </asp>    
        <caching enabled="true" enableKernelCache="true">
        </caching>

        <cgi />

        <defaultDocument enabled="true">
            <files>
                <add value="Default.htm" />
                <add value="Default.asp" />
                <add value="index.htm" />
                <add value="index.html" />
                <add value="iisstart.htm" />
                <add value="default.aspx" />
            </files>
        </defaultDocument>

        <directoryBrowse enabled="false" />

        <fastCgi />

        <globalModules>
            ...              
        </globalModules>

        <httpCompression directory="%TEMP%\iisexpress\IIS Temporary Compressed Files">
            <scheme name="gzip" dll="%IIS_BIN%\gzip.dll" />
            <dynamicTypes>
                <add mimeType="text/*" enabled="true" />
                <add mimeType="message/*" enabled="true" />
                <add mimeType="application/x-javascript" enabled="true" />
                <add mimeType="*/*" enabled="false" />
            </dynamicTypes>
            <staticTypes>
                <add mimeType="text/*" enabled="true" />
                <add mimeType="message/*" enabled="true" />
                <add mimeType="application/x-javascript" enabled="true" />
                <add mimeType="application/atom+xml" enabled="true" />
                <add mimeType="application/xaml+xml" enabled="true" />
                <add mimeType="*/*" enabled="false" />
            </staticTypes>
        </httpCompression>

        <httpErrors lockAttributes="allowAbsolutePathsWhenDelegated,defaultPath">
            <error statusCode="401" prefixLanguageFilePath="%IIS_BIN%\custerr" path="401.htm" />
            ...
            <error statusCode="502" prefixLanguageFilePath="%IIS_BIN%\custerr" path="502.htm" />
        </httpErrors>

        <httpLogging dontLog="false" />

        <httpProtocol>
            <customHeaders>
                <clear />
                <add name="X-Powered-By" value="ASP.NET" />
            </customHeaders>
            <redirectHeaders>
                <clear />
            </redirectHeaders>
        </httpProtocol>

        <httpRedirect enabled="false" />

        <httpTracing>
        </httpTracing>

        <isapiFilters>
            <filter name="ASP.Net_2.0.50727.0" path="%windir%\Microsoft.NET\Framework\v2.0.50727\aspnet_filter.dll" enableCache="true" preCondition="bitness32,runtimeVersionv2.0" />
            <filter name="ASP.Net_2.0_for_v1.1" path="%windir%\Microsoft.NET\Framework\v2.0.50727\aspnet_filter.dll" enableCache="true" preCondition="runtimeVersionv1.1" />
            <filter name="ASP.Net_4.0_32bit" path="%windir%\Microsoft.NET\Framework\v4.0.30319\aspnet_filter.dll" enableCache="true" preCondition="bitness32,runtimeVersionv4.0" />
        </isapiFilters>

        <odbcLogging />

        <security>    
            <access sslFlags="None" />    
            <applicationDependencies>
                <application name="Active Server Pages" groupId="ASP" />
            </applicationDependencies>    
            <authentication>    
                <anonymousAuthentication enabled="true" userName="" />    
                <basicAuthentication enabled="false" />    
                <clientCertificateMappingAuthentication enabled="false" />    
                <digestAuthentication enabled="false" />    
                <iisClientCertificateMappingAuthentication enabled="false">
                </iisClientCertificateMappingAuthentication>
                <windowsAuthentication enabled="false">
                    <providers>
                        <add value="Negotiate" />
                        <add value="NTLM" />
                    </providers>
                </windowsAuthentication>

            </authentication>

            <authorization>
                <add accessType="Allow" users="*" />
            </authorization>

            <ipSecurity allowUnlisted="true" />

            <isapiCgiRestriction notListedIsapisAllowed="true" notListedCgisAllowed="true">
                <add path="%windir%\Microsoft.NET\Framework\v4.0.30319\webengine4.dll" allowed="true" groupId="ASP.NET_v4.0" description="ASP.NET_v4.0" />
            </isapiCgiRestriction>

            <requestFiltering>
                <fileExtensions allowUnlisted="true" applyToWebDAV="true">
                    <add fileExtension=".asa" allowed="false" />
                    <add fileExtension=".asax" allowed="false" />
                    <add fileExtension=".ascx" allowed="false" />
                    ...
                    <add fileExtension=".rules" allowed="false" />
                </fileExtensions>
                <verbs allowUnlisted="true" applyToWebDAV="true" />
                <hiddenSegments applyToWebDAV="true">
                    <add segment="web.config" />
                    <add segment="bin" />
                    <add segment="App_code" />
                    <add segment="App_GlobalResources" />
                    <add segment="App_LocalResources" />
                    <add segment="App_WebReferences" />
                    <add segment="App_Data" />
                    <add segment="App_Browsers" />
                </hiddenSegments>
            </requestFiltering>

        </security>

        <serverSideInclude ssiExecDisable="false" />

        <staticContent lockAttributes="isDocFooterFileName">
            ...
            <mimeMap fileExtension=".application" mimeType="application/x-ms-application" />
            ...
        </staticContent>

        <tracing>

             <traceProviderDefinitions>
                <add name="WWW Server" guid="{3a2a4e84-4c21-4981-ae10-3fda0d9b0f83}">
                    <areas>
                        <clear />
                        <add name="Authentication" value="2" />
                        <add name="Security" value="4" />
                        <add name="Filter" value="8" />
                        <add name="StaticFile" value="16" />
                        <add name="CGI" value="32" />
                        <add name="Compression" value="64" />
                        <add name="Cache" value="128" />
                        <add name="RequestNotifications" value="256" />
                        <add name="Module" value="512" />
                        <add name="Rewrite" value="1024" />
                        <add name="FastCGI" value="4096" />
                    </areas>
                </add>
                <add name="ASP" guid="{06b94d9a-b15e-456e-a4ef-37c984a2cb4b}">
                    <areas>
                        <clear />
                    </areas>
                </add>
                <add name="ISAPI Extension" guid="{a1c2040e-8840-4c31-ba11-9871031a19ea}">
                    <areas>
                        <clear />
                    </areas>
                </add>
                <add name="ASPNET" guid="{AFF081FE-0247-4275-9C4E-021F3DC1DA35}">
                    <areas>
                        <add name="Infrastructure" value="1" />
                        <add name="Module" value="2" />
                        <add name="Page" value="4" />
                        <add name="AppServices" value="8" />
                    </areas>
                </add>
            </traceProviderDefinitions>

            <traceFailedRequests>
                <add path="*">
                    <traceAreas>
                        <add provider="ASP" verbosity="Verbose" />
                        <add provider="ASPNET" areas="Infrastructure,Module,Page,AppServices" verbosity="Verbose" />
                        <add provider="ISAPI Extension" verbosity="Verbose" />
                        <add provider="WWW Server" areas="Authentication,Security,Filter,StaticFile,CGI,Compression,Cache,RequestNotifications,Module,Rewrite" verbosity="Verbose" />
                    </traceAreas>
                    <failureDefinitions statusCodes="200-999" />
                </add>
            </traceFailedRequests>

        </tracing>

        <urlCompression />

        <validation />
        <webdav>
            <globalSettings>
                <propertyStores>
                    <add name="webdav_simple_prop" image="%IIS_BIN%\webdav_simple_prop.dll" image32="%windir%\syswow64\inetsrv\webdav_simple_prop.dll" />
                </propertyStores>
                <lockStores>
                    <add name="webdav_simple_lock" image="%IIS_BIN%\webdav_simple_lock.dll" image32="%windir%\syswow64\inetsrv\webdav_simple_lock.dll" />
                </lockStores>

            </globalSettings>
            <authoring>
                <locks enabled="true" lockStore="webdav_simple_lock" />
            </authoring>
            <authoringRules />
        </webdav>

    </system.webServer>
    <location path="" overrideMode="Allow">
        <system.webServer>
            <modules>
                ...
            </modules>
            <handlers accessPolicy="Read, Script">
                ...
                <add name="WebServiceHandlerFactory-ISAPI-4.0_32bit" path="*.asmx" verb="GET,HEAD,POST,DEBUG" modules="IsapiModule" scriptProcessor="%windir%\Microsoft.NET\Framework\v4.0.30319\aspnet_isapi.dll" preCondition="classicMode,runtimeVersionv4.0,bitness32" responseBufferLimit="0" />
                ...
                <add name="SimpleHandlerFactory-Integrated" path="*.ashx" verb="GET,HEAD,POST,DEBUG" type="System.Web.UI.SimpleHandlerFactory" preCondition="integratedMode" />
                ...
                <add name="WebServiceHandlerFactory-Integrated" path="*.asmx" verb="GET,HEAD,POST,DEBUG" type="System.Web.Services.Protocols.WebServiceHandlerFactory,System.Web.Services,Version=2.0.0.0,Culture=neutral,PublicKeyToken=b03f5f7f11d50a3a" preCondition="integratedMode,runtimeVersionv2.0" />
                ...
                <add name="StaticFile" path="*" verb="*" modules="StaticFileModule,DefaultDocumentModule,DirectoryListingModule" resourceType="Either" requireAccess="Read" />
            </handlers>
        </system.webServer>
    </location>
</configuration> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T05:26:12.450

您可能没有在 IIS express 中安装静态内容角色。请参阅此问题和答案以了解类似的问题/解决方案，看看它是否对您有帮助：

[如何在 localhost 的 IIS 服务器的根文件夹中安装 umbraco？](https://stackoverflow.com/questions/15689961/how-to-install-umbraco-in-root-folder-of-the-iis-server-in-localhost)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T05:51:48.953

我将以下处理程序的 requireAccess 从“读取”更改为“执行”

```
<add name="StaticFile" path="*" verb="*" modules="StaticFileModule,DefaultDocumentModule,DirectoryListingModule" resourceType="Either" requireAccess="Execute" /> 
```

我现在在访问时收到以下错误

```
http://localhost:8080/MY_PATHJ/Service/ServiceName.asmx?wsdl 
```

*HTTP 错误 403.1 - Forbidden
您试图从不允许运行可执行文件的目录运行 CGI、ISAPI 或其他可执行程序。*

我所有的 .aspx 页面仍然可以正常工作。

# image - iMacros - 如何通过识别链接来点击图片？

> ID：15697744
> 
> 赞同：0
> 
> 时间：2013-03-29T05:16:23.577
> 
> 标签：image, hyperlink, click, imacros

在一个网页中，我有多个具有相同名称的图像，但每个图像在单击时都会指向不同的位置。所以每张图片都有不同的链接。如何让 iMacros 根据链接单击图像？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T09:30:43.247

抓取图像 href 并使用它来决定您需要哪一个，如下所示：

```
tag pos=1 type=img attr=href:* extract=href 
```

# node.js - 如何使用 uncaughtException 捕获 node.js 中的错误

> ID：15697746
> 
> 赞同：0
> 
> 时间：2013-03-29T05:16:29.440
> 
> 标签：node.js, error-handling

在我的应用程序中，我想创建自己的模块来使用 uncaughtException 捕获我的应用程序错误。如果我在同一个模块中创建 uncaughtException 意味着它的捕获错误，但是如果我在单独的模块中创建该 uncaughtException。然后调用该模块意味着它没有捕获错误。任何人都可以帮我解决这个问题。

模块1.js

```
 var errorModule=require('./module2');
   var err = new Error('Something went terribly wrong');
   errorModule.captureError(err); 
```

模块2.js

```
 module.exports.captureError=function(err){

     process.on('uncaughtException', function(err) {

       console.log(err);

   });

 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T06:20:34.040

试试这个：

```
// module1.js
var errorModule=require('./module2');
errorModule.captureErrors();    
throw Error('Something went terribly wrong');

// module2.js
module.exports.captureErrors = function() {
  process.on('uncaughtException', function(err) {
    console.log('an error occurred', err);
  });
}; 
```

需要注意的几点：

*   `process.on('uncaughtException', ...)`安装一个事件处理程序来捕获未捕获的异常；您的代码尝试将错误传递给它，但这似乎破坏了您正在编写的内容（*'to capture my application error using uncaughtException'*）；
*   未捕获的异常是*抛出*的错误（`throw Error(...)`）；

如果你想让你的代码*工作* `module1`，`module2`需要看起来像这样：

```
module.exports.captureError = function(err) {
  console.log(err);
}; 
```

但这与`uncaughtException`.

# java - 从一个循环遍历多个列表并将值分配给一个字符串

> ID：15697748
> 
> 赞同：0
> 
> 时间：2013-03-29T05:16:51.313
> 
> 标签：java, list, loops, arraylist

我的目标是将值从不同列表中的值全部连接到一个字符串中。我的字符串如下所示：'0 0 0'。第一个 0 代表“秒”，第二个 0 代表“分钟”，第三个 0 代表“小时”。我创建了三个不同的列表来包含这些值。第一个是第二个列表，第二个是分钟列表，第三个是小时列表。创建所有三个列表后，我将这三个列表放入一个主列表。我正在尝试遍历主列表，然后将值分配到这些位置以根据这三个列表的大小创建字符串。这三个列表大小是相同的。

```
import java.util.*;
   public class multipleList{
   public static void main(String[] args){
   ArrayList<String> seconds=new ArrayList<String>();
   ArrayList<String> minutes=new ArrayList<String>();
   ArrayList<String> hours=new ArrayList<String>();
   ArrayList<String> masterList=new ArrayList<String>();

   seconds.add("10");
   seconds.add("20");
   seconds.add("30");
   minutes.add("15");
   minutes.add("16");
   minutes.add("17");
   hours.add("2");
   hours.add("3");
   hours.add("4");

   masterList.addAll(seconds);
   masterList.addAll(minutes);
   masterList.addAll(hours);

       for(String subList:masterList){
          System.out.println(subList);
       } 
```

}

控制台打印的输出是 10、20、30、15、16、17、2、3、4。现在我的问题是如何在通过主列表循环后将这些值分配到字符串中，例如第一个字符串将是'10 15 2'（格式为'second minute hour'），第二个字符串是'20 15 3'，第三个字符串是'30 17 4'。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T05:22:34.433

替换此代码段

```
masterList.addAll(seconds);
masterList.addAll(minutes);
masterList.addAll(hours); 
```

使用此代码段：-

```
// Assuming the size of all the 3 lists(hr, min, sec) are the same
for(int i=0;i<hours.size();i++){
    String finalStr = hours.get(i) + " " + minutes.get(i) + " " + seconds.get(i);
    masterList.add(finalStr);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T05:21:38.783

像这样的东西？

```
StringBuilder b = new StringBuilder();
for (int j = 0; j < seconds.size(); ++j) {
  for (int i = j; i < masterList.size(); i += seconds.size()) {
     b.append(masterList.get(i)).append(" ");
  }
  b.append('\n');
}

System.out.println(b); 
```

第一个循环将 masterList 分成`seconds.size()`组。我们使用嵌套（内部）循环遍历每个组。单个组的元素彼此`seconds.size()`相距很远，因此我们递增`seconds.size()`.

**警告**：三个列表的大小必须*相同*，并且 masterList 的大小应该相同。

`seconds.size() * 3`.

# javascript - 调整窗口大小导致未对齐

> ID：15697754
> 
> 赞同：0
> 
> 时间：2013-03-29T05:17:24.783
> 
> 标签：javascript, jquery, html, css

我的网页使用 HTML5、JavaScript、Jquery 和 CSS3！当窗口全屏时，这正是我需要的方式。就在我调整窗口大小时，对齐变得混乱！我需要一个简单的修复！请帮助！提前致谢！这是我的代码的一小部分：

```
 <img id="myimage1" onclick="changeimage1()"  src="images/build_i.png"  />
    <img id="myimage2" onclick="changeimage2()"  src="images/apply_i.png"  />
    <img id="myimage3" onclick="changeimage3()"  src="images/learn_i.png"  /> 
```

如果我将此窗口的大小调整到最小，对齐会发生变化。它开始在另一个下方。我该如何摆脱它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T05:22:01.690

给 身体标签/父元素`min-width`。`min-height`（*在 CSS 中*）

**或者**

试试这个：（*在 jQuery 中*）

```
$(window).on('ready resize',function(){
    // post your code here related to layouts
}); 
```

# php - 用ajax重新加载php代码

> ID：15697755
> 
> 赞同：1
> 
> 时间：2013-03-29T05:17:32.467
> 
> 标签：php, javascript, jquery, ajax, load

我有这样的php代码：

```
<div>
<?php if($link AND $access AND !$timer_expired): ?>
<font color="green">Status: Unlocked - You have successfully unlocked "<?php echo htmlspecialchars($link['link_title']);?>", the website is listed below.</font>
<?php else:?>
<font color="red"> Status : Locked - To Unlock "<?php echo htmlspecialchars($link['link_title']);?>" Please Complete the Survey.</font>
<?php endif;?> 
</div> 
```

我需要让它自行重新加载，直到状态为“解锁”然后停止加载

有很多帖子谈论重新加载 php 文件..但我不需要那个..我只想重新加载 php 代码

请问有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T05:25:58.270

首先，如果是PHP页面，最好在PHP端控制状态。独立于客户端。对于“锁定”状态页面，设置 HTML 元标题：

```
<meta http-equiv="refresh" content="5"> 
```

对于“解锁”状态，什么也不做。

就这样！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T05:51:08.653

你想使用这个函数并像这样调用ajax。

```
<script type="text/javascript">

 jQuery(document).ready(function() {

  setInterval(function(){

   jQuery("#divid").load('http://example.php',
    function(response, status, xhr) {

        if (status == "error") {
        jQuery("#divid").html(msg + xhr.status + " " + xhr.statusText);
        }
    });
  }, 500);

 });
</script> 
```

您还应用条件来检查响应是“锁定”还是“解锁”。

希望对您有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T05:24:24.780

您的要求并不完全清楚，但您需要记住 PHP 代码是在服务器上执行的。AJAX 在客户端的浏览器中执行。因此，实现您想要的方法是使用 AJAX 在客户端浏览器中不断重新加载 HTML，您可以从服务器上的 PHP 脚本中请求。

HTML：

```
<div id="myDiv">AJAX response will load here</div> 
```

Javascript：

```
function loadPage(your_page)
{
    var xmlhttp;
    if (window.XMLHttpRequest)
      {// code for IE7+, Firefox, Chrome, Opera, Safari
      xmlhttp=new XMLHttpRequest();
      }
    else
      {// code for IE6, IE5
      xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
      }
    xmlhttp.onreadystatechange=function()
      {
      if (xmlhttp.readyState==4 && xmlhttp.status==200)
        {
         // This javascript executes when you receive the HTML from your AJAX request
        return xmlhttp.responseText;
        }
      }
    xmlhttp.open("GET",your_page,true);
    xmlhttp.send();

}

var repeat = window.setInterval(checkResponse,3000);

function checkResponse()
{
   var response = loadPage('your_php_script.php');
   if(response.indexOf('Unlocked') !== -1)
       window.clearInterval(repeat);
} 
```

# android - 如何在 android 中获取增强现实的示例

> ID：15697757
> 
> 赞同：-1
> 
> 时间：2013-03-29T05:17:36.730
> 
> 标签：android, augmented-reality

在我的应用程序中，我想实现增强现实概念。在我的应用程序中，如果我专注于应该检测到的图像，它应该显示该图像的相关图像或视频。我搜索了很多增强现实示例，但没有得到相关示例。请帮助获得增强现实。要实现增强现实，需要导入任何库文件和 SDK 版本。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T05:55:35.003

你可以看看[OpenCV](http://docs.opencv.org/doc/tutorials/introduction/android_binary_package/O4A_SDK.html) sdk for android。

除此之外，它还允许从手机摄像头捕捉帧并在渲染它们之前对这些帧进行一些操作。所以你可以在框架上画一些东西。有一个示例，他们从相机获取视频，然后对该视频执行一些操作。

我不知道这对您的任务是否是一个不错的选择，这是我所知道的唯一一个，从未处理过 AR。

# javascript - 从内容脚本访问选项页面 localStorage

> ID：15697763
> 
> 赞同：3
> 
> 时间：2013-03-29T05:18:42.547
> 
> 标签：javascript, google-chrome, google-chrome-extension

我正在尝试编写一个简单的 chrome 扩展，但在尝试从我的内容脚本“auto.js”访问 options.html 的本地存储时遇到了一些困难。

根据我收集到的信息（谷歌搜索和阅读 Chrome 令人困惑的文档），这只能通过以下方式实现：

```
chrome.runtime.sendMessage & chrome.runtime.onMessage.addListener 
```

内容脚本“auto.js”：

```
var quantity   = ""
var shoe_size  = ""

function addToCart() {

chrome.runtime.sendMessage({localstorage: "qty"}), function(response){
    var quantity = response.qty;
}

chrome.runtime.sendMessage({localstorage: "size"}), function(response){
    var shoe_size = response.size;
}
... 
```

我在“options.js”中的听众：

```
chrome.runtime.onMessage.addListener(
  function(request, sender, sendResponse){

  if(request.localstorage == "qty")
    sendResponse({qty: localStorage.qty});
  else if(request.localstorage == "size")
    sendResponse({size: localStorage.size});
  else
    sendResponse({});
});
... 
```

问题是我的 vars `quantity`&`shoe_size`从未设置为 html 本地存储中的“返回”值。

我的 js 控制台中没有给出错误，我不确定如何调试它。非常感谢任何反馈。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T05:40:44.427

那是因为 sendMessage 之后的代码在 sendMessage 被触发后立即运行。它们已设置，但不会等待响应，它们是在您需要它们的时间之后设置的。我在这里有同样的问题[Synchronously get Stored data from content scripts](https://stackoverflow.com/q/15674342/655316)。为了解决它，你可以在里面放任何你想要的功能

```
chrome.runtime.sendMessage({localstorage: "qty"}), function(response){
    var quantity = response.qty;
} 
```

为了看到它设置，测试这个：

```
chrome.runtime.sendMessage({localstorage: "qty"}), function(response){
    var quantity = response.qty;
}

alert("waiting for a second, to make sure that response is ready ...");
alert("Not it is set:" + quantity); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-25T22:34:29.237

您在sendMessage 回调函数中`var quantity = response.qty;`使用前面的内容编写。`var`巧合的是，这将创建一个与全局变量同名的局部变量。但这是一个不同的变量。并且存储它的内存将在 sendMessage 完成后立即释放，因为这只是一个本地范围。

离开`var`里面的sendMessage。

此外，您缺少这些全局变量上的分号。

```
var quantity   = "";
var shoe_size  = ""; 
```

除此之外，您可以`console.log`在 sendMessage 回调函数内的内容脚本“auto.js”中使用。它将登陆正在加载该脚本的任何网页的控制台。

# c# - 转换为十进制错误

> ID：15697764
> 
> 赞同：0
> 
> 时间：2013-03-29T05:19:08.173
> 
> 标签：c#, type-conversion

我已经编写了这段代码，我在 if(tot=100) 出现错误，双精度类型的文字不能隐式转换为十进制

```
 //value in textboxes
    decimal p1 = Convert.ToDecimal(TextBox2.Text);
    decimal p2 = Convert.ToDecimal(TextBox3.Text);
    decimal p3 = Convert.ToDecimal(TextBox4.Text);
    decimal p4 = Convert.ToDecimal(TextBox5.Text);
    decimal p5 = Convert.ToDecimal(TextBox6.Text);
    decimal p6 = Convert.ToDecimal(TextBox7.Text);

    //adding all the p's
    decimal tot = p1 + p2 + p3 + p4 + p5 + p6;

    if (tot = 100.00)
    {
     Label2.Text = "Percentage is 100"
     }
        else
        {
            Label2.Text = "Total of percentages is not 100.";
        } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-29T05:21:34.470

要指定`decimal`带小数点的文字，您必须使用小数说明符`M`：

```
if(tot == 100.00M) 
```

否则，编译器会假定您需要 a `double`（这是异常消息所指的 - 如果没有显式强制转换，双精度数就无法转换为十进制数）。

然而，在这个例子中`.00`是多余的，所以你可以使用：

```
if(tot == 100M) 
```

如其他答案中所述，您必须确保`==`在比较 if 语句中的值时使用。如果你这样做了，你会收到一个稍微不同的异常：`"Operator '==' cannot be applied to operands of type 'decimal' and 'double'"`，这可能会让事情变得更清楚一些。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T05:20:26.637

尝试

```
if (tot == 100.00)
{
    //etc
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-29T05:22:51.867

你有错误：

```
if(tot=100.00) 
```

将 100.00 分配给 tot，而不是比较它们。但如果你会写

```
if(tot == 100.00M) 
```

一切都会奏效

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-29T05:32:03.293

字面量的类型应该从字面量本身中明确，并且分配给它的变量的类型应该可以从该字面量的类型中分配给。没有从双精度到十进制的隐式转换（因为它可能会丢失信息）。

使用“M”后缀来创建这种类型的文字，例如 100.00M。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-29T05:41:43.383

采用

```
if (tot = 100M) 
```

它会起作用，因为`tot`是`decimal`类型

# java - 尝试对 ArrayList 的 ArrayList 进行排序

> ID：15697766
> 
> 赞同：0
> 
> 时间：2013-03-29T05:19:25.893
> 
> 标签：java, arraylist

尝试对包含以下内容的 Arraylist 进行排序

```
[[2/11, 11/48], [8/35, 35/288], [16/43, 43/288], [4/5, 5/16], [75/152, 19/210], [135/163, 163/1680]] 
```

目前我已经使用这个 Arraylist 排序，

```
for(int j = 0; j < knowledgeD.size()-1; j++) {

            if(knowledgeD.get(j).get(0).compareTo(knowledgeD.get(j+1).get(0)) == 1) {
                Collections.swap(knowledgeD, j, j+1); 
```

这对真值进行排序，它们是每个括号中的第一个值，因此，2/11 8/35 等它根据值对它们进行排序，从最小到最大，

然而，我注意到它在中间的某个地方搞砸了，没有订购 4/5 和 75/132，我不知道为什么。我试图添加这个故障安全代码来做显而易见的事情，

```
for(int k = 0; k < knowledgeD.size()-3; k++) {
                    if(knowledgeD.get(k).get(1).compareTo(knowledgeD.get(k+1).get(1)) == -1){
                        Collections.swap(knowledgeD, k-1, k+1); 
```

但是，既然我已经实现了此代码，我就会不断收到索引越界错误。任何人都可以伸出援助之手吗？

干杯，

辛

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T10:30:32.410

据我了解，您尝试根据子列表第一个元素的自然顺序对列表进行排序。在 java 中，这通常由比较器完成，无需向任何内容添加新方法：

```
 Comparator<List<Comparable>> order = new Comparator<List<Comparable>>() {
    @Override
    public int compare(List<Comparable> o1, List<Comparable> o2) {
      return o1.get(0).compareTo(o2.get(0));
    }
  };
  Collections.sort(knowledgeD, order); 
```

# opengl - 背景纹理。切换到正交，然后切换回 3d

> ID：15697767
> 
> 赞同：0
> 
> 时间：2013-03-29T05:19:36.397
> 
> 标签：opengl

我正在处理背景纹理。我想要做的是我想设置一个背景图像。为此，在我的代码中，我使用切换到正交，绘制一个充满窗口大小的正方形，对其进行纹理处理。然后切换回 3d 并绘制 3d 图像。它绘制了背景纹理和雪人，但它们都在一秒钟内消失了。我不知道错误代码在哪里。我认为必须与推动和弹出矩阵有关。下面是我的 InitGl、draw() 和 drawsnowman()、main 和 reshape() 的代码。我认为问题在于在 3D 到 2d 之间切换期间的 draw() 函数。建议？

```
int main (int argc, char **argv) 
{
     glutInit (&argc, argv);
     glutInitDisplayMode (GLUT_DOUBLE);
     glutInitWindowSize (500, 500);
     glutInitWindowPosition (100, 100);
     glutCreateWindow ("A basic OpenGL Window");
     glutKeyboardFunc(key);

     if( !initGL() ) {                                                   // NEW (16)
        printf( "Unable to initialize graphics library!\n" );
        return 1;
    }

     glutDisplayFunc (display);
    // glutIdleFunc (display);
    glutIdleFunc(idle);
     glutReshapeFunc (reshape);

    //Load our texture
     texture = LoadTexture( "texture.bmp", 256, 256 );

    glutMainLoop ();

    //Free our texture
     FreeTexture( texture );

    return 0;
 }

void drawSnowMan(void)
{
    GLUquadricObj *pObj;
    //glDisable(GL_TEXTURE_2D);
    glEnable(GL_CULL_FACE);
    glCullFace(GL_BACK);

    glEnable(GL_DEPTH_TEST);
    glDepthFunc(GL_LESS);

// save the world matrix
    glPushMatrix();

        glTranslatef(xpos, -0.5, -5.0);
        glRotated(rotX,1,0,0);                             // ******** NEW (11)
        glRotated(rotY,0,1,0);
        pObj = gluNewQuadric();
        gluQuadricNormals(pObj, GLU_SMOOTH);
    //glRotated(rotZ,0,0,1);

    glPushMatrix();
        //setting up light effect for base, mid and head spheres. all red!
        ambient[0] = 1.0; ambient[1] = 0.0; ambient[2] = 0.0;
        diffuse[0] = 1.0; diffuse[1] = 0.0; diffuse[2] = 0.0;
        specular[0] = 0.7; specular[1] = 0.6; specular[2] = 0.5;
        glMaterialfv(GL_FRONT, GL_AMBIENT, ambient);
        glMaterialfv(GL_FRONT, GL_DIFFUSE, diffuse);
        glMaterialfv(GL_FRONT, GL_SPECULAR, specular);
        glMaterialfv(GL_FRONT, GL_SHININESS, shiness);

        glEnable(GL_LIGHTING);
        glEnable(GL_LIGHT0);
        //glTranslatef(0.0 ,0.75f, 0.0f);
        //bottom sphere. dont need to gltranslate again because it will use the previous gltranslate
        //which is declared outside
        glutSolidSphere(0.70f,20,20);

        //mid sphere
        glTranslatef(0.0f, 1.0f, 0.0f);
        glutSolidSphere(0.45f,20,20);

        //top sphere
        glTranslatef(0.0f, 0.6f, 0.0f);
        glutSolidSphere(0.30f,20,20);

        //eyes

    glDisable(GL_LIGHTING);
    glDisable(GL_LIGHT0);
    glPopMatrix();

    //drawing hat
    glPushMatrix();
            //black color. move it 1.85 in y position because thats where the head is
            //rotate the cylinder and draw cylinder
            glColor3f(0.0f, 0.0f, 0.0f);
            glTranslatef(0.0f, 1.85f, 0.0f);
            glRotatef(-90.0f, 1.0f, 0.0f, 0.0f);
            gluCylinder(pObj, 0.17f, 0.17f, 0.4f, 26, 13);

            //drawing brim. disable cull_face. draw disk, so front part. disabl
             glDisable(GL_CULL_FACE);
            gluDisk(pObj, 0.17f, 0.28f, 26, 13);
            glEnable(GL_CULL_FACE);

            glTranslatef(0.0f, 0.0f, 0.40f);
             gluDisk(pObj, 0.17f, 0.28f, 26, 13);
    glPopMatrix();

    glPushMatrix();

        glPushMatrix();
        glColor3f(1.0,1.0,1.0);
        glTranslatef(2.0f, 1.0f, 0.0f);
        glRotatef(90.0,0.0, 0.0,-5.0);
        glScalef (0.01, 0.2, 0.06);      /* modeling transformation */
        //glutSolidCone(0.1, 0.1, 10.0, 14.0);
        glutSolidCube(1.5);

        glPopMatrix();

        glPushMatrix();

        glTranslatef(2.0f, 0.8f, 0.0f);
        glRotatef(-90.0f, 1.0f, 0.0f, 0.0f);
        gluCylinder(pObj, 0.04f, 0.04f, 0.2f, 26, 13);

        glPopMatrix();

        //blade
        glPushMatrix();
            ambient[0] = 0.0; ambient[1] = 1.0; ambient[2] = 0.0;
            diffuse[0] = 1.0; diffuse[1] = 0.0; diffuse[2] = 0.0;
            specular[0] = 0.7; specular[1] = 0.6; specular[2] = 0.5;
            glMaterialfv(GL_FRONT, GL_AMBIENT, ambient);
            glMaterialfv(GL_FRONT, GL_DIFFUSE, diffuse);
            glMaterialfv(GL_FRONT, GL_SPECULAR, specular);
            glMaterialfv(GL_FRONT, GL_SHININESS, shiness);

            glEnable(GL_LIGHTING);
            glEnable(GL_LIGHT1);

            glTranslatef(2.0f, 1.0f, 0.0f);
            glRotatef(-90.0f, 1.0f, 0.0f, 0.0f);
            gluCylinder(pObj, 0.03f, 0.03f, 1.1f, 26, 13);

            glDisable(GL_LIGHTING);
            glDisable(GL_LIGHT0);
        glPopMatrix();

    glPopMatrix();

    //big push matrix for eyes, and nose
    glPushMatrix();
        //eyes color = black light. set defuse all 0, ambient = black. turns the eyes black
        /*ambient[0] = 0.0; ambient[1] = 0.0; ambient[2] = 0.0;
        diffuse[0] = 0.0; diffuse[1] = 0.0; diffuse[2] = 0.0;
        specular[0] = 0.7; specular[1] = 0.6; specular[2] = 0.5;
        glMaterialfv(GL_FRONT, GL_AMBIENT, ambient);
        glMaterialfv(GL_FRONT, GL_DIFFUSE, diffuse);
        glMaterialfv(GL_FRONT, GL_SPECULAR, specular);
        glMaterialfv(GL_FRONT, GL_SHININESS, shiness);*/

        glColor3f(0.0, 0.0, 0.0);

        //left eye
        glPushMatrix();
            glTranslatef(-0.17, 1.7, 0.25 );
            glutSolidSphere(0.05, 10.0, 10.0);
        glPopMatrix();

        //right eye
        glPushMatrix();
            glTranslatef(0.17, 1.7, 0.25 );
            glutSolidSphere(0.05, 10.0, 10.0);
        glPopMatrix();

        //drawing nose
        glPushMatrix();
            glTranslatef(0.0, 1.6, 0.25 );
            glutSolidCone(0.08f,0.5f,10,2);
        glPopMatrix();

    glPopMatrix(); // end big push matrix for eyes and nose

glPopMatrix();

} // end of drawsnowman()

void display (void) {
     glClearColor(0.25f, 0.25f, 0.50f, 1.0f ); // blueish color
    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);
   // glLoadIdentity();

    // MODEL VIEW is set up in IniitGL
    //so save it
    glPushMatrix();
            //switch to projection matrix
            //swithc to ortho.
            //draw texture
         glMatrixMode(GL_PROJECTION);
         glLoadIdentity();
         glOrtho(0.0, 1.0, 0.0, 1.0, 0.0, -1.0);
         glDisable(GL_DEPTH_TEST);
         glDisable(GL_LIGHTING);
         glDepthMask(GL_FALSE);
         glMatrixMode(GL_MODELVIEW);
         glLoadIdentity();

         glEnable(GL_TEXTURE_2D);
         glBindTexture(GL_TEXTURE_2D, texture);

// Draw a textured quad
        glBegin(GL_QUADS);
        glTexCoord2f(0, 0); glVertex3f(0, 0, 0);
        glTexCoord2f(0, 1); glVertex3f(0, 1, 0);
        glTexCoord2f(1, 1); glVertex3f(1, 1, 0);
        glTexCoord2f(1, 0); glVertex3f(1, 0, 0);
        glEnd();

        glDepthMask(GL_TRUE);
        glEnable(GL_DEPTH_TEST);

    glPopMatrix();// pop the 3d model view
    glMatrixMode(GL_PROJECTION);
        glMatrixMode(GL_MODELVIEW);

// You can ignore this. just a different of way drawing texture and still does not work
   /* glMatrixMode(GL_PROJECTION);
    glPushMatrix();
    glLoadIdentity();
    glOrtho(0.0, 1.0, 0.0, 1.0, 0.0, -1.0);

    glDisable(GL_DEPTH_TEST);
 glDisable(GL_LIGHTING);
 glDepthMask(GL_FALSE);
    glMatrixMode(GL_MODELVIEW);

   glPushMatrix();

   glDepthMask( false );
    glLoadIdentity();

    glEnable(GL_TEXTURE_2D);
    glBindTexture(GL_TEXTURE_2D, texture);

// Draw a textured quad
    glBegin(GL_QUADS);
    glTexCoord2f(0, 0); glVertex3f(0, 0, 0);
    glTexCoord2f(0, 1); glVertex3f(0, 1, 0);
    glTexCoord2f(1, 1); glVertex3f(1, 1, 0);
    glTexCoord2f(1, 0); glVertex3f(1, 0, 0);
    glEnd();

    glDepthMask(GL_TRUE);
    glEnable(GL_DEPTH_TEST);
    glEnable(GL_LIGHTING);
    /*glMatrixMode(GL_PROJECTION);
    glLoadIdentity();
    gluPerspective (60, 800 / 600, 1.0, 100.0);;
    glMatrixMode(GL_MODELVIEW);
    glLoadIdentity();
    gluLookAt(  0.0, 0.0, 0.0,  // Where would the camera be?
                0.0, 0.0,-1.0,  // Where would it be looking?
                0.0, 1.0, 0.0); // What would be the "up" vector?fa*/

   /* glDisable(GL_TEXTURE_2D);
    glPopMatrix();
    glMatrixMode(GL_PROJECTION);
    glPopMatrix();
    //gluPerspective (45, SCREEN_WIDTH / SCREEN_HEIGHT, 1.0, 100.0);
    glMatrixMode(GL_MODELVIEW);
    glLoadIdentity();*/

      drawSnowMan(); // draw snow man

     glutSwapBuffers();
     angle ++;
 }

 void reshape (int w, int h) {
     glViewport (0, 0, (GLsizei)w, (GLsizei)h);
     glMatrixMode (GL_PROJECTION);
     glLoadIdentity ();
     gluPerspective (45, (GLfloat)w / (GLfloat)h, 1.0, 100.0);
     glMatrixMode (GL_MODELVIEW);
 }

bool initGL (void) {

    glViewport(0, 0, SCREEN_WIDTH, SCREEN_HEIGHT);

    // Switch to the "camera" mode
    glMatrixMode(GL_PROJECTION);  // Camera
    glLoadIdentity();

    // Change the camera to a 3D view
    glFrustum( -1 * (float) SCREEN_WIDTH / SCREEN_HEIGHT,
                    (float) SCREEN_WIDTH / SCREEN_HEIGHT,
                    -1.0,
                     1.0,
                     1.5,
                     1000.0);

   glClearColor(0.25f, 0.25f, 0.50f, 1.0f );

    glHint(GL_LINE_SMOOTH_HINT, GL_NICEST);                         // NEW (5)
    glEnable(GL_LINE_SMOOTH);                                       // NEW (6)

    glHint(GL_POLYGON_SMOOTH_HINT, GL_NICEST);                      // NEW (7)
    glEnable(GL_POLYGON_SMOOTH);                                    // NEW (8)

    // this is a specular light
    GLfloat mat_specular[] = { 1.0 , 1.0 , 1.0 , 1.0 };    // Color of a "shiny material
    GLfloat mat_shininess[] = { 50.0 };                 // How shiny is it?
   // GLfloat mat_ambient_and_diffuse[] = { 0.0, 1.0, 0.0, 1.0 };

    GLfloat light_position[] = { 1.0, 1.0, 1.0, 0.0 };  // Infinitely far away. Direction light
    GLfloat light_position1[] = {2.0,1.5,0.0,1.0}; // saber light

    // How to calculate the surface normal for pixels
    glShadeModel(GL_SMOOTH); // Try this as well GL_FLAT

    // Setup up some material reflective properties
   // glMaterialfv(GL_FRONT, GL_SPECULAR, mat_specular);
   // glMaterialfv(GL_FRONT, GL_SHININESS, mat_shininess);
    //glMaterialfv(GL_FRONT, GL_AMBIENT, mat_ambient_and_diffuse);
    //glMaterialfv(GL_FRONT, GL_DIFFUSE, mat_ambient_and_diffuse);

    // Finally actually make the light
    glLightfv(GL_LIGHT0, GL_POSITION, light_position);
    glLightfv(GL_LIGHT1, GL_POSITION, light_position1);

    //Check for error
    GLenum error = glGetError();                                    // NEW (9)
    if( error != GL_NO_ERROR ) {
        printf( "Error initializing OpenGL! %s\n", gluErrorString( error ) );
        return false;
    }

    return true;
}

void idle(void) {
    glutPostRedisplay();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T13:09:51.557

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T16:33:54.347

我想我有点明白为什么我的背景纹理不断消失。我打开了 Cullface 和 depth 的东西。我在弹出最后一个矩阵之前关闭了它，它可以工作。

但是，有一个问题。纹理图像是白雪皑皑的背景，但它变成了全红色。所以首先我认为这是由于雪女孩的灯光反射造成的。我关掉了所有的灯，仍然是红色的。想不通为什么。莫非，纹理颜色与雪人原本的颜色融为一体？

# objective-c - 我可以在要求“块”的地方传递命名函数吗？

> ID：15697770
> 
> 赞同：2
> 
> 时间：2013-03-29T05:20:00.027
> 
> 标签：objective-c, function, anonymous-function, named

例如，调用[`authenticateHandler`](http://developer.apple.com/library/ios/#documentation/GameKit/Reference/GKLocalPlayer_Ref/Reference/Reference.html)

```
@property(nonatomic, copy) void(^authenticateHandler)(UIViewController *viewController, NSError *error) 
```

小帽子`^(UIViewController *viewController, NSError *error)`表示调用应该有一个匿名功能块：

```
[lp setAuthenticateHandler:(^( UIViewController* vc, NSError *nsError )
  {
    if( !nsError )
    {
      puts( "GC auth success" ) ;
    }
  })]; 
```

但是假设我希望我在调用中使用的那个函数`setAuthenticateHandler`是一个**命名**函数。我见过使用的其他地方`@selector(functionName)`，但这似乎在这里不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T06:32:40.470

块、选择器和函数指针（不确定您将后两者中的哪一个称为命名函数）都是不兼容的类型，因此您不能在需要另一种类型的参数的地方传递一个。幸运的是，如果您确实需要使用基于块的 API 的函数指针或选择器，这样做非常容易。块将捕获创建时范围内的函数指针和选择器，您可以在块内使用它们（就像它们对任何其他变量一样）。例如，以下视图控制器为 GCD（基于块的 API）提供了包装器，这些包装器接受选择器或函数指针作为参数：

视图控制器.h：

```
#import <UIKit/UIKit.h>

@interface ViewController : UIViewController

@end 
```

视图控制器.m：

```
#import "ViewController.h"

void callback() { NSLog(@"call back function"); }

@implementation ViewController

- (void)viewDidLoad
{
    [super viewDidLoad];

    [self doSomethingWithCompletionSelector:@selector(callback)];
//    [self doSomethingWithCompletionFunction:callback];

}

- (void)callback
{
    NSLog(@"call back selector");
}

- (void)doSomethingWithCompletionSelector:(SEL)selector
{
    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^ {
        NSLog(@"Doing something");
        // Causes a warning in ARC
        [self performSelector:selector];
    });
}

- (void)doSomethingWithCompletionFunction:(void (*)())function
{
    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
        NSLog(@"Doing something");
        function();
    });
}

@end 
```

而且，当然，您可以显式调用任何方法或函数，并且接收器和参数都将被块捕获。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T05:31:31.150

选择器和块是完全不同的概念。

A`@selector(functionName)`是类型`SEL`

A`block`是 C 级别的语法运行时特性，在 Objective-C 中，它实际上是一个对象。

有关选择器的更多信息，[请查看此处。](https://stackoverflow.com/questions/297680/how-do-sel-and-selector-work-in-iphone-sdk)

有关块的更多信息，[请查看此处。](http://www.cocoawithlove.com/2009/10/how-blocks-are-implemented-and.html)

# java - ArrayList的动态初始化

> ID：15697775
> 
> 赞同：13
> 
> 时间：2013-03-29T05:20:19.637
> 
> 标签：java, generics, arraylist

通常，如果我们想初始化一个通用的非原始 ArrayList，我们会这样做

```
ArrayList<?> arrayList = new ArrayList<MyClass.class>(); 
```

但是无论我通过哪个类对象，我都想做类似的事情，即

```
private void getModel(Class responseType){

   //Something similar, because this does not work..                                                       
   ArrayList<?> arrayList = new ArrayList<responseType>();
} 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-29T06:01:09.700

尝试这样的事情

```
 private <T> void setModel(Class<T> type) {
      ArrayList<T> arrayList = new ArrayList<T>();
   } 
```

如果你想找回列表

```
private <T> ArrayList<T> getModel(Class<T> type) {
      ArrayList<T> arrayList = new ArrayList<T>();
      return arrayList;
   } 
```

**编辑**

**一个完整的例子，展示了如何将通用类型用于数组列表**

带有 main 方法和泛型 Method 的测试器类

```
public class Tester {

    private <T> ArrayList<T> getModels(Class<T> type) {
        ArrayList<T> arrayList = new ArrayList<T>();
        return arrayList;
    }

    public static void main(String[] args) {
        Data data = new Data(12, "test_12");
        Magic magic = new Magic(123, "test_123");

        Tester t = new Tester();

        ArrayList<Data> datas = (ArrayList<Data>) t.getModels(Data.class);
        datas.add(data);
        for(Data data2 : datas) {
            System.out.println(data2);
        }

        ArrayList<Magic> magics = (ArrayList<Magic>) t.getModels(Magic.class);
        magics.add(magic);
        for(Magic magic2 : magics) {
            System.out.println(magic2);
        }

    }

} 
```

另一种在没有参数的情况下使用相同东西的可能性，因为我们不在方法内部使用它

```
public class Tester {

    private <T> ArrayList<T> getModel() {
        ArrayList<T> arrayList = new ArrayList<T>();
        return arrayList;
    }

    public static void main(String[] args) {
        Data data = new Data(12, "test_12");
        Magic magic = new Magic(123, "test_123");

        Tester t = new Tester();

        ArrayList<Data> datas =  t.getModel();
        datas.add(data);
        for(Data data2 : datas) {
            System.out.println(data2);
        }

        ArrayList<Magic> magics = t.getModel();
        magics.add(magic);
        for(Magic magic2 : magics) {
            System.out.println(magic2);
        }

    }

} 
```

模型类（数据）

```
public class Data {

    private Integer id;
    private String name;

    public Data() {
    }

    public Data(Integer id, String name) {
        super();
        this.id = id;
        this.name = name;
    }

    public Integer getId() {
        return id;
    }

    public void setId(Integer id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    @Override
    public String toString() {
        return "Data [" + (id != null ? "id=" + id + ", " : "") + (name != null ? "name=" + name : "") + "]";
    }

} 
```

模型类（魔法）

```
public class Magic {

    private Integer id;
    private String name;

    public Magic() {
    }

    public Magic(Integer id, String name) {
        super();
        this.id = id;
        this.name = name;
    }

    public Integer getId() {
        return id;
    }

    public void setId(Integer id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    @Override
    public String toString() {
        return "Data [" + (id != null ? "id=" + id + ", " : "") + (name != null ? "name=" + name : "") + "]";
    }

} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T20:49:15.050

这有效：

```
private void getModel(){
   ArrayList<?> arrayList = new ArrayList<Object>();
} 
```

我的意思是，目前尚不清楚您要做什么。泛型纯粹是编译时的，用于执行编译时类型检查。因此，如果在编译时不知道类型参数，那将毫无用处。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T06:10:05.523

尝试使用以下

```
public <T> List<T> getList(Class<T> requiredType) {
    return new ArrayList<T>();
}

public void useList() {
    List<Integer> ints = getList(Integer.class);
    List<String> lists = getList(String.class);
} 
```

# xslt - xslt 用于平面到分层 xml

> ID：15697778
> 
> 赞同：0
> 
> 时间：2013-03-29T05:20:30.573
> 
> 标签：xslt

我正在尝试创建一个转换，它将平面结构（带有父/子 ID）映射到层次结构中。我在下面包含了一个简单的示例。实际数据有 4000 多个元素。我没有关于最大深度的数据，但是转换应该能够递归到 n 级。感谢这篇[xslt-flat-to-hierarchical](https://stackoverflow.com/questions/10682339/xslt-flat-to-hierarchical)帖子，我试图按照它的模式来适应我的情况。不幸的是，它不是递归的！任何帮助将非常感激！谢谢！

这是源xml....

```
<?xml version='1.0' encoding='UTF-8'?> 
<asx:abap xmlns:asx='http://www.sap.com/abapxml' version='1.0'>
  <asx:values>
    <SYSINFO>
      <SERVER_NAME>sapserver</SERVER_NAME>
      <SYSTEM_ID>EC2</SYSTEM_ID>
    </SYSINFO>
    <CT/>
    <PACKAGES/>
    <SW_COMPONENTS/>
    <APP_COMPONENTS>
      <item>
        <ID>000001</ID>
        <NAME>HLA0009999</NAME>
        <PARENT>000000</PARENT>
        <CHILD>000002</CHILD>
        <TEXT>SAP</TEXT>
        <TEXT4>Application Components</TEXT4>
      </item>
      <item>
        <ID>000002</ID>
        <NAME>ABA0000311</NAME>
        <PARENT>000001</PARENT>
        <CHILD>000003</CHILD>
        <TEXT>AP</TEXT>
        <TEXT4>Application Platform</TEXT4>
      </item>
      <item>
        <ID>000003</ID>
        <NAME>KPE0000001</NAME>
        <PARENT>000002</PARENT>
        <CHILD>000000</CHILD>
        <TEXT>AP-PPE</TEXT>
        <TEXT4>Integrated Product and Process Engineering</TEXT4>
      </item>
      <item>
        <ID>000004</ID>
        <NAME>S6D0000006</NAME>
        <PARENT>000002</PARENT>
        <CHILD>000005</CHILD>
        <TEXT>AP-CME</TEXT>
        <TEXT4>Classification System (New)</TEXT4>
      </item>
      <item>
        <ID>000005</ID>
        <NAME>S6D0000007</NAME>
        <PARENT>000004</PARENT>
        <CHILD>000000</CHILD>
        <TEXT>AP-CME-CHR</TEXT>
        <TEXT4>Characteristic</TEXT4>
      </item>
    </APP_COMPONENTS>
  </asx:values>
</asx:abap> 
```

这是所需的xml

```
<?xml version='1.0' encoding='UTF-8'?> 
    <SYSINFO>
      <SERVER_NAME>sapserver</SERVER_NAME>
      <SYSTEM_ID>EC2</SYSTEM_ID>
    </SYSINFO>
    <CT/>
    <PACKAGES/>
    <SW_COMPONENTS/>
    <APP_COMPONENTS>
      <APP_COMPONENT NR="000001" ID="HLA0009999" NAME="SAP" DESCRIPTION="Application Components" >
          <APP_COMPONENT NR="000002" ID="ABA0000311" NAME="AP" DESCRIPTION="Application Platform" >
              <APP_COMPONENT NR="000003" ID="KPE0000001" NAME="AP-PP3" DESCRIPTION="Integrated Product and Process Engineering" >
                 <APP_COMPONENT NR="000004" ID="S6D0000006" NAME="AP-CME" DESCRIPTION="Classification System (New)" >
                     <APP_COMPONENT NR="000005" ID="S6D0000007" NAME="AP-CME-CHR" DESCRIPTION="Characteristic" >
                     </APP_COMPONENT>
                 </APP_COMPONENT>
              </APP_COMPONENT>
          </APP_COMPONENT>
       </APP_COMPONENT>
    </APP_COMPONENTS> 
```

这是我尝试使用的转换：

```
<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns="http://tempuri.org/COCA" version="1.0">

    <xsl:output indent="yes"/>

    <xsl:key name="sons" match="item" use="PARENT"/>
    <xsl:param name="maxLevels">999</xsl:param>

    <xsl:template match="APP_COMPONENTS">
        <APP_COMPONENT_H>
            <APP_COMPONENTS>
                <xsl:apply-templates select="key('sons', 0)"/>
            </APP_COMPONENTS>
        </APP_COMPONENT_H>
    </xsl:template>

    <xsl:template match="item">
        <xsl:param name="level">1</xsl:param>
        <xsl:if test="$level &lt;= $maxLevels">
            <APP_COMPONENT NR="{ID}" ID="{NAME}" NAME="{TEXT}" DESCRIPTION="{TEXT4}" >
                <APP_COMPONENTS>
                    <xsl:apply-templates select="key('sons', ID)">
                        <xsl:with-param name="level" select="$level  + 1"/>
                    </xsl:apply-templates>
                </APP_COMPONENTS>
            </APP_COMPONENT>
        </xsl:if>
    </xsl:template>
</xsl:stylesheet> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T09:51:13.877

我认为问题在于您的初始应用模板

```
 <xsl:apply-templates select="key('sons', 0)"/> 
```

查看您的 XML，**ID**和**PARENT**元素的格式为“000000”，因此 XSLT 在这里进行字符串比较。

您可以尝试做的是将初始应用模板更改为此

```
<xsl:apply-templates select="key('sons', '000000')"/> 
```

或者，要进行数字比较，请像这样定义您的密钥

```
<xsl:key name="sons" match="item" use="number(PARENT)"/> 
```

然后当你使用密钥时，你这样做

```
<xsl:apply-templates select="key('sons', number(ID))"> 
```

# c++ - 在 C++ 中重载 = 运算符的具体案例

> ID：15697779
> 
> 赞同：0
> 
> 时间：2013-03-29T05:20:52.040
> 
> 标签：c++, operator-overloading

我将如何以我可以执行的方式重载 = 运算符

```
int someInt;
MyClass instanceOfMyClass;
someInt = instanceOfMyClass; 
```

MyClass 在哪里包含一个名为 number 的整数？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T05:43:55.233

您不能重载`operator=`类型`int`。您真正要寻找的是`operator int()`您的`MyClass`. 在您的情况下，考虑`x`成为您班级的私人成员：

```
operator int() { return x; } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T05:24:12.753

在大多数情况下，我会避免这样做，因为很难说出到底发生了什么。那说：

```
class MyClass {
 public:
  operator int() { return number; }

 private:
  int number;
}; 
```

这将为您的类创建一个（隐式）转换运算符。

# asp.net - “ASP.NET 和 WCF 中的线程”是什么意思？

> ID：15697780
> 
> 赞同：1
> 
> 时间：2013-03-29T05:20:52.467
> 
> 标签：asp.net, wcf

我真的很喜欢这篇文章“[在 ASP.NET 和 WCF 中的请求线程](http://blogs.msdn.com/b/dmetzgar/archive/2011/06/14/request-threading-in-asp-net-and-wcf.aspx)”，除了他对 ASP.NET 的引用含糊不清。

我读了这篇文章，起初我以为他是在暗示一个 ASP.NET 客户端调用 WCF 服务。但是当我更仔细地重新阅读这篇文章时，我认为他是在说......

WCF 在 IIS 中托管时，必须将 ASP.NET 作为早期管道的一部分。因此，如果您使用托管在 IIS 中的 WCF，那么您就是在处理“ASP.NET 和 WCF”。

有人可以证实或否认这一点吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T05:39:37.830

为什么一定要模糊？文章中显示的调用堆栈清楚地表明 ASP.NET 和 WCF 在 .NET Framework 3.* 上是扭曲的（WCF 重用了一些 ASP.NET 元素来处理传入请求）。

这是意料之中的，并不奇怪，因为这是 WCF 的早期实现。正如同一篇文章所解释的，在 .NET 4 上，WCF 和 ASP.NET 彼此更加隔离。

您不需要任何人来确认或否认，只要您愿意，您就可以反编译 .NET Framework 的每一部分并进行自己的研究。

# javascript - 从 xml 谷歌地图获取数据

> ID：15697781
> 
> 赞同：0
> 
> 时间：2013-03-29T05:20:57.717
> 
> 标签：javascript, google-maps-api-3

我从谷歌地图以 XML 格式获取数据。所有功能都在工作，但我没有什么问题。它只向我显示最后的数据。为什么会这样，我该如何解决？

这是我的代码（[jsFiddle](http://jsfiddle.net/PHcvk/)）

```
function getline() {

downloadUrl("line.php", function(doc) {

        var g = google.maps;

        var xmlDoc = xmlParse(doc);

        bounds = new google.maps.LatLngBounds();

      // ========= Now process the polylines ===========
      var lines = xmlDoc.documentElement.getElementsByTagName("line");

      // read each line
      for (var a = 0; a < lines.length; a++) {
        // get any line attributes
        var colour = lines[a].getAttribute("colour");
        var width  = parseFloat(lines[a].getAttribute("width"));
        var diameter = lines[a].getAttribute("diameter");
        var project = lines[a].getAttribute("projectid");
        var contract = lines[a].getAttribute("contract");
        var comp = lines[a].getAttribute("complated");
        var id = lines[a].getAttribute("id_line");
        // read each point on that line
        var points = lines[a].getElementsByTagName("point");
        var pts = [];
        var length = 0;
        var point = null;

        for (var i = 0; i < points.length; i++) {
           pts[i] = new g.LatLng(parseFloat(points[i].getAttribute("lng")),
                                parseFloat(points[i].getAttribute("lat")));
           if (i > 0) {
             length += pts[i-1].distanceFrom(pts[i]);
             if (isNaN(length)) { alert("["+i+"] length="+length+" segment="+pts[i-1].distanceFrom(pts[i])) };
           }
           bounds.extend(pts[i]);
           point = pts[parseInt(i/2)];

                var info = "<b> Contract: </b>" + contract + " <br/> <b>Project: </b>" + project +"<br/>  <b>Diameter: </b>" + diameter + " <br/> <b>Complated: </b>" + comp + "  <hr><br/><a class=\"inline-link-1\" href=\"#\">Change Data</a> <a class=\"inline-link-1\" href=\"#\">Edit</a> >" + id +"" ;

        }
        // length *= 0.000621371192; // miles/meter 

 if (comp < 1) { 
 colorr = '#FA0505' }

 if (comp > 0 && comp < 25 ) { 
 colorr = '#FFA640' }

 if (comp > 24 && comp < 50) { 
 colorr = '#FFFD91' }

 if (comp > 49 && comp < 75) { 
 colorr = '#E8E400' }

 if (comp > 74 && comp < 100) { 
 colorr = '#BFFFAD' }

 if (comp == 100) { 
 colorr = '#0F8500' }

        var polyline = new g.Polyline({
                          map:map,
                          path:pts,
                          strokeColor:colorr,
                          strokeWeight:width,
                          clickable: true
                          });
       //createClickablePolyline(polyloine, html, label, point, length);
     //  map.addOverlay(polyline);

  google.maps.event.addListener(polyline,'mouseover', function() {

        this.setOptions({strokeColor: '#690469' });
           this.setOptions({strokeOpacity: 1.0 });
           this.setOptions({strokeWeight: 4 });
  });

     google.maps.event.addListener(polyline,'mouseout', function() {

        this.setOptions({strokeColor: colorr });
           this.setOptions({strokeOpacity: 1.0 });
           this.setOptions({strokeWeight: 4 });
  });

  var  mpenc = new google.maps.InfoWindow();
  google.maps.event.addListener(polyline,'click', function(event) {
    mpenc.setContent(info, this);
    mpenc.setPosition(event.latLng, this);
    mpenc.open(map);
  });

      }
      map.fitBounds(bounds);

    });

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T13:01:01.087

看起来您复制了一些代码并对其进行了更改。为什么这个被注释掉了？

```
//createClickablePolyline(polyline, html, label, point, length); 
```

该函数是关闭“数据”、折线和信息窗口的原因，因此它们相互关联（至少在我的这段代码版本中）。

[我的代码的工作 v3 版本](http://www.geocodezip.com/v3_GenericMapBrowser.asp?filename=SteveFossett.xml)

# c - fread 如何知道文件何时在 C 中结束？

> ID：15697783
> 
> 赞同：12
> 
> 时间：2013-03-29T05:21:14.730
> 
> 标签：c, file-io, fread

所以我不完全确定如何使用 fread。我有一个 little-endian 的二进制文件，需要转换为 big-endian，但我不知道如何读取该文件。这是我到目前为止所拥有的：

```
FILE *in_file=fopen(filename, "rb");
char buffer[4];
while(in_file!=EOF){
    fread(buffer, 4, 1, in_file);
    //convert to big-endian.
    //write to output file.
} 
```

我还没有写任何其他东西，但我只是不确定如何让恐惧“进步”，可以这么说。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-03-29T05:24:46.887

这不是您从 C 中正确读取文件的方式。

[`fread`](https://en.cppreference.com/w/c/io/fread)返回一个`size_t`表示成功读取的元素数。

```
FILE* file = fopen(filename, "rb");
char buffer[4];

if (file) {
    /* File was opened successfully. */

    /* Attempt to read */
    while (fread(buffer, sizeof *buffer, 4, file) == 4) {
        /* byte swap here */
    }

    fclose(file);
} 
```

如您所见，一旦`fread`提取了 4 个元素以外的任何内容，上述代码就会停止阅读。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2020-07-06T06:57:51.293

```
FILE* file = fopen(filename, "rb");
char buffer[4];

if (!file) {
/* File was opened successfully. */

/* Attempt to read */
while (fread(buffer, 1, 4, file) != EOF) {
    /* byte swap here */
}

fclose(file);
} 
```

# android - 在 Android 的视图（比如 TextView）中显示 MS Word 文件

> ID：15697784
> 
> 赞同：28
> 
> 时间：2013-03-29T05:21:26.463
> 
> 标签：android, ms-word, textview, rtf

我想在 Android中显示一个**.docx**文件。`View`该文件有数学符号和文本之间的图像。`swipe`我想显示许多这样的文件并通过手势翻阅它们。我已经成功地为**.txt**文件做了同样的事情。现在可以非常轻松地通过滑动进入下一页。**.txt**文件的代码如下：

```
public String readTxt(String fileName)
    {

        try {
            InputStream is;
            is = context.getAssets().open(fileName + ".txt");
            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();

            int i;
            i = is.read();
            while (i != -1)
            {
                byteArrayOutputStream.write(i);
                i = is.read();
            }

            is.close();

            return byteArrayOutputStream.toString();

        } 

        catch (IOException e) 
        {
            e.printStackTrace();
        }

        return fileName;
    } 
```

此代码返回文本，然后我将其显示在我的`TextView`. 这样我只需要动态更改文件的名称并在滑动时更改文本。

现在我想修改这段代码，以便我可以显示包含文本、图像和数学符号的 MS Word 文件（.docx）。

我已经在堆栈溢出以及其他论坛上检查了许多关于此主题的类似主题：这些是许多人建议作为类似问题答案的链接，我已经尝试过：[Link1](https://stackoverflow.com/questions/12816281/how-to-read-doc-and-excel-file-in-android)和[link2](http://www.chrisumbel.com/article/android_textview_rich_text_spannablestring)

在许多其他线程上，人们也推荐**了 Jopendocument**。我也读过这方面的内容，并了解到 Android 不支持开放文档格式。所以这个选项似乎不太可能。但是，如果您对将 JOpenDocument 库添加到项目并显示富文本有任何解决方法或详细说明，请分享该解决方案，因为我已经搜索了很多但找不到任何解决方案。

还有一个名为**OliveDocLibrary**的库，用于在 android 上显示丰富的 word 文件。这是我下载lib的[链接](https://code.google.com/p/android-office-demo/downloads/list)。该下载包中包含的演示可以正常工作。但该库是试用版。所以我目前正在尝试使用这个库，看看它的去向。但我仍在寻找更好的选择。

对此的任何帮助表示赞赏。非常欢迎除上述之外的任何指针。

**更新：**

我收到了一个建议，告诉我在我开始讨论这个问题的第一个赏金中使用**Apache POI**（更具体地说是 HWPF）。在探索 Apache POI 一段时间后，我得到了一些写入 doc 文件、读取 doc 文件、更新 excel 表等的代码。

我从互联网上找到的此类示例代码（用于 Java）如下所示：

```
import java.io.*;
import org.apache.poi.hwpf.HWPFDocument;
import org.apache.poi.hwpf.extractor.WordExtractor;

public class ReadDocFile {
public static void main(String[] args) {
File file = null;
WordExtractor extractor = null ;
try {

file = new File("c:\\New.doc");
FileInputStream fis=new FileInputStream(file.getAbsolutePath());
HWPFDocument document=new HWPFDocument(fis);
extractor = new WordExtractor(document);
String [] fileData = extractor.getParagraphText();
for(int i=0;i<fileData.length;i++){
if(fileData[i] != null)
System.out.println(fileData[i]);
}
}
catch(Exception exep){}
}
} 
```

所以我在 Eclipse 中将这个库（Apache POI）添加到我的 Android 项目中，并尝试了这个示例代码并进行了一些更改。并尝试将其显示在`TextView`. 但这里的问题是它不像**OliveDocLibrary**那样显示图像。因此，如果有人要推荐 Apache POI，那么我请求一个实体指针或代码，它可以读取**docx**文件及其**所有**内容（包括图像）并在自定义视图中显示它们。

**Apache POI**是一件很棒的事情，但遗憾的是我没有找到实现这些库的任何好的示例/示例。如果您知道很好的示例来源（仅限 MS Word），请在评论中分享。

**更新 2**：

在**OliveDocLibrary**包中，提供的代码可以正常工作。视图上有橄榄色的水印。目前正在执行`Swipe`该代码。但问题仍然是它的试用版。

**更新 3：**

我认为**OliveDocLibrary**是最有效的方法。虽然它有一个作为试用版的缺点，但我认为没有其他库比这个库做得更好，可以完全满足我的特定要求。详细答案已在[下面](https://stackoverflow.com/a/16053209/2021499)发布。由于赏金时间即将结束。我会要求可能有替代和更好解决方案的人尽快发布它。现在我正在使用**OliveDocLibrary**并接受我自己的答案。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-17T06:38:55.417

大家好 经过深思熟虑并查看了很多选项和解决方法，我认为**OliveDocLibrary**是最好的方法。这是一个[链接](https://code.google.com/p/android-office-demo/downloads/list)，它将让您直接进入三个适用于 Android 的库的下载页面，它们分别是 DOC、XLS 和 PPT。所有这些工作都非常好。您将下载的包文件夹内将包含三个文件夹。哪个是：

1.  API
2.  lib_trial
3.  演示

在**演示**文件夹中，您将找到 Word 的示例项目。您可以直接将此项目导入 Eclipse 中的工作区并自己测试代码。为方便起见，我在此处发布该代码。我删除了一些我认为没有必要的代码部分（在这里回答我的问题）。所以代码有两个文件，主要活动`FileChooser`如下：

```
public class FileChooser extends Activity {

    private String filePath = Environment.getExternalStorageDirectory()
            .getPath() + "/simple.docx";
    MyBaseAdapter adapter;
    private static String parentPath;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        requestWindowFeature(2);
        copyFileToSdcard();
        Intent intent = new Intent(FileChooser.this,
                OliveWordTrailDemoAcitivy.class);
        intent.setAction(Intent.ACTION_VIEW);
        intent.setData(Uri.fromFile(new File(filePath)));
        startActivity(intent);
    }

    class MyBaseAdapter extends BaseAdapter {
        private String[] list;

        public MyBaseAdapter(String[] list) {
            this.list = list;
        }

        @Override
        public View getView(int position, View convertView, ViewGroup parent) {
            if (convertView == null) {
                convertView = new TextView(FileChooser.this);
                ((TextView) convertView).setTextSize(35);
            }
            ((TextView) convertView).setText(list[position]);
            return convertView;
        }

        @Override
        public long getItemId(int position) {
            return position;
        }

        @Override
        public Object getItem(int position) {
            return null;
        }

        @Override
        public int getCount() {
            return list.length;
        }

        public void setList(String[] list) {
            this.list = list;
        }
    };

    class MyItemClickListener implements OnItemClickListener {
        String[] list;
        InputStream is;

        public MyItemClickListener(String[] list) {
            this.list = list;
        }

        @Override
        public void onItemClick(AdapterView<?> parent, View view, int position,
                long id) {

            File file = new File(parentPath + list[position]);
            if (file.isFile()) {
                Intent intent = new Intent(FileChooser.this,
                        OliveWordTrailDemoAcitivy.class);
                intent.setAction(Intent.ACTION_VIEW);
                intent.setData(Uri.fromFile(file));
                startActivity(intent);
            } else {
                list = file.list();
                adapter.setList(list);
                adapter.notifyDataSetChanged();
                parentPath = file.getAbsolutePath() + "/";
            }
        }

    }
    private void copyFileToSdcard() {
        InputStream inputstream     = getResources().openRawResource(
                R.raw.simple);
        byte[] buffer = new byte[1024];
        int count = 0;
        FileOutputStream fos = null;
        try {
            fos = new FileOutputStream(new File(filePath));
            while ((count = inputstream.read(buffer)) > 0) {
                fos.write(buffer, 0, count);
            }
            fos.close();
        } catch (FileNotFoundException e1) {
            e1.printStackTrace();
            Toast.makeText(FileChooser.this, "Check your sdcard", Toast.LENGTH_LONG).show();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

} 
```

在这里，我放置了一个名为**simple.docx**的 doc 文件，其中包括正确渲染和显示的图像和数学符号。该活动与之交互`OliveWordTrialDemoActivity`如下：

```
public class OliveWordTrailDemoAcitivy extends Activity implements
OnClickListener, CommentListener, NoteListener, HyperlinkListener, ProgressListener {

    OliveWordOperator viu;

    EditText searchEditText;
    ArrayList<String> bookmarks;
    Handler handler;

    protected void onCreate(Bundle savedInstanceState) {
        viu = new OliveWordOperator(this, this);
        super.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_PROGRESS);
        setProgressBarVisibility(true);
        getWindow().setFeatureInt(Window.FEATURE_PROGRESS, Window.PROGRESS_VISIBILITY_ON);
        setContentView(R.layout.demo_view);
        OliveWordView view = (OliveWordView) findViewById(R.id.test_view);

        try {
            viu.init(view, getIntent().getData());
            viu.start(viu.isEncrypted(), "111");
        } catch (Exception e) {
            e.printStackTrace();
        }
        handler = new Handler(){

            @Override
            public void handleMessage(Message msg) {
                setProgress(msg.what * 10);
                super.handleMessage(msg);
            }

        };

    }

    @Override
    protected void onDestroy() {
        viu.release();
        super.onDestroy();
    }

    @Override
    public void getComment(ArrayList<String[]> comments) {
        for (int i = 0; i < comments.size(); i++) {
            AlertDialog.Builder builder = new Builder(this);
            builder.setTitle(comments.get(i)[0]).setMessage(comments.get(i)[1])
            .show();
        }
    }

    @Override
    public void getHyperlink(String hyperlink) {
        if (Uri.parse(hyperlink).getScheme().contains("mailto")) {
            try {
                startActivity(new Intent(Intent.ACTION_SENDTO,
                        Uri.parse(hyperlink)));
            } catch (ActivityNotFoundException anfe) {
                Toast.makeText(this, "can't found email application",
                        Toast.LENGTH_SHORT).show();
            }
        } else {
            startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(hyperlink)));
        }
    }

    @Override
    public void getNote(SparseArray<String> notes) {
        for (int i = 0; i < notes.size(); i++) {
            AlertDialog.Builder builder = new Builder(this);
            if (notes.keyAt(i) == NoteListener.FOOTNOTE) {
                builder.setTitle("footnote").setMessage(notes.valueAt(i))
                .show();
            } else if (notes.keyAt(i) == NoteListener.ENDNOTE) {
                builder.setTitle("endnote").setMessage(notes.valueAt(i)).show();
            }
        }

    }

    public void goToBookmarks(String name) {
        viu.goToBookmark(name);
    }

    public void listBookmarks() {
        this.bookmarks = viu.listBookmarks();
    }

    @Override
    public void notifyProgress(int progress) {
        handler.sendEmptyMessage(progress);
    }

    @Override
    public void onClick(View v) {

    }

} 
```

在**lib_trial**文件夹中，您会找到可以添加到 libs 文件夹中的库，如果您想单独使用它。

在**API**文件夹中，您会以非常容易理解的 pdf 文件的形式找到该库及其方法的详细说明。所以人们可以直接使用这个库，并使用提供给他们特定需求的方法。

所以这就是现在的解决方案。欢迎任何更好的解决方案。赏金时间即将结束，因此请尽快提供您可能拥有的任何其他解决方案。谢谢。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-11T05:58:40.760

正如您在问题中提到的那样，您已经尝试过很少的图书馆`Jopendocument,` `OliveDocLibrary`，`Apache POI`但没有运气。

> 现在我想修改这段代码，以便我可以显示 MS Word 文件（.docx），其中包含文本、图像和数学符号。

在研究过程中，我发现了另外一个名为[Tika](http://tika.apache.org/1.1/formats.html#Microsoft_Office_document_formats)的库，它也用于提取数据及其[支持列出的文档](http://tika.apache.org/1.1/formats.html#Microsoft_Office_document_formats)，甚至还有[Libra Office](http://api.libreoffice.org/examples/examples.html#Java_examples)，您可以在其中读写和管理文档。

最后建议：

您可以通过转换来实现，`doc to html`正如[这里](https://stackoverflow.com/a/10028101/646806)`html to pdf`提到的。

转换`doc to html`参考[堆栈溢出答案](https://stackoverflow.com/questions/227236/convert-word-doc-to-html-programmatically-in-java)

# ios - 用户在 iOS 中输入值后无法编辑 UITextField

> ID：15697785
> 
> 赞同：0
> 
> 时间：2013-03-29T05:21:31.213
> 
> 标签：ios, uitextfield, uitextfielddelegate

我在 iOS 中有以下委托方法的实现：

```
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string {

if (textField.tag == 2){

        if(textField.text.length > 2) {

            return NO;

        }

        return YES;

    }

    else if (textField.tag == 3) {

        if(textField.text.length > 1) {

            return NO;

        }

} 
```

该代码对用户可以输入的字符数进行了必要的限制。但是，文本字段也不允许用户在输入文本后对其进行编辑。它不允许任何击键（包括删除/退格键）。有没有办法纠正这个以保持文本长度限制，但允许用户编辑这个值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T05:28:04.463

你的支票全错了。您不想检查当前文本的长度，而是想检查在允许更改时文本的长度。

试试这个：

```
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string {
    NSString *newText = [textField.text stringByReplacingCharactersInRange:range withString:string];

    if (textField.tag == 2) {
        return newText.length <= 2; // only allow 2 or less characters
    } else if (textField.tag == 3) {
        return newText.length <= 1; // only allow 1 or less characters
    } else {
        return YES;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T05:28:19.297

使用下面的代码

```
-(BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string 
{
       NSUInteger newLength = [textField.text length] + [string length] - range.length;
       if (textField.tag == 2)
       {           
            if (newLength>2) {
            //     [textField resignFirstResponder];
                   return NO;
             }
             else {
                   return YES;
             }
        }
        else if (textField.tag == 3)
        {
            if (newLength>1) {
            //     [textField resignFirstResponder];
                   return NO;
             }
             else {
                   return YES;
             }
        }
} 
```

试试这个你会成功的

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-09-09T10:53:16.570

我正在使用`userInteractionEnabled`属性`UITextField`来启用和禁用编辑。不确定您是否正在寻找它。

```
 if () // Editable
    {
        textField.userInteractionEnabled = YES;
    }
    else // Non Editable
    {
        textField.userInteractionEnabled = NO;
    } 
```

# sql - sql函数将值组合成一个字符串

> ID：15697790
> 
> 赞同：0
> 
> 时间：2013-03-29T05:21:38.640
> 
> 标签：sql, sql-server-2008

我对以下帖子有疑问，我会添加它，但由于我是新手，它不会让我这样做。

[链接在这里](https://stackoverflow.com/questions/194852/concatenate-many-rows-into-a-single-text-string?answertab=votes#tab-top)

编辑以添加特定类型的表格和更好的信息

我在下面有两个表，并希望完成将 studentname 的 tblnames 转换为 tblCombineNames 转换为 Student 姓名。

请指教，谢谢！

表名

```
ID(PK)          StudentType(FK) StudentNo(FK)   GradeNo(FK)     StudentName  
----------      ----------      ----------      ----------      -------------
1               1               1               1               Mary         
2               1               1               1               John         
3               1               1               1               Sam          
4               2               2               2               Alaina       
5               2               2               2               Edward       
6               2               2               2               Joe 
```

我希望输出低于

TblCombineNames

```
ID(PK)          StudentType(PK) StudentNo(PK)   GradeNo(PK)     StudentNames       
----------      ----------      ----------      ----------      -------------      
1               1               1               1               Mary, John, Sam    
2               2               2               2               Alaina, Edward, Joe 
```

我会有一个标量值函数，命名为

```
---dbo.fn_Concatenate_Names
ALTER FUNCTION [dbo].[fn_Concatenate_Names]
(
    @StudentType VARCHAR(250),
    @StudentNo VARCHAR(250),
    @GradeNo VARCHAR(250)
)
RETURNS Varchar(250)
BEGIN
Declare @rtn Varchar(250)

BEGIN
    Select @rtn=(
    Select StudentNames + ', ' as 'data()'
    from tblStudentnames    
    where studentType = @StudentType and StudentNo = @StudentNo and GradeNo = @GradeNo
    for XML path('')
    )

    Set @rtn = LEFT(@rtn, Len(@rtn) - 1)
    END
    RETURN (@rtn)
END 
```

我会在更新时调用该函数

```
update tblCombineNames
set studentnames = fn_concatenate_names(StudentType,StudentNo,GradeNo) 
```

看起来它可以工作，但在 250730 条记录的 tblStudentNames 上运行需要 2 小时。我不认为应该花那么长时间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T05:34:00.387

您可以简单地将其放在子查询中，然后`JOIN`将其与表一起使用，例如

```
UPDATE  a
SET     a.names = b.StudentsList
FROM    tableName a
        INNER JOIN
        (
            SELECT  ST2.SubjectID, 
                    substring((SELECT ','+ ST1.StudentName
                            FROM dbo.Students ST1
                            WHERE ST1.SubjectID = ST2.SubjectID
                            ORDER BY ST1.SubjectID
                            For XML PATH ('')),2, 1000
                            ) StudentsList
            FROM    dbo.Students ST2
            GROUP   BY ST2.SubjectID
        ) b ON a.SubjectID = b.SubjectID
WHERE   a.SubjectID = @subjectid 
```

# linux - 如何使非 debian Linux 安装保持最新。这个没有apt-get

> ID：15697793
> 
> 赞同：1
> 
> 时间：2013-03-29T05:21:43.500
> 
> 标签：linux

我在工作中管理一个使用 debian 系统的 Ubuntu 服务器，让它保持最新就像每天运行 apt-get update 和 apt-get upgrade 一样简单。

我为客户管理的另一台服务器是托管在美国 1&1 互联网上的 VPS。该系统使用 PLESK 面板系统，但我也有 root 访问权限并且可以通过 SSH 进入它。

当我做一个 uname -a 我得到：

Linux xxxxxxx.onlinehome-server.com 2.6.27.19rootserver-20090306a #1 SMP Mon Mar 16 05:01:00 EDT 2009 x86_64 x86_64 x86_64 GNU/Linux

我如何保持这个系统中的包是最新的？安全是这台机器上的一个问题，因为它正在做一些电子商务。

我的第一个目标是将 mySQL 从 5.0.95 更新到最新版本。

任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T05:28:53.393

它基于什么发行版？

其他 Linux 发行版还有其他包管理工具，例如 pacman（用于 Arch）和 yum（用于 Red Hat）。如果你的没有，我想你可以从源代码构建你想要更新的软件的新版本。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T06:51:32.680

[CentOS](http://en.wikipedia.org/wiki/CentOS)基于 Red Hat Enterprise Linux 并使用[yum](http://www.centos.org/docs/4/html/yum/)作为其包管理器。

根据其文档，您应该能够发出以下命令：

```
$ su -c 'yum groupupdate "MySQL Database"' 
```

# regex - 这个 DFA 对应的正则表达式是什么？

> ID：15697802
> 
> 赞同：2
> 
> 时间：2013-03-29T05:22:53.580
> 
> 标签：regex, regular-language, fsm, dfa

这是一个研究项目的 DFA。我们手动创建了 DFA。我们对什么是与 DFA 对应的正则表达式感兴趣。当然，可以有多个正则表达式与之对应；我们更喜欢更简单的。

![在此处输入图像描述](../Images/19c211c551921bfdbfe69c9a1418493a.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T16:39:07.360

您在 B 和 E 的自循环上错过了 DFA 中的标签。但是因为您说*对于给定的 DFA*，所以标签的唯一选择是`0`在两个循环上。

DFA 的正确正则表达式是：

```
(00* 10*1)* (1(0 + 10)* 1 1) ( 0 + 1 (00* 10*1)* 1  ( 0 + 10)* 1 1)* 
```

简要说明：

1.  您只有一个最终状态，即`D`。因此，如果字符串以`D`. 你是否注意到传入的边缘`D`被标记`1`并且`D`有一个标记为自循环`0`。

2.  开始状态是`A`这样的字符串可以以`0`或以开头`1`。实际上，A 上有两个循环。一个从上图开始`0` 并穿过上图。
    上层循环的 RE 是： `00* 10*1`

    要理解这一点：

    ```
     0     0*           1      0*            1  

     A-E   loop on E     E-F    loop on F     F-A 
    ```

3.  在下图中从`A`到。`D`RE 是`1 (0 + 10)* 1 1`
    为了理解这一点：

    ```
     1        (0 + 10)*    1     1
     A - B    loop on B    B-C   C-D 
    ```

4.  DFA 的完整 RE 是：（*答案*）

    ```
    (00* 10*1)* (1(0 + 10)* 1 1) ( 0 + 1 (00* 10*1)* 1  ( 0 + 10)* 1 1)* 
    ```

    要理解这一点：

    ```
    (00* 10*1)*  (1(0 + 10)* 1 1) ( 0 + 1 (00* 10*1)* 1 ( 0 + 10)* 1 1)*

    ^             ^                                                    ^   
    upper loop    A to D           loop on D              * for loop on D    

                          ( 0 +  1    (00* 10*1)* 1    (0 + 10)*   1  1  )*
                            ^    D-A   A-A        A-B  loop on B, B-c c-D       
                         self loop on D 
    ```

**按照@RedBaron 的评论**编辑**`01110100110`此正则表达式是否生成字符串：**

 **首先检查它是否被 DFA 接受：

> A--0--> E--1---> F--1---> A---1---> B--0---> B---1--->C ---0--- ->B---0---> B--1-->C---1---> D---0--->D‌​</p>

是的字符串被 DFA 接受。

如何从我在答案中给出的 RE 生成，下面我已经对齐了 RE 和字符串。

```
(00* 10*1)*    (1(0 + 10)* 1 1) ( 0 + 1 (00* 10*1)* 1 ( 0 + 10)* 1 1)*

 0^  1^ 1      1  0100     1  1   0 
```

只有您可能必须了解的困难：如何`(0 + 10)*`生成`0100`？对于以下检查：

`(0 + 10)*`重复三遍：

```
(0 + 10)(0 + 10)(0 + 10)
 0           10  0 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T05:54:23.770

[此处](http://www.physicsforums.com/showthread.php?t=265064)描述了您需要使用的算法。如果您对该主题更感兴趣，我强烈建议您阅读 Michael Sipser 的[计算理论导论。](https://rads.stackoverflow.com/amzn/click/com/113318779X)

对于您的特定 DFA，按照您获得此正则表达式的算法：

```
[(010*1)*1(10*)110*1]*(010*1)*1(10)*110* 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T05:28:21.933

杰克，这个 DFA 基本上可以有两个正则表达式。第一个可以是 AB*CD*A，第二个可以是 AE*F*

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-29T05:35:36.723

`10*110*`用于从 ABCD 转换而没有 cB 中的循环

`1(0*(10)*)*110*`我认为也涵盖了 C 和 B 之间的循环

`0+10*1`是来自 AEF 的循环。所以你可以在这两个表达式前面加上前缀

你得到`(0+10*1)*10*110*`没有循环和`(0+10*1)*1(0*(10)*)*110*`它

因此最终的表达式是

```
(0+10*1)*1(0*(10)*)*110* 
```

用于从 A 到 D 的过渡

最后到达状态 D 你可以得到 a `1`，达到`A`并重复整个事情

```
((0+10*1)*1(0*(10)*)*110*)(1((0+10*1)*1(0*(10)*)*110*))* 
```

[查看](http://regexpal.com/?flags=gm&regex=%5E%28%280%2b10%2a1%29%2a1%280%2a%2810%29%2a%29%2a110%2a%29%281%28%280%2b10%2a1%29%2a1%280%2a%2810%29%2a%29%2a110%2a%29%29%2a%24&input=01110100110%0A111%0A1110%0A01011000110%0A1001001)此 DFA 的一些有效和无效字符串的实际操作

**澄清**- 此正则表达式基于 PCRE 接受的正则表达式。So`+`表示字符串出现 1 次或多次，`*`表示出现 0 次或多次，而`|`表示`OR`

**编辑**`(0*(10)*)*`可以写得更好（`(0|(10))*`感谢@grijesh-chauhan 为我指明了那个方向）。所以RE（基于PCRE）将是

```
((0+10*1)*1(0|(10))*110*)(1((0+10*1)*1(0|(10))*110*))* 
```**

# git - 分支 git 用于辅助项目

> ID：15697806
> 
> 赞同：2
> 
> 时间：2013-03-29T05:23:25.927
> 
> 标签：git, git-post-receive

我是一个 git 新手，所以请原谅我缺乏知识，但我什至不确定要在谷歌搜索什么问题。

我有一个大型项目，只是我正在本地开发并使用 git 推送到远程网络服务器。服务器有一个 post-receive 钩子，它复制文件以使用此命令提供服务：

```
GIT_WORK_TREE=/my/remote/webserver/base/directory git checkout -f 
```

这几个月来一直运行良好。

现在，**我想构建一个衍生产品并在我的 webserver 上运行新分支**。我还希望能够**在衍生分支和主分支之间来回切换并覆盖服务器的代码**，这样我就可以只用一台服务器同时开发两个独立的网站。首先，我创建一个新的 git 分支：

```
git checkout -b spinoff 
```

我添加了一行并做了一个提交：

```
git commit -a -m 'test'
 [spinoff 51f90e9] test
 1 file changed, 1 insertion(+) 
```

现在，我正在尝试推送到远程分支。这不起作用

```
git push origin master
 (everything up to date) 
```

此命令按预期推送，但不会通过 Web 服务器复制文件

```
git push origin spinoff 
```

将其设置为推送给主人似乎没有帮助：

```
git branch --set-upstream spinoff origin/master 
```

[由@Klas Mellbourn 编辑] 这是 git 1.7 的语法。*. 如果你有 git 1.8\.* ，语法为：

```
git branch -u origin spinoff 
```

我知道我在这里遗漏了一些**重要的关键概念**。我的猜测是，正如预期的那样，有两个远程存储库，但我需要设置其他东西从衍生存储库复制到网络服务器。

我想我可能需要编辑远程存储库中的 HEAD 文件？这目前包含：

```
ref: refs/heads/master 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T05:39:30.540

你的命令语法对我来说似乎有点不对劲。

这会将与远程分支匹配的所有本地分支推送到服务器。

```
git push origin 
```

这会将您的本地衍生分支推送到远程，并使您的本地分支跟踪远程。

```
git push -u origin spinoff 
```

这将设置本地分支衍生以跟踪远程分支衍生（如果您执行了上一个命令，则不需要）。

```
git branch -u origin spinoff 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T09:28:00.430

`git push origin master`正在使消息保持最新，因为您正在尝试推送您尚未更改的分支主控。

你的钩子在做 git `checkout -f`，这意味着它检查了 HEAD。当您将衍生产品推送到您的存储库时，HEAD 没有更改（它指向 master），因此不会更新任何内容。

您需要更改您的钩子以查看正在推送的 refs，或者指定一个特定的分支作为将被检出的分支。

尽管 git 不太适合作为适当的部署工具，但请参阅[此](http://gitolite.com/the-list-and-irc/deploy.html)列表了解不同的技术。

# pdf - PDF 低级：在坐标内反转颜色

> ID：15697808
> 
> 赞同：0
> 
> 时间：2013-03-29T05:23:36.307
> 
> 标签：pdf, pdf-generation

是否可以从页面的内容对象代码中反转页面上一个框（4 组坐标）内的颜色？

我的页面由简单的 B&W JBIG2 图像组成，我希望在一个小盒子内制作白色黑色和黑色白色以突出显示某些内容。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T08:35:27.083

正如 mkl 建议的那样，您可以提取图像并更改它们的位 - 然而这可能会证明是一点工作。这里可能还有另一种有用的方法，特别有用，因为无论底层对象是什么，它都可以工作。

在 PDF 中可以在所有底层对象上添加透明对象（例如矩形）。在您的情况下，您将创建一个矩形，将其放在页面流中已有的图像之上。

如果将此矩形绘制为白色，将其设置为透明并选择“差异”作为透明度混合模式，最终效果应该是矩形下方的颜色反转。

来自 PDF 规范：“用白色绘画会反转背景颜色；用黑色绘画不会产生任何变化。”

这可能是完成您正在寻找的最快和最轻松的方式......

# django - 如何在包含的模板中获取用户配置文件？

> ID：15697811
> 
> 赞同：0
> 
> 时间：2013-03-29T05:23:47.430
> 
> 标签：django

我可以使用用户在 login.html 中获取用户配置文件/img 吗？我想在我的所有页面中加载登录模块。包含模板的最佳做法是什么？

模型

```
class UserProfile(models.Model):
    User = models.ForeignKey(User, unique=True)
    ProfImg = models.FileField(upload_to='images')
    UserName = models.CharField(max_length=50)

def __unicode__(self):
    return self.UserName 
```

base.html

```
<html>
<head>
<title>
</title>
</head>
<body>
{% include '/login.html' %}
</body>
</html> 
```

登录.html

```
{% if user.is_authenticated %}
    <div class ="profile-info">
        <img src="{{ MEDIA_URL }}{{ request.user.get_profile.ProfImg }}" width = "150" height = "150"  />
        Welcome {{ request.user.get_profile.UserName }}               
       <p>You last logged in on Tuesday the 19th of March, 2013 at 01:32pm.</p>
       <p align="center"><a href="#">Profile</a> | <a href="#">Logout</a></p>
 {% else %} 
```

设置.py

```
AUTH_PROFILE_MODULE = "forums.UserProfile" 
```

视图.py

```
def login_request(request):

     username = request.POST.get("username")
     password = request.POST.get("password")

     user = authenticate(username=username, password=password)
     if user is not None:
         login(request, user)
         return redirect("/") 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T05:28:19.000

1.  用户必须是`OneToOneField`
2.  请不要在您的字段名称中使用大写字母。这是一种不好的做法。您必须阅读 PEP8（编码风格）。
3.  请删除`UserName`UserProfile 模型中的字段，因为它已在 User 模型中定义。

    ```
    class UserProfile(models.Model):
        user = models.OneToOneField(User)
        profimg = models.FileField(upload_to='images')

        def __unicode__(self):
            return "{0}".format(self.user.username)

    {% if user.is_authenticated %}
    <div class ="profile-info">
        <img src="{{ user.userprofile.profimg.url }}" width = "150" height = "150"  />
        Welcome {{ user }}               
       <p>You last logged in on Tuesday the 19th of March, 2013 at 01:32pm.</p>
       <p align="center"><a href="#">Profile</a> | <a href="#">Logout</a></p>
    {% else %}
    ............
    {% endif %} 
    ```

在模板使用中访问用户扩展信息

```
 {{ user.userprofile.field_name }} or {{ request.user.userprofile.field_name }} 
```

那么在你看来

```
 request.user.get_profile().field_name 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T05:56:34.387

如果您的 AUTH_PROFILE_MODULE 设置正确，则可以使用 user.get_profile.attribute

# c# - 如何形成我的节点和树通用类

> ID：15697812
> 
> 赞同：1
> 
> 时间：2013-03-29T05:23:47.537
> 
> 标签：c#, generics

我有一个`IList<Category>`

类别类型来自我在 SQL Server 中的类别表：

表：类别

类别 ID、父类别 ID

如此典型的层次结构在一张桌子上。

因此，如果我有这个包含节点关系的类别 IList，那么我试图弄清楚这如何适合像很多人一样制作节点和树。构造函数的外观和创建这个类的使用情况如何？

我认为在这里创建一个通用的 Node 类和 Tree 类是有意义的，这样我可以在将来重用我认为的其他树类型。

所以如果我有这样的东西，T 是如何被使用的，我从中受益了什么？

（这里是伪代码）

```
public class Node<T>
...
    Node<T> _parentNode;
    List<Node<T>> _children;

    private void SetParentNode(T)
    private void AddChild(T)

... etc. 
```

试图在这里理解关于为什么通用节点类将用于任何类型的概念，例如 Childeren 等，其中包含子/父关系（int Ids）

**更新**

因此，这里的 GroupBy 建议存在问题。看看我试图用你的例子做什么：

首先，我的 Tree 类中有这个属性：

公共字典，IList>> ParentNodeAndRelatedChildrenFlattenedMap { get; 私人套装；}

并且传入我的类的构造函数的是一个 IList 依赖项，我将它转换（循环并为它们中的每一个创建一个新节点）到 IList>

现在，我正在尝试按 Node.ParentId 对该列表进行分组，以便在父节点上进行分组，并且由于每个节点都有其子属性，因此很容易找出与这些父节点相关的子节点。

但这是我代码中的问题：

```
public void CreateFlattenedMap()
{
    var parentGroups = _nodeDependencies.GroupBy(d => d.ParentNodeId);

    var dictionary = parentGroups.ToDictionary(d => d, d => d.ToList());

    ParentNodeAndRelatedChildrenFlattenedMap = dictionary;
} 
```

好吧，它不喜欢我对字典的分配，因为它是由 ToDictionary() 创建的 > 字典。所以不知道如何将这个分组分组到一个字典中，List> 其中字典中的节点是我分组的父节点的节点实例（是的，我在它的 Node.ParentId 上分组，但我想要节点虽然在最后的 ToDictionary 中）并且 List> 是来自 Parent Node.Children 属性的子节点列表。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T05:53:05.887

这是一个更完整的实现的样子：

```
public class TreeNode<T>
{
    private T _item;
    private TreeNode<T> _parentNode;
    private List<TreeNode<T>> _children;

    public TreeNode(T item)
    {
        _item = item;
    }

    public void SetParentNode(T parent)
    {
        _parentNode.Item = parent;
    }

    public T Item
    {
        get { return _item; }
        set { _item = value; }
    }

    public void AddChild(T child)
    {
        _children.Add(new TreeNode<T>(child));
    }

    public void RemoveChild(T child)
    {
        var node = _children.FirstOrDefault(e => e.Item.Equals(child));
        if (node != null)
            _children.Remove(node);
    }
} 
```

还有你的问题：

**构造函数的外观如何，这个类在使用方面是如何创建的？**

从上面在 中可以看出`AddChild()`，只需为构造函数指定子的类型即可。

```
var node = new TreeNode<T>(item); 
```

**所以如果我有这样的东西，它是如何`T`被使用的，我从中受益了什么？**

如果做得好，泛型的使用可能会花费大量时间重写代码。在上面的实现中，我们可以通过简单地改变`T`. 因此，如果我们需要一种以上类型的树结构，这可以为我们节省大量时间。

```
var intTreeNode = new TreeNode<int>(10);
var stringTreeNode = new TreeNode<string>("hello world"); 
```

通常在点击之前确实需要一些曝光时间，然后你“就明白了”，坚持下去。

## 构建树

要从可能有也可能没有父类别的类别列表构建树，您需要以某种方式遍历列表。解决这个问题的一个不错的方法是首先将它们组织成基于`ParentCategoryID`和构建树的分组。像这样的东西（未经测试）：

```
public List<TreeNode<Category>> ConstructCategories(List<Category> categories)
{
    var groups = categories.GroupBy(e => e.ParentCategoryID);
    var rootGroup = groups.Single(e => e.Key == null);
    var categories = List<TreeNode<Category>>();

    foreach (var category in rootGroup)
    {
        // Create and fill category
        var node = new TreeNode<Category>(category);
        ConstructChildrenCategories(node, groups);
        categories.Add(node);
    }
}

public void ConstructChildrenCategories(TreeNode<Category> node, IEnumerable<IGrouping<Category>> groups)
{
    var group = groups.Single(e => e.Key == node.Item.CategoryID);

    foreach (var category in group)
    {
        // Create and fill category
        var childNode = new TreeNode<Category>(category);
        ConstructChildrenCategories(childNode, groups);

        // We could do this automatically in both methods.
        childNode.SetParent(node.Item);
        node.AddChild(childNode);
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T06:08:39.750

这可能会有所帮助：

```
public interface ICategory
{
    int Id { get; }
    int ParentId { get; }
}

public class Category : ICategory
{
    int id;
    int parentId;

    public int Id { get { return id; }}
    public int ParentId { get { return parentId; }}
} 
```

这是`Node`课程：

```
public class Node<T> where T : ICategory
{
    Node<T> _parentNode;
    List<Node<T>> _children;

    public Node<T> Parent { get { return _parentNode; }}

    public Node<T> Child(int index) { return _children[index]; }

    public T Value;

    public Node(T value)
    {
        this.Value = value;
    }

    public void AddChild(T item)
    {
        Node<T> child = new Node<T>(item);
        this._children.Add(child);
        child._parentNode = this;
    }
} 
```

这是`Tree`课程：

```
public class Tree<T> where T : ICategory
{
    List<Node<T>> values;

    public Tree()
    {
        this.values = new List<Node<T>>();
    }

    public Node<T> FindNode(int id)
    {
        if (values.Exists(input => input.Value.Id == id))
        {
            return values.Find(input => input.Value.Id == id);
        }
        else { return null; }

    }

    public void AddNode(T value)
    {
        Node<T> parent = FindNode(value.ParentId);

        if (parent != null)
        {
            parent.AddChild(value);
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2016-09-08T14:17:30.157

你不能使树和树节点的所有功能。

而是将类数据添加到 Treenode。

例如

```
class MyClass
{
    public int A;
    public string B;
}

...

TreeNode Node = TreeView.Nodes.Add("AAA");
MyClass Data = new MyClass();
Node.Tag = Data; 
```

分配给 TreeNode 的数据不会被删除。您也可以使用整个树属性和节点成员。

您唯一应该做的就是在使用节点数据时进行类型转换。

```
TreeNode Node = TreeView.Nodes[0];
MyClass Temp = Node.Tag as MyClass; 
```

# php - Php Autoresize 图像，图像自动调整大小，但不作为调整大小的图像保存在文件夹中

> ID：15697814
> 
> 赞同：0
> 
> 时间：2013-03-29T05:24:07.170
> 
> 标签：php, html, mysql

自动调整图像大小后.....我必须将图像移动到文件夹中，我正在将图像正确调整到 php 变量但无法移动到文件夹这是我的代码

```
 $ename=$_FILES['userfile']['name'];
    $etype=$_FILES['userfile']['type'];
    $ecname=str_replace(" ","_",$ename);

    $tmp_name=isset($_FILES['userfile']['tmp_name']);
    $target_path="nurse_photo/";
    $target_path=$target_path.basename($ecname);

    $imgData=imagecrop($_FILES['userfile']['tmp_name'],$_FILES['userfile']['name'],$_FILES['userfile']['type'],85,85);
    //echo $imgData;

    if(move_uploaded_file($imgData,$target_path))
    {
                 //insert query
             } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T05:38:37.940

move_uploaded_file() 意味着第一个参数是文件名，即。$tmp_name 是它的正确选择。

我不知道 imagecrop() 是什么。它不是 PHP 内部的，但我想那是一种 GD 处理。你应该清楚 $imgData 类型是什么！如果是图像**体**，做

```
file_put_contents($target_path, $image); 
```

但如果是 GD 图像**资源**，请执行

```
imagejpeg($image, $target_path); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T05:46:48.480

```
<?php
$allowedExts = array("jpg", "jpeg", "gif", "png");
$extension = end(explode(".", $_FILES["pic"]["name"]));
if ((($_FILES["pic"]["type"] == "image/gif")
|| ($_FILES["pic"]["type"] == "image/jpeg")
|| ($_FILES["pic"]["type"] == "image/png")
|| ($_FILES["pic"]["type"] == "image/pjpeg"))
&& ($_FILES["pic"]["size"] < 2097152)
&& in_array($extension, $allowedExts))
{

if ($_FILES["pic"]["error"] > 0)
{
echo "Return Code: " . $_FILES["pic"]["error"] . "<br>";
}
else
{

if ($_FILES["pic"]["size"] > 2097152) { // if file is larger than we want to allow
echo "ERROR: Your file was larger than 2MB in file size.";
}
if (file_exists("Image/" . $_FILES["pic"]["name"]))
{
echo "<script language='javascript'>alert('Picture Already Exists..!');</script>"; 

//echo $_FILES["pic"]["name"] . " already exists. ";
}
else
{
move_uploaded_file($_FILES["pic"]["tmp_name"],"Image/" . $_FILES["pic"]["name"]);
//echo "your photo has been uploaded successfully!";
$abc = $_FILES["pic"]["name"];
}
}
} 
```

使用此代码肯定可以解决您的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T05:37:39.783

根据上传的图像类型，您可以使用以下功能`imagejpeg`

例子：

```
$imgData = imagecrop($_FILES['userfile']['tmp_name'], $_FILES['userfile']['name'], $_FILES['userfile']['type'], 85, 85);
// If $imgData is a jpg/jpeg:
imagejpeg($imgData, "/path/to/save/image", "9"); // Where the last arguement (9, in my case), is the image quality. 
```

这会将图像保存到您在函数中设置的所需路径。

当然，还有`imagepng`, `imagegif`, 等。

# c# - 如何编写 LINQ to SQL 查询以获取今天的日期记录？

> ID：15697815
> 
> 赞同：15
> 
> 时间：2013-03-29T05:24:11.417
> 
> 标签：c#, linq-to-sql

我想使用 LINQ to SQL 获取今天输入的记录。我写了下面的代码，但它也返回了以前的日期记录。

```
DateTime todaysDate = DateTime.Now;
DateTime yesterdaysDate = DateTime.Now.AddDays(-1);

var result = (from a in cxt.visitor.OrderByDescending(n => n.singin)
              where (a.singin > yesterdaysDate && a.singin <= todaysDate)
              select new {a.visitorid, a.visitorname, a.visitingperson, a.phonenumber, a.reasonforvisit, a.signature, a.singin }); 
```

您能告诉我如何仅使用 LINQ to SQL 获取今天输入的记录吗？

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2013-03-29T05:27:21.100

使用`DateTime.Now`方法`DateTime.Today`如：

```
DateTime startDateTime = DateTime.Today; //Today at 00:00:00
DateTime endDateTime = DateTime.Today.AddDays(1).AddTicks(-1); //Today at 23:59:59

var result = (from a in cxt.visitor.OrderByDescending(n => n.singin)
            where (a.singin >= startDateTime && a.singin <= endDateTime)
            select new {a.visitorid, a.visitorname, a.visitingperson, a.phonenumber, a.reasonforvisit, a.signature, a.singin }); 
```

或者您可以尝试以下更简单的版本，*（我不确定这是否会转化为 SQL）*

```
var result = (from a in cxt.visitor.OrderByDescending(n => n.singin)
            where (a.singin.Date == DateTime.Today)
            select new {a.visitorid, a.visitorname, a.visitingperson, a.phonenumber, a.reasonforvisit, a.signature, a.singin }); 
```

# jquery - 选中复选框时jQuery切换输入

> ID：15697823
> 
> 赞同：3
> 
> 时间：2013-03-29T05:24:26.840
> 
> 标签：jquery, checkbox, input, toggle

我正在尝试构建类似 wordpress 选项部分的内容。当您单击复选框时，您可以切换相应`<input type="text">`字段的显示，我想在一个函数中完成所有操作，因此我没有大量不同的功能，那么使用复选框切换相应输入的最佳方法是什么，我做了一个快速的jsFiddle，但是当我使用我的复选框时，它会切换所有输入，因为我显然选择了所有输入，所以使用like`this`或其他东西切换相应字段会是一个更好的解决方案，在此先感谢，[http：/ /jsfiddle.net/MEC9n/](http://jsfiddle.net/MEC9n/)

**HTML**

```
<div class="options">
    <input type="checkbox" name="title"><label>Title</label>
    <input type="checkbox" name="author"><label>Author</label>
    <input type="checkbox" name="category"><label>Category</label>
</div>
<div class="container">
    <form method="post">
        <input type="text" name="title" placeholder="Title:">
        <input type="text" name="author" placeholder="Author:">
        <input type="text" name="category" placeholder="Category:">
        <input type="submit" value="Submit">
    </form>
</div> 
```

**jQuery**

```
 $(document).ready(function(){
        $('input[type="checkbox"]').click(function(){
            $('input[type="text"]').toggle();
        });
    }); 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-29T05:32:12.923

这应该有帮助

## 基本解决方案

```
$(document).ready(function(){
    $('input[type="checkbox"]').click(function(){
        var item = $(this).attr('name');
        $('input[name="'+item+'"][type="text"]').toggle();
    });
}); 
```

[小提琴](http://jsfiddle.net/aaTq3/)

## 可能更好？

如果你真的想提高效率，扩展 jQuery

```
$(document).ready(function () {
    jQuery.fn.rmCorrespondingText = function () {
        var context = $(this);
        context.bind('click', function () {
            var item = context.attr('name');
            $('input[name="' + item + '"][type="text"]').toggle();
        });
    };

    $('input[type="checkbox"]').rmCorrespondingText();
}); 
```

[小提琴](http://jsfiddle.net/aaTq3/3/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T05:30:56.093

检查相应的属性`name`：

```
 $(document).ready(function(){
   $('input[type="checkbox"]').click(function(){
     var name = this.name; //<---------------------------this is faster
     $('.container').find('[name="'+name+'"]').toggle();
   });
}); 
```

### [小提琴](http://jsfiddle.net/MEC9n/3/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-29T05:31:31.853

将类型和名称一起用于与相应的文本框进行映射，如下所示：

```
$(document).ready(function(){
    $('input[type="checkbox"]').click(function(){
           $('input[type="text"][name="'+$(this).attr('name')+'"]').toggle();
    });
}); 
```

这是工作演示：http: [//jsfiddle.net/G5tN7/](http://jsfiddle.net/G5tN7/)

我希望，它会为你工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-29T05:32:11.317

我向输入添加了值，然后使用值名称来分配类名称并使用它来切换输入。这是JS

```
$(document).ready(function(){
    $('input[type="checkbox"]').click(function(){
        var value = $(this).val();
        $('.' + value).toggle();
    });
}); 
```

这是 HTML

```
<div class="options">
    <input type="checkbox" name="title" value="title"><label>Title</label>
    <input type="checkbox" name="author" value="author"><label>Author</label>
    <input type="checkbox" value="author" name="category"><label>Category</label>
</div>
<div class="container">
    <form method="post">
        <input class="title" type="text" name="title" placeholder="Title:">
        <input type="text" class="author" name="author" placeholder="Author:">
        <input type="text" class="category" name="category" placeholder="Category:">
        <input type="submit" value="Submit">
    </form>
</div> 
```

还有小提琴 [http://jsfiddle.net/MEC9n/1/](http://jsfiddle.net/MEC9n/1/)

# wso2 - 如何在 wso2 dss 中创建以下请求结构

> ID：15697825
> 
> 赞同：1
> 
> 时间：2013-03-29T05:24:30.437
> 
> 标签：wso2, wso2dss

我想在 DSS 中实现以下请求结构，但我无法做到这一点。结构是

```
:<body>
 <p:CreateReady xmlns:p="http://www.axisSculper.omg/xmlnv/BCC/">
  <!--1 or more occurrences-->
  <tns:Resistance xmlns:tns="http://www.axisSculper.omg/xmlnv/BCC/">
   <!--Exactly 1 occurrence-->
   <cct:ID xmlns:cct="http://www.axisSculper.omg/xmlnv/BCC/">?</cct:ID>
   <!--0 or more occurrences-->
   <cct:Description xmlns:cct="http://www.axisSculper.omg/xmlnv/BCC/">?</cct:Description>
   <!--0 or more occurrences-->
   <tns:ResCategory>
    <!--Exactly 1 occurrence-->
    <cct:ID xmlns:cct="http://www.axisSculper.omg/xmlnv/BCC/">?</cct:ID>
    <!--Exactly 1 occurrence-->
    <cct:CategorySourceID xmlns:cct="http://www.axisSculper.omg/xmlnv/BCC/">?</cct:CategorySourceID>
    <!--0 or more occurrences-->
    <cct:Description xmlns:cct="http://www.axisSculper.omg/xmlnv/BCC/">?</cct:Description>
    <!--0 to 1 occurrence-->
    <xs:ISO15926ReferenceURI xmlns:xs="http://www.axisSculper.omg/xmlnv/BCC/">?</xs:ISO15926ReferenceURI>
    <!--0 or more occurrences-->
    <tns:ResEntry>
     <!--Exactly 1 occurrence-->
     <cct:IDInChargeInSource xmlns:cct="http://www.axisSculper.omg/xmlnv/BCC/">?</cct:IDInChargeInSource>
     <!--Exactly 1 occurrence-->
     <cct:SourceID xmlns:cct="http://www.axisSculper.omg/xmlnv/BCC/">?</cct:SourceID>
     <!--0 to 1 occurrence-->
     <tns:ID>?</tns:ID>
     <!--0 to 1 occurrence-->
     <cct:SourceOwnerID xmlns:cct="http://www.axisSculper.omg/xmlnv/BCC/">?</cct:SourceOwnerID>
     <!--0 to 1 occurrence-->
     <cct:Tag xmlns:cct="http://www.axisSculper.omg/xmlnv/BCC/">?</cct:Tag>
     <!--0 or more occurrences-->
     <cct:Description xmlns:cct="http://www.axisSculper.omg/xmlnv/BCC/">?</cct:Description>
     <!--0 to 1 occurrence-->
     <xs:Inactive xmlns:xs="http://www.axisSculper.omg/xmlnv/BCC/">?</xs:Inactive>
     <!--0 or more occurrences-->
     <tns:ResProperty>
      <!--Exactly 1 occurrence-->
      <cct:ID xmlns:cct="http://www.axisSculper.omg/xmlnv/BCC/">?</cct:ID>
      <!--0 to 1 occurrence-->
      <cct:DataType xmlns:cct="http://www.axisSculper.omg/xmlnv/BCC/">?</cct:DataType>
     </tns:ResProperty>
    </tns:ResEntry>
   </tns:ResCategory>
  </tns:Resistance>
 </p:CreateReady>
</body> 
```

我尝试过输入映射，但无法实现上述结构。休息一切都很好。只需要这个结构作为我的要求。请帮助我。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T06:00:28.183

目前您在 DSS 中不能有这样的请求格式。当您定义输入映射时，您必须坚持使用数据服务为您创建的请求格式。因此，为了克服这个问题，您可以使用 WSO2 ESB 创建一个代理服务来接收这种消息格式，并从中获取数据服务。基本上从代理服务中，您可以使用 XPath 提取参数，使用 PayloadFactory 中介以数据服务所需的格式创建消息，然后将其发送出去。

不过，在即将发布的 DSS 版本中，计划在数据服务本身中支持自定义消息输入格式。

干杯，安佳娜。

# css - 导致DIV填满页面？

> ID：15697828
> 
> 赞同：0
> 
> 时间：2013-03-29T05:25:08.633
> 
> 标签：css, html

我见过一些这样的问题，但它们很旧，没有一个解决方案对我有用......

我有一个简单的 html

```
<div id='outer'>
    <div id='nav'></div>
    <div id='content'>
    <!-- html -->
    </div>
    <div id='footer'></div>
</div> 
```

和我的 CSS

```
#outer {width: 800px; margin: 30px auto;}
#nav {height: 40px; width: 800px;}
#content {width: 800px;}
#footer {height: 40px; width: 800px;} 
```

内容似乎选择了自己的高度，并且无论里面有什么都保持这个高度。我怎样才能使它 ( `#content`) 填充其内容的空间？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T05:34:38.113

`#content`默认设置`height:auto`为根据内容设置高度。如果您要求的页脚即使没有足够的内容填满屏幕，也会留在屏幕底部，那么您需要使用某种“粘性页脚”。

[Ryan Fait 的粘性页脚](http://ryanfait.com/sticky-footer/)是我用过的最好的页脚。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T05:37:14.780

的高度应该会自动增加，`#content`直到您将属性应用于子元素。尝试给予（如果你正在使用）可能会解决问题。`float``position``overflow: auto``#content``float`

或使用or之类的替代`float`属性。`display:inline``display: inline-block`

如果您不给`float`子元素，请`#content`尝试使用`clear: both`.

我希望这些提示对您有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T07:30:42.767

[http://jsfiddle.net/gWdQj/](http://jsfiddle.net/gWdQj/)

导航栏 + 内容 + 页脚的高度始终至少为视口的 100%。如果它更多，这个 css 将相应地自动调整高度。

HTML

```
<div id='outer'>
    <div id='nav'></div>
    <div id='content'>
    <!-- html -->
    </div>
    <div id='footer'></div>
</div> 
```

CSS

```
html, body, #outer
{
    height:100%;
    border:1px solid black;
}

#nav
{
    height:38px; /* this is an exmple height. Insert your own. */
    border: 1px solid red;
}

#footer
{
    height:48px; /* this is an example height. Insert your own. */
    border:1px solid purple;
}

#content
{
    min-height: calc(100% - 38px - 48px); /* css3 function to calculate content height, which is 100% of parent minus navbar height - footer height */
    min-height: -webkit-calc(100% - 38px - 48px);
    min-height: -moz-calc(100% - 38px - 48px);
} 
```

# asp.net - sql查询按顺序连接三个表

> ID：15697829
> 
> 赞同：-1
> 
> 时间：2013-03-29T05:25:18.430
> 
> 标签：asp.net, sql, join

我在加入三个表时遇到问题。我需要*来自 AUser 的所有内容，来自 ACountry 的 CountryName 和来自 AState 的 StateName*。这是我尝试过的查询。我得到的结果为每个州提供了一行。它应该为每个用户只返回 1 行，因为用户在他/她的地址中只能有一个状态。

```
SELECT * 
FROM AUser join ACountry on AUser.Country_ID=ACountry.ID 
     join AState on ACountry.ID=AState.Country_ID 
where AUser.Email='abc@gmail.com' 
```

![表](../Images/f540c847183c205abaedba82b3d047c2.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T05:30:36.140

我希望您需要 AUser 上的 state_id 列。
或者更可能在 AUserAddress 上，因此使用 AUser.id 加入用户地址，然后使用来自 AUserAddress 的状态 id 加入 AState。

试试下面的查询......下次不要偷懒 - 先展示你自己的尝试！

```
SELECT u.*
FROM AUser u
join ACountry c
  on c.ID = u.Country_ID
join AUserAddress a
  on a.user_ID = u.ID
join AState s
  on s.ID = a.State_ID
where AUser.Email='abc@gmail.com' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T05:50:06.883

这是答案：

```
 (SELECT * FROM AUser join AUserAddress on AUserAddress.AUser_ID=AUser.ID join ACountry on AUserAddress.Country_ID=ACountry.ID join AState on AUserAddress.State_ID=AState.ID where AUser.Email='abc@gmail.com')" 
```

谢谢@皇冠。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T06:06:26.550

```
Select AUser.*,ACountry.CountryName,AState.StateName from AUser 
left join ACountry on AUser.Country_ID=ACountry.ID 
left join AState on ACountry.ID=AState.Country_ID 
where AUser.Email='abc@gmail.com' 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-29T05:28:42.550

试试下面的代码：

```
SELECT * 
FROM AUser 
left join ACountry on AUser.Country_ID=ACountry.ID 
left join AState on ACountry.ID=AState.Country_ID 
where AUser.Email='abc@gmail.com "' 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-29T05:31:42.730

在 AUser 表中，您没有有关用户状态的信息，例如名为 State_ID 的列，仅存在有关 Country 的信息。所以你不能过滤用户的状态。

# css - 边距：自动未居中

> ID：15697830
> 
> 赞同：22
> 
> 时间：2013-03-29T05:25:23.507
> 
> 标签：css

来自网站的以下样式：http: [//6.470.scripts.mit.edu/css_exercises/exercise4.html](http://6.470.scripts.mit.edu/css_exercises/exercise4.html)

```
<style type="text/css">
  #sponsors {
         margin:auto;
         margin-top:50px;
         overflow: hidden;
         width: auto;
         display: inline-block;
  }
  div.image img {
         margin: 3px;
         border: 1px solid #ffffff;
  }
  div.image a:hover img {
        border: 1px solid;
  }
</style>
</head>
<body>
 <h1>Sponsors of 6.470</h1>
 <div id="sponsors">
   <div class="image"><a href=""><img src="images/appian.png" width="150" height="85"></a></div>
   <div class="image"><a href=""><img src="images/dropbox.png" width="150px" height="85px"></a></div>
   <div class="image"><a href=""><img src="images/facebook.png" width="150px" height="85px"></a></div>
   <div class="image"><a href=""><img src="images/nextjump.png" width="150px" height="85px"></a></div>
   <div class="image"><a href=""><img src="images/palantir.png" width="150px" height="85px"></a></div>
   <div class="image"><a href=""><img src="images/quora.png" width="150px" height="85px"></a></div>
   <div class="image"><a href=""><img src="images/tripadvisor.png" width="150px" height="85px"></a></div>
   <div class="image"><a href=""><img src="images/vecna.png" width="150px" height="85px"></a></div>
  </div>
</body> 
```

如果`width: auto`从中删除了，`#sponsors`则`div#sponsors`即使`margin: auto`使用了，也不会居中对齐。

类似地，如果将 not`text-align: center`替换为`margin: auto`上面的 body style ，则`<h1>`不会居中对齐，这很荒谬；

因为我已经使用`margin: auto`了很多次，它能够毫无问题地将内容居中。因此，请帮助我，我将非常感激。

PS：我使用了 Firefox，除了使用`doctype`标签之外，它仍然无法以`margin: auto`.

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-29T05:31:53.770

在您的ID上定义`width`或`margin``#sponsors`

像这样

```
#sponsors{
margin:0 auto; // left margin is auto, right margin is auto , top and bottom margin is 0 set
width:1000px; // define your width according to your design 
} 
```

更多关于**[保证金自动](http://css-tricks.com/snippets/css/centering-a-website/)**

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-29T06:00:30.323

无需使用`margin: 0 auto`. 试试下面的代码，它会工作：

```
div#sponsors{
    /* other css properties */ 
    /* remove display:inline-block and margin: auto */       
    width:100%;  /* instead of width: auto */
    text-align: center;

}

div.img{
    /*remove float:left */
    /* other css properties */
    display: inline-block;
} 
```

`text-align: center`从标签中删除`body`并改为给`h1`标签。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-29T05:30:25.603

对于居中`DIV`，您需要在`css`下面设置。

**例子**

```
#sponsors {
   margin:0px auto;
} 
```

**评论**

您还需要为 div 设置宽度。

### **[`DEMO`](http://jsfiddle.net/JLryj/2/)**

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-29T05:39:27.277

您必须为 div 指定宽度并且不要两次给定边距

```
#sponsors {
    margin:50px auto 0 auto;
    margin-top:50px;
    overflow: hidden;
    width:160px;
    background:aqua
 } 
```

**[演示](http://jsfiddle.net/TL9Jn/1/)**

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-29T05:29:52.373

要使用`margin:auto`你应该使用`position:relative`，哦，并定义一个`width` 想象你作为一个浏览器，如果你不知道它的宽度是多少，你如何居中一个“盒子”（如 div）？;)

我希望能帮助你

**更正**：正如克里斯托弗马歇尔所说，您不需要`position:relative`但指定宽度。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-29T05:30:09.473

如果您希望任何 div 居中以进行边距自动，则此 div 宽度始终是固定的......

```
#sponsors {
width:XXpx;
margin:50px auto 0;
overflow: hidden;
display: inline-block;
 } 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-12-09T09:26:42.477

```
div{
    position: relative;
    border: 1px solid #ddd; 
    width:150px; 
    height:50px;
    margin: auto;
    /*position: absolute; top: 0; left: 0; bottom: 0; right: 0;*/
}
img.displayed {
  margin: auto;
  position: absolute;
  top: 0; left: 0; bottom: 0; right: 0;

}

<html>
<div >
 <a>
 <img class="displayed" src="smiley.gif" >
 </a>
</div>
</html> 
```

[在 jsfiddle 中添加的演示](http://jsfiddle.net/JLryj/96/)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-02-19T12:32:35.437

看看，也许你有一个**浮动**属性。就我而言，将**float**设置为**none**会有所帮助。现在 div 已正确对齐。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2020-12-06T02:16:19.823

这对我有用！

```
.classofdiv{
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
} 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2022-01-02T15:59:18.390

边距：如果元素的宽度为 100%，则 auto 不会将元素置于中心。所以给元素一些宽度并使用边距：自动。它对我有用。

# java - 使用二分匹配生成大学时间表

> ID：15697837
> 
> 赞同：0
> 
> 时间：2013-03-29T05:26:03.290
> 
> 标签：java, graph-algorithm

我有一个使用最大二分匹配来实施的任务，即我想为一周生成一个讲座时间表，条件是我有 5 门科目，每周开课 5 天，每天有四个小时，每个科目应该平均分配，即 4 小时。并且没有两个科目应该有连续的小时数。

我可以使用最大二分匹配来实现吗？我想用java。

我应该使用多维矩阵吗？主题、小时和天。？

我想将主题和时间作为顶点的两个子集。有五次迭代，表示五天。

但是我怎样才能确保在不同的迭代中分配不同的主题子集

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-31T09:22:53.763

您的问题看起来更像是一个[约束满足问题](http://en.wikipedia.org/wiki/Constraint_satisfaction_problem)。好的旧 Prolog fd-solver 不需要超过 10 行来解决这个问题；）。

# node.js - Socket.io 的云托管服务建议

> ID：15697839
> 
> 赞同：3
> 
> 时间：2013-03-29T05:26:22.340
> 
> 标签：node.js, socket.io, cloud, iaas

我目前正在评估不同的云服务提供商，以确定哪个最适合使用 NodeJS 后端和快速的 Socket.IO 实现。虽然我知道这实际上取决于他们服务器的物理位置，但我希望在东南亚也有一个。

我已经部署了以下内容：

*   亚马逊 EC2
*   Heroku
*   Appfog（似乎它不起作用）

还有什么好的推荐吗？如果他们有一个类似于 AWS 工作方式的免费套餐，那就太好了。

期待您的意见！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T05:34:48.107

请注意，此时 Heroku[不支持 web sockets](https://devcenter.heroku.com/articles/http-routing#websockets)，因此任何 socket.io 的使用都必须降级为长轮询方法。

考虑到您对 Socket.io 的使用，我建议您使用 Amazon EC2。过去许多其他托管选项的主要优势是它们易于部署和管理您的所有资源（想想 Heroku）。亚马逊最近推出了[OpsWorks](http://aws.amazon.com/opsworks/)，您可以使用它来为您处理大部分工作。如果您没有任何复杂的自定义要求，那么基本节点设置应该适合您。

请记住，如果您使用的是 OpsWorks，则需要牢记一些小事。在这个问题中讨论了其中一些。 [是否有人使用 Amazon OpsWorks 成功部署了节点（快速）应用程序？](https://stackoverflow.com/questions/14986794/has-anyone-been-successful-deploying-a-node-express-app-with-amazon-opsworks)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T10:29:59.910

@Nick Mitchinson 给出了一个惊人的答案。您也可以查看 Elastic beanstalk。AWS 最近发布了 Nodejs 的 Paas 版本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-06-22T17:01:15.977

顺便说一下，Heroku 现在支持 Websocket。

# php - 未找到 PHP 前端控制器类（命名空间）

> ID：15697841
> 
> 赞同：0
> 
> 时间：2013-03-29T05:26:38.913
> 
> 标签：php, oop, namespaces, front-controller, php-include

以下 PHP 代码

```
public function go() 
{
    $controller = ucfirst($this->getController());
    $method = $this->getAction();

    require_once VENDOR_PATH . DS . 'Core/Controller/Controller.php';
    require_once VENDOR_PATH . DS . 'Application/Controller/' . $controller . '.php';

    $ctl = new $controller;
    $ctl->$method();
} 
```

正在生产一个

```
Fatal error: Class 'Index' not found in /path/to/core/Dispatch.php on line 108 
```

但是，我验证了核心控制器和应用程序控制器都在加载。

控制器.php：

```
namespace Core\Controller;

class Controller
{

   public function __construct()
   {
       // @TODO
   }
} 
```

索引控制器

```
namespace Application\Controller;

use Core\Controller\Controller;

class Index extends \Core\Controller\Controller {

    public $input;

    public function __construct() 
    {
        parent::__construct();
        die('In Application Controller');
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T05:39:01.603

在这一行`$ctl = new $controller;`$controller 变量必须包含完整路径，包括命名空间

# java - Java 集和包含

> ID：15697851
> 
> 赞同：2
> 
> 时间：2013-03-29T05:27:40.173
> 
> 标签：java, hashset

我读了声明：

HashSet 为基本操作（添加、删除、包含和大小）提供恒定的时间性能。

这里的“包含”是真的吗？虽然将存储桶列入候选名单是一种持续时间的表现 - 不是在存储桶 ao(n) 操作中找到元素吗？

我误解了什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T05:39:20.860

正如[文件](http://docs.oracle.com/javase/7/docs/api/java/util/HashSet.html)所说，

> 此类为基本操作（添加、删除、包含和大小）提供恒定的时间性能，**假设哈希函数将元素正确地分散在桶中**

检查上面的假设部分。如果所有元素最终都在一个桶中，则包含为 o(n)，这将是世界上最差的哈希函数之一的结果。HashSet 内部使用 HashMap。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T05:44:58.763

n in o(n) 代表散列中的元素数，而不是桶中的元素数。并且由于桶内的元素数量不会随着集合的大小线性增长并且是有限的，因此可能需要一个恒定的最大时间。并且恒定时间不会影响符号。至少如果你有一个完美的散列函数，这完全是另一个问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T05:29:30.283

`HashSet`使用 hasing 函数来定位元素。在其中进行评估是 O(1)。

例如，如果我们有一个用于存储员工姓名的哈希表，我们将使用该函数作为其中 ASCII 字符的总和：

```
f(name) = sum(ascii chars) 
```

f('ahmed') = 'a' + 'h' + 'm' + 'e' + 'd' = 97 + 104 + 109 + 101 + 100 = 511。所以，'ahmed' 将存储在位置511\. 但是，之前的哈希函数非常糟糕，并且在使用产生相同总和的名称进行评估时会导致很多冲突。因此，找到一个好的散列函数是散列表实现中非常关键的目标。

有关详细信息，请参阅[哈希表](http://en.wikipedia.org/wiki/Hash_table)数据结构。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-29T05:35:37.110

是的`finding the elements within the bucket a o(n) operation`。
`contains`运算性能为 O(n)。它等于目标对象与内部的所有其他对象`HashSet`。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-29T05:47:35.927

顾名思义`HashSet`是通过`hasing`技术实现的。所以这意味着找到一个对象的复杂度是 O(1)。这就是为什么`contains`需要 O(1) 时间的原因。但在最坏的情况下，如果所有对象都放在同一个桶中，那么复杂度将是 O(n)。

> 如果此集合包含指定的元素，则返回 true。更正式地说，当且仅当此集合包含满足 (o==null ? e==null : o.equals(e)) 的元素 e 时才返回 true。

```
public boolean contains(Object o) {
    return map.containsKey(o);
} 
```

上面是 HashSet 类的 contains 方法。请注意，它使用地图来存储对象。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-29T05:52:59.390

> 是不是在桶 ao(n) 操作中找到元素？

这真的取决于。如果**哈希冲突**太多以至于算法必须遍历每个值并检索您感兴趣的值，那么在最坏的情况下时间是 o(n)。但是，它根本就不是一个好的散列函数。一个好的散列函数在其范围内平均分布分配的散列。

如果您一直返回相同`hashCode`的内容，也可能发生这种情况，这也不是一个好兆头。无论集合的基数如何，这都会为您提供相同的哈希值。

# c++ - OpenGL 何时完成函数中的指针？

> ID：15697861
> 
> 赞同：15
> 
> 时间：2013-03-29T05:28:32.443
> 
> 标签：c++, c, opengl, opengl-es

OpenGL 有[许多直接接受指针的函数](http://www.opengl.org/wiki/GLAPI/glTexSubImage2D)。其中一些[从这些指针中读取数据](http://www.opengl.org/wiki/GLAPI/glBufferSubData)，另一些则将数据[写入这些指针](http://www.opengl.org/wiki/GLAPI/glReadPixels)。

但是，OpenGL 函数通常不会立即执行。通常，当您绘制某些东西时，绘制完成需要一段时间。

那么我怎么知道 OpenGL 何时完成了我给它的指针呢？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-03-29T05:28:32.443

所有 OpenGL 函数，除了下面提到的例外，都将在函数返回时使用您给它的任何指针完成。所以`glReadPixels`将在返回时完成所有像素读取和格式转换。这就是[异步像素传输](http://www.opengl.org/wiki/Pixel_Buffer_Object)对于读取操作如此重要的原因。它允许 OpenGL*不*这样做，不与 GPU 同步。

该规则的唯一例外是每个以单词“Pointer”结尾的函数。`glVertexAttribPointer`,之类的东西`glTexCoordPointer`。当您将客户端内存与这些函数一起使用时（在核心配置文件 OpenGL 3.2+ 中不再合法），这些函数会存储指向该内存的指针。因此，只要您打算使用这些顶点属性进行渲染，就必须确保该指针有效。

在每次使用客户端内存进行渲染调用之后，OpenGL 要求在渲染函数返回之前，实现已经完成了从客户端内存的读取。所以你可以打电话`glDrawArrays`，然后删除有问题的指针。只要您在更改这些指针之前不进行另一个绘图调用，就可以了。这意味着 OpenGL 必须在渲染调用返回时复制出所有相关的顶点数据（使用缓冲区对象更快的原因之一）。

# android - 如何解决这个“类需要 API 级别 11（当前最低为 8）”

> ID：15697866
> 
> 赞同：3
> 
> 时间：2013-03-29T05:29:10.327
> 
> 标签：android, api, android-support-library

在我的应用程序中，某些方法需要最低 api 级别 11 。当我在 android 2.3.3（api 级别 10）上运行它时，它崩溃了。

我引用了这个链接

[如何使用 Android Activity 修复“调用需要 API 级别 11”？](https://stackoverflow.com/q/13654039/1408325)

[setAdapter“调用需要 API 级别 11（当前最低为 8）：android.widget.AbsListView#setAdapter”？](https://stackoverflow.com/q/12545462/1408325)

[android - 调用需要 API 级别 9（当前最小值为 8）：android.os.StrictMode#setThreadPolicy](https://stackoverflow.com/q/11789275/1408325)

**即使我在我的项目中添加了支持 v4 库，但没有任何反应。谁能告诉我如何在 android 2.3.3 中运行这个项目？**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T05:33:41.127

要消除错误，您需要将最低 API 级别设置为 11（并且不在 API 8 设备上运行），否则您需要避免使用 API 11 功能。

通常，仅将 v4 库添加到您的项目是不够的。您还需要更改调用以使用兼容性库代码而不是 API 11 方法。通常，它只涉及更改导入语句，但它可能更复杂。如果您发布一个错误示例，您可以获得更具体的建议。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T05:34:53.490

首先 2.3.3 不是 api 8 它是 api 10 .. 下载 api 10 sdk 并进行以下更改

在清单文件中声明最小 sdk 是 android:minSdkVersion="8" 目标是 android:targetSdkVersion="10"

# java - 弹簧形式选项默认选中

> ID：15697873
> 
> 赞同：0
> 
> 时间：2013-03-29T05:29:52.430
> 
> 标签：java, forms, spring, spring-mvc, tags

我在获取下拉列表中选择的默认值时遇到问题。我的jsp中的代码如下

```
<form:select path="codes" multiple="false">
    <form:option value="NONE" label="--- Select Code ---" />
    <form:options items="${statusQueryForm.codes}" />
</form:select> 
```

以下是 statusQueryForm 中的代码：

```
public void setCodes(Collection<String> codes) {
    this.codes = codes ;
}
public Collection<String> getCodes() {
    return codes;
} 
```

代码包含字符串的数组列表包含像 {"123","345"} 这样的数据

现在，当页面加载时，选择了最后一个选项 345。我想要的是默认选择“选择代码”。

请有人可以指导我正确的方向。我试图理解文档，但在这个例子中没有达到某种意义。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T06:40:04.833

好吧，我可以通过向 StatusQueryForm 添加一个属性代码来解决这个问题。Jsp代码更改如下：.path从代码更改为代码

```
<form:select path="code" multiple="false">
    <form:option value="NONE" label="--- Select Code ---" />
    <form:options items="${statusQueryForm.codes}" />
</form:select> 
```

# java - android 中的动画后，隐形和 GONE 不起作用

> ID：15697880
> 
> 赞同：-1
> 
> 时间：2013-03-29T05:30:52.623
> 
> 标签：java, android, android-animation

当我单击图像框时，我使用此代码在另一个对象上运行动画并通过 visibility.GONE 自行消散。但它不起作用！这是我的代码：

```
againbtn.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {

            //answer button on animation
            Animation anim2 = AnimationUtils.loadAnimation(MainActivity.this, R.anim.askbtnonanim);
            anim2.setFillAfter(true);
            askbtn.startAnimation(anim2);

            //gone myselft (againbtn)
            againbtn.setVisibility(View.GONE);
        }
    }); 
```

如果从此代码中删除 3 动画行，一切正常并且可以正常工作，但现在不行。但为什么？它与 anim2.setFillAfter(true); ？？？我放这个是因为我的动画运行了一次并且不会重置！请帮我

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-12-30T23:01:18.530

试试这个你必须清除视图动画然后你可以setVisibility

```
animation.setAnimationListener(new Animation.AnimationListener() {

@Override
public void onAnimationStart(Animation animation) {}

@Override
public void onAnimationEnd(Animation animation) {
view.clearAnimation();
view.setVisibility(View.GONE);
}

@Override
public void onAnimationRepeat(Animation animation) {}
            });
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T05:35:57.090

您应该实现动画侦听器并在 onAnimationEnd() 中执行您的任务...希望下面的代码对您有所帮助...

```
anim2.setAnimationListener(new Animation.AnimationListener(){
    @Override
    public void onAnimationStart(Animation arg0) {
    }           

    @Override
    public void onAnimationRepeat(Animation arg0) {
    }           

    @Override
    public void onAnimationEnd(Animation arg0) {
        againbtn.setVisibility(View.GONE);  //set your button visibility here
    }

}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T07:36:40.667

我认为在动画编码之前放置可见性按钮这可能会起作用

```
 againbtn.setOnClickListener(new OnClickListener() {

    @Override
    public void onClick(View v) {
//gone myselft (againbtn)
        againbtn.setVisibility(View.GONE);
        //answer button on animation
   Animation anim2 = AnimationUtils.loadAnimation(MainActivity.this,           R.anim.askbtnonanim);
         anim2.setFillAfter(true);
        askbtn.startAnimation(anim2);

    }
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-08-12T18:47:27.200

在调用 View.INVISIBLE 或 GONE 之前，在正在执行动画的视图上调用 clearAnimation() 可以解决问题。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-03-29T05:36:05.313

动画结束时使用[AnimationListener](http://developer.android.com/reference/android/view/animation/Animation.AnimationListener.html)设置按钮可见性`GONE`。

```
.....
anim2.setAnimationListener(animButnListener);
askbtn.startAnimation(anim2);
AnimationListener animButnListener = new AnimationListener(){
  @Override
  public void onAnimationEnd(Animation animation) {

   // make  Button Visibility GONE  here
    againbtn.setVisibility(View.GONE);
  }
  //.......other AnimationListener methods
}; 
```

# mysql - 关于phpmyadmin、mysql和dreamweaver的问题

> ID：15697883
> 
> 赞同：0
> 
> 时间：2013-03-29T05:31:09.857
> 
> 标签：mysql, database, phpmyadmin, dreamweaver

我有一个我无法弄清楚的问题。我需要澄清一下，我对phpmyadmin、mysql、数据库和dreamweaver 非常陌生。

目前，我在 phpmyadmin 中有一张表（书），其中包含这些属性（ISBN（主键）、标题、作者、出版商、价格等）

我在 phpmyadmin 中也有另一个表（用户），其中包含这些属性（用户名（主键）、密码、名称、DOB 等）。

让我先解释一下我的网页的一系列步骤。用户在登录页面登录成功，他会被引导到主页，然后他会输入或选择他的搜索词，然后结果页面会在主列表中显示相关结果，然后他会选择具体结果转到包含更多信息的详细页面。

我现在想要的是创建一个预订页面。如果用户喜欢某本书，可以点击预约，跳转到预约页面。

我打算有这些搜索文本字段：用户名、标题、价格和书籍数量。

当用户最初在登录页面登录时，如何让用户名文本字段自动填充用户名。？另外，如何让标题和价格文本字段自动填写相关的标题和价格，因为用户在特定的详细页面单击了预订？我打算让用户只需输入订单数量并按下提交按钮。我的第三个数据库（预订）将捕获用户名、标题、价格和订单数量的信息。我使用插入记录还是更新记录？

我是否通过将其与表（书籍和用户）中的键链接来在 phpmyadmin 中创建关系表？这会是多对多的关系吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T05:46:01.960

您可以使用 sessionId 在文本框中显示用户名...使用 javascript 自动填写标题和价格....对于第三个数据库，您也应该使用插入记录并创建第三个表...

# wordpress - 减少 wordpress 中的网站加载时间

> ID：15697897
> 
> 赞同：-2
> 
> 时间：2013-03-29T05:32:51.007
> 
> 标签：wordpress

我在 wordpress 中创建了一个网站。站点包含许多长页面和许多 java 脚本。但是站点完成后，服务器会获得如此多的加载时间，因此需要进行哪些更改以减少加载时间？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-07-03T05:54:02.400

按照说明操作

*   使用 CloudFlare 或使用 Google mod_pagespeed UI
*   使用[W3 Total Cache](https://wordpress.org/plugins/w3-total-cache/)或[WP 超级缓存](https://wordpress.org/plugins/wp-super-cache/)
*   尝试从 w3 总缓存 gzip/http 压缩您的网站
*   使用数据库缓存重新加载修复
*   使用[Smush-it](https://wordpress.org/plugins/wp-smushit/) / [Ewww Image Optimizer](https://wordpress.org/plugins/ewww-image-optimizer/)减少图像站点

您也可以访问以下网站：

[http://premium.wpmudev.org/blog/5-quick-ways-to-speed-up-your-wordpress-site/](http://premium.wpmudev.org/blog/5-quick-ways-to-speed-up-your-wordpress-site/) [http://www.sparringmind.com/speed-up-wordpress/](http://www.sparringmind.com/speed-up-wordpress/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T12:04:38.540

*   如上所述，使用像 Amazon Cloudfront 或 Cloudflare 这样的 CDN。
*   使用 Amazon S3 存储您的所有媒体，如图像等。
*   尝试在 body-end-tag 的底部加载所有 Javascript。

那是我最好的建议，那会减少很多。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-20T18:49:13.213

我强烈建议您考虑使用 W3 Total Cache。正如其他人所说，您可以缩小和缓存您的几个页面。W3TC 也有 CDN 支持。如果您想走简单的路线，请查看它与 MaxCDN 的集成，否则我推荐 Amazon CloudFront。

此外，您可能想看看 CloudFlare 是否适合您。

开箱即用的 WordPress 非常快。它只会通过您选择插件和主题而开始减慢。浏览它们并删除任何不必要的内容。是的，甚至删除停用的插件/主题。

WP Smush.it 已被 WPMU 接管并得到了极大的改进。绝对推荐它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-29T05:44:31.177

*   用于`wp_enqueue_script`避免调用多个`j`s文件。`jQuery` `css`我的意思是有很多插件指的是他们使用的不同版本的 jQuery `wp_enqueue_script`。
*   尝试安装`W3 Total Cache`插件，您可以在其中优化您的网站，最小化 css 并合并 jQuery 文件。
*   尝试加载您的网站@whichloadsfaster.com。分析结果并相应地工作。希望这就足够了。
*   为了更快的加载尝试优化你的代码，问问自己你安装的每个插件是否值得保留，如果不需要，删除它们。还可以尝试为您的博客配置 CDN，这肯定会减少加载时间以及服务器上的负载。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-29T06:58:28.233

*   使用 CloudFlare 或使用 Google mod_pagespeed UI
*   使用 W3 Total Cache 或 WP super cahe
*   尝试从 w3 总缓存 gzip/http 压缩您的网站
*   使用数据库缓存重新加载修复
*   使用 Smush-it/Ewww Image Optimizer 减少图像站点

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-11T01:12:43.170

如果您使用的是 W3Total Cache，请确保在推送更新的文件时使用文件重命名或查询字符串来破坏缓存：

[http://robandlauren.com/2013/04/11/busting-cache-in-wordpress/](http://robandlauren.com/2013/04/11/busting-cache-in-wordpress/)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-10-10T14:27:17.667

如果您使用的是 W3 Total Cache，请尝试禁用（如果您已打开）“对象缓存”功能。我已经解决了网站加载禁用此功能和禁用 Wordfence 上的“实时流量”的许多问题

# three.js - 为什么带有着色器的粒子系统不起作用？三.js

> ID：15697898
> 
> 赞同：2
> 
> 时间：2013-03-29T05:32:58.013
> 
> 标签：three.js, shader, particle-system

嗨，任何人都可以帮助我吗？我有这个着色器，它适用于 THREE.Mesh，但不适用于 THREE.Particlesystem？

我希望每个粒子都有给定贴图（纹理）的一部分并相应地改变它们的位置，就像这样[http://www.chromeexperiments.com/detail/webcam-displacement/?f=webgl](http://www.chromeexperiments.com/detail/webcam-displacement/?f=webgl)

```
<script id="vs" type="x-shader/x-vertex">

            uniform sampler2D map;

            varying vec2 vUv;

            void main() {

                vUv = uv;

                vec4 color = texture2D( map, vUv );
                float value = ( color.r + color.g + color.b ) / 3.0;

                vec4 pos = vec4( position.xy, value * 100.0, 1.0 );

                                gl_PointSize = 20.0;

                gl_Position = projectionMatrix * modelViewMatrix * pos;

            }

        </script>

<script id="fs" type="x-shader/x-fragment">

            uniform sampler2D map;

            varying vec2 vUv;

            void main() {

                gl_FragColor = texture2D( map, vUv );

            }

</script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T08:09:58.327

ParticleSystem 并不真正支持 UV，因为没有面，只有单点。纹理映射粒子是使用 gl_PointCoord (IIRC) 完成的，但它为每个粒子提供了相同的映射。为了给每个粒子赋予相同纹理的不同部分，你应该使用BufferGeometry，它在three.js的最新版本中支持所有属性，包括自定义属性（它非常高效和快速！）。然后为每个粒子提供一个 vec2 偏移属性：从该偏移和 gl_PointCoord 中获得正确的 UV。

# quickbooks - 如何使用 QBXML 请求获取值

> ID：15697901
> 
> 赞同：1
> 
> 时间：2013-03-29T05:33:11.777
> 
> 标签：quickbooks

我想取

```
Date Last Sold
MTD Sold
Last Month Sold
YTD Sold
Last Year Sold
Date Last Purchased 
```

对于 中的项目`Quickbooks`。

我正在使用`PHP SDK`从中获取项目`quickbooks`并能够获取它们。

但我也想获取这些字段。

我可以使用任何`QBXML`请求来获取 Items 的这些字段值吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T13:34:08.207

正如威廉已经说过的，这些信息都不能通过直接查询获得。

您应该在 QuickBooks GUI 中四处寻找并找出可以从哪里获取此信息 - 它很可能必须来自报告。

一旦您知道可以从哪个报告中获取信息，请使用[QuickBooks 桌面 API 参考](https://developer.intuit.com/app/developer/qbdesktop/docs/api-reference/qbdesktop)来查找特定报告类型的语法。

例如：

```
<?xml version="1.0" encoding="utf-8"?>
<?qbxml version="12.0"?>
<QBXML>
<QBXMLMsgsRq onError="stopOnError">
<CustomSummaryReportQueryRq>
<CustomSummaryReportType>CustomSummary</CustomSummaryReportType>
 ... etc. etc. etc. 
```

您将获得一个可以解析的 XML 文档。

同样，第一步是您需要找出可以从 GUI 中获取该信息的报告。

# javascript - Javascript Backbone 模型设计

> ID：15697902
> 
> 赞同：0
> 
> 时间：2013-03-29T05:33:15.867
> 
> 标签：javascript, oop, backbone.js

对 JavaScript 来说相当新，所以这可能是一个无聊的问题。

目前，对于我的项目，我将 NodeJS 用于服务器，将 Backbone 用于客户端。客户端将向服务器发送请求，服务器将发送服务器中的文件列表，我的目的是简单地返回文件列表，当用户单击文件时，它将向服务器发送另一个请求以加载文件.

目前在客户端级别，我的模型和集合定义如下：

```
app.MyFile = Backbone.Model.extend({
    defaults: {
        modifiedDate: new Date(),
        path: '',
        content: '' // content of the file
    }
});

var MyFileList = Backbone.Collection.extend({
  model: app.MyFile,
  url: '/api/files'
});

// create global collection of files
app.MyFiles = new MyFileList();

app.AppView = Backbone.View.extend({
  initialize: function () {
    // fetch all files
    app.MyFileList.fetch();
  }
});

// app.js (point of entry)
$(function() {
  // Kick things off by creating the **App**.
  new app.AppView();
}); 
```

我的服务器代码：

```
var application_root = __dirname,
    express = require("express"), 

...
app.get('/api/files', function(req, res) {
    ...
    // return file list
}

app.get('/api/files/:id', function(req, res) {
    ...
    // return file content?
} 
```

由于加载目录中的所有文件并将其发送回客户端是没有意义的，所以我所做的是我在服务器中创建模型并填充`modifiedDate`并`path`同时离开`content`到`null`. `content`但现在的问题是，当用户点击文件时，我该如何填写？我不确定如何从 Backbone View 或控制器手动发送 HTTP 请求。或者有没有更好的方法来做到这一点？我能想到的一种方法是创建另一个只保留的模型，`modifiedDate`但`path`对我来说这看起来非常冗长和重复。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T06:41:41.293

鉴于您在客户端拥有的东西，您可能不再需要任何东西。

```
app.MyFiles = new MyFileList();

app.MyFiles.fetch().done(function() {
   // your collection is fetched but each model's content is empty.
   // now, I assume at this point you will show them in some view/views.
}); 
```

现在，当单击其中之一时，您可以获取内容。

```
var model = app.MyFiles.get(id);
model.fetch().done(function() {
    // now the model's content attribute will be set
}); 
```

这可能只使用您展示的代码。因为默认情况下，模型用于获取的 url 是通过将模型的 id 附加到其集合 url 的末尾来创建的。

所以从你的服务器，你从'/api/files'返回一个json数组：`[{id:1, path:'foo'}, {id:2, path:'bar'}]`

然后从'/api/files/1'：`{id:1, path:'foo', content:'whatever'}`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T06:41:30.477

当用户单击文件时，您可以在模型上调用主干的`fetch`方法。然后，您的模型将填充来自服务器的数据。

请注意，要使其正常工作，您应该首先从服务器返回集合，其中模型至少具有 id。`fetch`通话后将填写所有其他字段。[此外，如果模型 url](http://backbonejs.org/#Model-url)与标准（即）不同，您应该覆盖它`collection/id`。

# javascript - webgrid中的确认消息

> ID：15697903
> 
> 赞同：1
> 
> 时间：2013-03-29T05:33:17.847
> 
> 标签：javascript, asp.net-mvc, razor, webgrid

我在 MVC 中使用 Webgrid。并且我被添加到带有链接按钮（锚标记）的 webgrid 的默认列中。现在我想在单击按钮时显示一条确认消息。但我尝试了下面的代码

```
gridColumns.Add(grid.Column(
            format: 
    @<text>
    @if (item.complianceStatusId == (int)SchoolBreifcase.Models.Status.Tobeverified)
    {    
        @Html.ActionLink("Complete", "CompleteComplianceTask", new { complianceId = item.ComplianceId, statusId = item.complianceStatusId },
         new { onclick = "return confirm('Are you sure you wish to complete  this compliance ?');" }, new { @class = "gridButton" }) 
    }
    </text> 
```

它显示的错误如下：**最好的重载方法匹配`'System.Web.Helpers.WebGrid.Column(string, string, System.Func<dynamic,object>, string, bool)'`有一些无效的参数**

**我删除了 css 类或确认，然后它工作正常**。但我想确认消息，并在同一字段中分配 CSS 类。我该如何解决这个问题？

我想我想要设置 css 样式，例如 webgrid,a {Styles} 然后我们可以删除锚标记中的 @class 字段。但我试试这个。gridview 按钮中未分配的 css 样式。

**编辑：** 现在我得到了答案。我只是改变了如下代码

```
@Html.ActionLink("Complete", "CompleteComplianceTask", new { complianceId = item.ComplianceId, statusId = item.complianceStatusId },
             **new { @class = "gridButton", onclick = "return confirm('Are you sure you wish to complete  this task ?');"** }) 
```

我在同一个对象中分配了 css 类和确认消息，然后它工作完美。

# share - 为 UIViews 共享的 iAd

> ID：15697907
> 
> 赞同：0
> 
> 时间：2013-03-29T05:33:28.123
> 
> 标签：share, iad

我正在使用 iAd 在视图之间共享，但是有两个奇怪的问题我一直在互联网上浏览以寻求解决方案而没有找到线索，因此我在这里发布我的问题和代码以进行头脑风暴。

.h: @interface AppDelegate : NSObject { UIWindow *window; ADBannerView *adBanner;

```
appViewController *viewControllerApp;
} 
```

.m

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:
(NSDictionary *)launchOptions {

adBanner = [[ADBannerView alloc] initWithFrame:CGRectZero];
adBanner.currentContentSizeIdentifier =ADBannerContentSizeIdentifierLandscape;
adBanner.delegate = self;
adBanner.backgroundColor = [UIColor whiteColor];
adBanner.autoresizingMask = UIViewAutoresizingFlexibleWidth | 
UIViewAutoresizingFlexibleHeight | UIViewAutoresizingFlexibleTopMargin;
//----------------------------------------------------------------------------------

[window addSubview:viewControllerApp.view];
[window makeKeyAndVisible];

return YES;
}

appViewController.m
-(void)viewWillAppear:(BOOL)animated
{
//#ifdef LITE_VERSION
    [SharedAdBannerView  setFrame:CGRectMake(0, 40, 0, 0)];
    [self.view addSubview:SharedAdBannerView];
//#ifdef
} 
```

appViewController.m 中的某处：

```
{....
    playGameView = [[PlayGameViewController alloc] initWithNibName:@"PlayGameViewController"
        bundle:nil];
    [self.view insertSubview:playGameView.view atIndex:10];
} 
```

所以，有两个问题：1.当应用程序运行时，iAd没有显示在正确的位置（应为0,40,0,0）但除非我将位置更改为（ 0,180,0,0)，但实际上不在 0,180 上。它看起来像在 0,40。

1.  当我移动到第二个视图（PlayGameView），然后点击iAd，iAd显示全屏视图，然后我关闭iAd，PlayGameView的屏幕消失了！它被rootView取代！！如何使用 PlayGameView 停留关闭 iAd？

当点击并关闭 iAd 时，我在 rootView 上没有看到问题。任何可以提供帮助的人都将受到高度赞赏！

乔治

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T08:20:46.023

ok, now I have finally found the problem, I replaced this

```
[self presentModalViewController:playGameView animated:NO]; 
```

from

```
[self.view insertSubview:playGameView.view atIndex:10]; 
```

then it work perfectlly.

now there is only one remain issue: position of iAd banner view

# solr - solr中的分组条件

> ID：15697910
> 
> 赞同：0
> 
> 时间：2013-03-29T05:33:40.480
> 
> 标签：solr, grouping

这是我的产品格式

```
<doc>
    <str name="productname">ipad</str>
    <str name="sku">1524856</str>
    <str name="store">apple.com</str>
</doc> 
<doc>
    <str name="productname">ipad</str>
    <str name="sku">1524856</str>
    <str name="store">apple.com</str>
</doc> 
<doc>
    <str name="productname">ipad</str>
    <str name="sku">1524856</str>
    <str name="store">buy.com</str>
</doc> 
<doc>
    <str name="productname">ipad</str>
    <str name="sku">1524856</str>
    <str name="store">amazon.com</str>
</doc> 
<doc>
    <str name="productname">ipad</str>
    <str name="sku">1524856</str>
    <str name="store">amazon.com</str>
</doc> 
<doc>
    <str name="productname">ipad</str>
    <str name="sku">1524856</str>
    <str name="store">ebay.com</str>
</doc> 
```

我必须将它与 sku 分组，所以我把它写成

```
http://**********/?q=ipad&wt=xml&group=true&group.field=upc&group.ngroups=true 
```

在我的输出中是

```
<result name="doclist" numFound="6" start="0">
<doc>
    <str name="productname">ipad</str>
    <str name="sku">1524856</str>
    <str name="store">apple.com</str>
</doc> 
```

但我也想用商店名称分组。如果商店中有多个具有相同 sku 的产品，则应该只需要一个商店

我的 o/p 应该是这样的（numfound=4 而不是 6）

```
<result name="doclist" numFound="4" start="0">
<doc>
    <str name="productname">ipad</str>
    <str name="sku">1524856</str>
    <str name="store">apple.com</str>
</doc> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T12:28:19.843

我通过添加'group.limit = 100000'找到了一个解决方案，这会显示组中与条件匹配的所有文档列表，我使用php对其进行唯一分组

# command-line - Weka：从命令行进行装袋

> ID：15697913
> 
> 赞同：0
> 
> 时间：2013-03-29T05:33:46.293
> 
> 标签：command-line, weka

我可以像这样从命令行使用 Bagging 训练模型——

```
java -Xmx512m -cp $CLASSPATH weka.classifiers.meta.Bagging -P 100 -S 1 -num-slots 1 -I 10 \
    -split-percentage 66 \
    -t $traindata \
    -d $model \
    -W weka.classifiers.trees.REPTree -- -M 2 -V 0.001 -N 3 -S 1 -L -1 -I 0.0 \
    > $out 
```

但是我不能重用相同的模型从命令行进行预测。我猜这个命令应该是这样的——

```
java -Xmx512m -cp $CLASSPATH weka.classifiers.meta.Bagging \   
    -l $model \
    -T $testdata \
    -W weka.classifiers.trees.REPTree \    
    -p 0 \
    > $wkresult 
```

但它不起作用，有什么想法吗？

**编辑：**但是，当我使用单个分类器（即没有装袋）时，它可以工作。命令是这样的——

```
java -Xmx512m -cp $CLASSPATH weka.classifiers.bayes.NaiveBayesMultinomial \
    -split-percentage 66 \
    -t $traindata \
    -d $model \
    > $out

java -Xmx512m -cp $CLASSPATH weka.classifiers.bayes.NaiveBayesMultinomial \
    -T $testdata \
    -l $model \
    -p 0 \
    > $wkresult 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T08:49:47.173

您需要调用不同的类来评估模型。命令行应该类似于

```
java -cp $CLASSPATH weka.classifiers.Evaluation weka.classifiers.meta.Bagging \
   -T $testdata -l $model 
```

您可能需要指定在训练分类器时提供的一些附加选项。还可以查看评估类的命令行选项。更多信息[在这里](http://weka.wikispaces.com/Generating+classifier+evaluation+output+manually)。

# android - 在 Android 中使用 Sherlock 库在 ActionBar 中添加菜单时出错？

> ID：15697926
> 
> 赞同：0
> 
> 时间：2013-03-29T05:35:09.547
> 
> 标签：android, actionbarsherlock, menuitem

我正在使用带有示例代码的 Sherlock 库在应用程序中工作。

我想在 ActionBar 的右上角添加菜单项，但在此过程中出现异常。我使用下面的代码在**Sherlock**的**ActionBar**中添加**Menu**。

 ****```
public boolean onCreateOptionsMenu(com.actionbarsherlock.view.Menu menu) {
        com.actionbarsherlock.view.MenuInflater inflater = getSupportMenuInflater();
        inflater.inflate(R.layout.activity_main, menu);
        return super.onCreateOptionsMenu(menu);

    }
    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        super.onOptionsItemSelected(item);

        switch (item.getItemId()) {
        case R.id.phone:
            Toast.makeText(getBaseContext(), "You selected Phone",
                    Toast.LENGTH_SHORT).show();
            break;

        case R.id.computer:
            Toast.makeText(getBaseContext(), "You selected Computer",
                    Toast.LENGTH_SHORT).show();
            break;

        case R.id.gamepad:
            Toast.makeText(getBaseContext(), "You selected Gamepad",
                    Toast.LENGTH_SHORT).show();
            break;

        case R.id.camera:
            Toast.makeText(getBaseContext(), "You selected Camera",
                    Toast.LENGTH_SHORT).show();
            break;

        case R.id.video:
            Toast.makeText(getBaseContext(), "You selected Video",
                    Toast.LENGTH_SHORT).show();
            break;

        case R.id.email:
            Toast.makeText(getBaseContext(), "You selected EMail",
                    Toast.LENGTH_SHORT).show();
            break;

        }
        return true;
    } 
```

编译代码时出现以下异常：

```
Uncaught handler: thread main exiting due to uncaught exception
 java.lang.RuntimeException: Expecting menu, got RelativeLayout
    at com.actionbarsherlock.view.MenuInflater.parseMenu(MenuInflater.java:145)
    at com.actionbarsherlock.view.MenuInflater.inflate(MenuInflater.java:112)
    at in.wptrafficanalyzer.actionbarsherlocknavtabswipe.MainActivity.onCreateOptionsMenu(MainActivity.java:110)
    at android.support.v4.app.Watson.onCreatePanelMenu(Watson.java:45)
    at com.actionbarsherlock.ActionBarSherlock.callbackCreateOptionsMenu(ActionBarSherlock.java:559)
    at com.actionbarsherlock.internal.ActionBarSherlockCompat.preparePanel(ActionBarSherlockCompat.java:479)
    at com.actionbarsherlock.internal.ActionBarSherlockCompat.dispatchInvalidateOptionsMenu(ActionBarSherlockCompat.java:272)
    at com.actionbarsherlock.internal.ActionBarSherlockCompat$1.run(ActionBarSherlockCompat.java:984)
    at android.os.Handler.handleCallback(Handler.java:587)
    at android.os.Handler.dispatchMessage(Handler.java:92)
    at android.os.Looper.loop(Looper.java:123)
    at android.app.ActivityThread.main(ActivityThread.java:4363)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:521)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T05:41:41.687

您正在膨胀布局 ( `R.layout.activity_main`)`onCreateOptionsMenu()`

```
@Override
public boolean onCreateOptionsMenu(Menu menu) {
    MenuInflater inflater = getSupportMenuInflater();
    inflater.inflate(R.layout.activity_main, menu);
    return super.onCreateOptionsMenu(menu);
} 
```

把它改成这样：

```
@Override
public boolean onCreateOptionsMenu(Menu menu) {
    MenuInflater inflater = getSupportMenuInflater();
    inflater.inflate(R.menu.some_menu_in_your_menu_folder, menu);
    return super.onCreateOptionsMenu(menu);
} 
```

这是您将在`res`->`menu`文件夹中创建的菜单****

# php - Facebook 个人资料图片并将其下载到我的网络目录

> ID：15697927
> 
> 赞同：0
> 
> 时间：2013-03-29T05:35:10.890
> 
> 标签：php, javascript, json, facebook-graph-api

获取 Facebook 个人资料图片并将其下载到我的目录“www.site.com/images”..

```
<?php $url = "https://graph.facebook.com/$id/picture?width=350&height=500&redirect=false"; ?> 
```

变量“$id”取自文本字段，我尝试绕过 facebook 在其图像上放置的“重定向”，因此为了获得“真实 url”，我决定从 JSON 中提取它。在浏览器中我收到这个：

```
 "url": "https://fbcdn-profile-a.akamaihd.net/hprofil[...]",
  "width": 299,
  "height": 426,
  "is_silhouette": false 
```

我所需要的只是要提取并保存到我网站目录的“真实网址”。

$.getJSON，似乎是分离信息的最简单方法。

概括

*   在 PHP 或 JAVASCRIPT 中为 JSON 提取/分隔符脚本
*   或将“图像”保存到“目录”。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T11:16:36.583

我的解决方案：

## [带卷曲](http://php.net/manual/en/book.curl.php)的 PHP

```
<?php
  $ch = curl_init("http://graph.facebook.com/$id/picture?width=350&height=500&redirect=false");
  curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
  curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 5); // Mean 5 seconds
  $content = curl_exec($ch);
  $data = json_decode($content, true);
  curl_close($ch);
  var_dump($data["data"]["url"]); 
```

## PHP 与 file_get_contents()

```
<?php
  $content = file_get_contents("http://graph.facebook.com/$id/picture?width=350&height=500&redirect=false");
  $data = json_decode($content, true);
  var_dump($data["data"]["url"]); 
```

## 带有 jQ​​uery 的 JavaScript

```
var url = "http://graph.facebook.com/ID/picture?width=350&height=500&redirect=false";
$.get(url,function(resp) {
  alert(resp.data.url);
}); 
```

## 编辑

您是否尝试删除“&redirect=false”

```
"https://graph.facebook.com/$id/picture?width=350&height=500"
redirect to
"https://fbcdn-profile-a.akamaihd.net/hprofil[...]" 
```

所以你可以这样做：

```
<?php
  $url = "https://graph.facebook.com/$id/picture?width=350&height=500";
  $data = file_get_contents($url);
  $fp = fopen("img$id.jpg","wb");
  if (!$fp) exit;
  fwrite($fp, $data);
  fclose($fp); 
```

了解有关[图片图表的更多信息](http://developers.facebook.com/docs/reference/api/using-pictures/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T12:05:36.630

我在从 fb 存储图像时使用了此代码。

```
$dir = "your_directory";
$img = md5(time()).'.jpg';
$url = "some_value";
$ch = curl_init($url);
$fp = fopen($_SERVER['DOCUMENT_ROOT'].DIRECTORY_SEPARATOR.$dir.DIRECTORY_SEPARATOR.$img, 'wb');
curl_setopt($ch, CURLOPT_FILE, $fp);
curl_setopt($ch, CURLOPT_HEADER, 0);
curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true);
curl_exec($ch);
curl_close($ch);
fclose($fp); 
```

# android - 在android中单击后退按钮时无法显示列表视图

> ID：15697928
> 
> 赞同：0
> 
> 时间：2013-03-29T05:35:18.177
> 
> 标签：android, web-services, android-listview

我在列表视图中显示一些数据，实际上我通过使用它从 Web 服务获取数据。如果我单击该列表视图中的任何项目，它应该转到下一页，并且必须在下一页上显示一些数据（例如 next_activity.java），它工作正常。

但是在 next_activity.java 页面上有一个后退按钮，如果我单击该按钮，它应该必须转到上一个列表视图活动。好吧，意图工作正常，

但

它没有显示列表视图。为什么？

这是我用于后退按钮的代码。

```
btn_back = (Button)findViewById(R.id.button_back_tab);
btn_back.setOnClickListener(new View.OnClickListener() {

@Override
public void onClick(View arg0) {
    Intent i_listagain = new Intent(TabhostActivity.this,StationsListActivity.class);
    startActivity(i_listagain);     
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T06:35:25.657

写这个：

> **列表视图活动**

```
mlistView.setOnItemClickListener(new OnItemClickListener() {

@Override
public void onItemClick(AdapterView<?> parent, View view, int position, long id) {

    Intent intent = new Intent(this,new_Activity.class);
    startActivity(intent);
  }
}); 
```

> **new_activity.java**

```
btn_back = (Button)findViewById(R.id.button_back_tab);
btn_back.setOnClickListener(new View.OnClickListener() {

@Override
public void onClick(View arg0) {

      this.finish(); // just write this

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T06:47:32.523

看看你在做什么。

1-您正在为以前的`List-activity`.there 创建新的 Intent 。不需要。

2-而不是创建新的意图使用。

```
finish()//this ll finish your current activity 
```

3-这将完成您当前的活动，并将进行您在堆栈上的最后一项活动，即您的`List-activity`

# xslt - 修改 xsltlistviewwebpart 中的 XSL 以将 SharePoint 2010 ListItems 呈现为 和 代替 我正在努力实现标题中提到的内容，但是遇到了麻烦，需要帮助。我正在修改以下模板 1\. <xsl:template 0="" 2777="" name="View_Default_RootTemplate" mode="RootTemplate" match="View" 问问题="" 2013-03-29t05:36:16.613="" 次="" this="" question="" shows="" research="" effort;="" it="" is="" useful="" and="" clear="" does="" not="" show="" any="" unclear="" or="" bookmark="" question.="" activity="" on="" post.="" 我正在努力实现标题中提到的内容，但是遇到了麻烦，需要帮助。我正在修改以下模板="" 1\.="" <xsl:template="" ddwrt:dvt_mode="root" ddwrt:ghost="hide">2\. <xsl:template match="View" mode="full" ddwrt:ghost="hide">3\. <xsl:template mode="Item" match="Row" ddwrt:ghost="hide">Q-1 我应该修改任何其他模板吗？ 期望的最终结果 - 当我将元素更改为最终页面时，呈现递归视图，并且每个列表项都*   listitem...被顶级

| a. What is the right way to do this?what template is applied in this case? Cordova - 打开 InAppBrowser 而不检查网络连接（Apple 批准） 我不完全确定我为什么会有这种感觉，也许是我在某个时候读过的东西，但我的理解是，在应用程序中提供离线体验的同时，我有责任适当管理我的应用程序需要互联网连接的情况，并且一个不可用（例如，适当的警报）。 使用 Cordova InAppBrowser 打开外部网站时，如果没有互联网连接，我是否需要对此进行处理，或者插件的 web 视图中出现的错误是否足够？这会干扰批准过程，还是完全可以？ xslt 4 1 回答 1 This answer is useful 1 这是一个应该为您处理的简单示例。你真的只需要以下两个模板：<xsl:template match="/" xmlns:x="http://www.w3.org/2001/XMLSchema" xmlns:d="http://schemas.microsoft.com/sharepoint/dsp" xmlns:asp="http://schemas.microsoft.com/ASPNET/20" xmlns:__designer="http://schemas.microsoft.com/WebParts/v2/DataView/designer" xmlns:sharepoint="Microsoft.SharePoint.WebControls"><xsl:call-template name="Main"></xsl:call-template></xsl:template> <xsl:template name="Main"><xsl:variable name="Rows" select="/dsQueryResponse/Rows/Row"><xsl:for-each select="$Rows">*   <xsl:value-of select="@Title"></xsl:value-of></xsl:for-each></xsl:variable></xsl:template> 于 2013-03-30T14:55:01.683 回答 Related 0 php - DOMXPath - 来自 2 个相同的 xpath 查询的结果不一致 1 algorithm - 对于给定的一组数据，是否可以有多个有效的 BST？ 2 memory-management - 是真的吗，现代操作系统在调用 realloc 时可能会跳过复制 1 node.js - 如何通过模块中的变量正确存储共享数据 1 android - Android Studio 谷歌地图 v2 1 sql - SQL 根据日期和 int 随机化行以仅每天更改结果顺序 2 apache - Microsoft Azure Apache Web 服务器无法访问 1 rsync - rsync - 仅传输文件名以今天日期开头的文件 1 java - 使用缓存时管理Java对象序列化版本的策略 3 android - 我应该将参数提供给构造函数还是 AsyncTask.execute(params)？ Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641 Stack Overflow 中文网 遵从 CC BY-SA 知识共享许可协议。 var _hmt = _hmt &#124;&#124; []; (function() { var hm = document.createElement("script"); hm.src = "https://hm.baidu.com/hm.js?709ff2ad9744e86b5b0eee677fc13ede"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s); })(); window.dataLayer = window.dataLayer &#124;&#124; []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-1MW5BV8G8E'); 
> ID：15697937
> 
> 赞同：0
> 
> 时间：
> 
> 标签：xslt

我正在努力实现标题中提到的内容，但是遇到了麻烦，需要帮助。我正在修改以下模板

```
1\. <xsl:template name="View_Default_RootTemplate" mode="RootTemplate" match="View" ddwrt:dvt_mode="root" ddwrt:ghost="hide">

2\. <xsl:template match="View" mode="full" ddwrt:ghost="hide">

3\. <xsl:template mode="Item" match="Row" ddwrt:ghost="hide"> 
```

Q-1 我应该修改任何其他模板吗？期望的最终结果 - 当我将元素更改为最终页面时，呈现递归视图，并且每个列表项都`<li>listitem...</li>`被顶级`<ul>`
Q-2包围，仍然使用我在模板和更改中看不到的表格呈现插入一些未知的，问题是 和 `<table>``<ul>``<tr>``<li>``<ul> & <li>``<td>``a. What is the right way to do this?``what template is applied in this case?`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T14:55:01.683

这是一个应该为您处理的简单示例。你真的只需要以下两个模板：

```
<xsl:template match="/" xmlns:x="http://www.w3.org/2001/XMLSchema" xmlns:d="http://schemas.microsoft.com/sharepoint/dsp" xmlns:asp="http://schemas.microsoft.com/ASPNET/20" xmlns:__designer="http://schemas.microsoft.com/WebParts/v2/DataView/designer" xmlns:SharePoint="Microsoft.SharePoint.WebControls">
    <xsl:call-template name="Main"/>
</xsl:template>

<xsl:template name="Main">
    <xsl:variable name="Rows" select="/dsQueryResponse/Rows/Row"/>
    <ul>
        <xsl:for-each select="$Rows">
            <li>
                <xsl:value-of select="@Title"/>
            </li>
        </xsl:for-each>
    </ul>
</xsl:template> 
```

 |</xsl:template></xsl:template></xsl:template>

# ios - Cordova - 打开 InAppBrowser 而不检查网络连接（Apple 批准）

> ID：15697940
> 
> 赞同：0
> 
> 时间：2013-03-29T05:36:28.640
> 
> 标签：ios, cordova

我不完全确定我为什么会有这种感觉，也许是我在某个时候读过的东西，但我的理解是，在应用程序中提供离线体验的同时，我有责任适当管理我的应用程序需要互联网连接的情况，并且一个不可用（例如，适当的警报）。

使用 Cordova InAppBrowser 打开外部网站时，如果没有互联网连接，我是否需要对此进行处理，或者插件的 web 视图中出现的错误是否足够？这会干扰批准过程，还是完全可以？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T08:03:34.483

看看这个Dom。

[http://gtproductions.net/blog/ways-to-get-rejected-by-apple-app-store-tips/](http://gtproductions.net/blog/ways-to-get-rejected-by-apple-app-store-tips/)

第 4 点似乎指出，如果未正确处理连接问题，应用程序（此处为游戏）可能会被拒绝。

# android - java.lang.IllegalStateException：指定的孩子已经有一个父母。您必须先在孩子的父母上调用 removeView()

> ID：15697943
> 
> 赞同：0
> 
> 时间：2013-03-29T05:36:46.107
> 
> 标签：android, horizontalscrollview

我正在使用水平滚动视图来水平滑动屏幕，我想在当前视图上动态添加视图但它没有发生，我在代码中做错了什么.. 这是我的代码

```
 public class MainActivity extends Activity implements OnGestureListener {

        private GestureDetector gDetector;
            private MyHorizontalScrollView scrollView;
            private View app;

            @TargetApi(11)      
            @Override
            public void onCreate(Bundle savedInstanceState) {
                super.onCreate(savedInstanceState);

                LayoutInflater inflater = LayoutInflater.from(this);
                setContentView(inflater.inflate(R.layout.sample, null));
//here I edited..
     scrollView = (MyHorizontalScrollView) findViewById(R.id.myScrollView_);
                LinearLayout layout = new LinearLayout(this);
                scrollView.addView(layout);

                ListView listView = new ListView(this);
                initListView(this, listView, "Item ", 30, android.R.layout.simple_list_item_1);
                layout.addView(listView);

                //setContentView(R.layout.sample);
                if(Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB){
                    getActionBar().hide();
                }
                findViewById(R.id.sample_button).setOnClickListener(
                        new View.OnClickListener() {
                            @Override
                            public void onClick(View v) {
                                int width = (int)TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 40, getResources().getDisplayMetrics());
                                SlideoutActivity.prepare(MainActivity.this, R.id.inner_content, width);
                                startActivity(new Intent(MainActivity.this,
                                        MenuActivity.class));
                                overridePendingTransition(0, 0);
                            }
                        });
                gDetector = new GestureDetector(this);
            }
            public static void initListView(Context context, ListView listView,String prefix, int numItems, int layout ){

                // By using setAdpater method in listview we an add string array in list.
                String[] arr = new String[numItems];
                for(int i = 0; i< arr.length; i++){

                    arr[i] = prefix + (i +1);
                }

                listView.setAdapter(new ArrayAdapter<String>(context, layout, arr));
                listView.setOnItemClickListener(new OnItemClickListener() {

                    @Override
                    public void onItemClick(AdapterView<?> parent, View view, int position,
                            long id) {
                        Context context = view.getContext();

                        String msg = "item[" + position + "]= " + parent.getItemIdAtPosition(position);

                        Toast.makeText(context, msg, 1000).show();
                        System.out.println(msg);

                    }
                });
            }
            @Override
            public boolean onDown(MotionEvent arg0) {
                // TODO Auto-generated method stub
                return false;
            }

            @Override
            public boolean onFling(MotionEvent start, MotionEvent finish, float xVelocity,
                    float yVelocity) {
                if(start.getRawX() < finish.getRawX()){

                    /*((ViewGroup)scrollView.getParent()).removeView(scrollView);

                    LayoutInflater inflater = LayoutInflater.from(this);

                    scrollView = (MyHorizontalScrollView) findViewById(R.id.myScrollView_);
                    app = inflater.inflate(R.layout.horz_scroll_app, null);

                    ListView listView = (ListView) app.findViewById(R.id.list);
                    initListView(this, listView, "Item ", 30, android.R.layout.simple_list_item_1);
                    setContentView(listView);*/

                    TextView toolbartext = (TextView)findViewById(R.id.text);
                    toolbartext.setText("New text for samples from left to right");
                    Toast.makeText(getApplicationContext(), "from left to right Swipe working", Toast.LENGTH_LONG).show();
                }else{
                    TextView toolbartext = (TextView)findViewById(R.id.text);
                    toolbartext.setText("New text for samples from right to left");
                    Toast.makeText(getApplicationContext(), "from right to left Swipe working", Toast.LENGTH_LONG).show();
                }
                return true;
            }

            @Override
            public void onLongPress(MotionEvent arg0) {
                // TODO Auto-generated method stub

            }

            @Override
            public boolean onScroll(MotionEvent arg0, MotionEvent arg1, float arg2,
                    float arg3) {
                // TODO Auto-generated method stub
                return false;
            }

            @Override
            public void onShowPress(MotionEvent arg0) {
                // TODO Auto-generated method stub

            }

            @Override
            public boolean onSingleTapUp(MotionEvent arg0) {
                // TODO Auto-generated method stub
                return false;
            }

            @Override
            public boolean onTouchEvent(MotionEvent event) {
                // TODO Auto-generated method stub
                return gDetector.onTouchEvent(event);
            }
        } 
```

她是我的logcat内容..

```
03-29 11:00:22.732: E/AndroidRuntime(303): FATAL EXCEPTION: main
03-29 11:00:22.732: E/AndroidRuntime(303): java.lang.IllegalStateException: The specified child already has a parent. You must call removeView() on the child's parent first.
03-29 11:00:22.732: E/AndroidRuntime(303):  at android.view.ViewGroup.addViewInner(ViewGroup.java:1970)
03-29 11:00:22.732: E/AndroidRuntime(303):  at android.view.ViewGroup.addView(ViewGroup.java:1865)
03-29 11:00:22.732: E/AndroidRuntime(303):  at android.view.ViewGroup.addView(ViewGroup.java:1845)
03-29 11:00:22.732: E/AndroidRuntime(303):  at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:217)
03-29 11:00:22.732: E/AndroidRuntime(303):  at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:207)
03-29 11:00:22.732: E/AndroidRuntime(303):  at android.app.Activity.setContentView(Activity.java:1658)
03-29 11:00:22.732: E/AndroidRuntime(303):  at com.example.sample.MainActivity.onFling(MainActivity.java:105)
03-29 11:00:22.732: E/AndroidRuntime(303):  at android.view.GestureDetector.onTouchEvent(GestureDetector.java:568)
03-29 11:00:22.732: E/AndroidRuntime(303):  at com.example.sample.MainActivity.onTouchEvent(MainActivity.java:146)
03-29 11:00:22.732: E/AndroidRuntime(303):  at android.app.Activity.dispatchTouchEvent(Activity.java:2089)
03-29 11:00:22.732: E/AndroidRuntime(303):  at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1655)
03-29 11:00:22.732: E/AndroidRuntime(303):  at android.view.ViewRoot.handleMessage(ViewRoot.java:1785)
03-29 11:00:22.732: E/AndroidRuntime(303):  at android.os.Handler.dispatchMessage(Handler.java:99)
03-29 11:00:22.732: E/AndroidRuntime(303):  at android.os.Looper.loop(Looper.java:123)
03-29 11:00:22.732: E/AndroidRuntime(303):  at android.app.ActivityThread.main(ActivityThread.java:4627)
03-29 11:00:22.732: E/AndroidRuntime(303):  at java.lang.reflect.Method.invokeNative(Native Method)
03-29 11:00:22.732: E/AndroidRuntime(303):  at java.lang.reflect.Method.invoke(Method.java:521)
03-29 11:00:22.732: E/AndroidRuntime(303):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
03-29 11:00:22.732: E/AndroidRuntime(303):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
03-29 11:00:22.732: E/AndroidRuntime(303):  at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T05:46:09.590

`addViews`我想你是在尝试`HorizontalScrollView`.

A`ScrollView`只能有一个孩子。

因此，您可以将 a 添加`Linear/RelativeLayout`到第`ScrollView`一个，然后将其他添加`views`到 this `layout`。

**代码：**

像这样的东西

```
HorizontalScrollView hsv = findViewById(R.id.mHSV);
//add a linear layout to your scrollview
LinearLayout layout = new LinearLayout (this);
hsv.addView(layout);
//add the remaining views to this linear layout
TextView textView = new TextView(this);
layout.addView(textView); 
```

# date - 将长日期转换为特定的短日期格式

> ID：15697948
> 
> 赞同：0
> 
> 时间：2013-03-29T05:37:27.547
> 
> 标签：date, datepicker, long-integer, short

将长日期格式转换为特定的短日期格式。

我想从 Datepicker(Jcalander) 获取日期，格式化为**dd-mm-yyyy**格式并分配给 String 变量。我尝试使用下面显示的代码。但没有得到我想要的日期格式。

```
SimpleDateFormat simpleFormat = (SimpleDateFormat) jCalendarCombo1.getDateFormat();
Date date = jCalendarCombo1.getDate();
System.out.println(date); // Prints Thu Mar 28 00:00:00 IST 2013

String s = simpleFormat.format(date);
System.out.println(s); // prints Thursday, March 28, 2013

System.out.println("Date SHORT format: "  + DateFormat.getDateInstance(DateFormat.SHORT).format(date));  // prints 3/28/13 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T05:55:18.037

如果你想要一个*固定*的、不依赖于语言环境的格式，你可以自己创建它；

```
SimpleDateFormat shortformat = new SimpleDateFormat("dd-MM-yyyy");
String s = shortformat.format(date);
System.out.println(s);                        // Prints 29-03-2013 
```

# manifest - 应用缓存离线

> ID：15697951
> 
> 赞同：0
> 
> 时间：2013-03-29T05:38:14.660
> 
> 标签：manifest, html5-appcache, manifest.cache

我们正在处理内容加载，如果我们已连接，则内容应从网络获取。如果我们离线，它应该从缓存中获取。我们应该做哪些设置来执行此操作。请指导。

问候， 巴拉吉

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T18:01:41.290

将以下代码保留在 appcache.manifest 文件中

```
NETWORK:
* 
```

这样当在线时，它会从服务器获取文件。

# actionscript-3 - Flash 动作脚本倒计时

> ID：15697953
> 
> 赞同：-1
> 
> 时间：2013-03-29T05:38:30.240
> 
> 标签：actionscript-3, flash, flash-cs5

我需要设置一个 40 分钟的计时器，40 分钟后帧应该转到一个特定的帧。我有一个代码，但它的格式是 2400s 这种方式。我想要的是 40:00 这种格式。如何将此代码更改为该格式。:)

```
var myTimer:Timer = new Timer(1000);
myTimer.addEventListener(TimerEvent.TIMER, countdownHandler);
function  countdownHandler(event:TimerEvent):void{  
    countdown.text = 2400-myTimer.currentCount+"s remaining";
    if(myTimer.currentCount==2400){gotoAndStop(3626)}   
}
myTimer.start(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T05:53:05.593

```
var s:String='';
var cdt:int=2400-myTimer.currentCount; // total seconds left
var mdt:int=cdt/60; // minutes left
cdt-=mdt*60; // seconds left
if (mdt<10) s+='0';
s+=mdt.toString()+':';
if (cdt<10) s+='0';
s+=cdt.toString();
countdown.text=s+' remaining'; 
```

# jquery - JQuery、PHP：更好地处理由 ajax 内容返回的 javascript

> ID：15697955
> 
> 赞同：0
> 
> 时间：2013-03-29T05:39:00.497
> 
> 标签：jquery, ajax, optimization

我正在开发一个完全基于 ajax 的 Web 应用程序。有两个主要部分。左侧面板有链接；单击任何链接时，右侧面板的内容会通过 ajax 动态加载。ajax 调用返回包含 html 和 javascript 的 json 编码响应。这是示例 page1.php 文件。

```
$output=array();

ob_start();
include("page1html.php");
$output['html']=ob_get_clean();

ob_start();
include("page1script.php"); //page1script.php return the page specific script
$output['script']=ob_get_clean();

echo json_encode($output); 
```

这是示例 page1script.php

```
<script>
    ajaxscript = {   //namespace
        init: function () {
        },
        foo: function () {
        }
    };
</script> 
```

其他页面的样式相同，但使用不同的 html 和不同的脚本。（这就是我没有创建全局 js 文件的原因，因为它会变成一个大文件。我只想加载特定于页面的 js）。

```
//this is onclick of link
updatecontents("page1.php");  ...
updatecontents("page2.php"); and so on 
```

这是我的js

```
var xhr;
var ajaxscript = null;

function updatecontents(addrs) {
    if(xhr) xhr.abort();
    $('#mainpanel').html('<div class="loader"></div>');
    $('#ajscript').html('');
    ajaxscript = {};    //remove the previous functions in the namespace; This is where I cleanup the old functions

    xhr=$.ajax({
        url: addrs,
        dataType : 'json',
        success: function(response) {
            if(response.html)
                $('#mainpanel').html(response.html);
            if(response.script)
                $('#ajscript').html(response.script);

            if(typeof(ajaxscript.init)=='function') ajaxscript.init();
        },
        error: function () {}
    });
} 
```

这是 II 可以达到的最好的结果......但我刚刚注意到 firefox firebug scripts 选项卡中的列表不断增长：在 js//eval/seq/ 下，每次单击链接时都会增长。这让我觉得每次单击链接时脚本都会加载到内存中，并且它们会保留在浏览器缓存中。如果我走在正确的道路上，我想获得一些专家意见……或者我需要什么优化。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T06:27:01.393

使用 .load 而不是 .ajax 来加载内容是一个很好的解决方案。数据将缓存在浏览器中。但是，当结果（包括 html 和 js）很大时，可能 js 内容会阻塞 html 内容。所以我的建议是，为什么不在 PHP 中将 js 内容写入文件，只返回该 js 文件的 URL。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T06:03:00.253

我有几乎同样的问题。对我来说，刷新 div 时无法导航链接。有。我认为您必须在 ajax-success 中使用 .load 而不是 html

# ruby-on-rails - 如何根据 Rails 中的单列计算记录与其他记录的排名？

> ID：15697957
> 
> 赞同：0
> 
> 时间：2013-03-29T05:39:12.807
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

假设我有`User`一个名为`point`.

`User`与所有其他行相比，如何获得实例的排名。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T06:06:59.123

用户的排名可以被认为是比他们多的其他用户的数量加上 1。正如 Mischa 在评论中指出的那样，一个合适的位置是在 User 模型本身中，如下所示：

```
def ranking
   User.where('point > ?', point).count + 1
end 
```

然后，您可以将其称为：

```
Rank: <%= @user.ranking %> 
```

这样做的缺点是在相同排名中对具有相同点数的用户进行排名。你必须为这种情况决定一个“决胜局”。

# java - 获取和设置cookie spring mvc

> ID：15697960
> 
> 赞同：0
> 
> 时间：2013-03-29T05:39:23.437
> 
> 标签：java, spring, cookies

我正在使用 Spring MVC 为我的身份验证方法使用`@requestbody`和`@responsebody`注释。我想知道如何在 spring mvc 中获取和设置 cookie。我需要将用户名和密码存储在我的 cookie 中，我正在通过`requestbody`. 还想知道如何在下次用户登录时在浏览器中获取此设置的 cookie。浏览器是否会自动将 cookie 与请求正文一起发送？具体来说，我不想选择 Spring Security 记住我选项。我是 Spring 框架的新手，因此非常感谢您提供示例代码。

**JS 中的 Ajax 代码**：

```
 var ajaxOptions = {
            type: callType,
            url: serviceCompleteUrl,
            /* Add if required.
            dataType: returnType */
            async: false,
            success: function(data, status, xhr) {
                /*
                 * TODO: See if this is required
                if (xhr.status == 200) {
                 */
                ajaxSuccess = true;
                serviceResponse = data;
                /*
                }
                 */
            }, 
```

在服务中，我只是返回将映射到 serviceResponse 并可被 JS 使用的对象。

服务示例**代码**：

```
 @RequestMapping("/login")
    public @ResponseBody LoginObject Login(@RequestBody LoginParameter request)
    {
       /* Code */
       return LoginObject;
    } 
```

这就是我从服务返回对象的方式，然后被js中的服务响应捕获。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T06:24:19.827

切勿在 Cookie 中存储密码（即使是加密的）。要实现您想要的**记住我**功能，请遵循此[答案](https://stackoverflow.com/a/12990591/960778)

**更新：** 您需要在 JS 端将数据保存在 cookie 中的逻辑。服务调用返回后`LoginObject`，使用一些`JS`或`jQuery`代码（如`document.cookie="key=" + value;`）将数据存储在 cookie 中。

# java - 在 Eclipse 中运行动态 Web 应用程序时，Apache Tomcat 服务器不工作

> ID：15697965
> 
> 赞同：1
> 
> 时间：2013-03-29T05:39:39.593
> 
> 标签：java, eclipse, jakarta-ee, tomcat, http-status-code-404

我想将服务器添加到 Eclipse，它是 Apache Tomcat 7.0 用于运行我的 Web 应用程序，但每次它都会给出错误 404。我已经尝试了堆栈溢出其他帖子中给出的所有解决方案我会告诉你我遵循了什么程序：

1.  我已经为 Apache tomcat 下载了 Windows 安装程序并安装了它。
2.  我放置了一个 JAVA_HOME 环境变量，其路径是安装的 JDK。
3.  然后在 Eclipse 中：Window -> Preferences -> Server -> Add，我通过提供 Apache bin 文件夹的路径添加了该服务器。
4.  然后我检查了我的项目的构建路径。

首先，它给出了端口号的错误。已经在使用，所以我更改了端口号。其次，它给 Apache 的 tomcat 已经启动了。所以我手动停止它并从 Eclipse 开始。

**网址是*正确的*，我已经检查过了。而且我还手动给出了 URL。我也创建了`index.jsp`**

现在，当我运行该项目时，它给出了 Error 404 。未找到请求的文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T05:41:27.007

错误 404 表示 tomcat 服务器已启动并正在运行。你的问题在于你试图“服务”的任何东西

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T05:43:19.757

确保您的应用程序已正确部署。

*   检查任何日志中是否有任何错误。
*   检查您输入的网址是否正确

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-29T05:43:56.280

找不到页面或错误 404 表明您尝试进入浏览器的地址 url 处没有页面。您需要检查服务器是否已正确配置以服务您的应用程序。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-29T05:44:16.607

你看过你的“web.xml”文件吗？查看您用作欢迎文件的页面是否存在，您的 WebContent 文件夹中是否有 index.jsp 或 index.html？确保您指向的所有资源都存在。同样，我强烈建议您将 tomcat 作为 jar 使用，而不是将其作为服务安装在 Windows 上，这样会更好。还要检查tomcat的控制台，应该有一些红线指出可能发生这种行为的问题。最好的祝福。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-11-29T06:56:46.383

只需双击 -- 1>Tomcat v7.0 Server at localhost.server ..... .. 然后在 --------------- 2> Server Location ..... . .. 选择第二个选项 -- 3> 使用 Tomcat 安装 .... .. 并再次启动服务器 ... :)

# jquery - 如何禁用 Bootstrap 的 Button 下拉菜单

> ID：15697968
> 
> 赞同：31
> 
> 时间：2013-03-29T05:39:51.610
> 
> 标签：jquery, twitter-bootstrap

链接在这里：[引导按钮下拉菜单](http://twitter.github.com/bootstrap/components.html#buttonDropdowns)

我想禁用此按钮下拉菜单，我添加了`disabled`类，`<a>`但仍然可以通过单击下拉按钮打开下拉菜单。有任何想法吗？

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2013-03-29T05:45:30.437

将`disabled`类添加到按钮...

```
<div class="btn-group">
    <button class="btn btn-primary dropdown-toggle disabled" data-toggle="dropdown">Action <span class="caret"></span></button>
    <ul class="dropdown-menu">
      <li><a href="#">Action</a></li>
      <li><a href="#">Another action</a></li>
      <li><a href="#">Something else here</a></li>
      <li class="divider"></li>
      <li><a href="#">Separated link</a></li>
    </ul>
</div> 
```

这在通过引导站点编辑时有效。我确实注意到他们没有像他们的例子那样使用锚。

```
<a class="btn dropdown-toggle" data-toggle="dropdown" href="#"> 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2013-03-29T05:52:23.120

是的，你可以这样做：

```
$('.dropdown-toggle').data('toggle', ''); 
```

这仅在获得此属性时才有效：`data-toggle="dropdown"`，您可以将 更改`dropdown`为`''`空白。

或者您可以尝试删除 attr`data-toggle`

```
$('.dropdown-toggle').removeAttr('data-toggle'); 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2013-10-10T11:37:36.170

您需要做的就是设置按钮的禁用属性。

```
$('.dropdown-toggle').prop('disabled', true); 
```

[http://getbootstrap.com/2.3.2/base-css.html#buttons 禁用状态](http://getbootstrap.com/2.3.2/base-css.html#buttons)

# android - Android 按钮和编辑文本

> ID：15697973
> 
> 赞同：0
> 
> 时间：2013-03-29T05:40:34.063
> 
> 标签：android, button, webview, android-edittext, google-play

我在 android 中只有一点 exp.. nw 我正在开发一个应用程序..它有一个编辑文本和一个按钮和一个 web 视图......当用户按下它的按钮时，用户可以在编辑文本中输入任何关键字搜索 android 市场，结果必须在 webview 中显示..nw 我知道 hw 在 webview 中显示网页....`

```
package com.example.webviewsimple;

import android.app.Activity;
import android.os.Bundle;
import android.view.Menu;
import android.webkit.WebView;

public class MainActivity extends Activity {

    WebView myWebView;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        WebView myWebView=(WebView)findViewById(R.id.webView1);
        myWebView.loadUrl("http://www.google.com");

    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.main, menu);
        return true;
    }

} 
```

`

这是用于搜索市场的代码

`

```
 Intent i = new Intent(Intent.ACTION_VIEW);
   i.setData(Uri.parse("market://search?q=com.amazon.kindle"));
   startActivity(i);

` 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T06:24:19.533

你可以这样使用：**`this code is only work in android device`**

main_activity.xml

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <EditText
        android:id="@+id/editText1"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:ems="10"
        android:hint="search on Google Play" >

        <requestFocus />
    </EditText>

    <Button
        android:id="@+id/button1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:onClick="searchData"
        android:text="search" />

</LinearLayout> 
```

活动中：

```
public class MainActivity extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.new_test);
    }

    public void searchData(View v) {
        EditText ev = (EditText) findViewById(R.id.editText1);
        String search = "market://search?q=";
        search += ev.getText().toString();
        if (v.getId() == R.id.button1) {
            String appPackageName = getPackageName();
            Intent marketIntent = new Intent(Intent.ACTION_VIEW,
                    Uri.parse(search));
            marketIntent.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY
                    | Intent.FLAG_ACTIVITY_CLEAR_WHEN_TASK_RESET);
            startActivity(marketIntent);
        }
    }
} 
```

检查这个：

![在此处输入图像描述](../Images/9d37f0da718f4c4b8809cea6b9a89aa6.png)

![在此处输入图像描述](../Images/7253f265255ca7e3020a7342c8ada721.png)

# php - 我们可以创建评论系统，向前五个回复的评论发送通知吗？

> ID：15697977
> 
> 赞同：0
> 
> 时间：2013-03-29T05:41:05.457
> 
> 标签：php, tree, notifications, sendmail

我有 php 功能，用于为父评论发送单个通知邮件。但我想将前五个回复的评论通知发送给父评论。如果有任何想法或 php 代码，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T05:44:33.767

`If ($count_replies % 5 == 0) sendMail();`

像这样的东西。:^)

哦，忘了一个答案。答案是：是的，你可以。

# ios - 在不在 appdelegate 的类中添加 NavigationController

> ID：15697982
> 
> 赞同：2
> 
> 时间：2013-03-29T05:41:29.567
> 
> 标签：ios, objective-c, uinavigationcontroller

如何在`viewDidLoad`任何类的方法中为他们的下一个类添加导航控制器，我没有在 appdelegate 的开头添加它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T05:56:30.580

```
YourViewController *report = [[YourViewController alloc]  init]; // create Object of YourViewController

UINavigationController *navigationController = [[UINavigationController alloc]initWithRootViewController:report]; // add YourViewController as root view controller of UINavigationController

[self presentModalViewController:navigationController animated:YES]; 
```

# ruby - Ruby 中的目录遍历

> ID：15697983
> 
> 赞同：8
> 
> 时间：2013-03-29T05:41:32.490
> 
> 标签：ruby

我一直在尝试使用简单的递归方法在 Ruby 中为更大的程序的一部分实现目录遍历。但是我发现[**Dir.foreach**](http://ruby-doc.org/core-2.0/Dir.html#method-c-foreach)不包括其中的目录。我怎样才能让他们列出来？

代码：

```
def walk(start)
  Dir.foreach(start) do |x|
    if x == "." or x == ".."
      next
    elsif File.directory?(x)
      walk(x)
    else
      puts x
    end
  end
end 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-03-29T05:51:27.163

问题是每次递归时，传递给的路径`File.directory?`是 no 只是实体（文件或目录）名称；所有上下文都丢失了。所以说你去`one/two/three/`检查是否`one/two/three/file.txt`是一个目录，从顶级目录的角度来看，`File.directory?`只是作为路径而不是整个东西。`"file.txt"`每次递归时都必须维护相对路径。这似乎工作正常：

```
def walk(start)
  Dir.foreach(start) do |x|
    path = File.join(start, x)
    if x == "." or x == ".."
      next
    elsif File.directory?(path)
      puts path + "/" # remove this line if you want; just prints directories
      walk(path)
    else
      puts x
    end
  end
end 
```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2013-03-29T05:58:52.597

对于递归，您应该使用[Find](http://www.ruby-doc.org/stdlib-2.0/libdoc/find/rdoc/Find.html)：

从文档中：

> Find 模块支持对一组文件路径进行自上而下的遍历。
> 
> 例如，要计算主目录下所有文件的大小，忽略“点”目录中的任何内容（例如 $HOME/.ssh）：

```
需要'查找'

总大小 = 0

Find.find(ENV["HOME"]) 做 |路径|
  如果 FileTest.directory？（路径）
    如果 File.basename(path)[0] == ?.
      Find.prune # 不要再看这个目录了。
    别的
      下一个
    结尾
  别的
    total_size += FileTest.size(路径)
  结尾
结尾

```

# facebook - Facebook登录后如何重定向到弹出窗口

> ID：15697989
> 
> 赞同：0
> 
> 时间：2013-03-29T05:42:08.743
> 
> 标签：facebook, twitter-bootstrap, django-allauth

在我的 django 应用程序上，我有一个 Facebook 连接按钮（通过 django allauth）。当我单击它时，会出现 facebook 对话框。现在，我希望在登录后，用户被重定向到带有用户朋友列表的弹出窗口（引导模式）。

我有一个测试函数，用于在我的 views.py 中获取朋友列表，它运行良好。我需要的是，在 facbook 对话框登录后，它转到此功能，获取好友列表，并在原始页面的弹出窗口中返回结果。

我尝试设置 LOGIN_REDIRECT_URL = '/friends'，这会将我带到查看功能并获取好友列表，但是如何在该弹出窗口中显示此列表？我将 django-allauth 与引导库一起使用。

对此的任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T07:35:05.080

*在模态中加载朋友页面*

您可以使用模态的`remote`选项从模态内的朋友页面加载 html。请参阅[文档](http://twitter.github.com/bootstrap/javascript.html#modals)并查找`remote`.

将模态添加到要显示模态的页面：

```
<div class="modal hide fade" id="myModalFriends" aria-hidden="true" data-show="true">
    <div class="modal-header">
         <h3>Friend list</h3>
    </div>
    <div class="modal-body">Friend page will load here.</div>
    <div class="modal-footer">
        <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
    </div>
</div> 
```

然后，登录成功后：

```
$('#myModalFriends').modal({
    remote: '/friends'
}); 
```

这将从`/friends`模式中的页面加载 html。

*打开好友页面加载的模态框*

如果您想在好友页面的模态框中显示您的好友列表，您可以调用`$('#myModal').modal();`文档准备在启动时显示它；看到[这个小提琴](http://jsfiddle.net/serra/n64g4/)。

# c - 单词长度直方图调试

> ID：15697990
> 
> 赞同：-1
> 
> 时间：2013-03-29T05:42:12.997
> 
> 标签：c

```
#include <stdio.h>

int main (void) { 
FILE *fp; 
fp = fopen("test.txt", "r"); 

int char_counter, i, c; 
int word_length[12]; 

char_counter = 0; 
for (i = 0; i <= 12; i++) {
    word_length[i] = 0; 
}

while ((c = getc(fp)) != EOF) {
    if (c == '\n' || c == '\t' || c == ' ')
    {
        word_length[char_counter] = word_length[char_counter] + 1;
        char_counter = 0; 
    }
    else {
        ++char_counter; 
    }
}

for (i = 0; i <= 12; i++) {
    printf("%d  %d\n", i, word_length[i]); 
}

return 0; 
} 
```

测试.txt：

> 呜呜呜呜呜呜呜呜呜呜bb

输出：

```
0   0
1   1
2   1
3   1
4   1
5   0
6   0
7   0
8   1
9   0
10  0
11  0
12  -1 <-- ?? 
```

预期输出看起来相同，但第 12 行应该是 1 而不是 -1。我真的不明白我是如何得到一个负数的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-29T05:48:56.477

编码

```
int word_length[12]; 
```

表示您在列表中有 12 个项目，编号为 0 .. 11

尝试访问项目 12 你会得到未定义的行为。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-29T05:45:03.700

看看这个片段：

```
int word_length[12]; 

char_counter = 0; 
for (i = 0; i <= 12; i++) {
    word_length[i] = 0; 
} 
```

你找到错误了吗？提示：再次检查号码`12`和接线员`<=`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-29T05:50:05.643

`int word_length[12];`这意味着它可以存储 0 到 11 的最大int`12`数，因此`word_length[12]`无法访问，因此它提供了一些垃圾值。

您需要这样做`int word_length[13];`，您的问题将得到解决。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-29T05:51:42.423

**KnR 练习 1-3**

```
＃包括

#define TAB_STOP 8
#define MAX_WORD_TABS 4
#define MAX_WORD MAX_WORD_TABS * TAB_STOP

int main() {

    int c，我，is_first = 1，skip_space = 1，skip_tab = 0；
    长word_c = 0，word_l = 0；

    而（（c = getchar（））！= EOF）{
        if (c != ' ' && c != '\t' && c != '\n') {
            word_l++;
            跳过空间= 0；
            如果（is_first）{
                ++word_c;
                is_first = 0;
            }
            putchar(c);
        } 别的 {
            is_first = 0;
            如果（！skip_space）{

                如果 (word_l 0; --word_l)
                    printf("|||||"); //putchar('|');

                putchar('\n');

                跳过空间 = 1;
            }
        }
    }
}

```

您可以在 UNIX 上使用重定向（<、> 或 >>）来进行程序的输入和输出……不需要文件处理。

# javascript - Javascript 只有当我单击它（onclick 事件）时，我才能将项目添加到下拉列表中吗？

> ID：15697991
> 
> 赞同：0
> 
> 时间：2013-03-29T05:42:31.840
> 
> 标签：javascript

只有当我们单击下拉列表时，我们才能将项目添加到下拉列表中吗？我已经放置了一个如下的 onclick 事件：

```
<select id="DeptStr" style="width: 114px" onchange="Call()" onclick = "GetDept()"> 
```

GetDept() 是将项目添加到下拉列表中的函数。

但我的结果是，每次我点击下拉列表时，它只会列出大约 1 秒钟的项目，然后列表会重新上去。我没有时间选择任何项目。你们知道为什么吗？

我的 GetDept() 如下所示：

```
 cb=ObjByID('cbDeptStr');
            i=cb.length;
            while(i>0)
            { 
                cb.remove(1);
                i--;
            }
            var oOption;
            var rows = ret.substr(4).split('|');                
            var n;           

            for (var i = 1; i < rows.length; ++i)
            {
                n=rows[i].substr(0,4);
                if (n.length!=4)
                    break;
                oOption = document.createElement("option");             
                cb.options.add(oOption,i);
                oOption.innerHTML=n;
                oOption.value=n;

            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T05:53:17.193

> “每次我点击下拉列表，它只会列出大约 1 秒钟的项目，然后列表就会恢复。我没有时间选择任何项目。你们知道为什么吗？”

这是因为当您单击下拉菜单时，`onClick`会触发处理程序，这会将焦点从`<select>`元素上移开。当它失去焦点时，它会隐藏选项。

# sql - SQL SELECT 语句在执行期间实际上做了什么？

> ID：15697992
> 
> 赞同：0
> 
> 时间：2013-03-29T05:42:42.650
> 
> 标签：sql, database

在一份`SELECT`声明中：

```
SELECT name 
FROM users 
WHERE address IN (addr_a, addr_b, addr_c, ...); 
```

我们知道它将选择所有地址在 (addr_a, addr_b, addr_c, ...) 中的人的姓名。但我想知道执行此语句时它实际上做了什么。

例如，它是否搜索表中的每个元素以检查其地址是否在 (addr_a, ...) 中？

如果`addr_a`,`addr_b`太长，是否会减慢搜索过程？

有没有关于这些东西的材料可以推荐？

**编辑**：我没有指定 RDBMS，因为我想知道尽可能多的 SQL 实现。

**再次编辑**：在这里我得到了关于 MySQL 和 SQL Server 的答案，我接受了“SQL Server”，因为它是一个详细的答案。欢迎更多关于其他 RDBMS 的答案。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-29T09:52:03.220

由于您没有指定您的问题是关于哪个 RDBMS，所以我将编写它在 SQL Server 上的工作原理，尝试稍微简化它并避免很多技术性问题。在不同的系统上它可能相同或非常相似，但也可能完全不同。

SQL Server 将如何处理您的查询

```
`SELECT name FROM users WHERE address IN (addr_a, addr_b, addr_c, ...);` 
```

几乎完全取决于您在表上拥有什么样的索引。这里有3个基本场景：

**场景 1**（良好的索引）

如果您有所谓的[Covering Index](https://www.simple-talk.com/sql/learn-sql-server/using-covering-indexes-to-improve-query-performance/)，这意味着列上的 PK 或聚集索引或包含`address`的非聚集索引，SQL Server 将执行名为. 这意味着它将遍历索引的树结构并快速查明您需要的确切行（或发现它不存在）。由于列也包含在索引中，因此它将读取它并从那里直接返回。`address``name``Index Seek``name`

**场景 2**（不太好的索引）

当您在`address`不包括 column的 column 上有索引时就是这种情况`name`。您可能会经常发现这类索引（仅在一列上），但您很快就会发现它们大部分时间都毫无用处。您在这里希望 SQL Server 通过您的索引结构（搜索）并快速找到您的地址所在的行。但是，由于列`name`现在不存在，它只能获取行实际所在的 rowID（或 PK），因此它将为返回的每一行额外读取另一个索引或表以查找您的行并检索名称。由于这需要比方案 1 多 3 倍的阅读量，因此 SQL Server 通常不会决定只遍历表的所有行而不是使用索引更便宜。这在场景 3 中进行了解释。

**场景 3**（无可用索引）

如果您根本没有索引或列地址上没有索引，则会发生这种情况。简单地说，SQL Server 会遍历所有行并检查每一行是否符合您的条件。这被称为`Index Scan`（或者`Table Scan`如果根本没有索引）。通常是最坏的情况，而且最慢。

希望这有助于澄清一些事情。

至于关于长弦减速的另一个子问题——这种情况的答案是“可能不多”。当 SQl Server 比较两个字符串时，它会逐个字符地进行比较，因此如果两个字符串的首字母不同，它将不会进一步检查。但是，如果您在字符串的开头放置一个通配符 %，即：`WHERE address LIKE '%addr_a'`SQL Server 将不得不检查列中每个字符串的每个字符，因此工作速度会慢得多。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T05:47:29.557

该[文档](http://dev.mysql.com/doc/refman/5.1/en/comparison-operators.html#function_in)准确地解释了它的作用。

> 如果所有值都是常量，则根据 expr 的类型对它们进行评估并排序。然后使用二进制搜索完成对项目的搜索。

因此，参数的顺序实际上并不重要，因为 MySQL 无论如何都会对它们进行排序以进行比较。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-29T10:03:32.453

@Xu：为选择查询创建一个执行计划，并根据该计划完成最终执行。[请查看与执行计划](https://www.simple-talk.com/sql/performance/execution-plan-basics/)相关的基本文档以获取更多详细信息。

# twitter-bootstrap - 在 Bootstrap 中，同一“流体”行中的两个 `span` 的行为不同。为什么？

> ID：15697993
> 
> 赞同：0
> 
> 时间：2013-03-29T05:42:53.997
> 
> 标签：twitter-bootstrap, formatting, responsive-design

我正在尝试自定义由 LESS 代码驱动的“响应式”Bootstrap 主题，但遇到了一些我无法解决的问题。首先，让我向您展示代码：

这是HTML：

```
<div class="row-fluid">
    <div class="span7">
        <div class="hero-unit">
            <h2 class="gw-tweak2">This is line 1.</h2>
            <h1 class="gw-tweak2">This is (big) line 2.</h1>
        </div>
    </div>
    <div class="gw-tweak3 span5">
        <img src="img/portrait-square-nobkgd-250sq.png" />
    </div>
</div> 
```

这是相关的LESS代码：

```
.hero-unit {
    background-color: @backgd-color;

    h2.gw-tweak2 {
        color: lighten(@subhead-color, 6%);
        font-size: 22px;
    }
    h1.gw-tweak2 {
        color: darken(@subhead-color, 8%);
        font-size: 44px;
    }
}

div.row-fluid>div.gw-tweak3 {    // gw: applies to the span4 div 
                                 //   that contains the portrait img
    float: left;
} 
```

我试图通过使用“gw-tweak2”和“gw-tweak3”类缩小规则选择器来防止我的更改可能导致的副作用。（仅供参考，“gw-”在那里，所以我可以快速找到我的更改。）

HTML 代码描述了我网页的水平部分。左边是 Bootstrap 所说的“英雄单元”（把它想象成一个格式化的文本框），右边是一张 250x250 像素的照片。

对于那些不知道“响应式”是什么意思的人来说，这意味着随着网页宽度的缩小，页面的各种元素会调整大小并重新排列，以使生成的页面始终看起来不错。（这样，相同的网页在计算机、平板电脑和智能手机上看起来都可以接受。）

这是我想要的效果（在最适合台式电脑的网页尺寸范围内）：随着网页宽度的减小，英雄单元的高度增加。发生这种情况时，图像会向下移动，使其相对于英雄单位的高度垂直居中。

以下是实际发生的情况：有一段时间，图像的垂直定位保持不变。然后在某个时刻，图像开始缩小，同时开始向假想的水平线漂移，该水平线穿过英雄单位的顶部边界（即，该代码定义的区域的开始）。

这是一个似乎与问题密切相关的观察：当我使用 Firebug 突出显示给定 HTML 标记“覆盖”的区域时，我发现“span7”区域（英雄单元）的高度和“span5”区域不同。（我假设 Bootstrap 会使它们都具有相同的高度——毕竟，“行流体”`div`似乎代表网页的一个矩形切片。）此外，随着网页变窄，“span5”元素的区域收缩以完全覆盖`img`收缩。

也许无能为力；我看过一些网页说垂直居中元素不是 HTML 所做的事情。但是，即使是对 Bootstrap 为何表现出我所描述的方式的一些见解，也可以帮助我以一种使结果不那么可怕的方式来修改当前的行为。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T07:00:53.890

他们不需要定义 gw-tweak3 因为结构已经设置为浮动。唯一要做的就是使图像宽度100％......

```
div.row-fluid > div.gw-tweak3 {   
    float: left; // Remove this
    img { 
      width:100%; margin:10px 0; vertical-align:middle;
    } // Add this
} 
```

# java - 如何使用 Spring 表单标签包含 jsp 页面？

> ID：15697998
> 
> 赞同：5
> 
> 时间：2013-03-29T05:43:34.717
> 
> 标签：java, spring, jsp, spring-annotations

我正在使用 Spring，因为我有`user.jsp`

`user.jsp`具有三个独立的部分：1\. 个人，2\. 教育，3\. 奖项。每个部分都有我创建的不同形式的 .jsp。

现在我正在考虑将这三种形式包含到`user.jsp`并使用一个控制器显示模型。

这是我的控制器类代码：

```
@Controller
@RequestMapping(value="profile")
public class UserProfileController {

    @RequestMapping(value="user", method=RequestMethod.GET)
    public String user(Model model) throws Exception {
        model.addAttribute("profile", new PersonalForm());

        return "profile/user";
    } 
```

这是我的 Personal.jsp 文件（所有剩余的文件都相同，但名称不同）

那么如何将这三个jsp包含进去`user.jsp`呢？实际上我正在尝试，但 Eclipse 显示错误。以下是我的错误代码`user.jsp`：

> 在预期路径/EClass/WebContent/WEB-INF/pages/profile/profile/professional.jsp 中找不到片段“profile/professional.jsp”

所以请帮助我如何包含以及如何使用单个控制器？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-29T06:36:52.507

在您的 User.jsp 中编写以下代码...

```
 <%@ taglib prefix="form" uri="http://www.springframework.org/tags/form"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>

<fieldset id="profile_proffiesional">
    <form:form action="profile/user" modelAttribute="profile">
        <jsp:include page="personal.jsp"></jsp:include>
        <jsp:include page="educational.jsp"></jsp:include>
        <jsp:include page="awards.jsp"></jsp:include>
    </form:form>
</fieldset> 
```