# StackOverflow 问答 15127000-15127999

# security - 使我的网站安全 (https) 会影响我的谷歌排名吗？

> ID：15127001
> 
> 赞同：1
> 
> 时间：2013-02-28T03:39:03.463
> 
> 标签：security, http, redirect, https, ssl-certificate

我正在管理一个网站 (www.faa.net.au)，该网站目前作为标准 http:// 网站运行。

我现在正在考虑捕获一些需要保密的信息。为了做到这一点，我正在考虑为这个特定域购买 SSL 证书。

我真的有两个问题：

1.  我的排名会受到影响吗？
2.  如果有指向 http:// 而不是 https:// 的链接，我是否需要设置 301 重定向？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T03:43:28.330

Gong HTTPS**不会**对您的页面排名产生负面影响。是的，除非这是临时更改，否则您应该设置 301 重定向。

简而言之，搜索引擎机器人正常连接到页面，因此它是否使用 SSL/TLS 并不重要。301 将使用当前信息更新机器人。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-07-08T11:29:37.143

使用 https 实际上会对您网站的 SEO 产生积极影响，因为 Google 现在已将其作为排名因素引入。[http://googlewebmastercentral.blogspot.co.uk/2014/08/https-as-ranking-signal.html](http://googlewebmastercentral.blogspot.co.uk/2014/08/https-as-ranking-signal.html)

# ruby-on-rails-3 - 为什么我需要刷新页面才能使 js 工作？

> ID：15127005
> 
> 赞同：1
> 
> 时间：2013-02-28T03:39:14.230
> 
> 标签：ruby-on-rails-3, asset-pipeline

我正在开发一个简单的 Rails 3.2 应用程序，但遇到了意外行为。基本上我必须刷新任何页面才能使 javascript 工作。

这是我的清单

```
//= require jquery
//= require jquery_ujs
//= require turbolinks
//= require jquery.tokeninput
//= require jquery.ui.autocomplete
//= require_tree . 
```

在这里包含到我的模板中

```
<head>
  <%= stylesheet_link_tag    "application", :media => "all" %>
  <%= javascript_include_tag "application" %>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <%= csrf_meta_tags %>
</head> 
```

很标准的东西。

任何人都遇到过同样的问题或知道出了什么问题？

谢谢，祝你有美好的一天。

# winapi - 从加载到内存中的 24 位 BMP 文件中获取 HBITMAP

> ID：15127010
> 
> 赞同：2
> 
> 时间：2013-02-28T03:39:28.023
> 
> 标签：winapi, bitmap

我有一个 24 位 BMP 文件加载到 RAM 中，我正在尝试为这个图像文件创建一个 HBITMAP。我找到了一些我一直在尝试的例子，但似乎无法奏效。基本上，我需要文件的 HBITMAP，以便我可以卸载文件并保留 HBITMAP，以后可以使用 DeleteObject() 处理它。由于这个位图是在我的应用程序中很早就加载的，所以没有应用程序窗口，因此没有 HDC。这是我到目前为止所拥有的：-

```
HBITMAP cBitmap;  // This should be where my bitmap handle ends up.
mem;              // This is a void* pointer to the loaded BMP file

tagBITMAPFILEHEADER bfh = *(tagBITMAPFILEHEADER*)mem;
tagBITMAPINFOHEADER bih = *(tagBITMAPINFOHEADER*)(mem + sizeof(tagBITMAPFILEHEADER));
RGBQUAD rgb = *(RGBQUAD*)(mem + sizeof(tagBITMAPFILEHEADER) + sizeof(tagBITMAPINFOHEADER));

BITMAPINFO bi;
bi.bmiColors[0] = rgb;
bi.bmiHeader = bih;

UINT8* pixels = mem + bfh.bfOffBits;
void* ppv;
HBITMAP hBitmap = CreateDIBSection(NULL, &bi, DIB_RGB_COLORS, &ppv, NULL, 0);
SetDIBits(NULL, hBitmap, 0, bih.biHeight, pixels, &bi, DIB_RGB_COLORS);
GetObject(hBitmap, sizeof(BITMAP), &cBitmap); 
```

出于某种让我感到困惑的原因，cBitmap 最终为 NULL。还有一件事让我感到困惑...... DIB_RGB_COLORS 意味着 BITMAPINFO 有一个指向文字 RGB 值的指针，但它如何处理没有调色板的 24 位图像？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T14:31:22.497

`LoadImage()`如果您从磁盘加载文件，使用`LR_LOADFROMFILE`标志可能最容易。

要创建`HBITMAP`已加载到内存中的文件数据，您可以执行类似以下的操作：

```
HBITMAP ConvertDibToHBitmap(void* bmpData)
{
    HBITMAP hBitmap = NULL;
    BOOL success = FALSE;

    // NOTE: Assumes the BITMAPFILEHEADER is present (not normally the case for
    // an in-memory DIB)
    LPBITMAPFILEHEADER bfh = (LPBITMAPFILEHEADER) bmpData;
    LPBITMAPINFOHEADER bih = (LPBITMAPINFOHEADER) (bfh + 1);
    void *pixels = (char*) (bih + 1); // NOTE: Assumes no color table (i.e., bpp >= 24)

    HDC hdc = GetDC(NULL);
    if (hdc != NULL) {
        hBitmap = CreateCompatibleBitmap(hdc, bih->biWidth, bih->biHeight);
        if (hBitmap != NULL) {
            HDC hdcMem = CreateCompatibleDC(hdc);
            if (hdcMem != NULL) {
                HBITMAP hOldBitmap = (HBITMAP)SelectObject(hdcMem, hBitmap);
                if (StretchDIBits(hdcMem, 0, 0, bih->biWidth, bih->biHeight,
                        0, 0, bih->biWidth, bih->biHeight, pixels,
                        (LPBITMAPINFO) bih, DIB_RGB_COLORS, SRCCOPY) > 0)
                    success = TRUE;

                SelectObject(hdcMem, hOldBitmap);
                DeleteDC(hdcMem);
            }
        }

        ReleaseDC(NULL, hdc);
    }

    if (!success && hBitmap != NULL) {
        DeleteObject(hBitmap);
        hBitmap = NULL;
    }

    return hBitmap;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T17:22:48.273

嗯，不是这样的`GetObject`。用法是

```
GetObject(handle, sizeof(object), &object); 
```

在您的情况下，期望是您将其称为

```
BITMAP bitmap;
GetObject(hBitmap, sizeof(BITMAP), &bitmap); 
```

您没有传递指向`BITMAP`结构的指针，因此行为未定义。

你根本不需要`GetObject`。你已经有了你的`HBITMAP`. 它在`hBitmap`变量中。

```
cBitmap = hBitmap; 
```

# android - Android - 等效于 .NET web.config 转换

> ID：15127017
> 
> 赞同：0
> 
> 时间：2013-02-28T03:40:07.137
> 
> 标签：android, .net

我是 Android 编程新手，想知道是否有与 .NET 的 web.config 转换等效的方法。

我想做的一个例子是将我的 Web 服务 url 存储在一个配置文件中，并根据我是否处于开发/测试/发布模式将它们切换到不同的服务器。

用于存储此类设置的最佳机制是什么？有没有一种方法可以根据我使用的运行配置来更改这些设置？谢谢JP

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T04:50:36.620

Web.config 转换与 .NET 无关。它们是 Visual Studio 中发布系统的实现细节。因此，它们是视觉工作室功能，而不是 .net 功能。

因此，由于 web.config 转换不是 .net 的一部分，它们也不会是 android 的一部分。它们可能是 Eclipse、Titanium Studio 或您正在使用的任何 IDE 的一部分，但我不知道它们中有任何此类功能。

# javascript - 如何使用jquery从某种形式和某种类型访问元素

> ID：15127024
> 
> 赞同：2
> 
> 时间：2013-02-28T03:41:00.283
> 
> 标签：javascript, jquery, jquery-selectors

所以我有一个包含多个表单的页面，我希望能够访问`type="datetime"`特定表单中的输入元素。我知道我可以做到`$('input[type="datetime"]')`，但这会给我页面上的所有输入标签。我也不能使用“form”属性，因为并非所有浏览器都使用它（Sigh IE）。对我来说更糟糕的情况是执行以下操作：

```
$(document.forms["..."].elements).each(function() {
    if (this.type="datetime") {.....}
}); 
```

但我确信这可以通过一个选择器在 jQuery 中完成。有人能告诉我如何用一个选择器做到这一点吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T03:42:55.427

将 id 添加到表单中，然后在该表单中选择 DOM，如下所示。

```
$('#form input[type="datetime"]') 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T03:44:35.380

在没有看到一些 HTML 的情况下，这只是在黑暗中拍摄。但是如果你给你的表格一个 id 你可以这样做：

```
$("#yourFormId input[type='datetime']"); 
```

如果您没有 id，但您知道号码，那么可能会这样做：

```
$("form:eq(4) input[type='datetime']"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T03:51:30.333

有多种方法可以做到这一点

解决方案 1.
使用[后代选择器](http://api.jquery.com/descendant-selector/)
ex：

```
$('#yourform input[type="datetime"]') //or
$('.yourform input[type="datetime"]') //or
$('form:eq(3) input[type="datetime"]') 
```

解决方案 2：使用基于[上下文](http://api.jquery.com/jQuery/#jQuery1)的查找
例如：

```
$('input[type="datetime"]', yourform) 
```

# c++ - What to do when /MT and /MD both required?

> ID：15127026
> 
> 赞同：3
> 
> 时间：2013-02-28T03:41:27.870
> 
> 标签：c++, qt, build, linker, qt-creator

This is a sort of follow-up to [this question](https://stackoverflow.com/questions/15105785/force-order-of-linking-libraries-in-qt-creator) I posted yesterday. My problem regards which runtime C++ libraries to link against. I am using Qt as a framework and QtCreator for my IDE. According to the digia docs [here](http://qt-project.org/faq/answer/why_does_a_statically_built_qt_use_the_dynamic_visual_studio_runtime_librar), Qt has been known to have memory problems when built with the `/MT` flag (which makes your app run against the static runtime libraries). However, I'm also using a 3rd party driver in this app, and the docs on that app specifically say that it won't build unless you link against the static runtime libraries. Sure enough, it compiles fine with the `/MT` flag, but gives me about 40 linker errors when I remove that setting. (and so far I'm only including one header file from the driver's static library)

So my question is: what's the correct thing to do here? Is there a way to force the driver to expect the dynamic runtime library? Or should I live with Qt's memory management problem? Or is there a way to have Qt link against the dynamic ones and the driver (and the parts of Boost that it requires) link against the static ones? (and keep in mind that I'm doing this in QtCreator, not studio)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T12:07:22.103

`/MT`和都是`/MD`链接器选项。如果您正在构建多个模块，则可以有多个选项。

在这种情况下，请使用`/MD`Qt 和您自己的代码。将驱动程序包装在其自己的 DLL 中，使用不依赖于 CRT 的 API，并将该 DLL 与`/MT`. 使用 COM 可能是一种选择。这当然不依赖于 CRT，但它可能是矫枉过正的。

# xpath - xpath：在文本后选择标签

> ID：15127028
> 
> 赞同：2
> 
> 时间：2013-02-28T03:41:34.377
> 
> 标签：xpath

例如，如何通过 xpath 选择文本`strong`后的标签？`baz`

```
<p>
<br>foo<strong>this foo</strong>

<br>bar<strong>this bar</strong>

<br>baz<strong>this baz</strong>

<br>qux<strong>this qux</strong></p> 
```

显然以下不起作用....

```
//p[text() = 'baz']/following-sibling::select[1] 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T04:12:34.783

试试这个

```
//p/text()[. = 'baz']/following-sibling::strong[1] 
```

在这里演示 - [http://www.xpathtester.com/obj/b67bad4d-4d38-4e2d-a3df-b7e5a2e9f286](http://www.xpathtester.com/obj/b67bad4d-4d38-4e2d-a3df-b7e5a2e9f286)

此解决方案不依赖于文本节点周围的空白。如果您开始使用缩进或其他空白字符，您将需要切换到使用以下内容

```
//p/text()[normalize-space(.) = 'baz']/following-sibling::strong[1] 
```

# c++ - Why the interface sqlite3_get_table in SQLite C Interface is not recommended

> ID：15127029
> 
> 赞同：5
> 
> 时间：2013-02-28T03:41:40.423
> 
> 标签：c++, c, sqlite

`sqlite3_get_table` is defined as below:

```
int sqlite3_get_table(
  sqlite3 *db,          /* An open database */
  const char *zSql,     /* SQL to be evaluated */
  char ***pazResult,    /* Results of the query */
  int *pnRow,           /* Number of result rows written here */
  int *pnColumn,        /* Number of result columns written here */
  char **pzErrmsg       /* Error msg written here */
); 
```

As it said in the document, it can get a result table convenient and is implemented as a wrapper around sqlite3_exec().

But it is now not recommended:

> This is a legacy interface that is preserved for backwards compatibility. Use of this interface is not recommended.

But if I use `sqlite3_exec`, I need to write a extra callback function. It is more complex。</p>

So my question is what the main problem of this interface is? Why it need to be deprecated?

For more information see [http://www.sqlite.org/c3ref/free_table.html](http://www.sqlite.org/c3ref/free_table.html).

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T09:15:36.750

问题`sqlite3_get_table`是所有值都转换为字符串，并且必须为所有结果记录分配内存。

您应该使用[sqlite3_prepare_v2](http://www.sqlite.org/c3ref/prepare.html) / [sqlite3_step](http://www.sqlite.org/c3ref/step.html) / [sqlite3_column_xxx](http://www.sqlite.org/c3ref/column_blob.html) / [sqlite3_finalize](http://www.sqlite.org/c3ref/finalize.html)函数。

# javascript - How to Limit Size of Radius With d3.js

> ID：15127031
> 
> 赞同：3
> 
> 时间：2013-02-28T03:41:47.753
> 
> 标签：javascript, d3.js

I'm sure the solution is straight forward, but I'm trying to find out how to limit the range of radius when I plot circles onto a geomap. I have values that range in size significantly, and the larger values end up covering a significant amount of the map.

```
d3.csv("getdata.php", function(parsedRows) {

    data = parsedRows
    for (i = 0; i < data.length; i++) {
      var mapCoords = this.xy([data[i].long, data[i].lat])
      data[i].lat = mapCoords[0]
      data[i].long = mapCoords[1]
    }

    vis.selectAll("circle")
    .data(data)
    .enter().append("svg:circle")
    .attr("cx", function(d) { return d.lat })
    .attr("cy", function(d) { return d.long })
    .attr("stroke-width", "none")
    .attr("fill", function() { return "rgb(255,148,0)" })
    .attr("fill-opacity", .4)
    .attr("r", function(d) { return Math.sqrt(d.count)})
  }) 
```

This is what I have right now.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T04:13:00.973

您可能希望[`scales`](https://github.com/mbostock/d3/wiki/Quantitative-Scales)通过设置`domain`（最小/最大输入值）和`range`（最小/最大输出允许值）来使用 d3。为简化此操作，请毫不犹豫地使用`d3.min`和`d3.max`设置域的值。

`d3.scale`将返回一个函数，您可以在分配`r`属性值时使用该函数。例如：

```
var scale = d3.scale.linear.domain([ inputMin, inputMax ]).range([ outputMin, outputMax ]);
vis.selectAll("circle")
  // etc...
  .attr( 'r', function(d) { return scale(d.count) }); 
```

# ruby-on-rails - undefined method for new specified column

> ID：15127032
> 
> 赞同：0
> 
> 时间：2013-02-28T03:41:51.373
> 
> 标签：ruby-on-rails

I had to create a new migration to add "feet" and "inches" to the profile page so that users can enter their height. I ran the command:

> rails generate migration AddFeetAndInchesToUsers feet:integer inches:integer

thinking that would get it to work and it didn't. I am receiving the error message `

> "undefined method `feet' for #User:0x007fe41dbe9520"

` when trying to view profile page.

I have all the other fields working for my profile page as I have defined them in the user model previously by doing "rails g resource user then-all-my-options-here". But now I need to define feet, inches, religion and religion importance. I'm not understanding how to add to an existing model.

I have added those values to the create_profiles.rb which is in the db folder. Added to profile.rb and user.rb. None of those work. I believe to fix it I need to somehow get it inside user.rb the proper way, as I only typed it into the attr_accessible and I'm sure to properly get "feet, options, and religion options" to work is to go through the terminal first.

User.rb

```
class User < ActiveRecord::Base
  has_secure_password
  attr_accessible :about_me, :feet, :inches, :password, :birthday, :career, :children, :education, :email, :ethnicity, :gender, :height, :name, :password_digest, :politics, :religion, :sexuality, :user_drink, :user_smoke, :username, :zip_code
  validates_uniqueness_of :email
  validates_presence_of :password, :on => :create
  before_create { generate_token(:auth_token) }

  def send_password_reset
    generate_token(:password_reset_token)
    self.password_reset_sent_at = Time.zone.now
    save!
    UserMailer.password_reset(self).deliver
  end

  def generate_token(column)
    begin
      self[column] = SecureRandom.urlsafe_base64
    end while User.exists?(column => self[column])
  end
end 
```

show.html.erb (profile page):

```
<h1><%= @user.username %></h1>

<h2>Basics</h2>

<%= form_for @user do |f| %>

    <div class="field">
        <%= f.label :height %><br/>
        <%= f.select :feet, [['Feet', nil], '4', '5', '6'] %>
        <%= f.select :inches, [['Inches', nil], '0', '1', '2', '3', '4',                    
                                '5', '6', '7', '8', '9', '10', '11'] %>
        </div>
    <div class="field">
        <%= f.label :children %><br/>
        <%= f.select :children, [['Do you have or want kids?', nil], 'Yes, they live with me', 'I want kids now', 'I want one someday', 'Not for me']%>
        </div>
    <div class="field">
        <%= f.label :religion %><br/>
        <%= f.select :religion, [['What is your faith?', nil], 'Agnostic', 'Atheist', 'Christian', 'Catholic', 'Buddhist', 'Hindu', 'Jewish', 'Muslim', 'Spiritual without affiliation', 'Other', 'None', 'Prefer not to say'  ]%><br/>
        <%= f.select :religion, [['How important is this to you?', nil], 'Very Important', 'Somewhat Important', 'Not Important']%>
        </div>
    <div class="field">
        <%= f.label :career %><br/>
        <%= f.text_field :career %>
    </div>
    <div class="field">
        <%= f.label :education %><br/>
        <%= f.select :education, [['What is your education level?', nil], 'High school', 'Some college', 'Undergraduate', "Bachelor's", "Master's ", 'PhD', 'Business school', 'Law school', 'Medical school' ]%>
        </div>
    <div class="field">
        <%= f.label :ethnicity %><br/>
        <%= f.select :ethnicity, [['What is your ethnicity?', nil], 'Asian', 'Black', 'Biracial', 'Indian', 'Hispanic/Latin', 'Middle Eastern', 'Native American', 'Pacific Islander', 'White', 'Other' ]%>
        </div>
        <%= f.label :user_drink %><br/>
        <%= f.select :user_drink, [['How much do you drink?', nil], 'Often Drinks', 'Sometimes drinks', 'Never drinks', 'No comment' ]%>
        </div><br/>
        <%= f.label :user_smoke %><br/>
        <%= f.select :user_smoke, [['How often do you smoke?', nil], 'Often smokes', 'Sometimes smokes', 'Never smokes'] %>
        </div>
    <div class="actions"><%= f.submit %></div>

    <h3>About Me</h3>

    <%= form_for @user do |f| %>

    <div class="field">
        <%= f.label :about_me %><br/>
        <%= f.text_field :about_me %>
    <div class="actions"><%= f.submit %></div>

<% end %>
<% end %> 
```

add_feet_and_inches_to_users.rb (this is in /db folder and was created after I ran the command posted on top of post):

```
class AddFeetAndInchesToUsers < ActiveRecord::Migration
  def change
    add_column :users, :feet, :integer
    add_column :users, :inches, :integer
  end
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T12:14:58.657

我最初遵循了正确的步骤。让我感到困惑的是我在尝试运行 rake db:migrate 时收到的错误。我有重复的列。因此，为了找到重复项，我运行了“grep password_digest db/migrate/*”。作为回报，我向我展示了包含重复内容的文件，我删除了它们，现在我的字段可以工作了。

# php - GDownloadUrl replacement in Gmap V3

> ID：15127035
> 
> 赞同：0
> 
> 时间：2013-02-28T03:42:01.780
> 
> 标签：php, google-maps-api-3

I want to send and receive data from php files. What is the best possible way to do this?

What is the best replacement for `GDownloadUrl` in Google Map V3?

Here is my existing function to check if I inserted successfully:

```
function checkSaveGeoFenceData(data,code)
{
    //var geoFenceDataJson = eval('(' + json + ')'); 

    if(code===200)
    {
        //alert("JSON VALUE : "+data+"test");
        if(data=="SMGFE\n")
        {
            alert("Geo Fence " + 
                document.getElementById("geoFenceName").value + 
                " Already Exist");
        }
        else {
            alert("Successfully Inserted");

            window.opener.location.reload();
            window.close();
        }
    }
    else
    {
        alert("Fail to insert");
    }
} 
```

Existing function to grab data from php:

```
function processtViewData(json)
{
    dataJson = eval('(' + json + ')'); 
    var totalData = dataJson.data1.length;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T07:57:56.473

API V3 中没有与 GDownloadUrl 等效的功能。通过 AJAX 加载数据是一个通用的 javascrip 任务，它并不特定于 API 或谷歌地图。

这是一个可以执行相同操作的函数：

```
function ajaxLoad(url,callback,postData,plain) {
    var http_request = false;

    if (window.XMLHttpRequest) { // Mozilla, Safari, ...
        http_request = new XMLHttpRequest();
        if (http_request.overrideMimeType && plain) {
            http_request.overrideMimeType('text/plain');
        }
    } else if (window.ActiveXObject) { // IE
        try {
            http_request = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                http_request = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {}
        }
    }
    if (!http_request) {
        alert('Giving up :( Cannot create an XMLHTTP instance');
        return false;
    }
    http_request.onreadystatechange =  function() {
        if (http_request.readyState == 4) {
            if (http_request.status == 200) {
                eval(callback(http_request));
            }
            else {
                alert('Request Failed: ' + http_request.status);
            }
        }
    };

    if (postData) { // POST
        http_request.open('POST', url, true);
        http_request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');  
        http_request.setRequestHeader("Content-length", postData.length);
        http_request.send(postData);
    }
    else {
        http_request.open('GET', url, true);
        http_request.send(null);
    }
} 
```

确保您的服务器以`content-type:text/plain`标头响应

用 postdsata 调用它：

```
var postdata = 'a=1&b=2';
ajaxLoad(serverUrl,myCallback,postdata);

function myCallback(req){
var txt = req.responseText;

// optional, if needed to evaluate JSON
    eval(txt);
} 
```

# swt - getting assertion failed on table viewer

> ID：15127036
> 
> 赞同：0
> 
> 时间：2013-02-28T03:42:03.527
> 
> 标签：swt, jface

I am stuck in one of the scenerio. Based on input text field value i click button to display result in tableviewer. Below is the code,

```
btnSearch.addSelectionListener(new SelectionAdapter() {
                    @Override
                    public void widgetSelected(SelectionEvent e) {

                        String plant=text_workplace.getText();

                        IStructuredSelection selection = (IStructuredSelection) m_workplaceViewer
                                .getSelection();
                         workplaceDetail = (WorkplaceDetail) selection.getFirstElement();

                            if (plant!=""){                     
                                workplaceDetail= workplaceDaoImpl.getWorkplaceDetailsSearchByPlant(plant);  

                                }

                         m_workplaceViewer.setInput(workplaceDetail);
                         m_workplaceViewer.refresh();

                        m_bindingContext.updateModels();
                    }
                }); 
```

I am able to get result of query fired on button click in console, but i don get result in table viewer, instead get below exception

org.eclipse.core.runtime.AssertionFailedException: assertion failed: This content provider only works with input of type IObservableList

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:33:46.837

它告诉你错误是什么：你正在打电话

```
m_workplaceViewer.setInput(workplaceDetail); 
```

`workplaceDetail`不是`IObservableList`，并且您正在使用需要`IObservableList`输入的内容提供程序。因此，您可以更改您的内容提供者或从`workplaceDetail`.

# internet-explorer - Respond.JS Not Working in IE 8

> ID：15127040
> 
> 赞同：35
> 
> 时间：2013-02-28T03:42:17.957
> 
> 标签：internet-explorer, css, internet-explorer-8, media-queries, respond.js

For some reason it appears that respond JS isn't working. I am using Media Queries in IE 8 to change background images for various size monitors. In IE 8 there is no background, just a solid color.

The code looks like this:

```
<!--[if lt IE 9]>
 <script type="text/javascript" src="/js/html5-shiv.min.js"></script>
 <script type="text/javascript" src="/js/respond.min.js"></script>
<![endif]--> 
```

The Media Query looks like this:

```
@media (min-width:769px) and (max-width:1366px){
 html, body{
   background: url(/images/backgrounds/1366-bg.jpg)  no-repeat center top fixed #190303;
   background-size:100% auto;
 }
} 
```

Is there a reason the above code would not work in IE 8? Is there another JS that I should try to use to make IE 8 Media Queries Work?

Note: It appears that the html5-shiv does work. I am testing on a live web server.

* * *

## 回答 #1

> 赞同：90
> 
> 时间：2013-05-30T03:47:36.827

同样的问题。我发现这是我的加载顺序问题，因为我内联编写了 CSS，然后我调用了响应 js 脚本，所以它看起来像

`<script type="text/javascript" src="js/respond.min.js"></script>`

`<link rel="stylesheet" type="text/css" href="style.css" media="screen" />`

它应该是

`<link rel="stylesheet" type="text/css" href="style.css" media="screen" />`

`<script type="text/javascript" src="js/respond.min.js"></script>`

**始终在 js 脚本之前链接样式表或编写内联 CSS！**

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2014-01-01T10:53:55.007

这可能是因为您将 CSS 托管在子域或[CDN](http://en.wikipedia.org/wiki/Content_delivery_network)上。

Respond.js 通过[Ajax](http://en.wikipedia.org/wiki/Ajax_%28programming%29)请求 CSS 的原始副本来工作，因此如果您将样式表托管在 CDN（或子域）上，则需要上传代理页面以启用跨域通信。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-09-21T01:11:25.833

我能够完成这项工作，但我必须在`body`标签中插入脚本。

```
<head>
    <!-- Code -->
</head>
<body> 
    <!--[if lt IE 9]>
        <script type="text/javascript" src="/js/respond.min.js"></script>
    <![endif]-->

    <!-- Site Code -->
</body> 
```

我不确定为什么会这样，但它解决了我的问题。

请注意：请参阅[Wen 的回答](https://stackoverflow.com/a/16827602/825757)，因为 response.js 应该在您的 CSS 之后。`head`在我的情况下，它是在 CSS 之后，但由于某种原因它无法正常工作。当插入`body`它时，它按预期工作。

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2014-01-19T10:45:23.087

Respond.JS 是[Bootstrap](https://en.wikipedia.org/wiki/Bootstrap_%28front-end_framework%29)用来在 Internet Explorer 8 中启用媒体查询的工具，[它不处理`@import`文件](https://github.com/scottjehl/Respond#support--caveats)。

> **来自 GitHub 存储库：** Respond.js 不解析通过 @import 引用的 CSS，也不适用于样式元素中的媒体查询，因为无法重新请求解析这些样式。

我必须在标题中加载 bootstrap.css 和任何包含媒体查询的 CSS

```
<link href='css/bootstrap.min.css' rel='stylesheet' type='text/css' media='all' />
<link href='css/media.css' rel='stylesheet' type='text/css' media='all' /> 
```

以下导入方法不起作用：

```
@import "bootstrap.min.css";
@import "media.css"; 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2013-08-20T20:46:28.503

确保您使用的是 localhost 或 Web 服务器。“由于安全限制，某些浏览器可能不允许此脚本在 file:// url 上运行（因为它使用[XMLHttpRequest](http://en.wikipedia.org/wiki/XMLHttpRequest)）。在 Web 服务器上运行它。”

来源：[https ://github.com/scottjehl/Respond](https://github.com/scottjehl/Respond)

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2014-11-02T23:24:05.563

如果您尝试使用[Internet Explorer 11](http://en.wikipedia.org/wiki/Internet_Explorer_11#Internet_Explorer_11)模拟早期版本的 Internet Explorer，请小心。

[Internet Explorer 10](http://en.wikipedia.org/wiki/Internet_Explorer_11#Internet_Explorer_10)及更高版本不支持`IE`条件注释。即使在模拟模式下作为早期版本运行时，Internet Explorer 11 的第一个版本也不支持它们。请参阅*[不再支持条件注释](http://msdn.microsoft.com/en-us/library/ie/hh801214(v=vs.85).aspx)*(MSDN)。

您应该确认您至少拥有 Internet Explorer 11 的第一个更新。如果有疑问，请获取最新的。

*[请参阅通过 F12 开发人员工具模拟文档模式时条件注释不起作用](https://connect.microsoft.com/IE/feedback/details/806767/conditional-comments-do-not-work-when-emulating-document-modes-via-f12-developer-tools)*中的错误修复

以及 Stack Overflow 问题中的讨论*[为什么 Internet Explorer 11 即使在模拟 Internet Explorer 8 文档模式时也不支持条件注释？](https://stackoverflow.com/questions/19446584)*.

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2013-11-13T09:57:53.223

最佳实践是包含 html5shiv.js 和 respond.js 并确保在 localhost 中运行，这样它就可以正常工作。

```
<!--[if lt IE 9]>

    <script src="js/html5shiv.js"> </script>
    <script src="js/respond.min.js"> </script>

<![endif]--> 
```

我希望它会帮助你。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2013-09-13T04:03:26.817

发生此错误是因为脚本“respond.min.js”使用了[Ajax](http://en.wikipedia.org/wiki/Ajax_%28programming%29)或类似的东西。您必须将项目放在本地或远程服务器上，例如[WAMP](http://en.wikipedia.org/wiki/WAMP)或[XAMPP](http://en.wikipedia.org/wiki/XAMPP)。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2016-03-23T09:15:33.640

我只是想补充一点，来自 github 的 example.html 不能在 XP 上为 IE8 开箱即用！

我发现将 github 示例复制到我的服务器时不起作用。我找到的解决方案是，在 XP 中使用 IE8 进行测试时的示例需要 2 处更改！

*   下载并提取[https://github.com/scottjehl/Respond的内容](https://github.com/scottjehl/Respond)

*   在跨域文件夹中打开 example.html 将“rawgithub.com”替换为“rawgit.com”（IE8/xp 在包含 css 文件时不喜欢重定向）

*   将“https”更改为“http”，因为他们使用的 CDN 使用 XP 不支持的 SNI，所以如果您想支持 XP 用户，那么您需要满足这一点！（或者更少你花很多钱在你的 CDN 上获得一个专用 IP）

更改后，该示例一切正常 :-) 希望这可以帮助某人 :-) 下面的工作 example.html 代码：

```
 <!DOCTYPE html>
  <html>
     <head>
        <meta charset="utf-8" />
        <meta http-equiv=”X-UA-Compatible” content=”IE=edge”&gt;
        <meta name=”viewport” content=”width=device-width, initial-scale=1?>
        <title>Respond JS Test Page</title>
        <link href="http://rawgit.com/scottjehl/Respond/master/test/test.css" rel="stylesheet"/>
        <link href="http://rawgit.com/scottjehl/Respond/master/test/test2.css" media="screen and (min-width: 600px)" rel="stylesheet"/>
        <script src="../dest/respond.src.js"></script>
        <!-- Respond.js proxy on external server -->
        <link href="http://rawgit.com/scottjehl/Respond/master/cross-domain/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
        <link href="respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
        <script src="respond.proxy.js"></script>
     </head>
     <body>
        <p>This is a visual test file for cross-domain proxy.</p>
        <p>The media queries in the included CSS file simply change the body's background color depending on the browser width. If you see any colors aside from black, then the media queries are working in your browser. You can resize your browser window to see it change on the fly.</p>
        <p id="attribute-test">Media-attributes are working too! This should be visible above 600px.</p>
     </body>
  </html> 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2014-02-07T19:00:45.533

我通过更正以下几行的顺序解决了这个问题；它们应该按以下顺序排列：

```
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1"> 
```

我最后有 X-UA-Compatible 行，但列布局不起作用，除了在我的本地。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2015-02-28T07:37:45.007

首先，html和html文件的css应该托管在同一个域中，最终可以工作！

其次，

```
<base target="_blank" /> 
```

应该写成

```
<base target="_blank"></base> 
```

我已经尝试了上面提到的所有方法。我们可能会看到以下 [http://scottjehl.github.io/Respond/test/test.html](http://scottjehl.github.io/Respond/test/test.html)的演示 然后我尝试将 css 文件放在 html 文件的同一域中，然后发现它成功了。如果你把html文件中的css，它也无法工作。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2014-10-14T05:59:04.253

Internet Explorer 8 及以下版本只能加载一定数量的 CSS 文件，并且它们只能有一定的最大行数。如果超过这些限制，CSS 将不会加载。尝试将 CSS 内容合并到一个文件中。

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2014-07-16T21:59:51.007

您必须将样式表`<link>`标签放在`<head>`. 即使所有浏览器都会加载和呈现链接`<head>`到`respond.js`.

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2014-09-08T19:58:18.150

我在 Internet Explorer 条件下有以下链接。我不得不把这些脚本从条件中取出。

```
<!--[if lt IE 9]>    
    <script type="text/javascript" src="~/Content/js/html5shiv.js"></script>
    <script type="text/javascript" src="~/Content/js/respond.min.js"></script>
<![endif]--> 
```

替换为：

```
<script type="text/javascript" src="~/Content/js/html5shiv.js"></script>
<script type="text/javascript" src="~/Content/js/respond.min.js"></script> 
```

看起来条件的效果与将这些脚本包含在页脚而不是头部中的效果相同。

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2014-09-11T17:40:00.740

我一直在努力解决这个问题，终于找到了解决方案。我的问题是我们用来存储所有媒体的[CDN 。](http://en.wikipedia.org/wiki/Content_delivery_network)

我搬家了`respond.js`，我的 CSS 文件都在同一个域上，一切都按预期工作。我希望这可以帮助处于类似困境的人。

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2014-11-12T10:46:24.773

也使用**polyfill.io**？

万一这对其他人有帮助，我正在使用[polyfill.io](http://polyfill.io)并在 response.js**之前**加载它。我需要在 response.js 开始工作之后移动它，如下所示：

```
<link rel='stylesheet' href='/css/screen.css' />
<script src='/js/vendor/respond.js'></script>
<script src='http://polyfill.io/'></script> 
```

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2014-02-19T20:14:35.150

我遇到了同样的问题，但是当我将[Modernizr](http://modernizr.com/)包含在我的项目中时，我解决了这个问题。

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2015-04-16T07:24:02.340

我有同样的问题。花了这么多时间后，我意识到这是由 LESS 变量引起的。我覆盖了 Bootstrap 变量以关闭响应功能：

`@grid-float-breakpoint: 0;`

这就是破坏 response.js 的原因。

然后我将其更改为：

`@grid-float-breakpoint: 0px;`

现在它可以工作了。我希望它可以帮助某人。

* * *

## 回答 #19

> 赞同：0
> 
> 时间：2015-07-08T08:51:19.023

就我而言，问题是其中一个 css 文件在服务器上不可用。respond.js 在递归函数中处理 css 文件列表。对于第一个 ajax failure `(req.status !== 200 && req.status !== 304)`，它会默默地失败。我必须修复错误的 css 路径才能使其正常工作。

* * *

## 回答 #20

> 赞同：0
> 
> 时间：2015-08-07T08:31:03.313

如果您通过 file:// 查看页面，则 Respond.js 不起作用
将您的文件夹与服务器一起使用，然后它将起作用，例如[http://localhost/yoursitename/](http://localhost/yoursitename/)。

* * *

## 回答 #21

> 赞同：-4
> 
> 时间：2013-06-15T04:39:08.623

我遇到了同样的问题，并通过`<base>`删除`<head>`. 我在 Stack Overflow 问题*[Respond.js not working in Internet Explorer 7, but H5BP example works](https://stackoverflow.com/questions/16319167)*中找到了解决方案。它可能是由以下原因引起的：

```
<base /> 
```

并不是

```
<base></base> 
```

当没有结束标签时，Internet Explorer 6 - 8（我不确定 9）会抛出一个不稳定的问题。然后所有其他`head`标签成为`<base>`. 一切都变得破碎了：/。

我希望这会有所帮助！

# sql - 如何对多个日期时间求和？

> ID：15127042
> 
> 赞同：0
> 
> 时间：2013-02-28T03:42:47.800
> 
> 标签：sql

我想要多个日期时间的总和值。

**代码**

```
SELECT cs.EmployeeRun, cs.Date, cs.Total, SUM(cs.Total) as Sum
FROM CusSalaryDay cs
WHERE cs.Date Between '2012-12-03' and '2012-12-05'
GROUP BY cs.EmployeeRun, cs.Date, cs.Total
Order By EmployeeRun,Date 
```

**输出**

```
EmployeeRun | Date | Total | Sum
2330005 | 2012-12-03 00:00:00.000 | 600 |   600
2330005 | 2012-12-04 00:00:00.000 | 600 |   600
2330005 | 2012-12-05 00:00:00.000 | 0 | 0
3467951 | 2012-12-03 00:00:00.000 | 600 |   600
3467951 | 2012-12-04 00:00:00.000 | 600 |   600
3467951 | 2012-12-05 00:00:00.000 | 480 |   480 
```

**但我需要输出**

```
EmployeeRun | Date | Sum
2330005 | 2012-12-03 - 2012-12-05 | 1200
3467951 | 2012-12-03 - 2012-12-05 | 1680 
```

谢谢你的时间。:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T03:46:28.487

您只需要从查询中删除`date`and ：`cs.total``group by`

```
SELECT cs.EmployeeRun, min(cs.Date) as MinDate, max(cs.Date) as MaxDate,
       SUM(cs.Total) as SumTotal
FROM CusSalaryDay cs
WHERE cs.Date Between '2012-12-03' and '2012-12-05'
GROUP BY cs.EmployeeRun
Order By EmployeeRun 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T03:46:39.890

这取决于您使用的服务器的风格，但在 MySQL 中，您只需：

```
SELECT
     EmployeeRun,
     Date,
     Total,
     SUM(Total) AS sum
FROM CusSalaryDay
WHERE Date Between
    '2012-12-03'
    AND
    '2012-12-05'
GROUP BY EmployeeRun
Order By
    EmployeeRun,
    Date 
```

格式化一边，只是保持你的`GROUP BY`限制`EmployeeRun`

# c++ - Qt Calling External Python Script

> ID：15127047
> 
> 赞同：7
> 
> 时间：2013-02-28T03:43:08.377
> 
> 标签：c++, qt, qt4, qprocess

I am trying to write a GUI wrapper for one of my command line tools written in Python.
It was suggested to me that I should use Qt.

Below is my project's .cpp file:

```
#include "v_1.h"
#include "ui_v_1.h"
#include<QtCore/QFile>
#include<QtCore/QTextStream>
#include <QProcess>
#include <QPushButton>
v_1::v_1(QWidget *parent) :
    QMainWindow(parent),ui(new Ui::v_1)
    {
        ui->setupUi(this);
    }
    v_1::~v_1()
    {
        delete ui;
    }

void v_1::on_pushButton_clicked()
{
    QProcess p;
    p.start("python script -arg1 arg1");
    p.waitForFinished(-1);
    QString p_stdout = p.readAllStandardOutput();
    ui->lineEdit->setText(p_stdout);
} 
```

Below is my project's header file:

```
#ifndef V_1_H
#define V_1_H
#include <QMainWindow>
namespace Ui {
class v_1;
}

class v_1 : public QMainWindow
{
    Q_OBJECT   
public:
    explicit v_1(QWidget *parent = 0);
    ~v_1();

private slots:
    void on_pushButton_clicked();
private:
    Ui::v_1 *ui;
};

#endif // V_1_H 
```

The UI file is just a Push Button and a LineEdit widget.

I allocated the Push Button a slot when it is clicked. The `on_pushButton_clicked()` method works fine when I call some utilities like `ls` or `ps`, and it pipes the output of those commands to the LineEdit widget, but when I try calling a Python script, it does not show me anything on the LineEdit widget.

Any help would be greatly appreciated.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-21T12:02:52.347

您是否尝试过以下方法：

1.  确保 python 在您的系统路径中
2.  将文档中所述的参数作为 QStringList 传递
3.  测试时将 readAllStandardOutput 更改为 readAll

```
void v_1::on_pushButton_clicked() 
{
    QProcess p;
    QStringList params;

    params << "script.py -arg1 arg1";
    p.start("python", params);
    p.waitForFinished(-1);
    QString p_stdout = p.readAll();
    ui->lineEdit->setText(p_stdout);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-02-22T15:24:58.903

Hunor的回答也对我有用。但我没有使用进程 ID。我做了：

```
void MainWindow::on_pushButton_clicked()
{
   QString path = '/Somepath/mypath';
   QString  command("python");
   QStringList params = QStringList() << "script.py";

   QProcess *process = new QProcess();
   process->startDetached(command, params, path);
   process->waitForFinished();
   process->close();
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2018-02-09T11:21:54.807

对我来说，下面的代码有效：

```
void MainWindow::on_pushButton_clicked()
{
    QString path = QCoreApplication::applicationDirPath();
    QString  command("python");
    QStringList params = QStringList() << "script.py";

    QProcess *process = new QProcess();
    process->startDetached(command, params, path, &processID);
    process->waitForFinished();
    process->close();
} 
```

**路径**：您可以设置自己的路径
**命令**：您要在哪个程序中运行（在本例中为 python）
**参数**：您要执行的脚本
**&processID**用于在主窗口关闭时终止进程

# python - Distribute data of one time series onto another

> ID：15127048
> 
> 赞同：2
> 
> 时间：2013-02-28T03:43:14.023
> 
> 标签：python, pandas

This is a contrived example to keep the data generation easy, but in general this should be a problem applicable to a wide audience.

I have a time-series of measurements like so:

```
In [1]: import pandas as pd

In [2]: index = pd.date_range(start="18:10",periods=20,freq='min')

In [3]: df = pd.DataFrame(randn(20,3),columns=list('abc'),index=index)

In [4]: df.head()
Out[4]: 
                            a         b         c
2013-02-27 18:10:00 -1.344753  0.438351  1.561849
2013-02-27 18:11:00  1.715643  1.601984 -0.027408
2013-02-27 18:12:00 -0.142264 -0.049462  0.482493
2013-02-27 18:13:00  0.132617  0.737902 -0.347620
2013-02-27 18:14:00  1.277257  0.083401  0.649422 
```

In between the 'real' measurements, calibration measurements are being done, but at a much lesser frequency than the measurements, e.g. something like this:

```
In [5]: calindex = pd.date_range("18:12:30",periods=4,freq='5min')

In [6]: caldata = pd.Series([10,20,30,40],index = calindex)

In [7]: caldata
Out[7]: 
2013-02-27 18:12:30    10
2013-02-27 18:17:30    20
2013-02-27 18:22:30    30
2013-02-27 18:27:30    40
Freq: 5T 
```

The general idea now is to apply these calibration data to the measurements. For this, I would like to distribute / broadcast the calibration data by a 'closest-time' approach, so I would like to generate another column called 'offsets' for example, that has *that* calibration value in each row of the measurements that was determined closest in time to the time of each measurement value.

Therefore I am after an end result like this:

```
In [14]: df
Out[14]: 
                            a         b         c  offsets
2013-02-27 18:10:00 -1.344753  0.438351  1.561849       10
2013-02-27 18:11:00  1.715643  1.601984 -0.027408       10
2013-02-27 18:12:00 -0.142264 -0.049462  0.482493       10
2013-02-27 18:13:00  0.132617  0.737902 -0.347620       10
2013-02-27 18:14:00  1.277257  0.083401  0.649422       10
2013-02-27 18:15:00  0.048120  0.421220  0.149372       20
2013-02-27 18:16:00  0.812317 -1.517389  2.035487       20
2013-02-27 18:17:00 -0.058959 -0.034876 -1.535118       20
2013-02-27 18:18:00 -0.666227  0.040208 -1.042464       20
2013-02-27 18:19:00 -0.077031 -0.158351 -0.441992       20
2013-02-27 18:20:00  0.103083 -0.129341  0.294073       30
2013-02-27 18:21:00  0.900802  0.443271 -0.946229       30
2013-02-27 18:22:00  0.744631 -0.058666 -0.386226       30
2013-02-27 18:23:00 -0.064313  0.500321 -0.536237       30
2013-02-27 18:24:00 -0.392653  0.789827  0.000109       30
2013-02-27 18:25:00  1.926765  0.252259 -0.051475       40
2013-02-27 18:26:00 -0.035577  0.559222 -0.290751       40
2013-02-27 18:27:00  1.726165  0.626515 -0.868177       40
2013-02-27 18:28:00  1.269409  1.520980 -0.181637       40
2013-02-27 18:29:00 -1.151166 -0.300196  0.420747       40 
```

The application of values into other columns via .map, .apply, etc. I believe to understand well, it is the apparently required time or offset trickery one needs to do for the distribution of the values that I don't have a clue what to start with.

Should it maybe be attacked with pandas.DateOffsets? Is there machinery to minimize time-deltas inside pandas somewhere?

I would appreciate a nudge into the right direction, doesn't have to be complete at all, just the direction where I need to be going.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T04:54:41.187

我使用 numpy 函数来计算最近的时间位置：

```
from numpy.random import randn
import numpy as np
import pandas as pd

index = pd.date_range(start="18:10",periods=20,freq='min')
df = pd.DataFrame(randn(20,3),columns=list('abc'),index=index)
calindex = pd.date_range("18:12:30",periods=4,freq='5min')
caldata = pd.Series([10,20,30,40],index = calindex)

# if you use numpy 1.7
real_time = df.index.values
cali_time = caldata.index.values

# if you use numpy 1.6
real_time = np.array(df.index.values.view("i8") / 1000, dtype="datetime64[us]")
cali_time = np.array(caldata.index.values.view("i8") / 1000, dtype="datetime64[us]")

right_index = cali_time.searchsorted(real_time, side="left")
left_index = np.clip(right_index - 1, 0, len(caldata)-1)
right_index = np.clip(right_index, 0, len(caldata)-1)
left_time = cali_time[left_index]
right_time = cali_time[right_index]
left_diff = np.abs(left_time - real_time)
right_diff = np.abs(right_time - real_time)
caldata2 = caldata[np.where(left_diff < right_diff, left_time, right_time)]
df["offset"] = caldata2.values 
```

# scheme - Comparing names with equals

> ID：15127049
> 
> 赞同：1
> 
> 时间：2013-02-28T03:43:18.907
> 
> 标签：scheme, racket

How do I compare names such as this case:

```
(if (= name '(bill)) (write-line '(over))) 
```

?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T03:56:40.533

用于测试相等性的过程取决于要比较的操作数的类型。特别是，该`=`过程用于比较*数字*：

```
(= 1 1) 
```

但情况似乎并非如此。如果`name`是一个符号：

```
(symbol=? name 'bill) 
```

如果`name`是一个字符串：

```
(string=? name "bill") 
```

如果`name`是单个字符：

```
(char=? name #\b) 
```

如果名称*在*列表中：

```
(member name '(bill)) 
```

最后，如果您不确定名称的类型，您可以随时使用`equal?`：

```
(equal? name "bill") 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T03:48:12.377

首先，您不太可能希望名称为`'(bill)`，这是一个由单个符号 组成的列表`'bill`。你可能只是想要`'bill`直接。其次，您不能`=`用于符号比较：`=`是用于数字比较。`symbol=?`可能是你想要的：

```
(if (symbol=? name 'bill) ...) 
```

（请注意，这里还有一些其他的相等函数也可以使用，您很可能会看到其他人使用`eq?`或`equal?`代替`symbol=?`这里。）

# sql - 员工表的 SQL 查询

> ID：15127051
> 
> 赞同：0
> 
> 时间：2013-02-28T03:43:22.857
> 
> 标签：sql, vb.net

我需要帮助来编写 SQL 以打印以下内容

表 1：Emp_Master

```
Emp_ID   FirstName
------------------------------
1            John
2            Mark
3            Steve 
```

表 2：Emp_Transaction

```
Trans ID    Emp_ID    Payment_Date  Paid_status
---------------------------------------------------------
1               1             01/07/13         True
2               1             01/15/13         False
3               1             01/21/13         False
4               2             01/07/13         False
5               2             01/15/13         False
6               2             01/21/13         False
7               3             01/07/13         True
8               3             01/15/13         True
9               3             01/21/13         False 
```

结果应该像这样打印（最早的未付日期）

```
Emp_ID   FirstName            Payment_Date        Paid_Status
--------------------------------------------------------------
1             John                  01/15/13           False
2             Mark                  01/07/13           False
3             steve                 01/21/13           Fals 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T03:49:36.297

我的第一个答案过于复杂。这就是你所需要的。

```
SELECT Emp_Master.Emp_ID Emp_ID, FirstName, MIN(Payment_Date) Payment_Date,  Paid_Status
FROM Emp_Master
 INNER JOIN  Emp_Transaction ON Emp_Master.Emp_ID = Emp_Transaction.Emp_ID
WHERE Paid_Status = 'false'
GROUP BY Emp_Master.Emp_ID, FirstName, Paid_Status 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T03:52:58.177

试试这个查询

```
SELECT e.Emp_ID, e.FirstName, min(Payment_Date), et.Paid_Status 
FROM Emp_Master e, Emp_Transaction et
WHERE e.Emp_ID = et.Emp_ID AND et.Paid_Status= 'False' 
GROUP BY  e.Emp_ID, e.FirstName, et.Paid_Status 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T03:46:37.273

试试这个

```
 select model1.Emp_ID  ,
         model1.FirstName ,
         min(model2.Payment_Date) ,
         model2.Paid_Status
         from Emp_Master model1 ,Emp_Transaction model2 
         where model1.Emp_ID  =  model2.Emp_ID GROUP BY  model1.Emp_ID, model2.FirstName; 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-28T03:49:00.007

你可以用`Join`这个。

> 选择 e.Emp_ID, e.FirstName,min(t.Payment_Date) , t.Paid_status from Emp_Master e, Emp_Transaction t 其中 e.Emp_ID = t.Emp_ID 和 t.Paid_Status = 'false';

# java - 在 Java Swing 中将 JPanel 动态添加到另一个 JPanel

> ID：15127056
> 
> 赞同：1
> 
> 时间：2013-02-28T03:43:47.227
> 
> 标签：java, swing, layout, dynamic, netbeans

我对 java swing 很陌生，java 也是如此。我使用 netbeans 的窗口构建器来设计 GUI。我有一个名为 orderListPanel 的 JPanel，其中包括一个名为 orderListRowPanel 的 JPanel。现在，我得到了一个 JPanel 列表，我想将这些 JPanel 插入 orderListPanel。

[http://postimage.org/image/ex00whf69/](http://postimage.org/image/ex00whf69/)
orderListPanel 在中间，orderListRowPanel 和 orderListPanel 一样

[http://postimage.org/image/dbrtn33sj/](http://postimage.org/image/dbrtn33sj/)
现在我想将许多 JPanel 插入 orderListPanel 并使其看起来像一个列表。红色方块是 JPanel 中的组件。

我尝试使用 BorderLayout，当我使用 foreach 循环 orderListPanel.add(List pList) 时，我在 orderListPanel 中看不到任何结果。有人知道如何解决吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T05:18:30.573

不要使用 Netbeans 自动化 GUI 构建器。Java 社区不接受拖放式 GUI 构建技术。您尚未提供代码，因此我们无法进行代码编辑。您的图片不可用。

但是，您可以这样做。这是纯手工代码

```
import java.awt.*;
import java.util.ArrayList;
import javax.swing.*;
import java.util.List;

public class GUIBuilder extends JFrame
{
    private JPanel orderList;
    private JPanel orderListRow;
    private JPanel additionalPanel;

    private List panels = new ArrayList(); //Your List

    private JLabel label1, label2, label3;

    public GUIBuilder()
    {
        label1 = new JLabel("Label 1"); //Create the JLabels
        label2 = new JLabel("Label 2");//Create the JLabels
        label3 = new JLabel("Label 3");//Create the JLabels

        orderList = new JPanel(); //Creating the orderList JPanel
       orderList.setLayout(new BoxLayout(orderList, BoxLayout.Y_AXIS)); //Setting Box layout, and set the direction to Y axis.

        orderListRow = new JPanel(); //Creating the orderListRow JPanel        
        orderListRow.add(label1);

        additionalPanel = new JPanel(); //Creating the additionalPanel JPanel      
        additionalPanel.add(label2);

        orderList.add(orderListRow); //Adding orderListRow into orderList
        orderList.add(additionalPanel); //Adding additionalPanel into orderList

        this.setLayout(new GridLayout(1,1));
        this.add(orderList); //Setting orderList into JFrame

        this.pack(); //Setting JFrame size. This will only take required space
        this.setVisible(true); //Making JFrame Visible
        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); //When you hit the 'X' button, the program will exit
    }

    public static void main(String[]args)
    {
        try
        {
            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName()); //Setting the UI into your native platform UI
            new GUIBuilder(); //Calling your program
        }
        catch(Exception e)
        {
            e.printStackTrace(); //If any error occured in setting up UI, print the stack trace
        }
    }
} 
```

如果您将面板放在列表中，请使用此

```
import java.awt.*;
import java.util.ArrayList;
import javax.swing.*;
import java.util.List;

public class GUIBuilder extends JFrame
{
    private JPanel orderList;
    private JPanel orderListRow;
    private JPanel additionalPanel;

    private List<JPanel> panels = new ArrayList<JPanel>(); //Your List

    private JLabel label1, label2, label3;

    public GUIBuilder()
    {
        label1 = new JLabel("Label 1"); //Create the JLabels
        label2 = new JLabel("Label 2");//Create the JLabels
        label3 = new JLabel("Label 3");//Create the JLabels

        orderList = new JPanel(); //Creating the orderList JPanel
        orderList.setLayout(new BoxLayout(orderList, BoxLayout.Y_AXIS)); //Setting Box layout, and set the direction to Y axis.

        orderListRow = new JPanel(); //Creating the orderListRow JPanel        
        orderListRow.add(label1);
        panels.add(orderListRow); // Add the panel to the List

        additionalPanel = new JPanel(); //Creating the additionalPanel JPanel      
        additionalPanel.add(label2);
        panels.add(additionalPanel); // Add the panel to the List

        for(int i=0;i<panels.size();i++)
        {
            orderList.add(panels.get(i));
        }

        this.setLayout(new GridLayout(1,1));
        this.add(orderList); //Setting orderList into JFrame

        this.pack(); //Setting JFrame size. This will only take required space
        this.setVisible(true); //Making JFrame Visible
        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); //When you hit the 'X' button, the program will exit
    }

    public static void main(String[]args)
    {
        try
        {
            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName()); //Setting the UI into your native platform UI
            new GUIBuilder(); //Calling your program
        }
        catch(Exception e)
        {
            e.printStackTrace(); //If any error occured in setting up UI, print the stack trace
        }
    }
} 
```

# ios - UITableViewCell _tableView 属性？

> ID：15127060
> 
> 赞同：0
> 
> 时间：2013-02-28T03:44:13.307
> 
> 标签：ios, objective-c, cocoa-touch, uitableview

我正在尝试实现一个自定义`UITableViewCell`，我希望从单元子类访问父 tableView。我正在创建一个允许我指定 tableview 的自定义 init 方法，但遇到了一个错误。

我尝试声明一个 iVar，`__weak UITableView *_tableView;`但是，我收到一个错误，指出它是重复声明。我查看了`UITableViewCell`头文件，果然，有一个声明

```
@private
    UITableView *_tableView; 
```

这很棒，因为我假设 iOS 会为我设置这个，但是我想知道我是否被允许使用它，或者这是否是让我的应用程序被拒绝的那些事情之一。没有这方面的文档，我也没有在网上找到任何提及。

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T03:48:35.880

您不尝试访问私有 ivar 是对的。我建议也不要费心传递超级视图，而只需使用表格单元格可用的内容来找到它的封闭`tableView`

UIView+mytable.h：

```
#import <UIKit/UIKit.h>

@interface UIView (mytable)

- (UITableView *)mySuperTableView;

@end 
```

UIView+mytable.m:

```
#import "UIView+dsltable.h"

@implementation UIView (dsltable)

- (UITableView *)mySuperTableView
{
    if ( [self isKindOfClass: [UITableView class]] )
        return (UITableView *)self;
    return [self.superview mySuperTableView];
}

@end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T03:50:34.093

不，您无法访问未记录的私有 ivar。您要么需要使用不同的名称添加您的 ivar，要么通过获取单元格的超级视图来获取表格视图。

# c# - 暂停布局和恢复布局的区别

> ID：15127064
> 
> 赞同：0
> 
> 时间：2013-02-28T03:44:38.910
> 
> 标签：c#, winforms

所以我阅读了以下线程[为什么使用 suspendLayout](https://stackoverflow.com/q/3838315/139698)。所以我想我会创建一个小例子来证明我的概念。但是，它不起作用。我只看到“第 2 部分已完成”。请指教。

```
 private void button1_Click(object sender, EventArgs e)
    {
        this.SuspendLayout();
        lblStatus.Text = "Part 1 completed";
        this.ResumeLayout();

        System.Threading.Thread.Sleep(5000);

        this.SuspendLayout();
        lblStatus.Text = "Part 2 completed";
        this.ResumeLayout();            
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T05:47:03.467

您已阻止 UI 线程执行`Thread.Sleep()`（例如处理 WM_SETTEXT 消息），因此它无法更新 UI 以*显示*“第 1 部分已完成”。它只能在 UI 线程恢复后自行刷新，并且到那时您已要求它显示“第 2 部分已完成”

如果您想模拟更改文本框值之间的时间段，您可以使用`Timer`. 例如：

```
private void button1_Click(object sender, EventArgs e)
{
    this.SuspendLayout();
    label1.Text = "Part 1 completed";
    this.ResumeLayout();
    timer.Interval = 5000;
    timer.Start();
}

private void timer_Tick(object sender, EventArgs e)
{
    timer.Stop();
    this.SuspendLayout();
    label1.Text = "Part 2 completed";
    this.ResumeLayout();
} 
```

# objective-c - 菜单栏应用程序永远不会重新激活

> ID：15127065
> 
> 赞同：8
> 
> 时间：2013-02-28T03:44:59.737
> 
> 标签：objective-c, macos, menubar, appkit

我正在构建一个 Mac 应用程序，它只位于菜单栏中，没有停靠项，没有键窗口，也没有主菜单（它`LSUIElement`在 info.plist 中设置为`YES`）。正如我所料，当我第一次启动该应用程序时，`applicationDidBecomeActive:`它会被调用。但是，一旦另一个应用程序获得焦点，`applicationDidBecomeActive:`就再也不会被调用。

这可以防止我的应用程序中的文本字段成为第一响应者。当我第一次打开应用程序时，文本字段是可编辑的：

![在另一个应用程序获得焦点之前](../Images/3626bff3f0f0e860718b6eec36376535.png)

但是在另一个应用程序进入前台后，文本字段不可编辑：

![在另一个应用程序获得焦点之后](../Images/d9023af30369a7ca8b11d56e9d5f4876.png)

### 我试过的：

打开菜单时，在的委托`menuWillOpen:`上调用。`NSMenu`我尝试放置以下内容但没有成功：

```
[NSApp unhide];
[NSApp arrangeInFront:self];
[NSApp activateIgnoringOtherApps:YES];
[NSApp requestUserAttention:NSCriticalRequest];
[[NSRunningApplication currentApplication] activateWithOptions:NSApplicationActivateIgnoringOtherApps];
[[NSRunningApplication currentApplication] unhide]; 
```

我认为这个问题可能与没有任何窗户可以放在前面有关。我觉得我在这里抓住了稻草。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T16:37:05.320

我认为问题在于运行循环在 a`NSMenu`打开时如何运行，因此您应该在显示菜单之前尝试激活应用程序。如果您要`NSStatusItem`显示它，我建议您自己这样做：

```
- (void)toggleMenu:(id)sender
{
  // App might already be active
  if ([NSApp isActive]) {
    [self.statusItem popUpStatusItemMenu:self.menu];
  } else {
    [NSApp activateIgnoringOtherApps:YES];
  }
}

- (void)applicationDidBecomeActive:(NSNotification *)notification
{
  [self.statusItem popUpStatusItemMenu:self.menu];
} 
```

这应该可行，但我认为总的来说，使用实际窗口而不是菜单会更好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T09:19:24.380

试着`-makeFirstResponder:`在你的窗户上打电话。NSWindow 通常是 NSResponder 链的开始。

```
- (void)menuWillOpen:(NSMenu *)menu {
    [[NSApp mainWindow] makeFirstResponder:yourTextInputField];
} 
```

我假设您的文本字段已经接受了第一响应者，因为您说您的应用程序最初以它作为第一响应者启动。如果没有，请确保您的文本字段覆盖`-acceptsFirstResponder:`以返回`YES`

```
- (BOOL)acceptsFirstResponder {
    return YES;
} 
```

编辑：啊，看到你没有关键窗口。看起来 NSMenu 实际上有一个与之关联的窗口，并且可以安全地调用`-makeFirstResponder:`. [这里](http://www.cocoabuilder.com/archive/cocoa/195835-set-focus-on-nsview-in-an-nsmenuitem.html)的一些讨论建议覆盖`-viewDidMoveToWindow:`您的视图，其中包含 NSMenu 中的文本字段，如下所示：

```
- (void)viewDidMoveToWindow {
    [super viewDidMoveToWindow];

    [[self window] makeFirstResponder:yourTextInputField];
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-28T03:51:46.133

您可能需要允许您的输入`-becomeFirstResponder`，可能是通过覆盖`-canBecomeFirstResponder`或自己调用 become 方法。

您可能必须为包含您的文本输入的任何视图实现/调用这些方法，或者可能告诉您的输入视图成为第一响应者。

无论哪种方式，它都像是一个响应链问题。

# oauth - 安全复制的分步说明？

> ID：15127066
> 
> 赞同：4
> 
> 时间：2013-02-28T03:45:00.140
> 
> 标签：oauth, couchdb, replication

不确定问题是否应该在[ServerFault](https://serverfault.com/search?q=[couchdb]+replication)上？

我在我的服务器上使用[Apache 凭据](http://www.wissel.net/blog/d6plinks/SHWL-948KKJ)设置了 couchDB （但如果分散注意力，我可以将其关闭）。
我在各种笔记本电脑上有本地实例。现在我想设置安全（连续）复制。据我了解，我可以使用用户名/密码、SSL 证书或 OAuth。我找到了一些信息：

*   [关于 serverFault 的 SSL 问题](https://serverfault.com/questions/456320/how-to-configure-ssl-for-couchdb)
*   [关于复制的 WIKI 条目](http://wiki.apache.org/couchdb/Replication#New_features_introduced_in_CouchDB_1.2.0)
*   [如何](http://wiki.apache.org/couchdb/How_to_replicate_a_database)在 wiki中进行复制
*   [1.2 复制的要点](https://gist.github.com/832610)
*   [复制算法](https://github.com/couchbaselabs/TouchDB-iOS/wiki/Replication-Algorithm)

所有这些文件都增加了一种预感，但也令人困惑（我只是一个[简单的头脑](http://en.wikipedia.org/wiki/Winnie-the-Pooh)）。

我正在寻找的是分步说明：

*   OAuth 或 SSL 证书的优缺点（可选讨论）
*   设置 SSL 组件的步骤 说明**：**我不是在寻找 SSL 传输安全性——这对于[Apache HTTP](http://httpd.apache.org/docs/2.2/ssl/ssl_faq.html)和 CouchDB 来说并不复杂并且记录良好。我正在寻找的是**使用证书进行身份验证**，类似于您可以在 SSH 中执行的操作。我在 OAuth 中看到的潜在问题：管理员拥有对凭据 (?) 的完全访问权限。使用证书方法，他无法冒充用户，因为私钥不受管理员控制。
*   设置 OAuth 的步骤
*   每个用户的示例复制文档使用带有一些文档的本地副本并共享一个单线

我在哪里可以找到那个？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T07:07:34.380

用户凭据的安全传输是一个非常微妙的问题。

如果我们不考虑第三方，在大多数情况下，SSL 是更好的起点，因为它得到了您可能使用的每个工具的广泛支持。SSL 证书，不仅提供加密（甚至是自签名的），还提供用户请求正确资源的保险。如果您关心服务器安全性，最后一个选项也值得强调。SSL 使用的主要缺点是性能下降（因使用的算法而异），因为服务器必须解密数据，客户端需要验证证书以及常见的通信例程。此外，您还必须为受信任的证书支付一些钱（[并非总是如此](https://www.startssl.com/?app=40)）。

使用 OAuth 允许不泄露真实的用户凭据并轻松地从服务器端维护他们的访问控制。此外，您需要一些能够正确处理 OAuth 1.0 规范的库，如果您的平台缺少此类库 - 您必须自己实现它。此外，OAuth 提供传输数据签名，因此它旨在确保 MiTM 案例的安全。这实际上就是他所做的一切。

正如您所注意到的，SSL 和 OAuth 是关于两个不同的事情：SSL 有助于在传输级别 (TLS) 上加密数据，而 OAuth 负责在非安全环境中泄露凭据。它们不能相互替代，但它们中的每一个都可以作为彼此的补充。

要为 CouchDB 设置 SSL 支持，只需遵循[文档指南](http://couchdb.readthedocs.org/en/latest/ssl.html)。这很简单，也很容易做到。请注意，如果 CouchDB 前面有一些代理服务器，最好为他设置 SSL 并通过常规 HTTP 协议将数据代理到本地 CouchDB 实例。

要设置 OAuth，需要执行以下步骤： 0\. 确保`{couch_httpd_oauth, oauth_authentication_handler}`存在处理程序以用于配置文件的部分`authentication_handlers`选项：`[httpd]``default.ini`

[httpd] authentication_handlers = {couch_httpd_oauth, oauth_authentication_handler}, {couch_httpd_auth, cookie_authentication_handler}, {couch_httpd_auth, default_authentication_handler}

之后，您需要通过以下方式编辑`local.ini`文件：

1.  设置消费者秘密：

```
[oauth_consumer_secrets] 
example.org = sekr1t 
```

1.  设置令牌秘密：

```
[oauth_token_secrets] 
token1 = tokensekr1t 
```

1.  将令牌映射到现有的 CouchDB 用户：

```
[oauth_token_users] 
token1 = joe 
```

就这样！如果您有 CouchDB 1.2 或更高版本，您还可以在数据库内的用户文档中定义 OAuth 凭据`_users`：

```
{
    "_id": "org.couchdb.user:joe",
    "type": "user",
    "name": "joe",
    "password_sha": "fe95df1ca59a9b567bdca5cbaf8412abd6e06121",
    "salt": "4e170ffeb6f34daecfd814dfb4001a73"
    "roles": ["foo", "bar"],
    "oauth": {
        "consumer_keys": {
            "example.org": "sekr1t",
            "consumerKey2": "key2Secret"
        },
        "tokens": {
            "token1": "tokensekr1t",
            "token2": "token2Secret"
       }
    }
} 
```

现在，当我们为用户*joe*设置 OAuth 凭据时，让我们开始复制。为了让 CouchDB 使用 OAuth 凭据，我们需要扩展`source`或`target`字段，具体取决于哪一方将授权我们的用户：

```
{
    "source": "mailbox",
    "target": {
        "url": "https://secure.example.org/mailbox",
        "auth": {
            "oauth": {
                "consumer_secret": "sekr1t", 
                "consumer_key": "example.org", 
                "token_secret": "tokensekr1t", 
                "token": "token1" 
            }
        } 
    } 
} 
```

并将`POST`此数据用于`_replicate`资源或为`_replicator`数据库创建文档。复制将使用 SSL 协议加密从本地服务器开始到远程服务器`secure.example.org`，所有操作都将针对登录的远程用户`joe`。

总结：SSL 和 OAuth 的结合不仅可以保护传输的数据（不仅是用户凭据）并确保目标服务器没有被伪造，还可以保护真实用户登录名和密码不被意外泄露，控制消费者来源（例如，如果`example.org`将妥协，我们只能删除他的消费者令牌，但不能强制用户更改他的密码）和签名请求以额外保护免受中间人攻击。

**更新**：对于您的情况，常规 SSL 证书例程是可以的：您需要创建由您自己签名的个人证书，并让客户端设置以进一步使用您的 CouchDB。CouchDB 方面唯一需要的是在处理连接之前验证证书。但请注意，自定义个人 SSL 证书安装可能[并非易事](http://tig.csail.mit.edu/wiki/TIG/IPhoneCertsInstall)，尤其是对于移动客户端。

说到 OAuth 方面，CouchDB*可能会*使用 RSA-SHA1 身份验证方法，该方法使用某种个人证书作为秘密。但是，您需要先修补源才能解锁此方法 - 默认情况下禁用。

# javascript - 如何添加类似 onhashchange 的东西，但对于 href

> ID：15127070
> 
> 赞同：0
> 
> 时间：2013-02-28T03:45:06.533
> 
> 标签：javascript, html

当`onhashchange`链接是“#somewhere”时非常有用，但想要一些东西`location.href`而不是仅仅`location.hash`

如果我可以通过 Ajax 处理请求，那么将重新加载页面的一部分。否则将遵循链接。

希望页面顶部位置的 url 反映点击的链接。

这可能吗？

如果网站是 www.example.com/sub1/page1

如果用户点击 www.example.com/sub1/page2，我可以在 Ajax 中处理这个问题。我将重绘部分页面。我希望页面顶部的地址栏显示 www.example.com/sub1/page2

如果用户点击 www.example.com/sub1/page3，我无法在 Ajax 中处理它。我希望 href 表现得正常。

所以我需要抓取更改`location.href`并允许或禁止浏览器以默认方式运行

# c# - 从 Visual Studio 连接到 SQL Server Express

> ID：15127073
> 
> 赞同：3
> 
> 时间：2013-02-28T03:45:25.907
> 
> 标签：c#, visual-studio-2010, sql-server-2008, sql-server-express, database-connectivity

我已经安装了带有 Visual Studio 2010 的 SQL Server 2008，我已经下载了一个项目，其中包含在 Visual Studio 项目本身中创建的数据库文件，现在我想连接到该数据库。

我尝试更改连接字符串但无法连接到数据库。

谁能告诉我如何连接到数据库，我的机器上安装了 SQL Server 2008 (10.0.1600.22)

**更新的连接字符串**：

这是我正在使用的连接字符串

```
Data Source=SQLEXPRESS\;Initial Catalog=INVENTORY;uid=xxx;pwd=xxx 
```

`xxx\xxx`我的机器和我安装的 SQL Server 实例名称分别在哪里。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T04:50:36.137

你在使用 C# 吗？

尝试这个：

```
using namespace System.Data.SqlClient;

SqlConnection con = new SqlConnection("Data source = [ip]; Initial catalog = [db name]; User id = [user name]; password = [password]");

con.Open(); 
```

在 con.Open() 处设置断点，如果成功并通过了这一行，则表示你已经成功连接到数据库。

之后，您可能想要执行 SQL 命令试试这个：

```
 SqlCommand cmd = new SqlCommand("[command]", con);

        // if the command has no return value
        cmd.ExecuteNonQuery();
        //else you might want a Sql data reader to read the return value
        SqlDataReader read = cmd.ExecuteReader();
        while(read.Read())
    {
//do something
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-07-29T22:13:23.407

要连接到在 SQL Server 中创建的数据库文件，请在 Visual Studio 中打开 web.config 文件并执行以下操作：

1.  `<connectionString>`在标签内打开一个`<configuration>`标签。
2.  在`<connectionString>`标签之间粘贴以下内容。

```
<add name="NameofConnectionString" connectionString="server=YourServerInstanceName; database=DatabaseName; integrated security=SSPI" providerName="System.Data.SqlClient"/>
```

3.  刷新 Visual Studio 中的服务器资源管理器以连接到数据库

希望这可以帮助！

# fortran - 在 (1) 处的表达式中需要一个右括号

> ID：15127074
> 
> 赞同：2
> 
> 时间：2013-02-28T03:45:26.150
> 
> 标签：fortran, gfortran

我正在尝试在 gfortran 中编译以下代码：

```
 INTEGER F(10),G(14),LUN(5)
  DIMENSION MESSG(NMESSG) 
  DATA F(1),F(2),F(3),F(4),F(5),F(6),F(7),F(8),F(9),F(10) 
 1   / 1H( ,1H1 ,1HX ,1H, ,1H  ,1H  ,1HA ,1H  ,1H  ,1H) / 
  DATA G(1),G(2),G(3),G(4),G(5),G(6),G(7),G(8),G(9),G(10) 
 1   / 1H( ,1H1 ,1HX ,1H  ,1H  ,1H  ,1H  ,1H  ,1H  ,1H  / 
  DATA G(11),G(12),G(13),G(14)
 1   / 1H   ,1H   ,1H   ,1H)  / 
  DATA LA/1HA/,LCOM/1H,/,LBLANK/1H / 
```

我收到以下错误：

错误：在 (1) 处的表达式中应有右括号：

```
 1   / 1H( ,1H1 ,1HX ,1H, ,1H  ,1H  ,1HA ,1H  ,1H  ,1H) /           
                                                      1 
```

错误中引用的行是代码片段的第四行。有谁知道我的问题是什么？我知道这确实是旧代码，但我在科学应用程序中继承了它，需要让它工作。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T04:03:08.800

您的旧代码使用 Hollerith H 将字符值放入整数变量中。更现代的 Fortran 可能是：

```
character*10 F
DATA  F / "(1X,  A  )" / 
```

更现代：

```
character (len=10) :: F = "(1X,  A  )" 
```

但这些正在改变 F 的类型，这将影响其余代码。因此，使用这些更改将需要其他重写，但如果它是我的代码，我会考虑它，考虑到问题代码部分的陈旧和不可读性。如果工作量太大，我可以使用 gfortran 编译以下内容：

```
 program f2
  INTEGER F(10),G(14),LUN(5)
  DATA F(1),F(2),F(3),F(4),F(5),F(6),F(7),F(8),F(9),F(10)
 $  / 1H( ,1H1 ,1HX ,1H, ,1H  ,1H  ,1HA ,1H  ,1H  ,1H) /
  DATA G(1),G(2),G(3),G(4),G(5),G(6),G(7),G(8),G(9),G(10), G(11),G(12),G(13),G(14)
 $  / 1H( ,1H1 ,1HX ,1H  ,1H  ,1H  ,1H  ,1H  ,1H  ,1H   ,1H   ,1H   ,1H   ,1H)  /
  DATA LA/1HA/,LCOM/1H,/,LBLANK/1H /
  end 
```

和

```
gfortran-mp-4.7  -O3  -ffixed-form  -ffixed-line-length-none  -std=legacy f2.f 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T04:13:56.463

这些`1H`东西被称为 Fortran 66 时代的 Hollerith 常量，其中 1 表示常量的源代码字符长度，然后常量的实际值是该字符数（包括空格）的编码形式H. 他们是出了名的容易出错。

您的代码使用固定格式的源代码。这也是出了名的容易出错。

也就是说，在调整了领先的固定格式源列的丢失之后，您的代码在此处使用最新版本的 gfortran 编译。使用 Hollerith 常量 - 所需要的只是一个空白位置 - 事情可能会严重破裂。

（具有讽刺意味的是，使用固定格式的源代码，您通常可以随意丢弃空白 - 使这两种语言功能的交集相当特别......）

就其价值而言，F 和 G 的编码数据看起来像简单的格式说明符。在“现代”Fortran 中（好吧，自 1977 年以来！）您只需使用字符变量来分别保存 F 和 G 的格式`(1X,A)`和`(1X)`（省略空格）。其他变量看起来像简单的字符常量（`A`、逗号和空白） - 可能用于构建更大的格式说明符。

如果我必须维护它，至少将代码带入耀斑和奇怪颜色的时代将在我的优先事项列表中占据很高的位置。

# iis - 通过 Azure 云服务 RDP 访问现有的 Azure 网站

> ID：15127075
> 
> 赞同：1
> 
> 时间：2013-02-28T03:45:27.773
> 
> 标签：iis, azure, azure-web-app-service

鉴于：

*   使用 Azure 网站执行模型创建的几个网站。
*   没有 RDP 访问，因为 Azure 网站不提供它。

*   可以在 Azure 上安装/创建云服务。Cloud Service 确实拥有对其网站的 RDP 访问权限。

问题：

是否可以通过 RDP on Cloud Service 访问现有网站？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T05:32:20.803

假设您已经在 Azure 云服务中部署了站点并启用了 RD，您可以很好地查看其下站点的设置和配置。

但是，如果您进行任何更改，它可能不会反映到设置中，因为 Azure 云服务是非持久性的，并且在任何数据中心活动（如负载平衡）期间，结构控制器可能只是拉出您的实例并在其他实例中重新部署。在此过程中，您的所有更改都将丢失，并且 cscsf 和 cscfg 的原始包将在部署期间使用。

# git - Git Pull 是不可能的，未合并的文件

> ID：15127078
> 
> 赞同：98
> 
> 时间：2013-02-28T03:45:40.890
> 
> 标签：git

我已经阅读了所有类似的问题；以下似乎都没有奏效：

```
Delete offending files
git reset --hard HEAD
git stash
git pull 
```

几乎所有组合，存储更改和从存储库中提取，都会导致文件不可合并。我想放弃所有本地更改并只使用遥控器，但我无法再次克隆（开发人员试图这样做的带宽和互联网使用限制）。我该怎么做呢？

刚试过：

```
git stash
git pull 
```

也没有工作。

**更多信息**

有一个本地提交，上游也有一个提交。我因此尝试过`git pull --rebase`，但它仍然无法正常工作......这给了我错误 - “由于未解决的冲突而退出”。如果我这样做`git stash, git reset --hard HEAD, git pull --rebase`，我会收到错误“无法拉取，未合并的更改......”

* * *

## 回答 #1

> 赞同：218
> 
> 时间：2013-02-28T06:51:05.853

假设远程是`origin`，分支是`master`，并且说您已经`master`签出，可以尝试以下操作：

```
git fetch origin
git reset --hard origin/master 
```

这基本上只是将当前分支指向`HEAD`远程分支。

**警告**：如评论中所述，**这将丢弃您的本地更改**并**用 origin 上的任何内容覆盖**。

或者您可以使用管道命令来执行基本相同的操作：

```
git fetch <remote>
git update-ref refs/heads/<branch> $(git rev-parse <remote>/<branch>)
git reset --hard 
```

编辑：我想简要解释一下为什么会这样。

该`.git`文件夹可以保存任意数量的存储库的提交。由于提交哈希实际上是对提交内容的一种验证方法，而不仅仅是一个随机生成的值，它用于匹配存储库之间的提交集。

分支只是指向给定哈希的命名指针。这是一个示例集：

```
$ find .git/refs -type f
.git/refs/tags/v3.8
.git/refs/heads/master
.git/refs/remotes/origin/HEAD
.git/refs/remotes/origin/master 
```

这些文件中的每一个都包含一个指向提交的哈希：

```
$ cat .git/refs/remotes/origin/master
d895cb1af15c04c522a25c79cc429076987c089b 
```

这些都是 git 内部的存储机制，独立于*工作目录工作*。通过执行以下操作：

```
git reset --hard origin/master 
```

git 会将当前分支指向与 origin/master 指向的相同的哈希值。然后它强制更改工作目录以匹配该哈希处的文件结构/内容。

要在工作中看到这一点，请继续尝试以下操作：

```
git checkout -b test-branch
# see current commit and diff by the following
git show HEAD
# now point to another location
git reset --hard <remote>/<branch>
# see the changes again
git show HEAD 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-28T03:52:17.890

我很幸运

```
git checkout -f <branch> 
```

在类似的情况下。

[http://www.kernel.org/pub//software/scm/git/docs/git-checkout.html](http://www.kernel.org/pub//software/scm/git/docs/git-checkout.html)

[在 GIT 中撤消删除](https://stackoverflow.com/questions/9477702/undo-delete-in-git)

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-02-28T04:24:51.103

已解决，使用以下命令集：

```
git reset --hard
git pull --rebase
git rebase --skip
git pull 
```

诀窍是重新调整更改...我们在重新调整一个微不足道的提交时遇到了一些麻烦，所以我们只是使用 git rebase --skip 跳过它（在复制文件之后）。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2017-12-18T10:25:16.077

如果您在运行 a 后碰巧遇到此问题，然后 git由于合并冲突`git fetch`而不允许您运行（*修改/未合并的文件*，为了让您更加沮丧，它不会在文件，因为它尚未合并）。如果您不想丢失您的工作，您可以执行以下操作。`git pull`

 *暂存文件。

```
$ git add filename 
```

然后存储本地更改。

```
$ git stash 
```

拉取并更新您的工作目录

```
$ git pull 
```

恢复你本地修改过的文件（如果可以的话git会自动合并，否则解决）

```
$ git stash pop 
```

希望它会有所帮助。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2018-12-10T22:17:47.113

即使您不想删除本地更改，也有解决方案。只需修复未合并的文件（通过`git add`或`git remove`）。然后做`git pull`。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-02-28T03:58:23.550

假设您想丢弃您所做的任何更改，请首先检查`git status`. 对于旁边显示“未合并”的任何文件，运行`git add <unmerged file>`. 然后跟进`git reset --hard`。这将消除除未跟踪文件之外的任何本地更改。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2016-06-01T05:55:07.310

我用 git remove the unmerged file 在本地解决了。

```
$ git rm <the unmerged file name>
$ git reset --hard
$ git pull --rebase
$ git rebase --skip
$ git pull
Already up-to-date. 
```

当我之后发送 git commit 时：

```
$ git commit . -m "my send commit"
On branch master
Your branch is up-to-date with 'origin/master'.
nothing to commit, working directory clean 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2017-12-04T17:43:16.293

瑞恩斯图尔特的答案几乎就在那里。如果您实际上*不想*删除本地更改，可以使用一个工作流程来合并：

*   运行`git status`。它会给你一个未合并文件的列表。
*   合并它们（手动等）
*   跑`git commit`

Git 只会将*合并*提交到新的提交中。（在我的情况下，我在磁盘上添加了额外的文件，这些文件没有归入该提交。）

Git 然后认为合并成功并允许您继续前进。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2021-12-16T10:38:45.743

尝试查找有合并冲突的文件：

```
git diff --name-status --diff-filter=U 
```

解决文件冲突，而不是将这个文件添加到提交（即使文件被删除）

```
git add path/to/file.name 
```

在此之后，如果没有合并冲突文件，请尝试提交。*

# java - 在 CDH4 示例上运行 map reduce 作业

> ID：15127082
> 
> 赞同：0
> 
> 时间：2013-02-28T03:46:17.250
> 
> 标签：java, hadoop, mapreduce

我是 CDH4 和 Hadoop 的新手。

我正在尝试运行 wordcountexample 并收到以下错误。您能否纠正我并让我知道问题所在：

```
WordCount.java:25: interface expected here
            public static class Map extends MapReduceBase implements Mapper<LongWritable, Text, Text, IntWritable> {
                                                                           ^
WordCount.java:39: interface expected here
            public static class Reduce extends MapReduceBase implements Reducer<Text, IntWritable, Text, IntWritable> {
                                                                               ^
WordCount.java:56: setMapperClass(java.lang.Class<? extends org.apache.hadoop.mapred.Mapper>) in org.apache.hadoop.mapred.JobConf cannot be applied to (java.lang.Class<WordCount.Map>)
              conf.setMapperClass(Map.class);
                  ^
WordCount.java:57: setCombinerClass(java.lang.Class<? extends org.apache.hadoop.mapred.Reducer>) in org.apache.hadoop.mapred.JobConf cannot be applied to (java.lang.Class<WordCount.Reduce>)
              conf.setCombinerClass(Reduce.class);
                  ^
WordCount.java:58: setReducerClass(java.lang.Class<? extends org.apache.hadoop.mapred.Reducer>) in org.apache.hadoop.mapred.JobConf cannot be applied to (java.lang.Class<WordCount.Reduce>)
              conf.setReducerClass(Reduce.class);
                  ^
WordCount.java:60: setInputFormat(java.lang.Class<? extends org.apache.hadoop.mapred.InputFormat>) in org.apache.hadoop.mapred.JobConf cannot be applied to (java.lang.Class<org.apache.hadoop.mapreduce.lib.input.TextInputFormat>)
              conf.setInputFormat(TextInputFormat.class);
                  ^
WordCount.java:63: cannot find symbol
symbol  : method setInputPaths(org.apache.hadoop.mapred.JobConf,org.apache.hadoop.fs.Path)
location: class org.apache.hadoop.mapreduce.lib.input.FileInputFormat
              FileInputFormat.setInputPaths(conf, new Path(args[0]));
                             ^
WordCount.java:64: setOutputPath(org.apache.hadoop.mapreduce.Job,org.apache.hadoop.fs.Path) in org.apache.hadoop.mapreduce.lib.output.FileOutputFormat cannot be applied to (org.apache.hadoop.mapred.JobConf,org.apache.hadoop.fs.Path)
              FileOutputFormat.setOutputPath(conf, new Path(args[1])); 
```

用于编译的命令：

```
javac -classpath /usr/lib/hadoop/*:/usr/lib/hadoop/client/* WordCount.java 
```

程序是`wordcountexample`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:15:13.910

问题在于`-classpath`选项。您需要提供罐子的绝对路径。`*`是不够的。给所有的罐子绝对路径分隔`:`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T09:10:23.130

对于 CHD4，请尝试：

```
$ javac -classpath 'hadoop classpath' WordCount.java 
```

# udp - SIP | UDP | WP8 模拟器

> ID：15127089
> 
> 赞同：1
> 
> 时间：2013-02-28T03:46:43.800
> 
> 标签：udp, windows-phone-8, windows-phone-voip

我们正在开发 VOIP 应用程序，现在正在通过 WP8 模拟器进行测试，我能够与手机建立通话，但两端都听不到任何声音，

在 Wireshark/网络跟踪中，UDP 数据包不可见，我可以正确查看 SIP 日志，

在我的代码中我可以看到日志

```
[172] Bytes send to ABC.XYZ.AQW.ASD:PPPP Time:354 
```

并且不会抛出异常，即可以安全地假设数据从应用程序（模拟器）发送到目标端口

但它没有显示在 Wireshark 中，我是否需要应用任何特定的过滤器来捕获 UDP 日志，当我在 WP7 上并在 MSVS2K10 上开发应用程序时，我能够轻松看到，但是当我在 WP8 模拟器和在 W8/MSVS2k12 上开发。

# nsstring - NSDateFormatter 不适合我？

> ID：15127094
> 
> 赞同：0
> 
> 时间：2013-02-28T03:47:15.293
> 
> 标签：nsstring, nsdate, nsdateformatter

显然“2013-02-27T11:01:00.000”不是一个有效的日期，因为每当我使用 NSDateFormatter 将该格式的日期编辑为 AM/PM 的时间时，我什么都得不到。

```
 NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
   [formatter setDateFormat:@"HH:mm:ss"];
   NSString *time = [formatter stringFromDate:DepartTimeDate]; 
```

这是否意味着我必须找到一种手动编辑日期的方法，如果是这样，有没有人知道如何做到这一点？

示例：2013-02-27T11:01:00.000 “11:01”就是我所需要的，有没有办法将它与“日期”或字符串的其余部分分开？此外，它是 24 小时制，所以 1PM 将是“2013-02-27T13:01:00.000”

如果有人有任何线索，我将非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:13:00.050

使用一些技巧，我为您的问题提出了以下解决方案。

```
 NSString *departTimeDate = @"2013-02-27T11:01:00.000";

    NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
    [dateFormatter setDateFormat:@"yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'SSS"];
    NSDate *date = [dateFormatter dateFromString:departTimeDate];
    [dateFormatter setDateFormat:@"HH:mm"];    
    NSLog(@"Expected Result___ %@",[dateFormatter stringFromDate:date]); 
```

另请查看[日期格式指南](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/DataFormatting/Articles/dfDateFormatting10_4.html)。

希望这可以给你一个线索。

# java - 使用 Java 在 Postgresql 中存储和检索图像

> ID：15127100
> 
> 赞同：5
> 
> 时间：2013-02-28T03:47:59.687
> 
> 标签：java, image, postgresql, bytea

我是 Java 编程新手，我正在搜索 Java 代码以在 PostgreSQL 中存储图像并检索图像。

在 PostgreSQL 中，我使用了 Bytea 数据类型。图像被存储。但是当我检索时，我得到了 NULL。我无法获取图像。

对此的任何示例或任何其他建议都会有所帮助。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-28T04:23:49.263

[postgresql jdbc 文档的第 7 章](http://jdbc.postgresql.org/documentation/80/binary-data.html)处理存储二进制数据并使用图像（*.gif 文件）作为示例。您可能想阅读它。

将图像插入数据库（来自上面的链接）

```
File file = new File("myimage.gif");
FileInputStream fis = new FileInputStream(file);
PreparedStatement ps = conn.prepareStatement("INSERT INTO images VALUES (?, ?)");
ps.setString(1, file.getName());
ps.setBinaryStream(2, fis, (int)file.length());
ps.executeUpdate();
ps.close();
fis.close(); 
```

从数据库读取图像（也来自上面的链接）

```
// Get the Large Object Manager to perform operations with
LargeObjectManager lobj = ((org.postgresql.PGConnection)conn).getLargeObjectAPI();

PreparedStatement ps = conn.prepareStatement("SELECT imgoid FROM imageslo WHERE imgname = ?");
ps.setString(1, "myimage.gif");
ResultSet rs = ps.executeQuery();
while (rs.next()) {
    // Open the large object for reading
    int oid = rs.getInt(1);
    LargeObject obj = lobj.open(oid, LargeObjectManager.READ);

    // Read the data
    byte buf[] = new byte[obj.size()];
    obj.read(buf, 0, obj.size());
    // Do something with the data read here

    // Close the object
    obj.close();
}
rs.close();
ps.close(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T04:26:48.373

[浏览Java 数据库连接](http://www.oracle.com/technetwork/java/javase/jdbc/index.html)API，这里是一个如何连接到 postgres 数据库的[示例。](http://www.mkyong.com/jdbc/how-do-connect-to-postgresql-with-jdbc-driver-java/)如果有任何疑问.. 跟进！！

# python - 使用numpy的回归系数

> ID：15127104
> 
> 赞同：0
> 
> 时间：2013-02-28T03:48:28.703
> 
> 标签：python, numpy, regression

我正在尝试找出多元线性回归中的回归系数。我为此使用了 numpy 模块。我有依赖和独立的值。我尝试过的内容如下

```
import numpy as np
y = [5.4,6.3,6.5,6.2,8.1,7.9,6.7,6.8,4.9,5.8]
X = [[0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0], [1.0, 1.0, 0.0, 1.0, 1.0, 1.0,   1.0, 1.0, 0.0, 1.0], [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 1.0], [1.0, 1.0, 1.0, 0.0, 1.0, 1.0, 1.0, 1.0, 0.0, 0.0], [0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 1.0], [1.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0], [0.0, 0.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.0], [1.0, 1.0, 0.0, 0.0, 0.0, 1.0, 1.0, 1.0, 1.0, 0.0], [0.0, 0.0, 0.0, 1.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0], [0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0], [1.0, 0.0, 1.0, 1.0, 1.0, 1.0, 0.0, 1.0, 1.0, 0.0], [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.0, 0.0, 1.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 1.0, 0.0, 1.0], [1.0, 1.0, 0.0, 0.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0], [0.0, 0.0, 1.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]]

b = y * X.T * np.linalg.inv(X*X.T)
print(b) 
```

但它给出了一个错误，比如

```
Traceback (most recent call last):
File "C:/Python27/proj/new5.py", line 14, in <module>
b = y * X.T * np.linalg.inv(X*X.T)
AttributeError: 'list' object has no attribute 'T' 
```

请帮我这样做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:00:36.503

数组不能这样初始化。

你应该使用 np.array

```
y = np.array([5.4,6.3,6.5,6.2,8.1,7.9,6.7,6.8,4.9,5.8]) 
```

那么 T 属性将在那里。

对于 numpy 数组，您不能使用 * 进行乘法，因为 * 用于逐元素乘法。

如果要与矩阵相乘，例如 y * XT 应写为 y.dot(XT)

**阅读此页面，了解 numpy 中数组和矩阵的使用差异。**

[http://www.scipy.org/NumPy_for_Matlab_Users#head-e9a492daa18afcd86e84e07cd2824a9b1b651935](http://www.scipy.org/NumPy_for_Matlab_Users#head-e9a492daa18afcd86e84e07cd2824a9b1b651935)

==================================================== ===

因此，您可以使用伪逆获得最佳解决方案：

如果 X^T 的 svd 是：

```
X^T = U*S*V^T ([compact svd][1]) 
```

然后：

```
b = V*S^-1*U^T*y 
```

这里 b 和 y 都是列向量。

如果您希望它们成为行向量，则只需在两侧进行转置即可。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T04:34:33.030

试试这个：

```
y = np.matrix([[1,2,3,4,3,4,5,4,5,5,4,5,4,5,4,5,6,5,4,5,4,3,4]])

x = np.matrix([
     [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
     [4,2,3,4,5,4,5,6,7,4,8,9,8,8,6,6,5,5,5,5,5,5,5],
     [4,1,2,3,4,5,6,7,5,8,7,8,7,8,7,8,7,7,7,7,7,6,5],
     [4,1,2,5,6,7,8,9,7,8,7,8,7,7,7,7,7,7,6,6,4,4,4]
     ])

b = y * x.T * np.linalg.inv(x*x.T) 
```

结果：

```
>>> b
matrix([[ 1.57044377, -0.0617812 ,  0.23596693,  0.24238522]]) 
```

我尝试将上述内容应用于您的数据，但出现奇异矩阵错误：

```
 raise LinAlgError, 'Singular matrix'
numpy.linalg.linalg.LinAlgError: Singular matrix 
```

所以看起来你的一些变量`X`是完全相关的。

# php - 如何将 PHP 对象打印到单独的 HTML 页面

> ID：15127105
> 
> 赞同：0
> 
> 时间：2013-02-28T03:48:31.283
> 
> 标签：php, html, mysql

所以我有：

```
$url = unserialize(base64_decode($info['story_frame']));

print $url->html; 
```

在我的 php 页面上，但希望能够格式化打印的代码并选择它在 html 中的位置。有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T06:43:46.247

您还可以在其他 html 页面中要求上述页面。无论如何，即使请求 POST 对象，您也必须将其转换为 php 页面。所以现在你有两种方法来实现它..

*   一个请求 POST 对象。

IE

第一个 phppage

```
 <?php
      $url = unserialize(base64_decode($info['story_frame']));
      ?>

      <form action="urhtmlpage.php" method="post">
      <input type="hidden" name="url" value="<?php echo $url ?>">
      </form> 
```

目标php页面

```
 <?php echo $_POST['url'] ?> 
```

*   要求新页面中的其他页面。第一个 phppage

    ```
     <?php  
       $url = unserialize(base64_decode($info['story_frame']));
       ?> 
    ```

目标php页面

```
 <?php
      require("yourphppage.php");
      echo $url; 
      ?> 
```

但是对于这两种方式都将您的 HTML 页面转换为 PHP 页面

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T06:57:03.320

假设您将此代码放在名为“print.php”的页面中。

在您想要输出的代码上，尝试以下操作：

```
<div class="formatMe">
    <?php include 'print.php'; ?>
</div> 
```

您可以随意移动 div，内容也会随之移动。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T03:51:27.187

您可能应该将该其他 html 页面设置为 php 页面，然后请求发布。

[发布到 PHP 脚本中的另一个页面](https://stackoverflow.com/q/1217824/773263)

# ruby-on-rails - NoMethodError（未定义的方法 `current_user=' heroku and devise

> ID：15127108
> 
> 赞同：1
> 
> 时间：2013-02-28T03:48:52.343
> 
> 标签：ruby-on-rails, ruby-on-rails-3, heroku

无法弄清楚我做了什么来搞砸这件事。它适用于本地主机，但当我不再部署时不再适用。我已经迁移了数据库并重新启动了heroku，但它仍然无法正常工作。

我的heroku日志是

```
 NoMethodError (undefined method `current_user=' for #<Class:0x000000044ac488>) 
```

current_user 多次被应用程序引用，并且之前运行良好。当尝试加载许多不同的页面时，这也是同样的错误。它没有指向我一个特定的动作......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-05T01:43:23.133

这发生在我身上是因为我不小心删除了设计路线：

```
devise_for :users, controllers: {registrations: "registrations"}
end 
```

# jquery - 在图像地图中取消突出显示 jquery maphilight 区域

> ID：15127109
> 
> 赞同：0
> 
> 时间：2013-02-28T03:48:54.907
> 
> 标签：jquery, imagemap

现在已经为此苦苦挣扎了几个小时。我有一个图像地图，我正在使用 jQuery Maphilight 插件来突出显示图像地图的不同区域。

该插件工作正常，但我找不到取消突出显示活动区域的方法。我试着清理画布。

标记：

```
<img src="someImage" usemap="#levelMap" id="floorplan" />
<map name="levelMap">
  <area id="area1" shape="poly" coords="316,56,334,56">
  <area id="area2" shape="poly" coords="460,84,537,85">
</map> 
```

代码：

```
$('area').eq(0).attr('data-maphilight','{"fillColor":"000000","alwaysOn":true}'
$('#floorplate').maphilight(); 
```

正如预期的那样，这突出了第一个区域。现在，我正在监听一个自定义事件，该事件告诉第二个区域是活动区域而不是第一个区域。在此刻，

```
$('area').removeAttr('data-maphilight'); // Remove the attribute from all area elements.
$('area').eq(1).attr('data-maphilight','{"fillColor":"000000","alwaysOn":true}' // Add attribute for the next area.
$('#floorplate').maphilight(); // Call the plugin again to execute on the latest active area. 
```

执行上述操作会突出显示新区域，但不会删除旧区域，即使它没有 maphilight 属性。我什至尝试删除整个“地图”元素并再次添加它，但插件似乎保存了状态。

所以，我需要的最终输出是一个类似于幻灯片的图像映射。一个区域突出显示，然后移动到下一个区域。

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-03-07T06:09:11.307

我也在为同样的问题而苦苦挣扎。我所做的是将图像和地图元素包装在单独的 div 中，然后应用 maphilight 并解决问题。

```
<div id='image'> <image src='yourimage' class='mapclass' usemap='#mymap'></div> 
```

然后你的`<map>`标签如下

```
<div id='map'> <map name='mymap'> <area></area> </map> </div> 
```

然后应用`$('.mapclass').maphilight()` 它会像一个魅力

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T04:44:32.000

我想这就是你要找的。例如，如果您想“取消突出显示” `area1`，您可以这样做：

```
$('area#area1').unbind('.maphilight'); 
```

这与我在 mahilight 的示例页面上尝试的类似：http: [//davidlynch.org/projects/maphilight/docs/demo_simple.html](http://davidlynch.org/projects/maphilight/docs/demo_simple.html)。到达那里后，尝试在控制台中运行以下命令：

```
$('area:eq(1)').unbind('.maphilight'); 
```

# delphi - Delphi 中使用 VCL 的 Shell 命名空间扩展

> ID：15127112
> 
> 赞同：3
> 
> 时间：2013-02-28T03:49:23.023
> 
> 标签：delphi, com, vcl

Shell 命名空间扩展相当复杂。在过去的 10 年里，我们一直在构建一个 shell 命名空间扩展；最新的版本是 MagicRAR (www.magicrar.com) 中的存档文件夹功能。

不幸的是，尽管编码非常仔细，确保线程正确访问共享内存等，我们的 shell 命名空间扩展仍然偶尔会崩溃。Explorer 主机进程在使用我们的 shell 命名空间扩展期间或之外崩溃。

我们使用了多种工具，例如 AQTime Pro 来解决我们的 shell 命名空间扩展代码。没有报告内存覆盖或其他类似的访问问题。只剩下一个罪魁祸首：VCL 不是线程安全的！

事实上，我们正在使用 VCL 作为我们的 shell 命名空间扩展的一部分；Explorer 中的文件列表实际上是一个托管控件，在我们自己的 shell 命名空间扩展的情况下，它实际上是一个 VCL 窗口。我们现在甚至想知道（经过多代开发）这是否是一个允许的场景......

主应用程序对象甚至不存在于我们的 shell 命名空间扩展 DLL 中。使用 TThread.Synchronize 死锁资源管理器，因为尚未在任何地方创建主 VCL 线程。我们是否需要手动创建一个主 VCL 线程（如何？） - 可能在另一个 DLL 中 - 并通过该 DLL 重新路由我们所有的 UI 创建/更新/破坏？

请记住，资源管理器可能会显示任意数量的包含我们的 VCL 窗口的窗口。根据目标系统的配置，Explorer 也可以作为多个独立进程或单个进程运行。

我们的 shell 命名空间扩展基于 John Lam 的起点（正如大多数 Delphi shell 命名空间开发人员所知道的那样）。当然，正如您在最终产品中看到的那样，对这个起点进行了重大修改。John Lam 甚至从未在他的幻灯片和示例项目中讨论过 VCL 线程不安全的问题。

在过去十年中，我们还尝试使用多个版本的 ShellPlus 组件。他们已经完成了一些出色的工作，但不幸的是，根据我们的经验，即使是基于他们的代码的非常初级的工作也提供了比我们自己的代码更糟糕的结果。

ShellPlus 实际上还提供了使用 Explorer 自己的预定义主机窗口的功能，而不是创建自定义 VCL 窗口；虽然这可能会回避任何 VCL 线程问题，但根据我们的经验，即使这也不是一个可行的解决方案 - 因为 ShellPlus shell 命名空间扩展始终不如我们自制的代码稳定，无论 VCL 是否窗口化。

所以首先；这个问题是一个理论上的问题 - VCL 可以在使用 Explorer 内的 VCL 窗口作为进程主机的 shell 命名空间扩展中使用吗？

如果是这样，在这种情况下如何处理 VCL 线程不安全的问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T05:01:15.940

VCL 确实不是线程安全的。在 VCL 应用程序之外运行并不能缓解该规则。缺少一个主 VCL 线程只会让事情变得更糟；VCL 控件期望在主线程的上下文中运行，一般来说，没有这样的线程，也不可能有。您正在使用的控件在没有任何同步保护的情况下访问各种全局变量，除了修补任何 VCL 控件使用的所有单元之外，您无能为力。

使用常规的 Windows API 技术，而不是 VCL 函数，在资源管理器中创建和操作窗口。

* * *

您可以通过确保在被告知时检查队列来解决同步挂起问题，但是如果没有“主”线程，则不清楚您将*与*什么进行同步，因此`Synchronize`可能不是适合该工作的工具。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-28T14:05:28.760

我们终于能够解决这个问题。固定的 shell 命名空间扩展将在即将推出的 MagicRAR 9.0 中提供。问题确实出在 VCL 上——否则我们的代码非常好。对于任何其他尝试使用 Delphi 构建 shell 命名空间扩展的人：

Yes, you can build shell namespace extensions with Delphi. BUT - if you are using the VCL, you will experience countless random crashes and instability. AND - if you are are not using the VCL, there's little point to using Delphi. The good news is you won't need to patch the VCL sources. Just use a dedicated VCL thread.

# error-handling - Antlr4 丢弃剩余的令牌而不是纾困

> ID：15127116
> 
> 赞同：5
> 
> 时间：2013-02-28T03:49:41.190
> 
> 标签：error-handling, antlr4

我正在使用 Antlr4，这是我编写的简化语法：

```
grammar BooleanExpression;

/*******************************
 *      Parser Rules
 *******************************/
booleanTerm
    : booleanLiteral (KW_OR booleanLiteral)+
    | booleanLiteral
    ;

id
    : IDENTIFIER
    ;

booleanLiteral
    : KW_TRUE
    | KW_FALSE
    ;

/*******************************
 *         Lexer Rules
 *******************************/
KW_TRUE
    : 'true'
    ;

KW_FALSE
    : 'false'
    ;

KW_OR
    : 'or'
    ;   

IDENTIFIER
    : (SIMPLE_LATIN)+
    ;

fragment 
SIMPLE_LATIN
    : 'A' .. 'Z'
    | 'a' .. 'z'
    ;

WHITESPACE
    : [ \t\n\r]+ -> skip
    ; 
```

我使用了 BailErrorStategy 和 BailLexer，如下所示：

```
public class BailErrorStrategy extends DefaultErrorStrategy {
    /**
     * Instead of recovering from exception e, rethrow it wrapped in a generic
     * IllegalArgumentException so it is not caught by the rule function catches.
     * Exception e is the "cause" of the IllegalArgumentException.
     */

    @Override
    public void recover(Parser recognizer, RecognitionException e) {
        throw new IllegalArgumentException(e);
    }

    /**
     * Make sure we don't attempt to recover inline; if the parser successfully
     * recovers, it won't throw an exception.
     */
    @Override
    public Token recoverInline(Parser recognizer) throws RecognitionException {
        throw new IllegalArgumentException(new InputMismatchException(recognizer));
    }

    /** Make sure we don't attempt to recover from problems in subrules. */
    @Override
    public void sync(Parser recognizer) {
    }

    @Override
    protected Token getMissingSymbol(Parser recognizer) {
        throw new IllegalArgumentException(new InputMismatchException(recognizer));
    }
}

 public class BailLexer extends BooleanExpressionLexer {
    public BailLexer(CharStream input) {
        super(input);
        //removeErrorListeners();
        //addErrorListener(new ConsoleErrorListener());
    }

    @Override
    public void recover(LexerNoViableAltException e) {
        throw new IllegalArgumentException(e); // Bail out
    }

    @Override
    public void recover(RecognitionException re) {
        throw new IllegalArgumentException(re); // Bail out
    }
} 
```

除了一种情况外，一切正常。我尝试了以下表达式：

```
true OR false 
```

我希望这个表达式被拒绝并抛出 IllegalArgumentException 因为“或”标记应该是小写而不是大写。但事实证明 Antlr4 并没有拒绝这个表达式，并且该表达式被标记为“KW_TRUE IDENTIFIER KW_FALSE”（这是预期的，大写的“OR”将被视为一个 IDENTIFIER），但是解析器在执行过程中没有抛出错误处理此令牌流并将其解析为仅包含“true”的树并丢弃剩余的“IDENTIFIER KW_FALSE”令牌。我尝试了不同的预测模式，但它们都像上面一样工作。我不知道为什么它会这样工作并进行了一些调试，最终导致了 Antlr 中的这段代码：

```
ATNConfigSet reach = computeReachSet(previous, t, false);

if ( reach==null ) {
    // if any configs in previous dipped into outer context, that
    // means that input up to t actually finished entry rule
    // at least for SLL decision. Full LL doesn't dip into outer
    // so don't need special case.
    // We will get an error no matter what so delay until after
    // decision; better error message. Also, no reachable target
    // ATN states in SLL implies LL will also get nowhere.
    // If conflict in states that dip out, choose min since we
    // will get error no matter what.
    int alt = getAltThatFinishedDecisionEntryRule(previousD.configs);
    if ( alt!=ATN.INVALID_ALT_NUMBER ) {
        // return w/o altering DFA
        return alt;
    }
    throw noViableAlt(input, outerContext, previous, startIndex);
} 
```

代码“int alt = getAltThatFinishedDecisionEntryRule(previousD.configs);” 返回 booleanTerm 中的第二种选择（因为“true”与第二种选择“booleanLiteral”匹配）但由于它不等于 ATN.INVALID_ALT_NUMBER，因此不会立即抛出 noViableAlt。根据那里的Java评论，“无论如何我们都会得到一个错误，所以延迟到决定之后”但似乎最终没有抛出错误。

我真的不知道如何让 Antlr 在这种情况下报告错误，有人可以帮我解释一下吗？任何帮助表示赞赏，谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-28T14:24:22.127

如果您的顶级规则不以显式结尾`EOF`，则不需要 ANTLR 解析到输入序列的末尾。它没有抛出异常，而是简单地解析了你给它的序列的有效部分。

以下`start`规则将强制它将整个输入序列解析为单个`booleanTerm`.

```
start : booleanTerm EOF; 
```

此外，[`BailErrorStrategy`](http://www.antlr.org/api/Java/org/antlr/v4/runtime/BailErrorStrategy.html)由 ANTLR 4 运行时提供，并且`ParseCancellationException`比您的示例中显示的信息更丰富。

# meteor - Meteor 子模板可以访问父模板助手吗？

> ID：15127121
> 
> 赞同：16
> 
> 时间：2013-02-28T03:50:13.453
> 
> 标签：meteor, handlebars.js

假设我们有一个父模板和一个子模板：

```
<template name="parent">
  {{> child }}
</template>

<template name="child">
  {{#if show}}
    //Do something
  {{/if}}
</template> 
```

如果我们将“show”分配给父模板：

```
if (Meteor.isClient){
   Template.parent.show = function(){
     return Session.get('isShowing');
   }
} 
```

子模板有什么办法可以访问它吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-28T08:23:26.920

**编辑**

您可以制作一个通用车把助手，以便您可以在 html 中的任何位置使用 Sessions 值：

**客户端js**

```
Handlebars.registerHelper('session', function(key) {
    return Session.get(key);
}); 
```

**客户端 HTML**

```
<template name="child">
  {{#if session "show"}}
    //Do something
  {{/if}}
</template> 
```

同样，您也可以在父模板中使用`{{session "show"}}`/`{{#if session "show"}}`而不必再使用`Template.parent.show`帮助程序。

关于`../`符号的使用。在某些情况下它可能不起作用：[https](https://github.com/meteor/meteor/issues/563) ://github.com/meteor/meteor/issues/563 。基本上它在 {{#block helpers}} 中工作，但不适用于模板，但如果它包含子模板，它将在块帮助程序中工作。

```
<template name="child">
    {{#if ../show}}
       Do something
    {{/if}}
</template> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-06-04T11:46:56.437

您还可以注册一个通用助手：

```
Template.registerHelper('isTrue', function(boolean) {
    return boolean == "true";
}); 
```

就像在你的 html 中那样调用它：

```
<input type="checkbox" checked="{{isTrue attr}}"/> 
```

# html - 无样式居中无序列表

> ID：15127122
> 
> 赞同：1
> 
> 时间：2013-02-28T03:50:21.913
> 
> 标签：html

我通过html在表格中有一个ul。我可以通过调用使 ul 居中：

```
style="display:inline-table" 
```

有没有办法在不使用样式/css的情况下使无序列表居中？

完整代码：

```
 <ul width="50%" align="left" style="display:inline-table" font-weight="normal">
    <li>1</li>
    <li>2</li>
    <li>3</li>
    <li><font color="red">Note this list is left alligned but centered on the page</font></li>              
  </ul> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T03:56:25.450

没有办法做到这一点；居中*是*一种造型形式。HTML 简单地定义了文档的结构并依赖于呈现的样式。

所有浏览器都有一个默认样式表；如果您不提供，浏览器将使用该样式表来确定应如何呈现内容。即使您*确实*提供了样式表，样式表的级联性质也意味着您可能至少依赖于页面上的一个默认 CSS 属性。

所以，简而言之，你*必须*使用样式。

# android - EndlessAdapter 只加载一页

> ID：15127124
> 
> 赞同：1
> 
> 时间：2013-02-28T03:50:39.307
> 
> 标签：android, commonsware-cwac

我正在使用极其简单的 EndlessAdapter 从 Facebook 加载分页数据。在我的项目中`EndlessAdapter`，包装自定义`BaseAdapter`. 我也在使用`PullToRefreshListView`来自这个[库](https://github.com/chrisbanes/Android-PullToRefresh)的一个。一切都加载正常，我得到了下一页加载的数据，我滚动到列表的底部，加载并填充了下一页数据，但是当我再次滚动到底部时，什么也没有发生。我对这些方法进行了日志检查，并且`chacheInBackground()`在第一次成功加载页面后根本没有运行。

我认为这可能与“拉动刷新”库和适配器无法检测到 ListView 位置或其他东西有关，所以我摆脱了“拉动刷新”并且仍然遇到同样的问题。

以下是相关代码：

```
public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
    super.onCreateView(inflater, container, savedInstanceState);
    view = inflater.inflate(R.layout.news_feed, container, false);
    if(appState.getNewsFeed()==null){
        refreshListener.onRefresh(refreshFeedList);
        Log.i("NewsFeed", "executing Request");
        if(appState.lastFeed().contains("lastFeed") && feedAdapter == null){
            try {
                String lastFeedString = appState.lastFeed().getString("lastFeed", "null");
                JSONObject lastFeedObject = new JSONObject(lastFeedString);
                JSONArray lastFeedArray;
                lastFeedArray = lastFeedObject.getJSONArray("data");
                appState.setNewsFeed(lastFeedArray);
            } catch (JSONException e) {
                e.printStackTrace();
            }
            updateFeed();
        }
    }
    else{
        Log.i("NewsFeed", "recreating adapters from existing data");
        updateFeed();
    }

    return view;
}

public void updateFeed(){
    refreshFeedList = (PullToRefreshListView) view.findViewById(R.id.feedList);
    feedList = refreshFeedList.getRefreshableView();
    feedList.setDividerHeight(0);
    feedAdapter = new FeedAdapter(getActivity(), appState.getNewsFeed());
    endlessAdapter = new EndlessFeed(feedAdapter);
    refreshFeedList.setAdapter(endlessAdapter);
    refreshFeedList.setOnRefreshListener(refreshListener);
    refreshFeedList.setOnItemClickListener(itemClickListener);
}

public class EndlessFeed extends EndlessAdapter {

    @Override
    protected View getPendingView(ViewGroup parent) {
        Log.i("NewsFeed", "running getPendingView()");
        View row = LayoutInflater.from(parent.getContext()).inflate(R.layout.loading_view, null);
        return (row);
    }

    public EndlessFeed(BaseAdapter wrapped) {
        super(wrapped);
    }

    @Override
    protected boolean cacheInBackground() throws Exception {
        Log.i("NewsFeed", "running cacheInBackground()");
        nextPageRequest.setCallback(nextPageCallback);
        nextPageRequest.executeAndWait();
        return false;
    }

    @Override
    protected void appendCachedData() {
        try {
            appState.addToNewsFeed(requestResponse);
        } catch (JSONException e) {
            e.printStackTrace();
        }
//          onDataReady();
    }
} 
```

发送到适配器的 JSONArray 保存为具有`Application`子类中的 getter 和 setter 方法的全局变量。

由于我重新创建了适配器并调用`setAdapter()`了该`onCreateView()`方法，如果我更改为不同的片段（通过 中的一个可点击的东西`ListView`）然后导航回该片段，它将加载另一页数据。有任何想法吗？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T03:57:57.350

答案在 Commonsware 的[文档](https://github.com/commonsguy/cwac-endless)中清楚地说明了它`EndlessAdapter`是如何工作的：

> 您的`EndlessAdapter`子类还需要实现 `cacheInBackground()`. (...) 此方法返回一个布尔值，**如果还有更多数据需要获取**，则需要为 true，否则为 false。

由于您总是`false`从回来`cacheInBackground()`，因此在第一次之后它将永远不会再次运行。因此，当您滚动到底部时，它只会加载更多数据。

# sql - 使用 UPDATE() 变量检查列是否已更新

> ID：15127127
> 
> 赞同：-1
> 
> 时间：2013-02-28T03:50:55.780
> 
> 标签：sql, sql-server, tsql, sql-update

是否可以在 UPDATE() 中使用变量来检查列是否更新？

这是我的示例代码：

```
DECLARE @ColumnCount int
DECLARE @ColumnCounter int
DECLARE @ColumnName nvarchar(MAX)

SET @ColumnCounter = 0

SELECT @ColumnCount =  COUNT(c.COLUMN_NAME) FROM INFORMATION_SCHEMA.COLUMNS c  WHERE c.TABLE_NAME = 'Province'
    WHILE @ColumnCount >= @ColumnCounter
    BEGIN
       SELECT @ColumnName = c.COLUMN_NAME FROM INFORMATION_SCHEMA.COLUMNS c  WHERE c.TABLE_NAME = 'Province' AND c.ORDINAL_POSITION = @ColumnCounter
        IF (UPDATE(@ColumnName))
       SET @ColumnCounter = @ColumnCounter + 1
    END 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T10:11:19.410

在更新触发器后检查列是否实际更新，您可以使用`deleted`特殊`inserted`表[msdn](http://msdn.microsoft.com/en-us/library/ms191300.aspx)，其中触发器代码可以找到更新表行的新旧版本

请记住，在每个表中可以找到超过 1 行。例如，您`update table1 set col1 = value1 where some_condition`在触发器影响的行数中执行`some_condition`，将显示在`inserted`和`deleted`表中

要在触发器中找出某些列实际更新的行，您可以在某些主键上连接插入和删除的表并比较该列的值

该`update()`函数将列名作为参数，而不是以名称作为值的 sting 变量

例如，`update()`在触发器中使用，当更新语句中存在时，检查[是否](http://www.databasejournal.com/features/mssql/article.php/1479581/Using-Update-in-Triggers.htm) `update(some_column)`为真，即使列的值也不会改变。 `some_column``set`

似乎您无法编写通用触发器来计算更新的列数，如果您需要该计数，则需要手动为每个表编写触发器，如下所示

```
declare @count int = 0
if update(col1) set @count = @count + 1
if update(col2) set @count = @count + 1
... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T04:20:47.033

一些事情：您可能希望通过循环处理第一次，因为名称在第一次通过时不会更改。您可能希望在 @ColumnName 为 null 时进行处理，因为这意味着您的查询没有返回一行，尽管下面的查询应该始终返回一个值。

```
DECLARE @ColumnCount INT 
DECLARE @ColumnCounter INT 
DECLARE @ColumnName NVARCHAR(max) 
DECLARE @temp varchar(max)

SET @ColumnCounter = 0 

SELECT @ColumnCount = Count(c.column_name) 
FROM   information_schema.columns c 
WHERE  c.table_name = 'Province' 

WHILE @ColumnCount >= @ColumnCounter 
  BEGIN 
      SET @ColumnName = NULL 

      SELECT @ColumnName = c.column_name 
      FROM   information_schema.columns c 
      WHERE  c.table_name = 'Province' 
             AND c.ordinal_position = @ColumnCounter 

      IF ( @ColumnName != @temp ) 
        BEGIN 
        --do something 
        END
      SET @temp = @ColumnName
      SET @ColumnCounter = @ColumnCounter + 1 
  END 
```

# java - 如果连接失败，如何在 java 中重新创建 mysql 数据源连接？

> ID：15127128
> 
> 赞同：0
> 
> 时间：2013-02-28T03:51:03.990
> 
> 标签：java, mysql, eclipse

我使用以下代码创建了一个 mysqlDatasource 连接：

```
MysqlDataSource d = new MysqlDataSource();
d.setUser("user");
d.setPassword("pass");
d.setServerName("hostname.com");
d.setDatabaseName("db");
Connection c = d.getConnection(); 
```

如果我正在运行我的应用程序并且由于 mysql 重新启动或其他原因而断开连接，即使 mysql 服务器实例正在运行，其余操作也会失败。

在那种情况下，我想重新创建连接？这可能吗？我该怎么做呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T04:10:24.750

除了毛先生的选择之外，另一个选项是使用 setURL[显式定义 url](http://www.docjar.com/docs/api/com/mysql/jdbc/jdbc2/optional/MysqlDataSource.html#setURL%28String%29)以允许自动重新连接，使用[autoReconnect 参数](http://dev.mysql.com/doc/refman/5.0/en/connector-j-reference-configuration-properties.html)，但请注意，不推荐这种方法。此处提供答案仅是为了完整性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T04:15:43.560

只需借助[DBCP CONNECTION](http://commons.apache.org/proper/commons-dbcp//)并创建您的连接池，如下面的代码。您可以看到有`validation query`哪些 ping 数据库定期刷新池。还有其他属性，例如`validateConnection`您可以将此属性设置为`true`.

```
BasicDataSource dataSource = new BasicDataSource();

dataSource.setDriverClassName("com.mysql.jdbc.Driver");
dataSource.setUsername("username");
dataSource.setPassword("password");
dataSource.setUrl("jdbc:mysql://<host>:<port>/<database>");
dataSource.setMaxActive(50);
dataSource.setMaxIdle(5);
dataSource.setInitialSize(5);
dataSource.setValidationQuery("SELECT 1"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T04:23:50.587

尝试这个。

```
String driver = "com.microsoft.jdbc.sqlserver.SQLServerDriver";
Class.forName(driver);
String url = "jdbc:microsoft:sqlserver://host:1433/database";
Connection conn = DriverManager.getConnection(url, "username", "password"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T04:00:27.207

在大多数情况下，当您创建多个连接并处理它们时，最好使用连接池，其中的`Connection`对象就是对象，并且多路复用到由底层实现处理的实际套接字连接。这意味着连接会在您需要时自动创建，您无需担心回收资源和创建适当数量的连接。

两个突出的例子是[BoneCP](http://jolbox.com/)和[C3P0](http://sourceforge.net/projects/c3p0/)。

# css - SVG CSS3 动画的奇怪行为

> ID：15127129
> 
> 赞同：2
> 
> 时间：2013-02-28T03:51:15.000
> 
> 标签：css, animation, svg

我应该先说我对 SVG 世界是全新的。我正在使用 SVG 和 CSS3 动画进行一个相当简单的实验。

我在 Inkscape 中创建了 SVG 并将其保存为纯 SVG。然后我把它放到 HTML 中来玩一些 CSS3 动画。

正如您在我下面的链接中看到的整个 SVG 奇怪地反弹，这可以通过从 CSS 中删除 .arm 类来删除。（它停止了具有 arm 类的单个红色圆圈组）。

问题是我希望红色圆圈组动画（旋转），而整个较大的组也在旋转。

我可能做错了什么想法或公然的事情？（我确实意识到它不是最好的 SVG，但我只是在试验）。

[http://codepen.io/Fernker/pen/cwvfB](http://codepen.io/Fernker/pen/cwvfB)

注意 1：如果我删除了 .arm 或 .center CSS 规则，在玩了一会儿之后，摆动就会停止，但它们一起会产生摆动。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T21:36:50.260

看起来形状在旋转时并未形成完美的圆形，因此在旋转时会移动中心导致摆动。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-27T14:16:55.373

我在这里为你修好了（有点）。

[http://codepen.io/anon/pen/unmfE](http://codepen.io/anon/pen/unmfE)

基本上我破解了它，所以它可以工作，但你需要将你的 SVG 包装在另一个容器中并让它从中心旋转。如果您在巢中设置动画太远，它将受到兄弟姐妹的影响。

# java - 如何在亚马逊 S3 存储桶中搜索文件内容而不下载文件

> ID：15127131
> 
> 赞同：3
> 
> 时间：2013-02-28T03:51:20.753
> 
> 标签：java, file, amazon-web-services, amazon-s3, download

我有 **n个文件上传到亚马逊S3**我需要**搜索**那些基于其**内容中****出现的字符串**的文件，我尝试了一种从S3存储桶下载文件的方法，将输入流转换为字符串，然后搜索单词content ，但是如果它们超过五到六个文件，则执行上述过程需要大量时间，

 **是他们的任何其他方式来做到这一点，请帮助提前谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2018-03-06T11:37:18.057

如果您的文件包含 CSV、TSV、JSON、Parquet 或 ORC，您可以查看 AWS 的 Athena：[https ://aws.amazon.com/athena/](https://aws.amazon.com/athena/)

从他们的介绍中：

> Amazon Athena 是一种快速、经济高效的交互式查询服务，可以轻松分析 S3 中的 PB 级数据，无需管理数据仓库或集群。

不太可能对您有所帮助，因为听起来您有纯文本可供搜索。

我想我会提到它，因为它可能会帮助其他寻求解决类似问题的人。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T03:54:29.360

没有！

如果您无法从对象元数据（例如文件名）中推断出匹配的位置，那么您将不得不手动下载和搜索。如果您有空闲带宽，我建议一次下载几个文件以加快速度。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-28T03:56:01.390

一句话不！！

我认为您可以提高性能的方法是将文件缓存在本地，这样您就不必一次又一次地下载文件

大概可以用`Last-Modified`header检查本地文件是否脏，然后重新下载

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-28T12:14:00.987

由于您似乎拥有这些文件，我的建议是根据内容手动索引它们。如果每个文件都有很多“关键字”或元数据，您可以使用轻量级数据库来帮助自己，您将在其中执行查询并获取用户正在寻找的确切文件。这将保留带宽并且速度更快，但代价是维护一种“索引”系统。

另一种选择（如果每个文件不包含太多元数据）是重新组织您的存储桶中的文件，添加可以“自动索引”它们的前缀，如下所示：

/foo/bar/randomFileContainingFooBar.dat /foo/zar/anotherRandomFileContainingFooZar.dat。

这样，您最终可能会扫描整个存储桶以找到所需的文件集（这就是为什么我仅在元数据很少时才建议使用此选项的原因），但是您只会下载匹配的文件，这仍然要好得多比你原来的方法。

* * *

## 回答 #5

> 赞同：-4
> 
> 时间：2013-02-28T04:07:58.697

我不熟悉 Amazon S3，但处理搜索远程文件的一般方法是使用[indexing](http://en.wikipedia.org/wiki/Full_text_search#Indexing)，索引本身存储在远程服务器上。这样，每次搜索都将使用索引来推断相对少量的潜在匹配文件，并且只有那些将被直接扫描以验证它们是否确实匹配。根据您的搜索词和模式的复杂性，甚至可以完全避免直接文件扫描。

也就是说，我不知道 Amazon S3 是否有一个您可以使用的索引引擎，或者是否有补充库可以为您做到这一点，但这个概念很简单，您应该能够自己完成一些工作而无需太多工作。

**编辑：**

通常，每个文件中存在的标记是被索引的。例如，如果您想搜索*“foo bar”*，索引会告诉您哪些文件包含*“foo”*，哪些包含*“bar”*。这些结果的横截面将是同时包含*"foo"*和*"bar"*的文件。您必须直接扫描这些文件以选择那些（如果有的话）*“foo”*和*“bar”*以正确的顺序彼此相邻的文件。

无论如何，下载到客户端的数据量将远远少于下载和扫描所有内容，尽管这也取决于您的文件的结构以及您的搜索模式是什么样的。**

# c++ - 在 C++ 中接受“任何东西”的模板

> ID：15127137
> 
> 赞同：8
> 
> 时间：2013-02-28T03:51:49.627
> 
> 标签：c++, c++11, templates, variadic-templates

我有一个简单的模板结构，将字符串与值相关联

```
template<typename T> struct Field
{
    std::string name; T self;
} 
```

我有一个函数，我想接受任何类型的 1 个或多个字段，并且这些字段可能具有不同的类型，所以我使用的是`std::initializer_list`因为 C++，据我所知，缺少类型化的可变参数，无法确定可变参数的大小，并且必须至少有一个其他参数来确定从哪里开始。

问题是我不知道如何告诉它接受可能是不同类型的字段。在 Java 中，我只会使用`foo(Field<?> bar, Field<?>... baz)`，但 C++ 缺少类型化可变参数和通配符。我唯一的另一个想法是制作 type 的参数 `std::initializer_list<Field<void*>>`，但这似乎是一个糟糕的解决方案......有没有更好的方法来做到这一点？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-28T04:47:17.543

有几件事...

*   C ++ 11（您似乎在谈论`std::initializer_list`）确实具有类型化的可变参数，特别是它们被命名为*可变参数模板*

*   Java 泛型和 C++ 模板是完全不同的野兽。Java 泛型创建一个单一类型，该类型存储对接口中类型的引用`Object`并提供自动强制转换，但重要的是它执行类型擦除。

我建议您解释您想要解决的问题，并获得 C++ 中惯用的问题解决方案的建议。如果您想真正模仿 Java 中的行为（我不能坚持认为它是一种不同的语言并且具有不同的习语），您可以在 C++ 中*手动*使用类型擦除（即 use `boost::any`）。但我很少觉得需要在程序中进行全类型擦除……使用变体类型 ( `boost::variant`) 更为常见。

如果您的编译器支持可变参数模板（并非所有编译器都支持），您总是可以使用它，但是*除非*您使用类型擦除，否则对于完全通用的方法而言，将字段存储在向量中以供稍后使用可能会有点复杂。（再次，要解决什么问题？可能有更简单的解决方案......）

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-28T04:09:11.883

与 C++ 模板相比，Java 泛型更接近于将 a 填充`boost::any`到变量中。`self`试试看。默认情况下，C++ 模板创建的类型彼此之间没有运行时或动态关系。

您可以手动引入这种关系，例如通过共同的父级和类型擦除以及明智地使用`pImpl`和智能指针。

C 类型的可变参数在 C++11 中已经过时了。可变模板参数是非常类型安全的，只要您的编译器支持它们（MSVC 2012 的 2012 年 11 月 CTP 支持它们（不是更新 1，CTP），clang 和非古代版本的 gcc 也是如此）。

C++ 中的模板是一种元编程，更接近于编写程序来编写程序，而不是 Java 泛型。Java Generic 有一个共享的“二进制”实现，而 C++ 模板的每个实例都是一个完全不同的“程序”（通过 COMDAT 折叠之类的过程，可以将其简化为一个二进制实现），其详细信息由模板描述代码。

```
 template<typename T>
 struct Field {
   T data;
 }; 
```

是一个小程序，上面写着“这里是如何创建字段类型”。当你传入一个`int`and`double`时，编译器会做大致这样的事情：

```
 struct Field__int__ {
   int data;
 };
 struct Field__double__ {
   double data;
 }; 
```

而且您不会期望这两种类型之间可以转换。

另一方面，Java 泛型创建如下内容：

```
struct Field {
  boost::any __data__;
  template<typename T>
  T __get_data() {
    __data__.get<T>();
  }
  template<typename T>
  void __set_data(T& t) {
    __data__.set(t);
  }
  property data; // reading uses __get_data(), writing uses __set_data()
}; 
```

where`boost::any`是一个容器，它可以容纳任何类型的实例，并且`data`通过这些访问器对字段的访问重定向。

C++ 提供了使用模板元编程编写与 Java 泛型等效的方法的方法。要在 Java 中编写诸如 C++ 模板之类的东西，您必须让 Java 程序输出自定义 Java 字节或源代码，然后以允许调试器连接回将代码编写为源代码的方式运行该代码的错误。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-28T15:23:35.883

在 C++ 模板中不需要使用通配符，因为在 C++ 中它总是知道类型，并且不像在 Java 中那样被“擦除”。要`void foo(Field<?> bar, Field<?>... baz)`在 C++ 中编写方法（或函数），您可以编写：

```
 template<class T, class... Ts>
 void foo(Field<T> bar, Field<Ts>... baz); 
```

每个`Field<Ts>`都可以是不同的类型。要在函数内部使用可变参数，只需使用`baz...`. 所以说你想调用另一个函数：

```
 template<class T, class... Ts>
 void foo(Field<T> bar, Field<Ts>... baz)
 {
     foo2(baz...);
 } 
```

你也可以用 扩展类型`Field<Ts>...`，所以如果你想把它放在一个元组中（你不能把它们放在数组中，因为它们可以是不同的类型）：

```
 template<class T, class... Ts>
 void foo(Field<T> bar, Field<Ts>... baz)
 {
     std::tuple<Field<Ts>...> data(baz...);
 } 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-28T03:59:03.903

这对于 C++ 来说不是很惯用。也许可以做到；Coplien 的书可能有一些想法。但是 C++ 是强类型的，因为它相信类型；试图把它变成 Smalltalk 或像野鸡一样折叠它可能会导致流泪。

# ios - 为什么在属性检查器中需要 UIlabel“行为”复选框？

> ID：15127138
> 
> 赞同：-1
> 
> 时间：2013-02-28T03:51:49.730
> 
> 标签：ios, xcode, uilabel

UILabel 的属性检查器中有一个“行为”复选框。有谁知道它是干什么用的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T03:59:16.977

您是在谈论此行为部分吗？

![在此处输入图像描述](../Images/823bee35f27c54c93a2d806a4b225c62.png)

如果是这样，我认为您误读了它。复选框不是用于行为。启用和突出显示的复选框组位于“行为”部分。

这些复选框的作用是设置此 UILabel 是否启用以及是否突出显示的选项。有关 UILabel 的这些属性实际作用的更多信息，请参阅[UILabel 文档](http://developer.apple.com/library/ios/#documentation/uikit/reference/UILabel_Class/Reference/UILabel.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T03:59:08.100

UILabel 已启用并突出显示状态。这只是打开和关闭它们。

[http://developer.apple.com/library/ios/#documentation/uikit/reference/UILabel_Class/Reference/UILabel.html](http://developer.apple.com/library/ios/#documentation/uikit/reference/UILabel_Class/Reference/UILabel.html)

# c# - 遇到Lock时如何停止线程？

> ID：15127139
> 
> 赞同：1
> 
> 时间：2013-02-28T03:51:50.643
> 
> 标签：c#, .net, multithreading, locking

我有以下代码启动一些线程：

```
 List<Stuff> lNewStuff = new List<Stuff>();

    // populate lNewStuff

    for (int i = 0; i < accounts.Length; i++)
    {
        Account aTemp = _lAccounts.Find(item => item.ID == accounts[i]);

        Thread tTemp = new Thread(() => aTemp.ExecuteMe(lNewStuff));
        tTemp.Start();     
    } 
```

然后在 Account 类中你有一个有锁的 ExecuteMe 方法：

```
 public class Account
    {
        private Object lockThis = new Object();

        public void ExecuteMe(List<Stuff> lNewStuff)
        {
            //Ensure only one thread at a time can run this code
            lock (lockThis)
            {
                //main code processing
            }
        }
    } 
```

现在，有时线程以 lNewStuff == null 开头，因为它有时找不到任何具有帐户 ID 的新东西。这对这个项目来说是正常的。该线程应始终尝试运行，但是当为 null 时，我希望该线程终止，而不是在遇到锁时等待。

所以具体来说：

如果 lNewStuff 为 null 并且存在锁，则终止线程。（这个怎么做？）

如果 lNewStuff 为 null 并且没有锁，则正常运行（已经这样做了）

如果 lNewStuff 不为空并且有锁，则等待锁完成（已经这样做了）

如果 lNewStuff 不为空并且没有锁，则正常运行（已经这样做了）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T04:37:29.937

当`lNewStuff`为空时，您可以使用[`Monitor.TryEnter`](http://msdn.microsoft.com/en-us/library/dd289679.aspx)并且仅在授予锁定时才继续：

```
public class Account
{
    private readonly object lockThis = new object();

    public void ExecuteMe(List<Stuff> lNewStuff)
    {
        bool lockTaken = false;
        try
        {
            if (lNewStuff == null)
            {
                // non-blocking - only takes the lock if it's available
                Monitor.TryEnter(lockThis, ref lockTaken);
            }
            else
            {
                // blocking - equivalent to the standard lock statement
                Monitor.Enter(lockThis, ref lockTaken);
            }

            if (lockTaken)
            {
                // main code processing
            }
        }
        finally
        {
            if (lockTaken)
            {
                Monitor.Exit(lockThis);
            }
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T05:17:43.647

只是要与众不同：

```
public class Foo : IDisposable
{
    private Semaphore _blocker;
    public Foo(int maximumAllowed)
    {
        _blocker = new Semaphore(1,1);
    }

    public void Dispose()
    {
        if(_blocker != null)
        {
            _blocker.Dispose();
            _blocker.Close();
        }
    }

    public void LimitedSpaceAvailableActNow(object id)
    {
        var gotIn = _blocker.WaitOne(0);
        if(!gotIn)
        {
            Console.WriteLine("ID:{0} - No room!", id);
            return;
        }
        Console.WriteLine("ID:{0} - Got in! Taking a nap...", id);
        Thread.Sleep(1000);
        _blocker.Release();
    }
} 
```

试验台：

```
void Main()
{
    using(var foo = new Foo(1))
    {
        Enumerable.Range(0, 10)
            .Select(t => 
                Tuple.Create(t, new Thread(foo.LimitedSpaceAvailableActNow)))
            .ToList()
            .AsParallel()
            .ForAll(t => t.Item2.Start(t.Item1));
        Console.ReadLine();
    }
} 
```

输出：

```
ID:4 - Got in! Taking a nap...
ID:8 - No room!
ID:0 - No room!
ID:7 - No room!
ID:2 - No room!
ID:6 - No room!
ID:5 - No room!
ID:9 - No room!
ID:1 - No room!
ID:3 - No room! 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T05:00:13.427

```
If lNewStuff is null and there is a lock then terminate the thread. (how to do this?) , 
do you want to still start a thread if lNewStuff is Null if answer is no then solution must be very simple.

List<Stuff> lNewStuff = new List<Stuff>();

// populate lNewStuff

for (int i = 0; i < accounts.Length; i++)
{
    Account aTemp = _lAccounts.Find(item => item.ID == accounts[i]);
   if(lNewStuff!=null)
   {
          Thread tTemp = new Thread(() => aTemp.ExecuteMe(lNewStuff));
          tTemp.Start();   
   }

}
also you shd create a single lock object 
private Object lockThis = new Object(); // this statement is creating new lock object with every account object, and hence does not ensure critical section protection. 
```

将此更改为

```
private static Object lockThis = new Object(); 
```

# solr - 在同一位置搜索多值字段

> ID：15127140
> 
> 赞同：3
> 
> 时间：2013-02-28T03:51:51.487
> 
> 标签：solr

假设我们有一个这样的文档：

```
<arr name="pvt_rate_type">
  <str>CORPORATE</str>
  <str>AGENCY</str>
</arr>

<arr name="pvt_rate_set_id">
  <str>1</str>
  <str>2</str>
</arr> 
```

现在我进行搜索，仅当文档在其多值字段中的相同位置包含 pvt_rate_set_id = 1 和 pvt_rate_type = AGENCY 时才返回，因此不应返回上述文档（因为 pvt_rate_set_id 1 的 pvt_rate_type 为 CORPORATE )

这在 SOLR 中是否可能？还是我的架构设计不当？您将如何设计 tat 架构以允许我想要的搜索？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:05:23.463

这可能不是开箱即用的。
您需要修改架构以将 pvt rate 类型的字段作为字段名称，将 id 作为其值

例如

```
CORPORATE=1
AGENCY=2 
```

这可以通过定义[动态字段](http://wiki.apache.org/solr/SchemaXml#Dynamic_fields)来实现。

例如

```
<dynamicField name="*_pvt_rate_type"  type="string"  indexed="true"  stored="true"/> 
```

因此，您可以将数据输入为带有相应值的corporate_pvt_rate_type 或 Agency_pvt_rate_type。

过滤器查询将能够匹配确切的映射`fq=corporate_pvt_rate_type:1`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T05:31:43.143

不幸的是，Solr 似乎不支持这一点。

在 Solr 中执行此操作的另一种方法是存储连接字符串字段`type_and_id`，并使用分隔符（例如逗号）分隔类型和 id 和查询，例如：

```
q=type_and_id:AGENCY%2C1 
```

（`%2C`逗号的 URL 编码在哪里）。

# asp.net - 编辑后会话仍然相同

> ID：15127144
> 
> 赞同：2
> 
> 时间：2013-02-28T03:52:06.510
> 
> 标签：asp.net

多次按下next按钮后调试信息总是如下，它可以从第1页到第2页但不能到第3页

最后我发现问题是

```
Session["jobsearch"] = js; 
```

它已保存但下次我检索它时，它就像以前没有保存过一样

调试信息

```
before js.CurrentPageNo=1
after js.CurrentPageNo=2
js.StartIndex=13
js.PageSize=24
js.TotalPageFound=5
js.CurrentPageNo=2
rowPerPage=12
before js.CurrentPageNo=1
after js.CurrentPageNo=2
js.StartIndex=13
js.PageSize=24
js.TotalPageFound=5
js.CurrentPageNo=2
rowPerPage=12

js.StartIndex=13js.PageSize=24js.TotalPageFound=5js.CurrentPageNo=2rowPerPage=12
js.StartIndex=13js.PageSize=24js.TotalPageFound=5js.CurrentPageNo=2rowPerPage=12
js.StartIndex=13js.PageSize=24js.TotalPageFound=5js.CurrentPageNo=2rowPerPage=12
js.StartIndex=13js.PageSize=24js.TotalPageFound=5js.CurrentPageNo=2rowPerPage=12 
```

下一个按钮代码

```
protected void btnNext_OnClick(object sender, EventArgs e)
    {
        if (Session["jobsearch"] != null)
        {
            JobSearch js = (JobSearch)Session["jobsearch"];
            js.CurrentPageNo++;
            js.StartIndex = js.StartIndex + rowPerPage;
            js.PageSize = js.PageSize + rowPerPage;

            Session["jobsearch"] = js;
            if (jobResultsTable.DocumentContent.Contains("Jobs In Engineering"))
            {
                Session["jobsearch2"] = "Jobs In Engineering";
            }
            else
            {
                Session["jobsearch2"] = "Jobs In IT";
            }

            System.IO.File.AppendAllText(@"D:\Debug.txt", "js.StartIndex=" + js.StartIndex);
            System.IO.File.AppendAllText(@"D:\Debug.txt", "js.PageSize=" + js.PageSize);
            System.IO.File.AppendAllText(@"D:\Debug.txt", "js.TotalPageFound=" + js.TotalPageFound);
            System.IO.File.AppendAllText(@"D:\Debug.txt", "js.CurrentPageNo=" + js.CurrentPageNo);
            System.IO.File.AppendAllText(@"D:\Debug.txt", "rowPerPage=" + rowPerPage);

            GetJobSearchBOResult(js.StartIndex, js.PageSize, js.JobType, js.JobCountry, js.Keywords);

            ShowButton(js.CurrentPageNo, js.TotalPageFound);

            ltrPageInfo.Text = "Page " + js.CurrentPageNo + " of " + js.TotalPageFound.ToString() + "<br/> Total Record(s) Found: " + TotalJobFound;
        }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T04:25:56.207

我敢打赌

```
(JobSearch)Session["jobsearch"]; 
```

在页面的加载事件处理程序或初始化事件处理程序中重置每个页面加载。

请记住，这两个事件会在每次回发时触发。

您可能需要检查`if (!Page.IsPostBack){ /*Only Init jobsearch here */ }`您的加载/初始化处理程序

我会在您有重置或初始化会话变量的代码的任何地方设置一个断点，然后查看这些断点是否比您想象的更频繁地被击中。

# c++ - 当从具有 std::shared_ptr 的函数返回时，堆分配的对象是否保证是活动的？

> ID：15127149
> 
> 赞同：0
> 
> 时间：2013-02-28T03:52:42.153
> 
> 标签：c++, c++11, heap-memory, shared-ptr

我正在学习 C++。我刚刚了解到`std::shared_ptr`可以像引用计数方式一样管理堆分配的对象。

目前我的编译器（Xcode/Clang/C++11）显示了我想要的确切行为。打印这个结果，

```
Step0
Step1
CREATED!
Step2
Step3
Step5
DESTROYED!
Step6 
```

使用此代码。

```
class   Obj1
{
    public:
        Obj1() { printf("CREATED!\n"); }
        ~Obj1() { printf("DESTROYED!\n"); }
};

std::shared_ptr<Obj1> func1 ()
{
    printf("Step0\n");
    {
        printf("Step1\n");
        std::shared_ptr<Obj1>   o1(new Obj1());
        printf("Step2\n");
        std::shared_ptr<Obj1>   o2  =   o1;
        printf("Step3\n");
        return  o2;
    }
    printf("Step4\n");
}

int main(int argc, const char * argv[])
{
    {
        std::shared_ptr<Obj1>   o3  =   func1();
        printf("Step5\n");
    }
    printf("Step6\n");
    return 0;
} 
```

但据我所知，当`std::shared_ptr`分配给新变量时，C++ 的复制构造函数优化可能会发生这种情况。（我不确定名称...）如果是，`Obj1`则在从函数返回时实例可能不能保证是活动的，因为实际上`shared_ptr`它在调用者语义上被销毁并重新创建。

当然，所有这些都是新手的假设。请让我知道在这种情况下对对象生命周期的实际预期。

PS。这源于我之前的问题： [清理堆分配对象的良好做法或约定？](https://stackoverflow.com/questions/15126006/good-practice-or-convention-for-cleanup-heap-allocated-object)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T04:00:02.527

要么`o2`的生命周期被延长，要么在它被销毁之前制作它的副本。无论哪种方式，至少有一个`shared_ptr`始终存在，因此代码是安全的。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-28T04:17:52.293

您误解了该优化的工作原理。假设我们有一个小例子：

```
std::shared_ptr<Foo> func()
{
    std::shared_ptr o2;
    o2.reset( new Foo  );
    return o2;
}
std::shared_ptr<Foo> o1 = func(); 
```

编译器可以通过优化做什么看起来像这样（不完全是，但有助于理解这个想法）：

```
void func( std::shared_ptr<Foo> &o2 )
{
    o2.reset( new Foo  );
}
std::shared_ptr<Foo> o1;
func( o1 ); 
```

因此，从您的角度来看，几乎没有任何变化，只消除了对象的副本（智能指针）。它不会影响 Foo 的生命周期。

# android - 来自 FragmentActivity 的片段在少数设备上不显示背景图像

> ID：15127160
> 
> 赞同：3
> 
> 时间：2013-02-28T03:53:53.750
> 
> 标签：android, background, fragment, android-fragmentactivity

所以基本上，我有一个可以在谷歌提供的所有设备和模拟器上运行的应用程序。但是有一些人报告没有背景图像，这使得文本不可读。请帮忙，我不知道应用程序哪里出错了。

这是我的 FragmentActivity 文件（基本部分）

```
public class MainActivity extends FragmentActivity{

    private FragmentTabHost mTabHost;

    @Override

    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        setContentView(R.layout.activity_main);

        Bundle b1 = new Bundle();
        b1.putInt("tabId",111);

        Bundle b2 = new Bundle();
        b2.putInt("tabId",222);

        final FragmentManager fm = getSupportFragmentManager();

        mTabHost = (FragmentTabHost)findViewById(android.R.id.tabhost);
        mTabHost.setup(this, fm, R.id.realtabcontent);

        mTabHost.addTab(mTabHost.newTabSpec("main").setIndicator("MAIN"), TabContentFragment.class, b1);
        mTabHost.addTab(mTabHost.newTabSpec("massReading").setIndicator("MASS READING"), TabContentFragment.class, b2);        

        TabWidget tw = mTabHost.getTabWidget(); //this tabwidget is generated after "addTab", the one from layout is not doing anything        
        tw.setVisibility(0x00000008); // = "GONE"
    }
} 
```

和“activity_main”布局文件

```
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@drawable/bg"> *******//This is the background image I need to display********

    <LinearLayout 
        android:id="@+id/top"
        android:orientation="horizontal"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        style="@style/padding"
        android:gravity="center"
        android:background="@android:color/transparent"
        >
        <Button
            android:id="@+id/back"
            style="@style/btn"
            android:background="@drawable/back"
            />   
        <TextView
            android:id="@+id/title"
            android:layout_height="wrap_content"
            android:layout_width="0dp"
            android:layout_weight="1"
            android:textStyle="bold"
            style="@style/title"
            android:gravity="center"
            />  
        <Button
            android:id="@+id/down"
            style="@style/btn"
            android:background="@drawable/decrease"     
            android:layout_marginRight="15dp"  
            />                                      
        <Button
            android:id="@+id/up"
            style="@style/btn"
            android:background="@drawable/increase"                         
            />
    </LinearLayout>

    <android.support.v4.app.FragmentTabHost
        android:id="@android:id/tabhost"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:paddingLeft="10dp"
        android:paddingRight="10dp"
        android:background="@android:color/transparent"
        >

        <TabWidget
            android:id="@android:id/tabs"
            android:orientation="horizontal"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            />

        <FrameLayout
            android:id="@android:id/tabcontent"
            android:layout_width="0dp"
            android:layout_height="0dp"
            />

        <FrameLayout
            android:id="@+id/realtabcontent"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            />

    </android.support.v4.app.FragmentTabHost>

    <RadioGroup 
        android:layout_width="match_parent"
        android:layout_height="wrap_content" 
        android:orientation="horizontal"
        android:id="@+id/rg"
        >
        <RadioButton 
            android:id="@+id/main" 
            style="@style/rb"
            android:drawableTop="@drawable/reflection"
            android:text="@string/rb_left"
            />
        <RadioButton
            android:id="@+id/mr"
            style="@style/rb"
            android:drawableTop="@drawable/readings"
            android:text="@string/rb_right"
            />
    </RadioGroup>

</LinearLayout> 
```

和只有 2 个 webviews 的片段文件

```
public class TabContentFragment extends Fragment {

    WebView wv;

    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
        if (container == null) {
            return null;
        }

        Bundle b = getArguments();
        int tabId = b.getInt("tabId");

        wv = (WebView)inflater.inflate(R.layout.tab_content, container, false);

        wv.setId(tabId); 
        wv.setVerticalScrollBarEnabled(false);
        wv.setBackgroundColor(0);

        if(tabId==111)
        {   

            String htmlString = "<html xmlns='http://www.w3.org/1999/xhtml'>stuff</html>";          
            wv.loadDataWithBaseURL("",htmlString, "text/html", "UTF-8", "");
        }
        else
        {
            String htmlString = "<html xmlns='http://www.w3.org/1999/xhtml'>stuff</html>";          
            wv.loadDataWithBaseURL("",htmlString, "text/html", "UTF-8", "");
        }

        return wv;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-03-15T22:19:49.417

检查抱怨没有位图显示的设备的详细信息，查找 VM 预算。如果设备没有足够的内存来保存位图，则可以简单地将位图设置为空（或无背景）。鉴于您的症状，我会说这是问题所在。

# c - GCC过度优化？自一个纪元开始以来的不同秒数取决于我编译的位置

> ID：15127161
> 
> 赞同：0
> 
> 时间：2013-02-28T03:53:55.493
> 
> 标签：c, optimization, gcc

**背景故事：**我有一个时间转换问题，我试图解决这个问题。我正在开发的程序使用内部日期表示。日期表示为自 2000/01/01 以来的秒数。这个数字在程序中是恒定的。我的猜测是，它不应该是，因为这个数字可能取决于时区。

我做了一个简单的程序，以测试自 2000/01/01 的 unix 纪元开始以来的秒数是否在不同的机器上有所不同：

```
struct tm tm_date;
time_t t_LongDate;

tm_date.tm_year = 2000 - 1900;
tm_date.tm_mon  = 1 - 1;
tm_date.tm_mday = 1;
tm_date.tm_hour = 0;
tm_date.tm_min  = 0;
tm_date.tm_sec  = 0;

t_LongDate = mktime(&tm_date);
printf("result: %lld\n", (long long)t_LongDate);

return 0; 
```

我在我的开发机器上编译了程序，它似乎可以工作：

`result: 946681200`

然后我将二进制文件上传到有问题的主机。这反驳了我的假设。秒数是一样的：

```
problematic-host# ./a.out 
result: 946681200 
```

因为我是一个可疑的人，所以我尝试在有问题的主机上重新编译程序。没想到太多，但是：

```
problematic-host# gcc secSinceEpoch.c 
problematic-host# ./a.out 
result: 946677600 
```

正如我最初预期的那样 - 有一个小时的差异。但是发生了什么？GCC 是否优化了我的小程序以仅输出一个恒定值，因为它不依赖于任何用户输入或随机源？它会在我真正的大程序中做同样的事情吗？有什么方法可以强制它实际运行这些功能吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T03:56:57.197

您不会初始化 的每个字段`tm_date`，例如`tm_isdst`，因此某些字段具有不可预测的值。修复错误，谜团就会消失。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-28T04:05:47.240

> GCC 是否优化了我的小程序以仅输出一个恒定值，因为它不依赖于任何用户输入或随机源？

如果您认为您的变量在您认为应该更新时没有更新，那么您可以关闭优化并尝试它，或者创建变量`volatile`：

例子：

```
int count = 0;    
while(count == 0); 
```

在这里，编译器通过关闭`count`每次执行`while`语句时的值检查来进行优化。但是`count`变量可能会被其他外部因素更新。

因此，为了强制编译器此时禁用优化，我们声明`count`为`volatile`.

# jquery - jquery 更改 url 包含 li 类的一部分

> ID：15127168
> 
> 赞同：-2
> 
> 时间：2013-02-28T03:54:35.787
> 
> 标签：jquery, url

我得到了一些列表，其中包含如下链接：

```
<li class="folder340 collapsable"><a href="http://www.domain.com/title01" class="">   <span>Title01</span></a></li>
<li class="folder360 collapsable"><a href="http://www.domain.com/title02" class=""><span>Title02</span></a></li> 
```

我希望他们成为：

```
<li class="folder340 collapsable"><a href="http://www.domain.com/340" class="">   <span>Title01</span></a></li>
<li class="folder360 collapsable"><a href="http://www.domain.com/360" class=""><span>Title02</span></a></li> 
```

我知道我应该使用类似的东西：

```
 var url = $(this).find('a').attr('href') + "this need to be the li class and minus the text folder"; 
```

任何的想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:01:42.120

var className = $(".collapsible").attr("class");

然后，您可以使用简单的 JavaScript 字符串函数删除文本“文件夹”。

然后只需将最终域存储在变量中并使用 $("specefic-collapsible").attr("href") = finalURL;

抱歉，如果我的答案格式不正确，但我在手机上。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T04:01:47.593

尝试

```
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript">

    $(function()
    {
        $('li.collapsable').each(function()
        {
            //console.log($(this).attr('class'));
            var cls  = $(this).attr('class').replace('folder',"").replace(" collapsable","");
            var link = $(this).find('a');
            link.attr('href',"http://www.domain.com/"+cls)
            console.log(cls);
        });
    });

</script>
<ul>
    <li class="folder340 collapsable"><a href="http://www.domain.com/title01" class="">   <span>Title01</span></a></li>
    <li class="folder360 collapsable"><a href="http://www.domain.com/title02" class=""><span>Title02</span></a></li>
</ul> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-28T04:02:02.113

尝试这样的事情：

```
$('.collapsable').each(function(){
    //Select some elements
    var $li = $(this);
    var $link = $li.find("a");

    //Grab the number from the class name beginning with 'folder'
    var folderNum = /folder([\d]+)/g.exec($li.attr("class"))[1];

    //Get the text from the span, this will be what we need to replace in the url 
    var titleToReplace = $link.find("span").text().toLowerCase();

    //Get the original URL
    var originalUrl = $link.attr('href');

    //Replace the part of the URL
    var newUrl = originalUrl.replace(titleToReplace, folderNum);

    $link.attr("href", newUrl);
}); 
```

在这里工作演示：http: [//jsfiddle.net/q4XJs/](http://jsfiddle.net/q4XJs/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-28T04:06:59.243

这有效：

```
$('li a').each(function(){
    var cls = $(this).parent().attr('class').split(' ')[0];

    var folder = cls.split('folder')[1];

$(this).attr('href', 'http://www.domain.com/'+folder);
}); 
```

jsfiddle：http: [//jsfiddle.net/nD4qL/](http://jsfiddle.net/nD4qL/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-28T04:11:59.237

试试这个：- [http://jsfiddle.net/aidioo7/jdCVq/](http://jsfiddle.net/adiioo7/jdCVq/)

JS：-

```
$(function(){
    $(".collapsable").each(function(){
        var oldhref=$(this).find("a").attr("href");
        var className = $(this).attr("class");
        className=className.replace("folder","").replace(" collapsable","");
        oldhref=oldhref.replace($(this).find("a").text().toLowerCase().trim(),className);
        $(this).find("a").attr("href",oldhref);
    });
}); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-28T04:21:22.913

尝试以下操作：

```
$('li').each(function(){
    var n=$(this).attr('class').split(" ")[0].length;
     var x=$(this).attr('class').substring(n-3,n);
     $(this).find('a').attr('href','http://www.domain.com/'+x);
    }); 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2013-02-28T04:00:35.133

```
<li class="folder340 collapsable"><a id="link1" href="http://www.domain.com/title01" class="">   <span>Title01</span></a></li>
<li class="folder360 collapsable"><a id="link2" href="http://www.domain.com/title02" class=""><span>Title02</span></a></li> 
```

JS：

```
$("#link1").attr("href", "http://www.domain.com/340");

$("#link2").attr("href", "http://www.domain.com/360"); 
```

# php - 如何使用 db 数据对数组进行排序

> ID：15127170
> 
> 赞同：0
> 
> 时间：2013-02-28T03:54:47.993
> 
> 标签：php, arrays

我有一个看起来像这样的数组：

```
{ [0]=> array(4) { "20" ["date"]=> string(10) "2013-01-25" ["content"]=> string(3) "ref" } 
```

和 [1]、[2]... 看起来一样。

我想知道如何订购我的数组，所以 [0] 是最新日期。更改为时间戳不是一种意见。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:06:45.890

您可以使用[*usort()*](http://php.net/manual/en/function.usort.php)并编写自己的比较函数（一个比较“对象” - 内部数组的函数）。

由于日期的编写方式可以进行简单的字符串比较，因此您可以执行以下操作：

```
<?php
function compare($arr1, $arr2) {
   $date1 = $arr1[0];
   $date2 = $arr2[0];
   if($date1 > $date2){
       $ans = 1;
   }
   else if($date2 > $date1){
       $ans = -1;
   }
   else{
       $ans = 0;
   }
   return $ans;
}

$arr = array(array("date"=>"2013-01-25", "content"=>"ref"), 
                array("date"=>"2013-02-25", "content"=>"ref2"), 
                array("date"=>"2013-03-25", "content"=>"ref3")
        );

usort($arr, "compare");
print_r($arr);

?> 
```

**输出：**

```
Array
(
    [0] => Array
        (
            [date] => 2013-03-25
            [content] => ref3
        )

    [1] => Array
        (
            [date] => 2013-02-25
            [content] => ref2
        )

    [2] => Array
        (
            [date] => 2013-01-25
            [content] => ref
        )

) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T03:56:41.693

在您的查询中使用 order by。

```
ORDER BY date 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T04:30:30.283

试试这个：这对多维数组进行排序

```
$sort = array();
foreach($your_array as $k=>$v) {
    $sort['date'][$k] = $v['date'];
}

array_multisort($sort['date'], SORT_DESC, $your_array);

echo "<pre>";
print_r($your_array); 
```

# c# - 如何在 sqlite 和 vb.net 或 c# 中存储图形

> ID：15127171
> 
> 赞同：0
> 
> 时间：2013-02-28T03:54:54.577
> 
> 标签：c#, graph, vb.net-2010

我有一个使用实验数据生成的二维图，我想存储所有图和数据以进行多个实验

我正在考虑使用像这样的桌子

```
id  | value                                                             | n  
--------------------------------------------------------------------------------
1   | {"(0,0)","(125,100)","(200,200)","(297,300)","(4,400)","(5,500)"} |    6 
```

甚至

```
id | x   | y
------------
1    0     0
1   125  100
1   200  200
1   297  300
1   4    400
1   5    500 
```

但我认为这不是一个好方法，最好的方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:03:36.713

我建议这种结构：

过期表

```
id | Title            | Descirption        | .... more info
------------------------------------------------------------------
10   Experiment title   some description
20   Experiment title   some description
30   Experiment title   some description 
```

节点表

```
id| Name  | Description   | ExperimentID ....
------------------------------------------
1   text    more text...        10
2   text    more text...        10
3   text    more text...        10 
```

桌边

```
id| SourceNode| TargetNode
----------------------------
1       1            2
2       1            3
3       3            2
4       3            1 
```

如果您需要为每个节点存储基于像素的位置，则将 (x,y) 添加到节点表...

# regex - 正则表达式检查字符串是否包含一个带符号的单词

> ID：15127176
> 
> 赞同：0
> 
> 时间：2013-02-28T03:55:19.520
> 
> 标签：regex

此正则表达式检查字符串是否包含一个单词，但它读取带有 ' 和 "" 两个单词之类的符号的单词.. 如何允许此正则表达式使用符号？

```
WordCount = New Regex("\w+").Matches(line).Count 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T04:05:56.990

如果只有一个符号，例如**“不要”**或**“女孩”** ，您可以尝试

```
\w+['"]?\w* 
```

这意味着，单词必须以字符开头，可以以**'**或**"结尾**

# c# - 如何检测 Windows Phone 中当前键盘的“建议文本”是否打开

> ID：15127178
> 
> 赞同：0
> 
> 时间：2013-02-28T03:55:46.387
> 
> 标签：c#, silverlight, windows-phone-7, windows-phone-8, windows-phone

在 Windows Phone 中，当键盘向上时，按键上方通常会有一条“提示线”。

对于某些语言，这条建议线始终存在，例如东亚语言。对于其他一些语言，例如英语，我可以通过转到“设置”->“键盘”->“英语”并取消选中“建议文本”来关闭它。还有一些语言根本没有建议行。

我的问题是，如何检测当前键盘是否启用了建议行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T10:40:11.477

不，您无法通过任何 API 检查该信息。在 windows phone 中，一些 API 对开发人员是不可见的。在您的情况下，开发人员也无法访问建议文本信息 API 以进行开发。

# ruby-on-rails - 无法验证数据的下限

> ID：15127180
> 
> 赞同：1
> 
> 时间：2013-02-28T03:55:57.583
> 
> 标签：ruby-on-rails

我试着用

```
validates :price, numerically: {greater_than_or_equal_to: 0.01} 
```

强制价格大于 0.01。但是，无论我输入什么数字，0.001 甚至 0，只要它的数字，它就通过了测试。谁能告诉我为什么以及如何修改它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T04:11:32.690

使用`numericality`代替`numerically`

# html - & 符号的 %26 和 & 有什么区别？

> ID：15127181
> 
> 赞同：3
> 
> 时间：2013-02-28T03:55:58.643
> 
> 标签：html, url, escaping

`%26`我对 &和的两种表示有点困惑`&amp;`。例如，如果我有一个这样的 url: `www.example.com/?title=a&pic=b`，哪一个会达到相同的效果？`www.example.com/?title=a%26pic=b`或者`www.example.com/?title=a&amp;pic=b`

# python-2.7 - 如何填充cpu ram

> ID：15127184
> 
> 赞同：-3
> 
> 时间：2013-02-28T03:56:26.200
> 
> 标签：python-2.7

关于我们如何填充系统的 CPU RAM 的任何帮助？

我想玩一下填充我的 cpu ram 并查看行为。机器在linux操作系统中。

我从论坛以前的问题之一获得了链接，但我不知道如何使用它。[http://docs.python.org/2/library/mmap.html](http://docs.python.org/2/library/mmap.html)

我没有从这里得到合适的东西..

我从我的一位朋友那里听说过使用 malloc，但需要一些指导......

任何帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T03:58:01.867

您要做的是[压力测试](http://en.wikipedia.org/wiki/Stress_testing)。您的操作系统有各种程序可以为您执行此操作。

一些 linux 选项：

*   [内存压力测试](http://freecode.com/projects/stress)
*   [完整的测试套件](http://www.phoronix-test-suite.com/?k=pts_desktop_live)

[这里](http://www.overclockers.com/forums/showthread.php?t=486495)有其他选项的链接。

# c++ - 有什么理由不从另一个文件中#include 来为 C++ 中的众多私有类常量声明？

> ID：15127193
> 
> 赞同：2
> 
> 时间：2013-02-28T03:56:48.013
> 
> 标签：c++, include

当类定义了许多私有常量时，有什么理由不应该在类声明中#include 另一个文件？

我正在编写一个遵循简单状态转换系统的类，并定义一个由多个状态组成的处理计划，每个状态都包含一系列步骤。因为类必须在各种函数中引用这些状态和步骤（例如，当根据当前状态和步骤确定要应用哪个处理时），我最终在类的声明中定义了一堆私有枚举来进行实现可读（所以我可以参考 kStates_ModeTransition 和 kStateSteps_ModeTransition_PrepareNewSetup 等内容，而不仅仅是使用与这些状态和步骤相关的原始整数值）。

随着状态和状态步骤的列表越来越长，枚举的这个集合在类声明的中间变成了相当长的、尴尬的代码块，我觉得这些常量与实现的联系比与接口的联系更多——类的用户不一定要知道它们。有什么理由我不应该将所有这些枚举移动到另一个文件，然后只是将该文件#include 到类声明的私有部分？我还没有遇到过在类的主体中使用#include 似乎合适的另一种情况，所以我想知道是否有更好的方法来处理这个问题，或者有任何特殊原因，这样的#include 是不好的形式。此外，是否有任何合理的标准文件扩展名可用于此类文件，仅用于文本插入（它不是真正的标题......）？只是.txt？

谢谢！

编辑：再看看上面提到的替代方案之一是否完全解决了我的困境：

试图只坚持要领，这是我当前结构的一个例子

```
// Processor.h

class Processor
{
public:

    Processor();
    void Process( float* input, float* output, int numSamples );

private:

    // List of possible states
    enum
    {
        kStates_Default,
        kStates_SettingChangeImmediate,
        kStates_SettingChangeCrossfade,
        kStates_SpecialProcessing,
        kStates_NumStates
    };

    // Lists of steps for each state...
    enum
    {
        kStateSteps_Default_PrepareInput,
        kStateSteps_Default_CalculateIntermediateValues,
        kStateSteps_Default_CalculateOutput,
        kStateSteps_Default_NumSteps
    };

    // Imagine more lists for other states here, with comments...

    // Becoming quite long...

    // Private functions used in implementing various processing steps 
    //      (some are used by multiple state-steps in varying ways)
    void PrivateFunction1();
    void PrivateFunction2();

    // Some member variables here
}; 
```

这用于实时处理环境中，以便在执行块处理任务时更好地平衡 DSP 负载。实际上，这个类继承自一个基类，该基类处理对 Process 的调用的实际调度，并根据需要更新当前状态和状态步骤。Process() 然后由一个 switch 语句组成，该语句根据对象的当前状态和状态步骤执行某些处理功能和 IO。

枚举中声明的值在 Process() 和 processor.cpp 中的其他私有成员函数中使用，其他任何地方都没有。我已将它们声明为私有成员变量，以将它们限定在类内。有没有办法在 .cpp 中声明它们并实现相同的范围？这些都是在编译时优化的常量整数，本质上被用作 #define 的 - 我只是不想使用宏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:14:37.103

所有包含都只是文本包含。由于您包含的文件包含 C++ 语法，因此它应该具有 C++ 标头扩展名（.h 或 .hpp 等）。

您可能不需要将它包含在声明中（如果您发布一些代码，我可以更肯定地说）...您可以将它包含到实现文件中，并将任何枚举成员变量声明为`int`...使用 typedefs ( )的别名，`int`如果你想给他们描述性的类型名称。或者，如果您使用的是 C++11，则可以在不定义枚举类型的情况下前向声明它们，然后您的枚举成员变量将是类型安全的，从而防止分配错误类型的枚举值。

至于您是否有理由不将枚举从类声明中移出并包含该文件的问题：人们总是可以发明不做某事的理由，例如“我们的编码标准说永远不要包含文件顶部以外的文件”，但如果这些任意原因不适用于您，那么不，没有理由。在代码可维护性方面做最有意义的事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T00:20:30.470

最后，在获得将枚举细节分离到 .cpp 实现文件中的好处的同时，实现等效功能的最佳方法似乎是在类的私有部分中使用结构的前向声明，然后定义它结构以包含 .cpp 文件中所需的枚举。

```
// Processor.h

class Processor
{
public:

    Processor();
    void Process( float* input, float* output, int numSamples );

private:

    struct States;     // Used to scope State enum to within class
    struct StateSteps; // Used to scope StateStep enums to within class

    // Other stuff...
}

// Processor.cpp

struct Processor::States
{
    enum
    {
        Default,
        SettingChangeImmediate,
        SettingChangeCrossfade,
        SpecialProcessing,
        NumStates
    };
}

struct Processor::StateSteps
{
    enum
    {
        Default_PrepareInput,
        Default_CalculateIntermediateValues,
        Default_CalculateOutput,
        Default_NumSteps
    };

    enum 
    {
        SettingChangeImmediate_FirstStep,
        // ... other state-steps...
    };
}; 
```

这就是为什么我认为这种结构在这个特定用例中是最好的：

1.  所有枚举列表都被移到 .cpp 文件中，根据需要移出标题的中间，并且可以将包含相同值（例如，从 0 开始计数）的其他 StateStep 枚举添加到 StateSteps 结构的定义中而不会干扰.h 标头（虽然我们可以将条目添加到 forward-declared `enum class`，但我们不能重复相同的值，并且需要`enum class`在标头中添加另一个）。

2.  所有枚举都像以前一样在类的私有部分范围内（尽管也在另一个结构内）。

3.  用于定义编译时整数常量的枚举可能保持匿名且不是强类型`enum class`构造，这可能会误导其他人如何使用枚举（在当前用例中，我们希望能够比较不同的 stateStep枚举值到相同的整数`currentStep`，具体取决于当前状态，就像我们可以使用最初定义的匿名枚举一样）。

以前的答案帮助我得出了这个结论，但我觉得这是一种最接近复制原始定义功能的方式，同时将它们从 .h 文件中移出！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T04:21:50.263

在课堂中使用 an`#include`是非常不规则的，可能会导致问题。如果你在它们自己的命名空间或类中声明你的常量会更好。

例如，这是一个坏主意：

```
class Foo
{
   #include "foostuff.h"
}; 
```

更典型的模式是：

```
#include "foostuff.h"

class Foo
{
   void bar(int x = FooStuff::const_x);
}; 
```

在里面`foostuff.h`你会小心地命名事物，这样它们就不会与你应用程序的其他部分发生冲突。

C++ 的做事方式鼓励在应用程序的不同部分之间重复使用常量，而不是使用`#define`创建宏，这些宏一旦扩展就没有特定的关联。

所有“包含”文件都应该`.h`适用于纯 C 或`.hpp`任何需要支持 C++ 的编译器来解释的文件。其他任何事情都是非标准的，并且至少会导致任何必须维护您的代码的人的蔑视。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T06:06:14.743

新的 C++11`enum class`可能会被前向声明，并且真正的定义被移到实现中。这将清理混乱并减少烦恼。

```
// Procesor.hpp
class Processor
{
public:

    Processor();
    void Process( float* input, float* output, int numSamples );

private:

    // Type of possible states
    enum class kState;
    kState somethingDealingWithState( kState s ); 
};

// Processor.cpp
// List of possible states
enum class Processor::kState
{
    Default,
    SettingChangeImmediate,
    SettingChangeCrossfade,
    SpecialProcessing,
    NumStates
};

Processor::kState Processor::somethingDealingWithState( kState s )
{
    if ( s == kState::Default )
    {
        return kState::SpecialProcessing;
    }
    return kState::Default;
} 
```

# linux - 丢弃 cron 作业的所有输出

> ID：15127194
> 
> 赞同：0
> 
> 时间：2013-02-28T03:56:49.060
> 
> 标签：linux, cron, redhat

在创建 cron 作业时，我总是这样写：

```
15 0 * * * /somepath/somescript.pl > /dev/null 2>&1 
```

关于末尾的位 "> /dev/null 2>&1" 丢弃所有标准错误和标准输出，多年来我一直看到许多不同的专业人士这样写，他们中的大多数人都比 Linux 更了解我。今天我发现可以更简单地写成：

```
15 0 * * * /somepath/somescript.pl &>/dev/null 
```

这使其不那么可读。有什么理由不常用第二个吗？有什么缺点吗？我们主要使用 Red Hat Enterprise Linux 5。

谢谢，迈克尔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T10:28:29.020

两者都很好，我知道的唯一区别是你不能用第二种方法覆盖文件。

```
15 0 * * * /somepath/somescript.pl >> /dev/null 2>&1 
```

将工作

```
15 0 * * * /somepath/somescript.pl &>>/dev/null 
```

不适用于 Bash pre 版本 4

# algorithm - 图像爬取和索引算法（按图像颜色）和文本搜索给出相应的图像

> ID：15127195
> 
> 赞同：0
> 
> 时间：2013-02-28T03:56:50.317
> 
> 标签：algorithm, image-processing, lucene, indexing, inverted-index

我有一个搜索引擎，它通过在倒排索引中查看搜索到的文本来搜索文本并编写相应的网页集，并抛出相应的网页。

现在我想再添加一个功能，就是它会根据颜色进行搜索。

例如，当我搜索“ **RED SHOES** ”时，它会显示所有倒排索引数据结构中的红鞋。

我对相同算法的看法，

1.  在不同的地方制作图像的数据结构。
2.  每当找到图像时，就像夹克的图像一样，因此使用一些颜色查找算法计算其所有颜色。
3.  将该图像放入所有颜色索引中。

所以这是我的爬行方法，当任何像“红鞋”这样的搜索出现时。它通过查看红色索引找到相应的红色项目。

这是我的算法构建阶段，这就是为什么我没有为上述算法编写任何代码。一旦我得到了正确的方法，我就开始了我的编码阶段。

所以请给我一个建议，

这是一个好的算法吗？或者

是否需要任何优化或更改，如果是，请与我分享/讨论这些更改。

提前致谢。寻找您的善意回应。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:06:10.407

对于任何可扩展的搜索引擎，如果没有图像分析，您几乎肯定会更好。相反，请考虑通过 eg`<img>`标签中的属性文本来索引图像。例如，如果图像的替代文本是`"red shoes"`，那么您可以在该文本下索引图像。当您稍后搜索时`"red"`，图像将有机会被返回。

如果您对进行这种图像分析很*认真，您可以使用诸如图像魔术之类的库来计算颜色直方图。*然后，您可以应用一个聚类模型甚至只是一个决策树来注意特定范围内的大量颜色，并声明一组颜色标签（如`"red"`、`"rouge"`、`"vermillion"`等），然后将图像索引在这些标签下。

如果您感到非常*疯狂*，您可以对直方图本身进行余弦相似度。这将让您提交图像作为*查询*。不过，不知何故，我认为这不是你的想法。

# python - 如何打印元组列表

> ID：15127197
> 
> 赞同：17
> 
> 时间：2013-02-28T03:56:54.790
> 
> 标签：python

我有一个元组列表，称为`gradebook`，其中每个列表元素都是一个元组，对应于学生可以获得的课程和成绩。例如，

```
gradebook = [('Math 212', 'Linear Algebra', 'Fall 2012', 'B'),  
             ('CS 130', 'Python', 'Spring 2013', 'A')] 
```

等等。我希望它像这样打印：

```
Class: Math 212.....Subject: Linear Algebra.....Term: Fall 2012.....Grade: B`  
Class: CS 130.......Subject: Computer Science...Term: Spring 2013...Grade: A` 
```

我希望能够遍历列表中的每个元组，然后打印出元组的每个元素。我怎样才能做到这一点？

编辑：这就是我现在所拥有的：

```
for aTuple in gradebook:
    print(aTuple) 
```

抱歉，我对 Python 很陌生，所以我不太了解它是如何工作的。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-02-28T04:03:38.407

通用格式，您可以遍历列表并访问元组的索引：

```
for x in gradebook:
    print x[0], x[1] 
```

本例中的 x[0] 将为您提供元组的第一部分，以及 x[1] .... 等等。弄乱并尝试这种格式，您应该能够自己完成其余的工作。

编辑：虽然这里的其他一些答案更好，但从某种意义上说，它们解包元组并更密切地遵循“Python 方式”。像这样：

```
a, b, c = ('a','b','c') 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-02-28T04:04:28.937

或者你可以这样做...

```
for id, name, semester, grade in gradebook:
    print id, name, semester, grade 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-28T04:12:21.600

```
gradebook = [('Math 212', 'Linear Algebra', 'Fall 2012', 'B'), ('CS 130', 'Python', 'Spring 2013', 'A')]

fieldwidths = 13, 19, 14, 1
for tup in gradebook:
  tup = (s.ljust(w, '.') for s,w in zip(tup, fieldwidths))
  print 'Class: {}Subject: {}Term: {}Grade: {}'.format(*tup) 
```

我已手动设置字段宽度以匹配您的示例。但是您可能更喜欢以智能方式生成字段宽度，即基于成绩簿中元素长度的列最大值。

下一次，更好的成绩簿条目数据结构将是 a`dict`而不是`tuple`.

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-28T05:41:10.210

您可以定义一个函数命名`__str__(self)`，它在类中返回一个类似于“Class: Math 212.....Subject: Linear Algebra.....Term: Fall 2012.....Grade: B”形式的字符串。然后你可以使用你的代码：

```
for aTuple in gradebook:
    print(aTuple) 
```

得到预期的输出。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-28T04:04:04.323

使用[字符串格式](http://docs.python.org/2/library/stdtypes.html#string-formatting)：

```
for aTuple in gradebook:
        print('Class: %s.....Subject: %s.....Term: %s.....Grade: %s' % aTuple) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-28T04:18:17.457

您可以通过分配元素名称来索引（如果您正在计算某些东西，有时会很方便）：

```
for (a, b, c, d) in gradebook:
    print "Class: ", a, "...Subject: ", b, "...Term: ", c, "...Grade: ", d 
```

班级：数学 212 ...主题：线性代数 ...学期：2012 年秋季 ...等级：B

课程：CS 130 ...主题：Python ...学期：2013 年春季 ...等级：A

为了更均匀的间距：

```
for (a, b, c, d) in gradebook:
    print "Class: ", a, "."*(20-len(a)), "Subject: ", b, "."*(20-len(b)), "Term: ", c, "."*(20-len(c)), "Grade: ", d 
```

班级：数学 212 ......学科：线性代数......学期：2012 年秋季......成绩：B

课程：CS 130 ........ 主题：Python ........ 学期：2013 年春季............年级：一种

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-28T04:23:05.493

我对python中一些更高级的格式化选项不太熟悉。话虽如此，这将按要求显示结果。您可以通过索引访问每个元组中的元素。 `'.'*(#-len('column info'+g[i]))`通过从列宽中减去字符串的长度来给出正确的句点数。要在元素之间不带空格的情况下打印，请使用`sep=''`in`print()`

```
gradebook = [('Math 212', 'Linear Algebra', 'Fall 2012', 'B'), ('CS 130', 'Python', 'Spring 2013', 'A')]
for g in gradebook:
  print('Class: ', g[0], '.'*(20-len('Class: '+g[0])), 
  'Subject: ', g[1], '.'*(28-len('Subject: '+g[1])), 
  'Term: ', g[2], '.'*(20-len('Term: '+g[2])), 
  'Grade: ', g[3], sep = '') 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-03-01T23:27:02.363

```
gradebook = [('Math 212', 'Linear Algebra', 'Fall 2012', 'B'),
             ('CS 130', 'Python', 'Spring 2013', 'A'),
             ('Economics History','1914','Fall 14','D')]

fields = '...'.join( '{:.<%ds}' % max(map(len,cat))
                     for cat in zip(*gradebook) )

print 'fields :\n%r\n\n' % fields

def disp(x,fields=fields):
    if all(isinstance(el,tuple) for el in x):
        # x is a collections of tuples
        print '\n'.join(fields.format(*el) for el in x)
    elif all(isinstance(el,str) for el in x):
        # x is a collection of strings
        print fields.format(*x)

print 'disp(gradebook) :\n\n',
disp(gradebook)
print '\n'
print 'disp(gradebook[1]) :\n\n',
disp(gradebook[1]) 
```

结果

```
fields :
'{:.<17s}...{:.<14s}...{:.<11s}...{:.<1s}'

disp(gradebook) :

Math 212............Linear Algebra...Fall 2012.....B
CS 130..............Python...........Spring 2013...A
Economics History...1914.............Fall 14.......D

disp(gradebook[1]) :

CS 130..............Python...........Spring 2013...A 
```

# android - 在 Windows server 2008 上托管文件

> ID：15127201
> 
> 赞同：0
> 
> 时间：2013-02-28T03:57:00.563
> 
> 标签：android, hosting, windows-server-2008

简单的问题可能：

我有一台运行 windows server 2008 r2 的服务器。我有一个 android 应用程序 .apk 文件，我希望可以将其下载到本地的 android 设备上（都在同一网络上）。我该怎么做呢？我在哪里放置 .apk 文件，以及如何在 android 上导航到它？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T04:16:51.237

您可以在您的服务器上建立一个网站并将您的 apk 文件放在它下面。从客户端（Android 设备），您可以使用浏览器导航到它。

# ruby-on-rails - 如何居中 field_with_errors 类

> ID：15127204
> 
> 赞同：1
> 
> 时间：2013-02-28T03:57:11.173
> 
> 标签：ruby-on-rails, ruby-on-rails-3, forms, css, devise

我最近安装了 Devise，并且登录表单正常工作，显示错误等...

然而，注册表单表现得很奇怪，即当显示错误时，它们出现在左侧，与应用程序的其余部分不成比例。这是一个屏幕截图来说明： http: [//i.imgur.com/1r4hQMM.png](http://i.imgur.com/1r4hQMM.png)注意：这只发生在有错误时，否则它会居中。

现在我尝试使用以下内容编辑 field_with_errors CSS：

```
.field_with_errors {
  display: block;
  clear: both;
text-align: center; } 
```

而且，它仍然在左侧。我注意到浮动：对；似乎将它向右移动，但我怎样才能将它与表格的其余部分放在中间？

field_with_errors 在 CSS 中似乎非常顽固。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:53:30.247

如果您想使文本居中，则`text-align: center`可以，但在这种情况下，您希望将整个元素居中，因此应该使用`margin: auto auto`。

享受！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-06-18T17:24:22.223

你也可以使用弹性盒子

```
.my class {
    display: flex;
    align-items: center;
    justify-content: center; 
```

# shell - shell脚本授权命令在mysql中不起作用

> ID：15127207
> 
> 赞同：0
> 
> 时间：2013-02-28T03:57:20.780
> 
> 标签：shell

我创建了一个如下所示的 shell 脚本。目的是在远程机器上创建一个数据库，并为远程机器上的特定用户授予该数据库的所有权限。
shell脚本如下。

> ssh root@10.3.2.0 'echo "数据库名称：";
> 读取 db_name；
> 回声“数据库用户：”；
> 读取 db_user；
> echo "用户密码：";
> 读取密码；
> 主机=本地主机；
> sql1="创建数据库 $db_name;";
> sql2="grant all on ${db_name}.* to ${db_user}@${host} 由“${password}”标识；";
> sql3="${sql1}${sql2}";
> mysql -u root -p -e "${sql3}";
> '

我得到的输出如下

> root@10.3.2.0 的密码：
> db 名称：
> amblex
> db 用户：
> qbadmin
> 用户密码：
> xxxx
> 输入密码：xxxx
> ERROR 1064 (42000) at line 1: You have an error in your SQL syntax; 检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行
> 的“qburst”附近使用正确的语法

我的脚本中可能有什么错误。请帮助我解决这个问题。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T04:12:25.390

代替 ...

```
sql2="grant all on ${db_name}.* to ${db_user}@${host} identified by "${password}";"; 
```

... 试试这个 ...

```
sql2="grant all on ${db_name}.* to ${db_user}@${host} identified by \"${password}\";"; 
```

此外，您可能要考虑使用`expect`.

# r - R 绘制边距和虚线 y 轴

> ID：15127208
> 
> 赞同：2
> 
> 时间：2013-02-28T03:57:36.510
> 
> 标签：r

无论如何用绘图函数的虚线替换你的y轴？

另外，你如何增加整个情节区域的边距？这可以在布局中指定吗？

如果你看我的窗户边缘下面是平均温度。

[![](../Images/b973307e1a6d325531497992d5241a94.png "由 imgur.com 主办")](https://imgur.com/GOXZiql)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T04:05:25.700

对于您的第一个问题，您可以使用`axis`，例如：

```
> plot(1:10,  axes=FALSE)      ### to not plot the default ones
> axis(1,lty='dashed',lwd=3)
> axis(2,lty=3,lwd=2) 
```

第二部分不清楚。您不能在布局命令中指定边距。

![在此处输入图像描述](../Images/b3e8870ea23e2ecefeef9250da1be5b9.png)

**EDIT**设置绘图的外边距。

默认情况下，页面上没有外边距。可以使用**oma**图形状态设置指定外边距。这包括按顺序（下、左、上、右）的四个边距的四个值，并且值带有单位线。

例如：

```
 old.oma <- par(oma=c(5,5,0,1))  #bottom 5 lines,left 5lines,right 1line 
```

![在此处输入图像描述](../Images/5a28c3bb9d581170f79d7929b1a9de42.png)

# hibernate - 降级休眠版本

> ID：15127213
> 
> 赞同：0
> 
> 时间：2013-02-28T03:58:10.607
> 
> 标签：hibernate, spring-mvc

我有以下基于 Hibernate 4.1.7.Final 的配置

```
<bean id="transactionManager"
        class="org.springframework.orm.hibernate4.HibernateTransactionManager"
        p:sessionFactory-ref="sessionFactory" />

    <bean id="sessionFactory"
        class="org.springframework.orm.hibernate4.LocalSessionFactoryBean"
        p:packagesToScan="com.ucmas.cms.entity" p:dataSource-ref="dataSource">
        <property name="hibernateProperties">
            <props>
                <prop key="hibernate.show_sql">false</prop>
                <prop key="hibernate.hbm2ddl.auto">update</prop>
            </props>
        </property>
    </bean> 
```

但是，现在我想用 hibernate 3.6.0.Final 达到相同的结果。我可以知道配置应该是什么样子吗？我试图将 org.springframework.orm.hibernate4.LocalSessionFactoryBean 更改为 org.springframework.orm.hibernate3.LocalSessionFactoryBean，但它给出了“找不到属性的设置器”packageToScan。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T04:02:24.083

您需要使用`org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean`而不是`org.springframework.orm.hibernate3.LocalSessionFactoryBean`.

`LocalSessionFactoryBean`在 spring-hibernate3 中，工厂不支持注释，对于注释支持，它们具有`AnnotationSessionFactoryBean`，但在 hibernate4 支持中，它们默认启用它。

并且需要使用`org.springframework.orm.hibernate3.HibernateTransactionManager`事务管理器

# scala - 在scala中为文件读取创建惰性序列

> ID：15127221
> 
> 赞同：0
> 
> 时间：2013-02-28T03:59:06.017
> 
> 标签：scala, lazy-evaluation

我想创建惰性序列以从 Scala 中的输入流中读取值。

```
import java.util._

object Main {
    val input = new Scanner(System.in)
    def main(args: Array[String]) {
        val it = new MyIt().take(5)

    }
    class MyIt extends Iterator[Int] {
        def hasNext = true
        // def next = 29
        def next = input.nextInt
    }
} 
```

当我将 next = 29 更改为 next = input.nextInt 时，它不会再编译并抱怨 MyIt 没有成员获取。看来我完全误解了一些东西。您能否给我提示（或者可能链接到关于惰性序列的好文章 - 谷歌有很多结果，但似乎垃圾太多 - 所以我迷路了）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T04:15:57.710

`import java.util._`覆盖`scala.collection.Iterator`（默认情况下通过`scala`包对象中的类型别名可用）`java.util.Iterator`。只需将您的导入更改为`import java.util.Scanner`

# android - 如何进行全屏活动？

> ID：15127225
> 
> 赞同：-7
> 
> 时间：2013-02-28T03:59:19.800
> 
> 标签：android

如何在没有按钮的返回、主页、屏幕底部的情况下进行活动布局。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:19:23.370

估计这是不可能的。Android 必须为用户提供返回主屏幕或退出应用程序的方法。因此，应用程序无法完全删除它们。

# mysql - 如何使用 INSERT 防止竞态条件？

> ID：15127227
> 
> 赞同：0
> 
> 时间：2013-02-28T03:59:36.793
> 
> 标签：mysql, sql, pdo, innodb, race-condition

在将行插入到不包含唯一索引的表中时，我将如何防止竞争条件。例如说我的桌子是....

```
key | slot | label
------------------
 1  |  1   | some
 1  |  2   | some
 2  |  1   | some
 2  |  2   | some 
```

...是防止这种竞争条件创建复合唯一字段（例如“key：slot”）的唯一方法，例如

```
id  | key | slot | label
------------------------
1:1 |  1  |  1   | some
1:2 |  1  |  2   | some
2:1 |  2  |  1   | some
2:2 |  2  |  2   | some 
```

...或者有没有更有效的方法逃脱了我？如果我要在执行插入后检查重复行并在找到任何发现时回滚事务怎么办？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T04:02:19.973

实际上你可以在没有`key:slot`专栏的情况下做到这一点。您可以在表上定义唯一的复合键。例如，

```
ALTER TABLE tableName ADD CONTRAINT tb_uq UNIQUE (`key`, slot) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T04:04:12.127

如何在插入时使用[LOCK TABLES](http://dev.mysql.com/doc/refman/5.0/en/lock-tables.html)语法来防止竞争条件？

# macos - 无法在 Mac 上注册 Apple 推送通知服务

> ID：15127229
> 
> 赞同：5
> 
> 时间：2013-02-28T03:59:51.160
> 
> 标签：macos, cocoa, push-notification, apple-push-notifications

我从 Apple 网站下载了[PushyMac](http://developer.apple.com/library/mac/#samplecode/PushyMac/Introduction/Intro.html)示例应用程序，但无法弄清楚为什么我无法在应用程序启动时注册推送通知。这是我得到的错误

```
2013-02-27 19:53:49.737 PushyMac[61525:303] applicationDidFinishLaunching:
2013-02-27 19:53:49.738 PushyMac[61525:303] didFinishLaunchingWithOptions: 
    notification name NSApplicationDidFinishLaunchingNotification
2013-02-27 19:53:49.753 PushyMac[61525:303] application:didFailToRegisterForRemoteNotificationsWithError: with
error = Error  Domain=NSOSStatusErrorDomain Code=1 "The operation
couldn’t be completed. (OSStatus error 1.)" (kCFHostErrorHostNotFound / 
kCFStreamErrorSOCKSSubDomainVersionCode / kCFStreamErrorSOCKS5BadResponseAddr / 
kCFStreamErrorDomainPOSIX / evtNotEnb / siInitSDTblErr / kUSBPending / dsBusError / 
kStatusIsError / kOTSerialSwOverRunErr / cdevResErr / EPERM:  / Error code is the version 
of SOCKS which the server wishes to use /  / POSIX errno; interpret using <sys/errno.h>  / 
event not enabled at PostEvent / slot int dispatch table could not be initialized. /  / 
bus error /  /  / Couldn't get a needed resource; alert / Operation not permitted) 
```

知道为什么会发生这种情况吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-28T04:45:17.167

当您的应用程序未正确进行代码签名时会发生这种情况

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-07-30T08:53:29.763

在我的 Mac 上注销并重新登录 iCloud 后，我刚刚收到相同的错误消息。我通过转到 Xcode 中目标的 Capabilities 选项卡解决了这个问题。在 iCloud 下，显示了一个问题，通过按修复按钮自动修复。

# android - 根据单击的按钮，将不同请求发送到数据库 (SQL) 的应用程序

> ID：15127230
> 
> 赞同：0
> 
> 时间：2013-02-28T03:59:51.760
> 
> 标签：android, sql, methods, cursor, adapter

我仍然是 Android 开发的初学者，并且会尝试通过我脑海中的模式尽可能清楚地说明我的问题。

**此应用程序的目的：**
- 我希望用户可以在几个按钮之间进行选择，当单击其中任何一个按钮时，它会根据按钮打开一个包含不同内容的列表视图。例如：如果您单击“Category_1”按钮，则只有具有合适 id 的元素才会出现在列表视图中。

**到目前为止，我已经：**
- 定义了我的“处理程序”类（扩展 SQLiteOpenHelper）：DB 的名称/路径、CRUD 的定义、.getReadableDatabase 等
- 为我的表定义一个类，在我的例子中是“Restaurants.java” getter/setter 和构造函数。- 为我的按钮定义了带有空侦听器的 MainActivity。
- 定义了我的“DatabaseAdapter.java”，我想在其中定义将与数据库通信并从中获取我想要的信息的方法/sql 请求。
- 定义了我的 ListViewActivity，到目前为止没有任何显示。

这是我想要的模式，以及如何尝试优化我的应用程序的想法：
![架构](../Images/d245fffbbbfbd1534e5496b604bf0ee5.png)

**总结一下：**
- 我希望每个按钮都有一个监听器，将变量设置为某个值（例如：“如果单击 1，则将 A 的值设置为 1”）并打开 ListViewActivity。
- 将在“...Adapter.java”中定义一个方法，将请求发送到数据库，并将之前定义的变量 A 作为输入。- 然后，当单击按钮时，ListViewActivity 将打开并调用“..Adapter.java”中的方法，并最终显示结果。

**所以，这是我的问题：**
- 首先，设计是否优化到足以让我的应用程序快速运行？我认为它应该因为所有按钮只打开一个活动，并且所有按钮只定义一种方法。
- 我很难在“...Adapter.java”中定义方法，该方法将从我的 ListViewAcitivity 中调用。输入应该是单击按钮时获得的变量，但我真的不知道如何在一个活动中获取变量，打开第二个活动，通过在第三个活动中使用变量来显示结果...：s
是当我们单击一个按钮并在另一个类中将此变量用作方法的输入时，是否可以将变量设置为某个值？

```
public findNameInTable(int A){  
string sql = " select NAME from MY_TABLE where CAT1 = " + A;  
c = database.rawQuery(sql, null); } 
```

提前感谢任何可以帮助我实现我的应用程序的指示、建议或链接，如果有些问题真的听起来是新手，我很抱歉，我开始了！
祝你有美好的一天 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T05:38:44.510

第 1 部分：我发现将变量传递给其他活动的最佳方法是使用`putExtra(String, variable);`. 假设您在按下按钮时更改了变量名称，然后您可以调用：

```
YourNewActivityClassName var = new YourNewActivityClassName();
Intent i = new Intent(context, YourNewActivityClassName.class);
i.putExtra("name", name);
startActivity(i); 
```

然后在刚刚创建的activity中，可以在onCreate方法中调用这个：

```
Intent i = getIntent();
final String name = i.getStringExtra("name"); 
```

当然，这是假设在调用 putExtra 之前将变量定义为字符串。

如果您想使用其他变量类型，您可以调用不同的 get***Extra 命令，`getIntExtra(int, defaultval)`但 putExtra 仍将用于发送它。

第 2 部分：为了调用在按钮单击中分配了变量的方法，我发现最好的方法是使用“持有者类”，这个持有者可以定义为最终的，并且按下按钮将值分配给一个它的插槽。这是我的整数持有人：

```
public class holder {
    int to;

    public void setTo(int to){
        this.to = to;
    }
    public int getTo(){
        return to;
    }
} 
```

我在我的 on create 中将我的类实例化为 final，然后在列表单击侦听器中`final holder hold = new holder();` 调用我的类。`hold.setTo(int);`当我想获取数据时，我只需调用`hold.getTo();`并得到我的整数。

这是一个类似的帖子：[在公共无效 onClick 之外传递值](https://stackoverflow.com/questions/6852086/pass-value-outside-of-public-void-onclick)

希望这可以帮助！麦克风

# sql-server-2005 - SQL Server 2005 外键级联

> ID：15127232
> 
> 赞同：3
> 
> 时间：2013-02-28T04:00:03.643
> 
> 标签：sql-server-2005

我有一个表`ParentTable`( `id, Name, town`) 及其子表`human`( `mother, father`)，其中两列都包含到父表的映射。

父表的列`town`包含带有`Town`( `townid, townname`) 的外键引用，并且该城镇添加了外键引用。

现在的问题是我需要为人类表提供级联约束，但在 SQL Server 中，同一父表的多个列不能级联。所以我创建了这样的触发器，

```
create trigger DEL_Parent                                             
ON Parent  
instead of delete as      
   set nocount on       

   delete from human       
   where mother IN (select id from deleted)        
      or father IN (select id from deleted)

 delete from Parent where id in(select id from deleted). 
```

但是当我尝试执行触发器时，系统显示以下错误

> *无法在表 Parent 上创建而不是删除或更新触发器 DEL_Parent。这是因为该表有一个具有级联删除或更新的外键。*

如何解决问题？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T04:14:22.360

将查询修改为：

```
create trigger DEL_Parent                                             
ON Parent  
after delete as      
  set nocount on       

  delete 
  from human       
  where mother IN (select id from deleted)        
     or father IN (select id from deleted)

  delete 
  from Parent 
  where id in(select id from deleted) 
```

因为`INSTEAD OF DELETE`不能在具有通过`DELETE`操作定义的外键的表上定义触发器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T04:06:33.853

不能在具有使用 DELETE 操作定义的外键的表上定义 INSTEAD OF DELETE 触发器。

来源： http: [//msdn.microsoft.com/en-us/library/ms191208 (v=sql.90).aspx](http://msdn.microsoft.com/en-us/library/ms191208(v=sql.90).aspx)

所以，我想如果你愿意的话，如果你仍然想强制执行它，你将不得不放弃`cascade delete`并用触发器来处理它。

# c++ - 专注于特定窗口的键盘事件

> ID：15127240
> 
> 赞同：1
> 
> 时间：2013-02-28T04:00:58.547
> 
> 标签：c++, events, keyboard

我正在研究使用人类手势进行游戏控制。我正在尝试在识别特定手势时模拟按键。我为此使用 keybd_event。但是发生的事情是在记事本文件上模拟键。但是当我尝试游戏时，键没有得到模拟。我究竟做错了什么？？

keybd_event(0x41,0xb8,0, 0); //一个按下的keybd_event(0x41,0x8f, KEYEVENTF_KEYUP,0); // 一个释放的

# javascript - 捕获“touchmove”事件时访问触摸历史记录

> ID：15127242
> 
> 赞同：1
> 
> 时间：2013-02-28T04:01:09.623
> 
> 标签：javascript, multi-touch, gesture, touchmove

我正在尝试学习如何在浏览器中使用[`touchmove`事件](https://developer.mozilla.org/en-US/docs/Mozilla_event_reference/touchmove)来检测多点触控手势。当一个 touchmove 事件被捕获时，我可以获得**当前**触摸点的列表。然而，这对于检测手势不是很有用。我喜欢获取触摸事件的历史。例如，我想获取每个当前不同接触点之前的最后 10 个接触点（如果可用）的列表。我画了下图，试图形象化我所追求的：

![在此处输入图像描述](../Images/704e1fdf660df50bdc44ec2957247a07.png)

正如我在这个场景中所说的那样，用户在屏幕上以两种不同的模式（来自不同手的手指）拖动两个单独的手指，我在`touchmove`事件中只收到两个触摸点。是否可以访问两个点在到达*A*点和*B*点之前的位置的历史记录？

`touchmove`以下是用于捕获事件的相关代码：

```
document.addEventListener('touchmove', touchMove, false);

function touchMove(e) {
  console.log("length is: ", e.touches.length);
  e.preventDefault();
} 
```

请不要推荐第三方库——我的目标是学习如何定义和检测我自己的自定义真正的多点触控手势。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-20T11:00:35.817

是的，您可以将先前的位置存储在数组中并对其进行迭代。

1.  `touchstart`在事件中重置他们的历史
2.  在`touchmove`事件内部，将当前坐标作为对象推送到通过对象的`identifier`属性标识的每个数组上`Touch`。推入数组后，您可以访问 slice(-10)`中可用对象的坐标`pageX`和`pageY`属性。`Touch``event.targetTouches. To only store 10, call`

# ember.js - 使用 Ember.js rc1 正确生成表单和处理提交

> ID：15127243
> 
> 赞同：2
> 
> 时间：2013-02-28T04:01:10.937
> 
> 标签：ember.js

我无法弄清楚如何正确填充和接受来自 RC1 下的 Ember 表单的更新。我把它归结为[这个 jsfiddle 中](http://jsfiddle.net/ayoung/L9HMm/)的基本要素。我已经做得足够远，可以显示特定实体（具有名字和姓氏的用户）的表单，并且当前值填充在字段中。但是，当用户键入时，字段实际上会随着每次击键而更新，单击后退按钮会显示数据已经更改，而无需单击更新按钮。我希望在更新之间保留一些逻辑，并且仅在用户单击更新按钮后才确认更新。

```
{{#view App.PersonFormView}}
  First name: {{view Ember.TextField valueBinding="firstName"}}
  Last name: {{view Ember.TextField valueBinding="lastName"}}
  <button {{action "updatePerson"}}>Update</button>
{{/view}} 
```

在表单模板中，我试图遵循 Ember.js 示例之一，但这样做会导致长时间延迟和使用 RC1 的可怕弃用警告。我认为这些示例仍在更新中。如果它存在，我更喜欢一种更优雅的方式来编码表单。

第二个问题是我无法在表单视图或控制器上捕获提交事件本身。我不知道这个活动要去哪里。

```
App.PersonFormController = Ember.ObjectController.extend({
  updatePerson: function(params){
    // this doesn't get triggered as I would have expected
    console.log('controller updatePerson: '+params);
  }
});
App.PersonFormView = Ember.View.extend({
  tagName: 'form',
  updatePerson: function(params){
    // this doesn't get triggered either!
    console.log('updatePerson params: '+params);
  }
}); 
```

总之，我需要：

*   使用值填充输入字段，而无需在用户键入时将它们直接链接回模型的数据
*   捕获提交按钮的（或其他控件会很好）单击事件以及字段 - 以及实体的 ID - 以便我可以手动将它们设置回模型的数据

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-28T10:44:01.343

有几件事：

> > 我无法捕获提交事件本身

事件在控制器和路由中触发，而不是在视图中触发。您的控制器`PersonFormController`未捕获事件的原因是名称错误。控制器应该以路由命名：`EditPersonController`.

将模型与动作一起传递通常很好：

```
<button {{action "updatePerson" content}}>Update</button> 
```

这是捕捉事件的更新版本：http: [//jsfiddle.net/teddyzeenny/L9HMm/5/](http://jsfiddle.net/teddyzeenny/L9HMm/5/)

> > 使用值填充输入字段，而不将它们直接链接回模型的数据

将字段直接绑定到模型通常是一种很好的做法，以避免代码重复。

您的问题不是字段直接绑定到模型，而是您无法控制正在发生的事情（已保存，未保存，离开路线......）

要获得可靠的控制，最好将更新逻辑放在您的路线中。这样，当用户进入/离开路线时，您可以采取相应的行动。

要在路线中捕捉您的事件：

```
App.EditPersonRoute = Ember.Route.extend({
    events: {
        updatePerson: function(record) {
          record.one('didUpdate', this, function() {
            this.transitionTo('index');
          });
          record.get('transaction').commit();
        }
    }
}); 
```

如果用户没有点击，要回滚更改，请在路由中`Update`使用`deactivate`回调：

```
App.EditPersonRoute = Ember.Route.extend({
    deactivate: function() {
      this.modelFor('editPerson').get('transaction').rollback();
    },
    events: {
        updatePerson: function(record) {
          record.one('didUpdate', this, function() {
            this.transitionTo('index');
          });
          record.get('transaction').commit();
        }
    }
}); 
```

现在这些将无法正常工作，因为您没有使用 ember-data 模型。

# couchbase - Couchbase UI 的网址是什么？

> ID：15127244
> 
> 赞同：3
> 
> 时间：2013-02-28T04:01:41.097
> 
> 标签：couchbase

我之前用过couchdb，非常喜欢这个UI，因为我可以直接在UI中创建视图并测试它们并查看文档。

因为，我需要扩展，我开始使用 couchbase。但是，安装 couchbase 后，我不知道 couchbase 客户端 UI 的 url。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T15:07:54.233

只需使用集群中任何节点的公共 IP 并连接到端口 8091，例如[http://example.com:8091](http://example.com:8091)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T21:28:08.237

是的，它是通过 8091 提供的。但我会通读文档的这一部分：http: [//www.couchbase.com/docs/couchbase-manual-2.0/couchbase-bestpractice-cloud-ip.html](http://www.couchbase.com/docs/couchbase-manual-2.0/couchbase-bestpractice-cloud-ip.html)；说到IP。

//丹尼尔

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-03-31T21:48:49.950

CouchDB 的 GUI 位于[http://127.0.0.1:5984/_utils](http://127.0.0.1:5984/_utils)

# ruby - 无法以非 root 用户身份使用 rvm 安装 gem

> ID：15127246
> 
> 赞同：0
> 
> 时间：2013-02-28T04:01:45.647
> 
> 标签：ruby, sinatra, rvm

```
$ gem install sinatra
Fetching: rack-1.5.2.gem (100%)
ERROR:  While executing gem ... (Gem::FilePermissionError)
    You don't have write permissions for the /usr/local/rvm/gems/ruby-2.0.0-p0 directory. 
```

在我的`/etc/profile`我已经插入：

```
source /usr/local/rvm/scripts/rvm 
```

注意：我使用的是 vagrant，group:user 是`admin:vagrant`. 此外，如果这是相关的：

```
$ echo $GEM_HOME
/usr/local/rvm/gems/ruby-2.0.0-p0 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T04:05:31.680

尝试添加这一行：`gem: --user-install`在`$HOME/.gemrc`文件中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T04:07:06.003

使用`rvm gem install sinatra`. 不要使用`sudo`它会导致问题。

# python - 如何定义回文

> ID：15127249
> 
> 赞同：0
> 
> 时间：2013-02-28T04:01:59.453
> 
> 标签：python, palindrome

我正在尝试定义回文。这是我到目前为止所拥有的，但我不确定接下来会发生什么，有人可以帮助我。

```
def palindrome(x):

    if x % 2==0:
        index1=0
        index2=0
        aString=str(x)
        number=len(aString)
        index1=number / 2
        index2=number / 2 -1
    else:
        index1=0
        index2=0
        aString=str(aString)
        number=len(aString)
        index1=number / 2 +1
        index2=number / 2 -1 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T04:05:58.207

你可以尝试这样的事情：

```
sampleString[::-1] == sampleString 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T04:07:36.620

尝试这个：

```
def palindrone(x):
    return x == x[::-1] 
```

例如：

```
>>palindrone("dad")
True 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-28T04:10:27.113

为了检查一个单词/字符串是否是回文，这就足够了，尽管正如[其他人指出](https://stackoverflow.com/a/11759118/869912)的那样，这是一个内存昂贵的解决方案：

```
def ispal(s):
    return s == s[::-1] 
```

要检查一个数字是否是回文，存在几种解决方案（我的列表绝不是详尽的）：

```
import math

def ispal(n):
    return str(n) == str(n)[::-1]

def ispal2(n):
    digits = math.floor(math.log10(n) + 1)
    for ex in range(1, math.ceil(digits/2)):
        leftdigit = math.floor(n / 10**(digits - ex)) % 10
        rightdigit = math.floor(n / 10**(ex - 1)) % 10
        if not(leftdigit == rightdigit):
            return False

    return True 
```

# r - 在多个 time="" 变量上使用 reshape？

> ID：15127255
> 
> 赞同：5
> 
> 时间：2013-02-28T04:02:26.553
> 
> 标签：r, reshape

所以这就是我想要做的。我有一个数据集，所有结果都列在一个列中，但是观察它们的步骤和用于观察它们的方法在不同的列中。我将多个站点视为唯一标识符。并非每个站点都有相同数量的步骤或方法，也不是每个方法都在每个步骤中完成。例如，站点 a1 可能在每个步骤都有步骤 s1-s5 和方法 m1-m25，而站点 a9 可能有步骤 s1-s15，但只有方法 m3-m9。基本上，给定站点/步骤/方法可能会丢失数据。不是每个站点都有每个步骤，也不是每个步骤都有每个方法。原始数据集看起来有点像这样：

```
site step   method  outcome
a1   S 1    m1      5
a1   S 1    m2      1
a1   S 2    m6      4
a2   S 1    m6      1a
a2   S 1    m4      3
a2   S 3    m7      2
a2   S 4    m2      7
a3   S 1    m1      2a
a3   S 1    m2      c11
a4   S 1    m4      2
a4   S 2    m2      5
a5   S 3    m3      6
a6   S 2    m1      7   
a6   S 3    m4      8 
```

结果有一些数字和字符值，具体取决于方法

step 是唯一真正的“时间”变量，但我觉得我也需要将 r 视为一种方法。现在数据的方式有很多行，只有这几列，现在数据的设置方式我无法对其进行任何分析。

我使用 reshape 如下（我尝试过其他 reshape 语句，但这是一个例子），不幸的是不会让我使用 2 个时间变量

```
 mydata<-reshape(rawdata,idvar="site",timevar="step",direction="wide")

  site method.S 1 outcome.S 1 method.S 2 outcome.S 2 method.S 3 outcome.S 3
1    a1         m1           5         m6           4       <NA>          NA
4    a2         m6           1       <NA>          NA         m7           2
8    a3         m1           2       <NA>          NA       <NA>          NA
10   a4         m4           2         m2           5       <NA>          NA
12   a5       <NA>          NA       <NA>          NA         m3           6
13   a6       <NA>          NA         m1           7         m4           8
   method.S 4 outcome.S 4
1        <NA>          NA
4          m2           7
8        <NA>          NA
10       <NA>          NA
12       <NA>          NA
13       <NA>          NA 
```

这是 r 的输出

正确的是，我只希望每个站点有 1 行和许多列（即使站点在特定步骤没有做任何事情）。我正在尝试每个站点获得 1 行，然后结果列将消失，其所有值都位于适当的列下方，如下所示

```
site  S1.m1.outcome S1.m2.outcome S1.m3.outcome ................ S9.m10.outcome
a1        1               c4.5           NA                         3.6 
```

所以基本上每个步骤和方法组合一列，我知道那是很多列，但它会使步骤之间的比较更容易，这是我的目标之一，我这样做的主要目的是能够给定方法，使用 t 检验等测试步骤之间结果的变化，以检验均值的差异。我想有一种更简单的方法可以进行测试，但我对 r 还是新手，还没有找到。感谢您的任何建议欢呼

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-28T05:12:40.150

如果我正确理解您想要的输出，这里有两个选项。在下面的示例中，对于最后的步骤，我已经对列进行了排序，以便它们可以通过使用每个输出进行匹配，并且我只显示了结果`data.frame`s 的前几列和最后几列，因此您可以看到它们是给你同样的结果。换句话说，你应该可以在“T2”和“T3”停下来满足你的实际需要——其余的只是为了演示。

### 选项1：`reshape`两次

```
T1 <- reshape(rawdata, idvar = c("site", "method"),
              timevar = "step", direction = "wide")
T2 <- reshape(T1, direction = "wide", idvar = "site", timevar = "method")
dim(T2)
# [1]  6 25
names(T2)
#  [1] "site"          "outcome.S1.m1" "outcome.S2.m1" "outcome.S3.m1" "outcome.S4.m1"
#  [6] "outcome.S1.m2" "outcome.S2.m2" "outcome.S3.m2" "outcome.S4.m2" "outcome.S1.m6"
# [11] "outcome.S2.m6" "outcome.S3.m6" "outcome.S4.m6" "outcome.S1.m4" "outcome.S2.m4"
# [16] "outcome.S3.m4" "outcome.S4.m4" "outcome.S1.m7" "outcome.S2.m7" "outcome.S3.m7"
# [21] "outcome.S4.m7" "outcome.S1.m3" "outcome.S2.m3" "outcome.S3.m3" "outcome.S4.m3"
T2a <- T2[, order(names(T2))]
T2a[, c(1:3, 23:25)]
#    outcome.S1.m1 outcome.S1.m2 outcome.S1.m3 outcome.S4.m6 outcome.S4.m7 site
# 1              5             1          <NA>          <NA>          <NA>   a1
# 4           <NA>          <NA>          <NA>          <NA>          <NA>   a2
# 8             2a           c11          <NA>          <NA>          <NA>   a3
# 10          <NA>          <NA>          <NA>          <NA>          <NA>   a4
# 12          <NA>          <NA>          <NA>          <NA>          <NA>   a5
# 13          <NA>          <NA>          <NA>          <NA>          <NA>   a6 
```

### 选项 2：使用`dcast`“reshape2”

```
library(reshape2)
T3 <- dcast(rawdata, site ~ step + method, value.var = "outcome", drop = FALSE)
dim(T3)
# [1]  6 25
names(T3)
#  [1] "site"  "S1_m1" "S1_m2" "S1_m3" "S1_m4" "S1_m6" "S1_m7" "S2_m1" "S2_m2" "S2_m3"
# [11] "S2_m4" "S2_m6" "S2_m7" "S3_m1" "S3_m2" "S3_m3" "S3_m4" "S3_m6" "S3_m7" "S4_m1"
# [21] "S4_m2" "S4_m3" "S4_m4" "S4_m6" "S4_m7"
T3a <- T3[, order(names(T3))]
T3a[, c(1:3, 23:25)]
#   S1_m1 S1_m2 S1_m3 S4_m6 S4_m7 site
# 1     5     1  <NA>  <NA>  <NA>   a1
# 2  <NA>  <NA>  <NA>  <NA>  <NA>   a2
# 3    2a   c11  <NA>  <NA>  <NA>   a3
# 4  <NA>  <NA>  <NA>  <NA>  <NA>   a4
# 5  <NA>  <NA>  <NA>  <NA>  <NA>   a5
# 6  <NA>  <NA>  <NA>  <NA>  <NA>   a6 
```

* * *

两者都使用以下内容作为“原始数据”的输入

```
rawdata <- structure(list(site = c("a1", "a1", "a1", "a2", "a2", "a2", "a2", 
"a3", "a3", "a4", "a4", "a5", "a6", "a6"), step = c("S1", "S1", 
"S2", "S1", "S1", "S3", "S4", "S1", "S1", "S1", "S2", "S3", "S2", 
"S3"), method = c("m1", "m2", "m6", "m6", "m4", "m7", "m2", "m1", 
"m2", "m4", "m2", "m3", "m1", "m4"), outcome = c("5", "1", "4", 
"1a", "3", "2", "7", "2a", "c11", "2", "5", "6", "7", "8")), .Names = c("site", 
"step", "method", "outcome"), row.names = c(NA, -14L), class = "data.frame") 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-09-13T12:51:37.080

因为我有类似的问题。您可以将两个时间变量合并为一个。使用来自其他答案的相同原始数据，您可以使用

```
rawdata<-unite(rawdata, timevar, step, method)
reshape(rawdata, direction = "wide", idvar="site",timevar = "timevar") 
```

这极大地帮助了我理解广泛 -> 漫长的过程

# java - 将 FloatBuffer[] 转换为 byte[]

> ID：15127256
> 
> 赞同：0
> 
> 时间：2013-02-28T04:02:29.110
> 
> 标签：java, bytearray, byte, floatbuffer

我一直在寻找一种将 FloatBuffer 数组转换为字节数组的方法。我找到了一种将 FloatBuffer 对象转换为 byte[] 的方法： [convert from floatbuffer to byte[]](https://stackoverflow.com/questions/7298997/convert-from-floatbuffer-to-byte)

但是在互联网上搜索了几个小时后，我无法找到相当于从 FloatBuffer[] 转换的东西。

反过来，从 byte[] 转换为 FloatBuffer[]，我只发现了这个：

`ByteArrayOutputStream bos = new ByteArrayOutputStream();
ObjectOutputStream oos = new ObjectOutputStream(bos);
oos.writeObject(floatBufferObject);
byte [] descriptorsBytes = bos.toByteArray();`

但似乎有点奇怪，没有更简单的方法可以做到这一点。也许我遗漏了一些非常明显的东西，也许我应该将 FloatBuffer 数组转换为其他更容易转换为字节数组的类型？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T04:05:41.367

你要*一个* `FloatBuffer`还是多个？

要从 a 转换`FloatBuffer`为 a `byte[]`，您可以执行类似的操作

```
 FloatBuffer input;
 byte[] output = new byte[input.capacity() * 4];
 ByteBuffer.wrap(output).asFloatBuffer().put(input); 
```

另一个方向就是

```
 ByteBuffer.wrap(byteArray).asFloatBuffer() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T04:25:36.973

您已经有了如何将一个`FloatBuffer`转换为字节数组的答案，因此只需扩展它以转换它们的数组：

```
final FloatBuffer[] floatBuffers = new FloatBuffer[] {...};
final ByteBuffer byteBuffer = ByteBuffer.allocate(sumOfFloatBufferCapacities) * 4);
final FloatBuffer floatBufView = byteBuffer.asFloatBuffer();
for (final FloatBuffer fBuf : floatBuffers) {
    floatBufView.put(fBuf);
}
byte[] data = byteBuffer.array(); 
```

以上是伪代码，您可以根据自己的需要进行调整。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T05:14:43.100

将 FloatBuffer[] 转换为 byte[]：

```
 FloatBuffer[] buffers = ...
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
    for (FloatBuffer fb : buffers) {
        ByteBuffer byteBuffer = ByteBuffer.allocate(fb.capacity() * 4);
        byteBuffer.asFloatBuffer().put(fb);
        bos.write(byteBuffer.array());
    }
    byte[] ba = bos.toByteArray(); 
```

# c# - 通过公共属性访问私有变量

> ID：15127257
> 
> 赞同：2
> 
> 时间：2013-02-28T04:02:38.377
> 
> 标签：c#, asp.net, .net, private-members

我似乎无法通过来自不同类的公共属性访问我的私有成员变量。我正在尝试通过学生类实例化一些`Student`对象。`StudentList`我以前做过，但在我的一生中无法记住或找到任何有效的方法。我对编程比较陌生，所以对我来说放轻松。

学生班级代码

```
public partial class Student : Page
{
    public int StudentID { get; set; }
    public string FirstName { get; set; }
    public string LastName { get; set; }
    public double CurrentSemesterHours { get; set; }
    public DateTime UniversityStartDate { get; set; }
    public string Major { get; set; }
    public string FullName
    {
        get { return FirstName + " " + LastName; }
    }

    new DateTime TwoYearsAgo = DateTime.Now.AddMonths(-24);

    public Boolean InStateEligable
    {
        get
        {
            if (UniversityStartDate < TwoYearsAgo) // at first glance this looks to be wrong but when comparing DateTimes it works correctly
            {
                return true;
            }
            else { return false; }
        }
    }
    public decimal CalculateTuition()
    {
        double tuitionRate;
        if (InStateEligable == true)
        {
            tuitionRate = 2000;
        }
        else
        {
            tuitionRate = 6000;
        }
        decimal tuition = Convert.ToDecimal(tuitionRate * CurrentSemesterHours);
        return tuition;
    }

    public Student(int studentID, string firstName, string lastName, double currentSemesterHours, DateTime universityStartDate, string major)
    {
            StudentID = studentID;
            FirstName = firstName;
            LastName = lastName;
            CurrentSemesterHours = currentSemesterHours;
            UniversityStartDate = universityStartDate;
            Major = major;
        }
    } 
```

StudentList 类代码现在基本上是空白的。我一直在搞乱它，试图让智能感知访问我的其他课程，但到目前为止还没有运气。我一定错过了一些简单的东西。

```
public partial class StudentList : Page
{
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T04:21:17.503

首先，回答你的问题：

> “我似乎无法通过来自不同类的公共属性访问我的私有成员变量......”

这正是它们被称为私有的原因。私有成员只能在声明它们的类中访问，并且您必须使用公共属性才能从其他类中访问。

现在，一些建议：

1) 避免使用与 Code Behind 和域模型类相同的类。我强烈建议您仅使用属性/业务方法创建一个单独的“Student”类，并将代码作为单独的“StudentPage”类留下。这使您的代码更易于使用，因为不同的关注点是分开的（查看逻辑 x 业务逻辑），并且因为这些类中的每一个都应该具有不同的生命周期。

2）代替：

```
private int StudentID;
public int studentID
{
    get
    {
        return StudentID;
    }
    set
    {
        StudentID = value;
    }
} 
```

...您可以编写*自动属性*：

```
public int StudentId { get; set; } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T04:09:45.537

这里的重点是 Web 应用程序是*无状态应用程序*，因此每个网页的生命周期都在每个请求的生命周期中。

在您的代码`Student`中`StudentList`是网页，因此`StudentList`您无法访问实例，`Student`因为它不再存在。

因此，考虑使用`Session`在页面之间传输数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T15:46:30.223

我找到了简单的解决方案。我试图从另一个页面访问一个页面背后的代码，正如你们中的许多人所指出的那样，它不会很好。通过将代码移动到 App_Code 文件夹中它自己的 c# 类中，所有东西都可以访问它。谢谢您的帮助！

# javascript - CasperJS 滚动内容

> ID：15127261
> 
> 赞同：1
> 
> 时间：2013-02-28T04:03:11.590
> 
> 标签：javascript, phantomjs, casperjs

我正在使用 CasperJS 来汇总来自 Facebook 的一些数据。我需要 CasperJS 来加载“较旧”的帖子。我找到了我需要单击以加载更多内容的元素并写了这个：

```
document.querySelectorAll('div#pagelet_group_pager div div div a')[0].click(); 
```

在 chrome 的控制台中可以正常工作，但是什么时候可以：

```
this.evaluate(function() {
            document.querySelectorAll('div#pagelet_group_pager div div div a')[0].click();
    }); 
```

或者

```
this.click('div#pagelet_group_pager div div div a'); 
```

在 CasperJS 脚本中没有新的内容加载。

有什么建议吗？？

谢谢。

# wcf - WCF、Rest和SOAP是什么关系？

> ID：15127262
> 
> 赞同：65
> 
> 时间：2013-02-28T04:03:17.957
> 
> 标签：wcf, web-services, rest, soap

WCF和REST&SOAP是什么关系？WCF 是基于其中一种技术（REST 或 SOAP）还是一种单独的技术？

* * *

## 回答 #1

> 赞同：150
> 
> 时间：2013-02-28T04:37:23.017

WCF 是用于构建分布式系统的消息传递框架。分布式系统*主要是*Web 服务的另一种说法。

这意味着您可以用 C#（或任何 .NET 语言）编写方法，然后对代码应用一系列配置，使其他人可以访问您的代码并将您的代码转换为 Web 服务。

那些“一堆配置”是 WCF。如果您围绕 C# 代码设置 WCF 配置以将其公开为 RESTful 服务，WCF 允许您使用 REST 向其他计算机或应用程序公开您的方法。或者，您可以轻松地采用相同的 C# 方法并通过 SOAP 协议使它们可用。

如果您有一个名为“GetData()”的方法，则可以设置 WCF 配置以使该方法在 IIS 中托管的服务中可用。[当有人调用该服务时，他们可以向http://www.yourdomain.com/SomeService/GetData](http://www.yourdomain.com/SomeService/GetData)发送 HTTP GET 请求，GetData 方法将接收该消息并发回响应。当您通过 HTTP 发出 GET 请求时，您使用的是 REST。REST 与作为传输协议的 HTTP 非常相关。REST 也没有标准的消息格式。无论您想在 HTTP 消息中发送什么，无论您想发送什么，都可以。您可以发送 XML、JSON 或纯文本。您也可以使用 POST、GET 或 PUT 或任何 HTTP 动词。

使用 SOAP，您可以使用任何传输协议将您的消息发送到服务——您不受 HTTP 的束缚。SOAP 消息被设计为传输中立的。它们以 XML 编码，并且 XML 始终在信封节点内有一个头节点和一个主体节点。有很多围绕 SOAP 的 Web 标准——例如，将安全性、会话和其他特性放入消息头的标准。此外，使用 SOAP，您将获得一个 WSDL，我不会在这里解释它，但它使客户更容易对其进行编程。大多数编程语言都有一种获取 WSDL 并将其转换为强类型方法和对象的方法，以便您的服务易于调用。

REST 在互联网上非常流行，并且与互联网一样可扩展（即非常可扩展）。SOAP 在企业对企业应用程序中非常流行。

* * *

## 回答 #2

> 赞同：32
> 
> 时间：2013-02-28T04:06:37.627

WCF 不会自动成为 REST 或 SOAP，但您可以这样做。你需要的是一个教程：

WCF

[http://www.codeproject.com/Articles/406096/A-beginners-tutorial-for-understanding-Windows](http://www.codeproject.com/Articles/406096/A-beginners-tutorial-for-understanding-Windows)

休息

[http://rest.elkstein.org/](http://rest.elkstein.org/)

这里还有一些其他有趣的东西：

WCF - REST / SOAP

[https://msdn.microsoft.com/en-us/library/hh323708(v=vs.100).aspx](https://msdn.microsoft.com/en-us/library/hh323708(v=vs.100).aspx)

WCF 和 REST

[https://msdn.microsoft.com/en-us/library/ee391967.aspx](https://msdn.microsoft.com/en-us/library/ee391967.aspx)

或者您可以自己进行 google/bing/metacrawler/altavista 搜索.....

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2013-02-28T04:05:23.713

来自[MSDN](http://msdn.microsoft.com/en-us/library/vstudio/hh323708%28v=vs.100%29.aspx)

> WCF 编程模型提供各种功能，例如 SOAP 服务、Web HTTP 服务、数据服务、富 Internet 应用程序 (RIA) 服务和工作流服务。SOAP 服务支持使用 Java 构建的系统、其他平台以及使用 Microsoft® 支持的消息传递标准的系统之间的互操作性。SOAP 服务还支持 HTTP、TCP、命名管道和 MSMQ 等传输。Web HTTP 服务和数据服务都支持 REST。Web HTTP 服务使您能够控制服务位置、请求和响应、格式和协议。数据服务使您能够将数据模型和数据驱动逻辑作为服务公开。WCF 还包括两个编程模型：服务模型和通道模型。服务模型提供了一个定义数据契约的框架，服务合同和服务行为。通道模型支持指定格式、传输和协议。
> 
> SOAP 和 REST 服务都可以为 Web 应用程序提供功能，并且都可以用于在 Web 的分布式环境中交换信息。每个都有自己的优点和局限性。

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2017-05-31T08:18:50.550

虽然，这个问题有几个很好的答案，只需投入我的 2 美分，以尝试让新手了解***WCF、SOAP 和 REST——******完整*** 的***服务****，**让* *他们*更容易理解。

 ***我们感到困惑，*WCF 是否同时支持**REST**和**SOAP**？*而且，通常，我们只看到关于 [SOAP](https://en.wikipedia.org/wiki/SOAP "维基百科中的 SOAP") 和[REST](https://en.wikipedia.org/wiki/Representational_state_transfer "与维基百科一样的 REST")的通用定义。所以，我们需要来自微软的东西来让我们感受到真相：）所以这是来自*微软* [MSDN](https://msdn.microsoft.com/en-us/library/hh323724(v=vs.100).aspx "WCF SOAP 服务 |  WCF REST 服务")的截图：

[![MSDN 文章网址](../Images/d3fc06177978cd262926b66acbc7108a.png)](https://i.stack.imgur.com/Spm7x.png)[![在此处输入图像描述](../Images/197165cb8e7483f117482b521f13df22.png)](https://i.stack.imgur.com/lnWCM.png)

所以，***是***的，WCF 支持两者。

在 OP 的上下文中：

*   **SOAP 服务：**
    在 WCF 编程模型中，支持使用 Java、其他平台构建的系统以及使用 Microsoft® 支持的消息传递标准的系统之间的互操作性。它们还支持 HTTP、TCP、命名管道和 MSMQ 等传输。

*   **Web HTTP 服务**：
    在 WCF 编程模型中支持***REST***。[来源：[MSDN](https://msdn.microsoft.com/en-us/library/hh273094(v=vs.100).aspx "WCF 休息与 WCF SOAP") ]***

# python - 在 Python 中读取文件进入无限循环

> ID：15127263
> 
> 赞同：1
> 
> 时间：2013-02-28T04:03:23.167
> 
> 标签：python

我有一个包含以下内容的文件：

```
a  
b  
c  
d 
```

我正在使用以下代码在 Python 中阅读此内容：

```
f = open('foo.txt')
w = f.readline()

while w is not '' :
  print w
  w = f.readline() 
```

根据[文档](http://docs.python.org/2/tutorial/inputoutput.html)

> 如果 f.readline() 返回一个空字符串，则已到达文件末尾

那为什么我会进入无限循环呢？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T04:11:31.410

`is`运算符测试两个引用是否引用*完全相同的*对象。在这种情况下，您需要按照您的说明进行相等性检查。

发生无限循环是因为虽然它返回了`''`，但它是`str`. 不同的实例，但相同的值。

Python 可能会选择也可能不会选择作为重用现有`str`对象的优化（毕竟它们是不可变的）。但是，您通常不应该依赖这种类型的行为，除非文档特别提及（例如，`None`因为它是 的唯一实例`NoneType`）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T04:14:48.050

这是有趣的。

如果你更换

> 而 w 是 ''

和

> 而 w != ''

代码将成功运行。

这意味着 readline() 返回空字符串的新实例，而不是返回执行时获得的全局实例

```
s = ''
t = ''
assert s is t 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-28T04:16:19.923

尝试这个

```
f = open('foo.txt')

while 1:
    line = f.readline()
    if not line:
        break
    print line 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-28T09:07:27.843

```
with open('workfile', 'r') as f:
  read_data = f.read()
f.closed 
```

在处理文件对象时，最好使用 with 关键字。这样做的好处是文件在其套件完成后正确关闭，即使在途中引发异常也是如此。它也比编写等效的 try-finally 块要短得多。

参考这个链接：[http ://docs.python.org/2/tutorial/inputoutput.html](http://docs.python.org/2/tutorial/inputoutput.html)

# jquery - 本地存储不会保存我已完成的列表项？

> ID：15127265
> 
> 赞同：0
> 
> 时间：2013-02-28T04:03:37.713
> 
> 标签：jquery, local-storage

所以我想我终于想通了，但不幸的是它是最后一块拼图。

基本上我有一个待办事项列表，当我将其标记为完成时，它会在列表项中划出一条线并更改背景颜色，它工作正常。但是当我刷新页面时，首选项消失了：

```
$("section#todo_list > section.todo_item > span#complete").live("click", function() {
        $(this).parent().css({'text-decoration' : 'line-through', 'background' : '#e1ffff'});
        todo_list = JSON.parse(localStorage.todos)
        item = todo_list[id];  
        localStorage.setItem($(this).parent().attr(item));                                            
    }); 
```

这是我对代码的最佳猜测，我认为可以做到但没有运气，我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:12:29.767

`localStorage.setItem`需要一个键和一个值，例如`setItem(id, $(this).parent().attr(item))`.

我也无法判断您尝试以哪种格式存储数据 - 看起来您正在读出整个列表，但您保存了单个项目。

正如@RPM 所建议的那样，如果您将其作为 JSON 读取，则应将其另存为 JSON。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T04:09:27.467

这是您在 localStorage 中设置的方式：

LocalStorage.itemName = "物品";

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T04:10:09.543

```
localStorage.setItem('myKeyName', JSON.strinify($(this).parent().attr(item))); 
```

# android - 如何在 Python 中将 Google 帐户身份验证添加到 Google Cloud Endpoints

> ID：15127271
> 
> 赞同：2
> 
> 时间：2013-02-28T04:03:57.043
> 
> 标签：android, python, google-app-engine, google-oauth, google-cloud-endpoints

我正在尝试为我的 Android 应用程序创建一个 Google Cloud Endpoints 后端，该应用程序使用用户的 Google 帐户进行身份验证。我发现 Java API 包含 OAuth 范围的注释，但 python 文档只对它进行了一次引用。

这是我在端点上使用的注释：

```
@endpoints.api(name='notes', version='v1',
           description='Notes API',
           allowed_client_ids=[CLIENT_ID, endpoints.API_EXPLORER_CLIENT_ID],
           audiences=[AUDIENCE],
           scopes=['https://www.googleapis.com/auth/userinfo.email']) 
```

但是生成的代码没有任何作用域：

```
/**
 * Available OAuth 2.0 scopes for use with the .
 *
 * @since 1.4
 */
public class NotesScopes {

  private NotesScopes() {
  }
} 
```

甚至生成的服务类似乎也缺少部分：

```
/**
 * The default encoded root URL of the service. This is determined when the library is generated
 * and normally should not be changed.
 *
 * @since 1.7
 */
public static final String DEFAULT_ROOT_URL = "https://None/_ah/api/";

/**
 * The default encoded service path of the service. This is determined when the library is
 * generated and normally should not be changed.
 *
 * @since 1.7
 */
public static final String DEFAULT_SERVICE_PATH = "notes/v1/"; 
```

我假设我缺少一些注释或配置选项。有谁知道它可能是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T21:21:50.033

注释中的`scopes`属性未在 Android 身份验证流程中使用，这是它未包含在生成的 Java 代码中的原因之一。相反，Android 使用 ID 令牌，其中包含足够的信息来向后端表示您的用户/应用程序，而无需请求范围。

# c - 为什么选择排序时一个元素保留在原始列表中？

> ID：15127273
> 
> 赞同：0
> 
> 时间：2013-02-28T04:04:08.687
> 
> 标签：c

```
 #include <stdio.h>
#include <stdlib.h>

struct node {
    int val;
    struct node* next;
    } ;

struct node* largest(struct node** first)
{
    struct node* largest = *first;
    struct node* prev = NULL;
    struct node* temp_prev = NULL;

    for(;first != NULL; first = first -> next)
        {
            if (first -> val > largest -> val)  
                {
                    largest = first;
                    prev = temp_prev;
                }          
            temp_prev = first;
        }
        if(prev != NULL)
        prev -> next = largest -> next;
        largest -> next = NULL;
        return largest;            
}

struct node* sel_sort(struct node** list)
{
    struct node* head = NULL;
    struct node* temp_largest = NULL;
    while (*list)
    {   
        head = largest(list);
        head->next=temp_largest;
        temp_largest = head;

    }
    *list = head; // note sets the input pointer to the new list.
    return head;
}

void print_list(struct node* first)
{
    struct node* temp;
    for (temp = first; temp != NULL; temp = temp->next)
    {
        printf("%d\n", temp->val);
    }
}

void main() {
    struct node* r = malloc(sizeof(struct node));
    struct node* s = malloc(sizeof(struct node));
    struct node* t = malloc(sizeof(struct node));
    struct node* w = malloc(sizeof(struct node));
    struct node* q = malloc(sizeof(struct node));
    r->val = 2;
    r->next = s;
    s->val = 10;
    s->next = t;
    t->next = w;
    t->val = 3;
    w->val = 1;
    w->next = q;
    q->val = 6;
    q->next = NULL;
    printf("\nBefore Sort:\n");
    print_list(r);
    printf("\nSorted:\n");
    struct node* sorted = sel_sort(&r);
    print_list(sorted);
    } 
```

简而言之，以上是单链表的选择排序。我遇到了一个问题，即 sel_sort 方法中发生了无限循环，因为无论我调用多少次最大的方法，一个节点都会留在原始列表中。除此之外，我的代码似乎可以工作，但我该如何解决这个小问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:12:36.187

所以，你期望在这个*while*`list`循环中修改变量：

```
struct node* temp = *list;
struct node* head;
struct node* temp_largest = NULL;
while (list != NULL) // <<=== infinite loop
{   
    head = largest(temp);
    head->next=temp_largest;
    temp_largest = head;

}
return head; 
```

我质疑你使用`temp`. 从技术上讲，您的`largest()`函数应该按地址（指向指针的指针）获取列表头，提取最大节点，从列表中删除后返回该节点，并在可能是第一个节点的情况下更新传入的*列表*头列表（因此必须移动头部）：

```
struct node* head = NULL;
struct node* temp_largest = NULL;
while (*list)
{   
    head = largest(list);
    head->next=temp_largest;
    temp_largest = head;

}
*list = head; // note sets the input pointer to the new list.
return head; 
```

并按`largest()`地址获取列表指针（双指针）

```
struct node* largest(struct node** first)
{
    struct node *prev = NULL;
    struct node *lprev = NULL;
    struct node *cur = NULL;
    struct node *largest = NULL;

    if (!(first && *first))
        return NULL;

    // assume the first node is the largest node
    largest = lprev = prev = *first;
    cur = largest->next;
    for(; cur; prev = cur, cur = cur->next)
    {
        if (cur->val > largest->val)
        {
            largest = cur;
            lprev = prev;
        }
    }

    // go with the simple stuff first. was `largest`
    //  the first item in the list?
    if (largest == *first)
    {
        // yes it was, so move the list head.
        *first = largest->next;
    }
    else
    {   // no it was not, so link `lprev` to be
        //  the node following `largest`
        lprev->next = largest->next;
    }

    // regardless. always unlink the largest node.
    largest->next = NULL;
    return largest;
} 
```

将其与更新的排序结合使用，我得到了以下输出：

**输出**

```
Before Sort:
2
10
3
1
6

Sorted:
1
2
3
6
10 
```

# multithreading - 什么是 Pthread？

> ID：15127279
> 
> 赞同：6
> 
> 时间：2013-02-28T04:04:48.123
> 
> 标签：multithreading, operating-system

我对“pthread”和“thread”的概念感到困惑。我知道 pthread 是 POSIX 线程的缩写形式，它是 UNIX 中使用的一种标准化线程。但是人们经常使用“线程”来指代线程。pthread 和线程是否等效？或者 pthread 只是 UNIX 中使用的线程的名称？提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-28T04:32:37.307

线程是一个通用概念。[维基百科将其定义为](http://en.wikipedia.org/wiki/Thread_%28computing%29)：

> 在计算机科学中，执行线程是可以由操作系统调度程序独立管理的最小程序指令序列。线程是一个轻量级的进程。

Pthread 或[POSIX 线程](https://computing.llnl.gov/tutorials/pthreads/)是在 Unix 上与 C 程序一起使用的该概念的一种实现。大多数现代语言都有自己的线程实现。从那个网页：

> Pthread 被定义为一组 C 语言编程类型和过程调用，通过 pthread.h 头文件/包含文件和线程库实现 - 尽管在某些实现中该库可能是另一个库（例如 libc）的一部分。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T11:34:29.990

要添加到灰色，

Pthread 符合 POSIX 标准，这意味着您可以在大多数 UNIX 操作系统中使用它。

无需为每个 Unix（Linxux、FreeBSD 等）重写它们，并且所有它们的行为都是相同的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-02-07T19:46:07.117

Pthreads 指的是 POSIX 标准 (IEEE 1003.1c)，它定义了用于线程创建和同步的 API。这是线程行为的规范，而不是实现。操作系统设计者可以以他们希望的任何方式实现规范。许多系统都实现了 Pthreads 规范；大多数是 UNIX 类型的系统，包括 Linux、Mac OS X 和 Solaris。尽管 Windows 本身不支持 Pthreads，但有一些适用于 Windows 的第三方实现是可用的。

目前使用的三个主要线程库：POSIX Pthreads、Windows 和 Java。Pthreads 是 POSIX 标准的线程扩展，可以作为用户级或内核级库提供。Windows 线程库是 Windows 系统上可用的内核级库。Java 线程 API 允许直接在 Java 程序中创建和管理线程。然而，因为在大多数情况下，JVM 运行在主机操作系统之上，Java 线程 API 通常是使用主机系统上可用的线程库来实现的。这意味着在 Windows 系统上，Java 线程通常使用 Windows API 实现；UNIX 和 Linux 系统经常使用 Pthreads

# mysql - 按字母顺序显示查询

> ID：15127282
> 
> 赞同：2
> 
> 时间：2013-02-28T04:05:09.920
> 
> 标签：mysql, sql

我有一个浏览页面，它从数据库中的 2 个表中提取信息然后显示它。它工作正常，但我希望它按字母顺序显示。有什么建议么？

```
<?php

$serch="SELECT mint.*, COUNT(items.item_id) as total FROM mint LEFT JOIN items ON mint.mint_id=items.item_mint group by mint_id;";

$items=mysql_query($serch); 
while($it=mysql_fetch_array($items)) {
?>          
<div class="product_box">

<h3 style="font-size:15px;"><a href="mintitem.php?id=<?php echo $it['mint_id']; ?>"><?php echo $it['mint_name']; ?></a> (<?php echo $it['total']; ?>)</h3>
</div>          
<?php 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:05:58.440

您必须`ORDER BY`在查询中添加子句，例如

```
SELECT ...
FROM...
WHERE ...
GROUP BY...
ORDER BY columnName ASC 
```

WHERE`columnName`是您希望对记录进行排序的列的名称。此外，您可以在 order by 子句中定义多个列，例如`ORDER BY col1 ASC, col2 DESC,...`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T04:32:31.403

在您的查询中添加 order by

```
$serch="SELECT mint.*, COUNT(items.item_id) as total FROM mint LEFT JOIN items ON mint.mint_id=items.item_mint group by mint_id ORDER BY mint_id ASC;"; 
```

# c - 此字符串的正则表达式

> ID：15127290
> 
> 赞同：0
> 
> 时间：2013-02-28T04:05:33.457
> 
> 标签：c, regex

缓冲区字符串`char *bufferString`指向以下字符串的第一个元素：

> BER Berman, Jane 06/29/91 摄影；舞蹈；音乐\n

我想仅解析主题最后一个主题列表的每个项目并存储它们

我试过的：

```
#define REGEX_TOPIC "^[a-zA-Z].*^[0-9/0-90-9/0-90-9+]"
char *topic;
topic = strstr(bufferString, REGEX_TOPIC); 
```

你能帮帮我吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-28T04:10:20.120

该[**`strstr()`**](http://www.manpagez.com/man/3/strstr/)函数定位空终止字符串中第一次出现的空`s2`终止字符串`s1`。它不处理正则表达式。

有关在 C 中使用正则表达式，请参阅 C 中的正则表达式的答案[：示例？](https://stackoverflow.com/q/1085083/78845).

# javascript - 范围滑块控制

> ID：15127292
> 
> 赞同：0
> 
> 时间：2013-02-28T04:05:39.107
> 
> 标签：javascript, css, twitter-bootstrap

有一种很好的`range-slider`控制[http://makescreen.ru/i/50c4af7ae3a9058a7f551d398ccecf.jpg](http://makescreen.ru/i/50c4af7ae3a9058a7f551d398ccecf.jpg)

我想为我的项目使用类似的东西。但我什么也没找到。如果 twitter bootstrap 存在此控件会更好。如果没有，任何类似的东西都可以。

你的想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T18:43:12.557

我知道这个问题已经有几个月了，并且已经有了一个公认的答案，但我也遇到了这个问题：

[http://www.eyecon.ro/bootstrap-slider/](http://www.eyecon.ro/bootstrap-slider/)

它似乎与讨论有关。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T04:07:44.187

我建议使用[jQuery UI](http://addyosmani.github.com/jquery-ui-bootstrap/)（专门用于 twitter 引导的链接版本）——它们拥有你可能需要的 javascript UI 元素的一切。

# css - 特殊的 CSS 布局问题

> ID：15127309
> 
> 赞同：0
> 
> 时间：2013-02-28T04:06:55.943
> 
> 标签：css, layout

我试图弄清楚如何为我以前从未见过的特殊布局编写一些 css。下图包含这些部分。指导：

*   “1”部分是一个标题，应该固定在 alpha 区域内
*   “2”部分是一个 div，当它变得太高时应该有一个滚动条（由视口/窗口的高度决定）
*   “3”部分是一个页脚，应该固定在 alpha 区域内
*   “4”部分是一个右手、流体、容器，将有一个 iframe。iframe 本身将管理滚动。

有什么想法吗？

![在此处输入图像描述](../Images/86dbbe29867be96f931a8a6661b39ebe.png)

我现在的代码有点像，但这是我离得有多近的要点：

```
CSS:
.controller {
    width: 400px;
    height: 100%;
}
.controller header {
    position: absolute;
    top: 0;
    left: 0;
    height: 60px;
    width: 400px;
}
.controller footer {
    position: absolute;
    bottom: 0;
    left: 0;
    height: 60px;
    width: 400px;
}
.controller .body {
    overflow: scroll;
}
.focus {
    float: left;
    width: 100%;
}

Markup:

<div class="wrapper">
    <div class="container">
        <header></header>
        <div class="body">
        <footer></footer>
    </div>
    <div class="focus">
    </div>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T05:54:06.017

这是[jsFiddle](http://jsfiddle.net/RkZTB/3/)中的演示，说明如何实现这一点，

我使用的风格是

```
body, html {
    padding:0;
    margin:0;
}
.container {
    width: 25%;
    height: 100%;
    float:left;
    position:absolute;
}
.container header {
    display:block;
    height: 10%;
    width:100%;
    background-color:#ff5;
}
.container .body {
    position: relative;
    overflow: auto;
    width: 100%;
    height:80%;
    background-color:#f5f;
}
.container footer {
    position: fixed;
    bottom: 0;
    left: 0;
    height: 10%;
    width: 25%;
    background-color:#5ff;
}
.focus {
    background-color:#ddd;
    position: fixed;
    left: 25%;
    width:75%;
    height: 100%;
    overflow:auto;
}
.focus iframe{
    width:99%;
    height: 99%;
} 
```

希望这对您有所帮助。

# ios - 与 iPad 和 iPhone 中的 UIWebView 不同的响应

> ID：15127318
> 
> 赞同：0
> 
> 时间：2013-02-28T04:07:41.603
> 
> 标签：ios, iphone, ipad, uiwebview, uiwebviewdelegate

我正在尝试将受保护的 docx 文件加载到`UIWebView`.

在 iPad`webViewDidFinishLoad`中被 OfficeImport 错误触发。但在 iPhone 中既`webViewDidFinishLoad`不会也不会`didFailLoadWithError`被解雇。在这两种情况下`webViewDidStartLoad`都会被解雇。

有谁知道为什么会出现这种双重行为`UIWebView`？

谢谢你。

# iphone - 将 NSString 传递给 Webview

> ID：15127327
> 
> 赞同：0
> 
> 时间：2013-02-28T04:08:59.810
> 
> 标签：iphone, ios, objective-c, xcode, uiwebview

我有一个`NSString`被调用的状态，我正在尝试将该变量传递给加载一个`webView`. 该应用程序在这里崩溃，但我不知道我做错了什么？有人看到请求有什么问题吗？

```
[webView loadRequest:[NSURLRequest requestWithURL:[NSString 
stringWithFormat:@"http://www.website.com/page.php?status=%@", status]]]; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T04:14:31.567

`requestWithURL`接受`NSURL`，所以你需要将字符串转换成`NSURL`

试试这个，

```
[webview loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:[NSString stringWithFormat:@"http://www.website.com/page.php?status=%@", status]]]]; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-28T04:14:06.243

```
NSString *urlAddress = [NSString stringWithFormat:@"http://www.website.com/page.php?status=%@", status];
//Create a URL object.
NSURL *url = [NSURL URLWithString:urlAddress];
//URL Requst Object
NSURLRequest *requestObj = [NSURLRequest requestWithURL:url];
//Load the request in the UIWebView.
[webView loadRequest:requestObj]; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-28T04:15:31.330

`+[NSURLRequest requestWithURL:]`期待你给它一个`NSURL`对象。你给它一个`NSString`. 不要那样做。:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T04:25:56.927

用这个：

```
[webView loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:[NSString  stringWithFormat:@"http://www.website.com/page.php?status=%@", status]]]]; 
```

# java - 在后台下载图像android

> ID：15127335
> 
> 赞同：0
> 
> 时间：2013-02-28T04:10:11.557
> 
> 标签：java, android, multithreading, asynchronous, background-image

我正在尝试在后台下载图像，以便在下载图像时应用程序不会挂起。我得到了一个`nullpointerexception`，我不明白我做错了什么。我的日志说我正在按预期从 URL 中获取数据，所以我不确定为什么这不起作用。谢谢！

这是我拥有的代码：

```
public class DownloadImageBackground extends AsyncTask<String, Void, Drawable> {

ImageView imageView = null;
String myURL = null;

@Override
protected Drawable doInBackground(String...strings) {
    this.myURL = strings[0];
    Log.i("doInBackground", "Loading image from: "+myURL.toString());
    //TODO: Pass the correct URL to download_image
    return download_Image(myURL);
}

@Override
protected void onPostExecute(Drawable result) {
    imageView.setImageDrawable(result);
}

private Drawable download_Image(String url) {
    try {
        InputStream is = (InputStream) new URL(url).getContent();
        Drawable d = Drawable.createFromStream(is, url);
        return d;
    } catch (Exception e) {
        Log.e("download_Image", "Caught exception: "+e.getMessage());
        return null;
    }
}
} 
```

这是错误：

```
02-27 20:07:37.815: I/doInBackground(19374): Loading image from: http://www.martingrumet.com/boxelder01may04.jpg
02-27 20:07:37.815: I/Choreographer(19374): Skipped 92 frames!  The application may be doing too much work on its main thread.
02-27 20:07:37.840: D/dalvikvm(19374): GC_CONCURRENT freed 404K, 9% free 13752K/15047K, paused 2ms+12ms, total 24ms
02-27 20:07:38.110: D/dalvikvm(19374): GC_FOR_ALLOC freed 72K, 9% free 13723K/15047K, paused 11ms, total 11ms
02-27 20:07:38.110: I/dalvikvm-heap(19374): Grow heap (frag case) to 15.182MB for 1334016-byte allocation
02-27 20:07:38.125: D/dalvikvm(19374): GC_CONCURRENT freed 0K, 9% free 15026K/16391K, paused 2ms+1ms, total 12ms
02-27 20:07:38.125: D/dalvikvm(19374): WAIT_FOR_CONCURRENT_GC blocked 11ms
02-27 20:07:38.395: D/AndroidRuntime(19374): Shutting down VM
02-27 20:07:38.395: W/dalvikvm(19374): threadid=1: thread exiting with uncaught exception (group=0x40cf14a0)
02-27 20:07:38.395: E/AndroidRuntime(19374): FATAL EXCEPTION: main
02-27 20:07:38.395: E/AndroidRuntime(19374): java.lang.NullPointerException
02-27 20:07:38.395: E/AndroidRuntime(19374):    at com.ourbenefactors.treeidentification2.DownloadImageBackground.onPostExecute(DownloadImageBackground.java:27)
02-27 20:07:38.395: E/AndroidRuntime(19374):    at com.ourbenefactors.treeidentification2.DownloadImageBackground.onPostExecute(DownloadImageBackground.java:1)
02-27 20:07:38.395: E/AndroidRuntime(19374):    at android.os.AsyncTask.finish(AsyncTask.java:631)
02-27 20:07:38.395: E/AndroidRuntime(19374):    at android.os.AsyncTask.access$600(AsyncTask.java:177)
02-27 20:07:38.395: E/AndroidRuntime(19374):    at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:644)
02-27 20:07:38.395: E/AndroidRuntime(19374):    at android.os.Handler.dispatchMessage(Handler.java:99)
02-27 20:07:38.395: E/AndroidRuntime(19374):    at android.os.Looper.loop(Looper.java:137)
02-27 20:07:38.395: E/AndroidRuntime(19374):    at android.app.ActivityThread.main(ActivityThread.java:4898)
02-27 20:07:38.395: E/AndroidRuntime(19374):    at java.lang.reflect.Method.invokeNative(Native Method)
02-27 20:07:38.395: E/AndroidRuntime(19374):    at java.lang.reflect.Method.invoke(Method.java:511)
02-27 20:07:38.395: E/AndroidRuntime(19374):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1008)
02-27 20:07:38.395: E/AndroidRuntime(19374):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:775)
02-27 20:07:38.395: E/AndroidRuntime(19374):    at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T04:26:13.490

您是否在某处初始化了 ImageView？在我看来，整个过程都是空的。

我还建议使用返回 Bitmap 而不是 Drawable的[BitmapFactory.decodeStream() 。](http://developer.android.com/reference/android/graphics/BitmapFactory.html)您还可以传递一个[BitmapFactory.Options](http://developer.android.com/reference/android/graphics/BitmapFactory.Options.html)，它允许用于更改输入样本大小和其他几个有用的选项。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T04:42:42.243

您的 ImageView 在`imageView.setImageDrawable(result);`

# php - 将 symfony2 NotFoundHttpException 移动到不同的文件

> ID：15127336
> 
> 赞同：2
> 
> 时间：2013-02-28T04:10:18.643
> 
> 标签：php, symfony

我的 symfony2 日志中出现了很多 NotFoundHttpException 和 AccessDeniedExceptions。我怎样才能将这些移动到另一个文件（而不是与我机器上的所有其他日志混合）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T21:45:16.353

[首先，像这样创建一个异常事件侦听器（从此处](https://stackoverflow.com/questions/11302787/how-do-i-reduce-the-severity-of-notfoundhttpexception)的答案借用，但修改为像正常一样转发到树枝控制器 - 从 symfony 的 ExceptionListener 获取该代码）：

```
class AnnoyingExceptionListener {
    private $logger;

    public function __construct(LoggerInterface $logger) {
        $this->logger = $logger;
    }

    public function onKernelException(GetResponseForExceptionEvent $event) {
        static $handling;

        if (true === $handling) {
            return false;
        }

        $handling = true;

        $exception = $event->getException();
        $request = $event->getRequest();
        $type = get_class($exception);

        if(!$event) {
            $this->logger->err("Unknown kernel.exception in ".__CLASS__);
            return;
        }
        $notFoundException = '\Symfony\Component\HttpKernel\Exception\NotFoundHttpException';
        $accessDeniedException = '\Symfony\Component\HttpKernel\Exception\AccessDeniedHttpException';

        if ($exception instanceof $notFoundException) {
            $this->logger->info($exception->getMessage());
        }
        else if ($exception instanceof $accessDeniedException) {
            $this->logger->info($exception->getMessage());
        }
        else {
            $this->logger->err("kernel.exception of type $type. Message: '". $exception->getMessage()."'\nFile: ". $exception->getFile().", line ". $exception->getLine()."\nTrace: ". $exception->getTraceAsString());
        }

        $attributes = array(
            '_controller' => 'Symfony\Bundle\TwigBundle\Controller\ExceptionController::showAction',
            'exception'   => FlattenException::create($exception),
            'logger'      => $this->logger,
            'format'      => $request->getRequestFormat(),
        );

        $request = $request->duplicate(null, null, $attributes);
        $request->setMethod('GET');

        try {
            $response = $event->getKernel()->handle($request, HttpKernelInterface::SUB_REQUEST, true);
        } catch (\Exception $e) {
            $message = sprintf('Exception thrown when handling an exception (%s: %s)', get_class($e), $e->getMessage());
            if (null !== $this->logger) {
                if (!$exception instanceof HttpExceptionInterface || $exception->getStatusCode() >= 500) {
                    $this->logger->crit($message);
                } else {
                    $this->logger->err($message);
                }
            } else {
                error_log($message);
            }

            // set handling to false otherwise it wont be able to handle further more
            $handling = false;

            // re-throw the exception from within HttpKernel as this is a catch-all
            return;
        }

        $event->setResponse($response);

        $handling = false;
    } 
```

然后创建以下 service.yml 条目：

```
 failedRequestStreamHandler:
    class: Monolog\Handler\StreamHandler
    arguments:
      - %kernel.logs_dir%/failed_requests.log
      - debug

 failedRequestLogger:
    class: Symfony\Bridge\Monolog\Logger
    arguments: ['failedRequests']
    calls: [[ pushHandler, [@failedRequestStreamHandler] ]]

 kernel.listener.annoying_exception_listener:
        class: TMD\SharedBundle\Listener\AnnoyingExceptionListener
        arguments: [@failedRequestLogger]
        tags:
            - { name: kernel.event_listener, event: kernel.exception, method: onKernelException } 
```

有点臃肿，但那是你的 Symfony2。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-24T05:25:51.517

仅供参考，`Symfony >= 2.2`您需要使用该服务：

```
$e = $event->getException();
$notFoundException = '\Symfony\Component\HttpKernel\Exception\NotFoundHttpException';
if ($e instanceof $notFoundException) {
    // Log the error
    $this->pageNotFoundLogger->info($e->getMessage());

    /** @var ExceptionController $exceptionController */
    $exceptionController = $this->container->get('twig.controller.exception');
    $request = $event->getRequest();
    $response = $exceptionController->showAction($request, FlattenException::create($e), $this->logger, $request->getRequestFormat());

    $event->setResponse($response);
    $event->stopPropagation();
    return;
} 
```

在此示例中，我使用容器来获取服务，但您最好直接在`service.yml`.

# ios - 此 Mac 上未安装“myName”的私钥

> ID：15127340
> 
> 赞同：0
> 
> 时间：2013-02-28T04:10:29.150
> 
> 标签：ios, xcode

尝试将我的应用上传到应用商店时收到此消息：

![在此处输入图像描述](../Images/2427b5e8bb4650e0c4785aa369c03949.png)

我一直听说这是钥匙串中的一个问题，但这就是我的钥匙串的样子：

![在此处输入图像描述](../Images/3ce3453d674a60d0dccf0f27418a8f00.png)

有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T04:14:40.410

这发生在我身上。我的问题是通过删除重复的键来解决的。

# c# - 非空值的空异常

> ID：15127341
> 
> 赞同：2
> 
> 时间：2013-02-28T04:10:41.843
> 
> 标签：c#, windows-store-apps

所以我在这里有这个方法：

```
 public async Task<PixelData> GrabPixelData(string imageFileName)
    {
        if (!ImageDictionary.ContainsKey(imageFileName))
        {
            // doesn't exist yet, so load it
            PixelData pd = await LoadPic(imageFileName);
            ImageDictionary.Add(imageFileName, pd);
        }

        var test = ImageDictionary[imageFileName];

        return ImageDictionary[imageFileName];
    } 
```

调试器说“测试”包含一个 PixelData 类型的对象（具有真实的非静态值）。

但是，当它返回调用方法时，它会说该行存在空引用异常：

```
 private async void LoadPic()
    {
        myObject.pixelData = await rootPage.GrabPixelData("obj1.png");
    } 
```

MyObject 也不为空（根据调试器）...

是任务返回吗？

编辑：

ImageDictionary 是字典。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:23:14.897

将您的函数更改`LoadPic`为 return `Task`：

```
private async Task LoadPic()
{
    myObject.pixelData = await rootPage.GrabPixelData("obj1.png");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T04:40:02.417

您的方法`GrabPixelData`清楚地返回`Task<PixelData`> 实例而不是`PixelData`。所以是的，你的猜测是正确的，它正在返回一个`Task`实例。

# javascript - 如何让 div 从其他 div 中崛起？

> ID：15127342
> 
> 赞同：0
> 
> 时间：2013-02-28T04:10:43.870
> 
> 标签：javascript, css, class, html

`position:absolute`我知道如何通过为父母和孩子做事来将 div 堆叠在 div 之上`position:relative`，但我怎样才能让一个 div 从另一个 div “上升”？我想要实现的一个例子是[here](http://pitchfork.com/reviews/albums/17765-kavinsky-outrun/)。滚动到底部并将鼠标悬停在艺术品上。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T04:20:15.133

您可以做的是在相对定位框中弹出的绝对位置，例如：

```
<div class="featured-image">
  <div class="caption">
    <p>This is where your text goes</p>
  </div>
</div> 
```

现在你有了它，你会想让标题不可见，除非滚动过去。因此，仅使用 CSS 的简单方法是：

```
.featured-image { position:relative; width:300px; height: 400px; }
.caption { position:absolute; bottom:0; display:none; }
.feature-image:hover > .caption { display:block; } 
```

当您将鼠标悬停在图像上时，最后一行可以看到。

然后你可以很容易地用 jQuery 为它制作动画。这似乎是他们正在使用的。

```
$(document).ready(function(e) {
$(".caption").hide();
});
var show = function() {
    $(".caption", this).stop(true, true).show(500)
};
var hide = function() {
    $(".caption", this).stop(true, true).hide(500);
};  
    $(".featured-image").hover(show, hide); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T04:28:54.557

html

```
<div id="pic">
    <div>

    </div>
</div> 
```

CSS

```
#pic {
    position: relative;
    background: yellow;
    width: 100px;
    height: 100px;
    overflow: hidden;
}

#pic div {
    position: absolute;
    bottom: -50px;
    background: black;
    height: 50px;
    width: 100px;

} 
```

jQuery

```
$('#pic').hover(
    function(){
        $(this).find('div').stop(true, true).animate({
            'bottom': '+=50'
        }, 100);
    },
    function(){
        $(this).find('div').stop(true, true).animate({
            'bottom': '-=50'
        }, 100);
    }
); 
```

jsfiddle：http: [//jsfiddle.net/Z6eLa/2/](http://jsfiddle.net/Z6eLa/2/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T04:16:58.473

向自己介绍 jQuery 和 z-index。

[http://api.jquery.com/slideDown/](http://api.jquery.com/slideDown/)

这里的技巧是向下滑动会让你的顶部 div 向下滑动。我想到的唯一一件事就是不要扩大底部的div，而是做相反的事情。获取顶部 div，并让它向上滑动，而另一个 div 显示在它后面。它应该给出底部 div '向上滑动'的外观。

请注意，如果这不起作用，对不起。我实际上不确定你是否可以让它只滑到一半而不是一路……祝你好运！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T14:10:09.470

你不需要 JS，只需使用 css3 转换。

# r - 使用 R apply 在数据框的特定列上运行函数

> ID：15127343
> 
> 赞同：1
> 
> 时间：2013-02-28T04:10:52.713
> 
> 标签：r, apply

我有这个函数，它返回给定图形对象 igraph_obj（在计算后存储权重）的图形上链接的边权重（在这种情况下如何使用 apply 函数不需要任何 igraph 库知识） node1 和 node2（存储在数据帧 df 中）：

```
dweight <- function(igraph_obj, node1, node2){
    return(E(igraph_obj)[node1 %->% node2]$weight)
} 
```

我想将此功能应用于具有以下结构的数据框：

```
Node1 Node2 other_column1 other_column2 ...
a     b        1                2       ...
c     d        3                7       ...
... 
```

我已经阅读了有关 apply 函数的文档和教程，到目前为止，我尝试将函数 dweight 应用于每个 node1、node2 等都没有奏效。如果我必须编写一个循环来执行此操作，它会执行类似这样的操作: dweight(igraph_obj = g, df$Node1[i], df$Node2[i]) 对于 df 的每一行 i。

因此，apply 函数应该如下所示：

```
apply(df, 1, dweight, igraph_obj=g) 
```

但是随后，dweight 不知道将 df 的哪一列用作 node1、node2。这也不起作用：

```
apply(df, 1, dweight, igraph_obj=g, node1 = df$Node1, node2 = df$Node1) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T04:15:21.310

尝试：

```
 mapply(dweight, node1=df$Node1, node2=df$Node2, MoreArgs=list(igraph_obj=g)) 
```

这应该可行，但我现在无法测试它。如果没有，请尝试：

```
 mapply(function(n1, n2) dweight(igraph_obj=g, n1, n2), df$Node1, df$Node2) 
```

* * *

或者，如果您想稍微修改您的功能：

```
dweight <- function(nodes, igraph_obj){
    node1 <- nodes$Node1
    node2 <- nodes$Node2
    return(E(igraph_obj)[node1 %->% node2]$weight)
} 
```

然后您可以像第一次尝试一样使用您的应用功能：

```
 apply(df, 1, dweight, igraph_obj=g) 
```

# django - Django - 检索未经身份验证的用户对象

> ID：15127344
> 
> 赞同：1
> 
> 时间：2013-02-28T04:10:58.957
> 
> 标签：django

正如标题所述，我需要用户检索不同用户的用户信息，无论他们是否经过身份验证。

我有一个“个人资料”模板，其中包含一些逻辑来显示静态用户信息（对于公共）或可编辑的用户信息（对于它所属的用户）。

**问题：**我的模板中的条件返回“true”——用户对象似乎已通过身份验证，但事实并非如此。如果我从该页面（个人资料）导航，则没有用户登录。

我对 Django 很陌生。我没有在 view.py 中正确检索用户对象吗？

**视图.py**

```
def GetProfileById(request, userid):
    try:
        user = User.objects.get(pk=userid)
    except User.DoesNotExist:
        return HttpResponseRedirect('/')

    try:
        user_profile = user.get_profile()
    except Exception:
        return HttpResponseRedirect('/')

    context = {'user': user, 'user_profile': user_profile}
    return render_to_response('profile.html', context, context_instance=RequestContext(request)) 
```

**profile.html**

```
{% if user.is_authenticated %}

    <form id="form-about" class="form-horizontal" action="{% url update-user-profile %}" method="POST">
        {% csrf_token %}
        <p>{{ about_form.first_name }}</p>
        <p>{{ about_form.last_name }}</p>
        <p>{{ about_form.birthday }}</p>
        <p>{{ about_form.profession }}</p>
        <button class="btn btn-primary" type="submit">Save</button>
    </form>

{% else %}

     <p><b>Name:</b> {{ user.first_name }} {{ user.last_name }}</p>
     <p><b>DOB:</b> {{ user_profile.birthday }}</p>
     <p><b>Profession:</b> {{ user_profile.profession }}</p>
     <p><b>Member since:</b> {{ user.date_joined|date:'Y-M-d'  }}</p>
     <p><b>Last login:</b> {{ user.last_login|date:'Y-M-d @ H:i' }}</p>

{% endif %} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T04:27:31.550

看起来，您要做的是，如果用户当前已登录，您希望显示一个允许他们更新个人资料的表单。

所以问题是：

1.  在您看来，您正在`user`从数据库中设置一个用户对象。
2.  该对象不代表或包含有关当前用户是否登录的信息。它只是来自数据库的记录。
3.  您要检查`request.user`，它代表请求网页的用户的用户对象。

因此，在您的模板中，更改：

```
{% if user.is_authenticated %} 
```

至：

```
{% if request.user.is_authenticated %} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T20:38:55.560

我相信你很困惑`user`并且`request.user`. 前者是显示的用户，后者是当前登录的用户，如果没有人登录，则为 AnonymousUser。

如果当前登录的用户和正在显示的用户相同，您想显示该表单，对吗？然后只需改变

```
{% if user.is_authenticated %} 
```

至

```
{% ifequal user request.user %} 
```

# c# - 重命名文件下载 ASP.NET C#

> ID：15127348
> 
> 赞同：0
> 
> 时间：2013-02-28T04:11:28.697
> 
> 标签：c#, asp.net, file-upload, rename

我在 ASP.NET C# 中有一个模块，可以将上传的文件重命名为新文件。如果原始文件名是：`thisisatext.txt`，当用户上传到我的服务器时，它将被重命名为`TXT201302.TXT`.

所有活动都记录到数据库中，结构如下：

```
| id    | oldfilename     | newfilename   |
| 1     | thisisatext.txt | TXT201302.TXT | 
```

现在我想制作一个下载模块，将上传的文件重命名为其原始文件名，即：`thisisatext.txt`

我该怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T04:22:01.463

您必须在`Content-Disposition`http 标头中设置文件名

```
Response.AddHeader("Content-Disposition", "attachment; filename=" + oldfilename);
Response.ContentType = "text/plain";

Response.BinaryWrite(fileContents);   //byte array contents of file
Response.End(); 
```

文件将被下载，并提示用户使用旧文件名保存。

# android - 如何在android中更改可绘制形状的颜色

> ID：15127351
> 
> 赞同：30
> 
> 时间：2013-02-28T04:11:41.443
> 
> 标签：android, background, drawable, android-linearlayout

我正在开发小型 android 应用程序，其中我将可绘制资源设置为线性布局的背景。现在我想要做的是动态更改线性布局的背景颜色，但在可绘制资源内。我的代码看起来像：

```
//  bcd.xml
<selector xmlns:android="http://schemas.android.com/apk/res/android">

<item>        
    <shape>
        <gradient
            android:endColor="#22000000"
            android:startColor="#22000000"
            android:angle="270" />
        <stroke
            android:width="3dp"
            android:color="@color/white" />
        <corners
            android:radius="3dp" />
        <padding
            android:left="10dp"
            android:top="10dp"
            android:right="10dp"
            android:bottom="10dp" />
    </shape>
</item> 
```

```
<LinearLayout 
android:id="@+id/lin_llt"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
> 
```

我像这样在我的活动中为线性布局设置背景......

```
parentLayout = (LinearLayout) view.findViewById(R.id.lin_llt);
parentLayout.setBackgroundResource(R.drawable.bcd); 
```

现在我想做的是改变我的可绘制资源的颜色，这意味着改变我的线性布局的颜色，圆角和填充在可绘制中定义..

我尝试了以下方式

```
ShapeDrawable bgShape = (ShapeDrawable )parentLayout.getBackground();
bgShape.getPaint().setColor(Color.BLACK); 
```

但它不适合我。任何其他解决方案。

那么该怎么做...需要帮助...谢谢...

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2013-02-28T04:23:43.147

动态更改布局颜色

```
LinearLayout Layout = (LinearLayout) findViewById(R.layout.id);
Layout.setBackgroundColor(Color.parseColor("#ffffff")); 
```

动态设置背景颜色渐变

```
View layout = findViewById(R.id.mainlayout);

GradientDrawable gd = new GradientDrawable(
        GradientDrawable.Orientation.TOP_BOTTOM,
        new int[] {0xFF616261,0xFF131313});
gd.setCornerRadius(0f);

layout.setBackgroundDrawable(gd); 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-02-28T04:15:39.290

你可以尝试这样的事情：

```
Drawable sampleDrawable = context.getResources().getDrawable(R.drawable.balloons); 
sampleDrawable.setColorFilter(new PorterDuffColorFilter(0xffff00,PorterDuff.Mode.MULTIPLY)); 
```

更多信息您可以参考：

[如何在 Android 中更改 Drawable 的颜色？](https://stackoverflow.com/questions/1309629/how-to-change-colors-of-a-drawable-in-android)

[以编程方式更改可绘制颜色](https://stackoverflow.com/questions/11376516/change-drawable-color-programmatically)

[Android：在运行时更改形状颜色](https://stackoverflow.com/questions/5940825/android-change-shape-color-in-runtime)

[http://pastebin.com/Hd2aU4XC](http://pastebin.com/Hd2aU4XC)

你也可以试试这个：

```
private static final int[] FROM_COLOR = new int[]{49, 179, 110};
private static final int THRESHOLD = 3;

public void onCreate(Bundle savedInstanceState)
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.test_colors);

    ImageView iv = (ImageView) findViewById(R.id.img);
    Drawable d = getResources().getDrawable(RES);
    iv.setImageDrawable(adjust(d));
}

private Drawable adjust(Drawable d)
{
    int to = Color.RED;

    //Need to copy to ensure that the bitmap is mutable.
    Bitmap src = ((BitmapDrawable) d).getBitmap();
    Bitmap bitmap = src.copy(Bitmap.Config.ARGB_8888, true);
    for(int x = 0;x < bitmap.getWidth();x++)
        for(int y = 0;y < bitmap.getHeight();y++)
            if(match(bitmap.getPixel(x, y))) 
                bitmap.setPixel(x, y, to);

    return new BitmapDrawable(bitmap);
}

private boolean match(int pixel)
{
    //There may be a better way to match, but I wanted to do a comparison ignoring
    //transparency, so I couldn't just do a direct integer compare.
    return Math.abs(Color.red(pixel) - FROM_COLOR[0]) < THRESHOLD && Math.abs(Color.green(pixel) - FROM_COLOR[1]) < THRESHOLD && Math.abs(Color.blue(pixel) - FROM_COLOR[2]) < THRESHOLD;
} 
```

如[如何在 Android 中更改 Drawable 的颜色？](https://stackoverflow.com/questions/1309629/how-to-change-colors-of-a-drawable-in-android)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2018-03-27T14:10:56.277

以下内容非常适合以编程方式设置可绘制对象的颜色**而不**改变其形状：

```
parentLayout.getBackground().setColorFilter(
    Color.BLACK,
    PorterDuff.Mode.SRC_ATOP
); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-07-04T13:08:25.977

用这个..

```
<solid android:color="#e1e1e1" />

<stroke
    android:width="2dp"
    android:color="#808080" />

<corners android:radius="10dp" />

<padding
    android:bottom="5dp"
    android:left="5dp"
    android:right="5dp"
    android:top="5dp" /> 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-28T04:16:21.250

一种方法是使用第二种颜色创建第二个可绘制 XML，然后使用第二个可绘制对象更改布局的背景。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2020-07-15T16:00:50.813

也可能的方法是使用：

```
val layerDrawable : LayerDrawable = imageView.background as LayerDrawable
val bgShape = layerDrawable.findDrawableByLayerId(R.id.shape_id) as GradientDrawable
bgShape.setColor(ContextCompat.getColor(context, R.color.colorPrimary)) 
```

举个例子（**drawable/circle.xml**）：

```
<?xml version="1.0" encoding="utf-8"?>
<layer-list xmlns:android="http://schemas.android.com/apk/res/android">
<item android:id="@+id/shape_id">
    <shape xmlns:android="http://schemas.android.com/apk/res/android"
        android:shape="rectangle">
        <corners android:radius="1000dp" />
        <solid android:color="#F4B528" />
        <padding
            android:bottom="4dp"
            android:left="4dp"
            android:right="4dp"
            android:top="4dp" />
    </shape>
</item>
</layer-list> 
```

和**ImageView**：

```
<ImageView
    android:id="@+id/imageView"
    android:layout_width="16dp"
    android:layout_height="16dp"
    android:background="@drawable/circle" 
/> 
```

# .htaccess - 如何修复 HTACCESS 中的 mod_rewrite RewriteRule

> ID：15127352
> 
> 赞同：0
> 
> 时间：2013-02-28T04:11:44.797
> 
> 标签：.htaccess, mod-rewrite

我正在编写一些 RewriteRules，而我最基本的重写返回 404 错误。这是我的代码：

```
Options +FollowSymLinks
RewriteEngine on

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

RewriteRule s/(.*)/(.*)/$ /page.php?s=$2 [NC,L]
RewriteRule ^submit/$ submit.php [R,L]

# Options All -Indexes

<files .htaccess>
order allow,deny
deny from all
</files> 
```

**RewriteRule ^submit/$ submit.php [R,L]**是我遇到麻烦的地方。当我访问 domain.com/submit/ 时，我的服务器返回 404 错误，提示“在此服务器上找不到请求的 URL /submit/”。就像服务器甚至没有查看我的 HTACCESS 文件一样。其他 RewriteRules 工作完美。

我错过了什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T06:42:12.457

你可以试试这个：

```
Options +FollowSymlinks -MultiViews
RewriteEngine On
RewriteBase /

RewriteCond %{REQUEST_URI} !page\.php    [NC]
RewriteRule ^s/(.*)/(.*)/$ /page.php?s=$2 [NC,L]

RewriteCond %{REQUEST_URI} !submit\.php  [NC]
RewriteRule ^submit   submit.php         [R,L,NC] 
```

根据问题中的信息，就是这样。

无法**猜测**第一条规则是什么，因为没有 URL 示例来确定正则表达式匹配的模式或脚本的位置。

第二条规则会发生类似的情况，因为无法确认脚本 (submit.php) 的位置，同样，问题中没有 URL 示例。

# javascript - 我们可以将 jsp 变量传递给 jQuery 就绪函数吗

> ID：15127355
> 
> 赞同：0
> 
> 时间：2013-02-28T04:12:08.353
> 
> 标签：javascript, jquery, jsp

我有一个下面给出的 jQuery 就绪函数，我需要将一个值传递给`myLocFn()`. 我要问的是，当我们使用就绪函数时，是否可以将 jsp 值传递给 myLocFn()。

```
<script>  
$(document).ready(function(){
    $(".myDiv").myLocFn();     // need to pass a value here                  
});
</script> 
```

我也包含了 js 路径`<script src="myLocFn.js"></script>`。我的 js 从哪里开始，

```
(function($){
    $.fn.myLocFn= function(options) {
..... // need to get the value here 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T04:18:40.187

使用服务器代码在脚本部分中编写一个 JSP 变量：

```
<script type="text/javascript">

var jspVar="JSP_value"; // use expression tag in JSP here
</script> 
```

然后在您的 jQuery 代码中引用，就像 JavaScript 变量一样，因为您在上面的行中将您的 JSP 值分配给 JS 变量

```
(function($){
    $.fn.myLocFn= function(options) {
    alert(jspVar); //here u can see 
} 
```

**编辑：**请确保在访问之前应该定义 jspVar。您可以从呈现的 HTML 中检查这一点

# scheme - 以下代码出错

> ID：15127356
> 
> 赞同：0
> 
> 时间：2013-02-28T04:12:08.933
> 
> 标签：scheme, racket

当我为这段代码做（访问医生晚餐时间）时：

```
(define (visit-doctor name)
  (if (equal? name 'suppertime) (end-session)
  ((write-line (list 'hello name))
  (write-line '(what seems to be the trouble?))
  (doctor-driver-loop name initial-earlier-response))))

(define (end-session) (write-line '(the doctor is done seeing patients today))) 
```

它给了我这个错误：

申请：不是程序；期望一个可以应用于给定参数的过程：#arguments...：##

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T09:00:06.590

您的问题是您正在尝试使用方括号对代码块进行分组。
计划不这样做。

你的`else`分支是

```
((write-line (list 'hello name))
 (write-line '(what seems to be the trouble?))
 (doctor-driver-loop name initial-earlier-response)) 
```

这是三个元素的列表。

该列表的第一个元素应该是一个过程，然后将其应用于其他两个元素，但是当你评估`(write-line (list 'hello name))`你没有得到一个过程时，你会得到`#<void>`.

解决方法是使用以下命令对其进行排序`begin`：

```
(begin (write-line (list 'hello name))
       (write-line '(what seems to be the trouble?))
       (doctor-driver-loop name initial-earlier-response)) 
```

# c# - 在 ASP.NET MVC 中保存对象列表

> ID：15127364
> 
> 赞同：0
> 
> 时间：2013-02-28T04:12:42.923
> 
> 标签：c#, .net, asp.net-mvc

我有一个关于在 ASP.NET MVC 中保存对象列表的问题。首先，我没有使用 EntityFramework 或 Nh 之类的 ORM 工具，只需使用 Ado.net

假设我有一个对象产品，我想通过 javascript 收集所有产品数据并一次调用批量更新产品列表。

我的问题是何时应该区分插入、更新或删除的项目？

1.  一种策略是我在 DTO 对象和 javascript ViewModel 上都有一个枚举属性，当我在 viewModel 中添加一个项目时，我将此对象标记为要添加，如果我更改了一个项目，我将其标记为已更新。因此，当此请求执行时，我可以知道要插入或更新哪些项目。

    *   优点：在服务器端很容易，不需要从服务器端区分对象状态。
    *   缺点：如果我想将此操作发布到将由第三方调用的 webapi，则可能需要第三方用户来区分对象的状态。
2.  区分服务器端的数据，只需给我一个对象列表，在服务器端，首先从数据库中检索当前数据，比较数据，然后检查要插入或更新的记录。

    *   优点：所有比较都是从服务器端完成的。
    *   缺点：性能问题
3.  无论从客户端传递什么数据，只需删除当前数据并插入新数据

我希望有人能给我一个建议，处理这种情况的最佳做法是什么，我认为这很常见，但我找不到最佳解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:27:26.553

第三种策略适用于简单的情况，例如当您要更新采购订单项目时，订单不会有太多的 OrderLineItems。但是，您必须注意并发问题。

我认为您的第一个策略最适合一般情况。它也很容易实现。当您想将服务发布给第三方时，客户端通常必须遵循服务定义和要求。

* * *

**更新**

对于第一个策略：如果您不希望您的客户必须为他们的数据指定状态，那就为他们做。您可以将 SaveOrder 服务分成更小的服务：CreateOrder、UpdateOrder、DeleteOrder。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T04:34:25.027

我已经看到选项 1，其中添加/删除/修改的项目在 javascript 数组中维护并回发到服务器。但由于某种原因，我不喜欢它可能是因为编写客户端代码来维护状态。

所以，我使用了第二个选项，感谢 LINQ 让我的任务更轻松。假设列表有一些唯一的 id，下面是伪代码。注意：新添加的项目应该具有唯一的随机 id，否则可能会将它们视为已经存在的项目。在我的情况下，它的 GUID，所以没有覆盖的机会。

```
var submittedIds = vmList.Select(a=>a.Id).ToList();
var dbIds = dbList.Select(d=>d.Id).ToList();
//Added items
var newIds = submittedIds.Except(dbIds).ToList();
//loop over newIds and construct list object to contain newly added items 

//Deleted items
var deletedIds = dbIds.Except(submittedIds).ToList();
//Modified items
var modifiedIds = dbIds.Intersect(submittedIds).ToList();//if the values don't change, update statement won't do any harm here 
```

除非您正在处理大量列表，否则这种方法会提供合理的性能。

我认为第三种选择不好。例如：如果您计划在表上实施审计功能，它会给您错误的功能。如果插入一条新记录，则所有记录的条目都会被删除，然后插入一条记录，这是错误的，因为只插入了一条记录。

# routes - rails url link helper方法未使用完整引擎定义

> ID：15127367
> 
> 赞同：2
> 
> 时间：2013-02-28T04:12:49.443
> 
> 标签：routes, helpers, rails-engines

导轨 3.2.12 2/27/2013

我们有一个名为**base2_cms**的完整 Rails 引擎，其模型名为“ **Event** ”。使用 rails server 运行引擎没有问题。

接下来，另一个名为**base2_cvb**的完整 Rails 引擎使用打包为 gem 的**base2_cms**。这没有问题。

接下来，应用程序将这两个引擎用作 gem。自从引擎首次问世以来，我们一直在这样做，但最近进行了很多更改。沿线某处，路由停止工作。或者我猜更准确地说，rails url 链接辅助方法。

在应用程序级别，当使用带有第二个参数的link_to 作为事件的实例时，会出现此错误：

```
undefined method `event_path' for #<#<Class:0x007f82d52b3c20>:0x007f82d52a7240> 
```

堆栈跟踪：

```
actionpack (3.2.11) lib/action_dispatch/routing/polymorphic_routes.rb:129:in `polymorphic_url'

actionpack (3.2.11) lib/action_dispatch/routing/polymorphic_routes.rb:135:in `polymorphic_path'

actionpack (3.2.11) lib/action_view/helpers/url_helper.rb:111:in `url_for'

actionpack (3.2.11) lib/action_view/helpers/url_helper.rb:242:in `link_to'

base2_cms (0.9.40) app/helpers/application_helper_fieldset.rb:31:in `fieldset_combined_title'

base2_cms (0.9.40) app/helpers/application_helper_index.rb:35:in `index_start'

base2_cms (0.9.40) app/views/organizations/index.html.erb:2:in 
```

这与多态无关，因为我们还有其他类似的问题，例如在不同的情况下出现此错误：

```
In order to use #url_for, you must include routing helpers explicitly. For instance, `include Rails.application.routes.url_helpers 
```

我们已经尝试以各种方式遵循最后的建议，但在许多其他尝试的解决方案中都没有成功。

在应用程序级别运行 rake 路由会返回以下有关事件模型的信息：

```
GET    /events/:id/copy(.:format)                 events#copy
DELETE /events/:id/remove_organization(.:format)  events#remove_organization
POST   /events/:id/add_organization(.:format)     events#add_organization
GET    /events(.:format)                          events#index
POST   /events(.:format)                          events#create
GET    /events/new(.:format)                      events#new
GET    /events/:id/edit(.:format)                 events#edit
GET    /events/:id(.:format)                      events#show
PUT    /events/:id(.:format)                      events#update
DELETE /events/:id(.:format)                      events#destroy 
```

在最终应用程序级别使用 rails 控制台，我们甚至可以这样做：

```
1.9.2-p320 :011 > app.event_path(9)
 => "/events/9" 
1.9.2-p320 :012 > app.event_path(Event.find(88))
  Event Load (13.1ms)  SELECT "events".* FROM "events" WHERE "events"."id" = $1 LIMIT 1      [["id", 88]]
 => "/events/88" 
```

但是，在视图中使用 link_to 时，无法找到顶部描述的 event_path 方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-10-18T02:26:05.367

当您使用引擎时，您必须指定路由是主应用程序还是引擎，如果它来自主应用程序，您可以这样做

```
main_app.event_path 
```

如果它来自 base2_cms 引擎，你可以放

```
base2_cms.event_path 
```

或者如果它是 base2_cvb 引擎：

```
base2_cvb.event_path 
```

如果您没有指定路线的位置，它将搜索当前引擎的路线，如果您不在任何引擎中，则从主应用程序搜索

# javascript - JavaScript window.print() 不工作

> ID：15127370
> 
> 赞同：0
> 
> 时间：2013-02-28T04:13:06.510
> 
> 标签：javascript

这是带有表格的简单页面。我想在按钮单击时打印它。但是脚本不起作用。

```
<html><head><style>th{background-color:#000}table, th, td {  border: 1px solid black; }    </style></head><body><center>
<TABLE id=highlight class=hilite border=1 cellSpacing=5 cellPadding=4><THEAD    style="COLOR: white">
<TR>
<TH colSpan=2>MINI STATEMENT</TH></TR></THEAD>
<TBODY>
<TR>
<TD class=row width="15%"><B>Account Id</B></TD>
<TD class=row><B>A000000003</B></TD></TR>
<TR></TR>
<TR>
<TD class=row width="15%">Your Previous Balance</TD>
<TD class=row width="15%">2539.62</TD></TR>
<TR></TR>
<TR>
<TD class=row width="15%">Your Current Balance</TD>
<TD class=row width="15%">2538.62 </TD></TR></TBODY></TABLE><input type='button'    onClick='window.print()' value='Print'></center></body></html> 
```

这是一个虚拟项目的维护代码，所以只需忽略标准和约定：p 练习。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T04:35:58.853

试试这样...

```
<html>

<head>
  <script type="text/javascript">
    function openWin() {
      var myWindow = window.open('', '', 'width=200,height=100');
      myWindow.document.write("<p>This is 'myWindow'</p>");

      myWindow.document.close();
      myWindow.focus();
      myWindow.print();
      myWindow.close();

    }
  </script>
</head>

<body>

  <input type="button" value="Open window" onclick="openWin()" />

</body>

</html>
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-08-16T17:37:18.833

其他可能的解决方案：如果仅在其他事件（如再次打印、刷新等）之后出现打印框架，则 Adblock chrome 扩展似乎与此相关。删除扩展并重试。

# python - CPython/wxWidgets 前端使用 Java6 jar

> ID：15127371
> 
> 赞同：0
> 
> 时间：2013-02-28T04:13:22.420
> 
> 标签：python, wxpython, jython

如何在 OS X 10.8 上运行的 wxPython 前端应用程序中使用 JAR 格式（无源）的 Java 库的功能？

我可以在 Jython 中使用该库，一切正常，但当然`wx`是仅限 CPython，所以我找不到比这更好的东西：http: [//jpype.sourceforge.net/doc/user-guide/userguide.html](http://jpype.sourceforge.net/doc/user-guide/userguide.html) :(

不用说，JPype 真的很麻烦，至少对于我需要对所讨论的 JAR 进行广泛使用而言。有没有更好的方法或更高级的系统？

我不能将 wxPython 更改为 GUI，因为所有工具链都依赖于它，直到 PyInstaller 的最新打包步骤。我不能重写 JAR 也不能用一些开源包替换它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T22:30:06.717

我建议将它作为 java 应用程序在不同的进程中运行，然后使用某种形式的 IPC 与 Python 应用程序通信。

# android - 使用来自服务器响应的按钮创建 Android 布局

> ID：15127373
> 
> 赞同：0
> 
> 时间：2013-02-28T04:13:51.220
> 
> 标签：android, dynamic, scrollview, onclicklistener, server-response

我四处查看，但我永远找不到能帮助我完成我想要完成的事情的东西。在我的 Android 应用程序中，我希望能够向服务器请求一些数据，当返回该数据时，我想填充一个滚动视图，因为有太多内容无法容纳在一个显示器中。我这样做的原因是因为数据更新太频繁，以至于我无法持续更新应用程序（想象一下 twitter）。我已经构建了将填充滚动视图的 XML 线性布局，我只需要找到构建视图的最佳方法。

我已经集思广益了一些可行的方法，如果可能的话，我正在寻找最实用的方法。

1.  将数据作为 XML 提要传递 - 我觉得这将允许我遍历从服务器提供的所有数据，并使用 XML 标签拉取内容并放置到布局中的适当位置。然后构建下一个布局并从那里开始。

2.  从服务器传递完整的布局 XML - 这可以构建布局，但我觉得会阻止我在布局上制作按钮，这将在我传递所有数据时触发 onclick 设置。我知道有匿名听众可以完成这项工作，但我不太确定在这种情况下如何让它触发。

我有第三个，但此时它已经逃脱了我。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T06:01:49.663

试试这个，

```
 public void listButtons() {
                  LinearLayout layout = (LinearLayout)findViewById(R.id.button_list);
            String http_url = "http://example.com/demo";
             try {

                 URL url = new URL(http_url);
                 HttpURLConnection con = HttpURLConnection)url.openConnection();

                 if(con!=null){
                     BufferedReader br = new BufferedReader(new InputStreamReader(con.getInputStream()));
                     String data=br.readLine();
                       JSONArray jsonArray=null;
                        jsonArray = new JSONArray(data);
                        Button tv[] = new Button[jsonArray.length()];
                        for(int i=0;i<jsonArray.length();i++)
                        {
                            tv[i] = new Button(this);

                            tv[i].setText(jsonArray.getJSONObject(i).getString("name"));

                            tv[i].setGravity(Gravity.CENTER_HORIZONTAL);

                             tv[i].setOnClickListener(new View.OnClickListener() {

                                    @Override
                                    public void onClick(View v) {
                            //add your code here 
                                    }
                                });
                             layout.addView(tv[i]);

                        }
                }

              } catch (MalformedURLException e) {
                 e.printStackTrace();
              } catch (IOException e) {
                 e.printStackTrace();

              } catch (JSONException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }

        } 
```

我创建了一个布局 xml 文件，在其中添加了一个带有 id button_list 的线性布局

main.xml 文件-

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"

    tools:context=".ResearchActivity" >

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_marginTop="55dp"
        android:orientation="vertical"
        android:id="@+id/button_list"
         >

    </LinearLayout>

</LinearLayout> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T12:35:52.820

很抱歉花了这么长时间才回复，我一直忙于其他事情，无法编码。这真的很好，但前提是我正在构建按钮。由于我正在扩展布局，因此我需要通过选择一个预先存在的按钮来选择它。

按钮 thisbutton = (Button)findViewById(R.id.buttonid);

在此之后，我可以构建 onclicklistener，然后将新视图添加到布局中。不过感谢您的帮助！您的脚本指出了正确的方向，以确定需要做什么。！

# git - 在现有项目上实施 Git

> ID：15127375
> 
> 赞同：-1
> 
> 时间：2013-02-28T04:14:00.010
> 
> 标签：git

我有一个项目将创建大量文件和目录。幸运的是，它正处于开发的初始阶段。

我的意图是将这个项目转移到 Git，但我的经验仅限于从现有的 Git 设置中提取、提交和推送。

根据我的研究，这里有一些信息可能有助于确定设置它的最佳方式。

*   2 开发人员
*   1 个远程服务器（实时网络服务器）
*   1 个网站

我想要有两个分支，一个是我们主动推送的，假设它被称为“dev”，另一个是，一旦我验证了所有内容，就会被推送到生活，我会假设它被称为“master”，默认情况下。

网络文件位于

```
/home/user/public_html 
```

我想在一个单独的目录中创建存储库，这样它就不会用 Git 相关文件淹没 public_html 目录。

有没有人知道任何好的教程或对命令行新手如何让 Git 滚动有任何可靠的建议？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T04:29:04.887

> 有没有人知道任何好的教程或对命令行新手如何让 Git 滚动有任何可靠的建议？

有几个地方可以找到好的“入门”类型的东西。[Git 教程](http://www.kernel.org/pub/software/scm/git/docs/gittutorial.html)作为手册页包含在 Git 本身以及参考[指南和免费的在线书籍中，](http://git-scm.com/documentation)可从 git-scm.com 获得。我还写了[一系列博客文章](http://shotgunsandpenguins.blogspot.com/2009/07/journey-to-git-part-idistributed-vs.html)，一些人发现这些文章有助于他们完成 Git 的第一步。

# ios - 任何人都可以提供指向有效的 RestKit 0.20 教程的链接吗

> ID：15127378
> 
> 赞同：4
> 
> 时间：2013-02-28T04:14:12.940
> 
> 标签：ios, restkit

我正在尝试让 Ray Wenderlich 的 RestKit 教程 ( [http://www.raywenderlich.com/13097/intro-to-restkit-tutorial](http://www.raywenderlich.com/13097/intro-to-restkit-tutorial) ) 使用 RestKit 0.20，但我没有成功。有没有人能够成功迁移教程？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T06:15:22.693

[http://nsscreencast.com/](http://nsscreencast.com/)

你可以试试这些。您需要付费才能观看实际视频，但附带有很多示例代码。

祝你好运！

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-28T17:56:19.213

[RKGist](https://github.com/RestKit/RKGist/)是 RestKit 仓库下的官方教程项目。本教程涵盖了 0.20.0rc1 中的大部分最新 API，最后一次更新是 6 天前。请密切关注该存储库以获取更新。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-06T13:00:44.850

参考这个。

[https://github.com/RestKit/RestKit/wiki/Object-mapping](https://github.com/RestKit/RestKit/wiki/Object-mapping)

它为 restkit 0.20 的响应和请求提供了对象映射的基础。

# msbuild - 当进程以代码 1 退出时停止 TeamCity Build

> ID：15127381
> 
> 赞同：1
> 
> 时间：2013-02-28T04:14:36.017
> 
> 标签：msbuild, teamcity, mstest

我正在通过几个步骤创建 TeamCity 构建配置。其中一个步骤是使用 MSTest 运行测试。目前，我的测试失败（通过设计，所以我可以测试构建过程），但是运行测试步骤之后的构建步骤发生了，即使我可以看到测试过程以代码 1 退出（即，不是代码0) 在构建日志中。它确实将构建标记为失败，但如果在检测到失败的测试后构建中的步骤停止，我更喜欢它。这可能吗，我只是在配置中遗漏了一些东西吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T06:38:52.077

当您创建构建步骤时，会选择`Execute step`执行策略。你应该在哪里选择`Only if all previous steps were successful`. 就这个： ![在此处输入图像描述](../Images/9044ad406f92e012b7ca44e6d641d775.png)

但是在您的情况下， MsTest 和 NUnit 构建步骤中存在错误。[这是解决方法](http://devnet.jetbrains.com/thread/304572)。这是相关的问题[。](http://youtrack.jetbrains.com/issue/TW-17002)

# python - Python：如何给一堆音频文件提供 BPM 信息？

> ID：15127383
> 
> 赞同：1
> 
> 时间：2013-02-28T04:14:40.017
> 
> 标签：python, audio

我试图弄清楚将 BPM 信息添加到文件中的最佳 Python 工具是什么。yaafe 和 LibXtract 库似乎具有 Python 绑定，但似乎很少记录。我怎样才能在 Python 中做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T18:49:14.557

如果您愿意将数据上传到外部服务器，请尝试使用 EchoNest API——它具有良好的 Python 绑定和许多用于诸如此类的音乐信息检索任务的工具。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T18:37:54.027

我最近发现[了这个](https://github.com/alouis93/metaBPM.py)。用法可在自述文件中找到。

```
python metaBPM.py -s [path to your music collection] 
```

# ruby-on-rails - 脚本 Kiddie 尝试触发 Rails URI::InvalidURIError - 如何过滤？

> ID：15127386
> 
> 赞同：5
> 
> 时间：2013-02-28T04:14:47.977
> 
> 标签：ruby-on-rails, security

我刚刚在一个长期存在的域上启动了一个生产 Rails 应用程序（在 Heroku 上），当然，现在它面向广泛开放的网络，我正在收集所有尝试过的脚本小子的 flotsam 和 jetsam。

我有任何异常会通过电子邮件发送给我，并且我已经设法捕获（rescue_from）所有标准错误，但这每天都会出现几次：

```
An URI::InvalidURIError occurred in #:

bad URI(is not URI?): http://www.myapp.com/assets/,data:n,complete:function(e,t)
{r&&u.each(r,o||[e.responseText,t,e])}}).done(function(e){o=arguments,u
vendor/ruby-1.9.3/lib/ruby/1.9.1/uri/common.rb:176:in `split'

-------------------------------
Request:
-------------------------------

 * URL       : http://myapp.com/assets/,data:n,complete:function(e,t)
{r&&u.each(r,o||[e.responseText,t,e])}}).done(function(e){o=arguments,u.html(i?v(
 * IP address: 195.241.58.105
 * Parameters: {"v("=>nil, "path"=>"assets/,data:n,complete:function(e,t){r&&u.each(r,o||
[e.responseText,t,e])}}).done(function(e){o=arguments,u", "format"=>"html(i"}
 * Rails root: /app
 * Timestamp : 2013-02-26 16:53:51 UTC 
```

所以从我未经训练的角度来看，这看起来像是脚本小子试图尝试某种漏洞（或？）

我的问题：

1) 这是我不确定“rails 魔法”能走多远的一个领域——我需要做些什么吗？我真的不喜欢外部力量能够仅从请求中在我的应用程序中导致异常。我应该拯救 URI::InvalidURIError 异常并抛出 404 吗？还有什么我应该做的吗？这会发生在每个人身上吗？

2) 是否配置错误，或者这只是应用程序的标准“库存生产”行为？我正在运行 Rails 3.2.12（截至本文发布的最新修补版本）。

提前感谢您的任何建议！

编辑：添加一些关于请求的更多细节，正如克里斯蒂安在下面指出的那样，可能不是脚本小子？不管怎样，我很好奇。

第二个要求：

```
An URI::InvalidURIError occurred in #:

bad URI(is not URI?): http://www.myapp.com/assets/&&!yt.test(e)&&
(v.support.htmlSerialize||!wt.test(e))&&
(v.support.leadingWhitespace||!pt.test(e))&&!Nt[(vt
 vendor/ruby-1.9.3/lib/ruby/1.9.1/uri/common.rb:176:in `split'

-------------------------------
Request:
-------------------------------

 * URL       : http://myapp.com/assets/&&!yt.test(e)&&
(v.support.htmlSerialize||!wt.test(e))&&
(v.support.leadingWhitespace||!pt.test(e))&&!Nt[(vt.exec(e)||[
 * IP address: 217.16.182.42
 * Parameters: {"path"=>"assets/&&!yt.test(e)&&(v.support.htmlSerialize||!wt.test(e))&&
(v.support.leadingWhitespace||!pt.test(e))&&!Nt[(vt", "format"=>"exec(e)||["}
 * Rails root: /app
 * Timestamp : 2013-02-27 18:37:20 UTC 
```

第三个要求：

```
An URI::InvalidURIError occurred in #:

 bad URI(is not URI?): http://www.myapp.com/assets/&&!yt.test(e)&&
(v.support.htmlSerialize||!wt.test(e))&&
(v.support.leadingWhitespace||!pt.test(e))&&!Nt[(vt
 vendor/ruby-1.9.3/lib/ruby/1.9.1/uri/common.rb:176:in `split'

-------------------------------
Request:
-------------------------------

 * URL       : http://myapp.com/assets/&&!yt.test(e)&&
(v.support.htmlSerialize||!wt.test(e))&&
(v.support.leadingWhitespace||!pt.test(e))&&!Nt[(vt.exec(e)||[
 * IP address: 62.141.42.107
 * Parameters: {"path"=>"assets/&&!yt.test(e)&&(v.support.htmlSerialize||!wt.test(e))&&
(v.support.leadingWhitespace||!pt.test(e))&&!Nt[(vt", "format"=>"exec(e)||["}
 * Rails root: /app
 * Timestamp : 2013-02-27 20:56:25 UTC 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-28T14:22:17.303

我刚刚在我的 production.log 中找到了该代码

```
GET "/assets/&&!yt.test(e)&&(v.support.htmlSerialize||!wt.test(e))&&(v.support.leadingWhitespace||!pt.test(e))&&!Nt[(vt.exec(e)||[" 
```

Rails 3.2.13 处理了它`Completed 406 Not Acceptable`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T15:03:25.340

我在我的日志中发现了同样的情况，但在 2012 年 11 月：

`ActionController::RoutingError (No route matches [GET] "/assets/&&!yt.test(e)&&(v.support.htmlSerialize||!wt.test(e))&&(v.support.leadingWhitespace||!pt.test(e))&&!Nt[(vt.exec(e)||["):`

# facebook - 在 Facebook 中共享链接时，特色图片不显示

> ID：15127388
> 
> 赞同：1
> 
> 时间：2013-02-28T04:14:54.417
> 
> 标签：facebook, wordpress, thumbnails, facebook-opengraph, sharing

尊敬的 Stack Overflow 朋友您好！这几天我一直在尝试解决这个问题，但没有成功。我已经阅读了 Stack Overflow 上几乎所有可用的帖子，但我不知道如何解决这个问题。

当我在 Facebook 上分享链接时，缩略图对应于我在

元属性=“og：图像”

它有效，那里一切都很好......但是，

我希望每个帖子在共享时都可以将自己的特色图片显示为缩略图。我到底怎么能做到这一点？

我已经在 function.php 中尝试过这段代码

```
 function insert_image_src_rel_in_head() {
    global $post;
    if ( !is_singular()) //if it is not a post or a page
        return;
    if(!has_post_thumbnail( $post->ID )) { //the post does not have featured image, use a default image
        $default_image="http://example.com/image.jpg"; //replace this with a default image on your server or an image in your media library
        echo '<meta property="og:image" content="' . $default_image . '"/>';
    }
    else{
        $thumbnail_src = wp_get_attachment_image_src( get_post_thumbnail_id( $post->ID ), 'medium' );
        echo '<meta property="og:image" content="' . esc_attr( $thumbnail_src[0] ) . '"/>';
    }
    echo "
";
} add_action( 'wp_head', 'insert_image_src_rel_in_head', 5 ); 
```

而且什么也没有发生...

我也在 header.php 中尝试过这段代码

```
 <?php
global $wp_query;
$thePostID = $wp_query->post->ID;
if( has_post_thumbnail( $thePostID )){
    $thumb_id = get_post_thumbnail_id( $thePostID );
    $image = wp_get_attachment_image_src( $thumb_id );
    echo '<meta property="og:image" content="'.$image[0].'" />';
} ?> 
```

那里也没有成功。

像这样在functions.php中激活特色图像。

```
add_theme_support('post-thumbnails'); 
```

正如我所说，所有 og 标签都已设置。

怎么了？这不是缓存的事情，因为我正在使用 facebook 调试器来刷新它。

如果有人可以帮助我，我将永远感激不尽。

非常感谢。

本杰明。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T05:09:43.633

我想你应该试试

```
echo '<meta property=\"og:image\" content=\"'.$image[0].'\" />'; 
```

另外，请在更新后检查您的源代码，如果`<meta property`在呈现网站时显示正确

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T19:23:41.433

好的，我解决了这个问题......也许这会帮助其他用户遇到同样的问题......尽管在源代码中呈现正确的图像，但它在每个链接中使用相同的缩略图的原因是因为

`<meta property="og:url" content="`线。

我在那里输入了网站的 URL，当然，规范的 URL 支配了它们，调试器去那里获取特色图像。我用

```
<?php echo get_permalink(); ?> 
```

并且做到了。感谢您的帮助，我希望这个问题可以帮助其他人解决类似的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-24T11:30:23.870

**您可以像这样使用元属性。**

```
<meta property="fb:app_id" content="facebook app id" />
<meta property="og:url"  content="post url">
<meta property="og:title"  content="post title">
<meta property="og:description" content="post description">
<meta property="og:image" content="image url"/> 
```

# objective-c - 创建自定义 UITableViewCell

> ID：15127396
> 
> 赞同：5
> 
> 时间：2013-02-28T04:15:34.713
> 
> 标签：objective-c, uitableview, ios6, storyboard, custom-controls

我正在尝试创建一个自定义 UITableViewCell。

在 XCode 4.6 界面生成器中，我`Style`将单元格的属性设置为自定义。并使用拖放向单元格添加控件。2 个 UILables 和一个 UIButton。它看起来像这样。

![在此处输入图像描述](../Images/4be8f86ebdb249a7eec412a5540f03a2.png)

我创建了一个派生自 UITableViewCell 的单独类来分配 3 个 UI 元素的属性并在那里进行更改。我还从 Identity Inspector 将单元格的自定义类设置为 DashboardCell。

**DashboardCell.h**

```
#import <UIKit/UIKit.h>

@interface DashboardCell : UITableViewCell

@property (weak, nonatomic) IBOutlet UILabel *numberOfMails;
@property (weak, nonatomic) IBOutlet UILabel *mailType;
@property (weak, nonatomic) IBOutlet UIButton *numberOfOverdueMails;

@end 
```

**DashboardCell.m**

```
#import "DashboardCell.h"

@implementation DashboardCell

- (id)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier
{
    self = [super initWithStyle:style reuseIdentifier:reuseIdentifier];
    if (self) {
        [self.numberOfOverdueMails setBackgroundColor:[UIColor colorWithRed:244/255.0f green:119/255.0f blue:125/255.0f alpha:1.0f]];
        [self.numberOfOverdueMails setTitle:@"lol" forState:UIControlStateNormal];
    }
    return self;
}

- (void)setSelected:(BOOL)selected animated:(BOOL)animated
{
    [super setSelected:selected animated:animated];

    // Configure the view for the selected state
}

@end 
```

在 TableViewController 中，我修改了以下方法以返回我的自定义单元格。

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"Cell";
    DashboardCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier forIndexPath:indexPath];
    if (cell == nil) {
        cell = [[DashboardCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
    }

    return cell;
} 
```

我的问题是即使自定义按钮出现，我所做的更改（更改按钮的背景颜色，更改一个 UILabel 的标题）也没有出现。这里似乎有什么错误？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T04:30:15.217

该方法`initWithStyle:reuseIdentifier:`不会被调用，因为您正在使用界面生成器来创建单元格。

您可以通过覆盖方法来设置背景颜色和标题`awakeFromNib.`

您也可以在方法中设置这些`tableView:cellForRowAtIndexPath:`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T05:21:32.663

如果您从 xib 或情节提要中获取单元格，`dequeueReusableCellWithIdentifier:forIndexPath:`将始终返回一个单元格——如果存在，它将重用它，如果不存在，它将从 IB 中的模板创建一个。因此，您的`if(cell ==nil)`条款将永远不会得到满足，实际上不再需要。如果要使用`init`方法，请使用`initWithCoder:`

# c# - 绑定两个数据库的记录

> ID：15127397
> 
> 赞同：0
> 
> 时间：2013-02-28T04:15:38.757
> 
> 标签：c#, .net, sql, windows, postgresql

我有两台 Windows 机器；每台机器都有一个 .NET C# 应用程序，用于将数据插入 PostgreSQL 数据库表。两台机器都有完全相同的 4 个表，它们是：Binfiles、gendata、leave 和 training。

但是每台机器都有不同的插入记录。我想将插入的数据合并到一台机器上。最好的做法和最简单的方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:41:37.293

From one of your machines tables

```
 COPY binfiles TO '/tmp/binfiles.csv' DELIMITER ',' CSV HEADER;
 COPY gendata TO '/tmp/gendata.csv' DELIMITER ',' CSV HEADER;
 COPY leave TO '/tmp/leave.csv' DELIMITER ',' CSV HEADER;
 COPY training TO '/tmp/gendata.csv' DELIMITER ',' CSV HEADER; 
```

then on your other machine you `copy from`

```
 COPY binfiles FROM '/tmp/binfiles.csv' DELIMITERS ',' CSV; 
```

and so forth. or you could do it in SQL, but you would first need to have both sets of tables `insert into newBin select * from oldbin`

# twitter-bootstrap - Yii Bootstrap 不加载 JS 文件

> ID：15127400
> 
> 赞同：1
> 
> 时间：2013-02-28T04:15:42.507
> 
> 标签：twitter-bootstrap, yii, yii-extensions

我在我全新的 Yii 项目中使用[Yii-Bootstrap 。](http://www.cniska.net/yii-bootstrap/)我完全按照安装说明进行操作。

在首页我使用的是 JS Carousel 插件。

```
$this->widget('bootstrap.widgets.TbCarousel', array(
    'items'=>array(
        array(
            'image'=>'http://placehold.it/770x400&text=First+thumbnail',
            'label'=>'asdf',
            'caption'=>'Cras justo odio, '
        ),
        array(
            'image'=>'http://placehold.it/770x400&text=Second+thumbnail',
            'label'=>'asdf',
            'caption'=>'Cras justo odio, '
        ),
        array(
            'image'=>'http://placehold.it/770x400&text=Third+thumbnail',
            'label'=>'asdf',
            'caption'=>'Cras justo odio, '
        ),
    ),
)); 
```

`Uncaught TypeError: Object [object Object] has no method 'carousel'`

这会导致`.carousel()`未找到错误。就像没有注册JS文件一样。CSS 和一切看起来都很好。

我正在使用 yii-environment 扩展..

```
return array(

    // Set yiiPath (relative to Environment.php)
    'yiiPath' => dirname(__FILE__) . '/../../../yii-1.1.13/framework/yii.php',
    'yiicPath' => dirname(__FILE__) . '/../../../yii-1.1.13/framework/yiic.php',
    'yiitPath' => dirname(__FILE__) . '/../../../yii-1.1.13/framework/yiit.php',

    // Static function Yii::setPathOfAlias()
    'yiiSetPathOfAlias' => array(
        // uncomment the following to define a path alias
        'bootstrap' => realpath(dirname(__FILE__).'/../extensions/bootstrap')
    ),

    // This is the main Web application configuration. Any writable
    // CWebApplication properties can be configured here.
    'configWeb' => array(

        'basePath' => dirname(__FILE__).DIRECTORY_SEPARATOR.'..',
            'theme' => 'bootstrap',

        // Preloading 'log' component
        'preload' => array('log'),

        // Autoloading model and component classes
        'import' => array(
            'application.models.*',
            'application.components.*',
        ),

        // Application components
        'components' => array(
            'bootstrap'=>array(
                'class'=>'bootstrap.components.Bootstrap',
            ), 
```

有什么建议么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T06:21:11.283

您必须专门注册 css 和 js：

```
Yii::app()->bootstrap->register(); 
```

这与在旧版本的扩展中完成的方式不同。我不知道为什么在任何地方的文档中都没有提到这一点。

将上述代码行放在布局中的好地方，如果您的整个站点/应用程序使用 yii-bootstrap，或者如果您只在特定视图中执行，您可以将其放在这些视图中。

PS - 您可以在*bootstrap/components/Bootstrap.php*文件中找到该函数。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2016-02-10T12:45:44.657

```
<?php Yii::app()->bootstrap->registerAllCss(); ?>

<?php Yii::app()->bootstrap->registerCoreScripts(); ?>
<?php Yii::app()->clientScript->registerCssFile(Yii::app()->request->baseUrl.'/css/styles.css'); ?> 
```

# git - 使用 Maven SCM 签出 Git 存储库并切换到特定分支

> ID：15127403
> 
> 赞同：5
> 
> 时间：2013-02-28T04:15:55.407
> 
> 标签：git, maven, version-control

我想使用 Maven 来签出 Git 存储库。在我们的特定用例中，这是有道理的，因为这个 Git 存储库包含我们需要包含在构建过​​程中的文件。

由于项目的性质，Git 存储库可能具有不同的分支。这么简单：scm:git:git@github.example.com:myproject/project.git

将不起作用，因为这将结帐大师。我想例如分支“3.0V3”

有没有办法可以指定 Maven 将签出哪个分支？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-28T06:45:19.677

您可以使用[maven scm 插件](http://maven.apache.org/scm/maven-scm-plugin/checkout-mojo.html)`<scmVersion>`的和`<scmVersionType>`属性来实现这一点。

```
 <scm>
    <developerConnection>scm:git:url</developerConnection>
  </scm>
 ...

 <build>
    <plugins>
        ...
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-scm-plugin</artifactId>
          <version>1.8.1</version>
          <configuration>
              <connectionType>developerConnection</connectionType>
              <scmVersion>branch-name</scmVersion>
              <scmVersionType>branch</scmVersionType>
          </configuration>
        </plugin>
    </plugins>
    ...
  </build>
  ...
</project> 
```

# vb.net - 无法从 MS Access 中删除“TEXT”类型的记录

> ID：15127405
> 
> 赞同：1
> 
> 时间：2013-02-28T04:16:10.747
> 
> 标签：vb.net, ms-access, delete-row

我正在尝试根据DataType的主键`tid`删除记录。但问题是，它没有被删除。删除 DataType 的字段没有问题。有什么原因吗？该字段是我的主键。`MS Access``TEXT``int``tid`

我把它弄错了类型`TEXT`，现在想把它转换成`int`（以编程方式）？无需更改 MS Access DB 并再次绑定？

如果需要，请索取代码。任何形式的帮助将不胜感激。

**根据@Scotch 的要求进行编辑：** 这是给我带来问题的代码片段。

```
Private Sub Button5_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button5.Click
        Dim delcmd As New OleDbCommand("delete from teacher where tid=" & TextBox1.Text & " ", conaccess)
        delcmd.ExecuteNonQuery()
        MsgBox("Record is deleted")
        loadGrid()
        TextBox1.Clear()
        TextBox2.Clear()

        loadGrid()
    End Sub 
```

就像，其他插入操作运行得很好：

例子：

```
 Dim access As String = String.Format("INSERT INTO teacher (tid,tname,dept,type) VALUES('{0}','{1}','{2}','{3}')", TextBox1.Text, TextBox2.Text, ComboBox2.Text, ComboBox1.Text)
    concmd.Connection = conaccess
    concmd.CommandText = access
    concmd.ExecuteNonQuery()
    MsgBox("Record Successfully Saved")
    loadGrid()
    TextBox1.Clear()
    TextBox2.Clear() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T04:56:11.623

由于您的 tid 字段是`text`，因此您需要在删除语句中使用引号。

```
 Dim delcmd As New OleDbCommand("delete from teacher where tid='" & TextBox1.Text & "'", conaccess) 
```

如果要将字段类型更改为数字，则可以这样做。它会警告你，但如果你在每条记录的 tid 字段中只有数字字符，它会正常工作。

# ruby-on-rails-3 - ROR + 一个服务器已经在运行。检查 .../tmp/pids/server.pid。退出

> ID：15127412
> 
> 赞同：40
> 
> 时间：2013-02-28T04:16:51.373
> 
> 标签：ruby-on-rails-3

在我的 Rails 项目中，我试图在不同的端口上运行两个不同的服务器。但它通过在控制台给出此错误而失败。

```
C:\Rails>rails s
=> Booting Mongrel
=> Rails 3.1.1 application starting in development on http://0.0.0.0:3000
=> Call with -d to detach
=> Ctrl-C to shutdown server
A server is already running. Check C:/Rails/tmp/pids/server.pid.Exiting 
```

请检查更新的答案。

* * *

## 回答 #1

> 赞同：52
> 
> 时间：2013-02-28T04:18:41.810

在谷歌搜索了很多之后，我只是删除了该文件并重新启动服务器。然后再次系统创建该文件，然后我再次删除该文件。现在服务器运行良好。System 在同一个地方生成另一个副本。但它运行良好。

```
DELETE THAT FILE .... 
```

如果您想运行两台服务器，那么它可能会再次造成麻烦。所以

这两个命令都在检查默认的 PID 文件位置 (tmp/pids/server.pid)，因此您会看到此错误。尝试像这样运行多个服务器：

```
Server 1: bundle exec rails s

Server 2: bundle exec rails s -p 3001 -P tmp/pids/server2.pid 
```

信用：[https ://stackoverflow.com/a/14446920/1376448](https://stackoverflow.com/a/14446920/1376448)

谢谢

**Connor Leech 对 Forman Gem 发表评论后**更新****

 **> Foreman 可以帮助管理 Rails 应用程序在开发中运行时所依赖的多个进程。它还提供了一个导出命令来将它们转移到生产环境中。

* * *

## 回答 #2

> 赞同：38
> 
> 时间：2013-02-28T04:28:10.687

您可以使用 netstat 知道哪个进程正在持有 rails webserver，然后您可以杀死 pid 并重新启动它，假设由于某种奇怪的原因服务器没有响应或在后台运行并且您没有找到其他方法重启吧。。

```
netstat -plntu | grep 3000
tcp        0      0 0.0.0.0:3000            0.0.0.0:*               LISTEN      7656/ruby 
```

最后一列显示PID和进程名，那么你只需要：

```
kill -9 7656 
```

并`rails s`让它再次工作......

希望有用

* * *

## 回答 #3

> 赞同：16
> 
> 时间：2014-08-22T03:15:29.803

我发现自己经常回到这个网页来查找`lsof -wni tcp:3000`命令，所以我发现这种方法更容易。

如果您收到此消息：

```
A server is already running. Check /Users/username/project/tmp/pids/server.pid.
Exiting 
```

如果您在 unix 系统（mac 或 linux）上运行，您可以运行以下命令：

```
$ cat /Users/username/project/tmp/pids/server.pid

# output

71030

# Kill the process

$ kill -9 71030 
```

然后再次运行您的服务器！

* * *

## 回答 #4

> 赞同：15
> 
> 时间：2014-06-16T16:55:43.347

我删除了 cd'ing 到 tmp 目录中的文件，然后删除了文件

```
rm server.pid 
```

然后我重新启动了服务器，我得到了这个错误

```
Exiting/Users/josephmellin/.rvm/rubies/ruby-2.1.1/lib/ruby/2.1.0/socket.rb:206:in `bind': Address already in use - bind(2) for 0.0.0.0:3000 (Errno::EADDRINUSE) 
```

然后我可以使用以下命令来查看正在运行的进程。

```
sudo lsof -iTCP -sTCP:LISTEN -P | grep :3000 
```

在我输入密码后，我得到了这个响应

```
ruby      2786 josephmellin   12u  IPv4 0xfeadd8ae849eaec9      0t0  TCP *:3000 (LISTEN) 
```

然后用以下命令杀死进程

```
KILL -9 2786 
```

然后重新启动服务器（您将拥有与 2786 不同的数字 - 我将其留在这里用于演示目的）

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2014-03-03T07:43:26.093

第 1 步：删除 .pid

```
C:/Rails/tmp/pids/server.pid.Exiting

# IN linux/unix shell
$ rm -rf <path to file> 
```

有时这并不能解决问题，那么您必须终止 localhost 运行的进程，对于这种情况，请遵循`STEP 2`

第 2 步：列出 localhost 的进程并终止它

```
# For Linux/Unix shell

$ lsof -wni tcp:3000

# output
COMMAND  PID  USER   FD   TYPE DEVICE SIZE/OFF NODE NAME
ruby    5946 rails   11u  IPv4  79073      0t0  TCP *:3000 (LISTEN)
ruby    5946 rails   12u  IPv4 103786      0t0  TCP 127.0.0.1:3000->127.0.0.1:53612 (ESTABLISHED)

# Kill the running process
$ kill -9 5946 
```

再次运行你的服务器

```
rails server 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2015-06-25T12:41:45.467

```
ps aux | grep rails
           or 
bundle exec rails s -p 3001 -P tmp/pids/server2.pid 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2013-12-17T19:29:01.120

RoR 服务器的每个实例都会创建一个 PID 文件。默认情况下是

```
#{Rails.root}/tmp/pids/server.pid 
```

如果该文件已经存在，它将拒绝启动新服务器。

要在同一台机器上运行同一项目的多个服务器，您应该使用以下`-P`选项手动指定服务器的每个实例的 PID 文件名（我建议简单地附加一个连字符和端口号）：

```
rails s -p 1234 -P tmp/pids/server-1234.pid 
```

有人告诉我，在某些情况下您可能需要提供完整（而不是相对）路径，但我不知道这些情况是什么。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2013-10-15T07:25:10.563

您可以看到每个进程的 PID（第一列）：

```
ps vax | grep rails
// OR:  ps auxw | grep rails

5236 pts/1    Sl+    1:46   2   0.2 /usr/bin/ruby1.9.1 script/rails s -p 3001
5298 pts/2    Sl+    0:12   2   0.7 /usr/bin/ruby1.9.1 script/rails s -p 3003
7356 pts/5    Sl+    0:09   2   0.9 /usr/bin/ruby1.9.1 script/rails s -p 3002
7846 pts/3    Sl+    0:19   2   1.7 /usr/bin/ruby1.9.1 script/rails s 
```

然后杀死服务器：

```
kill -9 <pid> 
```

要杀死名称中带有“rails”的所有正在运行的应用程序：

```
killall -9 rails 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2014-01-14T12:31:23.777

使用 rails 默认命令，例如：

```
rake tmp:clear 
```

对我有用，而且非常简单。;)

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2015-06-25T12:52:44.330

单行命令，它将处理它。

```
kill -9 $(more C:/Rails/tmp/pids/server.pid) 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2013-09-10T21:25:54.193

我刚遇到这个问题，只是删除了 server.pid 文件，服务器工作正常！

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2013-10-15T05:14:11.983

删除该文件：C:/Rails/tmp/pids/server.pid

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2015-02-16T05:02:06.503

一种更简单的方法，我发现较少的命令。转到显示服务器正在您的文件夹结构中运行的路径。搜索文件。在文件本身上显示一个数字，它是当前正在运行的进程 ID。假设数字是“x”，那么只需在终端中输入此命令

```
kill -9 x 
```

但是，请注意这适用于 Ubuntu。不确定，如果它也适用于其他操作系统。

* * *

## 回答 #14

> 赞同：-1
> 
> 时间：2013-05-16T18:25:15.653

尝试将pid文件中的数字更改为另一个并保存。**

# python - 当 Timer 在后台运行时如何优雅地退出 Bottle？

> ID：15127415
> 
> 赞同：0
> 
> 时间：2013-02-28T04:17:01.593
> 
> 标签：python, multithreading, keyboard-events, bottle

当我启动我的瓶子应用程序时，一个对象会创建一个永远运行的计时器：

```
from threading import Timer

class Watcher(object):
    def __init__(self, timer=Timer):
        self.timer = timer
        self.watcher_interval = 2 * 60 * 60
        self.check_condition()

    def check_condition(self):
        do_stuff()
        self.timer(self.watcher_interval, self.check_condition).start() 
```

这工作正常。

但是，我现在无法通过`Ctrl`+退出应用程序，`C`因为计时器仍在后台运行。

发送键盘中断时如何告诉定时器退出？到目前为止，我要么通过它的 PID 杀死它，要么通过`killall python`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T07:08:50.010

计时器继承自 Thread，因此在创建计时器时，通过将其实例变量设置为（在启动它之前）来指定它是一个[守护线程；](http://docs.python.org/2/library/threading.html#threading.Thread.daemon)这样做会导致它在 Python 确定没有非守护线程正在运行时终止。`daemon``True`

# c - 使用 VC++ Express 在 C 中创建文本文件

> ID：15127417
> 
> 赞同：1
> 
> 时间：2013-02-28T04:17:12.390
> 
> 标签：c, visual-studio, file-io

好吧，这是一个奇怪的问题，但我不知道为什么这不起作用......

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#define MAX_NAME 15
#define MAX_SUBSEC 3
#define N 128

struct student{

int term;
int id;
char lastname[MAX_NAME];
char firstname[MAX_NAME];
char subjectnam[MAX_SUBSEC];
int subject;
int catalog;
char section[MAX_SUBSEC];

}students[10];

int main(){

int i;
char poop[10];
char fname[128];

printf("Enter the name of the text file: ");
scanf("%123s",fname);

strcat(fname,".txt");

FILE *inputf;
inputf = fopen(fname,"w");

if (inputf == NULL){

     printf("I couldn't open results.dat for writing.\n");
     exit(0);

  }

printf("Enter first name: "); scanf("%s", poop);

fprintf(inputf, "%s\n", poop);

for (i=0; i<=10; ++i)
     fprintf(inputf, "%d, %d\n", i, i*i);

fclose(inputf);

return 0;

} 
```

现在这段代码的结尾只是我练习创建文件并写入它以及所有这些好东西。当我对此进行编码并使用 NetBeans 在我的 Mac 上运行它时，它运行良好，顺便说一句，我是在 C 中完成这一切，而不是 C++。现在我想在我的桌面上执行它，而 Visual 不会有它，除了打开 cmd 窗口之外什么都不做，在第一行输入文件名，我这样做并按 Enter 键，程序关闭并终止。我已经添加了源文件项并使用正确的 *.c 扩展名对其进行了命名，并且我之前在此 IDE 中编写了 *.c 代码，但直到现在才需要创建文件，我可以保证这是问题所在。任何人都知道为什么这一切会发生？

编辑：我已经分解了一些代码来尝试查明问题，似乎这些行是原因......

```
FILE *inputf;
inputf = fopen(fname,"w"); 
```

当我尝试构建和运行时，我收到一些典型的 VC 错误消息，这在我的输出中是关于这些“轻率”的

“错误 C2275：'FILE'：非法使用此类型作为表达式”“错误 C2065：'inputf'：未声明的标识符”“警告 C4047：'='：'int' 与 'FILE *' 的间接级别不同”

那么，为什么这些行在我的 Mac 上的 NetBeans 上完全可以正常工作，但在 Windows 上却不行呢？我想像某种可移植性问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T04:25:14.640

这是因为 CL.exe(Microsoft Compiler) 不允许在代码中声明变量。它要求您在函数或块的开头定义变量。

可悲的是，即使它是 C99 标准，甚至 MSVC++ 2010 的 CL.exe 也不支持它！

将您的代码更改为：

```
int main(){
    int i;
    char poop[10];
    char fname[128];
    FILE *inputf;    
    printf("Enter the name of the text file: ");
    scanf("%123s",fname);
    strcat(fname,".txt");
    inputf = fopen(fname,"w");
    if (inputf == NULL){

         printf("I couldn't open results.dat for writing.\n");
         exit(0);

      }

    printf("Enter first name: "); scanf("%s", poop);

    fprintf(inputf, "%s\n", poop);

    for (i=0; i<=10; ++i)
         fprintf(inputf, "%d, %d\n", i, i*i);

    fclose(inputf);

    return 0;

} 
```

# php - PHP上传图片->无效文件

> ID：15127418
> 
> 赞同：0
> 
> 时间：2013-02-28T04:17:16.507
> 
> 标签：php, file, upload

我在archlinux上使用lampp（最新版本）我从w3c-school学习php，我在页面上传文件，在这里我的脚本无法上传任何东西唯一返回给我的是无效文件（.jpg .png ecc ..) 这里是代码：

```
 <?php

include "config_db.php";

$name = "/upload/" . $_FILES['file']['name'];
$allowedExts = array("jpg", "jpeg", "gif", "png");
$extension = in_array(explode(".", $_FILES["file"]["name"]), $allowedExts);
if ((($_FILES["file"]["type"] == "image/gif")
|| ($_FILES["file"]["type"] == "image/jpeg")
|| ($_FILES["file"]["type"] == "image/png")
|| ($_FILES["file"]["type"] == "image/pjpeg"))
&& ($_FILES["file"]["size"] < 100000)
&& in_array($extension, $allowedExts))
  {
  if ($_FILES["file"]["error"] > 0)
    {
    echo "Return Code: " . $_FILES["file"]["error"] . "<br>";
    }
  else
    {
    echo "Upload: " . $_FILES["file"]["name"] . "<br>";
    echo "Type: " . $_FILES["file"]["type"] . "<br>";
    echo "Size: " . ($_FILES["file"]["size"] / 1024) . " kB<br>";
    echo "Temp file: " . $_FILES["file"]["tmp_name"] . "<br>";

    if (file_exists("upload/" . $_FILES["file"]["name"]))
      {
      echo $_FILES["file"]["name"] . " already exists. ";
      }
    else
      {
      move_uploaded_file($_FILES["file"]["tmp_name"],
      "upload/" . $_FILES["file"]["name"]);
      echo "Stored in: " . "upload/" . $_FILES["file"]["name"];
      echo '<img src="upload/' . $_FILES["file"]["name"] . '">';
      }
    }
  }
else
  {
  echo "Invalid file";
  }
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:24:39.280

如果图像名称包含 .(dot) 则有问题。例如，如果图像名称为 12.212.jpg，当您使用 .（点）分解图像名称时，您的扩展名将是 .212。所以在这种情况下，你需要使用下面的代码。

```
$name = "/upload/" . $_FILES['file']['name'];
$allowedExts = array("jpg", "jpeg", "gif", "png");
$extension = explode(".", $_FILES["file"]["name"]);
$extension = end($extension); 
```

它将为您提供确切的图像格式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-12T20:48:20.303

我遇到了一个问题，如果扩展名是大写（即 image.JPG），它给了我无效的文件。我使用了这段代码：

```
$t_image = strtolower($_FILES['file']['name']); 
```

解决问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T04:20:46.300

改变这个条件

```
&& in_array($extension, $allowedExts)) 
```

只有这个条件

```
&& $extension) 
```

因为您使用`in_array`了 2 次，所以不需要第 2 次。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T04:23:43.517

我认为问题出在`in_array()`功能上。您已经检查了此行中的扩展名，

```
$extension = in_array(explode(".", $_FILES["file"]["name"]), $allowedExts); 
```

现在`$extension`value 是**TRUE**。

所以你不能`$extension`在 if 条件下检查这个。取而代之的是，

只需检查是否`$extension`为**TRUE**，

```
if ((($_FILES["file"]["type"] == "image/gif")
|| ($_FILES["file"]["type"] == "image/jpeg")
|| ($_FILES["file"]["type"] == "image/png")
|| ($_FILES["file"]["type"] == "image/pjpeg"))
&& ($_FILES["file"]["size"] < 100000)
&& $extension) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-28T04:30:46.807

您正在以不正确的方式检查扩展程序。应该是这样的：

```
$allowedExts = array("jpg", "jpeg", "gif", "png");
$extension = pathinfo($_FILES['file']['name'], PATHINFO_EXTENSION);
header ("Content-Type: text/plain");
if ((($_FILES["file"]["type"] == "image/gif")
  || ($_FILES["file"]["type"] == "image/jpeg")
  || ($_FILES["file"]["type"] == "image/png")
  || ($_FILES["file"]["type"] == "image/pjpeg"))
  && ($_FILES["file"]["size"] < 100000)
  && in_array ($extension, $allowedExts)) echo "Success";
else echo "Error"; 
```

此代码与以下表格一起对我来说很好：

```
<form method="POST" enctype="multipart/form-data" action="upload.php">
  <input type="file" name="file" />
  <input type="submit" />
</form> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-28T04:20:02.587

您的错误在下面一行。

```
$extension = in_array(explode(".", $_FILES["file"]["name"]), $allowedExts); 
```

必须如下。

```
$extension = pathinfo($_FILES['file']['name'], PATHINFO_EXTENSION); 
```

并且如果条件如下改变。

```
if (in_array($extension, $allowedExts)) 
```

# c# - 模拟用户时如何将 SecureZeroMemory 与 LogonUser 一起使用？

> ID：15127419
> 
> 赞同：0
> 
> 时间：2013-02-28T04:17:27.893
> 
> 标签：c#, security, pinvoke, impersonation, securezeromemory

何时需要或建议添加[SecureZeroMemory](http://msdn.microsoft.com/en-us/library/windows/desktop/aa366877%28v=vs.85%29.aspx)功能？

[这个 WindowsImpersonationContext 的 MSFT 示例](http://msdn.microsoft.com/en-us/library/system.security.principal.windowsimpersonationcontext.aspx)或这些 Stackoverflow 问题[链接](https://stackoverflow.com/a/125356/328397) [link2](https://stackoverflow.com/q/2541504/328397)都没有提到 SecureZeroMemory 函数。

我应该实现这个功能（或者也许要求接受答案的所有者包括这个功能？）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T06:31:00.650

`SecureZeroMemory`顾名思义，这是一种将内存块设置为所有`0x00`值的方法，尽管它具有以下特性：

*   它永远不会被编译器优化
*   ...
*   实际上，这是我能想到的唯一区别。

正如@user629926 所提到的，`SecureString`该类虽然使用起来很尴尬，但它是一种将数据保存在内存中的“安全”方式，`string`而无需担心如果您的应用程序崩溃，有人可以筛选内存转储并找到您的原始敏感数据在里面。

# git - 尝试将本地存储库推送到 github 存储库时出现问题

> ID：15127420
> 
> 赞同：0
> 
> 时间：2013-02-28T04:17:30.500
> 
> 标签：git, github, git-push, git-remote

我是 git 的新手，在尝试将本地存储库推送到 github 时遇到了重大问题。我使用我的 github repo SSH 地址设置了一个名为 origin 的远程 repo。然后，当我尝试推动时，我不断遇到以下问题：

```
Macintosh:thinkful projects adityagorti6$ git remote -v
origin  git@github.com:speedrage56/Thinkful-Repo.git (fetch)
origin  git@github.com:speedrage56/Thinkful-Repo.git (push)
Macintosh:thinkful projects adityagorti6$ git push -u origin master
The authenticity of host 'github.com (207.97.227.239)' can't be established.
RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added 'github.com,207.97.227.239' (RSA) to the list of known hosts.
Permission denied (publickey).
fatal: The remote end hung up unexpectedly 
```

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:21:04.303

您上传到 GitHub 的公钥不适用于您计算机上的私钥。您应该按照[说明](https://help.github.com/articles/generating-ssh-keys)上传您的公钥。

或者，您可以使用[HTTP 协议](https://github.com/blog/642-smart-http-support)，但它不适合此任务。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T04:22:34.960

您是否按照指南在 github 上设置了一个新的 git 存储库？我的意思是您必须在 github 上添加您的公钥，以便稍后使用它登录，这里是显示该过程的链接：

[Github 指南](https://help.github.com/articles/generating-ssh-keys)

希望你让它工作:)

# macos - 使用 Macports gcc47 编译 C++ 链接错误

> ID：15127432
> 
> 赞同：0
> 
> 时间：2013-02-28T04:19:10.217
> 
> 标签：macos, eclipse-cdt, macports

我正在通过 Eclipse CDT 中的 macports 在 Mac 10.7.5 上使用 gcc47 编写一个小应用程序，以学习 C++11 中的新功能。我有大量的代码编译、链接和运行。当我添加对“异步”的调用时，我得到一个链接器错误。将重现链接错误的最简单的程序如下。提前感谢您的帮助。

```
#include <iostream>
#include <future>

using namespace std;

void bar()
{
cout << "!!!Hello World!!!" << endl;
}

int main() {
future<void> f1(async(bar));

return 0;
} 
```

输出是：

```
21:56:46 **** Incremental Build of configuration Debug for project Hello ****
make all
Building file: ../src/Hello.cpp
Invoking: GCC C++ Compiler g++ -D__GXX_EXPERIMENTAL_CXX0X__ -I/opt/local/include/gcc47/c++ -O0 -g3 -Wall -c -fmessage-length=0 -std=c++11 -MMD -MP -MF"src/Hello.d" -MT"src/Hello.d" -o "src/Hello.o" "../src/Hello.cpp"
Finished building: ../src/Hello.cpp
Building target: Hello
Invoking: MacOS X C++ Linker g++  -o "Hello" 
./src/Hello.o    Undefined symbols for architecture x86_64:  
"___emutls_v._ZSt11__once_call", referenced from:
      void std::call_once<void (std::__future_base::_State_base::*)(std::function<std::unique_ptr<std::__future_base::_Result_base,
std::__future_base::_Result_base::_Deleter> ()>&, bool&),
std::__future_base::_State_base* const,
std::reference_wrapper<std::function<std::unique_ptr<std::__future_base::_Result_base,
std::__future_base::_Result_base::_Deleter> ()> >,
std::reference_wrapper<bool> >(std::once_flag&, void
(std::__future_base::_State_base::*&&)(std::function<std::unique_ptr<std::__future_base::_Result_base,
std::__future_base::_Result_base::_Deleter> ()>&, bool&),
std::__future_base::_State_base* const&&,
std::reference_wrapper<std::function<std::unique_ptr<std::__future_base::_Result_base,
std::__future_base::_Result_base::_Deleter> ()> >&&,
std::reference_wrapper<bool>&&) in Hello.o
      void std::call_once<void (std::thread::*)(), std::reference_wrapper<std::thread> >(std::once_flag&, void
(std::thread::*&&)(), std::reference_wrapper<std::thread>&&) in
Hello.o   "___emutls_v._ZSt15__once_callable", referenced from:
      void std::call_once<void (std::__future_base::_State_base::*)(std::function<std::unique_ptr<std::__future_base::_Result_base,
std::__future_base::_Result_base::_Deleter> ()>&, bool&),
std::__future_base::_State_base* const,
std::reference_wrapper<std::function<std::unique_ptr<std::__future_base::_Result_base,
std::__future_base::_Result_base::_Deleter> ()> >,
std::reference_wrapper<bool> >(std::once_flag&, void
(std::__future_base::_State_base::*&&)(std::function<std::unique_ptr<std::__future_base::_Result_base,
std::__future_base::_Result_base::_Deleter> ()>&, bool&),
std::__future_base::_State_base* const&&,
std::reference_wrapper<std::function<std::unique_ptr<std::__future_base::_Result_base,
std::__future_base::_Result_base::_Deleter> ()> >&&,
std::reference_wrapper<bool>&&) in Hello.o
      void std::call_once<void (std::thread::*)(), std::reference_wrapper<std::thread> >(std::once_flag&, void
(std::thread::*&&)(), std::reference_wrapper<std::thread>&&) in
Hello.o
      void std::__once_call_impl<std::_Bind_simple<std::_Mem_fn<void (std::__future_base::_State_base::*)(std::function<std::unique_ptr<std::__future_base::_Result_base,
std::__future_base::_Result_base::_Deleter> ()>&, bool&)>
(std::__future_base::_State_base*,
std::reference_wrapper<std::function<std::unique_ptr<std::__future_base::_Result_base,
std::__future_base::_Result_base::_Deleter> ()> >,
std::reference_wrapper<bool>)> >() in Hello.o
      void std::__once_call_impl<std::_Bind_simple<std::_Mem_fn<void (std::thread::*)()> (std::reference_wrapper<std::thread>)> >() in
Hello.o ld: symbol(s) not found for architecture x86_64 collect2:
error: ld returned 1 exit status make: *** [Hello] Error 1 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T10:04:07.917

[http://gcc.gnu.org/bugzilla/show_bug.cgi?id=54806](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=54806)和[https://trac.macports.org/ticket/36093](https://trac.macports.org/ticket/36093)上的信息表明此错误是由于 MacPorts 版本中的错误海湾合作委员会。根据[https://trac.macports.org/ticket/36093#comment:35](https://trac.macports.org/ticket/36093#comment:35)，这已从 MacPorts 的 r98493 开始修复。如果您更新到该版本的端口存储库，然后重新安装 GCC，我希望您的问题会消失。

# java - JMS 队列轮询示例

> ID：15127436
> 
> 赞同：2
> 
> 时间：2013-02-28T04:19:50.920
> 
> 标签：java, jms, activemq, apache-camel

我正在尝试学习 activemq + camel 以便将其应用于现实世界。我需要使用一个队列，处理消息并将其移动到另一个队列。

我关心的是性能。我每天需要处理至少 100.000 条消息。现在我不想处理垂直或水平扩展（我们不能花更多的钱，直到人们确信这项技术是好的）。

所以，我考虑启动几个线程，轮询队列、消费、处理消息并将消息移动到其他队列。线程的数量将取决于硬件如何响应不断增加的负载水平。

我的第一个问题是：这是一个好方法（启动并行线程来消耗队列）吗？

我的第二个问题是：我从阅读 Camel In Action 开始学习。我不知道我是否遗漏了什么，但我对如何建立消费者有点困惑。通过改编 FtpToJMSExample 书籍示例，我得到了下面的代码。在现实世界中，我不会为每个线程创建连接。我将使用应用服务器 (glassfish) 提供的连接池。

```
public class JMSToJMSExample {
    public static void main(String args[]) throws Exception {
        CamelContext context = new DefaultCamelContext();
        ConnectionFactory connectionFactory = new ActiveMQConnectionFactory("vm://localhost");
        context.addComponent("jms", JmsComponent.jmsComponentAutoAcknowledge(connectionFactory));
        context.addRoutes(new RouteBuilder() {
            public void configure() {
                from("jms:in")
                  .process(new CustomProcessor())
                  .to("jms:out");
} });
        context.start();
        Thread.sleep(10000);
        context.stop();
    }
} 
```

它工作正常。但是，本书将其称为“轮询”解决方案。我期待类似while循环的东西，所以当队列有消息时，它一直在消耗。好的，该示例正在轮询队列，但我对上述示例的观点是，如果我减少睡眠时间，它将退出而不处理它可以处理的所有消息。

但无论如何，我认为最好建立一个长时间运行的线程，而不是每次线程唤醒时都要求连接池给我一个连接。

请，因为我正在学习，你能否举一些例子来说明如何创建一个线程来轮询 jms 队列直到它变空，而不是按时间/周期轮询？

TIA,

鲍勃

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T05:01:02.340

1) 使用 seda [http://camel.apache.org/seda.html](http://camel.apache.org/seda.html)进行并发处理

```
 from("jms:in")
             .to("seda:seda1");

             from("seda:sead1?concurrentConsumers=10")
             .process(new CustomProcessor())
             .to("jms:out"); 
```

2）阅读[http://camel.apache.org/running-camel-standalone-and-have-it-keep-running.html](http://camel.apache.org/running-camel-standalone-and-have-it-keep-running.html)关于如何保持骆驼运行

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T06:17:14.370

几件事....

*   对于您的问题，“这是一个好方法（启动并行线程来消耗队列）吗？” 绝对，这是一种非常常见的设计模式
*   只要您的 CamelContext 正在运行（您不需要循环或计时器），路线就会继续消耗，请参阅[http://camel.apache.org/running-camel-standalone-and-have-it-keep -running.html](http://camel.apache.org/running-camel-standalone-and-have-it-keep-running.html)
*   你的路由应该是这样的，注意 maxConcurrentConsumers 属性表示多个消费者线程希望从 IN 队列中提取消息，处理它们并将它们推送到 OUT 队列，

    ```
    from("jms:in?maxConcurrentConsumers=10")
    .process(new CustomProcessor())
    .to("jms:out); 
    ```

有关详细信息，请参阅[http://camel.apache.org/activemq.html](http://camel.apache.org/activemq.html)

# python - 对于 python 字符串连接，%s 比 + 快吗

> ID：15127437
> 
> 赞同：4
> 
> 时间：2013-02-28T04:19:52.637
> 
> 标签：python, performance

了解使用 str.join 运算符是在 python 中连接字符串的“选择”方式，我在该类型的啄序操作中徘徊：

```
 "%s %s" % (first_name, last_name) 
```

会适合。它们比使用更快还是更慢`+`？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-28T04:21:44.290

让我们来看看：

```
>>> first_name = 'Test'
>>> last_name = 'Name'

>>> %timeit "%s %s" % (first_name, last_name)
10000000 loops, best of 3: 168 ns per loop

>>> %timeit ' '.join((first_name, last_name))
10000000 loops, best of 3: 157 ns per loop

>>> %timeit first_name + ' ' + last_name
10000000 loops, best of 3: 103 ns per loop 
```

如果你缓存元组：

```
>>> name_tuple = (first_name, last_name)

>>> %timeit "%s %s" % name_tuple
10000000 loops, best of 3: 125 ns per loop

>>> %timeit ' '.join(name_tuple)
10000000 loops, best of 3: 114 ns per loop 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-28T04:23:36.233

回答：没有。

![在此处输入图像描述](../Images/c6f971a92dd87755039ad0662bd5be82.png)

```
In [1]: tup = 'hello', 'world'

In [2]: timeit 'hello' + 'world'
10000000 loops, best of 3: 20.2 ns per loop

In [3]: timeit tup[0] + tup[1]
10000000 loops, best of 3: 129 ns per loop

In [4]: timeit '{}{}'.format('hello', 'world')
1000000 loops, best of 3: 285 ns per loop

In [5]: timeit '{}{}'.format(*tup)
1000000 loops, best of 3: 281 ns per loop

In [6]: timeit '%s%s' % ('hello', 'world')
10000000 loops, best of 3: 122 ns per loop

In [7]: timeit '%s%s' % tup
10000000 loops, best of 3: 135 ns per loop

In [8]: timeit ''.join(['hello', 'world'])
1000000 loops, best of 3: 210 ns per loop

In [9]: timeit ''.join(tup)
10000000 loops, best of 3: 121 ns per loop 
```

# url - JScript url 替换

> ID：15127440
> 
> 赞同：0
> 
> 时间：2013-02-28T04:20:28.263
> 
> 标签：url, replace, jscript

好的，我正在为一个页面制作一个 JScirpt，这样你就可以按下键盘按钮移动到下一页。页面 URL 如下所示；[http://example.org/12345](http://example.org/12345)，所以我希望我的脚本做的是每次按下按钮时将数字增加 1。我认为大部分代码是正确的，但它不会做任何事情

```
function GoThere() {
var url = window.location.pathname; 
var ew = 'url'+1
url = eq.replace(location.hostname, location.hostname+ew);
window.location = url;
} 
```

如果有人可以看一下并尝试解释我做错了什么，将不胜感激

//EniM

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:36:04.827

我相信你的问题在于这条线

```
var ew = 'url'+1 
```

它应该是

```
var ew = parseInt(url)+1; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T04:41:58.670

检查 url 是一个 int，然后去掉引号。可能会使用一些清理，但是：

```
// strip out the /
var curint = window.location.pathname.replace(/\D/g,'');

// convert string to int
curint = parseInt( curint, 10 );

var nextint = curint + 1;
window.location = 'http://example.org/' + nextint; 
```

查看 Chrome 中的控制台。您可以逐行运行 JS……只需键入一个函数或 var，它就会打印结果。或者在 Sources 下设置断点。

# javascript - 将功能附加到左键单击 物品

> ID：15127445
> 
> 赞同：1
> 
> 时间：2013-02-28T04:21:00.107
> 
> 标签：javascript, firefox-addon

在我的 Firefox 插件中，我有一个`<listbox>`. 当我左键单击框中的项目时，我希望能够使用 javascript 函数。该函数应检索项目的文本值。

现在，我尝试添加这个 javascript，但它没有触发 - 相反，我收到一条错误消息，*“listbox is undefined”*：

```
listbox.addEventListener("click", function(event){
    var target = event.target;
    while (target && target.localName != "listitem")
    target = target.parentNode;
    if (!target)
        return;   // Event target isn't a list item
alert(target.getAttribute("value"));
}, false); 
```

xul 是这样的：

```
<listbox id="listbox1">
    <listcols /><listcol flex="1"/><listcol flex="1"/></listcols>
    <listitem><listcell class="column1" label="label1" value="value1"</listcell><listcell label="cell1"></listcell></listitem>
    <listitem><listcell class="column2" label="label2" value="value2"</listcell></listitem><listcell label="cell2"></listcell>
</listbox> 
```

现在，我`listbox`的 xul 中有两个元素。如何附加该功能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:24:24.393

您需要定义一个名为`listbox`...

```
var listbox 
```

...然后您需要为其分配对 DOM 元素的引用...

```
var listbox = document.getElementById("listbox"); 
```

...例如。

不要依赖某些浏览器向对象添加`id`属性`window`。

# c++ - C++ 前置条件/ 断言

> ID：15127451
> 
> 赞同：2
> 
> 时间：2013-02-28T04:21:40.537
> 
> 标签：c++, assertions, preconditions

这不是我的作业——我只是在练习。我似乎无法围绕这个断言概念来思考。

```
1) Determine the pre-condition for x that guarantees the post-condition about y
{ _______ }
if (x > 0)
    y = x;
else
    y = -x;

{ y >= 0 && |y| == |x| }
2) This code is the same as has been seen before, but the post-condition is different.                    
Describe why this post-condition is better for verifying the code than just { y >= 0}. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T04:51:39.610

如果你这样做是为了学习编程，你可以做一些编程来帮助你确认答案：

```
#include <iostream>

int abs(int x) { return x >= 0 ? x : -x; }

int main()
{
    for (int i = -128; i <= 127; ++i)
    {
        char x = i;

        char y;

        if (x > 0)
            y = x;
        else
            y = -x;

        if (!(y >= 0 && abs(y) == abs(x)))
            std::cout << "failed for " << i << " (y " << (int)y << ")\n";
    }
} 
```

运行这个你会看到 -128 是否失败`x`（其中`y`是 -128）。这是由于 2 的补码表示法的不对称性：-128 可以用 8 位字符表示，但 128 不能（只有 127）。

因此，对于 1，并假设 2 的补码整数，前提条件是它`x`不是您的位宽中的最低可表示值。当然，问题中没有任何内容说 x 和 y 是偶数，所以这有点试探性。

如果`x`and`y`是浮点数或双精度数，那么在正常的 IEEE 表示中，有一个符号位可以在不影响尾数或指数的情况下进行切换，从而允许符号的“干净”变化。也就是说，也存在“非数字”（NaN）和（正和负）无穷大标记值的极端情况，明智的做法是通过实验和/或通过研究表示和行为规范来检查......

> 描述为什么 [{ y >= 0 && |y| == |x| }] 比 { y >= 0} 更适合验证代码。

一个模糊的问题，因为我们不确定代码试图实现什么，我们对此的推理循环来自断言前一个后置条件优于后者。尽管如此，他们仍在寻找这样的答案：`y`无论代码对`x`.

在实践中，对于我们的 2 的补码整数，幅度在之后总是匹配 - 它是标记极端情况的后置条件的符号部分。但是，对预期的内容有额外的洞察力仍然令人放心。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T04:33:53.663

我猜是因为通常整数类型可以表示 (-N) > 0 > (N-1)。也就是说，如果您的 int 是带符号的 32 位整数，它可以保存值 -2147483648，但不能保存值 2147483648。

{ x != INT_MIN }

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T04:28:54.617

从后置条件向后工作。只有一个分支语句。由于 if 语句测试 x > 0 ，因此只需查看 3 种情况：`x < 0`、`x == 0`和`x > 0`来确定 x 的哪些值满足后置条件。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T05:15:48.463

如果 x > 0，由于 . 总是满足 y >= 0 `if (x > 0) y = x`。如果 x == 0，由于 .y >= 0 总是满足的`if ( x > 0) ... else y = -x`。如果 x < 0，则 y = -x 所以 y >= 0 满足，除非 -x < 0。所以前提是 { x >= 0 || -x >= 0 }。（唯一不正确的 x 值是最大负值，它会溢出。）

{ y >= 0 && |y| == |x| } 比 { y >= 0 } 更好，因为后者适用于所有类型的函数，而不仅仅是找到 x 的绝对值的函数（这可能是这段代码的用途，尽管您似乎省略了问题陈述）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-28T04:56:48.477

根据 和 的类型，这个问题的答案可能会变得`x`混乱`y`。正如@PeteFordham 指出二进制补码中的整数不是对称的，最大负整数的绝对值无法表示。如果不是整数`x`，并且`y`是`float`或，`double`那么您必须考虑在 IEEE 格式中，零可以同时具有正号和负号。

```
#include <iostream>
int main() {
    double x = 0;
    double y = -x;
    std::cout << "x=" << x << " y=" << y << std::endl;
} 
```

输出是

> x = 0 y = -0

# r - 如何在不使用 R 中的“长度”的情况下将数据从中间索引切到末尾（就像在 python 中一样）？

> ID：15127457
> 
> 赞同：49
> 
> 时间：2013-02-28T04:22:07.970
> 
> 标签：r

在 python 中，我可以从五项列表（从中提取值）中分割最后四项，如下所示`mylist[1:]`：（注意，基于 0 的索引）。在 R 中，似乎冒号后没有内容是错误的。在这两种语言中，我都可以将最后一个参数作为列表的长度，但这并不总是很方便（例如内联切片：）`colnames(iris)[2:length(colnames(iris))]`。

R中有这样的语法吗？

* * *

## 回答 #1

> 赞同：52
> 
> 时间：2013-02-28T04:22:07.970

好吧，这令人困惑，来自 python 背景，但`mylist[-1]`似乎可以解决问题。在这种情况下，否定可以理解为“除外”，即获取除第 1 列之外的所有内容。因此`colnames(iris)[-1]`可以获取除第一项之外的所有内容。

哦，要排除更多项目，请将其视为已排除的范围，因此`colnames(iris)[-2:-4]`仅保留第一个项目和第五个项目之后（包括）之后的所有项目。

对于其他来自 python 的人，请查看这个[漂亮的幻灯片，将 R 与 python 进行比较](http://files.meetup.com/1406240/Learning%20R%20Via%20Python%20%28or%20the%20other%20way%20around%29.pdf)。

* * *

## 回答 #2

> 赞同：35
> 
> 时间：2016-06-28T12:13:50.803

在 R`tail(mylist, -2)`中，与 Python 中的效果相同`mylist[2:]`。

# javascript - 如何同步音频样本？

> ID：15127460
> 
> 赞同：1
> 
> 时间：2013-02-28T04:22:41.387
> 
> 标签：javascript, html, audio, button, windows-8

我有一个开始播放音频样本的按钮。现在，当用户单击另一个按钮启动另一个音频样本时，我可以将 BPM 设置为正在播放的第一个音频样本的 BPM 吗？就像你如何混合两个音频样本，然后你有一个同步按钮，这样它们就可以很好地混合在一起并以相同的速度播放。我需要一个音频库来实现这种功能吗？我正在使用 JavaScript 为 Windows 8 开发。

# machine-learning - 使用机器学习创建语音识别系统

> ID：15127461
> 
> 赞同：0
> 
> 时间：2013-02-28T04:22:56.267
> 
> 标签：machine-learning, artificial-intelligence

作为机器学习的一个教育项目，我正在考虑从头开始创建一个语音识别系统。在之前接受过他/她的声音训练后，它应该能够从他/她的声音中识别出说话者。

我应该采取什么方法来应对这一挑战？具体来说，这样的系统如何在高层次上工作？

任何意见，将不胜感激 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T13:16:53.170

To use your machine learning algorithm, you must first define the features you are going to feed it.

The easiest thing to do would be to compute the Fourier Transform of the audio signal (with any FFT tool you want, it's pretty standard), and build a feature vector with the information on frequencies and their amplitude.

If it's not enough, you could use a spectrogram to add temporal informations.

Once the features are correctly set, you can start playing with your favorite classifier algorithm !!!

If you use python, I found this question explaining how to do the FFT part : [FFT for Spectrograms in Python](https://stackoverflow.com/questions/1303307/fft-for-spectrograms-in-python)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-09T09:38:26.610

我做了一次简单的说话人识别。

您可能需要使用诸如**Mel 频率倒谱系数**(MFCC) 之类的功能，这些功能说明了由于谐波引起的频谱周期性以及人耳感知的响度。

然后你可以在学习阶段对特征进行聚类，得到一个统计模型。我为此使用了 VQ，这对于这种特定用途来说非常糟糕，但仍然得到了可用的结果。在识别阶段，您尝试将输入数据拟合到代表不同扬声器的不同模型上。拟合得越好，误差越低。一定要根据记录长度标准化分数。

此外，提高说话人识别率的一个好方法是排除静音和非语音声音。

# php - 试图从 PHP 执行用 C 编译的文件

> ID：15127462
> 
> 赞同：2
> 
> 时间：2013-02-28T04:22:57.017
> 
> 标签：php, c

我正在尝试获取我写入的文件`C`以从`PHP`脚本中执行。尽管我根本没有收到任何错误，但它没有响应。我可以很好地从命令行运行脚本，`./serialTest Blah Blah`预期的结果是获取命令行参数并将它们输出到 LCD 屏幕，这在命令行中非常棒。

为了让它运行，`PHP`我使用`exec("./serialTest " . $inputField`这个项目的目标是从文本字段中的网页获取他们的输入，它会显示在 LCD 屏幕上，他们可以通过实时网络摄像头看到他们输入的内容。

脚本没有执行我的代码有错误还是不可能？如果不能以这种方式完成，我想知道是否有替代方法。我意识到允许这样做可能存在一些重大的安全威胁，但对于我和一些朋友来说，这只是家庭服务器上的一个有趣的项目。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:33:38.823

您可以尝试一件事：

```
exec("./serialTest   {$inputField}", $output, $status);
echo "status: " . $status;
echo "output: " . implode("\n", $output); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T05:20:21.577

如果启用了安全模式，您只能执行 safe_mode_exec_dir 中的文件。

也许您应该将 C 程序的所有者/组更改为 php、apache 或网站文件的“用户”。

# html - 和：为什么没有新行？

> ID：15127466
> 
> 赞同：10
> 
> 时间：2013-02-28T04:23:20.340
> 
> 标签：html, line-breaks

所以我读了它`<html>`并且`<body>`是块级元素，就像`<div>`and一样`<p>`。

我知道块级元素开始一个新行。

例如`aaa<div>b</div>ccc`看起来像这样：

```
aaa
b
ccc 
```

那么，为什么不在html 页面`<html>`的`<body>`顶部添加两行呢？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-28T04:30:15.763

块级元素不会“开始新行”......它们只是无限期地扩展到两侧，直到命中容器元素或显示的两侧（`width:100%`）......因此，它们具有“推动”的效果任何其他低于它们的内容，或低于它们之前的任何内联内容。这也意味着块级元素只会“下推”兄弟级元素。

`<html>`并且`<body>`元素没有兄弟姐妹，只有孩子，所以他们不需要置换任何东西。

这是正在发生的事情的图形表示： ![在此处输入图像描述](../Images/a1e7deb156bcf5cd692527fbba8d5a52.png)

鉴于此标记：

```
<html>
<head></head>
<body>
  <div>&nbsp;</div>
  <div>&nbsp;</div>
  <div style='width:45%; float:left;'>
    <div>&nbsp;</div>
  </div>
  <div style='width:45%; float:left;'>&nbsp;</div>
</div>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T04:35:16.023

这样想：

```
<div>
    <div>Text</div>
</div> 
```

只有一行文字：

> 文本

这就像正文中有任何文本的情况一样：

```
<html>
    <body>Text</body>
</html> 
```

当文本在子元素中时，不会引入新行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T04:38:28.943

它们是定义页面的块元素。浏览器控制他们想要如何查看它。您可能会发现一些糟糕的浏览器`<body>`通过添加新行来显示（这是可能的）。但是，您的主要重点是将`<body>`and`<html>`标签视为在屏幕上显示所有内容的标签。我还想补充一点，您可以使用标签来完全适应浏览器屏幕

```
body {padding:0;margin:0;} 
```

希望这可以帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T05:59:05.737

Block level elements by default (i.e., when CSS is not used to change this) imply *line breaks* before and after. They do not imply *empty lines*.

So when you have `<div>foo</div>`, then “foo” appears at the start of a new line, and it also ands a line, i.e. any text after it is on the next line. But this does not mean creating empty lines. If you have `<div>foo</div><div>bar</div>`, then “foo” and “bar” appear on consecutive lines, with no empty line between them.

这样的`html`元素不会生成可见内容；仅显示其中的`body`元素。并且`body`内容从页面的开头开始，这被视为从新行开始。有无`<body>`标签无关紧要；总是有`body`元素，它从第一行开始。

# c - BerkeleyDB 变胖变慢

> ID：15127468
> 
> 赞同：1
> 
> 时间：2013-02-28T04:23:27.840
> 
> 标签：c, database, berkeley-db

我正在尝试以每秒 50k 的插入速度向 BerkeleyDB 添加 3e9 键（重复性低），复合记录由具有两个整数的结构形成。每个键的长度为 30。我使用的是 C API。

看起来我必须将 cache_size 增加到 2GB，否则一段时间后数据库上的插入会变得非常慢。但是，它总是消耗超过 2GB 的 RAM。

我不使用事务或游标，我使用的是 DB_HASH。

如何确保我不会消耗这么多内存并且不会太慢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-01-09T18:08:27.047

BerekelyDB 尊重 RAM 使用的用户设置，并将使用允许/配置的尽可能多的 RAM。如果您希望使用较少的 RAM，请配置较低的值。

同时，创建/插入时的缓慢可能是由于 BerkeleyDB 为确保新数据在 db->put 之后在磁盘上而进行的 fsync(2) 调用。

当您创建数据库并且并不真正关心数据是否已刷新到磁盘时，您可以通过使用 noop 例程（即只返回成功但不执行任何操作）覆盖 fsync(2) 向量来加速 BerkeleyDB。

# java - 使用 Apache Lucene 索引文件时删除停用词

> ID：15127471
> 
> 赞同：0
> 
> 时间：2013-02-28T04:23:38.370
> 
> 标签：java, lucene, information-retrieval

我正在从事一个涉及使用 Apache Lucene 索引文件的项目。虽然我能够成功地使用 Lucene 对文件进行索引，但是当我看到结果时，我得到了很多突然的单词，可能是因为我在索引时没有删除停用词。

我在网上读到 Lucene 提供了一种在索引文件时删除停用词的方法。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T06:20:50.017

Lucene 的[StandardAnalyzer](http://lucene.apache.org/core/4_0_0/analyzers-common/org/apache/lucene/analysis/standard/package-summary.html)包含一个 StopFilter，它可以从通过它的任何内容中删除一些典型的停用词。英语停用词的标准列表很短；主要是一些冠词、代词和介词。

如果您希望定义自己的停用词集，StandardAnalyzer 有几个构造函数允许您传入自己的停用词集，尤其是[这个](http://lucene.apache.org/core/4_0_0/analyzers-common/org/apache/lucene/analysis/standard/StandardAnalyzer.html#StandardAnalyzer%28org.apache.lucene.util.Version,%20org.apache.lucene.analysis.util.CharArraySet%29)。只需创建一个包含所需停用词的[CharArraySet ，然后将其传递给该构造函数，然后就可以了。](http://lucene.apache.org/core/4_0_0/analyzers-common/org/apache/lucene/analysis/util/CharArraySet.html)

我相信大多数其他典型的分析器也有一个接受相同参数的构造函数（乍一看，几乎所有分析器中的语言分析器都[遵循](http://lucene.apache.org/core/4_0_0/analyzers-common/overview-summary.html)这种模式）

当然，一定要为索引和搜索[使用相同的分析器。](http://wiki.apache.org/lucene-java/LuceneFAQ#Why_is_it_important_to_use_the_same_analyzer_type_during_indexing_and_search.3F)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T19:12:27.813

如果您将使用标准分析器或停止分析器，则“on, a, an, the”之类的停止词将自动从索引中删除，并且您无法使用停止词执行搜索。如果您想使用“was, is, on”之类的停用词进行搜索，则必须使用空格分析器或简单分析器。

# actionscript-3 - AS3 stageWebView drawViewPortToBitmapData 监听绘制完成

> ID：15127479
> 
> 赞同：0
> 
> 时间：2013-02-28T04:23:52.380
> 
> 标签：actionscript-3, air

只是想知道是否可以添加一个侦听器来检查 drawViewPortToBitmapData 是否已完成？我正在尝试捕获在屏幕上加载的 PDF 其相当大的位图。

加上 drawViewPortToBitmapData 不知何故不能在电脑上工作，但在平板电脑上工作正常。任何的想法？

```
var screenBD:BitmapData = new BitmapData(
    _swv.viewPort.width,
    _swv.viewPort.height,
    true, 0xFFFFFF
);

_swv.drawViewPortToBitmapData(screenBD);
var screen:Bitmap = new Bitmap(screenBD);
screen.y = 40; 
```

干杯比尔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T13:08:38.983

drawViewPortToBitmapData() 没有完整的侦听器，您必须自己编写！但是您应该可以在从中创建位图后添加它！

```
...
var screen:Bitmap = new Bitmap(screenBD);
addChild(screen); 
```

drawViewPortToBitmapData() 仅适用于 AIR，因此在 PC 上运行 swf 将无法正常工作，您必须为桌面发布

# j - 欧拉在 J 中的恒等式

> ID：15127480
> 
> 赞同：3
> 
> 时间：2013-02-28T04:23:53.283
> 
> 标签：j

刚发现 J 语言，我输入：

```
1+^o.*0j1 
```

[我期望答案是`0`](http://en.wikipedia.org/wiki/Euler%27s_identity)，但我得到了`0j1.22465e_16`。虽然这非常接近于 0，但我想知道为什么答案中有数字错误，而 J 应该能够执行任意精度算术？我怎样才能得到正确的答案`0`？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T15:07:20.247

任意精度适用于[整数和有理数](http://www.jsoftware.com/help/learning/19.htm)。

[常数](http://www.jsoftware.com/help/dictionary/dcons.htm) **π** ( `1p1`) 和**e** ( `1x1`) 仍然是浮点数，精度约为 17 位有效十进制数字。

准确产生 0 的唯一方法是您的代码“知道”这种情况。组合`^@o.`是这种情况下的[特殊代码](http://www.jsoftware.com/docs/help701/dictionary/special.htm)。

```
 ^@o. 0j1
_1 
```

# c# - 如何将 FlowDocument 附加到 RichTextBox？

> ID：15127483
> 
> 赞同：1
> 
> 时间：2013-02-28T04:24:28.003
> 
> 标签：c#, wpf, richtextbox, add, flowdocument

我想将richTextBox2.Document 附加到richTextBox1，但WPF 不支持联合2 FlowDocument。有什么办法吗？非常感谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T05:00:00.203

```
using System.Text.RegularExpressions;
using System.Windows.Markup;

    richTextBox1.Document = Joint_FlowDocument(richTextBox1.Document, richTextBox2.Document);

    //Joint flowDocument_2 to the end of flowDocument_1
    private FlowDocument Joint_FlowDocument(FlowDocument flowDocument_1, FlowDocument flowDocument_2)
    {
        StringWriter wr_f1 = new StringWriter();
        XamlWriter.Save(flowDocument_1, wr_f1);
        string str_f1 = wr_f1.ToString().Replace("</FlowDocument>", "");
        StringWriter wr_f2 = new StringWriter();
        XamlWriter.Save(flowDocument_2, wr_f2);
        string str_f2 = wr_f2.ToString();
        str_f2 = Regex.Replace(str_f2, "<FlowDocument.*?>", "");
        return XamlReader.Parse(str_f1 + str_f2) as FlowDocument;
    } 
```

# android - Android View 在 Gridlayout 上的位置

> ID：15127484
> 
> 赞同：0
> 
> 时间：2013-02-28T04:24:35.503
> 
> 标签：android, resize, android-edittext, grid-layout

我在 GridLayout 中放置了 EditText、TextView、ImageView。（我的目标是制作像图像编辑器或 OpenOffice Draw 这样的应用程序）

当我在 EditText 中键入长文本时，它的大小会随着我键入字符而增大。

随着其大小的增长，TextView 和 ImageView 等其他对象正在向右移动，以便在左侧为 EditText 腾出空间。

我认为 GridLayout 就像一个可以设置绝对位置的布局。

当一个人的大小发生变化时，我可以在 GridLayout 中保持其他 View 对象的绝对位置吗？

提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T04:39:52.573

# instruction-set - “。长 。” 在手臂组件编码中是什么意思？

> ID：15127490
> 
> 赞同：2
> 
> 时间：2013-02-28T04:25:16.703
> 
> 标签：instruction-set

我正在浏览 arch/arm/head.S 并找到下面的代码

__turn_mmu_on_loc：

```
 .long   .
    .long   __turn_mmu_on
    .long   __turn_mmu_on_end 
```

我无法理解“.long .”？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-14T12:41:24.043

请参阅[GNU 汇编器手册：特殊点符号](http://sourceware.org/binutils/docs/as/Int.html#Int)：

> 特殊符号 ' `.`' 表示**`as`**正在组装的当前地址。因此，表达式`melvin: .long .`定义`melvin` 为包含它自己的地址。将值分配给与指令`.`相同。`.org`因此，表达式`.=.+4`与说相同`.space 4`。

因此，在您的代码段中，当前地址放在`__turn_mmu_on`,`__turn_mmu_on_end`符号的值之前。您在汇编程序文件和链接器脚本中经常看到类似的结构，因为它们布置了它们的数据结构。

# java - 线程“main”中的异常 java.lang.IllegalArgumentException: setSelectedIndex: 4 out of bounds

> ID：15127495
> 
> 赞同：0
> 
> 时间：2013-02-28T04:25:43.397
> 
> 标签：java, eclipse, swing, user-interface, jframe

我正在尝试制作游戏，但我的代码根本不起作用，我不知道为什么。我是一个没有经验的新手程序员，并且对我的代码感到非常沮丧。我一直在尝试解决这个问题，但无济于事。请帮助我。

```
public class hello {
    //Int's and things
    static JButton Play = new JButton("<PLAY>");
    static JFrame pane = new JFrame("CIrCUT 0.0.2");
    static JLabel Title = new JLabel("CIrCUT");
    static JLabel none = new JLabel(" ");
    static JPanel panel = new JPanel(new GridLayout(10, 10, 10, 10));
    static JButton Options = new JButton("<OPTIONS>");
    static JPanel panel2 = new JPanel(new GridLayout(10, 10, 10, 10));
    static String b[] = new String[3];
    static int panelLoct = 1;
    JComboBox optionlist = new JComboBox();

    void initialize() {
        b[0] = "High";
        b[1] = "Medium";
        b[2] = "Low";

        //title
        pane.setTitle("CIrCUT 0.0.2");
        //drop down
        optionlist .setModel(new DefaultComboBoxModel(new String[] {"Option", "High", "Medium",  "Low"}));
        optionlist.setSelectedIndex(4);
        optionlist.addActionListener((ActionListener) this);
        //other pane-related things
        if (panelLoct == 1) {
            pane.setLayout(new GridLayout(10, 10));
            panel.setMaximumSize(new Dimension(500, 500));
            pane.setSize(500, 500);
            pane.setMaximumSize(new Dimension(500, 500));
            panel.add(Title);
            panel.add(none);
            panel.add(Play);
            panel.add(Options);
            panel2.add(optionlist);
            Play.setSize(new Dimension(500, 450));
            pane.setLocation(500, 50);
            pane.setBackground(Color.lightGray);
            pane.setContentPane(panel);
            pane.pack();
            pane.setMinimumSize(new Dimension(500, 500));
            pane.setContentPane(panel);
            OptionButtonHandler cbHandler = new OptionButtonHandler();
            Options.addActionListener(cbHandler);
            pane.setVisible(true);
        }
    }

    public void windowClosing(WindowEvent e) {
        System.exit(0);
    }

    private static class OptionButtonHandler implements ActionListener {
        public void actionPerformed(ActionEvent e) {
            pane.remove(panel);
            pane.add(panel2);
        }
    }

    public void actionPerformed(ActionEvent e) {
        JComboBox cb = (JComboBox) e.getSource();
        cb.getSelectedItem();
    }

    public static void main(String args[]) {
        hello a = new hello();
        a.initialize();
    }
} 
```

我认为问题出在 JComboBox 上，但每当我删除它时，我都会收到错误消息。

**编辑**

这是错误

```
at javax.swing.JComboBox.setSelectedIndex(Unknown Source)
at hello.initialize(hello.java:36)
at hello.main(hello.java:81) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T04:27:40.860

```
JComboBox optionlist = new JComboBox();
optionlist.setSelectedIndex(4); 
```

这将导致异常，因为您正在设置***空***JComboBox 的索引。根本不要这样做。在选择索引*之前*用项目填充组合框。

实际上，您在哪里向 JComboBox添加*任何项目？*

请注意，将来如果您对代码生成的异常有疑问，您需要在此处发布实际的异常堆栈跟踪，并为我们指出哪一行引发了异常。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T05:32:20.550

您正在设置只有 4 个元素的 ComboBox 模型，因此允许的最大索引为 3（作为其 0、1、2、3）。因此，如果您尝试将选定的索引设置为第 4 个元素，则必须将其设置为 3，如下所示：

```
optionlist .setModel(new DefaultComboBoxModel(new String[] {"Option", "High", "Medium",  "Low"}));
    optionlist.setSelectedIndex(3); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T04:37:06.710

首先在 optionlist 中添加一些选项，然后执行此 optionlist.setSelectedIndex(4);

```
 JComboBox optionlist = new JComboBox();
 optionlist .setModel(new DefaultComboBoxModel(new String[] {"Option", "Baby Ride Frame   s/s", "Baby Ring",  "Baby Tri Cycle Frame", "Baby Tri Cycle Frame D/Seat"}));
 optionlist.setSelectedIndex(4); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-10-04T15:57:09.067

我遇到了与eclipse完全相同的问题。错误是“setSelctedIndex(0) out of bounds。我通过确保所有服务器都在 Eclipse 上运行来解决它。这包括 mysql、apache 和用于测试网页的 tomcat 服务器。如果您使用的是 eclipse，请确保所有本地服务器在...上。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-10-21T05:10:50.547

那是因为您正试图在数组列表中显示不可用的项目。因此，请确保您尝试显示的任何内容都可用于 Array 列表，请记住 Arraylist 开始于

```
JComboBox optionlist = new JComboBox();
optionlist.setSelectedIndex(4); 
```

而且您没有第四个索引。即使你的组合框是空的，所以没有第 4 个。和或这样做。

```
JComboBox optionlist = new JComboBox();
optionlist.setSelectedIndex(-1); 
```

# vb.net - 避免表单挂在 vb.net

> ID：15127500
> 
> 赞同：2
> 
> 时间：2013-02-28T04:26:16.250
> 
> 标签：vb.net

我想知道您建议使用什么方法来避免我的表单在执行存储过程时挂起。请参阅我附加的代码。我正在通过 Stream API 从 Twitter 收集数据，并且在执行存储过程时表单挂起。使用 BackgroundWorker 是避免表单挂起的最佳方法吗？你能给我一个例子，这是如何在我的代码中实现的。

```
Imports System.Linq
Imports System.Text
Imports System.Net
Imports System.IO
Imports Newtonsoft.Json.Linq
Imports Newtonsoft.Json
Imports System.Data.SqlClient
Imports System.Threading

Public Class Form1

    Private Sub btnDB_Click(sender As System.Object, e As System.EventArgs) Handles btnDB.Click
        Dim url As String = "https://stream.twitter.com/1.1/statuses/filter.json?track=twitter"
        Dim request As WebRequest = WebRequest.Create(url)
        request.Credentials = New NetworkCredential("username", "pwd")
        Dim WebResponse = request.GetResponse()
        Dim encode As Encoding = Encoding.GetEncoding("utf-8")
        Dim responseStrem = New StreamReader(WebResponse.GetResponseStream(), encode)

        While Not responseStrem.EndOfStream
            'Console.WriteLine(responseStrem.ReadLine());

            Dim json As String = responseStrem.ReadLine()
            If json.Length <> 0 Then
                ParseJson(json)
            End If
        End While
    End Sub

    Private Sub ParseJson(ByVal Json As String)

        Dim connectionstring As String = "Data Source=.;Initial Catalog=db_twitter_stream;User ID=sa;Password=xxx"
        Dim counter As Integer = 0
        Dim conn As New SqlConnection(connectionstring)
        conn.Open()
        Dim o As JObject = JObject.Parse(json)

        Dim tweet As String = o("text")
        Dim source As String = o("source")
        Dim created_at As String = o("created_at")

        Dim cmd As New SqlCommand("dbo.prc_tweets", conn)
        cmd.CommandType = System.Data.CommandType.StoredProcedure
        cmd.Parameters.Add(New SqlParameter("@tweet", tweet))
        cmd.Parameters.Add(New SqlParameter("@source", source))
        cmd.Parameters.Add(New SqlParameter("@created_at", created_at))

        cmd.ExecuteNonQuery()

        counter = counter + 1
        lblCount.Text = counter.ToString()

        conn.Close()

    End Sub

    Private Sub btnQuit_Click(sender As System.Object, e As System.EventArgs) Handles btnQuit.Click
        Me.Close()
    End Sub

End Class 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-25T22:37:37.777

您的表单挂起，因为您正在主线程中运行代码。主线程负责响应鼠标点击、显示输出和循环获取输入。但是一旦你让主线程沉迷于其他事情，它在执行你的代码时就不能再运行它的所有任务，这会让你的表单看起来像是卡住了。您需要为更大的任务创建另一个线程。您需要使用 System.Threading 类中的线程池或更多过程。创建一个像 Private Sub 这样的 sub 并将其命名，然后将所有繁忙的代码放入其中，并以 End Sub 结束 sub。然后创建一个线程变量并将其寻址到该 Sub。`Dim variable As New System.Threading.Thread(AddressOf yoursubnamehere)`. 然后设置它的属性，如优先级等。然后`threadvariable.Start()`。问题已解决:) 如果对您更方便，您也可以使用 backgroundworker。

# php - 如何在每个脚本的基础上设置 POST 大小限制？

> ID：15127502
> 
> 赞同：5
> 
> 时间：2013-02-28T04:26:33.960
> 
> 标签：php, post, limit, max

ETA：有人建议`ini_set()`，但我的理解是这是服务器端设置；我需要在运行时独立于每个脚本。例如，三个脚本像这样同时运行：x.php 使用 2k，y.php 使用 4k，z.php 使用 8k。

如何以编程*方式基于每个脚本*（即，不是服务器范围）设置 POST 最大大小的限制？

例如，在 Perl 中，只需在每个脚本中执行此操作，从而允许每个脚本在运行时设置自己的限制：

```
# The $POST_MAX variable also applies to the combined size of all the elements
# in a form. Therefore, you can set this variable to keep people from pasting
# huge amounts of junk into text fields, too.
$CGI::POST_MAX = 1024 * 2; 
```

我意识到 php.ini 中有一个设置来限制*所有*PHP 脚本的最大 POST 大小：

```
; Maximum size of POST data that PHP will accept.
; http://php.net/post-max-size
post_max_size = 8M 
```

但我想知道如何在每个脚本的基础上做到这一点（因为每个脚本都有自己的限制）。

注意：大概可以在 Apache httpd.conf 和/或 .htaccess 中设置限制，但我不想这样做。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-28T04:28:17.993

使用`ini_set`然后根据需要设置您的 php 设置。

**例子**

```
ini_set('upload_max_filesize', '60M');     
ini_set('max_execution_time', '999');
ini_set('memory_limit', '128M');
ini_set('post_max_size', '60M'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T04:34:42.557

要基于每个脚本更改 ini 设置，您可以使用：

```
ini_set('post_max_size', '10M') 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T05:18:55.520

你也可以在你的`.htaccess`文件中做

```
php_value upload_max_filesize 30M 
```

或者您可以使用`ini_set`几乎被主机提供商禁用的 php 功能。

```
ini_set('upload_max_filesize', '60M'); 
```

# php - 登录尝试失败后在字段中保留文本

> ID：15127504
> 
> 赞同：1
> 
> 时间：2013-02-28T04:26:48.813
> 
> 标签：php, html, forms

我有一个登录表单，当我尝试登录但失败时，我被发送回登录表单并且它是空白的。我想在尝试失败时保留用户名/电子邮件地址字段，以便我只需要再次输入密码。关于我需要做什么的任何建议？

HTML：

```
 <?php if ($_GET['msg'] == 'failed') : ?>
        <p style="color:red; font-weight: bold">Incorrect email or password. Try again!</p>
        <?php endif; ?>
        <form action="index.php?cmd=login" method="post" id="form">
            <div class="signup-form">
                <p>
                    <label>Email</label>
                     <input type="text" name="email" value="" class="textbox required email" />
                </p>
                <p>
                    <label>Password</label>
                    <input type="password" name="password" value="" class="textbox required"/>
                </p>
                <p>
                    <label></label>
                    <input type="checkbox" name="rememberme" value="1" class="" checked="checked" /> Remember Me?
                </p>
                <p>
                    <a style="margin: 10px 0 0 0; color:#000;" class="button" href="javascript://" onclick="$('#form').submit()">Continue</a> <img src="images/ajax-loader.gif" class="loading" style="display: none;" /> 
```

和：

```
 if ($_POST) {
$login = $_USER->do_log_in(input($_POST['email']), md5($_POST['password']), $_POST['rememberme']);
if ($login == true) {
    $_SESSION['userid'] = $_USER->get_user_id();
    header('location: index.php');
}else
    header('location: index.php?cmd=login&msg=failed');
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T04:30:29.223

使用此代码

```
<input type="text" name="email" value="<?php if(isset($_POST['email'])) { echo $_POST['email']; } ?>" class="textbox required email" /> 
```

您只需要使用`isset`方法并检查是否设置了天气。如果是，则将其文本显示在`value`.

# facebook-graph-api - Facebook图获取用户城市经纬度

> ID：15127506
> 
> 赞同：1
> 
> 时间：2013-02-28T04:27:13.867
> 
> 标签：facebook-graph-api, facebook-php-sdk, facebook-opengraph, facebook-fql

我想获取用户所在城市的坐标。我可以使用“位置”字段（而不是“位置”）获取位置名称。

如何使用 Graph API 或 fql 获得此信息？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T06:05:03.970

如果您要返回位置 ID，则可以使用 Graph API 获取它：

```
http://graph.facebook.com/<id> 
```

它看起来像：

```
"location": { "latitude": <lat>, "longitude": <lon> } 
```

您也可以使用 FQL 获取它：

```
SELECT location FROM page WHERE page_id = <id> 
```

# regex - perl 正则表达式来分隔文本中的每个字母

> ID：15127509
> 
> 赞同：3
> 
> 时间：2013-02-28T04:27:29.127
> 
> 标签：regex, perl

如何使用 perl 正则表达式转换以下文本：

```
1100101
1100111
1110001
1110101 
```

进入

```
1 1 0 0 1 0 1
1 1 0 0 1 1 1
1 1 1 0 0 0 1
1 1 1 0 1 0 1 
```

我尝试使用

```
perl -pe 's// /g' < text.txt 
```

但它给了我一些类似这样的有趣结果：

```
 1 1 0 0 1 0 1
  1 1 0 0 1 1 1
  1 1 1 0 0 0 1
  1 1 1 0 1 0 1 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-28T04:37:04.507

```
perl -pe 's/(?<=[^\n])([^\n])/ \1/g' 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-28T06:29:23.550

为什么要使用正则表达式？

```
perl -pe '$_ = join " ", split ""' 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-28T05:00:51.630

使用前瞻：

```
perl -pe 's/(\d)(?=.)/$1 /g' 
```

使用前瞻和后瞻：

```
perl -pe 's/(?<=\d)(?=.)/ /g' 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-28T05:13:39.260

使用自动拆分的另一种方法：

```
 perl -F// -ane 'print "@F";' file 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-28T04:53:42.437

或者像这样...

```
$ perl -pe 's/(?<!^)(\d)/ \1/g' input
1 1 0 0 1 0 1
1 1 0 0 1 1 1
1 1 1 0 0 0 1
1 1 1 0 1 0 1 
```

...这里对负正则表达式有一个很好的解释： [perl string pattern match的负正则表达式](https://stackoverflow.com/questions/6361312/negative-regex-for-perl-string-pattern-match)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-28T06:20:49.427

你快到了：

```
perl -pe 's/(.)/$1 /g' your_file 
```

测试如下：

```
> cat temp
1100101
1100111
1110001
1110101
> perl -pe 's/(.)/$1 /g' temp
1 1 0 0 1 0 1 
1 1 0 0 1 1 1 
1 1 1 0 0 0 1 
1 1 1 0 1 0 1 
```

# vb.net - VB.net 客户端上的soap标头身份验证

> ID：15127512
> 
> 赞同：0
> 
> 时间：2013-02-28T04:27:50.920
> 
> 标签：vb.net, web-services, soap, header, wsdl

我正在开发 VB.net 客户端（excel）以连接到不公开 WSDL 上的身份验证方法的第三方 web 服务（java）。

如何在请求的标头中传递用户名和密码。没有关于肥皂头必须如何的解释？

该文件只说以下内容：

Web 服务的通信是通过 WCF 中的 basicHttpBinding 提供的。此绑定支持 WSS SOAP 消息安全性、WS-Security 用户名令牌配置文件和 WS-Security X.509 证书安全性。经过测试、认证和支持的配置将传输凭据安全模式与 Windows 凭据一起使用。“Web 服务客户端必须在 SOAP 标头中传递 Windows 帐户的用户名和密码，以向服务器和数据库层识别正确的 Windows 客户端。”

谢谢。

因此，任何评论将不胜感激。我已经去了stackoverflow中的大部分线程。其中大多数是在服务器端设置的身份验证方法，在这种情况下不适用，因为我无法控制 Web 服务。

这是一对一的客户端服务器关系。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T22:45:24.043

是的，我已经完成了凭证部分。显然，我从其他找到解决方案的人那里复制和粘贴。

```
import System.Net; 
.... 
dim myService as New wsService
dim myCredentials as New Sustem.Net.CredentialCache()
dim netCrd as Ne NetworkCredential(UserName,Password,Domain)
myCredentials.Add(New Uri(wsServiceUrl), "Basic", netCred)
myService.UseDefaultCredentials = false
myService.Credentials = myCredentials

dim Data1 as new DataResponse
dataResponse = myService.getData("param1") 
```

getData 方法是通过代理方法调用的。

但是，我仍然不知道自定义标题上的用户名和密码，因为我检查了 xml 请求，我看不到任何标题标签。

任何好的评论将不胜感激。

# c# - sc.exe 将 exe 安装为服务？

> ID：15127513
> 
> 赞同：2
> 
> 时间：2013-02-28T04:27:53.480
> 
> 标签：c#, .net, windows, windows-services, servicecontroller

我一直在阅读有关 sc.exe 以将可执行文件作为 Windows 服务运行的大量时间，它似乎应该相当直截了当，但我遇到了一些问题，让它在没有此错误的情况下工作：错误 1053 服务没有及时响应或控制请求。

我得到要安装的服务，它在服务列表中，但它不允许我启动它。这就是我正在使用的基本尝试：

```
>sc create TestService binPath= "C:\Program Files (x86)\[path.exe]" DisplayName= "TestingServices" start= auto 
```

我究竟做错了什么？我尝试作为服务运行的 exe 是否必须设置为正确作为服务运行？我认为情况并非如此，因为那里有可以将任何 exe 作为服务运行的程序。我正在尝试做同样的事情，我该怎么做？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-28T04:32:07.930

您不能将任何可执行文件作为服务运行；可执行文件需要专门编写以包含服务循环。服务循环接收控制请求（例如启动、停止、重新启动、挂起）并且必须执行诸如启动初始化、停止清理等处理并响应这些控制请求，否则服务控制管理器将杀死它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T04:29:12.117

尝试使用

```
C:\Windows\Microsoft.NET\Framework\v4.0.30319\InstallUtil.exe Assembly.exe|dll 
```

反而。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T04:33:09.930

3个月前我也有同样的问题。我刚刚检查了这个[样本](http://www.codeproject.com/Articles/3990/Simple-Windows-Service-Sample)。然后执行与您相同的语法。然后瞧！进展顺利！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-09-24T03:48:35.050

@UndefinedBehaviour 是正确的，不过有一些解决方法

*   [SrvAny.exe](http://support.microsoft.com/kb/152460) - 来自 WinNT 资源工具包，现在看起来相当长
*   [firedaemon](http://www.firedaemon.com/) - 第三方商业产品

# javascript - Java Script 中的弹出窗口或子窗口

> ID：15127514
> 
> 赞同：0
> 
> 时间：2013-02-28T04:27:57.533
> 
> 标签：javascript, android, cordova

我正在使用 phonegap 开发一个 Web 应用程序。有一个问题，我需要在主窗口顶部带来一个子窗口，更像是一个弹出窗口。子窗口基本上是一个记事本（textarea）。

我尝试使用，但它在**android 模拟器**`onClick=window.open`中不起作用。并且有一个用于 phonegap 的 api，它是**loadurl** .. 但它实际上需要进入下一页（全屏），但不是作为弹出窗口。

 ****可以使用你的输入`How to create a popup window in javascript which works in android emulator`

谢谢蒂拉克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T07:19:03.923

使用[http://dev.jtsage.com/jQM-SimpleDialog/](http://dev.jtsage.com/jQM-SimpleDialog/)

你可以从这里下载[http://dev.jtsage.com/jQM-SimpleDialog/demos/install.html](http://dev.jtsage.com/jQM-SimpleDialog/demos/install.html)****

# php - 使用function.php填充一个输入时如何使用ajax获取mysql数据

> ID：15127517
> 
> 赞同：0
> 
> 时间：2013-02-28T04:28:13.330
> 
> 标签：php, javascript, ajax

mysql表

* * *

|order_no |order_name | | -------- |------------| | 43423 | 美国广播公司 | ???????????????????????????

现在我的问题是当我订购号码时如何使用 ajax 来获取订单名称和城市？任何帮助表示赞赏..

我这里有一个代码：

ValidateForm.js

```
var searchTimeout; //Timer to wait a little before fetching the data
$("#order_numbr").keyup(function() {
    searchKey = this.value;

    clearTimeout(searchTimeout);

    searchTimeout = setTimeout(function() {
        getUsers(searchKey);    
    }, 400); //If the key isn't pressed 400 ms, we fetch the data
});

function getUsers(searchKey) {
    $.ajax({
            type : "POST",
            async: false,
            data : "action=checkOrdrNum",
            url  : ajaxurl,
            dataType:"json",
             success: function(data) {
            if(data.status) {
                $("#ur_name1").val(data.userData.order_name);
            }   
        }
    }"This order number does not exist");         
}

And ofcourse the function.php file:

add_action('wp_ajax_nopriv_checkOrdrNum','checkOrdrNum');
add_action('wp_ajax_checkOrdrNum','checkOrdrNum');
function checkOrdrNum(){
    global $wpdb,$current_user;

     $response = Array();

    $response['status'] = false;

    $query = mysql_query("SELECT `order_name` FROM `art_work_history` WHERE `order_no` LIKE '%".$_POST['value']."%' LIMIT 1"); //Or you can use = instead of LIKE if you need a more strickt search

    if(mysql_num_rows($query)) {
        $userData = mysql_fetch_assoc($query);

        $response['userData'] = $userData;
        $response['status'] = true;            
    }

    echo json_encode($response);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T04:35:08.847

你需要将输入值传递给ajax

我认为这是唯一缺少的东西

```
function getUsers(searchKey) {
    $.ajax({
            type : "POST",
            async: false,
            data : "action=checkOrdrNum",
            url  : ajaxurl,
            dataType:"json",
            data: {value: searchKey}, // this is the line missing
             success: function(data) {
                if(data.status) {
                $("#ur_name1").val(data.userData.order_name);
            }   
        }
    });         
} 
```

# python - TypeError：只能将元组（不是“向量”）连接到元组

> ID：15127521
> 
> 赞同：2
> 
> 时间：2013-02-28T04:28:35.137
> 
> 标签：python, vector, concatenation, tuples, pygame

我是 python 和 pygame 的新手，我正在尝试学习向量和类的基础知识，在这个过程中我设法搞砸了，我正在努力理解和修复标题中的错误消息。

这是我的 Vector 类的代码：

```
import math

class Vector(object):

    #defaults are set at 0.0 for x and y
    def __init__(self, x=0.0, y=0.0):
        self.x = x
        self.y = y

    #allows us to return a string for print
    def __str__(self):
        return "(%s, %s)"%(self.x, self.y)

    # from_points generates a vector between 2 pairs of (x,y) coordinates
    @classmethod
    def from_points(cls, P1, P2):
        return cls(P2[0] - P1[0], P2[1] - P1[1])

    #calculate magnitude(distance of the line from points a to points b
    def get_magnitude(self):
        return math.sqrt(self.x**2+self.y**2)

    #normalizes the vector (divides it by a magnitude and finds the direction)
    def normalize(self):
        magnitude = self.get_magnitude()
        self.x/= magnitude
        self.y/= magnitude

    #adds two vectors and returns the results(a new line from start of line ab to end of line bc)
    def __add__(self, rhs):
        return Vector(self.x +rhs.x, self.y+rhs.y)

    #subtracts two vectors
    def __sub__(self, rhs):
        return Vector(self.x - rhs.x, self.y-rhs.y)

    #negates or returns a vector back in the opposite direction
    def __neg__(self):
        return vector(-self.x, -self.y)

    #multiply the vector (scales its size) multiplying by negative reverses the direction
    def __mul__(self, scalar):
        return Vector(self.x*scalar, self.y*scalar)

    #divides the vector (scales its size down)
    def __div__(self, scalar):
        return Vector(self.x/scalar, self.y/scalar) 
```

这是我的程序的代码：

```
#The simple mouse move game by Ramon Cabral

#imports
import pygame, sys, Vector
from pygame.locals import *

#game init
pygame.init()

#screen
screen = pygame.display.set_mode((800,600),0,32)

#images
mouse_file = 'mouse.png'
MOUSE = pygame.image.load(mouse_file).convert_alpha()

#variables
bgcolor = (255,255,255)
position = (100.0,100.0)
heading = Vector.vector()

#clock and speed
clock = pygame.time.Clock()
speed = 250.0

#main game function
while True:

    for event in pygame.event.get():
        if event.type == QUIT:
            pygame.quit()

        if event.type == MOUSEBUTTONDOWN:
            destination = pygame.mouse.get_pos()
            heading = Vector.vector.from_points(position, destination)
            heading.normalize()

    screen.fill(bgcolor)
    screen.blit(MOUSE, position)

    time_passed = clock.tick(30.)
    time_passed_seconds = time_passed/1000.0

    distance_moved = time_passed_seconds*speed
    position += heading * distance_moved

    pygame.display.update() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:35:31.797

给你的班级一个`tuple`方法：

```
class Vector(object):
    ...

    def tuple(self):
        return (self.x, self.y) 
```

改变：

```
position = (100.0,100.0) 
```

至：

```
position = Vector.vector(100.0,100.0) 
```

和：

```
screen.blit(MOUSE, position) 
```

至：

```
screen.blit(MOUSE, position.tuple()) 
```

您正在添加不兼容的类型。

# c - 如何通过 CompilerType #ifdef ？GCC 或 VC++

> ID：15127522
> 
> 赞同：22
> 
> 时间：2013-02-28T04:28:37.877
> 
> 标签：c, conditional-compilation

我曾经`#ifdef Win32`用于安全呼叫`sprintf_s`，但现在我想用 MinGW 构建项目，现在只是错了。我需要使用`#ifdef VC++`或以某种方式使用。是否可以？

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2013-02-28T04:39:07.807

```
#ifdef __clang__
/*code specific to clang compiler*/
#elif __GNUC__
/*code for GNU C compiler */
#elif _MSC_VER
/*usually has the version number in _MSC_VER*/
/*code specific to MSVC compiler*/
#elif __BORLANDC__
/*code specific to borland compilers*/
#elif __MINGW32__
/*code specific to mingw compilers*/
#endif 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-02-28T04:35:50.190

[请参阅Visual C 预定义宏](http://msdn.microsoft.com/en-us/library/b0084kay%28VS.80%29.aspx)的“Microsoft 特定预定义宏”表

你可以检查一下`_MSC_VER`。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-02-28T04:54:53.293

最好是使用可移植符号。我知道有时这些符号可能未定义，因此您可以查看[Predef 项目](http://sourceforge.net/p/predef/wiki/Home/)以获取有关标准、编译器、库、操作系统和*不可*移植的体系结构的预处理器宏的广泛列表。

但是，您在此问题中特别提到的功能已作为[附件 K.3 的一部分包含在 C11 标准中，即边界检查接口（库）](http://port70.net/~nsz/c/c11/n1570.html#K.3)。

[K.3.1.1p2](http://port70.net/~nsz/c/c11/n1570.html#K.3.1.1p2)状态：

> 在 K.3 及其子条款中声明或定义的函数、宏和类型由它们各自的头文件声明和定义，如果`__STDC_WANT_LIB_EXT1__`定义为一个宏，该宏在源文件中相应头文件所在的点处扩展为整数常量 1首先包括

因此，您应该优先考虑检查`__STDC_WANT_LIB_EXT1__`，并且仅在不存在时使用编译器特定的符号。

# ios - UIScrollView 内的行选择 UITableView 的问题

> ID：15127525
> 
> 赞同：1
> 
> 时间：2013-02-28T04:28:56.773
> 
> 标签：ios, objective-c, uitableview, uiscrollview

我有一个具有以下布局的视图控制器：

*   容器视图
    *   `UIScrollView`
        *   `UITableView`作为 a 的子视图`UIScrollView`

我有另一个`UITableViewController`，当行被选中时，我有几行和一些方法。现在我想`UITableview`在`UIScrollView`. 所以我将其添加`UITableView`为`UIScrollView`. 表格在滚动视图中显示得很好，但是当我在滚动视图中点击以选择表格的行时，行被突出显示，但在选择行时不会调用该方法..

```
 PBDashboardPickupTable *dashtable = [[PBDashboardPickupTable alloc]initWithNibName:@"PBDashboardPickupTable" bundle:nil];
    [self.scrollView addSubview:dashtable.tableView]; 
```

我还设置了从 Interface Builder`delayContentTouches`到`YES`和`cancelContentTouch`到的滚动视图。`NO`也`userInteractionEnabled`设置为`YES`... 那么为什么当我点击表格视图的行时该方法没有被调用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T00:45:28.360

Apple 在文档中特别警告避免将 a`UITableView`放入 a 中`UIScrollView`：

> **重要提示**：您不应该在对象中嵌入`UIWebView`或对象。如果这样做，可能会导致意外行为，因为两个对象的触摸事件可能会混淆并错误处理。`UITableView``UIScrollView`

由于`UITableView`继承自`UIScrollView`，我建议您将所需的任何其他视图添加为`tableHeaderView`、`tableFooterView`或表格中的自定义单元格。

# windows-phone-8 - windows phone 8 TTS - 如何将语音保存到 wav 文件

> ID：15127526
> 
> 赞同：4
> 
> 时间：2013-02-28T04:28:59.400
> 
> 标签：windows-phone-8, text-to-speech, wavelet

使用 windows phone 8 TTS API，是否可以记录/保存 tts SpeechSynthesizer 的语音输出？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-21T04:13:53.220

你可以看看[这里](https://msdn.microsoft.com/en-us/library/ms586883.aspx)

所以像

```
SpeechSynthesizer synth = new SpeechSynthesizer();
synth.SetOutputToWaveFile(@"C:\Test\Sample.wav");
synth.SpeakAsync("hello world"); 
```

# c# - 向外部域 asp.net 发送电子邮件

> ID：15127529
> 
> 赞同：1
> 
> 时间：2013-02-28T04:29:20.313
> 
> 标签：c#, asp.net, vb.net, email, cross-domain

我无法从我的 ASP.NET 网页向外部电子邮件地址发送任何电子邮件。

下面是我的代码：

```
 Dim oMsg As System.Net.Mail.MailMessage = New System.Net.Mail.MailMessage()    

        Dim add As New MailAddress("emailaddy@external_address.com")    
        oMsg.From = New MailAddress("something@mydomain.com")
        oMsg.To.Add(add)
        oMsg.Subject = "Your Account Details & Information"
        oMsg.Body = "my body text"
        oMsg.IsBodyHtml = True

        Dim smtp As New System.Net.Mail.SmtpClient("local_smtp_server", 25)
        smtp.DeliveryMethod = SmtpDeliveryMethod.Network

        smtp.Credentials = New System.Net.NetworkCredential("auser@mydomain.com", "mypassword")
        smtp.Send(oMsg) 
```

有什么我想念的吗？如果我发送到本地电子邮件，它会工作得很好。
我需要在 MS Exchange Server 上更改什么吗？

任何代码示例也可以在 C# 中给出......

# nan - 为什么在 J 中定义了 0%0，但 _%_ 给出了 NaN 错误？

> ID：15127533
> 
> 赞同：2
> 
> 时间：2013-02-28T04:29:34.480
> 
> 标签：nan, j

IJ，`0%0`（[零除以零](http://www.jsoftware.com/papers/zero.htm)）给出 0 作为答案。但是，`_%_`（无穷大除以无穷大）给出了 NaN 错误？为什么没有定义，while`0%0`是？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T19:02:13.993

“虽然零除以零是不确定的，但希望在编程环境中为它提供一个固定的商，以减少需要中断问题执行的情况的数量。” 这是 EE McDonnell 在论文[Zero Divided by Zero](http://www.jsoftware.com/papers/zero.htm)中的解释。

[Infinity](http://www.jsoftware.com/help/dictionary/d030.htm)的一个问题是它不是一个值，而是被视为一个值。如果 Infinity 是一个值，那么`_%_`它将是 One，这是一个数字除以自身的典型情况。（J 将 0%0 实现为该模式的一个例外。）我的直觉是，将 J`_%_`计算为解析为 One 会更好，但事实并非如此。因此，虽然我无法回答您的问题，但我建议数学中没有答案，在 J 文档或评论中也找不到答案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T15:23:54.523

我认为 Eelvex 的评论给出了答案。无穷大于无穷是不确定的。J 中的不确定符号是`_.`。但是，这只是为了处理来自外部来源的数据，而 J 句子不应该`_.`作为答案给出。

如果 0 over 0 定义为 0，这是因为它有一些实际用途。无穷大于无穷没有这样的实际用途。

# visual-studio - Windows 中的 getline/文件读取问题

> ID：15127535
> 
> 赞同：1
> 
> 时间：2013-02-28T04:29:36.723
> 
> 标签：visual-studio, file-io, unicode, getline

我在我的 Mac 上创建了一些 .txt 文件（起初并不认为这很重要，但是......）以便我可以在我正在（不幸的是）另一台计算机上的 Visual Studio 中制作的应用程序中读取它们。它们基本上是充满记录的文件，每行的条目数在顶部，例如：

```
2
int int 
age name
9 Bob
34 Mary
12 Jim
... 
```

在我最初在 Mac 上制作（并成功测试）的代码中，我尝试读取此文件和类似文件：

```
Table TableFromFile(string _filename){ //For a database system

  ifstream infile; 
  infile.open(_filename.c_str()); 

  if(!infile){
    cerr << "File " << _filename << " could not be opened."; 
    exit(1); 
  }

  //Determine number attributes (columns) in table, 
  //which is number on first line of input file 
  std::string num;
  getline(infile, num); 
  int numEntries = atoi(num.c_str()); 
  ...
  ... 
```

简而言之，这会导致崩溃！当我研究它时，我发现了一些有趣的“读取字符串字符时出错”问题，并发现它`numEntries`得到了一些疯狂的负垃圾值。这似乎是由于从第一行读取的“num”应该只是“2”，实际上是“ÿþ2”。

通过一些研究，似乎这些奇怪的字符正在格式化......也许是 unicode/Mac 特定的？无论如何，它们都是一个问题，我想知道是否有一种快速简便的方法可以让我在 Mac 上创建的文本文件像在 Mac 终端中一样在 Windows 中协作和运行。我尝试连接到一台 UNIX 机器，将一个 txt 文件放在那里，在其上运行 unix2dos，然后放回 VS，但无济于事……仍然是行首的那些符号！我应该在 Windows 中重新输入文件吗？我很惊讶地发现，当涉及到跨平台文件中的字符时，您所看到的并不总是您所得到的……但我想这是一个很好的教训。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-02T12:57:09.767

正如评论者所指出的，您看到的字节是字节顺序标记。请参阅[http://en.wikipedia.org/wiki/Byte_order_mark](http://en.wikipedia.org/wiki/Byte_order_mark)。

“ÿþ”是 0xFFFE，UTF-16“小端序”字节顺序标记。“2”是您的第一个实际字符（对于 UTF-16，256 以下的字符将由 0xnn00; 的字节表示，其中“nn”是该字符的常用 ASCII 或 UTF-8 代码，所以试图将字节读取为 ASCII 或 UTF-8 会正常，直到它到达第一个空字节）。

如果您需要解开文本文件的 Unicode 细节，我所知道的最好的工具是免费的 SC Unipad 编辑器 (www.unipad.org)。它仅适用于 Windows，但几乎可以读取和写入任何编码，并且能够告诉您有关该文件的信息。它非常擅长猜测编码。

Unipad 将能够打开文件并让您以任何您想要的编码保存它：ASCII、UTF-8 等。

# mysql - 这有什么问题

> ID：15127536
> 
> 赞同：0
> 
> 时间：2013-02-28T04:29:37.677
> 
> 标签：mysql, sql

```
CREATE  FUNCTION `work_exp`(id int(11)) RETURNS varchar(255)
BEGIN
DECLARE sid varchar(255)
SELECT group_concat(company_name) INTO sid FROM work_exp where studentid=id 
IF(sid>0) THEN
RETURN (sid)
ELSE
RETURN ('0') 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T04:31:05.073

声明失败的原因：

*   你没有改变分隔符
*   你还没有结束陈述`;`
*   你还没有结束`IF`声明`END`

询问：

```
DELIMITER $$
CREATE  FUNCTION `work_exp`(id int) 
RETURNS varchar(255)
BEGIN

    SET @sid := (SELECT group_concat(DISTINCT company_name)
                 FROM work_exp 
                  where studentid=id); 

    IF (CHAR_LENGTH(@sid) <= 0 OR @sid IS NULL) THEN
       SET @sid := 0;
    END IF;

    RETURN @sid;

END $$
DELIMITER ; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T04:32:38.893

在返回之前关闭'If'语句

# android - 在 2 个运营商的网络之间建立套接字连接

> ID：15127537
> 
> 赞同：0
> 
> 时间：2013-02-28T04:29:38.387
> 
> 标签：android, sockets, network-programming

[我的问题是，在这个问题（ 2 个运营商网络之间的套接字连接问题](https://stackoverflow.com/questions/14551409/socket-connection-issue-between-2-carriers-network)）中所述的情况下，端口敲击是否可以帮助我允许 android 服务器和 android 客户端之间的连接？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T05:05:25.643

根据运营商的不同，您*也许*可以。Verizon（在美国）有时会在 IP 用完时使用 NAT。如果 Verizon 设备是 mifi，您可能会使用双 NAT 路由，但即使是简单的 NAT 也需要使用 UPNP（他们使用的路由器通常不支持）或外部服务器来穿透网络，例如 SIP 或眩晕。

# javascript - 有没有办法让页面的隐藏内容向上滑动到页面中？jQuery / JavaScript

> ID：15127538
> 
> 赞同：1
> 
> 时间：2013-02-28T04:29:38.680
> 
> 标签：javascript, jquery, html

基本上，这就是我想要做的。我有内容、表单、页面底部，其显示设置为无。我想要做的是，当有人单击向上箭头（图像图标）时，整个表单将向上滑动进入视图并变得可见，而如果他们再次单击箭头，它将返回表单以向下滑动并且将其显示设置回无。这就是我到目前为止所拥有的。

```
<div class="hidden_panel_wrapper">
<div class="hidden_panel_icon"> <img id="hidden_panel_icon" src="thumbnails/up_arrow.png"> </div>
<div class="hidden_panel hide" id="hidden_panel">
<div class="hidden_panel_form">
<form name="newsletter_subscribe" method="post" action="subscribe_success.php">
<input class="text_input" type="email" placeholder="Type E-Mail Address" name="email">
<input type="submit" class="button_input" value="Subscribe To Our Newsletter">
</form>
</div>
</div>
</div> 
```

所以我知道要使用滑动切换，向下滑动会将元素显示在视图中，但我不知道如何滑动并将元素显示在视图中。我环顾了一下jquery animate，并没有真正弄清楚，我也只是通过javascript（object.style.top =“-200px”设置新样式，但这并没有真正起作用。简单来说，我需要一个滑动切换，但是我的内容会向上滑动到视图中，然后向下滑动到 display="none"。提前致谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T04:48:36.517

我相信这就是你想要的。[http://jsfiddle.net/bR6Fs/](http://jsfiddle.net/bR6Fs/)

```
$(document).ready(function(e) {
  $(".caption").hide();
});
  var show = function() {
    $(".caption").slideUp(500);
  };  
  var hide = function() {
    $(".caption").slideDown(500);
  };
      $(".featured-image").hover(hide, show); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T04:52:54.667

jQuery 动画加上一些创意应该可以工作。你必须根据你想要的动画类型和你对它去哪里的了解来调整其中的某些部分，但框架应该可以工作。

剧本：

```
//get height of window
var windowHeight = $(window).height();
//difference between window height and desired distance from top, e.g. 200px
var moveDistance = windowHeight - 200;
$('.hidden_panel_wrapper').css({'top' : moveDistance+'px', 'display' : 'block'});
$('.hidden_panel_wrapper').animate({top:0}); 
```

然后将其滑出它基本上是相反的：

```
//get height of window
var windowHeight = $(window).height();
//difference between window height and desired distance from top, e.g. 200px
var moveDistance = windowHeight - 200;
$('.hidden_panel_wrapper').animate({top:moveDistance}).css('display' : 'none'); 
```

也就是说，如果您要制作大量动画并想要一个更大的工具包用于预建功能，您可以谷歌搜索许多 jQuery 插件。

# java - java中的Hoare分区正确性

> ID：15127540
> 
> 赞同：1
> 
> 时间：2013-02-28T04:30:03.860
> 
> 标签：java, quicksort

我正在努力将 Hoare 分区实现为快速排序。我试图完全理解 hoare 分区，但这本书并没有解释一切。主要是我只是想知道 while TRUE 部分是什么意思？本书摘录如下。如果我将 while 部分放在 java 中，我会使用什么，为什么？

```
Hoare-Partition(A,p,r)
    x= A[p]
    i = p-1
    j=r+1
    while true
        repeat
            j=j-1
        until A [j] <= x
        repeat
            i = i +1
        until A[i] >= x
        if i < l
           exchange A[i] with A[j]
        else return j 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T04:48:07.600

为您上面的算法尝试此代码：

```
int HoarePartition (int a[],int p, int r) 
{
    int x=a[p],i=p-1,j=r+1;
    while (true) 
    {
        while (a[j] <= x) j--; 
        while (a[i] >= x) i++;
        if  (i < j) swap(a[i],a[j]);
        else return j;
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-06-26T20:22:58.520

这是一个有效的翻译：

```
 public static void quicksort(int[] ar) {
    if (ar == null) return;
    quicksort(ar, 0, ar.length-1);
  }

  private static void quicksort(int[] ar, int lo, int hi) {
    if (lo < hi) {
      int splitPoint = partition(ar, lo, hi);
      quicksort(ar, lo, splitPoint);
      quicksort(ar, splitPoint+1, hi);
    }
  }

  private static int partition(int[] ar, int lo, int hi) {
    int pivot = ar[lo];
    int i = lo-1, j = hi+1;
    while(true) {
      do { i++; } while(ar[i] < pivot);
      do { j--; } while(ar[j] > pivot);
      if (i < j) swap(ar, i, j);
      else return j;
    }
  }

  private static void swap(int[] ar, int i, int j) {
    int tmp = ar[i];
    ar[i] = ar[j];
    ar[j] = tmp;
  } 
```

# javascript - Firefox 在使用 jquery hide() 时不隐藏潜水

> ID：15127541
> 
> 赞同：1
> 
> 时间：2013-02-28T04:30:08.957
> 
> 标签：javascript, jquery, firefox, dialog, show-hide

所以我试图让 Firefox 在页面加载时隐藏一个 div，但没有取得多大成功。它可以在 Chrome 和 IE 中运行。我的 HTML 看起来像这样

```
<div id="container">
  <iframe src="www.google.com"></iframe>
</div>

<a href="#" id="showBtn">Show</a> 
```

我的 Javascript 看起来像这样

```
$(document).ready(function () {
  $("#container").dialog({ autoOpen: false, Title: "Hello, World!" });
  $("#container").hide(0);

  $("#showBtn").bind("click", function () {
    $("#container").dialog("open");
  });
}); 
```

所以这就是我想要做的。在页面加载时，#container 将被隐藏并一直保持，直到用户单击“显示”按钮。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T07:06:01.643

```
<div id="container">
    <iframe src="http://www.google.com"></iframe>
</div>

<a href="#" id="showBtn">Show</a> 
```

jQuery代码

```
$('#showBtn').click(function () 
{

  $("#container").css("display","");

});

window.load=$("#container").css("display","none"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T04:46:13.267

您不能将谷歌加载到 iframe 中。见： [这里](https://developer.mozilla.org/en-US/docs/HTTP/X-Frame-Options?redirectlocale=en-US&redirectslug=The_X-FRAME-OPTIONS_response_header)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T04:39:25.987

这在 Mac OS X 上的 Firefox 19.0 中运行良好（就像在 Chrome 中一样）。您的问题可能与您尝试放入 iframe 的内容有关。它不适用于谷歌。

[运行 jsfiddle](http://jsfiddle.net/c8n34/)（代码相同，包括 StackOverflow 需要它）：

```
$(document).ready(function () {
  $("#container").dialog({ autoOpen: false, Title: "Hello, World!" });
  $("#container").hide(0);

  $("#showBtn").bind("click", function () {
    $("#container").dialog("open");
  });
}); 
```

Google 无法在 iframe 中运行的原因：[如何在 iframe 中显示 google.com？](https://stackoverflow.com/questions/8700636/how-to-show-google-com-in-an-iframe).

您可能会发现，`hide`如果`0`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T04:41:29.550

As @EnterJQ pointed out, hide() without parameter solved the problem!

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-28T04:50:07.703

这样做

```
<div id="container" class="display-none">
  <iframe src="www.google.com"></iframe>
</div>

<a href="#" id="showBtn">Show</a> 
```

css

```
.display-none{
display:none;
} 
```

最初，您的 div 将被隐藏，当用户单击显示按钮时，只需切换类。

```
$("#container").toggleClass('display-none'); 
```

希望这可以帮助。

# ssl - 带有 OpenLDAP 和 SSL 的 WSO2 身份服务器

> ID：15127543
> 
> 赞同：1
> 
> 时间：2013-02-28T04:30:15.447
> 
> 标签：ssl, ldap, wso2, openldap, wso2is

我正在尝试设置一个新的 WSO2IS 4.1.0 服务器并将其连接回 OpenLDAP 服务器。我们的服务器需要 SSL 连接。

当我将连接配置为 LDAPS 连接时，我无法验证证书（是的，根 CA 在信任库中）。如果我没有将连接设置为 LDAPS，则它无法尝试 StartTLS。我已经验证我的连接帐户有效，并且 LDAP 服务器具有商业颁发的证书（不要让 example.com 域欺骗你，我擦掉了），其根 CA 列在 client-truststore.jks

任何帮助解决这个问题将不胜感激！

这是我当前的 LDAP 配置配置段

```
<UserStoreManager class="org.wso2.carbon.user.core.ldap.ReadWriteLDAPUserStoreManager">
    <Property name="ConnectionURL">ldaps://ldapserver.example.com:636</Property>
    <!--Property name="ConnectionURL">ldap://ldapserver.example.com:389</Property-->
    <Property name="ConnectionName">uid=wso2,dc=example,dc=com</Property>
    <Property name="ConnectionPassword">awesomepassword</Property>
    <Property name="passwordHashMethod">SHA</Property>
    <Property name="UserNameListFilter">(objectClass=person)</Property>
    <Property name="UserEntryObjectClass">inetOrgPerson</Property>
    <Property name="UserSearchBase">ou=Users,dc=opendaylight,dc=org</Property>
    <Property name="UserNameSearchFilter">(&amp;(objectClass=person)(uid=?))</Property>
    <Property name="UserNameAttribute">uid</Property>
    <Property name="UsernameJavaRegEx">[a-zA-Z0-9._-|//]{3,30}$</Property>
    <Property name="UsernameJavaScriptRegEx">^[\\S]{3,30}$</Property>
    <Property name="RolenameJavaScriptRegEx">^[\\S]{3,30}$</Property>
    <Property name="RolenameJavaRegEx">[a-zA-Z0-9._-|//]{3,30}$</Property>
    <Property name="PasswordJavaScriptRegEx">^[\\S]{5,30}$</Property>
    <Property name="ReadLDAPGroups">true</Property>
    <Property name="WriteLDAPGroups">true</Property>
    <Property name="EmptyRolesAllowed">false</Property>
    <Property name="GroupSearchBase">ou=Groups,dc=example,dc=com</Property>
    <Property name="GroupNameListFilter">(objectClass=groupOfNames)</Property>
    <Property name="GroupEntryObjectClass">groupOfNames</Property>
    <Property name="GroupNameSearchFilter">(&amp;(objectClass=groupOfNames)(cn=?))</Property>
    <Property name="GroupNameAttribute">cn</Property>
    <Property name="MembershipAttribute">member</Property>
    <Property name="UserRolesCacheEnabled">true</Property>
    <Property name="ReplaceEscapeCharactersAtUserLogin">true</Property>
    <Property name="maxFailedLoginAttempt">0</Property>
</UserStoreManager> 
```

这是服务器日志的一部分

```
[2013-02-28 03:48:32,380]  INFO {org.wso2.carbon.core.internal.CarbonCoreActivator} -  Starting WSO2 Carbon...
[2013-02-28 03:48:32,383]  INFO {org.wso2.carbon.core.internal.CarbonCoreActivator} -  Operating System : Linux 2.6.32-358.el6.x86_64, amd64
[2013-02-28 03:48:32,383]  INFO {org.wso2.carbon.core.internal.CarbonCoreActivator} -  Java Home        : /usr/lib/jvm/java-1.7.0-openjdk-1.7.0.9.x86_64/jre
[2013-02-28 03:48:32,383]  INFO {org.wso2.carbon.core.internal.CarbonCoreActivator} -  Java Version     : 1.7.0_09-icedtea
[2013-02-28 03:48:32,383]  INFO {org.wso2.carbon.core.internal.CarbonCoreActivator} -  Java VM          : OpenJDK 64-Bit Server VM 23.7-b01,Oracle Corporation
[2013-02-28 03:48:32,383]  INFO {org.wso2.carbon.core.internal.CarbonCoreActivator} -  Carbon Home      : /opt/wso2is/wso2is
[2013-02-28 03:48:32,384]  INFO {org.wso2.carbon.core.internal.CarbonCoreActivator} -  Java Temp Dir    : /opt/wso2is/wso2is/tmp
[2013-02-28 03:48:32,384]  INFO {org.wso2.carbon.core.internal.CarbonCoreActivator} -  User             : wso2is, en-US, Zulu
[2013-02-28 03:48:32,416]  WARN {org.wso2.carbon.core.bootup.validator.SystemValidator} -  Could not validate the system for configuration parameter : CPU
[2013-02-28 03:48:32,417]  WARN {org.wso2.carbon.core.bootup.validator.util.ValidationResultPrinter} -  Maximum free Disk Space (MB): 665 of the system is below the recommended minimum size :1024
[2013-02-28 03:48:32,427]  INFO {org.wso2.carbon.databridge.agent.thrift.AgentHolder} -  Agent created !
[2013-02-28 03:48:32,446]  INFO {org.wso2.carbon.databridge.agent.thrift.internal.AgentDS} -  Successfully deployed Agent Client
[2013-02-28 03:48:32,515]  INFO {org.wso2.carbon.identity.authenticator.iwa.ui.internal.Activator} -  Integrated Windows Authenticator enabled in the system
[2013-02-28 03:48:32,581]  INFO {org.wso2.carbon.ldap.server.DirectoryActivator} -  Embedded LDAP is disabled.
[2013-02-28 03:48:34,547] ERROR {org.wso2.carbon.user.core.ldap.LDAPConnectionContext} -  Error obtaining connection. simple bind failed: ldapserver.example.com:636
javax.naming.CommunicationException: simple bind failed: ldapserver.example.com:636 [Root exception is javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target]
    at com.sun.jndi.ldap.LdapClient.authenticate(LdapClient.java:215)
    at com.sun.jndi.ldap.LdapCtx.connect(LdapCtx.java:2740)
    at com.sun.jndi.ldap.LdapCtx.<init>(LdapCtx.java:316)
    at com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(LdapCtxFactory.java:193)
    at com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(LdapCtxFactory.java:211)
    at com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(LdapCtxFactory.java:154)
    at com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(LdapCtxFactory.java:84)
    at org.wso2.carbon.context.internal.CarbonContextDataHolder$CarbonInitialJNDIContextFactory.getInitialContext(CarbonContextDataHolder.java:834)
    at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:684)
    at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:307)
    at javax.naming.InitialContext.init(InitialContext.java:242)
    at javax.naming.InitialContext.<init>(InitialContext.java:216)
    at javax.naming.directory.InitialDirContext.<init>(InitialDirContext.java:101)
    at org.wso2.carbon.user.core.ldap.LDAPConnectionContext.getContext(LDAPConnectionContext.java:114)
    at org.wso2.carbon.user.core.ldap.ReadWriteLDAPUserStoreManager.<init>(ReadWriteLDAPUserStoreManager.java:133)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:525)
    at org.wso2.carbon.user.core.common.DefaultRealm.createObjectWithOptions(DefaultRealm.java:225)
    at org.wso2.carbon.user.core.common.DefaultRealm.initializeObjects(DefaultRealm.java:147)
    at org.wso2.carbon.user.core.common.DefaultRealm.init(DefaultRealm.java:113)
    at org.wso2.carbon.user.core.common.DefaultRealmService.initializeRealm(DefaultRealmService.java:223)
    at org.wso2.carbon.user.core.common.DefaultRealmService.<init>(DefaultRealmService.java:103)
    at org.wso2.carbon.user.core.common.DefaultRealmService.<init>(DefaultRealmService.java:116)
    at org.wso2.carbon.user.core.internal.Activator.startDeploy(Activator.java:67)
    at org.wso2.carbon.user.core.internal.BundleCheckActivator.start(BundleCheckActivator.java:61)
    at org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(BundleContextImpl.java:711)
    at java.security.AccessController.doPrivileged(Native Method)
    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:702)
    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:683)
    at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:381)
    at org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(AbstractBundle.java:389)
    at org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:1130)
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:559)
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:544)
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(StartLevelManager.java:457)
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:243)
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:438)
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:1)
    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)
    at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)
Caused by: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target
    at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)
    at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1886)
    at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:276)
    at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:270)
    at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1341)
    at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:153)
    at sun.security.ssl.Handshaker.processLoop(Handshaker.java:868)
    at sun.security.ssl.Handshaker.process_record(Handshaker.java:804)
    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1016)
    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1312)
    at sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:882)
    at sun.security.ssl.AppInputStream.read(AppInputStream.java:102)
    at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)
    at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)
    at java.io.BufferedInputStream.read(BufferedInputStream.java:334)
    at com.sun.jndi.ldap.Connection.run(Connection.java:849)
    at java.lang.Thread.run(Thread.java:722)
Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target
    at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:385)
    at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:292)
    at sun.security.validator.Validator.validate(Validator.java:260)
    at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:326)
    at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)
    at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:126)
    at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1323)
    ... 12 more
Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target
    at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:196)
    at java.security.cert.CertPathBuilder.build(CertPathBuilder.java:268)
    at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:380)
    ... 18 more
[2013-02-28 03:48:34,556] ERROR {org.wso2.carbon.user.core.ldap.LDAPConnectionContext} -  Trying again to get connection. 
```

如果我将它切换到普通的 ldap connectionURL，这就是我得到的

```
[2013-02-28 04:22:21,491]  INFO {org.wso2.carbon.core.internal.CarbonCoreActivator} -  Starting WSO2 Carbon...
[2013-02-28 04:22:21,494]  INFO {org.wso2.carbon.core.internal.CarbonCoreActivator} -  Operating System : Linux 2.6.32-358.el6.x86_64, amd64
[2013-02-28 04:22:21,494]  INFO {org.wso2.carbon.core.internal.CarbonCoreActivator} -  Java Home        : /usr/lib/jvm/java-1.7.0-openjdk-1.7.0.9.x86_64/jre
[2013-02-28 04:22:21,494]  INFO {org.wso2.carbon.core.internal.CarbonCoreActivator} -  Java Version     : 1.7.0_09-icedtea
[2013-02-28 04:22:21,494]  INFO {org.wso2.carbon.core.internal.CarbonCoreActivator} -  Java VM          : OpenJDK 64-Bit Server VM 23.7-b01,Oracle Corporation
[2013-02-28 04:22:21,494]  INFO {org.wso2.carbon.core.internal.CarbonCoreActivator} -  Carbon Home      : /opt/wso2is/wso2is
[2013-02-28 04:22:21,494]  INFO {org.wso2.carbon.core.internal.CarbonCoreActivator} -  Java Temp Dir    : /opt/wso2is/wso2is/tmp
[2013-02-28 04:22:21,494]  INFO {org.wso2.carbon.core.internal.CarbonCoreActivator} -  User             : wso2is, en-US, Zulu
[2013-02-28 04:22:21,524]  WARN {org.wso2.carbon.core.bootup.validator.SystemValidator} -  Could not validate the system for configuration parameter : CPU
[2013-02-28 04:22:21,525]  WARN {org.wso2.carbon.core.bootup.validator.util.ValidationResultPrinter} -  Maximum free Disk Space (MB): 665 of the system is below the recommended minimum size :1024
[2013-02-28 04:22:21,541]  INFO {org.wso2.carbon.databridge.agent.thrift.AgentHolder} -  Agent created !
[2013-02-28 04:22:21,562]  INFO {org.wso2.carbon.databridge.agent.thrift.internal.AgentDS} -  Successfully deployed Agent Client
[2013-02-28 04:22:21,624]  INFO {org.wso2.carbon.identity.authenticator.iwa.ui.internal.Activator} -  Integrated Windows Authenticator enabled in the system
[2013-02-28 04:22:22,711]  INFO {org.wso2.carbon.ldap.server.DirectoryActivator} -  Embedded LDAP is disabled.
[2013-02-28 04:22:27,432] ERROR {org.wso2.carbon.user.core.ldap.LDAPConnectionContext} -  Error obtaining connection. [LDAP: error code 13 - confidentiality required]
javax.naming.AuthenticationNotSupportedException: [LDAP: error code 13 - confidentiality required]
    at com.sun.jndi.ldap.LdapCtx.mapErrorCode(LdapCtx.java:3078)
    at com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:3033)
    at com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:2835)
    at com.sun.jndi.ldap.LdapCtx.connect(LdapCtx.java:2749)
    at com.sun.jndi.ldap.LdapCtx.<init>(LdapCtx.java:316)
    at com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(LdapCtxFactory.java:193)
    at com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(LdapCtxFactory.java:211)
    at com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(LdapCtxFactory.java:154)
    at com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(LdapCtxFactory.java:84)
    at org.wso2.carbon.context.internal.CarbonContextDataHolder$CarbonInitialJNDIContextFactory.getInitialContext(CarbonContextDataHolder.java:834)
    at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:684)
    at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:307)
    at javax.naming.InitialContext.init(InitialContext.java:242)
    at javax.naming.InitialContext.<init>(InitialContext.java:216)
    at javax.naming.directory.InitialDirContext.<init>(InitialDirContext.java:101)
    at org.wso2.carbon.user.core.ldap.LDAPConnectionContext.getContext(LDAPConnectionContext.java:114)
    at org.wso2.carbon.user.core.ldap.ReadWriteLDAPUserStoreManager.<init>(ReadWriteLDAPUserStoreManager.java:133)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:525)
    at org.wso2.carbon.user.core.common.DefaultRealm.createObjectWithOptions(DefaultRealm.java:225)
    at org.wso2.carbon.user.core.common.DefaultRealm.initializeObjects(DefaultRealm.java:147)
    at org.wso2.carbon.user.core.common.DefaultRealm.init(DefaultRealm.java:113)
    at org.wso2.carbon.user.core.common.DefaultRealmService.initializeRealm(DefaultRealmService.java:223)
    at org.wso2.carbon.user.core.common.DefaultRealmService.<init>(DefaultRealmService.java:103)
    at org.wso2.carbon.user.core.common.DefaultRealmService.<init>(DefaultRealmService.java:116)
    at org.wso2.carbon.user.core.internal.Activator.startDeploy(Activator.java:67)
    at org.wso2.carbon.user.core.internal.BundleCheckActivator.start(BundleCheckActivator.java:61)
    at org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(BundleContextImpl.java:711)
    at java.security.AccessController.doPrivileged(Native Method)
    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:702)
    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:683)
    at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:381)
    at org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(AbstractBundle.java:389)
    at org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:1130)
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:559)
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:544)
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(StartLevelManager.java:457)
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:243)
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:438)
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:1)
    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)
    at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)
[2013-02-28 04:22:27,437] ERROR {org.wso2.carbon.user.core.ldap.LDAPConnectionContext} -  Trying again to get connection. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T18:43:36.973

尝试将 CA 证书添加到 repository/resources/security/wso2carbon.jks，如果您的证书有任何中间签名者，您可能还需要将整个链作为单个条目导入。

# android - 是否有任何选项可以阻止特定人的消息而不阻止他打电话？

> ID：15127550
> 
> 赞同：0
> 
> 时间：2013-02-28T04:30:44.757
> 
> 标签：android

是否有任何选项可以阻止特定人的消息而不阻止他拨打安卓手机。？此外，发件人是否能够知道他在向其被阻止的电话呼叫/发送消息时被阻止？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T06:09:03.667

试试这个... [Android的短信黑名单阻止垃圾邮件](http://code.google.com/p/sms-blacklist/)

# php - 在 mysql 数据库中存储可以被 JavaScript 和 HTML 读取的特殊字符

> ID：15127552
> 
> 赞同：1
> 
> 时间：2013-02-28T04:30:53.627
> 
> 标签：php, javascript, jquery, html, sql

我将数据存储在可能有一些特殊字符的 MySQL 数据库中。我想知道如何存储它以便保留这些字符，如果它们通过 PHP 或通过 JavaScript 输出到 HTML，例如 createTextNode。

例如，除号 (÷) 具有 html 代码`&#247;`，当我将它存储为它时，它在 PHP 直接放入 HTML 时显示良好，但是当我使用 $.getJSON 将其拉入 JavaScript 然后使用 createTextNode 插入时它看起来像`&#247;`。

我还尝试将符号直接存储在 SQL 中，但我的理解是，需要将该列从 VARCHAR 更改为 NVARCHAR，这会导致似乎没有必要的性能损失。

鉴于我可以修改 SQL、PHP 或 JavaScript，这里有一个简单的修复方法吗？也许是一种在 JavaScript 中对 HTML 实体进行转义的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:40:48.093

As answered by Yogesh, you should switch your collation of the DB to utf8_general_ci

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T04:41:48.787

所以可能有两件事发生：

1.  JSON 转义特殊字符。
2.  在某处，您的代码流中的某些内容也是对字符串进行 URL 编码。

所以你只需要在你的 JavaScript 中解码字符串，或者你需要找到你的代码的哪一部分是对这些字符串进行 URL 编码并修复它。

# iphone - 在选择和取消选择时更改 UITableViewCell 的高度

> ID：15127556
> 
> 赞同：0
> 
> 时间：2013-02-28T04:31:48.770
> 
> 标签：iphone, uitableview

I have a `UITableView`with cells , which on selected shows a popup with "Yes" or "No" confirmation ,When "Yes" is selected , the height of cell should be increased to 100 and its background image should change and if "No" is selected ，什么都不应该发生，它应该保持正常细胞......

同样，如果选择了已选择的单元格，则再次显示“是”或“否”确认弹出窗口。如果选择“是”，则所选单元格应转换为高度为 44 的普通单元格，并删除背景图像。如果选择了“否”，则不会发生任何事情，并且单元格仍然是选定的单元格...

在这种情况下如何处理高度变化和背景图像变化？？？？

```
#import "TableViewController.h"

@interface TableViewController ()

@end

@implementation TableViewController

- (id)initWithStyleUITableViewStyle)style
{
    self = [super initWithStyle:style];
   if (self)
   {
       objects = [NSArray   arrayWithObjects:@"One",@"Two",@"Three",@"Four",@"Five",@"Six",@"Seven",@"Eight",@"Nine",@"       Ten",@"Eleven",@"Twelve",@"Thirteen", nil];
         selectedIndexPath = [[NSIndexPath alloc] init];
  }
   return self;
}

 - (NSInteger)numberOfSectionsInTableViewUITableView *)tableView
{

// Return the number of sections.
    return 1;
 }

 - (NSInteger)tableViewUITableView *)tableView numberOfRowsInSectionNSInteger)section
 {

    // Return the number of rows in the section.
    return [objects count];
 }

 - (UITableViewCell *)tableViewUITableView *)tableView cellForRowAtIndexPathNSIndexPath      *)indexPath
 {
     NSString *CellIdentifier = [NSString stringWithFormat:@"Cell %d",indexPath.row];
     UITableViewCell *cell  = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

    if (cell == nil)
    {
       cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseI  dentifier:CellIdentifier];
       cell.textLabel.text = [objects objectAtIndex:indexPath.row];

       NSLog(@"cell description:- %@",[cell description]);
   }

   return cell;

  }

   - (CGFloat)tableViewUITableView *)tableView heightForRowAtIndexPathNSIndexPath *)indexPath
   {

  //    if (indexPath == selectedIndexPath)
  //    {
  //        return  100 ;
  //    }
  //    if (indexPath == selectedIndexPath)
  //    {
  //        UITableViewCell *c = [self.tableView cellForRowAtIndexPath:indexPath];
  //        CGRect rect = c.frame ;
  //        rect.size.height = 100 ;
  //        c.frame = rect ;
  //        return  100;
  //    }

      return  44;
 }

  -(void)tableViewUITableView *)tableView didSelectRowAtIndexPathNSIndexPath *)indexPath
 {
    if (selectedIndexPath == [self.tableView indexPathForSelectedRow])
     {
         UIAlertView *a = [[UIAlertView alloc] initWithTitle:@"DeSelect" message:@"DeSelect ??" delegate:self cancelButtonTitle:@"NO" otherButtonTitles:@"Yes", nil ];
         [a show];
    }
   else
  {
     UIAlertView *a = [[UIAlertView alloc] initWithTitle:@"Select" message:@"Select ??" delegate:self cancelButtonTitle:@"NO" otherButtonTitles:@"Yes", nil ];
    [a show];
   }
}
 -(void)alertViewUIAlertView *)alertView clickedButtonAtIndexNSInteger)buttonIndex
  {
       if (selectedIndexPath == [self.tableView indexPathForSelectedRow])
     {
         if (buttonIndex==1)
       {
         selectedIndexPath = [NSIndexPath indexPathForRow:-1 inSection:-1];
          // [self tableView:self.tableView heightForRowAtIndexPath:selectedIndexPath];
        //[self.tableView reloadData];
          //[self.tableView reloadRowsAtIndexPaths:[NSArray   arrayWithObject:selectedIndexPath] withRowAnimation:UITableViewRowAnimationFade];
        //[self.tableView beginUpdates];
        //[self.tableView endUpdates];
        [self showForIndexPath:selectedIndexPath];
        [self.tableView beginUpdates];
        [self.tableView endUpdates];

    }
     }
     else
     {
       if (buttonIndex==1)
    {
        selectedIndexPath = [self.tableView indexPathForSelectedRow];
        //[self tableView:self.tableView heightForRowAtIndexPath:selectedIndexPath];
        //[self.tableView reloadData];
       //[self.tableView reloadRowsAtIndexPaths:[NSArray arrayWithObject:selectedIndexPath] withRowAnimation:UITableViewRowAnimationAutomatic];
      // [self.tableView beginUpdates];
     //  [self.tableView endUpdates];
          [self showForIndexPath:selectedIndexPath];
          [self.tableView beginUpdates];
          [self.tableView endUpdates];

      }
    }
    }
    -(void)showForIndexPathNSIndexPath *)indexpath
 {

    UITableViewCell *c = [self.tableView cellForRowAtIndexPath:indexpath];
    CGRect rect = c.frame ;
    rect.size.height = 100 ;
    c.frame = rect ;
    //code to move the cells downward when a cell is selected 
    for(int i = indexpath.row ; i < [objects count];i++)
   {
      NSindexpath *row = [NSIndexPath indexPAthforRow:i+1 in Section:0];
      UITableViewCell *tmp = [self.tableView cellforindexpath:row];
      CGRect frame = tmp.frame;
      CGpoint origin = frame.origin;
      CGFloat y = origin.y ;
      y = y+56; //(100-44)
      origin.y = y ;
      frame.origin = origin ;
      tmp.frame = frame ;
   }

    NSLog(@"Cell %d :- %@ indexpath:- %@",indexpath.row,[c description],indexpath);
 } 
```

PS——您可以通过查看注释的代码来查看我为完成任务所做的尝试

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T05:07:34.043

为是或否保留一个标志，并为选定的行号保留一个索引。

```
 -(CGFloat)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
 {
      if ( flag == 1 && indexpath.row == index )
            return 50;  
      else
            return 30;

 } 
```

当您创建单元格时，也类似地应用您的图像逻辑

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T05:12:31.243

请发布您尝试过的代码。此链接可能会对您有所帮助。 [选中后，您可以为 UITableViewCell 上的高度变化设置动画吗？](https://stackoverflow.com/questions/460014/can-you-animate-a-height-change-on-a-uitableviewcell-when-selected).

使用弹出按钮索引更改变量值并在

```
 -(CGFloat)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
{
//change tablecell height based on variable value
}
    -(void) alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex{
        if (buttonIndex == 0) {

        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T05:23:09.117

为这两种情况创建两个`tableViewCell`。然后在您的`buttonTouch`方法中，使用删除您以前的单元格

```
- (void)deleteRowsAtIndexPaths:(NSArray *)indexPaths withRowAnimation:(UITableViewRowAnimation)animation; 
```

然后添加 newCell 使用：

```
- (void)insertRowsAtIndexPaths:(NSArray *)indexPaths withRowAnimation:(UITableViewRowAnimation)animation; 
```

# ios - 为基于 url 的 QRCode 添加安全层

> ID：15127558
> 
> 赞同：0
> 
> 时间：2013-02-28T04:32:10.380
> 
> 标签：ios, objective-c

我创建了一个用于生成 QRCode 的应用程序，我们可以在其中提供 url 作为其输入。现在我想为那个 url 加入一个安全层。也就是说，在扫描该 url 时，它不应直接重定向到该指定的 url，而是应在重定向之前执行密码验证。

我喜欢生成一个产生输出的应用程序，如[http://www.myqr.co](http://www.myqr.co)所示。那么任何人都可以解释如何做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T03:00:56.947

您不能在 QR 码算法中提供任何安全码。您唯一能做的就是在您的网站中添加此类安全功能，并使您的网站将用户重定向到所需的 url。

# android - BluetoothHeadset：为什么需要使用定时器来调用 startVoiceRecognition？

> ID：15127560
> 
> 赞同：7
> 
> 时间：2013-02-28T04:32:20.923
> 
> 标签：android, bluetooth, bluetooth-sco

我写了一些代码来检测蓝牙耳机连接并通过耳机启动音频。对于 API 11 及更高版本，可以在连接耳机时调用 startVoiceRecognition。所以几个用例如下：

1.  **耳机在应用程序启动之前已打开 应用**
    程序应在启动时检查耳机是否连接并建立音频连接。

2.  **用户在应用程序的生命周期内打开耳机应用**
    程序应注册耳机连接状态的广播，并在接收到连接状态时启动音频连接。

第二个用例有问题。当收到连接状态时，我调用 startVoiceRecognition，但它总是返回 false。所以我必须实现一个计时器，大约一秒钟后，调用将返回 true。我猜操作系统和耳机需要一些时间才能让一切准备就绪。有谁知道如何在不实现计时器的情况下获得耳机音频连接。如果不可能，是否应该由操作系统而不是应用程序来处理这种情况（例如 READY_FOR_AUDIO_CONNECTION 广播）？

以下是 API 11 或更高版本的完整工作代码。

清单权限

```
<uses-permission android:name="android.permission.BLUETOOTH" />
<uses-permission android:name="android.permission.BROADCAST_STICKY" /> 
```

代码

```
public class MainActivity extends Activity
{

    protected TextView mInfoTextview;

    protected BluetoothAdapter mBluetoothAdapter;
    protected BluetoothHeadset mBluetoothHeadset;
    protected BluetoothDevice mConnectedHeadset;

    protected AudioManager mAudioManager;

    private static final String TAG = "Bluetooth Headset"; //$NON-NLS-1$

    @Override
    protected void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);

        setContentView(R.layout.activity_main);
        mInfoTextview = (TextView) findViewById(R.id.main_textview);

        mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();

        if (mBluetoothAdapter != null)
        {
            mAudioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);
            if (mAudioManager.isBluetoothScoAvailableOffCall())
            {
                if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB)
                {
                    mBluetoothAdapter.getProfileProxy(this, mHeadsetProfileListener, BluetoothProfile.HEADSET);
                }
            }
        }
    }

    @Override
    protected void onDestroy()
    {
        super.onDestroy();

        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB)
        {
            if (mBluetoothHeadset != null)
            {
                // Need to call stopVoiceRecognition here when the app
                // change orientation or close with headset still turns on.
                 mBluetoothHeadset.stopVoiceRecognition(mConnectedHeadset);
                 unregisterReceiver(mHeadsetBroadcastReceiver);
                 mCountDown.cancel();
            }
            mBluetoothAdapter.closeProfileProxy(BluetoothProfile.HEADSET, mBluetoothHeadset);
        }
        Log.d(TAG, "onDestroy"); //$NON-NLS-1$
    }

    protected BluetoothProfile.ServiceListener mHeadsetProfileListener = new BluetoothProfile.ServiceListener()
    {

        /**
         * This method is never called, even when we closeProfileProxy on onPause.
         * When or will it ever be called???
         */
        @Override
        public void onServiceDisconnected(int profile)
        {
            Log.d(TAG, "Profile listener onServiceDisconnected"); //$NON-NLS-1$
            mBluetoothHeadset.stopVoiceRecognition(mConnectedHeadset);
            unregisterReceiver(mHeadsetBroadcastReceiver);
            mBluetoothHeadset = null;
        }

        @Override
        public void onServiceConnected(int profile, BluetoothProfile proxy)
        {
            Log.d(TAG, "Profile listener onServiceConnected"); //$NON-NLS-1$

            // mBluetoothHeadset is just a head set profile, 
            // it does not represent a head set device.
            mBluetoothHeadset = (BluetoothHeadset) proxy;

            // If a head set is connected before this application starts,
            // ACTION_CONNECTION_STATE_CHANGED will not be broadcast. 
            // So we need to check for already connected head set.
            List<BluetoothDevice> devices = mBluetoothHeadset.getConnectedDevices();
            if (devices.size() > 0)
            {
                // Only one head set can be connected at a time, 
                // so the connected head set is at index 0.
                mConnectedHeadset = devices.get(0);

                String log;

                // The audio should not yet be connected at this stage.
                // But just to make sure we check.
                if (mBluetoothHeadset.isAudioConnected(mConnectedHeadset))
                {
                    log = "Profile listener audio already connected"; //$NON-NLS-1$     
                }
                else
                {
                    // The if statement is just for debug. So far startVoiceRecognition always 
                    // returns true here. What can we do if it returns false? Perhaps the only
                    // sensible thing is to inform the user.
                    // Well actually, it only returns true if a call to stopVoiceRecognition is
                    // call somewhere after a call to startVoiceRecognition. Otherwise, if 
                    // stopVoiceRecognition is never called, then when the application is restarted
                    // startVoiceRecognition always returns false whenever it is called.
                    if (mBluetoothHeadset.startVoiceRecognition(mConnectedHeadset))
                    {
                        log = "Profile listener startVoiceRecognition returns true"; //$NON-NLS-1$
                    }
                    else
                    {
                        log = "Profile listener startVoiceRecognition returns false"; //$NON-NLS-1$
                    }   
                }

                mInfoTextview.setText("Device name = " + mConnectedHeadset.getName() //$NON-NLS-1$
                                        + "\n\n" + log); //$NON-NLS-1$
                Log.d(TAG, log); 
            }

            // During the active life time of the app, a user may turn on and off the head set.
            // So register for broadcast of connection states.
            registerReceiver(mHeadsetBroadcastReceiver, 
                            new IntentFilter(BluetoothHeadset.ACTION_CONNECTION_STATE_CHANGED));
            // Calling startVoiceRecognition does not result in immediate audio connection.
            // So register for broadcast of audio connection states. This broadcast will
            // only be sent if startVoiceRecognition returns true.
            registerReceiver(mHeadsetBroadcastReceiver, 
                            new IntentFilter(BluetoothHeadset.ACTION_AUDIO_STATE_CHANGED));
        }
    };

    protected BroadcastReceiver mHeadsetBroadcastReceiver = new BroadcastReceiver()
    {

        @Override
        public void onReceive(Context context, Intent intent)
        {
            String action = intent.getAction();
            int state;
            int previousState = intent.getIntExtra(BluetoothHeadset.EXTRA_PREVIOUS_STATE, BluetoothHeadset.STATE_DISCONNECTED);
            String log = ""; //$NON-NLS-1$
            if (action.equals(BluetoothHeadset.ACTION_CONNECTION_STATE_CHANGED))
            {
                state = intent.getIntExtra(BluetoothHeadset.EXTRA_STATE, BluetoothHeadset.STATE_DISCONNECTED);
                if (state == BluetoothHeadset.STATE_CONNECTED)
                {
                    mConnectedHeadset = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);

                    mInfoTextview.append("\n\nDevice name = " + mConnectedHeadset.getName()); //$NON-NLS-1$

                    // Audio should not be connected yet but just to make sure.
                    if (mBluetoothHeadset.isAudioConnected(mConnectedHeadset))
                    {
                        log = "Headset connected audio already connected"; //$NON-NLS-1$
                    }
                    else
                    {
                        // Calling startVoiceRecognition always returns false here, 
                        // that why a count down timer is implemented to call
                        // startVoiceRecognition in the onTick and onFinish.
                        if (mBluetoothHeadset.startVoiceRecognition(mConnectedHeadset))
                        {
                            log = "Headset connected startVoiceRecognition returns true"; //$NON-NLS-1$
                        }
                        else
                        {
                            log = "Headset connected startVoiceRecognition returns false"; //$NON-NLS-1$
                            mCountDown.start();
                        }
                    }
                }
                else if (state == BluetoothHeadset.STATE_DISCONNECTED)
                {
                    // Calling stopVoiceRecognition always returns false here
                    // as it should since the headset is no longer connected.
                    mConnectedHeadset = null;
                }
            }
            else // audio
            {
                state = intent.getIntExtra(BluetoothHeadset.EXTRA_STATE, BluetoothHeadset.STATE_AUDIO_DISCONNECTED);
                if (state == BluetoothHeadset.STATE_AUDIO_CONNECTED)
                {
                    log = "Head set audio connected, cancel countdown timer";  //$NON-NLS-1$
                    mCountDown.cancel();    
                }
                else if (state == BluetoothHeadset.STATE_AUDIO_DISCONNECTED)
                {
                    // The headset audio is disconnected, but calling
                    // stopVoiceRecognition always returns true here.
                    boolean returnValue = mBluetoothHeadset.stopVoiceRecognition(mConnectedHeadset);
                    log = "Audio disconnected stopVoiceRecognition return " + returnValue; //$NON-NLS-1$
                }
            }   

            log += "\nAction = " + action + "\nState = " + state //$NON-NLS-1$ //$NON-NLS-2$
                    + " previous state = " + previousState; //$NON-NLS-1$
            mInfoTextview.append("\n\n" + log); //$NON-NLS-1$
            Log.d(TAG, log);
        }
    };

    protected CountDownTimer mCountDown = new CountDownTimer(10000, 1000)
    {

        @Override
        public void onTick(long millisUntilFinished)
        {
            String log;
            if (mBluetoothHeadset.isAudioConnected(mConnectedHeadset))
            {
                log = "\nonTick audio already connected"; //$NON-NLS-1$
            }
            else
            {
                // First stick calls always returns false. The second stick
                // always returns true if the countDownInterval is set to 1000.
                // It is somewhere in between 500 to a 1000.
                if (mBluetoothHeadset.startVoiceRecognition(mConnectedHeadset))
                {
                    log = "\nonTick startVoiceRecognition returns true"; //$NON-NLS-1$
                }
                else
                {
                    log = "\nonTick startVoiceRecognition returns false"; //$NON-NLS-1$
                }
            }

            mInfoTextview.append(log);
            Log.d(TAG, log);
        }

        @Override
        public void onFinish()
        {
            String log;
            if (mBluetoothHeadset.isAudioConnected(mConnectedHeadset))
            {
                log = "\nonFinish audio already connected"; //$NON-NLS-1$
            }
            else
            {
                if (mBluetoothHeadset.startVoiceRecognition(mConnectedHeadset))
                {
                    log = "\nonFinish startVoiceRecognition returns true"; //$NON-NLS-1$
                }
                else
                {
                    log = "\nonFinish startVoiceRecognition returns false"; //$NON-NLS-1$
                }
            }
            mInfoTextview.append(log);
            Log.d(TAG, log);
        }
    };
} 
```

布局文件

```
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <TextView
        android:id="@+id/main_textview"
        android:layout_width="match_parent"
        android:layout_height="wrap_content" 
        android:textIsSelectable="false" />

</ScrollView> 
```

# ffmpeg - 交叉编译ffmpeg时警告“找不到i686-mingw32-pkg-config，库检测可能失败”

> ID：15127566
> 
> 赞同：4
> 
> 时间：2013-02-28T04:32:55.127
> 
> 标签：ffmpeg, cross-compiling

我在尝试交叉编译 ffmpeg 时收到以下警告，如下所示

```
$ ./configure --enable-gpl --enable-version3 --enable-libgsm --enable-libvorbis --enable-libtheora --enable-libspeex --enable-libmp3lame --enable-libopenjpeg --enable-libopencore_amrwb --enable-libopencore_amrnb --arch=x86 --enable-runtime-cpudetect --enable-static --disable-shared --enable-libxvid --enable-libx264 --target-os=mingw32 --enable-avisynth --enable-w32threads --cross-prefix=i686-mingw32- --cc='i686-mingw32-gcc' --enable-memalign-hack --disable-doc --enable-avfilter --disable-ffplay --disable-ffserver --disable-ffprobe 
```

配置运行良好，但出现以下警告

```
License: GPL version 3 or later
Creating config.mak and config.h...
libavutil/avconfig.h is unchanged

WARNING: i686-mingw32-pkg-config not found, library detection may fail. 
```

我如何提供`i686-mingw32-pkg-config`配置？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-02-16T16:33:41.180

The missing library is located in the package [`mingw-w64-tools`](http://packages.ubuntu.com/trusty/amd64/mingw-w64-tools/filelist).

Install it with

```
sudo apt-get install mingw-w64-tools 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-07-01T20:50:05.083

我正在使用 MinGw64。这是缺少的包：

```
pacman -S mingw-w64-x86_64-toolchain 
```

# xslt - 如何使用xslt从字符串中删除字符？

> ID：15127570
> 
> 赞同：1
> 
> 时间：2013-02-28T04:33:19.340
> 
> 标签：xslt

```
<Scheduled>
 <xsl:value-of select="//RequestParameters/Identifier/DepartureDate">
 </xsl:value-of>
 </Scheduled> 
```

在这个 xslt 代码中，我在“//RequestParameters/Identifier/DepartureDate”中得到最后一个字符为“z”，我想删除 z，请帮助解决这个问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T04:39:54.243

If the value of `//RequestParameters/Identifier/DepartureDate` contains 'z' only at the end, you can use [`substring-before`](http://www.w3.org/TR/xpath/#function-substring-before) function.

```
<xsl:value-of select="substring-before(//RequestParameters/Identifier/DepartureDate, 'z')"> 
```

edit:

If you want to get the first 10 characters of the value, you can use [`substring`](http://www.w3.org/TR/xpath/#function-substring) function.

```
<xsl:value-of select="substring(//RequestParameters/Identifier/DepartureDate, 1, 10)"> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T07:21:47.563

通常，您可能希望通过向 xslt 添加 javascript 函数并将 ISO 8601 日期格式的元素值转换为另一种格式，并在 Xpath 表达式中调用该函数。例如，当您添加了一个 (javascript) 函数`convertToDate`以格式提取输入值的日期部分时`yyyymmdd`，Xpath 表达式

```
convertToDate (//RequestParameters/Identifier/DepartureDate) 
```

将产生一个值

```
20111016 
```

假设输入中只有一个 DepartureDate 元素，具有值

```
2011-10-16T09:40:00.000Z 
```

# java - 如何将 Javascript 中的 Array 改组为与 Java 中的 Collections.shuffle(array, seed) 相同的顺序

> ID：15127574
> 
> 赞同：1
> 
> 时间：2013-02-28T04:33:44.853
> 
> 标签：java, javascript, random, shuffle

我有一个我正在用 Java 编程的游戏，我希望我的网站能够使用用户浏览器中的 Javascript 验证 Java 游戏中使用的随机播放是真实的。

我正在使用 Collections.shuffle(array, seed);

我希望能够向与 javascript 顺序相同的数组提供相同的种子以获得相同的结果。

这是 Java 中 Collections.shuffle 的源代码：

```
public static void shuffle(List<?> list, Random rnd) {
 int size = list.size();
 if (size < SHUFFLE_THRESHOLD || list instanceof RandomAccess) {
     for (int i=size; i>1; i--)
         swap(list, i-1, rnd.nextInt(i));
 } else {
     Object arr[] = list.toArray();

     // Shuffle array
     for (int i=size; i>1; i--)
         swap(arr, i-1, rnd.nextInt(i));

     // Dump array back into list
     ListIterator it = list.listIterator();
     for (int i=0; i<arr.length; i++) {
         it.next();
         it.set(arr[i]);
     }
 }
} 
```

编辑：我还可以为 Java 使用不同的 shuffle mechanizm。只要相同的种子可以用在 Java 和 Javascript 上

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T04:48:39.617

我不相信你可以。

[Java 使用具有 48 位种子的已建立算法](http://docs.oracle.com/javase/7/docs/api/java/util/Random.html)来生成伪随机数。其次，该数字可以用任何其他数字播种以生成另一个模式（并且`Random`使用相同种子的任何两次调用都将生成相同的模式）。

[Javascript 不允许您从 jump 播种随机数](https://stackoverflow.com/questions/521295/javascript-random-seeds)，并且在底层实现的随机数算法[可能与](https://stackoverflow.com/a/2344325/1079354)Java 中使用的算法不同。

虽然我看不到在两个不同的地方执行随机操作的目的，但为什么不将其合并为一个呢？让 Java 处理集合的随机化，并让 Javascript 代替该顺序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T06:18:53.357

使用 md5 哈希算法（或任何其他算法），它应该在任何平台上给出相同的结果。或者发明你自己的哈希函数，但它应该是平均分布的。这是一项非常复杂的任务。哈希函数的结果可以递归地用于获取下一个随机数。这将在任何系统上给出相同的随机数序列。基于其结果实现洗牌算法。可以在 google 中找到 Shuffle 算法的实现。

# javascript - 如何防止 dojo Select 上的事件 OnChange

> ID：15127575
> 
> 赞同：0
> 
> 时间：2013-02-28T04:33:46.670
> 
> 标签：javascript, dojo

我正在进行本地化并使用 cookie 来存储语言。我有一个`Select`：

```
var select = new dijit.form.Select({
    name: "languageSelect",
    onChange: function (value) {
        changeLanguage(value);
    }
}, "languageSelect"); 
```

在`onChange`事件中，将调用方法`changeLanguage`：

```
 var changeLanguage = function (language) {
    $.ajax({
        type: "PUT",
        url: "/api/accounts/changelanguage?language=" + language,
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function (data) {
            window.location.reload(false);
        }
    });
}; 
```

此方法对服务器进行 ajax 调用，然后重新加载页面。

问题是：在页面加载时，我需要读取`language`用户之前选择的 cookie 并将其设置为`Select`：

```
select.set("value", readCookie("language")); 
```

但是，这`set`会导致事件`OnChange`触发，然后重新加载我一开始不想要的页面。我尝试使用如下所示的一个标志，但没有成功：

```
var select = new dijit.form.Select({
    name: "languageSelect",
    style: { width: '200px' },
    onChange: function (value) {
        if (isLoading == false)
            changeLanguage(value);
    }
}, "languageSelect");

var isLoading = true;
select.set("value", readCookie("language"));
isLoading = false; 
```

无论如何要解决它，我正在考虑防止事件`OnChange`触发`set`方法，但还没有找到如何去做。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-28T04:51:39.587

尝试添加`false`，例如：

```
select.set("value", readCookie("language")); 
```

到

```
select.set("value", readCookie("language"), false); 
```

`false``set()`在将阻止`onChange`事件的方法末尾标记。

# ruby-on-rails - 如何在omnicontacts中仅使用没有密码的邮件地址导入gmail联系人

> ID：15127581
> 
> 赞同：1
> 
> 时间：2013-02-28T04:34:10.750
> 
> 标签：ruby-on-rails, omniauth, google-contacts-api

我想只使用电子邮件地址而不是密码来导入 gmail 联系人。在 google api 中是否有机会像 facebook graph api 一样在没有用户密码且仅使用 fb 用户名的情况下提供提要。

这有意义吗？

请帮助我有想法的人。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-21T01:03:36.993

我假设您正在使用 ruby​​ on rails。您可以查看联系人 gem

[https://github.com/mislav/contacts](https://github.com/mislav/contacts)

这允许您从您的 Web 应用程序中获取用户的联系人列表，而无需要求他们提供密码，但您必须向 google 注册您的应用程序。你使用它的方式类似于 Facebook graph api。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-18T04:02:57.607

gmail 和 yahoo 也有相当不错的 gem [https://github.com/Diego81/omnicontacts](https://github.com/Diego81/omnicontacts)

# matlab - 矩阵维度必须同意matlab中的错误？

> ID：15127584
> 
> 赞同：0
> 
> 时间：2013-02-28T04:34:27.610
> 
> 标签：matlab, matrix

我已经为我的程序调整了一些现有代码，但我遇到了一个我不知道原因的错误。我有具有 N 个观察值的数据，我的目标是将数据分解为越来越小的子样本，并对每个子样本进行计算。为了确定子样本大小将如何变化，程序找到 N 的除数并将其存储到数组 OptN 中。

```
dmin = 2;
% Find  OptN such that it has the largest number of 
% divisors among all natural numbers in the interval [0.99*N,N] 
N = length(x); 
N0 = floor(0.99*N);
dv = zeros(N-N0+1,1);
for i = N0:N,
    dv(i-N0+1) = length(divisors(i,dmin));
end
OptN = N0 + find(max(dv)==dv) - 1;
% Use the first OptN values of x for further analysis
x = x(1:OptN);
% Find the divisors >= dmin for OptN
d = divisors(OptN,dmin);  

function d = divisors(n,n0)
% Find all divisors of the natural number N greater or equal to N0
i = n0:floor(n/2);
d = find((n./i)==floor(n./i))' + n0 - 1; % Problem line 
```

在函数除数中是问题发生的地方。我有“使用错误。/矩阵尺寸必须一致。” 但是，这适用于长度为 60 的输入数据，但是当我尝试长度为 1058 的数据时，它给了我上述错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T04:41:28.077

我认为对于大型数据集，可能`find(max(dv)==dv)`会返回多个数字。所以`OptN`将成为一个向量，而不是一个标量。

那么`i`(BTW 不是 MATLAB 中变量的好名称，它也是一个复数 i) 的长度将是不可预测的，并且可能与`n`在下一条语句中导致尺寸错误不同。

您可以尝试`find(max(dv)==dv,1)`只获得第一个匹配项。或者添加一个循环。

# c# - 确定按下的键是 WinRT 中的数字

> ID：15127587
> 
> 赞同：1
> 
> 时间：2013-02-28T04:34:37.300
> 
> 标签：c#, events, windows-runtime, winrt-xaml

我正在开发一个 WinRT 应用程序，我已经覆盖了具有 KeyRoutedEventArgs 的 OnKeyDown 方法。

当我尝试从参数说 args.key 中获取密钥时，我得到 Numpad4、Numpad5（如果按下 Numpad）或 Number4、Number5 in Numbers are Pressed。

如何以最好的方式只获得数字 4 或 5？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T04:44:59.103

基于[http://msdn.microsoft.com/en-au/library/windows/apps/windows.system.virtualkey](http://msdn.microsoft.com/en-au/library/windows/apps/windows.system.virtualkey)

```
int number = -1 ; //invalid value 
if (event.Key >= VirtualKey.Number0 && event.Key <= VirtualKey.Number9)
{
   number = event.Key-VirtualKey.Number0;
}
if (event.Key >= VirtualKey.NumberPad0 && event.Key <= VirtualKey.NumberPad9)
{
   number = event.Key-VirtualKey.NumberPad0 ;
}
if(number!=-1)
{
     //enter code here
} 
```

# sql - 如何将一列添加到表中所有行的另一列？

> ID：15127590
> 
> 赞同：0
> 
> 时间：2013-02-28T04:34:48.800
> 
> 标签：sql, postgresql

给定如下表。我想将列 escrow1 中的所有值移动并添加到它对应的 uid 的 balance1 中。并且喜欢 escrow2 到 balance2。所以在下面的情况下。uid 4 的行余额为 1858000+42000，uid 3 的行余额 1 = 1859265+30735 和 escrow1 = 0，uid 2 的行余额 2 = 940050+1050000 和 escrow2 = 0。其他是一样的。是否可以在一个查询中执行此操作？我一直在努力，但我想不出一个解决方案，所以我可能不得不在一个函数中执行它并循环所有行，但我不希望这样做。另外我知道只有少量行的托管值不等于 0。鉴于此，有没有办法优化查询？

```
 uid | balance1 | escrow1 | balance2 | escrow2 
-----+----------+---------+----------+---------
   1 |     5000 |       0 |        0 |       0
   9 |     5000 |       0 |        0 |       0
   6 |  1900000 |       0 |  1899960 |       0
   5 |  1900000 |       0 |  1900000 |       0
   7 |  1900000 |       0 |  1900000 |       0
   8 |  1900000 |       0 |  1900000 |       0
   4 |  1858000 |   42000 |  1900014 |       0
   2 |  1910000 |       0 |   940050 | 1050000
   3 |  1859265 |   30735 |  1895050 |       0 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T04:48:52.523

如果您只想从表中选择数据，请使用 Greg 提供的查询。如果您想更新表本身，以下查询可以提供帮助。

```
Update TABLENAME
     Set Balance1 = Balance1 + Escrow1,
         Balance2 = Balance2 + Escrow2,
         Escrow1 = 0, Escrow2 = 0 
```

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T04:44:35.097

我认为这很简单：

```
SELECT uid
      ,Balance1 + Escrow1 AS Balance1
      ,Balance2 + Escrow2 AS Balance2
FROM   TableName 
```

在优化方面，我对 Postgre 做的不多，但我怀疑你需要做任何优化（假设你有正确的主键等）

# jsplumb - Jsplumb拖动连接到顶部不会创建滚动

> ID：15127592
> 
> 赞同：1
> 
> 时间：2013-02-28T04:34:58.453
> 
> 标签：jsplumb

将 jsplumb 连接拖到浏览器顶部时如何创建滚动？我在网上搜索但找不到创建卷轴的解决方案。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T14:51:35.100

**[点击这里查看演示](http://jsfiddle.net/XbcZv/14/)**

**JSPlumb 或 JQuery**

```
<script>

    var targetDropOptions = {

    };

    connectorHoverStyle = {
        lineWidth: 7,
        strokeStyle: "#2e2aF8",
        cursor: 'pointer'
    }

    //Setting up a Target endPoint
    var targetColor = "#316b31";
    var targetEndpoint = {
        anchor: "LeftMiddle",
        endpoint: ["Dot", { radius: 8}],
        paintStyle: { fillStyle: targetColor },
        //isSource: true, 
        scope: "green dot",
        connectorStyle: { strokeStyle: targetColor, lineWidth: 8 },
        connector: ["Flowchart", { curviness: 63}],
        maxConnections: 1,
        isTarget: true,
        dropOptions: targetDropOptions,
        connectorHoverStyle: connectorHoverStyle
    };

    //Setting up a Source endPoint
    var sourceColor = "#ff9696";
    var sourceEndpoint = {
        anchor: "RightMiddle",
        endpoint: ["Dot", { radius: 8}],
        paintStyle: { fillStyle: sourceColor },
        isSource: true,
        scope: "green dot",
        connectorStyle: { strokeStyle: sourceColor, lineWidth: 4 },
        connector: ["Flowchart", { curviness: 63}],
        maxConnections: 1,
        //            isTarget: true,
        dropOptions: targetDropOptions,
        connectorHoverStyle: connectorHoverStyle
    };
    jsPlumb.bind("ready", function () {

        jsPlumb.animate($("#A"), { "left": 50, "top": 100 }, { duration: "slow" });
        jsPlumb.animate($("#B"), { "left": 300, "top": 100 }, { duration: "slow" });
        var window = jsPlumb.getSelector('.window');
        jsPlumb.addEndpoint(window, targetEndpoint);
        jsPlumb.addEndpoint(window, sourceEndpoint);

        jsPlumb.draggable(window);

    });

</script> 
```

**HTML**

```
<div id="A" class="a window" 
    style="width: 100px; height: 100px; border: solid 1px;">
    <strong>A</strong>
</div>
<div id="B" class="b window" 
    style="width: 100px; height: 100px; border: solid 1px;">
    <strong>B</strong>
</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T09:06:44.663

在我的例子中，我有一个属性为 position:relative 和 overflow:scroll 的 div，其中的所有形状都可以上下滚动。我希望能帮助你。

# css - 浏览器在小分辨率下如何显示轨道箭头？

> ID：15127593
> 
> 赞同：1
> 
> 时间：2013-02-28T04:34:58.690
> 
> 标签：css, zurb-foundation

我正在处理一个使用 Zurb 基金会的项目。

我现在有一个问题，当浏览器处于小分辨率时如何显示箭头？

当屏幕尺寸小于断点时，它总是消失。

即使视图变小，我也想使用直接导航。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T13:21:40.207

可能不是最优雅的解决方案（在理想的世界中，您会找到并编辑此行为的来源而不是推翻它），但对于简单的修复，请将其添加到您的 css 或添加到foundation.css中的现有媒体查询中，围绕行1052：

```
@media only screen and (max-width: 767px) {       
   .orbit-wrapper .slider-nav {  
       display: block !important; 
    }
} 
```

基础构建：3.5.2

轨道版本：1.4.0

# c++ - 使用上限和下限在 C++ 映射中找到正确的条目

> ID：15127599
> 
> 赞同：1
> 
> 时间：2013-02-28T04:35:48.003
> 
> 标签：c++, map

我正在尝试`C++` `map`通过使用`upper_bound`函数来优化我的搜索： The `map`is the variable `table`：

```
Foo& search(uint64 id, uint64 hash) {

   std::map<std::pair<uint64, uint64>, Foo>::const_iterator iter;

   std::pair<uint64, uint64> key(id, hash);
   iter = table.upper_bound(key);
   // for completeness I search for those elements which may be a match
   // they may fall into a different hash range

   for( ; iter != table.end() || iter != table.begin(); --iter ) {
         const Foo foo = iter->second;
         if(foo.id() == foo.first_hash() <= hash &&
            hash <= foo.second_hash()) {
            if( foo.state() == NORMAL) {
                   return foo;
            }
            else {
            // do something else
            }
        }
   } 
```

但是，当我执行程序时它只是挂起......看起来搜索根本不起作用，而且我没有日志告诉我错误在哪里......我在这里做错了什么？当我进行线性搜索时，它工作正常，但现在当我尝试改进算法时它失败了......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T04:38:22.313

你的循环条件

```
for( ; iter != table.end() || iter != table.begin(); --iter ) 
```

是无限循环的来源，因为它始终是正确的。

从评论来看，您想要做的是使用反向迭代器：

```
 map<int,int> a;
   for (int i = 0; i < 100; i++) {
      a[i] = 2*i;
   }
   auto it = a.upper_bound(5);
   reverse_iterator<map<int,int>::iterator> rev_it (it);
   for (; rev_it != a.rend(); rev_it++) {
      cout << rev_it->first;
   } 
```

这将打印`543210`.

# c++ - 调用回文函数后得到空行

> ID：15127608
> 
> 赞同：0
> 
> 时间：2013-02-28T04:36:54.160
> 
> 标签：c++, getline, palindrome

所以我在我的程序顶部有这两个函数：

```
string deletespaces(string sentence){
    sentence.erase(std::remove(sentence.begin(), sentence.end(), ' '), sentence.end());
    return sentence;
} 
```

和

```
string checkpalindrome(string sentence){
    deletespaces(sentence);
    if (sentence == string(sentence.rbegin(), sentence.rend())){
        cout << sentence << " is a palindrome." << endl;
    }
    if(sentence != string(sentence.rbegin(), sentence.rend())){
        cout << sentence << " isn't a palindrome." << endl;
    }
} 
```

这是我的主要代码。

```
int main(){
    int x = 1;
    string originalsentence;

    while (x == 1) {
        int a = 1;
        int input;
        string sentence;
        cout << "Press 1 to reverse a string, 2 to check a palindrome, and anything else to quit: ";
        cin >> input;

        if(input == 1) {
            cout << "Enter a sentence to reverse: ";
            cin.ignore();
            getline(cin,originalsentence);
            originalsentence = sentence;
            cout << string(sentence.rbegin(), sentence.rend()) << endl;
        }

        if(input == 2) {
            cout << "Enter a sentence to check: ";
            cin.ignore();
            getline(cin,originalsentence);
            originalsentence = sentence;
            checkpalindrome(sentence);
        }

        cout << "Hit 1 if you want to continue, anything else to quit: ";
        cin >> x;
    }
} 
```

所以这是我的问题。我可以选择是否反转字符串或检查字符串是否为回文。但是，当我尝试反转字符串时，它只是给出一个空行，然后询问我是否要继续。当我要求检查回文时，无论我输入什么，它都会简单地说“是回文”。有任何想法吗？

# php - XML 中 CDATA 中的 JSON - 适用于 localhost（WAMP），但不适用于托管（LINUX）

> ID：15127610
> 
> 赞同：0
> 
> 时间：2013-02-28T04:37:06.253
> 
> 标签：php, javascript, xml, linux, json

PHP

```
echo '<data><![CDATA[ [{"x":0,"y":0,"src":"images/image.jpg"}]  ]]></data>'; 
```

JS

```
$.post( 'getData.php', {}, _onResult );

_onResult = function( result)
{
    console.log(result); 
} 
```

上面的 console.log 输出：

（在本地主机上，使用 WAMP）：

```
<data><![CDATA[ [{"x":0,"y":0,"src":"images/image.jpg/"}]  ]]></data> 
```

（在虚拟主机上，使用 LINUX）：

```
<data><![CDATA[ [{"/x/":0,/"y/":0,/"src/":/"images/image.jpg/"}]  ]]></data> 
```

在第二种情况下如何获得相同的输出？

或者

我可以以某种方式将第二个输出转换为能够用 $.parseJSON 解析它吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T05:05:21.037

你的剧本没问题。。

```
var xml = "<data>\
        <![CDATA[ [{\"x\":0,\"y\":0,\"src\":\"images/image.jpg\"}]  ]]>\
    </data>";
var dataXML = $.parseXML(xml);
var json = $(dataXML).find('data').text();

console.log(json); // outputs [{"x":0,"y":0,"src":"images/image.jpg"}] 
```

这一行也没有错误

```
var json = JSON.parse(json); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T06:15:20.630

问题可能与浏览器或 HTTP 服务器读取 XML 数据有关，但出于安全原因未将其自动解析为 JSON 对象。不管是什么原因，这条线（假设自动转换）失败：

```
 var json = $(dataXML).find('data').text(); 
```

相反，用这个改变它：

```
 var json = $.parseJSON($(dataXML).find('data').text()); // i think you can use $.parse() too. 
```

这个问题之前在两个平台的各种场合都出现过几次，我认为不是一个稳定的事情。然而，由于浏览器（或 JS 解释器）无法“检测到”它实际上是一个 JSON 对象（在 XML 中），如果你想建立你的东西的类型安全，你必须明确定义它是这样的（这是一种很好的编程方法）。

PS：“localhost”在安全性方面非常灵活，所以我建议不要太依赖它:)

# c - 使用 Zeller's Congruence 确定星期几

> ID：15127615
> 
> 赞同：4
> 
> 时间：2013-02-28T04:37:28.663
> 
> 标签：c, date, dayofweek

[我尝试使用Zeller's Congruence](http://en.wikipedia.org/wiki/Zeller%27s_congruence)编写代码以查找给定日期的星期几，但我没有得到正确的输出。我的代码有什么问题？

```
#include <stdio.h>
#include <math.h>
int main()
{
  int h,q,m,k,j,day,month,year;
  printf("Enter the date (dd/mm/yyyy)\n");
  scanf("%i/%i/%i",&day,&month,&year);
  if(month == 1)
  {
    month = 13;
    year--;
  }
  if (month == 2)
  {
    month = 14;
    year--;
  }
  q = day;
  m = month;
  k = year % 100;
  j = year / 100;
  h = q + floor(13/5*(m+1)) + k + floor(k/4) +  floor(j/4) + 5 * j;
  h = h % 7;
  switch(h)
  {
    case 0 : printf("Saturday.\n"); break;
    case 1 : printf("Sunday.\n"); break;
    case 2 : printf("Monday. \n"); break;
    case 3 : printf("Tuesday. \n"); break;
    case 4 : printf("Wednesday. \n"); break;
    case 5 : printf("Thurday. \n"); break;
    case 6 : printf("Friday. \n"); break;
  }
  return 0;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T04:57:58.577

这是一个工作版本：

```
#include <stdio.h>
#include <math.h>
int main()
{
  int h,q,m,k,j,day,month,year;
  printf("Enter the date (dd/mm/yyyy)\n");
  scanf("%i/%i/%i",&day,&month,&year);
  if(month == 1)
  {
    month = 13;
    year--;
  }
  if (month == 2)
  {
    month = 14;
    year--;
  }
  q = day;
  m = month;
  k = year % 100;
  j = year / 100;
  h = q + 13*(m+1)/5 + k + k/4 + j/4 + 5*j;
  h = h % 7;
  switch(h)
  {
    case 0 : printf("Saturday.\n"); break;
    case 1 : printf("Sunday.\n"); break;
    case 2 : printf("Monday. \n"); break;
    case 3 : printf("Tuesday. \n"); break;
    case 4 : printf("Wednesday. \n"); break;
    case 5 : printf("Thurday. \n"); break;
    case 6 : printf("Friday. \n"); break;
  }
  return 0;
} 
```

[现场演示](http://ideone.com/CkDGvY)。

关键是在你的`h`公式中：`13/5*(m+1)`. 这是使用整数除法，它`13/5`首先计算，所以结果等价于`2*(m+1)`。左右交换，`5`结果`(m+1)`将是正确的。

顺便说一句，如果 1 月/2 月，您确实需要减少年份，正如 wiki 文章所解释的那样。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-12-13T12:29:29.900

为什么要包括“h= year % 100”和“j= year / 100”？？？？？？

```
#include <stdio.h>
#include <math.h>
int main()
{
  int h,q,m,k,j,day,month,year;
  printf("Enter the date (dd/mm/yyyy)\n");
  scanf("%i/%i/%i",&day,&month,&year);
  if(month == 1)
  {
    month = 13;
    year--;
  }
  if (month == 2)
  {
    month = 14;
    year--;
  }
  q = day;
  m = month;
  k = year % 100;
  j = year / 100;
  h = q + 13*(m+1)/5 + k + k/4 + j/4 + 5*j;
  h = h % 7;
  switch(h)
  {
    case 0 : printf("Saturday.\n"); break;
    case 1 : printf("Sunday.\n"); break;
    case 2 : printf("Monday. \n"); break;
    case 3 : printf("Tuesday. \n"); break;
    case 4 : printf("Wednesday. \n"); break;
    case 5 : printf("Thurday. \n"); break;
    case 6 : printf("Friday. \n"); break;
  }
  return 0;
} 
```

# c++ - 发送批量消息时出现 BOOST::async_wait 错误

> ID：15127617
> 
> 赞同：1
> 
> 时间：2013-02-28T04:37:34.600
> 
> 标签：c++, sockets, boost, boost-asio

在我的应用程序中，我发送和接收大量消息并充当服务器。同时，我检查客户端的会话超时。当我不在我的应用程序中使用时，我的程序运行良好`async_wait`。但是当我使用时，`async_wait`我的应用程序在发送和接收大约 100,000 - 200,000 条消息并出现以下错误后崩溃。

```
"terminate called after throwing an instance of 'boost::exception_detail::
clone_impl<boost::exception_detail::error_info_injector<boost::system::system_error> >' what():  asio.ssl error" 
```

每当服务器从客户端收到任何消息时，它都会调用`start()`.

```
 void Connection::start()
  {
   this->resetTimer();

   memset(_messageHeader.c_array(), 0, 8);
    boost::asio::async_read(_socket,
        boost::asio::buffer(_messageHeader, 8),
        _strand.wrap(
          boost::bind(
            &Connection::handleRead,
            shared_from_this(),
            boost::asio::placeholders::error,
            boost::asio::placeholders::bytes_transferred
            )
          )
        );
  }

   void Connection::handleRead(const boost::system::error_code& e,
      std::size_t bytesTransferred)
    {
     if (!e) {

      BOOST_STATIC_ASSERT( sizeof(MessageHeader) == 8 );

      Message message ;
      message.header.fromString(
          std::string(_messageHeader.data(),
            sizeof(MessageHeader)
            )
          );
      uint32_t type = message.header.type;
      uint32_t length = message.header.length;

      boost::asio::async_read(_socket,
          boost::asio::buffer(_buffer, message.header.length),
          _strand.wrap(
            boost::bind(
              &Connection::messageRead,
              shared_from_this(),
              boost::asio::placeholders::error,
              boost::asio::placeholders::bytes_transferred,
              type,
              length
              )
            )
          );
         }
    else {
      this->close();
    }
  }

void Connection::messageRead(const boost::system::error_code& e,
    std::size_t bytesTransferred, uint32_t type, uint32_t length)
{
  if (!e) {

    Message message;

    message.header.type = type;
    message.header.length = length;

    message.body = std::string(_buffer.data(), message.header.length);
    memset(_buffer.c_array(), 0, message.header.length);

    _timeoutCount = 0;

     this->start();
  }
  else {
    this->close();
  }
}

 void Connection::sendResponse(const Message& response)
 {
   std::string stringToSend(response.toString());

   boost::system::error_code error;
   boost::asio::ip::tcp::endpoint endpoint = socket().remote_endpoint(error);

   if ( error ) {
     this->close();
   }

   _strand.post(
       boost::bind(
         &CclConnection::writeImpl,
         shared_from_this(),
         stringToSend
         )
       );
 }

 void Connection::writeImpl(const std::string &message)
 {
   _outbox.push_back( message );
   if ( _outbox.size() > 1 ) {
     return;
   }
   this->write();
 }

 void Connection::write()
 {
   const std::string& message = _outbox[0];
   boost::asio::async_write(
       _socket,
       boost::asio::buffer( message.c_str(), message.size() ),
       _strand.wrap(
         boost::bind(
           &Connection::writeHandler,
           shared_from_this(),
           boost::asio::placeholders::error,
           boost::asio::placeholders::bytes_transferred
           )
         )
       );
 }

 void Connection::writeHandler(
     const boost::system::error_code& e,
     const size_t bytesTransferred
     )
 {
   _outbox.pop_front();

   if ( e ) {
     this->close();
   }
   if ( !_outbox.empty() ) {
     this->write();
   }
 }

 // close connection
 void Connection::close()
 {
   boost::system::error_code ignoredCode;
   socket().shutdown(boost::asio::ip::tcp::socket::shutdown_both,
       ignoredCode);
   }

 void Connection::resetTimer()
 {
   if (Context::getSessionTimeout() > 0)
   {
     // timer of 10 seconds
     _timer.expires_from_now(10);
     _timer.async_wait(
         _strand.wrap(
           boost::bind(&Connection::handleTimeout,
             shared_from_this(),
             boost::asio::placeholders::error)
           )
         );
   }
 }

 void Connection::handleTimeout(const boost::system::error_code &e)
 {
   if (!_loggedIn)
     return;

   if (!e)
   {
     boost::system::error_code ec;
     boost::asio::ip::tcp::endpoint endpoint = socket().remote_endpoint(ec);

     if (ec)
     {
       this->close();
       return;
     }
     else
     {
       _timeoutCount++;

       std::string ping = "ping";
       Message message(REQ_PING, ping);
       this->sendResponse(message);

       // no activity for quite some time now
       // so we just disconnect the session
       if (_timeoutCount > 30)
       {
         ERROR_1(TIMEOUT_OCCURED);
         this->close();
       }
       else
         this->start();
     }
   }
 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T14:21:17.313

您的`async_wait`处理程序`async_read`每​​次都通过调用`Connection::start()`

```
 else
 {
   _timeoutCount++;

   std::string ping = "ping";
   Message message(REQ_PING, ping);
   this->sendResponse(message);

   // no activity for quite some time now
   // so we just disconnect the session
   if (_timeoutCount > 30)
   {
     ERROR_1(TIMEOUT_OCCURED);
     this->close();
   }
   else
     this->start(); // this will perform an async_read
 } 
```

这是错误的，我怀疑你的意图。当您的程序在已经有一个未完成的套接字上调用后续操作时，它是格式错误的[。](http://www.boost.org/doc/libs/1_53_0/doc/html/boost_asio/reference/async_read/overload1.html)我建议从处理程序中重置计时器并再次调用，`async_read`而不是调用。`Connection::start()``async_wait``async_wait`

# visual-studio - 如何获取 IVsProject 的完整路径、名称？

> ID：15127618
> 
> 赞同：2
> 
> 时间：2013-02-28T04:37:35.280
> 
> 标签：visual-studio, path, project, visual-studio-addins

多亏了[这个 Stackoverflow 问题](https://stackoverflow.com/questions/304361/visual-studio-extensibility-how-do-you-enumerate-the-projects-in-a-solution)，我可以在编辑器中的项目之间进行枚举。
现在，我想获得有关我得到的 IVsProject 的更多信息，但[MSDN 参考](http://msdn.microsoft.com/en-US/library/microsoft.visualstudio.shell.interop.ivsproject_methods%28v=vs.100%29.aspx)并没有真正指向我任何解决方案。
我应该如何获取项目的名称（和完整路径）？此外，关于 Visual Studio SDK，是否有比 MSDN 参考更详细/更容易探索的在线资源？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T05:41:16.527

```
BSTR* fileName;
HRESULT hr=pvsProject->GetMkDocument(VSITEMID_ROOT,&fileName); 
```

# magento - 如何在magento客户选择代码中给出where条件

> ID：15127621
> 
> 赞同：0
> 
> 时间：2013-02-28T04:38:19.677
> 
> 标签：magento, magento-1.7

我使用此代码选择所有客户详细信息

```
function getCustomers() {
    /* Magento's Mage.php path
     * Mage Enabler users may skip these lines
     */
    require_once ("../mysite/app/Mage.php");
    umask(0);
    Mage::app("default");
    /* Magento's Mage.php path */
    /* Get customer model, run a query */
    $collection = Mage::getModel('customer/customer')
                  ->getCollection()

                  ->addAttributeToSelect('*');

    $result = array();
    foreach ($collection as $customer) {
        $result[] = $customer->toArray();
    }
    return $result;
} 
```

但我也想检查一个字段值......

那就是在 eav_attribute 表中有一个列'usertypecurrent'.....

我需要检查它的值为0。

这意味着选择其用户类型为 0 的所有客户...

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T07:14:55.667

您可以使用**addAttributeToFilter**根据属性值过滤结果

```
$collection = Mage::getModel('customer/customer')
                  ->getCollection()
                  ->addAttributeToFilter('usertypecurrent', array('eq' =>0))
                  ->addAttributeToSelect('*'); 
```

# java - 从 Maven 中的 Android 库 jar 中排除 BuildConfig.class 和 R.class

> ID：15127624
> 
> 赞同：1
> 
> 时间：2013-02-28T04:38:35.857
> 
> 标签：java, android, maven, build, jar

我正在使用 Maven Android 插件来使用`apklib`打包构建我的 Android 库。这会生成`apklib`库的存档，因此我还使用 Maven jar 插件来生成可在应用程序中使用的 jar 工件。

我的问题是`BuildConfig.class`并且`R.class`被包含在 jar 中，这是我不想要的（真的我想`gen`完全排除任何东西）。我一直在尝试`exclude`为他们制定规则，但没有任何成功。这是我在 pom 中使用的 jar 插件配置：

```
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-jar-plugin</artifactId>
    <executions>
        <execution>
            <phase>package</phase>
            <goals>
                <goal>jar</goal>
            </goals>
            <configuration>              
                <excludes>
                    <exclude>**/BuildConfig.java</exclude>
                    <exclude>**/R.java</exclude>
                </excludes>
            </configuration>
        </execution>
    </executions>
</plugin> 
```

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T05:53:43.247

这里的技巧是将您的配置应用到`default-jar`构建生命周期的阶段并排除`.class`文件，而不是`.java`文件。您可以通过`<id>default-jar</id>`如下方式添加到执行中来做到这一点：

```
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-jar-plugin</artifactId>
    <executions>
        <execution>
            <id>default-jar</id>
            <phase>package</phase>
            <goals>
                <goal>jar</goal>
            </goals>
            <configuration>  
                <excludes>
                    <exclude>**/BuildConfig.class</exclude>
                    <exclude>**/R.class</exclude>
                </excludes>
            </configuration>
        </execution>
    </executions>
</plugin> 
```

您可能还想排除类`R$attr.class`、`R$drawable.class`、`R$layout.class`和`R$string.class`。

# django - 如何让 JQuery/AJAX 结果与 render_to_response 一起使用

> ID：15127625
> 
> 赞同：0
> 
> 时间：2013-02-28T04:38:36.520
> 
> 标签：django, jquery

我无法从我的视图中获取结果以显示。它在我执行常规 HttpResponse 时有效，但我不知道如何使其适用于 render_to_response

任何帮助深表感谢。

这是我的代码：

jQuery/AJAX

```
function ajaxTest() { 
    $.ajax({
        type: 'POST',
        url: '/trivia/ajax_test/',
        data: {
              recipient: document.getElementById("id_recipient").value,
              message: document.getElementById("id_message").value
              },
        success: function(result){$("#messageTable").find("tbody").append(result);} 
    });

    return false;
} 
```

主要的 HTML

```
<table id="messageTable">
<thead>
 ...
</thead>
<tbody>
...
{% include "trivia/trivia_ajax_messages.html" %}
</tbody>
</table> 
```

包括——琐事/trivia_ajax_messages.html

```
{% for message in ajax_messages %}
...
{{ message.message }}
{% endfor %} 
```

网址.py

```
(r'^trivia/ajax_test/$', 'findadownload.trivia.views.ajax_test'), 
```

视图.py

```
@csrf_exempt
def ajax_test(request):
    if request.is_ajax():
        profile = Profile.objects.get(user=request.user)
        # data received via AJAX
        recipient = request.POST.get('recipient', False)
        message = request.POST.get('message', False)
        # create a new Message
        msg = Message(sender=profile,
                          recipient=Profile.objects.get(user__username=recipient),
                          message=message)
        msg.save()

        # get messages
        get_messages = chain(Message.objects.filter(sender=profile),
                            Message.objects.filter(recipient=profile))
        message_list =  sorted(get_messages, key=lambda instance: instance.last_modified, reverse=True)

        return render_to_response('trivia_ajax_messages.html', {'ajax_messages': message_list})

    return HttpResponse("Something went wrong") 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T07:08:16.750

```
function ajaxTest() { 
    $.ajax({
        type: 'POST',
        url: '/trivia/ajax_test/',
        data: {
              recipient: document.getElementById("id_recipient").value,
              message: document.getElementById("id_message").value
              },
        success: function(result){
            var html = $(result);
            $("#messageTable").find("tbody").clear().append('<tr><td>' + html + '</td></tr>');
        } 
    });

    return false;
}

@csrf_exempt
def ajax_test(request):
    if request.is_ajax():
        //other codes here

        return render_to_response('trivia_ajax_messages.html', {
            'ajax_messages': message_list
        }, context_instance=RequestContext(request))

    return HttpResponse("Something went wrong") 
```

# php - php中具有相同索引的多个数组

> ID：15127629
> 
> 赞同：-1
> 
> 时间：2013-02-28T04:39:07.063
> 
> 标签：php, arrays

嗨，我想在 php 中保存数组中的记录。我得到像这样的数组

```
Array
(
    [0] => Make
    [1] => Model
    [2] => Year
    [3] => SKU
)

Array
(
    [0] => HTC
    [1] => Diamond
    [2] => 2008
    [3] => HTC Touch Diamond
)

Array
(
    [0] => Samsung
    [1] => M-900
    [2] => 2007
    [3] => MM-A900M
)

Array
(
    [0] => AT&T
    [1] => PDA
    [2] => 2002
    [3] => 8525PDA
)

Array
(
    [0] => AT&T
    [1] => PDA
    [2] => 2003
    [3] => 8525PDA
). 
```

以上数据来自 foreach 循环，例如`foreach($data as $row){ print_r($row);}`。现在我想针对第一个数组索引（如 make、model、year 和 sku）保存较低的记录。数组索引（make、model、year、sku）可以更少或更多意味着动态。如何我可以这样做吗？纳克斯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T04:48:43.940

试试这个 ：

```
$cnt = 0;
$res = array();
foreach($data as $row){
   if($cnt ==0){
      $key   = array();
      $key   = $row;
      $cnt++;
   }
   else{
     $res[]  = array_combine($key,$row);
   }
}

echo "<pre>";
print_r($res); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T04:40:56.190

使用内置函数[array_combine](http://php.net/array_combine)

# html - 在悬停问题上显示子菜单

> ID：15127636
> 
> 赞同：0
> 
> 时间：2013-02-28T04:39:39.007
> 
> 标签：html, css, menu

我有 2 个单独的菜单。当将鼠标悬停在菜单 #1 上的某些按钮上时，我想在菜单 #2 中显示链接。如果可能的话，我想尝试使用 CSS 来做到这一点。我正在使用的一些CSS如下。

HTML：

```
<nav>
    <ul>
        <li><a href="http://www.xecforce.com">HOME</a></li>
        <li><a href="#">NEWS</a></li>
        <li><a href="#">FORUMS</a></li>
                <li><a href="#">GAMES</a></li>
                <li><a href="#">XECOM</a></li>
    </ul>
</nav>

<div id="sub-menu-items">
<ul>
  <li><a href="#">Test 1</a></li>
  <li><a href="#">Test 2</a></li>
</ul>
</div> 
```

CSS：

```
#sub-menu-items ul li {
list-style-type: none;
z-index: 99999;
margin-right: 15px;
padding-bottom: 8px;
padding-top: 8px;
display: none;
text-shadow: 2px 3px 3px #080808; 
}

nav ul li:first-child:hover #sub-menu-items ul li {
display: inline;
} 
```

这怎么行不通？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:52:40.623

您需要将子菜单嵌套在父“li”中您的代码将如下所示：

```
<nav>
    <ul class="parent-menu">
        <li><a href="http://www.xecforce.com">HOME</a></li>
        <li><a href="#">NEWS</a>
           <ul class="sub-menu">
             <li><a href="#">Test 1</a></li>
             <li><a href="#">Test 2</a></li>
           </ul>
        </li>
        <li><a href="#">FORUMS</a></li>
        <li><a href="#">GAMES</a></li>
        <li><a href="#">XECOM</a></li>
</ul>
</nav> 
```

然后你可以设置子菜单 ul & li (最好是 position:absolute) 和 css 可以是： .parent-menu li:hover .sub-menu { display:block}

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T04:54:03.377

子菜单项必须是您悬停的 li 的子项。这就是这个选择器的意思：

```
nav ul li:first-child:hover #sub-menu-items ul li 
```

CSS下拉菜单是这样完成的：

HTML

```
<ul>
<li>Parent Item
    <ul>
       <li>Sub item</li>
       <li>Sub item</li>
    </ul>
</li>
<li>Parent Item
    <ul>
       <li>Sub item</li>
       <li>Sub item</li>
    </ul>
</li>
</ul> 
```

CSS

```
ul ul {
display: none;
}

ul > li:hover ul {
display: block;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T04:55:04.150

元素的 ':hover' 状态只能影响其子元素。要使用 :hover 来影响外部元素，您可以使用 javascript。

此行中的 CSS

```
nav ul li:first-child:hover #sub-menu-items ul li {display: inline;} 
```

正在“nav”的第一个“li”中寻找“#sub-menu-items ul li”。

根据您的布局，只有将第二个菜单移动到第一个菜单内，才能达到预期的效果。

# javascript - 获取元素编号或为其设置标识符

> ID：15127638
> 
> 赞同：2
> 
> 时间：2013-02-28T04:39:45.183
> 
> 标签：javascript, jquery

我有一个在 HTML 中动态修改的列表。像这样：

```
<ol>
  <li>Some value<li>
  <li>another</li>
  <li>more</li>
  <li>more<li>
  <li>more</li>
</ol> 
```

我想要做的是，当用户单击该列表中的某个元素时，我想调用一个函数并传递一个数字参数，该参数表示该元素`<li>`相对于 parent的偏移量`<ol>`。

我该怎么做？

我正在使用 jQuery。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T04:40:42.493

结合使用`on()`（用于绑定最小事件处理程序并处理您提到的动态更新）和`index()`确定元素相对于其父元素的索引的方法。

```
$("ol").on("click", "li", function() {
    yourFunction($(this).index());
}); 
```

[js小提琴](http://jsfiddle.net/8cHCB/)。

* * *

如果你没有 jQuery...

```
var ol = document.querySelector("ol");
var olLi = ol.querySelectorAll("li");
var handleClick = function(e) {
    var target = e.target;
    var index = 0;

    while (target = target.previousElementSibling) {
        index++;   
    }

    yourFunction(index);

};

ol.addEventListener("click", handleClick); 
```

[js小提琴](http://jsfiddle.net/wr7te/)。

* * *

如果您必须支持没有 jQuery 的旧浏览器...

```
var ol = document.getElementsByTagName("ol")[0];
var olLi = ol.getElementsByTagName("li");
var handleClick = function(e) {
    e = e || window.event;
    var target = e.target || e.srcElement;
    var index = 0;

    while (target = target.previousSibling) {
        (target.nodeType == 1) && (index++);   
    }

    yourFunction(index);

};

ol.addEventListener && ol.addEventListener("click", handleClick);
ol.attachEvent && ol.attachEvent("onclick", handleClick); 
```

[js小提琴](http://jsfiddle.net/f4qbt/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T04:41:34.100

您可以为此使用 .index() 。

```
var selectedIndex = $("#yourID").index() + 1; 
```

这是索引从 1 开始的[链接](http://jsfiddle.net/Pervez/8cHCB/1/)

# mysql - I have a select query that gets me a single column as a result. Now I need to put all those column values in CSV format

> ID：15127643
> 
> 赞同：2
> 
> 时间：2013-02-28T04:40:08.313
> 
> 标签：mysql, sql

```
--------------------
- # - timesheet_id -
--------------------
- 1 -      1       -
--------------------
- 2 -      2       -
-------------------- 
```

Now the format required should be in "1,2" which is nothing but the values of timesheet_id. Somebody please help.

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T04:44:54.230

```
SELECT GROUP_CONCAT(timesheet_ID) as TimeList
FROM   tableName
INTO   OUTFILE '/tmp/timeIDList.csv'  -- file output path
FIELDS TERMINATED BY ','
ENCLOSED BY '"'
LINES TERMINATED BY '\n' 
```

资源

*   [将 MySQL 查询结果保存到文本或 CSV 文件中](http://www.tech-recipes.com/rx/1475/save-mysql-query-results-into-a-text-or-csv-file/)
*   [直接从 MySQL 导出 CSV](https://ariejan.net/2008/11/27/export-csv-directly-from-mysql)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T04:49:23.193

在 mySQL 中，您可以使用 GROUP_CONCAT

```
SELECT GROUP_CONCAT(timesheet_id SEPARATOR ',') FROM table 
```

# ios - iOS 6 – Force a rotation for a UIViewController inside a UINavigationController

> ID：15127645
> 
> 赞同：2
> 
> 时间：2013-02-28T04:40:34.520
> 
> 标签：ios, cocoa-touch, ios6

I have a `UINavigationController` where all `UIViewController` in the stack are portrait, except the last one, which is landscape. My current implementation shows the last view controller in portrait on push, but I can rotate to landscape, and the, cannot rotate back to portrait. **How can I force the rotation to landscape when the view is pushed ?**

My `UINavigationController` subclass :

```
@interface RotationViewController : UINavigationController

@end

@implementation RotationViewController

- (BOOL)shouldAutorotate
{
    return YES;
}

- (NSUInteger)supportedInterfaceOrientations
{
    if (self.topViewController.class == [LoadingViewController class])
    {
        return UIInterfaceOrientationMaskLandscape;
    }

    return UIInterfaceOrientationMaskPortrait;
}

- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation
{
    if (self.topViewController.class == [LoadingViewController class])
    {
        return UIInterfaceOrientationLandscapeLeft;
    }

    return UIInterfaceOrientationPortrait;
}

@end 
```

The view controller that I want landscape-only :

```
@implementation LoadingViewController

- (BOOL)shouldAutorotate
{
    return YES;
}

- (NSUInteger)supportedInterfaceOrientations
{
    return UIInterfaceOrientationMaskLandscape;
}

- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation
{
    return UIInterfaceOrientationLandscapeLeft;
}

@end 
```

Other view controllers don't implement any of these methods.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T05:30:37.597

我有同样的条件。所以您可以在您的应用程序中实现以下代码

```
- (void)viewDidAppear:(BOOL)animated
{ 
    [super viewDidAppear:animated];

    [[UIApplication sharedApplication] setStatusBarOrientation:UIInterfaceOrientationLandscapeLeft animated:NO];
    CGAffineTransform landscapeTransform = CGAffineTransformMakeRotation(degreesToRadian(270));
    landscapeTransform = CGAffineTransformTranslate (landscapeTransform, 0.0, 0.0);
    [[self navigationController].view setTransform:landscapeTransform];
    self.navigationController.view.bounds = CGRectMake(0.0, 0.0, 480, 320);
    self.navigationController.navigationBar.frame = CGRectMake(0.0, 20.0, 480, 44.0); 
} 

-(void)viewWillDisappear:(BOOL)animated
{
    [super viewWillDisappear:animated];   

    [[UIApplication sharedApplication] setStatusBarOrientation:UIInterfaceOrientationPortrait animated:NO];
    CGAffineTransform landscapeTransform = CGAffineTransformMakeRotation(degreesToRadian(0));
    landscapeTransform = CGAffineTransformTranslate (landscapeTransform, 0.0, 0.0);
    [[self navigationController].view setTransform:landscapeTransform];
    self.navigationController.view.bounds = CGRectMake(0.0, 0.0, 320, 480);
    self.navigationController.navigationBar.frame = CGRectMake(0.0, 20.0, 320.0, 44.0);
}

#define degreesToRadian(X) (M_PI * (X)/180.0) 
```

笔记：-

**上面的代码是为 iphone 实现的。因此，如果您将其用于 ipad，请更改边界。**

您无需实施

```
- (BOOL)shouldAutorotate

- (NSUInteger)supportedInterfaceOrientations

- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation 
```

视图控制器中的函数....所以删除这些方法....

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-13T10:43:52.157

检查问题[如何在 iOS 6 中处理不同的方向。](https://stackoverflow.com/questions/15947349/how-to-handle-different-orientations-in-ios-6)有关您需要的项目示例，请参阅那里的答案。

基本上，您需要在您的视图控制器（您要旋转的那个）中嵌入一个自定义导航控制器。在这个自定义导航控制器中添加以下方法

```
- (NSUInteger)supportedInterfaceOrientations
{
    return self.topViewController.supportedInterfaceOrientations;
} 
```

并添加到应该旋转的视图控制器：

```
- (BOOL)shouldAutorotate
{
    return YES;
}

- (NSUInteger)supportedInterfaceOrientations
{
    return UIInterfaceOrientationMaskLandscapeLeft | UIInterfaceOrientationMaskLandscapeRight;
} 
```

确保在您的项目中启用纵向、横向右侧和横向左侧方向。然后，如果您想阻止特定视图的某些方向：

```
– application:supportedInterfaceOrientationsForWindow: 
```

# perl - 我们如何在 perl 中将 UUID 转换为日期

> ID：15127648
> 
> 赞同：3
> 
> 时间：2013-02-28T04:40:47.437
> 
> 标签：perl, perl-module

我对 Perl 语言很陌生。如何转换`UUID`为日期格式`2011-04-22`？

例如，我有这样的 UUID

`118ffe80-466b-11e1-b5a5-5732cf729524`.

如何将其转换为日期格式？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T05:03:45.047

模块[UUID::Tiny](https://metacpan.org/module/UUID::Tiny)有一个名为 time_of_UUID() 的方法，它可能会有所帮助：

**time_of_UUID()**

```
This function accepts UUIDs and UUID strings. 
Returns the time as a   floating point value, so use int() 
to get a time() compatible value.

Returns undef if the UUID is not version 1.

my $uuid_time = time_of_UUID($uuid); 
```

[RFC4122](https://www.rfc-editor.org/rfc/rfc4122#section-4.1.4)的时间戳部分也可以补充关于 UUID 的[Wikipedia](http://en.wikipedia.org/wiki/Universally_unique_identifier)文章。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-11-23T13:07:57.740

也许这个 javascript API 可以帮助您将 UUID 转换为日期格式，

此 API 将 UUID v1 转换为 1970-01-01 的秒

**[UUID_to_Date](https://github.com/xehrad/UUID_to_Date)**

* * *

* * *

**你们都需要：**

```
 get_time_int = function (uuid_str) {
        var uuid_arr = uuid_str.split( '-' ),
            time_str = [
                uuid_arr[ 2 ].substring( 1 ),
                uuid_arr[ 1 ],
                uuid_arr[ 0 ]
            ].join( '' );
        return parseInt( time_str, 16 );
    };

    get_date_obj = function (uuid_str) {
        var int_time = this.get_time_int( uuid_str ) - 122192928000000000,
            int_millisec = Math.floor( int_time / 10000 );
        return new Date( int_millisec );
    }; 
```

* * *

* * *

# 例子：

```
 var date_obj = get_date_obj(  '8bf1aeb8-6b5b-11e4-95c0-001dba68c1f2' );
    date_obj.toLocaleString( );// '11/13/2014, 9:06:06 PM' 
```

# python - 在 OpenGL 中删除对象

> ID：15127651
> 
> 赞同：1
> 
> 时间：2013-02-28T04:41:08.313
> 
> 标签：python, opengl

所以我刚开始使用openGL，我在试图弄清楚如何删除已经绘制的对象时遇到了麻烦。我有2个不同的矩形

```
glBegin(GL_POLYGON)        
glColor3f(0.5, 0.5, 0.5)
glVertex2f(0, 0)
glVertex2f(0, 10)
glVertex2f(10, 10)
glVertex2f(10, 0)
glEnd()

glBegin(GL_POLYGON)        
glColor3f(0.5, 0.5, 0.5)
glVertex2f(30, 30)
glVertex2f(30, 40)
glVertex2f(40, 40)
glVertex2f(40, 30)
glEnd() 
```

使用鼠标，我希望能够用鼠标右键单击其中一个矩形并将其删除。我可以调用某种函数来做到这一点吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T04:59:17.530

您的问题不是 OpenGL 问题；这是一个一般逻辑问题。如果您希望其中一个矩形消失，您只需不渲染它。将每个矩形放置在 if 语句中，并在单击后将布尔变量设置为 false。

# ruby-on-rails - JSON Nesting Too Deep (Using OJ)

> ID：15127657
> 
> 赞同：1
> 
> 时间：2013-02-28T04:41:34.480
> 
> 标签：ruby-on-rails, json, parsing

The problem:

`JSON::NestingError: nesting of 101 is too deep`

I've tried adding the `:max_nesting => 120` to my `JSON.parse` line with no avail.

Then switched to OJ to see if that would change it.

Any ideas?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-09-05T16:51:10.780

使用 max_nesting 选项调用 JSON.parse。这个对我有用。

```
> o = JSON.parse(File.read(Rails.root.join("deep.json")))
JSON::NestingError: nesting of 101 is too deep
> o = JSON.parse(File.read(Rails.root.join("deep.json")),max_nesting: 150)
# { Big ol' deeply nested hash } 
```

# ruby-on-rails - How to get tag id from a record in form_for?

> ID：15127658
> 
> 赞同：1
> 
> 时间：2013-02-28T04:41:36.870
> 
> 标签：ruby-on-rails, ruby

If we use `form_for` for a record, all input tags inside the form tag will automatically contain an attribute `id` with value like `id="post_3_title"`, `id="post_3_content"`.

In my case, I want to get those names to create javascript codes dynamically. I wonder if there is any way to do this. Any ideas?

Thanks for your helping.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T07:19:56.800

我在`actionpack-3.2.12/lib/action_view/helpers/form_helper.rb:1218`.

```
 def tag_name_with_index(index)
      "#{@object_name}[#{index}][#{sanitized_method_name}]"
    end

    def tag_id
      "#{sanitized_object_name}_#{sanitized_method_name}"
    end

    def tag_id_with_index(index)
      "#{sanitized_object_name}_#{index}_#{sanitized_method_name}"
    end

    def sanitized_object_name
      @sanitized_object_name ||= @object_name.gsub(/\]\[|[^-a-zA-Z0-9:.]/, "_").sub(/_$/, "")
    end

    def sanitized_method_name
      @sanitized_method_name ||= @method_name.sub(/\?$/,"")
    end 
```

看起来我们可以很好地利用它们，但是它们都是私有方法。我认为另一种解决方案是实现一些这样的辅助方法。

# android - 如果我在 Play 商店中更改类别会怎样？

> ID：15127664
> 
> 赞同：7
> 
> 时间：2013-02-28T04:42:15.910
> 
> 标签：android

我在 Google Play 中发布了一个应用程序。我想更改应用程序的类别。评级和排名会发生什么？只是想在我做之前把事情弄清楚。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-28T04:44:22.203

您的*客户评论*将保持不变，但是如果您在一个类别中有一定的排名，那么您将被放在另一个类别的适当位置。如果您有 5 颗星，则更改后仍将有 5 颗星。

# php - 对象关系映射与数据库抽象层

> ID：15127666
> 
> 赞同：29
> 
> 时间：2013-02-28T04:42:35.580
> 
> 标签：php, orm, doctrine-orm, doctrine, dbal

我正在使用同时提供 ORM 和 DBAL 的 Doctrine。

它们之间有什么区别？

应该如何决定何时使用哪个？

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2013-02-28T09:06:34.837

DBAL （DataBase Abstraction Layer）是一款简化与 SQL 数据库交互的软件，允许您使用它们而不必担心不同 DBMS 供应商的特定方言或差异[。](https://github.com/doctrine/dbal)它基本上允许您对 DBMS 运行 SQL 查询，而无需编写供应商特定的 SQL。

[ORM](https://github.com/doctrine/doctrine2) （对象关系映射器）是一种工具，它给您一种使用内存数据结构的印象，该结构表示为具有关联对象的对象图。它通过删除所有 SQL 并将其抽象为 OOP 逻辑来简化与 SQL 操作相关的应用程序逻辑。Doctrine 2 ORM 只处理 POPO（Plain Old PHP Objects）的加载和持久化。

[您可以在DBAL 文档](http://docs.doctrine-project.org/projects/doctrine-dbal/en/latest/index.html)和[ORM 文档](http://docs.doctrine-project.org/projects/doctrine-orm/en/latest/index.html)中找到有关此主题的更多信息。

# complexity-theory - () 时间算法并不总是比 (2) 时间算法快

> ID：15127669
> 
> 赞同：3
> 
> 时间：2013-02-28T04:43:08.357
> 
> 标签：complexity-theory, big-o

> () 时间算法并不总是比 (^2) 时间算法快。

这个说法是真的。有谁知道有什么特殊情况吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T04:54:10.107

根据 O 的定义，Θ(logn) 中的任何算法也在 O(n^2) 中，并且比 Θ(n) 中的算法渐近地快。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-28T04:54:33.587

当`O(n)`算法的常数开销大于 n^2 时，这种情况发生在 small `n`.

# javascript - 尝试修复幻灯片（水平+垂直）

> ID：15127670
> 
> 赞同：1
> 
> 时间：2013-02-28T04:43:12.077
> 
> 标签：javascript, html, background, slideshow, background-color

此处的脚本：http: [//jsfiddle.net/dt5Se/](http://jsfiddle.net/dt5Se/)，或以下：

```
var mygallery=new fadeSlideShow({
wrapperid: "fadeshow1", //ID of blank DIV on page to house Slideshow
dimensions: [720, 478], //width/height of gallery in pixels. Should reflect dimensions of largest image
imagearray: [
    ["images/indeximages/1.jpg"],
    ["images/indeximages/2.jpg"],
    ["images/indeximages/3.jpg"],
    ["images/indeximages/4.jpg"],
    ["images/indeximages/5.jpg"],
    ["images/indeximages/6.jpg"],
    ["images/indeximages/7.jpg"],
    ["images/indeximages/8.jpg"],
    ["images/indeximages/9.jpg"],
    ["images/indeximages/10.jpg"],
    ["images/indeximages/11.jpg"] // no comma for last image
],
displaymode: {type:'auto', pause:4000, cycles:0, wraparound:false},
persist: false, //remember last viewed slide and recall within same session?
fadeduration: 500, //transition duration (milliseconds)
descreveal: "ondemand",
togglerid: ""}) 
```

有没有办法可以使垂直和水平图像都可以使用？这太痛苦了...

请参阅此处的实现：[http](http://www.phillipehan.com/) ://www.phillipehan.com/ 如您所见，第三张图像的两侧都被黑色包围。我怎样才能解决这个问题？

谢谢！

# javascript - Jquery在cshtml页面中不起作用

> ID：15127672
> 
> 赞同：1
> 
> 时间：2013-02-28T04:43:20.103
> 
> 标签：javascript, jquery, asp.net-mvc, razor

我需要使用`@(ViewData["value"]);`in `document.ready`。但是当我使用 `@(ViewData["value"])`所有 jQuery 时不起作用。我的示例如下：

```
$(document).ready(function () {
    var test = @(ViewData["value"]); // remove this line query has been working 
    if (test != null){
        //my code
    }
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T04:48:36.537

而不是访问`@(ViewData["value"]);`内部 javascript，最好将该值放在隐藏字段或其他元素中。看下面的代码：

```
<input id="some-id" type="hidden" value="@(ViewData["value"]);" />

...
...
...
$(document).ready(function () {
    var test = $("#some-id");
    if (test != null){
       //my code
    }
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T04:49:59.573

如果在脚本标签内使用 C#，则需要将 C# 变量括在引号中。尝试

```
 $(document).ready(function () {
         var test = '@(ViewData["value"])'; 
           if (test != null){
     }
    }); 
```

如果您的 ViewData["value"] 的值是数字，则可以不将其括在引号中，但如果它是带有空格的字符串，例如 ViewData["value"]="Hello World" 您的浏览器将出现错误说“SyntaxError: missing ; before statement”这就是你的脚本或 jquery 将不再工作的原因。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-28T04:48:28.497

ViewData 在客户端上是不可访问的，因为它只存在于视图渲染中。可能的选择

1.  在服务器端将您的视图数据序列化为 json
2.  将其写入隐藏字段，然后他们将其解析为客户端的 javascript 对象。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T04:58:55.443

如果你`ViewData["value"]`是一个`string`，你可以试试这个：

```
var test = '@ViewData["value"]'; 
```

# android - 如何将光标的内容添加到哈希图中？

> ID：15127673
> 
> 赞同：3
> 
> 时间：2013-02-28T04:43:39.153
> 
> 标签：android, hashmap, android-contentprovider

我正在使用此链接[http://www.android-app-market.com/call-log-content-provider-in-android-application.html](http://www.android-app-market.com/call-log-content-provider-in-android-application.html) 从通话记录内容提供商获取数据我的要求是我想添加第一个哈希映射中的游标值，然后从哈希映射到链表。

提前致谢。

# php - 在php中实例化一个名称未知的类？

> ID：15127675
> 
> 赞同：0
> 
> 时间：2013-02-28T04:44:13.783
> 
> 标签：php, class, abstract-class, instantiation

我正在使用抽象`Page`类在 PHP 中创建模板系统。我网站上的每个页面都是它自己的类，扩展了`Page`该类。由于无法实例化抽象类，`$page = new Page();`因此我无法弄清楚如何在不知道该页面的类名的情况下实例化扩展页面的类。

如果我在运行时只知道抽象类的名称，是否可以实例化一个扩展抽象类的类？如果是这样，我将如何去做？

* * *

Page类的伪代码：

```
<?php    
abstract class Page{
    private $request = null;
    private $usr;
    function __construct($request){
        echo 'in the abstract';
        $this->request = $request;
        $this->usr = $GLOBALS['USER'];
    }

    //Return string containing the page's title. 
    abstract function getTitle();

    //Page specific content for the <head> section.
    abstract function customHead();

    //Return nothing; print out the page. 
    abstract function getContent();
}?> 
```

加载所有内容的索引页面将具有如下代码：

```
require_once('awebpage.php');
$page = new Page($request);
/* Call getTitle, customHead, getContent, etc */ 
```

各个页面如下所示：

```
class SomeArbitraryPage extends Page{
    function __construct($request){
        echo 'in the page';
    }

    function getTitle(){
        echo 'A page title!';
    }

    function customHead(){
        ?>
            <!-- include styles and scripts -->
        <?php 
    }
    function getContent(){
        echo '<h1>Hello world!</h1>';
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T04:55:33.993

您可以为函数/类名称使用变量：

```
class YourExtendedClass {
    public function example(){
        echo 1;
    }
}

$class = 'YourExtendedClass';
$t = new $class();
$t->example(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T05:03:42.927

你不能在不知道它的名字的情况下实例化一个类。如上所述，您可以将变量用作类/函数名称。您可以列出所有 Page 子项的列表：

```
abstract class Page {
        public static function me()
        {
            return get_called_class();
        }
    }

class Anonym extends Page {

}

$classes = get_declared_classes();
$children = array();
$parent = new ReflectionClass('Page');

foreach ($classes AS $class)
{
    $current = new ReflectionClass($class);
    if ($current->isSubclassOf($parent))
    {
        $children[] = $current;
    }
}

print_r($children); 
```

并获得以下输出

```
Array ( [0] => ReflectionClass Object ( [name] => Anonym ) ) 
```

但是话又说回来，如果你不知道名字，你也不会知道索引。

# ruby-on-rails-3 - 为每个子集选择具有最高值的记录

> ID：15127684
> 
> 赞同：1
> 
> 时间：2013-02-28T04:44:54.907
> 
> 标签：ruby-on-rails-3, postgresql, rails-activerecord, arel, groupwise-maximum

我有一组记录，其中一些（但不是全部）具有“路径”字段，并且都具有“值”字段。我希望只选择那些没有路径，或者在具有特定路径的所有记录中具有最大值的那些。

也就是说，鉴于这些记录：

```
Name:  Path:   Value:
A      foo     5
B      foo     6
C      NULL    2
D      bar     2
E      NULL    4 
```

我想返回 B、C、D 和 E，但不返回 A（因为 A 有一条路径，它的路径与 B 相同，但 A 的值较低）。

我如何使用 ActiveRecord、ARel 和 Postgres 来实现这一点？理想情况下，我想要一个充当范围的解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T13:43:09.947

您可以通过使用 2 个子查询来使用类似的东西（只会执行一个具有子查询的 SQL 查询）。没有测试，但应该让你朝着正确的方向前进。这是针对 Postgres 的。

```
scope :null_ids, -> { where(path: nil).select('id') }
scope :non_null_ids, -> { where('path IS NOT NULL').select('DISTINCT ON (path) id').order('path, value desc, id') }
scope :stuff, -> {
  subquery = [null_ids, non_null_ids].map{|q| "(#{q.to_sql})"}.join(' UNION ')
  where("#{table_name}.id IN (#{subquery})")
} 
```

如果您使用不同的数据库，您可能需要对 non_nulls 范围使用 group/order 而不是 distinct on。如果查询运行缓慢，请在路径和值上放置索引。

你只得到 1 个查询，它是一个可链接的范围。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T06:38:59.290

将您的描述直接转译为 SQL 如下所示：

```
select name, path, value
from (
    select name, path, value,
           row_number() over (partition by path order by value desc) as r
    from your_table
    where path is not null
) as dt
where r = 1
union all
select name, path, value
from your_table
where path is null 
```

您可以将其包装在 a 中[`find_by_sql`](http://api.rubyonrails.org/classes/ActiveRecord/Querying.html#method-i-find_by_sql)，然后将您的对象从另一侧取出。

该查询的工作方式如下：

1.  `row_number` [窗口函数](http://www.postgresql.org/docs/current/static/tutorial-window.html)允许我们按 对行进行分组，`path`按 对每个组进行排序`value`，然后对每个组中的行进行编号。在里面玩一下 SQL `psql`，你会看到它是如何工作的，还有[其他可用的窗口函数可以](http://www.postgresql.org/docs/current/static/functions-window.html)让你做各种美妙的事情。
2.  您将 NULL`path`值与非 NULL 分开处理`path`，因此`path is not null`在内部查询中。
3.  `path`我们可以通过从派生表中选择行号为 1（即`where r = 1`）的行来剥离每个组中的第一行。
4.  部分查询很容易处理`path is null`行的处理。
5.  UNION 用于将查询的结果集连接在一起。

我想不出任何方法来使用 ActiveRecord 构造这样的查询，也想不出任何方法将这样的查询与 ActiveRecord 的作用域机制集成。如果您可以轻松地仅访问 an 的 WHERE 组件，`ActiveRecord::Relation`那么您可以使用范围链的 WHERE 组件来扩充该查询的`where path is not null`and`where path is null`组件。我不知道该怎么做。

事实上，我倾向于放弃 ActiveRecord。我发现 ActiveRecord 对于我所做的大多数复杂的事情都相当麻烦，而且几乎不像 SQL 那样富有表现力。这适用于我曾经使用过的每个 ORM，因此问题并不特定于 ActiveRecord。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-03T08:49:17.040

我没有使用 ActiveRecord 的经验，但这里有一个使用 SQLAlchemy 的示例，可以让只使用 SQL 的人群保持沉默；）

```
q1 = Session.query(Record).filter(Record.path != None)
q1 = q1.distinct(Record.path).order_by(Record.path, Record.value.desc())

q2 = Session.query(Record).filter(Record.path == None)

query = q1.from_self().union(q2)
# Further chaining, e.g. query = query.filter(Record.value > 3) to return B, E

for record in query:
    print record.name 
```

# php - CakePHP 多会话

> ID：15127690
> 
> 赞同：0
> 
> 时间：2013-02-28T04:45:31.477
> 
> 标签：php, cakephp

我正在运行一个 Cakephp 2.1 应用程序。一项功能是作为管理员，您可以登录到较低级别的用户帐户。这是在新窗口中完成的。在我尝试访问第一个窗口中的内容时，它们与新的会话数据发生冲突。我相信这是因为所有内容都存储在会话 cookie CAKEPHP 中。

如果这是真的，那么我希望能够创建一个具有唯一名称的新会话 cookie，新窗口将使用该名称。请告知这是否可行以及如何去做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T09:25:07.813

会话是交叉选项卡和跨窗口的。它们对整个浏览器都有效（如果您没有相同的沙箱或单个窗口的“不可见”模式）。

因此，仅打开新窗口和选项卡将始终覆盖该浏览器中的所有其他会话。由于这是浏览器限制，如果您需要同时成为两个角色，请使用不同的浏览器。

# objective-c - setSighting: 中的这段代码 [self configureView] 是否需要稍后再次出现？

> ID：15127695
> 
> 赞同：0
> 
> 时间：2013-02-28T04:46:20.617
> 
> 标签：objective-c

```
#import "BirdsDetailViewController.h"
#import "BirdSighting.h"
@interface BirdsDetailViewController ()
- (void)configureView;
@end

@implementation BirdsDetailViewController
-(void)setSighting:(BirdSighting *)sighting
{
    if (_sighting != sighting) {
        _sighting = sighting;
        //Update the view
        [self configureView];
// Is this code[self configureView] necessary which reappears in the later viewDidLoad? 
//After I deleted this line everything seems works well.
    }
}
- (void)configureView
{
// Update the user interface for the detail item.
    BirdSighting *theSighting = self.sighting;
    static NSDateFormatter *formatter = nil;
    if (formatter == nil) {
    formatter = [[NSDateFormatter alloc] init];
    [formatter setDateStyle:NSDateFormatterMediumStyle];
    }
    if (theSighting) {
    self.birdNameLable.text = theSighting.name;
    self.locationLable.text = theSighting.location;
    self.dateLable.text = [formatter stringFromDate:(NSDate *) theSighting.date];
}

}
- (void)viewDidLoad
{
[super viewDidLoad];
//You see. It reappears here.
[self configureView]; 
}

@end 
```

* * *

上面的代码引用自 Apple 的官方示例（[Your Second iOS App: Storyboards](http://developer.apple.com/library/ios/#documentation/iPhone/Conceptual/SecondiOSAppTutorial/Introduction/Introduction.html#//apple_ref/doc/uid/TP40011318-CH1-SW1)）。setSighting: 中的这段代码 [self configureView] 是否需要稍后重新出现？在我删除此行后，一切似乎都运行良好。非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T04:51:54.773

您可以`[self configureView];`在 中省略`setSighting:`。

还有一件事为什么您要`setSighting:`自己实现，Cocoa 为您提供 `@property`/ `@synthesize`，这是值得信赖的，并且对于您的代码来说会更短，因为您没有做任何具体的事情。

# ruby-on-rails-3 - Delayed::Worker.new.work_off 是否在未来的 run_at 时间工作？

> ID：15127697
> 
> 赞同：2
> 
> 时间：2013-02-28T04:46:39.637
> 
> 标签：ruby-on-rails-3, rspec, delayed-job

我有一个控制器操作，它创建 2 个后台作业以在将来运行。

我正在尝试测试后台作业是否运行

```
 # spec/controllers/job_controller_spec.rb

    setup
    post :create, {:job => valid_attributes}
    Delayed::Job.count.should == 2
    Delayed::Worker.logger = Rails.logger
    #Delayed::Worker.new.work_off.should == [2,0]

    Delayed::Worker.new.work_off
    Delayed::Job.count.should == 0 # this is where it fails 
```

这是错误：

```
 1) JobsController POST create with valid params queues up delayed job and fires
    Failure/Error: Delayed::Job.count.should == 0
    expected: 0
    got: 2 (using ==) 
```

由于某种原因，它似乎没有开火。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-26T18:18:20.547

你可以尝试使用

```
Delayed::Worker.new(quiet: false).work_off 
```

调试后台作业的结果，这可以帮助您找出它们应该在未来运行的事实是否与断言本身混淆。完成后不要忘记取消“quiet:false”，否则您的测试将始终输出后台作业的结果。

# android - 使用 ScrollView 创建静态表头

> ID：15127703
> 
> 赞同：0
> 
> 时间：2013-02-28T04:47:08.020
> 
> 标签：android, static, header, scrollview, tableview

我在 ScrollView 中有一个表，其中一列包含多个按钮。我的目标是在列的顶部添加一个标题，这样当你向下滚动时，标题会一直留在你身边。

我已经对这个主题进行了一些研究，并尝试了诸如“虚拟”行之类的东西，但不知道如何让它发挥作用。

这是我到目前为止所尝试的，但是当您滚动时，标题不会随您移动。提前致谢。

```
 <?xml version="1.0" encoding="utf-8"?>
    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:tools="http://schemas.android.com/tools"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation='horizontal' >

    <ScrollView
        android:layout_width="wrap_content"
        android:layout_height="200dp" >

    <TableLayout android:id="@+id/table_left"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:gravity="left" >

       <TableLayout 
           android:id="@+id/header"
           android:layout_width="fill_parent"
           android:layout_height="wrap_content" >

       <TableRow>
        <TextView android:id="@+id/header_tab1"
           android:textColor="@android:color/black"
           android:layout_weight="1"
           android:gravity="center_horizontal"
           android:text="Header_tb1" > 
           </TextView>
        </TableRow>
        </TableLayout>

      <TableRow>
        <TextView
            android:layout_height="0dp"
            android:layout_weight="1"
            android:text="Header_tb1" >     
         </TextView>
         </TableRow>

        <TableRow android:id="@+id/row_1_tb1"
            android:layout_width="match_parent"
            android:layout_height="wrap_content" >

            <Button
                android:id="@+id/Button1"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="@string/Button1"
                android:textSize="23sp" >   
             </Button>
           </TableRow>

         <TableRow android:id="@+id/row_2_tb1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" >

                <Button android:id="@+id/Button2"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="@string/Button2"
                    android:textSize="23sp" > 
                </Button>
            </TableRow>

         <TableRow android:id="@+id/row_3_tb1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" >

                <Button android:id="@+id/Button3"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="@string/Button3"
                    android:textSize="23sp" > 
                </Button>
            </TableRow> 

         <TableRow android:id="@+id/row_4_tb1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" >

                <Button android:id="@+id/Button4"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="@string/Button4"
                    android:textSize="23sp" > 
                </Button>
            </TableRow>

          <TableRow android:id="@+id/row_5_tb1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" >

                <Button android:id="@+id/Button5"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="@string/Button5"
                    android:textSize="23sp" > 
                </Button>
            </TableRow>

          <TableRow android:id="@+id/row6_tb1"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" >

                <Button android:id="@+id/Button6"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="@string/Button6"
                    android:textSize="23sp" > 
                </Button>
            </TableRow>

        </TableLayout>  
         </ScrollView>
        </LinearLayout> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T04:59:09.497

如果我理解你的问题，你可以在滚动视图的上方再创建一个表格布局，这个表格布局将是你的表格标题..

# iphone - 如何通过触摸块区域中的任何位置来填充 UIImageView 中的特定块？

> ID：15127705
> 
> 赞同：1
> 
> 时间：2013-02-28T04:47:23.740
> 
> 标签：iphone, core-image

我有一个 UIImageView 如下所示。图像中的每个块都有不同的大小。并且没有定义图像的任何绑定区域。我们必须通过触摸块区域中的任何位置来填充特定块。假设我点击了一个白色块然后它应该填充特定的颜色。我的问题是我们如何检测要填充的块的边界。我们将获得触摸位置，但通过比较哪个边界，我可以找出要填充的区域，因为它只是一个图像。

![在此处输入图像描述](../Images/5f8c4b8fb43611135cedacecec161393.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T12:51:00.397

![在此处输入图像描述](../Images/50bf0bfa80319f0dbb3925ac201c0585.png)

最后我解决了我的问题。使用CGContext。我编写了以下代码来完全满足要求。

```
 @implementation FillBoxViewController

- (void)viewDidLoad
{
    [_imgView sizeToFit];
    [_imgView setAutoresizingMask:(UIViewAutoresizingFlexibleWidth|UIViewAutoresizingFlexibleHeight)];
    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

-(void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event
{
    UITouch *touch=[touches anyObject];
    CGPoint pt=[touch locationInView:self.view];

    CGContextRef ctx;
    CGImageRef imageRef = [_imgView.image CGImage];

    NSUInteger width = CGImageGetWidth(imageRef);
    NSUInteger height = CGImageGetHeight(imageRef);

    if (pt.y<height)
    {
        CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();

        unsigned char *rawData = malloc(height * width * 4);

        NSUInteger bytesPerPixel = 4;
        NSUInteger bytesPerRow = bytesPerPixel * width;

        NSUInteger bitsPerComponent = 8;

        CGContextRef context = CGBitmapContextCreate(rawData, width, height,
                                                     bitsPerComponent, bytesPerRow, colorSpace,
                                                     kCGImageAlphaPremultipliedLast | kCGBitmapByteOrder32Big);
        CGColorSpaceRelease(colorSpace);

        CGContextDrawImage(context, CGRectMake(0, 0, width, height), imageRef);
        CGContextRelease(context);

        //GET PIXEL FROM POINT

        int index = 4*(width*(round(pt.y))+(round(pt.x)));

        NSLog(@"index is %i",index);

        int R = rawData[index];
        int G = rawData[index+1];
        int B = rawData[index+2];

        NSLog(@"%d   %d   %d", R, G, B);

        //IF YOU WANT TO ALTER THE PIXELS

        for (int row=pt.y-20; row<=pt.y+20;++row)
        {
            for (int col=pt.x-20; col<=pt.x+20;++col)
            {
                int r,g,b;
                int byteIndex=4*(width*(round(row))+(round(col)));
                r=rawData[byteIndex];
                g=rawData[byteIndex+1];
                b=rawData[byteIndex+2];

                if ((r<R+10&&r>R-10) && (g<G+10&&g>G-10) && (b<B+10&&b>B-10)) {
                    rawData[byteIndex]=(char)(255);
                    rawData[byteIndex+1]=(char)(0);
                    rawData[byteIndex+2]=(char)(0);
                }
            }
        }

        ctx = CGBitmapContextCreate(rawData,
                                    CGImageGetWidth( imageRef ),
                                    CGImageGetHeight( imageRef ),
                                    8,
                                    CGImageGetBytesPerRow( imageRef ),
                                    CGImageGetColorSpace( imageRef ),
                                    kCGImageAlphaPremultipliedLast );

        imageRef = CGBitmapContextCreateImage(ctx);

        UIImage* rawImage = [UIImage imageWithCGImage:imageRef];  

        CGContextRelease(ctx);  

        _imgView.image = rawImage;

        free(rawData);
    }

    NSLog(@"touch detected at location (%f,%f)",pt.x,pt.y);
}

@end 
```

应用条件来检查点的颜色并检查颜色的变化，这将停止填充矩形超出边界。由于图像没有完全固定块中的颜色，这就是图像看起来像这样的原因，我必须使用检查 RGB 范围之间的颜色颜色来自触摸图像。

# delphi - 如何在 VCL 表单应用程序中设置 ExitCode

> ID：15127707
> 
> 赞同：13
> 
> 时间：2013-02-28T04:47:33.863
> 
> 标签：delphi, vcl, exit-code, return-code

我无法让 ExitCode 为 VCL 表单应用程序工作。这是我的测试应用程序。它是从 Delphi 2007 IDE 中的 File / New 菜单创建的。唯一的变化是我`ExitCode := 42;`在末尾添加了该行。

```
program Test;

uses
  Forms,
  Unit27 in 'Unit27.pas' {Form27};

{$R *.res}

begin
  Application.Initialize;
  Application.MainFormOnTaskbar := True;
  Application.CreateForm(TForm27, Form27);
  Application.Run;

  ExitCode := 42;
end. 
```

现在，当我从命令行运行它时，`%ERRORLEVEL%`没有设置：

```
>.\Test.exe

>echo %ERRORLEVEL%
0 
```

我预计值`%ERRORLEVEL%`是 42，但它没有被更新。

我在控制台应用程序中尝试了相同的实验，效果很好。为什么它不适用于我的 GUI 应用程序？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-02-28T05:21:30.853

您设置退出代码的方法很好。是你的*测试*有问题。

在提示输入下一个命令之前，shell 不会等待 GUI 应用程序完成运行。因此，错误级别已经确定。您是在显示命令提示符时检查值，而不是在*运行*命令时检查该值`echo`。

在批处理文件或命令脚本中运行程序会修改命令解释器的行为，使其在运行下一个命令之前等待每个命令完成，即使对于标记为使用 GUI 子系统而不是控制台子系统的程序也是如此。这就是从批处理文件中正确报告错误级别的原因——您运行的进程在命令解释器获取退出代码之前已经完成。在不使用命令脚本的情况下，您可以尝试使用命令启动程序[并将](http://technet.microsoft.com/en-us/library/bb491005.aspx)[选项`start`](http://technet.microsoft.com/en-us/library/bb491005.aspx)传递给它`/wait`。不过，我不确定它是否会转发它启动的进程的退出代码。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-28T05:00:46.293

您可以像正在做的那样建立退出代码，但在控制台上，您必须在同一批次中测试 %errorlevel% 变量以获取值。

不要在命令提示符下运行命令，而是像这样创建一个简单的 bat：

```
REM calltest.bat

.\Test.exe
echo %ERRORLEVEL% 
```

然后，调用您的测试：

```
>calltest 
```

我在测试中得到了这个：

```
>calltest.bat
>project3.exe
>echo 47 
```

对于两者，直接设置`ExitCode`变量或调用`Halt`.

我的操作系统是 Win7 64，如果有什么不同的话。`%errorlevel%`直接从命令行打印输出 0 。

# html - 将旧页面重定向到新页面 HTML

> ID：15127708
> 
> 赞同：1
> 
> 时间：2013-02-28T04:47:38.647
> 
> 标签：html, html-lists

像这样的旧网站：www.example.com/oldnews.html

oldnews.html 页面更改为现在 newnews.html

像这样的新网站：www.example.com/newnews.html

当键入任何一个 www.example.com/oldnews.html 时自动将页面重定向到新页面 =>

www.example.com/newnews.html

如何将旧页面重定向到新页面？

使用 .htaccess 文件？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-28T04:49:45.400

试试这个 HTML5

```
<meta http-equiv="refresh" content="0";url='http://www.yourdomain.com/newindex.html'"> 
```

我在下面看到它说“如果您愿意使用服务器端，请使用 301 重定向。元标记，如另一个答案中所述，最适合客户端。”

在代码或服务器上完成的任何重定向都称为服务器端。当我们对 Firefox 或 Chrome 或任何改变最终用户与 Web 交互方式的浏览器进行更改时，它被称为客户端。

参考：[https ://www.w3.org/TR/WCAG20-TECHS/H76.html](https://www.w3.org/TR/WCAG20-TECHS/H76.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T04:50:29.880

如果您愿意使用服务器端，请使用 301 重定向。如另一个答案中所述，元标记最适合客户端。

# ios - 创建应用程序自己的照片库 (iOS)

> ID：15127709
> 
> 赞同：1
> 
> 时间：2013-02-28T04:47:54.683
> 
> 标签：ios, objective-c, xcode

您好，我有一个应用程序可以拍照并将新拍摄的照片显示到图像视图中。我可以保存图像并再次加载它。它保存在应用程序的目录中。是否可以创建仅用于该应用程序的相册？出于安全考虑，不应在 iPhone 的照片库中看到这些图片。如果可能的话，有人可以向我解释怎么做吗？这是我当前的代码。

**视图控制器.h**

```
#import <UIKit/UIKit.h>

@interface ViewController : UIViewController <UIImagePickerControllerDelegate, UINavigationControllerDelegate> {
    UIImagePickerController *picker;
    UIImagePickerController *picker2;
    UIImage *image;
    IBOutlet UIImageView *imageView;
}

-(IBAction)TakePhoto;
-(IBAction)ChooseExisting;
- (IBAction)btnSave:(id)sender;
- (IBAction)btnLoad:(id)sender;

@end 
```

**视图控制器.m**

```
#import "ViewController.h"

@interface ViewController ()

@end

@implementation ViewController

-(IBAction)TakePhoto{
    picker = [[UIImagePickerController alloc]init];
    picker.delegate=self;
    [picker setSourceType:UIImagePickerControllerSourceTypeCamera];
    [self presentViewController:picker animated:YES completion:NULL];
   // [picker release];

}

- (void)loadImage
{

    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentsPath = [paths objectAtIndex:0]; //Get the docs directory
    NSString *filePath = [documentsPath stringByAppendingPathComponent:@"image.png"]; //Add the file name
    NSData *pngData = [NSData dataWithContentsOfFile:filePath];
    image = [UIImage imageWithData:pngData];
}
-(IBAction)ChooseExisting{
    picker2 = [[UIImagePickerController alloc]init];
    picker2.delegate=self;
    [picker2 setSourceType:UIImagePickerControllerSourceTypePhotoLibrary];
    [self presentViewController:picker2 animated:YES completion:NULL];
    // [picker release];

}

- (NSString *)documentsPathForFileName:(NSString *)name
{
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask, YES);
    NSString *documentsPath = [paths objectAtIndex:0];

    return [documentsPath stringByAppendingPathComponent:name];
}
- (IBAction)btnSave:(id)sender {

    NSData *pngData = UIImagePNGRepresentation(image);
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentsPath = [paths objectAtIndex:0]; //Get the docs directory
    NSString *filePath = [documentsPath stringByAppendingPathComponent:@"image.png"]; //Add the file name
    [pngData writeToFile:filePath atomically:YES]; //Write the file
}
- (IBAction)btnLoad:(id)sender {
    [self loadImage];
    [imageView setImage:image];
}

-(void) imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info{
    image = [info objectForKey:UIImagePickerControllerOriginalImage];
    [imageView setImage:image];
    [self dismissViewControllerAnimated:YES completion:NULL];
}

- (void)viewDidLoad
{
    [self loadImage];
    [imageView setImage:image];
    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

@end 
```

# mongodb - MongoDB：对象 ID 唯一性

> ID：15127710
> 
> 赞同：5
> 
> 时间：2013-02-28T04:47:59.880
> 
> 标签：mongodb

快速提问：MongoDB 中的对象 ID 在整个数据库中是否唯一？我正在使用与不同集合相关的一个公共集合进行一对多的实现。

谢谢。

# spring - 集成 Spring 3 和 Tiles 2：创建 bean“tilesConfigurer”时出错

> ID：15127726
> 
> 赞同：1
> 
> 时间：2013-02-28T04:49:16.627
> 
> 标签：spring, spring-mvc, tiles2

我正在尝试制作一个集成 Spring 3 MVC 和 Apache Tiles 2 的基本 Hello world 应用程序。如果我理解正确，当 spring 容器尝试初始化titlesConfigurer bean时我会收到错误消息。这是控制台上的说明它的行：

```
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'tilesConfigurer' defined in ServletContext resource [/WEB-INF/springMVC-servlet.xml]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: org.apache.tiles.reflect.ClassUtil.getClass(Ljava/lang/String;Ljava/lang/Class;) 
```

它使用 2 个参数调用 getClass 方法 - String 和 Class，它抱怨没有这样的方法。我已经验证了我包含的瓷砖罐子（我在我包含的所有罐子下面列出）确实包含类 org.apache.tiles.reflect.ClassUtil

getClass() 是来自 Object 类的方法，而不是 ClassUtil 自己的方法。我不明白为什么在创建tileConfigurer bean时会调用带有2个参数的这个方法getClass？如何摆脱这个错误？

这是我的**springMVC-servlet.xml**

```
<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:p="http://www.springframework.org/schema/p"
    xmlns:context="http://www.springframework.org/schema/context"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
http://www.springframework.org/schema/context
http://www.springframework.org/schema/context/spring-context-3.0.xsd">

<context:component-scan base-package="com.learning.java.spring3.controller"/>

<!-- Following viewResolver and tilesConfigurer is added to work with tiles.. -->
<bean id="viewResolver" class="org.springframework.web.servlet.view.UrlBasedViewResolver">
    <property name="viewClass">
        <value>org.springframework.web.servlet.view.tiles2.TilesView</value>
    </property>
</bean>

<bean id="tilesConfigurer" class="org.springframework.web.servlet.view.tiles2.TilesConfigurer">
    <property name="definitions">
        <list>
            <value>/WEB-INF/tiles.xml</value>
        </list>
    </property>
</bean>

</beans> 
```

这是我的WEB-INF/lib 文件夹**中所有 jar 文件的列表**

![在此处输入图像描述](../Images/a0bad5fb53c99a9d93361b640e988c7c.png)

这是**控制台上的整个错误日志**：

```
Feb 28, 2013 9:56:03 AM org.apache.catalina.core.AprLifecycleListener init
INFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: /Users/scintilla/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.
Feb 28, 2013 9:56:03 AM org.apache.tomcat.util.digester.SetPropertiesRule begin
WARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property 'source' to 'org.eclipse.jst.jee.server:HelloSpring3MVC' did not find a matching property.
Feb 28, 2013 9:56:03 AM org.apache.coyote.AbstractProtocol init
INFO: Initializing ProtocolHandler ["http-bio-8080"]
Feb 28, 2013 9:56:03 AM org.apache.coyote.AbstractProtocol init
INFO: Initializing ProtocolHandler ["ajp-bio-8009"]
Feb 28, 2013 9:56:03 AM org.apache.catalina.startup.Catalina load
INFO: Initialization processed in 560 ms
Feb 28, 2013 9:56:03 AM org.apache.catalina.core.StandardService startInternal
INFO: Starting service Catalina
Feb 28, 2013 9:56:03 AM org.apache.catalina.core.StandardEngine startInternal
INFO: Starting Servlet Engine: Apache Tomcat/7.0.33
Feb 28, 2013 9:56:04 AM org.apache.catalina.util.SessionIdGenerator createSecureRandom
INFO: Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [104] milliseconds.
log4j:WARN No appenders could be found for logger (org.springframework.web.servlet.DispatcherServlet).
log4j:WARN Please initialize the log4j system properly.
Feb 28, 2013 9:56:04 AM org.apache.catalina.core.ApplicationContext log
INFO: Initializing Spring FrameworkServlet 'springMVC'
SLF4J: This version of SLF4J requires log4j version 1.2.12 or later. See also http://www.slf4j.org/codes.html#log4j_version
Feb 28, 2013 9:56:05 AM org.apache.catalina.core.ApplicationContext log
SEVERE: StandardWrapper.Throwable
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'tilesConfigurer' defined in ServletContext resource [/WEB-INF/springMVC-servlet.xml]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: org.apache.tiles.reflect.ClassUtil.getClass(Ljava/lang/String;Ljava/lang/Class;)Ljava/lang/Class;
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1403)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:290)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:287)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:189)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:562)
    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:871)
    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:423)
    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:443)
    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:459)
    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:340)
    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:307)
    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:127)
    at javax.servlet.GenericServlet.init(GenericServlet.java:160)
    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1266)
    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1185)
    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1080)
    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5027)
    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5314)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)
    at java.util.concurrent.FutureTask.run(FutureTask.java:166)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
    at java.lang.Thread.run(Thread.java:722)
Caused by: java.lang.NoSuchMethodError: org.apache.tiles.reflect.ClassUtil.getClass(Ljava/lang/String;Ljava/lang/Class;)Ljava/lang/Class;
    at org.apache.tiles.factory.BasicTilesContainerFactory.registerRequestContextFactory(BasicTilesContainerFactory.java:194)
    at org.apache.tiles.factory.BasicTilesContainerFactory.getTilesRequestContextFactoriesToBeChained(BasicTilesContainerFactory.java:167)
    at org.apache.tiles.factory.BasicTilesContainerFactory.registerChainedRequestContextFactories(BasicTilesContainerFactory.java:152)
    at org.apache.tiles.factory.BasicTilesContainerFactory.createRequestContextFactory(BasicTilesContainerFactory.java:139)
    at org.apache.tiles.factory.BasicTilesContainerFactory.createContainer(BasicTilesContainerFactory.java:98)
    at org.apache.tiles.startup.AbstractTilesInitializer.createContainer(AbstractTilesInitializer.java:124)
    at org.apache.tiles.startup.AbstractTilesInitializer.initialize(AbstractTilesInitializer.java:70)
    at org.springframework.web.servlet.view.tiles2.TilesConfigurer.afterPropertiesSet(TilesConfigurer.java:305)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1460)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1400)
    ... 28 more

Feb 28, 2013 9:56:05 AM org.apache.catalina.core.StandardContext loadOnStartup
SEVERE: Servlet /HelloSpring3MVC threw load() exception
java.lang.NoSuchMethodError: org.apache.tiles.reflect.ClassUtil.getClass(Ljava/lang/String;Ljava/lang/Class;)Ljava/lang/Class;
    at org.apache.tiles.factory.BasicTilesContainerFactory.registerRequestContextFactory(BasicTilesContainerFactory.java:194)
    at org.apache.tiles.factory.BasicTilesContainerFactory.getTilesRequestContextFactoriesToBeChained(BasicTilesContainerFactory.java:167)
    at org.apache.tiles.factory.BasicTilesContainerFactory.registerChainedRequestContextFactories(BasicTilesContainerFactory.java:152)
    at org.apache.tiles.factory.BasicTilesContainerFactory.createRequestContextFactory(BasicTilesContainerFactory.java:139)
    at org.apache.tiles.factory.BasicTilesContainerFactory.createContainer(BasicTilesContainerFactory.java:98)
    at org.apache.tiles.startup.AbstractTilesInitializer.createContainer(AbstractTilesInitializer.java:124)
    at org.apache.tiles.startup.AbstractTilesInitializer.initialize(AbstractTilesInitializer.java:70)
    at org.springframework.web.servlet.view.tiles2.TilesConfigurer.afterPropertiesSet(TilesConfigurer.java:305)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1460)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1400)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:290)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:287)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:189)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:562)
    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:871)
    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:423)
    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:443)
    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:459)
    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:340)
    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:307)
    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:127)
    at javax.servlet.GenericServlet.init(GenericServlet.java:160)
    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1266)
    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1185)
    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1080)
    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5027)
    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5314)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)
    at java.util.concurrent.FutureTask.run(FutureTask.java:166)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
    at java.lang.Thread.run(Thread.java:722)

Feb 28, 2013 9:56:05 AM org.apache.coyote.AbstractProtocol start
INFO: Starting ProtocolHandler ["http-bio-8080"]
Feb 28, 2013 9:56:05 AM org.apache.coyote.AbstractProtocol start
INFO: Starting ProtocolHandler ["ajp-bio-8009"]
Feb 28, 2013 9:56:05 AM org.apache.catalina.startup.Catalina start
INFO: Server startup in 1360 ms
Feb 28, 2013 9:56:19 AM org.apache.catalina.core.ApplicationContext log
INFO: Initializing Spring FrameworkServlet 'springMVC'
Feb 28, 2013 9:56:20 AM org.apache.catalina.core.ApplicationContext log
SEVERE: StandardWrapper.Throwable
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'tilesConfigurer' defined in ServletContext resource [/WEB-INF/springMVC-servlet.xml]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: org.apache.tiles.reflect.ClassUtil.getClass(Ljava/lang/String;Ljava/lang/Class;)Ljava/lang/Class;
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1403)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:290)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:287)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:189)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:562)
    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:871)
    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:423)
    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:443)
    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:459)
    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:340)
    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:307)
    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:127)
    at javax.servlet.GenericServlet.init(GenericServlet.java:160)
    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1266)
    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1185)
    at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:857)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:136)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:931)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
    at java.lang.Thread.run(Thread.java:722)
Caused by: java.lang.NoSuchMethodError: org.apache.tiles.reflect.ClassUtil.getClass(Ljava/lang/String;Ljava/lang/Class;)Ljava/lang/Class;
    at org.apache.tiles.factory.BasicTilesContainerFactory.registerRequestContextFactory(BasicTilesContainerFactory.java:194)
    at org.apache.tiles.factory.BasicTilesContainerFactory.getTilesRequestContextFactoriesToBeChained(BasicTilesContainerFactory.java:167)
    at org.apache.tiles.factory.BasicTilesContainerFactory.registerChainedRequestContextFactories(BasicTilesContainerFactory.java:152)
    at org.apache.tiles.factory.BasicTilesContainerFactory.createRequestContextFactory(BasicTilesContainerFactory.java:139)
    at org.apache.tiles.factory.BasicTilesContainerFactory.createContainer(BasicTilesContainerFactory.java:98)
    at org.apache.tiles.startup.AbstractTilesInitializer.createContainer(AbstractTilesInitializer.java:124)
    at org.apache.tiles.startup.AbstractTilesInitializer.initialize(AbstractTilesInitializer.java:70)
    at org.springframework.web.servlet.view.tiles2.TilesConfigurer.afterPropertiesSet(TilesConfigurer.java:305)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1460)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1400)
    ... 32 more

Feb 28, 2013 9:56:20 AM org.apache.catalina.core.StandardWrapperValve invoke
SEVERE: Allocate exception for servlet springMVC
java.lang.NoSuchMethodError: org.apache.tiles.reflect.ClassUtil.getClass(Ljava/lang/String;Ljava/lang/Class;)Ljava/lang/Class;
    at org.apache.tiles.factory.BasicTilesContainerFactory.registerRequestContextFactory(BasicTilesContainerFactory.java:194)
    at org.apache.tiles.factory.BasicTilesContainerFactory.getTilesRequestContextFactoriesToBeChained(BasicTilesContainerFactory.java:167)
    at org.apache.tiles.factory.BasicTilesContainerFactory.registerChainedRequestContextFactories(BasicTilesContainerFactory.java:152)
    at org.apache.tiles.factory.BasicTilesContainerFactory.createRequestContextFactory(BasicTilesContainerFactory.java:139)
    at org.apache.tiles.factory.BasicTilesContainerFactory.createContainer(BasicTilesContainerFactory.java:98)
    at org.apache.tiles.startup.AbstractTilesInitializer.createContainer(AbstractTilesInitializer.java:124)
    at org.apache.tiles.startup.AbstractTilesInitializer.initialize(AbstractTilesInitializer.java:70)
    at org.springframework.web.servlet.view.tiles2.TilesConfigurer.afterPropertiesSet(TilesConfigurer.java:305)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1460)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1400)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:290)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:287)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:189)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:562)
    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:871)
    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:423)
    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:443)
    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:459)
    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:340)
    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:307)
    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:127)
    at javax.servlet.GenericServlet.init(GenericServlet.java:160)
    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1266)
    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1185)
    at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:857)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:136)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:931)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
    at java.lang.Thread.run(Thread.java:722) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-28T08:43:28.253

spring-3.2 附带了对 tiles-3 的支持，您可以随时尝试一下。

两个可以提供帮助的博客

*   [http://tech.finn.no/the-ultimate-view-tiles-3/4/](http://tech.finn.no/the-ultimate-view-tiles-3/4/)
*   [http://dhruvgairola.blogspot.de/2013/03/spring-mvc-with-apache-tiles-3.html](http://dhruvgairola.blogspot.de/2013/03/spring-mvc-with-apache-tiles-3.html)

# liferay - 为不同用户设置登陆页面

> ID：15127727
> 
> 赞同：0
> 
> 时间：2013-02-28T04:49:19.163
> 
> 标签：liferay, liferay-6

我正在使用 Liferay 6.1CE。

我可以将我的默认登录页面设置为控制面板中的站点。但是在我的门户中有 2 个站点，有两个用户。例如：userA 是siteA 的成员，userB 也是siteB 的成员。

登录后如何将用户重定向到他们的网站。

我能做些什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T16:08:20.963

You can create the Liferay hook for your custom login post action. Please have a look at :

[custom action using hook](http://www.liferay.com/documentation/liferay-portal/6.0/development/-/ai/performing-a-custom-action)

on how to create the hook.

In the hook, you can identify the looged in user based on your search criteria and redirect to the relevant community.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T09:26:42.753

我猜你的意思是两个社区的 2 个站点。无论如何，您需要创建`post login action`检查条件并在需要的地方重定向。

# python - 在python中使用readline为正在读取的输入文件的每个单词打印出自己的行

> ID：15127730
> 
> 赞同：0
> 
> 时间：2013-02-28T04:49:38.993
> 
> 标签：python, python-3.x

我有一个包含多行文本的输入文件，其中一些是分隔缩进段落的空白行。

我想使用 readline() 为输入文件中的每个单词打印一行输出。有人可以提供一个这样做的代码示例吗？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T05:07:57.743

你不需要`readline()`；`file`本身就是一个迭代器。假设单词由空格分隔：

```
with open(filename) as file:
    for line in file:
        words = line.split()
        if words:
            # each line in the output has exactly one word in it
            print("\n".join(words)) 
```

# php - 在 cURL 中更改上传文件的名称？

> ID：15127732
> 
> 赞同：15
> 
> 时间：2013-02-28T04:49:47.370
> 
> 标签：php, post, curl

我想使用 cURL 上传文件。由于 cURL 需要文件的完整路径，所以这是我的代码：

```
curl_setopt($ch, CURLOPT_POSTFIELDS, array("submit" => "submit", "file" => "@path/to/file.ext"));
curl_exec($ch); 
```

但是 cURL 也会在请求标头中发布文件的完整路径：

> 内容处置：表单数据；名称=“文件”；文件名="/path/to/file.ext"

但我希望它只是

> 内容处置：表单数据；名称=“文件”；文件名="文件.ext"

所以我将代码更改为

```
curl_setopt($ch, CURLOPT_POSTFIELDS, array("submit" => "submit", "file" => "@file.ext"));
chdir("path/to"); # change current working directory to where the file is placed
curl_exec($ch);
chdir("path"); # change current working directory back 
```

然后 cURL 简单地抛出一条错误消息

> 无法打开文件“file.ext”

谁能告诉我该怎么做？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2014-01-28T00:36:20.417

**[使用CURLFile](http://php.net/curlfile)**的新方法**（自 PHP 5.5 起）：**

 **```
$file = new CURLFile('path/to/file.ext');
$file->setPostFilename('file.ext'); 
```

使用它几乎相同：

```
"file" => $file 
```

**旧方法**：

代替

```
"file" => "@path/to/file.ext" 
```

你可以告诉 cURL 使用另一个文件名：

```
"file" => "@path/to/file.ext; filename=file.ext" 
```

这样它将`path/to/file.ext`用作文件源，但`file.ext`用作文件名。

不过，您将需要一个非常绝对的路径，因此您可能缺少前导`/`: `/path/to/file.ext`。由于您使用的是 PHP，因此请始终执行以下操作`realpath()`：

```
"file" => '@' . realpath($pathToFile) . '; filename=' . basename($pathToFile); 
```

或类似的东西。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-03-02T01:45:23.560

如果我错了，请纠正我，但 cURL 上传不适用于相对路径。它总是需要一个绝对路径，喜欢

```
$realpath = realpath($uploadfile); 
```

因此，如果有人想在上传时隐藏其网络服务器上文件的位置，请将其移动到临时文件夹或使用 fsockopen()（请参阅PHP 手册的用户贡献说明中的此[示例）](http://php.net/manual/en/function.fsockopen.php#62380)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T04:56:41.713

如果您想隐藏真实的文件位置，您需要将文件放在一个临时区域中，然后从那里引用该文件。不幸的是，cURL 不支持只发送二进制数据，否则您可以只发送 base64 或二进制数据字符串而不是文件名引用。**

# r - 对汇总元素进行计算

> ID：15127736
> 
> 赞同：2
> 
> 时间：2013-02-28T04:49:59.143
> 
> 标签：r

是否有一种简单的方法可以对摘要的元素进行后续数学计算？我有通过方差分析运行的日志转换数据。我想计算汇总输出的反对数。

我有以下代码：

```
require(multcomp)
inc <- log(Inc)
myanova <- aov(inc ~ educ)    
tukey <- glht(myanova, linfct = mcp(educ = "Tukey"))
summary(tukey) 
```

产生如下输出：

```
 Estimate Std. Error t value Pr(>|t|)    
12 - under12 == 0      0.32787    0.08493   3.861  0.00104 ** 
13to15 - under12 == 0  0.49187    0.08775   5.606  < 0.001 ***
16 - under12 == 0      0.89775    0.09217   9.740  < 0.001 ***
over16 - under12 == 0  0.99856    0.09316  10.719  < 0.001 ***
13to15 - 12 == 0       0.16400    0.04674   3.509  0.00394 ** 
etc. 
```

如何轻松地对估计值执行反对数计算？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T05:19:19.277

这有点小技巧，所以我建议您进一步检查，但如果您只想查看指数估计和标准错误，我认为类似于以下内容的东西会起作用（我使用了不同的数据）。

```
> amod <- aov(breaks ~ tension, data = warpbreaks)
> tukey = glht(amod, linfct = mcp(tension = "Tukey"))

> tsum = summary(tukey)
> tsum[[10]]$coefficients = exp(tsum[[10]]$coefficients)
> tsum[[10]]$sigma = exp(tsum[[10]]$sigma)
> tsum 
```

如果您想使用 coef(tukey) 为您提供估计值，那么您将使用以下方法进行反向转换：

```
exp(coef(tukey)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T05:25:14.163

我认为这应该有效：

```
 coef(tukey) 
```

得到估计值。这里有一个例子：

```
 amod <- aov(breaks ~ tension, data = warpbreaks)
  tukey <- glht(amod, linfct = mcp(tension = "Tukey")) 
```

现在，如果要获取您键入的所有 tukey 摘要元素，请应用`head`或`tail`获取带有摘要元素的命名列表。

```
head(summary(tukey))
$model
Call:
   aov(formula = breaks ~ tension, data = warpbreaks)

Terms:
                 tension Residuals
Sum of Squares  2034.259  7198.556
Deg. of Freedom        2        51

Residual standard error: 11.88058 
Estimated effects may be unbalanced

$linfct
      (Intercept) tensionM tensionH
M - L           0        1        0
H - L           0        0        1
H - M           0       -1        1
attr(,"type")
[1] "Tukey"

$rhs
[1] 0 0 0

$coef
(Intercept)    tensionM    tensionH 
   36.38889   -10.00000   -14.72222 

$vcov
            (Intercept)  tensionM  tensionH
(Intercept)    7.841564 -7.841564 -7.841564
tensionM      -7.841564 15.683128  7.841564
tensionH      -7.841564  7.841564 15.683128

$df
[1] 51 
```

# windows - 在 MFC 中打开多个 URL

> ID：15127740
> 
> 赞同：0
> 
> 时间：2013-02-28T04:50:11.627
> 
> 标签：windows, mfc, file-transfer

我正在尝试在 CInternetSession 类的 OpenURL() 中同时发送打开 URL 的请求。但是在发送 2 个 URLS 请求后，如果没有收到之前发送请求的响应，就无法发送其他请求。如何向服务器发送大量 URL 请求，然后我只想处理响应。如果有任何其他 API 用于向服务器发送多个 URL 请求并稍后接收响应，请提供帮助。我想在 MFC 窗口中使用

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T06:02:17.010

HTTP 1.1 规范 (RFC 2068) 规定了两个连接的限制。

通过这种方式，WinInet（`CInternetSession`建立在它之上）限制了每台服务器的连接（[MSDN](http://support.microsoft.com/kb/183110)）。

您可以尝试调用和 `SetOption`调整值。( [MSDN](http://msdn.microsoft.com/en-us/library/windows/desktop/aa385328%28v=vs.85%29.aspx) )`INTERNET_OPTION_MAX_CONNS_PER_SERVER``INTERNET_OPTION_MAX_CONNS_PER_1_0_SERVER`

像这样的东西：

```
sess.SetOption(INTERNET_OPTION_MAX_CONNS_PER_SERVER, 8); 
sess.SetOption(INTERNET_OPTION_MAX_CONNS_PER_1_0_SERVER, 8); 
```

# ios - 重新制作开发者证书，我应该重新制作发行证书吗？

> ID：15127741
> 
> 赞同：0
> 
> 时间：2013-02-28T04:50:12.347
> 
> 标签：ios, xcode, ios-provisioning

所以我的机器投入使用，他们擦掉了它。我今天尝试进行临时部署，但无法让分发证书正常工作，所以我正在阅读线程并撤销我的开发人员证书并制作一个新证书。现在我想我必须重新制作分发证书，因为当我尝试使用它时，它说它找不到有效的密钥对。即使我在我的另一台机器上找到了私钥，撤销它也可能意味着它无法工作。

我已经到了我认为配置还不错的地步。那好吧...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T04:51:51.230

擦除计算机时，您会丢失公钥+私钥对。这会导致所有证书无效，因此需要您重新制作每个证书。不要忘记中间证书 (WWDR)

# python - 将字符串与列表中的单词匹配

> ID：15127744
> 
> 赞同：1
> 
> 时间：2013-02-28T04:50:28.007
> 
> 标签：python, string, list

我有一个后缀列表，我想检查我的单词是否以其中任何一个结尾，如果是，我想打印它，我正在执行以下操作：

```
if(string.endswith(any(word in my_list))):
        print string
        print" "
        print word 
```

my_list 是后缀列表。当我运行它时，它给了我一个错误，说没有定义名称'word'

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-28T04:51:31.217

`any`返回一个布尔值。 `str.endswith`需要一个字符串或一个`tuple`字符串。

你可能想要这样的东西：

```
if s.endswith(tuple(my_list)):
   print string 
```

或者如果你真的想知道它匹配的是哪一个：

```
suffix = next((word for word in my_list if s.endswith(word)),False)
if suffix:
    print word, suffix 
```

# android - 在文本文件中获取换行符

> ID：15127751
> 
> 赞同：0
> 
> 时间：2013-02-28T04:50:47.990
> 
> 标签：android, textview, text-files, assets

我将文本文件存储在 assets 文件夹中，我的要求是在 textview 中逐点显示内容。如果存储在 assets 文件夹中的文本文件中没有空间，我可以访问内容。如果我将空间放在文本中文件然后我无法在空格后获取内容。如何实现这一点意味着逐点显示内容。例如我的文本文件如下

a)美洲)非洲)印度

我想要输出为

a) 美国

b) 非洲

c) 印度

```
Here is my code to access the text file from assest folder which I am getting.

InputStream in = this.getAssets().open("detailtext.txt");
            BufferedReader reader = new BufferedReader(new InputStreamReader(in));
            line = reader.readLine(); 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-28T05:11:49.520

由于您需要阅读多行，因此需要循环，直到到达 EOF。尝试这样的事情： -

```
StringBuffer sb = new StringBuffer(0);
InputStream in = this.getAssets().open("detailtext.txt");
BufferedReader reader = new BufferedReader(new InputStreamReader(in));
String line = null;
while((line = reader.readLine()) != null){
    sb.append(line);
    sb.append("\n");
}
String wholeText = sb.toString(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T05:01:25.380

您只读取一行，您需要使用 while 循环并继续读取每一行直到文件末尾

```
InputStream in = this.getAssets().open("detailtext.txt");
BufferedReader reader = new BufferedReader(new InputStreamReader(in));
while((line = reader.readLine()) != null){
    // do whatever with line
} 
```

# c# - 获取字符串中的标记块

> ID：15127754
> 
> 赞同：0
> 
> 时间：2013-02-28T04:50:52.407
> 
> 标签：c#

我的项目陷入困境，无法克服这个困难。我需要其他人的帮助来解决这个问题：

我有一个字符串，在该字符串内部有一些标记文本，我想手动将它们取出并将它们放入字符串的数组列表中。最终结果可能有两个数组列表，一个是普通文本，另一个是令牌文本。下面是一个字符串示例，其中包含一些被打开标记“[[”和关闭标记“]]”包围的标记。

* * *

第一步，通过将淀粉源与热水混合来制备麦芽汁，称为 [[Textarea]]。热水与压碎的麦芽或麦芽酒在麦芽浆桶中混合。糖化过程大约需要 [[CheckBox]]，在此期间淀粉转化为糖，然后甜麦芽汁从谷物中排出。谷物现在在称为 [[Radio]] 的过程中进行清洗。这种洗涤允许酿酒商尽可能地从谷物中收集 [[DropDownList]] 可发酵液体。

* * *

操作字符串后得到两个数组列表：

结果：

```
Normal Text ArrayList { "The first step, where the wort is prepared by mixing the starch source with hot water, is known as ", ". Hot water is mixed with crushed malt or malts in a mash tun. The mashing process takes around ", ", during which the starches are converted to sugars, and then the sweet wort is drained off the grains. The grains are now washed in a process known as ", ". This washing allows the brewer to gather ", " the fermentable liquid from the grains as possible." }

Token Text ArrayList { "[[Textarea]]", "[[CheckBox]]", "[[Radio]]", "[[DropDownList]]" } 
```

两个数组列表，一个是普通文本数组列表，有 5 个元素，是标记之前或之后的文本，另一个是标记文本数组列表，有 4 个元素，是字符串内部的标记文本。

这个作品可以用哪一种技术切分串，但是对于长长的文本来说太难了，而且很容易出错，有时不能得到我想要的。如果在这个问题上有一些帮助，请在 C# 中发布，因为我正在使用 C# 来执行此任务。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T07:27:34.440

这似乎可以完成这项工作（尽管请注意，目前，我的`tokens`数组包含普通标记，而不是用`[[`and包裹它们`]]`：

```
var inp = @"The first step, where the wort is prepared by mixing the starch source with hot water, is known as [[Textarea]]. Hot water is mixed with crushed malt or malts in a mash tun. The mashing process takes around [[CheckBox]], during which the starches are converted to sugars, and then the sweet wort is drained off the grains. The grains are now washed in a process known as [[Radio]]. This washing allows the brewer to gather [[DropDownList]] the fermentable liquid from the grains as possible.";

var step1 = inp.Split(new string[] { "[[" }, StringSplitOptions.None);
//step1 should now contain one string that's due to go into normal, followed by n strings which need to be further split
var step2 = step1.Skip(1).Select(a => a.Split(new string[] { "]]" }, StringSplitOptions.None));
//step2 should now contain pairs of strings - the first of which are the tokens, the second of which are normal strings.

var normal = step1.Take(1).Concat(step2.Select(a => a[1])).ToArray();
var tokens = step2.Select(a => a[0]).ToArray(); 
```

这也假设输入中没有不平衡`[[`和`]]`序列。

进入该解决方案的观察结果：如果您首先将字符串拆分为`[[`原始文本中的每一对，那么第一个输出字符串已经生成。此外，第一个字符串之后的每个字符串都包含一个标记、`]]`对和一个普通文本。例如，第二个结果`step1`是：“Textarea]]。热水与压碎的麦芽或麦芽混合在糖化桶中。糖化过程大约需要”

因此，如果您将这些其他结果拆分`]]`成对，那么第一个结果是一个标记，第二个结果是一个普通字符串。

# asp.net - 仅在特定网页上增加请求超时

> ID：15127756
> 
> 赞同：7
> 
> 时间：2013-02-28T04:51:23.603
> 
> 标签：asp.net, .net, timeout

是否可以仅增加一个特定网页的请求超时？我正在使用 ASP.Net 4.0，我需要一个特定的页面来获得更长的请求超时，因为它负责启动一个长时间运行的进程。谢谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-28T04:53:34.960

使用 Web.config：

```
<location path="Page.aspx">
    <system.web>
        <httpRuntime executionTimeout="180"/>
    </system.web>
</location> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-12-20T10:41:48.597

这是一个老线程，但需要强调的是，更新一个页面或整个机器的 executionTimeout 还必须伴随着编译调试标志被设置为“false”，否则超时元素被忽略。

此外，根据您是否使用 AJAX 更新面板，您可能还需要查看 ScriptManager 本身的 AsycPostBackTimeout 标志 - 取决于您的超时如何体现。Ajax 回发超时将被视为记录到 Javascript 控制台的错误消息，并且往往表现为 ajax 操作“垂死挣扎”，具体取决于您处理事情的方式。

debug="false" 位可能是困扰上面这位先生的原因，他在他的 Amazon 服务器上遇到问题，但不是在本地。

一些谷歌搜索也会发现一些人已经注意到 localhost 处理事情的方式也不同，所以你可能需要围绕它进行试验。

# android - 无法点击谷歌地图信息框

> ID：15127761
> 
> 赞同：0
> 
> 时间：2013-02-28T04:51:40.723
> 
> 标签：android, google-maps, cordova, jquery-mobile

为什么我的信息框无法点击？

我创建了 boxText，如下所示：

```
var boxText = document.createElement("div");
boxText.style.cssText = "width:210px; text-overflow: ellipsis; white-space: nowrap; overflow: hidden; padding:18px; color:#FFFFFF; text-shadow: 0 -1px 1px #000000;"
boxText.innerHTML = "<span class='infoBox'>"+selectedDistributorArr[0].title+"</span>";
boxText.id = "boxText"; 
```

我还将它分配给我的标记的信息框：

```
var myBxOptions = {
                 content: boxText,
                 disableAutoPan: false,
                 maxWidth: 0,
                 pixelOffset: new google.maps.Size(-145, -130),
                 zIndex: null,
                 boxStyle: { 
                  background: "url('images/icons/xhdpi/tooltip.png') no-repeat",
                  width: "271px",
                  height: "80px"
                 },
                 closeBoxURL: "",
                 infoBoxClearance: new google.maps.Size(1, 1),
                 isHidden: false,
                 pane: "floatPane",
                 enableEventPropagation: false
        };
marker.infobox = new InfoBox(myBxOptions); 
```

我还分配给单击侦听器，但根本没有显示警报！

```
google.maps.event.addDomListener(boxText, 'click', function() {
            alert("ALERT!");
}); 
```

我相信这是正确的方法，还是我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T07:15:36.510

只是几个快速的想法。

你把听众放在正确的事情上吗？boxText 只是一个变量，而在我看来，信息框需要放置什么。

另外，如果不是这样，将 enableEventPropagation 设置为 false 是否会阻止侦听器触发？

# android - WebView 在触摸 Android 4.2.2 之前无法呈现

> ID：15127762
> 
> 赞同：23
> 
> 时间：2013-02-28T04:51:45.013
> 
> 标签：android, android-webview

我正在开发一个名为 Lightning Browser 的开源浏览器，但在最近更新到 Android (4.2.2) 时遇到了一些问题。

在触摸视图之前，WebView 将无法完全呈现。它仅发生在最新的 Android 版本上。在 4.2.1 上，WebView 渲染得非常好。我使用 Nexus 7 进行开发，在收到 4.2.2 更新后，浏览器立即停止渲染。其他用户也遇到过这种情况，并且多次确认仅在 4.2.2 上发生。它正在针对 API 级别 16 和 17 发生，但我已经看到针对 API 级别 9 的 WebKit 浏览器没有这个问题。

我试图使用我在 Stack Overflow 上找到的问题的解决方案来解决这个问题（[Android WebView 呈现空白/白色，视图不会在 css 更改或 HTML 更改时更新，动画不连贯](https://stackoverflow.com/questions/13500452/android-webview-renders-blank-white-view-doesnt-update-on-css-changes-or-html)）。但是，仅将 WebView 的 RenderPriority 设置为高并不能解决它......让它在不被触摸的情况下呈现的唯一方法是将 invalidate() 命令放在 WebView 的 OnDraw() 方法中。这会导致 WebView 不断地重新绘制。这可行（有点），动画很流畅，页面加载非常快，但否则会导致 WebView 的性能下降。

我也看过这个问题（与我的非常相似），但没有很好的答案。[在用户交互之前，Android WebView 无法完全呈现内容](https://stackoverflow.com/questions/10387345/android-webview-fails-to-completely-render-content-until-user-interaction)

性能下降，我的意思是输入。文本输入滞后，WebView 本身无法像以前那样处理正在发生的事情。使用 invalidate() 方法调用对浏览器进行基准测试会使基准测试性能下降约 8%。我知道基准测试并不是万能的，但它告诉我连续绘图正在使系统紧张并导致系统忽略其他任务。

结论... Android 4.2.2 中的 WebView 在触摸之前不会呈现。我知道解决此问题的唯一方法是在 WebView 的 onDraw() 方法中调用 invalidate()。这对性能不利，我正在寻找一种不同的方法来解决这个问题。

魔法密码（我目前正在使用）...

```
class MyWebView extends WebView
{
    @Override
    onDraw(Canvas canvas)
    {
        invalidate(); 
        super.OnDraw(canvas);
    }
} 
```

消除

```
invalidate(); 
```

并且在触摸之前它不会渲染。

有没有人对如何使 WebView 渲染有建议（除了我所做的）？顺便说一句，这是我在 Stack 上提出的第一个问题，如果我不清楚或者我做错了什么，请原谅我。

编辑：我在[这里](https://stackoverflow.com/questions/11344125/android-chromium-disk-cache-error-corrupt-index-file)发现了这个关于类似问题的问题，并且已经解决，问题是，我什至不明白答案的含义。如果有人能启发我，它可能会有所帮助。

我在 logcat 中收到此错误

```
E/chromium(1243): external/chromium/net/disk_cache/backend_impl.cc:2022: [0705/172030:ERROR:backend_impl.cc(2022)] Corrupt Index file 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-29T17:08:36.860

所以我终于找到了导致 WebView 不呈现的问题。我正在我的 WebView 的 WebViewClient 内启动和停止可绘制的动画。这个drawable只是一个在页面加载时旋转的刷新按钮......简单吧？

那么在浏览器的非全屏模式下，旋转drawable和WebView都是同一个父级的子级，而在全屏模式下，drawable成为WebView的子级。不知何故，通过在页面加载时启动动画并在完成时（全屏）停止动画，应用程序决定旋转可绘制对象需要所有绘图能力，而 WebView 从不绘制。当处于全屏模式并且可绘制对象成为 WebView 的子对象时，WebView 的渲染优先级高于可绘制对象，并且可以正常绘制。

这个故事的寓意是...... WebViews 喜欢成为要绘制的最高优先级视图。如果有其他视图获得更高的优先级，它们将无法正确绘制。

我不是动画方面的专家，所以我现在需要重新考虑如何为可绘制对象设置动画，以免中断 WebView。

希望这是有道理的。谢谢阅读。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-05-24T07:19:00.040

在清单上禁用硬件加速：

安卓：硬件加速=“假”

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-05-09T23:11:42.617

请参阅@Olivier 在[Android 上的最后一个答案 WebView 呈现空白/白色，视图不会在 css 更改或 HTML 更改时更新，动画不连贯](https://stackoverflow.com/questions/13500452/android-webview-renders-blank-white-view-doesnt-update-on-css-changes-or-html)，他在 WebView 的 OnTouchEvent 上触发了几个延迟失效，而不是在 onDraw 上连续触发 ...我的情况很有效，因为（大多数）我的问题是在用户触摸 webview 之后我更改了一些 CSS 作为响应。当然，它根本不适用于自动/超时 css 的情况

在我的例子中，它还有助于从 Java 导出一个 JavaScript 函数来手动触发延迟失效，所以如果在 JavaScript 中你或多或少知道灾难可能发生在哪里，你可以手动触发它，就像你的 WebView 中的这个内部类一样：

```
public class MyWebView extends WebView {

    private class InvalidateExtension {

        private Handler handler=new Handler(); // you might already have a handler
        private Runnable mInvalidater=new Runnable() {

            @Override
            public void run() {
                MyWebView.this.invalidate();
            }

        }

        public void trigger(int delay) {
                handler.postDelayed(mInvalidater, delay);
                handler.postDelayed(mInvalidater, 2*delay); // just in case
                handler.postDelayed(mInvalidater, 4*delay); // just in case just in case :)
        }
    }

    /** Call this function on this view's init, BEFORE loading a page so it is available to JS */
    private void call_me_on_init_to_enable_hack() {
        addJavascriptInterface(new InvalidateExtension(), "Invalidater");
    }
} 
```

因此，您可以从 JavaScript 执行以下操作：

```
Invalidater.trigger(100); 
```

并使用毫秒值....

希望这对某人有帮助！

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-06-26T09:56:22.773

旋转手机时缩放比例有问题，会导致此问题，部分或整个页面将无法绘制。要在您的 WebViewClient 实现中解决此覆盖 onScaleChanged 并使视图无效。这应该在需要时强制重绘。

```
@Override
    public void onScaleChanged(WebView view, float oldScale, float newScale) {
        if (view != null) {
            view.invalidate();
        }
    } 
```

# url - 资源集合的 REST url，它按不等于给定值的属性过滤资源

> ID：15127764
> 
> 赞同：8
> 
> 时间：2013-02-28T04:51:52.793
> 
> 标签：url, rest

如何为资源集合设计 REST url，按属性过滤资源不等于给定值？

例如，要让 8 年级的学生，我们使用

```
GET /students?grade=8 
```

如果我们需要让学生**不在**8 年级，如何做同样的事情？以及如何设计小于（`<`），大于（`>`）等？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-13T11:51:59.997

我正在考虑做的是将运算符作为参数的一部分，与值分隔。我还将定义非符号运算符以避免需要丑陋的 URL 编码或与参数名称后的等号混淆。对于您的示例，对于非 8 年级的学生来说，这将是这样的：

```
GET /students?grade=neq|8 
```

年级 > 8 的学生将是：

```
GET /students?grade=gt|8 
```

8 至 10 年级（含）的学生：

```
GET /students?grade=gte|8,lte|10 
```

这种方法可以扩展到其他可过滤的字段，而无需添加额外的参数来修改每个字段的过滤方式。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2020-12-11T19:56:27.747

Stripe 拥有最受尊敬的 API 之一。

他们为每个用点分隔的运算符使用单独的参数。

例如，要搜索创建日期：

```
/charges?created.gt=
/charges?created.gte=
/charges?created.lt=
/charges?created.lte= 
```

在您的情况下，您可以执行以下操作：

```
/students?grade.gt=8&grade.lt=8 
```

甚至为 not 添加另一个运算符：

```
/students?grade.not=8 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-28T07:33:29.680

一种选择是添加一个额外的查询参数，例如在将值与参数`gradeOperator`进行比较时，您可以在其中传递要使用的运算符。`grade`例如，

```
GET /students?grade=8&gradeOperator=!%3D 
```

`!%3D`是 的[URL 编码](http://en.wikipedia.org/wiki/Percent-encoding)形式`!=`，因此您的 REST API 将对运算符进行解码并将其解释为`grade != 8`.

另一种方法是在 HTTP 请求正文中传递值和运算符。这样的事情可能会起作用（以 JSON 中提供的正文为例）：

```
GET /students
Content-Type: application/json

{ "grade": {"value": 8, "operator": "!=" } } 
```

这可能很好，因为您不必在 中重复单词“等级” `gradeOperator`，运算符只是嵌套在 JSON 对象中作为`grade`.

在任一解决方案中，您都可以定义任意数量的运算符，包括`<`, `>`, `>=`,`<=`等。只要确保正确清理您的 API 接收到的任何输入运算符，尤其是在数据库查询中使用时，以避免诸如[SQL 注入](http://en.wikipedia.org/wiki/SQL_injection)攻击之类的事情。

# blackberry - 在 BlackBerry 的 VerticalFieldManager 中设置页眉和页脚

> ID：15127766
> 
> 赞同：2
> 
> 时间：2013-02-28T04:52:04.217
> 
> 标签：blackberry, footer

我搜索了如何在 BlackBerry 中设置页眉和页脚，并找到了函数`setTitle()`和`setStatus()`.

我的问题是我创建了一个扩展类`VerticalFieldManager`。在`VerticalFieldManager`中，它没有向我显示`setStatus`功能，因为这是`MainScreen`类的功能。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T22:15:02.697

你是对的。A`VerticalFieldManager`不允许你`setStatus()`直接。

了解 BlackBerry UI 框架中类之间的关系非常重要。

首先，有`Screen`课。通常，a`Screen`将占据整个设备屏幕。您的应用程序中可以有许多不同`Screen`的类。也许一个`Screen`用于启动图像，一个屏幕用于地图视图，一个屏幕用于设置等。

*在*您的屏幕内，您通常会`Manager`上课。A`VerticalFieldManager`是一种`Manager`按添加顺序从上到下排列其内容的类型。A`Manager`包含一组相关对象，但它不必跨越整个屏幕的高度或宽度。

*在*您的经理内部，您通常会有多个`Field`对象。A`Field`是层次结构中的单个项目。 `ButtonField`, `EditField`, or`BrowserField`是各种字段。它们通常会被添加到管理器（容器）中。这些经理通常会被添加到屏幕中。

所以，在你的情况下，我认为你应该拥有一个屏幕类。在该屏幕类中，您将通过调用and来设置*页眉*和*页脚*。页眉和页脚之间的内容都将包含在您添加到屏幕的内容中。像这样的东西：`setTitle()``setStatus()``VerticalFieldManager`

```
public class MyScreen extends MainScreen {

   public MyScreen() {
      super(MainScreen.VERTICAL_SCROLL | MainScreen.VERTICAL_SCROLLBAR);

      // set a header for this screen
      setTitle("My Header / Title");

      // screen contents go in the vertical field manager

      // NOTE:  you can replace VerticalFieldManager with your own class
      //   that extends Manager, or VerticalFieldManager, if you like
      VerticalFieldManager vfm = new VerticalFieldManager();
      vfm.add(new LabelField("One"));
      vfm.add(new ButtonField("Two", ButtonField.CONSUME_CLICK));
      vfm.add(new CheckboxField("Three", true));

      add(vfm);

      // use a bitmap as a footer
      Bitmap footer = Bitmap.getBitmapResource("footer.png");
      setStatus(new BitmapField(footer));
   }
} 
```

# iphone - 如何在 UIButton 中的选定状态下从正常状态和标题文本设置 UIImage

> ID：15127769
> 
> 赞同：3
> 
> 时间：2013-02-28T04:52:18.120
> 
> 标签：iphone, ios, objective-c, uibutton

如何在 UIButton 中将 UIImage 设置为正常状态并将标题设置为选定状态？

嗨，我尝试在 UIButton 的正常状态下设置 UIImage，但是当在正常状态下设置 UImage 时，这会更改 UIButton 在选定状态下的标题，从而更改图像的标题。我在用

`myButton setTitle:content forState:UIControlStateSelected`

处于选中状态。

如何在 UIButton 中将 UIImage 设置为正常状态并将标题设置为选定状态？

PDT：对不起我的英语！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T06:03:38.230

尝试这个：

选择布尔值；

```
-(IBAction)btnClicked:(UIButton *)sender{
    if(selected)
    {
        [chkBtn setTitle:@"selected" forState:UIControlStateNormal];
        chkImage.image=[UIImage imageNamed:@" "]; 
        NSLog(@"%@",chkBtn.titleLabel);
        selected=NO;
    }
    else
    {
        [chkBtn setTitle:@" " forState:UIControlStateNormal];
        chkImage.image=[UIImage imageNamed:@"button_minus_pink.png"]; 
        selected=YES;
     } 
```

}

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T04:54:12.623

// 设置为`UIColor` 

```
[self.button setTitleColor:[UIColor lightGrayColor] forState:UIControlStateNormal]; 
```

// 设置为`UIImage`

```
[self.button setBackgroundImage:[UIImage imageNamed:@"BlackRightBtn.png"] forState:UIControlStateNormal]; 
```

为了`Button Selected`

```
if (self.button.isSelected == YES)
{
    [self.button setTitle:@"Your_ButtonTitle" forState:UIControlStateNormal];
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-28T07:02:14.257

像这样添加您的代码：

```
[myButton setTitle:@"Your String" forState:UIControlStateSelected];
[myButton setImage:[UIImage imageNamed:@"img.png"] forState:UIControlStateSelected];

[myButton setImage:[UIImage imageNamed:@"image.png"] forState:UIControlStateNormal];
[myButton setTitle:@"" forState:UIControlStateNormal]; 
```

img.png 不应该在你的包中

您也可以通过 Interface Builder 进行设置。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-28T05:54:05.873

您可以定义按钮和`setImage`正常和选定状态。像这样。

```
buttonJobs = [UIButton buttonWithType:UIButtonTypeCustom ];
buttonJobs.tag = 1;
[buttonJobs setTitle:@"Jobs" forState:UIControlStateNormal];

buttonJobs.frame = CGRectMake(2, 56, 109, 33);
[buttonJobs setImage:[UIImage imageNamed:@"tabButtonImage_Off.png"] forState:UIControlStateNormal];//buttonJobs.png

[buttonJobs setImage:[UIImage imageNamed:@"tabButtonImage_On.png"] forState:UIControlStateDisabled];

[buttonJobs addTarget:self action:@selector(btnNextTab:) forControlEvents:UIControlEventTouchUpInside]; 
```

在按钮选择器方法中，您可以设置您选择的按钮`sender's tag`。

```
-(void)btnNextTab:(UIButton*)sender
{

  if(sender.tag == 1)
  {
      sender.selected = YES;
  }

} 
```

对于标题，您可以更改文本的颜色。

希望这会帮助你。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-28T05:08:41.577

检查此代码：

```
[myButton setTitle:content forState:UIControlStateSelected];
[myButton setImage:nil forState:UIControlStateSelected];
[myButton setImage:yourImage forState:UIControlStateNormal]; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-28T05:45:10.250

试试这个代码：

```
[myButton setTitle:@"Your String" forState:UIControlStateSelected];
[myButton setImage:nil forState:UIControlStateSelected];

[myButton setImage:[UIImage imageNamed:@"image.png"] forState:UIControlStateNormal];
[myButton setTitle:@"" forState:UIControlStateNormal]; 
```

# cobol - 程序结束时的 COBOL 报告

> ID：15127772
> 
> 赞同：1
> 
> 时间：2013-02-28T04:52:26.007
> 
> 标签：cobol

我正在尝试完成一个我已经开始的程序，但对我需要做什么以及如何做最后一步感到困惑。指示是：

在报告结束时： A. 打印处理的人事记录数量。B. 部门表搜索不成功的记录数。C. 标题表搜索不成功的记录数。

除了最后一步，我已经完成了所有程序。有人可以帮我完成这个程序吗？

```
enter code here        ENVIRONMENT DIVISION.
   INPUT-OUTPUT SECTION.
   FILE-CONTROL.
       SELECT PERSONNEL-FILE
            ASSIGN TO 'CH12PPPF.DAT'
            ORGANIZATION IS LINE SEQUENTIAL.
       SELECT DEPT-TABLE-FILE
            ASSIGN TO 'CH12PPDT.DAT'
            ORGANIZATION IS LINE SEQUENTIAL.
       SELECT TITLE-TABLE-FILE
           ASSIGN TO 'CH12PPTT.DAT'
           ORGANIZATION IS LINE SEQUENTIAL.
       SELECT PRINT-FILE
           ASSIGN TO 'THORNTONCA4.RPT'
           ORGANIZATION IS LINE SEQUENTIAL.
   DATA DIVISION.
   FILE SECTION.
   FD  PERSONNEL-FILE.
   01  PERSONNEL-REC.
       05  SSNO-IN             PIC 9(9).
       05  NAME-IN             PIC X(20).
       05  SALARY-IN           PIC 9(6).
       05  CAMPUS-CODE-IN      PIC 9.
       05  DEPT-CODE-IN        PIC 99.
       05  TITLE-CODE-IN       PIC 999.
   FD  DEPT-TABLE-FILE.
   01  DEPT-REC.
       05  T-DEPT-NO           PIC 99.
       05  T-DEPT-NAME         PIC X(10).
   FD  TITLE-TABLE-FILE.
   01  TITLE-REC.
       05  T-TITLE-CODE        PIC 999.
       05  T-TITLE-NAME        PIC X(10).
   FD  PRINT-FILE.
   01  PRINT-REC               PIC X(80).
   WORKING-STORAGE SECTION.
   01  STORED-AREAS.
       05  MORE-RECS           PIC X(3)        VALUE 'YES'.
       05  WS-DATE.
           10  WS-YEAR                     PIC 9999.
           10  WS-MONTH                    PIC 99.
           10  WS-DAY                      PIC 99.
       05  WS-PAGE-CT                      PIC 99
               VALUE ZERO.
       05  WS-LINE-CT                      PIC 99
               VALUE ZERO.
   01  HDR1-OUT.
       05                                  PIC X(25)
               VALUE SPACES.
       05                                  PIC X(20)
               VALUE 'FINAL REPORT'.
       05  DATE-OUT.
           10  MONTH-OUT                    PIC 99.
           10                               PIC X
              VALUE '/'.
           10  DAY-OUT                      PIC 99.
           10                               PIC X
              VALUE '/'.
           10  YEAR-OUT                    PIC 9999.
       05                                  PIC X(2)
              VALUE SPACES.
       05                                  PIC X(5)
              VALUE 'PAGE'.
       05  PAGE-OUT                        PIC Z9.

  *****************************************************************
  *  The Campus Table consists of 5 10-position names and will be *
  *    accessed as a direct-referenced table.  EACH_CAMPUS        *
  *    subscriped by the CAMPUS_CODE_IN will provide the name.    *
  *****************************************************************
   01  CAMPUTS-TABLE
         VALUE 'UPSTATE   DOWNSTATE CITY  MELVILLE      HUNTINGTON'.
       05  EACH-CAMPUS
           OCCURS 5 TIMES      PIC X(10).
  *****************************************************************
  * The Dept Table will be accessed by a SEARCH.  Even if the     *
  *    table is entered in Dept No sequence, there would be no    *
  *    real benefit to using a SEARCH ALL since there are only    *
  *    25 entries.                                                *
  *****************************************************************
   01  DEPT-TABLE.
       05  DEPT-ENTRIES OCCURS 25 TIMES INDEXED BY X1.
           10  DEPT-NO         PIC 99.
           10  DEPT-NAME       PIC X(10).
  *****************************************************************
  * The Title Talbe will be accessed by a SEARCH ALL.  To use a   *
  *    binary seach the entries must be in sequence by a key      *
  *    field and the table should be relatively large.            *
  *****************************************************************
   01  TITLE-TABLE.
       05  TITLE-ENTRIES OCCURS 50 TIMES
             ASCENDING KEY IS TITLE-NO INDEXED BY X2.
           10  TITLE-NO        PIC 999.
           10  TITLE-NAME      PIC X(10).
   01  DETAIL-REC.
       05                      PIC X(1) VALUE SPACES.
       05  SSNO-OUT            PIC 999B99B9999.
       05                      PIC X(1) VALUE SPACES.
       05  NAME-OUT            PIC X(20).
       05                      PIC X(1) VALUE SPACES.
       05  SALARY-OUT          PIC $ZZZ,ZZZ.
       05                      PIC X(1) VALUE SPACES.
       05  CAMPUS-OUT          PIC X(10).
       05                      PIC X(1) VALUE SPACES.
       05  DEPT-OUT            PIC X(10).
       05                      PIC X(1) VALUE SPACES.
       05  TITLE-OUT           PIC X(10).
   PROCEDURE DIVISION.
   100-MAIN-MODULE.
       OPEN INPUT  PERSONNEL-FILE
                   DEPT-TABLE-FILE
                   TITLE-TABLE-FILE
            OUTPUT PRINT-FILE
       MOVE FUNCTION CURRENT-DATE TO WS-DATE
       MOVE WS-MONTH TO MONTH-OUT
       MOVE WS-DAY TO DAY-OUT
       MOVE WS-YEAR TO YEAR-OUT
       PERFORM 500-HDG-RTN.
       PERFORM 200-LOAD-DEPT-TABLE
       PERFORM 300-LOAD-TITLE-TABLE
       PERFORM UNTIL MORE-RECS = 'NO '
            READ PERSONNEL-FILE
              AT END
                 MOVE 'NO ' TO MORE-RECS
              NOT AT END
                 PERFORM 400-CALC-RTN
            END-READ
       END-PERFORM
       CLOSE PERSONNEL-FILE
             DEPT-TABLE-FILE
             TITLE-TABLE-FILE
             PRINT-FILE
       STOP RUN.
   200-LOAD-DEPT-TABLE.
       PERFORM VARYING X1 FROM 1 BY 1
                UNTIL X1 > 25
          READ DEPT-TABLE-FILE
            AT END DISPLAY 'NOT ENOUGH DEPT TABLE RECORDS'
                STOP RUN
          END-READ
          MOVE DEPT-REC TO DEPT-ENTRIES (X1)
       END-PERFORM.
   300-LOAD-TITLE-TABLE.
       PERFORM VARYING X2 FROM 1 BY 1
                UNTIL X2 > 50
          READ TITLE-TABLE-FILE
            AT END DISPLAY 'NOT ENOUH TITLE TABLE RECORDS'
                STOP RUN
          END-READ
          MOVE TITLE-REC TO TITLE-ENTRIES (X2)
          IF X2 > 1 THEN
              IF TITLE-NO (X2) <= TITLE-NO (X2 - 1)
                 DISPLAY 'TITLE RECORDS ARE NOT IN SEQUENCE'
                 STOP RUN
              END-IF
          END-IF
       END-PERFORM.
   400-CALC-RTN.
       MOVE SPACES TO DETAIL-REC
       MOVE SSNO-IN TO SSNO-OUT
       MOVE NAME-IN TO NAME-OUT
       MOVE SALARY-IN TO SALARY-OUT
       IF CAMPUS-CODE-IN >= 1 AND <= 5
          MOVE EACH-CAMPUS (CAMPUS-CODE-IN) TO CAMPUS-OUT
       END-IF
       SET X1 TO 1
       SEARCH DEPT-ENTRIES
          AT END MOVE 'XXXXXXXXXX' TO DEPT-OUT
          WHEN DEPT-CODE-IN = DEPT-NO (X1)
            MOVE DEPT-NAME (X1) TO DEPT-OUT
       END-SEARCH
       SEARCH ALL TITLE-ENTRIES
          AT END MOVE 'XXXXXXXXXX' TO TITLE-OUT
          WHEN TITLE-NO (X2) = TITLE-CODE-IN
            MOVE TITLE-NAME (X2) TO TITLE-OUT
       END-SEARCH
       WRITE PRINT-REC FROM DETAIL-REC
           AFTER ADVANCING 2 LINES.
   500-HDG-RTN.
       ADD 1 TO WS-PAGE-CT
       MOVE WS-PAGE-CT TO PAGE-OUT
       WRITE PRINT-REC FROM HDR1-OUT
            AFTER ADVANCING PAGE
       MOVE ZEROS TO WS-LINE-CT. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T06:58:30.237

你需要：

生成代码以在最后累积您需要打印的所有值 生成报告最后部分的定义 一旦主输入文件被处理，即在您的第一个 PERFORM 之后和 CLOSE 之前，生成报告的最后一部分

您应该养成在每次 IO 操作后检查所有文件状态的习惯，使用 FILE-STATUS，并在发生意外情况时准确报告。

您会发现即使给索引起个好名字也是值得的，并尽可能为 IF 或 EVALUATE 使用 88，并避免使用诸如“IF CAMPUS-CODE-IN >= 1 AND <= 5”之类的东西。

# c++ - 从 MATLAB 调用 MEX 中 C++ 类的方法

> ID：15127773
> 
> 赞同：3
> 
> 时间：2013-02-28T04:52:29.363
> 
> 标签：c++, c, matlab, methods, mex

我有一个 DLP 套件，我需要使用 C++ API 通过 MATLAB 进行控制。

比如说，我`{load_data, load_settings,display_data}`在名为 dlp_controller.cpp/.c 的 mex 文件中有使用 C/C++ 的函数/方法。

我知道我可以`dlp_controller();`用 MATLAB 打电话。

有没有办法可以直接从 MATLAB 调用这个 mex 的方法？

说我的 dlp_controller.cpp mex 看起来像：

```
class dlp{ ... }
dlp::dlp{ ... }
dlp::load_data{ ... }
dlp::load_settings{ ... }
dlp::display_data{ ... }

void mexFunction(int nlhs, mxArray *[],int nrhs, const mxArray *prhs[]{ ... } 
```

我可以以某种方式调用`dlp_controller.load_data`MATLAB 之类的方法吗？注意：一种解决方法是发送一个变量`dlp_controller`并使用该变量和传递的数据在内部调用该函数。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-28T05:19:05.690

AFAIK，没有直接的方法可以做到这一点，因为`mexFunction`界面相当*平坦*。但是，我可以想到一些不同的解决方法，这应该会让你接近。根据您的需要选择最好的。

1.  `dlp`最简单的方法是在您的 mex 函数中创建该类的全局实例。使 mex 函数的第一个参数调用一个字符串，该字符串指示要调用全局对象的哪个成员函数。明显的缺点是您将 mex 函数变成了单例。

2.  例如，如果您需要多个`dlp`实例，您可以在 mex 函数中创建一些全局容器，`std::map<std::string, dlp>`然后`dlp`在 MATLAB 中通过某个名称引用每个实例。例如，要创建一个新实例，您需要调用 mex 函数，其名称在`map`. 然后，您可以使用此名称调用 mex 函数，该字符串指示要调用的成员函数，以及要传递给成员函数的任何参数。还设置了一些约定，您可以通过该约定`dlp`从`map`.

3.  与第二种解决方案类似，`dlp`您可以将*句柄*返回给每个实例，而不是命名实例。例如，创建一个全局`std::set<dlp *>`变量，当您使用 mex 函数创建一个新`dlp`实例时，将其添加到 中，`set`并将指向已分配对象的指针的副本返回给 MATLAB（将其粘贴在 类型的标量变量中`mxUINT64_CLASS`）。随后调用该对象上的成员函数会将此*句柄*变量传递给 MATLAB 中的 mex 函数，您将在 mex 文件中适当地转换它，在`set`和调用成员函数中找到它。

这些方法都不是特别漂亮，但这些是我所知道的从 mex 文件中调用 C++ 类的成员函数的唯一方法。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-28T10:35:49.757

您可能想看看这个提交给 MATLAB Central 的内容。据我所知，它展示了最佳实践，由包括 MathWorkers 在内的许多人的新闻组建议开发而成。

[http://www.mathworks.co.uk/matlabcentral/fileexchange/38964-example-matlab-class-wrapper-for-a-c++-class](http://www.mathworks.co.uk/matlabcentral/fileexchange/38964-example-matlab-class-wrapper-for-a-c++-class)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-03-17T19:14:44.620

最简单的方法是设计一个保留类对象实例的 MEX 包装器，然后调度对该 MEX 二进制文件的调用。我为那些试图用 C++ 开发 MEX 包装器的人制作了一个库。

[https://github.com/kyamagu/mexplus](https://github.com/kyamagu/mexplus)

这是一个快速的片段。

```
// C++ class to be wrapped.
class Database;
// Instance session storage.
template class mexplus::Session<Database>;
// Constructor.
MEX_DEFINE(new) (int nlhs, mxArray* plhs[],
                 int nrhs, const mxArray* prhs[]) {
  InputArguments input(nrhs, prhs, 1);
  OutputArguments output(nlhs, plhs, 1);
  output.set(0, Session<Database>::create(
      new Database(input.get<std::string>(0))));
}
// Destructor.
MEX_DEFINE(delete) (int nlhs, mxArray* plhs[],
                    int nrhs, const mxArray* prhs[]) {
  InputArguments input(nrhs, prhs, 1);
  OutputArguments output(nlhs, plhs, 0);
  Session<Database>::destroy(input.get(0));
}
// Member method.
MEX_DEFINE(query) (int nlhs, mxArray* plhs[],
                   int nrhs, const mxArray* prhs[]) {
  InputArguments input(nrhs, prhs, 2);
  OutputArguments output(nlhs, plhs, 1);
  const Database& database = Session<Database>::getConst(input.get(0));
  output.set(0, database.query(input.get<string>(1)));
}
// And so on...
MEX_DISPATCH 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-09-11T20:52:03.483

对于它的价值，这是我对这个问题的看法。请参阅[此 GitHub](https://github.com/chappjc/MATLAB/tree/master/cppClass)存储库中的示例 MEX 文件和类包装器。这是我不久前提出的一个解决方案，我刚刚在[为相关问题制定答案时发现了这个问题](https://stackoverflow.com/a/32529850/2778484)。希望这对某人有所帮助。

**设计目标**

*   管理 C++ 类的多个持久实例
*   MATLAB 中使用的小连续整数句柄（不是强制转换指针）
*   透明地处理资源管理（即 MATLAB 从不负责为 C++ 类分配的内存）：
    1.  如果 MATLAB 未能发出“删除”操作，则不会泄漏内存。
    2.  如果 MEX 文件过早卸载，则自动解除分配。
*   防止模块过早卸载
*   不检查幻数就隐式验证句柄的有效性
*   没有模仿 mexFunction 的包装类或函数，只是 mexFunction 中的一个直观的 switch-case 块。

请注意，应该在不考虑任何 MATLAB 类的情况下实现这些目标，但这也有助于解决内存管理问题。因此，生成的 MEX 文件可以安全地直接使用（但不太优雅）。

**实施概述**

对于您的 C++ 类，`class_type`使用`mexFunction`静态数据存储来保存整数句柄的持久（在调用之间`mexFunction`）表和指向动态分配的类实例的智能指针。A`std::map`用于此目的，它有助于定位已知句柄，只有你的类的有效实例才能保证存在：

```
typedef unsigned int handle_type;
std::map<handle_type, std::shared_ptr<class_type>> 
```

当 (1) 通过“删除”操作擦除表元素或 (2) 卸载 MEX 文件时， A`std::shared_ptr`负责解除分配。

为了防止在 MATLAB 类实例存在时卸载 MEX 文件，`mexLock`每次创建新的 C++ 类实例时都会调用它，从而增加 MEX 文件的锁定计数。每次删除 C++ 实例时，都会`mexUnlock`从锁计数中删除一个锁。

**利用**

1.  [在 .cpp 中] 在 Actions 枚举中枚举不同的操作（例如，新建、删除、插入等）。对于每个枚举动作，指定一个字符串（例如“new”、“delete”、“insert”等）作为第一个参数传递给 MATLAB 中的 MEX 函数。
2.  [在.cpp中] 自定义对switch语句体中每个动作的处理`mexFunction`（例如调用相关的C++类方法）。
3.  [In .m]（可选）创建一个派生自[cppclass](https://github.com/chappjc/MATLAB/blob/master/cppClass/cppclass.m)的类，为您的类所需的操作创建简单的方法。

**要求**

具有以下 C++11 特性的现代编译器：

*   `shared_ptr`
*   `auto`
*   `enum class`
*   `initializer_list`（用于`const map`初始化）

Visual Studio 2013，最近的 GCC（可能带有`-std=c++11`），以及自 3.1 以来的 Clang。

**[资源](https://github.com/chappjc/MATLAB/tree/master/cppClass)**

*   [C++ 组件（class_wrapper_template.cpp）](https://github.com/chappjc/MATLAB/blob/master/cppClass/class_wrapper_template.cpp)（`mexFunction`和实例映射）。为您要管理的 C++ 重命名和编辑它。
*   用于通过 MEX 文件管理单个实例的[基类 (cppclass.m)](https://github.com/chappjc/MATLAB/blob/master/cppClass/cppclass.m)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-28T06:35:46.933

替代设计，对于这里的用例来说更简洁，是定义一个带有 init、fcnA、fcnB、fcnC、……方法……等的单例类，以及相应的轻量级包装器……然后从 MEX 调用包装器。

例如

```
class A {
  public:
     A getInstance() {
        if ( !instance )
             instance = new A(...);
        return instance;
     }

    void fcnA(T1 a1, T2 a2) {
           //yada yada
     }

  private:
    static A* instance;
};
A::instance = NULL;

//begin wrappers for marshalling to class method
A* getInstance( ) {
   return A::getInstance();
}

void fcnA(T1 a1, T2 a2) {
   getInstance()->fcnA(a1,a2);
}

//ad nauseum 
```

# c# - MVC4 RouteConfig 参数返回 null

> ID：15127776
> 
> 赞同：2
> 
> 时间：2013-02-28T04:52:48.803
> 
> 标签：c#, asp.net-mvc

我`Booking Controller`有以下代码

```
public ActionResult Index(string id, string name)
{
    return View();
} 
```

我`routeConfig`有以下路线映射

```
public static void RegisterRoutes(RouteCollection routes)
    {
        routes.IgnoreRoute("{resource}.axd/{*pathInfo}");
        routes.MapRoute(
            name: "Default",
            url: "{controller}/{action}/{id}",
            defaults: new { controller = "Home", action = "Index", id = UrlParameter.Optional }
        );
        routes.MapRoute(
            name: "Search",
            url: "{controller}/{location}/{checkIn}/{checkOut}/{no}",
            defaults: new { controller = "Search", action = "Index", location = UrlParameter.Optional, checkIn = UrlParameter.Optional, checkOut = UrlParameter.Optional, no = UrlParameter.Optional }
        );
        routes.MapRoute(
            name: "booking",
            url: "{controller}/{action}/{id}/{name}",
            defaults: new { controller = "Booking", action = "Index", id = UrlParameter.Optional, name=UrlParameter.Optional }
        );} 
```

但是当我访问页面时，`http://localhost:59041/booking/index/1/libin`两个参数都返回`null`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T05:04:50.133

> 看[这](http://ofps.oreilly.com/titles/9781449320317/ch_Routing.html)本书
> 
> 随着您的应用程序变得越来越复杂，您可能会注册多个路由。当您这样做时，重要的是您要考虑注册它们的顺序。当路由引擎试图定位匹配的路由时，它只是简单地枚举路由集合，一旦找到匹配就停止枚举。
> 
> 添加评论 如果您没有预料到，这可能会导致很多问题。让我们看一个可能存在问题的示例：

```
routes.MapRoute(
    >     "generic", // Route name
    >     "{site}", // URL with parameters
    >     new { controller = "SiteBuilder", action = "Index" } // Parameter defaults );
    > 
    > routes.MapRoute(
    >     "admin", // Route name
    >     "Admin", // URL with parameters
    >     new { controller = "Admin", action = "Index" } // Parameter defaults ); 
```

上面的代码片段注册了两条路线。第一条路线

> 包含单个占位符段并将控制器参数的默认值设置为 SiteBuilder。第二个路由包含一个常量段，并将控制器参数的默认值设置为 Admin。
> 
> 这两个路由都是完全有效的，但是它们的映射顺序可能会导致意想不到的问题，因为第一个路由几乎匹配任何输入的值，这意味着它将是第一个匹配的
> 
> [http://example.com/Admin](http://example.com/Admin)并且由于路由引擎在找到第一个匹配项后停止，因此第二个路由将永远不会被使用。
> 
> 因此，请务必牢记这种情况并考虑定义自定义路由的顺序。

您应该首先编写预订路线

```
 routes.MapRoute(
            name: "booking",
            url: "{controller}/{action}/{id}/{name}",
            defaults: new { controller = "Booking", action = "Index", id = UrlParameter.Optional, name=UrlParameter.Optional }
        );}
    routes.IgnoreRoute("{resource}.axd/{*pathInfo}");
        routes.MapRoute(
            name: "Default",
            url: "{controller}/{action}/{id}",
            defaults: new { controller = "Home", action = "Index", id = UrlParameter.Optional }
        );
        routes.MapRoute(
            name: "Search",
            url: "{controller}/{location}/{checkIn}/{checkOut}/{no}",
            defaults: new { controller = "Search", action = "Index", location = UrlParameter.Optional, checkIn = UrlParameter.Optional, checkOut = UrlParameter.Optional, no = UrlParameter.Optional }
        ); 
```

# php - mysqli fetch 数组需要一个参数是 mysqli_result

> ID：15127778
> 
> 赞同：1
> 
> 时间：2013-02-28T04:53:03.400
> 
> 标签：php, html, mysql

我的`mysqli_fetch_array()`代码有问题。我已经多次交换和更改变量以弄清楚为什么它不起作用。本质上，我需要它来访问我的数据库并找到符合特定条件的行数并返回值。关于我可以做些什么来让我的`mysqli_fetch_array()`功能发挥作用的任何见解？

谢谢。

```
<html>
<?php
$uname = "";
$pword = "";
$errorMessage = "";

function quote_smart($handle, $value) {
    if (get_magic_quotes_gpc()) {
        $value = stripslashes($value);
    }

    if (!is_numeric($value)) {
        $value = "'" . mysqli_real_escape_string($handle, $value) . "'";
    }

    return $value;
}

if ($_SERVER['REQUEST_METHOD'] == 'POST'){
$uname = $_POST['username'];
$pword = $_POST['password'];

$uname = htmlspecialchars($uname);
$pword = htmlspecialchars($pword);

$con = mysqli_connect("127.0.0.1", "root", "");
$db = mysqli_select_db($con, "users");

if ($db) {

    $uname = quote_smart($con, $uname);
    $pword = quote_smart($con, $pword);

    $SQL = "SELECT * FROM users WHERE L1 = $uname AND L2 = md5($pword)";
    $result = mysqli_query($con, $SQL);
    $num_rows = mysqli_fetch_array($result,MYSQLI_NUM);

    if ($result) {
        if ($num_rows > 0) {
            session_start();
            $_SESSION['login'] = "1";
            header ("Location: home.php");
        }
        else {
            session_start();
            $_SESSION['login'] = "";
            header ("Location: regpage.php");
        }   
    }
    else {
        $errorMessage = "Error logging on";
    }

mysqli_close($con);

}

else {
    $errorMessage = "Error logging on";
}

}
?>
</html> 
```

我遇到的主要代码是：

```
 $num_rows = mysqli_fetch_array($result,MYSQLI_NUM); 
```

每次运行它时，我都会收到以下错误消息：

警告：mysqli_fetch_array() 期望参数 1 为 mysqli_result，布尔值

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T04:55:32.870

尝试

```
$SQL = "SELECT * FROM users WHERE L1 = '".$uname."' AND L2 = '".md5($pword)."'";
$result = mysqli_query($con, $SQL)or die(mysqli_error($connection));
$num_rows = mysqli_num_rows($result); 
```

使用 mysqli_error 并在其中传递连接作为参数

```
$connection = mysqli_connect("localhost", "root", "", "stackoverflow");
$result = mysqli_query($connection, $SQL)or die(mysqli_error($connection)); 
```

**测试代码**

```
<?php
    $uname = "";
    $pword = "";
    $errorMessage = "";

    function quote_smart($handle, $value)
    {
        if (get_magic_quotes_gpc())
        {
            $value = stripslashes($value);
        }

        if (!is_numeric($value))
        {
            $value = "'" . mysqli_real_escape_string($handle, $value) . "'";
        }
        return $value;
    }

    if (isset($_REQUEST['submit']))
    {
        $uname = $_POST['username'];
        $pword = $_POST['password'];

        $uname = htmlspecialchars($uname);
        $pword = htmlspecialchars($pword);

        $con = mysqli_connect("localhost", "root", "","stackoverflow");

        if ($con)
        {
            $uname = quote_smart($con, $uname);
            $pword = quote_smart($con, $pword);

            $SQL = "SELECT * FROM users WHERE username = ".$uname." AND password = ".$pword."";

            $result = mysqli_query($con, $SQL);
            $num_rows = mysqli_fetch_array($result,MYSQLI_NUM);

            if ($result)
            {
                if ($num_rows > 0)
                {
                    session_start();
                    $_SESSION['login'] = "1";
                    header ("Location: home.php");
                    exit;
                }
                else
                {
                    session_start();
                    $_SESSION['login'] = "";
                    header ("Location: regpage.php");
                    exit;
                }   
            }
            else
            {
                $errorMessage = "Error logging on";
            }
            mysqli_close($con);
        }
        else
        {
            $errorMessage = "Error logging on";
        }
    }
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T04:55:37.927

`$num_rows = mysqli_fetch_array($result,MYSQLI_NUM);`这导致数据数组而不是行数

获取使用的行数`mysqli_num_rows($result)`

或者

`$num_rows = count(mysqli_fetch_array($result,MYSQLI_NUM));`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T05:02:37.487

**md5()**是**php**函数而不是**mysql**函数。在您的情况下，您使用它就像 mysql 函数一样。只需将您的查询替换为：

```
$SQL = "SELECT * FROM users WHERE L1 = $uname AND L2 = '".md5($pword)."' "; 
```

# vb.net - 循环遍历类中的双精度数组并设置值

> ID：15127780
> 
> 赞同：1
> 
> 时间：2013-02-28T04:53:24.273
> 
> 标签：vb.net, visual-studio-2012

当我创建一个类并使用该`Sub New()`选项时，我想遍历 16 个 1d 和 2d 双精度数组并将所有元素设置为 999999999。我在下面有以下代码，但编译器不喜欢它。有谁能够帮助我？

```
For Each p As PropertyInfo In Me.GetType().GetProperties()
    If p.CanRead AndAlso p.PropertyType.Name.IndexOf("Double[]") > -1 Then
        For x As Integer = 0 To DirectCast(p.GetValue(Me, Nothing), Double()).GetLength - 1
            'code to set array element = 999999999
        Next
    End If
Next 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T05:09:59.793

在可能具有多个维度的数组上使用 GetLength 时，您需要指定维度。

改变：

```
For x As Integer = 0 To DirectCast(p.GetValue(Me, Nothing), Double()).GetLength - 1 
```

到

```
For x As Integer = 0 To DirectCast(p.GetValue(Me, Nothing), Double()).GetLength(0) - 1 
```

它不会编译，否则。

# android - Facebook SDK 3.0 - 获取 Facebook 用户 ID 和访问令牌

> ID：15127783
> 
> 赞同：9
> 
> 时间：2013-02-28T04:53:35.070
> 
> 标签：android, facebook

我搜索了过去两天，但没有成功找到从 Facebook SDK 3.0 - Native Login 获取用户 ID 和访问令牌的方法。

我正在关注 facebook 本地登录 - [http://developers.facebook.com/docs/tutorials/androidsdk/3.0/scrumptious/authenticate/](http://developers.facebook.com/docs/tutorials/androidsdk/3.0/scrumptious/authenticate/)

我得到了访问令牌`Session.getAccessToken`，我得到了一些访问令牌，但那是无效的。实际程序是什么？我做错了吗？

如何`UserId`使用 Facebook SDK 3.0 获取本地登录

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2013-02-28T05:30:58.533

用户身份：

```
final Session session = Session.getActiveSession();
    if (session != null && session.isOpened()) {
        // If the session is open, make an API call to get user data
        // and define a new callback to handle the response
        Request request = Request.newMeRequest(session, new Request.GraphUserCallback() {
            @Override
            public void onCompleted(GraphUser user, Response response) {
                // If the response is successful
                if (session == Session.getActiveSession()) {
                    if (user != null) {
                        user_ID = user.getId();//user id
                        profileName = user.getName();//user's profile name
                        userNameView.setText(user.getName());
                    }   
                }   
            }   
        }); 
        Request.executeBatchAsync(request);
    } 
```

`user_ID`&`profileName`是字符串。

对于访问令牌：

```
String token = session.getAccessToken(); 
```

**编辑：（2014 年 13 月 1 日）**

对于用户电子邮件（我没有通过在设备或模拟器上运行来检查此代码）：

这些只是我的意见，或者你可以称之为建议

```
setReadPermissions(Arrays.asList("email", ...other permission...));
//by analyzing the links bellow, i think you can set the permission in loginbutton as:
loginButton.setReadPermissions(Arrays.asList("email", ...other permission...));
user.asMap().get("email"); 
```

欲了解更多信息，请参阅： [link1](https://stackoverflow.com/questions/13205517/access-user-email-using-new-facebook-android-sdk)、[link2](https://stackoverflow.com/questions/16014117/getting-email-address-by-using-facebook-sdk-3-0-1-for-android)、[link3](https://stackoverflow.com/questions/19915236/get-user-id-and-email-using-facebook-sdk-android)、[link4](https://stackoverflow.com/questions/17609287/how-to-get-email-id-from-facebook-sdk-in-android-applications)、

# ruby - 防止与特定于模块的实例变量发生冲突

> ID：15127786
> 
> 赞同：3
> 
> 时间：2013-02-28T04:53:43.560
> 
> 标签：ruby

我有一个可以出现在我们代码库的几个不同区域中的 mixin。在某些情况下，存在或曾经是模块对实例变量的使用与类使用的实例变量发生冲突的极端情况。

在变量名称前面添加@__like_this 是一种解决方案，但我们提出的另一种解决方案更复杂，具有这种通用结构，其中访问器方法是闭包：

```
module HiddenValue
  def initialize
    hidden_value = nil
    define_singleton_method :value, ->() { hidden_value }
    define_singleton_method :value=, ->(v) { hidden_value = v }
    super
  end
end

class RealClass
  include HiddenValue
  # [...]
end

foo = RealClass.new
foo.value = 123
foo.value # => 123 
```

这是不好的风格吗？这意味着所有想要直接访问变量的方法都必须在内部动态定义`initialize`，这可能会变得丑陋。有没有更清洁的方法？或者这是我们最接近模块级“词法”范围的实例变量？

# android - 在不使用webservice的情况下在android中连接外部数据库

> ID：15127788
> 
> 赞同：2
> 
> 时间：2013-02-28T04:53:51.060
> 
> 标签：android, database, connection

我知道之前也有人问过这个问题，但我想知道我们是否可以**在不使用 webservice 的情况下从 android 设备连接到外部数据库（例如 mySQL）**。

1.  我已经使用 webservice 构建了应用程序，但现在他们要求我们在不使用 webservice 的情况下制作它。

2.  任何人都可以知道或提供任何参考吗？

3.  我有关于数据库位置的所有必需数据，即服务器名称、数据库名称等。

实际上，在我的要求中，我正在使用 web 服务下载和 xml，该服务将包含连接字符串、数据库名称、服务器名称、用户名、密码等所有详细信息，但连接将在运行时完成。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-08-13T03:28:27.740

是的，您可以直接连接到远程数据库。我不确定它的安全性。

尝试这个：

1.  下载[MySQL JDBC](https://www.google.com.ph/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&cad=rja&uact=8&ved=0CBwQFjAAahUKEwj_ovufjaXHAhVMI44KHRBnCME&url=https%3A%2F%2Fdev.mysql.com%2Fdownloads%2Fconnector%2Fj%2F5.1.html&ei=LA3MVf_cCMzGuASQzqGIDA&usg=AFQjCNGi1lFyR2bOrQ6wkpm_bjILAyx8yg&sig2=pXLrJRLISyJI_DMPDqgcyg&bvm=bv.99804247,d.c2E)

2.  在您的 Android 项目中添加 .jar 文件并将其添加为库。

3.  创建一个扩展 AsyncTask 的类并在那里执行该方法。

```
public class connectToServer extends AsyncTask<String, String, String>{

    @Override
    protected String doInBackground(String... args) {

        try {
            connect();
        } catch (Exception e) {
            Log.e("Error", e.toString());
        }
        return null;
    }

    @Override
    protected void onPostExecute(String file_url)
    {

    }
}

public void connect(){
    Log.e("Android", "SQL Connection start");

    Connection conn = null;

    try
    {
        Class.forName("com.mysql.jdbc.Driver").newInstance();

        String ip = "[your host server]";
        String dbName = "[your dbName]";
        String user = "[your userName]";
        String password = "[your password]";

        String connString = "jdbc:mysql://" + ip + "/" + dbName +
        "";

        conn = DriverManager.getConnection(connString, user, password);

        Log.e("Connection", "Open");
        Statement statement = conn.createStatement();
        ResultSet set = statement.executeQuery("Select * from [table]");
        statement.setQueryTimeout(0);

        while(set.next())
        {
            Log.e("Data:", set.getString("[column_name]"));
        }
    }catch(Exception e)
    {
        Log.e("Error connection", e.toString());
    }

}//end method 
```

# mongodb - 如何在mongoDB中检索其值以特定字符结尾的文档

> ID：15127791
> 
> 赞同：21
> 
> 时间：2013-02-28T04:53:53.337
> 
> 标签：mongodb, mongo-shell

我将文档插入到 mongoDB 中的特定数据库中。例如

```
 db.employee.insert({name:"nithin",age:22})
 db.employee.insert({name:"sreedevi",age:32}) 
```

现在我想检索名称以字符“ **i** ”结尾的文档。

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2013-02-28T05:01:09.937

在 Javascript shell 中，使用[$regex](http://docs.mongodb.org/manual/reference/operator/regex/)运算符

```
db.employee.find({name: {$regex: "i$"}}) 
```

# prolog - 在序言中进行比较

> ID：15127792
> 
> 赞同：0
> 
> 时间：2013-02-28T04:54:00.580
> 
> 标签：prolog

我有以下知识库

```
team_name(1, conneticut).
team_name(2, duke).
team_name(3, memphis).
team_name(4, villanova).
team_name(5,gonzaga).

win_lose(1,22,2).
win_lose(2,24,1).
win_lose(3,23,2).
win_lose(4,20,2).
win_lose(5,21,3).

zone(west,5).
zone(south,3).
zone(east,1).
zone(east,2).
zone(east,4). 
```

我想写一个查询，让拥有最多侧翼的球队与获胜最少的球队进行比赛，他们都在同一个区域，主队是获胜最多的球队

我有以下

```
canPlay(X,Y).                 Y can play X
canPlay(X,Y):-zone(zone(X)=:=Y).        Y can play X, if Y zone == X 
```

这没用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T05:19:40.990

我想我明白你想要做什么。您正在尝试将得分最高的球队与得分最差的球队配对，但仅限于同一区域内。这就是我的处理方式：

```
canPlay(X, Y) :-
  team_name(XId, X), team_name(YId, Y),    % let's get team X and team Y
  X \= Y,                                  % make sure they aren't the same
  zone(Zone, XId), zone(Zone, YId).        % but make sure they are in the same zone 
```

这是一个很好的第一次尝试，但它会产生所有的组合，而不仅仅是两支球队通过胜利适当匹配的组合。

```
?- setof(X-Y, canPlay(X, Y), Pairings).
Pairings = [conneticut-duke, conneticut-villanova, duke-conneticut, 
            duke-villanova, villanova-conneticut, villanova-duke]. 
```

我不完全理解您的其余要求，但希望这足以让您走上正轨。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T09:00:42.613

我认为这应该符合您的要求

```
canPlay(Home, Guest) :-
    % get different Zones
    setof(Zone, Team^zone(Zone, Team), Zones),

    % in a Zone
    member(Zone, Zones),

    % get ordered list
    setof(Win-Team, Lost^(zone(Zone, Team), win_lose(Team, Win, Lost)), Standings),

    % take first and last
    append([[_-HomeId],_,[_-GuestId]], Standings),

    team_name(HomeId, Home),
    team_name(GuestId, Guest). 
```

# ios - Instruments Time Profiler 多个名为“主线程”的符号

> ID：15127794
> 
> 赞同：4
> 
> 时间：2013-02-28T04:54:10.240
> 
> 标签：ios, xcode, profiling, instruments

我注意到在 Instruments 中运行时间分析器时，我得到了多个名为“主线程”的符号。

不应该只有一个主线程，然后另一个线程叫 _____NSThread___main_____ ？

![时间探查器主线程？](../Images/554f2c247249d6cdd4116bbce6778b54.png)

# php - 如何避免两次使用 mysql_fetch_assoc

> ID：15127800
> 
> 赞同：0
> 
> 时间：2013-02-28T04:54:33.510
> 
> 标签：php, mysql, fetch

当前页面使用：

```
$row_rsMyData = mysql_fetch_assoc (rsMyData); 
```

作为 Dreamweaver 创建的 mysql 查询的一部分。

稍后在我正在使用的页面中：

```
while ($row_rsMyData = mysql_fetch_assoc($rsMyData)) 
```

从数据库中获取文件名以添加到数组中。

问题是第一次提取获取行中的第一条记录，并且不会将数据留在那里以进行第二次提取，这意味着结果是一个缺少一条记录的数组。

我可以使用什么来代替第二次获取，或者有没有办法在第二次发生之前重置。

我努力了

```
mysql_data_seek() 
```

但这似乎对我不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T04:57:52.787

该声明：

```
 $row_rsMyData = mysql_fetch_assoc (rsMyData); 
```

不引用数组类型变量。要将多个值收集到一个数组中，请改用：

```
 $row_rsMyData[] = mysql_fetch_assoc (rsMyData); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T04:58:35.737

除了您不应该使用`mysql_*`函数这一事实之外，您还可以检查循环条件中的当前值`$row_rsMyData`，使用这些数据，然后在循环结束时获取下一行：

```
while($row_rsMyData)
{
    //do stuff with the data in $row_rsMyData

    //fetch the next row
    $row_rsMyData = mysql_fetch_assoc($rsMyData);
} 
```

当然，这假设您无法对删除 Dreamweaver 生成的行做任何事情。

# ios5 - 在支持 iOS 6 和 iOS 5 的 iOS 中使用 GOOGLE 地图

> ID：15127806
> 
> 赞同：1
> 
> 时间：2013-02-28T04:54:53.310
> 
> 标签：ios5, ios6, mkmapview, mapkit, google-maps-sdk-ios

我需要为应用程序提供地图支持，但问题是在 ios 6 之前，iOS mapKit 使用内容丰富的谷歌地图，但在 iOS 6 中，它使用自己的地图，内容并不丰富.

我已经搜索了适用于 ios 6 的 Google API，这很棒，但我也需要在 ios 6 之前支持。

请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T10:12:30.010

新的 iOS 版 Google Maps SDK 支持回到 iOS 5.1，请参见此处：

[https://developers.google.com/maps/documentation/ios/intro#supported_platforms](https://developers.google.com/maps/documentation/ios/intro#supported_platforms)

# smalltalk - 创建迷宫

> ID：15127807
> 
> 赞同：2
> 
> 时间：2013-02-28T04:54:58.267
> 
> 标签：smalltalk, pharo, morphic

我正在尝试使用 PBE-Lighoutgame 创建一个没有鼠标点击事件的迷宫作为我的参考我有 2 个类

这两个类都是 RectangleMorph 的子类

```
 VisibleSquare>>initialize
  "Visible borders with Some Color" 
```

其他类

```
 InvisbleSquare>>initialize
   "Everything is transparent Including Borders" 
```

实现迷宫类，它是 BorderedMorph 的子类

```
 Maze>>initialize
 initialize
|sampleCell width height n sample|
super initialize.
self borderWidth: 0\.   
n := self cellsPerSide.
sampleCell := VisibleSquare  new.
sample:= InvisibleSquare new.
width := sampleCell width.
height := sample height.
self bounds: (5@5 extent: ((width + n) @ (height + n)) + (2 * self borderWidth)).
cells := Matrix new: n tabulate: [:i :j | self newCellAt: i at: j]. 
```

其他方法

```
Maze>>  newCellAt: i at: j
"Create a cell for position (i,j) and add it to my on-screen
representation at the appropriate screen position. Answer the new cell"
|c origin b |
c := VisibleSquare   new.
origin := self innerBounds origin.
self addMorph: c.
c position: ((i - 1) * c width) @ ((j - 1) * c height) + origin.
 ^ c 
```

我如何用 VisibleSquare 和 InvisibleSquare 将矩阵制成表格，以便它们可以随机添加到网格中（或）有没有其他方法可以做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T06:49:13.657

生成随机数不会像这样吗？

```
rnd := (1 to: 100) atRandom. 
```

一旦你得到它，你可以将替代消息分配给接收者`c`：

```
(rnd > 50) ifTrue:[c := VisibleSquare new]
(rnd < 51) ifTrue:[c := InvisibleSquare new] 
```

...我认为也可以表示为

```
c := rnd > 50 ifTrue[VisibleSquare new] ifFalse:[InVisibleSquare new] 
```

也许这就是你想知道的。但是，由于这是用于生成迷宫布局，因此您可能应该想出一些比随机放置墙壁更复杂的东西。可能有一些算法很有趣，用 smalltalk 似乎配备的函数式编程特性来实现。考虑查看[Maze Generation Algorithms 的 Wikipedia 页面](http://en.wikipedia.org/wiki/Maze_generation_algorithm)，[该页面](http://rosettacode.org/wiki/Maze_generation)基于该页面，其中包含各种语言的代码示例。

# ios - 在 iOS 中动态创建表单

> ID：15127808
> 
> 赞同：1
> 
> 时间：2013-02-28T04:55:01.047
> 
> 标签：ios, json, forms, rest

我对 iOS 的了解为零，并且正在研究一个需要根据服务器端发送的信息动态构建表单的应用程序。

我正在从服务器端（基于 Java EE）查看它，但想弄清楚 iOS 端的限制和实践是什么，这决定了我是否应该走这条路。

如果发送到 iOS 应用的数据如下所示：

```
[
    {
        "values": "Text Field",
        "required": "true",
        "hidden": "true",
        "readonly": "false",
        "prevalue": "This is text field",
        "fieldesc": "First Name"
        "mask": "false"
    },

    {
        "values": "Text Field",
        "required": "true",
        "hidden": "true",
        "readonly": "false",
        "prevalue": "01/01/1980",
        "fieldesc": "Date Of Birth"
        "mask": "false"
    },

    {
        "values": "Text Field",
        "required": "true",
        "hidden": "true",
        "readonly": "false",
        "prevalue": "888 888 888",
        "fieldesc": "Tax File Number"
        "mask": "true"
    },
] 
```

我希望 iOS 应用程序创建适当的字段。

当字段数量增加时，这可能会变得复杂，我可能不得不保留在单独的页面中。

我想听听想法和建议，看看我应该如何处理这个问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T05:11:07.350

以`UITableViewController`. 实现`UITableViewDataSource`和`UITableViewDelegate`委托，这将允许您根据从服务器获取的字段元数据动态创建行。

您将实现和为表单中的每个字段创建 UITableViewCells 之类`cellForRowAtIndexPath`的方法。`numberOfRows``numberOfSections`

您将`UITextField`在表格视图的每个单元格中插入控件。最终，您将得到一个可滚动、可编辑的表单，其中包含嵌入在 tableview 中的文本字段。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T05:28:23.277

我认为我的解决方案不会是最好的，但我认为您可以使用简单的 for 循环来实现它。

首先你需要解析整个 JSON，它会给你一个包含 3 个字典的数组。

```
float xCord = 20;
float yCord = 40;

for (int loop = 0; loop<[parsedJsonArray count]; loop++)
{
  xCord = 20;
  //You need to create a label for displaying the description
  UILabel *lab = [[UILabel alloc] initWithFrame:CGRectMake(xCord,yCord,100,20)];
  lab.text = [[parsedJsonArray objectAtIndex:0] valueForKey:@"fieldesc"];
  [self.view addSubview:lab];

  xCord = 130;
  if ([[[parsedJsonArray objectAtIndex:0] valueForKey:@"values"] isEqualToString:@"Text Field"])
 { 
   UITextField *tfd = [[UITextField alloc] initWithFrame:CGRectMake(xCord,yCord,100,20)];
   tfd.text = [[parsedJsonArray objectAtIndex:0] valueForKey:@"prevalue"];
   [self.view addSubview:tfd];
 }

 yCord += 35;
} 
```

您需要根据需要调整 x 和 y 坐标，也对文本字段和其他表单元素执行相同操作。

另一点：如果您需要多个页面，则需要在循环内处理。但我建议最好在上面放置一个滚动视图和其他元素。

# sql - 如何在 SQL Server 2008 R2 中导入/执行 SQL DDL 文件？

> ID：15127811
> 
> 赞同：0
> 
> 时间：2013-02-28T04:55:09.563
> 
> 标签：sql, sql-server

我已经从 Erwin 数据库建模器中的物理模型创建了一个 .ddl 文件，我很难弄清楚如何在 SQL Server Management Studio 中导入/执行此文件以让 .ddl 文件创建表、键和我创建的数据库中的数据类型。

任何帮助将非常感激。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T05:06:05.670

没有直接的方法。您必须将 DDL 生成到单独的脚本中，然后手动运行脚本。请在脚本成功运行后进行监控。

有时，数据库使用它们生成的 DDL 比较创建后的数据库会发现索引或列可空性的列顺序不同。所以请彻底验证。

# php - 在电子商务插件的结帐页面中更改标签，Concrete5

> ID：15127816
> 
> 赞同：1
> 
> 时间：2013-02-28T04:55:38.690
> 
> 标签：php, html, e-commerce, concrete5

如何更改具体5电子商务结帐页面中的标签？

例如标签是“地址 1”。我想将其更改为“地址一”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T03:59:37.810

我承认我没有使用过核心商务。但是您使用的代码使它看起来像“正常”的具体5 属性。

您是否尝试在仪表板界面中编辑属性名称？

# android - 将项目导入我的 Eclipse 后如何解决此错误？

> ID：15127817
> 
> 赞同：0
> 
> 时间：2013-02-28T04:55:44.430
> 
> 标签：android, eclipse, project

我正在将一个 Android 项目导入到我的 Eclipse 中，然后它显示为红色！在项目文件夹上标记错误，所以请帮助我如何解决这些类型的错误，并且项目不包含其他错误。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T07:42:11.600

几天前我遇到了同样的问题，但图书馆路径有问题。我认为这也是您的项目的问题。请更改路径右键单击您的项目，然后按照：

构建路径 --> 配置构建路径 --> java 构建路径

然后删除您已经存在的库，然后从这些库的当前位置添加您的库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T04:58:08.453

只需按照这些步骤，

*   右键单击项目，
*   选择构建路径
*   修复任何丢失的库
*   清理项目

就是这样。

# c# - 如何将我班级的字符串连接到表格

> ID：15127819
> 
> 赞同：1
> 
> 时间：2013-02-28T04:56:12.010
> 
> 标签：c#, winforms, compiler-errors

我一直在程序中处理这个字符串代码：

```
string[] keywords = { "abstract", "as", "etc" }; 
```

以及我在这段代码之后使用它的时间（在 mainform.cs 中）：

```
for (int i = 0; i < keywords.Length; i++)
{
    if (keywords[i] == token)
    {
        // Apply alternative color and font to highlight keyword.
        rtb.SelectionColor = Color.Blue;
        rtb.SelectionFont = new Font("Courier New", 10, FontStyle.Bold);
        break;
    }
} 
```

但事情是我想为关键字创建单独的类（KeyWord.cs）并在主窗体中声明它，但这段代码不起作用：

关键字.cs：

```
namespace editor
{
    class KeyWord
    {
        string[] keywords = { "abstract", "as", "etc" };
    }
} 
```

Mainform.cs：

```
string[] keywords;
for (int i = 0; i < keywords.Length; i++)
{
    if (keywords[i] == token)
    {
        // Apply alternative color and font to highlight keyword.
        rtb.SelectionColor = Color.Blue;
        rtb.SelectionFont = new Font("Courier New", 10, FontStyle.Bold);
        break;
    }
} 
```

错误说：

> 使用未分配的局部变量“关键字”：

请注意，此代码在 mainform 中处于无效状态：

```
private void TextChangedEvent(object sender, EventArgs e)
{
} 
```

我该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T05:02:41.677

欢迎使用 Stackoverflow，您需要获取 KeyWord 类的实例，然后将其关键字字符串数组分配给您`String[] keywords`在 Mainform.cs 中本地声明的，例如：

```
 var keyboardCls = new editor.KeyWord();
     String[] keywords = keyboardCls.keywords;

        for (int i = 0; i < keywords.Length; i++)
        {
            if (keywords[i] == token)
            {
                // Apply alternative color and font to highlight keyword.
                rtb.SelectionColor = Color.Blue;
                rtb.SelectionFont = new Font("Courier New", 10, FontStyle.Bold);
                break;
            }
        } 
```

编辑：

> 找不到类型或命名空间名称“KeyWords”。

`namespace editor` //<- 删除命名空间或使其与frmMain.cs的命名空间相同或在实例化时完全限定命名空间`new editor.KeyWord();`

我已经编辑了我的代码以显示最后一个选项。此外，如果 KeyWord.cs 与 MainForm.cs 位于不同的项目中，则您需要添加参考。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T05:11:11.790

如果您只想调用对象并且只有一个实例，请使用 static 关键字。无论哪种方式，您都必须在使用它之前为其分配一个值。

```
string[] keywords = new string[3]; 
```

3 是数组的预定长度。如果您需要可变长度，请使用 List<T>。不过，这只是暂时对您有所帮助。你最好的办法是开始阅读一些书籍或教程。

# function - unityscript中的基本功能

> ID：15127821
> 
> 赞同：5
> 
> 时间：2013-02-28T04:56:22.040
> 
> 标签：function, syntax, unity3d, unityscript

我只有一个基本问题。我正在尝试学习如何将函数与 unityscript 一起使用，并且我了解到，当您使用类似的东西创建函数时

```
function Example(text)
{
    print(text);
} 
```

然后使用

```
Example(); 
```

您实际上可以在括号中的后一段代码的括号中插入一个字符串或一个数字，它将通过并将自己插入到您之前创建的函数中。在这种情况下，它最终会打印我在括号中输入的任何内容。

现在，我的问题是，如果这行得通，那么为什么我不传递两个数字并要求让它们添加工作的函数呢？我尝试使用的代码如下所示：

```
Addition(4, 4);
function Addition(a, b)
{
    print(a+b);
} 
```

当我尝试执行此操作时，Unity 告诉我

> 运算符“+”不能与“Object”类型的左侧和“Object”类型的右侧一起使用。

我正在观看[这个](http://vimeo.com/channels/151501/17060579)关于 Javascript 函数的视频，在大约 9 分钟的视频中，那个人输入了确切的内容，然后获取脚本为他添加它。我对脚本编写相当陌生，而且我对自己可能做错了什么没有太多了解。在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-28T08:05:19.843

实际上，在 Unity 中，您的代码必须如下所示：

```
Addition(4, 4);
function Addition(a:int, b:int)
{
    print(a+b);
} 
```

您必须在函数的参数中调用您期望的参数类型。您完全正确地说在 JavaScript 中通常不需要这样做。在 Unity 中，它是。

这是因为它实际上被称为`UnityScript`. UnityScript 是那些想要指出 Unity 的 Javascript 与浏览器中使用的传统版本的 Javascript 非常不同的人使用的名称。

我为您找到了一个很好的列表，其中列出了`UnityScript`和之间`Javascript` [的](http://wiki.unity3d.com/index.php/UnityScript_versus_JavaScript)差异。当我从该网页创建一个快速的项目符号列表时，我可以告诉你不同之处（可能甚至不是全部）：

*   JavaScript 是无类的
*   JavaScript 支持在一个 var 语句中声明多个变量。
*   在 JavaScript 中，赋值被视为表达式。
*   JavaScript 中的每个顶级变量都是全局变量。此外，该语句之前没有的任何变量声明`var`都是全局的。
*   在 Javascript 中，动态类型是有效的。
*   在 JavaScript 中，隐私是非常规的。
*   UnityScript 标识符中不允许使用美元符号 ($)，因为它们在 JS 标识符中。
*   UnityScript中没有`with`声明。
*   Javascript 支持`Regular Expression Literals`(`RegExp`或`regex`)。
*   在 JavaScript 中，`this`可以根据上下文引用以下两种事物之一：
    *   全局对象（最好不要在这里解释）
    *   当前方法或构造函数所属的对象

我已经重新标记了您的问题，以便在 UnityScript 中对其进行分类。StackOverflow 对此有这样的说法：

> Unity 的 JavaScript 试图密切遵循 ECMAScript 标准，它在许多方面与基于相同标准的其他 JavaScript 实现不同。它可能与 Microsoft 的 JScript 最为相似，尤其是两者都是 .NET 语言。但是，Unity 的版本是独立开发的，两者之间存在许多差异。

我也不得不找出困难的方法。我弄乱了两种语言并[解决了这个问题](https://stackoverflow.com/questions/14529726/search-a-substring-in-an-array-of-strings-in-javascript)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T04:58:51.480

Unity JavaScript 出于某种原因没有将它们`4`作为原始`Number`类型，因此它无法执行加法。

您可以尝试通过调用它们的`valueOf()`方法将它们转换为原始类型。

# html - 下载链接到 /var/[myProject]/www/[myFolder]/[myFile]

> ID：15127823
> 
> 赞同：0
> 
> 时间：2013-02-28T04:56:30.903
> 
> 标签：html

如何创建`/var/[myProject]/www/[myFolder]/[myFile]`使用 <a> 标签的下载链接？单击它并下载它。

用这个

```
$zipPath = "/var/[projectName]/www/html/zip_download/Input.csv.zip";
...
<a href="<?php echo $bag->get("zipPath", ""); ?>"><?php echo $bag->get("zipFileName", ""); ?></a> 
```

单击它时，它意外转到：http://[hostName]/var/[projectName]/www/html/zip_download/Input.csv.zip

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T05:38:19.613

为什么要添加：

```
/var/[projectName]/www/ 
```

只需删除它将正确运行。添加 /var/[projectName]/www/ 表示该文件夹来自

```
http://[hostName]/var/[projectName]/www/html/zip_download/Input.csv.zip 
```

因为 WWW 是网站根目录，因此删除将正常工作

```
http://[hostName]/html/zip_download/Input.csv.zip 
```

# android - 显示视图时Android如何管理内存？

> ID：15127826
> 
> 赞同：2
> 
> 时间：2013-02-28T04:56:54.437
> 
> 标签：android, performance, memory, gridview

我想知道Android在将视图加载到布局中以及何时显示然后不显示在屏幕上时如何管理内存。

基本上，我正在制作一个应用程序，它需要一个非常长的页面，其中包含位图和文本——类似于网页。我知道我应该使用 GridView 和 ListView 等标准视图来处理大量视图和图像，但这是一个小众应用程序。（设计一成不变）

说我有这个布局

```
<ScrollView>
    <LinearLayout>
        1000 ImageViews vertically stacked inside here.
    </LinearLayout>
</ScrollView> 
```

加载 ScrollView 时，并非所有 ImageView 都适合屏幕 - 不在屏幕上的 ImageView 位图是否仍加载到内存中？如果不是，当它们被滚动到视图中时，它们会被从内存中删除？

**注意：**我知道 GridViews / ListViews 是为此目的而设计的，但我的应用程序的特殊设计无法容纳这些视图。

**潜在**的解决方案：扩展gridview，使其具有固定的高度，并且直到`ScrollView`它包含在底部时才滚动。IE：

```
<ScrollView>
    <LinearLayout>
        Lots of text and a few images.
        <GridView> <-- attach listener so that touch events are 
        ignored until at bottom of scroll view -->
            1000s of ImageViews
        </GridView>
    </LinearLayout>
</ScrollView> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T04:59:58.543

是的，即使它们不可见，它们也会被加载到内存中。在不使用 ListView 和延迟加载图像的情况下执行此操作可能会导致您的应用在低内存设备上耗尽内存并崩溃。

此外，你的潜力是行不通的，因为将滚动的东西放在其他滚动的东西中总是一个坏主意，并且会导致很多与获取正确的触摸事件和准确处理它们相关的麻烦。[看到这个答案](https://stackoverflow.com/a/6211286/1369222)。

# c# - 用两个词分开

> ID：15127827
> 
> 赞同：2
> 
> 时间：2013-02-28T04:56:56.427
> 
> 标签：c#, .net, string

考虑以下示例，

*示例：* 1:1 你好。

现在我想拥有`("1:1")`两个`("Hello")`单独的字符串变量。非常感谢任何解决方案..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T04:59:42.713

[`String.Split`](http://msdn.microsoft.com/en-gb/library/system.string.split%28v=vs.80%29.aspx)与空格字符一起使用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T05:13:43.983

您可以使用[.Split](http://msdn.microsoft.com/en-us/library/b873y76a.aspx)在空白处分隔基地。

```
var str = "1:1 Hello";
var s = str.Split(' '); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-28T06:01:53.160

要从包含至少一个但可能包含更多空格的字符串中准确获取 2 个字符串，您可以使用此[`String.Split(Char[], Int32)`](http://msdn.microsoft.com/en-gb/library/c1bs0eda.aspx)重载，您可以在其中指定所需的最大拆分数（子字符串）。

示例用法：

`"1:1 Hello".Split(new char[] {' '}, 2)`这会给你两个字符串`1:1`和`Hello`

`"1:1 Hello world".Split(new char[] {' '}, 2)`会给你两个字符串`1:1`和`Hello world`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T05:01:50.133

如果字符串 (str) 不包含空格，我已将空格附加到 str1 以避免异常。如果不可能有没有空格的字符串，请删除 str1 中的额外空格。

```
var str = "1:1 Hello";
var str1 = (str+" ").Split(' ');
var firststr = str1[0];
var hellostr = str1[1]; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-28T05:54:11.250

如果 Split() 不够用，可以考虑正则表达式。

# javascript - 按每个对象具有的属性对对象数组进行排序时出现异常结果

> ID：15127828
> 
> 赞同：0
> 
> 时间：2013-02-28T04:57:02.620
> 
> 标签：javascript, arrays, object, sorting

`rank`我正在尝试按每个对象具有的属性对对象数组进行排序。[这](https://stackoverflow.com/questions/1129216/sorting-objects-in-an-array-by-a-field-value-in-javascript)似乎是公认的做法。但是，它似乎无法正常工作。

```
var waypoints = ig.game.getEntitiesByType(EntityWaypoint); // returns array of objects
// This line tells sort to order by Array[i].rank
waypoints.sort(function(a,b) {return (a.rank < b.rank) ? -1 : (a.rank > b.rank) ? 1 : 0;});
waypoints.sort();
for( var i=0; i<waypoints.length; i++ ) {
    console.log(waypoints[i].rank);
} 
```

控制台最终看起来像这样：

```
4
1
2
3
5
6
7 
```

我还尝试了以下变体，结果相同。

```
waypoints.sort(function(a,b) {return (parseInt(a.rank) < parseInt(b.rank)) ? -1 : (parseInt(a.rank) > parseInt(b.rank)) ? 1 : 0;}); 
```

`rank`为什么不能按每个对象的属性正确排序对象数组？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T05:02:43.050

[您的自定义排序没有任何问题](http://jsfiddle.net/mattball/6vsrE/)。您的第一段代码调用`waypoints.sort()`了两次。第二种是乱序；去掉它。

# php - 图像未全屏显示

> ID：15127832
> 
> 赞同：0
> 
> 时间：2013-02-28T04:57:22.133
> 
> 标签：php, jquery, ajax, wordpress-theming

我开发了一个网站，它运行良好。只是我的主要正面图像不是全尺寸的。我的意思是不要以不同的分辨率全屏显示。请在此处查看。 [http://kelts.wpengine.com/](http://kelts.wpengine.com/)

我不确定 Position 或 Jquery 可能有问题..

我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T17:30:39.160

我假设你可以用 CSS 解决你的问题`background-size:cover;`，所以不要插入带有 img-tag 的图像，而是使用 CSS 背景属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T06:32:07.763

`.section img{}`从您希望的可能适用的类中删除高度和宽度。

# angularjs - 如何在 AngularJS 中使用 ng-repeat 迭代键和值？

> ID：15127834
> 
> 赞同：701
> 
> 时间：2013-02-28T04:57:45.827
> 
> 标签：angularjs, angularjs-ng-repeat

在我的控制器中，我有如下数据： `$scope.object = data`

现在，此数据是具有来自 的键和值的字典`json`。

`object.name`我可以在模板中访问属性。有什么方法可以让我也可以遍历键并将它们显示在表格中

`<tr><td> {{key}} </td> <td> data.key </td>`

数据是这样的

```
{
    "id": 2,
    "project": "wewe2012",
    "date": "2013-02-26",
    "description": "ewew",
    "eet_no": "ewew",
} 
```

* * *

## 回答 #1

> 赞同：1442
> 
> 时间：2013-02-28T05:07:41.970

怎么样：

```
<table>
  <tr ng-repeat="(key, value) in data">
    <td> {{key}} </td> <td> {{ value }} </td>
  </tr>
</table> 
```

此方法在文档中列出：[https ://docs.angularjs.org/api/ng/directive/ngRepeat](https://docs.angularjs.org/api/ng/directive/ngRepeat)

* * *

## 回答 #2

> 赞同：136
> 
> 时间：2014-07-29T02:13:30.657

如果您想使用两种方式绑定来编辑属性值：

```
<tr ng-repeat="(key, value) in data">
    <td>{{key}}<input type="text" ng-model="data[key]"></td>
</tr> 
```

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2013-02-28T05:06:21.397

我认为 Angular 中没有内置函数可以执行此操作，但是您可以通过创建一个包含所有标题名称的单独范围属性来执行此操作，并且您可以像这样自动填充此属性：

```
var data = {
  foo: 'a',
  bar: 'b'
};

$scope.objectHeaders = [];

for ( property in data ) {
  $scope.objectHeaders.push(property); 
}

// Output: [ 'foo', 'bar' ] 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2015-11-07T11:31:24.153

我们可以按照以下步骤来避免按字母顺序显示键值。

**Javascript**

```
$scope.data = {
   "id": 2,
   "project": "wewe2012",
   "date": "2013-02-26",
   "description": "ewew",
   "eet_no": "ewew",
};
var array = [];
for(var key in $scope.data){
    var test = {};
    test[key]=$scope.data[key];
    array.push(test);
}
$scope.data = array; 
```

**HTML**

```
<p ng-repeat="obj in data">
   <font ng-repeat="(key, value) in obj">
      {{key}} : {{value}}
   </font>
</p> 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2015-08-18T05:10:44.050

一个*todo 列表*示例，它通过以下方式循环对象`ng-repeat`：

```
var app = angular.module('toDolistApp', []);
app.controller('toDoListCntrl', function() {
  var self = this;
  self.toDoListItems = {};// []; //dont use square brackets if keys are string rather than numbers.
  self.doListCounter = 0;

  self.addToDoList = function() {		  		   
    var newToDoItem = {};
    newToDoItem.title     = self.toDoEntry;
    newToDoItem.completed = false;		   

    var keyIs = "key_" + self.doListCounter++;  		   

    self.toDoListItems[keyIs] = newToDoItem;		   
    self.toDoEntry = ""; //after adding the item make the input box blank.
  };
});

app.filter('propsCounter', function() {
  return function(input) {
    return Object.keys(input).length;
  }
});
```

```
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.23/angular.min.js"></script>
<body ng-app="toDolistApp">    
  <div ng-controller="toDoListCntrl as toDoListCntrlAs">
    Total Items: {{toDoListCntrlAs.toDoListItems | propsCounter}}<br />
    Enter todo Item:  <input type="text" ng-model="toDoListCntrlAs.toDoEntry"/>
    <span>{{toDoListCntrlAs.toDoEntry}}</span>
    <button ng-click="toDoListCntrlAs.addToDoList()">Add Item</button> <br/>
    <div ng-repeat="(key, prop) in toDoListCntrlAs.toDoListItems"> 
      <span>{{$index+1}} : {{key}}   : Title = {{ prop.title}} : Status = {{ prop.completed}} </span>
    </div>     
  </div>    
</body>
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2016-10-12T08:53:56.130

**此处的完整示例：-**

```
<!DOCTYPE html >
<html ng-app="dashboard">
<head>
<title>AngularJS</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<link rel="stylesheet" href="./bootstrap.min.css">
<script src="./bootstrap.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular.min.js"></script>
</head>
<body ng-controller="myController">
    <table border='1'>
        <tr ng-repeat="(key,val) in collValues">
            <td ng-if="!hasChildren(val)">{{key}}</td>  
            <td ng-if="val === 'string'">
                <input type="text" name="{{key}}"></input>
            </td>
            <td ng-if="val === 'number'">
                <input type="number" name="{{key}}"></input>
            </td>
            <td ng-if="hasChildren(val)" td colspan='2'>
                <table border='1' ng-repeat="arrVal in val">
                    <tr ng-repeat="(key,val) in arrVal">
                        <td>{{key}}</td>    
                        <td ng-if="val === 'string'">
                            <input type="text" name="{{key}}"></input>
                        </td>
                        <td ng-if="val === 'number'">
                            <input type="number" name="{{key}}"></input>
                        </td>
                    </tr>
                </table>                
            </td>

        </tr>       
    </table>
</body>

<script type="text/javascript">

    var app = angular.module("dashboard",[]);
    app.controller("myController",function($scope){
        $scope.collValues = {
            'name':'string',
            'id':'string',
            'phone':'number',
            'depart':[
                    {
                        'depart':'string',
                        'name':'string' 
                    }
            ]   
        };

        $scope.hasChildren = function(bigL1) {
            return angular.isArray(bigL1);
} 
    });
</script>
</html> 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2018-03-06T12:24:18.613

```
 Use below code it is working to display your key and value here is key start with 1:
         <tr ng-repeat="(key,value) in alert_list" >
                   <td>{{key +1}}</td>
                   <td>{{value.title}}</td>
                 </tr>
Below is document link for it. 
```

[https://docs.angularjs.org/api/ng/directive/ngRepeat](https://docs.angularjs.org/api/ng/directive/ngRepeat)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-12-23T11:22:04.247

你可以在你的javascript（控制器）或你的html（角度视图）中做到这一点......

js：

```
$scope.arr = [];
for ( p in data ) {
  $scope.arr.push(p); 
} 
```

html:

```
<tr ng-repeat="(k, v) in data">
    <td>{{k}}<input type="text" ng-model="data[k]"></td>
</tr> 
```

我相信 html 方式更具角度，但您也可以在控制器中执行并在您的 html 中检索它...

查看对象键也不是一个坏主意，如果您需要它们，它们会为您提供键的数组，更多信息在这里：

[https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/keys](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/keys)

# c# - 如何在 Winform 中使用 CSS 格式化 Crystal Report？

> ID：15127836
> 
> 赞同：0
> 
> 时间：2013-02-28T04:57:56.003
> 
> 标签：c#, css, winforms, visual-studio-2008, crystal-reports

我正在使用 VS 2008 作为 Winform。我在项目中有水晶报告，我想在 CSS 的帮助下对其进行格式化。

谁能指出我正确的教程来开始这个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T07:39:24.400

Crystal Reports for Visual Studio 的 HTML 格式有限。看到[这个论坛帖子](http://scn.sap.com/thread/3210329)（谷歌[更多](https://www.google.com/search?q=sap%20crystal%20reports%20HTML%20CSS%20suppoort&aq=f&oq=sap%20crystal%20reports%20HTML%20CSS%20suppoort&aqs=chrome.0.57.9204&sourceid=chrome&ie=UTF-8#hl=es-419&q=sap%20crystal%20reports%20HTML%20CSS%20support&spell=1&sa=X&ei=8VkwUeCqBOigiQKd94H4Dg&ved=0CC0QvwUoAA&bav=on.2,or.r_gc.r_pw.r_qf.&bvm=bv.43148975,d.cGE&fp=3a5fa108bc9fcfbb&biw=1920&bih=1091)）。我最近一直在尝试使用 HTML 对我的报告进行一些格式化，但遗憾地发现它甚至不支持 div，它仅用于文本格式，并且大多数 CSS 属性不受支持。最后我不得不使用 RTF 格式（只是因为我需要 Legal Letters 的 Justify Paragraph 选项）。

希望有帮助，

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-28T05:08:25.553

CSS 仅适用于 Web 应用程序。如果要自定义 Windows 应用程序的外观，可以使用 XML 文件或资源文件。将控件的所有设置指定到 XML 或 res 文件中，并在加载窗口应用程序表单时在运行时使用此文件。

示例 xml

```
<?xml version="1.0" encoding="utf-8" ?>
<StylesSheetFile xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
                 xmlns:xsd="http://www.w3.org/2001/XMLSchema">
    <Styles>
        <Style Name="FormType1">
            <Properties>
                <Property Name="BackColor" Value="White" />
                <Property Name="Text" Value="Personal information" />
                <Property Name="Enabled" Value="true" />
            </Properties>
        </Style>
        <Style Name="DataGridType1">
            <Properties>
                <Property Name="RowsDefaultCellStyle.BackColor" 
                          Value="White" />
                <Property Name="AlternatingRowsDefaultCellStyle.BackColor" 
                          Value="214,222,247" />
                <Property Name="Columns[0].HeaderText" 
                          Value="Color name" />
                <Property Name="Columns[1].HeaderText" Value="My rate" />
            </Properties>
        </Style>
        <Style Name="TabControlType1">
            <Properties>
                <Property Name="Enabled" Value="true" />
                <Property Name="TabPages[0].BackColor" Value="White" />
                <Property Name="TabPages[1].BackColor" Value="White" />
                <Property Name="TabPages[2].BackColor" Value="White" />
            </Properties>
        </Style>
        <Style Name="LabelType1">
            <Properties>
                <Property Name="TextAlign" Value="TopLeft" />
                <Property Name="BorderStyle" Value="None" />
                <Property Name="ForeColor" Value="72,94,158" />
                <Property Name="Font" 
                          Value="Microsoft Sans Serif,8.25pt,style=Regular" />
                <Property Name="Height" Value="20" />
                <Property Name="Enabled" Value="true" />
            </Properties>
        </Style>
        <Style Name="LabelType2">
            <Properties>
                <Property Name="ForeColor" Value="Red" />
                <Property Name="Font" 
                          Value="Microsoft Sans Serif,8.25pt,style=Bold" />
            </Properties>
        </Style>
        <Style Name="TextBoxType1">
            <Properties>
                <Property Name="TextAlign" Value="Left" />
                <Property Name="BorderStyle" Value="Fixed3D" />
                <Property Name="Font" Value="Tahoma,10,style=Regular" />
                <Property Name="Height" Value="20" />
                <Property Name="Width" Value="200" />
                <Property Name="BackColor" Value="214, 222, 247" />
            </Properties>
        </Style>
        <Style Name="HyperLinkType1">
            <Properties>
                <Property Name="BorderStyle" Value="None" />
                <Property Name="ForeColor" Value="Blue" />
                <Property Name="Font" 
                          Value="Tahoma,10,style=Italic,Underline" />
                <Property Name="Height" Value="30" />
                <Property Name="Width" Value="200" />
                <Property Name="Enabled" Value="true" />
            </Properties>
        </Style>
        <Style Name="ButtonType1">
            <Properties>
                <Property Name="TextAlign" Value="TopLeft" />
                <Property Name="ForeColor" Value="Black" />
                <Property Name="BackColor" Value="214;222;247" />
                <Property Name="Font" Value="Tahoma,8.25,style=Italic" />
                <Property Name="Height" Value="23" />
                <Property Name="Enabled" Value="true" />
            </Properties>
        </Style>
        <Style Name="ComboBoxType1">
            <Properties>
                <Property Name="BackColor" Value="White" />
                <Property Name="Font" Value="Tahoma,10,style=Italic" />
                <Property Name="Height" Value="30" />
                <Property Name="Width" Value="200" />
                <Property Name="Enabled" Value="true" />
            </Properties>
        </Style>
        <Style Name="RadioButtonType1">
            <Properties>
                <Property Name="ForeColor" Value="Blue" />
                <Property Name="Font" Value="Verdana,8,style=Regular" />
                <Property Name="Width" Value="150" />
                <Property Name="Enabled" Value="true" />
            </Properties>
        </Style>
    </Styles>
</StylesSheetFile> 
```

# javascript - 弹性图像幻灯片未正确调整大小

> ID：15127839
> 
> 赞同：0
> 
> 时间：2013-02-28T04:58:03.120
> 
> 标签：javascript, jquery, image, slideshow

我正在使用从这里下载的弹性图像幻灯片：

[http://tympanus.net/Tutorials/ElasticSlideshow/index2.html](http://tympanus.net/Tutorials/ElasticSlideshow/index2.html)

当我从本地主机预览时，图像大小调整工作正常，并且在演示中工作正常。

但是在我将文件上传到托管在 Fatcow 的服务器后，调整大小的图像在第一张图像之后停止工作。其他一切都在窗口中被拉伸和扭曲。

有人可以帮忙吗？

这是我正在使用的： http: [//thisiskreie.com/gra322/portfolio/index.html](http://thisiskreie.com/gra322/portfolio/index.html)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T05:09:03.847

我收到的错误包括使用；而不是 , 来分隔值。

`<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0;">`应该

`<meta name="viewport" content="width=device-width, initial-scale=1.0">`

我不知道这是否是你的全部问题，但这些都是我亲眼目睹的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T05:26:16.480

可能存在冲突`jQuery`

用于`jQuery.noConflict()`避免这种冲突。

这是文档[http://api.jquery.com/jQuery.noConflict/](http://api.jquery.com/jQuery.noConflict/)

# sql - 我正在尝试在 JTable 中添加行

> ID：15127844
> 
> 赞同：1
> 
> 时间：2013-02-28T04:58:27.950
> 
> 标签：sql, jtable, mouseevent, variable-assignment

我正在尝试在 JTable 中添加行，它在我身上运行良好，问题是当我尝试单击 JTable 中的单元格时，出现错误提示`ArrayIndexOutOfBoundsException: -1`。有人可以帮我吗？

```
 PreparedStatement pr = conn.prepareStatement("SELECT * FROM tblInfo");
        ResultSet rs = pr.executeQuery();

        ResultSetMetaData metadata = rs.getMetaData();

        Vector<String> col = new Vector<String>();
        int columnCount = metadata.getColumnCount();

        for(int i=1; i<=columnCount; i++)
        {
        col.add(metadata.getColumnName(i));
        } 

        Vector<Vector<Object>> data = new Vector<Vector<Object>>();
        while(rs.next())
        {
            Vector<Object> vector = new Vector<Object>();
            for(int i=1; i<=columnCount; i++)
            {
                vector.add(rs.getObject(i));
            }
            data.add(vector);
        }

        table = new JTable(data, col);
        table.setBackground(Color.LIGHT_GRAY);
        table.setForeground(Color.white);
        table.setFont(new Font("Ubuntu Light", Font.PLAIN, 16));
        table.setAutoResizeMode(table.AUTO_RESIZE_ALL_COLUMNS);
        table.setRowHeight(22);
        table.setCellSelectionEnabled(false);

        table.addMouseListener(new MouseAdapter(){
            public void mouseClicked(MouseEvent m){

                Object one, two, three, four;
                int i = table.getSelectedRow();

                int col = table.getSelectedColumn();
                int row = table.getSelectedRow();
                one = GetData(table,i, 0);
                two = GetData(table,i, 1);

                txtDoctorID.setText(one.toString());
                txtDoctorName.setText(two.toString());   

            //  txtDoctorID.setText(table.getModel().getValueAt(row,col).toString());   

            }
        }); 

        scroll = new JScrollPane(this.table);
        scroll.setSize(680,200);
        scroll.setLocation(265,65);
        scroll.setBackground(Color.LIGHT_GRAY);
        scroll.setAutoscrolls(true);
        scroll.setWheelScrollingEnabled(true);
        getContentPane().add(scroll); 

        st.close();
        rs.close(); 
```

// 我刚刚删除了 try 和 catch

这里是错误提示

```
Exception in thread "AWT-EventQueue-0" java.lang.ArrayIndexOutOfBoundsException: -1
at java.util.Vector.elementData(Vector.java:730)
at java.util.Vector.elementAt(Vector.java:473)
at javax.swing.table.DefaultTableModel.getValueAt(DefaultTableModel.java:649)
at Record.GetData(Record.java:401)
at Record$1.mouseClicked(Record.java:290)
at java.awt.AWTEventMulticaster.mouseClicked(AWTEventMulticaster.java:270)
at java.awt.Component.processMouseEvent(Component.java:6508)
at javax.swing.JComponent.processMouseEvent(JComponent.java:3321)
at java.awt.Component.processEvent(Component.java:6270)
at java.awt.Container.processEvent(Container.java:2229)
at java.awt.Component.dispatchEventImpl(Component.java:4861)
at java.awt.Container.dispatchEventImpl(Container.java:2287)
at java.awt.Component.dispatchEvent(Component.java:4687)
at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)
at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4501)
at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)
at java.awt.Container.dispatchEventImpl(Container.java:2273)
at java.awt.Window.dispatchEventImpl(Window.java:2719)
at java.awt.Component.dispatchEvent(Component.java:4687)
at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:729)
at java.awt.EventQueue.access$200(EventQueue.java:103)
at java.awt.EventQueue$3.run(EventQueue.java:688)
at java.awt.EventQueue$3.run(EventQueue.java:686)
at java.security.AccessController.doPrivileged(Native Method)
at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)
at java.awt.EventQueue$4.run(EventQueue.java:702)
at java.awt.EventQueue$4.run(EventQueue.java:700)
at java.security.AccessController.doPrivileged(Native Method)
at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
at java.awt.EventQueue.dispatchEvent(EventQueue.java:699)
at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)
at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)
at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)
at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)
at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)
at java.awt.EventDispatchThread.run(EventDispatchThread.java:91) 
```

# windows-8 - 有没有办法从 Win Phone 8 中检索联系人列表？

> ID：15127845
> 
> 赞同：1
> 
> 时间：2013-02-28T04:58:30.260
> 
> 标签：windows-8, windows-phone-8, windows-phone

有没有办法像在 Android 中那样从 Win Phone 8 中检索联系人列表。基本上我需要从应用程序内部实现一个 SMS 发送功能，为了实现它，我需要向用户显示现有的联系人。使用 C# +XAML +WP8。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T05:00:57.160

msdn 上有[联系人和日历](http://code.msdn.microsoft.com/wpapps/Contacts-and-Calendar-9fce5e26)
的示例 这是访问[联系人和日历的演练](http://msdn.microsoft.com/en-us/library/windowsphone/develop/hh286414%28v=vs.105%29.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T05:02:43.617

此 MSDN 帖子详细说明了如何通过电话搜索/访问联系方式：http: [//msdn.microsoft.com/en-us/library/hh286416%28v=vs.92%29.aspx](http://msdn.microsoft.com/en-us/library/hh286416%28v=vs.92%29.aspx)

# java - setTextContent() 和 appendChild(Text) 的区别

> ID：15127847
> 
> 赞同：9
> 
> 时间：2013-02-28T04:58:45.177
> 
> 标签：java, xml, dom

创建 XML 文档时，这两种向元素添加文本的方法有什么区别（如果有的话）：

```
Element el = document.createElement("element");
el.setTextContent("This is the text content"); 
```

和

```
Element el = document.createElement("element");
Text txt = document.createTextNode("This is the text content");
el.appendChild(txt); 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-28T05:08:03.073

[从文档中`Element#setTextContent()`：](http://docs.oracle.com/javase/7/docs/api/org/w3c/dom/Node.html#setTextContent%28java.lang.String%29)

> 设置时，此节点可能具有的任何可能的子节点都将被删除，如果新字符串不为空或 null，则替换为包含此属性设置为的字符串的单个 Text 节点。

[`Element#appendChild()`](http://docs.oracle.com/javase/7/docs/api/org/w3c/dom/Node.html#appendChild%28org.w3c.dom.Node%29)不删除现有的孩子（除非指定的孩子已经在树中）。所以

```
el.setTextContent("This is the text content") 
```

相当于在调用*之前*`el.appendChild()`删除所有子项：

```
for(Node n : el.getChildNodes())
{
    el.removeChild(n);
}
el.appendChild(document.createTextNode("This is the text content")); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T05:08:26.563

`appendChild()`

方法在指定元素节点的最后一个子节点之后添加一个节点。

```
setTextContent() 
```

用这个替换文本内容。

# asp.net - 仅对 ASP.Net 网站的部分内容使用证书安全性

> ID：15127850
> 
> 赞同：1
> 
> 时间：2013-02-28T04:59:00.983
> 
> 标签：asp.net, security, ssl, iis-7, certificate

我们有一个既面向客户又在内部使用的公司网站。我的问题是，如果存在证书，我只想访问 1 或 2 页。证书将安装在我们办公室的机器上。外部客户应该无法访问此页面。

做这个的最好方式是什么？

我正在使用带有 IIS-7 的 ASP.Net 4.0

# android - 选项卡片段，每次切换选项卡时创建视图

> ID：15127857
> 
> 赞同：5
> 
> 时间：2013-02-28T04:59:53.180
> 
> 标签：android, android-fragments

我探索了几个选项卡片段示例（在 Support4Demos 中也提供了一个）但我发现每次切换选项卡时，每次都从片段类的“onCreateView”创建选项卡内容视图。

```
@Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        View v = inflater.inflate(R.layout.hello_world, container, false);
        View tv = v.findViewById(R.id.text);
        ((TextView)tv).setText("Fragment #" + mNum);
        tv.setBackgroundDrawable(getResources().getDrawable(android.R.drawable.gallery_thumb));
        return v;
    } 
```

是否可以在首次创建片段视图时创建一次，并且在选项卡之间切换而不是再次创建时将显示/消失？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T07:02:36.910

我想我找到了解决方案。我需要使用寻呼机，它会缓存选项卡，并且不会在每次切换时创建新视图。

从这里找到它：[如何缓存片段视图](https://stackoverflow.com/questions/11291739/how-to-cache-a-fragment-view)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T05:20:10.470

不，你必须习惯这个想法并开始保存屏幕旋转和类似的重要信息。然后，当您再次创建视图时，您会获取保存的信息并将其用于初始化。

有关类似讨论，请参见[此处。](https://stackoverflow.com/a/6787393/969325)基本上在您的片段 onActivityCreated 中加载数据，在片段 onSaveInstanceState 中保存数据。

# android - 了解 Playstore 中的搜索次数

> ID：15127860
> 
> 赞同：1
> 
> 时间：2013-02-28T05:00:01.730
> 
> 标签：android

我如何知道有多少人在 google playstore 中搜索我的应用程序并使用代码获取它？特别是如果他们使用关键字搜索。谢谢！

# image - 我想为我的按钮设置背景图像。我撞车了

> ID：15127867
> 
> 赞同：1
> 
> 时间：2013-02-28T05:00:32.087
> 
> 标签：image, button, c++-cli

我想为我的按钮设置背景图像。我的背景图片没有出现在按钮上。所以我决定记录 myButton。

```
this->myButton->BackgroundImage->FromFile( "c:\\red\\Desert.jpg");
myLog(this->myButton->BackgroundImage->ToString()); 
```

记录字符串时发生崩溃：

```
message Object reference not set to an instance of an object 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T15:47:43.997

BackgroundImage 属性是一个指向 Image 对象的指针，最初它是 nullptr，因此您试图从不存在的对象访问方法。正确的代码可能是这样的：

```
this->myButton->BackgroundImage = Image::FromFile("c:\\red\\Desert.jpg");
// Now the image object is initialized and you can log it
myLog(this->myButton->BackgroundImage->ToString()); 
```

# javascript - 将数据写入 JSON

> ID：15127873
> 
> 赞同：1
> 
> 时间：2013-02-28T05:01:06.567
> 
> 标签：javascript, json, html

读取 JSON 的值是可能的.. 同样，当我们单击提交按钮时，我们可以将文本框值写入 JSON 变量吗

示例：`

```
<html>
<head>
<title>
Sample Employee Details
</title>
<script type="text/javascript" src="emp_json.js">
</script>
</head>
<body>
<form>
<p>Emp ID:<input type="text" id="empid" /></p>
<p>Name:<input type="text" id="name" /></p>
<p>Mobile:<input type="text" id="mob" /></p>
<p><input type="button" value="Add" onclick="add();"/></p>
</form>
<script>
function add()
{
    EmployeeDetails.EmployeeID = document.getElementById('empid').value;
    EmployeeDetails.Name = document.getElementById('name').value;
    EmployeeDetails.Mobile = document.getElementById('mob').value;alert("hi");
}
</script>
</body>
</html>` 
```

我的 JSON：

```
var EmployeeDetails = new Array();

EmployeeDetails = [
                    {
                    "EmployeeID":"",
                    "Name":"",
                    "Mobile":""
                    }
                ]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T05:04:54.097

也许您正在尝试使用jQuery 库中的[parseJSON](http://api.jquery.com/jQuery.parseJSON/)。

# php - 是否可以使用动态 cookie 名称？

> ID：15127877
> 
> 赞同：1
> 
> 时间：2013-02-28T05:01:25.487
> 
> 标签：php, dynamic, cookies

对于我的项目，我使用 cookie 来自动登录用户。但是，我不希望用户知道哪些 cookie 用于什么目的。

出于这个原因，我决定加密 cookie 的名称以及内容。解密这些cookies的内容以供使用不会造成太大的麻烦。它可以按我的意愿完美运行。但是，为了兼容性和动态性，我尝试通过它们的名称动态调用 cookie，使用类似的代码如下：

```
if(isset($_COOKIE[$encryption->decrypt('username')]){ ... } 
```

但这似乎不起作用。也没有使用 cookie 的加密名称设置变量，如下所示：

```
$cookie_name = $encryption->decrypt('username');
if(isset($_COOKIE[$cookie_name]){ ... } 
```

我目前使用这个脚本的方式（有效，但似乎有点草率）是这样的：

```
if(isset($_COOKIE['Nm9yNCtoK1lTY2M5TnhKWnRvL0NjUT09']){ ... } 
```

有没有办法正确地做到这一点，或者我是否像现在一样被迫通过它的预加密名称调用 cookie？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T05:17:47.873

您永远不想使用 cookie 来存储用户数据，而是使用 $_SESSION 并使其持续更长的用户使用此代码：

```
session_set_cookie_params ((14 * 24 * 60 * 60),  '/', '.yoursite.com');
//Set the session for 14 days, on all paths, on all subdomains of yoursite.com 
```

这将比浏览器关闭更持久，并在下次打开会话时继续会话。

例如，在 login.php，你可以这样：

```
if ($remembermechecked) {
session_set_cookie_params ((14 * 24 * 60 * 60),  '/', '.yoursite.com');} 
```

当 $remembermechecked 为真时，会话将持续 14 天。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T05:12:16.867

如上面的评论所述，使用会话是明智的。

在 PHP 中，可以将会话设置为“持久的”... AKA：当用户关闭浏览器时不要迷路。

检查这个答案。

[https://stackoverflow.com/a/9797962/1521230](https://stackoverflow.com/a/9797962/1521230)

编辑：

要在每个请求上“重置”会话 cookie 持续时间，在每个页面上的 session_start() 之后，您还需要使用 session_regenerate_id(TRUE)。

# bash - 否则，如果在 bash 脚本中给出错误

> ID：15127888
> 
> 赞同：0
> 
> 时间：2013-02-28T05:02:55.493
> 
> 标签：bash, shell, ubuntu

```
#!/bin/bash
value=$(</var/www/sym_monitor/man_mon.txt)
value2=$(</var/www/sym_monitor/panel_mon.txt)

pro=$(ps -ef |grep sym |grep -v grep |awk '{ print $2 }')
echo "$pro";
echo "STARTED";

if [ "$value" == "false" ]; then

 cd /var/www/symmetric-ds-3.1.6/bin;
sleep 30;
(sudo ./sym --port 8082 --server);
 #(sudo /bin/bash /var/www/symmetric-ds-3.1.6/bin/sym --port 8082 --server);

echo "IF";

else 
if [ "$value2" == "false" ]; then

 cd /var/www/symmetric-ds-3.1.6/bin;
sleep 30;
(sudo ./sym --port 8082 --server);
 #(sudo /bin/bash /var/www/symmetric-ds-3.1.6/bin/sym --port 8082 --server);
echo "ELSEIF";

else
if[ "$pro" == "" ]; then

echo "pro";
 cd /var/www/symmetric-ds-3.1.6/bin;
sleep 30;
(sudo ./sym --port 8082 --server);
fi
fi
fi

echo "END"; 
```

在上面的脚本中，最后一个 else if 给出了语法错误。任何的想法？在变量 $pro 中，即使没有运行某些进程 ID 的此类进程正在打印？为什么？

在该脚本如下所示并且工作得非常好之前。

```
#!/bin/bash
    value=$(</var/www/sym_monitor/man_mon.txt)
    value2=$(</var/www/sym_monitor/panel_mon.txt)

 if [ "$value" == "false" ]; then

     cd /var/www/symmetric-ds-3.1.6/bin;
    sleep 30;
    (sudo ./sym --port 8082 --server);
     #(sudo /bin/bash /var/www/symmetric-ds-3.1.6/bin/sym --port 8082 --server);

    elif [ "$value2" == "false" ]; then

     cd /var/www/symmetric-ds-3.1.6/bin;
    sleep 30;
    (sudo ./sym --port 8082 --server);
     #(sudo /bin/bash /var/www/symmetric-ds-3.1.6/bin/sym --port 8082 --server);

    fi 
```

这是脚本的第一个版本，它工作得非常好。但是我必须再添加一个条件，即如果上面第一个脚本中提到的没有进程运行，那么条件中的代码应该运行。我不知道为什么即使没有进程运行它也会给 $pro 价值提供一些数字。任何的想法？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-28T05:13:09.000

“if”和“[”之间应该有一个空格，例如`if [`。（检查第 31 行）
为避免此类错误，请阅读`man bash`

# text - 在 JPanel 中操作文本

> ID：15127889
> 
> 赞同：0
> 
> 时间：2013-02-28T05:02:56.207
> 
> 标签：text, jpanel

我的文本需要水平居中并在窗口顶部下方 20 像素处。此外，目标徽标 (g.fillOvals) 需要在文本下方水平和垂直居中。我怎么做？我知道 g.drawString x 和 y 坐标编辑文本，但我的变化几乎没有。谢谢！

```
 @Override
    protected void paintComponent(Graphics g) {
        super.paintComponent(g);

        setBackground(Color.WHITE);
        Font textFont = new Font("Helvetica", Font.BOLD, 72);

        setFont(textFont);

        FontMetrics fm = g.getFontMetrics(textFont);
        int ascend = fm.getAscent();
        int w = getWidth();
        int h = getHeight();
        int sw = fm.stringWidth("Welcome to Target");

        g.drawString("Welcome to Target", w/2 - sw/2, h/2 + ascend/2);

        g.setColor(Color.red);
        g.fillOval((w / 2) - 100, (w / 2) - 100, 200, 200);

        g.setColor(Color.WHITE);
        g.fillOval((w / 2) - 65, (w / 2) - 65, 130, 130);

        g.setColor(Color.red);
        g.fillOval((w / 2) - 30, (w / 2) - 30, 60, 60);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T05:21:00.550

尝试这个：

```
g.drawString("Welcome to Target", (w/2 - sw/2), (FONT_HEIGHT + 20)); 
```

编辑：使您的字体高度恒定，以便我们可以更好地管理它并允许更一致的编程。

```
final static String FONT_HEIGHT = 72;
g.fillOvals((w/2 - FONT_HEIGHT), 200, (w/2 FONT_HEIGHT), 200); 
```

# facebook - 实现 Facebook 分享按钮功能的问题

> ID：15127893
> 
> 赞同：1
> 
> 时间：2013-02-28T05:03:38.577
> 
> 标签：facebook, share

在我的 Web 应用程序上实现 Facebook 分享按钮时，“公共按钮”放错了位置。相反，“公共”按钮应该在“分享”按钮旁边。但它显示在弹出窗口的顶部。此外，当我们单击公共旁边的箭头键时，选项会部分显示。

实际上，我正在尝试上传图像以显示确切的问题，但我收到“应该至少有 10 个要上传的声誉”的错误。无法理解为什么？

**但让我更详细地解释这个问题。**我正在使用代码来实现 FBShare Button 功能。因此使用链接**“facebook.com/sharer/sharer.php”**；在我的 JavaScript 中。如果您点击此链接，我们可以选择“公开”、“朋友”、“仅限我”、“自定义”等共享内容。放在弹出窗口的顶部，而不是应该在“分享”按钮旁边。

# php - Chrome 和 IE 无法识别动态 PHP CSS 样式表

> ID：15127897
> 
> 赞同：0
> 
> 时间：2013-02-28T05:04:12.193
> 
> 标签：php, css

在我的 html 页面的头部，我有：

```
<link media="screen" href="tabs.css.php?tabs=374,375,376,377,378,379,381,380" type="text/css" rel="stylesheet"> 
```

CSS 是基于 tabs 参数动态创建的。

这适用于 IE9，但不适用于 Chrome 或 Firefox。但是，当我尝试将生成的 CSS 保存为“tabs.css”并将 Chrome 指向它时，它起作用了。但这对我没有多大帮助，因为我需要动态生成样式。

如何让 Firefox 和 Chrome 识别样式表？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T05:04:12.193

我通过将此行添加到生成样式表的 PHP 文件的顶部（在发送任何输出之前，甚至是空行之前）解决了这个问题：

```
header('Content-type: text/css'); 
```

似乎当文件具有 .css 扩展名时，它被 Firefox 和 Chrome 正确识别为 CSS，但当它具有 .php 扩展名时则不然。[如果您想了解更多信息，这个其他答案](https://stackoverflow.com/a/11815010/612253)有一些可能对您有用的链接。

# list - 从序言中的列表中选择

> ID：15127907
> 
> 赞同：0
> 
> 时间：2013-02-28T05:05:13.220
> 
> 标签：list, prolog

我试图用我在另一个列表中的结构填充一个列表，但是使用结构的一个参数（由用户引入，类型）过滤选择，我似乎无法获得正确的递归，帮助会非常感谢。

```
selectOmnibus([],_,[]).
selectOmnibus([H|T],Type,[O|R]):-
        member(O,[H|T]),
    O = omnibus(Type,_,_,_,_),
    selectOmnibus(T,Type,R). 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T05:28:29.737

你很亲密。你的基本情况很好。由于您是手动进行递归，因此您不需要使用`member/2`. 您还缺少另一个归纳案例，即`O`与结构类型不匹配的地方。

```
selectOmnibus([], _, []).
selectOmnibus([O|T], Type, Result) :-
  O = omnibus(Type,_,_,_,_) 
    -> (selectOmnibus(T,Type,R), Result = [O|R])
    ;   selectOmnibus(T, Type, Result). 
```

试试看。如果不正确，查看示例输入和输出会有所帮助。

**编辑**：您可以像这样分隔子句：

```
selectOmnibus([], _, []).
selectOmnibus([O|T], Type, [O|R]) :-
  O = omnibus(Type,_,_,_,_), 
  selectOmnibus(T,Type,R).
selectOmnibus([O|T], Type, R) :-
  O \= omnibus(Type,_,_,_,_), 
  selectOmnibus(T,Type,R). 
```

请注意，您必须反向重复测试。您可以添加一个剪切以使其更有效，但是您必须重复逆向测试，否则您将不会有“向后正确性”，因为可以通过回溯进入第三个子句并且那里没有任何东西可以确保您不会丢弃合法的综合服务。

# c# - 在图像组件中显示光盘中的图像

> ID：15127909
> 
> 赞同：0
> 
> 时间：2013-02-28T05:05:23.017
> 
> 标签：c#, wpf, xaml

我有一个应用程序可以循环播放从我的游戏中截取的屏幕截图。我当前的解决方案适用于第一张图像，但在我循环图像后它不会刷新。我的 PropertyChanged 事件已配置并且运行良好。只有图像不起作用。

我的显示代码是：

```
<Image DataContext="{StaticResource IMG}" Stretch="UniformToFill">
   <Image.Source>
      <BitmapImage UriSource="{Binding Image}"/>
   </Image.Source>
</Image> 
```

然后我后面的代码检索绝对 Uri 并通过绑定进行设置。

我怎样才能让这个工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T05:43:05.187

我不相信类会触发 ;`UriSource`的`BitmapImage`重新加载/重新渲染`Image`。`Image.Source`有效，但是：

```
void Main()
{
    var firstUri= new Uri("http://www.gravatar.com/avatar/2e8b6a4ea2ee8aedc49e5e4299661543?s=128&d=identicon&r=PG");
    var secondUri= new Uri("http://www.gravatar.com/avatar/23333db13ce939b8a70fb36dbfd8f934?s=32&d=identicon&r=PG");

    var wnd = new Window();
    var pnl = new StackPanel();
    wnd.Content = pnl;

    var img = new Image()
    {
        Source = new BitmapImage(firstUri),
        Stretch = Stretch.UniformToFill,
    };
    wnd.Show();
    pnl.Children.Add(img);

    // Optional; just need something to change the img src
    Observable
        .Timer(TimeSpan.FromSeconds(2))
        // The next line is roughly equivalent to invoking on
        // the Dispatcher (i.e., marshalling back to the UI thread)
        .ObserveOn(new DispatcherScheduler(wnd.Dispatcher))
        .Subscribe(_ =>
        {
            img.Source = new BitmapImage(secondUri);
        });
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T05:44:46.927

更改后面的代码以返回 BitmapImage 而不是 Uri 可以解决此问题。

这意味着 XAML 应更改为：

```
<Image DataContext="{StaticResource IMG}" Stretch="UniformToFill" Source="{Binding Image}" /> 
```

# size - 无法在设备旋转更改时设置 UIPopoverController 的大小

> ID：15127911
> 
> 赞同：0
> 
> 时间：2013-02-28T05:05:29.700
> 
> 标签：size, orientation, uiimagepickercontroller, uipopovercontroller

在我的 iPad 应用程序中，我正在录制视频（`UIImagePickerController`在 a 中`UIPopoverController`）。

问题是当我改变设备的方向时，尺寸会`UIPopoverController`减小到 320x480（纵向）和 480x320（横向）。令人惊讶的是，完全相同的尺寸（600x880）在我创建它时工​​作正常，但在我旋转它时却不行。

这是我的初始化方式：

```
self.popover = [[UIPopoverController alloc] initWithContentViewController:imagePicker];
popover.delegate = self;
if ([[UIApplication sharedApplication] statusBarOrientation] == UIDeviceOrientationPortrait || [[UIApplication sharedApplication] statusBarOrientation] == UIDeviceOrientationPortraitUpsideDown) {
    [self.popover presentPopoverFromRect:CGRectMake(109, 590, 550,500) inView:self.view permittedArrowDirections:0 animated:YES];//recordProtocolBtn.frame
    [self.popover setPopoverContentSize:CGSizeMake(600, 880)];
}
else {
    [self.popover presentPopoverFromRect:CGRectMake(750, 110, 550, 600) inView:self.view permittedArrowDirections:UIPopoverArrowDirectionRight animated:YES];
    [self.popover setPopoverContentSize:CGSizeMake(600, 600)];
} 
```

旋转到纵向：

```
[self.popover dismissPopoverAnimated:NO];
[self.popover presentPopoverFromRect:CGRectMake(109, 590, 550,500) inView:self.view permittedArrowDirections:UIPopoverArrowDirectionDown animated:YES];
[self.popover setPopoverContentSize:CGSizeMake(600, 880)]; 
```

并旋转到景观：

```
[self.popover dismissPopoverAnimated:NO];
[self.popover presentPopoverFromRect:CGRectMake(750, 110, 550, 600) inView:self.view permittedArrowDirections:0 animated:YES];
[self.popover setPopoverContentSize:CGSizeMake(600, 600)]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T04:21:53.350

我所做的并不是严格意义上的解决方案，而是一种解决方法。

我在提交时禁用了方向更改通知，`UIPopoverController`并在我关闭它时启用了它们，[使用此答案的帮助](https://stackoverflow.com/a/10161273/1276636)。

这样应用程序运行顺利，因为我认为用户不会喜欢应用程序在视频录制过程中旋转。

# iphone - 即使在使用字符串初始化之后，NSURL 对象也是 nil

> ID：15127914
> 
> 赞同：1
> 
> 时间：2013-02-28T05:05:59.687
> 
> 标签：iphone, ios, objective-c, cocoa-touch

我有一个如下字符串（*实际上是一个链接*） `http://xxx.xx.xxx.xxx:xxxx/goat/mainMenuNew.png` （x 被替换为 ip 地址）

我想将其转换为 URL。以下是我所做的，

```
NSURL *imageUrl = [NSURL URLWithString:objUserInfo.photoLink]; 
```

也试过`alloc`了`initWithString`。

但是，`imageUrl`在这两种情况下都为零。

请让我知道我哪里出错了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T05:33:58.847

添加这个，你的链接是否包含空格。

```
NSString *urlStr =[objUserInfo.photoLink stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];
NSURL *imageUrl = [NSURL URLWithString:urlStr]; 
```

将此链接粘贴到 Safari：[http](http://www.google.com/search?q=I%20Love%20You) ://www.google.com/search?q=I%20Love%20You Enter，您将了解代码的作用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-28T05:34:01.133

您可以尝试以下方法：

*   检查是否`objUserInfo.photoLink`仍然包含字符串，通过在转换为 URL 之前记录它
*   如果它确实尝试使用以下方法修剪您的字符串：

    ```
    [objUserInfo.photoLink stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]]; 
    ```

*   如果问题仍然存在，请检查 san 的答案以添加百分比转义

# php - 在 CodeIgniter 路由中使用 RegEx

> ID：15127918
> 
> 赞同：0
> 
> 时间：2013-02-28T05:06:19.170
> 
> 标签：php, codeigniter

我正在将旧站点转换为 CodeIgniter，这涉及保留一些旧 URL。我需要能够传递单个字符，#、AZ 或 az。这是我的模式：

```
/^[a-zA-Z#]$/ 
```

通过将它传递给 preg_match()，在我的所有测试中似乎都可以正常工作。我只是将它添加到这样的 CI 路由中：

```
$route['(:any)/(/^[a-zA-Z#]$/)'] = "collection/view/$1/alpha/$2"; 
```

它给了我这个错误：

```
Message: preg_match(): Unknown modifier '/' 
```

我一辈子都不能按摩这种模式来让 CI 接受它。我认为它被奇怪地逃脱了。任何帮助，将不胜感激。

更新：

我进入 /core/Router.php 只是为了看看 CI 对这个模式做了什么。这是 CI 使用的：

```
#^(.+)/(/^[a-zA-Z\#]$/)$# 
```

它将整个传递的字符串转换为一个大模式。

解决了：

在弄清楚 CI 试图创建一个大模式之后，我从头开始重写了该模式并删除了 (:any)。我还用 + 替换了 #。这是我的最终解决方案：

```
 $route['(^(.+)/([a-zA-Z\+]$))'] = "collection/view/$2/alpha/$3"; 
```

如果有人有更优雅的模式，请随时发布。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T05:11:04.307

```
$route['(:any)/(^([a-zA-Z]|\#))'] = "collection/view/$1/alpha/$2"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T05:34:03.027

我认为您不需要在正则表达式中转义 # 。尝试使用

`/^([a-zA-Z#])$/`

代替

`(/^([a-zA-Z]|#)$/)`

# python - 是否记录了内置 python 函数的所有异常？

> ID：15127920
> 
> 赞同：1
> 
> 时间：2013-02-28T05:06:24.470
> 
> 标签：python, exception

[此处](http://docs.python.org/2/library/stdtypes.html?highlight=file#file.write)的 python 文档没有提到在调用`file.write()`.

这是否意味着该函数不会引发任何异常？`file.write()`例如，在没有磁盘空间的情况下会有什么行为？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-28T05:08:48.607

它记录在[对象](http://docs.python.org/2/library/stdtypes.html?highlight=file#file-objects)[部分的顶部`file`](http://docs.python.org/2/library/stdtypes.html?highlight=file#file-objects)：

> 当文件操作因 I/O 相关原因而失败时，会引发异常[IOError](http://docs.python.org/2/library/exceptions.html#exceptions.IOError)。这包括由于某种原因未定义操作的情况，例如`seek()`在 tty 设备上或写入打开以供读取的文件。

它没有提到每个方法的异常的原因是它对于由 IO 相关原因引起的`IOError`每个方法错误都是相同的异常 () 。`file`

可以根据错误号找出IOError的类型，可以提取如下：

```
try:
    f = open("nosuchfile.txt")
except IOError as e:
    print e.errno 
```

这些错误编号来自操作系统，而不是 Python。在上述情况下，它会打印`2`，`No such file or directory`错误 2.`No space left on device`通常是错误 28，尽管它可能取决于操作系统。

# javascript - 如何使用javascript添加整数和浮点数？

> ID：15127921
> 
> 赞同：2
> 
> 时间：2013-02-28T05:06:36.200
> 
> 标签：javascript, jquery, floating-point, integer

我正在使用以下代码使用 JavaScript 添加整数和浮点值。但我不能这样做，它会返回`NaN`。我是开发新手。请帮我解决这个问题。

```
lbl_bal_total.value = Numbers(lbl_bal_total.innerHTML) + Numbers(lbl_bal_others.value);
//lbl_bal_total.value = 1568 + .25; // Error lbl_bal_total value is NaN
lbl_bal_total.innerHTML = Math.round(lbl_bal_total.value); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T05:20:19.200

试试这个：

```
lbl_bal_total.innerHTML = Math.round(parseFloat(lbl_bal_total.innerHTML) + parseFloat(lbl_bal_others.value)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T05:08:57.977

```
var num = parseFloat(lbl_bal_total.innerHTML) + parseFloat(lbl_bal_others.value);
lbl_bal_total.innerHTML = Math.round(num); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T05:10:52.903

试试这个。数据类型`Number`不是`Numbers`

```
 lbl_bal_total.value = Number(lbl_bal_total.innerHTML) + Number(lbl_bal_others.value);
    //lbl_bal_total.value = 1568 + .25; // Error lbl_bal_total value is NaN
    lbl_bal_total.innerHTML = Math.round(lbl_bal_total.value); 
```

如果您不确定 的值，`lbl_bal_total.innerHTML`那么`lbl_bal_others.value`您可以使用[isNaN检查它](http://www.w3schools.com/jsref/jsref_isnan.asp)

# winforms - 标签上的winforms数据绑定图标

> ID：15127922
> 
> 赞同：0
> 
> 时间：2013-02-28T05:06:55.677
> 
> 标签：winforms, data-binding, .net-2.0

我正在向 .net 2.0 旧版应用程序添加一个新的组合框，该应用程序通过 GUI 使用数据绑定（即将数据集放到表单上并连接属性）。我通常在代码中绑定，所以我不习惯这个。

我已经设置了我的新字段并设置了所有内容的所有属性，但是其他组合框在属性的标签字段中有一个很小的数据库图标，而我的没有。没有鼠标悬停、工具提示、文本或任何关于这可能意味着什么的线索。

![在此处输入图像描述](../Images/9711c967a6950b3bb21173b30dd59db7.png)

我认为这意味着该字段绑定到基础数据集，但为什么只在组合框中显示它？那个小图标到底是什么意思？

# php - 使用 PHP 更改上传文件的文件权限

> ID：15127924
> 
> 赞同：-1
> 
> 时间：2013-02-28T05:07:05.667
> 
> 标签：php, linux, file-permissions

为了给你一点背景知识，我创建了一个网站，允许用户上传图像，然后重新调整大小并显示。该网站运行良好，但我最近将其移至新服务器并遇到了一些问题。我几乎肯定问题是文件权限的结果。我已将上传文件夹设置为 777，因此我以前上传的所有文件都可以正常工作，但是当上传新文件时会出现问题。上传文件时，使用 SFTP 访问，图像的权限设置为 666，列出的所有者是 apache。我写了几行来试验 chmod 功能，但没有任何运气。

```
 <?php 
  require_once("/var/www/html/wp-load.php");
  echo shell_exec('whoami');
  $test = wp_getattachment_url(123);
  chmod($test, 0755);
  //chmod("/var/www/html/wp-content/uploads/image.jpg", 0755);
  ?> 
```

输出到屏幕的是apache，所以用户也是文件的所有者，但是修改权限一直没有成功。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T10:35:39.757

如果需要调整未在服务器上启用/安装的 gd 或 imagemagic 等库的大小。

注意：我添加了我的评论作为答案，所以可以回答问题。

# jquery - CSS 仅在我的 Firefox 中无法正确加载

> ID：15127925
> 
> 赞同：-1
> 
> 时间：2013-02-28T05:07:17.967
> 
> 标签：jquery, html, css, facebook, codeigniter

# 没有在我的浏览器中正确加载我的站点 Locopari.com 的 CSS。

> 检查您的浏览器 [http://locopari.com/](http://locopari.com/)

如果我将其减少 1 个像素，它将正确显示，我尝试了所有其他浏览器正常工作，需要任何浏览器设置吗？您可以在浏览器上查看，如果发现任何问题，请报告我。谢谢你。

> 这是CSS的代码

```
.dealItem
{
display:inline-block;
padding: 25px 20px;
width: 224px;
} 
```

> 截图链接是[http://imageshack.us/photo/my-images/109/screenshot1vo.png/](http://imageshack.us/photo/my-images/109/screenshot1vo.png/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T05:09:00.547

错误

```
.dealItem
{
   display:inline-block;
   padding: 25px 20px;
   width: 224px;
} 
```

**或者**

```
#dealItem
{
   display:inline-block;
   padding: 25px 20px;
   width: 224px;
} 
```

您忘记定义它的类或 ID。

相应地改变它。

# linq - 从列表中检索带有图像的数据

> ID：15127927
> 
> 赞同：0
> 
> 时间：2013-02-28T05:07:28.103
> 
> 标签：linq, c#-4.0, xml-parsing, linq-to-xml

我正在使用 linq 代码解析 XML 文件。这是我的代码。我想要绑定详细信息和图像是列表。

```
 var query = from l in xmlDoc.Descendants("Person")
             from detail in l.Descendants("Details")
             select new Notch
             {
                 name = (string)l.Attribute("name").Value,
                 detail= l.Element("detail").Select(a => (string)a.Attribute("detailName")).ToList(),
                 Image = l.Element("detail").Elements("event_image").Select(x => (string)x.Attribute("url")).ToString()
             };

 foreach (var result in query)
 {
     foreach (var detail in result.detail)
     {
          Console.WriteLine(detail);
     }  
 } 
```

我尝试了这段代码，但我得到了如下所示的输出..但我想要详细信息和图像是列表。

```
 Raja

  System.Collection.Generic.List'1[string.system]

  Rama

  System.Collection.Generic.List'1[string.system] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T10:28:46.390

问题是你得到的是一个字符串列表，而不是一个唯一的。试试这个代码，以便将每个字符串与一个新行连接起来并能够正确打印它：

```
detail = string.Join(System.Environment.NewLine, l.Element("detail").Select(a => (string)a.Attribute("detailName"))) 
```

完整代码：

```
var query = from l in xmlDoc.Descendants("Person")
             from detail in l.Descendants("Details")
             select new Notch
             {
                 name = (string)l.Attribute("name").Value,
                 detail= string.Join(System.Environment.NewLine, l.Element("detail").Select(a => (string)a.Attribute("detailName"))),
                 Image = l.Element("detail").Elements("event_image").Select(x => (string)x.Attribute("url")).ToString()
             };

 foreach (var result in query)
 {
     foreach (var detail in result.detail)
     {
          Console.WriteLine(detail);
     }  
 } 
```

# c# - 如何从 XElement 中检索元素

> ID：15127929
> 
> 赞同：2
> 
> 时间：2013-02-28T05:07:35.550
> 
> 标签：c#, linq, linq-to-xml

我正在尝试找出获取两个元素（城市和州）值的最佳方法，以便以后使用它们。我正在遍历站点下的每个站点。每次我浏览它时，我都需要拉出 City 和 State 然后将它们保存为字符串。我让它工作（有点），但我认为我正在以错误的方式解决这个问题。

XML:

```
<Sites>
  <Site>
    <City>Miami</City>
    <State>FL</State>
    <Machines>
      <Machine>
        <MachineName>1950-16-CORE</MachineName>
        <ServerRoleType>CoreServer</ServerRoleType>
        <ClientRoles>Core</ClientRoles>
        <Features>
          <Feature>
            <FeatureName>CoreProcess</FeatureName>
            <FeatureEnabled>true</FeatureEnabled>
          </Feature>
          <Feature>
            <FeatureName>Antivirus</FeatureName>
            <FeatureEnabled>true</FeatureEnabled>
          </Feature>
      </Machine>
      <Machine>
        <MachineName>1950-16-COREX</MachineName>
        <ServerRoleType>CoreExpansionServer</ServerRoleType>
        <ClientRoles>CoreEx</ClientRoles>
        <Features>
          <Feature> 
```

代码：

```
foreach (XElement xEleSite in siteRows)
{
    IEnumerable<XElement> siteLists = from siteList in xEleSite.Descendants("Site")
                                      select siteList;

    IEnumerable<XElement> siteCity = siteLists.Descendants("City");

    foreach (XElement c in siteCity)
    {
        string cityElement = c.Value.ToString();
    }    
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T05:19:24.447

考虑这个简化的例子：

```
<Sites>
  <Site>
    <City>Miami</City>
    <State>FL</State>
    <Machines></Machines>
  </Site>
  <Site>
    <City>NY</City>
    <State>FL</State>
    <Machines></Machines>
  </Site>
</Sites> 
```

假设`xEleSite`包含这个 xml，现在您可以使用[匿名类型](http://msdn.microsoft.com/en-us/library/vstudio/bb397696.aspx)来保存信息：

```
var result = xEleSite.Descendants("Site")
                     .Select(s => new
                     {
                         City = s.Element("City").Value,
                         State = s.Element("State").Value
                     }); 
```

要对其进行迭代，您可以：

```
foreach (var i in result)
{
    Console.WriteLine(i.City);
    Console.WriteLine(i.State);
    Console.WriteLine();
} 
```

从最初的问题来看，我认为您需要存储 xml 中的所有值以供以后使用，而 OP 的代码在包含它们的最内层循环中只有局部变量。这种方法提供了访问列表中所有值的机会。

# asp.net - Directory.exists 不适用于 aspnet.friendlyURL

> ID：15127931
> 
> 赞同：1
> 
> 时间：2013-02-28T05:07:38.857
> 
> 标签：asp.net, vb.net, visual-studio-2010, global

[我为 microsoft.aspnet.friendly.urls LINK](http://weblogs.asp.net/scottgu/archive/2013/02/18/announcing-release-of-asp-net-and-web-tools-2012-2-update.aspx)安装了新的 ASP.NET 和 Web Tools 2012.2 更新。它正在按承诺工作，我所有的新旧网页现在都很友好。我的项目是asp.net 4 webform iis7

我面临一个问题

> 目录.exists

. 我正在使用此代码来获取文件夹是否存在。此代码位于 Application_BeginRequest 部分下的 Global.asax 文件中。

```
If Directory.Exists("~/users") Then
        Response.Write("hello")
    End If 
```

它不工作或不在 if 条件下。它尝试了**("users"), ("/users"), ("/users/")**但没有人工作。这是一个语法错误，但我无法得到

**编辑：**

```
If Directory.Exists(Server.MapPath("~/users/" & parameters(i))) Then
                Dim originalPath As String = HttpContext.Current.Request.Url.Host.ToLower()
                If originalPath.Contains(parameters(i)) Then
                    Context.RewritePath("/users/" & parameters(i) & "/default.aspx")
                End If
            Else
                Response.Redirect(Server.MapPath("~/error.aspx"))
                Return
            End If 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-28T05:14:01.167

您需要将 URL 映射到服务器文件夹路径，试试这个

```
Directory.Exists(Server.MapPath("~/users")) 
```

# jquery - 在jQuery中获取匹配的选项值

> ID：15127933
> 
> 赞同：0
> 
> 时间：2013-02-28T05:07:40.463
> 
> 标签：jquery

我在选项中有任何值数字，例如 az 702(3)，我可以从此代码中获取括号之间的数字：

```
alert($('#at_exam_'+val+' option').filter(":selected").val().match(/\((\d+)\)/)[1]); 
```

如何获得702的期权价值？

```
<select name="at_exam_1" id="at_exam_1">
  <option value="702(3)">test - (حاوی 3 سوال)</option>
</select> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T05:12:07.897

使用这个正则表达式：

```
match(/^\d+/) 
```

代码：

```
alert($('#at_exam_'+val+' option').filter(":selected").val().match(/^\d+/)); 
```

[http://jsfiddle.net/samliew/qPSHF/](http://jsfiddle.net/samliew/qPSHF/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T05:13:52.173

```
$('#at_exam_1').change(function(){
      console.log(parseInt($(this).val()));
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T05:17:41.870

塞缪尔的想法是正确的。

```
.val().match(/^(\d+)/); 
```

或者

```
.val().split('(')[0]; 
```

或者

```
.val().replace(/\(\d+\)/,""); 
```

# android - 在 android 的触摸事件单声道上画线

> ID：15127936
> 
> 赞同：1
> 
> 时间：2013-02-28T05:07:57.820
> 
> 标签：android, xamarin.android, line, draw

我尝试在活动中创建两个圆圈。但我真正想要完成的是在触摸移动上画一条线。用户将能够根据手指的移动使用他/她的手指绘制一条线。这就是我如何为我的画点画的。

```
protected override void OnCreate(Bundle bundle)
    {
        base.OnCreate(bundle);

        currentLevel = Intent.GetIntExtra("gameLevel", 0);
        playerScore = Intent.GetIntExtra("score", 0);
        SetContentView(new SampleView(this));

        // Create your application here
    }

    private class SampleView : View
    {
        private Paint mPaint;

        public SampleView(Context context)
            : base(context)
        {
            Focusable = true;

            mPaint = new Paint();
            mPaint.AntiAlias = true;
        }

        protected override void OnDraw(Canvas canvas)
        {
            canvas.DrawColor(Color.White);

            canvas.Translate(10, 10);

            canvas.SaveLayerAlpha(0, 0, 200, 200, 0x88, SaveFlags.All);

            mPaint.Color = Color.Red;
            canvas.DrawCircle(75, 75, 75, mPaint);
            mPaint.Color = Color.Blue;
            canvas.DrawCircle(125, 125, 75, mPaint);

            canvas.Restore();
        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T01:59:35.907

我有一个项目，它展示了如何用手指在画布上绘图：

[https://github.com/Cheesebaron/MonoDroid.CaptureSignature](https://github.com/Cheesebaron/MonoDroid.CaptureSignature)

您可能对`CaptureSignatureView`包含在画布上绘图的所有逻辑的东西感兴趣。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-28T05:19:41.963

试试下面的代码：

> ```
> public class FingerDrawView extends View
>    {
> private Paint m_paint;
> private static Bitmap m_bitmap;
> private Canvas m_canvas;
> private Path m_path;
> private Paint m_bitmapPaint;
> private DisplayMetrics m_metrics;
> private int m_color = 0xFFFF0000;
> static boolean m_pathDrawn = false;
> private float m_X, m_Y;
> private static final float TOUCH_TOLERANCE = 4;
> 
> public FingerDrawView(Context p_c)
> {
>     super(p_c);
>     m_paint = new Paint();
>     m_paint.setAntiAlias(true);
>     m_paint.setDither(true);
>     m_paint.setColor(m_color);
>     new ColorPickerDialog(p_c, new OnColorChangedListener()
>     {
>         public void colorChanged(int p_color)
>         {
>             m_paint.setColor(p_color);
>             m_color = p_color;
>         }
>     }, 0xFFFF0000).show();
>     m_paint.setStyle(Paint.Style.STROKE);
>     m_paint.setStrokeJoin(Paint.Join.ROUND);
>     m_paint.setStrokeCap(Paint.Cap.ROUND);
>     m_paint.setStrokeWidth(12);
>     m_metrics = p_c.getResources().getDisplayMetrics();
>     m_bitmap =
>             Bitmap.createBitmap(m_metrics.widthPixels, m_metrics.heightPixels,
>                     Bitmap.Config.ARGB_8888);
>     m_canvas = new Canvas(m_bitmap);
>     m_path = new Path();
>     m_bitmapPaint = new Paint(Paint.DITHER_FLAG);
> }
> 
> public void onerase()
> {
>     m_canvas = null;
> }
> 
> @Override
> protected void onSizeChanged(int p_w, int p_h, int p_oldw, int p_oldh)
> {
>     super.onSizeChanged(p_w, p_h, p_oldw, p_oldh);
> }
> 
> @Override
> protected void onDraw(Canvas p_canvas)
> {
>     p_canvas.drawColor(0x00000000);
>     p_canvas.drawBitmap(m_bitmap, 0, 0, m_bitmapPaint);
>     p_canvas.drawPath(m_path, m_paint);
> }
> 
> private void touch_start(float p_x, float p_y)
> {
>     m_path.reset();
>     m_path.moveTo(p_x, p_y);
>     m_X = p_x;
>     m_Y = p_y;
> }
> 
> private void touch_move(float p_x, float p_y)
> {
>     float m_dx = Math.abs(p_x - m_X);
>     float m_dy = Math.abs(p_y - m_Y);
>     if (m_dx >= TOUCH_TOLERANCE || m_dy >= TOUCH_TOLERANCE)
>     {
>         m_path.quadTo(m_X, m_Y, (p_x + m_X) / 2, (p_y + m_Y) / 2);
>         m_X = p_x;
>         m_Y = p_y;
>         m_pathDrawn = true;
>     }
> }
> 
> private void touch_up()
> {
>     m_path.lineTo(m_X, m_Y);
>     // commit the path to our offscreen
>     m_canvas.drawPath(m_path, m_paint);
>     // kill this so we don't double draw
>     m_path.reset();
> }
> @Override
> public boolean onTouchEvent(MotionEvent p_event)
> {
>     float m_x = p_event.getX();
>     float m_y = p_event.getY();
>     switch (p_event.getAction())
>         {
>             case MotionEvent.ACTION_DOWN:
>                 touch_start(m_x, m_y);
>                 invalidate();
>                 break;
>             case MotionEvent.ACTION_MOVE:
>                 touch_move(m_x, m_y);
>                 invalidate();
>                 break;
>             case MotionEvent.ACTION_UP:
>                 touch_up();
>                 invalidate();
>                 break;
>         }
>     return true;
> }
>   } 
> ```

使用上面的类如下：

> ```
>  FingerDrawView   m_cv = new FingerDrawView(MainActivity.this);
>   setContentView(m_cv); 
> ```

我希望它会帮助你。

谢谢

# windows - 启动时 PowerGUI“缺少根元素”

> ID：15127950
> 
> 赞同：1
> 
> 时间：2013-02-28T05:09:14.777
> 
> 标签：windows, powershell, powergui

启动 powergui 编辑器时出现错误，并且每次启动都失败并出现错误：

缺少根元素。

这里有任何建议，而我仍在尝试使用多个 powergui 论坛找出解决方案。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-05T11:13:13.170

我发现这个问题的解决方案基本上执行以下步骤：

**第一个解决方案**：：

1.  运行 -> %appdata%（这会将您带到“C:\Users\\AppData\Roaming”）
2.  查找 PowerGUI 配置文件文件夹（“Quest Software”）。并将其重命名为“Quest Software_old”
3.  现在去添加删除程序并为“Quest PowerGUI”程序选择卸载/修改。
4.  在向导中选择选项修复并运行它。

**第二种解决方案：（**如果您使用过 powerGUI 脚本编辑器，则此方法有效，因为那时它会保存您的配置备份）

1.  运行 -> %appdata%（这会将您带到“C:\Users\\AppData\Roaming”）
2.  进入文件夹“C:\Users\\AppData\Roaming\Quest Software\PowerGUI”
3.  将“Config.xml”重命名为“Config.xml_corrupted”
4.  将“Config.xml.back”重命名为“Config.xml”
5.  重新启动 powergui。

**参考资料：** [http ://www.powergui.org/thread.jspa?threadID=5885](http://www.powergui.org/thread.jspa?threadID=5885)

该解决方案适用于 Windows 8 操作系统，而它也可能适用于其他 Windows 操作系统。

只是认为这可能会点亮某人的一天。祝你有美好的一天。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T05:17:23.107

卸载 PowerGUI，删除 my_profile\appdata\Local\Quest Software\PowerGUI 下的所有文件，然后重新安装。

您的配置文件可能已损坏。

# oracle - Oracle 数据库嵌入式 JVM

> ID：15127951
> 
> 赞同：6
> 
> 时间：2013-02-28T05:09:17.613
> 
> 标签：oracle, jvm, java

我们如何确定 Oracle Database 11g Enterprise Edition Release 11.2.0.2.0 64 位（嵌入式 JVM）支持哪个 JRE 版本

任何建议将不胜感激

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-28T06:44:59.577

我找到了确定在 Oracle 数据库上使用哪个 jvm 版本的答案

这是解决方案：

如果您需要找出安装在 Oracle 服务器上的 java/jdk 版本，您可以创建函数，然后直接从 JDK 检索 java 版本。首先创建函数...

```
CREATE OR REPLACE FUNCTION get_java_property (prop IN VARCHAR2) 
RETURN VARCHAR2 IS LANGUAGE JAVA
name 'java.lang.System.getProperty(java.lang.String) return java.lang.String'; 
```

..然后获取版本

```
SELECT get_java_property('java.version') FROM dual; 
```

如果你不能创建这样的功能，一般规则是默认安装：Oracle 9 使用 JDK 1.3，Oracle 10 使用 JDK 1.4。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-09-21T13:39:18.790

如果您运行此查询，您还可以避免编写函数：

```
SELECT  dbms_java.get_ojvm_property(PROPSTRING=>'java.version') FROM dual 
```

这将输出如下内容：

```
SQL> /

DBMS_JAVA.GET_OJVM_PROPERTY(PROPSTRING=>'JAVA.VERSION')
--------------------------------------------------------------------------------
1.5.0_10 
```

# jquery - 如何通过 jQuery 和 localStorage 保存 textarea 的调整大小状态

> ID：15127952
> 
> 赞同：4
> 
> 时间：2013-02-28T05:09:37.540
> 
> 标签：jquery, resize, textarea, local-storage

大多数现代浏览器在 textarea 元素上都有调整大小的句柄。问题是他们不会自动记住您每次访问时离开他们的地方。

我想为我的应用启用此功能。为此，我计划使用 jQuery（将 textarea resize 绑定到函数）以及 html5 localStorage 对象，以便将 textarea 元素的高度和宽度写入 localStorage 项。

我需要将 localStorage 写入事件绑定到表示 textarea 已调整大小的等效 jQuery 事件。

将函数绑定到的相关 jQuery 方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T05:21:22.097

您只能绑定到窗口的调整大小事件，而不是 textarea 的。你需要做的是创建一个轮询函数来监听大小，如果它发生变化，更新。

像这样的东西：

```
var checkSize = setInterval(function(){ 
    var $text = $('#myTextArea');
    if (localStorage && localStorage.myTextAreaWidth) {
        if ($text.width() != localStorage.myTextAreaWidth) {
            localStorage.myTextAreaWidth  = $text.width();
        }
        if ($text.height() != localStorage.myTextAreaHeight) {
            localStorage.myTextAreaHeight = $text.height();
        }
    } else {
        localStorage.myTextAreaWidth  = $text.width();
        localStorage.myTextAreaHeight = $text.height();
    }
}, 1000);

$(function(){
    var $text = $('#myTextArea');
    if (localStorage && localStorage.myTextAreaWidth) {
        $text.css({
            width  : localStorage.myTextAreaWidth  + 'px',
            height : localStorage.myTextAreaHeight + 'px'
        });
    } 
}); 
```

**这是一个演示**：http: [//jsfiddle.net/TDKpr/](http://jsfiddle.net/TDKpr/)

您可以通过在小提琴中调整大小、关闭选项卡、打开一个新选项卡、重新访问小提琴来查看它正在工作，并且 textarea 保持您上次选择的大小。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T06:38:11.517

如果您喜欢使用 localStorage，这可能对您有所帮助：

## html

```
<textarea class="rz" id="txt_id_1" cols="40" rows="5">resize test</textarea> 
```

## jQuery

```
$(document).ready(function(){
//on load set the default or history size
var track_ta='txt_id_1';

initSize();

function initSize(){
   var ta_size=localStorage.getItem(track_ta);
   //default size
   if(ta_size==null) ta_size={width:'200px', height:'50px'};
   else ta_size=JSON.parse(ta_size);
   $('#'+track_ta).css(ta_size);
}

//keep the latest in the local storage
$("textarea.rz").resizable({
    resize: function() {  
       var sizeHistory=JSON.stringify({width:this.style.width,height:this.style.height});
       localStorage.setItem(track_ta,sizeHistory);
    }
});
}); 
```

工作演示[http://jsfiddle.net/PPZEK/](http://jsfiddle.net/PPZEK/)，只需调整大小并重新加载页面。

您可以概括所有 textarea 的概念。正如我所见，textarea 的默认调整大小处理程序不提供任何调整大小事件，显然我们必须使用 jquery 调整大小。

# php - 结帐 woocommerce wordpress 中的简短说明

> ID：15127954
> 
> 赞同：5
> 
> 时间：2013-02-28T05:09:52.610
> 
> 标签：php, wordpress, woocommerce

您如何在 Woocommerce 的结帐页面中添加每个产品的简短描述？我做了很多研究，这是我想出的最好的。

```
<?php
if (sizeof($woocommerce->cart->get_cart())>0) :
    foreach ($woocommerce->cart->get_cart() as $item_id => $values) :
        $_product = $values['data'];
    if ($_product->exists() && $values['quantity']>0) :
        echo '
    <tr class = "' . esc_attr(apply_filters('woocommerce_checkout_table_item_class', 'checkout_table_item', $values, $item_id ) ) . '">
    <td class="product-name">'.$_product->get_title().$woocommerce->cart->get_item_data( $values ).'</td>
    <td class="short_description">'.$_product->get_post_data().$woocommerce->post->get_post_excerpt( $values ).'</td>

    <td class="product-quantity">'.$values['quantity'].'</td>

    <td class="basispreis">'.$_product->get_price().$woocommerce->post->get_post_excerpt( $values ).'</td>

    <td class="product-total">' . apply_filters( 'woocommerce_checkout_item_subtotal', $woocommerce->cart->get_product_subtotal( $_product, $values['quantity'] ), $values, $item_id ) . '</td>
    </tr>';
    endif;
    endforeach;
    endif;
    do_action( 'woocommerce_cart_contents_review_order' );
?> 
```

我得到错误

可捕获的致命错误：WP_Post 类的对象无法在此行的 /wp-content/plugins/woocommerce/templates/checkout/form-checkout.php 中转换为字符串

```
 <td class="short_description">'.$_product->get_post_data().$woocommerce->post->get_post_excerpt( $values ).'</td> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-28T07:08:26.720

过滤器[**`woocommerce_get_item_data`**](http://plugins.svn.wordpress.org/woocommerce/tags/1.6.6/classes/class-wc-cart.php)可以用于此。

像这样：

```
add_filter( 'woocommerce_get_item_data', 'wc_checkout_description_so_15127954', 10, 2 );

function wc_checkout_description_so_15127954( $other_data, $cart_item )
{
    $post_data = get_post( $cart_item['product_id'] );
    $other_data[] = array( 'name' =>  $post_data->post_excerpt );
    return $other_data;
} 
```

请注意，可能需要进行某种检查，例如，确保仅在实际查看 Checkout 页面时调用此过滤器，因为我不知道在其他情况下是否会调用它。

# javascript - $.ajax 在有效 JSON 上抛出解析错误

> ID：15127958
> 
> 赞同：0
> 
> 时间：2013-02-28T05:10:15.533
> 
> 标签：javascript, json, jquery

我遇到了一个小问题。我正在尝试使用`$.ajax`我在网上仔细检查过的 jQuery 调用访问 JSON 文件，并且我的 JSON 代码是有效的。当我进行调用时，它会在 JSON 中引发带有语法错误的解析错误。

您可以通过访问[http://michael-nolan.com/找到错误](http://michael-nolan.com/)

这是我的javascript：

```
$(document).ready(function()
{
    $.ajax(
        { type: "GET",
          url: 'projects/projects.json', 
          dataType: "json", 
        success: function(results)
        { 
            console.log("Success!"); 
        }, 
        error: function(XMLHttpRequest, textStatus, errorThrown)
        { 
            console.log(textStatus); console.log(errorThrown); 
        } 
    });
}); 
```

这是我的 JSON

```
{
    "projects":
    [
        {
            "title":"Adobe Suite",
            "description":"Some stuff",
            "imgsrc":"img/adobe_suite_description.png"
        },
        {
            "title":"Gridlock",
            "description":"Stuff",
            "imgsrc":"img/gridlock_description.png"
        },
        {
            "title":"Open Cart",
            "description":"more stuff",
            "imgsrc":"img/opencart_description.png"
        }
    ]
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T05:31:42.430

在 Chrome 中运行良好，IE 对 JSON（所有事物）特别严格。

在你的第二和第三个描述中寻找换行符。我怀疑这就是 IE 失败的原因。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T05:32:32.653

该错误与第二个数组条目中两个段落之间的空格（可能是换行符）有关

```
...in the game.</p>
    <p>Gridlock...
^
|
the problem 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T05:30:47.180

当我测试它时，您的代码运行良好。根据语法错误是什么，我可能会检查 json 是如何生成的，以及导航到 projects/projects.json 是否正确生成了 json。如果生成了 json，尝试用静态 json 替换它，看看是否有效。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T05:38:14.067

JSON 中有制表符和换行符，这会导致解析器失败。将每个选项卡实例替换为`\t`并将换行符替换`\n`为例如：

**示例 JSON 文件：**

```
{
    textWithTabs : "This is text with \t a tab and \n newline"
} 
```

**JavaScript：**

```
var o = JSON.parse(json);

console.log(o.textWithTabs); //This is text with     a tab and ↵ newline 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-28T05:28:08.287

我已经测试了你的代码及其对我的工作，我也在你的网站上尝试过它并给出了`304 not modified`.

所以尝试使用`getJson()`jQuery方法。

```
$.getJSON('projects/projects.json', function(data) {

}); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-28T05:48:38.770

我建议你试试这个：

```
{
"projects": [
    {
        "title": "Adobe Suite",
        "description": "<p>With years of experience using the Adobe Suite products I have skills that range from creating vector artwork in Adobe Illustrator, arranging web layouts in Adobe Photoshop, and creating print layouts in Adobe InDesign</p>",
        "imgsrc": "img/adobe_suite_description.png"
    },
    {
        "title": "Gridlock",
        "description": "<p>In my Sophomore year in college I worked with Jayson Fitch as an artist on a isometric 2d shooter called Gridlock. We as a team created all of the art assets that are being used in the game.</p><p> Gridlock is still in development and we hope to release it on the OUYA.Check out it's development blog here. <a href='http://gridlock-game.tumblr.com'>www.Gridlock-Game.Tumblr.com</a></p>",
        "imgsrc": "img/gridlock_description.png"
    },
    {
        "title": "Open Cart",
        "description": "<p>As a freelance project I initiated an overhaul of the Legendary Realms Terrain e-commerce storefront. This entailed a complete visual re-branding as well as creating a backend solution to expand online payment options.</p><p> Feel free to check them out at < a href = 'lrterrain.com' > Legendary Realms Terrain < /a></p > ",
        "imgsrc": "img/opencart_description.png"
    }
  ]
} 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2013-02-28T05:25:56.377

记录的错误听起来像是您的 json 的问题。尝试在你的 json 中切换`[ ]` for a 。`{}`

# php - 使用 PDO PHP 填充表

> ID：15127963
> 
> 赞同：0
> 
> 时间：2013-02-28T05:10:52.040
> 
> 标签：php, pdo

我正在尝试用 PDO 中没有运气的数据库中的数据填充表。我是 PHP 新手，所以我四处搜索，但尚未找到解决方案。该表根本没有填充，没有数据。这是我的代码。

```
$stmt = $dbh->prepare("SELECT * FROM actividades");
$stmt->execute();

echo "<table id=\"premiacionguaynabo\"> <tr> <th> No. </th> <th> Fecha </th> <th> Torneo </th> <th> Lugar </th> <th> Organizador </th> <th> Opciones </th> </tr>"; //The table and the headers are created  

$tno = 0;

$result = $stmt->fetchall(PDO::FETCH_ASSOC);
foreach($result as $line) {
    $tno = $tno + 1;
    $id = $line["idactividades"];
    print "<tr class=\"alt2\">"; 

    print "<td id=\"idtorneo\">  $tno  </td>";
    print "<td class=\"fechatorneo\"> " . $line['fecha_inicial'] . " al " . $line['fecha_final'] .  "</td>";
    print "<td> <a id=\"plinks\"  href=\"$picture\" rel=\"lightbox\" target=\"_top\" title=\"Flyer del Torneo\"> " . $line['ntorneo'] . " </a></td>";
    print "<td>" . $line['ltorneo'] . "</td>"; 
    print "<td>" . $line['otorneo'] . "</td>"; 

    print "<td id=\"idtorneo\"> <a id=\"udlinks\"  href=\"uactividades.php?idactividades=$id\">  Edit  </a>   <a id=\"udlinks\" onclick=\"return confirmDelete()\"  href=\"dactividades.php?idactividades=$id\">  Delete  </a></td>";
    print "</tr>"; 
}

print "</table>"; 
```

这是我连接到我的数据库的方式

```
 $dbhost = 'myhost';
$dbname = 'dbname';
$dbuser = 'myuser';
$dbpass = 'mypass'; 

try {
    $dbh = new PDO("mysql:host=$dbhost;dbname=$dbname;", $dbuser, $dbpass);

     }
catch(PDOException $e)
    {
    echo $e->getMessage();

    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T05:21:26.590

尝试改变

```
foreach($result as $sline) { 
```

到

```
foreach($result as $line) { 
```

在那种情况下，这不是问题，而是改变

```
$result = $stmt->fetchall(); 
```

到

```
$result = $stmt->fetchall(PDO::FETCH_ASSOC); 
```

因为您使用列名来获取值。

# javascript - 对齐彼此相邻的绝对定位元素

> ID：15127976
> 
> 赞同：0
> 
> 时间：2013-02-28T05:12:28.733
> 
> 标签：javascript, css, css-float, css-position

全部，

我想将绝对定位的元素彼此相邻对齐。我确定我已经在我自己的代码中看到了这种效果，但是我正在努力在我当前的项目中重现这种效果。

这是布局草图：

![在此处输入图像描述](../Images/881db1f64982bc4f5985c10d90d07460.png)

绝对定位的元素（大约 100 个 div）从左到右对齐，当它们用完空间时，它们会落入下一行。所有这些听起来像是浮动的工作，但是，由于对定位的小调整，我必须使用绝对位置。

我的问题是如何自动对齐父 div 内的绝对定位 div。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T05:15:11.357

> 当他们用完空间时，他们会掉到下一行

这*不适*用于绝对定位的元素，因为它们是绝对定位的。

这听起来像是 jQuery [masonry](http://masonry.desandro.com/)插件的工作。

**更新：**

> 是的，当然，绝对位置是必需的，因为 div 实际上从（例如）顶部开始：-50px；左：-50 像素。也就是说，布局开始在可视区域之外渲染，这是故意的效果，以便给人一种“更大的画面”的错觉 - [Kayote](https://stackoverflow.com/questions/15127976/aligning-absolute-positioned-elements-next-to-each-other#comment21292516_15127976)

如果是这种情况，请在子 div 中使用浮动，并将父容器 div 设为顶部：-50px。

**更新：**

> 但 div 从四面八方延伸，即从左、右、上、下。花车不会让我这样做。使用绝对位置和 js，我可以控制一行应该延伸多远 - [Kayote](https://stackoverflow.com/questions/15127976/aligning-absolute-positioned-elements-next-to-each-other#comment21292578_15127976)

那么你的 CSS 没有正确完成。有一些方法可以达到这种效果。请在 jsfiddle.com 上复制您的代码，或链接到它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T05:23:03.813

HTML：

```
<div class="parentContainer">
    <div class="child"></div>
    <div class="child"></div>
    <div class="child"></div>
    <div class="child"></div>
    <div class="child"></div>
    <div class="child"></div>
    <div class="child"></div>
    <div class="child"></div>
    <div class="child"></div>
    <div class="child"></div>
</div> 
```

CSS：

```
.parentContainer {
    width: 200px;
}

.child {
    float: left;
width: 40px;
height: 40px;
margin: 5px;
position: relative;
} 
```

希望这有效。

继承人和示例[http://bittu.github.com/hidden-tiles/](http://bittu.github.com/hidden-tiles/)

如果你想让`child`元素超出可视屏幕，那么不要指定宽度`parentContainer`

```
.parentContainer {
    width: auto;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T05:34:22.340

html

```
<div class="wrap">
  <div class="inner"></div>
  <div class="inner"></div>
  <div class="inner"></div>
  <div class="inner noPaddingRight "></div>

  <div class="inner"></div>
  <div class="inner"></div>
  <div class="inner"></div>
  <div class="inner noPaddingRight "></div>

</div> 
```

css

```
 .wrap {
float:left;
position:absolute;
    width:100%;
}

.inner {
float:left;
margin:0 0 5px 1%;
    width:23%;
    border:1px solid red;
    height:100px;
}

.noMarginRight {margin-right:0 !important} 
```

# ip - 访问到另一个 IP 的公共 IP 路由？

> ID：15127980
> 
> 赞同：0
> 
> 时间：2013-02-28T05:13:21.543
> 
> 标签：ip, hosting, webclient

我的网络客户端（webApp）在其网络中具有负载均衡器（两个具有两个不同公共 IP 的 Web WebApp 服务器）。所以我的问题是，当我访问主 WebApp 时，它会路由到它的备用 WebApp，即第二个 IP。例如。

当我使用此 url 在 Internet Explorer 中访问 Web 客户端时

> `http://000.000.00.18/AppNet/Login.aspx`

（来自 VM 的公共 IP）它路由到这个 url

> `http://000.000.00.19/AppNet/Login.aspx`

..我不知道这是怎么发生的。有人可以帮我解决这个问题吗？谢谢你。

注意：以上 IP 仅为示例。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T07:59:39.367

这已解决。问题是，映射 IP 时出错。问题出在网络管理员身上。呸呸呸。

# arrays - MAX_INT 的 perl 等价物是什么？

> ID：15127989
> 
> 赞同：18
> 
> 时间：2013-02-28T05:14:03.437
> 
> 标签：arrays, perl, constants, built-in

我是 perl 的新手，正在寻找`@array`. 是否有一些常数代表一个非常大的整数？

我知道我可以对数组进行排序并开始，但这似乎浪费了很多 CPU 周期。什么是我在 Perl 中的问题的优雅解决方案？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-02-28T10:58:09.740

要回答您实际提出的问题（即使它对您并没有真正用处）：

1.  可以存储为有符号整数的最大整数值。

    ```
    say ~0 >> 1; 
    ```

2.  可以存储为无符号整数的最大整数值。

    ```
    say ~0; 
    ```

3.  从 0 到该数字的所有整数值都可以作为浮点数无损失地存储。

    ```
    use Config qw( %Config );
    say eval($Config{nv_overflows_integers_at}); 
    ```

    请注意，一些较大的整数可以存储在浮点数中而不会丢失，但不能存储比这大 1 的整数。

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2013-02-28T05:30:16.387

在一般情况下，您可以使用`undef`来表示不存在的值；perl 标量不仅限于保存整数。那会写成：

```
my $min; # undef by default
for my $value (@array) {
  $min = $value if !defined $min or $value < $min;
} 
```

但是这里有一些更简单的选择。例如，初始化`$min`为数组中的第一个值，然后与其余的值进行比较：

```
my $min = $array[0];
for my $i (1 .. $#array) {
  $min = $array[$i] if $array[$i] < $min;
} 
```

或者只使用内置函数：

```
use List::Util 'min';
my $min = min @array; 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-28T05:34:29.687

`9**9**9`作品。`0+'inf'`在 perl 的许多版本/平台上也是如此。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-28T05:47:11.530

Perl 不是 C；如果您尝试计算一个太大的整数，则会得到一个浮点结果（除非 you `use bigint`，这会使整数无界）。除此之外，你得到`inf`.

您可以使用 来查看这一点`Devel::Peek`，它向您展示了 Perl 的值的内部表示：

```
$ perl -E 'use Devel::Peek; Dump(1000); Dump(1000**100); Dump(1000**100 + 1)'
SV = IV(0xcdf290) at 0xcdf2a0
  REFCNT = 1
  FLAGS = (PADTMP,IOK,READONLY,pIOK)
  IV = 1000
SV = NV(0xd04f20) at 0xcdf258
  REFCNT = 1
  FLAGS = (PADTMP,NOK,READONLY,pNOK)
  NV = 1e+300
SV = NV(0xd04f18) at 0xcdf228
  REFCNT = 1
  FLAGS = (PADTMP,NOK,READONLY,pNOK)
  NV = 1e+300 
```

`IV`表示整数值；`NV`表示浮点（数字？）值。

您绝对应该使用适合您目的的工具，而不是模糊的 hack；`List::Util::min`正如另一个答案中提到的那样非常好。只是想你可能想确认你原来的问题:)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-11-25T14:38:30.207

这里：[http ://www.perlmonks.org/?node_id=718414](http://www.perlmonks.org/?node_id=718414)

我得到了一个可以在 linux 64 上验证的答案

18,446,744,073,709,551,615 = (2 ^64)-1

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2013-02-28T05:25:45.940

perl 可以存储的最大整数值是 9,007,199,254,740,992

我不知道是否有专门针对此的常数。

# ruby-on-rails - 设计错误消息（自定义）

> ID：15127990
> 
> 赞同：0
> 
> 时间：2013-02-28T05:14:06.677
> 
> 标签：ruby-on-rails, ruby-on-rails-3, devise

所以我已经让 Devise 正常工作了，尽管我已经用宝石的标准外观收集了一些讨厌的东西。

我已经整理了其中的大部分，但我可以清楚地识别的最后一个是出现错误消息时的红色边框。我上传了一个截图来说明：http: [//i.imgur.com/jYNmCW8.png](http://i.imgur.com/jYNmCW8.png)。

怎样才能摆脱它？或将其更改为白色，蓝色或其他什么？

到目前为止，CSS 代码如下所示：

```
.field_with_errors {
  display: block;
  clear: both;
margin: auto auto;
} 
```

我已经尝试过 background: white; 和背景颜色：白色；无济于事。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T06:38:09.110

要删除错误消息，请将以下配置添加到您的`config/application.rb`

```
config.action_view.field_error_proc = Proc.new { |html_tag, instance| html_tag.html_safe } 
```

要进一步自定义它，请查看此 SO 线程[Rails 3：“field-with-errors”包装器更改页面外观。如何避免这种情况？](https://stackoverflow.com/questions/5267998/rails-3-field-with-errors-wrapper-changes-the-page-appearance-how-to-avoid-t)

# financial - 比特币：交易验证的速度有多快？

> ID：15127991
> 
> 赞同：3
> 
> 时间：2013-02-28T05:14:07.393
> 
> 标签：financial, bitcoin

我很好奇比特币转账是否可以实时进行。我正在考虑的例子很像在星巴克使用智能手机上的二维码支付咖啡费用。2D/3D 条码阅读器能够扫描二维码，从您的账户中扣除金额。在比特币术语中，你的钱包地址会将付款发送到星巴克钱包地址。

比特币交易可以实时确认吗？如果没有，需要多长时间？为什么收取交易费用会改变时间？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-18T19:56:23.320

比特币交易是即时的——确认不是。第一次确认通常需要不到一个小时。

有人可以尝试双花攻击，星巴克有 50% 的机会获得资金，而他有 50% 的机会将资金退回到他用于双花的另一个地址。

这就是说，星巴克在接受付款之前应该等待一个确认。

几天前在freenode的#bitcoin或#bitcoin-dev上，我看到有人解释说：他们可以连接到几个大矿池，然后等待大约10秒再继续，然后他们应该能够检测到双花，如果有的话任何。这大大降低了双花风险。

收取交易费用将增加矿工将您的交易包含在他开采的区块中的机会。

一些矿工不包括不收费的交易，如果你想确保你的交易被包括在内，你应该将费用设置为比强制费用高一点。

# php - PHP 解析错误：语法错误，意外的 T_GLOBAL，期待 T_STRING

> ID：15127993
> 
> 赞同：-1
> 
> 时间：2013-02-28T05:14:25.787
> 
> 标签：php, wordpress, blogger

我正在尝试使用带有以下代码的插件将博客从博客移至 wordpress。这是错误消息：

> 解析错误：语法错误，意外的 T_GLOBAL，在第 8 行的 /home/content/[HIDE]/wpbeginner-blogger.php 中需要 T_STRING

代码是：

```
 {\rtf1\ansi\ansicpg1252\cocoartf949\cocoasubrtf540
{\fonttbl\f0\fswiss\fcharset0 Helvetica;}
{\colortbl;\red255\green255\blue255;}
\margl1440\margr1440\vieww8980\viewh7500\viewkind0
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\ql\qnatural\pardirnatural

\f0\fs24 \cf0 <?php\
 global $wpdb;\
 $old_url = $_GET['q'];\
 if ($old_url != "") \{\
   $permalink = explode("blogspot.ca", $old_url);\
   $q = "SELECT guid FROM $wpdb->posts LEFT JOIN $wpdb->postmeta ".\
        "ON ($wpdb->posts.ID = $wpdb->postmeta.post_id) WHERE ".\
        "$wpdb->postmeta.meta_key='blogger_permalink' AND ".\
        "$wpdb->postmeta.meta_value='$permalink[1]'";\
  $new_url = $wpdb->get_var($q)? $wpdb->get_var($q) : "/";\
  header ("HTTP/1.1 301 Moved Permanently");\
  header("Location: $new_url");\
 \}\
?>\
\
} 
```

任何人都知道如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T05:17:15.497

`global $varname`仅在函数内部有效。

除此之外，所有的反斜杠是什么？它们可能是错误的原因。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T05:24:42.343

您必须使用具有富文本格式的文本编辑器。试试这个：

```
<?php
 global $wpdb;
 $old_url = $_GET['q'];
 if ($old_url != "") {
   $permalink = explode("blogspot.ca", $old_url);
   $q = "SELECT guid FROM $wpdb->posts LEFT JOIN $wpdb->postmeta ".
        "ON ($wpdb->posts.ID = $wpdb->postmeta.post_id) WHERE ".
        "$wpdb->postmeta.meta_key='blogger_permalink' AND ".
        "$wpdb->postmeta.meta_value='$permalink[1]'";
  $new_url = $wpdb->get_var($q)? $wpdb->get_var($q) : "/";
  header ("HTTP/1.1 301 Moved Permanently");
  header("Location: $new_url");
 }
?> 
```

确保使用纯文本编辑器保存它。我推荐[记事本++](http://notepad-plus-plus.org/)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T05:17:38.747

使用`fraise`软件`MAC`并删除

```
`{\rtf1\ansi\ansicpg1252\cocoartf949\cocoasubrtf540
 {\fonttbl\f0\fswiss\fcharset0 Helvetica;}
 {\colortbl;\red255\green255\blue255;}
 \margl1440\margr1440\vieww8980\viewh7500\viewkind0\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\ql\qnatural\pardirnatural

\f0\fs24 \cf0 ` 
```

文本。也都是斜线。它清楚地表明您使用`text editor`的是mac。当您创建文本文件以外的任何文件时，它会将所有这些文本默认添加到所有文件中。

# macos - 在 mac os x 山狮上安装 boost_1_53_0

> ID：15127994
> 
> 赞同：0
> 
> 时间：2013-02-28T05:14:27.680
> 
> 标签：macos, boost

我想在我新安装的 mac os x 山狮上安装 boost。

我已经下载了 boost_1_53_0 并遵循了我能找到的每一个指南的每一步，但我一直以同样的错误结束：`"Failed to build Boost.Build build engine"`.

它甚至不会构建，甚至找不到要安装的 ./b2 ..

有没有人可以在这里帮助我并告诉我如何在不使用macports的情况下安装boost？

引导程序日志：

```
###
### Using 'darwin' toolset.
###
rm -rf bootstrap
mkdir bootstrap
cc -o bootstrap/jam0 command.c compile.c constants.c debug.c function.c glob.c hash.c hdrmacro.c headers.c jam.c jambase.c jamgram.c lists.c make.c make1.c object.c option.c output.c parse.c pathunix.c regexp.c rules.c scan.c search.c subst.c timestamp.c variable.c modules.c strings.c filesys.c builtins.c pwd.c class.c native.c md5.c w32_getreg.c modules/set.c modules/path.c modules/regex.c modules/property-set.c modules/sequence.c modules/order.c execunix.c fileunix.c
./build.sh: line 15: cc: command not found 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-09-22T09:37:47.160

使用 Homebrew（或查看[Homebrew 的构建方式](https://github.com/mxcl/homebrew/blob/master/Library/Formula/boost.rb)）

然后`brew install boost`