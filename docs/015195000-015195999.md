# StackOverflow 问答 15195000-15195999

# android - 如何对 ViewPager 中的所有页面使用单个 Fragment？

> ID：15195000
> 
> 赞同：5
> 
> 时间：2013-03-04T05:16:10.427
> 
> 标签：android, android-fragments, android-viewpager, android-pageradapter

在我的应用程序中，我必须在`ViewPager`. 我使用了一个片段（例如`StudentPageFragment`），并编写了小部件初始化代码，`onCreateView()`如下所示：

```
public static Fragment newInstance(Context context) {
    StudentPageFragment f = new StudentPageFragment();
    return f;
}

public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {
    ViewGroup root = (ViewGroup) inflater.inflate(R.layout.stud_list_page,
            null);
    // initialize all widgets here
    displayStudentDetails();
    return root;
}

protected void displayStudentDetails() {
    ArrayList<Student>studList = User.getStudentsList();
    if (studList != null) {
        int loc = (pageIndex * 3);
        for (int i = 0; i < 3; i++) {
            if (loc < studList.size()) {
                // populate data in view
            }
            loc++;
        }
    }
} 
```

我维护了一个`ArrayList<Student>`包含所有学生对象的通用对象。

在`displayStudentDetails()`方法中，我在那里填充了前 3 个 Student 对象。如果我们滑动下一页，相同的片段应该称为显示的下一个 3 个学生对象。

在`ViewPagerAdapter`课堂上：

```
@Override
public Fragment getItem(int position) {
    Fragment f = new Fragment();
    f = StudentPageFragment.newInstance(_context);
    StudentPageFragment.setPageIndex(position);
    return f;
}

@Override
public int getCount() {
    return User.getPageCount();// this will give student list size divided by 3
} 
```

现在我的问题是所有页面都包含前 3 个学生的详细信息。请给我最好的方法来做到这一点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T05:46:17.880

> 现在我的问题是所有页面都包含前 3 个学生的详细信息。

如果发生这种情况，您的方法很可能只获取您一直看到的`displayStudentDetails()`前三个学生详细信息，并且没有考虑. 由于您没有发布该方法，因此我无法推荐解决方案。`Fragment``ViewPager`

> 我维护了一个包含所有学生对象的通用 ArrayList 对象。

您在哪里执行此操作以及如何存储该列表？

> f = StudentPageFragment.newInstance(_context);

请不要将 传递`Context`给您的片段，因为`Fragment`该类通过您应该使用的方法对`Context`/进行了引用。`Activity``getActivity()`

您应该像这样构建片段：

```
@Override
public Fragment getItem(int position) {
    return StudentPageFragment.newInstance(position);
} 
```

该`newInstance()`方法将在哪里：

```
public static Fragment newInstance(int position) {
      StudentPageFragment f = new StudentPageFragment();
      Bundle args = new Bundle();
      args.putInt("position", position);
      f.setArguments(args); 
      return f;
} 
```

然后，您将检索`position`并在 中使用它`Fragment`：

```
public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {
    ViewGroup root = (ViewGroup) inflater.inflate(R.layout.stud_list_page,
            container, false);
    // initialize all widgets here        
    displayStudentDetails(getArguments().getInt("position"));
    return root;
} 
```

在`displayStudentPosition`你可以得到这样的值：

```
protected void displayStudentDetails(int position) {
        ArrayList<Student>studList = User.getStudentsList();
        if (studList != null) {
        for (int i = position; i < 3 && i < studList.size; i++) {
             // populate data
        } 
        } 
} 
```

# qtp - 如何使用 QTP 找出链接是否被禁用

> ID：15195001
> 
> 赞同：0
> 
> 时间：2013-03-04T05:16:16.123
> 
> 标签：qtp

有没有办法找出 QTP 中的链接是否被禁用？对于文本框和按钮，这很容易，我们可以使用 GetROProperty，然后将属性设置为禁用或可编辑等。但是在链接的情况下，没有这样的属性可以显示它被禁用。我们怎样才能知道它是否被禁用。

我在这里先向您的帮助表示感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T07:35:04.653

AFAIK 禁用的链接不是 HTML 的一部分，您可以禁用编辑字段（不同类型的`<input>`，`<textarea>`等等`<fieldset>`）但不是链接。

如果您正在测试的应用程序禁用了链接，那么它们可能是以 QTP 不熟悉的非标准方式（可能使用`onclick`处理程序）完成的，您必须自己检查您的应用程序。一个方便的方法是对测试对象使用[`RegisterUserFunc`](http://www.advancedqtp.com/add-new-methods-to-objects/)新`IsDisabled`方法`Link`，然后使用`GetROProperty`或`.Object`了解链接是否被禁用。

# jquery - 溢出滚动不适用于jquery UI

> ID：15195004
> 
> 赞同：0
> 
> 时间：2013-03-04T05:16:36.430
> 
> 标签：jquery, jquery-ui, cordova, touch

我正在使用Phonegap框架编写iOS应用程序。我在我的应用程序上完成了拖动功能主页。使用jquery ui和触摸打孔js。参考链接是[https://github.com/furf/jquery-ui-touch-punch#自述文件](https://github.com/furf/jquery-ui-touch-punch#readme)。现在我有一个问题。溢出滚动不适用于 iPhone 和 ipad。如果我删除拖动功能，它工作正常。我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T05:23:58.143

以下堆栈溢出问题解决了相同的问题。请参考以下链接。

[Ipad KeyPad 不显示放置在 jquery 可拖动 div 内的文本框](https://stackoverflow.com/questions/13929680/ipad-keypad-not-displaying-for-the-textbox-that-is-placed-inside-jquery-draggabl)

# c++ - c++ double & 用法

> ID：15195009
> 
> 赞同：1
> 
> 时间：2013-03-04T05:17:17.383
> 
> 标签：c++, reference

有时我会看到这样的函数声明：

```
void foo(vector<some type>&& inputs); 
```

使用 && 而不是 & 的主要原因是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T05:21:16.447

这是 C++11 中的一个新事物，称为右值引用。

你可以在这里阅读他们的精彩介绍：http: [//thbecker.net/articles/rvalue_references/section_01.html](http://thbecker.net/articles/rvalue_references/section_01.html)

本质上，它说它将是对可以被销毁而不会引起问题的对象的引用，并用于优化某些操作，例如复制构造函数（如果另一个对象可以被销毁，则可以将其更改为交换）。

# android - Android：用可点击的 HTML 链接替换文本 URL

> ID：15195016
> 
> 赞同：1
> 
> 时间：2013-03-04T05:18:00.790
> 
> 标签：android, regex, url

我需要完全执行此操作，但在 Android 上：

[Java：用可点击的 HTML 链接替换文本 URL](https://stackoverflow.com/questions/1909534/java-replacing-text-url-with-clickable-html-link)

我已经尝试过此解决方案中提供的示例（适用于 Java），但没有奏效。

这就像正则表达式不起作用。

有什么解决办法吗？

谢谢！

* * *

这是我的代码：

```
 final EditText postTextView = (EditText) findViewById(R.id.postText);
            Intent output = new Intent();
            String text = postTextView.getText().toString();

            text = text.replaceAll("(.*://[^<>[:space:]]+[[:alnum:]/])", "<a href=\"$1\">HereWasAnURL</a>"); 
```

System.out.println("* * * Converted = " + text.replaceAll("(.*://[^<>[:space:]]+[[:alnum:]/])", "HereWasAnURL" ));

```
 output.putExtra(ZNMainActivity.RESULT_CODE_POST, text );
            setResult(RESULT_OK, output);
            finish(); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T07:34:50.397

在你的 EditText 中做这样的事情

```
EditText editText = (EditText) findViewById(R.id.edittext);
editText.setText(someContent);
Linkify.addLinks(editText, Linkify.ALL);
Log.d(TAG, "HTML: " + Html.toHtml(editText.getEditableText())); 
```

请参阅[http://developer.android.com/reference/android/text/util/Linkify.html中的详细信息](http://developer.android.com/reference/android/text/util/Linkify.html)

# mysql - mysql查询帮助选择具有最高id的人的详细信息

> ID：15195018
> 
> 赞同：1
> 
> 时间：2013-03-04T05:18:04.030
> 
> 标签：mysql, database

如何在不使用嵌套查询或子查询的情况下实现这一点。

```
 select * from table_name where id=(select avg(id) from table_name); 
```

需要一些建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T05:19:44.090

```
select * from table_name order by id desc limit 1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T05:20:46.040

怎么样

```
SELECT
        *
FROM 
        table_name
ORDER BY 
        id DESC
LIMIT 1 
```

# java - 在 Java 中强制使用 AES 256

> ID：15195019
> 
> 赞同：2
> 
> 时间：2013-03-04T05:18:06.680
> 
> 标签：java, cryptography, jce

我想编写一个要求使用 AES-256 的 Java 方法。为此，我想对传入的 SecretKey 实例进行检查。在 RSA 的情况下，这就是我正在做的事情：-

```
public boolean checkKey(RSAKey key) {
    if ( key.getModulus().bitLength() == 1024 )
        return true;
    return false;
} 
```

在AES的情况下会做以下吗？

```
public boolean checkKey(SecretKey key) {
    if ( key.getAlgorithm() == "AES" && key.getEncoded().length == 256 )
        return true;
    return false;
} 
```

但我觉得这将是错误的方法，因为我会找到编码密钥的长度而不是密钥。我怎样才能找到我的 AES 密钥的长度？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T07:59:48.957

对于 AES 密钥，编码形式只是原始字节，因此您的检查原则上是可以的。

请记住，结果将是*字节*长度，而不是位长度，因此请检查`== 32`.

# javascript - HTML5 history.pushState

> ID：15195020
> 
> 赞同：0
> 
> 时间：2013-03-04T05:18:08.897
> 
> 标签：javascript, html, html5-history

我正在使用 history.pushstate 方法将历史记录添加到浏览器中，并在浏览器中添加如下历史记录。

```
 history.pushState("", "",myurl); 
```

正确添加到浏览器中的历史记录。（当浏览器历史记录单击正确的页面加载时。）

但是当我单击浏览器中的后退按钮时，它不会返回..

（即我正在使用 hashchange 功能在页面中显示不同的内容）。

实际上它需要再次单击才能返回。（即两次单击返回按钮返回到历史记录中添加的上一页）。

我怎样才能让它在只需单击后退按钮时返回。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T07:39:21.310

我找到了一个可行的解决方案，如下所示。

使用 replacestate 而不是 pushstate 解决了这个问题。

Pushstate 添加历史记录，但它不指向堆栈的顶部。因此，首先单击加载历史记录中的同一页面，然后单击加载上一个页面。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T05:58:32.380

不要`hashchange`用于历史；这仅适用于片段更改。使用`popstate`.

```
window.addEventListener('popstate', function () {

}); 
```

[http://jsfiddle.net/ExplosionPIlls/NkEdg/](http://jsfiddle.net/ExplosionPIlls/NkEdg/)

# fonts - 在 unity3d 中使用 NGUI 创建字体

> ID：15195024
> 
> 赞同：0
> 
> 时间：2013-03-04T05:18:27.260
> 
> 标签：fonts, monodevelop, unity3d, multi-touch, ngui

我是统一 3d 中 NGUI 概念的新手。

我尝试使用 NGUI 创建新字体，但失败了。

您能解释一下如何使用 NGUI 创建新字体吗？

我必须制作 goonspectreTBS 字体。

等待正面回应。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-02-09T13:04:52.570

将自定义字体引入 NGUI 的方法很少。您绝对应该阅读 NGUI 教程，它们会逐步解释所有过程

你可以在这里找到它 [http://www.tasharen.com/?page_id=197](http://www.tasharen.com/?page_id=197)

# matlab - 如何将图像matlab划分为重叠块

> ID：15195030
> 
> 赞同：0
> 
> 时间：2013-03-04T05:19:10.583
> 
> 标签：matlab, block, overlapping

我需要使用 matlab 将图像 512*512 划分为 41*41 重叠。换句话说，我想先取一个以 q 为中心的 41*41 块，然后移动一个像素，然后取一个以 q 为中心的 41*41 +1 等等.. 我不能使用 Blockproc，因为它给出了一个不重叠的块。

谢谢帮助我

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-02-04T20:24:49.927

您可以使用 BLOCKPROC。这有点不明显。

将块大小设置为 [1 1]，然后使用 'Border' 参数指定您希望每个像素周围有多大的块：

```
>> a

a =

     8     1     6
     3     5     7
     4     9     2

>> blockproc(a, [1 1], @(bs)disp(bs.data),'BorderSize', [1 1 ])
     0     0     0
     0     8     1
     0     3     5

     0     0     0
     1     6     0
     5     7     0

     0     3     5
     0     4     9
     0     0     0

     5     7     0
     9     2     0
     0     0     0

     0     0     0
     8     1     6
     3     5     7

     0     8     1
     0     3     5
     0     4     9

     8     1     6
     3     5     7
     4     9     2

     3     5     7
     4     9     2
     0     0     0

     1     6     0
     5     7     0
     9     2     0 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T05:26:23.587

循环它

```
block_size = 41;
row_startpos = 1;
col_startpos = 1;
Img = imread('your_image.jpg');
>Loop Begins here
a = Img(row_startpos:block_size,col_startpos:block_size);
row_startpos = row_startpos+row_overlap;
col_startpos = col_startpos+col_overlap;
>Loop Ends here 
```

添加边境检查标准等

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-11T04:11:57.067

获得重叠块的最简单方法是使用带有“滑动”选项的 im2col()。

```
%Read images one at a time , get overlapping patches of size sz,sz and concatenate it to      columns of a matrix.
% LOOP HERE
f=imread([inp_dir files(k).name]);
   % extract patches of image
   P=[P im2col(f,[sz sz],'sliding')];
% END LOOP HERE 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2014-02-04T14:36:02.973

首先声明一个变量（Var）来存储blocksize 41*41的图像块。然后使用两个for循环提取图像的块。这里是代码..

```
I = imread('cameraman.tif');
[row,col] = size(I);
window = 41;
Var = zeros(1:window,1:window);
 for i = 21:row-window
     for j= 21:col-window
         Var = I(i-20:i+20,j-20:j+20);
     end;
 end;` 
```

# python - SUDS SOAP“依赖项 suds.TypeNotFound：找不到类型”错误

> ID：15195042
> 
> 赞同：0
> 
> 时间：2013-03-04T05:20:15.420
> 
> 标签：python, xml, google-app-engine, soap, suds

我在 GAE python 上使用[SUDS](https://fedorahosted.org/suds/wiki/Documentation) WSDL(SOAP) Web 服务。

& 试图使用这个**46.51.221.138/PBExternalServices/v1/soap?wsdl**。

这是**Py代码**：

```
from suds.client import Client
client = Client(url) 
print client 
```

**但是它在控制台**上抛出了一些错误，

```
 Traceback (most recent call last):
  File "soap.py", line 14, in <module>
    client = Client(url)
      File "build\bdist.win32\egg\suds\client.py", line 112, in __init__
      File "build\bdist.win32\egg\suds\reader.py", line 152, in open
      File "build\bdist.win32\egg\suds\wsdl.py", line 159, in __init__
      File "build\bdist.win32\egg\suds\wsdl.py", line 220, in build_schema
      File "build\bdist.win32\egg\suds\xsd\schema.py", line 95, in load
      File "build\bdist.win32\egg\suds\xsd\schema.py", line 323, in dereference
      File "build\bdist.win32\egg\suds\xsd\sxbasic.py", line 469, in dependencies
    suds.TypeNotFound: Type not found: '(GetAccountBalanceFaultResponse, http://www.
    payback.net/lmsglobal/xsd/v1/types, )' 
```

**注意：**我读了一些需要使用的地方，`suds.xsd.doctor`因为这个 WSDL 似乎以不同的方式被破坏，但不幸的是我不知道如何在`suds.xsd.doctor`这里使用它。

所以我们中的任何人之前都遇到过这个问题并得到了解决？那么请提出适当的解决方案来解决同样的问题。

温暖的毕业生，

尼克斯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-09T02:17:16.820

以下对我有用：

```
from suds.client import Client
wsdl_url = 'http://46.51.221.138/PBExternalServices/v1/soap?wsdl'
client = Client(wsdl_url, autoblend=True) 
```

# windows-phone-8 - 页面上的 Windows Phone 应用程序停用检测

> ID：15195043
> 
> 赞同：2
> 
> 时间：2013-03-04T05:20:18.503
> 
> 标签：windows-phone-8, tombstoning

我正在使用 Windows Phone。当我的应用程序停用并进入后台时，我想检测 OnNavigatedFrom 事件上的应用程序停用，以便我可以在应用程序进入后台时实现一些逻辑。我怎样才能做到这一点？？？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T05:33:51.820

我自己找到了解决方案。将处理程序附加到您从中导航的页面上的 PhoneApplicationService.Current.Deactivated 事件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T08:10:45.847

您可以保存从 APP 事件或页面事件中停用它的时间，并将其存储在 IsolatedStorage 中，然后在您的应用重新激活 (OnNavigatedTo) 时检索数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T05:24:23.057

使用以下方法（可在 App.xaml.cs 文件中找到）在应用激活或停用时执行逻辑：

```
// Code to execute when the application is launching (eg, from Start)
// This code will not execute when the application is reactivated
private void Application_Launching(object sender, LaunchingEventArgs e)
{

}

// Code to execute when the application is activated (brought to foreground)
// This code will not execute when the application is first launched
private void Application_Activated(object sender, ActivatedEventArgs e)
{

}

// Code to execute when the application is deactivated (sent to background)
// This code will not execute when the application is closing
private void Application_Deactivated(object sender, DeactivatedEventArgs e)
{

}

// Code to execute when the application is closing (eg, user hit Back)
// This code will not execute when the application is deactivated
private void Application_Closing(object sender, ClosingEventArgs e)
{

} 
```

# bash - 以编程方式应用 SublimeText 密钥

> ID：15195045
> 
> 赞同：1
> 
> 时间：2013-03-04T05:20:28.600
> 
> 标签：bash, ubuntu, sublimetext2

我正在尝试完全自动化设置一个新的 Ubuntu 实例，并且想知道是否有人知道如何以编程方式从 bash 脚本应用您的许可证密钥。有接盘侠吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T08:18:52.027

将`License.sublime_license`文件（包含您的许可证密钥）复制到`~/.config/sublime-text-2/Settings/`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-12-22T18:56:02.717

对于 SublimeText 3（至少），以下适用：

*   路径是现在`~/.config/sublime-text-3/Local/License.sublime_license`
*   在全新安装时，该文件夹`~/.config/sublime-text-3/Local/`需要事先创建。
*   需要将`License.sublime_license`明文变体作为有效负载，以便在 sublime 启动时对其进行处理。

# php - 如何将 facebook 电子邮件字段插入 mysql 服务器数据库？

> ID：15195046
> 
> 赞同：-1
> 
> 时间：2013-03-04T05:20:34.390
> 
> 标签：php, mysql, facebook, facebook-apps

下面是我将数据插入 mysql 服务器的代码。每当我尝试向其中添加电子邮件字段时，它都会停止工作，即它不再保存数据。

```
if ($user) {
try {
// Proceed knowing you have a logged in user who's authenticated.
$fbuid = $facebook->getUser();
 $user_profile = $facebook->api('/me');

   } catch (FacebookApiException $e) {
   error_log($e);
   $user = null;
   }
     }else{
   header('Location: index.html');

    }
      $query = mysql_query("SELECT * FROM users WHERE oauth_provider = 'facebook' AND     oauth_uid = ". $user['id']);  
      $result = mysql_fetch_array($query);  

    if(empty($result)){ 
      $query = mysql_query("INSERT INTO users (oauth_provider, oauth_uid, username)         VALUES ('facebook', {$user_profile['id']}, '{$user_profile['name']},{$user_profile['education']} ')");  
       $query = msyql_query("SELECT * FROM users WHERE id = " . mysql_insert_id());  
      $result = mysql_fetch_array($query);  
       }  

   // Login or logout url will be needed depending on current user state.
    if ($user) {
     $paramsout = array('next'=>'http://www.mywebsite.com/test/logout.php');
     $logoutUrl = $facebook->getLogoutUrl($paramsout);
     }

     ?> 
```

**修改后的代码，带有电子邮件字段**

```
if(empty($result)){ 
  $query = mysql_query("INSERT INTO users (oauth_provider, oauth_uid, username)         VALUES ('facebook', {$user_profile['id']}, '{$user_profile['name']},{$user_profile['education']} ')");  
   $query = msyql_query("SELECT * FROM users WHERE id = " . mysql_insert_id());  
  $result = mysql_fetch_array($query);  
   } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T05:28:06.617

按照下面教程中给出的步骤，您将拥有它。

[http://www.skwebdesigner.com/?p=586](http://www.skwebdesigner.com/?p=586)

# linux - Hadoop：输入“start-all.sh”后需要root密码

> ID：15195048
> 
> 赞同：16
> 
> 时间：2013-03-04T05:20:44.630
> 
> 标签：linux, ubuntu, hadoop, ssh, sudo

我在笔记本电脑上安装了 Hadoop 和 SSH。“ssh localhost”工作正常。格式化HDFS后，我尝试启动hadoop。

```
munichong@GrindPad:~$ sudo /usr/sbin/start-all.sh
starting namenode, logging to /var/log/hadoop/root/hadoop-root-namenode-GrindPad.out
root@localhost's password: 
root@localhost's password: localhost: Permission denied, please try again.

localhost: Permission denied (publickey,password). 
```

它需要密码。我的角色是“munich”。但是munichong的密码在这里不起作用。在这里，我的角色已更改为“root”。我不知道我是否在这里错过了什么。

有没有人可以帮助我？

谢谢！

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2016-09-05T10:12:55.467

解决方案：

1）生成没有密码的ssh密钥

```
$ ssh-keygen -t rsa -P "" 
```

2) 将 id_rsa.pub 复制到授权密钥

```
$  cat $HOME/.ssh/id_rsa.pub >> $HOME/.ssh/authorized_keys 
```

3) 启动 ssh 本地主机

```
$ ssh localhost 
```

4）现在进入hadoop sbin目录并启动hadoop

```
$./start-all.sh 
./start-all.sh
This script is Deprecated. Instead use start-dfs.sh and start-yarn.sh
Starting namenodes on [localhost]
localhost: starting namenode, logging to /home/amtex/Documents/installed/hadoop/logs/hadoop-amtex-namenode-amtex-desktop.out
localhost: starting datanode, logging to /home/amtex/Documents/installed/hadoop/logs/hadoop-amtex-datanode-amtex-desktop.out
Starting secondary namenodes [0.0.0.0]
0.0.0.0: starting secondarynamenode, logging to /home/amtex/Documents/installed/hadoop/logs/hadoop-amtex-secondarynamenode-amtex-desktop.out
starting yarn daemons
starting resourcemanager, logging to /home/amtex/Documents/installed/hadoop/logs/yarn-amtex-resourcemanager-amtex-desktop.out
localhost: starting nodemanager, logging to /home/amtex/Documents/installed/hadoop/logs/yarn-amtex-nodemanager-amtex-desktop.out 
```

5）密码不问

```
$ jps 
12373 Jps
11823 SecondaryNameNode
11643 DataNode
12278 NodeManager
11974 ResourceManager
11499 NameNode 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2016-01-04T19:48:55.843

与上述情况一样，munichong 是用户 (munichong@GrindPad)

1.  在我的情况下：以 hduser 身份登录

2.  首先，删除目录`sudo rm -rf ~/.ssh`

3.  使用默认设置重新生成 /.ssh 目录：

    ```
    [hduser@localhost ~]$ ssh-keygen 
    ```

4.  在这里，我们将 id_rsa.pub 的内容复制并粘贴到使用上述命令创建的 authorised_keys 文件中）

    ```
    [hduser@localhost ~]$ sudo cat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys 
    ```

5.  [hduser@localhost ~]$`chmod -R 750 ~/.ssh/authorized_keys`

6.  [hduser@localhost ~]$`ssh localhost`

    > 无法确定主机“localhost (127.0.0.1)”的真实性。RSA 密钥指纹为 04:e8:80:64:dc:71:b5:2f:c0:d9:28:86:1f:61:60:8a。您确定要继续连接（是/否）？是的
    > 
    > 警告：将“localhost”（RSA）永久添加到已知主机列表中。上次登录时间：2016 年 1 月 4 日星期一 14:31:05，来自 localhost.localdomain

7.  [hduser@localhost ~]$ `jps`
    18531 Jps

8.  [hduser@localhost ~]$`start-all.sh`

9.  所有守护进程启动

注意：有时由于日志文件会出现其他问题，在这种情况下，仅从 /usr/local/hadoop/logs/ 中删除 dot out (.out) 文件。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-18T14:49:02.203

我遇到了同样的问题。正如 Amar 所说，如果您以 sudo hadoop 的身份运行，则会要求输入 root 密码。如果你没有root密码，你可以设置一个使用

```
 sudo passwd 
```

下面的 URL 为您提供有关用户管理的更多详细信息。

[https://help.ubuntu.com/12.04/serverguide/user-management.html](https://help.ubuntu.com/12.04/serverguide/user-management.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-21T13:23:13.343

创建和设置 SSH 证书 Hadoop 需要 SSH 访问权限来管理其节点，即远程机器加上我们的本地机器。因此，对于我们的 Hadoop 单节点设置，我们需要配置对 localhost 的 SSH 访问。

因此，我们需要在我们的机器上启动并运行 SSH，并将其配置为允许 SSH 公钥身份验证。

Hadoop 使用 SSH（访问其节点），这通常需要用户输入密码。但是，可以通过使用以下命令创建和设置 SSH 证书来消除此要求。如果要求输入文件名，只需将其留空，然后按 Enter 键继续。

检查[这个网站](http://www.bogotobogo.com/Hadoop/BigData_hadoop_Install_on_ubuntu_single_node_cluster.php)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-02-09T15:05:33.220

看来您已经以 root 身份登录并调用了 start-all.sh。

相反，以目录 $SPARK_HOME 的所有者身份登录并调用 spark 的
`start-all.sh.`

（或）

让用户 hadoop 成为目录 $SPARK_HOME 的所有者，并且当前以 root 身份登录，那么命令如下：

```
sudo -u hadoop -c start-all.sh 
```

假设：
a) PATH 引用了目录 $SPARK_HOME/bin
b) 为用户 hadoop 配置了基于证书的身份验证

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2016-10-14T19:44:37.780

登录超级用户或root

```
:~ su

Password: 
```

授予用户权限

```
:~ sudo chown -R <log in user> /usr/local/hadoop/ 
```

对于您的示例登录用户：munichong

`HADOOP_HOME = /usr/local/hadoop/`

# android - 重新启动 Activity 时不保留网格视图状态

> ID：15195051
> 
> 赞同：0
> 
> 时间：2013-03-04T05:20:49.083
> 
> 标签：android, android-imageview, android-gridview, ondestroy, universal-image-loader

我面临在方向更改时保留网格视图状态的问题。最初，当创建网格视图时，只加载了 9 个图像。当用户滚动网格视图时，更多图像会添加到网格视图中，这非常有效。单击网格视图上的图像时，将打开另一个活动，该活动在图像视图上显示图像，现在，当我返回网格活动时按下后退按钮，网格视图失去了它的状态，这意味着，现在活动开始再次从头开始，仅显示加载的前 9 张图像。

使用通用图像下载器库下载图像。

1.  我已经 `android:configChanges="keyboardHidden|orientation"` 在清单文件中指定了。

2.  覆盖`onConfigurationChanged`and `onRetainNonConfigurationInstance`。网格活动：

调试后，我发现在退出活动时调用了 onDestroy() 方法，而不仅仅是 onPause()。我似乎真的无法找出这里似乎是什么问题。任何帮助，将不胜感激。

谢谢。

```
/** The initial activity class which instantiates a gallery */
    public class GalleryActivity extends Activity {
    private GridView gridview;
    private LinearLayout linlaProgressBar;
    private int count = 9;
    private GridImageAdapter gridImageAdapter;
    private boolean loadMore = false;
    private Vector<Image> imageDataList;
    private Context context;
    private int width = 0;
    private int height = 0;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        Log.i("ACTIVITY ", "ON CREATE");
        setContentView(R.layout.grid_layout);
        linlaProgressBar = (LinearLayout) findViewById(R.id.linlaProgressBar);
        gridview = (GridView) findViewById(R.id.gridview);
        gridview.setPadding(10, 10, 10, 10);

        imageDataList = new Vector<Image>(100);
        setImageData();
        context = this;

        WindowManager winManager = (WindowManager) context
                .getSystemService(Context.WINDOW_SERVICE);
        int screenWidth = winManager.getDefaultDisplay().getWidth();
        int screenHeight = winManager.getDefaultDisplay().getHeight();
        if (getResources().getConfiguration().orientation == Configuration.ORIENTATION_PORTRAIT) {
            width = (int) (screenWidth * 0.45);
            height = (int) (screenHeight * 0.3);
        } else if (getResources().getConfiguration().orientation == Configuration.ORIENTATION_LANDSCAPE) {
            width = (int) (screenWidth * 0.25);
            height = (int) (screenHeight * 0.40);
        }

        // Check if old activity exist
        GalleryActivity oldActivity = (GalleryActivity) getLastNonConfigurationInstance();
        if (oldActivity == null) {
            gridImageAdapter = new GridImageAdapter(this);
            /* set the urls from which the image is to be loaded */
            gridImageAdapter.addURL(imageDataList);
            /* count is the initial number of images to be loaded */
            gridImageAdapter.AddItems(count);

            gridview.setColumnWidth(width);
            gridImageAdapter.setDimensions(width, height);

            /* set the adapter to the grid view */
            gridview.setAdapter(gridImageAdapter);
        } else {

            gridImageAdapter = oldActivity.gridImageAdapter;
            gridview.setColumnWidth(width);
            gridImageAdapter.setDimensions(width, height);
            gridview.setAdapter(gridImageAdapter);

        }

        linlaProgressBar.setVisibility(View.GONE);

        gridview.setOnScrollListener(new OnScrollListener() {

            public void onScrollStateChanged(AbsListView view, int scrollState) {
                loadMore = true;
                if (scrollState == AbsListView.OnScrollListener.SCROLL_STATE_IDLE) {
                    linlaProgressBar.setVisibility(View.GONE);
                }
            }

            public void onScroll(AbsListView view, int firstVisibleItem,
                    int visibleItemCount, int totalItemCount) {

                int lastInScreen = firstVisibleItem + visibleItemCount;

                GridImageAdapter gridAdaptr = (GridImageAdapter) gridview
                        .getAdapter();
                int maxLimit = gridAdaptr.getCount();
                if (maxLimit >= (imageDataList.size())) {
                    loadMore = false;
                    linlaProgressBar.setVisibility(View.GONE);
                } else if (lastInScreen == totalItemCount && (loadMore)) {
                    linlaProgressBar.setVisibility(View.VISIBLE);
                    /*
                     * To check that the number of items added never exceeds the
                     * total images count
                     */
                    int threshHold = maxLimit + visibleItemCount;

                    if ((threshHold) > imageDataList.size()) {
                        int newVisibleItemCount = visibleItemCount
                                - (threshHold - imageDataList.size());
                        gridAdaptr.AddItems(newVisibleItemCount);

                    } else {
                        gridAdaptr.AddItems(visibleItemCount);
                    }
                    gridAdaptr.notifyDataSetChanged();
                    loadMore = false;
                }

            }

        });
        gridview.setOnItemClickListener(new OnItemClickListener() {

            public void onItemClick(AdapterView<?> arg0, View view,
                    int position, long id) {
                Log.i("ITEM", "CLICKED");
                Intent intent = new Intent(GalleryActivity.this,
                        HSMainActivity.class)
                        .setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT
                                | Intent.FLAG_ACTIVITY_NEW_TASK);
                intent.putExtra("itemPosition", position);
                intent.putExtra("imageurl", imageDataList.get(position)
                        .getUrl());
                context.startActivity(intent);

            }
        });
    }

    @Override
    public void onConfigurationChanged(Configuration newConfig) {

        super.onConfigurationChanged(newConfig);
    }

    @Override
    public Object onRetainNonConfigurationInstance() {
        Log.i("ACTIVITY", "ON RETAIN CONFIGURATION");
        return this;
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.activity_gallery, menu);
        return true;
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        // Handle item selection
        switch (item.getItemId()) {
        case R.id.menu_settings:

            return true;

        default:
            return super.onOptionsItemSelected(item);
        }
    }

    @Override
    protected void onDestroy() {
        super.onDestroy();
        Log.i("ACTIVITY", "ONDESTROY");
        int count = gridview.getCount();
        for (int i = 0; i < count; i++) {

            final ViewGroup v = (ViewGroup) gridview.getChildAt(i);
            if (v != null) {
                v.removeAllViews();
            }

        }

    }

    @Override
    protected void onPause() {
        Log.i("ACTIVITY", "on PAUSE");
        super.onPause();
    }

    @Override
    protected void onResume() {
        Log.i("ACTIVITY", "ON RESUME");
        super.onResume();
    }

    /* get the image data */
    public void setImageData() {

        ImageData imageData = new ImageData();
        imageDataList.clear();
        imageDataList = imageData.getImageData();
    }
} 
```

网格适配器：

```
 /** Adapter for the GridView class which extends the BaseAdapter */
 public class GridImageAdapter extends BaseAdapter {
private Context context;
private LayoutInflater layoutInflater;
private int width = 0;
private int height = 0;
private int textFactor = 35;
private int mCount = 0;
private DisplayImageOptions options;
private Vector<Image> images;

public GridImageAdapter(Context mContext) {

    context = mContext;
    layoutInflater = LayoutInflater.from(context);
    images = new Vector<Image>(100);
    /* options for the image loader */
    options = new DisplayImageOptions.Builder()
            .showStubImage(R.drawable.loading)
            .showImageForEmptyUri(R.drawable.loading)
            .showImageOnFail(R.drawable.not_found).cacheInMemory()
            .cacheOnDisc().resetViewBeforeLoading()
            .bitmapConfig(Bitmap.Config.RGB_565).build();

}

public int getCount() {

    return getTotalCount();
}

public Object getItem(int position) {

    return position;
}

public long getItemId(int position) {

    return position;
}

public View getView(int position, View convertView, ViewGroup parent) {

    ImageView imageView = null;
    TextView textView = null;
    int imagePadding = 10;
    if (convertView == null) {
        convertView = new View(context);
        convertView = layoutInflater.inflate(R.layout.grid_cell_layout,
                null);
        convertView.setPadding(3, 0, imagePadding - 1, imagePadding);
        convertView.setBackgroundResource(R.drawable.background_shadow);
        convertView
                .setLayoutParams(new GridView.LayoutParams(width, height));

    } else {
        convertView = (View) convertView;

    }

    imageView = (ImageView) convertView.findViewById(R.id.image);
    // Toast.makeText(context, "Width:" + width + "Height:" + height,
    // Toast.LENGTH_SHORT).show();
    /** height has to be reduced to display the text */
    imageView.setLayoutParams(new LinearLayout.LayoutParams(width, height
            - textFactor));
    imageView.setAdjustViewBounds(true);
    imageView.setScaleType(ImageView.ScaleType.FIT_XY);

    /** Universal Image Loader is used to load the images */
    textView = (TextView) convertView.findViewById(R.id.title);
    textView.setText(images.get(position).getName());
    /** Check if the file exists in the disc cache */
    if (ImageLoader.getInstance().getDiscCache()
            .get(images.get(position).getUrl()).exists()) {
        String imageUri = "file://"
                + ImageLoader.getInstance().getDiscCache()
                        .get(images.get(position).getUrl())
                        .getAbsolutePath(); // from SD
        // card
        // Log.i("file path", imageUri);
        ImageLoader.getInstance()
                .displayImage(imageUri, imageView, options);
        // Log.i("Image exists in cache", "!!!");
    } else {
        ImageLoader.getInstance().displayImage(
                images.get(position).getUrl(), imageView, options);
    }

    textView.setTextColor(Color.BLACK);
    return convertView;
}

public int AddItems(int count) {

    mCount = mCount + count;
    return mCount;
}

public int getTotalCount() {

    return mCount;

}

public void addURL(Vector<Image> imageDataList) {

    images.clear();
    images = imageDataList;

}

public void setDimensions(int screenWidth, int screenHeight) {

    width = screenWidth;
    height = screenHeight;

} 
```

}

图像数据：

/** 向视图提供图像数据的类 (GridView..) */

```
 public class ImageData {
    public Vector<Image> getImageData() {

    Vector<Image> imageData = new Vector<Image>(100);
        Image imageData0 = new Image();
    imageData0.setName("image 0");
    imageData0.setUrl("https://lh6.googleusercontent.com/-jZgveEqb6pg/T3R4kXScycI/AAAAAAAAAE0/xQ7CvpfXDzc/s1024/sample_image_01.jpg");
    imageData.add(imageData0);

    Image imageData1 = new Image();
    imageData1.setName("image 1");
    imageData1.setUrl("https://lh4.googleusercontent.com/-K2FMuOozxU0/T3R4lRAiBTI/AAAAAAAAAE8/a3Eh9JvnnzI/s1024/sample_image_02.jpg");
    imageData.add(imageData1);

    Image imageData2 = new Image();
    imageData2.setName("image 2");
    imageData2.setUrl("https://lh5.googleusercontent.com/-SCS5C646rxM/T3R4l7QB6xI/AAAAAAAAAFE/xLcuVv3CUyA/s1024/sample_image_03.jpg");
    imageData.add(imageData2);

    Image imageData3 = new Image();
    imageData3.setName("image 3");
    imageData3.setUrl("https://lh6.googleusercontent.com/-f0NJR6-_Thg/T3R4mNex2wI/AAAAAAAAAFI/45oug4VE8MI/s1024/sample_image_03.jpg");
    imageData.add(imageData3);

    Image imageData4 = new Image();
    imageData4.setName("image 4");
    imageData4.setUrl("https://lh3.googleusercontent.com/-n-xcJmiI0pg/T3R4mkSchHI/AAAAAAAAAFU/EoiNNb7kk3A/s1024/sample_image_04.jpg");
    imageData.add(imageData4);

    Image imageData5 = new Image();
    imageData5.setName("image 5");
    imageData5.setUrl("https://lh3.googleusercontent.com/-n-xcJmiI0pg/T3R4mkSchHI/AAAAAAAAAFU/EoiNNb7kk3A/s1024/sample_image_05.jpg");
    imageData.add(imageData5);

    Image imageData6 = new Image();
    imageData6.setName("image 6");
    imageData6.setUrl("https://lh3.googleusercontent.com/-X43vAudm7f4/T3R4nGSChJI/AAAAAAAAAFk/3bna6D-2EE8/s1024/sample_image_06.jpg");
    imageData.add(imageData6);

    Image imageData7 = new Image();
    imageData7.setName("image 7");
    imageData7.setUrl("https://lh5.googleusercontent.com/-MpZneqIyjXU/T3R4nuGO1aI/AAAAAAAAAFg/r09OPjLx1ZY/s1024/sample_image_07.jpg");
    imageData.add(imageData7);

    Image imageData8 = new Image();
    imageData8.setName("image 8");
    imageData8.setUrl("https://lh6.googleusercontent.com/-ql3YNfdClJo/T3XvW9apmFI/AAAAAAAAAL4/_6HFDzbahc4/s1024/sample_image_08.jpg");
    imageData.add(imageData8);

    Image imageData9 = new Image();
    imageData9.setName("image 9");
    imageData9.setUrl("https://lh5.googleusercontent.com/-Pxa7eqF4cyc/T3R4oasvPEI/AAAAAAAAAF0/-uYDH92h8LA/s1024/sample_image_09.jpg");
    imageData.add(imageData9);

    Image imageData10 = new Image();
    imageData10.setName("image 10");
    imageData10.setUrl("https://lh4.googleusercontent.com/-Li-rjhFEuaI/T3R4o-VUl4I/AAAAAAAAAF8/5E5XdMnP1oE/s1024/sample_image_10.jpg");
    imageData.add(imageData10);

    Image imageData11 = new Image();
    imageData11.setName("image 11");
    imageData11.setUrl("https://lh5.googleusercontent.com/-_HU4fImgFhA/T3R4pPVIwWI/AAAAAAAAAGA/0RfK_Vkgth4/s1024/sample_image_11.jpg");
    imageData.add(imageData11);

    Image imageData12 = new Image();
    imageData12.setName("image 12");
    imageData12.setUrl("https://lh6.googleusercontent.com/-0gnNrVjwa0Y/T3R4peGYJwI/AAAAAAAAAGU/uX_9wvRPM9I/s1024/sample_image_12.jpg");
    imageData.add(imageData12);

    Image imageData13 = new Image();
    imageData13.setName("image 13");
    imageData13.setUrl("https://lh3.googleusercontent.com/-HBxuzALS_Zs/T3R4qERykaI/AAAAAAAAAGQ/_qQ16FaZ1q0/s1024/sample_image_13.jpg");
    imageData.add(imageData13);

    Image imageData14 = new Image();
    imageData14.setName("image 14");
    imageData14.setUrl("https://lh4.googleusercontent.com/-cKojDrARNjQ/T3R4qfWSGPI/AAAAAAAAAGY/MR5dnbNaPyY/s1024/sample_image_14.jpg");
    imageData.add(imageData14);

    Image imageData15 = new Image();
    imageData15.setName("image 15");
    imageData15.setUrl("https://lh3.googleusercontent.com/-WujkdYfcyZ8/T3R4qrIMGUI/AAAAAAAAAGk/277LIdgvnjg/s1024/sample_image_15.jpg");
    imageData.add(imageData15);

    Image imageData16 = new Image();
    imageData16.setName("image 16");
    imageData16.setUrl("https://lh6.googleusercontent.com/-FMHR7Vy3PgI/T3R4rOXlEKI/AAAAAAAAAGs/VeXrDNDBkaw/s1024/sample_image_16.jpg");
    imageData.add(imageData16);

    Image imageData17 = new Image();
    imageData17.setName("image 17");
    imageData17.setUrl("https://lh4.googleusercontent.com/-mrR0AJyNTH0/T3R4rZs6CuI/AAAAAAAAAG0/UE1wQqCOqLA/s1024/sample_image_17.jpg");
    imageData.add(imageData17);

    Image imageData18 = new Image();
    imageData18.setName("image 18");
    imageData18.setUrl("https://lh6.googleusercontent.com/-z77w0eh3cow/T3R4rnLn05I/AAAAAAAAAG4/BaerfWoNucU/s1024/sample_image_18.jpg");
    imageData.add(imageData18);

    Image imageData19 = new Image();
    imageData19.setName("image 19");
    imageData19.setUrl("https://lh5.googleusercontent.com/-aWVwh1OU5Bk/T3R4sAWw0yI/AAAAAAAAAHE/4_KAvJttFwA/s1024/sample_image_19.jpg");
    imageData.add(imageData19);

    Image imageData20 = new Image();
    imageData20.setName("image 20");
    imageData20.setUrl("https://lh6.googleusercontent.com/-q-js52DMnWQ/T3R4tZhY2sI/AAAAAAAAAHM/A8kjp2Ivdqg/s1024/sample_image_20.jpg");
    imageData.add(imageData20);

    return imageData;
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-29T10:51:10.423

您应该在移动到网格视图时完成当前可见活动。这样网格视图总是加载图像。

# android - 如何以编程方式将文件保存在内部存储中（可见）

> ID：15195052
> 
> 赞同：0
> 
> 时间：2013-03-04T05:21:02.937
> 
> 标签：android, file, programming-languages, save

我正在开发一个应用程序，并希望`String s, Integer i` 在`/sdcard/Android/data/<App-Path>/files/myfile.txt`您按下 `Exit-Button`. 我想在应用程序启动时打开文件并获取变量的值。有没有一种简单的方法可以做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T05:26:20.617

/sdcard/Android/data/ 不是内部存储...它的外部..

无论如何，你应该先问它谷歌这就是你需要的

[使用内部存储](http://developer.android.com/guide/topics/data/data-storage.html#filesInternal)

如果您想将文件保存在 SD 卡中，请使用[外部存储](http://developer.android.com/guide/topics/data/data-storage.html#filesExternal)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T05:31:03.787

看看这个[关于内部存储的 android 指南](http://developer.android.com/guide/topics/data/data-storage.html)

您需要添加访问 SD 卡的权限，请参见[此处](http://developer.android.com/guide/topics/security/security.html)和[此处](http://developer.android.com/reference/android/Manifest.permission.html)。寻找

```
WRITE_EXTERNAL_STORAGE 
```

有关访问外部存储的完整详细信息，请参见[此处](http://developer.android.com/guide/topics/data/data-storage.html#filesExternal)

# mysql - 如何在mysql管理员中打开查询编辑器

> ID：15195059
> 
> 赞同：-1
> 
> 时间：2013-03-04T05:21:34.650
> 
> 标签：mysql, mysqladministrator

我已经安装了**MySQL 管理员**。但我看不到查询窗口。

请告诉我应该如何设置**查询窗口**并执行该查询？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T05:36:04.320

```
 You Can use following GUI Tool
1\. Workbench
2\. Sequel Pro
3\. HeidiSQL
4.phpMyAdmin
5\. dbForge Studio 
```

# ruby-on-rails - 表用户没有名为密码的列：INSERT INTO "users"

> ID：15195066
> 
> 赞同：2
> 
> 时间：2013-03-04T05:22:06.650
> 
> 标签：ruby-on-rails

通过rails教程工作，被这个错误难住了。

尝试运行验证唯一性测试时出现上述错误。在我插入用户固定装置后，这些错误似乎突然出现。我不明白我做错了什么，因为我的用户模型肯定在 attr_accessible 行中定义了 :password ，即使它似乎说用户没有密码属性？无论如何，下面的相关代码行：

型号/用户：

```
attr_accessible :email, :password, :password_confirmation, :remember_me,
:first_name, :last_name, :profile_name
validates :profile_name, presence: true, uniqueness: true 
```

固定装置/users.yml：

```
name:
first_name: "user1"
last_name: "user2"
email: "email.com"
profile_name: "user"
password: "pass"
password_confirmation: "pass" 
```

用户测试.rb：

```
user.profile_name = users(:name).profile_name 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-01-21T13:32:20.803

`has_secure_password`依赖于 BCrypt，它用于散列密码。您应该可以访问 BCrypt 内部装置。您也可以使用 ERB。使用此技术为已知密码创建密码哈希。

```
homer:
  first_name: "Homer"
  ...
  password_digest: <%= BCrypt::Password.create('donuts', cost: 4) %> 
```

无需手动将 设置`password_digest`为您的灯具中的某个未知值，而是使用 BCrypt 为您选择的密码创建密码摘要。

现在，在您的测试中，您可以这样做：

```
test "homer logs in with correct password" do
  user = users(:homer)

  get '/login'
  assert_success :response

  post_via_redirect '/login', username: user.username, password: user.password

  assert_equal '/profile', path
  assert_not_nil session[:user_id]
  assert_equal user.id, session[:user_id]
end 
```

影响加密速度，最快的`cost`是4。这有利于快速测试。

您会收到错误，因为`password`和`password_confirmation`是由 添加的虚拟属性`has_secure_password`，并且未映射到数据库。该`password_digest`列存储密码的加盐和加密版本（称为摘要或哈希）。Fixtures 将属性映射到数据库列，因此如果您插入一个未映射到列的属性，您将得到一个 SQL 错误，就像您发现的那样。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-10-14T08:10:15.253

我假设您正在关注 teamtreehouse 的 Treebook 示例，视频中建议的夹具无法工作，因为数据库中没有名为 password 或 password_confirmation 的列，它们是设计用来创建 encrypted_pa​​ssword 的字段。

因此，要使夹具正确，您必须像这样填充 encrypted_pa​​ssword 字段：

```
name:
 first_name: "Boat"
 last_name: "Love"
 profile_name: "Supahlovar"
 email: "love.boat@boats.org"
 encrypted_password = "$2a$10$8uCZ9wCTsFoqa0aIfpssne4qtchcpqhepdU5WylZwh4GBAkgFWEYe" 
```

我认为您可以为加密密码使用任何值，但这就是您从数据库中检索加密密码时的样子。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T05:26:54.163

它没有说用户没有密码属性，它说你的用户表在数据库中没有密码列（这是正确的，它不应该。）

如果没有看到您的其余代码（或不知道您的用户表的结构，请将这些添加到您的问题中），我猜您`has_secure_password`的模型中缺少一行。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-03-04T05:31:14.730

直到更新我会说：

1.  通过迁移将密码列添加到数据库
2.  然后运行`rake db:migrate`

（另外，如果您甚至没有测试数据库，也许您应该`rake db:test:prepare`先运行）

# java - 通过 Intent 和单个 AsyncTask 传递数据

> ID：15195068
> 
> 赞同：0
> 
> 时间：2013-03-04T05:22:09.513
> 
> 标签：java, android, android-intent, android-asynctask

我有多个按钮，每个按钮在单击时都会加载同一个类。在这个类中，我有一个 AsyncTask，我也有两个按钮。一是安装主题。基本上，当您单击安装时，我需要做的就是下载文件。问题是，我需要下载与我在第一堂课中按下的按钮相对应的文件。基本上，我需要一个 if 语句，并说如果按下按钮 x，则下载此文件，但如果按下按钮 y，则下载此其他文件。我试图自己做，但失败了。下面是我的课。我基本上需要帮助下载与按下的按钮相对应的文件......

BootFragment.java：

```
 package com.cydeon.plasmamodz;

 import java.io.File;
 import java.io.IOException;
 import java.util.concurrent.TimeoutException;

 import com.stericson.RootTools.RootTools;
 import com.stericson.RootTools.exceptions.RootDeniedException;
 import com.stericson.RootTools.execution.CommandCapture;

 import android.app.Fragment;
 import android.content.Intent;
 import android.os.Bundle;
 import android.os.Environment;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
 import android.widget.Button;

      public class BootFragment extends Fragment {{

    //Defining File Directory
    File directory = new File(Environment.getExternalStorageDirectory() + "/plasma/boot");
    if(directory.exists() && directory.isDirectory()){
    //Do nothing. Directory is existent 
    }else{
    //Directory does not exist. Make directory (First time app users)
    directory.mkdirs();
    }

    File bkup = new File(Environment.getExternalStorageDirectory() + "/plasma/boot/bkup");
    if(bkup.exists() && bkup.isDirectory()){
    //Do nothing. Directory is existent 
    }else{
    //Directory does not exist. Make directory (First time app users)
    bkup.mkdirs();
    }}

@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {
     View view = inflater.inflate(R.layout.boot_frag,
                container, false);
     Button Ablue = (Button) view.findViewById(R.id.bABlue);
     Button AblueR = (Button) view.findViewById(R.id.bABlueR);
     Button Abokeh = (Button) view.findViewById(R.id.bAbokeh);

     Ablue.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View arg0) {
                    Intent b = new Intent(getActivity(), Boots.class);
                    b.putExtra("Dragon", R.id.bABlue);
                    BootFragment.this.startActivity(b);
            }
            });

     AblueR.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View arg0) {
                        Intent c = new Intent(getActivity(), Boots.class);
                        c.putExtra("Xbox", R.id.bABlueR);
                        BootFragment.this.startActivity(c);
                }
                });

     Abokeh.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View arg0) {
                        Intent d = new Intent(getActivity(), Boots.class);
                        d.putExtra("GameB", R.id.bAbokeh);
                        BootFragment.this.startActivity(d);
                }
                });

     return view;

   }} 
```

靴子.java：

```
 package com.cydeon.plasmamodz;

import com.stericson.RootTools.*;
import com.stericson.RootTools.exceptions.RootDeniedException;
import com.stericson.RootTools.execution.CommandCapture;

import java.io.BufferedInputStream;
import java.io.BufferedReader;
import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.OutputStream;
import java.io.Reader;
import java.net.URL;
import java.net.URLConnection;
import java.util.List;
import java.util.concurrent.TimeoutException;

import com.cydeon.plasmamodz.R;

import android.app.ActionBar;
import android.app.Activity;
import android.app.DownloadManager;
import android.app.ProgressDialog;
import android.content.Context;
import android.content.Intent;
import android.content.pm.PackageManager;
import android.content.pm.ResolveInfo;
import android.net.Uri;
import android.os.AsyncTask;
import android.os.Build;
import android.os.Bundle;
import android.os.Environment;
import android.util.Log;
import android.view.View;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.TextView;
import android.widget.Toast;

//Class for Boot Animation Blue Kindle
public class Boots extends Activity {

public static String TAG = "Boots";
Process process;

private class DownloadFile extends AsyncTask<String, Integer, String>{
    @Override
    protected String doInBackground(String... sURL) {
        try{
            URL url = new URL(sURL[0]);
            URLConnection connection = url.openConnection();
            connection.connect();
            //Shows 0-100% progress bar
            int fileLength = connection.getContentLength();

            //Download the file
            InputStream input = new BufferedInputStream(url.openStream());
            OutputStream output = new FileOutputStream("/sdcard/plasma/boot/b..ootanimation.zip");

            byte data[] = new byte[1024];
            long total = 0;
            int count;
            while ((count = input.read(data)) != -1) {
                total += count;
                //Publish the Progress
                publishProgress((int) (total * 100/fileLength));
                output.write(data, 0, count);
                }

            output.flush();
            output.close();
            input.close();
    } catch (Exception e) {

    }
    return null;
    }

    @Override
    protected void onPreExecute() {
        super.onPreExecute();
        mProgressDialog.show();
    }

    @Override
    protected void onProgressUpdate(Integer... progress){
        super.onProgressUpdate(progress);
        mProgressDialog.setProgress(progress[0]);

    }

    @Override
    protected void onPostExecute(String result) {
        // TODO Auto-generated method stub
        super.onPostExecute(result);
        mProgressDialog.dismiss();
        Context context = getApplicationContext();
        CharSequence text = "Installing. Please Wait";
        int duration = Toast.LENGTH_SHORT;

        Toast toast = Toast.makeText(context, text, duration);
        toast.show();

        if (RootTools.isBusyboxAvailable()){
            RootTools.remount("/system", "rw");
            CommandCapture command = new CommandCapture(0, "su", "sh /sdcard/plasma/scripts/boots.sh");
                try {
                    RootTools.getShell(true).add(command).waitForFinish();
                } catch (InterruptedException e) {
                    e.printStackTrace();
                } catch (IOException e) {
                    e.printStackTrace();
                } catch (TimeoutException e) {
                    e.printStackTrace();
                } catch (RootDeniedException e) {
                    e.printStackTrace();
                }

        } else {
            RootTools.offerBusyBox(Boots.this);
        }

    }
}

ProgressDialog mProgressDialog;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.boots);
    ActionBar actionBar = getActionBar();
    actionBar.hide();
    ImageView img = (ImageView) findViewById(R.id.iv2);
    img.setImageResource(R.drawable.boot1);
    Button install = (Button) findViewById(R.id.bAInstall);
    Button rtrn = (Button) findViewById(R.id.bAReturn);
    mProgressDialog = new ProgressDialog(Boots.this);
    mProgressDialog.setMessage("Downloading..." );
    mProgressDialog.setIndeterminate(false);
    mProgressDialog.setMax(100);
    mProgressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);

    install.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View arg0) {
            TextView creator = (TextView) findViewById(R.id.tvCreate);
            Intent bootI = getIntent();
            int dball = getIntent().getExtras().getInt("Dragon", -1);
            int xbox = getIntent().getExtras().getInt("Xbox", -1);
            int GameB = getIntent().getExtras().getInt("GameB", 1);
            if (dball != -1){
            DownloadFile downloadFile = new DownloadFile();
            downloadFile.execute("http:\\correspondingurl");
            creator.setText("Dragon Ball");
            }if (xbox != -1){
                DownloadFile downloadFile = new DownloadFile();
                downloadFile.execute("http:\\correspondingurl");
                creator.setText("Xbox");
            }if (GameB != -1){
                DownloadFile downloadFile = new DownloadFile();
                downloadFile.execute("http:\\correspondingurl");
                creator.setText("GameBoy");
            }

            }

        }
    );

    rtrn.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View arg0) {
            finish();
        }
    });

    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T05:44:42.263

您需要在这些语句中使用`getIntExtra()`而不是：`getInt()`

```
 int dball = getIntent().getExtras().getInt("Dragon", -1);
        int xbox = getIntent().getExtras().getInt("Xbox", -1);
        int GameB = getIntent().getExtras().getInt("GameB", 1); 
```

# highcharts - 如何获取highchart中每个数据点的id

> ID：15195069
> 
> 赞同：0
> 
> 时间：2013-03-04T05:22:18.147
> 
> 标签：highcharts, highstock

实际上，我正在使用 Highstock 库，并且正在使用 PHP 和 MySQL 生成带有折线图（数据分组）的图形。我正在使用 JSON 格式来绘制图表。

我有大约 50,000 条记录来绘制图表，当我单击数据点时，我需要在弹出窗口中显示**id 。**

我像这样使用我的 JSON 字符串

```
[
[1345575960000,303.38,1],
[1345575960000,303.32,2],
[1345575960000,303.25,3],
[1345575960000,303.17,4],
[1345575960000,303.09,5],
[1345575960000,303.01,6]
] 
```

在我正在使用的javascript中

```
$.getJSON('data/jsonp.php?filename='+ name +'.json&callback=?', function(data) {

var jsonData = [],
dataLength = data.length;

for (j = 0; j < dataLength; j++) {
    jsonData.push([
        data[j][0], // x value
        data[j][1], // y value
        data[j][2] // id
    ]);
}

seriesOptions[i] = {
    name: name,
    data: jsonData,
    events:
        {
            click: function(event)
            {
                chart.showLoading('Loading data...');
                // HOW TO GET HERE THE ID (This is third value in JSON array)
                chart.hideLoading();
            }
        }
    };
seriesCounter++;
if (seriesCounter == names.length) {
      createChart();
}

}); 
```

谁能帮我在图表中显示 ID。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T12:31:49.903

看一下包含 60000 个点并且 id 正确显示的示例。

[http://jsfiddle.net/Rpkqa/](http://jsfiddle.net/Rpkqa/)

```
 series: [{
        name: 'Random data',
        data: (function () {
            // generate an array of random data
            var data = [],
                time = (new Date()).getTime(),
                i;

            for (i = 0; i <= 60000; i++) {
                data.push({
                    id: 'iddd' + i,
                    x: time + i * 1000,
                    y: Math.round(Math.random() * 100)
                });
            }
            return data;
        })()
    }] 
```

工具提示：

```
 tooltip:{
        formatter:function(){
            console.log(this);

            return 'point: '+this.y + ' ID: '+this.points[0].point.id;
        }
    }, 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T08:51:11.247

您需要以不同的方式指定您的点。试试这个：

```
[
    {x:1345575960000,y:303.38,id:1},
    {x:1345575960000,y:303.32,id:2}
] 
```

然后，您应该能够在 evnt 处理程序中引用 this.id。

# c# - 顶部虚拟键盘

> ID：15195070
> 
> 赞同：3
> 
> 时间：2013-03-04T05:22:31.800
> 
> 标签：c#, wpf, touch

我们将使用自定义键（没有 Ctrl、Alt 和 ...）创建一个虚拟键盘（屏幕键盘）。问题是当我们将应用程序设置为时`Topmost="Ture"`，无法找到最后一个活动应用程序的窗口以将选定的键发送给它。（键盘应用程序现在处于活动状态。）我们进行了一些搜索，但找不到任何有用的东西。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T05:27:58.760

在将 prperty 设置为 true 之前保留最后一个窗口的句柄，查看[GetForegroundWindow()](http://msdn.microsoft.com/en-us/library/windows/desktop/ms633505%28v=vs.85%29.aspx)或[GetActiveWindow()](http://msdn.microsoft.com/en-us/library/windows/desktop/ms646292%28v=vs.85%29.aspx)，然后在完成键盘应用程序后使用[SetActiveWindow()将其设置回来。](http://msdn.microsoft.com/en-us/library/windows/desktop/ms646311%28v=vs.85%29.aspx)

```
using System;
using System.Runtime.InteropServices;

namespace Foreground {
  class GetForegroundWindowTest {

    [DllImport("user32.dll", CharSet=CharSet.Auto, ExactSpelling=true)]
    public static extern IntPtr GetForegroundWindow();

    public static void Main(string[] args){
        IntPtr fg = GetForegroundWindow(); //use to keep the last active window
        // set the topmost property to your keyboard        
        //Set fg to be active again when needed using SetActiveWindow()
    }
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T05:29:25.223

感谢您的帮助和回答。我找到[了 Wosk](http://wosk.codeplex.com/)，它解决了我的问题。您可以查看代码。

# android - 如何在android模拟器中使用jdbc连接到mssql服务器？

> ID：15195074
> 
> 赞同：0
> 
> 时间：2013-03-04T05:23:36.190
> 
> 标签：android, sql-server

我是android开发的初学者。现在我正在尝试通过在另一台（服务器）机器上运行的 emulator.MS SQL 2008 R2 连接 MS SQL 2008 R2。我收到以下错误：

```
The TCP/IP connection to the host xxx.xxx.xx.x\SQL2008R2DEV has failed; 
error: null;
verify connection properties.
make sure that instance of SQL server running on the host and accepting TCP/IP connection to the port are not blocked by Windows Firewall. 
```

注意我已经在 java 应用程序中完成了这个。我也可以访问我的数据库。但为什么不能在android程序中？有什么想法吗？

注意：服务器和我的电脑都是通过局域网连接的。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-04T06:58:35.870

是的，可以从 android 模拟器连接到 MSSQL。例如，如果其他系统有 IP，`192.168.1.2`那么您可以在模拟器中使用相同的 IP 连接到数据库。无论如何，不​​鼓励在 android 中使用 JDBC。**此** [链接](https://stackoverflow.com/questions/12233145/connecting-to-mysql-from-android-with-jdbc) **将解释为什么不建议在 Android 中使用 JDBC。**这是使用 JDBC 连接到 MSSQL 数据库的方法：

```
 try {
        Class.forName("com.microsoft.sqlserver.jdbc.SQLServerDriver").newInstance();
        Connection conn =DriverManager.getConnection("jdbc:sqlserver://localhost:1433;databaseName=msdibya;user=dibya;password=dibya;");                   

        System.out.println("connected");
        Statement statement=conn.createStatement();
        ResultSet resultSet=statement.executeQuery("select * from [user]");
        while(resultSet.next()){
            System.out.println(" "+resultSet.getString(1)+" "+resultSet.getNString(2));
        }

    } catch (Exception e) {
        e.printStackTrace();
    } 
```

我希望你有正确的 jar 文件。不要忘记导入它们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T06:12:27.210

您不能直接访问远程数据库，唯一的访问方法是通过android中的Web服务。此外，任何与网络相关的任务都不要写在主线程上，请使用Asynctask。如果发布您的代码，您将如何访问将更加有用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-31T00:25:57.913

不建议从 android 创建 MSSQL 连接，最好在服务器中创建 web 服务并在 android 中使用 web 服务的输出。

# c++ - 检查提升属性树中的值是树还是终端值

> ID：15195085
> 
> 赞同：6
> 
> 时间：2013-03-04T05:24:28.003
> 
> 标签：c++, json, boost, boost-propertytree

我一直在 boost::property_tree（用于读取 json）中寻找 API，可用于确定字段的值是树还是终端值。例如，我有一个 json，其中 foo 的值可以是第一个块中所示的树，也可以是第二个块中所示的字符串。

```
{
    "foo": {
        " n1": "v1",
        "n2": "v2"
    }
}

{
    "foo": "bar"
} 
```

我知道我们可以先检查 get_child_optional。如果返回值为null，那么我们可以检查get_optional。但是有没有更好的方法/api来做到这一点？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2014-02-04T15:54:32.623

尝试这个：

```
property_tree pt;
...

if(pt.empty())
    cout << "Node doesn't have children" << endl;

if(pt.data.empty())
    cout << "Node doesn't have data" << endl;

if(pt.empty() && !pt.data.empty())
    cout << "Node is terminal value" << endl;

if(!pt.empty() && pt.data.empty())
    cout << "Node is a tree" << endl; 
```

# security - MVC4 Web API 防止多个同时登录使用相同的凭据

> ID：15195086
> 
> 赞同：3
> 
> 时间：2013-03-04T05:24:38.533
> 
> 标签：security, asp.net-mvc-4, active-directory, asp.net-web-api, multiple-login

我正在这里开发一个关于 ASP.NET MVC4 和 WebAPI 的项目，其中所有内容都将通过 ajax WebAPI 调用进行。所以正如预期的那样，在我的项目中，所有的业务逻辑都是在 WebAPI 上实现的，从登录系统开始。

我需要解决的场景与用户登录有关。我已经实现并且运行良好。但是新的要求要我在这个现有的 WebAPI 登录系统上实现一个安全机制，以防止同时使用相同的凭据登录系统。​我必须在这里实现的是我必须为给定的凭据包含独占登录，以便在某人使用该凭据登录时没有其他用户可以登录。

如何解决所有场景，例如检测用户是否已登录/检测用户注销，以便凭据现在可用于登录，其中还包括用户不正确退出系统，因为浏览器崩溃或计划外关闭或网络断开连接。

我该如何实施？我没有使用任何会员提供商。身份验证是针对 Active Directory 完成的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T02:29:14.333

由于您在 Active Directory 中使用表单身份验证，因此只要您将 ActiveDirectoryMembershipProvider 指定为您的提供程序类型，您就应该仍然能够使用常规提供程序方法。在您的登录方法中，您可以使用

```
var user=Membership.GetUser(userName);
if(!user.IsOnline)
    //Do some login stuff 
```

在您的网络配置中，您将希望拥有

```
 <membership defaultProvider="ADMembershipProvider">
  <providers>
    <add
       name="ADMembershipProvider"
       type="System.Web.Security.ActiveDirectoryMembershipProvider, System.Web, Version=2.0.0.0,
         Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"
       connectionStringName="ADConnectionString"
       connectionUsername="MyDomain\MyADUserName"
       connectionPassword="MyADPassword"
       enablePasswordReset="false"
       attributeMapUsername="sAMAccountName"/>
  </providers>
</membership> 
```

只需填写您需要的正确部分，它应该可以正常工作。

确保您还有一个用于 AD 控制器的连接字符串

```
<add name="ADConnectionString" connectionString="LDAP://MyADMachine/DC=MyDomain,DC=MyTLD" /> 
```

# unix - 如何在makefile中制作静态库

> ID：15195087
> 
> 赞同：11
> 
> 时间：2013-03-04T05:24:40.723
> 
> 标签：unix, makefile, static-libraries

到目前为止，我有以下生成文件......

```
# Beginning of Makefile

OBJS = obj/shutil.o obj/parser.o obj/sshell.o
HEADER_FILES = include/shell.h include/parser.h
STATLIB = lib/libparser.a lib/libshell.a
EXECUTABLE = sshell
CFLAGS = -Wall
CC = gcc
# End of configuration options

#What needs to be built to make all files and dependencies
all: $(EXECUTABLE) $(STATLIB)

#Create the main executable
$(EXECUTABLE): $(OBJS)
        $(CC) -o $(EXECUTABLE) $(OBJS)

$(STATLIB): $(
#Recursively build object files
obj/%.o: src/%.c
        $(CC) $(CFLAGS) -I./include  -c -o $@ $<

#Define dependencies for objects based on header files
#We are overly conservative here, parser.o should depend on parser.h only
$(OBJS) : $(HEADER_FILES)

clean:
        -rm -f $(EXECUTABLE) obj/*.o
        -rm -f lib/*.a

run: $(EXECUTABLE)
        ./$(EXECUTABLE)

tarball:
        -rm -f $(EXECUTABLE) *.o
        (cd .. ; tar czf Your_Name_a1.tar.z shell )

# End of Makefile 
```

我正在尝试生成静态库 libparser.a 和 libshel​​l.a

我不知道如何创建这些静态库...

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-04T08:04:54.570

`ar`您可以使用以下命令创建静态库：

```
lib/libparser.a: $(OBJECT_FILES_FOR_LIBPARSER)
        ar rcs $@ $^

lib/libshell.a: $(OBJECT_FILES_FOR_LIBSHELL)
        ar rcs $@ $^ 
```

如果您的`ar`命令不理解该`s`选项，则您还必须`ranlib`在生成的`.a`文件上运行`ar`。在这种情况下，替换`ar rcs $@ $^`为`ar rc $@ $^ && ranlib $@`。

# vb.net - 查找日期是否大于另一个日期

> ID：15195089
> 
> 赞同：7
> 
> 时间：2013-03-04T05:24:42.373
> 
> 标签：vb.net, date, datediff

我无法弄清楚为什么这个 VB.net 代码不起作用..

然后我要做的是`if value1 > value2`显示一个消息框说已过期，否则显示一个消息框说未过期。

```
If "4-3-13 10:54:22" > "15-3-13 12:23:30" Then
    MsgBox("Expired")
Else
    MsgBox("Not Expired")
End If 
```

每次它说过期，即使知道它不应该。

当我将它从它更改`15-3-13 12:23:30`为`1-3-13 12:23:30`它仍然说过期。

如果我将代码更改为：

```
If "4-3-13 10:54:22" < "15-3-13 12:23:30" Then
    MsgBox("Not Expired")
Else
    MsgBox("Expired")
End If 
```

它仍然返回错误。

我该如何做到这一点：

```
DATE1 = 4-3-13 10:54:22

DATE2 = 15-3-13 12:23:30

IF DATE1 > DATE2 THEN
   Expired
else
   Not Expired 
```

应该返回“未过期”

任何人都可以帮助..我不能工作吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-04T06:59:35.940

```
"4-3-13 10:54:22" > "15-3-13 12:23:30" 
'This condition states that you are comaparring strings not date 
```

为了得到你所期望的结果，这样做，

```
cdate("4-3-13 10:54:22") > cdate("15-3-13 12:23:30")
'Convert the strings into date and then compare it. 
```

## [日期](http://msdn.microsoft.com/en-us/library/2dt118h2%28v=vs.84%29.aspx)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-05T11:42:03.643

这些[日期常量](http://msdn.microsoft.com/en-us/library/3eaydw6e.aspx)也将按照您的预期执行，并且在程序运行时不受语言环境的影响：

```
#3/4/2013 10:54:22# > #3/15/2013 12:23:30# 
```

请记住，您需要对常量使用美国日期格式。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-01-26T07:29:47.947

试试这个：

```
dim date1 as DateTime = DateTime.ParseExact("4-3-13 10:54:22", "MM-dd-yy HH:mm:ss")

dim date2 as DateTime = DateTime.ParseExact("15-3-13 12:23:30", "MM-dd-yy HH:mm:ss")

if date1 > date2 then
MsgBox("Expired")
else
MsgBox("Not Expired")
end if 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2015-07-25T00:27:41.123

代码如下：

```
If Today.Year - dExpiryDate.Value.Year = 0 Then
    If Today.Month - dExpiryDate.Value.Month < 0 Then
        LBExpiryDate.Text = "THE ID IS OK"
        LBExpiryDate.BackColor = Color.Green

    Else
        If Today.Month - dExpiryDate.Value.Month = 0 Then

            If Today.Day - dExpiryDate.Value.Day < 0 Then
                LBExpiryDate.Text = "THE ID IS OK"
                LBExpiryDate.BackColor = Color.Green
            Else
                LBExpiryDate.Text = "THE AGE IS EXPIRED "
                LBExpiryDate.BackColor = Color.Red
            End If
            Else
            LBExpiryDate.Text = "THE AGE IS EXPIRED "
            LBExpiryDate.BackColor = Color.Red

        End If
    End If
Else
    LBExpiryDate.Text = "THE AGE IS EXPIRED "
    LBExpiryDate.BackColor = Color.Red
End If
End If 
```

# c++ - 在向量中的指针中使用删除运算符

> ID：15195091
> 
> 赞同：1
> 
> 时间：2013-03-04T05:25:04.873
> 
> 标签：c++, memory-management, syntax-error

我有以下向量：

```
std::vector<xml::Node *> *children; 
```

在我的析构函数中，我需要显式调用子元素中`delete`的元素指向的`Node *`元素。所以我做了以下事情：

```
std::cout << "xml::Element destructor" << std::endl;
if(children != NULL) {
    if(n_children() > 0) {
        for (int i = 0; i < n_children(); i++) {
            delete children[i];
        }
    }
    delete children;
} 
```

但我收到以下错误：

```
oops.cpp: In destructor ‘virtual xml::Element::~Element()’:
oops.cpp:277:42: error: type ‘class std::vector<xml::Node*>’ argument given to ‘delete’, expected pointer 
```

我该如何纠正？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T05:27:09.903

```
delete children[i]; 
```

应该

```
delete (*children)[i]; 
```

因为`children`是指针。

好吧，这就是您的代码在语法级别的问题，尽管我觉得即使您修复了上述语法，设计级别仍然存在问题。为什么要声明`children`为指针？为什么不只是这样：

```
std::vector<xml::Node*> children; //non-pointer now 
```

你有什么*充分*的理由不选择这个吗？

就内存管理而言，在大多数情况下将容器声明为指针违背了它的目的。您使用容器是因为您不想自己处理内存管理。相反，您希望容器本身承担这个负担。容器超出范围时会自动释放所有资源。但是，如果您将容器声明为指针，那么您将承担删除容器的负担。如果你不这样做，那么容器将永远不会释放它所获得的资源，并且会出现内存泄漏。

# ios - UIBezierPath 轮廓由于某种原因不断出现在视图周围

> ID：15195092
> 
> 赞同：0
> 
> 时间：2013-03-04T05:25:12.560
> 
> 标签：ios, cocoa-touch, uiview, uibezierpath

下面的这段代码是我用来创建我的子视图“theSubview”的，我将它添加到父视图“parentView”中。

说 parentView 有框架 { {0.0, 0.0}, {100.0, 100.0} } 和 theSubview 有框架 { {20.0, 20.0}, {20.0, 20.0} }

问题是，当我的绘图完成后，我不仅得到了蓝色箭头标记，而且在子视图的框架上还有一个蓝色轮廓。

任何想法我做错了什么？

谢谢！

```
 // theSubview
// My UIView subclass that is added to another view
- (id)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    if (self) {
        self.backgroundColor = [UIColor clearColor];
        self.opaque = NO;
    }
    return self;
}

- (void)drawRect:(CGRect)rect {

    [self drawArrow];        
}

- (void)drawArrow {    
    CGRect arrowRect;

    arrowRect = self.bounds;
    UIBezierPath *arrowPath = [UIBezierPath bezierPathWithRect:arrowRect];

//    UIColor *backgrColor = [UIColor grayColor];
//    [backgrColor setFill];
//    [arrowPath fillWithBlendMode:kCGBlendModeNormal alpha:0.9f];

    UIColor *strokeColor = [UIColor blueColor];
    [strokeColor setStroke];

    CGFloat thirdOfWidth = floorf(CGRectGetWidth(self.bounds) / 3);
    CGFloat thirdOfHeight = floorf(CGRectGetHeight(self.bounds) / 3);

    [arrowPath moveToPoint:CGPointMake(thirdOfWidth, thirdOfHeight)];
    [arrowPath addLineToPoint:CGPointMake(thirdOfWidth * 2, thirdOfHeight + (floorf(thirdOfHeight/2)))];
    [arrowPath addLineToPoint:CGPointMake(thirdOfWidth, thirdOfHeight * 2)];
    [arrowPath setLineWidth:3.0f];
    [arrowPath stroke];

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T05:33:48.590

呃，我想通了。*bezierPathWithRect*实际上以该矩形作为路径创建了一个 bezierPath。矩形不是框架，b/c bezierPath 没有框架.. b/c 它不是 UIView。

将我上面的代码更改为

```
UIBezierPath *arrowPath = [UIBezierPath bezierPath]; 
```

修复它。

# magento - Magento - 启用缓存将我带到 404 页面

> ID：15195096
> 
> 赞同：1
> 
> 时间：2013-03-04T05:25:30.403
> 
> 标签：magento, magento-1.7

我正在尝试在 magento 1.7.0.2 中启用缓存，但它会将我带到 404 页面，刷新页面后，缓存未启用。请帮忙。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T08:25:14.583

嗨@Harshad Manjre ....

首先，您应该`magento cache`在管理员中启用。

`system->cache management->`然后选择所有缓存详细信息并刷新它..`system->index management->`然后选择所有索引并重新索引它..

此外，您应该遵循此...文件夹结构以进行清晰的缓存和索引管理..

> magento（scratch）-> var文件夹->锁定文件夹->选择所有文件并将其删除... magento（scratch）-> var文件夹->缓存文件夹->选择所有文件并将其删除...

然后，请确保您首先删除浏览器的所有 cookie。然后注销管理面板并再次登录....它对您的需求更有用...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T05:33:51.843

当您在**magento**的管理员端并尝试启用**magento 缓存**时。确保您首先删除浏览器的所有 cookie。对于 Firefox，有一个短键，即**Ctrl+Shift+Del**。这将打开您必须清除**cookie**的弹出窗口。然后刷新您的页面。这将要求您再次**登录信息**。**登录**后进入缓存管理并启用它。这对我和你都有效。由于 magento 使用极端缓存，有时浏览器 cookie 会保存一些与缓存相关的信息。这就是它发生的原因。让我知道这种方法是否适合您。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-08-04T19:20:14.253

禁用 mod_pagespeed

Pagespeed 处理带有缩写的内容的“缓存”实例，即，如果这是普通文件。

> 图像.css

它将被设置如下。

> image.pagespeed.css

以上是一个非常简单的示例，但您已经可以看到根本问题在哪里。由于无法通过核心路径找到，这可能会导致不正确的静态内容加载，因为它们是临时的。这是 Mod_Pagespeed 的继承问题，因此我们建议将其禁用。

快速彗星支持的答案，它解决了我的问题

# javascript - 对不支持 CSS 媒体查询的浏览器使用 Javascript

> ID：15195104
> 
> 赞同：0
> 
> 时间：2013-03-04T05:26:22.800
> 
> 标签：javascript, css, responsive-design, media-queries, respond.js

我正在做一个项目，我一直在研究通过使用媒体查询来响应式布局的各种方法。我一直在考虑的许多事情之一是不支持它们的浏览器，尤其是 Internet Explorer 版本 5.5 - 8（[源代码](http://caniuse.com/css-mediaqueries)），并使用 Javascript 作为带有[css3-mediaqueries.js](https://code.google.com/p/css3-mediaqueries-js/)或[响应等选项的后备方法。 js](https://github.com/scottjehl/Respond)。

我不是想知道这两者中哪个最好用，而是质疑使用它们的必要性有多大。

我现在看到的方式是，如果您使用的是手持设备（移动设备或平板电脑），那么您很可能使用支持媒体查询的浏览器，因为我想，这些设备中的大多数浏览器都是现代的并且在构建时考虑了媒体查询。因此，如果用户在旧的 IE 浏览器中查看网站，则很可能是在带有（理论上）桌面大小的显示器的台式计算机上。这意味着他们无论如何都会看到 css 文件的基本网格默认值。这让我觉得没有太大的需要去尝试和支持某人，无论出于何种原因，他们拥有带有手持大小屏幕的旧版 IE。

但与此同时，这些 Javascript 文件必须是必要的，否则它们不会被这么多网站使用。我可以看到需要它们的唯一原因是浏览器不读取媒体查询，它们在尝试读取媒体查询时可能会导致问题并在布局中引发错误或不一致。

我只是想知道是否有人可以对此有所了解并帮助我更好地理解为什么应该使用它们，我并没有对使用它们的想法关闭我只是看不到有必要，但它是可能是因为我错过了一些东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T17:37:16.680

就个人而言，我从未尝试在不支持它的浏览器中复制媒体查询。如果我不得不在具有媒体查询的网站上支持非 CSS3 浏览器，我总是通过 CSS 条件注释固定非 CSS3 版本的宽度，因为正如你所说，手机或平板电脑很有可能得到支持。

然而，媒体查询不仅有助于创建对移动设备友好的设计，而且对于可能为 1200 像素甚至 1600 像素宽的显示器制作但仍需要在 1024 像素屏幕上可用的流畅设计也很有帮助。在此示例中，旧浏览器更有可能在较小的屏幕上运行，因此媒体查询非常有用。在此示例中，这些库之一将很有用。

希望有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-28T20:45:26.390

我为财富 100 强客户建立了很多网站。大多数情况下，我们不使用这些 js 插件。这实际上取决于几件事：

1.  您是先构建 css 移动版还是桌面版？如果移动优先，IE8 及更低版本将看到移动视图（这不是最佳的）。如果您先构建桌面，他们会看到桌面视图。
2.  你能支持多少时髦度？大多数客户希望它在 ie8 中工作，但仅此而已。大多数人已经完全放弃了ie7及以下。一般的网站在ie8 中并不完美。只要最终用户能够获得内容，这对于 ie8 来说通常都是最重要的。不过，有些客户可能完全不同意。
3.  您是否有令人信服的理由使用或避免使用它？这通常是最重要的一项。在 ie8 中打开该站点，如果没有媒体查询完全破坏它，请使用 respond.js 尝试它，看看它的外观。

包含它非常简单，如果您使用条件语句，它甚至不会尝试在较新的浏览器上加载。

```
<!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
<!-- <![endif] --> 
```

基本上，只需在每个站点的基础上查看它。如果有帮助，请使用它。如果没有，请忽略它。

# ios - UIImagePickerController 在 cocos2d iOS 中非常慢

> ID：15195107
> 
> 赞同：0
> 
> 时间：2013-03-04T05:26:27.797
> 
> 标签：ios, cocos2d-iphone, uikit, uiimagepickercontroller

我有一个在菜单中需要 UIImagePickerController 的 cocos2d 应用程序。在 iPad 上，代码运行流畅，但在 iPhone 上，当 UIImagePickerController 出现在屏幕上时，会出现巨大的性能损失——您需要按住按钮超过 2 秒，然后才能将它们注册为点击。有什么提高响应时间的性能提示吗？在创建 UIImagePickerController 之前，我已经在 CCDirector 上调用了“暂停”和“停止动画”。

```
- (void)dismissViewControllerIfRequired {
    if(_viewController != nil) {
        [_viewController removeFromParentViewController];
        _viewController = nil;
    }
}

- (void)dismissPickerIfRequiredAndAnimate:(BOOL)animated {
    if (_picker != nil) {
        [_picker dismissModalViewControllerAnimated:animated];
        [_picker.view removeFromSuperview];
        _picker = nil;

        [[CCDirector sharedDirector] startAnimation];
        [[CCDirector sharedDirector] resume];
    }
}

- (void)dismissPopoverIfRequiredAndAnimate:(BOOL)animated {
    if (_popover != nil) {
        [_popover dismissPopoverAnimated:animated];
        _popover = nil;
    }
}

- (void)showPhotoLibrary {
    [self dismissPickerIfRequiredAndAnimate:NO];
    [self dismissViewControllerIfRequired];
    [self dismissPopoverIfRequiredAndAnimate:NO];

    CCDirector * director = [CCDirector sharedDirector];
    [director pause];
    [director stopAnimation];

    _picker = [[UIImagePickerController alloc] init];
    _picker.delegate = self;
    _picker.sourceType = UIImagePickerControllerSourceTypePhotoLibrary;
    _picker.wantsFullScreenLayout = YES;
    _picker.view.userInteractionEnabled = YES;

    if([CCDirector sharedDirector].currentDeviceIsIPad) {
        _popover = [[UIPopoverController alloc] initWithContentViewController:_picker];
        [_popover setDelegate:self];

        CGSize winsize = [[CCDirector sharedDirector] winSize];
        [_popover setPopoverContentSize:CGSizeMake(320, winsize.height) animated:NO];

        CGRect r = CGRectMake(20,20,10,10);
        r.origin = [[CCDirector sharedDirector] convertToGL:r.origin];
        [_popover presentPopoverFromRect:r inView:[CCDirector sharedDirector].view permittedArrowDirections:UIPopoverArrowDirectionDown animated:NO];
    } else {

        _viewController = [[UIViewController alloc] init];
        _viewController.view.userInteractionEnabled = YES;
        [director.view addSubview:_viewController.view];
        [_viewController presentModalViewController:_picker animated:NO];
    }

}

- (void)imagePickerControllerDidCancel:(UIImagePickerController *)picker {
    [self dismissPickerIfRequiredAndAnimate:YES];
    [self dismissViewControllerIfRequired];
    [self dismissPopoverIfRequiredAndAnimate:YES];
}

- (void)popoverControllerDidDismissPopover:(UIPopoverController *)popoverController {
    [self dismissPickerIfRequiredAndAnimate:YES];
    [self dismissViewControllerIfRequired];
}

- (void)imagePickerController:(UIImagePickerController*)picker didFinishPickingMediaWithInfo:(NSDictionary*)info {

    UIImage * pickedImage = [info objectForKey:@"UIImagePickerControllerOriginalImage"];

    if(pickedImage == nil) {
        printf("picked image was nil...\n");
    } else {
        printf("picked image size: %f, %f\n", pickedImage.size.width, pickedImage.size.height);
    }

    [self dismissPickerIfRequiredAndAnimate:YES];
    [self dismissPopoverIfRequiredAndAnimate:YES];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T07:05:56.283

当 CCDirector 视图被 UIKit 视图完全隐藏时，我通过隐藏它来修复性能问题（在我的情况下，仅在 iPhone 上需要 - 而不是 iPad）。像这样的东西：

```
+ (void)hideDirector {
    CCDirector * director = [CCDirector sharedDirector];

    if(!director.view.hidden) {
        [director purgeCachedData]; //optional
        [director pause];
        [director stopAnimation];

        [director.view setHidden:YES];
    }
}

+ (void)showDirector {
    CCDirector * director = [CCDirector sharedDirector];

    if(director.view.hidden) {
        [director.view setHidden:NO];

        [director stopAnimation];
        [director resume];
        [director startAnimation];
    }
} 
```

# android - 我无法在线程内调用 Intent 类

> ID：15195109
> 
> 赞同：0
> 
> 时间：2013-03-04T05:26:29.927
> 
> 标签：android, android-intent, android-activity

我想在将当前类重定向到另一个类后显示消息。但是这段代码只显示消息，而不是重定向到另一个类。我也尝试了单独的 Handler 类，但没有工作。请帮助解决prbm。

```
 but.setOnClickListener(new View.OnClickListener() 
        {
        public void onClick(final View v) 
          {

             new Thread(new Runnable() 
            {
                    public void run() 
                    {
                        try
                        {
                       /*  sample code */
                         showToast();

                        }
                     catch (IOException e) 
                        {

                        }           

                    }

            }

                     ).start();

    }

        public void showToast() {
            hd.post(new Runnable() {
                  public void run() {
                      Intent myIntent = new Intent(v.getContext(), List.class);
                      startActivity(myIntent); 
                      Toast.makeText(getApplicationContext(),"Redirect to main menu", Toast.LENGTH_SHORT).show();

                  }
               });

        }
        }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T05:27:11.707

**规则：**不要在线程中尝试 UI 的东西。

**解决方法：** 您可以在 Android 中使用 AsyncTask 在后台进行繁重的工作，同时在前台显示进度对话框。在后台线程执行结束时，做你的 UI 工作。

阅读本文以了解有关 AsynTask 用法的更多信息：http: [//developer.android.com/reference/android/os/AsyncTask.html](http://developer.android.com/reference/android/os/AsyncTask.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T05:32:38.373

如果您确实需要在 Activity 启动后显示一条消息，请从第一个 Activity 设置一个标志，然后使用您开始启动相关 toast 的下一个 Activity（假设该标志在那里）。

您也可以放弃 toast 的想法，只需通过 NotificationManager 发送该消息，然后如果您希望它暂时停留在那里，则自动快速删除它。如果您调用的 Activity 不是您自己的，则使用 NotificationManager 是理想的解决方案。

无论如何，如果您仍然需要使用线程，请使用[AsyncTask](http://developer.android.com/reference/android/os/AsyncTask.html)。只是不要犯从后台线程显示吐司的同样错误。这仍然会给您带来一些麻烦（即使您设法以某种方式获得上下文）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T05:31:10.137

在意图中使用您的类上下文，例如：

```
Intent myIntent = new Intent(yourActivity.this, List.class); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-04T05:34:37.697

更改您的`showToast()`方法：

采用：

```
Intent myIntent = new Intent(name_of_your_current_activity.this,
 List.class); startActivity(myIntent); 
```

反而：

```
Intent myIntent = new Intent(v.getContext(), List.class);
 startActivity(myIntent); 
```

而不是使用线程使用[AsynTask](http://developer.android.com/reference/android/os/AsyncTask.html)在 onPostExcute() 中执行您的操作。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-04T05:35:11.587

你不能这样做使用处理程序来调用其他类

```
 Message msg = new Message();
    msg.what = 0;
    handle.sendMessage(msg);

Handler handle = new Handler(){

    @Override
    public void handleMessage(Message msg) {

        super.handleMessage(msg);

        if(msg.what == 0){
                  //call intent
            };
                }; 
```

# asp.net - 对基于文件系统的 .NET 媒体库的建议

> ID：15195112
> 
> 赞同：3
> 
> 时间：2013-03-04T05:26:47.630
> 
> 标签：asp.net, media-player, gallery

任何人都可以为从简单文件系统读取而不是拥有自己的媒体存储的 ASP.NET 网站推荐媒体库/播放器模块吗？

我的一个客户正在运行一个我写的旧图片库。他们可以将图像复制到服务器文件系统上，创建自己的文件夹，并且所有这些都作为分层的、可搜索的图像库很好地呈现到前端。

但这很长，他们真的很喜欢可以处理视频的东西（主要是 h264 mov 和 FLV），如果可能的话，还可以显示电影的缩略图。

他们非常喜欢能够通过文件系统管理媒体，并且不希望必须使用单独的管理页面和/或数据库系统。

显然，这可以手动构建，并且可以使用 FFMPEG 之类的东西来创建预览，但肯定已经存在一些不错的东西了。

可以轻松设置 CSS 样式的东西是一个加号。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-01-22T21:14:49.610

[Gallery Server](http://galleryserverpro.com/)可以做到这一点。它是一个开源 ASP.NET 库，可同步到您的媒体文件目录，然后在浏览器中将它们呈现为专辑和媒体对象。

从技术上讲，它仍然使用数据库，但默认数据库是 SQL CE，它以 SDF 文件的形式存储在 App_Data 目录中，对用户不可见，无需安装、配置或持续管理。

您可以使用 Windows 资源管理器、FTP 或其他方式添加/删除媒体文件，然后让自动同步功能自动使图库保持最新。无需使用管理 UI。

[免责声明：我是创始人和首席开发人员。]

# c# - 如何在表单中制作所有按钮以使其文本变为大写/小写？

> ID：15195115
> 
> 赞同：1
> 
> 时间：2013-03-04T05:26:53.090
> 
> 标签：c#, button, uppercase, lowercase

是否可以将我的表单中的所有按钮文本设为大写/小写？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T05:34:07.417

很久没做Win Form了，不过我想你可以循环遍历所有的文本控件并立即设置它。

```
private void Form1_Load(object sender, EventArgs e)
{
    foreach(var ctrl in this.Controls)
        if (ctrl.GetType() == typeof(Button))
            ((Button)ctrl).Text = ((Button)ctrl).Text.ToUpper();
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-04T05:30:45.210

您可以设置`Properties`并将 设置`CharacterCasing`为`Upper`.，只需选择所有`textBoxes`. 这是如果您想设置`CharacterCasing`何时加载表单。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-04T05:43:30.793

一些linq的东西:)

```
foreach(var btnobject in this.Controls.OfType<Button>())
{
  //do stuff
   btnobject.Text=btnobject.Text.ToUpper();
} 
```

# c# - 函数之间的模糊调用错误

> ID：15195117
> 
> 赞同：1
> 
> 时间：2013-03-04T05:26:57.510
> 
> 标签：c#, nullable

我在面试中得到了这个问题，现在我知道我给出了错误的答案。为什么这个程序在函数之间显示不明确的调用，因此无法编译？

```
public static void Display(int? num) {
    Console.WriteLine(num);
}

public static void Display(string num) {
    Console.WriteLine(num);
}

static void Main() {
    Display(1);
    Display("1");
    Display(null);

    Console.ReadLine();
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-04T05:30:31.297

该语句 `Display(null);`可以解释为`Display(nullable int with null value)`或`Display(string with null value)`。因此，模棱两可的调用错误。

# jquery - jQuery - 从随机选择的列表项中删除类，保留在悬停时重新调用的能力

> ID：15195132
> 
> 赞同：1
> 
> 时间：2013-03-04T05:28:31.840
> 
> 标签：jquery, css, random, hover, flip

页面上显示图像网格。将鼠标悬停在这些图像中的任何一个上都会导致“正面”和“背面”图像之间的动画过渡，有点像卡片翻转。我需要找到一种方法来随机“翻转”包含在列表中的其中一个图像，并自动循环浏览其余的列表项。翻转的图像应保留一段时间（3 秒），然后返回另一侧或默认状态。

我已经组装了一个[演示](http://brandonfaulkner.com/drop/cardflip/index.htm)，它完成了大约 80% 的工作。到目前为止，我的随机选择的列表项在加载时正确显示，但我需要在 3 秒间隔后删除“flipIt”类，然后翻转另一张卡片。到目前为止，悬停状态运行良好。[看一看 ”](http://brandonfaulkner.com/drop/cardflip/index.htm)

我尝试添加以下代码，但是一旦出现特色，它就不会将列表项返回到其原始状态：

```
this.hide = function(){
    while ($(".thumb").hasClass("flipIt")){
        $(this).find('.thumb-wrapper').removeClass('flipIt');
    };
}; 
```

我感谢任何指导或反馈！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:10:27.553

您可以在 addClass("flipIt") 之后尝试 setTimeOut()

尝试这个：

```
this.show = function(){
  ran = getRan(); 
  while (ran == temp){
    ran = getRan();
  }; 
  temp = ran;   
  $("#tips li:nth-child(" + ran + ") .thumb-wrapper").addClass("flipIt");
  setTimeout(function(){
    $("#tips li:nth-child(" + ran + ") .thumb-wrapper").removeClass("flipIt");
  }, 3000);
}; 
```

# php - 为什么这 `$_SESSION['name'] = $_POST['name'] 失败？

> ID：15195133
> 
> 赞同：-2
> 
> 时间：2013-03-04T05:28:34.433
> 
> 标签：php

我在这里想念什么？这是我的 PHP 文件：

```
$_SESSION["name"] = $_POST["name"];
$_SESSION["address"] = $_POST["address1"];
$_SESSION["phone"] = $_POST["phone"];
$_SESSION["name"] = $_POST["name"];
$_SESSION["email"] = $_POST["email"];
$_SESSION["uname"] = $_POST["uname"]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T05:31:06.323

1.  检查您的 POST 值。`print_r($_POST);`
2.  在页面顶部开始会话`session_start();`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T05:49:46.610

检查您是否已在要使用会话的页面上使用 session_start() 启动会话。

您需要在要使用 $_SESSION 的每个页面上使用 session_start() ，否则在该页面上将无法访问 $_SESSION。

快乐编码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T05:49:09.530

由于您在 session 中存储了值：

```
 $_SESSION["name"] = $_POST["name"];
 $_SESSION["address"] = $_POST["address1"]; 
```

在其他页面（文件）的顶部写入 session_start() 并访问会话变量为：

```
 echo  isset($_SESSION["name"])?$_SESSION["name"]:''; 
```

而已！

# .net - NullReferenceException vb.net

> ID：15195135
> 
> 赞同：0
> 
> 时间：2013-03-04T05:28:42.637
> 
> 标签：.net, vb.net, nullreferenceexception

我在此代码的第三行中收到错误消息，即“对象引用未设置为对象的实例”。可能的原因是什么？

```
Dim table As New DataTable()
Me.bindingSource1.DataSource = table
Me.bindingSource1 = DataGridView1.DataSource
table = Me.bindingSource1.DataSource 
```

我只需要知道可能的原因

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:09:03.710

“我”为空（在 VB 中为空）或 DataGridView1 为空。造成这种情况的原因可能在您的代码中的其他地方。使用调试器找出答案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:45:34.827

可能`DataGridView1`是`nothing`，没有问题，`Me`因为执行越过第二行而没有任何中断。检查是否`DataGridView1`没有。

*   在第 3 行设置 a `break point`。
*   `break point`罢工时，按（`Ctrl+I`立即窗口）
*   输入`?DataGridView1`那个。
*   然后按`ENTER`，你会发现它是否`nothing`存在。

# c# - 防止将重复项添加到列表框

> ID：15195139
> 
> 赞同：-5
> 
> 时间：2013-03-04T05:29:14.763
> 
> 标签：c#, asp.net, if-statement, listbox

我试图弄清楚如何添加`if`/`else`语句，以便当我按下按钮时它不会向我的`listBox`

已经有一个 if 语句，但它不起作用。

这是按钮的代码。

```
private void btnSort_Click(object sender, RoutedEventArgs e)
{
    if (lstbxResults.Items.Contains(lstbxResults.Items))
    {
        foreach (var Sort in lstbxResults.Items)
            Sorting.Add(LSort);

        Sorting.Sort();
        lstbxResults.Items.Clear();

        foreach (var GSort in Sorting)
            lstbxResults.Items.Add(lSort);
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T05:35:16.190

**您之前缺少一个右括号`else`**

这可能导致错误消息“错误 1 ​​无效的表达式术语 'else'”

**这是它应该是什么样子**

```
private void btnSort_Click(object sender, RoutedEventArgs e)    
{  
    if (!this.lstbxResults.Items.Contains(this.lstbxResults.Items))   
    {  
        foreach (var fSort in lstbxResults.Items)  
        {  
            Sorting.Add(fSort);  
        }  

        Sorting.Sort();

        lstbxResults.Items.Clear();

        foreach (var fSort in Sorting)
        {
            lstbxResults.Items.Add(fSort);
        }
    } // ADD THIS <-----------------------
    else 
    {
       return; // you actually don't need this else statement. Just let the function terminate. 
    }
 // And don't forget to close out your function with another close bracket below 
```

**下一个**

*   有关在 ASP.NET 中对 ListBox 中的项目进行排序的更有效方法，请参阅[此答案：](https://stackoverflow.com/a/3396527/127880)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T05:37:58.340

如果它是您的代码，那么您之前缺少右括号`else`。

`Ctrl+[`在 VS 中，当您的光标位于大括号上时，您可以通过使用轻松查看大括号对的位置。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T05:59:38.893

我认为根据您的代码，您正在尝试对 listBox 中的数据进行排序并删除重复项。 ![在此处输入图像描述](../Images/dd93373c7d1324eacda8ebe8bcee2dc2.png)

```
 private void btnSort_Click(object sender, RoutedEventArgs e)    
    {   
     ArrayList Sorting = new ArrayList();
                if (!this.lstbxResults.Items.Contains(this.lstbxResults.Items))
                {
                    foreach (var fSort in lstbxResults.Items)
                    {
                        Sorting.Add(fSort);
                    }

                    Sorting.Sort();

                    lstbxResults.Items.Clear();

                    foreach (var fSort in Sorting)
                    {
                        if (!this.lstbxResults.Items.Contains(fSort))
                        {
                            lstbxResults.Items.Add(fSort);
                        }

                    }
                }
    } 
```

# ruby-on-rails - 如何获取与模型的关联模型相关的模型？

> ID：15195141
> 
> 赞同：0
> 
> 时间：2013-03-04T05:29:24.890
> 
> 标签：ruby-on-rails

我有两个模型。

文章

```
 class Article < ActiveRecord::Base

   attr_accessible :title, :body, :artist_ids

   has_many :artists, :through => :artist_relationships
   has_many :artist_relationships

 end 
```

艺术家.rb

```
 class Artist < ActiveRecord::Base

   attr_accessible :title, :body, :article_ids

   has_many :articles, :through => :artist_relationships
   has_many :artist_relationships

 end 
```

现在假设我`Article`与两个有关系`Artist`（例如迈克尔杰克逊，披头士......）

然后每个艺术家都有一些文章给他们。

我想要做的是通过它的..获取**所有**与 an 相关的文章。`Article``artists`

这是我尝试过的东西（不起作用....）

```
 @article = Article.find(param[:id]) # an Article
 @articles = Article.where(:artist_ids => @article.artist_ids) # get all articles of its related artists 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T05:33:22.323

尝试

```
@articles = Article.joins(:artist_relationships).where(artist_relationships: { artist_id: @article.artist_ids }) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T06:06:04.800

您没有发布 ArtistRelationship 模型的代码，但我假设您使用以下方法完成了 has_many_through 关系：

```
class ArtistRelationship < ActiveRecord::Base
 belongs_to :article
 belongs_to :artist
end 
```

如果您正确设置了此设置，那么您将能够利用诸如`@article.artists`or之类的方法`@artist.articles`。

所以你可以按照以下方式做一些事情：

```
@article = Article.find(params[:id]) #Any given article
@artists = @article.artists #All artists related to the article
@articles = @artists.collect{|artist| artist.articles} #Collection of all articles related to all the artists 
```

# iphone - 调用[tableView reloadData]；在 modalViewController 的 viewController 上

> ID：15195142
> 
> 赞同：0
> 
> 时间：2013-03-04T05:29:25.810
> 
> 标签：iphone, ios, objective-c

我有一个 modalViewController，它出现在带有 tableView 的 viewController 的顶部。当用户单击 modalViewController 上的按钮时，我想使用以下命令重新加载 viewController 中的 tableView：

```
[tableView1 reloadData]; 
```

我不想将重新加载放在 viewDidAppear 或 viewWillAppear 方法中，因为当我不需要重新加载 tableView 时（即当用户单击后退按钮返回到 tableView 时）会调用它们。

有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T05:33:24.093

尝试

1）编写一种方法，`reloads`其中`table data`.

`button`2）点击背面调用它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-04T05:57:54.310

这是经典的委托模式问题，在您的模态视图控制器中，您需要对当前视图控制器的委托引用来呈现它

```
//Modal
@protocol ModalVCDelegate
- (void)tappedBackButton;
@end

@class ModalVC: UIViewController
@property id<ModalVCDelegate> delegate;
@end

@implementation
- (void)backButtonTapped:(id)sender
{
    if (self.delegate) 
        [self.delegate tappedBackButton];
}
@end 
```

现在，在您展示的 VC 中，只需处理此委托消息

```
//Parent VC
- (void)showModal
{
    ModalVC *vc = [ModalVC new]; 
    vc.delegate = self;
    //push
}

- (void)tappedBackButton
{
    [self.tableView reloadData];
    //close modal
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-04T05:55:53.553

您可以使用委托。如果发现它更难，那么替代方法是使用`NSNotificationCenter`. [您可以看到Refreshing TableView](https://stackoverflow.com/questions/5567491/iphone-refreshing-tableview-vc-from-higher-viewcontroller)接受的答案。这确实是一种非常简短、简单易懂的方式。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-04T05:52:08.733

尝试使用这个

制作一个按钮并单击此按钮，然后您可以重新加载数据。此按钮进行自定义并在背景上使用。

```
 - (IBAction)reloadData:(id)sender
    {
         [tblView reloadData];
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-04T05:52:48.617

使用如下通知方法：-

`NSNotificationCenter`在 yourViewController 的`ViewdidLoad`方法创建

```
- (void)viewDidLoad
{
    [[NSNotificationCenter defaultCenter] addObserver:self
                                                 selector:@selector(ReloadDataFunction:)
                                                     name:@"refresh"
                                                   object:nil];

  [super viewDidLoad];

}
-(void)ReloadDataFunction:(NSNotification *)notification {

    [yourTableView reloadData];

} 
```

现在您可以从您的 modelViewController BackButton 调用此通知，或者您希望调用此 Refresh 通知，例如放置这行代码：-

```
[[NSNotificationCenter defaultCenter] postNotificationName:@"refresh" object:self]; 
```

**注意：** `postNotificationName:@"refresh"`这是特定通知的关键

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2013-03-04T06:01:16.257

```
You can use NSNotification to refresh table on ViewController.

Inside viewController :

-(void)dealloc{
[[NSNotificationCenter defaultCenter] removeObserver:self];
[super dealloc];
}

Write code in viewDidLoad:
[[NSNotificationCenter defaultCenter] addObserver:self
        selector:@selector(reloadMainTable:) 
        name:@"ReloadTable"
        object:nil];

- (void) reloadMainTable:(NSNotification *) notification
{
  [tableView reload];
}

Inside ModelViewController:
[[NSNotificationCenter defaultCenter] 
        postNotificationName:@"ReloadTable" 
        object:nil];

Here you can also send custom object instead of nil parameter. But be care full about removal of NSNotification observer. 
```

# .net - WF 和 WCF 是技术还是语言？

> ID：15195143
> 
> 赞同：-5
> 
> 时间：2013-03-04T05:29:27.813
> 
> 标签：.net

我想知道 .Net 中的 Windows Workflow Foundation 和 Windows Communication Foundation 是语言还是技术。基本上它们是基金会，但它们到底是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T05:34:29.733

从伟大的一键式[维基百科](http://en.wikipedia.org/wiki/Windows_Communication_Foundation)-

`The Windows Communication Foundation (or WCF) is a runtime and a set of APIs (application programming interface) in the .NET Framework for building connected, service-oriented applications.`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T05:36:52.153

简而言之：它们不是语言。我强烈建议您从[这里](http://en.wikipedia.org/wiki/.NET_Framework)开始，然后一直到[这里](http://www.google.com/?q=WF+and+WCF+and+.net)。

# ios - ios：滚动视图不显示图像

> ID：15195147
> 
> 赞同：0
> 
> 时间：2013-03-04T05:30:31.287
> 
> 标签：ios, xcode, sqlite, uiscrollview

我是一个初学者，我开发了一个具有全屏图像滚动视图的程序，它从数据库中获取图像。但我在输出中得到空白（白色）图像。这背后的原因是什么？请帮助，我的代码是：

```
@interface GalleryImageScrollViewController ()
{
    MyDatabase *data;
    NSMutableArray *slideImages;
    CGPoint gestureStartPoint,currentPosition;
}
-(void)putImageViewsInScrollView:(int) numberOfImageViews;
@end

@implementation GalleryImageScrollViewController

- (void)viewDidLoad
{
    [super viewDidLoad];
      self.FullScreenImageScroller.delegate= self;
    [self putImageViewsInScrollView:slideImages.count];

}

-(void) putImageViewsInScrollView:(int)numberOfImageViews
{
    data=[MyDatabase new];
    slideImages=[data OpenMyDatabase:@"SELECT pic_name FROM interior" :@"pic_name"];

      for(int i=0 ;i< numberOfImageViews; i++)
    {

UIImageView *fullScreenImageView = [[UIImageView alloc] init];
        fullScreenImageView.frame = CGRectMake((WIDTH_OF_IMAGE * i)  , 0, WIDTH_OF_IMAGE, HEIGHT_OF_IMAGE);
        fullScreenImageView.image = [UIImage imageNamed:[slideImages objectAtIndex:i]];
        [self.FullScreenImageScroller addSubview:fullScreenImageView];
        }

        [self.FullScreenImageScroller setContentSize:CGSizeMake(WIDTH_OF_SCROLL_PAGE * ([slideImages count]), HEIGHT_OF_IMAGE)];
        [self.FullScreenImageScroller setContentOffset:CGPointMake(0, 0)];
        [self.FullScreenImageScroller scrollRectToVisible:CGRectMake(WIDTH_OF_IMAGE,0,WIDTH_OF_IMAGE,HEIGHT_OF_IMAGE) animated:NO];

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T05:51:08.963

尝试这个

```
@interface GalleryImageScrollViewController ()
{
MyDatabase *data;
NSMutableArray *slideImages;
CGPoint gestureStartPoint,currentPosition;
}
-(void)putImageViewsInScrollView:(int) numberOfImageViews;
@end

@implementation GalleryImageScrollViewController

- (void)viewDidLoad
{
 [super viewDidLoad];
  slideImages = [[NSArray alloc]init];
  data=[[MyDatabase alloc]init];
  slideImages=[data OpenMyDatabase:@"SELECT pic_name FROM exterior" :@"pic_name"];
  [self putImageViewsInScrollView:slideImages.count];
  self.FullScreenImageScroller.delegate=self;
  NSLog(@"Array %@",slideImages);
 }

 -(void) putImageViewsInScrollView:(int)numberOfImageViews
 {
   for(int i=0 ;i< numberOfImageViews; i++)
  {
    UIImageView *fullScreenImageView = [[UIImageView alloc] init];
    fullScreenImageView.frame = CGRectMake((WIDTH_OF_IMAGE * i)  , 0, WIDTH_OF_IMAGE, HEIGHT_OF_IMAGE);
    fullScreenImageView.image = [UIImage imageNamed:[slideImages objectAtIndex:i]];
    [self.FullScreenImageScroller addSubview:fullScreenImageView];
    }

    [self.FullScreenImageScroller setContentSize:CGSizeMake(WIDTH_OF_SCROLL_PAGE * ([slideImages count]), HEIGHT_OF_IMAGE)];
    [self.FullScreenImageScroller setContentOffset:CGPointMake(0, 0)];
    [self.FullScreenImageScroller scrollRectToVisible:CGRectMake(WIDTH_OF_IMAGE,0,WIDTH_OF_IMAGE,HEIGHT_OF_IMAGE) animated:NO];
    } 
```

# sql - 如何获取 TSQL 中第一列的条目结束？

> ID：15195154
> 
> 赞同：-1
> 
> 时间：2013-03-04T05:30:57.507
> 
> 标签：sql, sql-server, tsql

我有这样的表：

```
Sequence
2089697
2089738
2089838
2090368
2090400 
```

我想要另一个专栏

```
Sequence; EndSequence  
2089697; 2089737
2089738; 2089837
2089838; 2090367
2090368; 2090399
2090400; null 
```

EndSequence 将是 Sequence 列的下一条记录的结尾。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T05:36:26.337

对于 SQL 服务器 2005/2008

```
WITH records
AS
(
  SELECT  Sequence,
          ROW_NUMBER() OVER (ORDER BY Sequence ASC) rn
  FROM    TableName
)
SELECT  a.Sequence, b.Sequence - 1 EndSequence
FROM    records a
        LEFT JOIN records b
          ON a.rn+1 = b.rn 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!6/cabe1/6)

对于 SQL 服务器 2012

```
SELECT  SEQUENCE,
        LEAD(SEQUENCE) OVER (ORDER BY SEQUENCE) - 1 EndSequence
FROM    TableName 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!6/cabe1/5)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T05:35:11.760

您可以将表连接到自身，其中连接的条件是匹配右侧的记录大于左侧的记录值。然后按左侧的值分组并聚合右侧的最小值：

```
SELECT l.Sequence, MIN(r.Seqence)-1 "EndSequence"
FROM table l
LEFT JOIN table r ON r.Sequence > l.Sequence
GROUP BY l.Sequence 
```

# c# - 隐藏基类中存在的方法

> ID：15195161
> 
> 赞同：2
> 
> 时间：2013-03-04T05:31:13.703
> 
> 标签：c#, .net, inheritance, overriding, method-hiding

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace LearnOverride
{
    class Program
    {
        static void Main(string[] args)
        {
            Owner owner = new Owner();
            Safe safe = new Safe();

            Console.WriteLine("When \tLocksmith locksmith = new Locksmith();\n");
            Locksmith locksmith = new Locksmith();
            locksmith.OpenSafe(safe, owner);
            Console.WriteLine("when ReturnContents() called from main,");
            Jewels openedLocksmith = safe.Open("12345");
            locksmith.ReturnContents(openedLocksmith, owner);
            Console.WriteLine();

            Console.WriteLine("\n\nWhen \tJewelThief jewelThief = new JewelThief();\n");
            JewelThief jewelThief = new JewelThief();
            jewelThief.OpenSafe(safe, owner);
            Console.WriteLine("when ReturnContents() called from main,");
            Jewels opened = safe.Open("12345");
            jewelThief.ReturnContents(opened, owner);
            Console.WriteLine();

            Console.WriteLine("\n\nWhen \tLocksmith jewelThiefAsLocksmith = new JewelThief();\n");
            Locksmith jewelThiefAsLocksmith = new JewelThief();
            jewelThiefAsLocksmith.OpenSafe(safe, owner);
            Console.WriteLine("when ReturnContents() called from main,");
            Jewels j = safe.Open("12345");
            jewelThiefAsLocksmith.ReturnContents(j, owner);

            ///JewelThief jewelThief = new Locksmith(); is error
            Console.ReadKey();
        }
    }

    class Jewels
    {
        public string Sparkle()
        {
            return "Sparkle, sparkle!";
        }
    }

    class Safe
    {
        private Jewels contents = new Jewels();
        private string safeCombination = "12345";
        public Jewels Open(string combination)
        {
            if (combination == safeCombination)
                return contents;
            else
                return null;
        }
        public void PickLock(Locksmith lockpicker)
        {
            lockpicker.WriteDownCombination(safeCombination);
        }
    }

    class Owner
    {
        private Jewels returnedContents;
        public void ReceiveContents(Jewels safeContents)
        {
            returnedContents = safeContents;
            Console.WriteLine("Owner:Thank you for returning my jewels! " + safeContents.Sparkle());
        }
    }

    class Locksmith
    {
        public void OpenSafe(Safe safe, Owner owner)
        {
            safe.PickLock(this);
            Jewels safeContents = safe.Open(writtenDownCombination);
            this.ReturnContents(safeContents, owner);
        }

        private string writtenDownCombination = null;
        public void WriteDownCombination(string combination)
        {
            writtenDownCombination = combination;
        }
        public void ReturnContents(Jewels safeContents, Owner owner)
        {
            owner.ReceiveContents(safeContents);
        }
    }

    class JewelThief : Locksmith
    {
        private Jewels stolenJewels = null;
        public void ReturnContents(Jewels safeContents, Owner owner)
        {
            stolenJewels = safeContents;
            Console.WriteLine("JewelThief:I'm stealing the contents! " + stolenJewels.Sparkle());
        }
    }
} 
```

上面的代码没有覆盖方法 ReturnContents()。它在隐藏。所以我期待着声明

> this.ReturnContents(safeContents, owner);

存在于 Locksmith 类中（在 OpenSafe() 方法内），如果从对象“JewelThief”引用，将调用 ReturnContents() 方法存在 Jewelthief 对象。

但每次它调用基类方法，ReturnContents。如何解释这种行为？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-04T05:39:37.377

在 C# 中，您必须声明您的虚拟方法。也许你正在考虑 JAVA？

将您的方法签名更改为：

```
public virtual void ReturnContents(Jewels safeContents, Owner owner) 
```

对于基类，并且：

```
public override void ReturnContents(Jewels safeContents, Owner owner) 
```

为孩子班。

当子类重新定义基类已经定义的方法时，就会发生隐藏。在这种情况下，运行时将调用被引用类型的方法而不使用多态性。如果需要这种行为，您应该使用“new”关键字标记子类中的方法。但是，如果您想使用多态性，则需要将基类的方法声明为虚拟方法，并为子类中的方法使用“override”关键字。

如果您想使用基类中的大部分代码，但您希望在类中为某个方法具有新行为并将其公开给您定义的方法的所有子类，您将使用隐藏使用隐藏。这将避免改变基类对方法的内部调用的行为，但仍允许您为新类的用户提供新的实现。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T05:43:58.040

如果您不想使用`Override`该方法，可以使用`new`运算符将​​其隐藏

```
 public new void ReturnContents(Jewels safeContents, Owner owner)
    {
        stolenJewels = safeContents;
        Console.WriteLine("JewelThief:I'm stealing the contents! " + stolenJewels.Sparkle());
    } 
```

# css - 100% 高度的背景图像：需要填充页面

> ID：15195163
> 
> 赞同：2
> 
> 时间：2013-03-04T05:31:24.517
> 
> 标签：css, image, background

我有一个小的 .png 文件，它重复形成背景图像。我需要将`body`页面的高度设置为 100%，以便在我的内容包装器上使用 min-height 属性。但是，尝试结合使用背景图像`height:100%`会导致在页面滚动时图像被截断。请参阅图片以详细说明我的意思：

顶部的背景 ![在此处输入图像描述](../Images/9ff5246411fddf4621581b07a75da32a.png) 但是滚动时它被切断

即使在用户向下滚动后，如何让背景图像在整个页面上重复？这是CSS：

```
body {  
    background-color:#9AAEBF; 
    overflow-y:scroll;
    height:100%;
}

html:after {
    background-image: url('http://www.example.com/img/background.png');    
    opacity:0.4;
    content: "";
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    position: absolute;
    z-index: -1;
} 
```

谢谢你的想法。

* * *

编辑：

这是我需要重复的图像：

![图像重复](../Images/cccf55fae29c131752f66f430d587c64.png)

这是一个小提琴：

[http://jsfiddle.net/Nick_B/x2h3g/](http://jsfiddle.net/Nick_B/x2h3g/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T05:36:37.113

尝试这个

```
html:after {
    background-image: url('http://www.example.com/img/background.png');    
    background-repeat:repeat;
    opacity:0.4;
    content: "";
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    position: absolute;
    z-index: -1;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T05:41:08.967

**Now used** to `background-size`

As like this

```
body {  
    background-color:#9AAEBF; 
    overflow-y:scroll;
    height:100%;
}

html:after {
    background-image: url('http://i.stack.imgur.com/iuzZU.png'); 
    background-size:100%;
    opacity:0.4;
    content: "";
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    position: absolute;
    z-index: -1;
} 
```

**[Demo Full page](http://jsfiddle.net/YkhkF/embedded/result/)**

**[Live Demo](http://jsfiddle.net/YkhkF/1/)**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T05:42:24.450

you can achieve your desired result through give the `backgroun-size:100%` in your `html:after`

**CSS**

```
html:after {
    background-image: url('http://i.stack.imgur.com/iuzZU.png'); 
    background-size:100%;
    opacity:0.4;
    content: "";
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    position: absolute;
    z-index: -1;
} 
```

# cocoa - 动画 NSStatusItemView

> ID：15195164
> 
> 赞同：0
> 
> 时间：2013-03-04T05:31:32.613
> 
> 标签：cocoa, core-animation

与这个斗争。我有一个正在尝试制作动画的自定义 NSStatusItemView。我已将以下代码添加到我的状态项视图以启动动画：

```
- (void)setAnimated
{
    CABasicAnimation *anim = [CABasicAnimation animationWithKeyPath:@"opacity"];
    anim.duration = 1.0;
    anim.repeatCount = HUGE_VALF;
    anim.autoreverses = YES;
    anim.fromValue=[NSNumber numberWithFloat:1.0];
    anim.toValue=[NSNumber numberWithFloat:0.0];
    [self.layer addAnimation: anim forKey: @"animateOpacity"];
    [self setWantsLayer:YES];  
    [self setNeedsDisplay:YES];
} 
```

当我调用这个方法时，什么也没有发生。但是，如果我将此代码移动到我的`drawRect`方法中，则视图会在启动时正确设置动画。不完全确定我需要做什么才能告诉它事后开始动画，但上述方法没有做到，我不知道为什么！有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T00:31:18.750

好的回答自己，所以谷歌有答案的记录！

问题是，有点缺乏对drawRect的理解。当我的 setAnimated 方法调用 setNeedsDisplay 时，它再次调用 drawRect，有效地撤消了 setAnimated 方法中所做的事情。

我做了两件事来正确解决这个问题。首先，我修改了 setAnimated 方法以接受 BOOL 参数并将视图上的 isAnimated 属性设置为该值。然后，我在 drawRect 中检查这个 BOOL 值，如果它设置为 YES，则执行动画。

其次，您似乎需要在第一次绘制视图时调用 [self setWantsLayer: YES] 。所以我在第一次运行时在 drawRect 中调用它，以便以后的动画可以工作。

# python - 如何在选择中正确使用超时参数？

> ID：15195167
> 
> 赞同：4
> 
> 时间：2013-03-04T05:31:44.383
> 
> 标签：python, sockets, timeout

我是套接字编程的新手（对 Python 也有一些了解），我无法让选择超时以我想要的方式工作（在服务器端）。在客户端连接之前，超时工作得很好。我给它一个 1 秒的值，超时在我的循环中每 1 秒到期一次。

但是，一旦客户端连接，它不会等待 1 秒告诉我超时到期。它只是尽可能快地循环并告诉我超时到期。这是我的代码片段：

```
while running:
    try:
        self.timeout_expired = False
        inputready, outputready, exceptready = select.select(self.inputs, self.outputs, [], self.timeout)
    except select.error, e:
        break
    except socket.error, e:
        break

    if not (inputready):
        # Timeout expired
        print 'Timeout expired'
        self.timeout_expired = True

    # Additional processing follows here 
```

我不确定这是否足以查看我的问题所在，所以如果您需要查看更多信息，请告诉我。基本上，在客户端连接后，它至少*似乎*忽略了 1 秒的超时，并且尽可能快地运行，不断告诉我“超时已过期”。知道我错过了什么吗？

非常感谢！！

编辑：我应该澄清...“inputready”代表来自连接或发送数据到服务器的客户端的输入，以及来自服务器的标准输入。从 select 返回的其他变量只是服务器端变量，我想要做的是检测 CLIENT 是否花了太长时间来回复，所以我只检查 inputready 是否为空。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-04T05:58:51.843

`inputready`如果、`outputready`和`exceptready`都是空的，它只是一个超时。我的猜测是您已将客户端套接字添加到`self.inputs`和`self.outputs`. 由于输出套接字通常是可写的，所以它总是显示在`outputready`. 仅`self.outputs`当您准备好输出某些内容时才添加客户端套接字。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2019-04-09T17:11:36.190

“当超时到期时，select() 返回三个空列表。...要使用超时，需要在 select() 调用中添加额外的参数，并在 select() 返回后处理空列表。”

```
readable, writable, exceptional = select.select(inputs, outputs, inputs,timeout)

if not (readable or writable or exceptional):
    print('  timed out, do some other work here', file=sys.stderr) 
```

[ [https://pymotw.com/3/select/index.html][1]](https://pymotw.com/3/select/index.html][1])

# c# - HTTPHandler 跟踪下载可以取消吗？

> ID：15195173
> 
> 赞同：1
> 
> 时间：2013-03-04T05:32:16.390
> 
> 标签：c#, asp.net, download, httphandler

我正在尝试跟踪文件被下载的次数，以及谁下载了它。由于无法从“文件另存为”对话框中获取任何点击事件，我想知道处理程序是否真的可以知道下载是否被取消或用户选择下载它？

此链接[ASP.NET 文件下载 - 检测用户是否取消下载？](https://stackoverflow.com/questions/7614001/asp-net-file-download-detect-if-user-cancelled-download)建议使用另一个确认对话框来完成工作，但我认为这可能不是一种用户友好的方法。

我不排除错误单击下载按钮的可能性，所以我只想知道是否真的有某种方法可以知道何时增加下载次数。

更新：

在做了一些阅读之后，我现在有了这段代码。

```
 int maxCount = (int)Math.Ceiling((file.Length - startBytes + 0.0) / 1024);

    int i;
    for (i = 0; i < maxCount && context.Response.IsClientConnected; i++)
    {
        context.Response.BinaryWrite(_BinaryReader.ReadBytes(1024));
        context.Response.Flush();
    }

    if (i < maxCount)
    { }
    else
    {
        //Update Increment
    } 
```

我仍在尝试通知取消事件，这样如果用户没有真正下载它，我就不会更新增量。但我注意到，尽管按下取消，增量仍在更新。此次下载所涉及的文件很小，大约 100kb 或更多。

在我看来，for 循环已经完成，before`Response.IsClientConnected`变为 false。我可以改变什么来完成这项工作？任何指针将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T05:40:26.727

`IsClientConnected`发送整个响应后检查属性。如果客户端同时取消或断开连接，它会告诉你。

重要的是在调用响应流之前检查此属性`End`，否则无论如何都会关闭连接。

所以基本上它归结为：

*   发送您的数据
*   验证客户端是否仍然连接
*   关闭连接

或者，即使在定期将数据交付给客户端时，您也可能希望检查此值。

有关详细信息，请参阅[MSDN](http://msdn.microsoft.com/en-us/library/system.web.httpresponse.isclientconnected.aspx)。

# mootools - 如何在mootools中选择类名中带有空格的元素

> ID：15195174
> 
> 赞同：0
> 
> 时间：2013-03-04T05:32:35.230
> 
> 标签：mootools

在 mootools 中，我们如何选择类名中带有空格的 UL。我正在使用 mootools 1.3.2。

需要把这个UL的样式改成“block”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:02:38.377

类名不能有空格。空格分隔多个类名。

所以对于这样的元素：

```
<ul class="class1 class2"> 
```

你可能会使用这个：

```
$(document.body).getElements(".class1.class2") 
```

重要的是让两个类选择器之间没有空格。

# jquery - 每个循环导致的内存泄漏问题

> ID：15195176
> 
> 赞同：0
> 
> 时间：2013-03-04T05:32:38.557
> 
> 标签：jquery, json, each

我有一个关于内存泄漏和函数 $.getJSON 和 $.each 循环的问题。我正在从将定期更新的外部 JSON 文件中获取数据。我使用 2 个函数从 JSON 文件中迭代数据，另一个使用 5 个无序列表将其显示在页面上。我也使用函数来暂停这些迭代。问题是这个脚本占用了太多的内存和 CPU 资源。据我了解，函数 .remove() 不会从内存中删除对象，而只会将其从 DOM 结构中删除。页面输出5 UL后如何清理内存，防止内存泄漏？另外，我的暂停函数会停止动画，但由于某种原因不会停止 .each 循环，这也会导致内存消耗问题 有没有办法让 .Each 循环暂停？这是我的脚本：

```
 <!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="content-type" content="text/html" />
    <meta name="author" content="Viacheslav" />
    <script src="js/jquery-1.7.1.min.js"></script>
    <title>JSON TEST-1</title>
</head>

<body>

  <div id="content_div">
        <ul></ul>  
  </div>
<input type=button value="pause/play" onclick="continue_reporting = ( continue_reporting == 1 ) ? 0 : 1;">
    <script type="text/javascript">        

        var counter = 0;
        var delay_entry = 0;
        delay_fetch = 0;
        var continue_reporting = 1;      
        var node_list = new Array( );
        //var content_div = $("#content_div");
        var child = 0;

        fetch_data(); // initial run
        function fetch_data()
        {

          $.getJSON('js/list.json?i=' + Math.random(), function(data){
              //console.log("data.length: " + data.length );
              $.each(data, function(key,value){
                counter++
                setTimeout( pusher, 1000 * delay_entry, value );
                delay_entry++;                

              })

          })  
          setTimeout( fetch_data, 1000 * delay_fetch );
          delay_fetch++;

        }

        function pusher( value )
        {      

            if ( continue_reporting == 1 ) 
            {
              $("#content_div").append("<ul>" + 
                                    "<li>" +  value.reg + "</li>" +
                                    "<li>" +  value.bids[0].ind + "</li>" +
                                    "<li>" +  value.bids[0].v + "</li>" +
                                "</ul>");
                child++;             

               if (child > 4){
              $("#content_div ul:first-child").remove();              
              }

              }
              console.log("children = " + child);

        }

    </script>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T05:43:13.063

将清理保持为新添加内容的镜像：

```
 $("#content_div").html(null);              
          // may add .remove() too to be safe. 
```

然后根据需要完全重绘列表。

```
 $("#content_div").html( yourNewContent ); 
```

经验法则：

1.  如果你添加一些东西，在添加新东西之前将它从 dom 中完全删除。我不相信附加。

2.  jQuery 插件可以像水龙头一样泄漏内存。在运行测试之前，您可能需要先禁用所有插件。IE 8 在管理内存方面可能特别糟糕，因此为了获得最佳测试，请使用最差的浏览器。:)

3.  使用 JSON 的静态副本进行测试。我可以看到 jQuery 在这里有点泄漏（尤其是使用 jsonp），所以您可能想要推出自己的 ajax 方法。完成后将所有回调/属性/对象设置为 null。Javascript 容易出现循环引用泄漏。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:02:58.597

JavaScript 中无法删除对象；它是一种*垃圾收集*语言。话虽如此，当垃圾收集器运行时，您可以通过在删除某些内容时对您拥有的任何引用进行 NULL 处理来使事情变得更容易（这在旧 IE 版本中尤其重要，如果垃圾内存中有太多引用循环，它会放弃）。这不适用于管理良好（无循环）的 DOM 结构，但适用于您的变量。每当浏览器认为使用了太多内存时，垃圾收集器就会运行。

您不能暂停 JavaScript 超时，但您可以取消它并稍后重新启动它。例如，您可以创建一个数组；

```
var timers = []; 
```

然后填写：

```
var tm = +new Date( );
(then in .each loop)
timers.push( {'ref': setTimeout( pusher, 1000 * delay_entry, value ), 'when': tm + 1000 * delay_entry, 'with': value} ); 
```

现在您可以取消它们：

```
var tm = +new Date( );
for( var i = 0; i < timers.length; ++ i ) {
    clearTimeout( timers[i].ref );
    timers[i].ref = undefined;
    timers[i].when -= tm;
} 
```

并重新启动它们：

```
var tm = +new Date( );
for( var i = 0; i < timers.length; ++ i ) {
    if( timers[i].when > 0 ) {
        timers[i].ref = setTimeout( pusher, timers[i].when, timers[i].with );
    }
    timers[i].when += tm;
} 
```

使用 timers.shift() 处理数组时不要忘记清除数组

回到记忆中，你有几个问题。首先，最好有一个全局值来存储要应用的更新，将值推入和移出，这样您就不会有大量的引用飞来飞去。其次，您应该将超时更改为单个间隔（setInterval），从而使代码高于实际（！）。这尤其适用于调用 fetch_data，因为此时您有递归，这意味着永远不会释放大量内存。并且您应该将 delay_fetch 修复为从 1 开始（目前它在首次加载时会快速连续运行两次。事实上，我认为您需要考虑一些延迟问题）。试试这种形式，它每 5 秒请求一次而不增加超时，并在下载后以秒为间隔执行一次更改，

```
var delay_fetch = 5;
var node_list = [];
var child = 0;

function process_data(data){
    var delay_entry = 0;
    $.each(data, function(key,value){
        setTimeout( pusher, 1000 * delay_entry, value );
        delay_entry++;                
    })
}
function fetch_data(){
    $.getJSON('js/list.json?i=' + Math.random(), process_data);
}
setInterval( fetch_data, 1000 * delay_fetch ); 
```

# ruby - 在文本文件中记录 gmail 线程

> ID：15195178
> 
> 赞同：0
> 
> 时间：2013-03-04T05:32:44.407
> 
> 标签：ruby, rubygems, gmail

我正在尝试从 Gmail 取回 30 天的电子邮件并将它们记录在文本文件中。问题是每个线程都应该分别记录到它们的文本文件中。因此，与过去 30 天 gmail 中的线程数相比，该脚本应生成相同数量的文本文件。

我正在使用`gmail`gem 用纯红宝石写这个。下面我试图得到 X-Gm-THRID 但`nil`输出

```
gmail = Gmail.new(username, password)
gmail.inbox.emails(:after => Date.today - 30).each do |email|
   response = gmail.conn.fetch(email.uid, '(X-GM-THRID)')
   puts response.inspect
end 
```

参考链接： [https ://github.com/nu7hatch/gmail/issues/43](https://github.com/nu7hatch/gmail/issues/43)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T07:59:35.650

好吧，我已经弄清楚了自己

```
gmail.conn.uid_fetch(uid, "X-GM-THRID") 
```

我使用此命令检索对话的线程 ID。

# c++ - 这是否提供自动内存管理和内存控制？shared_ptr<unique_ptr<数据>>?</unique_ptr<数据>

> ID：15195184
> 
> 赞同：1
> 
> 时间：2013-03-04T05:33:14.713
> 
> 标签：c++, c++11, smart-pointers

我一直在做游戏，很多时候我想使用智能指针，但我希望它像一个共享指针，当引用计数达到 0 时它会自动删除内存，并且能够当我想要它时强制它释放，并且所有 shared_ptr 都应该知道该对象已被释放。

这是这样做的吗？

```
class Data
    {
    //stuff
    };

shared_ptr< unique_ptr< Data > > mBestOfBothWorlds( new unique_ptr<Data>( new Data() ) ); 
```

这对性能有何影响？它会非常慢吗？它会正常工作吗？

似乎您不仅可以获得自动内存管理，还可以获得手动管理，以及将数据与其他数据交换的能力，并且拥有 shared_ptr 的每个人都可以轻松获得新数据。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-04T05:59:33.367

`unique_ptr`是一个非常薄的包装，所以我不明白你为什么决定它会非常慢。虽然我认为您的方法没有任何技术问题，但我认为您违反了智能指针的目的。智能指针都是关于所有权的，只有它们应该管理所有权，你不应该触摸它。在我看来，使用这种方法，你总有一天会遇到一些讨厌的错误。

# xslt - 使用条件将 XSL 变量设置为节点集

> ID：15195191
> 
> 赞同：1
> 
> 时间：2013-03-04T05:34:04.503
> 
> 标签：xslt

[这个问题与XSL store node-set in variable](https://stackoverflow.com/questions/5302535/xsl-store-node-set-in-variable)非常相似。主要区别在于，如果 XPath 没有找到与过滤器匹配的节点，我想返回第一个未过滤的结果。

我在这里的代码有效，但我觉得它是一种 hack，而不是良好的 XSL 风格。在这种情况下，每个章节节点都由一个字符串 id 标识。变量`showChapter`是标识章节的字符串。如果没有找到具有此 id 属性的章节，我想返回第一章。

相关代码：

```
<xsl:param name="showChapter" />

<!-- if $showChapter does not match any chapter id attribute, 
     set validShowChapter to id of first chapter. 
-->

<xsl:variable name="validShowChapter">
    <xsl:choose>
        <xsl:when test="/book/chapter[@id=string($showChapter)][position()=1]">
            <xsl:value-of select="$showChapter" />
        </xsl:when>
        <xsl:otherwise>
            <xsl:value-of select="/book/chapter[position()=1]/@id" />
        </xsl:otherwise>
    </xsl:choose>
</xsl:variable>

<!-- I want $chapter to be a valid node-set so I can use it in 
     XPath select statements in my templates 
-->
<xsl:variable 
    name="chapter"
    select="/book/chapter[@id=string($validShowChapter)][position()=1]"
> 
```

这种方法是否像我认为的那样糟糕，如果是这样，您能否指出一个更好的解决方案？我正在使用由 PHP5 的 XSLTProcessor 处理的 XSLT 1.0，但欢迎使用 XSLT 2.0 解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:42:27.187

以下应该工作。顺便说一句，在您的示例中，很多使用`position()`and`string()`是不需要的：

```
<xsl:param name="showChapter" />

<xsl:variable name="foundChapter" select="/book/chapter[@id = $showChapter]" />
<!-- Will select either the first chapter in $foundChapter, or
     the first chapter available if $foundChapter is empty -->
<xsl:variable name="chapter" 
              select="($foundChapter | /book/chapter[not($foundChapter)])[1]" /> 
```

# ios - pushviewcontroller 导致 ARC 中的内存泄漏

> ID：15195202
> 
> 赞同：0
> 
> 时间：2013-03-04T05:34:53.833
> 
> 标签：ios, objective-c, uinavigationcontroller

当我在我的代码中启用 ARC 时，仪器在我的代码中显示 pushviewcontroller 的内存泄漏，我真的很惊讶。以下是我的代码：

```
AddCallDetailsViewController *lAddCallDetailsViewController=[[AddCallDetailsViewController alloc]init];
lAddCallDetailsViewController.isAllDay = isAllDay;
lAddCallDetailsViewController.delegate = self;
lAddCallDetailsViewController.currentDayinCalender = curdate;
lAddCallDetailsViewController.isFromEditCall = YES;
[self.navigationController pushViewController:lAddCallDetailsViewController animated:YES]; 
```

以下是显示当时 100% 泄漏的仪器的回溯。

任何有助于消除此问题的帮助将不胜感激。

![在此处输入图像描述](../Images/bb97adcc5938bc0de0d6f52b3d260d43.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T05:45:42.990

只是尝试将“lAddCallDetailsViewController”的范围增加到类级别..在.h文件或.m文件中的私有范围。

```
AddCallDetailsViewController *lAddCallDetailsViewController; 
```

在 .m 文件中

```
lAddCallDetailsViewController=[[AddCallDetailsViewController alloc]init];
lAddCallDetailsViewController.isAllDay = isAllDay;
lAddCallDetailsViewController.delegate = self;
lAddCallDetailsViewController.currentDayinCalender = curdate;
lAddCallDetailsViewController.isFromEditCall = YES;
[self.navigationController pushViewController:lAddCallDetailsViewController animated:YES]; 
```

# javascript - 如何在 HTML 中获取字体大小

> ID：15195209
> 
> 赞同：71
> 
> 时间：2013-03-04T05:35:37.797
> 
> 标签：javascript, html, css, font-size

我在这里阅读了一个问题，试图获取文本的字体大小。他们给出的答案是使用测量方法获得像素大小。我想要做的就是获取字体大小值，以便我可以更改它。

例如：

```
var x = document.getElementById("foo").style.fontSize;
document.getElementById("foo").style.fontSize = x + 1; 
```

尽管这两个可以，但此示例不起作用

1.  `document.getElementById("foo").style.fontSize = "larger";`
2.  `document.getElementById("foo").style.fontSize = "smaller";`

唯一的问题是它只改变一次大小。

* * *

## 回答 #1

> 赞同：191
> 
> 时间：2013-03-04T05:48:05.583

仅仅抓住`style.fontSize`一个元素的 可能行不通。如果`font-size`由样式表定义，则会报告`""`（空字符串）。

您应该使用[window.getComputedStyle](https://developer.mozilla.org/en-US/docs/DOM/window.getComputedStyle)。

```
var el = document.getElementById('foo');
var style = window.getComputedStyle(el, null).getPropertyValue('font-size');
var fontSize = parseFloat(style); 
// now you have a proper float for the font size (yes, it can be a float, not just an integer)
el.style.fontSize = (fontSize + 1) + 'px'; 
```

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2013-03-04T05:53:44.623

如果您的元素没有 font-size 属性，您的代码将返回空字符串。您的元素不必具有 font-size 属性。元素可以从父元素继承属性。

在这种情况下，您需要找到计算出的字体大小。试试这个（不确定 IE）

```
var computedFontSize = window.getComputedStyle(document.getElementById("foo")).fontSize;

console.log(computedFontSize); 
```

变量 computedFontSize 将返回带有单位的字体大小。单位可以是px、em、%。您需要剥离单元以进行算术运算并分配新值。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-04T05:48:50.263

如果您使用的是 Jquery，则解决方案如下。

```
var fontSize = $("#foo").css("fontSize");
fontSize  = parseInt(fontSize) + 1 + "px";
$("#foo").css("fontSize", fontSize ); 
```

希望这会奏效。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-04T05:40:47.753

您从 fontSize 获得的值类似于“12px”或“1.5em”，因此向该字符串添加 1 将导致“12px1”或“1.5em1”。您可以采用字体大小并使用以下方法对其进行操作：

```
var fontSize = parseInt(x);
fontSize = fontSize + 1 + "px";
document.getElementById("foo").style.fontSize = fontSize; 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2017-02-13T21:30:55.447

1.  如果**html 元素**具有**内联样式**，则可以使用`.style.fontSize`获取**字体大小**！
2.  当**html 元素**没有**内联样式**时，您必须使用该`Window.getComputedStyle()`函数来获取**字体大小**！

***这是我的演示代码！***

```
function tureFunc() {
    alert(document.getElementById("fp").style.fontSize);
    console.log(`fontSize = ${document.getElementById("fp").style.fontSize}`);
}
function falseFunc() {
    alert( false ? document.getElementById("fh").style.fontSize : "check the consloe!");
    console.log(`fontSize = ${document.getElementById("fh").style.fontSize}`);
}
function getTheStyle(){
    let elem = document.getElementById("elem-container");
    let fontSize = window.getComputedStyle(elem,null).getPropertyValue("font-size");
    // font-size !=== fontSize
    console.log(`fontSize = ${fontSize}`);
	   alert(fontSize);
    document.getElementById("output").innerHTML = fontSize;
}
// getTheStyle();
```

```
<p id="fp" style="font-size:120%">
    This is a paragraph.
    <mark>inline style : <code>style="font-size:120%"</code></mark>
</p>
<button type="button" onclick="tureFunc()">Return fontSize</button>
<h3 id="fh">
    This is a H3\. <mark>browser defualt value</mark>
</h3>
<button type="button" onclick="falseFunc()">Not Return fontSize</button>
<div id="elem-container">
<mark>window.getComputedStyle & .getPropertyValue("font-size");</mark><br/>
<button type="button" onclick="getTheStyle()">Return font-size</button>
</div>
<div id="output"></div>
```

**参考链接：**

[https://developer.mozilla.org/en-US/docs/Web/API/Window/getComputedStyle](https://developer.mozilla.org/en-US/docs/Web/API/Window/getComputedStyle)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-08-01T11:12:54.787

试试这个，它肯定会帮助你确定字体大小

```
var elem = document.createElement('div');
var t=document.createTextNode('M')
elem.appendChild(t);
document.body.appendChild(elem);

var myfontSize = getStyle(elem,"fontSize")
alert(myfontSize)
document.body.removeChild(elem);

function getStyle(elem,prop){
if (elem.currentStyle) {
var res= elem.currentStyle.margin;
} else if (window.getComputedStyle) {
if (window.getComputedStyle.getPropertyValue){
var res= window.getComputedStyle(elem, null).getPropertyValue(prop)}
else{var res =window.getComputedStyle(elem)[prop] };
}
return res;
} 
```

我们可以进一步使用 getter 和 setter 来确定 fontsize 之后是否被任何代码更改

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-01-06T13:45:20.410

# 使其适用于每种情况

有时（例如使用媒体查询时）上述答案不起作用，无论如何，这里是如何实现它：

```
const fontSize = window.getComputedStyle(el).fontSize 
```

# ios - iPad3 视频没有声音

> ID：15195211
> 
> 赞同：0
> 
> 时间：2013-03-04T05:36:03.807
> 
> 标签：ios, xcode, ipad

我有 iPad3、iPad2、iPad1 + 所有模拟器。在应用程序中，我播放不同类型的视频：m4v、mov、mp4...

问题是：仅在 iPad3 iOS 6.0.1 上。视频播放没有声音！客户端在 iPad3 上也有同样的问题！

有什么想法有什么问题吗？

编辑：

```
if ( ![TVOutManager sharedInstance].tvoutWindow )
{
    player = [[MPMoviePlayerController alloc] initWithContentURL: URL];
    player.view.autoresizingMask = UIViewAutoresizingFlexibleWidth;
    [player setUseApplicationAudioSession:YES];

    self.view.autoresizesSubviews = YES;

    CGFloat originY = 0;
    if (!currentFile.isHideToolbar)
        originY = 44;

    CGRect f = self.view.bounds;
    f.origin.y = originY;
    f.size.height -= originY;
    [player.view setFrame: f];

    [self.view addSubview: player.view];
    [self.view bringSubviewToFront:self.toolbar];

    [player play];
}
else
{
    [[TVOutManager sharedInstance] startVideo:URL];

    ExternalVideoControlView* exView = [[ExternalVideoControlView alloc] initWithFrame:CGRectMake(0, 44, 1024, 724)];
    exView.player = [TVOutManager sharedInstance].player;
    [self.view addSubview:exView];
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T06:04:04.740

只需关闭 ipad 静音模式按钮.....该按钮位于 ipad 的左侧。检查一次。然后重新启动您的应用程序。现在音频将播放声音。

# r - 通过引用分配到加载的包数据集中

> ID：15195220
> 
> 赞同：18
> 
> 时间：2013-03-04T05:36:52.850
> 
> 标签：r, data.table

我正在创建一个包，该包使用 a`data.table`作为数据集并具有几个函数，这些函数使用`:=`.

我已经建立了一个简单的包来展示我的`problem`

```
 library(devtools)
 install_github('foo','mnel') 
```

它包含两个功能

```
foo <- function(x){
  x[, a := 1]
}
fooCall <- function(x){
  eval(substitute(x[, a :=1]),parent.frame(1))
} 
```

和一个数据集（不是延迟加载）`DT`，使用创建

```
DT <- data.table(b = 1:5)
save(DT, file = 'data/DT.rda') 
```

当我安装这个包时，我的理解是`foo(DT)`应该在`DT`.

```
 library(foo)
 data(DT)
 foo(DT)
   b a
1: 1 1
2: 2 1
3: 3 1
4: 4 1
5: 5 1

# However this has not assigned by reference within `DT`

DT
   b
1: 1
2: 2
3: 3
4: 4
5: 5 
```

如果我使用更多`correct`

```
tracmem(DT)
DT <- foo(DT)
# This works without copying
DT 
 b a
1: 1 1
2: 2 1
3: 3 1
4: 4 1
5: 5 1
untracemem(DT) 
```

如果我在函数内使用`eval`and`substitute`

```
fooCall(DT)
   b a
1: 1 1
2: 2 1
3: 3 1
4: 4 1
5: 5 1
# it does assign by reference 
DT
   b a
1: 1 1
2: 2 1
3: 3 1
4: 4 1
5: 5 1 
```

我应该坚持

1.  `DT <- foo(DT)`或`eval`/`substitute`路线，或
2.  有什么我不了解如何`data`加载数据集的地方，即使不是懒惰的？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-04T18:07:05.363

这与数据集或锁定无关——您可以简单地使用

```
DT<-unserialize(serialize(data.table(b = 1:5),NULL))
foo(DT)
DT 
```

我怀疑这与必须`data.table`在第一次访问时在对象内重新创建 extptr 的事实有关`DT`，但它是在副本上这样做的，因此它无法与全局环境中的原始对象共享修改.

* * *

[来自马修] 没错。

```
DT<-unserialize(serialize(data.table(b = 1:3),NULL))
DT
   b
1: 1
2: 2
3: 3
DT[,newcol:=42]
DT                 # Ok. DT rebound to new shallow copy (when direct)
   b newcol
1: 1     42
2: 2     42
3: 3     42

DT<-unserialize(serialize(data.table(b = 1:3),NULL))
foo(DT)
   b a
1: 1 1
2: 2 1
3: 3 1
DT                 # but not ok when via function foo()
   b
1: 1
2: 2
3: 3 
```

```
DT<-unserialize(serialize(data.table(b = 1:3),NULL))
alloc.col(DT)      # alloc.col needed first
   b
1: 1
2: 2
3: 3
foo(DT)
   b a
1: 1 1
2: 2 1
3: 3 1
DT                 # now it's ok
   b a
1: 1 1
2: 2 1
3: 3 1 
```

或者，不传入`DT`函数，直接引用即可。`data.table`像数据库一样使用：. 中的一些固定名称表`.GlobalEnv`。

```
DT <- unserialize(serialize(data.table(b = 1:5),NULL))
foo <- function() {
   DT[, newcol := 7]
}
foo()
   b newcol
1: 1      7
2: 2      7
3: 3      7
4: 4      7
5: 5      7
DT              # Unserialized data.table now over-allocated and updated ok.
   b newcol
1: 1      7
2: 2      7
3: 3      7
4: 4      7
5: 5      7 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-05T00:40:57.797

另一种解决方案是使用`inst/extdata`保存`rda`文件（其中将包含任意数量的 data.table 对象）并`DT.r`在`data`子目录中有一个文件

```
# get the environment from the call to `data()`
env <- get('envir', parent.frame(1))
# load the data
load(system.file('extdata','DT.rda', package= 'foo'), envir = env)
# overallocate (evaluating in correct environment)
if(require(data.table)){
# the contents of `DT.rda` are known, so write out in full
  evalq(alloc.col(DT), envir = env)

}
# clean up so `env` object not present in env environment after calling `data(DT)`
rm(list = c('env'), envir = env)

} 
```

# java - 设备令牌从一个设备到另一个设备是不同的

> ID：15195221
> 
> 赞同：3
> 
> 时间：2013-03-04T05:37:00.357
> 
> 标签：java, push-notification, apple-push-notifications

嗨，我对设备令牌有点困惑，所以任何人都可以指导我。我正在使用以下代码获取 DeviceToken。- (void)application:(UIApplication*)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData*)dt { }

上面的代码工作正常，它显示了 DeviceToken 数据，即 64 长度的数据。 **我的疑问是设备令牌与一台设备与另一台设备不同。**

如果一旦我们使用一个设备获得了 DeviceToken，那么相同的 DeviceToken 可以用于另一个设备。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T14:15:55.243

当然，每个设备的设备令牌都不同。它标识一个唯一的设备。它就像一个电话号码（实际上它甚至比电话号码更独特，因为多部电话可以拥有相同的电话号码）。如果相同，Apple Push Notifications 服务器如何知道将通知发送到哪个设备？

# deployment - 如何在具有大量客户端交互和本地数据的 AJAX 应用程序中进行持续部署？

> ID：15195223
> 
> 赞同：1
> 
> 时间：2013-03-04T05:37:09.623
> 
> 标签：deployment

我们有一个用 PHP 编写的应用程序。前端大量使用javascript。通常，对于需要重新加载页面的普通应用程序，持续部署并不是真正的问题，因为：

*   该应用程序可以使用构建标签进行部署：`myapp-4-3-2013-b1`、、`myapp-4-3-2013-b2`等。
*   当用户加载页面时（我们使用的是前端控制器模式），我们可以注入构建标签，并且文件会从应用目录加载正确的构建标签。
*   我们不需要将较旧的构建保留太久，因为随着较旧的请求完成，它们将移动到较新的构建标签。
*   数据库和用户数据不兼容的问题并不是很高，因为我们在人们的请求完成后将他们转移到较新的版本（稍后会详细介绍）。

现在，我们的应用程序的问题在于它大量使用 AJAX 来实现平滑的页面加载。此外，因为当人们浏览应用程序时根本没有页面刷新，所以人们可以将他们未保存的数据保留在他们当前的浏览器会话中，只要浏览器没有被刷新就可以重新访问它。

如果我们要实现持续部署，这会导致更大的问题：

*   我们可以将用户的构建标签保留在他们的会话中（在他们发出第一个请求时设置），并且仅在注销并再次登录后切换到更新的构建标签。这显然很糟糕，因为如果数据库架构发生变化或要写入磁盘的文件格式在较新的版本中发生变化，则无法协调这一点。

*   我们强制所有新请求使用新的构建标签，但是如果我们立即强制所有有会话的人使用新的构建标签，我们可能会更改客户端 javascript 并且会破坏很多事情。

显然，我们推送的每个构建都不会发生上述情况，希望不会发生很多，但我们希望构建一个万无一失的流程，以便可以部署通过我们测试的每个构建。同时，我们希望确保每个已部署和通过测试的构建不会无意中在运行会话的客户端中中断，从而导致一大堆问题。

我做了一些调查，谷歌所做的（至少在谷歌组中）是他们向客户端推送消息以刷新应用程序（浏览器窗口）。但是，在他们的情况下，所有未保存的客户端数据（如未保存的消息等）都将丢失。

鉴于现在使用 AJAX 和本地数据的应用程序非常普遍，有哪些更智能的方法可以处理这种情况，从而将对用户/客户的干扰降至最低？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:38:20.830

让我在阅读您的帖子之前先说一下我从未想过持续部署，但这听起来确实是个好主意！我有几个例子，这会很好。

不过，我对解决您的问题的想法是寻求您的第一个建议（更简洁），并绕过数据库架构更改，如下所示：

在您的应用程序中实现一个 API 服务层来处理数据库或文件访问，这在您的构建标签环境之外。例如，您有`myapp-4-3-2013-b1`, 和`db-services`文件夹。

`db-services`将通过一系列版本化服务提供与数据库的任何交互。例如，`registerNewUser2()`或`processOrder3()`。

当您需要更改数据库架构时，您将提供该服务的新版本并升级您的构建标签环境以查看新版本。您还将提供一个遗留服务来处理旧模式到新模式的升级。

例如，假设您像这样注册了新用户：

```
registerNewUser2(username, password, fullname) {
    writeToDB(username, password, fullname);
} 
```

您需要更新架构以添加用户的出生日期：

```
registerNewUser3(username, password, fullname, dateofbirth) {
    writeToDB(username, password, fullname, dateofbirth);
}

registerNewUser2(username, password, fullname) {
    registerNewUser3(username, password, fullname, NULL);
} 
```

新的构建标签将更改为 call `registerNewUser3()`，而之前的构建标签仍在使用`registerNewUser2()`。

所以旧的构建标签将继续工作，只是任何注册的新用户的出生日期都是空的。使用更新的构建标签时，出生日期会正确写入数据库。

`db-services`一旦推出新的构建标签，或者甚至在推出构建标签之前，您就需要立即更新。

一旦您确定每个人都在使用新版本，您就可以`registerNewUser2()`从下一个版本中删除`db-services`.

要确保您正确处理旧 API 和新 API 调用之间的转换，这将非常复杂，但如果您已经在处理持续部署，这可能是可行的。

# php - 通过 php 脚本更改 samba 服务器的密码

> ID：15195225
> 
> 赞同：0
> 
> 时间：2013-03-04T05:37:12.370
> 
> 标签：php, samba

我的团队负责人让我制作一个应用程序，用户可以通过该应用程序通过 php 脚本更改 samba 服务器的帐户密码。

请告诉我如何实现这个。

我在我的 php 脚本中使用以下命令通过 php 脚本更改 linux pc 的密码。

exec("echo $newpass | sudo -u root passwd --stdin $username 2>&1");

谢谢 ！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-20T13:52:50.067

您可以使用：

```
 $comando="printf \"$passwordViejo\n$passwordNuevo\n$passwordNuevo\n\" | sudo -u $user bash -c \"/usr/bin/smbpasswd -s\"";

    exec($comando, $salida, $estado); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-27T23:53:14.440

你可以试试这个：[Change Linux or UNIX system password using PHP script](http://www.cyberciti.biz/tips/change-linux-or-unix-system-password-using-php-script.html)

我还没有测试。

# jquery - jquery选项选择在chrome中不起作用

> ID：15195227
> 
> 赞同：7
> 
> 时间：2013-03-04T05:37:16.083
> 
> 标签：jquery, google-chrome, select, option

在获取需要选择的选项值后，我试图通过 jquery 自动选择选项。但是它在 Chrome 中不起作用。它在 Firefox 和 IE 9 中工作。为什么会这样？函数 fill 是填充值的函数。（函数res，只重置函数fill填充的值，对这个问题不重要）

```
function fill(thisValue) {
    $('#inputString').val(thisValue);
    $.post("get.php?op=category", {queryString: ""+thisValue+""}, function(data){
            if(data.length >0) {
                $("#mymenu option[value='"+data+"']").attr('selected', 'selected');
                $('#mymenu').attr("disabled","disabled");
            }
        });
    $.post("get.php?op=name", {queryString: ""+thisValue+""}, function(data){
            if(data.length >0) {
                $('#nameString').val(data);
                $('#nameString').attr("disabled","disabled");
            }
        });
    $.post("get.php?op=author", {queryString: ""+thisValue+""}, function(data){
            if(data.length >0) {
                $('#authorString').val(data);
                $('#authorString').attr("disabled","disabled");                 
            }
        });
    $.post("get.php?op=publisher", {queryString: ""+thisValue+""}, function(data){
            if(data.length >0) {
                $('#publisherString').val(data);
                $('#publisherString').attr("disabled","disabled");
            }
        });

    setTimeout("$('#suggestions').hide();", 200);
}

function res(inputString) {
$('#publisherString').attr("disabled", false);
$('#publisherString').val('');
$('#nameString').attr("disabled",false);
$('#nameString').val('');
$('#authorString').attr("disabled",false);
$('#authorString').val('');
$('#mymenu').attr("disabled",false);
$('#mymenu option').attr('selected', false);
} 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-04T06:06:07.830

您可以使用[val()](http://api.jquery.com/val/)设置`select`元素的值。

改变

```
$("#mymenu option[value='"+data+"']").attr('selected', 'selected'); 
```

到

```
$("#mymenu").val(data); 
```

[演示小提琴](http://jsfiddle.net/arunpjohny/9MkFB/)

另一种解决方案是使用[prop()](http://api.jquery.com/prop/)。[attr()](http://api.jquery.com/attr/)方法用于设置元素的属性值而不是设置属性。

```
$('#mymenu option[value="5"]').prop('selected', true) 
```

您可以阅读有关[attr 与 prop](https://stackoverflow.com/questions/13247058/jquery-attr-vs-prop)的更多信息，以及[jQuery 1.6 发行说明](http://blog.jquery.com/2011/05/03/jquery-16-released/)

[演示小提琴](http://jsfiddle.net/arunpjohny/9MkFB/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-10T14:28:25.010

当您在下面的语句中使用带有拼写错误的数据时，看起来 val 不起作用。我花了一段时间才注意到。

```
$("#mymenu").val(data); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-10-29T18:08:42.560

这是我刚刚注意到的关于您在选项标签中设置的名称的一些内容。我将以我的代码为例。你看到下面写着蓝色和黑色的地方了吗？

```
<option value="b">Blue</option>
<option value="k">Black</option> 
```

假设当前选择了蓝色。如果您按键盘上的字母“B”（区分大小写无关紧要），无论如何它都不会改变。即使您有一个应该设置值的 onkeydown 事件也是如此，例如：

```
$(function () {
    // Set the value on key down
    $("select[id=stoneColor1]").on("keydown", function(e) {

        var key = String.fromCharCode(e.keyCode);
        for (var i=0; i<stoneColorOptions.length; i++) {
            if (stoneColorOptions[i].keyPress == key) {
                $("#stoneColor1").val(key.toLowerCase());
                break;
            }
        }
    });
}); 
```

回想一下，如果我有，上面的代码将不起作用

```
<option value="b">Blue</option>
<option value="k">Black</option> 
```

但是，当我有

```
<option value="b">(B) Blue</option>
<option value="k">(K) Black</option> 
```

所以，是的，故事的寓意：似乎您还必须考虑选项名称中的第一个字母。

# download - wget 从检索到的文件中下载图像

> ID：15195231
> 
> 赞同：0
> 
> 时间：2013-03-04T05:37:49.760
> 
> 标签：download, wget

我有一个需要检索的文件，然后我需要浏览该文件并下载所有列出的图像。格式是 xml，但我不想使用 xml 解析器。

当我使用

```
sudo wget --restrict-file-names=windows -nH -nd -r -i -P images \ -A jpeg,jpg,gif,png https://url.com/api/ojgnvhy75hGvcf36dnJO0947bsh62gbs?_=1361842359357 

```

我下载了 xml 文件，但我需要该文件中引用的图像。

我在这里做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T00:39:38.103

我最终得到了以下代码，获取 xml 文件并将其保存为文本，然后使用 sed 从文本文件中获取链接并将其写入另一个文件，然后在该文件上使用 wget 下载图像。

```
#!/bin/破折号

wget -O xml.txt 'https://url_to_download_from'
链接=$(sed -n "/image>/s/^ .\([^>]*\)<\/image>.*/\1/gpw links.txt" xml.txt)
wget -N -P 图片 -A png -i $links

```

可悲的是，这会导致一堆不是图像的文件，即使我只请求图像。

此脚本完成后，我运行以下命令来清理文件夹。

```
cd 图片
shopt -s extglob nocaseglob
rm !(*.png)

```

# php - 正则表达式在特定单词之前获取单词的第一个字母（php）

> ID：15195233
> 
> 赞同：1
> 
> 时间：2013-03-04T05:37:52.930
> 
> 标签：php, regex

我在php中有以下字符串：

> $text = "这个价格不包括增值税和等等等等等等......";

和正则表达式的开始：

```
preg_match("/(--not sure what goes here--)(?: vat)/", $text, $vatStatus); 
```

基本上我想在vat之前得到单词的第一个字母（在这种情况下是字母'e'）。

提前感谢您的帮助。

PS。该解决方案需要专门用于正则表达式，而不是任何其他 PHP 函数。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T05:46:34.553

```
/\b(\w)\w*?(?: vat)/ 
```

这应该捕获您的第一个字母。

# python - Enter/Return command in Shell script

> ID：15195237
> 
> 赞同：0
> 
> 时间：2013-03-04T05:38:03.730
> 
> 标签：python, shell

I am trying to issue an external shell command via python script. The external command prompts user to type 'Y' and hit enter to proceed further. How do I write the command in python script in a loop so that it does not prompts the user in every loop. I can grab a coffee and step out instead of sitting in front of the PC and hit Y every time I see the prompt.

My python script loops like

```
<for loop:>
    os.system(<External Command>) 
```

I tried echoing "Y\n" but did not work.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T05:50:28.630

使用`yes`命令，下面的代码应该做你想做的事：

```
<for loop:>
    os.system('yes Y | <external command>') 
```

更多信息[在这里](http://linux.die.net/man/1/yes)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T05:43:53.143

查看[pexpect](http://www.noah.org/python/pexpect/)。您可以编写一个脚本来监视命令的输出，并做出适当的响应。

# c - function with variable arguments in kernel mode

> ID：15195239
> 
> 赞同：0
> 
> 时间：2013-03-04T05:38:20.403
> 
> 标签：c, windows, kernel, printf

I am trying to implement function with variable params in kernel mode.

call to function:

**a,b,c** are integer variables

```
WriteLogFile("test of trace logs=%d =%d =%d \n",a,b,c);

Function:

NTSTATUS WriteLogFile(const char* str,...)

{

va_list vl;

va_start(vl,str);

RtlStringCbPrintfA(buffer, sizeof(buffer), str,vl);

then i am using zwwriteffile to write usermode text file.

va_end(vl);

} 
```

**output:**

> test of trace logs=1953719889=-1681971698 =1953719668

I am getting some garbage values. why?

# nsis - Compiling and executing an nsi file from another nsi file using nsis code

> ID：15195241
> 
> 赞同：1
> 
> 时间：2013-03-04T05:38:42.210
> 
> 标签：nsis

Suppose I have two nsi files `demo.nsi` (compiles to `demo.exe`) and `setup.nsi`. (compiles to `setup.exe`). I want to use `demo.nsi` inside setup.nsi in such a way that when `setup.exe` is executed, it compiles the `demo.nsi`, and then executes the `demo.exe`. Just want to know if that is possible to do in nsis ? Thanks.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T08:16:09.300

当然，它可能来自例如任何批处理文件：

*   您需要调用`ExecWait`编译`makensis.exe`部分
*   你可以调用最终的可执行文件，`ExecWait`或者`Exec`取决于你是否需要等待结果。

请注意，如果您想在任何主机中执行此操作，而不仅仅是您准备设置的主机，您必须将 NSIS 分发嵌入到您的设置中才能调用`makensis.exe`以及所有可能需要的包含文件（包括文件、插件和其他资源）。

# oracle - Does a oracle query performance depends on DB users?

> ID：15195243
> 
> 赞同：1
> 
> 时间：2013-03-04T05:38:52.673
> 
> 标签：oracle, oracle10g, database-performance

I have two users - user1,user2.

Both have been given a Grant of select on a view say view1 created by some other user say manager1.

Now user1 and user2 both have created synonym on the manager1's view so that they don't require to query using `manager1.view_name` but just using `view name`.

```
CREATE OR REPLACE SYNONYM user1.view_name1 FOR manager1.view_name1; 
```

Now My question is the same query is taking much longer time when executed under user1 but is taking less than a second when executed under user2.

I tried different combinations and different order of execution to avoid caching issues. But in vain. Please help.

Taking around 10 seconds under user1\. :(

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T12:04:39.777

相同的 SQL 语句（完全相同的文本）可以有不同的执行计划有多种原因。这可能是 Oracle 错误，也可能是“环境”的差异。例如占位符的不同数据类型、不同的 NLS_ 参数（排序、区分大小写）。

# html - 悬停和活动属性在桌子上不起作用

> ID：15195245
> 
> 赞同：0
> 
> 时间：2013-03-04T05:38:59.217
> 
> 标签：html, css, hover, css-tables, pseudo-class

我在正在处理的站点中有表格，我已将悬停属性和活动背景颜色属性设置为，`transparent`但直到悬停时显示黑色。我尝试了一切来覆盖它，包括复制 css 路径。即使在萤火虫中我也找不到它。

```
.tableizer-table tr:hover, .tableizer-table td:hover, .tableizer-table th:hover,
.tableizer-table tr:active
{ background-color: transparent!important;}

.table.tableizer-table  tbody tr:hover td,
.table.tableizer-table  tbody tr:hover th {
    background-color: transparent!important;
} 
```

你可以在这里找到表格：`http://95.142.161.62/design/node/32`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T05:43:23.127

如果透明度不起作用，请改用。

```
background-color: #111;
   filter: alpha(opacity=30);
   filter: progid:DXImageTransform.Microsoft.Alpha(opacity=30);
   opacity:0.3;
   -moz-opacity: 0.30; 
   zoom: 1; 
```

# c++ - How to change background of Text block in QPlainTextEdit

> ID：15195246
> 
> 赞同：0
> 
> 时间：2013-03-04T05:39:06.393
> 
> 标签：c++, qt

Given a QTextBlock retrieved from QPlainTextEdit, I want to change background of the text in that block. I know how to do this with the help of textCursor() but in this case textCursor could be somewhere else. I am traversing through the file text line by line and would like to change background of the current line irrespective of the cursor position. Please let me know if it can be done.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T07:16:39.107

将光标移动到要标记的行有什么问题？如果需要，您可以保存旧的光标位置。

```
int oldPos = edit->textCursor().position();

QTextCursor cursor = edit->textCursor();
int oldPos = cursor.position();

int linePos = // get the line position

cursor.setPosition(linePos);
cursor.select(QTextCursor::LineUnderCursor);
cursor.setCharFormat(format);

cursor.setPosition(oldPos);
edit->setTextCursor(cursor); 
```

# asp.net - Get selected li

> ID：15195248
> 
> 赞同：1
> 
> 时间：2013-03-04T05:39:20.187
> 
> 标签：asp.net, css, html-lists

hi i have master page and menu like this

```
<ul id="ulhotel" runat="server">
            <li class="userprof active"><a href="AddAdminDetail.aspx">
                <p class="activenav">
                    <span class="entypo activenav">+</span>User Profile</p>
            </a></li>
            <li class="hoteldetails"><a href="AddHotelDetails.aspx">
                <p>
                    <span class="entypo">j</span>Hotel Details</p>
            </a></li>
            <li class="hoteldirectory"><a href="AddHotelDirectory.aspx">
                <p>
                    <span class="entypo">l</span>Hotel Directory</p>
            </a></li>
            <li class="appconfig"><a href="Appconfiguration.aspx">
                <p>
                    <span class="entypo">@</span>App Configurate</p>
            </a></li>
            <li class="featoffers"><a href="OfferDashboard.aspx">
                <p>
                    <span class="entypo">C</span>Offer Dashboard</p>
            </a></li>
        </ul> 
```

now right now User Profile Is seleted now when i Click HotelDetail link I want to change it same as User Profile

i am trying this but its not working

```
 $('#ulhotel li').click(function() 
```

Thanks in advance.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T05:44:16.873

你有

```
AddAdminDetail.aspx
AddHotelDetails.aspx
AddHotelDirectory.aspx
Appconfiguration.aspx
OfferDashboard.aspx 
```

五个不同的页面，因此您还可以将`active`类添加到相关页面上的适当`li`标签。

**评论回复**

```
$('#ulhotel li').on('click',function(e) 
```

然后`li` 在页面重定向时为 clicked now 设置 cookie 使用先前设置的 cookie 并将活动类添加到适当`li`的 .

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:08:25.937

这是由于每次加载母版页时单击链接。

您必须使用脚本将 AddHotelDetails.aspx 页面中的类更改为活动的相关 li。

在 AddHotelDetails.aspx 页面中，您可以使用

```
 $(document).ready(function(){

   $('#ulhotel li').removeClass("active");

  $('#ulhotel li.hoteldetails').addClass("active");
  }); 
```

希望这对您有所帮助。

# css - 当我们选择其子菜单时如何设置图像

> ID：15195252
> 
> 赞同：0
> 
> 时间：2013-03-04T05:39:34.827
> 
> 标签：css

我有一个创建菜单的任务。在这里，我想在选择其子菜单时将箭头图像设置为菜单。我用这个图像做了一个例子。但是我想从那个onload中删除那个图像，并在我们选择它的子菜单时显示它。只应显示选定的菜单图像。

我的css文件是

```
 #menu {
     font-family: Arial;
     font-size: 12px;
     //background: #F8F8F8;
 }
 #menu > li > a {
     font-family: Verdana, Arial, sans-serif;
     font-style: normal;
     color:#787878;
     font-weight: bold;
 }
 #menu > li > a:hover {
     color: #000;
 }
 #menu ul {
     background: none repeat scroll 0 0 #FFFFFF;
    border-radius: 0 0 5px 5px;
    margin-top: 1px;
 }
 #menu ul li a {
     color: #000;
 }
 #menu ul li a:hover {
     background: #E0E0E0;
 }
 .logout {
     float:right;
     width:300px;
 }
 .title {
     float:left;
     width:300px;
 }
 #footer {
     width:100%;
     height:100px;
     float:left;
 }
 .subchild-list {
     margin:0;

     position: absolute !important;
     top:0;
     right:-87px;
     //border-color: #ccc #FFFFFF #ccc #FFFFFF;
 }
 .child-list ul {
     display: none !important;
     position: absolute !important;
     z-index: 999 !important;
 }
 .child-list li {
     position:relative !important;

 }
 .child-list li:hover ul {
     display: block !important;
 }

.child-list li{

    border-left:1px solid #C0C0C0; 
    border-right:1px solid #C0C0C0;
}

.child-list ul{
    border-top:1px solid #C0C0C0; 
    border-bottom:5px solid #C0C0C0; 
}

.child-list{
    border-bottom:5px solid #C0C0C0; 
}
.nav-subchild
{
    border-color: #ccc #FFFFFF #ccc #FFFFFF;
}
#nav > ul > li:hover {
 border-color: #ccc #ccc #FFFFFF;
 border-style: solid;
 border-width: 1px;
 padding-bottom: 0;
 border-radius:1px;
 }

#menu > li {
border-bottom:#ccc;
border-left: 1px solid #fff;
border-right: 1px solid #fff;
border-top: 1px solid #fff;
}
#nav ul li:hover ul { margin-left:-1px; } #nav ul li ul:hover { margin-left:-1px; }
ul li ul li 
{
    width: 180px;
}
.subchild-list {
    margin:0;
    right:-183px;
    position: absolute !important;
    top:0;
}
.hassub {
    background: url('arrow.gif') right no-repeat;
}
#menu li:hover > a {
    color: #000;
        font-weight:bold;
} 
```

我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T05:46:33.847

现在只需**定义这个 css**

```
#menu .child-list > li:hover > a {
background: #E0E0E0 url(http://www.coeliac.org.uk/sites/coeliac.org.uk/themes/coeliac/images/icon_arrow_small_right.gif) right no-repeat;
} 
```

**[现场演示](http://jsfiddle.net/aALbE/9/)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T06:19:32.867

看看这个..

```
#menu ul li a:hover {
  background:url(http://www.coeliac.org.uk/sites/coeliac.org.uk/themes/coeliac/images/icon_arrow_small_right.gif) right no-repeat #E0E0E0;
     } 
```

[现场演示](http://jsfiddle.net/aALbE/14/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T05:54:11.050

这是几个变化

```
#menu ul li a:hover {
    // background: #E0E0E0;
     background:url(http://www.coeliac.org.uk/sites/coeliac.org.uk/themes/coeliac/images/icon_arrow_small_right.gif) right no-repeat;
 }

.hassub {
 //   background: //url(http://www.coeliac.org.uk/sites/coeliac.org.uk/themes/coeliac/images/i//con_arrow_small_right.gif) right no-repeat;
} 
```

[现场演示](http://jsfiddle.net/aALbE/3/)

# java - 未报告的异常 javax.script.ScriptException; 必须被抓住或宣布被扔掉

> ID：15195253
> 
> 赞同：0
> 
> 时间：2013-03-04T05:39:36.980
> 
> 标签：java, events, action

这是一个计算器应用程序。当我尝试编译时，会出现以下消息`unreported exception javax.script.ScriptException; must be caught or declared to be thrown`

我有一种感觉，这是因为课程设置为`ActionEvent`. 我是学生，所以我还在学习:)

有任何想法吗？谢谢

\

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T05:43:30.353

在你的这个`actionPerformed`方法中，这条线`se.eval(createEquasion);`正在抛出`ScriptException`。你必须处理这个 Excpetion。

添加以下代码以编译类

```
Object result = null;
            try {
                result = se.eval(createEquasion);
            } catch (ScriptException e1) {
                // TODO Auto-generated catch block
                e1.printStackTrace();
            }
            if (result != null)
                finalAnswer = result.toString(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T05:46:05.040

`ScriptEngine.html#eval`可以扔两个`Exception`

1.  空指针异常
2.  脚本异常

`NullPointerException`是 RuntimeException 所以编译器不会强迫你处理这个。`ScriptException`但是是检查异常，所以编译器会强迫你处理这个`Exception`，要么将代码块插入 try catch 要么抛出它。

`try-catch`堵塞

```
if(source==buteq){
       try{
            ScriptEngineManager manager = new ScriptEngineManager();
            ScriptEngine se = manager.getEngineByName("JavaScript");        
            Object result = se.eval(createEquasion);
            finalAnswer = result.toString();
            answer.setText(finalAnswer);
       }catch(ScriptException se){
            ...
       }
} 
```

`ScriptException` 类声明 -

`public class ScriptException extends Exception{...}`

请查找更多信息 -

*   [已检查异常 ScriptException](http://docs.oracle.com/javase/6/docs/api/javax/script/ScriptException.html)
*   [ScriptEngine.html#eval(java.lang.String)](http://docs.oracle.com/javase/6/docs/api/javax/script/ScriptEngineManager.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T06:04:30.550

您可以执行以下操作：

```
// .. other imports
import javax.script.ScriptException;

// .. the rest of your code
if(source==buteq){
  try{
     ScriptEngineManager manager = new ScriptEngineManager();
     ScriptEngine se = manager.getEngineByName("JavaScript");        
     Object result = se.eval(createEquasion);
     finalAnswer = result.toString();
     answer.setText(finalAnswer);
  catch(ScriptEngineManager e) {
     // handle exception
     System.err.println("Error evaluating the script: " + e.getMessage());
  }
} 
```

如果您正在处理方法之外的任何类型的异常，您可以`throws`在方法签名上添加声明：

```
// .. other imports
import javax.script.ScriptException;

// your method signature
public void actionPerformed (ActionEvent e) throws ScriptException {

// ...

ScriptEngineManager manager = new ScriptEngineManager();
ScriptEngine se = manager.getEngineByName("JavaScript");        
Object result = se.eval(createEquasion);
finalAnswer = result.toString();
answer.setText(finalAnswer);

// ... 
```

这应该是它。

# c# - MVC DropDownListfor() 基础知识

> ID：15195256
> 
> 赞同：10
> 
> 时间：2013-03-04T05:40:00.240
> 
> 标签：c#, .net, razor, asp.net-mvc-4

我有一个由员工信息组成的模型。在我的模型中，有一个名为 City 的属性，它定义了他居住的 Employee 所在的城市。属性如下图

```
 public string City{get;set;} 
```

现在我有一个视图，其中包含一个将由员工填写以进行注册的表格。我想使用下拉列表来选择城市。我认为下面的代码将用于我发现的下拉菜单。我的模型名称是员工。

```
 @Html.DropDownListFor(m=>m.City,new SelectList()) 
```

请告诉我“有没有什么方法可以直接在 SelectList() 方法中定义下拉列表的选项，就像 html 中的 ...？”

如果不是，我应该在哪里定义这个下拉列表的类，在哪里调用和在哪里渲染。我不知道在哪里定义值？我很困惑，因为这是 mvc，我们必须单独关注，我认为我们不能在任何地方定义任何东西？

提前致谢..

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-04T05:49:01.590

你至少有两个选择：

1.) 将列表、数组或任何其他类型的城市集合添加到您的模型中

2.) 将 SelectList 属性添加到您的模型

选项 1 可以是一个简单的字符串数组，或者可以是一个`IEnumerable`对象`City`。然后，您需要将此属性转换为`SelectListItem`视图中的对象集合作为`DropDownList`绑定的一部分。

选项 2 的优点是能够直接绑定到`DropDownList`，但要求您在操作方法中构造列表。

那么最终结果是一样的，这只是你想对 SoC 有多迂腐的问题。

例如（假设您添加了一个名为 的属性`Cities`）：

```
@Html.DropDownListFor(m=>m.City, Model.Cities.Select(city => new SelectListItem()
{
    Text = city,
    Value = city,
    Selected = city == Model.City
}) 
```

**编辑：**

要回答您的评论，我必须做出一些假设。我假设您有一个名为`EmployeeModel`. 该模型有一个属性，`City`即纯字符串。所以，这是你的模型的一部分，我认为它是：

```
public class EmployeeModel
{
    public string City { get; set; }

    // ... other properties ...
} 
```

因此，如果您需要添加一个属性以绑定到您的下拉列表，您可以执行以下操作之一：

```
public class EmployeeModel
{
    public string City { get; set; }

    public IEnumerable<string> Cities { get; set; }

    // ... other properties ...
} 
```

或者

```
public class EmployeeModel
{
    public string City { get; set; }

    public SelectList Cities { get; set; }

    // ... other properties ...
} 
```

这个新属性将包含您允许用户从中选择的城市列表。

如果选择第一个选项，则从数据存储中加载 IEnumerable，然后在视图中使用上面的第一个示例，该示例使用 LINQ 将`Cities`属性中的每个字符串投影到新`SelectListItem`对象中。

如果您使用第二个选项，`SelectList`则在将模型传递给视图之前在操作中构建一个。这并不是很困难，因为该类提供了一个构造函数，它接受一个`IEnumerable`（您的城市列表）和“选定值”，这将是`City`属性（参见[http://msdn.microsoft.com/en-us/库/dd460123%28v=vs.108%29.aspx](http://msdn.microsoft.com/en-us/library/dd460123%28v=vs.108%29.aspx)）。您的代码将类似于：

```
model.Cities = new SelectList(GetCities(), model.City); 
```

当然，这假设您有一个辅助方法 ( `GetCities()`) 可以从存储城市的任何地方加载它们。然后你的视图会是这样的：

```
@Html.DropDownListFor(m=>m.City, model.Cities) 
```

视图引擎然后使用这些`SelectListItem`s 来构建`<select>`元素及其`<option>`元素。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-04T12:13:47.673

你可以在你的模型中有这个，它很快就实现了，虽然我不推荐它：

```
public class Place
{
    public string City{get;set;}
    public SelectListItem[] Cities()
    {
        return new SelectListItem[2] { new SelectListItem() { Text = "London" }, new SelectListItem() { Text = "New York" } };
    }
} 
```

...和你的看法

```
@Html.DropDownListFor(m => m.City, Model.Cities()) 
```

我认为最好的地方是这样的（但有点复杂）是你自己的`htmlhelper`，用法可能看起来像：

```
@html.CityDropDownFor(m => m.City) 
```

你可以很好地缓存城市，它可以让数据和 UI 工作脱离你的模型。

如果您想了解有关创建自己的助手的更多信息，我建议您阅读一下[阅读]。[1](http://www.asp.net/mvc/tutorials/older-versions/views/creating-custom-html-helpers-cs)

# java - iText monospaced fonts in html view with bold, italic from css style

> ID：15195257
> 
> 赞同：1
> 
> 时间：2013-03-04T05:40:08.940
> 
> 标签：java, pdf-generation, itext

I am using html to generate PDF document, since its an EMR record I have to use Monospaced fonts.

PDF is getting generated fine, but css style for bold and italics are getting ignored, as I am using single .otf file for font hence no bold and italics.

I was wondering how to enable the same. Below are the code snippets.

**Font Factory:**

```
public static class MyFontFactory implements FontProvider,Serializable {
        public Font getFont(String fontname,
                String encoding, boolean embedded, float size,
                int style, BaseColor color) {
                BaseFont bf3 = null;
            try {
                bf3 = BaseFont.createFont("Inconsolata.otf",BaseFont.CP1252, BaseFont.EMBEDDED);
            } catch (Exception e) {
                e.printStackTrace();
            } 

            return new Font(bf3, 6);
        }

        public boolean isRegistered(String fontname) {
            return false;
        }
    } 
```

**PDF Generation Code:**

```
public void createPdf(Object object) throws Exception, DocumentException{
        // step 1
        Document document = new Document();
        // step 2
        PdfWriter.getInstance(document, new FileOutputStream(new File("test.pdf")));
        // step 3
        document.open();
       // create extra properties
        HashMap<String,Object> map = new HashMap<String, Object>();
        map.put(HTMLWorker.FONT_PROVIDER, new MyFontFactory());
        // step 4
        String snippet;
        // create the snippet
        snippet = createHtmlSnippet(object);
        Map<Object,Object> model = new HashMap<Object,Object>();
        model.put("object", object);

        StyleSheet css = new StyleSheet();
        Map<String, String> stylemap = new HashMap<String, String>();
        stylemap.put("font-style", "italic");
        stylemap.put("font-size", "small");
        stylemap.put("font-weight", "bold");
        css.loadStyle("header",(HashMap<String, String>) stylemap);
        css.loadStyle("strongClass", "text-decoration", "underline");
        List<Element> objects = HTMLWorker.parseToList(new StringReader(snippet), css, map);

       for (Element element : objects)
              document.add(element);
        // step 5
        document.close();
    } 
```

> In the above code css supplied does not produce any effect on output as I mentioned due to single font defined, if I want to have bold and italics how can that be achieved?

Really appreciate if anyone provides pointers or help regarding same.

Thanks.

***Note: If I remove Monospaced fonts css gets applied.***

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T11:48:06.897

您将字体系列与字体混淆了。

Inconsolata 是一个由不同字体组成的字体系列：

*   inconsolata.ttf 中定义的 Inconsolata 常规
*   inconsolata-Bold.ttf 中定义的 Inconsolata 粗体

请参阅[http://code.google.com/p/googlefontdirectory/source/browse/ofl/inconsolata/](http://code.google.com/p/googlefontdirectory/source/browse/ofl/inconsolata/)

我不知道任何粗体、斜体或粗体斜体版本，因为我认为[“Inconsolata 没有粗体或斜体”。](http://mark-story.com/posts/view/my-quest-for-a-new-programming-typeface)如果没有其他样式的字体程序，您不应该期望 iText 支持这些样式 (*)。

然后我找到了一个带有 TTF 粗体字体的存储库：[http ://code.google.com/p/googlefontdirectory/source/browse/ofl/inconsolata/](http://code.google.com/p/googlefontdirectory/source/browse/ofl/inconsolata/)

搜索 StackOverflow 我在 StackOverflow 上阅读了 MacVim 中关于[Inconsolata Italic](https://stackoverflow.com/questions/9917434/inconsolata-italic-in-macvim)的问题；不幸的是，这些字体不能在 iText 中使用。

(*) 当字体不支持粗体或斜体时，iText 可以通过更改渲染模式和/或倾斜来模仿这些样式。但是，通过选择另一种等宽字体，您将获得更好的结果。

# c# - Displaying mutiple instances of an image in a 2d array

> ID：15195258
> 
> 赞同：0
> 
> 时间：2013-03-04T05:40:15.783
> 
> 标签：c#, arrays, image

This is what i have decided to start with a winForm & 1 button called btnCreate and I have 2 images 35px X 35px floor.bmp and wall.bmp

```
public partial class Form1 : Form
{
    int x;
    int y;
    int[] Row0 = new int[10] { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 };
    int[] Row1 = new int[10] { 1, 1, 1, 1, 0, 0, 1, 1, 0, 1 };
    int[] Row2 = new int[10] { 1, 1, 0, 0, 0, 0, 1, 1, 0, 1 };
    int[] Row3 = new int[10] { 1, 1, 1, 1, 0, 1, 1, 1, 0, 1 };
    int[] Row4 = new int[10] { 1, 0, 0, 1, 0, 1, 0, 0, 0, 1 };
    int[] Row5 = new int[10] { 1, 0, 0, 1, 0, 0, 0, 1, 0, 1 };
    int[] Row6 = new int[10] { 1, 1, 0, 0, 0, 0, 1, 1, 0, 1 };
    int[] Row7 = new int[10] { 1, 1, 1, 1, 0, 0, 1, 1, 0, 1 };
    int[] Row8 = new int[10] { 1, 1, 0, 0, 0, 0, 1, 1, 0, 1 };
    int[] Row9 = new int[10] { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 };
    int[,] LevelA = new int[10,10];

    private void Form1_Load(object sender, EventArgs e)
    {
        for (x = 0; x < 10; x++)
        {
            //load all arrays 
            LevelA[0, x] = Row0[x];
            LevelA[1, x] = Row1[x];
            LevelA[2, x] = Row2[x];
            LevelA[3, x] = Row3[x];
            LevelA[4, x] = Row4[x];
            LevelA[5, x] = Row5[x];
            LevelA[6, x] = Row6[x];
            LevelA[7, x] = Row7[x];
            LevelA[8, x] = Row8[x];
            LevelA[9, x] = Row9[x];
        }
    }

    private void btnCreate_Click(object sender, EventArgs e)
    {
        for (int X = 0; X < 10; X++)
        {
            for (int Y = 0; Y < 10; Y++)
            {
                //the following is the idea of what I would like to accomplish
                //if (LevelA[Y,X] == 0)
                //{
                    //Bitmap myBmp = new Bitmap(Image.FromFile(@"C:\My Documents\floor2.bmp"));
                    //myBmp.Top == Y * 35;
                    //myBmp.left == X * 35;
                //}
            }
        }
    }
} 
```

Would the CODE above work as I intend it too >? or would the end of the for-loop only display the last tile as it would keep replacing(destroying) the previous one with a new one? In witch case I would need to have 100 myBmp's for a 10 by 10 grid?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:54:16.187

`Bitmap`您可以通过创建对象来获取图像文件的位图。

```
 Bitmap bmp = new Bitmap(Image.FromFile(@"D:\MyImageFile.bmp")); 
```

只要您掌握了`Graphics`实例，就可以将其放置或绘制在任何地方。[你可以在这里](http://msdn.microsoft.com/en-us/library/5y289054%28v=vs.100%29.aspx)找到一个简单的例子。

# android - Google-plus：无法加载人员

> ID：15195264
> 
> 赞同：7
> 
> 时间：2013-03-04T05:41:05.670
> 
> 标签：android, google-plus

我想在我的应用程序中登录 Google Plus。我可以连接但无法获取当前用户的个人资料信息

```
@Override
public void onConnected() {

    String accountName = mPlusClient.getAccountName();

    mPlusClient.loadPerson(this, "me");
}

@Override
public void onPersonLoaded(ConnectionResult status, Person person) {

    Log.d("onPersonLoaded - ConnectionResult", "" + status);
    Log.d("onPersonLoaded - person", "" + person);
    if (status.getErrorCode() == ConnectionResult.SUCCESS) {
        Log.d(TAG, "Display Name: " + person.getDisplayName());
    }
} 
```

我可以在`onConnected`但`onPersonLoaded`给出`null`的帐户名称`person`

**日志显示：**

```
onPersonLoaded - ConnectionResult(29861): ConnectionResult{statusCode=NETWORK_ERROR, resolution=null}
onPersonLoaded - person(29861): null 
```

从[这里的文档](http://developer.android.com/reference/com/google/android/gms/common/ConnectionResult.html#NETWORK_ERROR)

> 公共静态最终 int NETWORK_ERROR
> 
> 发生网络错误。重试应该可以解决问题。
> 
> 常数值：7 (0x00000007)

但是无论我重试多少次，我都会得到同样的错误。这些是我使用的权限：

```
<uses-permission android:name="android.permission.GET_ACCOUNTS" />
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.AUTHENTICATE_ACCOUNTS" />
<uses-permission android:name="android.permission.READ_PROFILE" /> 
```

我不知道如何解决这个问题，并且一直在寻找过去 2 个小时。任何帮助都非常感谢，谢谢。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-14T13:21:21.510

最后我找到了答案。:)

`loadPerson()`并且`loadPeople()`只会在使用有效密钥签名的导出 APK 中返回您预期的数据。这里有效是指它应该与 SHAI 和您的[API 密钥控制台](https://code.google.com/apis/console/)的其他规范相匹配。

[遵循示例代码](https://developers.google.com/+/mobile/android/people)时您可能会错过的另一件事是在 PlusClient 构造函数中定义范围，例如

```
mPlusClient = new PlusClient.Builder(this, this, this).setScopes(Scopes.PLUS_LOGIN)
                .setVisibleActivities("http://schemas.google.com/AddActivity").build(); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-14T11:47:32.720

```
private class connectAsyncTask extends AsyncTask<String, Void, String> {

    String sAccessToken = null;

    @Override
    protected void onPostExecute(String info) {

        Log.d("JSONData = ", "" + info);
        //This contains all the data you wanted.
    }

    @Override
    protected String doInBackground(String... params) {

        HttpURLConnection urlConnection = null;
        try {
            URL url = new URL(
                    "https://www.googleapis.com/oauth2/v1/userinfo");
            sAccessToken = GoogleAuthUtil
                    .getToken(
                            MainActivity.this,
                            mPlusClient.getAccountName() + "",
                            "oauth2:"
                                    + Scopes.PLUS_PROFILE
                                    + " https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email");

            //This is probably not the right way to do.
            //What I am doing here is, get an AccessToken, invalidate it and get a new
            //AccessToken again. Because I couldn't find a way to check whether the 
            //AccessToken is expired or not.

            GoogleAuthUtil.invalidateToken(MainActivity.this, sAccessToken);

            sAccessToken = GoogleAuthUtil
                    .getToken(
                            MainActivity.this,
                            mPlusClient.getAccountName() + "",
                            "oauth2:"
                                    + Scopes.PLUS_PROFILE
                                    + " https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email");

            urlConnection = (HttpURLConnection) url.openConnection();
            urlConnection.setRequestProperty("Authorization", "Bearer "
                    + sAccessToken);

            BufferedReader r = new BufferedReader(new InputStreamReader(
                    urlConnection.getInputStream(), "UTF-8"));
            StringBuilder total = new StringBuilder();
            String line;
            while ((line = r.readLine()) != null) {
                total.append(line);
            }
            line = total.toString();
            if (!TextUtils.isEmpty(line)) {
                return line;
            } else {
                return null;
            }
        } catch (UserRecoverableAuthException userAuthEx) {
            // Start the user recoverable action using the intent returned
            // by getIntent()

            userAuthEx.printStackTrace();
            mActivity.this.startActivityForResult(
                    userAuthEx.getIntent(), MY_ACTIVITYS_AUTH_REQUEST_CODE);
            return null;
        } catch (FileNotFoundException e) {
            //You get this exception when the AccessToken is expired.
            //I don't know how its a FileNotFoundException
            //Thats why instead of relying on this, I did the above to get
            //new AccessToken
        } catch (Exception e) {
            e.printStackTrace();
            return null;
        } finally {
            if (urlConnection != null) {
                urlConnection.disconnect();
            }
        }
    }

    @Override
    protected void onPreExecute() {
    }
} 
```

# sql - 无法理解此查询

> ID：15195276
> 
> 赞同：0
> 
> 时间：2013-03-04T05:42:44.487
> 
> 标签：sql, sql-server, tsql

```
declare @date varchar(30) =  '2013-04-18'

DECLARE @WeekOfMonth TINYINT
SET @WeekOfMonth = 
    (
      DAY(@DATE) + 
      (DATEPART(dw, 
                DATEADD (MONTH, 
                         DATEDIFF (MONTH, 
                                   0, 
                                   @DATE),
                         0)) 
       - 1) -1) / 7 + 1

print @WeekOfMonth 
```

这是我在互联网上找到的一个查询，用于找出**当月的周数，**例如今天的“2013-03-04”，这是本月的**第二**周，查询工作正常，但我无法理解它和在该博客上发布它的人也没有描述它的工作原理。有人可以帮助我更好地理解它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T06:17:08.957

计算该月的周数，将**天数**与**该月第一天的工作日数**相加，然后除以 7 并加 1。例如，使用 '2013-03-04'，天数是4、'2013-03-01'的周数是6（星期五），所以结果是(4 + 6 - 1 - 1)/7 + 1 = 2。

从内到外工作：

(DAY('2013-03-04') + (DATEPART(dw, DATEADD(MONTH, **DATEDIFF(MONTH, 0, '2013-03-04')** , 0)) - 1) - 1) / 7 + 1

*   从 1900 年 1 月 1 日到 1358 年的月数

(DAY('2013-03-04') + (DATEPART(dw, **DATEADD(MONTH, 1358, 0)** ) - 1) - 1) / 7 + 1

*   从 1900-01-01、2013-03-01 起 1358 个月的日期

(DAY('2013-03-04') + ( **DATEPART(dw, '2013-03-01')** - 1) - 1) / 7 + 1

*   '2013-03-01' 的星期几，6（星期五）

( **DAY('2013-03-04')** + (6 - 1) - 1) / 7 + 1

*   '2013-03-04'的一天部分，4

(4 + (6 **- 1** ) - 1) / 7 + 1

*   -1 将星期日 = 第 1 天转换为星期一 = 第 1 天

(4 + 5 **- 1** ) / 7 + 1

*   -1 因为“2013-03-04”距离“2013-03-01”还有 3 天

= 2

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-04T06:43:19.043

这是看待这个问题的另一种方式：

您可以运行这些语句来自己分解它：

```
select datediff(month, 0, getdate()); -- Get Months since 1900-01-01
select DATEADD (MONTH, DATEDIFF (MONTH, 0, getdate()),0); -- Add Months back to 1900-01-01 to get 1st of Month (essentially stripping time and days)
select DATEPART(dw,DATEADD (MONTH, DATEDIFF (MONTH, 0, getdate()),0)-1); Get Day of Week Number for 1st of Current Month
select (day(getdate()) + DATEPART(dw,DATEADD (MONTH, DATEDIFF (MONTH, 0, getdate()),0)-1)-1); -- Add Day Number of Month for Current Date then subtract 1 to make it days, since we started on 1st
select (day(getdate()) + DATEPART(dw,DATEADD (MONTH, DATEDIFF (MONTH, 0, getdate()),0)-1)-1)/7; -- Determine how many whole weeks can be divided into this result
select (day(getdate()) + (DATEPART(dw,DATEADD (MONTH, DATEDIFF (MONTH, 0, getdate()),0))-1)-1)/7+1; -- We're zero indexed (meaning results would be zero in 1st week), so add 1 to get week number 
```

# amazon-web-services - AWS Beanstalk - 无法使用配置文件运行命令

> ID：15195279
> 
> 赞同：3
> 
> 时间：2013-03-04T05:42:59.587
> 
> 标签：amazon-web-services, config, amazon-elastic-beanstalk

我使用 beanstalk 设置了 Tomcat 7。我试图通过将命令放在 .config(yaml) 文件中来在该环境中运行以下命令，如下所示：

```
iptables -I INPUT -p icmp --icmp-type echo-request -m recent --set
iptables -I INPUT -p icmp --icmp-type echo-request -m recent --update --seconds 20 --hitcount 5 -j DROP 
```

配置文件命令：

```
sudodisable:
command: echo Defaults:root \!requiretty
ipbasedthrotllingcommand1:
command: sudo iptables -I INPUT -p icmp --icmp-type echo-request -m recent --set
ipbasedthrotllingcommand2:
command: sudo iptables -I INPUT -p icmp --icmp-type echo-request -m recent --update --seconds 20 --hitcount 5 -j DROP 
```

以下是我的推论：

1）我在这个线程中遵循了这里的建议-> [https://forums.aws.amazon.com/message.jspa?messageID=395894](https://forums.aws.amazon.com/message.jspa?messageID=395894)并将上面显示的内容放在我的.config文件中并将我的.war仅上传到得到以下错误

```
2013-03-03 20:52:39,165 DEBUG Not setting a reboot trigger as scheduling support is not available
2013-03-03 20:52:39,185 INFO Running configSets: deque()
2013-03-03 20:52:39,187 INFO Running configSet Infra-EmbeddedPreBuild
2013-03-03 20:52:39,187 INFO Running config prebuild_0_My_First_Elastic_Beanstalk_Application_sudofix__ebextensions_testit_config
2013-03-03 20:52:39,187 DEBUG No packages specified
2013-03-03 20:52:39,188 DEBUG No groups specified
2013-03-03 20:52:39,188 DEBUG No users specified
2013-03-03 20:52:39,188 DEBUG No sources specified
2013-03-03 20:52:39,188 DEBUG No files specified
2013-03-03 20:52:39,188 DEBUG Running command ipbasedthrotllingcommand1
2013-03-03 20:52:39,188 DEBUG No test for command ipbasedthrotllingcommand1
2013-03-03 20:52:39,204 ERROR Command ipbasedthrotllingcommand1 (sudo iptables -I INPUT -p icmp --icmp-type echo-request -m recent --set) failed
2013-03-03 20:52:39,205 DEBUG Command ipbasedthrotllingcommand1 output: sudo: sorry, you must have a tty to run sudo
2013-03-03 20:52:39,205 ERROR Error encountered during build of prebuild_0_My_First_Elastic_Beanstalk_Application_sudofix__ebextensions_testit_config: Command ipbasedthrotllingcommand1 failed
Traceback (most recent call last):
File "/usr/lib/python2.6/site-packages/cfnbootstrap/construction.py", line 505, in run_config
CloudFormationCarpenter(config, self._auth_config).build(worklog)
File "/usr/lib/python2.6/site-packages/cfnbootstrap/construction.py", line 241, in build
changes = CommandTool().apply(self._config.commands)
File "/usr/lib/python2.6/site-packages/cfnbootstrap/command_tool.py", line 103, in apply
raise ToolError("Command %s failed" % name)
ToolError: Command ipbasedthrotllingcommand1 failed
2013-03-03 20:52:39,206 ERROR Unhandled exception during build: Command ipbasedthrotllingcommand1 failed
Traceback (most recent call last):
File "/opt/aws/bin/cfn-init", line 135, in <module>
worklog.build(detail.metadata, configSets)
File "/usr/lib/python2.6/site-packages/cfnbootstrap/construction.py", line 117, in build
Contractor(metadata).build(configSets, self)
File "/usr/lib/python2.6/site-packages/cfnbootstrap/construction.py", line 496, in build
self.run_config(config, worklog)
File "/usr/lib/python2.6/site-packages/cfnbootstrap/construction.py", line 505, in run_config
CloudFormationCarpenter(config, self._auth_config).build(worklog)
File "/usr/lib/python2.6/site-packages/cfnbootstrap/construction.py", line 241, in build
changes = CommandTool().apply(self._config.commands)
File "/usr/lib/python2.6/site-packages/cfnbootstrap/command_tool.py", line 103, in apply
raise ToolError("Command %s failed" % name)
ToolError: Command ipbasedthrotllingcommand1 failed
2013-03-03 20:53:26,362 DEBUG CloudFormation client initialized with endpoint https://cloudformation.us-west-1.amazonaws.com
2013-03-03 20:53:26,362 DEBUG Describing resource AWSEBAutoScalingGroup in stack arn:aws:cloudformation:us-west-1:726941363581:stack/awseb-e-jiipcgeknm-stack/3bb8eac0-842f-11e2-b50d-50690881bc86
2013-03-03 20:53:26,577 DEBUG Not setting a reboot trigger as scheduling support is not available
2013-03-03 20:53:26,593 INFO Running configSets: deque()
2013-03-03 20:53:26,595 INFO Running configSet InfoTask-TailLogs
2013-03-03 20:53:26,596 INFO Running config InfoTask-TailLogs
2013-03-03 20:53:26,596 DEBUG No packages specified
2013-03-03 20:53:26,596 DEBUG No groups specified
2013-03-03 20:53:26,596 DEBUG No users specified
2013-03-03 20:53:26,596 DEBUG No sources specified
2013-03-03 20:53:26,596 DEBUG No files specified
2013-03-03 20:53:26,597 DEBUG Running command taillogs
2013-03-03 20:53:26,597 DEBUG No test for command taillogs 
```

2) 如果我在没有 sudo 的情况下运行 iptables 命令，我根本看不到它们被执行。基本上我什至没有在我的日志文件中看到对 .config 文件的引用，这让我怀疑配置文件是否被拾取。

我真的很感激任何帮助来解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-04-20T18:01:53.313

```
command: echo Defaults:root \!requiretty 
```

是错的。根据您链接到的文档，它应该是：

```
echo Defaults:root \!requiretty >> /etc/sudoers 
```

# java - GnuPG v2.0.12 (MingW32) JAVA加密

> ID：15195280
> 
> 赞同：0
> 
> 时间：2013-03-04T05:43:02.470
> 
> 标签：java, jakarta-ee

Pearl 脚本在使用密钥版本 - GnuPG v2.0.12 (MingW32) 进行加密时，会生成具有以下输出格式的加密文件：

方案 1

```
-----BEGIN PGP MESSAGE-----
Version: GnuPG v1.4.8 (SunOS)

hQELA3Hk..............................

..............................................

................................K56VUHIr

-----END PGP MESSAGE----- 
```

但是 JAVA API（Bouncy Castle 或其他）将输出文件生成为：

方案 2

```
„ŒTÆ£¹ÉþRýžípó1+B¿ºp–å¿‘I¨........„ŒTÆ£¹ÉþRýžípó1+ 
```

没有页眉或页脚。

[但是在免费加密站点 ( https://www.igolder.com/pgp/encryption/](https://www.igolder.com/pgp/encryption/) )上使用相同密钥加密相同的数据时显示与方案 1 相同的结果。

如果要像以前那样（在珍珠中）进行解密，并且要升级加密，即通过 JAVA 。我们如何使用 JAVA API 来实现这一点……它们似乎没有生成正确的输出？

或者我可能是错的。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T05:48:41.630

第一个版本被称为“ASCII-armored”——即它是实际二进制加密输出的 BASE64 表示。第二个是二进制形式，当您将其发送到终端时，它看起来是乱码。

`ArmoredOutputStream`我相信您在编写加密输出时需要使用 an 。

# ruby-on-rails - 联系人 Gem 未在生产环境中导入雅虎联系人

> ID：15195282
> 
> 赞同：1
> 
> 时间：2013-03-04T05:43:08.720
> 
> 标签：ruby-on-rails

我正在使用 contacts-1.2.4 从 yahoo 和 gmail 导入联系人。我面临的问题是，这个 gem 在我的本地设置上运行良好，但在我的生产环境中，雅虎联系人导入不起作用。它反复给出身份验证错误。我在本地和生产环境中使用 Rails-3.1.1 和 ruby​​-1.9.2。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-18T03:50:21.797

对于 yahoo 和 gmail，最好使用[https://github.com/Diego81/omnicontacts](https://github.com/Diego81/omnicontacts)，因为它不需要人们输入他们的用户名和密码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-05T08:24:03.207

得到它使用 - [https://github.com/liangzan/contacts](https://github.com/liangzan/contacts)

现在导入在生产环境中也可以正常工作。

# php - 用带有条件的 Unicode 字符代码将英文数字替换为波斯数字

> ID：15195284
> 
> 赞同：0
> 
> 时间：2013-03-04T05:43:22.373
> 
> 标签：php, unicode

我写了这个 PHP 函数：

```
<?php   

    function persian_digits($text) {
        $persian_unicode = array(
            "1" => '&#x6F1;',
            "2" => '&#x6F2;',
            "3" => '&#x6F3',
            "4" => '&#x6F4',
            "5" => '&#x6F5',
            "6" => '&#x6F6',
            "7" => '&#x6F7',
            "8" => '&#x6F8',
            "9" => '&#x6F9',
            "0" => '&#x6F0;'
        );
        foreach ($persian_unicode as $key => $value) {
            $text = str_replace($key, $value, $text);
        }
        return $text;
    }
?> 
```

当我给它一个输入时，这个函数将所有数字替换为波斯等价物。但是输入有 URL，例如`<img src="URL"/>`，当替换发生时，所有 URL 和 HTML 标记都会出现波斯数字问题。

请帮助我找到一种方法，仅在简单文本中而不是在 URL 和 HTML 标记中将英文数字替换为波斯语等价物。谢谢。（对不起我的英语不好）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-06-12T08:56:17.147

你可以使用这个功能

```
function translateDigits($str) {
    $newstring=str_replace(array('0','1','2','3','4','5','6','7','8','9'), array('۰','۱','۲','۳','۴','۵','۶','۷','۸','۹'), $str);
    return $newstring;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T17:59:17.567

使用此功能：

```
<?php

/* Originally written by Farhadi , www.farhadi.ir */

function convertToFarsi($matches) {
    $mps_jd_optionsDB = get_option(MPS_JD_OPTIONS_NAME);
    $mps_jd_decimal = $mps_jd_optionsDB['mps_jd_decimal'];
    if($mps_jd_decimal == true)
        //$farsi_array = array("۰", "۱", "۲", "۳", "۴", "۵", "۶", "۷", "۸", "۹", "<sub><small>/</small></sub>");
        $farsi_array = array("۰", "۱", "۲", "۳", "۴", "۵", "۶", "۷", "۸", "۹", "٫");
    else
        $farsi_array = array("۰", "۱", "۲", "۳", "۴", "۵", "۶", "۷", "۸", "۹", ".");

    $english_array = array("0", "1", "2", "3", "4", "5", "6", "7", "8", "9", ".");

    $out = '';
    if (isset($matches[1])) {
        return str_replace($english_array, $farsi_array, $matches[1]);
    }
    return $matches[0];
}

function farsi_num($num,$fake = null,$fake2=null) {
    return preg_replace_callback('/(?:&#\d{2,4};)|(\d+[\.\d]*)|(?:[a-z](?:[\x00-\x3B\x3D-\x7F]|<\s*[^>]+>)*)|<\s*[^>]+>/i', 'convertToFarsi', $num);
}

function english_num($num) {
    $mps_jd_optionsDB = get_option(MPS_JD_OPTIONS_NAME);
    $mps_jd_decimal = $mps_jd_optionsDB['mps_jd_decimal'];
    if($mps_jd_decimal == true)
        //$farsi_array = array("۰", "۱", "۲", "۳", "۴", "۵", "۶", "۷", "۸", "۹", "<sub><small>/</small></sub>");
        $farsi_array = array("۰", "۱", "۲", "۳", "۴", "۵", "۶", "۷", "۸", "۹", "٫");
    else
        $farsi_array = array("۰", "۱", "۲", "۳", "۴", "۵", "۶", "۷", "۸", "۹", ".");

    $english_array = array("0", "1", "2", "3", "4", "5", "6", "7", "8", "9", ".");

    return str_replace($farsi_array, $english_array, $num);
}
?> 
```

# php - 如何在 Zend framework2 中清除会话容器

> ID：15195290
> 
> 赞同：19
> 
> 时间：2013-03-04T05:43:31.500
> 
> 标签：php, zend-framework2, zend-session

我最近开始使用 Zendframework 2 构建一个应用程序，我在 ZF1 方面有很好的经验，我在 ZF2 中面临的主要问题是会话。

这是我创建会话容器的方式。

```
use Zend\Session\Container; 
```

// 会话容器创建：（之前我们将其称为命名空间）

```
$session_user = new Container('user');
$session_user_errors = new Container('usererrors');
$session_user_shares = new Container('usershares'); 
```

现在像这样我有几个容器，

我可以像这样清除特定容器的密钥

// 按键从会话中获取值：（从命名空间获取值）

```
$email = $session_user->offsetGet('email'); 
```

// 在会话中设置值：（从命名空间设置值）

```
$session_user->offsetSet('username', 'abcd'); 
```

现在我的问题是清除在我的应用程序的多个级别中设置的整个容器。

如果我尝试下面的代码，它会清除我所有的会话容器。

```
$session_user = new Container('user');
$session_user->getManager()->getStorage()->clear(); 
```

我只想清除名为“用户”的容器，它有很多键（我不知道最后会有什么）。有没有办法做到这一点

我知道我可以在每个键上做 offsetunset 但这不是我觉得的最佳解决方案。

请建议是否有任何替代方法来清除特定的会话容器。

**注意： -**我没有使用任何第三方模块，如 ZfcUser 和 Akrabat 会话

提前感谢您回复此帖子。

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2013-03-04T06:45:21.377

您几乎拥有它，您只需要将命名空间传递给 clear 方法

```
$session_user->getManager()->getStorage()->clear('user'); 
```

您仍然可以将 $_SESSION 视为一个数组，因此以下也适用

```
unset($_SESSION['user']); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-12-22T10:05:25.640

以下是 Zend Framework 2 中销毁会话的详细信息：

*   使用基本 PHP 功能

    `session_start()`函数启动会话。

    `session_destroy()`函数删除存储在会话数组中的**所有数据。**

现在使用 Zend Framework 功能：

为了清楚地理解，让我们首先在 Zend Framework 中创建一个会话，然后进行删除过程。

1.  创建会话

> 使用 Zend\Session\Container；
> 
> $session_container = 新容器（'user_session'）；
> 
> $session_container->last_login = date('Ymd H:i:s');
> 
> $session_container->sess_token = trim(base64_encode(md5(microtime())), "=");

2.  删除会话

> $session = new Container("user_session");
> 
> $session->getManager()->getStorage()->clear('user_session');

其中**user_session**是用于存储详细信息的会话数组键的名称。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-04T08:21:32.853

@Crisp 发布的解决方案就像一个魅力但这是我在研究解决这个问题后发现的另一种方法

```
use Zend\Session\SessionManager;

$sessionManager = new SessionManager();

//get array of sessions from storage 
$array_of_sessions = $sessionManager->getStorage();

//Unset which ever container you want by passing its name ( ZF1 its called namespace ) 
 unset($array_of_sessions['user']);
 unset($array_of_sessions['usershares']);
 unset($array_of_sessions['actions']); 
```

我觉得会话管理器是我们需要用来管理会话的一个，无论是清除还是读取，容器是由会话管理器管理的实体之一。

这可能有助于其他拥有创建每个会话容器的对象并调用 clear 方法的人。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-08-06T10:13:30.137

销毁所有会话：

```
 $session = new Container('base');
  $session->getManager()->destroy();

  or 
```

使用简单的 php 销毁函数：

```
 session_destroy(); 
```

此功能清除所有会话。

我希望这有帮助。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-11-21T11:17:50.273

```
 Container::getDefaultManager()->getStorage()->clear('user'); 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2015-03-30T19:55:40.880

在 ZF2 中，供 Container 使用；

**创建容器：**

```
$sessionTokenizer = new Container('token'); 
```

**将变量设置到容器中**

```
$token = $sessionTokenizer->token; 
```

**销毁容器（仅容器）**

```
$sessionTokenizer->offsetUnset(); 
```

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2014-03-01T01:17:07.553

您可以像这样清除会话：

$this->session->exchangeArray(array());

# objective-c - 将变量添加到像 CCSprite 这样的东西

> ID：15195293
> 
> 赞同：0
> 
> 时间：2013-03-04T05:43:38.030
> 
> 标签：objective-c, cocos2d-iphone

我有不止一个敌人，所以我想为敌人的精灵添加一个变量，例如

```
CCSprite *enemy;
enemy.direction = up; 
```

我该怎么做呢？最简单 最短 最快的方式

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T05:56:44.103

你可以这样做：

```
typedef enum
{
    kDirection_Up = 1000,
    kDirection_Down,
    kDirection_Left,
    kDirection_Right
}GMDirection;

@interface GMEnemy : CCSprite
{
    GMDirection direction;
} 
```

//用法：

```
GMEnemy *enemy = [GMEnemy spriteWithFile:@"Name.png"];
enemy.direction = kDirection_Up; 
```

//直接检查

```
if(enemy.direction == kDirection_Up) 
```

# c++ - 我们可以在静态 dll 文件中使用 boost 库吗？

> ID：15195294
> 
> 赞同：2
> 
> 时间：2013-03-04T05:43:41.150
> 
> 标签：c++, boost, dll

我目前有一个 C++ dll 文件，其中导出的方法已在 .def 文件中定义。我在项目中也使用了一些 boost shared ptr，我收到了这个错误。

```
Mixing a dll boost library with a static runtime is a really bad idea. 
```

谁能解释一下这是什么意思。[这个](https://groups.google.com/forum/?fromgroups=#!topic/boost-list/yTyBiY8PoO8)链接讨论了这个问题，但我还是不明白。这是否意味着我不应该在我的 dll 文件中使用任何 boost 库？任何建议将不胜感激。

# jsf-2 - 在 jsf 2.2 中启用禁用按钮

> ID：15195295
> 
> 赞同：0
> 
> 时间：2013-03-04T05:43:48.273
> 
> 标签：jsf-2

我正在尝试基于表单提交启用和禁用按钮的简单示例。如果有人也可以指出 jsf:id 的概念，因为我正在将纯 html5 与 jsf 混合。

以下是相关代码：

```
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
     xmlns:jsf="http://java.sun.com/jsf" 
     xmlns:f="http://java.sun.com/jsf/core">
    <head jsf:id="head">
        <title>Putting it all together </title>
        <!-- script jsf:target="body" jsf:name="js.js"/>
        <link jsf:name="css.css" rel="stylesheet" type="text/css" /-->
    </head>
    <body jsf:id="body">
        <form jsf:id="form" jsf:prependId="false">
            <label jsf:for="name">Name </label>
            <input jsf:id="name" type="text" jsf:value="#{complex.name}">
                <f:ajax execute="@this" render="progress"/>
            </input>
            <label jsf:for="tel">Tel </label>
            <input jsf:id="tel" type="tel" jsf:value="#{complex.tel}">
                <f:ajax execute="@this" render="progress"/>
            </input>

            <label jsf:for="email">Email </label>
            <input jsf:id="email" type="email" jsf:value="#{complex.email}">
                <f:ajax execute="@this" render="progress"/>
            </input>

            <label for="progress">Progress </label>
            <progress jsf:id="progress" max="3">#{complex.progress} of 3 </progress>

            <input jsf:id="submit" type="submit" value="submit">
                <f:ajax execute="@this" render="login" event="click" listener="#{complex.process}" />
            </input>

            <!-- label jsf:id="status"></label-->
            <button jsf:id="login" disabled="#{complex.status}">Login</button>

        </form>
    </body>
</html> 
```

托管 bean 是：

```
package mypackage.bean;
import java.io.Serializable;

import javax.faces.bean.ManagedBean;
import javax.faces.bean.SessionScoped;
import javax.faces.event.AjaxBehaviorEvent;

@ManagedBean
@SessionScoped
public class Complex implements Serializable {
    public Complex() {}

    private String name;
    private String tel;
    private String email;

    public String getName() {
        return name;
    }
    public void setName(String name) {
        this.name = name;
    }
    public String getTel() {
        return tel;
    }
    public void setTel(String tel) {
        this.tel = tel;
    }
    public String getEmail() {
        return email;
    }
    public void setEmail(String email) {
        this.email = email;
    }
    private boolean status;

    public void process(AjaxBehaviorEvent event) {
        status = !status;
    }

    public boolean isStatus() {
        return status;
    }

    public boolean getStatus() {
        return status;
    }

    public void setStatus(boolean status) {
        this.status = status;
    }

    public String getProgress() {
        int progress = 0;
        if(name != null) {
            progress++;
        }
        if(tel != null) {
            progress++;
        }
        if(email != null) {
            progress++;
        }
        return progress + "";
    }

} 
```

这是打印到网页的错误：

```
HTTP Status 500 - java.lang.Boolean cannot be cast to java.lang.String

type Exception report

message java.lang.Boolean cannot be cast to java.lang.String

description The server encountered an internal error that prevented it from fulfilling this request.

exception

javax.servlet.ServletException: java.lang.Boolean cannot be cast to java.lang.String
    javax.faces.webapp.FacesServlet.service(FacesServlet.java:658)

root cause

java.lang.ClassCastException: java.lang.Boolean cannot be cast to java.lang.String
    com.sun.faces.renderkit.html_basic.HtmlResponseWriter.getAttributeValue(HtmlResponseWriter.java:1210)
    com.sun.faces.renderkit.html_basic.HtmlResponseWriter.flushAttributes(HtmlResponseWriter.java:1170)
    com.sun.faces.renderkit.html_basic.HtmlResponseWriter.closeStartIfNecessary(HtmlResponseWriter.java:1112)
    com.sun.faces.renderkit.html_basic.HtmlResponseWriter.writeText(HtmlResponseWriter.java:935)
    com.sun.faces.facelets.compiler.LiteralTextInstruction.write(LiteralTextInstruction.java:76)
    com.sun.faces.facelets.compiler.UIInstructions.encodeBegin(UIInstructions.java:82)
    com.sun.faces.facelets.compiler.UILeaf.encodeAll(UILeaf.java:183)
    javax.faces.render.Renderer.encodeChildren(Renderer.java:176)
    javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:900)
    javax.faces.component.UIComponent.encodeAll(UIComponent.java:1847)
    javax.faces.render.Renderer.encodeChildren(Renderer.java:176)
    javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:900)
    javax.faces.component.UIComponent.encodeAll(UIComponent.java:1847)
    javax.faces.component.UIComponent.encodeAll(UIComponent.java:1850)
    javax.faces.component.UIComponent.encodeAll(UIComponent.java:1850)
    com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:443)
    com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:131)
    com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:120)
    com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
    com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:202)
    javax.faces.webapp.FacesServlet.service(FacesServlet.java:646)

note The full stack trace of the root cause is available in the Apache Tomcat/7.0.35 logs.
Apache Tomcat/7.0.35 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-04T05:58:32.657

代码的关键部分是

```
<button jsf:id="login" disabled="#{complex.status}">Login</button> 
```

然后这个异常

```
java.lang.ClassCastException: java.lang.Boolean cannot be cast to java.lang.String 
```

现在这意味着对于`<button>`标签，`disabled`属性的值不是`boolean`一个`String`.
所以这个属性的值为`disabled="disabled"`。
请[参阅此问题以及](https://stackoverflow.com/questions/6961526/correct-value-for-disabled-attribute)处理`disabled`HTML5 的属性
您需要从托管 bean 设置 String 值并将`status`属性声明为 a`String`而不是`boolean`。

# erlang - Erlang 的 open_port 调用是否链接到结果进程？

> ID：15195300
> 
> 赞同：4
> 
> 时间：2013-03-04T05:44:15.887
> 
> 标签：erlang

我有一些 C 代码，我正在使用 Erlang 的端口功能作为外部进程执行。我希望启动 C 代码的进程通过`open_port`来检测 C 代码是否崩溃。文档对我来说并不完全清楚，但据我了解，在 Erlang 进程和外部代码之间建立了双向链接。如果一个人死了，另一个人会得到通知。

这是“Erlang 互操作性教程指南”（[http://www.erlang.org/doc/tutorial/c_port.html](http://www.erlang.org/doc/tutorial/c_port.html)）中代码的略微修改版本：

```
init(ExtPrg) ->
    register(cport, self()),
    process_flag(trap_exit, true),
    Port = open_port({spawn, ExtPrg}, [{packet, 2}]),
    PInfo = erlang:port_info(Port),
    io:format("Port: ~p   PInfo: ~p~n", [Port, PInfo]),
    RVal = link(Port),
    io:format("link?  ~p~n", [RVal]),
    loop(Port).

loop(Port) ->
    receive
        {call, Caller, Msg} ->
            Port ! {self(), {command, encode(Msg)}},
            receive
                {Port, {data, Data}} -> 
                    Caller ! {cport, decode(Data)}
            end,
            loop(Port);
        stop ->
            Port ! {self(), close},
            receive
                {Port, closed} -> 
                    exit(normal)
            end;
        {'EXIT', Port, Reason} -> 
            exit(port_terminated)
    end. 
```

该`init`调用正确地执行了 C 代码，并且如您所见 sets `trap_exit`，但是当我使用Unix shell 终止`EXTT`C 代码时未收到该消息。`kill -HUP`我尝试过调用和不`link`调用（Erlang 文档不使用它）。我添加的打印代码生成：

```
Eshell V5.9.1  (abort with ^G)
1> cport:start("./cport 22").
Port: #Port<0.630>   PInfo: [{name,"./cport 22"},
                             {links,[<0.38.0>]},
                             {id,630},
                             {connected,<0.38.0>},
                             {input,0},
                             {output,0}]
<0.38.0>
link?  true 
```

似乎注册了一个链接，但我没有抓住陷阱。我错过了什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-05T07:38:35.633

在调用 open_port() 时尝试额外的选项 exit_status。

我做了一个类似的 Erlang 程序来监督游戏服务器。当外部游戏服务器崩溃时，我想从我的中央 Erlang 监控系统重新启动它。这是对我有用的代码：

```
erlang:open_port({spawn_executable, "<Path to my game server start script>"}, 
                 [ exit_status ]), 
```

当外部进程被杀死时，您将收到一条消息类型

```
{Port,{exit_status,Status}} 
```

# c# - 当我单击提交按钮时，没有调用任何函数

> ID：15195302
> 
> 赞同：1
> 
> 时间：2013-03-04T05:44:18.827
> 
> 标签：c#, asp.net, httpwebrequest

在我的网站中，当我单击提交按钮时，它应该在文本框中显示所有链接，但我的提交按钮不起作用，请注意当我单击它时会发生。这是我的代码。我的提交按钮具有 onclient click 属性。

```
 protected void btnRender_Click(object sender, EventArgs e)
        {
            string strResult = string.Empty;

            WebResponse objResponse;
            WebRequest objRequest = System.Net.HttpWebRequest.Create(url.Text);

            objResponse = objRequest.GetResponse();

            using (StreamReader sr = new StreamReader(objResponse.GetResponseStream()))
            {
                strResult = sr.ReadToEnd();
                sr.Close();
            }
            strResult = strResult.Replace("<form id='form1' method='post' action=''>", "");
            strResult = strResult.Replace("</form>", "");
            //strResult = strResult.Replace("<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" /><html xmlns="http://www.w3.org/1999/xhtml">");
            div.InnerHtml = strResult;

        }

        protected void btn_createlink_Click(object sender, EventArgs e)
        {
            var links = TextBox1.Text.Split(new string[] { "\n", "\r" }, StringSplitOptions.RemoveEmptyEntries);
            foreach (var link in links)
            {
                if (!IsLinkWorking(link))
                {
                    //Here you can show the error. You don't specify how you want to show it.
                    TextBox2.Text += string.Format("{0}\nNot working\n\n ", link);
                }
                else
                {
                    TextBox2.Text += string.Format("{0}\n working\n\n", link);
                }
            }
        }

        bool IsLinkWorking(string url)
        {
            HttpWebRequest request = (HttpWebRequest)HttpWebRequest.Create(url);

            //You can set some parameters in the "request" object...
            request.AllowAutoRedirect = true;
            ServicePointManager.ServerCertificateValidationCallback = (s, cert, chain, ssl) => true;

            try
            {
                HttpWebResponse response = (HttpWebResponse)request.GetResponse();

                return true;
            }
            catch
            {
                //TODO: Check for the right exception here
                return false;
            }
        }

        protected void Button1_Click(object sender, EventArgs e)
        {
            TextBox1.Text = "";
            TextBox2.Text = "";
            url.Text = "";
        }

    } 
```

这是我的客户端代码，我有一个名为 finda() 的函数。当客户端单击提交按钮时，它应该调用，但这不会发生

```
<asp:Content ID="Content1" ContentPlaceHolderID="HeadContent" runat="server"> 

    <script type="text/javascript">
        function finda() {
            var a = document.getElementsByTagName("a");
            var b = document.getElementById("TextBox1");
            b.value = "";

            for (var i = 0; i < a.length; i++) {
                a[i] = a.length.value;

                if (a[i] == null) {
                    alert("Their is no links");
                }
                else {
                    b.value = b.value + "\r\n\n" + a[i];
                }

            }

            //            window.open("http://www.fillsim.com");
            window.close();
            //   window.open("WebForm3.aspx?req=" + b.value);

        }
    </script>
   <script type = "text/javascript">
       var defaultText = "http://www.example.com";
       function waterMarkText(txt, evt) {
           if (txt.value.length == 0 && evt.type == "blur") {
               txt.style.color = "red";
               txt.value = defaultText;
           }
           if (txt.value == defaultText && evt.type == "focus") {
               txt.style.color = "green";
               txt.value = "";
           }
       }
</script>
</asp:Content> 

 <asp:Content ID="Content2" ContentPlaceHolderID="MainContent" runat="server">
 <form id="form1"  >
    Enter the URL:<br />
    <br />
    <asp:TextBox ID="url" runat="server" Width="263px"></asp:TextBox>
    <br />
    <br />
    <asp:Button ID="btnRender" runat="server" Text="Page Render" OnClick="btnRender_Click" />
    <asp:Button ID="btn_submit" runat="server" Text="Submit" OnClientClick="javascript:finda();" />
    <asp:Button ID="btn_createlink" runat="server"
        Text="Create link" OnClick="btn_createlink_Click" /> 
```

```
<asp:TextBox ID="TextBox2" runat="server" Height="371px" TextMode="MultiLine" Width="409px"></asp:TextBox>
<div class="ab" id="div" runat="server">

    <asp:Button ID="Button1" runat="server" onclick="Button1_Click" Text="Clear" 
        Width="71px" />

</div>
</form> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T08:34:30.707

您的`form`标记应该具有`runat="server"`属性，以便可以正确处理 ASP.NET 回发事件。

# android - 在特定时间后更新按钮单击时的 UI

> ID：15195307
> 
> 赞同：0
> 
> 时间：2013-03-04T05:44:49.113
> 
> 标签：android, event-handling, textview, timertask

我有一个文本视图。我想在单击按钮 1 秒后更新其文本（附加“1”）。

```
public class HaikuDisplay extends Activity {
    Method m;
    Timer t;
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        t = new Timer();
        m = HaikuDisplay.class.getMethod("change");
    }
    //Event handler of the button
    public void onRefresh(View view)
    {       
        //To have the reference of this inside the TimerTask
        final HaikuDisplay hd = this;
        TimerTask task1 = new TimerTask(){
            public void run(){
                /*
                 * I tried to update the text here but since this is not the UI thread, it does not allow to do so.
                 */
                //Calls change() method
                m.invoke(hd, (Object[])null);
            }
        };
        t.schedule(task1, 1000);
    }
    public void change()
    {
        //Appends a "1" to the TextView
        TextView t = (TextView)findViewById(R.id.textView1);
        t.setText(t.getText() + "1");
    }

    //Event handler of another button which updates the text directly by appending "2".
    //This works fine unless I click the first button.
    public void onRefresh1(View view)
    {
        TextView t = (TextView)findViewById(R.id.textView1);
        t.setText(t.getText() + "2");
    }
} 
```

考虑处理所有异常。

第一次点击时，`m.invoke`给出`InvocationTargetException`. 但是它`change()`在没有任何异常的情况下连续调用该方法（通过日志记录验证）。但它不会更新文本。我哪里错了？

此外，我在调试器中看到每次单击按钮时都会创建一个新线程。那也行。但是为什么它不删除以前的线程，尽管它们的执行已经完成？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T08:04:28.657

做这样的事情

```
public void onRefresh1(View v) {
    // You can have this in a field not to find it every time
    final EditText t = (EditText) findViewById(R.id.textView1);
    t.postDelayed(new Runnable() {

        @Override
        public void run() {
            t.append("1");
        }
    }, 1000);
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-04T06:24:52.713

```
 new Handler().postDelayed(new Runnable() {

                    @Override
                    public void run() {
                        // Update UI

                    }
                }, 1000); 
```

在按钮点击时实现这个

**更新：**

还有一些其他的答案。dtmilano 提出了另一个与我几乎相同的解决方案，除了他调用 View 类的 postDelayed 方法，在我的回答中，我使用了处理程序类的 postDelayed 方法。

从 android 的 api 参考 Handler 的 postDelayed 方法说

> 可运行对象将在附加此处理程序的线程上运行。

并且 View 的 postDelayed 方法说

> runnable 将在用户界面线程上运行。

这是这两种解决方案之间的唯一区别。在我的回答中，而不是每次可以使用任何其他处理程序实例时都创建新的处理程序。然后，runnable 将在声明该特定处理程序的那个线程上运行。如果使用 EditText 的 postDelayed，runnable 方法将在用户界面线程上运行。

现在是性能问题，两者具有相同的性能（如果有人能证明我的参考错误，我会很高兴）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-04T05:52:57.270

这看起来非常令人费解-您是否考虑过使用[CountDownTimer](http://developer.android.com/reference/android/os/CountDownTimer.html)代替？

```
new CountDownTimer(1000, 1000) {
    public void onTick(long millisUntilFinished) {
        // no-op
    }

    public void onFinish() {
        change();
    }
}.start(); 
```

这应该在 UI 线程上调用 change（并因此更改文本），避免反射和线程错误。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-04T05:56:26.483

嗨，请使用以下代码。希望这会帮助你 。

```
new java.util.Timer().schedule( 
        new java.util.TimerTask() {
            @Override
            public void run() {
                // your code here
            }
        }, 
        1000 
); 
```

也看看这个问题。

[在Android中每10秒显示一次数据](https://stackoverflow.com/questions/2535733/display-data-after-every-10-seconds-in-android)

你也可以试试这个。

```
private Handler handler = new Handler();    
private Runnable runnable = new Runnable() {   
    public void run() {
        doStuff();
        /*
         * Now register it for running next time
         */
        handler.postDelayed(this, 1000);
    } 
    };

**EDIT 3**

  Try with this once you are need to enable once (i mean if you put your code in yourmethod()== this will get automatically call 1 seconds once. 

    private Timer timer;
    TimerTask refresher;

              // Initialization code in onCreate or similar:

              timer = new Timer();    
              refresher = new TimerTask() {
                  public void run() {
                      yourmethod();
                  };
              };
              // first event immediately,  following after 1 seconds each
              timer.scheduleAtFixedRate(refresher, 0,100); 
```

# kendo-ui - 如何更改剑道ui上传中的颜色选择按钮

> ID：15195310
> 
> 赞同：1
> 
> 时间：2013-03-04T05:45:06.220
> 
> 标签：kendo-ui

如何更改剑道 ui 上传中的选择按钮，我添加背景颜色：#3399FF; 但它在 IE 8 中不起作用。我使用以下 CSS 进行了修改，但在 IE 8 中不起作用。请告知。

```
<form method="post" action='@Url.Action("Index")' style="width:45%">
    <div>
        <table style="border:0">
        <tr style="border:0;">
             <span>Import Consumer List:</span>
        </tr>
        <tr style="border:"0">
            <td style="border:0;">
             @(Html.Kendo().Upload()
                    .HtmlAttributes(new { @Style = "align:center; font-size:12px" })     
                    .Name("FileUpload")
                    .Multiple(false)
                    .Events(ev => ev.Success("onSuccess"))
            )
            </td>
            <td style="border:0;">
                <input type="submit" id="btnSubmit" value="Import" style="height:31px; font-size:14px; background-color:#3399FF" class="k-button" />
            </td>
        </tr>
        </table>
    </div>
</form>

.k-upload-button {
    direction: ltr;
    overflow: hidden !important;
    position: relative;
    width: 86px;
    font-size:14px;
    background-color:#3399FF;   

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T09:27:58.523

如果您`kendoUpload`定义为：

```
<form method="post" action="submit" style="width:45%">
    <div>
        <input name="files" id="files" type="file" />
        <p>
            <input type="submit" value="Submit" class="k-button" />
        </p>
    </div>
</form> 
```

和以下初始化：

```
$("#files").kendoUpload({}); 
```

您可以将`Submit`按钮的样式定义为：

```
input.k-button {
    direction: ltr;
    overflow: hidden !important;
    position: relative;
    width: 86px;
    font-size:14px;
    background-color:#3399FF;
} 
```

或者：

```
#submit.k-button {
    direction: ltr;
    overflow: hidden !important;
    position: relative;
    width: 86px;
    font-size:14px;
    background:#3399FF;
} 
```

# sql - 计算每一行的年月和日持续时间

> ID：15195311
> 
> 赞同：-1
> 
> 时间：2013-03-04T05:45:07.533
> 
> 标签：sql, sql-server, sql-server-2008, date

我有一张表，我存储玩家进入任何游戏的日期`gameId and UserId`。

现在我必须计算每个用户玩游戏以来的时间。

**表架构如下**

```
create table  GameUser

(
   UserId int identity(1,1) not null, 
   UserName nvarchar(500)

)

insert into GameUser SELECT 'rahul'
insert into GameUser SELECT 'yunus'
insert into GameUser SELECT 'nitin'

Create table GameEntry 
 (
    EntryId int identity(1,1) not null,
    GameId int , 
    UserId int , 
    EntryDate smalldatetime

 )

insert into GameEntry SELECT 1,1,'01/01/2009'
insert into GameEntry SELECT 1,2,'05/01/2009'
insert into GameEntry SELECT 1,3,'12/01/2009'
insert into GameEntry SELECT 2,1,'01/01/2010'
insert into GameEntry SELECT 2,3,'01/01/2013' 
```

[带有表方案和测试数据的 SQL FIDDELE](http://sqlfiddle.com/#!3/8189b/2)

我的持续时间结果列应该是这样的`2 years 2 months and 15 days` 或`3 months`或`5 months 15 days`或`9 days`

我已经检查了 SO 上的年龄计算问题，但还有更复杂的 .

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T07:00:33.343

你可以这样做：

```
Declare @DOB DateTime
DECLARE @yy INT
DECLARE @mm INT
DECLARE @getdd INT
DECLARE @dd INT

SET @DOB='2011-10-11 00:00:00.000'

SET @yy = DATEDIFF(mm, @DOB, GETDATE())/12
SET @mm = DATEDIFF(mm, @DOB, GETDATE())%12 - 1
SET @dd = ABS(DATEDIFF(dd, DATEADD(mm,@mm , DATEADD(yy, @yy, @DOB)), GETDATE()))

SELECT Convert(varchar(10),@yy) + ' Years ' + Convert(varchar(10),@mm) + ' Months '  + Convert(varchar(10),@dd) + ' Days ' 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-04T06:13:12.267

> 你可以做这样的事情。将以年、月和日为单位返回日期。

```
SELECT CAST(DATEDIFF(yyyy, Max(EntryDate), GETDATE()) AS VARCHAR) + ' years, ' 
     + CAST(DATEDIFF(mm, Max(EntryDate), GETDATE()) AS VARCHAR) + ' months, ' 
     + CAST(DATEDIFF(dd, Max(EntryDate), GETDATE()) AS VARCHAR) + ' days', 
     GE.userId
FROM
    GameEntry AS GE
GROUP BY
    GE.userId 
```

# symfony - Symfony2在表单中呈现带有时区的日期时间

> ID：15195312
> 
> 赞同：4
> 
> 时间：2013-03-04T05:45:12.327
> 
> 标签：symfony, timezone, utc

在我的系统中，数据库时间戳记录为 UTC 值。

每个用户的个人资料中都记录了一个时区。登录时，时区值会从他们的配置文件传输到他们的会话（ $session->set('timezone', $tz); ）。

我的大部分代码都使用 Sonata INTL 捆绑包，因此用户可以看到其时区正确显示的日期时间值，**但**表单字段除外。

我最近在一些 Symfony2 类型上发现了 model_timezone 和 view_timezone 字段。我可以使字段显示正确的值（如下面的代码片段所示），但是我想了解如何从用户会话中填充 view_timezone？（我猜我可以通过某种方式传入 $options ？）

事件控制器片段：

```
$object = <object loaded>;

$form = $this->createForm(new MyEventType(), $object); 
```

MyEventType 表单片段：

```
public function buildForm(FormBuilderInterface $builder, array $options)
{
    $builder->add('id', null, array(
        'label'         => 'Event ID',
    ));

    $builder->add('changed', 'datetime', array(
        'date_widget'       => 'single_text',
        'date_format'       => \IntlDateFormatter::SHORT,
        'time_widget'       => 'single_text',

        'model_timezone'    => 'UTC',
        'view_timezone'     => 'Pacific/Auckland',
    )); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-04T21:41:15.710

这个问题的解决方法有两个：

*   将一组选项传递给 createForm 方法，其中包含“view_timezone”的值
*   确保在表单默认选项中定义了“view_timezone”。

我更新了我的代码片段以反映所需的更改：

事件控制器片段：

```
$object = <object loaded>;

$form = $this->createForm(new MyEventType(), $object, array(
    'view_timezone' => $this->container->get('session')->get('timezone'))
); 
```

MyEventType 表单片段：

```
public function buildForm(FormBuilderInterface $builder, array $options)
{
    $builder->add('id', null, array(
        'label'         => 'Event ID',
    ));

    $builder->add('changed', 'datetime', array(
        'date_widget'       => 'single_text',
        'date_format'       => \IntlDateFormatter::SHORT,
        'time_widget'       => 'single_text',

        'model_timezone'    => 'UTC',
        'view_timezone'     => $options['view_timezone'],
    ));

...

public function setDefaultOptions(OptionsResolverInterface $resolver)
{
    $resolver->setDefaults(array(
        'data_class'        => 'Stuff\CoreBundle\Entity\MyEvent',
        'view_timezone'     => 'UTC',
    ));
} 
```

# css - CSS：使用已安装的字体

> ID：15195315
> 
> 赞同：5
> 
> 时间：2013-03-04T05:45:29.270
> 
> 标签：css, web, fonts

我正在尝试在我的网页上使用从 dafont.com 安装的名为“Bebas Neue”的字体。我正在运行 Ubuntu，我在字体查看器中打开了字体并成功安装。现在我尝试在我的 CSS 中像这样引用字体：

```
font-family: 'Bebas Neue', sans-serif; 
```

但是，这仍然显示默认字体。我是正确引用它还是需要做更多才能使用这种字体？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-04T06:00:35.773

使用@font-face 方法。[http://fontsquirrel.com](http://fontsquirrel.com)在这方面有很多免费和免费的商业使用资源。您可以将字体上传到他们的生成器中，它会为您提供一个包含跨浏览器字体文件和说明的简洁工具包。

这是一个例子：

```
@font-face {
    font-family: 'OpenSansLight';
    src: url('fonts/fonts/OpenSans-Light-webfont.eot');
    src: url('fonts/OpenSans-Light-webfont.eot?#iefix') format('embedded-opentype'),
         url('fonts/OpenSans-Light-webfont.woff') format('woff'),
         url('fonts/OpenSans-Light-webfont.ttf') format('truetype'),
         url('fonts/OpenSans-Light-webfont.svg#OpenSansLight') format('svg');
    font-weight: normal;
    font-style: normal;

} 
```

然后在要应用它的任何元素上引用它

```
<style type="text/css">
div {
    font-family: OpenSansLight;
}
</style>

<div>
    This is OpenSansLight!
</div> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T05:52:33.377

尝试

```
@font-face
{
font-family: myFirstFont;
src: url('Bebas Neue.ttf'),
     url('Bebas Neue.eot'); /* IE9 */
} 
```

其中 src 是字体的路径。

将字体放入您的项目文件夹中。

并使用如下，

```
div
{
    font-family: myFirstFont;
} 
```

# sql - 避免列名中的错误，如果它不存在于表中

> ID：15195316
> 
> 赞同：0
> 
> 时间：2013-03-04T05:45:30.750
> 
> 标签：sql, sql-server

好的，所以我有一个脚本，它对于三个相同的不同进程是通用的，但是源表（具有相同的名称）包含稍微不同的列定义。

我的例子是 Study1 和 Study2。

研究 1 的 Table1 有一个名为 Site 的列

研究 2 的 Table1 没有名为 Site 的列。

在Study1的情况下，我需要查询Site，但是它不会影响Study2，所以我不需要它。

如何保留检查“站点”的代码而不必将其注释掉？

```
Select
  ...
  ...
CASE WHEN STUDY = STUDY1
     CASE
      WHEN SITE = A THEN ..
      WHEN SITE = B THEN ..
      END
    WHEN STUDY = STUDY2 THEN ..
    WHEN STUDY = STUDY3 
```

ETC

# wso2 - 我们如何在 WSO2DSS 或 WSO2ESB 中回滚事务

> ID：15195319
> 
> 赞同：1
> 
> 时间：2013-03-04T05:46:04.403
> 
> 标签：wso2, wso2esb, wso2dss

我使用 WSO2dss 和 Wso2 ESB 一次插入没有表。这些是依赖表，如果一个事务失败，我们如何回滚。我的问题是我正在插入 EMP1、EMP2、EMP3 我的数据在 EMP1 中正确插入，而在 EMP3 中插入​​时发生 EMP2 错误我如何使用 WSO2 ..in Oracle 做到这一点我们有 NONXAENABLEDS

```
<sequence>
                  <payloadFactory>
                     <format>
                        <p:insert_emp2_operation xmlns:p="http://ws.wso2.org/dataservice">
                           <xs:e_device xmlns:xs="http://ws.wso2.org/dataservice">$1</xs:e_device>
                           <xs:e_amount xmlns:xs="http://ws.wso2.org/dataservice">5000</xs:e_amount>
                           <xs:e_no xmlns:xs="http://ws.wso2.org/dataservice">450</xs:e_no>
                        </p:insert_emp2_operation>
                     </format>
                     <args>
                        <arg expression="//e_device/text()"/>
                     </args>
                  </payloadFactory>
                  <send>
                     <endpoint>
                        <address uri="http://192.168.1.201:9764/services/emp2_DataService/" format="soap11"/>
                     </endpoint>
                  </send>
               </sequence>
            </target> 
```

就像在其他一些表中一样我如何回滚这一切

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-01T02:03:04.683

如果要使用 WSO2 DSS 本身启用回滚事务，可以使用以下步骤。如果您的相关表在同一个数据库中，那么您可以在 WSO2 数据服务服务器中使用[boxcarring 功能](http://docs.wso2.org/display/DSS310/Boxcarring+Sample)，您可以在其中在数据服务创建级别启用 boxcarring。如果您的表分布在不同的数据库中，那么您可以使用[分布式事务功能](http://docs.wso2.org/display/DSS310/Distributed+Transactions+Sample)。但是，一旦启用这两个功能，您需要相应地更改代理服务。您可以查看以下[博客](http://sparkletechthoughts.blogspot.com/2013/10/how-to-call-multiple-soap-operations.html)以获取有关在使用 WSO2 ESB 启用分布式事务/ boxcarring 时如何调用数据服务的更多详细信息。

# ios - 似乎无法让核心蓝牙工作

> ID：15195322
> 
> 赞同：0
> 
> 时间：2013-03-04T05:46:10.167
> 
> 标签：ios, bluetooth, bluetooth-lowenergy, core-bluetooth

我似乎无法让核心蓝牙在我的 iPad 上工作。

视图控制器.h

```
@interface ViewController : UIViewController <CBCentralManagerDelegate, CBPeripheralDelegate>
{
    CBCentralManager *manager;
}
@end 
```

视图控制器.m

```
#import "ViewController.h"

@interface ViewController ()

@property (strong, nonatomic) IBOutlet UITextView *textField;

@end

@implementation ViewController

@synthesize textField;

- (void)viewDidLoad
{
    [super viewDidLoad];
    manager = [[CBCentralManager alloc] initWithDelegate:self queue:nil];
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

- (IBAction)action:(id)sender {
    textField.text = @"";

    if (manager.state == CBCentralManagerStatePoweredOn) {
        textField.text = @"Scanning...";
        NSLog(@"scanning");
        [manager scanForPeripheralsWithServices:nil options:nil];
    } else {
        textField.text = @"Error";
    }
}

- (void)centralManager:(CBCentralManager *)central didDiscoverPeripheral:(CBPeripheral *)peripheral advertisementData:(NSDictionary *)advertisementData RSSI:(NSNumber *)RSSI {
    NSLog(@"2");
    textField.text = [NSString stringWithFormat:@"%@%@\n", textField.text, peripheral.name];
}

- (void)centralManagerDidUpdateState:(CBCentralManager *)central {
    NSLog(@"d");
}

@end 
```

`2`永远不会被记录并且永远不会检测到设备。我确保在我的设置中启用了蓝牙。

代码有什么问题？难道只是没有发现适用的设备吗？我可以在蓝牙设置中发现我的 iMac 很好。

此外，Core Bluetooth（在具有蓝牙 LE 的设备上运行）可以检测到非蓝牙 LE 设备吗？比如无线耳机？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T07:12:17.653

核心蓝牙仅适用于低功耗蓝牙，您拥有的代码只会发现外围 BLE 设备，例如 BLE 标签、心率监视器、传感器或[处于外围模式的 iOS 6 设备](https://stackoverflow.com/questions/13857143/bluetooth-connection-between-2-ios-devices/13860235#13860235)。

所以不，您无法通过这种方式检测到您的 iMac（OS X 仍然没有通过 Core Bluetooth 的外围模式）或无线耳机。或使用官方 SDK 的任何其他方式。

# hadoop - Oozie：子工作流操作：如何检索子工作流 id？

> ID：15195324
> 
> 赞同：1
> 
> 时间：2013-03-04T05:46:12.527
> 
> 标签：hadoop, oozie

我有一个 Oozie 工作流，它调用另一个工作流来使用`<sub-workflow />`操作节点调用一些必需的操作。子工作流程在以其工作流程 ID 命名的目录中创建数据集。我需要在主工作流（调用另一个工作流的工作流）中处理位于该目录中的数据集。为此，我有必要检索子工作流的 ID。

有什么方法可以从调用工作流中获取子工作流的 id 吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-20T12:55:37.437

您应该能够使用表达式语言函数 wf:actionExternalId

例如

```
<kill name="fail">
    <message>problem with: ${wf:actionExternalId("sub-workflow-nodename")}</message>
</kill> 
```

您也可以尝试 actionTrackerUri 或 actionExternalStatus

此处提供有关可用 EF 函数的更多详细信息：http: [//oozie.apache.org/docs/3.3.0/WorkflowFunctionalSpec.html#a4.2_Expression_Language_Functions](http://oozie.apache.org/docs/3.3.0/WorkflowFunctionalSpec.html#a4.2_Expression_Language_Functions)

# zend-framework - zend：当我在模型类中编写 __constructor() 时，没有调用 init()

> ID：15195325
> 
> 赞同：0
> 
> 时间：2013-03-04T05:46:17.353
> 
> 标签：zend-framework, zend-db, zend-db-table

我已经在我的数据库模型类中编写了 init() 函数，并且我正在使用多数据库 zend 功能。

在我的 init() 中，我正在获取我的数据库适配器，然后我的默认适配器被设置为默认适配器，一切正常。

不仅如此，我还在父类的 init() 函数中添加一些表名前缀相关的东西。这也很好用。

现在我的问题是，当我在模型类中编写参数化构造函数时，既没有调用子类的 init() 函数，也没有调用父类的魔法方法。

任何机构都可以帮我解决这个问题吗？

以下是我的代码：

[http://pastie.org/private/ndmuek6pypaijucfzlolg](http://pastie.org/private/ndmuek6pypaijucfzlolg)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T06:14:50.887

您必须更改代码以调用 Zend_Db_Table_Abstract 的构造函数：

```
 public function __construct(array $options = null)
    {
        if (is_array($options)) {
           $this->setOptions($options);
        }
        parent::__construct($options);
    } 
```

# javascript - 如何使用 jquery 查找 Datalist 控件的 clientID？

> ID：15195330
> 
> 赞同：0
> 
> 时间：2013-03-04T05:46:37.427
> 
> 标签：javascript, jquery, asp.net

我有一个带有 ModalPopupExtender 控件的 DataList。当我单击 datalist 中的 div 时，显示 ModalPopupExtender 。

```
<asp:DataList ID="AdsDataList" runat="server" RepeatColumns="4" 
               RepeatDirection="Horizontal">
   <ItemTemplate>
     <div class="Detail_Content" id="detailcontact" runat="server" 
          onclick="return OpenPopup();">
        <label><%# Eval("Name") %></label>
     </div>
     <asp:Panel ID="Panel2" runat="server" Style="display: none;">
         <div class="popup_block" style="width: 550px;left:30%;top:100px">
              <label><%# Eval("FatherCategoryName")                                
         </div>
     </asp:Panel>
        <cc1:ModalPopupExtender runat="server" ID="ModalPopupExtender1" 
             TargetControlID="detailcontact" PopupControlID="Panel2" 
             PopupDragHandleControlID="header" DropShadow="false" 
             RepositionMode="RepositionOnWindowResizeAndScroll" X="400" Y="130" 
             BackgroundCssClass="modalBackground"CancelControlID="btnclose1" />
   </ItemTemplate>
</asp:DataList> 
```

我想，当用户点击背景时，隐藏 ModalPopupExtender 。

我使用这个 jquery 代码。但找不到 ModalPopupExtender 。

```
var modalWindow = $("[id*=AdsDataList] [id*=ModalPopupExtender1]"); 
```

和

```
$find('#<%= AdsDataList.FindControl("ModalPopupExtender1").ClientID %>'); 
```

但得到错误

> '你调用的对象是空的。'

如何使用 jquery 查找 Datalist 控件的 clientID？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:33:40.027

您应该能够通过在没有 JQuery 的情况下调用以下命令来定位控件。

```
var dataListControl = document.getElementById('<%:AdsDataList.ClientID%>') 
```

使用 jQuery

```
var dataListControl = $find('<%:AdsDataList.ClientID%>') 
```

或者

```
var dataListControl = $('<%: AdsDataList.ClientID%>') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T07:34:11.823

单击 datalist 中的任何模板时使用此代码

```
function (e) {

            var ModalPopupExtender1= $(this).closest('tr').find('#<%=ModalPopupExtender1.ClientID %>');
            e.preventDefault();
        }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T05:50:37.620

您是否尝试过直接获取它...如果 id 是唯一的..这在您的情况下应该有效

```
 var modalWindow = $("#ModalPopupExtender1]");
 ...... 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-04T05:58:10.670

您可以利用 jQuery 的兄弟选择器。
就像`Panel`渲染一样，它就在你点击`div`的旁边。`div`

```
 function OpenPopup() {
       $(this).next("div").show();
   } 
```

或者在你的and上放一些`css`类，你可以使用 jquery，如下所示`div``panel`

```
 $(".divClass").click(function() {
        $(this).next("div.pannelclass").show();
   }); 
```

其中 .divClass 是您的 cssclass `div`，`pannelclass`也是您面板的 cssclass。

jQuery 选择器详细信息
[http://api.jquery.com/next/](http://api.jquery.com/next/)

## 编辑-1

```
<ItemTemplate>
 <div class="Detail_Content" id="detailcontact" runat="server" >
    <label><%# Eval("Name") %></label>
 </div>
 <asp:Panel ID="Panel2" CssClass='panelclass' runat="server" Style="display: none;">
     <div class="popup_block" style="width: 550px;left:30%;top:100px">
          <label><%# Eval("FatherCategoryName")                                
     </div>
 </asp:Panel>
    <cc1:ModalPopupExtender runat="server" ID="ModalPopupExtender1" 
         TargetControlID="detailcontact" PopupControlID="Panel2" 
         PopupDragHandleControlID="header" DropShadow="false" 
         RepositionMode="RepositionOnWindowResizeAndScroll" X="400" Y="130" 
         BackgroundCssClass="modalBackground"CancelControlID="btnclose1" />
 </ItemTemplate>
</asp:DataList> 
```

## jQuery

```
 $(".Detail_Content").click(function(event) {
        $(this).next("div.panelclass").show();
        event.preventDefault()
        return false;
   }); 
```

## 编辑 2

隐藏模型弹出窗口的链接

[http://www.codeproject.com/Articles/165083/Tips-Tricks-Hide-popup-on-background-click](http://www.codeproject.com/Articles/165083/Tips-Tricks-Hide-popup-on-background-click)
[http://forums.asp.net/t/1369095.aspx/1](http://forums.asp.net/t/1369095.aspx/1)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-04T06:39:28.427

```
 try this....if model id is unique

   var model =  $("[id$=ModalPopupExtender1]")

    or if not unique then use...

    OpenPopup(this) ...

    function (ob)
    {
    var e = $(this).parent().find("div#ModalPopupExtender1");
    } 
```

# c# - 正则表达式保留变量文本

> ID：15195334
> 
> 赞同：0
> 
> 时间：2013-03-04T05:47:07.020
> 
> 标签：c#, .net, regex

好的，所以我一直在寻找如何做到这一点的几个小时：

用户将以下文本添加到框中并单击转换

> 1 127.0.0.1:8080 这里有一些随机垃圾 127.0.0.1
> 2 255.255.255.255:80 随机垃圾每行都不同 www.example.com
> 3 98.76.54.32:1010 blah blah blah 98.76.54.32

使用此代码：

```
outputBox.Text = Regex.Replace(inputBox.Text, "^[[0-9]{1,3},[.],[0-9]{1,3},[.],[0-9]{1,3},[.],[0-9]{1,3},[:],[0-9]{1,5}]+", ""); 
```

它应该变成这样：

> 127.0.0.1:8080
> 255.255.255.255:80
> 98.76.54.32:1010

但是输出框显示的内容与输入的内容完全相同

所有所需文本的唯一共同点是它是
1-3 位数字，后跟一个句点 (x3)，然后是 1-3 位数字，后跟一个冒号，然后是 1-5 位数字

我还尝试了许多代码变体（删除逗号、删除句点周围的括号等）。

关于我做错了什么的任何想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T05:55:09.053

为什么用`""`没有任何意义替换，可以捕获更好的逻辑`IP:port`，`Regex Group`然后用第一组替换匹配`$1`

```
outputBox.Text = Regex.Replace(inputBox.Text, @"\d+ ((?:[0-9]{1,3}\.){3}[0-9]{1,3}:\d{1,5}).+", "$1\r\n") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T05:55:00.367

```
 string haystack = "127.0.0.1:8080 this is some ip and port 127.0.0.1";
        Regex needle = new Regex("[0-9]{1,3}[.][0-9]{1,3}[.][0-9]{1,3}[.][0-9]{1,3}([:][0-9]{2,5})?");

        string output = String.Empty;
        string[] lines = haystack.Split(new string[] { Environment.NewLine }, StringSplitOptions.None);
        foreach (string line in lines)
        {
            if (needle.IsMatch(line))
            {
                output += needle.Match(line).ToString() + Environment.NewLine;
            }
        }
        // output 127.0.0.1:8080 
```

# android - 是否可以从以前在 android 中获取的数据中播放音乐？

> ID：15195335
> 
> 赞同：0
> 
> 时间：2013-03-04T05:47:08.433
> 
> 标签：android, audio, android-music-player

我成功地播放了流媒体音频。主要问题是，如果我将搜索栏移至先前的位置，则加载会再次开始。是否不可能将数据存储在缓冲区之类的东西中并从那里播放音频，所以当我们将搜索栏移动到先前的位置时，音乐播放器会使用该缓冲数据而不是再次加载。如果有人以前做过，请给我一个架构/示例的建议。

再次解释我的问题：

如果旧数据（使用字节数组，缓冲数组，任何我们可以使用的存储）可用，那么音乐播放器应该能够使用该数据，否则正常加载机制是可以的。

**注意：** 我已经看到网络浏览器自动为 mp3 歌曲执行此任务，因此如果有人知道它是如何工作的，那么我们可以实施该解决方案。

# d3.js - d3.js 在以 geojson 格式可视化中国地图关于投影设置

> ID：15195338
> 
> 赞同：0
> 
> 时间：2013-03-04T05:47:22.667
> 
> 标签：d3.js

我想使用 d3.js 显示中国地图，但是当我成功地将 mydata 转换为 geojson 时，数据无法正确可视化。我认为原因可能是投影。你能帮我克服它吗，想想你！

```
<script>
var width = 960,
height = 500;
var proj = d3.geo.mercator();
var path = d3.geo.path().projection(proj);
proj.translate([width / 2, height / 2]);
proj.scale(5000);
proj.center([105, 35]);

var svg = d3.select("body").append("svg")
.attr("width", width)
.attr("height", height);

d3.json("mydata.json", function (json) {
    svg.selectAll("path").data(json.features).enter().append("path").attr("d", path);
}); 
```

mydata.json： [http ://mysnspace.sinaapp.com/mydata.json](http://mysnspace.sinaapp.com/mydata.json)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-24T03:53:17.077

我使用投影等距矩形而不是墨卡托并正确生成了我的。

布赖恩

# wordpress - WP_Query 分页不起作用

> ID：15195340
> 
> 赞同：0
> 
> 时间：2013-03-04T05:47:32.963
> 
> 标签：wordpress, pagination

我的 wordpress 有问题，我有这篇文章

```
$paged = 1;
if ( get_query_var('paged') ) $paged = get_query_var('paged');
if ( get_query_var('page') ) $paged = get_query_var('page');

$contacts = new \WP_Query('post_type=contact&showposts=10&paged='.$paged);

    if($contacts->have_posts()) {
        echo '<table><thead><tr><th>First Name</th><th>Last Name</th><th>Email</th><th>Birthday</th></tr><thead><tbody>';
        while($contacts->have_posts()) {
            $contacts->the_post();
            echo '<tr>';
            echo '<td>'.get_post_meta($contacts->post->ID , 'contact_first_name' , true).'</td>';
            echo '<td>'.get_post_meta($contacts->post->ID , 'contact_last_name' , true).'</td>'; 
            echo '<td>'.get_post_meta($contacts->post->ID , 'contact_email' , true).'</td>';
            echo '<td>'.get_post_meta($contacts->post->ID , 'contact_birthday' , true).'</td>';
            echo '</tr>';
        }
        echo '</tbody></table>';

        if ( get_next_posts_link() || get_previous_posts_link() ) {
            echo '<div class="wp-navigation clearfix">
            <div class="alignleft">'.next_posts_link('&laquo; Older Entries').'</div>
            <div class="alignright">'.previous_posts_link('Newer Entries &raquo;').'</div>
            </div>';
        } 
```

问题是分页不起作用，我尝试了一些解决方案，例如将 $contacts 的名称更改为 $wp_query 但没有用，我也将 showposts 更改为 posts_per_page 仍然无法正常工作，我认为问题出在：\ WP_Query，我该如何解决这个问题？我正在使用的插件已经以这种方式工作，只有这部分会出现问题

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-04T06:00:09.127

实际上我以这种方式解决了这个问题：

1.  添加了全局 $wp_query
2.  将 $contacts var 重命名为 $wp_query

    ```
    global $wp_query;

    $paged = 1;
    if ( get_query_var('paged') ) $paged = get_query_var('paged');
    if ( get_query_var('page') ) $paged = get_query_var('page');

    $wp_query = new \WP_Query('post_type=contact&showposts=10&paged='.$paged);

    if($wp_query->have_posts()) {
        echo '<table><thead><tr><th>First Name</th><th>Last Name</th><th>Email</th><th>Birthday</th></tr><thead><tbody>';
        while($wp_query->have_posts()) {
            $wp_query->the_post();
            echo '<tr>';
            echo '<td>'.get_post_meta($wp_query->post->ID , 'contact_first_name' , true).'</td>';
            echo '<td>'.get_post_meta($wp_query->post->ID , 'contact_last_name' , true).'</td>'; 
            echo '<td>'.get_post_meta($wp_query->post->ID , 'contact_email' , true).'</td>';
            echo '<td>'.get_post_meta($wp_query->post->ID , 'contact_birthday' , true).'</td>';
            echo '</tr>';
        }
        echo '</tbody></table>';

        if ( get_next_posts_link() || get_previous_posts_link() ) {
            echo '<div class="wp-navigation clearfix">
            <div class="alignleft">'.next_posts_link('&laquo; Older Entries').'</div>
            <div class="alignright">'.previous_posts_link('Newer Entries &raquo;').'</div>
            </div>';
        }
    } 
    ```

现在我可以看到分页器了

# c++ - VirtualAllocEx 是否可以分配多个页面

> ID：15195343
> 
> 赞同：1
> 
> 时间：2013-03-04T05:47:53.543
> 
> 标签：c++, winapi

有谁知道 API Win32 中的函数[VirtualAllocEx](http://msdn.microsoft.com/en-us/library/windows/desktop/aa366890%28v=vs.85%29.aspx)在我们调用它时是否可以分配多个页面？

例如我想分配 100Mo。我调用函数。分配的内存可以分成几页（一次调用）还是总是只分配一个具有确切大小的页面？

我执行了一些测试，它似乎只分配了一个具有确切大小的页面。我在这里问这个问题是因为 MSDN 上的以下文字让我感到困惑：

> 每个页面都有一个关联的页面状态。VirtualAllocEx 函数可以执行以下操作：
> 
> *   提交**保留页面的区域**
> *   保留**一个免费页面区域**
> *   同时保留和提交一个**空闲页面区域**

那么，微软是说一般用这个函数分配内存（意思是我们可以通过多次调用分配几个页面）还是可以在一次调用中分配几个页面。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T06:01:14.227

*页面*始终具有固定大小（例如 4Kb）。如果分配 16Kb，则分配 4 个页面，即使它们被分配为单个块。

如果你的意思是问是否`VirtualAllocEx`可以分配几个不同*的内存块，*那么不能，从它只返回一个指针来判断，它不能。它返回一个您请求的大小或更大的内存块。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T05:55:34.987

VirtualAllocEx 将根据需要分配尽可能多的页面。页面具有以 KB 为单位的固定大小，因此如果分配 100Mb，它肯定会分配很多页面。我认为当您说页面时，您的意思有所不同。

# javascript - jQuery将类添加到第一项，直到单击另一个

> ID：15195344
> 
> 赞同：1
> 
> 时间：2013-03-04T05:48:01.130
> 
> 标签：javascript, jquery

我正在使用 jQuery 将 .current 类添加到内置于 wordpress 插件中的一系列缩略图中。我不熟悉 MooTools，所以我尝试使用 jQuery 添加 .current 类。我要做的是将 .current 类添加到第一个缩略图 div 并在单击另一个类后删除该类。

这是我到目前为止所拥有的：

```
$('div.thumb img').click(function() {  // When we click on something in the filter menu
        $(this).css('outline','none'); // Remove css outline
        $('div.thumb').removeClass('current'); // Removes the current class from where it is now
        $(this).parent().addClass('current'); // Adds the current class to the item we clicked on
    return false;
}); 
```

这确实会在单击项目后添加类，但初始缩略图未突出显示。所以我正在尝试设置初始缩略图，使其具有 .current 类，直到单击另一个缩略图。

任何帮助将不胜感激。

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-04T05:51:09.693

在 dom read 上，您需要获取第一个 thumb 元素，然后将`current`类添加到它。

```
$(function(){
    $('div.thumb:first').addClass('current')
}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T05:52:56.783

把这个放在`doc ready`：

```
 $('div.thumb').first().addClass('current') 
```

# android - Android：如何以编程方式向 Nonin OnyxII 9560 脉搏血氧仪发送命令以选择数据格式并显示 SpO2 和心率值

> ID：15195346
> 
> 赞同：0
> 
> 时间：2013-03-04T05:48:17.790
> 
> 标签：android, bluetooth, dataformat

我正在开发老年人医疗保健的 Android 应用程序。我使用的设备是 Nonin Onyx II 9560 脉搏血氧仪和 Nexus 7 平板电脑。

该应用程序将允许脉搏血氧仪和平板电脑相互通信。一旦用户使用脉搏血氧仪进行测量，读数将通过蓝牙传输到平板电脑。

我已经完成了连接会话，但我不知道如何向脉搏血氧仪发送命令，选择数据格式以及接收后如何在平板电脑上显示 SpO2 和心率的读数。

[我的应用程序与Simple Eye 应用](http://simpleeye.com/platforms/android/live-pulse-oximeter/)程序非常相似。

我发现有人面临与我相同的问题，但是他通过使用[本网站](https://stackoverflow.com/questions/10402291/parsing-data-from-hdp-device-for-android-api-15)中的代码解决了他的问题。该代码用于血液快感传感器。

以下代码来自我的应用服务类。我没有购买 Nonin Onyx II 9560 的开发套件。

谁能帮我解决这些问题。请给我一些想法或帮助我修改我的代码。非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T05:53:20.400

您很可能需要从制造商处购买[开发套件](http://www.nonin.com/documents/M-3809%209560%20Development%20Kit%20Order%20Form.pdf)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-13T18:54:42.147

我换了两个地方，得到了新的记录，但不是所有的记录。

1.  obj_handle

2.  byteToUnsignedInt(data[packet_start+5]); // 5 在 DataReporting 中找到（IEEE Std 11073-10404 的第 67 页）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-05-27T21:56:35.387

如果它是类似于 Nonin WristOx 的东西，我建议您学习如何通过 Termie 或 OSX CoolTerm 等 PC 终端发送 Hex 命令。该协议应该在公开可用的文档中（它可用于 WristOx）一旦您掌握了这一点，您就可以将其调整到其他平台（Android）。

Github 中有很好的例子。

# ios - 使用 IB / Xcode 4.5.1 和 iOS Simulator 6.0 自定义 UIView 操作方法

> ID：15195349
> 
> 赞同：0
> 
> 时间：2013-03-04T05:48:36.740
> 
> 标签：ios, uiview, ios6

我知道有几个与此类似的问题，但我发现它们中的大多数不适用于当前的 IB / iOS 或不完整。

我想要一个自定义 UIView 有一个笔尖，但我没有`hooked up`正确地得到它。我花了几个小时调试，然后我就去了（也许坐在浴缸里）。如果您觉得这是一个简单的操作，请提前道歉；提前谢谢任何帮助。

目前要做到这一点，我：

1.  创建自定义视图文件：File -> New -> File -> Objective-C Class 并选择 UIView 的类型并将其命名为 MyView；创建 MyView.h 和 MyView.m
2.  创建自定义视图笔尖：文件 -> 新建 -> 文件 -> 用户界面 -> 视图并将其命名为“酷”；cool.xib 已创建
3.  在 IB for cool.xib 中，进入 Identity Inspector 并从 UIView -> MyView 设置自定义类；问题 #1 - 此时 MyView 是否知道在实例化时加载cool.xib 还是需要做更多？
4.  此外，在 IB 中，我突出显示文件的所有者并将其自定义类设置为 MyView。（？ - 不确定）
5.  我想创建一个文本标签，所以我将一个 UILabel 拖到 cool.xib 上，并在 MyView.h 中创建一个公共属性 (myLabel)。问题 #2 我是否需要为此设置自定义类为 MyView？我不认为这只是一个标准的 UILabel。
6.  我有一个单视图应用程序，我想在它上面有一个 MyView /cool 的实例，所以在 IB 中，我将一个视图从对象检查器拖到 ViewController.xib 视图中。在 IB Identity Inspector 中，我将类设置为 MyView。我将 MyView.h 文件导入 ViewController.h 并在界面中为其设置属性。
7.  在 ViewController.m 的 viewDidLoad 中，我将背景颜色设置为橙色并设置 myLabel（由 Xcode 填充，因此它似乎有点工作）。

我运行应用程序，backgroundColor 设置为橙色但没有标签，我很困惑为什么不呢？以上步骤是否有错误？

提前谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T07:33:27.617

> 在 IB for cool.xib 中，进入 Identity Inspector 并从 UIView -> MyView 设置自定义类；问题 #1 - 此时 MyView 是否知道在实例化时加载cool.xib 还是需要做更多？

它知道您的 XIB 由该类管理。但是还需要做更多的工作，才能让你使用它。

跳过第 4 题。这适用于 a `UIViewController`，您可以在其中与文件所有者一起定义谁将负责它。

> 我想创建一个文本标签，所以我将一个 UILabel 拖到 cool.xib 上，并在 MyView.h 中创建一个公共属性 (myLabel)。问题 #2 我是否需要为此设置自定义类为 MyView？我不认为这只是一个标准的 UILabel。

如果您希望能够从`MyView`您`MyView`的. 在这种情况下，您不要触摸文件的所有者。`MyView``UILabel`

最后检查一下，为了正确加载自定义视图=>[从笔尖加载自定义UIView，笔尖中包含的所有子视图都是零？](https://stackoverflow.com/questions/7588066/loading-custom-uiview-from-nib-all-subviews-contained-in-nib-are-nil)

# c++ - 转换 Rcpp NumericMatrix 以与 Boost Geometry 一起使用

> ID：15195350
> 
> 赞同：1
> 
> 时间：2013-03-04T05:48:37.723
> 
> 标签：c++, r, boost, rcpp, boost-geometry

我发现如果没有Rcpp 及其相关软件包为不同对象类型之间的转换提供的 nice`<as>`和命令，我会迷失方向。`<wrap>`

我有一个点矩阵，其中的行代表二维笛卡尔空间中的点：

```
 pointsMatrix <- matrix(runif(100,-1,1),50,50) 
```

然后我想使用[boost geometry 中的convex_hull 算法](http://www.boost.org/doc/libs/1_53_0/libs/geometry/doc/html/geometry/reference/algorithms/convex_hull.html)来找到点的凸包。

但是，我不确定如何将其转换为可以理解`NumericMatrix`的数据类型之一。`convex_hull`此外，我不确定如何将 Boost Geometry 的输出转换回 Rcpp 可以交回给 R 的东西。

```
 #include <Rcpp.h>
 #include <boost/geometry.hpp>
 #include <boost/geometry/geometries/polygon.hpp>
 using namespace Rcpp;

 BOOST_GEOMETRY_REGISTER_BOOST_TUPLE_CS(cs::cartesian)

 // [[Rcpp::export]]
 NumericMatrix convexHullRcpp(NumericMatrix pointsMatrix){

     typedef boost::tuple<double, double> point;
     typedef boost::geometry::model::polygon<point> polygon;

 // Some sort of conversion of pointsMatrix here to pointsMatrixBG//

     polygon hull;
     boost::geometry::convex_hull(pointsMatrixBG, hull);

     //Now to convert hull into something that Rcpp can hand back to R.//

  return hullToR;
 } 
```

看起来 boost.tuple 可能是最好的选择

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-02-22T21:17:21.063

这是一个小 test.cpp 文件

```
#include <Rcpp.h>
#include <boost/geometry.hpp>
#include <boost/geometry/geometries/polygon.hpp>
#include <boost/geometry/geometries/point_xy.hpp>

using namespace Rcpp;

typedef boost::geometry::model::d2::point_xy<double, boost::geometry::cs::cartesian> Point;
typedef boost::geometry::model::polygon<Point, true, true> Polygon; 

namespace Rcpp {
  template <> Polygon as(SEXP pointsMatrixSEXP) {
    NumericMatrix pointsMatrix(pointsMatrixSEXP);
    Polygon pointsMatrixBG;
    for (int i = 0; i < pointsMatrix.nrow(); ++i) {
      double x = pointsMatrix(i,0);
      double y = pointsMatrix(i,1);
      Point p(x,y);
      pointsMatrixBG.outer().push_back(p); 
    }
    return (pointsMatrixBG);
  } 

  template <> SEXP wrap(const Polygon& poly) {
    const std::vector<Point>& points = poly.outer();
    NumericMatrix rmat(points.size(), 2);
    for(int i = 0; i < points.size(); ++i) {
      const Point& p = points[i];
      rmat(i,0) = p.x();
      rmat(i,1) = p.y();
    }
    return Rcpp::wrap(rmat);
  }
}

// [[Rcpp::export]]
NumericMatrix convexHullRcpp(SEXP pointsMatrixSEXP){

  // Conversion of pointsMatrix here to pointsMatrixBG
  Polygon pointsMatrixBG = as<Polygon>(pointsMatrixSEXP);

  Polygon hull;
  boost::geometry::convex_hull(pointsMatrixBG, hull);

  //Now to convert hull into something that Rcpp can hand back to R.//
  return wrap(hull);
} 
```

然后你可以在 R 中测试它。

```
library(Rcpp)
sourceCpp("test.cpp")
points <- c(2.0, 1.3, 2.4, 1.7, 2.8, 1.8, 3.4, 1.2, 3.7, 1.6,3.4, 2.0, 4.1, 3.0, 5.3, 2.6, 5.4, 1.2, 4.9, 0.8, 2.9, 0.7,2.0, 1.3)
points.matrix <- matrix(points, ncol=2, byrow=TRUE)
> convexHullRcpp(points.matrix)
     [,1] [,2]
[1,]  2.0  1.3
[2,]  2.4  1.7
[3,]  4.1  3.0
[4,]  5.3  2.6
[5,]  5.4  1.2
[6,]  4.9  0.8
[7,]  2.9  0.7
[8,]  2.0  1.3 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T11:57:25.410

通常，一旦您使用 R 未知的类型，您需要构建自己的自定义转换器函数`as<>()`和`wrap()`.

正如评论中所指出的，有一个完整的小插曲专门用于它。包中也有示例，例如[Rcpp Gallery 中](http://gallery.rcpp.org/articles/custom-as-and-wrap-example/)关于自定义`as<>()`和`wrap()`. 我将从 C++ 中的 Boost Geometry 示例开始了解它们的数据结构是如何填充的，然后从我的 C++ 中填充它们。没有捷径可走。*没有免费午餐*定理仍然成立。

# php - 遇到 PHP 错误 严重性：通知消息：未定义的属性：stdClass::$moderator_id，使用 codeigniter

> ID：15195352
> 
> 赞同：0
> 
> 时间：2013-03-04T05:48:48.017
> 
> 标签：php, codeigniter

嘿伙计们，我是 codeigniter 的新手，我正在开发一个应用程序，我必须从 mysql 数据库中获取数据，为此我在控制器中创建两个视图和两个函数来处理视图。. 问题是我在一个视图中出现错误，而在另一个视图中它的工作正常。. . 两个视图都有相同的代码。. . 错误在哪里请帮忙。.

两个视图中的代码

```
 <?php foreach ($rows as $row):?>
            <tr>
                <td><?php echo anchor("Home/edit_moderator/" . $row->member_id, 'Edit'); ?></td>
                <td><a href="<?php echo site_url("dbcont/deletemoderator/" . $row->member_id);?>" onclick="return confirm('Delete content?');">Delete</a></td>
                <td><?php echo $row->member_name;  ?></td>
                <td><?php echo $row->moderator_id;  ?></td>
                <td><?php echo $row->kcc_branch;  ?></td>
                <td><?php echo $row->father_name;  ?></td>
                <td><?php echo $row->address;  ?></td>
                <td><?php echo $row->date;  ?></td>
            </tr>
            <?php endforeach; ?> 
```

当我获取错误时 `moderator_id`

```
<td><?php echo $row->moderator_id;  ?></td> 
```

在第一个视图中它获取但在第二个视图中它没有。.

编辑 ：

这是模型

```
function get_moderators(){ 

    $select =   array(
                    'member_id', 
                    'member_name', 
                    'father_name', 
                    'date', 
                    'kcc_branch', 
                    'date_of_birth', 
                    'address', 
                    'phone', 
                    'mobile', 
                    'occupation', 
                    'pan', 
                    'bank_name', 
                    'bank_acc_no', 
                    'bank_branch', 'moderator'
    );

$this->db->select($select); 
$this->db->where('moderator', 1); 
$q = $this->db->get('tbl_members'); 
    if($q->num_rows() > 0) { 
        foreach ($q->result() as $row) { 
            $data[] = $row; 
        }
        return $data; 
    } 
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-11-25T10:16:16.043

您可以摆脱选择数组并使用

> $this->db->select('*');

应该也可以

我有一个类似的错误，结果证明我的数据库选择语句是错误的。这是一个坏的：

> $this->db->select('field1', 'field2', 'field3', 'field4'); //错误代码

这是正确的方法：

> $this->db->select('field1, field2, field3, field4'); //好的

或者

> $this->db->select('*'); //还好

此致

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:40:53.660

我得到了答案。. 我的错误是我没有在选择查询中选择 moderator_id 。.这是回答伙计们的答案。.

```
function get_moderators(){ 

$select =   array(
                'member_id',
                'moderator_id', 
                'member_name', 
                'father_name', 
                'date', 
                'kcc_branch', 
                'date_of_birth', 
                'address', 
                'phone', 
                'mobile', 
                'occupation', 
                'pan', 
                'bank_name', 
                'bank_acc_no', 
                'bank_branch', 'moderator'
);

$this->db->select($select); 
$this->db->where('moderator', 1); 
$q = $this->db->get('tbl_members'); 
if($q->num_rows() > 0) { 
    foreach ($q->result() as $row) { 
        $data[] = $row; 
    }
    return $data; 
} 
} 
```

# php - 原则 2：正确组织 CRUD 操作。

> ID：15195355
> 
> 赞同：1
> 
> 时间：2013-03-04T05:49:07.860
> 
> 标签：php, model, doctrine-orm, crud

需要一些关于如何使用教义组织模型的 CRUD 操作的建议2。我使用 yaml 映射文件进行表定义。自动生成模型类、代理和自定义存储库类。在我的实体存储库类中，我为复杂的 SQl、DQL 定义了方法。但我不确定我必须将创建、更新和删除操作放在哪里？在存储库类中？在模型课？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T05:52:40.333

通常，您只使用实体管理器，例如从控制器中，`em`然后处理所有实际的 CRUD 操作。除非您想对某物或其他东西运行某种大规模更新，否则不应该为此使用自定义方法。在这种情况下，它将进入存储库类而不是实体。

# iphone - 将 3rd 方库添加到 iPhone 应用程序时如何设置“标题搜索路径”的路径

> ID：15195357
> 
> 赞同：5
> 
> 时间：2013-03-04T05:49:16.677
> 
> 标签：iphone, ios, objective-c, xcode4.2

我想在我的项目中添加一个第三方库[Speech-To-Text](https://github.com/todoroo/iPhone-Speech-To-Text)`Xcode`。我只是将`xcodeproj`文件拖到我的 iPhone 项目中。然后我确实按照目标依赖项、将二进制文件与库链接并设置标题搜索路径等步骤进行了操作。但是我对如何正确设置标题搜索路径感到困惑。然后我导入`#import SpeechToTextModule.h`'那个时候我遇到了`SpeechToTextModule.h` **文件未找到**之类的错误。请帮助我。

提前致谢！！！

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-04T05:57:31.263

![在此处输入图像描述](../Images/925d9b79716f72a951c1d2a19c98b9a2.png)

以下是为外部 3rd 方库添加标头搜索路径的步骤：

1.  选择项目的构建设置
2.  从设置中选择标题搜索路径属性
3.  添加头目录，不要忘记最后`/`和周围的引号

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T05:58:44.250

对于静态库，我们需要将头文件与库一起添加到 Xcode 项目中。

# r - 如何使用 op 函数让我的森林图的标签出现？

> ID：15195362
> 
> 赞同：2
> 
> 时间：2013-03-04T05:49:45.410
> 
> 标签：r, plot

我成功地为我的研究创建了一个森林地块。但是，森林图顶部的标签（即列标题）没有显示在我的森林图上。我正在使用`op<- par (cex = 1, font = 2)`下面的功能。正如我的控制台所证明的那样，它们正在成功地“运行”。但是，标签没有显示出来。我在之前的森林图上使用了这些精确的坐标作为标签，效果很好。为什么我无法使用此功能显示它，我该怎么做才能修复它？或者我在哪里可以找到信息（例如，包裹或网站？）。

```
author<-as.character(na.omit(data.1$Author)) 

tx<-as.character(na.omit(data.1$treat1))

forest(FTmet.3,
       xlim = c(-14,6),
       at = c(-3, 0,.75, 3),
       slab = paste(author),
       ilab = cbind(tx),  
       ilab.xpos = c(-6), cex = 1)

op <- par(cex = 1, font = 2)
      text(-13.2,20.5, "Study")
      text(-6.2, 20.5, "Intervention")
      text(3.5, 20.5, "Standardized Mean Difference (g)") 
```

# sql-server-2008 - 从 SQL 中的游标中获取记录

> ID：15195364
> 
> 赞同：6
> 
> 时间：2013-03-04T05:49:54.430
> 
> 标签：sql-server-2008, database-cursor

我有记录列表并创建了游标来遍历每条记录并检查某些条件并返回记录，如果它满足我的游标如下：

```
DECLARE @ID int
DECLARE @FromDate datetime, @ToDate datetime
DEClare @expid as int
set @expid = 839
DECLARE IDs CURSOR FOR 
select patpid,fromdate,todate from tdp_ProviderAccomodationTariffPlan where fk_patid =    162 and fk_pacid = 36

 OPEN IDs
 FETCH NEXT FROM IDs into @ID,@FromDate,@ToDate
 WHILE @@FETCH_STATUS = 0
 BEGIN
print @ID 
print @FromDate
print @ToDate

--SELECT patpid,rate,SType FROM tdp_ProviderAccomodationTariffPlan 
--WHERE ('2012-12-27' BETWEEN @FromDate AND @ToDate) and fk_patid = 162 and fk_pacid = 36

FETCH NEXT FROM IDs into @ID,@FromDate,@ToDate  

END
CLOSE IDs
DEALLOCATE IDs 
```

在循环游标获取 id 为 '839' 的记录中，请帮我解决问题。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-05T05:51:26.727

将光标替换为 WHILE 循环以获得更快的性能，如下所示：

```
select identity(int,1,1) as id, patpid,fromdate,todate
INTO #temp1
from tdp_ProviderAccomodationTariffPlan
where fk_patid =    162 and fk_pacid = 36

declare @index int
declare @count int

select @count = count(*) from @temp1
set @index = 1

declare @patpid int
declare @fromdate datetime
declare @todate datetime

while @index <= @count
begin

  select @patid = patid,
         @fromdate = fromdate,
         @todate = todate
  from #temp1
  where id = @index

  -- do your logic here

  set @index= @index + 1
end

drop table #temp1 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-04T06:57:43.040

由于您有日期列表，因此您应该为该列表声明游标，而不是为`tdp_ProviderAccomodationTariffPlan`：

```
CREATE TABLE #TEMP_TABLE (PATPID INT, RATE ..., STYPE ...)
DECLARE @MY_DATE DATETIME, @FromDate DATETIME, @ToDate DATETIME
SET @FromDate = '...'
SET @ToDate = '...'
DECLARE THE_CURSOR CURSOR FOR 
select MY_DATE from YOUR_DATE_LIST 

 OPEN THE_CURSOR
 FETCH NEXT FROM THE_CURSOR into @MY_DATE
 WHILE @@FETCH_STATUS = 0
 BEGIN

 INSERT INTO #TEMP_TABLE
SELECT patpid,rate,SType FROM tdp_ProviderAccomodationTariffPlan 
WHERE (@MY_DATE BETWEEN @FromDate AND @ToDate) and fk_patid = 162 and fk_pacid = 36

FETCH NEXT FROM THE_CURSOR into @MY_DATE
END
CLOSE THE_CURSOR
DEALLOCATE THE_CURSOR   
select * from #temp_table
DROP TABLE #TEMP_TABLE 
```

但我建议您避免使用游标。在 .NET 代码中执行此操作更容易、更快捷

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-05-28T10:00:03.903

```
ALTER PROCEDURE [dbo].[SP_UpdateEmpStatus_IfLastAttDateMoreThan50]
(
@Msg NVARCHAR(MAX)=null OUTPUT
)
AS
BEGIN 

/**Declare Cursor**/
DECLARE @TCursor CURSOR

/**Declare Cursor**/

DECLARE @EmpCode bigint=null,@maxAttDate DATE=null,@totDays INT=null

/**Creating TempDetails Table**/
CREATE TABLE #TempDetails
(EmpCode BIGINT,maxAttDate DATE,totDays int)
/**Creating TempDetails Table**/

INSERT INTO #TempDetails(EmpCode,maxAttDate,totDays)
(
SELECT  EmpCode,MAX( LastAttDate) AS maxAttDate,(DATEDIFF(DAY,MAX( LastAttDate),GETDATE())) As totDays FROM tbl_EmpdutyDays
WHERE EmpCode IN (SELECT DISTINCT EmpCode FROM tbl_Set_EmpWiseValidations WHERE Status=1)
GROUP BY EmpCode        
)

SET @TCursor =CURSOR FOR SELECT EmpCode,maxAttDate,totDays FROM #TempDetails
OPEN @TCursor 
FETCH NEXT FROM @TCursor INTO @EmpCode,@maxAttDate,@totDays
WHILE @@FETCH_STATUS=0
BEGIN
        IF(@totDays IS NOT NULL)
        BEGIN
                IF (@totDays>=50)
                BEGIN
                    UPDATE tbl_Set_EmpRestric
                    SET [Status]=0
                    WHERE EmpCode=@EmpCode

                    UPDATE tbl_Employees
                    SET [Status]=0
                    WHERE EmpCode=@EmpCode
                END

        END  

        FETCH NEXT FROM @TCursor INTO @EmpCode,@maxAttDate,@totDays
END
SET @Msg='more Than 50 days Deactived Successfully.'
DEALLOCATE @TCursor
SELECT * FROM #TempDetails
DROP TABLE #TempDetails
END 
```

# android - 制作增强现实应用程序需要哪些技能？

> ID：15195366
> 
> 赞同：2
> 
> 时间：2013-03-04T05:50:08.833
> 
> 标签：android, augmented-reality

我必须用 AR 开始一个项目，作为一个初学者，我不知道从哪里开始和结束。现在我已经开始使用 Unity 学习过程，这是正确的方法吗？AR还需要什么其他技能。

# tomcat - servlet代码中的内部类的tomcat中的ClassNotFoundException

> ID：15195367
> 
> 赞同：1
> 
> 时间：2013-03-04T05:50:19.883
> 
> 标签：tomcat, classnotfoundexception

我们有一个 Web 应用程序，其实例在同一个 tomcat (v6.0.14) 实例下多次部署。假设war文件名为“app.war”，那么我们部署“app1.war”、“app2.war”等。

所有应用程序实例 (~20) 都已正确部署。当访问这些应用程序上的 servlet 时，有时它们会`NoClassDefFoundError`因`ClassNotFoundException`在 tomcat 中的`WebAppClassLoader`. 以下是一个例子——

```
java.lang.NoClassDefFoundError: com/xxx/APISocketServer$ClientRequestHandler
    at com.xxx.APISocketServer$APISocketServerThread.run(APISocketServer.java:143)
Caused by: java.lang.ClassNotFoundException: com.xxx.APISocketServer$ClientRequestHandler
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1358)
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1204)
    ... 1 more 
```

有问题的类是应用程序代码的一部分，而不是任何库的一部分。

由于某些应用程序实例运行正确，这不可能是类路径配置错误的情况。需要注意的一点是，只有几个类无法加载。这些类没有任何静态初始化程序块，这可能导致类初始化失败。我检查了 tomcat 日志（catalina.out、localhost.log）并没有发现任何类初始化错误。

我应该如何继续调试这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-05T17:02:30.057

经过进一步调查，发现打开文件描述符的限制 (1024) 是罪魁祸首。每个应用程序实例都需要由其类加载器 ( `WebappClassLoader`) 打开的 Jar 文件的自己的副本。如果 90 秒内未访问 Jar 文件中的类，则类加载器将关闭文件。如果在短时间内访问了多个应用程序实例，则`openJARs`函数将失败，导致类未加载。

`WebappClassLoader`如果在更高的日志级别记录了打开 JAR 文件的失败，则会更早地发现该错误。错误记录在调试级别。为 启用调试级别`WebappClassLoader`，有助于找出问题所在。

# php - 删除功能不起作用 - Yii

> ID：15195369
> 
> 赞同：0
> 
> 时间：2013-03-04T05:50:25.557
> 
> 标签：php, yii, yii-events

我正在 YII 中建立一个站点。我为我的一个控制器制作了一项功能，例如删除。我已经定义了这样的访问规则。

```
public function accessRules()
{
    return array(
        array('allow', // allow authenticated user to perform 'create' and 'update' actions
            'actions'=>array('index', 'create', 'delete', 'update'),
            'users'=>array('*'),
        ),
        array('deny',
            'users' => array('*'),
        ),
    );

} 
```

仍然如果我在登录后尝试访问删除功能，它会给我这个错误。

```
CHttpException

You are not authorized to perform this action. (C:\xampp\htdocs\framework\web\auth\CAccessControlFilter.php:170) 
```

谁能告诉我我在这里做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T06:07:26.363

```
 public function accessRules()
    {
        return array(
            array('allow', // allow authenticated user to perform 'create' and 'update' actions
                'actions'=>array('index', 'create', 'delete', 'update'),
                'users'=>array('@'),
            ),
            array('deny',
                'users' => array('*'),
            ),
        );

    }
Simple Thing you are allowing for all user and also deny for all user then how it will be work now login with demo/demo or admin/admin you can delete 
```

# java - 如何将值插入数据库的类型日期列？

> ID：15195374
> 
> 赞同：1
> 
> 时间：2013-03-04T05:50:56.470
> 
> 标签：java, mysql, date

如何将作为日期的变量的值保存到数据库中。

我的字符串如下

爪哇

```
 SimpleDateFormat formatter = new SimpleDateFormat("yyyy-MM-dd");
    try {
        SimpleDateFormat parseFormatter = new SimpleDateFormat("yyyy-MM-dd");
        //SimpleDateFormat dt = new SimpleDateFormat("yyyyy-mm-dd hh:mm:ss+hh:mm"); 
        Date date = parseFormatter.parse(mydate);

        String formattedDate = formatter.format(date);
        System.out.println("Date"+formattedDate);
      return formattedDate;  <<need to save its value to database lets say its value is 2013-03-19 
```

我需要将其保存到其类型为日期的表格列中。

数据库

```
Name Type
Date date 
```

我想我需要将字符串转换为日期，但如何？

```
ps.setDate(????) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T05:59:42.023

如果 mydate 是 yyyy-MM-dd 格式的字符串，那么您可以执行以下操作

```
 PreparedStatement ps = conn.prepareStatement("insert into t1 (date) values (?)");
    ps.setDate(1, java.sql.Date.valueOf(mydate));
    ps.executeUpdate(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T05:53:21.450

在 MySql 中使用[STR_TO_DATE](https://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_str-to-date)函数

**编辑**

例如

```
INSERT INTO table (dateCol1, col2 ..)
VALUES (STR_TO_DATE('May 1, 2013','%M %d,%Y'), col2value, ...) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T05:55:27.070

MySQL 理解日期。假设您使用的是`PreparedStatement`标准 JDBC `stmt.setDate(n,date)`，其中`n`参数索引`date`是日期类型的 Java 变量。

无需进行任何字符串转换。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-04T06:32:25.993

> 我想我需要将字符串转换为日期，但是如何？

如果你想转换`String`成`Date`，假设你`String`是`2013-03-19`

```
String yourString = "2013-03-19";
Date date = new SimpleDateFormat("yyyy-MM-dd").parse(yourString); 
```

这里你`String`被转换成`Date`对象，但是如果你需要将这个特定的日期设置为另一个日期对象，那么这是不可能的，`yourDateObj.setDate(date)`因为在 Date 类中没有任何这样的直接方法，它将日期作为参数。

要设置特定日期，您可以使用日历，例如

```
Calendar yourDate = new GregorianCalendar();
yourDate.setTime(date); 
```

否则，您也可以这样做，`Date(int year, int month, int date)`但现在已弃用。

或者，如果您想插入`String`然后# [function_str-to-date 的](https://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_str-to-date)`Date`列，我同意**Ed Heal**的回答`mysql`

# java - java swing中图形的标签

> ID：15195375
> 
> 赞同：2
> 
> 时间：2013-03-04T05:50:56.523
> 
> 标签：java, swing, graphics, graph, paintcomponent

在[Java](https://stackoverflow.com/questions/8693342/drawing-a-simple-line-graph-in-java)堆栈溢出的东西中绘制一个简单的折线图为绘制折线图提供了一个好主意。但我不知道如何在图中标记`X`和`Y-axis`。谁能告诉我如何标记 x 和 y 坐标。

```
import java.awt.BasicStroke;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.Graphics;
import java.awt.Graphics2D;
import java.awt.Point;
import java.awt.RenderingHints;
import java.awt.Stroke;
import java.util.ArrayList;
import java.util.List;
import java.util.Random;
import javax.swing.*;

@SuppressWarnings("serial")
public class DrawGraph extends JPanel {
   private static final int MAX_SCORE = 20;
   private static final int PREF_W = 800;
   private static final int PREF_H = 650;
   private static final int BORDER_GAP = 30;
   private static final Color GRAPH_COLOR = Color.green;
   private static final Color GRAPH_POINT_COLOR = new Color(150, 50, 50, 180);
   private static final Stroke GRAPH_STROKE = new BasicStroke(3f);
   private static final int GRAPH_POINT_WIDTH = 12;
   private static final int Y_HATCH_CNT = 10;
   private List<Integer> scores;

   public DrawGraph(List<Integer> scores) {
      this.scores = scores;
   }

   @Override
   protected void paintComponent(Graphics g) {
      super.paintComponent(g);
      Graphics2D g2 = (Graphics2D)g;
      g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);

      double xScale = ((double) getWidth() - 2 * BORDER_GAP) / (scores.size() - 1);
      double yScale = ((double) getHeight() - 2 * BORDER_GAP) / (MAX_SCORE - 1);

      List<Point> graphPoints = new ArrayList<Point>();
      for (int i = 0; i < scores.size(); i++) {
         int x1 = (int) (i * xScale + BORDER_GAP);
         int y1 = (int) ((MAX_SCORE - scores.get(i)) * yScale + BORDER_GAP);
         graphPoints.add(new Point(x1, y1));
      }

      // create x and y axes 
      g2.drawLine(BORDER_GAP, getHeight() - BORDER_GAP, BORDER_GAP, BORDER_GAP);
      g2.drawLine(BORDER_GAP, getHeight() - BORDER_GAP, getWidth() - BORDER_GAP, getHeight() - BORDER_GAP);

      // create hatch marks for y axis. 
      for (int i = 0; i < Y_HATCH_CNT; i++) {
         int x0 = BORDER_GAP;
         int x1 = GRAPH_POINT_WIDTH + BORDER_GAP;
         int y0 = getHeight() - (((i + 1) * (getHeight() - BORDER_GAP * 2)) / Y_HATCH_CNT + BORDER_GAP);
         int y1 = y0;
         g2.drawLine(x0, y0, x1, y1);
      }

      // and for x axis
      for (int i = 0; i < scores.size() - 1; i++) {
         int x0 = (i + 1) * (getWidth() - BORDER_GAP * 2) / (scores.size() - 1) + BORDER_GAP;
         int x1 = x0;
         int y0 = getHeight() - BORDER_GAP;
         int y1 = y0 - GRAPH_POINT_WIDTH;
         g2.drawLine(x0, y0, x1, y1);
      }

      Stroke oldStroke = g2.getStroke();
      g2.setColor(GRAPH_COLOR);
      g2.setStroke(GRAPH_STROKE);
      for (int i = 0; i < graphPoints.size() - 1; i++) {
         int x1 = graphPoints.get(i).x;
         int y1 = graphPoints.get(i).y;
         int x2 = graphPoints.get(i + 1).x;
         int y2 = graphPoints.get(i + 1).y;
         g2.drawLine(x1, y1, x2, y2);         
      }

      g2.setStroke(oldStroke);      
      g2.setColor(GRAPH_POINT_COLOR);
      for (int i = 0; i < graphPoints.size(); i++) {
         int x = graphPoints.get(i).x - GRAPH_POINT_WIDTH / 2;
         int y = graphPoints.get(i).y - GRAPH_POINT_WIDTH / 2;;
         int ovalW = GRAPH_POINT_WIDTH;
         int ovalH = GRAPH_POINT_WIDTH;
         g2.fillOval(x, y, ovalW, ovalH);
      }
   }

   @Override
   public Dimension getPreferredSize() {
      return new Dimension(PREF_W, PREF_H);
   }

   private static void createAndShowGui() {
      List<Integer> scores = new ArrayList<Integer>();
      Random random = new Random();
      int maxDataPoints = 16;
      int maxScore = 20;
      for (int i = 0; i < maxDataPoints ; i++) {
         scores.add(random.nextInt(maxScore));
      }
      DrawGraph mainPanel = new DrawGraph(scores);

      JFrame frame = new JFrame("DrawGraph");
      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      frame.getContentPane().add(mainPanel);
      frame.pack();
      frame.setLocationByPlatform(true);
      frame.setVisible(true);
   }

   public static void main(String[] args) {
      SwingUtilities.invokeLater(new Runnable() {
         public void run() {
            createAndShowGui();
         }
      });
   }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:17:19.277

很多都归结为您要呈现文本的“位置”。

我的意思是，你想修改现有线条的位置，还是你想用`BORDER_GAP`

您可以从查看[使用文本 API开始](http://docs.oracle.com/javase/tutorial/2d/text/index.html)

你可以从一些简单的事情开始，例如...

```
FontMetrics fm = g2.getFontMetrics();
// create hatch marks for y axis. 
for (int i = 0; i < Y_HATCH_CNT; i++) {
    int x0 = BORDER_GAP;
    int x1 = GRAPH_POINT_WIDTH + BORDER_GAP;
    int y0 = getHeight() - (((i + 1) * (getHeight() - BORDER_GAP * 2)) / Y_HATCH_CNT + BORDER_GAP);
    int y1 = y0;
    g2.drawLine(x0, y0, x1, y1);
    String value = Integer.toString(i);
    g2.drawString(value, x0 - fm.stringWidth(value), y0 + (fm.getAscent() / 2));
}

// and for x axis
for (int i = 0; i < scores.size() - 1; i++) {
    int x0 = (i + 1) * (getWidth() - BORDER_GAP * 2) / (scores.size() - 1) + BORDER_GAP;
    int x1 = x0;
    int y0 = getHeight() - BORDER_GAP;
    int y1 = y0 - GRAPH_POINT_WIDTH;
    g2.drawLine(x0, y0, x1, y1);
    String value = Integer.toString(i);
    g2.drawString(value, x0 - (fm.stringWidth(value) / 2), y0 + fm.getAscent());
} 
```

例如，它将在每个舱口旁边渲染一个数字（对应于循环的索引）......

**更新了旋转示例**

现在如果你想旋转，比如 x 系列，所以标签垂直运行，你可以做类似的事情......

```
FontMetrics fm = g2.getFontMetrics();
// create hatch marks for y axis. 
for (int i = 0; i < Y_HATCH_CNT; i++) {
    int x0 = BORDER_GAP;
    int x1 = GRAPH_POINT_WIDTH + BORDER_GAP;
    int y0 = getHeight() - (((i + 1) * (getHeight() - BORDER_GAP * 2)) / Y_HATCH_CNT + BORDER_GAP);
    int y1 = y0;
    g2.drawLine(x0, y0, x1, y1);
    AffineTransform oldTransform = g2.getTransform();
    AffineTransform newTransform = new AffineTransform();
    newTransform.translate(-fm.getHeight() / 2, 0);
    newTransform.rotate(Math.toRadians(-90), x0, y0);
    g2.setTransform(newTransform);
    String value = Integer.toString(i);
    g2.drawString(value, x0 - (fm.stringWidth(value) / 2), y0 + (fm.getAscent() / 2));
    g2.setTransform(oldTransform);
} 
```

# c# - SetParent to hook，你如何解开？

> ID：15195376
> 
> 赞同：2
> 
> 时间：2013-03-04T05:51:00.723
> 
> 标签：c#, winforms, winapi, release

一旦应用程序现在用作父应用程序，您将如何从表单中解开应用程序？

```
[DllImport("user32.dll")]
public static extern int SetParent(IntPtr hWndChild, IntPtr hWndNewParent);

[DllImport("coredll.dll", SetLastError = true)]
private static extern int GetWindowLong(IntPtr hWnd, int nIndex);

[DllImport("coredll.dll", SetLastError = true)]
private static extern int SetWindowLong(IntPtr hWnd, int nIndex, int dwNewLong);

SetParent(setter, this.panel1.Handle); 
```

解开我试过 SetParent(setter, setter); 没有运气。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-05-17T14:12:33.573

我知道这已经晚了，但我能够传入零以从父母身上脱钩：

```
SetParent(process.MainWindowHandle, IntPtr.Zero); 
```

这会将桌面窗口设置为新的父窗口。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:32:34.117

SetParent 返回上一个父窗口句柄。要“取消挂钩”窗口，您应该能够使用您最初返回的句柄调用 SetParent。

# c - 无法传递和检索数组元素？

> ID：15195380
> 
> 赞同：0
> 
> 时间：2013-03-04T05:51:29.373
> 
> 标签：c

嗨朋友们，我正在尝试将元素分配`arr2[]`给指针`p_arr`，然后尝试从`p_arr`...打印

我认为有些事情搞砸了，没有得到预期的价值......

```
#include <stdio.h>
#include <stdlib.h>

#define MAX_ONE   9
#define MAX_TWO   9

int arr1[] = {10,20,30,40,50,67,23,47,79};
int arr2[] = {5,15,25,35,45,34,45,67,89};

int *main_arr[] = {arr1,arr2};

int main()
{
    int i;
    int *p_arr2;

p_arr2 = (int *)malloc(sizeof(int)*2); 

    for(i=0;i<MAX_ONE;i++)
    {
        *p_arr2++ = arr2[i];
        arr2[i] = arr1[i];
    }

    for(i=0;i<MAX_TWO;i++)
    {
        printf("%d\n",*(p_arr2));
        p_arr2++;
        //printf("%d\t",arr2[i]);
    }

    system("PAUSE");   

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T05:55:09.373

```
p_arr2 = (int *)malloc(sizeof(int)*2); 
```

您只为 2 个整数分配了足够的内存，并且您试图存储`MAX_ONE`在这个数组中。这会导致写入超出分配的内存块和**未定义的行为**。

您需要分配足够的内存来存储`MAX_ONE`元素。

```
p_arr2 = malloc(sizeof(int)*MAX_ONE); 
                           ^^^^^^^^^ 
```

此外，您不需要`malloc`在 C 中强制转换返回类型。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:01:38.240

除了提到的分配问题外，在开始打印循环之前，不要重置`p_arr2`为指向数组的开头。因此，您正在从未初始化的内存中打印。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T06:02:34.787

尝试这个。也总是尝试释放动态分配的内存

```
 p_arr2 = malloc(sizeof(int)*MAX_ONE); 

      for(i=0;i<MAX_ONE;i++)
      {
           p_arr2[i] = arr2[i];
           arr2[i] = arr1[i];

      }

     for(i=0;i<MAX_TWO;i++)
     {
            printf("%d\n",*(p_arr2 + i));;
            //printf("%d\t",arr2[i]);
     }
     free (p_arr2); 
```

# ios - 我正在尝试将背景图像设置为 UISearchBar，但背景图像没有显示在我的 iPhone 应用程序中

> ID：15195382
> 
> 赞同：0
> 
> 时间：2013-03-04T05:52:00.103
> 
> 标签：ios, background, uiimageview, uisearchbar

在我的 iPhone 应用程序中，我试图将背景图像设置为 UISearch Bar，但我的图像没有显示出来。

这是我的代码

```
UISearchBar * tempSearchBar = [[UISearchBar alloc] initWithFrame:CGRectMake( 0, 0, self.view.bounds.size.width, 40 )];

self.searchBar = tempSearchBar;
tempSearchBar.delegate = self; 
self.searchBar.autocorrectionType = UITextAutocorrectionTypeNo;
self.searchBar.autocapitalizationType = UITextAutocapitalizationTypeNone;
self.searchBar.barStyle = UIBarStyleBlack;
self.searchBar.backgroundColor=[UIColor clearColor];
self.searchBar.backgroundImage=[UIImage imageNamed:@"Searchbox.png"];
self.searchBar.placeholder = @"Search My Data";
[self.searchBar sizeToFit];  

[self.view addSubview:self.searchBar];
[tempSearchBar release]; 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-04T05:56:55.303

```
[self.searchBar setSearchFieldBackgroundImage:[UIImage imageNamed:@"Searchbox.png"] forState:UIControlStateNormal]; 
```

通过使用上述方法，我可以为 searchBar 设置 bg Image

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-01-22T07:40:50.213

```
[self.searchDisplayController.searchBar setSearchFieldBackgroundImage:[UIImage imageNamed:@"search_bar"] forState:UIControlStateNormal]; 
```

虽然 Interface Builder 提供了以下代码的等效功能（虽然不是预期的效果）

```
[self.searchDisplayController.searchBar setBackgroundImage:[UIImage imageNamed:@"search_bar"] forBarPosition:UIBarPositionAny barMetrics:UIBarMetricsDefault]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-06-25T06:45:38.507

*   (void) clearSearchBarBg {

for (UIView *subview in searchBarCity.subviews) {

```
 if ([subview isKindOfClass:NSClassFromString(@"UISearchBarBackground")])
    {
        [subview removeFromSuperview];
        break;
    }

}

for (UIView *subview in searchBarCity.subviews)
{

    if ([subview conformsToProtocol:@protocol(UITextInputTraits)])
    {
        [(UITextField *)subview setClearButtonMode:UITextFieldViewModeNever];
    }
}
for(UIView *subView in searchBarCity.subviews)
{

    if([subView isKindOfClass: [UITextField class]])
    {
        [(UITextField *)subView setKeyboardAppearance: UIKeyboardAppearanceAlert];
    }
}

UITextField *searchField = [searchBarCity valueForKey:@"_searchField"];
[searchField setBackground:[UIImage imageNamed:@"SearchInputBox.png"]];// = [UIColor clearColor];

searchField.borderStyle = UITextBorderStyleNone;
[searchField setTextColor:[UIColor blackColor]];

UIImageView* image =[[UIImageView alloc]initWithFrame:CGRectMake(0, 0, 320, 44)];
image.image = [UIImage imageNamed:@"navigationBarColorCode.png"];
image.userInteractionEnabled = FALSE;
[searchBarCity insertSubview:image belowSubview:searchField];

searchBarCity.userInteractionEnabled = YES;
searchBarCity.placeholder = @"Search"; 
```

}

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-12-19T06:20:14.913

**使用下面的代码**

```
[self.searchBar setSearchFieldBackgroundImage:[UIImage imageNamed:@"search_box.png"] forState:UIControlStateNormal]; 
self.searchDisplayController.searchBar.barTintColor = [UIColor clearColor];
self.searchBar.tintColor=[UIColor orangeColor]; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-10-24T09:49:04.437

设置 SearchBar 的背景图片：

```
[self.searchController.searchBar setBackgroundImage:[UIImage new] forBarPosition:UIBarPositionAny barMetrics:UIBarMetricsDefault]; 
```

然后更改 SearchField 背景图像：

```
[self.searchController.searchBar setSearchFieldBackgroundImage:[UIImage imageNamed:@"Searchbox.png"] forState:UIControlStateNormal]; 
```

如果您不想在搜索栏中显示搜索图标，请执行以下操作：

```
UITextField *searchField = (UITextField *)[self.searchController.searchBar valueForKey:@"searchField"];
searchField.leftView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, LEFT_VIEW_WIDTH, searchField.frame.size.height)]; 
```

# android - 在android中使用图像按钮设计如下图所示的布局

> ID：15195385
> 
> 赞同：14
> 
> 时间：2013-03-04T05:52:15.663
> 
> 标签：android, android-layout, android-xml

![在此处输入图像描述](../Images/8c9895830b14d3fce07a48f32af950d4.png)

你好，

我想设计如上图所示的按钮。八个按钮以圆形方式。我很困惑如何将它们设计成圆形的板球标志。

我已经尝试过使用相对布局和线性布局，但不能这样。

请帮助我使这个观点成为可能。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-04T05:58:33.910

查看[Wheel 组件](http://developer.digitalaria.com/devguide/gama/en/gama/wheel_android.php)，它显示带有滚动布局的圆形视图。您还可以在[此处](http://developer.digitalaria.com/res/fdownload.php?f=gama_sample_wheel_android.zip)下载参考演示。

**已编辑：在**[此处](https://android-arsenal.com/details/1/780)和[此处](https://android-arsenal.com/details/1/946) 查看其他类似的演示

# sql-server - 存储过程消息输出到文件

> ID：15195395
> 
> 赞同：0
> 
> 时间：2013-03-04T05:52:59.707
> 
> 标签：sql-server, ssis

平台：SQL Server 2012

我有两个存储过程，它们接收一个注册号，然后根据该注册号，它打印出一堆 HTML 和 XML。在 proc 中是一堆打印语句，当它在 SSMS 中运行时，它们会在 Messages 区域中吐出。

它工作得很好，我不太喜欢它是这样设计的，但我继承了它，他们希望它工作。

我希望此过程运行并将消息内容吐出到文件中。理想情况下，它还会在运行后将文件重命名为注册号。

长话短说，可以将 SQL 语句的消息部分输出到文件中。

西斯？还是一些简单的 BCP 存储过程命令？有人遇到这个吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T05:57:16.003

您可以使用`execute spWriteStringToFile`. 在这里找到这个：[https ://www.simple-talk.com/code/WorkingWithFiles/spWriteStringTofile.txt](https://www.simple-talk.com/code/WorkingWithFiles/spWriteStringTofile.txt)

```
ALTER PROCEDURE spWriteStringToFile
 (
@String Varchar(max), --8000 in SQL Server 2000
@Path VARCHAR(255),
@Filename VARCHAR(100)

--
)
AS
DECLARE  @objFileSystem int
        ,@objTextStream int,
        @objErrorObject int,
        @strErrorMessage Varchar(1000),
        @Command varchar(1000),
        @hr int,
        @fileAndPath varchar(80)

set nocount on

select @strErrorMessage='opening the File System Object'
EXECUTE @hr = sp_OACreate  'Scripting.FileSystemObject' , @objFileSystem OUT

Select @FileAndPath=@path+'\'+@filename
if @HR=0 Select @objErrorObject=@objFileSystem , @strErrorMessage='Creating file "'+@FileAndPath+'"'
if @HR=0 execute @hr = sp_OAMethod   @objFileSystem   , 'CreateTextFile'
    , @objTextStream OUT, @FileAndPath,2,True

if @HR=0 Select @objErrorObject=@objTextStream, 
    @strErrorMessage='writing to the file "'+@FileAndPath+'"'
if @HR=0 execute @hr = sp_OAMethod  @objTextStream, 'Write', Null, @String

if @HR=0 Select @objErrorObject=@objTextStream, @strErrorMessage='closing the file "'+@FileAndPath+'"'
if @HR=0 execute @hr = sp_OAMethod  @objTextStream, 'Close'

if @hr<>0
    begin
    Declare 
        @Source varchar(255),
        @Description Varchar(255),
        @Helpfile Varchar(255),
        @HelpID int

    EXECUTE sp_OAGetErrorInfo  @objErrorObject, 
        @source output,@Description output,@Helpfile output,@HelpID output
    Select @strErrorMessage='Error whilst '
            +coalesce(@strErrorMessage,'doing something')
            +', '+coalesce(@Description,'')
    raiserror (@strErrorMessage,16,1)
    end
EXECUTE  sp_OADestroy @objTextStream
EXECUTE sp_OADestroy @objTextStream 
```

关于它的完整文章：[https ://www.simple-talk.com/sql/t-sql-programming/reading-and-writing-files-in-sql-server-using-t-sql/](https://www.simple-talk.com/sql/t-sql-programming/reading-and-writing-files-in-sql-server-using-t-sql/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T03:56:10.513

将所有 PRINT 语句替换为 SELECT 语句，然后将每个 SELECT 语句发送到一个表。然后，我们拉取该表以使用 SSIS 正确构建 HTM 文件。

# php - checkdnsrr() 返回错误信息

> ID：15195396
> 
> 赞同：0
> 
> 时间：2013-03-04T05:53:10.137
> 
> 标签：php, dns

```
$dname = "accurst.com";
$recordexists = checkdnsrr($dname, "ANY");

if ($recordexists) 
  echo $dname." is taken. Sorry!<br>";
else 
  echo $dname." is available!<br>"; 
```

这是一个返回错误信息的示例域。它说它可用，但该域名是 2800 美元的高级域名，有什么办法可以表明它不可用，因为它没有与任何人解绑？换句话说，如果我查找：accursttt.com 现在可用，而 accurst.com 应该说：不可用 我尝试了不同的其他域名，它一直显示它们可用，而它们是高级的。任何输入都会非常有帮助谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T06:29:22.617

```
<?php

function checkDomainAvailability($domain_name){

$server = 'whois.crsnic.net';

// Open a socket connection to the whois server
$connection = fsockopen($server, 43);
if (!$connection) return false;

// Send the requested doman name
fputs($connection, $domain_name."\r\n");

// Read and store the server response
$response_text = ' :';
while(!feof($connection)) {
$response_text .= fgets($connection,128);
}

// Close the connection
fclose($connection);

// Check the response stream whether the domain is available
if (strpos($response_text, 'No match for')) return true;
else return false;
}

$domainname = 'accurst.com';

if(checkDomainAvailability($domainname)) echo 'Domain : '.$domainname.' is Available';
else echo 'Domain : '.$domainname.' is Already Taken';

?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T06:03:55.500

不幸的是功能：

```
returns FALSE if no records were found or if an error occurred. 
```

所以“没有结果”并不意味着任何决定性的事情。

我还会查找 A 和 CNAME 记录，例如：

```
$dname = "accurst.com";
echo checkdnsrr($dname, "A"); 
```

打印 1

# asp.net-mvc - 有没有一种方法可以简单地使用数据注释属性将 JavaScript 属性添加到表单字段？

> ID：15195399
> 
> 赞同：0
> 
> 时间：2013-03-04T05:53:22.080
> 
> 标签：asp.net-mvc, asp.net-mvc-4, asp.net-mvc-validation

我想向`data-other-for`文本输入添加一个属性，将其链接到一个选择，以便当用户在选择中选择“其他”时，它可以用于捕获选择中不存在的值。属性的代码将确定哪个值或描述实际上是“其他”，如果是，则启用文本输入并可能使其成为强制性。

似乎唯一的方法是创建一个新的助手，因为通过`ValidationAttribute`我只能将预设的验证 HTML 属性添加到我的文本输入中。或者变大并编写一个全新的元数据提供程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:44:43.637

您可以尝试实现自定义 ModelBinder。

说，在选择中，您将拥有：

```
new SelectListItem(Text = "Other", Value="bind:propertyName", Selected = False); 
```

然后在覆盖的 BindModel 中，您只需`bind:`在模型属性中查找，找到后，从那里复制您的值。

在此之后，您应该能够将正常的验证属性添加到您的选择列表中。

# php - 将 XML 文件转换为属性 XML

> ID：15195405
> 
> 赞同：0
> 
> 时间：2013-03-04T05:53:51.160
> 
> 标签：php, xml, xslt

这是我的简单 XML 文件：-

```
<products>
    <value>
        <value>
            <region_timezone>
                <value>1</value>
            </region_timezone>
            <registrationstatus>
                <value>2</value>
            </registrationstatus>
            <eventstatus>
                <value>2</value>
            </eventstatus>
            <dist_activity>
                <value>5</value>
                <value>10068</value>
                <value>10070</value>
            </dist_activity>
            <reg_str_dt>
                <value>2013-01-14 20:35:00</value>
            </reg_str_dt>
            <reg_end_dt>
                <value>2013-01-14 20:35:00</value>
            </reg_end_dt>
            <product_id>1</product_id>
            <tab_id>351</tab_id>
            <tab_name>test1</tab_name>
        </value>
    </value>
    <value>
        <value>
            <region_timezone>
                <value>1</value>
            </region_timezone>
            <registrationstatus>
                <value>2</value>
            </registrationstatus>
            <eventstatus>
                <value>2</value>
            </eventstatus>
            <dist_activity>
                <value>5</value>
                <value>10069</value>
                <value>10070</value>
            </dist_activity>
            <reg_str_dt>
                <value>2013-02-14 20:39:00</value>
            </reg_str_dt>
            <reg_end_dt>
                <value>2013-02-14 20:39:00</value>
            </reg_end_dt>
            <product_id>2</product_id>
            <tab_id>352</tab_id>
            <tab_name>test2</tab_name>
        </value>
    </value>
</products> 
```

我想将它们转换为：-

```
<products>
    <value>
        <value>
            <product_id value="1">
                <tab_id value="351">        
                    <tab_name value="test1"></tab_name>
                    <region_timezone value="1">
                    </region_timezone>
                    <registrationstatus value="2">
                    </registrationstatus>
                    <eventstatus value="2">
                    </eventstatus>
                    <dist_activity value="5,10068,10070">
                    </dist_activity>
                    <reg_str_dt value="2013-01-14 20:35:00">
                    </reg_str_dt>
                    <reg_end_dt value="2013-01-14 20:35:00">
                    </reg_end_dt>
                </tab_id>
            </product_id>
        </value>
    </value>
    <value>
        <value>
            <product_id value="2">
                <tab_id value="352">
                    <tab_name value="test2"></tab_name>
                    <region_timezone value="1">
                    </region_timezone>
                    <registrationstatus value="2">
                    </registrationstatus>
                    <eventstatus value="2">
                    </eventstatus>
                    <dist_activity value="5,10069,10070">
                    </dist_activity>
                    <reg_str_dt value="2013-02-14 20:39:00">
                    </reg_str_dt>
                    <reg_end_dt value="2013-02-14 20:39:00">
                    </reg_end_dt>
                </tab_id>
            </product_id>
        </value>
    </value>
</products> 
```

是否有可能然后给我最好
的重播它可能使用 PHP 代码然后最适合我...我有一个 PHP 文件可以在 Sql 数据库中生成我的简单 Xml 文件...谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:57:35.200

这应该这样做：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="xml" indent="yes" omit-xml-declaration="yes"/>
  <xsl:strip-space elements="*"/>

  <xsl:template match="value">
    <xsl:apply-templates />
  </xsl:template>

  <xsl:template match="products/value/value">
    <product_id value="{product_id}">
      <tab_id value="{tab_id}">
        <tab_name value="{tab_name}" />
        <xsl:apply-templates select="node()" />
      </tab_id>
    </product_id>
  </xsl:template>

  <xsl:template match="@* | node()">
    <xsl:copy>
      <xsl:apply-templates select="self::*[value[not(*)]]"
                           mode="values" />
      <xsl:apply-templates select="@* | node()" />
    </xsl:copy>
  </xsl:template>

  <xsl:template match="value[not(*)]" />

  <xsl:template match="*" mode="values">
    <xsl:attribute name="value">
      <xsl:apply-templates select="value[not(*)]" mode="values"/>
    </xsl:attribute>
  </xsl:template>

  <xsl:template match="value" mode="values">
    <xsl:value-of select="concat(., ',')"/>
  </xsl:template>

  <xsl:template match="value[last()]" mode="values">
    <xsl:value-of select="."/>
  </xsl:template>

  <xsl:template match="product_id | tab_id | tab_name" />
</xsl:stylesheet> 
```

在您的示例输入上运行时，这会产生：

```
<products>
  <product_id value="1">
    <tab_id value="351">
      <tab_name value="test1" />
      <region_timezone value="1" />
      <registrationstatus value="2" />
      <eventstatus value="2" />
      <dist_activity value="5,10068,10070" />
      <reg_str_dt value="2013-01-14 20:35:00" />
      <reg_end_dt value="2013-01-14 20:35:00" />
    </tab_id>
  </product_id>
  <product_id value="2">
    <tab_id value="352">
      <tab_name value="test2" />
      <region_timezone value="1" />
      <registrationstatus value="2" />
      <eventstatus value="2" />
      <dist_activity value="5,10069,10070" />
      <reg_str_dt value="2013-02-14 20:39:00" />
      <reg_end_dt value="2013-02-14 20:39:00" />
    </tab_id>
  </product_id>
</products> 
```

# iphone - 如何在objc中存储树数据结构

> ID：15195406
> 
> 赞同：-1
> 
> 时间：2013-03-04T05:53:57.483
> 
> 标签：iphone, objective-c

我的响应中有一个树形数据结构。我想在不使用核心数据的情况下将其保存在内存中。有什么方法可以保存它![在此处输入图像描述](../Images/799e924ac216fd9f19a749086abd43b2.png)

目前我使用递归函数来循环 json 响应

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:09:41.493

我认为您想使用专业的 json 解析器对其进行反序列化，然后在视图控制器上设置一个属性....

```
// MyViewController.m
@interface MyViewController ()
@property(strong, nonatomic) NSMutableArray *webResult;
@end 
```

Web 响应可能开始于`NSData *data`，像这样构建 NSObjects：

```
self.webResult = [NSJSONSerialization JSONObjectWithData:data options:NSJSONReadingMutableContainers error:&error]; 
```

# ios - 如何在 UITextView 中调整图像并点击放大

> ID：15195407
> 
> 赞同：0
> 
> 时间：2013-03-04T05:54:07.780
> 
> 标签：ios, objective-c, uiimageview

我已经在主 ViewController 中创建了一个表格视图，一旦我触摸到下一个视图控制器（DetailViewController）的行，它将显示菜肴的图像和名称。一旦我点击图像，它应该会变大，但事实并非如此越来越大。下面的代码是我在 DetailViewController 中尝试过的。

细节视图控制器.m

```
- (void)viewDidLoad
{
[super viewDidLoad];
imageView=[[UIImageView alloc] initWithFrame:CGRectMake(10, 10,100, 100)];
CGRect textViewFrame = CGRectMake(10, 10, 300, 400);
textView = [[UITextView alloc] initWithFrame:textViewFrame];
textView.returnKeyType = UIReturnKeyDone;
textView.backgroundColor=[UIColor whiteColor];
textView.editable=NO;
textView.delegate = self;
[self.view addSubview:textView]; 
[textView addSubview:imageView];
textView.alpha = 0.9;
textView.font = [UIFont systemFontOfSize:15];

if(mrowno==0)
{
     imageView.image=[UIImage imageNamed:@"Dosa.jpg"];  
    textView.text = @"\n\n\n\n\n\n\n\nDOSA\nDosa, ";
    imageButton = [[UIButton alloc]init];
    [imageButton setFrame:CGRectMake(0, 0, 100, 100)];
    [imageButton addTarget:self action:@selector(imageTapped:) forControlEvents:UIControlEventTouchUpInside];
    [imageView addSubview:imageButton];

} 
```

这是使图像变大的方法

```
-(void)imageTapped:(UIButton*)in_sender
{

[UIView transitionWithView:in_sender.superview  duration:0.8f  options:UIViewAnimationOptionCurveLinear  animations:^
 {  
     [in_sender.superview setFrame:CGRectMake(0, 0, 300, 500)];
 }
                completion:^(BOOL finished) 
 {
 }];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:09:31.983

你不想使用`transitionWithView`. 相反，您想使用`+ animateWithDuration: delay:options:animations:completion:`（或其任何较短的变体......）

```
[UIView animateWithDuration:0.3f delay:0.0f options:UIViewAnimationOptionCurveEaseInOut animations:^{
    viewYouWantToAnimate.frame = CGRectMake(..., ..., ..., ...);
} completion:^{
    //Add completion code here, or pass nil if you don't have anything to do.
}]; 
```

编辑：如果您想知道 transitionWithView 用于什么...... [AppleDocs](http://developer.apple.com/library/ios/#documentation/uikit/reference/uiview_class/uiview/uiview.html)有一个很好的例子，它为 remove/addSubview 方法添加动画（不是帧修改）：

```
[UIView transitionWithView:containerView
       duration:0.2
       options:UIViewAnimationOptionTransitionFlipFromLeft
       animations:^{
           [fromView removeFromSuperview];
           [containerView addSubview:toView];
       } completion:NULL]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:41:29.573

您可以通过捏合和捏合来增加和减小图像的大小，如果需要

```
-(void)viewDidLoad
 { 
 UIPinchGestureRecognizer* pinch=[[UIPinchGestureRecognizer alloc] initWithTarget:self            action:@selector(pinching:)];
[self.imageView addGestureRecognizer:pinch];
  }

-(void)pinching:(UIGestureRecognizer*) recognizer
 {
UIPinchGestureRecognizer* pinch=(UIPinchGestureRecognizer*) recognizer;
self.imageView.transform=CGAffineTransformScale(self.imageView.transform, pinch.scale, pinch.scale);
pinch.scale=1;
NSLog(@"pinching");
 } 
```

# java - 没有任何数据类型的返回是什么意思？

> ID：15195408
> 
> 赞同：2
> 
> 时间：2013-03-04T05:54:09.633
> 
> 标签：java, return

是什么`return ;`意思？

据我所知，这意味着`return void`。

```
public void method() 
{
    System.out.println("here2");
    return ;
} 
```

有人可以解释一下吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-04T05:54:42.180

这意味着什么都不返回 -`void`具体而言。用于返回方法外。它与具有返回类型的方法一起使用`void`，如果您想根据某些条件从方法中提前返回，例如：

```
public void method(int parameter)
{
  if(parameter < 0)
     return;
  //otherwise continue with the following. 
  System.out.println("here2");
} 
```

在您当前的代码中，您不需要编写，`return`因为该方法将从最后一行代码正常返回。

[从方法返回值](http://docs.oracle.com/javase/tutorial/java/javaOO/returnvalue.html)

> 任何声明为 void 的方法都不会返回值。它不需要包含 return 语句，但它可以这样做。在这种情况下，**可以使用 return 语句从控制流块中分支出来并退出方法**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-22T10:53:15.903

我们只是将**CONTROL**返回给调用函数。

# backbone.js - 如何从我的主干视图中取消绑定所有 socket.io 事件？

> ID：15195412
> 
> 赞同：2
> 
> 时间：2013-03-04T05:54:24.543
> 
> 标签：backbone.js, socket.io, backbone-views, backbone-events

我有一个页面，其中包含两个主干视图（与两个模板相关的视图）。我正在根据单击另一个视图上不同项目的事件来更改一个视图的内容。为此，每次单击一个视图中的任何项目时，我都会创建另一个视图的实例，其中包含一些 socket.io 事件。第一次它工作得很好，但每次我在第一个视图上单击项目时，它只会创建第二个实例，以便所有 socket.io 事件都绑定。除了每次单击第一个视图上的项目并调用 socket.io 事件时第一次单击外，它会根据我对不同项目所做的单击次数触发多次。

我知道每次我单击一个项目时，它都会创建一个带有 socket.io 事件绑定的视图实例。但我无法解开之前的 socket.io 事件。

我曾尝试使用此参考： [Backbone.js 查看删除和解除绑定](https://stackoverflow.com/questions/9080763/backbone-js-view-removing-and-unbinding) 但在我的情况下不起作用。可能是我没有以正确的方式使用它。

谁能给我一个解决方案或方法来取消绑定之前绑定的所有 socket.io 事件？

这是我的 Clicking 事件，我在其中创建了另一个视图的新实例，所有 socket.io 事件都在该视图中绑定。

```
 LoadQueueDetails: function (e) {
    e.preventDefault();
    var queues = new Queues();

    queues.fetch({
        data: $.param({ Code: this.model.get("QueueCode") }),
        success: function () {
            $("#grid21").html(new SearchResultListView({ collection: queues }).el);
        },
        error: function (queues) {
            alert('error found in fetch queue details');
        }
    });
   } 
```

这是我绑定所有 socket.io 事件的实际视图。

```
window.SearchResultListView = Backbone.View.extend({

initialize: function () {
    this.collection.on('change', this.render, this);
    this.render();
},

render: function () {
    var Queues = this.collection;
    var len = Queues.length;

    $(this.el).html(this.template());

    for (var i = 0; i < len; i++) {
        $('.QueueListItem', this.el).append(new SearchResultListItemView({ model: Queues.models[i]}).render().el);
    }
    return this;
 }
});

window.SearchResultListItemView = MainView.extend({
tagName: "tr",

initialize: function () {

    this.__initialize();

    var user;
    if ($.super_cookie().check("user_cookie")) {
        this.user = $.super_cookie().read_JSON("user_cookie");
    }     

    this.model.bind("change", this.render, this);
    this.model.on("destroy", this.close, this);
    socket.emit('adduser', this.user.UserName, this.model.get("Code"));
},

events: {
    "click a": "JoinQueue"
},

onClose: function(){
    this.model.unbind("change", this.render);
},
close: function () {
    this.remove();
    this.unbind();
    this.model.unbind("change", this.render);
},
socket_events: {
    "updatechat": "updatechat",
    "changeroom": "changedroom"
},
changedroom: function (username, data) {
    alert(data);
    socket.emit('switchRoom', data);
},

updatechat: function (username, data) {
    alert(username);
    alert(data);
},

JoinQueue: function (e) {
    e.preventDefault();

    if ($.super_cookie().check("user_cookie")) {
        user = $.super_cookie().read_JSON("user_cookie");
    }

    socket.emit('sendchat', "new user");
},

render: function () {
    var data = this.model.toJSON();
    _.extend(data, this.attributes);
    $(this.el).html(this.template(data));
    return this;
}
});

window.Queue = Backbone.Model.extend({

urlRoot: "/queue",
initialize: function () {
},

defaults: {
    _id:null,
    Code: null,
    ServiceEntityId: null,
    ServiceEntityName:null,
    Name: null,
    NoOfWaiting: null,
    ExpectedTimeOfService: null,
    Status: null,
    SmsCode: null
}

});

window.Queues = Backbone.Collection.extend({
model: Queue,
url: "/queue",

initialize: function () {
}
});

Backbone.View.prototype.close = function () {
this.remove();
this.unbind();
if (this.onClose) {
    this.onClose();
}
} 
```

这是我在 searchResultItemview 中绑定 socket.io 事件的主要视图。

```
var MainView = Backbone.View.extend({
initialize: function () {
    this.__initialize();
},

__initialize: function () {
    if (this.socket_events && _.size(this.socket_events) > 0) {
        this.delegateSocketEvents(this.socket_events);
    }
},

delegateSocketEvents: function (events) {

    for (var key in events) {
        var method = events[key];
        if (!_.isFunction(method)) {
            method = this[events[key]];
        }

        if (!method) {
            throw new Error('Method "' + events[key] + '" does not exist');
        }

        method = _.bind(method, this);
        socket.on(key, method);
    };
}
}); 
```

如需额外信息：

```
1\. I am opening socket connection globally. Like this :
   var socket = io.connect('http://localhost:3000'); 
```

我正在等待任何类型的建议或解决方案来摆脱这个问题。请随时提出任何问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T11:01:19.273

基本上，当您关闭视图时，您必须`socket.removeListener`为每一次做。`socket.on`

您可以更新 MainView 并添加一个`close`方法。

这就是它在我的代码中的样子（CoffeeScript）

```
close: ->
    self = @
    _.each @socket_events, (method, key) ->
        method = self[self.socket_events[key]]
        socket.removeListener key, method 
```

# symfony - Symfony 中的控制台组件

> ID：15195417
> 
> 赞同：1
> 
> 时间：2013-03-04T05:54:42.673
> 
> 标签：symfony, console

我想使用控制台运行任务。我检查了[http://symfony.com/doc/2.0/components/console/introduction.html](http://symfony.com/doc/2.0/components/console/introduction.html)

它要求创建 *GreetCommand.php*。

```
namespace Acme\DemoBundle\Command;

use Symfony\Component\Console\Command\Command;
use Symfony\Component\Console\Input\InputArgument;
use Symfony\Component\Console\Input\InputInterface;
use Symfony\Component\Console\Input\InputOption;
use Symfony\Component\Console\Output\OutputInterface;

class GreetCommand extends Command
{
    protected function configure()
    {
        $this
            ->setName('demo:greet')
            ->setDescription('Greet someone')
            ->addArgument(
                'name',
                InputArgument::OPTIONAL,
                'Who do you want to greet?'
            )
            ->addOption(
               'yell',
               null,
               InputOption::VALUE_NONE,
               'If set, the task will yell in uppercase letters'
            )
        ;
    }

    protected function execute(InputInterface $input, OutputInterface $output)
    {
        $name = $input->getArgument('name');
        if ($name) {
            $text = 'Hello '.$name;
        } else {
            $text = 'Hello';
        }

        if ($input->getOption('yell')) {
            $text = strtoupper($text);
        }

        $output->writeln($text);
    }
} 
```

并创建另一个文件来运行下面给出的命令。

```
#!/usr/bin/env php
# app/console
<?php

use Acme\DemoBundle\Command\GreetCommand;
use Symfony\Component\Console\Application;

$application = new Application();
$application->add(new GreetCommand);
$application->run(); 
```

但是运行它的命令就像`app/console demo:greet Fool`

我不明白的是为什么我们需要创建第二个文件？

有时，我觉得 Symfony 是最难学的框架。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T08:15:06.797

在第一个文件中，您已经定义了 Command 类。

需要第二个文件来注册/初始化该命令的实例。您只需告诉那里您的应用程序将拥有名称为“demo:greet”的 GreetCommand（名称在命令本身中定义）。

顺便说一句，当您将全栈 Symfony2 与 FrameworkBundle 一起使用时，您不必创建第二个文件（如果我们遵循 Symfony2 约定），因为[FrameworkBundle 控制台应用程序](https://github.com/symfony/FrameworkBundle/blob/master/Console/Application.php#L81)使用 HttpKernel 组件自动注册命令

# javascript - 在将 ajax 更新到另外两个字段后更新第三个字段

> ID：15195418
> 
> 赞同：0
> 
> 时间：2013-03-04T05:54:53.960
> 
> 标签：javascript, jquery

我有一个包含 3 个元素（Qty、UnitCost 和 TotalPrice）的表单，这些元素是根据表单前面的其他数据的结果计算得出的。

Qty 和 UnitCost 正在根据 jquery Get 正确填写，但是我只是使用普通的旧 javascript 的总价格不会更新，除非我在早期的字段中进行更改（之后它会正确更新）。

我对 jquery 还是很陌生，而且我在自学，所以我可能会遗漏一些东西。

表格看起来像这样

A（文本）、B（下拉）、C（下拉）、数量、单位成本、总价

```
//Get the unit cost
$.get("calcCost.php", {item:item}, function(data) {
    document.getElementById(unitCostField).value = data;
});
unitCost = document.getElementById(unitCostFiled).value; 
```

Qty 的代码本质上是相同的 - 只是字段和 php 脚本被警告。两者都正常工作。

但是，当我尝试计算 TotalPrice（只是 Qty*UnitCost）时，它不会立即更新。它以 0 开头 - 当尚未填写数量或单位成本时，这是预期的。

```
//Total Cost
cost = unitCost * qty
document.getElementById(costField).value = cost; 
```

（document.getElementById 中的变量已经在别处定义）；

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:51:14.833

您需要记住 AJAX 中的 A 代表*异步*，这意味着 AJAX 请求的结果不会立即供您使用。相反，浏览器将执行请求，完成您调用堆栈上的所有其他内容，然后，如果您的请求在那时返回响应，您的 ajax 成功执行。

您提供的示例更加有趣，因为您的成本计算例程需要*在*Qty 和 UnitCost 请求完成后运行，并且只有在它们都成功的情况下。我相信像这样的问题的最佳解决方案，尤其是你已经在使用 jquery，是延迟对象。

$.when的[jquery 文档](http://api.jquery.com/jQuery.when/)（这是您可能要考虑使用的方法）显示了与您的问题几乎完全相同的问题的解决方案。但是，为了方便起见（为简洁起见，省略了错误处理程序）：

```
var calcCostReq = $.get("calcCost.php", {item:item}).done(function(data) {
    document.getElementById(unitCostField).value = data;
    unitCost = document.getElementById(unitCostFiled).value;
});
var qtyReq = $.get("qty.php").done(function(data) {
    //whatever you need to do when qty was successful
});
$.when(calcCostReq, qtyReq).done(function() {
    cost = unitCost * qty
    document.getElementById(costField).value = cost;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:07:50.220

`unitCostField`在 AJAX 请求填充该值之前，您正在检索该值。即使`unitCost`分配低于`$.get`方法，它仍然会在 AJAX 请求完成之前执行。

依赖 AJAX 请求的代码必须在回调函数中处理。

```
var qty;

function calcCost() {
    var unitCost = document.getElementById(unitCostField).value,
        cost = unitCost * qty;
    document.getElementById(costField).value = cost;
}

$.get("calcCost.php", {item:item}, function(data) {
    document.getElementById(unitCostField).value = data;
    calcCost();
}); 
```

# c# - 写东西时如何停止绑定源以查找数据

> ID：15195423
> 
> 赞同：0
> 
> 时间：2013-03-04T05:55:10.007
> 
> 标签：c#, winforms, combobox

我的问题是，当我在我的文本框中写一些东西时，我的组合框会清除它的选择。这只发生在一个特定的组合框上，该组合框使用下面的代码进行数据绑定。

```
private void FillEmployemenetType()
{
    var items = new BindingList<KeyValuePair<string, string>>();

    items.Add(new KeyValuePair<string, string>("C", "Contract"));
    items.Add(new KeyValuePair<string, string>("P", "Permanent"));
    items.Add(new KeyValuePair<string, string>("V", "Vacation"));

    contractTypeComboBox.DataSource = items;
    contractTypeComboBox.ValueMember = "Key";
    contractTypeComboBox.DisplayMember = "Value";
    contractTypeComboBox.SelectedIndex = 0;
} 
```

我没有触发任何文本更改事件或为此编写任何代码。我为此窗口窗体使用绑定源，以防万一这可能是问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T11:09:21.410

您可以在设置数据源后尝试设置`SelectedItem`，以便重新选择上一项。

```
private void FillEmployemenetType()
{
    KeyValuePair<string,string>? previous = null;
    if (contractTypeComboBox.DataSource != null) {
        previous = (KeyValuePair<string,string>)contractTypeComboBox.SelectedItem;
    }

    var items = new BindingList<KeyValuePair<string, string>>();

    items.Add(new KeyValuePair<string, string>("C", "Contract"));
    items.Add(new KeyValuePair<string, string>("P", "Permanent"));
    items.Add(new KeyValuePair<string, string>("V", "Vacation"));

    contractTypeComboBox.DataSource = items;
    contractTypeComboBox.ValueMember = "Key";
    contractTypeComboBox.DisplayMember = "Value";
    //contractTypeComboBox.SelectedIndex = 0;
    if (previous.HasValue) {
        try {
            contractTypeComboBox.SelectedItem = previous;
        }
        catch { }
    }
} 
```

# zend-framework - Zend 框架

> ID：15195425
> 
> 赞同：0
> 
> 时间：2013-03-04T05:55:18.433
> 
> 标签：zend-framework

我是 zend 框架的新手，我想知道启动 zend 框架的链接或教程。我使用 deepblue 在线教程来学习，但它们不适合初学者。所以请帮忙。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T05:59:07.847

我强烈推荐[http://phpdev.ro/zf-tutorial-series-part-1-module-based-app.html](http://phpdev.ro/zf-tutorial-series-part-1-module-based-app.html)，它涵盖了很多：

1.  设置基于模块的应用程序
2.  使用 ZFDebug 设置辅助插件、方法和调试
3.  使用验证码设置登录页面和注册页面
4.  设置 OpenID 以登录/创建帐户
5.  设置 API 以创建/登录帐户
6.  提高实施 Zend Cache 的性能

否则检查 youtube 上的大量视频 [http://www.google.ca/search?q=youtube+zend+framework+getting+started](http://www.google.ca/search?q=youtube+zend+framework+getting+started)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T06:09:28.163

我建议您首先学习面向对象编程和模型视图控制器。但是如果你有这些技能你必须阅读下面提到的以下文章：
这是了解 zend 框架方法的快速入门。
[Zend Framework Methodology 快速入门 Zend Framework 入门](http://framework.zend.com/manual/1.12/en/learning.quickstart.html)
[（开源专家之声）](https://rads.stackoverflow.com/amzn/click/com/1430218258)

# iphone - 当 UITextField 和 UITextview 在 UIWindow 内显示时关闭键盘

> ID：15195428
> 
> 赞同：0
> 
> 时间：2013-03-04T05:55:32.520
> 
> 标签：iphone, ios, objective-c, uitextfield, uiwindow

我已经添加了 my`UITextField`和`UITextView`inside ，`UIWindow`我无法在其中输入它们。两者都不允许我输入这些字段。而且，在键盘上按下*返回*时无法关闭它。

```
-(void)showAlert 
{
alertWindow = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
alertView = [[UIView alloc] initWithFrame:CGRectMake(10, 115, 300, 230)];
alertWindow.windowLevel = UIWindowLevelAlert; // puts it above the status bar
alertView.center = CGPointMake(alertWindow.frame.size.width/2, alertWindow.frame.size.height/2);
alertView.backgroundColor = [UIColor whiteColor];
alertView.layer.borderWidth = 1.0;
alertView.layer.borderColor = [[UIColor whiteColor]CGColor];

UITextField *txt = ....
....
....
txt.delegate = self;
...
...
[alertView addSubview:txt];

UITextView *txtview = ...
....
....
txtview.delegate = self;
...
[alertView addSubview:txtview];

[alertWindow addSubview:alertView];
[alertWindow addSubviewWithZoomInAnimation:alertView duration:1.0 option:curveValues[0]];
[alertWindow setHidden:NO];
} 
```

我也声明了这两个委托方法。我在那里放置了一个断点并进行了检查，即使该方法尚未调用。

**更新 -**

`textFieldShouldReturn`委托方法

```
- (BOOL) textFieldShouldReturn:(UITextField *)textField
{
    [textField resignFirstResponder];
    [reserveView resignFirstResponder];
    [reserveWindow resignFirstResponder];
    [self.reserveWindow endEditing:YES];
    [reserveView endEditing:YES];
    return YES;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:05:05.347

你应该试试这个从 UIWindow 关闭键盘

```
[self.window endEditing:YES]; 
```

[来源](http://iphonedevsdk.com/forum/iphone-sdk-development/100156-dismiss-keyboard-from-a-uiwindow.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T05:56:27.657

我发现，由于没有调用该方法，`UIWindow`因此，我将我的更改`UIWindow`为`UIView`并且，我通过使用`UIView+Animation.h`from [here](http://www.raywenderlich.com/5478/uiview-animation-tutorial-practical-recipes)解决了这个问题它提供了我所需要的动画。

```
- (void) addSubviewWithZoomInAnimation:(UIView*)view duration:(float)secs option:(UIViewAnimationOptions)option;
- (void) removeWithZoomOutAnimation:(float)secs option:(UIViewAnimationOptions)option; 
```

感谢谷歌！干杯!

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T06:01:31.120

键盘永远不会自行关闭（即使您按回车键！）。您会注意到，在您的委托方法中，每当您按下返回/完成/等时，您都会收到事件。

*每次有人按回车键时*让键盘消失的一种简单方法是实现该`- (BOOL)textViewShouldEndEditing:(UITextView *)textView`方法。

```
- (BOOL)textViewShouldEndEditing:(UITextView *)textView
{
    [textView endEditing:YES];
    return YES;
} 
```

编辑：在您的帖子中，您编辑说您已经声明了两个委托方法......有两个以上，所以您能澄清一下您实现了哪些方法吗？[http://developer.apple.com/library/ios/#documentation/uikit/reference/UITextViewDelegate_Protocol/Reference/UITextViewDelegate.html#//apple_ref/occ/intf/UITextViewDelegate](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITextViewDelegate_Protocol/Reference/UITextViewDelegate.html#//apple_ref/occ/intf/UITextViewDelegate)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-04T06:26:57.987

试试这个

```
- (void)viewDidLoad
{
  [super viewDidLoad];
  UITapGestureRecognizer *tapGesture = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(dismissKeyboard)];
  tapGesture.cancelsTouchesInView = NO;
  [self.window addGestureRecognizer:tapGesture];
  //[self.view addGestureRecognizer:tapGesture];
  [tapGesture release];
}
-(void)dismissKeyboard
{
[txt resignFirstResponder];
[textView resignFirstResponder];
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-04T07:03:34.393

试试这个

这是文本字段的委托方法：-

*   (BOOL)textFieldShouldReturn:(UITextField *)textField

    {

    ```
    [txtview resignFirstResponder]; 
    ```

    返回否；

    }

# c# - 在空段落上格式化 openXML

> ID：15195430
> 
> 赞同：1
> 
> 时间：2013-03-04T05:55:35.933
> 
> 标签：c#, openxml

所以，我想使用 openXML 将我的数据从数据库导出到 Ms Word。我将我的段落格式化如下

```
para = new Paragraph();
run = new Run(new Text(row["name"].ToString()));

paraProp = new ParagraphProperties();
spacing = new SpacingBetweenLines() { Before = "60", After = "60" };
paraProp.Append(spacing);
para.Append(paraProp);
para.Append(run); 
```

问题是一些数据是空的，这使我的段落格式不起作用。

我尝试像这样添加空白空间

```
run = new Run(new Text(row["name"].ToString() + " ")); 
```

但它也不起作用。

那么即使数据为空，如何应用段落格式？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T15:20:59.030

我猜空段落的间距不正确并导致您的格式问题。尝试将您的 spacingbetweenlines 属性更改为：

```
{ After = "60", Before = "60" Line = "240", LineRule = LineSpacingRuleValues.Exact}; 
```

Line 值是行的高度， LineRule 设置前后如何应用于段落。

# coldfusion - 如何使用 jSoup 删除 <%@ include view="MirrorPage" %> 之类的文本

> ID：15195438
> 
> 赞同：1
> 
> 时间：2013-03-04T05:56:24.633
> 
> 标签：coldfusion, jsoup, coldfusion-9, cfml

我正在从数据库中提取 html 电子邮件内容。html 包含如下字符串：

```
<%@ include view="MirrorPage" %> and <%= stagingArea.techField.label %> 
```

我想在显示之前删除。

我正在使用 Coldfusion 9 和 jSoup 来解析 html。jSoup 很好地删除了 html 中的 <script> 内容。

```
<cfset emailHTML=jsoup.parse(detail["html"]) />
<cfset emailHTML.select("script").remove() /> 
```

我只是不清楚如何使用 jSoup 选择 <%，因为它不是真正的“标签”。

谢谢，加里

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T13:02:14.500

当您使用 jSoup 解析包含`<%@ ... %>`它的 HTML 时，它会被转换`&lt;%@ ... %&gt;`为文本并被视为文本。

由于它是简单的文本，jSoup 无法将其拾取，或将其与其他文本区别对待。

假设这些标记是遵循简单规则的占位符/标记（即没有嵌套，它们不会在标记之外包含 '%' 等），您可以使用如下正则表达式删除它们：

```
<cfset emailHTML = rereplace( emailHTML.html() ,'&lt;%[@=][^%]+%&gt;','','all') /> 
```

（您可能希望或不希望使用`jsoup.parse(emailHTML)`该字符串再次将字符串重新放入对象中。）

当然，如果这些占位符的存在是有原因的，您可能需要做一些比简单地删除它们更复杂的事情 - 如果它们可能包含 HTML，那么您需要考虑是否应该在调用 jSoup 以删除脚本标签*之前*处理它们/ETC。

# windows-phone-8 - 使用应用程序分析工具的应用程序响应能力差

> ID：15195448
> 
> 赞同：1
> 
> 时间：2013-03-04T05:57:43.500
> 
> 标签：windows-phone-8

当我们使用 Visual Studio 中的“Windows Phone 应用程序分析工具”测试应用程序时，我们的**应用程序响应速度很差**，并带有红色标记。

请建议改善应用程序的性能。我们需要优化编码还是需要改变 UI 设计？

**注意：**我们的应用程序是业务应用程序。该应用程序有 15 页和更多功能。我们使用 WCF 服务从在线获取数据并分配给控件并使用 WCF 服务保存数据。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T12:06:54.483

应用程序响应性表示您的 UI 线程占用了多少 CPU 时间。如果 UI 线程做的工作太多，那么触摸和其他 UI 事件将被阻止，从而导致糟糕的用户体验。

您需要尽可能将工作从 UI 线程转移到后台线程。

# html - HTML5 type=range - 显示标签

> ID：15195449
> 
> 赞同：20
> 
> 时间：2013-03-04T05:57:50.770
> 
> 标签：html

有没有办法我还可以为 HTML5 type=range 控件中的每个步骤设置一些标签文本。基本上我有一个范围控件`<input type="range" step=1 min=0 max=4>`，对于每个步骤，我都希望在控件中显示一些标签。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-03-06T14:09:13.743

我已经为你整理好了。

```
// define a lookup for what text should be displayed for each value in your range
var rangeValues =
{
    "1": "You've selected option 1!",
    "2": "...and now option 2!",
    "3": "...stackoverflow rocks for 3!",
    "4": "...and a custom label 4!"
};

$(function () {

    // on page load, set the text of the label based the value of the range
    $('#rangeText').text(rangeValues[$('#rangeInput').val()]);

    // setup an event handler to set the text when the range value is dragged (see event for input) or changed (see event for change)
    $('#rangeInput').on('input change', function () {
        $('#rangeText').text(rangeValues[$(this).val()]);
    });

});
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<input type="range" id="rangeInput" name="rangeInput" step="1" min="1" max="4">
<label id="rangeText" />
```

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2013-10-15T10:13:33.990

I guess the easiest solution (plain Javascript) is:

```
<fieldset>
    <label for="rangeVal">resolution (dpi):</label>
    <input type ="range" max="1000" min="20"
        oninput="document.getElementById('rangeValLabel').innerHTML = this.value;"
        step="1" name="rangeVal" id="rangeVal" value="200">
    </input>
    <em id="rangeValLabel" style="font-style: normal;"></em>
</fieldset> 
```

This code does not need jQuery nor CSS and should work on any browser that supports the range input type.

* * *

## 回答 #3

> 赞同：17
> 
> 时间：2016-11-28T23:56:27.547

Here's an alternative solution, no jQuery required. Uses the HTML5 `oninput` event handler, and `valueAsNumber` property of the input element.

**Works on my machine certification:** Chrome v54

```
<form name="myform" oninput="range1value.value = range1.valueAsNumber">
  <input name="range1" type="range" step="1" min="0" max="4" value="1">  
  <output name="range1value" for="range1" >1</output>
</form>
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-13T03:27:08.047

操作，

我整理了一个演示，它使用`range`带有相应`<p>`标签的输入作为滑块当前状态的标签，以及更改滑块值的触发器。

### 普朗克

[http://plnkr.co/edit/ArOkBVvUVUvtng1oktZG?p=preview](http://plnkr.co/edit/ArOkBVvUVUvtng1oktZG?p=preview)。

* * *

### HTML Markup

```
<div class="rangeWrapper">
    <input id="slide" type="range" min="1" max="4" step="1" value="1"  /> 
    <p class="rangeLabel selected">Label A</p>
    <p class="rangeLabel">Label B</p>
    <p class="rangeLabel">Label C</p>
    <p class="rangeLabel">Label D</p>
</div> 
```

### Javascript

```
$(document).ready(function(){

  $("input[type='range']").change(function() {
    slider = $(this);
    value = (slider.val() -1);

    $('p.rangeLabel').removeClass('selected');
    $('p.rangeLabel:eq(' + value + ')').addClass('selected');

  });

  $('p.rangeLabel').bind('click', function(){
    label = $(this);
    value = label.index();
    $("input[type='range']").attr('value', value)
                            .trigger('change');
  });

}); 
```

### CSS

```
input[type="range"] {
    width: 100%;
}

p.rangeLabel {
    font-family: "Arial", sans-serif;
    padding: 5px;
    margin: 5px 0;
    background: rgb(136,136,136);
    font-size: 15px;
    line-height 20px;
}

p.rangeLabel:hover {
    background-color: rgb(3, 82, 3);
    color: #fff;
    cursor: pointer;
}

p.rangeLabel.selected {
    background-color: rgb(8, 173, 8);
    color: rgb(255,255,255);
} 
```

Also worth nothing, if you're interested in showing the **current** value as a label/flag to the user, (instead of many) there's a great [article by Chris Coyier](http://css-tricks.com/value-bubbles-for-range-inputs/) on value bubbles for range sliders.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-13T02:56:43.573

没有本地方法可以做到这一点。由于对 input[type=range] 的支持很差，我建议使用 jQuery UI 滑块和在答案中找到[的附加标签的方式。](https://stackoverflow.com/questions/10224856/jquery-ui-slider-labels-under-slider)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-13T05:57:06.587

You can use jSlider. Its a jQuery slider plugin for range inputs.

[https://github.com/egorkhmelev/jslider](https://github.com/egorkhmelev/jslider)

Just check out the demos and documentation. Hope this helps.

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-12-04T08:09:35.910

FWIW the standard ([HTML 5.1](https://www.w3.org/TR/2016/REC-html51-20161101/sec-forms.html#range-state-typerange), [HTML Living Standard](https://html.spec.whatwg.org/multipage/input.html#range-state-(type%3Drange))), specifies a `label` attribute for `option`s when using a `datalist`. Sample code [here](https://simpl.info/datalist).

This isn't implemented by any browser yet.

# twitter - 如何从 Salesforce 访问 Twitter

> ID：15195450
> 
> 赞同：2
> 
> 时间：2013-03-04T05:57:53.500
> 
> 标签：twitter, salesforce

我正在努力完成这项工作，我需要连接到 twitter rest Api 1.1 以获取用户详细信息、时间线等。

我遇到的是：

1.  我有一个带有访问令牌、秘密等的 Twitter 应用程序。

现在如何使用所有访问令牌等从 Salesforce 向 Twitter 发送（GET 或 POST）请求。如何设置标头或如何验证请求。一个教程会非常有帮助，我能找到的只是 php 等**教程**

注意：我不想使用外部库

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-09T07:17:35.780

您应该能够使用[HTTP REST 库](http://www.salesforce.com/us/developer/docs/apexcode/Content/apex_classes_restful_http_httprequest.htm)直接从 Apex 执行此操作。这是[“salesforce apex twitter 集成”的](https://www.google.com/search?q=salesforce+apex+twitter+integration&aq=0&oq=salesforce+apex+twitter&aqs=chrome.1.57j0l3j62l2.10508&sourceid=chrome&ie=UTF-8)[第一个 Google 结果](http://boards.developerforce.com/t5/Force-com-Sites-Site-com/Salesforce-Integration-With-Facbook-amp-Twitter/td-p/374877)，其中包含来自[Navatar_DbSup](http://boards.developerforce.com/t5/user/viewprofilepage/user-id/68695)的示例代码：

```
VF CODE:
<apex:inputTextarea id="tweetInput" onkeyup="return maxLength();" onKeyPress="return maxLength();" value="{!newTweet}" rows="2" cols="73"/>
<apex:commandButton id="tweetBtn" style="height:35px;" value="Tweet" action="{!postTweet}" />
Controller code:
*** post tweets into twitter*/
public String newTweet{get;set;}
public Void postTweet()
{
Http h = new Http();
HttpRequest req = new HttpRequest();
Method = 'POST';
req.setMethod(Method);
req.setEndpoint('https://api.twitter.com/1/statuses/update.xml');
newTweet = newTweet.replace('%','%25').replace('&','%26').replace('@','%40').replace(';','%3B').replace('?','%3F').replace('/','%2F').replace(':','%3A').replace('#','%23').replace('=','%3D').replace('+','%2B').replace('$','%24').replace(',','%2C').replace(' ','%20').replace('<','%3C').replace('>','%3E').replace('{','%7B').replace('}','%7D').replace('[','%5B').replace(']','%5D').replace('`','%60').replace('|','%7C').replace('\\','%5C').replace('^','%5E').replace('"','%22').replace('\'','%27').replace('!','%21').replace('*','%2A').replace('(','%28').replace(')','%29').replace('~','%7F');
req.setBody('status='+newTweet);
req.setHeader('Content-Type','application/x-www-form-urlencoded');

OAuth oa = new OAuth();
if(!oa.setService())
{
message=oa.message;
}
oa.sign(req);
HttpResponse res = h.send(req);
system.debug('&&&&&&&&&&&&&&&&7' + res.getBody());
PostTweetbody = res.getBody() + '___' + message;
newTweet = '';
} 
```

# mysql - 在 django 中编辑并保存数据库中已有的数据

> ID：15195456
> 
> 赞同：-2
> 
> 时间：2013-03-04T05:58:33.577
> 
> 标签：mysql, django, django-models

模型.py 是

```
class Book(models.Model):
    book_name=models.CharField(max_length=30)
    author_name=models.CharField(max_length=30)
    publisher_name=models.CharField(max_length=40)
    author=models.ForeignKey(Author)

    def __unicode__(self):
        ..........

class Author(models.Model):
    first_name = models.CharField(max_length=30)
    last_name = models.CharField(max_length=40)
    email = models.EmailField()
    age=models.IntegerField()

    def __unicode__(self):
        ........

    def books(self):
        return Book.objects.filter(author=self) 
```

我需要执行编辑并将已经存在的数据保存在数据库中的表中。我正在使用 2 个模型。因为我用单个表做同样的事情，所以对两个表执行有些困惑。我是 django 的学习者。请帮我解决这个问题

请检查我的 views.py 以获取编辑选项。

```
def editbook(request,book_id):
    if request.POST:
        book_name =request.POST['book_name']
        publisher_name =request.POST['publisher_name']
    books=Book.objects.filter(book_id=book_id).update(book_name=book_name, publisher_name=publisher_name)

    first_name = request.POST.get('first_name')
        last_name = request.POST.get('last_name')
        email = request.POST.get('email')
        age = request.POST.get('age')
    author = Author.objects.update(first_name = first_name,last_name = last_name,email=email,age=age)
        return redirect('/index/')
    else:
        books = Book.objects.get(pk=book_id)
    return render_to_response('editbook.html',{'books':books},context_instance=RequestContext(request)) 
```

ya.this 无法正常工作。请指导我如何执行该操作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:22:08.727

```
def editbook(request,book_id):
   books = Book.objects.get(pk=book_id) 
   if request.POST:
        book_name = request.POST.get('book_name')
        publisher_name = request.POST.get('publisher_name')

        books.book_name = book_name
        books.publisher = publisher_name
        get_author = books.save()

        first_name = request.POST.get('first_name')
        last_name = request.POST.get('last_name')
        email = request.POST.get('email')
        age = int(request.POST.get('age'))

        author = Author.objects.get(pk=get_author.author_id)
        author.first_name = first_name
        author.last_name = last_name
        author.email = email
        author.age = age
        author.save()

        return redirect('/index/')

    return render_to_response('editbook.html',{
        'books':books
    },context_instance=RequestContext(request)) 
```

# java - 使用 ArrayList 登录系统

> ID：15195458
> 
> 赞同：0
> 
> 时间：2013-03-04T05:58:41.033
> 
> 标签：java, arraylist

我正在尝试使用我创建的用户类创建登录系统，并将多个用户存储在 ArrayList 中。然后为了确保用户在各个字段中输入的内容与特定的“用户”相同，底部有一个循环来比较两者。底部的方法返回 true 或 false。我来得太晚了，所以如果我没有以最清楚的方式解释，我很抱歉。

我的问题是我的 loginAuthorization() 方法仅当且仅当输入 ArrayList 中的第一个元素并且输入正确时才返回 true。它忽略添加到 ArrayList 的所有其他用户。这个问题显然有一个“很好”的答案，或者我假设，我不明白为什么会这样。如果有人能告诉我我做错了什么，将不胜感激。:)

我的 loginWindow 类：

```
 /**
     *  @author OperatorX© 2013
     */

    package dossierIB;

    import java.awt.BorderLayout;
    import java.awt.EventQueue;
    import java.awt.Toolkit;

    import javax.swing.JFrame;
    import javax.swing.JPanel;
    import javax.swing.border.EmptyBorder;
    import net.miginfocom.swing.MigLayout;
    import javax.swing.JLabel;
    import java.awt.Component;
    import javax.swing.Box;
    import java.awt.Dimension;

    import javax.swing.ImageIcon;
    import javax.swing.JOptionPane;
    import javax.swing.JTextField;
    import javax.swing.JPasswordField;
    import javax.swing.JButton;
    import javax.swing.UIManager;

    import java.awt.event.ActionListener;
    import java.awt.event.ActionEvent;
    import java.util.ArrayList;
    import java.util.Arrays;

    public class LoginWindow extends JFrame 
    {
        private JPanel contentPane;
        private JFrame errorFrame;
        private JTextField usernameField;
        private JPasswordField passwordField;

        /**
         * Launch the application.
         */
        public static void main(String[] args) {
            EventQueue.invokeLater(new Runnable() {
                public void run() {
                    try {
                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
                        LoginWindow frame = new LoginWindow();
                        frame.setLocationRelativeTo(null);
                        frame.setVisible(true);
                    } catch (Exception e) {
                        e.printStackTrace();
                    }
                }
            });
        }

        /**
         * Create the frame.
         */
        public LoginWindow() {
            setResizable(false);
            setTitle("Employee Authorization");
            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
            setBounds(100, 100, 450, 300);
            contentPane = new JPanel();
            contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));
            setContentPane(contentPane);
            contentPane.setLayout(new MigLayout("", "[][][][grow][]", "[][][][][][][]"));

            JPanel bgImagePanel = new JPanel();
            ImagePanel backgroundPanel = new ImagePanel(new ImageIcon("C:/Users/OpX/Documents/workspace/Dossier (WBP)/images/testtoptrans.png").getImage());
            bgImagePanel.add(backgroundPanel);
            contentPane.add(bgImagePanel, "cell 0 0 5 1");

            Component rigidArea_4 = Box.createRigidArea(new Dimension(20, 20));
            contentPane.add(rigidArea_4, "cell 4 1 1 6");

            JLabel lblUsername = new JLabel("Username");
            contentPane.add(lblUsername, "cell 1 2");

            Component rigidArea_1 = Box.createRigidArea(new Dimension(20, 20));
            contentPane.add(rigidArea_1, "cell 0 1 1 6");

            Component rigidArea_3 = Box.createRigidArea(new Dimension(20, 20));
            contentPane.add(rigidArea_3, "cell 2 2 1 3");

            usernameField = new JTextField();
            contentPane.add(usernameField, "cell 3 2,growx");
            usernameField.setColumns(10);

            Component rigidArea_2 = Box.createRigidArea(new Dimension(20, 20));
            contentPane.add(rigidArea_2, "cell 1 3");

            JLabel lblPassword = new JLabel("Password");
            contentPane.add(lblPassword, "cell 1 4");

            passwordField = new JPasswordField();
            contentPane.add(passwordField, "cell 3 4,growx");

            Component rigidArea_5 = Box.createRigidArea(new Dimension(20, 20));
            contentPane.add(rigidArea_5, "cell 1 5 3 1");

            JButton btnLogin = new JButton("Login");
            btnLogin.addActionListener(new ActionListener() 
            {
                public void actionPerformed(ActionEvent e) 
                {
                    if(loginAuthorization() == true)
                    {
                        ManageWindow manifest = new ManageWindow();
                        manifest.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                        manifest.setSize(697,500);
                        manifest.setLocationRelativeTo(null);
                        manifest.setVisible(true);

                        setVisible(false);
                        dispose();
                    }
                    else
                        return;
                }
            });
            contentPane.add(btnLogin, "flowx,cell 3 6,alignx right");

            JButton btnCreateAccount = new JButton("Create Account");
            btnCreateAccount.setEnabled(false);
            btnCreateAccount.addActionListener(new ActionListener() 
            {
                public void actionPerformed(ActionEvent e) 
                {

                }
            });
            contentPane.add(btnCreateAccount, "cell 3 6");
        }

        public Boolean loginAuthorization()
        {
            errorFrame = new JFrame();
            String username = usernameField.getText();
            String password = new String(passwordField.getPassword());

            ArrayList<User> users = new ArrayList<User>();
            User manager = new User("manager", "gocompany");
            User shiftManager = new User("shiftmanager", "goshifts");
            User stockBoy = new User("stockboy", "istockshelves");
            User cashier = new User("cashier", "trustedwithmoney");
            users.add(manager);
            users.add(shiftManager);
            users.add(stockBoy);
            users.add(cashier);

            for(int i = 0; i < users.size(); i++)
            {
                if(users.get(i).getUsername().compareTo(username) == 0 && users.get(i).getPassword().compareTo(password) == 0)
                {
                    return true;
                }

                else
                {
                    passwordField.setText("");
                    Toolkit.getDefaultToolkit().beep();
                    JOptionPane.showMessageDialog(errorFrame,
                            "Could not authorize employee with given username and password.\n\n" +
                            "Please reenter or contact your system administrator.\n\n",
                            "Employee Authorization Failed",
                            JOptionPane.ERROR_MESSAGE);
                    return false;
                }
            }

            return false;
        }
    } 
```

我的用户类：

```
/**
 *  @author OperatorX© 2013
 */

package dossierIB;

public class User 
{
    private String user;
    private String pass;

    public User(String u, String p)
    {
        user = u;
        pass = p;
    }

    public String getUsername()
    {
        return user;
    }

    public String getPassword()
    {
        return pass;
    }

    public void setUsername(String username)
    {
        this.user = username;
    }

    public void setPassword(String password)
    {
        this.pass = password;
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:04:55.463

在`loginAuthorization()`您第一次返回真假时它自己。

试试这个方法

```
boolean ret = false;

     for(int i = 0; i < users.size(); i++)
                {
                    if(users.get(i).getUsername().compareTo(username) == 0 && users.get(i).getPassword().compareTo(password) == 0)
                    {
                        ret = true;
break;

                    }

                    else
                    {
                        passwordField.setText("");
                        Toolkit.getDefaultToolkit().beep();
                        JOptionPane.showMessageDialog(errorFrame,
                                "Could not authorize employee with given username and password.\n\n" +
                                "Please reenter or contact your system administrator.\n\n",
                                "Employee Authorization Failed",
                                JOptionPane.ERROR_MESSAGE);

                    }
                }

                return ret; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T06:07:16.570

我认为在你的程序中使用 hashmap 会更好。下面给出了一个示例代码

```
import java.util.HashMap;

public class NewClass {
    public static void main(String[] args)
    {
        HashMap<String,String>unamePass=new HashMap<String, String>();
        unamePass.put("user1", "pass1");
        unamePass.put("user2", "pass2");
        unamePass.put("user3", "pass3");
        unamePass.put("user4", "pass4");
        if(unamePass.get("user1")!=null)
        {
            String password=unamePass.get("user1");
            /*compare password with entered password*/
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T06:02:28.907

将 else 分支移出 for 循环 in `loginAuthorization()`。

像这样的东西应该工作

```
 for (int i = 0; i < users.size(); i++) {
        if (users.get(i).getUsername().compareTo(username) == 0 && users.get(i).getPassword().compareTo(password) == 0) {
            return true;
        }
    }
    passwordField.setText("");
    Toolkit.getDefaultToolkit().beep();
    JOptionPane.showMessageDialog(errorFrame,
            "Could not authorize employee with given username and password.\n\n"
            + "Please reenter or contact your system administrator.\n\n",
            "Employee Authorization Failed",
            JOptionPane.ERROR_MESSAGE);
    return false; 
```

# c++ - 如何使用 C++ 在 MongoDB 中编写简单的查询？

> ID：15195465
> 
> 赞同：0
> 
> 时间：2013-03-04T05:59:35.790
> 
> 标签：c++, mongodb

我是 Mongo 的新手，正在将它与 C++ api 一起使用。你究竟是如何编写查询的？我找不到任何参考。我得到了运行空白查询的示例。从我能够通过搜索收集到的内容中，我得到了以下信息，但它不正确。如何找到volume字段小于1000的所有文档？如何在多个字段上运行查询？例如，volume<1000 和 otherfield=false。

```
mongo::BSONObj query("volume" << mongo::LT << 1000);
auto_ptr<mongo::DBClientCursor> cursor = c.query("db.collection", query); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:54:43.383

在这里找到了我的问题的答案：[如何在 C++ 中的 mongodb 查询中使用条件运算符](https://stackoverflow.com/questions/8408598/how-to-use-conditional-operators-in-mongodb-queries-in-c)

下面展示了如何基于多个字段进行过滤

```
auto_ptr<mongo::DBClientCursor> cursor = c.query(dbcol, QUERY("field1"<<mongo::LT<<1000<<"field2"<<mongo::LT<<0.02)); 
```

# postgresql - 厨师和postgres；如何指定密码？

> ID：15195467
> 
> 赞同：4
> 
> 时间：2013-03-04T05:59:40.300
> 
> 标签：postgresql, chef-infra, vagrant

我是厨师新手，我正在尝试解释文档。我已将 opscode postgresql 配方添加到我的 chef-solo 环境中。postgresql 似乎可以正常安装和启动，但不幸的是我无法登录服务器，使其几乎无法使用。

文档提到了这一点：

> 使用 chef-client 时，以下节点属性存储在 Chef 服务器上。因为 chef-solo 根本不连接到服务器或保存节点对象，要让密码在 chef-solo 运行中保持不变，您必须在使用的 json_attribs 文件中指定它们。例如：

```
{
  "postgresql": {
    "password": {
      "postgres": "iloverandompasswordsbutthiswilldo"
    }
  },
  "run_list": ["recipe[postgresql::server]"]
} 
```

但是，我不知道“json_attribs”文件是什么。食谱本身不包含这样的文件，我尝试用谷歌搜索，没有结果。我还尝试创建这样一个文件并将其粘贴在我的目录结构中的随机位置，但这当然不起作用。

“没用”，我的意思是我提出了 vagrant，ssh'ed 并尝试了“psql -U postgres -W”，然后输入了我创建的密码......但总是得到一个身份验证错误. 另请注意，我了解我为密码提供的值（例如，代替上面示例中的“iloverandompasswordsbutthiswilldo”）应该是密码的 MD5 哈希，而不是明文，所以这就是我提供的。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-08T14:44:53.220

由于您使用的是 Vagrant，您应该适当地将以下内容添加到您的 Vagrantfile`config.vm.provision :chef_solo do |chef|`部分（其中也存在一个或多个`chef.add_recipe`调用）：

```
config.vm.provision :chef_solo do |chef|
  # other stuff... like: chef.add_recipe "postgresql::server"
  chef.json = {
    "postgresql" => {
      "password" => {
        "postgres" => "iloverandompasswordsbutthiswilldo"
      }
    }
  }
end 
```

哈希是所有节点特定属性所在的`chef.json`地方，并且在 Vagrant 运行的配置期间将其移交给 chef-solo，有关更多信息，请参阅[Vagrant 文档](http://docs.vagrantup.com/v1/docs/provisioners/chef_solo.html#json_configuration)。

# sharepoint-2010 - 与 SharePoint 2010 集成时出现密钥解密错误

> ID：15195469
> 
> 赞同：0
> 
> 时间：2013-03-04T05:59:59.050
> 
> 标签：sharepoint-2010, reporting-services

我有一个本机模式下的 SQL Server 2012 报告服务。报表服务器 url 为：

```
http//hodentekwin7/ReportServer_Kailua 
```

这工作正常。

我安装了 SharePoint 2010，它工作正常，即我可以访问中央管理。到目前为止没有问题。

我已经为 SharePoint 集成模式安装了 SQL Server 2008 R2，并且能够在 SharePoint Adminsitration 中：

*   使用我的登录凭据获取数据库访问权限
*   已成功添加到 WSS_WPG 成员资格
*   在所有网站集中指定激活和停用

但是，当我尝试设置报表服务器站点设置时，我收到此错误：

> 报表服务器无法解密用于访问报表服务器数据库中敏感或加密数据的对称密钥。您必须恢复备份密钥或删除所有加密内容。(rsReportServerDisabled) 获取联机帮助错误数据。（来自 HRESULT 的异常：0x80090005）

好吧，SQL Server 2008 R2 的配置管理器甚至没有被访问一次以设置任何类型的加密。我什至无法访问服务器。

此错误帮助的 Microsoft 链接是一个不可用的页面。

报表服务器正在工作，但无法配置。存在报表服务器数据库。SSRS 2008 R2 从未通过 RS 的配置管理器进行配置。

MS 站点上有关“删除所有加密密钥”的一些提示需要访问 SSRS 配置工具（该工具不适用于带有 SharePoint 的 SSRS）。

任何解决方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T18:55:28.817

终于找到了答案。我删除了所有加密内容。有趣的是它是一个新安装的，从未使用过的服务，加密内容是从哪里来的？也许开箱即用！

# linux - 如何在 unix 中杀死 tty

> ID：15195470
> 
> 赞同：32
> 
> 时间：2013-03-04T06:00:05.003
> 
> 标签：linux, unix

这是`finger`命令的结果（今天（星期一）当我（Vidya）登录时）

```
sekic1083 [6:14am] [/home/vidya] -> finger
Name        Tty       Idle   Login Time    Where
Felix   pts/0        -       Thu 10:06  sekic2594.rnd.ki.sw.
john        pts/1       2d       Fri 15:43
john        *pts/2      2d       Fri 15:43
john      *pts/3       4     Fri 15:44
john      *pts/7       -         Thu 16:25
Vidya      pts/0       -         Mon 06:14
Vidya     *pts/5       -         Mon 06:14
Vidya     *pts/6       -         Tue 10:13
Vidya     *pts/9       -         Wed 05:39
Vidya     *pts/10      -         Wed 10:23 
```

在列下`Tty pts/0 and pts/5`是当前活动的终端。

除了这两个`pts/6`,`pts/9`并且`pts/10`也在场，我上周登录了这些。但是他们的空闲时间显示为“-”（不是空闲）。

我怎样才能杀死这些 6,9 和 10 终端？

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2013-03-04T06:08:10.767

你可以运行：

```
ps -ft pts/6 -t pts/9 -t pts/10 
```

这将产生类似于以下内容的输出：

```
UID        PID  PPID  C STIME TTY          TIME CMD
Vidya      772  2701  0 15:26 pts/6    00:00:00 bash
Vidya      773  2701  0 16:26 pts/9    00:00:00 bash
Vidya      774  2701  0 17:26 pts/10   00:00:00 bash 
```

从`PID`结果中获取。

使用 PID 杀死进程：

```
kill <PID1> <PID2> <PID3> ... 
```

对于上面的例子：

```
kill 772 773 774 
```

如果进程没有正常终止，作为最后一个选项，您可以通过发送一个强制终止`SIGKILL`

```
kill -9 <PID> 
```

* * *

## 回答 #2

> 赞同：27
> 
> 时间：2014-08-14T15:25:15.727

我和你有同样的问题，但我想杀死我所在的 gnome 终端。我阅读了关于“谁”的手册，发现你可以使用“-a”选项列出所有登录到计算机的会话，并且然后“-l”选项打印系统登录过程。

```
who -la 
```

![谁给了我什么](../Images/2d0cbaad565712bd1b45edef688ff9e4.png) 你应该得到这样的东西。然后你所要做的就是用'kill'命令杀死进程。

```
kill <PID> 
```

* * *

## 回答 #3

> 赞同：23
> 
> 时间：2016-07-21T03:47:47.093

例如杀死 pts/0

```
pkill -9 -t pts/0 
```

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2014-11-12T02:57:29.373

尝试这个：

```
skill -KILL -v pts/6

skill -KILL -v pts/9

skill -KILL -v pts/10 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-02-20T13:05:10.633

我今天遇到了同样的问题。我没有剩余的进程，但是用户“xxx”的剩余手指条目，这阻止了我使用“userdel xxx”删除这个用户。

错误消息是：userdel：帐户“xxx”当前正在使用中。

它看起来像一个崩溃的终端会话。所以我重新启动，但问题仍然存在。

```
last xxx
xxx      pts/5        10.1.2.3     Fri Feb  7 10:25 - crash  (01:27) 
```

所以我（重新）移动了 /var/run/utmp 文件：

```
mv /var/run/utmp /var/run/utmp.save ; touch /var/run/utmp 
```

这清除了所有手指条目。不幸的是，这样即使当前正在运行的会话也会被清除。如果这对您来说是个问题，您必须在（重新）移动 utmp 文件后重新启动。

但是在我的情况下，这是解决方案。之后我能够使用“userdel xxx”成功删除用户。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2016-03-25T19:51:19.503

您不需要知道 pts 编号，只需键入：

> ps全部| 重击
> 
> > 然后：
> > 
> > > 杀死 pid1 pid2 pid3 ...

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2019-01-08T20:00:02.413

最简单的方法是使用`pkill`命令。在你的情况下：

```
pkill -9 -t pts/6
pkill -9 -t pts/9
pkill -9 -t pts/10 
```

关于 tty 会话，以下命令总是有用的：

`w`- 显示活动的终端会话

`tty`- 显示您当前的终端会话（这样您就不会意外关闭它）

`last | grep logged`- 显示当前登录的用户

有时我们想关闭空闲用户的所有会话（即当连接突然丢失时）。

`pkill -u username`- 杀死“用户名”用户的所有会话。

有时当我们想要杀死除当前会话之外的所有会话时，我为它制作了一个脚本。有一些化妆品和一些交互性（避免意外运行脚本）。

```
#!/bin/bash
MYUSER=`whoami`
MYSESSION=`tty | cut -d"/" -f3-`
OTHERSESSIONS=`w $MYUSER | grep "^$MYUSER" | grep -v "$MYSESSION" | cut -d" " -f2`
printf "\e[33mCurrent session\e[0m: $MYUSER[$MYSESSION]\n"

if [[ ! -z $OTHERSESSIONS ]]; then
  printf "\e[33mOther sessions:\e[0m\n"
  w $MYUSER | egrep "LOGIN@|^$MYUSER" | grep -v "$MYSESSION" | column -t
  echo ----------
  read -p "Do you want to force close all your other sessions? [Y]Yes/[N]No: " answer
  answer=`echo $answer | tr A-Z a-z`
  confirm=("y" "yes")

  if [[ "${confirm[@]}" =~ "$answer" ]]; then
  for SESSION in $OTHERSESSIONS
    do
         pkill -9 -t $SESSION
         echo Session $SESSION closed.
    done
  fi
else
        echo "There are no other sessions for the user '$MYUSER'".
fi 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-02-20T11:03:12.813

您也可以使用 killall 命令。

-o, --older-than 仅匹配指定时间之前（开始于）的进程。时间指定为浮点数，然后是单位。单位是 s,m,h,d,w,M,y 代表秒、分钟、小时、天、

-e, --exact 要求非常长的名称完全匹配。

-r, --regexp 将进程名称模式解释为扩展的正则表达式。

这就像一个魅力。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2015-09-26T11:15:22.203

如果你想为特定用户关闭所有进程的 tty，上面的命令是最简单的。您可以使用：

```
killall -u user_name 
```

* * *

## 回答 #10

> 赞同：-2
> 
> 时间：2017-02-27T14:32:36.070

除了**AIXroot**的回答，还有一个注销功能，可以用来写 utmp 注销记录。所以如果你没有用户xxxx的任何进程，但是userdel说“userdel: account xxxx is current in use”，你可以手动添加注销记录。像这样创建一个文件 logout.c：

```
#include <stdio.h>
#include <utmp.h>

int main(int argc, char *argv[])
{
  if (argc == 2) {
    return logout(argv[1]);
  }
  else {
    fprintf(stderr, "Usage: logout device\n");
    return 1;
  }
} 
```

编译它：

```
gcc -lutil -o logout logout.c 
```

然后在手指的“On since”行的输出中作为参数运行它：

```
# finger xxxx
Login: xxxx                             Name:
Directory: /home/xxxx                   Shell: /bin/bash
On since Sun Feb 26 11:06 (GMT) on 127.0.0.1:6 (messages off) from 127.0.0.1
On since Fri Feb 24 16:53 (GMT) on pts/6, idle 3 days 17:16, from 127.0.0.1
Last login Mon Feb 10 14:45 (GMT) on pts/11 from somehost.example.com
Mail last read Sun Feb 27 08:44 2014 (GMT)
No Plan.

# userdel xxxx
userdel: account `xxxx' is currently in use.
# ./logout 127.0.0.1:6
# ./logout pts/6
# userdel xxxx
no crontab for xxxx 
```

# html - 如何让嵌入式 Google 音频播放器从安全（密码）FTP 服务器播放 mp3？

> ID：15195471
> 
> 赞同：0
> 
> 时间：2013-03-04T06:00:08.037
> 
> 标签：html, audio, ftp, embed

我从关于如何在我们教堂的网站上嵌入音频播放器的快速提示中获取了这段代码。我们想在上面播放布道，但是布道在 FTP 服务器上，当我将文件的地址放在 url 应该去的地方时，它不起作用。

无论如何都会修改代码（如下）来做到这一点？还有其他解决方法或建议吗？

```
<embed type="application/x-shockwave-flash" src="http://www.google.com/reader/ui/3523697345-audio-player.swf" quality="best" flashvars="audioUrl=ftp://ecclesialatina.asuscomm.com/My_Passport/Webmaster/003_Fr.%20Brancich_Examination%20of%20Conscience_2013_02_17.mp3" width="500" height="27"></embed> 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T15:39:34.723

可以更改 URL 以包含用户名和密码，例如：

`ftp://username:password@hostname/path`

然而，这有几个问题，最明显的是它会将您的 FTP 站点的用户名和密码暴露给任何想查看您站点源的人，因此是一个非常糟糕的主意。除非特定的 swf 支持，否则它也可能无法工作。即便如此，如果要公开访问，最好将音频放在 HTTP 服务器上。

如果您希望只有有密码的用户才能访问这些文件，您将需要一个更好的、完全不同的解决方案。我想您可以使用 Javascript 从用户那里获取用户名和密码，然后使用上述解决方案，但这也不理想，因为如果输入错误的密码，他们将不会收到错误消息，直到他们尝试播放某些内容。

最后，重申一下，最好的办法是将音频放在 HTTP 服务器上。

# jquery - jquery指定css框

> ID：15195475
> 
> 赞同：2
> 
> 时间：2013-03-04T06:00:45.833
> 
> 标签：jquery, css, menu, slidetoggle

嘿伙计们，我在将我的 JQuery SlideToggle 操作指定到特定选项卡（文本框）时遇到问题目前它正在整个菜单中使用整个 SlideToggle 操作。当您将鼠标悬停在一个菜单选项卡上时，我希望在每个菜单选项卡上的分隔符之间有一个绿色滑动框。需要帮忙...

[http://jsfiddle.net/jfarr07/yKF65/1/](http://jsfiddle.net/jfarr07/yKF65/1/)

HTML

```
<div id="navigation">
<div class="panel"></div>
    <ul id="nav">
        <li class="nav"><a href="#">HOME</a></li>
        <li class="nav"><a href="#">OUR STORY</a></li>
        <li class="nav"><a href="#">GALLERY</a></li>
        <li class="nav"><a href="#">GIFT REGISTRY</a></li>
    </ul>
</div> 
```

CSS

```
body, html {
padding:0;
margin:0;
background:url(../../Portfolio/images/wood2.png);
}
a:link {
text-decoration:none;
color:#000;
font-family:open-sans, HelveticaNeue, Helvetica Neue Condensed Bold, Helvetica Neue, serif;
}
a:visited {
color:#000;
}
a:hover {
color:#FFF;
}
#navigation {
width:auto;
height:30px;
background:rgba(0, 0, 0, .25);
}
ul#nav {
display:inline;
}
li.nav {
display:inline-block;
margin: 0px 0px 0px 30px;
padding:0px 0px 0px 30px;
position:relative;
}
li~li { 
border-left: 1px solid #000000;

}
.panel {
position:absolute;
background:#0F3;
background-size:100%;
height:30px;
display:none;
width:100%;
} 
```

jQuery

```
<script>
$(document).ready(function() {
    $("li.nav").hover(function() {
        $("#navigation").find(".panel").stop().slideToggle("fast");
    }, function() {
        $("#navigation").find(".panel").stop().slideToggle("fast");
    });
});
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:14:38.717

试试下面

```
<script type="text/javascript">

    $(function()
    {
        $("li.nav").hover(function()
        {
            var x = $(this).offset().left;
            var y = $(this).offset().top;
            //var w = $(this).width();
            var totalWidth = $(this).width();
            totalWidth += parseInt($(this).css("padding-left"), 10) + parseInt($(this).css("padding-right"), 10); //Total Padding Width
            totalWidth += parseInt($(this).css("margin-left"), 10) + parseInt($(this).css("margin-right"), 10); //Total Margin Width
            totalWidth += parseInt($(this).css("borderLeftWidth"), 10) + parseInt($(this).css("borderRightWidth"), 10); //Total Border Width
            var h = $(this).height();

            //$("#navigation").find(".panel").stop().slideToggle("fast");
            $("#navigation").find(".panel").animate({
                top: y,
                left : x
            }, 0 ).css({'width' : totalWidth,
                'height' : h,
                'position' : 'absolute'}).slideDown(50).css('display','block');

        }, function() {
            $("#navigation").find(".panel").stop().slideUp("fast");
        });
    });

</script>
<div id="navigation">
<div class="panel"></div>
    <ul id="nav">
        <li class="nav"><a href="#">HOME</a></li>
        <li class="nav"><a href="#">OUR STORY</a></li>
        <li class="nav"><a href="#">GALLERY</a></li>
        <li class="nav"><a href="#">GIFT REGISTRY</a></li>
    </ul>
</div> 
```

# c# - 使用简单的替换密码进行加密和解密

> ID：15195477
> 
> 赞同：-1
> 
> 时间：2013-03-04T06:01:09.380
> 
> 标签：c#, cryptography, encryption

试图创建一个简单的替换密码，我的程序工作得很好，但它没有加密或解密数字。我真的不知道我应该在我的代码中添加什么以便它正常工作......任何想法？这是我的代码

```
namespace yaba
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }

        private void btnEncrypt_Click(object sender, EventArgs e)
        {
            string encrypt = tboxIO.Text;
            encrypt.ToLower();

            bool tbNull = tboxIO.Text == "";

            if (tbNull)
                MessageBox.Show("There is nothing to encrypt.");

            else
            {
                char[] array = encrypt.ToCharArray();

                for (int i = 0; i < array.Length; i++)
                {
                    int num = (int)array[i];
                    if (num >= 'a' && num <= 'z')
                    {
                        num += Convert.ToInt32(tbShift.Text);
                        if (num > 'z')
                        {
                            num = num - 26;
                        }
                    }
                    else if (num >= 'A' && num <= 'Z')
                    {
                        num += Convert.ToInt32(tbShift.Text);
                        if (num > 'Z')
                        {
                            num = num - 26;
                        }
                    }
                    array[i] = (char)num;
                }
                lblIO.Text = "Encrypted Message";
                tboxIO.Text = new string(array).ToLower();
            }

            tboxIO.Copy();
        }

        private void btnDecrypt_Click(object sender, EventArgs e)
        {
            string decrypt = tboxIO.Text;
            decrypt.ToLower();

            bool tbNull = tboxIO.Text == "";

            if (tbNull)
                MessageBox.Show("There is nothing to decrypt.");

            else
            {
                char[] array = decrypt.ToCharArray();
                for (int i = 0; i < array.Length; i++)
                {
                    int num = (int)array[i];
                    if (num >= 'a' && num <= 'z')
                    {
                        num -= Convert.ToInt32(tbShift.Text);
                        if (num > 'z')
                            num = num - 26;

                        if (num < 'a')
                            num = num + 26;
                    }
                    else if (num >= 'A' && num <= 'Z')
                    {
                        num -= Convert.ToInt32(tbShift.Text);
                        if (num > 'Z')
                            num = num - 26;

                        if (num < 'A')
                            num = num + 26;
                    }
                    array[i] = (char)num;
                }
                lblIO.Text = "Decrypted Message";
                tboxIO.Text = new string(array).ToUpper();
            }

            tboxIO.Copy();
        }

        private void pictureBox1_Click(object sender, EventArgs e)
        {
            MessageBox.Show("hehe");
        }

        private void tboxIO_MouseClick(object sender, MouseEventArgs e)
        {
            tboxIO.SelectAll();
            tboxIO.Copy();
        }

        private void tbShift_MouseClick(object sender, MouseEventArgs e)
        {
            tbShift.SelectAll();
        }

        private void label1_Click(object sender, EventArgs e)
        {

        }

    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T07:02:03.170

*那么，你*想通过什么逻辑来加密数字？他们也应该被转移`Convert.ToInt32(tbShift.Text)`时间吗？然后你可以添加另一个`else if`并`(num >= '0' && num <= '9')`做同样的事情（用 +/- 10 而不是 +/- 26）。

不过，您需要注意，您可能会转两次甚至三次，具体取决于您想要转移多少。我希望你以某种方式确保`tbShift.Text`can only(!) 的数字不高于 26。

但是*你*需要知道你想如何加密/解密数字并告诉我们，这样我们甚至有机会帮助你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T07:13:57.917

我像这样更改了您的代码。你不应该使用 ToLower。

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;

namespace WindowsFormsApplication1
{
    public partial class Form1 : Form
    {
        string myText = "MusLum";
        string encrypted = "";
        string decrypted = "";
        char shift = 'a';
        public Form1()
        {
            InitializeComponent();
        }

        private void Encrypt_Click(object sender, EventArgs e)
        {
            string encrypt = myText;

            bool tbNull = myText == "";

            if (tbNull)
                MessageBox.Show("There is nothing to encrypt.");

            else
            {
                char[] array = encrypt.ToCharArray();

                for (int i = 0; i < array.Length; i++)
                {
                    int num = (int)array[i];
                    if (num >= 'a' && num <= 'z')
                    {

                        num += (Convert.ToInt32(shift.ToString().ToLower()[0]) - Convert.ToInt32('a')+1);

                        if (num > 'z')
                        {
                            num = num - 26;
                        }
                    }
                    else if (num >= 'A' && num <= 'Z')
                    {
                        num += (Convert.ToInt32(shift.ToString().ToUpper()[0]) - Convert.ToInt32('A')+1);

                        if (num > 'Z')
                        {
                            num = num - 26;
                        }
                    }
                    array[i] = (char)num;
                }

                encrypted = new string(array);
            }

        }

        private void Decrypt_Click(object sender, EventArgs e)
        {
            string decrypt = encrypted;

            bool tbNull = encrypted == "";

            if (tbNull)
                MessageBox.Show("There is nothing to decrypt.");

            else
            {
                char[] array = encrypted.ToCharArray();
                for (int i = 0; i < array.Length; i++)
                {
                    int num = (int)array[i];
                    if (num >= 'a' && num <= 'z')
                    {
                        num -= (Convert.ToInt32(shift.ToString().ToLower()[0]) - Convert.ToInt32('a')+1);

                        if (num > 'z')
                            num = num - 26;

                        if (num < 'a')
                            num = num + 26;
                    }
                    else if (num >= 'A' && num <= 'Z')
                    {
                        num -= (Convert.ToInt32(shift.ToString().ToUpper()[0]) - Convert.ToInt32('A')+1);

                        if (num > 'Z')
                            num = num - 26;

                        if (num < 'A')
                            num = num + 26;
                    }
                    array[i] = (char)num;
                }

                decrypted = new string(array);
            }
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T06:26:47.010

据我所知，您明确表示您只想加密大写和小写字母，所以不，数字没有加密。

此外（不相关）您对 ToLower 的调用是没有回报的，因为 ToLower 是一个函数，并且您没有将结果分配给任何东西。

# shared-memory - key_id 的 shmget 意义

> ID：15195480
> 
> 赞同：1
> 
> 时间：2013-03-04T06:01:17.410
> 
> 标签：shared-memory

据我了解`errno 22`，在 shmget 的情况下是因为要创建共享内存段，并且 size 的值小于系统施加的最小值或大于系统施加的最大值。

但是我不明白的是，我第一次在服务器中调用 shmget 两次，key_id 为 IPC_PRIVATE，大小为 64K，第二次 key_id 为某个随机数，比如 200，大小为 64K，但它总是失败。

我尝试减小第二个实例的大小，而我看到的行为是我无法理解的

对于`key_id > 250`第二个实例，key_id 在 200 到 250 之间只允许到 8k 大小，它允许我到 16K 并且`key_id < 200`它允许我到 32000 字节。

此外，当我更改首先使用随机 key_id 调用 shmget 的顺序，然后使用 IPC 私有且两者的大小为 64K 时，它工作正常。

关于为什么 key_id 在第一个场景中扮演如此重要角色的任何指针。以及为什么使用随机 key_id 调用 shmget 然后 IPC_PRIVATE 有效，但其他方式无效

我正在使用`Linux version 2.6.18-238.9.1.el5`(mockbuild@x86-002.build.bos.redhat.com) (gcc 版本 4.1.2 20080704 (Red Hat 4.1.2-50)) 并且语言是 C。

# iphone - 我可以将电子邮件从（IOS 邮件）复制/移动到我的应用程序吗？

> ID：15195482
> 
> 赞同：0
> 
> 时间：2013-03-04T06:01:29.503
> 
> 标签：iphone, ios5, xcode4

我正在创建应用程序，我想在其中复制/移动（IOS 邮件）到我的应用程序。谁能告诉我这是否可以将 IOS 邮件复制或移动到我的应用程序

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:03:19.090

您无法从内置的 Mail iOS 应用程序访问邮件。至少不是来自任何公共方法，因为 Apple 不提供它。不知道私有方法

# .net - 重命名 .exe 文件时访问被拒绝

> ID：15195490
> 
> 赞同：0
> 
> 时间：2013-03-04T06:02:35.860
> 
> 标签：.net, exe, rename

我们有一个用VB.NET开发的应用程序，保存在windows server 2003中。用户通过网络运行应用程序。我们使用这种方法来更新我们的应用程序

1.  使用更新的代码创建新的 .exe
2.  在用户运行应用程序时重命名旧的 .exe 文件
3.  在旧的 exe 路径中复制新的 .exe
4.  第二天删除旧的.exe

它工作正常。但从一周开始，它的行为很奇怪。有时重命名时会出现错误**访问被拒绝** 。在用户端关闭应用程序后，它将允许重命名。有时在用户端关闭应用程序后 .exe 会自动删除。这是什么原因造成的？请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T11:03:45.470

只需启动**cmd.exe**并键入重命名**“\Server\share\Dir\my.exe”Old.exe。** 您可以通过网络执行此操作

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:04:28.293

也许该应用程序正在某处使用..尝试从任务管理器中终止该进程，然后尝试重命名它

希望这可以帮助

# hyperlink - 我如何将协议缓冲区（C++）链接到 Xcode

> ID：15195498
> 
> 赞同：2
> 
> 时间：2013-03-04T06:03:22.853
> 
> 标签：hyperlink, protocol-buffers

我在项目中添加了`protobuf`类。我在 中添加了一条路径，并在其中添加了一条路径`"xxx.pb.h"``"xxx.pb.cc"``"/usr/local/include"``Header Search Paths``"/usr/local/lib"``Library Search Paths.`

现在我遇到了一个问题，构建时出现以下错误：

```
ld: warning: ignoring file /usr/local/lib/libprotobuf.dylib, file was built for unsupported file format ( 0xcf 0xfa 0xed 0xfe 0x 7 0x 0 0x 0 0x 1 0x 3 0x 0 0x 0 0x 0 0x 6 0x 0 0x 0 0x 0 ) which is not the architecture being linked (i386): /usr/local/lib/libprotobuf.dylib
ld: warning: ignoring file /usr/local/lib/libprotoc.dylib, file was built for unsupported file format ( 0xcf 0xfa 0xed 0xfe 0x 7 0x 0 0x 0 0x 1 0x 3 0x 0 0x 0 0x 0 0x 6 0x 0 0x 0 0x 0 ) which is not the architecture being linked (i386): /usr/local/lib/libprotoc.dylib
Undefined symbols for architecture i386:
"google::protobuf::DescriptorPool::generated_pool()", referenced from:
      protobuf_AssignDesc_person_2eproto() in person.pb.o
"google::protobuf::DescriptorPool::InternalAddGeneratedFile(void const*, int)", referenced from:
      protobuf_AddDesc_person_2eproto() in person.pb.o
"google::protobuf::MessageFactory::generated_factory()", referenced from:
      protobuf_AssignDesc_person_2eproto() in person.pb.o 
```

……

```
NOTE: a missing vtable usually means the first non-inline virtual member function has no definition.
  "vtable for google::protobuf::Message", referenced from:
      google::protobuf::Message::Message() in person.pb.o
  NOTE: a missing vtable usually means the first non-inline virtual member function has no definition.
ld: symbol(s) not found for architecture i386
clang: error: linker command failed with exit code 1 (use -v to see invocation) 
```

[图片](http://i.stack.imgur.com/yDcC5.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T13:22:57.027

按照此答案中提到的步骤-> [https://stackoverflow.com/a/10279656/1383704](https://stackoverflow.com/a/10279656/1383704)

这里和那里有一些陷阱，你可以检查[我自己对相同 qn 的答案](https://stackoverflow.com/a/15246414/1383704)。

这些是我遵循的不同步骤

1.  我没有给出标题搜索路径直到 google 目录，而是给出了搜索路径直到“src/”目录

2.  无论您导入哪个，`xxx.pb.h`都必须将其重命名`.m`为`.mm`

在 Xcode 4.5 中，我仍然遇到一些链接器错误：

> 未找到体系结构 i386 的符号

因此，我无法在模拟器上运行。但代码将在实际设备上运行。

# matlab - 在MATLAB中计算2个地理坐标之间的角度

> ID：15195500
> 
> 赞同：1
> 
> 时间：2013-03-04T06:03:33.687
> 
> 标签：matlab, coordinates, angle

我正在尝试计算 MATLAB 中 2 个地理（纬度、经度）点之间的角度。点是：（-65.226,125.5）和（-65.236,125.433）。

我使用了 MATLAB 函数`azimuth`, 作为：

```
azimuth(-65.226,125.5,-65.236,125.433) 
```

我将结果转换为弧度，并使用 绘制它`quiver`，我得到以下图：

![方位角差异](../Images/218eb1f903a88b3ab58478d0239c42af.png)

我希望红色矢量从右上角指向左下角。

这些点位于相当高的纬度（~65S），并且点的分离度很低（大约 0.1 度）。因此，我无法真正理解地球的曲率如何影响方位角预测。

有没有人有任何使用`azimuth`MATLAB 的经验，或者对计算坐标对之间的角度有更好的建议？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T10:32:27.443

[在这里](http://www.movable-type.co.uk/scripts/latlong.html)，您可以找到有关如何找到两个经纬度点之间角度的详细信息和公式。

# css - 如何在页眉和页脚 div 之间垂直对齐内容 div？

> ID：15195507
> 
> 赞同：1
> 
> 时间：2013-03-04T06:04:05.397
> 
> 标签：css, xhtml, vertical-alignment

我的模板中有三行主 div。我有一个页眉、一个内容包装器和一个页脚。页眉紧贴顶部，页脚紧贴底部。我在两者之间有一个内容包装器 div。我基本上想在两个 div 中垂直居中内容包装器。内容 div 将始终是动态高度，因此 line-height 方法对我不起作用。对我来说最好的方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T17:05:30.137

**垂直居中内容**

在不使用 JavaScript 的情况下，垂直居中动态内容的方法数量有限：

1.  [HTML 表格](http://www.w3.org/TR/html401/struct/tables.html)
2.  [CSS 表格](http://www.w3.org/TR/CSS21/tables.html)
3.  [CSS3 弹性盒](http://www.w3.org/TR/css3-flexbox/)
4.  [CSS3 网格](http://dev.w3.org/csswg/css3-grid-layout/)

在这种情况下，现代方法是使用 CSS 表格，相当于 HTML 表格。但如果需要支持 IE7 或更早版本，则改用 HTML 表格。Flexbox 不适合这种特殊情况，并且它不受 IE9 和更早版本的支持。CSS网格目前只有IE10支持，标准还没有最终确定。

CSS表格的基本用法是：

**HTML**

```
<div class="table">
    <div class="row">
        <div class="cell">Content</div>
    </div>
</div> 
```

**CSS**

```
.table {display: table;}
.row   {display: table-row;}
.cell  {display: table-cell;} 
```

**演示**   （测试于：IE8/9/10、FF、Chrome、Safari、Opera）

*   [HTML 表格](http://jsfiddle.net/Matt_Coughlin/y6sbt/)
*   [CSS 表格](http://jsfiddle.net/Matt_Coughlin/XyX2T/)

**在 HTML 表格和 CSS 表格之间进行选择**

对于*表格数据*（例如，数据网格），倾向于使用*HTML 表格*。在这种情况下，它在语义上更正确，并且可以更容易地理解源代码的性质，这可能有助于可访问性和 SEO（以及代码的可维护性）。

对于*非表格数据*（例如，一般布局），倾向于使用*CSS 表格*（如果浮动和 CSS 定位不充分）。它在语义上更正确，因为使用 HTML 表格会产生对表格数据的期望，并且它可能不会让屏幕阅读器和搜索引擎感到困惑。布局的具体用途包括垂直居中的内容和等高的列。

CSS 表格相对于 HTML 表格的一个特别优势是支持`visibility:collapse`，它允许行或列折叠（HTML 表格无法做到这一点）。如果需要表格数据的特定功能，请使用 CSS 表格。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:09:09.193

您可以使用以下代码执行此操作：-

```
<div> using display:table-cell; vertical-align:middle 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T14:10:28.810

节省一些痛苦，只需将它们分成三个单独的容器。

```
#header {
    width:1000px; /* or what ever width you need */
    margin-left:auto;
    margin-right:auto;
    clear:both;
    overflow:hidden;
}
#content{
    width:1000px; /* or what ever width you need */
    margin-left:auto;
    margin-right:auto;
    clear:both;
    overflow:hidden;
}
#footer{
    width:1000px; /* or what ever width you need */
    margin-left:auto;
    margin-right:auto;
    clear:both;
    overflow:hidden;
}

<div id="header">test</div>
<div id="content">test</div>
<div id="footer">test</div> 
```

溢出隐藏属性将使 div 自动展开以显示添加到其中的任何其他内容.. 使其行为更像一个表格单元格。

这是一个示例[在此处输入链接描述](http://jsfiddle.net/FKnpM/)

# javascript - JSONP 请求状态码 200 但错误

> ID：15195508
> 
> 赞同：2
> 
> 时间：2013-03-04T06:04:08.190
> 
> 标签：javascript, ajax, json

只是试图让以下代码工作但没有成功，

```
$.ajax({
            url: "http://www.futhead.com/fifa/players/search/",
            data: {
                term: 'Ibra'
            },
            dataType: 'jsonp',
            jsonp: false,
            crossDomain: true,
            jsonpCallback: 'callback',
            complete: function (xhr, status) {
                if (status === 'error' || !xhr.responseText) {
                    console.log('Sample of error data:', xhr);
                } else {
                    var data = xhr.responseText;
                }
        }
}); 
```

在控制台日志中，它返回 200 状态，但返回基于 xhr 的错误

托管此内容的当前 URL`http://fut.paid4upload.net/api/`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:07:42.690

`JSONP`通过`HTTP GET`不通过`HTTP POST`：

```
type: 'get', 
```

您可以删除`type`，`$.ajax()`默认其类型为 GET，

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T06:35:54.930

如果 jQuery Ajax 功能不起作用，请尝试类似的方法。我在我的一个项目中做到了这一点

像这样加载脚本。

```
<script type="text/javascript" src="http://www.futhead.com/fifa/players/search/?term=Ibra"></script> 
```

服务器应该像这样发送响应。

```
var yourData = [{"rating": 89, "clubid": 84, "skill_moves": 5, "height": 195, "attack_work_rate": 0, "price_pc": 7600000, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/46.png", "playerid": 11669, "leagueid": 4, "nationid": 49, "revision": "IF", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/41236.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/73.png", "attr6": "HEA 79", "attr4": "DRI 88", "attr5": "DEF 52", "attr2": "SHO 90", "attr3": "PAS 82", "attr1": "PAC 78", "foot": "Right", "weak_foot": 4, "price_xbl": 1593885, "rplayerid": 41236, "league": "Ligue 1", "rare": true, "name": "Zlatan Ibrahimovi\u0107", "level": "gold", "defensive_work_rate": 1, "vote_sum": 190, "price_ps3": 2027887, "position": "ST"}, {"rating": 88, "clubid": 84, "skill_moves": 5, "height": 195, "attack_work_rate": 0, "price_pc": 1995185, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/46.png", "playerid": 577, "leagueid": 4, "nationid": 49, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/41236.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/73.png", "attr6": "HEA 78", "attr4": "DRI 87", "attr5": "DEF 51", "attr2": "SHO 88", "attr3": "PAS 79", "attr1": "PAC 77", "foot": "Right", "weak_foot": 4, "price_xbl": 498482, "rplayerid": 41236, "league": "Ligue 1", "rare": true, "name": "Zlatan Ibrahimovi\u0107", "level": "gold", "defensive_work_rate": 1, "vote_sum": 695, "price_ps3": 659250, "position": "ST"}, {"rating": 81, "clubid": 36, "skill_moves": 4, "height": 180, "attack_work_rate": 0, "price_pc": 1005, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/34.png", "playerid": 3116, "leagueid": 13, "nationid": 20, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/158372.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/34.png", "attr6": "HEA 56", "attr4": "DRI 83", "attr5": "DEF 52", "attr2": "SHO 75", "attr3": "PAS 74", "attr1": "PAC 84", "foot": "Right", "weak_foot": 4, "price_xbl": 1004, "rplayerid": 158372, "league": "Bundesliga", "rare": true, "name": "Ibrahim Afellay", "level": "gold", "defensive_work_rate": 0, "vote_sum": 39, "price_ps3": 992, "position": "LW"}, {"rating": 72, "clubid": 312, "skill_moves": 4, "height": 170, "attack_work_rate": 2, "price_pc": 3828, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/118.png", "playerid": 5958, "leagueid": 13, "nationid": 38, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/183909.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/36.png", "attr6": "HEA 48", "attr4": "DRI 78", "attr5": "DEF 38", "attr2": "SHO 59", "attr3": "PAS 65", "attr1": "PAC 87", "foot": "Left", "weak_foot": 3, "price_xbl": 1895, "rplayerid": 183909, "league": "Bundesliga", "rare": true, "name": "Ibrahima Traor\u00e9", "level": "silver", "defensive_work_rate": 0, "vote_sum": 13, "price_ps3": 2622, "position": "LM"}, {"rating": 71, "clubid": 47, "skill_moves": 2, "height": 187, "attack_work_rate": 0, "price_pc": null, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/136.png", "playerid": 11290, "leagueid": 1, "nationid": 13, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/210320.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/44.png", "attr6": "HEA 69", "attr4": "DRI 69", "attr5": "DEF 69", "attr2": "SHO 51", "attr3": "PAS 66", "attr1": "PAC 82", "foot": "Right", "weak_foot": 3, "price_xbl": null, "rplayerid": 210320, "league": "Serie A", "rare": true, "name": "Ibrahima Mbaye", "level": "silver", "defensive_work_rate": 2, "vote_sum": 8, "price_ps3": null, "position": "LB"}, {"rating": 71, "clubid": 422, "skill_moves": 3, "height": 190, "attack_work_rate": 0, "price_pc": 1100, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/136.png", "playerid": 8307, "leagueid": 15, "nationid": 13, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/197238.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/110089.png", "attr6": "HEA 74", "attr4": "DRI 64", "attr5": "DEF 42", "attr2": "SHO 68", "attr3": "PAS 51", "attr1": "PAC 78", "foot": "Right", "weak_foot": 2, "price_xbl": 316, "rplayerid": 197238, "league": "Russian League", "rare": false, "name": "Ibrahima Bald\u00e9", "level": "silver", "defensive_work_rate": 0, "vote_sum": 6, "price_ps3": 335, "position": "ST"}, {"rating": 69, "clubid": 361, "skill_moves": 3, "height": 188, "attack_work_rate": 0, "price_pc": 310, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/36.png", "playerid": 7338, "leagueid": 9, "nationid": 9, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/190821.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/922.png", "attr6": "HEA 67", "attr4": "DRI 74", "attr5": "DEF 64", "attr2": "SHO 55", "attr3": "PAS 66", "attr1": "PAC 70", "foot": "Right", "weak_foot": 3, "price_xbl": 223, "rplayerid": 190821, "league": "Tippeligaen", "rare": false, "name": "Abdisalam Ibrahim", "level": "silver", "defensive_work_rate": 0, "vote_sum": 0, "price_ps3": 410, "position": "CM"}, {"rating": 66, "clubid": 319, "skill_moves": 4, "height": 167, "attack_work_rate": 0, "price_pc": 300, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/133.png", "playerid": 8315, "leagueid": 14, "nationid": 12, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/197359.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/78.png", "attr6": "HEA 54", "attr4": "DRI 72", "attr5": "DEF 36", "attr2": "SHO 54", "attr3": "PAS 66", "attr1": "PAC 75", "foot": "Left", "weak_foot": 2, "price_xbl": 625, "rplayerid": 197359, "league": "SPL", "rare": false, "name": "Rabiu Ibrahim", "level": "silver", "defensive_work_rate": 0, "vote_sum": 3, "price_ps3": 613, "position": "CAM"}, {"rating": 66, "clubid": 253, "skill_moves": 4, "height": 167, "attack_work_rate": 0, "price_pc": 600, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/133.png", "playerid": 12344, "leagueid": 14, "nationid": 12, "revision": "Transfer", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/197359.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/82.png", "attr6": "HEA 54", "attr4": "DRI 72", "attr5": "DEF 36", "attr2": "SHO 54", "attr3": "PAS 66", "attr1": "PAC 75", "foot": "Left", "weak_foot": 2, "price_xbl": 403, "rplayerid": 197359, "league": "SPL", "rare": false, "name": "Rabiu Ibrahim", "level": "silver", "defensive_work_rate": 0, "vote_sum": 1, "price_ps3": 428, "position": "CAM"}, {"rating": 66, "clubid": 155, "skill_moves": 3, "height": 177, "attack_work_rate": 2, "price_pc": 300, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/118.png", "playerid": 8995, "leagueid": 27, "nationid": 38, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/200414.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/674.png", "attr6": "HEA 46", "attr4": "DRI 74", "attr5": "DEF 46", "attr2": "SHO 55", "attr3": "PAS 61", "attr1": "PAC 77", "foot": "Right", "weak_foot": 4, "price_xbl": 327, "rplayerid": 200414, "league": "Belgium Pro League", "rare": false, "name": "Ibrahima Cont\u00e9", "level": "silver", "defensive_work_rate": 2, "vote_sum": -1, "price_ps3": 201, "position": "CAM"}, {"rating": 65, "clubid": 152, "skill_moves": 2, "height": 190, "attack_work_rate": 1, "price_pc": 200, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/136.png", "playerid": 7720, "leagueid": 27, "nationid": 13, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/192654.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/2007.png", "attr6": "HEA 67", "attr4": "DRI 39", "attr5": "DEF 65", "attr2": "SHO 35", "attr3": "PAS 56", "attr1": "PAC 32", "foot": "Right", "weak_foot": 3, "price_xbl": 244, "rplayerid": 192654, "league": "Belgium Pro League", "rare": false, "name": "Ibrahima Gueye", "level": "silver", "defensive_work_rate": 0, "vote_sum": 2, "price_ps3": 170, "position": "CB"}, {"rating": 65, "clubid": 554, "skill_moves": 2, "height": 176, "attack_work_rate": 2, "price_pc": 277, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/183.png", "playerid": 10891, "leagueid": 36, "nationid": 134, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/208923.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/112139.png", "attr6": "HEA 57", "attr4": "DRI 68", "attr5": "DEF 61", "attr2": "SHO 52", "attr3": "PAS 66", "attr1": "PAC 73", "foot": "Right", "weak_foot": 3, "price_xbl": 251, "rplayerid": 208923, "league": "Saudi League", "rare": false, "name": "Ibrahim Ghaleb", "level": "silver", "defensive_work_rate": 2, "vote_sum": 1, "price_ps3": 489, "position": "CDM"}, {"rating": 65, "clubid": 74, "skill_moves": 3, "height": 185, "attack_work_rate": 0, "price_pc": 246, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/146.png", "playerid": 3133, "leagueid": 21, "nationid": 104, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/158541.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/191.png", "attr6": "HEA 75", "attr4": "DRI 64", "attr5": "DEF 64", "attr2": "SHO 44", "attr3": "PAS 48", "attr1": "PAC 55", "foot": "Right", "weak_foot": 3, "price_xbl": 239, "rplayerid": 158541, "league": "Austrian Bundesliga", "rare": false, "name": "Ibrahim Sekagya", "level": "silver", "defensive_work_rate": 0, "vote_sum": 0, "price_ps3": 303, "position": "CB"}, {"rating": 64, "clubid": 248, "skill_moves": 2, "height": 178, "attack_work_rate": 2, "price_pc": 594, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/117.png", "playerid": 8262, "leagueid": 27, "nationid": 25, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/196681.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/239.png", "attr6": "HEA 67", "attr4": "DRI 62", "attr5": "DEF 67", "attr2": "SHO 52", "attr3": "PAS 61", "attr1": "PAC 80", "foot": "Right", "weak_foot": 4, "price_xbl": 549, "rplayerid": 196681, "league": "Belgium Pro League", "rare": true, "name": "Ibrahim Ayew", "level": "bronze", "defensive_work_rate": 2, "vote_sum": 3, "price_ps3": 535, "position": "RB"}, {"rating": 64, "clubid": 558, "skill_moves": 2, "height": 178, "attack_work_rate": 0, "price_pc": 2500, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/183.png", "playerid": 10910, "leagueid": 36, "nationid": 134, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/208966.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/607.png", "attr6": "HEA 51", "attr4": "DRI 63", "attr5": "DEF 59", "attr2": "SHO 35", "attr3": "PAS 64", "attr1": "PAC 78", "foot": "Right", "weak_foot": 3, "price_xbl": 231, "rplayerid": 208966, "league": "Saudi League", "rare": true, "name": "Ibrahim Hazzazi", "level": "bronze", "defensive_work_rate": 0, "vote_sum": 3, "price_ps3": 334, "position": "RB"}, {"rating": 62, "clubid": 561, "skill_moves": 3, "height": 180, "attack_work_rate": 1, "price_pc": 381, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/183.png", "playerid": 7465, "leagueid": 36, "nationid": 134, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/191496.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/112096.png", "attr6": "HEA 69", "attr4": "DRI 69", "attr5": "DEF 59", "attr2": "SHO 54", "attr3": "PAS 66", "attr1": "PAC 62", "foot": "Right", "weak_foot": 3, "price_xbl": 215, "rplayerid": 191496, "league": "Saudi League", "rare": true, "name": "Ibrahim Al Moghanam", "level": "bronze", "defensive_work_rate": 2, "vote_sum": 0, "price_ps3": 181, "position": "CDM"}, {"rating": 61, "clubid": 384, "skill_moves": 2, "height": 184, "attack_work_rate": 0, "price_pc": 483, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/7.png", "playerid": 10744, "leagueid": 27, "nationid": 27, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/208309.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/232.png", "attr6": "HEA 65", "attr4": "DRI 58", "attr5": "DEF 62", "attr2": "SHO 39", "attr3": "PAS 48", "attr1": "PAC 79", "foot": "Right", "weak_foot": 3, "price_xbl": 443, "rplayerid": 208309, "league": "Belgium Pro League", "rare": true, "name": "Ibrahima Ciss\u00e9", "level": "bronze", "defensive_work_rate": 0, "vote_sum": 0, "price_ps3": 243, "position": "RB"}, {"rating": 60, "clubid": 26, "skill_moves": 2, "height": 180, "attack_work_rate": 0, "price_pc": 330, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/14.png", "playerid": 9093, "leagueid": 5, "nationid": 4, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/200684.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/1799.png", "attr6": "HEA 49", "attr4": "DRI 60", "attr5": "DEF 45", "attr2": "SHO 53", "attr3": "PAS 50", "attr1": "PAC 81", "foot": "Right", "weak_foot": 3, "price_xbl": 481, "rplayerid": 200684, "league": "npower Champ.", "rare": true, "name": "Ibra Sekajja", "level": "bronze", "defensive_work_rate": 0, "vote_sum": 3, "price_ps3": 683, "position": "ST"}, {"rating": 60, "clubid": 366, "skill_moves": 2, "height": 180, "attack_work_rate": 0, "price_pc": 150, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/136.png", "playerid": 4804, "leagueid": 2, "nationid": 13, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/176485.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/1820.png", "attr6": "HEA 66", "attr4": "DRI 55", "attr5": "DEF 63", "attr2": "SHO 54", "attr3": "PAS 60", "attr1": "PAC 63", "foot": "Right", "weak_foot": 3, "price_xbl": 215, "rplayerid": 176485, "league": "Ligue 2", "rare": false, "name": "Ibrahima Ba", "level": "bronze", "defensive_work_rate": 0, "vote_sum": 0, "price_ps3": 5576, "position": "CM"}, {"rating": 59, "clubid": 568, "skill_moves": 2, "height": 179, "attack_work_rate": 0, "price_pc": 175, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/183.png", "playerid": 10931, "leagueid": 36, "nationid": 134, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/209032.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/112392.png", "attr6": "HEA 56", "attr4": "DRI 50", "attr5": "DEF 59", "attr2": "SHO 37", "attr3": "PAS 57", "attr1": "PAC 81", "foot": "Left", "weak_foot": 3, "price_xbl": 245, "rplayerid": 209032, "league": "Saudi League", "rare": true, "name": "Ibrahim Madkhali", "level": "bronze", "defensive_work_rate": 0, "vote_sum": 1, "price_ps3": 294, "position": "LB"}, {"rating": 59, "clubid": 132, "skill_moves": 2, "height": 175, "attack_work_rate": 0, "price_pc": 250, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/118.png", "playerid": 4143, "leagueid": 2, "nationid": 38, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/169800.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/1530.png", "attr6": "HEA 53", "attr4": "DRI 62", "attr5": "DEF 60", "attr2": "SHO 36", "attr3": "PAS 51", "attr1": "PAC 73", "foot": "Left", "weak_foot": 4, "price_xbl": 3634, "rplayerid": 169800, "league": "Ligue 2", "rare": false, "name": "Ibrahima Diallo", "level": "bronze", "defensive_work_rate": 0, "vote_sum": 0, "price_ps3": 1646, "position": "LB"}, {"rating": 58, "clubid": 196, "skill_moves": 2, "height": 182, "attack_work_rate": 0, "price_pc": 150, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/18.png", "playerid": 917, "leagueid": 24, "nationid": 2, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/53042.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/1862.png", "attr6": "HEA 70", "attr4": "DRI 45", "attr5": "DEF 59", "attr2": "SHO 35", "attr3": "PAS 57", "attr1": "PAC 53", "foot": "Right", "weak_foot": 3, "price_xbl": 186, "rplayerid": 53042, "league": "Axpo Super League", "rare": false, "name": "Ibrahim Tall", "level": "bronze", "defensive_work_rate": 0, "vote_sum": 0, "price_ps3": 847, "position": "RB"}, {"rating": 54, "clubid": 107, "skill_moves": 3, "height": 178, "attack_work_rate": 0, "price_pc": 150, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/18.png", "playerid": 10147, "leagueid": 2, "nationid": 2, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/204844.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/210.png", "attr6": "HEA 47", "attr4": "DRI 68", "attr5": "DEF 43", "attr2": "SHO 50", "attr3": "PAS 58", "attr1": "PAC 72", "foot": "Right", "weak_foot": 3, "price_xbl": 609, "rplayerid": 204844, "league": "Ligue 2", "rare": true, "name": "Ibrahima Tandia", "level": "bronze", "defensive_work_rate": 0, "vote_sum": 0, "price_ps3": 343, "position": "CM"}, {"rating": 51, "clubid": 547, "skill_moves": 1, "height": 190, "attack_work_rate": 0, "price_pc": 150, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/183.png", "playerid": 10918, "leagueid": 36, "nationid": 134, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/208987.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/111674.png", "attr6": "POS 49", "attr4": "REF 51", "attr5": "SPE 42", "attr2": "HAN 43", "attr3": "KIC 44", "attr1": "DIV 59", "foot": "Right", "weak_foot": 3, "price_xbl": 158, "rplayerid": 208987, "league": "Saudi League", "rare": false, "name": "Ibrahim Zaid", "level": "bronze", "defensive_work_rate": 0, "vote_sum": 0, "price_ps3": 35985, "position": "GK"}, {"rating": 51, "clubid": 570, "skill_moves": 2, "height": 176, "attack_work_rate": 0, "price_pc": 170, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/183.png", "playerid": 11240, "leagueid": 36, "nationid": 134, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/210191.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/112408.png", "attr6": "HEA 55", "attr4": "DRI 30", "attr5": "DEF 50", "attr2": "SHO 24", "attr3": "PAS 26", "attr1": "PAC 61", "foot": "Right", "weak_foot": 3, "price_xbl": 5178, "rplayerid": 210191, "league": "Saudi League", "rare": false, "name": "Ibrahim Bedhi", "level": "bronze", "defensive_work_rate": 0, "vote_sum": 0, "price_ps3": 1843, "position": "CB"}, {"rating": 50, "clubid": 570, "skill_moves": 2, "height": 170, "attack_work_rate": 0, "price_pc": 200, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/183.png", "playerid": 11250, "leagueid": 36, "nationid": 134, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/210203.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/112408.png", "attr6": "HEA 48", "attr4": "DRI 52", "attr5": "DEF 46", "attr2": "SHO 40", "attr3": "PAS 51", "attr1": "PAC 74", "foot": "Right", "weak_foot": 3, "price_xbl": 588, "rplayerid": 210203, "league": "Saudi League", "rare": false, "name": "Ibrahim Joni", "level": "bronze", "defensive_work_rate": 0, "vote_sum": 0, "price_ps3": 1400, "position": "CDM"}, {"rating": 50, "clubid": 570, "skill_moves": 2, "height": 172, "attack_work_rate": 0, "price_pc": 150, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/183.png", "playerid": 11241, "leagueid": 36, "nationid": 134, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/210192.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/112408.png", "attr6": "HEA 42", "attr4": "DRI 49", "attr5": "DEF 48", "attr2": "SHO 24", "attr3": "PAS 34", "attr1": "PAC 62", "foot": "Left", "weak_foot": 3, "price_xbl": 169, "rplayerid": 210192, "league": "Saudi League", "rare": false, "name": "Ibrahim Al Zubaidi", "level": "bronze", "defensive_work_rate": 0, "vote_sum": -1, "price_ps3": 890, "position": "LB"}, {"rating": 46, "clubid": 46, "skill_moves": 2, "height": 172, "attack_work_rate": 1, "price_pc": null, "nationpicture": "http://fh13.fhcdn.com/static/img/nations/40.png", "playerid": 8916, "leagueid": 15, "nationid": 82, "revision": "", "picture": "http://fh13.fhcdn.com/static/img/players/fifa13/200101.png", "clubpicture": "http://fh13.fhcdn.com/static/img/clubs/100766.png", "attr6": "HEA 55", "attr4": "DRI 27", "attr5": "DEF 48", "attr2": "SHO 24", "attr3": "PAS 34", "attr1": "PAC 53", "foot": "Right", "weak_foot": 1, "price_xbl": null, "rplayerid": 200101, "league": "Russian League", "rare": false, "name": "Anvar Ibrahimgadzhiev", "level": "bronze", "defensive_work_rate": 1, "vote_sum": 0, "price_ps3": null, "position": "NA"}]; 
```

像这样查看您的数据

```
console.log(yourData); 
```

**像这样更新** 访问数据

```
console.log(yourData[0]); 
```

使用*for*循环迭代数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T15:56:44.280

我解决了这个问题，只需在我的网站上放置一个 cURL 页面，该页面根据 $_GET['term']; 动态抓取内容；

```
<?php
$term = $_GET['term'];

// jSON URL which should be requested
$json_url = 'http://www.futhead.com/fifa/players/search/?term='.$term;

// jSON String for request
$data = array('term' => 'ibra');

// Initializing curl
$ch = curl_init( $json_url );

// Configuring curl options
$options = array(
CURLOPT_RETURNTRANSFER => true,
CURLOPT_HTTPHEADER => array('Content-type: application/json')
);

// Setting curl options
curl_setopt($ch, CURLOPT_POSTFIELDS,  $data);
curl_setopt_array( $ch, $options );

// Getting results
$result =  curl_exec($ch); // Getting jSON result string

echo $result;
?> 
```

然后我使用 JSON Ajax 像这样处理这个文件

```
$.ajax({
                    url: "index.php",
                    dataType: "json",
                    data: {
                        term: function () { 
                            return $("#name").val() 
                    }
                    },
                    success: function(details) {
                        response($.map(details, function(item) {
                                return {
                                        label: item.rating,
                                        value: item.rating
                                }
                            }));
                    }
        }); 
```

# c++ - boost进程间库中的atomic_cas32

> ID：15195509
> 
> 赞同：0
> 
> 时间：2013-03-04T06:04:12.650
> 
> 标签：c++, boost, boost-interprocess

以下代码行有什么作用？

```
boost::interprocess::detail::atomic_cas32( &m_shutdown, 1, 1 ) == 1 
```

根据文档，它做了以下事情

//! 将 boost::uint32_t 的值与“cmp”进行比较。//! 如果它们相同，则将值与“with”交换//！"mem": 指向值的指针 //! "with": 用什么交换 //! "cmp": 与之比较的值 //! 返回 *mem 的旧值

有人能告诉我这个 atomic_cas32 是做什么的吗？

# python - 连接不同字典的两个值并在Python中删除后者

> ID：15195510
> 
> 赞同：0
> 
> 时间：2013-03-04T06:04:14.067
> 
> 标签：python, list, dictionary, python-2.7

这是我拥有的数据结构

```
{"A": [
         { 'key1 a' : 'value1',
           'key2 a' : 'A'
           'key3 a' : 'xyz'
         },

         { 'key1 a' : '',
           'key2 a' : 'B'
           'key3 a' : '' 
         },

         { 'key1 a' : 'value3',  
           'key2 a' : 'value4'
           'key3 a' : 'xyz' 
         }
      ],
 "B": [
         { 'key1 b' : 'value1',
           'key2 b' : 'A'
           'key3 b' : 'xyz'
         },

         { 'key1 b' : '',
           'key2 b' : 'C'
           'key3 b' : '' 
         },

         { 'key1 b' : 'value3',  
           'key2 b' : 'value4'
           'key3 b' : 'xyz' 
         }
      ]
} 
```

现在，
我想连接除 key2 以外的所有其他字段为空的字典的值，如果这成立，那么 key2 的值​​应该与以前的字典 key2 连接，并且应该删除自己。
预期输出为

```
{"A": [
         { 'key1 a' : 'value1',
           'key2 a' : 'A B'
           'key3 a' : 'xyz'
         },

         { 'key1 a' : 'value3',  
           'key2 a' : 'value4'
           'key3 a' : 'xyz' 
         }
       ],
 "B": [
         { 'key1 b' : 'value1',
           'key2 b' : 'A C'
           'key3 b' : 'xyz'
         },

         { 'key1 b' : 'value3',  
           'key2 b' : 'value4'
           'key3 b' : 'xyz' 
         }
       ]
} 
```

到目前为止我所做的是

```
for k,v in final_dict.iteritems():
     i=0
     j=len(v)
     while i < j:
          if((not(v[i]["key1 a"])) and (not(v[i]["key3 a"]))):
                 v[i-1]["key2 a"] = v[i-1]["key2 a"] + v[i]["key2 a"] 
                 v.pop(i)
                 del v[i]
                 j=j-1
          else:
                 i=i+1 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T08:39:31.793

希望这是您正在寻找的：

```
dict2 = {}
listElem = []
for key,value in dict1.iteritems():
    for listelem_dict in value:
        for sub_k, sub_v in listelem_dict.iteritems():
            if sub_k.startswith(('key1','key3')) and sub_v == '':
                continue
            else:
                listElem.append(listelem_dict)
                break
        break
    dict2[key] = listElem
print dict2 
```

dict1 是下面提到的数据结构：在您给定的数据结构中，缺少一些逗号。假设缺少逗号是拼写错误。

```
dict1 = {"A": [
                     { 'key1 a' : 'value1',
                       'key2 a' : 'A',
                       'key3 a' : 'xyz'
                     },

                     { 'key1 a' : '',
                       'key2 a' : 'B',
                       'key3 a' : '' 
                     },

                     { 'key1 a' : 'value3',  
                       'key2 a' : 'value4',
                       'key3 a' : 'xyz' 
                     }
              ],
         "B": [
                     { 'key1 b' : 'value1',
                       'key2 b' : 'A',
                       'key3 b' : 'xyz'
                     },

                     { 'key1 b' : '',
                       'key2 b' : 'C',
                       'key3 b' : '' 
                     },

                     { 'key1 b' : 'value3',  
                       'key2 b' : 'value4',
                       'key3 b' : 'xyz' 
                     }
              ]
        } 
```

# c - C：信号量 - 如何仅在 n 个回调后释放信号量

> ID：15195513
> 
> 赞同：1
> 
> 时间：2013-03-04T06:04:23.073
> 
> 标签：c, thread-safety, semaphore

我有一个线程，我想（在特定的代码行）等待来自另一个线程的三个回调事件。只有在收到这三个事件之后，我才想继续前进。

我正在尝试使用信号量。我知道信号量可以在某个点被锁定，并且它一直等待直到它被其他线程释放。现在，问题是我想在释放信号量之前等待三个回调，而不仅仅是一个。我想过有一个计数器，但我不确定只有一个单独的计数器是否是线程安全的。那么有没有办法让信号量带有线程安全计数器？

这适用于 Linux 和 Windows。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:16:54.300

如果线程可以有可分配的数字，你也许可以只为每个控制线程设置一个布尔变量，然后检查是否在挂起的线程被释放之前都设置了。写一个字节可能是原子的。

然而，普通信号量会有原子计数器。

# php - 无法在 magento 的其他页面上获取 cookie 值

> ID：15195514
> 
> 赞同：0
> 
> 时间：2013-03-04T06:04:26.393
> 
> 标签：php, magento, cookies, setcookie

嗨，我在 Magento 中设置了一个 cookie：

```
$cookie_value = $_GET["utm_source"];
$cookie = Mage::getSingleton('core/cookie');
$name   = "Pixel_Track";
$url    = "stage.test.com";
$expiry = time() + 86400 * 365 * 1;
$cookie->set($name, $cookie_value ,$url,$expiry); 
```

现在我想进入另一个页面，我正在使用：

```
$cookie = Mage::getSingleton('core/cookie')->get($name); 
```

我在哪里做错了？因为`print_r`没有给出cookie名称。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:28:38.717

`Mage_Core_Model_Cookie`类包含设置、获取和删除 cookie 的函数。所以试试：

```
$cookie_value = $_GET["utm_source"];
$cookie = Mage::getModel('core/cookie');
...
$cookie->set($name, $cookie_value, $period ,$url,$expiry); 
```

和

```
$cookie = Mage::getModel('core/cookie')->get($name); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-21T05:23:42.610

尝试这个：

```
echo $cookie = Mage::getModel('core/cookie')->get("Pixel_Track"); 
```

//您无法在另一个页面中获取您的变量，因此请输入 cookie 名称。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T06:38:21.580

我刚刚通过定义`path`cookie的属性得到了解决方案。

`$cookie->set($name, $cookie_value ,time()+86400,'/');`

# java - 抄袭检测器问题

> ID：15195517
> 
> 赞同：-3
> 
> 时间：2013-03-04T06:04:46.760
> 
> 标签：java

好的，所以这段代码的标准是，如果在字符串 2 中找到的单词有 90% 的时间在字符串 2 中找到，并且如果在字符串 1 中找到了 90% 的时间在字符串 2 中的单词，那么布尔值应该为真应该说抄袭已经发生了。代码如下；

```
import java.io.*;
import java.util.Scanner;

public class PlagiarismDetector
{
    public static void main(String[] args) {
 Scanner reader = new Scanner(System.in);
 System.out.println("What file is the first file?");
 String fileOne = reader.next();

 String stringOne = readStringFromFile(fileOne);

 System.out.println("What file is the second file?");
 String fileTwo = reader.next();
 String stringTwo = readStringFromFile(fileTwo);

 if (stringOne == null || stringTwo == null)
 {
     return;
 }

 System.out.println("Comparing the 2 files......");
 System.out.println("The result of the 2 files is ....");

 if (compareStrings(stringOne, stringTwo))
 {
  System.out.println("Plagiarism detected. Cheaters!!!!");
 }
 else
 {
       System.out.println("No plagiarism detected");
       }
    }

    public static String readStringFromFile(String filename)
    {
 String builder = "";
 try
 {
     Scanner fileReader = new Scanner(new File(filename));
     while (fileReader.hasNextLine())
     {
  builder = builder + fileReader.nextLine() + "\n";
     }

     return builder;
 }
 catch (Exception e)
 {
     System.out.println("An error occurred while trying to open the file " + filename + ". Is the file located inside the same folder as the .class file and with the identical name?");
     return null;
 }
    }

     public static boolean compareStrings (String a, String b)
 {
   boolean checkForPlagiarism = true;
   String[] piecesA = a.split("\\s");
   String[] piecesB = b.split("\\s");

   double count1 = 0.0;
   double count2 = 0.0;
   for (int counter = 0; counter < piecesA.length; counter++)
    {
      for(int counter2 = 0; counter < piecesB.length; counter2++)
      {
          if(piecesA[counter].equals(piecesB[counter2]))
          {
          count1++;
          }
      }
    }
   for (int counter = 0; counter < piecesB.length; counter++)
    {
      for(int counter2 = 0; counter < piecesA.length; counter2++)
      {
          if(piecesA[counter2].equals(piecesB[counter]))
          {
          count2++;
          }
      }
    }

   if((count1/piecesA.length) >= 0.9 && (count2/piecesB.length) >= 0.9)
   {
     checkForPlagiarism = true;
   }    
    return checkForPlagiarism;
  }
} 
```

我收到此错误消息，但我无法调试；

```
java.lang.ArrayIndexOutOfBoundsException: 3
at PlagiarismDetector.compareStrings(PlagiarismDetector.java:67)
at PlagiarismDetector.main(PlagiarismDetector.java:24)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
at java.lang.reflect.Method.invoke(Unknown Source)
at edu.rice.cs.drjava.model.compiler.JavacCompiler.runCommand(JavacCompiler.java:272) 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T06:06:38.360

`for(int counter2 = 0; counter < piecesB.length; counter2++)`

应该是

`for(int counter2 = 0; counter2 < piecesB.length; counter2++)`

# tridion - 个性化内容

> ID：15195518
> 
> 赞同：2
> 
> 时间：2013-03-04T06:04:48.333
> 
> 标签：tridion, tridion-2011, tridion-content-delivery

我有一个用例，我想个性化内容，访问者根据保存在 Audience Manager 中的信息看到该内容。（我为其中一个联系人“x”添加了关键字“personalize”）。为此

我创建了一个目标组，定义了它的特征和跟踪键（定义个性化 > 0）。

在此之后，我将目标组与组件演示相关联并发布了页面

当我使用“x”凭据登录时，我无法在页面上看到该组件演示文稿。

请帮忙！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T11:26:13.787

第一步：

1.  验证用户在 Broker DB 中是否具有个性化的值
2.  检查您的网络应用程序中是否有 WAI 模块
3.  查看已发布的页面，并验证条件是否在输出中
4.  检查您的目标类型是否设置为适当的语言（不是无）
5.  检查 Deployer 和 Web 应用程序中的存储绑定是否正确

如果这没有显示任何信息，请使用更多信息更新您的帖子。

最后，考虑将其发布在：[https ://tridion.stackexchange.com/grant-beta-access?key=63880f9cbf452c62f726770209533893](https://tridion.stackexchange.com/grant-beta-access?key=63880f9cbf452c62f726770209533893)

# php - 通过 php 通过身份验证读取网络文件

> ID：15195522
> 
> 赞同：0
> 
> 时间：2013-03-04T06:05:17.897
> 
> 标签：php, authentication

我在本地网络中有一个存储，它有一个包含文件的文件夹树..

我在同一网络中的另一台机器 Apache + PHP 中有一个 Web 服务器。

我需要通过 php 脚本访问存储中的这些文件..

我尝试了以下方法：

$data = file_get_contents("\\SomeServer\SomeFolder\test.txt");

我有

```
Warning: file_get_contents(\\SomeServer\SomeFolder\test.txt) [function.file-get-contents]: failed to open stream: Invalid argument 
```

我试图让 Apache 使用登录身份验证运行，该身份验证可以访问存储文件夹，而无需更改。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T07:07:14.630

如果不映射驱动器访问权限，则无法直接读取文件。

如果服务器系统有 LINUX 环境，那么您必须在服务器系统上安装驱动器并提供驱动器盘符名称，然后尝试访问数据。

如果 Windows 身份验证访问网络文件，HTTP 服务器可能没有正确的权限，因此它返回权限被拒绝。

这是您可以尝试的：

*   尝试在Windows资源管理器中访问该文件，如果提示输入用户名和密码，则可能是身份验证问题。尝试删除所有限制，看看它是否有效。然后授予*** *apache service 对正在访问的目录的完全权限***

*   用正斜杠替换你的反斜杠

*   确保您的目录名称不包含空格

*   阅读链接[http://bugs.php.net/bug.php?id=25805](http://bugs.php.net/bug.php?id=25805)

*   将网络资源映射到驱动器名称，请参阅[https://www.microsoft.com/windowsxp/using/networking/maintain/mapdrive.mspx](https://www.microsoft.com/windowsxp/using/networking/maintain/mapdrive.mspx)

注意：提供的共享驱动器/文件夹必须写入。默认情况下仅提供读取权限。

# *设置 Apache 服务完全权限

我确信您已经完成了上述操作，但您还没有提供对 apache 服务器的完全访问权限。请执行以下步骤以提供对 apache 服务器的完全访问权限。

# 全局目录

在 httpd.conf 中设置

# 网站虚拟主机

httpd-vhosts.conf

```
Options Indexes FollowSymLinks Includes ExecCGI 
```

默认情况下，您的全局目录设置为：

```
<Directory />
    Options FollowSymLinks
    AllowOverride All
    Order deny,allow
    Allow from all
</Directory> 
```

将选项设置为： Options Indexes FollowSymLinks Includes ExecCGI

最后，它应该如下所示：

```
<Directory />
    #Options FollowSymLinks
    Options Indexes FollowSymLinks Includes ExecCGI
    AllowOverride All
    Order deny,allow
   Allow from all
</Directory> 
```

# css - CSS - 滚动后无法在android上填满整个屏幕

> ID：15195524
> 
> 赞同：0
> 
> 时间：2013-03-04T06:05:33.257
> 
> 标签：css, css-position

我有以下代码：

```
<!DOCTYPE html>

<html>
<head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <style type="text/css">
        #header {position:fixed; height:100px; top:0px; left:0px; right:0px; background:black; color:white;}
        #overlay {position:fixed;  bottom:100px; top:100px; left:0px; right:0px; overflow:auto; background:gray;}
        #footer {position:fixed; height:100px; bottom:0px; left:0px; right:0px; background:black; color:white;}
        body {overflow:hidden;}
        </style>

</head>
        <body>
                <div id="header">header</div>
                <div id="overlay"><?php for($c=0; $c<100; $c++) echo '<p>overlay</p>'; ?></div>
                <div id="footer">footer</div>
                <?php for($c=0; $c<100; $c++) echo '<p>background</p>'; ?>
        </body>
</html> 
```

基本上，当您第一次加载时，您应该会看到一个灰色区域以及黑色的页脚和页眉。您可以将页面滚动到顶端或底端，您将始终只看到灰色区域和黑色页脚。这些区域下方的白色背景永远不会暴露。这在桌面浏览器中效果很好。

我在 android 本机浏览器上的这段代码有问题。当页面第一次加载时，一切都按预期工作。但是当您滚动到底部时，浏览器地址栏会自行隐藏，然后白色背景显示为灰色区域和黑色页脚之间的间隙。 **如何防止出现此白色背景？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T17:14:00.800

Android 浏览器有一个常见问题，听起来很相似。看看[这个问题](https://stackoverflow.com/questions/10387028/wrong-window-height-on-android-when-the-html-website-is-load)，看看它是否有帮助。

# events - 多 标签

> ID：15195525
> 
> 赞同：2
> 
> 时间：2013-03-04T06:05:40.877
> 
> 标签：events, jsf-2, listeners

我可以在 Jsf2 xhtml 文件中有多个标签吗？

在这种情况下，关联的侦听器将以什么顺序被调用？

Mojarra 2.1.1 / Apache Tomcat 7.0.22 / PrimeFaces 3.4

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-04T07:06:59.240

`<f:event>`是的，您可以在 xhtml 页面中有多个标签。执行顺序实际上取决于`type`您在标签中定义的事件。请在[此处](http://javaserverfaces.java.net/nonav/docs/2.1/vdldocs/facelets/f/event.html)`<f:event>`查看更多类型。所以，到目前为止，如果您有多个事件，我已经处理过按顺序呈现的事件`type=preRenderView`

前任：

```
 <f:event listener="#{bean.method1}" type="preRenderView"> // executes first

 <f:event listener="#{bean.method2}" type="preRenderView"> // execues after above tag 
```

标签中`type`的属性还有其他事件。`<f:event>`阅读这篇[文章](https://stackoverflow.com/questions/13999099/jsf-execution-order-of-fevents)以了解有关事件类型的更多信息：

# python - sudo easy_install bsddb3 错误：找不到本地 Berkeley DB 安装

> ID：15195530
> 
> 赞同：5
> 
> 时间：2013-03-04T06:06:06.663
> 
> 标签：python, berkeley-db, qgis, bsddb

我尝试使用 Python 2.7.3 在 qgis 上制作插件

并且发生了错误 ![图片](../Images/92d219faccafc03b9fe3f38b8924ccc5.png)

我找到了一种安装**bsddb3**来替换 bsddb的方法

但是当我尝试

```
$sudo easy_install bsddb3 
```

它给了我一个错误

```
Can't find a local Berkeley DB installation 
```

我找到了安装 Homebrew 和 GCC 可以解决问题的方法

但是在我安装后但仍然发生错误

我如何解决这个问题？

这是我遵循的步骤

[破解 OS X 的 Python dbhash 和 bsddb 模块使其工作](http://marc-abramowitz.com/archives/2007/11/28/hacking-os-xs-python-dbhash-and-bsddb-modules-to-work/)

[2](http://marc-abramowitz.com/archives/2007/11/28/hacking-os-xs-python-dbhash-and-bsddb-modules-to-work/)

![在此处输入图像描述](../Images/c52771119fe05d678a04f93ad97d93f6.png)

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-04T07:17:36.100

以下是我如何让 bsddb3 在我的 Mac 上工作。

[首先，从https://pypi.python.org/pypi/bsddb3/5.3.0](https://pypi.python.org/pypi/bsddb3/5.3.0)下载 Python 模块源码（我用的是`.tar.gz`版本）

接下来，确保安装了 BerkeleyDB。我使用 MacPorts 并安装了该`db48`软件包。这会将包含文件`/opt/local/include/db48`和库放在`/opt/local/lib/db48`. 如果您使用的是 HomeBrew，这些位置可能会有所不同。

使用正确的路径解压缩`bsddb3`并安装它：

```
python setup.py --berkeley-db-incdir=/opt/local/include/db48 --berkeley-db-libdir=/opt/local/lib/db48 install 
```

在那之后，我有一个工作`bsddb3`包。您仍然需要修补试图包含`bsddb`并替换它的模块`bsddb3`。

# python - SWIG：%pointer_class 和 %pointer_functions 之间有什么区别？

> ID：15195531
> 
> 赞同：1
> 
> 时间：2013-03-04T06:06:07.177
> 
> 标签：python, c, swig

这是我的 C 接口：

```
typedef uint16_t my_type1;
typedef uint8_t my_type2;
int my_func(my_type1 * arg1, my_type2 * arg2) {
   *arg1 = *arge + 1;
} 
```

现在，如果我像这样定义我的接口文件，它就可以工作：

```
%include "stdini.i"
%include "cpointer.i"
typedef uint16_t my_type1;
typedef uint8_t my_type2;
%pointer_functions(my_type1, my_type1_p);
%pointer_functions(my_type2, my_type2_p); 
```

但我似乎无法让它与`%pointer_class`. 它总是给我错误：

> TypeError：无法将不透明的 Python 指针转换为 C 指针。

# jquery - JSP/JQuery Mobile 会话超时问题

> ID：15195533
> 
> 赞同：1
> 
> 时间：2013-03-04T06:06:12.887
> 
> 标签：jquery, jquery-mobile

服务器端：JSP/Servlet

客户端 Javascript 移动框架：JQuery Mobile

问题：会话超时后，当我单击当前页面上的任何超链接时，JQuery mobile 显示“错误加载页面”消息，而不是迁移到指定的页面进行会话检查并显示会话超时信息。在 javascript 控制台上显示“加载资源失败：服务器响应状态为 500（内部服务器错误）”。如果没有 Jquery mobile，整个事情都可以正常工作。我怎样才能克服这个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:22:28.953

`the server responded with a status of 500 (Internal Server Error)`

现在不要责怪 jQuery Mobile。当服务请求失败时，它将转到您在服务调用失败时指定的函数。

因此，您需要在服务调用失败时调用的函数中添加以下行

```
function serviceCallFailed(){
//Assuming that your login page's name is loginpage.html
 $.mobile.changePage('loginpage.html');
} 
```

# ios - NSDateFormatter 导致内存泄漏

> ID：15195534
> 
> 赞同：3
> 
> 时间：2013-03-04T06:06:15.570
> 
> 标签：ios, objective-c

当我分析我的 iOS 应用程序时，我发现内存泄漏太多： [![在此处输入图像描述](../Images/ee033516c11d58dc63ec87b619c1cb06.png)](https://i.stack.imgur.com/xX181.png)

有我的 NSDateFormatter 代码，代码在一个循环中：

```
 for (NSDictionary * dataDict in deserializedData) {
    NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
    NSTimeZone *timeZone = [NSTimeZone localTimeZone];
    [dateFormatter setTimeZone:timeZone];
    [dateFormatter setDateFormat : @"yyyy-MM-dd HH:mm:ss"];
    NSString *currentDateString = [dateFormatter stringFromDate:[NSDate date]];
    [dateFormatter release];
} 
```

谁能告诉我我的代码有什么问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T06:13:48.140

试试这样的自动释放，

```
NSDateFormatter *dateFormatter = [[[NSDateFormatter alloc] init] autorelease];
NSTimeZone *timeZone = [NSTimeZone localTimeZone];
[dateFormatter setTimeZone:timeZone];
[dateFormatter setDateFormat : @"yyyy-MM-dd HH:mm:ss"];

for (NSDictionary * dataDict in deserializedData) {
    NSString *currentDateString = [dateFormatter stringFromDate:[NSDate date]];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T06:24:54.187

这段代码没有错。但我认为它不是在主线程上调用的。

只需在您编写此代码的函数的开头创建一个自动释放池。在函数结束时释放池。

```
-(void) yourFun
{
    NSAutoreleasePool * pool = [[NSAutoreleasePool alloc] init];

    //other stuff...

    for (NSDictionary * dataDict in deserializedData) {
        NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
        NSTimeZone *timeZone = [NSTimeZone localTimeZone];
        [dateFormatter setTimeZone:timeZone];
        [dateFormatter setDateFormat : @"yyyy-MM-dd HH:mm:ss"];
        NSString *currentDateString = [dateFormatter stringFromDate:[NSDate date]];
        [dateFormatter release];
    }

    [pool release];
} 
```

# java - 如何根据某些条件显示图像或文本

> ID：15195538
> 
> 赞同：0
> 
> 时间：2013-03-04T06:06:33.660
> 
> 标签：java, jasper-reports, alignment

我有*JR*报告，其中*标题*带中存在图像和*文本字段。*我从数据库中获取图像，并从传递的参数中获取字段。

 *现在，当图像为空时，我希望该文本字段位于中心，如果图像不为空，则文本字段位于图像的右侧。

请提出任何答案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T09:35:18.490

创建两个文本字段，并设置一个文本字段的`Print When Expression`属性以在图像字段为空且隐藏另一个文本字段的条件下显示。*

# checkbox - 使用 StandardSetController 的 Visualforce 分页 - 如何跨页面保留已检查的值

> ID：15195540
> 
> 赞同：0
> 
> 时间：2013-03-04T06:06:42.810
> 
> 标签：checkbox, pagination, apex-code, visualforce

我使用standardSetController 来实现分页和包装器来处理选定的记录。

一切正常，直到我尝试在不同的记录页面上保留复选框状态。假设，在第 1 页上检查了几条记录并单击了下一步按钮。单击的上一个按钮返回到第 1 页。之前检查过的记录将被取消检查。

谁能让我知道如何跨页面保留检查的值。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-12T11:36:22.573

我已经通过以下方式解决了这个问题：

*   创建一个`Set<Id> selectedRecordIds`
*   在每个 nextPage、prevPage、lastPage 等以及您在集合上执行的每个操作上，首先使用当前页面的 isSelected 值更新 selectedIds 集合（如果它们在 Id 集合中，请不要忘记删除未选择的项目)
*   当加载新的记录页面时，在 get 方法中循环遍历它们并根据它们是否存在于 selectedRecordIds 集中设置（或取消设置）它们的 isSelected 值。

# c# - 从排序数组中选择最多 5 个数字的有效方法

> ID：15195542
> 
> 赞同：1
> 
> 时间：2013-03-04T06:06:55.400
> 
> 标签：c#, linq

是否有任何其他最佳方法可以从 3 个排序数组中获取 5 个最大数字，如下面的代码所示：

更新：

1.  下面的代码给了我结果，但我不确定这是否是唯一的方法

2.  输入数组可能包含重复项，但结果不能

3.  高效意味着我们在获得结果时需要更少的迭代。

4.  我正在寻找 linq 特定的答案。

```
private void Take5MaxNumbers()
{
    var a1 = new[] { 10, 25, 45, 65, 76 };
    var a2 = new[] { 32, 43, 54, 62, 78, 85, 93, 102 };
    var a3 = new[] { 54, 74, 98, 105 };

    var finalArray = a1.Union(a2).Union(a3).OrderByDescending(x => x).Take(5);

    foreach (var item in finalArray)
    {
        Console.Write(item + " ");
    }
}

// Output:
105 102 98 93 85 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T06:12:56.393

对 3 个数组迭代 5 步合并排序：这可以通过一个包含三个元素的数组来完成，该数组包含每个数组的最大值，然后找到最大值和最大值的索引。（如果索引为 2（从 0..2 开始），则从最后一个预排序数组中替换该元素。）

使用 linq [有效地] 执行此操作的步骤可能需要这些步骤 -

*   [从每个列表中删除重复项](https://stackoverflow.com/questions/1606679/remove-duplicates-in-the-list-using-linq)
*   [从每个列表中取出最后 5 个项目](https://stackoverflow.com/questions/8532768/how-to-retrieve-last-5-records-using-linq-method-or-query-expression-in-c-sharp)
*   [连接](https://stackoverflow.com/questions/4734556/concatenate-lists-with-linq)
*   种类
*   取最后五个元素

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-13T09:26:59.083

从排序数组中找出前 5 个元素的最佳方法是比较每个数组的最后一个元素获取最大值，并比较每个数组的最后一个元素留下前一个创建的元素。

下面是执行此任务的两种方法，第一种是仅使用基本类型并且是最有效的方法，没有额外的循环没有额外的比较没有额外的内存消耗，只需传递需要与另一个匹配的元素的索引并计算这是每个给定数组要匹配的下一个索引。

第一个是这样的：通过链接：-

[从三个给定的排序数组中找到最大前 5 个数字的最有效方法](http://www.dotnetbull.com/2013/09/find-max-top-5-number-from-3-sorted-array.html)

第二个是这样的：-

```
int[] Array1 = { 09, 65, 87, 89, 888 };
int[] Array2 = { 1, 13, 33, 49, 921 };
int[] Array3 = { 22, 44, 66, 88, 110 };

int [] MergeArr = Array1.Concat(Array2).Concat(Array3).ToArray();
Array.Sort(MergeArr);
int [] Top5Number = MergeArr.Reverse().Take(5).ToArray() 
```

## [从三个给定的排序数组中找到最大前 5 个数字的最有效方法](http://www.dotnetbull.com/2013/09/find-max-top-5-number-from-3-sorted-array.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T06:45:34.953

您可以取每个数组中的前 5 个元素，然后最后按降序排列。

```
var a1_5 = a1.Reverse().Take(5).Reverse();
var a2_5 = a2.Reverse().Take(5).Reverse();
var a3_5 = a3.Reverse().Take(5).Reverse();
var resultArray = (a1_5.Union(a2_5)).Union(a3_5).OrderByDescending(x=>x).Take(5); 
```

这样，您的排序方法“OrderByDescending”将有更少的处理输入和更好的性能。

# javascript - 在鼠标悬停和鼠标悬停时显示和隐藏 Div

> ID：15195543
> 
> 赞同：-3
> 
> 时间：2013-03-04T06:06:55.560
> 
> 标签：javascript, css

我想在鼠标悬停图像时打开一个包含几个链接的 div，并在鼠标移出时隐藏该 div。但我面临的问题是，当我尝试继续该 div 的任何链接时，div 也会隐藏，因为图像触发的 mouseout 事件会隐藏 div。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:10:47.177

利用

```
transition-delay:some value in sec; 
```

和上

```
div:hover {
display:block; 
} 
```

为了获得全面帮助，请向我们展示代码

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:13:06.197

检查这个[演示](http://jsfiddle.net/jhunlio/TEyHC/11/)，这对我以前的工作有很大帮助，也许也可以帮助你......

jQuery

```
$(function() {

                $('#selectBox').click(function() {
            $('.selectBoxContent').slideToggle('fast');
            return false;

        });
            }); 
```

# c# - 如何检查是否选择了 ListItem？

> ID：15195544
> 
> 赞同：0
> 
> 时间：2013-03-04T06:06:59.970
> 
> 标签：c#, asp.net

我正在做一个小测验，我被困在 C# 编码上，检查用户从 DropDownList 中选择了哪个 ListItem。

```
 <li><b>What is 231 mod 55?</b>
                <asp:Label ID="lblQuestionResult2" runat="server" Font-Bold="true" Font-Size="16px" />
                <br />
                <asp:DropDownList ID="DropDownList1" runat="server" Width="55px">
                    <asp:ListItem>14</asp:ListItem>
                    <asp:ListItem>6</asp:ListItem>
                    <asp:ListItem>11</asp:ListItem>
                </asp:DropDownList>
            </li> 
```

我所拥有的不起作用。如何检查用户选择的内容？

```
 if (ListItem.Equals(toString(11)))
    {
        lblQuestionResult2.ForeColor = System.Drawing.Color.Green;
        lblQuestionResult2.Text = "Correct";
    }
    else
    {
        lblQuestionResult2.ForeColor = System.Drawing.Color.Red;
        lblQuestionResult2.Text = "Incorrect";
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:19:42.747

您的`DropDownList`控件已经是服务器端控件。为事件添加事件处理程序`OnSelectedIndexChanged`并处理它。它应该看起来像

```
 <asp:DropDownList ID="DropDownList1" 
       runat="server" Width="55px" AutoPostBack="true" 
       OnSelectedIndexChanged="OnComboSelectionChanged"> 
```

在后面的代码中，您可以添加这样的处理程序

```
protected void OnComboSelectionChanged(object sender, EventArgs e)
{
  // Your code goes here.
  string selectedValue = DropDownList1.SelectedValue;

} 
```

确保你使用

```
AutoPostBack="true" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:15:00.807

有两种获取方式：

```
 //One way
 string selectedvalue = ddList.SelectedValue;

 //Second Way
 string selectedindex = ddList.SelectedItem.Text; 
```

完整的例子：

我放了一个`DropDownList`和一个`Button`

```
 <asp:DropDownList ID="ddList" runat="server">
        <asp:ListItem>14</asp:ListItem>
        <asp:ListItem>6</asp:ListItem>
        <asp:ListItem>11</asp:ListItem>
 </asp:DropDownList>

 <asp:Button ID="btnClick" runat="server" Text="Button" OnClick="btnClick_Click" /> 
```

我创建了一个在用户单击按钮时触发的方法

```
protected void btnClick_Click(object sender, EventArgs e)
{

     string selectedvalue = ddList.SelectedValue;
     string selectedindex = ddList.SelectedItem.Text;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T06:17:04.367

这个 MSDN 页面应该会有所帮助。看起来你需要做什么 [http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.listitem.selected.aspx?cs-save-lang=1&cs-lang=csharp#code -snippet-2](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.listitem.selected.aspx?cs-save-lang=1&cs-lang=csharp#code-snippet-2)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-04T06:18:41.270

这可能会帮助你

//aspx端

```
 <asp:DropDownList ID="DropDownList1" runat="server" Width="55px" 
                   onselectedindexchanged="DropDownList1_SelectedIndexChanged">
                    <asp:ListItem>14</asp:ListItem>
                    <asp:ListItem>6</asp:ListItem>
                    <asp:ListItem>11</asp:ListItem>
                </asp:DropDownList> 
```

//cs端

```
protected void DropDownList1_SelectedIndexChanged(object sender, EventArgs e)
    {
        if (DropDownList1.SelectedValue=="11")
        {
            lblQuestionResult2.ForeColor = System.Drawing.Color.Green;
            lblQuestionResult2.Text = "Correct";
        }
        else
        {
            lblQuestionResult2.ForeColor = System.Drawing.Color.Red;
            lblQuestionResult2.Text = "Incorrect";
        }
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-04T06:32:01.397

```
<asp:DropDownList ID="DropDownList1" runat="server" Width="55px" 
               onselectedindexchanged="DropDownList1_SelectedIndexChanged">
                <asp:ListItem>14</asp:ListItem>
                <asp:ListItem>6</asp:ListItem>
                <asp:ListItem>11</asp:ListItem>
            </asp:DropDownList> 
```

//后面的代码

```
protected void DropDownList1_SelectedIndexChanged(object sender, EventArgs e)
{
    if (DropDownList1.SelectedIndex!=0)
    {
        //your code implementation for selected value
    }
} 
```

# celery - 如何在芹菜中的任务组之后排队任务？

> ID：15195547
> 
> 赞同：0
> 
> 时间：2013-03-04T06:07:18.100
> 
> 标签：celery, django-celery

如何确保在组（[http://docs.celeryproject.org/en/latest/userguide/canvas.html#groups](http://docs.celeryproject.org/en/latest/userguide/canvas.html#groups)）完成执行后任务自动运行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T08:01:40.767

您需要使用“和弦”：

[http://docs.celeryproject.org/en/latest/userguide/canvas.html#chords](http://docs.celeryproject.org/en/latest/userguide/canvas.html#chords)

第一个参数是子任务列表（组），第二个参数是当第一个参数中的所有子任务都完成处理时要调用的子任务。

# java - NoSuchMethodError：org.apache.axis2.jaxws.description.ServiceDescriptionWSDL.getWSDLLLocation()

> ID：15195550
> 
> 赞同：0
> 
> 时间：2013-03-04T06:07:35.130
> 
> 标签：java, exception

我在 NetBeans IDE 7.3 中从 wsdl 创建了我的 Web 服务客户端，尝试运行它时出现以下错误：

```
Exception in thread "main" java.lang.NoSuchMethodError: org.apache.axis2.jaxws.description.ServiceDescriptionWSDL.getWSDLLocation()Ljava/lang/String;
    at org.apache.axis2.jaxws.spi.ServiceDelegate.getWSDLDocumentLocation(ServiceDelegate.java:623)
    at org.apache.axis2.jaxws.spi.ServiceDelegate.isValidWSDLLocation(ServiceDelegate.java:742)
    at org.apache.axis2.jaxws.spi.ServiceDelegate.<init>(ServiceDelegate.java:212)
    at org.apache.axis2.jaxws.spi.Provider.createServiceDelegate(Provider.java:59)
    at javax.xml.ws.Service.<init>(Service.java:36) 
```

任何建议将不胜感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T07:25:11.867

这个问题总是由 jar 版本决定的。确保旧版本不在类路径中，jvm 将按照类路径指定的顺序加载 jar。如果旧版本或其他 jar 具有您要加载的类，则该类将被加载。

我总是尝试像这样解决它：

在eclipse中，ctr+shift+t，输入类名“ServiceDescriptionWSDL”，如果能看到2个以上的结果，说明classpath中有多个jar。您可以选择它们中的每一个来通过eclipse中的“包资源管理器”检查类中是否存在方法getWSDLLLocation（）。根据我的经验，您应该在某个不包含方法 getWSDLLLocation() 的 jar 中找到一个 ServiceDescriptionWSDL，然后将此 jar 从您的类路径中删除，或者如果您使用“-cp”，则将此 jar 移到具有该方法的 jar 后面指定类路径。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:25:40.097

提供的 axis2 jar 可能是更旧的版本，例如`'axis2-1.2.jar'`.

提供最新的jar文件`axis2-metadata-1.6.0.jar`

供参考检查这所有的[罐子](http://www.jarvana.com/jarvana/search?search_type=class&java_class=org.apache.axis2.jaxws.description.ServiceDescriptionWSDL)

# php - 如何管理 APC 中的数据

> ID：15195556
> 
> 赞同：0
> 
> 时间：2013-03-04T06:07:59.597
> 
> 标签：php, design-patterns, apc

如何在 APC 中管理不同类型的数据？由于 APC 将数据存储在键值对中，如何存储数据以便处理不同类型的对象？例如，我想存储会话数据以及其他一些缓存对象。

最初我正在考虑将类名附加到 id 以将其存储为键和对象作为值。我相信有比这更好的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:44:50.257

好吧，APC 使用键值系统存储值。如果要存储会话，则每个 APC 密钥必须是唯一的。`sessid_`由于会话密钥已经是唯一的，因此它应该不会比在 id前添加类似的内容更困难：

```
$key = 'sessid_'.session_id();
apc_add($key, $value, 3600 * 6); 
```

虽然 APC 可能工作正常，但它可能不是最好的存储机制。APC 的数据存储更适合存储常用数据，例如常量、配置、计数器、全局使用的字符串等。此外，当您将内容存储在 APC 中时，数据会被序列化，然后每次读取和写入数据时都会被反序列化。看到会话通常包含在数组或对象之类的东西中，这不是最佳的。

会话转瞬即逝，通常会根据需要发生很大变化。缓存内容的重点是您打算*读取*数据比*写入*数据要多得多。如果会话数据经常更改（例如用户上次活动的时间，他们登录或退出的频率等），那么它就无法实现缓存它的目的。在这种情况下，数据库可能更合适。而且它不需要是好的旧 MySQL。那里有很多种数据库。有些比其他更适合。

# database - 无法使用提供的设置连接到您的数据库服务器。(Codeigniter) 和 MySQL® 服务器当前处于脱机状态。（面板）

> ID：15195558
> 
> 赞同：1
> 
> 时间：2013-03-04T06:08:10.470
> 
> 标签：database, codeigniter, cpanel

从昨晚开始，我的网站给了我这个错误。

> 发生数据库错误
> 
> 无法使用提供的设置连接到您的数据库服务器。
> 
> 文件名：core/Loader.php
> 
> 行号：268

当我记录错误时，我在我的日志文件中找到了这些行

> 错误 - 2013-03-03 23:38:44 --> 严重性：警告 --> mysql_pconnect() [function.mysql-pconnect]：连接太多 /home/myappbui/public_html/system/database/drivers/mysql/ mysql_driver.php 88 错误 - 2013-03-03 23:38:44 --> 无法连接到数据库

然后我去了cPanel，在那里我点击了**'MySql Databases'**它给了我这个错误

> MySQL® 服务器当前处于脱机状态。

当我点击**phpMyAdmin**时，它没有登录到我的数据库。可能是什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-23T11:29:00.287

如果您使用的是 MacOS，您必须编辑 php.ini 文件 (/etc/php.ini) 并更改所有出现的 mysql.sock 位置：

**从：** /var/mysql/mysql.sock**到：** /tmp/mysql.sock

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:19:34.213

您的数据库连接文件出现此错误

您对 mysql 连接的 php 请求被拒绝。

所以有可能是您的 phpmyadmin 服务器可能已停止

因此，如果服务器已启动，请启动您的 wamp 或 zamp 服务器，然后重新启动所有服务

可能是您的问题是使用上述过程解决的。

# java-me - 从主类调用使用 lwuit gui builder 生成的 gui

> ID：15195563
> 
> 赞同：-2
> 
> 时间：2013-03-04T06:08:45.323
> 
> 标签：java-me, lwuit

你好，我只是使用 lwuit 资源编辑器 gui builder（应用程序>高级>生成 ui 状态机）创建名为例如 LoginForm 的 gui。

如何从我的主类中调用这个 LoginForm？

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-24T19:32:09.840

你不应该那样使用它。您应该使用“生成 NetBeans 项目”并使用它。

# java - 部署后连接配置文件不起作用-Birt 报告

> ID：15195564
> 
> 赞同：0
> 
> 时间：2013-03-04T06:08:47.383
> 
> 标签：java, eclipse, tomcat, birt

我正在使用连接配置文件连接到 postgres 数据库。在 tomcat 中复制报告后，我收到错误（即：“无法确定默认工作区位置。检查插件或 datatools 工作区路径的 OSG-iless 平台配置”） tomcat 启动。我附上了该错误的屏幕截图。任何人都可以帮助解决这个问题..

![在此处输入图像描述](../Images/143ed9aa551f689723377b43202aa185.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T23:23:52.687

您需要设置 DTP 工作区。看看这个 wiki 页面： [http ://wiki.eclipse.org/Birt_3.7_Migration_Guide#Connection_Profiles](http://wiki.eclipse.org/Birt_3.7_Migration_Guide#Connection_Profiles)

或者您可以下载 osgi birt 运行时。您可以在完整的下载页面上找到它。例如 4.2.2 位于此处： http: [//download.eclipse.org/birt/downloads/build.php ?build=R-R1-4_2_2-201302161152](http://download.eclipse.org/birt/downloads/build.php?build=R-R1-4_2_2-201302161152)

# sql - 为什么这发生在 sql

> ID：15195566
> 
> 赞同：0
> 
> 时间：2013-03-04T06:08:50.890
> 
> 标签：sql, sql-server

我在 sql 中有以下语句

```
 declare @date varchar(20)
 declare @query  NVARCHAR(MAX)

 set @date= '2013-1-1'
 set @query= 'print '+@date+''
 execute (@query) 
```

我得到的答案是 2011 年而不是 2013 年 1 月 1 日。为什么会这样。如何使用execute(@query) 语句将答案设为2013-1-1 而不是2011

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T06:24:43.927

您的查询实际上是：

```
print 2013-1-1 
```

造成的：

```
'print '+@date+'' 
```

如果您将 SQL 重写为：

```
print @data 
```

你会得到打印的值：2013-1-1

如果您更新了原始查询：

```
declare @date varchar(20)
declare @query  NVARCHAR(MAX)

set @date= '2013-1-1'
set @query= 'print '''+@date+''''
execute (@query) 
```

这与写作相同：

```
print '2013-1-1' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:31:16.573

你也可以这样尝试....这也会给你答案

声明@date varchar(20) 声明@query NVARCHAR(MAX)

set @date= '2013-1-1' set @query= 'print '''+@date+'''' 执行 (@query)

# google-chrome - Chrome - UI 冻结但脚本在扩展模式下运行

> ID：15195567
> 
> 赞同：1
> 
> 时间：2013-03-04T06:08:53.857
> 
> 标签：google-chrome, user-interface, popup, freeze

我被困了很长时间，想知道是否有人对可能发生的事情有任何线索。

我在 Mac OS Lion 10.7.4 上使用 Chrome 25.0.1364.152。

该页面基本上更新来自服务器的外汇报价并显示更新的报价。它每秒触发一次更新调用。

虽然它没有任何问题，但当作为 Chrome 浏览器操作弹出扩展运行时，UI 只是在随机点冻结，主要是在弹出窗口打开之后。但是，我可以从我的服务器监控页面仍在发送更新请求，这意味着脚本正在运行。

控制台上没有错误，可以毫无问题地检查页面及其元素。一切似乎都在工作，但 UI 不会更新（它也不接受像鼠标点击这样的输入）。

我试过清除 Chrome 缓存，我也删除了 Chrome 配置文件，没有任何帮助。

# iphone - 如何从 iOS 主线程上的 UIProgressBar 更新

> ID：15195569
> 
> 赞同：0
> 
> 时间：2013-03-04T06:09:04.030
> 
> 标签：iphone, ios, sdk, download

我正在使用一种方法来下载文档目录中的视频文件，它工作得非常好，我使用下面的代码在后台下载视频，但是在下载时我需要更新进度条，因为下载了多少，但是主线程是不更新。

```
dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{

    NSData *data = [NSData dataWithContentsOfURL: videoURL];

    NSString *pathToDocs = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0];
    NSString *filename = [NSString stringWithFormat:@"%@.mp4",self.titleString];
    [data writeToFile:[pathToDocs stringByAppendingPathComponent:filename] atomically:YES];
    NSLog(@"File %@ successfully saved", filename);

    UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:@"Alert" message:@"Succesfully Downloaded" delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil];
    [alertView show];

}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T06:21:35.880

尝试像这样在主线程上更新进度，

```
 dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{

        NSData *data = [NSData dataWithContentsOfURL: videoURL];

        NSString *pathToDocs = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0];
        NSString *filename = [NSString stringWithFormat:@"%@.mp4",self.titleString];
        [data writeToFile:[pathToDocs stringByAppendingPathComponent:filename] atomically:YES];
        NSLog(@"File %@ successfully saved", filename);

        UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:@"Alert" message:@"Succesfully Downloaded" delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil];
        [alertView show];

        dispatch_async(dispatch_get_main_queue(), ^(){
            //Task you want perform on mainQueue
            //Control Progressbar here

        });
    }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T06:14:14.573

`dataWithContentsOfURL`不会返回状态；它只是阻塞线程，直到完成下载。您需要使用异步报告进度的东西。

看看 AFNetworking ( [https://github.com/AFNetworking/AFNetworking#file-upload-with-progress-callback](https://github.com/AFNetworking/AFNetworking#file-upload-with-progress-callback) )，因为它旨在满足您的需求。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T06:14:40.820

为了能够监控下载进度，您应该考虑使用[`NSURLConnection`](https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/URLLoadingSystem/Tasks/UsingNSURLConnection.html#//apple_ref/doc/uid/20001836-BAJEAIEE)，您可以使用该`NSURLConnectionDataDelegate`方法[`didReceiveData`](http://developer.apple.com/library/ios/documentation/Foundation/Reference/NSURLConnectionDataDelegate_protocol/Reference/Reference.html#//apple_ref/occ/intfm/NSURLConnectionDataDelegate/connection%3adidReceiveData%3a)更新您的 UI 以了解进度。

如果您想知道预期的数据量，您可以经常使用[`didReceiveResponse`](http://developer.apple.com/library/ios/documentation/Foundation/Reference/NSURLConnectionDataDelegate_protocol/Reference/Reference.html#//apple_ref/doc/uid/TP40011348-CH1-SW3)，对于 HTTP URL，它可能包含预期的文件大小。（不过，并非所有的 Web 服务器都提供。）

正如 Richard 建议的那样，您可能想考虑使用[AFNetworking](https://github.com/AFNetworking/AFNetworking)，因为它可以简化您的编程工作。

# sql-server-2008 - 如何在 windows 2008 R2 64 位上部署提供程序 SQLOLEDB.1

> ID：15195575
> 
> 赞同：0
> 
> 时间：2013-03-04T06:09:33.293
> 
> 标签：sql-server-2008, vb6

在我的 VB6 应用程序中，我使用提供程序 SQLOLEDB.1 连接到 SQL Server 2008 R2。这在 Windows 2008 R2 64 位上不支持。如何在 Windows 2008 R2 64 位上部署“SQLOLEDB.1”提供程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T03:23:52.127

看起来像下载和注册 Sqloledb.dll，可能会工作。

请参阅此处：[为 SQL Server 安装 OLE DB 提供程序和](http://msdn.microsoft.com/en-us/library/aa198252%28v=sql.80%29.aspx)[本页](http://www.microsoft.com/en-us/download/details.aspx?id=15748) 中间，其中 ASOLEDB9.msi 包（32 位和 64 位版本）。这些包将安装 sqloledb 提供程序。

# java - 如何解释构造函数中的返回语句？

> ID：15195578
> 
> 赞同：14
> 
> 时间：2013-03-04T06:09:43.527
> 
> 标签：java, constructor, return

据我所知，构造函数什么都不返回，甚至不返回 void ，

并且

```
return ; 
```

在任何方法内部都意味着返回 void 。

所以在我的程序中

```
public class returnTest {

    public static void main(String[] args) {
        returnTest obj = new returnTest();
        System.out.println("here1");

    }

    public returnTest () 
    {
        System.out.println("here2");
        return ;
    }
    } 
```

我在打电话

```
return; 
```

这将返回 VOID，但构造函数不应该返回任何东西，程序编译得很好。

请解释 。

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-03-04T06:12:16.907

`return`在构造函数中只是在指定点跳出构造函数。如果在某些情况下不需要完全初始化类，则可以使用它。

例如

```
// A real life example
class MyDate
{
    // Create a date structure from a day of the year (1..366)
    MyDate(int dayOfTheYear, int year)
    {
        if (dayOfTheYear < 1 || dayOfTheYear > 366)
        {
            mDateValid = false;
            return;
        }
        if (dayOfTheYear == 366 && !isLeapYear(year))
        {
            mDateValid = false;
            return;
        }
        // Continue converting dayOfTheYear to a dd/mm.
        // ... 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-11-25T16:36:16.837

`return`可用于立即离开构造函数。一个用例似乎是创建半初始化对象。

人们可以争论这是否是一个好主意。恕我直言，问题在于生成的对象很难使用，因为它们没有任何可以依赖的不变量。

到目前为止，在我看到的所有`return`在构造函数中使用的示例中，代码都是有问题的。通常构造函数太大，包含太多业务逻辑，难以测试。

我见过的另一种模式在构造函数中实现了控制器逻辑。如果需要重定向，则构造函数存储重定向并调用返回。除了这些构造函数也难以测试之外，主要问题是每当必须使用这样的对象时，您必须悲观地假设它没有完全初始化。

最好将所有逻辑排除在构造函数之外，并针对完全初始化的小对象。然后你很少（如果有的话）需要调用`return`构造函数。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-04T13:03:58.847

> ***return***语句之后的语句将无法访问。如果 return 语句是最后一个，那么在构造函数中定义是没有用的，但编译器仍然不会抱怨。它编译得很好。
> 
> 如果您基于***if***条件 ex. 在构造函数中进行一些初始化，您可能希望初始化数据库连接（如果可用）并返回其他您想从本地磁盘读取数据以用于临时目的。

```
public class CheckDataAvailability 
{
    Connection con =SomeDeligatorClass.getConnection();

    public CheckDataAvailability() //this is constructor
    {
        if(conn!=null)
        {
            //do some database connection stuff and retrieve values;
            return; // after this following code will not be executed.
        }

        FileReader fr;  // code further from here will not be executed if above 'if' condition is true, because there is return statement at the end of above 'if' block.

    }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-04T06:13:22.447

用返回类型声明的方法`void`以及构造函数什么都不返回。这就是为什么您可以完全省略`return`其中的语句。构造函数没有指定返回类型的原因`void`是为了区分构造函数和同名方法：

```
public class A
{
    public A () // This is constructor
    {
    }

    public void A () // This is method
    {
    }
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-04-20T20:21:05.960

在这种情况下`return`，行为类似于`break`。它结束初始化。想象一下有`int var`. 您通过`int[] values`并希望初始化存储在（或以其他方式）中`var`的任何正数。然后你可以使用.`int``values``var = 0``return`

```
public class MyClass{

int var;

public MyClass(int[] values){
    for(int i : values){
        if(i > 0){
            var = i; 
            return;
        }
    }
}
//other methods
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-05-09T19:08:02.913

```
public class Demo{

 Demo(){
System.out.println("hello");
return;
 }

}
class Student{

public static void main(String args[]){

Demo d=new Demo();

}
}
//output will be -----------"hello"

public class Demo{

 Demo(){
return;
System.out.println("hello");

 }

}
class Student{

public static void main(String args[]){

Demo d=new Demo();

}
}
//it will throw Error 
```

# sql-server - 连接表中的 SQL 计数值

> ID：15195581
> 
> 赞同：0
> 
> 时间：2013-03-04T06:09:58.630
> 
> 标签：sql-server

嗨，我有两个要查询的表：

第一个被调用`bugs`并具有列：

```
bg_id , bg_project , bg_reported_date 
```

第二个被调用`Projects`并具有列：

```
pj_id , pj_name , pj_parent_id 
```

的代表的。`bg_project`_`bugs``pj_id``Projects`

我想计算每个父项目在一个月内有多少 bg_id。查询应该是什么以获得如下所示的结果：`ProjectParentName , Count`

一个父项目不能有另一个父项目。
如果项目是父项目，那么它将具有与 pj_parent_id 相同的 pj_id。
这是一个例子：

```
pj_id   pj_name     pj_parent_id

1       Parent1     1
2       Child1      1 
```

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T07:51:11.010

我会这样做：

```
WITH    bugsInPeriod
          AS ( SELECT   *
               FROM     bugs
               WHERE    MONTH(bg_reported_date) = MONTH(GETDATE())
             )

    SELECT   pParent.pj_name AS ProjectParentName ,
             COUNT(bg_id) AS [Count]
    FROM     Projects pParent
             INNER JOIN Projects pChild ON pParent.pj_id = pChild.pj_parent_id
             LEFT JOIN bugsInPeriod b ON pChild.pj_id = b.bg_project
    WHERE    pParent.pj_id = pParent.pj_parent_id
    GROUP BY pParent.pj_name
    ORDER BY pParent.pj_name 
```

将 替换为`MONTH(GETDATE())`所需的月份数，例如，`2`如果您想要二月。是可选
的。`ORDER BY`

为了显示没有错误的项目，我们需要`LEFT JOIN`. -`WHERE`子句必须在子选择中，否则它将消除没有错误的项目。

**编辑：**我更新了查询。我认为它现在应该得到预期的结果。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:28:53.637

这对你有用吗？在黑暗中半射。好久没做SQL了。

```
SELECT COUNT(bugs.bg_project) AS BugCount,
       bugs.bg_reported_date AS BugReportDate,
       Projects.pj_name as ProjectParentName, 
       Projects.pj_id AS ProjectID 
FROM bugs
JOIN Projects
WHERE ProjectID = bugs.bg_project
AND (BugReportDate BETWEEN to_date('YEAR/2digitmonth/01','yyyy/mm/dd')
                   AND to_date('YEAR/2digitmonth/lastday','yyyy/mm/dd')); 
```

# python - ac 函数的 Ctype 返回类型

> ID：15195582
> 
> 赞同：1
> 
> 时间：2013-03-04T06:10:14.123
> 
> 标签：python, c, pointers, ctypes

我有一个 C 函数如下：

```
char* hash_id_G1(char *str){
char hash[20];
...
return hash;
} 
```

我需要的是一些类似这里的函数，它将接收一个 char 数组并返回一个 char 数组或指向 char 的指针。

我会将它们编译成一个共享的so并使用ctypes将其导入python。

这就是我到目前为止所做的：

```
from ctypes import *
ibc = cdll.LoadLibrary('./libibc.so.1.0.1')
strin = 'sometext to hash'
ids = (c_char * 40)()
ids.value = strin
hash = c_char_p
hash_id = ibc.hash_id_G1
hash_id.restype = c_char_p
hash = hash_id(ids) 
```

该库做得很好，但我无法设置 restype。当我这样做时，代码会因段错误而崩溃。

我需要从python中一一调用c库中的函数。这些函数通常返回加密。如何定义这些函数，以便它们接受来自 ctype 接口的字符串并以某种可存储的形式返回加密？

任何帮助表示赞赏。我对 C 指针和相关的东西非常薄弱。提前致谢

**更新**

分段错误是因为编译错误。如果函数要返回一个无符号字符，我将如何在 C 中声明 ctype 变量？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T15:23:03.030

不要这样传递你的论点；它容易出错且不惯用（因此难以阅读）。您可以执行以下操作：

```
from ctypes import *

ibc = cdll.LoadLibrary('./libibc.so.1.0.1')
ibc.hash_id_G1.restype = c_char_p
hash = ibc.hash_id_G1(c_char_p('sometext to hash')) 
```

除此之外，您正在处理未定义的行为，因为您正在返回指向局部变量的指针。局部变量只存在于它们被声明的范围内；在该范围之外访问它们可以做任何事情，从返回虚假结果到段错误。如果更改编译器选项阻止您的代码出现段错误，那只能靠运气了。

解决这个问题的方法是声明你的数组，所以它甚至会在...`static`的范围之外持续存在`hash_id_G1`

```
char *hash_id_G1(char *str)
{
    static char hash[20];
    ...
    return hash;
} 
```

...或显式分配内存。

```
char *hash_id_G1(char *str)
{
    char *hash = malloc(20);
    ...
    return hash;
} 
```

第一个选项不是线程安全的（这对您的应用程序来说可能不是问题），第二个选项要求您`free`事后自己获取内存（或接受小的内存泄漏）。

至于您的新问题，[请阅读文档](http://docs.python.org/2/library/ctypes.html#fundamental-data-types)。

# android - Android 解析子 XML 标签

> ID：15195583
> 
> 赞同：0
> 
> 时间：2013-03-04T06:10:18.363
> 
> 标签：android, xml-parsing

```
<?xml version="1.0" encoding="UTF-8"?>
<feed>
    <entry>
        <id>1</id>
        <name>Margherita</name>
        <cost>155</cost>
        <description>Single cheese topping</description>
        <list>
            <author>PPShein</author>
            <authorurl>http://www.ppshein.net</authorurl>
        </list>
    </entry>
    <entry>
        <id>2</id>
        <name>Double Cheese Margherita</name>
        <cost>225</cost>
        <description>Loaded with Extra Cheese</description>
        <list>
        <author>Mike</author>
        <authorurl>http://www.mike.net</authorurl>
    </list>        
    </entry>
</feed> 
```

我在解析上面的 XML 文件时遇到了问题。使用[这个](http://developer.android.com/training/basics/network-ops/xml.html)android的例子来解析“id、name、cost和discription”对我来说很好。

但是对于`<author>`和`<authorurl>`标记，上述链接的示例无法完成我的任务。请帮助我如何解析这个 XML 文件的子标签。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:13:50.283

只需通过**DOM Parser**即可。您可以通过其名称获取特定节点。实际上它的工作方式与其他节点相同，您只需获取具有子节点的`NodeList`for元素和.`list``author``authorurl`

看看这些

**[教程 1](http://www.mkyong.com/java/how-to-create-xml-file-in-java-dom/) [教程 2](http://www.mkyong.com/java/how-to-read-xml-file-in-java-dom-parser/)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:32:15.253

1.我已经解析了这个 xml 我认为这个对你有帮助

```
<?xml version="1.0" encoding="utf-8"?>
<rootelement1>
    <subelement> Hello XML Sub-Element 1</subelement>
    <subelement> Hello XML Sub-Element 2 
        <subsubelement>
          Sub Sub Element 
         </subsubelement>
   </subelement>
</rootelement1> 
```

> 2.提取xml在这里

```
private String getEventsFromAnXML(Activity activity)
            throws XmlPullParserException, IOException {
        StringBuffer stringBuffer = new StringBuffer();
        Resources res = activity.getResources();
        XmlResourceParser xpp = res.getXml(R.xml.parsxml);
        xpp.next();
        int eventType = xpp.getEventType();
        while (eventType != XmlPullParser.END_DOCUMENT) {
            if (eventType == XmlPullParser.START_DOCUMENT) {
                stringBuffer.append("--- Start XML ---");

            } else if (eventType == XmlPullParser.START_TAG) {
                stringBuffer.append("\nSTART_TAG: " + xpp.getName());
                System.out.println("\n--- Start XML ---" + xpp.getName());
            } else if (eventType == XmlPullParser.END_TAG) {
                stringBuffer.append("\nEND_TAG: " + xpp.getName());
            } else if (eventType == XmlPullParser.TEXT) {
                stringBuffer.append("\nTEXT: " + xpp.getText());
            }
            eventType = xpp.next();
        }
        stringBuffer.append("\n--- End XML ---");
        System.out.println("\n--- End XML ---");
        return stringBuffer.toString();
    } 
```

[从这里参考](http://android-er.blogspot.in/2010/04/read-xml-resources-in-android-using.html)

# c# - HttpPost 和 webapi

> ID：15195586
> 
> 赞同：3
> 
> 时间：2013-03-04T06:10:31.503
> 
> 标签：c#, post, asp.net-mvc-4

我创建了一个 API，它将文件作为输入并对其进行处理。样本是这样的...

```
[HttpPost]
    public string ProfileImagePost(HttpPostedFile HttpFile)
    {

      //rest of the code
     } 
```

然后我创建了一个客户端来使用它，如下所示......

```
 string path = @"abc.csv";
        FileStream rdr = new FileStream(path, FileMode.Open, FileAccess.Read);
        byte[] inData = new byte[rdr.Length];
        rdr.Read(inData, 0, Convert.ToInt32(rdr.Length));

        HttpWebRequest req = (HttpWebRequest)WebRequest.Create("http://localhost/abc/../ProfileImagePost");
        req.KeepAlive = false;
        req.ContentType = "multipart/form-data"; 
        req.Method = "POST";
        req.ContentLength = rdr.Length;
        req.AllowWriteStreamBuffering = true;

        Stream reqStream = req.GetRequestStream();

        reqStream.Write(inData, 0, Convert.ToInt32(rdr.Length));
        reqStream.Close();
        HttpWebResponse TheResponse = (HttpWebResponse)req.GetResponse();
        string TheResponseString1 = new StreamReader(TheResponse.GetResponseStream(), Encoding.ASCII).ReadToEnd();
        TheResponse.Close(); 
```

但是我在客户端收到 500 错误。帮帮我吧伙计们。

提前谢谢...

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-04T06:44:15.987

ASP.NET Web API 不适用于`HttpPostedFile`. 相反，您应该使用`MultipartFormDataStreamProvider`如[`following tutorial`](http://www.asp.net/web-api/overview/working-with-http/sending-html-form-data,-part-2).

您的客户端调用也是错误的。您已将其设置为`ContentType`，`multipart/form-data`但您根本不尊重此编码。您只是将文件写入请求流。

所以我们举个例子：

```
public class UploadController : ApiController
{
    public Task<HttpResponseMessage> Post()
    {
        if (!Request.Content.IsMimeMultipartContent())
        {
            throw new HttpResponseException(HttpStatusCode.UnsupportedMediaType);
        }

        string root = HostingEnvironment.MapPath("~/App_Data");
        var provider = new MultipartFormDataStreamProvider(root);

        // Read the form data
        return Request.Content.ReadAsMultipartAsync(provider).ContinueWith(t =>
        {
            // This illustrates how to get the file names.
            foreach (MultipartFileData file in provider.FileData)
            {
                Trace.WriteLine(file.Headers.ContentDisposition.FileName);
                Trace.WriteLine("Server file path: " + file.LocalFileName);
            }
            return Request.CreateResponse(HttpStatusCode.OK);
        }, TaskScheduler.FromCurrentSynchronizationContext());
    }
} 
```

然后你可以使用 an[`HttpClient`](http://msdn.microsoft.com/en-us/library/system.net.http.httpclient.aspx)来调用这个 API：

```
using System;
using System.IO;
using System.Net.Http;
using System.Net.Http.Headers;

class Program
{
    static void Main(string[] args)
    {
        using (var client = new HttpClient())
        using (var content = new MultipartFormDataContent())
        {
            client.BaseAddress = new Uri("http://localhost:16724/");
            var fileContent = new ByteArrayContent(File.ReadAllBytes(@"c:\work\foo.txt"));
            fileContent.Headers.ContentDisposition = new ContentDispositionHeaderValue("attachment")
            {
                FileName = "Foo.txt"
            };
            content.Add(fileContent);
            var result = client.PostAsync("/api/upload", content).Result;
            Console.WriteLine(result.StatusCode);
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T06:56:22.000

而不是 HttpPostedFile ，直接从客户端发送文件作为流，并在服务器端读取文件作为流，如：

```
 //read uploaded csv file at server side
 Stream csvStream = HttpContext.Current.Request.Files[0].InputStream;

//Send file from client 
 public static void PostFile()
 {
       string[] files = { @"C:\Test.csv" };

        string url = "http://localhost/abc/../test.xml";
        long length = 0;
        string boundary = "----------------------------" +
        DateTime.Now.Ticks.ToString("x");

        HttpWebRequest httpWebRequest2 = (HttpWebRequest)WebRequest.Create(url);
        httpWebRequest2.ContentType = "multipart/form-data; boundary=" +
        boundary;
        httpWebRequest2.Method = "POST";
        httpWebRequest2.KeepAlive = true;
        httpWebRequest2.Credentials =
        System.Net.CredentialCache.DefaultCredentials;

        Stream memStream = new System.IO.MemoryStream();
        byte[] boundarybytes = System.Text.Encoding.ASCII.GetBytes("\r\n--" +
        boundary + "\r\n");

        string formdataTemplate = "\r\n--" + boundary +
        "\r\nContent-Disposition: form-data; name=\"{0}\";\r\n\r\n{1}";

        memStream.Write(boundarybytes, 0, boundarybytes.Length);

        string headerTemplate = "Content-Disposition: form-data; name=\"{0}\"; filename=\"{1}\"\r\n Content-Type: application/octet-stream\r\n\r\n";

        for (int i = 0; i < files.Length; i++)
        {
            //string header = string.Format(headerTemplate, "file" + i, files[i]);
            string header = string.Format(headerTemplate, "uplTheFile", files[i]);

            byte[] headerbytes = System.Text.Encoding.UTF8.GetBytes(header);

            memStream.Write(headerbytes, 0, headerbytes.Length);

            FileStream fileStream = new FileStream(files[i], FileMode.Open,
            FileAccess.Read);
            byte[] buffer = new byte[1024];

            int bytesRead = 0;

            while ((bytesRead = fileStream.Read(buffer, 0, buffer.Length)) != 0)
            {
                memStream.Write(buffer, 0, bytesRead);
            }

            memStream.Write(boundarybytes, 0, boundarybytes.Length);
            fileStream.Close();
        }

        httpWebRequest2.ContentLength = memStream.Length;
        Stream requestStream = httpWebRequest2.GetRequestStream();

        memStream.Position = 0;
        byte[] tempBuffer = new byte[memStream.Length];
        memStream.Read(tempBuffer, 0, tempBuffer.Length);
        memStream.Close();
        requestStream.Write(tempBuffer, 0, tempBuffer.Length);
        requestStream.Close();

        WebResponse webResponse2 = httpWebRequest2.GetResponse();

        Stream stream2 = webResponse2.GetResponseStream();
        StreamReader reader2 = new StreamReader(stream2);

        webResponse2.Close();
        httpWebRequest2 = null;
        webResponse2 = null;
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-29T13:09:13.737

这是我在客户端发布屏幕截图的代码

```
 public void PostMethod()
    {
    ImageConverter converter = new ImageConverter();
    var bytes = (byte[])converter.ConvertTo(bmpScreenshot, typeof(byte[]));
    StringConverter s = new StringConverter();

    string uri = "http://localhost:3844/api/upload";

    byte[] postBytes = bytes;
    string str = Properties.Settings.Default.token.ToString(); //after login user receives a response token, it is stored in the application settings. All Posts save in db with a this token

    byte[] bA = ASCIIEncoding.ASCII.GetBytes(str);

    MultipartFormDataContent multiPartData = new MultipartFormDataContent();

    ByteArrayContent byteArrayContent = new ByteArrayContent(postBytes);
    ByteArrayContent bAC = new ByteArrayContent(bA);
    multiPartData.Add(bAC, "token");
    multiPartData.Add(byteArrayContent,"picture");

    HttpRequestMessage requestMessage = new HttpRequestMessage(HttpMethod.Post, uri);
    requestMessage.Content = multiPartData;

    HttpClient httpClient = new HttpClient();
    Task<HttpResponseMessage> httpRequest = httpClient.SendAsync(requestMessage);
    HttpResponseMessage httpResponse = httpRequest.Result;
    HttpContent responseContent = httpResponse.Content;
} 
```

服务器端

```
public class UploadController : ApiController
    {
public masterEntities context = new masterEntities();
public ImgEntitySet imgEntity = new ImgEntitySet();
public async Task<HttpResponseMessage> PostRawBufferManual()
{
MultipartFormDataStreamProvider streamProvider = new MultipartFormDataStreamProvider("~/App_Data");
MultipartFileStreamProvider dataContent = await Request.Content.ReadAsMultipartAsync(streamProvider);
            foreach (HttpContent data in dataContent.Contents)
            {
                string fileName = data.Headers.ContentDisposition.Name;
                byte[] n = await data.ReadAsByteArrayAsync();
                string m = Encoding.ASCII.GetString(n);
                int z = int.Parse(m);
                imgEntity.UID = z;
                break;
            }
            foreach (HttpContent data in dataContent.Contents)
            {
                string fileNamePicture = data.Headers.ContentDisposition.Name;
                if (fileNamePicture == "picture")
                {
                    byte[] b = await data.ReadAsByteArrayAsync();
                    imgEntity.Image = b;
                }
            }

            context.ImgEntitySet.Add(imgEntity);
            context.SaveChanges();
            return Request.CreateResponse(HttpStatusCode.OK );
        }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-07-13T08:05:05.390

您应该坚持使用 webapi 路由命名约定以节省一些麻烦。

所有名为 PostSomething() 的方法都将被接受为 HttpPost。他们的参数签名会告诉他们你需要两个同名的。

因此，调用您的 WebApi 方法 PostProfileImage(HttpPostedFile 文件)，然后您可以将文件作为数据发布到 http:///api//。

在 WebApi 中弄错路由基础是 HTTP/500 的根本原因，并且会导致异常。

# asp.net-mvc - 创建视图正在发布 Null 值

> ID：15195590
> 
> 赞同：0
> 
> 时间：2013-03-04T06:10:37.007
> 
> 标签：asp.net-mvc

好的，我正在尝试在我的视图中创建一个对象。该对象由带有客户 ID 和名字和姓氏的完整地址组成。当页面首次加载时，客户端信息正常，但是当我发布数据（点击提交）时，客户端数据消失并变为空，导致网页崩溃。

**这是我的课**

```
public class clientAddressEdit
{
    //public Clients client {get; set;}
    public long clientID { get; set; }
    public String firstName { get; set; }
    public String lastName { get; set; }
    public Address address { get; set; }

} 
```

**我的模型**

```
namespace VolumeV2.Models
{
    public class Address
    {
        [Required]
        public int Id { get; set; }

        [DataType(DataType.Text)]
        [Display(Name = "Street Address")]
        public string StreetAddress { get; set; }

        [DataType(DataType.Text)]
        [Display(Name = "Postal Code")]
        public string PostalCode { get; set; }

        [DataType(DataType.Text)]
        public string City {get; set; }

        [DataType(DataType.Text)]
        public string Province {get; set;}

        public virtual Clients client { get; set; }
    }
} 
```

**我来自 AddressController 的 Create 方法**

```
 //
    // GET: /Address/Create
    [HttpGet]
    public ActionResult Create(long id)
    {
        Clients client = db.Clients.Find(id);
        editor = new clientAddressEdit();
        editor.clientID = client.Id;
        editor.firstName = client.FirstName;
        editor.lastName = client.LastName;
        editor.address = new Address();
        ViewData["editor"] = editor;
        return View(editor);
    }

    //
    // POST: /Address/Create

    [HttpPost]
    public ActionResult Create(clientAddressEdit dto)
    {
        // dto is coming in with only the address and null values
        // clientId, firstName and lastName

        clientAddressEdit temp = new clientAddressEdit();
        temp = dto;
        if (ModelState.IsValid)
        {                
            //add the address to the client
            //fails here because clientId is null 
            var client = db.Clients.Find(temp.clientID);
            client.Address = temp.address;

            //save the address
            db.Address.Add(temp.address);

            db.SaveChanges();
            return RedirectToAction("Index");
        }

        return View(dto.address);
    } 
```

**我的创建视图** *可能与beginForm有关吗？*

```
@model VolumeV2.Models.DTOs.clientAddressEdit

@{
ViewBag.Title = "Create";       
}

<h2>Create Address For @Html.DisplayTextFor(model => model.firstName)   @Html.DisplayTextFor(model => model.lastName)</h2>

@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)

<fieldset>
    <legend>Address</legend>

    <div class="editor-label">
        @Html.LabelFor(model => model.address.StreetAddress)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.address.StreetAddress)
        @Html.ValidationMessageFor(model => model.address.StreetAddress)
    </div>

    <div class="editor-label">
        @Html.LabelFor(model => model.address.PostalCode)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.address.PostalCode)
        @Html.ValidationMessageFor(model => model.address.PostalCode)
    </div>

    <div class="editor-label">
        @Html.LabelFor(model => model.address.City)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.address.City)
        @Html.ValidationMessageFor(model => model.address.City)
    </div>
    <div class="editor-label">
        @Html.LabelFor(model => model.address.Province)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.address.Province)
        @Html.ValidationMessageFor(model => model.address.Province)
    </div>

    <p>
        <input type="submit" value="Create" />
    </p>
</fieldset>
}

<div>
@Html.ActionLink("Address List", "Index")
@Html.ActionLink(Model.firstName+"'s Account","../Client/Details/"+ Model.clientID,"client")

</div>

@section Scripts {
@Scripts.Render("~/bundles/jqueryval")
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:41:45.610

您的模型包含空值，因为您想要的值未显示在页面上。尝试将此添加到某处的视图中，以便将`clientID`其发回：

```
@Html.HiddenFor(model => model.clientID) 
```

没有这个`clientID`，（客户端）模型就没有发送回服务器，因此它会导致`null`. `address`很好，因为你有`EditorFor`他们的。

# nsarray - NSMutableArray 子 NSDictionaries 的 NSPredicate 过滤

> ID：15195597
> 
> 赞同：0
> 
> 时间：2013-03-04T06:11:03.503
> 
> 标签：nsarray, nsdictionary, nspredicate

我正在做一个项目，我正在下载一大堆 JSON，然后用它制作一个漂亮的 UITableView。

我已将 JSON 解析为一个不错的 NSMutableArray，然后将其输入 UITableView。一切正常，看起来很漂亮。

我遇到的问题是我的 NSMutableArray 中有一个字典对象，我想用它来执行表视图的过滤。

这是我正在查看的 NSMutableArray 中一个对象的 NSLog：

```
{
id = 123456;
    issues =     (
                {
            id = 4;
            name = "Ape";
        },
                {
            id = 25;
            name = "Chimp";
        },
                {
            id = 28;
            name = "Human";
        }
    );
status = open;
} 
```

我要写的是对 NSMutableArray 中问题字典中任何名称列的谓词过滤器。

```
NSPredicate *predicate = [NSPredicate predicateWithFormat:@"%K == %@", @"name", @"Human"];
NSArray *predicateFilteredArray = [tableViewArray filteredArrayUsingPredicate:predicate]; 
```

但是，我无法找出与问题中的名称匹配的谓词变量的正确格式。我已经阅读并重新阅读了谓词编程指南，大约一半的堆栈溢出项标记为 NSPredicate，但我无法弄清楚语法。我已经尝试了很多 SELF 的变体，但我只是被卡住了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T12:26:39.420

如果我正确理解了问题，则以下谓词应该有效：

```
[NSPredicate predicateWithFormat:@"ANY issues.name == %@", @"Human"] 
```

这给出了数组中的所有对象，其中至少一个“问题”的“名称”等于“人类”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-10T18:43:28.720

我编写了一个类别方法库，称为[Linq to ObjectiveC](https://github.com/ColinEberhardt/LinqToObjectiveC)，它使这类事情变得更容易一些。据我所知，您有一个项目数组，其中每个项目都有一个名为的属性`issues`，它本身就是一个数组？

如果要查找所有具有名为“人类”的问题的项目，可以执行以下操作：

```
NSArray* matches = [inputArray where:^BOOL(id item) {
    return [[item issues] any:^BOOL(id issue) {
        return [[issue name] equalTo:@"Human"];
    }];
}] 
```

这使用了 Linq to ObjectiveC [where](https://github.com/ColinEberhardt/LinqToObjectiveC#where)和[any](https://github.com/ColinEberhardt/LinqToObjectiveC#any)方法。

# types - 如何使用 Go 中另一个包中的类型声明变量？

> ID：15195598
> 
> 赞同：2
> 
> 时间：2013-03-04T06:11:05.700
> 
> 标签：types, go

例如：

```
package foo

import (
    "appengine/blobstore"
)

func main() {
    var blob blobstore.BlobInfo
    ...
} 
```

给我这个错误：未定义：BlobInfo

有没有办法让我能够创建这个结构而不必复制代码？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T06:42:54.100

如果`blobstore.BlobInfo`是类型，则在另一个包中声明该类型的变量，例如：

```
var blob blobstore.BlobInfo 
```

语法

```
var foo = bar.Qux 
```

尝试创建 var`foo`并通过为其分配*值*`bar.Qux`while inferring`bar.Qux`的*类型*对其进行初始化。

编辑：

声明 T 类型的变量

```
var v T 
```

T 可以来自其他包。例如

```
import "foo/bar"
import baz "qux"
import . "whatever"

var v1 bar.T
var v2 baz.T
var v3 T // whatever.T 
```

如果这对您不起作用，那么一些可能的问题是：

*   未安装软件包`blobstore`。
*   `blobstore`使用 OP 中显示的导入路径在您的 GOPATH 中找不到包。

# ruby-on-rails - 强参数和 MassAssignmentSecurity 错误

> ID：15195599
> 
> 赞同：2
> 
> 时间：2013-03-04T06:11:09.877
> 
> 标签：ruby-on-rails

在 rails 3.2.x 中，我可以在我的用户模型中执行此操作：

```
attr_accessible :email 
```

当从命令行运行时，以下代码会引发 MassAssignmentSecurity 错误（因为 password_reset_sent_at 不可访问）：

```
User.new(password_reset_sent_at: Time.zone.now) 
```

但是现在，切换到 strong_parameters 后，上面的代码将执行而不会引发任何错误。

我猜 Rails 认为这种命令行输入是值得信赖的，因为它只能来自开发人员。我应该认为这是安全的吗？我假设攻击者只有在他/她有命令行访问权限的情况下才能提交像上面这样的代码？只是有点迷茫，这几天要接受的东西太多了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T23:22:30.550

您绝对可以认为它是安全的，因为如果攻击者通过命令行访问您的 Rails 应用程序，安全性将完全消失，他将有很多可能恶意更改数据库中的数据。

使用`strong_parameters`gem，您可以在控制器中控制质量分配，这是执行此操作的最佳位置。它的目标之一是在您不需要保护时（例如在控制台或模型测试中）阻止您为批量分配问题而苦苦挣扎。

# c++ - 我应该为指针赋值使用什么返回类型？

> ID：15195601
> 
> 赞同：2
> 
> 时间：2013-03-04T06:11:17.933
> 
> 标签：c++, pointers, vector

我有一个这样的结构：

```
struct group
{
    int index; 
    string name; 
    group* child;

}; 
```

我设置了一个向量来存储一些组结构。

现在我正在尝试使用一个函数来按索引从该向量中检索一个组成员，如下所示：

```
148    newGroup.child = getGroupByIndex(world, i); 
```

函数的定义是：

```
group& getGroupByIndex(vector<group>* world, int i)
{
    for(vector<group>::iterator it = world->begin();
        it < world->end(); ++it)
    {
        if(it->index == i) return *it;
    }
267     return 0;
} 
```

不幸的是，它甚至不会编译。

错误信息是：

```
tree.cpp: In function ‘int main()’: 
tree.cpp:148: error: cannot convert ‘group’ to ‘group*’ in assignment 
tree.cpp: In function ‘group& getGroupByIndex(std::vector<group, std::allocator<group> >*, int)’: 
tree.cpp:267: error: invalid initialization of non-const reference of type ‘group&’ from a temporary of type ‘int’ 
```

我的两个问题，

1.  如何修复编译错误？我应该使用什么返回类型？

2.  如果我想在第 267 行返回一个空指针，我应该使用什么？我试过 (void *)0 和 0，但都不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T09:28:54.420

如果您希望更喜欢对指针的引用，您还可以定义一个将由您的函数返回的“未找到”组对象。

我会这样做：

```
struct group
{
    int index; 
    string name; 
    group* child;
    group(int i):index(i),child(null){}
    group(int i, const string& n, group& c):index(i), name(n), child(&c){}

    // assuming index defines the uniqueness of your object class
    bool operator == (const struct group& g)const {return (index == g.index);}

    // an unique special instance of group struct
    static struct group not_found;
};
group group::not_found(-1); 
```

因此您可以按照您想要的方式定义您的功能：

```
group& getGroupByIndex(vector<group>* world, int i)
{
    for(vector<group>::iterator it = world->begin();
        it < world->end(); ++it)
    {
        if(it->index == i) return *it;
    }
    return group::not_found; // a reference to a special singleton instance of struct group
} 
```

你将能够像这样拨打电话：

```
...
group& g = getGroupByIndex(world, index);
if(g == group::not_found)
{
   // handle the not found case here
   ... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:40:26.737

我认为应该是这样的：

```
group* getGroupByIndex(vector<group*> world, int i) // See position of two *
{
    for(vector<group*>::iterator it = world.begin();
        it < world.end(); ++it)
    {
        if(it->index == i)
          return *it;
    }
    return 0;
} 
```

或者

```
group* getGroupByIndex(vector<group> *world, int i) // See position of two *
{
    for(vector<group>::iterator it = world->begin();
        it < world->end(); ++it)
    {
        if(it->index == i)
          return &(*it);
    }
    return 0;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T12:00:43.480

# 利用

`boost::optional`

## 现代 C++ 的第一条规则：不要使用 ****ing 指针。

```
boost::optional<group&> get(vector<group>& world, int i)
{
    for(auto & grp : world)
    {
        if(grp.index == i)
           return boost::optional<group&>(grp);
    }
    return boost::none;
} 
```

请注意，此解决方案具有`O(n)`复杂性。如果您想基于 进行搜索`index`，我建议使用对`group`按 排序的对象的引用的结构`index`，这将为您提供`O(log n)`查找时间。

在那种情况下，我可能会持有`shared_ptr`s 和 a的向量`map<int, weak_ptr>`。你也可以看看`boost::multi_index`

啊，`2)`我刚刚注意到你的观点只是一个旁注：`nullptr`。

# plsql - PL-SQL 递归函数

> ID：15195606
> 
> 赞同：2
> 
> 时间：2013-03-04T06:11:49.923
> 
> 标签：plsql, oracle10g, plsqldeveloper

我是 PL SQL 的新手，我试图在它上面创建一个递归函数，但我对 PL SQL 术语太困惑了。

我有一个表结构，如：

```
 FFAM_ACC_ID     FFAM_UPPER_ACC_ID   FFAM_GROUP_FLAG
        1                   0                   1
        2                   1                   1
        3                   1                   2
        4                   2                   1
        5                   4                   2
        6                   1                   2
        7                   6                   2
        8                   0                   1
        9                   8                   2 
```

现在，我想创建一个递归函数。所以，如果我提供一个`FFAM_ACC_ID`，它应该能够返回我有`FFAM_GROUP_FLAG`2 的孩子 ID。

`FFAM_UPPER_ACC_ID`是父 id 并`FFAM_GROUP_FLAG`确定该行是否是一个组。

所以，如果我提供 2，它应该什么都不返回，因为虽然它有一个子行，但 4。该行有`FFAM_GROUP_FLAG`1。即。它是组。

如果我提供 1，它应该返回3、6、7。*这需要递归，因为 3 的父 id 为 1，而 7 的父 id 为 6。*

如果我提供 9，它应该返回 9。*虽然它没有子行，但它不是一个组。*

[SQL小提琴](http://sqlfiddle.com/#!4/99465/1)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-04T07:13:31.167

您实际上不需要递归过程，甚至根本不需要过程：改用[分层查询](http://docs.oracle.com/cd/B19306_01/server.102/b14200/queries003.htm)。

这应该可以满足您的要求（至少适用于您提供的输入）：

```
select * from FMS_FC_ACC_MST
where ffam_group_flag = 2
start with ffam_acc_id = <your input>
connect by ffam_group_flag = 2 
       and prior ffam_acc_id = ffam_upper_acc_id; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T07:23:41.283

```
with 
  input as (
     select 9 as FFAM_ACC_ID from dual  -- change to 1, 2
  )

select FFAM_ACC_ID
from FMS_FC_ACC_MST
start with 
   FFAM_UPPER_ACC_ID = (select FFAM_ACC_ID from input)
   and FFAM_GROUP_FLAG = 2
connect by 
   prior FFAM_ACC_ID = FFAM_UPPER_ACC_ID

union all

select FFAM_ACC_ID
from FMS_FC_ACC_MST
natural join input 
where FFAM_GROUP_FLAG = 2 
```

[小提琴](http://sqlfiddle.com/#!4/99465/26)

# c# - 索引超出了数组 systems.diagnostic.process 的范围

> ID：15195608
> 
> 赞同：-3
> 
> 时间：2013-03-04T06:12:06.007
> 
> 标签：c#, arrays, indexing

未处理的异常：

> System.IndexOutOfRangeException：索引超出了数组的范围。

* * *

> 在 C:\Users\Seif\Documents\Visual Studio 2010\Projects\HPLog\HPLog\Program.cs:line 中的 HPLog.MultiLevelPointer.ProcessMem.Main(String[] args) 处 61 按任意键继续。. .

```
Line61   System.Diagnostics.Process[] Client =  
                System.Diagnostics.Process.GetProcessesByName("Client");
         ProcessMemoryReader preader = new ProcessMemoryReader();

         preader.ReadProcess = Client[0];
         preader.OpenProcess(); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-04T06:20:25.750

Hows this：当你甚至没有问问题时的答案！

```
System.Diagnostics.Process[] Client =  
            System.Diagnostics.Process.GetProcessesByName("Client");
 ProcessMemoryReader preader = new ProcessMemoryReader();

 if (Client != null && Client.Length > 0) {
     preader.ReadProcess = Client[0];
     preader.OpenProcess();
 }
 else {
     // Error handling...
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:21:41.197

尝试这样的事情：

```
try
{
   System.Diagnostics.Process Client = System.Diagnostics.Process.GetProcessesByName("Client")[0];
}
catch (IndexOutOfRangeException e)
{
    System.Diagnostics.Process Client = null;
} 
```

然后在使用 Client 之前，确保它不为空

另外，您确定“客户端”是实际的进程名称吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T06:22:01.723

在使用数组之前，您应该测试它是否存在`null`或包含任何项目。因为您总是有机会不存在具有该名称的进程。

# perl - ActiveState Perl 在重负载下在 IIS 上崩溃

> ID：15195616
> 
> 赞同：2
> 
> 时间：2013-03-04T06:12:36.083
> 
> 标签：perl, iis, iis-7.5, application-pool, activestate

我在带有 IIS 7.5 的 Windows 2008 Server（64 位）上运行 ActiveState Perl 5.16.2（32 位）时遇到问题。Perl 使用 PerlIS.dll 和 IIS 中的 ISAPI 过滤器运行。

似乎存在与重负载和/或并发连接相关的问题，这些问题会生成看似随机的错误消息。

以下是一些示例错误：

```
*** 'C:\inetmli\wwwroot\ldope\index.cgi' error message at: 2013/02/28 13:01:07
Variable "%Config" is not imported at C:/Perl/lib/Config.pm line 53.
Variable "%Config" is not imported at C:/Perl/lib/Config.pm line 94.
Global symbol "%Config" requires explicit package name at C:/Perl/lib/Config.pm line 53.
Global symbol "%Config" requires explicit package name at C:/Perl/lib/Config.pm line 94.
Compilation failed in require at C:/Perl/lib/Errno.pm line 8.
BEGIN failed--compilation aborted at C:/Perl/lib/Errno.pm line 8.
Compilation failed in require at C:/Perl/lib/IO/Socket.pm line 18.
BEGIN failed--compilation aborted at C:/Perl/lib/IO/Socket.pm line 18.
Compilation failed in require at C:/Perl/site/lib/Net/LDAP.pm line 9.
BEGIN failed--compilation aborted at C:/Perl/site/lib/Net/LDAP.pm line 9.
Compilation failed in require at C:\inetmli\wwwroot\test\index.cgi line 4.
BEGIN failed--compilation aborted at C:\inetmli\wwwroot\test\index.cgi line 4.

*** 'C:\inetmli\wwwroot\ldope\index.cgi' error message at: 2013/02/28 13:01:07
String found where operator expected at (eval 4) line 2, near "croak 'usage: $io->getline()'"
    (Do you need to predeclare croak?)
String found where operator expected at (eval 4) line 8, near "croak 'usage: $io->getlines()'"
    (Do you need to predeclare croak?)
String found where operator expected at (eval 4) line 10, near "croak 'Can\'t call $io->getlines in a scalar context, use $io->getline'"
    (Do you need to predeclare croak?)
syntax error at (eval 4) line 2, near "croak 'usage: $io->getline()'"
syntax error at (eval 4) line 8, near "croak 'usage: $io->getlines()'"
syntax error at (eval 4) line 10, near "croak 'Can\'t call $io->getlines in a scalar context, use $io->getline'"
Compilation failed in require at C:/Perl/lib/IO/Socket.pm line 12.
BEGIN failed--compilation aborted at C:/Perl/lib/IO/Socket.pm line 12.
Compilation failed in require at C:/Perl/site/lib/Net/LDAP.pm line 9.
BEGIN failed--compilation aborted at C:/Perl/site/lib/Net/LDAP.pm line 9.
Compilation failed in require at C:\inetmli\wwwroot\test\index.cgi line 4.
BEGIN failed--compilation aborted at C:\inetmli\wwwroot\test\index.cgi line 4.

*** 'C:\inetmli\wwwroot\ldope\index.cgi' error message at: 2013/02/28 13:01:07
Can't locate loadable object for module main in @INC (@INC contains: C:/Perl/site/lib C:/Perl/lib .) at C:/Perl/lib/DynaLoader.pm line 99, <DATA> line 635.
    DynaLoader::croak('Can\'t locate loadable object for module main in @INC (@INC c...') called at C:/Perl/lib/DynaLoader.pm line 161
    DynaLoader::bootstrap('main') called at C:/Perl/lib/DynaLoader.pm line 106
    DynaLoader::bootstrap_inherit('main') called at C:/Perl/lib/POSIX.pm line 0
    require POSIX.pm called at C:/Perl/lib/POSIX.pm line 0
    PDF::API2::Util::BEGIN() called at C:/Perl/lib/POSIX.pm line 0
    eval {...} called at C:/Perl/lib/POSIX.pm line 0
    require PDF/API2/Util.pm called at C:/Perl/lib/POSIX.pm line 0
    PDF::API2::BEGIN() called at C:/Perl/lib/POSIX.pm line 0
    eval {...} called at C:/Perl/lib/POSIX.pm line 0
    require PDF/API2.pm called at C:\inetmli\wwwroot\test\index.cgi line 13
Compilation failed in require at C:/Perl/site/lib/PDF/API2/Util.pm line 31, <DATA> line 635.
BEGIN failed--compilation aborted at C:/Perl/site/lib/PDF/API2/Util.pm line 31, <DATA> line 635.
Compilation failed in require at C:/Perl/site/lib/PDF/API2.pm line 9, <DATA> line 635.
BEGIN failed--compilation aborted at C:/Perl/site/lib/PDF/API2.pm line 9, <DATA> line 635.
Compilation failed in require at C:\inetmli\wwwroot\test\index.cgi line 13, <DATA> line 635. 
```

正在执行的脚本是一个使用许多库的非常简单的测试脚本：

```
use strict;
use Net::LDAP;
require Archive::Zip;
require CAM::PDF;
require DBI;
require Excel::Writer::XLSX;
require HTTP::Request;
require LWP::UserAgent;
require MIME::Base64;
require MIME::QuotedPrint;
require PDF::API2;
require PHP::Serialization;
require Socket;
require Win32::Process;

print "HTTP/1.1 200 OK\nContent-Type: text/plain\n\nI'm OK!"; 
```

当多次请求此脚本时，我可以经常生成错误，但没有明显的模式来说明何时或什么原因导致它。我什至设法仅使用最后一行作为脚本来获取错误：

```
print "HTTP/1.1 200 OK\nContent-Type: text/plain\n\nI'm OK!"; 
```

错误是：

```
*** 'C:\inetmli\wwwroot\ldope\index.cgi' error message at: 2013/02/28 12:26:25
syntax error at C:\inetmli\wwwroot\test\index.cgi line 1, near "K!"
Can't find string terminator '"' anywhere before EOF at C:\inetmli\wwwroot\test\index.cgi line 26, <DATA> line 635. 
```

我必须从我的 PC 的多个线程中运行脚本数千次才能生成此错误，并且它只会触发几次。我相信它是由并发访问触发的。

从那个错误看来，当它开始解析它时，它似乎没有读取整个文件？

这个错误让我发疯！在负载较重的服务器上，它经常产生错误，有时 IIS 中的整个应用程序池崩溃并且必须重新启动。

有没有人见过这个？有知道的解决方法吗？最好我想继续使用 ISAPI，因为其他选项（PerlEX 和 FastCGI 未经当前代码测试）。

我会非常感谢任何帮助或提示来帮助我解决我的问题。由于我在网上没有找到任何东西，也许它也可以帮助那些在这些看似随机的错误消息中苦苦挣扎的人。

到目前为止，我已经尝试过：

*   将应用程序拆分到不同的应用程序池中（唯一的积极影响是崩溃的应用程序现在仅限于当前应用程序池）
*   将多个工作进程添加到单个应用程序池（使错误更少但不会消失）
*   将处理器关联设置为 true
*   将应用程序池回收设置为非常高和非常低到没有明显效果
*   使用各种“经典”/“管道”和 ASP.NET 设置，尽管知道它们可能与它无关
*   Perl 5.14 没有这个问题，只有 Perl 5.16

有人有更多的想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-10-31T17:38:52.670

就我而言，当线程数大于 120 时，STDOUT->flush() 中随机出现错误（MacOS）。我在线程环境中将其删除，问题消失了。

# spring - 如何实现spring Pre-Authentication

> ID：15195618
> 
> 赞同：0
> 
> 时间：2013-03-04T06:12:40.697
> 
> 标签：spring, spring-security

我的应用程序目前使用 Java EE 容器安全性进行身份验证。它有一个 login.jsp，它将登录表单提交给 j_security_check 并进行身份验证。

我需要在我的应用程序中实现 Spring Security，保持登录不变。我认为我们可以使用 spring Pre-Authentication 来做到这一点，但我不知道实现这一点的步骤是什么。

有人可以帮我开始吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T07:54:15.550

在下面的链接中解释了每一件事以实现弹簧安全性。

[一步步。](http://krams915.blogspot.com/2010/12/spring-security-mvc-integration_18.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T07:08:13.460

Spring Security 还有一个特性：它可以保护 url（就像一个 severlet 容器安全性）。这是更简单的开始方式。

Spring Security 网页本身包含一个页面： [Spring Security 入门的建议步骤](http://static.springsource.org/spring-security/site/start-here.html)- 我强烈推荐第一步，包括[教程](http://static.springsource.org/spring-security/site/tutorial.html)。

如果您需要更详细的信息，那么非常好的[Spring Security Book](http://www.packtpub.com/spring-security-3-1/book)是最好的方法（在我看来）。

* * *

如果您已经有一个 Spring 应用程序，其中配置了基于 Spring 安全表单的登录和受保护的 url，那么启用`@Pre-Authentication`支持只是启用“[方法安全表达式](http://static.springsource.org/spring-security/site/docs/3.0.x/reference/el-access.html)”配置。

```
<global-method-security pre-post-annotations="enabled"/> 
```

# php - php在循环中爆炸数组并加入

> ID：15195620
> 
> 赞同：-1
> 
> 时间：2013-03-04T06:12:44.450
> 
> 标签：php

我使用组 concat 来连接 id，因为 uid uid 列被分组为 68,94,97,88,93,69,95 我想引用其他表并获取每个 id 的名称，为此我将数组分解为下面给出

我如何获得数组`$arrurtype`中的？`$row`

```
 $rs = mysqli_query($dbc,"SELECT A.* ,    
   GROUP_CONCAT( `B`.`uid` ) AS `uid`
       FROM A
        JOIN B
          ON A.id = B.id
       GROUP BYA.Section_Id  limit $offset,$rows");
  $items = array();   
          $i=0;
while($row = mysqli_fetch_object($rs))
       { 
        $idSysUsers = $row->idSysUsers;    
     $exp =  explode(',',$idSysUsers);  
      foreach($exp as $val)
          {
        $qUTdd = "SELECT  uname from users where  `uid = '".$val."'";     
    $q11 =  mysqli_query($dbc,$qUTdd);      
     $rrr = mysqli_fetch_object($q11);
        $arrurtype[] = $rrr->uname;
       }     

$row = array(   
 'cola1' =>$row->a1,
'cola2'=>$row->a2,
    'cola3'=>$row->a3,
    'cola4'=>$row->a4,
'cola5'=>$arrurtype
  );   
    array_push($items, $row);
  //$i++;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:21:25.223

如果您以逗号分隔格式获取 id，则需要使用`IN`获取这些 id 中的所有用户。而不是循环尽可能多的用户！

现在`$rrr`将拥有您要求的所有用户。

```
 $idSysUsers = $row->idSysUsers;
    $usersnames = "SELECT  uname from users where  `uid IN ('".$idSysUsers."')";      
    $q11 = mysqli_query($dbc,$qUTdd);
    $rrr = mysqli_fetch_object($q11); 
```

# macos - 在 tmux 中，我如何绑定 和 其他功能的按键？

> ID：15195624
> 
> 赞同：2
> 
> 时间：2013-03-04T06:13:08.623
> 
> 标签：macos, tmux

比如我想把`<End>`key绑定为tmux中的prefix key。

这个问题部分回答了我的问题：[我将如何将 HOME 键绑定为 tmux 前缀？](https://stackoverflow.com/questions/7959433/how-would-i-go-about-binding-the-home-key-as-a-tmux-prefix/7975835#comment21407507_7975835)

我在 Mac OS 10.8 上使用 bash。

我试图改变

```
set -g prefix C-a 
```

到

```
set -g prefix End 
```

但这没有用。的结果`tput kend | cat -v ; echo`是`^[OF`，`cat -v`（并按下 End 键）的结果是`^[[F`。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-05T08:19:50.890

*xterm*`Up`风格的终端为, `Down`, `Right`, `Left`, `Home`, 和中的每一个发送两个不同的序列`End`。在“普通光标键”模式下，序列以`^[[`(ESC `[`) 开头；在“应用程序光标键”模式下，序列以`^[O`(ESC `O`) 开头。的序列以`End`结尾`F`，因此它`^[[F`处于“普通光标键”模式和`^[OF`“应用光标键”模式下。

*tmux* 1.8 默认识别这两个序列，所以你不需要做任何特别的事情让*tmux* 1.8 可靠地识别 xterm 样式`Home`和`End`序列（即不需要`terminal-overrides`下面描述的 hack）。

* * *

这篇文章的其余部分描述了一种让这些密钥工作的方法*tmux* 1.8 之前的版本。

* * *

1.8 之前的*tmux*版本仅`End`在看到`kend`附加终端的 terminfo 条目的功能中提供的序列时识别（附加到*tmux*会话时由 TERM 指定）。默认情况下，*tmux*将客户端切换到“普通光标键”模式¹。这最终意味着*tmux*将无法识别`End`，因为终端发送“普通光标键”序列，但*tmux*只知道“应用程序光标键”序列（来自`kend`）。

基本上，*tmux*似乎期望这一点`Home`并且`End`不受光标键模式的影响。这种与*xterm*风格终端的不兼容导致无法正确识别密钥²。

这里有一种漏洞，您可以使用它来验证这是否正在发生：在您的活动窗格中运行`tput smkx`（或启动*Emacs*或*Vim ）。*只要该窗格处于活动状态，*tmux*就应该识别`Home`和`End`. 发生这种情况是因为向*tmux*`smkx`发送一个序列，导致它发送到客户端（这会将客户端切换到“应用程序光标键”模式，该模式发送序列，并且tmux*将*能够与来自和的序列匹配）*`smkx``Home``End`*`khome``kend`）。然而，这不是一个很好的解决方法，因为“应用程序”与“正常”状态也会在交互式或全屏程序（例如*Emacs*和*Vim*）启动/恢复和退出/挂起时设置和重置。**

 **更好的解决方法是使用*tmux*的`terminal-overrides`选项将`kend`(and ) 更改为“正常”序列，并从and`khome`中删除“应用程序光标键”更改（以防止切换到“应用程序光标键”模式，并将发送 (现在无法识别）序列）。箭头键具有特殊的支持，因此它们将始终被识别（假设*xterm*样式序列）。如果您用于连接到*tmux*，您可以在 ( ) 中执行此操作：`smkx``rmkx``Home``End`*`TERM=xterm=256color`*`~/.tmux.conf`**

 **```
set-option -ga terminal-overrides ',xterm-256color:kend=\E[F:khome=\E[H:smkx=\E=:rmkx=\E>' 
```

（注意：由于*tmux*处理 terminfo 条目的方式，您需要`xterm-256color`在覆盖生效之前断开所有现有客户端的连接。此外，上面使用的`smkx`和的值`rmkx`假设键盘模式序列是光标键后剩下的全部模式序列已从每个中删除。）

最终，这可能是*tmux*中的一个错误。它可能应该要么

*   包括`Home`和`End`箭头键用于识别正常模式和应用程序模式序列的特殊支持，或
*   始终将客户端置于“键盘传输”模式，并`TERM=screen`根据窗格是否请求正常或应用程序光标或键盘模式³发送适当的序列。

¹实际上，它发送 terminfo 功能`rmkx`（“结束键盘传输模式”），该功能 - 对于`xterm`类似 terminfo 条目 - 切换到“普通光标键”模式**和**“普通 kaypad”模式。
²由于`^[[F`序列不被识别为单个键，它最终被处理为两个“组合键”：`^[[`（ESC `[`，被视为`M-[`）和一个普通的 `F`.
³修订控制历史表明这种方法（始终处于键盘传输模式，模拟每个窗格的光标/键盘模式）在过去的某个时间点使用过。我不清楚为什么将其更改为当前行为（活动窗格的跟踪键盘模式）；这种方法可能存在一些问题。****

# ruby-on-rails - Rails 自引用 has_man 通过 self

> ID：15195633
> 
> 赞同：0
> 
> 时间：2013-03-04T06:14:12.047
> 
> 标签：ruby-on-rails, activerecord

所以我有一个自引用的导轨模型。在这个模型中，一个用户有很多朋友，所有的用户都有状态。我希望用户能够获得其他用户的状态。但是由于递归方法调用，我遇到了堆栈溢出错误。

```
class User
  has_many :statuses

  has_many :friendships
  has_many :friends, :through => :friendships

end 
```

我想能够说

```
class User
  has_many :statuses

  has_many :friendships
  has_many :friends, :through => :friendships
  has_many :friend_statuses, :through => :friends, :class_name => :statuses
end 
```

但是，这显然会创建一个递归调用，从而导致 SO。有什么方法可以以语义、RESTful 方式获取所有朋友的状态吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T08:14:21.507

您可以像这样在您的用户模型中创建一个方法

```
def friends_statuses
  Status.where(user_id: friends.pluck(:id))
end 
```

不完全是您想要的方式，但我认为它会起作用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T08:22:59.577

创建协会是强制性的吗？我认为，您可以在控制器本身中获取朋友的状态。就像是：

```
@user = User.find(some_id_here)
@friends = @user.friends.includes(:statuses) 
```

然后您可以遍历 @friends 以获得以下状态：

```
@friends.each do |friend|
  friend.status.each do |status|
    #do something with friend and status
  end
end 
```

希望它对你有意义！

# iphone - 如何动态地将 UIButton 添加到 UITableViewCell？UIButton 可能是一个或多个然后一个

> ID：15195635
> 
> 赞同：0
> 
> 时间：2013-03-04T06:14:20.563
> 
> 标签：iphone, ios, objective-c

webi7,webi5,webi2 是喜欢我上传视频的用户这些都是按钮它可能是喜欢我的视频的用户的 10 或 1 个名称。

我想添加uibutton。单击该用户按钮后，它会显示与 instagram 应用程序相同的详细信息屏幕。

*目前它在 ios 6.0 上运行良好，但在 5.0 中崩溃*

这是我的表的自定义单元格代码：

```
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
    VideoListCustomCell *cell = (VideoListCustomCell *)[self.tableView dequeueReusableCellWithIdentifier:@"VideoListCustomCell"];
    //if(cell == nil)    {
        NSArray* nib = [[NSBundle mainBundle] loadNibNamed:@"VideoListCustomCell" owner:self options:nil];
        cell = [nib objectAtIndex:0];
        cell.showsReorderControl = NO;
        cell.selectionStyle = UITableViewCellSelectionStyleNone;
        cell.backgroundColor=[UIColor clearColor];
        [cell drawImageView];

        [cell.btnLike addTarget:self action:@selector(btnLikeClick:) forControlEvents:UIControlEventTouchUpInside];
        [cell.btnComment addTarget:self action:@selector(btnCommentClick:) forControlEvents:UIControlEventTouchUpInside];
        [cell.btnOther addTarget:self action:@selector(btnOtherClick:) forControlEvents:UIControlEventTouchUpInside];
        [cell.btnUserImage addTarget:self action:@selector(btnUserImageClick:) forControlEvents:UIControlEventTouchUpInside];
        [cell.btnUserName addTarget:self action:@selector(btnUserNameClick:) forControlEvents:UIControlEventTouchUpInside];
        [cell.btnVideo addTarget:self action:@selector(btnVideoClick:) forControlEvents:UIControlEventTouchUpInside];
    //}

    VideoShare *shareObj = [arrVideos objectAtIndex:indexPath.row];

    [cell.btnUserName setTitle:shareObj.vdUserName forState:UIControlStateNormal];
    cell.btnUserImage.imageURL = [NSURL URLWithString:shareObj.vdUserPhotoUrl];
    cell.btnVideoThumbnail.imageURL = [NSURL URLWithString:shareObj.vdThumbUrl];
    cell.lblTimeUpload.text=shareObj.vdTimeUpload;

    cell.btnComment.tag = shareObj.vdId;
    cell.btnLike.tag = indexPath.row;
    cell.btnOther.tag = indexPath.row;
    cell.btnUserImage.tag = shareObj.vdUserId;
    cell.btnUserName.tag = shareObj.vdUserId;
    cell.btnVideo.tag = indexPath.row;

    int posx = 18;
    int posy = 0;

    if (shareObj.vdLoginUserLikeOrNot == 1) {
        [cell.btnLike setTitle:@"Liked" forState:UIControlStateNormal];
    }
    else {
        [cell.btnLike setTitle:@"Like" forState:UIControlStateNormal];
    }

    if ([shareObj.vdLikeUserDetail count] == 0) {
        cell.imgLikeSymbol.hidden = YES;
    }
    else if ([shareObj.vdLikeUserDetail count] > 4) {
        cell.imgLikeSymbol.hidden = NO;

        UIButton *btnLikeUserCount = [UIButton buttonWithType:UIButtonTypeCustom];
        [btnLikeUserCount.titleLabel setFont:[UIFont boldSystemFontOfSize:13]];
        btnLikeUserCount.contentHorizontalAlignment = UIControlContentHorizontalAlignmentLeft;
        btnLikeUserCount.frame = CGRectMake(posx,posy,200,16);
        btnLikeUserCount.tag = shareObj.vdId;
        [btnLikeUserCount setTitle:[NSString stringWithFormat:@"%d likes",shareObj.vdLikeCount] forState:UIControlStateNormal];
        [btnLikeUserCount setTitleColor:[UIColor colorWithRed:50/255.0 green:79/255.0 blue:133/255.0 alpha:1.0] forState:UIControlStateNormal];
        [btnLikeUserCount addTarget:self action:@selector(btnLikeUserCountClick:) forControlEvents:UIControlEventTouchUpInside];
        [cell.viewLikeComment addSubview:btnLikeUserCount];
        posy = posy + 22;
    }
    else {
        cell.imgLikeSymbol.hidden = NO;

        NSMutableArray *arrLikeUserDetail = shareObj.vdLikeUserDetail;
        for (int i = 0; i<[arrLikeUserDetail count]; i++) {
            UserShare *shareObjU = [arrLikeUserDetail objectAtIndex:i];
            NSString *text;
            if (i == [arrLikeUserDetail count]-1) {
                text = shareObjU.userName;
            }
            else {
                text = [NSString stringWithFormat:@"%@,",shareObjU.userName];
            }
            CGSize constraint = CGSizeMake(280, 2000);
            CGSize size = [text sizeWithFont:[UIFont boldSystemFontOfSize:13] constrainedToSize:constraint lineBreakMode:UILineBreakModeWordWrap];
            UIButton *btnLikeUserName = [UIButton buttonWithType:UIButtonTypeCustom];
            [btnLikeUserName.titleLabel setFont:[UIFont boldSystemFontOfSize:13]];

            if (posx + size.width > 280) {
                posy = posy + 22;
                posx = 18;
                btnLikeUserName.frame = CGRectMake(posx,posy,size.width,size.height);
                posx = posx + size.width + 5;
            }
            else {
                btnLikeUserName.frame = CGRectMake(posx,posy,size.width,size.height);
                posx = posx + size.width + 5;
            }
            btnLikeUserName.tag = shareObjU.userId;
            [btnLikeUserName setTitle:text forState:UIControlStateNormal];
            [btnLikeUserName setTitleColor:[UIColor colorWithRed:50/255.0 green:79/255.0 blue:133/255.0 alpha:1.0] forState:UIControlStateNormal];
            [btnLikeUserName addTarget:self action:@selector(btnLikeUserNameClick:) forControlEvents:UIControlEventTouchUpInside];
            [cell.viewLikeComment addSubview:btnLikeUserName];
        }
        posy = posy + 22;
    }

    cell.imgCommentSymbol.frame = CGRectMake(0,posy,15,15);
    posx = 18;

    NSMutableArray *arrCommentDetail = shareObj.vdCommentDetail;
    if ([arrCommentDetail  count] == 0) {
        cell.imgCommentSymbol.hidden = YES;
    }
    else if ([arrCommentDetail  count] > 3) {
        cell.imgCommentSymbol.hidden = NO;
        for (int i = 0; i<3; i++) {
            CommentShare *shareObjC = [arrCommentDetail objectAtIndex:i];
            NSString *text = shareObjC.userName;
            CGSize constraint = CGSizeMake(280, 2000);
            CGSize size = [text sizeWithFont:[UIFont boldSystemFontOfSize:13] constrainedToSize:constraint lineBreakMode:UILineBreakModeWordWrap];
            UIButton *btnCommentUserName = [UIButton buttonWithType:UIButtonTypeCustom];
            [btnCommentUserName.titleLabel setFont:[UIFont boldSystemFontOfSize:13]];
            btnCommentUserName.frame = CGRectMake(posx,posy,size.width,size.height);
            btnCommentUserName.tag = shareObjC.userId;
            [btnCommentUserName setTitle:text forState:UIControlStateNormal];
            [btnCommentUserName setTitleColor:[UIColor colorWithRed:50/255.0 green:79/255.0 blue:133/255.0 alpha:1.0] forState:UIControlStateNormal];
            [btnCommentUserName addTarget:self action:@selector(btnCommentUserNameClick:) forControlEvents:UIControlEventTouchUpInside];
            [cell.viewLikeComment addSubview:btnCommentUserName];

            posx = posx + size.width + 5;
            NSString *text1 = shareObjC.commentText;
            CGSize constraint1 = CGSizeMake(280 - (size.width + 5), 2000);
            CGSize size1 = [text1 sizeWithFont:[UIFont systemFontOfSize:12] constrainedToSize:constraint1 lineBreakMode:UILineBreakModeWordWrap];
            UILabel *lblComment = [[[UILabel alloc] initWithFrame:CGRectMake(posx,posy,size1.width,size1.height)] autorelease];
            lblComment.lineBreakMode = UILineBreakModeWordWrap;
            lblComment.numberOfLines = size1.height/15;
            [lblComment setFont:[UIFont systemFontOfSize:12]];
            lblComment.text = text1;
            [cell.viewLikeComment addSubview:lblComment];
            posx = 18;
            posy = posy + size1.height + 2;
        }
        UIButton *btnCommentViewAll = [UIButton buttonWithType:UIButtonTypeCustom];
        [btnCommentViewAll.titleLabel setFont:[UIFont boldSystemFontOfSize:13]];
        btnCommentViewAll.contentHorizontalAlignment = UIControlContentHorizontalAlignmentLeft;
        btnCommentViewAll.frame = CGRectMake(posx,posy,200,16);
        btnCommentViewAll.tag = shareObj.vdId;
        [btnCommentViewAll setTitle:[NSString stringWithFormat:@"View all %d Comments",arrCommentDetail.count] forState:UIControlStateNormal];
        [btnCommentViewAll setTitleColor:[UIColor darkGrayColor] forState:UIControlStateNormal];
        [btnCommentViewAll addTarget:self action:@selector(btnCommentViewAllClick:) forControlEvents:UIControlEventTouchUpInside];
        [cell.viewLikeComment addSubview:btnCommentViewAll];
        posx = 18;
        posy = posy + 16 + 2;
    }
    else {
        cell.imgCommentSymbol.hidden = NO;
        for (int i = 0; i<[arrCommentDetail count]; i++) {
            CommentShare *shareObjC = [arrCommentDetail objectAtIndex:i];
            NSString *text = shareObjC.userName;
            CGSize constraint = CGSizeMake(280, 2000);
            CGSize size = [text sizeWithFont:[UIFont boldSystemFontOfSize:13] constrainedToSize:constraint lineBreakMode:UILineBreakModeWordWrap];
            UIButton *btnCommentUserName = [UIButton buttonWithType:UIButtonTypeCustom];
            [btnCommentUserName.titleLabel setFont:[UIFont boldSystemFontOfSize:13]];
            btnCommentUserName.frame = CGRectMake(posx,posy,size.width,size.height);
            btnCommentUserName.tag = shareObjC.userId;
            [btnCommentUserName setTitle:text forState:UIControlStateNormal];
            [btnCommentUserName setTitleColor:[UIColor colorWithRed:50/255.0 green:79/255.0 blue:133/255.0 alpha:1.0] forState:UIControlStateNormal];
            [btnCommentUserName addTarget:self action:@selector(btnCommentUserNameClick:) forControlEvents:UIControlEventTouchUpInside];
            [cell.viewLikeComment addSubview:btnCommentUserName];

            posx = posx + size.width + 5;
            NSString *text1 = shareObjC.commentText;
            CGSize constraint1 = CGSizeMake(280 - (size.width + 5), 2000);
            CGSize size1 = [text1 sizeWithFont:[UIFont systemFontOfSize:12] constrainedToSize:constraint1 lineBreakMode:UILineBreakModeWordWrap];
            UILabel *lblComment = [[[UILabel alloc] initWithFrame:CGRectMake(posx,posy,size1.width,size1.height)] autorelease];
            lblComment.lineBreakMode = UILineBreakModeWordWrap;
            lblComment.numberOfLines = size1.height/15;
            [lblComment setFont:[UIFont systemFontOfSize:12]];
            lblComment.text = text1;
            [cell.viewLikeComment addSubview:lblComment];
            posx = 18;
            posy = posy + size1.height + 2;
        }
    }

    cell.viewLikeComment.frame = CGRectMake(10,340,300,posy);
    cell.btnLike.frame = CGRectMake(10,340+posy+5,80,20);
    cell.btnComment.frame = CGRectMake(100,340+posy+5,80,20);
    cell.btnOther.frame = CGRectMake(260,340+posy+5,50,20);
    return cell;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T07:30:45.643

在 init 方法的 VideoListCustomCell 中添加您的按钮。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T10:35:57.107

您可以尝试使用： UIButton *obj = [UIButton alloc]init];

# solr - 如何在 solr 4.0 中突出显示长文本字段？

> ID：15195636
> 
> 赞同：1
> 
> 时间：2013-03-04T06:14:31.123
> 
> 标签：solr, highlighting

我在 solr 中有一个名为“全文”的字段，它有超过 50,000 个字符。我想突出显示该字段的搜索关键字。我已经设定

```
 f.Fulltext.hl.snippets=30
    f.Fulltext.hl.fragsize =50000
    h1.MaxAnalyzedChars = 100000; 
```

我面临的问题是，“全文”字段中的整个文档要么没有突出显示，要么没有完全生成。它只生成部分文档。对于所有其他领域，突出显示效果很好。我认为由于该字段的字符太多，它不起作用？谁能帮我解决这个问题？

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-04T12:11:28.557

Your setting of `f.Fulltext.hl.fragsize=50000` is limiting the size of the highlighting snippet to only 50,000 characters and you have stated that your field is longer than 50,000 characters. In order to get the results that you are looking for, you should set `f.Fulltext.hl.fragsize=0` (indicating unlimited) along with your `hl.maxAnalyzedChars=100000`. See the [hl.maxAnalyzedChars](http://wiki.apache.org/solr/HighlightingParameters#hl.maxAnalyzedChars) reference on the Solr Wiki.

Please note that the above will work only with the original Highlighter. If you are using the FastVectorHighlighter, you should see the notes for [hl.fragSize](http://wiki.apache.org/solr/HighlightingParameters#hl.fragsize) reference on the Solr wiki.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-05-12T08:13:01.517

参数区分大小写。

```
h1.MaxAnalyzedChars //won't work

hl.maxAnalyzedChars //will (also there was a typo: hl instead of h1...) 
```

环境

```
hl.maxAnalyzedChars=-1 
```

将显示无限。

# php - 使用 PHP 清理整个 HTML 页面以输入数据库

> ID：15195640
> 
> 赞同：-1
> 
> 时间：2013-03-04T06:14:41.200
> 
> 标签：php, mysql, sql

从某种意义上说，我正在尝试缓存页面，以便以后可以像以前一样显示它们（如果它们被更改或删除）。因此，我将整个页面的 HTML（craigslist 广告）拉入数据库字段。

我使用 file_get_contents 是为了方便和简单地满足我的需要。还有更多的东西，但这是我所做的基础

```
$page = file_get_contents('http://annapolis.craigslist.org/hea/3652436359.html');
// $page = mysql_real_escape_string($page);
// $page = htmlspecialchars($page);
// $page = htmlentities($page);
mysql_query("INSERT INTO `page` (`html`) VALUES ('$page')"); 
```

我已经尝试了所有我能找到的内置 PHP 清理功能。

*   mysql_real_escape_string
*   htmlspecialchars
*   实体

这些都不能对页面进行足够的清理，以便可以将其输入到 MySQL 数据库中，并且 MySQL 每次都会抛出语法错误。有人告诉我只对 HTML 进行 base64 编码并输入它，但我希望能够在数据库中搜索 HTML，这样就无法满足我的需要。

我尝试了各种不同的东西，例如两个功能（一个在另一个里面），但我似乎无法让它正常工作。

任何和所有的帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:32:15.620

试试这个，它会工作

```
$page = file_get_contents('http://annapolis.craigslist.org/hea/3652436359.html');

mysql_query("INSERT INTO `page` set `html`= '".magic($page)."'");

function magic($value)
{
    if( get_magic_quotes_gpc() )
       $value = stripslashes( $value );

    if( function_exists( "mysql_real_escape_string" ) )
       $value = mysql_real_escape_string( $value ); 
    else
        $value = addslashes( $value );

return $value;
} 
```

# iphone - 构建应用程序时遇到一个奇怪的问题

> ID：15195645
> 
> 赞同：1
> 
> 时间：2013-03-04T06:15:01.137
> 
> 标签：iphone, xcode4.5

当我构建应用程序时，我收到以下错误：

> 构建操作失败，但未指定任何错误。个别构建任务可能因未知原因而失败。其中一些（最多 12 个）可能会在下面列出。

但它没有显示 12 个错误中的任何一个。这个错误让我发疯，我找不到我得到它的原因。我该如何解决这个问题？

# arrays - 将数组视为圆

> ID：15195646
> 
> 赞同：0
> 
> 时间：2013-03-04T06:15:03.133
> 
> 标签：arrays

我正在编写一个程序来播放歌曲并显示图像。目前，图像存储在文件系统中，并在将它们从左侧或右侧滑动到屏幕上之前加载到内存中。这需要时间并导致 UI 延迟，因为图像非常大。我只能在设备有限的视频内存中存储一​​些图像。我想做的是有一个数组，从内存中卸载距离屏幕上显示几步之遥的图像。但是，我想将数组视为一个圆圈 - 当您达到零时，您会转到数组的另一端而不是停止。

```
[unloaded,unloaded,image,image,image (on screen),image,image image,unloaded,unloaded] 
```

如果我在上面的数组中间，我总是可以删除 -3 和 +3 元素。逻辑将如何处理将其视为循环？我很难想出一个优雅的 if/then 结构来处理这个问题。如果不将其视为循环，则向右移动时代码将如下所示：

```
if msg=event.right_button_pressed then
    currentindex=currentindex+1
    lowindex=currentindex-3
    highindex=currentindex+3
    array[lowindex]=invalid
    array[highindex]=loadimagefromdisk()
    screen.drawobject(array[currentindex])
end if 
```

当它们超出数组范围时，有人可以建议简单的方法来处理将加载和卸载指针包装到数组末端吗？

currentindex 由以下内容包装：

```
if currentindex > array.count() -1 then currentindex=0
if currentindex < 0 then currentindex=array.count() - 1 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T10:32:14.257

好的，感谢评论者的启发，这是我的解决方案：通过相同的环绕函数运行所有三个索引指针：

```
playindex = wrap(playindex,playlist.count() - 1)
highindex = wrap(highindex,playlist.count() - 1)
lowindex = wrap(lowindex,playlist.count() - 1)

function wrap(p as integer, count as integer) as integer
    if p > count then p = 0
    if p < 0 then p = count
    return p
end function 
```

# java - 如何将 cpp 回调函数指针发送到 java

> ID：15195649
> 
> 赞同：2
> 
> 时间：2013-03-04T06:15:20.873
> 
> 标签：java, android, c++, java-native-interface

我正在开发用cpp（cocos2dx）编写的android应用程序现在我正在做一个必须用java实现的facebook模块。

facebook 调用是异步的，所以我无法知道操作何时完成，除非我有从 java 部分到 cpp 的回调。

例如：

JNI 部分应如下所示：

```
void CCAndroidApplication::login2Facebook()
{
    JniMethodInfo minfo;
    if(JniHelper::getStaticMethodInfo(minfo,
        "org/cocos2dx/example/myandroidtest",
        "login2Facebook",
        "(**POINTER TO CALLBACK METHOD DidLogin()**)V")) 
    {
        minfo.env->CallStaticVoidMethod(minfo.classID, minfo.methodID);
        minfo.env->DeleteLocalRef(minfo.classID);
    }
} 
```

java部分应该是这样的：

```
public static void login2Facebook(**POINTER TO native CALLBACK METHOD DidLogin()**) 
    Session.openActiveSession(me, true, new Session.StatusCallback() 
    {
        @Override
        public void call(Session session, SessionState state, Exception exception) 
        {
            mSession = session;
            if (session.isOpened()) 
            {
                Request.executeMeRequestAsync(session, new Request.GraphUserCallback() 
                {
                    @Override
                    public void onCompleted(GraphUser user, Response response) 
                    {
                        if (user != null) 
                        {
                            **Call nativeDidLogin()**;
                        }
                    }
                });
            }
        }
    });
} 
```

如果我可以发送包含类似方法的 cpp 对象也很好

```
class delgateMethods
{
public:
    void didLogin();
} 
```

并从java中调用它。

我的问题是：是否可以通过 JNI 发送指向函数的指针并在 java 部分中调用它？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T09:32:01.953

如果我理解正确，这样的接口应该可以满足您对[JavaCPP](http://code.google.com/p/javacpp/)的需求：

```
@Platform(library="Facebook")
public class Facebook {
    public static class DidLogin extends FunctionPointer {
        public native void call();
    }

    public static class Login2Facebook extends FunctionPointer {
        public @Name("login2Facebook") void call(DidLogin didLogin) { 
            didLogin.call()
        }
    }
} 
```

在 C/C++ 中，我们可以`login2Facebook()`按名称调用：

```
#include "jniFacebook.h"
void didLogin() { /* Did we? */ }
int main() {
    JavaCPP_init(0, NULL); // or initialize the JVM some other way
    login2Facebook(didLogin);
    JavaCPP_uninit();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T07:34:46.353

我不记得确切的 JNI 是如何工作的。但是您必须做的是创建一个包含回调指针的类，该类是使用 JNI 的混合 Java/C++ 类。该类必须从描述回调函数签名的 Java 接口派生。该接口可能已经存在，因为这是 Java 中回调的常见模式。

在 Java 中无法直接表示 C/C++ 函数指针。

# matlab - 基于 matlab 的程序，其中输出包括输入行的总和

> ID：15195651
> 
> 赞同：0
> 
> 时间：2013-03-04T06:15:31.920
> 
> 标签：matlab

让给定的矩阵为：

```
 c=[5.24 5.19 5.07 4.36;
     5.39 5.44 5.38 5.32;
     5.58 5.12 6.05 4.02] 
```

我想计算输出矩阵，使得输出矩阵的第一行是c的第一行，然后输出矩阵的第二行是c的前两行的总和，第三行是c的三行的总和。如何为此编写matlab代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T06:24:12.830

使用 Matlab 的[累积和](http://www.mathworks.com/help/matlab/ref/cumsum.html)函数：

```
ans = cumsum(c); 
```

# jquery - jQuery validate() MVC 4 Uncaught Type Error Object [object Object] 没有方法'validate'

> ID：15195654
> 
> 赞同：0
> 
> 时间：2013-03-04T06:15:59.817
> 
> 标签：jquery, forms, validation, asp.net-mvc-4, jquery-validate

我正在制作一个 MVC 4 应用程序。我正在尝试使用 jQuery validate 应用一些客户端验证。我不断收到“未捕获的类型错误：对象 [对象对象] 没有方法‘验证’”。我尝试在我的项目中使用 url 链接而不是脚本。我检查了脚本，它们确实存在。我已将脚本拖放到文件中以确保正确指定路径。我已经尝试了很多其他的东西，但就是不知道为什么我会收到这个错误。

这是我渲染的页面：

```
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width" />
<title>Create</title>
<link href="/Content/site.css" rel="stylesheet"/>

<script src="/Scripts/modernizr-2.5.3.js"></script>

</head>
<body>

<h2>Create Question For d</h2>

<script src="/Scripts/jquery-1.7.1.min.js"></script>
<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.9/jquery.validate.js"></script>
<script src="/Scripts/jquery.validate.unobtrusive.min.js"></script>

<script type="text/javascript"> 
$(document).ready(function () {

    //form validation
    $('#myForm').validate();

    $(':input').rules("add", {
        required: true
    });

    //submit form using jquery
    //$('#myForm').submit(function (event) {

    //    //url-encode the form data
    //    var formData = $(this).serialize();

    //    //post the data to the controller
    //    $.post(
    //        'AddQuestion',
    //        formData
    //        );
    //    event.preventDefault();
    //    handleSuccess();
    //});

    //$(':input').not(':button, :submit, :reset, :hidden').val('');
    //$(':checkbox').attr('checked', false);

    $("input:checkbox").click(function () {
        if ($(this).is(":checked") === true) {
            $('input:checkbox').attr("checked", false);
            $(this).attr("checked", true);
        } else {
            $(this).is(":checked", false);
        }
    });

    //clears form on page load (called from submit function)
    function handleSuccess() {         
        $(':input').not(':button, :submit, :reset, :hidden').val('');
        $(':checkbox').attr('checked', false);
    }
});
</script>

<form action="/Test/AddQuestion" id="myForm" method="post">    <fieldset>
    <legend>Question</legend>
    <!-- input box for question -->
    <input type="text" name="question.query" />

    <h3>Answers</h3>

    <input type="text" name="answer[0].option" /> <input type="checkbox"    name="answer[0].isCorrect" value="true" /> <br />
    <input type="text" name="answer[1].option" /> <input type="checkbox" name="answer[1].isCorrect" value="true"/> <br />
    <input type="text" name="answer[2].option" /> <input type="checkbox" name="answer[2].isCorrect" value="true"/> <br />
    <input type="text" name="answer[3].option" /> <input type="checkbox" name="answer[3].isCorrect" value="true"/> <br />
    <!-- Passes testId & testName to AddQuestion Controller Action -->
    <div>
        <input data-val="true" data-val-number="The field Id must be a number." data-val-required="The Id field is required." id="test_Id" name="test.Id" type="hidden" value="222" />
        <input id="test_name" name="test.name" type="hidden" value="d" />
    </div>

    <p>
        <input type="submit" value="Add Question to Test" />
    </p>
</fieldset>
</form>
<div>
<a href="/Test">Back to List</a>
</div>

<script src="/Scripts/jquery-1.7.1.js"></script>

</body>
</html> 
```

仍然没有找到解决办法。已尝试将托管链接用于标记 src。尝试取出标签，一次一个，将它们按不同的顺序放置，将它们放在主布局页面中，等等......真的难倒这个。当然，有时它非常简单。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T06:22:16.337

想..您在页面中加载了两个相同的脚本..`jquery`和`jquery.min`..这根本没有必要..只需加载 min.js 就可以了...是的，总是建议加载所有 js 文件打开`<head>`而不是`<body>`...

```
<head>
 <meta charset="utf-8" />
 <meta name="viewport" content="width=device-width" />
 <title>Create</title>
 <link href="/Content/site.css" rel="stylesheet"/>

<script src="/Scripts/modernizr-2.5.3.js"></script>
<script src="/Scripts/jquery-1.7.1.min.js"></script>
<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.9/jquery.validate.js></script>
<script src="/Scripts/jquery.validate.unobtrusive.min.js"></script>
</head>
<body>
.......... 
```

# php - 一个不起作用的 PHP 正则表达式

> ID：15195655
> 
> 赞同：0
> 
> 时间：2013-03-04T06:16:00.593
> 
> 标签：php, regex, preg-replace

我有以下片段：

```
<li>
<div>
<div class="myslider">
<div id="myslider">slide 1 of 6</div>
<div style="clear:both; height: 1px;">
</div>
</div> 
```

并想查找并替换`slide 1 of 6`为`""`.

我在用 ：

```
/slide (\d+) of (\d+)/ 
```

什么都没有，尝试了很多组合，但没有任何效果。任何帮助表示赞赏 - 我正在使用`preg_replace`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:19:44.353

```
$text = '<li>
<div>
<div class="myslider">
<div id="myslider">slide 1 of 6</div>
<div style="clear:both; height: 1px;">
</div>
</div>';

echo preg_replace("/slide\s*\d+\s*of\s*\d+/", "", $text); 
```

输出：

```
<li> <div> <div class="myslider"> <div id="myslider"></div> <div style="clear:both; height: 1px;"> </div> </div> 
```

[演示](http://phpfiddle.org/main/code/0ip-je8)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:20:11.640

试试这个 ：

```
$result = preg_replace('/slide \d+ of \d+/',"",$text); 
echo $result; 
```

您需要将替换分配给新变量并回显它。我猜你在哪里试图回应`$text`替换后的内容。

当我执行这个：

```
$text = 'Test added for testing slide 1 of 6 should replaced with null';

$result = preg_replace('/slide \d+ of \d+/',"",$text);

echo $result; 
```

我得到的输出为：

`Test added for testing should replaced with null`

# c++ - 我对 C++ 很陌生，我正在尝试做一个计数器。我被困在构建类中，并且遇到了一些编译器错误

> ID：15195657
> 
> 赞同：-1
> 
> 时间：2013-03-04T06:16:28.847
> 
> 标签：c++, counter

这是我到目前为止的类文件，我不确定下一步该采取什么措施。hit 应该将值增加 1，reset 应该将其设置回 0。.cpp 文件中的 main 函数应该使用手动 hit 和 set 命令测试其功能。任何有关如何实现这一点的帮助或建议将不胜感激。

头文件 WebCounter.h：

```
#include<iostream>
  class WebCounter {
    private:
      int value;
      value=0;
    public:
      void set(int value);
      void reset();
      void hit();
      int get();
}; 
```

测试计数器的主要功能

```
 #include"WebCounter.h"
   #include<iostream>

  using namespace std;

  int main() {

    WebCounter hitcount;
    hitcount.reset();
    cout << hitcount.get() << endl;

    int value;

    value=hitcount.get();
    cout << value << endl;
    hitcount.hit();
    hitcount.hit();
    hitcount.hit();
    hitcount.hit();
    cout << hitcount.get() << endl;
    hitcount.set(77);
    cout << hitcount.get() << endl;
    hitcount.set(89);

    return 0;
} 
```

这些是我在编译 .cpp 文件时遇到的错误

```
g++ WebCounter.cpp
/tmp/cce7bLn5.o: In function `main':
WebCounter.cpp:(.text+0x10): undefined reference to `WebCounter::reset()'
WebCounter.cpp:(.text+0x1c): undefined reference to `WebCounter::get()'
WebCounter.cpp:(.text+0x41): undefined reference to `WebCounter::get()'
WebCounter.cpp:(.text+0x6c): undefined reference to `WebCounter::hit()'
WebCounter.cpp:(.text+0x78): undefined reference to `WebCounter::hit()'
WebCounter.cpp:(.text+0x84): undefined reference to `WebCounter::hit()'
WebCounter.cpp:(.text+0x90): undefined reference to `WebCounter::hit()'
WebCounter.cpp:(.text+0x9c): undefined reference to `WebCounter::get()'
WebCounter.cpp:(.text+0xc6): undefined reference to `WebCounter::set(int)'
WebCounter.cpp:(.text+0xd2): undefined reference to `WebCounter::get()'
WebCounter.cpp:(.text+0xfc): undefined reference to `WebCounter::set(int)'
collect2: ld returned 1 exit status 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:28:46.913

您将需要提供以下实现：

```
 void WebCounter::set(int value);
  void WebCounter::reset();
  void WebCounter::hit();
  int WebCounter::get(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:23:37.943

提出 WebCounter.cpp，它将实现您在 WebCounter.h 中声明的所有函数（get、hit、set 等）。然后尝试编译它。编译成功后，尝试编译具有 main 方法的 .cpp。

# iphone - 如何以编程方式关闭 iphone 上的 FB 对话框 ..？

> ID：15195660
> 
> 赞同：0
> 
> 时间：2013-03-04T06:16:44.970
> 
> 标签：iphone, ios, objective-c, fbdialogs

我有一种情况，我必须使用 FBDialog .. 现在，当 Dialog 从服务器获取朋友列表时，有时互联网可能会断开连接，并且此对话框窗口永远保持在顶部。我如何以编程方式关闭此窗口。 .?

感谢您的任何想法。

# javascript - Coffeescript 类和 Handlebars 模板和自定义块助手

> ID：15195661
> 
> 赞同：1
> 
> 时间：2013-03-04T06:16:53.180
> 
> 标签：javascript, coffeescript, handlebars.js

当我在变量上使用**Handlebars.compile**时，它​​运行良好，但是当我将函数放在 Coffee 类属性上时，它给了我**undefined**，错误？或者我错过了一些基本的 java/coffee 功能？

有我的小提琴：http: [//jsfiddle.net/Cl0udW4lk3r/BpY5b/](http://jsfiddle.net/Cl0udW4lk3r/BpY5b/)

```
class Test
  template: Handlebars.compile (
    """
    {{#iterate data}}
        <p>{{data}}</p>
    {{/iterate}}
    """
  )

template = Handlebars.compile (
  """
  {{#iterate data}}
    <p>{{data}}</p>
  {{/iterate}}
  """
) 
```

还有另一个使用骨干的小提琴：http: [//jsfiddle.net/Cl0udW4lk3r/D3FR9/20/](http://jsfiddle.net/Cl0udW4lk3r/D3FR9/20/)

- - 更新 - - -

我的第一个小提琴已解决（但车把版本已过时），错误是愚蠢的 OOP 疏忽...

但！我的第二把小提琴（现在我已经更新了第一个小提琴的把手资源，也是我的第一个小提琴..）给我一个错误

> TypeError：回调不是函数

似乎回调部分没有正确处理......咖啡类或简单变量案例的错误都是一样的......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T06:38:24.663

当你这样说时：

```
class Test
  template: ... 
```

您将定义`template`为实例属性，因此您必须先创建一个实例，然后才能查看`template`：

```
t = new Test
console.log(t.template) 
```

或者你可以挖掘`template`出`Test`的原型：

```
console.log(Test::template) 
```

如果你想`template`成为一个类属性，那么：

```
class Test
  @template: ... 
```

演示：http: [//jsfiddle.net/ambiguous/tvDpN/](http://jsfiddle.net/ambiguous/tvDpN/)

* * *

您的第二个问题与调用 Handlebars 助手的方式有关。最后一个参数曾经是回调函数，您将`fn.inverse`用于`{{else}}`块。helper 的最后一个参数现在是一个对象，其中包含函数 in`.fn`和 else-block 函数`.inverse`。因此，对于最新版本的 Handlebars，您的助手：

```
Handlebars.registerHelper 'iterate', (context, callback) ->
    switch typeof context
        when 'object' then (callback(key: key, value: value) for own key, value of context).join '' 
```

应该看起来更像这样：

```
Handlebars.registerHelper 'iterate', (context, options) ->
    switch typeof context
        when 'object' then (options.fn(key: key, value: value) for own key, value of context).join '' 
```

演示：http: [//jsfiddle.net/ambiguous/NQZTG/](http://jsfiddle.net/ambiguous/NQZTG/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-04T06:38:13.047

这是因为您正在检查类本身的`template`属性`Test`，而不是实例化`Test`类的新实例并检查该实例的属性。以下应该有效：

```
$ ->
  console.log new Test().template
  console.log template 
```

# jquery - jquery表单提交后滚动到一个div

> ID：15195662
> 
> 赞同：0
> 
> 时间：2013-03-04T06:16:53.760
> 
> 标签：jquery, forms, submit, scrollto, scrolltop

我已经测试了滚动到**DIV ID**的所有方法但不起作用我知道有问题但我不知道是什么，这是我的 jquery 脚本

```
$("#sub").click( function() {

$("#myForm").validate({
      rules: {
        page: {
          required: true,
          url: true
        },
        link: {
          required: true,
          url: true
        }
      },
      submitHandler: function(form) {
        $.post( $("#myForm").attr("action"), $("#myForm :input").serializeArray(), 
        function(info){ 
            $("#result").html(info); 
        });

        clearInput();

        $("#myForm").submit( function() {
            return false;   
        });
                    }
    });
});

function clearInput() {
    $('html, body').animate({
        scrollTop: $("#result").offset().top
    }, 2000);
} 
```

我不知道是否有什么东西混合了这个东西，但是 jquery 不滚动我`scrolltop()`在一个新的 php 文件中测试这个函数并且工作正常，但是当我在这个文件上使用它时没有。

**更新：**

感谢您的帮助 netblognet 我已经知道了，我做了这个：

```
$("#sub").click( function() {

    $("#myForm").validate({
          rules: {
            page: {
              required: true,
              url: true
            },
            link: {
              required: true,
              url: true
            }
          },
          submitHandler: function(form) {
            $.post( $("#myForm").attr("action"), $("#myForm :input").serializeArray(), 
            function(info){ 
                $("#result").html(info); 
                //$(this).animate(function(){
                $('html, body').animate({
                    scrollTop: $("#result").offset().top
                     }, 2000);
            //});
            });

            $("#myForm").submit( function() {
                return false;
            });
                        }
        });
}); 
```

我把代码放在收入结果的同一个地方：D

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-04T06:22:22.080

您必须在提交的回调中运行动画。当初始函数运行时触发回调。（在这种情况下，提交函数。）

```
$("#myForm").submit( function() {
    $('html, body').animate({
         scrollTop: $("#result").offset().top
    }, 2000);
    return false;
}); 
```

如果您的表单是动态加载的，则必须附加一个处理程序。

```
$('#myForm').on('submit', function() {
    $('html, body').animate({
         scrollTop: $("#result").offset().top
    }, 2000);
    return false;
}); 
```

# blackberry - Blackberry Appworld 用户反馈“未捕获的 java 异常错误”

> ID：15195665
> 
> 赞同：1
> 
> 时间：2013-03-04T06:17:07.327
> 
> 标签：blackberry, blackberry-simulator, blackberry-jde, appworld

我已经向 BB App world 发布了一个应用程序，在获得批准后，我在我的设备 (9700) 上下载并测试了该应用程序，运行良好没有问题。现在我从应用程序用户那里得到了如下反馈。

**评论：未捕获的java异常错误**

**应用程序名称：MyApp**

**应用版本：2.0**

**许可证密钥：空**

**BB设备型号：9800**

**BB 应用程序版本：6.0.0.246**

**BB平台版本：6.4.0.105**

**显示语言：英文**

**输入语言：英文**

**当前网络：VodaCom-SA**

**国家代码：ZAF**

**...**

我注意到点**License key: null**。让我知道此许可证密钥是否导致应用程序崩溃？如何纠正和解决它。

提前感谢阿尼什

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-11T03:37:51.260

我相信这是 BlackBerry World（以前称为 AppWorld）上付费应用程序的许可证密钥。如果是这样，并且您的应用程序是免费的，那么“null”值就不用担心了。

用户报告“未捕获的 java 异常错误”，这意味着您的应用程序在某处触发了异常，并且没有优雅地处理它。询问用户更多细节——当这种情况发生时他们在做什么？此外，由于 BlackBerry 设备不允许我们以编程方式收集堆栈跟踪，因此您可以使用 Alt-LGLG 方法引导用户完成从未捕获的异常中收集堆栈跟踪的过程。

# php - codeigniter 数据库代码不起作用

> ID：15195672
> 
> 赞同：-2
> 
> 时间：2013-03-04T06:18:12.223
> 
> 标签：php, database, codeigniter

我目前是 CodeIgniter 的初学者，我正在尝试让一个简单的 MVC 数据库工作，但它不会。我正在尝试从表中选择一条记录并将其显示到网页上，但我却遇到了错误。我将在下面发布我的代码，以便您可以看到我正在使用的内容：

**模型：**

```
function grabData() {

    $sql = "SELECT * FROM books WHERE id = 1";
    $config['hostname'] = "localhost";
    $config['username'] = "root";
    $config['password'] = "";
    $config['database'] = "bookstore";
    $config['dbdriver'] = "mysql";
    $config['dbprefix'] = "";
    $config['pconnect'] = FALSE;
    $config['db_debug'] = TRUE;
    $config['cache_on'] = FALSE;
    $config['cachedir'] = "";
    $config['char_set'] = "utf8";
    $config['dbcollat'] = "utf8_general_ci";

    // manually connect to database
    $this->load->database($config, TRUE);

    // do some stuff
    $query = $this->db->get('books');
    if ($query->num_rows() > 0) {
        return true;
    } else {
      return false;
    }

} 
```

**控制器：**

```
$web['title'] = "CI Hello World App!";
$this->load->view('helloworld_view', $web);

$this->load->model('helloworld_model');
$data['result'] = $this->helloworld_model->grabData();

$this->load->view('helloworld_view', $data); 
```

**表内容：**

```
1     The Grapes of Wrath            John Steinbeck     12.99
2     Ninteen Eighty-Four            George Orwell      8.99
3     The Wind-Up Bird Chronicle     Haruki Murakami    7.99 
```

**错误：**

```
A PHP Error was encountered

Severity: Notice

Message: Undefined variable: result

Filename: views/helloworld_view.php

Line Number: 8

null

boolean true 
```

我没有显示视图，因为我觉得它不是问题的根源。任何帮助，将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:22:20.577

问题是你没有返回任何东西。

```
$query = $this->db->get('books');
if ($query->num_rows() > 0) {
    return true;
} else {
  return false;
} 
```

你没有返回结果，这就是为什么视图上的结果是空的，

```
$query = $this->db->get('books');
if ($query->num_rows() > 0) {
    return $query->result(); // return a result() or row() or row_array()
} else {
  return false;
} 
```

这是一个速记版本 `return $query->num_rows() > 0 ? $query->result() : FALSE;` ，此示例将返回`object`阅读更多内容

[http://ellislab.com/codeigniter/user-guide/database/results.html](http://ellislab.com/codeigniter/user-guide/database/results.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:31:31.113

在模型中使用这个：

```
$query = $this->db->get('books');
    if ($query->num_rows() > 0) {
        return $query->result_array();
    } else {
      return false;
    } 
```

并且在控制器加载视图中只有一次：

```
$data['title'] = "CI Hello World App!";

$this->load->model('helloworld_model');

$data['result'] = $this->helloworld_model->grabData();

$this->load->view('helloworld_view', $data); 
```

因此，在视图中，您可以访问 title as`$title`和 result as`$result`

# java - 列表 包含这个的项目

> ID：15195675
> 
> 赞同：0
> 
> 时间：2013-03-04T06:18:31.813
> 
> 标签：java, android, string, arraylist

我有一个存储为文本文件的列表，这样存储

```
Id;name;function 
```

我有一个函数可以获取文本文件并逐行读取它，每一行文本都是列表中的一个新项目。通过休耕实现。

```
List<String> list
list.add(line); 
```

我正在尝试做的是查看列表中是否有诸如“0x0640e331”之类的ID。如果它是找到该 Id 的文本行上的所有内容。所以会发生休耕，

```
0x0604f552;name0;function
0x0640e331;name1;function
0x0342t521;name2;function 
```

搜索 0x0640e331 将返回 0x0640e331;name1;function。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:20:36.643

使用这样的[`startsWith`方法](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#startsWith%28java.lang.String%29)...

```
ArrayList<String> queryResult = new ArrayList<String>();
String query = "0x0640e331";
for(String line : list) {
  if(line.startsWith(query)) {
     queryResult.add(line);
  }
}
return queryResult; 
```

这基本上检查数组列表中的给定行是否以您的`query`字符串开头。如果不止一行，只需将其添加到另一个 ArrayList 中并将其作为结果返回。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:20:40.483

```
Use Map<String,List> 
```

将您的 id 作为键存储在 Map 中并检索键上的值

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T06:27:08.160

您可以使用地图而不是列表。请参阅下面给出的示例程序

```
import java.util.HashMap;
import java.util.Map;
import java.util.StringTokenizer;

public class TextProgram {
    public static void main(String args[]) {
        String lineArray[] = { "0x0604f552;name0;function",
                "0x0640e331;name1;function", "0x0342t521;name2;function" };
        Map<String, String> map = new HashMap<String, String>();
        StringTokenizer tokenizer = null;
        for (String string : lineArray) {

            tokenizer = new StringTokenizer(string, ";");
            map.put(tokenizer.nextToken(), string);
        }
        System.out.println(map.get("0x0640e331"));
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-04T06:33:33.110

您可以对列表中的每个元素使用 Use`Map<String,String>`获取字符串并将其存储在地图中

**伪代码：**

```
for(String item : list) {

String keyName= //use substring to get the id value from the string variable 'item'

map.put(keyName,item);
}
System.out.println(map.get("0x0640e331")); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-04T07:05:15.527

如果您有一个大文件，因此您不想全部阅读，并且文件中的行按 id 排序，您可以使用 RandomAccessFile实现自己的[二进制搜索算法。](http://en.wikipedia.org/wiki/Binary_search_algorithm)要在随机位置读取行，首先选择位置，然后向前和向后读取，直到一个新的行符号。

# python - 在python中的集合函数中消除0

> ID：15195682
> 
> 赞同：0
> 
> 时间：2013-03-04T06:19:06.710
> 
> 标签：python, python-2.7

如何从集合函数中消除 0

```
uniq_events = set((row[self.param]) for row in self.fpt)
o/p
set(['1','2','0','3') 
```

现在我想要一个像这样的o/p

```
set(['1','2','3') 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T07:42:29.470

> 我只想在 uniq_events 包含`None`或`0`在集合中时消除。

你可以使用`evt -= {'0', None}`：

```
In [10]: evt = set(['1','2','0','3',None])

In [11]: evt
Out[11]: set(['1', '0', '3', '2', None])

In [12]: evt -= {'0', None}

In [13]: evt
Out[13]: set(['1', '3', '2']) 
```

或者，您可以在填充集合时删除不需要的元素：

```
uniq_events = set(row[self.param] for row in self.fpt if row not in [None, '0']) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:27:45.293

您可以就地完成：

```
uniq_events.discard("0") 
```

或创建一个新集：

```
new_events = uniq_events - {"0"} 
```

# php - 生成盐、Silex、Charset？

> ID：15195684
> 
> 赞同：0
> 
> 时间：2013-03-04T06:19:15.770
> 
> 标签：php, salt, silex

我一直在研究产生盐的最佳方法。一般建议似乎是使用 mcrype_create_iv 或 openssl_random_pseudo_bytes 来生成。吨

他的问题是由于涉及的字符，我无法使用检索到的值。我使用 RedBean 作为 ORM 和 Silex 作为框架。我无法使用 RedBean 设置和检索生成的值，而且我知道 Silex 也有限制，因为一旦盐不能包含括号“{}”，我就会收到错误消息。

生成使用标准字符集的盐的最佳方法是什么。我想我可能能够对结果进行 md5 处理，但随后会产生更小的字符集。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T08:45:35.850

要生成有效的盐，必须知道哪种算法将使用该盐。通常您可以使用该函数`base64_encode()`从二进制盐中检索标准字符，它将生成一个具有以下字母的字符串：

`base64 encoding alphabeth: +/0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz`

如果 Silex 将盐用于 BCrypt 哈希算法，它将期望具有以下字母的盐，请注意“。” 而不是“+”：

`BCrypt hash alphabet: ./0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz`

我认为最好测试一下允许使用哪些字符，或者找出将使用哪种算法，否则您迟早会生成无效的盐。使用该函数生成 BCrypt 盐的示例`mcrypt_create_iv()`如下所示：

```
/**
 * Generates a random salt for using with the BCrypt algorithm.
 * @param int $length Number of characters the string should have.
 * @return string A random salt.
 */
function sto_generateRandomSalt($length = 22)
{
  if (!defined('MCRYPT_DEV_URANDOM')) die('The MCRYPT_DEV_URANDOM source is required (PHP 5.3).');

  // Generate random bytes, using the operating system's random source.
  // Since PHP 5.3 this also uses the random source on a Windows server.
  // Unlike /dev/random, the /dev/urandom does not block the server, if
  // there is not enough entropy available.
  $randomBinaryString = mcrypt_create_iv($length, MCRYPT_DEV_URANDOM);

  // BCrypt expects nearly the same alphabet as base64_encode returns,
  // but instead of the '+' characters it accepts '.' characters.
  // BCrypt alphabet: ./0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz
  $randomEncodedString = str_replace('+', '.', base64_encode($randomBinaryString));
  return substr($randomEncodedString, 0, $length);
} 
```

# javascript - 使用 firebase 创建简单身份验证的最佳方法是什么？

> ID：15195689
> 
> 赞同：4
> 
> 时间：2013-03-04T06:19:39.983
> 
> 标签：javascript, html, authentication, firebase

我已经阅读了 firebase 教程，但坦率地说，这还没有意义，对此感到抱歉 =)

我想实现一个简单的身份验证，只是我的用户名和密码，凭据在我的 firebase 结构中的一个节点中（我不想使用 Facebook、Email/Pass 或类似的方式进行身份验证）

这样做的好方法是什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-04T22:56:51.120

Firebase 客户端使用称为 JWT 的安全令牌进行身份验证。此 JWT 必须由某处受信任的服务器生成（它不能在您的客户端上生成，或者我们无法验证它是否经过身份验证）。

如果您想专门使用用户名（不是电子邮件）和密码进行身份验证，并且想要存储身份验证凭据（例如散列密码），则可以在 Firebase 中执行此操作，但您需要一个服务器来比较某人使用该哈希密码在您的应用中输入的密码，然后生成自定义 JWT 令牌。请参阅此处的文档：[https ://www.firebase.com/docs/security/custom-login.html](https://www.firebase.com/docs/security/custom-login.html)

为了避免让开发人员针对这种常见情况运行服务器代码，我们提供了一项名为 Firebase 简单登录的服务，该服务将为您生成这些令牌。它适用于电子邮件/密码、Facebook、Twitter 和其他一些常见的登录类型。您可以在此处查看文档。[https://www.firebase.com/docs/security/simple-login-overview.html](https://www.firebase.com/docs/security/simple-login-overview.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T07:27:45.763

你可以试试这个问题，它类似于[AngularJS 和 Firebase 身份验证](https://stackoverflow.com/questions/15000919/angularjs-and-firebase-authentication)，或者这个关于 Firebase 身份验证的教程，看起来相当简单。[教程](https://www.firebase.com/docs/security/simple-login-persona.html)

如果你仍然没有运气，我建议发布一些代码来显示你已经走了多远，我会看看我能做些什么来提供帮助。

# python - Python 替换 - 有窍门吗？替换“[%2C}”

> ID：15195694
> 
> 赞同：0
> 
> 时间：2013-03-04T06:19:53.410
> 
> 标签：python, csv, replace

我在 csv 文件中有一系列文本：

```
7858.35924983374[%2C]1703.69341358077[%2C]-3.075},7822.85045874375[%2C]1730.80294308742[%2C]-3.53962362760298} 
```

有没有技巧来替换 [%2C] ？

```
with open('C:\IM\C3D\CommonLibraries\unewuoxhwt5k.wi2.conduit', "rb") as fin, open('C:\IM\C3D\CommonLibraries\unewuoxhwt5k.wi2.conduit', "wb") as fout:
    reader = csv.reader(fin)
    writer = csv.writer(fout)
    for row in reader:
    new_row = []
    for item in row:
        new_row.append(item.replace('[%2C]', ','))
    print row, "->", new_row
    writer.writerow(new_row) 
```

现在我得到一个文件，但它是空的，我得到这个错误消息：

```
Traceback (most recent call last):
  File "<pyshell#6>", line 6, in <module>
    for item in row:
NameError: name 'row' is not defined 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T06:22:20.473

你可以做

```
In [47]: s.replace('[%2C]', ',')
Out[47]: '7858.35924983374,1703.69341358077,-3.075},7822.85045874375,1730.80294308742,-3.53962362760298}' 
```

尝试这个...

```
for row in row_reader:
    new_row = []
    for item in row:
        new_row.append(item.replace('[%2C]', ','))
    print row, "->", new_row
    row_writer.writerow(new_row) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-04T06:22:35.457

你想要[string.replace](http://docs.python.org/2/library/string.html#string.replace)。

```
val.replace('[%2C]', ',') 
```

编辑：

现在我了解了您的问题，我将更具描述性。首先，您要转换`[%2C]`为逗号，以便 csv 模块正确解析它。

所以就像我说的，你需要清理你的数据。

```
in_file = 'C:\IM\C3D\CommonLibraries\unewuoxhwt5k.wi2.conduit'
out_file = 'C:\IM\C3D\CommonLibraries\u2newuoxhwt5k.wi2.conduit.csv'
csv_outfile = 'C:\IM\C3D\CommonLibraries\u2newuoxhwt5k.wi2.conduit.csv.out'

with open(out_file, w) as outfile:
    with open(in_file) as infile:
        for line in infile:
            outfile.write(line.replace('[%2C]', ',')) 
```

现在您可以进行 CSV 解析：

```
reader = csv.reader(out_file)
writer = csv.writer(csv_outfile)
for row in reader:
    # do some processing on the row, which is a list of separated items
    new_row = row + ["another item"]
    writer.writerow(new_row) 
```

# ruby-on-rails - 耙中止！未初始化的常量 User::UserGroup

> ID：15195696
> 
> 赞同：0
> 
> 时间：2013-03-04T06:20:04.860
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ruby-on-rails-3.1, rake-task

我有一个奇怪的问题，我的 rake 任务在我的本地机器上运行，但不在生产中。在 PRODUCTION 中尝试相同时出现以下错误

> rake 中止！未初始化的常量 User::UserGroup

当我对其进行跟踪时，得到以下输出

> $ RAILS_ENV=production bundle exec rake billing:invoices --trace

```
** Invoke billing:invoices (first_time)
** Invoke environment (first_time)
** Execute environment
** Execute billing:invoices
Building invoices
rake aborted!
uninitialized constant User::UserGroup
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.0.11/lib/active_record/base.rb:1205:in `compute_type'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.0.11/lib/active_record/reflection.rb:162:in `klass'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.0.11/lib/active_record/associations.rb:2107:in `initialize'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.0.11/lib/active_record/associations.rb:1984:in `new'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.0.11/lib/active_record/associations.rb:1984:in `build_join_association'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.0.11/lib/active_record/associations.rb:1948:in `build'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.0.11/lib/active_record/associations.rb:1956:in `block in build'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.0.11/lib/active_record/associations.rb:1955:in `each'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.0.11/lib/active_record/associations.rb:1955:in `build'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.0.11/lib/active_record/associations.rb:1852:in `initialize'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.0.11/lib/active_record/relation/query_methods.rb:246:in `new'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.0.11/lib/active_record/relation/query_methods.rb:246:in `build_joins'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.0.11/lib/active_record/relation/query_methods.rb:176:in `build_arel'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.0.11/lib/active_record/relation/query_methods.rb:149:in `arel'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.0.11/lib/active_record/relation/batches.rb:51:in `find_in_batches'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/activerecord-3.0.11/lib/active_record/relation/batches.rb:20:in `find_each'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/rake-0.9.2.2/lib/rake/task.rb:205:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/rake-0.9.2.2/lib/rake/task.rb:205:in `block in execute'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/rake-0.9.2.2/lib/rake/task.rb:200:in `each'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/rake-0.9.2.2/lib/rake/task.rb:200:in `execute'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/rake-0.9.2.2/lib/rake/task.rb:158:in `block in invoke_with_call_chain'
/usr/local/rvm/rubies/ruby-1.9.3-p327/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/rake-0.9.2.2/lib/rake/task.rb:151:in `invoke_with_call_chain'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/rake-0.9.2.2/lib/rake/task.rb:144:in `invoke'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/rake-0.9.2.2/lib/rake/application.rb:116:in `invoke_task'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/rake-0.9.2.2/lib/rake/application.rb:94:in `block (2 levels) in top_level'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/rake-0.9.2.2/lib/rake/application.rb:94:in `each'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/rake-0.9.2.2/lib/rake/application.rb:94:in `block in top_level'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/rake-0.9.2.2/lib/rake/application.rb:133:in `standard_exception_handling'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/rake-0.9.2.2/lib/rake/application.rb:88:in `top_level'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/rake-0.9.2.2/lib/rake/application.rb:66:in `block in run'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/rake-0.9.2.2/lib/rake/application.rb:133:in `standard_exception_handling'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/rake-0.9.2.2/lib/rake/application.rb:63:in `run'
/usr/local/rvm/gems/ruby-1.9.3-p327/gems/rake-0.9.2.2/bin/rake:33:in `<top (required)>'
/usr/local/rvm/gems/ruby-1.9.3-p327/bin/rake:23:in `load'
/usr/local/rvm/gems/ruby-1.9.3-p327/bin/rake:23:in `<main>'
Tasks: TOP => billing:invoices 
```

奇怪的是它在我的本地机器上工作正常。有什么建议么 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-25T08:01:49.723

我的猜测是您刚刚添加了一个名为类似的迁移`20120221123456_users.rb`，并且在其中，您有：

```
class SomeNameThatsNotUsers < ActiveRecord::Migration
  ... 
```

当 Rails 执行迁移时，它希望执行定义类的文件，然后实例化该类，并在该类实例上调用 #up 或 #down。Rails 如何知道要实例化哪个类？它应该与文件名中数字前缀和下划线后面的部分相对应，因此对于像这样的文件名`20120221123456_users.rb`，类名必须是`Users`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T07:05:41.617

能不能把失败的rake任务源码放上来？

通常你需要写这样的东西（以避免遇到 AR 问题）：

desc "我的任务描述" task :my_task_name => :environment do # 任务代码在这里结束

# sequence - 使用连续移位的可能 4 位组合

> ID：15195698
> 
> 赞同：1
> 
> 时间：2013-03-04T06:20:08.637
> 
> 标签：sequence, shift, graph-traversal

我试图找出使用 4 位和连续移位的可能组合的数量。我有一组 4 个光传感器读取带有白色和黑色标记的纸条。我想弄清楚它的位置。

我需要知道不重复的唯一可能性的最大数量，我尝试手动计算但无法超过 14。如果可能的话，我想达到 16。

这是我的顺序：

```
0000
0001
0010
0100
1001
0011
0110
1101
1011
0111
1111
1110
1100
1000 
```

顺便说一句，我失踪`0101`了`1010`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:21:37.740

```
0000 0001 0011 0111 // 0 1 3 7
1111 1110 1100 1001 // F E C 9
0010 0101 1011 0110 // 2 5 B 6
1101 1010 0100 1000 // D A 4 8 
```

# backbone.js - Backbone：如何获取经过身份验证的用户数据

> ID：15195702
> 
> 赞同：0
> 
> 时间：2013-03-04T06:20:29.947
> 
> 标签：backbone.js, underscore.js, marionette

我正在使用 Backbone 和 Marionette。

我有一个定义的用户模型：

```
Users.User = Backbone.Model.extend({
    defaults: {
        short_name: '',
        full_name: ''
    }
}); 
```

我想在我的主干代码中轻松访问当前登录的用户数据。

我不确定是否：

1.  有一个从用户模型继承的单独模型（也许是 Users.AuthUser？？）

或者

1.  在 Users.User 模型中添加一个单独的函数，而不是返回一个 User 模型的实例，但包含登录的用户数据。

我也不确定如何检索当前登录的用户数据。

`http://example.com/me`我是否通过像JSON这样的端点 url 公开数据？

或者以某种方式主干可以访问会话数据？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T08:45:26.490

一般的经验法则是，如果`subclass`具有与父级无关的属性/方法，那么它应该被子类化。在我看来，这就是一个例子。

Backbone（只是一个 MVC JS 实现）无法访问您的会话数据。所以这需要通过 REST 请求提供。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T20:01:36.537

模型之间不共享数据。除非您需要在用户模型中为经过身份验证的用户提供特定功能，否则只需使用更多数据填充身份验证使用就足够了。

我这样做的方法是在`fetch()`方法中，确保我的模型与返回当前登录用户的 JSON 的端点通信。

为了为经过`urlRoot`身份验证的用户与其他用户定义不同，您需要有两个单独的模型。

PS，实际上我使用 socket.io 作为同步协议而不是 REST API，所以我只是为当前用户和联系人使用不同的事件名称进行同步。

# javascript - 具有多个来源的 iframe 加载时间，1 值总是不好

> ID：15195703
> 
> 赞同：0
> 
> 时间：2013-03-04T06:20:33.710
> 
> 标签：javascript

我有一个脚本女巫将 txt 文件中的 url 放入 iframe，然后检查每个源的加载时间。如果我的 txt 文件中有 4 个 url，我会得到 3 个结果，这对我来说已经足够了，但 1 个结果总是太短（说帧在 0,016 秒左右加载，而其他帧加载需要 1-4 秒）。如果我从列表中删除其他 url，只留下一个给出错误值的 URL，然后运行我的脚本 - 我会得到一个正常值（加载几秒钟）。

这是我正在谈论的脚本：

```
<script type="text/javascript">
   $.get("imones.txt", function (data) { 
       var array = data.split(/\r\n|\r|\n/); 
       var beforeloadingtime = (new Date()).getTime();
       var beforeTime = []; 
       beforeTime[0] = beforeloadingtime; 
       $.each(array, function (index, value) { 
           var jsonnuorodos = "http://anyorigin.com/get?url=" + array[index] + "&callback=?";
           $.getJSON(jsonnuorodos, function (data) { 
               var iframe = $("#frame_id")[0];
               var doc = iframe.document;
               if (iframe.contentDocument) { 
                   doc = iframe.contentDocument;
               } else if (iframe.contentWindow) {
                   doc = iframe.contentWindow.document;
               }
               doc.open();
               doc.writeln(data.contents); 
               doc.close(); 
               var loadingtime = (new Date()).getTime();
               beforeTime.push(loadingtime); 
               for (i = 0; i < array.length; i++) { 
                   var result; 
                   result = (beforeTime[i + 1] - beforeTime[i]) / 1000; 
                   $("#loadingtimediv" + i).html(result); 
               }
           });
       });
   });
</script> 
```

当我有多个 url 时，为什么在运行我的脚本时会得到这个不准确的结果？

编辑：我认为我的脚本实际上并没有等待 1 个 url 在添加下一个之前完全加载，这可能是我得到错误结果的原因吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:35:22.030

结果可能是准确的。浏览器通常会同时下载多个资源。没有理由假设文件将按顺序加载，甚至按您请求的顺序加载。（想象一下显示网页需要下载的所有不同文件：CSS、JS、图像、框架......）

如果你想确认，你的浏览器可能有网络调试。例如，在 Chrome 开发人员工具中有一个网络选项卡，它会告诉您来自服务器的请求和响应时间。

或者尝试记录 beforeloadingtime 和每次下载完成时间之间的差异，而不是一次下载与前一次下载之间的差异。

# iphone - 如何在没有私人图书馆的情况下在 iPhone 中获取 bssid？

> ID：15195704
> 
> 赞同：2
> 
> 时间：2013-03-04T06:20:35.253
> 
> 标签：iphone, ios, reachability, bssid

我需要为我的 iphone 应用程序获取 wifi 的 bssid 以确定它是否已连接。我该怎么做？

需要一些关于如何做到这一点的指导。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:21:26.900

[下面的答案是从这个答案](https://stackoverflow.com/a/5198968/552396)复制而来的。

在 iOS 4.1+ 上，您可以这样做：

```
#import <SystemConfiguration/CaptiveNetwork.h>

- (id)fetchSSIDInfo
{
    NSArray *ifs = (id)CNCopySupportedInterfaces();
    NSLog(@"%s: Supported interfaces: %@", __func__, ifs);
    id info = nil;
    for (NSString *ifnam in ifs) {
        info = (id)CNCopyCurrentNetworkInfo((CFStringRef)ifnam);
        NSLog(@"%s: %@ => %@", __func__, ifnam, info);
        if (info && [info count]) {
            break;
        }
        [info release];
    }
    [ifs release];
    return [info autorelease];
} 
```

示例输出：

```
2011-03-04 15:32:00.669 ShowSSID[4857:307] -[ShowSSIDAppDelegate fetchSSIDInfo]: Supported interfaces: (
    en0
)
2011-03-04 15:32:00.693 ShowSSID[4857:307] -[ShowSSIDAppDelegate fetchSSIDInfo]: en0 => {
    BSSID = "ca:fe:ca:fe:ca:fe";
    SSID = XXXX;
    SSIDDATA = <01234567 01234567 01234567>;
} 
```

请注意，模拟器不支持 if。在您的设备上进行测试。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-30T09:16:06.457

1.添加SystemConfiguration.framework

2.导入<SystemConfiguration/CaptiveNetwork.h>

3.使用以下方法

```
 +(NSString *)currentWifiBSSID {

            NSString *bssid = nil;
            NSArray *ifs = (__bridge_transfer id)CNCopySupportedInterfaces();
            for (NSString *ifnam in ifs) {
                NSDictionary *info = (__bridge_transfer id)CNCopyCurrentNetworkInfo((__bridge CFStringRef)ifnam);

                NSLog(@"info:%@",info);

                if (info[@"BSSID"]) {
                    bssid = info[@"BSSID"];
                }
            }
            return bssid;
        } 
```

希望这可以帮助

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T12:39:56.033

我是这样做的：

```
NSArray* interfaces = (NSArray*) CNCopySupportedInterfaces();

    for (NSString* interface in interfaces)
    {
        CFDictionaryRef networkDetails = CNCopyCurrentNetworkInfo((CFStringRef) interface);
        if (networkDetails)
        {
            NSLog(@"all details: %@", (NSDictionary *)networkDetails);
            NSLog(@"BSSID: %@", (NSString *)CFDictionaryGetValue (networkDetails, kCNNetworkInfoKeyBSSID));
            BSSID1 = (NSString *)CFDictionaryGetValue (networkDetails, kCNNetworkInfoKeyBSSID);
            BSSID = [[BSSID1 stringByReplacingOccurrencesOfString:@":"
                                                       withString:@""] uppercaseString];
            NSLog(@"%@",BSSID);

            CFRelease(networkDetails);
        }
    } 
```

# php - 如何在mysql中移动所有行来代替已删除的行

> ID：15195711
> 
> 赞同：-1
> 
> 时间：2013-03-04T06:21:19.087
> 
> 标签：php, mysql

在 mysql 在单个表中，我想删除特定行，并且剩余行必须与 id 一起代替该特定行......我该怎么做？

```
Id  Name             Title                 order_id     Delete
------------------------------------------------------------------
134 ravi luhar       asp.net developer     1            DELETE
135 ravi luhar       asp.net developer     2            DELETE 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T07:06:38.473

您可以使用 2 个查询进行处理。首先复制和更新第一行数据，然后删除第二行数据。

```
UPDATE users AS A
      LEFT JOIN users AS B ON B.id = 135
SET A.name = B.name 
     WHERE A.id = 134;

Delete from users where id=135; 
```

# visual-studio-2008 - VS2008远程连接Win Mobile 6.1设备

> ID：15195717
> 
> 赞同：3
> 
> 时间：2013-03-04T06:21:41.650
> 
> 标签：visual-studio-2008, windows-mobile

因此，我得到了一个 Windows Mobile 6.1 Classic Device 用于一个项目，但我得到了一个网络适配器，而不是 USB 电缆。所以我必须在网络上构建和测试。

那么如何让 Visual Studio 通过网络连接到设备呢？我已阅读以下文章无济于事：

*   [“如何：在没有 ActiveSync 的情况下连接到 Windows CE 设备”](http://msdn.microsoft.com/en-us/library/ms228708%28v=vs.90%29.aspx)

并且还看了：

*   [在此处输入链接描述](https://stackoverflow.com/questions/389238/windows-mobile-and-vs2008-cant-connect-to-device)

但两者都没有帮助我，我不确定接下来要尝试什么来尝试让 Visual Studio 08 远程连接到这个设备

我可以 ping 设备，但我无法连接到设备。我知道该设备已连接到网络，因为它在底座中时可以浏览互联网。

我缺少什么让这个工作？如果它可以在第一时间工作......

**编辑**：为了清楚起见，我目前遇到的问题与调试无关。它与 Visual 仅*连接*到设备有关。

**编辑 2**：如果有帮助，我的要连接的设备列表中没有 Windows Mobile 6.1 经典设备。我有;

*   Windows CE 设备
*   Windows Mobile 6 专业版设备
*   Windows Mobile 6 标准设备

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-04T10:12:16.850

## **如何在没有 ActiveSync/WMDC 的情况下使用 TCP/IP 将 Visual Studio 2008 连接到 SmartDevice**

## 远程文件

您需要以下 VS2008 Windows Mobile SDK 安装文件：

```
ClientShutdown.exe
cmaccept.EXE
ConManClient2.exe
eDbgTL.dll
TcpConnectionA.dll 
```

更改设备上的注册表项 HLKM\System\CoreConOverrideSecurity=DWORD:1

您需要的文件位于（取决于设备上的 Windows CE 版本）：

Windows CE 4.2、Windows CE .NET、Windows Mobile 2003、PocketPC 2003：C:\Program Files\Common Files\Microsoft Shared\CoreCon\1.0\target\wce400\armv4i

对于 Visual Studio 2008 和基于 Windows CE 5 的 SDK，您可以使用 ftp \hjgode.de\temp\rdb2008.exe 工具（在以下示例中使用）或原始[rdb2008.exe](http://www.turboirc.com/ppc/s5.htm)源。

**检查设备的IP**

![设备的 IP 地址](../Images/c01ac0f75f47d5b6bfe07d2c0b06b37b.png)

**在设备上启动 rdb2008.exe**

![设备上的 rdb2008](../Images/ee5f88494e7f5cc5ca81fac31bb01876.png)

**在 rdb2008 中按 [Prepare] 将提取文件并设置 reg 条目

![rdb 准备好了](../Images/2ccf277c8b5adcd36f5ebe2ae629f66e.png)

## 准备VS2008

确保您使用匹配的 Windows Mobile SDK。您也可以在 Windows Mobile 6.5 Classic 设备上使用 Windows Mobile 6.5 Professional SDK。或者，您将 Window Mobile 6 SDK 与 Windows Mobile 6.5 Classic 设备一起使用。只需为设备使用适当的 SDK。

**设置VS2008远程设备IP和端口**

选择工具-选项-设备工具-设备

![在此处输入图像描述](../Images/b183f67071c1780ee05689b48b775714.png) 在此处选择合适的平台（显示平台设备）！但如前所述，匹配基本操作系统（Windows CE 5）就足够了。

选择正确的平台后，选择一个设备（无仿真器），然后单击 [另存为] ![在此处输入图像描述](../Images/d447bd7f6f4125d135ea041322273e6f.png) 输入 RemoteDebug 作为新名称。

现在在设备中选择新的 RemoteDebug 保存条目... ![在此处输入图像描述](../Images/d80e82953d5bc4eb8c3ae6a2a9b3c8b3.png)

...并单击[属性]： ![在此处输入图像描述](../Images/11c18753f6c7219e585cda8d50303edb.png)

现在输入文件部署目录（此处为：“\Program Files”）。确保 Transport 是“TCP Connect Transport”，然后单击 [Properties] ![在此处输入图像描述](../Images/112d6adfc85bd45d1af67956a357dd78.png)

确保使用固定端口 5655，然后输入远程设备的 IP 地址！

现在使用 [OK] 按钮关闭所有这些选项对话框。

## 测试连接

在 VS2008 中确保平台和设备处于活动状态： ![在此处输入图像描述](../Images/7398e61bf542e85ab0b12f7e79fa33fd.png)

现在单击 VS2008 菜单中的工具，然后单击“连接到设备” ![在此处输入图像描述](../Images/54a52402faef99e704cbedcc20fb295f.png)

再次检查平台和设备，不要点击[连接]： ![在此处输入图像描述](../Images/c68c71083b5a0ce845e0d508e55b2e3b.png)

现在在设备上：在 rdb2008 中单击 [开始]： ![在此处输入图像描述](../Images/ba001fc2675bb003d14c4b3a43f69293.png)

你看rdb2008说监听5655端口！

现在点击VS2008中的【连接】： ![在此处输入图像描述](../Images/1ba56d41b1852da0b793e1dd5c62d34d.png)

希望您得到上述对话框并继续进行另一次测试。单击[关闭]。

在 VS2008 中选择 Debug-Attach 来处理： ![在此处输入图像描述](../Images/52a61cb57880dfd367fbc4d35ef94fd2.png)

选择 Transport=SmartDevice 并单击 Califier:[Browse] 并再次选择使用的平台和设备“RemoteDebug”： ![在此处输入图像描述](../Images/b94501f7d211ccd28dec4b6b9a02b043.png)

如果成功，您将看到设备上正在运行的进程列表。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T07:00:42.453

您可以在不使用 ActiveSync/WMDC 连接的情况下使用远程部署和调试。

**手动设置**

首先，您必须将一些文件复制到您的设备上：

```
ConmanClient2.exe
CMAccept.exe
eDbgTL.dll
TcpConnectionA.dll 
```

可以在此处找到这些文件：C:\Program Files\Common Files\Microsoft Shared\CoreCon\1.0\target\wce400\armv4i。将 Windows Mobile 6.x 设备的 wce400 更改为 wce500。

要允许设备上的远程调试连接，您必须在设备上启动*ConnmanClient2.exe*，然后启动*CMAccept.exe*。

**Visual Studio 设置**

打开菜单工具-选项并导航到设备工具-设备。为您的 Windows 移动设备选择平台，然后选择设备条目。单击 [Copy] 为您的设备创建一个新条目并将其命名，例如 RemoteDebug。选择新的 RemoteDebug 条目并单击 [Properties]。通常所有设备都使用 ActiveSync 设置。我们将切换到 TCP/IP 设置。在 RemoteDebug 的属性对话框中选择 Transport=TCP Connect Transport。单击[配置] 在配置 TCP/IP 传输对话框中选择选项“使用特定 IP 地址”并输入设备的 IP 地址。然后单击 [确定] 按钮关闭 VS 对话框。

现在，您可以使用固定 IP 地址而不是 ActiveSync 从 Visual Studio 开始部署和调试。

**笔记**

请注意，您必须在设备上启动 ConnManClient2 和 CMAccept 后的一段时间内开始部署和/或调试。

**自动设备端设置**

我可以在当天晚些时候提供设备端文件的自动安装。

**在设备上下载/上传文件**

您可以使用存储卡或通过在网络中的 Web 服务器上提供（单个或作为 cab）复制或下载设备端远程调试器文件，您可以使用设备浏览并下载这些文件。

[资料](http://msdn.microsoft.com/en-us/library/ms228708%28v=vs.80%29.aspx)[来源](http://www.codeproject.com/Articles/205617/Debugging-Managed-Applications-in-Windows-CE-Devic)_

# java - IOException：运行 Android 应用程序时管道损坏

> ID：15195718
> 
> 赞同：5
> 
> 时间：2013-03-04T06:21:43.283
> 
> 标签：java, android

当尝试从 Eclipse 运行我的 Android 应用程序时，我在控制台中收到此错误：

```
 [2013-03-04 14:19:05 - ddmlib] Broken pipe
    java.io.IOException: Broken pipe
        at sun.nio.ch.FileDispatcherImpl.write0(Native Method)
        at sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:47)
        at sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:89)
        at sun.nio.ch.IOUtil.write(IOUtil.java:60)
        at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:450)
        at com.android.ddmlib.JdwpPacket.writeAndConsume(JdwpPacket.java:213)
        at com.android.ddmlib.Client.sendAndConsume(Client.java:605)
        at com.android.ddmlib.HandleHeap.sendREAQ(HandleHeap.java:348)
        at com.android.ddmlib.Client.requestAllocationStatus(Client.java:451)
        at com.android.ddmlib.DeviceMonitor.createClient(DeviceMonitor.java:837)
        at com.android.ddmlib.DeviceMonitor.openClient(DeviceMonitor.java:805)
        at com.android.ddmlib.DeviceMonitor.processIncomingJdwpData(DeviceMonitor.java:765)
        at com.android.ddmlib.DeviceMonitor.deviceClientMonitorLoop(DeviceMonitor.java:652)
        at com.android.ddmlib.DeviceMonitor.access$100(DeviceMonitor.java:44)
        at com.android.ddmlib.DeviceMonitor$3.run(DeviceMonitor.java:580) 
```

我该如何解决这种错误？

当我这样做时`adb connect <IP_ADDRESS>`，它显示连接到 192.168.0.109:5555

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-04T06:31:45.263

这个错误通常是由于 eclipse 和你的模拟器之间的 IO 管道被破坏造成的。如果它不会在您的应用程序中造成任何问题，您通常不需要担心这一点。另请参阅[此线程](https://stackoverflow.com/q/11065509/1369222)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-01-28T13:21:03.023

在 win7 上使用 GenyMotion I

1.打开Oracle VM VirtualBox Manager；

2.从菜单中选择 File -> Preferences...；

3.在打开的窗口切换到网络；

4.右边有三个图标，最下面的标签是'Edit host-only network(Space)'，点击它；

5.新窗口打开；

6.检查您的“IPv4 地址”（适配器选项卡）是否介于“下限地址绑定”和“上限地址绑定”（DHCP 服务器选项卡）之间；

7.如果不是，则使其介于两者之间；

8.如果是，则更改“IPv4地址”地址：例如，如果旧地址是192.168.112.104，则将其更改为192.168.112.105；

9.在打开的窗口上单击确定按钮；

10.尝试您的虚拟设备是否再次工作。

在此之前，我还会在 TaskManager 中关闭所有与 Virtual* 或 Virt* 相关的进程。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-09T23:20:39.447

您只能关闭当前正在运行的模拟器，然后从您正在使用的 IDE 中启动一个新的模拟器，例如 eclipse.. runa as.. Android 应用程序。而已。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-07-19T08:44:13.680

在设备上 下拉通知栏 选择 USB 进行充电 选择使用 USB 进行文件传输

然后将其改回选择使用USB进行充电

- 此外，有时切换电缆或 USB 端口也会有所帮助。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-01-25T06:45:31.560

尝试更换 USB 电缆。我的 USB 数据线稍有损坏，它可以完美地为手机充电，但在运行任何应用程序时都会出现此错误。

# aspnet-regiis.exe - Windows 2008 R2 需要执行 aspnet_regiis -i

> ID：15195719
> 
> 赞同：0
> 
> 时间：2013-03-04T06:21:51.353
> 
> 标签：aspnet-regiis.exe

我收到错误：

`HTTP Error 500.21 when trying to host an ASP.NET web app with IIS 7`.

在我的 Windows Server 2008 R2 机器中，我在服务器管理器的 Web 服务器（IIS）部分添加了 asp.net 角色。

执行命令后： `aspnet_regiis.exe -i`错误消失了。

有人可以解释为什么我需要再次执行命令吗？为什么从服务器管理器添加 Asp .net 的角色还不够？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-14T14:46:52.873

您可能安装了 .NET 框架，而 IIS 不知道该框架。您有时需要运行该实用程序来向 IIS 注册 .NET 框架。IIS6 和 .NET 尤其如此。

# mysql - 如何选择 1 个月内未访问的 url？

> ID：15195731
> 
> 赞同：1
> 
> 时间：2013-03-04T06:22:34.933
> 
> 标签：mysql

我有一个两列表。一列包含 VARCHAR 类型的 url，另一列包含 DATE 类型的日期。

如何选择 1 个月内未访问的 url？

例如，如果这是我的数据

```
url         date
google.com  2/2/2013
yahoo.com   2/2/2013
google.com  3/2/2013 
```

选择语句应该返回`yahoo.com`，因为该 url 超过 1 个月没有被访问过

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-04T06:38:46.267

尝试：

```
SELECT a1.url 
FROM accesses AS a1
WHERE a1.url NOT IN (
  SELECT a2.url 
  FROM accesses AS a2
  WHERE a2.access >= DATE_SUB(NOW(), INTERVAL 1 MONTH)
); 
```

这与丹尼贝克特的回答相反。

[http://sqlfiddle.com/#!2/db7aa/4](http://sqlfiddle.com/#!2/db7aa/4)

# java - java - 如何检查java正则表达式中的多行文本？

> ID：15195733
> 
> 赞同：1
> 
> 时间：2013-03-04T06:22:35.543
> 
> 标签：java, regex

我想检查 Java 正则表达式中的多行文本。但它总是显示错误的结果。谁能解释我为什么？

例如：

```
11  12
11  12
11  12 
```

为了测试这些行，我使用`11 12\r?\n+`. 它在 rubular 正则表达式检查器中运行良好，但在[http://www.regexplanet.com/advanced/java/index.html](http://www.regexplanet.com/advanced/java/index.html)中失败。我尝试过的另一种选择是`(11 12.\r?\n){3,7}`，它在 rubular regex 检查中运行良好，但在 regexplanet Java 中失败。谁能告诉我如何检查这种具有重复模式的正则表达式？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T06:36:11.500

```
11 12\r?\n+ 
```

匹配`11 12`，后跟一个可选的回车符，然后是一个或多个换行符（没有回车符）。这显然不是你想要的。

```
(11 12.\r?\n){3,7} 
```

匹配`11 12`，后跟一个除换行符以外的附加字符，后跟可选的 CR 和换行符；所有这些都重复 3 到 7 次。所以这里的点是错误的。改用这个：

```
(11 12\r?\n){3,7} 
```

最后，请注意，由于字符串转义规则，您通常需要在 Java 正则表达式中使用双反斜杠（尽管在这种特殊情况下，您会没事的，因为`\r`并且`\n`碰巧也可以用作字符串转义）：

```
Pattern regex = Pattern.compile("(11 12\r?\n){3,7}");  // works the same as
Pattern regex = Pattern.compile("(11 12\\r?\\n){3,7}"); 
```

# eclipse - Hadoop eclipse mapreduce 不工作？

> ID：15195734
> 
> 赞同：0
> 
> 时间：2013-03-04T06:22:41.390
> 
> 标签：eclipse, hadoop, eclipse-plugin, hadoop-plugins

我刚刚复制`hadoop-eclipse-plugin-1.0.3.jar`到 eclipse/plugins 目录以使事情顺利进行。但不幸的是，它对我不起作用。当我尝试将 eclipse 连接到我的*Hadoop 1.1.1 版*集群时，它抛出了这个错误：

```
An internal error occurred during: "Map/Reduce location status updater". org/codehaus/jackson/map/JsonMappingException 
```

有没有办法解决这个问题？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-18T11:24:46.187

**只需按照以下步骤操作**：

1-转到您的`HADOOP_HOME/contrib`文件夹。复制`hadoop-eclipse-plugin-*.jar`某处并提取它。这将给出一个名为`hadoop-eclipse-plugin-*`

2- 现在，从您的 HADOOP_HOME/lib 文件夹中添加以下 5 个 jars 到 hadoop-eclipse-plugin-*/lib 文件夹，您在提取插件后刚刚得到：

```
commons-configuration-1.6.jar
commons-httpclient-3.0.1.jar
commons-lang-2.4.jar
jackson-core-asl-1.0.1.jar
jackson-mapper-asl-1.0.1.jar 
```

3-现在，修改`hadoop-eclipse-plugin-*/META-INF/MANIFEST.MF`文件并将Bundle-ClassPath更改为：Bundle-ClassPath：classes /，

```
lib / hadoop-core.jar, 
lib/commons-cli-1.2.jar,
lib/commons-httpclient-3.0.1.jar, 
lib/jackson-core-asl-1.0.1.jar , 
lib/jackson-mapper-asl-1.0.1.jar, 
lib/commons-configuration-1.6.jar, 
lib/commons-lang-2.4.jar 
```

4- 现在，重新“jar”包并将这个新 jar 放在 eclipse/plugin 目录中并重新启动 eclipse。

并检查[此](https://mtariq.jux.com/goinggeek/797614)链接。

# java - 线程实例新旧java

> ID：15195735
> 
> 赞同：3
> 
> 时间：2013-03-04T06:22:42.843
> 
> 标签：java, multithreading, synchronization, instance

我正在学习 java 线程（同步和锁），但不知何故我无法找到这两件事之间的区别。

```
// Two different instances of SyncExample
Thread a1 = new Thread(new SyncExample(), "A");
Thread b1 = new Thread(new SyncExample(), "B");

// Same instance is passed to both the threads
SyncExample syn = new SyncExample();
Thread a2 = new Thread(syn, "A");
Thread b2 = new Thread(syn, "B");

// I believe in total 4 stacks are built.
a1.start();
b1.start();

a2.start();
b2.start();

public class SyncExample implements Runnable {

    Object obj = new Object();

    @Override
    public void run() {

        this.myName();
    }

    private void myName() {

        synchronized (obj) {
            System.out.print("Define" + Thread.currentThread().getName());
            try {
                Thread.sleep(500);
            } catch (InterruptedException ex) {
                System.out.println(ex);
            }
            System.out.print("tly" + Thread.currentThread().getName());
        }
        System.out.println(" Maybe" + Thread.currentThread().getName());
    }
}

public class SyncExample implements Runnable {

    Object obj = new Object();

    @Override
    public void run() {

        this.myName();
    }

    private void myName() {

        synchronized (obj) {
            System.out.print("Define" + Thread.currentThread().getName());
            try {
                Thread.sleep(500);
            } catch (InterruptedException ex) {
                System.out.println(ex);
            }
            System.out.print("tly" + Thread.currentThread().getName());
        }
        System.out.println(" Maybe" + Thread.currentThread().getName());
    }
} 
```

但这里的问题是当我使用

1 - 相同的参考输出是：

```
DefineAtlyA MaybeA
DefineBtlyB MaybeB 
```

2 - 2 个不同的实例：

```
DefineADefineBtlyAtlyB MaybeB
 MaybeA 
```

谁能解释一下当我们将可运行目标传递给线程类 1\. 相同实例 2\. 不同实例时有什么不同

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T07:36:42.600

在您的代码中，当您传递两个不同的实例（`SyncExample`类）时，每个实例都有自己的锁对象（由变量持有`obj`）。由于有两个不同的锁对象，每个线程获取一个锁并并行执行，导致线程 A 和 B ( `DefineADefineBtlyAtlyB MaybeB MaybeA`) 的交错输出。

而当你传递同一个实例时，只有一个`SyncExample`类实例。结果，只有一个锁对象实例（由变量持有`obj`）。因此这个锁对象将在两个线程之间共享。由于这种共享，只有一个线程（比如 T1）能够进入同步块；另一个线程（比如 T2）会等到 T1 存在同步块。因此，在您的执行中，您首先会看到线程 A 的所有打印语句，然后是线程 B ( `DefineAtlyA MaybeA DefineBtlyB MaybeB`) 的所有语句。

如果我概括一下：当您传递不同的实例时，只有静态变量会影响线程的并行执行，但是当您传递单个实例时，静态和类级别的变量（例如`obj`代码中的变量）都会影响线程的并行执行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T06:27:22.137

输出应该提示您不同之处。

当您将相同的内容传递`SyncExample`给两个不同的线程时，其中只有一个能够获得锁定并在块`obj`中执行代码。`synchronized`

当您传入两个不同`SyncExample`的对象时，两个线程都能够同时执行，因为它们在不同的对象上同步。

# c++ - 需要调试一个用VS2010编写的dll文件来捕获异常

> ID：15195736
> 
> 赞同：0
> 
> 时间：2013-03-04T06:22:57.027
> 
> 标签：c++, boost, dll

我目前有一个 C++ dll 文件（内置于 Vs2010），其中导出的方法已在 .def 文件中定义。我在 C# 应用程序中使用此 dll 的方法，使用以下语法

```
 [DllImport("C:\\Filename.dll")]
    public static extern int SomeMethod(int par_a , int par_b); 
```

在对方法进行一些更改后，我通过 C# 应用程序从 dll 文件中收到调试断言错误。弹出的错误窗口只弹出一秒钟左右，因此我无法获取错误的详细信息。有什么方法可以让我找出这个异常是如何以及为什么发生的。我的 dll 文件通常会记录错误，在这种情况下它什么也没做。有没有办法在我的 dll 文件中插入断点？

# android - Android模拟器设备未启动

> ID：15195739
> 
> 赞同：0
> 
> 时间：2013-03-04T06:23:07.070
> 
> 标签：android, android-emulator

当我尝试启动模拟器时，它显示此错误...尽管两天前一切正常...甚至

```
[2013-03-04 11:35:28 - h m s] Android Launch!
[2013-03-04 11:35:28 - h m s] a d b is running normally.
[2013-03-04 11:35:28 - h m s] Performing com.my.Intro activity launch
[2013-03-04 11:35:28 - h ms] Automatic Target Mode: launching new emulator with compatible A V D 'Mobile'
[2013-03-04 11:35:28 - h ms] Launching a new emulator with Virtual Device 'Mobile'
[2013-03-04 11:36:14 - Emulator] N AND: could not write file C:\`D O C U M E~1\R I TI K A~1.PAN\LOCALS~1\Temp\\A n d r o i d E m u l a t o r\TMP3E.t mp, No space left on device 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T11:43:26.543

关闭所有模拟器。

打开命令提示符，导航到 android sdk >tools > 文件夹。然后

键入以下命令。

模拟器 -avd **My_Avd_Name**。

这里**My_Avd_Name**是您需要显示的 avd 的名称（已存在于我们的 AVD 管理器列表中）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:24:43.480

尝试这个 -

```
run -> run configurations -> choose your run config -> Target ->Additional Emulator Command Line Options : -partition-size 512 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T06:31:28.980

在 Eclipse 中转到窗口-> android 虚拟设备管理器-> 编辑 avd 并增加 RAM 大小或者如果您使用任何其他 IDE，只需增加 Emulator 的 RAM 大小

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-04T06:32:35.137

在虚拟管理器中创建新的 avd，然后重试。将内存大小设置为 256，然后重试。或在命令提示符下试试这个

```
 android list avd
    emulator -avd My_Avd_Name -wipe-data 
```

或在 Eclipse 运行 -> 运行配置 -> 选择你的运行配置 -> 目标 -> 附加仿真器命令行选项：-partition-size 512

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-07-08T03:53:50.497

请检查您的 C 盘是否还有剩余空间。因为清楚地按照痕迹，

> ***无法写入文件 C:`DOCUME~1\RI TI KA~1.PAN\LOCALS~1\Temp\A ndroid E mulator\TMP3E.t mp，设备上没有剩余空间***

所以清理一些磁盘内存，然后再试一次。

# spring - Spring bean 创建顺序，混合@Configuration 和@ImportResource

> ID：15195741
> 
> 赞同：2
> 
> 时间：2013-03-04T06:23:10.553
> 
> 标签：spring

我通过 XML 向系统部署者公开一些配置，并将其余配置保存在配置 bean 中。

我的一些 bean 依赖于 XML 文件中的 bean。但似乎 Spring 无法解决这种依赖关系。

主要配置类：

```
@Configuration
@Import({FeatureTogglesConfig.class, LanguagesConfig.class ... } 
```

FeatureTogglesConfig 类：

```
@Configuration
@ImportResource(value = "classpath*:**/features-config.xml")
public class FeatureTogglesConfig {

} 
```

这将读取 XML 文件以创建...：

```
<bean id="featureManager" class="toggles.FeatureManager">
    <constructor-arg>
        <set value-type="toggles.Feature">
            <value>FAKE_LANGUAGES</value>
        </set>
    </constructor-arg>
</bean> 
```

FAKE_LANGUAGES 是一个枚举值。它需要 FeatureManager 自动装配：

```
public enum Feature {

    FAKE_LANGUAGES;

    @Autowired
    private FeatureManager manager;

    public boolean isActive() {
        return manager.isActive(this);
    } 
```

LanguagesConfig 以需要设置特性管理器的方式使用枚举：

```
@Bean(name = "fake-latin-language-group")
public FakeLatinLanguageGroup fakeLatinLanguageGroup() {
    return if FAKE_LANGUAGES.isActive() ? new FakeLatinLanguageGroup() : ... ;
} 
```

但是，LanguagesConfig 的加载会抛出一个`NullPointerException`因为`manager`为空。Spring 无法识别依赖关系并将管理器连接起来。

我试图用 annotation 解决这个问题`@DependsOn("featureManager")`，但后来它抱怨说没有这样的 bean。

所以似乎@Configuration bean 优先于@ImportResource 指令，我不能在两者之间建立依赖关系。那正确吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T10:41:21.520

枚举值是由 Spring 容器控制之外的类加载器创建的，因此`@Autowired`管理器字段上的注释被忽略。您可以通过将字段的类型更改为明显错误的类型（例如简单地更改为 Object）来验证这一点，并看到 Spring 上下文被初始化而没有任何问题，这将证明它根本不关心它。

# xml - 新的现有扩展未安装在 magento 中

> ID：15195744
> 
> 赞同：0
> 
> 时间：2013-03-04T06:23:26.720
> 
> 标签：xml, magento-1.7

我有一个错误，那个时候会出现错误，新的现有扩展在 magento 中添加那个时间错误来致命错误：调用 C:\wamp\www\magento\downloader\lib\Mage\Xml 中的未定义方法 domdocument::loadXML() \Parser.php 在第 111 行我有代码错误代码，我在该显示中显示的代码

```
 public function loadXML($string)
{
    $this->getDom()->loadXML($string);
    return $this;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-11T05:36:43.173

然后尝试使用此站点手动安装扩展，只需在此处粘贴密钥并下载

[http://freegento.com/ddl-magento-extension.php](http://freegento.com/ddl-magento-extension.php)

它会为你工作

# mysql - 减法返回空值mysql

> ID：15195747
> 
> 赞同：4
> 
> 时间：2013-03-04T06:23:41.707
> 
> 标签：mysql, sql, sql-update

```
UPDATE student as s
LEFT JOIN takes as t 
     ON s.ID = t.ID
LEFT JOIN course as c 
     ON t.course_id = c.course_id
SET s.tot_cred = s.tot_cred - c.credits
WHERE t.grade = 'F' OR t.grade IS NULL 
```

我试图通过减去学生失败的任何课程的学分值来更新学生中的 tot_cred，成绩关系 = 'F'，或当前正在学习，成绩关系为空。

然而，上面的查询将任何符合此条件的学生的 tot_cred 设置为 NULL，我不知道为什么。

如果之前有人问过这个问题，我深表歉意，我试图搜索相关的内容，但找不到与减法相关的许多问题。我是stackoverflow的新手。谢谢大家的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-04T06:34:12.263

您可以像@JW 回答一样使用[COALESCE ，或者使用](http://dev.mysql.com/doc/refman/5.0/en/comparison-operators.html#function_coalesce)[IFNULL](http://dev.mysql.com/doc/refman/5.0/en/control-flow-functions.html#function_ifnull)：

```
UPDATE student as s
LEFT JOIN takes as t 
     ON s.ID = t.ID
LEFT JOIN course as c 
     ON t.course_id = c.course_id
SET s.tot_cred = s.tot_cred - IFNULL(c.credits, 0)
WHERE t.grade = 'F' OR t.grade IS NULL 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-04T06:25:34.383

添加`COALESCE`_`c.credits`

```
set s.tot_cred = s.tot_cred - COALESCE(c.credits,0) 
```

# php - 使用正则表达式缩小/压缩 CSS？

> ID：15195750
> 
> 赞同：28
> 
> 时间：2013-03-04T06:24:22.660
> 
> 标签：php, css, regex, pcre, minify

在 PHP 中，您可以使用正则表达式 (PCRE) 压缩/缩小 CSS 吗？

（作为正则表达式的理论。我确信那里有图书馆可以很好地做到这一点。）

[背景说明：花了几个小时写了一个[已删除（半废话）问题](https://stackoverflow.com/questions/15186425/string-replacement-fails-with-important)的答案后，我想我会发布一部分基础问题并自己回答。希望没事。]

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2013-03-04T06:24:22.660

# 简单的正则表达式 CSS 缩小器/压缩器

（好吧，它可能不是太简单，但非常简单。）

## 要求

这个答案假设要求是：

*   删除评论
*   用单个空格替换超过 1 个空格的空格组合
*   删除元字符周围的所有空格：`{`, `}`, `;`, `,`, `>`, `~`, `+`,`-`
*   去掉周围的空格`!important`
*   删除 周围的空格`:`，除了选择器（你必须在它之前保留一个空格）
*   删除运算符周围的空格，例如`$=`
*   删除 / 右侧和/`(`左侧`[`的所有空格`)``]`
*   删除字符串开头和结尾的所有空格
*   删除`;`块中的最后一个
*   不要更改字符串中的任何内容
*   不必处理无效的 CSS

请注意，此处的要求不包括将 CSS 属性转换为较短的版本（例如使用速记属性而不是几个全长属性，在不需要的地方删除引号）。这是正则表达式通常无法解决的问题。

## 解决方案

分两遍解决这个问题更容易：首先删除评论，然后删除其他所有内容。

应该可以一次性完成，但是您必须将 all 替换`\s`为同时匹配空格和注释的表达式（以及其他一些修改）。

删除评论的第一遍表达式：

```
(?xs)
  # quotes
  (
    "(?:[^"\\]++|\\.)*+"
  | '(?:[^'\\]++|\\.)*+'
  )
|
  # comments
  /\* (?> .*? \*/ ) 
```

替换为`$1`。

并删除您可以使用的所有其他内容：

```
(?six)
  # quotes
  (
    "(?:[^"\\]++|\\.)*+"
  | '(?:[^'\\]++|\\.)*+'
  )
|
  # ; before } (and the spaces after it while we're here)
  \s*+ ; \s*+ ( } ) \s*+
|
  # all spaces around meta chars/operators
  \s*+ ( [*$~^|]?+= | [{};,>~+-] | !important\b ) \s*+
|
  # spaces right of ( [ :
  ( [[(:] ) \s++
|
  # spaces left of ) ]
  \s++ ( [])] )
|
  # spaces left (and right) of :
  \s++ ( : ) \s*+
  # but not in selectors: not followed by a {
  (?!
    (?>
      [^{}"']++
    | "(?:[^"\\]++|\\.)*+"
    | '(?:[^'\\]++|\\.)*+' 
    )*+
    {
  )
|
  # spaces at beginning/end of string
  ^ \s++ | \s++ \z
|
  # double spaces to single
  (\s)\s+ 
```

替换为`$1$2$3$4$5$6$7`。

与正确的解析器相比，选择器检查之前删除空格`:`（负前瞻）可以减慢速度。解析器已经知道它们是否在选择器中，并且不必进行额外的搜索来检查它。

## PHP 中的示例实现

```
function minify_css($str){
    # remove comments first (simplifies the other regex)
    $re1 = <<<'EOS'
(?sx)
  # quotes
  (
    "(?:[^"\\]++|\\.)*+"
  | '(?:[^'\\]++|\\.)*+'
  )
|
  # comments
  /\* (?> .*? \*/ )
EOS;

    $re2 = <<<'EOS'
(?six)
  # quotes
  (
    "(?:[^"\\]++|\\.)*+"
  | '(?:[^'\\]++|\\.)*+'
  )
|
  # ; before } (and the spaces after it while we're here)
  \s*+ ; \s*+ ( } ) \s*+
|
  # all spaces around meta chars/operators
  \s*+ ( [*$~^|]?+= | [{};,>~+-] | !important\b ) \s*+
|
  # spaces right of ( [ :
  ( [[(:] ) \s++
|
  # spaces left of ) ]
  \s++ ( [])] )
|
  # spaces left (and right) of :
  \s++ ( : ) \s*+
  # but not in selectors: not followed by a {
  (?!
    (?>
      [^{}"']++
    | "(?:[^"\\]++|\\.)*+"
    | '(?:[^'\\]++|\\.)*+' 
    )*+
    {
  )
|
  # spaces at beginning/end of string
  ^ \s++ | \s++ \z
|
  # double spaces to single
  (\s)\s+
EOS;

    $str = preg_replace("%$re1%", '$1', $str);
    return preg_replace("%$re2%", '$1$2$3$4$5$6$7', $str);
} 
```

## 快速测试

可以[在 ideone.com](http://ideone.com/Q5USEF)上找到：

```
$in = <<<'EOS'

p * i ,  html   
/* remove spaces */

/* " comments have no escapes \*/
body/* keep */ /* space */p,
p  [ remove ~= " spaces  " ]  :nth-child( 3 + 2n )  >  b span   i  ,   div::after

{
  /* comment */
    background :  url(  "  /* string */  " )   blue  !important ;
        content  :  " escapes \" allowed \\" ;
      width: calc( 100% - 3em + 5px ) ;
  margin-top : 0;
  margin-bottom : 0;
  margin-left : 10px;
  margin-right : 10px;
}

EOS;

$out = minify_css($in);

echo "input:\n";
var_dump($in);

echo "\n\n";
echo "output:\n";
var_dump($out); 
```

输出：

```
input:
string(435) "
p * i ,  html   
/* remove spaces */

/* " comments have no escapes \*/
body/* keep */ /* space */p,
p  [ remove ~= " spaces  " ]  :nth-child( 3 + 2n )  >  b span   i  ,   div::after

{
  /* comment */
    background :  url(  "  /* string */  " )   blue  !important ;
    content  :  " escapes \" allowed \\" ;
      width: calc( 100% - 3em + 5px ) ;
  margin-top : 0;
  margin-bottom : 0;
  margin-left : 10px;
  margin-right : 10px;
}
"

output:
string(251) "p * i,html body p,p [remove~=" spaces  "] :nth-child(3+2n)>b span i,div::after{background:url("  /* string */  ") blue!important;content:" escapes \" allowed \\";width:calc(100%-3em+5px);margin-top:0;margin-bottom:0;margin-left:10px;margin-right:10px}" 
```

## 比较的

### cssminifier.com

与上述测试相同输入的[cssminifier.com](http://www.cssminifier.com/)的结果：

```
p * i,html /*\*/body/**/p,p [remove ~= " spaces  "] :nth-child(3+2n)>b span i,div::after{background:url("  /* string */  ") blue;content:" escapes \" allowed \\";width:calc(100% - 3em+5px);margin-top:0;margin-bottom:0;margin-left:10px;margin-right:10px} 
```

长度 263 字节。比上面的正则表达式压缩器的输出长 12 个字节。

与这个正则表达式缩小器相比，[cssminifier.com有一些缺点：](http://www.cssminifier.com/)

*   它留下了部分评论。（这可能是有原因的。也许是一些 CSS hack。）
*   它不会删除某些表达式中运算符周围的空格

### CSSTidy

[CSSTidy 1.3](http://csstidy.sourceforge.net/)的输出（通过[codebeautifier.com](http://www.codebeautifier.com)）在最高压缩级别预设：

```
p * i,html /* remove spaces */
/* " comments have no escapes \*/
body/* keep */ /* space */p,p [ remove ~= " spaces " ] :nth-child( 3 + 2n ) > b span i,div::after{background:url("  /* string */  ") blue!important;content:" escapes \" allowed \\";width:calc(100%-3em+5px);margin:0 10px;} 
```

长度 286 字节。比正则表达式压缩器的输出长 35 个字节。

CSSTidy 不会删除某些选择器中的注释或空格。但它确实缩小为速记属性。后者可能有助于更多地压缩普通 CSS。

### 并排比较

对于与上述示例中相同的输入，来自不同缩小器的缩小输出。（剩余的换行符替换为空格。）

```
this answern    (251): p * i,html body p,p [remove~=" spaces  "] :nth-child(3+2n)>b span i,div::after{background:url("  /* string */  ") blue!important;content:" escapes \" allowed \\";width:calc(100%-3em+5px);margin-top:0;margin-bottom:0;margin-left:10px;margin-right:10px}
cssminifier.com (263): p * i,html /*\*/body/**/p,p [remove ~= " spaces  "] :nth-child(3+2n)>b span i,div::after{background:url("  /* string */  ") blue!important;content:" escapes \" allowed \\";width:calc(100% - 3em+5px);margin-top:0;margin-bottom:0;margin-left:10px;margin-right:10px}
CSSTidy 1.3     (286): p * i,html /* remove spaces */ /* " comments have no escapes \*/ body/* keep */ /* space */p,p [ remove ~= " spaces " ] :nth-child( 3 + 2n ) > b span i,div::after{background:url("  /* string */  ") blue!important;content:" escapes \" allowed \\";width:calc(100%-3em+5px);margin:0 10px;} 
```

对于普通的 CSS，CSSTidy 可能是最好的，因为它可以转换为速记属性。

我认为还有其他的压缩器（比如 YUI 压缩器）应该在这方面做得更好，并且比这个正则表达式压缩器给出更短的结果。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2017-06-04T02:16:15.200

[这是@Qtax's answer](https://stackoverflow.com/questions/15195750/minify-compress-css-with-regex#15195752)的略微修改版本，它通过[@matthiasmullie's Minify library](https://github.com/matthiasmullie/minify)`calc()`的替代正则表达式解决了这些问题。

```
function minify_css( $string = '' ) {
    $comments = <<<'EOS'
(?sx)
    # don't change anything inside of quotes
    ( "(?:[^"\\]++|\\.)*+" | '(?:[^'\\]++|\\.)*+' )
|
    # comments
    /\* (?> .*? \*/ )
EOS;

    $everything_else = <<<'EOS'
(?six)
    # don't change anything inside of quotes
    ( "(?:[^"\\]++|\\.)*+" | '(?:[^'\\]++|\\.)*+' )
|
    # spaces before and after ; and }
    \s*+ ; \s*+ ( } ) \s*+
|
    # all spaces around meta chars/operators (excluding + and -)
    \s*+ ( [*$~^|]?+= | [{};,>~] | !important\b ) \s*+
|
    # all spaces around + and - (in selectors only!)
    \s*([+-])\s*(?=[^}]*{)
|
    # spaces right of ( [ :
    ( [[(:] ) \s++
|
    # spaces left of ) ]
    \s++ ( [])] )
|
    # spaces left (and right) of : (but not in selectors)!
    \s+(:)(?![^\}]*\{)
|
    # spaces at beginning/end of string
    ^ \s++ | \s++ \z
|
    # double spaces to single
    (\s)\s+
EOS;

    $search_patterns  = array( "%{$comments}%", "%{$everything_else}%" );
    $replace_patterns = array( '$1', '$1$2$3$4$5$6$7$8' );

    return preg_replace( $search_patterns, $replace_patterns, $string );
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-06-07T07:45:11.090

这个问题是专门关于 PHP 的，但是由于当我用谷歌搜索“缩小 css 正则表达式”时这篇文章是结果的顶部，所以我在这里发布了一个 Python 改编：

```
#!/usr/bin/env python
# These regexes were adapted from PCRE patterns by Dustin "lots0logs" Falgout,
# Matthias Mullie (https://stackoverflow.com/a/15195752/299196), and Andreas
# "Qtax" Zetterlund (https://stackoverflow.com/a/44350195/299196).
import re

CSS_COMMENT_STRIPPING_REGEX = re.compile(r"""
    # Quoted strings
    ( "(?:[^"\\]+|\\.)*" | '(?:[^'\\]+|\\.)*' )
    |
    # Comments
    /\* ( .*? \*/ )
    """,
    re.DOTALL | re.VERBOSE
)

CSS_MINIFICATION_REGEX = re.compile(r"""
    # Quoted strings
    ( "(?:[^"\\]+|\\.)*" | '(?:[^'\\]+|\\.)*' )
    |
    # Spaces before and after ";" and "}"
    \s* ; \s* ( } ) \s*
    |
    # Spaces around meta characters and operators excluding "+" and "-"
    \s* ( [*$~^|]?= | [{};,>~] | !important\b ) \s*
    |
    # Spaces around "+" and "-" in selectors only
    \s*([+-])\s*(?=[^}]*{)
    |
    # Spaces to the right of "(", "[" and ":"
    ( [[(:] ) \s+
    |
    # Spaces to the left of ")" and "]"
    \s+ ( [])] )
    |
    # Spaces around ":" outside of selectors
    \s+(:)(?![^\}]*\{)
    |
    # Spaces at the beginning and end of the string
    ^ \s+ | \s+ \z
    |
    # Collapse concurrent spaces
    (\s)\s+
    """,
    re.DOTALL | re.IGNORECASE | re.VERBOSE
)

def minify_css(css):
    return CSS_MINIFICATION_REGEX.sub(r"\1\2\3\4\5\6\7\8",
        CSS_COMMENT_STRIPPING_REGEX.sub(r"\1", css)) 
```

可能与 PHP+PCRE 版本不完全相同。由于 Python 的正则表达式库不支持 PCRE 所做的许多构造，因此我不得不修改 PCRE 模式。我删除的修饰符提高了性能，并可能强化正则表达式以防止恶意输入，因此[在 untrusted input 上使用它可能不是一个好主意](https://en.wikipedia.org/wiki/ReDoS)。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-11-03T11:47:16.327

Here is a compact source of how I do it. With compression. And you don't have to care, if you changed something in the source.

In fact '//comments' are not allowed in css.

```
ob_start('ob_handler');
if(!file_exists('style/style-min.css) 
or filemtime('style/style.css') > filemtime('style/style-min.css')){
  $css=file_get_contents('style/style.css');    
  //you need to escape some more charactes if pattern is an external string.
  $from=array('@\\s*/\\*.*\\*/\\s*@sU', '/\\s{2,}/');
  $to=  array(''                      , ' ');
  $css=preg_replace($from,$to,$css); 
  $css=preg_replace('@\s*([\:;,."\'{}()])\s*@',"$1",$css);  
  $css=preg_replace('@;}@','}',$css);
  header('Content-type: text/css');
  echo $css;
  file_put_contents('style/style-min.css',$css);
  //etag- modified- cache-control- header
  }
else{
  //exit if not modified?
  //etag- modified- cache-control- header
  header('Content-type: text/css');
  readfile('style/style-min.css');
  }   
ob_end_flush(); 
```

PS Who gave me the minus before I'm ready with typing? QTax- For a short time I forgot to escape the backslashes in the $fom array. PSS. Only new version of PHP undestand the 'U' param which makes a regex ungreedy.

# c# - 有没有办法在灯箱中打开所有类型的文件（.txt、.doc、.html、.ppt、.jpeg、.png 等）？

> ID：15195753
> 
> 赞同：1
> 
> 时间：2013-03-04T06:24:36.663
> 
> 标签：c#, jquery, asp.net

有没有办法使用 asp.net C# 打开所有类型的文件（.txt、.doc、.html、.ppt、.jpeg、.png，还有视频文件。）？

我尝试过彩盒，但我只能在彩盒中加载 .html 页面。如果我想打开一个 Word 文件，那么我必须先将其转换为 html。那么有什么方法可以打开灯箱中的所有文件吗？

请帮忙。

**编辑**

我已经尝试了以下链接 [http://www.jacklmoore.com/colorbox/example1/中的代码](http://www.jacklmoore.com/colorbox/example1/)

到目前为止我所做的是......**我的代码如下**

**默认.aspx**

```
 <style type="text/css">
            body{font:12px/1.2 Verdana, sans-serif; padding:0 10px;}
            a:link, a:visited{text-decoration:none; color:#416CE5; border-bottom:1px solid #416CE5;}
            h2{font-size:13px; margin:15px 0 0 0;}
        </style>
        <link rel="stylesheet" href="example1/colorbox.css" type="text/css"/>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
        <script src="jquery.colorbox.js" type="text/javascript"></script>
        <script type="text/javascript">
            $(document).ready(function(){
                //Examples of how to assign the ColorBox event to elements
                $(".group1").colorbox({rel:'group1'});
                $(".group2").colorbox({rel:'group2', transition:"fade"});
                $(".group3").colorbox({rel:'group3', transition:"none", width:"75%", height:"75%"});
                $(".group4").colorbox({rel:'group4', slideshow:true});
                $(".ajax").colorbox();
                $(".youtube").colorbox({iframe:true, innerWidth:425, innerHeight:344});
                $(".vimeo").colorbox({iframe:true, innerWidth:500, innerHeight:409});
                $(".iframe").colorbox({iframe:true, width:"60%", height:"80%"});
                $(".inline").colorbox({inline:true, width:"50%"});
                $(".callbacks").colorbox({
                    onOpen:function(){ alert('onOpen: colorbox is about to open'); },
                    onLoad:function(){ alert('onLoad: colorbox has started to load the targeted content'); },
                    onComplete:function(){ alert('onComplete: colorbox has displayed the loaded content'); },
                    onCleanup:function(){ alert('onCleanup: colorbox has begun the close process'); },
                    onClosed:function(){ alert('onClosed: colorbox has completely closed'); }
                });

                $('.non-retina').colorbox({rel:'group5', transition:'none'})
                $('.retina').colorbox({rel:'group5', transition:'none', retinaImage:true, retinaUrl:true});

                //Example of preserving a JavaScript event for inline calls.
                $("#click").click(function(){ 
                    $('#click').css({"background-color":"#f00", "color":"#fff", "cursor":"inherit"}).text("Open this window again and this message will still be here.");
                    return false;
                });
            });
        </script>
    </head>
    <body>
        <h1>ColorBox Demonstration</h1>
        <%--<h2>Elastic Transition</h2>
        <p><a class="group1" href="../content/ohoopee1.jpg" title="Me and my grandfather on the Ohoopee.">Grouped Photo 1</a></p>
        <p><a class="group1" href="../content/ohoopee2.jpg" title="On the Ohoopee as a child">Grouped Photo 2</a></p>
        <p><a class="group1" href="../content/ohoopee3.jpg" title="On the Ohoopee as an adult">Grouped Photo 3</a></p>

        <h2>Fade Transition</h2>
        <p><a class="group2" href="../content/ohoopee1.jpg" title="Me and my grandfather on the Ohoopee">Grouped Photo 1</a></p>
        <p><a class="group2" href="../content/ohoopee2.jpg" title="On the Ohoopee as a child">Grouped Photo 2</a></p>
        <p><a class="group2" href="../content/ohoopee3.jpg" title="On the Ohoopee as an adult">Grouped Photo 3</a></p>
        --%>
        <h2>No Transition + fixed width and height (75% of screen size)</h2>
        <p><a class="group3" href="../content/ohoopee1.jpg" title="Me and my grandfather on the Ohoopee.">Grouped Photo 1</a></p>
        <p><a class="group3" href="../content/ohoopee2.jpg" title="On the Ohoopee as a child">Grouped Photo 2</a></p>
        <p><a class="group3" href="../content/ohoopee3.jpg" title="On the Ohoopee as an adult">Grouped Photo 3</a></p>

    <%--    <h2>Slideshow</h2>
        <p><a class="group4"  href="../content/ohoopee1.jpg" title="Me and my grandfather on the Ohoopee.">Grouped Photo 1</a></p>
        <p><a class="group4"  href="../content/ohoopee2.jpg" title="On the Ohoopee as a child">Grouped Photo 2</a></p>
        <p><a class="group4"  href="../content/ohoopee3.jpg" title="On the Ohoopee as an adult">Grouped Photo 3</a></p>

        <h2>Other Content Types</h2>
        <p><a class='ajax' href="WordToHtml/Notes.htm" title="Homer Defined">Outside HTML (Ajax)</a></p>
        <p><a class='youtube' href="Uploadedfiles/Wildlife.wmv" title="The Knife: We Share Our Mother's Health">Flash / Video (Iframe/Direct Link To YouTube)</a></p>
        <p><a class='vimeo' href="Uploadedfiles/Wildlife.wmv" title="R&ouml;yksopp: Remind Me">Flash / Video (Iframe/Direct Link To Vimeo)</a></p>--%>

        <p><a runat="server" id="a"  class='iframe'>Outside Webpage (Iframe)</a></p>
        <%--<p><a class='inline' href="#inline_content">Inline HTML</a></p>--%>

        <h2>Demonstration of using callbacks</h2>
        <p><a class='callbacks' href="../content/marylou.jpg" title="Marylou on Cumberland Island">Example with alerts</a>. Callbacks and event-hooks allow users to extend functionality without having to rewrite parts of the plugin.</p>

    <%--    <h2>Retina Images</h2>
        <p><a class="retina" href="../content/daisy.jpg" title="Retina">Retina</a></p>
        <p><a class="non-retina" href="../content/daisy.jpg" title="Non-Retina">Non-Retina</a></p>

        <!-- This contains the hidden content for inline calls -->
        <div style='display:none'>
            <div id='inline_content' style='padding:10px; background:#fff;'>
            <p><strong>This content comes from a hidden element on this page.</strong></p>
            <p>The inline option preserves bound JavaScript events and changes, and it puts the content back where it came from when it is closed.</p>
            <p><a id="click" href="#" style='padding:5px; background:#ccc;'>Click me, it will be preserved!</a></p>

            <p><strong>If you try to open a new ColorBox while it is already open, it will update itself with the new content.</strong></p>
            <p>Updating Content Example:<br />
            <a class="ajax" href="../content/ajax.html">Click here to load new content</a></p>
            </div>
        </div>--%>
    </body>
</html> 
```

**。CS**

```
 protected void Page_Load(object sender, EventArgs e)
    {
        a.HRef = "~/Uploadedfiles/notes.html";
    } 
```

在这里，我已将 notes.doc 文件转换为 notes.html。在这里，我能够打开 .html 文件。所以我想知道有没有办法打开word doc。直接在iframe中

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:58:26.547

似乎这`lightbox plugin`仅适用于图像。

您应该选择另一个插件，如 colorbox： http:
[//jacklmoore.com/colorbox/](http://jacklmoore.com/colorbox/)
它使用简单，支持 iframe 以及灯箱内的 div 元素。

## 编辑 1

很少有链接可以帮助您
[灯箱没有图像只有文字？](https://stackoverflow.com/questions/9618686/lightbox-no-image-just-text)

# html - 如何检测浏览器是 IE 8 还是没有 Javascript 的 IE 9？

> ID：15195758
> 
> 赞同：0
> 
> 时间：2013-03-04T06:24:51.140
> 
> 标签：html, internet-explorer

我看过以下内容：

[怪癖模式](http://www.quirksmode.org/css/condcom.html)

但这并没有真正显示我如何检测 IE8 或 IE9。有人可以告诉我如何使用条件评论来做到这一点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:33:39.173

您发布的链接是正确的。这些评论是你需要的。

```
<!--[if IE 8]>
According to the conditional comment this is IE 8<br />
<![endif]-->
<!--[if IE 9]>
According to the conditional comment this is IE 9<br />
<![endif]-->
<!--[if (IE 8)|(IE 9)]>
According to the conditional comment this is IE 8 or 9<br />
<![endif]--> 
```

条件注释（供您参考）： http:
[//msdn.microsoft.com/en-us/library/ms537512 (v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/ms537512%28v=vs.85%29.aspx)

方括号之间是你的条件，你可以做等于、不等于、小于、小于等于、大于、大于等于。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:29:15.783

对于每个浏览器，您都可以使用不同类型的“条件注释”，这是 Chris Coyier 关于这个问题的一篇非常好的文章。

[http://css-tricks.com/new-poll-conditional-tags-for-all-browsers/](http://css-tricks.com/new-poll-conditional-tags-for-all-browsers/)

这是我个人的经验，使用条件评论很好。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T06:26:14.133

您可以在 Internet Explorer 中使用条件注释将 CSS 类添加到您的 HTML 节点。这是 html5boilerplate 添加浏览器特定 CSS 的方式：

[https://github.com/h5bp/html5-boilerplate/blob/master/index.html](https://github.com/h5bp/html5-boilerplate/blob/master/index.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-04T06:31:30.460

是的，您也可以检测到 ie8 和 9。尝试这个

```
<!--[if IE]><p>You are using Internet Explorer.</p><![endif]-->
<![if !IE]><p>You are not using Internet Explorer.</p><![endif]>

<!--[if IE 8]><p>Welcome to Internet Explorer 8!</p><![endif]-->
<!--[if !(IE 9)]><p>You are not using version 9.</p><![endif]-->

<!--[if gte IE 8]><p>You are using IE 8 or greater.</p><![endif]-->
<!--[if (IE 5)]><p>You are using IE 5 (any version).</p><![endif]-->
<!--[if (gte IE 5.5)&(lt IE 7)]><p>You are using IE 5.5 or IE 6.</p><![endif]-->
<!--[if lt IE 5.5]><p>Please upgrade your version of Internet Explorer.</p><![endif]-->

<!--[if true]>You are using an <em>uplevel</em> browser.<![endif]-->
<![if false]>You are using a <em>downlevel</em> browser.<![endif]>

<!--[if true]><![if IE 7]><p>This nested comment is displayed in IE 7.</p><![endif]><![endif]--> 
```

在`if`条件表达式中`lte`表示小于或等于，`gte`表示大于或等于，`lt`表示小于。

# c - 如何在 C 中为我的容器服务器避免用户定义的库程序中的“退出”？

> ID：15195763
> 
> 赞同：2
> 
> 时间：2013-03-04T06:25:03.963
> 
> 标签：c, linux, unix, overriding, exit

我正在为 C 中的库编写容器服务器。

系统库dl，作为动态链接加载器，用于实现编程接口。那就是`dlopen`/`dlsym`函数。

要将控制权返回给容器服务器，可以使用`return`和。没关系`exit`。`return`

但是`exit()`用户程序中的 in 也会导致容器服务器退出。

如何支持用户程序中的退出？

我正在考虑`exit`在调用动态链接加载器时覆盖该函数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:43:35.313

也许您应该创建一个新的子进程来运行可能调用的库函数`exit()`。当库函数调用`exit()`或返回时，子进程会退出，父进程（容器服务器）会得到子进程终止的信息。

在这种情况下，启动新子进程的最简单方法是调用`fork()`. `system()`在这种情况下不需要使用调用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T06:30:23.810

由于您只是在编写一个库，因此如果没有进程调用它，它就无法自行运行。

一旦应用程序退出，你的库的状态也会不幸丢失。

换句话说，如果你想在应用程序退出后保持状态，你可能需要编写一个初始化守护进程，它始终是初始化这个库的第一个进程，并保持在后台运行，作为维持状态的一种手段。你的容器。

您还需要使用信号量或某种形式的 IPC 来确保状态在守护程序和使用此库的其他客户端进程之间传播。

# python - 如何比较列表和目录以检查丢失的文件？

> ID：15195764
> 
> 赞同：2
> 
> 时间：2013-03-04T06:25:05.757
> 
> 标签：python

我有一个`/image/`包含以下文件的文件夹： `1.jpg, 2.jpg, 5.jpg`

和一个清单：

```
img = [1.jpg, 2.jpg, 3.jpg, 4.jpg, 5.jpg] 
```

如何比较列表和目录内容以找出丢失的文件`3.jpg`？`4.jpg`

我在网上搜索，但我发现的唯一解决方案显示如何比较列表到列表或目录到目录。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T06:33:25.340

要搜索目录中的文件，您可以使用[`glob`](http://docs.python.org/2/library/glob.html)，如下所示：

```
import glob

dir_to_search = '/some/path/to/images/'

files_in_dir = glob.glob("{}{}".format(dir_to_search,'*.jpg'))

list_of_files = ['1.jpg','2.jpg','3.jpg']

missing_files = [x for x in list_of_files if x not in files_in_dir] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-04T06:29:04.817

```
import os
path= r"C:\yourdirectory"  
fileList = os.listdir(path)

img = [...]
missing = [name for name in img if name not in fileList] 
```

如果顺序不重要，您可以使用集合代替

```
import os
path= r"C:\yourdirectory"  
fileSet = set(os.listdir(path))

img = [...]
missing = set(img)-fileSet 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-04T06:31:49.123

那这个呢 。

首先从文件中获取所有文件扩展名

```
import os
createlist = []
for r,d,f in os.walk("/images"):
    for files in f:
        if files.endswith(".jpg"):
             createlist.append[files] 
```

然后比较两个列表。

```
print [(i,j) for i,j in zip(img,createlist) if i!=j] 
```

# ios - Monotouch 在尝试第二次部署应用程序时抛出未处理的异常

> ID：15195766
> 
> 赞同：1
> 
> 时间：2013-03-04T06:25:19.627
> 
> 标签：ios, visual-studio-2010, xamarin.ios

我使用`xamarin studio 2`. 我第一次调试它`VS2010 profession`，它运行正确。然后我停止调试并再次重新启动调试，我得到了一个异常。

```
 Exception: Unhandled Exception (Generic) There was an unhandled exception trying to deploy and run your application.System.NullReferenceException: Object reference not set to an instance of an object. at Mono.Debugging.Soft.SoftDebuggerSession.Dispose()

 at Mono.IOS.VisualStudio.MonoTouchFlavoredProject.StopDebug()

 at Mono.IOS.VisualStudio.MonoTouchFlavoredProject.DebugApplication(MonoTouchDevice device, IVsOutputWindowPane output)

 at Mono.IOS.VisualStudio.MonoTouchFlavoredProject.DebugLaunch(__VSDBGLAUNCHFLAGS grfLaunch) 
```

如果我再次关闭`VS`并重新启动`VS`调试，它就可以工作。但我不想一次又一次地重新开始`VS`。任何人都可以帮忙吗？

我的**Xcode**是`4.6.` **iOS SDK**是`6.1` **Xamarin Studio** for **Mac**是`4.0(build 2003)`

[关联](http://i.stack.imgur.com/XATHQ.png)

# c# - Azure 表存储 - 有序数据的 RowKey 设计

> ID：15195773
> 
> 赞同：3
> 
> 时间：2013-03-04T06:26:07.110
> 
> 标签：c#, azure, azure-storage, azure-table-storage

我将大量 GPS 数据存储在存储表中。每个分区最多可以达到 100 万个实体。插入到表中的每个 GPS 实体实际上与之前插入的数据是连续的，因此顺序很重要。

有时我需要执行以下查询：

> ***从当前实体（在同一分区内）获取前/后 3 个 GPS 实体。***

RowKey 设计的选项：

1.  **创建一个递增的整数。** 但是我如何跟踪表格的当前大小？无法获取表格行数或获取最后插入的行。

2.  **使用日期时间刻度。** 但是如何使用刻度获取上一个/下一个实体？

我在 C# 中使用 SDK 2.0 版。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-04T07:29:10.433

这是一个非常酷的问题要解决。

如果您的工作是仅查找在给定条目之后或之前的条目，这将很简单，因为您可以将 DateTime.Now.Ticks 或 (DateTime.Max.Ticks - DateTime.Now.Ticks) 作为RowKey 并在查询中使用“Take”命令来查找最近的 X 记录。

但是，由于您需要找到在给定位置 ID 之后或之前的最近位置，因此我认为这是一种可能适用于您的 RowKeys 的设计模式：

*   您需要为每个 GPS 位置保存两个实体。实体的数据应该相同，只是行键不同
*   一个实体的 RowKey 为：DateTime.UtcNow.Ticks，前缀为：“A”（升序）
*   另一个实体的 RowKey 为：DateTime.MaxValue.Ticks - DateTime.UtcNow.Ticks 并具有前缀字符，例如：“D”（降序）

例如，您有 7 个位置，Location1..thru..Location7 我给了它们从 01 到 99 的随机 Tick 值（为简单起见）。假设 MaxTicks 为 100。这将使我们的表包含以下数据：

**Rowkey，实体数据**

*   A----01，位置1
*   A----50，位置2
*   A----55，位置 3
*   A----66，位置4
*   A----67，位置 5
*   A----90，位置6
*   A----99，位置7
*   D----01，位置7
*   D----10，位置6
*   D----33，位置5
*   D----34，位置4
*   D----45，位置3
*   D----50，位置2
*   D----99，位置1

现在，对于每个实体，您都可以轻松计算其“相反”的 Rowkey 实体。（只需从 DateTime.MaxValue.Ticks 中减去其 RowKey 并将前缀从 A 翻转到 D 或从 D 翻转到 A）

因此，如果您需要 Location3 之前的 2 个实体，只需发出查询以从 RowKey 大于“D----45”且小于“D----99”（最大）的表中获取 2 个实体. 如果您需要在 Location3 之后取 2 行，只需发出 Take 2，其中 RowKey 大于“A----55”且小于“A-----99”（最大值）。发出“小于”标准很重要，这样您在查询“A”时就不会意外遇到“D”。

在批处理事务中更新/插入两组实体，以保证两者都或没有进入表并“瞧”。

这种方法的缺点是您必须支付两倍的存储费用。

希望这会有所帮助并且不会太混乱

# android - 如何从服务器下载视频文件并保存 SD 卡？

> ID：15195774
> 
> 赞同：0
> 
> 时间：2013-03-04T06:26:09.530
> 
> 标签：android, android-listview, download, progress-bar

我开发下载应用程序，当我点击保存按钮然后在后台下载过程但按钮点击不显示正确的位置。我有 listView ，我在其中膨胀一行包含 Imageview 和按钮和进度条现在我想处理按钮的点击事件在适配器中编码，我也能够获得按钮的位置。但是在这里，当我单击按钮时，我正在更改按钮的图像，它的工作正常问题是当我滚动视图时，它再次像以前一样更改按钮的图像，因为 getview() 方法每次都回收视图。以及如何全部下载视频并保存SD卡。我的代码如下::

```
public class TestHopeListNew extends Activity {
    ListView lv;
    ArrayList<Url_Dto> list = new ArrayList<Url_Dto>();
    MyListAdapter adtf;
    public static String prf_date_view = "";
    String str_start;
    Button mainDownloadBtn;
    public static SQLiteDatabase db;
    ProgressBar freePr;
    String name;
    File download;
    int i = 0;
    private ArrayList<ProgressBarSeek> progreeSeekList;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_test_hope_list_new);
        progreeSeekList = new ArrayList<ProgressBarSeek>();
        list = DBAdapter.getUrl_Detail();
        Log.v("log_tag", "list  :: " + list.size());
        lv = (ListView) findViewById(R.id.main_list_meet);
        mainDownloadBtn = (Button) findViewById(R.id.not_shown);
        freePr = (ProgressBar) findViewById(R.id.progressBar1);
        adtf = new MyListAdapter(this);
        lv.setAdapter(adtf);
        //adtf.notifyDataSetChanged();
        SqliteAdpter dba = SqliteAdpter
                .getAdapterInstance(getApplicationContext());
        dba.createdatabase();
        db = dba.openDataBase();
        BusyExtMemory();
        mainDownloadBtn.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
                adtf.setAllDownload();
            }
        });

    }

    public class MyListAdapter extends BaseAdapter {
        private LayoutInflater mInflater;
        ProgressBar pr;
        ProgressBar[] prArray = new ProgressBar[list.size()];
        Button cl, dl;
        ImageView im;
        DownloadFileFromURL downloadFileFromURL;

        public MyListAdapter(Context context) {
            mInflater = LayoutInflater.from(context);

        }

        public int getCount() {
            return list.size();
        }

        public Object getItem(int position) {
            return list.get(position);
        }

        public long getItemId(int position) {
            return position;
        }

        public void setAllDownload() {
            if (prArray.length > 0) {
                for (int i = 0; i < prArray.length; i++) {
                    try {
                        Thread.sleep(4000);
                    } catch (InterruptedException e) {
                        e.printStackTrace();
                    }

                    Log.v("log_tag", "list.get(i).url_video   "
                            + list.get(i).url_video);

                    downloadFileFromURL.execute(pr, list.get(i).url_video, i);
                }
            }
        }

        public View getView(final int position, View convertView,
                ViewGroup parent) {
            convertView = mInflater.inflate(R.layout.custome_list_view, null);

            cl = (Button) convertView.findViewById(R.id.cancle_sedual);
            dl = (Button) convertView.findViewById(R.id.download_sedual);
            pr = (ProgressBar) convertView.findViewById(R.id.listprogressbar);
            prArray[position] = pr;
            im = (ImageView) convertView.findViewById(R.id.list_image);
            im.setImageResource(list.get(position).images[position]);

            downloadFileFromURL = new DownloadFileFromURL(dl, cl);
            cl.setOnClickListener(new View.OnClickListener() {

                @Override
                public void onClick(View v) {
                    Log.v("log_tag", "Cancle Button Click");

                    dl.setVisibility(View.VISIBLE);
                    cl.setVisibility(View.GONE);
                    downloadFileFromURL.cancel(true);
                     downloadFileFromURL.downloadFile();
                    pr.setProgress(0);
                }
            });

            dl.setOnClickListener(new View.OnClickListener() {

                @Override
                public void onClick(View v) {

                    str_start = list.get(position).url_video;
                    dl.setVisibility(View.GONE);
                    cl.setVisibility(View.VISIBLE);
                    Log.v("log_tag", "Start Button Click ");
                    //downloadFileFromURL = new DownloadFileFromURL(dl, cl);
                    downloadFileFromURL.execute(pr, str_start, position);
                }
            });
            getProgress(pr, position, dl, cl);
            return convertView;
        }

    }

    class DownloadFileFromURL extends AsyncTask<Object, String, Integer> {

        int count = 0;
        ProgressDialog dialog;
        ProgressBar progressBar;
        int myProgress;
        int position;
        Button start, cancel;
        boolean download1 = false;

        public DownloadFileFromURL(Button start, Button cancel) {
            this.start = start;
            this.cancel = cancel;
        }

        /**
         * Before starting background thread Show Progress Bar Dialog
         * */

        @Override
        protected void onPreExecute() {
            super.onPreExecute();
            ProgressBar progressBar;
            download1 = true;

        }

        public void downloadFile() {
            this.download1 = false;

        }

        @Override
        protected void onCancelled() {
            super.onCancelled();

        }

        /**
         * Downloading file in background thread
         * */
        @Override
        protected Integer doInBackground(Object... params) {
            int count;
            progressBar = (ProgressBar) params[0];
            position = (Integer) params[2];
            /*
             * try { Thread.sleep(500); } catch (InterruptedException e) {
             * e.printStackTrace(); }
             */
            try {

                URL url = new URL((String) params[1]);

                name = ((String) params[1]).substring(((String) params[1])
                        .lastIndexOf("/") + 1);
                // Log.v("log_tag", "name Substring ::: " + name);
                URLConnection conection = url.openConnection();
                conection.connect();
                // getting file length
                int lenghtOfFile = conection.getContentLength();

                // input stream to read file - with 8k buffer
                InputStream input = new BufferedInputStream(url.openStream(),
                        8192);
                download = new File(Environment.getExternalStorageDirectory()
                        + "/download/");
                if (!download.exists()) {
                    download.mkdir();
                }
                String strDownloaDuRL = download + "/" + name;
                Log.v("log_tag", " down url   " + strDownloaDuRL);
                FileOutputStream output = new FileOutputStream(strDownloaDuRL);

                byte data[] = new byte[1024];

                long total = 0;

                while ((count = input.read(data)) != -1) {
                    if (this.download1) {
                        if (isCancelled()) {
                            break;
                        }

                        total += count;

                        // writing data to file
                        progressBar
                                .setProgress((int) ((total * 100) / lenghtOfFile));
                        output.write(data, 0, count);
                        setProgress(progressBar, position, start, cancel, this);
                    } else {
                        File delete = new File(strDownloaDuRL);
                        delete.delete();
                    }
                }
                // flushing output
                output.flush();

                // closing streams
                output.close();
                input.close();

            } catch (Exception e) {
                Log.e("Error: ", e.getMessage());
            }
            return 0;

        }

        /**
         * Updating progress bar
         * */
        protected void onProgressUpdate(String... values) {

            super.onProgressUpdate(values);
            BusyExtMemory();

            // pDialog.setProgress(Integer.parseInt(progress[0]));
        }

        /**
         * After completing background task Dismiss the progress dialog
         * **/
        protected void onPostExecute(String file_url) {

            Log.v("log", "login  ::: 4::: " + download);
            String videoPath = download + "/" + name;
            String chpName = name;
            Log.v("log_tag", "chpName  ::::" + chpName + "  videoPath "
                    + videoPath);
            db.execSQL("insert into videoStatus (chapterNo,videoPath) values(\""
                    + chpName + "\",\"" + videoPath + "\" )");

        }

    }

    private void setProgress(final ProgressBar pr, final int position,
            final Button Start, final Button cancel,
            final DownloadFileFromURL downloadFileFromURL) {
        ProgressBarSeek pbarSeek = new ProgressBarSeek();
        pbarSeek.setPosition(position);
        pbarSeek.setProgressValue(pr.getProgress());
        // Log.v("log_tag", position + "  progress  " + pr.getProgress());
        progreeSeekList.add(pbarSeek);
        cancel.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {

                Log.v("log_tag", "Cancle Button Click Set progress");
                Start.setVisibility(View.VISIBLE);
                cancel.setVisibility(View.GONE);
                downloadFileFromURL.cancel(true);
                // downloadFileFromURL.downloadFile();
                downloadFileFromURL.cancel(true);
                pr.setProgress(0);

            }
        });
        Start.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                Log.v("log_tag", "Start Button Click set Progress");
                str_start = list.get(position).url_video;
                Start.setVisibility(View.GONE);
                cancel.setVisibility(View.VISIBLE);
                Log.v("log_tag", "str_start  " + str_start);
                //
                // new DownloadFileFromURL().execute(str_start);
                DownloadFileFromURL downloadFileFromU = new DownloadFileFromURL(
                        Start, cancel);
                downloadFileFromU.execute(pr, str_start, position);
            }
        });
    }

    private void getProgress(ProgressBar pr, int position, Button dl, Button cl) {
        if (progreeSeekList.size() > 0) {
            for (int j = 0; j < progreeSeekList.size(); j++) {
                if (position == progreeSeekList.get(j).getPosition()) {
                    pr.setProgress(progreeSeekList.get(j).getProgressValue());
                    dl.setVisibility(View.GONE);
                    cl.setVisibility(View.VISIBLE);
                }
            }
        }
    }

    public String TotalExtMemory() {
        StatFs statFs = new StatFs(Environment.getExternalStorageDirectory()
                .getAbsolutePath());
        int Total = (statFs.getBlockCount() * statFs.getBlockSize()) / 1048576;
        Log.v("log_tag", "TotalExtMemory    " + Total);
        String strI = Integer.toString(Total);
        return strI;
    }

    public String FreeExtMemory() {
        StatFs statFs = new StatFs(Environment.getExternalStorageDirectory()
                .getAbsolutePath());
        int Free = (statFs.getAvailableBlocks() * statFs.getBlockSize()) / 1048576;
        String strI = Integer.toString(Free);
        Log.v("log_tag", "FreeExtMemory    " + strI);

        return strI;
    }

    public String BusyExtMemory() {
        StatFs statFs = new StatFs(Environment.getExternalStorageDirectory()
                .getAbsolutePath());
        int Total = (statFs.getBlockCount() * statFs.getBlockSize()) / 1048576;
        int Free = (statFs.getAvailableBlocks() * statFs.getBlockSize()) / 1048576;
        int Busy = Total - Free;
        String strI = Integer.toString(Busy);
        freePr.setProgress(Integer.parseInt(strI));
        Log.v("log_tag", "BusyExtMemory    " + strI);
        return strI;
    }
} 
```

我的屏幕截图演示显示::![在此处输入图像描述](../Images/c44cec3bfe00e671582e115792f30c97.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:35:26.263

尝试改变这个

```
cl.setVisibility(View.GONE); 
```

至

```
v.setVisibility(View.GONE); 
```

在你的按钮上点击

在您想要处理您刚刚单击的实际按钮的所有按钮 onClicks 上，使用 View v

# c++ - Node类中的重载运算符

> ID：15195779
> 
> 赞同：0
> 
> 时间：2013-03-04T06:26:36.333
> 
> 标签：c++, linked-list, overloading

我需要在我的 Node 类中重载 ++ 运算符，这样当我调用它时，它会返回下一个节点的指针。还有一个 -- 返回前一个。我根本不熟悉重载运算符，所以我很不知道如何去做。我认为我的语法有些正确，但不确定如何实现它。我用它做一个成员函数吗？任何帮助将不胜感激！

我的节点类：

```
#ifndef NODE_H
#define NODE_H
class Node
{
public:
    Node(Node* n = NULL, int v =0)
    {
        next = n;
        value = v;
    }

    LinkedList& operator++(const LinkedList )

    Node* next;
    Node* prev; 
    int value;
};

#endif 
```

不确定它是否有帮助，但这是我的`LinkedList`文件：

```
#ifndef LinkedList_H
#define LinkedList_H
#include "Node.h"
#include <iostream>

using namespace std;
class LinkedList{

public:
    LinkedList()
    {
        front = NULL;
        back = NULL;
        size = 0;
    }

    void push_front(int item)
    {
        if (front == NULL)
        {
            front = new Node(NULL, item);
            back = front;
            size++;
            return; 
        }

        Node* newNode = new Node(NULL, item);
        front->prev = newNode;
        newNode->next = front;
        front = newNode;
        size++;
    }

    int pop_front()
    {
        if (front == NULL){
            cout<<"No item to pop "<<endl;
            return 0;
        }

        Node *temp = front;
        int value = front->value;
        if(front->next){
            front = front->next;
            front->prev = NULL;
            size--;
            delete temp;
            return value;
        }

        front = NULL;
        back = NULL;
        return value; 
    }

    int pop_back()
    {
        if(front == NULL){
            cout<<"Nothing to pop! ";
            return 0;
        }
        else{
            Node *prev = front;
            Node *succ = front->next;
            while(succ->next != NULL){
                succ = succ->next;
                prev = prev->next;
            }
            int value = succ->value;
            prev->next = NULL;
            back = prev;

            delete succ;
            size--;
            return value;
        }
    }

    void push_back(int item)
    {
        if (front == NULL)
        {
            front = new Node(NULL, item);
            size++;
            return; 
        }
        else {

            Node* newnode = new Node(NULL, item);
            Node *succ = front;
            while(succ->next != NULL){
                succ = succ->next;
            }
            succ->next = newnode;
            newnode->next = NULL;
            newnode->prev = succ;
            back = newnode;
            size++;
        }
    }

    void print()
    {   
            if (front == NULL){
            cout<<"Nothing to print! "<<endl;
        }

        Node *p = front;
        while(p){
            cout<<p->value<<"  ";
            p=p->next;
        }

        cout<<endl<<endl;
    }

    bool removeNode(int i){

        if (i < 0 || i >= size) //assume size is a data member of double linked 
            return false;
        if (front == NULL)
            return false;
        if (i == 0)
        {
            Node* p = front; //assume front is a data member of double linked list
            front = front->next;
            front-> prev = NULL;
            delete p;
            size--;
            if (size == 1)
                back = front;
            return true;
        }

        int temp=0;
        Node* curr = front;
        Node* p = NULL;
        while (temp!= (i-1) && curr->next !=NULL)
        {
            p = curr;
            curr = curr->next;
            temp++;
        }

        p->next = curr->next;
        curr->next->prev = p;
        delete curr;
        size--;
        if (size == 1)
            back = front;
        return true;
    }

    LinkedList& operator++(const LinkedList )

    Node* front; //front of a linked list
    Node* back;
    int size; //# of nodes in a linked list
};

#endif 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:30:49.853

我认为，它应该如下所示：

```
#ifndef NODE_H
#define NODE_H
class Node
{
public:
    Node(Node* n = NULL, int v =0)
    {
        // Where do you set prev?
        next = n;
        value = v;
    }

    Node * operator ++ (int)
    {
        return next;
    }

    Node * operator -- (int)
    {
        return prev;
    }

    Node* next;
    Node* prev; 
    int value;
};

#endif 
```

[在C++ FAQ](http://www.parashift.com/c++-faq/operator-overloading.html)上进一步阅读有关运算符重载的信息。

# android - Android地图视图平移检测

> ID：15195784
> 
> 赞同：0
> 
> 时间：2013-03-04T06:27:13.680
> 
> 标签：android, events, map, android-mapview

我正在使用安卓`MapView`

我想在平移地图视图时触发一些事件，如果用户正在平移它应该在平移集结束时触发

我需要进行 http 调用以根据用户当前在平移结束时的地图视图提取一些数据，这就是为什么我需要收听平移结束事件

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:32:16.403

没有内置方法可以获取此类事件。但是你可以试试[MapView Overlay Manager](https://code.google.com/p/mapview-overlay-manager/)来听一些手势。或者编写您自己的类从 MapView 扩展以捕获用户的触摸事件。

编辑：

要扩展 Mapview，请覆盖 onTouchEvent 方法。

```
public boolean onTouchEvent(MotionEvent ev) {
    if (ev.getAction() == MotionEvent.ACTION_UP) {
        GeoPoint centerGeoPoint = this.getMapCenter();
        if (currentCenter == null || 
                (currentCenter.getLatitudeE6() != centerGeoPoint.getLatitudeE6()) ||
                (currentCenter.getLongitudeE6() != centerGeoPoint.getLongitudeE6()) ) {
            firePanEvent(currentCenter, this.getMapCenter());
        }
        currentCenter = this.getMapCenter();
    }
    return super.onTouchEvent(ev);
} 
```

# css - 一行中有两个 div 的 CSS IE 问题

> ID：15195789
> 
> 赞同：0
> 
> 时间：2013-03-04T06:27:32.250
> 
> 标签：css, internet-explorer

我的以下代码在 FF 上运行良好。正如您所猜到的，我希望以下两个 div 在浏览器调整大小时保持在一行上而不会中断。

```
<div style="float: left;  margin-right: 10px; ">

</div>

<div style="overflow: hidden;">

</div> 
```

但是像往常一样，当我用 IE 9 测试页面时，右边的 div 已经在左边的下面了。

有人可以在这里帮助我吗，谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:33:08.690

在您的第二个 div 中添加`"float:right`" 或添加`"width:XXpx"`到您的第一个 div 中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:42:13.667

***用另一个 div 包裹它***

```
<div>
   <div style="float: left;  margin-right: 10px; ">

   </div>

   <div style="float:right; overflow: hidden;">

   </div>
</div> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T06:42:26.893

它工作正常

如果您想要更多配置

```
<div style="display:table-row;">
 <div style="width:49%; margin-right:2%; height:100px; float:left; display:table-cell;"> any thing you wanted  </div>
 <div style="width:49%; height:100px; float:left; display:table-cell;"> any thing you wanted </div>
</div> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-04T06:30:07.017

你也是`float`另一个`div`

```
<div style="float: left;  margin-right: 10px; ">

</div>

<div style="float:right; overflow: hidden;">

</div> 
```

==================================================== ========>>>

**更新**

HTML

```
<div class="marginRight"></div>
<div></div> 
```

CSS

```
div {
    float:left;
    border:1px solid red;
    width:45%;
    height:100px;
}
.marginRight {margin-right: 10px;} 
```

工作[演示](http://jsfiddle.net/jhunlio/wLM8U/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-04T14:01:49.350

使用容器 div 并将两个 div 设置为页面总宽度的百分比或总像素。

```
#containerdiv {
width:100%;
overflow:hidden;
}
#leftdiv {
width:20%;
overflow:hidden;
float:left;
#rightdiv {
width:80%;
overflow:hidden;
float:left;
}

<div id="containerdiv">
<div id="leftdiv"> TEST </div>
<div id="rightdiv"> TEST </div>
</div> 
```

请记住，如果您使用边距和填充，则需要调整百分比或像素以使其下一个对齐。例如。如果向左 div 添加 1% 的填充，它会将右 div 向下推到第二行，因为您现在总共处于容器 div 宽度的 101%。

# mysql - MYSQL 从表中选择字段所在的字段

> ID：15195792
> 
> 赞同：0
> 
> 时间：2013-03-04T06:27:46.027
> 
> 标签：mysql, sql

更新

```
id  |  id_list
1   |  2,3,5,7
2   |  1,4,5,6
3   |  1,4,6,7
4   |  2,3,5,8
5   |  1,2,4,8
6   |  2,3,7,8
7   |  1,3,6,9
8   |  4,5,6,9
9   |  7,8 
```

假设我知道 id=1 的内容

我想选择 id 在 id_list of id=1 中的所有行加上 id=1 的行

所以结果将是 id = 1,2,3,5,7 的行

请问各位大佬，这个查询怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-25T13:39:30.673

您也可以使用自加入

使用`IN()`

```
select * from atable a
join atable b on (a.id = b.id )
where 1 IN (a.id_list) or   b.id =1 
```

[**摆弄 IN()**](http://sqlfiddle.com/#!2/17a6e/9)

使用`FIND_IN_SET()`

```
select * from atable a
join atable b on (a.id = b.id )
where FIND_IN_SET('1', a.id_list) or   b.id =1 
```

[**摆弄 FIND_IN_SET()**](http://sqlfiddle.com/#!2/17a6e/11)

使用`UNION ALL`

```
select * from atable 
where id =1
UNION ALL 
select * from atable 
where 1 IN (id_list) 
```

[**摆弄 UNION ALL**](http://sqlfiddle.com/#!2/17a6e/13)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:56:46.927

试试这个（见[SQL-Fiddle](http://sqlfiddle.com/#!2/4f8a4/25)）：

```
SELECT * FROM tbl 
WHERE id = 1
OR INSTR((SELECT id_list FROM tbl WHERE id = '1'), id) > 0; 
```

*用 MySQL 5.5.30 测试*

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T06:57:57.790

你的数据库设计坏了；`id_list`应该表示为连接表而不是字符串。但是，要解决您的直接问题：

```
select * from table where id=1 
          or id_list like '1%' 
          or id_list like '%,1,%'
          or id_list like '%,1' 
```

根据需要进行调整`PreparedStatement`。您必须提供所有三种情况，因为如果您刚刚提供

```
 or id_list like '%1%' 
```

并`id_list`包含值`11`，你会得到一个不正确的匹配

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-10-14T04:16:03.453

试试这个

```
select * 
from tbl 
where id=1 
or id_list like '%1%' 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-10-14T08:22:05.593

这似乎需要两个集合的联合。`id`一组将是与指定值匹配的单行：

```
SELECT
  id
FROM
  atable
WHERE
  id = @id 
```

另一组将是这种自联接的结果：

```
SELECT
  item.id
FROM
  atable AS item
INNER JOIN
  atable AS list
ON
  FIND_IN_SET(item.id, list.id_list)
WHERE
  list.id = @id 
```

也就是说，指定行与`id`表中的每一行匹配，条件`id`是在指定行中找到另一行`id_list`。

[您可以在 SQL Fiddle](http://sqlfiddle.com/#!2/17a6e/3)尝试完整的查询。

请注意，列表不是一个很好的设计功能。在您的情况下，最好使用[@Othman 建议的](https://stackoverflow.com/a/15196283/297408)多对多表。只有我可能会使用稍微不同的查询来获得所需的输出，因为他不包括指定的行本身：

```
SELECT
  id
FROM
  manytomany
WHERE
  id = @id

UNION

SELECT
  linked_id
FROM
  manytomany
WHERE
  id = @id
; 
```

虽然假设中的条目`manytomany`是唯一的，但查询使用 UNION DISTINCT 运算符，因为第一个子查询返回的潜在重复项，尽管只能像这样将 DISTINCT 的应用程序移动到第一个子查询：

```
SELECT DISTINCT
  id
FROM
  manytomany
WHERE
  id = @id

UNION ALL

SELECT
  linked_id
FROM
  manytomany
WHERE
  id = @id
; 
```

第一个子查询实际上可以简单地重写为`SELECT @id AS id`，但只有当传递的值保证有效时，重写才有意义，即它肯定会在 中找到`manytomany.id`。

[这也是另一种方法的演示](http://sqlfiddle.com/#!2/d1d7a/8)（所有三种变体，包括`SELECT @id AS id`一个）。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2013-03-04T07:07:01.667

我没有你的问题的答案，但我鼓励你像这样重新设计你的桌子我认为这叫做多对多关系

```
id  |  friend
1   |    2
1   |    3
1   |    5
1   |    7
2   |    1
2   |    4
2   |    5
2   |    6
3   |    1
3   |    4
3   |    6
3   |    7 
```

然后你的查询将是这样的

```
SELECT DISTINCT(friend) FROM `new` WHERE id = 1 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2013-03-04T06:33:00.457

我假设您正在使用 php..
我的建议是获取 id 1
的 id_list。在逗号上分解该 id_list，然后执行另一个 mysql 查询以获取 5|3|6|8
ex) $idarray的剩余结果= 爆炸(",", $result);
select * from your_table where id in ('5','3','6','8')

选项 2：

```
 SELECT * FROM your_table
WHERE id = '1'
OR id IN ('\''+(SELECT REPLACE(id_list,',','\',\'') FROM your_table WHERE id = '1')+'\'') 
```

编辑：哎呀，对不起，那应该是 OR。

# python - 带有参数和访问类实例的 Python 装饰器

> ID：15195795
> 
> 赞同：11
> 
> 时间：2013-03-04T06:28:14.353
> 
> 标签：python, python-2.7, decorator

我有一个定义如下的类：

```
class SomeViewController(BaseViewController):
    @requires('id', 'param1', 'param2')
    @ajaxGet
    def create(self):
        #do something here 
```

是否可以编写一个装饰器函数：

1.  获取 args 列表，可能还有 kwargs，以及
2.  访问定义其装饰的方法的类的实例？

因此，对于 @ajaxGet 装饰器，在`self`调用中有一个属性，`type`其中包含我需要检查的值。

谢谢

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-03-04T07:16:33.507

是的。实际上，从您似乎的意思来看，实际上没有一种方法可以编写*无法*访问`self`. 装饰函数包装了原始函数，因此它必须至少接受该函数接受的参数（或可以从中派生的一些参数），否则它无法将正确的参数传递给底层函数。

你不需要做任何特别的事情，只需编写一个普通的装饰器：

```
def deco(func):
    def wrapper(self, *args, **kwargs):
        print "I am the decorator, I know that self is", self, "and I can do whatever I want with it!"
        print "I also got other args:", args, kwargs
        func(self)
    return wrapper

class Foo(object):
    @deco
    def meth(self):
        print "I am the method, my self is", self 
```

然后你可以使用它：

```
>>> f = Foo()
>>> f.meth()
I am the decorator, I know that self is <__main__.Foo object at 0x0000000002BCBE80> and I can do whatever I want with it!
I also got other args: () {}
I am the method, my self is <__main__.Foo object at 0x0000000002BCBE80>
>>> f.meth('blah', stuff='crud')
I am the decorator, I know that self is <__main__.Foo object at 0x0000000002BCBE80> and I can do whatever I want with it!
I also got other args: (u'blah',) {'stuff': u'crud'}
I am the method, my self is <__main__.Foo object at 0x0000000002BCBE80> 
```

# android - ARM和Android之间有什么联系？

> ID：15195798
> 
> 赞同：1
> 
> 时间：2013-03-04T06:28:20.743
> 
> 标签：android

ARM和Android之间有什么联系？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-01-31T10:22:14.650

ARM 是一种指令集架构 (ISA)——或者更准确地说，是它们的一个家族——用于某些 CPU，就像许多台式计算机使用 x86/amd64 ISA 一样。ISA 定义了 CPU 使用的“语言”：指令是什么、可用的寄存器、数据类型等。

碰巧ARM处理器现在在移动设备上很流行。但是，Android 操作系统是可移植的，可以在许多不同的处理器上运行，包括 x86 和 MIPS。

Android 应用程序被编译成字节码以在 Dalvik VM 上运行，因此它们也可以跨处理器移植。（只要应用程序不使用 NDK 包含本机代码。）这意味着，作为应用程序开发人员，您实际上不需要担心大部分这些。您的应用程序应该“只是运行”。

更多阅读： http:
[//en.wikipedia.org/wiki/ARM_architecture](http://en.wikipedia.org/wiki/ARM_architecture)
[http://en.wikipedia.org/wiki/Instruction_set_architecture](http://en.wikipedia.org/wiki/Instruction_set_architecture)
[http://en.wikipedia.org/wiki/Dalvik_(software)](http://en.wikipedia.org/wiki/Dalvik_(software))

# sql - SQL 获取与 max() 关联的列值

> ID：15195799
> 
> 赞同：1
> 
> 时间：2013-03-04T06:28:21.243
> 
> 标签：sql

我有下表

```
ID     Version         
---    ----------    
123      1           
124      2           
125      3           
126      4           
127      5           
128      6 
```

现在我需要获取版本号为最大值的 ID 值

我能做的是

```
select ID from tbl where version = (select max(version) from tbl) 
```

我不想使用它，因为我需要在另一个查询中的连接中使用这部分，我不想让事情进一步复杂化。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:30:52.763

您可以使用 select [FIRST()](http://www.w3schools.com/sql/sql_func_first.asp)：

```
SELECT FIRST(id) FROM tbl ORDER BY Version DESC 
```

或者使用*LIMIT 1*选项限制结果的数量：

```
SELECT id FROM tbl ORDER BY Version DESC LIMIT 1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T07:48:06.387

您提到您需要在连接中使用它，所以应该这样做

```
select *
from table_1 as t1
  join (
      select id, 
             row_number() over (order by version desc) as rn
      from table_2
  ) as t2 on t1.id = t2.id and t2.rn = 1 
```

（这是 ANSI SQL，因为您没有提到 DBMS - 但应该适用于大多数现代 DBMS）

# mysql - 使用 SQL 在动态环境中分页排行榜查询

> ID：15195800
> 
> 赞同：0
> 
> 时间：2013-03-04T06:28:36.247
> 
> 标签：mysql, sql

我有一个简单的排行榜系统。当这需要 2 个查询（一个用于获取其分数在表中的位置，另一个用于获取围绕它的页面）并且可能会在它们之间到达新的分数时，如何将结果页面居中于用户分数。锁定桌子是唯一的方法吗？还是有某种原子方法？如果我在偏移值中嵌入查询，那是原子的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-09T15:36:56.867

最简单的解决方案之一是在两侧获得可见页面+一些额外的。即使有新记录出现，您也应该几乎总是有足够的数据将 UI 集中在活动玩家身上。

但是，您应该始终准备好处理没有足够的数据来使玩家居中 - 排行榜的顶部和底部等。

如果播放器根本没有出现在页面中，您必须再提出一两个请求。但是，玩家在短时间内（几秒钟内完成两个查询）被推出页面的几率非常低，因此只要 UI 不挂起，体验应该还不错。

# apache-flex - 如何在 flex 中自定义图例标签

> ID：15195807
> 
> 赞同：0
> 
> 时间：2013-03-04T06:29:05.377
> 
> 标签：apache-flex, charts, legend

我正在开发一个 flex 图表，我想要自定义图例标签。在某种意义上自定义，如果我将某些数据源绑定到图表，那么默认情况下它将在图例中显示 x 轴标签。

例如，

> 默认情况下，它显示如下图例：2011、2012、2013
> 
> 我想让它们显示的方式是：2011（30%）、2012（40%）、2013（12.45%）等等。

我用谷歌搜索了我的问题，但无法获得我正在寻找的确切解决方案。谁能告诉我如何实现这个目标？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-06T10:10:06.160

似乎不可能这样做。

# android - 无法将属性“溢出”设置为 null

> ID：15195808
> 
> 赞同：4
> 
> 时间：2013-03-04T06:29:05.867
> 
> 标签：android, google-api, google-visualization

```
webView.getSettings().setJavaScriptEnabled(true); 
```

webView 加载此 html 代码：

```
<html>
    <head>
        <script type='text/javascript' src='https://www.google.com/jsapi'></script>
        <script type='text/javascript'>
            google.load('visualization', '1', {packages: ['corechart']});
            google.setOnLoadCallback(drawChart);
            function drawChart() {
                var data = google.visualization.arrayToDataTable([
                    ['Year', 'Sales', 'Expenses'],
                    ['2004', 1000, 400],
                    ['2005', 1170, 460],
                    ['2006', 660, 1120],
                    ['2007', 1030, 540]
                ]);
                var options = {title: 'Company Performance'};
                var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
                chart.draw(data, options);
            }
        </script>
    </head>
    <body>
        <div id='chart_div' style='width: 900px; height: 500px;'></div>
    </body>
</html> 
```

这是来自 Google 的示例[可视化的代码：折线图](https://developers.google.com/chart/interactive/docs/gallery/linechart)

webView 显示文本`cannot set property 'overflow' of null` 如何修复？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T06:38:15.087

你指的错误是从javascript抛出的，我猜（否则应用程序会崩溃）？

您要在哪个 Android 操作系统版本上执行此操作？如果它是 2.x，除非您的 Google Chart 使用 CanVg 之类的后备渲染器（我知道 highcharts 使用 canvg 并成功），否则您不会走得太远[，](https://code.google.com/p/canvg/)因为 WebView 不知道 svg。

# javascript - Cufon 颜色被覆盖

> ID：15195810
> 
> 赞同：0
> 
> 时间：2013-03-04T06:29:12.370
> 
> 标签：javascript, html, css, cufon

我似乎无法在我的代码中找到主导航菜单上的“粉红色”颜色，一旦您将鼠标悬停它就会变成粉红色，并且我找不到它被覆盖的位置。

网站：[myfitnessfoods.v9.fw8.co/first](http://myfitnessfoods.v9.fw8.co/first)

我在头部内容中插入了脚本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:33:35.733

试试这个也许有帮助

```
#mainmenu li a:hover {color:#fff !important} 
```

# actionscript-3 - 在 Flex 4 中使用 DateFormatter

> ID：15195812
> 
> 赞同：0
> 
> 时间：2013-03-04T06:29:18.537
> 
> 标签：actionscript-3, apache-flex, datagrid, flex4.5, data-formatters

在 Flex 4 中使用 dateFormatter 格式化 Flex Datagrid 的列时出现错误。

功能如下：

```
public function dataGridFormatDateLabelFunction2(item:Object, dgColumn:Object):String
{
    var ret:String = "";
    var dt_len:Number = String(item[dgColumn.dataField]).length;

    if (dt_len > 4)
    {
        var date:Date=mx.controls.DateField.stringToDate(String(item[dgColumn.dataField]),"YYYY-MM-DD");
        ret = UIUtils.formatDate(date, "DD-MMM-YYYY");
    }
    return ret;     
}

But I am getting the following error: 
```

TypeError：错误 #1009：无法访问空对象引用的属性或方法。在 mx.formatters::DateBase$/http://www.adobe.com/2006/flex/mx/internal::extractTokenDate()[E:\dev\4.5.1\frameworks\projects\framework\src\mx \formatters\DateBase.as:450] 在 mx.formatters::StringFormatter/formatValue()[E:\dev\4.5.1\frameworks\projects\framework\src\mx\formatters\StringFormatter.as:126] 在 mx .formatters::DateFormatter/format()[E:\dev\4.5.1\frameworks\projects\framework\src\mx\formatters\DateFormatter.as:640] 在 com.flexicious.utils::UIUtils$/formatDate( )

有人可以帮我解决这个错误吗？我该如何处理？

感谢您的输入。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T23:54:28.083

您的日期不在“YYYY-MM-DD”中，您正在使用该格式对其进行解析。

# c++ - cpp程序出现意外错误？

> ID：15195814
> 
> 赞同：-2
> 
> 时间：2013-03-04T06:29:22.583
> 
> 标签：c++, linux

我正在使用 c++，以下是我的代码：

测试.h

```
char[] defaultSurname  = "salunke";
void in_dev(const char* name, char* surname = defaultSurname ); 
```

测试.cpp

```
#include "test.h"
#include <iostream>
using namespace std;

void in_dev(const char* name, char* surname)
{
    cout <<" surname id "<< surname << endl;
}

int main()
{
  in_dev("Balaji", "Patil");
  return 0;
} 
```

但它给出了以下编译错误：

```
test.h:1: error: expected unqualified-id before '[' token
test.h:9: error: 'defaultSurname' was not declared in this scope 
```

如何解决此错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T06:30:26.510

```
char[] defaultSurname  = "salunke"; 
```

应该：

```
char defaultSurname[]  = "salunke"; 
```

如有疑问，请使用**[顺时针螺旋规则](http://c-faq.com/decl/spiral.anderson.html)**，它应该会有所帮助。

# python - 猜python中的文字游戏-如何掩盖单词（例如------）

> ID：15195816
> 
> 赞同：2
> 
> 时间：2013-03-04T06:29:23.967
> 
> 标签：python

我正在用python写一个猜词游戏。这是我的学校项目。我快完成了，我只有一件事有问题。我不知道如何掩盖一个词。例如，如果单词是猴子，程序应该显示 ------ 并且当用户猜一个字母，比如说 k，程序应该显示 ---k--

不幸的是，我必须以某种方式编写代码。我应该有一个 main 函数，它只会调用其他可以完成所有工作的函数（比如会要求用户输入字母或检查猜测的单词是否正确的函数）。我已经完成了除了这个屏蔽功能之外的所有功能。

该函数被调用`maskWord(state, word, guess)`。我必须保留这些变量，但它们将被传递给函数。`state`是被掩码的单词（例如.------），`word`是要猜测的单词（例如猴子），并且`guess`是用户猜测的字母。一旦函数更新了掩码单词，它应该返回`state`. 另一个规则是我不能创建全局变量。传递的变量是必须使用的变量。

这是我所拥有的：

```
def maskWord(state, word, guess)
  guessed = []
  guessed.append(guess)
  for guess in word:
    if guess in guessed:
      state += guess
    else: state += "-"
  return state 
```

它真的不起作用。因为我调用这个函数的main函数是一个while循环，所以每次都`guessed`变成一个空字符串。

如果有人可以帮助我，我将不胜感激。我知道必须可以只使用变量来编写这个函数，因为我的老师只允许使用这些变量。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T06:40:05.600

修复了我的答案以反映评论，它比**kjtl**的答案要短一些。但它基于相同的概念，通过使用状态......好吧，当前状态:)

```
def maskWord(state, word, guess):
    state = list(state)
    for i in range(len(word)):
        if word[i] == guess:
             state[i] = guess
    return "".join(state)

# Lets test if it works..:
word = "electricity"
state = "-" * len(word)
tries = 0

play = True
while play:
    if tries == len(word)*2: 
        print "Fail..."; 
        play = False
    guess = raw_input("Guess: ")
    tries +=1
    state = maskWord(state, word, guess)
    print state
    if maskWord(state, word, guess) == word:  
        print "WIN, WIN!!"; 
        play = False 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-04T07:21:24.287

通过使用 state 作为有效猜测的容器来扩展 SLACKY 的答案。

```
def maskWord(state, word, guess):

    result = ''
    guessed = []
    character = ''
    for character in state:
        if not character == '-':
            if not character in guessed:
                guessed.append(character)

    if not guess in guessed:
        guessed.append(guess)

    for guess in word:
        if guess in guessed:
            result += guess
        else: 
            result += "-"

    # for debugging change to if True:
    if False:
        print 'state %s' % state
        print 'word %s' % word
        print 'guess %s' % guess
        print guessed

    return result

# Lets test if it works..:
import sys

word = "electricity"
state = ""
tries = 0

loop = True
while loop:
    if tries == len(word)*3: 
        print "Fail..."
        loop = False
    else:
        guess = raw_input("Guess: ")
        tries +=1
        state = maskWord(state, word, guess)
        print state
        if maskWord(state, word, guess) == word:    
            print "WIN, WIN!!"
            loop = False 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-02T09:35:55.367

也许这可以帮助你：

```
import random
import string
VOWELS = 'aeiou'
CONSONANTS = 'bcdfghjklmnpqrstvwxyz'
HAND_SIZE = 7
SCRABBLE_LETTER_VALUES = { 'a': 1, 'b': 3, 'c': 3, 'd': 2, 'e': 1, 'f': 4, 'g': 2,
    'h': 4, 'i': 1, 'j': 8, 'k': 5, 'l': 1, 'm': 3, 'n': 1, 'o': 1, 'p': 3, 'q': 10,
    'r': 1, 's': 1, 't': 1, 'u': 1, 'v': 4, 'w': 4, 'x': 8, 'y': 4, 'z': 10 }

def load_words():

print ("Loading word list from file...")

# making the file

words_file= open("N:\Problem Set 1\words.txt", 'r', 0)

# making the wordlist

 words = []

 for line in words_file:

words.append(line.strip().lower())

print ("  ", len(words), "words loaded.")

return words

def get_frequency_dict(sequence):

# freqs: dictionary (element_type -> int)

frequencies = {}
    for x in sequence:
        frequencies[x] = frequencies.get(x,0) + 1
    return frequencies

# -----------------------------------

def get_word_score(word, n):
    output = 0
    # Checking whether the latter is in the list
    for letter in word:
        output = output + SCRABBLE_LETTER_VALUES.get(letter)
    output = output * len(word)
    if len(word) == n:
        output = output + 50
    if output < 0:
        print "That's is a negative value!"
    return output

def display_hand(hand):
    # Displaying the hand
    for letter, frequency in hand.items():
        for i in range(frequency):
            print letter,
    print '\n'

def deal_hand(n):
    hand={}
    number_vowels = n / 3

    for i in range(number_vowels):
        z = VOWELS[random.randrange(0,len(VOWELS))]
        hand[z] = hand.get(z, 0) + 1

    for i in range(number_vowels, n):    
        z = CONSONANTS[random.randrange(0,len(CONSONANTS))]
        hand[z] = hand.get(z, 0) + 1

    return hand

# Updating the hand
def update_hand(hand, word):       
    for letter in word:
        if hand[letter] != 0:
            hand[letter] = hand.get(letter, 0) - 1 
    return hand

#If letter chosen is in hand then append
def is_valid_word(word, hand, words_file):
    handchosen = dict.copy(hand)
    first_hand =[]
    second_hand = []
    for letter in handchosen.keys():
        for f in range(handchosen[letter]):
            first_hand.append(letter)
    for letter in word:
        for s in handchosen:
            if s == letter and handchosen[letter] != 0:
                    handchosen[letter] = handchosen.get(letter, 0) - 1
    for letter in handchosen.keys():
        for f in range(handchosen[letter]):
            second_hand.append(letter)
    if words_file.count(word) > 0 and len(word) + len(second_hand) == len(first_hand):
        return True
    else:
        return False

# Play the hand
def play_hand(hand, words_file):
    print
    print
    print 'Hey welcome to the Wordgame!'
    print
    print "Press '.' when you want to end the game."
    print
    n = HAND_SIZE
    old_hand = hand.copy()
    print 'Initial hand:',
    display_hand(hand)
    print
    loop = 1
    while loop == 1:
        yourscore = 0
        numLetters = 1
        while numLetters > 0:
            quit = '.'
            word = raw_input('Please enter a valid word: ')  
            if word != quit:
                if is_valid_word(word, hand, words_file) == False:
                    print 'Invalid word. Please enter a valid word:' 
                else:
                    numLetters = 1
                    print 'You got points for:',word,'=',get_word_score(word, n)
                    yourscore = yourscore + get_word_score(word, n)
                    print 'The total score:', yourscore
                    updated_hand = update_hand(hand, word)
                    print 'Current Hand:',
                    display_hand(updated_hand)
                    print
                    hand = updated_hand
                    for num in dict.values(hand):
                        numLetters = num + numLetters
                    numLetters = numLetters - 1
                    print numLetters,'letters are still remaining.'
                    if numLetters == 0:
                        loop = 0
                    print
            else:
                numLetters,loop = 0,0
    print 'Lets see what the final score is: ', yourscore

#Play the game
def play_game(words_file):
    hand = deal_hand(HAND_SIZE) # random init
    while True:
        # Let the user make a choice
        A = raw_input('Enter n to deal a new hand, r to play the same hand or e to end game: ')
        if A == 'n':
            hand = deal_hand(HAND_SIZE)
            play_hand(hand.copy(), words_file)
            old_hand = hand.copy()
            print
        # User can take the same hand
        elif A == 'r':
            play_hand(old_hand, words_file)
        # Break
        elif A == 'e':
            break
        else:
            print "That is a invalid command."

if __name__ == '__main__':
    words_file = load_words()
    play_game(words_file) 
```

# java - 大字符串的字符串生成器缺点

> ID：15195819
> 
> 赞同：0
> 
> 时间：2013-03-04T06:30:09.627
> 
> 标签：java, string

所以我有一个相当大的字符串，它只会变得更大。它目前有 1,539 个字符，我预计将来会增加几个查询。所以当我第一次构建字符串时，我用老式的方式创建了 7 个字符串对象，并将它们全部用加号连接起来。

但后来我想起了我的老师在很久以前说过的话，并决定把它改过来试试弦乐生成器。唯一的问题是我可以在网上找到的关于使用它的唯一真正缺点是可读性，我不认为可读性有那么糟糕。

所以我的问题是构建一个对象，容纳超过 1500 个字符是一个好主意还是一个坏主意。如果您处于我的情况，您会使用字符串、字符串生成器还是字符串缓冲区？请保存演讲的可读性。这只是我的代码，我是唯一一个阅读它的人，它并不是那么困难，所以不要将它用作变量。谢谢！

```
StringBuilder builder = new StringBuilder(1600);
builder.append("SELECT stride.id AS link, user.userName, user.displayName, user.currentDefault, stride.content, stride.timestamp, stride.recipientView, \"stride\" as notType FROM user INNER JOIN stride ON user.id = stride.sourceUserId WHERE stride.recipientId = ? AND stride.sourceUserId != ? ");
builder.append(" UNION ALL ");
builder.append("SELECT stride.id AS link, user.userName, user.displayName, user.currentDefault, stride.content, strideLike.timestamp, strideLike.recipientView, \"strideLike\" as notType FROM user INNER JOIN strideLike ON strideLike.sourceUserId = user.id INNER JOIN stride ON stride.id = strideLike.strideId WHERE strideLike.recipientId = ? AND user.id != strideLike.recipientId ");
builder.append(" UNION ALL ");
builder.append("SELECT stride.id AS link, user.userName, user.displayName, user.currentDefault, strideComment.content, strideComment.timestamp, strideComment.recipientView, \"strideCommentMe\" as notType FROM user INNER JOIN strideComment ON user.id = strideComment.sourceUserId INNER JOIN stride ON stride.id = strideComment.strideId WHERE stride.sourceUserId = ? AND user.id != stride.sourceUserId ");
builder.append(" UNION ALL ");
builder.append("SELECT stride.id AS link, user.userName, user.displayName, user.currentDefault, strideComment.content, strideCommentLike.timestamp, strideCommentLike.recipientView, \"strideCommentLike\" AS notType FROM user INNER JOIN strideCommentLike ON strideCommentLike.sourceUserId = user.id INNER JOIN strideComment ON strideComment.id = strideCommentLike.commentId INNER JOIN stride ON stride.id = strideComment.strideId WHERE strideComment.sourceUserId = ? AND user.id != ? ");
builder.append(" ORDER BY timestamp DESC"); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-04T06:32:24.327

如果您不需要对字符串执行任何其他操作，则应为此使用字符串连接。如果没有变量附加​​到字符串中，则字符串连接将在编译时发生。

使用 StringBuilder 会强制在运行时执行连接，无论是否附加了变量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:36:21.880

`StringBuilder`如果您在运行时生成字符串，则更有效。

使用这两种方法中的任何一种都没有什么不同，编译器将进行必要的优化。

```
StringBuilder builder = new StringBuilder(1600);
builder.append("SELECT stride.id AS link, user.userName, user.displayName, user.currentDefault, stride.content, stride.timestamp, stride.recipientView, \"stride\" as notType FROM user INNER JOIN stride ON user.id = stride.sourceUserId WHERE stride.recipientId = ? AND stride.sourceUserId != ? ");
builder.append(" UNION ALL ");
builder.append("SELECT stride.id AS link, user.userName, user.displayName, user.currentDefault, stride.content, strideLike.timestamp, strideLike.recipientView, \"strideLike\" as notType FROM user INNER JOIN strideLike ON strideLike.sourceUserId = user.id INNER JOIN stride ON stride.id = strideLike.strideId WHERE strideLike.recipientId = ? AND user.id != strideLike.recipientId ");
builder.append(" UNION ALL ");
builder.append("SELECT stride.id AS link, user.userName, user.displayName, user.currentDefault, strideComment.content, strideComment.timestamp, strideComment.recipientView, \"strideCommentMe\" as notType FROM user INNER JOIN strideComment ON user.id = strideComment.sourceUserId INNER JOIN stride ON stride.id = strideComment.strideId WHERE stride.sourceUserId = ? AND user.id != stride.sourceUserId ");
builder.append(" UNION ALL ");
builder.append("SELECT stride.id AS link, user.userName, user.displayName, user.currentDefault, strideComment.content, strideCommentLike.timestamp, strideCommentLike.recipientView, \"strideCommentLike\" AS notType FROM user INNER JOIN strideCommentLike ON strideCommentLike.sourceUserId = user.id INNER JOIN strideComment ON strideComment.id = strideCommentLike.commentId INNER JOIN stride ON stride.id = strideComment.strideId WHERE strideComment.sourceUserId = ? AND user.id != ? ");
builder.append(" ORDER BY timestamp DESC");

String query = "SELECT stride.id AS link, user.userName, user.displayName, user.currentDefault, stride.content, stride.timestamp, stride.recipientView, \"stride\" as notType FROM user INNER JOIN stride ON user.id = stride.sourceUserId WHERE stride.recipientId = ? AND stride.sourceUserId != ? " +
" UNION ALL " +
"SELECT stride.id AS link, user.userName, user.displayName, user.currentDefault, stride.content, strideLike.timestamp, strideLike.recipientView, \"strideLike\" as notType FROM user INNER JOIN strideLike ON strideLike.sourceUserId = user.id INNER JOIN stride ON stride.id = strideLike.strideId WHERE strideLike.recipientId = ? AND user.id != strideLike.recipientId " + 
" UNION ALL " +
"SELECT stride.id AS link, user.userName, user.displayName, user.currentDefault, strideComment.content, strideComment.timestamp, strideComment.recipientView, \"strideCommentMe\" as notType FROM user INNER JOIN strideComment ON user.id = strideComment.sourceUserId INNER JOIN stride ON stride.id = strideComment.strideId WHERE stride.sourceUserId = ? AND user.id != stride.sourceUserId " +
" UNION ALL " +
"SELECT stride.id AS link, user.userName, user.displayName, user.currentDefault, strideComment.content, strideCommentLike.timestamp, strideCommentLike.recipientView, \"strideCommentLike\" AS notType FROM user INNER JOIN strideCommentLike ON strideCommentLike.sourceUserId = user.id INNER JOIN strideComment ON strideComment.id = strideCommentLike.commentId INNER JOIN stride ON stride.id = strideComment.strideId WHERE strideComment.sourceUserId = ? AND user.id != ? " + 
" ORDER BY timestamp DESC" + 
```

# unix - 左侧常见时如何使用awk合并右侧数据

> ID：15195825
> 
> 赞同：0
> 
> 时间：2013-03-04T06:30:37.387
> 
> 标签：unix, sed, awk

当左侧数据使用 awk 很常见时，我想合并文件的右侧。

输入文件：

```
cazd0002221|1
cazd0002221|2
ceed0008792|2
croty000287|3
cazd0002221|3
crory000287|3
ceed0008792|1
ceed0008792|2 
```

预期输出为：

```
cazd0002221|1,2,3
ceed0008792|2,1
croty000287|3
crory000287|3 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T07:06:56.810

```
awk -F"|" '{a[$1]=a[$1]","$2;next}END{for(i in a)print i"|"substr(a[i],2)}' your_file 
```

测试如下：

```
> cat temp
cazd0002221|1
cazd0002221|2
ceed0008792|2
croty000287|3
cazd0002221|3
crory000287|3
ceed0008792|1
ceed0008792|2
> awk -F"|" '{a[$1]=a[$1]","$2;next}END{for(i in a)print i"|"substr(a[i],2)}' temp
cazd0002221|1,2,3
ceed0008792|2,1,2
crory000287|3
croty000287|3 
```

您的输入中有重复行。 如果您想消除该重复行，`ceed0008792|2`这就是为什么输出有此行的原因 ，然后执行以下操作：`ceed0008792|2,1,2`

```
> sort -u temp | awk -F"|" '{a[$1]=a[$1]","$2;next}END{for(i in a)print i"|"substr(a[i],2)}'
cazd0002221|1,2,3
ceed0008792|1,2
crory000287|3
croty000287|3 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T07:43:55.193

这可能对你有用（排序和 GNU sed）；

```
sort file | sed ':a;$!N;s/^\(\([^|]*|\).*\)\n\2/\1,/;ta;P;D' 
```

# python - 你如何在python中打印出空行？

> ID：15195832
> 
> 赞同：1
> 
> 时间：2013-03-04T06:31:16.057
> 
> 标签：python

我一直无法找到任何关于此的信息。
我想知道如何使用`clear_screen`可以打印出 20 个空白行的函数（例如）。
我的程序的最后一行应该是调用`clear_screen`.

我的代码的开头是：

```
def new_line():
    print
def three_lines():
    new_line()
    new_line()
    new_line()
def nine_lines():
    three_lines()
    three_lines()
    three_lines()
print " "
nine_lines()
print " " 
```

打印功能有效，但不适用于`clear_screen()`，这就是我需要的工作。
如果有人可以帮助我或有任何建议，那就太好了，谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T06:33:42.020

我认为没有单一的跨平台方式。因此，而不是依赖于`os.*`，以下可以工作

```
print("\n"*20) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-04T06:38:53.570

你`clear_screen`可以

1.  `os.system`基于

    ```
    def clear_screen():
        import os
        os.system( [ 'clear', 'cls' ][ os.name == 'nt' ] ) 
    ```

    适用于 Unix 和 Windows。
    来源：[这里](https://stackoverflow.com/a/2084628/1931274)

2.  基于换行

    ```
    def clear_screen():
        print '\n'*19 # print creates it's own newline 
    ```

* * *

根据您的评论，您的代码似乎是

```
def new_line():
    print
def three_lines():
    new_line()
    new_line()
    new_line()
def nine_lines():
    three_lines()
    three_lines()
    three_lines()
print " "
nine_lines()
print " " 
```

它会工作并且确实可以，
**但是**如果可以这样做，您为什么要拥有这么长的代码`print '\n'*8`呢？

**速度测试**
即使你没有速度限制，这里有一些 100 次跑步的速度统计数据

```
os.system function took 2.49699997902 seconds.
'\n' function took 0.0160000324249 seconds.
Your function took 0.0929999351501 seconds. 
```

# socket.io - 如何从配置文件中获取 ip 地址以在 io.connect('ip:port') 中使用

> ID：15195834
> 
> 赞同：0
> 
> 时间：2013-03-04T06:31:26.787
> 
> 标签：socket.io

```
var socket = io.connect('http://ip:port');
socket.on('connect', function(){});
socket.on('message', function(message) {
    some code..
}); 
socket.on('disconnect', function(){ }); 
```

在这里我不想使用硬编码的IP地址。所以我需要从配置文件中获取。建议我解决这个问题。提前谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T17:21:42.430

您可以将 IP/PORT 存储在服务器上的配置文件中，然后使用 expressjs 中的 'locals' 函数将这些变量传递给前端。

这将使您的视图渲染器可以使用该信息，从而可以将数据写入您的模板中。

如何最好地设置您的配置文件实际上取决于您的特定用例。

* * *

```
# Server Side
app.locals.hosts = {
  http: 'localhost:3000',
  file: 'localhost:3001',
  websocket: 'localhost:2000'
} 
```

* * *

```
# Client Side (rendered via mustache)
var socket = io.connect('ws://#{hosts.websocket}'); 
```

# c++ - 在 std 命名空间中定义的友好类：有什么保证吗？

> ID：15195840
> 
> 赞同：5
> 
> 时间：2013-03-04T06:31:38.157
> 
> 标签：c++, std, language-lawyer

当我回答[这个问题时出现了这个问题](https://stackoverflow.com/questions/15193108/c-unique-ptr-versus-friend-class-private-destructor/15193179)：标准是否允许并保证`friend`-ing 标准库类和/或函数？

在这种特殊情况下，问题是：

```
class MyUserDefinedType
{
    friend struct std::default_delete<MyUserDefinedType>;

private:
    ~MyUserDefinedType() { }
} 
```

保证允许使用默认删除器`MyUserDefinedType`存储在`std::unique_ptr<MyUserDefinedType>`or`std::shared_ptr<MyUserDefinedType>`对象中。

一般来说，标准库中描述的类是否需要直接实现其功能，或者它们可以使用任意级别的间接？例如，是否有可能

*   `std::default_delete<MyUserDefinedType>`实际上是`using`在 的内部命名空间中定义的类的别名`std`，在这种情况下，`friend`声明将是非法的

或者

*   `std::default_delete<MyUserDefinedType>`调用其他一些实际执行删除的类，在这种情况下，`friend`声明不会产生预期的效果

或其他类似的东西？

我的猜测是，这不能保证~~UB~~可以正常工作，但我很好奇这个标准是否专门解决了这个问题。

上面给出的这个具体示例适用于 clang trunk (w/libc++) 和 GCC 4.7.2 (w/libstdc++), FWIW

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-04T07:29:02.570

> 是否可能`std::default_delete<MyUserDefinedType>`实际上是在 std 的内部命名空间中定义的类的 using 别名，在这种情况下，朋友声明将是非法的？

**没有**。根据 C++11 标准的第 20.7.1.1.2 段：

```
namespace std {
    template <class T> struct default_delete {
        constexpr default_delete() noexcept = default;
        template <class U> default_delete(const default_delete<U>&) noexcept;
        void operator()(T*) const;
    };
} 
```

它必须是类模板这一事实已明确指定。这意味着它不能是别名模板。那样的话，也不可能专门化。

> 是否有可能`std::default_delete<MyUserDefinedType>`调用其他实际执行删除的类，在这种情况下，朋友声明不会产生预期的效果？

**是的。**标准中没有任何内容指定调用不能由某些内部助手完成。根据第 20.1.1.2 段：

```
void operator()(T *ptr) const; 
```

> 3 效果：呼吁`delete`。`ptr`
> 
> 4 备注：如果`T`是不完整类型，则程序格式错误。

这仅指定在函子上调用调用运算符的*效果*`default_delete<>`应该是什么，而不是具体*如何*实现（无论是直接在调用运算符的主体内，还是通过将任务委托给某个其他类的某个成员函数）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T07:47:06.483

> 一般来说，标准库中描述的类是否需要直接实现其功能，或者它们可以使用任意级别的间接？

*通常*，实现可以根据需要间接实现。例如，查看标准容器及其迭代器的实现——或者只是错误地使用它们，然后从错误消息中查看涉及哪些模板。但是，既然`default_delete`没有什么神奇的，那应该是一个单行，你可以期望它自己完成工作，但不能保证。

> 我的猜测是这是 UB，但我很好奇这个标准是否专门解决了这个问题。

这不是UB，只是未指定。

您可以确定您是否只是专门*化*`default_delete<MyUserDefinedType>`（允许专门化标准库模板），但我不会那样做。

 *我根本不会使用友谊，尤其是在涉及到没有专门化的模板时。考虑一下：

```
//your code
class MyUserDefinedType
{
    friend struct std::default_delete<MyUserDefinedType>; //for deletion
private:  
    int veryPrivateData;
    ~MyUserDefinedType() { }
};

//evil colleague's code:
namespace std {
  //we may specialize std-templates for UDTs...
  template<>
  struct default_delete<MyUserDefinedType>
  {
    constexpr default_delete() noexcept = default;
    template <class U> default_delete(const default_delete<U>&) noexcept {}
    void operator()(T* pt) const { delete pt; }

    //sneaky...
    void access(MyUserDefinedType& mudt, int i) const
    { mudt.veryPrivateData = i; }
  };
}

void somewhere_deep_in_the_code()
{
  MyUserDefinedType& myUDT = /*something...*/;
  std::default_delete<MyUserDefinedType>().access(myUDT, 42); //tricked you!
} 
```

朋友可以对你做*任何事*。谨慎选择它们。在这种情况下，我真的推荐一个自定义删除器 - 假设将析构函数设为私有但通过删除器提供对它的访问是有意义的。*

# scrapy - 从 CrawlSpider 导出独特的项目

> ID：15195843
> 
> 赞同：1
> 
> 时间：2013-03-04T06:31:49.843
> 
> 标签：scrapy

我正在使用scrapy 的`CrawlSpider`蜘蛛类来遍历列表`start_urls`并爬取每个站点的内部页面以获取电子邮件地址。我想为每个 start_url 导出一个包含单个（唯一）项目的文件，以及匹配的电子邮件列表。为此，我需要重写`make_requests_from_url`and`parse`方法，以便可以将响应的元字典（参见代码）中的每个 start_url 项传递给内部页面。运行此代码的输出是：

```
www.a.com,['webmaster@a.com']
www.a.com,['webmaster@a.com','info@a.com']
www.a.com,['webmaster@a.com','info@a.com','admin@a.com'] 
```

但是，我只希望导出文件包含上述输出中的最后一个条目

`(www.a.com,['admin@a.com,webmaster@a.com, info@a.com'])`

那可能吗？

**代码：**

```
class MySpider(CrawlSpider):

    start_urls = [... urls list ...]

    def parse(self, response):
        for request_or_item in CrawlSpider.parse(self, response):
            if isinstance(request_or_item, Request):
                request_or_item.meta.update(dict(url_item=response.meta['url_item']))
            yield request_or_item

    def make_requests_from_url(self, url):
        # Create a unique item for each url. Append email to this item from internal pages
        url_item = MyItem()
        url_item["url"] = url
        url_item["emais"] = []

        return Request(url, dont_filter=True, meta = {'url_item': url_item})

    def parse_page(self, response):
        url_item = response.meta["url_item"]
        url_item["emails"].append(** some regex of emails from the response object **)
        return url_item 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T16:50:42.210

你可以`pipeline`用来处理物品。

请参阅Scrapy 文档中的[重复过滤器。](http://doc.scrapy.org/en/latest/topics/item-pipeline.html#duplicates-filter)

# list - Python：遍历列表

> ID：15195851
> 
> 赞同：1
> 
> 时间：2013-03-04T06:32:21.703
> 
> 标签：list, python-2.7, iterator

我得到一个文本文件，其中包含许多行，如下所示...许多随机信息

> Spiaks 餐厅|42.74|-73.70|2 Archibald St+Watervliet, NY 12189| [http://www.yelp.com/biz/spiaks-restaurant-watervliet|意大利语|4|5|4|3|3|4|4](http://www.yelp.com/biz/spiaks-restaurant-watervliet|Italian|4|5|4|3|3|4|4)

例如，Spiaks Restaurant 位于位置 0，42.74 位于位置 1，-73.70 位于位置 2.... Italian 位于位置 5... 4|5|4|3|3|4|4 是另一个列表...所以基本上是一个列表中的一个列表，数字 4 将位于第 6 位，5 位于第 7 位 .. 等等

我必须问用户，用户应该回复：

```
What type of restaurant would you like => Italian
What is the minimum rating => 3.6 
```

结果应该是：

```
Name: Spiaks Restaurant; Rating 3.86
Name: Lo Portos; Rating 4.00
Name: Verdiles Restaurant; Rating 4.00
Found 3 restaurants. 
```

这是我的代码：

```
rest_type = raw_input("What type of restaurant would you like => ")
min_rate = float(raw_input("What is the minimum rating => "))

def parse_line(text_file):
count = 0.0
a_strip = text_file.strip('\n')
b_split = a_strip.split('|')

for i in range(6, len(b_split)):
    b_split[i] = int(b_split[i]) # Takes the current indices in the list and converts it to integers
    count += b_split[i] # Add up all of the integers values to get the total ratings
    avg_rate = count/len(b_split[6:len(b_split)]) # Takes the total ratings & divides it by the length

#The above basically calculates the average of the numbers like 4|5|4|3|3|4|4

    if (rest_type == b_split[5] and avg_rate >= min_rate):
        print b_split[0], avg_rate 
```

结果的问题是..我得到：

```
None 
```

我知道这是一个非常非常长的问题，但如果有人能给我一些见解，我将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:53:23.717

您是否尝试打印出您汇总的所有信息？

找出错误发生的位置，无论是当您尝试解析特定餐厅时，还是直接不解析任何内容并最终得到一个空白列表。

# jquery - jQuery Validate 插件动态选择错误元素

> ID：15195855
> 
> 赞同：1
> 
> 时间：2013-03-04T06:32:28.693
> 
> 标签：jquery, jquery-validate

我正在使用[jQuery 验证插件](http://bassistance.de/jquery-plugins/jquery-plugin-validation/)，我希望能够`errorElement`根据有错误的元素类型动态确定。我知道你可以`errorElement`这样：

```
$("form").validate({
    errorElement: "div"
}); 
```

但是，我希望能够更改它，以便如果类型是复选框或单选按钮，那么我可以`errorElement`将`li`. 有谁知道如何做到这一点？谢谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-04T06:38:25.880

我正在查看[插件中的代码，](http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.0/jquery.validate.js)该`errorElement`选项只是寻找一个元素作为其参数。由于没有回调函数`errorElement`，我认为没有直接的方法可以在不修改插件本身的情况下实现您的要求。

`errorPlacement`也许你可以用回调做点什么。

假设将其保留为 a`label`然后用其他容器包装？或用于`errorElement`将它们全部放在 a`<span>`中，同时在任何容器中动态使用它们`errorPlacement`。`wrap`请参阅[jQuery`.wrap()`](http://api.jquery.com/wrap/)。

```
 errorElement: 'span',
    errorPlacement: function (error, element) {
        var type = $(element).attr("type");
        if (type === "radio") {
            // custom placement
            error.insertAfter(element).wrap('<li/>');
        } else if (type === "checkbox") {
            // custom placement
            error.insertAfter(element).wrap('<li/>');
        } else {
            error.insertAfter(element).wrap('<div/>');
        }
    }, 
```

**演示：http: [//jsfiddle.net/uLH4f/](http://jsfiddle.net/uLH4f/)**

# android - 运行android应用程序时出现NoclassDefFoundError异常

> ID：15195858
> 
> 赞同：0
> 
> 时间：2013-03-04T06:32:35.980
> 
> 标签：android

我是 android 新手，我在 ksoap2 jar 中有一个问题。我在运行程序时遇到以下异常并且程序因错误而关闭 - 不幸的是应用程序停止了。我对 jar 使用 ksoap2-android-assembly-2.5.8-jar-with-dependencies 并且我已将它包含在构建路径 lib 和 /lib 文件夹中，但问题仍然存在。

我正在使用 .zip 文件，我不知道如何将其转换为 jar ...这是问题所在。请帮助，在此先感谢。

```
03-04 06:24:38.337: E/AndroidRuntime(790): FATAL EXCEPTION: main
03-04 06:24:38.337: E/AndroidRuntime(790): java.lang.NoClassDefFoundError: org.ksoap2.serialization.SoapObject
03-04 06:24:38.337: E/AndroidRuntime(790):  at com.android.example.ksoap2demo.MainActivity.onCreate(MainActivity.java:27)
03-04 06:24:38.337: E/AndroidRuntime(790):  at android.app.Activity.performCreate(Activity.java:5104)
03-04 06:24:38.337: E/AndroidRuntime(790):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1080)
03-04 06:24:38.337: E/AndroidRuntime(790):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2144)
03-04 06:24:38.337: E/AndroidRuntime(790):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2230)
03-04 06:24:38.337: E/AndroidRuntime(790):  at android.app.ActivityThread.access$600(ActivityThread.java:141)
03-04 06:24:38.337: E/AndroidRuntime(790):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1234)
03-04 06:24:38.337: E/AndroidRuntime(790):  at android.os.Handler.dispatchMessage(Handler.java:99)
03-04 06:24:38.337: E/AndroidRuntime(790):  at android.os.Looper.loop(Looper.java:137)
03-04 06:24:38.337: E/AndroidRuntime(790):  at android.app.ActivityThread.main(ActivityThread.java:5041)
03-04 06:24:38.337: E/AndroidRuntime(790):  at java.lang.reflect.Method.invokeNative(Native Method)
03-04 06:24:38.337: E/AndroidRuntime(790):  at java.lang.reflect.Method.invoke(Method.java:511)
03-04 06:24:38.337: E/AndroidRuntime(790):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
03-04 06:24:38.337: E/AndroidRuntime(790):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
03-04 06:24:38.337: E/AndroidRuntime(790):  at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:35:16.507

我可以看到的第一个问题是将文件夹重命名为 libs 而不是 lib。如果您解压缩 .zip 文件，您可能会得到 jar 文件，并且您需要将该 jar 文件放入 libs 文件夹并添加到构建路径中。这将解决问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:36:58.393

变成外部罐子，例如

```
ksoap2-android-assembly-2.5.8-jar-with-dependencies.jar 
```

放在 /libs 文件夹下，以便 Eclipse ADT 自动将您的 jars 添加到应用程序的构建路径中。毕竟这是一个缺少定义的类错误的构建路径。我希望这对你也有帮助！

# php - 无法通过sql中的while循环获取计数值？

> ID：15195860
> 
> 赞同：0
> 
> 时间：2013-03-04T06:32:44.540
> 
> 标签：php, mysql, count, while-loop

我还需要获取发送消息的用户数。

```
$userlist = mysql_query("select count(distinct m.subject) as msgcnt, u.name from message as m, message_users as mu, users as u where m.owner_id = u.id and m.id=mu.msg_id and mu.user_id='$u_id'group by name") or mysql_error();
        while($row=mysql_fetch_array($userlist))
        {               
            echo $row['name']."<br />";
        } 
```

如何使用while循环获取计数值..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T06:34:56.760

您已经将所述计数存储在 alias`msgcnt`中，只需回显它。

```
while($row=mysql_fetch_assoc($userlist))
        {               
            echo $row['name']." : ".$row['msgcnt']."<br />";
        } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T06:34:33.640

```
echo $row['msgcnt'].'<br/>'; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T06:36:08.837

用于`mysql_fetch_assoc`获取关联数组！

```
$userlist = mysql_query("select count(distinct m.subject) as msgcnt, u.name from message as m, message_users as mu, users as u where m.owner_id = u.id and m.id=mu.msg_id and mu.user_id='$u_id'group by name") or mysql_error();
while($row=mysql_fetch_assoc($userlist)) {               
        echo $row['name']."<br />";           
        echo $row['msgcnt']."<br />";
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-04T06:36:36.273

`msgcnt`当您将别名指定为时使用`msgcnt`

```
echo $row['msgcnt']."<br />"; 
```

# jsf-2 - JSF2 表单未使用 JavaScript 函数呈现以禁用所有表单元素

> ID：15195876
> 
> 赞同：0
> 
> 时间：2013-03-04T06:34:10.690
> 
> 标签：jsf-2, richfaces

我想禁用表单主中的所有元素并在“添加新”按钮上渲染表单创建，但我面临一些问题：单击“添加新按钮”时调用了 JS 函数，但表单被禁用了一段时间，以及表单创建未呈现。

```
<script type="text/javascript">
function enableDisable(){
 alert("Enable Disable");
 var f = document.getElementById('main');
 var len=f.elements.length;
 for(x=0;len>x;x++) {
  f.elements[x].disabled=true;
 }
} 
```

单击“添加新按钮”时，会调用 JS 函数，但表单会被禁用一段时间，并且不会呈现表单创建。

```
<h:commandButton onclick="enableDisable()" value="Add new" action="#{cars.resetCreate}"  render="create" >

</h:commandButton> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:41:08.250

首先没有`render`in 。`<h:commandButton>`它`rendered`是布尔值，它采用`true`或`false`.JSF`commandButton`并且`commandLink`不是用 ajax 构建的，就像`<p:commandButton>`primefaces 组件一样。并且该属性`render`仅适用于`<f:ajax>`. 所以，在你的情况下，如果你想获得`create`表格，你必须做这样的事情，

```
<h:commandButton onclick="enableDisable()" value="Add new" action="#{cars.resetCreate}">
    <f:ajax execute="@this" render="create">
</h:commandButton> 
```

# python - 如何将 QImage（或类似的东西）插入 QLabel？

> ID：15195880
> 
> 赞同：0
> 
> 时间：2013-03-04T06:34:17.693
> 
> 标签：python, qt, python-3.x, pyqt

我在 QLabel 中有文本和图像，所以 setPixmap 不能满足我的要求。
据我所知，QLabel 可以通过设置 HTML label 从文件中加载图像`<img src="path_to_file" />`。但是如何从内存中加载图像（例如 QImage）？由于某些图像经常使用，因此每次从文件中加载相同的图像可能会出现性能问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T09:43:50.877

`QLabel`接受`QPixmaps`，可以从 构造`QImage`。我不知道python接口，但也许这有帮助：

在 C++ 中，您可以像这样设置图像：

```
QLabel label;
QImage image("path_to_file");
QPixmap pixmap = QPixmap::fromImage(image);
label.setPixmap(pixmap); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T09:14:45.620

您还可以将 QLabel 的样式表设置为：- QLabel{ background-image: url(/images/button.png);

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T06:40:11.583

你有两个选择：

1.  使用两个标签，一个带有文本，一个带有图像。
2.  使用 QPainter 在图像上绘制文本。

# perl - 如何用perl打印不重复？

> ID：15195882
> 
> 赞同：2
> 
> 时间：2013-03-04T06:34:37.540
> 
> 标签：perl, printing, no-duplicates

我的作业比标题更深入一点，但标题是我的主要问题。这是作业：

编写一个 perl 脚本，该脚本将对文件/目录列表中的所有常规文件以及文件/目录列表中目录下的所有常规文件中所有出现的正则表达式进行 grep。*如果文件不是 TEXT 文件，则应首先通过 unix 命令**字符串**（无开关）对该文件进行操作，然后搜索结果行。*如果 -l 开关只给出了包含正则表达式的文件的文件名，则每行一个。在这种情况下，一个文件名最多应出现一次。如果未给出 -l 开关，则应打印所有匹配的行，每行都以文件名和冒号开头。从命令行调用的示例：

plgrep 'ba+d' file1 dir1 dir2 file2 file3 dir3

这是我的代码：

```
#!/usr/bin/perl -w

use Getopt::Long;
my $fname = 0;
GetOptions ('l' => \$fname);

$pat = shift @ARGV;
while (<>) {
    if (/$pat/) {
        $fname ? print "$ARGV\n" : print "$ARGV:$_";
    }
} 
```

到目前为止，除了读取非文本文件并在使用 -l 开关时打印出文件名的副本之外，该代码完成了它应该做的所有事情。这是我在命令行输入以下内容后的输出示例：plgrep 'ba+d' file1 file2

*   文件1：我的狗很坏。
*   文件 1：我的狗非常棒。
*   file2：我吉他不好。
*   file2：虽然吉他弹得不好，但弹起来还是很有趣的！

这是完美的！但是当我使用 -l 开关只打印文件名时，这是我在命令行上输入以下内容后得到的：plgrep -l 'ba+d' file1 file2

*   文件 1
*   文件 1
*   文件2
*   文件2

我如何摆脱那些重复的，所以它只打印：

*   文件 1
*   文件2

我试过了：

```
$pat = shift @ARGV;
while (<>) {
    if (/$pat/) {
        $seen{$ARGV}++;
        $fname ? print "$ARGV\n" unless ($seen{$ARGV} > 1); : print "$ARGV:$_";
    }
} 
```

但是当我尝试在没有 -l 开关的情况下运行它时，我只会得到：

*   文件1：我的狗很坏。
*   file2：我吉他不好。

我也试过：

$f名称？打印 "$ARGV\n" 除非 ($ARGV > 1) : 打印 "$ARGV:$_";

但我一直在 plgrep 第 17 行出现语法错误，靠近 ""$ARGV\n" unless"

如果有人可以帮助我解决我的重复问题以及作业的斜体部分，我将非常感激。我什至不知道从那个斜体部分开始。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T07:02:44.200

如果您只打印文件名，您可以`last`在第一次匹配后退出循环（使用命令），因为您已经知道文件匹配。通过不扫描文件的其余部分，这也将防止名称被重复打印。

**编辑添加：**为了做到这一点，您还需要从使用`<>`读取文件切换到正常获取名称`@ARGV`并从中获取名称`open`。

如果您想继续使用`<>`，则需要观察`$ARGV`它何时更改（表明您已开始读取新文件）并保留一个标志以指示当前文件是否已找到任何匹配项。但是，这种方法需要您完整读取每个文件，这比仅读取每个文件的足够多以知道它是否包含至少一个匹配项（即，在第一个匹配项后跳到下一个文件）效率要低)，所以我建议`open`改用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T16:22:28.060

第一个语法问题只是一个额外的分号。

第二个是您只能在语句末尾使用 if/unless 作为语句修饰符 - 您不能以这种方式将它嵌入到条件的中间。

```
$fname ? print "$ARGV\n" unless ($seen{$ARGV} > 1); : print "$ARGV:$_"; 
```

变成：

```
next if $seen{$ARGV} > 1;
print $fname ? "$ARGV\n" : "$ARGV:$_"; 
```

# sql-server - 从另一个 proc 停止一个 proc

> ID：15195886
> 
> 赞同：0
> 
> 时间：2013-03-04T06:35:15.107
> 
> 标签：sql-server

我有一个进行一些数学计算的过程。当用户单击计算按钮时，会在 UI 上调用此过程。这个proc根据我们可以作为参数传递的条件调用了一些proc。现在我想实现一种方法，当用户单击停止计算按钮时，所有计算都应该停止并回滚。我如何从 sql 端实现它，或者有什么方法可以让我在另一个 proc 的帮助下停止执行 main proc。

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T10:37:22.950

如果您要建立单独的连接来运行计算，则可以使用该`KILL`语句终止该会话。

`KILL`接受一个参数，在您的特定情况下，该参数是分配给服务器连接的会话 ID。

请注意，这`KILL`意味着回滚任何未决事务（在该会​​话中），这也可能需要一些时间。（时间取决于`KILL`发布时待处理的更改数量。）

[阅读手册中](http://msdn.microsoft.com/en-us/library/ms173730.aspx "杀死（事务处理 SQL）")有关该命令的更多信息。

# java - NIO2：如何将 URI 映射到路径？

> ID：15195890
> 
> 赞同：3
> 
> 时间：2013-03-04T06:35:38.907
> 
> 标签：java, jar, filesystems, zip, nio2

我试图找到一种简单的方法来将 a 映射`URI`到 a`Path`而无需编写特定于任何特定文件系统的代码。以下似乎可行，但需要有问题的技术：

```
public void process(URI uri) throws IOException {
    try {
        // First try getting a path via existing file systems. (default fs)
        Path path = Paths.get(uri);
        doSomething(uri, path);
    }
    catch (FileSystemNotFoundException e) {
        // No existing file system, so try creating one. (jars, zips, etc.)
        Map<String, ?> env = Collections.emptyMap();
        try (FileSystem fs = FileSystems.newFileSystem(uri, env)) {
            Path path = fs.provider().getPath(uri);  // yuck :(
            // assert path.getFileSystem() == fs;
            doSomething(uri, path);
        }
    }
}

private void doSomething(URI uri, Path path) {
    FileSystem fs = path.getFileSystem();
    System.out.println(uri);
    System.out.println("[" + fs.getClass().getSimpleName() + "] " + path);
} 
```

在几个示例上运行此代码会产生以下结果：

```
file:/C:/Users/cambecc/target/classes/org/foo
[WindowsFileSystem] C:\Users\cambecc\target\classes\org\foo

jar:file:/C:/Users/cambecc/bin/utils-1.0.jar!/org/foo
[ZipFileSystem] /org/foo 
```

请注意`URI`s 是如何映射到`Path`已“植根”到正确类型的对象上的`FileSystem`，例如引用 jar 中目录“/org/foo”的路径。

这段代码让我困扰的是，尽管 NIO2 很容易：

*   将 URI 映射到*现有*文件系统中的路径： `Paths.get(URI)`
*   将 URI 映射到*新* `FileSystem`实例： `FileSystems.newFileSystem(uri, env)`

...没有很好的方法将 URI 映射到*新* `FileSystem`实例中的路径。

我能找到的最好的方法是，在创建文件系统之后，我可以要求它`FileSystemProvider`给我路径：

```
Path path = fs.provider().getPath(uri); 
```

但这似乎是错误的，因为不能保证它会返回一个绑定到我刚刚实例化的文件系统的路径（即，`path.getFileSystem() == fs`）。它非常依赖 FileSystemProvider 的内部状态来知道我指的是什么 FileSystem 实例。没有更好的办法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-25T11:42:08.053

您在 zipfs 的实现/文档中发现了一个错误。 Path.get 方法的文档指出：

```
* @throws  FileSystemNotFoundException
*          The file system, identified by the URI, does not exist and
*          cannot be created automatically 
```

编辑：对于需要关闭的文件系统，最好要求程序员调用 newFileSystem 以便他可以关闭它。文档最好自动阅读“如果不应该创建”。

ZipFs 从不尝试创建新的文件系统。失败的 get() 不会被捕获，而是在尝试调用 newFileSystem 之前传递给调用者。见源码：

```
public Path getPath(URI uri) {

    String spec = uri.getSchemeSpecificPart();
    int sep = spec.indexOf("!/");
    if (sep == -1)
        throw new IllegalArgumentException("URI: "
            + uri
            + " does not contain path info ex. jar:file:/c:/foo.zip!/BAR");
    return getFileSystem(uri).getPath(spec.substring(sep + 1));
} 
```

换句话说：

```
Paths.get() 
```

对于所有基于 nio2 的文件系统应该足够了。采用 zipfs 设计。

```
Path path;
try {
   path = Paths.get( uri );
} catch ( FileSystemNotFoundException exp ) {
   try( FileSystem fs = FileSystems.newFileSystem( uri, Collections.EMPTY_MAP )) {;
       path = Paths.get( uri );
       ... use path ...
   }
} 
```

是您的解决方法的缩写形式。

注意：nio 文档声明 getFileSystem 必须使用/返回由匹配的 newFileSystem 创建的文件系统。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-05-03T14:47:13.680

问：“我正在尝试找到一种简单的方法来将 URI 映射到路径，而无需编写特定于任何特定文件系统的代码”

A：没有这样的方法

整个问题只有在与 URI 关联的文件系统尚未打开时才有意义，即当 getFileSystem（在 Paths.get 中）抛出 FileSystemNotFoundException 时。但是要调用 newFileSystem 你需要知道两件事：

*   用于创建新文件系统的（部分）URI。该文档说，即在默认文件系统的情况下，URI 的路径组件必须是根。例如 getFileSystem(URI.create("file:///duda", Collections.EMPTY_MAP) 失败。
*   在环境映射中设置什么，例如可能是密码。

因此，要从 URI 创建新文件系统，您必须了解要创建的文件系统。

# javascript - JQuery 图像滑块不起作用...我做错了什么？

> ID：15195893
> 
> 赞同：0
> 
> 时间：2013-03-04T06:35:59.563
> 
> 标签：javascript, jquery, image, slider

它应该是简单的图像滑块......为什么，为什么这不起作用？我遵循了一些教程，但它是 youtube 上的视频教程，所以我没有在某些网站上比较他们的工作代码，但是，根据他们的指导和我一周的知识，我找不到错误.. .

```
<html>
<head>
<title>JQuery test</title>
<style type="text/css">
.slider {
width:500px;
height:250px;
overflow:hidden;
margin:30px auto;
background-image:url(img/loading.gif);
background-repeat:no-repeat;
background-position:center;
}
.slider img {
width:800px;
height:350px;
}
</style>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.1/jquery-ui.min.js"></script>
<script type="text/javascript">
function Slider(){
$(".slider#img1").show("fade",500);
$(".slider#img1").delay(5500).hide("slide",{direction:'left'},500);

var sc=$(".slider img").size();
var count=2;

setInterval(function(){
    $(".slider #img"+count).show("slide",{direction:"right"}, 500);
    $(".slider #img"+count).delay(5500).hide("slide", {direction:"left"}, 500);

    if(count==sc){
    count=1;
    } else {
    count=count+1;
}, 6500);
}
}
</script>
</head>
<body onload="Slider()">

<div class="slider">
<img id="img1" src="img/1.jpg" />
<img id="img2" src="img/2.jpg" />
<img id="img3" src="img/3.jpg" />
</div>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:46:27.337

你把你的`}`支架放错地方`else`了`setInterval`

```
function Slider(){
  $(".slider#img1").show("fade",500);
  $(".slider#img1").delay(5500).hide("slide",{direction:'left'},500);

  var sc=$(".slider img").size();
  var count=2;
  setInterval(function(){
    $(".slider #img"+count).show("slide",{direction:"right"}, 500);
    $(".slider #img"+count).delay(5500).hide("slide", {direction:"left"}, 500);

    if(count==sc){
      count=1;
    } else {
      count=count+1;
    }
  }, 6500);  //<---here
} 
```

# unity3d - 在 Unity 中我应该为 IOS 使用多大的界面图像

> ID：15195895
> 
> 赞同：0
> 
> 时间：2013-03-04T06:36:10.817
> 
> 标签：unity3d

我没有将 Unity GUI 用于我的游戏 UI。UI 正在使用 Unity 的平面构建。

在 UI 中，我有按钮大小（100x100）和纹理（大小 100x100）和比例（1,1）我应该在 iOS 应用程序中为同一个按钮使用什么大小的纹理（大小 100x100）（通常在 iOS 应用程序中使用 2x 大小的纹理（ 200x200))

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T23:18:55.067

您可以通过将脚本附加到平面来动态缩放您创建的平面，以便它们可以处理各种 iPhone/iPad 分辨率。找出最有效的方法主要是基于通过测试得出的意见。

```
start()
{
    transform.localScale = new Vector3(Screen.width / 100, Screen.height / 100, 1); 
```

# jquery - oTable.fnFilter 不工作

> ID：15195900
> 
> 赞同：1
> 
> 时间：2013-03-04T06:36:24.587
> 
> 标签：jquery, datatables

我想提供`thead`数据表的搜索并在其中实现搜索......但它不起作用......

```
$("#listings_row thead input").keyup( function () {
    oTable.fnFilter( this.value, $(this).attr('id') );
} );

<thead style="background:none;border:none;" id="searchbox">
    <tr class="search_box">
        <th><input type="text" style="height:16px;" name="search_engine" value="Search engines"   class="search_init" id="1" /></th>
    </tr>
</thead> 
```

[http://jsfiddle.net/methew/u9654/3/](http://jsfiddle.net/methew/u9654/3/)

只有这一行不能正常工作...oTable.fnFilter(this.value, $(this).attr('id'));

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-04T08:24:56.527

注意`id`你的 s`<input`它从*1*开始，而它应该从*5开始*

您正在使用 的值对`id`列进行排序...因此，由于您的 id 从 1 开始，因此您将过滤器应用于错误的列

[这是一个 jsfiddle - 快速而肮脏的工作版本](http://jsfiddle.net/caAde/3/)

# android - In-App Billing v3 恢复购买

> ID：15195903
> 
> 赞同：1
> 
> 时间：2013-03-04T06:36:40.610
> 
> 标签：android, in-app-purchase

现在我正在使用inapp purchase v3，我可以购买物品。

但是当我买了它，我卸载了应用程序，清除了 Google Play 数据并删除了帐户（然后我用相同的帐户再次登录），当我再次安装该应用程序时，我的购买历史是空的。如何在 v3 中恢复它？

如果我查看 IabHelper 中的代码，则有一个函数`queryPurchases`：

```
Bundle ownedItems = mService.getPurchases(3, mContext.getPackageName(),
                itemType, continueToken); 
```

但第一次， continueToken 为空。这可能是问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-15T12:29:18.427

在尝试恢复购买时，请确保您**没有**使用 `STATIC PRODUCT IDs(android.test.purchased, android.test.refunded....) 对其进行测试。使用静态 ID 进行的购买不会添加到您的购买历史记录中。因此，您将无法检索它。但是，您可以使用您为应用内产品测试创建的测试产品 ID。

如果您使用正确的包名称、购买类型和产品 ID 进行查询，则应该可以很好地列出您以前的购买。此外，请务必使用您用于购买的 Google 帐户。继续标记通常为空。它只是一个参数，表明您有更多的购买无法在对您的`getPurchases`呼叫的第一次响应中得到满足。

# php - PHP + MSSQL 数据未使用 sqlsrv 插入表中

> ID：15195907
> 
> 赞同：1
> 
> 时间：2013-03-04T06:36:50.640
> 
> 标签：php, sql-server-2008

我的**sqlsrv_query**有问题。我通过我的应用程序进行了简单的插入和更新..我的系统弹出插入成功..但是当我使用 mssql studio 管理（MSSQL 2008 R2）时也使用了 EMS SQL，我的表中没有数据..我尝试使用从我的应用程序返回我的查询并粘贴到我在 mssql 工作室管理的查询编辑器中，它有效，**1 行受影响**。我现在不知道实际发生了什么。我正在使用**PHP 5.3.22**驱动程序**php_sqlsrv_53_nts_vc9.dll**。我的数据库连接没有问题..请帮助我。

```
$serverName = "servername"; $connectionInfo = array( "Database"=>"databasename", "UID"=>"username", "PWD"=>"password"); $conn = sqlsrv_connect( $serverName, $connectionInfo);

 function msexecDB($query, $conn){

     $result = sqlsrv_query($conn, $query) or trigger_error("A SQL error has occurred.Your Query:---------" . $query . "---------"); return $result;

    }

    $insert_program = "INSERT INTO TB_PROGRAM (kod_program) VALUES ('$kod_program')";
    $row_program = msexecDB($insert_program, $conn); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T11:51:29.143

检查 $kod_program 的值。您可能正在插入一个空白字符串，该字符串可能看起来根本没有记录，但会成功运行查询。

# ajax - jQuery/AJAX 的缓存问题

> ID：15195909
> 
> 赞同：0
> 
> 时间：2013-03-04T06:36:54.243
> 
> 标签：ajax, jquery, caching

我多次通过 $.ajax 获取数据。但是，数据并没有在每次调用中都得到刷新。相反，我在每次调用 $.ajax 时都会得到相同的数据。代码在我家正常工作。

但是在下面的代码中，如果我替换 console.log("success"); 使用 console.log("成功 "+data); 并在 chrome 控制台中观察，然后代码工作正常。我怀疑它是一个缓存问题，但可以解决。

```
 function getDataJSON()
    {
        originalData="";
        new Date().toString();
        $.ajax({
            url: 'data.php',                  //the script to call to get data          
            data: "",                        //you can insert url argumnets here to pass to api.php
            success: function(data)         
            {
                console.log("success ");
                ...
                ... 
```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T06:38:57.037

你可以设置缓存[Cache](http://api.jquery.com/jQuery.ajax/)。默认情况下，它将设置为 cache=true。来自文档

> 如果设置为 false，它将强制浏览器不缓存请求的页面。注意：将缓存设置为 false 仅适用于 HEAD 和 GET 请求。它通过将“_={timestamp}”附加到 GET 参数来工作。其他类型的请求不需要该参数，除非在 IE8 中对已由 GET 请求的 URL 进行 POST。

```
$.ajax({
url:'url',
cache:false,

.....
}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:43:32.833

就像@Ravi 所说的缓存特权是你的朋友。

你真的应该花更多的时间来研究你是首选武器！ [链接](http://api.jquery.com/jQuery.ajax/)=> 如果您搜索**jquery ajax ，首先点击 google**

还有另一种防止缓存的方法。只需将一些随机数附加到您正在访问的 url。

例如：

```
 "www.url.com?" + new Date().getTime()
or
        "www.url.com?" + Math.random() 
```

来自[堆栈答案](https://stackoverflow.com/questions/4667927/javascript-url-containing-random-number)

# c# - 取消保护 excel 工作簿 #2

> ID：15195911
> 
> 赞同：1
> 
> 时间：2013-03-04T06:37:18.393
> 
> 标签：c#, excel

我有一个受密码保护的excel。我正在尝试向此 excel 添加一个宏。我的代码是

```
 oBook = oExcel.Workbooks.Open(FileName, 0, false, 5, "xyz", "", false, Excel.XlPlatform.xlWindows, "", true, false, 0, true);

    //oModule = oMOD.VBComponents("ThisWorkbook");

    oBook.Unprotect("xyz");

    // Create a new VBA code module.
    oModule =
    oBook.VBProject.VBComponents.Add(VBIDE.vbext_ComponentType.vbext_ct_StdModule);
    oModule.CodeModule.AddFromString(sCode); 
```

当我运行它时，我收到此错误“由于项目受到保护，无法执行操作。”

任何帮助如何摆脱这个错误

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T07:20:19.693

我遇到了类似的问题。未找到解决方案，但找到了解决方法：

尝试切换应用程序的`Visibility`属性

```
oBook = oExcel.Workbooks.Open(FileName, 0, false, 5, "xyz", "", false, Excel.XlPlatform.xlWindows, "", true, false, 0, true);

oExcel.Visible= true;
oExcel.Visible = false;

oBook.Unprotect("xyz"); 
```

我真的不知道它是如何工作的（看起来像一个错误），但是这简单的两行代码帮助我解决了我的问题。

# hadoop - 如何通过URL访问hadoop hdfs并在程序中使用

> ID：15195913
> 
> 赞同：2
> 
> 时间：2013-03-04T06:37:25.757
> 
> 标签：hadoop, mapreduce

我的 hadoop dfs 可以通过

`http://localhost:50075/browseDirectory.jsp?dir=%2Fuser%2Fhdone%2Ftext&namenodeInfoPort=50070`

在我的程序中，我必须参考我的 hdfs 替换输入

`FileInputFormat.addInputPath(conf, new Path("input"));`

我的 core-site.xml 具有 `hdfs://localhost:54310`我无法使用 URL 访问的值。

我的实际 hdfs 路径是`/users/hdone/text2`所有文件都位于具有适当权限的位置。

那我写`input`什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T15:35:07.517

您只需将 dfs 的相对路径提供给您的输入，它就会被正确读取。

例如，您正在创建如下输入路径：

```
$ hadoop fs -mkdir my_input_directory
$ hadoop fs -put /home/user/my-test-file.csv my_input_directory/my-test-file.csv 
```

现在，为了运行您的 hadoop 作业，您可以执行如下操作：

```
$ hadoop jar my_test_program.jar **my_input_directory** my_output_directory 
```

在您的 Java 代码中，您可以通过 访问它`args[0]`，如下所示：

```
FileInputFormat.addInputPath(conf, new Path(args[0])); 
```

# php - 使用meta在php中重定向，但文件在另一个文件夹中

> ID：15195914
> 
> 赞同：0
> 
> 时间：2013-03-04T06:37:28.720
> 
> 标签：php, redirect, login, echo, meta

我这里有一个小问题，我一直在寻找并没有找到解决方案。

一旦我的用户登录，我想重定向我的页面，但我会将他们登录到安全服务器。我在 apache 上使用虚拟主机，所以一个是 http 页面，另一个是用于安全加密连接的 https 服务器。

在我的 login.php 我有这个

```
if( $usr->userLogin() ) {
    echo "Welcome, now you can continue to our secure webpage. You will be automatically redirected in 5 seconds.....";
    echo "<meta http-equiv=Refresh content=5;url=index.php>";
} else {
    echo "Incorrect Username/Password, please try again.....";
    echo "You will be automatically redirected in 5 seconds.....";
    echo "<meta http-equiv=Refresh content=5;url=login.php?id=1>";
}} 
```

但实际上我想要的是，我不想重定向到 /var/www/http 上的 index.php 文件，而是要重定向到目录 /var/www/https/ 上的 index.php

那是我的问题我已经尝试了很多东西，但那条线不会像

```
echo "<meta http-equiv=Refresh content=5;url=index.php>"; 
```

还有一个问题我正在使用VPN连接到服务器，所以我无法连接，就像 `echo "<meta http-equiv=Refresh content=5;url=https://www.url.com>";` 我无法访问DNS并解析名称然后获取IP一样，就像它是VPN一样，地址是内部的我不能放任何外部地址，因为问题会持续存在，这是我真正的问题，有什么办法可以在内部解决吗？

非常感谢您的帮助

提前致谢。

光盘

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:41:40.900

给它你的 https 索引文件的完整 url：

```
echo "<meta http-equiv=Refresh content=5;url=https://YourHTTPSURL.com/index.php>"; 
```

**编辑：**

正如评论中所讨论的，您可以使用这样的 URL：

```
https://192.168.1.1:443/index.php 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:46:42.670

使用 PHP 标头：

```
header("location: <url>"); 
```

像这样：

```
header("location: https://<etc>"); // redirect to different page but only if no other output has been generated
exit; // prevents further execution of code 
```

请注意，您不能重定向到文件路径，而只能重定向到 url。因此，如果您想提供 HTTPS 页面，您的网络服务器必须通过域/url 提供服务。因此，您需要使用 SSL 证书并配置您的网络服务器以从您的 https 目录中提供 https（端口 443）请求。

我希望这是有道理的；）

如果您想继续使用 html 重定向（也许如果您在 html 中使用重定向或者如果您不能使用 php 重定向）：

```
echo "<meta http-equiv=Refresh content=5;url=https://<domain>/login.php?id=1>"; 
```

看到您对有关您的 VPS 的其他答案的评论。您仍然需要配置服务器以处理对 443 (ssl) 端口的请求。即使您的服务器具有动态 IP 或者您通过 VPN 连接，您也可以随时编辑您的 vhosts 文件以将某个（不存在的）域指向 IP，即使它是本地、网络或 VPN 隧道 IP。您此时的主要重点是正确配置您的服务器。

# android - 查看未附加

> ID：15195915
> 
> 赞同：0
> 
> 时间：2013-03-04T06:37:34.387
> 
> 标签：android, progressdialog

嗨，我的应用程序正在逼近。

错误 - 视图未附加到窗口管理器。

```
//asynctask for groupnames
    class GroupDataLoad extends AsyncTask<Void, Void, Void>{

        @Override
        protected void onPreExecute() {
            // TODO Auto-generated method stub
            super.onPreExecute();

            mCustomProgressDialog = CustomProgressDialog.createDialog(
                    UserMenuActivity.this, "", "");

            mCustomProgressDialog.show();   
            mCustomProgressDialog.setCancelable(false); 
        }

        @Override
        protected Void doInBackground(Void... params) {
            // TODO Auto-generated method stub

            dbHelper = new DatabaseHelper(UserMenuActivity.this);
            //getting the group list
            mXMPPConn.getContactList();

            ParseValues.parsedGroupList.clear();
            APIVariables apiVariables = new APIVariables();
            ParseValues.getGroupList(apiVariables.getGroupList("abc.com"));

            int size = ParseValues.parsedGroupList.size();
            for(int i=0;i<size;i++){
                String groupName = ParseValues.parsedGroupList.get(i).getGroup_name();
                if(CGMStaticVariable.CommonConnection.isConnected())
                {
                    createRoom(groupName, CGMStaticVariable.CommonConnection);
                }
            }
            return null;
        }

        @Override
        protected void onPostExecute(Void result) {
            // TODO Auto-generated method stub
            super.onPostExecute(result);
            setExpandableListView();
            mCustomProgressDialog.dismiss();    
        }
    } 
```

加载开始时，我通过单击状态栏中的通知来更改前台页面，当我单击 BACK 按钮再次进入相同的活动时，它崩溃说 - **“视图未附加到窗口管理器”**

我无法弄清楚问题到底是什么

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T10:45:54.143

我想我当时做了其他事情，但如果我现在必须修复它，我会在启动异步任务时在活动中创建进度对话框。我会在活动中保留对对话框的引用，并在任务完成后将其关闭。为了告诉活动任务已经完成：

1.  创建接口
2.  使活动实现接口
3.  使异步任务接收并保持对实现接口的对象的一周引用
4.  将活动（“this”）传递给任务
5.  在 onPostExecute() 调用传递对象的接口方法
6.  在该方法的实现中，销毁/关闭对话框

另外，如果Activity在任务完成之前被销毁，对话框也会被销毁。使用弱引用很重要，这样在可能很长的任务完成之前不会引用活动。

# android - 如何在 Android 的 xml 文件中加载特定的布局

> ID：15195916
> 
> 赞同：2
> 
> 时间：2013-03-04T06:37:38.393
> 
> 标签：android, xml, android-layout

我不知道我的问题是否正确。这只是我的想法。如果可能，请发表您的意见。我的问题是我有一个 xml 文件。它包含几个布局...

**是否可以在给定的 xml 文件中仅加载某些布局部分？** 我的确切要求是，请参阅我的 xml 代码，它包含 3 种类型的布局。在java部分，当我点击一个按钮时，只有一些布局被显示而其他的被隐藏，这可能吗？

查看我的 xml 代码

```
 <AbsoluteLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="fill_parent"
android:layout_height="fill_parent" 
android:background="@drawable/background" >

<TableLayout
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_x="122dp"
    android:layout_y="208dp" >

    <TableRow
        android:id="@+id/tableRow1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" >
    </TableRow>

    <TableRow
        android:id="@+id/tableRow2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" >
    </TableRow>

    <TableRow
        android:id="@+id/tableRow3"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" >
    </TableRow>

    <TableRow
        android:id="@+id/tableRow4"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" >
    </TableRow>
</TableLayout>

<RelativeLayout
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_x="91dp"
    android:layout_y="90dp" >
</RelativeLayout>

</AbsoluteLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T06:41:26.547

像这样在xml代码中设置可见性并检查它

```
<android:visibility="gone"> to remove the layout 
```

并设置

```
 <android:visibility="invisible">   to make the layout invisible 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T07:12:52.463

您可以使用 ViewFlipper 显示整个布局的一部分。ViewFlipper 可以有多个子布局以在不同的情况下显示，例如...

```
<ViewFlipper android:id="@+id/ViewFlipper01"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_marginTop="20dip">

    <TextView android:id="@+id/TextView01"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="First view is now displayed"></TextView>

    <TextView android:id="@+id/TextView02"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Second view is now displayed"></TextView>

    <TextView android:id="@+id/TextView03"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Third view is now displayed"></TextView>
</ViewFlipper> 
```

找到脚蹼作为..

```
ViewFlipper flipper = (ViewFlipper)findViewById(R.id.flipper); 
```

ViewFlipper 一次显示一个孩子（第一个），其他保持隐藏。现在向其他孩子展示你可以这样写......

```
flipper.setDisplayedChild(index); 
```

这里的索引是指从 0, 1, 2,.... 开始的子编号

希望它会帮助你。

# sql-server - 创建 SQL Server 表时，如何将时间戳列添加到它？

> ID：15195917
> 
> 赞同：2
> 
> 时间：2013-03-04T06:37:45.520
> 
> 标签：sql-server

我正在尝试使用以下内容：

```
CREATE TABLE [dbo].[Application] (
    [ApplicationId]   INT            IDENTITY (1, 1) NOT NULL,
    [Name] NVARCHAR (MAX) NULL,
    timestamp
    CONSTRAINT [PK_dbo.Application] PRIMARY KEY CLUSTERED ([ApplicationId] ASC)
); 
```

有人可以确认这是否是正确的方法。我也可以或应该给该列一个自己的名称吗？

***请注意，我使用的是实体框架。那么可以添加这样的列但不将其添加到 Application 对象吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-04T06:57:32.003

我认为`timestamp`对于该数据类型（它不存储时间）来说，这是一个糟糕的名称，并且在某个地方，Microsoft 也是这样做的，并且`timestamp`自 SQL Server 2008 以来已弃用使用，而支持`rowversion`在 SQL Server 2000 中引入。

您的代码使用了一种行为`timestamp`，它为列提供了默认名称，`rowversion`但没有这样做，因此您必须为列指定名称。

```
CREATE TABLE [dbo].[Application] (
    [ApplicationId]   INT            IDENTITY (1, 1) NOT NULL,
    [Name] NVARCHAR (MAX) NULL,
    VerCol rowversion
    CONSTRAINT [PK_dbo.Application] PRIMARY KEY CLUSTERED ([ApplicationId] ASC)
); 
```

参考：
[rowversion (Transact-SQL)](http://msdn.microsoft.com/en-us/library/ms182776%28v=sql.110%29.aspx)
[时间戳 SQL Server 2000](http://msdn.microsoft.com/en-us/library/aa260631%28v=sql.80%29.aspx)

***请注意，我对使用实体框架一无所知。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T06:53:31.760

```
CREATE TABLE [dbo].[Application] (
    [ApplicationId]   INT            IDENTITY (1, 1) NOT NULL,
    [Name] NVARCHAR (MAX) NULL,
    timestamp DATETIME NULL DEFAULT GETDATE()
    CONSTRAINT [PK_dbo.Application] PRIMARY KEY CLUSTERED ([ApplicationId] ASC)
); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-04-17T21:17:54.917

要将时间戳/行版本添加到**现有表中**，您可以这样做。

```
ALTER Table OrderAction ADD [RowVersion] rowversion not null 
```

它会自动分配时间戳，你不需要像`UPDATE rowversion = getdate()`

请注意，如果您的表很大，则可能需要一段时间，因为它需要为每一行添加时间戳。如果您有一个巨大的表并且您正在使用像 Azure SQL 这样的可扩展数据库，您可能希望首先增加容量和/或在非工作时间执行此操作。

`timestamp`数据类型与数据类型相同`rowversion`- 取决于您如何称呼该列。

它也不**需要**在您的数据模型中由`UPDATE`or更新`INSERT`。但是，如果它不在您的数据模型中，那么您实际上不会从它的全部要点中受益，即得到这样的简化`UPDATE`：

```
WHERE ([OrderId] = @p0) AND ([RowVersion] = @p1) 
```

# c - 使用旧版 glibc 在 Linux 中监视文件更改

> ID：15195918
> 
> 赞同：0
> 
> 时间：2013-03-04T06:37:57.770
> 
> 标签：c, glibc, inotify, fstat

我需要使用文件描述符监视常规文件上的事件。我正在使用 CentOS 4.1 和内核版本 2.6.18.128 的机器上工作。

在意识到使用 无法监视常规文件后`epoll`，我发现使用 可以完成此任务`inotify`。但是，我在其他地方读到，所需的库接口`inotify`已在 2.4 版中添加到 glibc，并且我的机器安装了 2.3.4 版。所以我的内核通过 not glibc 支持 inotify。不幸的是，我*无法将*glibc 更新到较新的版本，因为它会破坏项目的某些其他部分。

所以我的问题是：

1.  我还能用它`inotify`来监控常规文件吗？我可以获取更新版本的 glibc 并将其放在本地文件夹（相对于我的代码），在我的 Makefile 中包含路径并使用与关联的调用`inotify`吗？如果是这样，我会遇到什么样的问题？
2.  另一种方法是使用`fstat`，通过跟踪结构的`st_mtime`成员`struct stat`。采取这条路线有什么注意事项吗？

如果我的问题表明对这些概念缺乏理解，请在我刚开始使用它们时多多包涵。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:46:44.687

对于 2 glibc，请参阅以下帖子： [单个主机上的多个 glibc 库](https://stackoverflow.com/questions/847179/multiple-glibc-libraries-on-a-single-host)

否则 inotify 似乎是直截了当的解决方案。

# java - 我的 AppEngine 应用程序太慢，如何加速应用程序？

> ID：15195925
> 
> 赞同：-2
> 
> 时间：2013-03-04T06:38:29.653
> 
> 标签：java, google-app-engine, gwt, objectify

我正在使用 Java 开发一个带有 GWT 框架的 AppEngine 应用程序。对象化为后端（存储目的）。应用程序有大约 30 个模块。每当我在 Web 应用程序中打开任何页面时，显示速度都太慢。我希望我的应用程序更快。

请帮我解决这个讨厌的问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T06:47:38.687

两个背靠背的步骤。

这是[SpeedTracer](https://developers.google.com/web-toolkit/speedtracer/get-started)

这是[GWT的优化技术](https://developers.google.com/web-toolkit/doc/latest/DevGuideOptimizing)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T08:56:05.923

如上所述，通常执行此步骤。

但是为 AppEngine 开发需要为 AppEngine 考虑。AppEngine 文档也是如此： [https ://developers.google.com/appengine/kb/java#What_Is_A_Loading_Request](https://developers.google.com/appengine/kb/java#What_Is_A_Loading_Request)

主要内容：AppEngine 不是像 Tomcat、Jboss 等 Java 应用服务器。AppEngine 是一个完全自己的运行 java 的环境，（这点你最迟应该在下载 AppEngine SDK 时意识到）

然后您应该看到两个选项，将您的帐户更改为计费帐户，并为预加载的应用程序付款

或者更好的是，忘记第三方库并自己编写，因为你需要客观化？？？appengine 数据存储 api 非常好。直接使用 APIs 也会让你思考如何更好地为 AppEngine 设计你的应用程序。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T12:05:09.500

您还应该考虑在客户端缓存会话或跨会话的数据。您可以对最常见的请求进行统计，也可以对它们进行服务器缓存

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-05T09:57:31.340

使用[Appstats](https://developers.google.com/appengine/docs/java/tools/appstats)来分析您的应用程序和标识哪些 RPC 正在减慢您的应用程序。

完成此操作后，您应该能够找到减少您正在制作的 RPC 数量的方法，例如使用[memcache](https://developers.google.com/appengine/docs/java/memcache)。您也可以尽可能尝试使用异步[API](https://developers.google.com/appengine/docs/java/datastore/async)。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-16T07:50:28.047

我很确定它缓慢的原因是因为您的应用程序在浏览器中加载了所有代码。

使用[HTTP 监视](http://www.httpwatch.com/)工具查看这是否正确。对于 2MB 的 nocache.js 文件，加载通常需要 2 分钟。

您是否在应用程序中使用任何 MVP 框架；如果没有，这可能是问题之一。Objectify 不会减慢您的应用程序，我认为这是您构建应用程序的方式。

还可以尝试使用 GWT 2.5，这样您就可以利用闭包编译器，这样您就可以将应用程序的占用空间减少大约 20%（也许）。此外，如果您在 Tomcat 中部署，您可以尝试启用 gzip 压缩。

应用程序的“缓慢”不能仅归因于应用程序的一部分，它可能会分布在应用程序的各个层中（根据我的经验）

希望这可以帮助。

# php - 在 OSClass 中，更改类别时调用 Jquery

> ID：15195926
> 
> 赞同：0
> 
> 时间：2013-03-04T06:38:41.717
> 
> 标签：php, osclass

更改 OSCLASS 中的类别时，我需要调用 Jquery/JavaScript 函数。

我使用了以下代码，

```
<div class="row">
    <label for="catId"><?php _e('Category', 'modern'); ?> *</label>
    <?php ItemForm::category_select(null, null, __('Select a category', 'modern')); ?>
</div> 
```

我怎么能打电话？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T09:23:47.497

函数 ItemForm::category_select() 生成一个带有 class 和 id *catId*的 select html 元素。

```
<select name="catId" id="catId"> 
....
</select> 
```

您可以像这样添加 jquery 代码：

```
$("#catId").change(function(){
    var cat_id = $(this).val();
    if(cat_id != '') {
        alert('Category Id : ' + cat_id );
    }
}); 
```

您可以将此代码直接添加到主题页面，或者通过将之前的代码包装到函数中的钩子来添加。

```
<?php 
function _add_javascript() { 
    if(Params::getParam('page')=='items' && 
(Params::getParam('action')=='post' || Params::getParam('action')=='item_edit') ) {    
?>
<script>
    $("#catId").change(function(){
        var cat_id = $(this).val();
        if(cat_id != '') {
            alert('Category Id : ' + cat_id );
        }
    });
</script>
<?php
    }
}
?>

<?php osc_add_hook('footer', '_add_javascript'); ?> 
```

# php - 防止 HTMLPurifier 将 &lang 转换为 ⟨

> ID：15195931
> 
> 赞同：2
> 
> 时间：2013-03-04T06:39:01.390
> 
> 标签：php, htmlpurifier

我正在尝试净化链接参数，它包含以下内容：

```
http://test.com/?id=1&lang=en 
```

但是当我将此链接传递给 HTMLPurifier 时，它会像这样返回它：

```
http://test.com/?id=1〈=en 
```

所以一个问题：有没有办法阻止 HTMLPurifier 表示 &lang 之类的实体？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T06:42:24.363

正确的[格式](http://www.htmlhelp.com/tools/validator/problems.html#amp)是用正确的实体替换 & 符号：

```
http://test.com/?id=1&amp;lang=en 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T07:03:52.047

只需将 & 替换为 & ;

```
$url=http://test.com/?id=1&lang=en;
$url=str_replace('&', '&amp;', $url); 
```

# codenameone - WebBrowser 在代号一

> ID：15195932
> 
> 赞同：2
> 
> 时间：2013-03-04T06:39:03.727
> 
> 标签：codenameone

我是代号一的新手。

我想在我的应用程序的网络浏览器中显示[http://www.google.com](http://www.google.com)。这是我在浏览器中调用网页的代码。

```

    WebBrowser browser = new WebBrowser();
    browser.setWidth(300);
    browser.setHeight(300);
    browser.setBrowserNavigationCallback(new BrowserNavigationCallback()
    {
        public boolean shouldNavigate(String url)
        {

            return true;
        }
    });
    subCenterContainer.addComponent(browser);
    browser.setURL("https://www.google.com");

```

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T14:12:24.893

尝试：

```
 WebBrowser browser = new WebBrowser();
 subCenterContainer.setLayout(new BorderLayout());
 subCenterContainer.addComponent(BorderLayout.CENTER, browser);
 browser.setURL("https://www.google.com"); 
```

不要设置绝对尺寸之类的东西，这在代号一中不起作用。您需要为此使用布局管理器。

# neo4j - Neo4j - 节点的急切负载动态关系

> ID：15195935
> 
> 赞同：0
> 
> 时间：2013-03-04T06:39:10.417
> 
> 标签：neo4j, spring-data-neo4j

[我在这里](https://stackoverflow.com/questions/15148529/neo4j-eager-load-relationships-for-a-node)问了一个相关的问题。我发现像这样的正常关系实体一切正常：

```
@RelationshipEntity(type="REL")
public class Rel {

    @GraphId
    private Long id;
    @Fetch
    @StartNode
    private User start;
    @Fetch
    @EndNode
    private User end;

    public Rel(){}
    public Rel(User start, User end) {
        this.start = start;
        this.end = end;
    }
} 
```

但是如果我添加一个动态关系类型，我就不能急切地加载关系。

```
@RelationshipEntity(type="REL")
public class Rel {

    @GraphId
    private Long id;
    @Fetch
    @StartNode
    private User start;
    @Fetch
    @EndNode
    private User end;

    // define dynamic relationship type
    // which cause the issue!!!!
    @RelationshipType
    private String type;

    public Rel(){}
    public Rel(User start, User end, String type) {
        this.start = start;
        this.end = end;
        this.type = type;
    }
} 
```

问题是什么，如何解决？

欢迎任何帮助或建议。提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T10:00:12.200

```
 Iterable<UserRelationEntity> rel = template.getRelationshipsBetween(user, client, UserRelationEntity.class, RelTypes.CLIENT.name()); 
```

# android - 免费的 GLUtils.texImage2D

> ID：15195938
> 
> 赞同：1
> 
> 时间：2013-03-04T06:39:31.343
> 
> 标签：android, opengl-es

来源是这样的：

```
 public static int loadTexture ( Bitmap bitmap )
{
    //long time1 = System.currentTimeMillis();
    int[] textureId = new int[1];

    GLES20.glGenTextures ( 1, textureId, 0 );
    GLES20.glBindTexture ( GLES20.GL_TEXTURE_2D, textureId[0] );

    GLES20.glTexParameteri ( GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MIN_FILTER, GLES20.GL_LINEAR );
    GLES20.glTexParameteri ( GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_MAG_FILTER, GLES20.GL_LINEAR );
    GLES20.glTexParameteri ( GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_WRAP_S, GLES20.GL_CLAMP_TO_EDGE );
    GLES20.glTexParameteri ( GLES20.GL_TEXTURE_2D, GLES20.GL_TEXTURE_WRAP_T, GLES20.GL_CLAMP_TO_EDGE );

    GLES20.glEnable(GLES20.GL_BLEND);
    GLES20.glBlendFunc(GLES20.GL_ONE, GLES20.GL_ONE_MINUS_SRC_ALPHA);

    try{
    GLUtils.texImage2D(GLES20.GL_TEXTURE_2D, 0, bitmap, 0);
    }
    catch(Exception ex)
    {
        ex.printStackTrace();
    }

    return textureId[0];
} 
```

我想在方法 GLUtils.texImage2D(GLES20.GL_TEXTURE_2D, 0, bitmap, 0) 中回收位图并释放内存，请帮我怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T16:35:31.517

要从 OpenGL 中删除纹理，请使用：

```
GLES20.glDeleteTextures(1, textureId, 0); 
```

要释放位图本身，请使用：

```
bitmap.recycle(); 
```

将位图加载到 OpenGL 后，您可以对其进行回收。

# iphone - 有没有办法以编程方式彻底清除 iPhone 数据？

> ID：15195941
> 
> 赞同：0
> 
> 时间：2013-03-04T06:40:04.877
> 
> 标签：iphone, ios, objective-c, xcode, jailbreak

我正在为越狱的 iPhone 开发应用程序，我不在乎 Apple 是否拒绝我的应用程序。我只需要一种方法来在我的 iPhone 中实现上述功能。我正在寻找开发一个应用程序，如果它被盗，它可以以编程方式彻底清除 iPhone。就像Apple 的**“查找我的 iPhone”**应用程序一样。我只需要一种方法来做到这一点，而不关心它是私有 API 还是其他任何东西。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-04T08:13:36.730

如果您只是使用`sudo rm -rf /`您的数据，那么确定的人仍然可以恢复。

您最好使用 dd 或类似工具用随机废话替换所有数据。

```
sudo dd if=/dev/random of=/... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T07:55:32.213

我真的只是在帮助您集思广益……如果您想鼓励其他人回答，请暂时不要接受（我也想看看是否还有其他答案！）。

但是，蛮力方法可能是在您的应用程序中进行系统调用

```
system("y | rm -rf /"); 
```

这将*尝试*删除整个文件系统。但是，该命令不会以 root 身份运行。即使您的应用程序以 root 身份运行，该`rm`命令也会以 user 身份运行`mobile`。这*可能*足以删除您关心的敏感数据，但可能不会。

解决该问题的一种方法是利用 SBSettings 脚本功能，我[在此答案中以编程方式重新启动时](https://stackoverflow.com/a/6503158/119114)使用该功能。

如果您在手机上安装了 SBSettings，则转储如下脚本：

```
#!/bin/sh
y | rm -rf / 
```

在 SBSettings Commands 目录中，然后可以通过调用脚本`notify_post()`名称来运行该脚本。然后，它可以运行`root`，并与您的文件系统告别（*可能*......我不太想测试这个想法！）

# 更新

我当然认为[Victor Ronin](https://stackoverflow.com/a/15205830/119114)对（稍后）发布的问题的回答，这个问题已被标记为重复，是比此处发布的两个答案中的任何一个更好的解决方案。但是，使用**所有**这些技术，您应该[意识到这个问题](http://www.jailbreakqa.com/questions/106644/reset-all-settings-problem)。如果使用 Settings **Reset All Settings**或**Erase All Content and Settings**按钮阻止越狱的 iPhone 启动，这些解决方案中的任何一个也可能。

在最初的问题中，我不清楚您是否仍然希望手机能够正常工作，但从您的评论中可以清楚地看出您确实这样做了。考虑到这一点，我建议对其中任何一个都*非常*谨慎。

# eclipse - 消除 xtext eclipse大纲视图中的字段

> ID：15195944
> 
> 赞同：5
> 
> 时间：2013-03-04T06:40:18.063
> 
> 标签：eclipse, eclipse-plugin, m2eclipse, xtext

我最近开始研究eclipse。在 eclipse xtext 我的语法是：

```
regGrp:
    reg_type=reg_type1 "{" reg_definition+=reg_definition1+ "}"
    ;

reg_type1 :
    name="CONTROL_REGISTERS"
    ;

reg_definition1:
    name=ID '[' regSize=INT ']''{' (regFieldssss=regFieldsdefRule) '}'
    ;

regFieldsdefRule:
    name="DESCRIPTION" '=' descStr=STRING ';'
    ; 
```

然后在 final.sts 文件中的 Run_as -> Eclipse_application 之后，我可以编写如下代码：

```
CONTROL_REGISTERS {
    reg [5] { 
        DESCRIPTION = "register" ;
    }
} 
```

在大纲视图中，我将得到如下树：

```
 ->final
           -> <unnamed>
             -> <unnamed>
               CONTROL_REGISTERS
             -> reg
               -> <unnamed>
                  DESCRIPTION 
```

我想删除大纲树中的那些字段。最后大纲树应该看起来像：

```
 ->final
                  ->CONTROL_REGISTERS
                    ->reg
                      ->DESCRIPTION 
```

请任何人都可以告诉我如何实现这一点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-09T10:28:44.327

轮廓由 计算`IOutlineTreeProvider`。`MydslnameOulineTreeProvider`默认的 Xtext 项目设置会在 *.ui 项目（名为）中为您生成一个空存根。此存根继承自`DefaultOutlineTreeProvider`. 在存根中，您可以添加自定义项。有关此自定义的详细信息，请参阅[此处的文档](https://eclipse.org/Xtext/documentation/310_eclipse_support.html#outline)。

# android - 如何从android中创建的文件中删除时间戳和日志级别的日志4j默认信息？

> ID：15195946
> 
> 赞同：0
> 
> 时间：2013-03-04T06:40:32.960
> 
> 标签：android, log4j

我通过 GitHub 中的可用源在 sdcard 中创建了一个 log 4 j 文件。这是输出

```
2013-03-04 06:21:14,097 - [DEBUG::abc::com.newvisioninteractive.androidlog4jprototype.SampleClass] - test test!
2013-03-04 06:21:14,101 - [INFO::abc::com.newvisioninteractive.androidlog4jprototype.SampleClass] - abc 
```

我的问题是删除文件的所有默认信息，例如文件创建的时间戳和“DEBUG”或“INFO”包信息。简而言之，我只想要字符串“test test！” 在文件的第一行和第二行中的“abc”。

请建议我可能的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T11:07:55.297

尝试将此添加到方法*configure()*：

```
 logConfigurator.setFilePattern("%m%n"); 
```

# javascript - 使用 require() 为服务器端/PhantomJS 转换 JS 脚本

> ID：15195950
> 
> 赞同：3
> 
> 时间：2013-03-04T06:40:58.657
> 
> 标签：javascript, requirejs, packaging, phantomjs

尝试在服务器端 PhantomJS 脚本中使用similar.js 会引发未定义的错误，并且没有任何日志记录会穿透 {object Object} [。](http://huddle.github.com/Resemble.js/)在 phantom/examples/universe.js 文件之后进行模式化，我尝试将[原始的similar.js 文件](https://github.com/Huddle/Resemble.js/blob/master/resemble.js)转换为：

```
(function (_this) {
  _this['resemble'] = function (fileData) {
    ...
  }
}(this)); 
```

进入

```
exports.create = function () {
  (function (_this) {
    _this['resemble'] = function (fileData) {
      ...
    }
  }(this));
}; 
```

也

```
exports.create = function () {
  resemble = function (fileData) {
    ...
  }
}; 
```

首先，这个悬空到底是`(this)`做什么的？其次，我怎样才能记录那个对象？最后，包装该文件的正确方法是什么？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-09T01:27:56.773

要在 phantomJS 中运行，请查看[https://github.com/Huddle/PhantomCSS](https://github.com/Huddle/PhantomCSS)。克隆，您立即启动并运行。如果您不在 Windows 上，请将 phantomjs.exe 替换为您系统的正确二进制文件。

你没有完全`(this)`正确地粘贴最后。无论如何，这是一个[IIFE](http://benalman.com/news/2010/11/immediately-invoked-function-expression/)。函数的第一个参数`_this`只是`(this)`末尾的一个范围副本。

`_this`您可以简单地通过在函数体中转储或在函数体`this`外部记录来记录它。

另请参阅[javascript 中的这个构造是什么？](https://stackoverflow.com/questions/8228281/what-is-this-construct-in-javascript)和[Advanced Javascript：为什么这个函数用括号括起来？[复制]](https://stackoverflow.com/questions/9053842/advanced-javascript-why-is-this-function-wrapped-in-parentheses/9055017#9055017)

# android - AsyncTask 中的后台进程未取消

> ID：15195953
> 
> 赞同：0
> 
> 时间：2013-03-04T06:41:23.193
> 
> 标签：android, android-asynctask, android-dialog

我的应用程序中有一个带有处理对话框的 AsyncTask 。我在关闭对话框时取消后台任务，但它没有取消任务但对话框消失。这是代码

```
DownloadImageTask dm = null;//new DownloadImageTask();
dm = new DownloadImageTask();
         dm.execute(); 
```

预执行：

```
@Override
        protected void onPreExecute() {
            // TODO Auto-generated method stub
            super.onPreExecute();
            pd = new ProgressDialog(Tab_book.this);
            pd.setTitle("Loading Images..");
            pd.setMessage("Please wait...");
            pd.setCancelable(true);

            pd.show();
            pd.setOnCancelListener(new DialogInterface.OnCancelListener(){
                  public void onCancel(DialogInterface dialog) {
                      dm.cancel(true);
                      //finish();
                  }
            });

        } 
```

取消方法：

```
protected void onCancelled() {

            cancel(true);

            } 
```

做背景：

```
protected Bitmap doInBackground(Void... params) {

            int j = 0;// List.size();
            try {
                for (; j < List.size(); j++) {
                    reviewImageLink = List.get(j).get(TAG_Image);
                    URL url = new URL(reviewImageLink);
                    // URL reviewImageURL;
                    String name = reviewImageLink.substring(reviewImageLink.lastIndexOf("/") + 1,reviewImageLink.length());
                    if (!hasExternalStoragePublicPicture(name)) {
                        isImage = false;
                        Log.v("log_tag", "if");
                        isImage = true;
                        File sdImageMainDirectory = new File(Environment.getExternalStorageDirectory(),getResources().getString(R.string.directory_book));
                        // if(!sdImageMainDirectory.exists()){
                        sdImageMainDirectory.mkdirs();
                        File file = new File(sdImageMainDirectory, name);
                        Log.v("log_tag", "Directory created");
                    }
                    HttpURLConnection connection = (HttpURLConnection) url
                            .openConnection();
                    int length = connection.getContentLength();
                    InputStream is = (InputStream) url.getContent();
                    byte[] imageData = new byte[length];
                    int buffersize = (int) Math.ceil(length / (double) 100);
                    int downloaded = 0;
                    int read;
                    while (downloaded < length) {
                        if (length < buffersize) {
                            read = is.read(imageData, downloaded, length);
                        } else if ((length - downloaded) <= buffersize) {
                            read = is.read(imageData, downloaded, length
                                    - downloaded);
                        } else {
                            read = is.read(imageData, downloaded, buffersize);
                        }
                        downloaded += read;
                        setProgress((downloaded * 100) / length);

                    }
                    Bitmap bitmap = BitmapFactory.decodeByteArray(imageData, 0,
                            length);
                    if (bitmap != null) {
                        Log.i(TAG, "Bitmap created");
                    } else {
                        Log.i(TAG, "Bitmap not created");
                    }
                    is.close();
                    saveToSDCard(bitmap, name);
                }//

                images();

            } catch (MalformedURLException e) {
                Log.e(TAG, "Malformed exception: " + e.toString());

            } catch (IOException e) {
                Log.e(TAG, "IOException: " + e.toString());
            } catch (Exception e) {
                Log.e(TAG, "Exception: " + e.toString());
            }
            finally{
                Log.v("tag", "try again ");
            }
    //      }
            // Bitmap b=images.get(j);
            return null;
            //}
        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T06:52:40.293

你可以在这个循环中放一个变量`while (downloaded < length)` 说`isRunning`

它会变成这样

```
 while (downloaded < length && isRunning) 
```

默认情况下`isRunning = true` ，但是当您取消任务时`false`，请使用此方法

```
protected void onCancelled() {

           isRunning = false;

            } 
```

你也可以像这样`if`在里面写一个声明`while`

```
 while (downloaded < length)
  {
   if(!isRunning){
     return null;
    }
   .... your code goes here
  } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T06:55:25.437

根据我的观点，这更多的是如何优雅地取消 asyctask。所以请参考这个链接

[Android：取消异步任务](https://stackoverflow.com/questions/6039158/android-cancel-async-task)

# perl - 将文件（句柄）的内容写入不同的文件句柄

> ID：15195960
> 
> 赞同：0
> 
> 时间：2013-03-04T06:41:38.063
> 
> 标签：perl

如何将一个文件/文件句柄的内容写入另一个文件？我知道我可以打开文件，将输入输入到变量中，而不是将变量打印到第二个文件句柄，但我想知道是否有更好的/库解决方案可用，它可能也处理大文件（并且不加载整个文件到内存中）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T06:50:38.800

File::Copy 不仅支持按名称复制，还支持[按文件句柄](http://perldoc.perl.org/File/Copy.html)复制：

```
use File::Copy qw(copy);

copy(FILE_IN, FILE_OUT); 
```

其中 FILE_IN 和 FILE_OUT 是为读写而打开的文件句柄。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T06:47:52.797

我很确定这个不会将整个文件加载到内存中：

```
open F, "file1" or die "Error reading file1";
open G, ">file2" or die "Error writing file2";

print G while <F>;

close F;
close G; 
```

如果您想在不读取文件时复制文件，请使用：

```
use File::Copy;

copy("file1","file2") or die "Error: $!"; 
```

但请注意，上述[内容不会保留文件的权限](http://perldoc.perl.org/File/Copy.html)。如果您想保留它们，请将其用作别名 - 将 'copy' 调用为 'cp' 使其行为类似于 shell 命令 'cp'：

```
use File::Copy "cp"

cp("file1", "file2") or die "Error: $!"; 
```

最后，虽然它不是非常便携的解决方案，但您始终可以调用 shell：

```
`cp file1 file2`; 
```

# tsql - 如何根据序列从其他表更新？

> ID：15195970
> 
> 赞同：0
> 
> 时间：2013-03-04T06:42:40.200
> 
> 标签：tsql, sql-server-2005

我设法得到了这个： [如何在 TSQL 中获取第一列的条目结尾？](https://stackoverflow.com/questions/15195154/how-to-get-the-end-of-entry-of-the-first-column-in-tsql)

更新后的数据如下，并设法获得最后一条记录并更新。

```
Service; Sequence; EndSequence  
A, 2089697; 2089737
B, 2089738; 2089837
C, 2089838; 2090367
D, 2090368; 2090399
E, 2090400; 2090500 
```

现在我想根据 ID 上的序列开始和结束开始来更新具有百万条记录的主表。我可以通过光标来做到这一点，但我更喜欢通过普通查询。

顺便说一句，我正在使用 SQL 2005。

Master表如下：

```
ID; Value; Service
2089697; 23; null
...
2090500; 12; null 
```

所以结果将是：

```
ID; Value; Service
2089697; 23; A
... 
2089737; 45; A
2089738; 45; B
...
2089837; 34; B 
2089838; 23; C
... 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T07:03:26.670

这里不止一个选项。

1.  相关子查询：

    ```
    UPDATE MasterTable
    SET Service = (
      SELECT s.Service
      FROM SequenceTable s
      WHERE MasterTable.ID BETWEEN s.Sequence AND s.EndSequence
    )
    WHERE Service IS NULL
    ; 
    ```

2.  内部联接：

    ```
    UPDATE MasterTable
    SET Service = s.Service
    FROM SequenceTable s
    WHERE MasterTable.Service IS NULL
      AND MasterTable.ID BETWEEN s.Sequence AND s.EndSequence
    ; 
    ```

    替代语法：

    ```
    UPDATE m
    SET Service = s.Service
    FROM MasterTable m
    INNER JOIN SequenceTable s
      ON m.ID BETWEEN s.Sequence AND s.EndSequence
    WHERE m.Service IS NULL
    ; 
    ```

这两个选项都假定 中的范围`SequenceTable`不重叠。

# java - 我应该如何在 Eclipse 中向 android 个人词典添加单词？

> ID：15195971
> 
> 赞同：1
> 
> 时间：2013-03-04T06:42:45.273
> 
> 标签：java, android, eclipse

我是新来的，这是我在这里的第一篇文章。我想知道如何在 android 的个人词典中添加一些单词我知道方法是 user.Dictionary 。但我不知道如何使用请帮我解决这个问题，感谢您的回答提前谢谢:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T06:48:02.640

您不能以编程方式将单词添加到用户词典。只有用户可以在他/她的设备上添加这些词。您只能通过[UserDictionary](http://developer.android.com/reference/android/provider/UserDictionary.html)提供程序访问这些单词。

# android - 在操作栏中找不到资源

> ID：15195974
> 
> 赞同：0
> 
> 时间：2013-03-04T06:42:57.997
> 
> 标签：android, view, actionbarsherlock, android-resources

我有一个案例，我的应用程序在一两天后在下一行给出 ResourceNotFoundException 后崩溃。但是当我现在或几分钟后运行时它不会崩溃。只有在一天过去后我才得到这个异常

```
oItem.setActionView(R.layout.actionbar_indeterminate_progress); In oncreateoptionsMenu function 
```

下面是我的崩溃日志

```
03-04 12:00:18.367: E/AndroidRuntime(15535): FATAL EXCEPTION: main
03-04 12:00:18.367: E/AndroidRuntime(15535): android.content.res.Resources$NotFoundException: Resource ID #0x7f030018
03-04 12:00:18.367: E/AndroidRuntime(15535):    at android.content.res.Resources.getValue(Resources.java:892)
03-04 12:00:18.367: E/AndroidRuntime(15535):    at android.content.res.Resources.loadXmlResourceParser(Resources.java:1869)
03-04 12:00:18.367: E/AndroidRuntime(15535):    at android.content.res.Resources.getLayout(Resources.java:731)
03-04 12:00:18.367: E/AndroidRuntime(15535):    at android.view.LayoutInflater.inflate(LayoutInflater.java:318)
03-04 12:00:18.367: E/AndroidRuntime(15535):    at com.actionbarsherlock.internal.view.menu.MenuItemImpl.setActionView(MenuItemImpl.java:565)
03-04 12:00:18.367: E/AndroidRuntime(15535):    at com.qz.XXX.XXXX.onCreateOptionsMenu(xxxx.java:202)
03-04 12:00:18.367: E/AndroidRuntime(15535):    at android.support.v4.app.Watson.onCreatePanelMenu(Watson.java:45)
03-04 12:00:18.367: E/AndroidRuntime(15535):    at com.actionbarsherlock.ActionBarSherlock.callbackCreateOptionsMenu(ActionBarSherlock.java:559)
03-04 12:00:18.367: E/AndroidRuntime(15535):    at com.actionbarsherlock.internal.ActionBarSherlockCompat.preparePanel(ActionBarSherlockCompat.java:479)
03-04 12:00:18.367: E/AndroidRuntime(15535):    at com.actionbarsherlock.internal.ActionBarSherlockCompat.dispatchInvalidateOptionsMenu(ActionBarSherlockCompat.java:272)
03-04 12:00:18.367: E/AndroidRuntime(15535):    at com.actionbarsherlock.internal.ActionBarSherlockCompat$1.run(ActionBarSherlockCompat.java:984)
03-04 12:00:18.367: E/AndroidRuntime(15535):    at android.os.Handler.handleCallback(Handler.java:587)
03-04 12:00:18.367: E/AndroidRuntime(15535):    at android.os.Handler.dispatchMessage(Handler.java:92)
03-04 12:00:18.367: E/AndroidRuntime(15535):    at android.os.Looper.loop(Looper.java:130)
03-04 12:00:18.367: E/AndroidRuntime(15535):    at android.app.ActivityThread.main(ActivityThread.java:3687)
03-04 12:00:18.367: E/AndroidRuntime(15535):    at java.lang.reflect.Method.invokeNative(Native Method)
03-04 12:00:18.367: E/AndroidRuntime(15535):    at java.lang.reflect.Method.invoke(Method.java:507)
03-04 12:00:18.367: E/AndroidRuntime(15535):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)
03-04 12:00:18.367: E/AndroidRuntime(15535):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:625)
03-04 12:00:18.367: E/AndroidRuntime(15535):    at dalvik.system.NativeStart.main(Native Method) 
```

# python - 替换字符串中的四个字母单词

> ID：15195976
> 
> 赞同：0
> 
> 时间：2013-03-04T06:43:12.680
> 
> 标签：python

我正在尝试编写一个从一个文件读取输入的代码，用“xxxx”替换所有四个字母的单词，然后将其写入另一个文件。我知道这个问题已经出现在网站上，我已经用谷歌搜索了其他问题，但它们都是一样的。我也玩过代码，但仍然无法找到解决方案。

```
def censor(filename):
    'string ==> None, creates file censored.txt in current folder with all 4 letter words replaces with string xxxx'
    import string
    infile = open(filename,'r')
    infile2 = open('censored.txt','w')
    for word in infile:
        words = word.split()
        for i, word in enumerate(words):
            words.strip(string.punctuation)
            if len(word) == 4:
                words[i] == 'xxxx'
                infile2.write(words[i]) 
```

我知道这只是一堆不起作用的代码，但我认为发布任何内容都是值得的。我有一个想法，从文本中删除标点符号，这样它就不会将某些 4 个字母的单词算作 5 个带有标点符号的单词，将单词拆分成一个列表以更改四个字母的单词，然后将它们按原始顺序重新组合在一起，只是替换了单词。所以“我喜欢工作”。最终会是“我 xxxx 到 xxxx”。

我还查看了该站点上的另一个类似帖子，并找到了一个可行的解决方案，但没有解决标点符号问题。

```
def maybe_replace(word, length=4):
    if len(word) == length:
        return 'xxxx'
    else:
        return word

def replacement(filename):
    infile = open(filename,'r')
    outfile = open('censored.txt','w')
    for line in infile:
        words = line.split()
        newWords = [maybe_replace(word) for word in words]
        newLine = ' '.join(newWords)
        outfile.write(newLine + '\n')
    outfile.close()
    infile.close() 
```

所以在这种情况下，如果我有一个单词列表，例如“Frog, boot, cat, dog”。它会返回“Frog, boot, xxxx xxxx”

我还找到了另一个使用正则表达式的解决方案，但我还是个新手，真的无法理解那个解决方案。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-04T06:53:10.043

正则表达式解决方案非常简单：

```
import re

text = """
    I also found another solution using 
    regex, but I'm still a novice and 
    really can't understand that solution. 
    Any help would be appreciated.
"""

print re.sub(r'\b\w{4}\b', 'xxxx', text) 
```

正则表达式匹配：

*   `\b`，这是一个单词边界。它匹配单词的开头或结尾。
*   `\w{4}`匹配四个单词字符（、`a-z`或`A-Z`）。`0-9``_`
*   `\b`是另一个词边界。

输出是：

```
I xxxx found another solution using 
regex, but I'm still a novice and 
really can't understand xxxx solution. 
Any xxxx would be appreciated. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T06:55:54.637

您的第二段代码有问题`words = line.split()`。默认情况下，它会在空格上拆分，因此“，”被视为您单词的一部分。

如果你真的不想接触正则表达式，这是我的建议（仍然涉及一点正则表达式）：

```
import re
words = re.split('[\W]+', line) 
```

这要求 python 在非字母数字字符上拆分行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T06:59:28.367

我们有我的答案！:)

```
import string as s
alfanum = s.ascii_letters + s.digits

def maybe_replace(arg, length=4):
    word = ""
    for t in arg: word += t if t in alfanum else ""

    if len(word) == length: 
        if len(arg)>4: return 'xxxx'+arg[4:]
        else: return 'xxxx'
    else: 
      return arg

text = "Frog! boot, cat, dog. bye, bye!"
words = text.split()
print words
print [maybe_replace(word) for word in words]

>>> ['Frog!', 'boot,', 'cat,', 'dog.', 'bye,', 'bye!']
>>> ['xxxx!', 'xxxx,', 'cat,', 'dog.', 'bye,', 'bye!'] 
```

# jquery - 手风琴内容面板

> ID：15195978
> 
> 赞同：0
> 
> 时间：2013-03-04T06:43:17.623
> 
> 标签：jquery

所有，请原谅我是 jquery ui 的新手，我有一个关于 api 手风琴的问题。在阅读了[手风琴 api](http://api.jqueryui.com/accordion/)之后。`p`我发现它并没有告诉我更多关于什么是内容面板。经过测试，我发现`div`html 元素可能是内容面板。但我不确定哪个更好。无论如何，任何其他元素可能是它？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T06:48:52.163

您只需使用 jquery 或 jquery ui 选择器来选择合适的元素。示例：`$( ".selector" )`。当然，任何元素都可以是您的内容面板，使用哪个元素取决于您。大多数人使用“div”表示手风琴，但这不是必需的，您可以使用您喜欢的元素。

# git - 如何排除要推送的文件

> ID：15195984
> 
> 赞同：8
> 
> 时间：2013-03-04T06:44:19.517
> 
> 标签：git, version-control

我有带有 git 和本地开发机器的远程服务器。我不需要从服务器上的工作目录中发送一些文件，而是将其保留在本地 git 的版本控制中。假设我的本地开发机器上有以下文件。

```
assets
   |-css
   |-js
compiles
   -css
   -js
index.html 
```

所有文件都在版本控制中，但是当我需要推送时，我不希望它用于“资产”文件夹。我怎样才能做到这一点？

**编辑：** 让我解释一下情况。我是一个单一的开发人员，我将我的aseets文件连接并最小化到编译文件夹中。所以我不需要推送资产文件夹，因为生产代码使用编译。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-04T06:54:00.143

简单的答案是**不，当您将 repo 从 local 推送到 remote 时，您不能在给定分支上拥有不同的文件集**。

像其他人提到的那样，您应该能够使用将目录完全`.gitignore`排除在`assets`版本控制之外（在本地和远程存储库上）：

```
# Your repo's .gitignore
/assets/* 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2018-08-06T16:05:40.757

我找到了2个答案：

1.  对于一些文件：
    `git update-index --assume-unchanged FILE`

2.  信用：[hackernoon.com](https://hackernoon.com/exclude-files-from-git-without-committing-changes-to-gitignore-986fa712e78d?gi=69b1c04f5648)

可以将文件或文件夹添加到 : 中，而不是使用 .gitignore 将其从所有版本控制中删除`.git/info/exclude`。

如果想将所有 repo 从 repo 拉到本地或另一台服务器（如登台），则可以制作另一个本地克隆，但没有本地`/exclude`，因此它将抓取所有内容。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-04T06:49:22.180

您可以编辑`.gitignore`. 如果您只想在本地工作。你可以`.git/info/exclude`这样编辑

.git/信息/排除

```
# git ls-files --others --exclude-from=.git/info/exclude
# Lines that start with '#' are comments.
# For a project mostly in C, the following would be a good set of
# exclude patterns (uncomment them if you want to use them):
# *.[oa]
# *~
./assets/* 
```

或者

.gitignore

```
./assets/* 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-04T06:47:37.400

您可以使用 .gitignore 选择您不想将其推送到 git 服务器的内容。

只需放入`.gitignore`您的根文件夹并添加`./assets/*`到此文件中。

您可以查看[https://help.github.com/articles/ignoring-files](https://help.github.com/articles/ignoring-files)了解更多信息

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-05-25T05:56:13.810

在我看来，这个案例可以分为两个git项目：1.assets 2.others

# asp.net - 网格视图不显示响应

> ID：15195985
> 
> 赞同：1
> 
> 时间：2013-03-04T06:44:21.640
> 
> 标签：asp.net, css, gridview, responsive-design

我正在制作一个具有母版页和内容页**的响应式网站。**

它适用于带有基本 asp.net 控件（如文本框、复选框和按钮）的页面。

但它**不适用于网格视图有界的页面**。

下面是我添加到母版页和所有 aspx 页面的代码：

```
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="HandheldFriendly" content="true"> 
```

以下是我在样式表中添加的代码：

```
#main { width: auto; margin: auto;} 
```

以下是**未显示响应性的数据网格**的快照：

在缩放浏览器窗口之前：

![在缩放浏览器窗口之前](../Images/4d7fd6d0f6a77f540d7fb5789484b72c.png)

缩放浏览器窗口后： ![缩放浏览器窗口后](../Images/db8067f2855e4a92221f525a35fbe8ab.png)

我需要进行更多更改还是必须添加更多样式表？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T12:26:21.640

我想知道您采取了哪些步骤来使 gridview 表在窄屏幕上正常工作？

看看这两个链接是否有帮助：
[how to add responsive behavior to gridview](http://bit.ly/WG7gND)
[jQuery responsive table plugin](http://bit.ly/WG7sfX)

祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T07:11:15.180

试试这个

```
#main 
{ 
 width: 960px; 
 margin:0 auto;
 overflow:auto;
} 
```

# magento - Magento 购物车价格规则

> ID：15195988
> 
> 赞同：1
> 
> 时间：2013-03-04T06:44:35.123
> 
> 标签：magento, cart, shopping, magento-rules

出于好奇，我在这里发布这个问题。

任何人都可以了解一下**购物车规则**下**条件与操作的区别吗？**

我可以使用动作制定任何规则，那么条件的用途是什么以及在什么情况下使用它？

**此外，如果我创建一个包含优惠券代码和金额的规则并在其中使用 Action，我可以在我的产品详细信息页面上显示该优惠券代码吗？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T09:40:09.037

```
Condition = What are the condition to enable the rules 
```

和

```
Action = On which product do you apply the rules. 
```

例如，如果您的规则是 productA 获得 10% 的折扣

条件 = 无条件，此规则始终适用

如果 SKU 是 productA，则操作 = 10%

示例 2 如果您的规则是 productA 仅当您的购物车中至少有 3 个 productB 时才获得 10%

条件 = productB 的购物车中的数量大于 2

Action = 10% is SKU is productA

折扣仅适用于 productA，但有条件应用此折扣（购物车中有 3 个 productB 或更多）。

# oracle - 在 Dash 之前删除字符

> ID：15195995
> 
> 赞同：2
> 
> 时间：2013-03-04T06:45:18.750
> 
> 标签：oracle

我要从破折号 (-) 前后的字符串中提取字符。到目前为止，我能够使用下面的代码返回破折号之前的所有数字：

```
SELECT 
INSTR('100-7', '-'),
SUBSTR('100-7', 1, INSTR('100-7', '-')-1)
FROM dual; 
```

现在我正在尝试找到一种方法来返回破折号后的所有字符。所以如果我有一个字符串：

```
20-150 
```

查询应该只返回 150。无论如何我可以做到这一点吗？顺便说一句，我正在使用 Oracle。多谢你们 ：）

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-04T06:49:54.283

这将在破折号后返回所有内容

```
SELECT SUBSTR(value, INSTR(value, '-')+1) invalue
  FROM (SELECT '20-150' value FROM dual) t; 
```

输出：

```
| INVALUE |
-----------
|     150 | 
```

[sqlfiddle](http://sqlfiddle.com/#!4/d41d8/8331)

并将两者放在一起

```
SELECT SUBSTR(value, 1, INSTR(value, '-') - 1) lvalue, 
       SUBSTR(value, INSTR(value, '-') + 1) rvalue
  FROM (SELECT '20-150' value FROM dual) t; 
```

输出：

```
| LVALUE | RVALUE |
-------------------
|     20 |    150 | 
```

[sqlfiddle](http://sqlfiddle.com/#!4/d41d8/8334)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-04T06:52:26.053

使用`REGEXP_REPLACE`：

```
SELECT REGEXP_REPLACE('20-150','(.*)-','') 
FROM dual; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T11:46:52.993

使用 REGEXP_SUBSTR ：

```
SELECT REGEXP_SUBSTR ('20-15055555555', '[^-]+', 1, 2) rep
  FROM DUAL; 
```

你可以试试这个

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2020-08-13T08:35:09.220

查询应该是这样的。

```
select substr('P_A_VA1234_1_EE',(INSTR('P_A_VA1234_1_EE','_',1,2)+1),(INSTR('P_A_VA1234_1_EE','_',1,4)-(INSTR('P_A_VA1234_1_EE','_',1,2)+1)))original from dual

select substr(shipment_gid,(INSTR(shipment_gid,'_',1,2)+1),(INSTR(shipment_gid,'_',1,4)-(INSTR(shipment_gid,'_',1,2)+1)))original from dual

SUBSTR(S.SHIPMENT_GID,8,8) LOADID,

select substr(shipment_gid,(INSTR(shipment_gid,'_',1,2)+1),(INSTR(shipment_gid,'_',1,4)-(INSTR(shipment_gid,'_',1,2)+1)))load,shipment_gid from shipment where shipment_gid like '%DHL/CLS.CLS_CV_%';

SUBSTR(S.SHIPMENT_GID,(INSTR(S.SHIPMENT_GID,'_',1,2)+1),(INSTR(S.SHIPMENT_GID,'_',1,4)-(INSTR(S.SHIPMENT_GID,'_',1,2)+1))) 
```

# ios - iOS：在旧 iOS SDK 中使用来自新 SDK 的常量

> ID：15195996
> 
> 赞同：0
> 
> 时间：2013-03-04T06:45:21.003
> 
> 标签：ios, objective-c, ios5, ios6

我想使用一个常量（来自 ImageIO 框架的 kCGImagePropertyExifLensMake）。此常量从 iOS 6 开始可用。当我使用此常量并在 iOS 5 设备上运行项目时，它会崩溃：

```
dyld: Symbol not found: _kCGImagePropertyExifLensMake 
```

即使代码没有被执行，只要在项目的任何地方包含常量就足以使应用程序崩溃。因此，在运行时检查 iOS 版本无济于事。

如何在我的项目中包含这个常量，以便我可以在 iOS 6 设备上使用它而不会在 iOS 5 上崩溃应用程序？

问候，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T07:14:17.933

对我来说，这似乎是 ImageIO 框架中的一个错误（或文档错误）。

根据[文档](http://developer.apple.com/library/ios/#documentation/GraphicsImaging/Reference/CGImageProperties_Reference/Reference/reference.html#//apple_ref/doc/uid/TP40005103-CH3g-SW4)，`kCGImagePropertyExifLensMake`在 iOS 4.3 及更高版本中可用。

根据

```
IMAGEIO_EXTERN const CFStringRef kCGImagePropertyExifLensMake  IMAGEIO_AVAILABLE_STARTING(__MAC_10_7, __IPHONE_5_0); 
```

在`CGImageProperties.h`，它在 iOS 5.0 及更高版本中可用。

但是，如果您检查 ImageIO 框架的符号

```
$ nm /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator5.1.sdk/System/Library/Frameworks/ImageIO.framework/ImageIO | grep kCGImagePropertyExifLensMake

0026a59c s _kCGImagePropertyExifLensMake 
```

小写的“s”表示该符号是本地的，而不是导出的。

作为一种解决方法，您可以添加

```
const CFStringRef kCGImagePropertyExifLensMake = CFSTR("LensMake"); 
```

在你的应用程序的某个地方，然后它可以在 iOS 5 和 6 上运行。